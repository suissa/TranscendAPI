const a0_0x42e86b=a0_0x3fb2;(function(_0x245aca,_0x18bd4f){const _0x20742b=a0_0x3fb2,_0x1636ff=_0x245aca();while(!![]){try{const _0x599ef0=-parseInt(_0x20742b(0x6c9))/0x1*(-parseInt(_0x20742b(0x223))/0x2)+parseInt(_0x20742b(0x7e8))/0x3*(-parseInt(_0x20742b(0x4bb))/0x4)+parseInt(_0x20742b(0x2d9))/0x5*(-parseInt(_0x20742b(0x475))/0x6)+-parseInt(_0x20742b(0x61d))/0x7*(-parseInt(_0x20742b(0x4a6))/0x8)+-parseInt(_0x20742b(0x357))/0x9*(-parseInt(_0x20742b(0x41f))/0xa)+-parseInt(_0x20742b(0x738))/0xb*(parseInt(_0x20742b(0x6f9))/0xc)+parseInt(_0x20742b(0x4f9))/0xd*(parseInt(_0x20742b(0x4be))/0xe);if(_0x599ef0===_0x18bd4f)break;else _0x1636ff['push'](_0x1636ff['shift']());}catch(_0x113de9){_0x1636ff['push'](_0x1636ff['shift']());}}}(a0_0x34f0,0x2774b));var Uo=Object[a0_0x42e86b(0x69f)],Ue=Object['defineProperty'],Jo=Object[a0_0x42e86b(0x80f)],qo=Object['getOwnPropertyNames'],Ho=Object['getPrototypeOf'],Vo=Object[a0_0x42e86b(0x31e)][a0_0x42e86b(0x253)],Go=(_0x1cdfa6,_0x5c1305)=>{for(var _0x44fd69 in _0x5c1305)Ue(_0x1cdfa6,_0x44fd69,{'get':_0x5c1305[_0x44fd69],'enumerable':!0x0});},qs=(_0x18f58a,_0x8f475a,_0x5897ea,_0x42cefb)=>{const _0x404c21=a0_0x42e86b;if(_0x8f475a&&typeof _0x8f475a==_0x404c21(0x387)||typeof _0x8f475a==_0x404c21(0x31b)){for(let _0x1baa14 of qo(_0x8f475a))!Vo[_0x404c21(0x4f5)](_0x18f58a,_0x1baa14)&&_0x1baa14!==_0x5897ea&&Ue(_0x18f58a,_0x1baa14,{'get':()=>_0x8f475a[_0x1baa14],'enumerable':!(_0x42cefb=Jo(_0x8f475a,_0x1baa14))||_0x42cefb[_0x404c21(0x258)]});}return _0x18f58a;},A=(_0x4872a0,_0x3bf1bf,_0x19793d)=>(_0x19793d=_0x4872a0!=null?Uo(Ho(_0x4872a0)):{},qs(_0x3bf1bf||!_0x4872a0||!_0x4872a0[a0_0x42e86b(0x5b4)]?Ue(_0x19793d,a0_0x42e86b(0x5d8),{'value':_0x4872a0,'enumerable':!0x0}):_0x19793d,_0x4872a0)),Bo=_0x2edefc=>qs(Ue({},a0_0x42e86b(0x5b4),{'value':!0x0}),_0x2edefc),ln={};Go(ln,{'subdomain':()=>ks}),module[a0_0x42e86b(0x6a5)]=Bo(ln);var Io=A(require(a0_0x42e86b(0x3fc))),Vs=require('fs'),Gs=require(a0_0x42e86b(0x578)),Bs=require('path'),Je=require(a0_0x42e86b(0x800)),ie=process['cwd'](),ye=(0x0,Je['join'])(ie,a0_0x42e86b(0x7c3)),Hs=(0x0,Je[a0_0x42e86b(0x468)])(ie,a0_0x42e86b(0x8f7)),tr=(0x0,Je[a0_0x42e86b(0x468)])(ie,a0_0x42e86b(0x7a2),a0_0x42e86b(0x3c2)),rs=class{constructor(){const _0x240c91=a0_0x42e86b;this[_0x240c91(0x2a9)]();}[a0_0x42e86b(0x6e5)](_0x433554){return this['env'][_0x433554];}['loadEnv'](){const _0x11e8d3=a0_0x42e86b;this['env']=process[_0x11e8d3(0x3d7)]?.['DOCKER_ENV']!==_0x11e8d3(0x30a)?this[_0x11e8d3(0x243)]():this[_0x11e8d3(0x487)](),process[_0x11e8d3(0x3d7)]?.[_0x11e8d3(0x2db)]===_0x11e8d3(0x30a)&&(this['env'][_0x11e8d3(0x4b3)][_0x11e8d3(0x374)]=_0x11e8d3(0x29c),this[_0x11e8d3(0x3d7)][_0x11e8d3(0x4b3)][_0x11e8d3(0x546)]=Number[_0x11e8d3(0x25a)](process[_0x11e8d3(0x3d7)]?.[_0x11e8d3(0x66d)]??_0x11e8d3(0x29e)));}[a0_0x42e86b(0x243)](){const _0x17a78c=a0_0x42e86b;return(0x0,Gs[_0x17a78c(0x639)])((0x0,Vs[_0x17a78c(0x4b7)])((0x0,Bs['join'])(Hs,'../env.yml'),{'encoding':_0x17a78c(0x6c5)}));}['envProcess'](){const _0x4a2eae=a0_0x42e86b;return{'SERVER':{'TYPE':process['env'][_0x4a2eae(0x8fc)],'PORT':Number[_0x4a2eae(0x25a)](process[_0x4a2eae(0x3d7)][_0x4a2eae(0x66d)]),'URL':process[_0x4a2eae(0x3d7)][_0x4a2eae(0x876)]},'CORS':{'ORIGIN':process[_0x4a2eae(0x3d7)]['CORS_ORIGIN'][_0x4a2eae(0x8a3)](','),'METHODS':process['env'][_0x4a2eae(0x6b3)][_0x4a2eae(0x8a3)](','),'CREDENTIALS':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x734)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x4a2eae(0x3d7)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x4ad)]},'STORE':{'CLEANING_INTERVAL':Number[_0x4a2eae(0x757)](process['env']?.[_0x4a2eae(0x4f8)])?Number[_0x4a2eae(0x25a)](process[_0x4a2eae(0x3d7)][_0x4a2eae(0x4f8)]):void 0x0,'MESSAGES':process['env']?.[_0x4a2eae(0x772)]===_0x4a2eae(0x30a),'CONTACTS':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x793)]===_0x4a2eae(0x30a),'CHATS':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x4d5)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x43f)],'PORT':Number[_0x4a2eae(0x25a)](process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x43f)]),'USER':process['env'][_0x4a2eae(0x524)],'PASSWORD':process[_0x4a2eae(0x3d7)][_0x4a2eae(0x3a9)],'URI':process['env'][_0x4a2eae(0x3d5)],'DB_PREFIX_NAME':process[_0x4a2eae(0x3d7)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x4a2eae(0x453)]===_0x4a2eae(0x30a)},'REDIS':{'ENABLED':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x713)]==='true','URI':process['env']['REDIS_URI']||_0x4a2eae(0x62e),'PREFIX_KEY':process[_0x4a2eae(0x3d7)][_0x4a2eae(0x477)]||'uazapi'},'LOG':{'LEVEL':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x8c1)][_0x4a2eae(0x8a3)](','),'COLOR':process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x263)]===_0x4a2eae(0x30a)},'PROXY':Number['parseInt'](process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x70a)]),'AUTHENTICATION':{'TYPE':process[_0x4a2eae(0x3d7)][_0x4a2eae(0x57b)],'API_KEY':{'KEY':process[_0x4a2eae(0x3d7)][_0x4a2eae(0x208)]},'JWT':{'EXPIRIN_IN':Number[_0x4a2eae(0x757)](process[_0x4a2eae(0x3d7)]?.[_0x4a2eae(0x519)])?Number['parseInt'](process['env'][_0x4a2eae(0x519)]):0xe10,'SECRET':process[_0x4a2eae(0x3d7)]['AUTHENTICATION_JWT_SECRET']}}};}},M=new rs(),_o=A(require('cors')),we=A(require(a0_0x42e86b(0x2d7))),Us=require(a0_0x42e86b(0x800)),cs=A(require('dayjs')),ls=(_0x4316a9=>(_0x4316a9[a0_0x42e86b(0x62d)]='\x1b[32m',_0x4316a9[a0_0x42e86b(0x6f0)]=a0_0x42e86b(0x295),_0x4316a9[a0_0x42e86b(0x24b)]=a0_0x42e86b(0x58f),_0x4316a9[a0_0x42e86b(0x3c7)]=a0_0x42e86b(0x36f),_0x4316a9[a0_0x42e86b(0x7a8)]=a0_0x42e86b(0x7be),_0x4316a9[a0_0x42e86b(0x89a)]=a0_0x42e86b(0x547),_0x4316a9[a0_0x42e86b(0x28e)]='\x1b[30m',_0x4316a9))(ls||{}),Ws=(_0x274298=>(_0x274298[a0_0x42e86b(0x62d)]=a0_0x42e86b(0x312),_0x274298[a0_0x42e86b(0x28e)]=a0_0x42e86b(0x767),_0x274298[a0_0x42e86b(0x6f0)]=a0_0x42e86b(0x481),_0x274298[a0_0x42e86b(0x24b)]='\x1b[33m%s\x1b[0m',_0x274298[a0_0x42e86b(0x3c7)]='\x1b[31m%s\x1b[0m',_0x274298[a0_0x42e86b(0x7a8)]=a0_0x42e86b(0x2f6),_0x274298[a0_0x42e86b(0x89a)]=a0_0x42e86b(0x4f4),_0x274298))(Ws||{}),zs=(_0x2e5f38=>(_0x2e5f38[a0_0x42e86b(0x62d)]=a0_0x42e86b(0x62d),_0x2e5f38[a0_0x42e86b(0x24b)]=a0_0x42e86b(0x24b),_0x2e5f38[a0_0x42e86b(0x6f0)]=a0_0x42e86b(0x6f0),_0x2e5f38[a0_0x42e86b(0x28e)]=a0_0x42e86b(0x28e),_0x2e5f38[a0_0x42e86b(0x3c7)]='ERROR',_0x2e5f38['DEBUG']=a0_0x42e86b(0x7a8),_0x2e5f38[a0_0x42e86b(0x89a)]=a0_0x42e86b(0x89a),_0x2e5f38))(zs||{}),Ks=(_0x180e90=>(_0x180e90[a0_0x42e86b(0x62d)]='\x1b[42m',_0x180e90[a0_0x42e86b(0x6f0)]=a0_0x42e86b(0x648),_0x180e90[a0_0x42e86b(0x24b)]=a0_0x42e86b(0x894),_0x180e90[a0_0x42e86b(0x28e)]=a0_0x42e86b(0x896),_0x180e90['ERROR']=a0_0x42e86b(0x7f8),_0x180e90['DEBUG']='\x1b[46m',_0x180e90[a0_0x42e86b(0x89a)]=a0_0x42e86b(0x5c3),_0x180e90))(Ks||{}),R=class{constructor(_0x1a569e=a0_0x42e86b(0x5c5)){const _0x1aad97=a0_0x42e86b;this[_0x1aad97(0x52c)]=_0x1a569e,this[_0x1aad97(0x8e3)]=M;}[a0_0x42e86b(0x66a)](_0x444e4){const _0x3ae6aa=a0_0x42e86b;this[_0x3ae6aa(0x52c)]=_0x444e4;}[a0_0x42e86b(0x62b)](_0x488ea9,_0x5c81c3){const _0x5efde5=a0_0x42e86b;let _0x32342e=[];this[_0x5efde5(0x8e3)]['get'](_0x5efde5(0x62d))[_0x5efde5(0x72b)][_0x5efde5(0x4ac)](_0x299dd=>_0x32342e[_0x5efde5(0x234)](zs[_0x299dd]));let _0x72b05e=typeof _0x488ea9;_0x32342e['includes'](_0x5c81c3)&&(M[_0x5efde5(0x6e5)]('LOG')[_0x5efde5(0x823)]?(console[_0x5efde5(0x247)](_0x5efde5(0x3a4)+Ws[_0x5c81c3],_0x5efde5(0x6db),(0x0,cs[_0x5efde5(0x5d8)])()[_0x5efde5(0x63e)](_0x5efde5(0x6e1)),_0x5efde5(0x2e4),ls[_0x5c81c3]+Ks[_0x5c81c3]+'\x1b[1m',_0x5c81c3+_0x5efde5(0x746),_0x5efde5(0x68d),this[_0x5efde5(0x52c)]+_0x5efde5(0x2e4),ls[_0x5c81c3],_0x72b05e!=='object'?_0x488ea9:'',_0x5efde5(0x2e4)),_0x72b05e===_0x5efde5(0x387)&&console[_0x5efde5(0x247)](_0x488ea9,'\x0a')):console[_0x5efde5(0x247)]((0x0,cs[_0x5efde5(0x5d8)])()[_0x5efde5(0x63e)](_0x5efde5(0x65d)),_0x5c81c3+'\x20',''+this[_0x5efde5(0x52c)],_0x488ea9));}[a0_0x42e86b(0x247)](_0x444a39){const _0x4f6d59=a0_0x42e86b;this[_0x4f6d59(0x62b)](_0x444a39,'LOG');}['info'](_0x3a07b7){const _0x3467ca=a0_0x42e86b;this[_0x3467ca(0x62b)](_0x3a07b7,_0x3467ca(0x6f0));}[a0_0x42e86b(0x275)](_0x435e80){const _0x4bea78=a0_0x42e86b;this[_0x4bea78(0x62b)](_0x435e80,_0x4bea78(0x24b));}[a0_0x42e86b(0x690)](_0x3d57f6){const _0x5c8f8e=a0_0x42e86b;this[_0x5c8f8e(0x62b)](_0x3d57f6,_0x5c8f8e(0x3c7));}[a0_0x42e86b(0x3f4)](_0x90262e){const _0x1919d5=a0_0x42e86b;this[_0x1919d5(0x62b)](_0x90262e,_0x1919d5(0x89a));}[a0_0x42e86b(0x7cb)](_0xb8de65){const _0x5afa37=a0_0x42e86b;this[_0x5afa37(0x62b)](_0xb8de65,'DEBUG');}[a0_0x42e86b(0x5a2)](_0x15700e){const _0x7894cb=a0_0x42e86b;this['console'](_0x15700e,_0x7894cb(0x28e));}};function Qs(){const _0x4ba317=a0_0x42e86b;process['on'](_0x4ba317(0x799),(_0x1283aa,_0x19beb5)=>{const _0x15b7ba=_0x4ba317;new R(_0x15b7ba(0x799))[_0x15b7ba(0x690)]({'origin':_0x19beb5,'stderr':process['stderr']['fd'],'error':_0x1283aa});}),process['on'](_0x4ba317(0x768),(_0x386bc2,_0x15e809)=>{const _0x1d9a3c=_0x4ba317;new R(_0x1d9a3c(0x768))[_0x1d9a3c(0x690)]({'origin':_0x15e809,'stderr':process['stderr']['fd'],'error':_0x386bc2});});}var Ys=A(require('eventemitter2')),us=new Ys[(a0_0x42e86b(0x5d8))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x42e86b(0x865)),ve=A(require(a0_0x42e86b(0x865))),qe=new R(a0_0x42e86b(0x2c2)),F=M[a0_0x42e86b(0x6e5)](a0_0x42e86b(0x30d)),D=F[a0_0x42e86b(0x625)]?F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x8d5)]?ve[a0_0x42e86b(0x5d8)][a0_0x42e86b(0x4e5)](F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x8d5)],{'dbName':F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x42d)]+'-whatsapp-api'}):ve[a0_0x42e86b(0x5d8)][a0_0x42e86b(0x4e5)](a0_0x42e86b(0x802)+F['CONNECTION']['HOST']+':'+F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x546)]+a0_0x42e86b(0x88d),{'user':F[a0_0x42e86b(0x86c)]['USER'],'pass':F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x7a3)],'dbName':F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x42d)]+a0_0x42e86b(0x4fc)}):null;F[a0_0x42e86b(0x625)]&&qe[a0_0x42e86b(0x2d4)](a0_0x42e86b(0x51a)+D[a0_0x42e86b(0x785)]);var be=F[a0_0x42e86b(0x625)]?F['CONNECTION']['URI']?ve[a0_0x42e86b(0x5d8)][a0_0x42e86b(0x4e5)](F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x8d5)],{'dbName':a0_0x42e86b(0x810)}):ve['default']['createConnection']('mongodb://'+F['CONNECTION'][a0_0x42e86b(0x328)]+':'+F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x546)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x806)],'pass':F[a0_0x42e86b(0x86c)][a0_0x42e86b(0x7a3)],'dbName':'cachedContacts-whatsapp'}):null;function a0_0x3fb2(_0x1afd10,_0x56546f){const _0x34f04a=a0_0x34f0();return a0_0x3fb2=function(_0x3fb275,_0x48da6a){_0x3fb275=_0x3fb275-0x1f2;let _0x1aefbc=_0x34f04a[_0x3fb275];return _0x1aefbc;},a0_0x3fb2(_0x1afd10,_0x56546f);}be&&qe['info'](a0_0x42e86b(0x51a)+be[a0_0x42e86b(0x785)]),process['on'](a0_0x42e86b(0x28d),()=>{D&&D['close'](()=>{const _0x38d92a=a0_0x3fb2;qe[_0x38d92a(0x2d4)](_0x38d92a(0x2cd));}),be&&be['close'](()=>{const _0xa14bc1=a0_0x3fb2;qe[_0xa14bc1(0x2d4)](_0xa14bc1(0x292));});});var Wo=new Se[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),zo=new Se[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Ko=new Se['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Qo=new Se['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Wo],'default':[]}},{'_id':!0x1}),Yo=new Se[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Qo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':zo},'groupdata':{'type':Ko,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Xs=_0x764775=>{const _0x2dc8e4=a0_0x42e86b;let _0xdd5c2a='z_'+_0x764775+_0x2dc8e4(0x901);return D?.[_0x2dc8e4(0x353)](_0x2dc8e4(0x58a),Yo,_0xdd5c2a);},Zs=require(a0_0x42e86b(0x865)),Xo=new Zs[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=_0x1c87eb=>{const _0x54fa8d=a0_0x42e86b;let _0x165d30='z_'+_0x1c87eb+_0x54fa8d(0x711);return D?.[_0x54fa8d(0x353)](_0x54fa8d(0x511),Xo,_0x165d30);},ta=require('mongoose'),ds=class{},Zo=new ta[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),sa=be?.[a0_0x42e86b(0x353)](ds[a0_0x42e86b(0x2ea)],Zo,a0_0x42e86b(0x781)),aa=require(a0_0x42e86b(0x865)),ei=new aa[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),oa=_0x302113=>{const _0x2282a6=a0_0x42e86b;let _0x5a8f78='z_'+_0x302113+_0x2282a6(0x847);return D?.[_0x2282a6(0x353)](_0x2282a6(0x86d),ei,_0x5a8f78);},ia=require(a0_0x42e86b(0x865)),ps=class{},ti=new ia[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),na=D?.['model'](ps[a0_0x42e86b(0x2ea)],ti,'authentication'),ra=require(a0_0x42e86b(0x865)),ms=class{},ca=new ra[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ca[a0_0x42e86b(0x507)](a0_0x42e86b(0x75a),function(_0x21fea0){const _0x35412c=a0_0x42e86b;delete this['flowActive'],delete this[_0x35412c(0x37b)],delete this[_0x35412c(0x5e1)],delete this[_0x35412c(0x43a)],delete this[_0x35412c(0x8aa)],_0x21fea0();});var la=D?.['model'](ms[a0_0x42e86b(0x2ea)],ca,a0_0x42e86b(0x210)),_=require(a0_0x42e86b(0x865)),hs=require(a0_0x42e86b(0x874)),He=class{},ua=new _[(a0_0x42e86b(0x754))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),si=new _[(a0_0x42e86b(0x754))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x42e86b(0x7ce)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x42e86b(0x77f)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x42e86b(0x240)},'pollErrorMessage':{'type':String,'default':a0_0x42e86b(0x597)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new _[(a0_0x42e86b(0x754))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ai=new _[(a0_0x42e86b(0x754))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ys=new _[(a0_0x42e86b(0x754))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ii=new _[(a0_0x42e86b(0x754))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),pa=new _[(a0_0x42e86b(0x754))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':si},'apirequest':ai,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ii,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ma=new _[(a0_0x42e86b(0x754))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),fs=class{},bs=new _[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[ys],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ma],'replyOptions':{'type':[gs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x51cc58=a0_0x42e86b;return _0x51cc58(0x882)+Math[_0x51cc58(0x898)]()[_0x51cc58(0x53e)](0x24)[_0x51cc58(0x241)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,hs['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,hs['v4'])()},'shareOwners':{'type':[String],'default':[]}});bs[a0_0x42e86b(0x507)]('findOneAndUpdate',function(_0x588690){const _0x5d0a6b=a0_0x42e86b;let _0x46d1bc=this[_0x5d0a6b(0x2ee)]();if(_0x46d1bc&&typeof _0x46d1bc==_0x5d0a6b(0x387)&&_0x5d0a6b(0x207)in _0x46d1bc){let _0x17c49e=_0x46d1bc[_0x5d0a6b(0x207)];if(_0x17c49e){let _0x4e3d4f=new Set(),_0x19291d=new Set(_0x17c49e[_0x5d0a6b(0x261)]?.[_0x5d0a6b(0x57c)](_0xa0aad1=>_0xa0aad1[_0x5d0a6b(0x2ea)])),_0x20f921=JSON[_0x5d0a6b(0x5b1)](_0x17c49e),_0x311030=/{{(?!_)([^}]*)}}/g,_0x417151;for(;(_0x417151=_0x311030[_0x5d0a6b(0x4f6)](_0x20f921))!==null;)_0x19291d[_0x5d0a6b(0x63c)](_0x417151[0x1])||_0x4e3d4f['add'](_0x417151[0x1]);_0x4e3d4f[_0x5d0a6b(0x770)]>0x0?(console[_0x5d0a6b(0x275)](_0x5d0a6b(0x8b7),Array[_0x5d0a6b(0x7c1)](_0x4e3d4f)),_0x17c49e[_0x5d0a6b(0x56b)]=Array[_0x5d0a6b(0x7c1)](_0x4e3d4f)):_0x17c49e['variablesNotFound']=[],this[_0x5d0a6b(0x3e9)]({'$set':_0x17c49e});}}_0x588690();});var Ss=_0x2060f5=>{const _0x4c37f8=a0_0x42e86b;let _0x1167a8='z_'+_0x2060f5+_0x4c37f8(0x3bb);return D?.[_0x4c37f8(0x353)]('FlowModel',bs,_0x1167a8);},de=D?.[a0_0x42e86b(0x353)](fs[a0_0x42e86b(0x2ea)],bs,a0_0x42e86b(0x32a)),ni=new _[(a0_0x42e86b(0x754))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ys],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),ri=new _[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ys],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ma],'replyOptions':{'type':[gs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x42e86b(0x7a1)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x42e86b(0x240)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),ha=_0x211daf=>{const _0x42284e=a0_0x42e86b;let _0x4bf6b9='z_'+_0x211daf+_0x42284e(0x27d);return D?.['model']('ConversationModel',ri,_0x4bf6b9);},ci=new _[(a0_0x42e86b(0x754))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ui=new _[(a0_0x42e86b(0x754))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x42e86b(0x2f7)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x35c4fc=>{const _0x4d0ad3=a0_0x42e86b;let _0x5569d7='z_'+_0x35c4fc+_0x4d0ad3(0x697);return D?.[_0x4d0ad3(0x353)](_0x4d0ad3(0x276),ui,_0x5569d7);},ws=class{},di=new _[(a0_0x42e86b(0x754))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),pi=new _['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),mi=new _[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),hi=new _[(a0_0x42e86b(0x754))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x42e86b(0x603)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),gi=new _[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),fi=new _[(a0_0x42e86b(0x754))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[gi]},'customFields':{'type':[mi]},'flowConfig':{'type':hi,'default':{}},'flows':{'type':[pi],'default':[]},'autoCompleteMessages':{'type':[di],'default':[]}}),Ne=D?.[a0_0x42e86b(0x353)](ws[a0_0x42e86b(0x2ea)],fi,a0_0x42e86b(0x3cb)),fa=require(a0_0x42e86b(0x865)),wi=new fa[(a0_0x42e86b(0x754))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),wa=_0x36ebaa=>{const _0xa13d15=a0_0x42e86b;let _0x336499='z_'+_0x36ebaa+_0xa13d15(0x235);return D?.[_0xa13d15(0x353)](_0xa13d15(0x36e),wi,_0x336499);},I=class{constructor(_0x53d39f){const _0x4c7bc5=a0_0x42e86b;this[_0x4c7bc5(0x383)]=_0x53d39f[_0x4c7bc5(0x6e5)](_0x4c7bc5(0x30d));}};function O(_0x26a9cd){const _0xef7d14=a0_0x42e86b;let _0x51660a={};for(let [_0x276a2a,_0x37f9b0]of Object[_0xef7d14(0x22f)](_0x26a9cd))if(typeof _0x37f9b0=='object'&&!Array[_0xef7d14(0x8f8)](_0x37f9b0)){for(let [_0x1f18db,_0x144d6e]of Object['entries'](_0x37f9b0))_0x51660a[_0x276a2a+'.'+_0x1f18db]=_0x144d6e;}else _0x51660a[_0x276a2a]=_0x37f9b0;return _0x51660a;}var Ve=class{constructor(_0x50976a,_0x5b05fa,_0x45e779,_0x4d19d5,_0x561319,_0x2d1e56,_0x37938f,_0x348330,_0x3e71f0,_0x2e84b6,_0x31ff6a,_0x1b23ee){const _0x3fd541=a0_0x42e86b;this[_0x3fd541(0x64b)]=_0x50976a,this[_0x3fd541(0x21e)]=_0x5b05fa,this[_0x3fd541(0x675)]=_0x45e779,this[_0x3fd541(0x7c5)]=_0x4d19d5,this[_0x3fd541(0x210)]=_0x561319,this['auth']=_0x2d1e56,this['flow']=_0x37938f,this[_0x3fd541(0x2e9)]=_0x348330,this[_0x3fd541(0x644)]=_0x3e71f0,this[_0x3fd541(0x398)]=_0x2e84b6,this[_0x3fd541(0x628)]=_0x31ff6a,this[_0x3fd541(0x2da)]=_0x1b23ee;}get['dbServer'](){const _0x217453=a0_0x42e86b;return this[_0x217453(0x2da)];}},Ge=class{},Be=class extends I{[a0_0x42e86b(0x816)](_0x4caf60){return oa(_0x4caf60);}async[a0_0x42e86b(0x8dd)](_0xa77bbb,_0x289684){const _0x35347c=a0_0x42e86b;if(_0xa77bbb[_0x35347c(0x40e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x35347c(0x816)](_0x289684)['insertMany']([..._0xa77bbb]))[_0x35347c(0x40e)]};}catch(_0x704832){return _0x704832;}}async[a0_0x42e86b(0x2a1)](_0x30c3ce,_0x383654){const _0x33fe89=a0_0x42e86b;try{let _0x11d1bc=this[_0x33fe89(0x816)](_0x383654),_0x579acc=O(_0x30c3ce['where']);return await _0x11d1bc[_0x33fe89(0x2a1)](_0x579acc)[_0x33fe89(0x397)]({'messageTimestamp':-0x1})['limit'](_0x30c3ce?.[_0x33fe89(0x7e9)]??0x0)[_0x33fe89(0x41a)]();}catch{return[];}}async[a0_0x42e86b(0x343)](_0x128947,_0x2f83c9){const _0xe08fdc=a0_0x42e86b;try{let _0x2399c3=this[_0xe08fdc(0x816)](_0x2f83c9),_0xf9fe40=O(_0x128947[_0xe08fdc(0x577)]);await _0x2399c3[_0xe08fdc(0x2a0)](_0xf9fe40);}catch(_0x3e9c38){console[_0xe08fdc(0x690)](_0x3e9c38);}}async[a0_0x42e86b(0x211)](_0x5ab5a5,_0x5ae143,_0x19d236){const _0x14b27b=a0_0x42e86b;try{let _0x2a7183=this['getMessageModelForOwner'](_0x19d236),_0x29e7ec=O(_0x5ab5a5[_0x14b27b(0x577)]);return await _0x2a7183[_0x14b27b(0x594)](_0x29e7ec,{'$set':_0x5ae143},{'new':!0x0});}catch(_0x10d6f0){throw console[_0x14b27b(0x690)](_0x10d6f0),_0x10d6f0;}}async[a0_0x42e86b(0x5bb)](_0x3ed1b8,_0x3660d2){const _0x393b38=a0_0x42e86b;if(_0x3ed1b8[_0x393b38(0x40e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x393b38(0x816)](_0x3660d2)[_0x393b38(0x5bb)]([..._0x3ed1b8]))[_0x393b38(0x40e)]};}catch(_0x2bb6e0){return console['log']('ERROR:\x20',_0x2bb6e0),_0x2bb6e0;}}async[a0_0x42e86b(0x3ac)](_0x15a436){const _0x589a4b=a0_0x42e86b;try{return await this[_0x589a4b(0x816)](_0x15a436)[_0x589a4b(0x5b7)][_0x589a4b(0x6d7)](),{'success':!0x0};}catch(_0x3e56f){return console['error'](_0x3e56f),{'success':!0x1,'error':_0x3e56f};}}},Ts=A(require(a0_0x42e86b(0x448))),y=A(require(a0_0x42e86b(0x42a))),Ie=require('fs'),U=A(require(a0_0x42e86b(0x800))),Q=A(require(a0_0x42e86b(0x676))),Eo=require('uuid'),vo=A(require(a0_0x42e86b(0x8ba))),No=A(require(a0_0x42e86b(0x74c))),ya=[a0_0x42e86b(0x74e),a0_0x42e86b(0x81b),a0_0x42e86b(0x78b),a0_0x42e86b(0x5c2),'stickerMessage'],ba=[a0_0x42e86b(0x6d2),a0_0x42e86b(0x779),'viewOnceMessage','viewOnceMessageV2'],xs=require('os'),Pt=A(require('pino')),_e=require(a0_0x42e86b(0x2ac)),kt=require(a0_0x42e86b(0x5cf)),ue=A(require('mongoose')),k=require('class-validator'),ne=class{constructor(_0x962a83,_0x5d092e,_0x54b19c){const _0x1d0004=a0_0x42e86b;this['jid']=_0x962a83,this['exists']=_0x5d092e,this[_0x1d0004(0x2ea)]=_0x54b19c;}},We=class{},ze=class{},$e=class{},Ke=class{},Qe=class{},Me=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Tt=A(require(a0_0x42e86b(0x2d7))),Sa=require('fs'),Ma=require(a0_0x42e86b(0x800));async function Re(_0x14bcb7){const _0x3a8bd0=a0_0x42e86b;let _0x25d7f2=G[_0x3a8bd0(0x2e8)][_0x14bcb7];if(F[_0x3a8bd0(0x625)]){let _0x5ba600=D['getClient']()['db'](F[_0x3a8bd0(0x86c)][_0x3a8bd0(0x42d)]+_0x3a8bd0(0x8dc))[_0x3a8bd0(0x5b7)](_0x14bcb7);return _0x25d7f2||(await _0x5ba600[_0x3a8bd0(0x2a1)]({})['toArray']())[_0x3a8bd0(0x40e)]>0x0;}return _0x25d7f2||(0x0,Sa[_0x3a8bd0(0x739)])((0x0,Ma[_0x3a8bd0(0x468)])(ye,_0x14bcb7));}async function Ca(_0x359f86,_0x2ed002,_0x7ee5eb){const _0x22a998=a0_0x42e86b;if(_0x359f86[_0x22a998(0x6fa)]['includes'](_0x22a998(0x682))||_0x359f86['originalUrl'][_0x22a998(0x8d2)](_0x22a998(0x710))||_0x359f86[_0x22a998(0x6fa)]['includes'](_0x22a998(0x281))||_0x359f86['originalUrl'][_0x22a998(0x8d2)](_0x22a998(0x3fe))||_0x359f86[_0x22a998(0x6fa)][_0x22a998(0x8d2)](_0x22a998(0x5f2))||_0x359f86[_0x22a998(0x6fa)][_0x22a998(0x8d2)]('/instance/connectionState')||_0x359f86[_0x22a998(0x6fa)][_0x22a998(0x8d2)](_0x22a998(0x6ca)))return _0x7ee5eb();let _0xd81c34=_0x359f86[_0x22a998(0x52e)];if(!_0xd81c34?.[_0x22a998(0x2c9)])throw new f(_0x22a998(0x8b4));if(!await Re(_0xd81c34[_0x22a998(0x2c9)]))throw new q(_0x22a998(0x221)+_0xd81c34[_0x22a998(0x2c9)]+_0x22a998(0x681));_0x7ee5eb();}async function Ea(_0x30aa63,_0x3b9770,_0x3a38ac){const _0x11b1a0=a0_0x42e86b;if(_0x30aa63[_0x11b1a0(0x6fa)][_0x11b1a0(0x8d2)](_0x11b1a0(0x682))){let _0x342ebd=_0x30aa63[_0x11b1a0(0x23f)];if(await Re(_0x342ebd[_0x11b1a0(0x2c9)]))throw new Y('This\x20name\x20'+_0x342ebd[_0x11b1a0(0x2c9)]+_0x11b1a0(0x8f0));G[_0x11b1a0(0x2e8)][_0x342ebd[_0x11b1a0(0x2c9)]]&&delete G[_0x11b1a0(0x2e8)][_0x342ebd[_0x11b1a0(0x2c9)]];}_0x3a38ac();}var va=require(a0_0x42e86b(0x7d7)),Na=A(require(a0_0x42e86b(0x58d))),tt=a0_0x42e86b(0x8a4),bi=new R(a0_0x42e86b(0x2a7));async function Si(_0x580135,_0x541b2a,_0x4a4a09){const _0x49d688=a0_0x42e86b;let _0x38c8f2=_0x580135[_0x49d688(0x6e5)](_0x49d688(0x7c2));if(_0x38c8f2&&M[_0x49d688(0x6e5)](_0x49d688(0x327))[_0x49d688(0x837)]['KEY']!==_0x38c8f2)throw new ae();if(M[_0x49d688(0x6e5)](_0x49d688(0x327))['API_KEY'][_0x49d688(0x405)]===_0x38c8f2)return _0x4a4a09();if((_0x580135[_0x49d688(0x6fa)]['includes'](_0x49d688(0x682))||_0x580135[_0x49d688(0x6fa)][_0x49d688(0x8d2)]('/instance/fetchInstances'))&&!_0x38c8f2)throw new Y(_0x49d688(0x82f),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x35360a=M[_0x49d688(0x6e5)](_0x49d688(0x327))[_0x49d688(0x6dd)];try{let [_0x56c92a,_0xf888d7]=_0x580135['get'](_0x49d688(0x54f))[_0x49d688(0x8a3)]('\x20');if(_0x56c92a['toLowerCase']()!==_0x49d688(0x430))throw new ae();if(!(0x0,va[_0x49d688(0x22b)])(_0xf888d7))throw new ae();let _0x14af21=_0x580135[_0x49d688(0x52e)],_0x36f879=Na[_0x49d688(0x5d8)][_0x49d688(0x20a)](_0xf888d7,_0x35360a[_0x49d688(0x2a2)],{'ignoreExpiration':_0x35360a[_0x49d688(0x69e)]===0x0});if(_0x14af21[_0x49d688(0x2c9)]!==_0x36f879[_0x49d688(0x2c9)]||tt!==_0x36f879[_0x49d688(0x509)])throw new ae();return _0x4a4a09();}catch(_0x242267){throw bi[_0x49d688(0x690)](_0x242267),new ae();}}async function Mi(_0x1ddfd4,_0x554975,_0x36bbb5){const _0x54b24d=a0_0x42e86b;let _0x1cac06=M[_0x54b24d(0x6e5)]('AUTHENTICATION')[_0x54b24d(0x837)],_0x2b949b=_0x1ddfd4[_0x54b24d(0x6e5)](_0x54b24d(0x7c2));if(_0x1cac06[_0x54b24d(0x405)]===_0x2b949b)return _0x36bbb5();if(_0x1ddfd4[_0x54b24d(0x6fa)][_0x54b24d(0x8d2)](_0x54b24d(0x682))){let _0x25d4e4=Ra,_0x5121e6=_0x1ddfd4[_0x54b24d(0x23f)][_0x54b24d(0x2c9)];if(_0x25d4e4&&_0x5121e6[_0x54b24d(0x8e2)]()['startsWith'](_0x25d4e4['toLowerCase']()))return _0x36bbb5();if(!_0x2b949b)throw new Y('Missing\x20global\x20api\x20key',_0x54b24d(0x22c));}if(_0x1ddfd4[_0x54b24d(0x6fa)][_0x54b24d(0x8d2)](_0x54b24d(0x710))&&!_0x2b949b)throw new Y(_0x54b24d(0x82f),_0x54b24d(0x22c));if(_0x1ddfd4['originalUrl'][_0x54b24d(0x8d2)](_0x54b24d(0x281))&&!_0x2b949b)throw new Y('Missing\x20global\x20api\x20key',_0x54b24d(0x22c));if(_0x1ddfd4['originalUrl'][_0x54b24d(0x8d2)]('/config')&&!_0x2b949b)throw new Y(_0x54b24d(0x82f),_0x54b24d(0x22c));try{let _0x4ace90=_0x1ddfd4['params'],_0x324fb3=await pe[_0x54b24d(0x3c2)][_0x54b24d(0x2a1)](_0x4ace90[_0x54b24d(0x2c9)]);if(_0x324fb3&&_0x324fb3[_0x54b24d(0x7c2)]===_0x2b949b)return _0x36bbb5();}catch{}throw new ae();}var $a={'jwt':Si,'apikey':Mi},ro=require(a0_0x42e86b(0x2d7)),N=require(a0_0x42e86b(0x874)),v=(..._0x9245c3)=>{const _0x2d7aac=a0_0x42e86b;let _0x31921b={};return _0x9245c3[_0x2d7aac(0x4ac)](_0x43ec4f=>_0x31921b[_0x43ec4f]={'minLength':0x1,'description':'The\x20\x22'+_0x43ec4f+_0x2d7aac(0x4c4)}),{'if':{'propertyNames':{'enum':[..._0x9245c3]}},'then':{'properties':_0x31921b}};},$={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'instanceName':{'type':a0_0x42e86b(0x909)}},...v(a0_0x42e86b(0x2c9))},uc={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'oldToken':{'type':a0_0x42e86b(0x909)}},'required':['oldToken'],...v(a0_0x42e86b(0x2ff))},dc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x42e86b(0x909)},'remoteJid':{'type':a0_0x42e86b(0x909)},'fromMe':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]}},'required':['id',a0_0x42e86b(0x3a3),a0_0x42e86b(0x274)],...v('id',a0_0x42e86b(0x3a3))},'message':{'type':a0_0x42e86b(0x387)}}},X={'properties':{'delay':{'type':a0_0x42e86b(0x48e),'description':a0_0x42e86b(0x6ba)},'presence':{'type':a0_0x42e86b(0x909),'enum':['unavailable',a0_0x42e86b(0x44d),a0_0x42e86b(0x60b),'recording',a0_0x42e86b(0x6a0)]}}},z={'type':a0_0x42e86b(0x909),'description':'Invalid\x20format'},Da={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...z},'options':{...X},'textMessage':{'type':a0_0x42e86b(0x387),'properties':{'text':{'type':a0_0x42e86b(0x909)}},'required':['text'],...v('text')}},'required':[a0_0x42e86b(0x2ab),a0_0x42e86b(0x201)]},Aa={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},pc={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...Aa},'options':{...X},'textMessage':{'type':a0_0x42e86b(0x387),'properties':{'text':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x411)],...v('text')}},'required':[a0_0x42e86b(0x2ab),a0_0x42e86b(0x201)]},mc={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...Aa},'options':{...X},'mediaMessage':{'type':a0_0x42e86b(0x387),'properties':{'mediatype':{'type':'string','enum':[a0_0x42e86b(0x8c6),a0_0x42e86b(0x74a),a0_0x42e86b(0x2d2),a0_0x42e86b(0x801)]},'media':{'type':'string'},'fileName':{'type':a0_0x42e86b(0x909)},'caption':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x581),a0_0x42e86b(0x229)],...v(a0_0x42e86b(0x3a7),a0_0x42e86b(0x6ac),a0_0x42e86b(0x229))}},'required':[a0_0x42e86b(0x41b),a0_0x42e86b(0x201)]},Ta={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...z},'options':{...X},'stickerMessage':{'type':a0_0x42e86b(0x387),'properties':{'image':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x8c6)],...v(a0_0x42e86b(0x8c6))}},'required':[a0_0x42e86b(0x733),a0_0x42e86b(0x201)]},xa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x411),'image',a0_0x42e86b(0x801),a0_0x42e86b(0x2d2)]},'content':{'type':a0_0x42e86b(0x909)},'caption':{'type':a0_0x42e86b(0x909)},'backgroundColor':{'type':a0_0x42e86b(0x909)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x42e86b(0x557),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x42e86b(0x909),'pattern':a0_0x42e86b(0x6ef),'description':a0_0x42e86b(0x807)}},'allContacts':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]}},'required':[a0_0x42e86b(0x762),'content'],...v(a0_0x42e86b(0x762),a0_0x42e86b(0x467))}},'required':['statusMessage']},Oa={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...z},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':['image','document',a0_0x42e86b(0x2d2),'audio']},'media':{'type':a0_0x42e86b(0x909)},'fileName':{'type':a0_0x42e86b(0x909)},'caption':{'type':'string'}},'required':[a0_0x42e86b(0x581),a0_0x42e86b(0x229)],...v(a0_0x42e86b(0x3a7),a0_0x42e86b(0x6ac),a0_0x42e86b(0x229))}},'required':['mediaMessage','number']},Ia={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...z},'options':{...X},'audioMessage':{'type':a0_0x42e86b(0x387),'properties':{'audio':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x801)],...v(a0_0x42e86b(0x801))}},'required':[a0_0x42e86b(0x78b),a0_0x42e86b(0x201)]},_a={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...z},'pollMessage':{'type':a0_0x42e86b(0x387),'properties':{'name':{'type':a0_0x42e86b(0x909)},'selectableCount':{'type':a0_0x42e86b(0x201)},'values':{'type':a0_0x42e86b(0x557),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x42e86b(0x2ea),a0_0x42e86b(0x334),a0_0x42e86b(0x892)],...v(a0_0x42e86b(0x2ea),'selectableCount',a0_0x42e86b(0x892))}},'required':['number',a0_0x42e86b(0x735)]},Pa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x42e86b(0x387),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x42e86b(0x557),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x42e86b(0x411),a0_0x42e86b(0x76d)],...v('text','choices')}},'required':[a0_0x42e86b(0x201),'menuMessage']},ka={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...z},'options':{...X},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x42e86b(0x909)},'footerText':{'type':a0_0x42e86b(0x909)},'buttons':{'type':a0_0x42e86b(0x557),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x42e86b(0x387),'properties':{'buttonText':{'type':a0_0x42e86b(0x909)},'buttonId':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x2c1),'buttonId'],...v(a0_0x42e86b(0x2c1),a0_0x42e86b(0x3e3))}},'mediaMessage':{'type':a0_0x42e86b(0x387),'properties':{'media':{'type':a0_0x42e86b(0x909)},'fileName':{'type':a0_0x42e86b(0x909)},'mediatype':{'type':'string','enum':[a0_0x42e86b(0x8c6),a0_0x42e86b(0x74a),a0_0x42e86b(0x2d2)]}},'required':[a0_0x42e86b(0x229),'mediatype'],...v('media','fileName')}},'required':[a0_0x42e86b(0x8a6),'buttons'],...v(a0_0x42e86b(0x8a6),'description')}},'required':[a0_0x42e86b(0x201),a0_0x42e86b(0x410)]},ja={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...z},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':a0_0x42e86b(0x909)},'address':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x300),a0_0x42e86b(0x709)],...v(a0_0x42e86b(0x2ea),a0_0x42e86b(0x367))}},'required':[a0_0x42e86b(0x201),a0_0x42e86b(0x3cc)]},Fa={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...z},'options':{...X},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x42e86b(0x909)},'description':{'type':a0_0x42e86b(0x909)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x42e86b(0x909)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x42e86b(0x909)},'rows':{'type':a0_0x42e86b(0x557),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x42e86b(0x909)},'description':{'type':a0_0x42e86b(0x909)},'rowId':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x8a6),a0_0x42e86b(0x339)],...v(a0_0x42e86b(0x8a6),a0_0x42e86b(0x339))}}},'required':['title',a0_0x42e86b(0x6b5)],...v(a0_0x42e86b(0x8a6))}}},'required':[a0_0x42e86b(0x8a6),'description',a0_0x42e86b(0x2c1),a0_0x42e86b(0x401)],...v(a0_0x42e86b(0x8a6),a0_0x42e86b(0x283),a0_0x42e86b(0x2c1),'footerText')}},'required':[a0_0x42e86b(0x201),a0_0x42e86b(0x23e)]},La={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...z},'options':{...X},'contactMessage':{'type':a0_0x42e86b(0x557),'items':{'type':a0_0x42e86b(0x387),'properties':{'fullName':{'type':a0_0x42e86b(0x909)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x42e86b(0x8f1),a0_0x42e86b(0x31a)],...v(a0_0x42e86b(0x8f1))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x42e86b(0x201),a0_0x42e86b(0x5dc)]},Ua={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'reactionMessage':{'type':a0_0x42e86b(0x387),'properties':{'key':{'type':a0_0x42e86b(0x387),'properties':{'id':{'type':a0_0x42e86b(0x909)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...v('id',a0_0x42e86b(0x3a3))},'reaction':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x57a),a0_0x42e86b(0x835)],...v(a0_0x42e86b(0x835))}},'required':[a0_0x42e86b(0x77b)]},Ja={'$id':(0x0,N['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x42e86b(0x557),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x42e86b(0x909),'pattern':a0_0x42e86b(0x6ef),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},qa={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'readMessages':{'type':a0_0x42e86b(0x557),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x42e86b(0x909)},'fromMe':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x42e86b(0x909)}},'required':['id',a0_0x42e86b(0x274),a0_0x42e86b(0x3a3)],...v('id',a0_0x42e86b(0x3a3))}}},'required':[a0_0x42e86b(0x830)]},Ha={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x320),a0_0x42e86b(0x394)]},'profile':{'type':a0_0x42e86b(0x909),'enum':['all',a0_0x42e86b(0x311),a0_0x42e86b(0x4c2),'none']},'status':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x320),a0_0x42e86b(0x311),a0_0x42e86b(0x4c2),a0_0x42e86b(0x394)]},'online':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x320),'match_last_seen']},'last':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x320),a0_0x42e86b(0x311),a0_0x42e86b(0x4c2),a0_0x42e86b(0x394)]},'groupadd':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x320),a0_0x42e86b(0x311),a0_0x42e86b(0x4c2),a0_0x42e86b(0x394)]}},'required':[a0_0x42e86b(0x59a),a0_0x42e86b(0x6e9),a0_0x42e86b(0x454),a0_0x42e86b(0x7ee),a0_0x42e86b(0x63b),a0_0x42e86b(0x563)],...v(a0_0x42e86b(0x59a),a0_0x42e86b(0x6e9),a0_0x42e86b(0x454),a0_0x42e86b(0x7ee),a0_0x42e86b(0x63b),a0_0x42e86b(0x563))}},'required':[a0_0x42e86b(0x2b7)]},Va={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'lastMessage':{'type':a0_0x42e86b(0x387),'properties':{'key':{'type':a0_0x42e86b(0x387),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x42e86b(0x909)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x42e86b(0x3a3)],...v('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x42e86b(0x57a)],...v(a0_0x42e86b(0x6d6))},'archive':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]}},'required':[a0_0x42e86b(0x755),a0_0x42e86b(0x65e)]},Ga={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'id':{'type':a0_0x42e86b(0x909)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x42e86b(0x909)},'participant':{'type':a0_0x42e86b(0x909)}},'required':['id',a0_0x42e86b(0x274),a0_0x42e86b(0x3a3)],...v('id','remoteJid',a0_0x42e86b(0x206))},Ba={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x42e86b(0x909),'minLength':0x1},'pushName':{'type':a0_0x42e86b(0x909),'minLength':0x1},'id':{'type':a0_0x42e86b(0x909),'minLength':0x1}},...v('_id','id',a0_0x42e86b(0x396))}}},Wa={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'name':{'type':'string'}},...v(a0_0x42e86b(0x2ea))},za={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'status':{'type':a0_0x42e86b(0x909)}},...v('status')},De={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{'type':a0_0x42e86b(0x909)},'picture':{'type':'string'}}},Ka={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':a0_0x42e86b(0x909)},'picture':{'type':a0_0x42e86b(0x909)},'status':{'type':a0_0x42e86b(0x909)},'isBusiness':{'type':'boolean'}}},Qa={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x42e86b(0x909),'minLength':0x1},'key':{'type':a0_0x42e86b(0x387),'if':{'propertyNames':{'enum':['fromMe',a0_0x42e86b(0x3a3),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x42e86b(0x909),'minLength':0x1,'description':a0_0x42e86b(0x5d0)},'id':{'type':a0_0x42e86b(0x909),'minLength':0x1,'description':a0_0x42e86b(0x5d0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x42e86b(0x387)}},...v(a0_0x42e86b(0x287))},'limit':{'type':a0_0x42e86b(0x48e)}}},hc={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x42e86b(0x909)},'id':{'type':a0_0x42e86b(0x909)},'fromMe':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x3c7),a0_0x42e86b(0x2dd),'SERVER_ACK','DELIVERY_ACK',a0_0x42e86b(0x269),a0_0x42e86b(0x89e)]}},...v(a0_0x42e86b(0x287),a0_0x42e86b(0x3a3),'id','status')},'limit':{'type':'integer'}}},Ya={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'number':{...z},'presence':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x8fe),'available',a0_0x42e86b(0x60b),a0_0x42e86b(0x7de),'paused']}},'required':['presence',a0_0x42e86b(0x201)]},Xa={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'subject':{'type':a0_0x42e86b(0x909)},'description':{'type':'string'},'profilePicture':{'type':a0_0x42e86b(0x909)},'participants':{'type':a0_0x42e86b(0x557),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x42e86b(0x909),'minLength':0xa,'pattern':a0_0x42e86b(0x775),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x42e86b(0x7eb),a0_0x42e86b(0x614)],...v(a0_0x42e86b(0x7eb),a0_0x42e86b(0x283),a0_0x42e86b(0x556))},Ae={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'groupJid':{'type':a0_0x42e86b(0x909),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x42e86b(0x373)],...v(a0_0x42e86b(0x373))},Za={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'groupJid':{'type':a0_0x42e86b(0x909)},'action':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x78c),a0_0x42e86b(0x54c),a0_0x42e86b(0x2e1),a0_0x42e86b(0x51b),'reject',a0_0x42e86b(0x3ef)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x42e86b(0x909),'minLength':0xa,'pattern':a0_0x42e86b(0x775),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x42e86b(0x373),a0_0x42e86b(0x7ad),'participants'],...v(a0_0x42e86b(0x373),a0_0x42e86b(0x7ad))},eo={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'groupJid':{'type':a0_0x42e86b(0x909)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x42e86b(0x373),a0_0x42e86b(0x3e1)],...v(a0_0x42e86b(0x373),a0_0x42e86b(0x3e1))},to={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x42e86b(0x373),a0_0x42e86b(0x8c6)],...v(a0_0x42e86b(0x373),a0_0x42e86b(0x8c6))},so={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'groupJid':{'type':a0_0x42e86b(0x909)},'description':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x373),a0_0x42e86b(0x283)],...v(a0_0x42e86b(0x373),a0_0x42e86b(0x283))},ao={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x42e86b(0x909)}},'required':[a0_0x42e86b(0x373),a0_0x42e86b(0x2ea)],...v(a0_0x42e86b(0x373),a0_0x42e86b(0x2ea))},oo={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x42e86b(0x909)},'setting':{'type':a0_0x42e86b(0x909),'enum':[a0_0x42e86b(0x832),'not_announcement',a0_0x42e86b(0x7ff),a0_0x42e86b(0x470)]}},'required':[a0_0x42e86b(0x373),a0_0x42e86b(0x7a5)],...v('groupJid',a0_0x42e86b(0x7a5))},io={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'groupJid':{'type':a0_0x42e86b(0x909)},'restrict':{'type':a0_0x42e86b(0x678)},'announce':{'type':a0_0x42e86b(0x678)},'memberAddMode':{'type':a0_0x42e86b(0x678)},'joinApprovalMode':{'type':a0_0x42e86b(0x678)},'expiration':{'type':a0_0x42e86b(0x48e),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x42e86b(0x909)},'description':{'type':a0_0x42e86b(0x909)},'image':{'type':a0_0x42e86b(0x909)}}},Ms={'$id':(0x0,N['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x42e86b(0x909)}},'required':['inviteCode'],...v(a0_0x42e86b(0x724))},no={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]}},'required':['url',a0_0x42e86b(0x362)]},gc={'$id':(0x0,N['v4'])(),'type':a0_0x42e86b(0x387),'properties':{'local_map':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x42e86b(0x678),'enum':[!0x0,!0x1]}},'required':[a0_0x42e86b(0x7a0),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x42e86b(0x8a8),a0_0x42e86b(0x8c4),a0_0x42e86b(0x707),'SEND_MESSAGE',a0_0x42e86b(0x75c),a0_0x42e86b(0x4a3),a0_0x42e86b(0x75b),a0_0x42e86b(0x44e),a0_0x42e86b(0x317),a0_0x42e86b(0x4fa),'CHATS_UPDATE','CHATS_DELETE',a0_0x42e86b(0x51f),a0_0x42e86b(0x46f),a0_0x42e86b(0x5bd),'GROUP_PARTICIPANTS_UPDATE'],...v(a0_0x42e86b(0x7a0),'STATUS_INSTANCE',a0_0x42e86b(0x325),a0_0x42e86b(0x8a8),a0_0x42e86b(0x8c4),a0_0x42e86b(0x707),a0_0x42e86b(0x4eb),'CONTACTS_SET',a0_0x42e86b(0x4a3),a0_0x42e86b(0x75b),a0_0x42e86b(0x44e),a0_0x42e86b(0x317),'CHATS_UPSERT',a0_0x42e86b(0x860),a0_0x42e86b(0x856),a0_0x42e86b(0x51f),a0_0x42e86b(0x46f),a0_0x42e86b(0x5bd),'GROUP_PARTICIPANTS_UPDATE')},st=class{},at=class extends I{[a0_0x42e86b(0x561)](_0x438a6f){return ea(_0x438a6f);}async[a0_0x42e86b(0x8dd)](_0x19e4f7){const _0x260192=a0_0x42e86b;if(_0x19e4f7[_0x260192(0x40e)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x19e4f7[0x0]['owner'])[_0x260192(0x5bb)]([..._0x19e4f7]))[_0x260192(0x40e)]};}catch(_0x17055a){return _0x17055a;}}async[a0_0x42e86b(0x343)](_0x1bcadf,_0x4ea49f){const _0x5b6405=a0_0x42e86b;try{return{'deletedCount':(await this[_0x5b6405(0x561)](_0x4ea49f)[_0x5b6405(0x2a0)]({..._0x1bcadf[_0x5b6405(0x577)]}))[_0x5b6405(0x290)]};}catch(_0x37810b){return{'error':_0x37810b?.[_0x5b6405(0x53e)]()};}}async[a0_0x42e86b(0x211)](_0x495941,_0x9a864){const _0x5a6b9e=a0_0x42e86b;try{if(_0x495941[_0x5a6b9e(0x40e)]===0x0)return;let _0x5d3cc3=this[_0x5a6b9e(0x561)](_0x9a864),_0x2b8f4b=_0x495941['map'](_0x59174a=>({'updateOne':{'filter':{'_id':_0x59174a['_id'],'owner':_0x9a864},'update':{..._0x59174a}}})),{modifiedCount:_0x58abc3}=await _0x5d3cc3[_0x5a6b9e(0x677)](_0x2b8f4b);return{'insertCount':_0x58abc3};}catch{return;}}async[a0_0x42e86b(0x2a1)](_0x216bfd,_0x4ce333){const _0x5228a4=a0_0x42e86b;try{let _0x355bb9=this[_0x5228a4(0x561)](_0x4ce333),_0x5385f3=O(_0x216bfd[_0x5228a4(0x577)]);return await _0x355bb9[_0x5228a4(0x2a1)](_0x5385f3)[_0x5228a4(0x7e9)](_0x216bfd?.[_0x5228a4(0x7e9)]??0x0)[_0x5228a4(0x41a)]();}catch{return[];}}async['findOne'](_0x2aaedf,_0x3317e1){const _0x1d2248=a0_0x42e86b;try{let _0x10434b=this[_0x1d2248(0x561)](_0x3317e1),_0x503d26=O(_0x2aaedf['where']);return await _0x10434b[_0x1d2248(0x551)](_0x503d26)[_0x1d2248(0x41a)]();}catch{return null;}}async[a0_0x42e86b(0x3ac)](_0x2d9bd5){const _0x458df8=a0_0x42e86b;try{return await this[_0x458df8(0x561)](_0x2d9bd5)[_0x458df8(0x5b7)][_0x458df8(0x6d7)](),{'success':!0x0};}catch(_0x4c727c){return console[_0x458df8(0x690)](_0x4c727c),{'success':!0x1,'error':_0x4c727c};}}},ot=require(a0_0x42e86b(0x550)),vc=require(a0_0x42e86b(0x79b)),Cs=new R('Validate'),V=class{[a0_0x42e86b(0x5ba)](_0x5b8688,_0x5a27cd=!0x0){let _0x184aba='/'+_0x5b8688;return _0x5a27cd&&(_0x184aba+='/:instanceName'),_0x184aba;}async[a0_0x42e86b(0x4e2)](_0x10513c){const _0xdfd594=a0_0x42e86b;let {request:_0x51cf62,schema:_0x57bd08,ClassRef:_0x4f8942,execute:_0x4b69f6}=_0x10513c,_0xc29abd=new _0x4f8942(),_0x33c6b4=_0x51cf62['body'],_0x124fdd=_0x51cf62[_0xdfd594(0x52e)];_0x51cf62?.[_0xdfd594(0x2c6)]&&Object[_0xdfd594(0x3b9)](_0x51cf62['query'])['length']>0x0&&Object['assign'](_0x124fdd,_0x51cf62[_0xdfd594(0x2c6)]),_0x51cf62[_0xdfd594(0x6fa)][_0xdfd594(0x8d2)](_0xdfd594(0x682))&&Object[_0xdfd594(0x580)](_0x124fdd,_0x33c6b4),Object[_0xdfd594(0x580)](_0xc29abd,_0x33c6b4);let _0xedaa7c=_0x57bd08?(0x0,ot[_0xdfd594(0x73a)])(_0xc29abd,_0x57bd08):{'valid':!0x0,'errors':[]};if(!_0xedaa7c[_0xdfd594(0x50e)]){let _0x56a65b=_0xedaa7c['errors'][_0xdfd594(0x57c)](({property:_0x37aeda,stack:_0xbba196,schema:_0x2ad61c})=>{const _0xf645d=_0xdfd594;let _0x11b90b;return _0x2ad61c[_0xf645d(0x283)]?_0x11b90b=_0x2ad61c[_0xf645d(0x283)]:_0x11b90b=_0xbba196['replace']('instance.',''),{'property':_0x37aeda[_0xf645d(0x600)](_0xf645d(0x7b8),''),'message':_0x11b90b};});throw Cs[_0xdfd594(0x690)]([..._0x56a65b]),new f(..._0x56a65b);}return await _0x4b69f6(_0x124fdd,_0xc29abd);}async['groupValidate'](_0x433073){const _0x320231=a0_0x42e86b;let {request:_0x267528,ClassRef:_0x58d787,schema:_0x4b83e2,execute:_0x422257}=_0x433073,_0x393736=_0x267528['query'];if(!_0x393736?.['groupJid'])throw new f('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x320231(0x1fc));let _0x215473=_0x267528['params'],_0x2a80b5=_0x267528[_0x320231(0x23f)],_0x598b4a=new _0x58d787();Object[_0x320231(0x580)](_0x2a80b5,_0x393736),Object[_0x320231(0x580)](_0x598b4a,_0x2a80b5);let _0x245294=(0x0,ot[_0x320231(0x73a)])(_0x598b4a,_0x4b83e2);if(!_0x245294[_0x320231(0x50e)]){let _0x4b4dca=_0x245294[_0x320231(0x55b)]['map'](({property:_0x51a72a,stack:_0x128175,schema:_0x41a302})=>{const _0x6a0c93=_0x320231;let _0x6149ef;return _0x41a302[_0x6a0c93(0x283)]?_0x6149ef=_0x41a302[_0x6a0c93(0x283)]:_0x6149ef=_0x128175[_0x6a0c93(0x600)](_0x6a0c93(0x7b8),''),{'property':_0x51a72a[_0x6a0c93(0x600)](_0x6a0c93(0x7b8),''),'message':_0x6149ef};});throw Cs[_0x320231(0x690)]([..._0x4b4dca]),new f(..._0x4b4dca);}return await _0x422257(_0x215473,_0x598b4a);}async[a0_0x42e86b(0x302)](_0x63d0c3){const _0x3b400a=a0_0x42e86b;let {request:_0x51f701,ClassRef:_0x5e8353,schema:_0x56888d,execute:_0x2411bd}=_0x63d0c3,_0x34d061=_0x51f701['body'];if(!_0x34d061?.[_0x3b400a(0x724)])throw new f('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x3b400a(0x85c));let _0x46612d=_0x51f701[_0x3b400a(0x52e)],_0x1f9600=_0x51f701[_0x3b400a(0x23f)],_0x230952=new _0x5e8353();Object[_0x3b400a(0x580)](_0x1f9600,_0x34d061),Object['assign'](_0x230952,_0x1f9600);let _0x48a110=(0x0,ot[_0x3b400a(0x73a)])(_0x230952,_0x56888d);if(!_0x48a110[_0x3b400a(0x50e)]){let _0x28c9b5=_0x48a110[_0x3b400a(0x55b)][_0x3b400a(0x57c)](({property:_0x926125,stack:_0x1eb83e,schema:_0x3ca849})=>{const _0x34888b=_0x3b400a;let _0x21d1a9;return _0x3ca849[_0x34888b(0x283)]?_0x21d1a9=_0x3ca849[_0x34888b(0x283)]:_0x21d1a9=_0x1eb83e['replace']('instance.',''),{'property':_0x926125[_0x34888b(0x600)](_0x34888b(0x7b8),''),'message':_0x21d1a9};});throw Cs[_0x3b400a(0x690)]([..._0x28c9b5]),new f(..._0x28c9b5);}return await _0x2411bd(_0x46612d,_0x230952);}},E=class{},Lc=new R(a0_0x42e86b(0x525)),it=class extends V{constructor(..._0x1b1937){const _0x29f41e=a0_0x42e86b;super(),this[_0x29f41e(0x56c)]=(0x0,ro['Router'])(),this[_0x29f41e(0x56c)][_0x29f41e(0x55d)](this[_0x29f41e(0x5ba)]('updatePresence'),..._0x1b1937,async(_0x29fba8,_0x497bf0)=>{const _0x23cc4b=_0x29f41e;let _0x12dd18=await this[_0x23cc4b(0x4e2)]({'request':_0x29fba8,'schema':Ya,'ClassRef':We,'execute':(_0x3dc9d4,_0x40359a)=>P['updatePresence'](_0x3dc9d4,_0x40359a)});return _0x497bf0[_0x23cc4b(0x454)](0xc9)[_0x23cc4b(0x20e)](_0x12dd18);})[_0x29f41e(0x55d)](this[_0x29f41e(0x5ba)](_0x29f41e(0x4ec)),..._0x1b1937,async(_0x22211c,_0x225307)=>{const _0x117c7b=_0x29f41e;let _0x299bb4=await this[_0x117c7b(0x4e2)]({'request':_0x22211c,'schema':Ja,'ClassRef':ze,'execute':(_0x21e92c,_0x29e167)=>P['whatsappNumber'](_0x21e92c,_0x29e167)});return _0x225307[_0x117c7b(0x454)](0xc9)['json'](_0x299bb4);})[_0x29f41e(0x55d)](this[_0x29f41e(0x5ba)](_0x29f41e(0x864)),..._0x1b1937,async(_0x55dac0,_0x3bf95d)=>{const _0x2a884b=_0x29f41e;let _0xa5e0cb=await this[_0x2a884b(0x4e2)]({'request':_0x55dac0,'schema':$,'ClassRef':E,'execute':(_0x522ec0,_0x6fecbb)=>P[_0x2a884b(0x864)](_0x522ec0,_0x6fecbb)});return _0x3bf95d['status'](0xc9)[_0x2a884b(0x20e)](_0xa5e0cb);})['put'](this['routerPath'](_0x29f41e(0x77a)),..._0x1b1937,async(_0x557f83,_0x16f9eb)=>{const _0x2c1a3f=_0x29f41e;let _0x395566=await this[_0x2c1a3f(0x4e2)]({'request':_0x557f83,'schema':qa,'ClassRef':Ye,'execute':(_0x76bd4,_0x15a590)=>P['readMessage'](_0x76bd4,_0x15a590)});return _0x16f9eb[_0x2c1a3f(0x454)](0xc9)['json'](_0x395566);})[_0x29f41e(0x34f)](this[_0x29f41e(0x5ba)]('archiveChat'),..._0x1b1937,async(_0x4bced9,_0x1a404b)=>{const _0x417504=_0x29f41e;let _0x4bb7b5=await this[_0x417504(0x4e2)]({'request':_0x4bced9,'schema':Va,'ClassRef':Xe,'execute':(_0x4ae07e,_0x50a708)=>P[_0x417504(0x6bb)](_0x4ae07e,_0x50a708)});return _0x1a404b[_0x417504(0x454)](0xc9)[_0x417504(0x20e)](_0x4bb7b5);})[_0x29f41e(0x343)](this[_0x29f41e(0x5ba)](_0x29f41e(0x204)),..._0x1b1937,async(_0x2c253e,_0x4408e9)=>{const _0x1a7ed7=_0x29f41e;let _0x585aae=await this['dataValidate']({'request':_0x2c253e,'schema':Ga,'ClassRef':et,'execute':(_0x2f214e,_0x35e1ef)=>P[_0x1a7ed7(0x2a6)](_0x2f214e,_0x35e1ef)});return _0x4408e9[_0x1a7ed7(0x454)](0xc9)[_0x1a7ed7(0x20e)](_0x585aae);})[_0x29f41e(0x55d)](this['routerPath'](_0x29f41e(0x705)),..._0x1b1937,async(_0x22fa01,_0x140411)=>{const _0x5d5c70=_0x29f41e;let _0x3d47dd=await this[_0x5d5c70(0x4e2)]({'request':_0x22fa01,'schema':De,'ClassRef':$e,'execute':(_0x491f23,_0x256dc5)=>P[_0x5d5c70(0x8ad)](_0x491f23,_0x256dc5)});return _0x140411[_0x5d5c70(0x454)](0xc8)['json'](_0x3d47dd);})['post'](this[_0x29f41e(0x5ba)](_0x29f41e(0x36a)),..._0x1b1937,async(_0x3a599c,_0x6aa164)=>{const _0x12d345=_0x29f41e;let _0x349538=await this[_0x12d345(0x4e2)]({'request':_0x3a599c,'schema':Ka,'ClassRef':$e,'execute':(_0x41f472,_0x386ec8)=>P['fetchProfile'](_0x41f472,_0x386ec8)});return _0x6aa164[_0x12d345(0x454)](0xc8)[_0x12d345(0x20e)](_0x349538);})[_0x29f41e(0x55d)](this[_0x29f41e(0x5ba)](_0x29f41e(0x255)),..._0x1b1937,async(_0x3daeca,_0x3f3755)=>{const _0x176070=_0x29f41e;let _0x3480ac=await this[_0x176070(0x4e2)]({'request':_0x3daeca,'schema':Ba,'ClassRef':st,'execute':(_0x3b0b24,_0x2e7c28)=>P[_0x176070(0x65f)](_0x3b0b24,_0x2e7c28)});return _0x3f3755[_0x176070(0x454)](0xc8)[_0x176070(0x20e)](_0x3480ac);})[_0x29f41e(0x55d)](this[_0x29f41e(0x5ba)](_0x29f41e(0x529)),..._0x1b1937,async(_0x456a2b,_0x3bdcf8)=>{const _0xbb1276=_0x29f41e;let _0x531413=await this['dataValidate']({'request':_0x456a2b,'schema':null,'ClassRef':Object,'execute':(_0x17a42d,_0x48d422)=>P[_0xbb1276(0x529)](_0x17a42d,_0x48d422)});return _0x3bdcf8[_0xbb1276(0x454)](0xc9)[_0xbb1276(0x20e)](_0x531413);})[_0x29f41e(0x55d)](this[_0x29f41e(0x5ba)](_0x29f41e(0x299)),..._0x1b1937,async(_0x19051a,_0x52ad10)=>{const _0x3f281b=_0x29f41e;let _0x99676=await this[_0x3f281b(0x4e2)]({'request':_0x19051a,'schema':Qa,'ClassRef':Ge,'execute':(_0x59d6bb,_0x1fbc63)=>P['fetchMessages'](_0x59d6bb,_0x1fbc63)});return _0x52ad10[_0x3f281b(0x454)](0xc8)[_0x3f281b(0x20e)](_0x99676);})[_0x29f41e(0x6e5)](this[_0x29f41e(0x5ba)]('findChats'),..._0x1b1937,async(_0x436a4c,_0x176269)=>{const _0x2ffd98=_0x29f41e;let _0x4b25f8=await this[_0x2ffd98(0x4e2)]({'request':_0x436a4c,'schema':null,'ClassRef':E,'execute':_0x46ce6b=>P[_0x2ffd98(0x6ce)](_0x46ce6b)});return _0x176269[_0x2ffd98(0x454)](0xc8)['json'](_0x4b25f8);})[_0x29f41e(0x6e5)](this['routerPath'](_0x29f41e(0x4c0)),..._0x1b1937,async(_0x4bd08b,_0x488a78)=>{const _0x554e0a=_0x29f41e;let _0x3e579c=await this[_0x554e0a(0x4e2)]({'request':_0x4bd08b,'schema':null,'ClassRef':E,'execute':_0xa2b1cf=>P[_0x554e0a(0x43b)](_0xa2b1cf)});return _0x488a78[_0x554e0a(0x454)](0xc8)[_0x554e0a(0x20e)](_0x3e579c);})[_0x29f41e(0x34f)](this[_0x29f41e(0x5ba)](_0x29f41e(0x6b8)),..._0x1b1937,async(_0x4aea79,_0x252ea7)=>{const _0x2570c7=_0x29f41e;let _0x4e2481=await this[_0x2570c7(0x4e2)]({'request':_0x4aea79,'schema':null,'ClassRef':Array,'execute':(_0x3e1193,_0x1f6282)=>P[_0x2570c7(0x6b8)](_0x3e1193,_0x1f6282)});return _0x252ea7[_0x2570c7(0x454)](0xc8)[_0x2570c7(0x20e)](_0x4e2481);})[_0x29f41e(0x6e5)](this['routerPath'](_0x29f41e(0x716)),..._0x1b1937,async(_0x318e60,_0x702642)=>{const _0x327134=_0x29f41e;let _0x28e144=await this[_0x327134(0x4e2)]({'request':_0x318e60,'schema':null,'ClassRef':E,'execute':_0x3f126f=>P[_0x327134(0x716)](_0x3f126f)});return _0x702642[_0x327134(0x454)](0xc8)[_0x327134(0x20e)](_0x28e144);})[_0x29f41e(0x34f)](this[_0x29f41e(0x5ba)](_0x29f41e(0x4aa)),..._0x1b1937,async(_0x3c48d0,_0x1a6a61)=>{const _0x5b78d6=_0x29f41e;let _0x98f9ed=await this[_0x5b78d6(0x4e2)]({'request':_0x3c48d0,'schema':Ha,'ClassRef':Ze,'execute':(_0x43e28b,_0x1cb95a)=>P[_0x5b78d6(0x4aa)](_0x43e28b,_0x1cb95a)});return _0x1a6a61[_0x5b78d6(0x454)](0xc9)[_0x5b78d6(0x20e)](_0x98f9ed);})[_0x29f41e(0x55d)](this['routerPath'](_0x29f41e(0x888)),..._0x1b1937,async(_0x1650b3,_0x3f8b73)=>{const _0x4fe146=_0x29f41e;let _0x124708=await this['dataValidate']({'request':_0x1650b3,'schema':De,'ClassRef':Me,'execute':(_0x4a6c8b,_0x5195c5)=>P['fetchBusinessProfile'](_0x4a6c8b,_0x5195c5)});return _0x3f8b73[_0x4fe146(0x454)](0xc8)[_0x4fe146(0x20e)](_0x124708);})[_0x29f41e(0x55d)](this[_0x29f41e(0x5ba)](_0x29f41e(0x52f)),..._0x1b1937,async(_0x34ec1d,_0x7b2a32)=>{const _0x3b1957=_0x29f41e;let _0x3a66a0=await this['dataValidate']({'request':_0x34ec1d,'schema':Wa,'ClassRef':Ke,'execute':(_0x210329,_0x17522e)=>P[_0x3b1957(0x52f)](_0x210329,_0x17522e)});return _0x7b2a32[_0x3b1957(0x454)](0xc8)['json'](_0x3a66a0);})['post'](this['routerPath'](_0x29f41e(0x814)),..._0x1b1937,async(_0x2011f0,_0xedef47)=>{const _0x239968=_0x29f41e;let _0x180251=await this[_0x239968(0x4e2)]({'request':_0x2011f0,'schema':za,'ClassRef':Qe,'execute':(_0x2a80cd,_0x3d35ee)=>P[_0x239968(0x814)](_0x2a80cd,_0x3d35ee)});return _0xedef47[_0x239968(0x454)](0xc8)[_0x239968(0x20e)](_0x180251);})[_0x29f41e(0x34f)](this['routerPath']('updateProfilePicture'),..._0x1b1937,async(_0x44a24f,_0x56ad26)=>{const _0x50d5b3=_0x29f41e;let _0x2cd0fb=await this['dataValidate']({'request':_0x44a24f,'schema':De,'ClassRef':Me,'execute':(_0x36d62f,_0x1e94ed)=>P['updateProfilePicture'](_0x36d62f,_0x1e94ed)});return _0x56ad26[_0x50d5b3(0x454)](0xc8)[_0x50d5b3(0x20e)](_0x2cd0fb);})[_0x29f41e(0x343)](this[_0x29f41e(0x5ba)](_0x29f41e(0x69d)),..._0x1b1937,async(_0x4dd9c6,_0xdabdb4)=>{const _0x5b288b=_0x29f41e;let _0xf18896=await this['dataValidate']({'request':_0x4dd9c6,'schema':De,'ClassRef':Me,'execute':(_0x288241,_0x34de6b)=>P[_0x5b288b(0x69d)](_0x288241,_0x34de6b)});return _0xdabdb4[_0x5b288b(0x454)](0xc8)[_0x5b288b(0x20e)](_0xf18896);});}},co=require(a0_0x42e86b(0x2d7)),nt=class{},rt=class{},ct=class{},lt=class{},ut=class{},dt=class{},Z=class{},Te=class{},pt=class extends Z{},mt=class extends Z{},ht=class extends V{constructor(..._0x1073ff){const _0x488073=a0_0x42e86b;super(),this['router']=(0x0,co['Router'])(),this['router'][_0x488073(0x55d)](this[_0x488073(0x5ba)](_0x488073(0x69f)),..._0x1073ff,async(_0x57aeed,_0x11f538)=>{const _0x2c61ae=_0x488073;let _0x1bdb50=await this[_0x2c61ae(0x4e2)]({'request':_0x57aeed,'schema':Xa,'ClassRef':nt,'execute':(_0xb2cc16,_0x380869)=>H[_0x2c61ae(0x792)](_0xb2cc16,_0x380869)});_0x11f538[_0x2c61ae(0x454)](0xc9)[_0x2c61ae(0x20e)](_0x1bdb50);})[_0x488073(0x34f)](this['routerPath']('updateGroupPicture'),..._0x1073ff,async(_0x489f38,_0xd0e0a9)=>{const _0x65eaa5=_0x488073;let _0x37ad1a=await this[_0x65eaa5(0x35b)]({'request':_0x489f38,'schema':to,'ClassRef':rt,'execute':(_0x314f5e,_0x535b4f)=>H[_0x65eaa5(0x77d)](_0x314f5e,_0x535b4f)});_0xd0e0a9[_0x65eaa5(0x454)](0xc9)[_0x65eaa5(0x20e)](_0x37ad1a);})[_0x488073(0x34f)](this[_0x488073(0x5ba)](_0x488073(0x288)),..._0x1073ff,async(_0x36e123,_0x186415)=>{const _0x44e45b=_0x488073;let _0x43d749=await this['groupValidate']({'request':_0x36e123,'schema':so,'ClassRef':ct,'execute':(_0x112c98,_0x13964a)=>H[_0x44e45b(0x288)](_0x112c98,_0x13964a)});_0x186415[_0x44e45b(0x454)](0xc9)[_0x44e45b(0x20e)](_0x43d749);})['put'](this[_0x488073(0x5ba)]('groupName'),..._0x1073ff,async(_0x17983f,_0x3e84b9)=>{const _0x27b88e=_0x488073;let _0x57ab3=await this[_0x27b88e(0x35b)]({'request':_0x17983f,'schema':ao,'ClassRef':lt,'execute':(_0x31a402,_0x3b0f21)=>H[_0x27b88e(0x818)](_0x31a402,_0x3b0f21)});_0x3e84b9['status'](0xc9)[_0x27b88e(0x20e)](_0x57ab3);})[_0x488073(0x34f)](this[_0x488073(0x5ba)](_0x488073(0x717)),..._0x1073ff,async(_0x1eb680,_0x4ab287)=>{const _0x11154f=_0x488073;let _0xba072d=await this[_0x11154f(0x35b)]({'request':_0x1eb680,'schema':io,'ClassRef':dt,'execute':(_0x13aad4,_0x2b1cf5)=>H['groupBetterSetting'](_0x13aad4,_0x2b1cf5)});_0x4ab287[_0x11154f(0x454)](0xc9)[_0x11154f(0x20e)](_0xba072d);})[_0x488073(0x34f)](this['routerPath'](_0x488073(0x44a)),..._0x1073ff,async(_0x3bf8ea,_0x123837)=>{const _0x3e2515=_0x488073;let _0xfd2dd3=await this[_0x3e2515(0x35b)]({'request':_0x3bf8ea,'schema':oo,'ClassRef':ut,'execute':(_0x3f90a6,_0x143e1a)=>H[_0x3e2515(0x44a)](_0x3f90a6,_0x143e1a)});_0x123837[_0x3e2515(0x454)](0xc9)[_0x3e2515(0x20e)](_0xfd2dd3);})[_0x488073(0x34f)](this[_0x488073(0x5ba)](_0x488073(0x908)),..._0x1073ff,async(_0x7d0c8a,_0xbeb20)=>{const _0x36834d=_0x488073;let _0x2c35c7=await this['groupValidate']({'request':_0x7d0c8a,'schema':eo,'ClassRef':mt,'execute':(_0x41fa2d,_0x102a06)=>H[_0x36834d(0x908)](_0x41fa2d,_0x102a06)});_0xbeb20[_0x36834d(0x454)](0xc9)[_0x36834d(0x20e)](_0x2c35c7);})['get'](this[_0x488073(0x5ba)](_0x488073(0x1f5)),..._0x1073ff,async(_0x222d78,_0x472720)=>{const _0x4b5ad4=_0x488073;let _0x43a746=await this[_0x4b5ad4(0x35b)]({'request':_0x222d78,'schema':Ae,'ClassRef':Z,'execute':(_0x3acfce,_0x4fec8c)=>H[_0x4b5ad4(0x27b)](_0x3acfce,_0x4fec8c)});_0x472720[_0x4b5ad4(0x454)](0xc8)[_0x4b5ad4(0x20e)](_0x43a746);})[_0x488073(0x6e5)](this['routerPath'](_0x488073(0x308)),..._0x1073ff,async(_0xc04e04,_0x387897)=>{const _0x2245c6=_0x488073;let _0x3d9344=await this['dataValidate']({'request':_0xc04e04,'schema':$,'ClassRef':E,'execute':_0xbaa524=>H[_0x2245c6(0x308)](_0xbaa524)});_0x387897[_0x2245c6(0x454)](0xc8)[_0x2245c6(0x20e)](_0x3d9344);})['get'](this['routerPath']('participants'),..._0x1073ff,async(_0x3fe43a,_0x450aa4)=>{const _0xe27d55=_0x488073;let _0xaf8872=await this[_0xe27d55(0x35b)]({'request':_0x3fe43a,'schema':Ae,'ClassRef':Z,'execute':(_0x5aa66b,_0xb72106)=>H[_0xe27d55(0x228)](_0x5aa66b,_0xb72106)});_0x450aa4[_0xe27d55(0x454)](0xc8)['json'](_0xaf8872);})[_0x488073(0x6e5)](this[_0x488073(0x5ba)](_0x488073(0x724)),..._0x1073ff,async(_0x51aa9d,_0x4526be)=>{const _0xf1a749=_0x488073;let _0x4f404e=await this['groupValidate']({'request':_0x51aa9d,'schema':Ae,'ClassRef':Z,'execute':(_0x39b365,_0x54aeeb)=>H[_0xf1a749(0x724)](_0x39b365,_0x54aeeb)});_0x4526be[_0xf1a749(0x454)](0xc8)['json'](_0x4f404e);})[_0x488073(0x55d)](this[_0x488073(0x5ba)]('inviteCodeDetails'),..._0x1073ff,async(_0x3fcaa3,_0x2fea7f)=>{const _0x59045e=_0x488073;let _0x533e4d=await this[_0x59045e(0x302)]({'request':_0x3fcaa3,'schema':Ms,'ClassRef':Te,'execute':(_0x41a7bd,_0x42a68c)=>H[_0x59045e(0x4af)](_0x41a7bd,_0x42a68c)});_0x2fea7f['status'](0xc9)[_0x59045e(0x20e)](_0x533e4d);})['put'](this[_0x488073(0x5ba)]('joinGroup'),..._0x1073ff,async(_0x5db641,_0x4af78d)=>{const _0x48b77=_0x488073;let _0x2c6c16=await this[_0x48b77(0x302)]({'request':_0x5db641,'schema':Ms,'ClassRef':Te,'execute':(_0x124898,_0x20cefc)=>H[_0x48b77(0x356)](_0x124898,_0x20cefc)});_0x4af78d[_0x48b77(0x454)](0xc9)[_0x48b77(0x20e)](_0x2c6c16);})[_0x488073(0x34f)](this[_0x488073(0x5ba)]('revokeInviteCode'),..._0x1073ff,async(_0x1ec6f6,_0x4b97aa)=>{const _0x46b837=_0x488073;let _0x383523=await this[_0x46b837(0x35b)]({'request':_0x1ec6f6,'schema':Ae,'ClassRef':Z,'execute':(_0x25e658,_0x20ba1f)=>H[_0x46b837(0x370)](_0x25e658,_0x20ba1f)});_0x4b97aa[_0x46b837(0x454)](0xc9)['json'](_0x383523);})[_0x488073(0x34f)](this[_0x488073(0x5ba)](_0x488073(0x85a)),..._0x1073ff,async(_0x7b7671,_0x5414ef)=>{const _0x21694d=_0x488073;let _0x46bf4b=await this[_0x21694d(0x35b)]({'request':_0x7b7671,'schema':Za,'ClassRef':pt,'execute':(_0x4a24f6,_0x525777)=>H['updateGParticipate'](_0x4a24f6,_0x525777)});_0x5414ef[_0x21694d(0x454)](0xc9)['json'](_0x46bf4b);})[_0x488073(0x343)](this['routerPath'](_0x488073(0x543)),..._0x1073ff,async(_0x4d03e1,_0x63b4d4)=>{const _0x1b9372=_0x488073;let _0x466a59=await this[_0x1b9372(0x35b)]({'request':_0x4d03e1,'schema':{},'ClassRef':Z,'execute':(_0x4d221e,_0x286fd2)=>H['leaveGroup'](_0x4d221e,_0x286fd2)});_0x63b4d4[_0x1b9372(0x454)](0xc8)[_0x1b9372(0x20e)](_0x466a59);});}},lo=require('express'),gt=class extends V{constructor(_0x4caced,..._0x1e9534){const _0x2f7867=a0_0x42e86b;super(),this['configService']=_0x4caced,this[_0x2f7867(0x56c)]=(0x0,lo[_0x2f7867(0x827)])();let _0x5a7cf0=_0x4caced[_0x2f7867(0x6e5)](_0x2f7867(0x327));this[_0x2f7867(0x56c)][_0x2f7867(0x55d)](_0x2f7867(0x4dc),..._0x1e9534,async(_0x4ac8f2,_0x46555e)=>{const _0x287a3a=_0x2f7867;let {instanceName:_0x4a4b76,apikey:_0x1b6e70,number:_0x1effe8}=_0x4ac8f2['body'],_0x13c73e=await re[_0x287a3a(0x869)]({'instanceName':_0x4a4b76,'apikey':_0x1b6e70,'number':_0x1effe8});return _0x46555e[_0x287a3a(0x454)](0xc9)[_0x287a3a(0x20e)](_0x13c73e);})['put'](this[_0x2f7867(0x5ba)](_0x2f7867(0x217)),..._0x1e9534,async(_0x322fbf,_0x2525b0)=>{const _0x150733=_0x2f7867;let _0x1994bd=await this[_0x150733(0x4e2)]({'request':_0x322fbf,'schema':$,'ClassRef':E,'execute':_0x2d1d3c=>re[_0x150733(0x84d)](_0x2d1d3c)});return _0x2525b0[_0x150733(0x454)](0xc8)[_0x150733(0x20e)](_0x1994bd);})[_0x2f7867(0x6e5)](this[_0x2f7867(0x5ba)](_0x2f7867(0x464)),..._0x1e9534,async(_0x3e4302,_0x32e0ad)=>{const _0x4e89b9=_0x2f7867;let _0x2a68aa=await this[_0x4e89b9(0x4e2)]({'request':_0x3e4302,'schema':$,'ClassRef':E,'execute':_0x22d3ce=>re[_0x4e89b9(0x1fb)](_0x22d3ce)});return _0x32e0ad[_0x4e89b9(0x454)](0xc8)[_0x4e89b9(0x20e)](_0x2a68aa);})[_0x2f7867(0x6e5)](this['routerPath']('connectionState'),..._0x1e9534,async(_0x56ea5f,_0x2c688f)=>{const _0xbc0e6d=_0x2f7867;let _0x3378e6=await this[_0xbc0e6d(0x4e2)]({'request':_0x56ea5f,'schema':$,'ClassRef':E,'execute':_0x33ba2b=>re[_0xbc0e6d(0x316)](_0x33ba2b)});return _0x2c688f[_0xbc0e6d(0x454)](0xc8)[_0xbc0e6d(0x20e)](_0x3378e6);})[_0x2f7867(0x6e5)](this[_0x2f7867(0x5ba)]('fetchInstances',!0x1),..._0x1e9534,async(_0x28ebf4,_0x4d2d2e)=>{const _0x5bb201=_0x2f7867;let _0x2ef37f=await this['dataValidate']({'request':_0x28ebf4,'schema':null,'ClassRef':E,'execute':_0x731e00=>re['fetchInstances'](_0x731e00)});return _0x4d2d2e[_0x5bb201(0x454)](0xc8)[_0x5bb201(0x20e)](_0x2ef37f);})['delete'](this[_0x2f7867(0x5ba)]('logout'),..._0x1e9534,async(_0x3ae23a,_0x824404)=>{const _0x4872b9=_0x2f7867;let _0x1be500=await this[_0x4872b9(0x4e2)]({'request':_0x3ae23a,'schema':$,'ClassRef':E,'execute':_0x282f47=>re[_0x4872b9(0x273)](_0x282f47)});return _0x824404['status'](0xc8)[_0x4872b9(0x20e)](_0x1be500);})[_0x2f7867(0x343)](this[_0x2f7867(0x5ba)]('delete'),..._0x1e9534,async(_0x575811,_0x24ed9c)=>{const _0xedba29=_0x2f7867;let _0x138acb=await this[_0xedba29(0x4e2)]({'request':_0x575811,'schema':$,'ClassRef':E,'execute':_0x2b0a04=>re['deleteInstance'](_0x2b0a04)});return _0x24ed9c[_0xedba29(0x454)](0xc8)[_0xedba29(0x20e)](_0x138acb);});}},uo=require(a0_0x42e86b(0x2d7)),Es=class{},W=class extends Es{},ft=class extends W{},wt=class extends W{},yt=class extends W{},bt=class extends W{},xe=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class{},$t=class extends V{constructor(..._0x18158c){const _0x5830ae=a0_0x42e86b;super(),this[_0x5830ae(0x56c)]=(0x0,uo[_0x5830ae(0x827)])(),this['router']['post'](this['routerPath'](_0x5830ae(0x510)),..._0x18158c,async(_0x1b1ecb,_0x3612a2)=>{const _0x1e8de3=_0x5830ae;let _0x3277b0=await this[_0x1e8de3(0x4e2)]({'request':_0x1b1ecb,'schema':Da,'ClassRef':ft,'execute':(_0x75f93e,_0x13cb0e)=>B[_0x1e8de3(0x510)](_0x75f93e,_0x13cb0e)});return _0x3612a2[_0x1e8de3(0x454)](0xc9)[_0x1e8de3(0x20e)](_0x3277b0);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)](_0x5830ae(0x5aa)),..._0x18158c,async(_0x39d60e,_0x3a8f4f)=>{const _0x4a4a77=_0x5830ae;let _0x3775ef=await this[_0x4a4a77(0x4e2)]({'request':_0x39d60e,'schema':Oa,'ClassRef':xe,'execute':(_0x1e506e,_0x44bac3)=>B[_0x4a4a77(0x5aa)](_0x1e506e,_0x44bac3)});return _0x3a8f4f[_0x4a4a77(0x454)](0xc9)['json'](_0x3775ef);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)]('sendMenu'),..._0x18158c,async(_0x3d5ee0,_0x226df8)=>{const _0x51ef5b=_0x5830ae;let _0x4bc678=await this['dataValidate']({'request':_0x3d5ee0,'schema':Pa,'ClassRef':bt,'execute':(_0x2549f7,_0x175c12)=>B[_0x51ef5b(0x871)](_0x2549f7,_0x175c12)});return _0x226df8[_0x51ef5b(0x454)](0xc9)[_0x51ef5b(0x20e)](_0x4bc678);})['post'](this[_0x5830ae(0x5ba)]('sendWhatsAppAudio'),..._0x18158c,async(_0x4a9951,_0x5d78a3)=>{const _0x425dcb=_0x5830ae;let _0x3f6697=await this[_0x425dcb(0x4e2)]({'request':_0x4a9951,'schema':Ia,'ClassRef':xe,'execute':(_0x42c027,_0x41a13a)=>B[_0x425dcb(0x455)](_0x42c027,_0x41a13a)});return _0x5d78a3['status'](0xc9)[_0x425dcb(0x20e)](_0x3f6697);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)](_0x5830ae(0x56d)),..._0x18158c,async(_0x57928b,_0x274334)=>{const _0x44589e=_0x5830ae;let _0x486187=await this[_0x44589e(0x4e2)]({'request':_0x57928b,'schema':ka,'ClassRef':Mt,'execute':(_0x184f37,_0x481cb6)=>B[_0x44589e(0x56d)](_0x184f37,_0x481cb6)});return _0x274334[_0x44589e(0x454)](0xc9)['json'](_0x486187);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)](_0x5830ae(0x81a)),..._0x18158c,async(_0x341995,_0x1a3c9a)=>{const _0x489753=_0x5830ae;let _0x47b362=await this['dataValidate']({'request':_0x341995,'schema':ja,'ClassRef':Ct,'execute':(_0x4d6292,_0x4019ec)=>B[_0x489753(0x81a)](_0x4d6292,_0x4019ec)});return _0x1a3c9a[_0x489753(0x454)](0xc9)[_0x489753(0x20e)](_0x47b362);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)](_0x5830ae(0x815)),..._0x18158c,async(_0x5c60b8,_0x19de78)=>{const _0x5294de=_0x5830ae;let _0x34499b=await this[_0x5294de(0x4e2)]({'request':_0x5c60b8,'schema':Fa,'ClassRef':Et,'execute':(_0x77c106,_0x4e4be8)=>B[_0x5294de(0x815)](_0x77c106,_0x4e4be8)});return _0x19de78[_0x5294de(0x454)](0xc9)[_0x5294de(0x20e)](_0x34499b);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)](_0x5830ae(0x589)),..._0x18158c,async(_0x1e341d,_0x52e2a5)=>{const _0x46bc2f=_0x5830ae;let _0x5251fd=await this[_0x46bc2f(0x4e2)]({'request':_0x1e341d,'schema':La,'ClassRef':vt,'execute':(_0x43123d,_0x1cc3d6)=>B[_0x46bc2f(0x589)](_0x43123d,_0x1cc3d6)});return _0x52e2a5[_0x46bc2f(0x454)](0xc9)[_0x46bc2f(0x20e)](_0x5251fd);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)]('sendReaction'),..._0x18158c,async(_0x339757,_0x2d312c)=>{const _0x5ccd05=_0x5830ae;let _0x4b4c85=await this[_0x5ccd05(0x4e2)]({'request':_0x339757,'schema':Ua,'ClassRef':Nt,'execute':(_0x4338a2,_0x571bcf)=>B[_0x5ccd05(0x84e)](_0x4338a2,_0x571bcf)});return _0x2d312c[_0x5ccd05(0x454)](0xc9)[_0x5ccd05(0x20e)](_0x4b4c85);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)](_0x5830ae(0x6f2)),..._0x18158c,async(_0x1c301e,_0x3c26b9)=>{const _0x4baa6c=_0x5830ae;let _0x2ec559=await this[_0x4baa6c(0x4e2)]({'request':_0x1c301e,'schema':_a,'ClassRef':yt,'execute':(_0x5e5c4d,_0x55e54e)=>B[_0x4baa6c(0x6f2)](_0x5e5c4d,_0x55e54e)});return _0x3c26b9[_0x4baa6c(0x454)](0xc9)[_0x4baa6c(0x20e)](_0x2ec559);})['post'](this[_0x5830ae(0x5ba)](_0x5830ae(0x245)),..._0x18158c,async(_0x1be793,_0x1c804f)=>{const _0x2720d3=_0x5830ae;let _0x238e3c=await this[_0x2720d3(0x4e2)]({'request':_0x1be793,'schema':xa,'ClassRef':wt,'execute':(_0x4decd7,_0x1a66e0)=>B[_0x2720d3(0x245)](_0x4decd7,_0x1a66e0)});return _0x1c804f[_0x2720d3(0x454)](0xc9)['json'](_0x238e3c);})[_0x5830ae(0x55d)](this[_0x5830ae(0x5ba)]('sendSticker'),..._0x18158c,async(_0x4b4399,_0x29888b)=>{const _0xe7be96=_0x5830ae;let _0x269c3f=await this[_0xe7be96(0x4e2)]({'request':_0x4b4399,'schema':Ta,'ClassRef':St,'execute':(_0x3db3b7,_0x5570e8)=>B['sendSticker'](_0x3db3b7,_0x5570e8)});return _0x29888b[_0xe7be96(0x454)](0xc9)[_0xe7be96(0x20e)](_0x269c3f);});}},po=require('express'),Rt=class{},Dt=class extends V{constructor(..._0x28eaf1){const _0x5012a4=a0_0x42e86b;super(),this[_0x5012a4(0x56c)]=(0x0,po[_0x5012a4(0x827)])(),this[_0x5012a4(0x56c)][_0x5012a4(0x55d)](this[_0x5012a4(0x5ba)](_0x5012a4(0x55f)),..._0x28eaf1,async(_0x183650,_0x378a74)=>{const _0x3c9ee3=_0x5012a4;let _0x433dff=await this[_0x3c9ee3(0x4e2)]({'request':_0x183650,'schema':no,'ClassRef':Rt,'execute':(_0x363425,_0x20fd97)=>vs[_0x3c9ee3(0x904)](_0x363425,_0x20fd97)});_0x378a74['status'](0xc9)[_0x3c9ee3(0x20e)](_0x433dff);})[_0x5012a4(0x6e5)](this[_0x5012a4(0x5ba)](_0x5012a4(0x2a1)),..._0x28eaf1,async(_0x480b17,_0x173d2d)=>{const _0x5423fb=_0x5012a4;let _0x49155b=await this[_0x5423fb(0x4e2)]({'request':_0x480b17,'schema':$,'ClassRef':E,'execute':_0x44c4f5=>vs['findWebhook'](_0x44c4f5)});_0x173d2d[_0x5423fb(0x454)](0xc8)[_0x5423fb(0x20e)](_0x49155b);});}},mo=require(a0_0x42e86b(0x2d7)),b=new R(a0_0x42e86b(0x378)),At=class extends V{constructor(..._0x46b624){const _0x1584c8=a0_0x42e86b;super(),this[_0x1584c8(0x56c)]=(0x0,mo[_0x1584c8(0x827)])(),this['router']['post'](this[_0x1584c8(0x5ba)]('scheduleMessage'),..._0x46b624,async(_0x4ffc65,_0x194509)=>{const _0x5900f2=_0x1584c8;let _0x3e0905=_0x4ffc65[_0x5900f2(0x23f)];b[_0x5900f2(0x3f4)](_0x5900f2(0x368)),b[_0x5900f2(0x3f4)](_0x5900f2(0x8d0)),b['verbose'](_0x4ffc65[_0x5900f2(0x23f)]);let _0x3752a7=await this['dataValidate']({'request':_0x4ffc65,'schema':$,'ClassRef':E,'execute':_0x1682ec=>T[_0x5900f2(0x565)](_0x1682ec,_0x3e0905)});_0x194509[_0x5900f2(0x454)](0xc8)[_0x5900f2(0x20e)](_0x3752a7);})[_0x1584c8(0x6e5)](this[_0x1584c8(0x5ba)](_0x1584c8(0x398)),..._0x46b624,async(_0x326aa0,_0x251aab)=>{const _0x44217a=_0x1584c8;let _0x4b8568=await this['dataValidate']({'request':_0x326aa0,'schema':$,'ClassRef':E,'execute':_0x2fd96c=>T[_0x44217a(0x7cc)](_0x2fd96c)});_0x251aab['status'](0xc8)[_0x44217a(0x20e)](_0x4b8568);})[_0x1584c8(0x343)](this[_0x1584c8(0x5ba)](_0x1584c8(0x2fa)),..._0x46b624,async(_0xe75d2a,_0x4a5616)=>{const _0x5146d=_0x1584c8;b[_0x5146d(0x3f4)](_0x5146d(0x75f));let _0x57bc83=await this[_0x5146d(0x4e2)]({'request':_0xe75d2a,'schema':$,'ClassRef':E,'execute':_0xf5f59f=>T[_0x5146d(0x2fa)](_0xf5f59f)});_0x4a5616[_0x5146d(0x454)](0xc8)[_0x5146d(0x20e)](_0x57bc83);})['post'](this[_0x1584c8(0x5ba)]('startFlow'),..._0x46b624,async(_0x16124a,_0x45a685)=>{const _0x1cfec4=_0x1584c8;let _0xa13266=_0x16124a[_0x1cfec4(0x23f)];b[_0x1cfec4(0x3f4)](_0x1cfec4(0x538)),b[_0x1cfec4(0x3f4)](_0x1cfec4(0x8d0)),b[_0x1cfec4(0x3f4)](_0x16124a[_0x1cfec4(0x23f)]);let _0x2f9af8=await this[_0x1cfec4(0x4e2)]({'request':_0x16124a,'schema':$,'ClassRef':E,'execute':_0x36cf0e=>T[_0x1cfec4(0x6fc)](_0x36cf0e,_0xa13266)});_0x45a685['status'](0xc8)['json'](_0x2f9af8);})[_0x1584c8(0x6e5)](this[_0x1584c8(0x5ba)](_0x1584c8(0x8f2)),..._0x46b624,async(_0x3abc3d,_0x599a6a)=>{const _0x472adc=_0x1584c8;b[_0x472adc(0x3f4)](_0x472adc(0x3a5));let _0x2886c4=await this[_0x472adc(0x4e2)]({'request':_0x3abc3d,'schema':$,'ClassRef':E,'execute':_0x1ed3dc=>T['getAutomateSystem'](_0x1ed3dc)});_0x599a6a[_0x472adc(0x454)](0xc8)[_0x472adc(0x20e)](_0x2886c4);})[_0x1584c8(0x6e5)](this[_0x1584c8(0x5ba)](_0x1584c8(0x645)),..._0x46b624,async(_0x52c900,_0x353e2d)=>{const _0x26f150=_0x1584c8;b[_0x26f150(0x3f4)](_0x26f150(0x1fa));let _0x2e47b4=await this[_0x26f150(0x4e2)]({'request':_0x52c900,'schema':$,'ClassRef':E,'execute':_0x4a1871=>T[_0x26f150(0x8f2)](_0x4a1871)});_0x353e2d[_0x26f150(0x454)](0xc8)[_0x26f150(0x20e)](_0x2e47b4);})['post'](this[_0x1584c8(0x5ba)](_0x1584c8(0x1f3)),..._0x46b624,async(_0x4b01c0,_0x1ca5d9)=>{const _0x18f8e8=_0x1584c8;let _0x4329a5=_0x4b01c0['body'];b[_0x18f8e8(0x3f4)](_0x18f8e8(0x3ee)),b[_0x18f8e8(0x3f4)]('request\x20body:\x20'),b[_0x18f8e8(0x3f4)](_0x4b01c0[_0x18f8e8(0x23f)]);let _0x57d951=await this['dataValidate']({'request':_0x4b01c0,'schema':$,'ClassRef':E,'execute':_0x550b02=>T['updateAgent'](_0x550b02,_0x4329a5)});_0x1ca5d9['status'](0xc8)['json'](_0x57d951);})[_0x1584c8(0x55d)](this['routerPath'](_0x1584c8(0x391)),..._0x46b624,async(_0x200646,_0x4ca481)=>{const _0x1dfcc0=_0x1584c8;let _0x5428c3=_0x200646[_0x1dfcc0(0x23f)];b['verbose']('request\x20received\x20in\x20updateCustomFields'),b[_0x1dfcc0(0x3f4)](_0x1dfcc0(0x8d0)),b['verbose'](_0x200646[_0x1dfcc0(0x23f)]);let _0xb43f94=await this[_0x1dfcc0(0x4e2)]({'request':_0x200646,'schema':$,'ClassRef':E,'execute':_0x2ed2c7=>T[_0x1dfcc0(0x391)](_0x2ed2c7,_0x5428c3)});_0x4ca481['status'](0xc8)[_0x1dfcc0(0x20e)](_0xb43f94);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)]('updateAutoCompleteMessages'),..._0x46b624,async(_0x1aa993,_0x2b1921)=>{const _0x161131=_0x1584c8;let _0x2020ba=_0x1aa993[_0x161131(0x23f)];b[_0x161131(0x3f4)](_0x161131(0x622)),b[_0x161131(0x3f4)](_0x161131(0x8d0)),b[_0x161131(0x3f4)](_0x1aa993[_0x161131(0x23f)]);let _0x5e137c=await this[_0x161131(0x4e2)]({'request':_0x1aa993,'schema':$,'ClassRef':E,'execute':_0x370d6a=>T['updateAutoCompleteMessages'](_0x370d6a,_0x2020ba)});_0x2b1921[_0x161131(0x454)](0xc8)['json'](_0x5e137c);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x473)),..._0x46b624,async(_0x2168ec,_0x226aa7)=>{const _0x25e2a4=_0x1584c8;let _0x58059e=_0x2168ec[_0x25e2a4(0x23f)];b[_0x25e2a4(0x3f4)](_0x25e2a4(0x795)),b['verbose'](_0x25e2a4(0x8d0)),b[_0x25e2a4(0x3f4)](_0x2168ec[_0x25e2a4(0x23f)]);let _0x1f7683=await this['dataValidate']({'request':_0x2168ec,'schema':$,'ClassRef':E,'execute':_0x32f4ef=>T['updateFlowConfig'](_0x32f4ef,_0x58059e)});_0x226aa7['status'](0xc8)['json'](_0x1f7683);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x4c3)),..._0x46b624,async(_0x436d29,_0x1a63cd)=>{const _0x28b877=_0x1584c8;let _0x2d9acf=_0x436d29[_0x28b877(0x23f)];b[_0x28b877(0x3f4)](_0x28b877(0x440)),b[_0x28b877(0x3f4)](_0x28b877(0x8d0)),b[_0x28b877(0x3f4)](_0x436d29[_0x28b877(0x23f)]);let _0x26feca=await this[_0x28b877(0x4e2)]({'request':_0x436d29,'schema':$,'ClassRef':E,'execute':_0x4065eb=>T[_0x28b877(0x4c3)](_0x4065eb,_0x2d9acf)});_0x1a63cd['status'](0xc8)[_0x28b877(0x20e)](_0x26feca);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x42c)),..._0x46b624,async(_0x423993,_0x1fa83c)=>{const _0x1a249d=_0x1584c8;let _0x1bcd8d=_0x423993[_0x1a249d(0x23f)];b['verbose'](_0x1a249d(0x73f)),b[_0x1a249d(0x3f4)](_0x1a249d(0x8d0)),b['verbose'](_0x423993[_0x1a249d(0x23f)]);let _0x12b552=await this[_0x1a249d(0x4e2)]({'request':_0x423993,'schema':$,'ClassRef':E,'execute':_0x2a3d2c=>T[_0x1a249d(0x42c)](_0x2a3d2c,_0x1bcd8d)});_0x1fa83c[_0x1a249d(0x454)](0xc8)['json'](_0x12b552);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x4d1)),..._0x46b624,async(_0xbeba30,_0x53307f)=>{const _0x815692=_0x1584c8;let _0x5dd888=_0xbeba30['body'];b[_0x815692(0x3f4)](_0x815692(0x646)),b[_0x815692(0x3f4)](_0x815692(0x8d0)),b[_0x815692(0x3f4)](_0xbeba30['body']);let _0x5aabe7=await this[_0x815692(0x4e2)]({'request':_0xbeba30,'schema':$,'ClassRef':E,'execute':_0x22ae77=>T[_0x815692(0x4d1)](_0x22ae77,_0x5dd888)});_0x53307f[_0x815692(0x454)](0xc8)[_0x815692(0x20e)](_0x5aabe7);})[_0x1584c8(0x343)](this[_0x1584c8(0x5ba)](_0x1584c8(0x358)),..._0x46b624,async(_0x3450db,_0x4a7a4b)=>{const _0x4fa857=_0x1584c8;let _0x5b96e7=_0x3450db[_0x4fa857(0x23f)];b[_0x4fa857(0x3f4)]('request\x20received\x20in\x20deleteConversation'),b[_0x4fa857(0x3f4)](_0x4fa857(0x8d0)),b['verbose'](_0x3450db[_0x4fa857(0x23f)]);let _0x5d385a=await this[_0x4fa857(0x4e2)]({'request':_0x3450db,'schema':$,'ClassRef':E,'execute':_0x1f386e=>T[_0x4fa857(0x358)](_0x1f386e,_0x5b96e7)});_0x4a7a4b['status'](0xc8)[_0x4fa857(0x20e)](_0x5d385a);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x689)),..._0x46b624,async(_0x5eb986,_0x1e1e07)=>{const _0x1f6330=_0x1584c8;let _0x12d9e3=_0x5eb986['body'],_0x96c5b=_0x5eb986['headers']['apikey'];b['verbose'](_0x1f6330(0x361)),b[_0x1f6330(0x3f4)](_0x1f6330(0x8d0)),b[_0x1f6330(0x3f4)](_0x5eb986[_0x1f6330(0x23f)]);let _0x2a7fb2=await this[_0x1f6330(0x4e2)]({'request':_0x5eb986,'schema':$,'ClassRef':E,'execute':_0x3a91b5=>T[_0x1f6330(0x2d0)](_0x3a91b5,_0x12d9e3,_0x96c5b)});_0x1e1e07[_0x1f6330(0x454)](0xc8)[_0x1f6330(0x20e)](_0x2a7fb2);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)]('editflow'),..._0x46b624,async(_0x27b24e,_0x5d4305)=>{const _0x35f053=_0x1584c8;let _0x195a05=_0x27b24e[_0x35f053(0x23f)],_0x52d183=_0x27b24e[_0x35f053(0x46d)][_0x35f053(0x7c2)];b[_0x35f053(0x3f4)](_0x35f053(0x4df)),b[_0x35f053(0x3f4)](_0x35f053(0x8d0)),b[_0x35f053(0x3f4)](_0x27b24e[_0x35f053(0x23f)]),delete _0x195a05[_0x35f053(0x6b9)],delete _0x195a05['variables'],delete _0x195a05[_0x35f053(0x4b1)],delete _0x195a05['conditions'];let _0x56d9f2=await this[_0x35f053(0x4e2)]({'request':_0x27b24e,'schema':$,'ClassRef':E,'execute':_0x5a3668=>T[_0x35f053(0x237)](_0x5a3668,_0x195a05,_0x52d183)});_0x5d4305[_0x35f053(0x454)](0xc8)[_0x35f053(0x20e)](_0x56d9f2);})['post'](this['routerPath'](_0x1584c8(0x5a7)),..._0x46b624,async(_0xf32768,_0x2fc387)=>{const _0x4b2eb3=_0x1584c8;let _0x565e3f=_0xf32768[_0x4b2eb3(0x23f)];b[_0x4b2eb3(0x3f4)]('request\x20received\x20in\x20editFlow'),b[_0x4b2eb3(0x3f4)](_0x4b2eb3(0x8d0)),b[_0x4b2eb3(0x3f4)](_0xf32768[_0x4b2eb3(0x23f)]);let _0x453b5f=await this[_0x4b2eb3(0x4e2)]({'request':_0xf32768,'schema':$,'ClassRef':E,'execute':_0x3692c9=>T[_0x4b2eb3(0x304)](_0x3692c9,_0x565e3f)});_0x2fc387[_0x4b2eb3(0x454)](0xc8)[_0x4b2eb3(0x20e)](_0x453b5f);})['post'](this[_0x1584c8(0x5ba)](_0x1584c8(0x665)),..._0x46b624,async(_0x3710e6,_0x45eb5d)=>{const _0x5c64a1=_0x1584c8;let _0x38c1dd=_0x3710e6[_0x5c64a1(0x23f)];b['verbose']('request\x20received\x20in\x20editFlow'),b[_0x5c64a1(0x3f4)](_0x5c64a1(0x8d0)),b[_0x5c64a1(0x3f4)](_0x3710e6[_0x5c64a1(0x23f)]);let _0x5bcb5a=await this[_0x5c64a1(0x4e2)]({'request':_0x3710e6,'schema':$,'ClassRef':E,'execute':_0x24f0d4=>T[_0x5c64a1(0x1fd)](_0x24f0d4,_0x38c1dd)});_0x45eb5d[_0x5c64a1(0x454)](0xc8)[_0x5c64a1(0x20e)](_0x5bcb5a);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x39f)),..._0x46b624,async(_0x44c507,_0x2f1526)=>{const _0x24b4e7=_0x1584c8;let _0x1c2739=_0x44c507[_0x24b4e7(0x23f)];b[_0x24b4e7(0x3f4)](_0x24b4e7(0x4df)),b['verbose'](_0x24b4e7(0x8d0)),b[_0x24b4e7(0x3f4)](_0x44c507[_0x24b4e7(0x23f)]);let _0x4d23b8=await this['dataValidate']({'request':_0x44c507,'schema':$,'ClassRef':E,'execute':_0x5c4d70=>T[_0x24b4e7(0x6bf)](_0x5c4d70,_0x1c2739)});_0x2f1526[_0x24b4e7(0x454)](0xc8)[_0x24b4e7(0x20e)](_0x4d23b8);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x559)),..._0x46b624,async(_0x231b54,_0x2b5855)=>{const _0x1e3800=_0x1584c8;let _0x304f55=_0x231b54[_0x1e3800(0x23f)];b[_0x1e3800(0x3f4)]('request\x20received\x20in\x20editFlowgroup'),b['verbose'](_0x1e3800(0x8d0)),b[_0x1e3800(0x3f4)](_0x231b54[_0x1e3800(0x23f)]);let _0x2ebc0f=await this['dataValidate']({'request':_0x231b54,'schema':$,'ClassRef':E,'execute':_0x976576=>T[_0x1e3800(0x6f4)](_0x976576,_0x304f55)});_0x2b5855[_0x1e3800(0x454)](0xc8)[_0x1e3800(0x20e)](_0x2ebc0f);})['post'](this[_0x1584c8(0x5ba)](_0x1584c8(0x8d9)),..._0x46b624,async(_0x528c8d,_0x29c13b)=>{const _0x3062f5=_0x1584c8;let _0x14c392=_0x528c8d['body'];b[_0x3062f5(0x3f4)]('request\x20received\x20in\x20editFlowcondition'),b[_0x3062f5(0x3f4)](_0x3062f5(0x8d0)),b[_0x3062f5(0x3f4)](_0x528c8d[_0x3062f5(0x23f)]);let _0x581f6a=await this[_0x3062f5(0x4e2)]({'request':_0x528c8d,'schema':$,'ClassRef':E,'execute':_0x159380=>T[_0x3062f5(0x79c)](_0x159380,_0x14c392)});_0x29c13b[_0x3062f5(0x454)](0xc8)['json'](_0x581f6a);})[_0x1584c8(0x55d)](this[_0x1584c8(0x5ba)](_0x1584c8(0x21a)),..._0x46b624,async(_0x346243,_0x433043)=>{const _0x5beaf7=_0x1584c8;let _0x5e174e=_0x346243['body'];b['verbose']('request\x20received\x20in\x20editFlowvariable'),b[_0x5beaf7(0x3f4)](_0x5beaf7(0x8d0)),b[_0x5beaf7(0x3f4)](_0x346243[_0x5beaf7(0x23f)]);let _0x56965d=await this[_0x5beaf7(0x4e2)]({'request':_0x346243,'schema':$,'ClassRef':E,'execute':_0x421e1c=>T[_0x5beaf7(0x8cc)](_0x421e1c,_0x5e174e)});_0x433043['status'](0xc8)[_0x5beaf7(0x20e)](_0x56965d);})['post'](this[_0x1584c8(0x5ba)](_0x1584c8(0x3ed)),..._0x46b624,async(_0x34e752,_0x2d4cbe)=>{const _0x4f3a3c=_0x1584c8;let _0x39c525=_0x34e752[_0x4f3a3c(0x23f)];b[_0x4f3a3c(0x3f4)](_0x4f3a3c(0x6ea)),b[_0x4f3a3c(0x3f4)](_0x4f3a3c(0x8d0)),b['verbose'](_0x34e752['body']);let _0x1d734e=await this[_0x4f3a3c(0x4e2)]({'request':_0x34e752,'schema':$,'ClassRef':E,'execute':_0x75edfb=>T['getFlow'](_0x75edfb,_0x39c525)});_0x2d4cbe[_0x4f3a3c(0x454)](0xc8)['json'](_0x1d734e);})[_0x1584c8(0x343)](this[_0x1584c8(0x5ba)](_0x1584c8(0x786)),..._0x46b624,async(_0x5744cf,_0x173796)=>{const _0x5974a0=_0x1584c8;let _0x388f8a=_0x5744cf['body'];b[_0x5974a0(0x3f4)](_0x5974a0(0x621)),b[_0x5974a0(0x3f4)](_0x5974a0(0x8d0)),b[_0x5974a0(0x3f4)](_0x5744cf[_0x5974a0(0x23f)]);let _0x4142eb=await this[_0x5974a0(0x4e2)]({'request':_0x5744cf,'schema':$,'ClassRef':E,'execute':_0x5be252=>T[_0x5974a0(0x384)](_0x5be252,_0x388f8a)});_0x173796[_0x5974a0(0x454)](0xc8)[_0x5974a0(0x20e)](_0x4142eb);})[_0x1584c8(0x6e5)](this['routerPath'](_0x1584c8(0x6ae)),..._0x46b624,async(_0x1ca738,_0x581ab8)=>{const _0x97e4e3=_0x1584c8;b[_0x97e4e3(0x3f4)]('request\x20received\x20in\x20allFlows');let _0x4d018a=await this[_0x97e4e3(0x4e2)]({'request':_0x1ca738,'schema':$,'ClassRef':E,'execute':_0x282bc8=>T[_0x97e4e3(0x32a)](_0x282bc8)});_0x581ab8[_0x97e4e3(0x454)](0xc8)['json'](_0x4d018a);});}},wo=A(require(a0_0x42e86b(0x800))),ee={};function ho(_0x1808b6,_0x442a97,_0x5cecbf,_0x4afb85){ee[_0x1808b6]||(ee[_0x1808b6]={}),ee[_0x1808b6][_0x442a97]={'id':_0x442a97,'response':_0x5cecbf,'events':_0x4afb85};}function go(_0x5548ac,_0x184193){!ee[_0x5548ac]||!ee[_0x5548ac][_0x184193]||delete ee[_0x5548ac][_0x184193];}function J(_0x34eb78,_0x3ba002,_0x4bc78b){const _0x59d814=a0_0x42e86b;if(!ee[_0x34eb78])return;let _0x51b2cd=_0x59d814(0x3e4)+JSON[_0x59d814(0x5b1)](_0x4bc78b)+'\x0a\x0a';Object[_0x59d814(0x892)](ee[_0x34eb78])['forEach'](_0x5f5227=>{const _0x2ebdff=_0x59d814;_0x5f5227[_0x2ebdff(0x47c)][_0x2ebdff(0x8d2)](_0x3ba002)&&_0x5f5227[_0x2ebdff(0x674)]['write'](_0x51b2cd);});}function fo(){const _0x2ffda0=a0_0x42e86b;let _0x331b68={};for(let _0x5ef131 in ee)_0x331b68[_0x5ef131]=Object[_0x2ffda0(0x892)](ee[_0x5ef131])['map'](_0x3561e3=>({'id':_0x3561e3['id'],'events':_0x3561e3[_0x2ffda0(0x47c)]}));return _0x331b68;}var yo=require(a0_0x42e86b(0x874)),$s=require('mongoose'),Ns=class{},Ci=new $s['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ei=new $s[(a0_0x42e86b(0x754))]({'_id':{'type':String,'default':a0_0x42e86b(0x4d3)},'WebhookGlobal':{'type':Ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ce=D?.[a0_0x42e86b(0x353)](Ns[a0_0x42e86b(0x2ea)],Ei,a0_0x42e86b(0x307)),vi=wo[a0_0x42e86b(0x5d8)][a0_0x42e86b(0x468)](__dirname,a0_0x42e86b(0x4fb)),Oe=(0x0,Tt[a0_0x42e86b(0x827)])(),Ni=M['get'](a0_0x42e86b(0x327))[a0_0x42e86b(0x374)],oe=[Ca,Ea,$a[Ni]];Oe[a0_0x42e86b(0x81e)](a0_0x42e86b(0x8c0),Tt[a0_0x42e86b(0x5d8)][a0_0x42e86b(0x34e)](vi))[a0_0x42e86b(0x6e5)](a0_0x42e86b(0x719),async(_0x1191d4,_0x4c9d0a)=>{const _0x1d78ed=a0_0x42e86b;console['log'](_0x1d78ed(0x2c4));let _0x547b0f=_0x1191d4[_0x1d78ed(0x52e)][_0x1d78ed(0x82c)],_0x487ea6=(_0x1191d4[_0x1d78ed(0x2c6)]['events']||'')['split'](','),_0x450d60=(0x0,yo['v4'])();console[_0x1d78ed(0x247)](_0x1d78ed(0x5ab),_0x547b0f),console[_0x1d78ed(0x247)](_0x1d78ed(0x68a),_0x487ea6);let _0x42f9f2=M[_0x1d78ed(0x6e5)](_0x1d78ed(0x327))[_0x1d78ed(0x837)],_0x4ebc4d=_0x1191d4[_0x1d78ed(0x2c6)][_0x1d78ed(0x7c2)];if(console[_0x1d78ed(0x247)](_0x1d78ed(0x564),_0x4ebc4d),_0x42f9f2[_0x1d78ed(0x405)]!==_0x4ebc4d){console['log'](_0x1d78ed(0x444));try{let _0x3dcd27=await pe[_0x1d78ed(0x3c2)][_0x1d78ed(0x2a1)](_0x547b0f);if(console[_0x1d78ed(0x247)](_0x1d78ed(0x545),_0x3dcd27),!_0x3dcd27||_0x3dcd27[_0x1d78ed(0x7c2)]!==_0x4ebc4d)return console[_0x1d78ed(0x247)](_0x1d78ed(0x2f4)),_0x4c9d0a[_0x1d78ed(0x454)](0x191)['send'](_0x1d78ed(0x4e7));}catch(_0x39880c){return console[_0x1d78ed(0x690)](_0x1d78ed(0x5ff),_0x39880c),_0x4c9d0a['status'](0x191)[_0x1d78ed(0x87b)](_0x1d78ed(0x640));}}if(!await Re(_0x547b0f))return _0x4c9d0a[_0x1d78ed(0x454)](0x194)['send'](_0x1d78ed(0x5e6));_0x4c9d0a[_0x1d78ed(0x8d3)](_0x1d78ed(0x3b8),_0x1d78ed(0x61c)),_0x4c9d0a[_0x1d78ed(0x8d3)](_0x1d78ed(0x2bb),_0x1d78ed(0x25d)),_0x4c9d0a['setHeader']('Connection',_0x1d78ed(0x27c)),_0x4c9d0a[_0x1d78ed(0x6bc)]();let _0x14d4d7=_0x1d78ed(0x3e4)+JSON[_0x1d78ed(0x5b1)]({'info':_0x1d78ed(0x4a4)})+'\x0a\x0a';_0x4c9d0a[_0x1d78ed(0x858)](_0x14d4d7),ho(_0x547b0f,_0x450d60,_0x4c9d0a,_0x487ea6),_0x1191d4['on'](_0x1d78ed(0x5d1),()=>{const _0x131ec2=_0x1d78ed;console['log'](_0x131ec2(0x7dd)+_0x547b0f),go(_0x547b0f,_0x450d60);});}),Oe['post'](a0_0x42e86b(0x450),async(_0x48100c,_0x36e490)=>{const _0x1b866f=a0_0x42e86b;console['log']('iniciando\x20fluxo\x20router');let _0x26c475=_0x48100c['params']['instance'],_0x326975=_0x48100c[_0x1b866f(0x52e)][_0x1b866f(0x732)],_0x506546=_0x48100c['query'][_0x1b866f(0x3a3)]||'',_0x2db2f7=_0x48100c[_0x1b866f(0x23f)];console[_0x1b866f(0x247)](_0x1b866f(0x365),_0x26c475),console[_0x1b866f(0x247)]('StartID:',_0x326975),console['log'](_0x1b866f(0x726),_0x506546),console[_0x1b866f(0x247)]('Request\x20Body:',_0x2db2f7);try{if(!await Re(_0x26c475))return _0x36e490['status'](0x194)[_0x1b866f(0x87b)]('Instância\x20não\x20encontrada.');let _0x55cc02=await T[_0x1b866f(0x313)](_0x26c475,_0x326975,_0x506546,_0x2db2f7);_0x36e490[_0x1b866f(0x87b)](_0x55cc02);}catch(_0x35ae23){console[_0x1b866f(0x690)](_0x35ae23),_0x36e490[_0x1b866f(0x454)](0x1f4)['send'](_0x1b866f(0x5e3));}}),Oe[a0_0x42e86b(0x6e5)](a0_0x42e86b(0x40b),(_0x108bc2,_0x5f292d)=>{const _0x3ebfd2=a0_0x42e86b;let _0x3782ca=fo();_0x5f292d[_0x3ebfd2(0x20e)](_0x3782ca);})[a0_0x42e86b(0x6e5)]('/',(_0x5d0cfa,_0x124f2b)=>{const _0x48663d=a0_0x42e86b;let _0x518b28=M[_0x48663d(0x6e5)]('SERVER')[_0x48663d(0x805)];if(_0x518b28){let _0x5bed2e=encodeURIComponent(''+_0x518b28);_0x124f2b['redirect'](_0x48663d(0x656)+_0x5bed2e);return;}let _0x286aa9=M[_0x48663d(0x6e5)]('SSL_CONF'),_0x11e27b=_0x286aa9&&_0x286aa9['FULLCHAIN'][_0x48663d(0x8a3)]('/')[0x4];if(_0x11e27b){let _0x1ad803=encodeURIComponent(_0x48663d(0x4f3)+_0x11e27b);_0x124f2b[_0x48663d(0x4e0)](_0x48663d(0x656)+_0x1ad803);}else _0x124f2b['redirect']('https://uazapi-plugin.bubbleapps.io/');})[a0_0x42e86b(0x34f)]('/exit',...oe,async(_0x5f3691,_0x286396)=>{const _0x411f7f=a0_0x42e86b;try{console[_0x411f7f(0x247)](_0x411f7f(0x88a)),_0x286396['status'](0xc8)[_0x411f7f(0x20e)]({'message':_0x411f7f(0x7ea)}),_0x286396['on']('finish',()=>process[_0x411f7f(0x2f3)](0x0));}catch(_0x3babe9){console[_0x411f7f(0x690)](_0x411f7f(0x67d),_0x3babe9),_0x286396[_0x411f7f(0x454)](0x1f4)['json']({'message':_0x411f7f(0x318)});}})['put'](a0_0x42e86b(0x3fe),...oe,async(_0x53d29b,_0x4f2d72)=>{const _0x18afd5=a0_0x42e86b;try{let _0x2f5d54=_0x53d29b[_0x18afd5(0x23f)];await Ce[_0x18afd5(0x5a3)]({},{'$set':_0x2f5d54},{'upsert':!0x0});let _0x3aacb6=await Ce[_0x18afd5(0x551)]();_0x4f2d72['json'](_0x3aacb6);}catch(_0x27253f){_0x4f2d72[_0x18afd5(0x454)](0x190)[_0x18afd5(0x87b)](_0x27253f[_0x18afd5(0x64b)]);}})['get']('/config',...oe,async(_0x38e931,_0x1a211a)=>{const _0x275f1b=a0_0x42e86b;try{let _0x3f13a5=await Ce[_0x275f1b(0x551)]();if(!_0x3f13a5)return _0x1a211a[_0x275f1b(0x20e)]({});_0x1a211a[_0x275f1b(0x20e)](_0x3f13a5);}catch(_0x73f716){_0x1a211a['status'](0x1f4)[_0x275f1b(0x87b)](_0x73f716[_0x275f1b(0x64b)]);}})[a0_0x42e86b(0x81e)](a0_0x42e86b(0x2b8),new gt(M,...oe)[a0_0x42e86b(0x56c)])[a0_0x42e86b(0x81e)](a0_0x42e86b(0x8d7),new $t(...oe)[a0_0x42e86b(0x56c)])['use'](a0_0x42e86b(0x4a8),new it(...oe)[a0_0x42e86b(0x56c)])[a0_0x42e86b(0x81e)](a0_0x42e86b(0x836),new ht(...oe)[a0_0x42e86b(0x56c)])['use'](a0_0x42e86b(0x902),new Dt(...oe)['router'])[a0_0x42e86b(0x81e)](a0_0x42e86b(0x7fd),new At(...oe)['router']);var f=class{constructor(..._0x40013d){const _0x42108c=a0_0x42e86b;throw{'status':0x190,'error':_0x42108c(0x611),'message':_0x40013d[_0x42108c(0x40e)]>0x0?_0x40013d:void 0x0};}},ae=class{constructor(..._0x1b1d6b){const _0x1d9422=a0_0x42e86b;throw{'status':0x191,'error':_0x1d9422(0x58b),'message':_0x1b1d6b['length']>0x0?_0x1b1d6b:void 0x0};}},Y=class{constructor(..._0x461da9){const _0x4f8c62=a0_0x42e86b;throw{'status':0x193,'error':'Forbidden','message':_0x461da9[_0x4f8c62(0x40e)]>0x0?_0x461da9:void 0x0};}},q=class{constructor(..._0x320a12){const _0x4fb827=a0_0x42e86b;throw{'status':0x194,'error':_0x4fb827(0x5d4),'message':_0x320a12[_0x4fb827(0x40e)]>0x0?_0x320a12:void 0x0};}},x=class{constructor(..._0x2fe67e){const _0x1635c6=a0_0x42e86b;throw{'status':0x1f4,'error':_0x1635c6(0x479),'message':_0x2fe67e[_0x1635c6(0x40e)]>0x0?_0x2fe67e:void 0x0};}},me=require('@whiskeysockets/baileys');async function Rs(_0x8b01a7){const _0xe45f4f=a0_0x42e86b;let _0xb28397=new R(Rs['name']),_0x8e48a1=D[_0xe45f4f(0x6a6)](),_0x93c014=_0x8e48a1['db'](M['get'](_0xe45f4f(0x30d))['CONNECTION']['DB_PREFIX_NAME']+_0xe45f4f(0x8dc))[_0xe45f4f(0x5b7)](_0x8b01a7),_0x53f963=async(_0x29c033,_0x294a6d)=>{const _0x581ad0=_0xe45f4f;try{return await _0x8e48a1[_0x581ad0(0x464)](),await _0x93c014[_0x581ad0(0x877)]({'_id':_0x294a6d},JSON[_0x581ad0(0x29d)](JSON[_0x581ad0(0x5b1)](_0x29c033,me[_0x581ad0(0x4a9)][_0x581ad0(0x8bf)])),{'upsert':!0x0});}catch{}},_0x571e6a=async _0xb306d8=>{const _0xa933d4=_0xe45f4f;try{await _0x8e48a1[_0xa933d4(0x464)]();let _0x584d84=await _0x93c014[_0xa933d4(0x551)]({'_id':_0xb306d8}),_0xce3034=JSON[_0xa933d4(0x5b1)](_0x584d84);return JSON['parse'](_0xce3034,me['BufferJSON'][_0xa933d4(0x8da)]);}catch{}},_0x5b79cf=async _0x31df5d=>{const _0x500b92=_0xe45f4f;try{return await _0x8e48a1['connect'](),await _0x93c014[_0x500b92(0x5d9)]({'_id':_0x31df5d});}catch{}},_0x4a0cbf=await _0x571e6a(_0xe45f4f(0x514))||(0x0,me[_0xe45f4f(0x7b0)])();return{'state':{'creds':_0x4a0cbf,'keys':{'get':async(_0xe312de,_0xfd0cfc)=>{const _0x131e5b=_0xe45f4f;let _0x2c5214={};return await Promise[_0x131e5b(0x320)](_0xfd0cfc[_0x131e5b(0x57c)](async _0x3c9552=>{const _0x4b66d5=_0x131e5b;let _0x4f9d0d=await _0x571e6a(_0xe312de+'-'+_0x3c9552);_0xe312de===_0x4b66d5(0x7d8)&&_0x4f9d0d&&(_0x4f9d0d=me[_0x4b66d5(0x39d)][_0x4b66d5(0x4da)][_0x4b66d5(0x85e)][_0x4b66d5(0x900)](_0x4f9d0d)),_0x2c5214[_0x3c9552]=_0x4f9d0d;})),_0x2c5214;},'set':async _0x4dc787=>{const _0x362257=_0xe45f4f;let _0x2f27b3=[];for(let _0x511ac0 in _0x4dc787)for(let _0x36135c in _0x4dc787[_0x511ac0]){let _0x3991d7=_0x4dc787[_0x511ac0][_0x36135c],_0x4f8dcf=_0x511ac0+'-'+_0x36135c;_0x2f27b3[_0x362257(0x234)](_0x3991d7?_0x53f963(_0x3991d7,_0x4f8dcf):_0x5b79cf(_0x4f8dcf));}await Promise[_0x362257(0x320)](_0x2f27b3);}}},'saveCreds':async()=>_0x53f963(_0x4a0cbf,_0xe45f4f(0x514))};}var Os=A(require(a0_0x42e86b(0x826))),Is=A(require(a0_0x42e86b(0x3d8))),It=require(a0_0x42e86b(0x42a)),bo=require(a0_0x42e86b(0x80c)),Ot=require(a0_0x42e86b(0x42a)),xt;function $i(_0x4b3d43){const _0xc73be2=a0_0x42e86b;return xt||(xt=(0x0,bo['createClient'])({'url':_0x4b3d43['URI']}),xt[_0xc73be2(0x464)]()),xt;}var ce=class c{constructor(_0x450d45,_0x1fcb19){const _0x1614be=a0_0x42e86b;this[_0x1614be(0x3ec)]=_0x450d45,this[_0x1614be(0x2c9)]=_0x1fcb19,this[_0x1614be(0x7a6)]=new R(c[_0x1614be(0x2ea)]),this[_0x1614be(0x342)]=$i(_0x450d45);}set['reference'](_0x815cb4){const _0x41e405=a0_0x42e86b;this[_0x41e405(0x2c9)]=_0x815cb4;}async[a0_0x42e86b(0x536)](){const _0x40a2d5=a0_0x42e86b;try{return await this[_0x40a2d5(0x342)][_0x40a2d5(0x40d)]([_0x40a2d5(0x3b9),this[_0x40a2d5(0x3ec)]['PREFIX_KEY']+':*']);}catch(_0x1080fd){this[_0x40a2d5(0x7a6)][_0x40a2d5(0x690)](_0x1080fd);}}async[a0_0x42e86b(0x435)](_0x26afc2,_0x21b39b){const _0x6f061e=a0_0x42e86b;try{let _0x4c5bec=JSON[_0x6f061e(0x5b1)](_0x21b39b,Ot[_0x6f061e(0x4a9)][_0x6f061e(0x8bf)]);return await this[_0x6f061e(0x342)][_0x6f061e(0x6cb)](this[_0x6f061e(0x3ec)][_0x6f061e(0x4e3)]+':'+this[_0x6f061e(0x2c9)],_0x26afc2,_0x4c5bec);}catch(_0x3f6f3e){this['logger']['error'](_0x3f6f3e);}}async[a0_0x42e86b(0x4c9)](){const _0x2c65cf=a0_0x42e86b;try{let _0x5b3bf0=await this['client'][_0x2c65cf(0x6b2)](this[_0x2c65cf(0x3ec)][_0x2c65cf(0x4e3)]+':'+this[_0x2c65cf(0x2c9)]);if(_0x5b3bf0){for(let _0x23dc3f in _0x5b3bf0)Object[_0x2c65cf(0x31e)]['hasOwnProperty']['call'](_0x5b3bf0,_0x23dc3f)&&(_0x5b3bf0[_0x23dc3f]=JSON[_0x2c65cf(0x29d)](_0x5b3bf0[_0x23dc3f],Ot['BufferJSON'][_0x2c65cf(0x8da)]));return _0x5b3bf0;}}catch(_0x526ab9){this['logger'][_0x2c65cf(0x690)](_0x526ab9);}}async[a0_0x42e86b(0x3eb)](_0x5b05bf){const _0x426edd=a0_0x42e86b;try{let _0x472009=await this['client'][_0x426edd(0x2f8)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x426edd(0x2c9)],_0x5b05bf);if(_0x472009)return JSON['parse'](_0x472009,Ot[_0x426edd(0x4a9)][_0x426edd(0x8da)]);}catch(_0xb89c54){this[_0x426edd(0x7a6)][_0x426edd(0x690)](_0xb89c54);}}async[a0_0x42e86b(0x591)](_0x48d7a3){const _0x15abd5=a0_0x42e86b;try{return await this['client'][_0x15abd5(0x399)](this[_0x15abd5(0x3ec)][_0x15abd5(0x4e3)]+':'+this[_0x15abd5(0x2c9)],_0x48d7a3);}catch(_0x95382b){this[_0x15abd5(0x7a6)][_0x15abd5(0x690)](_0x95382b);}}async['delAll'](_0xe8c730){const _0x59b7af=a0_0x42e86b;try{return await this[_0x59b7af(0x342)]['del'](_0xe8c730||this[_0x59b7af(0x3ec)][_0x59b7af(0x4e3)]+':'+this['instanceName']);}catch(_0x2f6bbc){this[_0x59b7af(0x7a6)]['error'](_0x2f6bbc);}}};async function Ds(_0x143317,_0x46dfff){const _0x1c7bfe=a0_0x42e86b;let _0x1d6574=new R(Ds[_0x1c7bfe(0x2ea)]),_0x282b93=new ce(_0x143317,_0x46dfff),_0x2ba2ec=async(_0x38ee94,_0x24e60e)=>{const _0xa128a9=_0x1c7bfe;try{return await _0x282b93[_0xa128a9(0x435)](_0x24e60e,_0x38ee94);}catch(_0x5b5afa){return _0x1d6574['error']({'localError':_0xa128a9(0x435),'error':_0x5b5afa});}},_0x5b2b5a=async _0x5df5c1=>{const _0x367fba=_0x1c7bfe;try{return await _0x282b93['readData'](_0x5df5c1);}catch(_0x5d2f16){_0x1d6574[_0x367fba(0x690)]({'readData':'writeData','error':_0x5d2f16});return;}},_0x4ffceb=async _0x49a43b=>{const _0x364b8c=_0x1c7bfe;try{return await _0x282b93[_0x364b8c(0x591)](_0x49a43b);}catch(_0x2033e1){_0x1d6574[_0x364b8c(0x690)]({'readData':_0x364b8c(0x591),'error':_0x2033e1});}},_0x2ff557=await _0x5b2b5a(_0x1c7bfe(0x514))||(0x0,It['initAuthCreds'])();return{'state':{'creds':_0x2ff557,'keys':{'get':async(_0x1633e6,_0xc5df03)=>{const _0x55b92a=_0x1c7bfe;let _0x29eb1a={};return await Promise['all'](_0xc5df03[_0x55b92a(0x57c)](async _0xcfdb5d=>{const _0xd17284=_0x55b92a;let _0x4acda2=await _0x5b2b5a(_0x1633e6+'-'+_0xcfdb5d);_0x1633e6===_0xd17284(0x7d8)&&_0x4acda2&&(_0x4acda2=It[_0xd17284(0x39d)][_0xd17284(0x4da)]['AppStateSyncKeyData'][_0xd17284(0x900)](_0x4acda2)),_0x29eb1a[_0xcfdb5d]=_0x4acda2;})),_0x29eb1a;},'set':async _0x5a3499=>{const _0x5bb5b2=_0x1c7bfe;let _0x21b396=[];for(let _0x3fa4d0 in _0x5a3499)for(let _0x35e201 in _0x5a3499[_0x3fa4d0]){let _0xd68392=_0x5a3499[_0x3fa4d0][_0x35e201],_0x174901=_0x3fa4d0+'-'+_0x35e201;_0x21b396[_0x5bb5b2(0x234)](_0xd68392?await _0x2ba2ec(_0xd68392,_0x174901):await _0x4ffceb(_0x174901));}await Promise[_0x5bb5b2(0x320)](_0x21b396);}}},'saveCreds':async()=>await _0x2ba2ec(_0x2ff557,_0x1c7bfe(0x514))};}var j=A(require('fs')),he=require(a0_0x42e86b(0x874)),jt=A(require('sharp')),Ft=require('https-proxy-agent'),Ri=a0_0x42e86b(0x24e)[a0_0x42e86b(0x3e6)](),_t=Ri[a0_0x42e86b(0x8a3)]('\x0a')[a0_0x42e86b(0x57c)](_0x50284d=>{const _0x407dd8=a0_0x42e86b;let _0x259c70=_0x50284d[_0x407dd8(0x8a3)](':'),_0x1d5bfc={'host':_0x259c70[0x0],'port':_0x259c70[0x1],'protocol':_0x407dd8(0x29c)};return _0x259c70[_0x407dd8(0x40e)]===0x4&&(_0x1d5bfc[_0x407dd8(0x879)]=_0x259c70[0x2],_0x1d5bfc[_0x407dd8(0x64e)]=_0x259c70[0x3]),_0x1d5bfc;});function a0_0x34f0(){const _0x5fdcc7=['reaction','/group','API_KEY','createJid','replaceVariablesLogs','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','shift','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','MAX_RECONNECT_ATTEMPTS','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):\x20','toBrazilianNumberFormat','replyOptions','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','#9568cf','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','isCommunityAnnounce','_Messages','\x20->\x20NÃO\x20CORRESPONDE.','):\x20isVote:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','toLocaleString','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','restartInstance','sendReaction','):\x20conversation.status:\x20','messageStubParameters','#fed428','updateAll',':\x20Tentativa\x20','):Getting\x20image\x20from\x20url','):\x20Enviando\x20texto','CHATS_DELETE','storePath','write','Erro\x20ao\x20copiar\x20o\x20documento','updateParticipant','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','getUniqueFlowName','AppStateSyncKeyData','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','CHATS_UPDATE','encoding','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','editChat','mongoose','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','requestPairingCode','):\x20debug\x20alterando\x20this.AutomateSystem','createInstance','<subdomain>','replaceVariablesInObject','CONNECTION','MessageModel','findIndex','mkdirSync','start','sendMenu','waitingMenu_text','mediaSticker','uuid','Erro\x20ao\x20buscar\x20Schedule\x20Messages','SERVER_URL','replaceOne','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','username','\x20com\x20sucesso.','send','processblock','greater','updateOneById','):\x20Entrou\x20na\x20função\x20stop','):\x20enviado\x20para\x20[','StatusJidList\x20is\x20required','!cmd_','connectToWhatsapp','50mb','archived','pt-BR','https://api.ipify.org?format=json','fetchBusinessProfile','updateOnlinePrivacy','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','notas',':\x20IP\x20configurado:\x20','?authSource=admin&readPreference=primary&directConnection=true','Types','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','isJidGroup','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','values','--standalone','\x1b[43m','labelId','\x1b[40m','binary','random','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','VERBOSE','getContentType','.ppt','\x20tentativas.','PLAYED','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','Reinicialização\x20iniciada:\x20','imgUrl','padStart','split','uazapi','Error\x20updating\x20cache\x20contact:','title','remove.instance','MESSAGES_SET','migrateFlowsToCentralizedCollection','flowStopMinutes','HeaderType','Valor\x20inicial:\x20\x22','fetchProfilePicture','Error\x20in\x20chatModify\x20for\x20number\x20','groupRequestParticipantsList','Falha\x20após\x20várias\x20tentativas.','):\x20Usando\x20extensão\x20padrão:\x20','messageHandle','convertedOptions','instanceName\x20not\x20provided.','item','creds.update','Variáveis\x20não\x20encontradas:','notContains','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','qrcode','Erro\x20ao\x20deletar\x20mensagens:','Fluxos\x20não\x20estão\x20ativados','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','footerText','replacer','/media','LOG_LEVEL','):\x20Entrou\x20na\x20função\x20goToFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','MESSAGES_UPDATE','waitingMenu_id','image','addBlock','startCommandWord','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Erro\x20do\x20Certbot:\x20','reorderBlocks','editFlowVariable','clearVariables','):Error\x20in\x20converting\x20audio','):\x20Error\x20processing\x20conditions:\x20','request\x20body:\x20','delaySecMax','includes','setHeader','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','URI','end','/message','protocol','editflowcondition','reviver','menuMessage','-instances','insert','/media/','undefined','updateMissingCustomFields','findManyByIds','toLowerCase','configService','inner','empty',',\x20pairCode:\x20','stateConnection','Fluxos\x20encontrados\x20de\x20\x27',',\x20Comparador:\x20','\x0aitem','):\x20mediaMessageInfoId\x20:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','removeChatLabel','Mac\x20OS','digest','\x20is\x20already\x20in\x20use.','fullName','getAutomateSystem','round','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','licenca','sha256','src','isArray','telefone','updateLastSeenPrivacy','waitingMenu_ExpiredMessage','SERVER_TYPE','exists','unavailable','autoCompleteMessages','fromObject','_Chats','/webhook','):Image\x20created','createWebhook','):\x20Entrou\x20na\x20função\x20clearVariables','#ffc5c7','scheduleSendText','toggleEphemeral','string','ultimaTentativaRemoteJid','updateAgent','emit','findGroupInfos','uazapiSendAudio','groupCreate','processApiRequest','unreadcount','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','connectToWhatsappController','ex:\x20\x22groupJid=120362@g.us\x22','editFlowReply','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','TEXT','done','number','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','ephemeralExpiration','deleteMessageForEveryone','):\x20Iniciando\x20bot...','participant','$set','AUTHENTICATION_API_KEY','displayName','verify','delayChatLabel_RETRY_DELAY_MS','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','_activedCount','json','groupSettingUpdate','webhook','update','/*.json','request_method','yes','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','restart','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','editflowvariable','updateMany','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','chat','output','):\x20alterando\x20this.AutomateSystem','The\x20','pollCreationMessageKey','26QjzCIw','authState','):Converted\x20image\x20deleted','admin','apiResponse','findParticipants','media','firstValue','isJWT','The\x20global\x20api\x20key\x20must\x20be\x20set','linkPreview',':\x20Erro\x20durante\x20loadproxy\x20-\x20','entries','):\x20Comando\x20desconhecido:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20',':\x20Max\x20retry\x20attempts\x20reached,\x20giving\x20up\x20on\x20message','messages.upsert','push','_Labels','):\x20Buscando\x20todos\x20os\x20fluxos...','editFlow',',\x20valor\x20a\x20encontrar:\x20\x22','chats.upsert',',\x20canSendMessage:\x20','keyPattern','redis','msgRetryCounterCache','listMessage','body','Esse\x20fluxo\x20expirou','slice','):\x20Procurando\x20conversa','envYaml',':\x20Erro\x20inesperado\x20em\x20processvaredits:\x20','sendStatus','Flow\x20iniciado','log','Parando\x20aplicação,\x20atualização\x20recebida','getStatus','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','WARN','backgroundColor','flowConfig','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','sendMessage','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','contacts.update','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','hasOwnProperty','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','findContacts','):\x20não\x20encontrou','getScheduleMessageModelForOwner','enumerable','max','parseInt','reconnectTimestamps','webp','no-cache',',\x20fará\x20nova\x20verificação\x20em\x20','stopConversation','Group\x20not\x20found','variables','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','LOG_COLOR','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Mensagens\x20deletadas\x20com\x20sucesso.','prepareMediaMessage','padEnd','FULLCHAIN','READ','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','stanzaId','Não\x20respondeu\x20com\x20a\x20enquete.','removeOlderDisconnectedInstances','uazapiSendMedia','ListMessage','sendDataWebhook','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','contextInfo','logout','fromMe','warn','ScheduleMessageModel','Erro\x20ao\x20buscar\x20o\x20fluxo','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','saveVariable','#00a1f2','findGroupInfo','keep-alive','_FlowHistorico','deleteReplyOption','generateWAMessageFromContent','/wa-contacts','/exit','Rótulo\x20deletado:\x27,\x20','description','RECONNECT_TIME_FRAME','toNumber','resetReconnectionVariables','_id','groupDesc',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','oldValue','sign','#01d0e2','beforeExit','DARK','desc','deletedCount','_fromMe','CacheContacts\x20database\x20connection\x20closed.','isListOfNumbers','isLong','\x1b[34m','delayChatLabel','execSync','Erro\x20ao\x20buscar\x20a\x20conversa','findMessages','messages','webhookModel','http','parse','8080','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','deleteMany','find','SECRET','shutdown\x20-r\x20now','upperCase','):\x20Going\x20to\x20','deleteMessage','GUARD','getConversationModelForOwner','loadEnv','endSession','textMessage','child_process','errorLog','Tentando\x20reconectar...','all_member_add','groupParticipantsUpdate','isCommunity','Limpando\x20logs\x20do\x20PM2...','Erro\x20ao\x20atualizar\x20o\x20flow.','messagesSend','replaceVariablesInReplyOptions','contactsArrayMessage','privacySettings','/instance','/wa-chats','processing_id','Cache-Control',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','secondValue','Instance\x20deleted','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','buttonText','Db\x20Connection','dbInstance','bateu\x20events','}}\x20->\x20\x22','query','groupMemberAddMode','updateChatGroupData','instanceName','convertaudio','.\x20Pulando.','everyOne','Database\x20connection\x20closed.','deleted',',\x20Segundo\x20Valor:\x20','createFlow','Erro\x20ao\x20iniciar\x20fluxo:\x20','video','insertCount','info','):\x20delete\x20=\x20true','RemoveChatLabel','express','evaluateConditionTest','425JguQrd','dbClient','DOCKER_ENV','ListType','PENDING','getDelay','when','):\x20Editando\x20replyOption...','promote','):\x20Ler\x20mensagem','updateMessage','\x1b[0m','preview','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','messageId','waInstances','flowConversation','name','truncatedto','trimmed','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','getUpdate','Rótulo\x20inválido\x20ou\x20sem\x20ID.','REDIS','#fe9dfe','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','exit','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','global','\x1b[36m%s\x1b[0m','scheduled','hGet','#dfaef0','deleteDoneMessages','setNewValue','remoteJidsRemaining','.mp3','crypto','oldToken','latitude','.jwt','joinGroupValidate','isJidUser','editFlowBlock','status.instance','substring','All_Instances_Config','findGroups','eventHandler','true','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','getFlow','DATABASE','Last\x20message\x20not\x20found\x20for\x20number:','floor','\x22\x20-\x20NOT\x20CONNECTION','contacts','\x1b[32m%s\x1b[0m','startFlowWebhook','sleep','Fluxo\x20não\x20encontrado\x20na\x20memória.','connectionState','CHATS_SET','Erro\x20ao\x20encerrar\x20a\x20API','https://api.openai.com/v1/images/generations','phoneNumber','function','mentioned',':\x20Failed\x20to\x20resend\x20message:\x27,\x20','prototype','Message\x20absent\x20from\x20node','all','\x0a{\x20instance:\x20','fetchInstances','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','pollOnReplyDelete','QRCODE_UPDATED','command','AUTHENTICATION','HOST','Erro\x20ao\x20alterar\x20privacidade','allFlows','\x20chats\x20de\x20',',\x20isAdmin:\x20','awaitSeconds','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','canSendMessage','#000000','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20',',\x20resultado:\x20','getLastMessage','selectableCount','fileUrl','descOwner','addReplyOption','notEqual','rowId','):Notifying\x20clients\x20for\x20chat:\x20','webhookMap','):\x20Criando\x20fluxo...','truncatedtoEnd','varedit','findGroup','createServer','order','client','delete','Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20','useMultiFileAuthState','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','lowerCase','\x27...','):\x20\x27Deletando\x20fluxo,\x20id:\x20','lastBlockId','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','jwt','Conversa\x20deletada\x20com\x20sucesso.','static','put','recebido\x20de','dbServer','processConditionsTest','model','editedMessage','E-mail:\x20','joinGroup','4041fmHnAx','deleteConversation','):\x20Enviando\x20áudio','cache','groupValidate','lastFetchAwaitingApproval','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','defineAuthState','replaceValue','optionDescription','request\x20received\x20in\x20createFlow','enabled','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Background\x20color\x20is\x20required','Instance\x20Name:','processConditions','addresss','request\x20received\x20in\x20scheduleMessage','replaceVariablesChat','fetchProfile','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','saveMediaToFile','refused','LabelModel','\x1b[31m','revokeInviteCode','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Chat\x20com\x20ID\x20','groupJid','TYPE','memberAddMode','pollCreationMessage','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','FlowRouter',',\x20Resultado:\x20','interval\x20não\x20é\x20um\x20número','flowIgnoreGroups','startCommand','):\x20Grupo\x20','lastUpdate','toDataURL','cpf','getLabelModelForOwner','app','dbSettings','deleteFlow','Last\x20message\x20not\x20found','fetchStatus','object','Instance\x20logged\x20out','):\x20conversation.lastInteraction:\x20','://','deleteInstance','onWhatsApp','chats.update','):including\x20timestamp\x20in\x20url:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','group-participants.update','updateCustomFields','Erro\x20ao\x20buscar\x20fluxos:','convertToWebP','none','getProfileName','pushName','sort','scheduleMessage','hDel','messages.update','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','proto','[all]','editflowvaredit','enqueue','subjectOwner','Erro\x20na\x20função\x20updateChatWithMessage:\x20','remoteJid','\x1b[1m','request\x20received\x20in\x20getAutomateSystem','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','fileName','):\x20this.processing_id:\x20','DATABASE_CONNECTION_PASSWORD','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','groups.update','deleteAll','getChatModelForOwner','chatLog','options','expression','updateGParticipant','g.us','lastSendMessage','processvaredits','mediaKey','.ogg','chats','Content-Type','keys','StartBot','_Flows','menuExpiredMessage','delayChatLabel_MAX_RETRIES','processgoToFlow','\x20de\x20conectar\x20com\x20IP\x20extra.','getValidWhatsAppNumbers','findById','auth','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Erro\x20ao\x20editar\x20o\x20replyOption:\x20',']\x20(','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','ERROR','loadInstance','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20',':\x20Error\x20in\x20scheduleNextCheck:\x20','AutomateSystem','locationMessage','label_jid','isURL','\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','updateGParticipate','evaluateCondition','):\x20Buscando\x20flow,\x20id:\x20','/wa-presence','authService','DATABASE_CONNECTION_URI','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','env','node-cache','Deletion\x20failed','badSession','_activatedCount','flow','):\x20Buscando\x20flow...','\x0a*Você\x20respondeu*:\x0a','@s.whatsapp.net','unreadCount','expiration','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','buttonId','data:\x20','urlencoded','trim','sendMessageWithTyping','statSync','setUpdate','qrcode.updated','readData','redisEnv','getflow','request\x20received\x20in\x20updateAgent','approve','vote','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','process','mimetype','verbose','messageContextInfo','groupAcceptInvite','next_groupId','sectionsToString','\x0aFN:','/events','):\x20Falha\x20ao\x20deletar\x20mensagem.','compression','Falha\x20ao\x20processar\x20fetchBusinessProfile','/config','processclearVariables','repository','sections','pollMessageOnDelete','Erro\x20ao\x20importar\x20chats','audio/ogg','KEY','):\x20Editando\x20edição\x20do\x20fluxo...','goNextblock','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','/clients-info','Esse\x20fluxo\x20não\x20permite\x20importação.','sendCommand','length','timeInMinutes','buttonMessage','text','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','throwAndLogError','blockLogs','apirequest','profilePictureUrl','NextBlock','addChatLabel','.doc','lean','mediaMessage','no.connection','cacheContactModel','):Sending\x20audio\x20whatsapp','270eYNahy','replyOption','loadWebhook','/wa-groups','Pausado\x20por\x20','readMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','unlinkSync','sem\x20texto\x20na\x20mensagem','flush','):\x20Query\x20params:','@whiskeysockets/baileys','url','fetchConversation','DB_PREFIX_NAME','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','equal','bearer','cleaningUp','contactHandle','Type\x20is\x20required','groupUpdateSubject','writeData','group','extractMessageContent','.extension','segundos','flowStopConversation','fetchLabels','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','\x20minutos','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','DATABASE_CONNECTION_HOST','request\x20received\x20in\x20getConversation','Erro\x20ao\x20buscar\x20conversas','Instance\x20\x22','Safari','env.KEY\x20!==\x20key','File\x20written\x20to\x20path:\x20','Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietário\x20\x27','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','@ffmpeg-installer/ffmpeg','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','groupSetting','picture','agents','available','PRESENCE_UPDATE','presenceSubscribe','/startFlow/:instance/:startID','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','responsavelid','DATABASE_ENABLED','status','sendWhatsAppAudio','reference','groupId','sending','repeat','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20Flow\x20\x27','groupFetchAllParticipating','SERVER_ACK','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','@g.us','stopMinutesMaxActives','apply','updatePresence','findWebhook','connect','):\x20Editando\x20bloco...','lastReceivedMessage','content','join','URL:','nomecompleto','leadInfo.atendimentoAberto','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','headers','):\x20[messages.update]\x20group\x20ignored','GROUPS_UPSERT','locked','tags','):\x20Ignoring\x20group\x20messages.','updateFlowConfig','waMonitor','20322NCqMOz','WA\x20MODULE','REDIS_PREFIX_KEY','contacts.upsert','Internal\x20Server\x20Error','menuIgnoreNonVotes','instancias:\x20','events','https://api.elevenlabs.io/v1/text-to-speech/','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','data','Nenhum\x20fluxo\x20correspondente\x20encontrado.','\x1b[34m%s\x1b[0m','):\x20customFieldVariables','https://jsonip.com','variable','DisconnectReason','editOperator','envProcess','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','modifiedCount','conditions','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','?timestamp=','integer','.TEL;waid=','.webm','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','splice','sendAudio','creation','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','filter','https','.webp','verifiedName','updateConversation','reorderReplyOptions','augusto.fcs@gmail.com','leadInfo','shareOwners','realVariables','):\x20Erro\x20durante\x20a\x20atualização:\x20','_error','\x22reaction\x22\x20must\x20be\x20an\x20emoji','CONTACTS_UPSERT','Conexão\x20estabelecida','groupdata','165920YSYfKW','\x20-\x20retornado:\x20','/chat','BufferJSON','updatePrivacySettings','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','forEach','SSL_CONF_FULLCHAIN','labels.association','groupGetInviteInfo','replaceVariables','groups','@broadcast','SERVER','namespace','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','cachedContact','readFileSync','remote\x20\x22origin\x22','buffer','synchronizeAndMapFlows','4ojtTkW','removeInstance','Button\x20IDs\x20cannot\x20be\x20repeated.','16870DkfYwL','getVariablesChat','findLabels',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','contact_blacklist','getConversation','\x22\x20cannot\x20be\x20empty','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','createHash','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','userDevicesCache','getAllData','Fluxo\x20\x27','chat\x20não\x20encontrado','Resultado\x20da\x20atualização:','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','message_normalized','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','Module\x20-\x20ON','editConversation','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','config','startsWith','STORE_CHATS','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','organization','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x20Tentativa\x20de\x20reconexão\x20','Message','capitalizedWords','/create','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','endsWith','request\x20received\x20in\x20editFlow','redirect','uazapiSendContact','dataValidate','PREFIX_KEY','connecting','createConnection','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','API\x20Key\x20inválida.','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Variável\x20não\x20encontrada!','Comando\x20desconhecido','SEND_MESSAGE','whatsappNumbers','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','copy','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','#ffae04','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','https://','\x1b[37m%s\x1b[0m','call','exec','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','STORE_CLEANING_TERMINAL','3380HYoJNz','CHATS_UPSERT','downloads','-whatsapp-api',',\x20Novo\x20tamanho:\x20','):\x20Fluxo\x20\x27','.docx','deleteChat','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','subjectTime','audio/ogg;\x20codecs=opus','\x22,\x20valor\x20a\x20substituir:\x20\x22','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','pre','mongodb','apiName','\x20não\x20encontrado\x20para\x20cópia','.png','fileLength','spawn','valid','base64','sendText','ContactModel','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','requestFile','creds','writeFileSync','chatModify','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','etiquetas','AUTHENTICATION_JWT_EXPIRIN_IN','ON\x20-\x20dbName:\x20','demote','now','\x27\x20não\x20encontrado\x20na\x20memória','status@broadcast','CONNECTION_UPDATE','bodyString','\x20saindo\x20da\x20função','minutesToClose','Certbot:\x20','DATABASE_CONNECTION_USER','ChatRouter','stopWhenYouSendMsg','processUazapi','Database\x20is\x20not\x20enabled','getBase64FromMediaMessage','matchRegex','maxActives','context','\x20quoted:\x20','params','updateProfileName','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','DELIVERY_ACK','descId','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','DELETED','instanceKeys','stderr','request\x20received\x20in\x20starFlow','removeUnusedChatFields','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','poll','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','toString','state','DaysToDelete','authModel','http://ip-api.com/json','leaveGroup','copyBlock','Instance\x20Key\x20from\x20DB:','PORT','\x1b[37m','applyvaredit','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','public','lastCondition','remove','deleteImportedChat','groupUpdateDescription','authorization','jsonschema','findOne','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):Image\x20path:\x20','folder','):\x20Flow\x20desativado','profilePicture','array','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','editflowgroup','cleanStore','errors','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','post','groupJoinApprovalMode','set','Not\x20allowed\x20by\x20CORS','getContactModelForOwner','connectionUpdate','groupadd','API\x20Key\x20from\x20Request:','editScheduleMessage','WebhookGlobal','):\x20newFirstValue\x20após\x20replaceVariables:','wuid','stopMinutes','method','variablesNotFound','router','sendButtons','waitingMenu_replyOptions','downloadMediaMessage','senderKeyDistributionMessage','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Message\x20not\x20found','readdirSync','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','\x20não\x20encontrado','where','js-yaml','moreLogs','key','AUTHENTICATION_TYPE','map','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','assign','mediatype','qrCode','admin_add','\x22\x20not\x20found','Fluxo\x20id\x20\x27','Bloco\x20com\x20ID\x20','convert','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','sendContact','ChatModel','Unauthorized','findOrCreate','jsonwebtoken','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','\x1b[33m','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','removeData','blockId','ephemeralDuration','findOneAndUpdate','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','):\x20Conversa\x20atualizada\x20em\x20memória','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','readreceipts','findAndReplaceRegex','test','\x22\x20-\x20REMOVED','.xlsx','.mimetype','author','retrySendMessage','dark','updateOne','onTime','conversationTimestamp','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','editflowblock','uazapiSendText','lastDisconnect','sendMedia','Instance\x20ID:','isBusiness','ReplyOption\x20com\x20ID\x20','sticker','):Audio\x20processed',',\x20qrcodeCount:\x20','stringify','flows','verifyWhatsAppNumber','__esModule','getBusinessProfile','\x20-i\x20','collection','#d3a91f','getTime','routerPath','insertMany','.X-ABLabel:Celular\x0a','GROUPS_UPDATE','\x27\x20não\x20encontrado','findAll','host','certbot','videoMessage','\x1b[47m','Authentication\x20error','Logger','groupInviteCode','):\x20atualização\x20chat:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','reconnectAttempts','updateAutoCompleteMessages','Attempting\x20to\x20resend\x20message,\x20Attempt:\x20','announce','):\x20Alterando\x20fluxo...','node-mime-types','The\x20property\x20cannot\x20be\x20empty','close','.jpg','groupLeave','Not\x20Found','contains','Erro\x20de\x20reinicialização:\x20','webhookService','default','deleteOne','updateGroupParticipantsWebhook','count','contactMessage','Contacts\x20not\x20found','uazapiSendLocation','Font\x20is\x20required','FlowController','flowPrefixCommand','uazapiDeleteMessage','Erro\x20ao\x20iniciar\x20o\x20fluxo.','createConversationforStartFlow','waitingForReplyMenu','Instância\x20não\x20encontrada.','joinApprovalMode','leadInfo.desativadoFluxoAte','https://chat.whatsapp.com/','whoCanEdit','.txt','Operador:\x20\x22','groupToggleEphemeral','email','\x20minutos...','indexOf','convertaudioMP3','/instance/connect','created','groups_ignore','):\x20Limpando\x20AutomateSystem','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','fone','\x20}\x0a','ObjectId','atendimentoAberto','profileName','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','application/json','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','replace','whatsappNumber','Error\x20writing\x20file:\x20','!stop','):\x20Edit\x20schedule\x20message...','):\x20nextBlock.uazapi.name','scheduleNextCheck','testProxy','):\x20Chat\x20','AddUserFlow','instanceInfo','composing','ScheduleMessage','isAdmin','#f64847','HttpsProxyAgent','updateStatusPrivacy','Bad\x20Request','arraybuffer','sendPresenceUpdate','participants','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','listType','success',':\x20Erro\x20ao\x20adicionar\x20label\x20','testingWith','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','variablesToObject','text/event-stream','7Xrklfj','updateReplyOption','processawaitSeconds','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','request\x20received\x20in\x20deleteFlow','request\x20received\x20in\x20updateAutoCompleteMessages','delAll','view\x20engine','ENABLED','\x20contacts','deleteBlock','automateSystem','messageType','findAndReplace','console','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','LOG','redis://127.0.0.1:6379','value','option','closeExistingConversations','flattenObject','scheduleSendMedia','Número\x20não\x20possui\x20WhatsApp.','makeCacheableSignalKeyStore','isJidBroadcast','\x20não\x20encontrado\x20para\x20atualização.','https://api.openai.com/v1/audio/speech','load','toBRL','last','has','getMessage','format','Flow\x20\x27','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.',',\x20Minutes\x20to\x20Close:\x20','color','getMIMEType','label','getTicketSystem','request\x20received\x20in\x20editConversation','/wa-connection-update','\x1b[44m','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Falha\x20ao\x20processar\x20a\x20solicitação','message','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','scheduleFlow','password','SSL_CONF',':\x20Falhou\x20ao\x20encontrar\x20chat\x20','statusJidList','collections','#ffffff','chatId','Error\x20updating\x20message\x20status:','https://uazapi-plugin.bubbleapps.io/?url=','block','notMatchRegex','processScheduleFlow','createSectionsFromValues','listResponseMessage','pairingCode','HH:mm:ss','archive','fetchContacts','):Business\x20profile\x20fetched','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','enviado\x20para','goToFlow','code','editflowreply','http://checkip.dyndns.org','updateGroupWebhook','nome','--agree-tos','setContext','\x20segundos','port','SERVER_PORT','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','presence','AutomateSystem\x20não\x20foi\x20inicializado','#9ba6ff','scheduleSendAudio','$pull','response','contact','axios','bulkWrite','boolean','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Enviando\x20enquete','):\x20Removendo\x20\x27','basename','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','jid','.xls','flowName','\x20instance\x20does\x20not\x20exist','/instance/create','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Erro\x20de\x20atualização:\x20','match','\x20mensagens\x20de\x20','saveConversationToDatabase','notify','createflow','Subscribed\x20Events:','):\x20Deletando\x20mensagem','\x20adicionado\x20ao\x20chat\x20','\x1b[33m\x1b[1m','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','protocolMessage','error','ip:\x20','presence.update','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.',':\x20Erro\x20ao\x20aplicar\x20varedit:\x20','normalizeMessage','font','_ScheduleMessages','connection.update','Error\x20fetching\x20group','cwd','Nenhum\x20fluxo\x20encontrado\x20para:\x20','):\x20Visualizando\x20AutomateSystem','removeProfilePicture','EXPIRIN_IN','create','paused','Instância:\x20','GROUP_PARTICIPANTS_UPDATE','restrict','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','exports','getClient','\x20minutos\x20verificará\x20novas\x20mensagens','processPollUpdateMessage','https://github.com/uazapi/uazapi.git','sharePass','creds.json','caption','PRIVKEY','allflows','delay','Erro\x20ao\x20editar\x20agentes','generateHash','hGetAll','CORS_METHODS','some','rows','isBase64','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','importChats','blocks','Enter\x20a\x20value\x20in\x20milliseconds','archiveChat','flushHeaders','):Type\x20defined\x20as\x20audio','importChatsBatch','editFlowVaredit','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Erro\x20ao\x20atualizar\x20AutomateSystem:','):Delete\x20chat','owner','formatStatusMessage','utf-8','\x20-y','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','messaging-history.set','15781vyJXxU','/instance/delete','hSet','):\x20leadInfoVariables','Telefone:\x20','fetchChats','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','lastSend','header','ephemeralMessage','menuType','):Processing\x20audio','\x20inseridas\x20no\x20banco\x20de\x20dados...','messageTimestamp','drop','updateMissingEtiquetas','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','\x1b[1m\x1b[37m','):\x20Editando\x20variável\x20do\x20fluxo...','JWT','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','error_log','CREDENTIALS','DD/MM\x20HH:mm:ss','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','temp-','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','get','updateBlock','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','):\x20Rótulo\x20atualizado:\x20','profile','request\x20received\x20in\x20getFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','muteEndTime','#ff9484','#56ccb4','^\x5cd+','INFO','selectedOptions','sendPoll','connectionStatus','editFlowGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Fluxos\x20do\x20proprietário\x20\x27','*Pergunta*:\x20\x0a','findConversation','60Lhdvzb','originalUrl','removed','startFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','dropIndex','Erro\x20ao\x20deletar\x20chat:','OrAnd','):\x20Criou\x20conversa\x20no\x20startFlow','STATUS_INSTANCE','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','.url','fetchProfilePictureUrl','#d8e651','MESSAGES_UPSERT','updateMissingTags','longitude','PROXY','#83e421','sendSticker','toUpperCase','condition','\x20depois\x20','/instance/fetchInstances','_Contacts','Erro\x20ao\x20editar\x20o\x20chat','REDIS_ENABLED','conversation','#9ab6c1','fetchPrivacySettings','groupBetterSetting','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','/events/:instance','certonly','allContacts','updateChatWithMessage','utf8','Data\x20inválida\x20fornecida','shareFlow','vcard','Read\x20messages','\x20:\x20','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','inviteCode','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','RemoteJid:','lastInteraction','.pptx','isConnected','messageSecret','LEVEL','mentions','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Content\x20is\x20required','loadproxy','pictureUrl','SendScheduleMessage','startID','stickerMessage','CORS_CREDENTIALS','pollMessage','SINGLE_SELECT','AddChatLabel','198319hKTSng','existsSync','validate','\x20removido\x20do\x20chat\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','pollErrorMessage','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','request\x20received\x20in\x20fetchConversation','statusMessage','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):Temp\x20image\x20deleted','Erro\x20ao\x20deletar\x20a\x20conversa','globalShow','delayMessage','\x20\x1b[0m','buttons','views','desativadoFluxoAte','document','fetchLatestBaileysVersion','qrcode-terminal','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','imageMessage','newStoppedUntil','):\x20tem\x20blocks','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message',':\x20IP\x20funcionando!','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Schema','lastMessage','setWebhook','isInteger','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','hbs','save','CONTACTS_UPDATE','CONTACTS_SET','):\x20Editando\x20grupo\x20do\x20fluxo...','release','request\x20received\x20in\x20deleteDoneMessages','saveChatVariables','.type','type','groupMetadata','chatHandle','ButtonsMessage','):\x20Entrou\x20na\x20função\x20saveReply','\x1b[30m%s\x1b[0m','unhandledRejection','/wa-all-message','Erro\x20ao\x20criar\x20fluxo','):Audio\x20converted\x20and\x20stored\x20in\x20cache','customFields','choices','noConnection','/wa-message','size','extractPhoneNumber','STORE_MESSAGE','upsertChats','Not\x20is\x20business\x20profile','\x5cd+','createConversationforgoToFlow','updateProfilePicture',':\x20Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','documentWithCaptionMessage','markMessageAsRead','reactionMessage','.fileUrl','updateGroupPicture','groups.upsert','Selecione','Número:\x20','ContactsAndGroups','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','result','):\x20Enviando\x20contato','$dbName','deleteflow','timeout','website','optionName','Error\x20fetching\x20and\x20updating\x20profile:\x20','audioMessage','add','awaitingApproval','Erro\x20ao\x20inserir\x20chats:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','delaySecMin','groupHandler','createGroup','STORE_CONTACTS','less','request\x20received\x20in\x20updateFlowConfig','extractRegex','service','setRestartTimeout','uncaughtException','leadInfo.customFields','express-async-errors','editFlowCondition','findFlow','not\x20loaded','fetchMessages','local_map','open','store','PASSWORD','#b4ebff','setting','logger','InstancesAlterarTodas','DEBUG','quoted','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto',',\x20Expiration\x20Time:\x20','getDevice','action','varedits','.wav','initAuthCreds','eventEmitter','Removidas\x20as\x20variáveis:\x20','pollUpdateMessage','detail','SERVER_OFFLINE','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','instance.','stdout','toFile','normalizeMessageContent','):\x20Não\x20achou\x20nenhum\x20flow','ignoreGroups','\x1b[36m','and','./.git/config','from','apikey','instances','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','cacheContact','quotedMessage','):\x20newSecondValue\x20após\x20replaceVariables:','headerString','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','audioWhatsapp','debug','getScheduleMessage','send.message','list','beautifyWithPlaceholders','createNewConversation','isRunning','imported','createAndSave','remoteJids','connectedName','updateStopChat','class-validator','app-state-sync-key',',\x20valor\x20passado:\x20\x22','localWebhook','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','notEmpty','Connection\x20closed\x20for\x20instance:\x20','recording','uazapiSendMenu','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','gifPlayback','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','silent','CORS','):\x20updateResult:','NO_IP','closed','34995ALkaYJ','limit','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','subject','formatVCard','writeFile','online','.error','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Erro\x20ao\x20alterar\x20fluxo','dbConnection','arrayUnique','labels.edit','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','bodyStringErrorParse','newValue','\x1b[41m','subdomain','):Archiving\x20chat','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','rm\x20-rf\x20','/automate','stopIfLastReturnedError','unlocked','path','audio','mongodb://','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','min','URL','USER','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','changeVariables','hex','):Image\x20converted\x20to\x20WebP','@redis/client','chats.delete','chats.set','getOwnPropertyDescriptor','cachedData-whatsapp','readMessageBot','pollCreationMessageV3','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','updateProfileStatus','sendList','getMessageModelForOwner','ini','groupName','Fluxo\x20agendado\x20pelo\x20fluxo\x20','sendLocation','documentMessage','superadmin','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','use','Atualização:\x20','connectionClosed','getRandomText','address','COLOR','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','imagechat','long','Router','Erro\x20ao\x20tentar\x20autoCompleteMessages','findAndUpdateCacheContact','whoCanUse','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','instance','http://icanhazip.com/','):\x20Label\x20','Missing\x20global\x20api\x20key','readMessages','role','announcement','user','checkAndRestartProcess'];a0_0x34f0=function(){return _0x5fdcc7;};return a0_0x34f0();}function So(_0x5c1787){const _0x37b7c2=a0_0x42e86b;return _t[_0x37b7c2(0x2a1)](_0x29511d=>_0x29511d[_0x37b7c2(0x5c0)]===_0x5c1787)||null;}function Mo(){const _0x5c15a2=a0_0x42e86b;if(_t[_0x5c15a2(0x40e)]===0x0)return null;let _0x11dbdc=Math[_0x5c15a2(0x30f)](Math['random']()*_t[_0x5c15a2(0x40e)]);return _t[_0x11dbdc];}function As(_0x1ebd87){const _0x42f838=a0_0x42e86b;let _0x5080b7=_0xa69391=>typeof _0xa69391==_0x42f838(0x909)&&_0xa69391[_0x42f838(0x40e)]>0x0,_0x161cf0=_0x75fc41=>{let _0x363544=parseInt(_0x75fc41,0xa);return!isNaN(_0x363544)&&_0x363544>0x0&&_0x363544<=0xffff;},_0x395bc3=_0x6b514d=>typeof _0x6b514d==_0x42f838(0x909)&&_0x6b514d[_0x42f838(0x40e)]>0x0;return _0x1ebd87&&_0x5080b7(_0x1ebd87[_0x42f838(0x5c0)])&&_0x161cf0(_0x1ebd87[_0x42f838(0x66c)])&&(!_0x1ebd87[_0x42f838(0x879)]||_0x395bc3(_0x1ebd87[_0x42f838(0x879)]))&&(!_0x1ebd87[_0x42f838(0x64e)]||_0x395bc3(_0x1ebd87[_0x42f838(0x64e)]))&&(_0x1ebd87[_0x42f838(0x8d8)]===_0x42f838(0x29c)||_0x1ebd87[_0x42f838(0x8d8)]==='https');}var Lt=require(a0_0x42e86b(0x2fe)),g=A(require('dayjs')),_s=a0_0x42e86b(0x443),$o,le=null,Ra=null,Di=0x3,Ai=null,Co=M['get']('AUTHENTICATION')[a0_0x42e86b(0x837)]['KEY'];async function Ti(){const _0x49da5c=a0_0x42e86b;let _0x5e2620=await Ce[_0x49da5c(0x551)]();le=_0x5e2620?.[_0x49da5c(0x566)]??null,Ai=_0x5e2620?.[_0x49da5c(0x540)]??null,_s=_0x5e2620?.['connectedClient']??_0x49da5c(0x443),$o=_0x5e2620?.[_0x49da5c(0x7d5)]??ks??'uazapi',console[_0x49da5c(0x247)](_0x5e2620);}async function xi(){await Ti();}xi();var Ps=class{constructor(_0x5aa958){const _0x4fe0dd=a0_0x42e86b;this[_0x4fe0dd(0x797)]=_0x5aa958;}['enqueue'](_0x2238d){const _0x257629=a0_0x42e86b;_0x2238d[_0x257629(0x4ac)](_0x22121b=>this[_0x257629(0x5a1)](_0x22121b,0x0));}async['retrySendMessage'](_0x54fb44,_0x4c4e27){const _0x4fe301=a0_0x42e86b;if(_0x4c4e27>=0x5){console[_0x4fe301(0x690)]((0x0,g[_0x4fe301(0x5d8)])()[_0x4fe301(0x63e)](_0x4fe301(0x6e1))+_0x4fe301(0x232));return;}try{console['log'](_0x4fe301(0x5cc)+(_0x4c4e27+0x1)),await this[_0x4fe301(0x797)][_0x4fe301(0x342)]['sendMessageAck'](JSON[_0x4fe301(0x29d)](_0x54fb44[_0x4fe301(0x850)][0x1],y[_0x4fe301(0x4a9)]['reviver'])),console[_0x4fe301(0x247)]('Message\x20sent\x20successfully');}catch(_0x477262){console['error']((0x0,g[_0x4fe301(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+_0x4fe301(0x31d)+_0x477262),setTimeout(()=>this[_0x4fe301(0x5a1)](_0x54fb44,_0x4c4e27+0x1),Math['pow'](0x2,_0x4c4e27)*0x3e8);}}},Ee=class c{constructor(_0x2a1f6f,_0x17d523,_0x3b85e2){const _0x394b78=a0_0x42e86b;this[_0x394b78(0x8e3)]=_0x2a1f6f,this[_0x394b78(0x7b1)]=_0x17d523,this['repository']=_0x3b85e2,this[_0x394b78(0x3cb)]=null,this['logger']=new R(c[_0x394b78(0x2ea)]),this[_0x394b78(0x82c)]={},this[_0x394b78(0x7da)]={},this[_0x394b78(0x8e7)]={'state':_0x394b78(0x5d1)},this[_0x394b78(0x857)]=(0x0,U[_0x394b78(0x468)])(ie,_0x394b78(0x4fb)),this[_0x394b78(0x23d)]=new Is[(_0x394b78(0x5d8))](),this[_0x394b78(0x4c8)]=new Is[(_0x394b78(0x5d8))](),this[_0x394b78(0x2aa)]=!0x1,this[_0x394b78(0x33b)]={'status.instance':_0x394b78(0x647),'connection.update':_0x394b78(0x647),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x394b78(0x76f),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':_0x394b78(0x422),'group.update':_0x394b78(0x422),'group-participants.update':_0x394b78(0x422),'messages.set':_0x394b78(0x769),'contacts.set':_0x394b78(0x280),'contacts.upsert':_0x394b78(0x280),'contacts.update':'/wa-contacts','presence.update':_0x394b78(0x3d3),'chats.set':_0x394b78(0x2b9),'chats.update':_0x394b78(0x2b9),'chats.upsert':'/wa-chats','chats.delete':_0x394b78(0x2b9)},this['reconnectAttempts']=0x0,this[_0x394b78(0x25b)]=[],this[_0x394b78(0x83e)]=0xa,this[_0x394b78(0x284)]=0xea60,this[_0x394b78(0x7d1)]=!0x1,this[_0x394b78(0x764)]={'chats.upsert':async(_0x1795fd,_0x1d7c69)=>{const _0x3a0912=_0x394b78;let _0x153b18=[];for await(let _0x4e883d of _0x1795fd)_0x153b18[_0x3a0912(0x234)]({'_id':_0x4e883d['id'],'owner':this[_0x3a0912(0x82c)]['wuid'],'group':_0x4e883d['id'][_0x3a0912(0x4de)]('@g.us'),'name':_0x4e883d['name']||_0x4e883d[_0x3a0912(0x209)]||null,'contactname':null,'lastmsg':_0x4e883d['conversationTimestamp']&&_0x4e883d['conversationTimestamp'][_0x3a0912(0x53e)]()[_0x3a0912(0x40e)]<0xd?_0x4e883d[_0x3a0912(0x5a5)]*0x3e8:_0x4e883d[_0x3a0912(0x5a5)]||null,'archived':_0x4e883d[_0x3a0912(0x885)]||!0x1,'unreadcount':_0x4e883d[_0x3a0912(0x3e0)]||0x0,'ephemeralExpiration':_0x4e883d[_0x3a0912(0x203)]||0x0});this[_0x3a0912(0x270)](_0x3a0912(0x239),_0x153b18);},'chats.update':async(_0x3c8471,_0x3737d6)=>{const _0x24e573=_0x394b78;for(let _0x480957 of _0x3c8471){let _0x552024={'_id':_0x480957['id'],'owner':this[_0x24e573(0x82c)]['wuid'],'archived':_0x480957['archived'],'muteEndTime':_0x480957[_0x24e573(0x6ec)],'ephemeralExpiration':_0x480957['ephemeralExpiration']},_0x1a98d2=!0x1,_0x44d0a1={};_0x552024[_0x24e573(0x885)]!=null&&(this[_0x24e573(0x7a6)][_0x24e573(0x3f4)](this[_0x24e573(0x2c9)]+'\x20('+this['instance'][_0x24e573(0x568)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x480957['id']+'\x20:\x20'+_0x480957[_0x24e573(0x885)]),_0x1a98d2=!0x0,_0x44d0a1[_0x24e573(0x885)]=_0x480957['archived']),_0x24e573(0x6ec)in _0x480957&&(this[_0x24e573(0x7a6)][_0x24e573(0x3f4)](this[_0x24e573(0x2c9)]+'\x20('+this[_0x24e573(0x82c)][_0x24e573(0x568)]+_0x24e573(0x533)+_0x480957['id']+_0x24e573(0x722)+(_0x480957[_0x24e573(0x6ec)]??'0')),_0x1a98d2=!0x0,_0x44d0a1[_0x24e573(0x6ec)]=_0x480957[_0x24e573(0x6ec)]??0x0),'ephemeralExpiration'in _0x480957&&(this[_0x24e573(0x7a6)][_0x24e573(0x3f4)](this[_0x24e573(0x2c9)]+'\x20('+this[_0x24e573(0x82c)]['wuid']+_0x24e573(0x85b)+_0x480957['id']+_0x24e573(0x722)+(_0x480957[_0x24e573(0x203)]!==void 0x0?_0x480957[_0x24e573(0x203)]:_0x24e573(0x8df))),_0x44d0a1[_0x24e573(0x203)]=_0x480957[_0x24e573(0x203)]===null?0x0:_0x480957[_0x24e573(0x203)],_0x1a98d2=!0x0);let _0xde20c9;_0x1a98d2&&(_0xde20c9=await this['repository'][_0x24e573(0x21e)][_0x24e573(0x5a3)]({'where':{'_id':_0x480957['id']}},_0x44d0a1,this['instance'][_0x24e573(0x568)])),_0xde20c9&&J(this[_0x24e573(0x2c9)],_0x24e573(0x3b7),{'chat':_0xde20c9});}},'chats.delete':async _0x15efcd=>{const _0x25c05f=_0x394b78;for(let _0x5e1a8f of _0x15efcd)if(_0x5e1a8f[_0x25c05f(0x4de)](_0x25c05f(0x45f))){await this['repository'][_0x25c05f(0x21e)][_0x25c05f(0x343)]({'where':{'_id':_0x5e1a8f}},this[_0x25c05f(0x82c)][_0x25c05f(0x568)]);let _0x404724={'where':{'key':{'remoteJid':_0x5e1a8f}}};await this[_0x25c05f(0x400)]['message'][_0x25c05f(0x343)](_0x404724,this[_0x25c05f(0x82c)]['wuid']);}else{await this[_0x25c05f(0x400)][_0x25c05f(0x21e)]['updateOne']({'where':{'_id':_0x5e1a8f}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x25c05f(0x82c)]['wuid']);let _0x2bd9ef={'where':{'key':{'remoteJid':_0x5e1a8f}}};await this[_0x25c05f(0x400)][_0x25c05f(0x64b)][_0x25c05f(0x343)](_0x2bd9ef,this[_0x25c05f(0x82c)]['wuid']);}this[_0x25c05f(0x270)](_0x25c05f(0x80d),[..._0x15efcd]);}},this[_0x394b78(0x432)]={'contacts.upsert':async(_0x494982,_0x33c441)=>{const _0x4a7fd6=_0x394b78;let _0x301a8=await this[_0x4a7fd6(0x400)][_0x4a7fd6(0x675)][_0x4a7fd6(0x2a1)]({'where':{}},this[_0x4a7fd6(0x82c)]['wuid']),_0x2f4e03=[];for await(let _0x453808 of _0x494982)_0x301a8[_0x4a7fd6(0x2a1)](_0x45802a=>_0x45802a[_0x4a7fd6(0x287)]===_0x453808['id'])||_0x2f4e03['push']({'_id':_0x453808['id'],'pushName':_0x453808?.['name']||_0x453808?.[_0x4a7fd6(0x499)],'owner':this['instance'][_0x4a7fd6(0x568)]});this['sendDataWebhook']('contacts.upsert',_0x2f4e03),await this['repository'][_0x4a7fd6(0x675)]['insert'](_0x2f4e03);},'contacts.update':async(_0x38dd9f,_0x2ec49c)=>{const _0x25644e=_0x394b78;let _0x2fb1fa=[];for await(let _0x4daf92 of _0x38dd9f)_0x2fb1fa[_0x25644e(0x234)]({'_id':_0x4daf92['id'],'pushName':_0x4daf92?.[_0x25644e(0x2ea)]??_0x4daf92?.[_0x25644e(0x499)],'owner':this[_0x25644e(0x82c)][_0x25644e(0x568)]});this[_0x25644e(0x270)](_0x25644e(0x251),_0x2fb1fa);}},this[_0x394b78(0x8b2)]={'messaging-history.set':async({messages:_0x32952f,chats:_0x1b448c,isLatest:_0x126d79},_0x33b742)=>{const _0x22e057=_0x394b78;if(_0x126d79){let _0x1d90f7=await Promise[_0x22e057(0x320)](_0x1b448c[_0x22e057(0x57c)](async _0x58bceb=>({'_id':_0x58bceb['id'],'owner':this[_0x22e057(0x82c)][_0x22e057(0x568)],'group':_0x58bceb['id'][_0x22e057(0x4de)](_0x22e057(0x45f)),'name':_0x58bceb[_0x22e057(0x2ea)]||_0x58bceb[_0x22e057(0x209)]||_0x58bceb[_0x22e057(0x879)]||null,'contactname':null,'lastmsg':_0x58bceb[_0x22e057(0x5a5)]&&_0x58bceb[_0x22e057(0x5a5)]['toString']()[_0x22e057(0x40e)]<0xd?_0x58bceb[_0x22e057(0x5a5)]*0x3e8:_0x58bceb[_0x22e057(0x5a5)]||null,'archived':_0x58bceb['archived']||!0x1,'unreadcount':_0x58bceb['unreadCount']||0x0,'ephemeralExpiration':_0x58bceb[_0x22e057(0x203)]||0x0,'muteEndTime':_0x58bceb[_0x22e057(0x6ec)]||0x0})));this[_0x22e057(0x270)](_0x22e057(0x80e),_0x1d90f7),await this[_0x22e057(0x773)](_0x1d90f7,_0x33b742);}let _0x5ce31c=[],_0x21707c=Date[_0x22e057(0x51c)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4ab12d]of Object[_0x22e057(0x22f)](_0x32952f)){if(_0x4ab12d[_0x22e057(0x64b)]?.['protocolMessage']||_0x4ab12d[_0x22e057(0x64b)]?.[_0x22e057(0x570)]||!_0x4ab12d[_0x22e057(0x64b)]||_0x4ab12d[_0x22e057(0x57a)]['remoteJid']==='status@broadcast'||(Os['default'][_0x22e057(0x294)](_0x4ab12d?.[_0x22e057(0x6d6)])&&(_0x4ab12d[_0x22e057(0x6d6)]=_0x4ab12d[_0x22e057(0x6d6)]?.[_0x22e057(0x285)]()),_0x4ab12d['messageTimestamp']&&_0x4ab12d['messageTimestamp']['toString']()[_0x22e057(0x40e)]<0xd&&(_0x4ab12d[_0x22e057(0x6d6)]=_0x4ab12d[_0x22e057(0x6d6)]*0x3e8),_0x4ab12d['messageTimestamp']<_0x21707c))continue;let _0x549933=(0x0,y[_0x22e057(0x7bb)])(_0x4ab12d['message']),_0xfe23e9=(0x0,y[_0x22e057(0x89b)])(_0x549933),{message_normalized:_0x252ab8}=this[_0x22e057(0x695)](_0x549933,_0xfe23e9,null);Object[_0x22e057(0x3b9)](_0x252ab8)['length']>0x0&&_0x5ce31c[_0x22e057(0x234)]({'_id':_0x4ab12d[_0x22e057(0x57a)]['id'],'key':_0x4ab12d[_0x22e057(0x57a)],'pushName':_0x4ab12d[_0x22e057(0x396)],'participant':_0x4ab12d[_0x22e057(0x206)],'message':_0x549933,'messageType':_0xfe23e9,'message_normalized':{'key':_0x4ab12d[_0x22e057(0x57a)],'pushName':_0x4ab12d['pushName'],'messageTimestamp':_0x4ab12d[_0x22e057(0x6d6)],..._0x252ab8},'messageTimestamp':_0x4ab12d[_0x22e057(0x6d6)],'owner':this[_0x22e057(0x82c)][_0x22e057(0x568)]});}_0x33b742[_0x22e057(0x625)]&&_0x5ce31c['length']>0x0&&(this[_0x22e057(0x7a6)][_0x22e057(0x3f4)](this[_0x22e057(0x2c9)]+'\x20('+this[_0x22e057(0x82c)][_0x22e057(0x568)]+_0x22e057(0x840)+_0x5ce31c[_0x22e057(0x40e)]+_0x22e057(0x686)+this[_0x22e057(0x82c)][_0x22e057(0x568)]+_0x22e057(0x6d5)),await this['repository'][_0x22e057(0x64b)][_0x22e057(0x8dd)]([..._0x5ce31c],this['instance'][_0x22e057(0x568)])),this['sendDataWebhook']('messages.set',[..._0x5ce31c]),_0x32952f=void 0x0;},'messages.upsert':async({messages:_0x44ba5e,type:_0x44ceb1},_0x4a07e2)=>{const _0x5d1b7d=_0x394b78;for(let _0x36d0ee of _0x44ba5e){if(this['localWebhook']?.[_0x5d1b7d(0x5f4)]&&_0x36d0ee['key'][_0x5d1b7d(0x3a3)]['includes'](_0x5d1b7d(0x45f))){this[_0x5d1b7d(0x7a6)][_0x5d1b7d(0x3f4)](this[_0x5d1b7d(0x2c9)]+'\x20('+this[_0x5d1b7d(0x82c)]['wuid']+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x36d0ee['messageStubParameters']&&_0x36d0ee[_0x5d1b7d(0x850)][0x0]===_0x5d1b7d(0x31f)){console[_0x5d1b7d(0x690)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),this['messageRetryQueue'][_0x5d1b7d(0x3a0)]([_0x36d0ee]);return;}if(_0x44ceb1!==_0x5d1b7d(0x688)||!_0x36d0ee?.[_0x5d1b7d(0x64b)]||_0x36d0ee[_0x5d1b7d(0x64b)]?.[_0x5d1b7d(0x68f)]||_0x36d0ee['message'][_0x5d1b7d(0x570)]||_0x36d0ee[_0x5d1b7d(0x57a)]['remoteJid']==='status@broadcast')return;let _0x106845=null,_0x2067f1=null;try{_0x106845=await this[_0x5d1b7d(0x6a8)](_0x36d0ee),_0x2067f1=_0x106845?_0x106845['join'](','):null;}catch(_0x383d64){this[_0x5d1b7d(0x7a6)][_0x5d1b7d(0x3f4)](this[_0x5d1b7d(0x2c9)]+'\x20('+this[_0x5d1b7d(0x82c)][_0x5d1b7d(0x568)]+_0x5d1b7d(0x840)+(_0x383d64 instanceof Error?_0x383d64[_0x5d1b7d(0x64b)]:JSON[_0x5d1b7d(0x5b1)](_0x383d64,null,0x2))),_0x2067f1='error\x20get\x20vote';}this[_0x5d1b7d(0x342)][_0x5d1b7d(0x613)]('unavailable'),Os[_0x5d1b7d(0x5d8)]['isLong'](_0x36d0ee['messageTimestamp'])&&(_0x36d0ee[_0x5d1b7d(0x6d6)]=_0x36d0ee[_0x5d1b7d(0x6d6)]?.[_0x5d1b7d(0x285)]()),_0x36d0ee[_0x5d1b7d(0x6d6)]&&_0x36d0ee[_0x5d1b7d(0x6d6)]['toString']()[_0x5d1b7d(0x40e)]<0xd&&(_0x36d0ee[_0x5d1b7d(0x6d6)]=_0x36d0ee[_0x5d1b7d(0x6d6)]*0x3e8);let _0x100106=_0x36d0ee[_0x5d1b7d(0x64b)],_0x84fa29=(0x0,y[_0x5d1b7d(0x7bb)])(_0x100106),_0x2ef1d7=(0x0,y[_0x5d1b7d(0x89b)])(_0x84fa29),{messageContent:_0x21e56b,message_normalized:_0x48300d}=this['normalizeMessage'](_0x84fa29,_0x2ef1d7,_0x2067f1);_0x2ef1d7==='protocolMessage'&&_0x21e56b?.[_0x5d1b7d(0x354)]&&(_0x2ef1d7=_0x5d1b7d(0x354));let _0x3d9a7f,_0x2b57b8=_0x36d0ee[_0x5d1b7d(0x57a)][_0x5d1b7d(0x3a3)][_0x5d1b7d(0x4de)](_0x5d1b7d(0x45f));if(_0x36d0ee['key'][_0x5d1b7d(0x274)])_0x3d9a7f=this[_0x5d1b7d(0x82c)][_0x5d1b7d(0x416)];else{let _0x1d05b9=_0x2b57b8?_0x36d0ee['key'][_0x5d1b7d(0x206)]:_0x36d0ee['key'][_0x5d1b7d(0x3a3)];_0x3d9a7f=(await this[_0x5d1b7d(0x829)](_0x1d05b9,_0x36d0ee[_0x5d1b7d(0x396)],!0x1))[_0x5d1b7d(0x4b6)][_0x5d1b7d(0x730)];}let _0x4d0672={'_id':_0x36d0ee[_0x5d1b7d(0x57a)]['id'],'key':_0x36d0ee['key'],'isGroup':_0x2b57b8,'profilePictureUrl':_0x3d9a7f,'pushName':_0x36d0ee['pushName'],'message':_0x84fa29,'messageType':_0x2ef1d7,'message_normalized':{'key':_0x36d0ee[_0x5d1b7d(0x57a)],'pushName':_0x36d0ee[_0x5d1b7d(0x396)],'messageTimestamp':_0x36d0ee['messageTimestamp'],'source':(0x0,y[_0x5d1b7d(0x7ac)])(_0x36d0ee[_0x5d1b7d(0x57a)]['id']),..._0x48300d},'messageTimestamp':_0x36d0ee[_0x5d1b7d(0x6d6)],'owner':this[_0x5d1b7d(0x82c)][_0x5d1b7d(0x568)],'source':(0x0,y[_0x5d1b7d(0x7ac)])(_0x36d0ee[_0x5d1b7d(0x57a)]['id']),'expiration':_0x21e56b?.[_0x5d1b7d(0x272)]?.[_0x5d1b7d(0x3e1)]||0x0};_0x21e56b||(console['error']('Mensagem\x20não\x20suportada'),console[_0x5d1b7d(0x690)](_0x4d0672)),this[_0x5d1b7d(0x7a6)][_0x5d1b7d(0x247)](this[_0x5d1b7d(0x2c9)]+'\x20('+this[_0x5d1b7d(0x82c)][_0x5d1b7d(0x568)]+_0x5d1b7d(0x840)+(_0x4d0672[_0x5d1b7d(0x57a)]?.['fromMe']?_0x5d1b7d(0x662):_0x5d1b7d(0x350))+'\x20['+_0x4d0672[_0x5d1b7d(0x57a)]?.[_0x5d1b7d(0x3a3)][_0x5d1b7d(0x600)](_0x5d1b7d(0x3df),'')+']\x20('+_0x4d0672[_0x5d1b7d(0x629)]+')'),_0x4d0672[_0x5d1b7d(0x4ce)]?.[_0x5d1b7d(0x411)]&&this[_0x5d1b7d(0x7a6)][_0x5d1b7d(0x247)](_0x36d0ee[_0x5d1b7d(0x57a)]['id']+':\x20'+_0x4d0672[_0x5d1b7d(0x4ce)]?.[_0x5d1b7d(0x411)]),await this[_0x5d1b7d(0x400)][_0x5d1b7d(0x64b)][_0x5d1b7d(0x8dd)]([_0x4d0672],this[_0x5d1b7d(0x82c)][_0x5d1b7d(0x568)]),this[_0x5d1b7d(0x270)](_0x5d1b7d(0x233),_0x4d0672),J(this[_0x5d1b7d(0x2c9)],_0x5d1b7d(0x29a),{'message':_0x4d0672}),_0x36d0ee[_0x5d1b7d(0x57a)]['remoteJid']!=='status@broadcast'&&await this['updateChatWithMessage'](_0x4a07e2,_0x4d0672,_0x5d1b7d(0x707));}},'messages.update':async(_0x332610,_0x4f9c8f)=>{const _0x3838f8=_0x394b78;let _0x4dc5a4={0x0:_0x3838f8(0x3c7),0x1:_0x3838f8(0x2dd),0x2:_0x3838f8(0x45d),0x3:_0x3838f8(0x531),0x4:_0x3838f8(0x269),0x5:_0x3838f8(0x89e)};for await(let {key:_0x2a22d5,update:_0x116870}of _0x332610){if(this['localWebhook']?.[_0x3838f8(0x5f4)]&&_0x2a22d5[_0x3838f8(0x3a3)][_0x3838f8(0x8d2)](_0x3838f8(0x45f))){this[_0x3838f8(0x7a6)][_0x3838f8(0x3f4)](this[_0x3838f8(0x2c9)]+'\x20('+this[_0x3838f8(0x82c)][_0x3838f8(0x568)]+_0x3838f8(0x46e));return;}if(_0x2a22d5[_0x3838f8(0x3a3)]!==_0x3838f8(0x51e)){let _0x3c7b5c=Date[_0x3838f8(0x51c)](),_0x26ffdb;_0x116870[_0x3838f8(0x64b)]===null&&_0x116870['status']===void 0x0?_0x26ffdb=_0x3838f8(0x535):_0x26ffdb=_0x4dc5a4[_0x116870[_0x3838f8(0x454)]];let _0x5e580d=_0x2a22d5[_0x3838f8(0x3a3)][_0x3838f8(0x600)](/:\d{1,2}@/g,'@'),_0x3f5b5c={..._0x2a22d5,'remoteJid':_0x5e580d,'status':_0x26ffdb,'datetime':_0x3c7b5c,'owner':this[_0x3838f8(0x82c)][_0x3838f8(0x568)]};this[_0x3838f8(0x270)]('messages.update',_0x3f5b5c),await this[_0x3838f8(0x2e3)](_0x2a22d5,_0x3f5b5c);}}},'labels.association':async({type:_0x4ff8aa,association:_0x3fb8c0})=>{const _0x16081b=_0x394b78;if(_0x3fb8c0[_0x16081b(0x762)]===_0x16081b(0x3cd)){let _0x8c76d6,_0x2255d7=0x0;for(;!_0x8c76d6&&_0x2255d7<this[_0x16081b(0x3bd)];)_0x8c76d6=await this[_0x16081b(0x400)][_0x16081b(0x21e)][_0x16081b(0x551)]({'where':{'_id':_0x3fb8c0[_0x16081b(0x654)]}},this[_0x16081b(0x82c)][_0x16081b(0x568)]),_0x8c76d6||(_0x2255d7++,this[_0x16081b(0x7a6)][_0x16081b(0x2d4)](this[_0x16081b(0x2c9)]+'\x20('+this['instance'][_0x16081b(0x568)]+_0x16081b(0x608)+_0x3fb8c0['chatId']+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x16081b(0x20b)]+'ms\x20(tentativa\x20'+_0x2255d7+'/'+this[_0x16081b(0x3bd)]+')'),await this[_0x16081b(0x296)](this[_0x16081b(0x20b)]));if(!_0x8c76d6){console['error']((0x0,g[_0x16081b(0x5d8)])()['format'](_0x16081b(0x6e1))+_0x16081b(0x650)+_0x3fb8c0['chatId']+_0x16081b(0x70f)+this[_0x16081b(0x3bd)]+_0x16081b(0x89d));return;}switch(_0x4ff8aa){case'add':console[_0x16081b(0x247)](_0x3fb8c0),await this[_0x16081b(0x400)][_0x16081b(0x21e)][_0x16081b(0x5a3)]({'where':{'_id':_0x3fb8c0[_0x16081b(0x654)]}},{'leadInfo.etiquetas':_0x3fb8c0[_0x16081b(0x895)]},this[_0x16081b(0x82c)][_0x16081b(0x568)],void 0x0,'$addToSet');break;case _0x16081b(0x54c):console['log'](_0x3fb8c0),await this[_0x16081b(0x400)][_0x16081b(0x21e)][_0x16081b(0x5a3)]({'where':{'_id':_0x3fb8c0[_0x16081b(0x654)]}},{'leadInfo.etiquetas':_0x3fb8c0['labelId']},this[_0x16081b(0x82c)][_0x16081b(0x568)],void 0x0,_0x16081b(0x673));break;default:console['error']((0x0,g[_0x16081b(0x5d8)])()[_0x16081b(0x63e)](_0x16081b(0x6e1))+':\x20unknown\x20operation\x20type\x20['+_0x4ff8aa+']');}}},'labels.edit':async _0x258b06=>{const _0x558ae6=_0x394b78;if(!_0x258b06||!_0x258b06['id']){console[_0x558ae6(0x690)](_0x558ae6(0x2ef));return;}if(!_0x258b06[_0x558ae6(0x2ce)]){let _0x5c4997=[_0x558ae6(0x6ed),'#64c4ff',_0x558ae6(0x851),_0x558ae6(0x2f9),_0x558ae6(0x715),_0x558ae6(0x6ee),_0x558ae6(0x2f1),_0x558ae6(0x5b8),'#6f7bcf',_0x558ae6(0x706),_0x558ae6(0x28c),_0x558ae6(0x906),'#92ceac',_0x558ae6(0x60e),_0x558ae6(0x27a),_0x558ae6(0x70b),_0x558ae6(0x4f1),_0x558ae6(0x7a4),_0x558ae6(0x671),_0x558ae6(0x844)],_0x3df7aa;typeof _0x258b06[_0x558ae6(0x642)]==_0x558ae6(0x201)&&_0x258b06[_0x558ae6(0x642)]>=0x0&&_0x258b06['color']<_0x5c4997[_0x558ae6(0x40e)]?_0x3df7aa=_0x5c4997[_0x258b06[_0x558ae6(0x642)]]:(console[_0x558ae6(0x690)](_0x558ae6(0x6e7),_0x258b06[_0x558ae6(0x642)]),_0x3df7aa='#000000');let _0x32954b={'_id':_0x258b06['id'],'colorHex':_0x3df7aa,'color':_0x258b06?.[_0x558ae6(0x642)],'name':_0x258b06?.[_0x558ae6(0x2ea)],'owner':this[_0x558ae6(0x82c)][_0x558ae6(0x568)]};await this[_0x558ae6(0x400)]['label']['updateOne']({'where':{'_id':_0x258b06['id']}},_0x32954b,this[_0x558ae6(0x82c)][_0x558ae6(0x568)]),this['logger'][_0x558ae6(0x2d4)](this[_0x558ae6(0x2c9)]+'\x20('+this['instance'][_0x558ae6(0x568)]+_0x558ae6(0x6e8)+_0x258b06);}_0x258b06[_0x558ae6(0x2ce)]&&(await this['repository'][_0x558ae6(0x644)]['delete']({'where':{'_id':_0x258b06['id']}},this['instance'][_0x558ae6(0x568)]),this[_0x558ae6(0x7a6)]['info'](_0x558ae6(0x282)+_0x258b06['id']));}},this['groupHandler']={'groups.upsert':async _0x3e7d70=>{const _0x36606a=_0x394b78;this[_0x36606a(0x7da)]?.[_0x36606a(0x5f4)]||this[_0x36606a(0x270)](_0x36606a(0x77e),_0x3e7d70);for(let _0x539ba5 of _0x3e7d70)await this[_0x36606a(0x667)](_0x539ba5);},'groups.update':async _0x5a8d2e=>{const _0x27d203=_0x394b78;this[_0x27d203(0x7da)]?.['groups_ignore']||this[_0x27d203(0x270)](_0x27d203(0x3ab),_0x5a8d2e);for(let _0xc52383 of _0x5a8d2e)await this['updateGroupWebhook'](_0xc52383);},'group-participants.update':async _0x224a37=>{const _0x55252b=_0x394b78;this['localWebhook']?.[_0x55252b(0x5f4)]||this['sendDataWebhook'](_0x55252b(0x390),_0x224a37),await this[_0x55252b(0x5da)](_0x224a37);}},this[_0x394b78(0x3bd)]=0x5,this[_0x394b78(0x20b)]=0x1388,this[_0x394b78(0x6a8)]=async _0x294d64=>{const _0x4b4c09=_0x394b78;if(_0x294d64[_0x4b4c09(0x64b)]?.[_0x4b4c09(0x7b3)]){let _0x4215e9=await this[_0x4b4c09(0x63d)](_0x294d64[_0x4b4c09(0x64b)][_0x4b4c09(0x7b3)][_0x4b4c09(0x222)],!0x0);if(_0x4215e9){let _0x1abc02=_0x4215e9[_0x4b4c09(0x57a)][_0x4b4c09(0x274)]?this[_0x4b4c09(0x82c)][_0x4b4c09(0x568)]+_0x4b4c09(0x3df):_0x4215e9[_0x4b4c09(0x57a)][_0x4b4c09(0x206)]||_0x4215e9[_0x4b4c09(0x57a)]['remoteJid'],_0x2ec094=_0x4215e9[_0x4b4c09(0x57a)]['id'],_0x3787b5=_0x4215e9[_0x4b4c09(0x64b)],_0x52361b=Buffer[_0x4b4c09(0x7c1)](_0x3787b5[_0x4b4c09(0x3f5)][_0x4b4c09(0x72a)][_0x4b4c09(0x53e)](_0x4b4c09(0x80a)),_0x4b4c09(0x80a)),_0x1ccb6c=(0x0,y['decryptPollVote'])(_0x294d64[_0x4b4c09(0x64b)][_0x4b4c09(0x7b3)][_0x4b4c09(0x3f0)],{'pollCreatorJid':_0x1abc02,'pollMsgId':_0x2ec094,'pollEncKey':_0x52361b,'voterJid':_0x294d64['key'][_0x4b4c09(0x274)]?this['instance']['wuid']+_0x4b4c09(0x3df):_0x294d64[_0x4b4c09(0x57a)][_0x4b4c09(0x3a3)][_0x4b4c09(0x4de)](_0x4b4c09(0x3b2))?_0x294d64[_0x4b4c09(0x57a)][_0x4b4c09(0x206)]:_0x294d64[_0x4b4c09(0x57a)][_0x4b4c09(0x3a3)]}),_0x5ad602=[],_0xa58e3f=_0x1ccb6c[_0x4b4c09(0x6f1)][_0x4b4c09(0x57c)](_0xafbe72=>Buffer[_0x4b4c09(0x7c1)](_0xafbe72)['toString'](_0x4b4c09(0x80a)));for(let {optionName:_0x4bc05b}of _0x3787b5[_0x4b4c09(0x376)]?.['options']||_0x3787b5[_0x4b4c09(0x812)]?.[_0x4b4c09(0x3af)]||_0x3787b5['pollCreationMessageV2']?.[_0x4b4c09(0x3af)])_0xa58e3f[_0x4b4c09(0x5f0)]((0x0,y['sha256'])(Buffer[_0x4b4c09(0x7c1)](_0x4bc05b))['toString'](_0x4b4c09(0x80a)))>-0x1&&_0x5ad602['push'](_0x4bc05b);return _0x5ad602;}}return null;},this[_0x394b78(0x695)]=(_0xdd7529,_0x2205da,_0x2c9ff8)=>{const _0x1ed141=_0x394b78;try{let _0x16bd5a=_0xdd7529?(0x0,y[_0x1ed141(0x437)])(_0xdd7529)[_0x2205da]:void 0x0,_0x45eb00={},_0xf45f58=null,_0x1db264=null,_0x39f43e=null;_0x2205da===_0x1ed141(0x68f)&&_0x16bd5a?.['editedMessage']&&(_0x2205da=(0x0,y[_0x1ed141(0x89b)])(_0x16bd5a[_0x1ed141(0x354)]),_0xf45f58=_0xdd7529['protocolMessage'][_0x1ed141(0x57a)]['id'],_0x16bd5a=_0xdd7529['protocolMessage']['editedMessage'][_0x2205da]),_0xdd7529[_0x2205da]?.[_0x1ed141(0x272)]?.[_0x1ed141(0x26b)]&&_0xdd7529[_0x2205da]?.['contextInfo']?.[_0x1ed141(0x7c6)]&&(_0x1db264=_0xdd7529[_0x2205da][_0x1ed141(0x272)]['stanzaId']),_0xdd7529[_0x1ed141(0x77b)]&&(_0x39f43e=_0xdd7529['reactionMessage'][_0x1ed141(0x57a)]['id']);let _0x223b94;if(_0x16bd5a&&typeof _0x16bd5a=='object'&&_0x1ed141(0x222)in _0x16bd5a&&({pollCreationMessageKey:_0x223b94}=_0x16bd5a),_0x2205da==='pollCreationMessage'||_0x2205da==='pollCreationMessageV2'||_0x2205da==='pollCreationMessageV3'){let _0x39f082=_0x16bd5a['options'][_0x1ed141(0x57c)](_0x577301=>_0x577301[_0x1ed141(0x789)])[_0x1ed141(0x468)]('|');_0x45eb00[_0x1ed141(0x8b3)]=_0x39f082;}let _0x78531b='';if(_0x16bd5a&&(_0x78531b+=_0x16bd5a[_0x1ed141(0x2ea)]?_0x16bd5a[_0x1ed141(0x2ea)]:'',_0x78531b+=_0x16bd5a['caption']?'\x20'+_0x16bd5a[_0x1ed141(0x6ac)]:'',_0x78531b+=_0x16bd5a['conversation']?'\x20'+_0x16bd5a['conversation']:'',_0x78531b+=_0x16bd5a['displayName']?'\x20'+_0x16bd5a[_0x1ed141(0x209)]:''),_0x2205da===_0x1ed141(0x23e)){_0x78531b=(_0x16bd5a['title']||'')+'\x0a'+(_0x16bd5a[_0x1ed141(0x283)]||'')+'\x0a'+(_0x16bd5a[_0x1ed141(0x8be)]||'');let _0x183265=this[_0x1ed141(0x3f8)](_0x16bd5a['sections']);_0x45eb00['convertedOptions']=_0x183265;}if(_0x2205da===_0x1ed141(0x65b)&&(_0x2c9ff8=_0x16bd5a['title']),_0x16bd5a&&_0x16bd5a[_0x1ed141(0x720)]){let _0x52afa7=this[_0x1ed141(0x7ec)](JSON[_0x1ed141(0x5b1)](_0x16bd5a[_0x1ed141(0x720)],null,0x2));_0x78531b=_0x78531b+'\x0a'+_0x52afa7;}if(_0x16bd5a){let {sections:_0x5e79c0,listType:_0x5041a6,displayName:_0x2e0018,vcard:_0x1012ef,contactVcard:_0x23288e,name:_0x1c0adc,caption:_0x372fa6,conversation:_0x251f1b,pollCreationMessageKey:_0x1a9155,footerText:_0x133e63,contentText:_0x6bcd4a,pageCount:_0x3d9072,headerType:_0x636951,isAvatar:_0x287ae6,isAnimated:_0x2352f9,fallbackLc:_0x4fe674,fallbackLg:_0x5412f3,namespace:_0x4e78a3,elementName:_0x340d35,localizableParams:_0x638084,viewOnce:_0x597853,height:_0x117a1a,width:_0x5e491b,key:_0x3c3665,firstScanLength:_0x37ce50,firstScanSidecar:_0x4eac11,gifPlayback:_0x355229,gifAttribution:_0xea38f8,midQualityFileSha256:_0x293ed0,scansSidecar:_0x2fb2c5,streamingSidecar:_0x5a97ad,thumbnailHeight:_0x35ed00,thumbnailWidth:_0xade416,thumbnailEncSha256:_0x2296cb,thumbnailDirectPath:_0x168757,canonicalUrl:_0x152c46,matchedText:_0x455875,previewType:_0xcc690f,thumbnailSha256:_0x282dfe,deviceListMetadataVersion:_0xc4984b,inviteLinkGroupTypeV2:_0x552df4,interactiveAnnotations:_0x299b26,scanLengths:_0x144d74,jpegThumbnail:_0x23c36c,url:_0x5c4ac8,mediaKeyTimestamp:_0x1bb257,waveform:_0x44dd0a,stickerSentTs:_0x3e5bfb,firstFrameLength:_0x2ca3b7,fileEncSha256:_0x375c27,contextInfo:_0x230f1e,firstFrameSidecar:_0x218230,directPath:_0x14b2c0,fileSha256:_0xa59db6,mediaKey:_0x64e9db,senderTimestampMs:_0x3c1649,..._0x26a138}=_0x16bd5a;(_0x2205da===_0x1ed141(0x23e)||_0x2205da===_0x1ed141(0x65b))&&(delete _0x26a138[_0x1ed141(0x8a6)],delete _0x26a138[_0x1ed141(0x283)]),typeof _0x16bd5a==_0x1ed141(0x909)?_0x45eb00={'text':_0x16bd5a,'type':_0x2205da||_0x1ed141(0x714),..._0xf45f58&&{'edited':_0xf45f58},..._0x1db264&&{'quoted':_0x1db264},..._0x39f43e&&{'reaction':_0x39f43e}}:_0x45eb00={'text':_0x78531b,..._0x26a138,..._0x2205da===_0x1ed141(0x7b3)?{'poll_id':_0x16bd5a['pollCreationMessageKey']['id'],'quoted':_0x16bd5a[_0x1ed141(0x222)]['id'],'vote':_0x2c9ff8}:{},..._0x2205da==='listResponseMessage'?{'vote':_0x2c9ff8}:{},'type':_0x2205da,..._0xf45f58&&{'edited':_0xf45f58},..._0x1db264&&{'quoted':_0x1db264},..._0x39f43e&&{'reaction':_0x39f43e},...(_0x2205da===_0x1ed141(0x376)||_0x2205da==='pollCreationMessageV2'||_0x2205da===_0x1ed141(0x812)||_0x2205da==='listMessage')&&{'convertedOptions':_0x45eb00[_0x1ed141(0x8b3)]}};}return{'messageType':_0x2205da,'messageContent':_0x16bd5a,'message_normalized':_0x45eb00};}catch(_0x35c5ae){return console[_0x1ed141(0x690)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x35c5ae),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this['messageRetryQueue']=new Ps(this),this[_0x394b78(0x82c)][_0x394b78(0x8ba)]={'count':0x0},this[_0x394b78(0x82c)][_0x394b78(0x60c)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0xe8438){const _0x1dc15f=a0_0x42e86b;if(!_0xe8438){this[_0x1dc15f(0x82c)][_0x1dc15f(0x2ea)]=(0x0,Eo['v4'])();return;}this[_0x1dc15f(0x82c)][_0x1dc15f(0x2ea)]=_0xe8438,this['sendDataWebhook']('status.instance',{'instance':this[_0x1dc15f(0x82c)][_0x1dc15f(0x2ea)],'status':_0x1dc15f(0x5f3)});}get['instanceName'](){const _0x1e3a56=a0_0x42e86b;return this['instance'][_0x1e3a56(0x2ea)];}get['wuid'](){const _0x4932d8=a0_0x42e86b;return this[_0x4932d8(0x82c)][_0x4932d8(0x568)];}async[a0_0x42e86b(0x395)](){const _0x26842e=a0_0x42e86b;let _0x11efe9=this['client'][_0x26842e(0x833)]?.[_0x26842e(0x2ea)]??this['client'][_0x26842e(0x833)]?.[_0x26842e(0x499)];if(!_0x11efe9){if(this[_0x26842e(0x8e3)][_0x26842e(0x6e5)](_0x26842e(0x30d))[_0x26842e(0x625)]){let _0x4d575d=await D[_0x26842e(0x6a6)]()['db'](this[_0x26842e(0x8e3)][_0x26842e(0x6e5)](_0x26842e(0x30d))[_0x26842e(0x86c)][_0x26842e(0x42d)]+_0x26842e(0x8dc))[_0x26842e(0x5b7)](this[_0x26842e(0x2c9)])[_0x26842e(0x551)]({'_id':_0x26842e(0x514)});if(_0x4d575d){let _0x797eb9=JSON[_0x26842e(0x29d)](JSON[_0x26842e(0x5b1)](_0x4d575d),y[_0x26842e(0x4a9)]['reviver']);_0x11efe9=_0x797eb9['me']?.['name']||_0x797eb9['me']?.[_0x26842e(0x499)];}}else{if((0x0,Ie[_0x26842e(0x739)])((0x0,U['join'])(ye,this[_0x26842e(0x2c9)],_0x26842e(0x6ab)))){let _0xb692bc=JSON[_0x26842e(0x29d)]((0x0,Ie[_0x26842e(0x4b7)])((0x0,U['join'])(ye,this[_0x26842e(0x2c9)],_0x26842e(0x6ab)),{'encoding':'utf-8'}));_0x11efe9=_0xb692bc['me']?.[_0x26842e(0x2ea)]||_0xb692bc['me']?.[_0x26842e(0x499)];}}}return _0x11efe9;}get[a0_0x42e86b(0x416)](){const _0x7ac3f9=a0_0x42e86b;return this[_0x7ac3f9(0x82c)]['profilePictureUrl'];}get[a0_0x42e86b(0x582)](){const _0x26ca0e=a0_0x42e86b;return this[_0x26ca0e(0x82c)][_0x26ca0e(0x8ba)]?.[_0x26ca0e(0x65c)]?{'pairingCode':this['instance'][_0x26ca0e(0x8ba)]?.[_0x26ca0e(0x65c)]}:{'code':this[_0x26ca0e(0x82c)][_0x26ca0e(0x8ba)]?.['code'],'base64':this[_0x26ca0e(0x82c)][_0x26ca0e(0x8ba)]?.['base64']};}async[a0_0x42e86b(0x421)](){const _0x51a329=a0_0x42e86b;let _0x46ffb4=await this[_0x51a329(0x400)][_0x51a329(0x210)][_0x51a329(0x2a1)](this[_0x51a329(0x2c9)]);this[_0x51a329(0x7da)][_0x51a329(0x42b)]=_0x46ffb4?.['url'],this[_0x51a329(0x7da)]['enabled']=_0x46ffb4?.['enabled'],this['localWebhook'][_0x51a329(0x7a0)]=_0x46ffb4?.['local_map'],this[_0x51a329(0x7da)][_0x51a329(0x702)]=_0x46ffb4?.[_0x51a329(0x702)],this[_0x51a329(0x7da)][_0x51a329(0x325)]=_0x46ffb4?.['QRCODE_UPDATED'],this[_0x51a329(0x7da)][_0x51a329(0x4eb)]=_0x46ffb4?.[_0x51a329(0x4eb)],this[_0x51a329(0x7da)][_0x51a329(0x707)]=_0x46ffb4?.[_0x51a329(0x707)],this[_0x51a329(0x7da)][_0x51a329(0x8c4)]=_0x46ffb4?.['MESSAGES_UPDATE'],this[_0x51a329(0x7da)][_0x51a329(0x46f)]=_0x46ffb4?.['GROUPS_UPSERT'],this[_0x51a329(0x7da)][_0x51a329(0x5bd)]=_0x46ffb4?.[_0x51a329(0x5bd)],this[_0x51a329(0x7da)][_0x51a329(0x6a2)]=_0x46ffb4?.[_0x51a329(0x6a2)],this[_0x51a329(0x7da)][_0x51a329(0x317)]=_0x46ffb4?.['CHATS_SET'],this[_0x51a329(0x7da)]['CHATS_UPSERT']=_0x46ffb4?.['CHATS_UPSERT'],this[_0x51a329(0x7da)][_0x51a329(0x860)]=_0x46ffb4?.[_0x51a329(0x860)],this[_0x51a329(0x7da)][_0x51a329(0x856)]=_0x46ffb4?.[_0x51a329(0x856)],this[_0x51a329(0x7da)][_0x51a329(0x75c)]=_0x46ffb4?.[_0x51a329(0x75c)],this[_0x51a329(0x7da)][_0x51a329(0x4a3)]=_0x46ffb4?.[_0x51a329(0x4a3)],this[_0x51a329(0x7da)][_0x51a329(0x75b)]=_0x46ffb4?.['CONTACTS_UPDATE'],this[_0x51a329(0x7da)][_0x51a329(0x44e)]=_0x46ffb4?.[_0x51a329(0x44e)],this[_0x51a329(0x7da)]['MESSAGES_SET']=_0x46ffb4?.['MESSAGES_SET'],this[_0x51a329(0x7da)][_0x51a329(0x51f)]=_0x46ffb4?.[_0x51a329(0x51f)],this[_0x51a329(0x7da)][_0x51a329(0x5f4)]=_0x46ffb4?.[_0x51a329(0x5f4)];}async[a0_0x42e86b(0x756)](_0x2adef3){const _0x5a159c=a0_0x42e86b;let _0x19599a=['_id',_0x5a159c(0x42b),_0x5a159c(0x362),'local_map','STATUS_INSTANCE',_0x5a159c(0x325),_0x5a159c(0x8c4),_0x5a159c(0x707),_0x5a159c(0x4eb),_0x5a159c(0x46f),'GROUPS_UPDATE',_0x5a159c(0x6a2),_0x5a159c(0x317),_0x5a159c(0x4fa),_0x5a159c(0x860),_0x5a159c(0x856),'CONTACTS_SET',_0x5a159c(0x4a3),_0x5a159c(0x75b),_0x5a159c(0x44e),'MESSAGES_SET',_0x5a159c(0x51f),_0x5a159c(0x5f4)],_0x4451eb={};return _0x19599a[_0x5a159c(0x4ac)](_0x19da19=>{_0x2adef3[_0x19da19]!==void 0x0&&(_0x4451eb[_0x19da19]=_0x2adef3[_0x19da19]);}),_0x4451eb['url']&&(_0x4451eb[_0x5a159c(0x42b)]=_0x4451eb['url'][_0x5a159c(0x3e6)]()),await this[_0x5a159c(0x400)][_0x5a159c(0x210)][_0x5a159c(0x69f)](_0x4451eb,this[_0x5a159c(0x2c9)]),Object['assign'](this[_0x5a159c(0x7da)],_0x4451eb),await this[_0x5a159c(0x400)][_0x5a159c(0x210)]['find'](this[_0x5a159c(0x2c9)]);}async[a0_0x42e86b(0x463)](){const _0x471d2d=a0_0x42e86b;return await this[_0x471d2d(0x400)][_0x471d2d(0x210)][_0x471d2d(0x2a1)](this[_0x471d2d(0x2c9)]);}async[a0_0x42e86b(0x270)](_0x4d90b8,_0x56bdba){const _0x37a731=a0_0x42e86b;let _0xcc74b3=_0x4d90b8[_0x37a731(0x600)](/[\.-]/gm,'_')[_0x37a731(0x70d)](),_0x33376e=this[_0x37a731(0x7da)]['enabled']&&(0x0,k[_0x37a731(0x3ce)])(this[_0x37a731(0x7da)][_0x37a731(0x42b)])?this['localWebhook']['url']+(this[_0x37a731(0x7da)][_0x37a731(0x7a0)]?this[_0x37a731(0x33b)][_0x4d90b8]:''):null,_0x24f26c=this[_0x37a731(0x7da)][_0xcc74b3],_0x3d2976=le&&le[_0x37a731(0x362)]&&(0x0,k[_0x37a731(0x3ce)])(le[_0x37a731(0x42b)])?le[_0x37a731(0x42b)]+(le[_0x37a731(0x7a0)]?this[_0x37a731(0x33b)][_0x4d90b8]:''):null,_0x2676d5=le?le[_0xcc74b3]:null;if(_0x24f26c&&_0x33376e)try{await Q[_0x37a731(0x5d8)][_0x37a731(0x69f)]({'baseURL':_0x33376e})[_0x37a731(0x55d)]('',{'event':_0x4d90b8,'instance':this['instance'][_0x37a731(0x2ea)],'apikey':this[_0x37a731(0x82c)]['apikey'],'data':_0x56bdba}),this[_0x37a731(0x7a6)][_0x37a731(0x247)](this['instanceName']+'\x20('+this[_0x37a731(0x82c)][_0x37a731(0x568)]+_0x37a731(0x3c9)+_0x4d90b8+':\x20'+_0x33376e);}catch{console[_0x37a731(0x690)]((0x0,g[_0x37a731(0x5d8)])()[_0x37a731(0x63e)](_0x37a731(0x6e1))+':\x20'+this[_0x37a731(0x2c9)]+'\x20('+this['instance']['wuid']+_0x37a731(0x502)+_0x4d90b8+':\x20'+_0x33376e);}if(_0x2676d5&&_0x3d2976)try{await Q['default']['create']({'baseURL':_0x3d2976})['post']('',{'event':_0x4d90b8,'instance':this['instance'][_0x37a731(0x2ea)],'apikey':this['instance'][_0x37a731(0x7c2)],'data':_0x56bdba}),this[_0x37a731(0x7a6)]['log'](this[_0x37a731(0x2c9)]+'\x20('+this[_0x37a731(0x82c)][_0x37a731(0x568)]+_0x37a731(0x4f0)+_0x4d90b8+':\x20'+_0x3d2976);}catch{console[_0x37a731(0x690)]((0x0,g[_0x37a731(0x5d8)])()[_0x37a731(0x63e)](_0x37a731(0x6e1))+':\x20'+this[_0x37a731(0x2c9)]+'\x20('+this[_0x37a731(0x82c)][_0x37a731(0x568)]+_0x37a731(0x409)+_0x4d90b8+':\x20'+_0x3d2976);}}async[a0_0x42e86b(0x562)]({qr:_0x45be13,connection:_0xcc1ac6,lastDisconnect:_0x2e7f3d}){const _0x43f825=a0_0x42e86b;if(_0x45be13){if(this[_0x43f825(0x82c)][_0x43f825(0x8ba)]['count']===Di)return this[_0x43f825(0x270)](_0x43f825(0x3ea),{'message':_0x43f825(0x558),'statusCode':y[_0x43f825(0x485)][_0x43f825(0x3da)]}),this[_0x43f825(0x8e7)]={'state':_0x43f825(0x36d),'statusReason':y[_0x43f825(0x485)][_0x43f825(0x820)]},this[_0x43f825(0x270)](_0x43f825(0x698),{'instance':this[_0x43f825(0x82c)][_0x43f825(0x2ea)],...this[_0x43f825(0x8e7)]}),this[_0x43f825(0x270)](_0x43f825(0x305),{'instance':this[_0x43f825(0x82c)][_0x43f825(0x2ea)],'status':'removed'}),this[_0x43f825(0x400)][_0x43f825(0x3c2)][_0x43f825(0x69f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x43f825(0x51c)]()},this['instance'][_0x43f825(0x2ea)]),this['endSession']=!0x0,this[_0x43f825(0x7b1)][_0x43f825(0x1f4)](_0x43f825(0x41c),this[_0x43f825(0x82c)]['name']);this[_0x43f825(0x82c)][_0x43f825(0x8ba)]['count']++;let _0x259751={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x43f825(0x653),'dark':_0x43f825(0x330)}};vo[_0x43f825(0x5d8)][_0x43f825(0x37f)](_0x45be13,_0x259751,(_0x3b167a,_0x47095c)=>{const _0x17ba1e=_0x43f825;if(_0x3b167a){console[_0x17ba1e(0x690)](this[_0x17ba1e(0x2c9)]+'\x20('+this[_0x17ba1e(0x82c)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x3b167a instanceof Error?_0x3b167a[_0x17ba1e(0x64b)]:JSON[_0x17ba1e(0x5b1)](_0x3b167a,null,0x2)));return;}this[_0x17ba1e(0x82c)][_0x17ba1e(0x8ba)][_0x17ba1e(0x50f)]=_0x47095c,this[_0x17ba1e(0x82c)][_0x17ba1e(0x8ba)][_0x17ba1e(0x664)]=_0x45be13,!this[_0x17ba1e(0x31a)]&&this['sendDataWebhook'](_0x17ba1e(0x3ea),{'qrcode':{'instance':this['instance']['name'],'pairingCode':this[_0x17ba1e(0x82c)]['qrcode'][_0x17ba1e(0x65c)],'code':_0x45be13,'base64':_0x47095c}});}),this['phoneNumber']?this[_0x43f825(0x82c)]['qrcode'][_0x43f825(0x65c)]||(await(0x0,y[_0x43f825(0x6af)])(0x7d0),this[_0x43f825(0x82c)][_0x43f825(0x8ba)][_0x43f825(0x65c)]=await this[_0x43f825(0x342)][_0x43f825(0x867)](this['phoneNumber'])):this[_0x43f825(0x82c)][_0x43f825(0x8ba)]['pairingCode']=null,No['default']['generate'](_0x45be13,{'small':!0x0},_0x3099e2=>this[_0x43f825(0x7a6)]['log'](_0x43f825(0x321)+this[_0x43f825(0x82c)][_0x43f825(0x2ea)]+_0x43f825(0x5b0)+this[_0x43f825(0x82c)][_0x43f825(0x8ba)][_0x43f825(0x5db)]+_0x43f825(0x8e6)+this[_0x43f825(0x82c)][_0x43f825(0x8ba)][_0x43f825(0x65c)]+_0x43f825(0x5f8)+_0x3099e2));}if(_0xcc1ac6&&(this[_0x43f825(0x8e7)]={'state':_0xcc1ac6,'statusReason':_0x2e7f3d?.['error']?.['output']?.['statusCode']??0xc8},this[_0x43f825(0x270)](_0x43f825(0x698),{'instance':this[_0x43f825(0x82c)][_0x43f825(0x2ea)],...this[_0x43f825(0x8e7)]})),_0xcc1ac6===_0x43f825(0x5d1)){if(this[_0x43f825(0x5ca)]++,this[_0x43f825(0x25b)][_0x43f825(0x234)](Date[_0x43f825(0x51c)]()),this[_0x43f825(0x25b)]=this[_0x43f825(0x25b)]['filter'](_0x23c288=>Date[_0x43f825(0x51c)]()-_0x23c288<this[_0x43f825(0x284)]),_0x2e7f3d['error']?.[_0x43f825(0x21f)]?.['statusCode']!==y['DisconnectReason']['loggedOut']&&this[_0x43f825(0x25b)]['length']<=this[_0x43f825(0x83e)])console[_0x43f825(0x247)](this[_0x43f825(0x2c9)]+_0x43f825(0x4d9)+this[_0x43f825(0x5ca)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x43f825(0x247)](_0x43f825(0x2ae)),await this[_0x43f825(0x883)]();else{this['sendDataWebhook'](_0x43f825(0x305),{'instance':this[_0x43f825(0x82c)][_0x43f825(0x2ea)],'status':_0x43f825(0x6fb)}),this[_0x43f825(0x82c)]['ScheduleMessage'][_0x43f825(0x729)]=!0x1,this[_0x43f825(0x400)]['webhook']['delete'](this[_0x43f825(0x2c9)]),this[_0x43f825(0x400)][_0x43f825(0x3c2)][_0x43f825(0x69f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x43f825(0x51c)]()},this[_0x43f825(0x82c)][_0x43f825(0x2ea)]);try{this['logger'][_0x43f825(0x3f4)](this[_0x43f825(0x2c9)]+'\x20('+this[_0x43f825(0x82c)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x313f3e=await this['repository'][_0x43f825(0x64b)]['deleteAll'](this[_0x43f825(0x82c)]['wuid']);_0x313f3e[_0x43f825(0x617)]?this[_0x43f825(0x7a6)]['verbose'](this[_0x43f825(0x2c9)]+'\x20('+this[_0x43f825(0x82c)][_0x43f825(0x568)]+_0x43f825(0x73e)):console[_0x43f825(0x690)](_0x43f825(0x615),_0x313f3e['error']);}catch(_0x37c601){console[_0x43f825(0x690)](_0x43f825(0x3f1),_0x37c601[_0x43f825(0x64b)]);}this[_0x43f825(0x82c)][_0x43f825(0x60c)][_0x43f825(0x745)]!==null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x43f825(0x568)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x43f825(0x82c)][_0x43f825(0x60c)]['delayMessage']),this['instance'][_0x43f825(0x60c)][_0x43f825(0x745)]=null),this['logger'][_0x43f825(0x3f4)](this[_0x43f825(0x2c9)]+'\x20('+this[_0x43f825(0x82c)][_0x43f825(0x568)]+_0x43f825(0x5f5)),this[_0x43f825(0x3cb)]=null,this[_0x43f825(0x7b1)][_0x43f825(0x1f4)](_0x43f825(0x8a7),this[_0x43f825(0x82c)][_0x43f825(0x2ea)],_0x43f825(0x8e4)),this['client']?.['ws']?.[_0x43f825(0x5d1)](),this[_0x43f825(0x342)][_0x43f825(0x8d6)](new Error('Close\x20connection'));}}if(_0xcc1ac6===_0x43f825(0x7a1)){this[_0x43f825(0x342)]['ev'][_0x43f825(0x428)](),this[_0x43f825(0x286)],this[_0x43f825(0x82c)][_0x43f825(0x568)]=this['client'][_0x43f825(0x833)]['id']['replace'](/:\d+/,'')[_0x43f825(0x600)](_0x43f825(0x3df),''),this['instance']['profilePictureUrl']=(await this[_0x43f825(0x556)](this[_0x43f825(0x82c)][_0x43f825(0x568)]+'@s.whatsapp.net'))[_0x43f825(0x416)],this[_0x43f825(0x400)][_0x43f825(0x3c2)][_0x43f825(0x69f)]({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x43f825(0x82c)]['name']);let _0x5776bd=_0x43f825(0x780)+this[_0x43f825(0x82c)]['wuid'],_0x31dc5b=0x28,_0x190209=Math[_0x43f825(0x30f)]((_0x31dc5b-_0x5776bd['length'])/0x2),_0xecd622='\x20'[_0x43f825(0x459)](_0x190209),_0x16ec2a='CONECTADO\x20À\x20UAZAPI',_0x1e60f3=_0x43f825(0x6a1)+this[_0x43f825(0x82c)][_0x43f825(0x2ea)],_0x1689e0=(''+_0xecd622+_0x5776bd+_0xecd622)['padEnd'](_0x31dc5b,'\x20'),_0x44aea6=(''+_0xecd622+_0x16ec2a+_0xecd622)['padEnd'](_0x31dc5b,'\x20'),_0x4e823e=(''+_0xecd622+_0x1e60f3+_0xecd622)[_0x43f825(0x267)](_0x31dc5b,'\x20'),_0x3e8feb=Math[_0x43f825(0x259)](_0x1689e0['length'],_0x44aea6['length'],_0x4e823e[_0x43f825(0x40e)]),_0x51172a=_0x1689e0[_0x43f825(0x267)](_0x3e8feb,'\x20'),_0x460a1a=_0x44aea6[_0x43f825(0x267)](_0x3e8feb,'\x20'),_0x2f406f=_0x4e823e[_0x43f825(0x267)](_0x3e8feb,'\x20');this[_0x43f825(0x7a6)][_0x43f825(0x2d4)]((_0x43f825(0x552)+'─'[_0x43f825(0x459)](_0x3e8feb)+_0x43f825(0x725)+_0x460a1a+_0x43f825(0x6de)+_0x2f406f+_0x43f825(0x6de)+_0x51172a+_0x43f825(0x83d)+'─'['repeat'](_0x3e8feb)+'┘')[_0x43f825(0x600)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x43f825(0x82c)][_0x43f825(0x60c)][_0x43f825(0x729)]=!0x0;}}[a0_0x42e86b(0x286)](){const _0x21b547=a0_0x42e86b;this[_0x21b547(0x5ca)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x42e86b(0x63d)](_0xc2c364,_0x504115=!0x1){const _0x3efa18=a0_0x42e86b;try{let _0x52d225=await this[_0x3efa18(0x400)][_0x3efa18(0x64b)][_0x3efa18(0x2a1)]({'where':{'_id':_0xc2c364['id']}},this['instance'][_0x3efa18(0x568)]);return _0x504115?_0x52d225[0x0]:_0x52d225[0x0][_0x3efa18(0x64b)];}catch{return{'conversation':''};}}[a0_0x42e86b(0x55a)](){const _0x18c2e5=a0_0x42e86b;let _0x17f80b=this[_0x18c2e5(0x8e3)][_0x18c2e5(0x6e5)]('STORE'),_0x18f93e=this[_0x18c2e5(0x8e3)][_0x18c2e5(0x6e5)](_0x18c2e5(0x30d));_0x17f80b?.['CLEANING_INTERVAL']&&!_0x18f93e['ENABLED']&&setInterval(()=>{const _0x280f6f=_0x18c2e5;try{for(let [_0x434226,_0x1f1b63]of Object[_0x280f6f(0x22f)](_0x17f80b))_0x1f1b63===!0x0&&(0x0,_e[_0x280f6f(0x297)])(_0x280f6f(0x7fc)+(0x0,U[_0x280f6f(0x468)])(this['storePath'],_0x434226[_0x280f6f(0x8e2)](),this[_0x280f6f(0x82c)][_0x280f6f(0x568)])+_0x280f6f(0x212));}catch{}},(_0x17f80b?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x42e86b(0x35e)](){const _0x8737a=a0_0x42e86b;let _0xbae4ee=this['configService'][_0x8737a(0x6e5)](_0x8737a(0x30d)),_0x8331b4=this[_0x8737a(0x8e3)][_0x8737a(0x6e5)]('REDIS');return _0x8331b4?.[_0x8737a(0x625)]?await Ds(_0x8331b4,this[_0x8737a(0x82c)][_0x8737a(0x2ea)]):_0xbae4ee[_0x8737a(0x625)]?await Rs(this['instance'][_0x8737a(0x2ea)]):await(0x0,y[_0x8737a(0x345)])((0x0,U['join'])(ye,this[_0x8737a(0x82c)]['name']));}async['AutomateFunctions'](){const _0x4e4773=a0_0x42e86b;let _0x424ab1=()=>Math[_0x4e4773(0x30f)](Math[_0x4e4773(0x898)]()*0x2711)+0x7d0,_0x39b5d9=async()=>{const _0x2a3805=_0x4e4773;if(!this[_0x2a3805(0x82c)]['ScheduleMessage'][_0x2a3805(0x729)]){this[_0x2a3805(0x7a6)][_0x2a3805(0x3f4)](this[_0x2a3805(0x2c9)]+'\x20('+this[_0x2a3805(0x82c)][_0x2a3805(0x568)]+'):Desconectado,\x20parando\x20execução.'),this[_0x2a3805(0x7d1)]=!0x1;return;}if(this[_0x2a3805(0x82c)][_0x2a3805(0x568)]&&this[_0x2a3805(0x3cb)]&&this[_0x2a3805(0x82c)][_0x2a3805(0x60c)][_0x2a3805(0x745)]!==null&&this[_0x2a3805(0x82c)][_0x2a3805(0x60c)]['delayMessage']!==void 0x0){let _0x3e2905=Math[_0x2a3805(0x8f3)](this[_0x2a3805(0x82c)][_0x2a3805(0x60c)][_0x2a3805(0x745)]/0xea60);this['logger'][_0x2a3805(0x3f4)](this[_0x2a3805(0x2c9)]+'\x20('+this[_0x2a3805(0x82c)]['wuid']+_0x2a3805(0x7fb)+_0x3e2905+_0x2a3805(0x6a7)),this[_0x2a3805(0x7d1)]=!0x1;return;}else this[_0x2a3805(0x82c)]['wuid']&&(this[_0x2a3805(0x7a6)][_0x2a3805(0x3f4)](this[_0x2a3805(0x2c9)]+'\x20('+this['instance'][_0x2a3805(0x568)]+_0x2a3805(0x1fe)),this[_0x2a3805(0x3cb)]||(await this[_0x2a3805(0x8f2)](),this[_0x2a3805(0x308)](),this[_0x2a3805(0x4ba)]()),(this[_0x2a3805(0x82c)][_0x2a3805(0x60c)]['delayMessage']===null||this['instance'][_0x2a3805(0x60c)][_0x2a3805(0x745)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x2a3805(0x7d1)]){let _0x3c1f7d=_0x424ab1();this['logger'][_0x2a3805(0x3f4)](this['instanceName']+_0x2a3805(0x289)+_0x3c1f7d/0x3e8+_0x2a3805(0x66b)),setTimeout(_0x39b5d9,_0x3c1f7d);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x4e4024=_0x424ab1();setTimeout(_0x39b5d9,_0x4e4024);}async[a0_0x42e86b(0x4ba)](){const _0x1b6845=a0_0x42e86b;let _0x3c20ce=this[_0x1b6845(0x82c)][_0x1b6845(0x568)];try{let _0x19413a=await this[_0x1b6845(0x400)][_0x1b6845(0x3dc)][_0x1b6845(0x5bf)]({'where':{'$or':[{'owner':_0x3c20ce},{'whoCanUse':{'$in':[_0x3c20ce]}},{'shareOwners':{'$in':[_0x3c20ce]}}]}}),_0x271da7=await this[_0x1b6845(0x400)][_0x1b6845(0x3dc)][_0x1b6845(0x5bf)]({'where':{'$or':[{'owner':'global'},{'whoCanUse':{'$in':[_0x1b6845(0x2f5)]}},{'shareOwners':{'$in':[_0x1b6845(0x2f5)]}}]}});_0x271da7&&_0x271da7['length']>0x0?this[_0x1b6845(0x7a6)][_0x1b6845(0x3f4)](this[_0x1b6845(0x2c9)]+'\x20('+this[_0x1b6845(0x82c)][_0x1b6845(0x568)]+_0x1b6845(0x5fc)):(await this[_0x1b6845(0x400)][_0x1b6845(0x3dc)]['migrateFlowsToCentralizedCollection'](_0x1b6845(0x2f5)),this[_0x1b6845(0x7a6)][_0x1b6845(0x3f4)](this[_0x1b6845(0x2c9)]+'\x20('+this[_0x1b6845(0x82c)]['wuid']+_0x1b6845(0x495))),_0x19413a&&_0x19413a[_0x1b6845(0x40e)]>0x0?this['logger'][_0x1b6845(0x3f4)](this[_0x1b6845(0x2c9)]+'\x20('+this['instance'][_0x1b6845(0x568)]+'):\x20Fluxos\x20do\x20proprietário\x20\x27'+_0x3c20ce+_0x1b6845(0x3cf)):(await this[_0x1b6845(0x400)][_0x1b6845(0x3dc)][_0x1b6845(0x8a9)](_0x3c20ce),this[_0x1b6845(0x7a6)][_0x1b6845(0x3f4)](this[_0x1b6845(0x2c9)]+'\x20('+this[_0x1b6845(0x82c)]['wuid']+_0x1b6845(0x6f6)+_0x3c20ce+'\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.'),_0x19413a=await this[_0x1b6845(0x400)][_0x1b6845(0x3dc)]['findAll']({'where':{'$or':[{'owner':_0x3c20ce},{'whoCanUse':{'$in':[_0x3c20ce]}},{'shareOwners':{'$in':[_0x3c20ce]}}]}}));let _0x2fd706=new Map(this[_0x1b6845(0x3cb)][_0x1b6845(0x5b2)][_0x1b6845(0x57c)](_0x2facca=>[_0x2facca['_id'],_0x2facca])),_0x111768=_0x19413a[_0x1b6845(0x57c)](_0xb50959=>{const _0x168926=_0x1b6845;let _0x242c15=_0x2fd706['get'](_0xb50959[_0x168926(0x287)]?.[_0x168926(0x53e)]());return{'_id':_0xb50959[_0x168926(0x287)]?.['toString'](),'name':_0x242c15?.['name']??_0xb50959[_0x168926(0x2ea)],'default':_0x242c15?.[_0x168926(0x5d8)]??_0xb50959[_0x168926(0x5d8)]??!0x1,'startCommand':_0x242c15?.[_0x168926(0x37c)]??_0xb50959[_0x168926(0x8c8)],'minutesToClose':_0x242c15?.['minutesToClose']??_0xb50959[_0x168926(0x522)]??0x0,'readMessages':_0x242c15?.['readMessages']??_0xb50959[_0x168926(0x830)]??!0x1,'testingWith':_0x242c15?.[_0x168926(0x619)]??_0xb50959[_0x168926(0x619)],'canEdit':_0xb50959[_0x168926(0x6c3)]===_0x3c20ce||(_0xb50959['whoCanEdit']??[])[_0x168926(0x8d2)](_0x3c20ce),'usersCount':(_0xb50959[_0x168926(0x49e)]??[])[_0x168926(0x40e)]??0x0};}),_0x46ce2c=!0x1;_0x111768[_0x1b6845(0x4ac)](_0x384cee=>{const _0x1be6ba=_0x1b6845;_0x384cee['default']&&(_0x46ce2c?_0x384cee[_0x1be6ba(0x5d8)]=!0x1:_0x46ce2c=!0x0);}),this[_0x1b6845(0x3cb)]['flows']=_0x111768;let _0x3ac680={'flows':_0x111768};return await this[_0x1b6845(0x400)]['automateSystem'][_0x1b6845(0x211)](_0x3ac680,_0x3c20ce),this[_0x1b6845(0x7a6)][_0x1b6845(0x3f4)](this[_0x1b6845(0x2c9)]+'\x20('+_0x3c20ce+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x111768['length'];}catch(_0x4dd5f5){return console[_0x1b6845(0x690)]((0x0,g[_0x1b6845(0x5d8)])()[_0x1b6845(0x63e)](_0x1b6845(0x6e1))+':\x20'+this[_0x1b6845(0x2c9)]+'\x20('+_0x3c20ce+_0x1b6845(0x57f)+(_0x4dd5f5 instanceof Error?_0x4dd5f5[_0x1b6845(0x64b)]:JSON[_0x1b6845(0x5b1)](_0x4dd5f5,null,0x2))),{'message':_0x1b6845(0x7c4)+(_0x4dd5f5 instanceof Error?_0x4dd5f5[_0x1b6845(0x64b)]:JSON[_0x1b6845(0x5b1)](_0x4dd5f5,null,0x2))};}}async['loadproxy'](_0x5ab3f6=0x0,_0x3acd68=!0x1){const _0x3f4124=a0_0x42e86b;try{let _0x557a4e=this[_0x3f4124(0x8e3)][_0x3f4124(0x6e5)]('PROXY');if(_0x557a4e!==0x1||typeof _0x557a4e>'u'||_0x5ab3f6>=0x5)return this[_0x3f4124(0x7a6)]['warn']('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this['repository'][_0x3f4124(0x3c2)][_0x3f4124(0x69f)]({'ip':null},this[_0x3f4124(0x82c)][_0x3f4124(0x2ea)]),{};this[_0x3f4124(0x7a6)][_0x3f4124(0x3f4)](this[_0x3f4124(0x2c9)]+_0x3f4124(0x853)+(_0x5ab3f6+0x1)+_0x3f4124(0x3bf));let _0x3af177;if(!_0x3acd68){let _0x20fe20=await this['repository'][_0x3f4124(0x3c2)][_0x3f4124(0x2a1)](this['instanceName']);_0x20fe20&&_0x20fe20['ip']&&(_0x3af177=So(_0x20fe20['ip']));}if((!_0x3af177||!As(_0x3af177))&&(this[_0x3f4124(0x7a6)]['warn'](this['instanceName']+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x3af177=Mo()),_0x3af177&&As(_0x3af177)){let _0x1080ef=_0x3af177[_0x3f4124(0x879)]&&_0x3af177['password']?_0x3af177[_0x3f4124(0x8d8)]+_0x3f4124(0x38a)+_0x3af177[_0x3f4124(0x879)]+':'+_0x3af177[_0x3f4124(0x64e)]+'@'+_0x3af177[_0x3f4124(0x5c0)]+':'+_0x3af177[_0x3f4124(0x66c)]:_0x3af177['protocol']+_0x3f4124(0x38a)+_0x3af177['host']+':'+_0x3af177[_0x3f4124(0x66c)];return await this[_0x3f4124(0x607)](_0x1080ef,_0x3af177[_0x3f4124(0x5c0)])?(this[_0x3f4124(0x7a6)][_0x3f4124(0x3f4)](this[_0x3f4124(0x2c9)]+_0x3f4124(0x752)),this[_0x3f4124(0x400)][_0x3f4124(0x3c2)][_0x3f4124(0x69f)]({'ip':_0x3af177[_0x3f4124(0x5c0)]},this[_0x3f4124(0x82c)][_0x3f4124(0x2ea)]),{'agent':new Ft[(_0x3f4124(0x60f))](_0x1080ef),'fetchAgent':new Ft[(_0x3f4124(0x60f))](_0x1080ef)}):(this[_0x3f4124(0x7a6)]['warn'](this[_0x3f4124(0x2c9)]+_0x3f4124(0x4c1)),await(0x0,y[_0x3f4124(0x6af)])(0xc8),this[_0x3f4124(0x72f)](_0x5ab3f6+0x1,!0x0));}else return this['logger'][_0x3f4124(0x275)](this[_0x3f4124(0x2c9)]+_0x3f4124(0x2bc)),await(0x0,y[_0x3f4124(0x6af)])(0xc8),this[_0x3f4124(0x72f)](_0x5ab3f6+0x1,!0x0);}catch(_0x4f0a8e){return console[_0x3f4124(0x690)]((0x0,g['default'])()['format'](_0x3f4124(0x6e1))+':\x20'+this[_0x3f4124(0x2c9)]+_0x3f4124(0x22e)+_0x4f0a8e[_0x3f4124(0x64b)]),{};}}async[a0_0x42e86b(0x607)](_0xdd3ca1,_0x43a973){const _0x5cc045=a0_0x42e86b;let _0x1e2d7d=new Ft[(_0x5cc045(0x60f))](_0xdd3ca1),_0x12704b=0x1388,_0x3b90c6=[{'url':_0x5cc045(0x483),'parse':_0x4692be=>_0x4692be['ip']},{'url':_0x5cc045(0x887),'parse':_0x36001b=>_0x36001b['ip']},{'url':_0x5cc045(0x666),'parse':_0x38b2d4=>_0x38b2d4['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x36a319=>_0x36a319['ip']},{'url':'http://ifconfig.me/ip','parse':_0x807663=>_0x807663[_0x5cc045(0x3e6)]()},{'url':'http://ipecho.net/plain','parse':_0x46ac25=>_0x46ac25[_0x5cc045(0x3e6)]()},{'url':_0x5cc045(0x542),'parse':_0x2a69b6=>_0x2a69b6[_0x5cc045(0x2c6)]},{'url':'http://myexternalip.com/raw','parse':_0x3ff83e=>_0x3ff83e[_0x5cc045(0x3e6)]()},{'url':_0x5cc045(0x82d),'parse':_0x474450=>_0x474450[_0x5cc045(0x3e6)]()}],_0xe3aa0f=_0x3b90c6[Math['floor'](Math['random']()*_0x3b90c6[_0x5cc045(0x40e)])];try{let _0x1109a2=await Q[_0x5cc045(0x5d8)][_0x5cc045(0x6e5)](_0xe3aa0f['url'],{'httpsAgent':_0x1e2d7d,'timeout':_0x12704b}),_0x1d4d10=_0xe3aa0f[_0x5cc045(0x29d)](_0x1109a2['data']);return _0x1d4d10===_0x43a973?(this['logger']['verbose'](this[_0x5cc045(0x2c9)]+':\x20IP\x20configurado:\x20'+_0x43a973+_0x5cc045(0x4a7)+_0x1d4d10+'\x20->\x20CONFIRMADO.'),!0x0):(console[_0x5cc045(0x690)]((0x0,g[_0x5cc045(0x5d8)])()[_0x5cc045(0x63e)](_0x5cc045(0x6e1))+':\x20'+this[_0x5cc045(0x2c9)]+_0x5cc045(0x88c)+_0x43a973+_0x5cc045(0x4a7)+_0x1d4d10+_0x5cc045(0x848)),!0x1);}catch(_0x3fc139){return console[_0x5cc045(0x690)]((0x0,g['default'])()[_0x5cc045(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0xe3aa0f[_0x5cc045(0x42b)]+':\x20'+_0x3fc139[_0x5cc045(0x64b)]),!0x1;}}async[a0_0x42e86b(0x883)](_0x5008e0){const _0x5351cb=a0_0x42e86b;try{let _0x5d077f=await this['loadproxy']();this[_0x5351cb(0x421)](),this[_0x5351cb(0x82c)][_0x5351cb(0x7c2)]=(await this[_0x5351cb(0x400)][_0x5351cb(0x3c2)][_0x5351cb(0x2a1)](this[_0x5351cb(0x82c)][_0x5351cb(0x2ea)]))[_0x5351cb(0x7c2)],this['instance'][_0x5351cb(0x224)]=await this[_0x5351cb(0x35e)]();let {version:_0x35bc2f}=await(0x0,y[_0x5351cb(0x74b)])(),_0x495599=[$o,_s,(0x0,xs[_0x5351cb(0x75e)])()],_0x529844={..._0x5d077f,'auth':{'creds':this[_0x5351cb(0x82c)][_0x5351cb(0x224)][_0x5351cb(0x53f)][_0x5351cb(0x514)],'keys':(0x0,y[_0x5351cb(0x635)])(this[_0x5351cb(0x82c)][_0x5351cb(0x224)]['state'][_0x5351cb(0x3b9)],(0x0,Pt[_0x5351cb(0x5d8)])({'level':_0x5351cb(0x690)}))},'logger':(0x0,Pt[_0x5351cb(0x5d8)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x5008e0?[_0x5351cb(0x8ee),_s,(0x0,xs[_0x5351cb(0x75e)])()]:_0x495599,'version':_0x35bc2f,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3bdbe4=>{const _0x570d93=_0x5351cb;let _0x1acee6=_0x3bdbe4['endsWith']('@newsletter'),_0x112977=this[_0x570d93(0x7da)]?.[_0x570d93(0x5f4)]&&_0x3bdbe4[_0x570d93(0x4de)](_0x570d93(0x45f));return _0x1acee6||(0x0,y[_0x570d93(0x636)])(_0x3bdbe4)||_0x112977;},'msgRetryCounterCache':this[_0x5351cb(0x23d)],'getMessage':async _0x54ea16=>await this[_0x5351cb(0x63d)](_0x54ea16),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5351cb(0x4c8)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x20a05c=>(_0x20a05c[_0x5351cb(0x23e)]?.[_0x5351cb(0x616)]==y[_0x5351cb(0x39d)][_0x5351cb(0x4da)]['ListMessage'][_0x5351cb(0x2dc)]['PRODUCT_LIST']&&(_0x20a05c=JSON[_0x5351cb(0x29d)](JSON['stringify'](_0x20a05c)),_0x20a05c['listMessage'][_0x5351cb(0x616)]=y[_0x5351cb(0x39d)][_0x5351cb(0x4da)][_0x5351cb(0x26f)][_0x5351cb(0x2dc)][_0x5351cb(0x736)]),_0x20a05c)};return this[_0x5351cb(0x2aa)]=!0x1,this[_0x5351cb(0x342)]=(0x0,y['default'])(_0x529844),this['eventHandler'](),this['phoneNumber']=_0x5008e0,this['client'];}catch(_0xd679aa){let _0x1d8341=_0x5351cb(0x703),_0x136457=_0xd679aa instanceof Error?_0xd679aa[_0x5351cb(0x64b)]:typeof _0xd679aa==_0x5351cb(0x387)?JSON[_0x5351cb(0x5b1)](_0xd679aa):_0xd679aa,_0x176bcd=_0x1d8341+':\x20'+_0x136457;throw console[_0x5351cb(0x690)]((0x0,g['default'])()['format'](_0x5351cb(0x6e1))+':\x20'+this[_0x5351cb(0x2c9)]+'\x20('+this['instance'][_0x5351cb(0x568)]+_0x5351cb(0x840)+_0x176bcd),new x(_0x176bcd);}}[a0_0x42e86b(0x309)](){const _0xd1c98b=a0_0x42e86b;this[_0xd1c98b(0x342)]['ev'][_0xd1c98b(0x3f2)](_0x43cf7b=>{const _0x572c93=_0xd1c98b;if(!this['endSession']){let _0x45ef12=this[_0x572c93(0x8e3)][_0x572c93(0x6e5)](_0x572c93(0x30d));if(_0x43cf7b[_0x572c93(0x7f4)]){let _0x427f76=_0x43cf7b['labels.edit'];this[_0x572c93(0x8b2)]['labels.edit'](_0x427f76);}if(_0x43cf7b[_0x572c93(0x4ae)]){let _0xe27b1c=_0x43cf7b[_0x572c93(0x4ae)];this['messageHandle'][_0x572c93(0x4ae)](_0xe27b1c);}if(_0x43cf7b[_0x572c93(0x698)]&&this[_0x572c93(0x562)](_0x43cf7b[_0x572c93(0x698)]),_0x43cf7b[_0x572c93(0x8b6)]&&this[_0x572c93(0x82c)]['authState']['saveCreds'](),_0x43cf7b['messaging-history.set']){let _0x1fdc53=_0x43cf7b[_0x572c93(0x6c8)];this[_0x572c93(0x8b2)]['messaging-history.set'](_0x1fdc53,_0x45ef12);}if(_0x43cf7b[_0x572c93(0x233)]){let _0x2574b8=_0x43cf7b[_0x572c93(0x233)];this['messageHandle'][_0x572c93(0x233)](_0x2574b8,_0x45ef12);}if(_0x43cf7b[_0x572c93(0x39a)]){let _0x4a9ef1=_0x43cf7b['messages.update'];this[_0x572c93(0x8b2)][_0x572c93(0x39a)](_0x4a9ef1,_0x45ef12);}if(_0x43cf7b['presence.update']){let _0x2abb9b=_0x43cf7b['presence.update'];if(this['localWebhook']?.[_0x572c93(0x5f4)]&&_0x2abb9b['id'][_0x572c93(0x8d2)]('@g.us'))return;this['sendDataWebhook'](_0x572c93(0x692),_0x2abb9b);}if(_0x43cf7b[_0x572c93(0x77e)]){let _0x1e839d=_0x43cf7b[_0x572c93(0x77e)];this[_0x572c93(0x791)][_0x572c93(0x77e)](_0x1e839d);}if(_0x43cf7b[_0x572c93(0x3ab)]){let _0x23b50c=_0x43cf7b[_0x572c93(0x3ab)];this['groupHandler'][_0x572c93(0x3ab)](_0x23b50c);}if(_0x43cf7b[_0x572c93(0x390)]){let _0x184df8=_0x43cf7b[_0x572c93(0x390)];this[_0x572c93(0x791)]['group-participants.update'](_0x184df8);}if(_0x43cf7b['chats.upsert']){let _0x157adc=_0x43cf7b['chats.upsert'];this[_0x572c93(0x764)][_0x572c93(0x239)](_0x157adc,_0x45ef12);}if(_0x43cf7b[_0x572c93(0x38d)]){let _0x1ef40f=_0x43cf7b[_0x572c93(0x38d)];this[_0x572c93(0x764)]['chats.update'](_0x1ef40f,_0x45ef12);}if(_0x43cf7b['chats.delete']){let _0xc0ccdf=_0x43cf7b[_0x572c93(0x80d)];this[_0x572c93(0x764)][_0x572c93(0x80d)](_0xc0ccdf);}if(_0x43cf7b[_0x572c93(0x478)]){let _0x1d5867=_0x43cf7b[_0x572c93(0x478)];this[_0x572c93(0x432)][_0x572c93(0x478)](_0x1d5867,_0x45ef12);}if(_0x43cf7b[_0x572c93(0x251)]){let _0x37b4a1=_0x43cf7b[_0x572c93(0x251)];this['contactHandle'][_0x572c93(0x251)](_0x37b4a1,_0x45ef12);}}});}[a0_0x42e86b(0x296)](_0x4d9fb8){return new Promise(_0x2e127d=>setTimeout(_0x2e127d,_0x4d9fb8));}['formatBRNumber'](_0x242992){const _0x5e1003=a0_0x42e86b;_0x242992=_0x242992[_0x5e1003(0x600)](/\D/g,'');let _0x3f5ec0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x242992);if(_0x3f5ec0&&_0x3f5ec0[0x1]==='55'){let _0x2043f6=_0x3f5ec0[0x2],_0x4cf89f=_0x3f5ec0[0x3],_0x5c60fc=_0x3f5ec0[0x4];if(parseInt(_0x2043f6)>=0x1f&&_0x4cf89f==='9')return _0x3f5ec0[0x1]+_0x2043f6+_0x5c60fc;}return _0x242992;}[a0_0x42e86b(0x838)](_0x2060af){const _0x57df99=a0_0x42e86b;return _0x2060af['includes'](_0x57df99(0x45f))||_0x2060af[_0x57df99(0x8d2)](_0x57df99(0x3df))||_0x2060af[_0x57df99(0x8d2)](_0x57df99(0x4b2))?_0x2060af:(_0x2060af=_0x2060af?.['replace'](/\s/g,'')[_0x57df99(0x600)](/\+/g,'')[_0x57df99(0x600)](/\(/g,'')[_0x57df99(0x600)](/\)/g,'')[_0x57df99(0x8a3)](/\:/)[0x0][_0x57df99(0x8a3)]('@')[0x0],_0x2060af[_0x57df99(0x40e)]>=0x12?(_0x2060af=_0x2060af['replace'](/[^\d-]/g,''),_0x2060af+_0x57df99(0x45f)):(_0x2060af=_0x2060af[_0x57df99(0x600)](/\D/g,''),_0x2060af+_0x57df99(0x3df)));}async[a0_0x42e86b(0x462)](_0x1b8198){const _0x50d0da=a0_0x42e86b;let _0x264507=(await this[_0x50d0da(0x601)]({'numbers':[_0x1b8198[_0x50d0da(0x201)]]}))[0x0];if(!_0x264507['exists']&&!(0x0,y[_0x50d0da(0x890)])(_0x264507[_0x50d0da(0x67e)])&&!_0x264507[_0x50d0da(0x67e)][_0x50d0da(0x8d2)]('@broadcast'))throw new f(_0x264507);let _0x19e7b5=_0x264507[_0x50d0da(0x67e)];try{return await this[_0x50d0da(0x342)][_0x50d0da(0x44f)](_0x19e7b5),await this[_0x50d0da(0x342)][_0x50d0da(0x613)](_0x1b8198[_0x50d0da(0x66f)],_0x19e7b5),{'status':0xc8,'presence':_0x1b8198['presence']};}catch(_0x28c5df){let _0x132157=_0x50d0da(0x24a),_0xd61ead=_0x28c5df instanceof Error?_0x28c5df['message']:typeof _0x28c5df==_0x50d0da(0x387)?JSON['stringify'](_0x28c5df):_0x28c5df,_0x515e25=_0x132157+':\x20'+_0xd61ead;throw console[_0x50d0da(0x690)]((0x0,g[_0x50d0da(0x5d8)])()[_0x50d0da(0x63e)](_0x50d0da(0x6e1))+':\x20'+this[_0x50d0da(0x2c9)]+'\x20('+this[_0x50d0da(0x82c)][_0x50d0da(0x568)]+'):\x20'+_0x515e25),new f(_0x515e25);}}async[a0_0x42e86b(0x829)](_0x5e1287,_0xda28b3,_0x16a392,_0x990e61=!0x0){const _0x25fdbd=a0_0x42e86b;let _0x31b906=await this[_0x25fdbd(0x400)]['cacheContact'][_0x25fdbd(0x551)]({'where':{'_id':_0x5e1287}});if(!_0x31b906&&!_0x990e61)return;let _0xf44210={'lastUpdate':Date[_0x25fdbd(0x51c)]()};if(_0x16a392||!_0x31b906?.[_0x25fdbd(0x37e)]||Date[_0x25fdbd(0x51c)]()-_0x31b906[_0x25fdbd(0x37e)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2f898b=(await this[_0x25fdbd(0x556)](_0x5e1287))[_0x25fdbd(0x416)];_0xf44210['pictureUrl']=_0x2f898b;}catch(_0x7319f4){let _0x2cd475='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x48cca5=_0x7319f4 instanceof Error?_0x7319f4[_0x25fdbd(0x64b)]:typeof _0x7319f4==_0x25fdbd(0x387)?JSON[_0x25fdbd(0x5b1)](_0x7319f4):_0x7319f4,_0xea5189=_0x2cd475+':\x20'+_0x48cca5;throw console[_0x25fdbd(0x690)]((0x0,g[_0x25fdbd(0x5d8)])()[_0x25fdbd(0x63e)](_0x25fdbd(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x25fdbd(0x82c)]['wuid']+'):\x20'+_0xea5189),new f(_0xea5189);}return _0xda28b3&&_0x31b906?.[_0x25fdbd(0x2ea)]!==_0xda28b3&&(_0xf44210[_0x25fdbd(0x2ea)]=_0xda28b3),Object[_0x25fdbd(0x3b9)](_0xf44210)[_0x25fdbd(0x40e)]>0x1&&(_0x31b906?await this[_0x25fdbd(0x400)][_0x25fdbd(0x7c5)][_0x25fdbd(0x211)]({'where':{'_id':_0x5e1287}},_0xf44210):await this[_0x25fdbd(0x400)]['cacheContact'][_0x25fdbd(0x8dd)]([{'_id':_0x5e1287,..._0xf44210}]),_0x31b906={..._0x31b906,..._0xf44210}),{'cachedContact':_0x31b906};}async['profilePicture'](_0x3ff182){const _0x5c8e5e=a0_0x42e86b;let _0x1bbfb0=this[_0x5c8e5e(0x838)](_0x3ff182);try{return{'wuid':_0x1bbfb0,'profilePictureUrl':await this[_0x5c8e5e(0x342)][_0x5c8e5e(0x416)](_0x1bbfb0,_0x5c8e5e(0x8c6))};}catch{return{'wuid':_0x1bbfb0,'profilePictureUrl':null};}}async[a0_0x42e86b(0x3e7)](_0x5f2df1,_0x4347cd,_0xf08f46){const _0x4694c8=a0_0x42e86b;try{_0xf08f46||(_0xf08f46={});let _0x1a5e32=(await this[_0x4694c8(0x601)]({'numbers':[_0x5f2df1]}))[0x0];if(!_0x1a5e32[_0x4694c8(0x8fd)]&&!(0x0,y[_0x4694c8(0x890)])(_0x1a5e32[_0x4694c8(0x67e)])&&!_0x1a5e32['jid'][_0x4694c8(0x8d2)](_0x4694c8(0x4b2)))throw new f(_0x1a5e32);let _0x4911b8=_0x1a5e32[_0x4694c8(0x67e)];if(_0xf08f46?.[_0x4694c8(0x6af)]){await this['client'][_0x4694c8(0x44f)](_0x4911b8),await this['client'][_0x4694c8(0x613)](_0xf08f46?.[_0x4694c8(0x66f)]??'composing',_0x4911b8);let _0x4a70c3=Math[_0x4694c8(0x804)](_0xf08f46['delay'],0x2710);await(0x0,y['delay'])(_0x4a70c3),await this['client'][_0x4694c8(0x613)](_0x4694c8(0x6a0),_0x4911b8);}let _0x33ed7e=_0xf08f46?.[_0x4694c8(0x22d)]!=!0x1?void 0x0:!0x1,_0x35d7bb;if(_0xf08f46?.[_0x4694c8(0x7a9)]){let _0x496cc1=_0xf08f46?.['quoted'],_0x447e43=_0x496cc1?.[_0x4694c8(0x64b)]?_0x496cc1:await this[_0x4694c8(0x63d)](_0x496cc1[_0x4694c8(0x57a)],!0x0);if(!_0x447e43)throw _0x4694c8(0x573);_0x35d7bb=_0x447e43;}let _0x10188d;if((0x0,y['isJidGroup'])(_0x4911b8))try{let _0x32d2df=(await this[_0x4694c8(0x400)]['chat'][_0x4694c8(0x551)]({'where':{'_id':_0x4911b8}},this[_0x4694c8(0x82c)][_0x4694c8(0x568)]))[_0x4694c8(0x4a5)];if(!_0x32d2df)throw new q(_0x4694c8(0x260));_0xf08f46?.[_0x4694c8(0x72c)]&&(_0xf08f46['mentions']?.[_0x4694c8(0x2cc)]?_0x10188d=_0x32d2df[_0x4694c8(0x614)][_0x4694c8(0x57c)](_0x4ba2dd=>_0x4ba2dd['id']):_0xf08f46['mentions']?.[_0x4694c8(0x31c)]?.[_0x4694c8(0x40e)]&&(_0x10188d=_0xf08f46[_0x4694c8(0x72c)]['mentioned'][_0x4694c8(0x57c)](_0xb67e6d=>{const _0xf06d00=_0x4694c8;let _0x35b2dd=this['createJid'](_0xb67e6d);return(0x0,y[_0xf06d00(0x890)])(_0x35b2dd)?null:_0x35b2dd;})));}catch{throw new q(_0x4694c8(0x260));}let _0x2df292=await this[_0x4694c8(0x400)]['chat'][_0x4694c8(0x551)]({'where':{'_id':_0x4911b8}},this[_0x4694c8(0x82c)][_0x4694c8(0x568)]),_0x1590fe=await((async()=>{const _0x179b9c=_0x4694c8;let _0x48b371={'quoted':_0x35d7bb,'ephemeralExpiration':_0x2df292?.[_0x179b9c(0x203)]??0x0};if(!_0x4347cd['audio']&&!_0x4347cd[_0x179b9c(0x53b)]&&!_0x4347cd[_0x179b9c(0x5ae)]&&!_0x4347cd[_0x179b9c(0x714)]&&_0x4911b8!==_0x179b9c(0x51e)&&!_0x4347cd[_0x179b9c(0x801)])return await this[_0x179b9c(0x342)][_0x179b9c(0x24f)](_0x4911b8,{'forward':{'key':{'remoteJid':this[_0x179b9c(0x82c)][_0x179b9c(0x568)],'fromMe':!0x0},'message':_0x4347cd},'mentions':_0x10188d},_0x48b371);if(_0x4347cd[_0x179b9c(0x77b)])return await this[_0x179b9c(0x342)][_0x179b9c(0x24f)](_0x4911b8,{'react':{'text':_0x4347cd[_0x179b9c(0x77b)]['text'],'key':_0x4347cd['reactionMessage'][_0x179b9c(0x57a)]}},_0x48b371);if(_0x4347cd[_0x179b9c(0x714)]){let _0x5d5c83=_0x4347cd['conversation'];return _0xf08f46?.[_0x179b9c(0x809)]&&(_0x5d5c83=await this[_0x179b9c(0x369)](_0x5d5c83,_0x4911b8)),await this[_0x179b9c(0x342)][_0x179b9c(0x24f)](_0x4911b8,{'text':_0x5d5c83,'mentions':_0x10188d,'linkPreview':_0x33ed7e},_0x48b371);}return _0x4911b8===_0x179b9c(0x51e)?await this[_0x179b9c(0x342)][_0x179b9c(0x24f)](_0x4911b8,_0x4347cd[_0x179b9c(0x454)][_0x179b9c(0x467)],{'backgroundColor':_0x4347cd[_0x179b9c(0x454)][_0x179b9c(0x630)]['backgroundColor'],'font':_0x4347cd[_0x179b9c(0x454)][_0x179b9c(0x630)]['font'],'statusJidList':_0x4347cd[_0x179b9c(0x454)][_0x179b9c(0x630)][_0x179b9c(0x651)]}):await this[_0x179b9c(0x342)][_0x179b9c(0x24f)](_0x4911b8,_0x4347cd,_0x48b371);})()),_0x3cfec7=(0x0,y[_0x4694c8(0x7bb)])(_0x1590fe['message']),_0x3a97c2=(0x0,y['getContentType'])(_0x3cfec7),{message_normalized:_0x4bbe81}=this[_0x4694c8(0x695)](_0x3cfec7,_0x3a97c2,null),_0x22c87c={'_id':_0x1590fe[_0x4694c8(0x57a)]['id'],'key':_0x1590fe[_0x4694c8(0x57a)],'pushName':_0x1590fe[_0x4694c8(0x396)],'isGroup':_0x1590fe['key'][_0x4694c8(0x3a3)][_0x4694c8(0x4de)]('@g.us'),'profilePictureUrl':this[_0x4694c8(0x82c)]['profilePictureUrl'],'message':_0x3cfec7,'messageType':_0x3a97c2,'message_normalized':{'key':_0x1590fe[_0x4694c8(0x57a)],'pushName':_0x1590fe[_0x4694c8(0x396)],'messageTimestamp':_0x1590fe[_0x4694c8(0x6d6)]&&_0x1590fe[_0x4694c8(0x6d6)][_0x4694c8(0x53e)]()['length']<0xd?_0x1590fe[_0x4694c8(0x6d6)]*0x3e8:_0x1590fe['messageTimestamp']||null,'source':(0x0,y[_0x4694c8(0x7ac)])(_0x1590fe[_0x4694c8(0x57a)]['id']),..._0x4bbe81},'messageTimestamp':_0x1590fe[_0x4694c8(0x6d6)]&&_0x1590fe[_0x4694c8(0x6d6)]['toString']()[_0x4694c8(0x40e)]<0xd?_0x1590fe[_0x4694c8(0x6d6)]*0x3e8:_0x1590fe[_0x4694c8(0x6d6)]||null,'owner':this['instance'][_0x4694c8(0x568)],'source':(0x0,y[_0x4694c8(0x7ac)])(_0x1590fe['key']['id'])};return this['logger'][_0x4694c8(0x275)](this['instanceName']+'\x20('+this['instance'][_0x4694c8(0x568)]+_0x4694c8(0x880)+_0x22c87c[_0x4694c8(0x57a)]?.[_0x4694c8(0x3a3)][_0x4694c8(0x600)](_0x4694c8(0x3df),'')+_0x4694c8(0x3c5)+_0x22c87c['messageType']+')'),_0x22c87c[_0x4694c8(0x4ce)]?.['text']&&this[_0x4694c8(0x7a6)]['warn'](_0x22c87c[_0x4694c8(0x4ce)]?.['text']),this[_0x4694c8(0x270)](_0x4694c8(0x7cd),_0x22c87c),J(this['instanceName'],_0x4694c8(0x29a),{'message':_0x22c87c}),this[_0x4694c8(0x71c)](this[_0x4694c8(0x8e3)][_0x4694c8(0x6e5)](_0x4694c8(0x30d)),_0x22c87c,_0x4694c8(0x4eb),_0x2df292),await this['repository']['message'][_0x4694c8(0x8dd)]([_0x22c87c],this[_0x4694c8(0x82c)][_0x4694c8(0x568)]),_0x1590fe;}catch(_0x2461b0){let _0x24afcb='Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message',_0x59a96e=_0x2461b0 instanceof Error?_0x2461b0[_0x4694c8(0x64b)]:typeof _0x2461b0==_0x4694c8(0x387)?JSON[_0x4694c8(0x5b1)](_0x2461b0):_0x2461b0,_0x46b343=_0x24afcb+':\x20'+_0x59a96e;throw console[_0x4694c8(0x690)]((0x0,g[_0x4694c8(0x5d8)])()[_0x4694c8(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x4694c8(0x2c9)]+'\x20('+this[_0x4694c8(0x82c)][_0x4694c8(0x568)]+'):\x20'+_0x46b343),new f(_0x46b343);}}get[a0_0x42e86b(0x6f3)](){const _0x38b72b=a0_0x42e86b;return this[_0x38b72b(0x8e7)];}async[a0_0x42e86b(0x2ab)](_0x57a69e){const _0x5a2aca=a0_0x42e86b;return await this[_0x5a2aca(0x3e7)](_0x57a69e[_0x5a2aca(0x201)],{'conversation':_0x57a69e[_0x5a2aca(0x2ab)]['text']},_0x57a69e?.['options']);}async[a0_0x42e86b(0x6c4)](_0x1c09c3){const _0x3514dc=a0_0x42e86b;if(!_0x1c09c3[_0x3514dc(0x762)])throw new f(_0x3514dc(0x433));if(!_0x1c09c3[_0x3514dc(0x467)])throw new f(_0x3514dc(0x72e));if(_0x1c09c3[_0x3514dc(0x71b)]){let _0x2124b8=await this[_0x3514dc(0x400)][_0x3514dc(0x675)]['find']({'where':{}},this['instance'][_0x3514dc(0x568)]);if(!_0x2124b8[_0x3514dc(0x40e)])throw new f(_0x3514dc(0x5dd));_0x1c09c3['statusJidList']=_0x2124b8['filter'](_0x1ee391=>_0x1ee391[_0x3514dc(0x396)])[_0x3514dc(0x57c)](_0x29ab07=>_0x29ab07[_0x3514dc(0x287)]);}if(!_0x1c09c3[_0x3514dc(0x651)]?.[_0x3514dc(0x40e)]&&!_0x1c09c3['allContacts'])throw new f(_0x3514dc(0x881));if(_0x1c09c3['type']===_0x3514dc(0x411)){if(!_0x1c09c3['backgroundColor'])throw new f(_0x3514dc(0x364));if(!_0x1c09c3[_0x3514dc(0x696)])throw new f(_0x3514dc(0x5df));return{'content':{'text':_0x1c09c3['content']},'option':{'backgroundColor':_0x1c09c3[_0x3514dc(0x24c)],'font':_0x1c09c3['font'],'statusJidList':_0x1c09c3[_0x3514dc(0x651)]}};}if(_0x1c09c3['type']===_0x3514dc(0x8c6))return{'content':{'image':{'url':_0x1c09c3['content']},'caption':_0x1c09c3[_0x3514dc(0x6ac)]},'option':{'statusJidList':_0x1c09c3[_0x3514dc(0x651)]}};if(_0x1c09c3[_0x3514dc(0x762)]===_0x3514dc(0x2d2))return{'content':{'video':{'url':_0x1c09c3[_0x3514dc(0x467)]},'caption':_0x1c09c3[_0x3514dc(0x6ac)]},'option':{'statusJidList':_0x1c09c3[_0x3514dc(0x651)]}};if(_0x1c09c3[_0x3514dc(0x762)]===_0x3514dc(0x801)){this[_0x3514dc(0x7a6)][_0x3514dc(0x3f4)](this[_0x3514dc(0x2c9)]+'\x20('+this['instance'][_0x3514dc(0x568)]+_0x3514dc(0x6bd)),this[_0x3514dc(0x7a6)][_0x3514dc(0x3f4)](this[_0x3514dc(0x2c9)]+'\x20('+this[_0x3514dc(0x82c)][_0x3514dc(0x568)]+_0x3514dc(0x6d4));let _0x173605=await this[_0x3514dc(0x2ca)](_0x1c09c3['content']);if(typeof _0x173605=='string'){this[_0x3514dc(0x7a6)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3514dc(0x568)]+_0x3514dc(0x5af));let _0x3b1d86=j[_0x3514dc(0x4b7)](_0x173605)[_0x3514dc(0x53e)](_0x3514dc(0x50f));return{'content':{'audio':Buffer['from'](_0x3b1d86,'base64'),'ptt':!0x0,'mimetype':_0x3514dc(0x404)},'option':{'statusJidList':_0x1c09c3[_0x3514dc(0x651)]}};}else throw new x(_0x173605);}throw new f('Type\x20not\x20found');}async[a0_0x42e86b(0x740)](_0x48c871){const _0x57e4b8=a0_0x42e86b;return await this['sendMessageWithTyping'](_0x57e4b8(0x51e),{'status':await this[_0x57e4b8(0x6c4)](_0x48c871[_0x57e4b8(0x740)])});}async['prepareMediaMessage'](_0x4a1ca0){const _0x46efab=a0_0x42e86b;try{let _0x2249e4=await(0x0,y['prepareWAMessageMedia'])({[_0x4a1ca0[_0x46efab(0x581)]]:(0x0,k[_0x46efab(0x3ce)])(_0x4a1ca0[_0x46efab(0x229)])?{'url':_0x4a1ca0[_0x46efab(0x229)]}:Buffer['from'](_0x4a1ca0[_0x46efab(0x229)],'base64')},{'upload':this[_0x46efab(0x342)]['waUploadToServer']}),_0x2df28d=_0x4a1ca0[_0x46efab(0x581)]+_0x46efab(0x4da);if(_0x4a1ca0[_0x46efab(0x581)]===_0x46efab(0x74a)&&!_0x4a1ca0[_0x46efab(0x3a7)]){let _0x44e624=new RegExp(/.*\/(.+?)\./)[_0x46efab(0x4f6)](_0x4a1ca0[_0x46efab(0x229)]);_0x4a1ca0['fileName']=_0x44e624?_0x44e624[0x1]:null;}let _0x457f32=(0x0,k[_0x46efab(0x3ce)])(_0x4a1ca0[_0x46efab(0x229)])?_0x4a1ca0[_0x46efab(0x229)][_0x46efab(0x8a3)]('?')[0x0]:_0x4a1ca0['media'],_0x2feda9;return(0x0,k[_0x46efab(0x3ce)])(_0x4a1ca0[_0x46efab(0x229)])?_0x2feda9=(0x0,kt[_0x46efab(0x643)])(_0x457f32):_0x4a1ca0[_0x46efab(0x3a7)]&&_0x4a1ca0[_0x46efab(0x3a7)][_0x46efab(0x8d2)]('.')?_0x2feda9=(0x0,kt['getMIMEType'])(_0x4a1ca0[_0x46efab(0x3a7)]):_0x2feda9=(0x0,kt['getMIMEType'])(_0x4a1ca0[_0x46efab(0x229)]),_0x2249e4[_0x2df28d][_0x46efab(0x6ac)]=_0x4a1ca0?.[_0x46efab(0x6ac)],_0x2249e4[_0x2df28d][_0x46efab(0x3f3)]=_0x2feda9,_0x2249e4[_0x2df28d][_0x46efab(0x3a7)]=_0x4a1ca0[_0x46efab(0x3a7)],_0x4a1ca0['mediatype']===_0x46efab(0x2d2)&&(_0x2249e4[_0x2df28d]['jpegThumbnail']=Uint8Array[_0x46efab(0x7c1)]((0x0,Ie[_0x46efab(0x4b7)])((0x0,U[_0x46efab(0x468)])(process[_0x46efab(0x69a)](),'video-cover.png'))),_0x2249e4[_0x2df28d][_0x46efab(0x7e1)]=!0x1),(0x0,y[_0x46efab(0x27f)])('',{[_0x2df28d]:{..._0x2249e4[_0x2df28d]}},{'userJid':this['instance']['wuid']});}catch(_0x1952a8){let _0xa64554=_0x46efab(0x449),_0x19ea75=_0x1952a8 instanceof Error?_0x1952a8[_0x46efab(0x64b)]:typeof _0x1952a8==_0x46efab(0x387)?JSON['stringify'](_0x1952a8):_0x1952a8,_0x5c85c7=_0xa64554+':\x20'+_0x19ea75;throw console['error']((0x0,g[_0x46efab(0x5d8)])()[_0x46efab(0x63e)](_0x46efab(0x6e1))+':\x20'+this[_0x46efab(0x2c9)]+'\x20('+this[_0x46efab(0x82c)]['wuid']+_0x46efab(0x840)+_0x5c85c7),new x(_0x5c85c7);}}async[a0_0x42e86b(0x41b)](_0x425c5a){const _0x295a90=a0_0x42e86b;let _0x5f0616=await this['prepareMediaMessage'](_0x425c5a[_0x295a90(0x41b)]);return await this[_0x295a90(0x3e7)](_0x425c5a[_0x295a90(0x201)],{..._0x5f0616[_0x295a90(0x64b)]},_0x425c5a?.[_0x295a90(0x3af)]);}async[a0_0x42e86b(0x393)](_0x1f540e,_0x3955d0){const _0x1cdcf1=a0_0x42e86b;try{this[_0x1cdcf1(0x7a6)]['verbose'](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)]['wuid']+_0x1cdcf1(0x408));let _0x5bf132,_0x39c606=_0x3955d0+'-'+new Date()[_0x1cdcf1(0x5b9)]();this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1cdcf1(0x82c)]['wuid']+'):Hash\x20to\x20image\x20name:\x20'+_0x39c606);let _0x292f17=''+(0x0,U[_0x1cdcf1(0x468)])(this[_0x1cdcf1(0x857)],_0x39c606+_0x1cdcf1(0x498));if(this[_0x1cdcf1(0x7a6)][_0x1cdcf1(0x3f4)](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)]['wuid']+'):Output\x20path:\x20'+_0x292f17),(0x0,k[_0x1cdcf1(0x6b6)])(_0x1f540e)){this[_0x1cdcf1(0x7a6)][_0x1cdcf1(0x3f4)](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+'):Image\x20is\x20base64');let _0x3b852c=_0x1f540e[_0x1cdcf1(0x600)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5abaaa=Buffer[_0x1cdcf1(0x7c1)](_0x3b852c,_0x1cdcf1(0x50f));_0x5bf132=''+(0x0,U['join'])(this['storePath'],'temp-'+_0x39c606+'.png'),this[_0x1cdcf1(0x7a6)]['verbose'](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+_0x1cdcf1(0x553)+_0x5bf132),await(0x0,jt[_0x1cdcf1(0x5d8)])(_0x5abaaa)[_0x1cdcf1(0x7ba)](_0x5bf132),this[_0x1cdcf1(0x7a6)][_0x1cdcf1(0x3f4)](this[_0x1cdcf1(0x2c9)]+'\x20('+this['instance']['wuid']+_0x1cdcf1(0x903));}else{this[_0x1cdcf1(0x7a6)][_0x1cdcf1(0x3f4)](this['instanceName']+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+'):Image\x20is\x20url');let _0x5c1944=new Date()[_0x1cdcf1(0x5b9)](),_0x254d39=_0x1f540e+'?timestamp='+_0x5c1944;this[_0x1cdcf1(0x7a6)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1cdcf1(0x568)]+_0x1cdcf1(0x38e)+_0x254d39);let _0x2de1a9=await Q[_0x1cdcf1(0x5d8)][_0x1cdcf1(0x6e5)](_0x254d39,{'responseType':_0x1cdcf1(0x612)});this[_0x1cdcf1(0x7a6)][_0x1cdcf1(0x3f4)](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+_0x1cdcf1(0x854));let _0x3cbfe5=Buffer[_0x1cdcf1(0x7c1)](_0x2de1a9[_0x1cdcf1(0x47f)],_0x1cdcf1(0x897));_0x5bf132=''+(0x0,U['join'])(this[_0x1cdcf1(0x857)],_0x1cdcf1(0x6e3)+_0x39c606+_0x1cdcf1(0x50b)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+'):Image\x20path:\x20'+_0x5bf132),await(0x0,jt[_0x1cdcf1(0x5d8)])(_0x3cbfe5)[_0x1cdcf1(0x7ba)](_0x5bf132),this[_0x1cdcf1(0x7a6)]['verbose'](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+'):Image\x20created');}return await(0x0,jt[_0x1cdcf1(0x5d8)])(_0x5bf132)[_0x1cdcf1(0x25c)]()['toFile'](_0x292f17),this[_0x1cdcf1(0x7a6)]['verbose'](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)]['wuid']+_0x1cdcf1(0x80b)),j[_0x1cdcf1(0x426)](_0x5bf132),this[_0x1cdcf1(0x7a6)][_0x1cdcf1(0x3f4)](this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+_0x1cdcf1(0x742)),_0x292f17;}catch(_0x25c9a8){let _0x54c2c8=_0x1cdcf1(0x202),_0x1cfd40=_0x25c9a8 instanceof Error?_0x25c9a8[_0x1cdcf1(0x64b)]:typeof _0x25c9a8==_0x1cdcf1(0x387)?JSON['stringify'](_0x25c9a8):_0x25c9a8,_0x458845=_0x54c2c8+':\x20'+_0x1cfd40;console[_0x1cdcf1(0x690)]((0x0,g['default'])()['format'](_0x1cdcf1(0x6e1))+':\x20'+this[_0x1cdcf1(0x2c9)]+'\x20('+this[_0x1cdcf1(0x82c)][_0x1cdcf1(0x568)]+_0x1cdcf1(0x840)+_0x458845);}}async[a0_0x42e86b(0x873)](_0x768a2a){const _0x4504ef=a0_0x42e86b;let _0x2dc3e7=await this['convertToWebP'](_0x768a2a['stickerMessage'][_0x4504ef(0x8c6)],_0x768a2a[_0x4504ef(0x201)]),_0x249be5=await this[_0x4504ef(0x3e7)](_0x768a2a['number'],{'sticker':{'url':_0x2dc3e7}},_0x768a2a?.[_0x4504ef(0x3af)]);return j[_0x4504ef(0x426)](_0x2dc3e7),this['logger']['verbose'](this[_0x4504ef(0x2c9)]+'\x20('+this[_0x4504ef(0x82c)][_0x4504ef(0x568)]+_0x4504ef(0x225)),_0x249be5;}async[a0_0x42e86b(0x7ca)](_0x3d509d){const _0xe45bea=a0_0x42e86b;if(this[_0xe45bea(0x7a6)][_0xe45bea(0x3f4)](this[_0xe45bea(0x2c9)]+'\x20('+this[_0xe45bea(0x82c)]['wuid']+_0xe45bea(0x41e)),!_0x3d509d['options']?.[_0xe45bea(0x861)]&&_0x3d509d[_0xe45bea(0x3af)]?.[_0xe45bea(0x861)]!==!0x1&&(_0x3d509d[_0xe45bea(0x3af)][_0xe45bea(0x861)]=!0x0),_0x3d509d[_0xe45bea(0x3af)]?.[_0xe45bea(0x861)]){let _0x554370=await this[_0xe45bea(0x2ca)](_0x3d509d['audioMessage'][_0xe45bea(0x801)]);if(typeof _0x554370==_0xe45bea(0x909)){let _0x1ed14e=j[_0xe45bea(0x4b7)](_0x554370)[_0xe45bea(0x53e)]('base64');return this[_0xe45bea(0x3e7)](_0x3d509d[_0xe45bea(0x201)],{'audio':Buffer[_0xe45bea(0x7c1)](_0x1ed14e,'base64'),'ptt':!0x0,'mimetype':_0xe45bea(0x504)},{'presence':'recording','delay':_0x3d509d?.[_0xe45bea(0x3af)]?.[_0xe45bea(0x6af)]});}else throw new x(_0x554370);}return await this[_0xe45bea(0x3e7)](_0x3d509d[_0xe45bea(0x201)],{'audio':(0x0,k[_0xe45bea(0x3ce)])(_0x3d509d['audioMessage'][_0xe45bea(0x801)])?{'url':_0x3d509d[_0xe45bea(0x78b)][_0xe45bea(0x801)]}:Buffer[_0xe45bea(0x7c1)](_0x3d509d[_0xe45bea(0x78b)][_0xe45bea(0x801)],_0xe45bea(0x50f)),'ptt':!0x0,'mimetype':_0xe45bea(0x504)},{'presence':'recording','delay':_0x3d509d?.[_0xe45bea(0x3af)]?.[_0xe45bea(0x6af)]});}async['convertaudio'](_0x1c408b){const _0xbd7e61=a0_0x42e86b;this[_0xbd7e61(0x7a6)][_0xbd7e61(0x3f4)](this['instanceName']+'\x20('+this['instance'][_0xbd7e61(0x568)]+_0xbd7e61(0x6d4));let _0x1a6e9a=(0x0,k[_0xbd7e61(0x3ce)])(_0x1c408b)?(0x0,Lt['createHash'])(_0xbd7e61(0x8f6))[_0xbd7e61(0x211)](_0x1c408b)['digest'](_0xbd7e61(0x80a)):(0x0,Lt[_0xbd7e61(0x4c6)])(_0xbd7e61(0x8f6))['update'](_0x1c408b)[_0xbd7e61(0x8ef)](_0xbd7e61(0x80a)),_0xda158d=''+(0x0,U[_0xbd7e61(0x468)])(this[_0xbd7e61(0x857)],_0x1a6e9a+_0xbd7e61(0x3b6));if(j[_0xbd7e61(0x739)](_0xda158d))return this[_0xbd7e61(0x7a6)][_0xbd7e61(0x3f4)](this[_0xbd7e61(0x2c9)]+'\x20('+this[_0xbd7e61(0x82c)]['wuid']+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0xda158d;let _0x37a5e5=''+(0x0,U[_0xbd7e61(0x468)])(this[_0xbd7e61(0x857)],_0xbd7e61(0x6e3)+(0x0,he['v4'])()+'.mp3');if((0x0,k['isURL'])(_0x1c408b)){let _0x3b1eea=new Date()['getTime'](),_0x27e1ef=_0x1c408b+_0xbd7e61(0x48d)+_0x3b1eea,_0x153c67=await Q['default'][_0xbd7e61(0x6e5)](_0x27e1ef,{'responseType':_0xbd7e61(0x612)});j['writeFileSync'](_0x37a5e5,_0x153c67['data']);}else{let _0x1d7bb4=Buffer[_0xbd7e61(0x7c1)](_0x1c408b,'base64');j[_0xbd7e61(0x515)](_0x37a5e5,_0x1d7bb4);}return new Promise((_0x1d38ea,_0x1556f1)=>{const _0x300191=_0xbd7e61;(0x0,_e[_0x300191(0x4f6)])(Ts[_0x300191(0x5d8)][_0x300191(0x800)]+'\x20-i\x20'+_0x37a5e5+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0xda158d+_0x300191(0x6c6),_0x4f9c02=>{const _0x2691f1=_0x300191;if(j[_0x2691f1(0x426)](_0x37a5e5),_0x4f9c02){this[_0x2691f1(0x7a6)][_0x2691f1(0x3f4)](this[_0x2691f1(0x2c9)]+'\x20('+this[_0x2691f1(0x82c)][_0x2691f1(0x568)]+_0x2691f1(0x8ce)),_0x1556f1(_0x4f9c02);return;}this[_0x2691f1(0x7a6)]['verbose'](this[_0x2691f1(0x2c9)]+'\x20('+this['instance'][_0x2691f1(0x568)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x1d38ea(_0xda158d);});});}async[a0_0x42e86b(0x5f1)](_0x2ff7f8){const _0xb937b2=a0_0x42e86b;this[_0xb937b2(0x7a6)][_0xb937b2(0x3f4)](this[_0xb937b2(0x2c9)]+'\x20('+this[_0xb937b2(0x82c)]['wuid']+_0xb937b2(0x6d4));let _0x24b334=(0x0,Lt['createHash'])(_0xb937b2(0x8f6))[_0xb937b2(0x211)](_0x2ff7f8)[_0xb937b2(0x8ef)](_0xb937b2(0x80a)),_0x3a57c0=''+(0x0,U['join'])(this[_0xb937b2(0x857)],_0x24b334+_0xb937b2(0x2fd));if(j[_0xb937b2(0x739)](_0x3a57c0))return this[_0xb937b2(0x7a6)][_0xb937b2(0x3f4)](this[_0xb937b2(0x2c9)]+'\x20('+this[_0xb937b2(0x82c)][_0xb937b2(0x568)]+_0xb937b2(0x7c9)),U[_0xb937b2(0x5d8)][_0xb937b2(0x67c)](_0x3a57c0);let _0xdb0e98=''+(0x0,U[_0xb937b2(0x468)])(this['storePath'],_0xb937b2(0x6e3)+_0x24b334+_0xb937b2(0x3b6));if((0x0,k[_0xb937b2(0x3ce)])(_0x2ff7f8)){let _0x1f3ee9=new Date()[_0xb937b2(0x5b9)](),_0x40d2c3=_0x2ff7f8+'?timestamp='+_0x1f3ee9,_0x217739=await Q[_0xb937b2(0x5d8)][_0xb937b2(0x6e5)](_0x40d2c3,{'responseType':'arraybuffer'});j[_0xb937b2(0x515)](_0xdb0e98,_0x217739[_0xb937b2(0x47f)]);}else{let _0x170fff=Buffer[_0xb937b2(0x7c1)](_0x2ff7f8,_0xb937b2(0x50f));j[_0xb937b2(0x515)](_0xdb0e98,_0x170fff);}return new Promise((_0x4b1d36,_0x40c277)=>{const _0x17895f=_0xb937b2;(0x0,_e[_0x17895f(0x4f6)])(Ts['default'][_0x17895f(0x800)]+_0x17895f(0x5b6)+_0xdb0e98+_0x17895f(0x83f)+_0x3a57c0+_0x17895f(0x6c6),_0x3e6027=>{const _0x4d3d83=_0x17895f;if(j[_0x4d3d83(0x426)](_0xdb0e98),_0x3e6027){this[_0x4d3d83(0x7a6)][_0x4d3d83(0x3f4)](this[_0x4d3d83(0x2c9)]+'\x20('+this[_0x4d3d83(0x82c)]['wuid']+_0x4d3d83(0x8ce)),_0x40c277(_0x3e6027);return;}this[_0x4d3d83(0x7a6)]['verbose'](this['instanceName']+'\x20('+this[_0x4d3d83(0x82c)][_0x4d3d83(0x568)]+_0x4d3d83(0x76b)),_0x4b1d36(U[_0x4d3d83(0x5d8)][_0x4d3d83(0x67c)](_0x3a57c0));});});}async[a0_0x42e86b(0x410)](_0x2cded7){const _0x866489=a0_0x42e86b;let _0x3eb512={},_0x52d0b6=_0x866489(0x1ff);if(_0x2cded7[_0x866489(0x410)]?.[_0x866489(0x41b)]){_0x52d0b6=_0x2cded7[_0x866489(0x410)][_0x866489(0x41b)]?.['mediatype'][_0x866489(0x70d)]()??_0x866489(0x1ff),_0x3eb512[_0x866489(0x3b5)]=_0x52d0b6[_0x866489(0x8e2)]()+_0x866489(0x4da);let _0x519a11=await this[_0x866489(0x266)](_0x2cded7[_0x866489(0x410)][_0x866489(0x41b)]);_0x3eb512['message']=_0x519a11[_0x866489(0x64b)][_0x3eb512['mediaKey']],_0x3eb512['contentText']='*'+_0x2cded7[_0x866489(0x410)][_0x866489(0x8a6)]+'*\x0a\x0a'+_0x2cded7[_0x866489(0x410)][_0x866489(0x283)];}let _0x582593={'text':_0x2cded7[_0x866489(0x410)][_0x866489(0x747)]['map'](_0x3ba277=>_0x3ba277[_0x866489(0x2c1)]),'ids':_0x2cded7[_0x866489(0x410)][_0x866489(0x747)]['map'](_0x1e33f9=>_0x1e33f9[_0x866489(0x3e3)])};if(!(0x0,k[_0x866489(0x7f3)])(_0x582593[_0x866489(0x411)])||!(0x0,k[_0x866489(0x7f3)])(_0x582593['ids']))throw new f('Button\x20texts\x20cannot\x20be\x20repeated',_0x866489(0x4bd));return await this[_0x866489(0x3e7)](_0x2cded7[_0x866489(0x201)],{'buttonsMessage':{'text':_0x3eb512?.[_0x866489(0x3b5)]?void 0x0:_0x2cded7[_0x866489(0x410)][_0x866489(0x8a6)],'contentText':_0x3eb512?.['contentText']??_0x2cded7[_0x866489(0x410)][_0x866489(0x283)],'footerText':_0x2cded7['buttonMessage']?.[_0x866489(0x8be)],'buttons':_0x2cded7['buttonMessage'][_0x866489(0x747)]['map'](_0xf984c1=>({'buttonText':{'displayText':_0xf984c1['buttonText']},'buttonId':_0xf984c1['buttonId'],'type':0x1})),'headerType':y[_0x866489(0x39d)][_0x866489(0x4da)][_0x866489(0x765)][_0x866489(0x8ab)][_0x52d0b6],[_0x3eb512?.[_0x866489(0x3b5)]]:_0x3eb512?.['message']}},_0x2cded7?.[_0x866489(0x3af)]);}async[a0_0x42e86b(0x3cc)](_0x3e0536){const _0x135d62=a0_0x42e86b;return await this[_0x135d62(0x3e7)](_0x3e0536[_0x135d62(0x201)],{'locationMessage':{'degreesLatitude':_0x3e0536[_0x135d62(0x3cc)]['latitude'],'degreesLongitude':_0x3e0536['locationMessage'][_0x135d62(0x709)],'name':_0x3e0536[_0x135d62(0x3cc)]?.[_0x135d62(0x2ea)],'address':_0x3e0536['locationMessage']?.[_0x135d62(0x822)]}},_0x3e0536?.[_0x135d62(0x3af)]);}async[a0_0x42e86b(0x5dc)](_0x5548f5){const _0x172898=a0_0x42e86b;let _0x302a7a={},_0x312886=async _0x32901e=>{const _0x3464df=a0_0x3fb2;let _0xbd38f='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x32901e['fullName']+_0x3464df(0x3f9)+_0x32901e[_0x3464df(0x8f1)]+'\x0a';_0x32901e['organization']&&(_0xbd38f+='ORG:'+_0x32901e[_0x3464df(0x4d7)]+';\x0a'),_0x32901e['email']&&(_0xbd38f+='EMAIL:'+_0x32901e[_0x3464df(0x5ee)]+'\x0a'),_0x32901e[_0x3464df(0x42b)]&&(_0xbd38f+=_0x3464df(0x469)+_0x32901e[_0x3464df(0x42b)]+'\x0a');let _0x173686='',_0x4e5284=0x1;if(_0x32901e['phoneNumber']){let _0x24380b=_0x32901e[_0x3464df(0x31a)][_0x3464df(0x8a3)]('|');for(let _0x1e12ed of _0x24380b){let _0x274b03=await this[_0x3464df(0x601)]({'numbers':[_0x1e12ed]}),_0x602f9a=(_0x274b03['length']>0x0?_0x274b03[0x0]['jid']:this[_0x3464df(0x838)](_0x1e12ed))[_0x3464df(0x600)](_0x3464df(0x3df),'');_0x173686+=_0x3464df(0x8b5)+_0x4e5284+_0x3464df(0x48f)+_0x602f9a+':'+_0x1e12ed+_0x3464df(0x8ea)+_0x4e5284+_0x3464df(0x5bc),_0x4e5284++;}}return _0xbd38f+=_0x173686+'END:VCARD',_0xbd38f;};return _0x5548f5[_0x172898(0x5dc)][_0x172898(0x40e)]===0x1?_0x302a7a[_0x172898(0x5dc)]={'displayName':_0x5548f5[_0x172898(0x5dc)][0x0][_0x172898(0x8f1)],'vcard':await _0x312886(_0x5548f5[_0x172898(0x5dc)][0x0])}:_0x302a7a[_0x172898(0x2b6)]={'displayName':_0x5548f5[_0x172898(0x5dc)][_0x172898(0x40e)]+_0x172898(0x626),'contacts':await Promise['all'](_0x5548f5['contactMessage']['map'](async _0x9fdfc4=>({'displayName':_0x9fdfc4['fullName'],'vcard':await _0x312886(_0x9fdfc4)})))},await this[_0x172898(0x3e7)](_0x5548f5[_0x172898(0x201)],{..._0x302a7a},_0x5548f5?.['options']);}async[a0_0x42e86b(0x77b)](_0x3b5068){const _0xca9c88=a0_0x42e86b;return await this[_0xca9c88(0x3e7)](_0x3b5068[_0xca9c88(0x77b)][_0xca9c88(0x57a)][_0xca9c88(0x3a3)],{'reactionMessage':{'key':_0x3b5068['reactionMessage'][_0xca9c88(0x57a)],'text':_0x3b5068[_0xca9c88(0x77b)][_0xca9c88(0x835)]}});}async[a0_0x42e86b(0x601)](_0x435d68){const _0xa8d1cc=a0_0x42e86b;let _0x1332b6=[];for await(let _0x3454d6 of _0x435d68['numbers']){let _0x3d6d96=this[_0xa8d1cc(0x838)](_0x3454d6),_0x357f39=!0x1;try{if((0x0,y[_0xa8d1cc(0x890)])(_0x3d6d96)){let _0x45110f=(await this[_0xa8d1cc(0x400)]['chat'][_0xa8d1cc(0x551)]({'where':{'_id':_0x3d6d96}},this[_0xa8d1cc(0x82c)]['wuid']))[_0xa8d1cc(0x4a5)];_0x45110f?(_0x357f39=!0x0,_0x1332b6['push'](new ne(_0x45110f['id'],_0x357f39,_0x45110f?.[_0xa8d1cc(0x7eb)]))):(_0x45110f=await this[_0xa8d1cc(0x33f)]({'groupJid':_0x3d6d96},'inner'),_0x1332b6[_0xa8d1cc(0x234)](new ne(_0x45110f['id'],!!_0x45110f?.['id'],_0x45110f?.[_0xa8d1cc(0x7eb)])));}else{if(_0x3d6d96['includes'](_0xa8d1cc(0x4b2)))_0x1332b6['push'](new ne(_0x3d6d96,!0x0));else{let _0x77f174=(await this['client'][_0xa8d1cc(0x38c)](_0x3d6d96))[0x0];_0x1332b6[_0xa8d1cc(0x234)](new ne(_0x77f174[_0xa8d1cc(0x67e)],_0x77f174[_0xa8d1cc(0x8fd)]));}}}catch{(0x0,y['isJidGroup'])(_0x3d6d96)||await this[_0xa8d1cc(0x54d)](_0x3d6d96,_0x357f39),_0x1332b6[_0xa8d1cc(0x234)](new ne(_0x3454d6,!0x1));}}return _0x1332b6;}async[a0_0x42e86b(0x54d)](_0x28c481,_0x1029da){const _0x4e2e70=a0_0x42e86b;try{await this['repository'][_0x4e2e70(0x21e)]['findOne']({'where':{'_id':_0x28c481,'imported':!0x0}},this['instance'][_0x4e2e70(0x568)])&&(_0x1029da||(await this['repository']['chat'][_0x4e2e70(0x500)](_0x28c481,this[_0x4e2e70(0x82c)]['wuid']),this[_0x4e2e70(0x7a6)][_0x4e2e70(0x2d4)](_0x4e2e70(0x372)+_0x28c481+_0x4e2e70(0x34b))));}catch(_0x1bca74){let _0x1a0180='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x58b07c=_0x1bca74 instanceof Error?_0x1bca74[_0x4e2e70(0x64b)]:typeof _0x1bca74=='object'?JSON[_0x4e2e70(0x5b1)](_0x1bca74):_0x1bca74,_0x2bfba6=_0x1a0180+':\x20'+_0x58b07c;console['error']((0x0,g['default'])()[_0x4e2e70(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x4e2e70(0x2c9)]+'\x20('+this[_0x4e2e70(0x82c)]['wuid']+'):\x20'+_0x2bfba6);}}async['markMessageAsRead'](_0x3045f7){const _0x441364=a0_0x42e86b;try{let _0x253dae=_0x3045f7['readMessages'][_0x441364(0x496)](_0x53e1d8=>(0x0,y['isJidGroup'])(_0x53e1d8[_0x441364(0x3a3)])||(0x0,y[_0x441364(0x303)])(_0x53e1d8[_0x441364(0x3a3)]))[_0x441364(0x57c)](_0x345047=>({'remoteJid':_0x345047['remoteJid'],'fromMe':_0x345047[_0x441364(0x274)],'id':_0x345047['id']}));await this[_0x441364(0x342)][_0x441364(0x830)](_0x253dae);let _0x11aa77=_0x253dae[_0x441364(0x57c)](_0x4534d8=>this[_0x441364(0x2e3)](_0x4534d8,{'status':'READ','owner':this['instance']['wuid']})),_0x457eab=_0x253dae[_0x441364(0x57c)](_0x4a5f6d=>this[_0x441364(0x400)]['chat'][_0x441364(0x5a3)]({'where':{'_id':_0x4a5f6d['remoteJid']}},{'unreadcount':0x0},this[_0x441364(0x82c)][_0x441364(0x568)])),[_0x2c1979,_0xc2d2ac]=await Promise[_0x441364(0x320)]([Promise[_0x441364(0x320)](_0x11aa77),Promise[_0x441364(0x320)](_0x457eab)]);return _0xc2d2ac[_0x441364(0x496)](_0x55f8ff=>_0x55f8ff!==null)[_0x441364(0x4ac)](_0x23ba06=>{const _0x4f4706=_0x441364;J(this['instanceName'],_0x4f4706(0x3b7),{'chat':_0x23ba06});}),{'message':_0x441364(0x721),'read':_0x441364(0x617)};}catch(_0x17b360){let _0x72639f='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x510019=_0x17b360 instanceof Error?_0x17b360[_0x441364(0x64b)]:typeof _0x17b360==_0x441364(0x387)?JSON[_0x441364(0x5b1)](_0x17b360):_0x17b360,_0x325b5b=_0x72639f+':\x20'+_0x510019;throw console['error']((0x0,g[_0x441364(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x441364(0x2c9)]+'\x20('+this[_0x441364(0x82c)][_0x441364(0x568)]+_0x441364(0x840)+_0x325b5b),new x(_0x325b5b);}}async[a0_0x42e86b(0x333)](_0x2a242e){const _0xff65b2=a0_0x42e86b;let _0x45800f={'where':{'key':{'remoteJid':_0x2a242e}},'limit':0x1},_0x23d338=await this[_0xff65b2(0x79f)](_0x45800f);return _0x23d338||(console[_0xff65b2(0x690)](_0xff65b2(0x30e),_0x2a242e),null);}async[a0_0x42e86b(0x6bb)](_0x38dd54){const _0x49b471=a0_0x42e86b;this[_0x49b471(0x7a6)][_0x49b471(0x3f4)](this[_0x49b471(0x2c9)]+'\x20('+this[_0x49b471(0x82c)][_0x49b471(0x568)]+_0x49b471(0x7fa));try{let _0x14cc78=_0x38dd54[_0x49b471(0x755)],_0x2f0b75=_0x38dd54[_0x49b471(0x21e)];if(!_0x14cc78&&_0x2f0b75?_0x14cc78=await this['getLastMessage'](_0x2f0b75):(_0x14cc78=_0x38dd54[_0x49b471(0x755)],_0x14cc78[_0x49b471(0x6d6)]=_0x14cc78?.['messageTimestamp']??Date['now'](),_0x2f0b75=_0x14cc78?.[_0x49b471(0x57a)]?.[_0x49b471(0x3a3)]),!_0x14cc78||Object['keys'](_0x14cc78)[_0x49b471(0x40e)]===0x0)throw new q(_0x49b471(0x385));this[_0x49b471(0x7a6)][_0x49b471(0x3f4)](this['instanceName']+'\x20('+this[_0x49b471(0x82c)][_0x49b471(0x568)]+_0x49b471(0x42e)+_0x2f0b75);try{await this[_0x49b471(0x342)][_0x49b471(0x516)]({'archive':_0x38dd54[_0x49b471(0x65e)],'lastMessages':[_0x14cc78]},this['createJid'](_0x2f0b75));}catch(_0x5ade06){let _0x533d90=_0x49b471(0x8ae)+_0x2f0b75,_0x29db7f=_0x5ade06 instanceof Error?_0x5ade06[_0x49b471(0x64b)]:typeof _0x5ade06==_0x49b471(0x387)?JSON[_0x49b471(0x5b1)](_0x5ade06):_0x5ade06,_0x1a9185=_0x533d90+':\x20'+_0x29db7f;console[_0x49b471(0x690)]((0x0,g[_0x49b471(0x5d8)])()[_0x49b471(0x63e)](_0x49b471(0x6e1))+':\x20'+this[_0x49b471(0x2c9)]+'\x20('+this['instance'][_0x49b471(0x568)]+_0x49b471(0x840)+_0x1a9185);}this[_0x49b471(0x7a6)]['verbose'](this['instanceName']+'\x20('+this[_0x49b471(0x82c)][_0x49b471(0x568)]+_0x49b471(0x7b7)+_0x2f0b75);let _0x4fae2c=await this[_0x49b471(0x400)][_0x49b471(0x21e)][_0x49b471(0x5a3)]({'where':{'_id':_0x14cc78?.[_0x49b471(0x57a)]?.[_0x49b471(0x3a3)]}},{'archived':_0x38dd54[_0x49b471(0x65e)]},this[_0x49b471(0x82c)]['wuid']);return _0x4fae2c?(this[_0x49b471(0x7a6)][_0x49b471(0x3f4)](this[_0x49b471(0x2c9)]+'\x20('+this[_0x49b471(0x82c)]['wuid']+_0x49b471(0x33a)+JSON[_0x49b471(0x5b1)](_0x4fae2c)),J(this[_0x49b471(0x2c9)],_0x49b471(0x3b7),{'chat':_0x4fae2c})):console[_0x49b471(0x690)]((0x0,g['default'])()[_0x49b471(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x49b471(0x2c9)]+'\x20('+this[_0x49b471(0x82c)]['wuid']+_0x49b471(0x346)+_0x2f0b75),{'chatId':_0x2f0b75,'archived':_0x38dd54[_0x49b471(0x65e)]};}catch(_0x5111bc){let _0x5d03ea='Erro\x20ao\x20arquivar\x20chat',_0x49409f=_0x5111bc instanceof Error?_0x5111bc[_0x49b471(0x64b)]:typeof _0x5111bc==_0x49b471(0x387)?JSON['stringify'](_0x5111bc):_0x5111bc,_0x535548=_0x5d03ea+':\x20'+_0x49409f;throw console[_0x49b471(0x690)]((0x0,g[_0x49b471(0x5d8)])()['format'](_0x49b471(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x49b471(0x82c)][_0x49b471(0x568)]+_0x49b471(0x840)+_0x535548),new x(_0x535548);}}async[a0_0x42e86b(0x500)](_0xd599a5){const _0x5697a2=a0_0x42e86b;this[_0x5697a2(0x7a6)][_0x5697a2(0x3f4)](this[_0x5697a2(0x2c9)]+'\x20('+this[_0x5697a2(0x82c)]['wuid']+_0x5697a2(0x6c2));try{let _0x2c0fab=await this['getLastMessage'](_0xd599a5);if(!_0x2c0fab||Object[_0x5697a2(0x3b9)](_0x2c0fab)['length']===0x0)throw new q(_0x5697a2(0x385));let _0x47d5d7=_0x2c0fab[0x0];this[_0x5697a2(0x7a6)][_0x5697a2(0x3f4)](this[_0x5697a2(0x2c9)]+'\x20('+this[_0x5697a2(0x82c)][_0x5697a2(0x568)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0xd599a5);try{await this[_0x5697a2(0x342)][_0x5697a2(0x516)]({'delete':!0x0,'lastMessages':[{'key':_0x47d5d7['key'],'messageTimestamp':_0x47d5d7[_0x5697a2(0x6d6)]}]},this[_0x5697a2(0x838)](_0xd599a5));}catch(_0x4a6fea){console['error'](_0x5697a2(0x8ae)+_0xd599a5+':\x20'+_0x4a6fea[_0x5697a2(0x53e)]());}this[_0x5697a2(0x7a6)][_0x5697a2(0x3f4)](this[_0x5697a2(0x2c9)]+'\x20('+this[_0x5697a2(0x82c)][_0x5697a2(0x568)]+_0x5697a2(0x7b7)+_0xd599a5);return;}catch(_0x27b552){throw console[_0x5697a2(0x690)]((0x0,g[_0x5697a2(0x5d8)])()['format'](_0x5697a2(0x6e1))+':\x20'+this[_0x5697a2(0x2c9)]+'\x20('+this[_0x5697a2(0x82c)]['wuid']+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x27b552['toString']()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x27b552[_0x5697a2(0x53e)]()]});}}async[a0_0x42e86b(0x2a6)](_0x1858ab){const _0x47f4e7=a0_0x42e86b;try{let _0x4b0339=await this['client']['sendMessage'](_0x1858ab[_0x47f4e7(0x3a3)],{'delete':_0x1858ab});try{let _0x2d0a68=await this['updateMessage'](_0x1858ab,{'status':_0x47f4e7(0x535),'owner':this[_0x47f4e7(0x82c)]['wuid']});this['logger']['verbose'](this[_0x47f4e7(0x2c9)]+'\x20('+this[_0x47f4e7(0x82c)][_0x47f4e7(0x568)]+_0x47f4e7(0x7e5)+_0x2d0a68);}catch(_0x408cb4){console[_0x47f4e7(0x690)](_0x47f4e7(0x655),_0x408cb4);}return _0x4b0339;}catch(_0x3fdd56){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x3fdd56?.[_0x47f4e7(0x53e)]());}}async[a0_0x42e86b(0x529)](_0x43389d){const _0x572eb4=a0_0x42e86b;try{let _0x1ce604=_0x43389d?.[_0x572eb4(0x64b)]?_0x43389d:await this[_0x572eb4(0x63d)](_0x43389d[_0x572eb4(0x57a)],!0x0);for(let _0x5e2e0b of ba)_0x1ce604[_0x572eb4(0x64b)][_0x5e2e0b]&&(_0x1ce604['message']=_0x1ce604[_0x572eb4(0x64b)][_0x5e2e0b][_0x572eb4(0x64b)]);let _0x3d07f0,_0x191712;for(let _0x4a31ba of ya)if(_0x3d07f0=_0x1ce604['message'][_0x4a31ba],_0x3d07f0){_0x191712=_0x4a31ba;break;}if(!_0x3d07f0)throw _0x572eb4(0x649);typeof _0x3d07f0['mediaKey']==_0x572eb4(0x387)&&(_0x1ce604['message']=JSON[_0x572eb4(0x29d)](JSON[_0x572eb4(0x5b1)](_0x1ce604['message'])));let _0x50ac4a=await(0x0,y[_0x572eb4(0x56f)])({'key':_0x1ce604?.['key'],'message':_0x1ce604?.[_0x572eb4(0x64b)]},_0x572eb4(0x4b9),{},{'logger':(0x0,Pt[_0x572eb4(0x5d8)])({'level':_0x572eb4(0x7e3)}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x50ac4a instanceof Buffer))throw new Error(_0x572eb4(0x683));let _0xe054d5=this['configService'][_0x572eb4(0x6e5)]('DATABASE'),_0x17dd0a,_0x2146f7;if(_0x3d07f0[_0x572eb4(0x3a7)])_0x17dd0a=_0x3d07f0['fileName'];else{let _0x2a2224=_0x3d07f0[_0x572eb4(0x3f3)]?.[_0x572eb4(0x685)](/\/(\w+)/),_0x4c2dec=_0x2a2224?_0x2a2224[0x1]:null;if(!_0x4c2dec)throw new Error(_0x572eb4(0x751));_0x17dd0a=(0x0,he['v4'])()+'.'+_0x4c2dec;}_0x191712==='audioMessage'?_0x2146f7='/media/'+await this['convertaudioMP3'](_0x50ac4a[_0x572eb4(0x53e)](_0x572eb4(0x50f))):(await this[_0x572eb4(0x36c)](_0x50ac4a,_0x17dd0a),_0x2146f7=_0x572eb4(0x8de)+_0x17dd0a);let _0x5b24c9=this[_0x572eb4(0x8e3)][_0x572eb4(0x6e5)](_0x572eb4(0x4b3))['URL'];if(!_0x5b24c9){let _0x65451f=this[_0x572eb4(0x8e3)][_0x572eb4(0x6e5)](_0x572eb4(0x64f));_0x5b24c9=_0x572eb4(0x4f3)+(_0x65451f&&_0x65451f['FULLCHAIN']['split']('/')[0x4]);}_0x2146f7=''+_0x5b24c9+_0x2146f7;let _0x48ef56=0xc*0x3c*0x3c*0x3e8,_0x45a983={'where':{'_id':_0x1ce604[_0x572eb4(0x57a)]['id']}},_0x32cb45={'message_normalized.fileUrl':_0x2146f7,'message_normalized.expires_fileUrl':Date['now']()+_0x48ef56};try{let _0x3e7191=await this[_0x572eb4(0x400)]['message'][_0x572eb4(0x211)](_0x45a983,_0x32cb45,this[_0x572eb4(0x82c)][_0x572eb4(0x568)]);_0x3e7191&&J(this[_0x572eb4(0x2c9)],_0x572eb4(0x29a),{'message':_0x3e7191});}catch(_0x5a9d76){let _0xe15672=_0x572eb4(0x64c),_0x28d023=_0x5a9d76 instanceof Error?_0x5a9d76['message']:typeof _0x5a9d76=='object'?JSON['stringify'](_0x5a9d76):_0x5a9d76,_0x432840=_0xe15672+':\x20'+_0x28d023;console[_0x572eb4(0x690)]((0x0,g[_0x572eb4(0x5d8)])()[_0x572eb4(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x572eb4(0x2c9)]+'\x20('+this['instance']['wuid']+_0x572eb4(0x840)+_0x432840);}return{'mediaType':_0x191712,'fileName':_0x3d07f0['fileName'],'caption':_0x3d07f0[_0x572eb4(0x6ac)],'size':{'fileLength':_0x3d07f0[_0x572eb4(0x50c)],'height':_0x3d07f0['height'],'width':_0x3d07f0['width']},'mimetype':_0x3d07f0[_0x572eb4(0x3f3)],'base64':_0x50ac4a['toString'](_0x572eb4(0x50f)),'fileUrl':_0x2146f7,'expires_fileUrl':Date[_0x572eb4(0x51c)]()+_0x48ef56};}catch(_0x1ca6a9){let _0x1fa240=_0x572eb4(0x64a),_0x10cd18=_0x1ca6a9 instanceof Error?_0x1ca6a9[_0x572eb4(0x64b)]:typeof _0x1ca6a9==_0x572eb4(0x387)?JSON[_0x572eb4(0x5b1)](_0x1ca6a9):_0x1ca6a9,_0x2da19c=_0x1fa240+':\x20'+_0x10cd18;throw console[_0x572eb4(0x690)]((0x0,g[_0x572eb4(0x5d8)])()[_0x572eb4(0x63e)](_0x572eb4(0x6e1))+':\x20'+this[_0x572eb4(0x2c9)]+'\x20('+this[_0x572eb4(0x82c)]['wuid']+'):\x20'+_0x2da19c),new f(_0x2da19c);}}async[a0_0x42e86b(0x36c)](_0xfceb56,_0x352400){const _0x3e5cb0=a0_0x42e86b;let _0x3abf50=U[_0x3e5cb0(0x5d8)]['join'](__dirname,_0x3e5cb0(0x4fb));j[_0x3e5cb0(0x739)](_0x3abf50)||j[_0x3e5cb0(0x86f)](_0x3abf50,{'recursive':!0x0});let _0x538f2c=U[_0x3e5cb0(0x5d8)][_0x3e5cb0(0x468)](_0x3abf50,_0x352400);return new Promise((_0x1dd14b,_0x26bbcc)=>{const _0x500d17=_0x3e5cb0;j[_0x500d17(0x7ed)](_0x538f2c,_0xfceb56,_0x536906=>{const _0x92e558=_0x500d17;_0x536906?(console[_0x92e558(0x690)](_0x92e558(0x602)+(_0x536906 instanceof Error?_0x536906[_0x92e558(0x64b)]:JSON[_0x92e558(0x5b1)](_0x536906,null,0x2))),_0x26bbcc(_0x536906)):(this[_0x92e558(0x7a6)][_0x92e558(0x247)](_0x92e558(0x445)+_0x538f2c),_0x1dd14b(_0x538f2c));});});}async[a0_0x42e86b(0x65f)](_0x412662){const _0x36f65e=a0_0x42e86b;return await this[_0x36f65e(0x400)][_0x36f65e(0x675)][_0x36f65e(0x2a1)](_0x412662,this[_0x36f65e(0x82c)][_0x36f65e(0x568)]);}async[a0_0x42e86b(0x43b)](){const _0x273809=a0_0x42e86b;return await this[_0x273809(0x400)][_0x273809(0x644)][_0x273809(0x2a1)]({'where':{}},this['instance']['wuid']);}async[a0_0x42e86b(0x79f)](_0x29f5f5){const _0x4f061b=a0_0x42e86b;return await this[_0x4f061b(0x400)][_0x4f061b(0x64b)][_0x4f061b(0x2a1)](_0x29f5f5,this[_0x4f061b(0x82c)][_0x4f061b(0x568)]);}async[a0_0x42e86b(0x6ce)](){const _0x532449=a0_0x42e86b;return this['repository'][_0x532449(0x21e)][_0x532449(0x539)](this[_0x532449(0x82c)][_0x532449(0x568)]),this[_0x532449(0x400)][_0x532449(0x21e)]['updateMissingEtiquetas'](this['instance'][_0x532449(0x568)]),this[_0x532449(0x400)][_0x532449(0x21e)][_0x532449(0x708)](this[_0x532449(0x82c)][_0x532449(0x568)]),this[_0x532449(0x400)][_0x532449(0x21e)][_0x532449(0x8e0)](this[_0x532449(0x82c)][_0x532449(0x568)]),await this['repository'][_0x532449(0x21e)][_0x532449(0x2a1)]({'where':{}},this[_0x532449(0x82c)][_0x532449(0x568)]);}async['importChatsAntigo'](_0x460293){const _0x515556=a0_0x42e86b;try{if(!Array[_0x515556(0x8f8)](_0x460293)||_0x460293[_0x515556(0x40e)]===0x0)throw new Error(_0x515556(0x693));let _0x492670=[],_0x427831=[];for(let _0x4ae7f6 of _0x460293){if(_0x4ae7f6[_0x515556(0x287)])_0x4ae7f6['_id']=this[_0x515556(0x838)](_0x4ae7f6['_id']);else continue;await this['repository']['chat'][_0x515556(0x551)]({'where':{'_id':_0x4ae7f6[_0x515556(0x287)]}},this[_0x515556(0x82c)][_0x515556(0x568)])?_0x427831[_0x515556(0x234)]({'_id':_0x4ae7f6[_0x515556(0x287)],'leadInfo':_0x4ae7f6[_0x515556(0x49d)],'owner':this['instance']['wuid']}):_0x492670[_0x515556(0x234)]({'_id':_0x4ae7f6['_id'],'owner':this[_0x515556(0x82c)]['wuid'],'leadInfo':_0x4ae7f6[_0x515556(0x49d)],'imported':!0x0});}return _0x427831['length']>0x0&&await this[_0x515556(0x400)][_0x515556(0x21e)][_0x515556(0x21b)](_0x427831['map'](_0x3b43bd=>({'query':{'where':{'_id':_0x3b43bd['_id'],'owner':this[_0x515556(0x82c)][_0x515556(0x568)]}},'update':_0x3b43bd}))),_0x492670[_0x515556(0x40e)]>0x0&&await this[_0x515556(0x400)]['chat'][_0x515556(0x5bb)](_0x492670,this[_0x515556(0x82c)][_0x515556(0x568)]),{'updated':_0x427831['length'],'inserted':_0x492670['length']};}catch(_0x31b03f){let _0x35722f=_0x515556(0x403),_0x5b3d42=_0x31b03f instanceof Error?_0x31b03f[_0x515556(0x64b)]:typeof _0x31b03f==_0x515556(0x387)?JSON[_0x515556(0x5b1)](_0x31b03f):_0x31b03f,_0x5b37e9=_0x35722f+':\x20'+_0x5b3d42;throw console[_0x515556(0x690)]((0x0,g['default'])()[_0x515556(0x63e)](_0x515556(0x6e1))+':\x20'+this[_0x515556(0x2c9)]+'\x20('+this['instance'][_0x515556(0x568)]+_0x515556(0x840)+_0x5b37e9),new f(_0x5b37e9);}}async['importChats'](_0x13d501){const _0x2106dc=a0_0x42e86b;try{if(!Array[_0x2106dc(0x8f8)](_0x13d501)||_0x13d501[_0x2106dc(0x40e)]===0x0)throw new Error(_0x2106dc(0x693));let _0x353f9e=0x64,_0x5cfb9b=0x0;for(let _0x3459eb=0x0;_0x3459eb<_0x13d501[_0x2106dc(0x40e)];_0x3459eb+=_0x353f9e){let _0x5ae0cd=_0x13d501[_0x2106dc(0x241)](_0x3459eb,_0x3459eb+_0x353f9e),{updated:_0x79f5af}=await this[_0x2106dc(0x6be)](_0x5ae0cd);_0x5cfb9b+=_0x79f5af;}return{'updated':_0x5cfb9b};}catch(_0x3e72b0){let _0x9d942f=_0x2106dc(0x403),_0xdecc05=_0x3e72b0 instanceof Error?_0x3e72b0[_0x2106dc(0x64b)]:typeof _0x3e72b0==_0x2106dc(0x387)?JSON[_0x2106dc(0x5b1)](_0x3e72b0):_0x3e72b0,_0x365613=_0x9d942f+':\x20'+_0xdecc05;throw console[_0x2106dc(0x690)]((0x0,g[_0x2106dc(0x5d8)])()[_0x2106dc(0x63e)](_0x2106dc(0x6e1))+':\x20'+this[_0x2106dc(0x2c9)]+'\x20('+this[_0x2106dc(0x82c)][_0x2106dc(0x568)]+_0x2106dc(0x840)+_0x365613),new f(_0x365613);}}async[a0_0x42e86b(0x6be)](_0x40351b){const _0x2689cf=a0_0x42e86b;try{let _0x4ba743=await this['repository'][_0x2689cf(0x644)]['find']({'where':{}},this[_0x2689cf(0x82c)][_0x2689cf(0x568)]),_0xfe09e0=new Set(_0x4ba743[_0x2689cf(0x57c)](_0x214c01=>_0x214c01[_0x2689cf(0x287)])),_0x4604e3=[],_0x349863=[];for(let _0x3e7137 of _0x40351b){if(!_0x3e7137[_0x2689cf(0x287)])continue;_0x3e7137[_0x2689cf(0x287)]=this[_0x2689cf(0x838)](_0x3e7137[_0x2689cf(0x287)]);let _0x252b0a=await this[_0x2689cf(0x400)][_0x2689cf(0x21e)][_0x2689cf(0x551)]({'where':{'_id':_0x3e7137[_0x2689cf(0x287)]}},this[_0x2689cf(0x82c)][_0x2689cf(0x568)]),_0x400f9b={};if(Object[_0x2689cf(0x22f)](_0x3e7137['leadInfo'])[_0x2689cf(0x4ac)](([_0x2d6dc5,_0x933b75])=>{_0x400f9b['leadInfo.'+_0x2d6dc5]=_0x933b75;}),_0x252b0a&&!_0x252b0a[_0x2689cf(0x7d2)]){let _0x265821=(_0x3e7137[_0x2689cf(0x49d)][_0x2689cf(0x518)]||[])[_0x2689cf(0x496)](_0x3b2f7a=>_0xfe09e0[_0x2689cf(0x63c)](_0x3b2f7a)),_0x1dd130=new Set(_0x252b0a[_0x2689cf(0x49d)][_0x2689cf(0x518)]||[]),_0x125cbd=_0x265821[_0x2689cf(0x496)](_0x19add0=>!_0x1dd130[_0x2689cf(0x63c)](_0x19add0)),_0x368e03=[..._0x1dd130][_0x2689cf(0x496)](_0x3c6a40=>!_0x265821[_0x2689cf(0x8d2)](_0x3c6a40));_0x349863[_0x2689cf(0x234)](..._0x125cbd[_0x2689cf(0x57c)](_0x10cb43=>this[_0x2689cf(0x737)](_0x10cb43,_0x3e7137[_0x2689cf(0x287)]))),_0x349863[_0x2689cf(0x234)](..._0x368e03['map'](_0x162a28=>this['RemoveChatLabel'](_0x162a28,_0x3e7137[_0x2689cf(0x287)]))),_0x3e7137[_0x2689cf(0x49d)][_0x2689cf(0x518)]=_0x265821,_0x4604e3[_0x2689cf(0x234)]({'query':{'where':{'_id':_0x3e7137[_0x2689cf(0x287)],'owner':this[_0x2689cf(0x82c)][_0x2689cf(0x568)]}},'update':_0x400f9b});}else _0x400f9b['imported']=!0x0,_0x4604e3[_0x2689cf(0x234)]({'query':{'where':{'_id':_0x3e7137['_id'],'owner':this[_0x2689cf(0x82c)]['wuid']}},'update':_0x400f9b});}let _0x395efc=await this['repository'][_0x2689cf(0x21e)][_0x2689cf(0x21b)](_0x4604e3);return await Promise[_0x2689cf(0x320)](_0x349863),{'updated':_0x395efc};}catch(_0x3d5fc7){let _0x2ac3f6='Erro\x20ao\x20importar\x20chats',_0x2b0e67=_0x3d5fc7 instanceof Error?_0x3d5fc7[_0x2689cf(0x64b)]:typeof _0x3d5fc7==_0x2689cf(0x387)?JSON['stringify'](_0x3d5fc7):_0x3d5fc7,_0x505d12=_0x2ac3f6+':\x20'+_0x2b0e67;throw console[_0x2689cf(0x690)]((0x0,g[_0x2689cf(0x5d8)])()['format'](_0x2689cf(0x6e1))+':\x20'+this[_0x2689cf(0x2c9)]+'\x20('+this[_0x2689cf(0x82c)][_0x2689cf(0x568)]+'):\x20'+_0x505d12),new f(_0x505d12);}}async['fetchPrivacySettings'](){const _0x48d2a1=a0_0x42e86b;return await this['client'][_0x48d2a1(0x716)]();}async['updatePrivacySettings'](_0x2caab6){const _0x274240=a0_0x42e86b;try{return await this['client']['updateReadReceiptsPrivacy'](_0x2caab6[_0x274240(0x2b7)][_0x274240(0x59a)]),await this[_0x274240(0x342)]['updateProfilePicturePrivacy'](_0x2caab6[_0x274240(0x2b7)][_0x274240(0x6e9)]),await this[_0x274240(0x342)][_0x274240(0x610)](_0x2caab6[_0x274240(0x2b7)][_0x274240(0x454)]),await this[_0x274240(0x342)][_0x274240(0x889)](_0x2caab6[_0x274240(0x2b7)]['online']),await this[_0x274240(0x342)][_0x274240(0x8fa)](_0x2caab6[_0x274240(0x2b7)][_0x274240(0x63b)]),await this[_0x274240(0x342)]['updateGroupsAddPrivacy'](_0x2caab6['privacySettings'][_0x274240(0x563)]),this['client']?.['ws']?.[_0x274240(0x5d1)](),{'update':_0x274240(0x617),'data':{'readreceipts':_0x2caab6[_0x274240(0x2b7)]['readreceipts'],'profile':_0x2caab6[_0x274240(0x2b7)]['profile'],'status':_0x2caab6[_0x274240(0x2b7)]['status'],'online':_0x2caab6['privacySettings']['online'],'last':_0x2caab6[_0x274240(0x2b7)][_0x274240(0x63b)],'groupadd':_0x2caab6[_0x274240(0x2b7)][_0x274240(0x563)]}};}catch(_0x4ecccf){let _0x5de804=_0x274240(0x329),_0x452ead=_0x4ecccf instanceof Error?_0x4ecccf[_0x274240(0x64b)]:typeof _0x4ecccf==_0x274240(0x387)?JSON[_0x274240(0x5b1)](_0x4ecccf):_0x4ecccf,_0x418874=_0x5de804+':\x20'+_0x452ead;throw console[_0x274240(0x690)]((0x0,g['default'])()[_0x274240(0x63e)](_0x274240(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x274240(0x82c)][_0x274240(0x568)]+_0x274240(0x840)+_0x418874),new f(_0x418874);}}async[a0_0x42e86b(0x36a)](_0x6dea){const _0x2c91ef=a0_0x42e86b;let _0x15843c=(_0x6dea?this[_0x2c91ef(0x838)](_0x6dea):this[_0x2c91ef(0x342)]?.[_0x2c91ef(0x833)]?.['id'])[_0x2c91ef(0x600)](/:\d{1,2}@/g,'@');this[_0x2c91ef(0x7a6)][_0x2c91ef(0x3f4)](this[_0x2c91ef(0x2c9)]+'\x20('+this[_0x2c91ef(0x82c)]['wuid']+_0x2c91ef(0x331)+_0x15843c);let _0x5460d2=await this[_0x2c91ef(0x400)]['contact'][_0x2c91ef(0x551)]({'where':{'_id':_0x15843c}},this['instance'][_0x2c91ef(0x568)]),_0x1a38b8=_0x5460d2?_0x5460d2[_0x2c91ef(0x396)]:null;try{let _0x1dfcba=(await this['whatsappNumber']({'numbers':[_0x15843c]}))?.['shift'](),_0x47b556=(await this[_0x2c91ef(0x829)](_0x15843c,null,!0x1))[_0x2c91ef(0x4b6)][_0x2c91ef(0x730)],_0xb22808=await this[_0x2c91ef(0x249)](_0x1dfcba?.[_0x2c91ef(0x67e)]),_0x589853=await this[_0x2c91ef(0x888)](_0x1dfcba?.[_0x2c91ef(0x67e)]),_0x3bf646=(await this[_0x2c91ef(0x829)](_0x15843c,null,!0x1))['cachedContact'][_0x2c91ef(0x2ea)],_0x51bc56=await this[_0x2c91ef(0x400)][_0x2c91ef(0x21e)][_0x2c91ef(0x551)]({'where':{'_id':_0x15843c}},this[_0x2c91ef(0x82c)][_0x2c91ef(0x568)]),_0x1362bf={'imagechat':_0x47b556,'contactname':_0x1a38b8||null,'pushName':_0x3bf646,'status':_0xb22808?.['status'],'isBusiness':_0x589853[_0x2c91ef(0x5ac)],'email':_0x589853?.['email'],'description':_0x589853?.[_0x2c91ef(0x283)],'website':_0x589853?.[_0x2c91ef(0x788)]?.['shift'](),'lastcache':Date[_0x2c91ef(0x51c)](),'imported':!_0x51bc56},_0x497ae3=await this['repository']['chat'][_0x2c91ef(0x5a3)]({'where':{'_id':_0x15843c}},_0x1362bf,this[_0x2c91ef(0x82c)][_0x2c91ef(0x568)]),_0x372203={'owner':this[_0x2c91ef(0x82c)][_0x2c91ef(0x568)],'_id':_0x15843c,'profilePictureUrl':_0x47b556,'status':_0xb22808?.['status']};return this['repository']['contact'][_0x2c91ef(0x211)]([_0x372203],this['instance'][_0x2c91ef(0x568)]),_0x497ae3&&J(this[_0x2c91ef(0x2c9)],'chats',{'chat':_0x497ae3}),{'wuid':_0x1dfcba?.[_0x2c91ef(0x67e)]||_0x15843c,'name':_0x1dfcba?.[_0x2c91ef(0x2ea)],'pushName':_0x3bf646,'numberExists':_0x1dfcba?.[_0x2c91ef(0x8fd)],'picture':_0x47b556,'status':_0xb22808?.[_0x2c91ef(0x454)],'isBusiness':_0x589853[_0x2c91ef(0x5ac)],'email':_0x589853?.[_0x2c91ef(0x5ee)],'description':_0x589853?.['description'],'website':_0x589853?.[_0x2c91ef(0x788)]?.[_0x2c91ef(0x83b)]()};}catch(_0x2d2f3c){return console[_0x2c91ef(0x690)](_0x2c91ef(0x78a)+(_0x2d2f3c instanceof Error?_0x2d2f3c[_0x2c91ef(0x64b)]:JSON['stringify'](_0x2d2f3c,null,0x2))),{};}}async['fetchBusinessProfile'](_0x399e91){const _0x25068b=a0_0x42e86b;this[_0x25068b(0x7a6)][_0x25068b(0x3f4)](this[_0x25068b(0x2c9)]+'\x20('+this[_0x25068b(0x82c)]['wuid']+'):Fetching\x20business\x20profile');try{let _0x399275=_0x399e91?this['createJid'](_0x399e91):this['instance']['wuid'],_0x522f86=await this[_0x25068b(0x342)][_0x25068b(0x5b5)](_0x399275);return this['logger'][_0x25068b(0x3f4)](this[_0x25068b(0x2c9)]+'\x20('+this[_0x25068b(0x82c)][_0x25068b(0x568)]+'):Trying\x20to\x20get\x20business\x20profile'),_0x522f86?(this['logger'][_0x25068b(0x3f4)](this[_0x25068b(0x2c9)]+'\x20('+this[_0x25068b(0x82c)][_0x25068b(0x568)]+_0x25068b(0x660)),{'isBusiness':!0x0,..._0x522f86}):{'isBusiness':!0x1,'message':_0x25068b(0x774),...(await this[_0x25068b(0x601)]({'numbers':[_0x399275]}))?.[_0x25068b(0x83b)]()};}catch(_0x12de61){let _0x2ada31=_0x25068b(0x3fd),_0x137541=_0x12de61 instanceof Error?_0x12de61['message']:typeof _0x12de61=='object'?JSON[_0x25068b(0x5b1)](_0x12de61):_0x12de61,_0x8ff57c=_0x2ada31+':\x20'+_0x137541;throw console['error']((0x0,g['default'])()[_0x25068b(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x25068b(0x2c9)]+'\x20('+this[_0x25068b(0x82c)][_0x25068b(0x568)]+_0x25068b(0x840)+_0x8ff57c),new x(_0x8ff57c);}}async['getStatus'](_0x7d7f36){const _0x3238ed=a0_0x42e86b;let _0x50ff73=this[_0x3238ed(0x838)](_0x7d7f36);try{return{'wuid':_0x50ff73,'status':(await this[_0x3238ed(0x342)][_0x3238ed(0x386)](_0x50ff73))?.[_0x3238ed(0x454)]};}catch{return{'wuid':_0x50ff73,'status':null};}}async[a0_0x42e86b(0x52f)](_0xbea024){const _0x5685b7=a0_0x42e86b;try{return await this[_0x5685b7(0x342)][_0x5685b7(0x52f)](_0xbea024),{'update':_0x5685b7(0x617)};}catch(_0x403070){let _0x11da58=_0x5685b7(0x803),_0x26082c=_0x403070 instanceof Error?_0x403070[_0x5685b7(0x64b)]:typeof _0x403070==_0x5685b7(0x387)?JSON[_0x5685b7(0x5b1)](_0x403070):_0x403070,_0x5f0535=_0x11da58+':\x20'+_0x26082c;throw console['error']((0x0,g[_0x5685b7(0x5d8)])()[_0x5685b7(0x63e)](_0x5685b7(0x6e1))+':\x20'+this[_0x5685b7(0x2c9)]+'\x20('+this[_0x5685b7(0x82c)][_0x5685b7(0x568)]+_0x5685b7(0x840)+_0x5f0535),new x(_0x5f0535);}}async[a0_0x42e86b(0x814)](_0xa1d091){const _0x559730=a0_0x42e86b;try{return await this[_0x559730(0x342)][_0x559730(0x814)](_0xa1d091),{'update':'success'};}catch(_0x2bce2f){let _0x4a052b=_0x559730(0x53d),_0x2566eb=_0x2bce2f instanceof Error?_0x2bce2f[_0x559730(0x64b)]:typeof _0x2bce2f==_0x559730(0x387)?JSON[_0x559730(0x5b1)](_0x2bce2f):_0x2bce2f,_0x418fda=_0x4a052b+':\x20'+_0x2566eb;throw console[_0x559730(0x690)]((0x0,g['default'])()[_0x559730(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x559730(0x2c9)]+'\x20('+this[_0x559730(0x82c)][_0x559730(0x568)]+'):\x20'+_0x418fda),new x(_0x418fda);}}async[a0_0x42e86b(0x777)](_0x2b5672){const _0x155587=a0_0x42e86b;try{let _0x5ea7b6;if((0x0,k[_0x155587(0x3ce)])(_0x2b5672)){let _0xd8cc4a=new Date()['getTime'](),_0x13c2db=_0x2b5672+_0x155587(0x48d)+_0xd8cc4a;_0x5ea7b6=(await Q['default'][_0x155587(0x6e5)](_0x13c2db,{'responseType':_0x155587(0x612)}))['data'];}else{if((0x0,k[_0x155587(0x6b6)])(_0x2b5672))_0x5ea7b6=Buffer[_0x155587(0x7c1)](_0x2b5672,_0x155587(0x50f));else throw new f(_0x155587(0x549));}return await this[_0x155587(0x342)]['updateProfilePicture'](this[_0x155587(0x82c)][_0x155587(0x568)],_0x5ea7b6),{'update':'success'};}catch(_0x13f54a){let _0x513aa8=_0x155587(0x501),_0x1c8dd8=_0x13f54a instanceof Error?_0x13f54a[_0x155587(0x64b)]:typeof _0x13f54a==_0x155587(0x387)?JSON[_0x155587(0x5b1)](_0x13f54a):_0x13f54a,_0x1ec6fb=_0x513aa8+':\x20'+_0x1c8dd8;throw console['error']((0x0,g[_0x155587(0x5d8)])()[_0x155587(0x63e)](_0x155587(0x6e1))+':\x20'+this[_0x155587(0x2c9)]+'\x20('+this['instance'][_0x155587(0x568)]+_0x155587(0x840)+_0x1ec6fb),new x(_0x1ec6fb);}}async['removeProfilePicture'](){const _0x215814=a0_0x42e86b;try{return await this['client'][_0x215814(0x69d)](this[_0x215814(0x82c)][_0x215814(0x568)]),{'update':_0x215814(0x617)};}catch(_0x17f399){let _0x4f94b9='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x56f8f2=_0x17f399 instanceof Error?_0x17f399['message']:typeof _0x17f399=='object'?JSON[_0x215814(0x5b1)](_0x17f399):_0x17f399,_0x2668ca=_0x4f94b9+':\x20'+_0x56f8f2;throw console[_0x215814(0x690)]((0x0,g[_0x215814(0x5d8)])()[_0x215814(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x215814(0x2c9)]+'\x20('+this[_0x215814(0x82c)]['wuid']+_0x215814(0x840)+_0x2668ca),new x(_0x2668ca);}}async[a0_0x42e86b(0x792)](_0x421389){const _0x4e4c03=a0_0x42e86b;try{let _0x396612=(await this[_0x4e4c03(0x601)]({'numbers':_0x421389['participants']}))[_0x4e4c03(0x496)](_0x2ae153=>_0x2ae153[_0x4e4c03(0x8fd)])['map'](_0x3ca641=>_0x3ca641[_0x4e4c03(0x67e)]),{id:_0x5dd24c}=await this[_0x4e4c03(0x342)][_0x4e4c03(0x1f7)](_0x421389['subject'],_0x396612);_0x421389?.[_0x4e4c03(0x283)]&&await this['client'][_0x4e4c03(0x54e)](_0x5dd24c,_0x421389['description']);let _0x15b583=await this['client'][_0x4e4c03(0x763)](_0x5dd24c);return _0x15b583[_0x4e4c03(0x78d)]=[],{'metadata':_0x15b583};}catch(_0x54f416){let _0x3de5dd=_0x4e4c03(0x8c3),_0x329600=_0x54f416 instanceof Error?_0x54f416[_0x4e4c03(0x64b)]:typeof _0x54f416=='object'?JSON[_0x4e4c03(0x5b1)](_0x54f416):_0x54f416,_0x190ac4=_0x3de5dd+':\x20'+_0x329600;throw console[_0x4e4c03(0x690)]((0x0,g['default'])()[_0x4e4c03(0x63e)](_0x4e4c03(0x6e1))+':\x20'+this[_0x4e4c03(0x2c9)]+'\x20('+this[_0x4e4c03(0x82c)][_0x4e4c03(0x568)]+_0x4e4c03(0x840)+_0x190ac4),new x(_0x190ac4);}}async[a0_0x42e86b(0x717)](_0x1849dc){const _0x18fd08=a0_0x42e86b;try{if(_0x1849dc[_0x18fd08(0x6a3)]===!0x0&&await this['client'][_0x18fd08(0x20f)](_0x1849dc[_0x18fd08(0x373)],_0x18fd08(0x470)),_0x1849dc[_0x18fd08(0x6a3)]===!0x1&&await this[_0x18fd08(0x342)][_0x18fd08(0x20f)](_0x1849dc[_0x18fd08(0x373)],_0x18fd08(0x7ff)),_0x1849dc['announce']===!0x0&&await this['client'][_0x18fd08(0x20f)](_0x1849dc['groupJid'],_0x18fd08(0x832)),_0x1849dc[_0x18fd08(0x5cd)]===!0x1&&await this[_0x18fd08(0x342)][_0x18fd08(0x20f)](_0x1849dc[_0x18fd08(0x373)],'not_announcement'),_0x1849dc[_0x18fd08(0x375)]===!0x0&&await this[_0x18fd08(0x342)][_0x18fd08(0x2c7)](_0x1849dc[_0x18fd08(0x373)],_0x18fd08(0x2af)),_0x1849dc[_0x18fd08(0x375)]===!0x1&&await this[_0x18fd08(0x342)][_0x18fd08(0x2c7)](_0x1849dc[_0x18fd08(0x373)],_0x18fd08(0x583)),_0x1849dc['joinApprovalMode']===!0x0&&await this[_0x18fd08(0x342)][_0x18fd08(0x55e)](_0x1849dc[_0x18fd08(0x373)],'on'),_0x1849dc[_0x18fd08(0x5e7)]===!0x1&&await this['client'][_0x18fd08(0x55e)](_0x1849dc[_0x18fd08(0x373)],'off'),typeof _0x1849dc[_0x18fd08(0x3e1)]<'u'&&_0x1849dc[_0x18fd08(0x3e1)]!==null&&await this['client'][_0x18fd08(0x5ed)](_0x1849dc[_0x18fd08(0x373)],_0x1849dc[_0x18fd08(0x3e1)]),_0x1849dc[_0x18fd08(0x2ea)]&&await this['client'][_0x18fd08(0x434)](_0x1849dc[_0x18fd08(0x373)],_0x1849dc[_0x18fd08(0x2ea)]),_0x1849dc[_0x18fd08(0x283)]&&await this['client'][_0x18fd08(0x54e)](_0x1849dc[_0x18fd08(0x373)],_0x1849dc[_0x18fd08(0x283)]),_0x1849dc[_0x18fd08(0x8c6)]){let _0x1b50da;if((0x0,k[_0x18fd08(0x3ce)])(_0x1849dc[_0x18fd08(0x8c6)])){let _0x34f920=new Date()[_0x18fd08(0x5b9)](),_0x4d9e91=_0x1849dc[_0x18fd08(0x8c6)]+'?timestamp='+_0x34f920;_0x1b50da=(await Q[_0x18fd08(0x5d8)][_0x18fd08(0x6e5)](_0x4d9e91,{'responseType':_0x18fd08(0x612)}))[_0x18fd08(0x47f)];}else{if((0x0,k['isBase64'])(_0x1849dc[_0x18fd08(0x8c6)]))_0x1b50da=Buffer[_0x18fd08(0x7c1)](_0x1849dc[_0x18fd08(0x8c6)],_0x18fd08(0x50f));else throw new f(_0x18fd08(0x549));}await this[_0x18fd08(0x342)][_0x18fd08(0x777)](_0x1849dc[_0x18fd08(0x373)],_0x1b50da);}return await this[_0x18fd08(0x33f)]({'groupJid':_0x1849dc[_0x18fd08(0x373)]});}catch(_0x1346cf){let _0x11f3e9='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x26be25=_0x1346cf instanceof Error?_0x1346cf[_0x18fd08(0x64b)]:typeof _0x1346cf=='object'?JSON[_0x18fd08(0x5b1)](_0x1346cf):_0x1346cf,_0x1371ee=_0x11f3e9+':\x20'+_0x26be25;throw console[_0x18fd08(0x690)]((0x0,g[_0x18fd08(0x5d8)])()[_0x18fd08(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x18fd08(0x2c9)]+'\x20('+this[_0x18fd08(0x82c)]['wuid']+_0x18fd08(0x840)+_0x1371ee),new x(_0x1371ee);}}async[a0_0x42e86b(0x3b1)](_0x27fe20){const _0x4fae59=a0_0x42e86b;try{if(_0x27fe20[_0x4fae59(0x7ad)]===_0x4fae59(0x3ef)||_0x27fe20[_0x4fae59(0x7ad)]==='reject'){let _0xa93650=_0x27fe20[_0x4fae59(0x614)][_0x4fae59(0x57c)](_0x5de3e6=>this[_0x4fae59(0x838)](_0x5de3e6));await this['client']['groupRequestParticipantsUpdate'](_0x27fe20[_0x4fae59(0x373)],_0xa93650,_0x27fe20['action']);}else{if(_0x27fe20[_0x4fae59(0x7ad)]==='add'){let _0x5ad673=(await this[_0x4fae59(0x601)]({'numbers':_0x27fe20[_0x4fae59(0x614)]}))[_0x4fae59(0x496)](_0x361c95=>_0x361c95[_0x4fae59(0x8fd)])[_0x4fae59(0x57c)](_0x1170a2=>this[_0x4fae59(0x838)](_0x1170a2['jid']));if(_0x5ad673[_0x4fae59(0x40e)]===0x0)throw new f('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x4fae59(0x342)][_0x4fae59(0x2b0)](_0x27fe20[_0x4fae59(0x373)],_0x5ad673,_0x4fae59(0x78c));}else{let _0x2625b9=_0x27fe20[_0x4fae59(0x614)][_0x4fae59(0x57c)](_0x1adc19=>this[_0x4fae59(0x838)](_0x1adc19));await this[_0x4fae59(0x342)][_0x4fae59(0x2b0)](_0x27fe20[_0x4fae59(0x373)],_0x2625b9,_0x27fe20[_0x4fae59(0x7ad)]);}}return await this[_0x4fae59(0x33f)]({'groupJid':_0x27fe20[_0x4fae59(0x373)]});}catch(_0x3aebc0){let _0xb7a69c='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x5cb399=_0x3aebc0 instanceof Error?_0x3aebc0[_0x4fae59(0x64b)]:typeof _0x3aebc0==_0x4fae59(0x387)?JSON[_0x4fae59(0x5b1)](_0x3aebc0):_0x3aebc0,_0x147af7=_0xb7a69c+':\x20'+_0x5cb399;throw console[_0x4fae59(0x690)]((0x0,g[_0x4fae59(0x5d8)])()[_0x4fae59(0x63e)](_0x4fae59(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x4fae59(0x82c)][_0x4fae59(0x568)]+'):\x20'+_0x147af7),new f(_0x147af7);}}async[a0_0x42e86b(0x4af)](_0x10bb43){const _0x423863=a0_0x42e86b;try{return await this[_0x423863(0x342)]['groupGetInviteInfo'](_0x10bb43['inviteCode']);}catch(_0x944168){let _0x19eff8=_0x423863(0x4cf),_0x58d229=_0x944168 instanceof Error?_0x944168['message']:typeof _0x944168==_0x423863(0x387)?JSON[_0x423863(0x5b1)](_0x944168):_0x944168,_0x11d8f4=_0x19eff8+':\x20'+_0x58d229;throw console[_0x423863(0x690)]((0x0,g['default'])()[_0x423863(0x63e)](_0x423863(0x6e1))+':\x20'+this[_0x423863(0x2c9)]+'\x20('+this[_0x423863(0x82c)][_0x423863(0x568)]+_0x423863(0x840)+_0x11d8f4),new f(_0x11d8f4);}}async['findGroup'](_0x218b5f,_0x19e597='out'){const _0x58d0bd=a0_0x42e86b;try{let _0x14a36d=await this['repository']['chat'][_0x58d0bd(0x551)]({'where':{'_id':_0x218b5f[_0x58d0bd(0x373)]}},this['instance'][_0x58d0bd(0x568)]),_0x597414=_0x14a36d?_0x14a36d['groupdata']:null,_0x34cc5b=0x18*0x3c*0x3c*0x3e8;if(!_0x597414||_0x597414[_0x58d0bd(0x37e)]&&Date[_0x58d0bd(0x51c)]()-_0x597414[_0x58d0bd(0x37e)]>_0x34cc5b){let _0x2c6c66=await this[_0x58d0bd(0x342)][_0x58d0bd(0x763)](_0x218b5f[_0x58d0bd(0x373)]);if(_0x2c6c66[_0x58d0bd(0x503)]=_0x2c6c66?.[_0x58d0bd(0x503)]&&_0x2c6c66[_0x58d0bd(0x503)][_0x58d0bd(0x53e)]()[_0x58d0bd(0x40e)]<0xd?_0x2c6c66?.[_0x58d0bd(0x503)]*0x3e8:_0x2c6c66?.[_0x58d0bd(0x503)]||null,_0x2c6c66[_0x58d0bd(0x494)]=_0x2c6c66?.[_0x58d0bd(0x494)]&&_0x2c6c66[_0x58d0bd(0x494)][_0x58d0bd(0x53e)]()[_0x58d0bd(0x40e)]<0xd?_0x2c6c66?.['creation']*0x3e8:_0x2c6c66?.[_0x58d0bd(0x494)]||null,_0x597414={..._0x2c6c66,'lastUpdate':Date[_0x58d0bd(0x51c)]()},!_0x2c6c66)return;}let _0x406096=_0x597414[_0x58d0bd(0x614)][_0x58d0bd(0x6b4)](_0x287d5f=>_0x287d5f['id']===this[_0x58d0bd(0x82c)]['wuid']+_0x58d0bd(0x3df)&&_0x287d5f[_0x58d0bd(0x226)]!=null);!_0x597414['inviteCode']&&_0x406096&&(_0x597414[_0x58d0bd(0x724)]=(await this[_0x58d0bd(0x724)](_0x218b5f,!0x1))['inviteUrl']);let _0x3eee7f=(!_0x597414['announce']||_0x406096)&&(!_0x597414[_0x58d0bd(0x2b1)]||_0x597414[_0x58d0bd(0x2b1)]&&_0x597414[_0x58d0bd(0x846)]&&_0x406096);_0x597414[_0x58d0bd(0x60d)]=_0x406096,_0x597414[_0x58d0bd(0x32f)]=_0x3eee7f;let _0x471e0b=[];if(_0x406096&&_0x597414[_0x58d0bd(0x5e7)])try{_0x471e0b=await this[_0x58d0bd(0x342)][_0x58d0bd(0x8af)](_0x218b5f[_0x58d0bd(0x373)]),_0x597414[_0x58d0bd(0x35c)]=Date[_0x58d0bd(0x51c)]();}catch(_0x4976bb){this[_0x58d0bd(0x7a6)][_0x58d0bd(0x3f4)](this[_0x58d0bd(0x2c9)]+'\x20('+this[_0x58d0bd(0x82c)][_0x58d0bd(0x568)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x218b5f[_0x58d0bd(0x373)]+':\x20'+(_0x4976bb instanceof Error?_0x4976bb[_0x58d0bd(0x64b)]:JSON['stringify'](_0x4976bb,null,0x2)));}try{_0x597414[_0x58d0bd(0x8c6)]=(await this['findAndUpdateCacheContact'](_0x218b5f['groupJid'],null,!0x0))['cachedContact']['pictureUrl'];}catch(_0x3b908f){this[_0x58d0bd(0x7a6)][_0x58d0bd(0x3f4)](this['instanceName']+'\x20('+this[_0x58d0bd(0x82c)][_0x58d0bd(0x568)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x218b5f[_0x58d0bd(0x373)]+':\x20'+(_0x3b908f instanceof Error?_0x3b908f[_0x58d0bd(0x64b)]:JSON['stringify'](_0x3b908f,null,0x2)));}let _0x91e4ca=_0x597414['participants'][_0x58d0bd(0x57c)](_0x57d36f=>_0x57d36f['id']),_0xc3efec=_0x471e0b['map'](_0xdd2ab3=>_0xdd2ab3[_0x58d0bd(0x67e)]),_0x24c386=await this['repository']['cacheContact'][_0x58d0bd(0x8e1)]([..._0x91e4ca,..._0xc3efec]);_0x597414['participants']=_0x597414[_0x58d0bd(0x614)]['map'](_0x246ecb=>{const _0xbf735b=_0x58d0bd;let _0x5359f1=_0x24c386[_0xbf735b(0x2a1)](_0x535156=>_0x535156[_0xbf735b(0x287)]===_0x246ecb['id']);return{'id':_0x246ecb['id'],'isAdmin':[_0xbf735b(0x226),_0xbf735b(0x81c)][_0xbf735b(0x8d2)](_0x246ecb[_0xbf735b(0x226)]),'admin':_0x246ecb[_0xbf735b(0x226)],'pushName':_0x5359f1?.['name'],'profilePictureUrl':_0x5359f1?.[_0xbf735b(0x730)]};}),_0x597414['awaitingApproval']=_0x471e0b[_0x58d0bd(0x57c)](_0x1c0c43=>{const _0x30c842=_0x58d0bd;let _0x5ae9b5=_0x24c386['find'](_0x54a009=>_0x54a009[_0x30c842(0x287)]===_0x1c0c43[_0x30c842(0x67e)]);return{'id':_0x1c0c43[_0x30c842(0x67e)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x5ae9b5?.[_0x30c842(0x2ea)],'profilePictureUrl':_0x5ae9b5?.[_0x30c842(0x730)],'request_method':_0x1c0c43[_0x30c842(0x213)],'request_time':_0x1c0c43['request_time']};});let _0x451eb4=await this[_0x58d0bd(0x400)][_0x58d0bd(0x21e)][_0x58d0bd(0x5a3)]({'where':{'_id':_0x218b5f[_0x58d0bd(0x373)]}},{'imagechat':_0x597414['image'],'name':_0x597414[_0x58d0bd(0x7eb)],'lastcache':Date[_0x58d0bd(0x51c)](),'groupdata':_0x597414},this[_0x58d0bd(0x82c)][_0x58d0bd(0x568)]);return J(this[_0x58d0bd(0x2c9)],_0x58d0bd(0x3b7),{'chat':_0x451eb4}),{'metadata':_0x597414};}catch(_0x1cad36){if(_0x19e597==='inner')return;throw new q(_0x58d0bd(0x699),_0x1cad36[_0x58d0bd(0x64b)][_0x58d0bd(0x53e)]());}}async['findGroups'](){const _0x4e0db4=a0_0x42e86b;try{let _0x265698=[],_0x43445e=await this[_0x4e0db4(0x342)][_0x4e0db4(0x45c)](),_0x3e7da4=Object[_0x4e0db4(0x892)](_0x43445e),_0x32ba5c=_0x3e7da4['filter'](_0x191d77=>(0x0,y[_0x4e0db4(0x890)])(_0x191d77?.['id']))[_0x4e0db4(0x57c)](async _0x1a256a=>{const _0x197172=_0x4e0db4;try{return await this[_0x197172(0x342)]['profilePictureUrl'](_0x1a256a['id'],_0x197172(0x2e5));}catch(_0x284fc0){return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x197172(0x568)]+_0x197172(0x32e)+_0x1a256a['id']+':\x20'+(_0x284fc0 instanceof Error?_0x284fc0[_0x197172(0x64b)]:JSON[_0x197172(0x5b1)](_0x284fc0,null,0x2))),null;}}),_0x13bd99=await Promise[_0x4e0db4(0x320)](_0x32ba5c);for(let _0x2f9e5c=0x0;_0x2f9e5c<_0x3e7da4[_0x4e0db4(0x40e)];_0x2f9e5c++){let _0xa3f788=_0x3e7da4[_0x2f9e5c];(0x0,y['isJidGroup'])(_0xa3f788?.['id'])&&(_0x265698[_0x4e0db4(0x234)]({'groupJid':_0xa3f788?.['id'],'subject':_0xa3f788?.[_0x4e0db4(0x7eb)],'subjectOwner':_0xa3f788?.[_0x4e0db4(0x3a1)]?.[_0x4e0db4(0x8a3)]('@')[0x0],'subjectTime':_0xa3f788?.[_0x4e0db4(0x503)],'creation':_0xa3f788?.[_0x4e0db4(0x494)],'size':_0xa3f788?.[_0x4e0db4(0x614)]?.[_0x4e0db4(0x40e)],'owner':_0xa3f788?.[_0x4e0db4(0x6c3)]?.['split']('@')[0x0],'desc':_0xa3f788?.[_0x4e0db4(0x28f)],'restrict':_0xa3f788?.['restrict'],'announce':_0xa3f788?.[_0x4e0db4(0x5cd)],'image':_0x13bd99[_0x2f9e5c],'isCommunity':_0xa3f788?.[_0x4e0db4(0x2b1)],'joinApprovalMode':_0xa3f788?.[_0x4e0db4(0x5e7)],'memberCanAddParticipant':_0xa3f788?.[_0x4e0db4(0x375)],'participants':_0xa3f788?.['participants'],'descOwner':_0xa3f788?.[_0x4e0db4(0x336)],'descId':_0xa3f788?.[_0x4e0db4(0x532)],'memberAddMode':_0xa3f788?.[_0x4e0db4(0x375)],'isCommunityAnnounce':_0xa3f788?.['isCommunityAnnounce'],'ephemeralDuration':_0xa3f788?.[_0x4e0db4(0x593)]||0x0,'author':_0xa3f788?.[_0x4e0db4(0x5a0)]}),this[_0x4e0db4(0x2c8)](_0x3e7da4[_0x2f9e5c]));}return _0x265698;}catch(_0x45eaec){let _0x43740d=_0x4e0db4(0x425),_0x39bffc=_0x45eaec instanceof Error?_0x45eaec[_0x4e0db4(0x64b)]:typeof _0x45eaec=='object'?JSON[_0x4e0db4(0x5b1)](_0x45eaec):_0x45eaec,_0x30731a=_0x43740d+':\x20'+_0x39bffc;throw console[_0x4e0db4(0x690)]((0x0,g[_0x4e0db4(0x5d8)])()[_0x4e0db4(0x63e)](_0x4e0db4(0x6e1))+':\x20'+this[_0x4e0db4(0x2c9)]+'\x20('+this['instance'][_0x4e0db4(0x568)]+'):\x20'+_0x30731a),new q(_0x30731a);}}async[a0_0x42e86b(0x2c8)](_0x4e74fa){const _0x3e3ba8=a0_0x42e86b;let _0x3fd62c=await this[_0x3e3ba8(0x400)][_0x3e3ba8(0x21e)][_0x3e3ba8(0x551)]({'where':{'_id':_0x4e74fa['id']}},this[_0x3e3ba8(0x82c)]['wuid']);_0x4e74fa[_0x3e3ba8(0x503)]=_0x4e74fa?.['subjectTime']&&_0x4e74fa[_0x3e3ba8(0x503)][_0x3e3ba8(0x53e)]()[_0x3e3ba8(0x40e)]<0xd?_0x4e74fa?.[_0x3e3ba8(0x503)]*0x3e8:_0x4e74fa?.[_0x3e3ba8(0x503)]||null,_0x4e74fa[_0x3e3ba8(0x494)]=_0x4e74fa?.[_0x3e3ba8(0x494)]&&_0x4e74fa[_0x3e3ba8(0x494)][_0x3e3ba8(0x53e)]()[_0x3e3ba8(0x40e)]<0xd?_0x4e74fa?.[_0x3e3ba8(0x494)]*0x3e8:_0x4e74fa?.[_0x3e3ba8(0x494)]||null;let _0x2fbd3c=_0x3fd62c?.['groupdata']?.['awaitingApproval']||[],_0x1390db=_0x3fd62c?.['groupdata']?.['lastFetchAwaitingApproval'],_0x1ae5e4=_0x4e74fa['participants'][_0x3e3ba8(0x57c)](_0x505a0c=>{const _0x37ef59=_0x3e3ba8;let _0x4a43e2=_0x3fd62c?.[_0x37ef59(0x4a5)]?.[_0x37ef59(0x614)][_0x37ef59(0x2a1)](_0x21109f=>_0x21109f['id']===_0x505a0c['id']);return{..._0x505a0c,'isAdmin':[_0x37ef59(0x226),_0x37ef59(0x81c)][_0x37ef59(0x8d2)](_0x505a0c[_0x37ef59(0x226)]),'admin':_0x505a0c[_0x37ef59(0x226)],'name':_0x4a43e2?.[_0x37ef59(0x2ea)]||_0x505a0c['name'],'imgUrl':_0x4a43e2?.['imgUrl']||_0x505a0c[_0x37ef59(0x8a1)]};}),_0x2744aa=_0x1ae5e4[_0x3e3ba8(0x6b4)](_0x4cf800=>_0x4cf800['id']===this['instance']['wuid']+_0x3e3ba8(0x3df)&&_0x4cf800['isAdmin']),_0x542358=(!_0x4e74fa[_0x3e3ba8(0x5cd)]||_0x2744aa)&&(!_0x4e74fa[_0x3e3ba8(0x2b1)]||_0x4e74fa[_0x3e3ba8(0x2b1)]&&_0x4e74fa['isCommunityAnnounce']&&_0x2744aa),_0x4b2a9f={..._0x4e74fa,'participants':_0x1ae5e4,'awaitingApproval':_0x2fbd3c,'lastFetchAwaitingApproval':_0x1390db,'isAdmin':_0x2744aa,'canSendMessage':_0x542358,'lastUpdate':Date[_0x3e3ba8(0x51c)]()};await this[_0x3e3ba8(0x400)][_0x3e3ba8(0x21e)][_0x3e3ba8(0x5a3)]({'where':{'_id':_0x4e74fa['id']}},{'name':_0x4e74fa[_0x3e3ba8(0x7eb)],'group':!0x0,'groupdata':_0x4b2a9f,'lastcache':Date[_0x3e3ba8(0x51c)]()},this['instance']['wuid']),J(this['instanceName'],_0x3e3ba8(0x3b7),{'chat':_0x4e74fa});}async[a0_0x42e86b(0x667)](_0x228bc7){const _0x42eb27=a0_0x42e86b;let _0x36403f=await this[_0x42eb27(0x400)][_0x42eb27(0x21e)][_0x42eb27(0x551)]({'where':{'_id':_0x228bc7['id']}},this[_0x42eb27(0x82c)][_0x42eb27(0x568)]);_0x228bc7[_0x42eb27(0x503)]=_0x228bc7?.[_0x42eb27(0x503)]&&_0x228bc7[_0x42eb27(0x503)][_0x42eb27(0x53e)]()[_0x42eb27(0x40e)]<0xd?_0x228bc7?.[_0x42eb27(0x503)]*0x3e8:_0x228bc7?.['subjectTime']||null,_0x228bc7[_0x42eb27(0x494)]=_0x228bc7?.['creation']&&_0x228bc7[_0x42eb27(0x494)][_0x42eb27(0x53e)]()[_0x42eb27(0x40e)]<0xd?_0x228bc7?.[_0x42eb27(0x494)]*0x3e8:_0x228bc7?.[_0x42eb27(0x494)]||null,_0x228bc7[_0x42eb27(0x724)]&&(_0x228bc7[_0x42eb27(0x724)]=_0x42eb27(0x5e9)+_0x228bc7[_0x42eb27(0x724)]);let _0x1f0813=_0x36403f?.[_0x42eb27(0x4a5)]?{..._0x36403f[_0x42eb27(0x4a5)]}:{};Object[_0x42eb27(0x3b9)](_0x228bc7)[_0x42eb27(0x4ac)](_0x431819=>{_0x431819!=='id'&&(_0x1f0813[_0x431819]=_0x228bc7[_0x431819]);});let _0x4041ab=_0x1f0813[_0x42eb27(0x614)]?.[_0x42eb27(0x6b4)](_0x14c612=>_0x14c612['id']===this[_0x42eb27(0x82c)]['wuid']+_0x42eb27(0x3df)&&_0x14c612[_0x42eb27(0x60d)])||!0x1;_0x1f0813[_0x42eb27(0x60d)]=_0x4041ab;let _0x381a9f=(!_0x1f0813[_0x42eb27(0x5cd)]||_0x4041ab)&&(!_0x1f0813[_0x42eb27(0x2b1)]||_0x1f0813['isCommunity']&&_0x1f0813[_0x42eb27(0x846)]&&_0x4041ab);_0x1f0813['canSendMessage']=_0x381a9f;let _0xca820c={'group':!0x0,'groupdata':_0x1f0813};_0x228bc7[_0x42eb27(0x7eb)]&&(_0xca820c[_0x42eb27(0x2ea)]=_0x228bc7[_0x42eb27(0x7eb)]),await this[_0x42eb27(0x400)][_0x42eb27(0x21e)][_0x42eb27(0x5a3)]({'where':{'_id':_0x228bc7['id']}},_0xca820c,this['instance'][_0x42eb27(0x568)],{'upsert':!0x0}),J(this['instanceName'],_0x42eb27(0x3b7),{'chat':_0xca820c});}async['updateGroupParticipantsWebhook'](_0x5e5e6b){const _0x2decbf=a0_0x42e86b;let _0x2df0c4=await this['repository'][_0x2decbf(0x21e)][_0x2decbf(0x551)]({'where':{'_id':_0x5e5e6b['id']}},this[_0x2decbf(0x82c)]['wuid']);if(!_0x2df0c4||!_0x2df0c4['groupdata']){this[_0x2decbf(0x7a6)][_0x2decbf(0x2d4)](this['instanceName']+'\x20('+this[_0x2decbf(0x82c)][_0x2decbf(0x568)]+_0x2decbf(0x250)+_0x5e5e6b['id']);return;}let _0x5a96f3=await this[_0x2decbf(0x400)][_0x2decbf(0x7c5)]['findManyByIds'](_0x5e5e6b[_0x2decbf(0x614)]),_0x56ba60=[..._0x2df0c4['groupdata']?.[_0x2decbf(0x614)]];switch(_0x5e5e6b['action']){case _0x2decbf(0x78c):let _0x1e0f36=_0x5a96f3['map'](_0x4e50b7=>({'id':_0x4e50b7[_0x2decbf(0x287)],'isAdmin':!0x1,'name':_0x4e50b7[_0x2decbf(0x2ea)],'imgUrl':_0x4e50b7[_0x2decbf(0x730)]}));_0x56ba60=[..._0x56ba60,..._0x1e0f36];break;case'remove':_0x56ba60=_0x56ba60['filter'](_0x435e8b=>!_0x5e5e6b['participants'][_0x2decbf(0x8d2)](_0x435e8b['id']));break;case _0x2decbf(0x2e1):case _0x2decbf(0x51b):_0x56ba60=_0x56ba60['map'](_0x13cee2=>_0x5e5e6b[_0x2decbf(0x614)][_0x2decbf(0x8d2)](_0x13cee2['id'])?{..._0x13cee2,'isAdmin':_0x5e5e6b[_0x2decbf(0x7ad)]===_0x2decbf(0x2e1)}:_0x13cee2);break;}let _0x3c0639=_0x56ba60[_0x2decbf(0x40e)],_0xe19c=_0x56ba60[_0x2decbf(0x6b4)](_0x11012b=>_0x11012b['id']===this[_0x2decbf(0x82c)]['wuid']+_0x2decbf(0x3df)),_0x466074=_0xe19c&&_0x56ba60[_0x2decbf(0x6b4)](_0x1e8512=>_0x1e8512['id']===this[_0x2decbf(0x82c)][_0x2decbf(0x568)]+_0x2decbf(0x3df)&&_0x1e8512['isAdmin']),_0x5ab9be=_0xe19c&&(!_0x2df0c4[_0x2decbf(0x4a5)]['announce']||_0x466074)&&(!_0x2df0c4[_0x2decbf(0x4a5)][_0x2decbf(0x2b1)]||_0x2df0c4[_0x2decbf(0x4a5)][_0x2decbf(0x2b1)]&&_0x466074);await this[_0x2decbf(0x400)]['chat'][_0x2decbf(0x5a3)]({'where':{'_id':_0x5e5e6b['id']}},{'groupdata':{..._0x2df0c4['groupdata'],'participants':_0x56ba60,'size':_0x3c0639,'isAdmin':_0x466074,'canSendMessage':_0x5ab9be}},this[_0x2decbf(0x82c)][_0x2decbf(0x568)]),this[_0x2decbf(0x7a6)][_0x2decbf(0x2d4)](this[_0x2decbf(0x2c9)]+'\x20('+this['instance']['wuid']+_0x2decbf(0x37d)+_0x5e5e6b['id']+_0x2decbf(0x323)+_0x5e5e6b[_0x2decbf(0x7ad)]+_0x2decbf(0x4fd)+_0x3c0639+_0x2decbf(0x32c)+_0x466074+_0x2decbf(0x23a)+_0x5ab9be);}async['inviteCode'](_0x2f3f91,_0x438fcf=!0x0){const _0x53bc7d=a0_0x42e86b;try{let _0x52f917=await this[_0x53bc7d(0x342)][_0x53bc7d(0x5c6)](_0x2f3f91[_0x53bc7d(0x373)]),_0xb17972={'groupdata.inviteCode':_0x53bc7d(0x5e9)+_0x52f917};if(_0x438fcf){let _0x12f5d7=await this[_0x53bc7d(0x400)]['chat'][_0x53bc7d(0x5a3)]({'where':{'_id':_0x2f3f91[_0x53bc7d(0x373)]}},_0xb17972,this['instance']['wuid']);}return{'inviteUrl':_0x53bc7d(0x5e9)+_0x52f917,'inviteCode':_0x52f917};}catch(_0x101765){let _0x5d39ca=_0x53bc7d(0x218),_0x2df2ba=_0x101765 instanceof Error?_0x101765[_0x53bc7d(0x64b)]:typeof _0x101765=='object'?JSON[_0x53bc7d(0x5b1)](_0x101765):_0x101765,_0x1d0644=_0x5d39ca+':\x20'+_0x2df2ba;throw console['error']((0x0,g[_0x53bc7d(0x5d8)])()['format'](_0x53bc7d(0x6e1))+':\x20'+this[_0x53bc7d(0x2c9)]+'\x20('+this[_0x53bc7d(0x82c)]['wuid']+_0x53bc7d(0x840)+_0x1d0644),new q(_0x1d0644);}}async['revokeInviteCode'](_0xeece27){const _0x1fa2d1=a0_0x42e86b;try{let _0x51372c=await this['client']['groupRevokeInvite'](_0xeece27[_0x1fa2d1(0x373)]);return{'revoked':!0x0,'inviteUrl':_0x1fa2d1(0x5e9)+_0x51372c,'inviteCode':_0x51372c};}catch(_0x5bb47){let _0xecef15='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x741425=_0x5bb47 instanceof Error?_0x5bb47[_0x1fa2d1(0x64b)]:typeof _0x5bb47==_0x1fa2d1(0x387)?JSON['stringify'](_0x5bb47):_0x5bb47,_0x4ea7b3=_0xecef15+':\x20'+_0x741425;throw console[_0x1fa2d1(0x690)]((0x0,g[_0x1fa2d1(0x5d8)])()[_0x1fa2d1(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this['instance'][_0x1fa2d1(0x568)]+_0x1fa2d1(0x840)+_0x4ea7b3),new q(_0x4ea7b3);}}async[a0_0x42e86b(0x356)](_0x3fcadd){const _0x2e17ed=a0_0x42e86b;try{if((0x0,k[_0x2e17ed(0x3ce)])(_0x3fcadd['inviteCode']))var _0x4966bd=_0x3fcadd['inviteCode'][_0x2e17ed(0x8a3)]('/')[0x3];else var _0x4966bd=_0x3fcadd['inviteCode'];let _0x5e7e50=await this[_0x2e17ed(0x342)][_0x2e17ed(0x3f6)](_0x4966bd);return this[_0x2e17ed(0x7a6)][_0x2e17ed(0x3f4)](this[_0x2e17ed(0x2c9)]+'\x20('+this[_0x2e17ed(0x82c)][_0x2e17ed(0x568)]+'):\x20'+_0x5e7e50),{'join':!0x0,'inviteCode':_0x4966bd,'groupJid':_0x5e7e50};}catch(_0x3c3b81){let _0x38d6e0=_0x2e17ed(0x89f),_0x18f824=_0x3c3b81 instanceof Error?_0x3c3b81[_0x2e17ed(0x64b)]:typeof _0x3c3b81==_0x2e17ed(0x387)?JSON[_0x2e17ed(0x5b1)](_0x3c3b81):_0x3c3b81,_0x5a01f2=_0x38d6e0+':\x20'+_0x18f824;throw console['error']((0x0,g[_0x2e17ed(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x2e17ed(0x82c)][_0x2e17ed(0x568)]+_0x2e17ed(0x840)+_0x5a01f2),new q(_0x5a01f2);}}async['findParticipants'](_0x2213bd){const _0x4fc9c5=a0_0x42e86b;try{return{'participants':(await this[_0x4fc9c5(0x400)]['chat'][_0x4fc9c5(0x551)]({'where':{'_id':_0x2213bd[_0x4fc9c5(0x373)]}},this[_0x4fc9c5(0x82c)]['wuid']))[_0x4fc9c5(0x4a5)]['participants']};}catch(_0x1a4472){let _0x557d78=_0x4fc9c5(0x598),_0x23f5dd=_0x1a4472 instanceof Error?_0x1a4472[_0x4fc9c5(0x64b)]:typeof _0x1a4472==_0x4fc9c5(0x387)?JSON[_0x4fc9c5(0x5b1)](_0x1a4472):_0x1a4472,_0x1b0e43=_0x557d78+':\x20'+_0x23f5dd;throw console[_0x4fc9c5(0x690)]((0x0,g[_0x4fc9c5(0x5d8)])()[_0x4fc9c5(0x63e)](_0x4fc9c5(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x4fc9c5(0x82c)][_0x4fc9c5(0x568)]+_0x4fc9c5(0x840)+_0x1b0e43),new q(_0x1b0e43);}}async['leaveGroup'](_0x58a7bd){const _0x40ba85=a0_0x42e86b;try{return await this[_0x40ba85(0x342)][_0x40ba85(0x5d3)](_0x58a7bd['groupJid']),{'groupJid':_0x58a7bd['groupJid'],'leave':!0x0};}catch(_0x425e1a){let _0x1966b0=_0x40ba85(0x55c),_0x3e0b83=_0x425e1a instanceof Error?_0x425e1a[_0x40ba85(0x64b)]:typeof _0x425e1a==_0x40ba85(0x387)?JSON[_0x40ba85(0x5b1)](_0x425e1a):_0x425e1a,_0x1cdbd5=_0x1966b0+':\x20'+_0x3e0b83;throw console[_0x40ba85(0x690)]((0x0,g[_0x40ba85(0x5d8)])()[_0x40ba85(0x63e)](_0x40ba85(0x6e1))+':\x20'+this[_0x40ba85(0x2c9)]+'\x20('+this['instance'][_0x40ba85(0x568)]+_0x40ba85(0x840)+_0x1cdbd5),new f(_0x1cdbd5);}}async[a0_0x42e86b(0x735)](_0x564004){const _0x414597=a0_0x42e86b;return await this[_0x414597(0x3e7)](_0x564004[_0x414597(0x201)],{'poll':{'name':_0x564004[_0x414597(0x735)]?.[_0x414597(0x2ea)],'selectableCount':_0x564004[_0x414597(0x735)][_0x414597(0x334)],'values':_0x564004[_0x414597(0x735)][_0x414597(0x892)]}},_0x564004?.[_0x414597(0x3af)]);}async['listMessage'](_0x237c71){const _0x193eb7=a0_0x42e86b;return await this[_0x193eb7(0x3e7)](_0x237c71[_0x193eb7(0x201)],{'listMessage':{'title':_0x237c71[_0x193eb7(0x23e)][_0x193eb7(0x8a6)],'description':_0x237c71['listMessage'][_0x193eb7(0x283)],'buttonText':_0x237c71[_0x193eb7(0x23e)]?.[_0x193eb7(0x2c1)],'footerText':_0x237c71['listMessage']?.[_0x193eb7(0x8be)],'sections':_0x237c71['listMessage'][_0x193eb7(0x401)],'listType':0x2}},_0x237c71?.[_0x193eb7(0x3af)]);}async['menuMessage'](_0x37981a){const _0x243398=a0_0x42e86b;let _0x2ed80c;if(_0x37981a['menuMessage']['type']===_0x243398(0x7ce)){let _0x30b856=_0x37981a['menuMessage']['text'][_0x243398(0x5f0)]('\x0a'),_0x13cb46='',_0x2b001f='';_0x30b856!==-0x1?(_0x13cb46=_0x37981a[_0x243398(0x8db)][_0x243398(0x411)][_0x243398(0x306)](0x0,_0x30b856)[_0x243398(0x3e6)](),_0x2b001f=_0x37981a['menuMessage']['text'][_0x243398(0x306)](_0x30b856+0x1)):_0x2b001f=_0x37981a[_0x243398(0x8db)]['text'];let _0x553405=_0x37981a['menuMessage'][_0x243398(0x76d)][_0x243398(0x496)](_0x24c5c2=>_0x24c5c2['trim']()!==''),_0x14698b=this[_0x243398(0x65a)](_0x553405);_0x2ed80c={'listMessage':{'title':_0x13cb46,'description':_0x2b001f,'buttonText':_0x37981a['menuMessage']['buttonText']||_0x243398(0x77f),'footerText':_0x37981a['menuMessage'][_0x243398(0x8be)],'sections':_0x14698b,'listType':0x2}};}else{if(_0x37981a[_0x243398(0x8db)]['type']===_0x243398(0x53b)){let _0x1c8648=_0x37981a[_0x243398(0x8db)]['choices'][_0x243398(0x496)](_0x27e8b9=>!(_0x27e8b9[_0x243398(0x4d4)]('[')&&_0x27e8b9[_0x243398(0x4de)](']'))&&_0x27e8b9['trim']()!=='')[_0x243398(0x57c)](_0x20a38e=>_0x20a38e[_0x243398(0x8a3)]('\x0a')[0x0]);_0x2ed80c={'poll':{'name':_0x37981a['menuMessage']['text'],'selectableCount':_0x37981a['menuMessage'][_0x243398(0x334)]||0x1,'values':_0x1c8648}};}}return await this[_0x243398(0x3e7)](_0x37981a[_0x243398(0x201)],_0x2ed80c,_0x37981a?.[_0x243398(0x3af)]);}[a0_0x42e86b(0x65a)](_0x768176){const _0x5d6998=a0_0x42e86b;let _0x492f98=[],_0x17e57d={'rows':[]};return _0x768176[_0x5d6998(0x4ac)](_0x4fa187=>{const _0xbf7ffa=_0x5d6998;if(_0x4fa187['startsWith']('[')&&_0x4fa187[_0xbf7ffa(0x4de)](']'))_0x17e57d[_0xbf7ffa(0x6b5)][_0xbf7ffa(0x40e)]>0x0&&_0x492f98[_0xbf7ffa(0x234)](_0x17e57d),_0x17e57d={'title':_0x4fa187[_0xbf7ffa(0x241)](0x1,-0x1),'rows':[]};else{let _0x5a6ea2=_0x4fa187['split']('\x0a')['map'](_0x17a07b=>_0x17a07b[_0xbf7ffa(0x3e6)]()),_0xcde36a=_0x5a6ea2[0x0],_0x1c5dca=_0x5a6ea2[0x1]||null,_0x175191=_0x5a6ea2[0x2]||_0xcde36a;_0x17e57d[_0xbf7ffa(0x6b5)][_0xbf7ffa(0x234)]({'title':_0xcde36a,'description':_0x1c5dca,'rowId':_0x175191});}}),_0x17e57d[_0x5d6998(0x6b5)][_0x5d6998(0x40e)]>0x0&&_0x492f98[_0x5d6998(0x234)](_0x17e57d),_0x492f98;}async[a0_0x42e86b(0x2e3)](_0x4b490b,_0x3b8a60){const _0xb16e2b=a0_0x42e86b;if(await this[_0xb16e2b(0x63d)](_0x4b490b,!0x0)){let _0x3ec18d={'where':{'_id':_0x4b490b['id']}},_0x351dd1={'status':[_0x3b8a60[_0xb16e2b(0x454)]][0x0]};try{let _0x1104cc=await this[_0xb16e2b(0x400)][_0xb16e2b(0x64b)][_0xb16e2b(0x211)](_0x3ec18d,_0x351dd1,this[_0xb16e2b(0x82c)]['wuid']);_0x1104cc&&J(this[_0xb16e2b(0x2c9)],_0xb16e2b(0x29a),{'message':_0x1104cc});}catch{}}}['sectionsToString'](_0x22aecf){const _0x282e65=a0_0x42e86b;let _0x56711b=[];return _0x22aecf[_0x282e65(0x4ac)](_0x2ae358=>{const _0x2278c4=_0x282e65;_0x2ae358[_0x2278c4(0x8a6)]&&_0x56711b[_0x2278c4(0x234)]('['+_0x2ae358[_0x2278c4(0x8a6)]+']'),_0x2ae358[_0x2278c4(0x6b5)][_0x2278c4(0x4ac)](_0x5f5b61=>{const _0x267c9e=_0x2278c4;_0x56711b[_0x267c9e(0x234)](_0x5f5b61[_0x267c9e(0x8a6)]);});}),_0x56711b[_0x282e65(0x468)]('|');}[a0_0x42e86b(0x7ec)](_0x1cdc00){const _0x123515=a0_0x42e86b;let _0x389c31=_0x1cdc00['replace'](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0x2264c9=>_0x2264c9['includes']('TEL')||_0x2264c9[_0x123515(0x8d2)]('EMAIL')),_0x2235b2='';return _0x389c31[_0x123515(0x4ac)](_0x5f395c=>{const _0x538a27=_0x123515;let _0x4b6bee=/TEL(?:.*):(.+)/,_0x268c26=/EMAIL(?:.*):(.+)/,_0x3e3895=_0x5f395c[_0x538a27(0x685)](_0x4b6bee),_0x4abd5f=_0x5f395c[_0x538a27(0x685)](_0x268c26);if(_0x3e3895){let _0x36d678=_0x3e3895[0x1][_0x538a27(0x600)](/-| |\+|\(|\)/g,'')[_0x538a27(0x3e6)]();_0x2235b2+=_0x538a27(0x6cd)+_0x36d678+'\x0a';}else{if(_0x4abd5f){let _0x1e1602=_0x4abd5f[0x1][_0x538a27(0x3e6)]();_0x2235b2+=_0x538a27(0x355)+_0x1e1602+'\x0a';}}}),_0x2235b2[_0x123515(0x3e6)]();}async[a0_0x42e86b(0x71c)](_0x1a7b19,_0x165864,_0x426b34,_0x34f080=null){const _0x76503e=a0_0x42e86b;if(_0x1a7b19['ENABLED'])try{let _0x340c51=_0x165864['key'][_0x76503e(0x3a3)][_0x76503e(0x600)](/:\d{1,2}@/g,'@'),_0x23d475=_0x165864[_0x76503e(0x57a)][_0x76503e(0x274)],_0x30e791=_0x340c51[_0x76503e(0x4de)]('@g.us'),_0x33d3d9=_0x165864[_0x76503e(0x206)]?.[_0x76503e(0x600)](/:\d{1,2}@/g,'@')||'',_0x4747e4=_0x165864[_0x76503e(0x4ce)]?.['text']||_0x165864[_0x76503e(0x4ce)]?.[_0x76503e(0x6ac)]||_0x165864[_0x76503e(0x4ce)]?.['vote']||_0x165864[_0x76503e(0x4ce)]?.[_0x76503e(0x2ea)]||'',_0x53831f={'_id':_0x165864['_id'],'remoteJid':_0x23d475?this[_0x76503e(0x82c)][_0x76503e(0x568)]:_0x30e791?_0x33d3d9:_0x340c51,'pushName':_0x23d475?this[_0x76503e(0x82c)][_0x76503e(0x5fb)]||'Eu':_0x165864['pushName'],'text':_0x4747e4,'type':_0x165864[_0x76503e(0x629)],'when':_0x165864[_0x76503e(0x6d6)]||Date[_0x76503e(0x51c)]()};_0x34f080||(_0x34f080=await this['repository'][_0x76503e(0x21e)][_0x76503e(0x551)]({'where':{'_id':_0x340c51}},this[_0x76503e(0x82c)]['wuid']));let _0x4bb029=_0x34f080?_0x23d475?_0x34f080[_0x76503e(0x1f9)]:(_0x34f080['unreadcount']||0x0)+0x1:_0x23d475?0x0:0x1,_0x574579={'lastmsg':_0x165864[_0x76503e(0x6d6)]||Date[_0x76503e(0x51c)](),'ephemeralExpiration':_0x165864[_0x76503e(0x3e1)],'lastMessage':_0x53831f,'unreadcount':_0x4bb029,..._0x23d475||_0x30e791?{}:{'name':_0x165864[_0x76503e(0x396)]},..._0x30e791?{'group':_0x30e791}:{},...!_0x23d475&&!_0x30e791&&_0x165864[_0x76503e(0x416)]?{'imagechat':_0x165864[_0x76503e(0x416)]}:{}};if(!_0x30e791&&(!_0x34f080?.['leadInfo']||!_0x34f080[_0x76503e(0x49d)]['nome'])&&_0x165864[_0x76503e(0x396)]&&!_0x23d475&&(_0x574579={..._0x574579,'leadInfo.nome':_0x165864[_0x76503e(0x396)]}),_0x34f080?.[_0x76503e(0x49d)][_0x76503e(0x518)]||(_0x574579={..._0x574579,'leadInfo.etiquetas':[]}),_0x34f080?.[_0x76503e(0x49d)][_0x76503e(0x76c)]||(_0x574579={..._0x574579,'leadInfo.customFields':[]}),_0x34f080?.[_0x76503e(0x49d)][_0x76503e(0x471)]||(_0x574579={..._0x574579,'leadInfo.tags':[]}),_0x34f080&&_0x34f080?.['imported']){let _0x87311f=await this[_0x76503e(0x400)][_0x76503e(0x644)][_0x76503e(0x2a1)]({'where':{}},this[_0x76503e(0x82c)]['wuid']),_0x514367=new Set(_0x87311f[_0x76503e(0x57c)](_0x2845bf=>_0x2845bf[_0x76503e(0x287)])),_0x2551f6=(_0x34f080['leadInfo']?.[_0x76503e(0x518)]||[])[_0x76503e(0x496)](_0x26d045=>_0x514367[_0x76503e(0x63c)](_0x26d045));_0x574579={..._0x574579,'imported':!0x1,'leadInfo.etiquetas':_0x2551f6};for(let _0x24bd09 of _0x2551f6)await this[_0x76503e(0x737)](_0x24bd09,_0x340c51);}if(_0x426b34===_0x76503e(0x707)&&_0x23d475&&this[_0x76503e(0x3cb)]?.[_0x76503e(0x24d)][_0x76503e(0x362)]&&_0x4747e4['trim']()!==this[_0x76503e(0x3cb)]?.[_0x76503e(0x24d)][_0x76503e(0x25f)][_0x76503e(0x3e6)]()){let _0x10fbbb=(this[_0x76503e(0x3cb)]?.[_0x76503e(0x24d)][_0x76503e(0x526)]||0x5)*0xea60,_0x325f0c=Date['now']()+_0x10fbbb;_0x34f080?.[_0x76503e(0x49d)]?.[_0x76503e(0x749)]===0x0||(_0x574579={..._0x574579,'leadInfo.desativadoFluxoAte':_0x325f0c},this['logger'][_0x76503e(0x3f4)](this[_0x76503e(0x2c9)]+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x325f0c+'.'));}if(_0x4747e4[_0x76503e(0x3e6)]()===this[_0x76503e(0x3cb)]?.['flowConfig'][_0x76503e(0x25f)]['trim']()){this[_0x76503e(0x7a6)][_0x76503e(0x3f4)](this[_0x76503e(0x2c9)]+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+_0x76503e(0x48b)+_0x4747e4);let _0x11e7d7=Date[_0x76503e(0x51c)]();this[_0x76503e(0x3cb)]?.[_0x76503e(0x24d)][_0x76503e(0x569)]===0x0?_0x574579={..._0x574579,'leadInfo.desativadoFluxoAte':_0x11e7d7+0x7591f6200}:_0x574579={..._0x574579,'leadInfo.desativadoFluxoAte':_0x11e7d7+this[_0x76503e(0x3cb)]?.[_0x76503e(0x24d)][_0x76503e(0x569)]*0x3c*0x3e8};}if(_0x34f080=await this['repository']['chat'][_0x76503e(0x5a3)]({'where':{'_id':_0x340c51}},_0x574579,this[_0x76503e(0x82c)][_0x76503e(0x568)],{'new':!0x0,'upsert':!0x0}),_0x34f080)J(this['instanceName'],'chats',{'chat':_0x34f080});else{console[_0x76503e(0x690)]((0x0,g['default'])()[_0x76503e(0x63e)](_0x76503e(0x6e1))+':\x20'+this[_0x76503e(0x2c9)]+'\x20('+this['instance'][_0x76503e(0x568)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x23d475)return this[_0x76503e(0x7a6)][_0x76503e(0x3f4)](this['instanceName']+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this[_0x76503e(0x3cb)]?.[_0x76503e(0x24d)][_0x76503e(0x362)])return this[_0x76503e(0x7a6)][_0x76503e(0x3f4)](this[_0x76503e(0x2c9)]+'\x20('+this['instance'][_0x76503e(0x568)]+_0x76503e(0x555)),null;if(_0x34f080[_0x76503e(0x287)][_0x76503e(0x8d2)]('@g.us')&&this['AutomateSystem']?.['flowConfig'][_0x76503e(0x7bd)]===!0x0)return this[_0x76503e(0x7a6)]['verbose'](this[_0x76503e(0x2c9)]+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+_0x76503e(0x472)),null;if(_0x34f080[_0x76503e(0x49d)]){if(_0x34f080['leadInfo']['desativadoFluxoAte']===0x0||_0x34f080['leadInfo'][_0x76503e(0x5fa)])return this[_0x76503e(0x7a6)][_0x76503e(0x3f4)](this[_0x76503e(0x2c9)]+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+_0x76503e(0x4ab)+_0x340c51+',\x20saindo.'),null;if(_0x34f080['leadInfo'][_0x76503e(0x749)]>Date[_0x76503e(0x51c)]()&&!_0x165864[_0x76503e(0x4ce)]?.[_0x76503e(0x3f0)])return this['logger'][_0x76503e(0x3f4)](this['instanceName']+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+_0x76503e(0x843)+new Date(_0x34f080[_0x76503e(0x49d)][_0x76503e(0x749)])['toLocaleString']()+',\x20saindo.'),null;}this[_0x76503e(0x7a6)][_0x76503e(0x3f4)](this[_0x76503e(0x2c9)]+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+_0x76503e(0x530)),this[_0x76503e(0x3ba)](_0x165864,_0x426b34);}catch(_0xda838){let _0x16dc70=_0x76503e(0x3a2),_0x579a57=_0xda838 instanceof Error?_0xda838[_0x76503e(0x64b)]:typeof _0xda838==_0x76503e(0x387)?JSON[_0x76503e(0x5b1)](_0xda838):_0xda838,_0x92ef1e=_0x16dc70+':\x20'+_0x579a57;return console['error']((0x0,g['default'])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x76503e(0x2c9)]+'\x20('+this[_0x76503e(0x82c)][_0x76503e(0x568)]+_0x76503e(0x840)+_0x92ef1e),null;}}async['upsertChats'](_0x384a10,_0x486878){const _0x3a9b08=a0_0x42e86b;if(_0x486878[_0x3a9b08(0x625)]){let _0x147bfe=_0x384a10[_0x3a9b08(0x57c)](async _0x21f1c3=>{const _0x71a8b8=_0x3a9b08;try{let _0x4f40a3={'_id':_0x21f1c3[_0x71a8b8(0x287)],'owner':_0x21f1c3['owner'],'lastcache':0x0};if(Object[_0x71a8b8(0x3b9)](_0x21f1c3)[_0x71a8b8(0x4ac)](_0x2941d1=>{_0x21f1c3[_0x2941d1]!==null&&(_0x4f40a3[_0x2941d1]=_0x21f1c3[_0x2941d1]);}),_0x4f40a3[_0x71a8b8(0x825)]===null&&(_0x4f40a3[_0x71a8b8(0x825)]='Imagem\x20não\x20encontrada'),Object[_0x71a8b8(0x3b9)](_0x4f40a3)['length']>0x0)return await this[_0x71a8b8(0x400)][_0x71a8b8(0x21e)][_0x71a8b8(0x5a3)]({'where':{'_id':_0x21f1c3[_0x71a8b8(0x287)]}},_0x4f40a3,this[_0x71a8b8(0x82c)][_0x71a8b8(0x568)]);}catch(_0x1e4c16){let _0x157050=_0x71a8b8(0x506)+_0x21f1c3[_0x71a8b8(0x287)],_0x4be8bd=_0x1e4c16 instanceof Error?_0x1e4c16[_0x71a8b8(0x64b)]:typeof _0x1e4c16==_0x71a8b8(0x387)?JSON[_0x71a8b8(0x5b1)](_0x1e4c16):_0x1e4c16,_0x454443=_0x157050+':\x20'+_0x4be8bd;return console[_0x71a8b8(0x690)]((0x0,g['default'])()['format'](_0x71a8b8(0x6e1))+':\x20'+this[_0x71a8b8(0x2c9)]+'\x20('+this[_0x71a8b8(0x82c)][_0x71a8b8(0x568)]+'):\x20'+_0x454443),null;}}),_0x26a0ec=(await Promise[_0x3a9b08(0x320)](_0x147bfe))[_0x3a9b08(0x496)](_0x18501a=>_0x18501a!==null)['length'];this['logger']['verbose'](this[_0x3a9b08(0x2c9)]+'\x20('+this['instance']['wuid']+_0x3a9b08(0x840)+_0x26a0ec+_0x3a9b08(0x32b)+this[_0x3a9b08(0x82c)][_0x3a9b08(0x568)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x42e86b(0x811)](_0x1e6ec0){const _0x3e5a27=a0_0x42e86b;this['logger'][_0x3e5a27(0x3f4)](this[_0x3e5a27(0x2c9)]+'\x20('+this[_0x3e5a27(0x82c)][_0x3e5a27(0x568)]+_0x3e5a27(0x2e2));let _0x141b51={'readMessages':[{'remoteJid':_0x1e6ec0[_0x3e5a27(0x3ae)][_0x3e5a27(0x466)][_0x3e5a27(0x57a)][_0x3e5a27(0x3a3)],'fromMe':_0x1e6ec0['chatLog']['lastReceivedMessage'][_0x3e5a27(0x57a)]['fromMe'],'id':_0x1e6ec0[_0x3e5a27(0x3ae)][_0x3e5a27(0x466)][_0x3e5a27(0x57a)]['id']}]};await this[_0x3e5a27(0x77a)](_0x141b51);}async[a0_0x42e86b(0x3ba)](_0x3aad37,_0xaf5081){const _0x50fc67=a0_0x42e86b;try{let {key:_0x230037,message_normalized:_0x1ca52f}=_0x3aad37,_0x1084e7=_0x1ca52f,_0xf41939=_0x1ca52f[_0x50fc67(0x411)]||_0x1ca52f['caption']||_0x1ca52f['vote']||_0x1ca52f[_0x50fc67(0x2ea)]||'',_0x15d106=_0x230037[_0x50fc67(0x3a3)],_0x251ea8=null,_0x3bb708=this[_0x50fc67(0x3cb)][_0x50fc67(0x5b2)]['find'](_0x4ff969=>_0x4ff969[_0x50fc67(0x37c)]&&_0xf41939[_0x50fc67(0x8d2)](_0x4ff969['startCommand']));if(_0x3bb708&&_0xaf5081===_0x50fc67(0x707)){let _0x10a7bf=await this[_0x50fc67(0x400)]['flow'][_0x50fc67(0x551)]({'where':{'_id':_0x3bb708[_0x50fc67(0x287)]}});if(this[_0x50fc67(0x7a6)][_0x50fc67(0x3f4)](this[_0x50fc67(0x2c9)]+'\x20('+this['instance'][_0x50fc67(0x568)]+_0x50fc67(0x575)),_0x10a7bf&&_0x10a7bf['whoCanUse']?.['includes'](this[_0x50fc67(0x82c)][_0x50fc67(0x568)]))_0x251ea8=await this['createNewConversation'](_0x10a7bf,_0x230037,_0x1084e7);else return this[_0x50fc67(0x7a6)][_0x50fc67(0x3f4)](this[_0x50fc67(0x2c9)]+'\x20('+this[_0x50fc67(0x82c)]['wuid']+_0x50fc67(0x84c)),null;}else this[_0x50fc67(0x7a6)][_0x50fc67(0x3f4)](this[_0x50fc67(0x2c9)]+'\x20('+this[_0x50fc67(0x82c)][_0x50fc67(0x568)]+_0x50fc67(0x20c));if(_0x251ea8=await this[_0x50fc67(0x6f8)](_0x15d106,_0x1084e7),_0x251ea8){this[_0x50fc67(0x7a6)][_0x50fc67(0x3f4)](this[_0x50fc67(0x2c9)]+'\x20('+this[_0x50fc67(0x82c)]['wuid']+_0x50fc67(0x264)),!_0x230037['fromMe']&&_0x251ea8[_0x50fc67(0x830)]&&this[_0x50fc67(0x811)](_0x251ea8);let _0x2d7f75=await this[_0x50fc67(0x417)](_0x251ea8);_0x2d7f75&&await this[_0x50fc67(0x87c)](_0x251ea8,_0x2d7f75);}}catch(_0x541f3c){console[_0x50fc67(0x690)](this[_0x50fc67(0x2c9)]+'\x20('+this[_0x50fc67(0x82c)][_0x50fc67(0x568)]+_0x50fc67(0x371)+(_0x541f3c instanceof Error?_0x541f3c[_0x50fc67(0x64b)]:JSON[_0x50fc67(0x5b1)](_0x541f3c,null,0x2)));}}[a0_0x42e86b(0x632)](_0xc7b02b,_0x135adb='',_0x4814b4={}){const _0x3bb3a4=a0_0x42e86b;return typeof _0xc7b02b!=_0x3bb3a4(0x387)||_0xc7b02b===null?(_0x135adb&&(_0x4814b4[_0x135adb]=_0xc7b02b),_0x4814b4):(Object['entries'](_0xc7b02b)['forEach'](([_0x3c0436,_0x3a95b3])=>{const _0x495918=_0x3bb3a4;let _0x6493aa=_0x135adb?_0x135adb+'.'+_0x3c0436:'_'+_0x3c0436;Array[_0x495918(0x8f8)](_0x3a95b3)?_0x3a95b3[_0x495918(0x4ac)]((_0xed1294,_0x2a46ed)=>{const _0x3b3af4=_0x495918;this[_0x3b3af4(0x632)](_0xed1294,_0x6493aa+'['+_0x2a46ed+']',_0x4814b4);}):typeof _0x3a95b3==_0x495918(0x387)&&_0x3a95b3!==null?this['flattenObject'](_0x3a95b3,_0x6493aa,_0x4814b4):_0x4814b4[_0x6493aa]=String(_0x3a95b3);}),_0x4814b4);}['variablesToObject'](_0x21f0f3){const _0x46d425=a0_0x42e86b;let _0x59e16d={};for(let _0x477c90 of _0x21f0f3)typeof _0x477c90[_0x46d425(0x2ea)]==_0x46d425(0x909)&&typeof _0x477c90[_0x46d425(0x62f)]==_0x46d425(0x909)&&(_0x59e16d[_0x477c90[_0x46d425(0x2ea)]]=_0x477c90[_0x46d425(0x62f)]);return _0x59e16d;}async[a0_0x42e86b(0x417)](_0x334b15){const _0x36ff62=a0_0x42e86b;if(!this[_0x36ff62(0x3cb)]?.['flowConfig'][_0x36ff62(0x362)]||_0x334b15[_0x36ff62(0x454)]!=='open'&&_0x334b15[_0x36ff62(0x8c5)]==='')return null;let _0x51b751=_0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x34a)]||_0x36ff62(0x870);typeof _0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x54b)]>'u'&&(_0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x54b)]=!0x0);let _0x504fdf=_0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x54b)];this[_0x36ff62(0x7a6)][_0x36ff62(0x3f4)](this[_0x36ff62(0x2c9)]+'\x20('+this[_0x36ff62(0x82c)][_0x36ff62(0x568)]+'):\x20lastBlockId:\x20'+_0x51b751+',\x20lastCondition:\x20'+_0x504fdf);let _0x31bcd2=_0x51b751==='start'?_0x334b15[_0x36ff62(0x6b9)][_0x36ff62(0x2a1)](_0x20299b=>_0x20299b[_0x36ff62(0x762)]==='start'):_0x334b15['blocks'][_0x36ff62(0x2a1)](_0x37e8d7=>_0x37e8d7[_0x36ff62(0x287)][_0x36ff62(0x53e)]()===_0x51b751[_0x36ff62(0x53e)]());if(!_0x31bcd2)return console[_0x36ff62(0x690)](this[_0x36ff62(0x2c9)]+'\x20('+this['instance'][_0x36ff62(0x568)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x51b751),null;let _0x3990f6={'_pushName':_0x334b15?.[_0x36ff62(0x3ae)]?.[_0x36ff62(0x466)]?.[_0x36ff62(0x396)]||'',..._0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x49f)]},_0x1b3736=null;if(_0x334b15['waitingMenu_id']){let _0x4c6f0b=_0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x466)][_0x36ff62(0x3f0)],_0x4c7ad2=_0x334b15[_0x36ff62(0x56e)][_0x36ff62(0x2a1)](_0x463acc=>_0x463acc[_0x36ff62(0x630)]===_0x4c6f0b);if(_0x4c7ad2){let _0x1ccb6f=_0x4c7ad2[_0x36ff62(0x3f7)];if(_0x1b3736=_0x334b15[_0x36ff62(0x6b9)][_0x36ff62(0x2a1)](_0x366797=>_0x366797['groupId']===_0x1ccb6f&&_0x366797[_0x36ff62(0x341)]===0x1),_0x31bcd2[_0x36ff62(0x8a4)]['pollOnReplyDelete']){let _0xcf8829={'id':_0x334b15[_0x36ff62(0x8c5)],'remoteJid':_0x334b15[_0x36ff62(0x3a3)],'fromMe':!0x0};await this[_0x36ff62(0x2a6)](_0xcf8829);}if(_0x31bcd2[_0x36ff62(0x8a4)][_0x36ff62(0x324)]&&_0x31bcd2['uazapi'][_0x36ff62(0x402)]&&_0x31bcd2[_0x36ff62(0x8a4)]['menuType']===_0x36ff62(0x53b)){let _0x193a81={'number':_0x334b15[_0x36ff62(0x3a3)],'options':{'delay':0x0},'textMessage':{'text':_0x36ff62(0x6f7)+_0x334b15[_0x36ff62(0x872)]+_0x36ff62(0x3de)+_0x4c6f0b}};await this[_0x36ff62(0x2ab)](_0x193a81);}_0x334b15[_0x36ff62(0x454)]=_0x36ff62(0x7a1),_0x334b15[_0x36ff62(0x8c5)]='',_0x334b15[_0x36ff62(0x872)]='',_0x334b15[_0x36ff62(0x56e)]=[];}else{this[_0x36ff62(0x7a6)][_0x36ff62(0x3f4)](this[_0x36ff62(0x2c9)]+'\x20('+this[_0x36ff62(0x82c)][_0x36ff62(0x568)]+_0x36ff62(0x6e4));let _0x1fd589={'activatedCount':_0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x414)][_0x36ff62(0x496)](_0x3e3eb3=>String(_0x3e3eb3[_0x36ff62(0x592)])===String(_0x51b751))['length'],'moreLogs':[_0x36ff62(0x26c)]};if(_0x31bcd2[_0x36ff62(0x8a4)]['pollErrorMessage']){let _0x5a06af={'number':_0x334b15[_0x36ff62(0x3a3)],'options':{'delay':0x0},'textMessage':{'text':_0x31bcd2[_0x36ff62(0x8a4)][_0x36ff62(0x73d)]}};await this['textMessage'](_0x5a06af);}if(_0x31bcd2[_0x36ff62(0x52b)]!==void 0x0&&_0x1fd589['activatedCount']>=_0x31bcd2[_0x36ff62(0x52b)]){let _0x582b36=Date[_0x36ff62(0x51c)](),_0x648be7=_0x31bcd2[_0x36ff62(0x460)]??0xa;isNaN(_0x648be7)&&(_0x648be7=0xa);let _0x5a376e=_0x582b36+_0x648be7*0x3c*0x3e8;_0x1fd589[_0x36ff62(0x74f)]=_0x5a376e,_0x1fd589['moreLogs']['push'](_0x36ff62(0x3c3)),this[_0x36ff62(0x7d6)](_0x334b15,_0x5a376e),_0x334b15['waitingMenu_id']='',_0x334b15[_0x36ff62(0x872)]='',_0x334b15[_0x36ff62(0x56e)]=[];}return this[_0x36ff62(0x49a)](_0x334b15,_0x31bcd2,_0x1fd589,!0x0),null;}}if(_0x504fdf&&_0x31bcd2['next_groupId']&&!_0x334b15[_0x36ff62(0x8c5)]){let _0x552e9b=_0x334b15[_0x36ff62(0x6b9)][_0x36ff62(0x496)](_0x452dd4=>_0x452dd4[_0x36ff62(0x457)][_0x36ff62(0x53e)]()===_0x31bcd2[_0x36ff62(0x3f7)]['toString']())['sort']((_0x2abe00,_0x59b04c)=>_0x2abe00['order']-_0x59b04c[_0x36ff62(0x341)]);_0x552e9b[_0x36ff62(0x40e)]>0x0&&(_0x1b3736=_0x552e9b[0x0]);}if(!_0x1b3736){let _0x4835b6=_0x31bcd2[_0x36ff62(0x457)],_0x2f2707=_0x334b15[_0x36ff62(0x6b9)][_0x36ff62(0x496)](_0x44aa91=>_0x44aa91[_0x36ff62(0x457)]===_0x4835b6&&_0x44aa91[_0x36ff62(0x341)]>_0x31bcd2['order'])[_0x36ff62(0x397)]((_0x5af0a9,_0x2b1599)=>_0x5af0a9['order']-_0x2b1599['order']);_0x2f2707['length']>0x0&&(_0x1b3736=_0x2f2707[0x0]);}if(!_0x1b3736)return _0x334b15[_0x36ff62(0x454)]='closed',null;_0x334b15[_0x36ff62(0x3ae)]['realVariables']=_0x3990f6;let _0x3dec1e=JSON['parse'](JSON[_0x36ff62(0x5b1)](_0x1b3736));return this['replaceVariablesInObject'](_0x3dec1e,_0x334b15[_0x36ff62(0x3ae)][_0x36ff62(0x49f)]),_0x334b15['chatLog'][_0x36ff62(0x34a)]=_0x3dec1e[_0x36ff62(0x287)],_0x334b15[_0x36ff62(0x3ae)]['lastCondition']=!0x0,_0x3dec1e;}[a0_0x42e86b(0x4b0)](_0x5375fc,_0x53397d){const _0x3a77f0=a0_0x42e86b;return _0x5375fc[_0x3a77f0(0x600)](/\{\{([^}]+)\}\}/g,(_0x564541,_0x15647b)=>_0x53397d[_0x15647b]||'');}[a0_0x42e86b(0x86b)](_0x4ba710,_0x77f7c5){const _0x135752=a0_0x42e86b;for(let _0x28591e in _0x4ba710)typeof _0x4ba710[_0x28591e]==_0x135752(0x909)?_0x4ba710[_0x28591e]=this[_0x135752(0x4b0)](_0x4ba710[_0x28591e],_0x77f7c5):typeof _0x4ba710[_0x28591e]=='object'&&this[_0x135752(0x86b)](_0x4ba710[_0x28591e],_0x77f7c5);}async['goNextblock'](_0x35aa84,_0x568735){const _0x3c1786=a0_0x42e86b;let _0xb7eff2=_0x568735[_0x3c1786(0x287)];if(_0x35aa84[_0x3c1786(0x3ae)]&&_0x35aa84[_0x3c1786(0x3ae)][_0x3c1786(0x414)]){let _0x23bf85=_0x35aa84[_0x3c1786(0x3ae)]['blockLogs'][_0x3c1786(0x496)](_0x127d73=>String(_0x127d73[_0x3c1786(0x592)])===String(_0xb7eff2))['pop']();if(_0x23bf85&&_0x23bf85[_0x3c1786(0x690)]&&_0x568735[_0x3c1786(0x7fe)])return _0x35aa84[_0x3c1786(0x454)]=_0x3c1786(0x7e7),await this[_0x3c1786(0x687)](_0x35aa84),null;}if(_0x568735[_0x3c1786(0x762)]===_0x3c1786(0x8a4)&&_0x568735[_0x3c1786(0x8a4)][_0x3c1786(0x326)]===_0x3c1786(0x6f2)&&_0x35aa84[_0x3c1786(0x8c5)])return _0x35aa84[_0x3c1786(0x3ae)][_0x3c1786(0x34a)]=_0xb7eff2,await this[_0x3c1786(0x687)](_0x35aa84),null;let _0x56f4dc=await this[_0x3c1786(0x417)](_0x35aa84);if(_0x35aa84[_0x3c1786(0x3ae)]&&_0x35aa84[_0x3c1786(0x3ae)][_0x3c1786(0x414)]){let _0x44cfc3=_0x35aa84[_0x3c1786(0x3ae)][_0x3c1786(0x414)][_0x3c1786(0x496)](_0x5111ef=>String(_0x5111ef[_0x3c1786(0x592)])===String(_0xb7eff2))[_0x3c1786(0x40e)];if(_0x568735[_0x3c1786(0x52b)]!==void 0x0&&_0x44cfc3>=_0x568735[_0x3c1786(0x52b)]){let _0x46c0e1=Date['now'](),_0x3db258=_0x568735[_0x3c1786(0x460)]??0xa;isNaN(_0x3db258)&&(_0x3db258=0xa);let _0x4271fd=_0x46c0e1+_0x3db258*0x3c*0x3e8,_0x4d5e9d={'newStoppedUntil':_0x4271fd};return this[_0x3c1786(0x7d6)](_0x35aa84,_0x4271fd),this[_0x3c1786(0x49a)](_0x35aa84,_0x568735,_0x4d5e9d,!0x0),null;}}_0x56f4dc&&_0x56f4dc['type']!==_0x3c1786(0x75a)&&await this['processblock'](_0x35aa84,_0x56f4dc),_0x56f4dc||await this[_0x3c1786(0x687)](_0x35aa84),_0x56f4dc&&_0x56f4dc['type']==='save'&&(_0x35aa84[_0x3c1786(0x3ae)][_0x3c1786(0x34a)]=_0xb7eff2,await this['saveConversationToDatabase'](_0x35aa84));}async[a0_0x42e86b(0x87c)](_0x4a563e,_0x39fc4d){const _0xa88816=a0_0x42e86b;try{let _0xb81faf=_0x39fc4d[_0xa88816(0x762)];this[_0xa88816(0x7a6)][_0xa88816(0x3f4)](this[_0xa88816(0x2c9)]+'\x20('+this[_0xa88816(0x82c)][_0xa88816(0x568)]+_0xa88816(0x2a5)+_0xb81faf);let _0x1de460={'uazapi':()=>this[_0xa88816(0x527)](_0x4a563e,_0x39fc4d),'save':()=>this['saveTextReply'](_0x4a563e,_0x39fc4d),'stop':()=>this[_0xa88816(0x25f)](_0x4a563e,_0x39fc4d),'condition':()=>this[_0xa88816(0x366)](_0x4a563e,_0x39fc4d),'varedit':()=>this['processvaredits'](_0x4a563e,_0x39fc4d),'apirequest':()=>this[_0xa88816(0x1f8)](_0x4a563e,_0x39fc4d),'goToFlow':()=>this[_0xa88816(0x3be)](_0x4a563e,_0x39fc4d),'scheduleFlow':()=>this[_0xa88816(0x659)](_0x4a563e,_0x39fc4d),'awaitSeconds':()=>this['processawaitSeconds'](_0x4a563e,_0x39fc4d),'clearVariables':()=>this['processclearVariables'](_0x4a563e,_0x39fc4d)}[_0xb81faf];_0x1de460&&await _0x1de460();}catch(_0x168e51){console[_0xa88816(0x690)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x168e51 instanceof Error?_0x168e51[_0xa88816(0x64b)]:JSON[_0xa88816(0x5b1)](_0x168e51,null,0x2)));}}async[a0_0x42e86b(0x61f)](_0x54bb22,_0x7b09c9){const _0x4e0fca=a0_0x42e86b;if(this[_0x4e0fca(0x7a6)][_0x4e0fca(0x3f4)](this[_0x4e0fca(0x2c9)]+'\x20('+this[_0x4e0fca(0x82c)][_0x4e0fca(0x568)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x54bb22||!_0x7b09c9)return console[_0x4e0fca(0x690)]((0x0,g['default'])()[_0x4e0fca(0x63e)](_0x4e0fca(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x4e0fca(0x82c)][_0x4e0fca(0x568)]+_0x4e0fca(0x83a)),null;let _0x2a50d9=+_0x7b09c9[_0x4e0fca(0x32d)];isNaN(_0x2a50d9)&&(_0x2a50d9=0x0),_0x2a50d9=Math[_0x4e0fca(0x804)](_0x2a50d9,0x3c),await(0x0,y[_0x4e0fca(0x6af)])(_0x2a50d9*0x3e8);let _0x366eeb={'moreLogs':[_0x4e0fca(0x423)+_0x2a50d9+_0x4e0fca(0x66b)]};return await this['updateConversation'](_0x54bb22,_0x7b09c9,_0x366eeb),_0x2a50d9;}async[a0_0x42e86b(0x3ff)](_0x59401e,_0x26d13f){const _0x4bcd78=a0_0x42e86b;if(this[_0x4bcd78(0x7a6)]['verbose'](this[_0x4bcd78(0x2c9)]+'\x20('+this[_0x4bcd78(0x82c)]['wuid']+_0x4bcd78(0x905)),!_0x59401e||!_0x26d13f)return console['error']((0x0,g[_0x4bcd78(0x5d8)])()[_0x4bcd78(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this['instance'][_0x4bcd78(0x568)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x372fb9=[];if(_0x26d13f[_0x4bcd78(0x8cd)][_0x4bcd78(0x3e6)]()===_0x4bcd78(0x39e)){let _0xa88d1b=['_pushName','_error',_0x4bcd78(0x20d),'_remoteJid',_0x4bcd78(0x287),_0x4bcd78(0x291)];_0x372fb9=Object[_0x4bcd78(0x3b9)](_0x59401e[_0x4bcd78(0x3ae)]['realVariables'])[_0x4bcd78(0x496)](_0x50011e=>_0x50011e[_0x4bcd78(0x4d4)]('_')&&!_0xa88d1b[_0x4bcd78(0x8d2)](_0x50011e));}else _0x372fb9=_0x26d13f[_0x4bcd78(0x8cd)][_0x4bcd78(0x8a3)]('|')['map'](_0x3a8d7e=>(_0x3a8d7e=_0x3a8d7e[_0x4bcd78(0x600)](/[{}]/g,'')[_0x4bcd78(0x3e6)](),_0x3a8d7e[_0x4bcd78(0x4d4)]('_')?_0x3a8d7e:'_'+_0x3a8d7e));let _0x32b06e=[];_0x372fb9[_0x4bcd78(0x4ac)](_0xb84bb8=>{const _0x373055=_0x4bcd78;_0xb84bb8 in _0x59401e[_0x373055(0x3ae)]['realVariables']&&(delete _0x59401e[_0x373055(0x3ae)]['realVariables'][_0xb84bb8],_0x32b06e[_0x373055(0x234)](_0xb84bb8));}),_0x32b06e['length']>0x0?this['logger']['verbose'](this[_0x4bcd78(0x2c9)]+'\x20('+this[_0x4bcd78(0x82c)][_0x4bcd78(0x568)]+_0x4bcd78(0x252)+_0x32b06e[_0x4bcd78(0x468)](',\x20')):this[_0x4bcd78(0x7a6)][_0x4bcd78(0x3f4)](this[_0x4bcd78(0x2c9)]+'\x20('+this[_0x4bcd78(0x82c)]['wuid']+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x13ca85={'moreLogs':[_0x4bcd78(0x7b2)+_0x32b06e[_0x4bcd78(0x468)](',\x20')]};return await this['updateConversation'](_0x59401e,_0x26d13f,_0x13ca85),null;}async[a0_0x42e86b(0x659)](_0x4af714,_0x4b5d1f){const _0x2d74b8=a0_0x42e86b;if(this[_0x2d74b8(0x7a6)][_0x2d74b8(0x3f4)](this['instanceName']+'\x20('+this['instance'][_0x2d74b8(0x568)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x4af714||!_0x4b5d1f)return console[_0x2d74b8(0x690)]((0x0,g['default'])()[_0x2d74b8(0x63e)](_0x2d74b8(0x6e1))+':\x20'+this[_0x2d74b8(0x2c9)]+'\x20('+this[_0x2d74b8(0x82c)][_0x2d74b8(0x568)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4fa270=_0x4af714[_0x2d74b8(0x3a3)];_0x4b5d1f['scheduleFlow'][_0x2d74b8(0x3a3)]&&_0x4b5d1f[_0x2d74b8(0x64d)][_0x2d74b8(0x3a3)][_0x2d74b8(0x3e6)]()!==''&&(_0x4fa270=_0x4b5d1f[_0x2d74b8(0x8a4)][_0x2d74b8(0x3a3)][_0x2d74b8(0x3e6)]());let _0x267e60=_0x4b5d1f[_0x2d74b8(0x64d)][_0x2d74b8(0x40f)]*0xea60,_0x1f75de=Date['now']()+_0x267e60,_0x2820c9={'status':_0x2d74b8(0x2f7),'info':_0x2d74b8(0x819)+_0x4af714[_0x2d74b8(0x2ea)],'remoteJids':[_0x4fa270],'when':_0x1f75de,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x2d74b8(0x3dc),'flowName':_0x4b5d1f[_0x2d74b8(0x64d)][_0x2d74b8(0x680)]};this['editScheduleMessage'](_0x2820c9);let _0x2fdb57=await this['NextBlock'](_0x4af714);_0x2fdb57&&await this['processblock'](_0x4af714,_0x2fdb57);}async[a0_0x42e86b(0x3be)](_0x1cc288,_0x1e833e){const _0x2ccdfb=a0_0x42e86b;if(this[_0x2ccdfb(0x7a6)][_0x2ccdfb(0x3f4)](this[_0x2ccdfb(0x2c9)]+'\x20('+this[_0x2ccdfb(0x82c)][_0x2ccdfb(0x568)]+_0x2ccdfb(0x8c2)),!_0x1cc288||!_0x1e833e)return console['error']((0x0,g[_0x2ccdfb(0x5d8)])()[_0x2ccdfb(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x2ccdfb(0x2c9)]+'\x20('+this['instance']['wuid']+_0x2ccdfb(0x83a)),null;await this[_0x2ccdfb(0x49a)](_0x1cc288,_0x1e833e,{},!0x0,!0x0);let _0x1aacbb=_0x1e833e[_0x2ccdfb(0x663)];_0x1cc288=await this['createConversationforgoToFlow'](_0x1aacbb,_0x1cc288[_0x2ccdfb(0x3a3)],_0x1cc288['chatLog'][_0x2ccdfb(0x49f)]);let _0x33fe11=await this[_0x2ccdfb(0x417)](_0x1cc288);_0x33fe11&&await this[_0x2ccdfb(0x87c)](_0x1cc288,_0x33fe11);}async[a0_0x42e86b(0x776)](_0x1a31cc,_0x502efe,_0x1a572e){const _0x5f0537=a0_0x42e86b;this['logger'][_0x5f0537(0x3f4)](this[_0x5f0537(0x2c9)]+'\x20('+this[_0x5f0537(0x82c)]['wuid']+_0x5f0537(0x36b));try{let _0x26d36c=this[_0x5f0537(0x3cb)][_0x5f0537(0x5b2)][_0x5f0537(0x2a1)](_0x5e9d14=>_0x5e9d14['_id']===_0x1a31cc);_0x26d36c||console['error']((0x0,g[_0x5f0537(0x5d8)])()[_0x5f0537(0x63e)](_0x5f0537(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x5f0537(0x82c)][_0x5f0537(0x568)]+_0x5f0537(0x45b)+_0x1a31cc+_0x5f0537(0x51d));let _0x5a87a6=await this[_0x5f0537(0x400)]['flow']['findOne']({'where':{'_id':_0x26d36c[_0x5f0537(0x287)]}});if(!_0x5a87a6||!_0x5a87a6[_0x5f0537(0x82a)]?.[_0x5f0537(0x8d2)](this[_0x5f0537(0x82c)][_0x5f0537(0x568)]))throw console['error']((0x0,g[_0x5f0537(0x5d8)])()['format'](_0x5f0537(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x5f0537(0x82c)][_0x5f0537(0x568)]+'):\x20Flow\x20\x27'+_0x1a31cc+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new f(_0x5f0537(0x63f)+_0x1a31cc+_0x5f0537(0x2f2));let _0x444b4f=require(_0x5f0537(0x508))[_0x5f0537(0x5f9)],_0x1b802b=Date['now'](),_0x3ad937='start',_0x4d1e44={},_0x5df326={},_0x2aa09a=this[_0x5f0537(0x3cb)][_0x5f0537(0x5b2)][_0x5f0537(0x2a1)](_0x1d55fb=>_0x1d55fb[_0x5f0537(0x287)]===_0x5a87a6[_0x5f0537(0x287)]?.[_0x5f0537(0x53e)]()),_0x588f0f=_0x2aa09a?.['minutesToClose']??_0x5a87a6['minutesToClose']??0x0,_0x1e37a6=_0x2aa09a?.[_0x5f0537(0x830)]??_0x5a87a6['readMessages']??!0x1,_0x4d5d64={'flowId':_0x26d36c[_0x5f0537(0x287)],'readMessages':_0x26d36c[_0x5f0537(0x830)],..._0x5a87a6,'chatLog':null},_0x4ca4be={'lastReceivedMessage':_0x4d1e44,'lastSendMessage':_0x5df326,'lastBlockId':_0x3ad937,'lastCondition':!0x0,'realVariables':_0x1a572e};_0x4d5d64[_0x5f0537(0x3ae)]=_0x4ca4be,_0x4d5d64['chatLog'][_0x5f0537(0x49f)]={..._0x1a572e},delete _0x4d5d64[_0x5f0537(0x287)],_0x4d5d64['_id']=new _0x444b4f(),_0x4d5d64[_0x5f0537(0x727)]=_0x1b802b,_0x4d5d64[_0x5f0537(0x454)]=_0x5f0537(0x7a1),_0x4d5d64[_0x5f0537(0x3a3)]=_0x502efe,_0x4d5d64[_0x5f0537(0x522)]=_0x588f0f,_0x4d5d64[_0x5f0537(0x830)]=_0x1e37a6;let _0x52759b=await this[_0x5f0537(0x400)][_0x5f0537(0x2e9)][_0x5f0537(0x5a3)](_0x4d5d64['_id'],_0x4d5d64,this[_0x5f0537(0x82c)]['wuid']);return this[_0x5f0537(0x7a6)][_0x5f0537(0x3f4)](this[_0x5f0537(0x2c9)]+'\x20('+this['instance'][_0x5f0537(0x568)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x52759b?_0x4d5d64:null;}catch(_0x50df8f){let _0x4a22b0=_0x5f0537(0x859),_0x646b28=_0x50df8f instanceof Error?_0x50df8f[_0x5f0537(0x64b)]:typeof _0x50df8f==_0x5f0537(0x387)?JSON[_0x5f0537(0x5b1)](_0x50df8f):_0x50df8f,_0x588576=_0x4a22b0+':\x20'+_0x646b28;throw console['error']((0x0,g[_0x5f0537(0x5d8)])()[_0x5f0537(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x5f0537(0x2c9)]+'\x20('+this['instance']['wuid']+_0x5f0537(0x840)+_0x588576),new f(_0x588576);}}async[a0_0x42e86b(0x1f8)](_0x44110e,_0x41e5da){const _0x698f05=a0_0x42e86b;let _0x219d01,_0x4ecfd8;try{let _0x6f3c9f=_0x41e5da[_0x698f05(0x415)];if(!_0x6f3c9f||!_0x6f3c9f[_0x698f05(0x42b)]||!_0x6f3c9f[_0x698f05(0x56a)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x12b57a;([_0x698f05(0x638),_0x698f05(0x319),_0x698f05(0x47d)][_0x698f05(0x6b4)](_0x4ee2ef=>_0x6f3c9f[_0x698f05(0x42b)][_0x698f05(0x8d2)](_0x4ee2ef))||_0x6f3c9f[_0x698f05(0x513)])&&(_0x12b57a=_0x698f05(0x612));let _0x23dba9='\u205f',_0x5818de;try{_0x5818de=JSON['parse'](_0x6f3c9f[_0x698f05(0x520)][_0x698f05(0x600)](new RegExp(_0x23dba9,'g'),''));}catch(_0x274d68){throw _0x274d68;}let _0x372105={'method':_0x6f3c9f[_0x698f05(0x56a)],'url':_0x6f3c9f[_0x698f05(0x42b)],'headers':_0x6f3c9f['header']||{},..._0x6f3c9f[_0x698f05(0x56a)][_0x698f05(0x70d)]()!=='GET'&&_0x6f3c9f[_0x698f05(0x520)]?{'data':JSON[_0x698f05(0x29d)](_0x6f3c9f['bodyString'][_0x698f05(0x600)](new RegExp(_0x23dba9,'g'),''))}:{},..._0x12b57a&&{'responseType':_0x12b57a}},_0x193238=await(0x0,Q['default'])(_0x372105),_0x4093d1=_0x193238['headers']['content-type'];if(_0x4093d1&&_0x4093d1['includes'](_0x698f05(0x5fd))||typeof _0x193238[_0x698f05(0x47f)]=='string'){if(typeof _0x193238['data']==_0x698f05(0x909)){let _0x3304a3=_0x193238['data'][_0x698f05(0x600)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x698f05(0x3e6)]();try{_0x219d01=JSON[_0x698f05(0x29d)](_0x3304a3);}catch(_0x1b6d28){console[_0x698f05(0x690)]((0x0,g[_0x698f05(0x5d8)])()[_0x698f05(0x63e)]('DD/MM\x20HH:mm:ss')+_0x698f05(0x778)+_0x1b6d28[_0x698f05(0x64b)]),_0x219d01={'_apiResponse':_0x193238[_0x698f05(0x47f)]};}}else _0x219d01=_0x193238['data'];let _0x5f3adb=_0x44110e[_0x698f05(0x3ae)][_0x698f05(0x49f)],_0x2d4bb8=this[_0x698f05(0x632)](_0x219d01);return Object['assign'](_0x5f3adb,_0x2d4bb8),_0x44110e[_0x698f05(0x3ae)][_0x698f05(0x49f)]=_0x5f3adb,_0x4ecfd8={'error':!0x1,'apiResponse':_0x219d01},this['updateConversation'](_0x44110e,_0x41e5da,_0x4ecfd8),_0x219d01;}if(_0x4093d1&&(_0x4093d1['includes']('application/octet-stream')||_0x4093d1[_0x698f05(0x8d2)](_0x698f05(0x8c6))||_0x4093d1[_0x698f05(0x8d2)](_0x698f05(0x801))||_0x4093d1[_0x698f05(0x8d2)](_0x698f05(0x2d2)))){this['logger'][_0x698f05(0x3f4)](this[_0x698f05(0x2c9)]+'\x20('+this[_0x698f05(0x82c)][_0x698f05(0x568)]+_0x698f05(0x723)+_0x4093d1);let _0x1927b4=(0x0,he['v4'])(),_0x157544='',_0x250a66={'image/jpeg':_0x698f05(0x5d2),'image/png':'.png','image/gif':'.gif','image/webp':_0x698f05(0x498),'image/svg+xml':'.svg','audio/mpeg':_0x698f05(0x2fd),'audio/ogg':_0x698f05(0x3b6),'audio/wav':_0x698f05(0x7af),'video/mp4':'.mp4','video/webm':_0x698f05(0x490),'video/ogg':'.ogv','text/plain':_0x698f05(0x5eb),'application/pdf':'.pdf','application/msword':_0x698f05(0x419),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x698f05(0x4ff),'application/vnd.ms-excel':_0x698f05(0x67f),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x698f05(0x59e),'application/vnd.ms-powerpoint':_0x698f05(0x89c),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x698f05(0x728)};_0x250a66[_0x4093d1]?(_0x157544=_0x250a66[_0x4093d1],this[_0x698f05(0x7a6)][_0x698f05(0x3f4)](this[_0x698f05(0x2c9)]+'\x20('+this['instance'][_0x698f05(0x568)]+_0x698f05(0x254)+_0x157544)):(_0x157544=_0x698f05(0x7ef),this[_0x698f05(0x7a6)][_0x698f05(0x3f4)](this[_0x698f05(0x2c9)]+'\x20('+this[_0x698f05(0x82c)][_0x698f05(0x568)]+_0x698f05(0x8b1)+_0x157544)),_0x1927b4+=_0x157544,this[_0x698f05(0x7a6)][_0x698f05(0x3f4)](this[_0x698f05(0x2c9)]+'\x20('+this[_0x698f05(0x82c)][_0x698f05(0x568)]+_0x698f05(0x48c)+_0x1927b4);let _0x3505bc=this[_0x698f05(0x8e3)][_0x698f05(0x6e5)](_0x698f05(0x4b3))['URL'];if(!_0x3505bc){let _0x1d34b3=this['configService'][_0x698f05(0x6e5)](_0x698f05(0x64f));_0x3505bc=_0x698f05(0x4f3)+(_0x1d34b3&&_0x1d34b3[_0x698f05(0x268)]['split']('/')[0x4]);}let _0x5d1f2b=Buffer[_0x698f05(0x7c1)](_0x193238[_0x698f05(0x47f)]);await this[_0x698f05(0x36c)](_0x5d1f2b,_0x1927b4);let _0xcd5ff1=_0x698f05(0x8de)+_0x1927b4;_0xcd5ff1=''+_0x3505bc+_0xcd5ff1,_0x219d01={'fileUrl':_0xcd5ff1},_0x44110e[_0x698f05(0x3ae)][_0x698f05(0x49f)][_0x698f05(0x335)]=_0xcd5ff1;let _0x13697c=_0x44110e[_0x698f05(0x3ae)][_0x698f05(0x49f)],_0xb6146e=this[_0x698f05(0x632)](_0x219d01);return Object[_0x698f05(0x580)](_0x13697c,_0xb6146e),_0x44110e[_0x698f05(0x3ae)][_0x698f05(0x49f)]=_0x13697c,_0x4ecfd8={'error':!0x1,'apiResponse':{'fileUrl':_0xcd5ff1}},this['updateConversation'](_0x44110e,_0x41e5da,_0x4ecfd8),_0x219d01;}}catch(_0x46768d){console[_0x698f05(0x690)](_0x698f05(0x6b7),_0x46768d['message']),_0x46768d[_0x698f05(0x674)]&&(_0x219d01=_0x46768d['response'][_0x698f05(0x47f)]);let _0x4cf940=_0x44110e[_0x698f05(0x3ae)][_0x698f05(0x49f)],_0x347c78=this[_0x698f05(0x632)](_0x219d01);return Object['assign'](_0x4cf940,_0x347c78),_0x44110e['chatLog'][_0x698f05(0x49f)]=_0x4cf940,_0x4ecfd8={'error':!0x0,'errorLog':_0x46768d[_0x698f05(0x53e)](),'apiResponse':_0x219d01},this[_0x698f05(0x49a)](_0x44110e,_0x41e5da,_0x4ecfd8),{'success':!0x1};}}[a0_0x42e86b(0x548)](_0x274b4a,_0x31811e){const _0x4ce901=a0_0x42e86b;let _0x37f663=_0x588ad3=>{const _0x349ee1=a0_0x3fb2;let _0x336326=_0x588ad3['replace'](/[^0-9.,-]/g,'')[_0x349ee1(0x600)](',','.'),_0x5e7727=parseFloat(_0x336326);return isNaN(_0x5e7727)?null:_0x5e7727;},_0x39767e=_0x31811e['firstValue'],_0x51c21b=_0x31811e[_0x4ce901(0x2be)];typeof _0x39767e=='string'&&(_0x39767e=this[_0x4ce901(0x4b0)](_0x39767e,_0x274b4a['chatLog'][_0x4ce901(0x49f)])??''),typeof _0x51c21b==_0x4ce901(0x909)&&(_0x51c21b=this[_0x4ce901(0x4b0)](_0x51c21b,_0x274b4a[_0x4ce901(0x3ae)]['realVariables'])??'');let _0xef54ea=null;if(!_0x31811e['editOperator'])return null;switch(this[_0x4ce901(0x7a6)]['verbose'](this['instanceName']+'\x20('+this[_0x4ce901(0x82c)][_0x4ce901(0x568)]+_0x4ce901(0x567)+_0x39767e),this[_0x4ce901(0x7a6)][_0x4ce901(0x3f4)](this['instanceName']+'\x20('+this[_0x4ce901(0x82c)][_0x4ce901(0x568)]+_0x4ce901(0x7c7)+_0x51c21b),_0x31811e[_0x4ce901(0x486)]){case'+':case'-':case'*':case'/':let _0x4d5456=_0x37f663(_0x39767e||'0'),_0x3aa355=_0x37f663(_0x51c21b||'0');if(_0x4d5456===null)return null;switch(_0x31811e[_0x4ce901(0x486)]){case'+':_0xef54ea=_0x4d5456+(_0x3aa355??0x0);break;case'-':_0xef54ea=_0x4d5456-(_0x3aa355??0x0);break;case'*':_0xef54ea=_0x4d5456*(_0x3aa355??0x1);break;case'/':_0x3aa355!==0x0&&(_0xef54ea=_0x4d5456/(_0x3aa355??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x8331a9=_0x51c21b,_0x5c2b8c=_0x31811e[_0x4ce901(0x35f)];if(typeof _0x5c2b8c==_0x4ce901(0x909)&&(_0x5c2b8c=this['replaceVariables'](_0x5c2b8c,_0x274b4a['chatLog'][_0x4ce901(0x49f)])??''),_0x8331a9&&_0x5c2b8c!==void 0x0){let _0x3e85fe=_0x31811e[_0x4ce901(0x486)]==='findAndReplace'?new RegExp(_0x8331a9[_0x4ce901(0x600)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x8331a9,'g');_0xef54ea=_0x39767e[_0x4ce901(0x600)](_0x3e85fe,_0x5c2b8c);}else console[_0x4ce901(0x275)](_0x4ce901(0x6d9));break;case _0x4ce901(0x2fb):_0xef54ea=_0x51c21b;break;case _0x4ce901(0x796):let _0x3d9c38=_0x39767e[_0x4ce901(0x685)](new RegExp(_0x51c21b||''));_0xef54ea=_0x3d9c38?_0x3d9c38[0x0]:'';break;case _0x4ce901(0x2eb):_0xef54ea=_0x39767e[_0x4ce901(0x241)](0x0,parseInt(_0x51c21b||'0'));break;case _0x4ce901(0x33d):let _0x3bfc35=parseInt(_0x51c21b||'0');_0xef54ea=_0x39767e[_0x4ce901(0x241)](_0x39767e[_0x4ce901(0x40e)]-_0x3bfc35);break;case _0x4ce901(0x841):let _0x38bb94=_0x37f663(_0x39767e),_0x38fdef=parseInt(_0x51c21b||'0');_0x38fdef=Math['abs'](_0x38fdef),_0x38bb94!==null?_0xef54ea=_0x38bb94[_0x4ce901(0x84b)](_0x4ce901(0x886),{'minimumFractionDigits':_0x38fdef,'maximumFractionDigits':_0x38fdef}):(console[_0x4ce901(0x275)](_0x4ce901(0x6e2)+_0x39767e),_0xef54ea=null);break;case _0x4ce901(0x63a):let _0x1883d8=_0x37f663(_0x39767e);_0x1883d8!==null?_0xef54ea=_0x1883d8['toLocaleString'](_0x4ce901(0x886),{'style':'currency','currency':'BRL'}):(console[_0x4ce901(0x275)](_0x4ce901(0x4ee)+_0x39767e),_0xef54ea=null);break;case _0x4ce901(0x2a4):_0xef54ea=_0x39767e[_0x4ce901(0x70d)]();break;case _0x4ce901(0x347):_0xef54ea=_0x39767e['toLowerCase']();break;case'capitalizedWords':_0xef54ea=_0x39767e[_0x4ce901(0x8a3)]('\x20')[_0x4ce901(0x57c)](_0x255238=>_0x255238['charAt'](0x0)['toUpperCase']()+_0x255238[_0x4ce901(0x241)](0x1)[_0x4ce901(0x8e2)]())[_0x4ce901(0x468)]('\x20');break;case _0x4ce901(0x2ec):_0xef54ea=_0x39767e[_0x4ce901(0x3e6)]();break;default:_0xef54ea=_0x39767e;}return _0xef54ea!==null?_0xef54ea['toString']():null;}async[a0_0x42e86b(0x3b4)](_0x4a6f53,_0x1d01fa){const _0x29b231=a0_0x42e86b;try{let _0x3f9f90=_0x4a6f53['varedits']?.[_0x29b231(0x496)](_0x5b5f81=>_0x5b5f81[_0x29b231(0x592)]===_0x1d01fa[_0x29b231(0x287)]?.['toString']())||[],_0x54cee4=_0x1d01fa['saveVariable'],_0x33e465=null,_0x10e0d2=[],_0x55dfe2=_0x4a6f53['chatLog'][_0x29b231(0x49f)][_0x54cee4];_0x10e0d2[_0x29b231(0x234)](_0x29b231(0x8ac)+_0x55dfe2+'\x22');for(let _0x265da7 of _0x3f9f90){_0x265da7[_0x29b231(0x22a)]=_0x55dfe2,_0x33e465=_0x265da7[_0x29b231(0x22a)];let _0x15797a;try{_0x15797a=this[_0x29b231(0x548)](_0x4a6f53,_0x265da7);}catch(_0x5d705f){console['error']((0x0,g[_0x29b231(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+_0x29b231(0x694)+_0x5d705f[_0x29b231(0x64b)]);continue;}if(_0x15797a!==null){let _0x2fa6b9=_0x29b231(0x5ec)+_0x265da7[_0x29b231(0x486)]+'\x22',_0x3fef68=[_0x29b231(0x63a),_0x29b231(0x2a4),_0x29b231(0x347),_0x29b231(0x4db),'trimmed'];_0x265da7[_0x29b231(0x486)]===_0x29b231(0x62a)||_0x265da7[_0x29b231(0x486)]===_0x29b231(0x59b)?_0x2fa6b9+=_0x29b231(0x238)+_0x265da7[_0x29b231(0x2be)]+_0x29b231(0x505)+_0x265da7[_0x29b231(0x35f)]+'\x22':!_0x3fef68[_0x29b231(0x8d2)](_0x265da7[_0x29b231(0x486)])&&_0x265da7['secondValue']!==null&&_0x265da7[_0x29b231(0x2be)]!==void 0x0&&(_0x2fa6b9+=_0x29b231(0x7d9)+_0x265da7['secondValue']+'\x22'),_0x2fa6b9+=_0x29b231(0x332)+_0x15797a+'.',_0x10e0d2[_0x29b231(0x234)](_0x2fa6b9);}_0x15797a!==null&&(_0x55dfe2=_0x15797a);}if(_0x4a6f53[_0x29b231(0x3ae)]['realVariables']&&_0x1d01fa[_0x29b231(0x279)]){_0x4a6f53[_0x29b231(0x3ae)][_0x29b231(0x49f)][_0x1d01fa['saveVariable']]=_0x55dfe2;let _0x561400={'variable':_0x1d01fa['saveVariable'],'oldValue':_0x33e465,'newValue':_0x55dfe2,'moreLogs':_0x10e0d2};try{this[_0x29b231(0x49a)](_0x4a6f53,_0x1d01fa,_0x561400);}catch(_0x537875){console[_0x29b231(0x690)]((0x0,g[_0x29b231(0x5d8)])()['format'](_0x29b231(0x6e1))+':\x20Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x537875[_0x29b231(0x64b)]);}}return _0x54cee4;}catch(_0x35a819){return console[_0x29b231(0x690)]((0x0,g['default'])()['format'](_0x29b231(0x6e1))+_0x29b231(0x244)+_0x35a819['message']),null;}}async[a0_0x42e86b(0x366)](_0x49ab10,_0x186889){const _0x1e81e3=a0_0x42e86b;try{let _0x456783=[],_0x2707ef=_0x49ab10['conditions'][_0x1e81e3(0x496)](_0x4c2245=>_0x4c2245[_0x1e81e3(0x592)]===_0x186889['_id'][_0x1e81e3(0x53e)]()),_0x764cad=null,_0x6f48a8=!0x1;for(let _0x2e05cc of _0x2707ef){let _0x21a93c=this['evaluateCondition'](_0x49ab10,_0x2e05cc);_0x456783['push']('Primeiro\x20Valor:\x20'+_0x2e05cc[_0x1e81e3(0x22a)]+_0x1e81e3(0x8e9)+_0x2e05cc[_0x1e81e3(0x3b0)]+_0x1e81e3(0x2cf)+_0x2e05cc['secondValue']+_0x1e81e3(0x379)+_0x21a93c),_0x764cad===null?_0x764cad=_0x21a93c:_0x2e05cc['OrAnd']==='and'?(_0x764cad=_0x764cad&&_0x21a93c,_0x21a93c||(_0x6f48a8=!0x0)):_0x2e05cc[_0x1e81e3(0x700)]==='or'&&(_0x6f48a8||(_0x764cad=_0x764cad||_0x21a93c));}_0x764cad===null&&(_0x764cad=!0x0);let _0x41942d={'moreLogs':_0x456783};_0x49ab10[_0x1e81e3(0x3ae)][_0x1e81e3(0x54b)]=_0x764cad,await this[_0x1e81e3(0x49a)](_0x49ab10,_0x186889,_0x41942d);}catch(_0x5ae1e9){console[_0x1e81e3(0x690)](this[_0x1e81e3(0x2c9)]+'\x20('+this[_0x1e81e3(0x82c)]['wuid']+_0x1e81e3(0x8cf)+(_0x5ae1e9 instanceof Error?_0x5ae1e9[_0x1e81e3(0x64b)]:JSON[_0x1e81e3(0x5b1)](_0x5ae1e9,null,0x2)));}}[a0_0x42e86b(0x3d1)](_0x48bcd0,_0x2bd834){const _0x13a551=a0_0x42e86b;let _0x4f4346=_0x2bd834[_0x13a551(0x22a)],_0x15bc8e=_0x2bd834[_0x13a551(0x2be)];typeof _0x4f4346=='string'&&(_0x4f4346=this[_0x13a551(0x4b0)](_0x4f4346,_0x48bcd0['chatLog'][_0x13a551(0x49f)])??''),typeof _0x15bc8e==_0x13a551(0x909)&&(_0x15bc8e=this['replaceVariables'](_0x15bc8e,_0x48bcd0[_0x13a551(0x3ae)]['realVariables'])??'');try{switch(_0x2bd834[_0x13a551(0x3b0)]){case'equal':return _0x4f4346===_0x15bc8e;case _0x13a551(0x338):return _0x4f4346!==_0x15bc8e;case _0x13a551(0x5d5):return this[_0x13a551(0x5d5)](_0x4f4346,_0x15bc8e);case _0x13a551(0x8b8):return!this[_0x13a551(0x5d5)](_0x4f4346,_0x15bc8e);case _0x13a551(0x87d):return parseFloat(_0x4f4346)>parseFloat(_0x15bc8e);case'less':return parseFloat(_0x4f4346)<parseFloat(_0x15bc8e);case'notEmpty':return _0x4f4346!=='';case _0x13a551(0x8e5):return _0x4f4346==='';case _0x13a551(0x52a):return new RegExp(_0x15bc8e)[_0x13a551(0x59c)](_0x4f4346);case'notMatchRegex':return!new RegExp(_0x15bc8e)[_0x13a551(0x59c)](_0x4f4346);default:return!0x1;}}catch(_0x3ab874){return console[_0x13a551(0x690)]((0x0,g[_0x13a551(0x5d8)])()[_0x13a551(0x63e)](_0x13a551(0x6e1))+':\x20Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x3ab874),!0x1;}}[a0_0x42e86b(0x5d5)](_0x5b2ec5,_0x3124b3){const _0x1c5711=a0_0x42e86b;if(_0x5b2ec5===_0x3124b3&&/^\d+$/['test'](_0x5b2ec5))return!0x0;if(this['isListOfNumbers'](_0x5b2ec5)&&/^\d+$/['test'](_0x3124b3)){let _0x19ecc5=_0x5b2ec5['split'](',')[_0x1c5711(0x57c)](_0x158006=>parseInt(_0x158006[_0x1c5711(0x3e6)]())),_0x1760b7=parseInt(_0x3124b3);return _0x19ecc5[_0x1c5711(0x8d2)](_0x1760b7);}return _0x5b2ec5['includes'](_0x3124b3);}[a0_0x42e86b(0x293)](_0x4dc203){const _0x15b3ad=a0_0x42e86b;return/^\d+(,\d+)*$/[_0x15b3ad(0x59c)](_0x4dc203);}[a0_0x42e86b(0x352)](_0x401d20){const _0x40b5fe=a0_0x42e86b;let _0x4a9cff=!0x0,_0x23abb4=null;for(let _0x3ff67f of _0x401d20){let _0x3b9c40=this[_0x40b5fe(0x2d8)](_0x3ff67f);if(_0x23abb4==='or'&&_0x3b9c40){_0x4a9cff=!0x0;break;}if(_0x23abb4===_0x40b5fe(0x7bf)&&!_0x3b9c40){_0x4a9cff=!0x1;break;}_0x23abb4=_0x3ff67f[_0x40b5fe(0x700)];}return _0x4a9cff;}[a0_0x42e86b(0x2d8)](_0x55364f){const _0x2d6cb9=a0_0x42e86b;let _0x3e37b2=_0x55364f['firstValue'],_0x5c9d5e=_0x55364f['secondValue'];try{switch(_0x55364f['expression']){case _0x2d6cb9(0x42f):return String(_0x3e37b2)===String(_0x5c9d5e);case _0x2d6cb9(0x338):return String(_0x3e37b2)!==String(_0x5c9d5e);case _0x2d6cb9(0x5d5):return String(_0x3e37b2)[_0x2d6cb9(0x8d2)](String(_0x5c9d5e));case _0x2d6cb9(0x8b8):return!String(_0x3e37b2)['includes'](String(_0x5c9d5e));case'greater':return parseFloat(String(_0x3e37b2))>parseFloat(String(_0x5c9d5e));case _0x2d6cb9(0x794):return parseFloat(String(_0x3e37b2))<parseFloat(String(_0x5c9d5e));case _0x2d6cb9(0x7dc):return String(_0x3e37b2)!=='';case _0x2d6cb9(0x8e5):return String(_0x3e37b2)==='';case _0x2d6cb9(0x52a):return new RegExp(String(_0x5c9d5e))[_0x2d6cb9(0x59c)](String(_0x3e37b2));case _0x2d6cb9(0x658):return!new RegExp(String(_0x5c9d5e))[_0x2d6cb9(0x59c)](String(_0x3e37b2));default:return!0x1;}}catch(_0x563b30){return console[_0x2d6cb9(0x690)]((0x0,g['default'])()['format']('DD/MM\x20HH:mm:ss')+':\x20Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x563b30),!0x1;}}async['saveTextReply'](_0x5da26d,_0x5bf112){const _0x2b7dff=a0_0x42e86b;if(this[_0x2b7dff(0x7a6)][_0x2b7dff(0x3f4)](this[_0x2b7dff(0x2c9)]+'\x20('+this['instance']['wuid']+_0x2b7dff(0x766)),!_0x5da26d||!_0x5bf112)return console[_0x2b7dff(0x690)]((0x0,g['default'])()[_0x2b7dff(0x63e)](_0x2b7dff(0x6e1))+':\x20'+this[_0x2b7dff(0x2c9)]+'\x20('+this[_0x2b7dff(0x82c)][_0x2b7dff(0x568)]+_0x2b7dff(0x83a)),null;let _0x2a788f=_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x466)][_0x2b7dff(0x57a)]['id'];this['logger'][_0x2b7dff(0x3f4)](this[_0x2b7dff(0x2c9)]+'\x20('+this['instance']['wuid']+_0x2b7dff(0x8eb)+_0x2a788f);let _0x57ac9={'key':{'id':_0x2a788f}},_0x34088c=_0x5bf112[_0x2b7dff(0x279)];_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)]['_'+_0x34088c+_0x2b7dff(0x77c)]=null,_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)]['_'+_0x34088c+_0x2b7dff(0x59f)]=null,_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)]['_'+_0x34088c+_0x2b7dff(0x438)]=null,_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)]['_'+_0x34088c+_0x2b7dff(0x761)]=_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x466)][_0x2b7dff(0x762)];try{let _0x430c57=await this[_0x2b7dff(0x529)](_0x57ac9);this[_0x2b7dff(0x7a6)]['verbose'](this[_0x2b7dff(0x2c9)]+'\x20('+this[_0x2b7dff(0x82c)][_0x2b7dff(0x568)]+_0x2b7dff(0x4ed)),_0x5da26d[_0x2b7dff(0x3ae)]['realVariables']['_'+_0x34088c+_0x2b7dff(0x704)]=_0x430c57[_0x2b7dff(0x335)],_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)]['_'+_0x34088c+_0x2b7dff(0x59f)]=_0x430c57[_0x2b7dff(0x3f3)];let _0xceac4c=_0x430c57[_0x2b7dff(0x3f3)]['match'](/\/(\w+)$/),_0x5a9dce=_0xceac4c?_0xceac4c[0x1]:null;_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)]['_'+_0x34088c+_0x2b7dff(0x438)]=_0x5a9dce,this[_0x2b7dff(0x7a6)][_0x2b7dff(0x3f4)](this['instanceName']+'\x20('+this[_0x2b7dff(0x82c)]['wuid']+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x34088c+'\x27.');}catch(_0x124283){console['error']((0x0,g[_0x2b7dff(0x5d8)])()[_0x2b7dff(0x63e)](_0x2b7dff(0x6e1))+':\x20'+this[_0x2b7dff(0x2c9)]+'\x20('+this[_0x2b7dff(0x82c)][_0x2b7dff(0x568)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x124283[_0x2b7dff(0x64b)]);}let _0x2ae590=_0x5da26d[_0x2b7dff(0x3ae)]['lastReceivedMessage'][_0x2b7dff(0x411)]||_0x5da26d['chatLog']['lastReceivedMessage']['caption']||_0x5da26d['chatLog']['lastReceivedMessage'][_0x2b7dff(0x3f0)];try{_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)]||(_0x5da26d['chatLog'][_0x2b7dff(0x49f)]={});let _0x1a7585=_0x5da26d['chatLog'][_0x2b7dff(0x49f)][_0x34088c];_0x5da26d[_0x2b7dff(0x3ae)][_0x2b7dff(0x49f)][_0x34088c]=_0x2ae590;let _0x14d82a={'variable':_0x34088c,'oldValue':_0x1a7585,'newValue':_0x2ae590};this[_0x2b7dff(0x49a)](_0x5da26d,_0x5bf112,_0x14d82a),this[_0x2b7dff(0x7a6)][_0x2b7dff(0x3f4)](this['instanceName']+'\x20('+this['instance'][_0x2b7dff(0x568)]+_0x2b7dff(0x596));}catch(_0x2673b1){let _0x4da8d8={'error':!0x0,'errorLog':_0x2673b1['toString']()};return this[_0x2b7dff(0x49a)](_0x5da26d,_0x5bf112,_0x4da8d8),console[_0x2b7dff(0x690)](this['instanceName']+'\x20('+this[_0x2b7dff(0x82c)][_0x2b7dff(0x568)]+_0x2b7dff(0x4a0)+(_0x2673b1 instanceof Error?_0x2673b1[_0x2b7dff(0x64b)]:JSON[_0x2b7dff(0x5b1)](_0x2673b1,null,0x2))),null;}}async[a0_0x42e86b(0x25f)](_0x21df9a,_0x384519){const _0x22a69e=a0_0x42e86b;if(this[_0x22a69e(0x7a6)][_0x22a69e(0x3f4)](this['instanceName']+'\x20('+this[_0x22a69e(0x82c)][_0x22a69e(0x568)]+_0x22a69e(0x87f)),!_0x21df9a||!_0x384519)return console[_0x22a69e(0x690)]((0x0,g[_0x22a69e(0x5d8)])()[_0x22a69e(0x63e)](_0x22a69e(0x6e1))+':\x20'+this[_0x22a69e(0x2c9)]+'\x20('+this[_0x22a69e(0x82c)][_0x22a69e(0x568)]+_0x22a69e(0x83a)),null;let _0x2f5996=Date['now'](),_0x420982=parseInt(_0x384519[_0x22a69e(0x569)],0xa);if(isNaN(_0x420982))return console['error']((0x0,g[_0x22a69e(0x5d8)])()[_0x22a69e(0x63e)](_0x22a69e(0x6e1))+':\x20'+this[_0x22a69e(0x2c9)]+'\x20('+this['instance'][_0x22a69e(0x568)]+_0x22a69e(0x661)),null;let _0x46131c={'newStoppedUntil':_0x2f5996+_0x420982*0x3c*0x3e8};return await this[_0x22a69e(0x49a)](_0x21df9a,_0x384519,_0x46131c,!0x0),null;}async[a0_0x42e86b(0x527)](_0x4903bc,_0x27ab2a){const _0x501f5b=a0_0x42e86b;try{switch(_0x27ab2a[_0x501f5b(0x8a4)][_0x501f5b(0x326)]){case _0x501f5b(0x510):await this[_0x501f5b(0x5a8)](_0x4903bc,_0x27ab2a);break;case _0x501f5b(0x5aa):await this[_0x501f5b(0x26e)](_0x4903bc,_0x27ab2a);break;case _0x501f5b(0x81a):await this[_0x501f5b(0x5de)](_0x4903bc,_0x27ab2a);break;case _0x501f5b(0x493):await this['uazapiSendAudio'](_0x4903bc,_0x27ab2a);break;case _0x501f5b(0x589):await this['uazapiSendContact'](_0x4903bc,_0x27ab2a);break;case _0x501f5b(0x6f2):await this[_0x501f5b(0x7df)](_0x4903bc,_0x27ab2a);break;case'sendMenu':await this[_0x501f5b(0x7df)](_0x4903bc,_0x27ab2a);break;case _0x501f5b(0x2a6):await this[_0x501f5b(0x5e2)](_0x4903bc,_0x27ab2a);break;default:console['error']((0x0,g[_0x501f5b(0x5d8)])()[_0x501f5b(0x63e)](_0x501f5b(0x6e1))+':\x20'+this[_0x501f5b(0x2c9)]+'\x20('+this[_0x501f5b(0x82c)][_0x501f5b(0x568)]+_0x501f5b(0x230)+_0x27ab2a[_0x501f5b(0x8a4)]['command']);}}catch(_0x42d694){console[_0x501f5b(0x690)](this[_0x501f5b(0x2c9)]+'\x20('+this['instance'][_0x501f5b(0x568)]+_0x501f5b(0x891)+(_0x42d694 instanceof Error?_0x42d694[_0x501f5b(0x64b)]:JSON[_0x501f5b(0x5b1)](_0x42d694,null,0x2)));}}async[a0_0x42e86b(0x49a)](_0x285b00,_0x533f76,_0x20d7dc,_0x556589=!0x1,_0x52d258=!0x1){const _0x49317c=a0_0x42e86b;_0x285b00['chatLog'][_0x49317c(0x414)]||(_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x414)]=[]);let _0x46857b=(_0x285b00['chatLog'][_0x49317c(0x414)]?.[_0x49317c(0x40e)]??0x0)+0x1,_0x164dc4=_0x285b00['chatLog'][_0x49317c(0x414)][_0x49317c(0x496)](_0x54f343=>String(_0x54f343[_0x49317c(0x592)])===String(_0x533f76['_id']))[_0x49317c(0x40e)]+0x1,_0x307a17=_0x20d7dc?.[_0x49317c(0x5a4)]??Date[_0x49317c(0x51c)](),_0x5ad0c5=_0x20d7dc?.[_0x49317c(0x690)]?_0x20d7dc[_0x49317c(0x2ad)]??_0x20d7dc['error'][_0x49317c(0x53e)]():void 0x0,_0x3168c1={'onTime':_0x307a17,'blockId':_0x533f76['_id'],'order':_0x46857b,'activatedCount':_0x164dc4,'error':_0x20d7dc?.[_0x49317c(0x690)]??!0x1,'messageId':_0x20d7dc?.[_0x49317c(0x2e7)],'apiResponse':_0x20d7dc?.['apiResponse'],'apiResponseString':_0x20d7dc?.[_0x49317c(0x227)]?JSON['stringify'](_0x20d7dc?.[_0x49317c(0x227)]):void 0x0,'variable':_0x20d7dc?.[_0x49317c(0x484)],'oldValue':_0x20d7dc?.[_0x49317c(0x28a)],'newValue':_0x20d7dc?.[_0x49317c(0x7f7)],'newStoppedUntil':_0x20d7dc?.[_0x49317c(0x74f)],'moreLogs':_0x20d7dc?.[_0x49317c(0x579)],'errorLog':_0x5ad0c5};if(_0x20d7dc[_0x49317c(0x579)]&&_0x20d7dc[_0x49317c(0x579)][_0x49317c(0x40e)]>0x0){let _0x125b15=_0x20d7dc[_0x49317c(0x579)]['map'](_0x101d75=>this[_0x49317c(0x839)](_0x101d75,_0x285b00['chatLog'][_0x49317c(0x49f)]));_0x3168c1[_0x49317c(0x579)]=_0x125b15;}if(_0x285b00[_0x49317c(0x3ae)]['realVariables']||(_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x49f)]={}),_0x285b00[_0x49317c(0x3ae)]['realVariables'][_0x49317c(0x3db)]=String(_0x164dc4),_0x285b00['chatLog'][_0x49317c(0x49f)][_0x49317c(0x4a1)]=String(_0x20d7dc[_0x49317c(0x690)]??!0x1),_0x285b00[_0x49317c(0x3ae)]['blockLogs']['push'](_0x3168c1),_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x49f)][_0x49317c(0x8f9)]&&_0x285b00[_0x49317c(0x3ae)]['realVariables'][_0x49317c(0x8f9)]!==_0x285b00[_0x49317c(0x3a3)]){let _0x4dd90d=(await this[_0x49317c(0x601)]({'numbers':[_0x285b00['chatLog']['realVariables'][_0x49317c(0x8f9)]]}))[0x0][_0x49317c(0x67e)];_0x285b00[_0x49317c(0x3ae)]['realVariables'][_0x49317c(0x8f9)]=_0x4dd90d,_0x285b00[_0x49317c(0x3a3)]=_0x4dd90d;try{let _0x48ddaa={'_id':{'$ne':_0x285b00[_0x49317c(0x287)]},'remoteJid':_0x4dd90d,'status':_0x49317c(0x7a1)},_0x5b6a2e={'status':_0x49317c(0x7e7)};await this['repository'][_0x49317c(0x2e9)][_0x49317c(0x21b)](_0x48ddaa,_0x5b6a2e,this[_0x49317c(0x82c)]['wuid']),this[_0x49317c(0x7a6)][_0x49317c(0x3f4)](this['instanceName']+'\x20('+this['instance'][_0x49317c(0x568)]+_0x49317c(0x45a));}catch(_0x456696){console[_0x49317c(0x690)]((0x0,g[_0x49317c(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x49317c(0x2c9)]+'\x20('+this[_0x49317c(0x82c)][_0x49317c(0x568)]+_0x49317c(0x2bd)+_0x456696[_0x49317c(0x64b)]);}try{let _0x546918=_0x285b00['chatLog']['realVariables'],_0x232a92=await this[_0x49317c(0x4bf)](_0x4dd90d),_0x195971={..._0x546918,..._0x232a92,'_remoteJid':_0x4dd90d};_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x49f)]=_0x195971;}catch(_0x331987){console['error']((0x0,g[_0x49317c(0x5d8)])()[_0x49317c(0x63e)](_0x49317c(0x6e1))+':\x20'+this[_0x49317c(0x2c9)]+'\x20('+this[_0x49317c(0x82c)][_0x49317c(0x568)]+_0x49317c(0x862)+_0x331987[_0x49317c(0x64b)]);}}_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x34a)]=_0x533f76[_0x49317c(0x287)][_0x49317c(0x53e)](),_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x3b3)]&&(_0x285b00['chatLog'][_0x49317c(0x3b3)]=_0x285b00['chatLog'][_0x49317c(0x3b3)]),_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x466)]&&(_0x285b00['chatLog'][_0x49317c(0x466)]=_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x466)]),_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x54b)]&&(_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x54b)]=_0x285b00[_0x49317c(0x3ae)][_0x49317c(0x54b)]),_0x52d258&&(_0x285b00[_0x49317c(0x454)]='closed'),_0x556589?this[_0x49317c(0x687)](_0x285b00):this[_0x49317c(0x407)](_0x285b00,_0x533f76);}['replaceVariablesLogs'](_0x323e0f,_0x54f080){const _0x23a508=a0_0x42e86b;return _0x323e0f['replace'](/\{\{([^}]+)\}\}/g,(_0x30a90b,_0x589b2b)=>_0x54f080[_0x589b2b]?'{{'+_0x589b2b+_0x23a508(0x2c5)+_0x54f080[_0x589b2b]+'\x22':'{{'+_0x589b2b+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x42e86b(0x687)](_0x1a4c96){const _0x15dadd=a0_0x42e86b;try{let _0x44ceaf=Object['entries'](_0x1a4c96[_0x15dadd(0x3ae)]['realVariables'])[_0x15dadd(0x57c)](([_0x374dc1,_0x2439e9])=>({'name':_0x374dc1,'value':_0x2439e9})),_0x5bfbef={'status':_0x1a4c96[_0x15dadd(0x454)],'remoteJid':_0x1a4c96['remoteJid'],'blocks':_0x1a4c96[_0x15dadd(0x6b9)],'waitingMenu_id':_0x1a4c96[_0x15dadd(0x8c5)],'waitingMenu_text':_0x1a4c96[_0x15dadd(0x872)],'waitingMenu_replyOptions':_0x1a4c96[_0x15dadd(0x56e)],'chatLog':{'lastBlockId':_0x1a4c96[_0x15dadd(0x3ae)][_0x15dadd(0x34a)],'lastSendMessage':_0x1a4c96['chatLog'][_0x15dadd(0x3b3)],'lastReceivedMessage':_0x1a4c96[_0x15dadd(0x3ae)]['lastReceivedMessage'],'lastCondition':_0x1a4c96[_0x15dadd(0x3ae)][_0x15dadd(0x54b)],'chatVariables':_0x44ceaf,'realVariables':_0x1a4c96['chatLog'][_0x15dadd(0x49f)],'blockLogs':_0x1a4c96[_0x15dadd(0x3ae)][_0x15dadd(0x414)]}},_0x376fc2=await this[_0x15dadd(0x400)][_0x15dadd(0x2e9)][_0x15dadd(0x5a3)](_0x1a4c96[_0x15dadd(0x287)],_0x5bfbef,this['instance'][_0x15dadd(0x568)]);if(_0x376fc2){this['logger'][_0x15dadd(0x3f4)](this[_0x15dadd(0x2c9)]+'\x20('+this[_0x15dadd(0x82c)][_0x15dadd(0x568)]+_0x15dadd(0x758)+_0x376fc2[_0x15dadd(0x287)]);try{let _0x25be62=[_0x15dadd(0x668),_0x15dadd(0x46a),_0x15dadd(0x5ee),_0x15dadd(0x380),_0x15dadd(0x454),_0x15dadd(0x88b),_0x15dadd(0x452),'tags',_0x15dadd(0x518),'atendimentoAberto'];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x15dadd(0x3cb)]))throw new Error(_0x15dadd(0x670));let _0xaadc35=this[_0x15dadd(0x3cb)]?.[_0x15dadd(0x76c)][_0x15dadd(0x57c)](_0x398b1d=>_0x398b1d[_0x15dadd(0x2ea)]),_0x317a54={};Object[_0x15dadd(0x22f)](_0x1a4c96[_0x15dadd(0x3ae)][_0x15dadd(0x49f)])[_0x15dadd(0x4ac)](([_0x4f2756,_0xdec07])=>{const _0x16d653=_0x15dadd;_0x25be62[_0x16d653(0x8d2)](_0x4f2756)&&(_0x4f2756===_0x16d653(0x471)&&typeof _0xdec07==_0x16d653(0x909)?_0x317a54[_0x4f2756]=_0xdec07[_0x16d653(0x8a3)](',')[_0x16d653(0x57c)](_0x365678=>_0x365678[_0x16d653(0x3e6)]())[_0x16d653(0x496)](_0x37d95d=>_0x37d95d!==''):_0x4f2756===_0x16d653(0x518)&&typeof _0xdec07==_0x16d653(0x909)?_0x317a54[_0x4f2756]=_0xdec07['split'](',')[_0x16d653(0x57c)](_0x48aff1=>_0x48aff1['trim']())[_0x16d653(0x496)](_0x23e597=>_0x23e597!==''):_0x317a54[_0x4f2756]=_0xdec07);});let _0x3a3fc0=_0x1a4c96[_0x15dadd(0x3ae)]['blockLogs'][_0x1a4c96['chatLog'][_0x15dadd(0x414)][_0x15dadd(0x40e)]-0x1];if(_0x3a3fc0){let _0x27c420=_0x3a3fc0[_0x15dadd(0x74f)];_0x27c420!==void 0x0&&(_0x317a54['desativadoFluxoAte']=_0x27c420[_0x15dadd(0x53e)]());}let _0x21ab19=_0x44ceaf['filter'](_0x1cd3cf=>_0xaadc35['includes'](_0x1cd3cf[_0x15dadd(0x2ea)]));this[_0x15dadd(0x7a6)][_0x15dadd(0x3f4)](this[_0x15dadd(0x2c9)]+'\x20('+this[_0x15dadd(0x82c)][_0x15dadd(0x568)]+_0x15dadd(0x6cc)),this[_0x15dadd(0x7a6)][_0x15dadd(0x3f4)](_0x317a54),this[_0x15dadd(0x7a6)][_0x15dadd(0x3f4)](this[_0x15dadd(0x2c9)]+'\x20('+this[_0x15dadd(0x82c)][_0x15dadd(0x568)]+_0x15dadd(0x482)),this['logger'][_0x15dadd(0x3f4)](_0x21ab19);let _0x113259=_0x21ab19[_0x15dadd(0x57c)](_0x48d134=>{const _0x21f32b=_0x15dadd;let _0x59cce2=this[_0x21f32b(0x3cb)]?.[_0x21f32b(0x76c)]['find'](_0x118716=>_0x118716[_0x21f32b(0x2ea)]===_0x48d134[_0x21f32b(0x2ea)]);if(!_0x59cce2)throw new Error(_0x21f32b(0x679)+_0x48d134[_0x21f32b(0x2ea)]);return{'_id':_0x59cce2[_0x21f32b(0x287)],'value':_0x48d134[_0x21f32b(0x62f)]};});this[_0x15dadd(0x7a6)][_0x15dadd(0x3f4)](this[_0x15dadd(0x2c9)]+'\x20('+this[_0x15dadd(0x82c)][_0x15dadd(0x568)]+'):\x20transformedCustomFieldVariables'),this['logger']['verbose'](_0x113259),await this[_0x15dadd(0x760)](_0x1a4c96[_0x15dadd(0x3a3)],_0x317a54,_0x113259);}catch(_0x5e8796){console['error'](this[_0x15dadd(0x2c9)]+'\x20('+this[_0x15dadd(0x82c)][_0x15dadd(0x568)]+_0x15dadd(0x863)+(_0x5e8796 instanceof Error?_0x5e8796[_0x15dadd(0x64b)]:JSON['stringify'](_0x5e8796,null,0x2)));}}else console[_0x15dadd(0x690)]((0x0,g[_0x15dadd(0x5d8)])()[_0x15dadd(0x63e)](_0x15dadd(0x6e1))+':\x20'+this[_0x15dadd(0x2c9)]+'\x20('+this['instance']['wuid']+_0x15dadd(0x363));}catch(_0x25d27d){console[_0x15dadd(0x690)](this[_0x15dadd(0x2c9)]+'\x20('+this[_0x15dadd(0x82c)][_0x15dadd(0x568)]+_0x15dadd(0x38f)+(_0x25d27d instanceof Error?_0x25d27d[_0x15dadd(0x64b)]:JSON['stringify'](_0x25d27d,null,0x2)));}}async['saveChatVariables'](_0x7ca59c,_0x960089,_0x450ef9){const _0x42c6cf=a0_0x42e86b;try{let _0x1186b8={'leadInfo.leadnome':_0x960089[_0x42c6cf(0x668)],'leadInfo.nomecompleto':_0x960089[_0x42c6cf(0x46a)],'leadInfo.email':_0x960089[_0x42c6cf(0x5ee)],'leadInfo.cpf':_0x960089[_0x42c6cf(0x380)],'leadInfo.status':_0x960089[_0x42c6cf(0x454)],'leadInfo.notas':_0x960089[_0x42c6cf(0x88b)],'leadInfo.responsavelid':_0x960089[_0x42c6cf(0x452)],'leadInfo.tags':_0x960089[_0x42c6cf(0x471)],'leadInfo.etiquetas':_0x960089[_0x42c6cf(0x518)],'leadInfo.customFields':_0x450ef9,'leadInfo.atendimentoAberto':_0x960089[_0x42c6cf(0x5fa)]},_0x287777=await this[_0x42c6cf(0x400)]['chat'][_0x42c6cf(0x551)]({'where':{'_id':_0x7ca59c}},this[_0x42c6cf(0x82c)]['wuid']);if(!_0x287777)return _0x42c6cf(0x4cb);let _0x4e4495=new Set(_0x287777[_0x42c6cf(0x49d)][_0x42c6cf(0x518)]||[]),_0x48808b=new Set(_0x960089[_0x42c6cf(0x518)]||[]),_0x4d5088=await this[_0x42c6cf(0x400)]['label'][_0x42c6cf(0x2a1)]({'where':{}},this['instance']['wuid']),_0x1ac4dc=new Set(_0x4d5088['map'](_0x818da1=>_0x818da1[_0x42c6cf(0x287)])),_0x51a85b=[..._0x48808b]['filter'](_0x3277a5=>!_0x4e4495[_0x42c6cf(0x63c)](_0x3277a5)&&_0x1ac4dc['has'](_0x3277a5)),_0x250a7c=[..._0x4e4495][_0x42c6cf(0x496)](_0x29b279=>!_0x48808b['has'](_0x29b279));for(let _0x258903 of _0x51a85b)await this['AddChatLabel'](_0x258903,_0x287777[_0x42c6cf(0x287)]),_0x4e4495['add'](_0x258903);for(let _0x19f21d of _0x250a7c)await this[_0x42c6cf(0x2d6)](_0x19f21d,_0x287777['_id']),_0x4e4495[_0x42c6cf(0x343)](_0x19f21d);if('desativadoFluxoAte'in _0x960089){let _0x3743f3=_0x960089[_0x42c6cf(0x749)];_0x1186b8[_0x42c6cf(0x5e8)]=_0x3743f3?Number(_0x3743f3):null;}if(_0x42c6cf(0x5fa)in _0x960089){let _0x13874b=_0x960089[_0x42c6cf(0x5fa)][_0x42c6cf(0x8e2)]();_0x1186b8[_0x42c6cf(0x46b)]=_0x13874b==='true'||_0x13874b==='1'||_0x13874b===_0x42c6cf(0x214)||_0x13874b==='sim';}let _0x57a33a=await this[_0x42c6cf(0x400)][_0x42c6cf(0x21e)][_0x42c6cf(0x5a3)]({'where':{'_id':_0x7ca59c}},_0x1186b8,this['instance']['wuid']);_0x57a33a?(this['logger'][_0x42c6cf(0x3f4)](this[_0x42c6cf(0x2c9)]+'\x20('+this['instance'][_0x42c6cf(0x568)]+_0x42c6cf(0x4d6)+_0x57a33a[_0x42c6cf(0x287)]),J(this[_0x42c6cf(0x2c9)],_0x42c6cf(0x3b7),{'chat':_0x57a33a})):console[_0x42c6cf(0x690)]((0x0,g[_0x42c6cf(0x5d8)])()[_0x42c6cf(0x63e)](_0x42c6cf(0x6e1))+':\x20'+this[_0x42c6cf(0x2c9)]+'\x20('+this[_0x42c6cf(0x82c)][_0x42c6cf(0x568)]+_0x42c6cf(0x83c));}catch(_0x224d5b){console[_0x42c6cf(0x690)](this[_0x42c6cf(0x2c9)]+'\x20('+this[_0x42c6cf(0x82c)][_0x42c6cf(0x568)]+_0x42c6cf(0x571)+(_0x224d5b instanceof Error?_0x224d5b[_0x42c6cf(0x64b)]:JSON[_0x42c6cf(0x5b1)](_0x224d5b,null,0x2)));}}async['updateStopChat'](_0x55187d,_0x42a93a){const _0x171d60=a0_0x42e86b;this[_0x171d60(0x7a6)]['verbose'](this['instanceName']+'\x20('+this[_0x171d60(0x82c)][_0x171d60(0x568)]+_0x171d60(0x5c7)+_0x42a93a);try{let _0xf24b78=await this[_0x171d60(0x400)][_0x171d60(0x21e)]['updateOne']({'where':{'_id':_0x55187d[_0x171d60(0x3a3)]}},{'leadInfo.desativadoFluxoAte':_0x42a93a},this['instance'][_0x171d60(0x568)]);this[_0x171d60(0x7a6)][_0x171d60(0x3f4)](this['instanceName']+'\x20('+this[_0x171d60(0x82c)]['wuid']+_0x171d60(0x30b)+_0x55187d[_0x171d60(0x287)]),this[_0x171d60(0x7a6)]['verbose'](this[_0x171d60(0x2c9)]+'\x20('+this['instance']['wuid']+_0x171d60(0x5c7)+JSON[_0x171d60(0x5b1)](_0xf24b78,null,0x2)),_0xf24b78&&J(this[_0x171d60(0x2c9)],'chats',{'chat':_0xf24b78});}catch(_0xaf5121){console[_0x171d60(0x690)](this[_0x171d60(0x2c9)]+'\x20('+this['instance']['wuid']+_0x171d60(0x6a4)+(_0xaf5121 instanceof Error?_0xaf5121[_0x171d60(0x64b)]:JSON[_0x171d60(0x5b1)](_0xaf5121,null,0x2)));}}async[a0_0x42e86b(0x79d)](_0x26108c){const _0x5597d7=a0_0x42e86b;try{this['logger'][_0x5597d7(0x3f4)](this[_0x5597d7(0x2c9)]+'\x20('+this[_0x5597d7(0x82c)][_0x5597d7(0x568)]+_0x5597d7(0x3dd));let _0x5594c3=_0x26108c[_0x5597d7(0x600)](/\D/g,''),_0x376672=this[_0x5597d7(0x3cb)][_0x5597d7(0x5b2)][_0x5597d7(0x2a1)](_0x32e6dd=>_0x32e6dd[_0x5597d7(0x619)]===_0x5594c3);if(_0x376672||(this[_0x5597d7(0x7a6)][_0x5597d7(0x3f4)](this[_0x5597d7(0x2c9)]+'\x20('+this[_0x5597d7(0x82c)][_0x5597d7(0x568)]+_0x5597d7(0x29f)),_0x376672=this[_0x5597d7(0x3cb)][_0x5597d7(0x5b2)]['find'](_0x2b1dc4=>_0x2b1dc4[_0x5597d7(0x5d8)]===!0x0)),!_0x376672)return this[_0x5597d7(0x7a6)][_0x5597d7(0x3f4)](this[_0x5597d7(0x2c9)]+'\x20('+this[_0x5597d7(0x82c)][_0x5597d7(0x568)]+_0x5597d7(0x7bc)),null;let _0x1ec2cc=await this[_0x5597d7(0x400)][_0x5597d7(0x3dc)]['findOne']({'where':{'_id':_0x376672['_id']}});if(!_0x1ec2cc||!_0x1ec2cc[_0x5597d7(0x82a)]?.[_0x5597d7(0x8d2)](this['instance']['wuid']))throw console[_0x5597d7(0x690)]((0x0,g[_0x5597d7(0x5d8)])()[_0x5597d7(0x63e)](_0x5597d7(0x6e1))+':\x20'+this[_0x5597d7(0x2c9)]+'\x20('+this[_0x5597d7(0x82c)][_0x5597d7(0x568)]+_0x5597d7(0x45b)+_0x1ec2cc[_0x5597d7(0x287)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new f(_0x5597d7(0x63f)+_0x1ec2cc[_0x5597d7(0x287)]+_0x5597d7(0x2f2));return _0x1ec2cc;}catch(_0x5d1ff2){return console['error']((0x0,g[_0x5597d7(0x5d8)])()[_0x5597d7(0x63e)](_0x5597d7(0x6e1))+':\x20'+this[_0x5597d7(0x2c9)]+'\x20('+this['instance']['wuid']+_0x5597d7(0x278)+(_0x5d1ff2 instanceof Error?_0x5d1ff2[_0x5597d7(0x64b)]:JSON[_0x5597d7(0x5b1)](_0x5d1ff2,null,0x2))),null;}}async[a0_0x42e86b(0x6f8)](_0x1595b1,_0xb7929){const _0x56d1c8=a0_0x42e86b;try{let _0x39eb01=!!_0xb7929[_0x56d1c8(0x3f0)],_0x436ae1=_0xb7929[_0x56d1c8(0x7a9)],_0x333846=null;if(this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+_0x56d1c8(0x849)+_0x39eb01+_0x56d1c8(0x52d)+_0x436ae1),_0x39eb01){this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+_0x56d1c8(0x7aa));let _0x2907d3={'where':{'remoteJid':_0x1595b1,'waitingMenu_id':_0x436ae1}};if(_0x333846=await this[_0x56d1c8(0x400)][_0x56d1c8(0x2e9)][_0x56d1c8(0x551)](_0x2907d3,this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]),!_0x333846)return this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this['instance'][_0x56d1c8(0x568)]+_0x56d1c8(0x256)),null;let _0x3e06ab=Date[_0x56d1c8(0x51c)](),_0x2804be=_0x333846?.[_0x56d1c8(0x522)]||0x0,_0x27dcee=_0x3e06ab-_0x2804be*0x3c*0x3e8;if(_0x333846[_0x56d1c8(0x727)]<_0x27dcee){this[_0x56d1c8(0x7a6)]['verbose'](this[_0x56d1c8(0x2c9)]+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x10d458={'number':_0x333846[_0x56d1c8(0x3a3)],'options':{'delay':0x0},'textMessage':{'text':_0x333846[_0x56d1c8(0x8fb)]}};await this[_0x56d1c8(0x2ab)](_0x10d458);let _0x1105a7={'status':_0x56d1c8(0x7e7),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x56d1c8(0x400)]['flowConversation'][_0x56d1c8(0x5a3)](_0x333846[_0x56d1c8(0x287)],_0x1105a7,this['instance'][_0x56d1c8(0x568)]),null;}return _0x333846[_0x56d1c8(0x727)]=Date[_0x56d1c8(0x51c)](),_0x333846['chatLog'][_0x56d1c8(0x466)]=_0xb7929,_0x333846;}else{this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+_0x56d1c8(0x840)+this['instance'][_0x56d1c8(0x568)]+_0x56d1c8(0x3c6)),this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this['instance']['wuid']+_0x56d1c8(0x242));let _0x481cfd={'where':{'remoteJid':_0x1595b1,'status':'open'}};if(_0x333846=await this[_0x56d1c8(0x400)]['flowConversation'][_0x56d1c8(0x551)](_0x481cfd,this[_0x56d1c8(0x82c)]['wuid']),!_0x333846){let _0x3283ee=await this[_0x56d1c8(0x79d)](_0x1595b1);if(_0x3283ee&&(_0x333846=await this[_0x56d1c8(0x7d0)](_0x3283ee,_0xb7929[_0x56d1c8(0x57a)],_0xb7929)),!_0x333846)return null;}let _0x1df71f=Date['now'](),_0x148a68=_0x333846?.[_0x56d1c8(0x522)]||0x0,_0x317b58=_0x1df71f-_0x148a68*0x3c*0x3e8;if(this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+'):\x20Current\x20Time:\x20'+_0x1df71f+_0x56d1c8(0x641)+_0x148a68+_0x56d1c8(0x7ab)+_0x317b58),this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this['instanceName']+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this['instance'][_0x56d1c8(0x568)]+_0x56d1c8(0x389)+_0x333846[_0x56d1c8(0x727)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x56d1c8(0x82c)]['wuid']+'):\x20expirationTime:\x20'+_0x317b58),_0x333846[_0x56d1c8(0x727)]<_0x317b58){this[_0x56d1c8(0x7a6)][_0x56d1c8(0x3f4)](this[_0x56d1c8(0x2c9)]+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+'):\x20Conversa\x20está\x20expirada');let _0x521a2a=await this[_0x56d1c8(0x79d)](_0x1595b1);if(_0x521a2a===null)return null;_0x333846&&await this[_0x56d1c8(0x400)][_0x56d1c8(0x2e9)]['updateOne'](_0x333846[_0x56d1c8(0x287)],{'status':'closed'},this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]),_0x333846=await this[_0x56d1c8(0x7d0)](_0x521a2a,_0xb7929['key'],_0xb7929);}return _0x333846[_0x56d1c8(0x727)]=_0x1df71f,_0x333846[_0x56d1c8(0x3ae)][_0x56d1c8(0x466)]=_0xb7929,_0x333846;}}catch(_0x29e57e){return console[_0x56d1c8(0x690)](this[_0x56d1c8(0x2c9)]+'\x20('+this[_0x56d1c8(0x82c)][_0x56d1c8(0x568)]+_0x56d1c8(0x8ec)+(_0x29e57e instanceof Error?_0x29e57e[_0x56d1c8(0x64b)]:JSON[_0x56d1c8(0x5b1)](_0x29e57e,null,0x2))),null;}}async[a0_0x42e86b(0x7d0)](_0x1c00f5,_0x1238ac,_0x559270){const _0x254a04=a0_0x42e86b;this['logger'][_0x254a04(0x3f4)](this[_0x254a04(0x2c9)]+'\x20('+this[_0x254a04(0x82c)][_0x254a04(0x568)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x128273=require(_0x254a04(0x508))[_0x254a04(0x5f9)],_0x390e23=Date[_0x254a04(0x51c)](),_0x4c8e40=_0x254a04(0x870),_0x43aa38=_0x1238ac[_0x254a04(0x274)]?null:_0x559270,_0x1fab33=_0x1238ac[_0x254a04(0x274)]?_0x559270:null,_0x309b39=_0x1238ac[_0x254a04(0x3a3)],_0x274c38=this['AutomateSystem'][_0x254a04(0x5b2)]['find'](_0x1c077e=>_0x1c077e['_id']===_0x1c00f5['_id']?.['toString']()),_0x7af481=_0x274c38?.[_0x254a04(0x522)]??_0x1c00f5[_0x254a04(0x522)]??0x0,_0x48c8df=_0x274c38?.[_0x254a04(0x830)]??_0x1c00f5[_0x254a04(0x830)]??!0x1;await this[_0x254a04(0x631)](_0x309b39);let _0x499be0={'_id':_0x1c00f5['_id'],..._0x1c00f5,'chatLog':null},_0x294c7b=await this[_0x254a04(0x61b)](_0x499be0['variables']),_0x323975=await this[_0x254a04(0x4bf)](_0x309b39),_0x534108={..._0x294c7b,..._0x323975,'_remoteJid':_0x309b39},_0x61c5c8={'lastReceivedMessage':_0x43aa38,'lastSendMessage':_0x1fab33,'lastBlockId':_0x4c8e40,'lastCondition':!0x0,'realVariables':_0x534108};_0x499be0[_0x254a04(0x3ae)]=_0x61c5c8,delete _0x499be0[_0x254a04(0x287)],_0x499be0[_0x254a04(0x287)]=new _0x128273(),_0x499be0[_0x254a04(0x727)]=_0x390e23,_0x499be0[_0x254a04(0x454)]=_0x254a04(0x7a1),_0x499be0['remoteJid']=_0x309b39,_0x499be0['minutesToClose']=_0x7af481,_0x499be0[_0x254a04(0x830)]=_0x48c8df;let _0x500df8=await this['repository'][_0x254a04(0x2e9)][_0x254a04(0x5a3)](_0x499be0[_0x254a04(0x287)],_0x499be0,this[_0x254a04(0x82c)][_0x254a04(0x568)]);return this[_0x254a04(0x7a6)][_0x254a04(0x3f4)](this[_0x254a04(0x2c9)]+'\x20('+this[_0x254a04(0x82c)][_0x254a04(0x568)]+_0x254a04(0x21d)),_0x500df8?_0x499be0:null;}catch(_0x465050){return console[_0x254a04(0x690)](this['instanceName']+'\x20('+this[_0x254a04(0x82c)]['wuid']+_0x254a04(0x2c0)+(_0x465050 instanceof Error?_0x465050[_0x254a04(0x64b)]:JSON[_0x254a04(0x5b1)](_0x465050,null,0x2))),_0x465050;}}async[a0_0x42e86b(0x5a8)](_0x5d8a6f,_0x2e4967){const _0x2ff246=a0_0x42e86b;let _0x2900c6=_0x5d8a6f['remoteJid'];_0x2e4967[_0x2ff246(0x8a4)][_0x2ff246(0x3a3)]&&_0x2e4967[_0x2ff246(0x8a4)][_0x2ff246(0x3a3)][_0x2ff246(0x3e6)]()!==''&&(_0x2900c6=_0x2e4967[_0x2ff246(0x8a4)][_0x2ff246(0x3a3)][_0x2ff246(0x3e6)]()),this[_0x2ff246(0x7a6)][_0x2ff246(0x3f4)](this['instanceName']+'\x20('+this[_0x2ff246(0x82c)][_0x2ff246(0x568)]+_0x2ff246(0x855));let _0x11652f={'number':_0x2900c6,'options':{'delay':_0x2e4967[_0x2ff246(0x8a4)][_0x2ff246(0x6af)],'linkPreview':_0x2e4967[_0x2ff246(0x8a4)][_0x2ff246(0x22d)]},'textMessage':{'text':_0x2e4967['uazapi'][_0x2ff246(0x411)]}};try{let _0x1df95d=await this[_0x2ff246(0x2ab)](_0x11652f);if(_0x1df95d){let _0x5d6432={'_id':_0x1df95d[_0x2ff246(0x57a)]['id'],'_fromMe':_0x1df95d['key'][_0x2ff246(0x274)],'_remoteJid':_0x1df95d['key']['remoteJid']},_0x2280c1=(0x0,y[_0x2ff246(0x7bb)])(_0x1df95d[_0x2ff246(0x64b)]),_0x36a47c=(0x0,y[_0x2ff246(0x89b)])(_0x2280c1);_0x5d8a6f['chatLog'][_0x2ff246(0x34a)]=_0x2e4967[_0x2ff246(0x287)][_0x2ff246(0x53e)]();let {message_normalized:_0x47b81c}=this[_0x2ff246(0x695)](_0x2280c1,_0x36a47c,null);_0x5d8a6f[_0x2ff246(0x3ae)][_0x2ff246(0x3b3)]=await _0x47b81c;let _0x544381={'messageId':_0x1df95d[_0x2ff246(0x57a)]['id']},_0x4fcb05=_0x5d8a6f[_0x2ff246(0x3ae)][_0x2ff246(0x49f)];Object[_0x2ff246(0x580)](_0x4fcb05,_0x5d6432),_0x5d8a6f['chatLog'][_0x2ff246(0x49f)]=_0x4fcb05,this[_0x2ff246(0x49a)](_0x5d8a6f,_0x2e4967,_0x544381);}else{let _0x510c27={'error':!0x0};this['updateConversation'](_0x5d8a6f,_0x2e4967,_0x510c27),console[_0x2ff246(0x690)]((0x0,g[_0x2ff246(0x5d8)])()['format'](_0x2ff246(0x6e1))+':\x20'+this[_0x2ff246(0x2c9)]+'\x20('+this[_0x2ff246(0x82c)][_0x2ff246(0x568)]+_0x2ff246(0x3aa));}}catch(_0x58af56){let _0x5555c0={'error':!0x0,'errorLog':_0x58af56['toString']()};this[_0x2ff246(0x49a)](_0x5d8a6f,_0x2e4967,_0x5555c0),console[_0x2ff246(0x690)](this['instanceName']+'\x20('+this[_0x2ff246(0x82c)][_0x2ff246(0x568)]+_0x2ff246(0x4b5)+(_0x58af56 instanceof Error?_0x58af56[_0x2ff246(0x64b)]:JSON['stringify'](_0x58af56,null,0x2)));}}async[a0_0x42e86b(0x26e)](_0x5e0ea8,_0x48fe72){const _0x1d1fbc=a0_0x42e86b;let _0x31da4a=_0x5e0ea8[_0x1d1fbc(0x3a3)];_0x48fe72[_0x1d1fbc(0x8a4)][_0x1d1fbc(0x3a3)]&&_0x48fe72[_0x1d1fbc(0x8a4)]['remoteJid'][_0x1d1fbc(0x3e6)]()!==''&&(_0x31da4a=_0x48fe72[_0x1d1fbc(0x8a4)][_0x1d1fbc(0x3a3)]['trim']()),this[_0x1d1fbc(0x7a6)]['verbose'](this[_0x1d1fbc(0x2c9)]+'\x20('+this[_0x1d1fbc(0x82c)][_0x1d1fbc(0x568)]+'):\x20Enviando\x20mídia');let _0x582875={'number':_0x31da4a,'options':{'delay':_0x48fe72['uazapi']['delay'],'linkPreview':_0x48fe72[_0x1d1fbc(0x8a4)][_0x1d1fbc(0x22d)]},'mediaMessage':{'mediatype':_0x48fe72[_0x1d1fbc(0x8a4)]['mediatype'],'caption':_0x48fe72['uazapi']['caption'],'media':_0x48fe72[_0x1d1fbc(0x8a4)][_0x1d1fbc(0x229)],'fileName':_0x48fe72[_0x1d1fbc(0x8a4)][_0x1d1fbc(0x3a7)]}};try{let _0x40bc9f=await this['mediaMessage'](_0x582875);if(_0x40bc9f){let _0x40ce44={'_id':_0x40bc9f[_0x1d1fbc(0x57a)]['id'],'_fromMe':_0x40bc9f[_0x1d1fbc(0x57a)]['fromMe'],'_remoteJid':_0x40bc9f[_0x1d1fbc(0x57a)][_0x1d1fbc(0x3a3)]},_0x416122=(0x0,y['normalizeMessageContent'])(_0x40bc9f[_0x1d1fbc(0x64b)]),_0x4f646f=(0x0,y[_0x1d1fbc(0x89b)])(_0x416122);_0x5e0ea8[_0x1d1fbc(0x3ae)][_0x1d1fbc(0x34a)]=_0x48fe72['_id'][_0x1d1fbc(0x53e)]();let {message_normalized:_0x204a86}=this[_0x1d1fbc(0x695)](_0x416122,_0x4f646f,null);_0x5e0ea8[_0x1d1fbc(0x3ae)][_0x1d1fbc(0x3b3)]=await _0x204a86;let _0x184c78={'messageId':_0x40bc9f[_0x1d1fbc(0x57a)]['id']},_0x99a4c3=_0x5e0ea8[_0x1d1fbc(0x3ae)][_0x1d1fbc(0x49f)];Object[_0x1d1fbc(0x580)](_0x99a4c3,_0x40ce44),_0x5e0ea8[_0x1d1fbc(0x3ae)]['realVariables']=_0x99a4c3,this[_0x1d1fbc(0x49a)](_0x5e0ea8,_0x48fe72,_0x184c78);}else{let _0x431778={'error':!0x0};this['updateConversation'](_0x5e0ea8,_0x48fe72,_0x431778),console[_0x1d1fbc(0x690)]((0x0,g['default'])()[_0x1d1fbc(0x63e)](_0x1d1fbc(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x1d1fbc(0x82c)][_0x1d1fbc(0x568)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x207214){let _0x42e7be={'error':!0x0,'errorLog':_0x207214['toString']()};this[_0x1d1fbc(0x49a)](_0x5e0ea8,_0x48fe72,_0x42e7be),console[_0x1d1fbc(0x690)](this[_0x1d1fbc(0x2c9)]+'\x20('+this[_0x1d1fbc(0x82c)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x207214 instanceof Error?_0x207214[_0x1d1fbc(0x64b)]:JSON['stringify'](_0x207214,null,0x2)));}}async['uazapiSendLocation'](_0x50b680,_0xb00b9e){const _0x45238f=a0_0x42e86b;let _0x5474db=_0x50b680['remoteJid'];_0xb00b9e['uazapi'][_0x45238f(0x3a3)]&&_0xb00b9e['uazapi'][_0x45238f(0x3a3)][_0x45238f(0x3e6)]()!==''&&(_0x5474db=_0xb00b9e[_0x45238f(0x8a4)][_0x45238f(0x3a3)]['trim']()),this['logger'][_0x45238f(0x3f4)](this['instanceName']+'\x20('+this[_0x45238f(0x82c)][_0x45238f(0x568)]+'):\x20Enviando\x20localização');let _0x5b35e8={'number':_0x5474db,'options':{'delay':_0xb00b9e[_0x45238f(0x8a4)]['delay']},'locationMessage':{'name':_0xb00b9e[_0x45238f(0x8a4)][_0x45238f(0x2ea)],'address':_0xb00b9e[_0x45238f(0x8a4)][_0x45238f(0x822)],'latitude':_0xb00b9e['uazapi'][_0x45238f(0x300)],'longitude':_0xb00b9e[_0x45238f(0x8a4)][_0x45238f(0x709)]}};try{let _0x49041e=await this[_0x45238f(0x3cc)](_0x5b35e8);if(_0x49041e){let _0x44da62={'_id':_0x49041e[_0x45238f(0x57a)]['id'],'_fromMe':_0x49041e[_0x45238f(0x57a)][_0x45238f(0x274)],'_remoteJid':_0x49041e[_0x45238f(0x57a)][_0x45238f(0x3a3)]},_0x310f9f=(0x0,y[_0x45238f(0x7bb)])(_0x49041e[_0x45238f(0x64b)]),_0x170283=(0x0,y['getContentType'])(_0x310f9f);_0x50b680['chatLog'][_0x45238f(0x34a)]=_0xb00b9e[_0x45238f(0x287)][_0x45238f(0x53e)]();let {message_normalized:_0x39e740}=this[_0x45238f(0x695)](_0x310f9f,_0x170283,null);_0x50b680[_0x45238f(0x3ae)][_0x45238f(0x3b3)]=await _0x39e740;let _0x48e9f6={'messageId':_0x49041e[_0x45238f(0x57a)]['id']},_0x1527bc=_0x50b680[_0x45238f(0x3ae)][_0x45238f(0x49f)];Object[_0x45238f(0x580)](_0x1527bc,_0x44da62),_0x50b680[_0x45238f(0x3ae)][_0x45238f(0x49f)]=_0x1527bc,this[_0x45238f(0x49a)](_0x50b680,_0xb00b9e,_0x48e9f6);}else{let _0x296221={'error':!0x0};this['updateConversation'](_0x50b680,_0xb00b9e,_0x296221),console[_0x45238f(0x690)]((0x0,g[_0x45238f(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x45238f(0x2c9)]+'\x20('+this[_0x45238f(0x82c)][_0x45238f(0x568)]+_0x45238f(0x2e6));}}catch(_0xd43ee7){let _0x408279={'error':!0x0,'errorLog':_0xd43ee7[_0x45238f(0x53e)]()};this['updateConversation'](_0x50b680,_0xb00b9e,_0x408279),console[_0x45238f(0x690)](this[_0x45238f(0x2c9)]+'\x20('+this[_0x45238f(0x82c)][_0x45238f(0x568)]+_0x45238f(0x6eb)+(_0xd43ee7 instanceof Error?_0xd43ee7[_0x45238f(0x64b)]:JSON[_0x45238f(0x5b1)](_0xd43ee7,null,0x2)));}}async[a0_0x42e86b(0x1f6)](_0x204150,_0x4c6625){const _0x3d740f=a0_0x42e86b;let _0x2600f2=_0x204150['remoteJid'];_0x4c6625[_0x3d740f(0x8a4)]['remoteJid']&&_0x4c6625[_0x3d740f(0x8a4)]['remoteJid'][_0x3d740f(0x3e6)]()!==''&&(_0x2600f2=_0x4c6625['uazapi'][_0x3d740f(0x3a3)][_0x3d740f(0x3e6)]()),this[_0x3d740f(0x7a6)][_0x3d740f(0x3f4)](this[_0x3d740f(0x2c9)]+'\x20('+this[_0x3d740f(0x82c)]['wuid']+_0x3d740f(0x359));let _0x15c003={'number':_0x2600f2,'options':{'delay':_0x4c6625[_0x3d740f(0x8a4)][_0x3d740f(0x6af)]},'audioMessage':{'audio':_0x4c6625[_0x3d740f(0x8a4)][_0x3d740f(0x801)]}};try{let _0xdc28f8=await this['audioWhatsapp'](_0x15c003);if(_0xdc28f8){let _0x220f43={'_id':_0xdc28f8[_0x3d740f(0x57a)]['id'],'_fromMe':_0xdc28f8[_0x3d740f(0x57a)]['fromMe'],'_remoteJid':_0xdc28f8[_0x3d740f(0x57a)][_0x3d740f(0x3a3)]},_0x52a339=(0x0,y[_0x3d740f(0x7bb)])(_0xdc28f8['message']),_0x1deaa0=(0x0,y[_0x3d740f(0x89b)])(_0x52a339);_0x204150['chatLog'][_0x3d740f(0x34a)]=_0x4c6625['_id']['toString']();let {message_normalized:_0x33f7c2}=this[_0x3d740f(0x695)](_0x52a339,_0x1deaa0,null);_0x204150[_0x3d740f(0x3ae)]['lastSendMessage']=await _0x33f7c2;let _0x198b06={'messageId':_0xdc28f8[_0x3d740f(0x57a)]['id']},_0x457be7=_0x204150[_0x3d740f(0x3ae)][_0x3d740f(0x49f)];Object[_0x3d740f(0x580)](_0x457be7,_0x220f43),_0x204150[_0x3d740f(0x3ae)][_0x3d740f(0x49f)]=_0x457be7,this[_0x3d740f(0x49a)](_0x204150,_0x4c6625,_0x198b06);}else{let _0x10621e={'error':!0x0};this['updateConversation'](_0x204150,_0x4c6625,_0x10621e),console[_0x3d740f(0x690)]((0x0,g['default'])()[_0x3d740f(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x3d740f(0x82c)][_0x3d740f(0x568)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x15b5e7){let _0x536ce5={'error':!0x0,'errorLog':_0x15b5e7[_0x3d740f(0x53e)]()};this[_0x3d740f(0x49a)](_0x204150,_0x4c6625,_0x536ce5),console[_0x3d740f(0x690)](this[_0x3d740f(0x2c9)]+'\x20('+this[_0x3d740f(0x82c)][_0x3d740f(0x568)]+_0x3d740f(0x61a)+(_0x15b5e7 instanceof Error?_0x15b5e7[_0x3d740f(0x64b)]:JSON[_0x3d740f(0x5b1)](_0x15b5e7,null,0x2)));}}async[a0_0x42e86b(0x4e1)](_0x403a12,_0x5bdde4){const _0x2766ee=a0_0x42e86b;let _0x2a461e=_0x403a12[_0x2766ee(0x3a3)];_0x5bdde4[_0x2766ee(0x8a4)][_0x2766ee(0x3a3)]&&_0x5bdde4[_0x2766ee(0x8a4)][_0x2766ee(0x3a3)]['trim']()!==''&&(_0x2a461e=_0x5bdde4[_0x2766ee(0x8a4)][_0x2766ee(0x3a3)][_0x2766ee(0x3e6)]()),this['logger'][_0x2766ee(0x3f4)](this[_0x2766ee(0x2c9)]+'\x20('+this[_0x2766ee(0x82c)][_0x2766ee(0x568)]+_0x2766ee(0x784));let _0x19142a={'number':_0x2a461e,'options':{'delay':_0x5bdde4[_0x2766ee(0x8a4)][_0x2766ee(0x6af)]},'contactMessage':[{'fullName':_0x5bdde4['uazapi']['fullName'],'phoneNumber':_0x5bdde4[_0x2766ee(0x8a4)][_0x2766ee(0x31a)]}]};try{let _0x36eef1=await this['contactMessage'](_0x19142a);if(_0x36eef1){let _0x5c4360={'_id':_0x36eef1[_0x2766ee(0x57a)]['id'],'_fromMe':_0x36eef1[_0x2766ee(0x57a)][_0x2766ee(0x274)],'_remoteJid':_0x36eef1[_0x2766ee(0x57a)][_0x2766ee(0x3a3)]},_0x30f49a=(0x0,y[_0x2766ee(0x7bb)])(_0x36eef1['message']),_0x3ba53d=(0x0,y[_0x2766ee(0x89b)])(_0x30f49a);_0x403a12['chatLog'][_0x2766ee(0x34a)]=_0x5bdde4['_id'][_0x2766ee(0x53e)]();let {message_normalized:_0x2ef472}=this[_0x2766ee(0x695)](_0x30f49a,_0x3ba53d,null);_0x403a12[_0x2766ee(0x3ae)]['lastSendMessage']=await _0x2ef472;let _0x1697d7={'messageId':_0x36eef1['key']['id']},_0x1da711=_0x403a12[_0x2766ee(0x3ae)]['realVariables'];Object[_0x2766ee(0x580)](_0x1da711,_0x5c4360),_0x403a12[_0x2766ee(0x3ae)][_0x2766ee(0x49f)]=_0x1da711,this[_0x2766ee(0x49a)](_0x403a12,_0x5bdde4,_0x1697d7);}else{let _0x43bc49={'error':!0x0};this[_0x2766ee(0x49a)](_0x403a12,_0x5bdde4,_0x43bc49),console[_0x2766ee(0x690)]((0x0,g[_0x2766ee(0x5d8)])()[_0x2766ee(0x63e)](_0x2766ee(0x6e1))+':\x20'+this[_0x2766ee(0x2c9)]+'\x20('+this[_0x2766ee(0x82c)][_0x2766ee(0x568)]+_0x2766ee(0x57d));}}catch(_0x42e92a){let _0x5dd1f6={'error':!0x0,'errorLog':_0x42e92a['toString']()};this[_0x2766ee(0x49a)](_0x403a12,_0x5bdde4,_0x5dd1f6),console[_0x2766ee(0x690)](this['instanceName']+'\x20('+this[_0x2766ee(0x82c)][_0x2766ee(0x568)]+_0x2766ee(0x6f5)+(_0x42e92a instanceof Error?_0x42e92a[_0x2766ee(0x64b)]:JSON['stringify'](_0x42e92a,null,0x2)));}}[a0_0x42e86b(0x2b5)](_0x3a5cfe,_0x4a6295){const _0x2541af=a0_0x42e86b;for(let _0x19bc26 of _0x3a5cfe)_0x19bc26[_0x2541af(0x630)]&&(_0x19bc26[_0x2541af(0x630)]=this[_0x2541af(0x4b0)](_0x19bc26['option'],_0x4a6295)),_0x19bc26[_0x2541af(0x360)]&&(_0x19bc26[_0x2541af(0x360)]=this[_0x2541af(0x4b0)](_0x19bc26[_0x2541af(0x360)],_0x4a6295));}async[a0_0x42e86b(0x7df)](_0x500317,_0x451867){const _0x4afc02=a0_0x42e86b;let _0x173efd=_0x500317[_0x4afc02(0x3a3)];_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x3a3)]&&_0x451867['uazapi'][_0x4afc02(0x3a3)]['trim']()!==''&&(_0x173efd=_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x3a3)]['trim']()),this['logger'][_0x4afc02(0x3f4)](this[_0x4afc02(0x2c9)]+'\x20('+this[_0x4afc02(0x82c)][_0x4afc02(0x568)]+_0x4afc02(0x67a));let _0x1991c3=_0x500317[_0x4afc02(0x842)][_0x4afc02(0x496)](_0x25f5c9=>_0x25f5c9[_0x4afc02(0x592)]===_0x451867['_id'])[_0x4afc02(0x397)]((_0x44e30d,_0x51ef38)=>_0x44e30d[_0x4afc02(0x341)]-_0x51ef38[_0x4afc02(0x341)]);this[_0x4afc02(0x2b5)](_0x1991c3,_0x500317[_0x4afc02(0x3ae)][_0x4afc02(0x49f)]);let _0x136ca5=_0x1991c3['map'](_0x27e43f=>_0x27e43f[_0x4afc02(0x630)]),_0x3431bf={'number':_0x173efd,'menuMessage':{'type':_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x6d3)]||_0x4afc02(0x53b),'text':_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x411)]||_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x2ea)],'footerText':_0x451867['uazapi'][_0x4afc02(0x8be)],'buttonText':_0x451867['uazapi']['buttonText'],'selectableCount':0x1,'choices':_0x136ca5},'options':{'delay':_0x451867[_0x4afc02(0x8a4)]['delay']}};try{let _0x144937=await this[_0x4afc02(0x8db)](_0x3431bf);if(_0x144937){let _0x37fef9={'_id':_0x144937['key']['id'],'_fromMe':_0x144937[_0x4afc02(0x57a)][_0x4afc02(0x274)],'_remoteJid':_0x144937[_0x4afc02(0x57a)][_0x4afc02(0x3a3)]};_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x47a)]===!0x0&&(_0x500317[_0x4afc02(0x454)]=_0x4afc02(0x5e5),this[_0x4afc02(0x7a6)]['verbose'](this[_0x4afc02(0x2c9)]+'\x20('+this['instance'][_0x4afc02(0x568)]+_0x4afc02(0x84f)+_0x500317[_0x4afc02(0x454)])),this['logger'][_0x4afc02(0x3f4)](this[_0x4afc02(0x2c9)]+'\x20('+this['instance']['wuid']+_0x4afc02(0x605)+(_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x2ea)]||_0x451867[_0x4afc02(0x8a4)]['text'])),_0x500317[_0x4afc02(0x8c5)]=_0x144937[_0x4afc02(0x57a)]['id'],_0x500317[_0x4afc02(0x872)]=_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x2ea)]||_0x451867[_0x4afc02(0x8a4)][_0x4afc02(0x411)],_0x500317['waitingMenu_replyOptions']=_0x1991c3,_0x451867['uazapi'][_0x4afc02(0x3bc)]&&(_0x500317['waitingMenu_ExpiredMessage']=_0x451867['uazapi']['menuExpiredMessage']),this[_0x4afc02(0x7a6)][_0x4afc02(0x3f4)](this[_0x4afc02(0x2c9)]+'\x20('+this[_0x4afc02(0x82c)][_0x4afc02(0x568)]+'):\x20conversation.waitingMenu_name'+_0x500317['waitingMenu_text']);let _0x4e1e76=(0x0,y['normalizeMessageContent'])(_0x144937[_0x4afc02(0x64b)]),_0x4e1665=(0x0,y[_0x4afc02(0x89b)])(_0x4e1e76);_0x500317[_0x4afc02(0x3ae)][_0x4afc02(0x34a)]=_0x451867[_0x4afc02(0x287)][_0x4afc02(0x53e)]();let {message_normalized:_0x29a96a}=this[_0x4afc02(0x695)](_0x4e1e76,_0x4e1665,null);_0x500317[_0x4afc02(0x3ae)][_0x4afc02(0x3b3)]=await _0x29a96a;let _0x660eaf={'messageId':_0x144937['key']['id']},_0x3b4a53=_0x500317[_0x4afc02(0x3ae)][_0x4afc02(0x49f)];Object[_0x4afc02(0x580)](_0x3b4a53,_0x37fef9),_0x500317[_0x4afc02(0x3ae)][_0x4afc02(0x49f)]=_0x3b4a53,this[_0x4afc02(0x49a)](_0x500317,_0x451867,_0x660eaf);}else{let _0x4135f1={'error':!0x0};this[_0x4afc02(0x49a)](_0x500317,_0x451867,_0x4135f1),console[_0x4afc02(0x690)]((0x0,g[_0x4afc02(0x5d8)])()['format'](_0x4afc02(0x6e1))+':\x20'+this[_0x4afc02(0x2c9)]+'\x20('+this[_0x4afc02(0x82c)][_0x4afc02(0x568)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x3f51ef){let _0x10fbf1={'error':!0x0,'errorLog':_0x3f51ef instanceof Error?_0x3f51ef[_0x4afc02(0x64b)]:JSON[_0x4afc02(0x5b1)](_0x3f51ef,null,0x2)};this[_0x4afc02(0x49a)](_0x500317,_0x451867,_0x10fbf1),console['error'](this[_0x4afc02(0x2c9)]+'\x20('+this['instance']['wuid']+_0x4afc02(0x78f)+(_0x3f51ef instanceof Error?_0x3f51ef[_0x4afc02(0x64b)]:JSON[_0x4afc02(0x5b1)](_0x3f51ef,null,0x2)));}}async[a0_0x42e86b(0x5e2)](_0x525bd3,_0x4b26e4){const _0x34e624=a0_0x42e86b;this[_0x34e624(0x7a6)][_0x34e624(0x3f4)](this[_0x34e624(0x2c9)]+'\x20('+this['instance'][_0x34e624(0x568)]+_0x34e624(0x68b));let _0x2d6d6c=_0x525bd3[_0x34e624(0x3ae)][_0x34e624(0x414)][_0x34e624(0x2a1)](_0x4e1993=>_0x4e1993[_0x34e624(0x592)]['toString']()===_0x4b26e4[_0x34e624(0x8a4)]['blockId'][_0x34e624(0x53e)]()),_0x524838={'id':_0x2d6d6c[_0x34e624(0x2e7)],'remoteJid':_0x2d6d6c[_0x34e624(0x3a3)],'fromMe':_0x2d6d6c[_0x34e624(0x274)]};try{let _0x400dd2=await this[_0x34e624(0x2a6)](_0x524838);if(_0x400dd2){let _0x5f36c3=(0x0,y['normalizeMessageContent'])(_0x400dd2['message']),_0x233251=(0x0,y[_0x34e624(0x89b)])(_0x5f36c3);_0x525bd3['chatLog'][_0x34e624(0x34a)]=_0x4b26e4[_0x34e624(0x287)][_0x34e624(0x53e)]();let {message_normalized:_0x3168c3}=this[_0x34e624(0x695)](_0x5f36c3,_0x233251,null);_0x525bd3[_0x34e624(0x3ae)][_0x34e624(0x3b3)]=await _0x3168c3;let _0x3b2002={};this['updateConversation'](_0x525bd3,_0x4b26e4,_0x3b2002);}else{let _0x16e50b={'error':!0x0};this['updateConversation'](_0x525bd3,_0x4b26e4,_0x16e50b),console['error']((0x0,g[_0x34e624(0x5d8)])()[_0x34e624(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x34e624(0x82c)][_0x34e624(0x568)]+_0x34e624(0x3fb));}}catch(_0x386bbc){let _0x5fffc4={'error':!0x0,'errorLog':_0x386bbc instanceof Error?_0x386bbc['message']:JSON[_0x34e624(0x5b1)](_0x386bbc,null,0x2)};this[_0x34e624(0x49a)](_0x525bd3,_0x4b26e4,_0x5fffc4),console[_0x34e624(0x690)](this[_0x34e624(0x2c9)]+'\x20('+this[_0x34e624(0x82c)]['wuid']+_0x34e624(0x7f0)+(_0x386bbc instanceof Error?_0x386bbc[_0x34e624(0x64b)]:JSON[_0x34e624(0x5b1)](_0x386bbc,null,0x2)));}}async[a0_0x42e86b(0x2d0)](_0x56d1bc,_0x8d6cfe){const _0x4383e0=a0_0x42e86b;if(_0x56d1bc[_0x4383e0(0x2ea)]||(_0x56d1bc[_0x4383e0(0x2ea)]=(0x0,he['v4'])()),_0x8d6cfe!==Co&&_0x56d1bc?.['globalShow'])throw new f(_0x4383e0(0x39c));if(_0x4383e0(0x287)in _0x56d1bc&&_0x4383e0(0x6c3)in _0x56d1bc)return this[_0x4383e0(0x609)](_0x56d1bc[_0x4383e0(0x6c3)],_0x56d1bc[_0x4383e0(0x287)]);this[_0x4383e0(0x7a6)]['verbose'](this[_0x4383e0(0x2c9)]+'\x20('+this[_0x4383e0(0x82c)][_0x4383e0(0x568)]+_0x4383e0(0x33c));let _0x2f2b9b=this[_0x4383e0(0x85d)](_0x56d1bc[_0x4383e0(0x2ea)]),_0x13aa8c=new ue['Types']['ObjectId'](),_0x3a63b1={'_id':_0x13aa8c,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x11ab42={'_id':new ue['Types'][(_0x4383e0(0x5f9))](),'order':0x1,'groupId':_0x13aa8c[_0x4383e0(0x53e)](),'type':_0x4383e0(0x870)},_0x2e85c4=this[_0x4383e0(0x82c)]['wuid'],_0x561c09={'_id':(0x0,he['v4'])(),'owner':_0x2e85c4,'name':_0x2f2b9b,'whoCanEdit':[_0x2e85c4],'whoCanUse':[_0x2e85c4],'groups':[_0x3a63b1],'blocks':[_0x11ab42],..._0x56d1bc};try{let _0x48dfdf=await this['repository'][_0x4383e0(0x3dc)][_0x4383e0(0x7d3)](_0x561c09);return await this[_0x4383e0(0x4ba)](),_0x48dfdf;}catch(_0x551d72){let _0x244f22=_0x4383e0(0x76a),_0x36713f=_0x551d72 instanceof Error?_0x551d72[_0x4383e0(0x64b)]:typeof _0x551d72==_0x4383e0(0x387)?JSON[_0x4383e0(0x5b1)](_0x551d72):_0x551d72,_0x4d4301=_0x244f22+':\x20'+_0x36713f;throw console['error']((0x0,g[_0x4383e0(0x5d8)])()[_0x4383e0(0x63e)](_0x4383e0(0x6e1))+':\x20'+this[_0x4383e0(0x2c9)]+'\x20('+this['instance'][_0x4383e0(0x568)]+_0x4383e0(0x840)+_0x4d4301),new f(_0x4d4301);}}async[a0_0x42e86b(0x609)](_0x5285a1,_0x2f328a){const _0x5ea9d5=a0_0x42e86b;try{this[_0x5ea9d5(0x7a6)]['verbose'](this[_0x5ea9d5(0x2c9)]+'\x20('+this[_0x5ea9d5(0x82c)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x51fdb5=await this['repository']['flow'][_0x5ea9d5(0x551)]({'where':{'_id':_0x2f328a,'owner':_0x5285a1}});if(!_0x51fdb5)throw new f(_0x5ea9d5(0x480));if(_0x51fdb5[_0x5ea9d5(0x71f)]===!0x1&&!_0x51fdb5['globalShow'])throw new f(_0x5ea9d5(0x40c));let _0xaa301b=new Set(_0x51fdb5[_0x5ea9d5(0x82a)]??[]);_0xaa301b['add'](this[_0x5ea9d5(0x82c)][_0x5ea9d5(0x568)]);let _0x200335=await this[_0x5ea9d5(0x400)]['flow'][_0x5ea9d5(0x5a3)](_0x2f328a,{..._0x51fdb5,'whoCanUse':Array[_0x5ea9d5(0x7c1)](_0xaa301b)});return await this[_0x5ea9d5(0x4ba)](),_0x200335;}catch(_0x2e8aa4){let _0x3aa451=_0x5ea9d5(0x5a6),_0xa9f6c6=_0x2e8aa4 instanceof Error?_0x2e8aa4[_0x5ea9d5(0x64b)]:typeof _0x2e8aa4=='object'?JSON[_0x5ea9d5(0x5b1)](_0x2e8aa4):_0x2e8aa4,_0x58829f=_0x3aa451+':\x20'+_0xa9f6c6;throw console[_0x5ea9d5(0x690)]((0x0,g[_0x5ea9d5(0x5d8)])()[_0x5ea9d5(0x63e)](_0x5ea9d5(0x6e1))+':\x20'+this[_0x5ea9d5(0x2c9)]+'\x20('+this[_0x5ea9d5(0x82c)][_0x5ea9d5(0x568)]+'):\x20'+_0x58829f),new f(_0x58829f);}}[a0_0x42e86b(0x85d)](_0x13eded){const _0x30d867=a0_0x42e86b;let _0x273e0f=_0x13eded,_0x3ef192=0x1;for(;this[_0x30d867(0x3cb)]['flows']['some'](_0x2ce894=>_0x2ce894[_0x30d867(0x2ea)]===_0x273e0f);)_0x3ef192++,_0x273e0f=_0x13eded+'\x20('+_0x3ef192+')';return _0x273e0f;}async['deleteFlow'](_0x18697d){const _0x4dafcd=a0_0x42e86b;try{if(this['logger'][_0x4dafcd(0x3f4)](this[_0x4dafcd(0x2c9)]+'\x20('+this[_0x4dafcd(0x82c)][_0x4dafcd(0x568)]+_0x4dafcd(0x349)+_0x18697d[_0x4dafcd(0x287)]+',\x20global:\x20'+_0x18697d[_0x4dafcd(0x2f5)]),!this['AutomateSystem'][_0x4dafcd(0x5b2)][_0x4dafcd(0x2a1)](_0x25b465=>_0x25b465[_0x4dafcd(0x287)]===_0x18697d[_0x4dafcd(0x287)]))throw this[_0x4dafcd(0x7a6)][_0x4dafcd(0x3f4)](this['instanceName']+'\x20('+this[_0x4dafcd(0x82c)][_0x4dafcd(0x568)]+_0x4dafcd(0x4fe)+_0x18697d[_0x4dafcd(0x287)]+'\x27\x20não\x20encontrado'),new f('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x30b343=await this[_0x4dafcd(0x400)][_0x4dafcd(0x3dc)][_0x4dafcd(0x551)]({'where':{'_id':_0x18697d[_0x4dafcd(0x287)]}});if(!_0x30b343)throw new f(_0x4dafcd(0x45e));if(this[_0x4dafcd(0x82c)]['wuid']===_0x30b343[_0x4dafcd(0x6c3)]){this[_0x4dafcd(0x7a6)][_0x4dafcd(0x3f4)](this[_0x4dafcd(0x2c9)]+'\x20('+this['instance'][_0x4dafcd(0x568)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x18697d['_id']+'\x27\x20do\x20banco\x20de\x20dados...');let _0x41e7fe=await this[_0x4dafcd(0x400)]['flow'][_0x4dafcd(0x5d9)]({'where':{'_id':_0x18697d[_0x4dafcd(0x287)]}});return await this[_0x4dafcd(0x4ba)](),_0x41e7fe;}return this['logger'][_0x4dafcd(0x3f4)](this['instanceName']+'\x20('+this[_0x4dafcd(0x82c)]['wuid']+_0x4dafcd(0x67b)+this['instance']['wuid']+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x18697d[_0x4dafcd(0x287)]+_0x4dafcd(0x348)),_0x30b343[_0x4dafcd(0x82a)]=(_0x30b343['whoCanUse']??[])[_0x4dafcd(0x496)](_0x216a10=>_0x216a10!==this[_0x4dafcd(0x82c)][_0x4dafcd(0x568)]),_0x30b343[_0x4dafcd(0x5ea)]=(_0x30b343[_0x4dafcd(0x5ea)]??[])[_0x4dafcd(0x496)](_0x2ddb51=>_0x2ddb51!==this[_0x4dafcd(0x82c)][_0x4dafcd(0x568)]),_0x30b343[_0x4dafcd(0x5ea)][_0x4dafcd(0x40e)]===0x0&&_0x30b343[_0x4dafcd(0x82a)]['length']>0x0&&(_0x30b343[_0x4dafcd(0x5ea)][_0x4dafcd(0x234)](_0x30b343[_0x4dafcd(0x82a)][0x0]),this['logger'][_0x4dafcd(0x3f4)](this[_0x4dafcd(0x2c9)]+'\x20('+this['instance']['wuid']+'):\x20Adicionando\x20\x27'+_0x30b343[_0x4dafcd(0x82a)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x18697d[_0x4dafcd(0x287)]+_0x4dafcd(0x348))),await this[_0x4dafcd(0x400)][_0x4dafcd(0x3dc)][_0x4dafcd(0x5a3)](_0x30b343[_0x4dafcd(0x287)],_0x30b343),await this[_0x4dafcd(0x4ba)](),{'message':_0x4dafcd(0x4ca)+_0x18697d[_0x4dafcd(0x2ea)]+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x28a1da){return console[_0x4dafcd(0x690)]((0x0,g[_0x4dafcd(0x5d8)])()[_0x4dafcd(0x63e)](_0x4dafcd(0x6e1))+':\x20'+this['instanceName']+'\x20('+this['instance'][_0x4dafcd(0x568)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x28a1da instanceof Error?_0x28a1da['message']:JSON[_0x4dafcd(0x5b1)](_0x28a1da,null,0x2))),{'message':_0x4dafcd(0x899)+(_0x28a1da instanceof Error?_0x28a1da[_0x4dafcd(0x64b)]:JSON[_0x4dafcd(0x5b1)](_0x28a1da,null,0x2))};}}async[a0_0x42e86b(0x30c)](_0xfabf67){const _0x179a7c=a0_0x42e86b;try{if(this[_0x179a7c(0x7a6)][_0x179a7c(0x2d4)](this[_0x179a7c(0x2c9)]+'\x20('+this[_0x179a7c(0x82c)][_0x179a7c(0x568)]+_0x179a7c(0x3d2)+_0xfabf67),!this[_0x179a7c(0x3cb)]&&(await this[_0x179a7c(0x8f2)](),!this[_0x179a7c(0x3cb)]))return null;let _0x331dfd=await this[_0x179a7c(0x400)][_0x179a7c(0x3dc)][_0x179a7c(0x551)]({'where':{'_id':_0xfabf67}});if(!_0x331dfd)throw new f(_0x179a7c(0x585)+_0xfabf67+_0x179a7c(0x878));if(!(_0x331dfd[_0x179a7c(0x744)]||_0x331dfd[_0x179a7c(0x82a)]?.[_0x179a7c(0x8d2)](this[_0x179a7c(0x82c)][_0x179a7c(0x568)])))throw new f(_0x179a7c(0x5fe)+name+'\x27');_0x331dfd[_0x179a7c(0x744)]&&!_0x331dfd[_0x179a7c(0x82a)]?.[_0x179a7c(0x8d2)](this['instance'][_0x179a7c(0x568)])&&(_0x331dfd[_0x179a7c(0x82a)]=[..._0x331dfd[_0x179a7c(0x82a)]??[],this[_0x179a7c(0x82c)][_0x179a7c(0x568)]],await this['repository'][_0x179a7c(0x3dc)][_0x179a7c(0x5a3)](_0x331dfd[_0x179a7c(0x287)],_0x331dfd),this[_0x179a7c(0x4ba)]());let _0x350d52=this[_0x179a7c(0x3cb)]?.[_0x179a7c(0x76c)][_0x179a7c(0x57c)](_0x505b83=>_0x505b83['name']),_0x4965ee=[_0x179a7c(0x668),_0x179a7c(0x46a),_0x179a7c(0x5ee),_0x179a7c(0x380),_0x179a7c(0x454),_0x179a7c(0x88b),_0x179a7c(0x452),'tags',_0x179a7c(0x518),_0x179a7c(0x8f9),_0x179a7c(0x5fa)];_0x331dfd[_0x179a7c(0x261)]=_0x331dfd[_0x179a7c(0x261)][_0x179a7c(0x496)](_0x1e5e77=>!(_0x1e5e77[_0x179a7c(0x554)]===_0x179a7c(0x49d)||_0x1e5e77[_0x179a7c(0x49d)])),_0x4965ee['forEach'](_0x427cb9=>{const _0x3d76f1=_0x179a7c;_0x331dfd[_0x3d76f1(0x261)][_0x3d76f1(0x234)]({'folder':'leadInfo','name':_0x427cb9,'value':'','doc':'','leadInfo':!0x0});}),_0x350d52['forEach'](_0x3de35a=>{const _0x56f050=_0x179a7c;let _0x5f148c=_0x331dfd[_0x56f050(0x261)]['findIndex'](_0x5cd4dd=>_0x5cd4dd['name']===_0x3de35a);_0x5f148c===-0x1?_0x331dfd['variables'][_0x56f050(0x234)]({'folder':_0x56f050(0x49d),'name':_0x3de35a,'value':'','doc':'','leadInfo':!0x0}):(_0x331dfd[_0x56f050(0x261)][_0x5f148c][_0x56f050(0x554)]=_0x56f050(0x49d),_0x331dfd['variables'][_0x5f148c][_0x56f050(0x49d)]=!0x0);}),_0x331dfd[_0x179a7c(0x6b9)]&&_0x331dfd[_0x179a7c(0x6b9)][_0x179a7c(0x40e)]>0x0&&_0x331dfd[_0x179a7c(0x6b9)]['forEach'](_0x314c0f=>{const _0x5e6ae2=_0x179a7c;_0x314c0f[_0x5e6ae2(0x457)]&&_0x314c0f['next_groupId']&&_0x314c0f['groupId']===_0x314c0f[_0x5e6ae2(0x3f7)]&&(_0x314c0f[_0x5e6ae2(0x3f7)]=null);});let _0x2ec923=await this[_0x179a7c(0x400)][_0x179a7c(0x3dc)]['updateOne'](_0x331dfd[_0x179a7c(0x287)],_0x331dfd);if(!_0x2ec923)throw new Error(_0x179a7c(0x2b3));return _0x2ec923;}catch(_0x243c77){let _0x2c5f38=_0x179a7c(0x277),_0x607940=_0x243c77 instanceof Error?_0x243c77[_0x179a7c(0x64b)]:typeof _0x243c77=='object'?JSON[_0x179a7c(0x5b1)](_0x243c77):_0x243c77,_0x31abf9=_0x2c5f38+':\x20'+_0x607940;throw console[_0x179a7c(0x690)]((0x0,g[_0x179a7c(0x5d8)])()[_0x179a7c(0x63e)](_0x179a7c(0x6e1))+':\x20'+this[_0x179a7c(0x2c9)]+'\x20('+this[_0x179a7c(0x82c)][_0x179a7c(0x568)]+_0x179a7c(0x840)+_0x31abf9),new f(_0x31abf9);}}async[a0_0x42e86b(0x32a)](){const _0x1a07b6=a0_0x42e86b;try{this['logger'][_0x1a07b6(0x3f4)](this[_0x1a07b6(0x2c9)]+'\x20('+this[_0x1a07b6(0x82c)][_0x1a07b6(0x568)]+_0x1a07b6(0x236)),await this['synchronizeAndMapFlows']();let _0x24b90d=await this[_0x1a07b6(0x400)]['flow']['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x1a07b6(0x3cb)]['flows'],..._0x24b90d];}catch(_0x23a3f6){return console[_0x1a07b6(0x690)]((0x0,g['default'])()['format'](_0x1a07b6(0x6e1))+':\x20'+this[_0x1a07b6(0x2c9)]+'\x20('+this[_0x1a07b6(0x82c)][_0x1a07b6(0x568)]+_0x1a07b6(0x4d2)+(_0x23a3f6 instanceof Error?_0x23a3f6['message']:JSON[_0x1a07b6(0x5b1)](_0x23a3f6,null,0x2))),{'message':_0x1a07b6(0x512)+(_0x23a3f6 instanceof Error?_0x23a3f6['message']:String(_0x23a3f6))};}}async['editFlow'](_0xd6074,_0x5c7b0c){const _0x1c7e20=a0_0x42e86b;try{this[_0x1c7e20(0x7a6)][_0x1c7e20(0x3f4)](this[_0x1c7e20(0x2c9)]+'\x20('+this[_0x1c7e20(0x82c)][_0x1c7e20(0x568)]+_0x1c7e20(0x5ce));let _0x644b4c=this[_0x1c7e20(0x3cb)][_0x1c7e20(0x5b2)][_0x1c7e20(0x2a1)](_0x1c4772=>_0x1c4772['_id']===_0xd6074['_id']);if(!_0x644b4c)throw this['logger'][_0x1c7e20(0x3f4)](this[_0x1c7e20(0x2c9)]+'\x20('+this[_0x1c7e20(0x82c)][_0x1c7e20(0x568)]+'):\x20Fluxo\x20\x27'+_0xd6074[_0x1c7e20(0x287)]+_0x1c7e20(0x5be)),new f(_0x1c7e20(0x315));let _0x5af82c=await this[_0x1c7e20(0x400)][_0x1c7e20(0x3dc)]['findOne']({'where':{'_id':_0xd6074[_0x1c7e20(0x287)]}});if(!_0x5af82c||!_0x5af82c['whoCanUse']?.[_0x1c7e20(0x8d2)](this[_0x1c7e20(0x82c)]['wuid']))throw console['error']((0x0,g[_0x1c7e20(0x5d8)])()[_0x1c7e20(0x63e)](_0x1c7e20(0x6e1))+':\x20'+this[_0x1c7e20(0x2c9)]+'\x20('+this[_0x1c7e20(0x82c)][_0x1c7e20(0x568)]+_0x1c7e20(0x45b)+_0xd6074[_0x1c7e20(0x287)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new f(_0x1c7e20(0x63f)+_0xd6074[_0x1c7e20(0x287)]+_0x1c7e20(0x2f2));let _0x28510b=this[_0x1c7e20(0x3cb)][_0x1c7e20(0x5b2)][_0x1c7e20(0x86e)](_0x4d0fae=>_0x4d0fae['_id']===_0x644b4c[_0x1c7e20(0x287)]);if(_0x28510b!==-0x1){let _0x21a476=this['AutomateSystem'][_0x1c7e20(0x5b2)][_0x28510b];if(_0x21a476[_0x1c7e20(0x2ea)]=_0xd6074['name']??_0x21a476[_0x1c7e20(0x2ea)],_0x21a476['default']=_0xd6074[_0x1c7e20(0x5d8)]??_0x21a476[_0x1c7e20(0x5d8)],_0x21a476['testingWith']=_0xd6074[_0x1c7e20(0x619)]??_0x21a476[_0x1c7e20(0x619)],_0x21a476[_0x1c7e20(0x37c)]=_0xd6074['startCommandWord']??_0x21a476[_0x1c7e20(0x37c)],_0x21a476[_0x1c7e20(0x522)]=_0xd6074[_0x1c7e20(0x522)]??_0x21a476[_0x1c7e20(0x522)],_0x21a476[_0x1c7e20(0x830)]=_0xd6074['readMessages']??_0x21a476[_0x1c7e20(0x830)],_0xd6074[_0x1c7e20(0x5d8)]&&this['AutomateSystem'][_0x1c7e20(0x5b2)][_0x1c7e20(0x4ac)]((_0x53725a,_0x3298e6)=>{const _0x54d94d=_0x1c7e20;_0x3298e6!==_0x28510b&&(_0x53725a[_0x54d94d(0x5d8)]=!0x1);}),this[_0x1c7e20(0x3cb)][_0x1c7e20(0x5b2)][_0x28510b]=_0x21a476,!await this[_0x1c7e20(0x400)][_0x1c7e20(0x628)][_0x1c7e20(0x211)]({'flows':this['AutomateSystem']['flows']},this[_0x1c7e20(0x82c)][_0x1c7e20(0x568)]))throw new f(_0x1c7e20(0x7b6));}let _0x1e2fbd=[_0x1c7e20(0x2f5),'startID',_0x1c7e20(0x6aa),'shareOwners'];for(let _0x65f471 of _0x1e2fbd)delete _0xd6074[_0x65f471];if(!_0x5af82c[_0x1c7e20(0x5ea)]?.[_0x1c7e20(0x8d2)](this['instance'][_0x1c7e20(0x568)]))return{'success':!0x0};if(_0x5c7b0c!==Co&&_0xd6074?.['globalShow']&&!_0x5af82c?.[_0x1c7e20(0x744)])throw new f(_0x1c7e20(0x845));let _0x380e0f=new Set(_0xd6074[_0x1c7e20(0x5ea)]??_0x5af82c[_0x1c7e20(0x5ea)]);_0x380e0f[_0x1c7e20(0x78c)](_0x5af82c[_0x1c7e20(0x6c3)]);let _0x21060f=new Set(_0xd6074['whoCanUse']??_0x5af82c['whoCanUse']??[]);_0x380e0f['forEach'](_0x49a98a=>_0x21060f[_0x1c7e20(0x78c)](_0x49a98a)),_0x21060f['add'](_0x5af82c[_0x1c7e20(0x6c3)]);let _0x1a266b=await this[_0x1c7e20(0x3c0)](Array[_0x1c7e20(0x7c1)](_0x21060f)),_0xed97e8=Array[_0x1c7e20(0x7c1)](_0x380e0f)[_0x1c7e20(0x496)](_0x26749e=>_0x1a266b[_0x1c7e20(0x8d2)](_0x26749e)),_0x423643=Array[_0x1c7e20(0x7c1)](_0x21060f)[_0x1c7e20(0x496)](_0x4eb8d3=>_0x1a266b[_0x1c7e20(0x8d2)](_0x4eb8d3)),_0x26c1cd={..._0x5af82c,..._0xd6074,'whoCanEdit':_0xed97e8,'whoCanUse':_0x423643},_0x564c58=await this['repository'][_0x1c7e20(0x3dc)][_0x1c7e20(0x5a3)](_0x5af82c[_0x1c7e20(0x287)],_0x26c1cd);return await this[_0x1c7e20(0x4ba)](),_0x564c58;}catch(_0x1d41ac){let _0x236636=_0x1c7e20(0x7f1),_0x2ba598=_0x1d41ac instanceof Error?_0x1d41ac[_0x1c7e20(0x64b)]:typeof _0x1d41ac=='object'?JSON[_0x1c7e20(0x5b1)](_0x1d41ac):_0x1d41ac,_0x42ebc6=_0x236636+':\x20'+_0x2ba598;throw console[_0x1c7e20(0x690)]((0x0,g['default'])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x1c7e20(0x2c9)]+'\x20('+this[_0x1c7e20(0x82c)][_0x1c7e20(0x568)]+'):\x20'+_0x42ebc6),new f(_0x42ebc6);}}async[a0_0x42e86b(0x3c0)](_0x2aed71){const _0x200c34=a0_0x42e86b;let _0x3cad52={'numbers':_0x2aed71};return(await this['whatsappNumber'](_0x3cad52))[_0x200c34(0x496)](_0x4e3dbb=>_0x4e3dbb[_0x200c34(0x8fd)])[_0x200c34(0x57c)](_0x5edd70=>_0x5edd70[_0x200c34(0x67e)])[_0x200c34(0x57c)](_0x405e9c=>this[_0x200c34(0x771)](_0x405e9c));}[a0_0x42e86b(0x771)](_0x2d993f){const _0xfa19fd=a0_0x42e86b;let _0x1f3b2b=_0x2d993f[_0xfa19fd(0x685)](/\d+/);return _0x1f3b2b?_0x1f3b2b[0x0]:'';}async[a0_0x42e86b(0x304)](_0x2e15df){const _0x3130da=a0_0x42e86b;try{if(this[_0x3130da(0x7a6)][_0x3130da(0x3f4)](this[_0x3130da(0x2c9)]+'\x20('+this[_0x3130da(0x82c)][_0x3130da(0x568)]+_0x3130da(0x465)),!this['AutomateSystem'][_0x3130da(0x5b2)][_0x3130da(0x2a1)](_0x13d035=>_0x13d035['_id']===_0x2e15df['_id']))throw this[_0x3130da(0x7a6)]['verbose'](this[_0x3130da(0x2c9)]+'\x20('+this[_0x3130da(0x82c)][_0x3130da(0x568)]+_0x3130da(0x4fe)+_0x2e15df[_0x3130da(0x287)]+_0x3130da(0x5be)),new f(_0x3130da(0x315));let _0x4f4f04=await this[_0x3130da(0x400)][_0x3130da(0x3dc)]['findOne']({'where':{'_id':_0x2e15df[_0x3130da(0x287)]}});if(!_0x4f4f04||!_0x4f4f04[_0x3130da(0x82a)]?.[_0x3130da(0x8d2)](this[_0x3130da(0x82c)][_0x3130da(0x568)]))throw console[_0x3130da(0x690)]((0x0,g['default'])()[_0x3130da(0x63e)](_0x3130da(0x6e1))+':\x20'+this[_0x3130da(0x2c9)]+'\x20('+this['instance'][_0x3130da(0x568)]+_0x3130da(0x45b)+_0x2e15df['_id']+_0x3130da(0x2f2)),new f('Flow\x20\x27'+_0x2e15df[_0x3130da(0x287)]+_0x3130da(0x2f2));if(!_0x4f4f04[_0x3130da(0x5ea)]?.[_0x3130da(0x8d2)](this['instance'][_0x3130da(0x568)]))throw new f(_0x3130da(0x74d));let {block:_0x56b9ef}=_0x2e15df;_0x56b9ef?.[_0x3130da(0x4ef)]?this[_0x3130da(0x544)](_0x4f4f04,_0x2e15df):_0x56b9ef?.[_0x3130da(0x343)]?this[_0x3130da(0x627)](_0x4f4f04,_0x2e15df):_0x56b9ef[_0x3130da(0x287)]?await this['updateBlock'](_0x4f4f04,_0x2e15df):this[_0x3130da(0x8c7)](_0x4f4f04,_0x2e15df);let _0x32dd79=await this[_0x3130da(0x400)][_0x3130da(0x3dc)][_0x3130da(0x5a3)](_0x4f4f04['_id'],_0x4f4f04);if(!_0x32dd79)throw new Error(_0x3130da(0x2b3));return _0x32dd79;}catch(_0x26c7e8){this[_0x3130da(0x413)](_0x3130da(0x21c)+_0x26c7e8[_0x3130da(0x64b)]);}}async['copyBlock'](_0x33d440,_0x30816e){const _0x2daae9=a0_0x42e86b;let _0x469e5f=_0x30816e['block'][_0x2daae9(0x287)],_0x3417f1=_0x33d440[_0x2daae9(0x6b9)][_0x2daae9(0x2a1)](_0x3b47b0=>_0x3b47b0[_0x2daae9(0x287)][_0x2daae9(0x53e)]()===_0x469e5f);if(!_0x3417f1){console[_0x2daae9(0x690)]((0x0,g[_0x2daae9(0x5d8)])()[_0x2daae9(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x2daae9(0x2c9)]+'\x20('+this['instance'][_0x2daae9(0x568)]+'):\x20Bloco\x20com\x20ID\x20'+_0x469e5f+_0x2daae9(0x50a));return;}this[_0x2daae9(0x7a6)]['verbose'](this[_0x2daae9(0x2c9)]+'\x20('+this[_0x2daae9(0x82c)][_0x2daae9(0x568)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0x3417f1));let _0x5f95b6=JSON['parse'](JSON[_0x2daae9(0x5b1)](_0x3417f1));_0x5f95b6[_0x2daae9(0x287)]=new ue[(_0x2daae9(0x5d8))][(_0x2daae9(0x88e))]['ObjectId'](),this['logger'][_0x2daae9(0x3f4)](this[_0x2daae9(0x2c9)]+'\x20('+this[_0x2daae9(0x82c)][_0x2daae9(0x568)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x2daae9(0x5b1)](_0x5f95b6)),_0x33d440[_0x2daae9(0x6b9)]['push'](_0x5f95b6),this[_0x2daae9(0x8cb)](_0x33d440['blocks'],_0x5f95b6[_0x2daae9(0x457)]);}[a0_0x42e86b(0x413)](_0x3265a){const _0x31524a=a0_0x42e86b;throw console[_0x31524a(0x690)]((0x0,g[_0x31524a(0x5d8)])()['format'](_0x31524a(0x6e1))+':\x20'+this[_0x31524a(0x2c9)]+'\x20('+this[_0x31524a(0x82c)]['wuid']+_0x31524a(0x840)+_0x3265a),new f(_0x3265a);}[a0_0x42e86b(0x627)](_0x458d2f,_0x1710a5){const _0x43cfe9=a0_0x42e86b;let {block:_0x4cc6c9}=_0x1710a5;if(_0x4cc6c9[_0x43cfe9(0x762)]==='start'){this[_0x43cfe9(0x413)](_0x43cfe9(0x8d4));return;}if(!_0x4cc6c9[_0x43cfe9(0x287)]){this[_0x43cfe9(0x413)](_0x43cfe9(0x4f7));return;}let _0x22724a=_0x458d2f[_0x43cfe9(0x6b9)][_0x43cfe9(0x2a1)](_0x30293d=>_0x30293d[_0x43cfe9(0x287)][_0x43cfe9(0x53e)]()===_0x1710a5[_0x43cfe9(0x657)][_0x43cfe9(0x287)][_0x43cfe9(0x53e)]());if(!_0x22724a){this[_0x43cfe9(0x413)](_0x43cfe9(0x586)+_0x4cc6c9['_id']+'\x20não\x20encontrado');return;}_0x458d2f[_0x43cfe9(0x6b9)]=_0x458d2f[_0x43cfe9(0x6b9)][_0x43cfe9(0x496)](_0x501f82=>_0x501f82[_0x43cfe9(0x287)][_0x43cfe9(0x53e)]()!==_0x1710a5[_0x43cfe9(0x657)][_0x43cfe9(0x287)][_0x43cfe9(0x53e)]()),_0x458d2f[_0x43cfe9(0x48a)]=_0x458d2f[_0x43cfe9(0x48a)][_0x43cfe9(0x496)](_0x4e10fb=>_0x4e10fb[_0x43cfe9(0x592)]!==_0x4cc6c9[_0x43cfe9(0x287)][_0x43cfe9(0x53e)]()),_0x458d2f[_0x43cfe9(0x7ae)]=_0x458d2f[_0x43cfe9(0x7ae)]['filter'](_0x516230=>_0x516230[_0x43cfe9(0x592)]!==_0x4cc6c9['_id'][_0x43cfe9(0x53e)]()),_0x458d2f[_0x43cfe9(0x842)]=_0x458d2f[_0x43cfe9(0x842)][_0x43cfe9(0x496)](_0x2100c5=>_0x2100c5[_0x43cfe9(0x592)]!==_0x4cc6c9[_0x43cfe9(0x287)]['toString']()),this['reorderBlocks'](_0x458d2f[_0x43cfe9(0x6b9)],_0x22724a[_0x43cfe9(0x457)]);}async[a0_0x42e86b(0x6e6)](_0x3ae223,_0x55586d){const _0x5118be=a0_0x42e86b;let _0x52c089=_0x3ae223[_0x5118be(0x6b9)][_0x5118be(0x86e)](_0x2092a4=>_0x2092a4[_0x5118be(0x287)][_0x5118be(0x53e)]()===_0x55586d[_0x5118be(0x657)]['_id'][_0x5118be(0x53e)]());if(this[_0x5118be(0x7a6)][_0x5118be(0x3f4)](this[_0x5118be(0x2c9)]+'\x20('+this['instance'][_0x5118be(0x568)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x52c089),_0x52c089===-0x1){this[_0x5118be(0x7a6)][_0x5118be(0x3f4)](_0x5118be(0x586)+_0x55586d[_0x5118be(0x657)][_0x5118be(0x287)]+_0x5118be(0x637));return;}if(_0x3ae223[_0x5118be(0x6b9)][_0x52c089]['type']==='start'){let _0x307011=Object[_0x5118be(0x3b9)](_0x55586d['block']);if(_0x307011[_0x5118be(0x40e)]>0x2||_0x307011[_0x5118be(0x40e)]===0x2&&!_0x307011['includes'](_0x5118be(0x3f7))){this[_0x5118be(0x413)](_0x5118be(0x4dd));return;}}let _0x52c328=_0x3ae223[_0x5118be(0x6b9)][_0x52c089]['groupId'];for(let _0x3e4e96 in _0x55586d[_0x5118be(0x657)])_0x55586d[_0x5118be(0x657)]['hasOwnProperty'](_0x3e4e96)&&(_0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x3e4e96]=_0x55586d[_0x5118be(0x657)][_0x3e4e96]);if(this[_0x5118be(0x7a6)][_0x5118be(0x3f4)](this[_0x5118be(0x2c9)]+'\x20('+this['instance']['wuid']+_0x5118be(0x3a6)+JSON[_0x5118be(0x5b1)](_0x3ae223[_0x5118be(0x6b9)][_0x52c089])),_0x3ae223[_0x5118be(0x6b9)][_0x52c089]['apirequest']&&_0x5118be(0x6d1)in _0x3ae223['blocks'][_0x52c089][_0x5118be(0x415)]){this[_0x5118be(0x7a6)][_0x5118be(0x3f4)](this[_0x5118be(0x2c9)]+'\x20('+this[_0x5118be(0x82c)][_0x5118be(0x568)]+_0x5118be(0x85f));let _0x58314a=JSON[_0x5118be(0x5b1)](_0x3ae223['blocks'][_0x52c089][_0x5118be(0x415)][_0x5118be(0x6d1)],null,0x1);_0x58314a[_0x5118be(0x40e)]>0x2&&(_0x58314a=_0x58314a['substring'](0x1,_0x58314a[_0x5118be(0x40e)]-0x1)['trim']()),_0x3ae223[_0x5118be(0x6b9)][_0x52c089]['apirequest']['headerString']=_0x58314a;}if(_0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x5118be(0x415)]&&_0x5118be(0x23f)in _0x3ae223['blocks'][_0x52c089][_0x5118be(0x415)]&&!(_0x5118be(0x520)in _0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x5118be(0x415)])){this['logger'][_0x5118be(0x3f4)](this['instanceName']+'\x20('+this[_0x5118be(0x82c)][_0x5118be(0x568)]+_0x5118be(0x84a)),_0x3ae223[_0x5118be(0x6b9)][_0x52c089]['apirequest'][_0x5118be(0x7f6)]=!0x1;let _0x4da926=JSON['stringify'](_0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x5118be(0x415)]['body'],null,0x2);_0x3ae223['blocks'][_0x52c089][_0x5118be(0x415)][_0x5118be(0x520)]=_0x4da926;}if(_0x3ae223['blocks'][_0x52c089]['apirequest']&&_0x5118be(0x520)in _0x3ae223[_0x5118be(0x6b9)][_0x52c089]['apirequest']){_0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x5118be(0x415)][_0x5118be(0x7f6)]=!0x1;let _0x54edf6=_0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x5118be(0x415)][_0x5118be(0x520)],_0x50a946=this[_0x5118be(0x7cf)](_0x54edf6);_0x3ae223[_0x5118be(0x6b9)][_0x52c089]['apirequest']['bodyString']=_0x50a946[_0x5118be(0x783)],_0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x5118be(0x415)][_0x5118be(0x7f6)]=_0x50a946[_0x5118be(0x690)];}let _0x483ea8=_0x3ae223[_0x5118be(0x6b9)][_0x52c089][_0x5118be(0x457)];_0x52c328!==_0x483ea8?(this[_0x5118be(0x8cb)](_0x3ae223[_0x5118be(0x6b9)],_0x52c328),this[_0x5118be(0x8cb)](_0x3ae223[_0x5118be(0x6b9)],_0x483ea8)):this[_0x5118be(0x8cb)](_0x3ae223[_0x5118be(0x6b9)],_0x52c328);}[a0_0x42e86b(0x7cf)](_0x5a67df){const _0x3a1fec=a0_0x42e86b;let _0x242b49='\u205f',_0x33b6fb=!0x1,_0x1c0916='';for(let _0x2282ff=0x0;_0x2282ff<_0x5a67df[_0x3a1fec(0x40e)];_0x2282ff++){let _0x9b2388=_0x5a67df[_0x2282ff];_0x9b2388==='\x22'&&(_0x2282ff===0x0||_0x5a67df[_0x2282ff-0x1]!=='\x5c')&&(_0x33b6fb=!_0x33b6fb),!(!_0x33b6fb&&(_0x9b2388==='\x0a'||_0x9b2388==='\x20'||_0x9b2388===_0x242b49))&&(_0x1c0916+=_0x9b2388);}let _0x1f7c66={},_0x548878=9876543210.1234,_0x1b5700=_0x1c0916[_0x3a1fec(0x600)](/\{\{([^}]+)\}\}/g,_0x1949fc=>{let _0x3c6f8b=_0x1949fc,_0x2a4518=''+_0x548878;return _0x1f7c66[_0x2a4518]=_0x3c6f8b,_0x548878+=0.0001,_0x2a4518;}),_0x544b15='',_0x4d450c=!0x1;try{let _0x1346e3=JSON[_0x3a1fec(0x29d)](_0x1b5700);_0x544b15=JSON[_0x3a1fec(0x5b1)](_0x1346e3,null,0x2),_0x544b15=_0x544b15[_0x3a1fec(0x600)](/\n( +)/g,(_0x3a128c,_0x25bdda)=>{const _0x3b5d59=_0x3a1fec;let _0x5ec582=_0x25bdda[_0x3b5d59(0x40e)];return'\x0a'+_0x242b49[_0x3b5d59(0x459)](_0x5ec582*0x2);}),_0x544b15=_0x544b15[_0x3a1fec(0x600)](/(\d{10,}\.\d+)/g,_0x3af75e=>_0x1f7c66[_0x3af75e]||_0x3af75e);}catch(_0x468ad0){console['error']('Error\x20parsing\x20JSON:',_0x468ad0),_0x544b15=_0x5a67df,_0x4d450c=!0x0;}return{'result':_0x544b15,'error':_0x4d450c};}[a0_0x42e86b(0x8c7)](_0x110176,_0x5d9a17){const _0x100bec=a0_0x42e86b;if(_0x5d9a17[_0x100bec(0x657)][_0x100bec(0x762)]===_0x100bec(0x870)){this[_0x100bec(0x413)](_0x100bec(0x6da));return;}if(_0x5d9a17[_0x100bec(0x657)][_0x100bec(0x415)]&&_0x100bec(0x6d1)in _0x5d9a17[_0x100bec(0x657)][_0x100bec(0x415)]){this['logger'][_0x100bec(0x3f4)](this[_0x100bec(0x2c9)]+'\x20('+this[_0x100bec(0x82c)][_0x100bec(0x568)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x348a44=JSON[_0x100bec(0x5b1)](_0x5d9a17['block'][_0x100bec(0x415)][_0x100bec(0x6d1)],null,0x1);_0x348a44[_0x100bec(0x40e)]>0x2&&(_0x348a44=_0x348a44[_0x100bec(0x306)](0x1,_0x348a44[_0x100bec(0x40e)]-0x1)[_0x100bec(0x3e6)]()),_0x5d9a17[_0x100bec(0x657)]['apirequest'][_0x100bec(0x7c8)]=_0x348a44;}_0x5d9a17[_0x100bec(0x657)][_0x100bec(0x415)]&&_0x100bec(0x23f)in _0x5d9a17[_0x100bec(0x657)]['apirequest']&&(this[_0x100bec(0x7a6)][_0x100bec(0x3f4)](this[_0x100bec(0x2c9)]+'\x20('+this[_0x100bec(0x82c)][_0x100bec(0x568)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5d9a17[_0x100bec(0x657)][_0x100bec(0x415)][_0x100bec(0x520)]=JSON[_0x100bec(0x5b1)](_0x5d9a17[_0x100bec(0x657)][_0x100bec(0x415)][_0x100bec(0x23f)],null,0x1)[_0x100bec(0x3e6)]()),_0x110176[_0x100bec(0x6b9)][_0x100bec(0x234)](_0x5d9a17[_0x100bec(0x657)]),this[_0x100bec(0x8cb)](_0x110176['blocks'],_0x5d9a17[_0x100bec(0x657)]['groupId']);}[a0_0x42e86b(0x8cb)](_0x1e1315,_0x39aa84){const _0x56d70c=a0_0x42e86b;let _0x3b8953=_0x1e1315[_0x56d70c(0x496)](_0x5175c1=>_0x5175c1[_0x56d70c(0x457)]===_0x39aa84);_0x3b8953['sort']((_0x4cc86d,_0x121fde)=>_0x4cc86d[_0x56d70c(0x341)]-_0x121fde['order']),_0x3b8953[_0x56d70c(0x4ac)]((_0x17b07f,_0x226df1)=>_0x17b07f[_0x56d70c(0x341)]=_0x226df1+0x1);}async[a0_0x42e86b(0x1fd)](_0x14d942){const _0x5fad91=a0_0x42e86b;try{if(this['logger'][_0x5fad91(0x3f4)](this[_0x5fad91(0x2c9)]+'\x20('+this[_0x5fad91(0x82c)]['wuid']+_0x5fad91(0x2e0)),!_0x14d942||!_0x14d942['replyOption']){this[_0x5fad91(0x413)](_0x5fad91(0x71e));return;}if(!this['AutomateSystem'][_0x5fad91(0x5b2)][_0x5fad91(0x2a1)](_0x35956e=>_0x35956e[_0x5fad91(0x287)]===_0x14d942[_0x5fad91(0x287)]))throw this[_0x5fad91(0x7a6)]['verbose'](this['instanceName']+'\x20('+this[_0x5fad91(0x82c)][_0x5fad91(0x568)]+_0x5fad91(0x4fe)+_0x14d942[_0x5fad91(0x287)]+_0x5fad91(0x5be)),new f('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1911c4=await this[_0x5fad91(0x400)]['flow'][_0x5fad91(0x551)]({'where':{'_id':_0x14d942['_id']}});if(!_0x1911c4||!_0x1911c4[_0x5fad91(0x82a)]?.[_0x5fad91(0x8d2)](this[_0x5fad91(0x82c)][_0x5fad91(0x568)]))throw console[_0x5fad91(0x690)]((0x0,g[_0x5fad91(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x5fad91(0x2c9)]+'\x20('+this[_0x5fad91(0x82c)][_0x5fad91(0x568)]+'):\x20Flow\x20\x27'+_0x14d942[_0x5fad91(0x287)]+_0x5fad91(0x2f2)),new f('Flow\x20\x27'+_0x14d942[_0x5fad91(0x287)]+_0x5fad91(0x2f2));if(!_0x1911c4['whoCanEdit']?.['includes'](this[_0x5fad91(0x82c)]['wuid']))throw new f(_0x5fad91(0x74d));let {replyOption:_0x53cec1}=_0x14d942;_0x53cec1?.['delete']?(this[_0x5fad91(0x27e)](_0x1911c4,_0x14d942),this[_0x5fad91(0x49b)](_0x1911c4[_0x5fad91(0x842)],_0x14d942[_0x5fad91(0x420)]['blockId'])):_0x53cec1['_id']?(await this['updateReplyOption'](_0x1911c4,_0x14d942),this[_0x5fad91(0x49b)](_0x1911c4['replyOptions'],_0x14d942['replyOption'][_0x5fad91(0x592)])):(this['addReplyOption'](_0x1911c4,_0x14d942),this[_0x5fad91(0x49b)](_0x1911c4['replyOptions'],_0x14d942[_0x5fad91(0x420)][_0x5fad91(0x592)]));let _0x594e21=await this[_0x5fad91(0x400)][_0x5fad91(0x3dc)]['updateOne'](_0x1911c4[_0x5fad91(0x287)],_0x1911c4);if(!_0x594e21)throw new Error(_0x5fad91(0x2b3));return _0x594e21;}catch(_0x568897){this[_0x5fad91(0x413)](_0x5fad91(0x3c4)+_0x568897);}}['reorderReplyOptions'](_0x403253,_0x4f3980){const _0x269505=a0_0x42e86b;_0x403253[_0x269505(0x4ac)](_0x387d7f=>{const _0x3937e7=_0x269505;_0x387d7f[_0x3937e7(0x592)]===_0x4f3980&&_0x387d7f[_0x3937e7(0x341)]===void 0x0&&(_0x387d7f['order']=0x270f);});let _0x1f66f9=_0x403253['filter'](_0x7b6988=>_0x7b6988[_0x269505(0x592)]===_0x4f3980);_0x1f66f9[_0x269505(0x397)]((_0x18d546,_0x38b5d8)=>_0x18d546[_0x269505(0x341)]-_0x38b5d8[_0x269505(0x341)]),_0x1f66f9[_0x269505(0x4ac)]((_0x20a8ba,_0x4a2c29)=>{const _0xc18b72=_0x269505;_0x20a8ba[_0xc18b72(0x341)]=_0x4a2c29+0x1;}),_0x403253['forEach'](_0x4c364b=>{const _0x593d38=_0x269505;if(_0x4c364b[_0x593d38(0x592)]===_0x4f3980){let _0x20aed2=_0x1f66f9[_0x593d38(0x2a1)](_0x94c3a9=>_0x94c3a9['_id']&&_0x4c364b[_0x593d38(0x287)]&&_0x94c3a9[_0x593d38(0x287)][_0x593d38(0x53e)]()===_0x4c364b['_id'][_0x593d38(0x53e)]());_0x20aed2&&(_0x4c364b[_0x593d38(0x341)]=_0x20aed2[_0x593d38(0x341)]);}});}[a0_0x42e86b(0x27e)](_0x135efe,_0x15189c){const _0x350452=a0_0x42e86b;let {replyOption:_0x536589}=_0x15189c;if(!_0x536589[_0x350452(0x287)]){this[_0x350452(0x413)](_0x350452(0x39b));return;}if(!_0x135efe['replyOptions'][_0x350452(0x2a1)](_0x15158f=>_0x15158f['_id'][_0x350452(0x53e)]()===_0x15189c['replyOption']['_id'][_0x350452(0x53e)]())){this['throwAndLogError'](_0x350452(0x5ad)+_0x536589[_0x350452(0x287)]+_0x350452(0x576));return;}_0x135efe[_0x350452(0x842)]=_0x135efe['replyOptions'][_0x350452(0x496)](_0x78be71=>_0x78be71[_0x350452(0x287)][_0x350452(0x53e)]()!==_0x15189c[_0x350452(0x420)][_0x350452(0x287)][_0x350452(0x53e)]());}async[a0_0x42e86b(0x61e)](_0x81d6c8,_0x56a2f7){const _0x29d9cc=a0_0x42e86b;let _0x5488b0=_0x81d6c8[_0x29d9cc(0x842)][_0x29d9cc(0x86e)](_0x107500=>_0x107500[_0x29d9cc(0x287)][_0x29d9cc(0x53e)]()===_0x56a2f7[_0x29d9cc(0x420)]['_id'][_0x29d9cc(0x53e)]());if(_0x5488b0===-0x1){this[_0x29d9cc(0x413)](_0x29d9cc(0x5ad)+_0x56a2f7[_0x29d9cc(0x420)][_0x29d9cc(0x287)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x5246fe in _0x56a2f7['replyOption'])_0x56a2f7[_0x29d9cc(0x420)]['hasOwnProperty'](_0x5246fe)&&(_0x81d6c8[_0x29d9cc(0x842)][_0x5488b0][_0x5246fe]=_0x56a2f7[_0x29d9cc(0x420)][_0x5246fe]);}[a0_0x42e86b(0x337)](_0x4b6a4f,_0x10294f){const _0x552f31=a0_0x42e86b;_0x4b6a4f[_0x552f31(0x842)][_0x552f31(0x234)](_0x10294f[_0x552f31(0x420)]);}async[a0_0x42e86b(0x6f4)](_0x46a7cd){const _0x4e2a6b=a0_0x42e86b;this['logger'][_0x4e2a6b(0x3f4)](this[_0x4e2a6b(0x2c9)]+'\x20('+this[_0x4e2a6b(0x82c)][_0x4e2a6b(0x568)]+_0x4e2a6b(0x6cf)+JSON['stringify'](_0x46a7cd,null,0x2));try{if(this[_0x4e2a6b(0x7a6)][_0x4e2a6b(0x3f4)](this[_0x4e2a6b(0x2c9)]+'\x20('+this[_0x4e2a6b(0x82c)]['wuid']+_0x4e2a6b(0x75d)),!this[_0x4e2a6b(0x3cb)][_0x4e2a6b(0x5b2)]['find'](_0xea3fa5=>_0xea3fa5[_0x4e2a6b(0x287)]===_0x46a7cd['_id']))throw this[_0x4e2a6b(0x7a6)][_0x4e2a6b(0x3f4)](this[_0x4e2a6b(0x2c9)]+'\x20('+this[_0x4e2a6b(0x82c)][_0x4e2a6b(0x568)]+_0x4e2a6b(0x4fe)+_0x46a7cd[_0x4e2a6b(0x287)]+'\x27\x20não\x20encontrado'),new f('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1a66be=await this[_0x4e2a6b(0x400)][_0x4e2a6b(0x3dc)][_0x4e2a6b(0x551)]({'where':{'_id':_0x46a7cd[_0x4e2a6b(0x287)]}});if(!_0x1a66be||!_0x1a66be[_0x4e2a6b(0x82a)]?.[_0x4e2a6b(0x8d2)](this[_0x4e2a6b(0x82c)][_0x4e2a6b(0x568)]))throw console[_0x4e2a6b(0x690)]((0x0,g[_0x4e2a6b(0x5d8)])()[_0x4e2a6b(0x63e)](_0x4e2a6b(0x6e1))+':\x20'+this[_0x4e2a6b(0x2c9)]+'\x20('+this[_0x4e2a6b(0x82c)][_0x4e2a6b(0x568)]+_0x4e2a6b(0x45b)+_0x46a7cd[_0x4e2a6b(0x287)]+_0x4e2a6b(0x2f2)),new f('Flow\x20\x27'+_0x46a7cd[_0x4e2a6b(0x287)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1a66be['whoCanEdit']?.[_0x4e2a6b(0x8d2)](this[_0x4e2a6b(0x82c)][_0x4e2a6b(0x568)]))throw new f(_0x4e2a6b(0x74d));if(_0x46a7cd['group']&&_0x46a7cd[_0x4e2a6b(0x436)]?.[_0x4e2a6b(0x343)]===!0x0){if(this[_0x4e2a6b(0x7a6)]['verbose'](this[_0x4e2a6b(0x2c9)]+'\x20('+this[_0x4e2a6b(0x82c)]['wuid']+_0x4e2a6b(0x2d5)),_0x46a7cd[_0x4e2a6b(0x436)][_0x4e2a6b(0x5d8)]===!0x0)return{'message':_0x4e2a6b(0x8f4)};if(_0x1a66be[_0x4e2a6b(0x6b9)][_0x4e2a6b(0x6b4)](_0x1ca49f=>_0x1ca49f[_0x4e2a6b(0x457)][_0x4e2a6b(0x53e)]()===_0x46a7cd[_0x4e2a6b(0x436)]['_id']))return this['logger'][_0x4e2a6b(0x3f4)](this[_0x4e2a6b(0x2c9)]+'\x20('+this[_0x4e2a6b(0x82c)]['wuid']+_0x4e2a6b(0x750)),{'message':_0x4e2a6b(0x4c7)};_0x1a66be[_0x4e2a6b(0x4b1)]=_0x1a66be[_0x4e2a6b(0x4b1)]['filter'](_0x27577e=>_0x27577e['_id'][_0x4e2a6b(0x53e)]()!==_0x46a7cd[_0x4e2a6b(0x436)]['_id']);}else{if(_0x46a7cd[_0x4e2a6b(0x436)]){if(_0x46a7cd['group'][_0x4e2a6b(0x5d8)]===!0x0)return{'message':_0x4e2a6b(0x4e6)};if(_0x46a7cd['group'][_0x4e2a6b(0x287)]){let _0x3438fb=_0x1a66be['groups'][_0x4e2a6b(0x2a1)](_0x2b4619=>_0x2b4619[_0x4e2a6b(0x287)]['toString']()===_0x46a7cd[_0x4e2a6b(0x436)][_0x4e2a6b(0x287)]);_0x3438fb&&(_0x46a7cd[_0x4e2a6b(0x436)]['x']<0x0&&(_0x46a7cd[_0x4e2a6b(0x436)]['x']=0x0),_0x46a7cd[_0x4e2a6b(0x436)]['y']<0x0&&(_0x46a7cd[_0x4e2a6b(0x436)]['y']=0x0),Object['assign'](_0x3438fb,_0x46a7cd['group']));}else _0x1a66be[_0x4e2a6b(0x4b1)][_0x4e2a6b(0x234)](_0x46a7cd[_0x4e2a6b(0x436)]);}}let _0x43d9d5=await this['repository'][_0x4e2a6b(0x3dc)][_0x4e2a6b(0x5a3)](_0x1a66be['_id'],_0x1a66be);if(!_0x43d9d5)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x43d9d5;}catch(_0x5529){let _0x2a3cc6=_0x4e2a6b(0x68e),_0x22a46e=_0x5529 instanceof Error?_0x5529['message']:typeof _0x5529==_0x4e2a6b(0x387)?JSON[_0x4e2a6b(0x5b1)](_0x5529):_0x5529,_0x221e38=_0x2a3cc6+':\x20'+_0x22a46e;throw console[_0x4e2a6b(0x690)]((0x0,g[_0x4e2a6b(0x5d8)])()[_0x4e2a6b(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x4e2a6b(0x82c)][_0x4e2a6b(0x568)]+_0x4e2a6b(0x840)+_0x221e38),new f(_0x221e38);}}async[a0_0x42e86b(0x79c)](_0x26a1ac){const _0x476505=a0_0x42e86b;try{if(this['logger']['verbose'](this[_0x476505(0x2c9)]+'\x20('+this[_0x476505(0x82c)][_0x476505(0x568)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this[_0x476505(0x3cb)][_0x476505(0x5b2)]['find'](_0x7422c5=>_0x7422c5['_id']===_0x26a1ac[_0x476505(0x287)]))throw this['logger']['verbose'](this[_0x476505(0x2c9)]+'\x20('+this[_0x476505(0x82c)]['wuid']+'):\x20Fluxo\x20\x27'+_0x26a1ac[_0x476505(0x287)]+_0x476505(0x5be)),new f(_0x476505(0x315));let _0x252e92=await this[_0x476505(0x400)]['flow'][_0x476505(0x551)]({'where':{'_id':_0x26a1ac[_0x476505(0x287)]}});if(!_0x252e92||!_0x252e92[_0x476505(0x82a)]?.[_0x476505(0x8d2)](this[_0x476505(0x82c)][_0x476505(0x568)]))throw console[_0x476505(0x690)]((0x0,g['default'])()[_0x476505(0x63e)](_0x476505(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x476505(0x82c)][_0x476505(0x568)]+_0x476505(0x45b)+_0x26a1ac[_0x476505(0x287)]+_0x476505(0x2f2)),new f(_0x476505(0x63f)+_0x26a1ac[_0x476505(0x287)]+_0x476505(0x2f2));if(!_0x252e92[_0x476505(0x5ea)]?.[_0x476505(0x8d2)](this[_0x476505(0x82c)][_0x476505(0x568)]))throw new f(_0x476505(0x74d));let _0x497b57=!0x1;if(_0x26a1ac[_0x476505(0x70e)]?.[_0x476505(0x343)]===!0x0)_0x252e92[_0x476505(0x48a)]=_0x252e92[_0x476505(0x48a)][_0x476505(0x496)](_0xa9e88b=>_0xa9e88b&&_0x26a1ac[_0x476505(0x70e)]&&_0xa9e88b['_id']&&_0x26a1ac[_0x476505(0x70e)][_0x476505(0x287)]&&_0xa9e88b['_id'][_0x476505(0x53e)]()!==_0x26a1ac['condition'][_0x476505(0x287)][_0x476505(0x53e)]()),_0x497b57=!0x0;else{let _0x54ca16=_0x252e92[_0x476505(0x48a)][_0x476505(0x2a1)](_0xa402be=>_0xa402be&&_0x26a1ac[_0x476505(0x70e)]&&_0xa402be[_0x476505(0x287)]&&_0x26a1ac['condition'][_0x476505(0x287)]&&_0xa402be[_0x476505(0x287)][_0x476505(0x53e)]()===_0x26a1ac[_0x476505(0x70e)][_0x476505(0x287)]['toString']());_0x54ca16?(_0x497b57=_0x54ca16[_0x476505(0x341)]!==_0x26a1ac[_0x476505(0x70e)][_0x476505(0x341)],Object[_0x476505(0x580)](_0x54ca16,_0x26a1ac[_0x476505(0x70e)])):(_0x252e92[_0x476505(0x48a)][_0x476505(0x234)](_0x26a1ac['condition']),_0x497b57=!0x0);}if(_0x497b57){_0x252e92[_0x476505(0x48a)][_0x476505(0x397)]((_0x2fb301,_0x55cd8e)=>_0x2fb301['order']>_0x55cd8e['order']?0x1:_0x55cd8e[_0x476505(0x341)]>_0x2fb301[_0x476505(0x341)]?-0x1:0x0);for(let _0x23591c=0x0;_0x23591c<_0x252e92[_0x476505(0x48a)][_0x476505(0x40e)];_0x23591c++)_0x252e92[_0x476505(0x48a)][_0x23591c][_0x476505(0x341)]=_0x23591c+0x1;_0x252e92['conditions']['length']>0x0&&(_0x252e92[_0x476505(0x48a)][0x0][_0x476505(0x700)]=_0x476505(0x7bf));}let _0x3a8869=await this[_0x476505(0x400)][_0x476505(0x3dc)][_0x476505(0x5a3)](_0x252e92[_0x476505(0x287)],_0x252e92);if(!_0x3a8869)throw new Error(_0x476505(0x2b3));return _0x3a8869;}catch(_0x56425d){let _0xf75d28=_0x476505(0x7f5),_0x5ed04d=_0x56425d instanceof Error?_0x56425d[_0x476505(0x64b)]:typeof _0x56425d=='object'?JSON[_0x476505(0x5b1)](_0x56425d):_0x56425d,_0x23b2d8=_0xf75d28+':\x20'+_0x5ed04d;throw console[_0x476505(0x690)]((0x0,g[_0x476505(0x5d8)])()[_0x476505(0x63e)](_0x476505(0x6e1))+':\x20'+this[_0x476505(0x2c9)]+'\x20('+this[_0x476505(0x82c)][_0x476505(0x568)]+_0x476505(0x840)+_0x23b2d8),new f(_0x23b2d8);}}async['editFlowVaredit'](_0x250864){const _0x3d811e=a0_0x42e86b;try{if(this[_0x3d811e(0x7a6)][_0x3d811e(0x3f4)](this[_0x3d811e(0x2c9)]+'\x20('+this[_0x3d811e(0x82c)][_0x3d811e(0x568)]+_0x3d811e(0x406)),!this[_0x3d811e(0x3cb)]['flows']['find'](_0x59a58f=>_0x59a58f['_id']===_0x250864[_0x3d811e(0x287)]))throw this[_0x3d811e(0x7a6)]['verbose'](this[_0x3d811e(0x2c9)]+'\x20('+this[_0x3d811e(0x82c)][_0x3d811e(0x568)]+'):\x20Fluxo\x20\x27'+_0x250864['_id']+_0x3d811e(0x5be)),new f(_0x3d811e(0x315));let _0x3adb1b=await this[_0x3d811e(0x400)][_0x3d811e(0x3dc)][_0x3d811e(0x551)]({'where':{'_id':_0x250864[_0x3d811e(0x287)]}});if(!_0x3adb1b||!_0x3adb1b['whoCanUse']?.[_0x3d811e(0x8d2)](this[_0x3d811e(0x82c)][_0x3d811e(0x568)]))throw console['error']((0x0,g['default'])()[_0x3d811e(0x63e)](_0x3d811e(0x6e1))+':\x20'+this[_0x3d811e(0x2c9)]+'\x20('+this['instance']['wuid']+_0x3d811e(0x45b)+_0x250864[_0x3d811e(0x287)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new f('Flow\x20\x27'+_0x250864[_0x3d811e(0x287)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3adb1b['whoCanEdit']?.['includes'](this['instance'][_0x3d811e(0x568)]))throw new f('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x27ba2c=!0x1;if(_0x250864[_0x3d811e(0x33e)]?.[_0x3d811e(0x343)]===!0x0)_0x3adb1b[_0x3d811e(0x7ae)]=_0x3adb1b[_0x3d811e(0x7ae)]['filter'](_0x4a1eb4=>_0x4a1eb4&&_0x250864[_0x3d811e(0x33e)]&&_0x4a1eb4[_0x3d811e(0x287)]&&_0x250864[_0x3d811e(0x33e)]['_id']&&_0x4a1eb4[_0x3d811e(0x287)][_0x3d811e(0x53e)]()!==_0x250864[_0x3d811e(0x33e)]['_id'][_0x3d811e(0x53e)]()),_0x27ba2c=!0x0;else{let _0xceff3b=_0x3adb1b['varedits'][_0x3d811e(0x2a1)](_0x30c9a9=>_0x30c9a9&&_0x250864['varedit']&&_0x30c9a9[_0x3d811e(0x287)]&&_0x250864['varedit'][_0x3d811e(0x287)]&&_0x30c9a9[_0x3d811e(0x287)]['toString']()===_0x250864[_0x3d811e(0x33e)][_0x3d811e(0x287)][_0x3d811e(0x53e)]());_0xceff3b?(_0x27ba2c=_0xceff3b[_0x3d811e(0x341)]!==_0x250864[_0x3d811e(0x33e)][_0x3d811e(0x341)],Object['assign'](_0xceff3b,_0x250864[_0x3d811e(0x33e)])):(_0x3adb1b[_0x3d811e(0x7ae)][_0x3d811e(0x234)](_0x250864[_0x3d811e(0x33e)]),_0x27ba2c=!0x0);}if(_0x27ba2c){_0x3adb1b[_0x3d811e(0x7ae)]['sort']((_0x5199a3,_0x42e440)=>_0x5199a3[_0x3d811e(0x341)]>_0x42e440[_0x3d811e(0x341)]?0x1:_0x42e440[_0x3d811e(0x341)]>_0x5199a3[_0x3d811e(0x341)]?-0x1:0x0);for(let _0x3a9980=0x0;_0x3a9980<_0x3adb1b['varedits']['length'];_0x3a9980++)_0x3adb1b['varedits'][_0x3a9980]['order']=_0x3a9980+0x1;}let _0xafe5bc=await this[_0x3d811e(0x400)]['flow'][_0x3d811e(0x5a3)](_0x3adb1b[_0x3d811e(0x287)],_0x3adb1b);if(!_0xafe5bc)throw new Error(_0x3d811e(0x2b3));return _0xafe5bc;}catch(_0x3c34f7){let _0x22ede1=_0x3d811e(0x7f5),_0x51a720=_0x3c34f7 instanceof Error?_0x3c34f7[_0x3d811e(0x64b)]:typeof _0x3c34f7=='object'?JSON[_0x3d811e(0x5b1)](_0x3c34f7):_0x3c34f7,_0x15082e=_0x22ede1+':\x20'+_0x51a720;throw console[_0x3d811e(0x690)]((0x0,g['default'])()[_0x3d811e(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x3d811e(0x2c9)]+'\x20('+this[_0x3d811e(0x82c)]['wuid']+_0x3d811e(0x840)+_0x15082e),new f(_0x15082e);}}async[a0_0x42e86b(0x8cc)](_0x31eeb4){const _0x2ebd1c=a0_0x42e86b;try{if(this['logger'][_0x2ebd1c(0x3f4)](this[_0x2ebd1c(0x2c9)]+'\x20('+this[_0x2ebd1c(0x82c)][_0x2ebd1c(0x568)]+_0x2ebd1c(0x6dc)),!this['AutomateSystem'][_0x2ebd1c(0x5b2)][_0x2ebd1c(0x2a1)](_0x32c642=>_0x32c642[_0x2ebd1c(0x287)]===_0x31eeb4[_0x2ebd1c(0x287)]))throw this[_0x2ebd1c(0x7a6)][_0x2ebd1c(0x3f4)](this[_0x2ebd1c(0x2c9)]+'\x20('+this[_0x2ebd1c(0x82c)][_0x2ebd1c(0x568)]+_0x2ebd1c(0x4fe)+_0x31eeb4['_id']+_0x2ebd1c(0x5be)),new f('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x60a49b=await this[_0x2ebd1c(0x400)][_0x2ebd1c(0x3dc)][_0x2ebd1c(0x551)]({'where':{'_id':_0x31eeb4[_0x2ebd1c(0x287)]}});if(!_0x60a49b||!_0x60a49b[_0x2ebd1c(0x82a)]?.[_0x2ebd1c(0x8d2)](this[_0x2ebd1c(0x82c)][_0x2ebd1c(0x568)]))throw console[_0x2ebd1c(0x690)]((0x0,g[_0x2ebd1c(0x5d8)])()['format'](_0x2ebd1c(0x6e1))+':\x20'+this[_0x2ebd1c(0x2c9)]+'\x20('+this[_0x2ebd1c(0x82c)][_0x2ebd1c(0x568)]+_0x2ebd1c(0x45b)+_0x31eeb4[_0x2ebd1c(0x287)]+_0x2ebd1c(0x2f2)),new f(_0x2ebd1c(0x63f)+_0x31eeb4[_0x2ebd1c(0x287)]+_0x2ebd1c(0x2f2));if(!_0x60a49b[_0x2ebd1c(0x5ea)]?.['includes'](this[_0x2ebd1c(0x82c)]['wuid']))throw new f(_0x2ebd1c(0x74d));_0x31eeb4['variable']['name']=_0x31eeb4['variable'][_0x2ebd1c(0x2ea)][_0x2ebd1c(0x3e6)](),_0x31eeb4[_0x2ebd1c(0x484)][_0x2ebd1c(0x2ea)][_0x2ebd1c(0x4d4)]('_')&&(_0x31eeb4[_0x2ebd1c(0x484)]['name']=_0x31eeb4['variable'][_0x2ebd1c(0x2ea)][_0x2ebd1c(0x306)](0x1)),_0x31eeb4['variable']['name']=_0x31eeb4[_0x2ebd1c(0x484)][_0x2ebd1c(0x2ea)]['trim']();let _0x387539=_0x60a49b[_0x2ebd1c(0x261)][_0x2ebd1c(0x2a1)](_0x1c0962=>_0x1c0962['name']===_0x31eeb4['variable']['name']);if(_0x387539?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x31eeb4[_0x2ebd1c(0x484)]?.[_0x2ebd1c(0x343)]===!0x0){if(!_0x387539)return{'message':_0x2ebd1c(0x4e9)};_0x60a49b[_0x2ebd1c(0x261)]=_0x60a49b[_0x2ebd1c(0x261)][_0x2ebd1c(0x496)](_0x499994=>_0x499994[_0x2ebd1c(0x2ea)]!==_0x31eeb4[_0x2ebd1c(0x484)]['name']);}else _0x387539?Object[_0x2ebd1c(0x580)](_0x387539,_0x31eeb4['variable']):_0x60a49b[_0x2ebd1c(0x261)][_0x2ebd1c(0x234)](_0x31eeb4[_0x2ebd1c(0x484)]);let _0x5836ab=await this['repository'][_0x2ebd1c(0x3dc)][_0x2ebd1c(0x5a3)](_0x60a49b['_id'],_0x60a49b);if(!_0x5836ab)throw new Error(_0x2ebd1c(0x2b3));return _0x5836ab;}catch(_0x1a13c8){let _0x1e3102='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x58308e=_0x1a13c8 instanceof Error?_0x1a13c8[_0x2ebd1c(0x64b)]:typeof _0x1a13c8==_0x2ebd1c(0x387)?JSON[_0x2ebd1c(0x5b1)](_0x1a13c8):_0x1a13c8,_0x355476=_0x1e3102+':\x20'+_0x58308e;throw console[_0x2ebd1c(0x690)]((0x0,g[_0x2ebd1c(0x5d8)])()[_0x2ebd1c(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x2ebd1c(0x82c)][_0x2ebd1c(0x568)]+_0x2ebd1c(0x840)+_0x355476),new f(_0x355476);}}async['startFlow'](_0x3e2b54){const _0x30d4f5=a0_0x42e86b;let _0x1836d5=null;try{if(!this[_0x30d4f5(0x3cb)]?.[_0x30d4f5(0x24d)]['enabled'])throw new f(_0x30d4f5(0x8bc));this['logger']['verbose'](this[_0x30d4f5(0x2c9)]+'\x20('+this[_0x30d4f5(0x82c)][_0x30d4f5(0x568)]+_0x30d4f5(0x205));let _0x4d2c53=(await this[_0x30d4f5(0x601)]({'numbers':[_0x3e2b54[_0x30d4f5(0x3a3)]]}))[0x0];if(!_0x4d2c53[_0x30d4f5(0x8fd)]&&!(0x0,y[_0x30d4f5(0x890)])(_0x4d2c53[_0x30d4f5(0x67e)])&&!_0x4d2c53[_0x30d4f5(0x67e)]['includes'](_0x30d4f5(0x4b2)))throw _0x1836d5=JSON['stringify'](_0x4d2c53,null,0x2),new f(_0x4d2c53);let _0x511ada;if(_0x3e2b54[_0x30d4f5(0x2ea)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x30d4f5(0x59c)](_0x3e2b54['name'])?_0x511ada=this[_0x30d4f5(0x3cb)][_0x30d4f5(0x5b2)][_0x30d4f5(0x2a1)](_0x30af2c=>_0x30af2c[_0x30d4f5(0x287)]===_0x3e2b54[_0x30d4f5(0x2ea)]):_0x511ada=this[_0x30d4f5(0x3cb)][_0x30d4f5(0x5b2)][_0x30d4f5(0x2a1)](_0x550567=>_0x550567[_0x30d4f5(0x2ea)]===_0x3e2b54['name']),!_0x511ada)throw this[_0x30d4f5(0x7a6)][_0x30d4f5(0x3f4)](this[_0x30d4f5(0x2c9)]+'\x20('+this[_0x30d4f5(0x82c)][_0x30d4f5(0x568)]+_0x30d4f5(0x4fe)+_0x3e2b54[_0x30d4f5(0x2ea)]+_0x30d4f5(0x5be)),new f('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3ea6ef=await this[_0x30d4f5(0x400)]['flow'][_0x30d4f5(0x551)]({'where':{'_id':_0x511ada['_id']}});if(!_0x3ea6ef||!_0x3ea6ef[_0x30d4f5(0x82a)]?.[_0x30d4f5(0x8d2)](this['instance']['wuid']))throw console[_0x30d4f5(0x690)]((0x0,g[_0x30d4f5(0x5d8)])()[_0x30d4f5(0x63e)](_0x30d4f5(0x6e1))+':\x20'+this[_0x30d4f5(0x2c9)]+'\x20('+this[_0x30d4f5(0x82c)][_0x30d4f5(0x568)]+_0x30d4f5(0x45b)+_0x511ada[_0x30d4f5(0x287)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x1836d5=_0x30d4f5(0x63f)+_0x511ada['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new f(_0x1836d5);let _0x130ba0=await this[_0x30d4f5(0x5e4)](_0x3ea6ef,_0x4d2c53[_0x30d4f5(0x67e)],_0x3e2b54[_0x30d4f5(0x809)]);if(_0x130ba0){this[_0x30d4f5(0x7a6)][_0x30d4f5(0x3f4)](this[_0x30d4f5(0x2c9)]+'\x20('+this[_0x30d4f5(0x82c)][_0x30d4f5(0x568)]+_0x30d4f5(0x701));let _0x555b73=await this[_0x30d4f5(0x417)](_0x130ba0);return _0x555b73&&await this[_0x30d4f5(0x87c)](_0x130ba0,_0x555b73),{'message':'Flow\x20iniciado\x20com\x20'+_0x3e2b54[_0x30d4f5(0x3a3)]};}}catch(_0x4e0be3){if(console[_0x30d4f5(0x690)]((0x0,g[_0x30d4f5(0x5d8)])()[_0x30d4f5(0x63e)](_0x30d4f5(0x6e1))+':\x20'+this[_0x30d4f5(0x2c9)]+'\x20('+this[_0x30d4f5(0x82c)][_0x30d4f5(0x568)]+_0x30d4f5(0x3e2)+(_0x4e0be3 instanceof Error?_0x4e0be3[_0x30d4f5(0x64b)]:JSON[_0x30d4f5(0x5b1)](_0x4e0be3,null,0x2))),_0x1836d5=_0x4e0be3 instanceof Error?_0x4e0be3[_0x30d4f5(0x64b)]:JSON[_0x30d4f5(0x5b1)](_0x4e0be3,null,0x2),_0x1836d5)throw new f(_0x30d4f5(0x2d1)+_0x1836d5);}}async[a0_0x42e86b(0x313)](_0x32cd29,_0x588131,_0x45fa91){const _0x21a28b=a0_0x42e86b;let _0x4094b6=null;try{if(!this['AutomateSystem']?.[_0x21a28b(0x24d)]['enabled'])throw new f(_0x21a28b(0x8bc));if(this['logger'][_0x21a28b(0x3f4)](this[_0x21a28b(0x2c9)]+'\x20('+this[_0x21a28b(0x82c)][_0x21a28b(0x568)]+_0x21a28b(0x205)),_0x588131){let _0x3bb750=(await this[_0x21a28b(0x601)]({'numbers':[_0x588131]}))[0x0];if(!_0x3bb750[_0x21a28b(0x8fd)]&&!(0x0,y[_0x21a28b(0x890)])(_0x3bb750[_0x21a28b(0x67e)])&&!_0x3bb750[_0x21a28b(0x67e)][_0x21a28b(0x8d2)](_0x21a28b(0x4b2)))throw _0x4094b6=JSON[_0x21a28b(0x5b1)](_0x3bb750,null,0x2),new f(_0x3bb750);_0x588131=_0x3bb750[_0x21a28b(0x67e)];}else _0x588131||(_0x588131=(0x0,he['v4'])());let _0x420a17=await this[_0x21a28b(0x400)][_0x21a28b(0x3dc)][_0x21a28b(0x551)]({'where':{'_id':_0x32cd29}});if(!_0x420a17||!_0x420a17[_0x21a28b(0x82a)]?.[_0x21a28b(0x8d2)](this['instance'][_0x21a28b(0x568)]))throw console[_0x21a28b(0x690)]((0x0,g[_0x21a28b(0x5d8)])()[_0x21a28b(0x63e)](_0x21a28b(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x21a28b(0x82c)][_0x21a28b(0x568)]+'):\x20Flow\x20\x27'+_0x32cd29+_0x21a28b(0x2f2)),new f('Flow\x20\x27'+_0x32cd29+_0x21a28b(0x2f2));let _0x19f2cd=await this[_0x21a28b(0x5e4)](_0x420a17,_0x588131,null);if(_0x19f2cd){this[_0x21a28b(0x7a6)]['verbose'](this[_0x21a28b(0x2c9)]+'\x20('+this[_0x21a28b(0x82c)][_0x21a28b(0x568)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x5b995e;if(_0x45fa91){let _0x2c8fa9=_0x19f2cd[_0x21a28b(0x3ae)][_0x21a28b(0x49f)],_0x1cab23=this[_0x21a28b(0x632)](_0x45fa91);Object['assign'](_0x2c8fa9,_0x1cab23),_0x19f2cd['chatLog'][_0x21a28b(0x49f)]=_0x2c8fa9,_0x5b995e={'error':!0x1,'apiResponse':_0x45fa91};}let _0x393d45=await this[_0x21a28b(0x417)](_0x19f2cd);return _0x393d45&&await this[_0x21a28b(0x87c)](_0x19f2cd,_0x393d45),{'message':_0x21a28b(0x246)};}}catch(_0x1778ae){if(console[_0x21a28b(0x690)]((0x0,g['default'])()[_0x21a28b(0x63e)](_0x21a28b(0x6e1))+':\x20'+this[_0x21a28b(0x2c9)]+'\x20('+this[_0x21a28b(0x82c)][_0x21a28b(0x568)]+_0x21a28b(0x3e2)+(_0x1778ae instanceof Error?_0x1778ae[_0x21a28b(0x64b)]:JSON[_0x21a28b(0x5b1)](_0x1778ae,null,0x2))),_0x4094b6=_0x1778ae instanceof Error?_0x1778ae['message']:JSON['stringify'](_0x1778ae,null,0x2),_0x4094b6)throw new f(_0x21a28b(0x2d1)+_0x4094b6);}}async['closeExistingConversations'](_0x323df0){const _0x4c5ab0=a0_0x42e86b;try{let _0x5dc8a9={'remoteJid':_0x323df0,'status':_0x4c5ab0(0x7a1)},_0x5534a8={'status':_0x4c5ab0(0x7e7)},_0x44eef5=await this[_0x4c5ab0(0x400)][_0x4c5ab0(0x2e9)][_0x4c5ab0(0x21b)](_0x5dc8a9,_0x5534a8,this['instance']['wuid']);return this[_0x4c5ab0(0x7a6)][_0x4c5ab0(0x3f4)](this['instanceName']+'\x20('+this[_0x4c5ab0(0x82c)]['wuid']+_0x4c5ab0(0x45a)),_0x44eef5;}catch(_0x1da87e){throw console['error']((0x0,g[_0x4c5ab0(0x5d8)])()[_0x4c5ab0(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x4c5ab0(0x2c9)]+'\x20('+this[_0x4c5ab0(0x82c)]['wuid']+_0x4c5ab0(0x2bd)+_0x1da87e[_0x4c5ab0(0x64b)]),_0x1da87e;}}async[a0_0x42e86b(0x5e4)](_0xe78da7,_0x1eae61,_0x479ee2){const _0x1ea820=a0_0x42e86b;this[_0x1ea820(0x7a6)]['verbose'](this['instanceName']+'\x20('+this[_0x1ea820(0x82c)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x1ea820(0x631)](_0x1eae61);try{let _0x4f91dd=require(_0x1ea820(0x508))['ObjectId'],_0x47f111=Date['now'](),_0x5422c3=_0x1ea820(0x870),_0x4c0667={},_0x4e8da7={},_0x4b877e=this[_0x1ea820(0x3cb)][_0x1ea820(0x5b2)][_0x1ea820(0x2a1)](_0x2f54f6=>_0x2f54f6[_0x1ea820(0x287)]===_0xe78da7[_0x1ea820(0x287)]?.[_0x1ea820(0x53e)]()),_0x115458=_0x4b877e?.[_0x1ea820(0x522)]??_0xe78da7[_0x1ea820(0x522)]??0x0,_0x1da37d=_0x4b877e?.[_0x1ea820(0x830)]??_0xe78da7['readMessages']??!0x1,_0x5157d1={..._0xe78da7,'chatLog':null},_0x22c727=await this[_0x1ea820(0x61b)](_0x5157d1[_0x1ea820(0x261)]),_0x23d235=await this[_0x1ea820(0x4bf)](_0x1eae61),_0x432aae={..._0x22c727,..._0x23d235,'_remoteJid':_0x1eae61},_0x16b78c={'lastReceivedMessage':_0x4c0667,'lastSendMessage':_0x4e8da7,'lastBlockId':_0x5422c3,'lastCondition':!0x0,'realVariables':_0x432aae};_0x5157d1[_0x1ea820(0x3ae)]=_0x16b78c,_0x5157d1[_0x1ea820(0x3ae)][_0x1ea820(0x49f)]={..._0x432aae,..._0x479ee2},delete _0x5157d1[_0x1ea820(0x287)],_0x5157d1[_0x1ea820(0x287)]=new _0x4f91dd(),_0x5157d1[_0x1ea820(0x727)]=_0x47f111,_0x5157d1[_0x1ea820(0x454)]='open',_0x5157d1[_0x1ea820(0x3a3)]=_0x1eae61,_0x5157d1['minutesToClose']=_0x115458,_0x5157d1[_0x1ea820(0x830)]=_0x1da37d,_0x5157d1['_id']=_0xe78da7[_0x1ea820(0x287)];let _0x236d58=await this[_0x1ea820(0x400)]['flowConversation'][_0x1ea820(0x5a3)](_0x5157d1['_id'],_0x5157d1,this['instance']['wuid']);return this[_0x1ea820(0x7a6)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1ea820(0x568)]+_0x1ea820(0x21d)),_0x236d58?_0x5157d1:null;}catch(_0xaf0ff6){let _0x13e6f0=_0x1ea820(0x859),_0x23ee51=_0xaf0ff6 instanceof Error?_0xaf0ff6[_0x1ea820(0x64b)]:typeof _0xaf0ff6==_0x1ea820(0x387)?JSON[_0x1ea820(0x5b1)](_0xaf0ff6):_0xaf0ff6,_0x5a8f1c=_0x13e6f0+':\x20'+_0x23ee51;throw console['error']((0x0,g['default'])()[_0x1ea820(0x63e)](_0x1ea820(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x1ea820(0x82c)]['wuid']+_0x1ea820(0x840)+_0x5a8f1c),new f(_0x5a8f1c);}}async[a0_0x42e86b(0x4c3)](_0x4daee2){const _0x2dea92=a0_0x42e86b;try{this['logger'][_0x2dea92(0x3f4)](this[_0x2dea92(0x2c9)]+'\x20('+this[_0x2dea92(0x82c)][_0x2dea92(0x568)]+'):\x20Buscando\x20conversa...'),this[_0x2dea92(0x7a6)][_0x2dea92(0x3f4)](this[_0x2dea92(0x2c9)]+'\x20('+this['instance'][_0x2dea92(0x568)]+'):\x20Query\x20params:\x20'+_0x4daee2);let _0x12e4bc={'where':{'_id':_0x4daee2}};return await this['repository'][_0x2dea92(0x2e9)][_0x2dea92(0x551)](_0x12e4bc,this[_0x2dea92(0x82c)][_0x2dea92(0x568)]);}catch(_0x124b0a){let _0x311b34=_0x2dea92(0x298),_0x1b66a5=_0x124b0a instanceof Error?_0x124b0a[_0x2dea92(0x64b)]:typeof _0x124b0a=='object'?JSON[_0x2dea92(0x5b1)](_0x124b0a):_0x124b0a,_0x33e5e1=_0x311b34+':\x20'+_0x1b66a5;throw console[_0x2dea92(0x690)]((0x0,g[_0x2dea92(0x5d8)])()[_0x2dea92(0x63e)](_0x2dea92(0x6e1))+':\x20'+this[_0x2dea92(0x2c9)]+'\x20('+this['instance'][_0x2dea92(0x568)]+_0x2dea92(0x840)+_0x33e5e1),new f(_0x33e5e1);}}async[a0_0x42e86b(0x42c)](_0x115c20){const _0x4d9856=a0_0x42e86b;try{return this[_0x4d9856(0x7a6)][_0x4d9856(0x3f4)](this['instanceName']+'\x20('+this[_0x4d9856(0x82c)]['wuid']+'):\x20Buscando\x20conversas...'),await this[_0x4d9856(0x400)][_0x4d9856(0x2e9)][_0x4d9856(0x2a1)](_0x115c20,this[_0x4d9856(0x82c)][_0x4d9856(0x568)]);}catch(_0x4778e8){let _0x12f6ba=_0x4d9856(0x441),_0x540766=_0x4778e8 instanceof Error?_0x4778e8['message']:typeof _0x4778e8==_0x4d9856(0x387)?JSON['stringify'](_0x4778e8):_0x4778e8,_0xa1213f=_0x12f6ba+':\x20'+_0x540766;throw console['error']((0x0,g['default'])()[_0x4d9856(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x4d9856(0x2c9)]+'\x20('+this[_0x4d9856(0x82c)]['wuid']+'):\x20'+_0xa1213f),new f(_0xa1213f);}}async[a0_0x42e86b(0x358)](_0x58f050){const _0x10bc3a=a0_0x42e86b;try{return this[_0x10bc3a(0x7a6)]['verbose'](this['instanceName']+'\x20('+this[_0x10bc3a(0x82c)][_0x10bc3a(0x568)]+'):\x20Deletando\x20conversa...'),this[_0x10bc3a(0x7a6)][_0x10bc3a(0x3f4)](this[_0x10bc3a(0x2c9)]+'\x20('+this['instance'][_0x10bc3a(0x568)]+_0x10bc3a(0x429)+_0x58f050),(await this[_0x10bc3a(0x400)]['flowConversation'][_0x10bc3a(0x5d9)]({'where':{'_id':_0x58f050[_0x10bc3a(0x287)]}},this[_0x10bc3a(0x82c)][_0x10bc3a(0x568)]))[_0x10bc3a(0x290)]===0x0?{'message':_0x10bc3a(0x588)}:{'message':_0x10bc3a(0x34d)};}catch(_0x4ef088){let _0xb55158=_0x10bc3a(0x743),_0xa9b8c3=_0x4ef088 instanceof Error?_0x4ef088[_0x10bc3a(0x64b)]:typeof _0x4ef088==_0x10bc3a(0x387)?JSON[_0x10bc3a(0x5b1)](_0x4ef088):_0x4ef088,_0xc9e1ab=_0xb55158+':\x20'+_0xa9b8c3;throw console['error']((0x0,g['default'])()[_0x10bc3a(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x10bc3a(0x2c9)]+'\x20('+this[_0x10bc3a(0x82c)][_0x10bc3a(0x568)]+_0x10bc3a(0x840)+_0xc9e1ab),new f(_0xc9e1ab);}}async['editConversation'](_0x12c847){const _0x37275a=a0_0x42e86b;try{let {_id:_0x259d37,chatLog:_0x1b66d7,status:_0x3efca4}=_0x12c847;if(!_0x259d37)return{'message':_0x37275a(0x5c8)};let _0xda0376={};if(_0x3efca4!==void 0x0&&(_0xda0376[_0x37275a(0x454)]=_0x3efca4),Object[_0x37275a(0x3b9)](_0xda0376)[_0x37275a(0x40e)]===0x0)return{'message':_0x37275a(0x4c5)};let _0xdbe1c1=await this[_0x37275a(0x400)][_0x37275a(0x2e9)][_0x37275a(0x5a3)](_0x259d37,_0xda0376,this['instance'][_0x37275a(0x568)]);return _0xdbe1c1||{'message':_0x37275a(0x813)};}catch(_0x430f2d){let _0x49dad7='Erro\x20ao\x20editar\x20a\x20conversa',_0x1319ce=_0x430f2d instanceof Error?_0x430f2d[_0x37275a(0x64b)]:typeof _0x430f2d==_0x37275a(0x387)?JSON['stringify'](_0x430f2d):_0x430f2d,_0x1403c9=_0x49dad7+':\x20'+_0x1319ce;throw console[_0x37275a(0x690)]((0x0,g[_0x37275a(0x5d8)])()['format'](_0x37275a(0x6e1))+':\x20'+this[_0x37275a(0x2c9)]+'\x20('+this['instance'][_0x37275a(0x568)]+_0x37275a(0x840)+_0x1403c9),new f(_0x1403c9);}}async['editChat'](_0x35498e){const _0xc97ebb=a0_0x42e86b;try{_0x35498e[_0xc97ebb(0x287)]=this[_0xc97ebb(0x838)](_0x35498e[_0xc97ebb(0x287)]);let _0x1a1e0e=await this[_0xc97ebb(0x400)][_0xc97ebb(0x21e)][_0xc97ebb(0x551)]({'where':{'_id':_0x35498e['_id']}},this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]);if(!_0x1a1e0e)throw new f(_0xc97ebb(0x6c7));let {_id:_0x46d209,leadInfo:_0x239b72}=_0x35498e;if(!_0x46d209)throw new Error(_0xc97ebb(0x488));if(_0x35498e[_0xc97ebb(0x343)]===_0xc97ebb(0x320))return await this[_0xc97ebb(0x500)](_0x35498e[_0xc97ebb(0x287)]),await this[_0xc97ebb(0x400)][_0xc97ebb(0x21e)][_0xc97ebb(0x343)]({'where':{'_id':_0x35498e[_0xc97ebb(0x287)]}},this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]),await this[_0xc97ebb(0x400)][_0xc97ebb(0x64b)][_0xc97ebb(0x343)]({'where':{'key':{'remoteJid':_0x35498e[_0xc97ebb(0x287)]}}},this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]),_0x35498e=await this[_0xc97ebb(0x400)][_0xc97ebb(0x21e)][_0xc97ebb(0x5a3)]({'where':{'_id':_0x35498e[_0xc97ebb(0x287)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]),J(this[_0xc97ebb(0x2c9)],'chats',{'chat':_0x35498e}),{'message':_0xc97ebb(0x57e)};if(_0x35498e[_0xc97ebb(0x343)]===_0xc97ebb(0x29a))return await this[_0xc97ebb(0x400)][_0xc97ebb(0x64b)]['delete']({'where':{'key':{'remoteJid':_0x35498e[_0xc97ebb(0x287)]}}},this['instance'][_0xc97ebb(0x568)]),_0x35498e=await this[_0xc97ebb(0x400)][_0xc97ebb(0x21e)]['updateOne']({'where':{'_id':_0x35498e[_0xc97ebb(0x287)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]),J(this[_0xc97ebb(0x2c9)],_0xc97ebb(0x3b7),{'chat':_0x35498e}),{'message':_0xc97ebb(0x265)};let _0x310f22=(_0x496c81,_0x5281fa,_0x5dd358)=>{_0x496c81&&_0x5dd358['forEach'](_0x4bfc65=>{_0x496c81[_0x4bfc65]!==void 0x0&&(_0x5281fa['leadInfo.'+_0x4bfc65]=_0x496c81[_0x4bfc65]);});},_0x317ccf={};if(_0xc97ebb(0x6ec)in _0x35498e&&(this[_0xc97ebb(0x7a6)]['verbose'](this[_0xc97ebb(0x2c9)]+'\x20('+this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]+_0xc97ebb(0x66e)+_0x35498e[_0xc97ebb(0x287)]),_0x35498e[_0xc97ebb(0x6ec)]=_0x35498e[_0xc97ebb(0x6ec)]===0x0?null:-0x1,await this[_0xc97ebb(0x342)][_0xc97ebb(0x516)]({'mute':_0x35498e[_0xc97ebb(0x6ec)]},_0x35498e[_0xc97ebb(0x287)]),_0x317ccf[_0xc97ebb(0x6ec)]=Number(_0x35498e[_0xc97ebb(0x6ec)])),_0x239b72&&(_0x310f22(_0x239b72,_0x317ccf,[_0xc97ebb(0x668),_0xc97ebb(0x46a),_0xc97ebb(0x5ee),_0xc97ebb(0x380),_0xc97ebb(0x454),_0xc97ebb(0x88b),_0xc97ebb(0x471),_0xc97ebb(0x5fa),_0xc97ebb(0x452),'etiquetas']),Array['isArray'](_0x239b72['customFields'])&&(_0x317ccf[_0xc97ebb(0x79a)]=_0x239b72[_0xc97ebb(0x76c)][_0xc97ebb(0x57c)](_0x370d12=>({'_id':_0x370d12[_0xc97ebb(0x287)],'value':_0x370d12[_0xc97ebb(0x62f)]}))),_0x35498e[_0xc97ebb(0x49d)]['etiquetas']!==void 0x0)){let _0x34858b=await this['repository'][_0xc97ebb(0x644)][_0xc97ebb(0x2a1)]({'where':{}},this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]),_0x3f0870=new Set(_0x35498e['leadInfo'][_0xc97ebb(0x518)]||[]),_0x4c79f2=new Set(_0x35498e[_0xc97ebb(0x49d)][_0xc97ebb(0x518)]),_0x1f5261=new Set(_0x34858b['map'](_0x2a3618=>_0x2a3618[_0xc97ebb(0x287)])),_0x31adf9=[..._0x4c79f2]['filter'](_0x3328a3=>!_0x3f0870['has'](_0x3328a3)&&_0x1f5261['has'](_0x3328a3)),_0x5d41e8=[..._0x3f0870][_0xc97ebb(0x496)](_0x45bce8=>!_0x4c79f2[_0xc97ebb(0x63c)](_0x45bce8));if(_0x317ccf['leadInfo.etiquetas']=[..._0x3f0870],_0x1a1e0e&&!_0x1a1e0e['imported']){for(let _0x1a2a59 of _0x31adf9)await this['AddChatLabel'](_0x1a2a59,_0x35498e['_id']),_0x3f0870['add'](_0x1a2a59);for(let _0x2df4a1 of _0x5d41e8)await this[_0xc97ebb(0x2d6)](_0x2df4a1,_0x35498e['_id']),_0x3f0870[_0xc97ebb(0x343)](_0x2df4a1);}}if(_0x35498e['unreadcount']!==void 0x0&&(_0x317ccf[_0xc97ebb(0x1f9)]=Number(_0x35498e[_0xc97ebb(0x1f9)])),Object['keys'](_0x317ccf)['length']===0x0)throw new Error(_0xc97ebb(0x4c5));let _0x284a8e=await this[_0xc97ebb(0x400)][_0xc97ebb(0x21e)][_0xc97ebb(0x5a3)]({'where':{'_id':_0x35498e['_id']}},_0x317ccf,this[_0xc97ebb(0x82c)]['wuid']);return _0x284a8e&&J(this[_0xc97ebb(0x2c9)],'chats',{'chat':_0x284a8e}),_0x284a8e?(this[_0xc97ebb(0x7a6)][_0xc97ebb(0x3f4)](this[_0xc97ebb(0x2c9)]+'\x20('+this['instance'][_0xc97ebb(0x568)]+_0xc97ebb(0x840)+JSON[_0xc97ebb(0x5b1)](_0x284a8e,null,0x2)),_0x284a8e):{'message':_0xc97ebb(0x73c)};}catch(_0x3a5ba0){let _0x41f70a=_0xc97ebb(0x712),_0x45131d=_0x3a5ba0 instanceof Error?_0x3a5ba0[_0xc97ebb(0x64b)]:typeof _0x3a5ba0==_0xc97ebb(0x387)?JSON[_0xc97ebb(0x5b1)](_0x3a5ba0):_0x3a5ba0,_0x9f6680=_0x41f70a+':\x20'+_0x45131d;throw console['error']((0x0,g[_0xc97ebb(0x5d8)])()['format'](_0xc97ebb(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0xc97ebb(0x82c)][_0xc97ebb(0x568)]+_0xc97ebb(0x840)+_0x9f6680),new f(_0x9f6680);}}async[a0_0x42e86b(0x737)](_0x25ac1b,_0x2d1fc9){const _0x5950e5=a0_0x42e86b;try{await this[_0x5950e5(0x342)][_0x5950e5(0x418)](_0x2d1fc9,_0x25ac1b),this[_0x5950e5(0x7a6)]['info'](this[_0x5950e5(0x2c9)]+'\x20('+this[_0x5950e5(0x82c)][_0x5950e5(0x568)]+_0x5950e5(0x82e)+_0x25ac1b+_0x5950e5(0x68c)+_0x2d1fc9+'\x20com\x20sucesso.');}catch(_0x1d9612){console[_0x5950e5(0x690)]((0x0,g[_0x5950e5(0x5d8)])()[_0x5950e5(0x63e)](_0x5950e5(0x6e1))+_0x5950e5(0x618)+_0x25ac1b+'\x20ao\x20chat\x20'+_0x2d1fc9+':',_0x1d9612);}}async[a0_0x42e86b(0x2d6)](_0x2ced6b,_0x1f8a31){const _0x4b575b=a0_0x42e86b;try{await this['client'][_0x4b575b(0x8ed)](_0x1f8a31,_0x2ced6b),this[_0x4b575b(0x7a6)][_0x4b575b(0x2d4)](this[_0x4b575b(0x2c9)]+'\x20('+this[_0x4b575b(0x82c)][_0x4b575b(0x568)]+_0x4b575b(0x82e)+_0x2ced6b+_0x4b575b(0x73b)+_0x1f8a31+_0x4b575b(0x87a));}catch(_0x12d132){console['error']((0x0,g['default'])()['format'](_0x4b575b(0x6e1))+':\x20Erro\x20ao\x20remover\x20label\x20'+_0x2ced6b+'\x20do\x20chat\x20'+_0x1f8a31+':',_0x12d132);}}async[a0_0x42e86b(0x1f3)](_0x23fd23){const _0x2ddf70=a0_0x42e86b;try{let _0x28710a=await this[_0x2ddf70(0x400)][_0x2ddf70(0x628)]['findOrCreate'](this[_0x2ddf70(0x82c)][_0x2ddf70(0x568)]),_0x31830c=_0x23fd23[_0x2ddf70(0x287)]?_0x28710a[_0x2ddf70(0x44c)][_0x2ddf70(0x86e)](_0x383d5e=>_0x383d5e[_0x2ddf70(0x287)]===_0x23fd23[_0x2ddf70(0x287)]):-0x1;if(_0x23fd23[_0x2ddf70(0x343)]&&_0x31830c>-0x1)_0x28710a[_0x2ddf70(0x44c)][_0x2ddf70(0x492)](_0x31830c,0x1);else{if(_0x31830c>-0x1){let _0x2d3f5a=_0x28710a[_0x2ddf70(0x44c)][_0x31830c];_0x23fd23[_0x2ddf70(0x5f7)]&&(_0x2d3f5a[_0x2ddf70(0x5f7)]=_0x23fd23[_0x2ddf70(0x5f7)]),_0x23fd23[_0x2ddf70(0x2ea)]&&(_0x2d3f5a[_0x2ddf70(0x2ea)]=_0x23fd23[_0x2ddf70(0x2ea)]),_0x23fd23[_0x2ddf70(0x5ee)]&&(_0x2d3f5a[_0x2ddf70(0x5ee)]=_0x23fd23['email']),_0x23fd23[_0x2ddf70(0x831)]&&(_0x2d3f5a[_0x2ddf70(0x831)]=_0x23fd23[_0x2ddf70(0x831)]);}else _0x28710a[_0x2ddf70(0x44c)]['push']({'_id':_0x23fd23[_0x2ddf70(0x287)]||new ue[(_0x2ddf70(0x5d8))]['Types'][(_0x2ddf70(0x5f9))]()[_0x2ddf70(0x53e)](),'fone':_0x23fd23[_0x2ddf70(0x5f7)],'name':_0x23fd23[_0x2ddf70(0x2ea)],'email':_0x23fd23[_0x2ddf70(0x5ee)],'role':_0x23fd23[_0x2ddf70(0x831)]});}let _0x31a1a0={'agents':_0x28710a[_0x2ddf70(0x44c)]},_0x4ac44e=await this[_0x2ddf70(0x400)][_0x2ddf70(0x628)][_0x2ddf70(0x211)](_0x31a1a0,this[_0x2ddf70(0x82c)][_0x2ddf70(0x568)]);return this[_0x2ddf70(0x3cb)]=_0x4ac44e,this[_0x2ddf70(0x7a6)][_0x2ddf70(0x3f4)](this[_0x2ddf70(0x2c9)]+'\x20('+this[_0x2ddf70(0x82c)][_0x2ddf70(0x568)]+_0x2ddf70(0x220)),this[_0x2ddf70(0x7a6)][_0x2ddf70(0x3f4)](this[_0x2ddf70(0x2c9)]+'\x20('+this['instance'][_0x2ddf70(0x568)]+'):\x20'+this[_0x2ddf70(0x3cb)]),_0x4ac44e;}catch(_0x477c2e){let _0x4556dc=_0x2ddf70(0x6b0),_0x4ea432=_0x477c2e instanceof Error?_0x477c2e[_0x2ddf70(0x64b)]:typeof _0x477c2e=='object'?JSON[_0x2ddf70(0x5b1)](_0x477c2e):_0x477c2e,_0x1539a7=_0x4556dc+':\x20'+_0x4ea432;throw console[_0x2ddf70(0x690)]((0x0,g['default'])()['format'](_0x2ddf70(0x6e1))+':\x20'+this[_0x2ddf70(0x2c9)]+'\x20('+this['instance']['wuid']+_0x2ddf70(0x840)+_0x1539a7),new f(_0x1539a7);}}async[a0_0x42e86b(0x391)](_0x5aa3bd){const _0x150cb2=a0_0x42e86b;try{let _0x617b2c=await this['repository'][_0x150cb2(0x628)][_0x150cb2(0x58c)](this[_0x150cb2(0x82c)][_0x150cb2(0x568)]),_0x570378=_0x5aa3bd[_0x150cb2(0x287)]?_0x617b2c['customFields'][_0x150cb2(0x86e)](_0x21ad12=>_0x21ad12[_0x150cb2(0x287)]===_0x5aa3bd[_0x150cb2(0x287)]):-0x1,_0x5c56ac=!0x1,_0x4f0c05=_0x617b2c[_0x150cb2(0x76c)][_0x150cb2(0x6b4)](_0x30968f=>_0x30968f[_0x150cb2(0x341)]===_0x5aa3bd[_0x150cb2(0x341)]);if(_0x5aa3bd[_0x150cb2(0x343)]&&_0x570378>-0x1)_0x617b2c[_0x150cb2(0x76c)][_0x150cb2(0x492)](_0x570378,0x1),_0x5c56ac=!0x0;else{if(_0x570378>-0x1){if(_0x617b2c[_0x150cb2(0x76c)][_0x150cb2(0x6b4)](_0x34901=>_0x34901[_0x150cb2(0x2ea)]===_0x5aa3bd[_0x150cb2(0x2ea)]&&_0x34901[_0x150cb2(0x287)]!==_0x5aa3bd[_0x150cb2(0x287)]))throw new Error(_0x150cb2(0x219));let _0x4716dd=_0x617b2c[_0x150cb2(0x76c)][_0x570378];_0x5aa3bd[_0x150cb2(0x341)]&&(_0x4f0c05||!Number[_0x150cb2(0x757)](_0x5aa3bd['order']))&&(_0x4716dd[_0x150cb2(0x341)]=_0x5aa3bd[_0x150cb2(0x341)],_0x5c56ac=!0x0),_0x5aa3bd[_0x150cb2(0x2ea)]&&(_0x4716dd[_0x150cb2(0x2ea)]=_0x5aa3bd['name']);}else{if(_0x617b2c[_0x150cb2(0x76c)][_0x150cb2(0x6b4)](_0x3c1dbe=>_0x3c1dbe[_0x150cb2(0x2ea)]===_0x5aa3bd['name']&&_0x3c1dbe[_0x150cb2(0x287)]!==_0x5aa3bd[_0x150cb2(0x287)]))throw new Error(_0x150cb2(0x219));_0x617b2c[_0x150cb2(0x76c)][_0x150cb2(0x234)]({'_id':_0x5aa3bd[_0x150cb2(0x287)]||new ue[(_0x150cb2(0x5d8))][(_0x150cb2(0x88e))][(_0x150cb2(0x5f9))]()[_0x150cb2(0x53e)](),'order':_0x5aa3bd[_0x150cb2(0x341)],'name':_0x5aa3bd['name']}),_0x5c56ac=!0x0;}}if(_0x5c56ac){_0x617b2c[_0x150cb2(0x76c)]['sort']((_0x31202b,_0x423d2f)=>_0x31202b[_0x150cb2(0x341)]>_0x423d2f[_0x150cb2(0x341)]?0x1:_0x423d2f[_0x150cb2(0x341)]>_0x31202b[_0x150cb2(0x341)]?-0x1:0x0);for(let _0x2959a1=0x0;_0x2959a1<_0x617b2c[_0x150cb2(0x76c)][_0x150cb2(0x40e)];_0x2959a1++)_0x617b2c[_0x150cb2(0x76c)][_0x2959a1]['order']=_0x2959a1+0x1;}let _0x80b454=await this['repository'][_0x150cb2(0x628)]['update'](_0x617b2c,this[_0x150cb2(0x82c)][_0x150cb2(0x568)]);return this[_0x150cb2(0x3cb)]=_0x80b454,this[_0x150cb2(0x7a6)][_0x150cb2(0x3f4)](this[_0x150cb2(0x2c9)]+'\x20('+this[_0x150cb2(0x82c)][_0x150cb2(0x568)]+_0x150cb2(0x868)),this[_0x150cb2(0x7a6)][_0x150cb2(0x3f4)](this[_0x150cb2(0x2c9)]+'\x20('+this[_0x150cb2(0x82c)][_0x150cb2(0x568)]+'):\x20'+this[_0x150cb2(0x3cb)]),_0x80b454;}catch(_0x4d5519){let _0x395ee4='Erro\x20ao\x20tentar\x20updateCustomFields',_0x147bbf=_0x4d5519 instanceof Error?_0x4d5519[_0x150cb2(0x64b)]:typeof _0x4d5519==_0x150cb2(0x387)?JSON[_0x150cb2(0x5b1)](_0x4d5519):_0x4d5519,_0x4e33c9=_0x395ee4+':\x20'+_0x147bbf;throw console[_0x150cb2(0x690)]((0x0,g[_0x150cb2(0x5d8)])()[_0x150cb2(0x63e)](_0x150cb2(0x6e1))+':\x20'+this[_0x150cb2(0x2c9)]+'\x20('+this['instance']['wuid']+_0x150cb2(0x840)+_0x4e33c9),new f(_0x4e33c9);}}async[a0_0x42e86b(0x5cb)](_0x18d635){const _0x38b322=a0_0x42e86b;try{let _0x3a0d25=await this[_0x38b322(0x400)][_0x38b322(0x628)][_0x38b322(0x58c)](this[_0x38b322(0x82c)]['wuid']),_0x216897=_0x3a0d25?.[_0x38b322(0x8ff)]?.['findIndex'](_0x35ca28=>_0x35ca28[_0x38b322(0x287)]===_0x18d635?.[_0x38b322(0x287)]);if(_0x18d635?.[_0x38b322(0x343)])_0x216897>-0x1&&_0x3a0d25?.[_0x38b322(0x8ff)]?.[_0x38b322(0x492)](_0x216897,0x1);else{if(_0x216897>-0x1){let _0x5990d6=_0x3a0d25['autoCompleteMessages'][_0x216897];_0x5990d6[_0x38b322(0x341)]=_0x18d635?.[_0x38b322(0x341)]||_0x5990d6[_0x38b322(0x341)],_0x5990d6[_0x38b322(0x326)]=_0x18d635?.[_0x38b322(0x326)]||_0x5990d6[_0x38b322(0x326)],_0x5990d6[_0x38b322(0x64b)]=_0x18d635?.[_0x38b322(0x64b)]||_0x5990d6[_0x38b322(0x64b)];}else{let _0x3fba0e={'_id':_0x18d635?.['_id']||new ue[(_0x38b322(0x5d8))][(_0x38b322(0x88e))][(_0x38b322(0x5f9))]()[_0x38b322(0x53e)](),'order':_0x18d635?.['order'],'command':_0x18d635?.[_0x38b322(0x326)],'message':_0x18d635?.[_0x38b322(0x64b)]};_0x3a0d25?.[_0x38b322(0x8ff)]?.[_0x38b322(0x234)](_0x3fba0e);}}_0x3a0d25?.[_0x38b322(0x8ff)]?.['sort']((_0x31fa5f,_0x293128)=>_0x31fa5f[_0x38b322(0x341)]-_0x293128[_0x38b322(0x341)]);let _0x46831a=await this[_0x38b322(0x400)][_0x38b322(0x628)][_0x38b322(0x211)](_0x3a0d25,this[_0x38b322(0x82c)][_0x38b322(0x568)]);return this[_0x38b322(0x3cb)]=_0x46831a,this[_0x38b322(0x7a6)][_0x38b322(0x3f4)](this[_0x38b322(0x2c9)]+'\x20('+this['instance'][_0x38b322(0x568)]+_0x38b322(0x868)),_0x46831a;}catch(_0x4279b8){let _0x3b067b=_0x38b322(0x828),_0x3f13d2=_0x4279b8 instanceof Error?_0x4279b8[_0x38b322(0x64b)]:typeof _0x4279b8==_0x38b322(0x387)?JSON[_0x38b322(0x5b1)](_0x4279b8):_0x4279b8,_0x293909=_0x3b067b+':\x20'+_0x3f13d2;throw console[_0x38b322(0x690)]((0x0,g['default'])()['format'](_0x38b322(0x6e1))+':\x20'+this[_0x38b322(0x2c9)]+'\x20('+this[_0x38b322(0x82c)][_0x38b322(0x568)]+'):\x20'+_0x293909),new f(_0x293909);}}async['updateFlowConfig'](_0x4adca7){const _0x39bd1e=a0_0x42e86b;try{let _0x1af44e=await this['repository']['automateSystem'][_0x39bd1e(0x58c)](this[_0x39bd1e(0x82c)][_0x39bd1e(0x568)]);if(!_0x1af44e)throw new Error(_0x39bd1e(0x741));let _0x20c06c={'_id':_0x1af44e[_0x39bd1e(0x287)],'flowConfig':{'enabled':_0x4adca7[_0x39bd1e(0x362)]??_0x1af44e['flowConfig'][_0x39bd1e(0x362)],'ignoreGroups':_0x4adca7[_0x39bd1e(0x7bd)]??_0x1af44e['flowConfig'][_0x39bd1e(0x7bd)],'stopConversation':_0x4adca7[_0x39bd1e(0x25f)]['trim']()??_0x1af44e[_0x39bd1e(0x24d)][_0x39bd1e(0x25f)]['trim'](),'stopMinutes':_0x4adca7[_0x39bd1e(0x569)]??_0x1af44e[_0x39bd1e(0x24d)][_0x39bd1e(0x569)],'stopWhenYouSendMsg':_0x4adca7[_0x39bd1e(0x526)]??_0x1af44e[_0x39bd1e(0x24d)][_0x39bd1e(0x526)]}},_0xde57ee=await this[_0x39bd1e(0x400)][_0x39bd1e(0x628)][_0x39bd1e(0x211)](_0x20c06c,this[_0x39bd1e(0x82c)]['wuid']);return this['AutomateSystem']=_0xde57ee,this[_0x39bd1e(0x7a6)]['verbose'](this[_0x39bd1e(0x2c9)]+'\x20('+this[_0x39bd1e(0x82c)][_0x39bd1e(0x568)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x39bd1e(0x7a6)][_0x39bd1e(0x3f4)](this[_0x39bd1e(0x2c9)]+'\x20('+this['instance']['wuid']+_0x39bd1e(0x840)+this[_0x39bd1e(0x3cb)]),setTimeout(()=>this[_0x39bd1e(0x606)](),0x7d0),_0xde57ee;}catch(_0x46535f){let _0x29cf24=_0x39bd1e(0x47e),_0x33f32f=_0x46535f instanceof Error?_0x46535f[_0x39bd1e(0x64b)]:typeof _0x46535f==_0x39bd1e(0x387)?JSON[_0x39bd1e(0x5b1)](_0x46535f):_0x46535f,_0x2c057a=_0x29cf24+':\x20'+_0x33f32f;throw console[_0x39bd1e(0x690)]((0x0,g['default'])()[_0x39bd1e(0x63e)](_0x39bd1e(0x6e1))+':\x20'+this[_0x39bd1e(0x2c9)]+'\x20('+this['instance']['wuid']+_0x39bd1e(0x840)+_0x2c057a),new f(_0x2c057a);}}async[a0_0x42e86b(0x8f2)](){const _0x5702d1=a0_0x42e86b;try{let _0x2e215d=await this[_0x5702d1(0x400)][_0x5702d1(0x628)][_0x5702d1(0x58c)](this['instance'][_0x5702d1(0x568)]);return this['AutomateSystem']=_0x2e215d,this[_0x5702d1(0x7a6)][_0x5702d1(0x3f4)](this['instanceName']+'\x20('+this[_0x5702d1(0x82c)]['wuid']+_0x5702d1(0x69c)),this['logger']['verbose'](this[_0x5702d1(0x3cb)]),_0x2e215d;}catch(_0x1e4e45){let _0x890657=_0x5702d1(0x595),_0x536177=_0x1e4e45 instanceof Error?_0x1e4e45['message']:typeof _0x1e4e45=='object'?JSON[_0x5702d1(0x5b1)](_0x1e4e45):_0x1e4e45,_0x37e04e=_0x890657+':\x20'+_0x536177;throw console['error']((0x0,g[_0x5702d1(0x5d8)])()['format']('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x5702d1(0x82c)][_0x5702d1(0x568)]+_0x5702d1(0x840)+_0x37e04e),new f(_0x37e04e);}}async['setRestartTimeout'](){const _0x3592c3=a0_0x42e86b;this[_0x3592c3(0x82c)][_0x3592c3(0x60c)][_0x3592c3(0x787)]&&clearTimeout(this[_0x3592c3(0x82c)]['ScheduleMessage'][_0x3592c3(0x787)]),this['instance'][_0x3592c3(0x60c)][_0x3592c3(0x787)]=setTimeout(()=>{const _0x1038f0=_0x3592c3;this[_0x1038f0(0x834)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x42e86b(0x834)](){const _0x360f8e=a0_0x42e86b;Date[_0x360f8e(0x51c)]()-this[_0x360f8e(0x82c)]['ScheduleMessage'][_0x360f8e(0x6d0)]>=0x1d4c0&&(this[_0x360f8e(0x7a6)][_0x360f8e(0x3f4)](this[_0x360f8e(0x2c9)]+'\x20('+this[_0x360f8e(0x82c)]['wuid']+_0x360f8e(0x58e)),this[_0x360f8e(0x82c)][_0x360f8e(0x60c)][_0x360f8e(0x2ba)]=null,this['instance'][_0x360f8e(0x60c)][_0x360f8e(0x6d0)]=0x0,this[_0x360f8e(0x82c)][_0x360f8e(0x60c)][_0x360f8e(0x745)]=0x0,await this[_0x360f8e(0x606)]());}async['scheduleNextCheck'](){const _0x113e20=a0_0x42e86b;let _0x49b1d1=()=>{const _0x335aba=a0_0x3fb2;this[_0x335aba(0x7a6)][_0x335aba(0x3f4)](this[_0x335aba(0x2c9)]+'\x20('+this[_0x335aba(0x82c)][_0x335aba(0x568)]+_0x335aba(0x3a8)+this[_0x335aba(0x82c)][_0x335aba(0x60c)][_0x335aba(0x2ba)]+_0x335aba(0x521));},_0x54fa65=async()=>{const _0x539210=a0_0x3fb2;this['logger'][_0x539210(0x3f4)](this[_0x539210(0x2c9)]+'\x20('+this[_0x539210(0x82c)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x494db1=Date[_0x539210(0x51c)]()-0xc*0x3c*0x3c*0x3e8,_0x4b7140={'where':{'status':{'$in':[_0x539210(0x2f7),_0x539210(0x458)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x494db1}},{'when':0x0}]}};return await this['repository']['scheduleMessage']['find'](_0x4b7140,this['instance'][_0x539210(0x568)]);},_0x526afa=async _0x11e490=>{const _0x351c53=a0_0x3fb2;for(let _0x51322f of _0x11e490){let _0x2ae44d={'_id':_0x51322f[_0x351c53(0x287)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x351c53(0x51c)]()-0x1770}}]},_0x303914={'startSend':Date['now']()};if(!await this['repository'][_0x351c53(0x398)][_0x351c53(0x5a3)](_0x2ae44d,_0x303914,this[_0x351c53(0x82c)][_0x351c53(0x568)]))return;if(!this[_0x351c53(0x82c)][_0x351c53(0x60c)][_0x351c53(0x729)]){this['logger'][_0x351c53(0x3f4)](this[_0x351c53(0x2c9)]+'\x20('+this[_0x351c53(0x82c)]['wuid']+_0x351c53(0x808));break;}if(_0x51322f[_0x351c53(0x762)]===_0x351c53(0x3dc)&&!this['AutomateSystem']?.[_0x351c53(0x24d)]['enabled']){console[_0x351c53(0x690)]((0x0,g['default'])()[_0x351c53(0x63e)](_0x351c53(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x351c53(0x82c)][_0x351c53(0x568)]+_0x351c53(0x7e0));continue;}(!_0x51322f[_0x351c53(0x2fc)]||_0x51322f[_0x351c53(0x2fc)][_0x351c53(0x40e)]===0x0)&&(_0x51322f=await this['repository'][_0x351c53(0x398)][_0x351c53(0x87e)](_0x51322f['_id'],{'status':'sending','remoteJidsRemaining':[..._0x51322f[_0x351c53(0x7d4)]]},this[_0x351c53(0x82c)]['wuid']));for(let _0x492c95 of _0x51322f[_0x351c53(0x2fc)]){if(await this['setRestartTimeout'](),this[_0x351c53(0x82c)][_0x351c53(0x60c)][_0x351c53(0x6d0)]=Date['now'](),this[_0x351c53(0x82c)][_0x351c53(0x60c)]['ultimaTentativaRemoteJid']===_0x492c95){console[_0x351c53(0x690)]((0x0,g['default'])()[_0x351c53(0x63e)](_0x351c53(0x6e1))+':\x20'+this[_0x351c53(0x2c9)]+'\x20('+this[_0x351c53(0x82c)][_0x351c53(0x568)]+_0x351c53(0x62c)+_0x492c95+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0xe599f5={'$push':{'messagesSend':{'remoteJid':_0x492c95,'error':!0x0,'id':null,'error_log':_0x351c53(0x8b0),'log_timestamp':Date[_0x351c53(0x51c)]()}},'$pull':{'remoteJidsRemaining':_0x492c95}};await this[_0x351c53(0x400)]['scheduleMessage'][_0x351c53(0x87e)](_0x51322f[_0x351c53(0x287)],_0xe599f5,this[_0x351c53(0x82c)][_0x351c53(0x568)]);continue;}if(this[_0x351c53(0x82c)]['ScheduleMessage']['ultimaTentativaRemoteJid']=_0x492c95,_0x51322f[_0x351c53(0x2b4)][_0x351c53(0x6b4)](_0x3e5b25=>_0x3e5b25[_0x351c53(0x3a3)]===_0x492c95)){this['logger'][_0x351c53(0x3f4)](this[_0x351c53(0x2c9)]+'\x20('+this[_0x351c53(0x82c)][_0x351c53(0x568)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x492c95+_0x351c53(0x2cb));continue;}if(!this['instance'][_0x351c53(0x60c)][_0x351c53(0x729)]){this['logger'][_0x351c53(0x3f4)](this[_0x351c53(0x2c9)]+'\x20('+this[_0x351c53(0x82c)]['wuid']+_0x351c53(0x412));break;}if(!this[_0x351c53(0x82c)]['ScheduleMessage']['processing_id']){this[_0x351c53(0x7a6)][_0x351c53(0x3f4)](this[_0x351c53(0x2c9)]+'\x20('+this[_0x351c53(0x82c)][_0x351c53(0x568)]+_0x351c53(0x4e8)+_0x51322f['_id']+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x51322f[_0x351c53(0x762)]===_0x351c53(0x3dc)&&!this[_0x351c53(0x3cb)]?.[_0x351c53(0x24d)]['enabled']){console[_0x351c53(0x690)]((0x0,g['default'])()['format'](_0x351c53(0x6e1))+':\x20'+this['instanceName']+'\x20('+this[_0x351c53(0x82c)][_0x351c53(0x568)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x1d94ca={'remoteJid':_0x492c95,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x351c53(0x51c)]()},_0x52b581=null;try{let _0x3a0e68=await this[_0x351c53(0x731)](_0x492c95,_0x51322f);_0x1d94ca[_0x351c53(0x690)]=_0x3a0e68[_0x351c53(0x690)],_0x1d94ca['id']=_0x3a0e68[_0x351c53(0x690)]?null:_0x3a0e68['id'],_0x1d94ca[_0x351c53(0x6df)]=_0x3a0e68[_0x351c53(0x690)]?_0x3a0e68['detail']?_0x3a0e68[_0x351c53(0x7b4)][_0x351c53(0x53e)]():'':null;let _0x114232={'$push':{'messagesSend':_0x1d94ca},'$pull':{'remoteJidsRemaining':_0x492c95}},_0x36f302=_0x51322f[_0x351c53(0x287)];if(_0x52b581=await this[_0x351c53(0x400)][_0x351c53(0x398)][_0x351c53(0x87e)](_0x36f302,_0x114232,this[_0x351c53(0x82c)][_0x351c53(0x568)]),_0x3a0e68['error'])continue;let _0xb1847d=this[_0x351c53(0x2de)](_0x51322f[_0x351c53(0x790)],_0x51322f[_0x351c53(0x8d1)]);await this[_0x351c53(0x314)](_0xb1847d);}catch(_0x380e77){console[_0x351c53(0x690)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x351c53(0x46c)+_0x492c95+':\x20'+(_0x380e77 instanceof Error?_0x380e77['message']:JSON['stringify'](_0x380e77,null,0x2))),_0x1d94ca[_0x351c53(0x690)]=!0x0,_0x1d94ca['error_log']=_0x380e77['message'];let _0x42ff26={'$push':{'messagesSend':_0x1d94ca},'$pull':{'remoteJidsRemaining':_0x492c95}},_0x2e41ff=_0x51322f[_0x351c53(0x287)];_0x52b581=await this[_0x351c53(0x400)][_0x351c53(0x398)][_0x351c53(0x87e)](_0x2e41ff,_0x42ff26,this[_0x351c53(0x82c)][_0x351c53(0x568)]);}finally{if(_0x52b581&&_0x52b581[_0x351c53(0x454)]==='stopped'){this[_0x351c53(0x7a6)][_0x351c53(0x3f4)](this[_0x351c53(0x2c9)]+'\x20('+this[_0x351c53(0x82c)][_0x351c53(0x568)]+_0x351c53(0x4e8)+_0x51322f['_id']+_0x351c53(0x43e));break;}}}let _0x1457e6=await this[_0x351c53(0x400)]['scheduleMessage']['findById'](_0x51322f[_0x351c53(0x287)],this[_0x351c53(0x82c)][_0x351c53(0x568)]);if(_0x1457e6[_0x351c53(0x2fc)]['length']===0x0&&_0x1457e6[_0x351c53(0x454)]!=='stopped'){this[_0x351c53(0x82c)]['ScheduleMessage']['ultimaTentativaRemoteJid']=null;let _0x4f3898={'$set':{'status':'done'}},_0x538aff=_0x1457e6[_0x351c53(0x287)];await this[_0x351c53(0x400)]['scheduleMessage'][_0x351c53(0x87e)](_0x538aff,_0x4f3898,this[_0x351c53(0x82c)][_0x351c53(0x568)]);}await new Promise(_0x5474dc=>setTimeout(_0x5474dc,0x1388));}},_0x1947a9=async()=>{const _0x4327d9=a0_0x3fb2;let _0x27a86c={'where':{'status':_0x4327d9(0x2f7),'when':{'$gt':Date['now']()}}},_0x4cc19d=await this[_0x4327d9(0x400)][_0x4327d9(0x398)][_0x4327d9(0x551)](_0x27a86c,this['instance']['wuid']);_0x4cc19d&&_0x4cc19d['when']-Date['now']()<=0x5265c00?this[_0x4327d9(0x82c)][_0x4327d9(0x60c)][_0x4327d9(0x745)]=_0x4cc19d[_0x4327d9(0x2df)]-Date[_0x4327d9(0x51c)]():this[_0x4327d9(0x82c)][_0x4327d9(0x60c)][_0x4327d9(0x745)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x4327d9(0x82c)][_0x4327d9(0x60c)]['delayMessage']=Math[_0x4327d9(0x259)](this[_0x4327d9(0x82c)][_0x4327d9(0x60c)]['delayMessage'],0x7d0);let _0xb18bc2=Math[_0x4327d9(0x8f3)](this['instance'][_0x4327d9(0x60c)][_0x4327d9(0x745)]/0xea60);if(_0x4cc19d){let _0x2f5863=new Date(_0x4cc19d[_0x4327d9(0x2df)])[_0x4327d9(0x84b)]();this[_0x4327d9(0x7a6)][_0x4327d9(0x3f4)](this[_0x4327d9(0x2c9)]+'\x20('+this[_0x4327d9(0x82c)]['wuid']+_0x4327d9(0x782)+_0x2f5863+_0x4327d9(0x25e)+_0xb18bc2+'\x20minutos');}else this[_0x4327d9(0x7a6)][_0x4327d9(0x3f4)](this['instanceName']+'\x20('+this[_0x4327d9(0x82c)][_0x4327d9(0x568)]+_0x4327d9(0x2ed)+_0xb18bc2+_0x4327d9(0x43d));setTimeout(()=>this['scheduleNextCheck'](),this['instance'][_0x4327d9(0x60c)]['delayMessage']);};if(this[_0x113e20(0x82c)]['ScheduleMessage'][_0x113e20(0x2ba)]){await this[_0x113e20(0x798)](),_0x49b1d1();return;}if(!this[_0x113e20(0x82c)][_0x113e20(0x60c)][_0x113e20(0x729)]){this[_0x113e20(0x7a6)][_0x113e20(0x3f4)](this[_0x113e20(0x2c9)]+'\x20('+this[_0x113e20(0x82c)][_0x113e20(0x568)]+_0x113e20(0x491)),this[_0x113e20(0x82c)]['ScheduleMessage'][_0x113e20(0x2ba)]=null,this['instance']['ScheduleMessage']['lastSend']=0x0,this['instance']['ScheduleMessage']['delayMessage']=0x0,this[_0x113e20(0x82c)]['ScheduleMessage'][_0x113e20(0x1f2)]=null;return;}try{let _0x3de4b3=await _0x54fa65();_0x3de4b3[_0x113e20(0x40e)]===0x0?this[_0x113e20(0x7a6)]['verbose'](this[_0x113e20(0x2c9)]+'\x20('+this['instance']['wuid']+_0x113e20(0x4f2)):(this[_0x113e20(0x82c)][_0x113e20(0x60c)]['processing_id']=_0x3de4b3[0x0][_0x113e20(0x287)],await _0x526afa(_0x3de4b3)),await _0x1947a9(),this[_0x113e20(0x82c)][_0x113e20(0x60c)][_0x113e20(0x2ba)]=null,this[_0x113e20(0x82c)][_0x113e20(0x60c)][_0x113e20(0x1f2)]=null;}catch(_0x196d53){console[_0x113e20(0x690)]((0x0,g[_0x113e20(0x5d8)])()[_0x113e20(0x63e)](_0x113e20(0x6e1))+_0x113e20(0x3ca)+(_0x196d53 instanceof Error?_0x196d53[_0x113e20(0x64b)]:JSON[_0x113e20(0x5b1)](_0x196d53,null,0x2)));}}[a0_0x42e86b(0x2de)](_0x2ddfb3,_0x20aef8){const _0x258a87=a0_0x42e86b;return _0x2ddfb3=Math[_0x258a87(0x259)](0.5,_0x2ddfb3),_0x20aef8=Math[_0x258a87(0x804)](Math[_0x258a87(0x259)](0x3,_0x20aef8),0x78),Math[_0x258a87(0x30f)](Math[_0x258a87(0x898)]()*(_0x20aef8-_0x2ddfb3+0x1)+_0x2ddfb3)*0x3e8;}[a0_0x42e86b(0x314)](_0x49ce77){return new Promise(_0x1d633e=>setTimeout(_0x1d633e,_0x49ce77));}async[a0_0x42e86b(0x4bf)](_0x62ac6d){const _0x27d676=a0_0x42e86b;if(!this[_0x27d676(0x3cb)]&&(await this['getAutomateSystem'](),!this[_0x27d676(0x3cb)]))return null;_0x62ac6d=this[_0x27d676(0x838)](_0x62ac6d);let _0x55d8a2=await this['repository']['chat'][_0x27d676(0x551)]({'where':{'_id':_0x62ac6d}},this['instance'][_0x27d676(0x568)]),_0x5227c2={};if(_0x55d8a2&&_0x55d8a2[_0x27d676(0x49d)]){let _0x204dc6=_0x55d8a2[_0x27d676(0x49d)];typeof _0x204dc6[_0x27d676(0x668)]==_0x27d676(0x909)&&(_0x5227c2['nome']=_0x204dc6[_0x27d676(0x668)]),typeof _0x204dc6[_0x27d676(0x46a)]==_0x27d676(0x909)&&(_0x5227c2[_0x27d676(0x46a)]=_0x204dc6[_0x27d676(0x46a)]),typeof _0x204dc6[_0x27d676(0x5ee)]=='string'&&(_0x5227c2['email']=_0x204dc6[_0x27d676(0x5ee)]),typeof _0x204dc6[_0x27d676(0x380)]==_0x27d676(0x909)&&(_0x5227c2[_0x27d676(0x380)]=_0x204dc6[_0x27d676(0x380)]),typeof _0x204dc6[_0x27d676(0x454)]==_0x27d676(0x909)&&(_0x5227c2[_0x27d676(0x454)]=_0x204dc6[_0x27d676(0x454)]),typeof _0x204dc6[_0x27d676(0x88b)]=='string'&&(_0x5227c2[_0x27d676(0x88b)]=_0x204dc6[_0x27d676(0x88b)]),typeof _0x204dc6[_0x27d676(0x452)]==_0x27d676(0x909)&&(_0x5227c2[_0x27d676(0x452)]=_0x204dc6[_0x27d676(0x452)]),Array[_0x27d676(0x8f8)](_0x204dc6[_0x27d676(0x471)])&&(_0x5227c2[_0x27d676(0x471)]=_0x204dc6['tags'][_0x27d676(0x468)](',\x20')),Array['isArray'](_0x204dc6[_0x27d676(0x518)])&&(_0x5227c2[_0x27d676(0x518)]=_0x204dc6[_0x27d676(0x518)][_0x27d676(0x468)](',\x20'));}return _0x55d8a2&&_0x55d8a2[_0x27d676(0x49d)]&&_0x55d8a2[_0x27d676(0x49d)][_0x27d676(0x76c)]&&_0x55d8a2[_0x27d676(0x49d)]['customFields']['forEach'](_0x4c63d2=>{const _0x364f9c=_0x27d676;let _0x6e2c53=this[_0x364f9c(0x3cb)]?.[_0x364f9c(0x76c)][_0x364f9c(0x2a1)](_0x54e9c4=>_0x54e9c4[_0x364f9c(0x287)]===_0x4c63d2[_0x364f9c(0x287)]);_0x6e2c53&&(_0x5227c2[_0x6e2c53[_0x364f9c(0x2ea)]]=_0x4c63d2[_0x364f9c(0x62f)]);}),_0x5227c2;}async['replaceVariablesChat'](_0x265f66,_0x2169c0){const _0x224106=a0_0x42e86b;try{let _0x149744=await this['getVariablesChat'](_0x2169c0);return this['replaceVariables'](_0x265f66,_0x149744);}catch(_0xe06413){return console['error']((0x0,g[_0x224106(0x5d8)])()[_0x224106(0x63e)](_0x224106(0x6e1))+':\x20Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x2169c0+':\x20'+_0xe06413),_0x265f66;}}async[a0_0x42e86b(0x565)](_0xc2ea65){const _0x3328fb=a0_0x42e86b;try{if(this['logger']['verbose'](this[_0x3328fb(0x2c9)]+'\x20('+this[_0x3328fb(0x82c)][_0x3328fb(0x568)]+_0x3328fb(0x604)),_0xc2ea65[_0x3328fb(0x343)]&&_0xc2ea65['_id']){if(this['instance']['ScheduleMessage'][_0x3328fb(0x2ba)]===_0xc2ea65[_0x3328fb(0x287)][_0x3328fb(0x53e)]())throw new Error(_0x3328fb(0x753));let _0x3377d8=await this[_0x3328fb(0x400)][_0x3328fb(0x398)][_0x3328fb(0x5d9)](_0xc2ea65[_0x3328fb(0x287)],this[_0x3328fb(0x82c)]['wuid']);return setTimeout(()=>this[_0x3328fb(0x606)](),0x7d0),_0x3377d8;}let _0x4c0b87;if(_0xc2ea65[_0x3328fb(0x287)]&&(_0x4c0b87=await this[_0x3328fb(0x400)][_0x3328fb(0x398)]['findById'](_0xc2ea65[_0x3328fb(0x287)],this[_0x3328fb(0x82c)][_0x3328fb(0x568)])),_0x4c0b87){let _0x4ad63c;if(this[_0x3328fb(0x82c)][_0x3328fb(0x60c)][_0x3328fb(0x2ba)]===_0x4c0b87[_0x3328fb(0x287)]['toString']())_0x4ad63c={'$set':{'status':_0xc2ea65[_0x3328fb(0x454)]}};else{let {_id:_0x2e3b54,..._0x1d13d0}=_0xc2ea65;_0x4ad63c={'$set':_0x1d13d0};}let _0xb22974=await this[_0x3328fb(0x400)]['scheduleMessage'][_0x3328fb(0x87e)](_0xc2ea65['_id'],_0x4ad63c,this[_0x3328fb(0x82c)][_0x3328fb(0x568)]);return setTimeout(()=>this[_0x3328fb(0x606)](),0x7d0),_0xb22974;}else{_0xc2ea65['owner']=this[_0x3328fb(0x82c)]['wuid'];let _0xf9ceab=await this[_0x3328fb(0x400)][_0x3328fb(0x398)][_0x3328fb(0x7d3)](_0xc2ea65,this[_0x3328fb(0x82c)][_0x3328fb(0x568)]);return setTimeout(()=>this[_0x3328fb(0x606)](),0x7d0),_0xf9ceab;}}catch(_0x39dea1){let _0x54d847='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x29644c=_0x39dea1 instanceof Error?_0x39dea1[_0x3328fb(0x64b)]:typeof _0x39dea1=='object'?JSON[_0x3328fb(0x5b1)](_0x39dea1):_0x39dea1,_0x4d53dc=_0x54d847+':\x20'+_0x29644c;throw console['error']((0x0,g[_0x3328fb(0x5d8)])()[_0x3328fb(0x63e)](_0x3328fb(0x6e1))+':\x20'+this[_0x3328fb(0x2c9)]+'\x20('+this[_0x3328fb(0x82c)][_0x3328fb(0x568)]+'):\x20'+_0x4d53dc),new f(_0x4d53dc);}}async[a0_0x42e86b(0x7cc)](){const _0x25933f=a0_0x42e86b;try{return await this[_0x25933f(0x400)][_0x25933f(0x398)][_0x25933f(0x2a1)]({'where':{}},this[_0x25933f(0x82c)][_0x25933f(0x568)]);}catch(_0x5cab28){let _0x10adf1=_0x25933f(0x875),_0x30e32e=_0x5cab28 instanceof Error?_0x5cab28[_0x25933f(0x64b)]:typeof _0x5cab28==_0x25933f(0x387)?JSON['stringify'](_0x5cab28):_0x5cab28,_0x5d41c9=_0x10adf1+':\x20'+_0x30e32e;throw console[_0x25933f(0x690)]((0x0,g['default'])()[_0x25933f(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x25933f(0x82c)][_0x25933f(0x568)]+'):\x20'+_0x5d41c9),new f(_0x5d41c9);}}async[a0_0x42e86b(0x2fa)](){const _0x2e3fa2=a0_0x42e86b;try{let _0x319f19={'status':_0x2e3fa2(0x200)},_0x46d995=await this[_0x2e3fa2(0x400)][_0x2e3fa2(0x398)][_0x2e3fa2(0x2a0)](_0x319f19,this[_0x2e3fa2(0x82c)][_0x2e3fa2(0x568)]);if(!_0x46d995[_0x2e3fa2(0x690)])this[_0x2e3fa2(0x7a6)][_0x2e3fa2(0x3f4)](this[_0x2e3fa2(0x2c9)]+'\x20('+this[_0x2e3fa2(0x82c)][_0x2e3fa2(0x568)]+_0x2e3fa2(0x215));else throw new Error(_0x46d995[_0x2e3fa2(0x690)][_0x2e3fa2(0x64b)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0x2fe998){let _0x42a28c=_0x2e3fa2(0x517),_0x38e53b=_0x2fe998 instanceof Error?_0x2fe998[_0x2e3fa2(0x64b)]:typeof _0x2fe998==_0x2e3fa2(0x387)?JSON[_0x2e3fa2(0x5b1)](_0x2fe998):_0x2fe998,_0x46a720=_0x42a28c+':\x20'+_0x38e53b;throw console[_0x2e3fa2(0x690)]((0x0,g[_0x2e3fa2(0x5d8)])()[_0x2e3fa2(0x63e)](_0x2e3fa2(0x6e1))+':\x20'+this[_0x2e3fa2(0x2c9)]+'\x20('+this['instance'][_0x2e3fa2(0x568)]+_0x2e3fa2(0x840)+_0x46a720),new f(_0x46a720);}}async[a0_0x42e86b(0x731)](_0x564f0e,_0x1531a0){const _0x2204cf=a0_0x42e86b;try{if(_0x1531a0[_0x2204cf(0x762)]===_0x2204cf(0x3dc)&&!this[_0x2204cf(0x3cb)]?.[_0x2204cf(0x24d)][_0x2204cf(0x362)])return console[_0x2204cf(0x690)]((0x0,g['default'])()[_0x2204cf(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this['instanceName']+'\x20('+this[_0x2204cf(0x82c)][_0x2204cf(0x568)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x2204cf(0x8bc)};switch(_0x1531a0[_0x2204cf(0x762)]){case'text':return await this[_0x2204cf(0x907)](_0x1531a0,_0x564f0e);case _0x2204cf(0x229):return await this[_0x2204cf(0x633)](_0x1531a0,_0x564f0e);case _0x2204cf(0x801):return await this['scheduleSendAudio'](_0x1531a0,_0x564f0e);case _0x2204cf(0x3dc):let _0x254061=new He();return _0x254061[_0x2204cf(0x2ea)]=_0x1531a0[_0x2204cf(0x680)],_0x254061[_0x2204cf(0x3a3)]=_0x564f0e,await this[_0x2204cf(0x6fc)](_0x254061);break;default:return console[_0x2204cf(0x690)]((0x0,g[_0x2204cf(0x5d8)])()[_0x2204cf(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x2204cf(0x2c9)]+'\x20('+this[_0x2204cf(0x82c)][_0x2204cf(0x568)]+'):\x20Comando\x20desconhecido:\x20'+_0x1531a0['type']),{'error':!0x0,'detail':_0x2204cf(0x4ea)};}}catch(_0x6b88c7){return console[_0x2204cf(0x690)]((0x0,g['default'])()[_0x2204cf(0x63e)](_0x2204cf(0x6e1))+':\x20'+this[_0x2204cf(0x2c9)]+'\x20('+this[_0x2204cf(0x82c)]['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x6b88c7 instanceof Error?_0x6b88c7[_0x2204cf(0x64b)]:JSON['stringify'](_0x6b88c7,null,0x2))),{'error':!0x0,'detail':_0x6b88c7[_0x2204cf(0x64b)]};}}[a0_0x42e86b(0x821)](_0x3d1462){const _0x3b455c=a0_0x42e86b;let _0xb9f787=_0x3d1462[_0x3b455c(0x8a3)]('|'),_0x91e889=Math['floor'](Math['random']()*_0xb9f787['length']);return _0xb9f787[_0x91e889][_0x3b455c(0x3e6)]();}async[a0_0x42e86b(0x907)](_0xe01c66,_0x29a349){const _0x364a2c=a0_0x42e86b;if(this[_0x364a2c(0x7a6)][_0x364a2c(0x3f4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x364a2c(0x855)),!_0xe01c66[_0x364a2c(0x64b)]['text']||_0xe01c66[_0x364a2c(0x64b)][_0x364a2c(0x411)][_0x364a2c(0x40e)]===0x0)return{'error':!0x0,'detail':_0x364a2c(0x427)};let _0x1c5556=this[_0x364a2c(0x821)](_0xe01c66['message'][_0x364a2c(0x411)]),_0x115d7f=await this[_0x364a2c(0x369)](_0x1c5556,_0x29a349),_0x4cc043={'number':_0x29a349,'options':{'delay':_0xe01c66[_0x364a2c(0x64b)][_0x364a2c(0x6af)],'linkPreview':_0xe01c66[_0x364a2c(0x64b)]['linkPreview']},'textMessage':{'text':_0x115d7f}},_0x9fba68=null;try{let _0x204a0c=await this[_0x364a2c(0x2ab)](_0x4cc043);if(_0x204a0c&&_0x204a0c[_0x364a2c(0x454)])return{'error':!0x1,'id':_0x204a0c[_0x364a2c(0x57a)]['id']};_0x9fba68=JSON['stringify'](_0x204a0c),this['logger'][_0x364a2c(0x3f4)](this[_0x364a2c(0x2c9)]+'\x20('+this[_0x364a2c(0x82c)][_0x364a2c(0x568)]+'):\x20'+_0x9fba68);}catch(_0x3181cd){console[_0x364a2c(0x690)](this[_0x364a2c(0x2c9)]+'\x20('+this[_0x364a2c(0x82c)][_0x364a2c(0x568)]+_0x364a2c(0x88f)+(_0x3181cd instanceof Error?_0x3181cd[_0x364a2c(0x64b)]:JSON[_0x364a2c(0x5b1)](_0x3181cd,null,0x2))),_0x9fba68=_0x3181cd[_0x364a2c(0x64b)];}if(_0x9fba68)return{'error':!0x0,'detail':(typeof _0x9fba68=='object'?JSON[_0x364a2c(0x5b1)](_0x9fba68,null,0x2):_0x9fba68)[_0x364a2c(0x600)](/[\[\]{}\n]/g,'\x20')[_0x364a2c(0x600)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x6d1671,_0x607a17){const _0x37b1bb=a0_0x42e86b;this[_0x37b1bb(0x7a6)]['verbose'](this[_0x37b1bb(0x2c9)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20mídia');let _0x4694b9;if(_0x6d1671['message'][_0x37b1bb(0x411)]&&_0x6d1671[_0x37b1bb(0x64b)][_0x37b1bb(0x411)]['length']>0x0){let _0xa9259c=this[_0x37b1bb(0x821)](_0x6d1671[_0x37b1bb(0x64b)]['text']);_0x4694b9=await this['replaceVariablesChat'](_0xa9259c,_0x607a17);}let _0x3cb774={'number':_0x607a17,'options':{'delay':_0x6d1671[_0x37b1bb(0x64b)][_0x37b1bb(0x6af)],'linkPreview':_0x6d1671[_0x37b1bb(0x64b)][_0x37b1bb(0x22d)]},'mediaMessage':{'mediatype':_0x6d1671[_0x37b1bb(0x64b)]['mediatype'],'caption':_0x4694b9,'media':_0x6d1671[_0x37b1bb(0x64b)]['urlOrBase64']}},_0x4cfbb2=null;try{let _0x3be382=await this[_0x37b1bb(0x41b)](_0x3cb774);if(_0x3be382&&_0x3be382[_0x37b1bb(0x454)])return{'error':!0x1,'id':_0x3be382[_0x37b1bb(0x57a)]['id']};_0x4cfbb2=JSON['stringify'](_0x3be382),this['logger'][_0x37b1bb(0x3f4)](this[_0x37b1bb(0x2c9)]+'\x20('+this[_0x37b1bb(0x82c)]['wuid']+_0x37b1bb(0x840)+_0x4cfbb2);}catch(_0x50c1a2){console[_0x37b1bb(0x690)](this[_0x37b1bb(0x2c9)]+'\x20('+this[_0x37b1bb(0x82c)][_0x37b1bb(0x568)]+_0x37b1bb(0x231)+(_0x50c1a2 instanceof Error?_0x50c1a2[_0x37b1bb(0x64b)]:JSON['stringify'](_0x50c1a2,null,0x2))),_0x4cfbb2=_0x50c1a2[_0x37b1bb(0x64b)];}if(_0x4cfbb2)return{'error':!0x0,'detail':(typeof _0x4cfbb2==_0x37b1bb(0x387)?JSON[_0x37b1bb(0x5b1)](_0x4cfbb2,null,0x2):_0x4cfbb2)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x42e86b(0x672)](_0x6a7174,_0x2e8740){const _0x5989ee=a0_0x42e86b;this['logger'][_0x5989ee(0x3f4)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20áudio');let _0x24fb5d={'number':_0x2e8740,'options':{'delay':_0x6a7174[_0x5989ee(0x64b)][_0x5989ee(0x6af)]},'audioMessage':{'audio':_0x6a7174['message']['urlOrBase64']}},_0x3467b9=null;try{let _0x389dbc=await this['audioWhatsapp'](_0x24fb5d);if(_0x389dbc&&_0x389dbc[_0x5989ee(0x454)])return{'error':!0x1,'id':_0x389dbc[_0x5989ee(0x57a)]['id']};_0x3467b9=JSON['stringify'](_0x389dbc),this[_0x5989ee(0x7a6)][_0x5989ee(0x3f4)](this[_0x5989ee(0x2c9)]+'\x20('+this[_0x5989ee(0x82c)]['wuid']+_0x5989ee(0x840)+_0x3467b9);}catch(_0x4afaee){console[_0x5989ee(0x690)](this[_0x5989ee(0x2c9)]+'\x20('+this[_0x5989ee(0x82c)][_0x5989ee(0x568)]+_0x5989ee(0x4cd)+(_0x4afaee instanceof Error?_0x4afaee[_0x5989ee(0x64b)]:JSON['stringify'](_0x4afaee,null,0x2))),_0x3467b9=_0x4afaee[_0x5989ee(0x64b)];}if(_0x3467b9)return{'error':!0x0,'detail':(typeof _0x3467b9==_0x5989ee(0x387)?JSON[_0x5989ee(0x5b1)](_0x3467b9,null,0x2):_0x3467b9)[_0x5989ee(0x600)](/[\[\]{}\n]/g,'\x20')[_0x5989ee(0x600)](/  +/g,'\x20')};}async[a0_0x42e86b(0x288)](_0x48ce1c){const _0x346863=a0_0x42e86b;try{return await this[_0x346863(0x342)][_0x346863(0x54e)](_0x48ce1c[_0x346863(0x373)],_0x48ce1c[_0x346863(0x283)]),{'update':_0x346863(0x617)};}catch(_0x3e4167){let _0x9b8ed2=_0x346863(0x599),_0x3dc7fd=_0x3e4167 instanceof Error?_0x3e4167[_0x346863(0x64b)]:typeof _0x3e4167==_0x346863(0x387)?JSON['stringify'](_0x3e4167):_0x3e4167,_0x38b6fb=_0x9b8ed2+':\x20'+_0x3dc7fd;throw console[_0x346863(0x690)]((0x0,g['default'])()[_0x346863(0x63e)](_0x346863(0x6e1))+':\x20'+this[_0x346863(0x2c9)]+'\x20('+this[_0x346863(0x82c)][_0x346863(0x568)]+_0x346863(0x840)+_0x38b6fb),new x(_0x38b6fb);}}async[a0_0x42e86b(0x818)](_0x251aac){const _0x7cd901=a0_0x42e86b;try{return await this[_0x7cd901(0x342)][_0x7cd901(0x434)](_0x251aac['groupJid'],_0x251aac[_0x7cd901(0x2ea)]),{'update':_0x7cd901(0x617)};}catch(_0x405461){let _0x46ae63=_0x7cd901(0x53c),_0x26ce01=_0x405461 instanceof Error?_0x405461[_0x7cd901(0x64b)]:typeof _0x405461=='object'?JSON[_0x7cd901(0x5b1)](_0x405461):_0x405461,_0x3fbb36=_0x46ae63+':\x20'+_0x26ce01;throw console['error']((0x0,g['default'])()[_0x7cd901(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x7cd901(0x2c9)]+'\x20('+this['instance']['wuid']+_0x7cd901(0x840)+_0x3fbb36),new x(_0x3fbb36);}}async[a0_0x42e86b(0x908)](_0x157e60){const _0x852f73=a0_0x42e86b;try{let _0x18d83c=await this[_0x852f73(0x342)][_0x852f73(0x5ed)](_0x157e60['groupJid'],_0x157e60[_0x852f73(0x3e1)]);return{'success':!0x0};}catch(_0x43f135){let _0xfbee4e=_0x852f73(0x81d),_0x3f5db6=_0x43f135 instanceof Error?_0x43f135[_0x852f73(0x64b)]:typeof _0x43f135=='object'?JSON[_0x852f73(0x5b1)](_0x43f135):_0x43f135,_0x3e5f8c=_0xfbee4e+':\x20'+_0x3f5db6;throw console['error']((0x0,g[_0x852f73(0x5d8)])()[_0x852f73(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x852f73(0x2c9)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3e5f8c),new x(_0x3e5f8c);}}async[a0_0x42e86b(0x44a)](_0x50bded){const _0x465445=a0_0x42e86b;try{return await this[_0x465445(0x342)][_0x465445(0x20f)](_0x50bded[_0x465445(0x373)],_0x50bded[_0x465445(0x7a5)]),{'update':_0x465445(0x617)};}catch(_0x5275d9){let _0x4b7597='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x44982f=_0x5275d9 instanceof Error?_0x5275d9[_0x465445(0x64b)]:typeof _0x5275d9==_0x465445(0x387)?JSON[_0x465445(0x5b1)](_0x5275d9):_0x5275d9,_0x2a5183=_0x4b7597+':\x20'+_0x44982f;throw console[_0x465445(0x690)]((0x0,g[_0x465445(0x5d8)])()['format'](_0x465445(0x6e1))+':\x20'+this[_0x465445(0x2c9)]+'\x20('+this[_0x465445(0x82c)][_0x465445(0x568)]+_0x465445(0x840)+_0x2a5183),new x(_0x2a5183);}}async[a0_0x42e86b(0x77d)](_0x2c3de8){const _0x1ac5bd=a0_0x42e86b;try{let _0x3d0c85;if((0x0,k['isURL'])(_0x2c3de8[_0x1ac5bd(0x8c6)])){let _0x5d8497=new Date()[_0x1ac5bd(0x5b9)](),_0x183af5=_0x2c3de8[_0x1ac5bd(0x8c6)]+_0x1ac5bd(0x48d)+_0x5d8497;_0x3d0c85=(await Q[_0x1ac5bd(0x5d8)][_0x1ac5bd(0x6e5)](_0x183af5,{'responseType':'arraybuffer'}))[_0x1ac5bd(0x47f)];}else{if((0x0,k[_0x1ac5bd(0x6b6)])(_0x2c3de8[_0x1ac5bd(0x8c6)]))_0x3d0c85=Buffer['from'](_0x2c3de8['image'],'base64');else throw new f(_0x1ac5bd(0x549));}return await this['client'][_0x1ac5bd(0x777)](_0x2c3de8['groupJid'],_0x3d0c85),{'update':_0x1ac5bd(0x617)};}catch(_0xc1f920){let _0x59f9a5=_0x1ac5bd(0x6fd),_0x2e2782=_0xc1f920 instanceof Error?_0xc1f920[_0x1ac5bd(0x64b)]:typeof _0xc1f920==_0x1ac5bd(0x387)?JSON[_0x1ac5bd(0x5b1)](_0xc1f920):_0xc1f920,_0x550794=_0x59f9a5+':\x20'+_0x2e2782;throw console[_0x1ac5bd(0x690)]((0x0,g['default'])()[_0x1ac5bd(0x63e)]('DD/MM\x20HH:mm:ss')+':\x20'+this[_0x1ac5bd(0x2c9)]+'\x20('+this[_0x1ac5bd(0x82c)][_0x1ac5bd(0x568)]+_0x1ac5bd(0x840)+_0x550794),new x(_0x550794);}}},Ut=class c{constructor(_0x14183c,_0x58285b,_0x2c2864){const _0x5dca59=a0_0x42e86b;this[_0x5dca59(0x7b1)]=_0x14183c,this['configService']=_0x58285b,this[_0x5dca59(0x400)]=_0x2c2864,this['db']={},this[_0x5dca59(0x23c)]={},this[_0x5dca59(0x7a6)]=new R(c[_0x5dca59(0x2ea)]),this[_0x5dca59(0x2e8)]={},(this[_0x5dca59(0x4bc)](),this[_0x5dca59(0x76e)](),Object['assign'](this['db'],_0x58285b['get']('DATABASE')),Object[_0x5dca59(0x580)](this[_0x5dca59(0x23c)],_0x58285b[_0x5dca59(0x6e5)]('REDIS')),this[_0x5dca59(0x2c3)]=this['db']['ENABLED']?this[_0x5dca59(0x400)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x5dca59(0x42d)]+'-instances'):void 0x0,this[_0x5dca59(0x35a)]=this[_0x5dca59(0x23c)]['ENABLED']?new ce(this[_0x5dca59(0x23c)]):void 0x0);}async['instanceInfo'](_0x49e52d){const _0x2f7d1c=a0_0x42e86b;if(_0x49e52d&&!this['waInstances'][_0x49e52d])throw new q(_0x2f7d1c(0x442)+_0x49e52d+_0x2f7d1c(0x584));let _0x17412a=[];for await(let [_0x3a5b42,_0x7fb0c9]of Object[_0x2f7d1c(0x22f)](this[_0x2f7d1c(0x2e8)]))if(_0x7fb0c9&&_0x7fb0c9[_0x2f7d1c(0x6f3)][_0x2f7d1c(0x53f)]===_0x2f7d1c(0x7a1)){let _0x584d9c=await this['repository'][_0x2f7d1c(0x3c2)][_0x2f7d1c(0x2a1)](_0x3a5b42);_0x17412a[_0x2f7d1c(0x234)]({'instance':{'instanceName':_0x3a5b42,'apikey':_0x584d9c[_0x2f7d1c(0x7c2)],'owner':_0x7fb0c9['wuid'],'profileName':await _0x7fb0c9[_0x2f7d1c(0x395)]()||_0x2f7d1c(0x79e),'profilePictureUrl':_0x7fb0c9[_0x2f7d1c(0x416)]}});}return _0x17412a[_0x2f7d1c(0x2a1)](_0x521c52=>_0x521c52['instance'][_0x2f7d1c(0x2c9)]===_0x49e52d)??_0x17412a;}async[a0_0x42e86b(0x431)](_0x587fba){const _0x1a90f2=a0_0x42e86b;if(this['db'][_0x1a90f2(0x625)]&&(await this[_0x1a90f2(0x400)]['dbServer'][_0x1a90f2(0x464)](),(await this[_0x1a90f2(0x2c3)][_0x1a90f2(0x652)]())[_0x1a90f2(0x40e)]>0x0&&await this[_0x1a90f2(0x2c3)]['dropCollection'](_0x587fba)),this[_0x1a90f2(0x23c)][_0x1a90f2(0x625)]){this[_0x1a90f2(0x35a)][_0x1a90f2(0x456)]=_0x587fba,await this[_0x1a90f2(0x35a)][_0x1a90f2(0x623)]();return;}}async[a0_0x42e86b(0x3c8)](){const _0x5029be=a0_0x42e86b;await this['InstancesAlterarTodas']();let _0x3abbdb=async _0xa24b3c=>{const _0x4246af=a0_0x3fb2;let _0x146d9d=new Ee(this[_0x4246af(0x8e3)],this['eventEmitter'],this[_0x4246af(0x400)]);_0x146d9d[_0x4246af(0x2c9)]=_0xa24b3c,await _0x146d9d[_0x4246af(0x883)](),this[_0x4246af(0x2e8)][_0xa24b3c]=_0x146d9d;};try{if(this[_0x5029be(0x23c)][_0x5029be(0x625)]){let _0x442618=await this[_0x5029be(0x35a)][_0x5029be(0x536)]();_0x442618?.[_0x5029be(0x40e)]>0x0&&_0x442618[_0x5029be(0x4ac)](async _0x22c676=>await _0x3abbdb(_0x22c676[_0x5029be(0x8a3)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x5029be(0x400)][_0x5029be(0x351)][_0x5029be(0x464)]();let _0x22737d=await this[_0x5029be(0x2c3)][_0x5029be(0x652)]();_0x22737d[_0x5029be(0x40e)]>0x0&&_0x22737d[_0x5029be(0x4ac)](async _0x13a716=>await _0x3abbdb(_0x13a716[_0x5029be(0x4b4)][_0x5029be(0x600)](/^[\w-]+\./,'')));return;}}catch(_0x50ba64){this['logger'][_0x5029be(0x690)](_0x50ba64);}}async['InstancesAsDisconnectedX'](){const _0x15b1d5=a0_0x42e86b;let _0x306fba=await this['repository'][_0x15b1d5(0x3c2)][_0x15b1d5(0x5bf)](),_0x23dc82=_0x306fba['filter'](_0xf6ea31=>!this[_0x15b1d5(0x2e8)][_0xf6ea31[_0x15b1d5(0x287)]]&&(_0xf6ea31[_0x15b1d5(0x7ee)]||typeof _0xf6ea31[_0x15b1d5(0x7ee)]>'u'));_0x23dc82[_0x15b1d5(0x40e)]>0x0&&await Promise[_0x15b1d5(0x320)](_0x23dc82['map'](async _0x4d0e5f=>{const _0x2cbbe3=_0x15b1d5;let _0x38ff8b={'online':!0x1,'lastDisconnect':Date[_0x2cbbe3(0x51c)]()};await this[_0x2cbbe3(0x400)][_0x2cbbe3(0x3c2)][_0x2cbbe3(0x69f)](_0x38ff8b,_0x4d0e5f[_0x2cbbe3(0x287)]);}));let _0x47e121=Date[_0x15b1d5(0x51c)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x12ff45=_0x306fba[_0x15b1d5(0x496)](_0x6779c0=>!this[_0x15b1d5(0x2e8)][_0x6779c0[_0x15b1d5(0x287)]]&&typeof _0x6779c0[_0x15b1d5(0x5a9)]<'u'&&_0x6779c0[_0x15b1d5(0x5a9)]<_0x47e121);_0x12ff45[_0x15b1d5(0x40e)]>0x0&&await Promise[_0x15b1d5(0x320)](_0x12ff45[_0x15b1d5(0x57c)](async _0x3d8308=>{}));}async[a0_0x42e86b(0x7a7)](){const _0x30085e=a0_0x42e86b;try{let _0x40792e={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1130bc={'online':!0x1,'lastDisconnect':Date[_0x30085e(0x51c)]()},_0x4db25d=await this['repository'][_0x30085e(0x3c2)][_0x30085e(0x852)](_0x40792e,_0x1130bc);console[_0x30085e(0x247)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x4db25d['insertCount']),await this[_0x30085e(0x26d)]();}catch(_0x41bb2d){console[_0x30085e(0x690)](_0x30085e(0x718),_0x41bb2d);}}async['removeOlderDisconnectedInstances'](){const _0x249753=a0_0x42e86b;try{let _0x4b27b6={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x5064f1=await this[_0x249753(0x400)][_0x249753(0x3c2)][_0x249753(0x2a0)](_0x4b27b6);console['log'](_0x249753(0x590)+_0x5064f1[_0x249753(0x2d3)]);}catch(_0x323e6e){console[_0x249753(0x690)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x323e6e);}}[a0_0x42e86b(0x4bc)](){const _0x56fee=a0_0x42e86b;this['eventEmitter']['on'](_0x56fee(0x8a7),async _0x1e9030=>{const _0x27e858=_0x56fee;try{this['waInstances'][_0x1e9030]=void 0x0;}catch{}try{this[_0x27e858(0x431)](_0x1e9030);}finally{this['logger'][_0x27e858(0x275)](_0x27e858(0x442)+_0x1e9030+_0x27e858(0x59d));}});}[a0_0x42e86b(0x76e)](){const _0x583cab=a0_0x42e86b;this[_0x583cab(0x7b1)]['on']('no.connection',async _0x24c501=>{const _0x2215d4=_0x583cab;try{this[_0x2215d4(0x2e8)][_0x24c501]=void 0x0;}catch{}try{this[_0x2215d4(0x431)](_0x24c501);}finally{this['logger'][_0x2215d4(0x275)](_0x2215d4(0x442)+_0x24c501+_0x2215d4(0x310));}});}},Jt=class extends I{[a0_0x42e86b(0x3ad)](_0x4922e6){return Xs(_0x4922e6);}async[a0_0x42e86b(0x8dd)](_0x49a634){const _0x24041a=a0_0x42e86b;if(_0x49a634[_0x24041a(0x40e)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x49a634[0x0][_0x24041a(0x6c3)])['insertMany']([..._0x49a634]))[_0x24041a(0x40e)]};}catch(_0x3b07f5){return _0x3b07f5;}}async['find'](_0x4f0c9,_0x258abd){const _0x142f82=a0_0x42e86b;try{let _0x358161=this[_0x142f82(0x3ad)](_0x258abd),_0x13ad13=O(_0x4f0c9[_0x142f82(0x577)]);return await _0x358161[_0x142f82(0x2a1)](_0x13ad13)['sort']({'lastmsg':-0x1})[_0x142f82(0x7e9)](_0x4f0c9?.[_0x142f82(0x7e9)]??0x0)[_0x142f82(0x41a)]();}catch{return[];}}async['delete'](_0xd27cf1,_0x57354b){const _0x3db564=a0_0x42e86b;try{return{'deletedCount':(await this[_0x3db564(0x3ad)](_0x57354b)[_0x3db564(0x2a0)]({..._0xd27cf1[_0x3db564(0x577)]}))[_0x3db564(0x290)]};}catch(_0x1892b5){return{'error':_0x1892b5?.['toString']()};}}async['deleteAll'](_0x20f6a0,_0x1587c3){const _0x4cbaec=a0_0x42e86b;try{return await this[_0x4cbaec(0x3ad)](_0x1587c3)['deleteMany']({..._0x20f6a0[_0x4cbaec(0x577)]}),[];}catch(_0x1a49a0){return{'error':_0x1a49a0?.['toString']()};}}async[a0_0x42e86b(0x551)](_0x596e22,_0xcccde4){const _0x51d8bb=a0_0x42e86b;try{let _0x19f769=this['getChatModelForOwner'](_0xcccde4),_0x479766=O(_0x596e22[_0x51d8bb(0x577)]);return await _0x19f769[_0x51d8bb(0x551)](_0x479766)[_0x51d8bb(0x41a)]();}catch{return null;}}async[a0_0x42e86b(0x5a3)](_0x2f066f,_0x494980,_0x4a5857,_0x2c3ee7,_0x15ddac='$set'){const _0x25bb04=a0_0x42e86b;try{let _0x5ddb91={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2c3ee7},_0x3173ca=this['getChatModelForOwner'](_0x4a5857),_0x12020b=O(_0x2f066f[_0x25bb04(0x577)]);Object[_0x25bb04(0x3b9)](_0x494980)[_0x25bb04(0x4ac)](_0xcbbddc=>{_0x494980[_0xcbbddc]==null&&delete _0x494980[_0xcbbddc];});let _0x4189af={};return _0x4189af[_0x15ddac]=_0x494980,await _0x3173ca['findOneAndUpdate'](_0x12020b,_0x4189af,_0x5ddb91);}catch(_0x22f476){return console[_0x25bb04(0x690)](_0x22f476),null;}}async[a0_0x42e86b(0x21b)](_0x268803){const _0x42534a=a0_0x42e86b;try{let _0x4cbe3f=this['getChatModelForOwner'](_0x268803[0x0]['query'][_0x42534a(0x577)][_0x42534a(0x6c3)]),_0x5d1f41=_0x268803[_0x42534a(0x57c)](_0x53e0ae=>({'updateOne':{'filter':{..._0x53e0ae['query']['where']},'update':{'$set':_0x53e0ae[_0x42534a(0x211)]},'upsert':!0x0}})),_0x465736=await _0x4cbe3f[_0x42534a(0x677)](_0x5d1f41);return _0x465736['modifiedCount']+_0x465736['upsertedCount'];}catch(_0x3a5570){return console[_0x42534a(0x690)](_0x3a5570),0x0;}}async[a0_0x42e86b(0x539)](_0x126308){const _0x18e933=a0_0x42e86b;try{let _0x50ddf4={'group_isCommunity':'','group_announce':'','group_size':''},_0x536f87={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x16ca5c={'$unset':_0x50ddf4};return(await this[_0x18e933(0x3ad)](_0x126308)[_0x18e933(0x21b)](_0x536f87,_0x16ca5c))[_0x18e933(0x489)];}catch(_0xe72a59){return console[_0x18e933(0x690)]('Error\x20removing\x20unused\x20chat\x20fields:',_0xe72a59),0x0;}}async[a0_0x42e86b(0x6d8)](_0x24c4a2){const _0x3ddf3c=a0_0x42e86b;try{let _0x4e6f03=this[_0x3ddf3c(0x3ad)](_0x24c4a2),_0x1d17c3={'leadInfo.etiquetas':{'$exists':!0x1}},_0x592daa={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4e6f03[_0x3ddf3c(0x21b)](_0x1d17c3,_0x592daa))[_0x3ddf3c(0x489)];}catch(_0x40a33e){return console[_0x3ddf3c(0x690)](_0x40a33e),0x0;}}async[a0_0x42e86b(0x708)](_0x5582e5){const _0x480bf9=a0_0x42e86b;try{let _0x2f5da6=this[_0x480bf9(0x3ad)](_0x5582e5),_0x10808b={'leadInfo.tags':{'$exists':!0x1}},_0x397c97={'$set':{'leadInfo.tags':[]}};return(await _0x2f5da6[_0x480bf9(0x21b)](_0x10808b,_0x397c97))[_0x480bf9(0x489)];}catch(_0x1b3da9){return console[_0x480bf9(0x690)](_0x1b3da9),0x0;}}async[a0_0x42e86b(0x8e0)](_0x2e29c3){const _0x20b838=a0_0x42e86b;try{let _0x312f74=this['getChatModelForOwner'](_0x2e29c3),_0x6c0231={'leadInfo.customFields':{'$exists':!0x1}},_0x355c6b={'$set':{'leadInfo.customFields':[]}};return(await _0x312f74[_0x20b838(0x21b)](_0x6c0231,_0x355c6b))[_0x20b838(0x489)];}catch(_0x4d8b5d){return console[_0x20b838(0x690)](_0x4d8b5d),0x0;}}async[a0_0x42e86b(0x5bb)](_0x3f8cdb,_0x581423){const _0x2b396c=a0_0x42e86b;if(!Array[_0x2b396c(0x8f8)](_0x3f8cdb)||_0x3f8cdb['length']===0x0)throw new Error(_0x2b396c(0x866));try{return(await this[_0x2b396c(0x3ad)](_0x581423)[_0x2b396c(0x5bb)](_0x3f8cdb))['length'];}catch(_0x2443bd){throw console[_0x2b396c(0x690)](_0x2b396c(0x78e),_0x2443bd),_0x2443bd;}}async[a0_0x42e86b(0x500)](_0x1e83a0,_0x126e28){const _0x19bce3=a0_0x42e86b;try{await this['getChatModelForOwner'](_0x126e28)['deleteOne']({'_id':_0x1e83a0});}catch(_0x494f6f){throw console[_0x19bce3(0x690)](_0x19bce3(0x6ff),_0x494f6f),_0x494f6f;}}},qt=class extends I{constructor(_0x38de00,_0x21d57e,_0x3de9ae){const _0x50eb30=a0_0x42e86b;super(_0x21d57e),this['cacheContactModel']=_0x38de00,this[_0x50eb30(0x8e3)]=_0x21d57e,this[_0x50eb30(0x7f2)]=_0x3de9ae;}async[a0_0x42e86b(0x8dd)](_0x546c4f){const _0x14d76a=a0_0x42e86b;if(_0x546c4f[_0x14d76a(0x40e)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x14d76a(0x5bb)]([..._0x546c4f]))[_0x14d76a(0x40e)]};}catch(_0x1b6dd2){return _0x1b6dd2;}}async['update'](_0x13d7b6,_0x208ded){const _0x133e85=a0_0x42e86b;try{let _0x2bffdf=O(_0x13d7b6[_0x133e85(0x577)]);return{'updatedCount':(await this[_0x133e85(0x41d)][_0x133e85(0x21b)](_0x2bffdf,{'$set':_0x208ded}))[_0x133e85(0x489)]};}catch(_0xc8147a){return console[_0x133e85(0x690)](_0x133e85(0x8a5),_0xc8147a),{'error':_0xc8147a[_0x133e85(0x53e)]()};}}async['findManyByIds'](_0xa79d09){const _0x229cc2=a0_0x42e86b;try{let _0xb7d3df={'_id':{'$in':_0xa79d09}};return await this[_0x229cc2(0x41d)][_0x229cc2(0x2a1)](_0xb7d3df)[_0x229cc2(0x41a)]();}catch(_0x35df79){return console['error']('Error\x20finding\x20many\x20contacts:',_0x35df79),[];}}async[a0_0x42e86b(0x343)](_0x210340){const _0x5c84f6=a0_0x42e86b;try{return{'deletedCount':(await this[_0x5c84f6(0x41d)][_0x5c84f6(0x2a0)]({..._0x210340[_0x5c84f6(0x577)]}))['deletedCount']};}catch(_0x2c972c){return{'error':_0x2c972c?.[_0x5c84f6(0x53e)]()};}}async[a0_0x42e86b(0x2a1)](_0x2d97c2){const _0x3ce897=a0_0x42e86b;try{let _0x4b0f07=O(_0x2d97c2[_0x3ce897(0x577)]);return await this[_0x3ce897(0x41d)][_0x3ce897(0x2a1)](_0x4b0f07)[_0x3ce897(0x7e9)](_0x2d97c2?.['limit']??0x0)[_0x3ce897(0x41a)]();}catch{return[];}}async[a0_0x42e86b(0x551)](_0x72d78c){const _0x1ddd5f=a0_0x42e86b;try{let _0x1e4f1e=O(_0x72d78c[_0x1ddd5f(0x577)]);return await this[_0x1ddd5f(0x41d)][_0x1ddd5f(0x551)](_0x1e4f1e)[_0x1ddd5f(0x41a)]();}catch{return null;}}},Ht=class extends I{[a0_0x42e86b(0x381)](_0x4143d2){return wa(_0x4143d2);}async[a0_0x42e86b(0x5a3)](_0x24d77d,_0x33e94,_0x8a2636,_0x414704){const _0x308b70=a0_0x42e86b;try{let _0x8a41f7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x414704},_0x5d9904=this[_0x308b70(0x381)](_0x8a2636),_0x391f00=O(_0x24d77d[_0x308b70(0x577)]);return await _0x5d9904[_0x308b70(0x594)](_0x391f00,{'$set':_0x33e94},_0x8a41f7);}catch(_0x3e7915){return console[_0x308b70(0x690)](_0x3e7915),null;}}async[a0_0x42e86b(0x2a1)](_0x1ffb37,_0x22996e){const _0x4a6356=a0_0x42e86b;try{let _0x2f2bc8=this[_0x4a6356(0x381)](_0x22996e),_0x41660a=O(_0x1ffb37[_0x4a6356(0x577)]);return await _0x2f2bc8[_0x4a6356(0x2a1)](_0x41660a);}catch(_0x4b3257){console[_0x4a6356(0x690)](_0x4b3257);}}async[a0_0x42e86b(0x343)](_0x383330,_0x5190dc){const _0x4af456=a0_0x42e86b;try{let _0x3dbdbf=this['getLabelModelForOwner'](_0x5190dc),_0xbf1a=O(_0x383330[_0x4af456(0x577)]);await _0x3dbdbf['deleteMany'](_0xbf1a);}catch(_0x10c008){console['error'](_0x10c008);}}async[a0_0x42e86b(0x3ac)](_0x14baf5){const _0x34a44e=a0_0x42e86b;try{return await this[_0x34a44e(0x381)](_0x14baf5)[_0x34a44e(0x5b7)][_0x34a44e(0x6d7)](),{'success':!0x0};}catch(_0x2c5fed){return console[_0x34a44e(0x690)](_0x2c5fed),{'success':!0x1,'error':_0x2c5fed};}}},Vt=class{constructor(_0x3d6783){const _0x3d85eb=a0_0x42e86b;this[_0x3d85eb(0x474)]=_0x3d6783;}async[a0_0x42e86b(0x864)]({instanceName:_0x180f83},_0x399f2d){const _0x29cdca=a0_0x42e86b;return await this[_0x29cdca(0x474)]['waInstances'][_0x180f83][_0x29cdca(0x864)](_0x399f2d);}async[a0_0x42e86b(0x601)]({instanceName:_0x280e63},_0x38ad15){const _0x1b12b3=a0_0x42e86b;return await this[_0x1b12b3(0x474)][_0x1b12b3(0x2e8)][_0x280e63][_0x1b12b3(0x601)](_0x38ad15);}async['importChats']({instanceName:_0x468842},_0x38a770){const _0x1b2723=a0_0x42e86b;return await this['waMonitor'][_0x1b2723(0x2e8)][_0x468842][_0x1b2723(0x6b8)](_0x38a770);}async[a0_0x42e86b(0x424)]({instanceName:_0x28943f},_0x48545a){const _0x8471e5=a0_0x42e86b;return await this[_0x8471e5(0x474)][_0x8471e5(0x2e8)][_0x28943f][_0x8471e5(0x77a)](_0x48545a);}async[a0_0x42e86b(0x6bb)]({instanceName:_0x4b07b1},_0x57207a){const _0x4bdd1c=a0_0x42e86b;return await this[_0x4bdd1c(0x474)][_0x4bdd1c(0x2e8)][_0x4b07b1][_0x4bdd1c(0x6bb)](_0x57207a);}async[a0_0x42e86b(0x2a6)]({instanceName:_0x17a29f},_0x157db8){const _0x2fd14d=a0_0x42e86b;return await this[_0x2fd14d(0x474)][_0x2fd14d(0x2e8)][_0x17a29f]['deleteMessage'](_0x157db8);}async[a0_0x42e86b(0x8ad)]({instanceName:_0x34e169},_0x29fb1){const _0x124312=a0_0x42e86b;return await this[_0x124312(0x474)][_0x124312(0x2e8)][_0x34e169]['profilePicture'](_0x29fb1['number']);}async['fetchProfile']({instanceName:_0x2a9d13},_0x5cda2a){const _0x2de890=a0_0x42e86b;return await this[_0x2de890(0x474)][_0x2de890(0x2e8)][_0x2a9d13]['fetchProfile'](_0x5cda2a[_0x2de890(0x201)]);}async[a0_0x42e86b(0x462)]({instanceName:_0x5935fe},_0x56f70b){const _0x2ea185=a0_0x42e86b;return await this[_0x2ea185(0x474)][_0x2ea185(0x2e8)][_0x5935fe][_0x2ea185(0x462)](_0x56f70b);}async['fetchContacts']({instanceName:_0x58e4ea},_0x44d328){const _0x147530=a0_0x42e86b;return await this[_0x147530(0x474)][_0x147530(0x2e8)][_0x58e4ea]['fetchContacts'](_0x44d328);}async[a0_0x42e86b(0x529)]({instanceName:_0xc3dcfc},_0x167d15){const _0xc209d4=a0_0x42e86b;return await this[_0xc209d4(0x474)][_0xc209d4(0x2e8)][_0xc3dcfc]['getBase64FromMediaMessage'](_0x167d15);}async['fetchMessages']({instanceName:_0x1a80fd},_0x2cb256){const _0x525d22=a0_0x42e86b;return await this[_0x525d22(0x474)][_0x525d22(0x2e8)][_0x1a80fd][_0x525d22(0x79f)](_0x2cb256);}async[a0_0x42e86b(0x43b)]({instanceName:_0x4d7756}){const _0x26a554=a0_0x42e86b;return await this[_0x26a554(0x474)][_0x26a554(0x2e8)][_0x4d7756][_0x26a554(0x43b)]();}async[a0_0x42e86b(0x6ce)]({instanceName:_0x4d7918}){const _0xb07d0e=a0_0x42e86b;return await this[_0xb07d0e(0x474)]['waInstances'][_0x4d7918][_0xb07d0e(0x6ce)]();}async['fetchPrivacySettings']({instanceName:_0x359779}){const _0x5b883b=a0_0x42e86b;return await this[_0x5b883b(0x474)]['waInstances'][_0x359779][_0x5b883b(0x716)]();}async[a0_0x42e86b(0x4aa)]({instanceName:_0x349fb4},_0x42de25){const _0x4b3eb9=a0_0x42e86b;return await this[_0x4b3eb9(0x474)]['waInstances'][_0x349fb4]['updatePrivacySettings'](_0x42de25);}async[a0_0x42e86b(0x888)]({instanceName:_0x4e5bea},_0xb71cf7){const _0x3593da=a0_0x42e86b;return await this[_0x3593da(0x474)][_0x3593da(0x2e8)][_0x4e5bea][_0x3593da(0x888)](_0xb71cf7[_0x3593da(0x201)]);}async[a0_0x42e86b(0x52f)]({instanceName:_0x786d8},_0x24828c){const _0x15e2dd=a0_0x42e86b;return await this[_0x15e2dd(0x474)][_0x15e2dd(0x2e8)][_0x786d8]['updateProfileName'](_0x24828c[_0x15e2dd(0x2ea)]);}async[a0_0x42e86b(0x814)]({instanceName:_0x3bb889},_0x618a8b){const _0x3f2b32=a0_0x42e86b;return await this[_0x3f2b32(0x474)][_0x3f2b32(0x2e8)][_0x3bb889][_0x3f2b32(0x814)](_0x618a8b[_0x3f2b32(0x454)]);}async['updateProfilePicture']({instanceName:_0x443f73},_0x3ed0eb){const _0x4b7186=a0_0x42e86b;return await this[_0x4b7186(0x474)][_0x4b7186(0x2e8)][_0x443f73][_0x4b7186(0x777)](_0x3ed0eb[_0x4b7186(0x44b)]);}async[a0_0x42e86b(0x69d)]({instanceName:_0x38afed},_0x247559){const _0x511297=a0_0x42e86b;return await this[_0x511297(0x474)]['waInstances'][_0x38afed]['removeProfilePicture']();}},Gt=require('@whiskeysockets/baileys'),Bt=class c{constructor(_0x40cf7f,_0x1aaa74,_0x5e8003,_0x40293d,_0x461a5a){const _0x1756e4=a0_0x42e86b;this[_0x1756e4(0x474)]=_0x40cf7f,this[_0x1756e4(0x8e3)]=_0x1aaa74,this[_0x1756e4(0x400)]=_0x5e8003,this[_0x1756e4(0x7b1)]=_0x40293d,this['authService']=_0x461a5a,this['logger']=new R(c[_0x1756e4(0x2ea)]);}async[a0_0x42e86b(0x869)]({instanceName:_0x563b47,apikey:_0x1b7ce8,number:_0x3ee8f8,proxy:_0x3d9caf=!0x0}){const _0x4617eb=a0_0x42e86b;try{let _0xcd4dbe=new Ee(this[_0x4617eb(0x8e3)],this['eventEmitter'],this[_0x4617eb(0x400)]);_0xcd4dbe['instanceName']=_0x563b47,this[_0x4617eb(0x474)][_0x4617eb(0x2e8)][_0xcd4dbe[_0x4617eb(0x2c9)]]=_0xcd4dbe;let _0x2840b9={};_0x1b7ce8?(await this[_0x4617eb(0x400)][_0x4617eb(0x3c2)][_0x4617eb(0x69f)]({'apikey':_0x1b7ce8},_0x563b47),_0x2840b9[_0x4617eb(0x7c2)]=_0x1b7ce8):_0x2840b9=await this[_0x4617eb(0x3d4)][_0x4617eb(0x6b1)]({'instanceName':_0xcd4dbe[_0x4617eb(0x2c9)]});let _0xf625c1;if(_0x3ee8f8){if(_0xf625c1=await this[_0x4617eb(0x5b3)](_0x3ee8f8),_0xf625c1[_0x4617eb(0x690)])throw new x(_0xf625c1[_0x4617eb(0x690)][_0x4617eb(0x53e)]());_0x3ee8f8=_0xf625c1[_0x4617eb(0x201)];}let _0x3599b8;return await _0xcd4dbe[_0x4617eb(0x883)](_0x3ee8f8),await(0x0,Gt[_0x4617eb(0x6af)])(0x7d0),_0x3ee8f8&&await(0x0,Gt[_0x4617eb(0x6af)])(0xbb8),_0x3599b8=_0xcd4dbe[_0x4617eb(0x582)],{'instance':{'instanceName':_0xcd4dbe[_0x4617eb(0x2c9)],'status':_0x4617eb(0x5f3)},'hash':_0x2840b9,'qrcode':_0x3599b8};}catch(_0x5755df){throw this[_0x4617eb(0x7a6)][_0x4617eb(0x690)](_0x5755df),_0x5755df;}}async[a0_0x42e86b(0x1fb)]({instanceName:_0x751ad,number:_0x15a6be=null}){const _0x14c6bb=a0_0x42e86b;try{let _0x2dd4ef=this['waMonitor'][_0x14c6bb(0x2e8)][_0x751ad];switch(_0x2dd4ef?.[_0x14c6bb(0x6f3)]?.[_0x14c6bb(0x53f)]){case _0x14c6bb(0x5d1):return await _0x2dd4ef[_0x14c6bb(0x883)](_0x15a6be),await(0x0,Gt['delay'])(0x7d0),_0x2dd4ef[_0x14c6bb(0x582)];case _0x14c6bb(0x4e4):return _0x2dd4ef[_0x14c6bb(0x582)];default:return await this[_0x14c6bb(0x316)]({'instanceName':_0x751ad});}}catch(_0x129676){this[_0x14c6bb(0x7a6)][_0x14c6bb(0x247)](_0x129676);}}async[a0_0x42e86b(0x316)]({instanceName:_0x3e41d9}){const _0x1d269f=a0_0x42e86b;let _0x17d87d=this[_0x1d269f(0x474)]['waInstances'][_0x3e41d9][_0x1d269f(0x6f3)],_0x3d2829=null;_0x17d87d['state']===_0x1d269f(0x7a1)&&_0x3e41d9&&(_0x3d2829=await this[_0x1d269f(0x474)][_0x1d269f(0x60a)](_0x3e41d9));let _0x5367f3=null;return _0x17d87d[_0x1d269f(0x53f)]===_0x1d269f(0x4e4)&&_0x3e41d9&&(_0x5367f3=this['waMonitor'][_0x1d269f(0x2e8)][_0x3e41d9][_0x1d269f(0x582)]),{'instance':_0x3e41d9,'connectionStatus':_0x17d87d,'instanceInfo':_0x3d2829,'qrcode':_0x5367f3};}async['verifyWhatsAppNumber'](_0x1b007c){const _0x17bfcc=a0_0x42e86b;_0x1b007c=_0x1b007c[_0x17bfcc(0x600)](/\D/g,'');let _0x2615fb=Object[_0x17bfcc(0x3b9)](this['waMonitor'][_0x17bfcc(0x2e8)])[_0x17bfcc(0x496)](_0x1c7646=>{const _0x1b874e=_0x17bfcc;let _0x4729a7=this['waMonitor'][_0x1b874e(0x2e8)][_0x1c7646];return _0x4729a7&&_0x4729a7[_0x1b874e(0x6f3)]&&_0x4729a7['connectionStatus']['state']===_0x1b874e(0x7a1);});if(_0x2615fb[_0x17bfcc(0x40e)]===0x0)return{'number':this['formatBRNumber'](_0x1b007c)};let _0x1328e8=Math[_0x17bfcc(0x30f)](Math[_0x17bfcc(0x898)]()*_0x2615fb[_0x17bfcc(0x40e)]),_0x4df35a=_0x2615fb[_0x1328e8];try{let _0x28e4c4=(await this['waMonitor']['waInstances'][_0x4df35a]['whatsappNumber']({'numbers':[_0x1b007c]}))[_0x17bfcc(0x83b)]();return _0x28e4c4[_0x17bfcc(0x8fd)]?{'number':_0x28e4c4['jid']['replace'](_0x17bfcc(0x3df),'')}:{'number':_0x1b007c,'error':_0x17bfcc(0x634)};}catch(_0x30e9ea){return this[_0x17bfcc(0x7a6)]['error'](_0x17bfcc(0x7e2)+_0x30e9ea),{'number':_0x1b007c,'error':_0x17bfcc(0x8b9)};}}['formatBRNumber'](_0x374af3){const _0x2b87b3=a0_0x42e86b;let _0x4b5438=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2b87b3(0x4f6)](_0x374af3);if(_0x4b5438&&_0x4b5438[0x1]==='55'){let _0x5a146d=_0x4b5438[0x2],_0x1b5777=_0x4b5438[0x3],_0x46f1e0=_0x4b5438[0x4];if(parseInt(_0x5a146d)>=0x1f&&_0x1b5777==='9')return _0x4b5438[0x1]+_0x5a146d+_0x46f1e0;}return _0x374af3;}async[a0_0x42e86b(0x84d)]({instanceName:_0x18bf19}){const _0x3273f0=a0_0x42e86b;try{return this[_0x3273f0(0x474)][_0x3273f0(0x2e8)][_0x18bf19]?.[_0x3273f0(0x342)]?.['ws']?.[_0x3273f0(0x5d1)](),{'status':'SUCCESS','error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x3d2c40){this[_0x3273f0(0x7a6)][_0x3273f0(0x690)](_0x3d2c40);}}async[a0_0x42e86b(0x322)]({instanceName:_0x54fde5}){const _0x56fade=a0_0x42e86b;return _0x54fde5?this[_0x56fade(0x474)][_0x56fade(0x60a)](_0x54fde5):this[_0x56fade(0x474)][_0x56fade(0x60a)]();}async['logout']({instanceName:_0x596576}){const _0x5e04ef=a0_0x42e86b;try{return await this[_0x5e04ef(0x474)][_0x5e04ef(0x2e8)][_0x596576]?.['client']?.[_0x5e04ef(0x273)]('Log\x20out\x20instance:\x20'+_0x596576),{'error':!0x1,'message':_0x5e04ef(0x388)};}catch(_0x27150f){throw new x(_0x27150f['toString']());}}async[a0_0x42e86b(0x38b)]({instanceName:_0x24e0b7}){const _0x522b0b=a0_0x42e86b;if((await this[_0x522b0b(0x316)]({'instanceName':_0x24e0b7}))[_0x522b0b(0x6f3)][_0x522b0b(0x53f)]===_0x522b0b(0x7a1))throw new f([_0x522b0b(0x3d9),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x522b0b(0x474)][_0x522b0b(0x2e8)][_0x24e0b7],{'error':!0x1,'message':_0x522b0b(0x2bf)};}catch(_0x3ce220){throw new f(_0x3ce220['toString']());}}},te=require('class-validator'),Wt=class{constructor(_0x36de7e){this['waMonitor']=_0x36de7e;}async[a0_0x42e86b(0x510)]({instanceName:_0xd0ca76},_0x937cde){const _0x29139a=a0_0x42e86b;return await this[_0x29139a(0x474)][_0x29139a(0x2e8)][_0xd0ca76][_0x29139a(0x2ab)](_0x937cde);}async[a0_0x42e86b(0x871)]({instanceName:_0x5628bb},_0x5042bf){const _0x51f062=a0_0x42e86b;return await this[_0x51f062(0x474)]['waInstances'][_0x5628bb]['menuMessage'](_0x5042bf);}async['sendMedia']({instanceName:_0x53a33c},_0x17a0b8){const _0x5cd73e=a0_0x42e86b;if((0x0,te['isBase64'])(_0x17a0b8?.[_0x5cd73e(0x41b)]?.[_0x5cd73e(0x229)])&&!_0x17a0b8?.[_0x5cd73e(0x41b)]?.['fileName'])throw new f(_0x5cd73e(0x4d8));if((0x0,te[_0x5cd73e(0x3ce)])(_0x17a0b8?.[_0x5cd73e(0x41b)]?.[_0x5cd73e(0x229)])||(0x0,te[_0x5cd73e(0x6b6)])(_0x17a0b8?.[_0x5cd73e(0x41b)]?.['media']))return await this[_0x5cd73e(0x474)][_0x5cd73e(0x2e8)][_0x53a33c][_0x5cd73e(0x41b)](_0x17a0b8);throw new f(_0x5cd73e(0x3d6));}async[a0_0x42e86b(0x70c)]({instanceName:_0x16005e},_0x879fd3){const _0x30bcbc=a0_0x42e86b;if((0x0,te[_0x30bcbc(0x3ce)])(_0x879fd3[_0x30bcbc(0x733)]['image'])||(0x0,te[_0x30bcbc(0x6b6)])(_0x879fd3['stickerMessage'][_0x30bcbc(0x8c6)]))return await this[_0x30bcbc(0x474)][_0x30bcbc(0x2e8)][_0x16005e][_0x30bcbc(0x873)](_0x879fd3);throw new f(_0x30bcbc(0x3d6));}async[a0_0x42e86b(0x455)]({instanceName:_0x23cbd2},_0x39df1){const _0x4e2c35=a0_0x42e86b;if((0x0,te[_0x4e2c35(0x3ce)])(_0x39df1[_0x4e2c35(0x78b)][_0x4e2c35(0x801)])||(0x0,te['isBase64'])(_0x39df1['audioMessage'][_0x4e2c35(0x801)]))return await this['waMonitor'][_0x4e2c35(0x2e8)][_0x23cbd2][_0x4e2c35(0x7ca)](_0x39df1);throw new f(_0x4e2c35(0x3d6));}async[a0_0x42e86b(0x56d)]({instanceName:_0x1acef2},_0x5d456e){const _0x34ad68=a0_0x42e86b;if((0x0,te[_0x34ad68(0x6b6)])(_0x5d456e[_0x34ad68(0x410)]['mediaMessage']?.[_0x34ad68(0x229)])&&!_0x5d456e['buttonMessage'][_0x34ad68(0x41b)]?.[_0x34ad68(0x3a7)])throw new f(_0x34ad68(0x4d8));return await this['waMonitor'][_0x34ad68(0x2e8)][_0x1acef2]['buttonMessage'](_0x5d456e);}async[a0_0x42e86b(0x81a)]({instanceName:_0xea58c1},_0x35d6b4){return await this['waMonitor']['waInstances'][_0xea58c1]['locationMessage'](_0x35d6b4);}async['sendPoll']({instanceName:_0x360de1},_0x4e696c){const _0x496880=a0_0x42e86b;return await this[_0x496880(0x474)][_0x496880(0x2e8)][_0x360de1][_0x496880(0x735)](_0x4e696c);}async[a0_0x42e86b(0x815)]({instanceName:_0x3d6ea0},_0x401260){const _0x3d4437=a0_0x42e86b;return await this[_0x3d4437(0x474)][_0x3d4437(0x2e8)][_0x3d6ea0][_0x3d4437(0x23e)](_0x401260);}async[a0_0x42e86b(0x589)]({instanceName:_0x42797c},_0x255ba5){const _0x403d0d=a0_0x42e86b;return await this[_0x403d0d(0x474)][_0x403d0d(0x2e8)][_0x42797c][_0x403d0d(0x5dc)](_0x255ba5);}async[a0_0x42e86b(0x84e)]({instanceName:_0x37eebe},_0x5e1a68){const _0x10c002=a0_0x42e86b;if(!_0x5e1a68[_0x10c002(0x77b)][_0x10c002(0x835)][_0x10c002(0x685)](/[^\(\)\w\sà-ú"-\+]+/))throw new f(_0x10c002(0x4a2));return await this['waMonitor'][_0x10c002(0x2e8)][_0x37eebe]['reactionMessage'](_0x5e1a68);}async['sendStatus']({instanceName:_0x1b68c4},_0x414ff7){const _0x4d631a=a0_0x42e86b;return await this[_0x4d631a(0x474)][_0x4d631a(0x2e8)][_0x1b68c4]['statusMessage'](_0x414ff7);}},Ro=require('jsonwebtoken'),js=require(a0_0x42e86b(0x874)),zt=class c{constructor(_0x3ba18b,_0x9089b,_0x4d0533){const _0x1b3433=a0_0x42e86b;this['configService']=_0x3ba18b,this[_0x1b3433(0x474)]=_0x9089b,this[_0x1b3433(0x400)]=_0x4d0533,this[_0x1b3433(0x7a6)]=new R(c[_0x1b3433(0x2ea)]);}async[a0_0x42e86b(0x34c)](_0xccac31){const _0x53edbc=a0_0x42e86b;let _0xa13ae0=this['configService']['get'](_0x53edbc(0x327))['JWT'],_0x1bb046=(0x0,Ro[_0x53edbc(0x28b)])({'instanceName':_0xccac31[_0x53edbc(0x2c9)],'apiName':tt,'tokenId':(0x0,js['v4'])()},_0xa13ae0['SECRET'],{'expiresIn':_0xa13ae0[_0x53edbc(0x69e)],'encoding':_0x53edbc(0x71d),'subject':'g-t'}),_0x999724=await this[_0x53edbc(0x400)][_0x53edbc(0x3c2)]['create']({'jwt':_0x1bb046},_0xccac31[_0x53edbc(0x2c9)]);if(_0x999724[_0x53edbc(0x690)])throw this[_0x53edbc(0x7a6)][_0x53edbc(0x690)]({'localError':c[_0x53edbc(0x2ea)]+_0x53edbc(0x301),'error':_0x999724['error']}),new f(_0x53edbc(0x5c4),_0x999724[_0x53edbc(0x690)]?.[_0x53edbc(0x53e)]());return{'jwt':_0x1bb046};}async[a0_0x42e86b(0x7c2)](_0x311fba){const _0x4a9346=a0_0x42e86b;let _0x125edf=(0x0,js['v4'])()[_0x4a9346(0x70d)](),_0x138c96=await this[_0x4a9346(0x400)]['auth'][_0x4a9346(0x69f)]({'apikey':_0x125edf},_0x311fba[_0x4a9346(0x2c9)]);if(_0x138c96[_0x4a9346(0x690)])throw this[_0x4a9346(0x7a6)]['error']({'localError':c[_0x4a9346(0x2ea)]+_0x4a9346(0x301),'error':_0x138c96[_0x4a9346(0x690)]}),new f(_0x4a9346(0x5c4),_0x138c96[_0x4a9346(0x690)]?.[_0x4a9346(0x53e)]());return{'apikey':_0x125edf};}async[a0_0x42e86b(0x6b1)](_0x285ded){const _0x1465b8=a0_0x42e86b;let _0x5e410f=this[_0x1465b8(0x8e3)]['get'](_0x1465b8(0x327));return await this[_0x5e410f[_0x1465b8(0x374)]](_0x285ded);}},Kt=class{constructor(_0x19ec59){const _0x5c5164=a0_0x42e86b;this[_0x5c5164(0x474)]=_0x19ec59;}async[a0_0x42e86b(0x792)](_0x2cb40a,_0x1ebe4b){const _0x5c7c21=a0_0x42e86b;return await this[_0x5c7c21(0x474)][_0x5c7c21(0x2e8)][_0x2cb40a['instanceName']][_0x5c7c21(0x792)](_0x1ebe4b);}async[a0_0x42e86b(0x77d)](_0x3c0c05,_0x4aba26){const _0x14d95b=a0_0x42e86b;return await this[_0x14d95b(0x474)]['waInstances'][_0x3c0c05[_0x14d95b(0x2c9)]][_0x14d95b(0x77d)](_0x4aba26);}async[a0_0x42e86b(0x288)](_0x9471e3,_0x43ac57){const _0x4373d=a0_0x42e86b;return await this[_0x4373d(0x474)][_0x4373d(0x2e8)][_0x9471e3[_0x4373d(0x2c9)]]['groupDesc'](_0x43ac57);}async[a0_0x42e86b(0x818)](_0x468ede,_0x22c3ab){const _0x25f42e=a0_0x42e86b;return await this[_0x25f42e(0x474)]['waInstances'][_0x468ede['instanceName']][_0x25f42e(0x818)](_0x22c3ab);}async[a0_0x42e86b(0x717)](_0x24e46d,_0x49c15e){const _0x311bf4=a0_0x42e86b;return await this['waMonitor']['waInstances'][_0x24e46d['instanceName']][_0x311bf4(0x717)](_0x49c15e);}async[a0_0x42e86b(0x44a)](_0x38fea9,_0x41822a){const _0x4a46f6=a0_0x42e86b;return await this['waMonitor'][_0x4a46f6(0x2e8)][_0x38fea9[_0x4a46f6(0x2c9)]][_0x4a46f6(0x44a)](_0x41822a);}async['findGroupInfo'](_0x43f03d,_0x1a2249){const _0x2364de=a0_0x42e86b;return await this['waMonitor'][_0x2364de(0x2e8)][_0x43f03d['instanceName']][_0x2364de(0x33f)](_0x1a2249);}async[a0_0x42e86b(0x308)](_0x1075b9){const _0x303615=a0_0x42e86b;return await this['waMonitor'][_0x303615(0x2e8)][_0x1075b9[_0x303615(0x2c9)]][_0x303615(0x308)]();}async[a0_0x42e86b(0x724)](_0x3760cb,_0x809d23){const _0x2bc1aa=a0_0x42e86b;return await this[_0x2bc1aa(0x474)][_0x2bc1aa(0x2e8)][_0x3760cb[_0x2bc1aa(0x2c9)]][_0x2bc1aa(0x724)](_0x809d23);}async[a0_0x42e86b(0x356)](_0x22f43b,_0x24be7c){const _0x1a021a=a0_0x42e86b;return await this[_0x1a021a(0x474)][_0x1a021a(0x2e8)][_0x22f43b[_0x1a021a(0x2c9)]][_0x1a021a(0x356)](_0x24be7c);}async[a0_0x42e86b(0x4af)](_0x569303,_0x30cfc5){const _0x1131e7=a0_0x42e86b;return await this[_0x1131e7(0x474)][_0x1131e7(0x2e8)][_0x569303[_0x1131e7(0x2c9)]]['groupGetInviteInfo'](_0x30cfc5);}async[a0_0x42e86b(0x370)](_0x5299d5,_0x2f6c31){const _0xcde41d=a0_0x42e86b;return await this[_0xcde41d(0x474)][_0xcde41d(0x2e8)][_0x5299d5[_0xcde41d(0x2c9)]][_0xcde41d(0x370)](_0x2f6c31);}async[a0_0x42e86b(0x228)](_0x41df11,_0x110582){const _0x422f38=a0_0x42e86b;return await this[_0x422f38(0x474)]['waInstances'][_0x41df11[_0x422f38(0x2c9)]]['findParticipants'](_0x110582);}async[a0_0x42e86b(0x3d0)](_0x571dae,_0x48e00f){const _0x565712=a0_0x42e86b;return await this[_0x565712(0x474)][_0x565712(0x2e8)][_0x571dae[_0x565712(0x2c9)]][_0x565712(0x3b1)](_0x48e00f);}async[a0_0x42e86b(0x908)](_0x42d564,_0x23d300){const _0x25fa89=a0_0x42e86b;return await this[_0x25fa89(0x474)][_0x25fa89(0x2e8)][_0x42d564[_0x25fa89(0x2c9)]][_0x25fa89(0x908)](_0x23d300);}async[a0_0x42e86b(0x543)](_0x56c5f2,_0x251d4e){const _0x2b89c3=a0_0x42e86b;return await this[_0x2b89c3(0x474)][_0x2b89c3(0x2e8)][_0x56c5f2[_0x2b89c3(0x2c9)]][_0x2b89c3(0x543)](_0x251d4e);}},Qt=class{constructor(_0xc03b67){const _0x94c9d2=a0_0x42e86b;this[_0x94c9d2(0x474)]=_0xc03b67;}[a0_0x42e86b(0x69f)](_0x4e60f6,_0x3d83f4){const _0x33e8f5=a0_0x42e86b;return this[_0x33e8f5(0x474)][_0x33e8f5(0x2e8)][_0x4e60f6['instanceName']][_0x33e8f5(0x756)](_0x3d83f4);}async['find'](_0xb02c76){const _0x1e7566=a0_0x42e86b;try{return await this[_0x1e7566(0x474)][_0x1e7566(0x2e8)][_0xb02c76['instanceName']][_0x1e7566(0x463)]();}catch{return{'enabled':null,'url':''};}}},Dp=new R(a0_0x42e86b(0x5e0)),Yt=class{constructor(_0x35f1d2){const _0x2072f1=a0_0x42e86b;this[_0x2072f1(0x474)]=_0x35f1d2;}async[a0_0x42e86b(0x565)](_0x31016b,_0x3264a9){const _0x4f8310=a0_0x42e86b;return await this[_0x4f8310(0x474)][_0x4f8310(0x2e8)][_0x31016b['instanceName']][_0x4f8310(0x565)](_0x3264a9);}async[a0_0x42e86b(0x7cc)](_0x19349b){const _0x15d787=a0_0x42e86b;return await this[_0x15d787(0x474)][_0x15d787(0x2e8)][_0x19349b[_0x15d787(0x2c9)]][_0x15d787(0x7cc)]();}async[a0_0x42e86b(0x2fa)](_0x3e97ee){const _0x806c2e=a0_0x42e86b;return await this[_0x806c2e(0x474)][_0x806c2e(0x2e8)][_0x3e97ee[_0x806c2e(0x2c9)]][_0x806c2e(0x2fa)]();}async[a0_0x42e86b(0x8f2)](_0x39f94b){const _0x3019c7=a0_0x42e86b;return await this[_0x3019c7(0x474)][_0x3019c7(0x2e8)][_0x39f94b[_0x3019c7(0x2c9)]][_0x3019c7(0x8f2)]();}async['updateAgent'](_0x270c0d,_0x58332a){const _0x3c9147=a0_0x42e86b;return await this[_0x3c9147(0x474)][_0x3c9147(0x2e8)][_0x270c0d[_0x3c9147(0x2c9)]][_0x3c9147(0x1f3)](_0x58332a);}async[a0_0x42e86b(0x391)](_0x35f6a1,_0xecc0b5){const _0x65544=a0_0x42e86b;return await this[_0x65544(0x474)][_0x65544(0x2e8)][_0x35f6a1[_0x65544(0x2c9)]][_0x65544(0x391)](_0xecc0b5);}async[a0_0x42e86b(0x5cb)](_0x150bbe,_0x2a4fb4){const _0x233edd=a0_0x42e86b;return await this[_0x233edd(0x474)][_0x233edd(0x2e8)][_0x150bbe[_0x233edd(0x2c9)]][_0x233edd(0x5cb)](_0x2a4fb4);}async[a0_0x42e86b(0x473)](_0x4ac334,_0x310158){const _0x101bde=a0_0x42e86b;return await this['waMonitor'][_0x101bde(0x2e8)][_0x4ac334[_0x101bde(0x2c9)]][_0x101bde(0x473)](_0x310158);}async[a0_0x42e86b(0x6fc)](_0x89fd4e,_0x1b77b4){const _0x478531=a0_0x42e86b;return await this[_0x478531(0x474)][_0x478531(0x2e8)][_0x89fd4e['instanceName']]['startFlow'](_0x1b77b4);}async[a0_0x42e86b(0x313)](_0x202d18,_0x4862ad,_0x49ab4f,_0x548606){const _0x5464a5=a0_0x42e86b;return await this[_0x5464a5(0x474)][_0x5464a5(0x2e8)][_0x202d18][_0x5464a5(0x313)](_0x4862ad,_0x49ab4f,_0x548606);}async[a0_0x42e86b(0x4c3)](_0x33c21e,_0x2c254f){const _0x4059d6=a0_0x42e86b;return await this['waMonitor']['waInstances'][_0x33c21e[_0x4059d6(0x2c9)]][_0x4059d6(0x4c3)](_0x2c254f);}async[a0_0x42e86b(0x42c)](_0x2eaf08,_0x21028d){const _0x4e55e9=a0_0x42e86b;return await this[_0x4e55e9(0x474)][_0x4e55e9(0x2e8)][_0x2eaf08[_0x4e55e9(0x2c9)]][_0x4e55e9(0x42c)](_0x21028d);}async[a0_0x42e86b(0x4d1)](_0x3292af,_0xe2b5b8){const _0x1c7324=a0_0x42e86b;return await this[_0x1c7324(0x474)][_0x1c7324(0x2e8)][_0x3292af[_0x1c7324(0x2c9)]][_0x1c7324(0x4d1)](_0xe2b5b8);}async[a0_0x42e86b(0x358)](_0x3f898b,_0x4c8df9){const _0xb4912f=a0_0x42e86b;return await this[_0xb4912f(0x474)][_0xb4912f(0x2e8)][_0x3f898b['instanceName']]['deleteConversation'](_0x4c8df9);}async[a0_0x42e86b(0x30c)](_0xe98551,_0x27f652){const _0x2e99fb=a0_0x42e86b;return await this[_0x2e99fb(0x474)][_0x2e99fb(0x2e8)][_0xe98551[_0x2e99fb(0x2c9)]][_0x2e99fb(0x30c)](_0x27f652['_id']);}async[a0_0x42e86b(0x2d0)](_0x518093,_0x4723ec,_0x5d3230){const _0x1d2c01=a0_0x42e86b;return await this['waMonitor']['waInstances'][_0x518093[_0x1d2c01(0x2c9)]][_0x1d2c01(0x2d0)](_0x4723ec,_0x5d3230);}async[a0_0x42e86b(0x237)](_0x1d2fa0,_0x2d60da,_0x132e48){const _0x1881cd=a0_0x42e86b;return await this['waMonitor'][_0x1881cd(0x2e8)][_0x1d2fa0[_0x1881cd(0x2c9)]][_0x1881cd(0x237)](_0x2d60da,_0x132e48);}async[a0_0x42e86b(0x304)](_0x1920be,_0x35be6f){const _0x686478=a0_0x42e86b;return await this['waMonitor'][_0x686478(0x2e8)][_0x1920be[_0x686478(0x2c9)]][_0x686478(0x304)](_0x35be6f);}async[a0_0x42e86b(0x1fd)](_0x2b6568,_0x43da60){const _0x30191f=a0_0x42e86b;return await this['waMonitor'][_0x30191f(0x2e8)][_0x2b6568['instanceName']][_0x30191f(0x1fd)](_0x43da60);}async[a0_0x42e86b(0x6f4)](_0x2653a9,_0x5055fb){const _0xd79c55=a0_0x42e86b;return await this[_0xd79c55(0x474)]['waInstances'][_0x2653a9['instanceName']][_0xd79c55(0x6f4)](_0x5055fb);}async[a0_0x42e86b(0x79c)](_0x308df1,_0x378c81){const _0x4b8042=a0_0x42e86b;return await this[_0x4b8042(0x474)][_0x4b8042(0x2e8)][_0x308df1['instanceName']][_0x4b8042(0x79c)](_0x378c81);}async['editFlowVaredit'](_0xa76104,_0x31c2ce){const _0x3b1979=a0_0x42e86b;return await this['waMonitor'][_0x3b1979(0x2e8)][_0xa76104['instanceName']]['editFlowVaredit'](_0x31c2ce);}async[a0_0x42e86b(0x8cc)](_0x1bf2a9,_0x2f8e88){const _0x16eae9=a0_0x42e86b;return await this[_0x16eae9(0x474)][_0x16eae9(0x2e8)][_0x1bf2a9['instanceName']][_0x16eae9(0x8cc)](_0x2f8e88);}async[a0_0x42e86b(0x384)](_0x25cca9,_0x555c7e){const _0x18f21a=a0_0x42e86b;return await this[_0x18f21a(0x474)][_0x18f21a(0x2e8)][_0x25cca9[_0x18f21a(0x2c9)]][_0x18f21a(0x384)](_0x555c7e);}async[a0_0x42e86b(0x32a)](_0x4d9fea){const _0x39f4a9=a0_0x42e86b;return await this[_0x39f4a9(0x474)][_0x39f4a9(0x2e8)][_0x4d9fea[_0x39f4a9(0x2c9)]][_0x39f4a9(0x32a)]();}},Xt=class{constructor(_0x394d81){const _0x341f59=a0_0x42e86b;this[_0x341f59(0x5d7)]=_0x394d81;}async[a0_0x42e86b(0x904)](_0x28f034,_0x54a128){const _0x8a58fb=a0_0x42e86b;return this['webhookService'][_0x8a58fb(0x69f)](_0x28f034,_0x54a128);}async[a0_0x42e86b(0x463)](_0x441e49){const _0x2016a5=a0_0x42e86b;return this[_0x2016a5(0x5d7)][_0x2016a5(0x2a1)](_0x441e49);}},Zt=class extends I{constructor(_0x29d943,_0x4d9e87){super(_0x4d9e87),this['webhookModel']=_0x29d943,this['configService']=_0x4d9e87;}async[a0_0x42e86b(0x69f)](_0x639f60,_0x5367d0){const _0x35c763=a0_0x42e86b;try{return this['dbSettings'][_0x35c763(0x625)]?{'insertCount':(await this[_0x35c763(0x29b)][_0x35c763(0x877)]({'_id':_0x5367d0},{..._0x639f60},{'upsert':!0x0}))[_0x35c763(0x489)]}:{'insertCount':0x1};}catch(_0x20fbed){return _0x20fbed;}}async[a0_0x42e86b(0x343)](_0x2f00ea){const _0x47dcad=a0_0x42e86b;try{if(this[_0x47dcad(0x383)][_0x47dcad(0x625)]){await this['webhookModel'][_0x47dcad(0x5d9)]({'_id':_0x2f00ea});return;}}catch(_0x522311){return{'error':_0x522311};}}async[a0_0x42e86b(0x2a1)](_0x48fdec){const _0x43ea9c=a0_0x42e86b;try{if(this[_0x43ea9c(0x383)]['ENABLED'])return await this['webhookModel'][_0x43ea9c(0x551)]({'_id':_0x48fdec});}catch{return{};}}},es=class extends I{constructor(_0x2e46b3,_0x2b185d){const _0x12647c=a0_0x42e86b;super(_0x2b185d),this['authModel']=_0x2e46b3,this[_0x12647c(0x8e3)]=_0x2b185d,this[_0x12647c(0x3c2)]=_0x2b185d['get'](_0x12647c(0x327));}async[a0_0x42e86b(0x69f)](_0xcdb018,_0x16c189){const _0x19c4e4=a0_0x42e86b;try{if(this[_0x19c4e4(0x383)][_0x19c4e4(0x625)])return{'insertCount':(await this[_0x19c4e4(0x541)]['updateOne']({'_id':_0x16c189},{'$set':{..._0xcdb018}},{'upsert':!0x0}))[_0x19c4e4(0x489)]};}catch(_0x103f55){return{'error':_0x103f55};}}async[a0_0x42e86b(0x852)](_0x1704e5,_0x137730){const _0x5349b7=a0_0x42e86b;try{if(this[_0x5349b7(0x383)][_0x5349b7(0x625)])return{'insertCount':(await this[_0x5349b7(0x541)][_0x5349b7(0x21b)](_0x1704e5,{'$set':_0x137730},{'upsert':!0x1}))[_0x5349b7(0x489)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x57e2ad){return{'error':_0x57e2ad};}}async[a0_0x42e86b(0x2a0)](_0xd930a7){const _0x47b37a=a0_0x42e86b;try{if(this[_0x47b37a(0x383)][_0x47b37a(0x625)])return{'insertCount':(await this[_0x47b37a(0x541)][_0x47b37a(0x2a0)](_0xd930a7))[_0x47b37a(0x290)]};throw new Error(_0x47b37a(0x528));}catch(_0x20e6d3){return{'error':_0x20e6d3};}}async['delete'](_0x2bf0cb){const _0x12902d=a0_0x42e86b;try{if(this[_0x12902d(0x383)][_0x12902d(0x625)]){await this[_0x12902d(0x541)][_0x12902d(0x5d9)]({'_id':_0x2bf0cb});return;}}catch(_0x26b02d){return{'error':_0x26b02d};}}async[a0_0x42e86b(0x2a1)](_0x12038f){const _0x5df97c=a0_0x42e86b;try{if(this[_0x5df97c(0x383)]['ENABLED'])return await this[_0x5df97c(0x541)]['findOne']({'_id':_0x12038f});}catch{return{};}}async[a0_0x42e86b(0x5bf)](){const _0x57b76b=a0_0x42e86b;try{if(this['dbSettings'][_0x57b76b(0x625)])return await this[_0x57b76b(0x541)]['find']();}catch{return[];}}},Do=require(a0_0x42e86b(0x874)),ts=class extends I{async[a0_0x42e86b(0x5d9)](_0x300f34){const _0x95be57=a0_0x42e86b;try{let _0x324d18=O(_0x300f34['where']);return{'deletedCount':(await de[_0x95be57(0x5d9)](_0x324d18))[_0x95be57(0x290)]};}catch(_0x2eb3db){return{'error':_0x2eb3db?.[_0x95be57(0x53e)]()};}}async['updateOne'](_0x3c2a80,_0x3dbaa4){const _0x403941=a0_0x42e86b;try{let _0x40c949=await de[_0x403941(0x3c1)](_0x3c2a80);return _0x40c949?(Object['assign'](_0x40c949,_0x3dbaa4),await _0x40c949[_0x403941(0x75a)]()):(console[_0x403941(0x690)](_0x403941(0x5f6),_0x3c2a80),null);}catch(_0x47c743){return console[_0x403941(0x690)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x47c743),null;}}async[a0_0x42e86b(0x7d3)](_0x220f96){const _0x251acb=a0_0x42e86b;try{return await new de(_0x220f96)[_0x251acb(0x75a)]();}catch(_0x1e203e){return console[_0x251acb(0x690)](_0x251acb(0x82b),_0x1e203e),null;}}async[a0_0x42e86b(0x5bf)](_0x10203e){const _0x1cc7e7=a0_0x42e86b;try{let _0x3891ef=_0x10203e['where']??{};return await de[_0x1cc7e7(0x2a1)](_0x3891ef)[_0x1cc7e7(0x7e9)](_0x10203e['limit']??0x0)[_0x1cc7e7(0x41a)]();}catch(_0x4a4fe0){return console[_0x1cc7e7(0x690)](_0x1cc7e7(0x392),_0x4a4fe0),[];}}async['findOne'](_0x17e721){const _0x2cd65a=a0_0x42e86b;try{let _0x4e733f=O(_0x17e721[_0x2cd65a(0x577)]);return await de['findOne'](_0x4e733f)[_0x2cd65a(0x41a)]();}catch{return null;}}async[a0_0x42e86b(0x3ac)](_0x47f295){const _0x21c691=a0_0x42e86b;try{let _0x250c54=Ss(_0x47f295);if(!_0x250c54){let _0x1840da='Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20'+_0x47f295;return console[_0x21c691(0x690)](_0x1840da),{'success':!0x1,'error':new Error(_0x1840da)};}return await _0x250c54[_0x21c691(0x5b7)][_0x21c691(0x6d7)](),{'success':!0x0};}catch(_0x5a11d7){return console[_0x21c691(0x690)](_0x5a11d7),{'success':!0x1,'error':_0x5a11d7 instanceof Error?_0x5a11d7:new Error(String(_0x5a11d7))};}}async['migrateFlowsToCentralizedCollection'](_0x322ca9){const _0x222198=a0_0x42e86b;try{let _0x1b88eb=Ss(_0x322ca9);if(!_0x1b88eb)return console['error'](_0x222198(0x344)+_0x322ca9),0x0;let _0x35dee8=await _0x1b88eb[_0x222198(0x2a1)]({})['lean']();if(console[_0x222198(0x247)](_0x222198(0x8e8)+_0x322ca9+'\x27\x20->\x20'+_0x35dee8[_0x222198(0x40e)]),!_0x35dee8||_0x35dee8[_0x222198(0x40e)]===0x0)return console['log'](_0x222198(0x69b)+_0x322ca9),0x0;let _0x3e215d=_0x35dee8[_0x222198(0x57c)](_0x24c72d=>{const _0xe2677c=_0x222198;let {global:_0x36eca3,startID:_0x363a19,sharePass:_0x4fd86b,shareOwners:_0xd056ad,minutesToClose:_0x39ad31,readMessages:_0x382233,testingWith:_0x5e7218,startCommandWord:_0x1d0d53,default:_0xaa476,..._0x383a3a}=_0x24c72d,_0x2bf588=Array[_0xe2677c(0x7c1)](new Set([..._0xd056ad,_0x322ca9])),_0x12b939=Array[_0xe2677c(0x7c1)](new Set([..._0xd056ad,_0x322ca9]));return{..._0x383a3a,'_id':(0x0,Do['v4'])(),'owner':_0x322ca9,'globalShow':_0x24c72d[_0xe2677c(0x2f5)]==='true','whoCanEdit':_0x2bf588,'whoCanUse':_0x12b939};});return await de[_0x222198(0x5bb)](_0x3e215d),console[_0x222198(0x247)]('Fluxos\x20transferidos\x20do\x20proprietário\x20\x27'+_0x322ca9+'\x27\x20para\x20a\x20coleção\x20centralizada.'),_0x3e215d[_0x222198(0x40e)];}catch(_0x592aa9){return console[_0x222198(0x690)](_0x222198(0x446)+_0x322ca9+'\x27:',_0x592aa9),0x0;}}async['migrateAllOwnersFlowsToCentralizedCollection'](_0x1759ca){const _0x3319c9=a0_0x42e86b;let _0x1720cb=0x0;for(let _0x1374d3 of _0x1759ca){let _0x390dac=await this[_0x3319c9(0x8a9)](_0x1374d3);_0x1720cb+=_0x390dac;}return console[_0x3319c9(0x247)]('Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleção\x20centralizada:\x20'+_0x1720cb),_0x1720cb;}},ss=class extends I{[a0_0x42e86b(0x2a8)](_0x53248){return ha(_0x53248);}async[a0_0x42e86b(0x8dd)](_0xa073a7){const _0x1121c9=a0_0x42e86b;if(_0xa073a7[_0x1121c9(0x40e)]!==0x0)try{return{'insertCount':(await this[_0x1121c9(0x2a8)](_0xa073a7[0x0][_0x1121c9(0x6c3)])['insertMany']([..._0xa073a7]))[_0x1121c9(0x40e)]};}catch(_0x497905){return _0x497905;}}async[a0_0x42e86b(0x343)](_0x53d9de,_0x1eb6f7){const _0x9e4021=a0_0x42e86b;try{let _0xc4de36=this[_0x9e4021(0x2a8)](_0x1eb6f7),_0x3a7c29=O(_0x53d9de[_0x9e4021(0x577)]);return{'deletedCount':(await _0xc4de36[_0x9e4021(0x2a0)](_0x3a7c29))[_0x9e4021(0x290)]};}catch(_0x56bfb7){return{'error':_0x56bfb7?.['toString']()};}}async[a0_0x42e86b(0x5d9)](_0x459b2d,_0x2b3904){const _0x902643=a0_0x42e86b;try{let _0xa1811b=this['getConversationModelForOwner'](_0x2b3904),_0x3931ee=O(_0x459b2d['where']);return{'deletedCount':(await _0xa1811b[_0x902643(0x5d9)](_0x3931ee))[_0x902643(0x290)]};}catch(_0x5d73fc){return{'error':_0x5d73fc?.['toString']()};}}async['update'](_0x25fd11,_0x535396){const _0x147191=a0_0x42e86b;try{if(_0x25fd11[_0x147191(0x40e)]===0x0)return;let _0x47eec7=this[_0x147191(0x2a8)](_0x535396),_0x458189=_0x25fd11[_0x147191(0x57c)](_0x274809=>({'updateOne':{'filter':{'name':_0x274809[_0x147191(0x2ea)],'owner':_0x535396},'update':{..._0x274809}}})),{modifiedCount:_0x13da64}=await _0x47eec7['bulkWrite'](_0x458189);return{'insertCount':_0x13da64};}catch{return;}}async[a0_0x42e86b(0x21b)](_0x503c66,_0x1acf63,_0x5de375){const _0x5ea587=a0_0x42e86b;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x5de375)[_0x5ea587(0x21b)](_0x503c66,{'$set':_0x1acf63})[_0x5ea587(0x4f6)]())['modifiedCount']};}catch(_0x53c4eb){return console[_0x5ea587(0x690)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x53c4eb),{'error':_0x53c4eb};}}async[a0_0x42e86b(0x5a3)](_0x3e9f13,_0x13238a,_0x3e6496){const _0x26ebfc=a0_0x42e86b;try{return await this[_0x26ebfc(0x2a8)](_0x3e6496)[_0x26ebfc(0x594)]({'_id':_0x3e9f13},{'$set':_0x13238a},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x488ba2){return console[_0x26ebfc(0x690)](_0x488ba2),null;}}async[a0_0x42e86b(0x2a1)](_0x5c5eb4,_0x57f99d){const _0x4f1bc=a0_0x42e86b;try{return await this['getConversationModelForOwner'](_0x57f99d)[_0x4f1bc(0x2a1)](_0x5c5eb4)[_0x4f1bc(0x397)]({'lastInteraction':-0x1})[_0x4f1bc(0x41a)]();}catch{return[];}}async[a0_0x42e86b(0x551)](_0x501d0c,_0x4dd74e){const _0x16914e=a0_0x42e86b;try{return await this['getConversationModelForOwner'](_0x4dd74e)[_0x16914e(0x551)]({..._0x501d0c[_0x16914e(0x577)]})['lean']();}catch{return null;}}async['deleteAll'](_0x671944){const _0x4a31e1=a0_0x42e86b;try{return await this[_0x4a31e1(0x2a8)](_0x671944)[_0x4a31e1(0x5b7)][_0x4a31e1(0x6d7)](),{'success':!0x0};}catch(_0x16822e){return console[_0x4a31e1(0x690)](_0x16822e),{'success':!0x1,'error':_0x16822e};}}},as=class extends I{['getScheduleMessageModelForOwner'](_0x27e278){return ga(_0x27e278);}async[a0_0x42e86b(0x7d3)](_0xa2902e,_0x4bdf29){const _0x5078b3=a0_0x42e86b;try{let _0x117816=this[_0x5078b3(0x257)](_0x4bdf29);return await new _0x117816(_0xa2902e)[_0x5078b3(0x75a)]();}catch(_0x339ef5){return console[_0x5078b3(0x690)](_0x5078b3(0x620),_0x339ef5),null;}}async[a0_0x42e86b(0x5d9)](_0xc66a88,_0x2fedbb){const _0xdee6b0=a0_0x42e86b;try{return await this[_0xdee6b0(0x257)](_0x2fedbb)['findByIdAndDelete'](_0xc66a88),{};}catch(_0x4c646f){return{'error':_0x4c646f?.[_0xdee6b0(0x53e)]()};}}async[a0_0x42e86b(0x5a3)](_0x31ef80,_0x20335f,_0x26ee93){const _0x12b10d=a0_0x42e86b;try{return await this[_0x12b10d(0x257)](_0x26ee93)[_0x12b10d(0x594)](_0x31ef80,{'$set':_0x20335f},{'new':!0x0})['lean']();}catch(_0x3e0835){return console[_0x12b10d(0x690)](_0x12b10d(0x8bd),_0x3e0835),null;}}async[a0_0x42e86b(0x87e)](_0x2895bd,_0x593c22,_0x59a818){const _0x2b3363=a0_0x42e86b;try{return await this[_0x2b3363(0x257)](_0x59a818)['findByIdAndUpdate'](_0x2895bd,_0x593c22,{'new':!0x0})[_0x2b3363(0x41a)]();}catch(_0x40c416){return console[_0x2b3363(0x690)](_0x2b3363(0x8bd),_0x40c416),null;}}async[a0_0x42e86b(0x2a1)](_0xafc957,_0x488f7b){const _0x2ac0be=a0_0x42e86b;try{return await this['getScheduleMessageModelForOwner'](_0x488f7b)['find'](_0xafc957[_0x2ac0be(0x577)])[_0x2ac0be(0x7e9)](_0xafc957?.[_0x2ac0be(0x7e9)]??0x0)['sort']({'when':0x1})[_0x2ac0be(0x41a)]();}catch{return[];}}async[a0_0x42e86b(0x551)](_0xc7ee69,_0x2c6997){const _0xa80697=a0_0x42e86b;try{return await this[_0xa80697(0x257)](_0x2c6997)[_0xa80697(0x551)](_0xc7ee69[_0xa80697(0x577)])[_0xa80697(0x397)]({'when':0x1})[_0xa80697(0x41a)]();}catch{return null;}}async[a0_0x42e86b(0x3c1)](_0xb98532,_0x185e53){const _0x258db3=a0_0x42e86b;try{return await this[_0x258db3(0x257)](_0x185e53)[_0x258db3(0x3c1)](_0xb98532)[_0x258db3(0x41a)]();}catch{return null;}}async[a0_0x42e86b(0x2a0)](_0x1c3505,_0x3b0dc2){const _0x1a7b3e=a0_0x42e86b;try{return{'deletedCount':(await this[_0x1a7b3e(0x257)](_0x3b0dc2)[_0x1a7b3e(0x2a0)](_0x1c3505))[_0x1a7b3e(0x290)]};}catch(_0x33da19){return console[_0x1a7b3e(0x690)](_0x1a7b3e(0x8bb),_0x33da19),{'error':_0x33da19};}}async[a0_0x42e86b(0x3ac)](_0x239133){const _0x68c404=a0_0x42e86b;try{return await this[_0x68c404(0x257)](_0x239133)['collection'][_0x68c404(0x6d7)](),{'success':!0x0};}catch(_0x3f0d21){return console[_0x68c404(0x690)](_0x3f0d21),{'success':!0x1,'error':_0x3f0d21};}}},os=class extends I{async[a0_0x42e86b(0x211)](_0x493e03,_0x105316){const _0x368bda=a0_0x42e86b;try{if(this[_0x368bda(0x383)][_0x368bda(0x625)]){let _0x429d41=await Ne[_0x368bda(0x594)]({'_id':_0x105316},{'$set':_0x493e03},{'new':!0x0});return console['log'](_0x368bda(0x4cc),_0x429d41),_0x429d41;}}catch(_0x483c0c){throw console[_0x368bda(0x690)](_0x368bda(0x6c1),_0x483c0c),_0x483c0c;}}async[a0_0x42e86b(0x58c)](_0x3492a0){const _0x485dfb=a0_0x42e86b;try{let _0x578f0b=await Ne[_0x485dfb(0x3c1)](_0x3492a0);return _0x578f0b?_0x578f0b[_0x485dfb(0x8ff)]||(_0x578f0b[_0x485dfb(0x8ff)]=[],await _0x578f0b[_0x485dfb(0x75a)]()):(_0x578f0b=new Ne({'_id':_0x3492a0,'autoCompleteMessages':[]}),await _0x578f0b[_0x485dfb(0x75a)]()),_0x578f0b;}catch(_0x2ef4cd){return _0x2ef4cd['code']===0x2af8&&_0x2ef4cd[_0x485dfb(0x23b)]&&_0x2ef4cd[_0x485dfb(0x23b)]['autoCompleteMessages.command']?(console['error']('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Ne[_0x485dfb(0x5b7)][_0x485dfb(0x6fe)]('autoCompleteMessages.command_1'),null):(console[_0x485dfb(0x690)](_0x485dfb(0x43c),_0x2ef4cd),null);}}},Oi=new R(a0_0x42e86b(0x476)),Ii=new Be(M),_i=new Jt(M),Pi=new at(M),ki=new qt(sa,M),ji=new Zt(la,M),Fi=new es(na,M),Li=new ts(M),Ui=new Ht(M),Ji=new ss(M),qi=new as(M),Hi=new os(M),pe=new Ve(Ii,_i,Pi,ki,ji,Fi,Li,Ji,Ui,qi,Hi,D?.[a0_0x42e86b(0x6a6)]()),G=new Ut(us,M,pe),Vi=new zt(M,G,pe),Gi=new Qt(G),vs=new Xt(Gi),T=new Yt(G),re=new Bt(G,M,pe,us,Vi),B=new Wt(G),P=new Vt(G),H=new Kt(G);Oi[a0_0x42e86b(0x2d4)](a0_0x42e86b(0x4d0));var Vm=require(a0_0x42e86b(0x79b)),Fs=require('fs'),Ao=A(require(a0_0x42e86b(0x497))),To=A(require('http')),Pe=class c{static #e;static set[a0_0x42e86b(0x382)](_0x70dbd7){this.#e=_0x70dbd7;}static get['https'](){const _0x352452=a0_0x42e86b;let {FULLCHAIN:_0x267c4f,PRIVKEY:_0x4147c4}=M['get'](_0x352452(0x64f));return Ao[_0x352452(0x340)]({'cert':(0x0,Fs[_0x352452(0x4b7)])(_0x267c4f),'key':(0x0,Fs[_0x352452(0x4b7)])(_0x4147c4)},c.#e);}static get[a0_0x42e86b(0x29c)](){const _0x20434f=a0_0x42e86b;return To[_0x20434f(0x340)](c.#e);}},ge=A(require('fs')),ko=A(require(a0_0x42e86b(0x817))),ke=A(require('axios')),Fe=A(require(a0_0x42e86b(0x800))),fe=require('child_process');function Bi(){const _0x3256fc=a0_0x42e86b;G['loadInstance']();let _0x1b2206=Fe[_0x3256fc(0x5d8)][_0x3256fc(0x468)](__dirname,'downloads');Po(_0x1b2206);}var Po=_0x5b96f8=>{const _0x1126c6=a0_0x42e86b;let _0x512222=ge[_0x1126c6(0x5d8)][_0x1126c6(0x574)](_0x5b96f8),_0x371ff4=0xc*0x3c*0x3c*0x3e8,_0x20bc76=0x2*0x3c*0x3c*0x3e8,_0x324cb6=new Date()[_0x1126c6(0x5b9)]();_0x512222[_0x1126c6(0x4ac)](_0x30c0b8=>{const _0xd654e1=_0x1126c6;let _0x3819c5=Fe['default'][_0xd654e1(0x468)](_0x5b96f8,_0x30c0b8),_0x314b2c=ge[_0xd654e1(0x5d8)][_0xd654e1(0x3e8)](_0x3819c5)['birthtime'][_0xd654e1(0x5b9)]();_0x324cb6-_0x314b2c>_0x371ff4&&(ge[_0xd654e1(0x5d8)][_0xd654e1(0x426)](_0x3819c5),console[_0xd654e1(0x247)]('Deleted\x20'+_0x30c0b8));}),setTimeout(()=>Po(_0x5b96f8),_0x20bc76);};function Wi(){const _0x410dc6=a0_0x42e86b;let _0x16a81b=new R(_0x410dc6(0x4b3)),_0x5c147f=(0x0,we[_0x410dc6(0x5d8)])();_0x5c147f[_0x410dc6(0x81e)]((0x0,_o[_0x410dc6(0x5d8)])({'origin'(_0x1f1a4c,_0xcbe93b){const _0x2bbb45=_0x410dc6;let {ORIGIN:_0x12daa5}=M[_0x2bbb45(0x6e5)]('CORS');return _0x1f1a4c||(_0x1f1a4c='*'),_0x12daa5['indexOf']('*')!==-0x1||_0x12daa5[_0x2bbb45(0x5f0)](_0x1f1a4c)!==-0x1?_0xcbe93b(null,!0x0):_0xcbe93b(new Error(_0x2bbb45(0x560)));},'methods':[...M[_0x410dc6(0x6e5)](_0x410dc6(0x7e4))['METHODS']],'credentials':M[_0x410dc6(0x6e5)]('CORS')[_0x410dc6(0x6e0)]}),(0x0,we[_0x410dc6(0x3e5)])({'extended':!0x0,'limit':'50mb'}),(0x0,we['json'])({'limit':_0x410dc6(0x884)})),_0x5c147f[_0x410dc6(0x81e)]((_0x179dcf,_0x9b97e2,_0x47f6fc)=>{const _0x3228ac=_0x410dc6;_0x179dcf[_0x3228ac(0x800)][_0x3228ac(0x4d4)](_0x3228ac(0x3fa))?_0x47f6fc():(0x0,Io[_0x3228ac(0x5d8)])()(_0x179dcf,_0x9b97e2,_0x47f6fc);}),_0x5c147f['set'](_0x410dc6(0x624),_0x410dc6(0x759)),_0x5c147f[_0x410dc6(0x55f)](_0x410dc6(0x748),(0x0,Us[_0x410dc6(0x468)])(ie,_0x410dc6(0x748))),_0x5c147f[_0x410dc6(0x81e)](we[_0x410dc6(0x5d8)]['static']((0x0,Us['join'])(ie,_0x410dc6(0x54a)))),_0x5c147f[_0x410dc6(0x81e)]((_0x268a10,_0xfc3569,_0x2397ce)=>{const _0x57bb1b=_0x410dc6;let _0x17a638=_0xfc3569[_0x57bb1b(0x87b)];_0xfc3569['send']=function(_0x168a8d){const _0x3691f7=_0x57bb1b;if(_0x268a10[_0x3691f7(0x2c6)][_0x3691f7(0x587)]==='true'||_0x268a10[_0x3691f7(0x46d)][_0x3691f7(0x8a4)]==='true'){let _0x25186e=JSON[_0x3691f7(0x29d)](_0x168a8d);_0x168a8d=JSON[_0x3691f7(0x5b1)](_0xac9f75(_0x25186e));}return _0x17a638[_0x3691f7(0x461)](_0xfc3569,[_0x168a8d]);},_0x2397ce();}),_0x5c147f[_0x410dc6(0x81e)]('/',Oe),_0x5c147f[_0x410dc6(0x81e)]((_0x7b88bd,_0x3b14be,_0x1809fd,_0x4f1c14)=>{const _0x2ddecd=_0x410dc6;if(_0x7b88bd)return _0x1809fd[_0x2ddecd(0x454)](_0x7b88bd['status']||0x1f4)[_0x2ddecd(0x20e)](_0x7b88bd);},(_0x39ba7d,_0x344c48,_0xa0e88a)=>{const _0x5d9b45=_0x410dc6;let {method:_0x1d4dac,url:_0x5a0d0e}=_0x39ba7d;_0x344c48[_0x5d9b45(0x454)](0x194)['json']({'status':0x194,'message':'Cannot\x20'+_0x1d4dac[_0x5d9b45(0x70d)]()+'\x20'+_0x5a0d0e,'error':_0x5d9b45(0x5d4)}),_0xa0e88a();});let _0xac9f75=(_0x49703e,_0x23b3e5='_p_')=>{const _0x13392a=_0x410dc6;let _0x187981=(_0x1a45af,_0x33e013=null,_0x35a13d=!0x1)=>{const _0x333963=a0_0x3fb2;let _0x293490={};return Object[_0x333963(0x3b9)](_0x1a45af)['forEach'](_0xcc1027=>{const _0x25025a=_0x333963;let _0x515b60=_0x1a45af[_0xcc1027],_0xd4b98e=''+_0x23b3e5+_0xcc1027;_0x33e013&&!_0x35a13d&&(_0xd4b98e=_0x33e013+'.'+_0xcc1027),!_0x515b60&&_0x515b60!==0x0&&_0x515b60!==!0x1||typeof _0x515b60>'u'?_0x293490[_0xd4b98e]=null:typeof _0x515b60!=_0x25025a(0x387)&&!Array[_0x25025a(0x8f8)](_0x515b60)?_0x293490[_0xd4b98e]=_0x515b60:typeof _0x515b60==_0x25025a(0x387)&&!Array['isArray'](_0x515b60)?_0x293490=Object[_0x25025a(0x580)](_0x293490,_0x187981(_0x515b60,_0xd4b98e)):Array[_0x25025a(0x8f8)](_0x515b60)&&(typeof _0x515b60[0x0]=='object'?(_0x293490[_0xd4b98e]=[],_0x515b60[_0x25025a(0x4ac)](_0x59c4aa=>{const _0x148a5f=_0x25025a;_0x293490[_0xd4b98e][_0x148a5f(0x234)](_0x187981(_0x59c4aa,_0xd4b98e,!0x0));})):_0x293490[_0xd4b98e]=_0x515b60);}),_0x293490;};return Array[_0x13392a(0x8f8)](_0x49703e)?_0x49703e[_0x13392a(0x57c)](_0xb8bd8c=>_0x187981(_0xb8bd8c)):typeof _0x49703e==_0x13392a(0x387)&&_0x49703e!==null?_0x187981(_0x49703e):{};},_0x390c4c=M['get'](_0x410dc6(0x4b3));Pe[_0x410dc6(0x382)]=_0x5c147f;let _0x115cc8=Pe[_0x390c4c[_0x410dc6(0x374)]],_0x2b0ffe=_0x410dc6(0x534);_0x115cc8['listen'](_0x390c4c[_0x410dc6(0x546)],()=>{const _0x271335=_0x410dc6;_0x16a81b[_0x271335(0x247)](_0x2b0ffe),_0x16a81b['log'](_0x390c4c[_0x271335(0x374)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x390c4c[_0x271335(0x546)]);}),Bi(),Qs();}var zi=a0_0x42e86b(0x6a9),Ki=Fe[a0_0x42e86b(0x5d8)][a0_0x42e86b(0x468)](__dirname,a0_0x42e86b(0x7c0)),je=null;function Qi(){return new Promise((_0x3dd196,_0xe357b8)=>{const _0x5a9818=a0_0x3fb2;ge['default']['readFile'](Ki,_0x5a9818(0x6c5),(_0x1f841e,_0x1380fa)=>{const _0x3b219d=_0x5a9818;if(_0x1f841e){je=_0x1f841e,_0x3dd196();return;}ko['default'][_0x3b219d(0x29d)](_0x1380fa)[_0x3b219d(0x4b8)][_0x3b219d(0x42b)]===zi?(je=null,_0x3dd196()):(je=new Error(_0x3b219d(0x447)),_0x3dd196());});});}async function Yi(){const _0x232319=a0_0x42e86b;try{await Qi(),await Js();}catch(_0x3c4285){console[_0x232319(0x690)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x3c4285),process[_0x232319(0x2f3)](0x1);}}Yi();async function jo(){const _0x1cee53=a0_0x42e86b;let _0xef6c35;try{_0xef6c35=(await ke[_0x1cee53(0x5d8)][_0x1cee53(0x6e5)](_0x1cee53(0x483)))[_0x1cee53(0x47f)]['ip'];}catch(_0x50f83f){console['error'](_0x50f83f);try{_0xef6c35=(await ke[_0x1cee53(0x5d8)][_0x1cee53(0x6e5)](_0x1cee53(0x887)))[_0x1cee53(0x47f)]['ip'];}catch(_0x358e06){console[_0x1cee53(0x690)](_0x358e06);try{_0xef6c35=(await ke[_0x1cee53(0x5d8)][_0x1cee53(0x6e5)](_0x1cee53(0x666)))[_0x1cee53(0x47f)][_0x1cee53(0x685)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xe59289){return console[_0x1cee53(0x690)](_0xe59289),!0x1;}}}return _0xef6c35;}var xo=0x0;async function Xi(){const _0x210859=a0_0x42e86b;let _0x1616ff=await new ce(M[_0x210859(0x6e5)](_0x210859(0x2f0)))['instanceKeys']();return console[_0x210859(0x247)](_0x210859(0x47b),_0x1616ff[_0x210859(0x40e)]),_0x1616ff[_0x210859(0x40e)];}function Zi(_0x25d29a){const _0x27f4b4=a0_0x42e86b;let _0x2f7e45=_0x25d29a[_0x27f4b4(0x6e5)]('SERVER')[_0x27f4b4(0x805)],_0x30193f=_0x25d29a[_0x27f4b4(0x6e5)]('SSL_CONF'),_0x4f6dc5;if(_0x2f7e45){let _0x2bf8e3=_0x2f7e45[_0x27f4b4(0x685)](/\/\/(.*?)\./);_0x2bf8e3&&_0x2bf8e3[0x1]&&(_0x4f6dc5=_0x2bf8e3[0x1]);}if(!_0x4f6dc5&&_0x30193f&&_0x30193f[_0x27f4b4(0x268)]){let _0x5c62f9=_0x30193f['FULLCHAIN'][_0x27f4b4(0x8a3)]('/'),_0x1cc3a1=_0x5c62f9[_0x5c62f9[_0x27f4b4(0x40e)]-0x2];if(_0x1cc3a1){let _0x4387b1=_0x1cc3a1[_0x27f4b4(0x8a3)]('.');_0x4387b1[_0x27f4b4(0x40e)]>0x2&&(_0x4f6dc5=_0x4387b1[0x0]);}}return _0x4f6dc5;}var ks=Zi(M);async function en(){const _0x3e76d3=a0_0x42e86b;let _0x3e6462=M[_0x3e76d3(0x6e5)]('REDIS'),_0x6db311=M['get'](_0x3e76d3(0x327))[_0x3e76d3(0x837)][_0x3e76d3(0x405)],_0x48e1b9=M[_0x3e76d3(0x6e5)](_0x3e76d3(0x64f)),_0x478c34=await jo(),_0xd7942d=M[_0x3e76d3(0x6e5)](_0x3e76d3(0x4b3))[_0x3e76d3(0x546)],_0x4a06ac=M[_0x3e76d3(0x6e5)](_0x3e76d3(0x4b3))[_0x3e76d3(0x805)];try{let _0x505595={'ip':_0x478c34||null,'redis_enable':_0x3e6462?.[_0x3e76d3(0x625)]||null,'apikey':_0x6db311||null,'ssl':_0x48e1b9?.[_0x3e76d3(0x6ad)]||null,'lastupdate':Fo||null,'port':_0xd7942d||null,'gitInstallError':je?.[_0x3e76d3(0x64b)]||null,'url':_0x4a06ac||null};if(console[_0x3e76d3(0x247)](_0x3e76d3(0x691),_0x505595['ip']),_0x3e6462&&_0x3e6462[_0x3e76d3(0x625)]){let _0x5200c0=await Xi();_0x505595['instanceCount']=_0x5200c0||null;}for(let _0x86c16c in _0x505595)_0x505595['hasOwnProperty'](_0x86c16c)&&_0x86c16c!=='ip'&&(_0x505595[_0x86c16c]=JSON[_0x3e76d3(0x5b1)](_0x505595[_0x86c16c]));return(await ke[_0x3e76d3(0x5d8)][_0x3e76d3(0x55d)](_0x3e76d3(0x572),_0x505595))['data'];}catch(_0x9d3eb7){return console[_0x3e76d3(0x690)](_0x9d3eb7),!0x1;}}var Ls=!0x1,Fo=0x248,tn=0x3,Oo=0x1b7740;async function Js(){const _0x3e005e=a0_0x42e86b;if(!await jo())return console[_0x3e005e(0x690)](_0x3e005e(0x40a)),_0x3e005e(0x7e6);let _0x66c0b5=await en();if(_0x66c0b5){if(_0x66c0b5[_0x3e005e(0x674)][_0x3e005e(0x8f5)]===!0x0){let _0x3422a3=M['get'](_0x3e005e(0x64f)),_0x14a633=M[_0x3e005e(0x6e5)](_0x3e005e(0x4b3))['URL'];_0x3422a3&&_0x3422a3?.['PRIVKEY']?.[_0x3e005e(0x8d2)](_0x3e005e(0x86a))&&_0x66c0b5['response']['subdomain']&&!_0x14a633&&(await on(_0x66c0b5[_0x3e005e(0x674)][_0x3e005e(0x7f9)],an),await nn(_0x3e005e(0x49c),_0x66c0b5[_0x3e005e(0x674)][_0x3e005e(0x7f9)]),console[_0x3e005e(0x247)](_0x3e005e(0x7db)),setTimeout(()=>cn(),0x2710)),je===null&&_0x66c0b5['response']['last_update']-Fo>0x0&&await sn(),Ls||(Ls=!0x0,Wi());let _0x29682c=0x24*0x3c*0x3c,_0x4bf7a0=_0x66c0b5[_0x3e005e(0x674)][_0x3e005e(0x439)]>_0x29682c?_0x29682c:_0x66c0b5[_0x3e005e(0x674)][_0x3e005e(0x439)],_0x11b4f9=Number(_0x4bf7a0);if(isNaN(_0x11b4f9)){console[_0x3e005e(0x690)](_0x3e005e(0x37a));return;}let _0x49d1fc=Math[_0x3e005e(0x30f)](_0x11b4f9/0xe10),_0x3f92e9=Math[_0x3e005e(0x30f)](_0x11b4f9%0xe10/0x3c),_0x257d3d=new Date(Date[_0x3e005e(0x51c)]()+_0x11b4f9*0x3e8);setTimeout(Js,_0x11b4f9*0x3e8);let _0x12e5cd=_0x1b88d8=>_0x1b88d8[_0x3e005e(0x53e)]()[_0x3e005e(0x8a2)](0x2,'0'),_0x30278b=_0x3e005e(0x824)+_0x12e5cd(_0x49d1fc)+'\x20horas\x20e\x20'+_0x12e5cd(_0x3f92e9)+'\x20minutos.\x20Será\x20às\x20'+_0x12e5cd(_0x257d3d['getHours']())+':'+_0x12e5cd(_0x257d3d['getMinutes']())+'.';console[_0x3e005e(0x247)](_0x30278b);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ls&&(console['log'](_0x3e005e(0x8c9)),process['exit']()),'LICENSE_INVALID';}else{if(xo++,xo<tn)console[_0x3e005e(0x247)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Oo/0xea60+_0x3e005e(0x5ef)),setTimeout(Js,Oo);else return console['error'](_0x3e005e(0x271)),_0x3e005e(0x7b5);}}async function sn(){const _0x5c7742=a0_0x42e86b;console[_0x5c7742(0x247)](_0x5c7742(0x248)),console['log'](_0x5c7742(0x2b2)),(0x0,fe['spawn'])('pm2\x20flush',{'shell':!0x0})['on'](_0x5c7742(0x5d1),_0x5f0006=>{const _0x145553=_0x5c7742;_0x5f0006!==0x0?console[_0x145553(0x690)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0x145553(0x247)](_0x145553(0x262)),console[_0x145553(0x247)](_0x145553(0x26a)),(0x0,fe[_0x145553(0x50d)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on']('close',_0x357d65=>{const _0x83583a=_0x145553;if(_0x357d65!==0x0)console[_0x83583a(0x690)](_0x83583a(0x5c9));else{console[_0x83583a(0x247)](_0x83583a(0x35d));let _0x50cf9f=(0x0,fe['spawn'])(_0x83583a(0x377),{'shell':!0x0});_0x50cf9f[_0x83583a(0x7b9)]['on'](_0x83583a(0x47f),_0x5d6fcc=>{const _0x2670dd=_0x83583a;console['log'](_0x2670dd(0x81f)+_0x5d6fcc);}),_0x50cf9f[_0x83583a(0x537)]['on']('data',_0x585b2a=>{const _0x331f75=_0x83583a;console[_0x331f75(0x690)](_0x331f75(0x684)+_0x585b2a);}),_0x50cf9f['on'](_0x83583a(0x2f3),_0x3f1f9b=>{const _0x3fc05e=_0x83583a;_0x3f1f9b!==0x0?console[_0x3fc05e(0x690)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x3f1f9b):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x3fc05e(0x247)]('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}}));});}var an=Fe['default']['join'](__dirname,'env.yml');async function on(_0x171aa6,_0x18f1b3){const _0x191890=a0_0x42e86b;let _0x22d554=rn();_0x171aa6=_0x171aa6[_0x191890(0x600)]('.uazapi.dev','');try{let _0xf88083=ge[_0x191890(0x5d8)][_0x191890(0x4b7)](_0x18f1b3,'utf8');_0xf88083=_0xf88083['replace'](/<apikey>/,_0x22d554),_0xf88083=_0xf88083['replace'](/<subdomain>/g,_0x171aa6),ge[_0x191890(0x5d8)][_0x191890(0x515)](_0x18f1b3,_0xf88083,_0x191890(0x71d)),console[_0x191890(0x247)](_0x191890(0x216));}catch(_0x7f76b7){console[_0x191890(0x690)](_0x191890(0x72d),_0x7f76b7);}}function nn(_0x2f963b,_0x1b8032){return new Promise((_0x19a4ec,_0x495991)=>{const _0x421ddc=a0_0x3fb2;let _0x16502c=(0x0,fe[_0x421ddc(0x50d)])(_0x421ddc(0x5c1),[_0x421ddc(0x71a),_0x421ddc(0x893),'-m',_0x2f963b,_0x421ddc(0x669),'-d',_0x1b8032]);_0x16502c[_0x421ddc(0x7b9)]['on'](_0x421ddc(0x47f),_0x59c95e=>{const _0x56e3ec=_0x421ddc;console[_0x56e3ec(0x247)](_0x56e3ec(0x523)+_0x59c95e[_0x56e3ec(0x53e)]());}),_0x16502c[_0x421ddc(0x537)]['on'](_0x421ddc(0x47f),_0x2298d5=>{const _0x3d119e=_0x421ddc;console[_0x3d119e(0x690)](_0x3d119e(0x8ca)+_0x2298d5['toString']());}),_0x16502c['on'](_0x421ddc(0x5d1),_0x25d05b=>{const _0x2ac41e=_0x421ddc;_0x25d05b!==0x0?(console[_0x2ac41e(0x690)](_0x2ac41e(0x451)+_0x25d05b),_0x495991('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x25d05b)):(console[_0x2ac41e(0x247)]('Certbot\x20executado\x20com\x20sucesso.'),_0x19a4ec());});});}function rn(_0x10ad49=0x32){const _0xdf96e7=a0_0x42e86b;let _0x42b73f=_0xdf96e7(0x6c0),_0x39c640='';for(let _0x350e8e=0x0;_0x350e8e<_0x10ad49;_0x350e8e++)_0x39c640+=_0x42b73f['charAt'](Math[_0xdf96e7(0x30f)](Math['random']()*_0x42b73f[_0xdf96e7(0x40e)]));return _0x39c640;}function cn(){const _0x5f3561=a0_0x42e86b;(0x0,fe[_0x5f3561(0x4f6)])(_0x5f3561(0x2a3),(_0x246973,_0xd228e,_0x4415c9)=>{const _0xe8fd12=_0x5f3561;if(_0x246973){console['error'](_0xe8fd12(0x53a)+_0x246973);return;}if(_0x4415c9){console['error'](_0xe8fd12(0x5d6)+_0x4415c9);return;}console[_0xe8fd12(0x247)](_0xe8fd12(0x8a0)+_0xd228e);});}0x0&&(module['exports']={'subdomain':subdomain});