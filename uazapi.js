const a0_0x1b7b78=a0_0x4b9f;(function(_0x366c6f,_0x33280d){const _0x5ac094=a0_0x4b9f,_0x3de1b1=_0x366c6f();while(!![]){try{const _0x55ee13=-parseInt(_0x5ac094(0x4cf))/0x1+parseInt(_0x5ac094(0x5df))/0x2*(parseInt(_0x5ac094(0x636))/0x3)+-parseInt(_0x5ac094(0x68e))/0x4+parseInt(_0x5ac094(0x893))/0x5*(-parseInt(_0x5ac094(0x50e))/0x6)+parseInt(_0x5ac094(0x85b))/0x7+-parseInt(_0x5ac094(0x7fc))/0x8+-parseInt(_0x5ac094(0x4f7))/0x9*(-parseInt(_0x5ac094(0x2a1))/0xa);if(_0x55ee13===_0x33280d)break;else _0x3de1b1['push'](_0x3de1b1['shift']());}catch(_0x4b4368){_0x3de1b1['push'](_0x3de1b1['shift']());}}}(a0_0x4ce5,0xbd1e1));var Bi=Object[a0_0x1b7b78(0x262)],qe=Object['defineProperty'],Wi=Object[a0_0x1b7b78(0x7ba)],zi=Object['getOwnPropertyNames'],Hi=Object['getPrototypeOf'],Ki=Object[a0_0x1b7b78(0x4de)][a0_0x1b7b78(0x5a4)],Qi=(_0x12ea4a,_0x1e5300)=>{for(var _0x40f90f in _0x1e5300)qe(_0x12ea4a,_0x40f90f,{'get':_0x1e5300[_0x40f90f],'enumerable':!0x0});},Bs=(_0x3db0cb,_0x1e03a7,_0x4e2f69,_0x3c2a26)=>{const _0x19a7cf=a0_0x1b7b78;if(_0x1e03a7&&typeof _0x1e03a7==_0x19a7cf(0x56d)||typeof _0x1e03a7==_0x19a7cf(0x615)){for(let _0x1aab6c of zi(_0x1e03a7))!Ki['call'](_0x3db0cb,_0x1aab6c)&&_0x1aab6c!==_0x4e2f69&&qe(_0x3db0cb,_0x1aab6c,{'get':()=>_0x1e03a7[_0x1aab6c],'enumerable':!(_0x3c2a26=Wi(_0x1e03a7,_0x1aab6c))||_0x3c2a26[_0x19a7cf(0x54c)]});}return _0x3db0cb;},I=(_0x58c848,_0x50c2d9,_0x41451c)=>(_0x41451c=_0x58c848!=null?Bi(Hi(_0x58c848)):{},Bs(_0x50c2d9||!_0x58c848||!_0x58c848[a0_0x1b7b78(0x717)]?qe(_0x41451c,'default',{'value':_0x58c848,'enumerable':!0x0}):_0x41451c,_0x58c848)),Yi=_0x3f5870=>Bs(qe({},a0_0x1b7b78(0x717),{'value':!0x0}),_0x3f5870),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module['exports']=Yi(hr);var Ui=I(require('compression')),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0x1b7b78(0x4a3)),Ve=require(a0_0x1b7b78(0x4a3)),le=process[a0_0x1b7b78(0x4a1)](),Se=(0x0,Ve[a0_0x1b7b78(0x44f)])(le,a0_0x1b7b78(0x3b9)),Ws=(0x0,Ve[a0_0x1b7b78(0x44f)])(le,'src'),mn=(0x0,Ve['join'])(le,a0_0x1b7b78(0x641),a0_0x1b7b78(0x2e8)),us=class{constructor(){const _0x4ae1fe=a0_0x1b7b78;this[_0x4ae1fe(0x3cd)]();}[a0_0x1b7b78(0x234)](_0x4d103b){const _0x16d9e4=a0_0x1b7b78;return this[_0x16d9e4(0x823)][_0x4d103b];}[a0_0x1b7b78(0x3cd)](){const _0x13901b=a0_0x1b7b78;this[_0x13901b(0x823)]=process[_0x13901b(0x823)]?.['DOCKER_ENV']!==_0x13901b(0x325)?this[_0x13901b(0x205)]():this[_0x13901b(0x8af)](),process[_0x13901b(0x823)]?.[_0x13901b(0x526)]===_0x13901b(0x325)&&(this[_0x13901b(0x823)][_0x13901b(0x5d0)]['TYPE']=_0x13901b(0x769),this[_0x13901b(0x823)]['SERVER'][_0x13901b(0x538)]=Number[_0x13901b(0x4ed)](process[_0x13901b(0x823)]?.[_0x13901b(0x5e7)]??'8080'));}[a0_0x1b7b78(0x205)](){const _0x2cdbbe=a0_0x1b7b78;return(0x0,Hs[_0x2cdbbe(0x648)])((0x0,zs['readFileSync'])((0x0,Ks[_0x2cdbbe(0x44f)])(Ws,'../env.yml'),{'encoding':_0x2cdbbe(0x48a)}));}[a0_0x1b7b78(0x8af)](){const _0x5bf080=a0_0x1b7b78;return{'SERVER':{'TYPE':process[_0x5bf080(0x823)]['SERVER_TYPE'],'PORT':Number['parseInt'](process['env']['SERVER_PORT']),'URL':process[_0x5bf080(0x823)]['SERVER_URL']},'CORS':{'ORIGIN':process['env'][_0x5bf080(0x520)][_0x5bf080(0x8f1)](','),'METHODS':process[_0x5bf080(0x823)]['CORS_METHODS'][_0x5bf080(0x8f1)](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']===_0x5bf080(0x325)},'SSL_CONF':{'PRIVKEY':process[_0x5bf080(0x823)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x5bf080(0x823)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x5bf080(0x501)](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x5bf080(0x4ed)](process['env'][_0x5bf080(0x89d)]):void 0x0,'MESSAGES':process['env']?.[_0x5bf080(0x61a)]===_0x5bf080(0x325),'CONTACTS':process['env']?.[_0x5bf080(0x24b)]===_0x5bf080(0x325),'CHATS':process[_0x5bf080(0x823)]?.[_0x5bf080(0x5b2)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x5bf080(0x823)]?.[_0x5bf080(0x1cf)],'PORT':Number[_0x5bf080(0x4ed)](process[_0x5bf080(0x823)]?.[_0x5bf080(0x1cf)]),'USER':process[_0x5bf080(0x823)][_0x5bf080(0x3a0)],'PASSWORD':process[_0x5bf080(0x823)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x5bf080(0x823)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x5bf080(0x325)},'REDIS':{'ENABLED':process[_0x5bf080(0x823)]?.[_0x5bf080(0x60f)]===_0x5bf080(0x325),'URI':process[_0x5bf080(0x823)][_0x5bf080(0x2a6)]||_0x5bf080(0x744),'PREFIX_KEY':process[_0x5bf080(0x823)][_0x5bf080(0x244)]||_0x5bf080(0x793)},'LOG':{'LEVEL':process[_0x5bf080(0x823)]?.[_0x5bf080(0x33f)][_0x5bf080(0x8f1)](','),'COLOR':process[_0x5bf080(0x823)]?.[_0x5bf080(0x5d1)]==='true'},'PROXY':process[_0x5bf080(0x823)]?.[_0x5bf080(0x88c)]===_0x5bf080(0x325),'AUTHENTICATION':{'TYPE':process[_0x5bf080(0x823)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x5bf080(0x823)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x5bf080(0x501)](process['env']?.[_0x5bf080(0x321)])?Number[_0x5bf080(0x4ed)](process['env'][_0x5bf080(0x321)]):0xe10,'SECRET':process[_0x5bf080(0x823)][_0x5bf080(0x280)]}}};}},S=new us(),ji=I(require('cors')),ye=I(require(a0_0x1b7b78(0x76a))),qs=require(a0_0x1b7b78(0x4a3)),ds=I(require(a0_0x1b7b78(0x6aa))),ps=(_0x5785d1=>(_0x5785d1[a0_0x1b7b78(0x8e9)]=a0_0x1b7b78(0x733),_0x5785d1['INFO']=a0_0x1b7b78(0x269),_0x5785d1['WARN']=a0_0x1b7b78(0x2e6),_0x5785d1[a0_0x1b7b78(0x360)]=a0_0x1b7b78(0x475),_0x5785d1[a0_0x1b7b78(0x757)]=a0_0x1b7b78(0x29b),_0x5785d1[a0_0x1b7b78(0x546)]=a0_0x1b7b78(0x35e),_0x5785d1[a0_0x1b7b78(0x2dc)]='\x1b[30m',_0x5785d1))(ps||{}),Qs=(_0x360752=>(_0x360752[a0_0x1b7b78(0x8e9)]=a0_0x1b7b78(0x45d),_0x360752[a0_0x1b7b78(0x2dc)]=a0_0x1b7b78(0x820),_0x360752['INFO']=a0_0x1b7b78(0x585),_0x360752[a0_0x1b7b78(0x87e)]=a0_0x1b7b78(0x19a),_0x360752['ERROR']=a0_0x1b7b78(0x220),_0x360752[a0_0x1b7b78(0x757)]='\x1b[36m%s\x1b[0m',_0x360752[a0_0x1b7b78(0x546)]=a0_0x1b7b78(0x7e6),_0x360752))(Qs||{}),Ys=(_0x19db3a=>(_0x19db3a[a0_0x1b7b78(0x8e9)]=a0_0x1b7b78(0x8e9),_0x19db3a['WARN']=a0_0x1b7b78(0x87e),_0x19db3a[a0_0x1b7b78(0x3b7)]='INFO',_0x19db3a[a0_0x1b7b78(0x2dc)]=a0_0x1b7b78(0x2dc),_0x19db3a[a0_0x1b7b78(0x360)]=a0_0x1b7b78(0x360),_0x19db3a['DEBUG']=a0_0x1b7b78(0x757),_0x19db3a['VERBOSE']=a0_0x1b7b78(0x546),_0x19db3a))(Ys||{}),Xs=(_0x410210=>(_0x410210['LOG']='\x1b[42m',_0x410210[a0_0x1b7b78(0x3b7)]=a0_0x1b7b78(0x604),_0x410210[a0_0x1b7b78(0x87e)]='\x1b[43m',_0x410210[a0_0x1b7b78(0x2dc)]=a0_0x1b7b78(0x3d8),_0x410210['ERROR']=a0_0x1b7b78(0x633),_0x410210[a0_0x1b7b78(0x757)]=a0_0x1b7b78(0x548),_0x410210['VERBOSE']=a0_0x1b7b78(0x3f6),_0x410210))(Xs||{}),$=class{constructor(_0x1ff4d7=a0_0x1b7b78(0x236)){const _0xbacc37=a0_0x1b7b78;this['context']=_0x1ff4d7,this[_0xbacc37(0x6e6)]=S;}[a0_0x1b7b78(0x748)](_0x53947c){const _0x3783f9=a0_0x1b7b78;this[_0x3783f9(0x1b0)]=_0x53947c;}[a0_0x1b7b78(0x778)](_0x2d47fa,_0x29f9f0){const _0x3da105=a0_0x1b7b78;let _0x33127a=[];this['configService'][_0x3da105(0x234)]('LOG')['LEVEL'][_0x3da105(0x52e)](_0x4ea269=>_0x33127a['push'](Ys[_0x4ea269]));let _0x10699d=typeof _0x2d47fa;_0x33127a[_0x3da105(0x5a5)](_0x29f9f0)&&(S[_0x3da105(0x234)](_0x3da105(0x8e9))[_0x3da105(0x51c)]?(console[_0x3da105(0x315)]('\x1b[1m'+Qs[_0x29f9f0],'\x1b[1m\x1b[37m',(0x0,ds['default'])()[_0x3da105(0x4fd)](_0x3da105(0x439)),_0x3da105(0x697),ps[_0x29f9f0]+Xs[_0x29f9f0]+_0x3da105(0x68c),_0x29f9f0+_0x3da105(0x513),'\x1b[33m\x1b[1m',this[_0x3da105(0x1b0)]+'\x1b[0m',ps[_0x29f9f0],_0x10699d!==_0x3da105(0x56d)?_0x2d47fa:'',_0x3da105(0x697)),_0x10699d===_0x3da105(0x56d)&&console[_0x3da105(0x315)](_0x2d47fa,'\x0a')):console[_0x3da105(0x315)]((0x0,ds['default'])()['format']('HH:mm:ss'),_0x29f9f0+'\x20',''+this[_0x3da105(0x1b0)],_0x2d47fa));}[a0_0x1b7b78(0x315)](_0x1bf112){const _0x31bf50=a0_0x1b7b78;this['console'](_0x1bf112,_0x31bf50(0x8e9));}[a0_0x1b7b78(0x6c3)](_0x1e89f1){const _0x1f9763=a0_0x1b7b78;this[_0x1f9763(0x778)](_0x1e89f1,'INFO');}[a0_0x1b7b78(0x31e)](_0x2d018b){const _0x4aa037=a0_0x1b7b78;this[_0x4aa037(0x778)](_0x2d018b,_0x4aa037(0x87e));}['error'](_0x28dcf9){const _0x56d2a4=a0_0x1b7b78;this[_0x56d2a4(0x778)](_0x28dcf9,_0x56d2a4(0x360));}['verbose'](_0x5775b5){const _0x1e29fd=a0_0x1b7b78;this[_0x1e29fd(0x778)](_0x5775b5,'VERBOSE');}[a0_0x1b7b78(0x8a9)](_0x539901){const _0x222edd=a0_0x1b7b78;this[_0x222edd(0x778)](_0x539901,_0x222edd(0x757));}[a0_0x1b7b78(0x219)](_0x392a8a){const _0x55536c=a0_0x1b7b78;this[_0x55536c(0x778)](_0x392a8a,_0x55536c(0x2dc));}};function Zs(){const _0x5cfcb8=a0_0x1b7b78;process['on'](_0x5cfcb8(0x356),(_0x43c10e,_0x2128d7)=>{const _0xa7ab5d=_0x5cfcb8;new $(_0xa7ab5d(0x356))[_0xa7ab5d(0x84d)]({'origin':_0x2128d7,'stderr':process['stderr']['fd'],'error':_0x43c10e});}),process['on']('unhandledRejection',(_0x4c94c3,_0x299634)=>{const _0x31092f=_0x5cfcb8;new $('unhandledRejection')['error']({'origin':_0x299634,'stderr':process[_0x31092f(0x8e5)]['fd'],'error':_0x4c94c3});});}var ea=I(require('eventemitter2')),hs=new ea[(a0_0x1b7b78(0x7ac))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x1b7b78(0x782)),Ae=I(require(a0_0x1b7b78(0x782))),Ge=new $(a0_0x1b7b78(0x5b3)),L=S[a0_0x1b7b78(0x234)]('DATABASE'),T=L['ENABLED']?L[a0_0x1b7b78(0x4ef)]['URI']?Ae[a0_0x1b7b78(0x7ac)]['createConnection'](L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x4b9)],{'dbName':L['CONNECTION'][a0_0x1b7b78(0x824)]+a0_0x1b7b78(0x865)}):Ae['default'][a0_0x1b7b78(0x62d)](a0_0x1b7b78(0x51d)+L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x1ca)]+':'+L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x538)]+a0_0x1b7b78(0x359),{'user':L['CONNECTION']['USER'],'pass':L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x692)],'dbName':L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x824)]+'-whatsapp-api'}):null;L[a0_0x1b7b78(0x7eb)]&&Ge['info'](a0_0x1b7b78(0x598)+T['$dbName']);var X=L[a0_0x1b7b78(0x7eb)]?L['CONNECTION'][a0_0x1b7b78(0x4b9)]?Ae[a0_0x1b7b78(0x7ac)][a0_0x1b7b78(0x62d)](L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x4b9)],{'dbName':a0_0x1b7b78(0x367)}):Ae[a0_0x1b7b78(0x7ac)][a0_0x1b7b78(0x62d)](a0_0x1b7b78(0x51d)+L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x1ca)]+':'+L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x538)]+a0_0x1b7b78(0x359),{'user':L[a0_0x1b7b78(0x4ef)]['USER'],'pass':L[a0_0x1b7b78(0x4ef)][a0_0x1b7b78(0x692)],'dbName':a0_0x1b7b78(0x4e5)}):null;X&&Ge[a0_0x1b7b78(0x6c3)](a0_0x1b7b78(0x598)+X['$dbName']),process['on']('beforeExit',()=>{const _0x34b20d=a0_0x1b7b78;T&&T[_0x34b20d(0x42f)](()=>{const _0x1a7d07=_0x34b20d;Ge[_0x1a7d07(0x6c3)](_0x1a7d07(0x28f));}),X&&X[_0x34b20d(0x42f)](()=>{const _0x51b62b=_0x34b20d;Ge[_0x51b62b(0x6c3)](_0x51b62b(0x762));});});var Xi=new Me[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x4d2d05=>{const _0x25ed0e=a0_0x1b7b78;let _0x5eb2dc='z_'+_0x4d2d05+_0x25ed0e(0x1ce);return T?.[_0x25ed0e(0x6f7)](_0x25ed0e(0x753),so,_0x5eb2dc);},sa=require(a0_0x1b7b78(0x782)),ao=new sa[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x3eb24d=>{const _0x36be54=a0_0x1b7b78;let _0x1005b4='z_'+_0x3eb24d+_0x36be54(0x708);return T?.['model'](_0x36be54(0x1c0),ao,_0x1005b4);},ia=require(a0_0x1b7b78(0x782)),gs=class{},io=new ia[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.[a0_0x1b7b78(0x6f7)](gs['name'],io,'ContactsAndGroups'),ra=require(a0_0x1b7b78(0x782)),ms=class{},oo=new ra[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x1b7b78(0x6f7)](ms[a0_0x1b7b78(0x4a9)],oo,a0_0x1b7b78(0x3b9)),ws=require(a0_0x1b7b78(0x782)),fs=class{},ro=new ws[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws[(a0_0x1b7b78(0x854))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.[a0_0x1b7b78(0x6f7)](fs[a0_0x1b7b78(0x4a9)],no,a0_0x1b7b78(0x883)),ca=_0x5cf7ce=>{const _0x31fa84=a0_0x1b7b78;let _0x1d3b38='z_'+_0x5cf7ce+_0x31fa84(0x55b);return T?.[_0x31fa84(0x6f7)]('MessageModel',ro,_0x1d3b38);},la=require(a0_0x1b7b78(0x782)),ys=class{},co=new la[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x1b7b78(0x6f7)](ys[a0_0x1b7b78(0x4a9)],co,a0_0x1b7b78(0x4a8)),da=require(a0_0x1b7b78(0x782)),bs=class{},pa=new da[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa['pre'](a0_0x1b7b78(0x25d),function(_0x330163){const _0x16c1ba=a0_0x1b7b78;delete this[_0x16c1ba(0x3bb)],delete this[_0x16c1ba(0x477)],delete this['flowPrefixCommand'],delete this[_0x16c1ba(0x876)],delete this['flowStopMinutes'],_0x330163();});var ha=T?.[a0_0x1b7b78(0x6f7)](bs['name'],pa,a0_0x1b7b78(0x58f)),P=require(a0_0x1b7b78(0x782)),Ss=require(a0_0x1b7b78(0x5c6)),We=class{},Ms=class{},ma=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x1b7b78(0x406)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1b7b78(0x452)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1b7b78(0x32a)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P[(a0_0x1b7b78(0x854))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x1b7b78(0x854))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x1b7b78(0x854))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x1b7b78(0x854))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x489dbd=a0_0x1b7b78;return _0x489dbd(0x7d2)+Math[_0x489dbd(0x70d)]()[_0x489dbd(0x6e2)](0x24)[_0x489dbd(0x1e2)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1b7b78(0x691)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x1b7b78(0x6bb)](a0_0x1b7b78(0x69b),function(_0xf9a80){const _0x234de8=a0_0x1b7b78;let _0x22863a=this[_0x234de8(0x395)]();if(_0x22863a&&typeof _0x22863a=='object'&&_0x234de8(0x674)in _0x22863a){let _0x1376a4=_0x22863a['$set'];if(_0x1376a4){let _0x379d15=new Set(),_0x5adb9c=new Set(_0x1376a4[_0x234de8(0x1f0)]?.[_0x234de8(0x686)](_0x3d801e=>_0x3d801e['name'])),_0x1593fe=JSON[_0x234de8(0x5b9)](_0x1376a4),_0x4fc302=/{{(?!_)([^}]*)}}/g,_0x4665a4;for(;(_0x4665a4=_0x4fc302[_0x234de8(0x643)](_0x1593fe))!==null;)_0x5adb9c[_0x234de8(0x84a)](_0x4665a4[0x1])||_0x379d15[_0x234de8(0x3bf)](_0x4665a4[0x1]);_0x379d15[_0x234de8(0x6ad)]>0x0?(console[_0x234de8(0x31e)](_0x234de8(0x568),Array[_0x234de8(0x818)](_0x379d15)),_0x1376a4[_0x234de8(0x40c)]=Array[_0x234de8(0x818)](_0x379d15)):_0x1376a4[_0x234de8(0x40c)]=[],this[_0x234de8(0x2ad)]({'$set':_0x1376a4});}}_0xf9a80();});var Ce=T?.[a0_0x1b7b78(0x6f7)](Ms[a0_0x1b7b78(0x4a9)],ba,a0_0x1b7b78(0x468)),go=new P[(a0_0x1b7b78(0x854))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1b7b78(0x8ef)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1b7b78(0x32a)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x5504ef=>{const _0x5f4133=a0_0x1b7b78;let _0x337727='z_'+_0x5504ef+_0x5f4133(0x6fc);return T?.['model']('ConversationModel',mo,_0x337727);},fo=new P[(a0_0x1b7b78(0x854))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x2cd6ea=>{const _0x239e1e=a0_0x1b7b78;let _0x555f6b='z_'+_0x2cd6ea+_0x239e1e(0x33e);return T?.[_0x239e1e(0x6f7)](_0x239e1e(0x1e5),wo,_0x555f6b);},Es=class{},yo=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x1b7b78(0x31f)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Te=T?.['model'](Es[a0_0x1b7b78(0x4a9)],Eo,'AutomateSystem'),Ca=require(a0_0x1b7b78(0x782)),vo=new Ca[(a0_0x1b7b78(0x854))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x239914=>{const _0x11e601=a0_0x1b7b78;let _0xd82989='z_'+_0x239914+_0x11e601(0x766);return T?.[_0x11e601(0x6f7)](_0x11e601(0x861),vo,_0xd82989);},_=class{constructor(_0x1f7d77){const _0x1fade4=a0_0x1b7b78;this[_0x1fade4(0x1b1)]=_0x1f7d77[_0x1fade4(0x234)](_0x1fade4(0x301));}};function a0_0x4b9f(_0x50ad85,_0x783fe9){const _0x4ce5b6=a0_0x4ce5();return a0_0x4b9f=function(_0x4b9f99,_0x1801ba){_0x4b9f99=_0x4b9f99-0x173;let _0x1adb1c=_0x4ce5b6[_0x4b9f99];return _0x1adb1c;},a0_0x4b9f(_0x50ad85,_0x783fe9);}function A(_0x45177b){const _0x2bb10f=a0_0x1b7b78;let _0x1b6923={};for(let [_0x4afdd0,_0x37fddb]of Object[_0x2bb10f(0x47f)](_0x45177b))if(typeof _0x37fddb=='object'&&!Array[_0x2bb10f(0x7c2)](_0x37fddb)){for(let [_0x1fa6f8,_0x40c94c]of Object[_0x2bb10f(0x47f)](_0x37fddb))_0x1b6923[_0x4afdd0+'.'+_0x1fa6f8]=_0x40c94c;}else _0x1b6923[_0x4afdd0]=_0x37fddb;return _0x1b6923;}var ze=class{constructor(_0x2fe460,_0x645fe6,_0x1284d1,_0x54f9bf,_0x340411,_0x2d6f15,_0x4470da,_0x2e2bfa,_0x5537c5,_0x39c408,_0x3860af,_0x555798,_0x4e4084,_0x48e21a){const _0x589456=a0_0x1b7b78;this[_0x589456(0x272)]=_0x2fe460,this[_0x589456(0x85e)]=_0x645fe6,this['contact']=_0x1284d1,this[_0x589456(0x6a5)]=_0x54f9bf,this['messageLogs']=_0x340411,this[_0x589456(0x58f)]=_0x2d6f15,this[_0x589456(0x2e8)]=_0x4470da,this['instance']=_0x2e2bfa,this[_0x589456(0x2b4)]=_0x5537c5,this[_0x589456(0x724)]=_0x39c408,this[_0x589456(0x7a2)]=_0x3860af,this[_0x589456(0x7df)]=_0x555798,this[_0x589456(0x4c2)]=_0x4e4084,this[_0x589456(0x3e7)]=_0x48e21a;}get[a0_0x1b7b78(0x4f6)](){const _0x335dc0=a0_0x1b7b78;return this[_0x335dc0(0x3e7)];}},He=class{},Ke=class extends _{['getMessageModelForOwner'](_0x3c8604){return ca(_0x3c8604);}async[a0_0x1b7b78(0x5dc)](_0x55ecb9,_0x9441bd){const _0x4b00c8=a0_0x1b7b78;if(_0x55ecb9[_0x4b00c8(0x245)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x9441bd)[_0x4b00c8(0x4e9)]([..._0x55ecb9]))[_0x4b00c8(0x245)]};}catch(_0x3404a6){return _0x3404a6;}}async[a0_0x1b7b78(0x83c)](_0x191b1e,_0x1efc9a){const _0x48f7c7=a0_0x1b7b78;try{let _0x5c4fbb=this[_0x48f7c7(0x79b)](_0x1efc9a),_0x3d1aa5=A(_0x191b1e[_0x48f7c7(0x4b7)]);return await _0x5c4fbb[_0x48f7c7(0x83c)](_0x3d1aa5)[_0x48f7c7(0x4d4)]({'messageTimestamp':-0x1})[_0x48f7c7(0x4db)](_0x191b1e?.[_0x48f7c7(0x4db)]??0x0)[_0x48f7c7(0x86c)]();}catch{return[];}}async[a0_0x1b7b78(0x30b)](_0x46fdf2,_0x565ea7){const _0x43dbee=a0_0x1b7b78;try{let _0x534e34=this['getMessageModelForOwner'](_0x565ea7),_0x597ac9=A(_0x46fdf2[_0x43dbee(0x4b7)]);await _0x534e34[_0x43dbee(0x2c3)](_0x597ac9);}catch(_0x584296){console[_0x43dbee(0x84d)](_0x584296);}}async[a0_0x1b7b78(0x85d)](_0x33f760,_0x250876,_0x1e9833){const _0x56ef25=a0_0x1b7b78;try{let _0x5454e7=this[_0x56ef25(0x79b)](_0x1e9833),_0x2f99d=A(_0x33f760['where']);return await _0x5454e7[_0x56ef25(0x69b)](_0x2f99d,{'$set':_0x250876},{'new':!0x0});}catch(_0x197566){throw console[_0x56ef25(0x84d)](_0x197566),_0x197566;}}async[a0_0x1b7b78(0x4e9)](_0x54d205,_0x29b848){const _0x1a4b2d=a0_0x1b7b78;if(_0x54d205[_0x1a4b2d(0x245)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1a4b2d(0x79b)](_0x29b848)[_0x1a4b2d(0x4e9)]([..._0x54d205]))['length']};}catch(_0x274302){return console['log'](_0x1a4b2d(0x3fa),_0x274302),_0x274302;}}async['deleteAll'](_0x9e4956){const _0x20d632=a0_0x1b7b78;try{return await this['getMessageModelForOwner'](_0x9e4956)[_0x20d632(0x7f5)][_0x20d632(0x6c9)](),{'success':!0x0};}catch(_0x49a98e){return console[_0x20d632(0x84d)](_0x49a98e),{'success':!0x1,'error':_0x49a98e};}}},Ps=I(require(a0_0x1b7b78(0x7d9))),w=I(require(a0_0x1b7b78(0x397))),Le=require('fs'),j=I(require(a0_0x1b7b78(0x4a3))),Q=I(require('axios')),Ti=require(a0_0x1b7b78(0x5c6)),Ii=I(require(a0_0x1b7b78(0x347))),_i=I(require(a0_0x1b7b78(0x7bf))),va=['imageMessage',a0_0x1b7b78(0x7ec),a0_0x1b7b78(0x3c8),a0_0x1b7b78(0x75f),a0_0x1b7b78(0x290)],Na=['ephemeralMessage',a0_0x1b7b78(0x1b7),'viewOnceMessage',a0_0x1b7b78(0x398)],Ds=require('os'),Ft=I(require(a0_0x1b7b78(0x351))),Fe=require('child_process'),Oi=require(a0_0x1b7b78(0x855)),ge=I(require(a0_0x1b7b78(0x782))),J=require(a0_0x1b7b78(0x18c)),ue=class{constructor(_0x1d4e70,_0x4fd6a9,_0x578ced){const _0x5bac26=a0_0x1b7b78;this['jid']=_0x1d4e70,this[_0x5bac26(0x1e3)]=_0x4fd6a9,this[_0x5bac26(0x4a9)]=_0x578ced;}},Qe=class{},Ye=class{},Ie=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=I(require('express')),$a=require('fs'),Ra=require(a0_0x1b7b78(0x4a3));async function _e(_0x36572e){const _0x3d6cfb=a0_0x1b7b78;let _0x31165e=G[_0x3d6cfb(0x746)][_0x36572e];if(L[_0x3d6cfb(0x7eb)]){let _0xbcb84c=T[_0x3d6cfb(0x1ac)]()['db'](L[_0x3d6cfb(0x4ef)][_0x3d6cfb(0x824)]+_0x3d6cfb(0x7fd))[_0x3d6cfb(0x7f5)](_0x36572e);return _0x31165e||(await _0xbcb84c['find']({})[_0x3d6cfb(0x558)]())[_0x3d6cfb(0x245)]>0x0;}return _0x31165e||(0x0,$a[_0x3d6cfb(0x5f8)])((0x0,Ra[_0x3d6cfb(0x44f)])(Se,_0x36572e));}async function Aa(_0x473733,_0xadb89d,_0x26b8d9){const _0x432a0e=a0_0x1b7b78;if(_0x473733['originalUrl'][_0x432a0e(0x5a5)](_0x432a0e(0x2e5))||_0x473733['originalUrl']['includes']('/instance/fetchInstances')||_0x473733['originalUrl']['includes'](_0x432a0e(0x49c))||_0x473733[_0x432a0e(0x24c)][_0x432a0e(0x5a5)](_0x432a0e(0x7af))||_0x473733[_0x432a0e(0x24c)][_0x432a0e(0x5a5)]('/instance/connect')||_0x473733[_0x432a0e(0x24c)][_0x432a0e(0x5a5)](_0x432a0e(0x292))||_0x473733['originalUrl']['includes']('/instance/delete'))return _0x26b8d9();let _0x9e65b0=_0x473733[_0x432a0e(0x810)];if(!_0x9e65b0?.[_0x432a0e(0x2e9)])throw new m('instanceName\x20not\x20provided.');if(!await _e(_0x9e65b0['instanceName']))throw new U(_0x432a0e(0x8b4)+_0x9e65b0[_0x432a0e(0x2e9)]+_0x432a0e(0x7ee));_0x26b8d9();}async function Ta(_0x56d267,_0x11598b,_0xeddcc){const _0x5af994=a0_0x1b7b78;if(_0x56d267['originalUrl'][_0x5af994(0x5a5)](_0x5af994(0x2e5))){let _0x47d626=_0x56d267[_0x5af994(0x72b)];if(await _e(_0x47d626[_0x5af994(0x2e9)]))throw new Z(_0x5af994(0x761)+_0x47d626['instanceName']+_0x5af994(0x59b));G[_0x5af994(0x746)][_0x47d626[_0x5af994(0x2e9)]]&&delete G[_0x5af994(0x746)][_0x47d626[_0x5af994(0x2e9)]];}_0xeddcc();}var Ia=require(a0_0x1b7b78(0x18c)),_a=I(require('jsonwebtoken')),it=a0_0x1b7b78(0x793),$o=new $(a0_0x1b7b78(0x6a1));async function Ro(_0x1b6818,_0x453425,_0x359dfc){const _0x36bccc=a0_0x1b7b78;let _0x48f518=_0x1b6818[_0x36bccc(0x234)](_0x36bccc(0x41c));if(_0x48f518&&S['get'](_0x36bccc(0x6ec))[_0x36bccc(0x255)][_0x36bccc(0x1bf)]!==_0x48f518)throw new ie();if(S[_0x36bccc(0x234)](_0x36bccc(0x6ec))[_0x36bccc(0x255)][_0x36bccc(0x1bf)]===_0x48f518)return _0x359dfc();if((_0x1b6818[_0x36bccc(0x24c)][_0x36bccc(0x5a5)](_0x36bccc(0x2e5))||_0x1b6818[_0x36bccc(0x24c)]['includes'](_0x36bccc(0x6ab)))&&!_0x48f518)throw new Z(_0x36bccc(0x638),_0x36bccc(0x65f));let _0x3d4d24=S['get'](_0x36bccc(0x6ec))['JWT'];try{let [_0x19888e,_0x2b8eeb]=_0x1b6818['get'](_0x36bccc(0x89b))[_0x36bccc(0x8f1)]('\x20');if(_0x19888e[_0x36bccc(0x681)]()!==_0x36bccc(0x485))throw new ie();if(!(0x0,Ia['isJWT'])(_0x2b8eeb))throw new ie();let _0x34957d=_0x1b6818[_0x36bccc(0x810)],_0x23b803=_a['default'][_0x36bccc(0x488)](_0x2b8eeb,_0x3d4d24['SECRET'],{'ignoreExpiration':_0x3d4d24[_0x36bccc(0x1b8)]===0x0});if(_0x34957d[_0x36bccc(0x2e9)]!==_0x23b803[_0x36bccc(0x2e9)]||it!==_0x23b803['apiName'])throw new ie();return _0x359dfc();}catch(_0x463ce7){throw $o[_0x36bccc(0x84d)](_0x463ce7),new ie();}}async function Ao(_0x305b20,_0x173e81,_0xa8b76a){const _0x2851eb=a0_0x1b7b78;let _0x23fc99=S[_0x2851eb(0x234)](_0x2851eb(0x6ec))['API_KEY'],_0x52b90c=_0x305b20['get']('apikey');if(_0x23fc99[_0x2851eb(0x1bf)]===_0x52b90c)return _0xa8b76a();if(_0x305b20[_0x2851eb(0x24c)]['includes'](_0x2851eb(0x2e5))){let _0x1eedc7=xa,_0x1cf3fa=_0x305b20[_0x2851eb(0x72b)][_0x2851eb(0x2e9)];if(_0x1eedc7&&_0x1cf3fa[_0x2851eb(0x681)]()['startsWith'](_0x1eedc7[_0x2851eb(0x681)]()))return _0xa8b76a();if(!_0x52b90c)throw new Z(_0x2851eb(0x638),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x305b20['originalUrl'][_0x2851eb(0x5a5)](_0x2851eb(0x6ab))&&!_0x52b90c)throw new Z(_0x2851eb(0x638),_0x2851eb(0x65f));if(_0x305b20[_0x2851eb(0x24c)]['includes'](_0x2851eb(0x49c))&&!_0x52b90c)throw new Z(_0x2851eb(0x638),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x305b20['originalUrl'][_0x2851eb(0x5a5)](_0x2851eb(0x7af))&&!_0x52b90c)throw new Z(_0x2851eb(0x638),_0x2851eb(0x65f));try{let _0x1eec2f=_0x305b20[_0x2851eb(0x810)],_0x12004d=await fe[_0x2851eb(0x2e8)][_0x2851eb(0x83c)](_0x1eec2f[_0x2851eb(0x2e9)]);if(_0x12004d&&_0x12004d['apikey']===_0x52b90c)return _0xa8b76a();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require(a0_0x1b7b78(0x76a)),C=require(a0_0x1b7b78(0x5c6)),E=(..._0x165365)=>{const _0x5b844c=a0_0x1b7b78;let _0xcf6728={};return _0x165365['forEach'](_0x13d943=>_0xcf6728[_0x13d943]={'minLength':0x1,'description':_0x5b844c(0x8a8)+_0x13d943+_0x5b844c(0x696)}),{'if':{'propertyNames':{'enum':[..._0x165365]}},'then':{'properties':_0xcf6728}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'instanceName':{'type':a0_0x1b7b78(0x8d3)}},...E('instanceName')},Ac={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'oldToken':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x1e4)],...E(a0_0x1b7b78(0x1e4))},Tc={'properties':{'key':{'type':a0_0x1b7b78(0x56d),'properties':{'id':{'type':a0_0x1b7b78(0x8d3)},'remoteJid':{'type':a0_0x1b7b78(0x8d3)},'fromMe':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1b7b78(0x745),a0_0x1b7b78(0x8bf)],...E('id',a0_0x1b7b78(0x745))},'message':{'type':a0_0x1b7b78(0x56d)}}},oe={'properties':{'delay':{'type':'integer','description':a0_0x1b7b78(0x3fb)},'presence':{'type':'string','enum':[a0_0x1b7b78(0x71c),a0_0x1b7b78(0x687),a0_0x1b7b78(0x34f),a0_0x1b7b78(0x305),a0_0x1b7b78(0x318)]}}},ee={'type':a0_0x1b7b78(0x8d3),'description':a0_0x1b7b78(0x540)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x51e)],...E(a0_0x1b7b78(0x51e))}},'required':[a0_0x1b7b78(0x5ea),'number']},Da={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1b7b78(0x540)},Ic={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'text':{'type':'string'}},'required':[a0_0x1b7b78(0x51e)],...E(a0_0x1b7b78(0x51e))}},'required':[a0_0x1b7b78(0x5ea),'number']},_c={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'mediatype':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x2b9),a0_0x1b7b78(0x6f4),a0_0x1b7b78(0x6ca),'audio']},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x1b7b78(0x8d3)}},'required':['mediatype',a0_0x1b7b78(0x858)],...E(a0_0x1b7b78(0x525),'caption',a0_0x1b7b78(0x858))}},'required':[a0_0x1b7b78(0x66d),a0_0x1b7b78(0x7c6)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'image':{'type':'string'}},'required':[a0_0x1b7b78(0x2b9)],...E(a0_0x1b7b78(0x2b9))}},'required':[a0_0x1b7b78(0x290),a0_0x1b7b78(0x7c6)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'statusMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'type':{'type':a0_0x1b7b78(0x8d3),'enum':['text','image','audio',a0_0x1b7b78(0x6ca)]},'content':{'type':a0_0x1b7b78(0x8d3)},'caption':{'type':a0_0x1b7b78(0x8d3)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x1b7b78(0x181),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1b7b78(0x20f),'description':a0_0x1b7b78(0x39c)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x1b7b78(0x1ba)],...E(a0_0x1b7b78(0x4ae),a0_0x1b7b78(0x1ba))}},'required':['statusMessage']},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'mediatype':{'type':'string','enum':['image',a0_0x1b7b78(0x6f4),a0_0x1b7b78(0x6ca),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x1b7b78(0x8d3)},'caption':{'type':a0_0x1b7b78(0x8d3)}},'required':['mediatype',a0_0x1b7b78(0x858)],...E(a0_0x1b7b78(0x525),a0_0x1b7b78(0x428),a0_0x1b7b78(0x858))}},'required':['mediaMessage',a0_0x1b7b78(0x7c6)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'audio':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x7a6)],...E(a0_0x1b7b78(0x7a6))}},'required':[a0_0x1b7b78(0x3c8),a0_0x1b7b78(0x7c6)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...ee},'pollMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'name':{'type':a0_0x1b7b78(0x8d3)},'selectableCount':{'type':a0_0x1b7b78(0x7c6)},'values':{'type':a0_0x1b7b78(0x6d6),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1b7b78(0x4a9),a0_0x1b7b78(0x499),a0_0x1b7b78(0x379)],...E('name',a0_0x1b7b78(0x499),a0_0x1b7b78(0x379))}},'required':[a0_0x1b7b78(0x7c6),a0_0x1b7b78(0x44a)]},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'menuMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x1b7b78(0x6d6),'uniqueItems':!0x0}},'required':[a0_0x1b7b78(0x51e),a0_0x1b7b78(0x6b9)],...E(a0_0x1b7b78(0x51e),'choices')}},'required':[a0_0x1b7b78(0x7c6),a0_0x1b7b78(0x441)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'latitude':{'type':a0_0x1b7b78(0x7c6)},'longitude':{'type':a0_0x1b7b78(0x7c6)},'name':{'type':a0_0x1b7b78(0x8d3)},'address':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x310),a0_0x1b7b78(0x175)],...E(a0_0x1b7b78(0x4a9),'addresss')}},'required':[a0_0x1b7b78(0x7c6),a0_0x1b7b78(0x67b)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'title':{'type':a0_0x1b7b78(0x8d3)},'description':{'type':a0_0x1b7b78(0x8d3)},'footerText':{'type':a0_0x1b7b78(0x8d3)},'buttonText':{'type':a0_0x1b7b78(0x8d3)},'sections':{'type':a0_0x1b7b78(0x6d6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b7b78(0x56d),'properties':{'title':{'type':a0_0x1b7b78(0x8d3)},'rows':{'type':a0_0x1b7b78(0x6d6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x1b7b78(0x8d3)},'description':{'type':a0_0x1b7b78(0x8d3)},'rowId':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x71e),'rowId'],...E(a0_0x1b7b78(0x71e),a0_0x1b7b78(0x8a2))}}},'required':[a0_0x1b7b78(0x71e),a0_0x1b7b78(0x1bc)],...E('title')}}},'required':[a0_0x1b7b78(0x71e),'description',a0_0x1b7b78(0x466),a0_0x1b7b78(0x4d0)],...E('title',a0_0x1b7b78(0x570),'buttonText',a0_0x1b7b78(0x626))}},'required':['number',a0_0x1b7b78(0x1fe)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':a0_0x1b7b78(0x6d6),'items':{'type':a0_0x1b7b78(0x56d),'properties':{'fullName':{'type':a0_0x1b7b78(0x8d3)},'phoneNumber':{'type':a0_0x1b7b78(0x8d3),'minLength':0xa}},'required':[a0_0x1b7b78(0x3f3),a0_0x1b7b78(0x2b0)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'key':{'type':a0_0x1b7b78(0x56d),'properties':{'id':{'type':a0_0x1b7b78(0x8d3)},'remoteJid':{'type':a0_0x1b7b78(0x8d3)},'fromMe':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1b7b78(0x745),a0_0x1b7b78(0x8bf)],...E('id','remoteJid')},'reaction':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x482),a0_0x1b7b78(0x3c1)],...E('reaction')}},'required':[a0_0x1b7b78(0x7f4)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'numbers':{'type':a0_0x1b7b78(0x6d6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b7b78(0x8d3),'pattern':'^\x5cd+','description':a0_0x1b7b78(0x41b)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'readMessages':{'type':a0_0x1b7b78(0x6d6),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1b7b78(0x8d3)},'fromMe':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1b7b78(0x8d3)}},'required':['id',a0_0x1b7b78(0x8bf),a0_0x1b7b78(0x745)],...E('id',a0_0x1b7b78(0x745))}}},'required':[a0_0x1b7b78(0x31b)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'privacySettings':{'type':a0_0x1b7b78(0x56d),'properties':{'readreceipts':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x586),a0_0x1b7b78(0x300)]},'profile':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x586),a0_0x1b7b78(0x1cd),a0_0x1b7b78(0x1fa),'none']},'status':{'type':a0_0x1b7b78(0x8d3),'enum':['all',a0_0x1b7b78(0x1cd),a0_0x1b7b78(0x1fa),a0_0x1b7b78(0x300)]},'online':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x586),'match_last_seen']},'last':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x586),a0_0x1b7b78(0x1cd),'contact_blacklist',a0_0x1b7b78(0x300)]},'groupadd':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x586),a0_0x1b7b78(0x1cd),a0_0x1b7b78(0x1fa),a0_0x1b7b78(0x300)]}},'required':[a0_0x1b7b78(0x4e4),'profile',a0_0x1b7b78(0x18a),a0_0x1b7b78(0x60a),a0_0x1b7b78(0x43e),a0_0x1b7b78(0x277)],...E('readreceipts',a0_0x1b7b78(0x480),a0_0x1b7b78(0x18a),a0_0x1b7b78(0x60a),a0_0x1b7b78(0x43e),a0_0x1b7b78(0x277))}},'required':[a0_0x1b7b78(0x8e6)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'lastMessage':{'type':a0_0x1b7b78(0x56d),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1b7b78(0x8d3)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1b7b78(0x8bf),a0_0x1b7b78(0x745)],...E('id',a0_0x1b7b78(0x745))},'messageTimestamp':{'type':a0_0x1b7b78(0x181),'minLength':0x1}},'required':[a0_0x1b7b78(0x482)],...E(a0_0x1b7b78(0x2b7))},'archive':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x1b7b78(0x8d3)},'fromMe':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x1b7b78(0x8d3)}},'required':['id',a0_0x1b7b78(0x8bf),'remoteJid'],...E('id',a0_0x1b7b78(0x745),'participant')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'where':{'type':a0_0x1b7b78(0x56d),'properties':{'_id':{'type':a0_0x1b7b78(0x8d3),'minLength':0x1},'pushName':{'type':a0_0x1b7b78(0x8d3),'minLength':0x1},'id':{'type':a0_0x1b7b78(0x8d3),'minLength':0x1}},...E(a0_0x1b7b78(0x49d),'id',a0_0x1b7b78(0x2d5))}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...E(a0_0x1b7b78(0x4a9))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'status':{'type':'string'}},...E('status')},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x1b7b78(0x8d3)}}},ei={'type':a0_0x1b7b78(0x56d),'properties':{'wuid':{'type':a0_0x1b7b78(0x8d3)},'name':{'type':a0_0x1b7b78(0x8d3)},'picture':{'type':a0_0x1b7b78(0x8d3)},'status':{'type':a0_0x1b7b78(0x8d3)},'isBusiness':{'type':a0_0x1b7b78(0x81b)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'where':{'type':a0_0x1b7b78(0x56d),'properties':{'_id':{'type':a0_0x1b7b78(0x8d3),'minLength':0x1},'key':{'type':a0_0x1b7b78(0x56d),'if':{'propertyNames':{'enum':[a0_0x1b7b78(0x8bf),a0_0x1b7b78(0x745),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1b7b78(0x8d3),'minLength':0x1,'description':a0_0x1b7b78(0x54f)},'id':{'type':'string','minLength':0x1,'description':a0_0x1b7b78(0x54f)},'fromMe':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1b7b78(0x56d)}},...E('_id')},'limit':{'type':'integer'}}},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1b7b78(0x8d3)},'remoteJid':{'type':a0_0x1b7b78(0x8d3)},'id':{'type':a0_0x1b7b78(0x8d3)},'fromMe':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1b7b78(0x8d3)},'status':{'type':'string','enum':[a0_0x1b7b78(0x360),a0_0x1b7b78(0x675),a0_0x1b7b78(0x2eb),a0_0x1b7b78(0x8d9),a0_0x1b7b78(0x3e5),a0_0x1b7b78(0x1cc)]}},...E(a0_0x1b7b78(0x49d),a0_0x1b7b78(0x745),'id',a0_0x1b7b78(0x18a))},'limit':{'type':a0_0x1b7b78(0x181)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'number':{...ee},'presence':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x71c),a0_0x1b7b78(0x687),a0_0x1b7b78(0x34f),'recording',a0_0x1b7b78(0x318)]}},'required':[a0_0x1b7b78(0x84e),a0_0x1b7b78(0x7c6)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'subject':{'type':a0_0x1b7b78(0x8d3)},'description':{'type':a0_0x1b7b78(0x8d3)},'profilePicture':{'type':a0_0x1b7b78(0x8d3)},'participants':{'type':a0_0x1b7b78(0x6d6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x1b7b78(0x3ed),'description':a0_0x1b7b78(0x54d)}}},'required':[a0_0x1b7b78(0x2e3),a0_0x1b7b78(0x7e0)],...E(a0_0x1b7b78(0x2e3),a0_0x1b7b78(0x570),a0_0x1b7b78(0x828))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':a0_0x1b7b78(0x8d3),'pattern':a0_0x1b7b78(0x29f)}},'required':[a0_0x1b7b78(0x640)],...E(a0_0x1b7b78(0x640))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':a0_0x1b7b78(0x8d3)},'action':{'type':'string','enum':['add','remove',a0_0x1b7b78(0x3a1),a0_0x1b7b78(0x5fb),a0_0x1b7b78(0x506),'approve']},'participants':{'type':a0_0x1b7b78(0x6d6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b7b78(0x8d3),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x1b7b78(0x54d)}}},'required':[a0_0x1b7b78(0x640),a0_0x1b7b78(0x789),a0_0x1b7b78(0x7e0)],...E(a0_0x1b7b78(0x640),a0_0x1b7b78(0x789))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':a0_0x1b7b78(0x8d3)},'expiration':{'type':a0_0x1b7b78(0x7c6),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1b7b78(0x640),'expiration'],...E(a0_0x1b7b78(0x640),a0_0x1b7b78(0x2ff))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':a0_0x1b7b78(0x8d3)},'image':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x640),'image'],...E(a0_0x1b7b78(0x640),a0_0x1b7b78(0x2b9))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':a0_0x1b7b78(0x8d3)},'description':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x640),a0_0x1b7b78(0x570)],...E(a0_0x1b7b78(0x640),a0_0x1b7b78(0x570))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':a0_0x1b7b78(0x8d3)},'name':{'type':a0_0x1b7b78(0x8d3)}},'required':['groupJid',a0_0x1b7b78(0x4a9)],...E(a0_0x1b7b78(0x640),a0_0x1b7b78(0x4a9))},li={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x1b7b78(0x8d3),'enum':[a0_0x1b7b78(0x442),'not_announcement',a0_0x1b7b78(0x63f),a0_0x1b7b78(0x860)]}},'required':[a0_0x1b7b78(0x640),a0_0x1b7b78(0x414)],...E('groupJid',a0_0x1b7b78(0x414))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'groupJid':{'type':a0_0x1b7b78(0x8d3)},'restrict':{'type':a0_0x1b7b78(0x81b)},'announce':{'type':a0_0x1b7b78(0x81b)},'memberAddMode':{'type':a0_0x1b7b78(0x81b)},'joinApprovalMode':{'type':a0_0x1b7b78(0x81b)},'expiration':{'type':a0_0x1b7b78(0x181),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1b7b78(0x8d3)},'description':{'type':a0_0x1b7b78(0x8d3)},'image':{'type':'string'}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'inviteCode':{'type':a0_0x1b7b78(0x8d3)}},'required':[a0_0x1b7b78(0x339)],...E(a0_0x1b7b78(0x339))},di={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'url':{'type':a0_0x1b7b78(0x8d3)},'enabled':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]}},'required':['url','enabled']},xc={'$id':(0x0,C['v4'])(),'type':a0_0x1b7b78(0x56d),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1b7b78(0x81b),'enum':[!0x0,!0x1]}},'required':[a0_0x1b7b78(0x841),a0_0x1b7b78(0x530),a0_0x1b7b78(0x2ef),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x1b7b78(0x61e),a0_0x1b7b78(0x6fe),a0_0x1b7b78(0x2bf),a0_0x1b7b78(0x6e3),a0_0x1b7b78(0x4c1),a0_0x1b7b78(0x74a),'CHATS_SET',a0_0x1b7b78(0x596),a0_0x1b7b78(0x190),a0_0x1b7b78(0x4a4),a0_0x1b7b78(0x41a),a0_0x1b7b78(0x88e),a0_0x1b7b78(0x1c3),a0_0x1b7b78(0x411)],...E(a0_0x1b7b78(0x841),a0_0x1b7b78(0x530),'QRCODE_UPDATED',a0_0x1b7b78(0x2c2),a0_0x1b7b78(0x835),a0_0x1b7b78(0x61e),a0_0x1b7b78(0x6fe),a0_0x1b7b78(0x2bf),'CONTACTS_UPSERT',a0_0x1b7b78(0x4c1),a0_0x1b7b78(0x74a),a0_0x1b7b78(0x4b0),a0_0x1b7b78(0x596),a0_0x1b7b78(0x190),a0_0x1b7b78(0x4a4),a0_0x1b7b78(0x41a),a0_0x1b7b78(0x88e),'GROUPS_UPDATE',a0_0x1b7b78(0x411))},ot=class{},rt=class extends _{[a0_0x1b7b78(0x591)](_0x232dcc){return aa(_0x232dcc);}async[a0_0x1b7b78(0x5dc)](_0xcb7c7c){const _0x1751b7=a0_0x1b7b78;if(_0xcb7c7c['length']!==0x0)try{return{'insertCount':(await this[_0x1751b7(0x591)](_0xcb7c7c[0x0][_0x1751b7(0x186)])[_0x1751b7(0x4e9)]([..._0xcb7c7c]))[_0x1751b7(0x245)]};}catch(_0x278243){return _0x278243;}}async[a0_0x1b7b78(0x30b)](_0x218575,_0x4f9800){const _0x441f97=a0_0x1b7b78;try{return{'deletedCount':(await this[_0x441f97(0x591)](_0x4f9800)[_0x441f97(0x2c3)]({..._0x218575['where']}))[_0x441f97(0x82c)]};}catch(_0x3e1ea2){return{'error':_0x3e1ea2?.['toString']()};}}async['update'](_0x11164b,_0x3e949e){const _0x1a34f1=a0_0x1b7b78;try{if(_0x11164b['length']===0x0)return;let _0x44ed81=this[_0x1a34f1(0x591)](_0x3e949e),_0x47ad85=_0x11164b[_0x1a34f1(0x686)](_0x5d841c=>({'updateOne':{'filter':{'_id':_0x5d841c[_0x1a34f1(0x49d)],'owner':_0x3e949e},'update':{..._0x5d841c}}})),{modifiedCount:_0xbd015c}=await _0x44ed81[_0x1a34f1(0x5ed)](_0x47ad85);return{'insertCount':_0xbd015c};}catch{return;}}async[a0_0x1b7b78(0x83c)](_0x1bf84d,_0x3d1134){const _0x1eb36f=a0_0x1b7b78;try{let _0x308b4c=this[_0x1eb36f(0x591)](_0x3d1134),_0x520ef4=A(_0x1bf84d[_0x1eb36f(0x4b7)]);return await _0x308b4c[_0x1eb36f(0x83c)](_0x520ef4)[_0x1eb36f(0x4db)](_0x1bf84d?.[_0x1eb36f(0x4db)]??0x0)[_0x1eb36f(0x86c)]();}catch{return[];}}async[a0_0x1b7b78(0x547)](_0x1e5cdd,_0x191e43){const _0x5720e1=a0_0x1b7b78;try{let _0x2d9917=this[_0x5720e1(0x591)](_0x191e43),_0x415c8e=A(_0x1e5cdd[_0x5720e1(0x4b7)]);return await _0x2d9917[_0x5720e1(0x547)](_0x415c8e)[_0x5720e1(0x86c)]();}catch{return null;}}async[a0_0x1b7b78(0x2b8)](_0x455218){const _0x3f2f82=a0_0x1b7b78;try{return await this[_0x3f2f82(0x591)](_0x455218)[_0x3f2f82(0x7f5)]['drop'](),{'success':!0x0};}catch(_0x80c0f0){return console['error'](_0x80c0f0),{'success':!0x1,'error':_0x80c0f0};}}},nt=require(a0_0x1b7b78(0x6e8)),qc=require('express-async-errors'),$s=new $('Validate'),V=class{['routerPath'](_0x5017d7,_0x172d4c=!0x0){const _0x5d60e0=a0_0x1b7b78;let _0x13c659='/'+_0x5017d7;return _0x172d4c&&(_0x13c659+=_0x5d60e0(0x2be)),_0x13c659;}async[a0_0x1b7b78(0x68f)](_0x5b2e6e){const _0x2c23f2=a0_0x1b7b78;let {request:_0x5c4177,schema:_0x524003,ClassRef:_0x48ba1b,execute:_0x10ce9d}=_0x5b2e6e,_0x1ddad9=new _0x48ba1b(),_0x3af537=_0x5c4177[_0x2c23f2(0x72b)],_0x539c8d=_0x5c4177[_0x2c23f2(0x810)];_0x5c4177?.[_0x2c23f2(0x7f1)]&&Object[_0x2c23f2(0x51a)](_0x5c4177[_0x2c23f2(0x7f1)])[_0x2c23f2(0x245)]>0x0&&Object[_0x2c23f2(0x52b)](_0x539c8d,_0x5c4177[_0x2c23f2(0x7f1)]),_0x5c4177['originalUrl']['includes'](_0x2c23f2(0x2e5))&&Object[_0x2c23f2(0x52b)](_0x539c8d,_0x3af537),Object[_0x2c23f2(0x52b)](_0x1ddad9,_0x3af537);let _0x157887=_0x524003?(0x0,nt['validate'])(_0x1ddad9,_0x524003):{'valid':!0x0,'errors':[]};if(!_0x157887[_0x2c23f2(0x822)]){let _0xfe146c=_0x157887['errors']['map'](({property:_0x2dc272,stack:_0x5b61bf,schema:_0x189340})=>{const _0xceb030=_0x2c23f2;let _0x20779e;return _0x189340[_0xceb030(0x570)]?_0x20779e=_0x189340[_0xceb030(0x570)]:_0x20779e=_0x5b61bf['replace']('instance.',''),{'property':_0x2dc272[_0xceb030(0x465)](_0xceb030(0x22b),''),'message':_0x20779e};});throw $s[_0x2c23f2(0x84d)]([..._0xfe146c]),new m(..._0xfe146c);}return await _0x10ce9d(_0x539c8d,_0x1ddad9);}async[a0_0x1b7b78(0x238)](_0xb0ffdb){const _0x40b837=a0_0x1b7b78;let {request:_0x224365,ClassRef:_0xdf91b5,schema:_0x54d618,execute:_0x26557b}=_0xb0ffdb,_0x22c834=_0x224365['query'];if(!_0x22c834?.[_0x40b837(0x640)])throw new m(_0x40b837(0x7b1),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x2c45d4=_0x224365[_0x40b837(0x810)],_0x54af18=_0x224365['body'],_0x8a7958=new _0xdf91b5();Object[_0x40b837(0x52b)](_0x54af18,_0x22c834),Object['assign'](_0x8a7958,_0x54af18);let _0x11a481=(0x0,nt[_0x40b837(0x84f)])(_0x8a7958,_0x54d618);if(!_0x11a481[_0x40b837(0x822)]){let _0x5065ac=_0x11a481[_0x40b837(0x86f)]['map'](({property:_0xeafe9,stack:_0x2d9ac6,schema:_0x4fcfe9})=>{const _0x2bc198=_0x40b837;let _0x434b07;return _0x4fcfe9[_0x2bc198(0x570)]?_0x434b07=_0x4fcfe9[_0x2bc198(0x570)]:_0x434b07=_0x2d9ac6[_0x2bc198(0x465)]('instance.',''),{'property':_0xeafe9['replace'](_0x2bc198(0x22b),''),'message':_0x434b07};});throw $s[_0x40b837(0x84d)]([..._0x5065ac]),new m(..._0x5065ac);}return await _0x26557b(_0x2c45d4,_0x8a7958);}async[a0_0x1b7b78(0x3e4)](_0x1d992d){const _0x5d736e=a0_0x1b7b78;let {request:_0x5df646,ClassRef:_0x6098e2,schema:_0x5f1a4b,execute:_0x3f3706}=_0x1d992d,_0x1b2db4=_0x5df646[_0x5d736e(0x72b)];if(!_0x1b2db4?.[_0x5d736e(0x339)])throw new m(_0x5d736e(0x421),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x4da17e=_0x5df646[_0x5d736e(0x810)],_0x2e33ad=_0x5df646[_0x5d736e(0x72b)],_0x8e2dcd=new _0x6098e2();Object[_0x5d736e(0x52b)](_0x2e33ad,_0x1b2db4),Object[_0x5d736e(0x52b)](_0x8e2dcd,_0x2e33ad);let _0x192ef3=(0x0,nt[_0x5d736e(0x84f)])(_0x8e2dcd,_0x5f1a4b);if(!_0x192ef3[_0x5d736e(0x822)]){let _0x345c40=_0x192ef3[_0x5d736e(0x86f)][_0x5d736e(0x686)](({property:_0x46dc27,stack:_0x46957d,schema:_0x1d04e0})=>{const _0x338951=_0x5d736e;let _0x465d75;return _0x1d04e0[_0x338951(0x570)]?_0x465d75=_0x1d04e0['description']:_0x465d75=_0x46957d[_0x338951(0x465)](_0x338951(0x22b),''),{'property':_0x46dc27[_0x338951(0x465)](_0x338951(0x22b),''),'message':_0x465d75};});throw $s[_0x5d736e(0x84d)]([..._0x345c40]),new m(..._0x345c40);}return await _0x3f3706(_0x4da17e,_0x8e2dcd);}},M=class{},al=new $(a0_0x1b7b78(0x484)),ct=class extends V{constructor(..._0x5d33bf){const _0x5b4b83=a0_0x1b7b78;super(),this[_0x5b4b83(0x534)]=(0x0,pi[_0x5b4b83(0x1e1)])(),this[_0x5b4b83(0x534)][_0x5b4b83(0x509)](this['routerPath'](_0x5b4b83(0x337)),..._0x5d33bf,async(_0x510122,_0x3fc2e7)=>{const _0x55e215=_0x5b4b83;let _0xbcbabc=await this['dataValidate']({'request':_0x510122,'schema':si,'ClassRef':Qe,'execute':(_0x2371a2,_0x759ff9)=>D[_0x55e215(0x337)](_0x2371a2,_0x759ff9)});return _0x3fc2e7[_0x55e215(0x18a)](0xc9)['json'](_0xbcbabc);})[_0x5b4b83(0x509)](this['routerPath'](_0x5b4b83(0x6c2)),..._0x5d33bf,async(_0x2dbb4b,_0x550155)=>{const _0x1df60e=_0x5b4b83;let _0x45816b=await this[_0x1df60e(0x68f)]({'request':_0x2dbb4b,'schema':Wa,'ClassRef':Ye,'execute':(_0x2ce3c4,_0x23e609)=>D['whatsappNumber'](_0x2ce3c4,_0x23e609)});return _0x550155[_0x1df60e(0x18a)](0xc9)[_0x1df60e(0x693)](_0x45816b);})[_0x5b4b83(0x509)](this[_0x5b4b83(0x52d)]('editChat'),..._0x5d33bf,async(_0x4b37cc,_0x1b4b08)=>{const _0x1d627c=_0x5b4b83;let _0x34cb47=await this[_0x1d627c(0x68f)]({'request':_0x4b37cc,'schema':N,'ClassRef':M,'execute':(_0x42a8c8,_0x3a6616)=>D['editChat'](_0x42a8c8,_0x3a6616)});return _0x1b4b08[_0x1d627c(0x18a)](0xc9)[_0x1d627c(0x693)](_0x34cb47);})['put'](this[_0x5b4b83(0x52d)](_0x5b4b83(0x246)),..._0x5d33bf,async(_0x4e2b4a,_0x222332)=>{const _0x3213fe=_0x5b4b83;let _0x26ffe0=await this[_0x3213fe(0x68f)]({'request':_0x4e2b4a,'schema':za,'ClassRef':et,'execute':(_0x3c103e,_0x3c9c21)=>D[_0x3213fe(0x17e)](_0x3c103e,_0x3c9c21)});return _0x222332[_0x3213fe(0x18a)](0xc9)['json'](_0x26ffe0);})[_0x5b4b83(0x299)](this[_0x5b4b83(0x52d)]('archiveChat'),..._0x5d33bf,async(_0x1db88a,_0x292c34)=>{const _0x2639ca=_0x5b4b83;let _0x24f4d5=await this[_0x2639ca(0x68f)]({'request':_0x1db88a,'schema':Ka,'ClassRef':tt,'execute':(_0xbcb34d,_0x61ea4)=>D['archiveChat'](_0xbcb34d,_0x61ea4)});return _0x292c34[_0x2639ca(0x18a)](0xc9)['json'](_0x24f4d5);})['delete'](this[_0x5b4b83(0x52d)](_0x5b4b83(0x38e)),..._0x5d33bf,async(_0xe9f6ef,_0x5973aa)=>{const _0x2543e2=_0x5b4b83;let _0x37591e=await this[_0x2543e2(0x68f)]({'request':_0xe9f6ef,'schema':Qa,'ClassRef':at,'execute':(_0x5e6969,_0x16158c)=>D[_0x2543e2(0x420)](_0x5e6969,_0x16158c)});return _0x5973aa['status'](0xc9)[_0x2543e2(0x693)](_0x37591e);})['post'](this[_0x5b4b83(0x52d)](_0x5b4b83(0x836)),..._0x5d33bf,async(_0x4940d6,_0x34e691)=>{const _0xb2a691=_0x5b4b83;let _0x36a8a9=await this[_0xb2a691(0x68f)]({'request':_0x4940d6,'schema':Oe,'ClassRef':Ie,'execute':(_0x43e490,_0x128e57)=>D[_0xb2a691(0x311)](_0x43e490,_0x128e57)});return _0x34e691[_0xb2a691(0x18a)](0xc8)['json'](_0x36a8a9);})[_0x5b4b83(0x509)](this['routerPath'](_0x5b4b83(0x81d)),..._0x5d33bf,async(_0x2a23b5,_0x4294c0)=>{const _0x99ad59=_0x5b4b83;let _0xc50e4=await this['dataValidate']({'request':_0x2a23b5,'schema':ei,'ClassRef':Ie,'execute':(_0xb5e55e,_0x2d96fb)=>D['fetchProfile'](_0xb5e55e,_0x2d96fb)});return _0x4294c0['status'](0xc8)[_0x99ad59(0x693)](_0xc50e4);})[_0x5b4b83(0x509)](this[_0x5b4b83(0x52d)]('findContacts'),..._0x5d33bf,async(_0x577146,_0x1423a5)=>{const _0x3457df=_0x5b4b83;let _0x9b6d00=await this[_0x3457df(0x68f)]({'request':_0x577146,'schema':Ya,'ClassRef':ot,'execute':(_0xd88c75,_0x33bc3c)=>D[_0x3457df(0x6b5)](_0xd88c75,_0x33bc3c)});return _0x1423a5['status'](0xc8)['json'](_0x9b6d00);})['post'](this[_0x5b4b83(0x52d)]('getBase64FromMediaMessage'),..._0x5d33bf,async(_0x482184,_0x30e254)=>{const _0xb2faa6=_0x5b4b83;let _0xbeb2be=await this[_0xb2faa6(0x68f)]({'request':_0x482184,'schema':null,'ClassRef':Object,'execute':(_0x4d6907,_0x4fcc10)=>D[_0xb2faa6(0x777)](_0x4d6907,_0x4fcc10)});return _0x30e254[_0xb2faa6(0x18a)](0xc9)[_0xb2faa6(0x693)](_0xbeb2be);})[_0x5b4b83(0x509)](this['routerPath'](_0x5b4b83(0x5e5)),..._0x5d33bf,async(_0x4d3466,_0x19671b)=>{const _0x26970b=_0x5b4b83;let _0x30c712=await this[_0x26970b(0x68f)]({'request':_0x4d3466,'schema':ti,'ClassRef':He,'execute':(_0x1a224a,_0x2d9bc9)=>D[_0x26970b(0x8b0)](_0x1a224a,_0x2d9bc9)});return _0x19671b['status'](0xc8)[_0x26970b(0x693)](_0x30c712);})[_0x5b4b83(0x234)](this[_0x5b4b83(0x52d)]('findChats'),..._0x5d33bf,async(_0x4e6d58,_0x444c1a)=>{const _0x548d54=_0x5b4b83;let _0x4bb6e4=await this['dataValidate']({'request':_0x4e6d58,'schema':null,'ClassRef':M,'execute':_0x3f0da7=>D[_0x548d54(0x350)](_0x3f0da7)});return _0x444c1a['status'](0xc8)[_0x548d54(0x693)](_0x4bb6e4);})[_0x5b4b83(0x234)](this['routerPath'](_0x5b4b83(0x213)),..._0x5d33bf,async(_0xdc0cec,_0xd00ddd)=>{const _0x3de476=_0x5b4b83;let _0x362f1e=await this[_0x3de476(0x68f)]({'request':_0xdc0cec,'schema':null,'ClassRef':M,'execute':_0xf17fba=>D[_0x3de476(0x72a)](_0xf17fba)});return _0xd00ddd[_0x3de476(0x18a)](0xc8)[_0x3de476(0x693)](_0x362f1e);})[_0x5b4b83(0x299)](this['routerPath'](_0x5b4b83(0x483)),..._0x5d33bf,async(_0x357dbc,_0x3a0c32)=>{const _0x28e25c=_0x5b4b83;let _0x22da39=await this['dataValidate']({'request':_0x357dbc,'schema':null,'ClassRef':Array,'execute':(_0x49798d,_0x47c409)=>D[_0x28e25c(0x483)](_0x49798d,_0x47c409)});return _0x3a0c32[_0x28e25c(0x18a)](0xc8)[_0x28e25c(0x693)](_0x22da39);})[_0x5b4b83(0x234)](this['routerPath']('fetchPrivacySettings'),..._0x5d33bf,async(_0x2fdeab,_0x49217d)=>{const _0x2ea38a=_0x5b4b83;let _0x22e6dc=await this[_0x2ea38a(0x68f)]({'request':_0x2fdeab,'schema':null,'ClassRef':M,'execute':_0x296a3c=>D[_0x2ea38a(0x2ab)](_0x296a3c)});return _0x49217d[_0x2ea38a(0x18a)](0xc8)['json'](_0x22e6dc);})[_0x5b4b83(0x299)](this[_0x5b4b83(0x52d)](_0x5b4b83(0x5c2)),..._0x5d33bf,async(_0x39f383,_0x3b5637)=>{const _0x33eb62=_0x5b4b83;let _0x3253f5=await this[_0x33eb62(0x68f)]({'request':_0x39f383,'schema':Ha,'ClassRef':st,'execute':(_0x5120d3,_0x4dc2c6)=>D[_0x33eb62(0x5c2)](_0x5120d3,_0x4dc2c6)});return _0x3b5637['status'](0xc9)[_0x33eb62(0x693)](_0x3253f5);})[_0x5b4b83(0x509)](this[_0x5b4b83(0x52d)](_0x5b4b83(0x3d7)),..._0x5d33bf,async(_0x496849,_0x778a8)=>{const _0x524cfe=_0x5b4b83;let _0x2c125e=await this[_0x524cfe(0x68f)]({'request':_0x496849,'schema':Oe,'ClassRef':Ee,'execute':(_0x3e9fb6,_0x217f6f)=>D['fetchBusinessProfile'](_0x3e9fb6,_0x217f6f)});return _0x778a8['status'](0xc8)[_0x524cfe(0x693)](_0x2c125e);})[_0x5b4b83(0x509)](this[_0x5b4b83(0x52d)]('updateProfileName'),..._0x5d33bf,async(_0x459345,_0x2af9bf)=>{const _0x42b982=_0x5b4b83;let _0xba6f89=await this[_0x42b982(0x68f)]({'request':_0x459345,'schema':Xa,'ClassRef':Xe,'execute':(_0x54ed5c,_0x47721c)=>D['updateProfileName'](_0x54ed5c,_0x47721c)});return _0x2af9bf[_0x42b982(0x18a)](0xc8)['json'](_0xba6f89);})[_0x5b4b83(0x509)](this[_0x5b4b83(0x52d)](_0x5b4b83(0x699)),..._0x5d33bf,async(_0x44031e,_0x3bb73a)=>{const _0x4fdbf1=_0x5b4b83;let _0x3bbfc6=await this[_0x4fdbf1(0x68f)]({'request':_0x44031e,'schema':Za,'ClassRef':Ze,'execute':(_0x31fc2c,_0x5b46d4)=>D['updateProfileStatus'](_0x31fc2c,_0x5b46d4)});return _0x3bb73a[_0x4fdbf1(0x18a)](0xc8)[_0x4fdbf1(0x693)](_0x3bbfc6);})[_0x5b4b83(0x299)](this[_0x5b4b83(0x52d)]('updateProfilePicture'),..._0x5d33bf,async(_0x5c9750,_0xb0a028)=>{const _0x3a37ed=_0x5b4b83;let _0x2f460d=await this[_0x3a37ed(0x68f)]({'request':_0x5c9750,'schema':Oe,'ClassRef':Ee,'execute':(_0x31935c,_0x326e6e)=>D[_0x3a37ed(0x672)](_0x31935c,_0x326e6e)});return _0xb0a028[_0x3a37ed(0x18a)](0xc8)['json'](_0x2f460d);})[_0x5b4b83(0x30b)](this['routerPath'](_0x5b4b83(0x216)),..._0x5d33bf,async(_0x535a68,_0x3d68e3)=>{const _0x10bde6=_0x5b4b83;let _0x17956c=await this[_0x10bde6(0x68f)]({'request':_0x535a68,'schema':Oe,'ClassRef':Ee,'execute':(_0x5f3867,_0x1359fe)=>D[_0x10bde6(0x216)](_0x5f3867,_0x1359fe)});return _0x3d68e3[_0x10bde6(0x18a)](0xc8)[_0x10bde6(0x693)](_0x17956c);});}},hi=require(a0_0x1b7b78(0x76a)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x37a77f){const _0x47dd86=a0_0x1b7b78;super(),this['router']=(0x0,hi[_0x47dd86(0x1e1)])(),this[_0x47dd86(0x534)]['post'](this[_0x47dd86(0x52d)](_0x47dd86(0x262)),..._0x37a77f,async(_0x4742b2,_0x58cb47)=>{const _0x382f09=_0x47dd86;let _0x40bc99=await this[_0x382f09(0x68f)]({'request':_0x4742b2,'schema':ai,'ClassRef':lt,'execute':(_0x262ccc,_0x5f4dc7)=>q[_0x382f09(0x2fe)](_0x262ccc,_0x5f4dc7)});_0x58cb47[_0x382f09(0x18a)](0xc9)[_0x382f09(0x693)](_0x40bc99);})['put'](this[_0x47dd86(0x52d)](_0x47dd86(0x66b)),..._0x37a77f,async(_0x5504d0,_0x57e687)=>{const _0x3e16c7=_0x47dd86;let _0x15668f=await this[_0x3e16c7(0x238)]({'request':_0x5504d0,'schema':ri,'ClassRef':ut,'execute':(_0x48efbd,_0x48f299)=>q[_0x3e16c7(0x66b)](_0x48efbd,_0x48f299)});_0x57e687[_0x3e16c7(0x18a)](0xc9)[_0x3e16c7(0x693)](_0x15668f);})['put'](this[_0x47dd86(0x52d)](_0x47dd86(0x2bd)),..._0x37a77f,async(_0x228684,_0x3a8c44)=>{const _0x72b4e1=_0x47dd86;let _0x56e173=await this['groupValidate']({'request':_0x228684,'schema':ni,'ClassRef':dt,'execute':(_0x9c1985,_0x2d0c6d)=>q[_0x72b4e1(0x2bd)](_0x9c1985,_0x2d0c6d)});_0x3a8c44[_0x72b4e1(0x18a)](0xc9)['json'](_0x56e173);})[_0x47dd86(0x299)](this[_0x47dd86(0x52d)](_0x47dd86(0x595)),..._0x37a77f,async(_0x2d812f,_0x179485)=>{const _0x298612=_0x47dd86;let _0x150f3e=await this[_0x298612(0x238)]({'request':_0x2d812f,'schema':ci,'ClassRef':pt,'execute':(_0x857c18,_0x55af13)=>q['groupName'](_0x857c18,_0x55af13)});_0x179485['status'](0xc9)[_0x298612(0x693)](_0x150f3e);})[_0x47dd86(0x299)](this['routerPath']('groupBetterSetting'),..._0x37a77f,async(_0x4be86d,_0x5ae0cc)=>{const _0x10eae1=_0x47dd86;let _0x3fe2aa=await this[_0x10eae1(0x238)]({'request':_0x4be86d,'schema':ui,'ClassRef':gt,'execute':(_0x19cd97,_0x555fdf)=>q[_0x10eae1(0x566)](_0x19cd97,_0x555fdf)});_0x5ae0cc[_0x10eae1(0x18a)](0xc9)['json'](_0x3fe2aa);})[_0x47dd86(0x299)](this['routerPath']('groupSetting'),..._0x37a77f,async(_0x1bee33,_0x25fff7)=>{const _0x4a9277=_0x47dd86;let _0x4fa4d9=await this[_0x4a9277(0x238)]({'request':_0x1bee33,'schema':li,'ClassRef':ht,'execute':(_0x28849b,_0x42c87f)=>q[_0x4a9277(0x21d)](_0x28849b,_0x42c87f)});_0x25fff7[_0x4a9277(0x18a)](0xc9)[_0x4a9277(0x693)](_0x4fa4d9);})[_0x47dd86(0x299)](this[_0x47dd86(0x52d)]('toggleEphemeral'),..._0x37a77f,async(_0x5b9903,_0x11b1f0)=>{const _0x302400=_0x47dd86;let _0x1a7c93=await this['groupValidate']({'request':_0x5b9903,'schema':oi,'ClassRef':ft,'execute':(_0x353731,_0x34c27c)=>q[_0x302400(0x559)](_0x353731,_0x34c27c)});_0x11b1f0[_0x302400(0x18a)](0xc9)[_0x302400(0x693)](_0x1a7c93);})[_0x47dd86(0x234)](this['routerPath'](_0x47dd86(0x4ea)),..._0x37a77f,async(_0x154d31,_0x2d739a)=>{const _0x12a693=_0x47dd86;let _0x6fec41=await this[_0x12a693(0x238)]({'request':_0x154d31,'schema':xe,'ClassRef':te,'execute':(_0x956625,_0x24dbb7)=>q[_0x12a693(0x649)](_0x956625,_0x24dbb7)});_0x2d739a[_0x12a693(0x18a)](0xc8)[_0x12a693(0x693)](_0x6fec41);})[_0x47dd86(0x234)](this[_0x47dd86(0x52d)](_0x47dd86(0x383)),..._0x37a77f,async(_0x5e9d58,_0x7cd1ff)=>{const _0x45b848=_0x47dd86;let _0x20d88e=await this[_0x45b848(0x68f)]({'request':_0x5e9d58,'schema':N,'ClassRef':M,'execute':_0x5b0bd7=>q[_0x45b848(0x383)](_0x5b0bd7)});_0x7cd1ff[_0x45b848(0x18a)](0xc8)[_0x45b848(0x693)](_0x20d88e);})[_0x47dd86(0x234)](this[_0x47dd86(0x52d)](_0x47dd86(0x7e0)),..._0x37a77f,async(_0x4832ad,_0x32c8ff)=>{const _0x1133ea=_0x47dd86;let _0x75c2d8=await this[_0x1133ea(0x238)]({'request':_0x4832ad,'schema':xe,'ClassRef':te,'execute':(_0x388821,_0x36131c)=>q['findParticipants'](_0x388821,_0x36131c)});_0x32c8ff[_0x1133ea(0x18a)](0xc8)['json'](_0x75c2d8);})[_0x47dd86(0x234)](this[_0x47dd86(0x52d)]('inviteCode'),..._0x37a77f,async(_0x85e1fe,_0x4a3f34)=>{const _0x2ab33a=_0x47dd86;let _0xc84c0b=await this['groupValidate']({'request':_0x85e1fe,'schema':xe,'ClassRef':te,'execute':(_0x48017e,_0x282afc)=>q['inviteCode'](_0x48017e,_0x282afc)});_0x4a3f34[_0x2ab33a(0x18a)](0xc8)[_0x2ab33a(0x693)](_0xc84c0b);})['post'](this[_0x47dd86(0x52d)]('inviteCodeDetails'),..._0x37a77f,async(_0x2ef5c5,_0x5d96e7)=>{const _0x4f3224=_0x47dd86;let _0x38f367=await this[_0x4f3224(0x3e4)]({'request':_0x2ef5c5,'schema':Ns,'ClassRef':Pe,'execute':(_0x1bba9e,_0x491fb3)=>q[_0x4f3224(0x61b)](_0x1bba9e,_0x491fb3)});_0x5d96e7[_0x4f3224(0x18a)](0xc9)['json'](_0x38f367);})['put'](this['routerPath'](_0x47dd86(0x5dd)),..._0x37a77f,async(_0x14de9c,_0x55e186)=>{let _0x1be25e=await this['joinGroupValidate']({'request':_0x14de9c,'schema':Ns,'ClassRef':Pe,'execute':(_0x5d6453,_0xc635b)=>q['joinGroup'](_0x5d6453,_0xc635b)});_0x55e186['status'](0xc9)['json'](_0x1be25e);})[_0x47dd86(0x299)](this[_0x47dd86(0x52d)](_0x47dd86(0x4b8)),..._0x37a77f,async(_0x2d6230,_0x280ea6)=>{const _0x3a4172=_0x47dd86;let _0x1f0997=await this[_0x3a4172(0x238)]({'request':_0x2d6230,'schema':xe,'ClassRef':te,'execute':(_0x3f6741,_0x294e54)=>q[_0x3a4172(0x4b8)](_0x3f6741,_0x294e54)});_0x280ea6[_0x3a4172(0x18a)](0xc9)[_0x3a4172(0x693)](_0x1f0997);})[_0x47dd86(0x299)](this[_0x47dd86(0x52d)]('updateParticipant'),..._0x37a77f,async(_0x4a0ad0,_0x25044e)=>{const _0x53a57c=_0x47dd86;let _0x3b5853=await this[_0x53a57c(0x238)]({'request':_0x4a0ad0,'schema':ii,'ClassRef':mt,'execute':(_0xe52e34,_0x1318e2)=>q[_0x53a57c(0x2dd)](_0xe52e34,_0x1318e2)});_0x25044e[_0x53a57c(0x18a)](0xc9)[_0x53a57c(0x693)](_0x3b5853);})['delete'](this['routerPath'](_0x47dd86(0x788)),..._0x37a77f,async(_0x27ab37,_0x5a3513)=>{const _0x108493=_0x47dd86;let _0x334a01=await this[_0x108493(0x238)]({'request':_0x27ab37,'schema':{},'ClassRef':te,'execute':(_0xbed718,_0x106648)=>q['leaveGroup'](_0xbed718,_0x106648)});_0x5a3513['status'](0xc8)['json'](_0x334a01);});}},gi=require(a0_0x1b7b78(0x76a)),yt=class extends V{constructor(_0xf692c3,..._0x24c516){const _0x51f590=a0_0x1b7b78;super(),this['configService']=_0xf692c3,this['router']=(0x0,gi[_0x51f590(0x1e1)])();let _0xaef939=_0xf692c3[_0x51f590(0x234)](_0x51f590(0x6ec));this['router']['post'](_0x51f590(0x387),..._0x24c516,async(_0x300756,_0x3cd7fb)=>{const _0x338f11=_0x51f590;let {instanceName:_0x580657,apikey:_0xfd2cc9,number:_0x314fa7}=_0x300756[_0x338f11(0x72b)],_0x36475f=await de[_0x338f11(0x6d3)]({'instanceName':_0x580657,'apikey':_0xfd2cc9,'number':_0x314fa7});return _0x3cd7fb[_0x338f11(0x18a)](0xc9)[_0x338f11(0x693)](_0x36475f);})['put'](this[_0x51f590(0x52d)](_0x51f590(0x2ae)),..._0x24c516,async(_0x2b86d2,_0x2d4a0e)=>{const _0x5cd756=_0x51f590;let _0x5392f1=await this[_0x5cd756(0x68f)]({'request':_0x2b86d2,'schema':N,'ClassRef':M,'execute':_0x2d3b0e=>de[_0x5cd756(0x6a8)](_0x2d3b0e)});return _0x2d4a0e[_0x5cd756(0x18a)](0xc8)[_0x5cd756(0x693)](_0x5392f1);})[_0x51f590(0x234)](this[_0x51f590(0x52d)](_0x51f590(0x698)),..._0x24c516,async(_0x6167f6,_0x374f8a)=>{const _0x3c1311=_0x51f590;let _0x4b413d=await this['dataValidate']({'request':_0x6167f6,'schema':N,'ClassRef':M,'execute':_0x550c62=>de[_0x3c1311(0x71f)](_0x550c62)});return _0x374f8a[_0x3c1311(0x18a)](0xc8)[_0x3c1311(0x693)](_0x4b413d);})['get'](this['routerPath']('connectionState'),..._0x24c516,async(_0x10876e,_0x52a640)=>{const _0x154adf=_0x51f590;let _0x260c8e=await this[_0x154adf(0x68f)]({'request':_0x10876e,'schema':N,'ClassRef':M,'execute':_0x2663f2=>de[_0x154adf(0x396)](_0x2663f2)});return _0x52a640[_0x154adf(0x18a)](0xc8)[_0x154adf(0x693)](_0x260c8e);})['get'](this[_0x51f590(0x52d)](_0x51f590(0x20a),!0x1),..._0x24c516,async(_0x240920,_0xc70cf8)=>{const _0x23b0fb=_0x51f590;let _0x55573a=await this[_0x23b0fb(0x68f)]({'request':_0x240920,'schema':null,'ClassRef':M,'execute':_0x11c0e4=>de[_0x23b0fb(0x20a)](_0x11c0e4)});return _0xc70cf8[_0x23b0fb(0x18a)](0xc8)[_0x23b0fb(0x693)](_0x55573a);})['delete'](this[_0x51f590(0x52d)](_0x51f590(0x382)),..._0x24c516,async(_0x53bcf7,_0x3ba15a)=>{const _0x472a6b=_0x51f590;let _0x2dd689=await this[_0x472a6b(0x68f)]({'request':_0x53bcf7,'schema':N,'ClassRef':M,'execute':_0x3e34d6=>de['logout'](_0x3e34d6)});return _0x3ba15a[_0x472a6b(0x18a)](0xc8)[_0x472a6b(0x693)](_0x2dd689);})['delete'](this[_0x51f590(0x52d)]('delete'),..._0x24c516,async(_0x4e6d95,_0x5911a6)=>{const _0x28dda9=_0x51f590;let _0x413b01=await this[_0x28dda9(0x68f)]({'request':_0x4e6d95,'schema':N,'ClassRef':M,'execute':_0x5b0db9=>de['deleteInstance'](_0x5b0db9)});return _0x5911a6['status'](0xc8)[_0x28dda9(0x693)](_0x413b01);});}},mi=require('express'),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x4406a3){const _0x554219=a0_0x1b7b78;super(),this['router']=(0x0,mi['Router'])(),this[_0x554219(0x534)][_0x554219(0x509)](this[_0x554219(0x52d)](_0x554219(0x600)),..._0x4406a3,async(_0x5b1ec4,_0x2da839)=>{const _0x428393=_0x554219;let _0x2aa0cb=await this[_0x428393(0x68f)]({'request':_0x5b1ec4,'schema':Pa,'ClassRef':bt,'execute':(_0x4a87a6,_0x5909a6)=>W['sendText'](_0x4a87a6,_0x5909a6)});return _0x2da839[_0x428393(0x18a)](0xc9)[_0x428393(0x693)](_0x2aa0cb);})[_0x554219(0x509)](this[_0x554219(0x52d)]('sendMedia'),..._0x4406a3,async(_0x2361bc,_0x27ccc3)=>{const _0x4734fe=_0x554219;let _0xbd970d=await this[_0x4734fe(0x68f)]({'request':_0x2361bc,'schema':Fa,'ClassRef':De,'execute':(_0x25f455,_0x46b03f)=>W[_0x4734fe(0x642)](_0x25f455,_0x46b03f)});return _0x27ccc3[_0x4734fe(0x18a)](0xc9)['json'](_0xbd970d);})['post'](this[_0x554219(0x52d)](_0x554219(0x3e0)),..._0x4406a3,async(_0x3cea59,_0x86d3a1)=>{const _0x1d15be=_0x554219;let _0x332d06=await this['dataValidate']({'request':_0x3cea59,'schema':Ja,'ClassRef':Ct,'execute':(_0x2d87ea,_0x328bd6)=>W['sendMenu'](_0x2d87ea,_0x328bd6)});return _0x86d3a1['status'](0xc9)[_0x1d15be(0x693)](_0x332d06);})[_0x554219(0x509)](this[_0x554219(0x52d)](_0x554219(0x36e)),..._0x4406a3,async(_0x164156,_0x192390)=>{const _0x36666b=_0x554219;let _0xb36ac9=await this[_0x36666b(0x68f)]({'request':_0x164156,'schema':Ua,'ClassRef':De,'execute':(_0x36abbe,_0x5507ac)=>W['sendWhatsAppAudio'](_0x36abbe,_0x5507ac)});return _0x192390[_0x36666b(0x18a)](0xc9)[_0x36666b(0x693)](_0xb36ac9);})[_0x554219(0x509)](this[_0x554219(0x52d)](_0x554219(0x422)),..._0x4406a3,async(_0x4283ae,_0x1fcce5)=>{const _0x437892=_0x554219;let _0x5e6c09=await this[_0x437892(0x68f)]({'request':_0x4283ae,'schema':qa,'ClassRef':vt,'execute':(_0x8b8794,_0x5c55c4)=>W['sendLocation'](_0x8b8794,_0x5c55c4)});return _0x1fcce5[_0x437892(0x18a)](0xc9)[_0x437892(0x693)](_0x5e6c09);})[_0x554219(0x509)](this[_0x554219(0x52d)](_0x554219(0x5e0)),..._0x4406a3,async(_0x588b41,_0x13bfd8)=>{const _0x389f8e=_0x554219;let _0x51ab22=await this[_0x389f8e(0x68f)]({'request':_0x588b41,'schema':Va,'ClassRef':Nt,'execute':(_0x57c965,_0x552ebb)=>W[_0x389f8e(0x5e0)](_0x57c965,_0x552ebb)});return _0x13bfd8[_0x389f8e(0x18a)](0xc9)[_0x389f8e(0x693)](_0x51ab22);})['post'](this['routerPath'](_0x554219(0x303)),..._0x4406a3,async(_0x38b887,_0x2bc5eb)=>{const _0x528a42=_0x554219;let _0x29abd6=await this[_0x528a42(0x68f)]({'request':_0x38b887,'schema':Ga,'ClassRef':$t,'execute':(_0xefe3fb,_0x267369)=>W['sendContact'](_0xefe3fb,_0x267369)});return _0x2bc5eb[_0x528a42(0x18a)](0xc9)['json'](_0x29abd6);})[_0x554219(0x509)](this[_0x554219(0x52d)](_0x554219(0x8ce)),..._0x4406a3,async(_0x932768,_0x3c32b7)=>{const _0x1030e4=_0x554219;let _0x192844=await this['dataValidate']({'request':_0x932768,'schema':Ba,'ClassRef':Rt,'execute':(_0x4344e8,_0x2da77b)=>W['sendReaction'](_0x4344e8,_0x2da77b)});return _0x3c32b7['status'](0xc9)[_0x1030e4(0x693)](_0x192844);})[_0x554219(0x509)](this[_0x554219(0x52d)]('sendPoll'),..._0x4406a3,async(_0x56cf2f,_0x39a839)=>{const _0x8dfea4=_0x554219;let _0x370c34=await this[_0x8dfea4(0x68f)]({'request':_0x56cf2f,'schema':ja,'ClassRef':Mt,'execute':(_0x3dd4c0,_0x48c739)=>W[_0x8dfea4(0x423)](_0x3dd4c0,_0x48c739)});return _0x39a839[_0x8dfea4(0x18a)](0xc9)['json'](_0x370c34);})['post'](this[_0x554219(0x52d)]('sendStatus'),..._0x4406a3,async(_0x93967b,_0x3f0146)=>{const _0x32a59e=_0x554219;let _0x27558c=await this[_0x32a59e(0x68f)]({'request':_0x93967b,'schema':La,'ClassRef':St,'execute':(_0x563125,_0x2def9e)=>W[_0x32a59e(0x5ac)](_0x563125,_0x2def9e)});return _0x3f0146[_0x32a59e(0x18a)](0xc9)[_0x32a59e(0x693)](_0x27558c);})['post'](this[_0x554219(0x52d)](_0x554219(0x8cf)),..._0x4406a3,async(_0x4f2b7c,_0x28a816)=>{const _0x217989=_0x554219;let _0x4b6ec6=await this[_0x217989(0x68f)]({'request':_0x4f2b7c,'schema':ka,'ClassRef':Et,'execute':(_0x59d748,_0x51b5a7)=>W[_0x217989(0x8cf)](_0x59d748,_0x51b5a7)});return _0x28a816['status'](0xc9)[_0x217989(0x693)](_0x4b6ec6);});}},fi=require(a0_0x1b7b78(0x76a)),Tt=class{},It=class extends V{constructor(..._0x1ad80d){const _0x46272b=a0_0x1b7b78;super(),this['router']=(0x0,fi[_0x46272b(0x1e1)])(),this[_0x46272b(0x534)][_0x46272b(0x509)](this['routerPath']('set'),..._0x1ad80d,async(_0x1fe25f,_0x9c1e7c)=>{const _0x88514e=_0x46272b;let _0x2901d2=await this[_0x88514e(0x68f)]({'request':_0x1fe25f,'schema':di,'ClassRef':Tt,'execute':(_0x1ba54f,_0x596010)=>As['createWebhook'](_0x1ba54f,_0x596010)});_0x9c1e7c['status'](0xc9)[_0x88514e(0x693)](_0x2901d2);})['get'](this[_0x46272b(0x52d)](_0x46272b(0x83c)),..._0x1ad80d,async(_0x4b50aa,_0x200889)=>{const _0x3ea46b=_0x46272b;let _0xf72ab8=await this['dataValidate']({'request':_0x4b50aa,'schema':N,'ClassRef':M,'execute':_0x47f396=>As['findWebhook'](_0x47f396)});_0x200889['status'](0xc8)[_0x3ea46b(0x693)](_0xf72ab8);});}},wi=require('express'),y=new $('FlowRouter'),_t=class extends V{constructor(..._0x33765f){const _0x36e7f5=a0_0x1b7b78;super(),this[_0x36e7f5(0x534)]=(0x0,wi[_0x36e7f5(0x1e1)])(),this[_0x36e7f5(0x534)][_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x7df)),..._0x33765f,async(_0x275303,_0x52efe5)=>{const _0x5c8164=_0x36e7f5;let _0x33cc05=_0x275303['body'];y['verbose'](_0x5c8164(0x35b)),y[_0x5c8164(0x776)](_0x5c8164(0x76f)),y[_0x5c8164(0x776)](_0x275303[_0x5c8164(0x72b)]);let _0x1980b8=await this[_0x5c8164(0x68f)]({'request':_0x275303,'schema':N,'ClassRef':M,'execute':_0x1b2c69=>O[_0x5c8164(0x54b)](_0x1b2c69,_0x33cc05)});_0x52efe5[_0x5c8164(0x18a)](0xc8)[_0x5c8164(0x693)](_0x1980b8);})[_0x36e7f5(0x234)](this[_0x36e7f5(0x52d)]('scheduleMessage'),..._0x33765f,async(_0x5cbe41,_0x56779a)=>{const _0x1e6e02=_0x36e7f5;let _0x57da4f=await this['dataValidate']({'request':_0x5cbe41,'schema':N,'ClassRef':M,'execute':_0x5ed5bd=>O[_0x1e6e02(0x892)](_0x5ed5bd)});_0x56779a[_0x1e6e02(0x18a)](0xc8)[_0x1e6e02(0x693)](_0x57da4f);})['delete'](this['routerPath'](_0x36e7f5(0x43f)),..._0x33765f,async(_0x259e5b,_0x377673)=>{const _0x199a7f=_0x36e7f5;y[_0x199a7f(0x776)](_0x199a7f(0x2d0));let _0x219892=await this[_0x199a7f(0x68f)]({'request':_0x259e5b,'schema':N,'ClassRef':M,'execute':_0x1c1bf5=>O[_0x199a7f(0x43f)](_0x1c1bf5)});_0x377673['status'](0xc8)[_0x199a7f(0x693)](_0x219892);})[_0x36e7f5(0x509)](this['routerPath']('startFlow'),..._0x33765f,async(_0x55444e,_0x4d7291)=>{const _0x3c8b32=_0x36e7f5;let _0x5f249a=_0x55444e[_0x3c8b32(0x72b)];y[_0x3c8b32(0x776)](_0x3c8b32(0x83a)),y['verbose'](_0x3c8b32(0x76f)),y[_0x3c8b32(0x776)](_0x55444e['body']);let _0x21e74b=await this['dataValidate']({'request':_0x55444e,'schema':N,'ClassRef':M,'execute':_0x5f511a=>O[_0x3c8b32(0x3d6)](_0x5f511a,_0x5f249a)});_0x4d7291[_0x3c8b32(0x18a)](0xc8)[_0x3c8b32(0x693)](_0x21e74b);})['get'](this[_0x36e7f5(0x52d)](_0x36e7f5(0x17d)),..._0x33765f,async(_0x3d5036,_0x142838)=>{const _0xeedfa7=_0x36e7f5;y[_0xeedfa7(0x776)](_0xeedfa7(0x7b0));let _0x4a39ad=await this['dataValidate']({'request':_0x3d5036,'schema':N,'ClassRef':M,'execute':_0x16e62c=>O[_0xeedfa7(0x17d)](_0x16e62c)});_0x142838[_0xeedfa7(0x18a)](0xc8)[_0xeedfa7(0x693)](_0x4a39ad);})[_0x36e7f5(0x234)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x37f)),..._0x33765f,async(_0x3bb497,_0x1f4b4a)=>{const _0x559f85=_0x36e7f5;y[_0x559f85(0x776)](_0x559f85(0x62e));let _0x4846b3=await this[_0x559f85(0x68f)]({'request':_0x3bb497,'schema':N,'ClassRef':M,'execute':_0xaecdfd=>O['getAutomateSystem'](_0xaecdfd)});_0x1f4b4a[_0x559f85(0x18a)](0xc8)['json'](_0x4846b3);})[_0x36e7f5(0x509)](this['routerPath'](_0x36e7f5(0x2b1)),..._0x33765f,async(_0x2a9cc6,_0x43954b)=>{const _0x3833f3=_0x36e7f5;let _0x53b367=_0x2a9cc6[_0x3833f3(0x72b)];y[_0x3833f3(0x776)](_0x3833f3(0x895)),y[_0x3833f3(0x776)](_0x3833f3(0x76f)),y[_0x3833f3(0x776)](_0x2a9cc6[_0x3833f3(0x72b)]);let _0x14c03e=await this[_0x3833f3(0x68f)]({'request':_0x2a9cc6,'schema':N,'ClassRef':M,'execute':_0x1c3591=>O['updateAgent'](_0x1c3591,_0x53b367)});_0x43954b['status'](0xc8)[_0x3833f3(0x693)](_0x14c03e);})[_0x36e7f5(0x509)](this['routerPath'](_0x36e7f5(0x4f4)),..._0x33765f,async(_0x1d0038,_0x316ab5)=>{const _0x892825=_0x36e7f5;let _0x47b708=_0x1d0038[_0x892825(0x72b)];y[_0x892825(0x776)]('request\x20received\x20in\x20updateCustomFields'),y[_0x892825(0x776)]('request\x20body:\x20'),y[_0x892825(0x776)](_0x1d0038['body']);let _0x365d14=await this[_0x892825(0x68f)]({'request':_0x1d0038,'schema':N,'ClassRef':M,'execute':_0x362ca0=>O[_0x892825(0x4f4)](_0x362ca0,_0x47b708)});_0x316ab5['status'](0xc8)[_0x892825(0x693)](_0x365d14);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x2f4)),..._0x33765f,async(_0x3d996c,_0xc27936)=>{const _0x558846=_0x36e7f5;let _0x538c0d=_0x3d996c[_0x558846(0x72b)];y['verbose']('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x558846(0x776)](_0x558846(0x76f)),y[_0x558846(0x776)](_0x3d996c['body']);let _0x26a1e6=await this[_0x558846(0x68f)]({'request':_0x3d996c,'schema':N,'ClassRef':M,'execute':_0x5b876b=>O[_0x558846(0x2f4)](_0x5b876b,_0x538c0d)});_0xc27936[_0x558846(0x18a)](0xc8)['json'](_0x26a1e6);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x412)),..._0x33765f,async(_0x41e240,_0x378070)=>{const _0x15e727=_0x36e7f5;let _0x4e4b59=_0x41e240[_0x15e727(0x72b)];y[_0x15e727(0x776)](_0x15e727(0x5b5)),y[_0x15e727(0x776)](_0x15e727(0x76f)),y[_0x15e727(0x776)](_0x41e240['body']);let _0x51f116=await this[_0x15e727(0x68f)]({'request':_0x41e240,'schema':N,'ClassRef':M,'execute':_0x4bd9ce=>O[_0x15e727(0x412)](_0x4bd9ce,_0x4e4b59)});_0x378070[_0x15e727(0x18a)](0xc8)[_0x15e727(0x693)](_0x51f116);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x487)),..._0x33765f,async(_0x142d5e,_0x4ad06b)=>{const _0x39e4f2=_0x36e7f5;let _0x5dc9e5=_0x142d5e[_0x39e4f2(0x72b)];y[_0x39e4f2(0x776)](_0x39e4f2(0x185)),y[_0x39e4f2(0x776)]('request\x20body:\x20'),y[_0x39e4f2(0x776)](_0x142d5e[_0x39e4f2(0x72b)]);let _0x3ebcf3=await this[_0x39e4f2(0x68f)]({'request':_0x142d5e,'schema':N,'ClassRef':M,'execute':_0x6c1577=>O[_0x39e4f2(0x487)](_0x6c1577,_0x5dc9e5)});_0x4ad06b[_0x39e4f2(0x18a)](0xc8)[_0x39e4f2(0x693)](_0x3ebcf3);})[_0x36e7f5(0x509)](this['routerPath'](_0x36e7f5(0x366)),..._0x33765f,async(_0x1c53c4,_0x25e3e9)=>{const _0x16abff=_0x36e7f5;let _0x8cc8f4=_0x1c53c4[_0x16abff(0x72b)];y['verbose'](_0x16abff(0x433)),y[_0x16abff(0x776)](_0x16abff(0x76f)),y[_0x16abff(0x776)](_0x1c53c4[_0x16abff(0x72b)]);let _0x23b9ca=await this['dataValidate']({'request':_0x1c53c4,'schema':N,'ClassRef':M,'execute':_0x15ba78=>O[_0x16abff(0x366)](_0x15ba78,_0x8cc8f4)});_0x25e3e9[_0x16abff(0x18a)](0xc8)['json'](_0x23b9ca);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x317)),..._0x33765f,async(_0x283425,_0x309de1)=>{const _0x4a157d=_0x36e7f5;let _0x3d4e6b=_0x283425['body'];y[_0x4a157d(0x776)](_0x4a157d(0x450)),y[_0x4a157d(0x776)](_0x4a157d(0x76f)),y[_0x4a157d(0x776)](_0x283425[_0x4a157d(0x72b)]);let _0x36a914=await this[_0x4a157d(0x68f)]({'request':_0x283425,'schema':N,'ClassRef':M,'execute':_0x1de376=>O[_0x4a157d(0x317)](_0x1de376,_0x3d4e6b)});_0x309de1[_0x4a157d(0x18a)](0xc8)[_0x4a157d(0x693)](_0x36a914);})[_0x36e7f5(0x30b)](this['routerPath'](_0x36e7f5(0x3d4)),..._0x33765f,async(_0x208bb6,_0x5a3e42)=>{const _0x23f0c9=_0x36e7f5;let _0x11dfaa=_0x208bb6['body'];y['verbose'](_0x23f0c9(0x5c8)),y['verbose'](_0x23f0c9(0x76f)),y[_0x23f0c9(0x776)](_0x208bb6['body']);let _0x1d7083=await this[_0x23f0c9(0x68f)]({'request':_0x208bb6,'schema':N,'ClassRef':M,'execute':_0x3e0238=>O['deleteConversation'](_0x3e0238,_0x11dfaa)});_0x5a3e42[_0x23f0c9(0x18a)](0xc8)['json'](_0x1d7083);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x1ff)),..._0x33765f,async(_0x7348e3,_0x4036d5)=>{const _0x198074=_0x36e7f5;let _0x183648=_0x7348e3[_0x198074(0x72b)],_0x2dddb4=_0x7348e3['headers'][_0x198074(0x41c)];y['verbose']('request\x20received\x20in\x20createFlow'),y[_0x198074(0x776)]('request\x20body:\x20'),y[_0x198074(0x776)](_0x7348e3[_0x198074(0x72b)]);let _0x3626b3=await this['dataValidate']({'request':_0x7348e3,'schema':N,'ClassRef':M,'execute':_0x323e5a=>O[_0x198074(0x75a)](_0x323e5a,_0x183648,_0x2dddb4)});_0x4036d5['status'](0xc8)[_0x198074(0x693)](_0x3626b3);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x847)),..._0x33765f,async(_0x1bcfd7,_0xfc431a)=>{const _0x3c7f38=_0x36e7f5;let _0x21ab52=_0x1bcfd7[_0x3c7f38(0x72b)],_0x56ee42=_0x1bcfd7[_0x3c7f38(0x275)][_0x3c7f38(0x41c)];y[_0x3c7f38(0x776)]('request\x20received\x20in\x20editFlow'),y[_0x3c7f38(0x776)](_0x3c7f38(0x76f)),y[_0x3c7f38(0x776)](_0x1bcfd7[_0x3c7f38(0x72b)]),delete _0x21ab52[_0x3c7f38(0x85c)],delete _0x21ab52[_0x3c7f38(0x1f0)],delete _0x21ab52[_0x3c7f38(0x519)],delete _0x21ab52['conditions'];let _0xcf77a0=await this['dataValidate']({'request':_0x1bcfd7,'schema':N,'ClassRef':M,'execute':_0x2c7adc=>O['editFlow'](_0x2c7adc,_0x21ab52,_0x56ee42)});_0xfc431a[_0x3c7f38(0x18a)](0xc8)[_0x3c7f38(0x693)](_0xcf77a0);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x758)),..._0x33765f,async(_0x127592,_0x16aaef)=>{const _0x4a9e99=_0x36e7f5;let _0x606441=_0x127592[_0x4a9e99(0x72b)];y[_0x4a9e99(0x776)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x4a9e99(0x76f)),y[_0x4a9e99(0x776)](_0x127592[_0x4a9e99(0x72b)]);let _0x1b5924=await this[_0x4a9e99(0x68f)]({'request':_0x127592,'schema':N,'ClassRef':M,'execute':_0x47bcba=>O['editFlowBlock'](_0x47bcba,_0x606441)});_0x16aaef[_0x4a9e99(0x18a)](0xc8)['json'](_0x1b5924);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x61d)),..._0x33765f,async(_0x1b8ca7,_0x5a0010)=>{const _0x589830=_0x36e7f5;let _0x146c0f=_0x1b8ca7[_0x589830(0x72b)];y[_0x589830(0x776)](_0x589830(0x407)),y[_0x589830(0x776)](_0x589830(0x76f)),y[_0x589830(0x776)](_0x1b8ca7[_0x589830(0x72b)]);let _0x43ad75=await this[_0x589830(0x68f)]({'request':_0x1b8ca7,'schema':N,'ClassRef':M,'execute':_0x460a2c=>O[_0x589830(0x306)](_0x460a2c,_0x146c0f)});_0x5a0010[_0x589830(0x18a)](0xc8)[_0x589830(0x693)](_0x43ad75);})[_0x36e7f5(0x509)](this['routerPath'](_0x36e7f5(0x49a)),..._0x33765f,async(_0x4a060e,_0x454d5e)=>{const _0x5ad17f=_0x36e7f5;let _0x456863=_0x4a060e['body'];y[_0x5ad17f(0x776)](_0x5ad17f(0x407)),y[_0x5ad17f(0x776)](_0x5ad17f(0x76f)),y[_0x5ad17f(0x776)](_0x4a060e[_0x5ad17f(0x72b)]);let _0xd683d0=await this['dataValidate']({'request':_0x4a060e,'schema':N,'ClassRef':M,'execute':_0x35f7f5=>O[_0x5ad17f(0x877)](_0x35f7f5,_0x456863)});_0x454d5e['status'](0xc8)[_0x5ad17f(0x693)](_0xd683d0);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x1af)),..._0x33765f,async(_0x56c54f,_0x21429c)=>{const _0x3e9098=_0x36e7f5;let _0xa3af4f=_0x56c54f[_0x3e9098(0x72b)];y['verbose'](_0x3e9098(0x373)),y[_0x3e9098(0x776)](_0x3e9098(0x76f)),y[_0x3e9098(0x776)](_0x56c54f[_0x3e9098(0x72b)]);let _0x364666=await this[_0x3e9098(0x68f)]({'request':_0x56c54f,'schema':N,'ClassRef':M,'execute':_0x333135=>O[_0x3e9098(0x40b)](_0x333135,_0xa3af4f)});_0x21429c[_0x3e9098(0x18a)](0xc8)[_0x3e9098(0x693)](_0x364666);})[_0x36e7f5(0x509)](this['routerPath'](_0x36e7f5(0x606)),..._0x33765f,async(_0x293b21,_0x1e3368)=>{const _0x299d78=_0x36e7f5;let _0xf6bb26=_0x293b21[_0x299d78(0x72b)];y['verbose'](_0x299d78(0x40e)),y[_0x299d78(0x776)](_0x299d78(0x76f)),y[_0x299d78(0x776)](_0x293b21['body']);let _0xd107c5=await this[_0x299d78(0x68f)]({'request':_0x293b21,'schema':N,'ClassRef':M,'execute':_0x11d1cf=>O['editFlowCondition'](_0x11d1cf,_0xf6bb26)});_0x1e3368[_0x299d78(0x18a)](0xc8)[_0x299d78(0x693)](_0xd107c5);})['post'](this[_0x36e7f5(0x52d)](_0x36e7f5(0x25e)),..._0x33765f,async(_0x433195,_0x5a1d11)=>{const _0x5144a5=_0x36e7f5;let _0x1cfec2=_0x433195['body'];y[_0x5144a5(0x776)](_0x5144a5(0x56f)),y[_0x5144a5(0x776)](_0x5144a5(0x76f)),y[_0x5144a5(0x776)](_0x433195[_0x5144a5(0x72b)]);let _0x56d347=await this[_0x5144a5(0x68f)]({'request':_0x433195,'schema':N,'ClassRef':M,'execute':_0x222dd9=>O['editFlowVariable'](_0x222dd9,_0x1cfec2)});_0x5a1d11[_0x5144a5(0x18a)](0xc8)['json'](_0x56d347);})[_0x36e7f5(0x509)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x3f9)),..._0x33765f,async(_0x37563f,_0x128dc5)=>{const _0x56c28a=_0x36e7f5;let _0x2bf83e=_0x37563f[_0x56c28a(0x72b)];y[_0x56c28a(0x776)](_0x56c28a(0x1a4)),y[_0x56c28a(0x776)](_0x56c28a(0x76f)),y['verbose'](_0x37563f[_0x56c28a(0x72b)]);let _0x3a9ca7=await this[_0x56c28a(0x68f)]({'request':_0x37563f,'schema':N,'ClassRef':M,'execute':_0x35542d=>O[_0x56c28a(0x651)](_0x35542d,_0x2bf83e)});_0x128dc5[_0x56c28a(0x18a)](0xc8)['json'](_0x3a9ca7);})['delete'](this['routerPath'](_0x36e7f5(0x58a)),..._0x33765f,async(_0x4ac6ea,_0x37e044)=>{const _0x173f08=_0x36e7f5;let _0x55aa8d=_0x4ac6ea[_0x173f08(0x72b)];y['verbose'](_0x173f08(0x30f)),y[_0x173f08(0x776)](_0x173f08(0x76f)),y[_0x173f08(0x776)](_0x4ac6ea[_0x173f08(0x72b)]);let _0x248426=await this[_0x173f08(0x68f)]({'request':_0x4ac6ea,'schema':N,'ClassRef':M,'execute':_0x165e86=>O[_0x173f08(0x3f7)](_0x165e86,_0x55aa8d)});_0x37e044[_0x173f08(0x18a)](0xc8)[_0x173f08(0x693)](_0x248426);})[_0x36e7f5(0x234)](this[_0x36e7f5(0x52d)](_0x36e7f5(0x7b4)),..._0x33765f,async(_0x1e873b,_0x57139c)=>{const _0x187e3b=_0x36e7f5;y[_0x187e3b(0x776)](_0x187e3b(0x39f));let _0x4217d7=await this[_0x187e3b(0x68f)]({'request':_0x1e873b,'schema':N,'ClassRef':M,'execute':_0x11df80=>O[_0x187e3b(0x468)](_0x11df80)});_0x57139c[_0x187e3b(0x18a)](0xc8)['json'](_0x4217d7);});}},Mi=I(require(a0_0x1b7b78(0x4a3))),se={};function yi(_0x37b865,_0x1b4369,_0x163652,_0x33e146){se[_0x37b865]||(se[_0x37b865]={}),se[_0x37b865][_0x1b4369]={'id':_0x1b4369,'response':_0x163652,'events':_0x33e146};}function bi(_0x3370b9,_0x4edf27){!se[_0x3370b9]||!se[_0x3370b9][_0x4edf27]||delete se[_0x3370b9][_0x4edf27];}function F(_0x13b463,_0x10742a,_0x224483){const _0xf51001=a0_0x1b7b78;if(!se[_0x13b463])return;let _0x304ce1='data:\x20'+JSON['stringify'](_0x224483)+'\x0a\x0a';Object[_0xf51001(0x379)](se[_0x13b463])[_0xf51001(0x52e)](_0x5d2137=>{const _0x465334=_0xf51001;_0x5d2137['events'][_0x465334(0x5a5)](_0x10742a)&&_0x5d2137['response'][_0x465334(0x75e)](_0x304ce1);});}function Si(){const _0x2a59f5=a0_0x1b7b78;let _0x1b2d42={};for(let _0x2a67c9 in se)_0x1b2d42[_0x2a67c9]=Object[_0x2a59f5(0x379)](se[_0x2a67c9])[_0x2a59f5(0x686)](_0x3d7f52=>({'id':_0x3d7f52['id'],'events':_0x3d7f52[_0x2a59f5(0x72e)]}));return _0x1b2d42;}var Ci=require(a0_0x1b7b78(0x5c6)),Is=require(a0_0x1b7b78(0x782)),Ts=class{},To=new Is[(a0_0x1b7b78(0x854))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Io=new Is[(a0_0x1b7b78(0x854))]({'_id':{'type':String,'default':a0_0x1b7b78(0x1aa)},'WebhookGlobal':{'type':To},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x1b7b78(0x6f7)](Ts[a0_0x1b7b78(0x4a9)],Io,a0_0x1b7b78(0x1f7)),_o=Mi[a0_0x1b7b78(0x7ac)][a0_0x1b7b78(0x44f)](__dirname,a0_0x1b7b78(0x3d2)),ke=(0x0,Ot[a0_0x1b7b78(0x1e1)])(),Oo=S[a0_0x1b7b78(0x234)]('AUTHENTICATION')[a0_0x1b7b78(0x33d)],re=[Aa,Ta,Oa[Oo]];ke['use'](a0_0x1b7b78(0x709),Ot[a0_0x1b7b78(0x7ac)][a0_0x1b7b78(0x62b)](_o))[a0_0x1b7b78(0x234)]('/events/:instance',async(_0x4b2ba6,_0x3b8fa4)=>{const _0xdcc9ac=a0_0x1b7b78;console['log'](_0xdcc9ac(0x276));let _0x5b4e17=_0x4b2ba6[_0xdcc9ac(0x810)][_0xdcc9ac(0x60b)],_0x35a2a3=(_0x4b2ba6['query'][_0xdcc9ac(0x72e)]||'')[_0xdcc9ac(0x8f1)](','),_0x23aca5=(0x0,Ci['v4'])();console[_0xdcc9ac(0x315)]('Instance\x20ID:',_0x5b4e17),console[_0xdcc9ac(0x315)]('Subscribed\x20Events:',_0x35a2a3);let _0x3d4c4b=S[_0xdcc9ac(0x234)](_0xdcc9ac(0x6ec))[_0xdcc9ac(0x255)],_0x10380b=_0x4b2ba6['query'][_0xdcc9ac(0x41c)];if(console[_0xdcc9ac(0x315)](_0xdcc9ac(0x365),_0x10380b),_0x3d4c4b[_0xdcc9ac(0x1bf)]!==_0x10380b){console[_0xdcc9ac(0x315)](_0xdcc9ac(0x6a9));try{let _0x334a79=await fe[_0xdcc9ac(0x2e8)][_0xdcc9ac(0x83c)](_0x5b4e17);if(console[_0xdcc9ac(0x315)](_0xdcc9ac(0x5c9),_0x334a79),!_0x334a79||_0x334a79[_0xdcc9ac(0x41c)]!==_0x10380b)return console['log'](_0xdcc9ac(0x27b)),_0x3b8fa4[_0xdcc9ac(0x18a)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0xa0600d){return console[_0xdcc9ac(0x84d)](_0xdcc9ac(0x410),_0xa0600d),_0x3b8fa4[_0xdcc9ac(0x18a)](0x191)[_0xdcc9ac(0x270)](_0xdcc9ac(0x1a3));}}if(!await _e(_0x5b4e17))return _0x3b8fa4['status'](0x194)[_0xdcc9ac(0x270)]('Instância\x20não\x20encontrada.');_0x3b8fa4[_0xdcc9ac(0x87b)](_0xdcc9ac(0x2af),_0xdcc9ac(0x6c0)),_0x3b8fa4[_0xdcc9ac(0x87b)](_0xdcc9ac(0x4fb),_0xdcc9ac(0x594)),_0x3b8fa4[_0xdcc9ac(0x87b)](_0xdcc9ac(0x6b1),_0xdcc9ac(0x763)),_0x3b8fa4[_0xdcc9ac(0x826)]();let _0x5d1e40=_0xdcc9ac(0x240)+JSON[_0xdcc9ac(0x5b9)]({'info':_0xdcc9ac(0x7c8)})+'\x0a\x0a';_0x3b8fa4[_0xdcc9ac(0x75e)](_0x5d1e40),yi(_0x5b4e17,_0x23aca5,_0x3b8fa4,_0x35a2a3),_0x4b2ba6['on'](_0xdcc9ac(0x42f),()=>{const _0x20790b=_0xdcc9ac;console[_0x20790b(0x315)](_0x20790b(0x50a)+_0x5b4e17),bi(_0x5b4e17,_0x23aca5);});}),ke[a0_0x1b7b78(0x509)](a0_0x1b7b78(0x7d6),async(_0x1cd00a,_0x3a9146)=>{const _0x4601b8=a0_0x1b7b78;console[_0x4601b8(0x315)](_0x4601b8(0x70e));let _0x51db60=_0x1cd00a[_0x4601b8(0x810)][_0x4601b8(0x60b)],_0x4be1eb=_0x1cd00a[_0x4601b8(0x810)][_0x4601b8(0x875)],_0xd497b8=_0x1cd00a[_0x4601b8(0x7f1)]['remoteJid']||'',_0x58a7f0=_0x1cd00a[_0x4601b8(0x72b)];console[_0x4601b8(0x315)]('Instance\x20Name:',_0x51db60),console[_0x4601b8(0x315)](_0x4601b8(0x635),_0x4be1eb),console[_0x4601b8(0x315)]('RemoteJid:',_0xd497b8),console[_0x4601b8(0x315)]('Request\x20Body:',_0x58a7f0);try{if(!await _e(_0x51db60))return _0x3a9146['status'](0x194)['send']('Instância\x20não\x20encontrada.');let _0x540dce=await O[_0x4601b8(0x288)](_0x51db60,_0x4be1eb,_0xd497b8,_0x58a7f0);_0x3a9146[_0x4601b8(0x270)](_0x540dce);}catch(_0xbd9eb0){console[_0x4601b8(0x84d)](_0xbd9eb0),_0x3a9146[_0x4601b8(0x18a)](0x1f4)[_0x4601b8(0x270)](_0x4601b8(0x650));}}),ke[a0_0x1b7b78(0x234)]('/clients-info',(_0x3cc80b,_0x161145)=>{let _0x1d58fc=Si();_0x161145['json'](_0x1d58fc);})['get']('/',(_0x49ac1c,_0x5b51b7)=>{const _0x40fd17=a0_0x1b7b78;let _0x1e06ed=S[_0x40fd17(0x234)]('SERVER')[_0x40fd17(0x448)];if(_0x1e06ed){let _0x2ab095=encodeURIComponent(''+_0x1e06ed);_0x5b51b7[_0x40fd17(0x335)](_0x40fd17(0x46c)+_0x2ab095);return;}let _0x1e777d=S[_0x40fd17(0x234)](_0x40fd17(0x38f)),_0x5000c8=_0x1e777d&&_0x1e777d[_0x40fd17(0x632)]['split']('/')[0x4];if(_0x5000c8){let _0x435f99=encodeURIComponent('https://'+_0x5000c8);_0x5b51b7['redirect'](_0x40fd17(0x46c)+_0x435f99);}else _0x5b51b7[_0x40fd17(0x335)](_0x40fd17(0x6cd));})[a0_0x1b7b78(0x299)](a0_0x1b7b78(0x49c),...re,async(_0x4b249f,_0x56b318)=>{const _0x5a0477=a0_0x1b7b78;try{console[_0x5a0477(0x315)](_0x5a0477(0x8b2)),_0x56b318[_0x5a0477(0x18a)](0xc8)[_0x5a0477(0x693)]({'message':_0x5a0477(0x313)}),_0x56b318['on'](_0x5a0477(0x738),()=>process[_0x5a0477(0x352)](0x0));}catch(_0x4aa1bf){console[_0x5a0477(0x84d)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x4aa1bf),_0x56b318['status'](0x1f4)[_0x5a0477(0x693)]({'message':_0x5a0477(0x6fb)});}})['put'](a0_0x1b7b78(0x7af),...re,async(_0x4f95d1,_0xdc3552)=>{const _0x5c249b=a0_0x1b7b78;try{let _0x2c5acd=_0x4f95d1['body'];await ve[_0x5c249b(0x6b6)]({},{'$set':_0x2c5acd},{'upsert':!0x0});let _0x239b14=await ve[_0x5c249b(0x547)]();_0xdc3552[_0x5c249b(0x693)](_0x239b14);}catch(_0x1f1af5){_0xdc3552['status'](0x190)[_0x5c249b(0x270)](_0x1f1af5[_0x5c249b(0x272)]);}})[a0_0x1b7b78(0x234)](a0_0x1b7b78(0x7af),...re,async(_0x4436a5,_0x48118b)=>{const _0x6fb43f=a0_0x1b7b78;try{let _0x49bc75=await ve[_0x6fb43f(0x547)]();if(!_0x49bc75)return _0x48118b[_0x6fb43f(0x693)]({});_0x48118b['json'](_0x49bc75);}catch(_0x211bab){_0x48118b['status'](0x1f4)[_0x6fb43f(0x270)](_0x211bab[_0x6fb43f(0x272)]);}})[a0_0x1b7b78(0x47a)]('/instance',new yt(S,...re)['router'])[a0_0x1b7b78(0x47a)](a0_0x1b7b78(0x685),new At(...re)[a0_0x1b7b78(0x534)])[a0_0x1b7b78(0x47a)](a0_0x1b7b78(0x1b9),new ct(...re)[a0_0x1b7b78(0x534)])[a0_0x1b7b78(0x47a)](a0_0x1b7b78(0x765),new wt(...re)[a0_0x1b7b78(0x534)])['use'](a0_0x1b7b78(0x252),new It(...re)[a0_0x1b7b78(0x534)])[a0_0x1b7b78(0x47a)](a0_0x1b7b78(0x473),new _t(...re)[a0_0x1b7b78(0x534)]);var m=class{constructor(..._0x444b7f){const _0xf9abac=a0_0x1b7b78;throw{'status':0x190,'error':'Bad\x20Request','message':_0x444b7f[_0xf9abac(0x245)]>0x0?_0x444b7f:void 0x0};}},ie=class{constructor(..._0x61c095){const _0x3ea290=a0_0x1b7b78;throw{'status':0x191,'error':_0x3ea290(0x7ff),'message':_0x61c095[_0x3ea290(0x245)]>0x0?_0x61c095:void 0x0};}},Z=class{constructor(..._0x240395){const _0x367f23=a0_0x1b7b78;throw{'status':0x193,'error':'Forbidden','message':_0x240395[_0x367f23(0x245)]>0x0?_0x240395:void 0x0};}},U=class{constructor(..._0x5b7401){const _0x320fdf=a0_0x1b7b78;throw{'status':0x194,'error':_0x320fdf(0x35d),'message':_0x5b7401['length']>0x0?_0x5b7401:void 0x0};}},x=class{constructor(..._0x9f2fd2){const _0x565695=a0_0x1b7b78;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x9f2fd2[_0x565695(0x245)]>0x0?_0x9f2fd2:void 0x0};}},we=require('@whiskeysockets/baileys');async function _s(_0x1ea910){const _0x29672d=a0_0x1b7b78;let _0x42f447=new $(_s[_0x29672d(0x4a9)]),_0x3e6f8d=T['getClient'](),_0x8f720=_0x3e6f8d['db'](S[_0x29672d(0x234)]('DATABASE')['CONNECTION']['DB_PREFIX_NAME']+_0x29672d(0x7fd))[_0x29672d(0x7f5)](_0x1ea910),_0xff6a9b=async(_0xcdda6e,_0x49bd72)=>{const _0x712960=_0x29672d;try{return await _0x3e6f8d[_0x712960(0x698)](),await _0x8f720[_0x712960(0x304)]({'_id':_0x49bd72},JSON[_0x712960(0x599)](JSON['stringify'](_0xcdda6e,we[_0x712960(0x8b6)][_0x712960(0x23d)])),{'upsert':!0x0});}catch{}},_0x1a6d04=async _0x4858ca=>{const _0x5e3577=_0x29672d;try{await _0x3e6f8d[_0x5e3577(0x698)]();let _0x9f5d7=await _0x8f720[_0x5e3577(0x547)]({'_id':_0x4858ca}),_0x42f607=JSON['stringify'](_0x9f5d7);return JSON[_0x5e3577(0x599)](_0x42f607,we[_0x5e3577(0x8b6)]['reviver']);}catch{}},_0x18f33d=async _0x3da4e4=>{const _0x495116=_0x29672d;try{return await _0x3e6f8d[_0x495116(0x698)](),await _0x8f720[_0x495116(0x869)]({'_id':_0x3da4e4});}catch{}},_0x464cb7=await _0x1a6d04(_0x29672d(0x73f))||(0x0,we[_0x29672d(0x544)])();return{'state':{'creds':_0x464cb7,'keys':{'get':async(_0xe4bd1,_0x3be82f)=>{const _0x226b4e=_0x29672d;let _0x39acd7={};return await Promise[_0x226b4e(0x586)](_0x3be82f[_0x226b4e(0x686)](async _0x2329cf=>{const _0xca5113=_0x226b4e;let _0x205652=await _0x1a6d04(_0xe4bd1+'-'+_0x2329cf);_0xe4bd1==='app-state-sync-key'&&_0x205652&&(_0x205652=we['proto']['Message'][_0xca5113(0x5f2)][_0xca5113(0x2a2)](_0x205652)),_0x39acd7[_0x2329cf]=_0x205652;})),_0x39acd7;},'set':async _0xce8f6a=>{let _0x130610=[];for(let _0x2a5427 in _0xce8f6a)for(let _0x5242e5 in _0xce8f6a[_0x2a5427]){let _0x2d0d91=_0xce8f6a[_0x2a5427][_0x5242e5],_0x30ee1b=_0x2a5427+'-'+_0x5242e5;_0x130610['push'](_0x2d0d91?_0xff6a9b(_0x2d0d91,_0x30ee1b):_0x18f33d(_0x30ee1b));}await Promise['all'](_0x130610);}}},'saveCreds':async()=>_0xff6a9b(_0x464cb7,_0x29672d(0x73f))};}var ks=I(require(a0_0x1b7b78(0x695))),Ls=I(require(a0_0x1b7b78(0x2ce))),Dt=require(a0_0x1b7b78(0x397)),Ei=require('@redis/client'),Pt=require(a0_0x1b7b78(0x397)),xt;function xo(_0x3ae188){const _0x26b953=a0_0x1b7b78;return xt||(xt=(0x0,Ei['createClient'])({'url':_0x3ae188[_0x26b953(0x4b9)]}),xt['connect']()),xt;}var pe=class u{constructor(_0x2838b4,_0x19c875){const _0x1b1a96=a0_0x1b7b78;this['redisEnv']=_0x2838b4,this[_0x1b1a96(0x2e9)]=_0x19c875,this[_0x1b1a96(0x69f)]=new $(u[_0x1b1a96(0x4a9)]),this[_0x1b1a96(0x567)]=xo(_0x2838b4);}set[a0_0x1b7b78(0x7cf)](_0x367e27){const _0xd6f881=a0_0x1b7b78;this[_0xd6f881(0x2e9)]=_0x367e27;}async[a0_0x1b7b78(0x839)](){const _0x5c6377=a0_0x1b7b78;try{return await this['client'][_0x5c6377(0x3b2)]([_0x5c6377(0x51a),this[_0x5c6377(0x8c7)]['PREFIX_KEY']+':*']);}catch(_0xdf601){this[_0x5c6377(0x69f)][_0x5c6377(0x84d)](_0xdf601);}}async[a0_0x1b7b78(0x6f3)](_0x2fd766,_0x46ec1f){const _0x44a3fb=a0_0x1b7b78;try{let _0x25011e=JSON[_0x44a3fb(0x5b9)](_0x46ec1f,Pt[_0x44a3fb(0x8b6)][_0x44a3fb(0x23d)]);return await this[_0x44a3fb(0x567)][_0x44a3fb(0x47c)](this['redisEnv'][_0x44a3fb(0x840)]+':'+this[_0x44a3fb(0x2e9)],_0x2fd766,_0x25011e);}catch(_0x333213){this[_0x44a3fb(0x69f)]['error'](_0x333213);}}async[a0_0x1b7b78(0x24f)](){const _0x25d2fc=a0_0x1b7b78;try{let _0x26b87e=await this['client'][_0x25d2fc(0x177)](this[_0x25d2fc(0x8c7)][_0x25d2fc(0x840)]+':'+this[_0x25d2fc(0x2e9)]);if(_0x26b87e){for(let _0x39cc53 in _0x26b87e)Object['prototype']['hasOwnProperty']['call'](_0x26b87e,_0x39cc53)&&(_0x26b87e[_0x39cc53]=JSON['parse'](_0x26b87e[_0x39cc53],Pt['BufferJSON'][_0x25d2fc(0x729)]));return _0x26b87e;}}catch(_0x54cb4a){this[_0x25d2fc(0x69f)][_0x25d2fc(0x84d)](_0x54cb4a);}}async['readData'](_0x2d0cc6){const _0x34ecda=a0_0x1b7b78;try{let _0x5a6477=await this[_0x34ecda(0x567)][_0x34ecda(0x8f3)](this[_0x34ecda(0x8c7)]['PREFIX_KEY']+':'+this['instanceName'],_0x2d0cc6);if(_0x5a6477)return JSON[_0x34ecda(0x599)](_0x5a6477,Pt['BufferJSON'][_0x34ecda(0x729)]);}catch(_0xac626){this[_0x34ecda(0x69f)][_0x34ecda(0x84d)](_0xac626);}}async[a0_0x1b7b78(0x446)](_0x57b9c6){const _0x385846=a0_0x1b7b78;try{return await this[_0x385846(0x567)][_0x385846(0x454)](this[_0x385846(0x8c7)][_0x385846(0x840)]+':'+this[_0x385846(0x2e9)],_0x57b9c6);}catch(_0x18a473){this[_0x385846(0x69f)]['error'](_0x18a473);}}async['delAll'](_0xb5d0ec){const _0x2ab027=a0_0x1b7b78;try{return await this[_0x2ab027(0x567)][_0x2ab027(0x3c9)](_0xb5d0ec||this[_0x2ab027(0x8c7)][_0x2ab027(0x840)]+':'+this[_0x2ab027(0x2e9)]);}catch(_0x12ff9a){this[_0x2ab027(0x69f)]['error'](_0x12ff9a);}}};async function Os(_0x269af7,_0x50af43){const _0x4b16e7=a0_0x1b7b78;let _0x1ca5d2=new $(Os[_0x4b16e7(0x4a9)]),_0x3fc829=new pe(_0x269af7,_0x50af43),_0x50bbe2=async(_0xd1f580,_0x26eabd)=>{const _0x6561c8=_0x4b16e7;try{return await _0x3fc829[_0x6561c8(0x6f3)](_0x26eabd,_0xd1f580);}catch(_0x48e778){return _0x1ca5d2['error']({'localError':'writeData','error':_0x48e778});}},_0x29de00=async _0xcd0d4=>{const _0xfc0d6b=_0x4b16e7;try{return await _0x3fc829[_0xfc0d6b(0x17c)](_0xcd0d4);}catch(_0x1e2602){_0x1ca5d2[_0xfc0d6b(0x84d)]({'readData':_0xfc0d6b(0x6f3),'error':_0x1e2602});return;}},_0x2fd2ab=async _0x4412c7=>{const _0x1f366e=_0x4b16e7;try{return await _0x3fc829[_0x1f366e(0x446)](_0x4412c7);}catch(_0x5c2773){_0x1ca5d2[_0x1f366e(0x84d)]({'readData':'removeData','error':_0x5c2773});}},_0x21b570=await _0x29de00(_0x4b16e7(0x73f))||(0x0,Dt[_0x4b16e7(0x544)])();return{'state':{'creds':_0x21b570,'keys':{'get':async(_0x460535,_0x4d968f)=>{const _0x191531=_0x4b16e7;let _0x3fe27e={};return await Promise[_0x191531(0x586)](_0x4d968f[_0x191531(0x686)](async _0xc8904a=>{const _0x270927=_0x191531;let _0x67c821=await _0x29de00(_0x460535+'-'+_0xc8904a);_0x460535===_0x270927(0x85f)&&_0x67c821&&(_0x67c821=Dt[_0x270927(0x3b1)][_0x270927(0x66e)][_0x270927(0x5f2)]['fromObject'](_0x67c821)),_0x3fe27e[_0xc8904a]=_0x67c821;})),_0x3fe27e;},'set':async _0x34a5c0=>{const _0x4a13a5=_0x4b16e7;let _0x23fc7e=[];for(let _0x4ec445 in _0x34a5c0)for(let _0x30ad05 in _0x34a5c0[_0x4ec445]){let _0x11b461=_0x34a5c0[_0x4ec445][_0x30ad05],_0x381e72=_0x4ec445+'-'+_0x30ad05;_0x23fc7e[_0x4a13a5(0x184)](_0x11b461?await _0x50bbe2(_0x11b461,_0x381e72):await _0x2fd2ab(_0x381e72));}await Promise[_0x4a13a5(0x586)](_0x23fc7e);}}},'saveCreds':async()=>await _0x50bbe2(_0x21b570,_0x4b16e7(0x73f))};}function a0_0x4ce5(){const _0x39b342=['waitingMenu_text','express-async-errors','upsertChats','params','):Desconectado,\x20parando\x20execução.','Instance\x20deleted','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','leadInfo.atendimentoAberto','bodyString','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','delayChatLabel_RETRY_DELAY_MS','from','ignoreGroups','$pull','boolean','race','fetchProfile','):\x20Criando\x20fluxo...','globalShow','\x1b[30m%s\x1b[0m','):\x20Enviando\x20texto','valid','env','DB_PREFIX_NAME','Opção\x20Falsa\x20','flushHeaders','Last\x20message\x20not\x20found\x20for\x20number:\x20','profilePicture','):Fetching\x20business\x20profile','CREDENTIALS','Safari','deletedCount','#ff9484','useMultiFileAuthState','removeIPv6','beautifyWithPlaceholders','):\x20Limpando\x20AutomateSystem','prepareWAMessageMedia','):\x20conversation.status:\x20','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','MESSAGES_UPDATE','fetchProfilePictureUrl','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','instanceKeys','request\x20received\x20in\x20starFlow','relayMessage','find','evaluateConditionTest','release','instanceCount','PREFIX_KEY','local_map','start','ListType','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','success','subjectTime','editflow','sendPresenceUpdate','):\x20Removendo\x20\x27','has','jwt','admin','error','presence','validate','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','uazapiSendText','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','message_normalized','Schema','node-mime-types','\x20-\x20ON:\x20','readFile','media','_day','transformScheduledMessagesByType','4461709sKhMgm','blocks','update','chat','app-state-sync-key','locked','LabelModel','/64\x20dev\x20','isValidIPv6Config','app','-whatsapp-api','Authentication\x20error','messageId','conditions','deleteOne','util','startCommand','lean','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','notify','errors','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','backgroundColor','messages.update','leadInfo','\x20segundos\x20antes\x20de\x20reconectar...','startID','flowStopConversation','editFlowVaredit','ini','.ppt','formatVCard','setHeader','\x20-y','bodyStringErrorParse','WARN','chats.delete','Erro\x20ao\x20atualizar\x20agendamento\x20','scheduleNextCheck','tags','messagesLogs','messageType','buttonOrList_id','enabled','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','):\x20mediaMessageInfoId\x20:\x20','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','authModel','lastReceivedMessage','PROXY','sticker','GROUPS_UPSERT','.ogg','pollErrorMessage','desativadoFluxoAte','getScheduleMessage','615qOEKNk','generateRandomIPv6','request\x20received\x20in\x20updateAgent','contextInfo','buttonParamsJson','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','stopIfLastReturnedError','authorization','getMonth','STORE_CLEANING_TERMINAL','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','https://jsonip.com','Background\x20color\x20is\x20required','replyOption','rowId','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','autoCompleteMessages.command','modifiedCount','processedMessagesCache','The\x20\x22','debug','Network\x20Interface\x20detected:\x20','processawaitSeconds','groupParticipantsUpdate','hex','condition','envProcess','fetchMessages','Parando\x20aplicação...','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','lastRealGroupsFetch','The\x20','_hour','BufferJSON','profilePictureUrl','DELETED','chatId','Network\x20interfaces\x20detected:\x20','MAX_SAFE_INTEGER','AutomateFunctions','spawn','):\x20leadInfoVariables','fromMe','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','stack','isLong','Instance\x20logged\x20out','Erro\x20ao\x20buscar\x20o\x20fluxo','hbs','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','redisEnv','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','public','createSectionsFromValues','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','error\x20get\x20vote','singleSelectReply','sendReaction','sendSticker','now','changeVariables','selectedDisplayText','string','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Variável\x20não\x20encontrada!','goToFlow','PRODUCT_LIST','eventHandler','DELIVERY_ACK','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','_p_','):\x20Buscando\x20flow...','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','_error','sendButtons','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):Temp\x20image\x20deleted','count','getMinutes','updateChatGroupData','stderr','privacySettings','editOperator','):\x20Conversa\x20está\x20expirada\x20-\x20voto','LOG','ms\x20(tentativa\x20','Rodapé\x20de\x20Teste','groupAcceptInvite','Fluxo\x20agendado\x20pelo\x20fluxo\x20','lastSendMessage','open','repository','split','getTime','hGet','Erro\x20ao\x20importar\x20chats','messages','longitude','group','hGetAll','storePath','round','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','readData','getAutomateSystem','readMessage','\x0aFN:','Novo\x20IP\x20criado:\x20','integer','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','\x27\x20não\x20encontrado\x20na\x20memória','push','request\x20received\x20in\x20getConversation','owner','\x20contacts','etiquetas','sectionsToString','status','isValidAndUniqueIPv6','class-validator','findOrCreate','toFile','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','CHATS_UPDATE','mongodb','templateButtonReplyMessage','fileUrl','filter','options','#ffae04','):\x20Entrou\x20na\x20função\x20processawaitSeconds','connection.update','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','\x1b[33m%s\x1b[0m','writeFileSync','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','selectedButtonId','presenceSubscribe','updateMissingEtiquetas','loadInstance','):\x20Editando\x20mensagens\x20no\x20grupo...','):\x20conversation.waitingMenu_name','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','request\x20received\x20in\x20getFlow','memberAddMode','cacheContactModel','rm\x20-rf\x20','connecting','child_process','config','sha256','getClient','sendMessageWithTyping','groupRevokeInvite','editflowgroup','context','dbSettings','insertCount','sleep','):\x20whoCanUse\x20before\x20validation:\x20','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','.url','documentWithCaptionMessage','EXPIRIN_IN','/chat','content','.mp3','rows','connectionUpdate','/wa-groups','KEY','ContactModel','conversationTimestamp','generateHash','GROUPS_UPDATE','this.reconnectAttempts:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','):Image\x20converted\x20to\x20WebP','unknown\x20operation\x20type\x20[','writeFile','HOST','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','PLAYED','contacts','_Chats','DATABASE_CONNECTION_HOST','reconnectAttempts','connectedClient','.png','Error\x20removing\x20IPv6\x20address:\x20','groupMemberAddMode','updateOnlinePrivacy','flush','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Going\x20to\x20','shareFlow','trim','IPv6\x20address\x20removed:\x20','groups.upsert','Instance\x20\x22','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','basename','label_jid','Router','slice','exists','oldToken','ScheduleMessageModel','scheduleSendAudio','saveTextReply','groupdata','Erro\x20ao\x20atualizar\x20o\x20flow.','${Message\x20absent\x20from\x20node}','testingWith','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','ScheduleMessage','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','off','variables','deleteChat','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x27\x20do\x20banco\x20de\x20dados...','Início','[service]\x20request\x20received\x20in\x20sendButtons','reorderReplyOptions','All_Instances_Config','startsWith','paramsJson','contact_blacklist','getMIMEType','convertedOptions','mentioned','listMessage','createflow','lastFetchAwaitingApproval','binary','ReplyOption\x20com\x20ID\x20','contacts.update','leadInfo.desativadoFluxoAte','envYaml','Type\x20is\x20required','\x20:\x20','trimmed','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','fetchInstances','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','base64','audioWhatsapp','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','^\x5cd+','lastMessage','set','):\x20alterando\x20this.AutomateSystem','findLabels','TEL','.webp','removeProfilePicture','.\x20Aguardando\x20','Valor\x20da\x20URL\x20recuperada:','dark','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','END:VCARD','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','groupSetting','):\x20Fluxo\x20\x27','\x20inseridas\x20no\x20banco\x20de\x20dados...','\x1b[31m%s\x1b[0m','CORS','):\x20Buscando\x20conversa...','arraybuffer','ORG:','#9ba6ff','namespace','isAdmin','display_text','varedits','addBlock','instance.','status@broadcast','findMany','p-queue','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','deleteReplyOption','):\x20\x27Enviando\x20texto\x20para\x20\x27','muteEndTime','groupLeave','get','statusJidList','Logger','):\x20Procurando\x20mensagens\x20para\x20envio','groupValidate','createButtonSectionsFromValues','Error\x20updating\x20cache\x20contact:','@g.us','generateWAMessageFromContent','replacer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','unreadcount','data:\x20','):\x20Chat\x20','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','DaysToDelete','REDIS_PREFIX_KEY','length','markMessageAsRead','sendMessageWithTypingButtons','/wa-connection-update','):\x20enviado\x20para\x20[','Esse\x20fluxo\x20não\x20permite\x20importação.','STORE_CONTACTS','originalUrl','clear','):\x20Iniciando\x20bot...','getAllData','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','loadWebhook','/webhook','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','API_KEY','removeInstance','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','.X-ABLabel:Celular\x0a','vir',',\x20isAdmin:\x20','method','save','editflowvariable','extractRegex','execSync',']\x20(','create','Falha\x20ao\x20recriar\x20IPv6.','timeout','toUpperCase','descOwner','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','\x1b[34m','chats.upsert','lastInteraction','and','autoCompleteMessages.command_1','messageHandle',',\x20valor\x20a\x20encontrar:\x20\x22','send','):\x20Criou\x20conversa\x20no\x20startFlow','message','Erro\x20ao\x20buscar\x20a\x20conversa','oldValue','headers','bateu\x20events','groupadd','closeExistingConversations','_month','emit','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','code','AUTHENTICATION_JWT_SECRET','pollCreationMessageV2','everyOne','pollUpdateMessage','goNextblock','no.connection','selectedOptions','msgRetryCounterCache','startFlowWebhook','RECONNECT_TIME_FRAME','waUploadToServer','abs','done','normalizeMessageContent','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','Database\x20connection\x20closed.','stickerMessage','fora\x20do\x20git','/instance/connectionState','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','https://chat.whatsapp.com/','Falta\x20informação\x20para\x20a\x20chamada\x20API','groupCreate','statusCode','put','configureIPv6','\x1b[36m','sharePass','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','endSession','^\x5cd+([-]\x5cd+)*@g.us$','senderKeyDistributionMessage','5477090Dgtbjz','fromObject','createConversationforgoToFlow','realVariables','announce','REDIS_URI','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','mediaKey','joinApprovalMode','getHours','fetchPrivacySettings','catch','setUpdate','restart','Content-Type','phoneNumber','updateAgent','):\x20error:\x20','Operador:\x20\x22','flow','0123456789ABCDEF','PRIVKEY','messageTimestamp','deleteAll','image','inner','mediatype','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','groupDesc','/:instanceName','CONTACTS_SET','\x20horas\x20e\x20','Fluxo\x20id\x20\x27','MESSAGES_SET','deleteMany','):\x20Label\x20','gifPlayback','_year','website','pt-BR','mediaSticker','.pptx','):\x20Atualizando\x20status\x20da\x20mensagem\x20','menuExpiredMessage','restrict','node-cache','Rótulo\x20deletado:\x27,\x20','request\x20received\x20in\x20deleteDoneMessages','ipv6Prefix','Generated\x20IPv6:\x20','updateMessage','REDIS','pushName','InstancesAlterarTodas','):\x20Enviando\x20mídia','profileName','getDate','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','creds.json','DARK','updateGParticipate','requestPairingCode','selectedRowId','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','setRestartTimeout',',\x20Comparador:\x20','subject','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','/instance/create','\x1b[33m','\x20não\x20encontrado\x20para\x20atualização.','auth','instanceName','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','SERVER_ACK','command','Valor\x20de\x20find\x20ou\x20replace\x20ausente','participant','QRCODE_UPDATED','IPv6\x20Prefix\x20detected:\x20','leadInfo.etiquetas','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','getVariablesChat','updateAutoCompleteMessages','undefined','\x20mensagens\x20de\x20','chatLog','mkdirSync','Selecione\x20uma\x20opção','):\x20newFirstValue\x20após\x20replaceVariables:','moreLogs','content-type','processConditions','createGroup','expiration','none','DATABASE','editedMessage','sendContact','replaceOne','recording','editFlowReply','optionDescription',',\x20Expiration\x20Time:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','webhookMap','delete','updateReadReceiptsPrivacy','):\x20\x27Enviando\x20audio\x20para\x20\x27','Erro\x20ao\x20atualizar\x20o\x20fluxo:','request\x20received\x20in\x20deleteFlow','latitude','fetchProfilePicture','./.git/config','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','splice','log','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','editConversation','paused','response','):\x20Fluxos\x20não\x20estão\x20ativados','readMessages','Error\x20finding\x20many\x20contacts:','findRealGroups','warn','!stop','reorderBlocks','AUTHENTICATION_JWT_EXPIRIN_IN','pollCreationMessageKey','varedit','replaceValue','true','digest','indexOf','SUCCESS','#b4ebff','Esse\x20fluxo\x20expirou','whatsappNumber','):\x20lastBlockId:\x20','reorderMessages','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','Erro\x20ao\x20deletar\x20mensagens:','qrcode.updated','nome','findAndReplace','isBusinessInstance','Type\x20not\x20found','redirect','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','updatePresence','connectionClosed','inviteCode','proxy:\x20','remoteJids','.mimetype','TYPE','_ScheduleMessages','LOG_LEVEL',',\x20Segundo\x20Valor:\x20','WA\x20MODULE','Erro\x20ao\x20adicionar\x20label\x20','\x27\x20removido\x20do\x20AutomateSystem.','vcard','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Erro\x20ao\x20arquivar\x20chat','qrcode','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','greater','formatStatusMessage','getLastMessage','padEnd','contacts.upsert','saveConversationToDatabase','composing','fetchChats','pino','exit','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','.TEL;waid=','uazapiSendAudio','uncaughtException','imagechat','\x22\x20not\x20found','?authSource=admin&readPreference=primary&directConnection=true','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','request\x20received\x20in\x20scheduleMessage','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','Not\x20Found','\x1b[37m','\x20não\x20encontrado\x20para\x20cópia','ERROR','copy','shift','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','telefone','API\x20Key\x20from\x20Request:','fetchConversation','cachedData-whatsapp','autoCompleteMessages','atendimentoAberto','\x20-i\x20','dbInstance','Imagem\x20não\x20encontrada','):\x20Current\x20Time:\x20','sendWhatsAppAudio','urlOrBase64','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Instância:\x20','throwAndLogError','request\x20received\x20in\x20editFlowgroup','imported','apiResponse','findGroup','):\x20Ler\x20mensagem','):\x20Ignoring\x20group\x20messages.','values','):\x20Enviando\x20enquete','nativeFlowResponseMessage','formatBRNumber','waitingForReplyMenu','removeChatLabel','getTicketSystem','interactiveMessage','Erro\x20ao\x20normalizar\x20a\x20mensagem:','logout','findGroups','normalizeMessage','notMatchRegex','}}\x20->\x20\x22','/create','messageStubParameters','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','Erro\x20ao\x20buscar\x20Schedule\x20Messages','stdout','Nenhum\x20fluxo\x20correspondente\x20encontrado.','\x20foi\x20interrompido\x20pelo\x20usuário.','deleteMessageForEveryone','SSL_CONF','contains','Error\x20adding\x20IPv6\x20address:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','.wav','getUpdate','connectionState','@whiskeysockets/baileys','viewOnceMessageV2','blockLogs','g-t','blockId','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Procurando\x20conversa',',\x20resultado:\x20','request\x20received\x20in\x20allFlows','DATABASE_CONNECTION_USER','promote','order','updateMany','defineAuthState','Comando\x20desconhecido','Contacts\x20not\x20found','connectionStatus','localWebhook','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','Subdomínio\x20não\x20encontrado','\x20segundos','sendDataWebhook','username','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','proto','sendCommand','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','labels.association','Log\x20out\x20instance:\x20','refused','INFO','):\x20Erro\x20durante\x20a\x20atualização:\x20','instances','isBase64','flowActive','sendMessageAck','poll','webhookModel','add','matchRegex','reaction','):Trying\x20to\x20get\x20business\x20profile','):Image\x20path:\x20','getDelay','@s.whatsapp.net','findByIdAndUpdate','archived','audioMessage','del','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','#d3a91f','dbConnection','loadEnv','minutesToClose','application/octet-stream','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Error\x20processing\x20conditions:\x20','downloads','quoted','deleteConversation','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','startFlow','fetchBusinessProfile','\x1b[40m','E-mail:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','processclearVariables','groupMetadata','scheduled','):\x20Enviando\x20áudio','IP\x20confirmed:\x20','sendMenu','keyPattern','wuid','toNumber','joinGroupValidate','READ','):\x20delete\x20=\x20true','dbClient','deviceSentMessage','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','email','cpf','dropCollection','\x5cd+','responsavelid','\x20do\x20chat\x20','Deletion\x20failed','.gif','idSchedule','fullName','saveChatVariables','processScheduleFlow','\x1b[47m','deleteFlow','contact','getflow','ERROR:\x20','Enter\x20a\x20value\x20in\x20milliseconds','Rótulo\x20inválido\x20ou\x20sem\x20ID.','addMessagesToGroup','uazapiSendContact','editFlowCondition','onWhatsApp','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','superadmin','descId','):\x20ev.flush\x20realizado','convertToWebP','list','request\x20received\x20in\x20editFlow','):\x20updateResult:','instancias:\x20','uazapiSendLocation','editFlowGroup','variablesNotFound','delayChatLabel','request\x20received\x20in\x20editFlowcondition','lastBlockId','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','GROUP_PARTICIPANTS_UPDATE','updateFlowConfig','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','setting','/wa-contacts','/*.json','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Garbage\x20collection\x20não\x20está\x20disponível.','CONNECTION_UPDATE','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','apikey','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','chatHandle','global','deleteMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','sendLocation','sendPoll','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','enviado\x20para','crypto','ephemeralExpiration','caption','Erro\x20ao\x20deletar\x20chat:','archive','pow','agents','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','yes','close','url','isJidUser','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','request\x20received\x20in\x20fetchConversation','equal','isCommunityAnnounce','created','Last\x20message\x20not\x20found','#56ccb4','DD/MM\x20HH:mm:ss','connectToWhatsapp','.mp4','stateConnection','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','last','deleteDoneMessages','Número:\x20','menuMessage','announcement','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','createAndSave','quick_reply','removeData','messageLogsModel','URL','isRunning','pollMessage','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','flows','findParticipants','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','join','request\x20received\x20in\x20editConversation','status.instance','Selecione','):Audio\x20converted\x20and\x20stored\x20in\x20cache','hDel','cta_url','addReplyOption','leadInfo.','updateReplyOption','max','):\x20debug\x20alterando\x20this.AutomateSystem','ip\x20-6\x20addr\x20del\x20','):\x20Entrou\x20na\x20função\x20scheduleFlow','\x1b[32m%s\x1b[0m','user','errorLog','isBusiness','createOrUpdate','Subdomínio\x20final:','):\x20Editando\x20grupo\x20do\x20fluxo...','extractPhoneNumber','replace','buttonText','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','allFlows',',\x20Novo\x20tamanho:\x20','awaitingApproval','Telefone:\x20','https://uazapi-plugin.bubbleapps.io/?url=',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','_remoteJid','segundos','_minute','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','?timestamp=','/automate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','\x1b[31m','Sistema\x20atualizado\x20com\x20sucesso!','flowIgnoreGroups','imageMessage',',\x20Minutes\x20to\x20Close:\x20','use','):Image\x20is\x20url','hSet','evaluateCondition','):\x20Query\x20params:','entries','profile','empty','key','importChats','ChatRouter','bearer','convertaudioMP3','getConversation','verify','\x20quoted:\x20','utf-8','delay','JWT','pollOnReplyDelete','then','messaging-history.set','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','/wa-chats','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','isJidBroadcast','delAll','Mensagens\x20deletadas\x20com\x20sucesso.','secondValue','selectableCount','editflowvaredit','):Processing\x20audio','/exit','_id',',\x20qrcodeCount:\x20','Erro\x20ao\x20buscar\x20fluxos:','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','cwd','author','path','CHATS_DELETE','Error\x20updating\x20message\x20status:','):\x20whoCanUse\x20after\x20validation:\x20','state','authentication','name','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','\x0a{\x20instance:\x20','3EB0','WebhookGlobal','type','selectedId','CHATS_SET','Fluxos\x20não\x20estão\x20ativados','Error\x20removing\x20unused\x20chat\x20fields:','.jpg','\x20com\x20sucesso.','getMessage','Flow\x20iniciado\x20com\x20','where','revokeInviteCode','URI','startCommandWord','headerString','jid','scheduleFlow','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','reconnectTimestamps','findWebhook','CONTACTS_UPDATE','automateSystem','https://api.elevenlabs.io/v1/text-to-speech/','Instâncias\x20removidas:\x20','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','waitingMenu_id','):\x20expirationTime:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','readdirSync','Erro\x20ao\x20deletar\x20a\x20conversa','statusMessage','SECRET','readMessageBot','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','1437181rAhdHs','sections','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','sort','EMAIL','silent','randomMac','):\x20Criando\x20fluxo\x20compartilhado...',',\x20global:\x20','checkAndRestartProcess','limit','setWebhook','notEmpty','prototype','SINGLE_SELECT','min','messageLogs','remote\x20\x22origin\x22','findGroupsEspecial','readreceipts','cachedContacts-whatsapp','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','\x20minutos.\x20Será\x20às\x20','output','insertMany','findGroupInfos','apirequest','cacheInstanceRepository','parseInt','networkInterface','CONNECTION','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','interval\x20não\x20é\x20um\x20número','\x20minutos',',\x20Resultado:\x20','updateCustomFields','role','dbServer','45chkzEZ','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','newValue','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','Cache-Control','fone','format','awaitSeconds','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','deleteInstance','isInteger','readFileSync','qrCode','DisconnectReason','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','reject','):\x20Entrou\x20na\x20função\x20stop','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','post','Connection\x20closed\x20for\x20instance:\x20','noConnection',',\x20canSendMessage:\x20','findAll','35736iFydOH','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','importChatsBatch','Pausado\x20por\x20','processblock','\x20\x1b[0m','[AUTH]\x20Database\x20is\x20not\x20enabled','group-participants.update','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','data','buttonMessage','groups','keys','picture','COLOR','mongodb://','text','displayName','CORS_ORIGIN','updateMissingTags','stopWhenYouSendMsg','inviteUrl','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','fileName','DOCKER_ENV','Erro\x20ao\x20editar\x20agentes','variable','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','assign','shareOwners','routerPath','forEach','application/json','STATUS_INSTANCE','retrySendMessage','presence.update','findAndUpdateCacheContact','router','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','PORT','maxActives','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','docker','replaceVariablesInReplyOptions','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','#64c4ff','ip:\x20','Invalid\x20format','ListMessage','removed','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','initAuthCreds','ObjectId','VERBOSE','findOne','\x1b[46m','Tentando\x20reconectar...','Limpando\x20logs\x20do\x20PM2...','editScheduleMessage','enumerable','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','block','The\x20property\x20cannot\x20be\x20empty','getSeconds','pairingCode','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','Filtered\x20network\x20interfaces:\x20','findIndex','createNewConversation','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','File\x20written\x20to\x20path:\x20','toArray','toggleEphemeral','):\x20Iniciando\x20processReadyMessages','_Messages','):Hash\x20to\x20image\x20name:\x20','convertaudio','replaceVariablesInObject','Erro\x20ao\x20editar\x20a\x20conversa','):\x20Limpando\x20delayMessage','Parando\x20aplicação,\x20atualização\x20recebida','eventEmitter','stanzaId','delaySecMin','updateOneById','groupBetterSetting','client','Variáveis\x20não\x20encontradas:','processingGroup','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','initializeQueue','api','object','nativeFlowMessage','request\x20received\x20in\x20editFlowvariable','description','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','creds.update','replyOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','redis','testIPv6','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','Fluxo\x20\x27','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','):\x20Rótulo\x20atualizado:\x20','triedToSend','deleteBlock','verifyWhatsAppNumber','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','URL\x20completa:','pollMessageOnDelete','creation','.docx','firstValue','\x1b[34m%s\x1b[0m','all','replaceVariablesLogs','uazapiSendMenu','convert','deleteflow','stopConversation','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','interactiveResponseMessage','newStoppedUntil','webhook','when','getContactModelForOwner','):Audio\x20processed','getLabelModelForOwner','no-cache','groupName','CHATS_UPSERT','\x22\x20-\x20NOT\x20CONNECTION','ON\x20-\x20dbName:\x20','parse','cachedContact','\x20is\x20already\x20in\x20use.','):\x20Bloco\x20com\x20ID\x20','\x20and\x20data:','urlencoded','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','isURL','findById','authService','unreadCount','hasOwnProperty','includes','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','groupSettingUpdate','sim','Nenhum\x20chat\x20encontrado\x20para\x20editar.','updateGroupWebhook','.fileUrl','sendStatus','customFields','pendingMessages','queue','Não\x20respondeu\x20com\x20a\x20enquete.','\x20adicionado\x20ao\x20chat\x20','STORE_CHATS','Db\x20Connection','groupJoinApprovalMode','request\x20received\x20in\x20updateFlowConfig','fileLength','GET','conversation','stringify','imgUrl','nomecompleto','sending','option','#fed428','value','item','editChat','updatePrivacySettings','EMAIL:','isJidGroup','every','uuid','XX:XX:XX:XX:XX:XX','request\x20received\x20in\x20deleteConversation','Instance\x20Key\x20from\x20DB:','updateMissingCustomFields','Erro\x20ao\x20alterar\x20fluxo','jpegThumbnail','clearVariables','whoCanEdit','.doc','SERVER','LOG_COLOR','):\x20Conversa\x20está\x20expirada','organization','font','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','CLEANING_INTERVAL','fetchStatus','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Cannot\x20','):\x20isVote:\x20',',\x20saindo.','insert','joinGroup','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','2hDRYOH','sendList','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Error\x20writing\x20file:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','groups_ignore','findMessages','expression','SERVER_PORT','getValidWhatsAppNumbers','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','textMessage','deleteImportedChat','\x20removido\x20do\x20chat\x20','bulkWrite','_fromMe','timeoutPromise','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','endsWith','AppStateSyncKeyData','):\x20Buscando\x20flow,\x20id:\x20','contactMessage','next_groupId','allContacts','):\x20Enviando\x20mensagem\x20para\x20','existsSync','):\x20Entrou\x20na\x20função\x20saveReply','processgoToFlow','demote','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','color','getUniqueFlowName','delayMessage','sendText','Erro\x20ao\x20remover\x20label\x20','test','):\x20Adicionando\x20\x27','\x1b[44m','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','editflowcondition','sign','findFlow','audio/ogg;\x20codecs=opus','online','instance','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Font\x20is\x20required','not\x20loaded','REDIS_ENABLED','Removidas\x20as\x20variáveis:\x20','editFlow','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','address','padStart','function','):\x20não\x20encontrou','sem\x20texto\x20na\x20mensagem','listType','cleanDisconnectedInstances','STORE_MESSAGE','groupGetInviteInfo','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','editflowreply','MESSAGES_UPSERT','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','remove.instance','detectIPv6PrefixAndInterface','last_update','deleted','sendMessage','footerText','some','mimetype','$addToSet','LICENSE_INVALID','static','\x20depois\x20','createConnection','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','desc','#01d0e2','FULLCHAIN','\x1b[41m','onTime','StartID:','3153645xgZmbV','isCommunity','Missing\x20global\x20api\x20key','OrAnd','createIPv6','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','groupdata.participants','processReadyMessages','labelId','unlocked','groupJid','store','sendMedia','exec','):\x20[messages.upsert]\x20group\x20ignored','listen','):Getting\x20image\x20from\x20url','updateAll','load','findGroupInfo','getContentType','getConversationModelForOwner','/events','applyvaredit','Erro\x20inesperado\x20em\x20processvaredits:\x20','uazapiSendMedia','Erro\x20ao\x20iniciar\x20o\x20fluxo.','getFlow','send.message','\x27...','\x20não\x20encontrado','recebido\x20de','):\x20Entrou\x20na\x20função\x20goToFlow','lowerCase','error_log','https://','groupHandler','match','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','subjectOwner','http://checkip.dyndns.org','The\x20global\x20api\x20key\x20must\x20be\x20set','getStatus','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','cleaningUp','The\x20instance\x20needs\x20to\x20be\x20disconnected','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','#83e421','removeUnusedChatFields','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','request_method','listResponseMessage','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','updateGroupPicture','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','mediaMessage','Message','Falha\x20ao\x20criar\x20IPv6.','toBRL','ip\x20-br\x20link\x20show','updateProfilePicture','Deleted\x20','$set','PENDING','):Error\x20in\x20converting\x20audio','):\x20Editando\x20condição\x20do\x20fluxo...','#9568cf','Chat\x20com\x20ID\x20','Types','locationMessage','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','end','Error\x20in\x20prepareMediaMessage:','\x20inseridos\x20no\x20banco\x20de\x20dados...','toLowerCase','isConnected','axios','decryptPollVote','/message','map','available','\x20Tentativa\x20de\x20reconexão\x20','updateChatWithMessage','Nenhum\x20participante\x20válido\x20encontrado.','updateProfileName','\x1b[1m','upsertedCount','5209320SlDAiM','dataValidate','):\x20sender\x20=\x20number:\x20','false','PASSWORD','json','scheduleSendMedia','long','\x22\x20cannot\x20be\x20empty','\x1b[0m','connect','updateProfileStatus','optionName','findOneAndUpdate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','approve','thumbnailUrl','logger','updateBlock','GUARD','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Número\x20não\x20possui\x20WhatsApp.','RemoveChatLabel','cacheContact','buttonsResponseMessage','.type','restartInstance','env.KEY\x20!==\x20key','dayjs','/instance/fetchInstances','less','size','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20Falha\x20ao\x20deletar\x20mensagem.','):Sending\x20audio\x20whatsapp','Connection','#dfaef0','fakeReceived','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','fetchContacts','updateOne','#fe9dfe','chats','choices','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','pre','https://ipv6.jsonip.com','.error','Erro\x20ao\x20iniciar\x20fluxo:\x20','getDevice','text/event-stream','\x27\x20não\x20encontrado','whatsappNumbers','info','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','apply','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','findManyByIds','drop','video','flattenObject','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','https://uazapi-plugin.bubbleapps.io/','):\x20nextBlock.uazapi.name','lastUpdate','all_member_add','webhookService','variablesToObject','createInstance','getReadyToSendMessages','processApiRequest','array','header','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','):\x20Deletando\x20conversa...','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','):\x20Flow\x20desativado','Falha\x20ao\x20processar\x20fetchBusinessProfile','archiveChat','cacheInstanceModel','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','toString','CONTACTS_UPSERT','.extension','Error\x20fetching\x20group','configService','updateProfilePicturePrivacy','jsonschema','Erro\x20na\x20função\x20updateChatWithMessage:\x20','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','getScheduleMessageModelForOwner','AUTHENTICATION','@broadcast','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','_activedCount','dropIndex','.jwt','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','writeData','document','):\x20atualização\x20chat:\x20','):\x20conversation.lastInteraction:\x20','model','chats.update','delayChatLabel_MAX_RETRIES','badSession','Erro\x20ao\x20encerrar\x20a\x20API','_FlowHistorico','generate','SEND_MESSAGE',',\x20valor\x20passado:\x20\x22','chatModify','charAt','floor','removeIPv6ById','50mb','unlinkSync','https://v6.ident.me','footer','_Contacts','/media','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','Timeout\x20exceeded','StartBot','random','iniciando\x20fluxo\x20router','toLocaleString','request_time','_pushName','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Not\x20allowed\x20by\x20CORS','):\x20Flow\x20\x27','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','loggedOut','__esModule','stopMinutesMaxActives','remove','messages.upsert','video-cover.png','unavailable','closed','title','connectToWhatsappController','randomBytes','synchronizeAndMapFlows','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','pictureUrl','flowConversation','whoCanUse','groupId','\x5c$&','replaceVariablesChat','reviver','fetchLabels','body','pollCreationMessageV3','setNewValue','events','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','linkPreview','):\x20Deletando\x20mensagem','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x1b[32m','inet6','notas','Error\x20in\x20buttonsMessage\x20function:','out','finish','getFullYear','protocolMessage','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Editando\x20replyOption...','Botão\x202','Content\x20is\x20required','creds','):Delete\x20chat','):Image\x20created','):\x20Comando\x20desconhecido:\x20','makeCacheableSignalKeyStore','redis://127.0.0.1:6379','remoteJid','waInstances','Erro\x20ao\x20atualizar\x20AutomateSystem:','setContext','vote','PRESENCE_UPDATE','capitalizedWords','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','editMessagesInGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','findConversation','lastSend','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','ChatModel','):\x20','Configured\x20IPv6:\x20','saveVariable','DEBUG','editflowblock','notEqual','createFlow','webp','):Archiving\x20chat','#9ab6c1','write','videoMessage','cache','This\x20name\x20','CacheContacts\x20database\x20connection\x20closed.','keep-alive','getBusinessProfile','/group','_Labels','AutomateSystem','Adicionando\x20novo\x20participante:\x20','http','express','verifiedName','stopMinutes','encoding','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','request\x20body:\x20','processUazapi','createServer','menuType','Subdomínio\x20extraído\x20da\x20URL:','https://api64.ipify.org?format=json','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','verbose','getBase64FromMediaMessage','console','extractMessageContent','substring','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','editFlowBlock','https://ifconfig.me/ip','Erro\x20ao\x20copiar\x20o\x20documento','.svg','#ffffff','mongoose','#000000','findAndReplaceRegex','groupToggleEphemeral','updateGroupParticipantsWebhook','_sender','leaveGroup','action','pollCreationMessage','Erro\x20ao\x20editar\x20o\x20chat','lastCondition','stopped','https','instanceInfo','createJid','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Valor\x20inicial:\x20\x22','uazapi','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','#6f7bcf','collections','updateLastSeenPrivacy','NextBlock','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','list3','getMessageModelForOwner','\x20chats\x20de\x20','not_announcement','Error\x20fetching\x20and\x20updating\x20profile:\x20','editFlowVariable','uazapiDeleteMessage','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','label','AddUserFlow','Fluxo\x20não\x20encontrado\x20na\x20memória.','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','audio','connectedName','convertToString','waMonitor','saveMediaToFile','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','default','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','createHash','/config','request\x20received\x20in\x20getAutomateSystem','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ip6eui','createButtonsFromValues','allflows','updateStopChat','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','--------------------------------------','URL:','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','getOwnPropertyDescriptor','userDevicesCache','flowName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','leadInfo.customFields','qrcode-terminal','mentions','prepareMediaMessage','isArray','IPv6\x20address\x20configured:\x20','Flow\x20\x27','list2','number','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Conexão\x20estabelecida','waitingMenu_replyOptions','reduce','):\x20Instancia\x20isBusiness:\x20','METHODS','groups.update','.xlsx','reference','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','/media/','!cmd_','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','updateConversation','cleanStore','/startFlow/:instance/:startID','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','AddChatLabel','@ffmpeg-installer/ffmpeg','canSendMessage','processvaredits','repeat','):\x20whoCanEdit\x20after\x20validation:\x20','groupUpdateDescription','scheduleMessage','participants','Erro\x20ao\x20tentar\x20autoCompleteMessages','SendScheduleMessage','resetReconnectionVariables','addToProcessedMessages','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','\x1b[37m%s\x1b[0m','replaceVariables','getChatModelForOwner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','No\x20suitable\x20network\x20interface\x20found','ENABLED','documentMessage','):including\x20timestamp\x20in\x20url:\x20','\x20instance\x20does\x20not\x20exist','/wa-message','temp-','query','detail','process','reactionMessage','collection','Conversa\x20deletada\x20com\x20sucesso.','BEGIN:VCARD\x0aVERSION:3.0\x0aN:',',\x20pairCode:\x20','views','BRL','*Pergunta*:\x20\x0a','1443384bCSkxu','-instances','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Unauthorized','admin_add','copyBlock','):\x20\x27Deletando\x20fluxo,\x20id:\x20','folder','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','upperCase','truncatedtoEnd','authState','licenca','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','flowConfig','buffer','):\x20Editando\x20edição\x20do\x20fluxo...'];a0_0x4ce5=function(){return _0x39b342;};return a0_0x4ce5();}var k=I(require('fs')),Y=require(a0_0x1b7b78(0x5c6)),Ut=I(require('sharp')),ne=require(a0_0x1b7b78(0x426)),vi=require('child_process'),Ni=require(a0_0x1b7b78(0x86a)),$i=I(require('axios')),Ne=class extends _{constructor(_0x4ef5c8,_0x211836,_0x4f2907){const _0x39a1c3=a0_0x1b7b78;super(_0x211836),this[_0x39a1c3(0x6e0)]=_0x4ef5c8,this[_0x39a1c3(0x6e6)]=_0x211836,this['dbConnection']=_0x4f2907;}async[a0_0x1b7b78(0x461)](_0xd2ad0,_0x219523){const _0xbc240a=a0_0x1b7b78;try{if(this[_0xbc240a(0x1b1)]['ENABLED']){console[_0xbc240a(0x315)](_0xbc240a(0x664)+_0x219523+_0xbc240a(0x59d),_0xd2ad0);let _0x4e57ab=await this[_0xbc240a(0x6e0)][_0xbc240a(0x69b)]({'_id':_0x219523},{'$set':_0xd2ad0},{'new':!0x0,'upsert':!0x0});return console[_0xbc240a(0x315)]('Database\x20update\x20result:',_0x4e57ab),_0x4e57ab;}}catch(_0x34cdcf){throw console['error']('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x34cdcf),_0x34cdcf;}return null;}async[a0_0x1b7b78(0x869)](_0x2673f6){const _0x464367=a0_0x1b7b78;try{let _0x38999c=A(_0x2673f6[_0x464367(0x4b7)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x464367(0x869)](_0x38999c))[_0x464367(0x82c)]};}catch(_0x17fd90){return{'error':_0x17fd90?.[_0x464367(0x6e2)]()};}}async[a0_0x1b7b78(0x547)](_0x5a8c47){const _0x4b231b=a0_0x1b7b78;try{let _0x51b4ab=A(_0x5a8c47[_0x4b231b(0x4b7)]);return await this[_0x4b231b(0x6e0)][_0x4b231b(0x547)](_0x51b4ab)[_0x4b231b(0x86c)]();}catch{return null;}}},kt=(0x0,Ni['promisify'])(vi[a0_0x1b7b78(0x643)]),Po=S[a0_0x1b7b78(0x234)](a0_0x1b7b78(0x88c)),xs=class{constructor(){const _0x1b7377=a0_0x1b7b78;this[_0x1b7377(0x4ec)]=new Ne(Be,S),(!this[_0x1b7377(0x2d1)]||!this[_0x1b7377(0x4ee)])&&Po&&this[_0x1b7377(0x622)]()[_0x1b7377(0x48e)](()=>{const _0x3d0df8=_0x1b7377;console[_0x3d0df8(0x315)](_0x3d0df8(0x2f0)+this[_0x3d0df8(0x2d1)]),console[_0x3d0df8(0x315)](_0x3d0df8(0x8aa)+this[_0x3d0df8(0x4ee)]);})[_0x1b7377(0x2ac)](_0x5689b9=>{const _0x26ce04=_0x1b7377;console[_0x26ce04(0x84d)](_0x26ce04(0x32e)+_0x5689b9[_0x26ce04(0x272)]);});}async['detectIPv6PrefixAndInterface'](){const _0x43422c=a0_0x1b7b78;try{let {stdout:_0x15bd5d}=await kt(_0x43422c(0x671));console['log'](_0x43422c(0x8ba)+_0x15bd5d);let _0x14b312=_0x15bd5d[_0x43422c(0x8f1)]('\x0a')[_0x43422c(0x686)](_0x297fde=>_0x297fde[_0x43422c(0x8f1)]('\x20')[0x0])[_0x43422c(0x194)](_0x511879=>!_0x511879[_0x43422c(0x5a5)]('lo')&&!_0x511879[_0x43422c(0x5a5)](_0x43422c(0x53b))&&!_0x511879[_0x43422c(0x5a5)](_0x43422c(0x25a))&&!_0x511879[_0x43422c(0x5a5)]('wl')&&!_0x511879[_0x43422c(0x5a5)]('@'));if(console['log'](_0x43422c(0x553)+_0x14b312),_0x14b312[_0x43422c(0x245)]===0x0)throw new Error(_0x43422c(0x7ea));this[_0x43422c(0x4ee)]=_0x14b312[0x0];let {stdout:_0x59d754}=await kt('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0x43422c(0x4ee)]);console[_0x43422c(0x315)]('IPv6\x20addresses\x20detected:\x20'+_0x59d754);let _0x320f0f=_0x59d754[_0x43422c(0x8f1)]('\x0a')[_0x43422c(0x83c)](_0x4e3bee=>_0x4e3bee[_0x43422c(0x5a5)](_0x43422c(0x734))&&_0x4e3bee[_0x43422c(0x5a5)](_0x43422c(0x41f)));if(!_0x320f0f)throw new Error(_0x43422c(0x57f));let _0xdc2769=_0x320f0f[_0x43422c(0x65b)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0xdc2769)throw new Error(_0x43422c(0x3b0));let [_0x35912a,_0x4be0ab,_0x581282]=_0xdc2769,_0x5a732c=Math[_0x43422c(0x702)](Number(_0x581282)/0x10),_0x245ea1=Number(_0x581282)%0x10,_0x462042=_0x4be0ab['split'](':')[_0x43422c(0x1e2)](0x0,_0x5a732c)[_0x43422c(0x44f)](':');if(_0x245ea1>0x0){let _0xe4e36e=_0x4be0ab[_0x43422c(0x8f1)](':')[_0x5a732c],_0xc60ca=0xffff<<0x10-_0x245ea1&0xffff,_0x51d9a3=(parseInt(_0xe4e36e,0x10)&_0xc60ca)[_0x43422c(0x6e2)](0x10)[_0x43422c(0x614)](0x4,'0');_0x462042+=':'+_0x51d9a3;}this['ipv6Prefix']=_0x462042+':';}catch(_0x5131cf){console['error'](_0x43422c(0x556),_0x5131cf);}}async[a0_0x1b7b78(0x29a)](_0x298251){const _0x2781f4=a0_0x1b7b78;let _0x5a23b3='ip\x20-6\x20addr\x20add\x20'+_0x298251+'/64\x20dev\x20'+this[_0x2781f4(0x4ee)];try{await kt(_0x5a23b3),console['log'](_0x2781f4(0x7c3)+_0x298251);}catch(_0x1341f2){console[_0x2781f4(0x84d)](_0x2781f4(0x391)+_0x1341f2);}}async[a0_0x1b7b78(0x82f)](_0x77a5a4){const _0x32047e=a0_0x1b7b78;let _0x5522c6=_0x32047e(0x45b)+_0x77a5a4+_0x32047e(0x862)+this[_0x32047e(0x4ee)];try{await kt(_0x5522c6),console[_0x32047e(0x315)](_0x32047e(0x1db)+_0x77a5a4);}catch(_0x19ce5b){console[_0x32047e(0x84d)](_0x32047e(0x1d3)+_0x19ce5b);}}['randomMac'](){const _0x41f9df=a0_0x1b7b78;return _0x41f9df(0x5c7)['replace'](/X/g,()=>_0x41f9df(0x2b5)[_0x41f9df(0x701)](Math['floor'](Math[_0x41f9df(0x70d)]()*0x10)));}[a0_0x1b7b78(0x7b2)](_0x2494c5,_0x495202){const _0x4a1b86=a0_0x1b7b78;let _0x1c2cca=_0x495202[_0x4a1b86(0x8f1)](':');return _0x1c2cca[0x0]=(parseInt(_0x1c2cca[0x0],0x10)^0x2)[_0x4a1b86(0x6e2)](0x10)[_0x4a1b86(0x614)](0x2,'0'),''+_0x2494c5+_0x1c2cca[0x0]+_0x1c2cca[0x1]+':'+_0x1c2cca[0x2]+'ff:fe'+_0x1c2cca[0x3]+':'+_0x1c2cca[0x4]+_0x1c2cca[0x5];}[a0_0x1b7b78(0x894)](){const _0x58f59d=a0_0x1b7b78;let _0x4f0e6f=this[_0x58f59d(0x2d1)];_0x4f0e6f[_0x58f59d(0x5f1)](':')||(_0x4f0e6f+=':');let _0x33452e=this[_0x58f59d(0x4d7)]();return this['ip6eui'](_0x4f0e6f,_0x33452e);}[a0_0x1b7b78(0x863)](_0xaf0efb){const _0x60d1d1=a0_0x1b7b78;return new RegExp(_0x60d1d1(0x2bc))['test'](_0xaf0efb);}async[a0_0x1b7b78(0x576)](_0x310eb2){const _0x1f133c=a0_0x1b7b78;let _0x1d4645=[{'url':_0x1f133c(0x6bc),'parse':_0x2a0699=>_0x2a0699['ip']},{'url':_0x1f133c(0x774),'parse':_0x57b2fb=>_0x57b2fb['ip']},{'url':_0x1f133c(0x77e),'parse':_0x284b1e=>_0x284b1e[_0x1f133c(0x1da)]()},{'url':_0x1f133c(0x706),'parse':_0x5d07ec=>_0x5d07ec['trim']()}],_0x24d43d=_0x1d4645[Math[_0x1f133c(0x702)](Math['random']()*_0x1d4645[_0x1f133c(0x245)])];try{let _0x22ac55=await $i[_0x1f133c(0x7ac)][_0x1f133c(0x234)](_0x24d43d[_0x1f133c(0x430)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x310eb2}}),_0x123451=_0x24d43d[_0x1f133c(0x599)](_0x22ac55[_0x1f133c(0x517)]);return _0x123451[_0x1f133c(0x681)]()===_0x310eb2[_0x1f133c(0x681)]()?(console[_0x1f133c(0x315)](_0x1f133c(0x3df)+_0x310eb2),!0x0):(console['error']('IP\x20mismatch:\x20configured\x20'+_0x310eb2+',\x20received\x20'+_0x123451),!0x1);}catch(_0x32db6b){return console[_0x1f133c(0x84d)]('Error\x20testing\x20IP\x20with\x20'+_0x24d43d[_0x1f133c(0x430)]+':\x20'+_0x32db6b[_0x1f133c(0x272)]),!0x1;}}async['createIPv6'](_0x4ace8b,_0x1ab40d){const _0x1ff7ff=a0_0x1b7b78;if(!this[_0x1ff7ff(0x2d1)]||!this[_0x1ff7ff(0x4ee)])return console[_0x1ff7ff(0x84d)](_0x1ff7ff(0x6c7)),null;let _0x4d093e;do _0x4d093e=this[_0x1ff7ff(0x894)](),console['log'](_0x1ff7ff(0x2d2)+_0x4d093e);while(!await this[_0x1ff7ff(0x18b)](_0x4d093e));await this[_0x1ff7ff(0x29a)](_0x4d093e),console[_0x1ff7ff(0x315)](_0x1ff7ff(0x755)+_0x4d093e);let _0x1a60c9={'_id':_0x4ace8b+'-'+_0x1ab40d,'ip':_0x4d093e},_0x3f62ce=await this[_0x1ff7ff(0x4ec)][_0x1ff7ff(0x461)](_0x1a60c9,_0x1a60c9['_id']);return console[_0x1ff7ff(0x315)]('Cache\x20instance\x20update\x20result:\x20'+_0x3f62ce),_0x4d093e;}async[a0_0x1b7b78(0x18b)](_0x3a9c09){const _0x17bd5b=a0_0x1b7b78;return this[_0x17bd5b(0x863)](_0x3a9c09)?!await this[_0x17bd5b(0x4ec)][_0x17bd5b(0x547)]({'where':{'ip':_0x3a9c09}}):!0x1;}async['removeIPv6ById'](_0x5a9578,_0x5b193a){const _0xa9ef33=a0_0x1b7b78;let _0x43911e=_0x5a9578+'-'+_0x5b193a,_0x3a738f=await this['cacheInstanceRepository'][_0xa9ef33(0x547)]({'where':{'_id':_0x43911e}});_0x3a738f&&_0x3a738f['ip']&&(await this[_0xa9ef33(0x82f)](_0x3a738f['ip']),await this[_0xa9ef33(0x4ec)][_0xa9ef33(0x869)]({'where':{'_id':_0x43911e}}));}},Do=new xs(),ae=Do,Fs=a0_0x1b7b78(0x82b),xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S[a0_0x1b7b78(0x234)](a0_0x1b7b78(0x6ec))[a0_0x1b7b78(0x255)]['KEY'],Ai=S[a0_0x1b7b78(0x234)]('PROXY');async function Fo(){const _0x25fdac=a0_0x1b7b78;let _0x4eef46=await ve[_0x25fdac(0x547)]();he=_0x4eef46?.[_0x25fdac(0x4ad)]??null,Lo=_0x4eef46?.[_0x25fdac(0x243)]??null,Fs=_0x4eef46?.[_0x25fdac(0x1d1)]??_0x25fdac(0x82b),xi=_0x4eef46?.[_0x25fdac(0x7a7)]??B??_0x25fdac(0x793);}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x1205d7,_0x498874,_0x35b2e2){const _0x44ef34=a0_0x1b7b78;this[_0x44ef34(0x6e6)]=_0x1205d7,this[_0x44ef34(0x562)]=_0x498874,this[_0x44ef34(0x8f0)]=_0x35b2e2,this[_0x44ef34(0x8a7)]={},this[_0x44ef34(0x767)]=null,this['logger']=new $(u['name']),this[_0x44ef34(0x60b)]={},this[_0x44ef34(0x3a8)]={},this['stateConnection']={'state':_0x44ef34(0x42f)},this[_0x44ef34(0x178)]=(0x0,j['join'])(le,_0x44ef34(0x3d2)),this[_0x44ef34(0x287)]=new Ls['default'](),this[_0x44ef34(0x7bb)]=new Ls[(_0x44ef34(0x7ac))](),this[_0x44ef34(0x29e)]=!0x1,this[_0x44ef34(0x30a)]={'status.instance':_0x44ef34(0x248),'connection.update':_0x44ef34(0x248),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x44ef34(0x7ef),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':_0x44ef34(0x1be),'group.update':_0x44ef34(0x1be),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':_0x44ef34(0x415),'contacts.upsert':_0x44ef34(0x415),'contacts.update':_0x44ef34(0x415),'presence.update':'/wa-presence','chats.set':_0x44ef34(0x492),'chats.update':_0x44ef34(0x492),'chats.upsert':_0x44ef34(0x492),'chats.delete':_0x44ef34(0x492)},this[_0x44ef34(0x1d0)]=0x0,this['reconnectTimestamps']=[],this[_0x44ef34(0x289)]=0xea60,this[_0x44ef34(0x449)]=!0x1,this[_0x44ef34(0x41e)]={'chats.upsert':async(_0x1bfb54,_0x4b9519)=>{const _0xf3030b=_0x44ef34;let _0x13de78=[];for await(let _0x54b2c4 of _0x1bfb54)_0x13de78[_0xf3030b(0x184)]({'_id':_0x54b2c4['id'],'owner':this[_0xf3030b(0x60b)]['wuid'],'group':_0x54b2c4['id'][_0xf3030b(0x5f1)](_0xf3030b(0x23b)),'name':_0x54b2c4['name']||_0x54b2c4[_0xf3030b(0x51f)]||null,'contactname':null,'lastmsg':_0x54b2c4[_0xf3030b(0x1c1)]&&_0x54b2c4[_0xf3030b(0x1c1)][_0xf3030b(0x6e2)]()[_0xf3030b(0x245)]<0xd?_0x54b2c4[_0xf3030b(0x1c1)]*0x3e8:_0x54b2c4[_0xf3030b(0x1c1)]||null,'archived':_0x54b2c4[_0xf3030b(0x3c7)]||!0x1,'unreadcount':_0x54b2c4[_0xf3030b(0x5a3)]||0x0,'ephemeralExpiration':_0x54b2c4['ephemeralExpiration']||0x0});this[_0xf3030b(0x3ac)](_0xf3030b(0x26a),_0x13de78);},'chats.update':async(_0x30ed6b,_0x12b776)=>{const _0x3408b8=_0x44ef34;for(let _0x2286e9 of _0x30ed6b){let _0x27aa18={'_id':_0x2286e9['id'],'owner':this[_0x3408b8(0x60b)][_0x3408b8(0x3e2)],'archived':_0x2286e9[_0x3408b8(0x3c7)],'muteEndTime':_0x2286e9[_0x3408b8(0x232)],'ephemeralExpiration':_0x2286e9['ephemeralExpiration']},_0x40b61e=!0x1,_0x37bdd2={};_0x27aa18[_0x3408b8(0x3c7)]!=null&&(this[_0x3408b8(0x69f)][_0x3408b8(0x776)](this[_0x3408b8(0x2e9)]+'\x20('+this[_0x3408b8(0x60b)][_0x3408b8(0x3e2)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x2286e9['id']+_0x3408b8(0x207)+_0x2286e9[_0x3408b8(0x3c7)]),_0x40b61e=!0x0,_0x37bdd2[_0x3408b8(0x3c7)]=_0x2286e9[_0x3408b8(0x3c7)]),_0x3408b8(0x232)in _0x2286e9&&(this[_0x3408b8(0x69f)][_0x3408b8(0x776)](this[_0x3408b8(0x2e9)]+'\x20('+this[_0x3408b8(0x60b)]['wuid']+_0x3408b8(0x7c7)+_0x2286e9['id']+_0x3408b8(0x207)+(_0x2286e9[_0x3408b8(0x232)]??'0')),_0x40b61e=!0x0,_0x37bdd2['muteEndTime']=_0x2286e9[_0x3408b8(0x232)]??0x0),_0x3408b8(0x427)in _0x2286e9&&(this[_0x3408b8(0x69f)][_0x3408b8(0x776)](this['instanceName']+'\x20('+this[_0x3408b8(0x60b)][_0x3408b8(0x3e2)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x2286e9['id']+_0x3408b8(0x207)+(_0x2286e9[_0x3408b8(0x427)]!==void 0x0?_0x2286e9['ephemeralExpiration']:_0x3408b8(0x2f5))),_0x37bdd2[_0x3408b8(0x427)]=_0x2286e9[_0x3408b8(0x427)]===null?0x0:_0x2286e9['ephemeralExpiration'],_0x40b61e=!0x0);let _0x410498;_0x40b61e&&(_0x410498=await this[_0x3408b8(0x8f0)][_0x3408b8(0x85e)][_0x3408b8(0x6b6)]({'where':{'_id':_0x2286e9['id']}},_0x37bdd2,this[_0x3408b8(0x60b)][_0x3408b8(0x3e2)])),_0x410498&&F(this['instanceName'],'chats',{'chat':_0x410498});}},'chats.delete':async _0x5c3818=>{const _0x3fb277=_0x44ef34;for(let _0x11dc22 of _0x5c3818)if(_0x11dc22[_0x3fb277(0x5f1)]('@g.us')){await this['repository'][_0x3fb277(0x85e)][_0x3fb277(0x30b)]({'where':{'_id':_0x11dc22}},this[_0x3fb277(0x60b)]['wuid']);let _0x4fd49b={'where':{'key':{'remoteJid':_0x11dc22}}};await this[_0x3fb277(0x8f0)][_0x3fb277(0x272)][_0x3fb277(0x30b)](_0x4fd49b,this[_0x3fb277(0x60b)]['wuid']);}else{await this[_0x3fb277(0x8f0)][_0x3fb277(0x85e)][_0x3fb277(0x6b6)]({'where':{'_id':_0x11dc22}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']);let _0x5eabf6={'where':{'key':{'remoteJid':_0x11dc22}}};await this[_0x3fb277(0x8f0)]['message'][_0x3fb277(0x30b)](_0x5eabf6,this[_0x3fb277(0x60b)][_0x3fb277(0x3e2)]);}this[_0x3fb277(0x3ac)](_0x3fb277(0x87f),[..._0x5c3818]);}},this['contactHandle']={'contacts.upsert':async(_0x1db46a,_0x9dbb80)=>{const _0x439f43=_0x44ef34;let _0xeffa04=await this[_0x439f43(0x8f0)][_0x439f43(0x3f8)][_0x439f43(0x83c)]({'where':{}},this[_0x439f43(0x60b)][_0x439f43(0x3e2)]),_0x4e352e=[];for await(let _0x9dbcf5 of _0x1db46a)_0xeffa04[_0x439f43(0x83c)](_0x28fd0b=>_0x28fd0b['_id']===_0x9dbcf5['id'])||_0x4e352e[_0x439f43(0x184)]({'_id':_0x9dbcf5['id'],'pushName':_0x9dbcf5?.['name']||_0x9dbcf5?.[_0x439f43(0x76b)],'owner':this['instance'][_0x439f43(0x3e2)]});this[_0x439f43(0x3ac)](_0x439f43(0x34d),_0x4e352e),await this['repository'][_0x439f43(0x3f8)]['insert'](_0x4e352e);},'contacts.update':async(_0x37a7fb,_0x26c968)=>{const _0x5d1d8f=_0x44ef34;let _0x19ad64=[];for await(let _0x5f35a7 of _0x37a7fb)_0x19ad64[_0x5d1d8f(0x184)]({'_id':_0x5f35a7['id'],'pushName':_0x5f35a7?.[_0x5d1d8f(0x4a9)]??_0x5f35a7?.[_0x5d1d8f(0x76b)],'owner':this[_0x5d1d8f(0x60b)][_0x5d1d8f(0x3e2)]});this[_0x5d1d8f(0x3ac)](_0x5d1d8f(0x203),_0x19ad64);}},this['messageHandle']={'messaging-history.set':async({messages:_0x4d98ee,chats:_0x57f94f,isLatest:_0x17088f},_0x54f231)=>{const _0x3dd3c9=_0x44ef34;if(_0x17088f){let _0x537e51=await Promise[_0x3dd3c9(0x586)](_0x57f94f[_0x3dd3c9(0x686)](async _0x8e5ebc=>({'_id':_0x8e5ebc['id'],'owner':this[_0x3dd3c9(0x60b)]['wuid'],'group':_0x8e5ebc['id']['endsWith'](_0x3dd3c9(0x23b)),'name':_0x8e5ebc['name']||_0x8e5ebc[_0x3dd3c9(0x51f)]||_0x8e5ebc[_0x3dd3c9(0x3ad)]||null,'contactname':null,'lastmsg':_0x8e5ebc[_0x3dd3c9(0x1c1)]&&_0x8e5ebc[_0x3dd3c9(0x1c1)][_0x3dd3c9(0x6e2)]()[_0x3dd3c9(0x245)]<0xd?_0x8e5ebc['conversationTimestamp']*0x3e8:_0x8e5ebc[_0x3dd3c9(0x1c1)]||null,'archived':_0x8e5ebc[_0x3dd3c9(0x3c7)]||!0x1,'unreadcount':_0x8e5ebc['unreadCount']||0x0,'ephemeralExpiration':_0x8e5ebc[_0x3dd3c9(0x427)]||0x0,'muteEndTime':_0x8e5ebc['muteEndTime']||0x0})));this[_0x3dd3c9(0x3ac)]('chats.set',_0x537e51),await this[_0x3dd3c9(0x80f)](_0x537e51,_0x54f231);}let _0x31fd47=[],_0x5bb4d8=Date[_0x3dd3c9(0x8d0)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x255567]of Object[_0x3dd3c9(0x47f)](_0x4d98ee)){if(_0x255567[_0x3dd3c9(0x272)]?.[_0x3dd3c9(0x73a)]||_0x255567[_0x3dd3c9(0x272)]?.['senderKeyDistributionMessage']||!_0x255567['message']||_0x255567[_0x3dd3c9(0x482)][_0x3dd3c9(0x745)]==='status@broadcast'||(ks[_0x3dd3c9(0x7ac)][_0x3dd3c9(0x8c2)](_0x255567?.['messageTimestamp'])&&(_0x255567[_0x3dd3c9(0x2b7)]=_0x255567[_0x3dd3c9(0x2b7)]?.[_0x3dd3c9(0x3e3)]()),_0x255567[_0x3dd3c9(0x2b7)]&&_0x255567[_0x3dd3c9(0x2b7)]['toString']()[_0x3dd3c9(0x245)]<0xd&&(_0x255567['messageTimestamp']=_0x255567[_0x3dd3c9(0x2b7)]*0x3e8),_0x255567['messageTimestamp']<_0x5bb4d8))continue;let _0x55b9e8=(0x0,w[_0x3dd3c9(0x28d)])(_0x255567[_0x3dd3c9(0x272)]),_0x3e2596=(0x0,w[_0x3dd3c9(0x64a)])(_0x55b9e8),{message_normalized:_0x2d668c}=this[_0x3dd3c9(0x384)](_0x55b9e8,_0x3e2596,null);Object[_0x3dd3c9(0x51a)](_0x2d668c)[_0x3dd3c9(0x245)]>0x0&&_0x31fd47[_0x3dd3c9(0x184)]({'_id':_0x255567[_0x3dd3c9(0x482)]['id'],'key':_0x255567[_0x3dd3c9(0x482)],'pushName':_0x255567[_0x3dd3c9(0x2d5)],'participant':_0x255567['participant'],'message':_0x55b9e8,'messageType':_0x3e2596,'message_normalized':{'key':_0x255567[_0x3dd3c9(0x482)],'pushName':_0x255567[_0x3dd3c9(0x2d5)],'messageTimestamp':_0x255567[_0x3dd3c9(0x2b7)],..._0x2d668c},'messageTimestamp':_0x255567['messageTimestamp'],'owner':this[_0x3dd3c9(0x60b)][_0x3dd3c9(0x3e2)]});}_0x54f231['ENABLED']&&_0x31fd47['length']>0x0&&(this[_0x3dd3c9(0x69f)][_0x3dd3c9(0x776)](this['instanceName']+'\x20('+this[_0x3dd3c9(0x60b)][_0x3dd3c9(0x3e2)]+_0x3dd3c9(0x754)+_0x31fd47['length']+_0x3dd3c9(0x2f6)+this[_0x3dd3c9(0x60b)][_0x3dd3c9(0x3e2)]+_0x3dd3c9(0x21f)),await this['repository'][_0x3dd3c9(0x272)]['insert']([..._0x31fd47],this[_0x3dd3c9(0x60b)][_0x3dd3c9(0x3e2)])),this[_0x3dd3c9(0x3ac)]('messages.set',[..._0x31fd47]),_0x4d98ee=void 0x0;},'messages.upsert':async({messages:_0x55c8f6,type:_0x57674c},_0x31bf0c)=>{const _0x15e018=_0x44ef34;for(let _0x2da3c6 of _0x55c8f6){if(this[_0x15e018(0x3a8)]?.[_0x15e018(0x5e4)]&&_0x2da3c6[_0x15e018(0x482)][_0x15e018(0x745)]['includes'](_0x15e018(0x23b))){this['logger'][_0x15e018(0x776)](this['instanceName']+'\x20('+this[_0x15e018(0x60b)]['wuid']+_0x15e018(0x644));continue;}if(_0x2da3c6[_0x15e018(0x482)]['remoteJid'][_0x15e018(0x5a5)]('@newsletter')||_0x2da3c6['key'][_0x15e018(0x745)]===_0x15e018(0x22c))continue;if(_0x2da3c6[_0x15e018(0x388)]&&_0x2da3c6[_0x15e018(0x388)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x15e018(0x84d)](_0x15e018(0x293)),await this['fakeReceived'](_0x2da3c6),Lt[_0x2da3c6['key']['id']]=_0x2da3c6,this[_0x15e018(0x531)](_0x2da3c6,0x0);continue;}if(_0x57674c!==_0x15e018(0x86e)||!_0x2da3c6?.[_0x15e018(0x272)]||_0x2da3c6[_0x15e018(0x272)]?.[_0x15e018(0x73a)]||_0x2da3c6[_0x15e018(0x272)]?.[_0x15e018(0x2a0)])continue;let _0x46c11f=null,_0x46ece9=null;if(Lt[_0x2da3c6[_0x15e018(0x482)]['id']]&&(console['error'](_0x15e018(0x1b5)),await this[_0x15e018(0x8f0)][_0x15e018(0x4e1)]['delete']({'where':{'_id':_0x2da3c6[_0x15e018(0x482)]['id']}}),delete Lt[_0x2da3c6[_0x15e018(0x482)]['id']]),this['isMessageProcessed'](this[_0x15e018(0x60b)]['wuid'],_0x2da3c6[_0x15e018(0x482)]['id'])){this[_0x15e018(0x69f)][_0x15e018(0x776)](this[_0x15e018(0x2e9)]+'\x20('+this['instance'][_0x15e018(0x3e2)]+_0x15e018(0x816));continue;}this[_0x15e018(0x7e4)](this[_0x15e018(0x60b)][_0x15e018(0x3e2)],_0x2da3c6[_0x15e018(0x482)]['id']);try{_0x46c11f=await this['processPollUpdateMessage'](_0x2da3c6),_0x46ece9=_0x46c11f?_0x46c11f[_0x15e018(0x44f)](','):null;}catch(_0x2f9eb2){this[_0x15e018(0x69f)][_0x15e018(0x776)](this[_0x15e018(0x2e9)]+'\x20('+this[_0x15e018(0x60b)]['wuid']+_0x15e018(0x754)+(_0x2f9eb2 instanceof Error?_0x2f9eb2[_0x15e018(0x272)]:JSON[_0x15e018(0x5b9)](_0x2f9eb2,null,0x2))),_0x46ece9=_0x15e018(0x8cc);}this[_0x15e018(0x567)][_0x15e018(0x848)]('unavailable'),ks[_0x15e018(0x7ac)][_0x15e018(0x8c2)](_0x2da3c6['messageTimestamp'])&&(_0x2da3c6['messageTimestamp']=_0x2da3c6['messageTimestamp']?.[_0x15e018(0x3e3)]()),_0x2da3c6['messageTimestamp']&&_0x2da3c6[_0x15e018(0x2b7)][_0x15e018(0x6e2)]()[_0x15e018(0x245)]<0xd&&(_0x2da3c6[_0x15e018(0x2b7)]=_0x2da3c6['messageTimestamp']*0x3e8);let _0x42ebbd=_0x2da3c6[_0x15e018(0x272)],_0x405d7a=(0x0,w[_0x15e018(0x28d)])(_0x42ebbd),_0x47b83a=(0x0,w[_0x15e018(0x64a)])(_0x405d7a),{messageContent:_0x843ec,message_normalized:_0x517abc}=this[_0x15e018(0x384)](_0x405d7a,_0x47b83a,_0x46ece9);if(_0x47b83a==='protocolMessage'&&_0x843ec?.['editedMessage']&&(_0x47b83a=_0x15e018(0x302)),_0x47b83a===_0x15e018(0x380)&&_0x2da3c6[_0x15e018(0x482)][_0x15e018(0x8bf)])continue;let _0x549cc,_0x263239=_0x2da3c6[_0x15e018(0x482)][_0x15e018(0x745)]['endsWith'](_0x15e018(0x23b));if(_0x2da3c6[_0x15e018(0x482)]['fromMe'])_0x549cc=this[_0x15e018(0x60b)][_0x15e018(0x8b7)];else{let _0x35879c=_0x263239?_0x2da3c6[_0x15e018(0x482)]['participant']:_0x2da3c6[_0x15e018(0x482)]['remoteJid'];_0x549cc=(await this[_0x15e018(0x533)](_0x35879c,_0x2da3c6[_0x15e018(0x2d5)],!0x1))[_0x15e018(0x59a)]['pictureUrl'];}let _0x48f13e={'_id':_0x2da3c6[_0x15e018(0x482)]['id'],'key':_0x2da3c6['key'],'isGroup':_0x263239,'profilePictureUrl':_0x549cc,'pushName':_0x2da3c6[_0x15e018(0x2d5)],'message':_0x405d7a,'messageType':_0x47b83a,'message_normalized':{'key':_0x2da3c6[_0x15e018(0x482)],'pushName':_0x2da3c6[_0x15e018(0x2d5)],'messageTimestamp':_0x2da3c6[_0x15e018(0x2b7)],'source':(0x0,w['getDevice'])(_0x2da3c6[_0x15e018(0x482)]['id']),..._0x517abc},'messageTimestamp':_0x2da3c6['messageTimestamp'],'owner':this['instance'][_0x15e018(0x3e2)],'source':(0x0,w[_0x15e018(0x6bf)])(_0x2da3c6[_0x15e018(0x482)]['id']),'expiration':_0x843ec?.[_0x15e018(0x896)]?.[_0x15e018(0x2ff)]||0x0};if(_0x843ec||(this['logger'][_0x15e018(0x84d)]('Mensagem\x20não\x20suportada'),this['logger']['error'](_0x48f13e)),_0x517abc[_0x15e018(0x51e)]===_0x15e018(0x1ea)){console[_0x15e018(0x84d)](_0x15e018(0x6db)),await this[_0x15e018(0x6b3)](_0x2da3c6);continue;}this[_0x15e018(0x69f)][_0x15e018(0x315)](this['instanceName']+'\x20('+this[_0x15e018(0x60b)][_0x15e018(0x3e2)]+'):\x20'+(_0x48f13e[_0x15e018(0x482)]?.[_0x15e018(0x8bf)]?_0x15e018(0x425):_0x15e018(0x655))+'\x20['+_0x48f13e[_0x15e018(0x482)]?.[_0x15e018(0x745)]['replace'](_0x15e018(0x3c5),'')+_0x15e018(0x261)+_0x48f13e['messageType']+')'),_0x48f13e['message_normalized']?.[_0x15e018(0x51e)]&&this[_0x15e018(0x69f)]['log'](_0x2da3c6[_0x15e018(0x482)]['id']+':\x20'+_0x48f13e['message_normalized']?.[_0x15e018(0x51e)]),await this[_0x15e018(0x8f0)][_0x15e018(0x272)][_0x15e018(0x5dc)]([_0x48f13e],this[_0x15e018(0x60b)][_0x15e018(0x3e2)]),this['sendDataWebhook'](_0x15e018(0x71a),_0x48f13e),F(this[_0x15e018(0x2e9)],_0x15e018(0x174),{'message':_0x48f13e}),_0x2da3c6[_0x15e018(0x482)][_0x15e018(0x745)]!==_0x15e018(0x22c)&&await this['updateChatWithMessage'](_0x31bf0c,_0x48f13e,_0x15e018(0x61e));}},'messages.update':async(_0x38360e,_0x34f602)=>{const _0x338a6b=_0x44ef34;let _0x239cb7={0x0:_0x338a6b(0x360),0x1:_0x338a6b(0x675),0x2:_0x338a6b(0x2eb),0x3:_0x338a6b(0x8d9),0x4:_0x338a6b(0x3e5),0x5:'PLAYED'};for await(let {key:_0x254034,update:_0x3a76c7}of _0x38360e){if(this[_0x338a6b(0x3a8)]?.[_0x338a6b(0x5e4)]&&_0x254034[_0x338a6b(0x745)][_0x338a6b(0x5a5)]('@g.us')){this[_0x338a6b(0x69f)]['verbose'](this[_0x338a6b(0x2e9)]+'\x20('+this[_0x338a6b(0x60b)][_0x338a6b(0x3e2)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x254034[_0x338a6b(0x745)]!=='status@broadcast'){let _0x1ebc29=Date[_0x338a6b(0x8d0)](),_0x134355;_0x3a76c7[_0x338a6b(0x272)]===null&&_0x3a76c7[_0x338a6b(0x18a)]===void 0x0?_0x134355=_0x338a6b(0x8b8):_0x134355=_0x239cb7[_0x3a76c7[_0x338a6b(0x18a)]];let _0x2b67ef=_0x254034[_0x338a6b(0x745)]['replace'](/:\d{1,2}@/g,'@'),_0x189647={..._0x254034,'remoteJid':_0x2b67ef,'status':_0x134355,'datetime':_0x1ebc29,'owner':this['instance']['wuid']};this[_0x338a6b(0x3ac)](_0x338a6b(0x872),_0x189647),await this[_0x338a6b(0x2d3)](_0x254034,_0x189647);}}},'labels.association':async({type:_0x521c69,association:_0x408225})=>{const _0x3d611a=_0x44ef34;if(_0x408225[_0x3d611a(0x4ae)]===_0x3d611a(0x1e0)){let _0x1903ce,_0x53b577=0x0;for(;!_0x1903ce&&_0x53b577<this[_0x3d611a(0x6f9)];)_0x1903ce=await this['repository']['chat'][_0x3d611a(0x547)]({'where':{'_id':_0x408225[_0x3d611a(0x8b9)]}},this['instance'][_0x3d611a(0x3e2)]),_0x1903ce||(_0x53b577++,this['logger'][_0x3d611a(0x6c3)](this[_0x3d611a(0x2e9)]+'\x20('+this[_0x3d611a(0x60b)]['wuid']+_0x3d611a(0x241)+_0x408225[_0x3d611a(0x8b9)]+_0x3d611a(0x74c)+this[_0x3d611a(0x817)]+_0x3d611a(0x8ea)+_0x53b577+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x3d611a(0x40d)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x1903ce){this['logger'][_0x3d611a(0x84d)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x408225[_0x3d611a(0x8b9)]+_0x3d611a(0x62c)+this[_0x3d611a(0x6f9)]+'\x20tentativas.');return;}switch(_0x521c69){case _0x3d611a(0x3bf):console[_0x3d611a(0x315)](_0x408225),await this[_0x3d611a(0x8f0)][_0x3d611a(0x85e)][_0x3d611a(0x6b6)]({'where':{'_id':_0x408225[_0x3d611a(0x8b9)]}},{'leadInfo.etiquetas':_0x408225[_0x3d611a(0x63e)]},this[_0x3d611a(0x60b)][_0x3d611a(0x3e2)],void 0x0,_0x3d611a(0x629));break;case _0x3d611a(0x719):console[_0x3d611a(0x315)](_0x408225),await this[_0x3d611a(0x8f0)][_0x3d611a(0x85e)]['updateOne']({'where':{'_id':_0x408225['chatId']}},{'leadInfo.etiquetas':_0x408225[_0x3d611a(0x63e)]},this[_0x3d611a(0x60b)][_0x3d611a(0x3e2)],void 0x0,_0x3d611a(0x81a));break;default:this[_0x3d611a(0x69f)]['error'](_0x3d611a(0x1c8)+_0x521c69+']');}}},'labels.edit':async _0x254e48=>{const _0x6d1cde=_0x44ef34;if(!_0x254e48||!_0x254e48['id']){this[_0x6d1cde(0x69f)]['error'](_0x6d1cde(0x3fc));return;}if(!_0x254e48[_0x6d1cde(0x624)]){let _0x355083=[_0x6d1cde(0x82d),_0x6d1cde(0x53e),_0x6d1cde(0x5be),_0x6d1cde(0x6b2),_0x6d1cde(0x75d),_0x6d1cde(0x438),_0x6d1cde(0x6b7),_0x6d1cde(0x3cb),_0x6d1cde(0x795),'#d8e651',_0x6d1cde(0x631),'#ffc5c7','#92ceac','#f64847','#00a1f2',_0x6d1cde(0x665),_0x6d1cde(0x196),_0x6d1cde(0x329),_0x6d1cde(0x225),_0x6d1cde(0x678)],_0x3904be;typeof _0x254e48[_0x6d1cde(0x5fd)]==_0x6d1cde(0x7c6)&&_0x254e48[_0x6d1cde(0x5fd)]>=0x0&&_0x254e48[_0x6d1cde(0x5fd)]<_0x355083[_0x6d1cde(0x245)]?_0x3904be=_0x355083[_0x254e48['color']]:(this[_0x6d1cde(0x69f)]['error'](_0x6d1cde(0x6ba)+_0x254e48[_0x6d1cde(0x5fd)]),_0x3904be='#000000');let _0x2740cd={'_id':_0x254e48['id'],'colorHex':_0x3904be,'color':_0x254e48?.['color'],'name':_0x254e48?.[_0x6d1cde(0x4a9)],'owner':this[_0x6d1cde(0x60b)]['wuid']};await this[_0x6d1cde(0x8f0)]['label'][_0x6d1cde(0x6b6)]({'where':{'_id':_0x254e48['id']}},_0x2740cd,this['instance'][_0x6d1cde(0x3e2)]),this[_0x6d1cde(0x69f)][_0x6d1cde(0x6c3)](this[_0x6d1cde(0x2e9)]+'\x20('+this[_0x6d1cde(0x60b)][_0x6d1cde(0x3e2)]+_0x6d1cde(0x57b)+_0x254e48);}_0x254e48['deleted']&&(await this[_0x6d1cde(0x8f0)][_0x6d1cde(0x7a2)][_0x6d1cde(0x30b)]({'where':{'_id':_0x254e48['id']}},this['instance'][_0x6d1cde(0x3e2)]),this[_0x6d1cde(0x69f)]['info'](_0x6d1cde(0x2cf)+_0x254e48['id']));}},this[_0x44ef34(0x65a)]={'groups.upsert':async _0xc07d66=>{const _0x327a50=_0x44ef34;this['localWebhook']?.['groups_ignore']||this['sendDataWebhook']('groups.upsert',_0xc07d66);for(let _0x476878 of _0xc07d66)await this[_0x327a50(0x5aa)](_0x476878);},'groups.update':async _0xebe840=>{const _0x1f071e=_0x44ef34;this['localWebhook']?.[_0x1f071e(0x5e4)]||this['sendDataWebhook'](_0x1f071e(0x7cd),_0xebe840);for(let _0x43f99a of _0xebe840)await this[_0x1f071e(0x5aa)](_0x43f99a);},'group-participants.update':async _0x1994a3=>{const _0x340ef2=_0x44ef34;this['localWebhook']?.['groups_ignore']||this[_0x340ef2(0x3ac)](_0x340ef2(0x515),_0x1994a3),await this['updateGroupParticipantsWebhook'](_0x1994a3);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x44ef34(0x817)]=0x1388,this[_0x44ef34(0x8b3)]=0x0,this['processPollUpdateMessage']=async _0x2d0bab=>{const _0x415c8d=_0x44ef34;if(_0x2d0bab[_0x415c8d(0x272)]?.['pollUpdateMessage']){let _0x35eab7=await this[_0x415c8d(0x4b5)](_0x2d0bab[_0x415c8d(0x272)][_0x415c8d(0x283)][_0x415c8d(0x322)],!0x0);if(_0x35eab7){let _0x34b64c=_0x35eab7[_0x415c8d(0x482)][_0x415c8d(0x8bf)]?this[_0x415c8d(0x60b)]['wuid']+'@s.whatsapp.net':_0x35eab7[_0x415c8d(0x482)][_0x415c8d(0x2ee)]||_0x35eab7['key'][_0x415c8d(0x745)],_0x7b7f54=_0x35eab7[_0x415c8d(0x482)]['id'],_0x237a8c=_0x35eab7['message'],_0x114b96=Buffer[_0x415c8d(0x818)](_0x237a8c['messageContextInfo']['messageSecret']['toString'](_0x415c8d(0x8ad)),_0x415c8d(0x8ad)),_0x17261b=(0x0,w[_0x415c8d(0x684)])(_0x2d0bab[_0x415c8d(0x272)]['pollUpdateMessage'][_0x415c8d(0x749)],{'pollCreatorJid':_0x34b64c,'pollMsgId':_0x7b7f54,'pollEncKey':_0x114b96,'voterJid':_0x2d0bab[_0x415c8d(0x482)]['fromMe']?this[_0x415c8d(0x60b)][_0x415c8d(0x3e2)]+'@s.whatsapp.net':_0x2d0bab[_0x415c8d(0x482)][_0x415c8d(0x745)][_0x415c8d(0x5f1)]('g.us')?_0x2d0bab[_0x415c8d(0x482)][_0x415c8d(0x2ee)]:_0x2d0bab['key'][_0x415c8d(0x745)]}),_0x1072a0=[],_0x29f522=_0x17261b[_0x415c8d(0x286)][_0x415c8d(0x686)](_0x932a60=>Buffer[_0x415c8d(0x818)](_0x932a60)[_0x415c8d(0x6e2)](_0x415c8d(0x8ad)));for(let {optionName:_0x5b2479}of _0x237a8c[_0x415c8d(0x78a)]?.[_0x415c8d(0x195)]||_0x237a8c[_0x415c8d(0x72c)]?.['options']||_0x237a8c[_0x415c8d(0x281)]?.['options'])_0x29f522[_0x415c8d(0x327)]((0x0,w[_0x415c8d(0x1ab)])(Buffer[_0x415c8d(0x818)](_0x5b2479))[_0x415c8d(0x6e2)](_0x415c8d(0x8ad)))>-0x1&&_0x1072a0[_0x415c8d(0x184)](_0x5b2479);return _0x1072a0;}}return null;},this[_0x44ef34(0x384)]=(_0x343097,_0x1fcc38,_0x5d7620)=>{const _0x70f39d=_0x44ef34;try{let _0x8d803f=_0x343097?(0x0,w[_0x70f39d(0x779)])(_0x343097)[_0x1fcc38]:void 0x0,_0x540660={},_0x315f76=null,_0x2dbc48=null,_0x392a70=null,_0x3bef9d=null;_0x1fcc38==='protocolMessage'&&_0x8d803f?.['editedMessage']&&(_0x1fcc38=(0x0,w[_0x70f39d(0x64a)])(_0x8d803f['editedMessage']),_0x315f76=_0x343097[_0x70f39d(0x73a)][_0x70f39d(0x482)]['id'],_0x8d803f=_0x343097[_0x70f39d(0x73a)][_0x70f39d(0x302)][_0x1fcc38]),_0x343097[_0x1fcc38]?.[_0x70f39d(0x896)]?.['stanzaId']&&_0x343097[_0x1fcc38]?.[_0x70f39d(0x896)]?.['quotedMessage']&&(_0x2dbc48=_0x343097[_0x1fcc38][_0x70f39d(0x896)][_0x70f39d(0x563)]),_0x343097['reactionMessage']&&(_0x392a70=_0x343097['reactionMessage']['key']['id']);let _0x1ebb3c;if(_0x8d803f&&typeof _0x8d803f==_0x70f39d(0x56d)&&_0x70f39d(0x322)in _0x8d803f&&({pollCreationMessageKey:_0x1ebb3c}=_0x8d803f),_0x1fcc38===_0x70f39d(0x78a)||_0x1fcc38===_0x70f39d(0x281)||_0x1fcc38===_0x70f39d(0x72c)){let _0x4a3859=_0x8d803f[_0x70f39d(0x195)][_0x70f39d(0x686)](_0x1e7c40=>_0x1e7c40[_0x70f39d(0x69a)])['join']('|');_0x540660[_0x70f39d(0x1fc)]=_0x4a3859;}if(_0x1fcc38==='interactiveMessage'){let _0x490a17=_0x8d803f[_0x70f39d(0x56e)]['buttons'][_0x70f39d(0x686)](_0x187f04=>JSON[_0x70f39d(0x599)](_0x187f04[_0x70f39d(0x897)])[_0x70f39d(0x228)])['join']('|');_0x540660[_0x70f39d(0x1fc)]=_0x490a17;}_0x1fcc38===_0x70f39d(0x669)&&(_0x540660[_0x70f39d(0x885)]=_0x8d803f?.[_0x70f39d(0x8cd)]?.[_0x70f39d(0x2df)]);let _0x5ecd3b='';if(_0x8d803f&&(_0x5ecd3b+=_0x8d803f['name']?_0x8d803f['name']:'',_0x5ecd3b+=_0x8d803f['caption']?'\x20'+_0x8d803f[_0x70f39d(0x428)]:'',_0x5ecd3b+=_0x8d803f['conversation']?'\x20'+_0x8d803f[_0x70f39d(0x5b8)]:'',_0x5ecd3b+=_0x8d803f[_0x70f39d(0x51f)]?'\x20'+_0x8d803f[_0x70f39d(0x51f)]:'',_0x1fcc38!=='interactiveResponseMessage'&&(_0x5ecd3b+=_0x8d803f[_0x70f39d(0x72b)]?.[_0x70f39d(0x51e)]?'\x20'+_0x8d803f[_0x70f39d(0x72b)][_0x70f39d(0x51e)]:''),_0x5ecd3b+=_0x8d803f?.[_0x70f39d(0x707)]?.['text']?'\x20'+_0x8d803f?.['footer']?.[_0x70f39d(0x51e)]:''),_0x1fcc38===_0x70f39d(0x1fe)){_0x5ecd3b=(_0x8d803f[_0x70f39d(0x71e)]||'')+'\x0a'+(_0x8d803f['description']||'')+'\x0a'+(_0x8d803f[_0x70f39d(0x626)]||'');let _0xf12bc5=this[_0x70f39d(0x189)](_0x8d803f[_0x70f39d(0x4d0)]);_0x540660['convertedOptions']=_0xf12bc5;}if(_0x1fcc38==='listResponseMessage'&&(_0x5d7620=_0x8d803f[_0x70f39d(0x71e)],_0x3bef9d=_0x8d803f?.['singleSelectReply']?.['selectedRowId']),_0x1fcc38===_0x70f39d(0x58d)){let _0x1f23da=_0x8d803f?.[_0x70f39d(0x37b)];_0x1f23da&&_0x1f23da['name']==='menu_options'&&(_0x3bef9d=JSON[_0x70f39d(0x599)](_0x1f23da[_0x70f39d(0x1f9)])['id']),_0x5d7620=_0x8d803f?.[_0x70f39d(0x72b)]?.[_0x70f39d(0x51e)];}if(_0x1fcc38===_0x70f39d(0x192)&&(_0x5d7620=_0x8d803f?.[_0x70f39d(0x8d2)],_0x3bef9d=_0x8d803f?.[_0x70f39d(0x4af)]),_0x1fcc38===_0x70f39d(0x6a6)&&(_0x5d7620=_0x8d803f?.[_0x70f39d(0x8d2)],_0x3bef9d=_0x8d803f?.[_0x70f39d(0x19d)]),_0x8d803f&&_0x8d803f[_0x70f39d(0x344)]){let _0xdbb06d=this[_0x70f39d(0x87a)](JSON[_0x70f39d(0x5b9)](_0x8d803f[_0x70f39d(0x344)],null,0x2));_0x5ecd3b=_0x5ecd3b+'\x0a'+_0xdbb06d;}if(_0x8d803f){let {selectedButtonId:_0x2cf675,nativeFlowResponseMessage:_0x482d72,selectedId:_0x529dda,selectedDisplayText:_0x511a32,selectedIndex:_0x127b5f,body:_0x3698bc,nativeFlowMessage:_0x484bba,singleSelectReply:_0x2b187e,sections:_0x5ebd91,listType:_0x218577,displayName:_0x18cb36,vcard:_0x347818,contactVcard:_0x340288,name:_0x3bff92,caption:_0x2f08fe,conversation:_0x171f92,pollCreationMessageKey:_0x57c5b7,footerText:_0xf566dd,contentText:_0x1e3763,pageCount:_0x500679,headerType:_0x14696e,isAvatar:_0x389d66,isAnimated:_0x59abb7,fallbackLc:_0x5628e5,fallbackLg:_0x52eb8f,namespace:_0x402006,elementName:_0x31ea2f,localizableParams:_0x53abda,viewOnce:_0x41ed82,height:_0x5bf390,width:_0x238e23,key:_0x186cb2,firstScanLength:_0x1de8c6,firstScanSidecar:_0x56712b,gifPlayback:_0x31c5ab,gifAttribution:_0x1e39d8,midQualityFileSha256:_0x186342,scansSidecar:_0x4e8371,streamingSidecar:_0x238f24,thumbnailHeight:_0x27b4f7,thumbnailWidth:_0x1a3a7a,thumbnailEncSha256:_0x4bc9c6,thumbnailDirectPath:_0x5bfe65,canonicalUrl:_0x1b57d1,matchedText:_0x3683ab,previewType:_0x16bb6a,thumbnailSha256:_0x517ec0,deviceListMetadataVersion:_0x90dbe3,inviteLinkGroupTypeV2:_0xa1a023,interactiveAnnotations:_0x34396c,scanLengths:_0x4ca62a,jpegThumbnail:_0x154ffe,url:_0x30f71e,mediaKeyTimestamp:_0x4e6f54,waveform:_0xf9b6bc,stickerSentTs:_0x19300f,firstFrameLength:_0xdfcd52,fileEncSha256:_0x2881ec,contextInfo:_0x3d3fe4,firstFrameSidecar:_0x3a2454,directPath:_0x370627,fileSha256:_0x5ed5f7,mediaKey:_0x36961a,senderTimestampMs:_0x5476d1,..._0x327f15}=_0x8d803f;(_0x1fcc38===_0x70f39d(0x1fe)||_0x1fcc38==='listResponseMessage')&&(delete _0x327f15[_0x70f39d(0x71e)],delete _0x327f15[_0x70f39d(0x570)]),typeof _0x8d803f=='string'?_0x540660={'text':_0x8d803f,'type':_0x1fcc38||_0x70f39d(0x5b8),..._0x315f76&&{'edited':_0x315f76},..._0x2dbc48&&{'quoted':_0x2dbc48},..._0x392a70&&{'reaction':_0x392a70}}:_0x540660={'text':_0x5ecd3b,..._0x327f15,..._0x1fcc38===_0x70f39d(0x283)?{'poll_id':_0x8d803f[_0x70f39d(0x322)]['id'],'quoted':_0x8d803f[_0x70f39d(0x322)]['id'],'vote':_0x5d7620}:{},..._0x1fcc38==='listResponseMessage'?{'buttonOrList_id':_0x3bef9d,'vote':_0x5d7620}:{},..._0x1fcc38===_0x70f39d(0x58d)?{'buttonOrList_id':_0x3bef9d,'vote':_0x5d7620}:{},..._0x1fcc38==='templateButtonReplyMessage'?{'buttonOrList_id':_0x3bef9d,'vote':_0x5d7620}:{},..._0x1fcc38===_0x70f39d(0x6a6)?{'buttonOrList_id':_0x3bef9d,'vote':_0x5d7620}:{},'type':_0x1fcc38,..._0x315f76&&{'edited':_0x315f76},..._0x2dbc48&&{'quoted':_0x2dbc48},..._0x392a70&&{'reaction':_0x392a70},...(_0x1fcc38==='pollCreationMessage'||_0x1fcc38==='pollCreationMessageV2'||_0x1fcc38==='pollCreationMessageV3'||_0x1fcc38===_0x70f39d(0x1fe)||_0x1fcc38===_0x70f39d(0x380))&&{'convertedOptions':_0x540660[_0x70f39d(0x1fc)]}};}return{'messageType':_0x1fcc38,'messageContent':_0x8d803f,'message_normalized':_0x540660};}catch(_0x24d16b){return this[_0x70f39d(0x69f)][_0x70f39d(0x84d)](_0x70f39d(0x381)+_0x24d16b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x44ef34(0x5ae)]=[],(this[_0x44ef34(0x7d5)](),this[_0x44ef34(0x56b)](),this['instance']['qrcode']={'count':0x0},this[_0x44ef34(0x60b)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}['addToProcessedMessages'](_0x17251c,_0x26d22c){const _0x10e142=a0_0x1b7b78;this[_0x10e142(0x8a7)][_0x17251c]||(this[_0x10e142(0x8a7)][_0x17251c]=new Set()),this['processedMessagesCache'][_0x17251c][_0x10e142(0x3bf)](_0x26d22c),setTimeout(()=>this[_0x10e142(0x8a7)][_0x17251c][_0x10e142(0x30b)](_0x26d22c),0x2710);}['isMessageProcessed'](_0x5e088d,_0x50babe){return this['processedMessagesCache'][_0x5e088d]?.['has'](_0x50babe)??!0x1;}set['instanceName'](_0x5818bd){const _0x5b152e=a0_0x1b7b78;if(!_0x5818bd){this[_0x5b152e(0x60b)]['name']=(0x0,Ti['v4'])();return;}this['instance'][_0x5b152e(0x4a9)]=_0x5818bd,this[_0x5b152e(0x3ac)](_0x5b152e(0x451),{'instance':this[_0x5b152e(0x60b)][_0x5b152e(0x4a9)],'status':_0x5b152e(0x436)});}get[a0_0x1b7b78(0x2e9)](){const _0x169ecc=a0_0x1b7b78;return this[_0x169ecc(0x60b)]['name'];}get[a0_0x1b7b78(0x3e2)](){const _0x43bde2=a0_0x1b7b78;return this[_0x43bde2(0x60b)][_0x43bde2(0x3e2)];}async['getProfileName'](){const _0x350556=a0_0x1b7b78;let _0x29b51e=this['client'][_0x350556(0x45e)]?.[_0x350556(0x4a9)]??this[_0x350556(0x567)]['user']?.[_0x350556(0x76b)];if(!_0x29b51e){if(this['configService']['get'](_0x350556(0x301))[_0x350556(0x7eb)]){let _0x4b41e1=await T[_0x350556(0x1ac)]()['db'](this[_0x350556(0x6e6)][_0x350556(0x234)](_0x350556(0x301))['CONNECTION'][_0x350556(0x824)]+_0x350556(0x7fd))[_0x350556(0x7f5)](this[_0x350556(0x2e9)])[_0x350556(0x547)]({'_id':_0x350556(0x73f)});if(_0x4b41e1){let _0x117e61=JSON['parse'](JSON[_0x350556(0x5b9)](_0x4b41e1),w[_0x350556(0x8b6)][_0x350556(0x729)]);_0x29b51e=_0x117e61['me']?.[_0x350556(0x4a9)]||_0x117e61['me']?.[_0x350556(0x76b)];}}else{if((0x0,Le[_0x350556(0x5f8)])((0x0,j[_0x350556(0x44f)])(Se,this[_0x350556(0x2e9)],_0x350556(0x2db)))){let _0x2dd22f=JSON[_0x350556(0x599)]((0x0,Le['readFileSync'])((0x0,j[_0x350556(0x44f)])(Se,this[_0x350556(0x2e9)],'creds.json'),{'encoding':_0x350556(0x48a)}));_0x29b51e=_0x2dd22f['me']?.['name']||_0x2dd22f['me']?.[_0x350556(0x76b)];}}}return _0x29b51e;}get['profilePictureUrl'](){const _0x2775f4=a0_0x1b7b78;return this['instance'][_0x2775f4(0x8b7)];}async[a0_0x1b7b78(0x333)](){const _0x2dc7d=a0_0x1b7b78;let _0x1ca590=this['instance']['wuid']+_0x2dc7d(0x3c5);try{await this['client']['getBusinessProfile'](_0x1ca590)?this['instance'][_0x2dc7d(0x460)]=!0x0:this['instance'][_0x2dc7d(0x460)]=!0x1;}catch{this[_0x2dc7d(0x60b)]['isBusiness']=!0x1;}return this[_0x2dc7d(0x69f)][_0x2dc7d(0x6c3)](this['instanceName']+'\x20('+this[_0x2dc7d(0x60b)][_0x2dc7d(0x3e2)]+_0x2dc7d(0x7cb)+this[_0x2dc7d(0x60b)][_0x2dc7d(0x460)]),this[_0x2dc7d(0x60b)][_0x2dc7d(0x460)];}get[a0_0x1b7b78(0x503)](){const _0xc694ab=a0_0x1b7b78;return this[_0xc694ab(0x60b)][_0xc694ab(0x347)]?.[_0xc694ab(0x551)]?{'pairingCode':this[_0xc694ab(0x60b)][_0xc694ab(0x347)]?.[_0xc694ab(0x551)]}:{'code':this['instance'][_0xc694ab(0x347)]?.[_0xc694ab(0x27f)],'base64':this[_0xc694ab(0x60b)]['qrcode']?.[_0xc694ab(0x20c)]};}async[a0_0x1b7b78(0x251)](){const _0x29769d=a0_0x1b7b78;let _0x4d6501=await this['repository'][_0x29769d(0x58f)][_0x29769d(0x83c)](this[_0x29769d(0x2e9)]);this['localWebhook'][_0x29769d(0x430)]=_0x4d6501?.[_0x29769d(0x430)],this['localWebhook'][_0x29769d(0x886)]=_0x4d6501?.[_0x29769d(0x886)],this[_0x29769d(0x3a8)][_0x29769d(0x841)]=_0x4d6501?.[_0x29769d(0x841)],this['localWebhook'][_0x29769d(0x530)]=_0x4d6501?.['STATUS_INSTANCE'],this[_0x29769d(0x3a8)][_0x29769d(0x2ef)]=_0x4d6501?.[_0x29769d(0x2ef)],this[_0x29769d(0x3a8)][_0x29769d(0x6fe)]=_0x4d6501?.['SEND_MESSAGE'],this[_0x29769d(0x3a8)][_0x29769d(0x61e)]=_0x4d6501?.[_0x29769d(0x61e)],this['localWebhook'][_0x29769d(0x835)]=_0x4d6501?.[_0x29769d(0x835)],this[_0x29769d(0x3a8)][_0x29769d(0x88e)]=_0x4d6501?.[_0x29769d(0x88e)],this[_0x29769d(0x3a8)][_0x29769d(0x1c3)]=_0x4d6501?.[_0x29769d(0x1c3)],this[_0x29769d(0x3a8)][_0x29769d(0x411)]=_0x4d6501?.[_0x29769d(0x411)],this[_0x29769d(0x3a8)][_0x29769d(0x4b0)]=_0x4d6501?.[_0x29769d(0x4b0)],this[_0x29769d(0x3a8)][_0x29769d(0x596)]=_0x4d6501?.[_0x29769d(0x596)],this[_0x29769d(0x3a8)][_0x29769d(0x190)]=_0x4d6501?.['CHATS_UPDATE'],this[_0x29769d(0x3a8)][_0x29769d(0x4a4)]=_0x4d6501?.[_0x29769d(0x4a4)],this[_0x29769d(0x3a8)][_0x29769d(0x2bf)]=_0x4d6501?.[_0x29769d(0x2bf)],this[_0x29769d(0x3a8)][_0x29769d(0x6e3)]=_0x4d6501?.['CONTACTS_UPSERT'],this['localWebhook']['CONTACTS_UPDATE']=_0x4d6501?.[_0x29769d(0x4c1)],this['localWebhook'][_0x29769d(0x74a)]=_0x4d6501?.[_0x29769d(0x74a)],this['localWebhook'][_0x29769d(0x2c2)]=_0x4d6501?.['MESSAGES_SET'],this[_0x29769d(0x3a8)]['CONNECTION_UPDATE']=_0x4d6501?.[_0x29769d(0x41a)],this[_0x29769d(0x3a8)][_0x29769d(0x5e4)]=_0x4d6501?.['groups_ignore'];}async['setWebhook'](_0x12f86a){const _0x457a8a=a0_0x1b7b78;let _0x215067=[_0x457a8a(0x49d),_0x457a8a(0x430),_0x457a8a(0x886),_0x457a8a(0x841),_0x457a8a(0x530),'QRCODE_UPDATED','MESSAGES_UPDATE',_0x457a8a(0x61e),_0x457a8a(0x6fe),'GROUPS_UPSERT',_0x457a8a(0x1c3),_0x457a8a(0x411),'CHATS_SET',_0x457a8a(0x596),'CHATS_UPDATE','CHATS_DELETE','CONTACTS_SET',_0x457a8a(0x6e3),_0x457a8a(0x4c1),_0x457a8a(0x74a),_0x457a8a(0x2c2),_0x457a8a(0x41a),'groups_ignore'],_0x1b13ed={};return _0x215067['forEach'](_0x5e9d88=>{_0x12f86a[_0x5e9d88]!==void 0x0&&(_0x1b13ed[_0x5e9d88]=_0x12f86a[_0x5e9d88]);}),_0x1b13ed['url']&&(_0x1b13ed['url']=_0x1b13ed['url'][_0x457a8a(0x1da)]()),await this[_0x457a8a(0x8f0)]['webhook']['create'](_0x1b13ed,this[_0x457a8a(0x2e9)]),Object['assign'](this[_0x457a8a(0x3a8)],_0x1b13ed),await this['repository'][_0x457a8a(0x58f)]['find'](this[_0x457a8a(0x2e9)]);}async[a0_0x1b7b78(0x4c0)](){const _0x39b938=a0_0x1b7b78;return await this['repository'][_0x39b938(0x58f)][_0x39b938(0x83c)](this[_0x39b938(0x2e9)]);}async[a0_0x1b7b78(0x3ac)](_0x1d1989,_0x2865b8){const _0xed73e5=a0_0x1b7b78;let _0x4009a9=_0x1d1989[_0xed73e5(0x465)](/[\.-]/gm,'_')['toUpperCase'](),_0x22241c=this['localWebhook'][_0xed73e5(0x886)]&&(0x0,J['isURL'])(this[_0xed73e5(0x3a8)]['url'])?this['localWebhook'][_0xed73e5(0x430)]+(this[_0xed73e5(0x3a8)]['local_map']?this[_0xed73e5(0x30a)][_0x1d1989]:''):null,_0x5e560c=this[_0xed73e5(0x3a8)][_0x4009a9],_0x13ce2c=he&&he[_0xed73e5(0x886)]&&(0x0,J['isURL'])(he[_0xed73e5(0x430)])?he[_0xed73e5(0x430)]+(he[_0xed73e5(0x841)]?this[_0xed73e5(0x30a)][_0x1d1989]:''):null,_0xe3b7ab=he?he[_0x4009a9]:null;if(_0x5e560c&&_0x22241c)try{await Q[_0xed73e5(0x7ac)][_0xed73e5(0x262)]({'baseURL':_0x22241c})[_0xed73e5(0x509)]('',{'event':_0x1d1989,'instance':this['instance'][_0xed73e5(0x4a9)],'apikey':this['instance']['apikey'],'data':_0x2865b8}),this['logger'][_0xed73e5(0x315)](this['instanceName']+'\x20('+this[_0xed73e5(0x60b)][_0xed73e5(0x3e2)]+_0xed73e5(0x41d)+_0x1d1989+':\x20'+_0x22241c);}catch{this[_0xed73e5(0x69f)][_0xed73e5(0x84d)](this[_0xed73e5(0x2e9)]+'\x20('+this[_0xed73e5(0x60b)]['wuid']+_0xed73e5(0x620)+_0x1d1989+':\x20'+_0x22241c);}if(_0xe3b7ab&&_0x13ce2c)try{await Q[_0xed73e5(0x7ac)][_0xed73e5(0x262)]({'baseURL':_0x13ce2c})['post']('',{'event':_0x1d1989,'instance':this[_0xed73e5(0x60b)][_0xed73e5(0x4a9)],'apikey':this[_0xed73e5(0x60b)][_0xed73e5(0x41c)],'data':_0x2865b8}),this['logger'][_0xed73e5(0x315)](this[_0xed73e5(0x2e9)]+'\x20('+this[_0xed73e5(0x60b)][_0xed73e5(0x3e2)]+_0xed73e5(0x8da)+_0x1d1989+':\x20'+_0x13ce2c);}catch{this[_0xed73e5(0x69f)][_0xed73e5(0x84d)](this['instanceName']+'\x20('+this[_0xed73e5(0x60b)]['wuid']+_0xed73e5(0x571)+_0x1d1989+':\x20'+_0x13ce2c);}}async[a0_0x1b7b78(0x1bd)]({qr:_0x1c3270,connection:_0x27e4c0,lastDisconnect:_0x1f10b5}){const _0x46312d=a0_0x1b7b78;if(_0x1c3270){if(this[_0x46312d(0x60b)][_0x46312d(0x347)][_0x46312d(0x8e2)]===ko)return this['sendDataWebhook']('qrcode.updated',{'message':_0x46312d(0x2a7),'statusCode':w['DisconnectReason'][_0x46312d(0x6fa)]}),this['stateConnection']={'state':_0x46312d(0x3b6),'statusReason':w[_0x46312d(0x504)][_0x46312d(0x338)]},this[_0x46312d(0x3ac)](_0x46312d(0x198),{'instance':this['instance'][_0x46312d(0x4a9)],...this['stateConnection']}),this['sendDataWebhook']('status.instance',{'instance':this[_0x46312d(0x60b)][_0x46312d(0x4a9)],'status':_0x46312d(0x542)}),this[_0x46312d(0x8f0)][_0x46312d(0x2e8)][_0x46312d(0x30b)](this['instance'][_0x46312d(0x4a9)]),this[_0x46312d(0x29e)]=!0x0,ae[_0x46312d(0x703)](B,this['instance'][_0x46312d(0x4a9)]),this[_0x46312d(0x562)][_0x46312d(0x27a)](_0x46312d(0x285),this[_0x46312d(0x60b)][_0x46312d(0x4a9)]);this[_0x46312d(0x60b)]['qrcode']['count']++;let _0x123362={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x46312d(0x781),'dark':_0x46312d(0x783)}};Ii[_0x46312d(0x7ac)]['toDataURL'](_0x1c3270,_0x123362,(_0x2490be,_0x19def0)=>{const _0x362284=_0x46312d;if(_0x2490be){this['logger'][_0x362284(0x84d)](this['instanceName']+'\x20('+this['instance'][_0x362284(0x3e2)]+_0x362284(0x5fc)+(_0x2490be instanceof Error?_0x2490be[_0x362284(0x272)]:JSON[_0x362284(0x5b9)](_0x2490be,null,0x2)));return;}this[_0x362284(0x60b)][_0x362284(0x347)]['base64']=_0x19def0,this[_0x362284(0x60b)][_0x362284(0x347)][_0x362284(0x27f)]=_0x1c3270,!this[_0x362284(0x2b0)]&&this[_0x362284(0x3ac)](_0x362284(0x330),{'qrcode':{'instance':this[_0x362284(0x60b)][_0x362284(0x4a9)],'pairingCode':this['instance'][_0x362284(0x347)][_0x362284(0x551)],'code':_0x1c3270,'base64':_0x19def0}});}),this[_0x46312d(0x2b0)]?this['instance'][_0x46312d(0x347)]['pairingCode']||(await(0x0,w[_0x46312d(0x48b)])(0x7d0),this['instance']['qrcode'][_0x46312d(0x551)]=await this[_0x46312d(0x567)][_0x46312d(0x2de)](this[_0x46312d(0x2b0)])):this[_0x46312d(0x60b)]['qrcode'][_0x46312d(0x551)]=null,_i[_0x46312d(0x7ac)][_0x46312d(0x6fd)](_0x1c3270,{'small':!0x0},_0x4d2edd=>this[_0x46312d(0x69f)][_0x46312d(0x315)](_0x46312d(0x4ab)+this[_0x46312d(0x60b)][_0x46312d(0x4a9)]+_0x46312d(0x49e)+this[_0x46312d(0x60b)][_0x46312d(0x347)][_0x46312d(0x8e2)]+_0x46312d(0x7f8)+this[_0x46312d(0x60b)][_0x46312d(0x347)]['pairingCode']+'\x20}\x0a'+_0x4d2edd));}if(_0x27e4c0&&(this[_0x46312d(0x43c)]={'state':_0x27e4c0,'statusReason':_0x1f10b5?.['error']?.[_0x46312d(0x4e8)]?.[_0x46312d(0x298)]??0xc8},this[_0x46312d(0x3ac)]('connection.update',{'instance':this[_0x46312d(0x60b)][_0x46312d(0x4a9)],...this['stateConnection']})),_0x27e4c0===_0x46312d(0x42f)){if(this[_0x46312d(0x1d0)]++,this[_0x46312d(0x4bf)]['push'](Date[_0x46312d(0x8d0)]()),this['reconnectTimestamps']=this[_0x46312d(0x4bf)][_0x46312d(0x194)](_0x19dfc0=>Date[_0x46312d(0x8d0)]()-_0x19dfc0<this[_0x46312d(0x289)]),_0x1f10b5[_0x46312d(0x84d)]?.[_0x46312d(0x4e8)]?.[_0x46312d(0x298)]!==w[_0x46312d(0x504)][_0x46312d(0x716)]){let _0x3eebbe=this[_0x46312d(0x1d0)]<=0x1?0x0:Math[_0x46312d(0x4e0)](Math[_0x46312d(0x42b)](0x2,this[_0x46312d(0x1d0)]-0x1)*0x3e8,0x493e0);console[_0x46312d(0x315)](this[_0x46312d(0x2e9)]+_0x46312d(0x688)+this[_0x46312d(0x1d0)]+_0x46312d(0x217)+_0x3eebbe/0x3e8+_0x46312d(0x874)),await new Promise(_0x4d8844=>setTimeout(_0x4d8844,_0x3eebbe)),console[_0x46312d(0x315)](_0x46312d(0x549)),await this[_0x46312d(0x43a)]();}else{this[_0x46312d(0x3ac)]('status.instance',{'instance':this['instance']['name'],'status':_0x46312d(0x542)}),this[_0x46312d(0x60b)]['ScheduleMessage']['isConnected']=!0x1,this['repository'][_0x46312d(0x58f)][_0x46312d(0x30b)](this[_0x46312d(0x2e9)]),this[_0x46312d(0x8f0)]['auth'][_0x46312d(0x262)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance'][_0x46312d(0x4a9)]),ae[_0x46312d(0x703)](B,this[_0x46312d(0x60b)][_0x46312d(0x4a9)]);try{this[_0x46312d(0x69f)]['verbose'](this[_0x46312d(0x2e9)]+'\x20('+this[_0x46312d(0x60b)]['wuid']+_0x46312d(0x1cb));let _0x3a53ea=await this[_0x46312d(0x8f0)][_0x46312d(0x272)][_0x46312d(0x2b8)](this[_0x46312d(0x60b)][_0x46312d(0x3e2)]);_0x3a53ea[_0x46312d(0x845)]?this[_0x46312d(0x69f)][_0x46312d(0x776)](this[_0x46312d(0x2e9)]+'\x20('+this[_0x46312d(0x60b)][_0x46312d(0x3e2)]+_0x46312d(0x794)):this[_0x46312d(0x69f)][_0x46312d(0x84d)](_0x46312d(0x35c)+_0x3a53ea['error']);}catch(_0x2d4993){this[_0x46312d(0x69f)][_0x46312d(0x84d)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x2d4993[_0x46312d(0x272)]);}this[_0x46312d(0x60b)][_0x46312d(0x1ed)]['delayMessage']!==null&&(this[_0x46312d(0x69f)][_0x46312d(0x776)](this[_0x46312d(0x2e9)]+'\x20('+this['instance']['wuid']+_0x46312d(0x560)),clearInterval(this[_0x46312d(0x60b)]['ScheduleMessage'][_0x46312d(0x5ff)]),this[_0x46312d(0x60b)][_0x46312d(0x1ed)][_0x46312d(0x5ff)]=null),this[_0x46312d(0x69f)][_0x46312d(0x776)](this[_0x46312d(0x2e9)]+'\x20('+this[_0x46312d(0x60b)][_0x46312d(0x3e2)]+_0x46312d(0x831)),this[_0x46312d(0x767)]=null,this[_0x46312d(0x562)][_0x46312d(0x27a)](_0x46312d(0x621),this[_0x46312d(0x60b)][_0x46312d(0x4a9)],_0x46312d(0x2ba)),this['client']?.['ws']?.[_0x46312d(0x42f)](),this['client'][_0x46312d(0x67e)](new Error('Close\x20connection'));}}if(_0x27e4c0==='open'){this[_0x46312d(0x69f)]['warn'](this[_0x46312d(0x2e9)]+'\x20('+this[_0x46312d(0x60b)]['wuid']+_0x46312d(0x242)+this[_0x46312d(0x567)][_0x46312d(0x807)]['creds']?.['myAppStateKeyId']),this[_0x46312d(0x567)][_0x46312d(0x807)][_0x46312d(0x73f)]?.['myAppStateKeyId']||(this[_0x46312d(0x69f)][_0x46312d(0x31e)](this[_0x46312d(0x2e9)]+'\x20('+this[_0x46312d(0x60b)][_0x46312d(0x3e2)]+_0x46312d(0x404)),this[_0x46312d(0x567)]['ev'][_0x46312d(0x1d6)]()),this[_0x46312d(0x7e3)],this['instance']['wuid']=this[_0x46312d(0x567)][_0x46312d(0x45e)]['id'][_0x46312d(0x465)](/:\d+/,'')[_0x46312d(0x465)](_0x46312d(0x3c5),''),this['instance'][_0x46312d(0x8b7)]=(await this['profilePicture'](this[_0x46312d(0x60b)]['wuid']+_0x46312d(0x3c5)))[_0x46312d(0x8b7)],this[_0x46312d(0x8f0)][_0x46312d(0x2e8)]['create']({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x46312d(0x60b)]['name']);let _0x3801de=_0x46312d(0x440)+this[_0x46312d(0x60b)][_0x46312d(0x3e2)],_0x42e481=0x28,_0x3921ff=Math[_0x46312d(0x702)]((_0x42e481-_0x3801de['length'])/0x2),_0x4dd413='\x20'[_0x46312d(0x7dc)](_0x3921ff),_0x25eb53='CONECTADO\x20À\x20UAZAPI',_0x3e4e7e=_0x46312d(0x371)+this[_0x46312d(0x60b)][_0x46312d(0x4a9)],_0x3f6b34=(''+_0x4dd413+_0x3801de+_0x4dd413)[_0x46312d(0x34c)](_0x42e481,'\x20'),_0x3bf9d1=(''+_0x4dd413+_0x25eb53+_0x4dd413)[_0x46312d(0x34c)](_0x42e481,'\x20'),_0x1ffd42=(''+_0x4dd413+_0x3e4e7e+_0x4dd413)[_0x46312d(0x34c)](_0x42e481,'\x20'),_0x126a36=Math[_0x46312d(0x459)](_0x3f6b34[_0x46312d(0x245)],_0x3bf9d1['length'],_0x1ffd42[_0x46312d(0x245)]),_0x3342f0=_0x3f6b34[_0x46312d(0x34c)](_0x126a36,'\x20'),_0x15cf2c=_0x3bf9d1['padEnd'](_0x126a36,'\x20'),_0x3c7fcb=_0x1ffd42['padEnd'](_0x126a36,'\x20');this[_0x46312d(0x69f)][_0x46312d(0x6c3)]((_0x46312d(0x574)+'─'[_0x46312d(0x7dc)](_0x126a36)+_0x46312d(0x50f)+_0x15cf2c+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3c7fcb+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3342f0+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x46312d(0x7dc)](_0x126a36)+'┘')[_0x46312d(0x465)](/^ +/gm,'\x20\x20')),this[_0x46312d(0x8bc)](),this[_0x46312d(0x60b)][_0x46312d(0x1ed)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x1a95d8=a0_0x1b7b78;this[_0x1a95d8(0x1d0)]=0x0,this[_0x1a95d8(0x4bf)]=[];}async[a0_0x1b7b78(0x4b5)](_0x41bf5b,_0x5a7248=!0x1){const _0x4c2e31=a0_0x1b7b78;try{let _0x473530=await this[_0x4c2e31(0x8f0)][_0x4c2e31(0x272)]['find']({'where':{'_id':_0x41bf5b['id']}},this[_0x4c2e31(0x60b)][_0x4c2e31(0x3e2)]);return _0x5a7248?_0x473530[0x0]:_0x473530[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x9ba6b9=a0_0x1b7b78;let _0x1c62de=this[_0x9ba6b9(0x6e6)][_0x9ba6b9(0x234)]('STORE'),_0x7c5c20=this[_0x9ba6b9(0x6e6)][_0x9ba6b9(0x234)](_0x9ba6b9(0x301));_0x1c62de?.['CLEANING_INTERVAL']&&!_0x7c5c20['ENABLED']&&setInterval(()=>{const _0x3928f2=_0x9ba6b9;try{for(let [_0x51aaa2,_0x19f2bc]of Object[_0x3928f2(0x47f)](_0x1c62de))_0x19f2bc===!0x0&&(0x0,Fe[_0x3928f2(0x260)])(_0x3928f2(0x1a7)+(0x0,j['join'])(this[_0x3928f2(0x178)],_0x51aaa2[_0x3928f2(0x681)](),this[_0x3928f2(0x60b)][_0x3928f2(0x3e2)])+_0x3928f2(0x416));}catch{}},(_0x1c62de?.[_0x9ba6b9(0x5d6)]??0xe10)*0x3e8);}async[a0_0x1b7b78(0x3a4)](){const _0x1b3f80=a0_0x1b7b78;let _0x467354=this[_0x1b3f80(0x6e6)][_0x1b3f80(0x234)](_0x1b3f80(0x301)),_0x10ae68=this['configService']['get'](_0x1b3f80(0x2d4));return _0x10ae68?.[_0x1b3f80(0x7eb)]?await Os(_0x10ae68,this['instance'][_0x1b3f80(0x4a9)]):_0x467354[_0x1b3f80(0x7eb)]?await _s(this[_0x1b3f80(0x60b)][_0x1b3f80(0x4a9)]):await(0x0,w[_0x1b3f80(0x82e)])((0x0,j[_0x1b3f80(0x44f)])(Se,this[_0x1b3f80(0x60b)][_0x1b3f80(0x4a9)]));}async[a0_0x1b7b78(0x8bc)](){const _0xd7667e=a0_0x1b7b78;let _0x46e1aa=()=>Math[_0xd7667e(0x702)](Math[_0xd7667e(0x70d)]()*0x4e21)+0x7d0,_0x37a6d0=async()=>{const _0x5c331e=_0xd7667e;if(!this[_0x5c331e(0x60b)][_0x5c331e(0x1ed)][_0x5c331e(0x682)]){this[_0x5c331e(0x69f)][_0x5c331e(0x776)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5c331e(0x811)),this['isRunning']=!0x1;return;}if(this[_0x5c331e(0x60b)][_0x5c331e(0x3e2)]&&this[_0x5c331e(0x767)]&&this[_0x5c331e(0x60b)][_0x5c331e(0x1ed)][_0x5c331e(0x5ff)]!==null&&this[_0x5c331e(0x60b)]['ScheduleMessage'][_0x5c331e(0x5ff)]!==void 0x0){let _0xd6c6eb=Math['round'](this[_0x5c331e(0x60b)][_0x5c331e(0x1ed)][_0x5c331e(0x5ff)]/0xea60);this[_0x5c331e(0x69f)][_0x5c331e(0x776)](this['instanceName']+'\x20('+this[_0x5c331e(0x60b)][_0x5c331e(0x3e2)]+_0x5c331e(0x27d)+_0xd6c6eb+'\x20minutos\x20verificará\x20novas\x20mensagens'),this['isRunning']=!0x1;return;}else this[_0x5c331e(0x60b)]['wuid']&&(this[_0x5c331e(0x69f)][_0x5c331e(0x776)](this[_0x5c331e(0x2e9)]+'\x20('+this[_0x5c331e(0x60b)]['wuid']+_0x5c331e(0x715)),this['AutomateSystem']||(await this[_0x5c331e(0x17d)](),this[_0x5c331e(0x31d)](),this[_0x5c331e(0x721)]()),(this['instance'][_0x5c331e(0x1ed)][_0x5c331e(0x5ff)]===null||this['instance'][_0x5c331e(0x1ed)][_0x5c331e(0x5ff)]===void 0x0)&&await this[_0x5c331e(0x881)]());if(this[_0x5c331e(0x449)]){let _0x25097e=_0x46e1aa();this[_0x5c331e(0x69f)][_0x5c331e(0x776)](this[_0x5c331e(0x2e9)]+_0x5c331e(0x46d)+_0x25097e/0x3e8+_0x5c331e(0x3ab)),setTimeout(_0x37a6d0,_0x25097e);}};if(this[_0xd7667e(0x449)])return;this[_0xd7667e(0x449)]=!0x0;let _0x9eabea=_0x46e1aa();setTimeout(_0x37a6d0,_0x9eabea);}async[a0_0x1b7b78(0x721)](){const _0x382cfd=a0_0x1b7b78;let _0x161235=this['instance'][_0x382cfd(0x3e2)];try{let _0x2a7461=await this['repository'][_0x382cfd(0x2b4)][_0x382cfd(0x50d)]({'where':{'$or':[{'owner':_0x161235},{'whoCanUse':{'$in':[_0x161235]}},{'shareOwners':{'$in':[_0x161235]}}]}}),_0x3d6076=new Map(this[_0x382cfd(0x767)]['flows'][_0x382cfd(0x686)](_0x185179=>[_0x185179[_0x382cfd(0x49d)],_0x185179])),_0x1e4405=_0x2a7461[_0x382cfd(0x686)](_0x4c3a8e=>{const _0x43719b=_0x382cfd;let _0x4dc01a=_0x3d6076[_0x43719b(0x234)](_0x4c3a8e[_0x43719b(0x49d)]?.[_0x43719b(0x6e2)]());return{'_id':_0x4c3a8e['_id']?.[_0x43719b(0x6e2)](),'name':_0x4dc01a?.[_0x43719b(0x4a9)]??_0x4c3a8e['name'],'default':_0x4dc01a?.[_0x43719b(0x7ac)]??_0x4c3a8e[_0x43719b(0x7ac)]??!0x1,'startCommand':_0x4dc01a?.[_0x43719b(0x86b)]??_0x4c3a8e[_0x43719b(0x4ba)],'minutesToClose':_0x4dc01a?.[_0x43719b(0x3ce)]??_0x4c3a8e[_0x43719b(0x3ce)]??0xa,'readMessages':_0x4dc01a?.[_0x43719b(0x31b)]??_0x4c3a8e[_0x43719b(0x31b)]??!0x1,'testingWith':_0x4dc01a?.[_0x43719b(0x1eb)]??_0x4c3a8e[_0x43719b(0x1eb)],'canEdit':_0x4c3a8e[_0x43719b(0x186)]===_0x161235||(_0x4c3a8e['whoCanEdit']??[])[_0x43719b(0x5a5)](_0x161235),'usersCount':(_0x4c3a8e[_0x43719b(0x52c)]??[])[_0x43719b(0x245)]??0x0};}),_0x5779ee=!0x1;_0x1e4405[_0x382cfd(0x52e)](_0x2ed822=>{_0x2ed822['default']&&(_0x5779ee?_0x2ed822['default']=!0x1:_0x5779ee=!0x0);}),this[_0x382cfd(0x767)]['flows']=_0x1e4405;let _0x1a632f={'flows':_0x1e4405};return await this[_0x382cfd(0x8f0)]['automateSystem']['update'](_0x1a632f,_0x161235),this[_0x382cfd(0x69f)][_0x382cfd(0x776)](this[_0x382cfd(0x2e9)]+'\x20('+_0x161235+_0x382cfd(0x28e)),_0x1e4405[_0x382cfd(0x245)];}catch(_0x37a760){return this['logger'][_0x382cfd(0x84d)](this['instanceName']+'\x20('+_0x161235+_0x382cfd(0x424)+(_0x37a760 instanceof Error?_0x37a760[_0x382cfd(0x272)]:JSON['stringify'](_0x37a760,null,0x2))),{'message':'Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20'+(_0x37a760 instanceof Error?_0x37a760[_0x382cfd(0x272)]:JSON[_0x382cfd(0x5b9)](_0x37a760,null,0x2))};}}async[a0_0x1b7b78(0x43a)](_0x526ca7){const _0x20f5ee=a0_0x1b7b78;try{let _0x5cec38=await this['repository'][_0x20f5ee(0x60b)]['findOne']({'where':{'_id':B+'-'+this['instanceName']}}),_0x283438,_0x4f815b=!ae[_0x20f5ee(0x2d1)]||!ae[_0x20f5ee(0x4ee)];console['log'](_0x20f5ee(0x7b7)),console[_0x20f5ee(0x315)](_0x20f5ee(0x33a),Ai),console['log'](_0x20f5ee(0x1c4),this[_0x20f5ee(0x1d0)]),console[_0x20f5ee(0x315)](_0x20f5ee(0x7b7)),Ai&&!_0x4f815b&&(this['reconnectAttempts']<0x4||!this[_0x20f5ee(0x1d0)]?_0x5cec38&&_0x5cec38['ip']?(_0x283438=_0x5cec38['ip'],console[_0x20f5ee(0x315)]('Usando\x20IP\x20existente:\x20'+_0x283438)):(_0x283438=await ae['createIPv6'](B,this[_0x20f5ee(0x60b)][_0x20f5ee(0x4a9)]),_0x283438?(console['log'](_0x20f5ee(0x180)+_0x283438),await(0x0,w[_0x20f5ee(0x48b)])(0x7d0)):console[_0x20f5ee(0x84d)](_0x20f5ee(0x66f))):this['reconnectAttempts']<0x6&&(await ae[_0x20f5ee(0x703)](B,this[_0x20f5ee(0x60b)]['name']),console[_0x20f5ee(0x315)](_0x20f5ee(0x8c8)),_0x283438=await ae[_0x20f5ee(0x63a)](B,this['instance'][_0x20f5ee(0x4a9)]),_0x283438?(console[_0x20f5ee(0x315)](_0x20f5ee(0x180)+_0x283438),await(0x0,w['delay'])(0x7d0)):console[_0x20f5ee(0x84d)](_0x20f5ee(0x263)))),this[_0x20f5ee(0x251)](),this[_0x20f5ee(0x60b)][_0x20f5ee(0x41c)]=(await this[_0x20f5ee(0x8f0)]['auth'][_0x20f5ee(0x83c)](this[_0x20f5ee(0x60b)][_0x20f5ee(0x4a9)]))['apikey'],this['instance'][_0x20f5ee(0x807)]=await this['defineAuthState']();let _0x52efa2=[xi,Fs,(0x0,Ds[_0x20f5ee(0x83e)])()],_0x53fb01={'localAddress':_0x283438,'auth':{'creds':this[_0x20f5ee(0x60b)][_0x20f5ee(0x807)]['state'][_0x20f5ee(0x73f)],'keys':(0x0,w[_0x20f5ee(0x743)])(this[_0x20f5ee(0x60b)][_0x20f5ee(0x807)][_0x20f5ee(0x4a7)][_0x20f5ee(0x51a)],(0x0,Ft[_0x20f5ee(0x7ac)])({'level':_0x20f5ee(0x84d)}))},'logger':(0x0,Ft[_0x20f5ee(0x7ac)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x526ca7?['Mac\x20OS',Fs,(0x0,Ds['release'])()]:_0x52efa2,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x298c82=>{const _0x5f0d2d=_0x20f5ee;let _0x14abdf=this['localWebhook']?.[_0x5f0d2d(0x5e4)]&&(0x0,w['isJidGroup'])(_0x298c82);return(0x0,w[_0x5f0d2d(0x495)])(_0x298c82)||_0x14abdf;},'msgRetryCounterCache':this[_0x20f5ee(0x287)],'getMessage':async _0x31cb92=>await this[_0x20f5ee(0x4b5)](_0x31cb92),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x20f5ee(0x7bb)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x5ae299){const _0x3058d4=_0x20f5ee;return _0x5ae299[_0x3058d4(0x3e8)]?.[_0x3058d4(0x272)]?.[_0x3058d4(0x1fe)]?.[_0x3058d4(0x618)]===w[_0x3058d4(0x3b1)]['Message'][_0x3058d4(0x541)][_0x3058d4(0x843)][_0x3058d4(0x8d7)]&&(_0x5ae299=JSON[_0x3058d4(0x599)](JSON['stringify'](_0x5ae299)),_0x5ae299[_0x3058d4(0x3e8)][_0x3058d4(0x272)]['listMessage'][_0x3058d4(0x618)]=w[_0x3058d4(0x3b1)]['Message'][_0x3058d4(0x541)][_0x3058d4(0x843)][_0x3058d4(0x4df)]),_0x5ae299[_0x3058d4(0x1fe)]?.[_0x3058d4(0x618)]==w[_0x3058d4(0x3b1)][_0x3058d4(0x66e)][_0x3058d4(0x541)][_0x3058d4(0x843)][_0x3058d4(0x8d7)]&&(_0x5ae299=JSON[_0x3058d4(0x599)](JSON[_0x3058d4(0x5b9)](_0x5ae299)),_0x5ae299['listMessage'][_0x3058d4(0x618)]=w[_0x3058d4(0x3b1)][_0x3058d4(0x66e)][_0x3058d4(0x541)]['ListType'][_0x3058d4(0x4df)]),_0x5ae299;}};return this[_0x20f5ee(0x29e)]=!0x1,this[_0x20f5ee(0x567)]=(0x0,w[_0x20f5ee(0x7ac)])(_0x53fb01),this['eventHandler'](),this[_0x20f5ee(0x2b0)]=_0x526ca7,this[_0x20f5ee(0x567)];}catch(_0x260aa1){let _0x475d4b=_0x20f5ee(0x27e),_0x17d165=_0x260aa1 instanceof Error?_0x260aa1[_0x20f5ee(0x272)]:typeof _0x260aa1==_0x20f5ee(0x56d)?JSON[_0x20f5ee(0x5b9)](_0x260aa1):_0x260aa1,_0x658dbf=_0x475d4b+':\x20'+_0x17d165;throw this[_0x20f5ee(0x69f)][_0x20f5ee(0x84d)](this[_0x20f5ee(0x2e9)]+'\x20('+this['instance'][_0x20f5ee(0x3e2)]+_0x20f5ee(0x754)+_0x658dbf),console[_0x20f5ee(0x84d)]('Detalhes\x20do\x20erro:',_0x260aa1),_0x260aa1 instanceof Error&&console[_0x20f5ee(0x84d)]('Stack\x20trace:',_0x260aa1[_0x20f5ee(0x8c1)]),new x(_0x658dbf);}}[a0_0x1b7b78(0x8d8)](){const _0x57a264=a0_0x1b7b78;this[_0x57a264(0x567)]['ev'][_0x57a264(0x7f3)](_0x5ae0c7=>{const _0x2d570a=_0x57a264;if(!this[_0x2d570a(0x29e)]){let _0x330f1d=this[_0x2d570a(0x6e6)][_0x2d570a(0x234)](_0x2d570a(0x301));if(_0x5ae0c7['labels.edit']){let _0x28e928=_0x5ae0c7['labels.edit'];this[_0x2d570a(0x26e)]['labels.edit'](_0x28e928);}if(_0x5ae0c7[_0x2d570a(0x3b4)]){let _0x4acdd1=_0x5ae0c7[_0x2d570a(0x3b4)];this['messageHandle']['labels.association'](_0x4acdd1);}if(_0x5ae0c7[_0x2d570a(0x198)]&&this['connectionUpdate'](_0x5ae0c7['connection.update']),_0x5ae0c7[_0x2d570a(0x572)]&&this['instance'][_0x2d570a(0x807)]['saveCreds'](),_0x5ae0c7['messaging-history.set']){let _0x3a007b=_0x5ae0c7[_0x2d570a(0x48f)];this['messageHandle'][_0x2d570a(0x48f)](_0x3a007b,_0x330f1d);}if(_0x5ae0c7[_0x2d570a(0x71a)]){let _0x5713aa=_0x5ae0c7[_0x2d570a(0x71a)];this['messageHandle'][_0x2d570a(0x71a)](_0x5713aa,_0x330f1d);}if(_0x5ae0c7[_0x2d570a(0x872)]){let _0x293462=_0x5ae0c7[_0x2d570a(0x872)];this['messageHandle'][_0x2d570a(0x872)](_0x293462,_0x330f1d);}if(_0x5ae0c7[_0x2d570a(0x532)]){let _0x35a710=_0x5ae0c7[_0x2d570a(0x532)];if(this[_0x2d570a(0x3a8)]?.[_0x2d570a(0x5e4)]&&_0x35a710['id'][_0x2d570a(0x5a5)](_0x2d570a(0x23b)))return;this['sendDataWebhook']('presence.update',_0x35a710);}if(_0x5ae0c7[_0x2d570a(0x1dc)]){let _0x2c8b8e=_0x5ae0c7[_0x2d570a(0x1dc)];this[_0x2d570a(0x65a)][_0x2d570a(0x1dc)](_0x2c8b8e);}if(_0x5ae0c7[_0x2d570a(0x7cd)]){let _0x5d9c6a=_0x5ae0c7['groups.update'];this['groupHandler'][_0x2d570a(0x7cd)](_0x5d9c6a);}if(_0x5ae0c7['group-participants.update']){let _0x4da55a=_0x5ae0c7['group-participants.update'];this[_0x2d570a(0x65a)][_0x2d570a(0x515)](_0x4da55a);}if(_0x5ae0c7[_0x2d570a(0x26a)]){let _0xebb5aa=_0x5ae0c7['chats.upsert'];this[_0x2d570a(0x41e)][_0x2d570a(0x26a)](_0xebb5aa,_0x330f1d);}if(_0x5ae0c7[_0x2d570a(0x6f8)]){let _0x5e9f15=_0x5ae0c7[_0x2d570a(0x6f8)];this[_0x2d570a(0x41e)]['chats.update'](_0x5e9f15,_0x330f1d);}if(_0x5ae0c7[_0x2d570a(0x87f)]){let _0x93b1a1=_0x5ae0c7[_0x2d570a(0x87f)];this[_0x2d570a(0x41e)]['chats.delete'](_0x93b1a1);}if(_0x5ae0c7[_0x2d570a(0x34d)]){let _0x4a6ad1=_0x5ae0c7[_0x2d570a(0x34d)];this['contactHandle'][_0x2d570a(0x34d)](_0x4a6ad1,_0x330f1d);}if(_0x5ae0c7[_0x2d570a(0x203)]){let _0x44fb65=_0x5ae0c7[_0x2d570a(0x203)];this['contactHandle'][_0x2d570a(0x203)](_0x44fb65,_0x330f1d);}}});}async[a0_0x1b7b78(0x531)](_0x70bf83,_0x3cb68b){const _0x4e569b=a0_0x1b7b78;if(_0x3cb68b>=0xa){console[_0x4e569b(0x84d)](this[_0x4e569b(0x2e9)]+'\x20('+this[_0x4e569b(0x60b)][_0x4e569b(0x3e2)]+_0x4e569b(0x838)),delete Lt[_0x70bf83[_0x4e569b(0x482)]['id']];return;}try{console[_0x4e569b(0x84d)](this[_0x4e569b(0x2e9)]+'\x20('+this[_0x4e569b(0x60b)]['wuid']+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x3cb68b+0x1)),await this['client'][_0x4e569b(0x3bc)](JSON[_0x4e569b(0x599)](_0x70bf83[_0x4e569b(0x388)][0x1],w[_0x4e569b(0x8b6)][_0x4e569b(0x729)])),console['error']('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0xf1e3a8){console[_0x4e569b(0x84d)](this['instanceName']+'\x20('+this['instance'][_0x4e569b(0x3e2)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0xf1e3a8),setTimeout(()=>this['retrySendMessage'](_0x70bf83,_0x3cb68b+0x1),Math['pow'](0x2,_0x3cb68b)*0x3e8);}}async['fakeReceived'](_0x5b30fa){const _0x586361=a0_0x1b7b78;let _0x591a86=_0x5b30fa[_0x586361(0x482)][_0x586361(0x745)]['endsWith'](_0x586361(0x23b)),_0x183978;if(_0x5b30fa[_0x586361(0x482)]['fromMe'])_0x183978=this[_0x586361(0x60b)][_0x586361(0x8b7)];else{let _0x572c66=_0x591a86?_0x5b30fa[_0x586361(0x482)]['participant']:_0x5b30fa['key'][_0x586361(0x745)];_0x183978=(await this[_0x586361(0x533)](_0x572c66,_0x5b30fa[_0x586361(0x2d5)],!0x1))[_0x586361(0x59a)]['pictureUrl'];}_0x5b30fa['messageTimestamp']&&_0x5b30fa[_0x586361(0x2b7)][_0x586361(0x6e2)]()['length']<0xd&&(_0x5b30fa['messageTimestamp']=_0x5b30fa[_0x586361(0x2b7)]*0x3e8);let _0x11adea={'_id':_0x5b30fa[_0x586361(0x482)]['id'],'key':_0x5b30fa['key'],'isGroup':_0x591a86,'profilePictureUrl':_0x183978,'pushName':_0x5b30fa[_0x586361(0x2d5)],'message':{'text':'[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageType':_0x586361(0x84d),'message_normalized':{'key':_0x5b30fa[_0x586361(0x482)],'pushName':_0x5b30fa[_0x586361(0x2d5)],'messageTimestamp':_0x5b30fa[_0x586361(0x2b7)],'source':(0x0,w[_0x586361(0x6bf)])(_0x5b30fa['key']['id']),'text':_0x586361(0x61c)},'messageTimestamp':_0x5b30fa[_0x586361(0x2b7)],'owner':this[_0x586361(0x60b)][_0x586361(0x3e2)],'source':(0x0,w['getDevice'])(_0x5b30fa['key']['id'])};this[_0x586361(0x69f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x586361(0x3e2)]+_0x586361(0x754)+(_0x11adea['key']?.[_0x586361(0x8bf)]?'enviado\x20para':_0x586361(0x655))+'\x20['+_0x11adea[_0x586361(0x482)]?.[_0x586361(0x745)][_0x586361(0x465)](_0x586361(0x3c5),'')+_0x586361(0x261)+_0x11adea['messageType']+')'),_0x11adea[_0x586361(0x853)]?.[_0x586361(0x51e)]&&this['logger'][_0x586361(0x84d)](_0x5b30fa[_0x586361(0x482)]['id']+':\x20'+_0x11adea[_0x586361(0x853)]?.[_0x586361(0x51e)]),await this[_0x586361(0x8f0)][_0x586361(0x272)][_0x586361(0x5dc)]([_0x11adea],this[_0x586361(0x60b)][_0x586361(0x3e2)]),await this[_0x586361(0x8f0)]['messageLogs'][_0x586361(0x5dc)]([_0x11adea]),this[_0x586361(0x3ac)]('messages.upsert',_0x11adea),F(this[_0x586361(0x2e9)],_0x586361(0x174),{'message':_0x11adea});}[a0_0x1b7b78(0x40d)](_0x197960){return new Promise(_0x3d52f5=>setTimeout(_0x3d52f5,_0x197960));}[a0_0x1b7b78(0x37c)](_0x45f8f4){const _0xdfb5f6=a0_0x1b7b78;_0x45f8f4=_0x45f8f4[_0xdfb5f6(0x465)](/\D/g,'');let _0x4c35ea=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xdfb5f6(0x643)](_0x45f8f4);if(_0x4c35ea&&_0x4c35ea[0x1]==='55'){let _0x45a678=_0x4c35ea[0x2],_0x20b56f=_0x4c35ea[0x3],_0x35e9cc=_0x4c35ea[0x4];if(parseInt(_0x45a678)>=0x1f&&_0x20b56f==='9')return _0x4c35ea[0x1]+_0x45a678+_0x35e9cc;}return _0x45f8f4;}[a0_0x1b7b78(0x790)](_0x534e6c){const _0x3a3d56=a0_0x1b7b78;return _0x534e6c[_0x3a3d56(0x5a5)](_0x3a3d56(0x23b))||_0x534e6c[_0x3a3d56(0x5a5)](_0x3a3d56(0x3c5))||_0x534e6c[_0x3a3d56(0x5a5)](_0x3a3d56(0x6ed))?_0x534e6c:(_0x534e6c=_0x534e6c?.[_0x3a3d56(0x465)](/\s/g,'')[_0x3a3d56(0x465)](/\+/g,'')[_0x3a3d56(0x465)](/\(/g,'')[_0x3a3d56(0x465)](/\)/g,'')[_0x3a3d56(0x8f1)](/\:/)[0x0]['split']('@')[0x0],_0x534e6c[_0x3a3d56(0x245)]>=0x12?(_0x534e6c=_0x534e6c[_0x3a3d56(0x465)](/[^\d-]/g,''),_0x534e6c+_0x3a3d56(0x23b)):(_0x534e6c=_0x534e6c['replace'](/\D/g,''),_0x534e6c+'@s.whatsapp.net'));}async[a0_0x1b7b78(0x337)](_0x1a1f33){const _0x457677=a0_0x1b7b78;let _0x5c121d=(await this[_0x457677(0x32b)]({'numbers':[_0x1a1f33['number']]}))[0x0];if(!_0x5c121d['exists']&&!(0x0,w[_0x457677(0x5c4)])(_0x5c121d['jid'])&&!_0x5c121d[_0x457677(0x4bc)][_0x457677(0x5a5)](_0x457677(0x6ed)))throw new m(_0x5c121d);let _0x12759b=_0x5c121d[_0x457677(0x4bc)];try{return await this[_0x457677(0x567)][_0x457677(0x19e)](_0x12759b),await this[_0x457677(0x567)][_0x457677(0x848)](_0x1a1f33[_0x457677(0x84e)],_0x12759b),{'status':0xc8,'presence':_0x1a1f33[_0x457677(0x84e)]};}catch(_0x18ae92){let _0x5a9950=_0x457677(0x494),_0x480a5f=_0x18ae92 instanceof Error?_0x18ae92[_0x457677(0x272)]:typeof _0x18ae92==_0x457677(0x56d)?JSON[_0x457677(0x5b9)](_0x18ae92):_0x18ae92,_0x156e54=_0x5a9950+':\x20'+_0x480a5f;throw this[_0x457677(0x69f)]['error'](this[_0x457677(0x2e9)]+'\x20('+this[_0x457677(0x60b)][_0x457677(0x3e2)]+_0x457677(0x754)+_0x156e54),new m(_0x156e54);}}async['findAndUpdateCacheContact'](_0x5105d9,_0x195629,_0x3a3ef1,_0x42c691=!0x0){const _0xe8ff83=a0_0x1b7b78;let _0x483744=await this[_0xe8ff83(0x8f0)]['cacheContact'][_0xe8ff83(0x547)]({'where':{'_id':_0x5105d9}});if(!_0x483744&&!_0x42c691)return;let _0x5b6333={'lastUpdate':Date['now']()};if(_0x3a3ef1||!_0x483744?.[_0xe8ff83(0x6cf)]||Date['now']()-_0x483744['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0xfcd73b=(await this['profilePicture'](_0x5105d9))['profilePictureUrl'];_0x5b6333[_0xe8ff83(0x723)]=_0xfcd73b;}catch(_0x5bd886){let _0x323463=_0xe8ff83(0x8c6),_0x5a3aa1=_0x5bd886 instanceof Error?_0x5bd886[_0xe8ff83(0x272)]:typeof _0x5bd886==_0xe8ff83(0x56d)?JSON[_0xe8ff83(0x5b9)](_0x5bd886):_0x5bd886,_0x2189d5=_0x323463+':\x20'+_0x5a3aa1;throw this['logger'][_0xe8ff83(0x84d)](this['instanceName']+'\x20('+this['instance'][_0xe8ff83(0x3e2)]+_0xe8ff83(0x754)+_0x2189d5),new m(_0x2189d5);}return _0x195629&&_0x483744?.['name']!==_0x195629&&(_0x5b6333[_0xe8ff83(0x4a9)]=_0x195629),Object[_0xe8ff83(0x51a)](_0x5b6333)[_0xe8ff83(0x245)]>0x1&&(_0x483744?await this[_0xe8ff83(0x8f0)][_0xe8ff83(0x6a5)]['update']({'where':{'_id':_0x5105d9}},_0x5b6333):await this[_0xe8ff83(0x8f0)][_0xe8ff83(0x6a5)][_0xe8ff83(0x5dc)]([{'_id':_0x5105d9,..._0x5b6333}]),_0x483744={..._0x483744,..._0x5b6333}),{'cachedContact':_0x483744};}async['profilePicture'](_0x1d4bfe){const _0x41ff18=a0_0x1b7b78;let _0x25e7d5=this[_0x41ff18(0x790)](_0x1d4bfe);try{return{'wuid':_0x25e7d5,'profilePictureUrl':await this[_0x41ff18(0x567)][_0x41ff18(0x8b7)](_0x25e7d5,_0x41ff18(0x2b9))};}catch{return{'wuid':_0x25e7d5,'profilePictureUrl':null};}}async[a0_0x1b7b78(0x1ad)](_0x55519b,_0x5513f3,_0x1003e7){const _0xce2c4=a0_0x1b7b78;let _0x3bef22;try{let _0x119996=(await this[_0xce2c4(0x32b)]({'numbers':[_0x55519b]}))?.[_0xce2c4(0x362)]();if(!_0x119996[_0xce2c4(0x1e3)]&&!(0x0,w['isJidGroup'])(_0x119996[_0xce2c4(0x4bc)])&&!_0x119996[_0xce2c4(0x4bc)][_0xce2c4(0x5a5)](_0xce2c4(0x6ed)))throw new m(_0x119996);_0x3bef22=_0x119996[_0xce2c4(0x4bc)];}catch(_0x526392){_0x3bef22=_0x55519b,this[_0xce2c4(0x69f)][_0xce2c4(0x31e)](this['instanceName']+'\x20('+this[_0xce2c4(0x60b)][_0xce2c4(0x3e2)]+_0xce2c4(0x2b2)+_0x526392['message']),this[_0xce2c4(0x69f)][_0xce2c4(0x31e)](this['instanceName']+'\x20('+this[_0xce2c4(0x60b)][_0xce2c4(0x3e2)]+_0xce2c4(0x690)+_0x3bef22);}try{if(_0x3bef22||(_0x3bef22=_0x55519b,this['logger'][_0xce2c4(0x31e)](this[_0xce2c4(0x2e9)]+'\x20('+this[_0xce2c4(0x60b)][_0xce2c4(0x3e2)]+_0xce2c4(0x29d)+_0x3bef22)),_0x1003e7||(_0x1003e7={}),_0x1003e7?.[_0xce2c4(0x48b)]){await this['client']['presenceSubscribe'](_0x3bef22),await this['client'][_0xce2c4(0x848)](_0x1003e7?.[_0xce2c4(0x84e)]??'composing',_0x3bef22);let _0xc4d2c=Math[_0xce2c4(0x4e0)](_0x1003e7['delay'],0x2710);await(0x0,w[_0xce2c4(0x48b)])(_0xc4d2c),await this[_0xce2c4(0x567)][_0xce2c4(0x848)](_0xce2c4(0x318),_0x3bef22);}let _0x4e177e=_0x1003e7?.[_0xce2c4(0x730)]!=!0x1?void 0x0:!0x1,_0x55a8c9;if(_0x1003e7?.[_0xce2c4(0x3d3)]){let _0xa727c0=_0x1003e7?.[_0xce2c4(0x3d3)],_0x1c9b5d=_0xa727c0?.['message']?_0xa727c0:await this['getMessage'](_0xa727c0[_0xce2c4(0x482)],!0x0);_0x1c9b5d&&(_0x55a8c9=_0x1c9b5d);}let _0x520020=await this['repository'][_0xce2c4(0x85e)][_0xce2c4(0x547)]({'where':{'_id':_0x3bef22}},this[_0xce2c4(0x60b)][_0xce2c4(0x3e2)]),_0x24148b,_0x2e2161=null;if((0x0,w['isJidGroup'])(_0x3bef22))try{if(_0x2e2161=_0x520020['groupdata'],!_0x2e2161)throw new U('Grupo\x20não\x20encontrado');if(!_0x2e2161['canSendMessage'])throw new m(_0xce2c4(0x63b));_0x1003e7?.[_0xce2c4(0x7c0)]&&(_0x1003e7[_0xce2c4(0x7c0)]?.[_0xce2c4(0x282)]?_0x24148b=_0x2e2161['participants']['map'](_0x95f4e5=>_0x95f4e5['id']):_0x1003e7['mentions']?.['mentioned']?.[_0xce2c4(0x245)]&&(_0x24148b=_0x1003e7[_0xce2c4(0x7c0)][_0xce2c4(0x1fd)][_0xce2c4(0x686)](_0x5d1636=>{const _0x4151d1=_0xce2c4;let _0x26a910=this[_0x4151d1(0x790)](_0x5d1636);return(0x0,w[_0x4151d1(0x5c4)])(_0x26a910)?null:_0x26a910;})));}catch(_0x4b9533){throw _0x4b9533 instanceof U?new U('Grupo\x20não\x20encontrado'):_0x4b9533 instanceof m?new m(_0xce2c4(0x63b)):new Error(_0xce2c4(0x18f));}let _0x10c62f=await((async()=>{const _0x1d19ca=_0xce2c4;let _0x5413d8={'quoted':_0x55a8c9,'ephemeralExpiration':_0x520020?.[_0x1d19ca(0x427)]??0x0};if(!_0x5513f3['audio']&&!_0x5513f3[_0x1d19ca(0x3bd)]&&!_0x5513f3[_0x1d19ca(0x88d)]&&!_0x5513f3[_0x1d19ca(0x5b8)]&&_0x3bef22!==_0x1d19ca(0x22c)&&_0x5513f3[_0x1d19ca(0x7f4)])return await this[_0x1d19ca(0x567)]['sendMessage'](_0x3bef22,{'react':{'text':_0x5513f3['reactionMessage']['text'],'key':_0x5513f3['reactionMessage'][_0x1d19ca(0x482)]}},_0x5413d8);if(_0x5513f3[_0x1d19ca(0x5b8)]){let _0x8bf509=_0x5513f3[_0x1d19ca(0x5b8)];return _0x1003e7?.[_0x1d19ca(0x8d1)]&&(_0x8bf509=await this[_0x1d19ca(0x728)](_0x8bf509,_0x3bef22)),await this['client'][_0x1d19ca(0x625)](_0x3bef22,{'text':_0x8bf509,'mentions':_0x24148b,'linkPreview':_0x4e177e},_0x5413d8);}return!_0x5513f3[_0x1d19ca(0x7a6)]&&!_0x5513f3[_0x1d19ca(0x3bd)]&&_0x3bef22!=_0x1d19ca(0x22c)?await this[_0x1d19ca(0x567)][_0x1d19ca(0x625)](_0x3bef22,{'forward':{'key':{'remoteJid':this[_0x1d19ca(0x60b)][_0x1d19ca(0x3e2)],'fromMe':!0x0},'message':_0x5513f3},'mentions':_0x24148b},_0x5413d8):_0x3bef22===_0x1d19ca(0x22c)?await this[_0x1d19ca(0x567)][_0x1d19ca(0x625)](_0x3bef22,_0x5513f3[_0x1d19ca(0x18a)][_0x1d19ca(0x1ba)],{'backgroundColor':_0x5513f3[_0x1d19ca(0x18a)]['option'][_0x1d19ca(0x871)],'font':_0x5513f3['status']['option'][_0x1d19ca(0x5d4)],'statusJidList':_0x5513f3[_0x1d19ca(0x18a)][_0x1d19ca(0x5bd)][_0x1d19ca(0x235)]}):await this[_0x1d19ca(0x567)][_0x1d19ca(0x625)](_0x3bef22,_0x5513f3,_0x5413d8);})()),_0x60016a=(0x0,w[_0xce2c4(0x28d)])(_0x10c62f[_0xce2c4(0x272)]),_0x51e9f0=(0x0,w[_0xce2c4(0x64a)])(_0x60016a),{message_normalized:_0x2eaf53}=this[_0xce2c4(0x384)](_0x60016a,_0x51e9f0,null),_0x33839d={'_id':_0x10c62f[_0xce2c4(0x482)]['id'],'key':_0x10c62f[_0xce2c4(0x482)],'pushName':_0x10c62f[_0xce2c4(0x2d5)],'isGroup':_0x10c62f[_0xce2c4(0x482)][_0xce2c4(0x745)][_0xce2c4(0x5f1)](_0xce2c4(0x23b)),'profilePictureUrl':this[_0xce2c4(0x60b)]['profilePictureUrl'],'message':_0x60016a,'messageType':_0x51e9f0,'message_normalized':{'key':_0x10c62f['key'],'pushName':_0x10c62f[_0xce2c4(0x2d5)],'messageTimestamp':_0x10c62f['messageTimestamp']&&_0x10c62f[_0xce2c4(0x2b7)]['toString']()[_0xce2c4(0x245)]<0xd?_0x10c62f[_0xce2c4(0x2b7)]*0x3e8:_0x10c62f['messageTimestamp']||null,'source':(0x0,w[_0xce2c4(0x6bf)])(_0x10c62f[_0xce2c4(0x482)]['id']),..._0x2eaf53},'messageTimestamp':_0x10c62f[_0xce2c4(0x2b7)]&&_0x10c62f[_0xce2c4(0x2b7)][_0xce2c4(0x6e2)]()['length']<0xd?_0x10c62f[_0xce2c4(0x2b7)]*0x3e8:_0x10c62f['messageTimestamp']||null,'owner':this['instance'][_0xce2c4(0x3e2)],'source':(0x0,w[_0xce2c4(0x6bf)])(_0x10c62f[_0xce2c4(0x482)]['id'])};return this[_0xce2c4(0x69f)][_0xce2c4(0x31e)](this[_0xce2c4(0x2e9)]+'\x20('+this[_0xce2c4(0x60b)][_0xce2c4(0x3e2)]+_0xce2c4(0x249)+_0x33839d['key']?.[_0xce2c4(0x745)][_0xce2c4(0x465)](_0xce2c4(0x3c5),'')+_0xce2c4(0x261)+_0x33839d[_0xce2c4(0x884)]+')'),_0x33839d[_0xce2c4(0x853)]?.[_0xce2c4(0x51e)]&&this[_0xce2c4(0x69f)][_0xce2c4(0x31e)](_0x33839d[_0xce2c4(0x853)]?.[_0xce2c4(0x51e)]),this[_0xce2c4(0x3ac)](_0xce2c4(0x652),_0x33839d),F(this[_0xce2c4(0x2e9)],'messages',{'message':_0x33839d}),this[_0xce2c4(0x689)](this[_0xce2c4(0x6e6)]['get'](_0xce2c4(0x301)),_0x33839d,'SEND_MESSAGE',_0x520020),await this['repository']['message'][_0xce2c4(0x5dc)]([_0x33839d],this['instance'][_0xce2c4(0x3e2)]),_0x10c62f;}catch(_0x1d8600){let _0x129966=_0xce2c4(0x804)+_0x3bef22,_0x3fad2d=_0x1d8600 instanceof Error?_0x1d8600[_0xce2c4(0x272)]:typeof _0x1d8600==_0xce2c4(0x56d)?JSON[_0xce2c4(0x5b9)](_0x1d8600):_0x1d8600,_0x4333bb=_0x129966+':\x20'+_0x3fad2d;throw this[_0xce2c4(0x69f)][_0xce2c4(0x84d)](this[_0xce2c4(0x2e9)]+'\x20('+this[_0xce2c4(0x60b)][_0xce2c4(0x3e2)]+_0xce2c4(0x754)+_0x4333bb),new m(_0x4333bb);}}async[a0_0x1b7b78(0x247)](_0x114abf,_0x50fcd9,_0x2a8348){const _0x4aba9a=a0_0x1b7b78;let _0x10dce8=this[_0x4aba9a(0x790)](_0x114abf),_0x5bddbe=(await this[_0x4aba9a(0x32b)]({'numbers':[_0x10dce8]}))[0x0];if(!_0x5bddbe['exists']&&!(0x0,w[_0x4aba9a(0x5c4)])(_0x5bddbe[_0x4aba9a(0x4bc)]))throw new m(_0x5bddbe);let _0x24b3fe=(0x0,w[_0x4aba9a(0x5c4)])(_0x10dce8)?_0x10dce8:_0x5bddbe[_0x4aba9a(0x4bc)];if((0x0,w[_0x4aba9a(0x5c4)])(_0x24b3fe))try{await this[_0x4aba9a(0x567)][_0x4aba9a(0x3dc)](_0x24b3fe);}catch{throw new m('Group\x20not\x20found');}try{_0x2a8348?.['delay']&&(await this[_0x4aba9a(0x567)][_0x4aba9a(0x19e)](_0x24b3fe),await this['client'][_0x4aba9a(0x848)](_0x2a8348?.[_0x4aba9a(0x84e)]??_0x4aba9a(0x34f),_0x10dce8),await(0x0,w['delay'])(_0x2a8348[_0x4aba9a(0x48b)]),await this[_0x4aba9a(0x567)][_0x4aba9a(0x848)](_0x4aba9a(0x318),_0x24b3fe));let _0x53721d=await((async()=>{const _0x4bf413=_0x4aba9a;let _0x30552f,_0x4daec1=_0x4bf413(0x4ac)+(0x0,ne[_0x4bf413(0x720)])(0x12)[_0x4bf413(0x6e2)]('hex')[_0x4bf413(0x265)](),_0x3b5492=(0x0,w[_0x4bf413(0x23c)])(_0x24b3fe,_0x50fcd9,{'timestamp':new Date(),'userJid':this['instance'][_0x4bf413(0x3e2)],'messageId':_0x4daec1,'quoted':_0x30552f}),_0x32e2d7=await this[_0x4bf413(0x567)][_0x4bf413(0x83b)](_0x24b3fe,_0x3b5492[_0x4bf413(0x272)],{'messageId':_0x4daec1});_0x3b5492[_0x4bf413(0x482)]={'id':_0x32e2d7,'remoteJid':_0x10dce8,'participant':(0x0,w[_0x4bf413(0x431)])(_0x10dce8)?void 0x0:_0x10dce8,'fromMe':!0x0};for(let [_0x4faa64,_0x43966f]of Object[_0x4bf413(0x47f)](_0x3b5492))(!_0x43966f||Array[_0x4bf413(0x7c2)](_0x43966f)&&_0x43966f['length']===0x0)&&delete _0x3b5492[_0x4faa64];return this[_0x4bf413(0x567)]['ev']['emit'](_0x4bf413(0x71a),{'messages':[_0x3b5492],'type':_0x4bf413(0x86e)}),_0x3b5492;})()),_0x4bf53c=await this['repository'][_0x4aba9a(0x85e)][_0x4aba9a(0x547)]({'where':{'_id':_0x24b3fe}},this[_0x4aba9a(0x60b)][_0x4aba9a(0x3e2)]),_0x3133d8=(0x0,w[_0x4aba9a(0x28d)])(_0x53721d[_0x4aba9a(0x272)]),_0x1ccbed=(0x0,w[_0x4aba9a(0x64a)])(_0x3133d8),{message_normalized:_0x11040c}=this[_0x4aba9a(0x384)](_0x3133d8,_0x1ccbed,null),_0x251089={'_id':_0x53721d['key']['id'],'key':_0x53721d['key'],'pushName':_0x53721d['pushName'],'isGroup':_0x53721d[_0x4aba9a(0x482)][_0x4aba9a(0x745)][_0x4aba9a(0x5f1)](_0x4aba9a(0x23b)),'profilePictureUrl':this['instance'][_0x4aba9a(0x8b7)],'message':_0x3133d8,'messageType':_0x1ccbed,'message_normalized':{'key':_0x53721d[_0x4aba9a(0x482)],'pushName':_0x53721d['pushName'],'messageTimestamp':_0x53721d[_0x4aba9a(0x2b7)]&&_0x53721d[_0x4aba9a(0x2b7)][_0x4aba9a(0x6e2)]()['length']<0xd?_0x53721d[_0x4aba9a(0x2b7)]*0x3e8:_0x53721d[_0x4aba9a(0x2b7)]||null,'source':(0x0,w[_0x4aba9a(0x6bf)])(_0x53721d[_0x4aba9a(0x482)]['id']),..._0x11040c},'messageTimestamp':_0x53721d['messageTimestamp']&&_0x53721d['messageTimestamp'][_0x4aba9a(0x6e2)]()[_0x4aba9a(0x245)]<0xd?_0x53721d[_0x4aba9a(0x2b7)]*0x3e8:_0x53721d[_0x4aba9a(0x2b7)]||null,'owner':this[_0x4aba9a(0x60b)][_0x4aba9a(0x3e2)],'source':(0x0,w[_0x4aba9a(0x6bf)])(_0x53721d[_0x4aba9a(0x482)]['id'])};return this['logger'][_0x4aba9a(0x31e)](this[_0x4aba9a(0x2e9)]+'\x20('+this['instance']['wuid']+'):\x20enviado\x20para\x20['+_0x251089[_0x4aba9a(0x482)]?.[_0x4aba9a(0x745)][_0x4aba9a(0x465)](_0x4aba9a(0x3c5),'')+_0x4aba9a(0x261)+_0x251089[_0x4aba9a(0x884)]+')'),_0x251089[_0x4aba9a(0x853)]?.[_0x4aba9a(0x51e)]&&this[_0x4aba9a(0x69f)]['warn'](_0x251089[_0x4aba9a(0x853)]?.[_0x4aba9a(0x51e)]),this[_0x4aba9a(0x3ac)](_0x4aba9a(0x652),_0x251089),F(this[_0x4aba9a(0x2e9)],'messages',{'message':_0x251089}),this[_0x4aba9a(0x689)](this['configService'][_0x4aba9a(0x234)](_0x4aba9a(0x301)),_0x251089,_0x4aba9a(0x6fe),_0x4bf53c),await this[_0x4aba9a(0x8f0)][_0x4aba9a(0x272)][_0x4aba9a(0x5dc)]([_0x251089],this[_0x4aba9a(0x60b)][_0x4aba9a(0x3e2)]),_0x53721d;}catch(_0x1b9c36){throw this[_0x4aba9a(0x69f)]['error'](_0x1b9c36),new m(_0x1b9c36[_0x4aba9a(0x6e2)]());}}get[a0_0x1b7b78(0x3a7)](){const _0xd265a1=a0_0x1b7b78;return this[_0xd265a1(0x43c)];}async['textMessage'](_0x41a340){const _0x224766=a0_0x1b7b78;return await this[_0x224766(0x1ad)](_0x41a340[_0x224766(0x7c6)],{'conversation':_0x41a340['textMessage']['text']},_0x41a340?.['options']);}async[a0_0x1b7b78(0x34a)](_0xd05ae){const _0x1f0bff=a0_0x1b7b78;if(!_0xd05ae[_0x1f0bff(0x4ae)])throw new m(_0x1f0bff(0x206));if(!_0xd05ae[_0x1f0bff(0x1ba)])throw new m(_0x1f0bff(0x73e));if(_0xd05ae[_0x1f0bff(0x5f6)]){let _0x3e245b=await this['repository'][_0x1f0bff(0x3f8)][_0x1f0bff(0x83c)]({'where':{}},this[_0x1f0bff(0x60b)][_0x1f0bff(0x3e2)]);if(!_0x3e245b[_0x1f0bff(0x245)])throw new m(_0x1f0bff(0x3a6));_0xd05ae[_0x1f0bff(0x235)]=_0x3e245b['filter'](_0x2f00c8=>_0x2f00c8['pushName'])['map'](_0x103f4c=>_0x103f4c[_0x1f0bff(0x49d)]);}if(!_0xd05ae[_0x1f0bff(0x235)]?.[_0x1f0bff(0x245)]&&!_0xd05ae[_0x1f0bff(0x5f6)])throw new m('StatusJidList\x20is\x20required');if(_0xd05ae[_0x1f0bff(0x4ae)]===_0x1f0bff(0x51e)){if(!_0xd05ae[_0x1f0bff(0x871)])throw new m(_0x1f0bff(0x8a0));if(!_0xd05ae['font'])throw new m(_0x1f0bff(0x60d));return{'content':{'text':_0xd05ae[_0x1f0bff(0x1ba)]},'option':{'backgroundColor':_0xd05ae[_0x1f0bff(0x871)],'font':_0xd05ae['font'],'statusJidList':_0xd05ae[_0x1f0bff(0x235)]}};}if(_0xd05ae[_0x1f0bff(0x4ae)]===_0x1f0bff(0x2b9))return{'content':{'image':{'url':_0xd05ae['content']},'caption':_0xd05ae['caption']},'option':{'statusJidList':_0xd05ae[_0x1f0bff(0x235)]}};if(_0xd05ae[_0x1f0bff(0x4ae)]===_0x1f0bff(0x6ca))return{'content':{'video':{'url':_0xd05ae[_0x1f0bff(0x1ba)]},'caption':_0xd05ae[_0x1f0bff(0x428)]},'option':{'statusJidList':_0xd05ae['statusJidList']}};if(_0xd05ae['type']===_0x1f0bff(0x7a6)){this[_0x1f0bff(0x69f)][_0x1f0bff(0x776)](this['instanceName']+'\x20('+this['instance'][_0x1f0bff(0x3e2)]+'):Type\x20defined\x20as\x20audio'),this[_0x1f0bff(0x69f)][_0x1f0bff(0x776)](this[_0x1f0bff(0x2e9)]+'\x20('+this[_0x1f0bff(0x60b)][_0x1f0bff(0x3e2)]+_0x1f0bff(0x49b));let _0x4c9968=await this['convertaudio'](_0xd05ae[_0x1f0bff(0x1ba)]);if(typeof _0x4c9968==_0x1f0bff(0x8d3)){this[_0x1f0bff(0x69f)][_0x1f0bff(0x776)](this[_0x1f0bff(0x2e9)]+'\x20('+this[_0x1f0bff(0x60b)][_0x1f0bff(0x3e2)]+_0x1f0bff(0x592));let _0x2fc387=k[_0x1f0bff(0x502)](_0x4c9968)[_0x1f0bff(0x6e2)](_0x1f0bff(0x20c));return{'content':{'audio':Buffer[_0x1f0bff(0x818)](_0x2fc387,_0x1f0bff(0x20c)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0xd05ae[_0x1f0bff(0x235)]}};}else throw new x(_0x4c9968);}throw new m(_0x1f0bff(0x334));}async[a0_0x1b7b78(0x4cb)](_0x321c1a){const _0x45f382=a0_0x1b7b78;return await this['sendMessageWithTyping'](_0x45f382(0x22c),{'status':await this[_0x45f382(0x34a)](_0x321c1a[_0x45f382(0x4cb)])});}async[a0_0x1b7b78(0x7c1)](_0x10037e){const _0x2dd39c=a0_0x1b7b78;try{let _0x41838e=await(0x0,w[_0x2dd39c(0x832)])({[_0x10037e[_0x2dd39c(0x2bb)]]:(0x0,J['isURL'])(_0x10037e[_0x2dd39c(0x858)])?{'url':_0x10037e['media']}:Buffer['from'](_0x10037e[_0x2dd39c(0x858)],'base64')},{'upload':this[_0x2dd39c(0x567)][_0x2dd39c(0x28a)]}),_0x19bf78=_0x10037e[_0x2dd39c(0x2bb)]+_0x2dd39c(0x66e);if(_0x10037e[_0x2dd39c(0x2bb)]===_0x2dd39c(0x6f4)&&!_0x10037e['fileName']){let _0x543db5=new RegExp(/.*\/(.+?)\./)['exec'](_0x10037e[_0x2dd39c(0x858)]);_0x10037e['fileName']=_0x543db5?_0x543db5[0x1]:null;}let _0x120370;return(0x0,J['isURL'])(_0x10037e[_0x2dd39c(0x858)])?_0x120370=(await Q[_0x2dd39c(0x7ac)]['get'](_0x10037e[_0x2dd39c(0x858)],{'responseType':_0x2dd39c(0x223)}))[_0x2dd39c(0x275)][_0x2dd39c(0x2fc)]:_0x120370=(0x0,Oi[_0x2dd39c(0x1fb)])(_0x10037e[_0x2dd39c(0x525)]),_0x41838e[_0x19bf78][_0x2dd39c(0x428)]=_0x10037e?.[_0x2dd39c(0x428)],_0x41838e[_0x19bf78][_0x2dd39c(0x628)]=_0x120370,_0x41838e[_0x19bf78][_0x2dd39c(0x525)]=_0x10037e[_0x2dd39c(0x525)],_0x10037e[_0x2dd39c(0x2bb)]==='video'&&(_0x41838e[_0x19bf78][_0x2dd39c(0x5cc)]=Uint8Array['from']((0x0,Le['readFileSync'])((0x0,j[_0x2dd39c(0x44f)])(process[_0x2dd39c(0x4a1)](),_0x2dd39c(0x71b)))),_0x41838e[_0x19bf78][_0x2dd39c(0x2c5)]=!0x1),(0x0,w[_0x2dd39c(0x23c)])('',{[_0x19bf78]:{..._0x41838e[_0x19bf78]}},{'userJid':this[_0x2dd39c(0x60b)][_0x2dd39c(0x3e2)]});}catch(_0x6c72b0){let _0x44eb68=_0x2dd39c(0x316),_0x22c38f=_0x6c72b0 instanceof Error?_0x6c72b0[_0x2dd39c(0x272)]:typeof _0x6c72b0=='object'?JSON[_0x2dd39c(0x5b9)](_0x6c72b0):_0x6c72b0,_0x4543e1=_0x44eb68+':\x20'+_0x22c38f;throw this[_0x2dd39c(0x69f)]['error'](this[_0x2dd39c(0x2e9)]+'\x20('+this['instance'][_0x2dd39c(0x3e2)]+_0x2dd39c(0x754)+_0x4543e1),new x(_0x4543e1);}}async[a0_0x1b7b78(0x66d)](_0xdf769){const _0x22c4d4=a0_0x1b7b78;let _0x55262=await this[_0x22c4d4(0x7c1)](_0xdf769[_0x22c4d4(0x66d)]);return await this[_0x22c4d4(0x1ad)](_0xdf769[_0x22c4d4(0x7c6)],{..._0x55262[_0x22c4d4(0x272)]},_0xdf769?.[_0x22c4d4(0x195)]);}async[a0_0x1b7b78(0x405)](_0x5b3ba1,_0x345490){const _0x2c2b94=a0_0x1b7b78;try{this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this['instanceName']+'\x20('+this['instance'][_0x2c2b94(0x3e2)]+_0x2c2b94(0x72f));let _0x30d371,_0x35d19b=_0x345490+'-'+new Date()['getTime']();this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this[_0x2c2b94(0x2e9)]+'\x20('+this[_0x2c2b94(0x60b)]['wuid']+_0x2c2b94(0x55c)+_0x35d19b);let _0x186ae4=''+(0x0,j['join'])(this[_0x2c2b94(0x178)],_0x35d19b+'.webp');if(this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this['instanceName']+'\x20('+this[_0x2c2b94(0x60b)][_0x2c2b94(0x3e2)]+'):Output\x20path:\x20'+_0x186ae4),(0x0,J[_0x2c2b94(0x3ba)])(_0x5b3ba1)){this['logger'][_0x2c2b94(0x776)](this[_0x2c2b94(0x2e9)]+'\x20('+this['instance'][_0x2c2b94(0x3e2)]+'):Image\x20is\x20base64');let _0xc115a5=_0x5b3ba1[_0x2c2b94(0x465)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x406745=Buffer[_0x2c2b94(0x818)](_0xc115a5,_0x2c2b94(0x20c));_0x30d371=''+(0x0,j[_0x2c2b94(0x44f)])(this[_0x2c2b94(0x178)],_0x2c2b94(0x7f0)+_0x35d19b+_0x2c2b94(0x1d2)),this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this[_0x2c2b94(0x2e9)]+'\x20('+this[_0x2c2b94(0x60b)]['wuid']+_0x2c2b94(0x3c3)+_0x30d371),await(0x0,Ut['default'])(_0x406745)[_0x2c2b94(0x18e)](_0x30d371),this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this['instanceName']+'\x20('+this[_0x2c2b94(0x60b)][_0x2c2b94(0x3e2)]+_0x2c2b94(0x741));}else{this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this[_0x2c2b94(0x2e9)]+'\x20('+this[_0x2c2b94(0x60b)][_0x2c2b94(0x3e2)]+_0x2c2b94(0x47b));let _0x5ca41b=new Date()[_0x2c2b94(0x8f2)](),_0x34a1b8=_0x5b3ba1+'?timestamp='+_0x5ca41b;this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this[_0x2c2b94(0x2e9)]+'\x20('+this[_0x2c2b94(0x60b)]['wuid']+_0x2c2b94(0x7ed)+_0x34a1b8);let _0x3b3fd5=await Q[_0x2c2b94(0x7ac)]['get'](_0x34a1b8,{'responseType':_0x2c2b94(0x223)});this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this['instanceName']+'\x20('+this[_0x2c2b94(0x60b)][_0x2c2b94(0x3e2)]+_0x2c2b94(0x646));let _0x2240b8=Buffer[_0x2c2b94(0x818)](_0x3b3fd5[_0x2c2b94(0x517)],_0x2c2b94(0x201));_0x30d371=''+(0x0,j[_0x2c2b94(0x44f)])(this['storePath'],'temp-'+_0x35d19b+_0x2c2b94(0x1d2)),this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this[_0x2c2b94(0x2e9)]+'\x20('+this[_0x2c2b94(0x60b)][_0x2c2b94(0x3e2)]+'):Image\x20path:\x20'+_0x30d371),await(0x0,Ut[_0x2c2b94(0x7ac)])(_0x2240b8)[_0x2c2b94(0x18e)](_0x30d371),this[_0x2c2b94(0x69f)]['verbose'](this[_0x2c2b94(0x2e9)]+'\x20('+this['instance'][_0x2c2b94(0x3e2)]+_0x2c2b94(0x741));}return await(0x0,Ut['default'])(_0x30d371)[_0x2c2b94(0x75b)]()[_0x2c2b94(0x18e)](_0x186ae4),this[_0x2c2b94(0x69f)]['verbose'](this[_0x2c2b94(0x2e9)]+'\x20('+this[_0x2c2b94(0x60b)]['wuid']+_0x2c2b94(0x1c7)),k[_0x2c2b94(0x705)](_0x30d371),this[_0x2c2b94(0x69f)][_0x2c2b94(0x776)](this[_0x2c2b94(0x2e9)]+'\x20('+this['instance'][_0x2c2b94(0x3e2)]+_0x2c2b94(0x8e1)),_0x186ae4;}catch(_0x20385b){let _0x2a46a0='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x5b0ddb=_0x20385b instanceof Error?_0x20385b['message']:typeof _0x20385b==_0x2c2b94(0x56d)?JSON[_0x2c2b94(0x5b9)](_0x20385b):_0x20385b,_0x461ad2=_0x2a46a0+':\x20'+_0x5b0ddb;this[_0x2c2b94(0x69f)]['error'](this['instanceName']+'\x20('+this[_0x2c2b94(0x60b)][_0x2c2b94(0x3e2)]+_0x2c2b94(0x754)+_0x461ad2);}}async[a0_0x1b7b78(0x2c9)](_0x1371ee){const _0x5762bd=a0_0x1b7b78;let _0xcb98e0=await this[_0x5762bd(0x405)](_0x1371ee[_0x5762bd(0x290)][_0x5762bd(0x2b9)],_0x1371ee[_0x5762bd(0x7c6)]),_0x244d57=await this[_0x5762bd(0x1ad)](_0x1371ee[_0x5762bd(0x7c6)],{'sticker':{'url':_0xcb98e0}},_0x1371ee?.[_0x5762bd(0x195)]);return k[_0x5762bd(0x705)](_0xcb98e0),this[_0x5762bd(0x69f)][_0x5762bd(0x776)](this[_0x5762bd(0x2e9)]+'\x20('+this['instance'][_0x5762bd(0x3e2)]+'):Converted\x20image\x20deleted'),_0x244d57;}async[a0_0x1b7b78(0x20d)](_0x523c3c){const _0x1441b4=a0_0x1b7b78;if(this['logger']['verbose'](this[_0x1441b4(0x2e9)]+'\x20('+this[_0x1441b4(0x60b)][_0x1441b4(0x3e2)]+_0x1441b4(0x6b0)),!_0x523c3c[_0x1441b4(0x195)]?.[_0x1441b4(0x76d)]&&_0x523c3c[_0x1441b4(0x195)]?.[_0x1441b4(0x76d)]!==!0x1&&(_0x523c3c[_0x1441b4(0x195)][_0x1441b4(0x76d)]=!0x0),_0x523c3c[_0x1441b4(0x195)]?.[_0x1441b4(0x76d)]){let _0x3f0c1c=await this['convertaudio'](_0x523c3c[_0x1441b4(0x3c8)]['audio']);if(typeof _0x3f0c1c==_0x1441b4(0x8d3)){let _0x4b8cce=k[_0x1441b4(0x502)](_0x3f0c1c)[_0x1441b4(0x6e2)](_0x1441b4(0x20c));return this[_0x1441b4(0x1ad)](_0x523c3c[_0x1441b4(0x7c6)],{'audio':Buffer[_0x1441b4(0x818)](_0x4b8cce,_0x1441b4(0x20c)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x1441b4(0x305),'delay':_0x523c3c?.['options']?.['delay']});}else throw new x(_0x3f0c1c);}return await this[_0x1441b4(0x1ad)](_0x523c3c[_0x1441b4(0x7c6)],{'audio':(0x0,J['isURL'])(_0x523c3c[_0x1441b4(0x3c8)][_0x1441b4(0x7a6)])?{'url':_0x523c3c[_0x1441b4(0x3c8)][_0x1441b4(0x7a6)]}:Buffer[_0x1441b4(0x818)](_0x523c3c['audioMessage'][_0x1441b4(0x7a6)],_0x1441b4(0x20c)),'ptt':!0x0,'mimetype':_0x1441b4(0x609)},{'presence':_0x1441b4(0x305),'delay':_0x523c3c?.[_0x1441b4(0x195)]?.[_0x1441b4(0x48b)]});}async[a0_0x1b7b78(0x55d)](_0x2fbe7f){const _0x2a564a=a0_0x1b7b78;this[_0x2a564a(0x69f)][_0x2a564a(0x776)](this['instanceName']+'\x20('+this['instance'][_0x2a564a(0x3e2)]+'):Processing\x20audio');let _0x21a5d2=(0x0,J[_0x2a564a(0x5a0)])(_0x2fbe7f)?(0x0,ne['createHash'])('sha256')[_0x2a564a(0x85d)](_0x2fbe7f)['digest'](_0x2a564a(0x8ad)):(0x0,ne[_0x2a564a(0x7ae)])('sha256')[_0x2a564a(0x85d)](_0x2fbe7f)[_0x2a564a(0x326)]('hex'),_0x51e9bf=''+(0x0,j[_0x2a564a(0x44f)])(this[_0x2a564a(0x178)],_0x21a5d2+_0x2a564a(0x88f));if(k[_0x2a564a(0x5f8)](_0x51e9bf))return this[_0x2a564a(0x69f)][_0x2a564a(0x776)](this[_0x2a564a(0x2e9)]+'\x20('+this[_0x2a564a(0x60b)]['wuid']+_0x2a564a(0x58c)),_0x51e9bf;let _0x3aa458=''+(0x0,j[_0x2a564a(0x44f)])(this[_0x2a564a(0x178)],'temp-'+(0x0,Y['v4'])()+_0x2a564a(0x1bb));if((0x0,J[_0x2a564a(0x5a0)])(_0x2fbe7f)){let _0x1b7e3a=new Date()['getTime'](),_0x4a67c8=_0x2fbe7f+_0x2a564a(0x472)+_0x1b7e3a,_0x1f2493=await Q[_0x2a564a(0x7ac)][_0x2a564a(0x234)](_0x4a67c8,{'responseType':_0x2a564a(0x223)});k[_0x2a564a(0x19b)](_0x3aa458,_0x1f2493[_0x2a564a(0x517)]);}else{let _0x20a847=Buffer[_0x2a564a(0x818)](_0x2fbe7f,'base64');k[_0x2a564a(0x19b)](_0x3aa458,_0x20a847);}return new Promise((_0x40b632,_0x4cd57d)=>{const _0x1b93c6=_0x2a564a;(0x0,Fe[_0x1b93c6(0x643)])(Ps[_0x1b93c6(0x7ac)][_0x1b93c6(0x4a3)]+_0x1b93c6(0x36a)+_0x3aa458+_0x1b93c6(0x1ec)+_0x51e9bf+_0x1b93c6(0x87c),_0x401d57=>{const _0x1bcb7b=_0x1b93c6;if(k['unlinkSync'](_0x3aa458),_0x401d57){this[_0x1bcb7b(0x69f)][_0x1bcb7b(0x776)](this[_0x1bcb7b(0x2e9)]+'\x20('+this['instance']['wuid']+_0x1bcb7b(0x676)),_0x4cd57d(_0x401d57);return;}this[_0x1bcb7b(0x69f)][_0x1bcb7b(0x776)](this[_0x1bcb7b(0x2e9)]+'\x20('+this[_0x1bcb7b(0x60b)][_0x1bcb7b(0x3e2)]+_0x1bcb7b(0x453)),_0x40b632(_0x51e9bf);});});}async[a0_0x1b7b78(0x486)](_0x25f989){const _0x279b72=a0_0x1b7b78;this[_0x279b72(0x69f)][_0x279b72(0x776)](this[_0x279b72(0x2e9)]+'\x20('+this['instance'][_0x279b72(0x3e2)]+_0x279b72(0x49b));let _0x4907b3=(0x0,ne['createHash'])('sha256')['update'](_0x25f989)[_0x279b72(0x326)](_0x279b72(0x8ad)),_0x3a4bfc=''+(0x0,j[_0x279b72(0x44f)])(this['storePath'],_0x4907b3+'.mp3');if(k[_0x279b72(0x5f8)](_0x3a4bfc))return this[_0x279b72(0x69f)]['verbose'](this[_0x279b72(0x2e9)]+'\x20('+this[_0x279b72(0x60b)][_0x279b72(0x3e2)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j[_0x279b72(0x7ac)][_0x279b72(0x1df)](_0x3a4bfc);let _0x276bb5=''+(0x0,j[_0x279b72(0x44f)])(this[_0x279b72(0x178)],'temp-'+_0x4907b3+_0x279b72(0x88f));if((0x0,J[_0x279b72(0x5a0)])(_0x25f989)){let _0x2f24ac=new Date()['getTime'](),_0x426053=_0x25f989+_0x279b72(0x472)+_0x2f24ac,_0x5af75d=await Q[_0x279b72(0x7ac)][_0x279b72(0x234)](_0x426053,{'responseType':_0x279b72(0x223)});k[_0x279b72(0x19b)](_0x276bb5,_0x5af75d[_0x279b72(0x517)]);}else{let _0x36e9c7=Buffer[_0x279b72(0x818)](_0x25f989,_0x279b72(0x20c));k[_0x279b72(0x19b)](_0x276bb5,_0x36e9c7);}return new Promise((_0x131616,_0x2fe250)=>{const _0x11bbe9=_0x279b72;(0x0,Fe[_0x11bbe9(0x643)])(Ps[_0x11bbe9(0x7ac)][_0x11bbe9(0x4a3)]+_0x11bbe9(0x36a)+_0x276bb5+_0x11bbe9(0x44e)+_0x3a4bfc+'\x20-y',_0x76039e=>{const _0x1d7142=_0x11bbe9;if(k['unlinkSync'](_0x276bb5),_0x76039e){this[_0x1d7142(0x69f)]['verbose'](this[_0x1d7142(0x2e9)]+'\x20('+this['instance'][_0x1d7142(0x3e2)]+'):Error\x20in\x20converting\x20audio'),_0x2fe250(_0x76039e);return;}this[_0x1d7142(0x69f)]['verbose'](this[_0x1d7142(0x2e9)]+'\x20('+this[_0x1d7142(0x60b)][_0x1d7142(0x3e2)]+_0x1d7142(0x453)),_0x131616(j[_0x1d7142(0x7ac)][_0x1d7142(0x1df)](_0x3a4bfc));});});}async['buttonMessage'](_0x3d9ed0){const _0x24ec8b=a0_0x1b7b78;console['log'](_0x24ec8b(0x1f5),_0x3d9ed0);let _0x4964b8;try{_0x3d9ed0[_0x24ec8b(0x518)]?.[_0x24ec8b(0x69e)]&&(_0x4964b8=await this[_0x24ec8b(0x7c1)]({'mediatype':_0x24ec8b(0x2b9),'media':_0x3d9ed0['buttonMessage'][_0x24ec8b(0x69e)]}));}catch(_0x4929d9){throw console[_0x24ec8b(0x84d)](_0x24ec8b(0x67f),_0x4929d9),new Error('Failed\x20to\x20prepare\x20media\x20message');}try{let _0x7f010d={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x24ec8b(0x43d)},'footer':{'text':_0x24ec8b(0x8eb)},'header':((()=>{const _0x40898e=_0x24ec8b;if(_0x4964b8?.[_0x40898e(0x272)]?.[_0x40898e(0x478)])return{'hasMediaAttachment':!!_0x4964b8[_0x40898e(0x272)]['imageMessage'],'imageMessage':_0x4964b8[_0x40898e(0x272)][_0x40898e(0x478)]};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON['stringify']({'display_text':'Botão\x201','id':'1'})},{'name':_0x24ec8b(0x445),'buttonParamsJson':JSON[_0x24ec8b(0x5b9)]({'display_text':_0x24ec8b(0x73d),'id':'2'})}],'messageParamsJson':JSON[_0x24ec8b(0x5b9)]({'from':_0x24ec8b(0x56c),'templateId':_0x24ec8b(0x4ac)+(0x0,ne[_0x24ec8b(0x720)])(0x12)[_0x24ec8b(0x6e2)]('hex')[_0x24ec8b(0x265)]()})}}}}};return await this[_0x24ec8b(0x247)](_0x3d9ed0[_0x24ec8b(0x7c6)],_0x7f010d,_0x3d9ed0?.['options']);}catch(_0x56a918){throw console[_0x24ec8b(0x84d)](_0x24ec8b(0x736),_0x56a918),new Error('Failed\x20to\x20send\x20buttons\x20message');}}async['locationMessage'](_0x2fe391){const _0x318778=a0_0x1b7b78;return await this['sendMessageWithTyping'](_0x2fe391[_0x318778(0x7c6)],{'locationMessage':{'degreesLatitude':_0x2fe391['locationMessage'][_0x318778(0x310)],'degreesLongitude':_0x2fe391[_0x318778(0x67b)]['longitude'],'name':_0x2fe391[_0x318778(0x67b)]?.[_0x318778(0x4a9)],'address':_0x2fe391[_0x318778(0x67b)]?.[_0x318778(0x613)]}},_0x2fe391?.[_0x318778(0x195)]);}async['contactMessage'](_0x1bf779){const _0x1b259d=a0_0x1b7b78;let _0x5add14={},_0x55d5e7=async _0x316e2f=>{const _0x38c788=a0_0x4b9f;let _0x3482b2=_0x38c788(0x7f7)+_0x316e2f[_0x38c788(0x3f3)]+_0x38c788(0x17f)+_0x316e2f[_0x38c788(0x3f3)]+'\x0a';_0x316e2f['organization']&&(_0x3482b2+=_0x38c788(0x224)+_0x316e2f[_0x38c788(0x5d3)]+';\x0a'),_0x316e2f['email']&&(_0x3482b2+=_0x38c788(0x5c3)+_0x316e2f[_0x38c788(0x3ea)]+'\x0a'),_0x316e2f[_0x38c788(0x430)]&&(_0x3482b2+=_0x38c788(0x7b8)+_0x316e2f[_0x38c788(0x430)]+'\x0a');let _0x428e51='',_0x6e9b82=0x1;if(_0x316e2f['phoneNumber']){let _0x998e33=_0x316e2f[_0x38c788(0x2b0)][_0x38c788(0x8f1)]('|');for(let _0x7b0125 of _0x998e33){let _0x4f688b=await this[_0x38c788(0x32b)]({'numbers':[_0x7b0125]}),_0x558885=(_0x4f688b[_0x38c788(0x245)]>0x0?_0x4f688b[0x0][_0x38c788(0x4bc)]:this['createJid'](_0x7b0125))[_0x38c788(0x465)](_0x38c788(0x3c5),'');_0x428e51+=_0x38c788(0x5c0)+_0x6e9b82+_0x38c788(0x354)+_0x558885+':'+_0x7b0125+'\x0aitem'+_0x6e9b82+_0x38c788(0x259),_0x6e9b82++;}}return _0x3482b2+=_0x428e51+_0x38c788(0x21b),_0x3482b2;};return _0x1bf779[_0x1b259d(0x5f4)][_0x1b259d(0x245)]===0x1?_0x5add14['contactMessage']={'displayName':_0x1bf779[_0x1b259d(0x5f4)][0x0][_0x1b259d(0x3f3)],'vcard':await _0x55d5e7(_0x1bf779['contactMessage'][0x0])}:_0x5add14['contactsArrayMessage']={'displayName':_0x1bf779[_0x1b259d(0x5f4)][_0x1b259d(0x245)]+_0x1b259d(0x187),'contacts':await Promise[_0x1b259d(0x586)](_0x1bf779['contactMessage']['map'](async _0x243abd=>({'displayName':_0x243abd[_0x1b259d(0x3f3)],'vcard':await _0x55d5e7(_0x243abd)})))},await this['sendMessageWithTyping'](_0x1bf779[_0x1b259d(0x7c6)],{..._0x5add14},_0x1bf779?.[_0x1b259d(0x195)]);}async[a0_0x1b7b78(0x7f4)](_0x1af813){const _0x4d1771=a0_0x1b7b78;return await this[_0x4d1771(0x1ad)](_0x1af813[_0x4d1771(0x7f4)][_0x4d1771(0x482)]['remoteJid'],{'reactionMessage':{'key':_0x1af813['reactionMessage']['key'],'text':_0x1af813[_0x4d1771(0x7f4)][_0x4d1771(0x3c1)]}});}async['whatsappNumber'](_0x3a57bd){const _0x219b50=a0_0x1b7b78;let _0x4026be=[];for await(let _0x4dd045 of _0x3a57bd['numbers']){let _0x241d09=this['createJid'](_0x4dd045),_0x2ca572=!0x1;try{if((0x0,w[_0x219b50(0x5c4)])(_0x241d09)){let _0x29a71f=(await this[_0x219b50(0x8f0)][_0x219b50(0x85e)][_0x219b50(0x547)]({'where':{'_id':_0x241d09}},this[_0x219b50(0x60b)][_0x219b50(0x3e2)]))[_0x219b50(0x1e8)];_0x29a71f?(_0x2ca572=!0x0,_0x4026be[_0x219b50(0x184)](new ue(_0x29a71f['id'],_0x2ca572,_0x29a71f?.[_0x219b50(0x2e3)]))):(_0x29a71f=await this[_0x219b50(0x376)]({'groupJid':_0x241d09},'inner'),_0x4026be[_0x219b50(0x184)](new ue(_0x29a71f['id'],!!_0x29a71f?.['id'],_0x29a71f?.[_0x219b50(0x2e3)])));}else{if(_0x241d09[_0x219b50(0x5a5)]('@broadcast'))_0x4026be['push'](new ue(_0x241d09,!0x0));else{let _0xfbc97f=(await this['client'][_0x219b50(0x400)](_0x241d09))[0x0];_0x4026be[_0x219b50(0x184)](new ue(_0xfbc97f[_0x219b50(0x4bc)],_0xfbc97f[_0x219b50(0x1e3)]));}}}catch{(0x0,w[_0x219b50(0x5c4)])(_0x241d09)||await this[_0x219b50(0x5eb)](_0x241d09),_0x4026be[_0x219b50(0x184)](new ue(_0x4dd045,!0x1));}}return _0x4026be;}async[a0_0x1b7b78(0x5eb)](_0x24289c){const _0x28d172=a0_0x1b7b78;try{await this[_0x28d172(0x8f0)]['chat']['findOne']({'where':{'_id':_0x24289c,'imported':!0x0}},this[_0x28d172(0x60b)][_0x28d172(0x3e2)])&&(await this['repository'][_0x28d172(0x85e)][_0x28d172(0x1f1)](_0x24289c,this['instance'][_0x28d172(0x3e2)]),this[_0x28d172(0x69f)][_0x28d172(0x6c3)](_0x28d172(0x679)+_0x24289c+_0x28d172(0x2e0)));}catch(_0x4eef7d){let _0x5ce96f=_0x28d172(0x3da),_0x47d208=_0x4eef7d instanceof Error?_0x4eef7d[_0x28d172(0x272)]:typeof _0x4eef7d==_0x28d172(0x56d)?JSON[_0x28d172(0x5b9)](_0x4eef7d):_0x4eef7d,_0x39a622=_0x5ce96f+':\x20'+_0x47d208;this[_0x28d172(0x69f)][_0x28d172(0x84d)](this['instanceName']+'\x20('+this[_0x28d172(0x60b)]['wuid']+_0x28d172(0x754)+_0x39a622);}}async['markMessageAsRead'](_0x5dd26e){const _0x5e697c=a0_0x1b7b78;try{let _0x43aec6=_0x5dd26e[_0x5e697c(0x31b)][_0x5e697c(0x194)](_0x31933a=>(0x0,w[_0x5e697c(0x5c4)])(_0x31933a['remoteJid'])||(0x0,w['isJidUser'])(_0x31933a[_0x5e697c(0x745)]))[_0x5e697c(0x686)](_0x4c45d4=>({'remoteJid':_0x4c45d4[_0x5e697c(0x745)],'fromMe':_0x4c45d4[_0x5e697c(0x8bf)],'id':_0x4c45d4['id']}));await this[_0x5e697c(0x567)][_0x5e697c(0x31b)](_0x43aec6);let _0x51c053=_0x43aec6['map'](_0xede8cb=>this[_0x5e697c(0x2d3)](_0xede8cb,{'status':_0x5e697c(0x3e5),'owner':this[_0x5e697c(0x60b)]['wuid']})),_0x5a7cc4=_0x43aec6[_0x5e697c(0x686)](_0x58728d=>this[_0x5e697c(0x8f0)][_0x5e697c(0x85e)][_0x5e697c(0x6b6)]({'where':{'_id':_0x58728d[_0x5e697c(0x745)]}},{'unreadcount':0x0},this[_0x5e697c(0x60b)][_0x5e697c(0x3e2)])),[_0x4847a6,_0x47a5de]=await Promise['all']([Promise['all'](_0x51c053),Promise['all'](_0x5a7cc4)]);return _0x47a5de[_0x5e697c(0x194)](_0x1fcd78=>_0x1fcd78!==null)[_0x5e697c(0x52e)](_0x2da32b=>{const _0x5c70f1=_0x5e697c;F(this[_0x5c70f1(0x2e9)],_0x5c70f1(0x6b8),{'chat':_0x2da32b});}),{'message':'Read\x20messages','read':_0x5e697c(0x845)};}catch(_0x2cea82){let _0x466351=_0x5e697c(0x7b6),_0xac9395=_0x2cea82 instanceof Error?_0x2cea82[_0x5e697c(0x272)]:typeof _0x2cea82==_0x5e697c(0x56d)?JSON['stringify'](_0x2cea82):_0x2cea82,_0x5c79d3=_0x466351+':\x20'+_0xac9395;throw this['logger'][_0x5e697c(0x84d)](this[_0x5e697c(0x2e9)]+'\x20('+this['instance']['wuid']+_0x5e697c(0x754)+_0x5c79d3),new x(_0x5c79d3);}}async[a0_0x1b7b78(0x34b)](_0x1c5679){const _0xb83149=a0_0x1b7b78;let _0x3c382d={'where':{'key':{'remoteJid':_0x1c5679}},'limit':0x1},_0x44c6e2=await this[_0xb83149(0x8b0)](_0x3c382d);return _0x44c6e2||(this[_0xb83149(0x69f)][_0xb83149(0x84d)](_0xb83149(0x827)+_0x1c5679),null);}async['archiveChat'](_0x29d86f){const _0x53c34e=a0_0x1b7b78;this['logger']['verbose'](this[_0x53c34e(0x2e9)]+'\x20('+this[_0x53c34e(0x60b)]['wuid']+_0x53c34e(0x75c));try{let _0x502335=_0x29d86f[_0x53c34e(0x210)],_0x4629d1=_0x29d86f[_0x53c34e(0x85e)];if(!_0x502335&&_0x4629d1?_0x502335=await this['getLastMessage'](_0x4629d1):(_0x502335=_0x29d86f[_0x53c34e(0x210)],_0x502335[_0x53c34e(0x2b7)]=_0x502335?.['messageTimestamp']??Date[_0x53c34e(0x8d0)](),_0x4629d1=_0x502335?.['key']?.['remoteJid']),!_0x502335||Object[_0x53c34e(0x51a)](_0x502335)[_0x53c34e(0x245)]===0x0)throw new U(_0x53c34e(0x437));this['logger'][_0x53c34e(0x776)](this[_0x53c34e(0x2e9)]+'\x20('+this['instance']['wuid']+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x4629d1);try{await this['client'][_0x53c34e(0x700)]({'archive':_0x29d86f[_0x53c34e(0x42a)],'lastMessages':[_0x502335]},this[_0x53c34e(0x790)](_0x4629d1));}catch(_0x27f92b){let _0x73218d='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x4629d1,_0x14bd58=_0x27f92b instanceof Error?_0x27f92b[_0x53c34e(0x272)]:typeof _0x27f92b==_0x53c34e(0x56d)?JSON[_0x53c34e(0x5b9)](_0x27f92b):_0x27f92b,_0x1d3838=_0x73218d+':\x20'+_0x14bd58;this[_0x53c34e(0x69f)][_0x53c34e(0x84d)](this['instanceName']+'\x20('+this[_0x53c34e(0x60b)][_0x53c34e(0x3e2)]+_0x53c34e(0x754)+_0x1d3838);}this[_0x53c34e(0x69f)][_0x53c34e(0x776)](this[_0x53c34e(0x2e9)]+'\x20('+this[_0x53c34e(0x60b)]['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4629d1);let _0x36d3c0=await this[_0x53c34e(0x8f0)][_0x53c34e(0x85e)]['updateOne']({'where':{'_id':_0x502335?.['key']?.[_0x53c34e(0x745)]}},{'archived':_0x29d86f['archive']},this[_0x53c34e(0x60b)]['wuid']);return _0x36d3c0?(this[_0x53c34e(0x69f)][_0x53c34e(0x776)](this['instanceName']+'\x20('+this[_0x53c34e(0x60b)]['wuid']+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x36d3c0)),F(this[_0x53c34e(0x2e9)],_0x53c34e(0x6b8),{'chat':_0x36d3c0})):this['logger']['error'](this[_0x53c34e(0x2e9)]+'\x20('+this[_0x53c34e(0x60b)][_0x53c34e(0x3e2)]+_0x53c34e(0x813)+_0x4629d1),{'chatId':_0x4629d1,'archived':_0x29d86f[_0x53c34e(0x42a)]};}catch(_0x301976){let _0xebf4df=_0x53c34e(0x346),_0x46b7a0=_0x301976 instanceof Error?_0x301976['message']:typeof _0x301976==_0x53c34e(0x56d)?JSON[_0x53c34e(0x5b9)](_0x301976):_0x301976,_0x5b0dfc=_0xebf4df+':\x20'+_0x46b7a0;throw this['logger'][_0x53c34e(0x84d)](this['instanceName']+'\x20('+this[_0x53c34e(0x60b)][_0x53c34e(0x3e2)]+_0x53c34e(0x754)+_0x5b0dfc),new x(_0x5b0dfc);}}async[a0_0x1b7b78(0x1f1)](_0x25fc13){const _0x7ffdc8=a0_0x1b7b78;this[_0x7ffdc8(0x69f)]['verbose'](this[_0x7ffdc8(0x2e9)]+'\x20('+this['instance'][_0x7ffdc8(0x3e2)]+_0x7ffdc8(0x740));try{let _0x424417=await this[_0x7ffdc8(0x34b)](_0x25fc13);if(!_0x424417||Object['keys'](_0x424417)[_0x7ffdc8(0x245)]===0x0)throw new U(_0x7ffdc8(0x437));let _0x4c9b94=_0x424417[0x0];this[_0x7ffdc8(0x69f)][_0x7ffdc8(0x776)](this[_0x7ffdc8(0x2e9)]+'\x20('+this[_0x7ffdc8(0x60b)][_0x7ffdc8(0x3e2)]+_0x7ffdc8(0x418)+_0x25fc13);try{await this[_0x7ffdc8(0x567)][_0x7ffdc8(0x700)]({'delete':!0x0,'lastMessages':[{'key':_0x4c9b94['key'],'messageTimestamp':_0x4c9b94[_0x7ffdc8(0x2b7)]}]},this[_0x7ffdc8(0x790)](_0x25fc13));}catch(_0x6d34e7){this[_0x7ffdc8(0x69f)][_0x7ffdc8(0x84d)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x25fc13+':\x20'+_0x6d34e7[_0x7ffdc8(0x6e2)]());}this[_0x7ffdc8(0x69f)]['verbose'](this[_0x7ffdc8(0x2e9)]+'\x20('+this[_0x7ffdc8(0x60b)][_0x7ffdc8(0x3e2)]+_0x7ffdc8(0x4be)+_0x25fc13);return;}catch(_0x260bce){throw this[_0x7ffdc8(0x69f)][_0x7ffdc8(0x84d)](this[_0x7ffdc8(0x2e9)]+'\x20('+this[_0x7ffdc8(0x60b)]['wuid']+_0x7ffdc8(0x389)+_0x260bce[_0x7ffdc8(0x6e2)]()),new x({'archived':!0x1,'message':[_0x7ffdc8(0x345),_0x260bce[_0x7ffdc8(0x6e2)]()]});}}async[a0_0x1b7b78(0x420)](_0x74d99d){const _0x266766=a0_0x1b7b78;try{let _0x3902d4=await this[_0x266766(0x567)]['sendMessage'](_0x74d99d['remoteJid'],{'delete':_0x74d99d});try{let _0x2ea829=await this[_0x266766(0x2d3)](_0x74d99d,{'status':_0x266766(0x8b8),'owner':this[_0x266766(0x60b)][_0x266766(0x3e2)]});this[_0x266766(0x69f)][_0x266766(0x776)](this[_0x266766(0x2e9)]+'\x20('+this['instance'][_0x266766(0x3e2)]+_0x266766(0x408)+_0x2ea829);}catch(_0x2e0e84){this[_0x266766(0x69f)][_0x266766(0x84d)](_0x266766(0x4a5)+_0x2e0e84);}return _0x3902d4;}catch(_0x203332){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x203332?.[_0x266766(0x6e2)]());}}async[a0_0x1b7b78(0x777)](_0x4a95f3){const _0x2e20e8=a0_0x1b7b78;try{let _0x1df2d4=_0x4a95f3?.[_0x2e20e8(0x272)]?_0x4a95f3:await this[_0x2e20e8(0x4b5)](_0x4a95f3['key'],!0x0);for(let _0x5046fb of Na)_0x1df2d4[_0x2e20e8(0x272)][_0x5046fb]&&(_0x1df2d4[_0x2e20e8(0x272)]=_0x1df2d4[_0x2e20e8(0x272)][_0x5046fb][_0x2e20e8(0x272)]);let _0x6e6239,_0x5f4f09;for(let _0x968e87 of va)if(_0x6e6239=_0x1df2d4[_0x2e20e8(0x272)][_0x968e87],_0x6e6239){_0x5f4f09=_0x968e87;break;}if(!_0x6e6239)throw _0x2e20e8(0x20e);typeof _0x6e6239[_0x2e20e8(0x2a8)]==_0x2e20e8(0x56d)&&(_0x1df2d4[_0x2e20e8(0x272)]=JSON[_0x2e20e8(0x599)](JSON[_0x2e20e8(0x5b9)](_0x1df2d4[_0x2e20e8(0x272)])));let _0x1b7297=await(0x0,w['downloadMediaMessage'])({'key':_0x1df2d4?.['key'],'message':_0x1df2d4?.[_0x2e20e8(0x272)]},_0x2e20e8(0x80b),{},{'logger':(0x0,Ft[_0x2e20e8(0x7ac)])({'level':_0x2e20e8(0x4d6)}),'reuploadRequest':this[_0x2e20e8(0x567)]['updateMediaMessage']});if(!(_0x1b7297 instanceof Buffer))throw new Error(_0x2e20e8(0x22f));let _0x1a5f7e=this[_0x2e20e8(0x6e6)][_0x2e20e8(0x234)](_0x2e20e8(0x301)),_0x2df687,_0xcd4a11;if(_0x6e6239[_0x2e20e8(0x525)])_0x2df687=_0x6e6239[_0x2e20e8(0x525)];else{let _0x53167a=_0x6e6239[_0x2e20e8(0x628)]?.[_0x2e20e8(0x65b)](/\/(\w+)/),_0x1cc283=_0x53167a?_0x53167a[0x1]:null;if(!_0x1cc283)throw new Error(_0x2e20e8(0x73b));_0x2df687=(0x0,Y['v4'])()+'.'+_0x1cc283;}_0x5f4f09===_0x2e20e8(0x3c8)?_0xcd4a11=_0x2e20e8(0x7d1)+await this[_0x2e20e8(0x486)](_0x1b7297[_0x2e20e8(0x6e2)]('base64')):(await this[_0x2e20e8(0x7aa)](_0x1b7297,_0x2df687),_0xcd4a11=_0x2e20e8(0x7d1)+_0x2df687);let _0x47fbd5=this[_0x2e20e8(0x6e6)][_0x2e20e8(0x234)](_0x2e20e8(0x5d0))[_0x2e20e8(0x448)];if(!_0x47fbd5){let _0x4a7b93=this[_0x2e20e8(0x6e6)][_0x2e20e8(0x234)](_0x2e20e8(0x38f));_0x47fbd5=_0x2e20e8(0x659)+(_0x4a7b93&&_0x4a7b93[_0x2e20e8(0x632)][_0x2e20e8(0x8f1)]('/')[0x4]);}_0xcd4a11=''+_0x47fbd5+_0xcd4a11;let _0x4d2939=0xc*0x3c*0x3c*0x3e8,_0x3aa690={'where':{'_id':_0x1df2d4['key']['id']}},_0x2554ac={'message_normalized.fileUrl':_0xcd4a11,'message_normalized.expires_fileUrl':Date[_0x2e20e8(0x8d0)]()+_0x4d2939};try{let _0x55f7c1=await this['repository']['message'][_0x2e20e8(0x85d)](_0x3aa690,_0x2554ac,this['instance'][_0x2e20e8(0x3e2)]);_0x55f7c1&&F(this[_0x2e20e8(0x2e9)],_0x2e20e8(0x174),{'message':_0x55f7c1});}catch(_0x5b78ef){let _0x1ea367=_0x2e20e8(0x4ff),_0x5e9aa0=_0x5b78ef instanceof Error?_0x5b78ef[_0x2e20e8(0x272)]:typeof _0x5b78ef==_0x2e20e8(0x56d)?JSON[_0x2e20e8(0x5b9)](_0x5b78ef):_0x5b78ef,_0x2ba0a6=_0x1ea367+':\x20'+_0x5e9aa0;this['logger']['error'](this[_0x2e20e8(0x2e9)]+'\x20('+this[_0x2e20e8(0x60b)][_0x2e20e8(0x3e2)]+_0x2e20e8(0x754)+_0x2ba0a6);}return{'mediaType':_0x5f4f09,'fileName':_0x6e6239[_0x2e20e8(0x525)],'caption':_0x6e6239['caption'],'size':{'fileLength':_0x6e6239[_0x2e20e8(0x5b6)],'height':_0x6e6239['height'],'width':_0x6e6239['width']},'mimetype':_0x6e6239[_0x2e20e8(0x628)],'base64':_0x1b7297[_0x2e20e8(0x6e2)](_0x2e20e8(0x20c)),'fileUrl':_0xcd4a11,'expires_fileUrl':Date[_0x2e20e8(0x8d0)]()+_0x4d2939};}catch(_0x118a28){let _0x3274ab='Falha\x20ao\x20processar\x20a\x20solicitação',_0x3119e7=_0x118a28 instanceof Error?_0x118a28[_0x2e20e8(0x272)]:typeof _0x118a28==_0x2e20e8(0x56d)?JSON[_0x2e20e8(0x5b9)](_0x118a28):_0x118a28,_0x482931=_0x3274ab+':\x20'+_0x3119e7;throw this['logger'][_0x2e20e8(0x84d)](this['instanceName']+'\x20('+this[_0x2e20e8(0x60b)]['wuid']+_0x2e20e8(0x754)+_0x482931),new m(_0x482931);}}async['saveMediaToFile'](_0x421f8c,_0x4942c2){const _0x42ba03=a0_0x1b7b78;let _0x1b0e39=j[_0x42ba03(0x7ac)][_0x42ba03(0x44f)](__dirname,_0x42ba03(0x3d2));k['existsSync'](_0x1b0e39)||k[_0x42ba03(0x2f8)](_0x1b0e39,{'recursive':!0x0});let _0x44ecb2=j[_0x42ba03(0x7ac)]['join'](_0x1b0e39,_0x4942c2);return new Promise((_0xd9493c,_0x2b62ed)=>{const _0x685311=_0x42ba03;k[_0x685311(0x1c9)](_0x44ecb2,_0x421f8c,_0x31a48c=>{const _0x2e80b7=_0x685311;_0x31a48c?(this['logger'][_0x2e80b7(0x84d)](_0x2e80b7(0x5e2)+(_0x31a48c instanceof Error?_0x31a48c[_0x2e80b7(0x272)]:JSON[_0x2e80b7(0x5b9)](_0x31a48c,null,0x2))),_0x2b62ed(_0x31a48c)):(this[_0x2e80b7(0x69f)][_0x2e80b7(0x315)](_0x2e80b7(0x557)+_0x44ecb2),_0xd9493c(_0x44ecb2));});});}async['fetchContacts'](_0xd81606){const _0x25fcd2=a0_0x1b7b78;return await this['repository'][_0x25fcd2(0x3f8)][_0x25fcd2(0x83c)](_0xd81606,this[_0x25fcd2(0x60b)]['wuid']);}async[a0_0x1b7b78(0x72a)](){const _0x2b0b92=a0_0x1b7b78;return await this[_0x2b0b92(0x8f0)][_0x2b0b92(0x7a2)][_0x2b0b92(0x83c)]({'where':{}},this[_0x2b0b92(0x60b)][_0x2b0b92(0x3e2)]);}async[a0_0x1b7b78(0x8b0)](_0x27fb1a){const _0x3eb973=a0_0x1b7b78;return await this[_0x3eb973(0x8f0)]['message'][_0x3eb973(0x83c)](_0x27fb1a,this['instance'][_0x3eb973(0x3e2)]);}async[a0_0x1b7b78(0x350)](){const _0x4bac4b=a0_0x1b7b78;return this[_0x4bac4b(0x8f0)][_0x4bac4b(0x85e)]['removeUnusedChatFields'](this['instance'][_0x4bac4b(0x3e2)]),this[_0x4bac4b(0x8f0)]['chat'][_0x4bac4b(0x19f)](this[_0x4bac4b(0x60b)]['wuid']),this[_0x4bac4b(0x8f0)][_0x4bac4b(0x85e)][_0x4bac4b(0x521)](this[_0x4bac4b(0x60b)]['wuid']),this[_0x4bac4b(0x8f0)][_0x4bac4b(0x85e)][_0x4bac4b(0x5ca)](this[_0x4bac4b(0x60b)][_0x4bac4b(0x3e2)]),await this[_0x4bac4b(0x8f0)][_0x4bac4b(0x85e)][_0x4bac4b(0x83c)]({'where':{}},this[_0x4bac4b(0x60b)]['wuid']);}async['importChatsAntigo'](_0x585f99){const _0x2ac6b8=a0_0x1b7b78;try{if(!Array[_0x2ac6b8(0x7c2)](_0x585f99)||_0x585f99[_0x2ac6b8(0x245)]===0x0)throw new Error(_0x2ac6b8(0x89e));let _0x449830=[],_0x52c62b=[];for(let _0x3be29a of _0x585f99){if(_0x3be29a[_0x2ac6b8(0x49d)])_0x3be29a[_0x2ac6b8(0x49d)]=this['createJid'](_0x3be29a[_0x2ac6b8(0x49d)]);else continue;await this[_0x2ac6b8(0x8f0)][_0x2ac6b8(0x85e)][_0x2ac6b8(0x547)]({'where':{'_id':_0x3be29a[_0x2ac6b8(0x49d)]}},this[_0x2ac6b8(0x60b)]['wuid'])?_0x52c62b[_0x2ac6b8(0x184)]({'_id':_0x3be29a[_0x2ac6b8(0x49d)],'leadInfo':_0x3be29a['leadInfo'],'owner':this[_0x2ac6b8(0x60b)]['wuid']}):_0x449830['push']({'_id':_0x3be29a['_id'],'owner':this[_0x2ac6b8(0x60b)]['wuid'],'leadInfo':_0x3be29a[_0x2ac6b8(0x873)],'imported':!0x0});}return _0x52c62b[_0x2ac6b8(0x245)]>0x0&&await this[_0x2ac6b8(0x8f0)][_0x2ac6b8(0x85e)][_0x2ac6b8(0x3a3)](_0x52c62b[_0x2ac6b8(0x686)](_0x416767=>({'query':{'where':{'_id':_0x416767[_0x2ac6b8(0x49d)],'owner':this['instance'][_0x2ac6b8(0x3e2)]}},'update':_0x416767}))),_0x449830[_0x2ac6b8(0x245)]>0x0&&await this[_0x2ac6b8(0x8f0)][_0x2ac6b8(0x85e)][_0x2ac6b8(0x4e9)](_0x449830,this[_0x2ac6b8(0x60b)][_0x2ac6b8(0x3e2)]),{'updated':_0x52c62b['length'],'inserted':_0x449830[_0x2ac6b8(0x245)]};}catch(_0x2d42dd){let _0x491e61=_0x2ac6b8(0x173),_0x1fad91=_0x2d42dd instanceof Error?_0x2d42dd[_0x2ac6b8(0x272)]:typeof _0x2d42dd==_0x2ac6b8(0x56d)?JSON[_0x2ac6b8(0x5b9)](_0x2d42dd):_0x2d42dd,_0x52b10c=_0x491e61+':\x20'+_0x1fad91;throw this[_0x2ac6b8(0x69f)][_0x2ac6b8(0x84d)](this[_0x2ac6b8(0x2e9)]+'\x20('+this[_0x2ac6b8(0x60b)][_0x2ac6b8(0x3e2)]+_0x2ac6b8(0x754)+_0x52b10c),new m(_0x52b10c);}}async[a0_0x1b7b78(0x483)](_0x5d84e1){const _0x4fbeee=a0_0x1b7b78;try{if(!Array[_0x4fbeee(0x7c2)](_0x5d84e1)||_0x5d84e1[_0x4fbeee(0x245)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0xa2be=0x64,_0x1f866=0x0;for(let _0x2b2167=0x0;_0x2b2167<_0x5d84e1['length'];_0x2b2167+=_0xa2be){let _0x18e886=_0x5d84e1[_0x4fbeee(0x1e2)](_0x2b2167,_0x2b2167+_0xa2be),{updated:_0x1be31b}=await this['importChatsBatch'](_0x18e886);_0x1f866+=_0x1be31b;}return{'updated':_0x1f866};}catch(_0x14176b){let _0x30275d=_0x4fbeee(0x173),_0x4f6168=_0x14176b instanceof Error?_0x14176b[_0x4fbeee(0x272)]:typeof _0x14176b==_0x4fbeee(0x56d)?JSON['stringify'](_0x14176b):_0x14176b,_0x16fad0=_0x30275d+':\x20'+_0x4f6168;throw this['logger'][_0x4fbeee(0x84d)](this['instanceName']+'\x20('+this['instance'][_0x4fbeee(0x3e2)]+_0x4fbeee(0x754)+_0x16fad0),new m(_0x16fad0);}}async[a0_0x1b7b78(0x510)](_0x3273c8){const _0x407783=a0_0x1b7b78;try{let _0x3e8746=await this['repository'][_0x407783(0x7a2)]['find']({'where':{}},this['instance'][_0x407783(0x3e2)]),_0x20e0f6=new Set(_0x3e8746[_0x407783(0x686)](_0x14da27=>_0x14da27[_0x407783(0x49d)])),_0x44c31f=[],_0x223e81=[];for(let _0x1b8f83 of _0x3273c8){if(!_0x1b8f83[_0x407783(0x49d)])continue;_0x1b8f83[_0x407783(0x49d)]=this[_0x407783(0x790)](_0x1b8f83[_0x407783(0x49d)]);let _0x20a2e2=await this['repository']['chat']['findOne']({'where':{'_id':_0x1b8f83['_id']}},this[_0x407783(0x60b)][_0x407783(0x3e2)]),_0x1cdf0d={};if(Object[_0x407783(0x47f)](_0x1b8f83[_0x407783(0x873)])['forEach'](([_0x2fd7f0,_0x1c3bac])=>{const _0x4dda11=_0x407783;_0x1cdf0d[_0x4dda11(0x457)+_0x2fd7f0]=_0x1c3bac;}),_0x20a2e2&&!_0x20a2e2[_0x407783(0x374)]){let _0x31a3cd=(_0x1b8f83[_0x407783(0x873)][_0x407783(0x188)]||[])[_0x407783(0x194)](_0x56a9a3=>_0x20e0f6[_0x407783(0x84a)](_0x56a9a3)),_0x311ecf=new Set(_0x20a2e2['leadInfo']['etiquetas']||[]),_0x2932f9=_0x31a3cd[_0x407783(0x194)](_0x3cfae4=>!_0x311ecf[_0x407783(0x84a)](_0x3cfae4)),_0x2d6b22=[..._0x311ecf][_0x407783(0x194)](_0x10766b=>!_0x31a3cd['includes'](_0x10766b));_0x223e81[_0x407783(0x184)](..._0x2932f9['map'](_0x53b53d=>this[_0x407783(0x7d8)](_0x53b53d,_0x1b8f83['_id']))),_0x223e81[_0x407783(0x184)](..._0x2d6b22[_0x407783(0x686)](_0x41ce76=>this[_0x407783(0x6a4)](_0x41ce76,_0x1b8f83[_0x407783(0x49d)]))),_0x1b8f83[_0x407783(0x873)][_0x407783(0x188)]=_0x31a3cd,_0x44c31f[_0x407783(0x184)]({'query':{'where':{'_id':_0x1b8f83[_0x407783(0x49d)],'owner':this['instance'][_0x407783(0x3e2)]}},'update':_0x1cdf0d});}else _0x1cdf0d[_0x407783(0x374)]=!0x0,_0x44c31f[_0x407783(0x184)]({'query':{'where':{'_id':_0x1b8f83['_id'],'owner':this[_0x407783(0x60b)][_0x407783(0x3e2)]}},'update':_0x1cdf0d});}let _0x3d7d44=await this['repository'][_0x407783(0x85e)]['updateMany'](_0x44c31f);return await Promise[_0x407783(0x586)](_0x223e81),{'updated':_0x3d7d44};}catch(_0x3d7312){let _0x4b268b=_0x407783(0x173),_0x4d4d24=_0x3d7312 instanceof Error?_0x3d7312['message']:typeof _0x3d7312==_0x407783(0x56d)?JSON['stringify'](_0x3d7312):_0x3d7312,_0x38f43a=_0x4b268b+':\x20'+_0x4d4d24;throw this[_0x407783(0x69f)]['error'](this[_0x407783(0x2e9)]+'\x20('+this[_0x407783(0x60b)][_0x407783(0x3e2)]+_0x407783(0x754)+_0x38f43a),new m(_0x38f43a);}}async[a0_0x1b7b78(0x2ab)](){return await this['client']['fetchPrivacySettings']();}async[a0_0x1b7b78(0x5c2)](_0x13f109){const _0x4d4c6b=a0_0x1b7b78;try{return await this[_0x4d4c6b(0x567)][_0x4d4c6b(0x30c)](_0x13f109[_0x4d4c6b(0x8e6)][_0x4d4c6b(0x4e4)]),await this[_0x4d4c6b(0x567)][_0x4d4c6b(0x6e7)](_0x13f109[_0x4d4c6b(0x8e6)]['profile']),await this[_0x4d4c6b(0x567)]['updateStatusPrivacy'](_0x13f109[_0x4d4c6b(0x8e6)][_0x4d4c6b(0x18a)]),await this[_0x4d4c6b(0x567)][_0x4d4c6b(0x1d5)](_0x13f109[_0x4d4c6b(0x8e6)][_0x4d4c6b(0x60a)]),await this['client'][_0x4d4c6b(0x797)](_0x13f109['privacySettings'][_0x4d4c6b(0x43e)]),await this[_0x4d4c6b(0x567)]['updateGroupsAddPrivacy'](_0x13f109[_0x4d4c6b(0x8e6)][_0x4d4c6b(0x277)]),this[_0x4d4c6b(0x567)]?.['ws']?.[_0x4d4c6b(0x42f)](),{'update':_0x4d4c6b(0x845),'data':{'readreceipts':_0x13f109['privacySettings'][_0x4d4c6b(0x4e4)],'profile':_0x13f109[_0x4d4c6b(0x8e6)][_0x4d4c6b(0x480)],'status':_0x13f109[_0x4d4c6b(0x8e6)]['status'],'online':_0x13f109[_0x4d4c6b(0x8e6)]['online'],'last':_0x13f109[_0x4d4c6b(0x8e6)][_0x4d4c6b(0x43e)],'groupadd':_0x13f109[_0x4d4c6b(0x8e6)]['groupadd']}};}catch(_0x10d9ff){let _0x3916d2='Erro\x20ao\x20alterar\x20privacidade',_0xdb049f=_0x10d9ff instanceof Error?_0x10d9ff[_0x4d4c6b(0x272)]:typeof _0x10d9ff==_0x4d4c6b(0x56d)?JSON[_0x4d4c6b(0x5b9)](_0x10d9ff):_0x10d9ff,_0x1548f3=_0x3916d2+':\x20'+_0xdb049f;throw this['logger'][_0x4d4c6b(0x84d)](this[_0x4d4c6b(0x2e9)]+'\x20('+this[_0x4d4c6b(0x60b)][_0x4d4c6b(0x3e2)]+_0x4d4c6b(0x754)+_0x1548f3),new m(_0x1548f3);}}async[a0_0x1b7b78(0x81d)](_0x82e626){const _0x531e51=a0_0x1b7b78;let _0x73ea88=(_0x82e626?this['createJid'](_0x82e626):this['client']?.[_0x531e51(0x45e)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x531e51(0x69f)][_0x531e51(0x776)](this[_0x531e51(0x2e9)]+'\x20('+this[_0x531e51(0x60b)][_0x531e51(0x3e2)]+_0x531e51(0x254)+_0x73ea88);let _0x3d6c4e=await this[_0x531e51(0x8f0)][_0x531e51(0x3f8)][_0x531e51(0x547)]({'where':{'_id':_0x73ea88}},this[_0x531e51(0x60b)][_0x531e51(0x3e2)]),_0x113fe8=_0x3d6c4e?_0x3d6c4e[_0x531e51(0x2d5)]:null;try{let _0x682ac5=(await this['whatsappNumber']({'numbers':[_0x73ea88]}))?.[_0x531e51(0x362)](),_0x113542=(await this[_0x531e51(0x533)](_0x73ea88,null,!0x1))[_0x531e51(0x59a)]['pictureUrl'],_0x170436=await this['getStatus'](_0x682ac5?.[_0x531e51(0x4bc)]),_0x2af730=await this[_0x531e51(0x3d7)](_0x682ac5?.[_0x531e51(0x4bc)]),_0x595d31=(await this[_0x531e51(0x533)](_0x73ea88,null,!0x1))[_0x531e51(0x59a)]['name'],_0x4a8f20=await this[_0x531e51(0x8f0)]['chat'][_0x531e51(0x547)]({'where':{'_id':_0x73ea88}},this[_0x531e51(0x60b)]['wuid']),_0x37409d={'imagechat':_0x113542,'contactname':_0x113fe8||null,'pushName':_0x595d31,'status':_0x170436?.['status'],'isBusiness':_0x2af730['isBusiness'],'email':_0x2af730?.[_0x531e51(0x3ea)],'description':_0x2af730?.[_0x531e51(0x570)],'website':_0x2af730?.[_0x531e51(0x2c7)]?.['shift'](),'lastcache':Date['now'](),'imported':!_0x4a8f20},_0x184aed=await this[_0x531e51(0x8f0)][_0x531e51(0x85e)][_0x531e51(0x6b6)]({'where':{'_id':_0x73ea88}},_0x37409d,this['instance']['wuid']),_0x3b315e={'owner':this[_0x531e51(0x60b)]['wuid'],'_id':_0x73ea88,'profilePictureUrl':_0x113542,'status':_0x170436?.[_0x531e51(0x18a)]};return this[_0x531e51(0x8f0)][_0x531e51(0x3f8)]['update']([_0x3b315e],this[_0x531e51(0x60b)]['wuid']),_0x184aed&&F(this[_0x531e51(0x2e9)],_0x531e51(0x6b8),{'chat':_0x184aed}),{'wuid':_0x682ac5?.[_0x531e51(0x4bc)]||_0x73ea88,'name':_0x682ac5?.['name'],'pushName':_0x595d31,'numberExists':_0x682ac5?.[_0x531e51(0x1e3)],'picture':_0x113542,'status':_0x170436?.[_0x531e51(0x18a)],'isBusiness':_0x2af730[_0x531e51(0x460)],'email':_0x2af730?.['email'],'description':_0x2af730?.['description'],'website':_0x2af730?.[_0x531e51(0x2c7)]?.['shift']()};}catch(_0x111354){return this[_0x531e51(0x69f)][_0x531e51(0x84d)](_0x531e51(0x79e)+(_0x111354 instanceof Error?_0x111354[_0x531e51(0x272)]:JSON[_0x531e51(0x5b9)](_0x111354,null,0x2))),{};}}async[a0_0x1b7b78(0x3d7)](_0x27e374){const _0x2533e1=a0_0x1b7b78;this[_0x2533e1(0x69f)][_0x2533e1(0x776)](this[_0x2533e1(0x2e9)]+'\x20('+this['instance'][_0x2533e1(0x3e2)]+_0x2533e1(0x829));try{let _0x54fb37=_0x27e374?this[_0x2533e1(0x790)](_0x27e374):this[_0x2533e1(0x60b)][_0x2533e1(0x3e2)],_0x414856=await this[_0x2533e1(0x567)][_0x2533e1(0x764)](_0x54fb37);return this[_0x2533e1(0x69f)][_0x2533e1(0x776)](this[_0x2533e1(0x2e9)]+'\x20('+this[_0x2533e1(0x60b)][_0x2533e1(0x3e2)]+_0x2533e1(0x3c2)),_0x414856?(this[_0x2533e1(0x69f)][_0x2533e1(0x776)](this['instanceName']+'\x20('+this[_0x2533e1(0x60b)][_0x2533e1(0x3e2)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x414856}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x2533e1(0x32b)]({'numbers':[_0x54fb37]}))?.[_0x2533e1(0x362)]()};}catch(_0x4a0ebc){let _0x390edf=_0x2533e1(0x6de),_0x4686b9=_0x4a0ebc instanceof Error?_0x4a0ebc[_0x2533e1(0x272)]:typeof _0x4a0ebc==_0x2533e1(0x56d)?JSON[_0x2533e1(0x5b9)](_0x4a0ebc):_0x4a0ebc,_0x1444cb=_0x390edf+':\x20'+_0x4686b9;throw this[_0x2533e1(0x69f)][_0x2533e1(0x84d)](this['instanceName']+'\x20('+this[_0x2533e1(0x60b)][_0x2533e1(0x3e2)]+'):\x20'+_0x1444cb),new x(_0x1444cb);}}async[a0_0x1b7b78(0x660)](_0x44fc2b){const _0x58212c=a0_0x1b7b78;let _0x1d62a4=this[_0x58212c(0x790)](_0x44fc2b);try{return{'wuid':_0x1d62a4,'status':(await this[_0x58212c(0x567)][_0x58212c(0x5d7)](_0x1d62a4))[0x0]?.[_0x58212c(0x18a)]};}catch{return{'wuid':_0x1d62a4,'status':null};}}async[a0_0x1b7b78(0x68b)](_0x2ad19c){const _0x5c76d2=a0_0x1b7b78;try{return await this[_0x5c76d2(0x567)][_0x5c76d2(0x68b)](_0x2ad19c),{'update':_0x5c76d2(0x845)};}catch(_0x322987){let _0x21c27d='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x4d970e=_0x322987 instanceof Error?_0x322987['message']:typeof _0x322987==_0x5c76d2(0x56d)?JSON[_0x5c76d2(0x5b9)](_0x322987):_0x322987,_0x4cf43f=_0x21c27d+':\x20'+_0x4d970e;throw this['logger'][_0x5c76d2(0x84d)](this[_0x5c76d2(0x2e9)]+'\x20('+this[_0x5c76d2(0x60b)][_0x5c76d2(0x3e2)]+'):\x20'+_0x4cf43f),new x(_0x4cf43f);}}async[a0_0x1b7b78(0x699)](_0x5304f9){const _0x54b49b=a0_0x1b7b78;try{return await this['client'][_0x54b49b(0x699)](_0x5304f9),{'update':_0x54b49b(0x845)};}catch(_0x518c67){let _0x2ff3a2=_0x54b49b(0x209),_0x52c863=_0x518c67 instanceof Error?_0x518c67[_0x54b49b(0x272)]:typeof _0x518c67==_0x54b49b(0x56d)?JSON['stringify'](_0x518c67):_0x518c67,_0x27b649=_0x2ff3a2+':\x20'+_0x52c863;throw this[_0x54b49b(0x69f)][_0x54b49b(0x84d)](this[_0x54b49b(0x2e9)]+'\x20('+this[_0x54b49b(0x60b)][_0x54b49b(0x3e2)]+_0x54b49b(0x754)+_0x27b649),new x(_0x27b649);}}async[a0_0x1b7b78(0x672)](_0x25c16a){const _0x3cae03=a0_0x1b7b78;try{let _0x1dc808;if((0x0,J[_0x3cae03(0x5a0)])(_0x25c16a)){let _0x45da64=new Date()[_0x3cae03(0x8f2)](),_0x56e92e=_0x25c16a+'?timestamp='+_0x45da64;_0x1dc808=(await Q['default']['get'](_0x56e92e,{'responseType':_0x3cae03(0x223)}))[_0x3cae03(0x517)];}else{if((0x0,J[_0x3cae03(0x3ba)])(_0x25c16a))_0x1dc808=Buffer[_0x3cae03(0x818)](_0x25c16a,'base64');else throw new m(_0x3cae03(0x6b4));}return await this[_0x3cae03(0x567)][_0x3cae03(0x672)](this['instance'][_0x3cae03(0x3e2)],_0x1dc808),{'update':_0x3cae03(0x845)};}catch(_0x2832ac){let _0xfc7e9c=_0x3cae03(0x370),_0xdee325=_0x2832ac instanceof Error?_0x2832ac[_0x3cae03(0x272)]:typeof _0x2832ac==_0x3cae03(0x56d)?JSON[_0x3cae03(0x5b9)](_0x2832ac):_0x2832ac,_0x6a425f=_0xfc7e9c+':\x20'+_0xdee325;throw this[_0x3cae03(0x69f)][_0x3cae03(0x84d)](this[_0x3cae03(0x2e9)]+'\x20('+this[_0x3cae03(0x60b)][_0x3cae03(0x3e2)]+_0x3cae03(0x754)+_0x6a425f),new x(_0x6a425f);}}async['removeProfilePicture'](){const _0x7c9f34=a0_0x1b7b78;try{return await this[_0x7c9f34(0x567)][_0x7c9f34(0x216)](this[_0x7c9f34(0x60b)][_0x7c9f34(0x3e2)]),{'update':_0x7c9f34(0x845)};}catch(_0x1282fe){let _0x29b228=_0x7c9f34(0x870),_0x410302=_0x1282fe instanceof Error?_0x1282fe['message']:typeof _0x1282fe=='object'?JSON[_0x7c9f34(0x5b9)](_0x1282fe):_0x1282fe,_0x525e37=_0x29b228+':\x20'+_0x410302;throw this['logger'][_0x7c9f34(0x84d)](this[_0x7c9f34(0x2e9)]+'\x20('+this['instance'][_0x7c9f34(0x3e2)]+_0x7c9f34(0x754)+_0x525e37),new x(_0x525e37);}}async[a0_0x1b7b78(0x2fe)](_0x22cf91){const _0x511929=a0_0x1b7b78;try{let _0x286818=(await this[_0x511929(0x32b)]({'numbers':_0x22cf91['participants']}))['filter'](_0x2e4bad=>_0x2e4bad[_0x511929(0x1e3)])[_0x511929(0x686)](_0x20e5b4=>_0x20e5b4[_0x511929(0x4bc)]),{id:_0x225146}=await this['client'][_0x511929(0x297)](_0x22cf91[_0x511929(0x2e3)],_0x286818);_0x22cf91?.[_0x511929(0x570)]&&await this[_0x511929(0x567)][_0x511929(0x7de)](_0x225146,_0x22cf91[_0x511929(0x570)]);let _0x545f9a=await this['client'][_0x511929(0x3dc)](_0x225146);return _0x545f9a[_0x511929(0x46a)]=[],await this[_0x511929(0x8e4)](_0x545f9a),{'metadata':_0x545f9a};}catch(_0x3d19fc){let _0x3f71a7=_0x511929(0x4aa),_0x4ada43=_0x3d19fc instanceof Error?_0x3d19fc['message']:typeof _0x3d19fc==_0x511929(0x56d)?JSON[_0x511929(0x5b9)](_0x3d19fc):_0x3d19fc,_0x4e28ea=_0x3f71a7+':\x20'+_0x4ada43;throw this[_0x511929(0x69f)]['error'](this[_0x511929(0x2e9)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x4e28ea),new x(_0x4e28ea);}}async['groupBetterSetting'](_0x3dba1e){const _0xc4e278=a0_0x1b7b78;try{if(_0x3dba1e[_0xc4e278(0x2cd)]===!0x0&&await this['client'][_0xc4e278(0x5a7)](_0x3dba1e[_0xc4e278(0x640)],_0xc4e278(0x860)),_0x3dba1e[_0xc4e278(0x2cd)]===!0x1&&await this[_0xc4e278(0x567)][_0xc4e278(0x5a7)](_0x3dba1e[_0xc4e278(0x640)],_0xc4e278(0x63f)),_0x3dba1e[_0xc4e278(0x2a5)]===!0x0&&await this[_0xc4e278(0x567)]['groupSettingUpdate'](_0x3dba1e[_0xc4e278(0x640)],'announcement'),_0x3dba1e[_0xc4e278(0x2a5)]===!0x1&&await this[_0xc4e278(0x567)][_0xc4e278(0x5a7)](_0x3dba1e['groupJid'],_0xc4e278(0x79d)),_0x3dba1e[_0xc4e278(0x1a5)]===!0x0&&await this[_0xc4e278(0x567)]['groupMemberAddMode'](_0x3dba1e[_0xc4e278(0x640)],_0xc4e278(0x6d0)),_0x3dba1e[_0xc4e278(0x1a5)]===!0x1&&await this[_0xc4e278(0x567)][_0xc4e278(0x1d4)](_0x3dba1e[_0xc4e278(0x640)],_0xc4e278(0x800)),_0x3dba1e['joinApprovalMode']===!0x0&&await this['client'][_0xc4e278(0x5b4)](_0x3dba1e[_0xc4e278(0x640)],'on'),_0x3dba1e[_0xc4e278(0x2a9)]===!0x1&&await this[_0xc4e278(0x567)][_0xc4e278(0x5b4)](_0x3dba1e[_0xc4e278(0x640)],_0xc4e278(0x1ef)),typeof _0x3dba1e[_0xc4e278(0x2ff)]<'u'&&_0x3dba1e[_0xc4e278(0x2ff)]!==null&&await this[_0xc4e278(0x567)]['groupToggleEphemeral'](_0x3dba1e[_0xc4e278(0x640)],_0x3dba1e['expiration']),_0x3dba1e['name']&&await this['client']['groupUpdateSubject'](_0x3dba1e['groupJid'],_0x3dba1e[_0xc4e278(0x4a9)]),_0x3dba1e[_0xc4e278(0x570)]&&await this['client'][_0xc4e278(0x7de)](_0x3dba1e[_0xc4e278(0x640)],_0x3dba1e['description']),_0x3dba1e[_0xc4e278(0x2b9)]){let _0x42927a;if((0x0,J[_0xc4e278(0x5a0)])(_0x3dba1e['image'])){let _0x48658b=new Date()[_0xc4e278(0x8f2)](),_0x1332ec=_0x3dba1e[_0xc4e278(0x2b9)]+_0xc4e278(0x472)+_0x48658b;_0x42927a=(await Q['default'][_0xc4e278(0x234)](_0x1332ec,{'responseType':_0xc4e278(0x223)}))['data'];}else{if((0x0,J[_0xc4e278(0x3ba)])(_0x3dba1e[_0xc4e278(0x2b9)]))_0x42927a=Buffer[_0xc4e278(0x818)](_0x3dba1e[_0xc4e278(0x2b9)],_0xc4e278(0x20c));else throw new m(_0xc4e278(0x6b4));}await this[_0xc4e278(0x567)][_0xc4e278(0x672)](_0x3dba1e[_0xc4e278(0x640)],_0x42927a);}return await this[_0xc4e278(0x376)]({'groupJid':_0x3dba1e[_0xc4e278(0x640)]});}catch(_0x43e67e){let _0x1112fc=_0xc4e278(0x6da),_0x5578bb=_0x43e67e instanceof Error?_0x43e67e[_0xc4e278(0x272)]:typeof _0x43e67e==_0xc4e278(0x56d)?JSON['stringify'](_0x43e67e):_0x43e67e,_0x196ce7=_0x1112fc+':\x20'+_0x5578bb;throw this['logger'][_0xc4e278(0x84d)](this['instanceName']+'\x20('+this[_0xc4e278(0x60b)]['wuid']+_0xc4e278(0x754)+_0x196ce7),new x(_0x196ce7);}}async['updateGParticipant'](_0x483d5e){const _0x5e187b=a0_0x1b7b78;try{let _0x5b0e65=_0x483d5e[_0x5e187b(0x7e0)][_0x5e187b(0x686)](_0x2c55ed=>this['createJid'](_0x2c55ed));if(_0x483d5e['action']===_0x5e187b(0x69d)||_0x483d5e['action']===_0x5e187b(0x506))await this[_0x5e187b(0x567)]['groupRequestParticipantsUpdate'](_0x483d5e[_0x5e187b(0x640)],_0x5b0e65,_0x483d5e[_0x5e187b(0x789)]);else{if(_0x483d5e['action']===_0x5e187b(0x3bf)){let _0x559577=(await this['whatsappNumber']({'numbers':_0x483d5e[_0x5e187b(0x7e0)]}))[_0x5e187b(0x194)](_0x217a12=>_0x217a12[_0x5e187b(0x1e3)])[_0x5e187b(0x686)](_0x1dced5=>this['createJid'](_0x1dced5['jid']));if(_0x559577[_0x5e187b(0x245)]===0x0)throw new m(_0x5e187b(0x68a));await this[_0x5e187b(0x567)][_0x5e187b(0x8ac)](_0x483d5e[_0x5e187b(0x640)],_0x559577,_0x5e187b(0x3bf));}else await this['client'][_0x5e187b(0x8ac)](_0x483d5e[_0x5e187b(0x640)],_0x5b0e65,_0x483d5e['action']);}return await this[_0x5e187b(0x376)]({'groupJid':_0x483d5e[_0x5e187b(0x640)]});}catch(_0x7998c1){let _0x2dd3c8='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x50cb4f=_0x7998c1 instanceof Error?_0x7998c1['message']:typeof _0x7998c1==_0x5e187b(0x56d)?JSON[_0x5e187b(0x5b9)](_0x7998c1):_0x7998c1,_0x5e413f=_0x2dd3c8+':\x20'+_0x50cb4f;throw this['logger'][_0x5e187b(0x84d)](this[_0x5e187b(0x2e9)]+'\x20('+this[_0x5e187b(0x60b)]['wuid']+_0x5e187b(0x754)+_0x5e413f),new m(_0x5e413f);}}async['groupGetInviteInfo'](_0x83cb4a){const _0x4deba9=a0_0x1b7b78;try{return await this[_0x4deba9(0x567)][_0x4deba9(0x61b)](_0x83cb4a[_0x4deba9(0x339)]);}catch(_0x198f17){let _0x448699=_0x4deba9(0x257),_0x52f3b4=_0x198f17 instanceof Error?_0x198f17[_0x4deba9(0x272)]:typeof _0x198f17=='object'?JSON[_0x4deba9(0x5b9)](_0x198f17):_0x198f17,_0x3f1372=_0x448699+':\x20'+_0x52f3b4;throw this['logger'][_0x4deba9(0x84d)](this['instanceName']+'\x20('+this[_0x4deba9(0x60b)][_0x4deba9(0x3e2)]+_0x4deba9(0x754)+_0x3f1372),new m(_0x3f1372);}}async[a0_0x1b7b78(0x376)](_0x2946d7,_0x2cb697=a0_0x1b7b78(0x737)){const _0x17666b=a0_0x1b7b78;try{let _0x574e19=await this[_0x17666b(0x8f0)][_0x17666b(0x85e)][_0x17666b(0x547)]({'where':{'_id':_0x2946d7[_0x17666b(0x640)]}},this[_0x17666b(0x60b)][_0x17666b(0x3e2)]),_0x49f824=_0x574e19?_0x574e19[_0x17666b(0x1e8)]:null,_0x1a8f7b=0x18*0x3c*0x3c*0x3e8;if(!_0x49f824||_0x49f824[_0x17666b(0x6cf)]&&Date[_0x17666b(0x8d0)]()-_0x49f824[_0x17666b(0x6cf)]>_0x1a8f7b){let _0x55504e=await this[_0x17666b(0x567)][_0x17666b(0x3dc)](_0x2946d7[_0x17666b(0x640)]);if(_0x55504e[_0x17666b(0x846)]=_0x55504e?.['subjectTime']&&_0x55504e['subjectTime'][_0x17666b(0x6e2)]()[_0x17666b(0x245)]<0xd?_0x55504e?.['subjectTime']*0x3e8:_0x55504e?.[_0x17666b(0x846)]||null,_0x55504e['creation']=_0x55504e?.[_0x17666b(0x582)]&&_0x55504e[_0x17666b(0x582)]['toString']()[_0x17666b(0x245)]<0xd?_0x55504e?.[_0x17666b(0x582)]*0x3e8:_0x55504e?.[_0x17666b(0x582)]||null,_0x49f824={..._0x55504e,'lastUpdate':Date[_0x17666b(0x8d0)]()},!_0x55504e)return;}let _0x7dc933=_0x49f824[_0x17666b(0x7e0)]?.[_0x17666b(0x627)](_0xca5913=>_0xca5913['id']===this[_0x17666b(0x60b)][_0x17666b(0x3e2)]+_0x17666b(0x3c5)&&_0xca5913[_0x17666b(0x84c)]!=null)||!0x1;!_0x49f824[_0x17666b(0x339)]&&_0x7dc933&&(_0x49f824[_0x17666b(0x339)]=(await this['inviteCode'](_0x2946d7,!0x1))[_0x17666b(0x523)]);let _0x1e391c=(!_0x49f824[_0x17666b(0x2a5)]||_0x7dc933)&&(!_0x49f824['isCommunity']||_0x7dc933);_0x49f824[_0x17666b(0x227)]=_0x7dc933,_0x49f824[_0x17666b(0x7da)]=_0x1e391c;let _0x11c1c2=[];if(_0x7dc933&&_0x49f824[_0x17666b(0x2a9)])try{_0x11c1c2=await this[_0x17666b(0x567)]['groupRequestParticipantsList'](_0x2946d7[_0x17666b(0x640)]),_0x49f824[_0x17666b(0x200)]=Date[_0x17666b(0x8d0)]();}catch(_0x6fb4ed){this[_0x17666b(0x69f)][_0x17666b(0x776)](this[_0x17666b(0x2e9)]+'\x20('+this[_0x17666b(0x60b)][_0x17666b(0x3e2)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x2946d7[_0x17666b(0x640)]+':\x20'+(_0x6fb4ed instanceof Error?_0x6fb4ed['message']:JSON[_0x17666b(0x5b9)](_0x6fb4ed,null,0x2)));}try{_0x49f824[_0x17666b(0x2b9)]=(await this['findAndUpdateCacheContact'](_0x2946d7[_0x17666b(0x640)],null,!0x0))[_0x17666b(0x59a)][_0x17666b(0x723)];}catch(_0x1a8047){this[_0x17666b(0x69f)][_0x17666b(0x776)](this['instanceName']+'\x20('+this[_0x17666b(0x60b)]['wuid']+_0x17666b(0x4d3)+_0x2946d7[_0x17666b(0x640)]+':\x20'+(_0x1a8047 instanceof Error?_0x1a8047[_0x17666b(0x272)]:JSON[_0x17666b(0x5b9)](_0x1a8047,null,0x2)));}let _0x24952a=_0x49f824[_0x17666b(0x7e0)]['map'](_0x347df7=>_0x347df7['id']),_0x3f5c7c=_0x11c1c2[_0x17666b(0x686)](_0x31a166=>_0x31a166['jid']),_0x6751b=await this[_0x17666b(0x8f0)][_0x17666b(0x6a5)][_0x17666b(0x6c8)]([..._0x24952a,..._0x3f5c7c]);_0x49f824['participants']=_0x49f824[_0x17666b(0x7e0)][_0x17666b(0x686)](_0x1884c1=>{const _0xcb5827=_0x17666b;let _0x202609=_0x6751b['find'](_0x378cdf=>_0x378cdf[_0xcb5827(0x49d)]===_0x1884c1['id']);return{'id':_0x1884c1['id'],'isAdmin':[_0xcb5827(0x84c),_0xcb5827(0x402)][_0xcb5827(0x5a5)](_0x1884c1[_0xcb5827(0x84c)]),'admin':_0x1884c1['admin'],'pushName':_0x202609?.[_0xcb5827(0x4a9)],'profilePictureUrl':_0x202609?.[_0xcb5827(0x723)]};}),_0x49f824[_0x17666b(0x46a)]=_0x11c1c2[_0x17666b(0x686)](_0x48d429=>{const _0x408e34=_0x17666b;let _0x54b60f=_0x6751b[_0x408e34(0x83c)](_0x2b39ce=>_0x2b39ce['_id']===_0x48d429[_0x408e34(0x4bc)]);return{'id':_0x48d429[_0x408e34(0x4bc)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x54b60f?.[_0x408e34(0x4a9)],'profilePictureUrl':_0x54b60f?.['pictureUrl'],'request_method':_0x48d429[_0x408e34(0x668)],'request_time':_0x48d429[_0x408e34(0x710)]};});let _0x2cd342=await this['repository']['chat'][_0x17666b(0x6b6)]({'where':{'_id':_0x2946d7[_0x17666b(0x640)]}},{'imagechat':_0x49f824[_0x17666b(0x2b9)],'name':_0x49f824[_0x17666b(0x2e3)],'lastcache':Date[_0x17666b(0x8d0)](),'groupdata':_0x49f824},this['instance'][_0x17666b(0x3e2)]);return F(this[_0x17666b(0x2e9)],'chats',{'chat':_0x2cd342}),{'metadata':_0x49f824};}catch(_0x18fac5){if(_0x2cb697===_0x17666b(0x2ba))return;throw new U(_0x17666b(0x6e5),_0x18fac5['message'][_0x17666b(0x6e2)]());}}async[a0_0x1b7b78(0x383)](){const _0x18cd42=a0_0x1b7b78;try{this['logger'][_0x18cd42(0x6c3)]('Retornando\x20grupos\x20COM\x20cache');let _0x172319=Date[_0x18cd42(0x8d0)](),_0x599067=0x3*0x3c*0x3c*0x3e8;return _0x172319-this[_0x18cd42(0x8b3)]>_0x599067&&(this[_0x18cd42(0x31d)](),this[_0x18cd42(0x8b3)]=_0x172319),(await this[_0x18cd42(0x8f0)][_0x18cd42(0x85e)]['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x18cd42(0x60b)][_0x18cd42(0x3e2)]))[_0x18cd42(0x686)](_0x559aba=>({..._0x559aba['groupdata'],'groupJid':_0x559aba?.[_0x18cd42(0x49d)],'participants':_0x559aba?.[_0x18cd42(0x1e8)]?.[_0x18cd42(0x7e0)]||[],'awaitingApproval':_0x559aba?.[_0x18cd42(0x1e8)]?.[_0x18cd42(0x46a)]||[],'image':_0x559aba?.[_0x18cd42(0x357)]}));}catch(_0x50d57e){let _0x4de354=_0x18cd42(0x8a4),_0x2f197f=_0x50d57e instanceof Error?_0x50d57e['message']:typeof _0x50d57e==_0x18cd42(0x56d)?JSON['stringify'](_0x50d57e):_0x50d57e,_0x3e806b=_0x4de354+':\x20'+_0x2f197f;throw this[_0x18cd42(0x69f)][_0x18cd42(0x84d)](this[_0x18cd42(0x2e9)]+'\x20('+this[_0x18cd42(0x60b)][_0x18cd42(0x3e2)]+_0x18cd42(0x754)+_0x3e806b),new U(_0x3e806b);}}async[a0_0x1b7b78(0x31d)](){const _0x453af1=a0_0x1b7b78;try{this[_0x453af1(0x69f)][_0x453af1(0x6c3)]('Retornando\x20grupos\x20SEM\x20cache');let _0x3d7b16=[],_0x144a2c=await this[_0x453af1(0x567)]['groupFetchAllParticipating'](),_0x58226a=Object['values'](_0x144a2c);for(let _0x1f20c4=0x0;_0x1f20c4<_0x58226a[_0x453af1(0x245)];_0x1f20c4++){let _0x4069aa=_0x58226a[_0x1f20c4];(0x0,w[_0x453af1(0x5c4)])(_0x4069aa?.['id'])&&(_0x3d7b16[_0x453af1(0x184)]({'groupJid':_0x4069aa?.['id'],'subject':_0x4069aa?.[_0x453af1(0x2e3)],'subjectOwner':_0x4069aa?.[_0x453af1(0x65d)]?.[_0x453af1(0x8f1)]('@')[0x0],'subjectTime':_0x4069aa?.['subjectTime'],'creation':_0x4069aa?.[_0x453af1(0x582)],'size':_0x4069aa?.['participants']?.[_0x453af1(0x245)],'owner':_0x4069aa?.[_0x453af1(0x186)]?.[_0x453af1(0x8f1)]('@')[0x0],'desc':_0x4069aa?.[_0x453af1(0x630)],'restrict':_0x4069aa?.[_0x453af1(0x2cd)],'announce':_0x4069aa?.[_0x453af1(0x2a5)],'image':null,'isCommunity':_0x4069aa?.[_0x453af1(0x637)],'joinApprovalMode':_0x4069aa?.[_0x453af1(0x2a9)],'memberCanAddParticipant':_0x4069aa?.[_0x453af1(0x1a5)],'participants':_0x4069aa?.[_0x453af1(0x7e0)],'descOwner':_0x4069aa?.[_0x453af1(0x266)],'descId':_0x4069aa?.[_0x453af1(0x403)],'memberAddMode':_0x4069aa?.[_0x453af1(0x1a5)],'isCommunityAnnounce':_0x4069aa?.[_0x453af1(0x435)],'ephemeralDuration':_0x4069aa?.['ephemeralDuration']||0x0,'author':_0x4069aa?.[_0x453af1(0x4a2)]}),this[_0x453af1(0x8e4)](_0x58226a[_0x1f20c4]));}return _0x3d7b16;}catch(_0x552781){let _0x4388fa=_0x453af1(0x65c),_0x5c218e=_0x552781 instanceof Error?_0x552781[_0x453af1(0x272)]:typeof _0x552781=='object'?JSON[_0x453af1(0x5b9)](_0x552781):_0x552781,_0x4a3beb=_0x4388fa+':\x20'+_0x5c218e;throw this[_0x453af1(0x69f)][_0x453af1(0x84d)](this[_0x453af1(0x2e9)]+'\x20('+this[_0x453af1(0x60b)]['wuid']+_0x453af1(0x754)+_0x4a3beb),new U(_0x4a3beb);}}async[a0_0x1b7b78(0x8e4)](_0x3f36a7){const _0x1f649d=a0_0x1b7b78;let _0x473d13=await this['repository'][_0x1f649d(0x85e)]['findOne']({'where':{'_id':_0x3f36a7['id']}},this[_0x1f649d(0x60b)][_0x1f649d(0x3e2)]);if(_0x3f36a7['subjectTime']=_0x3f36a7?.[_0x1f649d(0x846)]&&_0x3f36a7['subjectTime']['toString']()[_0x1f649d(0x245)]<0xd?_0x3f36a7?.[_0x1f649d(0x846)]*0x3e8:_0x3f36a7?.[_0x1f649d(0x846)]||null,_0x3f36a7[_0x1f649d(0x582)]=_0x3f36a7?.[_0x1f649d(0x582)]&&_0x3f36a7[_0x1f649d(0x582)][_0x1f649d(0x6e2)]()[_0x1f649d(0x245)]<0xd?_0x3f36a7?.[_0x1f649d(0x582)]*0x3e8:_0x3f36a7?.[_0x1f649d(0x582)]||null,!_0x3f36a7[_0x1f649d(0x2b9)])try{_0x3f36a7['image']=await this[_0x1f649d(0x567)][_0x1f649d(0x8b7)](_0x3f36a7['id'],'preview');}catch(_0x47ba31){this['logger'][_0x1f649d(0x776)](this[_0x1f649d(0x2e9)]+'\x20('+this[_0x1f649d(0x60b)][_0x1f649d(0x3e2)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x3f36a7['id']+':\x20'+(_0x47ba31 instanceof Error?_0x47ba31['message']:JSON[_0x1f649d(0x5b9)](_0x47ba31,null,0x2)));}let _0x5d1f26=_0x3f36a7[_0x1f649d(0x7e0)][_0x1f649d(0x686)](_0x4575f7=>{const _0x24c26e=_0x1f649d;let _0x3fbe62=_0x473d13?.[_0x24c26e(0x1e8)]?.[_0x24c26e(0x7e0)][_0x24c26e(0x83c)](_0x5560dc=>_0x5560dc['id']===_0x4575f7['id']);return{..._0x4575f7,'isAdmin':[_0x24c26e(0x84c),_0x24c26e(0x402)][_0x24c26e(0x5a5)](_0x4575f7[_0x24c26e(0x84c)]),'admin':_0x4575f7[_0x24c26e(0x84c)],'name':_0x3fbe62?.[_0x24c26e(0x4a9)]||_0x4575f7[_0x24c26e(0x4a9)],'imgUrl':_0x3fbe62?.[_0x24c26e(0x5ba)]||_0x4575f7[_0x24c26e(0x5ba)]};}),_0x20ad4c=_0x5d1f26[_0x1f649d(0x627)](_0x1cce20=>_0x1cce20['id']===this['instance'][_0x1f649d(0x3e2)]+'@s.whatsapp.net'&&_0x1cce20[_0x1f649d(0x84c)]!=null)||!0x1,_0x302445=(!_0x3f36a7[_0x1f649d(0x2a5)]||_0x20ad4c)&&(!_0x3f36a7['isCommunity']||_0x20ad4c),_0x36023f={..._0x3f36a7,'participants':_0x5d1f26,'awaitingApproval':_0x473d13?.[_0x1f649d(0x1e8)]?.[_0x1f649d(0x46a)]||[],'lastFetchAwaitingApproval':_0x473d13?.[_0x1f649d(0x1e8)]?.['lastFetchAwaitingApproval'],'isAdmin':_0x20ad4c,'canSendMessage':_0x302445,'lastUpdate':Date[_0x1f649d(0x8d0)]()};await this[_0x1f649d(0x8f0)][_0x1f649d(0x85e)]['updateOne']({'where':{'_id':_0x3f36a7['id']}},{'imagechat':_0x3f36a7[_0x1f649d(0x2b9)],'name':_0x3f36a7[_0x1f649d(0x2e3)],'group':!0x0,'groupdata':_0x36023f,'lastcache':Date[_0x1f649d(0x8d0)]()},this[_0x1f649d(0x60b)][_0x1f649d(0x3e2)]),F(this['instanceName'],'chats',{'chat':_0x3f36a7});}async[a0_0x1b7b78(0x5aa)](_0x11cc54){const _0x3ea89d=a0_0x1b7b78;let _0x3bb7f8=await this[_0x3ea89d(0x8f0)][_0x3ea89d(0x85e)][_0x3ea89d(0x547)]({'where':{'_id':_0x11cc54['id']}},this[_0x3ea89d(0x60b)][_0x3ea89d(0x3e2)]);_0x11cc54['subjectTime']=_0x11cc54?.[_0x3ea89d(0x846)]&&_0x11cc54[_0x3ea89d(0x846)][_0x3ea89d(0x6e2)]()['length']<0xd?_0x11cc54?.[_0x3ea89d(0x846)]*0x3e8:_0x11cc54?.['subjectTime']||null,_0x11cc54['creation']=_0x11cc54?.['creation']&&_0x11cc54[_0x3ea89d(0x582)][_0x3ea89d(0x6e2)]()['length']<0xd?_0x11cc54?.[_0x3ea89d(0x582)]*0x3e8:_0x11cc54?.[_0x3ea89d(0x582)]||null,_0x11cc54[_0x3ea89d(0x339)]&&(_0x11cc54[_0x3ea89d(0x339)]=_0x3ea89d(0x295)+_0x11cc54['inviteCode']);let _0x2aaaa9=_0x3bb7f8?.[_0x3ea89d(0x1e8)]?{..._0x3bb7f8[_0x3ea89d(0x1e8)]}:{};Object['keys'](_0x11cc54)[_0x3ea89d(0x52e)](_0x71c62a=>{_0x71c62a!=='id'&&(_0x2aaaa9[_0x71c62a]=_0x11cc54[_0x71c62a]);});let _0x2dd70c=_0x2aaaa9['participants']?.[_0x3ea89d(0x627)](_0xfa7c76=>_0xfa7c76['id']===this[_0x3ea89d(0x60b)][_0x3ea89d(0x3e2)]+_0x3ea89d(0x3c5)&&_0xfa7c76[_0x3ea89d(0x84c)]!=null)||!0x1;_0x2aaaa9[_0x3ea89d(0x227)]=_0x2dd70c;let _0x489ce7=(!_0x2aaaa9[_0x3ea89d(0x2a5)]||_0x2dd70c)&&(!_0x2aaaa9[_0x3ea89d(0x637)]||_0x2dd70c);_0x2aaaa9['canSendMessage']=_0x489ce7;let _0x41690d={'group':!0x0,'groupdata':_0x2aaaa9};_0x11cc54[_0x3ea89d(0x2e3)]&&(_0x41690d[_0x3ea89d(0x4a9)]=_0x11cc54['subject']),await this[_0x3ea89d(0x8f0)]['chat'][_0x3ea89d(0x6b6)]({'where':{'_id':_0x11cc54['id']}},_0x41690d,this[_0x3ea89d(0x60b)]['wuid'],{'upsert':!0x0}),F(this[_0x3ea89d(0x2e9)],_0x3ea89d(0x6b8),{'chat':_0x41690d});}async[a0_0x1b7b78(0x786)](_0x119442){const _0x2a0532=a0_0x1b7b78;let _0x5c3c41=await this[_0x2a0532(0x8f0)][_0x2a0532(0x85e)][_0x2a0532(0x547)]({'where':{'_id':_0x119442['id']}},this[_0x2a0532(0x60b)][_0x2a0532(0x3e2)]);if(!_0x5c3c41||!_0x5c3c41[_0x2a0532(0x1e8)]){this[_0x2a0532(0x69f)][_0x2a0532(0x6c3)](this[_0x2a0532(0x2e9)]+'\x20('+this[_0x2a0532(0x60b)]['wuid']+'):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20'+_0x119442['id']);return;}let _0x5a2aae=await this[_0x2a0532(0x8f0)][_0x2a0532(0x6a5)][_0x2a0532(0x6c8)](_0x119442[_0x2a0532(0x7e0)]),_0x122128=[..._0x5c3c41['groupdata']?.['participants']];switch(_0x119442[_0x2a0532(0x789)]){case _0x2a0532(0x3bf):_0x5a2aae['map'](_0x274255=>({'id':_0x274255['_id'],'isAdmin':!0x1,'name':_0x274255[_0x2a0532(0x4a9)],'imgUrl':_0x274255['pictureUrl']}))['forEach'](_0x110001=>{const _0x40e940=_0x2a0532;_0x122128['some'](_0x47a6b8=>_0x47a6b8['id']===_0x110001['id'])||(_0x122128[_0x40e940(0x184)](_0x110001),this['logger']['info'](_0x40e940(0x768)+JSON[_0x40e940(0x5b9)](_0x110001)));});break;case _0x2a0532(0x719):_0x122128=_0x122128['filter'](_0x4f9452=>!_0x119442[_0x2a0532(0x7e0)][_0x2a0532(0x5a5)](_0x4f9452['id']));break;case _0x2a0532(0x3a1):_0x122128=_0x122128[_0x2a0532(0x686)](_0x3b9857=>_0x119442[_0x2a0532(0x7e0)][_0x2a0532(0x5a5)](_0x3b9857['id'])?{..._0x3b9857,'isAdmin':!0x0,'admin':_0x2a0532(0x84c)}:_0x3b9857);break;case _0x2a0532(0x5fb):_0x122128=_0x122128[_0x2a0532(0x686)](_0x44e77a=>_0x119442[_0x2a0532(0x7e0)][_0x2a0532(0x5a5)](_0x44e77a['id'])?{..._0x44e77a,'isAdmin':!0x1,'admin':null}:_0x44e77a);break;}let _0x343199=_0x122128[_0x2a0532(0x245)],_0x30e281=_0x122128[_0x2a0532(0x627)](_0x5dd953=>_0x5dd953['id']===this[_0x2a0532(0x60b)][_0x2a0532(0x3e2)]+_0x2a0532(0x3c5)),_0x198701=_0x30e281&&_0x122128[_0x2a0532(0x627)](_0x44e172=>_0x44e172['id']===this[_0x2a0532(0x60b)][_0x2a0532(0x3e2)]+'@s.whatsapp.net'&&_0x44e172[_0x2a0532(0x84c)]!=null)||!0x1,_0x32910d=_0x30e281&&(!_0x5c3c41[_0x2a0532(0x1e8)][_0x2a0532(0x2a5)]||_0x198701)&&(!_0x5c3c41[_0x2a0532(0x1e8)][_0x2a0532(0x637)]||_0x198701);await this['repository']['chat'][_0x2a0532(0x6b6)]({'where':{'_id':_0x119442['id']}},{'groupdata':{..._0x5c3c41['groupdata'],'participants':_0x122128,'size':_0x343199,'isAdmin':_0x198701,'canSendMessage':_0x32910d}},this['instance'][_0x2a0532(0x3e2)]),this[_0x2a0532(0x69f)][_0x2a0532(0x6c3)](this[_0x2a0532(0x2e9)]+'\x20('+this[_0x2a0532(0x60b)]['wuid']+'):\x20Grupo\x20'+_0x119442['id']+_0x2a0532(0x722)+_0x119442[_0x2a0532(0x789)]+_0x2a0532(0x469)+_0x343199+_0x2a0532(0x25b)+_0x198701+_0x2a0532(0x50c)+_0x32910d);}async['inviteCode'](_0xfe6f3f,_0x2b32e6=!0x0){const _0x18e2a9=a0_0x1b7b78;try{let _0xf6d2e=await this[_0x18e2a9(0x567)]['groupInviteCode'](_0xfe6f3f[_0x18e2a9(0x640)]),_0x39590d={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0xf6d2e};if(_0x2b32e6){let _0x611abc=await this['repository'][_0x18e2a9(0x85e)][_0x18e2a9(0x6b6)]({'where':{'_id':_0xfe6f3f[_0x18e2a9(0x640)]}},_0x39590d,this[_0x18e2a9(0x60b)][_0x18e2a9(0x3e2)]);}return{'inviteUrl':_0x18e2a9(0x295)+_0xf6d2e,'inviteCode':_0xf6d2e};}catch(_0x36114f){let _0x2cf952=_0x18e2a9(0x535),_0x2a0e4d=_0x36114f instanceof Error?_0x36114f[_0x18e2a9(0x272)]:typeof _0x36114f=='object'?JSON[_0x18e2a9(0x5b9)](_0x36114f):_0x36114f,_0x36728e=_0x2cf952+':\x20'+_0x2a0e4d;throw this[_0x18e2a9(0x69f)]['error'](this[_0x18e2a9(0x2e9)]+'\x20('+this[_0x18e2a9(0x60b)][_0x18e2a9(0x3e2)]+_0x18e2a9(0x754)+_0x36728e),new U(_0x36728e);}}async['revokeInviteCode'](_0x91bc7b){const _0x5d1b30=a0_0x1b7b78;try{let _0xd13b7d=await this['client'][_0x5d1b30(0x1ae)](_0x91bc7b[_0x5d1b30(0x640)]);return{'revoked':!0x0,'inviteUrl':_0x5d1b30(0x295)+_0xd13b7d,'inviteCode':_0xd13b7d};}catch(_0x3538f6){let _0x501a65=_0x5d1b30(0x74f),_0x5bfa37=_0x3538f6 instanceof Error?_0x3538f6['message']:typeof _0x3538f6==_0x5d1b30(0x56d)?JSON['stringify'](_0x3538f6):_0x3538f6,_0xde8946=_0x501a65+':\x20'+_0x5bfa37;throw this[_0x5d1b30(0x69f)][_0x5d1b30(0x84d)](this['instanceName']+'\x20('+this[_0x5d1b30(0x60b)]['wuid']+_0x5d1b30(0x754)+_0xde8946),new U(_0xde8946);}}async[a0_0x1b7b78(0x5dd)](_0x4b8532){const _0x5e9754=a0_0x1b7b78;try{if((0x0,J[_0x5e9754(0x5a0)])(_0x4b8532[_0x5e9754(0x339)]))var _0x2893c9=_0x4b8532[_0x5e9754(0x339)][_0x5e9754(0x8f1)]('/')[0x3];else var _0x2893c9=_0x4b8532[_0x5e9754(0x339)];let _0x5af1f1=await this[_0x5e9754(0x567)][_0x5e9754(0x8ec)](_0x2893c9);return this['logger']['verbose'](this[_0x5e9754(0x2e9)]+'\x20('+this[_0x5e9754(0x60b)][_0x5e9754(0x3e2)]+_0x5e9754(0x754)+_0x5af1f1),{'join':!0x0,'inviteCode':_0x2893c9,'groupJid':_0x5af1f1};}catch(_0x27c424){let _0x47e2a3='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x463ed3=_0x27c424 instanceof Error?_0x27c424[_0x5e9754(0x272)]:typeof _0x27c424==_0x5e9754(0x56d)?JSON['stringify'](_0x27c424):_0x27c424,_0x418a59=_0x47e2a3+':\x20'+_0x463ed3;throw this[_0x5e9754(0x69f)][_0x5e9754(0x84d)](this[_0x5e9754(0x2e9)]+'\x20('+this[_0x5e9754(0x60b)][_0x5e9754(0x3e2)]+_0x5e9754(0x754)+_0x418a59),new U(_0x418a59);}}async['findParticipants'](_0x5433ce){const _0xf1d507=a0_0x1b7b78;try{return{'participants':(await this[_0xf1d507(0x8f0)][_0xf1d507(0x85e)][_0xf1d507(0x547)]({'where':{'_id':_0x5433ce[_0xf1d507(0x640)]}},this[_0xf1d507(0x60b)][_0xf1d507(0x3e2)]))['groupdata'][_0xf1d507(0x7e0)]};}catch(_0x2af7f9){let _0x1b0f4d=_0xf1d507(0x8cb),_0x5ac45c=_0x2af7f9 instanceof Error?_0x2af7f9[_0xf1d507(0x272)]:typeof _0x2af7f9==_0xf1d507(0x56d)?JSON[_0xf1d507(0x5b9)](_0x2af7f9):_0x2af7f9,_0x51635c=_0x1b0f4d+':\x20'+_0x5ac45c;throw this['logger']['error'](this[_0xf1d507(0x2e9)]+'\x20('+this[_0xf1d507(0x60b)][_0xf1d507(0x3e2)]+_0xf1d507(0x754)+_0x51635c),new U(_0x51635c);}}async[a0_0x1b7b78(0x788)](_0x2a3664){const _0x4432f5=a0_0x1b7b78;try{return await this['client'][_0x4432f5(0x233)](_0x2a3664[_0x4432f5(0x640)]),{'groupJid':_0x2a3664['groupJid'],'leave':!0x0};}catch(_0xb83050){let _0x667e82=_0x4432f5(0x467),_0x5d3b96=_0xb83050 instanceof Error?_0xb83050[_0x4432f5(0x272)]:typeof _0xb83050==_0x4432f5(0x56d)?JSON[_0x4432f5(0x5b9)](_0xb83050):_0xb83050,_0x5ae410=_0x667e82+':\x20'+_0x5d3b96;throw this[_0x4432f5(0x69f)][_0x4432f5(0x84d)](this['instanceName']+'\x20('+this[_0x4432f5(0x60b)][_0x4432f5(0x3e2)]+_0x4432f5(0x754)+_0x5ae410),new m(_0x5ae410);}}async[a0_0x1b7b78(0x44a)](_0x4f4407){const _0x53fe84=a0_0x1b7b78;return await this[_0x53fe84(0x1ad)](_0x4f4407[_0x53fe84(0x7c6)],{'poll':{'name':_0x4f4407[_0x53fe84(0x44a)]?.['name'],'selectableCount':_0x4f4407[_0x53fe84(0x44a)]['selectableCount'],'values':_0x4f4407['pollMessage']['values']}},_0x4f4407?.['options']);}async[a0_0x1b7b78(0x1fe)](_0x241a4e){const _0x2c9d57=a0_0x1b7b78;return await this[_0x2c9d57(0x1ad)](_0x241a4e['number'],{'listMessage':{'title':_0x241a4e[_0x2c9d57(0x1fe)][_0x2c9d57(0x71e)],'description':_0x241a4e['listMessage'][_0x2c9d57(0x570)],'buttonText':_0x241a4e[_0x2c9d57(0x1fe)]?.[_0x2c9d57(0x466)],'footerText':_0x241a4e[_0x2c9d57(0x1fe)]?.[_0x2c9d57(0x626)],'sections':_0x241a4e['listMessage'][_0x2c9d57(0x4d0)],'listType':0x2}},_0x241a4e?.['options']);}async[a0_0x1b7b78(0x441)](_0xa0fc56){const _0x3870f3=a0_0x1b7b78;this['instance'][_0x3870f3(0x460)]===void 0x0&&await this[_0x3870f3(0x333)]();let _0x22905b;if(_0xa0fc56[_0x3870f3(0x441)]['type']==='list'||_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x4ae)]===_0x3870f3(0x7c5)){let _0x1eb87f=_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x51e)][_0x3870f3(0x327)]('\x0a'),_0x31da64='',_0x745a64='';_0x1eb87f!==-0x1?(_0x31da64=_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x51e)][_0x3870f3(0x77a)](0x0,_0x1eb87f)['trim'](),_0x745a64=_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x51e)]['substring'](_0x1eb87f+0x1)):_0x745a64=_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x51e)];let _0x15fef3=_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x6b9)][_0x3870f3(0x194)](_0x95c790=>_0x95c790[_0x3870f3(0x1da)]()!==''),_0x12e358=this[_0x3870f3(0x8ca)](_0x15fef3);_0x22905b={'listMessage':{'title':_0x31da64,'description':_0x745a64,'buttonText':_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x466)]||'Selecione','footerText':_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x626)],'sections':_0x12e358,'listType':0x2}};}else{if(_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x4ae)]===_0x3870f3(0x3bd)){let _0x3dc822=_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x6b9)]['filter'](_0x254789=>!(_0x254789[_0x3870f3(0x1f8)]('[')&&_0x254789[_0x3870f3(0x5f1)](']'))&&_0x254789[_0x3870f3(0x1da)]()!=='')[_0x3870f3(0x686)](_0x16e84c=>_0x16e84c[_0x3870f3(0x8f1)]('\x0a')[0x0]);for(;_0x3dc822[_0x3870f3(0x245)]<0x2;)_0x3dc822[_0x3870f3(0x184)](_0x3870f3(0x825)+(_0x3dc822[_0x3870f3(0x245)]+0x1));_0x22905b={'poll':{'name':_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x51e)],'selectableCount':_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x499)]||0x1,'values':_0x3dc822}};}else{if(_0xa0fc56[_0x3870f3(0x441)]['type']==='button'){let _0x3a238f=this[_0x3870f3(0x7b3)](_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x6b9)]['filter'](_0x5286e6=>!(_0x5286e6[_0x3870f3(0x1f8)]('[')&&_0x5286e6[_0x3870f3(0x5f1)](']'))));return _0x22905b={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0xa0fc56['menuMessage'][_0x3870f3(0x51e)]},'footer':_0xa0fc56['menuMessage']['footerText']?{'text':_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x626)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x3a238f,'messageParamsJson':JSON[_0x3870f3(0x5b9)]({'from':'api','templateId':'3EB0'+(0x0,ne[_0x3870f3(0x720)])(0x12)['toString'](_0x3870f3(0x8ad))[_0x3870f3(0x265)]()})}}}}},await this['sendMessageWithTypingButtons'](_0xa0fc56[_0x3870f3(0x7c6)],_0x22905b,_0xa0fc56?.['options']);}else{if(_0xa0fc56[_0x3870f3(0x441)]['type']===_0x3870f3(0x79a)){let _0x56063e=this[_0x3870f3(0x239)](_0xa0fc56[_0x3870f3(0x441)][_0x3870f3(0x6b9)]);return _0x22905b={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0xa0fc56['menuMessage'][_0x3870f3(0x51e)]},'footer':_0xa0fc56['menuMessage'][_0x3870f3(0x626)]?{'text':_0xa0fc56['menuMessage'][_0x3870f3(0x626)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x56063e,'messageParamsJson':JSON[_0x3870f3(0x5b9)]({'from':_0x3870f3(0x56c),'templateId':_0x3870f3(0x4ac)+(0x0,ne[_0x3870f3(0x720)])(0x12)[_0x3870f3(0x6e2)](_0x3870f3(0x8ad))[_0x3870f3(0x265)]()})}}}}},await this[_0x3870f3(0x247)](_0xa0fc56['number'],_0x22905b,_0xa0fc56?.['options']);}}}}return await this[_0x3870f3(0x1ad)](_0xa0fc56['number'],_0x22905b,_0xa0fc56?.[_0x3870f3(0x195)]);}[a0_0x1b7b78(0x7b3)](_0x25573d){const _0x387f72=a0_0x1b7b78;return _0x25573d[_0x387f72(0x686)](_0x310b3f=>{const _0x3d6700=_0x387f72;let _0x10d75f=_0x310b3f[_0x3d6700(0x8f1)]('\x0a')[_0x3d6700(0x686)](_0x44066f=>_0x44066f['trim']()),_0x4b8389=_0x10d75f[0x0],_0x363787=_0x10d75f[0x1]||_0x4b8389,_0x2738c0=_0x363787[_0x3d6700(0x1f8)](_0x3d6700(0x769))?_0x3d6700(0x455):_0x3d6700(0x445);return{'name':_0x2738c0,'buttonParamsJson':JSON[_0x3d6700(0x5b9)]({'display_text':_0x4b8389,'id':_0x2738c0===_0x3d6700(0x445)?_0x363787:void 0x0,'url':_0x2738c0===_0x3d6700(0x455)?_0x363787:void 0x0})};});}[a0_0x1b7b78(0x239)](_0x2fd78a){const _0x105394=a0_0x1b7b78;let _0x42c6ec=[],_0x130fb1={'title':'','rows':[]};return _0x2fd78a[_0x105394(0x52e)](_0x204349=>{const _0x4d709f=_0x105394;if(_0x204349[_0x4d709f(0x1f8)]('[')&&_0x204349[_0x4d709f(0x5f1)](']'))_0x130fb1[_0x4d709f(0x1bc)][_0x4d709f(0x245)]>0x0&&_0x42c6ec[_0x4d709f(0x184)](_0x130fb1),_0x130fb1={'title':_0x204349[_0x4d709f(0x1e2)](0x1,-0x1),'rows':[]};else{let _0x259b81=_0x204349[_0x4d709f(0x8f1)]('\x0a')[_0x4d709f(0x686)](_0x417205=>_0x417205[_0x4d709f(0x1da)]()),_0x212900=_0x259b81[0x0],_0x17940e=_0x259b81[0x1]?_0x259b81[0x1]:void 0x0,_0x3a9efd=_0x259b81[0x2]||_0x212900;_0x130fb1[_0x4d709f(0x1bc)][_0x4d709f(0x184)]({'title':_0x212900,'description':_0x17940e,'id':_0x3a9efd});}}),_0x130fb1['rows']['length']>0x0&&_0x42c6ec[_0x105394(0x184)](_0x130fb1),[{'name':'single_select','buttonParamsJson':JSON['stringify']({'title':_0x105394(0x2f9),'sections':_0x42c6ec})}];}[a0_0x1b7b78(0x8ca)](_0x32d6ca){const _0x4bd06d=a0_0x1b7b78;let _0x4c9387=[],_0x1dbe4e={'rows':[]};return _0x32d6ca[_0x4bd06d(0x52e)](_0x4e29ec=>{const _0x166c8f=_0x4bd06d;if(_0x4e29ec[_0x166c8f(0x1f8)]('[')&&_0x4e29ec['endsWith'](']'))_0x1dbe4e[_0x166c8f(0x1bc)]['length']>0x0&&_0x4c9387[_0x166c8f(0x184)](_0x1dbe4e),_0x1dbe4e={'title':_0x4e29ec[_0x166c8f(0x1e2)](0x1,-0x1),'rows':[]};else{let _0x27f29e=_0x4e29ec[_0x166c8f(0x8f1)]('\x0a')[_0x166c8f(0x686)](_0x3c4e9a=>_0x3c4e9a[_0x166c8f(0x1da)]()),_0x1c0663=_0x27f29e[0x0],_0x47f559=_0x27f29e[0x1]||null,_0x389f08=_0x27f29e[0x2]||_0x1c0663;_0x1dbe4e[_0x166c8f(0x1bc)][_0x166c8f(0x184)]({'title':_0x1c0663,'description':_0x47f559,'rowId':_0x389f08});}}),_0x1dbe4e['rows'][_0x4bd06d(0x245)]>0x0&&_0x4c9387['push'](_0x1dbe4e),_0x4c9387;}async['updateMessage'](_0xbe4fee,_0x3e8074){const _0x5cfdbf=a0_0x1b7b78;if(await this[_0x5cfdbf(0x4b5)](_0xbe4fee,!0x0)){let _0x2f14b3={'where':{'_id':_0xbe4fee['id']}},_0x594a84={'status':[_0x3e8074[_0x5cfdbf(0x18a)]][0x0]};try{let _0x2afc05=await this[_0x5cfdbf(0x8f0)][_0x5cfdbf(0x272)][_0x5cfdbf(0x85d)](_0x2f14b3,_0x594a84,this[_0x5cfdbf(0x60b)]['wuid']);_0x2afc05&&F(this['instanceName'],_0x5cfdbf(0x174),{'message':_0x2afc05});}catch{}}}[a0_0x1b7b78(0x189)](_0x50c14b){const _0xa75c23=a0_0x1b7b78;let _0x1a8c46=[];return _0x50c14b[_0xa75c23(0x52e)](_0x5bfee2=>{const _0x40807f=_0xa75c23;_0x5bfee2[_0x40807f(0x71e)]&&_0x1a8c46[_0x40807f(0x184)]('['+_0x5bfee2[_0x40807f(0x71e)]+']'),_0x5bfee2[_0x40807f(0x1bc)]['forEach'](_0x2f4c6a=>{const _0xb95efe=_0x40807f;_0x1a8c46[_0xb95efe(0x184)](_0x2f4c6a[_0xb95efe(0x71e)]);});}),_0x1a8c46[_0xa75c23(0x44f)]('|');}['formatVCard'](_0x37cc91){const _0x41cf5e=a0_0x1b7b78;let _0x5c4a37=_0x37cc91[_0x41cf5e(0x465)](/\\n/g,'\x0a')[_0x41cf5e(0x8f1)]('\x0a')[_0x41cf5e(0x194)](_0x210bf6=>_0x210bf6[_0x41cf5e(0x5a5)](_0x41cf5e(0x214))||_0x210bf6[_0x41cf5e(0x5a5)](_0x41cf5e(0x4d5))),_0x3b9ecb='';return _0x5c4a37['forEach'](_0x4b5175=>{const _0x2409dd=_0x41cf5e;let _0x301c43=/TEL(?:.*):(.+)/,_0x4d3283=/EMAIL(?:.*):(.+)/,_0x107111=_0x4b5175[_0x2409dd(0x65b)](_0x301c43),_0x420c14=_0x4b5175[_0x2409dd(0x65b)](_0x4d3283);if(_0x107111){let _0x374fa4=_0x107111[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x2409dd(0x1da)]();_0x3b9ecb+=_0x2409dd(0x46b)+_0x374fa4+'\x0a';}else{if(_0x420c14){let _0x4ea324=_0x420c14[0x1][_0x2409dd(0x1da)]();_0x3b9ecb+=_0x2409dd(0x3d9)+_0x4ea324+'\x0a';}}}),_0x3b9ecb[_0x41cf5e(0x1da)]();}async[a0_0x1b7b78(0x689)](_0xcbcbbf,_0x6b38bf,_0x7836b,_0x2617af=null){const _0x4413f0=a0_0x1b7b78;if(_0xcbcbbf[_0x4413f0(0x7eb)])try{let _0x508922=_0x6b38bf['key'][_0x4413f0(0x745)][_0x4413f0(0x465)](/:\d{1,2}@/g,'@'),_0x2c83ae=_0x6b38bf[_0x4413f0(0x482)]['fromMe'],_0xe5b98e=_0x508922[_0x4413f0(0x5f1)](_0x4413f0(0x23b)),_0x23f6dc=_0x6b38bf[_0x4413f0(0x2ee)]?.[_0x4413f0(0x465)](/:\d{1,2}@/g,'@')||'',_0x2bb52c=_0x6b38bf[_0x4413f0(0x853)]?.['text']||_0x6b38bf[_0x4413f0(0x853)]?.['caption']||_0x6b38bf['message_normalized']?.[_0x4413f0(0x749)]||_0x6b38bf[_0x4413f0(0x853)]?.[_0x4413f0(0x4a9)]||'',_0x253951={'_id':_0x6b38bf['_id'],'remoteJid':_0x2c83ae?this[_0x4413f0(0x60b)]['wuid']:_0xe5b98e?_0x23f6dc:_0x508922,'pushName':_0x2c83ae?this[_0x4413f0(0x60b)][_0x4413f0(0x2d8)]||'Eu':_0x6b38bf[_0x4413f0(0x2d5)],'text':_0x2bb52c,'type':_0x6b38bf[_0x4413f0(0x884)],'when':_0x6b38bf['messageTimestamp']||Date['now']()};_0x2617af||(_0x2617af=await this[_0x4413f0(0x8f0)][_0x4413f0(0x85e)][_0x4413f0(0x547)]({'where':{'_id':_0x508922}},this[_0x4413f0(0x60b)]['wuid']));let _0x26c688=_0x2c83ae?0x0:_0x2617af?(_0x2617af[_0x4413f0(0x23f)]||0x0)+0x1:0x1,_0x22754a={'lastmsg':_0x6b38bf[_0x4413f0(0x2b7)]||Date[_0x4413f0(0x8d0)](),'ephemeralExpiration':_0x6b38bf[_0x4413f0(0x2ff)],'lastMessage':_0x253951,'unreadcount':_0x26c688,..._0x2c83ae||_0xe5b98e?{}:{'name':_0x6b38bf[_0x4413f0(0x2d5)]},..._0xe5b98e?{'group':_0xe5b98e}:{},...!_0x2c83ae&&!_0xe5b98e&&_0x6b38bf['profilePictureUrl']?{'imagechat':_0x6b38bf[_0x4413f0(0x8b7)]}:{}};if(!_0xe5b98e&&(!_0x2617af?.[_0x4413f0(0x873)]||!_0x2617af[_0x4413f0(0x873)][_0x4413f0(0x331)])&&_0x6b38bf[_0x4413f0(0x2d5)]&&!_0x2c83ae&&(_0x22754a={..._0x22754a,'leadInfo.nome':_0x6b38bf[_0x4413f0(0x2d5)]}),_0x2617af?.[_0x4413f0(0x873)][_0x4413f0(0x188)]||(_0x22754a={..._0x22754a,'leadInfo.etiquetas':[]}),_0x2617af?.[_0x4413f0(0x873)][_0x4413f0(0x5ad)]||(_0x22754a={..._0x22754a,'leadInfo.customFields':[]}),_0x2617af?.[_0x4413f0(0x873)][_0x4413f0(0x882)]||(_0x22754a={..._0x22754a,'leadInfo.tags':[]}),_0x2617af&&_0x2617af?.[_0x4413f0(0x374)]){let _0x4f53f5=await this['repository'][_0x4413f0(0x7a2)]['find']({'where':{}},this['instance'][_0x4413f0(0x3e2)]),_0x2f9efc=new Set(_0x4f53f5['map'](_0x96b704=>_0x96b704[_0x4413f0(0x49d)])),_0x2f3697=(_0x2617af[_0x4413f0(0x873)]?.[_0x4413f0(0x188)]||[])[_0x4413f0(0x194)](_0x8e8a2e=>_0x2f9efc[_0x4413f0(0x84a)](_0x8e8a2e));_0x22754a={..._0x22754a,'imported':!0x1,'leadInfo.etiquetas':_0x2f3697};for(let _0x439e7d of _0x2f3697)await this[_0x4413f0(0x7d8)](_0x439e7d,_0x508922);}if(!this[_0x4413f0(0x767)][_0x4413f0(0x44c)][_0x4413f0(0x83c)](_0x41a93e=>_0x41a93e[_0x4413f0(0x86b)]&&_0x2bb52c[_0x4413f0(0x5a5)](_0x41a93e[_0x4413f0(0x86b)]))&&_0x7836b===_0x4413f0(0x61e)&&_0x2c83ae&&this[_0x4413f0(0x767)]?.[_0x4413f0(0x80a)][_0x4413f0(0x886)]&&_0x2bb52c[_0x4413f0(0x1da)]()!==this[_0x4413f0(0x767)]?.[_0x4413f0(0x80a)]['stopConversation'][_0x4413f0(0x1da)]()){let _0xc97a92=(this[_0x4413f0(0x767)]?.[_0x4413f0(0x80a)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x1f4a4d=Date[_0x4413f0(0x8d0)]()+_0xc97a92;_0x2617af?.[_0x4413f0(0x873)]?.[_0x4413f0(0x891)]===0x0||(_0x22754a={..._0x22754a,'leadInfo.desativadoFluxoAte':_0x1f4a4d},this[_0x4413f0(0x69f)][_0x4413f0(0x776)](this[_0x4413f0(0x2e9)]+'\x20('+this[_0x4413f0(0x60b)][_0x4413f0(0x3e2)]+_0x4413f0(0x353)+_0x1f4a4d+'.'));}if(_0x2bb52c['trim']()===this[_0x4413f0(0x767)]?.[_0x4413f0(0x80a)]['stopConversation'][_0x4413f0(0x1da)]()){this[_0x4413f0(0x69f)][_0x4413f0(0x776)](this['instanceName']+'\x20('+this[_0x4413f0(0x60b)][_0x4413f0(0x3e2)]+_0x4413f0(0x5e1)+_0x2bb52c);let _0x968bc6=Date[_0x4413f0(0x8d0)]();this[_0x4413f0(0x767)]?.['flowConfig'][_0x4413f0(0x76c)]===0x0?_0x22754a={..._0x22754a,'leadInfo.desativadoFluxoAte':_0x968bc6+0x7591f6200}:_0x22754a={..._0x22754a,'leadInfo.desativadoFluxoAte':_0x968bc6+this['AutomateSystem']?.[_0x4413f0(0x80a)][_0x4413f0(0x76c)]*0x3c*0x3e8};}if(_0x2617af=await this[_0x4413f0(0x8f0)][_0x4413f0(0x85e)][_0x4413f0(0x6b6)]({'where':{'_id':_0x508922}},_0x22754a,this[_0x4413f0(0x60b)][_0x4413f0(0x3e2)],{'new':!0x0,'upsert':!0x0}),_0x2617af)F(this[_0x4413f0(0x2e9)],'chats',{'chat':_0x2617af});else{this[_0x4413f0(0x69f)]['error'](this[_0x4413f0(0x2e9)]+'\x20('+this[_0x4413f0(0x60b)]['wuid']+_0x4413f0(0x752));return;}if(_0x2c83ae)return this[_0x4413f0(0x69f)][_0x4413f0(0x776)](this[_0x4413f0(0x2e9)]+'\x20('+this[_0x4413f0(0x60b)][_0x4413f0(0x3e2)]+_0x4413f0(0x5de)),null;if(!this[_0x4413f0(0x767)]?.[_0x4413f0(0x80a)][_0x4413f0(0x886)])return this[_0x4413f0(0x69f)][_0x4413f0(0x776)](this[_0x4413f0(0x2e9)]+'\x20('+this[_0x4413f0(0x60b)]['wuid']+_0x4413f0(0x6dd)),null;if(_0x2617af[_0x4413f0(0x49d)]['includes'](_0x4413f0(0x23b))&&this['AutomateSystem']?.[_0x4413f0(0x80a)][_0x4413f0(0x819)]===!0x0)return this[_0x4413f0(0x69f)]['verbose'](this[_0x4413f0(0x2e9)]+'\x20('+this[_0x4413f0(0x60b)]['wuid']+_0x4413f0(0x378)),null;if(_0x2617af['leadInfo']){if(_0x2617af[_0x4413f0(0x873)]['desativadoFluxoAte']===0x0||_0x2617af[_0x4413f0(0x873)][_0x4413f0(0x369)])return this[_0x4413f0(0x69f)]['verbose'](this[_0x4413f0(0x2e9)]+'\x20('+this['instance']['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x508922+_0x4413f0(0x5db)),null;if(_0x2617af[_0x4413f0(0x873)][_0x4413f0(0x891)]>Date[_0x4413f0(0x8d0)]()&&!_0x6b38bf[_0x4413f0(0x853)]?.['vote'])return this[_0x4413f0(0x69f)][_0x4413f0(0x776)](this[_0x4413f0(0x2e9)]+'\x20('+this[_0x4413f0(0x60b)][_0x4413f0(0x3e2)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x2617af['leadInfo']['desativadoFluxoAte'])['toLocaleString']()+_0x4413f0(0x5db)),null;}this[_0x4413f0(0x69f)][_0x4413f0(0x776)](this['instanceName']+'\x20('+this['instance'][_0x4413f0(0x3e2)]+_0x4413f0(0x7b9)),this['StartBot'](_0x6b38bf,_0x7836b);}catch(_0x38e9f0){let _0x3c9c3b=_0x4413f0(0x6e9),_0x4955c8=_0x38e9f0 instanceof Error?_0x38e9f0[_0x4413f0(0x272)]:typeof _0x38e9f0==_0x4413f0(0x56d)?JSON[_0x4413f0(0x5b9)](_0x38e9f0):_0x38e9f0,_0x124405=_0x3c9c3b+':\x20'+_0x4955c8;return this['logger'][_0x4413f0(0x84d)](this[_0x4413f0(0x2e9)]+'\x20('+this['instance'][_0x4413f0(0x3e2)]+'):\x20'+_0x124405),null;}}async[a0_0x1b7b78(0x80f)](_0xaaff58,_0x2e059a){const _0x1b5b4a=a0_0x1b7b78;if(_0x2e059a['ENABLED']){let _0x464251=_0xaaff58[_0x1b5b4a(0x686)](async _0x4eb814=>{const _0x32be3a=_0x1b5b4a;try{let _0xaa8d44={'_id':_0x4eb814[_0x32be3a(0x49d)],'owner':_0x4eb814['owner'],'lastcache':0x0};if(Object['keys'](_0x4eb814)[_0x32be3a(0x52e)](_0x2fcaa5=>{_0x4eb814[_0x2fcaa5]!==null&&(_0xaa8d44[_0x2fcaa5]=_0x4eb814[_0x2fcaa5]);}),_0xaa8d44[_0x32be3a(0x357)]===null&&(_0xaa8d44[_0x32be3a(0x357)]=_0x32be3a(0x36c)),Object[_0x32be3a(0x51a)](_0xaa8d44)[_0x32be3a(0x245)]>0x0)return await this[_0x32be3a(0x8f0)][_0x32be3a(0x85e)]['updateOne']({'where':{'_id':_0x4eb814['_id']}},_0xaa8d44,this[_0x32be3a(0x60b)][_0x32be3a(0x3e2)]);}catch(_0xc99212){let _0x5a3ee5=_0x32be3a(0x3d0)+_0x4eb814['_id'],_0x3dcae1=_0xc99212 instanceof Error?_0xc99212[_0x32be3a(0x272)]:typeof _0xc99212=='object'?JSON[_0x32be3a(0x5b9)](_0xc99212):_0xc99212,_0xaa823c=_0x5a3ee5+':\x20'+_0x3dcae1;return this[_0x32be3a(0x69f)][_0x32be3a(0x84d)](this[_0x32be3a(0x2e9)]+'\x20('+this[_0x32be3a(0x60b)][_0x32be3a(0x3e2)]+_0x32be3a(0x754)+_0xaa823c),null;}}),_0x2503c9=(await Promise[_0x1b5b4a(0x586)](_0x464251))['filter'](_0x80f4bb=>_0x80f4bb!==null)['length'];this[_0x1b5b4a(0x69f)][_0x1b5b4a(0x776)](this[_0x1b5b4a(0x2e9)]+'\x20('+this[_0x1b5b4a(0x60b)][_0x1b5b4a(0x3e2)]+_0x1b5b4a(0x754)+_0x2503c9+_0x1b5b4a(0x79c)+this[_0x1b5b4a(0x60b)][_0x1b5b4a(0x3e2)]+_0x1b5b4a(0x680));}}async[a0_0x1b7b78(0x4cd)](_0x26b174){const _0xdfd8c9=a0_0x1b7b78;this[_0xdfd8c9(0x69f)][_0xdfd8c9(0x776)](this[_0xdfd8c9(0x2e9)]+'\x20('+this[_0xdfd8c9(0x60b)][_0xdfd8c9(0x3e2)]+_0xdfd8c9(0x377));let _0x6848ef={'readMessages':[{'remoteJid':_0x26b174[_0xdfd8c9(0x2f7)][_0xdfd8c9(0x88b)][_0xdfd8c9(0x482)][_0xdfd8c9(0x745)],'fromMe':_0x26b174[_0xdfd8c9(0x2f7)][_0xdfd8c9(0x88b)][_0xdfd8c9(0x482)][_0xdfd8c9(0x8bf)],'id':_0x26b174['chatLog'][_0xdfd8c9(0x88b)][_0xdfd8c9(0x482)]['id']}]};await this[_0xdfd8c9(0x246)](_0x6848ef);}async[a0_0x1b7b78(0x70c)](_0x7f88e5,_0x5b5d34){const _0x4db411=a0_0x1b7b78;try{let {key:_0x4a6751,message_normalized:_0x3bcdb8}=_0x7f88e5,_0x1bf417=_0x3bcdb8,_0x3992b1=_0x3bcdb8[_0x4db411(0x51e)]||_0x3bcdb8[_0x4db411(0x428)]||_0x3bcdb8[_0x4db411(0x749)]||_0x3bcdb8['name']||'',_0x398c56=_0x4a6751['remoteJid'],_0x40f800=null,_0x20b037=this[_0x4db411(0x767)][_0x4db411(0x44c)]['find'](_0x333bd2=>_0x333bd2['startCommand']&&_0x3992b1['includes'](_0x333bd2['startCommand']));if(_0x20b037&&_0x5b5d34===_0x4db411(0x61e)){let _0x4f10d1=await this[_0x4db411(0x8f0)][_0x4db411(0x2b4)][_0x4db411(0x547)]({'where':{'_id':_0x20b037['_id']}});if(this[_0x4db411(0x69f)][_0x4db411(0x776)](this[_0x4db411(0x2e9)]+'\x20('+this[_0x4db411(0x60b)][_0x4db411(0x3e2)]+_0x4db411(0x2da)),_0x4f10d1&&_0x4f10d1['whoCanUse']?.[_0x4db411(0x5a5)](this['instance']['wuid']))_0x40f800=await this[_0x4db411(0x555)](_0x4f10d1,_0x4a6751,_0x1bf417);else return this[_0x4db411(0x69f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4db411(0x3e2)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this['logger']['verbose'](this[_0x4db411(0x2e9)]+'\x20('+this['instance'][_0x4db411(0x3e2)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x40f800=await this['findConversation'](_0x398c56,_0x1bf417),_0x40f800){this[_0x4db411(0x69f)][_0x4db411(0x776)](this[_0x4db411(0x2e9)]+'\x20('+this[_0x4db411(0x60b)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x4a6751[_0x4db411(0x8bf)]&&_0x40f800['readMessages']&&this[_0x4db411(0x4cd)](_0x40f800);let _0x4de57c=await this[_0x4db411(0x798)](_0x40f800);_0x4de57c&&await this[_0x4db411(0x512)](_0x40f800,_0x4de57c);}}catch(_0x5b3a68){this[_0x4db411(0x69f)][_0x4db411(0x84d)](this[_0x4db411(0x2e9)]+'\x20('+this['instance']['wuid']+_0x4db411(0x6cc)+(_0x5b3a68 instanceof Error?_0x5b3a68[_0x4db411(0x272)]:JSON[_0x4db411(0x5b9)](_0x5b3a68,null,0x2)));}}[a0_0x1b7b78(0x6cb)](_0x17e5bd,_0x1b8b55='',_0x136bd4={}){const _0x5e6a85=a0_0x1b7b78;return typeof _0x17e5bd!=_0x5e6a85(0x56d)||_0x17e5bd===null?(_0x1b8b55&&(_0x136bd4[_0x1b8b55]=_0x17e5bd),_0x136bd4):(Object[_0x5e6a85(0x47f)](_0x17e5bd)['forEach'](([_0x5ca014,_0x21d3e7])=>{let _0x14b2e7=_0x1b8b55?_0x1b8b55+'.'+_0x5ca014:'_'+_0x5ca014;Array['isArray'](_0x21d3e7)?_0x21d3e7['forEach']((_0x458ff9,_0x549bf1)=>{const _0x3d1ca9=a0_0x4b9f;this[_0x3d1ca9(0x6cb)](_0x458ff9,_0x14b2e7+'['+_0x549bf1+']',_0x136bd4);}):typeof _0x21d3e7=='object'&&_0x21d3e7!==null?this['flattenObject'](_0x21d3e7,_0x14b2e7,_0x136bd4):_0x136bd4[_0x14b2e7]=String(_0x21d3e7);}),_0x136bd4);}[a0_0x1b7b78(0x6d2)](_0x3bd67b){const _0xf134aa=a0_0x1b7b78;let _0x3a640b={};for(let _0x3a8aae of _0x3bd67b)typeof _0x3a8aae['name']=='string'&&typeof _0x3a8aae['value']==_0xf134aa(0x8d3)&&(_0x3a640b[_0x3a8aae[_0xf134aa(0x4a9)]]=_0x3a8aae[_0xf134aa(0x5bf)]);return _0x3a640b;}async[a0_0x1b7b78(0x798)](_0x2f95fd){const _0x168b21=a0_0x1b7b78;if(!this[_0x168b21(0x767)]?.[_0x168b21(0x80a)][_0x168b21(0x886)]||_0x2f95fd[_0x168b21(0x18a)]!==_0x168b21(0x8ef)&&_0x2f95fd['waitingMenu_id']==='')return null;let _0x5a2cca=_0x2f95fd['chatLog'][_0x168b21(0x40f)]||_0x168b21(0x842);typeof _0x2f95fd[_0x168b21(0x2f7)]['lastCondition']>'u'&&(_0x2f95fd[_0x168b21(0x2f7)]['lastCondition']=!0x0);let _0x3d8b77=_0x2f95fd[_0x168b21(0x2f7)][_0x168b21(0x78c)];this[_0x168b21(0x69f)][_0x168b21(0x776)](this['instanceName']+'\x20('+this[_0x168b21(0x60b)][_0x168b21(0x3e2)]+_0x168b21(0x32c)+_0x5a2cca+',\x20lastCondition:\x20'+_0x3d8b77);let _0x71a62e=_0x5a2cca==='start'?_0x2f95fd[_0x168b21(0x85c)][_0x168b21(0x83c)](_0x4ff4d3=>_0x4ff4d3[_0x168b21(0x4ae)]===_0x168b21(0x842)):_0x2f95fd[_0x168b21(0x85c)]['find'](_0x4cb30e=>_0x4cb30e['_id'][_0x168b21(0x6e2)]()===_0x5a2cca[_0x168b21(0x6e2)]());if(!_0x71a62e)return this['logger'][_0x168b21(0x84d)](this[_0x168b21(0x2e9)]+'\x20('+this[_0x168b21(0x60b)][_0x168b21(0x3e2)]+_0x168b21(0x712)+_0x5a2cca),null;let _0xf0fc15={'_pushName':_0x2f95fd?.[_0x168b21(0x2f7)]?.['lastReceivedMessage']?.[_0x168b21(0x2d5)]||'','_sender':this[_0x168b21(0x60b)][_0x168b21(0x3e2)]||'',..._0x2f95fd[_0x168b21(0x2f7)][_0x168b21(0x2a4)]},_0x412fb5=new Date();_0xf0fc15[_0x168b21(0x859)]=_0x412fb5[_0x168b21(0x2d9)](),_0xf0fc15[_0x168b21(0x279)]=_0x412fb5[_0x168b21(0x89c)]()+0x1,_0xf0fc15[_0x168b21(0x2c6)]=_0x412fb5[_0x168b21(0x739)](),_0xf0fc15[_0x168b21(0x8b5)]=_0x412fb5['getHours'](),_0xf0fc15[_0x168b21(0x470)]=_0x412fb5[_0x168b21(0x8e3)](),_0xf0fc15['_second']=_0x412fb5[_0x168b21(0x550)]();let _0x1d0aee=null;if(_0x2f95fd['waitingMenu_id']){let _0x4f99e2=_0x2f95fd[_0x168b21(0x2f7)][_0x168b21(0x88b)][_0x168b21(0x749)],_0x10c080=_0x2f95fd['waitingMenu_replyOptions'][_0x168b21(0x83c)](_0x2a2a27=>_0x2a2a27[_0x168b21(0x5bd)]===_0x4f99e2);if(_0x10c080){let _0x231466=_0x10c080['next_groupId'];if(_0x1d0aee=_0x2f95fd[_0x168b21(0x85c)][_0x168b21(0x83c)](_0x3d950e=>_0x3d950e[_0x168b21(0x726)]===_0x231466&&_0x3d950e['order']===0x1),_0x71a62e[_0x168b21(0x793)][_0x168b21(0x48d)]){let _0x14d486={'id':_0x2f95fd['waitingMenu_id'],'remoteJid':_0x2f95fd[_0x168b21(0x745)],'fromMe':!0x0};await this[_0x168b21(0x420)](_0x14d486);}if(_0x71a62e[_0x168b21(0x793)][_0x168b21(0x48d)]&&_0x71a62e[_0x168b21(0x793)][_0x168b21(0x581)]&&_0x71a62e[_0x168b21(0x793)][_0x168b21(0x772)]===_0x168b21(0x3bd)){let _0x52c200={'number':_0x2f95fd['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x168b21(0x7fb)+_0x2f95fd[_0x168b21(0x80d)]+'\x0a*Você\x20respondeu*:\x0a'+_0x4f99e2}};await this[_0x168b21(0x5ea)](_0x52c200);}_0xf0fc15['_lastVote']=_0x4f99e2,_0x2f95fd[_0x168b21(0x18a)]=_0x168b21(0x8ef),_0x2f95fd[_0x168b21(0x4c6)]='',_0x2f95fd[_0x168b21(0x80d)]='',_0x2f95fd['waitingMenu_replyOptions']=[];}else{this[_0x168b21(0x69f)][_0x168b21(0x776)](this[_0x168b21(0x2e9)]+'\x20('+this['instance'][_0x168b21(0x3e2)]+_0x168b21(0x2ea));let _0x430171={'activatedCount':_0x2f95fd['chatLog'][_0x168b21(0x399)][_0x168b21(0x194)](_0x1275a5=>String(_0x1275a5[_0x168b21(0x39b)])===String(_0x5a2cca))[_0x168b21(0x245)],'moreLogs':[_0x168b21(0x5b0)]};if(_0x71a62e[_0x168b21(0x793)][_0x168b21(0x890)]){let _0x456975={'number':_0x2f95fd[_0x168b21(0x745)],'options':{'delay':0x0},'textMessage':{'text':_0x71a62e['uazapi']['pollErrorMessage']}};await this[_0x168b21(0x5ea)](_0x456975);}if(_0x71a62e[_0x168b21(0x539)]!==void 0x0&&_0x430171['activatedCount']>=_0x71a62e[_0x168b21(0x539)]){let _0x1b6644=Date[_0x168b21(0x8d0)](),_0x585052=_0x71a62e[_0x168b21(0x718)]??0xa;isNaN(_0x585052)&&(_0x585052=0xa);let _0x2ddeda=_0x1b6644+_0x585052*0x3c*0x3e8;_0x430171[_0x168b21(0x58e)]=_0x2ddeda,_0x430171[_0x168b21(0x2fb)][_0x168b21(0x184)](_0x168b21(0x3ca)),this[_0x168b21(0x7b5)](_0x2f95fd,_0x2ddeda),_0x2f95fd[_0x168b21(0x4c6)]='',_0x2f95fd['waitingMenu_text']='',_0x2f95fd[_0x168b21(0x7c9)]=[];}return this[_0x168b21(0x7d4)](_0x2f95fd,_0x71a62e,_0x430171,!0x0),null;}}if(_0x3d8b77&&_0x71a62e[_0x168b21(0x5f5)]&&!_0x2f95fd[_0x168b21(0x4c6)]){let _0x112d08=_0x2f95fd[_0x168b21(0x85c)][_0x168b21(0x194)](_0x4c2ef9=>_0x4c2ef9[_0x168b21(0x726)][_0x168b21(0x6e2)]()===_0x71a62e[_0x168b21(0x5f5)][_0x168b21(0x6e2)]())[_0x168b21(0x4d4)]((_0x2b14d1,_0x4e99c2)=>_0x2b14d1['order']-_0x4e99c2[_0x168b21(0x3a2)]);_0x112d08[_0x168b21(0x245)]>0x0&&(_0x1d0aee=_0x112d08[0x0]);}if(!_0x1d0aee){let _0x1b343e=_0x71a62e[_0x168b21(0x726)],_0x183d9d=_0x2f95fd['blocks']['filter'](_0x11ae10=>_0x11ae10[_0x168b21(0x726)]===_0x1b343e&&_0x11ae10[_0x168b21(0x3a2)]>_0x71a62e[_0x168b21(0x3a2)])[_0x168b21(0x4d4)]((_0x425817,_0x55e0b1)=>_0x425817[_0x168b21(0x3a2)]-_0x55e0b1[_0x168b21(0x3a2)]);_0x183d9d[_0x168b21(0x245)]>0x0&&(_0x1d0aee=_0x183d9d[0x0]);}if(!_0x1d0aee)return _0x2f95fd[_0x168b21(0x18a)]=_0x168b21(0x71d),null;_0x2f95fd[_0x168b21(0x2f7)]['realVariables']=_0xf0fc15;let _0x10da73=JSON[_0x168b21(0x599)](JSON[_0x168b21(0x5b9)](_0x1d0aee));return this[_0x168b21(0x55e)](_0x10da73,_0x2f95fd['chatLog'][_0x168b21(0x2a4)]),_0x2f95fd['chatLog']['lastBlockId']=_0x10da73[_0x168b21(0x49d)],_0x2f95fd[_0x168b21(0x2f7)][_0x168b21(0x78c)]=!0x0,_0x10da73;}[a0_0x1b7b78(0x7e7)](_0x588664,_0x4e79fd){const _0x13e737=a0_0x1b7b78;return _0x588664[_0x13e737(0x465)](/\{\{([^}]+)\}\}/g,(_0x581db2,_0x18d9f8)=>_0x4e79fd[_0x18d9f8]||'');}[a0_0x1b7b78(0x55e)](_0x19c09d,_0x36f3db){const _0x1125f3=a0_0x1b7b78;for(let _0x1c32f3 in _0x19c09d)typeof _0x19c09d[_0x1c32f3]==_0x1125f3(0x8d3)?_0x19c09d[_0x1c32f3]=this[_0x1125f3(0x7e7)](_0x19c09d[_0x1c32f3],_0x36f3db):typeof _0x19c09d[_0x1c32f3]=='object'&&this['replaceVariablesInObject'](_0x19c09d[_0x1c32f3],_0x36f3db);}async[a0_0x1b7b78(0x284)](_0x46f393,_0x4d3fbf){const _0x5a4404=a0_0x1b7b78;let _0x2d5e1f=_0x4d3fbf[_0x5a4404(0x49d)];if(_0x46f393[_0x5a4404(0x2f7)]&&_0x46f393['chatLog']['blockLogs']){let _0xf1bc5d=_0x46f393[_0x5a4404(0x2f7)][_0x5a4404(0x399)][_0x5a4404(0x194)](_0x272476=>String(_0x272476[_0x5a4404(0x39b)])===String(_0x2d5e1f))['pop']();if(_0xf1bc5d&&_0xf1bc5d[_0x5a4404(0x84d)]&&_0x4d3fbf[_0x5a4404(0x89a)])return _0x46f393[_0x5a4404(0x18a)]=_0x5a4404(0x71d),await this['saveConversationToDatabase'](_0x46f393),null;}if(_0x4d3fbf['type']===_0x5a4404(0x793)&&_0x4d3fbf[_0x5a4404(0x793)][_0x5a4404(0x2ec)]==='sendPoll'&&_0x46f393['waitingMenu_id'])return _0x46f393[_0x5a4404(0x2f7)]['lastBlockId']=_0x2d5e1f,await this[_0x5a4404(0x34e)](_0x46f393),null;let _0x5372b8=await this[_0x5a4404(0x798)](_0x46f393);if(_0x46f393[_0x5a4404(0x2f7)]&&_0x46f393['chatLog'][_0x5a4404(0x399)]){let _0x1014f3=_0x46f393[_0x5a4404(0x2f7)]['blockLogs'][_0x5a4404(0x194)](_0x1a402e=>String(_0x1a402e[_0x5a4404(0x39b)])===String(_0x2d5e1f))[_0x5a4404(0x245)];if(_0x4d3fbf[_0x5a4404(0x539)]!==void 0x0&&_0x1014f3>=_0x4d3fbf['maxActives']){let _0x5bd977=Date[_0x5a4404(0x8d0)](),_0xc5f8bd=_0x4d3fbf[_0x5a4404(0x718)]??0xa;isNaN(_0xc5f8bd)&&(_0xc5f8bd=0xa);let _0x211958=_0x5bd977+_0xc5f8bd*0x3c*0x3e8,_0x16e51a={'newStoppedUntil':_0x211958};return this['updateStopChat'](_0x46f393,_0x211958),this[_0x5a4404(0x7d4)](_0x46f393,_0x4d3fbf,_0x16e51a,!0x0),null;}}_0x5372b8&&_0x5372b8[_0x5a4404(0x4ae)]!=='save'&&await this[_0x5a4404(0x512)](_0x46f393,_0x5372b8),_0x5372b8||await this[_0x5a4404(0x34e)](_0x46f393),_0x5372b8&&_0x5372b8['type']==='save'&&(_0x46f393[_0x5a4404(0x2f7)][_0x5a4404(0x40f)]=_0x2d5e1f,await this[_0x5a4404(0x34e)](_0x46f393));}async[a0_0x1b7b78(0x512)](_0x389a95,_0x1f3218){const _0x1d7497=a0_0x1b7b78;try{let _0x1aa3d2=_0x1f3218['type'];this[_0x1d7497(0x69f)][_0x1d7497(0x776)](this[_0x1d7497(0x2e9)]+'\x20('+this[_0x1d7497(0x60b)][_0x1d7497(0x3e2)]+_0x1d7497(0x1d8)+_0x1aa3d2);let _0x553409={'uazapi':()=>this[_0x1d7497(0x770)](_0x389a95,_0x1f3218),'save':()=>this['saveTextReply'](_0x389a95,_0x1f3218),'stop':()=>this[_0x1d7497(0x58b)](_0x389a95,_0x1f3218),'condition':()=>this[_0x1d7497(0x2fd)](_0x389a95,_0x1f3218),'varedit':()=>this[_0x1d7497(0x7db)](_0x389a95,_0x1f3218),'apirequest':()=>this[_0x1d7497(0x6d5)](_0x389a95,_0x1f3218),'goToFlow':()=>this['processgoToFlow'](_0x389a95,_0x1f3218),'scheduleFlow':()=>this[_0x1d7497(0x3f5)](_0x389a95,_0x1f3218),'awaitSeconds':()=>this[_0x1d7497(0x8ab)](_0x389a95,_0x1f3218),'clearVariables':()=>this[_0x1d7497(0x3db)](_0x389a95,_0x1f3218)}[_0x1aa3d2];_0x553409&&await _0x553409();}catch(_0x262149){this['logger']['error'](this['instanceName']+'\x20('+this[_0x1d7497(0x60b)][_0x1d7497(0x3e2)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x262149 instanceof Error?_0x262149[_0x1d7497(0x272)]:JSON['stringify'](_0x262149,null,0x2)));}}async[a0_0x1b7b78(0x8ab)](_0x432dc3,_0x1c7068){const _0x1d341c=a0_0x1b7b78;if(this['logger'][_0x1d341c(0x776)](this[_0x1d341c(0x2e9)]+'\x20('+this[_0x1d341c(0x60b)]['wuid']+_0x1d341c(0x197)),!_0x432dc3||!_0x1c7068)return this[_0x1d341c(0x69f)][_0x1d341c(0x84d)](this['instanceName']+'\x20('+this['instance'][_0x1d341c(0x3e2)]+_0x1d341c(0x4a0)),null;let _0x2105b0=+_0x1c7068[_0x1d341c(0x4fe)];isNaN(_0x2105b0)&&(_0x2105b0=0x0),_0x2105b0=Math[_0x1d341c(0x4e0)](_0x2105b0,0x3c),await(0x0,w[_0x1d341c(0x48b)])(_0x2105b0*0x3e8);let _0x561013={'moreLogs':[_0x1d341c(0x511)+_0x2105b0+'\x20segundos']};return await this[_0x1d341c(0x7d4)](_0x432dc3,_0x1c7068,_0x561013),_0x2105b0;}async[a0_0x1b7b78(0x3db)](_0x179a5c,_0x3204ff){const _0x2d7cfd=a0_0x1b7b78;if(this['logger'][_0x2d7cfd(0x776)](this['instanceName']+'\x20('+this[_0x2d7cfd(0x60b)]['wuid']+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x179a5c||!_0x3204ff)return this[_0x2d7cfd(0x69f)]['error'](this['instanceName']+'\x20('+this[_0x2d7cfd(0x60b)]['wuid']+_0x2d7cfd(0x4a0)),null;let _0x52c402=[];if(_0x3204ff[_0x2d7cfd(0x5cd)][_0x2d7cfd(0x1da)]()==='[all]'){let _0x4f1a35=[_0x2d7cfd(0x787),_0x2d7cfd(0x711),_0x2d7cfd(0x8de),_0x2d7cfd(0x6ef),_0x2d7cfd(0x46e),_0x2d7cfd(0x49d),_0x2d7cfd(0x5ee)];_0x52c402=Object[_0x2d7cfd(0x51a)](_0x179a5c[_0x2d7cfd(0x2f7)][_0x2d7cfd(0x2a4)])[_0x2d7cfd(0x194)](_0x5c117e=>_0x5c117e[_0x2d7cfd(0x1f8)]('_')&&!_0x4f1a35['includes'](_0x5c117e));}else _0x52c402=_0x3204ff['clearVariables'][_0x2d7cfd(0x8f1)]('|')[_0x2d7cfd(0x686)](_0x5f5772=>(_0x5f5772=_0x5f5772['replace'](/[{}]/g,'')['trim'](),_0x5f5772[_0x2d7cfd(0x1f8)]('_')?_0x5f5772:'_'+_0x5f5772));let _0x4e5350=[];_0x52c402['forEach'](_0x21020c=>{const _0x296260=_0x2d7cfd;_0x21020c in _0x179a5c[_0x296260(0x2f7)][_0x296260(0x2a4)]&&(delete _0x179a5c[_0x296260(0x2f7)]['realVariables'][_0x21020c],_0x4e5350[_0x296260(0x184)](_0x21020c));}),_0x4e5350[_0x2d7cfd(0x245)]>0x0?this[_0x2d7cfd(0x69f)][_0x2d7cfd(0x776)](this[_0x2d7cfd(0x2e9)]+'\x20('+this[_0x2d7cfd(0x60b)]['wuid']+_0x2d7cfd(0x6f2)+_0x4e5350[_0x2d7cfd(0x44f)](',\x20')):this[_0x2d7cfd(0x69f)][_0x2d7cfd(0x776)](this[_0x2d7cfd(0x2e9)]+'\x20('+this[_0x2d7cfd(0x60b)]['wuid']+_0x2d7cfd(0x3d5));let _0x475080={'moreLogs':[_0x2d7cfd(0x610)+_0x4e5350[_0x2d7cfd(0x44f)](',\x20')]};return await this[_0x2d7cfd(0x7d4)](_0x179a5c,_0x3204ff,_0x475080),null;}async[a0_0x1b7b78(0x3f5)](_0x48c957,_0xfba745){const _0x4a4808=a0_0x1b7b78;if(this['logger'][_0x4a4808(0x776)](this['instanceName']+'\x20('+this[_0x4a4808(0x60b)][_0x4a4808(0x3e2)]+_0x4a4808(0x45c)),!_0x48c957||!_0xfba745)return this[_0x4a4808(0x69f)][_0x4a4808(0x84d)](this[_0x4a4808(0x2e9)]+'\x20('+this[_0x4a4808(0x60b)][_0x4a4808(0x3e2)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5cf650=_0x48c957[_0x4a4808(0x745)];_0xfba745[_0x4a4808(0x4bd)][_0x4a4808(0x745)]&&_0xfba745[_0x4a4808(0x4bd)][_0x4a4808(0x745)][_0x4a4808(0x1da)]()!==''&&(_0x5cf650=_0xfba745[_0x4a4808(0x793)][_0x4a4808(0x745)]['trim']());let _0x2929c1=_0xfba745['scheduleFlow']['timeInMinutes']*0xea60,_0x1bdbed=Date[_0x4a4808(0x8d0)]()+_0x2929c1,_0x3c9028={'status':_0x4a4808(0x3dd),'info':_0x4a4808(0x8ed)+_0x48c957['name'],'remoteJids':[_0x5cf650],'when':_0x1bdbed,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x4a4808(0x2b4),'flowName':_0xfba745[_0x4a4808(0x4bd)][_0x4a4808(0x7bc)]};this[_0x4a4808(0x54b)](_0x3c9028);let _0x46597b=await this[_0x4a4808(0x798)](_0x48c957);_0x46597b&&await this['processblock'](_0x48c957,_0x46597b);}async[a0_0x1b7b78(0x5fa)](_0x5a20c3,_0xe5bb03){const _0x29b275=a0_0x1b7b78;if(this[_0x29b275(0x69f)][_0x29b275(0x776)](this[_0x29b275(0x2e9)]+'\x20('+this[_0x29b275(0x60b)]['wuid']+_0x29b275(0x656)),!_0x5a20c3||!_0xe5bb03)return this[_0x29b275(0x69f)][_0x29b275(0x84d)](this[_0x29b275(0x2e9)]+'\x20('+this[_0x29b275(0x60b)][_0x29b275(0x3e2)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x29b275(0x7d4)](_0x5a20c3,_0xe5bb03,{},!0x0,!0x0);let _0x4b806b=_0xe5bb03[_0x29b275(0x8d6)];_0x5a20c3=await this[_0x29b275(0x2a3)](_0x4b806b,_0x5a20c3['remoteJid'],_0x5a20c3[_0x29b275(0x2f7)]['realVariables']);let _0x20a1e0=await this[_0x29b275(0x798)](_0x5a20c3);_0x20a1e0&&await this[_0x29b275(0x512)](_0x5a20c3,_0x20a1e0);}async[a0_0x1b7b78(0x2a3)](_0x2b22a0,_0x1df31c,_0x217d62){const _0x4b1f5e=a0_0x1b7b78;this['logger']['verbose'](this[_0x4b1f5e(0x2e9)]+'\x20('+this[_0x4b1f5e(0x60b)][_0x4b1f5e(0x3e2)]+_0x4b1f5e(0x490));try{let _0x5abda3=this[_0x4b1f5e(0x767)][_0x4b1f5e(0x44c)][_0x4b1f5e(0x83c)](_0x3c1667=>_0x3c1667['_id']===_0x2b22a0);_0x5abda3||this[_0x4b1f5e(0x69f)][_0x4b1f5e(0x84d)](this[_0x4b1f5e(0x2e9)]+'\x20('+this['instance'][_0x4b1f5e(0x3e2)]+_0x4b1f5e(0x714)+_0x2b22a0+_0x4b1f5e(0x183));let _0x4ec389=await this['repository']['flow'][_0x4b1f5e(0x547)]({'where':{'_id':_0x5abda3[_0x4b1f5e(0x49d)]}});if(!_0x4ec389||!_0x4ec389[_0x4b1f5e(0x725)]?.[_0x4b1f5e(0x5a5)](this[_0x4b1f5e(0x60b)][_0x4b1f5e(0x3e2)]))throw this[_0x4b1f5e(0x69f)]['error'](this[_0x4b1f5e(0x2e9)]+'\x20('+this['instance'][_0x4b1f5e(0x3e2)]+_0x4b1f5e(0x714)+_0x2b22a0+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x4b1f5e(0x7c4)+_0x2b22a0+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x589b41=require(_0x4b1f5e(0x191))[_0x4b1f5e(0x545)],_0x4f2ece=Date[_0x4b1f5e(0x8d0)](),_0x27db4a=_0x4b1f5e(0x842),_0x291486={},_0x5c2397={},_0x3ab9f0=this[_0x4b1f5e(0x767)]['flows']['find'](_0x2108f9=>_0x2108f9[_0x4b1f5e(0x49d)]===_0x4ec389[_0x4b1f5e(0x49d)]?.['toString']()),_0x235636=_0x3ab9f0?.[_0x4b1f5e(0x3ce)]??_0x4ec389['minutesToClose']??0x0,_0x42b118=_0x3ab9f0?.[_0x4b1f5e(0x31b)]??_0x4ec389[_0x4b1f5e(0x31b)]??!0x1,_0x328397={'flowId':_0x5abda3['_id'],'readMessages':_0x5abda3[_0x4b1f5e(0x31b)],..._0x4ec389,'chatLog':null},_0x33345a={'lastReceivedMessage':_0x291486,'lastSendMessage':_0x5c2397,'lastBlockId':_0x27db4a,'lastCondition':!0x0,'realVariables':_0x217d62};_0x328397[_0x4b1f5e(0x2f7)]=_0x33345a,_0x328397['chatLog']['realVariables']={..._0x217d62},delete _0x328397[_0x4b1f5e(0x49d)],_0x328397[_0x4b1f5e(0x49d)]=new _0x589b41(),_0x328397[_0x4b1f5e(0x26b)]=_0x4f2ece,_0x328397[_0x4b1f5e(0x18a)]=_0x4b1f5e(0x8ef),_0x328397[_0x4b1f5e(0x745)]=_0x1df31c,_0x328397[_0x4b1f5e(0x3ce)]=_0x235636,_0x328397[_0x4b1f5e(0x31b)]=_0x42b118;let _0x73578f=await this[_0x4b1f5e(0x8f0)][_0x4b1f5e(0x724)]['updateOne'](_0x328397[_0x4b1f5e(0x49d)],_0x328397,this[_0x4b1f5e(0x60b)][_0x4b1f5e(0x3e2)]);return this[_0x4b1f5e(0x69f)][_0x4b1f5e(0x776)](this['instanceName']+'\x20('+this['instance'][_0x4b1f5e(0x3e2)]+_0x4b1f5e(0x529)),_0x73578f?_0x328397:null;}catch(_0x5a40c7){let _0x2ec5c2=_0x4b1f5e(0x77f),_0x3d0eb9=_0x5a40c7 instanceof Error?_0x5a40c7[_0x4b1f5e(0x272)]:typeof _0x5a40c7=='object'?JSON[_0x4b1f5e(0x5b9)](_0x5a40c7):_0x5a40c7,_0x5b0938=_0x2ec5c2+':\x20'+_0x3d0eb9;throw this[_0x4b1f5e(0x69f)][_0x4b1f5e(0x84d)](this[_0x4b1f5e(0x2e9)]+'\x20('+this[_0x4b1f5e(0x60b)][_0x4b1f5e(0x3e2)]+'):\x20'+_0x5b0938),new m(_0x5b0938);}}async[a0_0x1b7b78(0x6d5)](_0x495cd2,_0x1870d4){const _0xf5e08e=a0_0x1b7b78;let _0x4df1a9,_0x53ef95;try{let _0x4038e5=_0x1870d4[_0xf5e08e(0x4eb)];if(!_0x4038e5||!_0x4038e5[_0xf5e08e(0x430)]||!_0x4038e5['method'])throw new Error(_0xf5e08e(0x296));let _0x550730;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations',_0xf5e08e(0x4c3)]['some'](_0x5f58df=>_0x4038e5[_0xf5e08e(0x430)][_0xf5e08e(0x5a5)](_0x5f58df))||_0x4038e5['requestFile'])&&(_0x550730='arraybuffer');let _0x41d6f0='\u205f',_0x410dd4;try{_0x410dd4=JSON[_0xf5e08e(0x599)](_0x4038e5[_0xf5e08e(0x815)][_0xf5e08e(0x465)](new RegExp(_0x41d6f0,'g'),''));}catch(_0x32f461){throw _0x32f461;}let _0x1d9a05={'method':_0x4038e5[_0xf5e08e(0x25c)],'url':_0x4038e5[_0xf5e08e(0x430)],'headers':_0x4038e5[_0xf5e08e(0x6d7)]||{},..._0x4038e5[_0xf5e08e(0x25c)][_0xf5e08e(0x265)]()!==_0xf5e08e(0x5b7)&&_0x4038e5[_0xf5e08e(0x815)]?{'data':JSON['parse'](_0x4038e5[_0xf5e08e(0x815)][_0xf5e08e(0x465)](new RegExp(_0x41d6f0,'g'),''))}:{},..._0x550730&&{'responseType':_0x550730}},_0x53b942=await(0x0,Q['default'])(_0x1d9a05),_0x334d3b=_0x53b942[_0xf5e08e(0x275)][_0xf5e08e(0x2fc)];if(_0x334d3b&&_0x334d3b[_0xf5e08e(0x5a5)](_0xf5e08e(0x52f))||typeof _0x53b942[_0xf5e08e(0x517)]=='string'){if(typeof _0x53b942[_0xf5e08e(0x517)]==_0xf5e08e(0x8d3)){let _0x2a1974=_0x53b942[_0xf5e08e(0x517)][_0xf5e08e(0x465)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0xf5e08e(0x1da)]();try{_0x4df1a9=JSON[_0xf5e08e(0x599)](_0x2a1974);}catch(_0xe54a50){this[_0xf5e08e(0x69f)]['error'](_0xf5e08e(0x791)+_0xe54a50[_0xf5e08e(0x272)]),_0x4df1a9={'_apiResponse':_0x53b942['data']};}}else _0x4df1a9=_0x53b942[_0xf5e08e(0x517)];let _0x589a2f=_0x495cd2[_0xf5e08e(0x2f7)]['realVariables'],_0x45b8b1=this[_0xf5e08e(0x6cb)](_0x4df1a9);return Object['assign'](_0x589a2f,_0x45b8b1),_0x495cd2[_0xf5e08e(0x2f7)][_0xf5e08e(0x2a4)]=_0x589a2f,_0x53ef95={'error':!0x1,'apiResponse':_0x4df1a9},this[_0xf5e08e(0x7d4)](_0x495cd2,_0x1870d4,_0x53ef95),_0x4df1a9;}if(_0x334d3b&&(_0x334d3b[_0xf5e08e(0x5a5)](_0xf5e08e(0x3cf))||_0x334d3b[_0xf5e08e(0x5a5)](_0xf5e08e(0x2b9))||_0x334d3b[_0xf5e08e(0x5a5)](_0xf5e08e(0x7a6))||_0x334d3b[_0xf5e08e(0x5a5)](_0xf5e08e(0x6ca)))){this[_0xf5e08e(0x69f)][_0xf5e08e(0x776)](this['instanceName']+'\x20('+this[_0xf5e08e(0x60b)][_0xf5e08e(0x3e2)]+_0xf5e08e(0x4d2)+_0x334d3b);let _0x4ceb01=(0x0,Y['v4'])(),_0x36cf5d='',_0x4803e9={'image/jpeg':_0xf5e08e(0x4b3),'image/png':_0xf5e08e(0x1d2),'image/gif':_0xf5e08e(0x3f1),'image/webp':_0xf5e08e(0x215),'image/svg+xml':_0xf5e08e(0x780),'audio/mpeg':_0xf5e08e(0x1bb),'audio/ogg':_0xf5e08e(0x88f),'audio/wav':_0xf5e08e(0x394),'video/mp4':_0xf5e08e(0x43b),'video/webm':'.webm','video/ogg':'.ogv','text/plain':'.txt','application/pdf':'.pdf','application/msword':_0xf5e08e(0x5cf),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0xf5e08e(0x583),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0xf5e08e(0x7ce),'application/vnd.ms-powerpoint':_0xf5e08e(0x879),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0xf5e08e(0x2ca)};_0x4803e9[_0x334d3b]?(_0x36cf5d=_0x4803e9[_0x334d3b],this[_0xf5e08e(0x69f)][_0xf5e08e(0x776)](this[_0xf5e08e(0x2e9)]+'\x20('+this[_0xf5e08e(0x60b)][_0xf5e08e(0x3e2)]+_0xf5e08e(0x77c)+_0x36cf5d)):(_0x36cf5d=_0xf5e08e(0x6bd),this[_0xf5e08e(0x69f)][_0xf5e08e(0x776)](this['instanceName']+'\x20('+this['instance'][_0xf5e08e(0x3e2)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x36cf5d)),_0x4ceb01+=_0x36cf5d,this[_0xf5e08e(0x69f)][_0xf5e08e(0x776)](this[_0xf5e08e(0x2e9)]+'\x20('+this[_0xf5e08e(0x60b)][_0xf5e08e(0x3e2)]+_0xf5e08e(0x3af)+_0x4ceb01);let _0x2da7d8=this[_0xf5e08e(0x6e6)]['get']('SERVER')[_0xf5e08e(0x448)];if(!_0x2da7d8){let _0x89e7b6=this[_0xf5e08e(0x6e6)][_0xf5e08e(0x234)](_0xf5e08e(0x38f));_0x2da7d8=_0xf5e08e(0x659)+(_0x89e7b6&&_0x89e7b6[_0xf5e08e(0x632)][_0xf5e08e(0x8f1)]('/')[0x4]);}let _0x315f73=Buffer[_0xf5e08e(0x818)](_0x53b942[_0xf5e08e(0x517)]);await this[_0xf5e08e(0x7aa)](_0x315f73,_0x4ceb01);let _0x156669=_0xf5e08e(0x7d1)+_0x4ceb01;_0x156669=''+_0x2da7d8+_0x156669,_0x4df1a9={'fileUrl':_0x156669},_0x495cd2[_0xf5e08e(0x2f7)][_0xf5e08e(0x2a4)][_0xf5e08e(0x193)]=_0x156669;let _0x2f54e9=_0x495cd2[_0xf5e08e(0x2f7)][_0xf5e08e(0x2a4)],_0x256e2e=this[_0xf5e08e(0x6cb)](_0x4df1a9);return Object[_0xf5e08e(0x52b)](_0x2f54e9,_0x256e2e),_0x495cd2['chatLog']['realVariables']=_0x2f54e9,_0x53ef95={'error':!0x1,'apiResponse':{'fileUrl':_0x156669}},this['updateConversation'](_0x495cd2,_0x1870d4,_0x53ef95),_0x4df1a9;}}catch(_0x5d3542){this[_0xf5e08e(0x69f)][_0xf5e08e(0x84d)](_0xf5e08e(0x67d)+_0x5d3542[_0xf5e08e(0x272)]),_0x5d3542[_0xf5e08e(0x319)]&&(_0x4df1a9=_0x5d3542[_0xf5e08e(0x319)][_0xf5e08e(0x517)]);let _0x92de31=_0x495cd2['chatLog'][_0xf5e08e(0x2a4)],_0x13ca73=this[_0xf5e08e(0x6cb)](_0x4df1a9);return Object['assign'](_0x92de31,_0x13ca73),_0x495cd2['chatLog'][_0xf5e08e(0x2a4)]=_0x92de31,_0x53ef95={'error':!0x0,'errorLog':_0x5d3542[_0xf5e08e(0x6e2)](),'apiResponse':_0x4df1a9},this['updateConversation'](_0x495cd2,_0x1870d4,_0x53ef95),{'success':!0x1};}}['applyvaredit'](_0xad2d50,_0x123ce0){const _0x3455f6=a0_0x1b7b78;let _0x1eb842=_0x28e162=>{const _0x4be9f8=a0_0x4b9f;let _0x37e755=_0x28e162[_0x4be9f8(0x465)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x15f93a=parseFloat(_0x37e755);return isNaN(_0x15f93a)?null:_0x15f93a;},_0x11a4e9=_0x123ce0[_0x3455f6(0x584)],_0x1138d7=_0x123ce0[_0x3455f6(0x498)];typeof _0x11a4e9==_0x3455f6(0x8d3)&&(_0x11a4e9=this[_0x3455f6(0x7e7)](_0x11a4e9,_0xad2d50[_0x3455f6(0x2f7)][_0x3455f6(0x2a4)])??''),typeof _0x1138d7==_0x3455f6(0x8d3)&&(_0x1138d7=this[_0x3455f6(0x7e7)](_0x1138d7,_0xad2d50['chatLog'][_0x3455f6(0x2a4)])??'');let _0x2d0a9b=null;if(!_0x123ce0[_0x3455f6(0x8e7)])return null;switch(this[_0x3455f6(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0x3455f6(0x60b)][_0x3455f6(0x3e2)]+_0x3455f6(0x2fa)+_0x11a4e9),this[_0x3455f6(0x69f)]['verbose'](this[_0x3455f6(0x2e9)]+'\x20('+this['instance']['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x1138d7),_0x123ce0[_0x3455f6(0x8e7)]){case'+':case'-':case'*':case'/':let _0x181963=_0x1eb842(_0x11a4e9||'0'),_0x32dd0c=_0x1eb842(_0x1138d7||'0');if(_0x181963===null)return null;switch(_0x123ce0[_0x3455f6(0x8e7)]){case'+':_0x2d0a9b=_0x181963+(_0x32dd0c??0x0);break;case'-':_0x2d0a9b=_0x181963-(_0x32dd0c??0x0);break;case'*':_0x2d0a9b=_0x181963*(_0x32dd0c??0x1);break;case'/':_0x32dd0c!==0x0&&(_0x2d0a9b=_0x181963/(_0x32dd0c??0x1));break;}break;case _0x3455f6(0x332):case _0x3455f6(0x784):let _0x2c2829=_0x1138d7,_0x5381ff=_0x123ce0['replaceValue'];if(typeof _0x5381ff==_0x3455f6(0x8d3)&&(_0x5381ff=this[_0x3455f6(0x7e7)](_0x5381ff,_0xad2d50[_0x3455f6(0x2f7)][_0x3455f6(0x2a4)])??''),_0x2c2829&&_0x5381ff!==void 0x0){let _0x71b78d=_0x123ce0[_0x3455f6(0x8e7)]===_0x3455f6(0x332)?new RegExp(_0x2c2829[_0x3455f6(0x465)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3455f6(0x727)),'g'):new RegExp(_0x2c2829,'g');_0x2d0a9b=_0x11a4e9[_0x3455f6(0x465)](_0x71b78d,_0x5381ff);}else console[_0x3455f6(0x31e)](_0x3455f6(0x2ed));break;case _0x3455f6(0x72d):_0x2d0a9b=_0x1138d7;break;case _0x3455f6(0x25f):let _0x5437eb=_0x11a4e9[_0x3455f6(0x65b)](new RegExp(_0x1138d7||''));_0x2d0a9b=_0x5437eb?_0x5437eb[0x0]:'';break;case'truncatedto':_0x2d0a9b=_0x11a4e9[_0x3455f6(0x1e2)](0x0,parseInt(_0x1138d7||'0'));break;case _0x3455f6(0x806):let _0x214d04=parseInt(_0x1138d7||'0');_0x2d0a9b=_0x11a4e9[_0x3455f6(0x1e2)](_0x11a4e9[_0x3455f6(0x245)]-_0x214d04);break;case'toBrazilianNumberFormat':let _0x2ad965=_0x1eb842(_0x11a4e9),_0xebab1e=parseInt(_0x1138d7||'0');_0xebab1e=Math[_0x3455f6(0x28b)](_0xebab1e),_0x2ad965!==null?_0x2d0a9b=_0x2ad965[_0x3455f6(0x70f)](_0x3455f6(0x2c8),{'minimumFractionDigits':_0xebab1e,'maximumFractionDigits':_0xebab1e}):(console[_0x3455f6(0x31e)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x11a4e9),_0x2d0a9b=null);break;case _0x3455f6(0x670):let _0x7c3f4f=_0x1eb842(_0x11a4e9);_0x7c3f4f!==null?_0x2d0a9b=_0x7c3f4f[_0x3455f6(0x70f)](_0x3455f6(0x2c8),{'style':'currency','currency':_0x3455f6(0x7fa)}):(console['warn'](_0x3455f6(0x3ae)+_0x11a4e9),_0x2d0a9b=null);break;case _0x3455f6(0x805):_0x2d0a9b=_0x11a4e9['toUpperCase']();break;case'lowerCase':_0x2d0a9b=_0x11a4e9[_0x3455f6(0x681)]();break;case _0x3455f6(0x74b):_0x2d0a9b=_0x11a4e9[_0x3455f6(0x8f1)]('\x20')[_0x3455f6(0x686)](_0x40d443=>_0x40d443[_0x3455f6(0x701)](0x0)[_0x3455f6(0x265)]()+_0x40d443[_0x3455f6(0x1e2)](0x1)[_0x3455f6(0x681)]())[_0x3455f6(0x44f)]('\x20');break;case _0x3455f6(0x7a8):_0x2d0a9b=JSON['stringify'](_0x11a4e9);break;case _0x3455f6(0x208):_0x2d0a9b=_0x11a4e9['trim']();break;default:_0x2d0a9b=_0x11a4e9;}return _0x2d0a9b!==null?_0x2d0a9b[_0x3455f6(0x6e2)]():null;}async['processvaredits'](_0x3b574d,_0x48e259){const _0x57d8fe=a0_0x1b7b78;try{let _0x5e1504=_0x3b574d[_0x57d8fe(0x229)]?.['filter'](_0x3e977b=>_0x3e977b[_0x57d8fe(0x39b)]===_0x48e259[_0x57d8fe(0x49d)]?.[_0x57d8fe(0x6e2)]())||[],_0x42c505=_0x48e259[_0x57d8fe(0x756)],_0x47edc7=null,_0x2dc632=[],_0x3af56f=_0x3b574d['chatLog'][_0x57d8fe(0x2a4)][_0x42c505];_0x2dc632[_0x57d8fe(0x184)](_0x57d8fe(0x792)+_0x3af56f+'\x22');for(let _0x23f16b of _0x5e1504){_0x23f16b['firstValue']=_0x3af56f,_0x47edc7=_0x23f16b['firstValue'];let _0x196f7f;try{_0x196f7f=this[_0x57d8fe(0x64d)](_0x3b574d,_0x23f16b);}catch(_0x193b98){this[_0x57d8fe(0x69f)][_0x57d8fe(0x84d)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x193b98['message']);continue;}if(_0x196f7f!==null){let _0x428390=_0x57d8fe(0x2b3)+_0x23f16b[_0x57d8fe(0x8e7)]+'\x22',_0x26c473=[_0x57d8fe(0x670),_0x57d8fe(0x805),_0x57d8fe(0x657),_0x57d8fe(0x74b),_0x57d8fe(0x208)];_0x23f16b[_0x57d8fe(0x8e7)]===_0x57d8fe(0x332)||_0x23f16b[_0x57d8fe(0x8e7)]==='findAndReplaceRegex'?_0x428390+=_0x57d8fe(0x26f)+_0x23f16b['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x23f16b[_0x57d8fe(0x324)]+'\x22':!_0x26c473[_0x57d8fe(0x5a5)](_0x23f16b[_0x57d8fe(0x8e7)])&&_0x23f16b[_0x57d8fe(0x498)]!==null&&_0x23f16b[_0x57d8fe(0x498)]!==void 0x0&&(_0x428390+=_0x57d8fe(0x6ff)+_0x23f16b[_0x57d8fe(0x498)]+'\x22'),_0x428390+=_0x57d8fe(0x39e)+_0x196f7f+'.',_0x2dc632[_0x57d8fe(0x184)](_0x428390);}_0x196f7f!==null&&(_0x3af56f=_0x196f7f);}if(_0x3b574d[_0x57d8fe(0x2f7)][_0x57d8fe(0x2a4)]&&_0x48e259[_0x57d8fe(0x756)]){_0x3b574d[_0x57d8fe(0x2f7)]['realVariables'][_0x48e259[_0x57d8fe(0x756)]]=_0x3af56f;let _0x3aa962={'variable':_0x48e259[_0x57d8fe(0x756)],'oldValue':_0x47edc7,'newValue':_0x3af56f,'moreLogs':_0x2dc632};try{this[_0x57d8fe(0x7d4)](_0x3b574d,_0x48e259,_0x3aa962);}catch(_0x3ec284){this[_0x57d8fe(0x69f)][_0x57d8fe(0x84d)](_0x57d8fe(0x17a)+_0x3ec284[_0x57d8fe(0x272)]);}}return _0x42c505;}catch(_0x40db85){return this[_0x57d8fe(0x69f)][_0x57d8fe(0x84d)](_0x57d8fe(0x64e)+_0x40db85['message']),null;}}async[a0_0x1b7b78(0x2fd)](_0x38ed21,_0x5f45d9){const _0x3209da=a0_0x1b7b78;try{let _0xc39ead=[],_0x367fd8=_0x38ed21['conditions'][_0x3209da(0x194)](_0x2989e0=>_0x2989e0[_0x3209da(0x39b)]===_0x5f45d9[_0x3209da(0x49d)]['toString']()),_0x5d864e=null,_0x1e70c5=!0x1;for(let _0x24506b of _0x367fd8){let _0x4c839d=this[_0x3209da(0x47d)](_0x38ed21,_0x24506b);_0xc39ead[_0x3209da(0x184)]('Primeiro\x20Valor:\x20'+_0x24506b['firstValue']+_0x3209da(0x2e2)+_0x24506b[_0x3209da(0x5e6)]+_0x3209da(0x340)+_0x24506b[_0x3209da(0x498)]+_0x3209da(0x4f3)+_0x4c839d),_0x5d864e===null?_0x5d864e=_0x4c839d:_0x24506b[_0x3209da(0x639)]===_0x3209da(0x26c)?(_0x5d864e=_0x5d864e&&_0x4c839d,_0x4c839d||(_0x1e70c5=!0x0)):_0x24506b[_0x3209da(0x639)]==='or'&&(_0x1e70c5||(_0x5d864e=_0x5d864e||_0x4c839d));}_0x5d864e===null&&(_0x5d864e=!0x0);let _0x2ba096={'moreLogs':_0xc39ead};_0x38ed21[_0x3209da(0x2f7)][_0x3209da(0x78c)]=_0x5d864e,await this[_0x3209da(0x7d4)](_0x38ed21,_0x5f45d9,_0x2ba096);}catch(_0xd88523){this['logger'][_0x3209da(0x84d)](this[_0x3209da(0x2e9)]+'\x20('+this[_0x3209da(0x60b)][_0x3209da(0x3e2)]+_0x3209da(0x3d1)+(_0xd88523 instanceof Error?_0xd88523[_0x3209da(0x272)]:JSON[_0x3209da(0x5b9)](_0xd88523,null,0x2)));}}[a0_0x1b7b78(0x47d)](_0x3014e1,_0x5cae36){const _0x2c8ceb=a0_0x1b7b78;let _0x229b57=_0x5cae36[_0x2c8ceb(0x584)],_0x6696b9=_0x5cae36[_0x2c8ceb(0x498)];typeof _0x229b57==_0x2c8ceb(0x8d3)&&(_0x229b57=this[_0x2c8ceb(0x7e7)](_0x229b57,_0x3014e1[_0x2c8ceb(0x2f7)][_0x2c8ceb(0x2a4)])??''),typeof _0x6696b9==_0x2c8ceb(0x8d3)&&(_0x6696b9=this[_0x2c8ceb(0x7e7)](_0x6696b9,_0x3014e1[_0x2c8ceb(0x2f7)][_0x2c8ceb(0x2a4)])??'');try{switch(_0x5cae36['expression']){case _0x2c8ceb(0x434):return _0x229b57===_0x6696b9;case _0x2c8ceb(0x759):return _0x229b57!==_0x6696b9;case _0x2c8ceb(0x390):return this[_0x2c8ceb(0x390)](_0x229b57,_0x6696b9);case'notContains':return!this[_0x2c8ceb(0x390)](_0x229b57,_0x6696b9);case'greater':return parseFloat(_0x229b57)>parseFloat(_0x6696b9);case _0x2c8ceb(0x6ac):return parseFloat(_0x229b57)<parseFloat(_0x6696b9);case'notEmpty':return _0x229b57!=='';case _0x2c8ceb(0x481):return _0x229b57==='';case'matchRegex':return new RegExp(_0x6696b9)['test'](_0x229b57);case _0x2c8ceb(0x385):return!new RegExp(_0x6696b9)[_0x2c8ceb(0x602)](_0x229b57);default:return!0x1;}}catch(_0x522842){return this[_0x2c8ceb(0x69f)][_0x2c8ceb(0x84d)](_0x2c8ceb(0x844)+_0x522842),!0x1;}}[a0_0x1b7b78(0x390)](_0x5a7d3d,_0x2cb134){const _0x53e2b1=a0_0x1b7b78;if(_0x5a7d3d===_0x2cb134&&/^\d+$/[_0x53e2b1(0x602)](_0x5a7d3d))return!0x0;if(this['isListOfNumbers'](_0x5a7d3d)&&/^\d+$/[_0x53e2b1(0x602)](_0x2cb134)){let _0xa915cb=_0x5a7d3d['split'](',')['map'](_0x31b20c=>parseInt(_0x31b20c[_0x53e2b1(0x1da)]())),_0x553a97=parseInt(_0x2cb134);return _0xa915cb[_0x53e2b1(0x5a5)](_0x553a97);}return _0x5a7d3d['includes'](_0x2cb134);}['isListOfNumbers'](_0x576b47){return/^\d+(,\d+)*$/['test'](_0x576b47);}['processConditionsTest'](_0x5e9557){const _0x54fb8c=a0_0x1b7b78;let _0x49c503=!0x0,_0x5d6d1a=null;for(let _0x12dc73 of _0x5e9557){let _0x3b00b4=this[_0x54fb8c(0x83d)](_0x12dc73);if(_0x5d6d1a==='or'&&_0x3b00b4){_0x49c503=!0x0;break;}if(_0x5d6d1a===_0x54fb8c(0x26c)&&!_0x3b00b4){_0x49c503=!0x1;break;}_0x5d6d1a=_0x12dc73['OrAnd'];}return _0x49c503;}['evaluateConditionTest'](_0x8276fc){const _0x2722fa=a0_0x1b7b78;let _0x4d9a51=_0x8276fc[_0x2722fa(0x584)],_0x236a80=_0x8276fc[_0x2722fa(0x498)];try{switch(_0x8276fc['expression']){case _0x2722fa(0x434):return String(_0x4d9a51)===String(_0x236a80);case _0x2722fa(0x759):return String(_0x4d9a51)!==String(_0x236a80);case'contains':return String(_0x4d9a51)[_0x2722fa(0x5a5)](String(_0x236a80));case'notContains':return!String(_0x4d9a51)[_0x2722fa(0x5a5)](String(_0x236a80));case _0x2722fa(0x349):return parseFloat(String(_0x4d9a51))>parseFloat(String(_0x236a80));case _0x2722fa(0x6ac):return parseFloat(String(_0x4d9a51))<parseFloat(String(_0x236a80));case _0x2722fa(0x4dd):return String(_0x4d9a51)!=='';case _0x2722fa(0x481):return String(_0x4d9a51)==='';case _0x2722fa(0x3c0):return new RegExp(String(_0x236a80))[_0x2722fa(0x602)](String(_0x4d9a51));case'notMatchRegex':return!new RegExp(String(_0x236a80))[_0x2722fa(0x602)](String(_0x4d9a51));default:return!0x1;}}catch(_0x4299e0){return this[_0x2722fa(0x69f)][_0x2722fa(0x84d)](_0x2722fa(0x844)+_0x4299e0),!0x1;}}async[a0_0x1b7b78(0x1e7)](_0x9dd962,_0x400842){const _0x2402e7=a0_0x1b7b78;if(this[_0x2402e7(0x69f)][_0x2402e7(0x776)](this['instanceName']+'\x20('+this[_0x2402e7(0x60b)][_0x2402e7(0x3e2)]+_0x2402e7(0x5f9)),!_0x9dd962||!_0x400842)return this['logger'][_0x2402e7(0x84d)](this[_0x2402e7(0x2e9)]+'\x20('+this['instance'][_0x2402e7(0x3e2)]+_0x2402e7(0x4a0)),null;let _0x40b055=_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x88b)][_0x2402e7(0x482)]['id'];this[_0x2402e7(0x69f)][_0x2402e7(0x776)](this[_0x2402e7(0x2e9)]+'\x20('+this[_0x2402e7(0x60b)][_0x2402e7(0x3e2)]+_0x2402e7(0x888)+_0x40b055);let _0x264f43={'key':{'id':_0x40b055}},_0x31a64f=_0x400842['saveVariable'];_0x9dd962[_0x2402e7(0x2f7)]['realVariables']['_'+_0x31a64f+_0x2402e7(0x5ab)]=null,_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x2a4)]['_'+_0x31a64f+_0x2402e7(0x33c)]=null,_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x2a4)]['_'+_0x31a64f+_0x2402e7(0x6e4)]=null,_0x9dd962['chatLog'][_0x2402e7(0x2a4)]['_'+_0x31a64f+_0x2402e7(0x6a7)]=_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x88b)][_0x2402e7(0x4ae)];try{let _0xe460ec=await this['getBase64FromMediaMessage'](_0x264f43);this[_0x2402e7(0x69f)]['verbose'](this[_0x2402e7(0x2e9)]+'\x20('+this['instance']['wuid']+_0x2402e7(0x8dd)),_0x9dd962['chatLog'][_0x2402e7(0x2a4)]['_'+_0x31a64f+_0x2402e7(0x1b6)]=_0xe460ec[_0x2402e7(0x193)],_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x2a4)]['_'+_0x31a64f+_0x2402e7(0x33c)]=_0xe460ec[_0x2402e7(0x628)];let _0xda0e2c=_0xe460ec['mimetype']['match'](/\/(\w+)$/),_0x2e2c33=_0xda0e2c?_0xda0e2c[0x1]:null;_0x9dd962[_0x2402e7(0x2f7)]['realVariables']['_'+_0x31a64f+_0x2402e7(0x6e4)]=_0x2e2c33,this[_0x2402e7(0x69f)][_0x2402e7(0x776)](this['instanceName']+'\x20('+this[_0x2402e7(0x60b)][_0x2402e7(0x3e2)]+_0x2402e7(0x199)+_0x31a64f+'\x27.');}catch(_0x388d77){this[_0x2402e7(0x69f)]['error'](this[_0x2402e7(0x2e9)]+'\x20('+this['instance'][_0x2402e7(0x3e2)]+_0x2402e7(0x889)+_0x388d77['message']);}let _0x48df58=_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x88b)][_0x2402e7(0x51e)]||_0x9dd962['chatLog'][_0x2402e7(0x88b)][_0x2402e7(0x428)]||_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x88b)][_0x2402e7(0x749)];try{_0x9dd962[_0x2402e7(0x2f7)]['realVariables']||(_0x9dd962['chatLog'][_0x2402e7(0x2a4)]={});let _0x11c0d4=_0x9dd962['chatLog']['realVariables'][_0x31a64f];_0x9dd962[_0x2402e7(0x2f7)][_0x2402e7(0x2a4)][_0x31a64f]=_0x48df58;let _0xa4640a={'variable':_0x31a64f,'oldValue':_0x11c0d4,'newValue':_0x48df58};this['updateConversation'](_0x9dd962,_0x400842,_0xa4640a),this[_0x2402e7(0x69f)]['verbose'](this[_0x2402e7(0x2e9)]+'\x20('+this[_0x2402e7(0x60b)][_0x2402e7(0x3e2)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x17f4a9){let _0x105335={'error':!0x0,'errorLog':_0x17f4a9[_0x2402e7(0x6e2)]()};return this[_0x2402e7(0x7d4)](_0x9dd962,_0x400842,_0x105335),this[_0x2402e7(0x69f)][_0x2402e7(0x84d)](this[_0x2402e7(0x2e9)]+'\x20('+this[_0x2402e7(0x60b)][_0x2402e7(0x3e2)]+_0x2402e7(0x3b8)+(_0x17f4a9 instanceof Error?_0x17f4a9['message']:JSON[_0x2402e7(0x5b9)](_0x17f4a9,null,0x2))),null;}}async[a0_0x1b7b78(0x58b)](_0x1a2afa,_0x49f922){const _0x500f4d=a0_0x1b7b78;if(this[_0x500f4d(0x69f)][_0x500f4d(0x776)](this['instanceName']+'\x20('+this[_0x500f4d(0x60b)][_0x500f4d(0x3e2)]+_0x500f4d(0x507)),!_0x1a2afa||!_0x49f922)return this[_0x500f4d(0x69f)][_0x500f4d(0x84d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x500f4d(0x4a0)),null;let _0x1bab0e=Date[_0x500f4d(0x8d0)](),_0x57bf77=parseInt(_0x49f922[_0x500f4d(0x76c)],0xa);if(isNaN(_0x57bf77))return this['logger'][_0x500f4d(0x84d)](this['instanceName']+'\x20('+this['instance'][_0x500f4d(0x3e2)]+_0x500f4d(0x7fe)),null;let _0x3b71d8={'newStoppedUntil':_0x1bab0e+_0x57bf77*0x3c*0x3e8};return await this['updateConversation'](_0x1a2afa,_0x49f922,_0x3b71d8,!0x0),null;}async[a0_0x1b7b78(0x770)](_0x29e994,_0x163074){const _0x123bd4=a0_0x1b7b78;try{switch(_0x163074[_0x123bd4(0x793)][_0x123bd4(0x2ec)]){case _0x123bd4(0x600):await this[_0x123bd4(0x851)](_0x29e994,_0x163074);break;case _0x123bd4(0x642):await this[_0x123bd4(0x64f)](_0x29e994,_0x163074);break;case _0x123bd4(0x422):await this[_0x123bd4(0x40a)](_0x29e994,_0x163074);break;case'sendAudio':await this[_0x123bd4(0x355)](_0x29e994,_0x163074);break;case'sendContact':await this[_0x123bd4(0x3fe)](_0x29e994,_0x163074);break;case'sendPoll':await this['uazapiSendMenu'](_0x29e994,_0x163074);break;case _0x123bd4(0x3e0):await this[_0x123bd4(0x588)](_0x29e994,_0x163074);break;case _0x123bd4(0x420):await this['uazapiDeleteMessage'](_0x29e994,_0x163074);break;default:this[_0x123bd4(0x69f)][_0x123bd4(0x84d)](this[_0x123bd4(0x2e9)]+'\x20('+this[_0x123bd4(0x60b)][_0x123bd4(0x3e2)]+_0x123bd4(0x742)+_0x163074[_0x123bd4(0x793)][_0x123bd4(0x2ec)]);}}catch(_0x31f8d2){this['logger'][_0x123bd4(0x84d)](this['instanceName']+'\x20('+this[_0x123bd4(0x60b)]['wuid']+_0x123bd4(0x3b3)+(_0x31f8d2 instanceof Error?_0x31f8d2[_0x123bd4(0x272)]:JSON[_0x123bd4(0x5b9)](_0x31f8d2,null,0x2)));}}async[a0_0x1b7b78(0x7d4)](_0x86cd80,_0x374370,_0x293ece,_0xd4cf65=!0x1,_0x287406=!0x1){const _0x20a1c8=a0_0x1b7b78;_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x399)]||(_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x399)]=[]);let _0x1f9bb1=(_0x86cd80['chatLog']['blockLogs']?.[_0x20a1c8(0x245)]??0x0)+0x1,_0x3c7439=_0x86cd80[_0x20a1c8(0x2f7)]['blockLogs'][_0x20a1c8(0x194)](_0x62d2f3=>String(_0x62d2f3[_0x20a1c8(0x39b)])===String(_0x374370['_id']))[_0x20a1c8(0x245)]+0x1,_0x46bd59=_0x293ece?.[_0x20a1c8(0x634)]??Date[_0x20a1c8(0x8d0)](),_0x5e3258=_0x293ece?.[_0x20a1c8(0x84d)]?_0x293ece[_0x20a1c8(0x45f)]??_0x293ece['error'][_0x20a1c8(0x6e2)]():void 0x0,_0x2fb084={'onTime':_0x46bd59,'blockId':_0x374370[_0x20a1c8(0x49d)],'order':_0x1f9bb1,'activatedCount':_0x3c7439,'error':_0x293ece?.[_0x20a1c8(0x84d)]??!0x1,'messageId':_0x293ece?.[_0x20a1c8(0x867)],'apiResponse':_0x293ece?.[_0x20a1c8(0x375)],'apiResponseString':_0x293ece?.['apiResponse']?JSON['stringify'](_0x293ece?.['apiResponse']):void 0x0,'variable':_0x293ece?.[_0x20a1c8(0x528)],'oldValue':_0x293ece?.[_0x20a1c8(0x274)],'newValue':_0x293ece?.[_0x20a1c8(0x4f9)],'newStoppedUntil':_0x293ece?.[_0x20a1c8(0x58e)],'moreLogs':_0x293ece?.['moreLogs'],'errorLog':_0x5e3258};if(_0x293ece[_0x20a1c8(0x2fb)]&&_0x293ece[_0x20a1c8(0x2fb)]['length']>0x0){let _0x3d3c88=_0x293ece['moreLogs']['map'](_0x579801=>this[_0x20a1c8(0x587)](_0x579801,_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x2a4)]));_0x2fb084[_0x20a1c8(0x2fb)]=_0x3d3c88;}if(_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x2a4)]||(_0x86cd80['chatLog'][_0x20a1c8(0x2a4)]={}),_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x2a4)]['_activatedCount']=String(_0x3c7439),_0x86cd80['chatLog']['realVariables']['_error']=String(_0x293ece[_0x20a1c8(0x84d)]??!0x1),_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x399)]['push'](_0x2fb084),_0x86cd80[_0x20a1c8(0x2f7)]['realVariables']['telefone']&&_0x86cd80[_0x20a1c8(0x2f7)]['realVariables']['telefone']!==_0x86cd80[_0x20a1c8(0x745)]){let _0x71cece=(await this[_0x20a1c8(0x32b)]({'numbers':[_0x86cd80['chatLog']['realVariables'][_0x20a1c8(0x364)]]}))[0x0]['jid'];_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x2a4)]['telefone']=_0x71cece,_0x86cd80['remoteJid']=_0x71cece;try{let _0x4d028b={'_id':{'$ne':_0x86cd80[_0x20a1c8(0x49d)]},'remoteJid':_0x71cece,'status':'open'},_0x256506={'status':_0x20a1c8(0x71d)};await this[_0x20a1c8(0x8f0)]['flowConversation'][_0x20a1c8(0x3a3)](_0x4d028b,_0x256506,this['instance'][_0x20a1c8(0x3e2)]),this[_0x20a1c8(0x69f)][_0x20a1c8(0x776)](this['instanceName']+'\x20('+this[_0x20a1c8(0x60b)][_0x20a1c8(0x3e2)]+_0x20a1c8(0x667));}catch(_0x543f53){this[_0x20a1c8(0x69f)][_0x20a1c8(0x84d)](this[_0x20a1c8(0x2e9)]+'\x20('+this[_0x20a1c8(0x60b)][_0x20a1c8(0x3e2)]+_0x20a1c8(0x1de)+_0x543f53[_0x20a1c8(0x272)]);}try{let _0x164b7a=_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x2a4)],_0x573ccf=await this[_0x20a1c8(0x2f3)](_0x71cece),_0x3a0bf3={..._0x164b7a,..._0x573ccf,'_remoteJid':_0x71cece};_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x2a4)]=_0x3a0bf3;}catch(_0x545a6b){this[_0x20a1c8(0x69f)][_0x20a1c8(0x84d)](this['instanceName']+'\x20('+this[_0x20a1c8(0x60b)]['wuid']+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x545a6b[_0x20a1c8(0x272)]);}}_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x40f)]=_0x374370['_id'][_0x20a1c8(0x6e2)](),_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x8ee)]&&(_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x8ee)]=_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x8ee)]),_0x86cd80['chatLog']['lastReceivedMessage']&&(_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x88b)]=_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x88b)]),_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x78c)]&&(_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x78c)]=_0x86cd80[_0x20a1c8(0x2f7)][_0x20a1c8(0x78c)]),_0x287406&&(_0x86cd80[_0x20a1c8(0x18a)]=_0x20a1c8(0x71d)),_0xd4cf65?this['saveConversationToDatabase'](_0x86cd80):this[_0x20a1c8(0x284)](_0x86cd80,_0x374370);}[a0_0x1b7b78(0x587)](_0x28f5c0,_0x1fcc56){const _0x51a5fd=a0_0x1b7b78;return _0x28f5c0[_0x51a5fd(0x465)](/\{\{([^}]+)\}\}/g,(_0xe29430,_0x205df0)=>_0x1fcc56[_0x205df0]?'{{'+_0x205df0+_0x51a5fd(0x386)+_0x1fcc56[_0x205df0]+'\x22':'{{'+_0x205df0+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x1b7b78(0x34e)](_0x4c9b3f){const _0x29c231=a0_0x1b7b78;try{let _0x42e169=Object[_0x29c231(0x47f)](_0x4c9b3f[_0x29c231(0x2f7)]['realVariables'])['map'](([_0x30f490,_0x5ca730])=>({'name':_0x30f490,'value':_0x5ca730})),_0x31aafe={'status':_0x4c9b3f[_0x29c231(0x18a)],'remoteJid':_0x4c9b3f[_0x29c231(0x745)],'blocks':_0x4c9b3f[_0x29c231(0x85c)],'waitingMenu_id':_0x4c9b3f[_0x29c231(0x4c6)],'waitingMenu_text':_0x4c9b3f[_0x29c231(0x80d)],'waitingMenu_replyOptions':_0x4c9b3f[_0x29c231(0x7c9)],'chatLog':{'lastBlockId':_0x4c9b3f[_0x29c231(0x2f7)][_0x29c231(0x40f)],'lastSendMessage':_0x4c9b3f['chatLog'][_0x29c231(0x8ee)],'lastReceivedMessage':_0x4c9b3f[_0x29c231(0x2f7)][_0x29c231(0x88b)],'lastCondition':_0x4c9b3f[_0x29c231(0x2f7)][_0x29c231(0x78c)],'chatVariables':_0x42e169,'realVariables':_0x4c9b3f[_0x29c231(0x2f7)][_0x29c231(0x2a4)],'blockLogs':_0x4c9b3f['chatLog'][_0x29c231(0x399)]}},_0x297bcd=await this[_0x29c231(0x8f0)]['flowConversation']['updateOne'](_0x4c9b3f[_0x29c231(0x49d)],_0x31aafe,this['instance'][_0x29c231(0x3e2)]);if(_0x297bcd){this[_0x29c231(0x69f)]['verbose'](this[_0x29c231(0x2e9)]+'\x20('+this[_0x29c231(0x60b)][_0x29c231(0x3e2)]+_0x29c231(0x1d7)+_0x297bcd['_id']);try{let _0x1c9062=['nome',_0x29c231(0x5bb),_0x29c231(0x3ea),_0x29c231(0x3eb),_0x29c231(0x18a),_0x29c231(0x735),_0x29c231(0x3ee),_0x29c231(0x882),_0x29c231(0x188),_0x29c231(0x369)];if(!this['AutomateSystem']&&(await this[_0x29c231(0x17d)](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x24d036=this[_0x29c231(0x767)]?.[_0x29c231(0x5ad)]['map'](_0x55a8b7=>_0x55a8b7[_0x29c231(0x4a9)]),_0x3035dd={};Object[_0x29c231(0x47f)](_0x4c9b3f['chatLog']['realVariables'])[_0x29c231(0x52e)](([_0x274ad3,_0x464825])=>{const _0x4ab5f5=_0x29c231;_0x1c9062['includes'](_0x274ad3)&&(_0x274ad3===_0x4ab5f5(0x882)&&typeof _0x464825==_0x4ab5f5(0x8d3)?_0x3035dd[_0x274ad3]=_0x464825['split'](',')[_0x4ab5f5(0x686)](_0x42a1a8=>_0x42a1a8[_0x4ab5f5(0x1da)]())[_0x4ab5f5(0x194)](_0x169d30=>_0x169d30!==''):_0x274ad3===_0x4ab5f5(0x188)&&typeof _0x464825==_0x4ab5f5(0x8d3)?_0x3035dd[_0x274ad3]=_0x464825[_0x4ab5f5(0x8f1)](',')[_0x4ab5f5(0x686)](_0x161fa1=>_0x161fa1['trim']())[_0x4ab5f5(0x194)](_0x542ff7=>_0x542ff7!==''):_0x3035dd[_0x274ad3]=_0x464825);});let _0x410ede=_0x4c9b3f[_0x29c231(0x2f7)]['blockLogs'][_0x4c9b3f[_0x29c231(0x2f7)]['blockLogs'][_0x29c231(0x245)]-0x1];if(_0x410ede){let _0x35622e=_0x410ede[_0x29c231(0x58e)];_0x35622e!==void 0x0&&(_0x3035dd[_0x29c231(0x891)]=_0x35622e['toString']());}let _0x35198c=_0x42e169[_0x29c231(0x194)](_0x1796c5=>_0x24d036['includes'](_0x1796c5[_0x29c231(0x4a9)]));this[_0x29c231(0x69f)][_0x29c231(0x776)](this['instanceName']+'\x20('+this['instance'][_0x29c231(0x3e2)]+_0x29c231(0x8be)),this['logger']['verbose'](_0x3035dd),this[_0x29c231(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0x29c231(0x60b)][_0x29c231(0x3e2)]+'):\x20customFieldVariables'),this[_0x29c231(0x69f)][_0x29c231(0x776)](_0x35198c);let _0x22b5bc=_0x35198c[_0x29c231(0x686)](_0x19a32b=>{const _0x1bec76=_0x29c231;let _0x30be54=this[_0x1bec76(0x767)]?.[_0x1bec76(0x5ad)][_0x1bec76(0x83c)](_0x4e482e=>_0x4e482e[_0x1bec76(0x4a9)]===_0x19a32b['name']);if(!_0x30be54)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x19a32b[_0x1bec76(0x4a9)]);return{'_id':_0x30be54['_id'],'value':_0x19a32b[_0x1bec76(0x5bf)]};});this[_0x29c231(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0x29c231(0x60b)][_0x29c231(0x3e2)]+'):\x20transformedCustomFieldVariables'),this[_0x29c231(0x69f)][_0x29c231(0x776)](_0x22b5bc),await this[_0x29c231(0x3f4)](_0x4c9b3f['remoteJid'],_0x3035dd,_0x22b5bc);}catch(_0x498a84){this[_0x29c231(0x69f)]['error'](this[_0x29c231(0x2e9)]+'\x20('+this[_0x29c231(0x60b)]['wuid']+_0x29c231(0x661)+(_0x498a84 instanceof Error?_0x498a84[_0x29c231(0x272)]:JSON[_0x29c231(0x5b9)](_0x498a84,null,0x2)));}}else this[_0x29c231(0x69f)][_0x29c231(0x84d)](this[_0x29c231(0x2e9)]+'\x20('+this['instance'][_0x29c231(0x3e2)]+_0x29c231(0x537));}catch(_0x46764d){this['logger'][_0x29c231(0x84d)](this['instanceName']+'\x20('+this['instance'][_0x29c231(0x3e2)]+_0x29c231(0x5d5)+(_0x46764d instanceof Error?_0x46764d[_0x29c231(0x272)]:JSON[_0x29c231(0x5b9)](_0x46764d,null,0x2)));}}async['saveChatVariables'](_0x6f21df,_0x49112f,_0x530ec1){const _0x6470b=a0_0x1b7b78;try{let _0x55790e={'leadInfo.leadnome':_0x49112f['nome'],'leadInfo.nomecompleto':_0x49112f[_0x6470b(0x5bb)],'leadInfo.email':_0x49112f[_0x6470b(0x3ea)],'leadInfo.cpf':_0x49112f[_0x6470b(0x3eb)],'leadInfo.status':_0x49112f[_0x6470b(0x18a)],'leadInfo.notas':_0x49112f[_0x6470b(0x735)],'leadInfo.responsavelid':_0x49112f[_0x6470b(0x3ee)],'leadInfo.tags':_0x49112f[_0x6470b(0x882)],'leadInfo.etiquetas':_0x49112f[_0x6470b(0x188)],'leadInfo.customFields':_0x530ec1,'leadInfo.atendimentoAberto':_0x49112f[_0x6470b(0x369)]},_0x1d240d=await this['repository'][_0x6470b(0x85e)][_0x6470b(0x547)]({'where':{'_id':_0x6f21df}},this['instance'][_0x6470b(0x3e2)]);if(!_0x1d240d)return'chat\x20não\x20encontrado';let _0x4716e7=new Set(_0x1d240d['leadInfo']['etiquetas']||[]),_0x4ba842=new Set(_0x49112f[_0x6470b(0x188)]||[]),_0x3d2b73=await this[_0x6470b(0x8f0)][_0x6470b(0x7a2)][_0x6470b(0x83c)]({'where':{}},this['instance'][_0x6470b(0x3e2)]),_0x34a534=new Set(_0x3d2b73[_0x6470b(0x686)](_0x1c36a6=>_0x1c36a6[_0x6470b(0x49d)])),_0x432493=[..._0x4ba842][_0x6470b(0x194)](_0x3be935=>!_0x4716e7['has'](_0x3be935)&&_0x34a534[_0x6470b(0x84a)](_0x3be935)),_0x1ec9f1=[..._0x4716e7][_0x6470b(0x194)](_0x100d71=>!_0x4ba842[_0x6470b(0x84a)](_0x100d71));for(let _0x2dcfff of _0x432493)await this[_0x6470b(0x7d8)](_0x2dcfff,_0x1d240d[_0x6470b(0x49d)]),_0x4716e7[_0x6470b(0x3bf)](_0x2dcfff);for(let _0x2ef6bd of _0x1ec9f1)await this[_0x6470b(0x6a4)](_0x2ef6bd,_0x1d240d[_0x6470b(0x49d)]),_0x4716e7['delete'](_0x2ef6bd);if(_0x6470b(0x891)in _0x49112f){let _0x426681=_0x49112f[_0x6470b(0x891)];_0x55790e[_0x6470b(0x204)]=_0x426681?Number(_0x426681):null;}if(_0x6470b(0x369)in _0x49112f){let _0x59b4f6=_0x49112f[_0x6470b(0x369)][_0x6470b(0x681)]();_0x55790e[_0x6470b(0x814)]=_0x59b4f6==='true'||_0x59b4f6==='1'||_0x59b4f6===_0x6470b(0x42e)||_0x59b4f6===_0x6470b(0x5a8);}let _0x348c4a=await this[_0x6470b(0x8f0)][_0x6470b(0x85e)]['updateOne']({'where':{'_id':_0x6f21df}},_0x55790e,this[_0x6470b(0x60b)][_0x6470b(0x3e2)]);_0x348c4a?(this[_0x6470b(0x69f)][_0x6470b(0x776)](this[_0x6470b(0x2e9)]+'\x20('+this[_0x6470b(0x60b)][_0x6470b(0x3e2)]+_0x6470b(0x86d)+_0x348c4a['_id']),F(this['instanceName'],_0x6470b(0x6b8),{'chat':_0x348c4a})):this[_0x6470b(0x69f)][_0x6470b(0x84d)](this[_0x6470b(0x2e9)]+'\x20('+this['instance']['wuid']+_0x6470b(0x53d));}catch(_0x29d423){this['logger'][_0x6470b(0x84d)](this['instanceName']+'\x20('+this[_0x6470b(0x60b)][_0x6470b(0x3e2)]+_0x6470b(0x8c0)+(_0x29d423 instanceof Error?_0x29d423[_0x6470b(0x272)]:JSON[_0x6470b(0x5b9)](_0x29d423,null,0x2)));}}async['updateStopChat'](_0x4036e4,_0x11bca7){const _0x32f3dd=a0_0x1b7b78;this['logger'][_0x32f3dd(0x776)](this[_0x32f3dd(0x2e9)]+'\x20('+this['instance'][_0x32f3dd(0x3e2)]+_0x32f3dd(0x6f5)+_0x11bca7);try{let _0x19f6ac=await this[_0x32f3dd(0x8f0)]['chat']['updateOne']({'where':{'_id':_0x4036e4[_0x32f3dd(0x745)]}},{'leadInfo.desativadoFluxoAte':_0x11bca7},this[_0x32f3dd(0x60b)]['wuid']);this['logger'][_0x32f3dd(0x776)](this['instanceName']+'\x20('+this[_0x32f3dd(0x60b)][_0x32f3dd(0x3e2)]+_0x32f3dd(0x60c)+_0x4036e4[_0x32f3dd(0x49d)]),this[_0x32f3dd(0x69f)][_0x32f3dd(0x776)](this[_0x32f3dd(0x2e9)]+'\x20('+this['instance']['wuid']+_0x32f3dd(0x6f5)+JSON[_0x32f3dd(0x5b9)](_0x19f6ac,null,0x2)),_0x19f6ac&&F(this['instanceName'],_0x32f3dd(0x6b8),{'chat':_0x19f6ac});}catch(_0x1b58a4){this[_0x32f3dd(0x69f)][_0x32f3dd(0x84d)](this[_0x32f3dd(0x2e9)]+'\x20('+this[_0x32f3dd(0x60b)][_0x32f3dd(0x3e2)]+_0x32f3dd(0x77b)+(_0x1b58a4 instanceof Error?_0x1b58a4[_0x32f3dd(0x272)]:JSON[_0x32f3dd(0x5b9)](_0x1b58a4,null,0x2)));}}async[a0_0x1b7b78(0x608)](_0x2b048c){const _0x2caa3c=a0_0x1b7b78;try{this[_0x2caa3c(0x69f)][_0x2caa3c(0x776)](this[_0x2caa3c(0x2e9)]+'\x20('+this['instance']['wuid']+_0x2caa3c(0x8dc));let _0x39ccb4=_0x2b048c['replace'](/\D/g,''),_0x42d161=this[_0x2caa3c(0x767)][_0x2caa3c(0x44c)][_0x2caa3c(0x83c)](_0x2f5cf3=>_0x2f5cf3[_0x2caa3c(0x1eb)]===_0x39ccb4);if(_0x42d161||(this['logger'][_0x2caa3c(0x776)](this['instanceName']+'\x20('+this[_0x2caa3c(0x60b)][_0x2caa3c(0x3e2)]+_0x2caa3c(0x579)),_0x42d161=this[_0x2caa3c(0x767)][_0x2caa3c(0x44c)]['find'](_0x45279e=>_0x45279e['default']===!0x0)),!_0x42d161)return this[_0x2caa3c(0x69f)][_0x2caa3c(0x776)](this['instanceName']+'\x20('+this[_0x2caa3c(0x60b)]['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x2ff5e7=await this[_0x2caa3c(0x8f0)][_0x2caa3c(0x2b4)]['findOne']({'where':{'_id':_0x42d161['_id']}});if(!_0x2ff5e7||!_0x2ff5e7[_0x2caa3c(0x725)]?.[_0x2caa3c(0x5a5)](this[_0x2caa3c(0x60b)]['wuid']))throw this['logger'][_0x2caa3c(0x84d)](this[_0x2caa3c(0x2e9)]+'\x20('+this['instance'][_0x2caa3c(0x3e2)]+_0x2caa3c(0x714)+_0x2ff5e7[_0x2caa3c(0x49d)]+_0x2caa3c(0x52a)),new m(_0x2caa3c(0x7c4)+_0x2ff5e7[_0x2caa3c(0x49d)]+_0x2caa3c(0x52a));return _0x2ff5e7;}catch(_0x44dd38){return this['logger'][_0x2caa3c(0x84d)](this[_0x2caa3c(0x2e9)]+'\x20('+this[_0x2caa3c(0x60b)]['wuid']+_0x2caa3c(0x3e9)+(_0x44dd38 instanceof Error?_0x44dd38[_0x2caa3c(0x272)]:JSON[_0x2caa3c(0x5b9)](_0x44dd38,null,0x2))),null;}}async[a0_0x1b7b78(0x750)](_0x3cee8c,_0x36e68e){const _0x5808d9=a0_0x1b7b78;try{let _0x46de3d=!!_0x36e68e[_0x5808d9(0x749)],_0x4d984f=_0x36e68e['quoted'],_0x31901c=null;if(this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this['instanceName']+'\x20('+this['instance'][_0x5808d9(0x3e2)]+_0x5808d9(0x5da)+_0x46de3d+_0x5808d9(0x489)+_0x4d984f),_0x46de3d){this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this[_0x5808d9(0x2e9)]+'\x20('+this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x1ed085={'where':{'remoteJid':_0x3cee8c,'waitingMenu_id':_0x4d984f}};if(_0x31901c=await this[_0x5808d9(0x8f0)][_0x5808d9(0x724)][_0x5808d9(0x547)](_0x1ed085,this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]),!_0x31901c)return this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this[_0x5808d9(0x2e9)]+'\x20('+this['instance']['wuid']+_0x5808d9(0x616)),null;let _0x2eb790=Date[_0x5808d9(0x8d0)](),_0x1cc4d3=_0x31901c?.[_0x5808d9(0x3ce)]||0x0,_0x1ddef5=_0x2eb790-_0x1cc4d3*0x3c*0x3e8;if(_0x31901c[_0x5808d9(0x26b)]<_0x1ddef5){this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this['instanceName']+'\x20('+this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]+_0x5808d9(0x8e8));let _0x3913f3={'number':_0x31901c[_0x5808d9(0x745)],'options':{'delay':0x0},'textMessage':{'text':_0x31901c['waitingMenu_ExpiredMessage']}};await this[_0x5808d9(0x5ea)](_0x3913f3);let _0x1be9bd={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation']['updateOne'](_0x31901c[_0x5808d9(0x49d)],_0x1be9bd,this['instance'][_0x5808d9(0x3e2)]),null;}return _0x31901c[_0x5808d9(0x26b)]=Date['now'](),_0x31901c[_0x5808d9(0x2f7)][_0x5808d9(0x88b)]=_0x36e68e,_0x31901c;}else{this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this['instanceName']+'\x20('+this['instance'][_0x5808d9(0x3e2)]+'):\x20'+this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]+_0x5808d9(0x7ab)),this[_0x5808d9(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0x5808d9(0x60b)]['wuid']+_0x5808d9(0x39d));let _0x587330={'where':{'remoteJid':_0x3cee8c,'status':'open'}};if(_0x31901c=await this[_0x5808d9(0x8f0)]['flowConversation'][_0x5808d9(0x547)](_0x587330,this[_0x5808d9(0x60b)]['wuid']),!_0x31901c){let _0x2c4eda=await this[_0x5808d9(0x608)](_0x3cee8c);if(_0x2c4eda&&(_0x31901c=await this[_0x5808d9(0x555)](_0x2c4eda,_0x36e68e['key'],_0x36e68e)),!_0x31901c)return null;}let _0xf01742=Date[_0x5808d9(0x8d0)](),_0x307ffc=_0x31901c?.[_0x5808d9(0x3ce)]||0x0,_0x55bac6=_0xf01742-_0x307ffc*0x3c*0x3e8;if(this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this[_0x5808d9(0x2e9)]+'\x20('+this[_0x5808d9(0x60b)]['wuid']+_0x5808d9(0x36d)+_0xf01742+_0x5808d9(0x479)+_0x307ffc+_0x5808d9(0x308)+_0x55bac6),this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this['instanceName']+'\x20('+this['instance'][_0x5808d9(0x3e2)]+_0x5808d9(0x6ae)),this[_0x5808d9(0x69f)][_0x5808d9(0x776)](this['instanceName']+'\x20('+this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]+_0x5808d9(0x6f6)+_0x31901c[_0x5808d9(0x26b)]),this[_0x5808d9(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]+_0x5808d9(0x4c7)+_0x55bac6),_0x31901c['lastInteraction']<_0x55bac6){this[_0x5808d9(0x69f)]['verbose'](this[_0x5808d9(0x2e9)]+'\x20('+this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]+_0x5808d9(0x5d2));let _0x16d1a5=await this['findFlow'](_0x3cee8c);if(_0x16d1a5===null)return null;_0x31901c&&await this[_0x5808d9(0x8f0)][_0x5808d9(0x724)][_0x5808d9(0x6b6)](_0x31901c[_0x5808d9(0x49d)],{'status':'closed'},this['instance'][_0x5808d9(0x3e2)]),_0x31901c=await this[_0x5808d9(0x555)](_0x16d1a5,_0x36e68e[_0x5808d9(0x482)],_0x36e68e);}return _0x31901c[_0x5808d9(0x26b)]=_0xf01742,_0x31901c['chatLog'][_0x5808d9(0x88b)]=_0x36e68e,_0x31901c;}}catch(_0x99adff){return this[_0x5808d9(0x69f)]['error'](this[_0x5808d9(0x2e9)]+'\x20('+this[_0x5808d9(0x60b)][_0x5808d9(0x3e2)]+_0x5808d9(0x4c8)+(_0x99adff instanceof Error?_0x99adff[_0x5808d9(0x272)]:JSON[_0x5808d9(0x5b9)](_0x99adff,null,0x2))),null;}}async[a0_0x1b7b78(0x555)](_0x4b447e,_0xc7deb0,_0x5e5e14){const _0x581ecc=a0_0x1b7b78;this[_0x581ecc(0x69f)][_0x581ecc(0x776)](this[_0x581ecc(0x2e9)]+'\x20('+this[_0x581ecc(0x60b)][_0x581ecc(0x3e2)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x13db40=require(_0x581ecc(0x191))[_0x581ecc(0x545)],_0x23bf99=Date['now'](),_0x687021=_0x581ecc(0x842),_0x4cdc05=_0xc7deb0[_0x581ecc(0x8bf)]?null:_0x5e5e14,_0xa5ae97=_0xc7deb0['fromMe']?_0x5e5e14:null,_0x40513b=_0xc7deb0['remoteJid'],_0x2e83c3=this[_0x581ecc(0x767)]['flows']['find'](_0x18f84c=>_0x18f84c[_0x581ecc(0x49d)]===_0x4b447e['_id']?.[_0x581ecc(0x6e2)]()),_0x4279e1=_0x2e83c3?.[_0x581ecc(0x3ce)]??_0x4b447e[_0x581ecc(0x3ce)]??0x0,_0x409c96=_0x2e83c3?.[_0x581ecc(0x31b)]??_0x4b447e['readMessages']??!0x1;await this[_0x581ecc(0x278)](_0x40513b);let _0x32c6fc={'flowId':_0x4b447e[_0x581ecc(0x49d)],..._0x4b447e,'chatLog':null},_0x430b5d=await this['variablesToObject'](_0x32c6fc[_0x581ecc(0x1f0)]),_0x597ea2=await this['getVariablesChat'](_0x40513b),_0x1e38fd={..._0x430b5d,..._0x597ea2,'_remoteJid':_0x40513b},_0x4ff6a0={'lastReceivedMessage':_0x4cdc05,'lastSendMessage':_0xa5ae97,'lastBlockId':_0x687021,'lastCondition':!0x0,'realVariables':_0x1e38fd};_0x32c6fc[_0x581ecc(0x2f7)]=_0x4ff6a0,delete _0x32c6fc['_id'],_0x32c6fc[_0x581ecc(0x49d)]=new _0x13db40(),_0x32c6fc[_0x581ecc(0x26b)]=_0x23bf99,_0x32c6fc[_0x581ecc(0x18a)]=_0x581ecc(0x8ef),_0x32c6fc[_0x581ecc(0x745)]=_0x40513b,_0x32c6fc['minutesToClose']=_0x4279e1,_0x32c6fc[_0x581ecc(0x31b)]=_0x409c96;let _0x6a1a43=await this[_0x581ecc(0x8f0)][_0x581ecc(0x724)]['updateOne'](_0x32c6fc[_0x581ecc(0x49d)],_0x32c6fc,this[_0x581ecc(0x60b)][_0x581ecc(0x3e2)]);return this[_0x581ecc(0x69f)]['verbose'](this[_0x581ecc(0x2e9)]+'\x20('+this['instance'][_0x581ecc(0x3e2)]+_0x581ecc(0x529)),_0x6a1a43?_0x32c6fc:null;}catch(_0x3d75b5){return this[_0x581ecc(0x69f)][_0x581ecc(0x84d)](this['instanceName']+'\x20('+this[_0x581ecc(0x60b)][_0x581ecc(0x3e2)]+_0x581ecc(0x6a2)+(_0x3d75b5 instanceof Error?_0x3d75b5['message']:JSON[_0x581ecc(0x5b9)](_0x3d75b5,null,0x2))),_0x3d75b5;}}async[a0_0x1b7b78(0x851)](_0x33788e,_0x5b4556){const _0x39d5a2=a0_0x1b7b78;let _0x28ddcc=_0x33788e['remoteJid'];_0x5b4556['uazapi'][_0x39d5a2(0x745)]&&_0x5b4556[_0x39d5a2(0x793)][_0x39d5a2(0x745)][_0x39d5a2(0x1da)]()!==''&&(_0x28ddcc=_0x5b4556[_0x39d5a2(0x793)]['remoteJid'][_0x39d5a2(0x1da)]()),this['logger']['verbose'](this[_0x39d5a2(0x2e9)]+'\x20('+this[_0x39d5a2(0x60b)][_0x39d5a2(0x3e2)]+_0x39d5a2(0x821));let _0x4311ad={'number':_0x28ddcc,'options':{'delay':_0x5b4556[_0x39d5a2(0x793)][_0x39d5a2(0x48b)],'linkPreview':_0x5b4556[_0x39d5a2(0x793)][_0x39d5a2(0x730)]},'textMessage':{'text':_0x5b4556[_0x39d5a2(0x793)]['text']}};try{let _0x4a27a7=await this['textMessage'](_0x4311ad);if(_0x4a27a7){let _0x12746e={'_id':_0x4a27a7['key']['id'],'_fromMe':_0x4a27a7[_0x39d5a2(0x482)][_0x39d5a2(0x8bf)],'_remoteJid':_0x4a27a7[_0x39d5a2(0x482)][_0x39d5a2(0x745)]},_0x4b16b1=(0x0,w[_0x39d5a2(0x28d)])(_0x4a27a7[_0x39d5a2(0x272)]),_0x20df90=(0x0,w[_0x39d5a2(0x64a)])(_0x4b16b1);_0x33788e[_0x39d5a2(0x2f7)][_0x39d5a2(0x40f)]=_0x5b4556[_0x39d5a2(0x49d)][_0x39d5a2(0x6e2)]();let {message_normalized:_0x4c21a4}=this[_0x39d5a2(0x384)](_0x4b16b1,_0x20df90,null);_0x33788e[_0x39d5a2(0x2f7)][_0x39d5a2(0x8ee)]=await _0x4c21a4;let _0x178a82={'messageId':_0x4a27a7[_0x39d5a2(0x482)]['id']},_0x237935=_0x33788e['chatLog'][_0x39d5a2(0x2a4)];Object['assign'](_0x237935,_0x12746e),_0x33788e[_0x39d5a2(0x2f7)][_0x39d5a2(0x2a4)]=_0x237935,this['updateConversation'](_0x33788e,_0x5b4556,_0x178a82);}else{let _0x39bd88={'error':!0x0};this[_0x39d5a2(0x7d4)](_0x33788e,_0x5b4556,_0x39bd88),this[_0x39d5a2(0x69f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x39d5a2(0x3e2)]+_0x39d5a2(0x69c));}}catch(_0x17691a){let _0x4d8ff8={'error':!0x0,'errorLog':_0x17691a[_0x39d5a2(0x6e2)]()};this[_0x39d5a2(0x7d4)](_0x33788e,_0x5b4556,_0x4d8ff8),this[_0x39d5a2(0x69f)][_0x39d5a2(0x84d)](this[_0x39d5a2(0x2e9)]+'\x20('+this['instance'][_0x39d5a2(0x3e2)]+_0x39d5a2(0x23e)+(_0x17691a instanceof Error?_0x17691a[_0x39d5a2(0x272)]:JSON[_0x39d5a2(0x5b9)](_0x17691a,null,0x2)));}}async['uazapiSendMedia'](_0x445294,_0x4c714b){const _0xd2ff25=a0_0x1b7b78;let _0x91356b=_0x445294['remoteJid'];_0x4c714b[_0xd2ff25(0x793)][_0xd2ff25(0x745)]&&_0x4c714b[_0xd2ff25(0x793)][_0xd2ff25(0x745)]['trim']()!==''&&(_0x91356b=_0x4c714b[_0xd2ff25(0x793)]['remoteJid'][_0xd2ff25(0x1da)]()),this[_0xd2ff25(0x69f)][_0xd2ff25(0x776)](this[_0xd2ff25(0x2e9)]+'\x20('+this[_0xd2ff25(0x60b)][_0xd2ff25(0x3e2)]+_0xd2ff25(0x2d7));let _0x39cfdc={'number':_0x91356b,'options':{'delay':_0x4c714b[_0xd2ff25(0x793)][_0xd2ff25(0x48b)],'linkPreview':_0x4c714b[_0xd2ff25(0x793)][_0xd2ff25(0x730)]},'mediaMessage':{'mediatype':_0x4c714b[_0xd2ff25(0x793)][_0xd2ff25(0x2bb)],'caption':_0x4c714b[_0xd2ff25(0x793)][_0xd2ff25(0x428)],'media':_0x4c714b[_0xd2ff25(0x793)]['media'],'fileName':_0x4c714b[_0xd2ff25(0x793)]['fileName']}};try{let _0x46e855=await this[_0xd2ff25(0x66d)](_0x39cfdc);if(_0x46e855){let _0x1fb376={'_id':_0x46e855['key']['id'],'_fromMe':_0x46e855[_0xd2ff25(0x482)][_0xd2ff25(0x8bf)],'_remoteJid':_0x46e855[_0xd2ff25(0x482)][_0xd2ff25(0x745)]},_0x10624=(0x0,w['normalizeMessageContent'])(_0x46e855[_0xd2ff25(0x272)]),_0x5aeebd=(0x0,w[_0xd2ff25(0x64a)])(_0x10624);_0x445294[_0xd2ff25(0x2f7)][_0xd2ff25(0x40f)]=_0x4c714b[_0xd2ff25(0x49d)]['toString']();let {message_normalized:_0x53d1c5}=this[_0xd2ff25(0x384)](_0x10624,_0x5aeebd,null);_0x445294[_0xd2ff25(0x2f7)][_0xd2ff25(0x8ee)]=await _0x53d1c5;let _0x539702={'messageId':_0x46e855['key']['id']},_0x474b0e=_0x445294['chatLog'][_0xd2ff25(0x2a4)];Object[_0xd2ff25(0x52b)](_0x474b0e,_0x1fb376),_0x445294[_0xd2ff25(0x2f7)][_0xd2ff25(0x2a4)]=_0x474b0e,this[_0xd2ff25(0x7d4)](_0x445294,_0x4c714b,_0x539702);}else{let _0x417298={'error':!0x0};this[_0xd2ff25(0x7d4)](_0x445294,_0x4c714b,_0x417298),this[_0xd2ff25(0x69f)][_0xd2ff25(0x84d)](this[_0xd2ff25(0x2e9)]+'\x20('+this[_0xd2ff25(0x60b)][_0xd2ff25(0x3e2)]+_0xd2ff25(0x6c4));}}catch(_0x38db7b){let _0x4efd5d={'error':!0x0,'errorLog':_0x38db7b[_0xd2ff25(0x6e2)]()};this[_0xd2ff25(0x7d4)](_0x445294,_0x4c714b,_0x4efd5d),this[_0xd2ff25(0x69f)][_0xd2ff25(0x84d)](this[_0xd2ff25(0x2e9)]+'\x20('+this['instance'][_0xd2ff25(0x3e2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x38db7b instanceof Error?_0x38db7b[_0xd2ff25(0x272)]:JSON[_0xd2ff25(0x5b9)](_0x38db7b,null,0x2)));}}async['uazapiSendLocation'](_0x38ef8e,_0x2165ba){const _0x58e418=a0_0x1b7b78;let _0x233b3e=_0x38ef8e[_0x58e418(0x745)];_0x2165ba[_0x58e418(0x793)]['remoteJid']&&_0x2165ba[_0x58e418(0x793)][_0x58e418(0x745)][_0x58e418(0x1da)]()!==''&&(_0x233b3e=_0x2165ba[_0x58e418(0x793)][_0x58e418(0x745)]['trim']()),this[_0x58e418(0x69f)][_0x58e418(0x776)](this[_0x58e418(0x2e9)]+'\x20('+this[_0x58e418(0x60b)][_0x58e418(0x3e2)]+'):\x20Enviando\x20localização');let _0xb7b708={'number':_0x233b3e,'options':{'delay':_0x2165ba[_0x58e418(0x793)][_0x58e418(0x48b)]},'locationMessage':{'name':_0x2165ba[_0x58e418(0x793)][_0x58e418(0x4a9)],'address':_0x2165ba[_0x58e418(0x793)][_0x58e418(0x613)],'latitude':_0x2165ba[_0x58e418(0x793)][_0x58e418(0x310)],'longitude':_0x2165ba[_0x58e418(0x793)][_0x58e418(0x175)]}};try{let _0x7c2516=await this[_0x58e418(0x67b)](_0xb7b708);if(_0x7c2516){let _0x5e7f65={'_id':_0x7c2516[_0x58e418(0x482)]['id'],'_fromMe':_0x7c2516[_0x58e418(0x482)]['fromMe'],'_remoteJid':_0x7c2516['key'][_0x58e418(0x745)]},_0x3837d6=(0x0,w['normalizeMessageContent'])(_0x7c2516[_0x58e418(0x272)]),_0x3188b4=(0x0,w[_0x58e418(0x64a)])(_0x3837d6);_0x38ef8e[_0x58e418(0x2f7)][_0x58e418(0x40f)]=_0x2165ba[_0x58e418(0x49d)][_0x58e418(0x6e2)]();let {message_normalized:_0x5f578c}=this[_0x58e418(0x384)](_0x3837d6,_0x3188b4,null);_0x38ef8e[_0x58e418(0x2f7)][_0x58e418(0x8ee)]=await _0x5f578c;let _0x26973e={'messageId':_0x7c2516[_0x58e418(0x482)]['id']},_0x238407=_0x38ef8e['chatLog'][_0x58e418(0x2a4)];Object['assign'](_0x238407,_0x5e7f65),_0x38ef8e[_0x58e418(0x2f7)][_0x58e418(0x2a4)]=_0x238407,this[_0x58e418(0x7d4)](_0x38ef8e,_0x2165ba,_0x26973e);}else{let _0x1c3cd5={'error':!0x0};this[_0x58e418(0x7d4)](_0x38ef8e,_0x2165ba,_0x1c3cd5),this['logger'][_0x58e418(0x84d)](this[_0x58e418(0x2e9)]+'\x20('+this[_0x58e418(0x60b)]['wuid']+_0x58e418(0x7bd));}}catch(_0x1a4c64){let _0x447707={'error':!0x0,'errorLog':_0x1a4c64['toString']()};this[_0x58e418(0x7d4)](_0x38ef8e,_0x2165ba,_0x447707),this['logger'][_0x58e418(0x84d)](this[_0x58e418(0x2e9)]+'\x20('+this['instance']['wuid']+_0x58e418(0x7e9)+(_0x1a4c64 instanceof Error?_0x1a4c64[_0x58e418(0x272)]:JSON[_0x58e418(0x5b9)](_0x1a4c64,null,0x2)));}}async['uazapiSendAudio'](_0x483fe8,_0x3e8367){const _0x578722=a0_0x1b7b78;let _0x26534f=_0x483fe8[_0x578722(0x745)];_0x3e8367[_0x578722(0x793)]['remoteJid']&&_0x3e8367[_0x578722(0x793)][_0x578722(0x745)]['trim']()!==''&&(_0x26534f=_0x3e8367['uazapi']['remoteJid'][_0x578722(0x1da)]()),this[_0x578722(0x69f)]['verbose'](this[_0x578722(0x2e9)]+'\x20('+this['instance']['wuid']+_0x578722(0x3de));let _0x36b1ea={'number':_0x26534f,'options':{'delay':_0x3e8367['uazapi'][_0x578722(0x48b)]},'audioMessage':{'audio':_0x3e8367[_0x578722(0x793)]['audio']}};try{let _0x12fdb9=await this[_0x578722(0x20d)](_0x36b1ea);if(_0x12fdb9){let _0x2f8b61={'_id':_0x12fdb9[_0x578722(0x482)]['id'],'_fromMe':_0x12fdb9[_0x578722(0x482)][_0x578722(0x8bf)],'_remoteJid':_0x12fdb9[_0x578722(0x482)][_0x578722(0x745)]},_0x84ed4b=(0x0,w['normalizeMessageContent'])(_0x12fdb9[_0x578722(0x272)]),_0x40ba75=(0x0,w[_0x578722(0x64a)])(_0x84ed4b);_0x483fe8[_0x578722(0x2f7)][_0x578722(0x40f)]=_0x3e8367['_id'][_0x578722(0x6e2)]();let {message_normalized:_0x16eabd}=this[_0x578722(0x384)](_0x84ed4b,_0x40ba75,null);_0x483fe8['chatLog'][_0x578722(0x8ee)]=await _0x16eabd;let _0x397b79={'messageId':_0x12fdb9[_0x578722(0x482)]['id']},_0x1fe3b5=_0x483fe8[_0x578722(0x2f7)][_0x578722(0x2a4)];Object[_0x578722(0x52b)](_0x1fe3b5,_0x2f8b61),_0x483fe8[_0x578722(0x2f7)][_0x578722(0x2a4)]=_0x1fe3b5,this['updateConversation'](_0x483fe8,_0x3e8367,_0x397b79);}else{let _0x282eb2={'error':!0x0};this[_0x578722(0x7d4)](_0x483fe8,_0x3e8367,_0x282eb2),this[_0x578722(0x69f)][_0x578722(0x84d)](this[_0x578722(0x2e9)]+'\x20('+this[_0x578722(0x60b)][_0x578722(0x3e2)]+_0x578722(0x474));}}catch(_0x1fa5de){let _0x1aa1ba={'error':!0x0,'errorLog':_0x1fa5de['toString']()};this[_0x578722(0x7d4)](_0x483fe8,_0x3e8367,_0x1aa1ba),this[_0x578722(0x69f)][_0x578722(0x84d)](this[_0x578722(0x2e9)]+'\x20('+this[_0x578722(0x60b)][_0x578722(0x3e2)]+_0x578722(0x471)+(_0x1fa5de instanceof Error?_0x1fa5de['message']:JSON[_0x578722(0x5b9)](_0x1fa5de,null,0x2)));}}async[a0_0x1b7b78(0x3fe)](_0x2d76a4,_0x2d04e2){const _0x52484f=a0_0x1b7b78;let _0xe85d20=_0x2d76a4[_0x52484f(0x745)];_0x2d04e2[_0x52484f(0x793)][_0x52484f(0x745)]&&_0x2d04e2[_0x52484f(0x793)][_0x52484f(0x745)][_0x52484f(0x1da)]()!==''&&(_0xe85d20=_0x2d04e2[_0x52484f(0x793)][_0x52484f(0x745)][_0x52484f(0x1da)]()),this['logger'][_0x52484f(0x776)](this[_0x52484f(0x2e9)]+'\x20('+this[_0x52484f(0x60b)]['wuid']+'):\x20Enviando\x20contato');let _0x25eaa7={'number':_0xe85d20,'options':{'delay':_0x2d04e2[_0x52484f(0x793)][_0x52484f(0x48b)]},'contactMessage':[{'fullName':_0x2d04e2['uazapi'][_0x52484f(0x3f3)],'phoneNumber':_0x2d04e2[_0x52484f(0x793)][_0x52484f(0x2b0)]}]};try{let _0x556e52=await this[_0x52484f(0x5f4)](_0x25eaa7);if(_0x556e52){let _0x16f0e7={'_id':_0x556e52[_0x52484f(0x482)]['id'],'_fromMe':_0x556e52[_0x52484f(0x482)][_0x52484f(0x8bf)],'_remoteJid':_0x556e52[_0x52484f(0x482)][_0x52484f(0x745)]},_0x4a3841=(0x0,w[_0x52484f(0x28d)])(_0x556e52[_0x52484f(0x272)]),_0x29dac5=(0x0,w[_0x52484f(0x64a)])(_0x4a3841);_0x2d76a4[_0x52484f(0x2f7)][_0x52484f(0x40f)]=_0x2d04e2[_0x52484f(0x49d)][_0x52484f(0x6e2)]();let {message_normalized:_0x1bc0cd}=this['normalizeMessage'](_0x4a3841,_0x29dac5,null);_0x2d76a4[_0x52484f(0x2f7)][_0x52484f(0x8ee)]=await _0x1bc0cd;let _0x40d1d1={'messageId':_0x556e52[_0x52484f(0x482)]['id']},_0x4177d7=_0x2d76a4[_0x52484f(0x2f7)][_0x52484f(0x2a4)];Object[_0x52484f(0x52b)](_0x4177d7,_0x16f0e7),_0x2d76a4['chatLog'][_0x52484f(0x2a4)]=_0x4177d7,this[_0x52484f(0x7d4)](_0x2d76a4,_0x2d04e2,_0x40d1d1);}else{let _0x2eed15={'error':!0x0};this['updateConversation'](_0x2d76a4,_0x2d04e2,_0x2eed15),this['logger'][_0x52484f(0x84d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x45c9f0){let _0x428fcd={'error':!0x0,'errorLog':_0x45c9f0['toString']()};this[_0x52484f(0x7d4)](_0x2d76a4,_0x2d04e2,_0x428fcd),this[_0x52484f(0x69f)][_0x52484f(0x84d)](this['instanceName']+'\x20('+this[_0x52484f(0x60b)][_0x52484f(0x3e2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x45c9f0 instanceof Error?_0x45c9f0[_0x52484f(0x272)]:JSON[_0x52484f(0x5b9)](_0x45c9f0,null,0x2)));}}[a0_0x1b7b78(0x53c)](_0x3efc5a,_0x4d6272){const _0x16fe66=a0_0x1b7b78;for(let _0x548eda of _0x3efc5a)_0x548eda[_0x16fe66(0x5bd)]&&(_0x548eda['option']=this[_0x16fe66(0x7e7)](_0x548eda[_0x16fe66(0x5bd)],_0x4d6272)),_0x548eda[_0x16fe66(0x307)]&&(_0x548eda[_0x16fe66(0x307)]=this[_0x16fe66(0x7e7)](_0x548eda[_0x16fe66(0x307)],_0x4d6272));}async[a0_0x1b7b78(0x588)](_0x2f3d98,_0x3c7eee){const _0xcfb5c6=a0_0x1b7b78;let _0x1cb557=_0x2f3d98['remoteJid'];_0x3c7eee['uazapi']['remoteJid']&&_0x3c7eee['uazapi'][_0xcfb5c6(0x745)][_0xcfb5c6(0x1da)]()!==''&&(_0x1cb557=_0x3c7eee['uazapi']['remoteJid'][_0xcfb5c6(0x1da)]()),this['logger'][_0xcfb5c6(0x776)](this[_0xcfb5c6(0x2e9)]+'\x20('+this[_0xcfb5c6(0x60b)][_0xcfb5c6(0x3e2)]+_0xcfb5c6(0x37a));let _0x1c4107=_0x2f3d98[_0xcfb5c6(0x573)][_0xcfb5c6(0x194)](_0x2f9abf=>_0x2f9abf[_0xcfb5c6(0x39b)]===_0x3c7eee[_0xcfb5c6(0x49d)])[_0xcfb5c6(0x4d4)]((_0x39fe14,_0x59d8d4)=>_0x39fe14[_0xcfb5c6(0x3a2)]-_0x59d8d4[_0xcfb5c6(0x3a2)]);this[_0xcfb5c6(0x53c)](_0x1c4107,_0x2f3d98[_0xcfb5c6(0x2f7)][_0xcfb5c6(0x2a4)]);let _0x1d914b=_0x1c4107[_0xcfb5c6(0x686)](_0x242758=>_0x242758[_0xcfb5c6(0x5bd)]),_0x25870d={'number':_0x1cb557,'menuMessage':{'type':_0x3c7eee[_0xcfb5c6(0x793)]['menuType']||_0xcfb5c6(0x3bd),'text':_0x3c7eee[_0xcfb5c6(0x793)]['text']||_0x3c7eee[_0xcfb5c6(0x793)][_0xcfb5c6(0x4a9)],'footerText':_0x3c7eee[_0xcfb5c6(0x793)][_0xcfb5c6(0x626)],'buttonText':_0x3c7eee[_0xcfb5c6(0x793)][_0xcfb5c6(0x466)],'selectableCount':0x1,'choices':_0x1d914b},'options':{'delay':_0x3c7eee['uazapi']['delay']}};try{let _0x3bbd7a=await this[_0xcfb5c6(0x441)](_0x25870d);if(_0x3bbd7a){let _0x1ac613={'_id':_0x3bbd7a[_0xcfb5c6(0x482)]['id'],'_fromMe':_0x3bbd7a[_0xcfb5c6(0x482)][_0xcfb5c6(0x8bf)],'_remoteJid':_0x3bbd7a[_0xcfb5c6(0x482)][_0xcfb5c6(0x745)]};_0x3c7eee[_0xcfb5c6(0x793)]['menuIgnoreNonVotes']===!0x0&&(_0x2f3d98[_0xcfb5c6(0x18a)]=_0xcfb5c6(0x37d),this['logger'][_0xcfb5c6(0x776)](this[_0xcfb5c6(0x2e9)]+'\x20('+this['instance']['wuid']+_0xcfb5c6(0x833)+_0x2f3d98[_0xcfb5c6(0x18a)])),this[_0xcfb5c6(0x69f)][_0xcfb5c6(0x776)](this[_0xcfb5c6(0x2e9)]+'\x20('+this[_0xcfb5c6(0x60b)][_0xcfb5c6(0x3e2)]+_0xcfb5c6(0x6ce)+(_0x3c7eee[_0xcfb5c6(0x793)]['name']||_0x3c7eee[_0xcfb5c6(0x793)][_0xcfb5c6(0x51e)])),_0x2f3d98[_0xcfb5c6(0x4c6)]=_0x3bbd7a[_0xcfb5c6(0x482)]['id'],_0x2f3d98[_0xcfb5c6(0x80d)]=_0x3c7eee[_0xcfb5c6(0x793)][_0xcfb5c6(0x4a9)]||_0x3c7eee['uazapi']['text'],_0x2f3d98[_0xcfb5c6(0x7c9)]=_0x1c4107,_0x3c7eee[_0xcfb5c6(0x793)][_0xcfb5c6(0x2cc)]&&(_0x2f3d98['waitingMenu_ExpiredMessage']=_0x3c7eee[_0xcfb5c6(0x793)][_0xcfb5c6(0x2cc)]),this[_0xcfb5c6(0x69f)][_0xcfb5c6(0x776)](this['instanceName']+'\x20('+this[_0xcfb5c6(0x60b)]['wuid']+_0xcfb5c6(0x1a2)+_0x2f3d98[_0xcfb5c6(0x80d)]);let _0x4f7798=(0x0,w['normalizeMessageContent'])(_0x3bbd7a['message']),_0x4e1d6c=(0x0,w[_0xcfb5c6(0x64a)])(_0x4f7798);_0x2f3d98[_0xcfb5c6(0x2f7)][_0xcfb5c6(0x40f)]=_0x3c7eee['_id'][_0xcfb5c6(0x6e2)]();let {message_normalized:_0x4b7dbe}=this[_0xcfb5c6(0x384)](_0x4f7798,_0x4e1d6c,null);_0x2f3d98[_0xcfb5c6(0x2f7)]['lastSendMessage']=await _0x4b7dbe;let _0x1eafcd={'messageId':_0x3bbd7a[_0xcfb5c6(0x482)]['id']},_0x53f8cf=_0x2f3d98[_0xcfb5c6(0x2f7)]['realVariables'];Object['assign'](_0x53f8cf,_0x1ac613),_0x2f3d98[_0xcfb5c6(0x2f7)][_0xcfb5c6(0x2a4)]=_0x53f8cf,this[_0xcfb5c6(0x7d4)](_0x2f3d98,_0x3c7eee,_0x1eafcd);}else{let _0x51ab23={'error':!0x0};this[_0xcfb5c6(0x7d4)](_0x2f3d98,_0x3c7eee,_0x51ab23),this['logger'][_0xcfb5c6(0x84d)](this[_0xcfb5c6(0x2e9)]+'\x20('+this[_0xcfb5c6(0x60b)][_0xcfb5c6(0x3e2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x527506){let _0x265cce={'error':!0x0,'errorLog':_0x527506 instanceof Error?_0x527506[_0xcfb5c6(0x272)]:JSON[_0xcfb5c6(0x5b9)](_0x527506,null,0x2)};this[_0xcfb5c6(0x7d4)](_0x2f3d98,_0x3c7eee,_0x265cce),this['logger'][_0xcfb5c6(0x84d)](this[_0xcfb5c6(0x2e9)]+'\x20('+this[_0xcfb5c6(0x60b)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x527506 instanceof Error?_0x527506[_0xcfb5c6(0x272)]:JSON[_0xcfb5c6(0x5b9)](_0x527506,null,0x2)));}}async[a0_0x1b7b78(0x7a0)](_0x393b71,_0x9aad64){const _0x1a01a6=a0_0x1b7b78;this['logger'][_0x1a01a6(0x776)](this[_0x1a01a6(0x2e9)]+'\x20('+this[_0x1a01a6(0x60b)]['wuid']+_0x1a01a6(0x731));let _0x5cf38b=_0x393b71[_0x1a01a6(0x2f7)]['blockLogs'][_0x1a01a6(0x83c)](_0x1bf834=>_0x1bf834[_0x1a01a6(0x39b)]['toString']()===_0x9aad64['uazapi'][_0x1a01a6(0x39b)][_0x1a01a6(0x6e2)]()),_0x5daa37={'id':_0x5cf38b[_0x1a01a6(0x867)],'remoteJid':_0x5cf38b[_0x1a01a6(0x745)],'fromMe':_0x5cf38b[_0x1a01a6(0x8bf)]};try{let _0x1f4a8d=await this[_0x1a01a6(0x420)](_0x5daa37);if(_0x1f4a8d){let _0x110356=(0x0,w[_0x1a01a6(0x28d)])(_0x1f4a8d['message']),_0x4b265a=(0x0,w['getContentType'])(_0x110356);_0x393b71[_0x1a01a6(0x2f7)][_0x1a01a6(0x40f)]=_0x9aad64[_0x1a01a6(0x49d)][_0x1a01a6(0x6e2)]();let {message_normalized:_0x2b7eb6}=this[_0x1a01a6(0x384)](_0x110356,_0x4b265a,null);_0x393b71[_0x1a01a6(0x2f7)][_0x1a01a6(0x8ee)]=await _0x2b7eb6;let _0xde9fc8={};this[_0x1a01a6(0x7d4)](_0x393b71,_0x9aad64,_0xde9fc8);}else{let _0x4ba79f={'error':!0x0};this[_0x1a01a6(0x7d4)](_0x393b71,_0x9aad64,_0x4ba79f),this[_0x1a01a6(0x69f)][_0x1a01a6(0x84d)](this[_0x1a01a6(0x2e9)]+'\x20('+this[_0x1a01a6(0x60b)][_0x1a01a6(0x3e2)]+_0x1a01a6(0x6af));}}catch(_0x448bbc){let _0x324f7b={'error':!0x0,'errorLog':_0x448bbc instanceof Error?_0x448bbc[_0x1a01a6(0x272)]:JSON[_0x1a01a6(0x5b9)](_0x448bbc,null,0x2)};this['updateConversation'](_0x393b71,_0x9aad64,_0x324f7b),this[_0x1a01a6(0x69f)][_0x1a01a6(0x84d)](this[_0x1a01a6(0x2e9)]+'\x20('+this[_0x1a01a6(0x60b)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x448bbc instanceof Error?_0x448bbc[_0x1a01a6(0x272)]:JSON[_0x1a01a6(0x5b9)](_0x448bbc,null,0x2)));}}async[a0_0x1b7b78(0x75a)](_0x3030f6,_0x3f2426){const _0x6558a9=a0_0x1b7b78;if(_0x3030f6[_0x6558a9(0x4a9)]||(_0x3030f6[_0x6558a9(0x4a9)]=(0x0,Y['v4'])()),_0x3f2426!==Ri&&_0x3030f6?.[_0x6558a9(0x81f)])throw new m(_0x6558a9(0x363));if(_0x6558a9(0x49d)in _0x3030f6&&_0x6558a9(0x186)in _0x3030f6)return this[_0x6558a9(0x7a3)](_0x3030f6[_0x6558a9(0x186)],_0x3030f6[_0x6558a9(0x49d)]);this[_0x6558a9(0x69f)][_0x6558a9(0x776)](this[_0x6558a9(0x2e9)]+'\x20('+this[_0x6558a9(0x60b)]['wuid']+_0x6558a9(0x81e));let _0x5a21b5=this[_0x6558a9(0x5fe)](_0x3030f6['name']),_0x2510e3=new ge['Types'][(_0x6558a9(0x545))](),_0x33f491={'_id':_0x2510e3,'default':!0x0,'title':_0x6558a9(0x1f4),'x':0x0,'y':0x0},_0x5df809={'_id':new ge['Types'][(_0x6558a9(0x545))](),'order':0x1,'groupId':_0x2510e3[_0x6558a9(0x6e2)](),'type':_0x6558a9(0x842)},_0x4449f9=this[_0x6558a9(0x60b)][_0x6558a9(0x3e2)],_0x12316d={'_id':(0x0,Y['v4'])(),'owner':_0x4449f9,'name':_0x5a21b5,'whoCanEdit':[_0x4449f9],'whoCanUse':[_0x4449f9],'groups':[_0x33f491],'blocks':[_0x5df809],..._0x3030f6};try{let _0x377691=await this['repository'][_0x6558a9(0x2b4)][_0x6558a9(0x444)](_0x12316d);return await this[_0x6558a9(0x721)](),_0x377691;}catch(_0x2f6e58){let _0x174c3d='Erro\x20ao\x20criar\x20fluxo',_0x487132=_0x2f6e58 instanceof Error?_0x2f6e58['message']:typeof _0x2f6e58==_0x6558a9(0x56d)?JSON[_0x6558a9(0x5b9)](_0x2f6e58):_0x2f6e58,_0x5c1e7a=_0x174c3d+':\x20'+_0x487132;throw this[_0x6558a9(0x69f)][_0x6558a9(0x84d)](this['instanceName']+'\x20('+this[_0x6558a9(0x60b)]['wuid']+'):\x20'+_0x5c1e7a),new m(_0x5c1e7a);}}async['AddUserFlow'](_0x3141f8,_0x12d5fe){const _0x2c52fd=a0_0x1b7b78;try{this['logger'][_0x2c52fd(0x776)](this[_0x2c52fd(0x2e9)]+'\x20('+this[_0x2c52fd(0x60b)]['wuid']+_0x2c52fd(0x4d8));let _0x3cdc1d=await this['repository'][_0x2c52fd(0x2b4)][_0x2c52fd(0x547)]({'where':{'_id':_0x12d5fe,'owner':_0x3141f8}});if(!_0x3cdc1d)throw new m(_0x2c52fd(0x38c));if(_0x3cdc1d[_0x2c52fd(0x1d9)]===!0x1&&!_0x3cdc1d[_0x2c52fd(0x81f)])throw new m(_0x2c52fd(0x24a));let _0x1a379f=new Set(_0x3cdc1d[_0x2c52fd(0x725)]??[]);_0x1a379f[_0x2c52fd(0x3bf)](this[_0x2c52fd(0x60b)][_0x2c52fd(0x3e2)]);let _0xc3b709=await this[_0x2c52fd(0x8f0)]['flow']['updateOne'](_0x12d5fe,{..._0x3cdc1d,'whoCanUse':Array[_0x2c52fd(0x818)](_0x1a379f)});return await this[_0x2c52fd(0x721)](),_0xc3b709;}catch(_0x39c1c7){let _0x6f425b=_0x2c52fd(0x543),_0x47c01e=_0x39c1c7 instanceof Error?_0x39c1c7['message']:typeof _0x39c1c7==_0x2c52fd(0x56d)?JSON[_0x2c52fd(0x5b9)](_0x39c1c7):_0x39c1c7,_0x248501=_0x6f425b+':\x20'+_0x47c01e;throw this[_0x2c52fd(0x69f)][_0x2c52fd(0x84d)](this['instanceName']+'\x20('+this[_0x2c52fd(0x60b)][_0x2c52fd(0x3e2)]+'):\x20'+_0x248501),new m(_0x248501);}}[a0_0x1b7b78(0x5fe)](_0x4b7d0d){const _0x58dab7=a0_0x1b7b78;let _0x6b54a4=_0x4b7d0d,_0x2c94f1=0x1;for(;this['AutomateSystem']['flows']['some'](_0x2ed0bc=>_0x2ed0bc[_0x58dab7(0x4a9)]===_0x6b54a4);)_0x2c94f1++,_0x6b54a4=_0x4b7d0d+'\x20('+_0x2c94f1+')';return _0x6b54a4;}async[a0_0x1b7b78(0x3f7)](_0x3c3109){const _0xf39395=a0_0x1b7b78;try{if(this[_0xf39395(0x69f)][_0xf39395(0x776)](this[_0xf39395(0x2e9)]+'\x20('+this[_0xf39395(0x60b)]['wuid']+_0xf39395(0x802)+_0x3c3109['_id']+_0xf39395(0x4d9)+_0x3c3109[_0xf39395(0x41f)]),!this['AutomateSystem'][_0xf39395(0x44c)][_0xf39395(0x83c)](_0x56433b=>_0x56433b[_0xf39395(0x49d)]===_0x3c3109[_0xf39395(0x49d)]))throw this[_0xf39395(0x69f)][_0xf39395(0x776)](this[_0xf39395(0x2e9)]+'\x20('+this[_0xf39395(0x60b)][_0xf39395(0x3e2)]+_0xf39395(0x21e)+_0x3c3109[_0xf39395(0x49d)]+_0xf39395(0x6c1)),new m(_0xf39395(0x7a4));let _0x3f59a0=await this[_0xf39395(0x8f0)][_0xf39395(0x2b4)][_0xf39395(0x547)]({'where':{'_id':_0x3c3109[_0xf39395(0x49d)]}});if(!_0x3f59a0)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0xf39395(0x60b)][_0xf39395(0x3e2)]===_0x3f59a0[_0xf39395(0x186)]){this['logger'][_0xf39395(0x776)](this[_0xf39395(0x2e9)]+'\x20('+this[_0xf39395(0x60b)][_0xf39395(0x3e2)]+_0xf39395(0x59f)+_0x3c3109[_0xf39395(0x49d)]+_0xf39395(0x1f3));let _0x5284c1=await this[_0xf39395(0x8f0)][_0xf39395(0x2b4)][_0xf39395(0x869)]({'where':{'_id':_0x3c3109[_0xf39395(0x49d)]}});return await this[_0xf39395(0x721)](),_0x5284c1;}return this[_0xf39395(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0xf39395(0x60b)]['wuid']+_0xf39395(0x849)+this[_0xf39395(0x60b)][_0xf39395(0x3e2)]+_0xf39395(0x6ea)+_0x3c3109[_0xf39395(0x49d)]+_0xf39395(0x653)),_0x3f59a0[_0xf39395(0x725)]=(_0x3f59a0['whoCanUse']??[])[_0xf39395(0x194)](_0x5697f0=>_0x5697f0!==this[_0xf39395(0x60b)][_0xf39395(0x3e2)]),_0x3f59a0[_0xf39395(0x5ce)]=(_0x3f59a0[_0xf39395(0x5ce)]??[])['filter'](_0xece779=>_0xece779!==this[_0xf39395(0x60b)]['wuid']),_0x3f59a0['whoCanEdit']['length']===0x0&&_0x3f59a0[_0xf39395(0x725)][_0xf39395(0x245)]>0x0&&(_0x3f59a0[_0xf39395(0x5ce)][_0xf39395(0x184)](_0x3f59a0[_0xf39395(0x725)][0x0]),this[_0xf39395(0x69f)]['verbose'](this[_0xf39395(0x2e9)]+'\x20('+this[_0xf39395(0x60b)][_0xf39395(0x3e2)]+_0xf39395(0x603)+_0x3f59a0[_0xf39395(0x725)][0x0]+_0xf39395(0x1c6)+_0x3c3109['_id']+_0xf39395(0x653))),await this[_0xf39395(0x8f0)][_0xf39395(0x2b4)]['updateOne'](_0x3f59a0[_0xf39395(0x49d)],_0x3f59a0),await this[_0xf39395(0x721)](),{'message':_0xf39395(0x578)+_0x3c3109[_0xf39395(0x4a9)]+_0xf39395(0x343)};}catch(_0x40e125){return this[_0xf39395(0x69f)]['error'](this['instanceName']+'\x20('+this[_0xf39395(0x60b)][_0xf39395(0x3e2)]+_0xf39395(0x5d8)+(_0x40e125 instanceof Error?_0x40e125[_0xf39395(0x272)]:JSON[_0xf39395(0x5b9)](_0x40e125,null,0x2))),{'message':_0xf39395(0x505)+(_0x40e125 instanceof Error?_0x40e125[_0xf39395(0x272)]:JSON['stringify'](_0x40e125,null,0x2))};}}async[a0_0x1b7b78(0x651)](_0x1168ab){const _0xb6b8c6=a0_0x1b7b78;try{if(this[_0xb6b8c6(0x69f)]['info'](this['instanceName']+'\x20('+this['instance'][_0xb6b8c6(0x3e2)]+_0xb6b8c6(0x5f3)+_0x1168ab),!this['AutomateSystem']&&(await this[_0xb6b8c6(0x17d)](),!this[_0xb6b8c6(0x767)]))return null;let _0x16dcbd=await this['repository']['flow']['findOne']({'where':{'_id':_0x1168ab}});if(!_0x16dcbd)throw new m(_0xb6b8c6(0x2c1)+_0x1168ab+_0xb6b8c6(0x76e));if(!(_0x16dcbd[_0xb6b8c6(0x81f)]||_0x16dcbd['whoCanUse']?.[_0xb6b8c6(0x5a5)](this[_0xb6b8c6(0x60b)][_0xb6b8c6(0x3e2)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x16dcbd[_0xb6b8c6(0x81f)]&&!_0x16dcbd[_0xb6b8c6(0x725)]?.[_0xb6b8c6(0x5a5)](this[_0xb6b8c6(0x60b)][_0xb6b8c6(0x3e2)])&&(_0x16dcbd[_0xb6b8c6(0x725)]=[..._0x16dcbd[_0xb6b8c6(0x725)]??[],this[_0xb6b8c6(0x60b)][_0xb6b8c6(0x3e2)]],await this['repository'][_0xb6b8c6(0x2b4)]['updateOne'](_0x16dcbd['_id'],_0x16dcbd),this[_0xb6b8c6(0x721)]());let _0xc18b89=this['AutomateSystem']?.[_0xb6b8c6(0x5ad)][_0xb6b8c6(0x686)](_0x14bf3e=>_0x14bf3e[_0xb6b8c6(0x4a9)]),_0x1e22d7=[_0xb6b8c6(0x331),_0xb6b8c6(0x5bb),_0xb6b8c6(0x3ea),_0xb6b8c6(0x3eb),_0xb6b8c6(0x18a),_0xb6b8c6(0x735),_0xb6b8c6(0x3ee),_0xb6b8c6(0x882),_0xb6b8c6(0x188),_0xb6b8c6(0x364),_0xb6b8c6(0x369)];_0x16dcbd['variables']=_0x16dcbd[_0xb6b8c6(0x1f0)][_0xb6b8c6(0x194)](_0x319301=>!(_0x319301[_0xb6b8c6(0x803)]===_0xb6b8c6(0x873)||_0x319301[_0xb6b8c6(0x873)])),_0x1e22d7[_0xb6b8c6(0x52e)](_0x1dee9e=>{const _0x34a0d9=_0xb6b8c6;_0x16dcbd['variables'][_0x34a0d9(0x184)]({'folder':_0x34a0d9(0x873),'name':_0x1dee9e,'value':'','doc':'','leadInfo':!0x0});}),_0xc18b89[_0xb6b8c6(0x52e)](_0x599a3a=>{const _0x3d94f4=_0xb6b8c6;let _0x5c0b37=_0x16dcbd[_0x3d94f4(0x1f0)]['findIndex'](_0x2eec08=>_0x2eec08[_0x3d94f4(0x4a9)]===_0x599a3a);_0x5c0b37===-0x1?_0x16dcbd[_0x3d94f4(0x1f0)]['push']({'folder':_0x3d94f4(0x873),'name':_0x599a3a,'value':'','doc':'','leadInfo':!0x0}):(_0x16dcbd[_0x3d94f4(0x1f0)][_0x5c0b37][_0x3d94f4(0x803)]=_0x3d94f4(0x873),_0x16dcbd[_0x3d94f4(0x1f0)][_0x5c0b37][_0x3d94f4(0x873)]=!0x0);}),_0x16dcbd[_0xb6b8c6(0x85c)]&&_0x16dcbd[_0xb6b8c6(0x85c)][_0xb6b8c6(0x245)]>0x0&&_0x16dcbd['blocks']['forEach'](_0x96617c=>{const _0x46aa8b=_0xb6b8c6;_0x96617c[_0x46aa8b(0x726)]&&_0x96617c['next_groupId']&&_0x96617c[_0x46aa8b(0x726)]===_0x96617c[_0x46aa8b(0x5f5)]&&(_0x96617c[_0x46aa8b(0x5f5)]=null);});let _0x3ebb3e=await this[_0xb6b8c6(0x8f0)][_0xb6b8c6(0x2b4)][_0xb6b8c6(0x6b6)](_0x16dcbd['_id'],_0x16dcbd);if(!_0x3ebb3e)throw new Error(_0xb6b8c6(0x1e9));return _0x3ebb3e;}catch(_0x583a45){let _0x93ddc8=_0xb6b8c6(0x8c4),_0x29d633=_0x583a45 instanceof Error?_0x583a45[_0xb6b8c6(0x272)]:typeof _0x583a45==_0xb6b8c6(0x56d)?JSON['stringify'](_0x583a45):_0x583a45,_0x535462=_0x93ddc8+':\x20'+_0x29d633;throw this[_0xb6b8c6(0x69f)][_0xb6b8c6(0x84d)](this['instanceName']+'\x20('+this[_0xb6b8c6(0x60b)][_0xb6b8c6(0x3e2)]+_0xb6b8c6(0x754)+_0x535462),new m(_0x535462);}}async['allFlows'](){const _0x29e2c9=a0_0x1b7b78;try{this[_0x29e2c9(0x69f)][_0x29e2c9(0x776)](this[_0x29e2c9(0x2e9)]+'\x20('+this[_0x29e2c9(0x60b)]['wuid']+_0x29e2c9(0x309)),await this[_0x29e2c9(0x721)]();let _0x153a4e=await this['repository'][_0x29e2c9(0x2b4)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x29e2c9(0x767)][_0x29e2c9(0x44c)],..._0x153a4e];}catch(_0x329c8e){return this[_0x29e2c9(0x69f)][_0x29e2c9(0x84d)](this[_0x29e2c9(0x2e9)]+'\x20('+this[_0x29e2c9(0x60b)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x329c8e instanceof Error?_0x329c8e[_0x29e2c9(0x272)]:JSON[_0x29e2c9(0x5b9)](_0x329c8e,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x329c8e instanceof Error?_0x329c8e[_0x29e2c9(0x272)]:String(_0x329c8e))};}}async[a0_0x1b7b78(0x611)](_0x5c4c97,_0x7c4d29){const _0x411c95=a0_0x1b7b78;try{this[_0x411c95(0x69f)][_0x411c95(0x776)](this[_0x411c95(0x2e9)]+'\x20('+this[_0x411c95(0x60b)][_0x411c95(0x3e2)]+'):\x20Alterando\x20fluxo...');let _0xa41b01=this['AutomateSystem'][_0x411c95(0x44c)][_0x411c95(0x83c)](_0x507fd6=>_0x507fd6[_0x411c95(0x49d)]===_0x5c4c97[_0x411c95(0x49d)]);if(!_0xa41b01)throw this[_0x411c95(0x69f)][_0x411c95(0x776)](this[_0x411c95(0x2e9)]+'\x20('+this[_0x411c95(0x60b)][_0x411c95(0x3e2)]+_0x411c95(0x21e)+_0x5c4c97[_0x411c95(0x49d)]+_0x411c95(0x6c1)),new m(_0x411c95(0x7a4));let _0x22970f=await this[_0x411c95(0x8f0)][_0x411c95(0x2b4)][_0x411c95(0x547)]({'where':{'_id':_0x5c4c97[_0x411c95(0x49d)]}});if(!_0x22970f||!_0x22970f[_0x411c95(0x725)]?.[_0x411c95(0x5a5)](this[_0x411c95(0x60b)][_0x411c95(0x3e2)]))throw this['logger'][_0x411c95(0x84d)](this['instanceName']+'\x20('+this[_0x411c95(0x60b)][_0x411c95(0x3e2)]+_0x411c95(0x714)+_0x5c4c97[_0x411c95(0x49d)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x5c4c97[_0x411c95(0x49d)]+_0x411c95(0x52a));let _0xe1b835=this[_0x411c95(0x767)][_0x411c95(0x44c)]['findIndex'](_0x3260ad=>_0x3260ad[_0x411c95(0x49d)]===_0xa41b01[_0x411c95(0x49d)]);if(_0xe1b835!==-0x1){let _0x4fa5e6=this[_0x411c95(0x767)]['flows'][_0xe1b835];if(_0x4fa5e6[_0x411c95(0x4a9)]=_0x5c4c97['name']??_0x4fa5e6['name'],_0x4fa5e6[_0x411c95(0x7ac)]=_0x5c4c97[_0x411c95(0x7ac)]??_0x4fa5e6['default'],_0x4fa5e6[_0x411c95(0x1eb)]=_0x5c4c97[_0x411c95(0x1eb)]??_0x4fa5e6[_0x411c95(0x1eb)],_0x4fa5e6[_0x411c95(0x86b)]=_0x5c4c97[_0x411c95(0x4ba)]??_0x4fa5e6['startCommand'],_0x4fa5e6[_0x411c95(0x3ce)]=_0x5c4c97['minutesToClose']??_0x4fa5e6[_0x411c95(0x3ce)],_0x4fa5e6[_0x411c95(0x31b)]=_0x5c4c97[_0x411c95(0x31b)]??_0x4fa5e6[_0x411c95(0x31b)],_0x5c4c97['default']&&this[_0x411c95(0x767)][_0x411c95(0x44c)]['forEach']((_0x123c40,_0x1fcc8c)=>{const _0x4f2867=_0x411c95;_0x1fcc8c!==_0xe1b835&&(_0x123c40[_0x4f2867(0x7ac)]=!0x1);}),this[_0x411c95(0x767)][_0x411c95(0x44c)][_0xe1b835]=_0x4fa5e6,!await this[_0x411c95(0x8f0)][_0x411c95(0x4c2)]['update']({'flows':this[_0x411c95(0x767)][_0x411c95(0x44c)]},this[_0x411c95(0x60b)][_0x411c95(0x3e2)]))throw new m(_0x411c95(0x4f8));}let _0x458221=['global',_0x411c95(0x875),_0x411c95(0x29c),'shareOwners'];for(let _0x3ae457 of _0x458221)delete _0x5c4c97[_0x3ae457];if(_0x22970f[_0x411c95(0x5ce)]?.['includes'](this[_0x411c95(0x60b)][_0x411c95(0x3e2)])||(_0x5c4c97={'_id':_0x5c4c97[_0x411c95(0x49d)]}),_0x7c4d29!==Ri&&_0x5c4c97?.[_0x411c95(0x81f)]&&!_0x22970f?.['globalShow'])throw new m(_0x411c95(0x67c));let _0x57b21c=new Set(_0x5c4c97[_0x411c95(0x5ce)]??_0x22970f[_0x411c95(0x5ce)]);_0x57b21c[_0x411c95(0x3bf)](_0x22970f[_0x411c95(0x186)]);let _0xc8ac1f=new Set(_0x5c4c97[_0x411c95(0x725)]??_0x22970f[_0x411c95(0x725)]??[]);_0x57b21c[_0x411c95(0x52e)](_0x32c4da=>_0xc8ac1f[_0x411c95(0x3bf)](_0x32c4da)),_0xc8ac1f['add'](_0x22970f[_0x411c95(0x186)]),this[_0x411c95(0x69f)][_0x411c95(0x776)](this[_0x411c95(0x2e9)]+'\x20('+this[_0x411c95(0x60b)]['wuid']+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array['from'](_0x57b21c)),this[_0x411c95(0x69f)][_0x411c95(0x776)](this['instanceName']+'\x20('+this[_0x411c95(0x60b)][_0x411c95(0x3e2)]+_0x411c95(0x1b4)+Array[_0x411c95(0x818)](_0xc8ac1f));let _0x2042c6=await this[_0x411c95(0x5e8)](Array[_0x411c95(0x818)](_0xc8ac1f)),_0x124412=Array['from'](_0x57b21c)['filter'](_0x541634=>_0x2042c6[_0x411c95(0x5a5)](_0x541634)),_0x187d9c=Array[_0x411c95(0x818)](_0xc8ac1f)[_0x411c95(0x194)](_0x2f1e38=>_0x2042c6[_0x411c95(0x5a5)](_0x2f1e38));this['logger'][_0x411c95(0x776)](this[_0x411c95(0x2e9)]+'\x20('+this[_0x411c95(0x60b)][_0x411c95(0x3e2)]+_0x411c95(0x7dd)+_0x124412),this[_0x411c95(0x69f)][_0x411c95(0x776)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x411c95(0x4a6)+_0x187d9c);let _0x10f708={..._0x22970f,..._0x5c4c97,'whoCanEdit':_0x124412,'whoCanUse':_0x187d9c},_0x401efc=await this[_0x411c95(0x8f0)][_0x411c95(0x2b4)]['updateOne'](_0x22970f[_0x411c95(0x49d)],_0x10f708);return await this[_0x411c95(0x721)](),_0x401efc;}catch(_0x31bd3d){let _0x540296=_0x411c95(0x5cb),_0x5d9baa=_0x31bd3d instanceof Error?_0x31bd3d[_0x411c95(0x272)]:typeof _0x31bd3d==_0x411c95(0x56d)?JSON[_0x411c95(0x5b9)](_0x31bd3d):_0x31bd3d,_0x529b1d=_0x540296+':\x20'+_0x5d9baa;throw this['logger'][_0x411c95(0x84d)](this[_0x411c95(0x2e9)]+'\x20('+this[_0x411c95(0x60b)][_0x411c95(0x3e2)]+_0x411c95(0x754)+_0x529b1d),new m(_0x529b1d);}}async[a0_0x1b7b78(0x5e8)](_0x8df56c){const _0x507d58=a0_0x1b7b78;let _0x32ce5e={'numbers':_0x8df56c};return(await this[_0x507d58(0x32b)](_0x32ce5e))[_0x507d58(0x194)](_0x124974=>_0x124974[_0x507d58(0x1e3)])['map'](_0x5499c7=>_0x5499c7[_0x507d58(0x4bc)])['map'](_0x268531=>this['extractPhoneNumber'](_0x268531));}[a0_0x1b7b78(0x464)](_0x3b9ce8){const _0x709372=a0_0x1b7b78;let _0x1f7694=_0x3b9ce8[_0x709372(0x65b)](/\d+/);return _0x1f7694?_0x1f7694[0x0]:'';}async['editFlowBlock'](_0x251dd8){const _0x2508da=a0_0x1b7b78;try{if(this[_0x2508da(0x69f)][_0x2508da(0x776)](this[_0x2508da(0x2e9)]+'\x20('+this[_0x2508da(0x60b)][_0x2508da(0x3e2)]+'):\x20Editando\x20bloco...'),!this[_0x2508da(0x767)][_0x2508da(0x44c)][_0x2508da(0x83c)](_0x3a52d8=>_0x3a52d8[_0x2508da(0x49d)]===_0x251dd8['_id']))throw this[_0x2508da(0x69f)][_0x2508da(0x776)](this[_0x2508da(0x2e9)]+'\x20('+this['instance'][_0x2508da(0x3e2)]+_0x2508da(0x21e)+_0x251dd8[_0x2508da(0x49d)]+_0x2508da(0x6c1)),new m(_0x2508da(0x7a4));let _0xede0b8=await this['repository']['flow']['findOne']({'where':{'_id':_0x251dd8[_0x2508da(0x49d)]}});if(!_0xede0b8||!_0xede0b8['whoCanUse']?.['includes'](this[_0x2508da(0x60b)][_0x2508da(0x3e2)]))throw this[_0x2508da(0x69f)]['error'](this[_0x2508da(0x2e9)]+'\x20('+this['instance'][_0x2508da(0x3e2)]+_0x2508da(0x714)+_0x251dd8[_0x2508da(0x49d)]+_0x2508da(0x52a)),new m(_0x2508da(0x7c4)+_0x251dd8['_id']+_0x2508da(0x52a));if(!_0xede0b8[_0x2508da(0x5ce)]?.[_0x2508da(0x5a5)](this['instance'][_0x2508da(0x3e2)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x367ced}=_0x251dd8;_0x367ced?.[_0x2508da(0x361)]?this[_0x2508da(0x801)](_0xede0b8,_0x251dd8):_0x367ced?.[_0x2508da(0x30b)]?this[_0x2508da(0x57d)](_0xede0b8,_0x251dd8):_0x367ced[_0x2508da(0x49d)]?await this[_0x2508da(0x6a0)](_0xede0b8,_0x251dd8):this[_0x2508da(0x22a)](_0xede0b8,_0x251dd8);let _0x8b93f5=await this[_0x2508da(0x8f0)][_0x2508da(0x2b4)][_0x2508da(0x6b6)](_0xede0b8['_id'],_0xede0b8);if(!_0x8b93f5)throw new Error(_0x2508da(0x1e9));return _0x8b93f5;}catch(_0x48e8df){this[_0x2508da(0x372)](_0x2508da(0x536)+_0x48e8df['message']);}}async[a0_0x1b7b78(0x801)](_0x364b02,_0x50d52b){const _0x28982e=a0_0x1b7b78;let _0x405f61=_0x50d52b[_0x28982e(0x54e)][_0x28982e(0x49d)],_0x6591c3=_0x364b02[_0x28982e(0x85c)]['find'](_0x531a36=>_0x531a36['_id']['toString']()===_0x405f61);if(!_0x6591c3){this['logger'][_0x28982e(0x84d)](this['instanceName']+'\x20('+this[_0x28982e(0x60b)]['wuid']+_0x28982e(0x59c)+_0x405f61+_0x28982e(0x35f));return;}this[_0x28982e(0x69f)][_0x28982e(0x776)](this[_0x28982e(0x2e9)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x28982e(0x5b9)](_0x6591c3));let _0x32cccc=JSON[_0x28982e(0x599)](JSON[_0x28982e(0x5b9)](_0x6591c3));_0x32cccc['_id']=new ge[(_0x28982e(0x7ac))]['Types']['ObjectId'](),this[_0x28982e(0x69f)]['verbose'](this[_0x28982e(0x2e9)]+'\x20('+this[_0x28982e(0x60b)][_0x28982e(0x3e2)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x28982e(0x5b9)](_0x32cccc)),_0x364b02[_0x28982e(0x85c)][_0x28982e(0x184)](_0x32cccc),this[_0x28982e(0x320)](_0x364b02[_0x28982e(0x85c)],_0x32cccc[_0x28982e(0x726)]);}['throwAndLogError'](_0x19bffd){const _0xbd5fef=a0_0x1b7b78;throw this[_0xbd5fef(0x69f)][_0xbd5fef(0x84d)](this[_0xbd5fef(0x2e9)]+'\x20('+this[_0xbd5fef(0x60b)][_0xbd5fef(0x3e2)]+_0xbd5fef(0x754)+_0x19bffd),new m(_0x19bffd);}[a0_0x1b7b78(0x57d)](_0x1102ab,_0x400028){const _0x453624=a0_0x1b7b78;let {block:_0x1483d8}=_0x400028;if(_0x1483d8[_0x453624(0x4ae)]===_0x453624(0x842)){this['throwAndLogError'](_0x453624(0x516));return;}if(!_0x1483d8['_id']){this[_0x453624(0x372)](_0x453624(0x4d1));return;}let _0x1cd28e=_0x1102ab[_0x453624(0x85c)][_0x453624(0x83c)](_0x5eebad=>_0x5eebad[_0x453624(0x49d)]['toString']()===_0x400028[_0x453624(0x54e)][_0x453624(0x49d)][_0x453624(0x6e2)]());if(!_0x1cd28e){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x1483d8['_id']+'\x20não\x20encontrado');return;}_0x1102ab[_0x453624(0x85c)]=_0x1102ab['blocks'][_0x453624(0x194)](_0x16c04d=>_0x16c04d[_0x453624(0x49d)][_0x453624(0x6e2)]()!==_0x400028['block'][_0x453624(0x49d)]['toString']()),_0x1102ab['conditions']=_0x1102ab[_0x453624(0x868)]['filter'](_0x27ebcd=>_0x27ebcd[_0x453624(0x39b)]!==_0x1483d8[_0x453624(0x49d)][_0x453624(0x6e2)]()),_0x1102ab['varedits']=_0x1102ab['varedits'][_0x453624(0x194)](_0x269d1d=>_0x269d1d[_0x453624(0x39b)]!==_0x1483d8[_0x453624(0x49d)][_0x453624(0x6e2)]()),_0x1102ab[_0x453624(0x573)]=_0x1102ab[_0x453624(0x573)][_0x453624(0x194)](_0x1864e3=>_0x1864e3[_0x453624(0x39b)]!==_0x1483d8['_id'][_0x453624(0x6e2)]()),this[_0x453624(0x320)](_0x1102ab[_0x453624(0x85c)],_0x1cd28e[_0x453624(0x726)]);}async['updateBlock'](_0x1922af,_0x1d5143){const _0x29aa15=a0_0x1b7b78;let _0x2fe9e3=_0x1922af['blocks'][_0x29aa15(0x554)](_0x149f8e=>_0x149f8e[_0x29aa15(0x49d)]['toString']()===_0x1d5143[_0x29aa15(0x54e)]['_id'][_0x29aa15(0x6e2)]());if(this['logger'][_0x29aa15(0x776)](this[_0x29aa15(0x2e9)]+'\x20('+this[_0x29aa15(0x60b)][_0x29aa15(0x3e2)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x2fe9e3),_0x2fe9e3===-0x1){this['logger'][_0x29aa15(0x776)]('Bloco\x20com\x20ID\x20'+_0x1d5143[_0x29aa15(0x54e)][_0x29aa15(0x49d)]+_0x29aa15(0x2e7));return;}if(_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3][_0x29aa15(0x4ae)]===_0x29aa15(0x842)){let _0x414d44=Object[_0x29aa15(0x51a)](_0x1d5143['block']);if(_0x414d44['length']>0x2||_0x414d44['length']===0x2&&!_0x414d44[_0x29aa15(0x5a5)]('next_groupId')){this[_0x29aa15(0x372)](_0x29aa15(0x7a5));return;}}let _0x388791=_0x1922af['blocks'][_0x2fe9e3][_0x29aa15(0x726)];for(let _0x2a0b2f in _0x1d5143['block'])_0x1d5143['block'][_0x29aa15(0x5a4)](_0x2a0b2f)&&(_0x1922af['blocks'][_0x2fe9e3][_0x2a0b2f]=_0x1d5143[_0x29aa15(0x54e)][_0x2a0b2f]);if(this[_0x29aa15(0x69f)][_0x29aa15(0x776)](this[_0x29aa15(0x2e9)]+'\x20('+this[_0x29aa15(0x60b)][_0x29aa15(0x3e2)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x29aa15(0x5b9)](_0x1922af['blocks'][_0x2fe9e3])),_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3]['apirequest']&&_0x29aa15(0x6d7)in _0x1922af[_0x29aa15(0x85c)][_0x2fe9e3]['apirequest']){this[_0x29aa15(0x69f)][_0x29aa15(0x776)](this[_0x29aa15(0x2e9)]+'\x20('+this[_0x29aa15(0x60b)][_0x29aa15(0x3e2)]+_0x29aa15(0x852));let _0x9ea82b=JSON['stringify'](_0x1922af['blocks'][_0x2fe9e3][_0x29aa15(0x4eb)][_0x29aa15(0x6d7)],null,0x1);_0x9ea82b[_0x29aa15(0x245)]>0x2&&(_0x9ea82b=_0x9ea82b[_0x29aa15(0x77a)](0x1,_0x9ea82b[_0x29aa15(0x245)]-0x1)[_0x29aa15(0x1da)]()),_0x1922af['blocks'][_0x2fe9e3][_0x29aa15(0x4eb)][_0x29aa15(0x4bb)]=_0x9ea82b;}if(_0x1922af['blocks'][_0x2fe9e3]['apirequest']&&_0x29aa15(0x72b)in _0x1922af[_0x29aa15(0x85c)][_0x2fe9e3][_0x29aa15(0x4eb)]&&!('bodyString'in _0x1922af[_0x29aa15(0x85c)][_0x2fe9e3][_0x29aa15(0x4eb)])){this[_0x29aa15(0x69f)][_0x29aa15(0x776)](this[_0x29aa15(0x2e9)]+'\x20('+this[_0x29aa15(0x60b)][_0x29aa15(0x3e2)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3]['apirequest']['bodyStringErrorParse']=!0x1;let _0x593b20=JSON['stringify'](_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3][_0x29aa15(0x4eb)][_0x29aa15(0x72b)],null,0x2);_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3][_0x29aa15(0x4eb)][_0x29aa15(0x815)]=_0x593b20;}if(_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3]['apirequest']&&'bodyString'in _0x1922af[_0x29aa15(0x85c)][_0x2fe9e3]['apirequest']){_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3][_0x29aa15(0x4eb)][_0x29aa15(0x87d)]=!0x1;let _0x414849=_0x1922af['blocks'][_0x2fe9e3][_0x29aa15(0x4eb)][_0x29aa15(0x815)],_0x3e5b41=this[_0x29aa15(0x830)](_0x414849);_0x1922af['blocks'][_0x2fe9e3][_0x29aa15(0x4eb)][_0x29aa15(0x815)]=_0x3e5b41['result'],_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3]['apirequest'][_0x29aa15(0x87d)]=_0x3e5b41[_0x29aa15(0x84d)];}let _0x1e0a02=_0x1922af[_0x29aa15(0x85c)][_0x2fe9e3][_0x29aa15(0x726)];_0x388791!==_0x1e0a02?(this[_0x29aa15(0x320)](_0x1922af[_0x29aa15(0x85c)],_0x388791),this['reorderBlocks'](_0x1922af[_0x29aa15(0x85c)],_0x1e0a02)):this[_0x29aa15(0x320)](_0x1922af['blocks'],_0x388791);}[a0_0x1b7b78(0x830)](_0x1b7ba3){const _0x5db3a0=a0_0x1b7b78;let _0x2e14c1='\u205f',_0xdab2d=!0x1,_0xcd77de='';for(let _0x35a724=0x0;_0x35a724<_0x1b7ba3[_0x5db3a0(0x245)];_0x35a724++){let _0x497371=_0x1b7ba3[_0x35a724];_0x497371==='\x22'&&(_0x35a724===0x0||_0x1b7ba3[_0x35a724-0x1]!=='\x5c')&&(_0xdab2d=!_0xdab2d),!(!_0xdab2d&&(_0x497371==='\x0a'||_0x497371==='\x20'||_0x497371===_0x2e14c1))&&(_0xcd77de+=_0x497371);}let _0x28b93f={},_0x26ec24=9876543210.1234,_0x5808ed=_0xcd77de[_0x5db3a0(0x465)](/\{\{([^}]+)\}\}/g,_0x30f4e7=>{let _0x85a434=_0x30f4e7,_0x4fd425=''+_0x26ec24;return _0x28b93f[_0x4fd425]=_0x85a434,_0x26ec24+=0.0001,_0x4fd425;}),_0x29d2d0='',_0x4ba65b=!0x1;try{let _0x28cbba=JSON[_0x5db3a0(0x599)](_0x5808ed);_0x29d2d0=JSON['stringify'](_0x28cbba,null,0x2),_0x29d2d0=_0x29d2d0[_0x5db3a0(0x465)](/\n( +)/g,(_0x4eacbd,_0x465615)=>{const _0x16a8fa=_0x5db3a0;let _0x4013fd=_0x465615[_0x16a8fa(0x245)];return'\x0a'+_0x2e14c1['repeat'](_0x4013fd*0x2);}),_0x29d2d0=_0x29d2d0['replace'](/(\d{10,}\.\d+)/g,_0x4d98dd=>_0x28b93f[_0x4d98dd]||_0x4d98dd);}catch(_0x51a7ae){this['logger'][_0x5db3a0(0x84d)]('Error\x20parsing\x20JSON:'+_0x51a7ae),_0x29d2d0=_0x1b7ba3,_0x4ba65b=!0x0;}return{'result':_0x29d2d0,'error':_0x4ba65b};}[a0_0x1b7b78(0x22a)](_0x1335ed,_0x5a47aa){const _0x23bdf5=a0_0x1b7b78;if(_0x5a47aa[_0x23bdf5(0x54e)][_0x23bdf5(0x4ae)]===_0x23bdf5(0x842)){this[_0x23bdf5(0x372)](_0x23bdf5(0x417));return;}if(_0x5a47aa[_0x23bdf5(0x54e)][_0x23bdf5(0x4eb)]&&_0x23bdf5(0x6d7)in _0x5a47aa[_0x23bdf5(0x54e)][_0x23bdf5(0x4eb)]){this[_0x23bdf5(0x69f)][_0x23bdf5(0x776)](this[_0x23bdf5(0x2e9)]+'\x20('+this[_0x23bdf5(0x60b)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x898331=JSON[_0x23bdf5(0x5b9)](_0x5a47aa['block']['apirequest']['header'],null,0x1);_0x898331[_0x23bdf5(0x245)]>0x2&&(_0x898331=_0x898331['substring'](0x1,_0x898331['length']-0x1)['trim']()),_0x5a47aa[_0x23bdf5(0x54e)]['apirequest']['headerString']=_0x898331;}_0x5a47aa['block'][_0x23bdf5(0x4eb)]&&_0x23bdf5(0x72b)in _0x5a47aa['block'][_0x23bdf5(0x4eb)]&&(this[_0x23bdf5(0x69f)][_0x23bdf5(0x776)](this['instanceName']+'\x20('+this['instance'][_0x23bdf5(0x3e2)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5a47aa[_0x23bdf5(0x54e)][_0x23bdf5(0x4eb)]['bodyString']=JSON[_0x23bdf5(0x5b9)](_0x5a47aa[_0x23bdf5(0x54e)]['apirequest']['body'],null,0x1)[_0x23bdf5(0x1da)]()),_0x1335ed[_0x23bdf5(0x85c)][_0x23bdf5(0x184)](_0x5a47aa[_0x23bdf5(0x54e)]),this[_0x23bdf5(0x320)](_0x1335ed[_0x23bdf5(0x85c)],_0x5a47aa['block'][_0x23bdf5(0x726)]);}['reorderBlocks'](_0x3ddc48,_0x52fb4f){const _0x387e36=a0_0x1b7b78;let _0x189a29=_0x3ddc48['filter'](_0x388f88=>_0x388f88[_0x387e36(0x726)]===_0x52fb4f);_0x189a29[_0x387e36(0x4d4)]((_0x1a27c0,_0x50f283)=>_0x1a27c0[_0x387e36(0x3a2)]-_0x50f283[_0x387e36(0x3a2)]),_0x189a29[_0x387e36(0x52e)]((_0x15676f,_0x46d68d)=>_0x15676f['order']=_0x46d68d+0x1);}async['editFlowReply'](_0x16a6bd){const _0x36c90c=a0_0x1b7b78;try{if(this[_0x36c90c(0x69f)][_0x36c90c(0x776)](this[_0x36c90c(0x2e9)]+'\x20('+this[_0x36c90c(0x60b)][_0x36c90c(0x3e2)]+_0x36c90c(0x73c)),!_0x16a6bd||!_0x16a6bd[_0x36c90c(0x8a1)]){this[_0x36c90c(0x372)]('Data\x20inválida\x20fornecida');return;}if(!this['AutomateSystem'][_0x36c90c(0x44c)][_0x36c90c(0x83c)](_0x191f57=>_0x191f57[_0x36c90c(0x49d)]===_0x16a6bd[_0x36c90c(0x49d)]))throw this[_0x36c90c(0x69f)]['verbose'](this[_0x36c90c(0x2e9)]+'\x20('+this[_0x36c90c(0x60b)]['wuid']+_0x36c90c(0x21e)+_0x16a6bd[_0x36c90c(0x49d)]+_0x36c90c(0x6c1)),new m(_0x36c90c(0x7a4));let _0x1476ad=await this[_0x36c90c(0x8f0)][_0x36c90c(0x2b4)][_0x36c90c(0x547)]({'where':{'_id':_0x16a6bd[_0x36c90c(0x49d)]}});if(!_0x1476ad||!_0x1476ad[_0x36c90c(0x725)]?.[_0x36c90c(0x5a5)](this[_0x36c90c(0x60b)][_0x36c90c(0x3e2)]))throw this[_0x36c90c(0x69f)]['error'](this[_0x36c90c(0x2e9)]+'\x20('+this[_0x36c90c(0x60b)][_0x36c90c(0x3e2)]+_0x36c90c(0x714)+_0x16a6bd[_0x36c90c(0x49d)]+_0x36c90c(0x52a)),new m(_0x36c90c(0x7c4)+_0x16a6bd[_0x36c90c(0x49d)]+_0x36c90c(0x52a));if(!_0x1476ad[_0x36c90c(0x5ce)]?.[_0x36c90c(0x5a5)](this[_0x36c90c(0x60b)][_0x36c90c(0x3e2)]))throw new m(_0x36c90c(0x253));let {replyOption:_0x495713}=_0x16a6bd;_0x495713?.[_0x36c90c(0x30b)]?(this['deleteReplyOption'](_0x1476ad,_0x16a6bd),this[_0x36c90c(0x1f6)](_0x1476ad[_0x36c90c(0x573)],_0x16a6bd[_0x36c90c(0x8a1)][_0x36c90c(0x39b)])):_0x495713['_id']?(await this['updateReplyOption'](_0x1476ad,_0x16a6bd),this[_0x36c90c(0x1f6)](_0x1476ad[_0x36c90c(0x573)],_0x16a6bd[_0x36c90c(0x8a1)][_0x36c90c(0x39b)])):(this['addReplyOption'](_0x1476ad,_0x16a6bd),this[_0x36c90c(0x1f6)](_0x1476ad[_0x36c90c(0x573)],_0x16a6bd[_0x36c90c(0x8a1)][_0x36c90c(0x39b)]));let _0x3b999f=await this[_0x36c90c(0x8f0)][_0x36c90c(0x2b4)]['updateOne'](_0x1476ad[_0x36c90c(0x49d)],_0x1476ad);if(!_0x3b999f)throw new Error(_0x36c90c(0x1e9));return _0x3b999f;}catch(_0x4084fa){this['throwAndLogError'](_0x36c90c(0x44b)+_0x4084fa);}}['reorderReplyOptions'](_0x3eec35,_0x396a76){const _0x21d052=a0_0x1b7b78;_0x3eec35[_0x21d052(0x52e)](_0x591b8c=>{const _0x376ba4=_0x21d052;_0x591b8c[_0x376ba4(0x39b)]===_0x396a76&&_0x591b8c[_0x376ba4(0x3a2)]===void 0x0&&(_0x591b8c[_0x376ba4(0x3a2)]=0x270f);});let _0x53c60d=_0x3eec35[_0x21d052(0x194)](_0x4d9ea8=>_0x4d9ea8['blockId']===_0x396a76);_0x53c60d[_0x21d052(0x4d4)]((_0x48206c,_0x1560ec)=>_0x48206c[_0x21d052(0x3a2)]-_0x1560ec[_0x21d052(0x3a2)]),_0x53c60d[_0x21d052(0x52e)]((_0x4c8d7e,_0x2bb975)=>{const _0x1cb3f5=_0x21d052;_0x4c8d7e[_0x1cb3f5(0x3a2)]=_0x2bb975+0x1;}),_0x3eec35[_0x21d052(0x52e)](_0x4167a0=>{const _0x20cc91=_0x21d052;if(_0x4167a0['blockId']===_0x396a76){let _0x268374=_0x53c60d[_0x20cc91(0x83c)](_0x23bf94=>_0x23bf94[_0x20cc91(0x49d)]&&_0x4167a0[_0x20cc91(0x49d)]&&_0x23bf94[_0x20cc91(0x49d)][_0x20cc91(0x6e2)]()===_0x4167a0[_0x20cc91(0x49d)]['toString']());_0x268374&&(_0x4167a0[_0x20cc91(0x3a2)]=_0x268374[_0x20cc91(0x3a2)]);}});}[a0_0x1b7b78(0x230)](_0x2f833c,_0x2809aa){const _0x3eca75=a0_0x1b7b78;let {replyOption:_0x11e166}=_0x2809aa;if(!_0x11e166['_id']){this[_0x3eca75(0x372)](_0x3eca75(0x493));return;}if(!_0x2f833c['replyOptions']['find'](_0x42ecb1=>_0x42ecb1[_0x3eca75(0x49d)][_0x3eca75(0x6e2)]()===_0x2809aa[_0x3eca75(0x8a1)][_0x3eca75(0x49d)][_0x3eca75(0x6e2)]())){this[_0x3eca75(0x372)](_0x3eca75(0x202)+_0x11e166['_id']+_0x3eca75(0x654));return;}_0x2f833c[_0x3eca75(0x573)]=_0x2f833c[_0x3eca75(0x573)][_0x3eca75(0x194)](_0x1ae7c5=>_0x1ae7c5[_0x3eca75(0x49d)][_0x3eca75(0x6e2)]()!==_0x2809aa[_0x3eca75(0x8a1)][_0x3eca75(0x49d)]['toString']());}async[a0_0x1b7b78(0x458)](_0x5f4774,_0x2d33ea){const _0x5a3595=a0_0x1b7b78;let _0xa519e4=_0x5f4774[_0x5a3595(0x573)]['findIndex'](_0x4140cf=>_0x4140cf[_0x5a3595(0x49d)][_0x5a3595(0x6e2)]()===_0x2d33ea[_0x5a3595(0x8a1)][_0x5a3595(0x49d)]['toString']());if(_0xa519e4===-0x1){this[_0x5a3595(0x372)](_0x5a3595(0x202)+_0x2d33ea[_0x5a3595(0x8a1)][_0x5a3595(0x49d)]+_0x5a3595(0x2e7));return;}for(let _0x3c643e in _0x2d33ea[_0x5a3595(0x8a1)])_0x2d33ea[_0x5a3595(0x8a1)]['hasOwnProperty'](_0x3c643e)&&(_0x5f4774[_0x5a3595(0x573)][_0xa519e4][_0x3c643e]=_0x2d33ea[_0x5a3595(0x8a1)][_0x3c643e]);}[a0_0x1b7b78(0x456)](_0x3df4da,_0x45917e){const _0x15a18b=a0_0x1b7b78;_0x3df4da[_0x15a18b(0x573)][_0x15a18b(0x184)](_0x45917e['replyOption']);}async[a0_0x1b7b78(0x40b)](_0x209748){const _0x1ebb93=a0_0x1b7b78;this['logger'][_0x1ebb93(0x776)](this[_0x1ebb93(0x2e9)]+'\x20('+this[_0x1ebb93(0x60b)]['wuid']+_0x1ebb93(0x4fa)+JSON[_0x1ebb93(0x5b9)](_0x209748,null,0x2));try{if(this[_0x1ebb93(0x69f)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1ebb93(0x463)),!this[_0x1ebb93(0x767)][_0x1ebb93(0x44c)][_0x1ebb93(0x83c)](_0x1106fd=>_0x1106fd[_0x1ebb93(0x49d)]===_0x209748[_0x1ebb93(0x49d)]))throw this['logger'][_0x1ebb93(0x776)](this[_0x1ebb93(0x2e9)]+'\x20('+this[_0x1ebb93(0x60b)][_0x1ebb93(0x3e2)]+'):\x20Fluxo\x20\x27'+_0x209748[_0x1ebb93(0x49d)]+_0x1ebb93(0x6c1)),new m(_0x1ebb93(0x7a4));let _0x4de2d1=await this[_0x1ebb93(0x8f0)]['flow'][_0x1ebb93(0x547)]({'where':{'_id':_0x209748[_0x1ebb93(0x49d)]}});if(!_0x4de2d1||!_0x4de2d1[_0x1ebb93(0x725)]?.['includes'](this[_0x1ebb93(0x60b)][_0x1ebb93(0x3e2)]))throw this[_0x1ebb93(0x69f)]['error'](this[_0x1ebb93(0x2e9)]+'\x20('+this[_0x1ebb93(0x60b)]['wuid']+_0x1ebb93(0x714)+_0x209748[_0x1ebb93(0x49d)]+_0x1ebb93(0x52a)),new m('Flow\x20\x27'+_0x209748[_0x1ebb93(0x49d)]+_0x1ebb93(0x52a));if(!_0x4de2d1[_0x1ebb93(0x5ce)]?.[_0x1ebb93(0x5a5)](this[_0x1ebb93(0x60b)][_0x1ebb93(0x3e2)]))throw new m(_0x1ebb93(0x253));if(_0x209748['group']&&_0x209748[_0x1ebb93(0x176)]?.[_0x1ebb93(0x30b)]===!0x0){if(this[_0x1ebb93(0x69f)][_0x1ebb93(0x776)](this[_0x1ebb93(0x2e9)]+'\x20('+this['instance'][_0x1ebb93(0x3e2)]+_0x1ebb93(0x3e6)),_0x209748[_0x1ebb93(0x176)][_0x1ebb93(0x7ac)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x4de2d1['blocks'][_0x1ebb93(0x627)](_0x113203=>_0x113203[_0x1ebb93(0x726)][_0x1ebb93(0x6e2)]()===_0x209748['group'][_0x1ebb93(0x49d)]))return this['logger']['verbose'](this[_0x1ebb93(0x2e9)]+'\x20('+this[_0x1ebb93(0x60b)][_0x1ebb93(0x3e2)]+'):\x20tem\x20blocks'),{'message':_0x1ebb93(0x268)};_0x4de2d1[_0x1ebb93(0x519)]=_0x4de2d1[_0x1ebb93(0x519)][_0x1ebb93(0x194)](_0x1a3994=>_0x1a3994[_0x1ebb93(0x49d)][_0x1ebb93(0x6e2)]()!==_0x209748[_0x1ebb93(0x176)][_0x1ebb93(0x49d)]);}else{if(_0x209748[_0x1ebb93(0x176)]){if(_0x209748[_0x1ebb93(0x176)][_0x1ebb93(0x7ac)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x209748[_0x1ebb93(0x176)][_0x1ebb93(0x49d)]){let _0x33578e=_0x4de2d1['groups'][_0x1ebb93(0x83c)](_0x25fcfe=>_0x25fcfe[_0x1ebb93(0x49d)]['toString']()===_0x209748[_0x1ebb93(0x176)][_0x1ebb93(0x49d)]);_0x33578e&&(_0x209748[_0x1ebb93(0x176)]['x']<0x0&&(_0x209748['group']['x']=0x0),_0x209748['group']['y']<0x0&&(_0x209748[_0x1ebb93(0x176)]['y']=0x0),Object[_0x1ebb93(0x52b)](_0x33578e,_0x209748[_0x1ebb93(0x176)]));}else _0x4de2d1[_0x1ebb93(0x519)][_0x1ebb93(0x184)](_0x209748[_0x1ebb93(0x176)]);}}let _0x350421=await this[_0x1ebb93(0x8f0)][_0x1ebb93(0x2b4)][_0x1ebb93(0x6b6)](_0x4de2d1[_0x1ebb93(0x49d)],_0x4de2d1);if(!_0x350421)throw new Error(_0x1ebb93(0x1e9));return _0x350421;}catch(_0x40c656){let _0x379bdc=_0x1ebb93(0x21c),_0x4cec74=_0x40c656 instanceof Error?_0x40c656[_0x1ebb93(0x272)]:typeof _0x40c656=='object'?JSON[_0x1ebb93(0x5b9)](_0x40c656):_0x40c656,_0x4eecb3=_0x379bdc+':\x20'+_0x4cec74;throw this[_0x1ebb93(0x69f)]['error'](this[_0x1ebb93(0x2e9)]+'\x20('+this[_0x1ebb93(0x60b)][_0x1ebb93(0x3e2)]+_0x1ebb93(0x754)+_0x4eecb3),new m(_0x4eecb3);}}async[a0_0x1b7b78(0x3ff)](_0x20ae37){const _0x26075f=a0_0x1b7b78;try{if(this[_0x26075f(0x69f)]['verbose'](this[_0x26075f(0x2e9)]+'\x20('+this[_0x26075f(0x60b)][_0x26075f(0x3e2)]+_0x26075f(0x677)),!this[_0x26075f(0x767)]['flows'][_0x26075f(0x83c)](_0x46043c=>_0x46043c['_id']===_0x20ae37[_0x26075f(0x49d)]))throw this[_0x26075f(0x69f)][_0x26075f(0x776)](this[_0x26075f(0x2e9)]+'\x20('+this[_0x26075f(0x60b)]['wuid']+_0x26075f(0x21e)+_0x20ae37['_id']+_0x26075f(0x6c1)),new m(_0x26075f(0x7a4));let _0x5512cb=await this[_0x26075f(0x8f0)]['flow']['findOne']({'where':{'_id':_0x20ae37[_0x26075f(0x49d)]}});if(!_0x5512cb||!_0x5512cb[_0x26075f(0x725)]?.[_0x26075f(0x5a5)](this[_0x26075f(0x60b)][_0x26075f(0x3e2)]))throw this[_0x26075f(0x69f)][_0x26075f(0x84d)](this[_0x26075f(0x2e9)]+'\x20('+this[_0x26075f(0x60b)][_0x26075f(0x3e2)]+_0x26075f(0x714)+_0x20ae37[_0x26075f(0x49d)]+_0x26075f(0x52a)),new m(_0x26075f(0x7c4)+_0x20ae37[_0x26075f(0x49d)]+_0x26075f(0x52a));if(!_0x5512cb['whoCanEdit']?.[_0x26075f(0x5a5)](this[_0x26075f(0x60b)][_0x26075f(0x3e2)]))throw new m(_0x26075f(0x253));let _0x1f55e5=!0x1;if(_0x20ae37[_0x26075f(0x8ae)]?.['delete']===!0x0)_0x5512cb['conditions']=_0x5512cb[_0x26075f(0x868)]['filter'](_0x329b6d=>_0x329b6d&&_0x20ae37['condition']&&_0x329b6d[_0x26075f(0x49d)]&&_0x20ae37[_0x26075f(0x8ae)][_0x26075f(0x49d)]&&_0x329b6d[_0x26075f(0x49d)][_0x26075f(0x6e2)]()!==_0x20ae37[_0x26075f(0x8ae)]['_id'][_0x26075f(0x6e2)]()),_0x1f55e5=!0x0;else{let _0x5853ae=_0x5512cb[_0x26075f(0x868)][_0x26075f(0x83c)](_0x722ee8=>_0x722ee8&&_0x20ae37[_0x26075f(0x8ae)]&&_0x722ee8['_id']&&_0x20ae37[_0x26075f(0x8ae)][_0x26075f(0x49d)]&&_0x722ee8[_0x26075f(0x49d)][_0x26075f(0x6e2)]()===_0x20ae37['condition'][_0x26075f(0x49d)]['toString']());_0x5853ae?(_0x1f55e5=_0x5853ae[_0x26075f(0x3a2)]!==_0x20ae37['condition']['order'],Object[_0x26075f(0x52b)](_0x5853ae,_0x20ae37['condition'])):(_0x5512cb[_0x26075f(0x868)]['push'](_0x20ae37[_0x26075f(0x8ae)]),_0x1f55e5=!0x0);}if(_0x1f55e5){_0x5512cb['conditions'][_0x26075f(0x4d4)]((_0x303be1,_0x447a32)=>_0x303be1[_0x26075f(0x3a2)]>_0x447a32[_0x26075f(0x3a2)]?0x1:_0x447a32[_0x26075f(0x3a2)]>_0x303be1[_0x26075f(0x3a2)]?-0x1:0x0);for(let _0x1233a8=0x0;_0x1233a8<_0x5512cb[_0x26075f(0x868)][_0x26075f(0x245)];_0x1233a8++)_0x5512cb['conditions'][_0x1233a8][_0x26075f(0x3a2)]=_0x1233a8+0x1;_0x5512cb[_0x26075f(0x868)]['length']>0x0&&(_0x5512cb[_0x26075f(0x868)][0x0]['OrAnd']='and');}let _0xa3d303=await this[_0x26075f(0x8f0)][_0x26075f(0x2b4)][_0x26075f(0x6b6)](_0x5512cb[_0x26075f(0x49d)],_0x5512cb);if(!_0xa3d303)throw new Error(_0x26075f(0x1e9));return _0xa3d303;}catch(_0x376e32){let _0x41aa0f=_0x26075f(0x6ee),_0x5b5f2d=_0x376e32 instanceof Error?_0x376e32[_0x26075f(0x272)]:typeof _0x376e32==_0x26075f(0x56d)?JSON['stringify'](_0x376e32):_0x376e32,_0x357117=_0x41aa0f+':\x20'+_0x5b5f2d;throw this['logger']['error'](this[_0x26075f(0x2e9)]+'\x20('+this[_0x26075f(0x60b)][_0x26075f(0x3e2)]+'):\x20'+_0x357117),new m(_0x357117);}}async[a0_0x1b7b78(0x877)](_0x1604a1){const _0x5202b7=a0_0x1b7b78;try{if(this[_0x5202b7(0x69f)][_0x5202b7(0x776)](this[_0x5202b7(0x2e9)]+'\x20('+this[_0x5202b7(0x60b)][_0x5202b7(0x3e2)]+_0x5202b7(0x80c)),!this[_0x5202b7(0x767)][_0x5202b7(0x44c)][_0x5202b7(0x83c)](_0x35ea75=>_0x35ea75[_0x5202b7(0x49d)]===_0x1604a1[_0x5202b7(0x49d)]))throw this[_0x5202b7(0x69f)]['verbose'](this[_0x5202b7(0x2e9)]+'\x20('+this[_0x5202b7(0x60b)]['wuid']+_0x5202b7(0x21e)+_0x1604a1[_0x5202b7(0x49d)]+_0x5202b7(0x6c1)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x526ca0=await this[_0x5202b7(0x8f0)]['flow']['findOne']({'where':{'_id':_0x1604a1[_0x5202b7(0x49d)]}});if(!_0x526ca0||!_0x526ca0[_0x5202b7(0x725)]?.[_0x5202b7(0x5a5)](this[_0x5202b7(0x60b)][_0x5202b7(0x3e2)]))throw this['logger'][_0x5202b7(0x84d)](this[_0x5202b7(0x2e9)]+'\x20('+this[_0x5202b7(0x60b)][_0x5202b7(0x3e2)]+_0x5202b7(0x714)+_0x1604a1[_0x5202b7(0x49d)]+_0x5202b7(0x52a)),new m(_0x5202b7(0x7c4)+_0x1604a1[_0x5202b7(0x49d)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x526ca0[_0x5202b7(0x5ce)]?.['includes'](this[_0x5202b7(0x60b)][_0x5202b7(0x3e2)]))throw new m(_0x5202b7(0x253));let _0x7352a=!0x1;if(_0x1604a1['varedit']?.[_0x5202b7(0x30b)]===!0x0)_0x526ca0[_0x5202b7(0x229)]=_0x526ca0[_0x5202b7(0x229)][_0x5202b7(0x194)](_0x17532d=>_0x17532d&&_0x1604a1['varedit']&&_0x17532d[_0x5202b7(0x49d)]&&_0x1604a1['varedit'][_0x5202b7(0x49d)]&&_0x17532d['_id'][_0x5202b7(0x6e2)]()!==_0x1604a1[_0x5202b7(0x323)]['_id']['toString']()),_0x7352a=!0x0;else{let _0x23ceba=_0x526ca0[_0x5202b7(0x229)][_0x5202b7(0x83c)](_0x9232f5=>_0x9232f5&&_0x1604a1[_0x5202b7(0x323)]&&_0x9232f5[_0x5202b7(0x49d)]&&_0x1604a1['varedit'][_0x5202b7(0x49d)]&&_0x9232f5[_0x5202b7(0x49d)][_0x5202b7(0x6e2)]()===_0x1604a1[_0x5202b7(0x323)]['_id'][_0x5202b7(0x6e2)]());_0x23ceba?(_0x7352a=_0x23ceba['order']!==_0x1604a1['varedit'][_0x5202b7(0x3a2)],Object['assign'](_0x23ceba,_0x1604a1['varedit'])):(_0x526ca0['varedits']['push'](_0x1604a1[_0x5202b7(0x323)]),_0x7352a=!0x0);}if(_0x7352a){_0x526ca0[_0x5202b7(0x229)]['sort']((_0x43796e,_0x4c130c)=>_0x43796e[_0x5202b7(0x3a2)]>_0x4c130c['order']?0x1:_0x4c130c['order']>_0x43796e['order']?-0x1:0x0);for(let _0x11ca9c=0x0;_0x11ca9c<_0x526ca0[_0x5202b7(0x229)]['length'];_0x11ca9c++)_0x526ca0[_0x5202b7(0x229)][_0x11ca9c][_0x5202b7(0x3a2)]=_0x11ca9c+0x1;}let _0x3c66d7=await this[_0x5202b7(0x8f0)][_0x5202b7(0x2b4)][_0x5202b7(0x6b6)](_0x526ca0[_0x5202b7(0x49d)],_0x526ca0);if(!_0x3c66d7)throw new Error(_0x5202b7(0x1e9));return _0x3c66d7;}catch(_0x53b126){let _0x41741f=_0x5202b7(0x6ee),_0x2620f9=_0x53b126 instanceof Error?_0x53b126[_0x5202b7(0x272)]:typeof _0x53b126==_0x5202b7(0x56d)?JSON[_0x5202b7(0x5b9)](_0x53b126):_0x53b126,_0x361269=_0x41741f+':\x20'+_0x2620f9;throw this[_0x5202b7(0x69f)][_0x5202b7(0x84d)](this[_0x5202b7(0x2e9)]+'\x20('+this['instance'][_0x5202b7(0x3e2)]+_0x5202b7(0x754)+_0x361269),new m(_0x361269);}}async[a0_0x1b7b78(0x79f)](_0x398a53){const _0x245f82=a0_0x1b7b78;try{if(this['logger']['verbose'](this[_0x245f82(0x2e9)]+'\x20('+this[_0x245f82(0x60b)]['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x245f82(0x767)][_0x245f82(0x44c)][_0x245f82(0x83c)](_0x75457d=>_0x75457d[_0x245f82(0x49d)]===_0x398a53['_id']))throw this[_0x245f82(0x69f)][_0x245f82(0x776)](this[_0x245f82(0x2e9)]+'\x20('+this['instance'][_0x245f82(0x3e2)]+_0x245f82(0x21e)+_0x398a53[_0x245f82(0x49d)]+_0x245f82(0x6c1)),new m(_0x245f82(0x7a4));let _0x2e97bd=await this[_0x245f82(0x8f0)][_0x245f82(0x2b4)][_0x245f82(0x547)]({'where':{'_id':_0x398a53[_0x245f82(0x49d)]}});if(!_0x2e97bd||!_0x2e97bd[_0x245f82(0x725)]?.[_0x245f82(0x5a5)](this['instance'][_0x245f82(0x3e2)]))throw this['logger']['error'](this[_0x245f82(0x2e9)]+'\x20('+this[_0x245f82(0x60b)][_0x245f82(0x3e2)]+_0x245f82(0x714)+_0x398a53[_0x245f82(0x49d)]+_0x245f82(0x52a)),new m(_0x245f82(0x7c4)+_0x398a53[_0x245f82(0x49d)]+_0x245f82(0x52a));if(!_0x2e97bd[_0x245f82(0x5ce)]?.['includes'](this[_0x245f82(0x60b)][_0x245f82(0x3e2)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0x398a53[_0x245f82(0x528)][_0x245f82(0x4a9)]=_0x398a53['variable'][_0x245f82(0x4a9)]['trim'](),_0x398a53[_0x245f82(0x528)][_0x245f82(0x4a9)]['startsWith']('_')&&(_0x398a53[_0x245f82(0x528)][_0x245f82(0x4a9)]=_0x398a53['variable'][_0x245f82(0x4a9)]['substring'](0x1)),_0x398a53[_0x245f82(0x528)]['name']=_0x398a53[_0x245f82(0x528)]['name'][_0x245f82(0x1da)]();let _0x97cb8f=_0x2e97bd[_0x245f82(0x1f0)][_0x245f82(0x83c)](_0xd827bb=>_0xd827bb[_0x245f82(0x4a9)]===_0x398a53[_0x245f82(0x528)][_0x245f82(0x4a9)]);if(_0x97cb8f?.[_0x245f82(0x873)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x398a53[_0x245f82(0x528)]?.[_0x245f82(0x30b)]===!0x0){if(!_0x97cb8f)return{'message':_0x245f82(0x8d5)};_0x2e97bd['variables']=_0x2e97bd[_0x245f82(0x1f0)][_0x245f82(0x194)](_0x54b439=>_0x54b439[_0x245f82(0x4a9)]!==_0x398a53[_0x245f82(0x528)][_0x245f82(0x4a9)]);}else _0x97cb8f?Object['assign'](_0x97cb8f,_0x398a53[_0x245f82(0x528)]):_0x2e97bd[_0x245f82(0x1f0)]['push'](_0x398a53[_0x245f82(0x528)]);let _0x599d2f=await this['repository'][_0x245f82(0x2b4)][_0x245f82(0x6b6)](_0x2e97bd[_0x245f82(0x49d)],_0x2e97bd);if(!_0x599d2f)throw new Error(_0x245f82(0x1e9));return _0x599d2f;}catch(_0x2600dd){let _0x1cd5f2=_0x245f82(0x20b),_0x37f1e7=_0x2600dd instanceof Error?_0x2600dd[_0x245f82(0x272)]:typeof _0x2600dd==_0x245f82(0x56d)?JSON['stringify'](_0x2600dd):_0x2600dd,_0x5e1fc6=_0x1cd5f2+':\x20'+_0x37f1e7;throw this[_0x245f82(0x69f)][_0x245f82(0x84d)](this['instanceName']+'\x20('+this[_0x245f82(0x60b)][_0x245f82(0x3e2)]+'):\x20'+_0x5e1fc6),new m(_0x5e1fc6);}}async['startFlow'](_0x24d908){const _0x4bdd57=a0_0x1b7b78;let _0x3ee286=null;try{if(!this[_0x4bdd57(0x767)]?.[_0x4bdd57(0x80a)][_0x4bdd57(0x886)])throw new m(_0x4bdd57(0x4b1));this[_0x4bdd57(0x69f)][_0x4bdd57(0x776)](this[_0x4bdd57(0x2e9)]+'\x20('+this[_0x4bdd57(0x60b)]['wuid']+_0x4bdd57(0x24e));let _0xd5c2e0=(await this[_0x4bdd57(0x32b)]({'numbers':[_0x24d908[_0x4bdd57(0x745)]]}))[0x0];if(!_0xd5c2e0[_0x4bdd57(0x1e3)]&&!(0x0,w[_0x4bdd57(0x5c4)])(_0xd5c2e0[_0x4bdd57(0x4bc)])&&!_0xd5c2e0['jid']['includes'](_0x4bdd57(0x6ed)))throw _0x3ee286=JSON[_0x4bdd57(0x5b9)](_0xd5c2e0,null,0x2),new m(_0xd5c2e0);let _0x5158b7;if(_0x24d908[_0x4bdd57(0x4a9)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x4bdd57(0x602)](_0x24d908['name'])?_0x5158b7=this[_0x4bdd57(0x767)][_0x4bdd57(0x44c)][_0x4bdd57(0x83c)](_0xc24360=>_0xc24360['_id']===_0x24d908[_0x4bdd57(0x4a9)]):_0x5158b7=this[_0x4bdd57(0x767)][_0x4bdd57(0x44c)][_0x4bdd57(0x83c)](_0x2f4735=>_0x2f4735[_0x4bdd57(0x4a9)]===_0x24d908[_0x4bdd57(0x4a9)]),!_0x5158b7)throw this[_0x4bdd57(0x69f)][_0x4bdd57(0x776)](this[_0x4bdd57(0x2e9)]+'\x20('+this[_0x4bdd57(0x60b)][_0x4bdd57(0x3e2)]+_0x4bdd57(0x21e)+_0x24d908['name']+_0x4bdd57(0x6c1)),new m(_0x4bdd57(0x7a4));let _0x33cc41=await this[_0x4bdd57(0x8f0)][_0x4bdd57(0x2b4)][_0x4bdd57(0x547)]({'where':{'_id':_0x5158b7[_0x4bdd57(0x49d)]}});if(!_0x33cc41||!_0x33cc41[_0x4bdd57(0x725)]?.['includes'](this[_0x4bdd57(0x60b)]['wuid']))throw this[_0x4bdd57(0x69f)]['error'](this[_0x4bdd57(0x2e9)]+'\x20('+this['instance'][_0x4bdd57(0x3e2)]+_0x4bdd57(0x714)+_0x5158b7[_0x4bdd57(0x49d)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x3ee286='Flow\x20\x27'+_0x5158b7['_id']+_0x4bdd57(0x52a),new m(_0x3ee286);let _0x121f6f=await this['createConversationforStartFlow'](_0x33cc41,_0xd5c2e0[_0x4bdd57(0x4bc)],_0x24d908[_0x4bdd57(0x8d1)]);if(_0x121f6f){this[_0x4bdd57(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0x4bdd57(0x60b)][_0x4bdd57(0x3e2)]+_0x4bdd57(0x271));let _0x31f759=await this[_0x4bdd57(0x798)](_0x121f6f);return _0x31f759&&await this[_0x4bdd57(0x512)](_0x121f6f,_0x31f759),{'message':_0x4bdd57(0x4b6)+_0x24d908[_0x4bdd57(0x745)]};}}catch(_0x5efa51){if(this[_0x4bdd57(0x69f)][_0x4bdd57(0x84d)](this['instanceName']+'\x20('+this[_0x4bdd57(0x60b)]['wuid']+_0x4bdd57(0x62f)+(_0x5efa51 instanceof Error?_0x5efa51[_0x4bdd57(0x272)]:JSON['stringify'](_0x5efa51,null,0x2))),_0x3ee286=_0x5efa51 instanceof Error?_0x5efa51['message']:JSON['stringify'](_0x5efa51,null,0x2),_0x3ee286)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x3ee286);}}async[a0_0x1b7b78(0x288)](_0x2852ea,_0xe1a71f,_0x171955){const _0x2e29a0=a0_0x1b7b78;let _0x159135=null;try{if(!this['AutomateSystem']?.[_0x2e29a0(0x80a)][_0x2e29a0(0x886)])throw new m(_0x2e29a0(0x4b1));if(this[_0x2e29a0(0x69f)][_0x2e29a0(0x776)](this[_0x2e29a0(0x2e9)]+'\x20('+this[_0x2e29a0(0x60b)]['wuid']+_0x2e29a0(0x24e)),_0xe1a71f){let _0x38052a=(await this[_0x2e29a0(0x32b)]({'numbers':[_0xe1a71f]}))[0x0];if(!_0x38052a['exists']&&!(0x0,w['isJidGroup'])(_0x38052a['jid'])&&!_0x38052a[_0x2e29a0(0x4bc)][_0x2e29a0(0x5a5)](_0x2e29a0(0x6ed)))throw _0x159135=JSON[_0x2e29a0(0x5b9)](_0x38052a,null,0x2),new m(_0x38052a);_0xe1a71f=_0x38052a[_0x2e29a0(0x4bc)];}else _0xe1a71f||(_0xe1a71f=(0x0,Y['v4'])());let _0x2613bb=await this[_0x2e29a0(0x8f0)][_0x2e29a0(0x2b4)]['findOne']({'where':{'_id':_0x2852ea}});if(!_0x2613bb||!_0x2613bb[_0x2e29a0(0x725)]?.[_0x2e29a0(0x5a5)](this['instance'][_0x2e29a0(0x3e2)]))throw this[_0x2e29a0(0x69f)][_0x2e29a0(0x84d)](this[_0x2e29a0(0x2e9)]+'\x20('+this[_0x2e29a0(0x60b)][_0x2e29a0(0x3e2)]+_0x2e29a0(0x714)+_0x2852ea+_0x2e29a0(0x52a)),new m(_0x2e29a0(0x7c4)+_0x2852ea+_0x2e29a0(0x52a));let _0x48464e=await this['createConversationforStartFlow'](_0x2613bb,_0xe1a71f,null);if(_0x48464e){this['logger']['verbose'](this[_0x2e29a0(0x2e9)]+'\x20('+this[_0x2e29a0(0x60b)][_0x2e29a0(0x3e2)]+_0x2e29a0(0x348));let _0x416c75;if(_0x171955){let _0x4c4d51=_0x48464e['chatLog'][_0x2e29a0(0x2a4)],_0x51a443=this[_0x2e29a0(0x6cb)](_0x171955);Object[_0x2e29a0(0x52b)](_0x4c4d51,_0x51a443),_0x48464e[_0x2e29a0(0x2f7)]['realVariables']=_0x4c4d51,_0x416c75={'error':!0x1,'apiResponse':_0x171955};}let _0x39e07e=await this['NextBlock'](_0x48464e);return _0x39e07e&&await this['processblock'](_0x48464e,_0x39e07e),{'message':'Flow\x20iniciado'};}}catch(_0x3ad6af){if(this[_0x2e29a0(0x69f)][_0x2e29a0(0x84d)](this[_0x2e29a0(0x2e9)]+'\x20('+this[_0x2e29a0(0x60b)]['wuid']+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x3ad6af instanceof Error?_0x3ad6af['message']:JSON[_0x2e29a0(0x5b9)](_0x3ad6af,null,0x2))),_0x159135=_0x3ad6af instanceof Error?_0x3ad6af['message']:JSON['stringify'](_0x3ad6af,null,0x2),_0x159135)throw new m(_0x2e29a0(0x6be)+_0x159135);}}async[a0_0x1b7b78(0x278)](_0x3d61fd){const _0x3aeef1=a0_0x1b7b78;try{let _0x1ff135={'remoteJid':_0x3d61fd,'status':'open'},_0x51edba={'status':'closed'},_0x5a6640=await this[_0x3aeef1(0x8f0)]['flowConversation']['updateMany'](_0x1ff135,_0x51edba,this[_0x3aeef1(0x60b)][_0x3aeef1(0x3e2)]);return this['logger'][_0x3aeef1(0x776)](this['instanceName']+'\x20('+this['instance'][_0x3aeef1(0x3e2)]+_0x3aeef1(0x667)),_0x5a6640;}catch(_0x342c05){throw this[_0x3aeef1(0x69f)][_0x3aeef1(0x84d)](this['instanceName']+'\x20('+this[_0x3aeef1(0x60b)][_0x3aeef1(0x3e2)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x342c05['message']),_0x342c05;}}async['createConversationforStartFlow'](_0x6a0004,_0x5b2305,_0x40f358){const _0x3002d9=a0_0x1b7b78;this['logger'][_0x3002d9(0x776)](this[_0x3002d9(0x2e9)]+'\x20('+this[_0x3002d9(0x60b)][_0x3002d9(0x3e2)]+_0x3002d9(0x70a)),await this[_0x3002d9(0x278)](_0x5b2305);try{let _0xb3afe6=require('mongodb')['ObjectId'],_0x4e22a7=Date[_0x3002d9(0x8d0)](),_0x4c774e=_0x3002d9(0x842),_0x43d0cc={},_0x37e2a9={},_0x47912d=this['AutomateSystem'][_0x3002d9(0x44c)][_0x3002d9(0x83c)](_0x1989c1=>_0x1989c1[_0x3002d9(0x49d)]===_0x6a0004['_id']?.[_0x3002d9(0x6e2)]()),_0x227eda=_0x47912d?.[_0x3002d9(0x3ce)]??_0x6a0004[_0x3002d9(0x3ce)]??0x0,_0x3b9e88=_0x47912d?.[_0x3002d9(0x31b)]??_0x6a0004['readMessages']??!0x1,_0x563bfb={'flowId':_0x6a0004[_0x3002d9(0x49d)],..._0x6a0004,'chatLog':null},_0x4d2033=await this[_0x3002d9(0x6d2)](_0x563bfb[_0x3002d9(0x1f0)]),_0x4f682c=await this[_0x3002d9(0x2f3)](_0x5b2305),_0x1f5a2f={..._0x4d2033,..._0x4f682c,'_remoteJid':_0x5b2305},_0x3f3369={'lastReceivedMessage':_0x43d0cc,'lastSendMessage':_0x37e2a9,'lastBlockId':_0x4c774e,'lastCondition':!0x0,'realVariables':_0x1f5a2f};_0x563bfb[_0x3002d9(0x2f7)]=_0x3f3369,_0x563bfb[_0x3002d9(0x2f7)][_0x3002d9(0x2a4)]={..._0x1f5a2f,..._0x40f358},delete _0x563bfb[_0x3002d9(0x49d)],_0x563bfb[_0x3002d9(0x49d)]=new _0xb3afe6(),_0x563bfb['lastInteraction']=_0x4e22a7,_0x563bfb[_0x3002d9(0x18a)]='open',_0x563bfb[_0x3002d9(0x745)]=_0x5b2305,_0x563bfb[_0x3002d9(0x3ce)]=_0x227eda,_0x563bfb['readMessages']=_0x3b9e88,_0x563bfb[_0x3002d9(0x49d)]=_0x6a0004[_0x3002d9(0x49d)];let _0x2b58ea=await this[_0x3002d9(0x8f0)]['flowConversation']['updateOne'](_0x563bfb[_0x3002d9(0x49d)],_0x563bfb,this['instance'][_0x3002d9(0x3e2)]);return this[_0x3002d9(0x69f)]['verbose'](this[_0x3002d9(0x2e9)]+'\x20('+this[_0x3002d9(0x60b)][_0x3002d9(0x3e2)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x2b58ea?_0x563bfb:null;}catch(_0x1a608f){let _0x392cc7=_0x3002d9(0x77f),_0x4efc95=_0x1a608f instanceof Error?_0x1a608f[_0x3002d9(0x272)]:typeof _0x1a608f=='object'?JSON['stringify'](_0x1a608f):_0x1a608f,_0x2d27fd=_0x392cc7+':\x20'+_0x4efc95;throw this[_0x3002d9(0x69f)][_0x3002d9(0x84d)](this[_0x3002d9(0x2e9)]+'\x20('+this[_0x3002d9(0x60b)][_0x3002d9(0x3e2)]+'):\x20'+_0x2d27fd),new m(_0x2d27fd);}}async[a0_0x1b7b78(0x487)](_0x519735){const _0x26dc38=a0_0x1b7b78;try{this[_0x26dc38(0x69f)]['verbose'](this['instanceName']+'\x20('+this[_0x26dc38(0x60b)][_0x26dc38(0x3e2)]+_0x26dc38(0x222)),this['logger']['verbose'](this[_0x26dc38(0x2e9)]+'\x20('+this['instance']['wuid']+'):\x20Query\x20params:\x20'+_0x519735);let _0xec4f9d={'where':{'_id':_0x519735}};return await this[_0x26dc38(0x8f0)][_0x26dc38(0x724)][_0x26dc38(0x547)](_0xec4f9d,this[_0x26dc38(0x60b)][_0x26dc38(0x3e2)]);}catch(_0x35a32e){let _0x2c0d80=_0x26dc38(0x273),_0x276d8f=_0x35a32e instanceof Error?_0x35a32e['message']:typeof _0x35a32e==_0x26dc38(0x56d)?JSON['stringify'](_0x35a32e):_0x35a32e,_0x32f0c8=_0x2c0d80+':\x20'+_0x276d8f;throw this[_0x26dc38(0x69f)][_0x26dc38(0x84d)](this[_0x26dc38(0x2e9)]+'\x20('+this[_0x26dc38(0x60b)][_0x26dc38(0x3e2)]+_0x26dc38(0x754)+_0x32f0c8),new m(_0x32f0c8);}}async[a0_0x1b7b78(0x366)](_0x56200b){const _0x2169f8=a0_0x1b7b78;try{return this['logger'][_0x2169f8(0x776)](this[_0x2169f8(0x2e9)]+'\x20('+this[_0x2169f8(0x60b)][_0x2169f8(0x3e2)]+'):\x20Buscando\x20conversas...'),await this[_0x2169f8(0x8f0)][_0x2169f8(0x724)][_0x2169f8(0x83c)](_0x56200b,this['instance'][_0x2169f8(0x3e2)]);}catch(_0x1de44c){let _0x53b589='Erro\x20ao\x20buscar\x20conversas',_0x579899=_0x1de44c instanceof Error?_0x1de44c[_0x2169f8(0x272)]:typeof _0x1de44c==_0x2169f8(0x56d)?JSON[_0x2169f8(0x5b9)](_0x1de44c):_0x1de44c,_0x24aa37=_0x53b589+':\x20'+_0x579899;throw this[_0x2169f8(0x69f)]['error'](this[_0x2169f8(0x2e9)]+'\x20('+this[_0x2169f8(0x60b)]['wuid']+_0x2169f8(0x754)+_0x24aa37),new m(_0x24aa37);}}async[a0_0x1b7b78(0x3d4)](_0x58df33){const _0x4b1036=a0_0x1b7b78;try{return this[_0x4b1036(0x69f)][_0x4b1036(0x776)](this[_0x4b1036(0x2e9)]+'\x20('+this[_0x4b1036(0x60b)][_0x4b1036(0x3e2)]+_0x4b1036(0x6d9)),this['logger'][_0x4b1036(0x776)](this[_0x4b1036(0x2e9)]+'\x20('+this[_0x4b1036(0x60b)][_0x4b1036(0x3e2)]+_0x4b1036(0x47e)+_0x58df33),(await this['repository'][_0x4b1036(0x724)]['deleteOne']({'where':{'_id':_0x58df33['_id']}},this[_0x4b1036(0x60b)][_0x4b1036(0x3e2)]))[_0x4b1036(0x82c)]===0x0?{'message':_0x4b1036(0x267)}:{'message':_0x4b1036(0x7f6)};}catch(_0x16ae0a){let _0x25c017=_0x4b1036(0x4ca),_0x232625=_0x16ae0a instanceof Error?_0x16ae0a['message']:typeof _0x16ae0a==_0x4b1036(0x56d)?JSON[_0x4b1036(0x5b9)](_0x16ae0a):_0x16ae0a,_0x3a0de3=_0x25c017+':\x20'+_0x232625;throw this['logger'][_0x4b1036(0x84d)](this['instanceName']+'\x20('+this[_0x4b1036(0x60b)][_0x4b1036(0x3e2)]+_0x4b1036(0x754)+_0x3a0de3),new m(_0x3a0de3);}}async[a0_0x1b7b78(0x317)](_0x5d4d49){const _0x260328=a0_0x1b7b78;try{let {_id:_0x5ab6b3,chatLog:_0x2b8f66,status:_0x1bcc2f}=_0x5d4d49;if(!_0x5ab6b3)return{'message':_0x260328(0x5e3)};let _0x1a5b77={};if(_0x1bcc2f!==void 0x0&&(_0x1a5b77[_0x260328(0x18a)]=_0x1bcc2f),Object['keys'](_0x1a5b77)[_0x260328(0x245)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x1cc5aa=await this[_0x260328(0x8f0)]['flowConversation'][_0x260328(0x6b6)](_0x5ab6b3,_0x1a5b77,this['instance'][_0x260328(0x3e2)]);return _0x1cc5aa||{'message':_0x260328(0x799)};}catch(_0x156a66){let _0x3bf29e=_0x260328(0x55f),_0x5ae7e9=_0x156a66 instanceof Error?_0x156a66[_0x260328(0x272)]:typeof _0x156a66==_0x260328(0x56d)?JSON[_0x260328(0x5b9)](_0x156a66):_0x156a66,_0x3a33fb=_0x3bf29e+':\x20'+_0x5ae7e9;throw this['logger'][_0x260328(0x84d)](this[_0x260328(0x2e9)]+'\x20('+this[_0x260328(0x60b)][_0x260328(0x3e2)]+_0x260328(0x754)+_0x3a33fb),new m(_0x3a33fb);}}async[a0_0x1b7b78(0x5c1)](_0x196b89){const _0x34a37c=a0_0x1b7b78;try{_0x196b89[_0x34a37c(0x49d)]=this[_0x34a37c(0x790)](_0x196b89[_0x34a37c(0x49d)]);let _0x31e523=await this[_0x34a37c(0x8f0)][_0x34a37c(0x85e)]['findOne']({'where':{'_id':_0x196b89[_0x34a37c(0x49d)]}},this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]);if(!_0x31e523)throw new m(_0x34a37c(0x35a));let {_id:_0x1e6b3a,leadInfo:_0x595073}=_0x196b89;if(!_0x1e6b3a)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x196b89[_0x34a37c(0x30b)]===_0x34a37c(0x586))return await this['deleteChat'](_0x196b89[_0x34a37c(0x49d)]),await this[_0x34a37c(0x8f0)][_0x34a37c(0x85e)][_0x34a37c(0x30b)]({'where':{'_id':_0x196b89[_0x34a37c(0x49d)]}},this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]),await this[_0x34a37c(0x8f0)]['message'][_0x34a37c(0x30b)]({'where':{'key':{'remoteJid':_0x196b89[_0x34a37c(0x49d)]}}},this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]),_0x196b89=await this[_0x34a37c(0x8f0)][_0x34a37c(0x85e)][_0x34a37c(0x6b6)]({'where':{'_id':_0x196b89[_0x34a37c(0x49d)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]),F(this[_0x34a37c(0x2e9)],'chats',{'chat':_0x196b89}),{'message':_0x34a37c(0x7d7)};if(_0x196b89['delete']==='messages')return await this[_0x34a37c(0x8f0)][_0x34a37c(0x272)][_0x34a37c(0x30b)]({'where':{'key':{'remoteJid':_0x196b89[_0x34a37c(0x49d)]}}},this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]),_0x196b89=await this[_0x34a37c(0x8f0)][_0x34a37c(0x85e)][_0x34a37c(0x6b6)]({'where':{'_id':_0x196b89[_0x34a37c(0x49d)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]),F(this[_0x34a37c(0x2e9)],_0x34a37c(0x6b8),{'chat':_0x196b89}),{'message':_0x34a37c(0x497)};let _0x43ed4c=(_0x31a9c8,_0x351282,_0xeea62f)=>{const _0x25039a=_0x34a37c;_0x31a9c8&&_0xeea62f[_0x25039a(0x52e)](_0x18fd0b=>{const _0xe813aa=_0x25039a;_0x31a9c8[_0x18fd0b]!==void 0x0&&(_0x351282[_0xe813aa(0x457)+_0x18fd0b]=_0x31a9c8[_0x18fd0b]);});},_0x203b3b={};if('muteEndTime'in _0x196b89&&(this[_0x34a37c(0x69f)][_0x34a37c(0x776)](this[_0x34a37c(0x2e9)]+'\x20('+this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x196b89['_id']),_0x196b89[_0x34a37c(0x232)]=_0x196b89[_0x34a37c(0x232)]===0x0?null:-0x1,await this[_0x34a37c(0x567)]['chatModify']({'mute':_0x196b89[_0x34a37c(0x232)]},_0x196b89[_0x34a37c(0x49d)]),_0x203b3b[_0x34a37c(0x232)]=Number(_0x196b89[_0x34a37c(0x232)])),_0x595073&&(_0x43ed4c(_0x595073,_0x203b3b,[_0x34a37c(0x331),_0x34a37c(0x5bb),_0x34a37c(0x3ea),_0x34a37c(0x3eb),'status',_0x34a37c(0x735),'tags','atendimentoAberto',_0x34a37c(0x3ee),_0x34a37c(0x188),'desativadoFluxoAte']),Array[_0x34a37c(0x7c2)](_0x595073[_0x34a37c(0x5ad)])&&(_0x203b3b[_0x34a37c(0x7be)]=_0x595073[_0x34a37c(0x5ad)]['map'](_0x318cdb=>({'_id':_0x318cdb[_0x34a37c(0x49d)],'value':_0x318cdb[_0x34a37c(0x5bf)]}))),_0x196b89[_0x34a37c(0x873)]['etiquetas']!==void 0x0)){let _0x3fe22a=await this[_0x34a37c(0x8f0)][_0x34a37c(0x7a2)][_0x34a37c(0x83c)]({'where':{}},this[_0x34a37c(0x60b)]['wuid']),_0x1b6c4c=new Set(_0x196b89[_0x34a37c(0x873)]['etiquetas']||[]),_0x4e28c5=new Set(_0x196b89[_0x34a37c(0x873)][_0x34a37c(0x188)]),_0x59485d=new Set(_0x3fe22a[_0x34a37c(0x686)](_0xdbbae0=>_0xdbbae0['_id'])),_0x39bd2c=[..._0x4e28c5]['filter'](_0x156f6b=>!_0x1b6c4c[_0x34a37c(0x84a)](_0x156f6b)&&_0x59485d[_0x34a37c(0x84a)](_0x156f6b)),_0x41c7b3=[..._0x1b6c4c]['filter'](_0x36d570=>!_0x4e28c5[_0x34a37c(0x84a)](_0x36d570));if(_0x203b3b[_0x34a37c(0x2f1)]=[..._0x1b6c4c],_0x31e523&&!_0x31e523[_0x34a37c(0x374)]){for(let _0x5a81fa of _0x39bd2c)await this[_0x34a37c(0x7d8)](_0x5a81fa,_0x196b89[_0x34a37c(0x49d)]),_0x1b6c4c[_0x34a37c(0x3bf)](_0x5a81fa);for(let _0x3dc723 of _0x41c7b3)await this[_0x34a37c(0x6a4)](_0x3dc723,_0x196b89[_0x34a37c(0x49d)]),_0x1b6c4c['delete'](_0x3dc723);}}if(_0x196b89[_0x34a37c(0x23f)]!==void 0x0&&(_0x203b3b[_0x34a37c(0x23f)]=Number(_0x196b89[_0x34a37c(0x23f)])),Object[_0x34a37c(0x51a)](_0x203b3b)[_0x34a37c(0x245)]===0x0)throw new Error(_0x34a37c(0x837));let _0x40c587=await this[_0x34a37c(0x8f0)][_0x34a37c(0x85e)][_0x34a37c(0x6b6)]({'where':{'_id':_0x196b89['_id']}},_0x203b3b,this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]);return _0x40c587&&F(this[_0x34a37c(0x2e9)],_0x34a37c(0x6b8),{'chat':_0x40c587}),_0x40c587?(this[_0x34a37c(0x69f)][_0x34a37c(0x776)](this[_0x34a37c(0x2e9)]+'\x20('+this['instance'][_0x34a37c(0x3e2)]+_0x34a37c(0x754)+JSON[_0x34a37c(0x5b9)](_0x40c587,null,0x2)),_0x40c587):{'message':_0x34a37c(0x5a9)};}catch(_0x4bb2a8){let _0x25af84=_0x34a37c(0x78b),_0x2cb7e1=_0x4bb2a8 instanceof Error?_0x4bb2a8[_0x34a37c(0x272)]:typeof _0x4bb2a8=='object'?JSON[_0x34a37c(0x5b9)](_0x4bb2a8):_0x4bb2a8,_0x20fbfe=_0x25af84+':\x20'+_0x2cb7e1;throw this[_0x34a37c(0x69f)][_0x34a37c(0x84d)](this[_0x34a37c(0x2e9)]+'\x20('+this[_0x34a37c(0x60b)][_0x34a37c(0x3e2)]+_0x34a37c(0x754)+_0x20fbfe),new m(_0x20fbfe);}}async[a0_0x1b7b78(0x7d8)](_0x43c65d,_0xb906b4){const _0x37fd92=a0_0x1b7b78;try{await this[_0x37fd92(0x567)]['addChatLabel'](_0xb906b4,_0x43c65d),this[_0x37fd92(0x69f)][_0x37fd92(0x6c3)](this[_0x37fd92(0x2e9)]+'\x20('+this[_0x37fd92(0x60b)][_0x37fd92(0x3e2)]+_0x37fd92(0x2c4)+_0x43c65d+_0x37fd92(0x5b1)+_0xb906b4+_0x37fd92(0x4b4));}catch(_0x32349e){this['logger']['error'](_0x37fd92(0x342)+_0x43c65d+'\x20ao\x20chat\x20'+_0xb906b4+':\x20'+_0x32349e);}}async[a0_0x1b7b78(0x6a4)](_0x382ec4,_0x26540a){const _0x19e38a=a0_0x1b7b78;try{await this[_0x19e38a(0x567)][_0x19e38a(0x37e)](_0x26540a,_0x382ec4),this[_0x19e38a(0x69f)][_0x19e38a(0x6c3)](this[_0x19e38a(0x2e9)]+'\x20('+this[_0x19e38a(0x60b)][_0x19e38a(0x3e2)]+_0x19e38a(0x2c4)+_0x382ec4+_0x19e38a(0x5ec)+_0x26540a+_0x19e38a(0x4b4));}catch(_0x35733f){this['logger'][_0x19e38a(0x84d)](_0x19e38a(0x601)+_0x382ec4+_0x19e38a(0x3ef)+_0x26540a+':\x20'+_0x35733f);}}async[a0_0x1b7b78(0x2b1)](_0x1e1b6b){const _0x1c5dd3=a0_0x1b7b78;try{let _0x2a36ae=await this[_0x1c5dd3(0x8f0)]['automateSystem'][_0x1c5dd3(0x18d)](this[_0x1c5dd3(0x60b)][_0x1c5dd3(0x3e2)]),_0x3cc275=_0x1e1b6b[_0x1c5dd3(0x49d)]?_0x2a36ae[_0x1c5dd3(0x42c)][_0x1c5dd3(0x554)](_0x41dada=>_0x41dada[_0x1c5dd3(0x49d)]===_0x1e1b6b[_0x1c5dd3(0x49d)]):-0x1;if(_0x1e1b6b[_0x1c5dd3(0x30b)]&&_0x3cc275>-0x1)_0x2a36ae['agents'][_0x1c5dd3(0x314)](_0x3cc275,0x1);else{if(_0x3cc275>-0x1){let _0x1e911c=_0x2a36ae[_0x1c5dd3(0x42c)][_0x3cc275];_0x1e1b6b['fone']&&(_0x1e911c[_0x1c5dd3(0x4fc)]=_0x1e1b6b[_0x1c5dd3(0x4fc)]),_0x1e1b6b['name']&&(_0x1e911c[_0x1c5dd3(0x4a9)]=_0x1e1b6b['name']),_0x1e1b6b[_0x1c5dd3(0x3ea)]&&(_0x1e911c[_0x1c5dd3(0x3ea)]=_0x1e1b6b[_0x1c5dd3(0x3ea)]),_0x1e1b6b[_0x1c5dd3(0x4f5)]&&(_0x1e911c['role']=_0x1e1b6b[_0x1c5dd3(0x4f5)]);}else _0x2a36ae['agents'][_0x1c5dd3(0x184)]({'_id':_0x1e1b6b[_0x1c5dd3(0x49d)]||new ge[(_0x1c5dd3(0x7ac))][(_0x1c5dd3(0x67a))][(_0x1c5dd3(0x545))]()['toString'](),'fone':_0x1e1b6b['fone'],'name':_0x1e1b6b[_0x1c5dd3(0x4a9)],'email':_0x1e1b6b[_0x1c5dd3(0x3ea)],'role':_0x1e1b6b[_0x1c5dd3(0x4f5)]});}let _0x26704c={'agents':_0x2a36ae['agents']},_0x14697a=await this[_0x1c5dd3(0x8f0)][_0x1c5dd3(0x4c2)][_0x1c5dd3(0x85d)](_0x26704c,this[_0x1c5dd3(0x60b)][_0x1c5dd3(0x3e2)]);return this[_0x1c5dd3(0x767)]=_0x14697a,this[_0x1c5dd3(0x69f)][_0x1c5dd3(0x776)](this[_0x1c5dd3(0x2e9)]+'\x20('+this['instance'][_0x1c5dd3(0x3e2)]+_0x1c5dd3(0x212)),this[_0x1c5dd3(0x69f)][_0x1c5dd3(0x776)](this[_0x1c5dd3(0x2e9)]+'\x20('+this[_0x1c5dd3(0x60b)][_0x1c5dd3(0x3e2)]+_0x1c5dd3(0x754)+this[_0x1c5dd3(0x767)]),_0x14697a;}catch(_0x4873f7){let _0x4b6c57=_0x1c5dd3(0x527),_0x1b2a4d=_0x4873f7 instanceof Error?_0x4873f7[_0x1c5dd3(0x272)]:typeof _0x4873f7=='object'?JSON[_0x1c5dd3(0x5b9)](_0x4873f7):_0x4873f7,_0x1e7d54=_0x4b6c57+':\x20'+_0x1b2a4d;throw this[_0x1c5dd3(0x69f)][_0x1c5dd3(0x84d)](this['instanceName']+'\x20('+this[_0x1c5dd3(0x60b)][_0x1c5dd3(0x3e2)]+_0x1c5dd3(0x754)+_0x1e7d54),new m(_0x1e7d54);}}async[a0_0x1b7b78(0x4f4)](_0x1c2939){const _0x2cf6f6=a0_0x1b7b78;try{let _0x286318=await this['repository'][_0x2cf6f6(0x4c2)][_0x2cf6f6(0x18d)](this[_0x2cf6f6(0x60b)][_0x2cf6f6(0x3e2)]),_0x133fe3=_0x1c2939[_0x2cf6f6(0x49d)]?_0x286318[_0x2cf6f6(0x5ad)][_0x2cf6f6(0x554)](_0xdee88a=>_0xdee88a['_id']===_0x1c2939[_0x2cf6f6(0x49d)]):-0x1,_0x5a9fd7=!0x1,_0x20150c=_0x286318['customFields'][_0x2cf6f6(0x627)](_0xbaaee5=>_0xbaaee5[_0x2cf6f6(0x3a2)]===_0x1c2939[_0x2cf6f6(0x3a2)]);if(_0x1c2939['delete']&&_0x133fe3>-0x1)_0x286318[_0x2cf6f6(0x5ad)][_0x2cf6f6(0x314)](_0x133fe3,0x1),_0x5a9fd7=!0x0;else{if(_0x133fe3>-0x1){if(_0x286318[_0x2cf6f6(0x5ad)][_0x2cf6f6(0x627)](_0x4715d7=>_0x4715d7[_0x2cf6f6(0x4a9)]===_0x1c2939[_0x2cf6f6(0x4a9)]&&_0x4715d7[_0x2cf6f6(0x49d)]!==_0x1c2939[_0x2cf6f6(0x49d)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x453a4d=_0x286318[_0x2cf6f6(0x5ad)][_0x133fe3];_0x1c2939[_0x2cf6f6(0x3a2)]&&(_0x20150c||!Number[_0x2cf6f6(0x501)](_0x1c2939[_0x2cf6f6(0x3a2)]))&&(_0x453a4d[_0x2cf6f6(0x3a2)]=_0x1c2939['order'],_0x5a9fd7=!0x0),_0x1c2939[_0x2cf6f6(0x4a9)]&&(_0x453a4d['name']=_0x1c2939[_0x2cf6f6(0x4a9)]);}else{if(_0x286318['customFields'][_0x2cf6f6(0x627)](_0x3ebe67=>_0x3ebe67[_0x2cf6f6(0x4a9)]===_0x1c2939[_0x2cf6f6(0x4a9)]&&_0x3ebe67[_0x2cf6f6(0x49d)]!==_0x1c2939[_0x2cf6f6(0x49d)]))throw new Error(_0x2cf6f6(0x42d));_0x286318[_0x2cf6f6(0x5ad)]['push']({'_id':_0x1c2939[_0x2cf6f6(0x49d)]||new ge[(_0x2cf6f6(0x7ac))][(_0x2cf6f6(0x67a))][(_0x2cf6f6(0x545))]()[_0x2cf6f6(0x6e2)](),'order':_0x1c2939[_0x2cf6f6(0x3a2)],'name':_0x1c2939[_0x2cf6f6(0x4a9)]}),_0x5a9fd7=!0x0;}}if(_0x5a9fd7){_0x286318[_0x2cf6f6(0x5ad)][_0x2cf6f6(0x4d4)]((_0x4ce8bb,_0x176490)=>_0x4ce8bb[_0x2cf6f6(0x3a2)]>_0x176490[_0x2cf6f6(0x3a2)]?0x1:_0x176490[_0x2cf6f6(0x3a2)]>_0x4ce8bb[_0x2cf6f6(0x3a2)]?-0x1:0x0);for(let _0x4a9dfb=0x0;_0x4a9dfb<_0x286318[_0x2cf6f6(0x5ad)][_0x2cf6f6(0x245)];_0x4a9dfb++)_0x286318[_0x2cf6f6(0x5ad)][_0x4a9dfb]['order']=_0x4a9dfb+0x1;}let _0x1455fb=await this[_0x2cf6f6(0x8f0)][_0x2cf6f6(0x4c2)]['update'](_0x286318,this['instance'][_0x2cf6f6(0x3e2)]);return this[_0x2cf6f6(0x767)]=_0x1455fb,this['logger'][_0x2cf6f6(0x776)](this['instanceName']+'\x20('+this[_0x2cf6f6(0x60b)][_0x2cf6f6(0x3e2)]+_0x2cf6f6(0x45a)),this[_0x2cf6f6(0x69f)][_0x2cf6f6(0x776)](this[_0x2cf6f6(0x2e9)]+'\x20('+this['instance']['wuid']+'):\x20'+this['AutomateSystem']),_0x1455fb;}catch(_0x1cfa52){let _0x381101='Erro\x20ao\x20tentar\x20updateCustomFields',_0x56abda=_0x1cfa52 instanceof Error?_0x1cfa52[_0x2cf6f6(0x272)]:typeof _0x1cfa52==_0x2cf6f6(0x56d)?JSON[_0x2cf6f6(0x5b9)](_0x1cfa52):_0x1cfa52,_0x525d55=_0x381101+':\x20'+_0x56abda;throw this[_0x2cf6f6(0x69f)][_0x2cf6f6(0x84d)](this[_0x2cf6f6(0x2e9)]+'\x20('+this[_0x2cf6f6(0x60b)][_0x2cf6f6(0x3e2)]+'):\x20'+_0x525d55),new m(_0x525d55);}}async[a0_0x1b7b78(0x2f4)](_0x496eed){const _0x5c6fbf=a0_0x1b7b78;try{let _0x2aa76c=await this[_0x5c6fbf(0x8f0)][_0x5c6fbf(0x4c2)][_0x5c6fbf(0x18d)](this['instance'][_0x5c6fbf(0x3e2)]),_0x1dba93=_0x2aa76c?.[_0x5c6fbf(0x368)]?.[_0x5c6fbf(0x554)](_0x1bba45=>_0x1bba45[_0x5c6fbf(0x49d)]===_0x496eed?.[_0x5c6fbf(0x49d)]);if(_0x496eed?.[_0x5c6fbf(0x30b)])_0x1dba93>-0x1&&_0x2aa76c?.['autoCompleteMessages']?.['splice'](_0x1dba93,0x1);else{if(_0x1dba93>-0x1){let _0x5c59d2=_0x2aa76c[_0x5c6fbf(0x368)][_0x1dba93];_0x5c59d2['order']=_0x496eed?.[_0x5c6fbf(0x3a2)]||_0x5c59d2[_0x5c6fbf(0x3a2)],_0x5c59d2['command']=_0x496eed?.[_0x5c6fbf(0x2ec)]||_0x5c59d2[_0x5c6fbf(0x2ec)],_0x5c59d2[_0x5c6fbf(0x272)]=_0x496eed?.[_0x5c6fbf(0x272)]||_0x5c59d2['message'];}else{let _0x2d7e57={'_id':_0x496eed?.[_0x5c6fbf(0x49d)]||new ge[(_0x5c6fbf(0x7ac))][(_0x5c6fbf(0x67a))][(_0x5c6fbf(0x545))]()[_0x5c6fbf(0x6e2)](),'order':_0x496eed?.[_0x5c6fbf(0x3a2)],'command':_0x496eed?.['command'],'message':_0x496eed?.[_0x5c6fbf(0x272)]};_0x2aa76c?.[_0x5c6fbf(0x368)]?.[_0x5c6fbf(0x184)](_0x2d7e57);}}_0x2aa76c?.[_0x5c6fbf(0x368)]?.[_0x5c6fbf(0x4d4)]((_0x174e0a,_0x53f55f)=>_0x174e0a[_0x5c6fbf(0x3a2)]-_0x53f55f['order']);let _0x23fff6=await this[_0x5c6fbf(0x8f0)][_0x5c6fbf(0x4c2)][_0x5c6fbf(0x85d)](_0x2aa76c,this[_0x5c6fbf(0x60b)]['wuid']);return this[_0x5c6fbf(0x767)]=_0x23fff6,this[_0x5c6fbf(0x69f)]['verbose'](this[_0x5c6fbf(0x2e9)]+'\x20('+this['instance'][_0x5c6fbf(0x3e2)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x23fff6;}catch(_0x9b0dc6){let _0x29d157=_0x5c6fbf(0x7e1),_0x28d158=_0x9b0dc6 instanceof Error?_0x9b0dc6[_0x5c6fbf(0x272)]:typeof _0x9b0dc6==_0x5c6fbf(0x56d)?JSON[_0x5c6fbf(0x5b9)](_0x9b0dc6):_0x9b0dc6,_0x419a07=_0x29d157+':\x20'+_0x28d158;throw this[_0x5c6fbf(0x69f)]['error'](this[_0x5c6fbf(0x2e9)]+'\x20('+this[_0x5c6fbf(0x60b)][_0x5c6fbf(0x3e2)]+_0x5c6fbf(0x754)+_0x419a07),new m(_0x419a07);}}async[a0_0x1b7b78(0x412)](_0x2945cd){const _0x35915e=a0_0x1b7b78;try{let _0xb3b2a5=await this['repository'][_0x35915e(0x4c2)][_0x35915e(0x18d)](this[_0x35915e(0x60b)][_0x35915e(0x3e2)]);if(!_0xb3b2a5)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x2f28d7={'_id':_0xb3b2a5[_0x35915e(0x49d)],'flowConfig':{'enabled':_0x2945cd[_0x35915e(0x886)]??_0xb3b2a5[_0x35915e(0x80a)]['enabled'],'ignoreGroups':_0x2945cd[_0x35915e(0x819)]??_0xb3b2a5[_0x35915e(0x80a)][_0x35915e(0x819)],'stopConversation':_0x2945cd[_0x35915e(0x58b)][_0x35915e(0x1da)]()??_0xb3b2a5[_0x35915e(0x80a)][_0x35915e(0x58b)][_0x35915e(0x1da)](),'stopMinutes':_0x2945cd[_0x35915e(0x76c)]??_0xb3b2a5[_0x35915e(0x80a)][_0x35915e(0x76c)],'stopWhenYouSendMsg':_0x2945cd[_0x35915e(0x522)]??_0xb3b2a5['flowConfig'][_0x35915e(0x522)]}},_0x3b863b=await this['repository'][_0x35915e(0x4c2)][_0x35915e(0x85d)](_0x2f28d7,this[_0x35915e(0x60b)]['wuid']);return this[_0x35915e(0x767)]=_0x3b863b,this[_0x35915e(0x69f)][_0x35915e(0x776)](this[_0x35915e(0x2e9)]+'\x20('+this['instance'][_0x35915e(0x3e2)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x35915e(0x69f)][_0x35915e(0x776)](this[_0x35915e(0x2e9)]+'\x20('+this[_0x35915e(0x60b)][_0x35915e(0x3e2)]+'):\x20'+this[_0x35915e(0x767)]),setTimeout(()=>this[_0x35915e(0x881)](),0x7d0),_0x3b863b;}catch(_0x25ce86){let _0x45876e=_0x35915e(0x605),_0x590f26=_0x25ce86 instanceof Error?_0x25ce86[_0x35915e(0x272)]:typeof _0x25ce86==_0x35915e(0x56d)?JSON[_0x35915e(0x5b9)](_0x25ce86):_0x25ce86,_0x5cb212=_0x45876e+':\x20'+_0x590f26;throw this[_0x35915e(0x69f)][_0x35915e(0x84d)](this[_0x35915e(0x2e9)]+'\x20('+this['instance'][_0x35915e(0x3e2)]+_0x35915e(0x754)+_0x5cb212),new m(_0x5cb212);}}async[a0_0x1b7b78(0x17d)](){const _0x1041de=a0_0x1b7b78;try{let _0x24929b=await this[_0x1041de(0x8f0)][_0x1041de(0x4c2)][_0x1041de(0x18d)](this[_0x1041de(0x60b)][_0x1041de(0x3e2)]);return this[_0x1041de(0x767)]=_0x24929b,_0x24929b;}catch(_0x47d7c2){let _0x491308=_0x1041de(0x57a),_0x72cc71=_0x47d7c2 instanceof Error?_0x47d7c2[_0x1041de(0x272)]:typeof _0x47d7c2==_0x1041de(0x56d)?JSON['stringify'](_0x47d7c2):_0x47d7c2,_0x259ac2=_0x491308+':\x20'+_0x72cc71;throw this[_0x1041de(0x69f)]['error'](this[_0x1041de(0x2e9)]+'\x20('+this[_0x1041de(0x60b)]['wuid']+_0x1041de(0x754)+_0x259ac2),new m(_0x259ac2);}}async[a0_0x1b7b78(0x56b)](){const _0x4e8331=a0_0x1b7b78;let _0x168093=(await import(_0x4e8331(0x22e)))[_0x4e8331(0x7ac)];this['queue']=new _0x168093({'concurrency':0x1});}async[a0_0x1b7b78(0x2e1)](){const _0x33dcb1=a0_0x1b7b78;this[_0x33dcb1(0x60b)]['ScheduleMessage']['timeout']&&clearTimeout(this[_0x33dcb1(0x60b)][_0x33dcb1(0x1ed)][_0x33dcb1(0x264)]),this[_0x33dcb1(0x60b)][_0x33dcb1(0x1ed)][_0x33dcb1(0x264)]=setTimeout(()=>{const _0x5db3f2=_0x33dcb1;this[_0x5db3f2(0x4da)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1b7b78(0x4da)](){const _0x3750e9=a0_0x1b7b78;let _0x2fd614=this[_0x3750e9(0x60b)]['ScheduleMessage'][_0x3750e9(0x751)];(_0x2fd614===0x0||_0x2fd614===null||Date[_0x3750e9(0x8d0)]()-_0x2fd614>=0x1d4c0)&&(this[_0x3750e9(0x69f)][_0x3750e9(0x776)](this[_0x3750e9(0x2e9)]+'\x20('+this['instance'][_0x3750e9(0x3e2)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x3750e9(0x60b)][_0x3750e9(0x1ed)][_0x3750e9(0x569)]=null,this[_0x3750e9(0x60b)]['ScheduleMessage']['lastSend']=0x0,this[_0x3750e9(0x60b)]['ScheduleMessage']['delayMessage']=0x0,await this[_0x3750e9(0x881)]());}async['scheduleNextCheck'](){const _0x49878c=a0_0x1b7b78;this[_0x49878c(0x69f)][_0x49878c(0x31e)](this[_0x49878c(0x2e9)]+'\x20('+this['instance'][_0x49878c(0x3e2)]+_0x49878c(0x237)),await this['transformScheduledMessagesByType']();let _0x395ef3=await this[_0x49878c(0x6d4)]();_0x395ef3['length']>0x0&&(setTimeout(()=>this['checkAndRestartProcess'](),0x14*0x3e8),this[_0x49878c(0x69f)][_0x49878c(0x31e)](this[_0x49878c(0x2e9)]+'\x20('+this[_0x49878c(0x60b)][_0x49878c(0x3e2)]+_0x49878c(0x66c)),this[_0x49878c(0x5af)][_0x49878c(0x24d)](),this[_0x49878c(0x5af)][_0x49878c(0x3bf)](()=>this[_0x49878c(0x63d)](_0x395ef3)));let _0x20c40f={'where':{'status':_0x49878c(0x3dd),'when':{'$gt':Date[_0x49878c(0x8d0)]()}}},_0x3a2fff=await this[_0x49878c(0x8f0)][_0x49878c(0x7df)][_0x49878c(0x547)](_0x20c40f,this[_0x49878c(0x60b)]['wuid']);_0x3a2fff&&_0x3a2fff[_0x49878c(0x590)]-Date[_0x49878c(0x8d0)]()<=0x6ddd00?this[_0x49878c(0x60b)]['ScheduleMessage'][_0x49878c(0x5ff)]=_0x3a2fff[_0x49878c(0x590)]-Date[_0x49878c(0x8d0)]():this[_0x49878c(0x60b)][_0x49878c(0x1ed)][_0x49878c(0x5ff)]=(0x3c+Math[_0x49878c(0x702)](Math[_0x49878c(0x70d)]()*0x3c))*0x3c*0x3e8,this[_0x49878c(0x60b)][_0x49878c(0x1ed)]['delayMessage']=Math[_0x49878c(0x459)](this['instance'][_0x49878c(0x1ed)][_0x49878c(0x5ff)],0x1*0x2*0x3e8);let _0x3531e3=Math[_0x49878c(0x179)](this['instance']['ScheduleMessage'][_0x49878c(0x5ff)]/0xea60);if(_0x3a2fff){let _0x40ec04=new Date(_0x3a2fff[_0x49878c(0x590)])[_0x49878c(0x70f)]();this[_0x49878c(0x69f)][_0x49878c(0x31e)](this['instanceName']+'\x20('+this[_0x49878c(0x60b)]['wuid']+_0x49878c(0x19c)+_0x40ec04+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x3531e3+_0x49878c(0x4f2));}else this[_0x49878c(0x69f)][_0x49878c(0x31e)](this[_0x49878c(0x2e9)]+'\x20('+this['instance'][_0x49878c(0x3e2)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3531e3+_0x49878c(0x4f2));setTimeout(()=>{const _0x282d10=_0x49878c;this[_0x282d10(0x881)]();},this[_0x49878c(0x60b)][_0x49878c(0x1ed)][_0x49878c(0x5ff)]);}async[a0_0x1b7b78(0x6d4)](){const _0x3df14d=a0_0x1b7b78;this['logger']['warn'](this[_0x3df14d(0x2e9)]+'\x20('+this[_0x3df14d(0x60b)][_0x3df14d(0x3e2)]+_0x3df14d(0x5e9));let _0x83f988=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x75987b={'where':{'status':{'$in':[_0x3df14d(0x3dd),'sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x83f988}},{'when':0x0}]}},_0x58de26=await this[_0x3df14d(0x8f0)][_0x3df14d(0x7df)]['find'](_0x75987b,this[_0x3df14d(0x60b)][_0x3df14d(0x3e2)]);return this[_0x3df14d(0x69f)]['warn'](this['instanceName']+'\x20('+this[_0x3df14d(0x60b)][_0x3df14d(0x3e2)]+_0x3df14d(0x887)+_0x58de26[_0x3df14d(0x245)]),_0x58de26;}async[a0_0x1b7b78(0x63d)](_0x5f7158){const _0x2fbce5=a0_0x1b7b78;this[_0x2fbce5(0x69f)][_0x2fbce5(0x31e)](this[_0x2fbce5(0x2e9)]+'\x20('+this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)]+_0x2fbce5(0x55a));let _0x166825=0x3*0x3e8,_0xaf1f3e=0x8*0x3e8,_0x4e8278=Math['floor'](Math[_0x2fbce5(0x70d)]()*(_0xaf1f3e-_0x166825+0x1))+_0x166825,_0x1df27a=()=>this[_0x2fbce5(0x5ae)][_0x2fbce5(0x245)]===0x0?null:this['pendingMessages'][_0x2fbce5(0x7ca)]((_0x1199e8,_0x145ea6)=>(_0x1199e8[_0x2fbce5(0x3a2)]??Number['MAX_SAFE_INTEGER'])<(_0x145ea6[_0x2fbce5(0x3a2)]??Number[_0x2fbce5(0x8bb)])?_0x1199e8:_0x145ea6,this[_0x2fbce5(0x5ae)][0x0]);_0x5f7158=await this['getReadyToSendMessages']();for(let _0x1a5fcd of _0x5f7158){await this[_0x2fbce5(0x2e1)]();let _0x4f1541=0x3*0x3e8,_0x611266={'_id':_0x1a5fcd[_0x2fbce5(0x49d)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x2fbce5(0x8d0)]()-_0x4f1541}}]},_0x2d8af0={'startSend':Date['now'](),'status':_0x2fbce5(0x5bc)},_0x22bb15=await this[_0x2fbce5(0x8f0)][_0x2fbce5(0x7df)]['updateOne'](_0x611266,_0x2d8af0,this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)]);if(this[_0x2fbce5(0x5ae)]=_0x22bb15['messages'][_0x2fbce5(0x194)](_0x418119=>!_0x418119[_0x2fbce5(0x57c)]),!_0x22bb15){setTimeout(()=>this[_0x2fbce5(0x4da)](),0xa*0x3e8);continue;}if(this[_0x2fbce5(0x60b)][_0x2fbce5(0x1ed)][_0x2fbce5(0x569)]=_0x22bb15,!this[_0x2fbce5(0x60b)][_0x2fbce5(0x1ed)][_0x2fbce5(0x682)]){this[_0x2fbce5(0x69f)][_0x2fbce5(0x31e)](this[_0x2fbce5(0x2e9)]+'\x20('+this['instance']['wuid']+_0x2fbce5(0x27c));break;}for(;this[_0x2fbce5(0x5ae)][_0x2fbce5(0x245)]>0x0;){await this[_0x2fbce5(0x2e1)]();let _0x7605a0=_0x1df27a();if(!_0x7605a0)break;let _0x3566d3=_0x1a5fcd[_0x2fbce5(0x174)][_0x2fbce5(0x83c)](_0x1134d1=>_0x1134d1[_0x2fbce5(0x49d)]===_0x7605a0['_id']);if(!_0x3566d3)break;if(this[_0x2fbce5(0x60b)][_0x2fbce5(0x1ed)][_0x2fbce5(0x751)]=Date[_0x2fbce5(0x8d0)](),_0x3566d3['triedToSend']){this['logger'][_0x2fbce5(0x31e)](this[_0x2fbce5(0x2e9)]+'\x20('+this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x3566d3['remoteJid']+'.\x20Pulando.'),this['pendingMessages']=this['pendingMessages'][_0x2fbce5(0x194)](_0x1d077a=>_0x1d077a[_0x2fbce5(0x49d)]!==_0x3566d3[_0x2fbce5(0x49d)]);continue;}if(!this[_0x2fbce5(0x60b)][_0x2fbce5(0x1ed)]['isConnected']){this['logger'][_0x2fbce5(0x31e)](this[_0x2fbce5(0x2e9)]+'\x20('+this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)]+_0x2fbce5(0x74d));break;}if(!this[_0x2fbce5(0x60b)]['ScheduleMessage'][_0x2fbce5(0x569)]){this[_0x2fbce5(0x69f)][_0x2fbce5(0x31e)](this[_0x2fbce5(0x2e9)]+'\x20('+this[_0x2fbce5(0x60b)]['wuid']+_0x2fbce5(0x1f2)+_0x1a5fcd['_id']+_0x2fbce5(0x38d));break;}let _0x589874={'idControl':_0x3566d3[_0x2fbce5(0x49d)],'remoteJid':_0x3566d3['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x2fbce5(0x8d0)]()},_0x298de1=null;try{this[_0x2fbce5(0x69f)]['warn'](this['instanceName']+'\x20('+this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)]+_0x2fbce5(0x5f7)+_0x3566d3[_0x2fbce5(0x745)]);let _0x56dc22=await Promise[_0x2fbce5(0x81c)]([this['SendScheduleMessage'](_0x3566d3[_0x2fbce5(0x745)],_0x3566d3),this[_0x2fbce5(0x5ef)](0x78*0x3e8)]);_0x589874[_0x2fbce5(0x84d)]=_0x56dc22[_0x2fbce5(0x84d)],_0x589874['id']=_0x56dc22['error']?null:_0x56dc22['id'],_0x589874[_0x2fbce5(0x658)]=_0x56dc22['error']?_0x56dc22[_0x2fbce5(0x7f2)]?_0x56dc22[_0x2fbce5(0x7f2)][_0x2fbce5(0x6e2)]():'':null;let _0x5733a8=_0x1a5fcd[_0x2fbce5(0x174)]['findIndex'](_0x55f65b=>_0x55f65b[_0x2fbce5(0x49d)]===_0x3566d3[_0x2fbce5(0x49d)]);_0x5733a8!==-0x1&&(_0x1a5fcd['messages'][_0x5733a8]['triedToSend']=!0x0);let _0x15343f={'$push':{'messagesSend':_0x589874},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x39da58=[{'elem._id':_0x3566d3[_0x2fbce5(0x49d)]}];if(this[_0x2fbce5(0x69f)][_0x2fbce5(0x31e)](this['instanceName']+'\x20('+this[_0x2fbce5(0x60b)]['wuid']+_0x2fbce5(0x2cb)+_0x3566d3[_0x2fbce5(0x49d)]),_0x298de1=await this[_0x2fbce5(0x8f0)][_0x2fbce5(0x7df)]['updateOne']({'_id':_0x1a5fcd[_0x2fbce5(0x49d)]},_0x15343f,this[_0x2fbce5(0x60b)]['wuid'],{'arrayFilters':_0x39da58}),_0x56dc22[_0x2fbce5(0x84d)]){this['logger']['error'](this[_0x2fbce5(0x2e9)]+'\x20('+this[_0x2fbce5(0x60b)]['wuid']+_0x2fbce5(0x336)+_0x56dc22['detail']);continue;}let _0x2c6e0a=this[_0x2fbce5(0x3c4)](_0x1a5fcd[_0x2fbce5(0x564)],_0x1a5fcd['delaySecMax']);await this[_0x2fbce5(0x1b3)](_0x2c6e0a);}catch(_0x146433){this[_0x2fbce5(0x69f)][_0x2fbce5(0x84d)](this[_0x2fbce5(0x2e9)]+'\x20('+this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x3566d3[_0x2fbce5(0x745)]+':\x20'+(_0x146433 instanceof Error?_0x146433[_0x2fbce5(0x272)]:JSON[_0x2fbce5(0x5b9)](_0x146433,null,0x2))),_0x589874['error']=!0x0,_0x589874['error_log']=_0x146433['message'];let _0x14cf4b=_0x1a5fcd[_0x2fbce5(0x174)][_0x2fbce5(0x554)](_0x3ea7c=>_0x3ea7c['_id']===_0x3566d3[_0x2fbce5(0x49d)]);_0x14cf4b!==-0x1&&(_0x1a5fcd[_0x2fbce5(0x174)][_0x14cf4b][_0x2fbce5(0x57c)]=!0x0);let _0x47ab02={'$push':{'messagesSend':_0x589874},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x195175=[{'elem._id':_0x3566d3[_0x2fbce5(0x49d)]}];this[_0x2fbce5(0x69f)]['warn'](this[_0x2fbce5(0x2e9)]+'\x20('+this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)]+_0x2fbce5(0x17b)+_0x3566d3[_0x2fbce5(0x49d)]),_0x298de1=await this[_0x2fbce5(0x8f0)][_0x2fbce5(0x7df)]['updateOne']({'_id':_0x1a5fcd[_0x2fbce5(0x49d)]},_0x47ab02,this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)],{'arrayFilters':_0x195175});}finally{if(_0x298de1&&_0x298de1['status']===_0x2fbce5(0x78d)){this[_0x2fbce5(0x69f)][_0x2fbce5(0x31e)](this['instanceName']+'\x20('+this[_0x2fbce5(0x60b)]['wuid']+_0x2fbce5(0x1f2)+_0x3566d3[_0x2fbce5(0x49d)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x9e1be8=_0x298de1[_0x2fbce5(0x174)][_0x2fbce5(0x83c)](_0x1433e0=>_0x1433e0[_0x2fbce5(0x49d)]===_0x3566d3['_id']);if(_0x9e1be8&&!_0x9e1be8[_0x2fbce5(0x57c)]){let _0x47438e={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x41431a=[{'elem._id':_0x3566d3['_id']}];await this['repository'][_0x2fbce5(0x7df)][_0x2fbce5(0x6b6)]({'_id':_0x298de1['_id']},_0x47438e,this[_0x2fbce5(0x60b)][_0x2fbce5(0x3e2)],{'arrayFilters':_0x41431a});}if(this[_0x2fbce5(0x5ae)]=_0x298de1[_0x2fbce5(0x174)]['filter'](_0x1777b6=>!_0x1777b6[_0x2fbce5(0x57c)]),!this[_0x2fbce5(0x60b)][_0x2fbce5(0x1ed)]['processingGroup']){await this[_0x2fbce5(0x2e1)](),this[_0x2fbce5(0x69f)][_0x2fbce5(0x31e)](this[_0x2fbce5(0x2e9)]+'\x20('+this['instance']['wuid']+_0x2fbce5(0x1f2)+_0x1a5fcd[_0x2fbce5(0x49d)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}}}this[_0x2fbce5(0x5ae)]=[];let _0xba5c21=await this[_0x2fbce5(0x8f0)][_0x2fbce5(0x7df)][_0x2fbce5(0x5a1)](_0x1a5fcd['_id'],this[_0x2fbce5(0x60b)]['wuid']);if(_0xba5c21[_0x2fbce5(0x174)][_0x2fbce5(0x5c5)](_0x2bc922=>_0x2bc922[_0x2fbce5(0x57c)])&&_0xba5c21['status']!==_0x2fbce5(0x78d)){let _0x1fc879={'$set':{'status':_0x2fbce5(0x28c)}};await this[_0x2fbce5(0x8f0)][_0x2fbce5(0x7df)]['updateOneById'](_0xba5c21[_0x2fbce5(0x49d)],_0x1fc879,this[_0x2fbce5(0x60b)]['wuid']);}await new Promise(_0x2a6594=>setTimeout(_0x2a6594,_0x4e8278)),global['gc']?global['gc']():console[_0x2fbce5(0x31e)](_0x2fbce5(0x419));}}['timeoutPromise'](_0x538b1e){const _0x262aca=a0_0x1b7b78;return new Promise((_0x12d1d1,_0x56f4a1)=>setTimeout(()=>_0x56f4a1(new Error(_0x262aca(0x70b))),_0x538b1e));}['getDelay'](_0x455c13,_0x3ca9cb){const _0x383f67=a0_0x1b7b78;return _0x455c13=Math['max'](0.5,_0x455c13),_0x3ca9cb=Math['min'](Math[_0x383f67(0x459)](0x3,_0x3ca9cb),0x78),Math['floor'](Math[_0x383f67(0x70d)]()*(_0x3ca9cb-_0x455c13+0x1)+_0x455c13)*0x3e8;}[a0_0x1b7b78(0x1b3)](_0x350f35){return new Promise(_0x75a0de=>setTimeout(_0x75a0de,_0x350f35));}async[a0_0x1b7b78(0x2f3)](_0x56954f){const _0x54b1a1=a0_0x1b7b78;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x56954f=this[_0x54b1a1(0x790)](_0x56954f);let _0x228808=await this['repository'][_0x54b1a1(0x85e)][_0x54b1a1(0x547)]({'where':{'_id':_0x56954f}},this[_0x54b1a1(0x60b)][_0x54b1a1(0x3e2)]),_0x21fb3c={};if(_0x228808&&_0x228808['leadInfo']){let _0x34c067=_0x228808[_0x54b1a1(0x873)];typeof _0x34c067['nome']=='string'&&(_0x21fb3c[_0x54b1a1(0x331)]=_0x34c067[_0x54b1a1(0x331)]),typeof _0x34c067[_0x54b1a1(0x5bb)]=='string'&&(_0x21fb3c[_0x54b1a1(0x5bb)]=_0x34c067[_0x54b1a1(0x5bb)]),typeof _0x34c067['email']==_0x54b1a1(0x8d3)&&(_0x21fb3c['email']=_0x34c067[_0x54b1a1(0x3ea)]),typeof _0x34c067['cpf']==_0x54b1a1(0x8d3)&&(_0x21fb3c[_0x54b1a1(0x3eb)]=_0x34c067['cpf']),typeof _0x34c067['status']==_0x54b1a1(0x8d3)&&(_0x21fb3c[_0x54b1a1(0x18a)]=_0x34c067[_0x54b1a1(0x18a)]),typeof _0x34c067['notas']==_0x54b1a1(0x8d3)&&(_0x21fb3c[_0x54b1a1(0x735)]=_0x34c067['notas']),typeof _0x34c067['responsavelid']==_0x54b1a1(0x8d3)&&(_0x21fb3c[_0x54b1a1(0x3ee)]=_0x34c067[_0x54b1a1(0x3ee)]),Array['isArray'](_0x34c067[_0x54b1a1(0x882)])&&(_0x21fb3c[_0x54b1a1(0x882)]=_0x34c067[_0x54b1a1(0x882)][_0x54b1a1(0x44f)](',\x20')),Array[_0x54b1a1(0x7c2)](_0x34c067[_0x54b1a1(0x188)])&&(_0x21fb3c[_0x54b1a1(0x188)]=_0x34c067['etiquetas'][_0x54b1a1(0x44f)](',\x20'));}return _0x228808&&_0x228808[_0x54b1a1(0x873)]&&_0x228808[_0x54b1a1(0x873)][_0x54b1a1(0x5ad)]&&_0x228808[_0x54b1a1(0x873)][_0x54b1a1(0x5ad)][_0x54b1a1(0x52e)](_0x440b94=>{const _0xe078fa=_0x54b1a1;let _0x1ad87b=this[_0xe078fa(0x767)]?.['customFields'][_0xe078fa(0x83c)](_0x5fb7d9=>_0x5fb7d9[_0xe078fa(0x49d)]===_0x440b94[_0xe078fa(0x49d)]);_0x1ad87b&&(_0x21fb3c[_0x1ad87b['name']]=_0x440b94[_0xe078fa(0x5bf)]);}),_0x21fb3c;}async[a0_0x1b7b78(0x728)](_0xeef604,_0x43830b){const _0x5cc5b5=a0_0x1b7b78;try{let _0x1f1f7c=await this['getVariablesChat'](_0x43830b);return this[_0x5cc5b5(0x7e7)](_0xeef604,_0x1f1f7c);}catch(_0x2aeeeb){return this[_0x5cc5b5(0x69f)]['error'](_0x5cc5b5(0x182)+_0x43830b+':\x20'+_0x2aeeeb),_0xeef604;}}async['transformScheduledMessagesByType'](){const _0x5cff10=a0_0x1b7b78;let _0x4edf8b=async(_0x2d1c2f,_0x254699)=>{const _0x327c9d=a0_0x4b9f;let _0x303012=(await this['repository']['scheduleMessage'][_0x327c9d(0x83c)]({'where':{'type':_0x2d1c2f}},this[_0x327c9d(0x60b)][_0x327c9d(0x3e2)]))[_0x327c9d(0x686)](async _0x6b88db=>{const _0xb4106b=_0x327c9d;let _0x4b4ccb=_0x254699(_0x6b88db),_0x55be30=_0x52357=>/^\d+$/['test'](_0x52357),_0x3e663c=_0x6b88db[_0xb4106b(0x33b)]['filter'](_0x15c42d=>_0x15c42d[_0xb4106b(0x5f1)](_0xb4106b(0x3c5))?_0x15c42d[_0xb4106b(0x245)]>0x19:_0x15c42d[_0xb4106b(0x5f1)](_0xb4106b(0x23b))?_0x15c42d[_0xb4106b(0x245)]>0xf:_0x55be30(_0x15c42d)?_0x15c42d['length']>=0xb:!0x1)[_0xb4106b(0x686)](_0x2afdf5=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x6b88db[_0xb4106b(0x49d)],'type':_0x4b4ccb,'remoteJid':_0x2afdf5,'flow':_0x6b88db[_0xb4106b(0x7bc)],'text':_0x6b88db[_0xb4106b(0x272)]?.['text'],'delay':_0x6b88db['message']?.[_0xb4106b(0x48b)],'urlOrBase64':_0x6b88db[_0xb4106b(0x272)]?.[_0xb4106b(0x36f)],'linkPreview':_0x6b88db['message']?.['linkPreview'],'fileName':_0x6b88db[_0xb4106b(0x272)]?.[_0xb4106b(0x525)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0xb4106b(0x8f0)][_0xb4106b(0x7df)][_0xb4106b(0x565)](_0x6b88db[_0xb4106b(0x49d)],{'$set':{'messages':_0x3e663c},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance']['wuid']);}catch(_0x3b4c0f){console['error'](_0xb4106b(0x880)+_0x6b88db[_0xb4106b(0x49d)]+':',_0x3b4c0f);}});await Promise[_0x327c9d(0x586)](_0x303012);};await _0x4edf8b(_0x5cff10(0x51e),_0x8fb66e=>_0x5cff10(0x51e)),await _0x4edf8b('media',_0x3aaf47=>_0x3aaf47[_0x5cff10(0x272)]?.[_0x5cff10(0x2bb)]||'media'),await _0x4edf8b(_0x5cff10(0x7a6),_0x398b57=>'audio'),await _0x4edf8b('flow',_0x103125=>_0x5cff10(0x2b4)),await _0x4edf8b('image',_0x3a75af=>_0x5cff10(0x2b9)),await _0x4edf8b('video',_0x4f3770=>_0x5cff10(0x6ca)),await _0x4edf8b(_0x5cff10(0x6f4),_0x2784fd=>'document'),this['logger'][_0x5cff10(0x31e)](this[_0x5cff10(0x2e9)]+'\x20('+this[_0x5cff10(0x60b)][_0x5cff10(0x3e2)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0x1b7b78(0x54b)](_0x56c1c5){const _0x4c0bda=a0_0x1b7b78;try{if(this[_0x4c0bda(0x69f)]['warn'](this[_0x4c0bda(0x2e9)]+'\x20('+this[_0x4c0bda(0x60b)][_0x4c0bda(0x3e2)]+_0x4c0bda(0x834)),_0x56c1c5[_0x4c0bda(0x49d)]||(_0x56c1c5[_0x4c0bda(0x49d)]=(0x0,Y['v4'])()),this[_0x4c0bda(0x60b)][_0x4c0bda(0x1ed)][_0x4c0bda(0x569)]?.['_id']===_0x56c1c5['_id']?.[_0x4c0bda(0x6e2)]()){if(_0x56c1c5[_0x4c0bda(0x18a)]===_0x4c0bda(0x78d))this[_0x4c0bda(0x60b)][_0x4c0bda(0x1ed)][_0x4c0bda(0x569)]=null;else throw new Error(_0x4c0bda(0x2e4));}if(_0x56c1c5['delete']&&_0x56c1c5['_id']){let _0x20a2ee=await this['repository'][_0x4c0bda(0x7df)][_0x4c0bda(0x869)](_0x56c1c5[_0x4c0bda(0x49d)],this[_0x4c0bda(0x60b)][_0x4c0bda(0x3e2)]);return setTimeout(()=>this[_0x4c0bda(0x881)](),0x7d0),_0x20a2ee;}let _0x43b6d0=null;if(_0x56c1c5[_0x4c0bda(0x49d)]&&(_0x43b6d0=await this['repository'][_0x4c0bda(0x7df)][_0x4c0bda(0x5a1)](_0x56c1c5[_0x4c0bda(0x49d)],this[_0x4c0bda(0x60b)]['wuid'])),_0x43b6d0){let {_id:_0x386cc0,owner:_0x2a5ed3,messages:_0x18dfdc,..._0x35c857}=_0x56c1c5;if(_0x18dfdc){let _0x2bf495=_0x18dfdc[_0x4c0bda(0x194)](_0x16dec2=>!_0x16dec2[_0x4c0bda(0x49d)]),_0x2650cb=_0x18dfdc[_0x4c0bda(0x194)](_0x418c4c=>_0x418c4c[_0x4c0bda(0x49d)]&&!_0x418c4c[_0x4c0bda(0x30b)]),_0x31d3a4=_0x18dfdc[_0x4c0bda(0x194)](_0x5c0077=>_0x5c0077[_0x4c0bda(0x49d)]&&_0x5c0077[_0x4c0bda(0x30b)]);if(_0x2bf495[_0x4c0bda(0x245)]>0x0&&await this[_0x4c0bda(0x3fd)](_0x56c1c5['_id'],_0x2bf495),_0x2650cb[_0x4c0bda(0x245)]>0x0&&await this[_0x4c0bda(0x74e)]({'_id':_0x56c1c5[_0x4c0bda(0x49d)],'messages':_0x2650cb}),_0x31d3a4[_0x4c0bda(0x245)]>0x0){let _0x206e33=_0x31d3a4[_0x4c0bda(0x686)](_0x156c5d=>({'updateOne':{'filter':{'_id':_0x56c1c5[_0x4c0bda(0x49d)]},'update':{'$pull':{'messages':{'_id':_0x156c5d['_id']}}}}}));await this['repository'][_0x4c0bda(0x7df)][_0x4c0bda(0x5ed)](_0x206e33,this[_0x4c0bda(0x60b)][_0x4c0bda(0x3e2)]);}}let _0x501cd4={'$set':{..._0x35c857,'status':_0x56c1c5[_0x4c0bda(0x18a)]||_0x43b6d0[_0x4c0bda(0x18a)]}},_0x15f670=await this[_0x4c0bda(0x8f0)][_0x4c0bda(0x7df)]['updateOneById'](_0x56c1c5[_0x4c0bda(0x49d)],_0x501cd4,this['instance'][_0x4c0bda(0x3e2)]);return _0x15f670&&(this[_0x4c0bda(0x32d)](_0x15f670[_0x4c0bda(0x174)]),await this[_0x4c0bda(0x8f0)][_0x4c0bda(0x7df)][_0x4c0bda(0x565)](_0x15f670['_id'],{'$set':{'messages':_0x15f670[_0x4c0bda(0x174)]}},this[_0x4c0bda(0x60b)][_0x4c0bda(0x3e2)])),setTimeout(()=>this[_0x4c0bda(0x881)](),0x7d0),await this[_0x4c0bda(0x85a)](),_0x15f670;}else{_0x56c1c5[_0x4c0bda(0x186)]=this['instance']['wuid'],_0x56c1c5['messages']&&_0x56c1c5['messages'][_0x4c0bda(0x52e)](_0x22754b=>{const _0x44f5b8=_0x4c0bda;_0x22754b[_0x44f5b8(0x49d)]||(_0x22754b[_0x44f5b8(0x49d)]=(0x0,Y['v4'])()),_0x22754b[_0x44f5b8(0x3f2)]||(_0x22754b[_0x44f5b8(0x3f2)]=_0x56c1c5[_0x44f5b8(0x49d)]),delete _0x22754b['triedToSend'];});let _0x332cdc=await this[_0x4c0bda(0x8f0)]['scheduleMessage'][_0x4c0bda(0x444)](_0x56c1c5,this[_0x4c0bda(0x60b)][_0x4c0bda(0x3e2)]);return _0x332cdc&&(this['reorderMessages'](_0x332cdc[_0x4c0bda(0x174)]),await this[_0x4c0bda(0x8f0)][_0x4c0bda(0x7df)][_0x4c0bda(0x565)](_0x332cdc[_0x4c0bda(0x49d)],{'$set':{'messages':_0x332cdc['messages']}},this[_0x4c0bda(0x60b)][_0x4c0bda(0x3e2)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x332cdc;}}catch(_0x4e157b){let _0x205c7a=_0x4c0bda(0x6d8),_0x3ab700=_0x4e157b instanceof Error?_0x4e157b[_0x4c0bda(0x272)]:typeof _0x4e157b==_0x4c0bda(0x56d)?JSON[_0x4c0bda(0x5b9)](_0x4e157b):_0x4e157b,_0x1dd74d=_0x205c7a+':\x20'+_0x3ab700;throw this[_0x4c0bda(0x69f)][_0x4c0bda(0x84d)](this[_0x4c0bda(0x2e9)]+'\x20('+this['instance']['wuid']+_0x4c0bda(0x754)+_0x1dd74d),new m(_0x1dd74d);}}async[a0_0x1b7b78(0x3fd)](_0x111420,_0x4fdfa5){const _0x4b78eb=a0_0x1b7b78;try{this[_0x4b78eb(0x69f)][_0x4b78eb(0x776)](this[_0x4b78eb(0x2e9)]+'\x20('+this[_0x4b78eb(0x60b)]['wuid']+_0x4b78eb(0x8a3)),_0x4fdfa5['forEach'](_0x527126=>{const _0x5a3f1b=_0x4b78eb;_0x527126[_0x5a3f1b(0x49d)]||(_0x527126[_0x5a3f1b(0x49d)]=(0x0,Y['v4'])()),_0x527126[_0x5a3f1b(0x3f2)]||(_0x527126['idSchedule']=_0x111420),delete _0x527126[_0x5a3f1b(0x57c)];});let _0x5cdb5a={'$push':{'messages':{'$each':_0x4fdfa5}}},_0x2d1c0c=await this[_0x4b78eb(0x8f0)][_0x4b78eb(0x7df)][_0x4b78eb(0x565)](_0x111420,_0x5cdb5a,this[_0x4b78eb(0x60b)][_0x4b78eb(0x3e2)]);return _0x2d1c0c&&(this['reorderMessages'](_0x2d1c0c[_0x4b78eb(0x174)]),await this['repository'][_0x4b78eb(0x7df)][_0x4b78eb(0x565)](_0x2d1c0c[_0x4b78eb(0x49d)],{'$set':{'messages':_0x2d1c0c[_0x4b78eb(0x174)]}},this[_0x4b78eb(0x60b)][_0x4b78eb(0x3e2)])),_0x2d1c0c;}catch(_0x52246b){let _0x528304=_0x4b78eb(0x21a),_0x5e198b=_0x52246b instanceof Error?_0x52246b[_0x4b78eb(0x272)]:typeof _0x52246b=='object'?JSON[_0x4b78eb(0x5b9)](_0x52246b):_0x52246b,_0x54e403=_0x528304+':\x20'+_0x5e198b;throw this[_0x4b78eb(0x69f)]['error'](this[_0x4b78eb(0x2e9)]+'\x20('+this[_0x4b78eb(0x60b)][_0x4b78eb(0x3e2)]+'):\x20'+_0x54e403),new m(_0x54e403);}}async[a0_0x1b7b78(0x74e)](_0x5ca2b9){const _0x2993fc=a0_0x1b7b78;try{if(this[_0x2993fc(0x69f)][_0x2993fc(0x776)](this[_0x2993fc(0x2e9)]+'\x20('+this[_0x2993fc(0x60b)][_0x2993fc(0x3e2)]+_0x2993fc(0x1a1)),!_0x5ca2b9[_0x2993fc(0x49d)]||!_0x5ca2b9[_0x2993fc(0x174)])throw new Error(_0x2993fc(0x7d0));let _0x3adc4c=_0x5ca2b9[_0x2993fc(0x49d)],_0x5bc6b3=_0x5ca2b9[_0x2993fc(0x174)],_0x160cbc=_0x5bc6b3[_0x2993fc(0x194)](_0x32c7b8=>!_0x32c7b8[_0x2993fc(0x30b)])['map'](_0x1bce41=>{const _0x5f20ab=_0x2993fc;let _0xe6cfac=_0x1bce41['_id'];if(!_0xe6cfac)throw new Error(_0x5f20ab(0x4e6));return _0x1bce41['idSchedule']||(_0x1bce41[_0x5f20ab(0x3f2)]=_0x3adc4c),delete _0x1bce41[_0x5f20ab(0x57c)],{'updateOne':{'filter':{'_id':_0x3adc4c,'messages._id':_0xe6cfac},'update':{'$set':{'messages.$[elem]':_0x1bce41}},'arrayFilters':[{'elem._id':_0xe6cfac}]}};}),_0x78f5b4=_0x5bc6b3[_0x2993fc(0x194)](_0x17e7d9=>_0x17e7d9[_0x2993fc(0x30b)])['map'](_0x1da72b=>{const _0x16976f=_0x2993fc;let _0x238aec=_0x1da72b[_0x16976f(0x49d)];if(!_0x238aec)throw new Error(_0x16976f(0x577));return{'updateOne':{'filter':{'_id':_0x3adc4c},'update':{'$pull':{'messages':{'_id':_0x238aec}}}}};}),_0x299d03=[..._0x160cbc,..._0x78f5b4],_0x513a59=await this['repository'][_0x2993fc(0x7df)][_0x2993fc(0x5ed)](_0x299d03,this[_0x2993fc(0x60b)][_0x2993fc(0x3e2)]),_0x3db191=await this[_0x2993fc(0x8f0)][_0x2993fc(0x7df)]['findById'](_0x3adc4c,this[_0x2993fc(0x60b)][_0x2993fc(0x3e2)]);return _0x3db191&&(this[_0x2993fc(0x32d)](_0x3db191[_0x2993fc(0x174)]),await this[_0x2993fc(0x8f0)][_0x2993fc(0x7df)][_0x2993fc(0x565)](_0x3db191['_id'],{'$set':{'messages':_0x3db191[_0x2993fc(0x174)]}},this[_0x2993fc(0x60b)]['wuid'])),_0x3db191;}catch(_0xa4472f){let _0x3571f9=_0x2993fc(0x3a9),_0x1ef9b2=_0xa4472f instanceof Error?_0xa4472f[_0x2993fc(0x272)]:typeof _0xa4472f=='object'?JSON[_0x2993fc(0x5b9)](_0xa4472f):_0xa4472f,_0x30bf73=_0x3571f9+':\x20'+_0x1ef9b2;throw this[_0x2993fc(0x69f)]['error'](this[_0x2993fc(0x2e9)]+'\x20('+this[_0x2993fc(0x60b)][_0x2993fc(0x3e2)]+'):\x20'+_0x30bf73),new m(_0x30bf73);}}async['deleteDoneMessages'](){const _0x23c3c2=a0_0x1b7b78;try{let _0x3560f3={'status':_0x23c3c2(0x28c)},_0xd590a7=await this['repository'][_0x23c3c2(0x7df)][_0x23c3c2(0x2c3)](_0x3560f3,this[_0x23c3c2(0x60b)][_0x23c3c2(0x3e2)]);if(!_0xd590a7[_0x23c3c2(0x84d)])this[_0x23c3c2(0x69f)][_0x23c3c2(0x776)](this[_0x23c3c2(0x2e9)]+'\x20('+this[_0x23c3c2(0x60b)][_0x23c3c2(0x3e2)]+_0x23c3c2(0x552));else throw new Error(_0xd590a7[_0x23c3c2(0x84d)]['message']||_0x23c3c2(0x524));return this['getScheduleMessage']();}catch(_0x5b144f){let _0x4eb7e2=_0x23c3c2(0x898),_0x274013=_0x5b144f instanceof Error?_0x5b144f[_0x23c3c2(0x272)]:typeof _0x5b144f==_0x23c3c2(0x56d)?JSON[_0x23c3c2(0x5b9)](_0x5b144f):_0x5b144f,_0xcc1e15=_0x4eb7e2+':\x20'+_0x274013;throw this[_0x23c3c2(0x69f)]['error'](this[_0x23c3c2(0x2e9)]+'\x20('+this[_0x23c3c2(0x60b)][_0x23c3c2(0x3e2)]+_0x23c3c2(0x754)+_0xcc1e15),new m(_0xcc1e15);}}async['getScheduleMessage'](){const _0x3d92c4=a0_0x1b7b78;try{return await this[_0x3d92c4(0x8f0)][_0x3d92c4(0x7df)]['find']({'where':{}},this[_0x3d92c4(0x60b)][_0x3d92c4(0x3e2)]);}catch(_0x129921){let _0xbb3189=_0x3d92c4(0x38a),_0x182090=_0x129921 instanceof Error?_0x129921[_0x3d92c4(0x272)]:typeof _0x129921==_0x3d92c4(0x56d)?JSON[_0x3d92c4(0x5b9)](_0x129921):_0x129921,_0x1323d5=_0xbb3189+':\x20'+_0x182090;throw this[_0x3d92c4(0x69f)][_0x3d92c4(0x84d)](this[_0x3d92c4(0x2e9)]+'\x20('+this[_0x3d92c4(0x60b)][_0x3d92c4(0x3e2)]+'):\x20'+_0x1323d5),new m(_0x1323d5);}}[a0_0x1b7b78(0x32d)](_0x4feb3e){const _0x184425=a0_0x1b7b78;_0x4feb3e[_0x184425(0x4d4)]((_0x31e9cb,_0x27c84d)=>_0x31e9cb[_0x184425(0x3a2)]-_0x27c84d[_0x184425(0x3a2)]),_0x4feb3e[_0x184425(0x52e)]((_0x35d951,_0x1dcdaf)=>{const _0x4f37bf=_0x184425;_0x35d951[_0x4f37bf(0x3a2)]=_0x1dcdaf+0x1;});}async[a0_0x1b7b78(0x7e2)](_0x15be80,_0x440c58){const _0x5aa9d6=a0_0x1b7b78;try{if(!_0x440c58)return this[_0x5aa9d6(0x69f)]['error'](this[_0x5aa9d6(0x2e9)]+'\x20('+this[_0x5aa9d6(0x60b)][_0x5aa9d6(0x3e2)]+_0x5aa9d6(0x491)),{'error':!0x0,'detail':_0x5aa9d6(0x508)};if(_0x440c58[_0x5aa9d6(0x4ae)]===_0x5aa9d6(0x2b4)&&!this[_0x5aa9d6(0x767)]?.['flowConfig'][_0x5aa9d6(0x886)])return this[_0x5aa9d6(0x69f)]['error'](this[_0x5aa9d6(0x2e9)]+'\x20('+this['instance']['wuid']+_0x5aa9d6(0x31a)),{'error':!0x0,'detail':_0x5aa9d6(0x4b1)};switch(_0x440c58[_0x5aa9d6(0x4ae)]){case _0x5aa9d6(0x51e):return await this['scheduleSendText'](_0x440c58,_0x15be80);case _0x5aa9d6(0x6ca):case _0x5aa9d6(0x2b9):case _0x5aa9d6(0x6f4):return await this['scheduleSendMedia'](_0x440c58,_0x15be80);case _0x5aa9d6(0x7a6):return await this[_0x5aa9d6(0x1e6)](_0x440c58,_0x15be80);case _0x5aa9d6(0x2b4):let _0x2f0d73=new We();return _0x2f0d73['name']=_0x440c58['flow'],_0x2f0d73[_0x5aa9d6(0x745)]=_0x15be80,await this[_0x5aa9d6(0x3d6)](_0x2f0d73);default:return this[_0x5aa9d6(0x69f)][_0x5aa9d6(0x84d)](this[_0x5aa9d6(0x2e9)]+'\x20('+this[_0x5aa9d6(0x60b)][_0x5aa9d6(0x3e2)]+_0x5aa9d6(0x742)+_0x440c58[_0x5aa9d6(0x4ae)]),{'error':!0x0,'detail':_0x5aa9d6(0x3a5)};}}catch(_0x4b4187){return this[_0x5aa9d6(0x69f)][_0x5aa9d6(0x84d)](this[_0x5aa9d6(0x2e9)]+'\x20('+this['instance'][_0x5aa9d6(0x3e2)]+_0x5aa9d6(0x5f0)+(_0x4b4187 instanceof Error?_0x4b4187[_0x5aa9d6(0x272)]:JSON[_0x5aa9d6(0x5b9)](_0x4b4187,null,0x2))),{'error':!0x0,'detail':_0x4b4187[_0x5aa9d6(0x272)]};}}async['scheduleSendText'](_0xb647e1,_0xba82b5){const _0x32992d=a0_0x1b7b78;if(this[_0x32992d(0x69f)][_0x32992d(0x776)](this['instanceName']+'\x20('+this[_0x32992d(0x60b)]['wuid']+_0x32992d(0x231)+_0xba82b5+'\x27'),!_0xb647e1[_0x32992d(0x51e)]||_0xb647e1[_0x32992d(0x51e)][_0x32992d(0x245)]===0x0)return{'error':!0x0,'detail':_0x32992d(0x617)};let _0x23b870=await this[_0x32992d(0x728)](_0xb647e1[_0x32992d(0x51e)],_0xba82b5),_0x2e2fd0={'number':_0xba82b5,'options':{'delay':_0xb647e1[_0x32992d(0x48b)],'linkPreview':_0xb647e1[_0x32992d(0x730)]},'textMessage':{'text':_0x23b870}},_0x3d136b=null;try{let _0x3168ef=await this[_0x32992d(0x5ea)](_0x2e2fd0);if(_0x3168ef&&_0x3168ef[_0x32992d(0x18a)])return{'error':!0x1,'id':_0x3168ef[_0x32992d(0x482)]['id']};_0x3d136b=JSON[_0x32992d(0x5b9)](_0x3168ef),this[_0x32992d(0x69f)][_0x32992d(0x776)](this[_0x32992d(0x2e9)]+'\x20('+this[_0x32992d(0x60b)][_0x32992d(0x3e2)]+_0x32992d(0x754)+_0x3d136b);}catch(_0xab8947){this[_0x32992d(0x69f)][_0x32992d(0x84d)](this[_0x32992d(0x2e9)]+'\x20('+this[_0x32992d(0x60b)]['wuid']+_0x32992d(0x56a)+(_0xab8947 instanceof Error?_0xab8947[_0x32992d(0x272)]:JSON['stringify'](_0xab8947,null,0x2))),_0x3d136b=_0xab8947['message'];}if(_0x3d136b)return{'error':!0x0,'detail':(typeof _0x3d136b==_0x32992d(0x56d)?JSON['stringify'](_0x3d136b,null,0x2):_0x3d136b)[_0x32992d(0x465)](/[\[\]{}\n]/g,'\x20')[_0x32992d(0x465)](/  +/g,'\x20')};}async[a0_0x1b7b78(0x694)](_0x230bf0,_0x15aec7){const _0x3182d5=a0_0x1b7b78;this[_0x3182d5(0x69f)]['verbose'](this[_0x3182d5(0x2e9)]+'\x20('+this[_0x3182d5(0x60b)][_0x3182d5(0x3e2)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x15aec7+'\x27');let _0x4ac9d8;_0x230bf0[_0x3182d5(0x51e)]&&_0x230bf0['text']['length']>0x0&&(_0x4ac9d8=await this[_0x3182d5(0x728)](_0x230bf0['text'],_0x15aec7));let _0x52a137={'number':_0x15aec7,'options':{'delay':_0x230bf0[_0x3182d5(0x48b)],'linkPreview':_0x230bf0[_0x3182d5(0x730)]},'mediaMessage':{'mediatype':_0x230bf0['type'],'caption':_0x4ac9d8,'media':_0x230bf0['urlOrBase64']}},_0x429e79=null;try{let _0x357a48=await this['mediaMessage'](_0x52a137);if(_0x357a48&&_0x357a48[_0x3182d5(0x18a)])return{'error':!0x1,'id':_0x357a48[_0x3182d5(0x482)]['id']};_0x429e79=JSON[_0x3182d5(0x5b9)](_0x357a48),this[_0x3182d5(0x69f)][_0x3182d5(0x776)](this[_0x3182d5(0x2e9)]+'\x20('+this['instance'][_0x3182d5(0x3e2)]+_0x3182d5(0x754)+_0x429e79);}catch(_0x56e0cd){this[_0x3182d5(0x69f)][_0x3182d5(0x84d)](this[_0x3182d5(0x2e9)]+'\x20('+this[_0x3182d5(0x60b)][_0x3182d5(0x3e2)]+_0x3182d5(0x53a)+(_0x56e0cd instanceof Error?_0x56e0cd[_0x3182d5(0x272)]:JSON['stringify'](_0x56e0cd,null,0x2))),_0x429e79=_0x56e0cd['message'];}if(_0x429e79)return{'error':!0x0,'detail':(typeof _0x429e79==_0x3182d5(0x56d)?JSON['stringify'](_0x429e79,null,0x2):_0x429e79)[_0x3182d5(0x465)](/[\[\]{}\n]/g,'\x20')[_0x3182d5(0x465)](/  +/g,'\x20')};}async[a0_0x1b7b78(0x1e6)](_0x13982a,_0x50517e){const _0xf7f7e7=a0_0x1b7b78;this[_0xf7f7e7(0x69f)][_0xf7f7e7(0x776)](this[_0xf7f7e7(0x2e9)]+'\x20('+this[_0xf7f7e7(0x60b)][_0xf7f7e7(0x3e2)]+_0xf7f7e7(0x30d)+_0x50517e+'\x27');let _0x56e61b={'number':_0x50517e,'options':{'delay':_0x13982a[_0xf7f7e7(0x48b)]},'audioMessage':{'audio':_0x13982a[_0xf7f7e7(0x36f)]}},_0x51655f=null;try{let _0x456fbe=await this[_0xf7f7e7(0x20d)](_0x56e61b);if(_0x456fbe&&_0x456fbe[_0xf7f7e7(0x18a)])return{'error':!0x1,'id':_0x456fbe[_0xf7f7e7(0x482)]['id']};_0x51655f=JSON[_0xf7f7e7(0x5b9)](_0x456fbe),this[_0xf7f7e7(0x69f)][_0xf7f7e7(0x776)](this[_0xf7f7e7(0x2e9)]+'\x20('+this[_0xf7f7e7(0x60b)][_0xf7f7e7(0x3e2)]+_0xf7f7e7(0x754)+_0x51655f);}catch(_0x3e72bd){this[_0xf7f7e7(0x69f)]['error'](this[_0xf7f7e7(0x2e9)]+'\x20('+this[_0xf7f7e7(0x60b)][_0xf7f7e7(0x3e2)]+_0xf7f7e7(0x393)+(_0x3e72bd instanceof Error?_0x3e72bd[_0xf7f7e7(0x272)]:JSON[_0xf7f7e7(0x5b9)](_0x3e72bd,null,0x2))),_0x51655f=_0x3e72bd[_0xf7f7e7(0x272)];}if(_0x51655f)return{'error':!0x0,'detail':(typeof _0x51655f==_0xf7f7e7(0x56d)?JSON[_0xf7f7e7(0x5b9)](_0x51655f,null,0x2):_0x51655f)[_0xf7f7e7(0x465)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1b7b78(0x2bd)](_0x53d23e){const _0x3ef8c6=a0_0x1b7b78;try{return await this[_0x3ef8c6(0x567)]['groupUpdateDescription'](_0x53d23e['groupJid'],_0x53d23e[_0x3ef8c6(0x570)]),{'update':'success'};}catch(_0x3f29ff){let _0x413771=_0x3ef8c6(0x775),_0x182ebe=_0x3f29ff instanceof Error?_0x3f29ff[_0x3ef8c6(0x272)]:typeof _0x3f29ff==_0x3ef8c6(0x56d)?JSON['stringify'](_0x3f29ff):_0x3f29ff,_0x1e512f=_0x413771+':\x20'+_0x182ebe;throw this[_0x3ef8c6(0x69f)][_0x3ef8c6(0x84d)](this[_0x3ef8c6(0x2e9)]+'\x20('+this[_0x3ef8c6(0x60b)]['wuid']+_0x3ef8c6(0x754)+_0x1e512f),new x(_0x1e512f);}}async['groupName'](_0x11df47){const _0x2911c8=a0_0x1b7b78;try{return await this[_0x2911c8(0x567)]['groupUpdateSubject'](_0x11df47[_0x2911c8(0x640)],_0x11df47['name']),{'update':'success'};}catch(_0x3015b2){let _0x2afbf7=_0x2911c8(0x809),_0x3dd913=_0x3015b2 instanceof Error?_0x3015b2['message']:typeof _0x3015b2==_0x2911c8(0x56d)?JSON[_0x2911c8(0x5b9)](_0x3015b2):_0x3015b2,_0x158ad9=_0x2afbf7+':\x20'+_0x3dd913;throw this['logger'][_0x2911c8(0x84d)](this[_0x2911c8(0x2e9)]+'\x20('+this['instance'][_0x2911c8(0x3e2)]+_0x2911c8(0x754)+_0x158ad9),new x(_0x158ad9);}}async[a0_0x1b7b78(0x559)](_0x46ac16){const _0x55ddc0=a0_0x1b7b78;try{let _0x15513b=await this[_0x55ddc0(0x567)][_0x55ddc0(0x785)](_0x46ac16[_0x55ddc0(0x640)],_0x46ac16[_0x55ddc0(0x2ff)]);return{'success':!0x0};}catch(_0xff56a8){let _0x3ea086=_0x55ddc0(0x5a6),_0x3666c3=_0xff56a8 instanceof Error?_0xff56a8['message']:typeof _0xff56a8==_0x55ddc0(0x56d)?JSON[_0x55ddc0(0x5b9)](_0xff56a8):_0xff56a8,_0x175f2e=_0x3ea086+':\x20'+_0x3666c3;throw this[_0x55ddc0(0x69f)][_0x55ddc0(0x84d)](this[_0x55ddc0(0x2e9)]+'\x20('+this['instance'][_0x55ddc0(0x3e2)]+_0x55ddc0(0x754)+_0x175f2e),new x(_0x175f2e);}}async[a0_0x1b7b78(0x21d)](_0x5b3330){const _0x1910ca=a0_0x1b7b78;try{return await this['client'][_0x1910ca(0x5a7)](_0x5b3330[_0x1910ca(0x640)],_0x5b3330[_0x1910ca(0x414)]),{'update':'success'};}catch(_0xc5ad46){let _0xe7f8f6=_0x1910ca(0x61f),_0x4046f8=_0xc5ad46 instanceof Error?_0xc5ad46[_0x1910ca(0x272)]:typeof _0xc5ad46=='object'?JSON[_0x1910ca(0x5b9)](_0xc5ad46):_0xc5ad46,_0x432bd1=_0xe7f8f6+':\x20'+_0x4046f8;throw this['logger']['error'](this[_0x1910ca(0x2e9)]+'\x20('+this[_0x1910ca(0x60b)][_0x1910ca(0x3e2)]+_0x1910ca(0x754)+_0x432bd1),new x(_0x432bd1);}}async[a0_0x1b7b78(0x66b)](_0x418769){const _0x3127a1=a0_0x1b7b78;try{let _0x16a54d;if((0x0,J[_0x3127a1(0x5a0)])(_0x418769[_0x3127a1(0x2b9)])){let _0x39de98=new Date()[_0x3127a1(0x8f2)](),_0x40f41e=_0x418769[_0x3127a1(0x2b9)]+_0x3127a1(0x472)+_0x39de98;_0x16a54d=(await Q[_0x3127a1(0x7ac)][_0x3127a1(0x234)](_0x40f41e,{'responseType':_0x3127a1(0x223)}))[_0x3127a1(0x517)];}else{if((0x0,J[_0x3127a1(0x3ba)])(_0x418769[_0x3127a1(0x2b9)]))_0x16a54d=Buffer['from'](_0x418769['image'],_0x3127a1(0x20c));else throw new m(_0x3127a1(0x6b4));}return await this[_0x3127a1(0x567)][_0x3127a1(0x672)](_0x418769['groupJid'],_0x16a54d),{'update':_0x3127a1(0x845)};}catch(_0x2b23f2){let _0x5ee973=_0x3127a1(0x6c5),_0x2f15e6=_0x2b23f2 instanceof Error?_0x2b23f2[_0x3127a1(0x272)]:typeof _0x2b23f2==_0x3127a1(0x56d)?JSON[_0x3127a1(0x5b9)](_0x2b23f2):_0x2b23f2,_0x19af49=_0x5ee973+':\x20'+_0x2f15e6;throw this[_0x3127a1(0x69f)][_0x3127a1(0x84d)](this[_0x3127a1(0x2e9)]+'\x20('+this[_0x3127a1(0x60b)]['wuid']+_0x3127a1(0x754)+_0x19af49),new x(_0x19af49);}}},jt=class u{constructor(_0x120164,_0x52a6cd,_0x4c87f2){const _0x4c05ab=a0_0x1b7b78;this[_0x4c05ab(0x562)]=_0x120164,this[_0x4c05ab(0x6e6)]=_0x52a6cd,this[_0x4c05ab(0x8f0)]=_0x4c87f2,this['db']={},this[_0x4c05ab(0x575)]={},this[_0x4c05ab(0x69f)]=new $(u[_0x4c05ab(0x4a9)]),this['waInstances']={},(this[_0x4c05ab(0x256)](),this[_0x4c05ab(0x50b)](),Object[_0x4c05ab(0x52b)](this['db'],_0x52a6cd[_0x4c05ab(0x234)]('DATABASE')),Object[_0x4c05ab(0x52b)](this['redis'],_0x52a6cd[_0x4c05ab(0x234)](_0x4c05ab(0x2d4))),this['dbInstance']=this['db'][_0x4c05ab(0x7eb)]?this[_0x4c05ab(0x8f0)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x4c05ab(0x824)]+_0x4c05ab(0x7fd)):void 0x0,this[_0x4c05ab(0x760)]=this['redis'][_0x4c05ab(0x7eb)]?new pe(this['redis']):void 0x0);}async[a0_0x1b7b78(0x78f)](_0x11bc98){const _0x2fd6e4=a0_0x1b7b78;if(_0x11bc98&&!this['waInstances'][_0x11bc98])throw new U(_0x2fd6e4(0x1dd)+_0x11bc98+_0x2fd6e4(0x358));let _0x3fe741=[];for await(let [_0x90283,_0x33a37c]of Object[_0x2fd6e4(0x47f)](this['waInstances']))if(_0x33a37c&&_0x33a37c[_0x2fd6e4(0x3a7)][_0x2fd6e4(0x4a7)]===_0x2fd6e4(0x8ef)){let _0x454e4e=await this['repository'][_0x2fd6e4(0x2e8)][_0x2fd6e4(0x83c)](_0x90283);_0x3fe741[_0x2fd6e4(0x184)]({'instance':{'instanceName':_0x90283,'apikey':_0x454e4e['apikey'],'owner':_0x33a37c['wuid'],'profileName':await _0x33a37c['getProfileName']()||_0x2fd6e4(0x60e),'profilePictureUrl':_0x33a37c[_0x2fd6e4(0x8b7)]}});}return _0x3fe741[_0x2fd6e4(0x83c)](_0xeece13=>_0xeece13[_0x2fd6e4(0x60b)][_0x2fd6e4(0x2e9)]===_0x11bc98)??_0x3fe741;}async['cleaningUp'](_0x416150){const _0x5b6a9a=a0_0x1b7b78;if(this['db'][_0x5b6a9a(0x7eb)]&&(await this['repository']['dbServer'][_0x5b6a9a(0x698)](),(await this[_0x5b6a9a(0x36b)][_0x5b6a9a(0x796)]())[_0x5b6a9a(0x245)]>0x0&&await this[_0x5b6a9a(0x36b)][_0x5b6a9a(0x3ec)](_0x416150)),this[_0x5b6a9a(0x575)]['ENABLED']){this['cache'][_0x5b6a9a(0x7cf)]=_0x416150,await this[_0x5b6a9a(0x760)][_0x5b6a9a(0x496)]();return;}}async['loadInstance'](){const _0x1f321e=a0_0x1b7b78;await this[_0x1f321e(0x2d6)]();let _0x26a134=async _0x41a327=>{const _0x2a67b5=_0x1f321e;let _0x503d1d=new $e(this[_0x2a67b5(0x6e6)],this[_0x2a67b5(0x562)],this[_0x2a67b5(0x8f0)]);_0x503d1d[_0x2a67b5(0x2e9)]=_0x41a327,await _0x503d1d[_0x2a67b5(0x43a)](),this['waInstances'][_0x41a327]=_0x503d1d;};try{if(this['redis'][_0x1f321e(0x7eb)]){let _0x530694=await this[_0x1f321e(0x760)][_0x1f321e(0x839)]();_0x530694?.[_0x1f321e(0x245)]>0x0&&_0x530694[_0x1f321e(0x52e)](async _0x197adb=>await _0x26a134(_0x197adb['split'](':')[0x1]));return;}if(this['db'][_0x1f321e(0x7eb)]){await this[_0x1f321e(0x8f0)][_0x1f321e(0x4f6)][_0x1f321e(0x698)]();let _0x50df75=await this[_0x1f321e(0x36b)][_0x1f321e(0x796)]();_0x50df75[_0x1f321e(0x245)]>0x0&&_0x50df75['forEach'](async _0x273bf0=>await _0x26a134(_0x273bf0[_0x1f321e(0x226)][_0x1f321e(0x465)](/^[\w-]+\./,'')));return;}}catch(_0x3b04e5){this['logger']['error'](_0x3b04e5);}}async[a0_0x1b7b78(0x619)](){const _0x1952e5=a0_0x1b7b78;try{let _0x106004=await this[_0x1952e5(0x8f0)]['auth'][_0x1952e5(0x22d)]({'online':!0x1});for(let _0x4a731b of _0x106004){let _0x1bf859=_0x4a731b[_0x1952e5(0x49d)];await ae['removeIPv6ById'](B,_0x1bf859);}console[_0x1952e5(0x315)](_0x1952e5(0x443)+_0x106004[_0x1952e5(0x245)]);let _0x378fea={'online':!0x1},_0x16630e=await this['repository'][_0x1952e5(0x2e8)][_0x1952e5(0x2c3)](_0x378fea);console[_0x1952e5(0x315)](_0x1952e5(0x4c4)+_0x16630e[_0x1952e5(0x1b2)]);}catch(_0x1de7c4){console[_0x1952e5(0x84d)](_0x1952e5(0x4ce),_0x1de7c4);}}async['InstancesAlterarTodas'](){const _0x51cd96=a0_0x1b7b78;try{let _0x45eb97={'online':!0x1},_0x192af9={'online':!0x1,'lastDisconnect':Date[_0x51cd96(0x8d0)]()},_0xb408c3=await this[_0x51cd96(0x8f0)][_0x51cd96(0x2e8)]['updateAll'](_0x45eb97,_0x192af9);await this['cleanDisconnectedInstances']();}catch(_0x55ca80){console['error'](_0x51cd96(0x7d3),_0x55ca80);}}['removeInstance'](){const _0xedf4c5=a0_0x1b7b78;this[_0xedf4c5(0x562)]['on']('remove.instance',async _0x80ba7e=>{const _0x39adb2=_0xedf4c5;try{this[_0x39adb2(0x746)][_0x80ba7e]=void 0x0;}catch{}try{this[_0x39adb2(0x662)](_0x80ba7e);}finally{this['logger'][_0x39adb2(0x31e)]('Instance\x20\x22'+_0x80ba7e+'\x22\x20-\x20REMOVED');}});}[a0_0x1b7b78(0x50b)](){const _0xfe6a34=a0_0x1b7b78;this[_0xfe6a34(0x562)]['on'](_0xfe6a34(0x285),async _0x16941a=>{const _0x2d8436=_0xfe6a34;try{this[_0x2d8436(0x746)][_0x16941a]=void 0x0;}catch{}try{this['cleaningUp'](_0x16941a);}finally{this[_0x2d8436(0x69f)][_0x2d8436(0x31e)]('Instance\x20\x22'+_0x16941a+_0x2d8436(0x597));}});}},Jt=class extends _{['getChatModelForOwner'](_0x5ac489){return ta(_0x5ac489);}async[a0_0x1b7b78(0x5dc)](_0x5a0c75){const _0x555e58=a0_0x1b7b78;if(_0x5a0c75[_0x555e58(0x245)]!==0x0)try{return{'insertCount':(await this[_0x555e58(0x7e8)](_0x5a0c75[0x0]['owner'])['insertMany']([..._0x5a0c75]))[_0x555e58(0x245)]};}catch(_0x2a2909){return _0x2a2909;}}async['find'](_0x5efd78,_0x592da5){const _0x32d213=a0_0x1b7b78;try{let _0x260130=this[_0x32d213(0x7e8)](_0x592da5),_0x1cc7d1=A(_0x5efd78[_0x32d213(0x4b7)]);return await _0x260130[_0x32d213(0x83c)](_0x1cc7d1)[_0x32d213(0x4d4)]({'lastmsg':-0x1})['limit'](_0x5efd78?.[_0x32d213(0x4db)]??0x0)['lean']();}catch{return[];}}async[a0_0x1b7b78(0x4e3)](_0x43b4c2,_0x59db5c){const _0x3e8eeb=a0_0x1b7b78;try{let _0x1dbeb6=this[_0x3e8eeb(0x7e8)](_0x59db5c),_0x58f77b=A(_0x43b4c2[_0x3e8eeb(0x4b7)]);return _0x58f77b[_0x3e8eeb(0x63c)]={'$ne':[]},await _0x1dbeb6['find'](_0x58f77b)[_0x3e8eeb(0x4d4)]({'lastmsg':-0x1})[_0x3e8eeb(0x4db)](_0x43b4c2?.['limit']??0x0)[_0x3e8eeb(0x86c)]();}catch{return[];}}async[a0_0x1b7b78(0x30b)](_0x10065b,_0x584d7e){const _0x323343=a0_0x1b7b78;try{return{'deletedCount':(await this[_0x323343(0x7e8)](_0x584d7e)[_0x323343(0x2c3)]({..._0x10065b[_0x323343(0x4b7)]}))[_0x323343(0x82c)]};}catch(_0x1ca8b5){return{'error':_0x1ca8b5?.[_0x323343(0x6e2)]()};}}async[a0_0x1b7b78(0x2b8)](_0x266b79,_0x5291df){const _0x53656d=a0_0x1b7b78;try{return await this['getChatModelForOwner'](_0x5291df)[_0x53656d(0x2c3)]({..._0x266b79[_0x53656d(0x4b7)]}),[];}catch(_0x5f1694){return{'error':_0x5f1694?.['toString']()};}}async[a0_0x1b7b78(0x547)](_0x6b2dad,_0xee3c84){const _0x4bc31a=a0_0x1b7b78;try{let _0x5e11fb=this['getChatModelForOwner'](_0xee3c84),_0x23d6d1=A(_0x6b2dad[_0x4bc31a(0x4b7)]);return await _0x5e11fb[_0x4bc31a(0x547)](_0x23d6d1)[_0x4bc31a(0x86c)]();}catch{return null;}}async['updateOne'](_0x407830,_0x182dfa,_0x3467b1,_0x5781f7,_0x5a4ecd='$set'){const _0x139328=a0_0x1b7b78;try{let _0x2f88ff={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5781f7},_0x1dc6a6=this[_0x139328(0x7e8)](_0x3467b1),_0x27ac90=A(_0x407830[_0x139328(0x4b7)]);Object[_0x139328(0x51a)](_0x182dfa)[_0x139328(0x52e)](_0x4c7a54=>{_0x182dfa[_0x4c7a54]==null&&delete _0x182dfa[_0x4c7a54];});let _0x220434={};return _0x220434[_0x5a4ecd]=_0x182dfa,await _0x1dc6a6[_0x139328(0x69b)](_0x27ac90,_0x220434,_0x2f88ff);}catch(_0x5e1482){return console['error'](_0x5e1482),null;}}async[a0_0x1b7b78(0x3a3)](_0x3ef7a0){const _0x425ca9=a0_0x1b7b78;try{let _0x40f844=this[_0x425ca9(0x7e8)](_0x3ef7a0[0x0][_0x425ca9(0x7f1)][_0x425ca9(0x4b7)]['owner']),_0x18abe6=_0x3ef7a0['map'](_0x19bcf9=>({'updateOne':{'filter':{..._0x19bcf9['query'][_0x425ca9(0x4b7)]},'update':{'$set':_0x19bcf9[_0x425ca9(0x85d)]},'upsert':!0x0}})),_0x55bb97=await _0x40f844[_0x425ca9(0x5ed)](_0x18abe6);return _0x55bb97[_0x425ca9(0x8a6)]+_0x55bb97[_0x425ca9(0x68d)];}catch(_0x21a649){return console[_0x425ca9(0x84d)](_0x21a649),0x0;}}async[a0_0x1b7b78(0x666)](_0x52e329){const _0x4522a0=a0_0x1b7b78;try{let _0x275394={'group_isCommunity':'','group_announce':'','group_size':''},_0x5b7835={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1943fb={'$unset':_0x275394};return(await this['getChatModelForOwner'](_0x52e329)[_0x4522a0(0x3a3)](_0x5b7835,_0x1943fb))['modifiedCount'];}catch(_0x33cfbc){return console[_0x4522a0(0x84d)](_0x4522a0(0x4b2),_0x33cfbc),0x0;}}async[a0_0x1b7b78(0x19f)](_0x5345cd){const _0x2d406b=a0_0x1b7b78;try{let _0x21b644=this['getChatModelForOwner'](_0x5345cd),_0x2cc1c5={'leadInfo.etiquetas':{'$exists':!0x1}},_0x478e80={'$set':{'leadInfo.etiquetas':[]}};return(await _0x21b644[_0x2d406b(0x3a3)](_0x2cc1c5,_0x478e80))[_0x2d406b(0x8a6)];}catch(_0x4b96a0){return console[_0x2d406b(0x84d)](_0x4b96a0),0x0;}}async[a0_0x1b7b78(0x521)](_0x4d6fbb){const _0x5f4141=a0_0x1b7b78;try{let _0x1a9d39=this[_0x5f4141(0x7e8)](_0x4d6fbb),_0x345f47={'leadInfo.tags':{'$exists':!0x1}},_0x23cf60={'$set':{'leadInfo.tags':[]}};return(await _0x1a9d39[_0x5f4141(0x3a3)](_0x345f47,_0x23cf60))[_0x5f4141(0x8a6)];}catch(_0x1eb8bf){return console['error'](_0x1eb8bf),0x0;}}async['updateMissingCustomFields'](_0x250acd){const _0x567398=a0_0x1b7b78;try{let _0x8ca6a9=this[_0x567398(0x7e8)](_0x250acd),_0x84890={'leadInfo.customFields':{'$exists':!0x1}},_0x4a7a20={'$set':{'leadInfo.customFields':[]}};return(await _0x8ca6a9[_0x567398(0x3a3)](_0x84890,_0x4a7a20))['modifiedCount'];}catch(_0x4c604f){return console[_0x567398(0x84d)](_0x4c604f),0x0;}}async[a0_0x1b7b78(0x4e9)](_0x24d38d,_0x18cf62){const _0x46028a=a0_0x1b7b78;if(!Array[_0x46028a(0x7c2)](_0x24d38d)||_0x24d38d[_0x46028a(0x245)]===0x0)throw new Error(_0x46028a(0x8d4));try{return(await this[_0x46028a(0x7e8)](_0x18cf62)['insertMany'](_0x24d38d))[_0x46028a(0x245)];}catch(_0x4bafc1){throw console[_0x46028a(0x84d)]('Erro\x20ao\x20inserir\x20chats:',_0x4bafc1),_0x4bafc1;}}async[a0_0x1b7b78(0x1f1)](_0x39eb6a,_0x4e56e9){const _0x588235=a0_0x1b7b78;try{await this[_0x588235(0x7e8)](_0x4e56e9)[_0x588235(0x869)]({'_id':_0x39eb6a});}catch(_0x43a296){throw console[_0x588235(0x84d)](_0x588235(0x429),_0x43a296),_0x43a296;}}},qt=class extends _{constructor(_0x518e29,_0x346961,_0xefa632){const _0x314581=a0_0x1b7b78;super(_0x346961),this[_0x314581(0x1a6)]=_0x518e29,this[_0x314581(0x6e6)]=_0x346961,this[_0x314581(0x3cc)]=_0xefa632;}async[a0_0x1b7b78(0x5dc)](_0x476631){const _0x4a927f=a0_0x1b7b78;if(_0x476631[_0x4a927f(0x245)]!==0x0)try{return{'insertCount':(await this[_0x4a927f(0x1a6)]['insertMany']([..._0x476631]))[_0x4a927f(0x245)]};}catch(_0x5e43fe){return _0x5e43fe;}}async[a0_0x1b7b78(0x85d)](_0x8c41d,_0x2a9a74){const _0x3457c2=a0_0x1b7b78;try{let _0x181b47=A(_0x8c41d[_0x3457c2(0x4b7)]);return{'updatedCount':(await this[_0x3457c2(0x1a6)][_0x3457c2(0x3a3)](_0x181b47,{'$set':_0x2a9a74}))[_0x3457c2(0x8a6)]};}catch(_0x44f12e){return console[_0x3457c2(0x84d)]('Error\x20updating\x20cache\x20contact:',_0x44f12e),{'error':_0x44f12e[_0x3457c2(0x6e2)]()};}}async['findManyByIds'](_0x39c353){const _0x27f1f8=a0_0x1b7b78;try{let _0x12f7da={'_id':{'$in':_0x39c353}};return await this[_0x27f1f8(0x1a6)][_0x27f1f8(0x83c)](_0x12f7da)['lean']();}catch(_0x4697c3){return console['error'](_0x27f1f8(0x31c),_0x4697c3),[];}}async[a0_0x1b7b78(0x30b)](_0x230a36){const _0x385c61=a0_0x1b7b78;try{return{'deletedCount':(await this[_0x385c61(0x1a6)][_0x385c61(0x2c3)]({..._0x230a36['where']}))[_0x385c61(0x82c)]};}catch(_0x4e9501){return{'error':_0x4e9501?.[_0x385c61(0x6e2)]()};}}async[a0_0x1b7b78(0x83c)](_0x267424){const _0x5e59c8=a0_0x1b7b78;try{let _0xed3ceb=A(_0x267424[_0x5e59c8(0x4b7)]);return await this[_0x5e59c8(0x1a6)]['find'](_0xed3ceb)['limit'](_0x267424?.['limit']??0x0)[_0x5e59c8(0x86c)]();}catch{return[];}}async[a0_0x1b7b78(0x547)](_0x400a16){const _0x15a8f4=a0_0x1b7b78;try{let _0x416cea=A(_0x400a16['where']);return await this[_0x15a8f4(0x1a6)][_0x15a8f4(0x547)](_0x416cea)[_0x15a8f4(0x86c)]();}catch{return null;}}},Vt=class extends _{constructor(_0x4cbb38,_0x34bc07,_0x2a7af1){const _0x2fd35b=a0_0x1b7b78;super(_0x34bc07),this[_0x2fd35b(0x447)]=_0x4cbb38,this[_0x2fd35b(0x6e6)]=_0x34bc07,this[_0x2fd35b(0x3cc)]=_0x2a7af1;}async[a0_0x1b7b78(0x5dc)](_0x493c6c){const _0x1a64c5=a0_0x1b7b78;if(_0x493c6c['length']!==0x0)try{return{'insertCount':(await this[_0x1a64c5(0x447)][_0x1a64c5(0x4e9)]([..._0x493c6c]))[_0x1a64c5(0x245)]};}catch(_0x2440e7){return _0x2440e7;}}async[a0_0x1b7b78(0x85d)](_0x5bebae,_0x41e8e7){const _0x2e000a=a0_0x1b7b78;try{let _0x496653=A(_0x5bebae['where']);return{'updatedCount':(await this[_0x2e000a(0x447)][_0x2e000a(0x3a3)](_0x496653,{'$set':_0x41e8e7}))[_0x2e000a(0x8a6)]};}catch(_0x410780){return console[_0x2e000a(0x84d)](_0x2e000a(0x23a),_0x410780),{'error':_0x410780[_0x2e000a(0x6e2)]()};}}async['delete'](_0x1d834e){const _0x1ffaea=a0_0x1b7b78;try{return{'deletedCount':(await this[_0x1ffaea(0x447)][_0x1ffaea(0x2c3)]({..._0x1d834e[_0x1ffaea(0x4b7)]}))[_0x1ffaea(0x82c)]};}catch(_0x28f423){return{'error':_0x28f423?.[_0x1ffaea(0x6e2)]()};}}async[a0_0x1b7b78(0x547)](_0x492736){const _0x303225=a0_0x1b7b78;try{let _0x25b530=A(_0x492736[_0x303225(0x4b7)]);return await this[_0x303225(0x447)][_0x303225(0x547)](_0x25b530)['lean']();}catch{return null;}}},Gt=class extends _{[a0_0x1b7b78(0x593)](_0x2c9c2e){return Ea(_0x2c9c2e);}async[a0_0x1b7b78(0x6b6)](_0x425161,_0x595dc9,_0x55cb46,_0x44ed7c){const _0x3f52e3=a0_0x1b7b78;try{let _0x3e04a1={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x44ed7c},_0x10f513=this[_0x3f52e3(0x593)](_0x55cb46),_0x57b403=A(_0x425161[_0x3f52e3(0x4b7)]);return await _0x10f513['findOneAndUpdate'](_0x57b403,{'$set':_0x595dc9},_0x3e04a1);}catch(_0x63bcc1){return console['error'](_0x63bcc1),null;}}async[a0_0x1b7b78(0x83c)](_0x4e4984,_0x514db6){const _0x2c70b3=a0_0x1b7b78;try{let _0x3e09a9=this['getLabelModelForOwner'](_0x514db6),_0x595cce=A(_0x4e4984[_0x2c70b3(0x4b7)]);return await _0x3e09a9[_0x2c70b3(0x83c)](_0x595cce);}catch(_0xd92aa2){console[_0x2c70b3(0x84d)](_0xd92aa2);}}async['delete'](_0xe1e671,_0x5d8931){const _0x3527d2=a0_0x1b7b78;try{let _0x436069=this[_0x3527d2(0x593)](_0x5d8931),_0x6f537b=A(_0xe1e671[_0x3527d2(0x4b7)]);await _0x436069[_0x3527d2(0x2c3)](_0x6f537b);}catch(_0x4bf1fa){console[_0x3527d2(0x84d)](_0x4bf1fa);}}async[a0_0x1b7b78(0x2b8)](_0x4a4902){const _0x8c477a=a0_0x1b7b78;try{return await this[_0x8c477a(0x593)](_0x4a4902)[_0x8c477a(0x7f5)]['drop'](),{'success':!0x0};}catch(_0x1f0aaa){return console[_0x8c477a(0x84d)](_0x1f0aaa),{'success':!0x1,'error':_0x1f0aaa};}}},Bt=class{constructor(_0x2188f6){this['waMonitor']=_0x2188f6;}async[a0_0x1b7b78(0x5c1)]({instanceName:_0x2c24a5},_0x2a7a31){const _0x4efd31=a0_0x1b7b78;return await this[_0x4efd31(0x7a9)][_0x4efd31(0x746)][_0x2c24a5][_0x4efd31(0x5c1)](_0x2a7a31);}async['whatsappNumber']({instanceName:_0x25d312},_0x5e8822){const _0x4649c5=a0_0x1b7b78;return await this[_0x4649c5(0x7a9)][_0x4649c5(0x746)][_0x25d312][_0x4649c5(0x32b)](_0x5e8822);}async[a0_0x1b7b78(0x483)]({instanceName:_0x12e3c4},_0xe123ab){const _0x175e65=a0_0x1b7b78;return await this[_0x175e65(0x7a9)]['waInstances'][_0x12e3c4][_0x175e65(0x483)](_0xe123ab);}async[a0_0x1b7b78(0x17e)]({instanceName:_0x4e2d77},_0x2728c7){const _0x3f5821=a0_0x1b7b78;return await this[_0x3f5821(0x7a9)]['waInstances'][_0x4e2d77][_0x3f5821(0x246)](_0x2728c7);}async['archiveChat']({instanceName:_0x3cc2cb},_0x5b1ddb){const _0x1bc8a9=a0_0x1b7b78;return await this[_0x1bc8a9(0x7a9)][_0x1bc8a9(0x746)][_0x3cc2cb][_0x1bc8a9(0x6df)](_0x5b1ddb);}async['deleteMessage']({instanceName:_0x2ab657},_0x2ce425){const _0x524a80=a0_0x1b7b78;return await this[_0x524a80(0x7a9)][_0x524a80(0x746)][_0x2ab657][_0x524a80(0x420)](_0x2ce425);}async[a0_0x1b7b78(0x311)]({instanceName:_0x4fdbd7},_0x8c5e57){const _0x116d61=a0_0x1b7b78;return await this[_0x116d61(0x7a9)]['waInstances'][_0x4fdbd7][_0x116d61(0x828)](_0x8c5e57[_0x116d61(0x7c6)]);}async[a0_0x1b7b78(0x81d)]({instanceName:_0x53b7dc},_0x350fe6){const _0x27352d=a0_0x1b7b78;return await this[_0x27352d(0x7a9)][_0x27352d(0x746)][_0x53b7dc][_0x27352d(0x81d)](_0x350fe6[_0x27352d(0x7c6)]);}async['updatePresence']({instanceName:_0x5e7f60},_0x199ab4){const _0xb27183=a0_0x1b7b78;return await this[_0xb27183(0x7a9)][_0xb27183(0x746)][_0x5e7f60][_0xb27183(0x337)](_0x199ab4);}async['fetchContacts']({instanceName:_0x381197},_0x3b28e0){const _0x135620=a0_0x1b7b78;return await this['waMonitor'][_0x135620(0x746)][_0x381197][_0x135620(0x6b5)](_0x3b28e0);}async[a0_0x1b7b78(0x777)]({instanceName:_0x583c06},_0x38c2c6){const _0x2c7f25=a0_0x1b7b78;return await this['waMonitor'][_0x2c7f25(0x746)][_0x583c06][_0x2c7f25(0x777)](_0x38c2c6);}async[a0_0x1b7b78(0x8b0)]({instanceName:_0xee8900},_0x2c7a12){const _0x511912=a0_0x1b7b78;return await this[_0x511912(0x7a9)][_0x511912(0x746)][_0xee8900]['fetchMessages'](_0x2c7a12);}async['fetchLabels']({instanceName:_0x41e998}){const _0x3f8c21=a0_0x1b7b78;return await this[_0x3f8c21(0x7a9)][_0x3f8c21(0x746)][_0x41e998][_0x3f8c21(0x72a)]();}async[a0_0x1b7b78(0x350)]({instanceName:_0x3fe2d3}){const _0x31263c=a0_0x1b7b78;return await this[_0x31263c(0x7a9)]['waInstances'][_0x3fe2d3]['fetchChats']();}async[a0_0x1b7b78(0x2ab)]({instanceName:_0x27a520}){const _0x15356c=a0_0x1b7b78;return await this[_0x15356c(0x7a9)][_0x15356c(0x746)][_0x27a520][_0x15356c(0x2ab)]();}async[a0_0x1b7b78(0x5c2)]({instanceName:_0x5adff2},_0x55b4a1){const _0x30bea2=a0_0x1b7b78;return await this[_0x30bea2(0x7a9)][_0x30bea2(0x746)][_0x5adff2]['updatePrivacySettings'](_0x55b4a1);}async[a0_0x1b7b78(0x3d7)]({instanceName:_0xce91cd},_0x320ddf){const _0x4f1f83=a0_0x1b7b78;return await this['waMonitor']['waInstances'][_0xce91cd][_0x4f1f83(0x3d7)](_0x320ddf['number']);}async[a0_0x1b7b78(0x68b)]({instanceName:_0x42d5fe},_0x1c71b1){const _0x181bb3=a0_0x1b7b78;return await this['waMonitor'][_0x181bb3(0x746)][_0x42d5fe]['updateProfileName'](_0x1c71b1['name']);}async[a0_0x1b7b78(0x699)]({instanceName:_0x1c79c8},_0x44c329){const _0x25a187=a0_0x1b7b78;return await this[_0x25a187(0x7a9)][_0x25a187(0x746)][_0x1c79c8][_0x25a187(0x699)](_0x44c329['status']);}async[a0_0x1b7b78(0x672)]({instanceName:_0x57c107},_0x470c40){const _0x83f3ab=a0_0x1b7b78;return await this[_0x83f3ab(0x7a9)][_0x83f3ab(0x746)][_0x57c107][_0x83f3ab(0x672)](_0x470c40[_0x83f3ab(0x51b)]);}async[a0_0x1b7b78(0x216)]({instanceName:_0x4f55b2},_0x58304c){const _0x277617=a0_0x1b7b78;return await this['waMonitor'][_0x277617(0x746)][_0x4f55b2]['removeProfilePicture']();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x47981e,_0x47d9a5,_0x283c66,_0x237d30,_0x2d3a2a){const _0x570974=a0_0x1b7b78;this[_0x570974(0x7a9)]=_0x47981e,this['configService']=_0x47d9a5,this['repository']=_0x283c66,this['eventEmitter']=_0x237d30,this[_0x570974(0x5a2)]=_0x2d3a2a,this['logger']=new $(u['name']);}async[a0_0x1b7b78(0x6d3)]({instanceName:_0x3a6842,apikey:_0x3bf748,number:_0x4fff38,proxy:_0x42f216=!0x0}){const _0x2a82a7=a0_0x1b7b78;try{let _0x16f6ef=new $e(this['configService'],this[_0x2a82a7(0x562)],this['repository']);_0x16f6ef[_0x2a82a7(0x2e9)]=_0x3a6842,this['waMonitor'][_0x2a82a7(0x746)][_0x16f6ef[_0x2a82a7(0x2e9)]]=_0x16f6ef;let _0x9fc743={};_0x3bf748?(await this[_0x2a82a7(0x8f0)][_0x2a82a7(0x2e8)][_0x2a82a7(0x262)]({'apikey':_0x3bf748},_0x3a6842),_0x9fc743[_0x2a82a7(0x41c)]=_0x3bf748):_0x9fc743=await this['authService'][_0x2a82a7(0x1c2)]({'instanceName':_0x16f6ef[_0x2a82a7(0x2e9)]});let _0xb39113;if(_0x4fff38){if(_0xb39113=await this[_0x2a82a7(0x57e)](_0x4fff38),_0xb39113[_0x2a82a7(0x84d)])throw new x(_0xb39113[_0x2a82a7(0x84d)][_0x2a82a7(0x6e2)]());_0x4fff38=_0xb39113['number'];}let _0x2ef821;return await _0x16f6ef[_0x2a82a7(0x43a)](_0x4fff38),await(0x0,Wt['delay'])(0xfa0),_0x4fff38&&await(0x0,Wt[_0x2a82a7(0x48b)])(0xbb8),_0x2ef821=_0x16f6ef[_0x2a82a7(0x503)],{'instance':{'instanceName':_0x16f6ef[_0x2a82a7(0x2e9)],'status':_0x2a82a7(0x436)},'hash':_0x9fc743,'qrcode':_0x2ef821};}catch(_0x1e2f24){throw this['logger'][_0x2a82a7(0x84d)](_0x1e2f24),_0x1e2f24;}}async[a0_0x1b7b78(0x71f)]({instanceName:_0x493afa,number:_0x1bb6c4=null}){const _0x6e0044=a0_0x1b7b78;try{let _0x328777=this['waMonitor'][_0x6e0044(0x746)][_0x493afa];switch(_0x328777?.[_0x6e0044(0x3a7)]?.[_0x6e0044(0x4a7)]){case _0x6e0044(0x42f):return await _0x328777['connectToWhatsapp'](_0x1bb6c4),await(0x0,Wt['delay'])(0x7d0),_0x328777[_0x6e0044(0x503)];case _0x6e0044(0x1a8):return _0x328777['qrCode'];default:return await this[_0x6e0044(0x396)]({'instanceName':_0x493afa});}}catch(_0x1ba67a){this[_0x6e0044(0x69f)][_0x6e0044(0x315)](_0x1ba67a);}}async[a0_0x1b7b78(0x396)]({instanceName:_0x312e2b}){const _0x37dd34=a0_0x1b7b78;let _0xdc022c=this[_0x37dd34(0x7a9)]['waInstances'][_0x312e2b][_0x37dd34(0x3a7)],_0x13100c=null;_0xdc022c['state']===_0x37dd34(0x8ef)&&_0x312e2b&&(_0x13100c=await this[_0x37dd34(0x7a9)][_0x37dd34(0x78f)](_0x312e2b));let _0x4907bc=null;return _0xdc022c['state']==='connecting'&&_0x312e2b&&(_0x4907bc=this[_0x37dd34(0x7a9)][_0x37dd34(0x746)][_0x312e2b]['qrCode']),{'instance':_0x312e2b,'connectionStatus':_0xdc022c,'instanceInfo':_0x13100c,'qrcode':_0x4907bc};}async[a0_0x1b7b78(0x57e)](_0x2a6ebc){const _0x3b01c7=a0_0x1b7b78;_0x2a6ebc=_0x2a6ebc[_0x3b01c7(0x465)](/\D/g,'');let _0x22f5f4=Object['keys'](this[_0x3b01c7(0x7a9)][_0x3b01c7(0x746)])[_0x3b01c7(0x194)](_0x268074=>{const _0x63602a=_0x3b01c7;let _0x554857=this[_0x63602a(0x7a9)]['waInstances'][_0x268074];return _0x554857&&_0x554857[_0x63602a(0x3a7)]&&_0x554857[_0x63602a(0x3a7)][_0x63602a(0x4a7)]==='open';});if(_0x22f5f4[_0x3b01c7(0x245)]===0x0)return{'number':this[_0x3b01c7(0x37c)](_0x2a6ebc)};let _0x25ac55=Math['floor'](Math['random']()*_0x22f5f4['length']),_0x887c33=_0x22f5f4[_0x25ac55];try{let _0x51ed1a=(await this[_0x3b01c7(0x7a9)][_0x3b01c7(0x746)][_0x887c33]['whatsappNumber']({'numbers':[_0x2a6ebc]}))[_0x3b01c7(0x362)]();return _0x51ed1a[_0x3b01c7(0x1e3)]?{'number':_0x51ed1a[_0x3b01c7(0x4bc)]['replace'](_0x3b01c7(0x3c5),'')}:{'number':_0x2a6ebc,'error':_0x3b01c7(0x6a3)};}catch(_0x52f95d){return this[_0x3b01c7(0x69f)][_0x3b01c7(0x84d)](_0x3b01c7(0x1c5)+_0x52f95d),{'number':_0x2a6ebc,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x1b7b78(0x37c)](_0x46194a){const _0xe26ea4=a0_0x1b7b78;let _0x19659a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xe26ea4(0x643)](_0x46194a);if(_0x19659a&&_0x19659a[0x1]==='55'){let _0x669aa=_0x19659a[0x2],_0x4920fe=_0x19659a[0x3],_0xa15044=_0x19659a[0x4];if(parseInt(_0x669aa)>=0x1f&&_0x4920fe==='9')return _0x19659a[0x1]+_0x669aa+_0xa15044;}return _0x46194a;}async[a0_0x1b7b78(0x6a8)]({instanceName:_0x1fbba8}){const _0x47081a=a0_0x1b7b78;try{return this[_0x47081a(0x7a9)][_0x47081a(0x746)][_0x1fbba8]?.['client']?.['ws']?.[_0x47081a(0x42f)](),{'status':_0x47081a(0x328),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x2bdfa6){this[_0x47081a(0x69f)][_0x47081a(0x84d)](_0x2bdfa6);}}async[a0_0x1b7b78(0x20a)]({instanceName:_0x1cb2cd}){const _0x12dc64=a0_0x1b7b78;return _0x1cb2cd?this[_0x12dc64(0x7a9)]['instanceInfo'](_0x1cb2cd):this[_0x12dc64(0x7a9)][_0x12dc64(0x78f)]();}async[a0_0x1b7b78(0x382)]({instanceName:_0x586799}){const _0x4dab7c=a0_0x1b7b78;try{return await this[_0x4dab7c(0x7a9)][_0x4dab7c(0x746)][_0x586799]?.[_0x4dab7c(0x567)]?.[_0x4dab7c(0x382)](_0x4dab7c(0x3b5)+_0x586799),{'error':!0x1,'message':_0x4dab7c(0x8c3)};}catch(_0xca6933){throw new x(_0xca6933[_0x4dab7c(0x6e2)]());}}async[a0_0x1b7b78(0x500)]({instanceName:_0xf9f190}){const _0x3baf20=a0_0x1b7b78;if((await this['connectionState']({'instanceName':_0xf9f190}))[_0x3baf20(0x3a7)][_0x3baf20(0x4a7)]===_0x3baf20(0x8ef))throw new m([_0x3baf20(0x3f0),_0x3baf20(0x663)]);try{return delete this['waMonitor'][_0x3baf20(0x746)][_0xf9f190],{'error':!0x1,'message':_0x3baf20(0x812)};}catch(_0x471c8d){throw new m(_0x471c8d[_0x3baf20(0x6e2)]());}}},ce=require(a0_0x1b7b78(0x18c)),Ht=class{constructor(_0x5d4797){const _0x1683c6=a0_0x1b7b78;this[_0x1683c6(0x7a9)]=_0x5d4797;}async['sendText']({instanceName:_0x4a9046},_0x84588){const _0x4b196d=a0_0x1b7b78;return await this[_0x4b196d(0x7a9)][_0x4b196d(0x746)][_0x4a9046][_0x4b196d(0x5ea)](_0x84588);}async['sendMenu']({instanceName:_0xfb0ce4},_0x222a7c){const _0x9bbf92=a0_0x1b7b78;return await this['waMonitor'][_0x9bbf92(0x746)][_0xfb0ce4]['menuMessage'](_0x222a7c);}async['sendMedia']({instanceName:_0x2243c2},_0x43b75f){const _0x4ccead=a0_0x1b7b78;if((0x0,ce[_0x4ccead(0x3ba)])(_0x43b75f?.[_0x4ccead(0x66d)]?.[_0x4ccead(0x858)])&&!_0x43b75f?.[_0x4ccead(0x66d)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ce['isURL'])(_0x43b75f?.[_0x4ccead(0x66d)]?.[_0x4ccead(0x858)])||(0x0,ce[_0x4ccead(0x3ba)])(_0x43b75f?.['mediaMessage']?.['media']))return await this[_0x4ccead(0x7a9)][_0x4ccead(0x746)][_0x2243c2][_0x4ccead(0x66d)](_0x43b75f);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x1b7b78(0x8cf)]({instanceName:_0x597e79},_0x1cb4c9){const _0x4b7d60=a0_0x1b7b78;if((0x0,ce[_0x4b7d60(0x5a0)])(_0x1cb4c9[_0x4b7d60(0x290)]['image'])||(0x0,ce[_0x4b7d60(0x3ba)])(_0x1cb4c9[_0x4b7d60(0x290)][_0x4b7d60(0x2b9)]))return await this['waMonitor'][_0x4b7d60(0x746)][_0x597e79][_0x4b7d60(0x2c9)](_0x1cb4c9);throw new m(_0x4b7d60(0x732));}async[a0_0x1b7b78(0x36e)]({instanceName:_0x1f0e15},_0x5edd3a){const _0x43c6c3=a0_0x1b7b78;if((0x0,ce['isURL'])(_0x5edd3a[_0x43c6c3(0x3c8)][_0x43c6c3(0x7a6)])||(0x0,ce[_0x43c6c3(0x3ba)])(_0x5edd3a[_0x43c6c3(0x3c8)][_0x43c6c3(0x7a6)]))return await this['waMonitor'][_0x43c6c3(0x746)][_0x1f0e15][_0x43c6c3(0x20d)](_0x5edd3a);throw new m(_0x43c6c3(0x732));}async[a0_0x1b7b78(0x8df)]({instanceName:_0x5c2038},_0x428a6f){const _0x1682fc=a0_0x1b7b78;return await this[_0x1682fc(0x7a9)][_0x1682fc(0x746)][_0x5c2038][_0x1682fc(0x518)](_0x428a6f);}async[a0_0x1b7b78(0x422)]({instanceName:_0x5e831b},_0x245ff8){const _0x53662c=a0_0x1b7b78;return await this[_0x53662c(0x7a9)][_0x53662c(0x746)][_0x5e831b]['locationMessage'](_0x245ff8);}async[a0_0x1b7b78(0x423)]({instanceName:_0x3fde3f},_0x4a755f){const _0x203fa0=a0_0x1b7b78;return await this[_0x203fa0(0x7a9)][_0x203fa0(0x746)][_0x3fde3f][_0x203fa0(0x44a)](_0x4a755f);}async[a0_0x1b7b78(0x5e0)]({instanceName:_0x4d86b1},_0x75a648){const _0x4f9cf1=a0_0x1b7b78;return await this[_0x4f9cf1(0x7a9)][_0x4f9cf1(0x746)][_0x4d86b1][_0x4f9cf1(0x1fe)](_0x75a648);}async[a0_0x1b7b78(0x303)]({instanceName:_0x3624a3},_0x110b38){const _0x2f4b7c=a0_0x1b7b78;return await this['waMonitor'][_0x2f4b7c(0x746)][_0x3624a3][_0x2f4b7c(0x5f4)](_0x110b38);}async[a0_0x1b7b78(0x8ce)]({instanceName:_0xb978a3},_0x2cd8ab){const _0x590084=a0_0x1b7b78;if(!_0x2cd8ab['reactionMessage'][_0x590084(0x3c1)][_0x590084(0x65b)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x590084(0x392));return await this[_0x590084(0x7a9)]['waInstances'][_0xb978a3][_0x590084(0x7f4)](_0x2cd8ab);}async['sendStatus']({instanceName:_0x540370},_0xc2c550){const _0x4b9b32=a0_0x1b7b78;return await this['waMonitor'][_0x4b9b32(0x746)][_0x540370][_0x4b9b32(0x4cb)](_0xc2c550);}},Pi=require('jsonwebtoken'),Us=require(a0_0x1b7b78(0x5c6)),Kt=class u{constructor(_0x34086b,_0x3b8eb7,_0x482b8c){const _0xd25497=a0_0x1b7b78;this[_0xd25497(0x6e6)]=_0x34086b,this[_0xd25497(0x7a9)]=_0x3b8eb7,this[_0xd25497(0x8f0)]=_0x482b8c,this['logger']=new $(u[_0xd25497(0x4a9)]);}async[a0_0x1b7b78(0x84b)](_0x29fad9){const _0x3f943b=a0_0x1b7b78;let _0x549a11=this[_0x3f943b(0x6e6)]['get']('AUTHENTICATION')[_0x3f943b(0x48c)],_0x3b59b6=(0x0,Pi[_0x3f943b(0x607)])({'instanceName':_0x29fad9[_0x3f943b(0x2e9)],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x549a11[_0x3f943b(0x4cc)],{'expiresIn':_0x549a11[_0x3f943b(0x1b8)],'encoding':'utf8','subject':_0x3f943b(0x39a)}),_0x323581=await this[_0x3f943b(0x8f0)][_0x3f943b(0x2e8)][_0x3f943b(0x262)]({'jwt':_0x3b59b6},_0x29fad9['instanceName']);if(_0x323581[_0x3f943b(0x84d)])throw this[_0x3f943b(0x69f)][_0x3f943b(0x84d)]({'localError':u[_0x3f943b(0x4a9)]+'.jwt','error':_0x323581[_0x3f943b(0x84d)]}),new m(_0x3f943b(0x866),_0x323581[_0x3f943b(0x84d)]?.[_0x3f943b(0x6e2)]());return{'jwt':_0x3b59b6};}async[a0_0x1b7b78(0x41c)](_0x1d8d23){const _0x18dd53=a0_0x1b7b78;let _0x176f65=(0x0,Us['v4'])()[_0x18dd53(0x265)](),_0xcbc6b9=await this[_0x18dd53(0x8f0)]['auth'][_0x18dd53(0x262)]({'apikey':_0x176f65},_0x1d8d23[_0x18dd53(0x2e9)]);if(_0xcbc6b9['error'])throw this[_0x18dd53(0x69f)][_0x18dd53(0x84d)]({'localError':u[_0x18dd53(0x4a9)]+_0x18dd53(0x6f1),'error':_0xcbc6b9[_0x18dd53(0x84d)]}),new m(_0x18dd53(0x866),_0xcbc6b9[_0x18dd53(0x84d)]?.[_0x18dd53(0x6e2)]());return{'apikey':_0x176f65};}async['generateHash'](_0x223d55){const _0x3e3597=a0_0x1b7b78;let _0x30c3cb=this[_0x3e3597(0x6e6)][_0x3e3597(0x234)](_0x3e3597(0x6ec));return await this[_0x30c3cb['TYPE']](_0x223d55);}},Qt=class{constructor(_0x529630){const _0x704cec=a0_0x1b7b78;this[_0x704cec(0x7a9)]=_0x529630;}async[a0_0x1b7b78(0x2fe)](_0x4924a1,_0x3d138f){const _0x276faa=a0_0x1b7b78;return await this[_0x276faa(0x7a9)][_0x276faa(0x746)][_0x4924a1[_0x276faa(0x2e9)]]['createGroup'](_0x3d138f);}async[a0_0x1b7b78(0x66b)](_0xaad4c,_0x2e38f5){const _0x53c9b6=a0_0x1b7b78;return await this[_0x53c9b6(0x7a9)][_0x53c9b6(0x746)][_0xaad4c[_0x53c9b6(0x2e9)]][_0x53c9b6(0x66b)](_0x2e38f5);}async[a0_0x1b7b78(0x2bd)](_0x3c681a,_0x180b79){const _0x331079=a0_0x1b7b78;return await this['waMonitor'][_0x331079(0x746)][_0x3c681a[_0x331079(0x2e9)]][_0x331079(0x2bd)](_0x180b79);}async[a0_0x1b7b78(0x595)](_0x5ac0ab,_0x5a5a8e){const _0x53512c=a0_0x1b7b78;return await this[_0x53512c(0x7a9)][_0x53512c(0x746)][_0x5ac0ab[_0x53512c(0x2e9)]]['groupName'](_0x5a5a8e);}async['groupBetterSetting'](_0x4d2f3f,_0x467def){const _0x5d78e1=a0_0x1b7b78;return await this[_0x5d78e1(0x7a9)][_0x5d78e1(0x746)][_0x4d2f3f[_0x5d78e1(0x2e9)]][_0x5d78e1(0x566)](_0x467def);}async['groupSetting'](_0x34ffbd,_0x1c1ee3){const _0x415bca=a0_0x1b7b78;return await this[_0x415bca(0x7a9)][_0x415bca(0x746)][_0x34ffbd['instanceName']]['groupSetting'](_0x1c1ee3);}async[a0_0x1b7b78(0x649)](_0x2e114f,_0x330ede){const _0x151961=a0_0x1b7b78;return await this[_0x151961(0x7a9)][_0x151961(0x746)][_0x2e114f[_0x151961(0x2e9)]][_0x151961(0x376)](_0x330ede);}async[a0_0x1b7b78(0x383)](_0x3dccd6){const _0x3229eb=a0_0x1b7b78;return await this[_0x3229eb(0x7a9)][_0x3229eb(0x746)][_0x3dccd6[_0x3229eb(0x2e9)]][_0x3229eb(0x383)]();}async[a0_0x1b7b78(0x339)](_0x2ce3b2,_0x219fee){const _0x51f3cc=a0_0x1b7b78;return await this['waMonitor'][_0x51f3cc(0x746)][_0x2ce3b2['instanceName']][_0x51f3cc(0x339)](_0x219fee);}async[a0_0x1b7b78(0x5dd)](_0x3c667d,_0x15cc6e){const _0x5ede4b=a0_0x1b7b78;return await this['waMonitor'][_0x5ede4b(0x746)][_0x3c667d[_0x5ede4b(0x2e9)]][_0x5ede4b(0x5dd)](_0x15cc6e);}async[a0_0x1b7b78(0x61b)](_0x1046e9,_0xedafb2){const _0xc38064=a0_0x1b7b78;return await this[_0xc38064(0x7a9)][_0xc38064(0x746)][_0x1046e9[_0xc38064(0x2e9)]][_0xc38064(0x61b)](_0xedafb2);}async[a0_0x1b7b78(0x4b8)](_0x43ae68,_0x529030){const _0x3d41a0=a0_0x1b7b78;return await this['waMonitor'][_0x3d41a0(0x746)][_0x43ae68[_0x3d41a0(0x2e9)]][_0x3d41a0(0x4b8)](_0x529030);}async[a0_0x1b7b78(0x44d)](_0x5f37d3,_0xa235f7){const _0x57e323=a0_0x1b7b78;return await this[_0x57e323(0x7a9)][_0x57e323(0x746)][_0x5f37d3['instanceName']][_0x57e323(0x44d)](_0xa235f7);}async[a0_0x1b7b78(0x2dd)](_0x2d8576,_0xe17f25){const _0x54b5bd=a0_0x1b7b78;return await this[_0x54b5bd(0x7a9)]['waInstances'][_0x2d8576['instanceName']]['updateGParticipant'](_0xe17f25);}async[a0_0x1b7b78(0x559)](_0x4727fa,_0x801cb2){const _0x5cb91a=a0_0x1b7b78;return await this[_0x5cb91a(0x7a9)]['waInstances'][_0x4727fa[_0x5cb91a(0x2e9)]]['toggleEphemeral'](_0x801cb2);}async[a0_0x1b7b78(0x788)](_0x146c69,_0x3d5051){const _0x24570b=a0_0x1b7b78;return await this[_0x24570b(0x7a9)][_0x24570b(0x746)][_0x146c69[_0x24570b(0x2e9)]][_0x24570b(0x788)](_0x3d5051);}},Yt=class{constructor(_0x5a1b2c){this['waMonitor']=_0x5a1b2c;}['create'](_0x159f34,_0x8aabe8){const _0x67ea68=a0_0x1b7b78;return this[_0x67ea68(0x7a9)]['waInstances'][_0x159f34['instanceName']][_0x67ea68(0x4dc)](_0x8aabe8);}async[a0_0x1b7b78(0x83c)](_0x550d93){const _0x4eab9=a0_0x1b7b78;try{return await this['waMonitor']['waInstances'][_0x550d93[_0x4eab9(0x2e9)]][_0x4eab9(0x4c0)]();}catch{return{'enabled':null,'url':''};}}},lh=new $('FlowController'),Xt=class{constructor(_0x1f28e5){const _0x13c705=a0_0x1b7b78;this[_0x13c705(0x7a9)]=_0x1f28e5;}async['editScheduleMessage'](_0xc871ab,_0x5c6642){const _0x5afa42=a0_0x1b7b78;return await this[_0x5afa42(0x7a9)][_0x5afa42(0x746)][_0xc871ab[_0x5afa42(0x2e9)]][_0x5afa42(0x54b)](_0x5c6642);}async[a0_0x1b7b78(0x892)](_0x2ca8e6){const _0x1315ea=a0_0x1b7b78;return await this[_0x1315ea(0x7a9)][_0x1315ea(0x746)][_0x2ca8e6[_0x1315ea(0x2e9)]]['getScheduleMessage']();}async[a0_0x1b7b78(0x43f)](_0x3ed486){const _0x16172d=a0_0x1b7b78;return await this[_0x16172d(0x7a9)]['waInstances'][_0x3ed486['instanceName']][_0x16172d(0x43f)]();}async[a0_0x1b7b78(0x17d)](_0x866a52){const _0x364765=a0_0x1b7b78;return await this[_0x364765(0x7a9)]['waInstances'][_0x866a52[_0x364765(0x2e9)]][_0x364765(0x17d)]();}async['updateAgent'](_0x21e63f,_0x1ec519){const _0xe0209f=a0_0x1b7b78;return await this[_0xe0209f(0x7a9)][_0xe0209f(0x746)][_0x21e63f[_0xe0209f(0x2e9)]][_0xe0209f(0x2b1)](_0x1ec519);}async[a0_0x1b7b78(0x4f4)](_0x4d170a,_0x4e61b6){const _0x30eb34=a0_0x1b7b78;return await this['waMonitor'][_0x30eb34(0x746)][_0x4d170a[_0x30eb34(0x2e9)]][_0x30eb34(0x4f4)](_0x4e61b6);}async['updateAutoCompleteMessages'](_0x199944,_0x35ef4c){const _0x142cd3=a0_0x1b7b78;return await this[_0x142cd3(0x7a9)][_0x142cd3(0x746)][_0x199944[_0x142cd3(0x2e9)]]['updateAutoCompleteMessages'](_0x35ef4c);}async[a0_0x1b7b78(0x412)](_0x5468b4,_0x142773){const _0x2a4be1=a0_0x1b7b78;return await this[_0x2a4be1(0x7a9)][_0x2a4be1(0x746)][_0x5468b4['instanceName']]['updateFlowConfig'](_0x142773);}async['startFlow'](_0x65342e,_0x372432){const _0x3b57b0=a0_0x1b7b78;return await this['waMonitor'][_0x3b57b0(0x746)][_0x65342e['instanceName']]['startFlow'](_0x372432);}async[a0_0x1b7b78(0x288)](_0x5fb3bf,_0x3b6cb5,_0x5d4d72,_0x5aa6b8){const _0x35b064=a0_0x1b7b78;return await this[_0x35b064(0x7a9)][_0x35b064(0x746)][_0x5fb3bf]['startFlowWebhook'](_0x3b6cb5,_0x5d4d72,_0x5aa6b8);}async[a0_0x1b7b78(0x487)](_0x1b6c94,_0x40e553){const _0x311333=a0_0x1b7b78;return await this[_0x311333(0x7a9)][_0x311333(0x746)][_0x1b6c94[_0x311333(0x2e9)]][_0x311333(0x487)](_0x40e553);}async[a0_0x1b7b78(0x366)](_0x498911,_0x2d8761){const _0x526960=a0_0x1b7b78;return await this['waMonitor']['waInstances'][_0x498911[_0x526960(0x2e9)]][_0x526960(0x366)](_0x2d8761);}async[a0_0x1b7b78(0x317)](_0xfcacd3,_0x3cf67b){const _0x309590=a0_0x1b7b78;return await this['waMonitor']['waInstances'][_0xfcacd3[_0x309590(0x2e9)]][_0x309590(0x317)](_0x3cf67b);}async[a0_0x1b7b78(0x3d4)](_0x5f13ef,_0x22dede){const _0xe5e1b0=a0_0x1b7b78;return await this[_0xe5e1b0(0x7a9)]['waInstances'][_0x5f13ef['instanceName']][_0xe5e1b0(0x3d4)](_0x22dede);}async[a0_0x1b7b78(0x651)](_0x113b3e,_0x13413f){const _0x25be3a=a0_0x1b7b78;return await this['waMonitor'][_0x25be3a(0x746)][_0x113b3e[_0x25be3a(0x2e9)]]['getFlow'](_0x13413f['_id']);}async[a0_0x1b7b78(0x75a)](_0x1fc438,_0x19bdf0,_0x309b45){const _0x4a183a=a0_0x1b7b78;return await this[_0x4a183a(0x7a9)]['waInstances'][_0x1fc438[_0x4a183a(0x2e9)]][_0x4a183a(0x75a)](_0x19bdf0,_0x309b45);}async[a0_0x1b7b78(0x611)](_0x2312cb,_0x177536,_0x4f446f){const _0x508942=a0_0x1b7b78;return await this[_0x508942(0x7a9)]['waInstances'][_0x2312cb[_0x508942(0x2e9)]][_0x508942(0x611)](_0x177536,_0x4f446f);}async['editFlowBlock'](_0x264e9d,_0x17c659){const _0x51e6f1=a0_0x1b7b78;return await this['waMonitor'][_0x51e6f1(0x746)][_0x264e9d[_0x51e6f1(0x2e9)]][_0x51e6f1(0x77d)](_0x17c659);}async[a0_0x1b7b78(0x306)](_0x12cab2,_0x59c66a){const _0x3df2b7=a0_0x1b7b78;return await this[_0x3df2b7(0x7a9)]['waInstances'][_0x12cab2[_0x3df2b7(0x2e9)]]['editFlowReply'](_0x59c66a);}async[a0_0x1b7b78(0x40b)](_0x454922,_0xa938bd){const _0x580b2e=a0_0x1b7b78;return await this[_0x580b2e(0x7a9)][_0x580b2e(0x746)][_0x454922[_0x580b2e(0x2e9)]][_0x580b2e(0x40b)](_0xa938bd);}async[a0_0x1b7b78(0x3ff)](_0x18cfdd,_0x2302fe){const _0x526f20=a0_0x1b7b78;return await this[_0x526f20(0x7a9)][_0x526f20(0x746)][_0x18cfdd['instanceName']][_0x526f20(0x3ff)](_0x2302fe);}async[a0_0x1b7b78(0x877)](_0x5d16f9,_0x485d65){const _0x39bf31=a0_0x1b7b78;return await this[_0x39bf31(0x7a9)][_0x39bf31(0x746)][_0x5d16f9[_0x39bf31(0x2e9)]][_0x39bf31(0x877)](_0x485d65);}async[a0_0x1b7b78(0x79f)](_0x1d4898,_0x2b17c7){const _0x3f3018=a0_0x1b7b78;return await this[_0x3f3018(0x7a9)]['waInstances'][_0x1d4898['instanceName']]['editFlowVariable'](_0x2b17c7);}async[a0_0x1b7b78(0x3f7)](_0x357529,_0x1107da){const _0x4737a3=a0_0x1b7b78;return await this[_0x4737a3(0x7a9)][_0x4737a3(0x746)][_0x357529[_0x4737a3(0x2e9)]][_0x4737a3(0x3f7)](_0x1107da);}async[a0_0x1b7b78(0x468)](_0xf07417){const _0x474c65=a0_0x1b7b78;return await this['waMonitor']['waInstances'][_0xf07417['instanceName']][_0x474c65(0x468)]();}},Zt=class{constructor(_0x358de1){this['webhookService']=_0x358de1;}async['createWebhook'](_0x5180ac,_0x337b78){const _0x20e7f6=a0_0x1b7b78;return this[_0x20e7f6(0x6d1)]['create'](_0x5180ac,_0x337b78);}async[a0_0x1b7b78(0x4c0)](_0x495275){const _0x2b8065=a0_0x1b7b78;return this['webhookService'][_0x2b8065(0x83c)](_0x495275);}},es=class extends _{constructor(_0x58a451,_0x196764){const _0x20cdd5=a0_0x1b7b78;super(_0x196764),this[_0x20cdd5(0x3be)]=_0x58a451,this[_0x20cdd5(0x6e6)]=_0x196764;}async['create'](_0x281be2,_0x254a9e){const _0x2ef1a6=a0_0x1b7b78;try{return this[_0x2ef1a6(0x1b1)]['ENABLED']?{'insertCount':(await this[_0x2ef1a6(0x3be)][_0x2ef1a6(0x304)]({'_id':_0x254a9e},{..._0x281be2},{'upsert':!0x0}))[_0x2ef1a6(0x8a6)]}:{'insertCount':0x1};}catch(_0x351d71){return _0x351d71;}}async[a0_0x1b7b78(0x30b)](_0x126f30){const _0x2dd1c5=a0_0x1b7b78;try{if(this['dbSettings'][_0x2dd1c5(0x7eb)]){await this[_0x2dd1c5(0x3be)]['deleteOne']({'_id':_0x126f30});return;}}catch(_0x53b721){return{'error':_0x53b721};}}async[a0_0x1b7b78(0x83c)](_0x4798e9){const _0x29c096=a0_0x1b7b78;try{if(this[_0x29c096(0x1b1)][_0x29c096(0x7eb)])return await this['webhookModel'][_0x29c096(0x547)]({'_id':_0x4798e9});}catch{return{};}}},ts=class extends _{constructor(_0x18d909,_0x4ac165){const _0x52b70b=a0_0x1b7b78;super(_0x4ac165),this[_0x52b70b(0x88a)]=_0x18d909,this[_0x52b70b(0x6e6)]=_0x4ac165,this[_0x52b70b(0x2e8)]=_0x4ac165[_0x52b70b(0x234)](_0x52b70b(0x6ec));}async[a0_0x1b7b78(0x262)](_0x14a925,_0x19d0ab){const _0x12e8ff=a0_0x1b7b78;try{if(this[_0x12e8ff(0x1b1)]['ENABLED'])return{'insertCount':(await this[_0x12e8ff(0x88a)][_0x12e8ff(0x6b6)]({'_id':_0x19d0ab},{'$set':{..._0x14a925}},{'upsert':!0x0}))[_0x12e8ff(0x8a6)]};}catch(_0x88909d){return{'error':_0x88909d};}}async[a0_0x1b7b78(0x647)](_0x4e08bc,_0xd85da){const _0xb9519c=a0_0x1b7b78;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0xb9519c(0x88a)][_0xb9519c(0x3a3)](_0x4e08bc,{'$set':_0xd85da},{'upsert':!0x1}))[_0xb9519c(0x8a6)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x43acb3){return{'error':_0x43acb3};}}async[a0_0x1b7b78(0x2c3)](_0x331ee6){const _0x2b9b7c=a0_0x1b7b78;try{if(this[_0x2b9b7c(0x1b1)][_0x2b9b7c(0x7eb)])return{'insertCount':(await this[_0x2b9b7c(0x88a)]['deleteMany'](_0x331ee6))[_0x2b9b7c(0x82c)]};throw new Error(_0x2b9b7c(0x514));}catch(_0xa34ef7){return{'error':_0xa34ef7};}}async[a0_0x1b7b78(0x30b)](_0x29b627){const _0x1aae05=a0_0x1b7b78;try{if(this[_0x1aae05(0x1b1)]['ENABLED']){await this[_0x1aae05(0x88a)][_0x1aae05(0x869)]({'_id':_0x29b627});return;}}catch(_0x504ae1){return{'error':_0x504ae1};}}async[a0_0x1b7b78(0x83c)](_0x257104){const _0x1d45d0=a0_0x1b7b78;try{if(this[_0x1d45d0(0x1b1)][_0x1d45d0(0x7eb)])return await this['authModel']['findOne']({'_id':_0x257104});}catch{return{};}}async[a0_0x1b7b78(0x50d)](){const _0x5eb66f=a0_0x1b7b78;try{if(this[_0x5eb66f(0x1b1)]['ENABLED'])return await this['authModel'][_0x5eb66f(0x83c)]();}catch{return[];}}async[a0_0x1b7b78(0x22d)](_0x40a8e8){const _0x2b96ed=a0_0x1b7b78;try{if(this[_0x2b96ed(0x1b1)][_0x2b96ed(0x7eb)])return await this['authModel'][_0x2b96ed(0x83c)](_0x40a8e8);}catch{return[];}}},ss=class extends _{async[a0_0x1b7b78(0x869)](_0x6ef959){const _0x4f1cae=a0_0x1b7b78;try{let _0x5f4e5d=A(_0x6ef959['where']);return{'deletedCount':(await Ce[_0x4f1cae(0x869)](_0x5f4e5d))[_0x4f1cae(0x82c)]};}catch(_0x424d24){return{'error':_0x424d24?.[_0x4f1cae(0x6e2)]()};}}async['updateOne'](_0xccb0ae,_0x87658b){const _0x44ff3f=a0_0x1b7b78;try{let _0x2d77a9=await Ce[_0x44ff3f(0x5a1)](_0xccb0ae);return _0x2d77a9?(Object['assign'](_0x2d77a9,_0x87658b),await _0x2d77a9[_0x44ff3f(0x25d)]()):(console[_0x44ff3f(0x84d)](_0x44ff3f(0x401),_0xccb0ae),null);}catch(_0x4c4b65){return console['error'](_0x44ff3f(0x30e),_0x4c4b65),null;}}async[a0_0x1b7b78(0x444)](_0x56f4fb){const _0x4d7e9f=a0_0x1b7b78;try{return await new Ce(_0x56f4fb)[_0x4d7e9f(0x25d)]();}catch(_0x204858){return console[_0x4d7e9f(0x84d)](_0x4d7e9f(0x850),_0x204858),null;}}async[a0_0x1b7b78(0x50d)](_0x16c46e){const _0x8ffe=a0_0x1b7b78;try{let _0xe76ff8=_0x16c46e[_0x8ffe(0x4b7)]??{};return await Ce[_0x8ffe(0x83c)](_0xe76ff8)[_0x8ffe(0x4db)](_0x16c46e['limit']??0x0)[_0x8ffe(0x86c)]();}catch(_0x1a786b){return console['error'](_0x8ffe(0x49f),_0x1a786b),[];}}async['findOne'](_0x2c101a){const _0x5ec58b=a0_0x1b7b78;try{let _0x14d78f=A(_0x2c101a['where']);return await Ce[_0x5ec58b(0x547)](_0x14d78f)['lean']();}catch{return null;}}},as=class extends _{[a0_0x1b7b78(0x64b)](_0x31ec01){return Sa(_0x31ec01);}async[a0_0x1b7b78(0x5dc)](_0x101f73){const _0x4365bf=a0_0x1b7b78;if(_0x101f73[_0x4365bf(0x245)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x101f73[0x0][_0x4365bf(0x186)])['insertMany']([..._0x101f73]))[_0x4365bf(0x245)]};}catch(_0x2202e8){return _0x2202e8;}}async[a0_0x1b7b78(0x30b)](_0x50a97f,_0x104ba8){const _0x27aa20=a0_0x1b7b78;try{let _0x1fef29=this[_0x27aa20(0x64b)](_0x104ba8),_0x2e445b=A(_0x50a97f[_0x27aa20(0x4b7)]);return{'deletedCount':(await _0x1fef29[_0x27aa20(0x2c3)](_0x2e445b))['deletedCount']};}catch(_0x3361bd){return{'error':_0x3361bd?.[_0x27aa20(0x6e2)]()};}}async[a0_0x1b7b78(0x869)](_0x3ac306,_0x3eb1ca){const _0x45cec7=a0_0x1b7b78;try{let _0x23caf8=this[_0x45cec7(0x64b)](_0x3eb1ca),_0x1a7353=A(_0x3ac306[_0x45cec7(0x4b7)]);return{'deletedCount':(await _0x23caf8[_0x45cec7(0x869)](_0x1a7353))['deletedCount']};}catch(_0x3bfcc8){return{'error':_0x3bfcc8?.[_0x45cec7(0x6e2)]()};}}async[a0_0x1b7b78(0x85d)](_0x2cef0a,_0x3ee555){const _0x3b2ff0=a0_0x1b7b78;try{if(_0x2cef0a[_0x3b2ff0(0x245)]===0x0)return;let _0x59823d=this['getConversationModelForOwner'](_0x3ee555),_0x34d584=_0x2cef0a['map'](_0x2f16db=>({'updateOne':{'filter':{'name':_0x2f16db[_0x3b2ff0(0x4a9)],'owner':_0x3ee555},'update':{..._0x2f16db}}})),{modifiedCount:_0x477c8d}=await _0x59823d[_0x3b2ff0(0x5ed)](_0x34d584);return{'insertCount':_0x477c8d};}catch{return;}}async[a0_0x1b7b78(0x3a3)](_0x33f6c7,_0x46a61b,_0x16607d){const _0x30cd2e=a0_0x1b7b78;try{return{'modifiedCount':(await this[_0x30cd2e(0x64b)](_0x16607d)[_0x30cd2e(0x3a3)](_0x33f6c7,{'$set':_0x46a61b})[_0x30cd2e(0x643)]())['modifiedCount']};}catch(_0xc04d11){return console[_0x30cd2e(0x84d)](_0x30cd2e(0x612),_0xc04d11),{'error':_0xc04d11};}}async[a0_0x1b7b78(0x6b6)](_0x1605d2,_0x196c83,_0x3b6848){const _0x5a3088=a0_0x1b7b78;try{return await this[_0x5a3088(0x64b)](_0x3b6848)[_0x5a3088(0x69b)]({'_id':_0x1605d2},{'$set':_0x196c83},{'new':!0x0,'upsert':!0x0})[_0x5a3088(0x86c)]();}catch(_0x232b34){return console['error'](_0x232b34),null;}}async[a0_0x1b7b78(0x83c)](_0x561f09,_0x3f4d0b){const _0x51ffa2=a0_0x1b7b78;try{return await this['getConversationModelForOwner'](_0x3f4d0b)[_0x51ffa2(0x83c)](_0x561f09)[_0x51ffa2(0x4d4)]({'lastInteraction':-0x1})[_0x51ffa2(0x86c)]();}catch{return[];}}async[a0_0x1b7b78(0x547)](_0x59b8af,_0xd8b835){const _0x12cade=a0_0x1b7b78;try{return await this[_0x12cade(0x64b)](_0xd8b835)['findOne']({..._0x59b8af['where']})[_0x12cade(0x86c)]();}catch{return null;}}async[a0_0x1b7b78(0x2b8)](_0x4117db){const _0x2ec6cf=a0_0x1b7b78;try{return await this[_0x2ec6cf(0x64b)](_0x4117db)['collection'][_0x2ec6cf(0x6c9)](),{'success':!0x0};}catch(_0x3dfcd9){return console[_0x2ec6cf(0x84d)](_0x3dfcd9),{'success':!0x1,'error':_0x3dfcd9};}}},is=class extends _{[a0_0x1b7b78(0x6eb)](_0x22ebba){return Ma(_0x22ebba);}async[a0_0x1b7b78(0x5ed)](_0x5655da,_0x4a6baa){const _0x2070ad=a0_0x1b7b78;try{return await this[_0x2070ad(0x6eb)](_0x4a6baa)[_0x2070ad(0x5ed)](_0x5655da);}catch(_0x24a5fa){return console[_0x2070ad(0x84d)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x24a5fa),null;}}async['createAndSave'](_0x5d18fa,_0x495a28){const _0x68c6f5=a0_0x1b7b78;try{let _0x2e194a=this[_0x68c6f5(0x6eb)](_0x495a28);return await new _0x2e194a(_0x5d18fa)[_0x68c6f5(0x25d)]();}catch(_0x2be490){return console[_0x68c6f5(0x84d)](_0x68c6f5(0x6e1),_0x2be490),null;}}async['deleteOne'](_0x3177e6,_0x49187f){const _0x38c722=a0_0x1b7b78;try{return await this[_0x38c722(0x6eb)](_0x49187f)['findByIdAndDelete'](_0x3177e6),{};}catch(_0x5052dd){return{'error':_0x5052dd?.[_0x38c722(0x6e2)]()};}}async[a0_0x1b7b78(0x6b6)](_0x3b2ac7,_0x48cf48,_0x55129b,_0x6df3e2={}){const _0x37b53e=a0_0x1b7b78;try{return await this[_0x37b53e(0x6eb)](_0x55129b)[_0x37b53e(0x69b)](_0x3b2ac7,_0x48cf48,{..._0x6df3e2,'new':!0x0})[_0x37b53e(0x86c)]();}catch(_0x3904ee){return console[_0x37b53e(0x84d)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x3904ee),null;}}async[a0_0x1b7b78(0x565)](_0x1dc7ba,_0x46d3ef,_0x5573ab){const _0x16ec81=a0_0x1b7b78;try{return await this[_0x16ec81(0x6eb)](_0x5573ab)[_0x16ec81(0x3c6)](_0x1dc7ba,_0x46d3ef,{'new':!0x0})[_0x16ec81(0x86c)]();}catch(_0x130c02){return console[_0x16ec81(0x84d)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x130c02),null;}}async[a0_0x1b7b78(0x83c)](_0x37489f,_0x4c25f7){const _0x9a1e6c=a0_0x1b7b78;try{return await this[_0x9a1e6c(0x6eb)](_0x4c25f7)[_0x9a1e6c(0x83c)](_0x37489f[_0x9a1e6c(0x4b7)])[_0x9a1e6c(0x4db)](_0x37489f?.[_0x9a1e6c(0x4db)]??0x0)[_0x9a1e6c(0x4d4)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x1b7b78(0x547)](_0x3cb7cd,_0x545c81){const _0x37d788=a0_0x1b7b78;try{return await this['getScheduleMessageModelForOwner'](_0x545c81)['findOne'](_0x3cb7cd[_0x37d788(0x4b7)])[_0x37d788(0x4d4)]({'when':0x1})[_0x37d788(0x86c)]();}catch{return null;}}async[a0_0x1b7b78(0x5a1)](_0x3cb1b2,_0x2e2715){const _0x2d3a09=a0_0x1b7b78;try{return await this['getScheduleMessageModelForOwner'](_0x2e2715)[_0x2d3a09(0x5a1)](_0x3cb1b2)[_0x2d3a09(0x86c)]();}catch{return null;}}async['deleteMany'](_0x3990f8,_0x455da6){const _0x216562=a0_0x1b7b78;try{return{'deletedCount':(await this[_0x216562(0x6eb)](_0x455da6)[_0x216562(0x2c3)](_0x3990f8))[_0x216562(0x82c)]};}catch(_0x38ab1d){return console[_0x216562(0x84d)](_0x216562(0x32f),_0x38ab1d),{'error':_0x38ab1d};}}async[a0_0x1b7b78(0x2b8)](_0x535f2f){const _0x31e83e=a0_0x1b7b78;try{return await this[_0x31e83e(0x6eb)](_0x535f2f)[_0x31e83e(0x7f5)]['drop'](),{'success':!0x0};}catch(_0x5091e7){return console['error'](_0x5091e7),{'success':!0x1,'error':_0x5091e7};}}},os=class extends _{async[a0_0x1b7b78(0x85d)](_0x5418bf,_0x17df45){const _0x332b17=a0_0x1b7b78;try{if(this[_0x332b17(0x1b1)][_0x332b17(0x7eb)])return await Te['findOneAndUpdate']({'_id':_0x17df45},{'$set':_0x5418bf},{'new':!0x0});}catch(_0x283d2a){throw console[_0x332b17(0x84d)](_0x332b17(0x747),_0x283d2a),_0x283d2a;}}async[a0_0x1b7b78(0x18d)](_0x2b48d4){const _0x5a3efb=a0_0x1b7b78;try{let _0x2a7369=await Te[_0x5a3efb(0x5a1)](_0x2b48d4);return _0x2a7369?_0x2a7369[_0x5a3efb(0x368)]||(_0x2a7369[_0x5a3efb(0x368)]=[],await _0x2a7369[_0x5a3efb(0x25d)]()):(_0x2a7369=new Te({'_id':_0x2b48d4,'autoCompleteMessages':[]}),await _0x2a7369[_0x5a3efb(0x25d)]()),_0x2a7369;}catch(_0x670faa){return _0x670faa[_0x5a3efb(0x27f)]===0x2af8&&_0x670faa['keyPattern']&&_0x670faa[_0x5a3efb(0x3e1)][_0x5a3efb(0x8a5)]?(console[_0x5a3efb(0x84d)](_0x5a3efb(0x2f2)),await Te['collection'][_0x5a3efb(0x6f0)](_0x5a3efb(0x26d)),null):(console[_0x5a3efb(0x84d)](_0x5a3efb(0x258),_0x670faa),null);}}},jo=new $(a0_0x1b7b78(0x341)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,T?.[a0_0x1b7b78(0x1ac)]()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo[a0_0x1b7b78(0x6c3)]('Module\x20-\x20ON');var Rg=require(a0_0x1b7b78(0x80e)),js=require('fs'),Di=I(require('https')),ki=I(require(a0_0x1b7b78(0x769))),Ue=class u{static #e;static set[a0_0x1b7b78(0x864)](_0xe0d98f){this.#e=_0xe0d98f;}static get[a0_0x1b7b78(0x78e)](){const _0x5b1457=a0_0x1b7b78;let {FULLCHAIN:_0x298376,PRIVKEY:_0x4dcc40}=S[_0x5b1457(0x234)]('SSL_CONF');return Di[_0x5b1457(0x771)]({'cert':(0x0,js[_0x5b1457(0x502)])(_0x298376),'key':(0x0,js['readFileSync'])(_0x4dcc40)},u.#e);}static get[a0_0x1b7b78(0x769)](){const _0x115ed3=a0_0x1b7b78;return ki[_0x115ed3(0x771)](u.#e);}},je=I(require('fs')),qi=I(require(a0_0x1b7b78(0x878))),Je=I(require(a0_0x1b7b78(0x683))),ns=I(require(a0_0x1b7b78(0x4a3))),rs=require(a0_0x1b7b78(0x1a9));function sr(){const _0x106e9b=a0_0x1b7b78;G[_0x106e9b(0x1a0)]();let _0x596b2f=ns[_0x106e9b(0x7ac)][_0x106e9b(0x44f)](__dirname,_0x106e9b(0x3d2));Ji(_0x596b2f);}var Ji=_0x183f64=>{const _0xee8967=a0_0x1b7b78;let _0x46ad22=je[_0xee8967(0x7ac)][_0xee8967(0x4c9)](_0x183f64),_0x2838cf=0xc*0x3c*0x3c*0x3e8,_0x1bca6b=0x2*0x3c*0x3c*0x3e8,_0x386fa2=new Date()[_0xee8967(0x8f2)]();_0x46ad22[_0xee8967(0x52e)](_0x8b7e68=>{const _0x299300=_0xee8967;let _0x55594f=ns['default'][_0x299300(0x44f)](_0x183f64,_0x8b7e68),_0x1e7b74=je[_0x299300(0x7ac)]['statSync'](_0x55594f)['birthtime'][_0x299300(0x8f2)]();_0x386fa2-_0x1e7b74>_0x2838cf&&(je[_0x299300(0x7ac)]['unlinkSync'](_0x55594f),console['log'](_0x299300(0x673)+_0x8b7e68));}),setTimeout(()=>Ji(_0x183f64),_0x1bca6b);};function ar(){const _0x477264=a0_0x1b7b78;let _0x41016e=new $('SERVER'),_0x338c34=(0x0,ye[_0x477264(0x7ac)])();_0x338c34[_0x477264(0x47a)]((0x0,ji[_0x477264(0x7ac)])({'origin'(_0x348111,_0x2b8698){const _0x13def8=_0x477264;let {ORIGIN:_0xe9bc00}=S['get'](_0x13def8(0x221));return _0x348111||(_0x348111='*'),_0xe9bc00[_0x13def8(0x327)]('*')!==-0x1||_0xe9bc00['indexOf'](_0x348111)!==-0x1?_0x2b8698(null,!0x0):_0x2b8698(new Error(_0x13def8(0x713)));},'methods':[...S[_0x477264(0x234)](_0x477264(0x221))[_0x477264(0x7cc)]],'credentials':S[_0x477264(0x234)]('CORS')[_0x477264(0x82a)]}),(0x0,ye[_0x477264(0x59e)])({'extended':!0x0,'limit':_0x477264(0x704)}),(0x0,ye['json'])({'limit':_0x477264(0x704)})),_0x338c34[_0x477264(0x47a)]((_0x32d84c,_0x4dd182,_0x2c2b70)=>{const _0x59749d=_0x477264;_0x32d84c[_0x59749d(0x4a3)]['startsWith'](_0x59749d(0x64c))?_0x2c2b70():(0x0,Ui[_0x59749d(0x7ac)])()(_0x32d84c,_0x4dd182,_0x2c2b70);}),_0x338c34[_0x477264(0x211)]('view\x20engine',_0x477264(0x8c5)),_0x338c34[_0x477264(0x211)](_0x477264(0x7f9),(0x0,qs['join'])(le,'views')),_0x338c34['use'](ye['default'][_0x477264(0x62b)]((0x0,qs[_0x477264(0x44f)])(le,_0x477264(0x8c9)))),_0x338c34['use']((_0x74eb2e,_0x180fb8,_0x5410c2)=>{let _0x5be6e3=_0x180fb8['send'];_0x180fb8['send']=function(_0x2195f0){const _0x3880cf=a0_0x4b9f;if(_0x74eb2e['query'][_0x3880cf(0x589)]===_0x3880cf(0x325)||_0x74eb2e[_0x3880cf(0x275)][_0x3880cf(0x793)]===_0x3880cf(0x325)){let _0x3476ba=JSON[_0x3880cf(0x599)](_0x2195f0);_0x2195f0=JSON['stringify'](_0x4d6cfd(_0x3476ba));}return _0x5be6e3[_0x3880cf(0x6c6)](_0x180fb8,[_0x2195f0]);},_0x5410c2();}),_0x338c34[_0x477264(0x47a)]('/',ke),_0x338c34[_0x477264(0x47a)]((_0x58f8ec,_0x384a82,_0x3bd00f,_0xa58633)=>{const _0x4c3448=_0x477264;if(_0x58f8ec)return _0x3bd00f['status'](_0x58f8ec[_0x4c3448(0x18a)]||0x1f4)['json'](_0x58f8ec);},(_0x5aba36,_0x122659,_0x5b759e)=>{const _0x127bdf=_0x477264;let {method:_0x3833b8,url:_0x3ee7ff}=_0x5aba36;_0x122659['status'](0x194)[_0x127bdf(0x693)]({'status':0x194,'message':_0x127bdf(0x5d9)+_0x3833b8[_0x127bdf(0x265)]()+'\x20'+_0x3ee7ff,'error':_0x127bdf(0x35d)}),_0x5b759e();});let _0x4d6cfd=(_0xb9748,_0x12b38d=_0x477264(0x8db))=>{const _0x4f33d5=_0x477264;let _0x13a936=(_0x5c70a3,_0x23b7ff=null,_0x2f7374=!0x1)=>{const _0x52a6c3=a0_0x4b9f;let _0x1c1b12={};return Object[_0x52a6c3(0x51a)](_0x5c70a3)['forEach'](_0x28a973=>{const _0x3c4918=_0x52a6c3;let _0x529ad3=_0x5c70a3[_0x28a973],_0x432a35=''+_0x12b38d+_0x28a973;_0x23b7ff&&!_0x2f7374&&(_0x432a35=_0x23b7ff+'.'+_0x28a973),!_0x529ad3&&_0x529ad3!==0x0&&_0x529ad3!==!0x1||typeof _0x529ad3>'u'?_0x1c1b12[_0x432a35]=null:typeof _0x529ad3!=_0x3c4918(0x56d)&&!Array[_0x3c4918(0x7c2)](_0x529ad3)?_0x1c1b12[_0x432a35]=_0x529ad3:typeof _0x529ad3==_0x3c4918(0x56d)&&!Array[_0x3c4918(0x7c2)](_0x529ad3)?_0x1c1b12=Object['assign'](_0x1c1b12,_0x13a936(_0x529ad3,_0x432a35)):Array[_0x3c4918(0x7c2)](_0x529ad3)&&(typeof _0x529ad3[0x0]==_0x3c4918(0x56d)?(_0x1c1b12[_0x432a35]=[],_0x529ad3[_0x3c4918(0x52e)](_0x1f7bab=>{const _0x59debf=_0x3c4918;_0x1c1b12[_0x432a35][_0x59debf(0x184)](_0x13a936(_0x1f7bab,_0x432a35,!0x0));})):_0x1c1b12[_0x432a35]=_0x529ad3);}),_0x1c1b12;};return Array['isArray'](_0xb9748)?_0xb9748[_0x4f33d5(0x686)](_0x13cde2=>_0x13a936(_0x13cde2)):typeof _0xb9748==_0x4f33d5(0x56d)&&_0xb9748!==null?_0x13a936(_0xb9748):{};},_0x7acb04=S[_0x477264(0x234)](_0x477264(0x5d0));Ue['app']=_0x338c34;let _0x2ca38d=Ue[_0x7acb04[_0x477264(0x33d)]],_0x50128f='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x2ca38d[_0x477264(0x645)](_0x7acb04[_0x477264(0x538)],()=>{const _0x2165b5=_0x477264;_0x41016e[_0x2165b5(0x315)](_0x50128f),_0x41016e[_0x2165b5(0x315)](_0x7acb04['TYPE'][_0x2165b5(0x265)]()+_0x2165b5(0x856)+_0x7acb04['PORT']);}),sr(),Zs();}var ir='https://github.com/uazapi/uazapi.git',or=ns[a0_0x1b7b78(0x7ac)][a0_0x1b7b78(0x44f)](__dirname,a0_0x1b7b78(0x312)),Re=null;function rr(){return new Promise((_0x5d6c88,_0xd92ac1)=>{const _0x507175=a0_0x4b9f;je[_0x507175(0x7ac)][_0x507175(0x857)](or,_0x507175(0x48a),(_0x33ff39,_0x25025d)=>{const _0x55fd62=_0x507175;if(_0x33ff39){Re=_0x33ff39,_0x5d6c88();return;}qi[_0x55fd62(0x7ac)][_0x55fd62(0x599)](_0x25025d)[_0x55fd62(0x4e2)][_0x55fd62(0x430)]===ir?(Re=null,_0x5d6c88()):(Re=new Error(_0x55fd62(0x7a1)),_0x5d6c88());});});}async function nr(){const _0x3208ba=a0_0x1b7b78;try{await rr(),await Vs();}catch(_0x202f3d){console[_0x3208ba(0x84d)](_0x3208ba(0x8e0)+_0x202f3d),process[_0x3208ba(0x352)](0x1);}}nr();async function Vi(){const _0x38632b=a0_0x1b7b78;let _0x1366e8;try{_0x1366e8=(await Je[_0x38632b(0x7ac)][_0x38632b(0x234)](_0x38632b(0x89f)))[_0x38632b(0x517)]['ip'];}catch(_0x26987a){console[_0x38632b(0x84d)](_0x26987a);try{_0x1366e8=(await Je[_0x38632b(0x7ac)]['get']('https://api.ipify.org?format=json'))[_0x38632b(0x517)]['ip'];}catch(_0x47da0d){console[_0x38632b(0x84d)](_0x47da0d);try{_0x1366e8=(await Je['default'][_0x38632b(0x234)](_0x38632b(0x65e)))[_0x38632b(0x517)][_0x38632b(0x65b)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1ea39d){return console[_0x38632b(0x84d)](_0x1ea39d),!0x1;}}}return _0x1366e8;}var Li=0x0;async function cr(){const _0x485921=a0_0x1b7b78;let _0x52fceb=await new pe(S[_0x485921(0x234)](_0x485921(0x2d4)))[_0x485921(0x839)]();return console[_0x485921(0x315)](_0x485921(0x409),_0x52fceb['length']),_0x52fceb[_0x485921(0x245)];}function lr(_0x3745f9){const _0x2fe5f8=a0_0x1b7b78;let _0x2b4057=_0x3745f9[_0x2fe5f8(0x234)]('SERVER')['URL'],_0x35a092=_0x3745f9[_0x2fe5f8(0x234)](_0x2fe5f8(0x38f));console[_0x2fe5f8(0x315)](_0x2fe5f8(0x218),_0x2b4057),console[_0x2fe5f8(0x315)]('Configuração\x20SSL\x20recuperada:',_0x35a092);let _0x32ce0f='',_0x4f9f24=_0x2b4057||'';if(_0x2b4057){let _0x521f20=_0x2b4057[_0x2fe5f8(0x65b)](/\/\/(.*?)\./);console['log']('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x521f20),_0x521f20&&_0x521f20[0x1]&&(_0x32ce0f=_0x521f20[0x1],console[_0x2fe5f8(0x315)](_0x2fe5f8(0x773),_0x32ce0f));}if(!_0x32ce0f&&_0x35a092&&_0x35a092[_0x2fe5f8(0x632)]){let _0x48d7e4=_0x35a092[_0x2fe5f8(0x632)]['split']('/');console[_0x2fe5f8(0x315)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x48d7e4);let _0x36c550=_0x48d7e4[_0x48d7e4[_0x2fe5f8(0x245)]-0x2];if(console[_0x2fe5f8(0x315)](_0x2fe5f8(0x294),_0x36c550),_0x36c550){let _0x271f00=_0x36c550[_0x2fe5f8(0x8f1)]('.');console[_0x2fe5f8(0x315)]('Partes\x20do\x20domínio:',_0x271f00),_0x271f00[_0x2fe5f8(0x245)]>0x2&&(_0x32ce0f=_0x271f00[0x0],console[_0x2fe5f8(0x315)](_0x2fe5f8(0x6dc),_0x32ce0f),_0x4f9f24=''+_0x36c550);}}return{'subdomain':_0x32ce0f||_0x2fe5f8(0x3aa),'fullURL':_0x4f9f24||'URL\x20não\x20disponível'};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x1b7b78(0x315)](a0_0x1b7b78(0x462),B),console[a0_0x1b7b78(0x315)](a0_0x1b7b78(0x580),Gs);async function ur(){const _0x226c35=a0_0x1b7b78;let _0xa89d84=S['get'](_0x226c35(0x2d4)),_0x230f0b=S[_0x226c35(0x234)](_0x226c35(0x6ec))[_0x226c35(0x255)][_0x226c35(0x1bf)],_0x34859f=S[_0x226c35(0x234)](_0x226c35(0x38f)),_0x199ec4=await Vi(),_0xdd882d=S[_0x226c35(0x234)](_0x226c35(0x5d0))[_0x226c35(0x538)],_0x5237f9=Gs;try{let _0x4e08a5={'ip':_0x199ec4||null,'redis_enable':_0xa89d84?.['ENABLED']||null,'apikey':_0x230f0b||null,'ssl':_0x34859f?.[_0x226c35(0x2b6)]||null,'lastupdate':Gi||null,'port':_0xdd882d||null,'gitInstallError':Re?.[_0x226c35(0x272)]||null,'url':_0x5237f9||null,'subdomain':B};if(console[_0x226c35(0x315)](_0x226c35(0x53f),_0x4e08a5['ip']),_0xa89d84&&_0xa89d84[_0x226c35(0x7eb)]){let _0x3ac640=await cr();_0x4e08a5[_0x226c35(0x83f)]=_0x3ac640||null;}for(let _0x1e4ec8 in _0x4e08a5)_0x4e08a5[_0x226c35(0x5a4)](_0x1e4ec8)&&_0x1e4ec8!=='ip'&&(_0x4e08a5[_0x1e4ec8]=JSON[_0x226c35(0x5b9)](_0x4e08a5[_0x1e4ec8]));return(await Je[_0x226c35(0x7ac)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x4e08a5))[_0x226c35(0x517)];}catch(_0x46cb1c){return console['error'](_0x46cb1c),!0x1;}}var Js=!0x1,Gi=0x277,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x1249c8=a0_0x1b7b78;let _0x501159=_0x1249c8(0x291);Re===null&&(_0x501159=await Vi());let _0x202b40=await ur();if(_0x202b40){if(_0x202b40[_0x1249c8(0x319)][_0x1249c8(0x808)]===!0x0){Re===null&&_0x202b40[_0x1249c8(0x319)][_0x1249c8(0x623)]-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x361fde=0x24*0x3c*0x3c,_0x176ce3=_0x202b40[_0x1249c8(0x319)][_0x1249c8(0x46f)]>_0x361fde?_0x361fde:_0x202b40[_0x1249c8(0x319)][_0x1249c8(0x46f)],_0x40683e=Number(_0x176ce3);if(isNaN(_0x40683e)){console[_0x1249c8(0x84d)](_0x1249c8(0x4f1));return;}let _0x239ffb=Math[_0x1249c8(0x702)](_0x40683e/0xe10),_0x238ab5=Math[_0x1249c8(0x702)](_0x40683e%0xe10/0x3c),_0x37d0df=new Date(Date[_0x1249c8(0x8d0)]()+_0x40683e*0x3e8);setTimeout(Vs,_0x40683e*0x3e8);let _0x5aa284=_0x5cea82=>_0x5cea82[_0x1249c8(0x6e2)]()[_0x1249c8(0x614)](0x2,'0'),_0xfce957=_0x1249c8(0x66a)+_0x5aa284(_0x239ffb)+_0x1249c8(0x2c0)+_0x5aa284(_0x238ab5)+_0x1249c8(0x4e7)+_0x5aa284(_0x37d0df[_0x1249c8(0x2aa)]())+':'+_0x5aa284(_0x37d0df[_0x1249c8(0x8e3)]())+'.';console[_0x1249c8(0x315)](_0xfce957);}else return console[_0x1249c8(0x315)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console['log'](_0x1249c8(0x250)),process[_0x1249c8(0x352)]()),_0x1249c8(0x62a);}else{if(Li++,Li<dr)console[_0x1249c8(0x315)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Fi/0xea60+'\x20minutos...'),setTimeout(Vs,Fi);else return console[_0x1249c8(0x84d)](_0x1249c8(0x4f0)),'SERVER_OFFLINE';}}async function pr(){const _0x4d530a=a0_0x1b7b78;console[_0x4d530a(0x315)](_0x4d530a(0x561)),console[_0x4d530a(0x315)](_0x4d530a(0x54a)),(0x0,rs[_0x4d530a(0x8bd)])('pm2\x20flush',{'shell':!0x0})['on']('close',_0x33eacd=>{const _0xe29b70=_0x4d530a;_0x33eacd!==0x0?console['error']('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0xe29b70(0x315)](_0xe29b70(0x7e5)),console['log'](_0xe29b70(0x432)),(0x0,rs['spawn'])(_0xe29b70(0x4c5),{'shell':!0x0})['on'](_0xe29b70(0x42f),_0xa97737=>{const _0x422ec2=_0xe29b70;if(_0xa97737!==0x0)console[_0x422ec2(0x84d)](_0x422ec2(0x7ad));else{console[_0x422ec2(0x315)](_0x422ec2(0x413));let _0x63771a=(0x0,rs[_0x422ec2(0x8bd)])(_0x422ec2(0x1ee),{'shell':!0x0});_0x63771a[_0x422ec2(0x38b)]['on'](_0x422ec2(0x517),_0x566a32=>{console['log']('Atualização:\x20'+_0x566a32);}),_0x63771a['stderr']['on']('data',_0x520617=>{const _0x436c87=_0x422ec2;console[_0x436c87(0x84d)]('Erro\x20de\x20atualização:\x20'+_0x520617);}),_0x63771a['on'](_0x422ec2(0x352),_0x1b6a3d=>{const _0x37816e=_0x422ec2;_0x1b6a3d!==0x0?console['error'](_0x37816e(0x899)+_0x1b6a3d):console['log'](_0x37816e(0x476)),console['log'](_0x37816e(0x8b1)),setTimeout(()=>process[_0x37816e(0x352)](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});