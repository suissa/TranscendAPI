const a0_0x46d805=a0_0x1054;(function(_0x2f4379,_0x2fa85f){const _0x3ea825=a0_0x1054,_0x5e2df4=_0x2f4379();while(!![]){try{const _0x262516=parseInt(_0x3ea825(0x815))/0x1+-parseInt(_0x3ea825(0x81e))/0x2+-parseInt(_0x3ea825(0x2a2))/0x3*(-parseInt(_0x3ea825(0x398))/0x4)+parseInt(_0x3ea825(0x38c))/0x5+parseInt(_0x3ea825(0x14a))/0x6+-parseInt(_0x3ea825(0x4db))/0x7*(parseInt(_0x3ea825(0x409))/0x8)+-parseInt(_0x3ea825(0x22a))/0x9*(parseInt(_0x3ea825(0x2f9))/0xa);if(_0x262516===_0x2fa85f)break;else _0x5e2df4['push'](_0x5e2df4['shift']());}catch(_0x172fd5){_0x5e2df4['push'](_0x5e2df4['shift']());}}}(a0_0x3d76,0xd6498));var Hi=Object['create'],Be=Object['defineProperty'],Ki=Object[a0_0x46d805(0x803)],Qi=Object[a0_0x46d805(0x5c2)],Yi=Object[a0_0x46d805(0x47e)],Xi=Object['prototype'][a0_0x46d805(0x2d2)],Zi=(_0x2c8666,_0x5a3846)=>{for(var _0xbcb427 in _0x5a3846)Be(_0x2c8666,_0xbcb427,{'get':_0x5a3846[_0xbcb427],'enumerable':!0x0});},Ws=(_0x2e3b46,_0x3507ad,_0x5dab51,_0x2ad49c)=>{const _0x3cc1cd=a0_0x46d805;if(_0x3507ad&&typeof _0x3507ad==_0x3cc1cd(0x1a3)||typeof _0x3507ad==_0x3cc1cd(0x240)){for(let _0x5f19dd of Qi(_0x3507ad))!Xi[_0x3cc1cd(0x2de)](_0x2e3b46,_0x5f19dd)&&_0x5f19dd!==_0x5dab51&&Be(_0x2e3b46,_0x5f19dd,{'get':()=>_0x3507ad[_0x5f19dd],'enumerable':!(_0x2ad49c=Ki(_0x3507ad,_0x5f19dd))||_0x2ad49c[_0x3cc1cd(0x2d3)]});}return _0x2e3b46;},I=(_0x1c767a,_0x4e63dd,_0x2928f8)=>(_0x2928f8=_0x1c767a!=null?Hi(Yi(_0x1c767a)):{},Ws(_0x4e63dd||!_0x1c767a||!_0x1c767a[a0_0x46d805(0x4c2)]?Be(_0x2928f8,a0_0x46d805(0x6ef),{'value':_0x1c767a,'enumerable':!0x0}):_0x2928f8,_0x1c767a)),eo=_0xd607c1=>Ws(Be({},a0_0x46d805(0x4c2),{'value':!0x0}),_0xd607c1),gr={};Zi(gr,{'fullURL':()=>Gs,'subdomain':()=>ee}),module[a0_0x46d805(0x10d)]=eo(gr);function a0_0x3d76(){const _0x588b64=['groupRequestParticipantsUpdate','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','deleteflow','method','cachedContacts-whatsapp',',\x20fará\x20nova\x20verificação\x20em\x20','autoCompleteMessages.command','views','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','#b4ebff','name','connectionClosed','getUniqueFlowName','readMessages','imgUrl','Erro\x20ao\x20arquivar\x20chat','existsSync','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','uazapi','inner','CHATS_UPDATE','updateMissingCustomFields','contextInfo','\x1b[42m','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Bloco\x20com\x20ID\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','insert','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','https://uazapi-plugin.bubbleapps.io/','join','updateGroupPicture','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','last_update','optionName','application/json','stderr','Comando\x20desconhecido','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','etiquetas','\x20Tentativa\x20de\x20reconexão\x20','COLOR','setWebhook','):\x20Fluxos\x20não\x20estão\x20ativados','END:VCARD','delayMessage','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Buscando\x20conversas...','isJidBroadcast','pairingCode','muteEndTime','Número:\x20','\x20-i\x20','/wa-message-update','ephemeralDuration','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','split',',\x20isAdmin:\x20','descOwner','request\x20body:\x20','long','options','StartBot','.mp3','editflowgroup','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','ipv6Prefix','Authentication\x20error','chatModify','locationMessage','):\x20debug\x20alterando\x20this.AutomateSystem','oldValue','participants','replaceVariablesInObject','processConditionsTest','autoCompleteMessages','request_time','writeFileSync','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','getChatModelForOwner','synchronizeAndMapFlows','findAll','create','inviteCode','chats.delete','Connection\x20closed\x20for\x20instance:\x20','promisify','_ScheduleMessages','mongodb','execSync','response','processUazapi','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','\x20minutos\x20verificará\x20novas\x20mensagens','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','instanceName\x20not\x20provided.','createSectionsFromValues','Nenhum\x20fluxo\x20correspondente\x20encontrado.','load','/media/','Error\x20in\x20chatModify\x20for\x20number\x20','editFlowCondition','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','ChatRouter','EMAIL:','fetchProfilePictureUrl','format','process','isBase64','menuMessage','repository','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','Enter\x20a\x20value\x20in\x20milliseconds','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','createNewConversation','PRIVKEY','textMessage','):\x20Label\x20','#64c4ff','keep-alive','isAdmin','ReplyOption\x20com\x20ID\x20','flowName','\x20:\x20','displayName','Subscribed\x20Events:','https://api64.ipify.org?format=json','.mp4','findGroups','indexOf','error','delAll','automateSystem','instanceName','statusCode','contactMessage','Usando\x20IP\x20existente:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','/wa-qrcode',',\x20valor\x20a\x20encontrar:\x20\x22','contacts.upsert','reconnectTimestamps','nome','makeCacheableSignalKeyStore','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','/automate','round','waInstances','close','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','IP\x20mismatch:\x20configured\x20','https://jsonip.com','chats.upsert','.ogg','ephemeralExpiration','temp-','convertedOptions','reorderMessages','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','array','):\x20Flow\x20desativado','Resultado\x20da\x20correspondência\x20de\x20URL:','):\x20mediaMessageInfoId\x20:\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','admin','Instâncias\x20removidas:\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','quotedMessage','createConversationforgoToFlow','boolean','startCommand','EMAIL','Nenhum\x20participante\x20válido\x20encontrado.','connectionStatus','env','stringify','Unauthorized','saveChatVariables','\x20inseridas\x20no\x20banco\x20de\x20dados...','Content-Type','_Labels','URL:','isConnected','gifPlayback','contacts.update','):Sending\x20audio\x20whatsapp','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Atualização:\x20','vcard','Selecione','jid','flowActive','https','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','all','SSL_CONF_PRIVKEY','body','The\x20instance\x20needs\x20to\x20be\x20disconnected','groupDesc','includes','The\x20property\x20cannot\x20be\x20empty','NextBlock','uazapiSendContact','getOwnPropertyDescriptor','mediaSticker','hGet','Type\x20not\x20found','Request\x20Body:','triedToSend','output','text','messages.upsert','envYaml','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','createConnection','Partes\x20do\x20caminho\x20FULLCHAIN:','):\x20Entrou\x20na\x20função\x20goToFlow',',\x20saindo.','apiResponse','archiveChat','\x20quoted:\x20','1601890noqJdp','silent','setNewValue','subjectOwner','mimetype','apikey','markMessageAsRead','ON\x20-\x20dbName:\x20','GROUPS_UPDATE','144992iGSUab','):\x20Flow\x20\x27','presence','toString','instances','headers','label','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','remove.instance','stdout','/clients-info','addMessagesToGroup','exit','redis','updateAutoCompleteMessages','fileUrl','\x20não\x20encontrado\x20para\x20cópia','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','processUUID','DATABASE_CONNECTION_HOST','Connection','SERVER_URL','notMatchRegex','delete','/instance/delete','whoCanUse','\x20depois\x20','Mensagens\x20deletadas\x20com\x20sucesso.','\x20não\x20encontrado','\x20-\x20ON:\x20','):\x20ev.flush\x20realizado','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','audio/ogg;\x20codecs=opus','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','.jpg','ERROR:\x20','isJWT','\x1b[33m\x1b[1m','findOne','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','substring',',\x20received\x20','uazapiSendLocation','startsWith','LOG_COLOR','shareOwners','composing','exports','Bad\x20Request','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Group\x20not\x20found','toBRL','):\x20Conversa\x20inserida\x20com\x20sucesso.','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','FlowController','instanceInfo','startFlow','LOG_LEVEL','Erro\x20ao\x20inserir\x20chats:','/wa-groups','editFlow','base64','sendAudio','/events','setting','uazapiSendMenu','\x20removido\x20do\x20chat\x20','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','subjectTime','del','DEBUG','messageTimestamp','convertaudio','unreadCount','updateProfilePicturePrivacy','lowerCase','METHODS','PRESENCE_UPDATE','string','_error','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','filter','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','reference','restrict','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','urlOrBase64','isURL','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','request\x20received\x20in\x20editFlow','IPv6\x20address\x20configured:\x20','remoteJid','transformScheduledMessagesByType','KEY','*Pergunta*:\x20\x0a','announcement','locked','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','API_KEY','whoCanEdit','DATABASE_CONNECTION_PASSWORD','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','jsonschema','):\x20newSecondValue\x20após\x20replaceVariables:','request\x20received\x20in\x20updateFlowConfig','Instance\x20restarted','json','1641288nvdjQC','fora\x20do\x20git','):\x20Criou\x20conversa\x20no\x20startFlow','ff:fe','Network\x20interfaces\x20detected:\x20','ButtonsMessage','upsertChats','beforeExit','newStoppedUntil','mongoose','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','\x0aitem','mediaKey',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','dataValidate','Validate','.docx','Instance\x20\x22','contact','_FlowHistorico','compression','PROXY','Erro\x20ao\x20remover\x20label\x20','userDevicesCache','documentWithCaptionMessage','createIPv6','saveConversationToDatabase','createGroup','dropCollection','documentMessage','Falha\x20ao\x20processar\x20a\x20solicitação','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','createOrUpdate','\x20-y','\x20instance\x20does\x20not\x20exist','open','contact_blacklist','\x20horas\x20e\x20','matchRegex','extractMessageContent','\x20segundos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','value','whatsappNumbers','rowId','waitingForReplyMenu','lastSendMessage','cleanDisconnectedInstances','Cannot\x20','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','processgoToFlow','pendingMessages','REDIS_URI','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','dbInstance','globalShow','DOCKER_ENV','\x1b[32m%s\x1b[0m','createWebhook','shareFlow','\x27\x20removido\x20do\x20AutomateSystem.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Close\x20connection','updateChatWithMessage','/exit','pollCreationMessageV3','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','request\x20received\x20in\x20editConversation','delay','updateOne','CONTACTS_UPDATE','loadEnv','integer','Read\x20messages','flowStopConversation','creds.json','telefone','\x1b[40m','jwt','configureIPv6','number','updateMissingTags','expiration','archived','reduce','getDelay','app','object','use','static','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','PASSWORD','random','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','ObjectId','fromObject','eventemitter2','lastCondition','get','Cache-Control','Types','set','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','approve','deleteOne','$pull','sectionsToString','flowConversation','):\x20\x27Deletando\x20fluxo,\x20id:\x20','#92ceac','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','https://uazapi-plugin.bubbleapps.io/?url=','map','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','inviteUrl','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','startID','sendText','authentication','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','MESSAGES_UPDATE','saveMediaToFile','router','Conversa\x20deletada\x20com\x20sucesso.','waMonitor','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','\x20minutos','replace','menuExpiredMessage','isValidAndUniqueIPv6','QRCODE_UPDATED','LICENSE_INVALID','Content\x20is\x20required','presence.update','nomecompleto','):\x20Enviando\x20mensagem\x20para\x20','\x20não\x20é\x20a\x20esperada.','SEND_MESSAGE','connectionUpdate','http','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','forEach','delayChatLabel','chatId','hGetAll','removeProfilePicture','test','):\x20Entrou\x20na\x20função\x20saveReply','DATABASE','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','less','this.reconnectAttempts:\x20','request\x20received\x20in\x20deleteConversation','getMinutes','atendimentoAberto','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','https://api.elevenlabs.io/v1/text-to-speech/','Instance\x20deleted','STORE_CONTACTS','_id','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','sendContact','\x20do\x20chat\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','exists','):\x20atualização\x20chat:\x20','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','updateBlock','width','trim',',\x20Novo\x20tamanho:\x20','next_groupId','slice','fetchChats','verifyWhatsAppNumber','redirect','path','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','content','readFileSync','):\x20Não\x20achou\x20nenhum\x20flow','ORG:','unknown\x20operation\x20type\x20[','collections','moreLogs','logout','uazapiSendMedia','author','groupSettingUpdate','Db\x20Connection','deleteFlow','\x20tentativas:\x20remotejid=','awaitSeconds','longitude','SERVER_OFFLINE','https://ipv6.jsonip.com','\x1b[37m%s\x1b[0m','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','pino','):\x20this.processingGroup_id:\x20',',\x20Minutes\x20to\x20Close:\x20','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','lastUpdate','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','CHATS_DELETE','match','status.instance','Subdomínio\x20extraído\x20da\x20URL:','axios','qrcode.updated','stateConnection','defineAuthState','Error\x20writing\x20file:\x20','No\x20suitable\x20network\x20interface\x20found','DELETED','waitingMenu_id','\x20saindo\x20da\x20função','GROUPS_UPSERT','13665843AWtivP','isJidUser','Erro\x20ao\x20buscar\x20conversas','toLowerCase','repeat','charAt','findIndex','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','WARN','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','processApiRequest','mediatype','item','owner','convertaudioMP3','webhookService','end','findWebhook','https://api.openai.com/v1/audio/speech','CONNECTION','OrAnd','flushHeaders','function','lastInteraction','listResponseMessage','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','padStart','deleteInstance','SERVER','setRestartTimeout','testingWith','originalUrl','MAX_SAFE_INTEGER','sim','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','editflowcondition','ids','keyPattern','ip\x20-6\x20addr\x20show\x20dev\x20','findParticipants','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','/wa-message','not_announcement','fetchBusinessProfile','Erro\x20ao\x20atualizar\x20conversa:\x20','\x20com\x20sucesso.','SINGLE_SELECT','Falhou\x20ao\x20encontrar\x20chat\x20','sendMenu','cwd','goNextblock','All_Instances_Config','and','post','getConversation','firstValue','ms\x20(tentativa\x20','option','endSession','fullName','createFlow','@broadcast','undefined','findMany','loadInstance','getAutomateSystem','subject','editConversation','\x20and\x20data:','\x27\x20do\x20banco\x20de\x20dados...','timeInMinutes','util','ENABLED','SECRET','.svg','Início','start','$addToSet','app-state-sync-key','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','RECONNECT_TIME_FRAME','groupJoinApprovalMode','):\x20Entrou\x20na\x20função\x20stop','emit','webhookMap','linkPreview','READ','delaySecMax','result','convert','readData','):\x20Iniciando\x20bot...','\x20contacts','[all]','getVariablesChat','messageHandle','arraybuffer','toArray','):\x20Current\x20Time:\x20','bearer','generateWAMessageFromContent','getHours','nextMessageId','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','messageSecret','flow','createJid','Erro\x20ao\x20executar\x20bulkWrite:','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','importChatsAntigo','contactHandle','conversation','blocks','errors','numbers','stopConversation','\x1b[44m','):Temp\x20image\x20deleted','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','\x1b[32m','345945QtlYAm','updateMediaMessage','reviver','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','insertMany','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','decryptPollVote','ListType','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','URL\x20não\x20disponível','Sistema\x20atualizado\x20com\x20sucesso!','.txt','Falha\x20ao\x20processar\x20fetchBusinessProfile','PORT','online','ip\x20-6\x20addr\x20add\x20','deleteMessageForEveryone','storePath','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','flows','enabled','readMessage','delayChatLabel_RETRY_DELAY_MS','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','listen','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20ao\x20deletar\x20a\x20conversa','mkdirSync','}}\x20->\x20valor\x20não\x20encontrado','scheduleNextCheck','some','groupHandler','document','deleteMany','none','/instance/fetchInstances','msgRetryCounterCache','CORS','downloads','groupValidate','ERROR','processvaredits','profilePictureUrl','query','GUARD','announce','last','updateGroupWebhook','hasOwnProperty','enumerable','paused','BRL','STORE','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','sendList','activatedCount','key','):\x20Deletando\x20mensagem','createInstance','connectedClient','call','SSL_CONF_FULLCHAIN','cors','):Audio\x20converted\x20and\x20stored\x20in\x20cache','):\x20Enviando\x20áudio','isLong','Subdomínio\x20não\x20encontrado','lean','authorization','saveCreds','#6f7bcf','routerPath','pollCreationMessageKey','):Business\x20profile\x20fetched','Contacts\x20not\x20found','lastSend','request\x20received\x20in\x20getFlow','):\x20Enviando\x20localização','\x1b[33m','/wa-connection-update','node-cache','/wa-chats','audioMessage','equal','revokeInviteCode','updateCustomFields','flowPrefixCommand','10yUFokR','BufferJSON','ContactsAndGroups','content-type','listType','The\x20','fetchMessages','restart','replacer','/instance/create','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','ephemeralMessage','importChats','editFlowGroup','generateRandomIPv6','PENDING','lastMessage_id','http://checkip.dyndns.org','\x20mensagens\x20de\x20','):Image\x20is\x20url','saveVariable','dbClient','encoding','IPv6\x20addresses\x20detected:\x20','getMessageModelForOwner','toNumber','address','):\x20Editando\x20edição\x20do\x20fluxo...','_Messages','status@broadcast','ip\x20-6\x20addr\x20del\x20','.mimetype','type','editflowreply','Fluxo\x20agendado\x20pelo\x20fluxo\x20','validate','\x0a*Você\x20respondeu*:\x0a','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','readreceipts','.extension','getStatus','findFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','Erro\x20ao\x20encerrar\x20a\x20API','reorderReplyOptions','condition','formatBRNumber','delayChatLabel_MAX_RETRIES','Logger','):\x20Alterando\x20fluxo...','IPv6\x20address\x20removed:\x20','cpf','):\x20','sharp','cachedContact','crypto','fetchInstances','editFlowReply','getValidWhatsAppNumbers','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','stickerMessage','apirequest','context','updateStopChat','_sender','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Erro\x20ao\x20deletar\x20mensagens:','global','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','chatHandle','groupUpdateSubject','imagechat','findAndReplaceRegex','whatsappNumber','done','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','dbServer','):Audio\x20processed','jpegThumbnail','variables','INFO','getDevice','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x1b[46m','Error\x20removing\x20IPv6\x20address:\x20','#d3a91f','DisconnectReason','/*.json','.jwt','write','--------------------------------------','closed','group-participants.update','editflow','AUTHENTICATION_TYPE','DATABASE_CONNECTION_DB_PREFIX_NAME','#ff9484','Removidas\x20as\x20variáveis:\x20','dayjs','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','ListMessage','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Enviando\x20texto','sendMessage','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','deleteBlock','sendLocation','replyOptions','sendStatus','recebido\x20de','contains','deleteImportedChat','contentText','generate','STORE_CLEANING_TERMINAL','buttonText','request\x20received\x20in\x20editFlowgroup','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','redis://127.0.0.1:6379','sha256','size','participant','joinGroupValidate','connect','addReplyOption','notEmpty','stopMinutesMaxActives','request\x20received\x20in\x20allFlows',',\x20Segundo\x20Valor:\x20','!stop','Instance\x20Name:','Número\x20não\x20possui\x20WhatsApp.','../env.yml','groups','release','#01d0e2','connectToWhatsapp','editFlowBlock','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','instance','^\x5cd+([-]\x5cd+)*@g.us$','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','code','6575685HKvaci','convertToWebP','Background\x20color\x20is\x20required','$set','label_jid','stopIfLastReturnedError','replaceValue','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','pre','SERVER_TYPE','ip6eui','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','20YuPsPo','updateReplyOption','organization','updateChatGroupData','Router','DARK','connectedName','Imagem\x20não\x20encontrada','messages.update','):Image\x20converted\x20to\x20WebP','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','deleteConversation','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','configService','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','cleanStore','dbSettings','groupRevokeInvite','/wa-presence','apply','replaceVariables','RemoteJid:','isInteger','request\x20received\x20in\x20editFlowcondition','Network\x20Interface\x20detected:\x20','):\x20Adicionando\x20\x27','DELIVERY_ACK','saveTextReply','REDIS_ENABLED','hbs','menuType','count','REDIS_PREFIX_KEY','SERVER_PORT','groupBetterSetting','HH:mm:ss','webhook','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','dark','client','/webhook','parseInt','lastFetchAwaitingApproval','AutomateFunctions','isValidIPv6Config','\x0aFN:','Last\x20message\x20not\x20found','):\x20Editando\x20variável\x20do\x20fluxo...','Button\x20texts\x20cannot\x20be\x20repeated','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','\x20minutos.\x20Será\x20às\x20','Erro\x20ao\x20editar\x20agentes',',\x20global:\x20','):\x20Error\x20processing\x20the\x20block:\x20','presenceSubscribe','Error\x20fetching\x20and\x20updating\x20profile:\x20','unavailable','STORE_MESSAGE','find','conversationTimestamp','CHATS_UPSERT','assign','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','agents','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','Erro\x20ao\x20copiar\x20o\x20documento','initAuthCreds','\x1b[41m','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Deleted\x20','\x20tentativas.','data','findGroupInfos','express','groupSetting','AUTHENTICATION_API_KEY','fileName','editflowvaredit','sendMedia','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Conversa\x20está\x20expirada\x20-\x20voto','eventHandler','\x22\x20cannot\x20be\x20empty','requestPairingCode','pollOnReplyDelete','.doc','groupToggleEphemeral','fromMe','):\x20não\x20encontrou','):\x20enviado\x20para\x20[','binary','selectedOptions','instanceCount','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','finish','#9ba6ff','DB_PREFIX_NAME','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','admin_add','buttons','canSendMessage','rows','loadWebhook','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','chats.update','selectableCount','cacheInstanceRepository','profileName','Não\x20respondeu\x20com\x20a\x20enquete.','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','qrCode','@whiskeysockets/baileys','sendDataWebhook','3416LcDDaI','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','fetchConversation','waitingMenu_text','removeChatLabel','Last\x20message\x20not\x20found\x20for\x20number:\x20','normalizeMessage','Instância:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','updateMessage','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','choices','sendCommand','unreadcount','floor','findOneAndUpdate','isListOfNumbers','truncatedtoEnd','ScheduleMessage','Fluxos\x20não\x20estão\x20ativados','pollMessageOnDelete','Primeiro\x20Valor:\x20','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','\x1b[0m','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','myAppStateKeyId','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','desc','Chat\x20com\x20ID\x20','dropIndex','noConnection','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','randomMac','RemoveChatLabel','\x22\x20not\x20found','/wa-all-message','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','findMessages','menuIgnoreNonVotes','sendPresenceUpdate','groupParticipantsUpdate','The\x20\x22','modifiedCount','demote',',\x20pairCode:\x20','PLAYED','):\x20Rótulo\x20atualizado:\x20','updateProfilePicture','\x22\x20-\x20NOT\x20CONNECTION','_pushName','chatLog','):\x20Limpando\x20AutomateSystem','GROUP_PARTICIPANTS_UPDATE','deleteChat','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','getUpdate','@ffmpeg-installer/ffmpeg','chat\x20não\x20encontrado','profilePicture','):\x20[messages.update]\x20group\x20ignored','leaveGroup','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','evaluateConditionTest','groupName','groupLeave','varedits','setHeader','normalizeMessageContent','0123456789ABCDEF','audio','JWT','_Chats','connection.update','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','sticker','updateConversation','expression','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','SendScheduleMessage','/wa-contacts','params','lastMessage','headerString','padEnd','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','.ogv','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','viewOnceMessage','pollMessage','CORS_METHODS','allFlows','):\x20Grupo\x20','updateAll','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','_Contacts','color','isCommunityAnnounce','updateFlowConfig','save','findById','pt-BR','copyBlock','parse','optionDescription','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','valid','detectIPv6PrefixAndInterface','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','contactsArrayMessage','length','urlencoded','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','created','getPrototypeOf','checkAndRestartProcess','store','ex:\x20\x22groupJid=120362@g.us\x22','.\x20Pulando.','hex','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','getContactModelForOwner','local_map','express-async-errors','DATABASE_ENABLED','):\x20[messages.upsert]\x20group\x20ignored','):\x20delete\x20=\x20true','data:\x20','updateProfileStatus','startCommandWord','):\x20nextBlock.uazapi.name','allflows','updatePrivacySettings','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Database\x20connection\x20closed.','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','fetchProfile','where','getContentType','uuid','status','getflow','oldToken','variablesNotFound','when','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','basename','list','statSync','Esse\x20fluxo\x20expirou','Falha\x20ao\x20criar\x20IPv6.','?authSource=admin&readPreference=primary&directConnection=true',',\x20resultado:\x20','extractPhoneNumber','findManyByIds','getBase64FromMediaMessage','):Delete\x20chat','isRunning','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','font','\x1b[31m%s\x1b[0m','message_normalized','EXPIRIN_IN','):\x20\x27Enviando\x20texto\x20para\x20\x27','lastReceivedMessage','https://v6.ident.me','scheduleMessage','timeout','.X-ABLabel:Celular\x0a','video','\x0a{\x20instance:\x20','imported','groupadd','):\x20transformedCustomFieldVariables','waitingMenu_replyOptions','networkInterface','):\x20whoCanEdit\x20before\x20validation:\x20','lastBlockId','importChatsBatch','header','):\x20expirationTime:\x20','__esModule','REDIS','CONTACTS_UPSERT','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','joinApprovalMode','Erro\x20ao\x20importar\x20chats','https://api.ipify.org?format=json','Deletion\x20failed','FULLCHAIN','request_method','IP\x20confirmed:\x20','#d8e651','processConditions','buttonMessage','authModel','description','eventEmitter','):\x20Enviando\x20mídia','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','*\x0a\x0a','AUTHENTICATION','groupUpdateDescription','deleteDoneMessages','Erro\x20ao\x20buscar\x20o\x20fluxo','state','21287GLKvdi','conditions','processingGroup_id','request\x20received\x20in\x20updateAgent','):\x20Comando\x20desconhecido:\x20','@g.us','updateLastSeenPrivacy','title','command','mentions','exec','addBlock','deleteReplyOption','):\x20Editando\x20bloco...','Esse\x20fluxo\x20não\x20permite\x20importação.','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','https://github.com/uazapi/uazapi.git','action','capitalizedWords','leadInfo.','readMessageBot','prepareMediaMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','-whatsapp-api','clearVariables','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','fetchPrivacySettings','removeIPv6','uazapiDeleteMessage','allContacts','\x5cd+','warn','PREFIX_KEY','requestFile','Error\x20updating\x20message\x20status:','Message','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','reject','sleep','Novo\x20IP\x20criado:\x20','#83e421','sort','removeInstance','now','log','desativadoFluxoAte','findLabels','entries','):\x20Chat\x20','updateOnlinePrivacy','CLEANING_INTERVAL','throwAndLogError','/config','creds.update','.xls','Erro\x20inesperado\x20em\x20processvaredits:\x20','catch','available','video-cover.png','labels.edit','Not\x20is\x20business\x20profile','generateHash','pollUpdateMessage','Message\x20not\x20found','arrayUnique','/:instanceName','groupdata','success','poll','getMessage','authService','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','docker','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','\x20não\x20encontrado\x20para\x20atualização.','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','abs','findGroup','\x27...','pollCreationMessageV2','extractRegex','processScheduleFlow','Flow\x20\x27','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','shift','Erro\x20ao\x20iniciar\x20o\x20fluxo.','birthtime','notEqual',',\x20qrcodeCount:\x20','#56ccb4','all_member_add','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','editFlowVaredit','ignoreGroups','toUpperCase','copy','groupJid','groups_ignore','AutomateSystem','cacheContact','getScheduleMessage','cleaningUp','\x1b[43m','Database\x20is\x20not\x20enabled','.type','\x5c$&','Button\x20IDs\x20cannot\x20be\x20repeated.','promote','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','connectionState','Erro\x20ao\x20atualizar\x20o\x20fluxo:','URL\x20completa:','instanceKeys','#000000','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Instance\x20ID:','connecting','DATABASE_CONNECTION_USER','variable','\x1b[30m','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','errorLog','Missing\x20global\x20api\x20key','cachedData-whatsapp','):\x20Criando\x20nova\x20conversa[createNewConversation]','flowConfig','unlinkSync','profile','CacheContacts\x20database\x20connection\x20closed.','ContactModel','):\x20Envio\x20interrompido\x20devido\x20a\x20UUID\x20de\x20processo\x20não\x20corresponder.','joinGroup','notas','Erro\x20ao\x20editar\x20o\x20bloco:\x20','closeExistingConversations','SSL_CONF','@redis/client','):Notifying\x20clients\x20for\x20chat:\x20','resetReconnectionVariables','cacheInstanceModel','secondValue','):Desconectado,\x20parando\x20execução.','request\x20received\x20in\x20getAutomateSystem','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','tags','getTime','Mac\x20OS','blockId','true','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','error_log','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','editScheduleMessage','prepareWAMessageMedia','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','put','createHash','):\x20conversation.status:\x20','/instance/connect','cacheContactModel','out','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','messageStubType','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','testIPv6','max','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Forbidden','onTime','createflow','minutesToClose','#dfaef0','customFields','startFlowWebhook','maxActives','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','reorderBlocks','proto','editedMessage','):\x20Falha\x20ao\x20deletar\x20mensagem.','pushName','\x20e\x20ID=','statusMessage','.webp','):\x20Buscando\x20todos\x20os\x20fluxos...','[AUTH]\x20Database\x20is\x20not\x20enabled','yes','formatStatusMessage','responsavelid','remote\x20\x22origin\x22','):\x20Bloco\x20copiado:\x20','findOrCreate','from','labels.association','updateMany','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Erro\x20ao\x20tentar\x20updateCustomFields','updatePresence','update','descId','buttonId','):\x20Error\x20processing\x20conditions:\x20','SERVER_ACK','Not\x20Found','):\x20error:\x20','child_process','AppStateSyncKeyData','changeVariables','deleted','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','cache',',\x20Resultado:\x20','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','createConversationforStartFlow','AutomateSystem\x20não\x20foi\x20inicializado','labelId','bodyString','notify','info','realVariables','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','sections','https://','removeUnusedChatFields','\x1b[36m','getOwnPropertyNames','processPollUpdateMessage','The\x20global\x20api\x20key\x20must\x20be\x20set','detail','getScheduleMessageModelForOwner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','logger','editChat','updateOneById','pollErrorMessage','HeaderType','endsWith','senderKeyDistributionMessage','Limpando\x20logs\x20do\x20PM2...','):Image\x20path:\x20','Erro\x20na\x20função\x20updateChatWithMessage:\x20','caption','collection','model','messaging-history.set','config','restartInstance','contacts','varedit','getFlow','mediaMessage','listMessage','sharePass','privacySettings','rm\x20-rf\x20','readdirSync','LOG','verifiedName','limit','unhandledRejection','archive','chats','url','stopped','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','groupCreate','getLabelModelForOwner','):\x20whoCanUse\x20before\x20validation:\x20','has','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','createClient','\x20minutos...','Instance\x20Key\x20from\x20DB:','):\x20Going\x20to\x20','replaceVariablesChat','URL','fileLength','keys','events','flattenObject','50mb','leadInfo','uazapiSendAudio','Erro\x20ao\x20editar\x20a\x20conversa','qrcode','truncatedto','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','):Fetching\x20business\x20profile','@s.whatsapp.net','user','auth','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','updateAgent','.TEL;waid=','empty','no-cache','statusJidList','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','group','remove','scheduleSendAudio','bulkWrite','groups.update','LEVEL','variablesToObject','replyOption','groupMetadata','deletedCount','):\x20whoCanEdit\x20after\x20validation:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','replaceVariablesInReplyOptions','DATABASE_CONNECTION_URI','leadInfo.atendimentoAberto','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','pollCreationMessage','send','LabelModel','message','FlowRouter','scheduleFlow','Safari','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','sendReaction','currency','block','\x1b[1m','false',',\x20lastCondition:\x20','reconnectAttempts','PRODUCT_LIST','$dbName','Fluxo\x20não\x20encontrado\x20na\x20memória.','API\x20Key\x20from\x20Request:','getConversationModelForOwner','updateMissingEtiquetas','Nenhum\x20chat\x20encontrado\x20para\x20editar.','image','API\x20Key\x20inválida.','footerText','sending','applyvaredit','ini','findAndUpdateCacheContact','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','enviado\x20para','useMultiFileAuthState','trimmed','InstancesAlterarTodas','memberAddMode','console','webp','Erro\x20ao\x20adicionar\x20label\x20','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','editMessagesInGroup','findAndReplace','messages.set','editFlowVariable','AddUserFlow','StatusJidList\x20is\x20required','authState','getClient','vote','Instância\x20não\x20encontrada.','class-validator','chat','buffer','DD/MM\x20HH:mm:ss','webhookModel','Schema','/startFlow/:instance/:startID','CHATS_SET','):Processing\x20audio','processawaitSeconds','unlocked','findGroupInfo','.url','Error\x20removing\x20unused\x20chat\x20fields:','VERBOSE','USER','toLocaleString','creation','\x27\x20não\x20encontrado','Pausado\x20por\x20','Erro\x20ao\x20criar\x20fluxo','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','\x20ao\x20chat\x20','jsonwebtoken','sendPoll','findContacts','messages','username','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','instance.','mentioned','AddChatLabel','TEXT','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','):\x20isVote:\x20','isCommunity','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Erro\x20ao\x20normalizar\x20a\x20mensagem:','GET','processblock','localWebhook','):\x20lastBlockId:\x20','_p_','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','folder','audioWhatsapp','Erro\x20ao\x20alterar\x20fluxo','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','groupInviteCode','wuid','!cmd_','CONNECTION_UPDATE','onWhatsApp','messageId','protocolMessage','upperCase','values','drop','messageType','STATUS_INSTANCE','fetchContacts','greater','flowStopMinutes','Valor\x20inicial:\x20\x22','groupId','waitingMenu_ExpiredMessage','createServer','.pptx','reaction','reactionMessage','replaceVariablesLogs','utf8','CONTACTS_SET','request\x20received\x20in\x20scheduleMessage','verbose','getLastMessage','):\x20Bloco\x20original\x20para\x20cópia:\x20','StartID:','https://ifconfig.me/ip','writeFile','splice','isArray','notContains','URI','hDel','):\x20\x27Enviando\x20audio\x20para\x20\x27','Error\x20fetching\x20group','min','backgroundColor','fetchLabels','flush','updateProfileName','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','findConversation','/64\x20dev\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Criando\x20fluxo...','digest','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','HOST','blockLogs','TYPE','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','view\x20engine','phoneNumber','):\x20Fluxo\x20\x27','TEL','sendSticker','Type\x20is\x20required','writeData','Erro\x20ao\x20alterar\x20privacidade','uncaughtException','fone','editOperator','connectToWhatsappController','goToFlow','interval\x20não\x20é\x20um\x20número','MESSAGES_SET','pop','removeIPv6ById','replaceOne','ip:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','licenca','dbConnection','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20\x27Enviando\x20mídia\x20para\x20\x27','):Image\x20is\x20base64','removeData','Valor\x20da\x20URL\x20recuperada:','\x20is\x20already\x20in\x20use.','.png','\x20\x1b[0m','scheduleSendText','superadmin','IPv6\x20Prefix\x20detected:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','toFile','mongodb://','Fluxo\x20id\x20\x27','XX:XX:XX:XX:XX:XX','inet6','.xlsx','spawn','utf-8','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','request\x20received\x20in\x20fetchConversation','upsertedCount','fetchLatestBaileysVersion','?timestamp=','match_last_seen','):\x20Procurando\x20mensagens\x20para\x20envio','beautifyWithPlaceholders','media','redisEnv','Erro\x20ao\x20buscar\x20Schedule\x20Messages','_remoteJid','default','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','quoted','#fed428','addChatLabel','deleteAll','scheduled','Error\x20updating\x20cache\x20contact:','deleteMessage','scheduleSendMedia','\x20foi\x20interrompido\x20pelo\x20usuário.','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','flowIgnoreGroups','loggedOut','stopMinutes','viewOnceMessageV2','.fileUrl','evaluateCondition','):\x20Buscando\x20flow,\x20id:\x20','toggleEphemeral','email','isBusiness','findByIdAndUpdate','https://chat.whatsapp.com/','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Operador:\x20\x22','push','add','pictureUrl','MESSAGES_UPSERT','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','sendMessageWithTyping','Error\x20parsing\x20JSON:','):\x20Atualizando\x20status\x20da\x20mensagem\x20','website','):\x20Detecção\x20de\x20condição\x20de\x20corrida,\x20a\x20mensagem\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','latitude','^\x5cd+','bodyStringErrorParse','Filtered\x20network\x20interfaces:\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','leadInfo.etiquetas','videoMessage','setContext','recording','groups.upsert','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','updateGroupsAddPrivacy','isJidGroup','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','request\x20received\x20in\x20updateAutoCompleteMessages',',\x20canSendMessage:\x20','audio/ogg','):\x20Procurando\x20conversa','createAndSave','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','groupGetInviteInfo','Erro\x20ao\x20aplicar\x20varedit:\x20','groupMemberAddMode','delaySecMin','role','debug','creds','removed','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','order'];a0_0x3d76=function(){return _0x588b64;};return a0_0x3d76();}var qi=I(require(a0_0x46d805(0x160))),Hs=require('fs'),Ks=require('js-yaml'),Qs=require(a0_0x46d805(0x200)),We=require('path'),ue=process[a0_0x46d805(0x25b)](),Me=(0x0,We[a0_0x46d805(0x755)])(ue,a0_0x46d805(0x822)),zs=(0x0,We['join'])(ue,'src'),an=(0x0,We[a0_0x46d805(0x755)])(ue,a0_0x46d805(0x480),a0_0x46d805(0x604)),ps=class{constructor(){const _0x5b6c56=a0_0x46d805;this[_0x5b6c56(0x193)]();}['get'](_0x126fdf){return this['env'][_0x126fdf];}[a0_0x46d805(0x193)](){const _0x2784b6=a0_0x46d805;this['env']=process[_0x2784b6(0x7e6)]?.[_0x2784b6(0x184)]!==_0x2784b6(0x570)?this[_0x2784b6(0x80c)]():this['envProcess'](),process[_0x2784b6(0x7e6)]?.['DOCKER_ENV']===_0x2784b6(0x570)&&(this[_0x2784b6(0x7e6)][_0x2784b6(0x246)][_0x2784b6(0x6b6)]=_0x2784b6(0x1d9),this[_0x2784b6(0x7e6)][_0x2784b6(0x246)][_0x2784b6(0x2af)]=Number[_0x2784b6(0x3c1)](process[_0x2784b6(0x7e6)]?.[_0x2784b6(0x3b9)]??'8080'));}['envYaml'](){const _0x458eb6=a0_0x46d805;return(0x0,Ks[_0x458eb6(0x79a)])((0x0,Hs[_0x458eb6(0x203)])((0x0,Qs[_0x458eb6(0x755)])(zs,_0x458eb6(0x380)),{'encoding':_0x458eb6(0x6e2)}));}['envProcess'](){const _0x4e574d=a0_0x46d805;return{'SERVER':{'TYPE':process[_0x4e574d(0x7e6)][_0x4e574d(0x395)],'PORT':Number[_0x4e574d(0x3c1)](process['env'][_0x4e574d(0x3b9)]),'URL':process[_0x4e574d(0x7e6)][_0x4e574d(0x833)]},'CORS':{'ORIGIN':process[_0x4e574d(0x7e6)]['CORS_ORIGIN'][_0x4e574d(0x76f)](','),'METHODS':process['env'][_0x4e574d(0x466)][_0x4e574d(0x76f)](','),'CREDENTIALS':process[_0x4e574d(0x7e6)]?.['CORS_CREDENTIALS']===_0x4e574d(0x570)},'SSL_CONF':{'PRIVKEY':process[_0x4e574d(0x7e6)]?.[_0x4e574d(0x7fb)],'FULLCHAIN':process['env']?.[_0x4e574d(0x2df)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x4e574d(0x36e)])?Number[_0x4e574d(0x3c1)](process[_0x4e574d(0x7e6)][_0x4e574d(0x36e)]):void 0x0,'MESSAGES':process['env']?.[_0x4e574d(0x3d1)]==='true','CONTACTS':process[_0x4e574d(0x7e6)]?.[_0x4e574d(0x1ec)]==='true','CHATS':process[_0x4e574d(0x7e6)]?.['STORE_CHATS']===_0x4e574d(0x570)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4e574d(0x7e6)]?.[_0x4e574d(0x831)],'PORT':Number[_0x4e574d(0x3c1)](process[_0x4e574d(0x7e6)]?.[_0x4e574d(0x831)]),'USER':process[_0x4e574d(0x7e6)][_0x4e574d(0x551)],'PASSWORD':process['env'][_0x4e574d(0x143)],'URI':process['env'][_0x4e574d(0x61a)],'DB_PREFIX_NAME':process[_0x4e574d(0x7e6)][_0x4e574d(0x35b)]},'ENABLED':process['env']?.[_0x4e574d(0x489)]===_0x4e574d(0x570)},'REDIS':{'ENABLED':process[_0x4e574d(0x7e6)]?.[_0x4e574d(0x3b4)]===_0x4e574d(0x570),'URI':process[_0x4e574d(0x7e6)][_0x4e574d(0x180)]||_0x4e574d(0x372),'PREFIX_KEY':process[_0x4e574d(0x7e6)][_0x4e574d(0x3b8)]||_0x4e574d(0x748)},'LOG':{'LEVEL':process['env']?.[_0x4e574d(0x117)][_0x4e574d(0x76f)](','),'COLOR':process[_0x4e574d(0x7e6)]?.[_0x4e574d(0x10a)]===_0x4e574d(0x570)},'PROXY':process['env']?.['PROXY']===_0x4e574d(0x570),'AUTHENTICATION':{'TYPE':process[_0x4e574d(0x7e6)][_0x4e574d(0x35a)],'API_KEY':{'KEY':process[_0x4e574d(0x7e6)][_0x4e574d(0x3e3)]},'JWT':{'EXPIRIN_IN':Number[_0x4e574d(0x3ae)](process[_0x4e574d(0x7e6)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x4e574d(0x3c1)](process['env'][_0x4e574d(0x2bb)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},S=new ps(),Vi=I(require(a0_0x46d805(0x2e0))),Se=I(require('express')),qs=require(a0_0x46d805(0x200)),hs=I(require(a0_0x46d805(0x35e))),gs=(_0x11bb64=>(_0x11bb64['LOG']=a0_0x46d805(0x2a1),_0x11bb64['INFO']='\x1b[34m',_0x11bb64[a0_0x46d805(0x232)]=a0_0x46d805(0x2f0),_0x11bb64[a0_0x46d805(0x2ca)]='\x1b[31m',_0x11bb64[a0_0x46d805(0x124)]=a0_0x46d805(0x5c1),_0x11bb64[a0_0x46d805(0x65c)]='\x1b[37m',_0x11bb64[a0_0x46d805(0x39d)]=a0_0x46d805(0x553),_0x11bb64))(gs||{}),Ys=(_0x196612=>(_0x196612['LOG']=a0_0x46d805(0x185),_0x196612[a0_0x46d805(0x39d)]='\x1b[30m%s\x1b[0m',_0x196612[a0_0x46d805(0x349)]='\x1b[34m%s\x1b[0m',_0x196612[a0_0x46d805(0x232)]='\x1b[33m%s\x1b[0m',_0x196612['ERROR']=a0_0x46d805(0x4ad),_0x196612[a0_0x46d805(0x124)]='\x1b[36m%s\x1b[0m',_0x196612[a0_0x46d805(0x65c)]=a0_0x46d805(0x214),_0x196612))(Ys||{}),Xs=(_0x295231=>(_0x295231[a0_0x46d805(0x5e1)]='LOG',_0x295231['WARN']=a0_0x46d805(0x232),_0x295231['INFO']=a0_0x46d805(0x349),_0x295231[a0_0x46d805(0x39d)]=a0_0x46d805(0x39d),_0x295231[a0_0x46d805(0x2ca)]=a0_0x46d805(0x2ca),_0x295231[a0_0x46d805(0x124)]=a0_0x46d805(0x124),_0x295231[a0_0x46d805(0x65c)]='VERBOSE',_0x295231))(Xs||{}),Zs=(_0x467ed5=>(_0x467ed5['LOG']=a0_0x46d805(0x74d),_0x467ed5[a0_0x46d805(0x349)]=a0_0x46d805(0x29e),_0x467ed5[a0_0x46d805(0x232)]=a0_0x46d805(0x542),_0x467ed5[a0_0x46d805(0x39d)]=a0_0x46d805(0x199),_0x467ed5[a0_0x46d805(0x2ca)]=a0_0x46d805(0x3db),_0x467ed5[a0_0x46d805(0x124)]=a0_0x46d805(0x34f),_0x467ed5[a0_0x46d805(0x65c)]='\x1b[47m',_0x467ed5))(Zs||{}),$=class{constructor(_0x1f505f=a0_0x46d805(0x329)){const _0xa322fe=a0_0x46d805;this[_0xa322fe(0x337)]=_0x1f505f,this[_0xa322fe(0x3a5)]=S;}[a0_0x46d805(0x71d)](_0x328271){this['context']=_0x328271;}[a0_0x46d805(0x640)](_0x1f76e5,_0x903a46){const _0x58175e=a0_0x46d805;let _0x28022c=[];this[_0x58175e(0x3a5)][_0x58175e(0x1ae)](_0x58175e(0x5e1))[_0x58175e(0x612)][_0x58175e(0x1db)](_0x562841=>_0x28022c[_0x58175e(0x70b)](Xs[_0x562841]));let _0x5933a2=typeof _0x1f76e5;_0x28022c[_0x58175e(0x7ff)](_0x903a46)&&(S['get'](_0x58175e(0x5e1))[_0x58175e(0x760)]?(console['log'](_0x58175e(0x628)+Ys[_0x903a46],'\x1b[1m\x1b[37m',(0x0,hs[_0x58175e(0x6ef)])()[_0x58175e(0x7a2)](_0x58175e(0x651)),_0x58175e(0x421),gs[_0x903a46]+Zs[_0x903a46]+'\x1b[1m',_0x903a46+_0x58175e(0x6d5),_0x58175e(0x103),this[_0x58175e(0x337)]+_0x58175e(0x421),gs[_0x903a46],_0x5933a2!==_0x58175e(0x1a3)?_0x1f76e5:'',_0x58175e(0x421)),_0x5933a2===_0x58175e(0x1a3)&&console[_0x58175e(0x507)](_0x1f76e5,'\x0a')):console[_0x58175e(0x507)]((0x0,hs[_0x58175e(0x6ef)])()['format'](_0x58175e(0x3bb)),_0x903a46+'\x20',''+this[_0x58175e(0x337)],_0x1f76e5));}['log'](_0xe9fea0){const _0xe4a801=a0_0x46d805;this[_0xe4a801(0x640)](_0xe9fea0,_0xe4a801(0x5e1));}['info'](_0x80ff08){const _0xdd85ce=a0_0x46d805;this[_0xdd85ce(0x640)](_0x80ff08,_0xdd85ce(0x349));}[a0_0x46d805(0x4fa)](_0x2f2687){const _0x4bf288=a0_0x46d805;this[_0x4bf288(0x640)](_0x2f2687,'WARN');}[a0_0x46d805(0x7ba)](_0x112e8e){const _0x5ed754=a0_0x46d805;this['console'](_0x112e8e,_0x5ed754(0x2ca));}[a0_0x46d805(0x699)](_0xfdbebe){const _0x341113=a0_0x46d805;this[_0x341113(0x640)](_0xfdbebe,_0x341113(0x65c));}[a0_0x46d805(0x730)](_0x1db135){const _0x1404d5=a0_0x46d805;this[_0x1404d5(0x640)](_0x1db135,'DEBUG');}[a0_0x46d805(0x3be)](_0x38f7c4){const _0x39a388=a0_0x46d805;this[_0x39a388(0x640)](_0x38f7c4,'DARK');}};function ea(){process['on']('uncaughtException',(_0x29ef6b,_0x3b01bc)=>{const _0x55b0ad=a0_0x1054;new $(_0x55b0ad(0x6c0))[_0x55b0ad(0x7ba)]({'origin':_0x3b01bc,'stderr':process[_0x55b0ad(0x75b)]['fd'],'error':_0x29ef6b});}),process['on']('unhandledRejection',(_0x4a4f00,_0xc69913)=>{const _0x47b16f=a0_0x1054;new $(_0x47b16f(0x5e4))[_0x47b16f(0x7ba)]({'origin':_0xc69913,'stderr':process['stderr']['fd'],'error':_0x4a4f00});});}var ta=I(require(a0_0x46d805(0x1ac))),ms=new ta['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require('mongoose'),Ie=I(require(a0_0x46d805(0x153))),ze=new $(a0_0x46d805(0x20d)),j=S[a0_0x46d805(0x1ae)]('DATABASE'),A=j[a0_0x46d805(0x272)]?j['CONNECTION'][a0_0x46d805(0x6a2)]?Ie[a0_0x46d805(0x6ef)][a0_0x46d805(0x80e)](j['CONNECTION'][a0_0x46d805(0x6a2)],{'dbName':j[a0_0x46d805(0x23d)][a0_0x46d805(0x3f8)]+a0_0x46d805(0x4f2)}):Ie['default'][a0_0x46d805(0x80e)](a0_0x46d805(0x6dc)+j[a0_0x46d805(0x23d)]['HOST']+':'+j[a0_0x46d805(0x23d)][a0_0x46d805(0x2af)]+a0_0x46d805(0x4a4),{'user':j[a0_0x46d805(0x23d)][a0_0x46d805(0x65d)],'pass':j[a0_0x46d805(0x23d)][a0_0x46d805(0x1a7)],'dbName':j[a0_0x46d805(0x23d)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;j[a0_0x46d805(0x272)]&&ze[a0_0x46d805(0x5bb)](a0_0x46d805(0x81c)+A[a0_0x46d805(0x62d)]);var de=j[a0_0x46d805(0x272)]?j[a0_0x46d805(0x23d)][a0_0x46d805(0x6a2)]?Ie[a0_0x46d805(0x6ef)]['createConnection'](j[a0_0x46d805(0x23d)][a0_0x46d805(0x6a2)],{'dbName':a0_0x46d805(0x557)}):Ie[a0_0x46d805(0x6ef)][a0_0x46d805(0x80e)]('mongodb://'+j[a0_0x46d805(0x23d)][a0_0x46d805(0x6b4)]+':'+j[a0_0x46d805(0x23d)][a0_0x46d805(0x2af)]+a0_0x46d805(0x4a4),{'user':j[a0_0x46d805(0x23d)][a0_0x46d805(0x65d)],'pass':j[a0_0x46d805(0x23d)][a0_0x46d805(0x1a7)],'dbName':a0_0x46d805(0x739)}):null;de&&ze[a0_0x46d805(0x5bb)](a0_0x46d805(0x81c)+de['$dbName']),process['on'](a0_0x46d805(0x151),()=>{const _0x4da00c=a0_0x46d805;A&&A['close'](()=>{const _0x156f4d=a0_0x1054;ze[_0x156f4d(0x5bb)](_0x156f4d(0x493));}),de&&de[_0x4da00c(0x7cc)](()=>{const _0x217a78=_0x4da00c;ze[_0x217a78(0x5bb)](_0x217a78(0x55c));});});var to=new Ce['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce[(a0_0x46d805(0x653))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),sa=_0x552631=>{const _0x56cd84=a0_0x46d805;let _0x2b794f='z_'+_0x552631+_0x56cd84(0x453);return A?.['model']('ChatModel',oo,_0x2b794f);},aa=require(a0_0x46d805(0x153)),ro=new aa['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=_0x27c613=>{const _0x175154=a0_0x46d805;let _0x369555='z_'+_0x27c613+_0x175154(0x46b);return A?.[_0x175154(0x5d4)](_0x175154(0x55d),ro,_0x369555);},oa=require('mongoose'),fs=class{},no=new oa[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=de?.[a0_0x46d805(0x5d4)](fs['name'],no,a0_0x46d805(0x2fb)),na=require(a0_0x46d805(0x153)),ws=class{},co=new na[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),He=de?.['model'](ws[a0_0x46d805(0x73f)],co,a0_0x46d805(0x822)),ca=require('mongoose'),lo=new ca[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),la=_0x219a68=>{const _0x2adf6f=a0_0x46d805;let _0x3357e4='z_'+_0x219a68+_0x2adf6f(0x315);return A?.[_0x2adf6f(0x5d4)]('MessageModel',lo,_0x3357e4);},ua=require(a0_0x46d805(0x153)),ys=class{},uo=new ua[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),da=A?.[a0_0x46d805(0x5d4)](ys['name'],uo,a0_0x46d805(0x1c4)),pa=require(a0_0x46d805(0x153)),bs=class{},ha=new pa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ha['pre']('save',function(_0x5b74a4){const _0x3cf3d5=a0_0x46d805;delete this[_0x3cf3d5(0x7f7)],delete this[_0x3cf3d5(0x6fc)],delete this[_0x3cf3d5(0x2f8)],delete this[_0x3cf3d5(0x196)],delete this[_0x3cf3d5(0x68d)],_0x5b74a4();});var ga=A?.[a0_0x46d805(0x5d4)](bs[a0_0x46d805(0x73f)],ha,a0_0x46d805(0x3bc)),D=require(a0_0x46d805(0x153)),Ss=require(a0_0x46d805(0x498)),Ke=class{},fa=new D[(a0_0x46d805(0x653))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new D['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x46d805(0x4a0)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),wa=new D['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new D[(a0_0x46d805(0x653))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new D[(a0_0x46d805(0x653))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new D[(a0_0x46d805(0x653))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new D[(a0_0x46d805(0x653))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ya=new D[(a0_0x46d805(0x653))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ba=new D['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Sa=new D[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x24ace9=a0_0x46d805;return _0x24ace9(0x681)+Math['random']()['toString'](0x24)[_0x24ace9(0x1fc)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x46d805(0x629)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});Sa[a0_0x46d805(0x394)]('findOneAndUpdate',function(_0x58e7c8){const _0x2287a8=a0_0x46d805;let _0x4e28ce=this[_0x2287a8(0x442)]();if(_0x4e28ce&&typeof _0x4e28ce==_0x2287a8(0x1a3)&&_0x2287a8(0x38f)in _0x4e28ce){let _0x5009a6=_0x4e28ce['$set'];if(_0x5009a6){let _0x27f331=new Set(),_0x4b2127=new Set(_0x5009a6[_0x2287a8(0x348)]?.['map'](_0x1649cb=>_0x1649cb[_0x2287a8(0x73f)])),_0x5509e5=JSON[_0x2287a8(0x7e7)](_0x5009a6),_0x3c1894=/{{(?!_)([^}]*)}}/g,_0x1ad6da;for(;(_0x1ad6da=_0x3c1894[_0x2287a8(0x4e5)](_0x5509e5))!==null;)_0x4b2127[_0x2287a8(0x5ed)](_0x1ad6da[0x1])||_0x27f331[_0x2287a8(0x70c)](_0x1ad6da[0x1]);_0x27f331[_0x2287a8(0x374)]>0x0?(console[_0x2287a8(0x4fa)]('Variáveis\x20não\x20encontradas:',Array[_0x2287a8(0x59f)](_0x27f331)),_0x5009a6['variablesNotFound']=Array[_0x2287a8(0x59f)](_0x27f331)):_0x5009a6[_0x2287a8(0x49c)]=[],this['setUpdate']({'$set':_0x5009a6});}}_0x58e7c8();});var Ee=A?.[a0_0x46d805(0x5d4)](Cs[a0_0x46d805(0x73f)],Sa,'allFlows'),fo=new D[(a0_0x46d805(0x653))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x46d805(0x16f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x46d805(0x4a2)},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ma=_0x5996f7=>{const _0x129c2d=a0_0x46d805;let _0x4edfdb='z_'+_0x5996f7+_0x129c2d(0x15f);return A?.[_0x129c2d(0x5d4)]('ConversationModel',wo,_0x4edfdb);},yo=new D[(a0_0x46d805(0x653))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ma=new D['Schema']({'_id':{'type':String,'id':!0x0},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new D[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ma],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x46d805(0x6f6)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ma,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ca=_0x1891d7=>{const _0x11b85a=a0_0x46d805;let _0x5f4b25='z_'+_0x1891d7+_0x11b85a(0x78f);return A?.['model']('ScheduleMessageModel',bo,_0x5f4b25);},Es=class{},So=new D['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new D[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new D['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x46d805(0x37d)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new D[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new D[(a0_0x46d805(0x653))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Te=A?.[a0_0x46d805(0x5d4)](Es[a0_0x46d805(0x73f)],No,a0_0x46d805(0x53e)),Ea=require('mongoose'),$o=new Ea[(a0_0x46d805(0x653))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x59ec52=>{const _0x35e028=a0_0x46d805;let _0x43d27a='z_'+_0x59ec52+_0x35e028(0x7ec);return A?.[_0x35e028(0x5d4)](_0x35e028(0x61f),$o,_0x43d27a);},O=class{constructor(_0x776dc4){const _0x339f55=a0_0x46d805;this[_0x339f55(0x3a8)]=_0x776dc4[_0x339f55(0x1ae)]('DATABASE');}};function T(_0xcc9711){const _0x19b949=a0_0x46d805;let _0x26207b={};for(let [_0x3dc052,_0x597449]of Object[_0x19b949(0x50a)](_0xcc9711))if(typeof _0x597449=='object'&&!Array[_0x19b949(0x6a0)](_0x597449)){for(let [_0x3af1ec,_0x55e828]of Object['entries'](_0x597449))_0x26207b[_0x3dc052+'.'+_0x3af1ec]=_0x55e828;}else _0x26207b[_0x3dc052]=_0x597449;return _0x26207b;}var Qe=class{constructor(_0x4b0745,_0x12cc6c,_0x22bb9d,_0x27634b,_0x1b53b7,_0x402e43,_0x380cb5,_0x52692e,_0x1bf14f,_0x304959,_0x1bada8,_0x5a3d27,_0xa6f432){const _0x9d327c=a0_0x46d805;this[_0x9d327c(0x620)]=_0x4b0745,this[_0x9d327c(0x64f)]=_0x12cc6c,this[_0x9d327c(0x15e)]=_0x22bb9d,this['cacheContact']=_0x27634b,this[_0x9d327c(0x3bc)]=_0x1b53b7,this['auth']=_0x402e43,this[_0x9d327c(0x388)]=_0x380cb5,this[_0x9d327c(0x293)]=_0x52692e,this[_0x9d327c(0x1b8)]=_0x1bf14f,this['label']=_0x304959,this[_0x9d327c(0x4b3)]=_0x1bada8,this[_0x9d327c(0x7bc)]=_0x5a3d27,this[_0x9d327c(0x30e)]=_0xa6f432;}get[a0_0x46d805(0x345)](){const _0x4ecd42=a0_0x46d805;return this[_0x4ecd42(0x30e)];}},Ye=class{},Xe=class extends O{[a0_0x46d805(0x311)](_0xf37928){return la(_0xf37928);}async[a0_0x46d805(0x752)](_0x1c67ca,_0x51a691){const _0x349204=a0_0x46d805;if(_0x1c67ca[_0x349204(0x47a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x349204(0x311)](_0x51a691)['insertMany']([..._0x1c67ca]))[_0x349204(0x47a)]};}catch(_0x2c7037){return _0x2c7037;}}async['find'](_0x2bcda4,_0x3b48a8){const _0x3b8efb=a0_0x46d805;try{let _0x43b0d9=this['getMessageModelForOwner'](_0x3b48a8),_0x28654e=T(_0x2bcda4['where']);return await _0x43b0d9[_0x3b8efb(0x3d2)](_0x28654e)['sort']({'messageTimestamp':-0x1})['limit'](_0x2bcda4?.[_0x3b8efb(0x5e3)]??0x0)[_0x3b8efb(0x2e5)]();}catch{return[];}}async['delete'](_0x2fc88,_0x5073dd){const _0xae261a=a0_0x46d805;try{let _0x2baaf8=this[_0xae261a(0x311)](_0x5073dd),_0x553100=T(_0x2fc88['where']);await _0x2baaf8[_0xae261a(0x2c3)](_0x553100);}catch(_0x71cd3d){console['error'](_0x71cd3d);}}async[a0_0x46d805(0x5a5)](_0x4ee48d,_0x5c3c28,_0x39902d){const _0x27f7cd=a0_0x46d805;try{let _0x4028d9=this[_0x27f7cd(0x311)](_0x39902d),_0x4d4934=T(_0x4ee48d[_0x27f7cd(0x496)]);return await _0x4028d9['findOneAndUpdate'](_0x4d4934,{'$set':_0x5c3c28},{'new':!0x0});}catch(_0x2ae949){throw console['error'](_0x2ae949),_0x2ae949;}}async[a0_0x46d805(0x2a6)](_0x1de8c8,_0x48b25c){const _0xc6d39e=a0_0x46d805;if(_0x1de8c8[_0xc6d39e(0x47a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x48b25c)[_0xc6d39e(0x2a6)]([..._0x1de8c8]))['length']};}catch(_0x3cd3a3){return console[_0xc6d39e(0x507)](_0xc6d39e(0x101),_0x3cd3a3),_0x3cd3a3;}}async['deleteAll'](_0xd4d362){const _0x31b700=a0_0x46d805;try{return await this[_0x31b700(0x311)](_0xd4d362)[_0x31b700(0x5d3)]['drop'](),{'success':!0x0};}catch(_0x4efccc){return console['error'](_0x4efccc),{'success':!0x1,'error':_0x4efccc};}}},Ds=I(require(a0_0x46d805(0x443))),w=I(require(a0_0x46d805(0x407))),Fe=require('fs'),J=I(require(a0_0x46d805(0x200))),Z=I(require(a0_0x46d805(0x220))),Oi=require(a0_0x46d805(0x498)),xi=I(require(a0_0x46d805(0x5fd))),Di=I(require('qrcode-terminal')),Na=['imageMessage',a0_0x46d805(0x169),a0_0x46d805(0x2f4),a0_0x46d805(0x71c),a0_0x46d805(0x335)],$a=[a0_0x46d805(0x304),a0_0x46d805(0x164),a0_0x46d805(0x464),a0_0x46d805(0x6ff)],Ps=require('os'),Jt=I(require(a0_0x46d805(0x216))),Ue=require(a0_0x46d805(0x5ac)),Pi=require('node-mime-types'),we=I(require(a0_0x46d805(0x153))),F=require(a0_0x46d805(0x64e)),pe=class{constructor(_0x59085f,_0x2570e6,_0x39598d){this['jid']=_0x59085f,this['exists']=_0x2570e6,this['name']=_0x39598d;}},Ze=class{},et=class{},_e=class{},tt=class{},st=class{},ve=class{},at=class{},it=class{},ot=class{},rt=class{},kt=I(require(a0_0x46d805(0x3e1))),Ra=require('fs'),Aa=require(a0_0x46d805(0x200));async function Oe(_0x256f98){const _0x3887c1=a0_0x46d805;let _0x5ce846=z[_0x3887c1(0x7cb)][_0x256f98];if(j[_0x3887c1(0x272)]){let _0x2ef483=A[_0x3887c1(0x64b)]()['db'](j[_0x3887c1(0x23d)][_0x3887c1(0x3f8)]+'-instances')['collection'](_0x256f98);return _0x5ce846||(await _0x2ef483[_0x3887c1(0x3d2)]({})[_0x3887c1(0x28b)]())[_0x3887c1(0x47a)]>0x0;}return _0x5ce846||(0x0,Ra[_0x3887c1(0x745)])((0x0,Aa[_0x3887c1(0x755)])(Me,_0x256f98));}async function Ia(_0x4fca79,_0x39abd8,_0x2577bf){const _0x28b875=a0_0x46d805;if(_0x4fca79['originalUrl'][_0x28b875(0x7ff)](_0x28b875(0x302))||_0x4fca79['originalUrl'][_0x28b875(0x7ff)](_0x28b875(0x2c5))||_0x4fca79[_0x28b875(0x249)][_0x28b875(0x7ff)](_0x28b875(0x18c))||_0x4fca79[_0x28b875(0x249)][_0x28b875(0x7ff)](_0x28b875(0x50f))||_0x4fca79[_0x28b875(0x249)][_0x28b875(0x7ff)](_0x28b875(0x57c))||_0x4fca79['originalUrl']['includes']('/instance/connectionState')||_0x4fca79[_0x28b875(0x249)][_0x28b875(0x7ff)](_0x28b875(0x836)))return _0x2577bf();let _0x389228=_0x4fca79[_0x28b875(0x45c)];if(!_0x389228?.['instanceName'])throw new m(_0x28b875(0x797));if(!await Oe(_0x389228[_0x28b875(0x7bd)]))throw new V(_0x28b875(0x2fe)+_0x389228[_0x28b875(0x7bd)]+_0x28b875(0x16e));_0x2577bf();}async function Ta(_0xecfbb,_0x5bd0f6,_0x431567){const _0x22b779=a0_0x46d805;if(_0xecfbb[_0x22b779(0x249)][_0x22b779(0x7ff)](_0x22b779(0x302))){let _0x473944=_0xecfbb[_0x22b779(0x7fc)];if(await Oe(_0x473944[_0x22b779(0x7bd)]))throw new se('This\x20name\x20'+_0x473944['instanceName']+_0x22b779(0x6d3));z[_0x22b779(0x7cb)][_0x473944[_0x22b779(0x7bd)]]&&delete z[_0x22b779(0x7cb)][_0x473944['instanceName']];}_0x431567();}var _a=require(a0_0x46d805(0x64e)),Oa=I(require(a0_0x46d805(0x665))),nt=a0_0x46d805(0x748),Ao=new $(a0_0x46d805(0x2ce));async function Io(_0x1dcfc4,_0x41d7e2,_0x26cded){const _0x5a0539=a0_0x46d805;let _0x4850c7=_0x1dcfc4[_0x5a0539(0x1ae)](_0x5a0539(0x81a));if(_0x4850c7&&S[_0x5a0539(0x1ae)](_0x5a0539(0x4d6))['API_KEY']['KEY']!==_0x4850c7)throw new ne();if(S[_0x5a0539(0x1ae)]('AUTHENTICATION')[_0x5a0539(0x141)]['KEY']===_0x4850c7)return _0x26cded();if((_0x1dcfc4[_0x5a0539(0x249)][_0x5a0539(0x7ff)](_0x5a0539(0x302))||_0x1dcfc4[_0x5a0539(0x249)]['includes'](_0x5a0539(0x2c5)))&&!_0x4850c7)throw new se('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x15637f=S[_0x5a0539(0x1ae)](_0x5a0539(0x4d6))[_0x5a0539(0x452)];try{let [_0x2a1541,_0x243610]=_0x1dcfc4[_0x5a0539(0x1ae)](_0x5a0539(0x2e6))[_0x5a0539(0x76f)]('\x20');if(_0x2a1541['toLowerCase']()!==_0x5a0539(0x28d))throw new ne();if(!(0x0,_a[_0x5a0539(0x102)])(_0x243610))throw new ne();let _0x57374d=_0x1dcfc4[_0x5a0539(0x45c)],_0x1e4205=Oa[_0x5a0539(0x6ef)]['verify'](_0x243610,_0x15637f[_0x5a0539(0x273)],{'ignoreExpiration':_0x15637f[_0x5a0539(0x4af)]===0x0});if(_0x57374d[_0x5a0539(0x7bd)]!==_0x1e4205[_0x5a0539(0x7bd)]||nt!==_0x1e4205['apiName'])throw new ne();return _0x26cded();}catch(_0xcfa5ef){throw Ao[_0x5a0539(0x7ba)](_0xcfa5ef),new ne();}}async function To(_0x2eed29,_0x2e080a,_0x41275c){const _0x72c95a=a0_0x46d805;let _0x554e14=S[_0x72c95a(0x1ae)]('AUTHENTICATION')['API_KEY'],_0x38a66c=_0x2eed29[_0x72c95a(0x1ae)](_0x72c95a(0x81a));if(_0x554e14[_0x72c95a(0x13c)]===_0x38a66c)return _0x41275c();if(_0x2eed29['originalUrl'][_0x72c95a(0x7ff)](_0x72c95a(0x302))){let _0x23ff5f=Da,_0x1fbb08=_0x2eed29['body'][_0x72c95a(0x7bd)];if(_0x23ff5f&&_0x1fbb08[_0x72c95a(0x22d)]()['startsWith'](_0x23ff5f['toLowerCase']()))return _0x41275c();if(!_0x38a66c)throw new se(_0x72c95a(0x556),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x2eed29[_0x72c95a(0x249)][_0x72c95a(0x7ff)](_0x72c95a(0x2c5))&&!_0x38a66c)throw new se('Missing\x20global\x20api\x20key',_0x72c95a(0x5c4));if(_0x2eed29[_0x72c95a(0x249)][_0x72c95a(0x7ff)](_0x72c95a(0x18c))&&!_0x38a66c)throw new se(_0x72c95a(0x556),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2eed29[_0x72c95a(0x249)][_0x72c95a(0x7ff)](_0x72c95a(0x50f))&&!_0x38a66c)throw new se('Missing\x20global\x20api\x20key',_0x72c95a(0x5c4));try{let _0x2f629a=_0x2eed29[_0x72c95a(0x45c)],_0x598cc6=await ye[_0x72c95a(0x604)][_0x72c95a(0x3d2)](_0x2f629a[_0x72c95a(0x7bd)]);if(_0x598cc6&&_0x598cc6[_0x72c95a(0x81a)]===_0x38a66c)return _0x41275c();}catch{}throw new ne();}var xa={'jwt':Io,'apikey':To},gi=require(a0_0x46d805(0x3e1)),v=require(a0_0x46d805(0x498)),E=(..._0x47dcaa)=>{const _0x50d357=a0_0x46d805;let _0x16808f={};return _0x47dcaa[_0x50d357(0x1db)](_0x55480e=>_0x16808f[_0x55480e]={'minLength':0x1,'description':_0x50d357(0x434)+_0x55480e+_0x50d357(0x3ea)}),{'if':{'propertyNames':{'enum':[..._0x47dcaa]}},'then':{'properties':_0x16808f}};},N={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x46d805(0x12c)}},...E(a0_0x46d805(0x7bd))},fc={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'oldToken':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x49b)],...E(a0_0x46d805(0x49b))},wc={'properties':{'key':{'type':a0_0x46d805(0x1a3),'properties':{'id':{'type':a0_0x46d805(0x12c)},'remoteJid':{'type':a0_0x46d805(0x12c)},'fromMe':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x46d805(0x13a),a0_0x46d805(0x3ef)],...E('id',a0_0x46d805(0x13a))},'message':{'type':a0_0x46d805(0x1a3)}}},ae={'properties':{'delay':{'type':'integer','description':a0_0x46d805(0x7a8)},'presence':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x3d0),'available',a0_0x46d805(0x10c),a0_0x46d805(0x71e),a0_0x46d805(0x2d4)]}}},Y={'type':a0_0x46d805(0x12c),'description':'Invalid\x20format'},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{...Y},'options':{...ae},'textMessage':{'type':a0_0x46d805(0x1a3),'properties':{'text':{'type':'string'}},'required':[a0_0x46d805(0x80a)],...E(a0_0x46d805(0x80a))}},'required':[a0_0x46d805(0x7ac),a0_0x46d805(0x19c)]},ka={'type':a0_0x46d805(0x12c),'pattern':a0_0x46d805(0x578),'description':'Invalid\x20format'},yc={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{...ka},'options':{...ae},'textMessage':{'type':a0_0x46d805(0x1a3),'properties':{'text':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x80a)],...E(a0_0x46d805(0x80a))}},'required':[a0_0x46d805(0x7ac),a0_0x46d805(0x19c)]},bc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...ka},'options':{...ae},'mediaMessage':{'type':a0_0x46d805(0x1a3),'properties':{'mediatype':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x633),a0_0x46d805(0x2c2),'video',a0_0x46d805(0x451)]},'media':{'type':a0_0x46d805(0x12c)},'fileName':{'type':'string'},'caption':{'type':a0_0x46d805(0x12c)}},'required':['mediatype',a0_0x46d805(0x6eb)],...E(a0_0x46d805(0x3e4),a0_0x46d805(0x5d2),'media')}},'required':[a0_0x46d805(0x5db),a0_0x46d805(0x19c)]},La={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'options':{...ae},'stickerMessage':{'type':a0_0x46d805(0x1a3),'properties':{'image':{'type':'string'}},'required':['image'],...E('image')}},'required':[a0_0x46d805(0x335),a0_0x46d805(0x19c)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'statusMessage':{'type':a0_0x46d805(0x1a3),'properties':{'type':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x80a),a0_0x46d805(0x633),a0_0x46d805(0x451),'video']},'content':{'type':a0_0x46d805(0x12c)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x46d805(0x12c)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x46d805(0x7d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x46d805(0x12c),'pattern':'^\x5cd+','description':a0_0x46d805(0x2d7)}},'allContacts':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]}},'required':[a0_0x46d805(0x319),a0_0x46d805(0x202)],...E(a0_0x46d805(0x319),a0_0x46d805(0x202))}},'required':[a0_0x46d805(0x595)]},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{...Y},'options':{...ae},'mediaMessage':{'type':a0_0x46d805(0x1a3),'properties':{'mediatype':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x633),a0_0x46d805(0x2c2),a0_0x46d805(0x4b6),a0_0x46d805(0x451)]},'media':{'type':a0_0x46d805(0x12c)},'fileName':{'type':a0_0x46d805(0x12c)},'caption':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x235),a0_0x46d805(0x6eb)],...E(a0_0x46d805(0x3e4),a0_0x46d805(0x5d2),a0_0x46d805(0x6eb))}},'required':['mediaMessage',a0_0x46d805(0x19c)]},ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'options':{...ae},'audioMessage':{'type':a0_0x46d805(0x1a3),'properties':{'audio':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x451)],...E('audio')}},'required':['audioMessage',a0_0x46d805(0x19c)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{...Y},'pollMessage':{'type':a0_0x46d805(0x1a3),'properties':{'name':{'type':a0_0x46d805(0x12c)},'selectableCount':{'type':a0_0x46d805(0x19c)},'values':{'type':a0_0x46d805(0x7d7),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x46d805(0x73f),'selectableCount',a0_0x46d805(0x687)],...E(a0_0x46d805(0x73f),a0_0x46d805(0x401),'values')}},'required':[a0_0x46d805(0x19c),a0_0x46d805(0x465)]},qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x46d805(0x12c)},'choices':{'type':a0_0x46d805(0x7d7),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x46d805(0x80a),'choices'],...E('text','choices')}},'required':[a0_0x46d805(0x19c),a0_0x46d805(0x7a5)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{...Y},'options':{...ae},'buttonMessage':{'type':a0_0x46d805(0x1a3),'properties':{'title':{'type':'string'},'description':{'type':a0_0x46d805(0x12c)},'footerText':{'type':a0_0x46d805(0x12c)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x46d805(0x1a3),'properties':{'buttonText':{'type':a0_0x46d805(0x12c)},'buttonId':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x36f),a0_0x46d805(0x5a7)],...E(a0_0x46d805(0x36f),a0_0x46d805(0x5a7))}},'mediaMessage':{'type':a0_0x46d805(0x1a3),'properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':'string','enum':['image','document',a0_0x46d805(0x4b6)]}},'required':[a0_0x46d805(0x6eb),a0_0x46d805(0x235)],...E(a0_0x46d805(0x6eb),a0_0x46d805(0x3e4))}},'required':['title',a0_0x46d805(0x3fb)],...E(a0_0x46d805(0x4e2),a0_0x46d805(0x4d1))}},'required':[a0_0x46d805(0x19c),'buttonMessage']},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{...Y},'options':{...ae},'locationMessage':{'type':a0_0x46d805(0x1a3),'properties':{'latitude':{'type':a0_0x46d805(0x19c)},'longitude':{'type':'number'},'name':{'type':a0_0x46d805(0x12c)},'address':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x716),a0_0x46d805(0x211)],...E('name','addresss')}},'required':[a0_0x46d805(0x19c),a0_0x46d805(0x77d)]},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{...Y},'options':{...ae},'listMessage':{'type':a0_0x46d805(0x1a3),'properties':{'title':{'type':a0_0x46d805(0x12c)},'description':{'type':a0_0x46d805(0x12c)},'footerText':{'type':a0_0x46d805(0x12c)},'buttonText':{'type':a0_0x46d805(0x12c)},'sections':{'type':a0_0x46d805(0x7d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x46d805(0x1a3),'properties':{'title':{'type':a0_0x46d805(0x12c)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x46d805(0x1a3),'properties':{'title':{'type':a0_0x46d805(0x12c)},'description':{'type':'string'},'rowId':{'type':a0_0x46d805(0x12c)}},'required':['title',a0_0x46d805(0x178)],...E('title',a0_0x46d805(0x178))}}},'required':['title',a0_0x46d805(0x3fd)],...E(a0_0x46d805(0x4e2))}}},'required':[a0_0x46d805(0x4e2),a0_0x46d805(0x4d1),a0_0x46d805(0x36f),'sections'],...E('title',a0_0x46d805(0x4d1),'buttonText',a0_0x46d805(0x635))}},'required':[a0_0x46d805(0x19c),a0_0x46d805(0x5dc)]},Wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'options':{...ae},'contactMessage':{'type':a0_0x46d805(0x7d7),'items':{'type':a0_0x46d805(0x1a3),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x46d805(0x265),a0_0x46d805(0x6b9)],...E(a0_0x46d805(0x265))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x46d805(0x19c),a0_0x46d805(0x7bf)]},za={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'reactionMessage':{'type':a0_0x46d805(0x1a3),'properties':{'key':{'type':a0_0x46d805(0x1a3),'properties':{'id':{'type':a0_0x46d805(0x12c)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x46d805(0x13a),a0_0x46d805(0x3ef)],...E('id',a0_0x46d805(0x13a))},'reaction':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x2da),'reaction'],...E(a0_0x46d805(0x693))}},'required':[a0_0x46d805(0x694)]},Ha={'$id':(0x0,v['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x46d805(0x12c),'pattern':a0_0x46d805(0x717),'description':a0_0x46d805(0x1c5)}}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'readMessages':{'type':a0_0x46d805(0x7d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x46d805(0x12c)},'fromMe':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x46d805(0x12c)}},'required':['id',a0_0x46d805(0x3ef),a0_0x46d805(0x13a)],...E('id',a0_0x46d805(0x13a))}}},'required':[a0_0x46d805(0x742)]},Qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x46d805(0x1a3),'properties':{'readreceipts':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x7fa),'none']},'profile':{'type':'string','enum':[a0_0x46d805(0x7fa),a0_0x46d805(0x5d8),a0_0x46d805(0x170),a0_0x46d805(0x2c4)]},'status':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x7fa),'contacts',a0_0x46d805(0x170),a0_0x46d805(0x2c4)]},'online':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x7fa),a0_0x46d805(0x6e8)]},'last':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x7fa),a0_0x46d805(0x5d8),a0_0x46d805(0x170),a0_0x46d805(0x2c4)]},'groupadd':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x7fa),a0_0x46d805(0x5d8),a0_0x46d805(0x170),'none']}},'required':[a0_0x46d805(0x31f),a0_0x46d805(0x55b),a0_0x46d805(0x499),a0_0x46d805(0x2b0),a0_0x46d805(0x2d0),a0_0x46d805(0x4b9)],...E(a0_0x46d805(0x31f),a0_0x46d805(0x55b),a0_0x46d805(0x499),a0_0x46d805(0x2b0),a0_0x46d805(0x2d0),a0_0x46d805(0x4b9))}},'required':[a0_0x46d805(0x5de)]},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x46d805(0x12c)},'remoteJid':{'type':a0_0x46d805(0x12c)},'fromMe':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x46d805(0x3ef),a0_0x46d805(0x13a)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x46d805(0x194),'minLength':0x1}},'required':[a0_0x46d805(0x2da)],...E('messageTimestamp')},'archive':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]}},'required':[a0_0x46d805(0x45d),'archive']},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'id':{'type':a0_0x46d805(0x12c)},'fromMe':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x46d805(0x12c)},'participant':{'type':a0_0x46d805(0x12c)}},'required':['id',a0_0x46d805(0x3ef),a0_0x46d805(0x13a)],...E('id',a0_0x46d805(0x13a),a0_0x46d805(0x375))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...E('_id','id','pushName')}}},ei={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'name':{'type':a0_0x46d805(0x12c)}},...E('name')},ti={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'status':{'type':'string'}},...E(a0_0x46d805(0x499))},xe={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x46d805(0x12c)}}},si={'type':'object','properties':{'wuid':{'type':a0_0x46d805(0x12c)},'name':{'type':a0_0x46d805(0x12c)},'picture':{'type':'string'},'status':{'type':a0_0x46d805(0x12c)},'isBusiness':{'type':a0_0x46d805(0x7e1)}}},ai={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x46d805(0x3ef),a0_0x46d805(0x13a),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x46d805(0x12c),'minLength':0x1,'description':a0_0x46d805(0x800)},'id':{'type':'string','minLength':0x1,'description':a0_0x46d805(0x800)},'fromMe':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x46d805(0x1ed))},'limit':{'type':a0_0x46d805(0x194)}}},Sc={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'where':{'type':a0_0x46d805(0x1a3),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x46d805(0x12c)},'id':{'type':a0_0x46d805(0x12c)},'fromMe':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x46d805(0x12c)},'status':{'type':'string','enum':['ERROR',a0_0x46d805(0x308),a0_0x46d805(0x5a9),a0_0x46d805(0x3b2),a0_0x46d805(0x280),a0_0x46d805(0x438)]}},...E('_id',a0_0x46d805(0x13a),'id',a0_0x46d805(0x499))},'limit':{'type':a0_0x46d805(0x194)}}},ii={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Y},'presence':{'type':a0_0x46d805(0x12c),'enum':['unavailable',a0_0x46d805(0x514),'composing',a0_0x46d805(0x71e),'paused']}},'required':[a0_0x46d805(0x820),a0_0x46d805(0x19c)]},oi={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'subject':{'type':a0_0x46d805(0x12c)},'description':{'type':'string'},'profilePicture':{'type':a0_0x46d805(0x12c)},'participants':{'type':a0_0x46d805(0x7d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x46d805(0x4f9),'description':a0_0x46d805(0x83d)}}},'required':[a0_0x46d805(0x26c),a0_0x46d805(0x780)],...E(a0_0x46d805(0x26c),a0_0x46d805(0x4d1),a0_0x46d805(0x445))},De={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'groupJid':{'type':a0_0x46d805(0x12c),'pattern':a0_0x46d805(0x389)}},'required':['groupJid'],...E('groupJid')},ri={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x46d805(0x12c),'enum':[a0_0x46d805(0x70c),a0_0x46d805(0x60e),a0_0x46d805(0x547),a0_0x46d805(0x436),'reject',a0_0x46d805(0x1b4)]},'participants':{'type':a0_0x46d805(0x7d7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x46d805(0x12c),'minLength':0xa,'pattern':a0_0x46d805(0x4f9),'description':a0_0x46d805(0x83d)}}},'required':[a0_0x46d805(0x53c),'action',a0_0x46d805(0x780)],...E(a0_0x46d805(0x53c),a0_0x46d805(0x4ec))},ni={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x46d805(0x53c),a0_0x46d805(0x19e)],...E(a0_0x46d805(0x53c),'expiration')},ci={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x46d805(0x12c)},'image':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x53c),'image'],...E('groupJid',a0_0x46d805(0x633))},li={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x53c),a0_0x46d805(0x4d1)],...E('groupJid',a0_0x46d805(0x4d1))},ui={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'groupJid':{'type':a0_0x46d805(0x12c)},'name':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x53c),a0_0x46d805(0x73f)],...E(a0_0x46d805(0x53c),'name')},di={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x46d805(0x12c)},'setting':{'type':a0_0x46d805(0x12c),'enum':['announcement',a0_0x46d805(0x254),a0_0x46d805(0x658),a0_0x46d805(0x13f)]}},'required':[a0_0x46d805(0x53c),'setting'],...E(a0_0x46d805(0x53c),a0_0x46d805(0x11e))},pi={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'groupJid':{'type':a0_0x46d805(0x12c)},'restrict':{'type':a0_0x46d805(0x7e1)},'announce':{'type':a0_0x46d805(0x7e1)},'memberAddMode':{'type':a0_0x46d805(0x7e1)},'joinApprovalMode':{'type':a0_0x46d805(0x7e1)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x46d805(0x12c)},'description':{'type':a0_0x46d805(0x12c)},'image':{'type':a0_0x46d805(0x12c)}}},Ns={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'inviteCode':{'type':a0_0x46d805(0x12c)}},'required':[a0_0x46d805(0x78b)],...E(a0_0x46d805(0x78b))},hi={'$id':(0x0,v['v4'])(),'type':a0_0x46d805(0x1a3),'properties':{'url':{'type':a0_0x46d805(0x12c)},'enabled':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]}},'required':[a0_0x46d805(0x5e7),'enabled']},Mc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x46d805(0x7e1),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x46d805(0x68a),a0_0x46d805(0x1d0),a0_0x46d805(0x6c6),a0_0x46d805(0x1c6),a0_0x46d805(0x70e),a0_0x46d805(0x1d7),'CONTACTS_SET',a0_0x46d805(0x4c4),a0_0x46d805(0x192),a0_0x46d805(0x12b),a0_0x46d805(0x655),a0_0x46d805(0x3d4),'CHATS_UPDATE',a0_0x46d805(0x21c),'CONNECTION_UPDATE',a0_0x46d805(0x229),'GROUPS_UPDATE',a0_0x46d805(0x43f)],...E(a0_0x46d805(0x487),a0_0x46d805(0x68a),'QRCODE_UPDATED',a0_0x46d805(0x6c6),'MESSAGES_UPDATE',a0_0x46d805(0x70e),a0_0x46d805(0x1d7),a0_0x46d805(0x697),a0_0x46d805(0x4c4),a0_0x46d805(0x192),a0_0x46d805(0x12b),'CHATS_SET','CHATS_UPSERT',a0_0x46d805(0x74a),a0_0x46d805(0x21c),a0_0x46d805(0x682),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x46d805(0x43f))},ct=class{},lt=class extends O{['getContactModelForOwner'](_0x5ea1a1){return ia(_0x5ea1a1);}async[a0_0x46d805(0x752)](_0x1eb9e3){const _0x54602d=a0_0x46d805;if(_0x1eb9e3[_0x54602d(0x47a)]!==0x0)try{return{'insertCount':(await this[_0x54602d(0x486)](_0x1eb9e3[0x0][_0x54602d(0x237)])[_0x54602d(0x2a6)]([..._0x1eb9e3]))[_0x54602d(0x47a)]};}catch(_0x171cb8){return _0x171cb8;}}async[a0_0x46d805(0x835)](_0x52b456,_0x377afd){const _0x393e12=a0_0x46d805;try{return{'deletedCount':(await this[_0x393e12(0x486)](_0x377afd)[_0x393e12(0x2c3)]({..._0x52b456[_0x393e12(0x496)]}))['deletedCount']};}catch(_0x3a8202){return{'error':_0x3a8202?.[_0x393e12(0x821)]()};}}async[a0_0x46d805(0x5a5)](_0x5acf10,_0x5464dc){const _0x4be769=a0_0x46d805;try{if(_0x5acf10[_0x4be769(0x47a)]===0x0)return;let _0x5e35b7=this['getContactModelForOwner'](_0x5464dc),_0x5600c3=_0x5acf10[_0x4be769(0x1bd)](_0x1d04db=>({'updateOne':{'filter':{'_id':_0x1d04db[_0x4be769(0x1ed)],'owner':_0x5464dc},'update':{..._0x1d04db}}})),{modifiedCount:_0x12077a}=await _0x5e35b7[_0x4be769(0x610)](_0x5600c3);return{'insertCount':_0x12077a};}catch{return;}}async[a0_0x46d805(0x3d2)](_0x409a65,_0x3e3375){const _0x508ccc=a0_0x46d805;try{let _0x203ba9=this[_0x508ccc(0x486)](_0x3e3375),_0xd8947a=T(_0x409a65['where']);return await _0x203ba9[_0x508ccc(0x3d2)](_0xd8947a)[_0x508ccc(0x5e3)](_0x409a65?.['limit']??0x0)[_0x508ccc(0x2e5)]();}catch{return[];}}async['findOne'](_0x34ed80,_0x51ca20){const _0x10a8e8=a0_0x46d805;try{let _0x451634=this[_0x10a8e8(0x486)](_0x51ca20),_0x176902=T(_0x34ed80[_0x10a8e8(0x496)]);return await _0x451634[_0x10a8e8(0x104)](_0x176902)[_0x10a8e8(0x2e5)]();}catch{return null;}}async[a0_0x46d805(0x6f5)](_0x2b6ab0){const _0x20f9d0=a0_0x46d805;try{return await this['getContactModelForOwner'](_0x2b6ab0)[_0x20f9d0(0x5d3)][_0x20f9d0(0x688)](),{'success':!0x0};}catch(_0x5ed061){return console['error'](_0x5ed061),{'success':!0x1,'error':_0x5ed061};}}},ut=require(a0_0x46d805(0x145)),Tc=require(a0_0x46d805(0x488)),$s=new $(a0_0x46d805(0x15b)),W=class{[a0_0x46d805(0x2e9)](_0xbf66c3,_0x2b6e80=!0x0){const _0x4be9bd=a0_0x46d805;let _0x176ad3='/'+_0xbf66c3;return _0x2b6e80&&(_0x176ad3+=_0x4be9bd(0x51c)),_0x176ad3;}async[a0_0x46d805(0x15a)](_0xa20b29){const _0x3c0e08=a0_0x46d805;let {request:_0x14aa8c,schema:_0x470da7,ClassRef:_0x196d75,execute:_0x4b5964}=_0xa20b29,_0x5902a9=new _0x196d75(),_0x1e2a95=_0x14aa8c[_0x3c0e08(0x7fc)],_0x845100=_0x14aa8c[_0x3c0e08(0x45c)];_0x14aa8c?.[_0x3c0e08(0x2cd)]&&Object[_0x3c0e08(0x5f6)](_0x14aa8c[_0x3c0e08(0x2cd)])[_0x3c0e08(0x47a)]>0x0&&Object[_0x3c0e08(0x3d5)](_0x845100,_0x14aa8c[_0x3c0e08(0x2cd)]),_0x14aa8c[_0x3c0e08(0x249)][_0x3c0e08(0x7ff)](_0x3c0e08(0x302))&&Object[_0x3c0e08(0x3d5)](_0x845100,_0x1e2a95),Object[_0x3c0e08(0x3d5)](_0x5902a9,_0x1e2a95);let _0x4fff7e=_0x470da7?(0x0,ut[_0x3c0e08(0x31c)])(_0x5902a9,_0x470da7):{'valid':!0x0,'errors':[]};if(!_0x4fff7e[_0x3c0e08(0x476)]){let _0x37e97d=_0x4fff7e[_0x3c0e08(0x29b)][_0x3c0e08(0x1bd)](({property:_0x11d3a8,stack:_0x2ea1e1,schema:_0x3885b0})=>{const _0x5694f3=_0x3c0e08;let _0x551f80;return _0x3885b0[_0x5694f3(0x4d1)]?_0x551f80=_0x3885b0['description']:_0x551f80=_0x2ea1e1['replace']('instance.',''),{'property':_0x11d3a8[_0x5694f3(0x1cd)]('instance.',''),'message':_0x551f80};});throw $s[_0x3c0e08(0x7ba)]([..._0x37e97d]),new m(..._0x37e97d);}return await _0x4b5964(_0x845100,_0x5902a9);}async[a0_0x46d805(0x2c9)](_0x26dd64){const _0x3265fc=a0_0x46d805;let {request:_0x45c9ab,ClassRef:_0x10d432,schema:_0x14d6db,execute:_0x51f43d}=_0x26dd64,_0x53f65d=_0x45c9ab[_0x3265fc(0x2cd)];if(!_0x53f65d?.[_0x3265fc(0x53c)])throw new m(_0x3265fc(0x7db),_0x3265fc(0x481));let _0x365bf4=_0x45c9ab[_0x3265fc(0x45c)],_0x24db06=_0x45c9ab[_0x3265fc(0x7fc)],_0x5c32b5=new _0x10d432();Object[_0x3265fc(0x3d5)](_0x24db06,_0x53f65d),Object[_0x3265fc(0x3d5)](_0x5c32b5,_0x24db06);let _0x28ad4c=(0x0,ut[_0x3265fc(0x31c)])(_0x5c32b5,_0x14d6db);if(!_0x28ad4c[_0x3265fc(0x476)]){let _0x55c0d1=_0x28ad4c[_0x3265fc(0x29b)]['map'](({property:_0x1738c0,stack:_0xa52438,schema:_0x1214e8})=>{const _0x4ea57a=_0x3265fc;let _0x153a19;return _0x1214e8[_0x4ea57a(0x4d1)]?_0x153a19=_0x1214e8[_0x4ea57a(0x4d1)]:_0x153a19=_0xa52438[_0x4ea57a(0x1cd)](_0x4ea57a(0x66b),''),{'property':_0x1738c0[_0x4ea57a(0x1cd)](_0x4ea57a(0x66b),''),'message':_0x153a19};});throw $s[_0x3265fc(0x7ba)]([..._0x55c0d1]),new m(..._0x55c0d1);}return await _0x51f43d(_0x365bf4,_0x5c32b5);}async[a0_0x46d805(0x376)](_0xfd4501){const _0x56ce93=a0_0x46d805;let {request:_0x35948b,ClassRef:_0xe9f550,schema:_0x1bc384,execute:_0xad0878}=_0xfd4501,_0x363bca=_0x35948b[_0x56ce93(0x7fc)];if(!_0x363bca?.[_0x56ce93(0x78b)])throw new m(_0x56ce93(0x31e),_0x56ce93(0x624));let _0x5ac89d=_0x35948b[_0x56ce93(0x45c)],_0x51526e=_0x35948b[_0x56ce93(0x7fc)],_0x170dfa=new _0xe9f550();Object['assign'](_0x51526e,_0x363bca),Object['assign'](_0x170dfa,_0x51526e);let _0x15f26a=(0x0,ut[_0x56ce93(0x31c)])(_0x170dfa,_0x1bc384);if(!_0x15f26a[_0x56ce93(0x476)]){let _0x2ba1e4=_0x15f26a[_0x56ce93(0x29b)][_0x56ce93(0x1bd)](({property:_0x8598ff,stack:_0x20d4ba,schema:_0xe6755d})=>{const _0x3884be=_0x56ce93;let _0x3314e6;return _0xe6755d[_0x3884be(0x4d1)]?_0x3314e6=_0xe6755d[_0x3884be(0x4d1)]:_0x3314e6=_0x20d4ba[_0x3884be(0x1cd)](_0x3884be(0x66b),''),{'property':_0x8598ff[_0x3884be(0x1cd)](_0x3884be(0x66b),''),'message':_0x3314e6};});throw $s[_0x56ce93(0x7ba)]([..._0x2ba1e4]),new m(..._0x2ba1e4);}return await _0xad0878(_0x5ac89d,_0x170dfa);}},M=class{},Bc=new $(a0_0x46d805(0x79f)),dt=class extends W{constructor(..._0xb9373f){const _0x22c647=a0_0x46d805;super(),this[_0x22c647(0x1c8)]=(0x0,gi[_0x22c647(0x39c)])(),this[_0x22c647(0x1c8)][_0x22c647(0x25f)](this[_0x22c647(0x2e9)](_0x22c647(0x5a4)),..._0xb9373f,async(_0x1d40dc,_0x45ffa9)=>{const _0x194495=_0x22c647;let _0x50db15=await this[_0x194495(0x15a)]({'request':_0x1d40dc,'schema':ii,'ClassRef':Ze,'execute':(_0x54d8bb,_0x4dbc29)=>k[_0x194495(0x5a4)](_0x54d8bb,_0x4dbc29)});return _0x45ffa9[_0x194495(0x499)](0xc9)['json'](_0x50db15);})[_0x22c647(0x25f)](this[_0x22c647(0x2e9)](_0x22c647(0x177)),..._0xb9373f,async(_0x529978,_0x2805dd)=>{const _0x33df88=_0x22c647;let _0x15e090=await this['dataValidate']({'request':_0x529978,'schema':Ha,'ClassRef':et,'execute':(_0x158b89,_0x2daa22)=>k[_0x33df88(0x342)](_0x158b89,_0x2daa22)});return _0x2805dd[_0x33df88(0x499)](0xc9)[_0x33df88(0x149)](_0x15e090);})[_0x22c647(0x25f)](this[_0x22c647(0x2e9)]('editChat'),..._0xb9373f,async(_0x3e7895,_0x14f1ea)=>{const _0x4cbb3e=_0x22c647;let _0x4094e5=await this[_0x4cbb3e(0x15a)]({'request':_0x3e7895,'schema':N,'ClassRef':M,'execute':(_0xdeea2b,_0x1eae2d)=>k[_0x4cbb3e(0x5c9)](_0xdeea2b,_0x1eae2d)});return _0x14f1ea[_0x4cbb3e(0x499)](0xc9)['json'](_0x4094e5);})[_0x22c647(0x579)](this['routerPath']('markMessageAsRead'),..._0xb9373f,async(_0x2cbbe3,_0x10596b)=>{const _0x923b43=_0x22c647;let _0x58ab00=await this['dataValidate']({'request':_0x2cbbe3,'schema':Ka,'ClassRef':at,'execute':(_0x1f5ed3,_0x3200eb)=>k[_0x923b43(0x2b7)](_0x1f5ed3,_0x3200eb)});return _0x10596b[_0x923b43(0x499)](0xc9)['json'](_0x58ab00);})[_0x22c647(0x579)](this[_0x22c647(0x2e9)]('archiveChat'),..._0xb9373f,async(_0xf74e9b,_0x5d0552)=>{const _0x26ca66=_0x22c647;let _0x19b3cf=await this['dataValidate']({'request':_0xf74e9b,'schema':Ya,'ClassRef':it,'execute':(_0x348ab6,_0x23e1fd)=>k[_0x26ca66(0x813)](_0x348ab6,_0x23e1fd)});return _0x5d0552[_0x26ca66(0x499)](0xc9)[_0x26ca66(0x149)](_0x19b3cf);})['delete'](this[_0x22c647(0x2e9)](_0x22c647(0x2b2)),..._0xb9373f,async(_0x584da5,_0x4a5726)=>{const _0x5e6d61=_0x22c647;let _0x407389=await this['dataValidate']({'request':_0x584da5,'schema':Xa,'ClassRef':rt,'execute':(_0x543d86,_0x4b178e)=>k[_0x5e6d61(0x6f8)](_0x543d86,_0x4b178e)});return _0x4a5726[_0x5e6d61(0x499)](0xc9)['json'](_0x407389);})[_0x22c647(0x25f)](this[_0x22c647(0x2e9)](_0x22c647(0x7a1)),..._0xb9373f,async(_0xe18298,_0x565bc3)=>{const _0x44801f=_0x22c647;let _0x187997=await this[_0x44801f(0x15a)]({'request':_0xe18298,'schema':xe,'ClassRef':_e,'execute':(_0x30868d,_0x32ece5)=>k['fetchProfilePicture'](_0x30868d,_0x32ece5)});return _0x565bc3['status'](0xc8)['json'](_0x187997);})[_0x22c647(0x25f)](this[_0x22c647(0x2e9)](_0x22c647(0x495)),..._0xb9373f,async(_0x5252f6,_0x2270a6)=>{const _0x1dce63=_0x22c647;let _0x200679=await this[_0x1dce63(0x15a)]({'request':_0x5252f6,'schema':si,'ClassRef':_e,'execute':(_0x5c156c,_0x13284a)=>k[_0x1dce63(0x495)](_0x5c156c,_0x13284a)});return _0x2270a6[_0x1dce63(0x499)](0xc8)[_0x1dce63(0x149)](_0x200679);})['post'](this[_0x22c647(0x2e9)](_0x22c647(0x667)),..._0xb9373f,async(_0x51c828,_0x321de4)=>{const _0x1ec417=_0x22c647;let _0x57bcb0=await this['dataValidate']({'request':_0x51c828,'schema':Za,'ClassRef':ct,'execute':(_0x54bb16,_0x29d01a)=>k[_0x1ec417(0x68b)](_0x54bb16,_0x29d01a)});return _0x321de4[_0x1ec417(0x499)](0xc8)[_0x1ec417(0x149)](_0x57bcb0);})[_0x22c647(0x25f)](this[_0x22c647(0x2e9)]('getBase64FromMediaMessage'),..._0xb9373f,async(_0xd5c51f,_0x18e829)=>{const _0x5d967d=_0x22c647;let _0x876852=await this['dataValidate']({'request':_0xd5c51f,'schema':null,'ClassRef':Object,'execute':(_0xe13e76,_0x27b823)=>k[_0x5d967d(0x4a8)](_0xe13e76,_0x27b823)});return _0x18e829[_0x5d967d(0x499)](0xc9)['json'](_0x876852);})[_0x22c647(0x25f)](this[_0x22c647(0x2e9)](_0x22c647(0x430)),..._0xb9373f,async(_0x1b050c,_0x13cb73)=>{const _0x123ddb=_0x22c647;let _0x3268bc=await this[_0x123ddb(0x15a)]({'request':_0x1b050c,'schema':ai,'ClassRef':Ye,'execute':(_0x34d0e9,_0x1c6403)=>k[_0x123ddb(0x2ff)](_0x34d0e9,_0x1c6403)});return _0x13cb73[_0x123ddb(0x499)](0xc8)['json'](_0x3268bc);})[_0x22c647(0x1ae)](this[_0x22c647(0x2e9)]('findChats'),..._0xb9373f,async(_0x2b6a8b,_0x49369a)=>{const _0x2c1a61=_0x22c647;let _0xedfcf4=await this[_0x2c1a61(0x15a)]({'request':_0x2b6a8b,'schema':null,'ClassRef':M,'execute':_0x451d90=>k[_0x2c1a61(0x1fd)](_0x451d90)});return _0x49369a['status'](0xc8)['json'](_0xedfcf4);})[_0x22c647(0x1ae)](this['routerPath'](_0x22c647(0x509)),..._0xb9373f,async(_0x36b2e8,_0x104229)=>{const _0x3a439d=_0x22c647;let _0x50a877=await this[_0x3a439d(0x15a)]({'request':_0x36b2e8,'schema':null,'ClassRef':M,'execute':_0x2712ca=>k[_0x3a439d(0x6a8)](_0x2712ca)});return _0x104229[_0x3a439d(0x499)](0xc8)[_0x3a439d(0x149)](_0x50a877);})['put'](this[_0x22c647(0x2e9)](_0x22c647(0x305)),..._0xb9373f,async(_0x18eb91,_0x3109f1)=>{const _0xcd9633=_0x22c647;let _0x379834=await this['dataValidate']({'request':_0x18eb91,'schema':null,'ClassRef':Array,'execute':(_0x43a8b6,_0x2cecb9)=>k[_0xcd9633(0x305)](_0x43a8b6,_0x2cecb9)});return _0x3109f1[_0xcd9633(0x499)](0xc8)[_0xcd9633(0x149)](_0x379834);})[_0x22c647(0x1ae)](this[_0x22c647(0x2e9)](_0x22c647(0x4f5)),..._0xb9373f,async(_0x10b5c1,_0x8def9a)=>{const _0x8bbb4b=_0x22c647;let _0x53995e=await this[_0x8bbb4b(0x15a)]({'request':_0x10b5c1,'schema':null,'ClassRef':M,'execute':_0x4d46bc=>k[_0x8bbb4b(0x4f5)](_0x4d46bc)});return _0x8def9a[_0x8bbb4b(0x499)](0xc8)[_0x8bbb4b(0x149)](_0x53995e);})[_0x22c647(0x579)](this['routerPath'](_0x22c647(0x491)),..._0xb9373f,async(_0x11e485,_0x4cd9f0)=>{const _0x19da90=_0x22c647;let _0x149761=await this[_0x19da90(0x15a)]({'request':_0x11e485,'schema':Qa,'ClassRef':ot,'execute':(_0x507766,_0x5b1188)=>k['updatePrivacySettings'](_0x507766,_0x5b1188)});return _0x4cd9f0[_0x19da90(0x499)](0xc9)[_0x19da90(0x149)](_0x149761);})[_0x22c647(0x25f)](this['routerPath']('fetchBusinessProfile'),..._0xb9373f,async(_0x2d790e,_0x31025b)=>{const _0x43924f=_0x22c647;let _0x97794=await this['dataValidate']({'request':_0x2d790e,'schema':xe,'ClassRef':ve,'execute':(_0x5c1c02,_0x566006)=>k[_0x43924f(0x255)](_0x5c1c02,_0x566006)});return _0x31025b[_0x43924f(0x499)](0xc8)['json'](_0x97794);})[_0x22c647(0x25f)](this[_0x22c647(0x2e9)](_0x22c647(0x6aa)),..._0xb9373f,async(_0x2afe40,_0x541e1b)=>{const _0x5067c0=_0x22c647;let _0xc885b6=await this['dataValidate']({'request':_0x2afe40,'schema':ei,'ClassRef':tt,'execute':(_0x2ec7d1,_0x3886b1)=>k[_0x5067c0(0x6aa)](_0x2ec7d1,_0x3886b1)});return _0x541e1b[_0x5067c0(0x499)](0xc8)[_0x5067c0(0x149)](_0xc885b6);})['post'](this['routerPath'](_0x22c647(0x48d)),..._0xb9373f,async(_0x474e62,_0x5e1966)=>{const _0x326c78=_0x22c647;let _0xaf257b=await this[_0x326c78(0x15a)]({'request':_0x474e62,'schema':ti,'ClassRef':st,'execute':(_0x54fa3b,_0x554269)=>k['updateProfileStatus'](_0x54fa3b,_0x554269)});return _0x5e1966[_0x326c78(0x499)](0xc8)['json'](_0xaf257b);})[_0x22c647(0x579)](this[_0x22c647(0x2e9)](_0x22c647(0x43a)),..._0xb9373f,async(_0x37e5d6,_0x2534d7)=>{const _0x3f6b69=_0x22c647;let _0x4ca785=await this[_0x3f6b69(0x15a)]({'request':_0x37e5d6,'schema':xe,'ClassRef':ve,'execute':(_0x1532b1,_0x4d8ab4)=>k[_0x3f6b69(0x43a)](_0x1532b1,_0x4d8ab4)});return _0x2534d7[_0x3f6b69(0x499)](0xc8)[_0x3f6b69(0x149)](_0x4ca785);})['delete'](this[_0x22c647(0x2e9)](_0x22c647(0x1df)),..._0xb9373f,async(_0x5a1a94,_0x40f122)=>{const _0x4824f1=_0x22c647;let _0x5b9be5=await this[_0x4824f1(0x15a)]({'request':_0x5a1a94,'schema':xe,'ClassRef':ve,'execute':(_0x5ae20d,_0xdecdd7)=>k['removeProfilePicture'](_0x5ae20d,_0xdecdd7)});return _0x40f122[_0x4824f1(0x499)](0xc8)[_0x4824f1(0x149)](_0x5b9be5);});}},mi=require(a0_0x46d805(0x3e1)),pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},ie=class{},Pe=class{},yt=class extends ie{},bt=class extends ie{},St=class extends W{constructor(..._0x4fd5a9){const _0x2e8216=a0_0x46d805;super(),this['router']=(0x0,mi[_0x2e8216(0x39c)])(),this['router'][_0x2e8216(0x25f)](this['routerPath'](_0x2e8216(0x78a)),..._0x4fd5a9,async(_0x1fe10f,_0x36c664)=>{const _0x454e70=_0x2e8216;let _0x1ed576=await this[_0x454e70(0x15a)]({'request':_0x1fe10f,'schema':oi,'ClassRef':pt,'execute':(_0x24bcff,_0x21e1f2)=>G[_0x454e70(0x167)](_0x24bcff,_0x21e1f2)});_0x36c664[_0x454e70(0x499)](0xc9)[_0x454e70(0x149)](_0x1ed576);})[_0x2e8216(0x579)](this['routerPath'](_0x2e8216(0x756)),..._0x4fd5a9,async(_0x410330,_0x4843e5)=>{const _0xbcdc74=_0x2e8216;let _0x2e4fee=await this['groupValidate']({'request':_0x410330,'schema':ci,'ClassRef':ht,'execute':(_0x40446c,_0x20484d)=>G[_0xbcdc74(0x756)](_0x40446c,_0x20484d)});_0x4843e5[_0xbcdc74(0x499)](0xc9)[_0xbcdc74(0x149)](_0x2e4fee);})[_0x2e8216(0x579)](this[_0x2e8216(0x2e9)](_0x2e8216(0x7fe)),..._0x4fd5a9,async(_0xe105ad,_0x1da172)=>{const _0x5d571b=_0x2e8216;let _0xf67d8c=await this[_0x5d571b(0x2c9)]({'request':_0xe105ad,'schema':li,'ClassRef':gt,'execute':(_0xdc11cc,_0x1ce2e6)=>G['groupDesc'](_0xdc11cc,_0x1ce2e6)});_0x1da172['status'](0xc9)['json'](_0xf67d8c);})[_0x2e8216(0x579)](this[_0x2e8216(0x2e9)](_0x2e8216(0x44b)),..._0x4fd5a9,async(_0x4067f8,_0x988f41)=>{const _0x2d79e2=_0x2e8216;let _0x11ebab=await this[_0x2d79e2(0x2c9)]({'request':_0x4067f8,'schema':ui,'ClassRef':mt,'execute':(_0x34126d,_0xe4912b)=>G[_0x2d79e2(0x44b)](_0x34126d,_0xe4912b)});_0x988f41[_0x2d79e2(0x499)](0xc9)[_0x2d79e2(0x149)](_0x11ebab);})['put'](this[_0x2e8216(0x2e9)](_0x2e8216(0x3ba)),..._0x4fd5a9,async(_0xfcdc1a,_0x217e0a)=>{const _0x2ae2f9=_0x2e8216;let _0x2257a9=await this[_0x2ae2f9(0x2c9)]({'request':_0xfcdc1a,'schema':pi,'ClassRef':wt,'execute':(_0x524d77,_0x335743)=>G[_0x2ae2f9(0x3ba)](_0x524d77,_0x335743)});_0x217e0a[_0x2ae2f9(0x499)](0xc9)[_0x2ae2f9(0x149)](_0x2257a9);})['put'](this[_0x2e8216(0x2e9)](_0x2e8216(0x3e2)),..._0x4fd5a9,async(_0x4e2a00,_0x2ba945)=>{const _0x3f29b5=_0x2e8216;let _0x516cbf=await this[_0x3f29b5(0x2c9)]({'request':_0x4e2a00,'schema':di,'ClassRef':ft,'execute':(_0x42af16,_0xc68c3e)=>G[_0x3f29b5(0x3e2)](_0x42af16,_0xc68c3e)});_0x2ba945['status'](0xc9)[_0x3f29b5(0x149)](_0x516cbf);})[_0x2e8216(0x579)](this[_0x2e8216(0x2e9)](_0x2e8216(0x703)),..._0x4fd5a9,async(_0x262fb0,_0x69a2ef)=>{const _0x2ff0f7=_0x2e8216;let _0x2d8cc6=await this[_0x2ff0f7(0x2c9)]({'request':_0x262fb0,'schema':ni,'ClassRef':bt,'execute':(_0x4cde3e,_0x5a7458)=>G['toggleEphemeral'](_0x4cde3e,_0x5a7458)});_0x69a2ef[_0x2ff0f7(0x499)](0xc9)[_0x2ff0f7(0x149)](_0x2d8cc6);})['get'](this[_0x2e8216(0x2e9)](_0x2e8216(0x3e0)),..._0x4fd5a9,async(_0x490e05,_0x481d06)=>{const _0x19785c=_0x2e8216;let _0x2c1ff4=await this['groupValidate']({'request':_0x490e05,'schema':De,'ClassRef':ie,'execute':(_0x3c5a25,_0x39ba62)=>G[_0x19785c(0x659)](_0x3c5a25,_0x39ba62)});_0x481d06[_0x19785c(0x499)](0xc8)[_0x19785c(0x149)](_0x2c1ff4);})[_0x2e8216(0x1ae)](this[_0x2e8216(0x2e9)](_0x2e8216(0x7b8)),..._0x4fd5a9,async(_0x2b1ea8,_0x1750e5)=>{const _0x221caf=_0x2e8216;let _0xe8d011=await this['dataValidate']({'request':_0x2b1ea8,'schema':N,'ClassRef':M,'execute':_0x556062=>G[_0x221caf(0x7b8)](_0x556062)});_0x1750e5[_0x221caf(0x499)](0xc8)[_0x221caf(0x149)](_0xe8d011);})['get'](this[_0x2e8216(0x2e9)](_0x2e8216(0x780)),..._0x4fd5a9,async(_0x45e9e8,_0x3aa092)=>{const _0x52dbe3=_0x2e8216;let _0x347bd4=await this[_0x52dbe3(0x2c9)]({'request':_0x45e9e8,'schema':De,'ClassRef':ie,'execute':(_0x1e2474,_0x1f2a22)=>G[_0x52dbe3(0x251)](_0x1e2474,_0x1f2a22)});_0x3aa092[_0x52dbe3(0x499)](0xc8)[_0x52dbe3(0x149)](_0x347bd4);})[_0x2e8216(0x1ae)](this[_0x2e8216(0x2e9)](_0x2e8216(0x78b)),..._0x4fd5a9,async(_0x406d8f,_0x2314b4)=>{const _0x14c5b2=_0x2e8216;let _0x3b233c=await this[_0x14c5b2(0x2c9)]({'request':_0x406d8f,'schema':De,'ClassRef':ie,'execute':(_0x204121,_0x182d86)=>G[_0x14c5b2(0x78b)](_0x204121,_0x182d86)});_0x2314b4[_0x14c5b2(0x499)](0xc8)[_0x14c5b2(0x149)](_0x3b233c);})[_0x2e8216(0x25f)](this['routerPath']('inviteCodeDetails'),..._0x4fd5a9,async(_0x26422e,_0x490750)=>{const _0x2aa164=_0x2e8216;let _0x54e86c=await this[_0x2aa164(0x376)]({'request':_0x26422e,'schema':Ns,'ClassRef':Pe,'execute':(_0x414e1,_0x262d0c)=>G[_0x2aa164(0x72b)](_0x414e1,_0x262d0c)});_0x490750[_0x2aa164(0x499)](0xc9)[_0x2aa164(0x149)](_0x54e86c);})[_0x2e8216(0x579)](this['routerPath'](_0x2e8216(0x55f)),..._0x4fd5a9,async(_0x35ad63,_0x164c5e)=>{const _0x4d669f=_0x2e8216;let _0x662c32=await this[_0x4d669f(0x376)]({'request':_0x35ad63,'schema':Ns,'ClassRef':Pe,'execute':(_0x568b9e,_0x4e7b38)=>G['joinGroup'](_0x568b9e,_0x4e7b38)});_0x164c5e[_0x4d669f(0x499)](0xc9)['json'](_0x662c32);})[_0x2e8216(0x579)](this[_0x2e8216(0x2e9)](_0x2e8216(0x2f6)),..._0x4fd5a9,async(_0x28997a,_0x4ca801)=>{const _0x1a7fc6=_0x2e8216;let _0x5a50a0=await this[_0x1a7fc6(0x2c9)]({'request':_0x28997a,'schema':De,'ClassRef':ie,'execute':(_0x46012f,_0x286b23)=>G['revokeInviteCode'](_0x46012f,_0x286b23)});_0x4ca801['status'](0xc9)[_0x1a7fc6(0x149)](_0x5a50a0);})[_0x2e8216(0x579)](this[_0x2e8216(0x2e9)]('updateParticipant'),..._0x4fd5a9,async(_0x38ed7b,_0x13505c)=>{const _0x1da13f=_0x2e8216;let _0x2f5f46=await this[_0x1da13f(0x2c9)]({'request':_0x38ed7b,'schema':ri,'ClassRef':yt,'execute':(_0xe49e2a,_0x59f889)=>G['updateGParticipate'](_0xe49e2a,_0x59f889)});_0x13505c[_0x1da13f(0x499)](0xc9)[_0x1da13f(0x149)](_0x2f5f46);})['delete'](this[_0x2e8216(0x2e9)](_0x2e8216(0x447)),..._0x4fd5a9,async(_0x95e2d0,_0x4b5547)=>{const _0x3f232b=_0x2e8216;let _0x426989=await this[_0x3f232b(0x2c9)]({'request':_0x95e2d0,'schema':{},'ClassRef':ie,'execute':(_0x1c21de,_0x5cba53)=>G[_0x3f232b(0x447)](_0x1c21de,_0x5cba53)});_0x4b5547[_0x3f232b(0x499)](0xc8)['json'](_0x426989);});}},fi=require(a0_0x46d805(0x3e1)),Mt=class extends W{constructor(_0x53214c,..._0x448ee4){const _0x551715=a0_0x46d805;super(),this['configService']=_0x53214c,this[_0x551715(0x1c8)]=(0x0,fi[_0x551715(0x39c)])();let _0x284630=_0x53214c['get'](_0x551715(0x4d6));this[_0x551715(0x1c8)][_0x551715(0x25f)]('/create',..._0x448ee4,async(_0x12f42e,_0x2ca364)=>{const _0x1f4e1c=_0x551715;let {instanceName:_0x4bbb8b,apikey:_0x48a971,number:_0x17e3b0}=_0x12f42e[_0x1f4e1c(0x7fc)],_0x50b7b=await he[_0x1f4e1c(0x2dc)]({'instanceName':_0x4bbb8b,'apikey':_0x48a971,'number':_0x17e3b0});return _0x2ca364[_0x1f4e1c(0x499)](0xc9)[_0x1f4e1c(0x149)](_0x50b7b);})[_0x551715(0x579)](this['routerPath'](_0x551715(0x300)),..._0x448ee4,async(_0xe50e27,_0xf37ede)=>{const _0x2701bf=_0x551715;let _0x3506d0=await this[_0x2701bf(0x15a)]({'request':_0xe50e27,'schema':N,'ClassRef':M,'execute':_0x4747b2=>he[_0x2701bf(0x5d7)](_0x4747b2)});return _0xf37ede[_0x2701bf(0x499)](0xc8)[_0x2701bf(0x149)](_0x3506d0);})[_0x551715(0x1ae)](this[_0x551715(0x2e9)](_0x551715(0x377)),..._0x448ee4,async(_0x1022e1,_0x12e879)=>{const _0x1987ef=_0x551715;let _0xceaa8a=await this[_0x1987ef(0x15a)]({'request':_0x1022e1,'schema':N,'ClassRef':M,'execute':_0x5f2d50=>he[_0x1987ef(0x6c3)](_0x5f2d50)});return _0x12e879[_0x1987ef(0x499)](0xc8)[_0x1987ef(0x149)](_0xceaa8a);})['get'](this[_0x551715(0x2e9)](_0x551715(0x549)),..._0x448ee4,async(_0x25eaa0,_0x16fd66)=>{const _0x3bc1bf=_0x551715;let _0xd8b30f=await this[_0x3bc1bf(0x15a)]({'request':_0x25eaa0,'schema':N,'ClassRef':M,'execute':_0xb0884a=>he[_0x3bc1bf(0x549)](_0xb0884a)});return _0x16fd66[_0x3bc1bf(0x499)](0xc8)['json'](_0xd8b30f);})[_0x551715(0x1ae)](this[_0x551715(0x2e9)](_0x551715(0x331),!0x1),..._0x448ee4,async(_0x2ea9bb,_0x4bd6bd)=>{const _0xddf4b1=_0x551715;let _0x18792c=await this[_0xddf4b1(0x15a)]({'request':_0x2ea9bb,'schema':null,'ClassRef':M,'execute':_0x3dcb34=>he['fetchInstances'](_0x3dcb34)});return _0x4bd6bd[_0xddf4b1(0x499)](0xc8)['json'](_0x18792c);})[_0x551715(0x835)](this[_0x551715(0x2e9)](_0x551715(0x209)),..._0x448ee4,async(_0x337e0a,_0x5337db)=>{const _0x47bac8=_0x551715;let _0x1f3a65=await this['dataValidate']({'request':_0x337e0a,'schema':N,'ClassRef':M,'execute':_0x577856=>he[_0x47bac8(0x209)](_0x577856)});return _0x5337db[_0x47bac8(0x499)](0xc8)[_0x47bac8(0x149)](_0x1f3a65);})[_0x551715(0x835)](this['routerPath'](_0x551715(0x835)),..._0x448ee4,async(_0x393f63,_0xace97)=>{const _0x5ccaeb=_0x551715;let _0x1529bd=await this['dataValidate']({'request':_0x393f63,'schema':N,'ClassRef':M,'execute':_0x590f69=>he[_0x5ccaeb(0x245)](_0x590f69)});return _0xace97['status'](0xc8)[_0x5ccaeb(0x149)](_0x1529bd);});}},wi=require(a0_0x46d805(0x3e1)),Rs=class{},K=class extends Rs{},Ct=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},ke=class extends K{},$t=class extends K{},Rt=class extends K{},At=class extends K{},It=class extends K{},Tt=class extends K{},_t=class{},Ot=class extends W{constructor(..._0x34e6b0){const _0x5ea15d=a0_0x46d805;super(),this[_0x5ea15d(0x1c8)]=(0x0,wi[_0x5ea15d(0x39c)])(),this[_0x5ea15d(0x1c8)][_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)](_0x5ea15d(0x1c3)),..._0x34e6b0,async(_0x8ce280,_0x3d00e4)=>{const _0x586fd6=_0x5ea15d;let _0x2cd6b4=await this[_0x586fd6(0x15a)]({'request':_0x8ce280,'schema':Pa,'ClassRef':Ct,'execute':(_0x577115,_0x3dda7c)=>H[_0x586fd6(0x1c3)](_0x577115,_0x3dda7c)});return _0x3d00e4[_0x586fd6(0x499)](0xc9)['json'](_0x2cd6b4);})[_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)](_0x5ea15d(0x3e6)),..._0x34e6b0,async(_0x38be12,_0x112372)=>{const _0x2f06c4=_0x5ea15d;let _0x4e2c2d=await this[_0x2f06c4(0x15a)]({'request':_0x38be12,'schema':Ua,'ClassRef':ke,'execute':(_0x33b168,_0x1b06b6)=>H[_0x2f06c4(0x3e6)](_0x33b168,_0x1b06b6)});return _0x112372[_0x2f06c4(0x499)](0xc9)[_0x2f06c4(0x149)](_0x4e2c2d);})[_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)](_0x5ea15d(0x25a)),..._0x34e6b0,async(_0xc8256c,_0x534288)=>{const _0x564b61=_0x5ea15d;let _0x6dbc5b=await this['dataValidate']({'request':_0xc8256c,'schema':qa,'ClassRef':Nt,'execute':(_0xacfd88,_0x29f57b)=>H[_0x564b61(0x25a)](_0xacfd88,_0x29f57b)});return _0x534288[_0x564b61(0x499)](0xc9)[_0x564b61(0x149)](_0x6dbc5b);})[_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)]('sendWhatsAppAudio'),..._0x34e6b0,async(_0x5a932f,_0x33fd9a)=>{const _0x3a70d5=_0x5ea15d;let _0x16593e=await this[_0x3a70d5(0x15a)]({'request':_0x5a932f,'schema':ja,'ClassRef':ke,'execute':(_0x44390e,_0x3d3676)=>H['sendWhatsAppAudio'](_0x44390e,_0x3d3676)});return _0x33fd9a[_0x3a70d5(0x499)](0xc9)[_0x3a70d5(0x149)](_0x16593e);})[_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)]('sendButtons'),..._0x34e6b0,async(_0x394f42,_0x5f05fb)=>{const _0x4e2b1b=_0x5ea15d;let _0x116fd1=await this[_0x4e2b1b(0x15a)]({'request':_0x394f42,'schema':Va,'ClassRef':Rt,'execute':(_0x563341,_0x4c1127)=>H['sendButtons'](_0x563341,_0x4c1127)});return _0x5f05fb[_0x4e2b1b(0x499)](0xc9)[_0x4e2b1b(0x149)](_0x116fd1);})[_0x5ea15d(0x25f)](this['routerPath'](_0x5ea15d(0x366)),..._0x34e6b0,async(_0x42280e,_0x4013f5)=>{const _0x252ff5=_0x5ea15d;let _0x40299c=await this[_0x252ff5(0x15a)]({'request':_0x42280e,'schema':Ga,'ClassRef':At,'execute':(_0x48b2d7,_0x235daf)=>H[_0x252ff5(0x366)](_0x48b2d7,_0x235daf)});return _0x4013f5[_0x252ff5(0x499)](0xc9)[_0x252ff5(0x149)](_0x40299c);})[_0x5ea15d(0x25f)](this['routerPath'](_0x5ea15d(0x2d8)),..._0x34e6b0,async(_0x2758d8,_0x1928b6)=>{const _0x390cd8=_0x5ea15d;let _0x2539ca=await this[_0x390cd8(0x15a)]({'request':_0x2758d8,'schema':Ba,'ClassRef':It,'execute':(_0x4cbd3d,_0x21d210)=>H[_0x390cd8(0x2d8)](_0x4cbd3d,_0x21d210)});return _0x1928b6[_0x390cd8(0x499)](0xc9)['json'](_0x2539ca);})['post'](this[_0x5ea15d(0x2e9)](_0x5ea15d(0x1ef)),..._0x34e6b0,async(_0x589ab6,_0x5c0a6c)=>{const _0xd509f6=_0x5ea15d;let _0x3991bf=await this[_0xd509f6(0x15a)]({'request':_0x589ab6,'schema':Wa,'ClassRef':Tt,'execute':(_0x568605,_0x427b53)=>H['sendContact'](_0x568605,_0x427b53)});return _0x5c0a6c[_0xd509f6(0x499)](0xc9)[_0xd509f6(0x149)](_0x3991bf);})[_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)]('sendReaction'),..._0x34e6b0,async(_0x5cdeb4,_0x131bd4)=>{const _0x4dd0f9=_0x5ea15d;let _0x466c09=await this[_0x4dd0f9(0x15a)]({'request':_0x5cdeb4,'schema':za,'ClassRef':_t,'execute':(_0x345e54,_0x2dc820)=>H[_0x4dd0f9(0x625)](_0x345e54,_0x2dc820)});return _0x131bd4['status'](0xc9)[_0x4dd0f9(0x149)](_0x466c09);})[_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)](_0x5ea15d(0x666)),..._0x34e6b0,async(_0xa5ccc4,_0x477e75)=>{const _0xcbc354=_0x5ea15d;let _0x19c582=await this[_0xcbc354(0x15a)]({'request':_0xa5ccc4,'schema':Ja,'ClassRef':vt,'execute':(_0x20eb0e,_0x2af9da)=>H['sendPoll'](_0x20eb0e,_0x2af9da)});return _0x477e75[_0xcbc354(0x499)](0xc9)[_0xcbc354(0x149)](_0x19c582);})[_0x5ea15d(0x25f)](this[_0x5ea15d(0x2e9)]('sendStatus'),..._0x34e6b0,async(_0x7283af,_0x55aa88)=>{const _0x2249bb=_0x5ea15d;let _0x35747c=await this['dataValidate']({'request':_0x7283af,'schema':Fa,'ClassRef':Et,'execute':(_0x377c53,_0x39c31d)=>H[_0x2249bb(0x368)](_0x377c53,_0x39c31d)});return _0x55aa88[_0x2249bb(0x499)](0xc9)[_0x2249bb(0x149)](_0x35747c);})[_0x5ea15d(0x25f)](this['routerPath']('sendSticker'),..._0x34e6b0,async(_0x457713,_0x5358e)=>{const _0x5a5fce=_0x5ea15d;let _0xdb0ec7=await this[_0x5a5fce(0x15a)]({'request':_0x457713,'schema':La,'ClassRef':$t,'execute':(_0x5e54ae,_0x1e1930)=>H[_0x5a5fce(0x6bc)](_0x5e54ae,_0x1e1930)});return _0x5358e['status'](0xc9)[_0x5a5fce(0x149)](_0xdb0ec7);});}},yi=require('express'),xt=class{},Dt=class extends W{constructor(..._0x474eb){const _0x268348=a0_0x46d805;super(),this['router']=(0x0,yi[_0x268348(0x39c)])(),this[_0x268348(0x1c8)]['post'](this[_0x268348(0x2e9)](_0x268348(0x1b1)),..._0x474eb,async(_0x3e41e9,_0x224d4e)=>{const _0x3f1e8=_0x268348;let _0x225664=await this[_0x3f1e8(0x15a)]({'request':_0x3e41e9,'schema':hi,'ClassRef':xt,'execute':(_0x33604c,_0x18202b)=>As[_0x3f1e8(0x186)](_0x33604c,_0x18202b)});_0x224d4e[_0x3f1e8(0x499)](0xc9)['json'](_0x225664);})[_0x268348(0x1ae)](this[_0x268348(0x2e9)](_0x268348(0x3d2)),..._0x474eb,async(_0x541071,_0x4e6c74)=>{const _0x22934f=_0x268348;let _0x27b0ef=await this['dataValidate']({'request':_0x541071,'schema':N,'ClassRef':M,'execute':_0x2c8926=>As[_0x22934f(0x23b)](_0x2c8926)});_0x4e6c74[_0x22934f(0x499)](0xc8)['json'](_0x27b0ef);});}},bi=require('express'),y=new $(a0_0x46d805(0x621)),Pt=class extends W{constructor(..._0x4bbe2a){const _0x1630ea=a0_0x46d805;super(),this[_0x1630ea(0x1c8)]=(0x0,bi[_0x1630ea(0x39c)])(),this['router'][_0x1630ea(0x25f)](this['routerPath']('scheduleMessage'),..._0x4bbe2a,async(_0x388d04,_0x543374)=>{const _0x52a9cf=_0x1630ea;let _0x3d30b1=_0x388d04[_0x52a9cf(0x7fc)];y[_0x52a9cf(0x699)](_0x52a9cf(0x698)),y[_0x52a9cf(0x699)](_0x52a9cf(0x772)),y[_0x52a9cf(0x699)](_0x388d04[_0x52a9cf(0x7fc)]);let _0x3b3244=await this[_0x52a9cf(0x15a)]({'request':_0x388d04,'schema':N,'ClassRef':M,'execute':_0x6732a4=>_['editScheduleMessage'](_0x6732a4,_0x3d30b1)});_0x543374['status'](0xc8)[_0x52a9cf(0x149)](_0x3b3244);})['get'](this[_0x1630ea(0x2e9)](_0x1630ea(0x4b3)),..._0x4bbe2a,async(_0x5725c2,_0x42ef0b)=>{const _0x222b2d=_0x1630ea;let _0xb1c486=await this['dataValidate']({'request':_0x5725c2,'schema':N,'ClassRef':M,'execute':_0x170566=>_[_0x222b2d(0x540)](_0x170566)});_0x42ef0b[_0x222b2d(0x499)](0xc8)[_0x222b2d(0x149)](_0xb1c486);})['delete'](this['routerPath'](_0x1630ea(0x4d8)),..._0x4bbe2a,async(_0x452423,_0x23169a)=>{const _0xcddae5=_0x1630ea;y[_0xcddae5(0x699)]('request\x20received\x20in\x20deleteDoneMessages');let _0x473ea6=await this['dataValidate']({'request':_0x452423,'schema':N,'ClassRef':M,'execute':_0x1a047e=>_['deleteDoneMessages'](_0x1a047e)});_0x23169a[_0xcddae5(0x499)](0xc8)[_0xcddae5(0x149)](_0x473ea6);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)](_0x1630ea(0x116)),..._0x4bbe2a,async(_0xbca1f0,_0x1b69f8)=>{const _0x1c5fc7=_0x1630ea;let _0x2861b5=_0xbca1f0[_0x1c5fc7(0x7fc)];y[_0x1c5fc7(0x699)]('request\x20received\x20in\x20starFlow'),y['verbose'](_0x1c5fc7(0x772)),y['verbose'](_0xbca1f0[_0x1c5fc7(0x7fc)]);let _0x36088a=await this[_0x1c5fc7(0x15a)]({'request':_0xbca1f0,'schema':N,'ClassRef':M,'execute':_0x4d9355=>_[_0x1c5fc7(0x116)](_0x4d9355,_0x2861b5)});_0x1b69f8[_0x1c5fc7(0x499)](0xc8)[_0x1c5fc7(0x149)](_0x36088a);})[_0x1630ea(0x1ae)](this['routerPath']('getAutomateSystem'),..._0x4bbe2a,async(_0x68bc95,_0xa96760)=>{const _0x42946a=_0x1630ea;y[_0x42946a(0x699)](_0x42946a(0x56a));let _0x52c656=await this[_0x42946a(0x15a)]({'request':_0x68bc95,'schema':N,'ClassRef':M,'execute':_0x549dfb=>_[_0x42946a(0x26b)](_0x549dfb)});_0xa96760[_0x42946a(0x499)](0xc8)['json'](_0x52c656);})['get'](this['routerPath']('getTicketSystem'),..._0x4bbe2a,async(_0x202eec,_0x243348)=>{const _0x20354a=_0x1630ea;y[_0x20354a(0x699)](_0x20354a(0x5ee));let _0x6baf3f=await this[_0x20354a(0x15a)]({'request':_0x202eec,'schema':N,'ClassRef':M,'execute':_0x1ec237=>_[_0x20354a(0x26b)](_0x1ec237)});_0x243348['status'](0xc8)[_0x20354a(0x149)](_0x6baf3f);})['post'](this['routerPath'](_0x1630ea(0x606)),..._0x4bbe2a,async(_0x2a8f6a,_0x303a3d)=>{const _0x15e24b=_0x1630ea;let _0x353741=_0x2a8f6a[_0x15e24b(0x7fc)];y['verbose'](_0x15e24b(0x4de)),y[_0x15e24b(0x699)](_0x15e24b(0x772)),y[_0x15e24b(0x699)](_0x2a8f6a['body']);let _0xcd5b26=await this[_0x15e24b(0x15a)]({'request':_0x2a8f6a,'schema':N,'ClassRef':M,'execute':_0x1879e5=>_[_0x15e24b(0x606)](_0x1879e5,_0x353741)});_0x303a3d[_0x15e24b(0x499)](0xc8)[_0x15e24b(0x149)](_0xcd5b26);})['post'](this['routerPath'](_0x1630ea(0x2f7)),..._0x4bbe2a,async(_0x42006b,_0x8d240b)=>{const _0x5ca166=_0x1630ea;let _0x78b5a7=_0x42006b[_0x5ca166(0x7fc)];y[_0x5ca166(0x699)]('request\x20received\x20in\x20updateCustomFields'),y[_0x5ca166(0x699)](_0x5ca166(0x772)),y[_0x5ca166(0x699)](_0x42006b[_0x5ca166(0x7fc)]);let _0xfb3f7c=await this[_0x5ca166(0x15a)]({'request':_0x42006b,'schema':N,'ClassRef':M,'execute':_0x4e6eab=>_[_0x5ca166(0x2f7)](_0x4e6eab,_0x78b5a7)});_0x8d240b[_0x5ca166(0x499)](0xc8)[_0x5ca166(0x149)](_0xfb3f7c);})['post'](this[_0x1630ea(0x2e9)](_0x1630ea(0x82c)),..._0x4bbe2a,async(_0x3cf895,_0x586b60)=>{const _0x5ea5db=_0x1630ea;let _0x5c69e7=_0x3cf895[_0x5ea5db(0x7fc)];y[_0x5ea5db(0x699)](_0x5ea5db(0x725)),y[_0x5ea5db(0x699)](_0x5ea5db(0x772)),y['verbose'](_0x3cf895[_0x5ea5db(0x7fc)]);let _0x139be7=await this['dataValidate']({'request':_0x3cf895,'schema':N,'ClassRef':M,'execute':_0x411de3=>_[_0x5ea5db(0x82c)](_0x411de3,_0x5c69e7)});_0x586b60['status'](0xc8)['json'](_0x139be7);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)](_0x1630ea(0x46e)),..._0x4bbe2a,async(_0x36c363,_0x52c0e4)=>{const _0x250ef8=_0x1630ea;let _0x1a7447=_0x36c363['body'];y[_0x250ef8(0x699)](_0x250ef8(0x147)),y[_0x250ef8(0x699)](_0x250ef8(0x772)),y[_0x250ef8(0x699)](_0x36c363[_0x250ef8(0x7fc)]);let _0x401535=await this[_0x250ef8(0x15a)]({'request':_0x36c363,'schema':N,'ClassRef':M,'execute':_0x4ad467=>_[_0x250ef8(0x46e)](_0x4ad467,_0x1a7447)});_0x52c0e4[_0x250ef8(0x499)](0xc8)[_0x250ef8(0x149)](_0x401535);})['post'](this[_0x1630ea(0x2e9)]('getConversation'),..._0x4bbe2a,async(_0x191325,_0x3e5137)=>{const _0x86ed3e=_0x1630ea;let _0x1e0c8c=_0x191325[_0x86ed3e(0x7fc)];y['verbose']('request\x20received\x20in\x20getConversation'),y[_0x86ed3e(0x699)](_0x86ed3e(0x772)),y[_0x86ed3e(0x699)](_0x191325[_0x86ed3e(0x7fc)]);let _0x284569=await this[_0x86ed3e(0x15a)]({'request':_0x191325,'schema':N,'ClassRef':M,'execute':_0x1f5f44=>_[_0x86ed3e(0x260)](_0x1f5f44,_0x1e0c8c)});_0x3e5137[_0x86ed3e(0x499)](0xc8)['json'](_0x284569);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)]('fetchConversation'),..._0x4bbe2a,async(_0x12f642,_0x4e4d6f)=>{const _0x75663a=_0x1630ea;let _0x4965b7=_0x12f642['body'];y[_0x75663a(0x699)](_0x75663a(0x6e4)),y['verbose'](_0x75663a(0x772)),y[_0x75663a(0x699)](_0x12f642[_0x75663a(0x7fc)]);let _0x4248f5=await this[_0x75663a(0x15a)]({'request':_0x12f642,'schema':N,'ClassRef':M,'execute':_0x195ad4=>_[_0x75663a(0x40b)](_0x195ad4,_0x4965b7)});_0x4e4d6f[_0x75663a(0x499)](0xc8)[_0x75663a(0x149)](_0x4248f5);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)](_0x1630ea(0x26d)),..._0x4bbe2a,async(_0xc717e1,_0x1f0541)=>{const _0x15cc18=_0x1630ea;let _0x482167=_0xc717e1[_0x15cc18(0x7fc)];y['verbose'](_0x15cc18(0x18f)),y[_0x15cc18(0x699)](_0x15cc18(0x772)),y[_0x15cc18(0x699)](_0xc717e1[_0x15cc18(0x7fc)]);let _0x1d2cc9=await this['dataValidate']({'request':_0xc717e1,'schema':N,'ClassRef':M,'execute':_0x22f9e4=>_[_0x15cc18(0x26d)](_0x22f9e4,_0x482167)});_0x1f0541[_0x15cc18(0x499)](0xc8)[_0x15cc18(0x149)](_0x1d2cc9);})[_0x1630ea(0x835)](this[_0x1630ea(0x2e9)]('deleteConversation'),..._0x4bbe2a,async(_0x4d239e,_0x5bf768)=>{const _0x336610=_0x1630ea;let _0x2852c7=_0x4d239e['body'];y['verbose'](_0x336610(0x1e6)),y['verbose'](_0x336610(0x772)),y[_0x336610(0x699)](_0x4d239e[_0x336610(0x7fc)]);let _0x4f6a65=await this['dataValidate']({'request':_0x4d239e,'schema':N,'ClassRef':M,'execute':_0x435f3e=>_[_0x336610(0x3a3)](_0x435f3e,_0x2852c7)});_0x5bf768[_0x336610(0x499)](0xc8)['json'](_0x4f6a65);})[_0x1630ea(0x25f)](this['routerPath'](_0x1630ea(0x588)),..._0x4bbe2a,async(_0xce32e6,_0x5f2f50)=>{const _0x10fc77=_0x1630ea;let _0x296bda=_0xce32e6[_0x10fc77(0x7fc)],_0x167dba=_0xce32e6[_0x10fc77(0x823)]['apikey'];y[_0x10fc77(0x699)]('request\x20received\x20in\x20createFlow'),y[_0x10fc77(0x699)](_0x10fc77(0x772)),y['verbose'](_0xce32e6[_0x10fc77(0x7fc)]);let _0x3c99f4=await this[_0x10fc77(0x15a)]({'request':_0xce32e6,'schema':N,'ClassRef':M,'execute':_0x49e8ed=>_[_0x10fc77(0x266)](_0x49e8ed,_0x296bda,_0x167dba)});_0x5f2f50[_0x10fc77(0x499)](0xc8)[_0x10fc77(0x149)](_0x3c99f4);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)](_0x1630ea(0x359)),..._0x4bbe2a,async(_0x26a95d,_0x25384e)=>{const _0x45beb5=_0x1630ea;let _0x16b33a=_0x26a95d['body'],_0x33e8bc=_0x26a95d[_0x45beb5(0x823)][_0x45beb5(0x81a)];y[_0x45beb5(0x699)](_0x45beb5(0x138)),y[_0x45beb5(0x699)](_0x45beb5(0x772)),y['verbose'](_0x26a95d[_0x45beb5(0x7fc)]),delete _0x16b33a[_0x45beb5(0x29a)],delete _0x16b33a[_0x45beb5(0x348)],delete _0x16b33a['groups'],delete _0x16b33a[_0x45beb5(0x4dc)];let _0x23626d=await this['dataValidate']({'request':_0x26a95d,'schema':N,'ClassRef':M,'execute':_0x346afe=>_[_0x45beb5(0x11a)](_0x346afe,_0x16b33a,_0x33e8bc)});_0x25384e[_0x45beb5(0x499)](0xc8)['json'](_0x23626d);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)]('editflowblock'),..._0x4bbe2a,async(_0x5d8758,_0x55428a)=>{const _0x386092=_0x1630ea;let _0x17f771=_0x5d8758[_0x386092(0x7fc)];y[_0x386092(0x699)](_0x386092(0x138)),y[_0x386092(0x699)]('request\x20body:\x20'),y['verbose'](_0x5d8758['body']);let _0x4cd8f4=await this[_0x386092(0x15a)]({'request':_0x5d8758,'schema':N,'ClassRef':M,'execute':_0x172cad=>_[_0x386092(0x385)](_0x172cad,_0x17f771)});_0x55428a[_0x386092(0x499)](0xc8)['json'](_0x4cd8f4);})[_0x1630ea(0x25f)](this['routerPath'](_0x1630ea(0x31a)),..._0x4bbe2a,async(_0x587163,_0x2c230e)=>{const _0x47cd49=_0x1630ea;let _0x40d35b=_0x587163[_0x47cd49(0x7fc)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x47cd49(0x699)]('request\x20body:\x20'),y[_0x47cd49(0x699)](_0x587163['body']);let _0x3fde94=await this[_0x47cd49(0x15a)]({'request':_0x587163,'schema':N,'ClassRef':M,'execute':_0x4bf33b=>_[_0x47cd49(0x332)](_0x4bf33b,_0x40d35b)});_0x2c230e['status'](0xc8)[_0x47cd49(0x149)](_0x3fde94);})['post'](this[_0x1630ea(0x2e9)](_0x1630ea(0x3e5)),..._0x4bbe2a,async(_0x5b0556,_0x78d07d)=>{const _0x34f020=_0x1630ea;let _0x5e31bf=_0x5b0556[_0x34f020(0x7fc)];y[_0x34f020(0x699)]('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x34f020(0x699)](_0x5b0556[_0x34f020(0x7fc)]);let _0x1f66fd=await this[_0x34f020(0x15a)]({'request':_0x5b0556,'schema':N,'ClassRef':M,'execute':_0x1ed21c=>_[_0x34f020(0x538)](_0x1ed21c,_0x5e31bf)});_0x78d07d[_0x34f020(0x499)](0xc8)['json'](_0x1f66fd);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)](_0x1630ea(0x777)),..._0x4bbe2a,async(_0x465a22,_0x4d17a5)=>{const _0xfbfc3c=_0x1630ea;let _0x47177f=_0x465a22['body'];y[_0xfbfc3c(0x699)](_0xfbfc3c(0x370)),y['verbose'](_0xfbfc3c(0x772)),y[_0xfbfc3c(0x699)](_0x465a22['body']);let _0x44bef7=await this['dataValidate']({'request':_0x465a22,'schema':N,'ClassRef':M,'execute':_0x167314=>_[_0xfbfc3c(0x306)](_0x167314,_0x47177f)});_0x4d17a5[_0xfbfc3c(0x499)](0xc8)['json'](_0x44bef7);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)](_0x1630ea(0x24d)),..._0x4bbe2a,async(_0x1dca2b,_0x44d260)=>{const _0x4be0c9=_0x1630ea;let _0x29702a=_0x1dca2b['body'];y[_0x4be0c9(0x699)](_0x4be0c9(0x3af)),y[_0x4be0c9(0x699)](_0x4be0c9(0x772)),y[_0x4be0c9(0x699)](_0x1dca2b['body']);let _0x4f5e3d=await this['dataValidate']({'request':_0x1dca2b,'schema':N,'ClassRef':M,'execute':_0x15eea8=>_[_0x4be0c9(0x79d)](_0x15eea8,_0x29702a)});_0x44d260[_0x4be0c9(0x499)](0xc8)[_0x4be0c9(0x149)](_0x4f5e3d);})[_0x1630ea(0x25f)](this[_0x1630ea(0x2e9)]('editflowvariable'),..._0x4bbe2a,async(_0x331b9,_0x28e7ac)=>{const _0x539f53=_0x1630ea;let _0x2f2c30=_0x331b9[_0x539f53(0x7fc)];y[_0x539f53(0x699)]('request\x20received\x20in\x20editFlowvariable'),y[_0x539f53(0x699)](_0x539f53(0x772)),y['verbose'](_0x331b9['body']);let _0x560a06=await this[_0x539f53(0x15a)]({'request':_0x331b9,'schema':N,'ClassRef':M,'execute':_0x8879e4=>_[_0x539f53(0x647)](_0x8879e4,_0x2f2c30)});_0x28e7ac['status'](0xc8)[_0x539f53(0x149)](_0x560a06);})[_0x1630ea(0x25f)](this['routerPath'](_0x1630ea(0x49a)),..._0x4bbe2a,async(_0x280296,_0x5724ed)=>{const _0x42742f=_0x1630ea;let _0x30eefe=_0x280296[_0x42742f(0x7fc)];y['verbose'](_0x42742f(0x2ee)),y['verbose'](_0x42742f(0x772)),y[_0x42742f(0x699)](_0x280296[_0x42742f(0x7fc)]);let _0x3caa6b=await this[_0x42742f(0x15a)]({'request':_0x280296,'schema':N,'ClassRef':M,'execute':_0xabf8d3=>_['getFlow'](_0xabf8d3,_0x30eefe)});_0x5724ed['status'](0xc8)[_0x42742f(0x149)](_0x3caa6b);})[_0x1630ea(0x835)](this[_0x1630ea(0x2e9)](_0x1630ea(0x737)),..._0x4bbe2a,async(_0x4ee0a1,_0x3c26f1)=>{const _0x4858ec=_0x1630ea;let _0x5eef42=_0x4ee0a1[_0x4858ec(0x7fc)];y[_0x4858ec(0x699)]('request\x20received\x20in\x20deleteFlow'),y[_0x4858ec(0x699)]('request\x20body:\x20'),y[_0x4858ec(0x699)](_0x4ee0a1['body']);let _0x56ed15=await this[_0x4858ec(0x15a)]({'request':_0x4ee0a1,'schema':N,'ClassRef':M,'execute':_0x5f3b9c=>_[_0x4858ec(0x20e)](_0x5f3b9c,_0x5eef42)});_0x3c26f1[_0x4858ec(0x499)](0xc8)[_0x4858ec(0x149)](_0x56ed15);})[_0x1630ea(0x1ae)](this[_0x1630ea(0x2e9)](_0x1630ea(0x490)),..._0x4bbe2a,async(_0xf4649a,_0x5a6eee)=>{const _0x1fea56=_0x1630ea;y['verbose'](_0x1fea56(0x37b));let _0x3c52c6=await this[_0x1fea56(0x15a)]({'request':_0xf4649a,'schema':N,'ClassRef':M,'execute':_0x28f254=>_[_0x1fea56(0x467)](_0x28f254)});_0x5a6eee['status'](0xc8)[_0x1fea56(0x149)](_0x3c52c6);});}},Ei=I(require('path')),oe={};function Si(_0x3e21df,_0x1579d8,_0x417517,_0x53adca){oe[_0x3e21df]||(oe[_0x3e21df]={}),oe[_0x3e21df][_0x1579d8]={'id':_0x1579d8,'response':_0x417517,'events':_0x53adca};}function Mi(_0x5e23cf,_0x691429){!oe[_0x5e23cf]||!oe[_0x5e23cf][_0x691429]||delete oe[_0x5e23cf][_0x691429];}function q(_0x22de39,_0x9daaac,_0x816755){const _0x325af3=a0_0x46d805;if(!oe[_0x22de39])return;let _0x597021='data:\x20'+JSON[_0x325af3(0x7e7)](_0x816755)+'\x0a\x0a';Object[_0x325af3(0x687)](oe[_0x22de39])['forEach'](_0x17aacf=>{const _0x10897e=_0x325af3;_0x17aacf[_0x10897e(0x5f7)][_0x10897e(0x7ff)](_0x9daaac)&&_0x17aacf[_0x10897e(0x792)][_0x10897e(0x355)](_0x597021);});}function Ci(){const _0xd08ad1=a0_0x46d805;let _0x480f01={};for(let _0x575acd in oe)_0x480f01[_0x575acd]=Object[_0xd08ad1(0x687)](oe[_0x575acd])[_0xd08ad1(0x1bd)](_0xcaaccc=>({'id':_0xcaaccc['id'],'events':_0xcaaccc['events']}));return _0x480f01;}var vi=require(a0_0x46d805(0x498)),Ts=require('mongoose'),Is=class{},_o=new Ts[(a0_0x46d805(0x653))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Oo=new Ts[(a0_0x46d805(0x653))]({'_id':{'type':String,'default':a0_0x46d805(0x5d6)},'WebhookGlobal':{'type':_o},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=A?.[a0_0x46d805(0x5d4)](Is[a0_0x46d805(0x73f)],Oo,a0_0x46d805(0x25d)),xo=Ei[a0_0x46d805(0x6ef)]['join'](__dirname,a0_0x46d805(0x2c8)),Le=(0x0,kt[a0_0x46d805(0x39c)])(),Do=S['get'](a0_0x46d805(0x4d6))[a0_0x46d805(0x6b6)],ce=[Ia,Ta,xa[Do]];function a0_0x1054(_0x17e6e0,_0x55da48){const _0x3d76e0=a0_0x3d76();return a0_0x1054=function(_0x10544e,_0x54e197){_0x10544e=_0x10544e-0xff;let _0x4643f5=_0x3d76e0[_0x10544e];return _0x4643f5;},a0_0x1054(_0x17e6e0,_0x55da48);}Le[a0_0x46d805(0x1a4)]('/media',kt[a0_0x46d805(0x6ef)][a0_0x46d805(0x1a5)](xo))[a0_0x46d805(0x1ae)]('/events/:instance',async(_0x37dd81,_0x8fe80a)=>{const _0x64b5a2=a0_0x46d805;console[_0x64b5a2(0x507)]('bateu\x20events');let _0x5e50ee=_0x37dd81[_0x64b5a2(0x45c)][_0x64b5a2(0x388)],_0x461b6a=(_0x37dd81[_0x64b5a2(0x2cd)][_0x64b5a2(0x5f7)]||'')[_0x64b5a2(0x76f)](','),_0x3309ea=(0x0,vi['v4'])();console[_0x64b5a2(0x507)](_0x64b5a2(0x54f),_0x5e50ee),console[_0x64b5a2(0x507)](_0x64b5a2(0x7b5),_0x461b6a);let _0x41b80b=S['get'](_0x64b5a2(0x4d6))[_0x64b5a2(0x141)],_0x46eddd=_0x37dd81[_0x64b5a2(0x2cd)][_0x64b5a2(0x81a)];if(console['log'](_0x64b5a2(0x62f),_0x46eddd),_0x41b80b[_0x64b5a2(0x13c)]!==_0x46eddd){console[_0x64b5a2(0x507)]('env.KEY\x20!==\x20key');try{let _0x50767d=await ye[_0x64b5a2(0x604)]['find'](_0x5e50ee);if(console[_0x64b5a2(0x507)](_0x64b5a2(0x5f1),_0x50767d),!_0x50767d||_0x50767d[_0x64b5a2(0x81a)]!==_0x46eddd)return console['log'](_0x64b5a2(0x75d)),_0x8fe80a[_0x64b5a2(0x499)](0x191)[_0x64b5a2(0x61e)](_0x64b5a2(0x634));}catch(_0x210354){return console[_0x64b5a2(0x7ba)](_0x64b5a2(0x796),_0x210354),_0x8fe80a[_0x64b5a2(0x499)](0x191)[_0x64b5a2(0x61e)](_0x64b5a2(0x6fb));}}if(!await Oe(_0x5e50ee))return _0x8fe80a[_0x64b5a2(0x499)](0x194)[_0x64b5a2(0x61e)](_0x64b5a2(0x64d));_0x8fe80a[_0x64b5a2(0x44e)](_0x64b5a2(0x7eb),'text/event-stream'),_0x8fe80a[_0x64b5a2(0x44e)](_0x64b5a2(0x1af),_0x64b5a2(0x609)),_0x8fe80a[_0x64b5a2(0x44e)](_0x64b5a2(0x832),_0x64b5a2(0x7af)),_0x8fe80a[_0x64b5a2(0x23f)]();let _0x19549c=_0x64b5a2(0x48c)+JSON[_0x64b5a2(0x7e7)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x8fe80a['write'](_0x19549c),Si(_0x5e50ee,_0x3309ea,_0x8fe80a,_0x461b6a),_0x37dd81['on'](_0x64b5a2(0x7cc),()=>{const _0x3a4c6f=_0x64b5a2;console['log'](_0x3a4c6f(0x78d)+_0x5e50ee),Mi(_0x5e50ee,_0x3309ea);});}),Le[a0_0x46d805(0x25f)](a0_0x46d805(0x654),async(_0x486dcc,_0x57c3c7)=>{const _0x1af275=a0_0x46d805;console['log']('iniciando\x20fluxo\x20router');let _0x239669=_0x486dcc[_0x1af275(0x45c)][_0x1af275(0x388)],_0x4a416c=_0x486dcc[_0x1af275(0x45c)][_0x1af275(0x1c2)],_0x521a55=_0x486dcc[_0x1af275(0x2cd)][_0x1af275(0x13a)]||'',_0x4d8637=_0x486dcc['body'];console[_0x1af275(0x507)](_0x1af275(0x37e),_0x239669),console[_0x1af275(0x507)](_0x1af275(0x69c),_0x4a416c),console[_0x1af275(0x507)](_0x1af275(0x3ad),_0x521a55),console[_0x1af275(0x507)](_0x1af275(0x807),_0x4d8637);try{if(!await Oe(_0x239669))return _0x57c3c7[_0x1af275(0x499)](0x194)[_0x1af275(0x61e)](_0x1af275(0x64d));let _0x5e54da=await _[_0x1af275(0x58c)](_0x239669,_0x4a416c,_0x521a55,_0x4d8637);_0x57c3c7['send'](_0x5e54da);}catch(_0x150061){console[_0x1af275(0x7ba)](_0x150061),_0x57c3c7[_0x1af275(0x499)](0x1f4)[_0x1af275(0x61e)](_0x1af275(0x531));}}),Le[a0_0x46d805(0x1ae)](a0_0x46d805(0x828),(_0x117840,_0x3397b6)=>{const _0x12686f=a0_0x46d805;let _0x3845b8=Ci();_0x3397b6[_0x12686f(0x149)](_0x3845b8);})[a0_0x46d805(0x1ae)]('/',(_0x33faab,_0x49efdf)=>{const _0x438d44=a0_0x46d805;let _0x58bbd5=S[_0x438d44(0x1ae)](_0x438d44(0x246))[_0x438d44(0x5f4)];if(_0x58bbd5){let _0xc6b252=encodeURIComponent(''+_0x58bbd5);_0x49efdf[_0x438d44(0x1ff)](_0x438d44(0x1bc)+_0xc6b252);return;}let _0x1d60b5=S[_0x438d44(0x1ae)](_0x438d44(0x563)),_0x5d7814=_0x1d60b5&&_0x1d60b5['FULLCHAIN'][_0x438d44(0x76f)]('/')[0x4];if(_0x5d7814){let _0x240af4=encodeURIComponent(_0x438d44(0x5bf)+_0x5d7814);_0x49efdf[_0x438d44(0x1ff)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x240af4);}else _0x49efdf[_0x438d44(0x1ff)](_0x438d44(0x754));})[a0_0x46d805(0x579)](a0_0x46d805(0x18c),...ce,async(_0x2e3018,_0x46a24e)=>{const _0x5d1a2d=a0_0x46d805;try{console[_0x5d1a2d(0x507)](_0x5d1a2d(0x144)),_0x46a24e[_0x5d1a2d(0x499)](0xc8)[_0x5d1a2d(0x149)]({'message':_0x5d1a2d(0x1b2)}),_0x46a24e['on'](_0x5d1a2d(0x3f6),()=>process[_0x5d1a2d(0x82a)](0x0));}catch(_0x23f5e9){console[_0x5d1a2d(0x7ba)](_0x5d1a2d(0x751),_0x23f5e9),_0x46a24e[_0x5d1a2d(0x499)](0x1f4)['json']({'message':_0x5d1a2d(0x324)});}})[a0_0x46d805(0x579)](a0_0x46d805(0x50f),...ce,async(_0xb9d040,_0x37ef9d)=>{const _0x4d2c67=a0_0x46d805;try{let _0x142114=_0xb9d040[_0x4d2c67(0x7fc)];await Ne[_0x4d2c67(0x191)]({},{'$set':_0x142114},{'upsert':!0x0});let _0x52e1b6=await Ne['findOne']();_0x37ef9d[_0x4d2c67(0x149)](_0x52e1b6);}catch(_0x4b5f2f){_0x37ef9d['status'](0x190)[_0x4d2c67(0x61e)](_0x4b5f2f[_0x4d2c67(0x620)]);}})['get'](a0_0x46d805(0x50f),...ce,async(_0x24de57,_0x19cfee)=>{const _0x14536d=a0_0x46d805;try{let _0xf14f09=await Ne[_0x14536d(0x104)]();if(!_0xf14f09)return _0x19cfee['json']({});_0x19cfee[_0x14536d(0x149)](_0xf14f09);}catch(_0x132dc3){_0x19cfee['status'](0x1f4)[_0x14536d(0x61e)](_0x132dc3[_0x14536d(0x620)]);}})[a0_0x46d805(0x1a4)]('/instance',new Mt(S,...ce)['router'])[a0_0x46d805(0x1a4)]('/message',new Ot(...ce)[a0_0x46d805(0x1c8)])['use']('/chat',new dt(...ce)[a0_0x46d805(0x1c8)])['use']('/group',new St(...ce)['router'])[a0_0x46d805(0x1a4)](a0_0x46d805(0x3c0),new Dt(...ce)[a0_0x46d805(0x1c8)])['use'](a0_0x46d805(0x7c9),new Pt(...ce)['router']);var m=class{constructor(..._0x2a53f7){const _0x23edc6=a0_0x46d805;throw{'status':0x190,'error':_0x23edc6(0x10e),'message':_0x2a53f7[_0x23edc6(0x47a)]>0x0?_0x2a53f7:void 0x0};}},ne=class{constructor(..._0xffdc89){const _0x2f7085=a0_0x46d805;throw{'status':0x191,'error':_0x2f7085(0x7e8),'message':_0xffdc89[_0x2f7085(0x47a)]>0x0?_0xffdc89:void 0x0};}},se=class{constructor(..._0x12b0c6){const _0x3383c4=a0_0x46d805;throw{'status':0x193,'error':_0x3383c4(0x586),'message':_0x12b0c6[_0x3383c4(0x47a)]>0x0?_0x12b0c6:void 0x0};}},V=class{constructor(..._0x4cf242){const _0x4def5d=a0_0x46d805;throw{'status':0x194,'error':_0x4def5d(0x5aa),'message':_0x4cf242[_0x4def5d(0x47a)]>0x0?_0x4cf242:void 0x0};}},x=class{constructor(..._0x351d5c){const _0x4c8e3d=a0_0x46d805;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x351d5c[_0x4c8e3d(0x47a)]>0x0?_0x351d5c:void 0x0};}},be=require(a0_0x46d805(0x407));async function _s(_0x3dacfb){const _0x267d76=a0_0x46d805;let _0x4414c0=new $(_s[_0x267d76(0x73f)]),_0x14d7b2=A[_0x267d76(0x64b)](),_0x4020eb=_0x14d7b2['db'](S[_0x267d76(0x1ae)](_0x267d76(0x1e2))[_0x267d76(0x23d)][_0x267d76(0x3f8)]+'-instances')[_0x267d76(0x5d3)](_0x3dacfb),_0x36fc92=async(_0x37a919,_0x55d743)=>{const _0x39bbb5=_0x267d76;try{return await _0x14d7b2[_0x39bbb5(0x377)](),await _0x4020eb['replaceOne']({'_id':_0x55d743},JSON['parse'](JSON[_0x39bbb5(0x7e7)](_0x37a919,be[_0x39bbb5(0x2fa)][_0x39bbb5(0x301)])),{'upsert':!0x0});}catch{}},_0x151ea4=async _0x3280e4=>{const _0x46526c=_0x267d76;try{await _0x14d7b2[_0x46526c(0x377)]();let _0x2ed818=await _0x4020eb[_0x46526c(0x104)]({'_id':_0x3280e4}),_0x3433cd=JSON[_0x46526c(0x7e7)](_0x2ed818);return JSON[_0x46526c(0x473)](_0x3433cd,be['BufferJSON']['reviver']);}catch{}},_0x4da073=async _0x51fff7=>{try{return await _0x14d7b2['connect'](),await _0x4020eb['deleteOne']({'_id':_0x51fff7});}catch{}},_0x1f9c4b=await _0x151ea4('creds')||(0x0,be['initAuthCreds'])();return{'state':{'creds':_0x1f9c4b,'keys':{'get':async(_0x2bd6d8,_0x596d57)=>{const _0x1790d1=_0x267d76;let _0x5a77d0={};return await Promise[_0x1790d1(0x7fa)](_0x596d57[_0x1790d1(0x1bd)](async _0x496765=>{const _0x46f5d4=_0x1790d1;let _0x581d05=await _0x151ea4(_0x2bd6d8+'-'+_0x496765);_0x2bd6d8===_0x46f5d4(0x278)&&_0x581d05&&(_0x581d05=be[_0x46f5d4(0x590)][_0x46f5d4(0x4fe)][_0x46f5d4(0x5ad)][_0x46f5d4(0x1ab)](_0x581d05)),_0x5a77d0[_0x496765]=_0x581d05;})),_0x5a77d0;},'set':async _0x4f85d7=>{const _0x4f852b=_0x267d76;let _0x304a5f=[];for(let _0x26ae71 in _0x4f85d7)for(let _0x3b61b2 in _0x4f85d7[_0x26ae71]){let _0x260611=_0x4f85d7[_0x26ae71][_0x3b61b2],_0x1ab154=_0x26ae71+'-'+_0x3b61b2;_0x304a5f[_0x4f852b(0x70b)](_0x260611?_0x36fc92(_0x260611,_0x1ab154):_0x4da073(_0x1ab154));}await Promise[_0x4f852b(0x7fa)](_0x304a5f);}}},'saveCreds':async()=>_0x36fc92(_0x1f9c4b,_0x267d76(0x731))};}var ks=I(require(a0_0x46d805(0x773))),Ls=I(require(a0_0x46d805(0x2f2))),Ut=require(a0_0x46d805(0x407)),Ni=require(a0_0x46d805(0x564)),Ft=require(a0_0x46d805(0x407)),Lt;function Po(_0x4d0ca3){const _0x4d001f=a0_0x46d805;return Lt||(Lt=(0x0,Ni[_0x4d001f(0x5ef)])({'url':_0x4d0ca3[_0x4d001f(0x6a2)]}),Lt[_0x4d001f(0x377)]()),Lt;}var ge=class u{constructor(_0x4c08ca,_0x68d987){const _0x22ebaf=a0_0x46d805;this[_0x22ebaf(0x6ec)]=_0x4c08ca,this[_0x22ebaf(0x7bd)]=_0x68d987,this[_0x22ebaf(0x5c8)]=new $(u['name']),this[_0x22ebaf(0x3bf)]=Po(_0x4c08ca);}set[a0_0x46d805(0x132)](_0x1243c8){this['instanceName']=_0x1243c8;}async[a0_0x46d805(0x54c)](){const _0x5de9b2=a0_0x46d805;try{return await this[_0x5de9b2(0x3bf)][_0x5de9b2(0x415)]([_0x5de9b2(0x5f6),this[_0x5de9b2(0x6ec)][_0x5de9b2(0x4fb)]+':*']);}catch(_0x40e799){this[_0x5de9b2(0x5c8)]['error'](_0x40e799);}}async[a0_0x46d805(0x6be)](_0x31df9a,_0x1c9824){const _0x15592d=a0_0x46d805;try{let _0x391514=JSON[_0x15592d(0x7e7)](_0x1c9824,Ft[_0x15592d(0x2fa)][_0x15592d(0x301)]);return await this['client']['hSet'](this[_0x15592d(0x6ec)][_0x15592d(0x4fb)]+':'+this['instanceName'],_0x31df9a,_0x391514);}catch(_0x953f48){this[_0x15592d(0x5c8)][_0x15592d(0x7ba)](_0x953f48);}}async['getAllData'](){const _0x394ddf=a0_0x46d805;try{let _0xc4d47b=await this[_0x394ddf(0x3bf)][_0x394ddf(0x1de)](this['redisEnv'][_0x394ddf(0x4fb)]+':'+this[_0x394ddf(0x7bd)]);if(_0xc4d47b){for(let _0x450f99 in _0xc4d47b)Object['prototype'][_0x394ddf(0x2d2)][_0x394ddf(0x2de)](_0xc4d47b,_0x450f99)&&(_0xc4d47b[_0x450f99]=JSON['parse'](_0xc4d47b[_0x450f99],Ft[_0x394ddf(0x2fa)][_0x394ddf(0x2a4)]));return _0xc4d47b;}}catch(_0x46c033){this['logger'][_0x394ddf(0x7ba)](_0x46c033);}}async[a0_0x46d805(0x284)](_0x34767c){const _0x1e582e=a0_0x46d805;try{let _0x5050f0=await this[_0x1e582e(0x3bf)][_0x1e582e(0x805)](this[_0x1e582e(0x6ec)][_0x1e582e(0x4fb)]+':'+this[_0x1e582e(0x7bd)],_0x34767c);if(_0x5050f0)return JSON['parse'](_0x5050f0,Ft[_0x1e582e(0x2fa)]['reviver']);}catch(_0x1c62d3){this['logger'][_0x1e582e(0x7ba)](_0x1c62d3);}}async[a0_0x46d805(0x6d1)](_0x5a488b){const _0xe0cfa4=a0_0x46d805;try{return await this[_0xe0cfa4(0x3bf)][_0xe0cfa4(0x6a3)](this[_0xe0cfa4(0x6ec)][_0xe0cfa4(0x4fb)]+':'+this[_0xe0cfa4(0x7bd)],_0x5a488b);}catch(_0x35b3c8){this[_0xe0cfa4(0x5c8)][_0xe0cfa4(0x7ba)](_0x35b3c8);}}async[a0_0x46d805(0x7bb)](_0x56d788){const _0x5a1d4b=a0_0x46d805;try{return await this[_0x5a1d4b(0x3bf)][_0x5a1d4b(0x123)](_0x56d788||this[_0x5a1d4b(0x6ec)][_0x5a1d4b(0x4fb)]+':'+this[_0x5a1d4b(0x7bd)]);}catch(_0x507b6f){this[_0x5a1d4b(0x5c8)]['error'](_0x507b6f);}}};async function Os(_0x4f8540,_0x5a0209){const _0x103fc2=a0_0x46d805;let _0x52aa89=new $(Os['name']),_0x593e7c=new ge(_0x4f8540,_0x5a0209),_0x22c7e2=async(_0x4fe790,_0x1fc6f5)=>{const _0x25c507=a0_0x1054;try{return await _0x593e7c[_0x25c507(0x6be)](_0x1fc6f5,_0x4fe790);}catch(_0x6995a){return _0x52aa89['error']({'localError':'writeData','error':_0x6995a});}},_0x5c989e=async _0x2876d5=>{const _0x44d007=a0_0x1054;try{return await _0x593e7c[_0x44d007(0x284)](_0x2876d5);}catch(_0x118138){_0x52aa89[_0x44d007(0x7ba)]({'readData':'writeData','error':_0x118138});return;}},_0x563868=async _0x1c4538=>{const _0x134af5=a0_0x1054;try{return await _0x593e7c['removeData'](_0x1c4538);}catch(_0x58da05){_0x52aa89['error']({'readData':_0x134af5(0x6d1),'error':_0x58da05});}},_0x43a45f=await _0x5c989e(_0x103fc2(0x731))||(0x0,Ut[_0x103fc2(0x3da)])();return{'state':{'creds':_0x43a45f,'keys':{'get':async(_0x3703c4,_0x5af6c5)=>{const _0x3ff548=_0x103fc2;let _0x395599={};return await Promise[_0x3ff548(0x7fa)](_0x5af6c5[_0x3ff548(0x1bd)](async _0x27e3ef=>{const _0x407a92=_0x3ff548;let _0x2178ba=await _0x5c989e(_0x3703c4+'-'+_0x27e3ef);_0x3703c4===_0x407a92(0x278)&&_0x2178ba&&(_0x2178ba=Ut[_0x407a92(0x590)][_0x407a92(0x4fe)][_0x407a92(0x5ad)][_0x407a92(0x1ab)](_0x2178ba)),_0x395599[_0x27e3ef]=_0x2178ba;})),_0x395599;},'set':async _0x3c8a51=>{const _0x542eb4=_0x103fc2;let _0x5f522f=[];for(let _0x30ba1f in _0x3c8a51)for(let _0x13a190 in _0x3c8a51[_0x30ba1f]){let _0x37ef78=_0x3c8a51[_0x30ba1f][_0x13a190],_0x1b9edd=_0x30ba1f+'-'+_0x13a190;_0x5f522f['push'](_0x37ef78?await _0x22c7e2(_0x37ef78,_0x1b9edd):await _0x563868(_0x1b9edd));}await Promise[_0x542eb4(0x7fa)](_0x5f522f);}}},'saveCreds':async()=>await _0x22c7e2(_0x43a45f,_0x103fc2(0x731))};}var U=I(require('fs')),Q=require(a0_0x46d805(0x498)),qt=I(require(a0_0x46d805(0x32e))),Vt=require(a0_0x46d805(0x330)),$i=require(a0_0x46d805(0x5ac)),Ri=require(a0_0x46d805(0x271)),Ai=I(require(a0_0x46d805(0x220))),$e=class extends O{constructor(_0x16c806,_0x5342e3,_0x1a45eb){const _0x565684=a0_0x46d805;super(_0x5342e3),this[_0x565684(0x567)]=_0x16c806,this[_0x565684(0x3a5)]=_0x5342e3,this[_0x565684(0x6cd)]=_0x1a45eb;}async[a0_0x46d805(0x16c)](_0x1acf12,_0x49d06f){const _0x3cb765=a0_0x46d805;try{if(this[_0x3cb765(0x3a8)][_0x3cb765(0x272)]){console[_0x3cb765(0x507)](_0x3cb765(0x296)+_0x49d06f+_0x3cb765(0x26e),_0x1acf12);let _0x5a9ece=await this[_0x3cb765(0x567)][_0x3cb765(0x418)]({'_id':_0x49d06f},{'$set':_0x1acf12},{'new':!0x0,'upsert':!0x0});return console[_0x3cb765(0x507)]('Database\x20update\x20result:',_0x5a9ece),_0x5a9ece;}}catch(_0x3ef806){throw console[_0x3cb765(0x7ba)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x3ef806),_0x3ef806;}return null;}async['deleteOne'](_0x417d36){const _0x17cb48=a0_0x46d805;try{let _0x2f3050=T(_0x417d36[_0x17cb48(0x496)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x17cb48(0x1b5)](_0x2f3050))[_0x17cb48(0x616)]};}catch(_0x3de043){return{'error':_0x3de043?.['toString']()};}}async[a0_0x46d805(0x104)](_0x50bc91){const _0x4cb0dd=a0_0x46d805;try{let _0x3d0264=T(_0x50bc91[_0x4cb0dd(0x496)]);return await this[_0x4cb0dd(0x567)]['findOne'](_0x3d0264)[_0x4cb0dd(0x2e5)]();}catch{return null;}}},jt=(0x0,Ri[a0_0x46d805(0x78e)])($i['exec']),ko=S[a0_0x46d805(0x1ae)](a0_0x46d805(0x161)),xs=class{constructor(){const _0x45c691=a0_0x46d805;this['cacheInstanceRepository']=new $e(He,S),(!this['ipv6Prefix']||!this[_0x45c691(0x4bc)])&&ko&&this[_0x45c691(0x477)]()['then'](()=>{const _0x1b09af=_0x45c691;console[_0x1b09af(0x507)](_0x1b09af(0x6d8)+this[_0x1b09af(0x77a)]),console['log'](_0x1b09af(0x3b0)+this[_0x1b09af(0x4bc)]);})[_0x45c691(0x513)](_0x38c314=>{const _0x1196ce=_0x45c691;console[_0x1196ce(0x7ba)](_0x1196ce(0x779)+_0x38c314[_0x1196ce(0x620)]);});}async[a0_0x46d805(0x477)](){const _0x51e6bb=a0_0x46d805;try{let {stdout:_0x3a01cb}=await jt('ip\x20-br\x20link\x20show');console[_0x51e6bb(0x507)](_0x51e6bb(0x14e)+_0x3a01cb);let _0x5dd749=_0x3a01cb['split']('\x0a')[_0x51e6bb(0x1bd)](_0x407180=>_0x407180[_0x51e6bb(0x76f)]('\x20')[0x0])[_0x51e6bb(0x130)](_0x420326=>!_0x420326[_0x51e6bb(0x7ff)]('lo')&&!_0x420326[_0x51e6bb(0x7ff)](_0x51e6bb(0x523))&&!_0x420326[_0x51e6bb(0x7ff)]('vir')&&!_0x420326[_0x51e6bb(0x7ff)]('wl')&&!_0x420326[_0x51e6bb(0x7ff)]('@'));if(console[_0x51e6bb(0x507)](_0x51e6bb(0x719)+_0x5dd749),_0x5dd749[_0x51e6bb(0x47a)]===0x0)throw new Error(_0x51e6bb(0x225));this[_0x51e6bb(0x4bc)]=_0x5dd749[0x0];let {stdout:_0x1dc767}=await jt(_0x51e6bb(0x250)+this[_0x51e6bb(0x4bc)]);console[_0x51e6bb(0x507)](_0x51e6bb(0x310)+_0x1dc767);let _0x124ec7=_0x1dc767[_0x51e6bb(0x76f)]('\x0a')[_0x51e6bb(0x3d2)](_0xe37fee=>_0xe37fee[_0x51e6bb(0x7ff)](_0x51e6bb(0x6df))&&_0xe37fee['includes']('global'));if(!_0x124ec7)throw new Error(_0x51e6bb(0x181));let _0x55fcdd=_0x124ec7[_0x51e6bb(0x21d)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x55fcdd)throw new Error(_0x51e6bb(0x580));let [_0x34e5a4,_0x47d469,_0x24202d]=_0x55fcdd,_0x1467ea=Math[_0x51e6bb(0x417)](Number(_0x24202d)/0x10),_0x4e2019=Number(_0x24202d)%0x10,_0x547770=_0x47d469['split'](':')[_0x51e6bb(0x1fc)](0x0,_0x1467ea)['join'](':');if(_0x4e2019>0x0){let _0x1d26cd=_0x47d469['split'](':')[_0x1467ea],_0x52773f=0xffff<<0x10-_0x4e2019&0xffff,_0x5b2bca=(parseInt(_0x1d26cd,0x10)&_0x52773f)[_0x51e6bb(0x821)](0x10)[_0x51e6bb(0x244)](0x4,'0');_0x547770+=':'+_0x5b2bca;}this['ipv6Prefix']=_0x547770+':';}catch(_0x22e303){console['error']('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x22e303);}}async[a0_0x46d805(0x19b)](_0x2562ef){const _0x4c0f85=a0_0x46d805;let _0x14e0f3=_0x4c0f85(0x2b1)+_0x2562ef+_0x4c0f85(0x6ad)+this[_0x4c0f85(0x4bc)];try{await jt(_0x14e0f3),console[_0x4c0f85(0x507)](_0x4c0f85(0x139)+_0x2562ef);}catch(_0x5780de){throw console[_0x4c0f85(0x7ba)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x5780de),new Error('Error\x20adding\x20IPv6\x20address:\x20'+_0x5780de);}}async[a0_0x46d805(0x4f6)](_0x3ca0cd){const _0x94898a=a0_0x46d805;let _0x306052=_0x94898a(0x317)+_0x3ca0cd+_0x94898a(0x6ad)+this[_0x94898a(0x4bc)];try{await jt(_0x306052),console[_0x94898a(0x507)](_0x94898a(0x32b)+_0x3ca0cd);}catch(_0x532fdd){throw console[_0x94898a(0x7ba)](_0x94898a(0x350)+_0x532fdd),new Error('Error\x20removing\x20IPv6\x20address:\x20'+_0x532fdd);}}[a0_0x46d805(0x42b)](){const _0xb843bc=a0_0x46d805;return _0xb843bc(0x6de)[_0xb843bc(0x1cd)](/X/g,()=>_0xb843bc(0x450)['charAt'](Math[_0xb843bc(0x417)](Math[_0xb843bc(0x1a8)]()*0x10)));}[a0_0x46d805(0x396)](_0x116b18,_0x3e9322){const _0x59ed8d=a0_0x46d805;let _0x2c212d=_0x3e9322[_0x59ed8d(0x76f)](':');return _0x2c212d[0x0]=(parseInt(_0x2c212d[0x0],0x10)^0x2)[_0x59ed8d(0x821)](0x10)['padStart'](0x2,'0'),''+_0x116b18+_0x2c212d[0x0]+_0x2c212d[0x1]+':'+_0x2c212d[0x2]+_0x59ed8d(0x14d)+_0x2c212d[0x3]+':'+_0x2c212d[0x4]+_0x2c212d[0x5];}[a0_0x46d805(0x307)](){const _0x5a35c5=a0_0x46d805;let _0x5620b0=this[_0x5a35c5(0x77a)];_0x5620b0['endsWith'](':')||(_0x5620b0+=':');let _0x59e255=this['randomMac']();return this['ip6eui'](_0x5620b0,_0x59e255);}[a0_0x46d805(0x3c4)](_0x45bc27){const _0x44676c=a0_0x46d805;return new RegExp(_0x44676c(0x1b3))['test'](_0x45bc27);}async[a0_0x46d805(0x583)](_0x55caa7){const _0x587dfc=a0_0x46d805;let _0xea8526=[{'url':_0x587dfc(0x213),'parse':_0x71dfb5=>_0x71dfb5['ip']},{'url':_0x587dfc(0x7b6),'parse':_0x3963da=>_0x3963da['ip']},{'url':_0x587dfc(0x69d),'parse':_0x1a49dc=>_0x1a49dc[_0x587dfc(0x1f9)]()},{'url':_0x587dfc(0x4b2),'parse':_0x1b0146=>_0x1b0146[_0x587dfc(0x1f9)]()}],_0x546081=_0xea8526[Math['floor'](Math[_0x587dfc(0x1a8)]()*_0xea8526['length'])];try{let _0x4307f8=await Ai['default'][_0x587dfc(0x1ae)](_0x546081[_0x587dfc(0x5e7)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x55caa7}}),_0x3a3e98=_0x546081[_0x587dfc(0x473)](_0x4307f8[_0x587dfc(0x3df)]);return _0x3a3e98[_0x587dfc(0x22d)]()===_0x55caa7['toLowerCase']()?(console[_0x587dfc(0x507)](_0x587dfc(0x4cc)+_0x55caa7),!0x0):(console[_0x587dfc(0x7ba)](_0x587dfc(0x7ce)+_0x55caa7+_0x587dfc(0x107)+_0x3a3e98),!0x1);}catch(_0x9631c3){return console[_0x587dfc(0x7ba)]('Error\x20testing\x20IP\x20with\x20'+_0x546081['url']+':\x20'+_0x9631c3[_0x587dfc(0x620)]),!0x1;}}async[a0_0x46d805(0x165)](_0xf2081,_0x523402){const _0x2ee5bc=a0_0x46d805;if(!this['ipv6Prefix']||!this[_0x2ee5bc(0x4bc)])return console['error']('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x5870c3;do _0x5870c3=this[_0x2ee5bc(0x307)](),console['log']('Generated\x20IPv6:\x20'+_0x5870c3);while(!await this['isValidAndUniqueIPv6'](_0x5870c3));await this['configureIPv6'](_0x5870c3),console['log']('Configured\x20IPv6:\x20'+_0x5870c3);let _0xe66a47={'_id':_0xf2081+'-'+_0x523402,'ip':_0x5870c3},_0x45f8de=await this['cacheInstanceRepository'][_0x2ee5bc(0x16c)](_0xe66a47,_0xe66a47[_0x2ee5bc(0x1ed)]);return console[_0x2ee5bc(0x507)]('Cache\x20instance\x20update\x20result:\x20'+_0x45f8de),_0x5870c3;}async[a0_0x46d805(0x1cf)](_0x2a8c49){const _0x2e5cc8=a0_0x46d805;return this[_0x2e5cc8(0x3c4)](_0x2a8c49)?!await this[_0x2e5cc8(0x402)]['findOne']({'where':{'ip':_0x2a8c49}}):!0x1;}async[a0_0x46d805(0x6c8)](_0x1a9624,_0x1c9049){const _0x479a7c=a0_0x46d805;let _0x35298c=_0x1a9624+'-'+_0x1c9049,_0x37c5fc=await this[_0x479a7c(0x402)][_0x479a7c(0x104)]({'where':{'_id':_0x35298c}});_0x37c5fc&&_0x37c5fc['ip']&&(await this[_0x479a7c(0x4f6)](_0x37c5fc['ip']),await this[_0x479a7c(0x402)][_0x479a7c(0x1b5)]({'where':{'_id':_0x35298c}}));}},Lo=new xs(),me=Lo,Fs=a0_0x46d805(0x623),ki,fe=null,Da=null,Fo=0x3,Uo=null,Ii=S['get']('AUTHENTICATION')[a0_0x46d805(0x141)][a0_0x46d805(0x13c)],Ti=S['get'](a0_0x46d805(0x161));async function jo(){const _0x54fe19=a0_0x46d805;let _0x515203=await Ne[_0x54fe19(0x104)]();fe=_0x515203?.['WebhookGlobal']??null,Uo=_0x515203?.['DaysToDelete']??null,Fs=_0x515203?.[_0x54fe19(0x2dd)]??_0x54fe19(0x623),ki=_0x515203?.[_0x54fe19(0x39e)]??ee??_0x54fe19(0x748);}async function Jo(){await jo();}Jo();var _i={},le={},Re=class u{constructor(_0x1f0e36,_0x3025ce,_0x2d812e){const _0x4345a3=a0_0x46d805;this[_0x4345a3(0x3a5)]=_0x1f0e36,this[_0x4345a3(0x4d2)]=_0x3025ce,this[_0x4345a3(0x7a6)]=_0x2d812e,this[_0x4345a3(0x53e)]=null,this[_0x4345a3(0x5c8)]=new $(u[_0x4345a3(0x73f)]),this[_0x4345a3(0x388)]={},this[_0x4345a3(0x677)]={},this[_0x4345a3(0x222)]={'state':_0x4345a3(0x7cc)},this[_0x4345a3(0x2b3)]=(0x0,J[_0x4345a3(0x755)])(ue,_0x4345a3(0x2c8)),this[_0x4345a3(0x2c6)]=new Ls[(_0x4345a3(0x6ef))](),this[_0x4345a3(0x163)]=new Ls['default'](),this[_0x4345a3(0x264)]=!0x1,this[_0x4345a3(0x27e)]={'status.instance':'/wa-connection-update','connection.update':_0x4345a3(0x2f1),'qrcode.updated':_0x4345a3(0x7c2),'messages.upsert':_0x4345a3(0x253),'send.message':_0x4345a3(0x253),'messages.update':_0x4345a3(0x76c),'group.upsert':_0x4345a3(0x119),'group.update':_0x4345a3(0x119),'group-participants.update':_0x4345a3(0x119),'messages.set':_0x4345a3(0x42e),'contacts.set':'/wa-contacts','contacts.upsert':_0x4345a3(0x45b),'contacts.update':_0x4345a3(0x45b),'presence.update':_0x4345a3(0x3aa),'chats.set':_0x4345a3(0x2f3),'chats.update':'/wa-chats','chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x4345a3(0x62b)]=0x0,this[_0x4345a3(0x7c5)]=[],this[_0x4345a3(0x27a)]=0xea60,this[_0x4345a3(0x4aa)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x1f8b51,_0xe269b9)=>{const _0x4ea1f6=_0x4345a3;let _0xc33180=[];for await(let _0xe17891 of _0x1f8b51)_0xc33180[_0x4ea1f6(0x70b)]({'_id':_0xe17891['id'],'owner':this[_0x4ea1f6(0x388)][_0x4ea1f6(0x680)],'group':_0xe17891['id'][_0x4ea1f6(0x5cd)](_0x4ea1f6(0x4e0)),'name':_0xe17891[_0x4ea1f6(0x73f)]||_0xe17891[_0x4ea1f6(0x7b4)]||null,'contactname':null,'lastmsg':_0xe17891[_0x4ea1f6(0x3d3)]&&_0xe17891[_0x4ea1f6(0x3d3)][_0x4ea1f6(0x821)]()[_0x4ea1f6(0x47a)]<0xd?_0xe17891[_0x4ea1f6(0x3d3)]*0x3e8:_0xe17891[_0x4ea1f6(0x3d3)]||null,'archived':_0xe17891['archived']||!0x1,'unreadcount':_0xe17891[_0x4ea1f6(0x127)]||0x0,'ephemeralExpiration':_0xe17891['ephemeralExpiration']||0x0});this['sendDataWebhook']('chats.upsert',_0xc33180);},'chats.update':async(_0x131278,_0x2a0d8d)=>{const _0x574a75=_0x4345a3;for(let _0x3f87ef of _0x131278){let _0x4716ef={'_id':_0x3f87ef['id'],'owner':this['instance'][_0x574a75(0x680)],'archived':_0x3f87ef[_0x574a75(0x19f)],'muteEndTime':_0x3f87ef[_0x574a75(0x769)],'ephemeralExpiration':_0x3f87ef[_0x574a75(0x7d2)]},_0x459600=!0x1,_0x5908a6={};_0x4716ef[_0x574a75(0x19f)]!=null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x574a75(0x680)]+_0x574a75(0x600)+_0x3f87ef['id']+_0x574a75(0x7b3)+_0x3f87ef[_0x574a75(0x19f)]),_0x459600=!0x0,_0x5908a6[_0x574a75(0x19f)]=_0x3f87ef['archived']),_0x574a75(0x769)in _0x3f87ef&&(this[_0x574a75(0x5c8)][_0x574a75(0x699)](this[_0x574a75(0x7bd)]+'\x20('+this['instance']['wuid']+_0x574a75(0x4f4)+_0x3f87ef['id']+'\x20:\x20'+(_0x3f87ef[_0x574a75(0x769)]??'0')),_0x459600=!0x0,_0x5908a6[_0x574a75(0x769)]=_0x3f87ef[_0x574a75(0x769)]??0x0),_0x574a75(0x7d2)in _0x3f87ef&&(this[_0x574a75(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x574a75(0x388)][_0x574a75(0x680)]+_0x574a75(0x3ff)+_0x3f87ef['id']+'\x20:\x20'+(_0x3f87ef[_0x574a75(0x7d2)]!==void 0x0?_0x3f87ef[_0x574a75(0x7d2)]:_0x574a75(0x268))),_0x5908a6[_0x574a75(0x7d2)]=_0x3f87ef[_0x574a75(0x7d2)]===null?0x0:_0x3f87ef['ephemeralExpiration'],_0x459600=!0x0);let _0x511060;_0x459600&&(_0x511060=await this['repository'][_0x574a75(0x64f)][_0x574a75(0x191)]({'where':{'_id':_0x3f87ef['id']}},_0x5908a6,this[_0x574a75(0x388)][_0x574a75(0x680)])),_0x511060&&q(this[_0x574a75(0x7bd)],_0x574a75(0x5e6),{'chat':_0x511060});}},'chats.delete':async _0xab35d2=>{const _0x28680c=_0x4345a3;for(let _0x1468ce of _0xab35d2)if(_0x1468ce[_0x28680c(0x5cd)]('@g.us')){await this[_0x28680c(0x7a6)][_0x28680c(0x64f)][_0x28680c(0x835)]({'where':{'_id':_0x1468ce}},this[_0x28680c(0x388)]['wuid']);let _0x4ae59f={'where':{'key':{'remoteJid':_0x1468ce}}};await this[_0x28680c(0x7a6)][_0x28680c(0x620)][_0x28680c(0x835)](_0x4ae59f,this[_0x28680c(0x388)][_0x28680c(0x680)]);}else{await this[_0x28680c(0x7a6)][_0x28680c(0x64f)]['updateOne']({'where':{'_id':_0x1468ce}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']);let _0x4887d6={'where':{'key':{'remoteJid':_0x1468ce}}};await this[_0x28680c(0x7a6)][_0x28680c(0x620)][_0x28680c(0x835)](_0x4887d6,this[_0x28680c(0x388)]['wuid']);}this['sendDataWebhook']('chats.delete',[..._0xab35d2]);}},this[_0x4345a3(0x298)]={'contacts.upsert':async(_0xe08b07,_0x158e63)=>{const _0x4751e3=_0x4345a3;let _0x4c7b00=await this[_0x4751e3(0x7a6)]['contact'][_0x4751e3(0x3d2)]({'where':{}},this[_0x4751e3(0x388)]['wuid']),_0x4b0853=[];for await(let _0x2395c8 of _0xe08b07)_0x4c7b00['find'](_0xb3f403=>_0xb3f403['_id']===_0x2395c8['id'])||_0x4b0853[_0x4751e3(0x70b)]({'_id':_0x2395c8['id'],'pushName':_0x2395c8?.['name']||_0x2395c8?.[_0x4751e3(0x5e2)],'owner':this[_0x4751e3(0x388)][_0x4751e3(0x680)]});this[_0x4751e3(0x408)](_0x4751e3(0x7c4),_0x4b0853),await this[_0x4751e3(0x7a6)][_0x4751e3(0x15e)][_0x4751e3(0x752)](_0x4b0853);},'contacts.update':async(_0x43b39a,_0x271007)=>{const _0x25b077=_0x4345a3;let _0x1aca4c=[];for await(let _0x4b0450 of _0x43b39a)_0x1aca4c[_0x25b077(0x70b)]({'_id':_0x4b0450['id'],'pushName':_0x4b0450?.['name']??_0x4b0450?.['verifiedName'],'owner':this[_0x25b077(0x388)][_0x25b077(0x680)]});this[_0x25b077(0x408)](_0x25b077(0x7f0),_0x1aca4c);}},this[_0x4345a3(0x289)]={'messaging-history.set':async({messages:_0x4239e4,chats:_0x5b42e2,isLatest:_0x2ae32f},_0x2dada9)=>{const _0x166c5e=_0x4345a3;if(_0x2ae32f){let _0x12d87b=await Promise[_0x166c5e(0x7fa)](_0x5b42e2[_0x166c5e(0x1bd)](async _0x160e26=>({'_id':_0x160e26['id'],'owner':this[_0x166c5e(0x388)][_0x166c5e(0x680)],'group':_0x160e26['id'][_0x166c5e(0x5cd)](_0x166c5e(0x4e0)),'name':_0x160e26[_0x166c5e(0x73f)]||_0x160e26[_0x166c5e(0x7b4)]||_0x160e26[_0x166c5e(0x669)]||null,'contactname':null,'lastmsg':_0x160e26[_0x166c5e(0x3d3)]&&_0x160e26['conversationTimestamp'][_0x166c5e(0x821)]()['length']<0xd?_0x160e26[_0x166c5e(0x3d3)]*0x3e8:_0x160e26[_0x166c5e(0x3d3)]||null,'archived':_0x160e26[_0x166c5e(0x19f)]||!0x1,'unreadcount':_0x160e26[_0x166c5e(0x127)]||0x0,'ephemeralExpiration':_0x160e26[_0x166c5e(0x7d2)]||0x0,'muteEndTime':_0x160e26[_0x166c5e(0x769)]||0x0})));this[_0x166c5e(0x408)]('chats.set',_0x12d87b),await this['upsertChats'](_0x12d87b,_0x2dada9);}let _0x32f8a9=[],_0x1a7d9a=Date[_0x166c5e(0x506)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xe315fa]of Object[_0x166c5e(0x50a)](_0x4239e4)){if(_0xe315fa[_0x166c5e(0x620)]?.[_0x166c5e(0x685)]||_0xe315fa[_0x166c5e(0x620)]?.[_0x166c5e(0x5ce)]||!_0xe315fa[_0x166c5e(0x620)]||_0xe315fa[_0x166c5e(0x2da)][_0x166c5e(0x13a)]==='status@broadcast'||(ks['default'][_0x166c5e(0x2e3)](_0xe315fa?.[_0x166c5e(0x125)])&&(_0xe315fa[_0x166c5e(0x125)]=_0xe315fa[_0x166c5e(0x125)]?.[_0x166c5e(0x312)]()),_0xe315fa[_0x166c5e(0x125)]&&_0xe315fa[_0x166c5e(0x125)]['toString']()[_0x166c5e(0x47a)]<0xd&&(_0xe315fa[_0x166c5e(0x125)]=_0xe315fa[_0x166c5e(0x125)]*0x3e8),_0xe315fa[_0x166c5e(0x125)]<_0x1a7d9a))continue;let _0x38b1b6=(0x0,w['normalizeMessageContent'])(_0xe315fa[_0x166c5e(0x620)]),_0x1aca33=(0x0,w['getContentType'])(_0x38b1b6),{message_normalized:_0x2e84de}=this[_0x166c5e(0x40f)](_0x38b1b6,_0x1aca33,null);Object[_0x166c5e(0x5f6)](_0x2e84de)[_0x166c5e(0x47a)]>0x0&&_0x32f8a9[_0x166c5e(0x70b)]({'_id':_0xe315fa[_0x166c5e(0x2da)]['id'],'key':_0xe315fa[_0x166c5e(0x2da)],'pushName':_0xe315fa[_0x166c5e(0x593)],'participant':_0xe315fa[_0x166c5e(0x375)],'message':_0x38b1b6,'messageType':_0x1aca33,'message_normalized':{'key':_0xe315fa[_0x166c5e(0x2da)],'pushName':_0xe315fa[_0x166c5e(0x593)],'messageTimestamp':_0xe315fa[_0x166c5e(0x125)],..._0x2e84de},'messageTimestamp':_0xe315fa[_0x166c5e(0x125)],'owner':this[_0x166c5e(0x388)][_0x166c5e(0x680)]});}_0x2dada9[_0x166c5e(0x272)]&&_0x32f8a9[_0x166c5e(0x47a)]>0x0&&(this[_0x166c5e(0x5c8)][_0x166c5e(0x699)](this[_0x166c5e(0x7bd)]+'\x20('+this[_0x166c5e(0x388)]['wuid']+'):\x20'+_0x32f8a9[_0x166c5e(0x47a)]+_0x166c5e(0x30b)+this[_0x166c5e(0x388)]['wuid']+_0x166c5e(0x7ea)),await this[_0x166c5e(0x7a6)][_0x166c5e(0x620)][_0x166c5e(0x752)]([..._0x32f8a9],this[_0x166c5e(0x388)][_0x166c5e(0x680)])),this[_0x166c5e(0x408)](_0x166c5e(0x646),[..._0x32f8a9]),_0x4239e4=void 0x0;},'messages.upsert':async({messages:_0xa72d8c,type:_0x45e6f1},_0x253d81)=>{const _0x813695=_0x4345a3;for(let _0x4727f2 of _0xa72d8c){if(this[_0x813695(0x677)]?.['groups_ignore']&&_0x4727f2[_0x813695(0x2da)]['remoteJid'][_0x813695(0x7ff)]('@g.us')){this[_0x813695(0x5c8)][_0x813695(0x699)](this[_0x813695(0x7bd)]+'\x20('+this[_0x813695(0x388)]['wuid']+_0x813695(0x48a));return;}let _0x4668a8=_0x4727f2['key']['id'],_0x881579=_0x4727f2[_0x813695(0x581)]===0x2,_0x71b181=0xb;if(_0x881579){if(le[_0x4668a8]||(le[_0x4668a8]=0x0),le[_0x4668a8]++,this[_0x813695(0x5c8)][_0x813695(0x7ba)](this[_0x813695(0x7bd)]+'\x20('+this[_0x813695(0x388)][_0x813695(0x680)]+_0x813695(0x582)+_0x4727f2['key'][_0x813695(0x13a)]+_0x813695(0x594)+_0x4668a8+':\x20'+le[_0x4668a8]+'/'+_0x71b181),le[_0x4668a8]>=_0x71b181){this[_0x813695(0x5c8)][_0x813695(0x7ba)](this[_0x813695(0x7bd)]+'\x20('+this[_0x813695(0x388)][_0x813695(0x680)]+_0x813695(0x41f)+_0x4727f2[_0x813695(0x2da)][_0x813695(0x13a)]+_0x813695(0x594)+_0x4668a8+'.');let _0x96ef2={'key':{..._0x4727f2['key']},'message':{'conversation':_0x813695(0x460)+_0x4668a8+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this[_0x813695(0x3bf)]['ev'][_0x813695(0x27d)]('messages.upsert',{'messages':[_0x96ef2],'type':'notify'}),delete le[_0x4668a8];}}else le[_0x4668a8]&&(this[_0x813695(0x5c8)][_0x813695(0x4fa)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+le[_0x4668a8]+_0x813695(0x20f)+_0x4727f2['key'][_0x813695(0x13a)]+'\x20e\x20ID='+_0x4668a8),delete le[_0x4668a8]);if(_0x45e6f1!==_0x813695(0x5ba)||!_0x4727f2?.[_0x813695(0x620)]||_0x4727f2[_0x813695(0x620)]?.[_0x813695(0x685)]||_0x4727f2[_0x813695(0x620)]['senderKeyDistributionMessage']||_0x4727f2[_0x813695(0x2da)][_0x813695(0x13a)]===_0x813695(0x316))return;let _0x30e5e3=null,_0x51ca60=null;try{_0x30e5e3=await this[_0x813695(0x5c3)](_0x4727f2),_0x51ca60=_0x30e5e3?_0x30e5e3[_0x813695(0x755)](','):null;}catch(_0x54d543){this[_0x813695(0x5c8)][_0x813695(0x699)](this[_0x813695(0x7bd)]+'\x20('+this['instance'][_0x813695(0x680)]+_0x813695(0x32d)+(_0x54d543 instanceof Error?_0x54d543['message']:JSON['stringify'](_0x54d543,null,0x2))),_0x51ca60='error\x20get\x20vote';}this['client']['sendPresenceUpdate']('unavailable'),ks['default']['isLong'](_0x4727f2[_0x813695(0x125)])&&(_0x4727f2[_0x813695(0x125)]=_0x4727f2['messageTimestamp']?.[_0x813695(0x312)]()),_0x4727f2['messageTimestamp']&&_0x4727f2[_0x813695(0x125)][_0x813695(0x821)]()[_0x813695(0x47a)]<0xd&&(_0x4727f2[_0x813695(0x125)]=_0x4727f2[_0x813695(0x125)]*0x3e8);let _0x5c27d7=_0x4727f2[_0x813695(0x620)],_0x5a61b8=(0x0,w[_0x813695(0x44f)])(_0x5c27d7),_0xa40d3b=(0x0,w[_0x813695(0x497)])(_0x5a61b8),{messageContent:_0x5e2178,message_normalized:_0x4466c7}=this[_0x813695(0x40f)](_0x5a61b8,_0xa40d3b,_0x51ca60);_0xa40d3b===_0x813695(0x685)&&_0x5e2178?.[_0x813695(0x591)]&&(_0xa40d3b=_0x813695(0x591));let _0x4239b5,_0x30a822=_0x4727f2['key'][_0x813695(0x13a)][_0x813695(0x5cd)](_0x813695(0x4e0));if(_0x4727f2[_0x813695(0x2da)]['fromMe'])_0x4239b5=this['instance'][_0x813695(0x2cc)];else{let _0x3cd952=_0x30a822?_0x4727f2['key'][_0x813695(0x375)]:_0x4727f2[_0x813695(0x2da)]['remoteJid'];_0x4239b5=(await this[_0x813695(0x639)](_0x3cd952,_0x4727f2[_0x813695(0x593)],!0x1))[_0x813695(0x32f)]['pictureUrl'];}let _0x3b6cfb={'_id':_0x4727f2[_0x813695(0x2da)]['id'],'key':_0x4727f2[_0x813695(0x2da)],'isGroup':_0x30a822,'profilePictureUrl':_0x4239b5,'pushName':_0x4727f2[_0x813695(0x593)],'message':_0x5a61b8,'messageType':_0xa40d3b,'message_normalized':{'key':_0x4727f2[_0x813695(0x2da)],'pushName':_0x4727f2[_0x813695(0x593)],'messageTimestamp':_0x4727f2[_0x813695(0x125)],'source':(0x0,w[_0x813695(0x34a)])(_0x4727f2[_0x813695(0x2da)]['id']),..._0x4466c7},'messageTimestamp':_0x4727f2[_0x813695(0x125)],'owner':this['instance'][_0x813695(0x680)],'source':(0x0,w['getDevice'])(_0x4727f2[_0x813695(0x2da)]['id']),'expiration':_0x5e2178?.[_0x813695(0x74c)]?.[_0x813695(0x19e)]||0x0};_0x5e2178||(this[_0x813695(0x5c8)][_0x813695(0x7ba)]('Mensagem\x20não\x20suportada'),this[_0x813695(0x5c8)][_0x813695(0x7ba)](_0x3b6cfb)),this[_0x813695(0x5c8)][_0x813695(0x507)](this[_0x813695(0x7bd)]+'\x20('+this[_0x813695(0x388)]['wuid']+_0x813695(0x32d)+(_0x3b6cfb[_0x813695(0x2da)]?.[_0x813695(0x3ef)]?_0x813695(0x63b):_0x813695(0x369))+'\x20['+_0x3b6cfb[_0x813695(0x2da)]?.['remoteJid'][_0x813695(0x1cd)](_0x813695(0x602),'')+']\x20('+_0x3b6cfb[_0x813695(0x689)]+')'),_0x3b6cfb[_0x813695(0x4ae)]?.['text']&&this['logger'][_0x813695(0x507)](_0x4727f2[_0x813695(0x2da)]['id']+':\x20'+_0x3b6cfb[_0x813695(0x4ae)]?.['text']),await this[_0x813695(0x7a6)][_0x813695(0x620)][_0x813695(0x752)]([_0x3b6cfb],this[_0x813695(0x388)]['wuid']),this[_0x813695(0x408)]('messages.upsert',_0x3b6cfb),q(this[_0x813695(0x7bd)],_0x813695(0x668),{'message':_0x3b6cfb}),_0x4727f2['key']['remoteJid']!=='status@broadcast'&&await this[_0x813695(0x18b)](_0x253d81,_0x3b6cfb,_0x813695(0x70e));}},'messages.update':async(_0xc06a3d,_0x48c4a0)=>{const _0x5b680d=_0x4345a3;let _0x16d898={0x0:_0x5b680d(0x2ca),0x1:_0x5b680d(0x308),0x2:_0x5b680d(0x5a9),0x3:_0x5b680d(0x3b2),0x4:_0x5b680d(0x280),0x5:'PLAYED'};for await(let {key:_0x10bc06,update:_0xd034f5}of _0xc06a3d){if(this[_0x5b680d(0x677)]?.[_0x5b680d(0x53d)]&&_0x10bc06[_0x5b680d(0x13a)][_0x5b680d(0x7ff)]('@g.us')){this[_0x5b680d(0x5c8)][_0x5b680d(0x699)](this[_0x5b680d(0x7bd)]+'\x20('+this[_0x5b680d(0x388)][_0x5b680d(0x680)]+_0x5b680d(0x446));return;}if(_0x10bc06[_0x5b680d(0x13a)]!=='status@broadcast'){let _0x4ce17a=Date['now'](),_0x3ea8a2;_0xd034f5[_0x5b680d(0x620)]===null&&_0xd034f5['status']===void 0x0?_0x3ea8a2=_0x5b680d(0x226):_0x3ea8a2=_0x16d898[_0xd034f5[_0x5b680d(0x499)]];let _0x58681b=_0x10bc06[_0x5b680d(0x13a)]['replace'](/:\d{1,2}@/g,'@'),_0x239648={..._0x10bc06,'remoteJid':_0x58681b,'status':_0x3ea8a2,'datetime':_0x4ce17a,'owner':this[_0x5b680d(0x388)]['wuid']};this[_0x5b680d(0x408)](_0x5b680d(0x3a0),_0x239648),await this['updateMessage'](_0x10bc06,_0x239648);}}},'labels.association':async({type:_0x373281,association:_0x216bb7})=>{const _0x1f9b0a=_0x4345a3;if(_0x216bb7[_0x1f9b0a(0x319)]===_0x1f9b0a(0x390)){let _0x584c5e,_0x281e0c=0x0;for(;!_0x584c5e&&_0x281e0c<this[_0x1f9b0a(0x328)];)_0x584c5e=await this['repository'][_0x1f9b0a(0x64f)][_0x1f9b0a(0x104)]({'where':{'_id':_0x216bb7[_0x1f9b0a(0x1dd)]}},this['instance'][_0x1f9b0a(0x680)]),_0x584c5e||(_0x281e0c++,this['logger']['info'](this[_0x1f9b0a(0x7bd)]+'\x20('+this['instance'][_0x1f9b0a(0x680)]+_0x1f9b0a(0x50b)+_0x216bb7[_0x1f9b0a(0x1dd)]+_0x1f9b0a(0x537)+this[_0x1f9b0a(0x2b8)]+_0x1f9b0a(0x262)+_0x281e0c+'/'+this[_0x1f9b0a(0x328)]+')'),await this[_0x1f9b0a(0x1dc)](this[_0x1f9b0a(0x2b8)]));if(!_0x584c5e){this[_0x1f9b0a(0x5c8)][_0x1f9b0a(0x7ba)](_0x1f9b0a(0x259)+_0x216bb7['chatId']+_0x1f9b0a(0x838)+this[_0x1f9b0a(0x328)]+_0x1f9b0a(0x3de));return;}switch(_0x373281){case _0x1f9b0a(0x70c):console[_0x1f9b0a(0x507)](_0x216bb7),await this[_0x1f9b0a(0x7a6)][_0x1f9b0a(0x64f)][_0x1f9b0a(0x191)]({'where':{'_id':_0x216bb7[_0x1f9b0a(0x1dd)]}},{'leadInfo.etiquetas':_0x216bb7[_0x1f9b0a(0x5b8)]},this['instance'][_0x1f9b0a(0x680)],void 0x0,_0x1f9b0a(0x277));break;case'remove':console[_0x1f9b0a(0x507)](_0x216bb7),await this['repository'][_0x1f9b0a(0x64f)]['updateOne']({'where':{'_id':_0x216bb7['chatId']}},{'leadInfo.etiquetas':_0x216bb7[_0x1f9b0a(0x5b8)]},this['instance']['wuid'],void 0x0,_0x1f9b0a(0x1b6));break;default:this[_0x1f9b0a(0x5c8)]['error'](_0x1f9b0a(0x206)+_0x373281+']');}}},'labels.edit':async _0xa63913=>{const _0x3c42a8=_0x4345a3;if(!_0xa63913||!_0xa63913['id']){this[_0x3c42a8(0x5c8)][_0x3c42a8(0x7ba)](_0x3c42a8(0x34c));return;}if(!_0xa63913[_0x3c42a8(0x5af)]){let _0x154e20=[_0x3c42a8(0x35c),_0x3c42a8(0x7ae),_0x3c42a8(0x6f3),_0x3c42a8(0x58a),'#9ab6c1',_0x3c42a8(0x535),'#fe9dfe',_0x3c42a8(0x351),_0x3c42a8(0x2e8),_0x3c42a8(0x4cd),_0x3c42a8(0x383),'#ffc5c7',_0x3c42a8(0x1ba),'#f64847','#00a1f2',_0x3c42a8(0x503),'#ffae04',_0x3c42a8(0x73e),_0x3c42a8(0x3f7),'#9568cf'],_0x2af8a9;typeof _0xa63913[_0x3c42a8(0x46c)]==_0x3c42a8(0x19c)&&_0xa63913[_0x3c42a8(0x46c)]>=0x0&&_0xa63913['color']<_0x154e20[_0x3c42a8(0x47a)]?_0x2af8a9=_0x154e20[_0xa63913[_0x3c42a8(0x46c)]]:(this[_0x3c42a8(0x5c8)][_0x3c42a8(0x7ba)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0xa63913[_0x3c42a8(0x46c)]),_0x2af8a9=_0x3c42a8(0x54d));let _0x2b18ef={'_id':_0xa63913['id'],'colorHex':_0x2af8a9,'color':_0xa63913?.['color'],'name':_0xa63913?.[_0x3c42a8(0x73f)],'owner':this[_0x3c42a8(0x388)][_0x3c42a8(0x680)]};await this['repository']['label'][_0x3c42a8(0x191)]({'where':{'_id':_0xa63913['id']}},_0x2b18ef,this[_0x3c42a8(0x388)][_0x3c42a8(0x680)]),this[_0x3c42a8(0x5c8)][_0x3c42a8(0x5bb)](this[_0x3c42a8(0x7bd)]+'\x20('+this[_0x3c42a8(0x388)][_0x3c42a8(0x680)]+_0x3c42a8(0x439)+_0xa63913);}_0xa63913['deleted']&&(await this[_0x3c42a8(0x7a6)][_0x3c42a8(0x824)]['delete']({'where':{'_id':_0xa63913['id']}},this['instance'][_0x3c42a8(0x680)]),this['logger'][_0x3c42a8(0x5bb)]('Rótulo\x20deletado:\x27,\x20'+_0xa63913['id']));}},this['groupHandler']={'groups.upsert':async _0x513224=>{const _0x1cdffa=_0x4345a3;this['localWebhook']?.['groups_ignore']||this['sendDataWebhook'](_0x1cdffa(0x71f),_0x513224);for(let _0x37b8ef of _0x513224)await this[_0x1cdffa(0x2d1)](_0x37b8ef);},'groups.update':async _0x458e1b=>{const _0x2e626d=_0x4345a3;this['localWebhook']?.['groups_ignore']||this[_0x2e626d(0x408)]('groups.update',_0x458e1b);for(let _0x1219a6 of _0x458e1b)await this[_0x2e626d(0x2d1)](_0x1219a6);},'group-participants.update':async _0x419c3d=>{const _0x2fcf2d=_0x4345a3;this['localWebhook']?.[_0x2fcf2d(0x53d)]||this['sendDataWebhook'](_0x2fcf2d(0x358),_0x419c3d),await this['updateGroupParticipantsWebhook'](_0x419c3d);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x4345a3(0x5c3)]=async _0x41d7f6=>{const _0x4389ae=_0x4345a3;if(_0x41d7f6['message']?.[_0x4389ae(0x519)]){let _0x4ea8b2=await this[_0x4389ae(0x520)](_0x41d7f6['message'][_0x4389ae(0x519)][_0x4389ae(0x2ea)],!0x0);if(_0x4ea8b2){let _0x30fd6d=_0x4ea8b2['key'][_0x4389ae(0x3ef)]?this['instance']['wuid']+_0x4389ae(0x602):_0x4ea8b2[_0x4389ae(0x2da)][_0x4389ae(0x375)]||_0x4ea8b2[_0x4389ae(0x2da)][_0x4389ae(0x13a)],_0x382193=_0x4ea8b2['key']['id'],_0x2df6ca=_0x4ea8b2[_0x4389ae(0x620)],_0x3f6f2b=Buffer[_0x4389ae(0x59f)](_0x2df6ca['messageContextInfo'][_0x4389ae(0x292)][_0x4389ae(0x821)](_0x4389ae(0x483)),_0x4389ae(0x483)),_0x459e2b=(0x0,w[_0x4389ae(0x2a8)])(_0x41d7f6[_0x4389ae(0x620)][_0x4389ae(0x519)][_0x4389ae(0x64c)],{'pollCreatorJid':_0x30fd6d,'pollMsgId':_0x382193,'pollEncKey':_0x3f6f2b,'voterJid':_0x41d7f6[_0x4389ae(0x2da)]['fromMe']?this[_0x4389ae(0x388)]['wuid']+_0x4389ae(0x602):_0x41d7f6['key'][_0x4389ae(0x13a)][_0x4389ae(0x5cd)]('g.us')?_0x41d7f6[_0x4389ae(0x2da)][_0x4389ae(0x375)]:_0x41d7f6[_0x4389ae(0x2da)][_0x4389ae(0x13a)]}),_0xd68cfe=[],_0x41dd2d=_0x459e2b[_0x4389ae(0x3f3)][_0x4389ae(0x1bd)](_0x5a316=>Buffer[_0x4389ae(0x59f)](_0x5a316)[_0x4389ae(0x821)](_0x4389ae(0x483)));for(let {optionName:_0x5ab341}of _0x2df6ca[_0x4389ae(0x61d)]?.[_0x4389ae(0x774)]||_0x2df6ca[_0x4389ae(0x18d)]?.[_0x4389ae(0x774)]||_0x2df6ca[_0x4389ae(0x52b)]?.[_0x4389ae(0x774)])_0x41dd2d['indexOf']((0x0,w[_0x4389ae(0x373)])(Buffer[_0x4389ae(0x59f)](_0x5ab341))['toString']('hex'))>-0x1&&_0xd68cfe['push'](_0x5ab341);return _0xd68cfe;}}return null;},this[_0x4345a3(0x40f)]=(_0x2584a3,_0x56469c,_0x498f89)=>{const _0x5061da=_0x4345a3;try{let _0x124386=_0x2584a3?(0x0,w[_0x5061da(0x173)])(_0x2584a3)[_0x56469c]:void 0x0,_0x1bf35e={},_0x3e038f=null,_0x496609=null,_0x140190=null;_0x56469c===_0x5061da(0x685)&&_0x124386?.[_0x5061da(0x591)]&&(_0x56469c=(0x0,w[_0x5061da(0x497)])(_0x124386[_0x5061da(0x591)]),_0x3e038f=_0x2584a3[_0x5061da(0x685)][_0x5061da(0x2da)]['id'],_0x124386=_0x2584a3['protocolMessage'][_0x5061da(0x591)][_0x56469c]),_0x2584a3[_0x56469c]?.[_0x5061da(0x74c)]?.['stanzaId']&&_0x2584a3[_0x56469c]?.[_0x5061da(0x74c)]?.[_0x5061da(0x7df)]&&(_0x496609=_0x2584a3[_0x56469c][_0x5061da(0x74c)]['stanzaId']),_0x2584a3[_0x5061da(0x694)]&&(_0x140190=_0x2584a3[_0x5061da(0x694)]['key']['id']);let _0x2c0caa;if(_0x124386&&typeof _0x124386==_0x5061da(0x1a3)&&_0x5061da(0x2ea)in _0x124386&&({pollCreationMessageKey:_0x2c0caa}=_0x124386),_0x56469c===_0x5061da(0x61d)||_0x56469c===_0x5061da(0x52b)||_0x56469c===_0x5061da(0x18d)){let _0x1c3080=_0x124386['options']['map'](_0x31d334=>_0x31d334[_0x5061da(0x759)])['join']('|');_0x1bf35e[_0x5061da(0x7d4)]=_0x1c3080;}let _0x5e0f95='';if(_0x124386&&(_0x5e0f95+=_0x124386[_0x5061da(0x73f)]?_0x124386['name']:'',_0x5e0f95+=_0x124386[_0x5061da(0x5d2)]?'\x20'+_0x124386[_0x5061da(0x5d2)]:'',_0x5e0f95+=_0x124386[_0x5061da(0x299)]?'\x20'+_0x124386[_0x5061da(0x299)]:'',_0x5e0f95+=_0x124386[_0x5061da(0x7b4)]?'\x20'+_0x124386[_0x5061da(0x7b4)]:''),_0x56469c===_0x5061da(0x5dc)){_0x5e0f95=(_0x124386[_0x5061da(0x4e2)]||'')+'\x0a'+(_0x124386[_0x5061da(0x4d1)]||'')+'\x0a'+(_0x124386[_0x5061da(0x635)]||'');let _0x2f4478=this['sectionsToString'](_0x124386[_0x5061da(0x5be)]);_0x1bf35e['convertedOptions']=_0x2f4478;}if(_0x56469c===_0x5061da(0x242)&&(_0x498f89=_0x124386['title']),_0x124386&&_0x124386[_0x5061da(0x7f4)]){let _0x5718bd=this['formatVCard'](JSON[_0x5061da(0x7e7)](_0x124386[_0x5061da(0x7f4)],null,0x2));_0x5e0f95=_0x5e0f95+'\x0a'+_0x5718bd;}if(_0x124386){let {sections:_0x2a8ba1,listType:_0x23fd8c,displayName:_0xee1869,vcard:_0x154dcb,contactVcard:_0x3799ee,name:_0x351d43,caption:_0x536b3a,conversation:_0x3b7994,pollCreationMessageKey:_0x401a4a,footerText:_0x354685,contentText:_0x209d1a,pageCount:_0x2a7bb0,headerType:_0x28422a,isAvatar:_0x149361,isAnimated:_0x1493ca,fallbackLc:_0x579118,fallbackLg:_0x264aac,namespace:_0x1e3d9c,elementName:_0x27ebfd,localizableParams:_0x2038c3,viewOnce:_0x9cbb1e,height:_0x34bb2c,width:_0x56f79c,key:_0xd07a62,firstScanLength:_0x12d19e,firstScanSidecar:_0x411748,gifPlayback:_0x45e7a8,gifAttribution:_0x4954c1,midQualityFileSha256:_0xd52c6d,scansSidecar:_0x3e2614,streamingSidecar:_0x6f705,thumbnailHeight:_0x50d9d4,thumbnailWidth:_0x216bb2,thumbnailEncSha256:_0x18b0cb,thumbnailDirectPath:_0x2ab07c,canonicalUrl:_0xffca90,matchedText:_0x393aca,previewType:_0x3f141f,thumbnailSha256:_0x10f2b2,deviceListMetadataVersion:_0x2567d0,inviteLinkGroupTypeV2:_0x3ab556,interactiveAnnotations:_0x2190d1,scanLengths:_0x23628a,jpegThumbnail:_0x28d761,url:_0x2d6796,mediaKeyTimestamp:_0x14601b,waveform:_0x4d3950,stickerSentTs:_0x51dbb5,firstFrameLength:_0x5d586b,fileEncSha256:_0x120f53,contextInfo:_0x39e2de,firstFrameSidecar:_0x2f9c88,directPath:_0x1b8ff3,fileSha256:_0x465c2f,mediaKey:_0x5f22d7,senderTimestampMs:_0xa2996e,..._0x1ed8c0}=_0x124386;(_0x56469c===_0x5061da(0x5dc)||_0x56469c===_0x5061da(0x242))&&(delete _0x1ed8c0[_0x5061da(0x4e2)],delete _0x1ed8c0[_0x5061da(0x4d1)]),typeof _0x124386=='string'?_0x1bf35e={'text':_0x124386,'type':_0x56469c||_0x5061da(0x299),..._0x3e038f&&{'edited':_0x3e038f},..._0x496609&&{'quoted':_0x496609},..._0x140190&&{'reaction':_0x140190}}:_0x1bf35e={'text':_0x5e0f95,..._0x1ed8c0,..._0x56469c===_0x5061da(0x519)?{'poll_id':_0x124386['pollCreationMessageKey']['id'],'quoted':_0x124386[_0x5061da(0x2ea)]['id'],'vote':_0x498f89}:{},..._0x56469c===_0x5061da(0x242)?{'vote':_0x498f89}:{},'type':_0x56469c,..._0x3e038f&&{'edited':_0x3e038f},..._0x496609&&{'quoted':_0x496609},..._0x140190&&{'reaction':_0x140190},...(_0x56469c===_0x5061da(0x61d)||_0x56469c===_0x5061da(0x52b)||_0x56469c===_0x5061da(0x18d)||_0x56469c==='listMessage')&&{'convertedOptions':_0x1bf35e[_0x5061da(0x7d4)]}};}return{'messageType':_0x56469c,'messageContent':_0x124386,'message_normalized':_0x1bf35e};}catch(_0x5ed789){return this[_0x5061da(0x5c8)][_0x5061da(0x7ba)](_0x5061da(0x674)+_0x5ed789),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x4345a3(0x17f)]=[],this[_0x4345a3(0x290)]=null,this[_0x4345a3(0x830)]=null,(this[_0x4345a3(0x3a7)](),this['instance']['qrcode']={'count':0x0},this[_0x4345a3(0x388)][_0x4345a3(0x41b)]={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set[a0_0x46d805(0x7bd)](_0x3b35ff){const _0x225f92=a0_0x46d805;if(!_0x3b35ff){this['instance'][_0x225f92(0x73f)]=(0x0,Oi['v4'])();return;}this[_0x225f92(0x388)]['name']=_0x3b35ff,this['sendDataWebhook']('status.instance',{'instance':this['instance']['name'],'status':_0x225f92(0x47d)});}get[a0_0x46d805(0x7bd)](){const _0x4ba150=a0_0x46d805;return this[_0x4ba150(0x388)][_0x4ba150(0x73f)];}get[a0_0x46d805(0x680)](){const _0xc8c9a7=a0_0x46d805;return this[_0xc8c9a7(0x388)][_0xc8c9a7(0x680)];}async['getProfileName'](){const _0x4996d9=a0_0x46d805;let _0x1ef5b2=this[_0x4996d9(0x3bf)][_0x4996d9(0x603)]?.[_0x4996d9(0x73f)]??this[_0x4996d9(0x3bf)][_0x4996d9(0x603)]?.[_0x4996d9(0x5e2)];if(!_0x1ef5b2){if(this[_0x4996d9(0x3a5)][_0x4996d9(0x1ae)](_0x4996d9(0x1e2))['ENABLED']){let _0x53dc25=await A[_0x4996d9(0x64b)]()['db'](this[_0x4996d9(0x3a5)][_0x4996d9(0x1ae)](_0x4996d9(0x1e2))['CONNECTION']['DB_PREFIX_NAME']+'-instances')[_0x4996d9(0x5d3)](this[_0x4996d9(0x7bd)])[_0x4996d9(0x104)]({'_id':_0x4996d9(0x731)});if(_0x53dc25){let _0x49d48d=JSON[_0x4996d9(0x473)](JSON['stringify'](_0x53dc25),w[_0x4996d9(0x2fa)]['reviver']);_0x1ef5b2=_0x49d48d['me']?.[_0x4996d9(0x73f)]||_0x49d48d['me']?.[_0x4996d9(0x5e2)];}}else{if((0x0,Fe[_0x4996d9(0x745)])((0x0,J['join'])(Me,this[_0x4996d9(0x7bd)],_0x4996d9(0x197)))){let _0x200558=JSON[_0x4996d9(0x473)]((0x0,Fe[_0x4996d9(0x203)])((0x0,J[_0x4996d9(0x755)])(Me,this[_0x4996d9(0x7bd)],_0x4996d9(0x197)),{'encoding':_0x4996d9(0x6e2)}));_0x1ef5b2=_0x200558['me']?.[_0x4996d9(0x73f)]||_0x200558['me']?.[_0x4996d9(0x5e2)];}}}return _0x1ef5b2;}get[a0_0x46d805(0x2cc)](){const _0x5c6730=a0_0x46d805;return this[_0x5c6730(0x388)]['profilePictureUrl'];}get[a0_0x46d805(0x406)](){const _0x9a93d1=a0_0x46d805;return this[_0x9a93d1(0x388)][_0x9a93d1(0x5fd)]?.[_0x9a93d1(0x768)]?{'pairingCode':this[_0x9a93d1(0x388)][_0x9a93d1(0x5fd)]?.[_0x9a93d1(0x768)]}:{'code':this[_0x9a93d1(0x388)]['qrcode']?.[_0x9a93d1(0x38b)],'base64':this['instance'][_0x9a93d1(0x5fd)]?.['base64']};}async[a0_0x46d805(0x3fe)](){const _0x4f9a2d=a0_0x46d805;let _0x1d873b=await this[_0x4f9a2d(0x7a6)][_0x4f9a2d(0x3bc)][_0x4f9a2d(0x3d2)](this[_0x4f9a2d(0x7bd)]);this[_0x4f9a2d(0x677)]['url']=_0x1d873b?.[_0x4f9a2d(0x5e7)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x2b6)]=_0x1d873b?.[_0x4f9a2d(0x2b6)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x487)]=_0x1d873b?.[_0x4f9a2d(0x487)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x68a)]=_0x1d873b?.[_0x4f9a2d(0x68a)],this[_0x4f9a2d(0x677)]['QRCODE_UPDATED']=_0x1d873b?.['QRCODE_UPDATED'],this['localWebhook'][_0x4f9a2d(0x1d7)]=_0x1d873b?.[_0x4f9a2d(0x1d7)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x70e)]=_0x1d873b?.['MESSAGES_UPSERT'],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x1c6)]=_0x1d873b?.[_0x4f9a2d(0x1c6)],this['localWebhook']['GROUPS_UPSERT']=_0x1d873b?.[_0x4f9a2d(0x229)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x81d)]=_0x1d873b?.['GROUPS_UPDATE'],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x43f)]=_0x1d873b?.[_0x4f9a2d(0x43f)],this['localWebhook']['CHATS_SET']=_0x1d873b?.['CHATS_SET'],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x3d4)]=_0x1d873b?.[_0x4f9a2d(0x3d4)],this['localWebhook'][_0x4f9a2d(0x74a)]=_0x1d873b?.['CHATS_UPDATE'],this['localWebhook'][_0x4f9a2d(0x21c)]=_0x1d873b?.[_0x4f9a2d(0x21c)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x697)]=_0x1d873b?.['CONTACTS_SET'],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x4c4)]=_0x1d873b?.['CONTACTS_UPSERT'],this['localWebhook'][_0x4f9a2d(0x192)]=_0x1d873b?.[_0x4f9a2d(0x192)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x12b)]=_0x1d873b?.['PRESENCE_UPDATE'],this[_0x4f9a2d(0x677)]['MESSAGES_SET']=_0x1d873b?.[_0x4f9a2d(0x6c6)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x682)]=_0x1d873b?.[_0x4f9a2d(0x682)],this[_0x4f9a2d(0x677)][_0x4f9a2d(0x53d)]=_0x1d873b?.[_0x4f9a2d(0x53d)];}async[a0_0x46d805(0x761)](_0x1219a5){const _0x2b789d=a0_0x46d805;let _0xf8404=[_0x2b789d(0x1ed),_0x2b789d(0x5e7),_0x2b789d(0x2b6),'local_map',_0x2b789d(0x68a),_0x2b789d(0x1d0),_0x2b789d(0x1c6),'MESSAGES_UPSERT',_0x2b789d(0x1d7),_0x2b789d(0x229),_0x2b789d(0x81d),_0x2b789d(0x43f),_0x2b789d(0x655),_0x2b789d(0x3d4),_0x2b789d(0x74a),_0x2b789d(0x21c),_0x2b789d(0x697),_0x2b789d(0x4c4),'CONTACTS_UPDATE',_0x2b789d(0x12b),_0x2b789d(0x6c6),_0x2b789d(0x682),_0x2b789d(0x53d)],_0x1c6706={};return _0xf8404[_0x2b789d(0x1db)](_0x5e417d=>{_0x1219a5[_0x5e417d]!==void 0x0&&(_0x1c6706[_0x5e417d]=_0x1219a5[_0x5e417d]);}),_0x1c6706[_0x2b789d(0x5e7)]&&(_0x1c6706['url']=_0x1c6706[_0x2b789d(0x5e7)]['trim']()),await this[_0x2b789d(0x7a6)][_0x2b789d(0x3bc)][_0x2b789d(0x78a)](_0x1c6706,this[_0x2b789d(0x7bd)]),Object[_0x2b789d(0x3d5)](this['localWebhook'],_0x1c6706),await this[_0x2b789d(0x7a6)][_0x2b789d(0x3bc)][_0x2b789d(0x3d2)](this[_0x2b789d(0x7bd)]);}async['findWebhook'](){const _0x42dde8=a0_0x46d805;return await this[_0x42dde8(0x7a6)][_0x42dde8(0x3bc)][_0x42dde8(0x3d2)](this['instanceName']);}async['sendDataWebhook'](_0x3c17b3,_0x3f4e92){const _0x318569=a0_0x46d805;let _0x500e5c=_0x3c17b3[_0x318569(0x1cd)](/[\.-]/gm,'_')[_0x318569(0x53a)](),_0x4d5b02=this[_0x318569(0x677)][_0x318569(0x2b6)]&&(0x0,F['isURL'])(this[_0x318569(0x677)]['url'])?this[_0x318569(0x677)][_0x318569(0x5e7)]+(this[_0x318569(0x677)][_0x318569(0x487)]?this[_0x318569(0x27e)][_0x3c17b3]:''):null,_0x42c85e=this[_0x318569(0x677)][_0x500e5c],_0x819a38=fe&&fe['enabled']&&(0x0,F[_0x318569(0x136)])(fe[_0x318569(0x5e7)])?fe[_0x318569(0x5e7)]+(fe['local_map']?this['webhookMap'][_0x3c17b3]:''):null,_0x22b8ba=fe?fe[_0x500e5c]:null;if(_0x42c85e&&_0x4d5b02)try{await Z[_0x318569(0x6ef)][_0x318569(0x78a)]({'baseURL':_0x4d5b02})['post']('',{'event':_0x3c17b3,'instance':this['instance'][_0x318569(0x73f)],'apikey':this[_0x318569(0x388)]['apikey'],'data':_0x3f4e92}),this[_0x318569(0x5c8)][_0x318569(0x507)](this[_0x318569(0x7bd)]+'\x20('+this[_0x318569(0x388)][_0x318569(0x680)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3c17b3+':\x20'+_0x4d5b02);}catch{this[_0x318569(0x5c8)][_0x318569(0x7ba)](this[_0x318569(0x7bd)]+'\x20('+this[_0x318569(0x388)][_0x318569(0x680)]+_0x318569(0x709)+_0x3c17b3+':\x20'+_0x4d5b02);}if(_0x22b8ba&&_0x819a38)try{await Z[_0x318569(0x6ef)][_0x318569(0x78a)]({'baseURL':_0x819a38})[_0x318569(0x25f)]('',{'event':_0x3c17b3,'instance':this[_0x318569(0x388)][_0x318569(0x73f)],'apikey':this[_0x318569(0x388)][_0x318569(0x81a)],'data':_0x3f4e92}),this[_0x318569(0x5c8)]['log'](this['instanceName']+'\x20('+this[_0x318569(0x388)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3c17b3+':\x20'+_0x819a38);}catch{this[_0x318569(0x5c8)][_0x318569(0x7ba)](this[_0x318569(0x7bd)]+'\x20('+this[_0x318569(0x388)][_0x318569(0x680)]+_0x318569(0x6da)+_0x3c17b3+':\x20'+_0x819a38);}}async['connectionUpdate']({qr:_0x1b1b0,connection:_0x19e710,lastDisconnect:_0x53493c,receivedPendingNotifications:_0x1c22c5}){const _0x2a7b58=a0_0x46d805;if(_0x1b1b0){if(this[_0x2a7b58(0x388)][_0x2a7b58(0x5fd)][_0x2a7b58(0x3b7)]===Fo)return this[_0x2a7b58(0x408)]('qrcode.updated',{'message':_0x2a7b58(0x243),'statusCode':w[_0x2a7b58(0x352)]['badSession']}),this[_0x2a7b58(0x222)]={'state':'refused','statusReason':w['DisconnectReason'][_0x2a7b58(0x740)]},this[_0x2a7b58(0x408)]('connection.update',{'instance':this[_0x2a7b58(0x388)][_0x2a7b58(0x73f)],...this[_0x2a7b58(0x222)]}),this[_0x2a7b58(0x408)](_0x2a7b58(0x21e),{'instance':this[_0x2a7b58(0x388)][_0x2a7b58(0x73f)],'status':_0x2a7b58(0x732)}),this[_0x2a7b58(0x7a6)][_0x2a7b58(0x604)]['delete'](this[_0x2a7b58(0x388)][_0x2a7b58(0x73f)]),this[_0x2a7b58(0x264)]=!0x0,me[_0x2a7b58(0x6c8)](ee,this[_0x2a7b58(0x388)][_0x2a7b58(0x73f)]),this['eventEmitter'][_0x2a7b58(0x27d)]('no.connection',this['instance'][_0x2a7b58(0x73f)]);this[_0x2a7b58(0x388)][_0x2a7b58(0x5fd)][_0x2a7b58(0x3b7)]++;let _0x3e05dc={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};xi[_0x2a7b58(0x6ef)]['toDataURL'](_0x1b1b0,_0x3e05dc,(_0x2e4c37,_0xebb211)=>{const _0x2d29a4=_0x2a7b58;if(_0x2e4c37){this[_0x2d29a4(0x5c8)][_0x2d29a4(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x2d29a4(0x680)]+_0x2d29a4(0x57f)+(_0x2e4c37 instanceof Error?_0x2e4c37[_0x2d29a4(0x620)]:JSON['stringify'](_0x2e4c37,null,0x2)));return;}this[_0x2d29a4(0x388)][_0x2d29a4(0x5fd)]['base64']=_0xebb211,this[_0x2d29a4(0x388)][_0x2d29a4(0x5fd)]['code']=_0x1b1b0,!this['phoneNumber']&&this[_0x2d29a4(0x408)](_0x2d29a4(0x221),{'qrcode':{'instance':this[_0x2d29a4(0x388)][_0x2d29a4(0x73f)],'pairingCode':this[_0x2d29a4(0x388)][_0x2d29a4(0x5fd)][_0x2d29a4(0x768)],'code':_0x1b1b0,'base64':_0xebb211}});}),this[_0x2a7b58(0x6b9)]?this['instance']['qrcode'][_0x2a7b58(0x768)]||(await(0x0,w[_0x2a7b58(0x190)])(0x7d0),this[_0x2a7b58(0x388)][_0x2a7b58(0x5fd)][_0x2a7b58(0x768)]=await this['client'][_0x2a7b58(0x3eb)](this['phoneNumber'])):this[_0x2a7b58(0x388)][_0x2a7b58(0x5fd)][_0x2a7b58(0x768)]=null,Di[_0x2a7b58(0x6ef)][_0x2a7b58(0x36d)](_0x1b1b0,{'small':!0x0},_0x34daa9=>this['logger']['log'](_0x2a7b58(0x4b7)+this['instance'][_0x2a7b58(0x73f)]+_0x2a7b58(0x534)+this[_0x2a7b58(0x388)][_0x2a7b58(0x5fd)][_0x2a7b58(0x3b7)]+_0x2a7b58(0x437)+this['instance'][_0x2a7b58(0x5fd)][_0x2a7b58(0x768)]+'\x20}\x0a'+_0x34daa9));}if(_0x19e710&&(this['stateConnection']={'state':_0x19e710,'statusReason':_0x53493c?.[_0x2a7b58(0x7ba)]?.[_0x2a7b58(0x809)]?.[_0x2a7b58(0x7be)]??0xc8},this[_0x2a7b58(0x408)](_0x2a7b58(0x454),{'instance':this[_0x2a7b58(0x388)][_0x2a7b58(0x73f)],...this['stateConnection']})),_0x19e710==='close'){if(this[_0x2a7b58(0x62b)]++,this['reconnectTimestamps'][_0x2a7b58(0x70b)](Date[_0x2a7b58(0x506)]()),this['reconnectTimestamps']=this[_0x2a7b58(0x7c5)][_0x2a7b58(0x130)](_0x585348=>Date[_0x2a7b58(0x506)]()-_0x585348<this[_0x2a7b58(0x27a)]),_0x53493c[_0x2a7b58(0x7ba)]?.[_0x2a7b58(0x809)]?.[_0x2a7b58(0x7be)]!==w[_0x2a7b58(0x352)][_0x2a7b58(0x6fd)]){let _0x36c8e8=this['reconnectAttempts']<=0x1?0x0:Math[_0x2a7b58(0x6a6)](Math['pow'](0x2,this[_0x2a7b58(0x62b)]-0x1)*0x3e8,0x493e0);console['log'](this[_0x2a7b58(0x7bd)]+_0x2a7b58(0x75f)+this[_0x2a7b58(0x62b)]+'.\x20Aguardando\x20'+_0x36c8e8/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x3550b6=>setTimeout(_0x3550b6,_0x36c8e8)),console[_0x2a7b58(0x507)]('Tentando\x20reconectar...'),await this[_0x2a7b58(0x384)]();}else{this[_0x2a7b58(0x408)](_0x2a7b58(0x21e),{'instance':this[_0x2a7b58(0x388)][_0x2a7b58(0x73f)],'status':_0x2a7b58(0x732)}),this['instance']['ScheduleMessage'][_0x2a7b58(0x7ee)]=!0x1,this[_0x2a7b58(0x7a6)]['webhook']['delete'](this['instanceName']),this[_0x2a7b58(0x7a6)][_0x2a7b58(0x604)][_0x2a7b58(0x78a)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2a7b58(0x506)]()},this['instance'][_0x2a7b58(0x73f)]),me[_0x2a7b58(0x6c8)](ee,this['instance'][_0x2a7b58(0x73f)]);try{this[_0x2a7b58(0x5c8)][_0x2a7b58(0x699)](this['instanceName']+'\x20('+this[_0x2a7b58(0x388)][_0x2a7b58(0x680)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x52f3a4=await this['repository']['message'][_0x2a7b58(0x6f5)](this[_0x2a7b58(0x388)][_0x2a7b58(0x680)]);_0x52f3a4[_0x2a7b58(0x51e)]?this[_0x2a7b58(0x5c8)][_0x2a7b58(0x699)](this[_0x2a7b58(0x7bd)]+'\x20('+this[_0x2a7b58(0x388)][_0x2a7b58(0x680)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this[_0x2a7b58(0x5c8)]['error'](_0x2a7b58(0x5bd)+_0x52f3a4['error']);}catch(_0x40c601){this['logger'][_0x2a7b58(0x7ba)](_0x2a7b58(0x4ff)+_0x40c601[_0x2a7b58(0x620)]);}this['instance'][_0x2a7b58(0x41b)]['delayMessage']!==null&&(this[_0x2a7b58(0x5c8)][_0x2a7b58(0x699)](this['instanceName']+'\x20('+this['instance'][_0x2a7b58(0x680)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['instance'][_0x2a7b58(0x41b)][_0x2a7b58(0x764)]),this['instance'][_0x2a7b58(0x41b)][_0x2a7b58(0x764)]=null),this[_0x2a7b58(0x5c8)]['verbose'](this[_0x2a7b58(0x7bd)]+'\x20('+this['instance'][_0x2a7b58(0x680)]+_0x2a7b58(0x43e)),this['AutomateSystem']=null,this[_0x2a7b58(0x4d2)][_0x2a7b58(0x27d)](_0x2a7b58(0x826),this[_0x2a7b58(0x388)]['name'],_0x2a7b58(0x749)),this[_0x2a7b58(0x3bf)]?.['ws']?.[_0x2a7b58(0x7cc)](),this[_0x2a7b58(0x3bf)][_0x2a7b58(0x23a)](new Error(_0x2a7b58(0x18a)));}}if(_0x19e710===_0x2a7b58(0x16f)){this[_0x2a7b58(0x5c8)][_0x2a7b58(0x4fa)](this['instanceName']+'\x20('+this[_0x2a7b58(0x388)][_0x2a7b58(0x680)]+_0x2a7b58(0x1c0)+this[_0x2a7b58(0x3bf)]['authState'][_0x2a7b58(0x731)]?.[_0x2a7b58(0x424)]),this[_0x2a7b58(0x3bf)][_0x2a7b58(0x64a)]['creds']?.[_0x2a7b58(0x424)]||(this['logger']['warn'](this['instanceName']+'\x20('+this[_0x2a7b58(0x388)][_0x2a7b58(0x680)]+_0x2a7b58(0x83c)),this[_0x2a7b58(0x3bf)]['ev'][_0x2a7b58(0x6a9)]()),this[_0x2a7b58(0x566)],this[_0x2a7b58(0x388)]['wuid']=this[_0x2a7b58(0x3bf)]['user']['id'][_0x2a7b58(0x1cd)](/:\d+/,'')['replace']('@s.whatsapp.net',''),this['instance'][_0x2a7b58(0x2cc)]=(await this[_0x2a7b58(0x445)](this[_0x2a7b58(0x388)][_0x2a7b58(0x680)]+_0x2a7b58(0x602)))[_0x2a7b58(0x2cc)],this[_0x2a7b58(0x7a6)][_0x2a7b58(0x604)][_0x2a7b58(0x78a)]({'online':!0x0,'owner':this[_0x2a7b58(0x388)][_0x2a7b58(0x680)],'lastDisconnect':null},this[_0x2a7b58(0x388)][_0x2a7b58(0x73f)]);let _0x25545d=_0x2a7b58(0x76a)+this['instance'][_0x2a7b58(0x680)],_0x3b0666=0x28,_0x32d8e1=Math['floor']((_0x3b0666-_0x25545d[_0x2a7b58(0x47a)])/0x2),_0x278971='\x20'['repeat'](_0x32d8e1),_0x37370c='CONECTADO\x20À\x20UAZAPI',_0x8aebef=_0x2a7b58(0x410)+this[_0x2a7b58(0x388)]['name'],_0x1ae3ae=(''+_0x278971+_0x25545d+_0x278971)['padEnd'](_0x3b0666,'\x20'),_0x5c58c7=(''+_0x278971+_0x37370c+_0x278971)[_0x2a7b58(0x45f)](_0x3b0666,'\x20'),_0x249492=(''+_0x278971+_0x8aebef+_0x278971)[_0x2a7b58(0x45f)](_0x3b0666,'\x20'),_0x3bd32a=Math[_0x2a7b58(0x584)](_0x1ae3ae[_0x2a7b58(0x47a)],_0x5c58c7[_0x2a7b58(0x47a)],_0x249492[_0x2a7b58(0x47a)]),_0x399a23=_0x1ae3ae[_0x2a7b58(0x45f)](_0x3bd32a,'\x20'),_0x5135d3=_0x5c58c7[_0x2a7b58(0x45f)](_0x3bd32a,'\x20'),_0x40d644=_0x249492[_0x2a7b58(0x45f)](_0x3bd32a,'\x20');this[_0x2a7b58(0x5c8)][_0x2a7b58(0x5bb)]((_0x2a7b58(0x6d9)+'─'['repeat'](_0x3bd32a)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5135d3+_0x2a7b58(0x67e)+_0x40d644+_0x2a7b58(0x67e)+_0x399a23+_0x2a7b58(0x425)+'─'[_0x2a7b58(0x22e)](_0x3bd32a)+'┘')[_0x2a7b58(0x1cd)](/^ +/gm,'\x20\x20')),this[_0x2a7b58(0x3c3)](),this[_0x2a7b58(0x388)][_0x2a7b58(0x41b)][_0x2a7b58(0x7ee)]=!0x0;}}[a0_0x46d805(0x566)](){const _0x5db4ad=a0_0x46d805;this[_0x5db4ad(0x62b)]=0x0,this['reconnectTimestamps']=[];}async['getMessage'](_0x321261,_0x5b1244=!0x1){const _0x533ba3=a0_0x46d805;try{let _0x39f8b7=await this[_0x533ba3(0x7a6)][_0x533ba3(0x620)][_0x533ba3(0x3d2)]({'where':{'_id':_0x321261['id']}},this[_0x533ba3(0x388)][_0x533ba3(0x680)]);return _0x5b1244?_0x39f8b7[0x0]:_0x39f8b7[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x46d805(0x3a7)](){const _0x2086bb=a0_0x46d805;let _0x3f97c1=this[_0x2086bb(0x3a5)][_0x2086bb(0x1ae)](_0x2086bb(0x2d6)),_0x9bbba2=this['configService'][_0x2086bb(0x1ae)]('DATABASE');_0x3f97c1?.['CLEANING_INTERVAL']&&!_0x9bbba2['ENABLED']&&setInterval(()=>{const _0x360a1a=_0x2086bb;try{for(let [_0x33955e,_0x19d127]of Object[_0x360a1a(0x50a)](_0x3f97c1))_0x19d127===!0x0&&(0x0,Ue[_0x360a1a(0x791)])(_0x360a1a(0x5df)+(0x0,J['join'])(this[_0x360a1a(0x2b3)],_0x33955e[_0x360a1a(0x22d)](),this[_0x360a1a(0x388)]['wuid'])+_0x360a1a(0x353));}catch{}},(_0x3f97c1?.[_0x2086bb(0x50d)]??0xe10)*0x3e8);}async[a0_0x46d805(0x223)](){const _0x22eb55=a0_0x46d805;let _0x2e94b2=this[_0x22eb55(0x3a5)][_0x22eb55(0x1ae)](_0x22eb55(0x1e2)),_0x21ece3=this[_0x22eb55(0x3a5)][_0x22eb55(0x1ae)](_0x22eb55(0x4c3));return _0x21ece3?.['ENABLED']?await Os(_0x21ece3,this[_0x22eb55(0x388)]['name']):_0x2e94b2[_0x22eb55(0x272)]?await _s(this['instance']['name']):await(0x0,w[_0x22eb55(0x63c)])((0x0,J[_0x22eb55(0x755)])(Me,this[_0x22eb55(0x388)][_0x22eb55(0x73f)]));}async[a0_0x46d805(0x3c3)](){const _0x3e5e33=a0_0x46d805;let _0x52f36e=()=>Math['floor'](Math['random']()*0x4e21)+0x7d0,_0x5745bc=async()=>{const _0x29b1ca=a0_0x1054;if(!this[_0x29b1ca(0x388)][_0x29b1ca(0x41b)]['isConnected']){this[_0x29b1ca(0x5c8)][_0x29b1ca(0x699)](this['instanceName']+'\x20('+this['instance'][_0x29b1ca(0x680)]+_0x29b1ca(0x569)),this[_0x29b1ca(0x4aa)]=!0x1;return;}if(this['instance'][_0x29b1ca(0x680)]&&this[_0x29b1ca(0x53e)]&&this[_0x29b1ca(0x388)][_0x29b1ca(0x41b)][_0x29b1ca(0x764)]!==null&&this['instance'][_0x29b1ca(0x41b)][_0x29b1ca(0x764)]!==void 0x0){let _0x5f37c9=Math[_0x29b1ca(0x7ca)](this[_0x29b1ca(0x388)][_0x29b1ca(0x41b)][_0x29b1ca(0x764)]/0xea60);this[_0x29b1ca(0x5c8)]['verbose'](this[_0x29b1ca(0x7bd)]+'\x20('+this[_0x29b1ca(0x388)][_0x29b1ca(0x680)]+_0x29b1ca(0x4ea)+_0x5f37c9+_0x29b1ca(0x795)),this[_0x29b1ca(0x4aa)]=!0x1;return;}else this['instance'][_0x29b1ca(0x680)]&&(this['logger'][_0x29b1ca(0x699)](this[_0x29b1ca(0x7bd)]+'\x20('+this[_0x29b1ca(0x388)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||(await this[_0x29b1ca(0x26b)](),this[_0x29b1ca(0x7b8)](),this[_0x29b1ca(0x788)]()),(this[_0x29b1ca(0x388)][_0x29b1ca(0x41b)][_0x29b1ca(0x764)]===null||this['instance'][_0x29b1ca(0x41b)][_0x29b1ca(0x764)]===void 0x0)&&await this[_0x29b1ca(0x2bf)]());if(this[_0x29b1ca(0x4aa)]){let _0x2fc5de=_0x52f36e();this[_0x29b1ca(0x5c8)][_0x29b1ca(0x699)](this[_0x29b1ca(0x7bd)]+_0x29b1ca(0x159)+_0x2fc5de/0x3e8+'\x20segundos'),setTimeout(_0x5745bc,_0x2fc5de);}};if(this[_0x3e5e33(0x4aa)])return;this[_0x3e5e33(0x4aa)]=!0x0;let _0x55a985=_0x52f36e();setTimeout(_0x5745bc,_0x55a985);}async[a0_0x46d805(0x788)](){const _0x5a4893=a0_0x46d805;let _0x261ce0=this[_0x5a4893(0x388)][_0x5a4893(0x680)];try{let _0x58b903=await this[_0x5a4893(0x7a6)]['flow']['findAll']({'where':{'$or':[{'owner':_0x261ce0},{'whoCanUse':{'$in':[_0x261ce0]}},{'shareOwners':{'$in':[_0x261ce0]}}]}}),_0xfd00bd=new Map(this[_0x5a4893(0x53e)][_0x5a4893(0x2b5)][_0x5a4893(0x1bd)](_0x33dbd5=>[_0x33dbd5['_id'],_0x33dbd5])),_0x57e804=_0x58b903['map'](_0x358150=>{const _0x191c1d=_0x5a4893;let _0x437199=_0xfd00bd[_0x191c1d(0x1ae)](_0x358150['_id']?.['toString']());return{'_id':_0x358150['_id']?.[_0x191c1d(0x821)](),'name':_0x437199?.[_0x191c1d(0x73f)]??_0x358150[_0x191c1d(0x73f)],'default':_0x437199?.['default']??_0x358150[_0x191c1d(0x6ef)]??!0x1,'startCommand':_0x437199?.[_0x191c1d(0x7e2)]??_0x358150[_0x191c1d(0x48e)],'minutesToClose':_0x437199?.[_0x191c1d(0x589)]??_0x358150['minutesToClose']??0xa,'readMessages':_0x437199?.['readMessages']??_0x358150[_0x191c1d(0x742)]??!0x1,'testingWith':_0x437199?.[_0x191c1d(0x248)]??_0x358150[_0x191c1d(0x248)],'canEdit':_0x358150[_0x191c1d(0x237)]===_0x261ce0||(_0x358150['whoCanEdit']??[])[_0x191c1d(0x7ff)](_0x261ce0),'usersCount':(_0x358150[_0x191c1d(0x10b)]??[])[_0x191c1d(0x47a)]??0x0};}),_0x48a36c=!0x1;_0x57e804['forEach'](_0x3efe88=>{const _0x460e2e=_0x5a4893;_0x3efe88[_0x460e2e(0x6ef)]&&(_0x48a36c?_0x3efe88[_0x460e2e(0x6ef)]=!0x1:_0x48a36c=!0x0);}),this[_0x5a4893(0x53e)]['flows']=_0x57e804;let _0x582992={'flows':_0x57e804};return await this['repository'][_0x5a4893(0x7bc)][_0x5a4893(0x5a5)](_0x582992,_0x261ce0),this['logger'][_0x5a4893(0x699)](this[_0x5a4893(0x7bd)]+'\x20('+_0x261ce0+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x57e804[_0x5a4893(0x47a)];}catch(_0x2f8493){return this[_0x5a4893(0x5c8)]['error'](this['instanceName']+'\x20('+_0x261ce0+_0x5a4893(0x80d)+(_0x2f8493 instanceof Error?_0x2f8493[_0x5a4893(0x620)]:JSON[_0x5a4893(0x7e7)](_0x2f8493,null,0x2))),{'message':_0x5a4893(0x5b1)+(_0x2f8493 instanceof Error?_0x2f8493['message']:JSON[_0x5a4893(0x7e7)](_0x2f8493,null,0x2))};}}async[a0_0x46d805(0x384)](_0x4d0ecd){const _0x1f7b0c=a0_0x46d805;try{let _0x406350=await this[_0x1f7b0c(0x7a6)]['instance'][_0x1f7b0c(0x104)]({'where':{'_id':ee+'-'+this[_0x1f7b0c(0x7bd)]}}),_0x230db6;console[_0x1f7b0c(0x507)](_0x1f7b0c(0x356)),console[_0x1f7b0c(0x507)]('proxy:\x20',Ti),console['log'](_0x1f7b0c(0x1e5),this[_0x1f7b0c(0x62b)]),console[_0x1f7b0c(0x507)]('--------------------------------------'),Ti&&(this[_0x1f7b0c(0x62b)]<0x6||!this[_0x1f7b0c(0x62b)])&&(!me[_0x1f7b0c(0x77a)]||!me[_0x1f7b0c(0x4bc)]?(console[_0x1f7b0c(0x7ba)](_0x1f7b0c(0x825)),_0x230db6=void 0x0):_0x406350&&_0x406350['ip']?(_0x230db6=_0x406350['ip'],console[_0x1f7b0c(0x507)](_0x1f7b0c(0x7c0)+_0x230db6)):(_0x230db6=await me[_0x1f7b0c(0x165)](ee,this[_0x1f7b0c(0x388)]['name']),_0x230db6?(console['log'](_0x1f7b0c(0x502)+_0x230db6),await(0x0,w['delay'])(0x7d0)):console[_0x1f7b0c(0x7ba)](_0x1f7b0c(0x4a3)))),this['loadWebhook'](),this['instance']['apikey']=(await this['repository'][_0x1f7b0c(0x604)]['find'](this[_0x1f7b0c(0x388)][_0x1f7b0c(0x73f)]))[_0x1f7b0c(0x81a)],this[_0x1f7b0c(0x388)]['authState']=await this[_0x1f7b0c(0x223)]();let {version:_0x406f41}=await(0x0,w[_0x1f7b0c(0x6e6)])(),_0x15be5c=[ki,Fs,(0x0,Ps['release'])()],_0x235b62={'localAddress':_0x230db6,'auth':{'creds':this[_0x1f7b0c(0x388)][_0x1f7b0c(0x64a)][_0x1f7b0c(0x4da)][_0x1f7b0c(0x731)],'keys':(0x0,w[_0x1f7b0c(0x7c7)])(this[_0x1f7b0c(0x388)]['authState'][_0x1f7b0c(0x4da)][_0x1f7b0c(0x5f6)],(0x0,Jt['default'])({'level':_0x1f7b0c(0x7ba)}))},'logger':(0x0,Jt[_0x1f7b0c(0x6ef)])({'level':_0x1f7b0c(0x7ba)}),'printQRInTerminal':!0x1,'browser':_0x4d0ecd?[_0x1f7b0c(0x56e),Fs,(0x0,Ps[_0x1f7b0c(0x382)])()]:_0x15be5c,'version':_0x406f41,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x32b335=>{const _0x1d23cd=_0x1f7b0c;let _0x4230b0=this[_0x1d23cd(0x677)]?.[_0x1d23cd(0x53d)]&&(0x0,w['isJidGroup'])(_0x32b335);return(0x0,w[_0x1d23cd(0x767)])(_0x32b335)||_0x4230b0;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x40015f=>await this['getMessage'](_0x40015f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1f7b0c(0x163)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x20b97a=>(_0x20b97a[_0x1f7b0c(0x5dc)]?.[_0x1f7b0c(0x2fd)]==w[_0x1f7b0c(0x590)][_0x1f7b0c(0x4fe)][_0x1f7b0c(0x360)][_0x1f7b0c(0x2a9)][_0x1f7b0c(0x62c)]&&(_0x20b97a=JSON[_0x1f7b0c(0x473)](JSON['stringify'](_0x20b97a)),_0x20b97a[_0x1f7b0c(0x5dc)][_0x1f7b0c(0x2fd)]=w[_0x1f7b0c(0x590)][_0x1f7b0c(0x4fe)]['ListMessage'][_0x1f7b0c(0x2a9)][_0x1f7b0c(0x258)]),_0x20b97a)};return this['endSession']=!0x1,this[_0x1f7b0c(0x3bf)]=(0x0,w[_0x1f7b0c(0x6ef)])(_0x235b62),this[_0x1f7b0c(0x3e9)](),this['phoneNumber']=_0x4d0ecd,this[_0x1f7b0c(0x3bf)];}catch(_0x455e99){let _0x5e3ea1=_0x1f7b0c(0x105),_0x42db66=_0x455e99 instanceof Error?_0x455e99[_0x1f7b0c(0x620)]:typeof _0x455e99==_0x1f7b0c(0x1a3)?JSON[_0x1f7b0c(0x7e7)](_0x455e99):_0x455e99,_0x426476=_0x5e3ea1+':\x20'+_0x42db66;throw this[_0x1f7b0c(0x5c8)][_0x1f7b0c(0x7ba)](this[_0x1f7b0c(0x7bd)]+'\x20('+this['instance'][_0x1f7b0c(0x680)]+_0x1f7b0c(0x32d)+_0x426476),new x(_0x426476);}}['eventHandler'](){const _0x215ed4=a0_0x46d805;this['client']['ev'][_0x215ed4(0x7a3)](_0x1412c1=>{const _0x1e8660=_0x215ed4;if(!this[_0x1e8660(0x264)]){let _0x5750ae=this[_0x1e8660(0x3a5)][_0x1e8660(0x1ae)](_0x1e8660(0x1e2));if(_0x1412c1[_0x1e8660(0x516)]){let _0xa331d7=_0x1412c1[_0x1e8660(0x516)];this[_0x1e8660(0x289)]['labels.edit'](_0xa331d7);}if(_0x1412c1['labels.association']){let _0x1244c0=_0x1412c1[_0x1e8660(0x5a0)];this['messageHandle'][_0x1e8660(0x5a0)](_0x1244c0);}if(_0x1412c1[_0x1e8660(0x454)]&&this[_0x1e8660(0x1d8)](_0x1412c1[_0x1e8660(0x454)]),_0x1412c1[_0x1e8660(0x510)]&&this['instance']['authState'][_0x1e8660(0x2e7)](),_0x1412c1[_0x1e8660(0x5d5)]){let _0x2819e6=_0x1412c1[_0x1e8660(0x5d5)];this[_0x1e8660(0x289)][_0x1e8660(0x5d5)](_0x2819e6,_0x5750ae);}if(_0x1412c1['messages.upsert']){let _0x4688cc=_0x1412c1[_0x1e8660(0x80b)];this[_0x1e8660(0x289)][_0x1e8660(0x80b)](_0x4688cc,_0x5750ae);}if(_0x1412c1[_0x1e8660(0x3a0)]){let _0x962761=_0x1412c1[_0x1e8660(0x3a0)];_0x962761[_0x1e8660(0x1db)](_0x5a34a9=>{const _0x3b97b9=_0x1e8660;if(_i[_0x5a34a9[_0x3b97b9(0x2da)]['id']]){this['client']['ev'][_0x3b97b9(0x27d)](_0x3b97b9(0x80b),{'messages':[_0x5a34a9],'type':_0x3b97b9(0x5ba)}),delete _i[_0x5a34a9['key']['id']];return;}}),this[_0x1e8660(0x289)][_0x1e8660(0x3a0)](_0x962761,_0x5750ae);}if(_0x1412c1[_0x1e8660(0x1d3)]){let _0x3fa53c=_0x1412c1[_0x1e8660(0x1d3)];if(this[_0x1e8660(0x677)]?.[_0x1e8660(0x53d)]&&_0x3fa53c['id'][_0x1e8660(0x7ff)](_0x1e8660(0x4e0)))return;this[_0x1e8660(0x408)]('presence.update',_0x3fa53c);}if(_0x1412c1[_0x1e8660(0x71f)]){let _0x54f45a=_0x1412c1['groups.upsert'];this[_0x1e8660(0x2c1)][_0x1e8660(0x71f)](_0x54f45a);}if(_0x1412c1['groups.update']){let _0x59c29d=_0x1412c1[_0x1e8660(0x611)];this[_0x1e8660(0x2c1)][_0x1e8660(0x611)](_0x59c29d);}if(_0x1412c1[_0x1e8660(0x358)]){let _0x10ceb9=_0x1412c1['group-participants.update'];this[_0x1e8660(0x2c1)][_0x1e8660(0x358)](_0x10ceb9);}if(_0x1412c1[_0x1e8660(0x7d0)]){let _0x2a435d=_0x1412c1[_0x1e8660(0x7d0)];this[_0x1e8660(0x33e)][_0x1e8660(0x7d0)](_0x2a435d,_0x5750ae);}if(_0x1412c1[_0x1e8660(0x400)]){let _0x1ff49d=_0x1412c1['chats.update'];this[_0x1e8660(0x33e)][_0x1e8660(0x400)](_0x1ff49d,_0x5750ae);}if(_0x1412c1['chats.delete']){let _0x3d0f36=_0x1412c1[_0x1e8660(0x78c)];this[_0x1e8660(0x33e)]['chats.delete'](_0x3d0f36);}if(_0x1412c1[_0x1e8660(0x7c4)]){let _0x144071=_0x1412c1[_0x1e8660(0x7c4)];this[_0x1e8660(0x298)][_0x1e8660(0x7c4)](_0x144071,_0x5750ae);}if(_0x1412c1[_0x1e8660(0x7f0)]){let _0x404ecb=_0x1412c1[_0x1e8660(0x7f0)];this[_0x1e8660(0x298)][_0x1e8660(0x7f0)](_0x404ecb,_0x5750ae);}}});}[a0_0x46d805(0x1dc)](_0x3c4f51){return new Promise(_0x4abef2=>setTimeout(_0x4abef2,_0x3c4f51));}[a0_0x46d805(0x327)](_0xb92ea4){const _0x2e89d8=a0_0x46d805;_0xb92ea4=_0xb92ea4[_0x2e89d8(0x1cd)](/\D/g,'');let _0x281b51=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2e89d8(0x4e5)](_0xb92ea4);if(_0x281b51&&_0x281b51[0x1]==='55'){let _0xb0755=_0x281b51[0x2],_0x531c7d=_0x281b51[0x3],_0x1fed4a=_0x281b51[0x4];if(parseInt(_0xb0755)>=0x1f&&_0x531c7d==='9')return _0x281b51[0x1]+_0xb0755+_0x1fed4a;}return _0xb92ea4;}[a0_0x46d805(0x294)](_0x236986){const _0x3d78a8=a0_0x46d805;return _0x236986[_0x3d78a8(0x7ff)](_0x3d78a8(0x4e0))||_0x236986[_0x3d78a8(0x7ff)](_0x3d78a8(0x602))||_0x236986[_0x3d78a8(0x7ff)](_0x3d78a8(0x267))?_0x236986:(_0x236986=_0x236986?.[_0x3d78a8(0x1cd)](/\s/g,'')['replace'](/\+/g,'')[_0x3d78a8(0x1cd)](/\(/g,'')[_0x3d78a8(0x1cd)](/\)/g,'')[_0x3d78a8(0x76f)](/\:/)[0x0]['split']('@')[0x0],_0x236986[_0x3d78a8(0x47a)]>=0x12?(_0x236986=_0x236986[_0x3d78a8(0x1cd)](/[^\d-]/g,''),_0x236986+_0x3d78a8(0x4e0)):(_0x236986=_0x236986['replace'](/\D/g,''),_0x236986+'@s.whatsapp.net'));}async[a0_0x46d805(0x5a4)](_0x2eadff){const _0x579df9=a0_0x46d805;let _0x320682=(await this[_0x579df9(0x342)]({'numbers':[_0x2eadff[_0x579df9(0x19c)]]}))[0x0];if(!_0x320682['exists']&&!(0x0,w[_0x579df9(0x722)])(_0x320682[_0x579df9(0x7f6)])&&!_0x320682[_0x579df9(0x7f6)][_0x579df9(0x7ff)](_0x579df9(0x267)))throw new m(_0x320682);let _0x32f668=_0x320682['jid'];try{return await this[_0x579df9(0x3bf)][_0x579df9(0x3ce)](_0x32f668),await this['client'][_0x579df9(0x432)](_0x2eadff[_0x579df9(0x820)],_0x32f668),{'status':0xc8,'presence':_0x2eadff[_0x579df9(0x820)]};}catch(_0x447118){let _0x1b8ed9='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0xc29802=_0x447118 instanceof Error?_0x447118[_0x579df9(0x620)]:typeof _0x447118==_0x579df9(0x1a3)?JSON[_0x579df9(0x7e7)](_0x447118):_0x447118,_0x224d8c=_0x1b8ed9+':\x20'+_0xc29802;throw this[_0x579df9(0x5c8)][_0x579df9(0x7ba)](this['instanceName']+'\x20('+this[_0x579df9(0x388)][_0x579df9(0x680)]+_0x579df9(0x32d)+_0x224d8c),new m(_0x224d8c);}}async[a0_0x46d805(0x639)](_0x3078a7,_0x5ef40b,_0x28a672,_0x39daa8=!0x0){const _0x428e0d=a0_0x46d805;let _0x2ae04c=await this[_0x428e0d(0x7a6)][_0x428e0d(0x53f)][_0x428e0d(0x104)]({'where':{'_id':_0x3078a7}});if(!_0x2ae04c&&!_0x39daa8)return;let _0xe5367c={'lastUpdate':Date[_0x428e0d(0x506)]()};if(_0x28a672||!_0x2ae04c?.[_0x428e0d(0x21a)]||Date[_0x428e0d(0x506)]()-_0x2ae04c[_0x428e0d(0x21a)]>0x18*0x3c*0x3c*0x3e8)try{let _0xedda0c=(await this[_0x428e0d(0x445)](_0x3078a7))[_0x428e0d(0x2cc)];_0xe5367c['pictureUrl']=_0xedda0c;}catch(_0x35a998){let _0x2d27b1=_0x428e0d(0x34d),_0x2d37a7=_0x35a998 instanceof Error?_0x35a998[_0x428e0d(0x620)]:typeof _0x35a998==_0x428e0d(0x1a3)?JSON[_0x428e0d(0x7e7)](_0x35a998):_0x35a998,_0x34ae13=_0x2d27b1+':\x20'+_0x2d37a7;throw this['logger'][_0x428e0d(0x7ba)](this[_0x428e0d(0x7bd)]+'\x20('+this['instance'][_0x428e0d(0x680)]+_0x428e0d(0x32d)+_0x34ae13),new m(_0x34ae13);}return _0x5ef40b&&_0x2ae04c?.['name']!==_0x5ef40b&&(_0xe5367c['name']=_0x5ef40b),Object['keys'](_0xe5367c)['length']>0x1&&(_0x2ae04c?await this['repository'][_0x428e0d(0x53f)][_0x428e0d(0x5a5)]({'where':{'_id':_0x3078a7}},_0xe5367c):await this['repository'][_0x428e0d(0x53f)][_0x428e0d(0x752)]([{'_id':_0x3078a7,..._0xe5367c}]),_0x2ae04c={..._0x2ae04c,..._0xe5367c}),{'cachedContact':_0x2ae04c};}async[a0_0x46d805(0x445)](_0x2f74a8){const _0x3599f0=a0_0x46d805;let _0x46c471=this[_0x3599f0(0x294)](_0x2f74a8);try{return{'wuid':_0x46c471,'profilePictureUrl':await this[_0x3599f0(0x3bf)][_0x3599f0(0x2cc)](_0x46c471,_0x3599f0(0x633))};}catch{return{'wuid':_0x46c471,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x2a708b,_0x4a303a,_0x4cbb46){const _0x885e9e=a0_0x46d805;let _0x2215ca;try{let _0x47f987=(await this[_0x885e9e(0x342)]({'numbers':[_0x2a708b]}))[0x0];if(!_0x47f987[_0x885e9e(0x1f4)]&&!(0x0,w[_0x885e9e(0x722)])(_0x47f987[_0x885e9e(0x7f6)])&&!_0x47f987['jid'][_0x885e9e(0x7ff)]('@broadcast'))throw new m(_0x47f987);_0x2215ca=_0x47f987[_0x885e9e(0x7f6)];}catch(_0xada737){_0x2215ca=_0x2a708b,this[_0x885e9e(0x5c8)][_0x885e9e(0x4fa)](this['instanceName']+'\x20('+this[_0x885e9e(0x388)][_0x885e9e(0x680)]+_0x885e9e(0x5ab)+_0xada737[_0x885e9e(0x620)]),this[_0x885e9e(0x5c8)][_0x885e9e(0x4fa)](this[_0x885e9e(0x7bd)]+'\x20('+this['instance'][_0x885e9e(0x680)]+'):\x20sender\x20=\x20number:\x20'+_0x2215ca);}try{if(_0x2215ca||(_0x2215ca=_0x2a708b,this['logger'][_0x885e9e(0x4fa)](this[_0x885e9e(0x7bd)]+'\x20('+this[_0x885e9e(0x388)]['wuid']+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x2215ca)),_0x4cbb46||(_0x4cbb46={}),_0x4cbb46?.[_0x885e9e(0x190)]){await this[_0x885e9e(0x3bf)]['presenceSubscribe'](_0x2215ca),await this[_0x885e9e(0x3bf)][_0x885e9e(0x432)](_0x4cbb46?.[_0x885e9e(0x820)]??_0x885e9e(0x10c),_0x2215ca);let _0x72ad51=Math[_0x885e9e(0x6a6)](_0x4cbb46[_0x885e9e(0x190)],0x2710);await(0x0,w['delay'])(_0x72ad51),await this[_0x885e9e(0x3bf)]['sendPresenceUpdate']('paused',_0x2215ca);}let _0x17b882=_0x4cbb46?.[_0x885e9e(0x27f)]!=!0x1?void 0x0:!0x1,_0x57c5e0;if(_0x4cbb46?.[_0x885e9e(0x6f2)]){let _0x503aab=_0x4cbb46?.[_0x885e9e(0x6f2)],_0x39044f=_0x503aab?.[_0x885e9e(0x620)]?_0x503aab:await this['getMessage'](_0x503aab[_0x885e9e(0x2da)],!0x0);if(!_0x39044f)throw _0x885e9e(0x51a);_0x57c5e0=_0x39044f;}let _0x83ba14;if((0x0,w[_0x885e9e(0x722)])(_0x2215ca))try{let _0x3b2d3c=(await this[_0x885e9e(0x7a6)][_0x885e9e(0x64f)][_0x885e9e(0x104)]({'where':{'_id':_0x2215ca}},this[_0x885e9e(0x388)][_0x885e9e(0x680)]))[_0x885e9e(0x51d)];if(!_0x3b2d3c)throw new V(_0x885e9e(0x110));_0x4cbb46?.[_0x885e9e(0x4e4)]&&(_0x4cbb46[_0x885e9e(0x4e4)]?.['everyOne']?_0x83ba14=_0x3b2d3c['participants'][_0x885e9e(0x1bd)](_0x526dec=>_0x526dec['id']):_0x4cbb46[_0x885e9e(0x4e4)]?.[_0x885e9e(0x66c)]?.[_0x885e9e(0x47a)]&&(_0x83ba14=_0x4cbb46[_0x885e9e(0x4e4)][_0x885e9e(0x66c)][_0x885e9e(0x1bd)](_0x152252=>{const _0x10fb2a=_0x885e9e;let _0x24530b=this[_0x10fb2a(0x294)](_0x152252);return(0x0,w['isJidGroup'])(_0x24530b)?null:_0x24530b;})));}catch{throw new V(_0x885e9e(0x110));}let _0x137d32=await this[_0x885e9e(0x7a6)][_0x885e9e(0x64f)][_0x885e9e(0x104)]({'where':{'_id':_0x2215ca}},this[_0x885e9e(0x388)][_0x885e9e(0x680)]),_0x45d28a=await((async()=>{const _0x416039=_0x885e9e;let _0x120d09={'quoted':_0x57c5e0,'ephemeralExpiration':_0x137d32?.[_0x416039(0x7d2)]??0x0};if(!_0x4a303a[_0x416039(0x451)]&&!_0x4a303a[_0x416039(0x51f)]&&!_0x4a303a[_0x416039(0x456)]&&!_0x4a303a[_0x416039(0x299)]&&_0x2215ca!==_0x416039(0x316)&&!_0x4a303a[_0x416039(0x451)])return await this[_0x416039(0x3bf)][_0x416039(0x363)](_0x2215ca,{'forward':{'key':{'remoteJid':this['instance'][_0x416039(0x680)],'fromMe':!0x0},'message':_0x4a303a},'mentions':_0x83ba14},_0x120d09);if(_0x4a303a['reactionMessage'])return await this[_0x416039(0x3bf)][_0x416039(0x363)](_0x2215ca,{'react':{'text':_0x4a303a['reactionMessage'][_0x416039(0x80a)],'key':_0x4a303a['reactionMessage']['key']}},_0x120d09);if(_0x4a303a[_0x416039(0x299)]){let _0xb7d6fe=_0x4a303a['conversation'];return _0x4cbb46?.[_0x416039(0x5ae)]&&(_0xb7d6fe=await this['replaceVariablesChat'](_0xb7d6fe,_0x2215ca)),await this[_0x416039(0x3bf)][_0x416039(0x363)](_0x2215ca,{'text':_0xb7d6fe,'mentions':_0x83ba14,'linkPreview':_0x17b882},_0x120d09);}return _0x2215ca===_0x416039(0x316)?await this[_0x416039(0x3bf)][_0x416039(0x363)](_0x2215ca,_0x4a303a['status']['content'],{'backgroundColor':_0x4a303a[_0x416039(0x499)][_0x416039(0x263)][_0x416039(0x6a7)],'font':_0x4a303a[_0x416039(0x499)]['option'][_0x416039(0x4ac)],'statusJidList':_0x4a303a[_0x416039(0x499)][_0x416039(0x263)][_0x416039(0x60a)]}):await this[_0x416039(0x3bf)][_0x416039(0x363)](_0x2215ca,_0x4a303a,_0x120d09);})()),_0x1b2410=(0x0,w[_0x885e9e(0x44f)])(_0x45d28a[_0x885e9e(0x620)]),_0x37a554=(0x0,w[_0x885e9e(0x497)])(_0x1b2410),{message_normalized:_0x3ce47d}=this[_0x885e9e(0x40f)](_0x1b2410,_0x37a554,null),_0x33bceb={'_id':_0x45d28a[_0x885e9e(0x2da)]['id'],'key':_0x45d28a[_0x885e9e(0x2da)],'pushName':_0x45d28a[_0x885e9e(0x593)],'isGroup':_0x45d28a[_0x885e9e(0x2da)][_0x885e9e(0x13a)][_0x885e9e(0x5cd)](_0x885e9e(0x4e0)),'profilePictureUrl':this[_0x885e9e(0x388)][_0x885e9e(0x2cc)],'message':_0x1b2410,'messageType':_0x37a554,'message_normalized':{'key':_0x45d28a[_0x885e9e(0x2da)],'pushName':_0x45d28a[_0x885e9e(0x593)],'messageTimestamp':_0x45d28a['messageTimestamp']&&_0x45d28a['messageTimestamp'][_0x885e9e(0x821)]()[_0x885e9e(0x47a)]<0xd?_0x45d28a[_0x885e9e(0x125)]*0x3e8:_0x45d28a[_0x885e9e(0x125)]||null,'source':(0x0,w[_0x885e9e(0x34a)])(_0x45d28a[_0x885e9e(0x2da)]['id']),..._0x3ce47d},'messageTimestamp':_0x45d28a[_0x885e9e(0x125)]&&_0x45d28a[_0x885e9e(0x125)][_0x885e9e(0x821)]()[_0x885e9e(0x47a)]<0xd?_0x45d28a[_0x885e9e(0x125)]*0x3e8:_0x45d28a['messageTimestamp']||null,'owner':this[_0x885e9e(0x388)]['wuid'],'source':(0x0,w[_0x885e9e(0x34a)])(_0x45d28a[_0x885e9e(0x2da)]['id'])};return this[_0x885e9e(0x5c8)][_0x885e9e(0x4fa)](this[_0x885e9e(0x7bd)]+'\x20('+this[_0x885e9e(0x388)][_0x885e9e(0x680)]+_0x885e9e(0x3f1)+_0x33bceb[_0x885e9e(0x2da)]?.[_0x885e9e(0x13a)][_0x885e9e(0x1cd)](_0x885e9e(0x602),'')+']\x20('+_0x33bceb['messageType']+')'),_0x33bceb['message_normalized']?.[_0x885e9e(0x80a)]&&this['logger'][_0x885e9e(0x4fa)](_0x33bceb['message_normalized']?.['text']),this[_0x885e9e(0x408)]('send.message',_0x33bceb),q(this['instanceName'],_0x885e9e(0x668),{'message':_0x33bceb}),this[_0x885e9e(0x18b)](this[_0x885e9e(0x3a5)][_0x885e9e(0x1ae)](_0x885e9e(0x1e2)),_0x33bceb,_0x885e9e(0x1d7),_0x137d32),await this[_0x885e9e(0x7a6)][_0x885e9e(0x620)][_0x885e9e(0x752)]([_0x33bceb],this[_0x885e9e(0x388)]['wuid']),_0x45d28a;}catch(_0x22c9d0){let _0xee6b6c=_0x885e9e(0x6e3)+_0x2215ca,_0x519d61=_0x22c9d0 instanceof Error?_0x22c9d0[_0x885e9e(0x620)]:typeof _0x22c9d0==_0x885e9e(0x1a3)?JSON[_0x885e9e(0x7e7)](_0x22c9d0):_0x22c9d0,_0x1e1501=_0xee6b6c+':\x20'+_0x519d61;throw this['logger'][_0x885e9e(0x7ba)](this['instanceName']+'\x20('+this[_0x885e9e(0x388)][_0x885e9e(0x680)]+_0x885e9e(0x32d)+_0x1e1501),new m(_0x1e1501);}}get['connectionStatus'](){const _0x28faa4=a0_0x46d805;return this[_0x28faa4(0x222)];}async['textMessage'](_0x990017){const _0x34715b=a0_0x46d805;return await this[_0x34715b(0x710)](_0x990017[_0x34715b(0x19c)],{'conversation':_0x990017[_0x34715b(0x7ac)]['text']},_0x990017?.['options']);}async[a0_0x46d805(0x59a)](_0x39b601){const _0x44eb14=a0_0x46d805;if(!_0x39b601[_0x44eb14(0x319)])throw new m(_0x44eb14(0x6bd));if(!_0x39b601[_0x44eb14(0x202)])throw new m(_0x44eb14(0x1d2));if(_0x39b601['allContacts']){let _0x1b0914=await this[_0x44eb14(0x7a6)]['contact'][_0x44eb14(0x3d2)]({'where':{}},this[_0x44eb14(0x388)][_0x44eb14(0x680)]);if(!_0x1b0914[_0x44eb14(0x47a)])throw new m(_0x44eb14(0x2ec));_0x39b601[_0x44eb14(0x60a)]=_0x1b0914[_0x44eb14(0x130)](_0x2dae4a=>_0x2dae4a[_0x44eb14(0x593)])[_0x44eb14(0x1bd)](_0x309087=>_0x309087['_id']);}if(!_0x39b601[_0x44eb14(0x60a)]?.[_0x44eb14(0x47a)]&&!_0x39b601[_0x44eb14(0x4f8)])throw new m(_0x44eb14(0x649));if(_0x39b601[_0x44eb14(0x319)]==='text'){if(!_0x39b601['backgroundColor'])throw new m(_0x44eb14(0x38e));if(!_0x39b601['font'])throw new m('Font\x20is\x20required');return{'content':{'text':_0x39b601[_0x44eb14(0x202)]},'option':{'backgroundColor':_0x39b601[_0x44eb14(0x6a7)],'font':_0x39b601['font'],'statusJidList':_0x39b601['statusJidList']}};}if(_0x39b601[_0x44eb14(0x319)]===_0x44eb14(0x633))return{'content':{'image':{'url':_0x39b601[_0x44eb14(0x202)]},'caption':_0x39b601[_0x44eb14(0x5d2)]},'option':{'statusJidList':_0x39b601[_0x44eb14(0x60a)]}};if(_0x39b601[_0x44eb14(0x319)]==='video')return{'content':{'video':{'url':_0x39b601[_0x44eb14(0x202)]},'caption':_0x39b601[_0x44eb14(0x5d2)]},'option':{'statusJidList':_0x39b601[_0x44eb14(0x60a)]}};if(_0x39b601[_0x44eb14(0x319)]===_0x44eb14(0x451)){this[_0x44eb14(0x5c8)][_0x44eb14(0x699)](this[_0x44eb14(0x7bd)]+'\x20('+this[_0x44eb14(0x388)][_0x44eb14(0x680)]+'):Type\x20defined\x20as\x20audio'),this[_0x44eb14(0x5c8)]['verbose'](this[_0x44eb14(0x7bd)]+'\x20('+this[_0x44eb14(0x388)]['wuid']+'):Processing\x20audio');let _0x584958=await this[_0x44eb14(0x126)](_0x39b601[_0x44eb14(0x202)]);if(typeof _0x584958==_0x44eb14(0x12c)){this[_0x44eb14(0x5c8)][_0x44eb14(0x699)](this[_0x44eb14(0x7bd)]+'\x20('+this['instance'][_0x44eb14(0x680)]+_0x44eb14(0x346));let _0x41d9a4=U[_0x44eb14(0x203)](_0x584958)[_0x44eb14(0x821)]('base64');return{'content':{'audio':Buffer[_0x44eb14(0x59f)](_0x41d9a4,'base64'),'ptt':!0x0,'mimetype':_0x44eb14(0x727)},'option':{'statusJidList':_0x39b601[_0x44eb14(0x60a)]}};}else throw new x(_0x584958);}throw new m(_0x44eb14(0x806));}async[a0_0x46d805(0x595)](_0x27e2e7){const _0x527202=a0_0x46d805;return await this[_0x527202(0x710)]('status@broadcast',{'status':await this[_0x527202(0x59a)](_0x27e2e7[_0x527202(0x595)])});}async[a0_0x46d805(0x4f0)](_0x10da8f){const _0x66affd=a0_0x46d805;try{let _0xaaa019=await(0x0,w[_0x66affd(0x577)])({[_0x10da8f['mediatype']]:(0x0,F[_0x66affd(0x136)])(_0x10da8f[_0x66affd(0x6eb)])?{'url':_0x10da8f[_0x66affd(0x6eb)]}:Buffer[_0x66affd(0x59f)](_0x10da8f[_0x66affd(0x6eb)],_0x66affd(0x11b))},{'upload':this[_0x66affd(0x3bf)]['waUploadToServer']}),_0x4bb46c=_0x10da8f[_0x66affd(0x235)]+_0x66affd(0x4fe);if(_0x10da8f[_0x66affd(0x235)]===_0x66affd(0x2c2)&&!_0x10da8f[_0x66affd(0x3e4)]){let _0xf74090=new RegExp(/.*\/(.+?)\./)['exec'](_0x10da8f['media']);_0x10da8f[_0x66affd(0x3e4)]=_0xf74090?_0xf74090[0x1]:null;}let _0x512ba4;return(0x0,F['isURL'])(_0x10da8f['media'])?_0x512ba4=(await Z[_0x66affd(0x6ef)][_0x66affd(0x1ae)](_0x10da8f[_0x66affd(0x6eb)],{'responseType':_0x66affd(0x28a)}))[_0x66affd(0x823)]['content-type']:_0x512ba4=(0x0,Pi['getMIMEType'])(_0x10da8f['fileName']),_0xaaa019[_0x4bb46c][_0x66affd(0x5d2)]=_0x10da8f?.[_0x66affd(0x5d2)],_0xaaa019[_0x4bb46c][_0x66affd(0x819)]=_0x512ba4,_0xaaa019[_0x4bb46c][_0x66affd(0x3e4)]=_0x10da8f['fileName'],_0x10da8f[_0x66affd(0x235)]===_0x66affd(0x4b6)&&(_0xaaa019[_0x4bb46c][_0x66affd(0x347)]=Uint8Array[_0x66affd(0x59f)]((0x0,Fe[_0x66affd(0x203)])((0x0,J[_0x66affd(0x755)])(process['cwd'](),_0x66affd(0x515)))),_0xaaa019[_0x4bb46c][_0x66affd(0x7ef)]=!0x1),(0x0,w[_0x66affd(0x28e)])('',{[_0x4bb46c]:{..._0xaaa019[_0x4bb46c]}},{'userJid':this[_0x66affd(0x388)][_0x66affd(0x680)]});}catch(_0x1595c7){let _0x22e762=_0x66affd(0x24c),_0x441899=_0x1595c7 instanceof Error?_0x1595c7[_0x66affd(0x620)]:typeof _0x1595c7==_0x66affd(0x1a3)?JSON['stringify'](_0x1595c7):_0x1595c7,_0x1a678c=_0x22e762+':\x20'+_0x441899;throw this[_0x66affd(0x5c8)][_0x66affd(0x7ba)](this[_0x66affd(0x7bd)]+'\x20('+this[_0x66affd(0x388)][_0x66affd(0x680)]+_0x66affd(0x32d)+_0x1a678c),new x(_0x1a678c);}}async['mediaMessage'](_0x432f61){const _0x34d0c3=a0_0x46d805;let _0x11c28e=await this[_0x34d0c3(0x4f0)](_0x432f61[_0x34d0c3(0x5db)]);return await this[_0x34d0c3(0x710)](_0x432f61[_0x34d0c3(0x19c)],{..._0x11c28e[_0x34d0c3(0x620)]},_0x432f61?.[_0x34d0c3(0x774)]);}async[a0_0x46d805(0x38d)](_0x4f379b,_0x4b9c92){const _0x19f56c=a0_0x46d805;try{this[_0x19f56c(0x5c8)]['verbose'](this[_0x19f56c(0x7bd)]+'\x20('+this['instance'][_0x19f56c(0x680)]+_0x19f56c(0x1e3));let _0x41f547,_0x2da942=_0x4b9c92+'-'+new Date()['getTime']();this[_0x19f56c(0x5c8)]['verbose'](this[_0x19f56c(0x7bd)]+'\x20('+this[_0x19f56c(0x388)][_0x19f56c(0x680)]+'):Hash\x20to\x20image\x20name:\x20'+_0x2da942);let _0x2b0858=''+(0x0,J[_0x19f56c(0x755)])(this[_0x19f56c(0x2b3)],_0x2da942+_0x19f56c(0x596));if(this['logger']['verbose'](this[_0x19f56c(0x7bd)]+'\x20('+this[_0x19f56c(0x388)][_0x19f56c(0x680)]+'):Output\x20path:\x20'+_0x2b0858),(0x0,F[_0x19f56c(0x7a4)])(_0x4f379b)){this[_0x19f56c(0x5c8)][_0x19f56c(0x699)](this[_0x19f56c(0x7bd)]+'\x20('+this[_0x19f56c(0x388)][_0x19f56c(0x680)]+_0x19f56c(0x6d0));let _0x527363=_0x4f379b[_0x19f56c(0x1cd)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x153cfb=Buffer[_0x19f56c(0x59f)](_0x527363,'base64');_0x41f547=''+(0x0,J['join'])(this[_0x19f56c(0x2b3)],'temp-'+_0x2da942+'.png'),this[_0x19f56c(0x5c8)][_0x19f56c(0x699)](this[_0x19f56c(0x7bd)]+'\x20('+this['instance'][_0x19f56c(0x680)]+'):Image\x20path:\x20'+_0x41f547),await(0x0,qt['default'])(_0x153cfb)[_0x19f56c(0x6db)](_0x41f547),this['logger'][_0x19f56c(0x699)](this[_0x19f56c(0x7bd)]+'\x20('+this['instance'][_0x19f56c(0x680)]+'):Image\x20created');}else{this[_0x19f56c(0x5c8)][_0x19f56c(0x699)](this['instanceName']+'\x20('+this['instance'][_0x19f56c(0x680)]+_0x19f56c(0x30c));let _0x46589f=new Date()[_0x19f56c(0x56d)](),_0xa68645=_0x4f379b+'?timestamp='+_0x46589f;this['logger'][_0x19f56c(0x699)](this['instanceName']+'\x20('+this[_0x19f56c(0x388)][_0x19f56c(0x680)]+'):including\x20timestamp\x20in\x20url:\x20'+_0xa68645);let _0x52f71f=await Z[_0x19f56c(0x6ef)][_0x19f56c(0x1ae)](_0xa68645,{'responseType':_0x19f56c(0x28a)});this['logger'][_0x19f56c(0x699)](this['instanceName']+'\x20('+this[_0x19f56c(0x388)]['wuid']+'):Getting\x20image\x20from\x20url');let _0x1ce7fb=Buffer[_0x19f56c(0x59f)](_0x52f71f[_0x19f56c(0x3df)],_0x19f56c(0x3f2));_0x41f547=''+(0x0,J['join'])(this[_0x19f56c(0x2b3)],_0x19f56c(0x7d3)+_0x2da942+_0x19f56c(0x6d4)),this['logger'][_0x19f56c(0x699)](this['instanceName']+'\x20('+this[_0x19f56c(0x388)][_0x19f56c(0x680)]+_0x19f56c(0x5d0)+_0x41f547),await(0x0,qt['default'])(_0x1ce7fb)[_0x19f56c(0x6db)](_0x41f547),this[_0x19f56c(0x5c8)][_0x19f56c(0x699)](this[_0x19f56c(0x7bd)]+'\x20('+this['instance']['wuid']+'):Image\x20created');}return await(0x0,qt[_0x19f56c(0x6ef)])(_0x41f547)[_0x19f56c(0x641)]()[_0x19f56c(0x6db)](_0x2b0858),this[_0x19f56c(0x5c8)][_0x19f56c(0x699)](this['instanceName']+'\x20('+this[_0x19f56c(0x388)]['wuid']+_0x19f56c(0x3a1)),U[_0x19f56c(0x55a)](_0x41f547),this[_0x19f56c(0x5c8)][_0x19f56c(0x699)](this[_0x19f56c(0x7bd)]+'\x20('+this[_0x19f56c(0x388)][_0x19f56c(0x680)]+_0x19f56c(0x29f)),_0x2b0858;}catch(_0x5deec0){let _0x5bf36d=_0x19f56c(0x334),_0x391812=_0x5deec0 instanceof Error?_0x5deec0[_0x19f56c(0x620)]:typeof _0x5deec0=='object'?JSON[_0x19f56c(0x7e7)](_0x5deec0):_0x5deec0,_0x399a0d=_0x5bf36d+':\x20'+_0x391812;this[_0x19f56c(0x5c8)][_0x19f56c(0x7ba)](this[_0x19f56c(0x7bd)]+'\x20('+this['instance']['wuid']+_0x19f56c(0x32d)+_0x399a0d);}}async[a0_0x46d805(0x804)](_0xa275f1){const _0x3201b5=a0_0x46d805;let _0x2a9bef=await this[_0x3201b5(0x38d)](_0xa275f1[_0x3201b5(0x335)][_0x3201b5(0x633)],_0xa275f1[_0x3201b5(0x19c)]),_0xb133d4=await this[_0x3201b5(0x710)](_0xa275f1[_0x3201b5(0x19c)],{'sticker':{'url':_0x2a9bef}},_0xa275f1?.['options']);return U[_0x3201b5(0x55a)](_0x2a9bef),this[_0x3201b5(0x5c8)][_0x3201b5(0x699)](this[_0x3201b5(0x7bd)]+'\x20('+this[_0x3201b5(0x388)][_0x3201b5(0x680)]+'):Converted\x20image\x20deleted'),_0xb133d4;}async[a0_0x46d805(0x67c)](_0x52d4c8){const _0x5b2df5=a0_0x46d805;if(this[_0x5b2df5(0x5c8)][_0x5b2df5(0x699)](this[_0x5b2df5(0x7bd)]+'\x20('+this['instance'][_0x5b2df5(0x680)]+_0x5b2df5(0x7f1)),!_0x52d4c8[_0x5b2df5(0x774)]?.['encoding']&&_0x52d4c8['options']?.[_0x5b2df5(0x30f)]!==!0x1&&(_0x52d4c8['options'][_0x5b2df5(0x30f)]=!0x0),_0x52d4c8[_0x5b2df5(0x774)]?.[_0x5b2df5(0x30f)]){let _0x282516=await this[_0x5b2df5(0x126)](_0x52d4c8[_0x5b2df5(0x2f4)][_0x5b2df5(0x451)]);if(typeof _0x282516==_0x5b2df5(0x12c)){let _0xa4595f=U[_0x5b2df5(0x203)](_0x282516)[_0x5b2df5(0x821)]('base64');return this[_0x5b2df5(0x710)](_0x52d4c8[_0x5b2df5(0x19c)],{'audio':Buffer['from'](_0xa4595f,_0x5b2df5(0x11b)),'ptt':!0x0,'mimetype':_0x5b2df5(0x83e)},{'presence':_0x5b2df5(0x71e),'delay':_0x52d4c8?.[_0x5b2df5(0x774)]?.['delay']});}else throw new x(_0x282516);}return await this['sendMessageWithTyping'](_0x52d4c8[_0x5b2df5(0x19c)],{'audio':(0x0,F['isURL'])(_0x52d4c8['audioMessage'][_0x5b2df5(0x451)])?{'url':_0x52d4c8[_0x5b2df5(0x2f4)][_0x5b2df5(0x451)]}:Buffer[_0x5b2df5(0x59f)](_0x52d4c8[_0x5b2df5(0x2f4)]['audio'],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x5b2df5(0x71e),'delay':_0x52d4c8?.['options']?.[_0x5b2df5(0x190)]});}async['convertaudio'](_0x4ad5be){const _0x35d612=a0_0x46d805;this['logger']['verbose'](this[_0x35d612(0x7bd)]+'\x20('+this[_0x35d612(0x388)][_0x35d612(0x680)]+_0x35d612(0x656));let _0x541383=(0x0,F[_0x35d612(0x136)])(_0x4ad5be)?(0x0,Vt[_0x35d612(0x57a)])(_0x35d612(0x373))[_0x35d612(0x5a5)](_0x4ad5be)[_0x35d612(0x6b2)](_0x35d612(0x483)):(0x0,Vt[_0x35d612(0x57a)])(_0x35d612(0x373))[_0x35d612(0x5a5)](_0x4ad5be)[_0x35d612(0x6b2)](_0x35d612(0x483)),_0x4aab6d=''+(0x0,J[_0x35d612(0x755)])(this[_0x35d612(0x2b3)],_0x541383+_0x35d612(0x7d1));if(U[_0x35d612(0x745)](_0x4aab6d))return this[_0x35d612(0x5c8)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x35d612(0x680)]+_0x35d612(0x2a0)),_0x4aab6d;let _0x22b855=''+(0x0,J[_0x35d612(0x755)])(this[_0x35d612(0x2b3)],_0x35d612(0x7d3)+(0x0,Q['v4'])()+_0x35d612(0x776));if((0x0,F['isURL'])(_0x4ad5be)){let _0x2e0143=new Date()[_0x35d612(0x56d)](),_0x59390d=_0x4ad5be+'?timestamp='+_0x2e0143,_0x3bcc9c=await Z[_0x35d612(0x6ef)][_0x35d612(0x1ae)](_0x59390d,{'responseType':_0x35d612(0x28a)});U['writeFileSync'](_0x22b855,_0x3bcc9c[_0x35d612(0x3df)]);}else{let _0x366930=Buffer[_0x35d612(0x59f)](_0x4ad5be,_0x35d612(0x11b));U[_0x35d612(0x785)](_0x22b855,_0x366930);}return new Promise((_0x1912eb,_0x1ff369)=>{const _0x356070=_0x35d612;(0x0,Ue[_0x356070(0x4e5)])(Ds['default'][_0x356070(0x200)]+_0x356070(0x76b)+_0x22b855+_0x356070(0x7a7)+_0x4aab6d+_0x356070(0x16d),_0x302ae3=>{const _0x5efdec=_0x356070;if(U[_0x5efdec(0x55a)](_0x22b855),_0x302ae3){this[_0x5efdec(0x5c8)]['verbose'](this[_0x5efdec(0x7bd)]+'\x20('+this[_0x5efdec(0x388)][_0x5efdec(0x680)]+'):Error\x20in\x20converting\x20audio'),_0x1ff369(_0x302ae3);return;}this[_0x5efdec(0x5c8)]['verbose'](this[_0x5efdec(0x7bd)]+'\x20('+this['instance']['wuid']+_0x5efdec(0x2e1)),_0x1912eb(_0x4aab6d);});});}async[a0_0x46d805(0x238)](_0x18b554){const _0x1ccad5=a0_0x46d805;this['logger']['verbose'](this[_0x1ccad5(0x7bd)]+'\x20('+this['instance'][_0x1ccad5(0x680)]+_0x1ccad5(0x656));let _0x2ab2fb=(0x0,Vt['createHash'])(_0x1ccad5(0x373))[_0x1ccad5(0x5a5)](_0x18b554)['digest']('hex'),_0x5231a1=''+(0x0,J['join'])(this[_0x1ccad5(0x2b3)],_0x2ab2fb+_0x1ccad5(0x776));if(U[_0x1ccad5(0x745)](_0x5231a1))return this[_0x1ccad5(0x5c8)][_0x1ccad5(0x699)](this[_0x1ccad5(0x7bd)]+'\x20('+this[_0x1ccad5(0x388)]['wuid']+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),J['default'][_0x1ccad5(0x49f)](_0x5231a1);let _0x17e82d=''+(0x0,J[_0x1ccad5(0x755)])(this[_0x1ccad5(0x2b3)],_0x1ccad5(0x7d3)+_0x2ab2fb+'.ogg');if((0x0,F[_0x1ccad5(0x136)])(_0x18b554)){let _0x532bbe=new Date()[_0x1ccad5(0x56d)](),_0x5274a9=_0x18b554+_0x1ccad5(0x6e7)+_0x532bbe,_0x481905=await Z[_0x1ccad5(0x6ef)][_0x1ccad5(0x1ae)](_0x5274a9,{'responseType':'arraybuffer'});U[_0x1ccad5(0x785)](_0x17e82d,_0x481905[_0x1ccad5(0x3df)]);}else{let _0xcd9b05=Buffer[_0x1ccad5(0x59f)](_0x18b554,'base64');U[_0x1ccad5(0x785)](_0x17e82d,_0xcd9b05);}return new Promise((_0xbe53cc,_0x512426)=>{const _0x4b9881=_0x1ccad5;(0x0,Ue['exec'])(Ds[_0x4b9881(0x6ef)][_0x4b9881(0x200)]+_0x4b9881(0x76b)+_0x17e82d+_0x4b9881(0x723)+_0x5231a1+'\x20-y',_0x3e2f45=>{const _0x33fe6c=_0x4b9881;if(U['unlinkSync'](_0x17e82d),_0x3e2f45){this['logger'][_0x33fe6c(0x699)](this[_0x33fe6c(0x7bd)]+'\x20('+this['instance'][_0x33fe6c(0x680)]+'):Error\x20in\x20converting\x20audio'),_0x512426(_0x3e2f45);return;}this[_0x33fe6c(0x5c8)][_0x33fe6c(0x699)](this['instanceName']+'\x20('+this[_0x33fe6c(0x388)]['wuid']+_0x33fe6c(0x2e1)),_0xbe53cc(J[_0x33fe6c(0x6ef)]['basename'](_0x5231a1));});});}async[a0_0x46d805(0x4cf)](_0x6d8093){const _0x17bb40=a0_0x46d805;let _0x3b5062={},_0x467849=_0x17bb40(0x66e);if(_0x6d8093[_0x17bb40(0x4cf)]?.['mediaMessage']){_0x467849=_0x6d8093[_0x17bb40(0x4cf)][_0x17bb40(0x5db)]?.[_0x17bb40(0x235)][_0x17bb40(0x53a)]()??_0x17bb40(0x66e),_0x3b5062[_0x17bb40(0x158)]=_0x467849[_0x17bb40(0x22d)]()+_0x17bb40(0x4fe);let _0x1fc8b4=await this[_0x17bb40(0x4f0)](_0x6d8093['buttonMessage'][_0x17bb40(0x5db)]);_0x3b5062[_0x17bb40(0x620)]=_0x1fc8b4[_0x17bb40(0x620)][_0x3b5062[_0x17bb40(0x158)]],_0x3b5062[_0x17bb40(0x36c)]='*'+_0x6d8093[_0x17bb40(0x4cf)][_0x17bb40(0x4e2)]+_0x17bb40(0x4d5)+_0x6d8093['buttonMessage'][_0x17bb40(0x4d1)];}let _0x3e3c71={'text':_0x6d8093[_0x17bb40(0x4cf)][_0x17bb40(0x3fb)][_0x17bb40(0x1bd)](_0x5c9d31=>_0x5c9d31[_0x17bb40(0x36f)]),'ids':_0x6d8093[_0x17bb40(0x4cf)][_0x17bb40(0x3fb)][_0x17bb40(0x1bd)](_0x5c3b32=>_0x5c3b32['buttonId'])};if(!(0x0,F[_0x17bb40(0x51b)])(_0x3e3c71[_0x17bb40(0x80a)])||!(0x0,F[_0x17bb40(0x51b)])(_0x3e3c71[_0x17bb40(0x24e)]))throw new m(_0x17bb40(0x3c8),_0x17bb40(0x546));return await this[_0x17bb40(0x710)](_0x6d8093[_0x17bb40(0x19c)],{'buttonsMessage':{'text':_0x3b5062?.[_0x17bb40(0x158)]?void 0x0:_0x6d8093[_0x17bb40(0x4cf)][_0x17bb40(0x4e2)],'contentText':_0x3b5062?.[_0x17bb40(0x36c)]??_0x6d8093[_0x17bb40(0x4cf)][_0x17bb40(0x4d1)],'footerText':_0x6d8093[_0x17bb40(0x4cf)]?.[_0x17bb40(0x635)],'buttons':_0x6d8093['buttonMessage'][_0x17bb40(0x3fb)][_0x17bb40(0x1bd)](_0x1f3c26=>({'buttonText':{'displayText':_0x1f3c26[_0x17bb40(0x36f)]},'buttonId':_0x1f3c26['buttonId'],'type':0x1})),'headerType':w[_0x17bb40(0x590)]['Message'][_0x17bb40(0x14f)][_0x17bb40(0x5cc)][_0x467849],[_0x3b5062?.[_0x17bb40(0x158)]]:_0x3b5062?.['message']}},_0x6d8093?.[_0x17bb40(0x774)]);}async['locationMessage'](_0x24d4ec){const _0x5aa7e2=a0_0x46d805;return await this['sendMessageWithTyping'](_0x24d4ec[_0x5aa7e2(0x19c)],{'locationMessage':{'degreesLatitude':_0x24d4ec[_0x5aa7e2(0x77d)][_0x5aa7e2(0x716)],'degreesLongitude':_0x24d4ec[_0x5aa7e2(0x77d)][_0x5aa7e2(0x211)],'name':_0x24d4ec[_0x5aa7e2(0x77d)]?.[_0x5aa7e2(0x73f)],'address':_0x24d4ec[_0x5aa7e2(0x77d)]?.[_0x5aa7e2(0x313)]}},_0x24d4ec?.[_0x5aa7e2(0x774)]);}async[a0_0x46d805(0x7bf)](_0x3e19a3){const _0x491d02=a0_0x46d805;let _0xc9c950={},_0x563bb0=async _0x1f40c0=>{const _0x3f8e6a=a0_0x1054;let _0x41d735='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x1f40c0[_0x3f8e6a(0x265)]+_0x3f8e6a(0x3c5)+_0x1f40c0['fullName']+'\x0a';_0x1f40c0[_0x3f8e6a(0x39a)]&&(_0x41d735+=_0x3f8e6a(0x205)+_0x1f40c0[_0x3f8e6a(0x39a)]+';\x0a'),_0x1f40c0['email']&&(_0x41d735+=_0x3f8e6a(0x7a0)+_0x1f40c0[_0x3f8e6a(0x704)]+'\x0a'),_0x1f40c0['url']&&(_0x41d735+=_0x3f8e6a(0x7ed)+_0x1f40c0[_0x3f8e6a(0x5e7)]+'\x0a');let _0x5b31e6='',_0x3422bb=0x1;if(_0x1f40c0[_0x3f8e6a(0x6b9)]){let _0x4e3292=_0x1f40c0['phoneNumber'][_0x3f8e6a(0x76f)]('|');for(let _0x3ef3a9 of _0x4e3292){let _0x240e84=await this[_0x3f8e6a(0x342)]({'numbers':[_0x3ef3a9]}),_0x58b5b4=(_0x240e84[_0x3f8e6a(0x47a)]>0x0?_0x240e84[0x0][_0x3f8e6a(0x7f6)]:this[_0x3f8e6a(0x294)](_0x3ef3a9))[_0x3f8e6a(0x1cd)](_0x3f8e6a(0x602),'');_0x5b31e6+=_0x3f8e6a(0x236)+_0x3422bb+_0x3f8e6a(0x607)+_0x58b5b4+':'+_0x3ef3a9+_0x3f8e6a(0x157)+_0x3422bb+_0x3f8e6a(0x4b5),_0x3422bb++;}}return _0x41d735+=_0x5b31e6+_0x3f8e6a(0x763),_0x41d735;};return _0x3e19a3[_0x491d02(0x7bf)][_0x491d02(0x47a)]===0x1?_0xc9c950[_0x491d02(0x7bf)]={'displayName':_0x3e19a3[_0x491d02(0x7bf)][0x0][_0x491d02(0x265)],'vcard':await _0x563bb0(_0x3e19a3['contactMessage'][0x0])}:_0xc9c950[_0x491d02(0x479)]={'displayName':_0x3e19a3[_0x491d02(0x7bf)][_0x491d02(0x47a)]+_0x491d02(0x286),'contacts':await Promise[_0x491d02(0x7fa)](_0x3e19a3[_0x491d02(0x7bf)][_0x491d02(0x1bd)](async _0x443c08=>({'displayName':_0x443c08[_0x491d02(0x265)],'vcard':await _0x563bb0(_0x443c08)})))},await this[_0x491d02(0x710)](_0x3e19a3[_0x491d02(0x19c)],{..._0xc9c950},_0x3e19a3?.[_0x491d02(0x774)]);}async[a0_0x46d805(0x694)](_0x2ad710){const _0xd3bd76=a0_0x46d805;return await this[_0xd3bd76(0x710)](_0x2ad710[_0xd3bd76(0x694)]['key'][_0xd3bd76(0x13a)],{'reactionMessage':{'key':_0x2ad710['reactionMessage']['key'],'text':_0x2ad710[_0xd3bd76(0x694)][_0xd3bd76(0x693)]}});}async['whatsappNumber'](_0x269f66){const _0x5e6504=a0_0x46d805;let _0x17afe9=[];for await(let _0x40fd80 of _0x269f66[_0x5e6504(0x29c)]){let _0x11452f=this[_0x5e6504(0x294)](_0x40fd80),_0x5d996f=!0x1;try{if((0x0,w[_0x5e6504(0x722)])(_0x11452f)){let _0xe4dab6=(await this[_0x5e6504(0x7a6)][_0x5e6504(0x64f)]['findOne']({'where':{'_id':_0x11452f}},this[_0x5e6504(0x388)][_0x5e6504(0x680)]))[_0x5e6504(0x51d)];_0xe4dab6?(_0x5d996f=!0x0,_0x17afe9[_0x5e6504(0x70b)](new pe(_0xe4dab6['id'],_0x5d996f,_0xe4dab6?.[_0x5e6504(0x26c)]))):(_0xe4dab6=await this[_0x5e6504(0x529)]({'groupJid':_0x11452f},_0x5e6504(0x749)),_0x17afe9[_0x5e6504(0x70b)](new pe(_0xe4dab6['id'],!!_0xe4dab6?.['id'],_0xe4dab6?.[_0x5e6504(0x26c)])));}else{if(_0x11452f[_0x5e6504(0x7ff)](_0x5e6504(0x267)))_0x17afe9[_0x5e6504(0x70b)](new pe(_0x11452f,!0x0));else{let _0x3c4461=(await this[_0x5e6504(0x3bf)][_0x5e6504(0x683)](_0x11452f))[0x0];_0x17afe9[_0x5e6504(0x70b)](new pe(_0x3c4461[_0x5e6504(0x7f6)],_0x3c4461[_0x5e6504(0x1f4)]));}}}catch{(0x0,w[_0x5e6504(0x722)])(_0x11452f)||await this[_0x5e6504(0x36b)](_0x11452f),_0x17afe9[_0x5e6504(0x70b)](new pe(_0x40fd80,!0x1));}}return _0x17afe9;}async[a0_0x46d805(0x36b)](_0x2f876d){const _0x2d111c=a0_0x46d805;try{await this['repository']['chat'][_0x2d111c(0x104)]({'where':{'_id':_0x2f876d,'imported':!0x0}},this[_0x2d111c(0x388)][_0x2d111c(0x680)])&&(await this['repository'][_0x2d111c(0x64f)][_0x2d111c(0x440)](_0x2f876d,this[_0x2d111c(0x388)][_0x2d111c(0x680)]),this['logger'][_0x2d111c(0x5bb)](_0x2d111c(0x427)+_0x2f876d+_0x2d111c(0x6ce)));}catch(_0x132143){let _0x55e931=_0x2d111c(0x753),_0x10c076=_0x132143 instanceof Error?_0x132143[_0x2d111c(0x620)]:typeof _0x132143==_0x2d111c(0x1a3)?JSON['stringify'](_0x132143):_0x132143,_0xd39f39=_0x55e931+':\x20'+_0x10c076;this[_0x2d111c(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x2d111c(0x388)][_0x2d111c(0x680)]+'):\x20'+_0xd39f39);}}async[a0_0x46d805(0x81b)](_0x1f755a){const _0x590990=a0_0x46d805;try{let _0x49d4ba=_0x1f755a[_0x590990(0x742)][_0x590990(0x130)](_0x5eb787=>(0x0,w['isJidGroup'])(_0x5eb787[_0x590990(0x13a)])||(0x0,w[_0x590990(0x22b)])(_0x5eb787[_0x590990(0x13a)]))[_0x590990(0x1bd)](_0xb1173d=>({'remoteJid':_0xb1173d[_0x590990(0x13a)],'fromMe':_0xb1173d[_0x590990(0x3ef)],'id':_0xb1173d['id']}));await this[_0x590990(0x3bf)][_0x590990(0x742)](_0x49d4ba);let _0x46fe20=_0x49d4ba[_0x590990(0x1bd)](_0xd9fda7=>this[_0x590990(0x412)](_0xd9fda7,{'status':_0x590990(0x280),'owner':this[_0x590990(0x388)]['wuid']})),_0x1e3ab8=_0x49d4ba['map'](_0x54fb49=>this['repository'][_0x590990(0x64f)]['updateOne']({'where':{'_id':_0x54fb49[_0x590990(0x13a)]}},{'unreadcount':0x0},this[_0x590990(0x388)][_0x590990(0x680)])),[_0x26c124,_0x57b997]=await Promise['all']([Promise[_0x590990(0x7fa)](_0x46fe20),Promise[_0x590990(0x7fa)](_0x1e3ab8)]);return _0x57b997[_0x590990(0x130)](_0x4eece9=>_0x4eece9!==null)[_0x590990(0x1db)](_0x2e0c9e=>{const _0x15eab5=_0x590990;q(this[_0x15eab5(0x7bd)],_0x15eab5(0x5e6),{'chat':_0x2e0c9e});}),{'message':_0x590990(0x195),'read':_0x590990(0x51e)};}catch(_0x103288){let _0x2431cd=_0x590990(0x459),_0x45909f=_0x103288 instanceof Error?_0x103288[_0x590990(0x620)]:typeof _0x103288==_0x590990(0x1a3)?JSON['stringify'](_0x103288):_0x103288,_0x14b6ff=_0x2431cd+':\x20'+_0x45909f;throw this['logger'][_0x590990(0x7ba)](this[_0x590990(0x7bd)]+'\x20('+this[_0x590990(0x388)][_0x590990(0x680)]+'):\x20'+_0x14b6ff),new x(_0x14b6ff);}}async[a0_0x46d805(0x69a)](_0x2df705){const _0x2a9ffb=a0_0x46d805;let _0x4da007={'where':{'key':{'remoteJid':_0x2df705}},'limit':0x1},_0x2ba920=await this[_0x2a9ffb(0x2ff)](_0x4da007);return _0x2ba920||(this[_0x2a9ffb(0x5c8)][_0x2a9ffb(0x7ba)](_0x2a9ffb(0x40e)+_0x2df705),null);}async['archiveChat'](_0x497439){const _0x375a5d=a0_0x46d805;this['logger'][_0x375a5d(0x699)](this[_0x375a5d(0x7bd)]+'\x20('+this[_0x375a5d(0x388)]['wuid']+'):Archiving\x20chat');try{let _0x4dd776=_0x497439[_0x375a5d(0x45d)],_0xa9a4f0=_0x497439['chat'];if(!_0x4dd776&&_0xa9a4f0?_0x4dd776=await this[_0x375a5d(0x69a)](_0xa9a4f0):(_0x4dd776=_0x497439['lastMessage'],_0x4dd776[_0x375a5d(0x125)]=_0x4dd776?.[_0x375a5d(0x125)]??Date[_0x375a5d(0x506)](),_0xa9a4f0=_0x4dd776?.[_0x375a5d(0x2da)]?.['remoteJid']),!_0x4dd776||Object['keys'](_0x4dd776)[_0x375a5d(0x47a)]===0x0)throw new V(_0x375a5d(0x3c6));this[_0x375a5d(0x5c8)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x375a5d(0x680)]+_0x375a5d(0x6b3)+_0xa9a4f0);try{await this[_0x375a5d(0x3bf)][_0x375a5d(0x77c)]({'archive':_0x497439[_0x375a5d(0x5e5)],'lastMessages':[_0x4dd776]},this[_0x375a5d(0x294)](_0xa9a4f0));}catch(_0x425f9b){let _0x40789d=_0x375a5d(0x79c)+_0xa9a4f0,_0x55a73a=_0x425f9b instanceof Error?_0x425f9b[_0x375a5d(0x620)]:typeof _0x425f9b=='object'?JSON[_0x375a5d(0x7e7)](_0x425f9b):_0x425f9b,_0x4153ab=_0x40789d+':\x20'+_0x55a73a;this[_0x375a5d(0x5c8)][_0x375a5d(0x7ba)](this['instanceName']+'\x20('+this[_0x375a5d(0x388)][_0x375a5d(0x680)]+_0x375a5d(0x32d)+_0x4153ab);}this[_0x375a5d(0x5c8)][_0x375a5d(0x699)](this['instanceName']+'\x20('+this[_0x375a5d(0x388)][_0x375a5d(0x680)]+_0x375a5d(0x113)+_0xa9a4f0);let _0x354c26=await this[_0x375a5d(0x7a6)][_0x375a5d(0x64f)]['updateOne']({'where':{'_id':_0x4dd776?.[_0x375a5d(0x2da)]?.[_0x375a5d(0x13a)]}},{'archived':_0x497439[_0x375a5d(0x5e5)]},this['instance'][_0x375a5d(0x680)]);return _0x354c26?(this['logger']['verbose'](this[_0x375a5d(0x7bd)]+'\x20('+this[_0x375a5d(0x388)][_0x375a5d(0x680)]+_0x375a5d(0x565)+JSON[_0x375a5d(0x7e7)](_0x354c26)),q(this[_0x375a5d(0x7bd)],_0x375a5d(0x5e6),{'chat':_0x354c26})):this[_0x375a5d(0x5c8)][_0x375a5d(0x7ba)](this[_0x375a5d(0x7bd)]+'\x20('+this[_0x375a5d(0x388)][_0x375a5d(0x680)]+_0x375a5d(0x393)+_0xa9a4f0),{'chatId':_0xa9a4f0,'archived':_0x497439[_0x375a5d(0x5e5)]};}catch(_0x53b4a2){let _0x594c6b=_0x375a5d(0x744),_0x55fdd3=_0x53b4a2 instanceof Error?_0x53b4a2['message']:typeof _0x53b4a2==_0x375a5d(0x1a3)?JSON[_0x375a5d(0x7e7)](_0x53b4a2):_0x53b4a2,_0x50e0e8=_0x594c6b+':\x20'+_0x55fdd3;throw this[_0x375a5d(0x5c8)][_0x375a5d(0x7ba)](this['instanceName']+'\x20('+this[_0x375a5d(0x388)][_0x375a5d(0x680)]+_0x375a5d(0x32d)+_0x50e0e8),new x(_0x50e0e8);}}async[a0_0x46d805(0x440)](_0x124e64){const _0x32b920=a0_0x46d805;this['logger']['verbose'](this[_0x32b920(0x7bd)]+'\x20('+this[_0x32b920(0x388)][_0x32b920(0x680)]+_0x32b920(0x4a9));try{let _0x3ac0d9=await this[_0x32b920(0x69a)](_0x124e64);if(!_0x3ac0d9||Object[_0x32b920(0x5f6)](_0x3ac0d9)[_0x32b920(0x47a)]===0x0)throw new V(_0x32b920(0x3c6));let _0x2d53b9=_0x3ac0d9[0x0];this[_0x32b920(0x5c8)][_0x32b920(0x699)](this[_0x32b920(0x7bd)]+'\x20('+this[_0x32b920(0x388)]['wuid']+_0x32b920(0x3c9)+_0x124e64);try{await this[_0x32b920(0x3bf)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x2d53b9['key'],'messageTimestamp':_0x2d53b9['messageTimestamp']}]},this['createJid'](_0x124e64));}catch(_0x20618a){this[_0x32b920(0x5c8)]['error'](_0x32b920(0x79c)+_0x124e64+':\x20'+_0x20618a[_0x32b920(0x821)]());}this[_0x32b920(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x32b920(0x388)][_0x32b920(0x680)]+_0x32b920(0x113)+_0x124e64);return;}catch(_0x1dc04d){throw this[_0x32b920(0x5c8)][_0x32b920(0x7ba)](this[_0x32b920(0x7bd)]+'\x20('+this[_0x32b920(0x388)][_0x32b920(0x680)]+_0x32b920(0x733)+_0x1dc04d['toString']()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x1dc04d[_0x32b920(0x821)]()]});}}async[a0_0x46d805(0x6f8)](_0x591130){const _0x49f42a=a0_0x46d805;try{let _0x51b77e=await this[_0x49f42a(0x3bf)][_0x49f42a(0x363)](_0x591130[_0x49f42a(0x13a)],{'delete':_0x591130});try{let _0x5af146=await this[_0x49f42a(0x412)](_0x591130,{'status':_0x49f42a(0x226),'owner':this[_0x49f42a(0x388)][_0x49f42a(0x680)]});this[_0x49f42a(0x5c8)][_0x49f42a(0x699)](this[_0x49f42a(0x7bd)]+'\x20('+this[_0x49f42a(0x388)]['wuid']+'):\x20updateResult:'+_0x5af146);}catch(_0x3e3616){this[_0x49f42a(0x5c8)][_0x49f42a(0x7ba)](_0x49f42a(0x4fd)+_0x3e3616);}return _0x51b77e;}catch(_0x3e933f){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x3e933f?.[_0x49f42a(0x821)]());}}async[a0_0x46d805(0x4a8)](_0x5c7883){const _0x4526ab=a0_0x46d805;try{let _0x14235c=_0x5c7883?.[_0x4526ab(0x620)]?_0x5c7883:await this['getMessage'](_0x5c7883['key'],!0x0);for(let _0x579fc8 of $a)_0x14235c[_0x4526ab(0x620)][_0x579fc8]&&(_0x14235c[_0x4526ab(0x620)]=_0x14235c[_0x4526ab(0x620)][_0x579fc8]['message']);let _0x1b5556,_0x519a9;for(let _0x3f3ff4 of Na)if(_0x1b5556=_0x14235c[_0x4526ab(0x620)][_0x3f3ff4],_0x1b5556){_0x519a9=_0x3f3ff4;break;}if(!_0x1b5556)throw _0x4526ab(0x42a);typeof _0x1b5556[_0x4526ab(0x158)]==_0x4526ab(0x1a3)&&(_0x14235c[_0x4526ab(0x620)]=JSON['parse'](JSON[_0x4526ab(0x7e7)](_0x14235c[_0x4526ab(0x620)])));let _0x20af62=await(0x0,w['downloadMediaMessage'])({'key':_0x14235c?.[_0x4526ab(0x2da)],'message':_0x14235c?.[_0x4526ab(0x620)]},_0x4526ab(0x650),{},{'logger':(0x0,Jt[_0x4526ab(0x6ef)])({'level':_0x4526ab(0x816)}),'reuploadRequest':this[_0x4526ab(0x3bf)][_0x4526ab(0x2a3)]});if(!(_0x20af62 instanceof Buffer))throw new Error(_0x4526ab(0x34b));let _0x36cbb4=this[_0x4526ab(0x3a5)][_0x4526ab(0x1ae)](_0x4526ab(0x1e2)),_0x3622d0,_0x45ce59;if(_0x1b5556[_0x4526ab(0x3e4)])_0x3622d0=_0x1b5556[_0x4526ab(0x3e4)];else{let _0x329841=_0x1b5556[_0x4526ab(0x819)]?.[_0x4526ab(0x21d)](/\/(\w+)/),_0x9329e1=_0x329841?_0x329841[0x1]:null;if(!_0x9329e1)throw new Error(_0x4526ab(0x397));_0x3622d0=(0x0,Q['v4'])()+'.'+_0x9329e1;}_0x519a9===_0x4526ab(0x2f4)?_0x45ce59=_0x4526ab(0x79b)+await this[_0x4526ab(0x238)](_0x20af62[_0x4526ab(0x821)](_0x4526ab(0x11b))):(await this[_0x4526ab(0x1c7)](_0x20af62,_0x3622d0),_0x45ce59=_0x4526ab(0x79b)+_0x3622d0);let _0x33b037=this[_0x4526ab(0x3a5)][_0x4526ab(0x1ae)]('SERVER')['URL'];if(!_0x33b037){let _0x2ffffd=this['configService']['get']('SSL_CONF');_0x33b037=_0x4526ab(0x5bf)+(_0x2ffffd&&_0x2ffffd['FULLCHAIN'][_0x4526ab(0x76f)]('/')[0x4]);}_0x45ce59=''+_0x33b037+_0x45ce59;let _0x48e96f=0xc*0x3c*0x3c*0x3e8,_0x2da9ff={'where':{'_id':_0x14235c[_0x4526ab(0x2da)]['id']}},_0xa34334={'message_normalized.fileUrl':_0x45ce59,'message_normalized.expires_fileUrl':Date['now']()+_0x48e96f};try{let _0x203c20=await this['repository'][_0x4526ab(0x620)]['update'](_0x2da9ff,_0xa34334,this[_0x4526ab(0x388)][_0x4526ab(0x680)]);_0x203c20&&q(this[_0x4526ab(0x7bd)],'messages',{'message':_0x203c20});}catch(_0x817cab){let _0x282ab6=_0x4526ab(0x663),_0x31935f=_0x817cab instanceof Error?_0x817cab[_0x4526ab(0x620)]:typeof _0x817cab==_0x4526ab(0x1a3)?JSON[_0x4526ab(0x7e7)](_0x817cab):_0x817cab,_0x4e3225=_0x282ab6+':\x20'+_0x31935f;this['logger'][_0x4526ab(0x7ba)](this['instanceName']+'\x20('+this[_0x4526ab(0x388)][_0x4526ab(0x680)]+_0x4526ab(0x32d)+_0x4e3225);}return{'mediaType':_0x519a9,'fileName':_0x1b5556[_0x4526ab(0x3e4)],'caption':_0x1b5556[_0x4526ab(0x5d2)],'size':{'fileLength':_0x1b5556[_0x4526ab(0x5f5)],'height':_0x1b5556['height'],'width':_0x1b5556[_0x4526ab(0x1f8)]},'mimetype':_0x1b5556['mimetype'],'base64':_0x20af62[_0x4526ab(0x821)]('base64'),'fileUrl':_0x45ce59,'expires_fileUrl':Date[_0x4526ab(0x506)]()+_0x48e96f};}catch(_0xd5215e){let _0x24ff78=_0x4526ab(0x16a),_0x1b1b56=_0xd5215e instanceof Error?_0xd5215e[_0x4526ab(0x620)]:typeof _0xd5215e==_0x4526ab(0x1a3)?JSON[_0x4526ab(0x7e7)](_0xd5215e):_0xd5215e,_0x5b7d86=_0x24ff78+':\x20'+_0x1b1b56;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x4526ab(0x388)]['wuid']+_0x4526ab(0x32d)+_0x5b7d86),new m(_0x5b7d86);}}async[a0_0x46d805(0x1c7)](_0x100ac3,_0x1fd305){const _0x153d7d=a0_0x46d805;let _0x1bbaa0=J[_0x153d7d(0x6ef)][_0x153d7d(0x755)](__dirname,_0x153d7d(0x2c8));U[_0x153d7d(0x745)](_0x1bbaa0)||U[_0x153d7d(0x2bd)](_0x1bbaa0,{'recursive':!0x0});let _0x5cfdde=J[_0x153d7d(0x6ef)][_0x153d7d(0x755)](_0x1bbaa0,_0x1fd305);return new Promise((_0x2a1049,_0x2c0fa2)=>{const _0x3e2887=_0x153d7d;U[_0x3e2887(0x69e)](_0x5cfdde,_0x100ac3,_0x3b3526=>{const _0x15a43f=_0x3e2887;_0x3b3526?(this[_0x15a43f(0x5c8)][_0x15a43f(0x7ba)](_0x15a43f(0x224)+(_0x3b3526 instanceof Error?_0x3b3526[_0x15a43f(0x620)]:JSON[_0x15a43f(0x7e7)](_0x3b3526,null,0x2))),_0x2c0fa2(_0x3b3526)):(this['logger'][_0x15a43f(0x507)]('File\x20written\x20to\x20path:\x20'+_0x5cfdde),_0x2a1049(_0x5cfdde));});});}async['fetchContacts'](_0x5ae258){const _0x4867e7=a0_0x46d805;return await this[_0x4867e7(0x7a6)][_0x4867e7(0x15e)]['find'](_0x5ae258,this[_0x4867e7(0x388)][_0x4867e7(0x680)]);}async[a0_0x46d805(0x6a8)](){const _0x376c24=a0_0x46d805;return await this[_0x376c24(0x7a6)]['label'][_0x376c24(0x3d2)]({'where':{}},this[_0x376c24(0x388)][_0x376c24(0x680)]);}async['fetchMessages'](_0x4526a1){const _0x2a182f=a0_0x46d805;return await this[_0x2a182f(0x7a6)][_0x2a182f(0x620)][_0x2a182f(0x3d2)](_0x4526a1,this['instance'][_0x2a182f(0x680)]);}async['fetchChats'](){const _0x18a327=a0_0x46d805;return this[_0x18a327(0x7a6)][_0x18a327(0x64f)]['removeUnusedChatFields'](this[_0x18a327(0x388)][_0x18a327(0x680)]),this[_0x18a327(0x7a6)][_0x18a327(0x64f)][_0x18a327(0x631)](this[_0x18a327(0x388)][_0x18a327(0x680)]),this[_0x18a327(0x7a6)][_0x18a327(0x64f)][_0x18a327(0x19d)](this[_0x18a327(0x388)]['wuid']),this[_0x18a327(0x7a6)]['chat'][_0x18a327(0x74b)](this[_0x18a327(0x388)][_0x18a327(0x680)]),await this[_0x18a327(0x7a6)][_0x18a327(0x64f)][_0x18a327(0x3d2)]({'where':{}},this[_0x18a327(0x388)][_0x18a327(0x680)]);}async[a0_0x46d805(0x297)](_0x234713){const _0x49ff46=a0_0x46d805;try{if(!Array[_0x49ff46(0x6a0)](_0x234713)||_0x234713[_0x49ff46(0x47a)]===0x0)throw new Error(_0x49ff46(0x73d));let _0x2fc648=[],_0x493002=[];for(let _0x3ca553 of _0x234713){if(_0x3ca553[_0x49ff46(0x1ed)])_0x3ca553[_0x49ff46(0x1ed)]=this['createJid'](_0x3ca553[_0x49ff46(0x1ed)]);else continue;await this[_0x49ff46(0x7a6)][_0x49ff46(0x64f)][_0x49ff46(0x104)]({'where':{'_id':_0x3ca553['_id']}},this[_0x49ff46(0x388)][_0x49ff46(0x680)])?_0x493002[_0x49ff46(0x70b)]({'_id':_0x3ca553[_0x49ff46(0x1ed)],'leadInfo':_0x3ca553[_0x49ff46(0x5fa)],'owner':this[_0x49ff46(0x388)]['wuid']}):_0x2fc648[_0x49ff46(0x70b)]({'_id':_0x3ca553[_0x49ff46(0x1ed)],'owner':this[_0x49ff46(0x388)][_0x49ff46(0x680)],'leadInfo':_0x3ca553[_0x49ff46(0x5fa)],'imported':!0x0});}return _0x493002[_0x49ff46(0x47a)]>0x0&&await this[_0x49ff46(0x7a6)]['chat']['updateMany'](_0x493002[_0x49ff46(0x1bd)](_0x443bf9=>({'query':{'where':{'_id':_0x443bf9['_id'],'owner':this[_0x49ff46(0x388)][_0x49ff46(0x680)]}},'update':_0x443bf9}))),_0x2fc648[_0x49ff46(0x47a)]>0x0&&await this['repository'][_0x49ff46(0x64f)][_0x49ff46(0x2a6)](_0x2fc648,this[_0x49ff46(0x388)]['wuid']),{'updated':_0x493002['length'],'inserted':_0x2fc648[_0x49ff46(0x47a)]};}catch(_0x313a11){let _0x523203=_0x49ff46(0x4c7),_0x3e192e=_0x313a11 instanceof Error?_0x313a11['message']:typeof _0x313a11==_0x49ff46(0x1a3)?JSON['stringify'](_0x313a11):_0x313a11,_0x24c89f=_0x523203+':\x20'+_0x3e192e;throw this[_0x49ff46(0x5c8)]['error'](this[_0x49ff46(0x7bd)]+'\x20('+this[_0x49ff46(0x388)][_0x49ff46(0x680)]+_0x49ff46(0x32d)+_0x24c89f),new m(_0x24c89f);}}async['importChats'](_0x45116e){const _0x1e76ec=a0_0x46d805;try{if(!Array[_0x1e76ec(0x6a0)](_0x45116e)||_0x45116e['length']===0x0)throw new Error(_0x1e76ec(0x73d));let _0x1a3be6=0x64,_0x762a55=0x0;for(let _0x13e574=0x0;_0x13e574<_0x45116e['length'];_0x13e574+=_0x1a3be6){let _0x410fad=_0x45116e['slice'](_0x13e574,_0x13e574+_0x1a3be6),{updated:_0x4daf2b}=await this[_0x1e76ec(0x4bf)](_0x410fad);_0x762a55+=_0x4daf2b;}return{'updated':_0x762a55};}catch(_0x358629){let _0x4d48ed=_0x1e76ec(0x4c7),_0x4e52c4=_0x358629 instanceof Error?_0x358629[_0x1e76ec(0x620)]:typeof _0x358629=='object'?JSON[_0x1e76ec(0x7e7)](_0x358629):_0x358629,_0x5f54d2=_0x4d48ed+':\x20'+_0x4e52c4;throw this[_0x1e76ec(0x5c8)][_0x1e76ec(0x7ba)](this[_0x1e76ec(0x7bd)]+'\x20('+this[_0x1e76ec(0x388)]['wuid']+_0x1e76ec(0x32d)+_0x5f54d2),new m(_0x5f54d2);}}async[a0_0x46d805(0x4bf)](_0x58886c){const _0x468f17=a0_0x46d805;try{let _0x73318f=await this[_0x468f17(0x7a6)][_0x468f17(0x824)][_0x468f17(0x3d2)]({'where':{}},this[_0x468f17(0x388)]['wuid']),_0x36b2a9=new Set(_0x73318f['map'](_0x5be104=>_0x5be104[_0x468f17(0x1ed)])),_0x5006be=[],_0x538912=[];for(let _0x5042ab of _0x58886c){if(!_0x5042ab[_0x468f17(0x1ed)])continue;_0x5042ab[_0x468f17(0x1ed)]=this[_0x468f17(0x294)](_0x5042ab[_0x468f17(0x1ed)]);let _0x11d6ec=await this[_0x468f17(0x7a6)][_0x468f17(0x64f)][_0x468f17(0x104)]({'where':{'_id':_0x5042ab['_id']}},this[_0x468f17(0x388)][_0x468f17(0x680)]),_0x5e2baf={};if(Object[_0x468f17(0x50a)](_0x5042ab[_0x468f17(0x5fa)])['forEach'](([_0x37df65,_0x55ff52])=>{_0x5e2baf['leadInfo.'+_0x37df65]=_0x55ff52;}),_0x11d6ec&&!_0x11d6ec[_0x468f17(0x4b8)]){let _0x59bdcc=(_0x5042ab[_0x468f17(0x5fa)][_0x468f17(0x75e)]||[])['filter'](_0x3d4187=>_0x36b2a9[_0x468f17(0x5ed)](_0x3d4187)),_0x2f1a33=new Set(_0x11d6ec[_0x468f17(0x5fa)][_0x468f17(0x75e)]||[]),_0x18e39b=_0x59bdcc[_0x468f17(0x130)](_0x26e1b4=>!_0x2f1a33[_0x468f17(0x5ed)](_0x26e1b4)),_0x598b38=[..._0x2f1a33]['filter'](_0x101883=>!_0x59bdcc['includes'](_0x101883));_0x538912[_0x468f17(0x70b)](..._0x18e39b['map'](_0x4e801b=>this[_0x468f17(0x66d)](_0x4e801b,_0x5042ab[_0x468f17(0x1ed)]))),_0x538912['push'](..._0x598b38['map'](_0x1f0a97=>this[_0x468f17(0x42c)](_0x1f0a97,_0x5042ab[_0x468f17(0x1ed)]))),_0x5042ab[_0x468f17(0x5fa)]['etiquetas']=_0x59bdcc,_0x5006be[_0x468f17(0x70b)]({'query':{'where':{'_id':_0x5042ab['_id'],'owner':this[_0x468f17(0x388)]['wuid']}},'update':_0x5e2baf});}else _0x5e2baf[_0x468f17(0x4b8)]=!0x0,_0x5006be['push']({'query':{'where':{'_id':_0x5042ab[_0x468f17(0x1ed)],'owner':this['instance'][_0x468f17(0x680)]}},'update':_0x5e2baf});}let _0x2b4a99=await this['repository']['chat']['updateMany'](_0x5006be);return await Promise[_0x468f17(0x7fa)](_0x538912),{'updated':_0x2b4a99};}catch(_0x362108){let _0x3b13d2=_0x468f17(0x4c7),_0x43f6ff=_0x362108 instanceof Error?_0x362108[_0x468f17(0x620)]:typeof _0x362108==_0x468f17(0x1a3)?JSON[_0x468f17(0x7e7)](_0x362108):_0x362108,_0x4988d9=_0x3b13d2+':\x20'+_0x43f6ff;throw this[_0x468f17(0x5c8)][_0x468f17(0x7ba)](this[_0x468f17(0x7bd)]+'\x20('+this[_0x468f17(0x388)][_0x468f17(0x680)]+_0x468f17(0x32d)+_0x4988d9),new m(_0x4988d9);}}async[a0_0x46d805(0x4f5)](){const _0x128340=a0_0x46d805;return await this[_0x128340(0x3bf)][_0x128340(0x4f5)]();}async[a0_0x46d805(0x491)](_0x2d714d){const _0x35d0a5=a0_0x46d805;try{return await this[_0x35d0a5(0x3bf)]['updateReadReceiptsPrivacy'](_0x2d714d['privacySettings'][_0x35d0a5(0x31f)]),await this[_0x35d0a5(0x3bf)][_0x35d0a5(0x128)](_0x2d714d[_0x35d0a5(0x5de)][_0x35d0a5(0x55b)]),await this[_0x35d0a5(0x3bf)]['updateStatusPrivacy'](_0x2d714d['privacySettings'][_0x35d0a5(0x499)]),await this[_0x35d0a5(0x3bf)][_0x35d0a5(0x50c)](_0x2d714d[_0x35d0a5(0x5de)][_0x35d0a5(0x2b0)]),await this[_0x35d0a5(0x3bf)][_0x35d0a5(0x4e1)](_0x2d714d[_0x35d0a5(0x5de)][_0x35d0a5(0x2d0)]),await this[_0x35d0a5(0x3bf)][_0x35d0a5(0x721)](_0x2d714d[_0x35d0a5(0x5de)][_0x35d0a5(0x4b9)]),this['client']?.['ws']?.[_0x35d0a5(0x7cc)](),{'update':_0x35d0a5(0x51e),'data':{'readreceipts':_0x2d714d[_0x35d0a5(0x5de)]['readreceipts'],'profile':_0x2d714d['privacySettings'][_0x35d0a5(0x55b)],'status':_0x2d714d[_0x35d0a5(0x5de)]['status'],'online':_0x2d714d[_0x35d0a5(0x5de)]['online'],'last':_0x2d714d[_0x35d0a5(0x5de)][_0x35d0a5(0x2d0)],'groupadd':_0x2d714d[_0x35d0a5(0x5de)][_0x35d0a5(0x4b9)]}};}catch(_0x36a630){let _0x4079bd=_0x35d0a5(0x6bf),_0x2fd210=_0x36a630 instanceof Error?_0x36a630[_0x35d0a5(0x620)]:typeof _0x36a630==_0x35d0a5(0x1a3)?JSON[_0x35d0a5(0x7e7)](_0x36a630):_0x36a630,_0x170b29=_0x4079bd+':\x20'+_0x2fd210;throw this[_0x35d0a5(0x5c8)][_0x35d0a5(0x7ba)](this[_0x35d0a5(0x7bd)]+'\x20('+this[_0x35d0a5(0x388)][_0x35d0a5(0x680)]+_0x35d0a5(0x32d)+_0x170b29),new m(_0x170b29);}}async['fetchProfile'](_0x26b87a){const _0x4a138d=a0_0x46d805;let _0x37d60d=(_0x26b87a?this[_0x4a138d(0x294)](_0x26b87a):this[_0x4a138d(0x3bf)]?.['user']?.['id'])[_0x4a138d(0x1cd)](/:\d{1,2}@/g,'@');this['logger'][_0x4a138d(0x699)](this[_0x4a138d(0x7bd)]+'\x20('+this['instance']['wuid']+_0x4a138d(0x219)+_0x37d60d);let _0x537805=await this[_0x4a138d(0x7a6)][_0x4a138d(0x15e)][_0x4a138d(0x104)]({'where':{'_id':_0x37d60d}},this[_0x4a138d(0x388)][_0x4a138d(0x680)]),_0x4a777a=_0x537805?_0x537805[_0x4a138d(0x593)]:null;try{let _0x1198ef=(await this[_0x4a138d(0x342)]({'numbers':[_0x37d60d]}))?.[_0x4a138d(0x530)](),_0x282061=(await this[_0x4a138d(0x639)](_0x37d60d,null,!0x1))[_0x4a138d(0x32f)][_0x4a138d(0x70d)],_0x41111c=await this[_0x4a138d(0x321)](_0x1198ef?.['jid']),_0x4b4e8f=await this[_0x4a138d(0x255)](_0x1198ef?.['jid']),_0x71c2a2=(await this[_0x4a138d(0x639)](_0x37d60d,null,!0x1))[_0x4a138d(0x32f)][_0x4a138d(0x73f)],_0x170453=await this[_0x4a138d(0x7a6)]['chat']['findOne']({'where':{'_id':_0x37d60d}},this['instance']['wuid']),_0x5c576c={'imagechat':_0x282061,'contactname':_0x4a777a||null,'pushName':_0x71c2a2,'status':_0x41111c?.[_0x4a138d(0x499)],'isBusiness':_0x4b4e8f['isBusiness'],'email':_0x4b4e8f?.[_0x4a138d(0x704)],'description':_0x4b4e8f?.[_0x4a138d(0x4d1)],'website':_0x4b4e8f?.[_0x4a138d(0x713)]?.[_0x4a138d(0x530)](),'lastcache':Date[_0x4a138d(0x506)](),'imported':!_0x170453},_0x18da30=await this[_0x4a138d(0x7a6)][_0x4a138d(0x64f)][_0x4a138d(0x191)]({'where':{'_id':_0x37d60d}},_0x5c576c,this[_0x4a138d(0x388)][_0x4a138d(0x680)]),_0x4df018={'owner':this[_0x4a138d(0x388)][_0x4a138d(0x680)],'_id':_0x37d60d,'profilePictureUrl':_0x282061,'status':_0x41111c?.[_0x4a138d(0x499)]};return this[_0x4a138d(0x7a6)][_0x4a138d(0x15e)][_0x4a138d(0x5a5)]([_0x4df018],this[_0x4a138d(0x388)]['wuid']),_0x18da30&&q(this[_0x4a138d(0x7bd)],_0x4a138d(0x5e6),{'chat':_0x18da30}),{'wuid':_0x1198ef?.[_0x4a138d(0x7f6)]||_0x37d60d,'name':_0x1198ef?.[_0x4a138d(0x73f)],'pushName':_0x71c2a2,'numberExists':_0x1198ef?.[_0x4a138d(0x1f4)],'picture':_0x282061,'status':_0x41111c?.[_0x4a138d(0x499)],'isBusiness':_0x4b4e8f[_0x4a138d(0x705)],'email':_0x4b4e8f?.[_0x4a138d(0x704)],'description':_0x4b4e8f?.[_0x4a138d(0x4d1)],'website':_0x4b4e8f?.[_0x4a138d(0x713)]?.[_0x4a138d(0x530)]()};}catch(_0x35238a){return this[_0x4a138d(0x5c8)][_0x4a138d(0x7ba)](_0x4a138d(0x3cf)+(_0x35238a instanceof Error?_0x35238a['message']:JSON[_0x4a138d(0x7e7)](_0x35238a,null,0x2))),{};}}async[a0_0x46d805(0x255)](_0x56dd00){const _0x59fe97=a0_0x46d805;this[_0x59fe97(0x5c8)][_0x59fe97(0x699)](this[_0x59fe97(0x7bd)]+'\x20('+this[_0x59fe97(0x388)][_0x59fe97(0x680)]+_0x59fe97(0x601));try{let _0x148a04=_0x56dd00?this[_0x59fe97(0x294)](_0x56dd00):this[_0x59fe97(0x388)][_0x59fe97(0x680)],_0x3c5b08=await this['client']['getBusinessProfile'](_0x148a04);return this['logger'][_0x59fe97(0x699)](this['instanceName']+'\x20('+this['instance']['wuid']+'):Trying\x20to\x20get\x20business\x20profile'),_0x3c5b08?(this[_0x59fe97(0x5c8)][_0x59fe97(0x699)](this[_0x59fe97(0x7bd)]+'\x20('+this[_0x59fe97(0x388)][_0x59fe97(0x680)]+_0x59fe97(0x2eb)),{'isBusiness':!0x0,..._0x3c5b08}):{'isBusiness':!0x1,'message':_0x59fe97(0x517),...(await this[_0x59fe97(0x342)]({'numbers':[_0x148a04]}))?.[_0x59fe97(0x530)]()};}catch(_0x82c014){let _0x1b8821=_0x59fe97(0x2ae),_0x17ce4e=_0x82c014 instanceof Error?_0x82c014[_0x59fe97(0x620)]:typeof _0x82c014==_0x59fe97(0x1a3)?JSON[_0x59fe97(0x7e7)](_0x82c014):_0x82c014,_0x1a69d5=_0x1b8821+':\x20'+_0x17ce4e;throw this[_0x59fe97(0x5c8)]['error'](this[_0x59fe97(0x7bd)]+'\x20('+this[_0x59fe97(0x388)][_0x59fe97(0x680)]+_0x59fe97(0x32d)+_0x1a69d5),new x(_0x1a69d5);}}async[a0_0x46d805(0x321)](_0x4a3ef3){const _0x254242=a0_0x46d805;let _0x33e516=this[_0x254242(0x294)](_0x4a3ef3);try{return{'wuid':_0x33e516,'status':(await this[_0x254242(0x3bf)]['fetchStatus'](_0x33e516))?.['status']};}catch{return{'wuid':_0x33e516,'status':null};}}async[a0_0x46d805(0x6aa)](_0x221238){const _0x20abbe=a0_0x46d805;try{return await this['client']['updateProfileName'](_0x221238),{'update':_0x20abbe(0x51e)};}catch(_0x3a8792){let _0x22e073='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x2b5f2f=_0x3a8792 instanceof Error?_0x3a8792[_0x20abbe(0x620)]:typeof _0x3a8792==_0x20abbe(0x1a3)?JSON[_0x20abbe(0x7e7)](_0x3a8792):_0x3a8792,_0x4daa8c=_0x22e073+':\x20'+_0x2b5f2f;throw this[_0x20abbe(0x5c8)][_0x20abbe(0x7ba)](this[_0x20abbe(0x7bd)]+'\x20('+this['instance'][_0x20abbe(0x680)]+_0x20abbe(0x32d)+_0x4daa8c),new x(_0x4daa8c);}}async[a0_0x46d805(0x48d)](_0x3ae908){const _0x2e5c1b=a0_0x46d805;try{return await this['client'][_0x2e5c1b(0x48d)](_0x3ae908),{'update':_0x2e5c1b(0x51e)};}catch(_0x1f578b){let _0x7629bd=_0x2e5c1b(0x1bb),_0x1a1049=_0x1f578b instanceof Error?_0x1f578b[_0x2e5c1b(0x620)]:typeof _0x1f578b==_0x2e5c1b(0x1a3)?JSON['stringify'](_0x1f578b):_0x1f578b,_0x894715=_0x7629bd+':\x20'+_0x1a1049;throw this[_0x2e5c1b(0x5c8)][_0x2e5c1b(0x7ba)](this[_0x2e5c1b(0x7bd)]+'\x20('+this[_0x2e5c1b(0x388)][_0x2e5c1b(0x680)]+_0x2e5c1b(0x32d)+_0x894715),new x(_0x894715);}}async[a0_0x46d805(0x43a)](_0x2ba8f1){const _0xbe7f44=a0_0x46d805;try{let _0x1dd57f;if((0x0,F[_0xbe7f44(0x136)])(_0x2ba8f1)){let _0x2df556=new Date()['getTime'](),_0x41f248=_0x2ba8f1+_0xbe7f44(0x6e7)+_0x2df556;_0x1dd57f=(await Z['default'][_0xbe7f44(0x1ae)](_0x41f248,{'responseType':_0xbe7f44(0x28a)}))[_0xbe7f44(0x3df)];}else{if((0x0,F[_0xbe7f44(0x7a4)])(_0x2ba8f1))_0x1dd57f=Buffer['from'](_0x2ba8f1,'base64');else throw new m(_0xbe7f44(0x605));}return await this['client'][_0xbe7f44(0x43a)](this['instance']['wuid'],_0x1dd57f),{'update':_0xbe7f44(0x51e)};}catch(_0x2ec0c9){let _0x1eafaf=_0xbe7f44(0x6b7),_0x45bcb0=_0x2ec0c9 instanceof Error?_0x2ec0c9[_0xbe7f44(0x620)]:typeof _0x2ec0c9=='object'?JSON['stringify'](_0x2ec0c9):_0x2ec0c9,_0x55842a=_0x1eafaf+':\x20'+_0x45bcb0;throw this[_0xbe7f44(0x5c8)]['error'](this[_0xbe7f44(0x7bd)]+'\x20('+this[_0xbe7f44(0x388)][_0xbe7f44(0x680)]+_0xbe7f44(0x32d)+_0x55842a),new x(_0x55842a);}}async['removeProfilePicture'](){const _0x460c5c=a0_0x46d805;try{return await this['client']['removeProfilePicture'](this[_0x460c5c(0x388)][_0x460c5c(0x680)]),{'update':_0x460c5c(0x51e)};}catch(_0x13a8e1){let _0x5c8045='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x969a41=_0x13a8e1 instanceof Error?_0x13a8e1['message']:typeof _0x13a8e1==_0x460c5c(0x1a3)?JSON[_0x460c5c(0x7e7)](_0x13a8e1):_0x13a8e1,_0x227b40=_0x5c8045+':\x20'+_0x969a41;throw this[_0x460c5c(0x5c8)][_0x460c5c(0x7ba)](this[_0x460c5c(0x7bd)]+'\x20('+this['instance'][_0x460c5c(0x680)]+_0x460c5c(0x32d)+_0x227b40),new x(_0x227b40);}}async['createGroup'](_0x40a898){const _0x5b9450=a0_0x46d805;try{let _0x4cd438=(await this['whatsappNumber']({'numbers':_0x40a898[_0x5b9450(0x780)]}))['filter'](_0x5769e5=>_0x5769e5[_0x5b9450(0x1f4)])[_0x5b9450(0x1bd)](_0x422d60=>_0x422d60[_0x5b9450(0x7f6)]),{id:_0x32e8cf}=await this[_0x5b9450(0x3bf)][_0x5b9450(0x5ea)](_0x40a898['subject'],_0x4cd438);_0x40a898?.[_0x5b9450(0x4d1)]&&await this[_0x5b9450(0x3bf)]['groupUpdateDescription'](_0x32e8cf,_0x40a898[_0x5b9450(0x4d1)]);let _0x52a544=await this['client'][_0x5b9450(0x615)](_0x32e8cf);return _0x52a544['awaitingApproval']=[],{'metadata':_0x52a544};}catch(_0xec6a2f){let _0x4e524d='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x11d10f=_0xec6a2f instanceof Error?_0xec6a2f['message']:typeof _0xec6a2f==_0x5b9450(0x1a3)?JSON[_0x5b9450(0x7e7)](_0xec6a2f):_0xec6a2f,_0x2d8f5e=_0x4e524d+':\x20'+_0x11d10f;throw this['logger'][_0x5b9450(0x7ba)](this[_0x5b9450(0x7bd)]+'\x20('+this[_0x5b9450(0x388)][_0x5b9450(0x680)]+_0x5b9450(0x32d)+_0x2d8f5e),new x(_0x2d8f5e);}}async[a0_0x46d805(0x3ba)](_0x3d9289){const _0x319f86=a0_0x46d805;try{if(_0x3d9289[_0x319f86(0x133)]===!0x0&&await this[_0x319f86(0x3bf)][_0x319f86(0x20c)](_0x3d9289[_0x319f86(0x53c)],_0x319f86(0x13f)),_0x3d9289[_0x319f86(0x133)]===!0x1&&await this[_0x319f86(0x3bf)][_0x319f86(0x20c)](_0x3d9289[_0x319f86(0x53c)],_0x319f86(0x658)),_0x3d9289[_0x319f86(0x2cf)]===!0x0&&await this['client'][_0x319f86(0x20c)](_0x3d9289[_0x319f86(0x53c)],_0x319f86(0x13e)),_0x3d9289[_0x319f86(0x2cf)]===!0x1&&await this['client']['groupSettingUpdate'](_0x3d9289['groupJid'],_0x319f86(0x254)),_0x3d9289[_0x319f86(0x63f)]===!0x0&&await this[_0x319f86(0x3bf)][_0x319f86(0x72d)](_0x3d9289[_0x319f86(0x53c)],_0x319f86(0x536)),_0x3d9289['memberAddMode']===!0x1&&await this[_0x319f86(0x3bf)][_0x319f86(0x72d)](_0x3d9289[_0x319f86(0x53c)],_0x319f86(0x3fa)),_0x3d9289['joinApprovalMode']===!0x0&&await this[_0x319f86(0x3bf)]['groupJoinApprovalMode'](_0x3d9289[_0x319f86(0x53c)],'on'),_0x3d9289[_0x319f86(0x4c6)]===!0x1&&await this[_0x319f86(0x3bf)][_0x319f86(0x27b)](_0x3d9289[_0x319f86(0x53c)],'off'),typeof _0x3d9289[_0x319f86(0x19e)]<'u'&&_0x3d9289[_0x319f86(0x19e)]!==null&&await this['client'][_0x319f86(0x3ee)](_0x3d9289['groupJid'],_0x3d9289[_0x319f86(0x19e)]),_0x3d9289[_0x319f86(0x73f)]&&await this[_0x319f86(0x3bf)]['groupUpdateSubject'](_0x3d9289[_0x319f86(0x53c)],_0x3d9289[_0x319f86(0x73f)]),_0x3d9289['description']&&await this[_0x319f86(0x3bf)][_0x319f86(0x4d7)](_0x3d9289['groupJid'],_0x3d9289[_0x319f86(0x4d1)]),_0x3d9289[_0x319f86(0x633)]){let _0x4a19fa;if((0x0,F[_0x319f86(0x136)])(_0x3d9289[_0x319f86(0x633)])){let _0x5d6a66=new Date()['getTime'](),_0x4b3f6a=_0x3d9289[_0x319f86(0x633)]+_0x319f86(0x6e7)+_0x5d6a66;_0x4a19fa=(await Z['default']['get'](_0x4b3f6a,{'responseType':_0x319f86(0x28a)}))[_0x319f86(0x3df)];}else{if((0x0,F['isBase64'])(_0x3d9289[_0x319f86(0x633)]))_0x4a19fa=Buffer['from'](_0x3d9289[_0x319f86(0x633)],_0x319f86(0x11b));else throw new m(_0x319f86(0x605));}await this[_0x319f86(0x3bf)][_0x319f86(0x43a)](_0x3d9289[_0x319f86(0x53c)],_0x4a19fa);}return await this[_0x319f86(0x529)]({'groupJid':_0x3d9289[_0x319f86(0x53c)]});}catch(_0x1b3ffe){let _0x4927b1=_0x319f86(0x38a),_0x1d23c5=_0x1b3ffe instanceof Error?_0x1b3ffe[_0x319f86(0x620)]:typeof _0x1b3ffe==_0x319f86(0x1a3)?JSON[_0x319f86(0x7e7)](_0x1b3ffe):_0x1b3ffe,_0xbc6d7e=_0x4927b1+':\x20'+_0x1d23c5;throw this[_0x319f86(0x5c8)][_0x319f86(0x7ba)](this[_0x319f86(0x7bd)]+'\x20('+this['instance'][_0x319f86(0x680)]+_0x319f86(0x32d)+_0xbc6d7e),new x(_0xbc6d7e);}}async['updateGParticipant'](_0x35281c){const _0x89901b=a0_0x46d805;try{if(_0x35281c['action']===_0x89901b(0x1b4)||_0x35281c[_0x89901b(0x4ec)]===_0x89901b(0x500)){let _0x538f9e=_0x35281c[_0x89901b(0x780)][_0x89901b(0x1bd)](_0x23034d=>this[_0x89901b(0x294)](_0x23034d));await this[_0x89901b(0x3bf)][_0x89901b(0x735)](_0x35281c[_0x89901b(0x53c)],_0x538f9e,_0x35281c[_0x89901b(0x4ec)]);}else{if(_0x35281c['action']==='add'){let _0x57160e=(await this[_0x89901b(0x342)]({'numbers':_0x35281c['participants']}))[_0x89901b(0x130)](_0x4218bc=>_0x4218bc[_0x89901b(0x1f4)])[_0x89901b(0x1bd)](_0x26bfd4=>this['createJid'](_0x26bfd4['jid']));if(_0x57160e[_0x89901b(0x47a)]===0x0)throw new m(_0x89901b(0x7e4));await this['client'][_0x89901b(0x433)](_0x35281c['groupJid'],_0x57160e,'add');}else{let _0x371ec5=_0x35281c[_0x89901b(0x780)][_0x89901b(0x1bd)](_0x5152e0=>this['createJid'](_0x5152e0));await this['client'][_0x89901b(0x433)](_0x35281c[_0x89901b(0x53c)],_0x371ec5,_0x35281c[_0x89901b(0x4ec)]);}}return await this['findGroup']({'groupJid':_0x35281c['groupJid']});}catch(_0x2ad901){let _0x5cac69=_0x89901b(0x5a2),_0x3a5159=_0x2ad901 instanceof Error?_0x2ad901['message']:typeof _0x2ad901==_0x89901b(0x1a3)?JSON[_0x89901b(0x7e7)](_0x2ad901):_0x2ad901,_0x2e7901=_0x5cac69+':\x20'+_0x3a5159;throw this[_0x89901b(0x5c8)][_0x89901b(0x7ba)](this[_0x89901b(0x7bd)]+'\x20('+this[_0x89901b(0x388)][_0x89901b(0x680)]+'):\x20'+_0x2e7901),new m(_0x2e7901);}}async['groupGetInviteInfo'](_0x5515e9){const _0x266d60=a0_0x46d805;try{return await this[_0x266d60(0x3bf)][_0x266d60(0x72b)](_0x5515e9['inviteCode']);}catch(_0x513ccd){let _0x521b42=_0x266d60(0x2a5),_0x309bcd=_0x513ccd instanceof Error?_0x513ccd[_0x266d60(0x620)]:typeof _0x513ccd=='object'?JSON[_0x266d60(0x7e7)](_0x513ccd):_0x513ccd,_0x1d26a0=_0x521b42+':\x20'+_0x309bcd;throw this[_0x266d60(0x5c8)][_0x266d60(0x7ba)](this[_0x266d60(0x7bd)]+'\x20('+this['instance']['wuid']+_0x266d60(0x32d)+_0x1d26a0),new m(_0x1d26a0);}}async[a0_0x46d805(0x529)](_0x24a985,_0x448761=a0_0x46d805(0x57e)){const _0x390f6f=a0_0x46d805;try{let _0x365e92=await this[_0x390f6f(0x7a6)][_0x390f6f(0x64f)][_0x390f6f(0x104)]({'where':{'_id':_0x24a985[_0x390f6f(0x53c)]}},this[_0x390f6f(0x388)][_0x390f6f(0x680)]),_0x46017f=_0x365e92?_0x365e92[_0x390f6f(0x51d)]:null,_0x3ce7b5=0x18*0x3c*0x3c*0x3e8;if(!_0x46017f||_0x46017f['lastUpdate']&&Date[_0x390f6f(0x506)]()-_0x46017f['lastUpdate']>_0x3ce7b5){let _0x48a557=await this[_0x390f6f(0x3bf)][_0x390f6f(0x615)](_0x24a985[_0x390f6f(0x53c)]);if(_0x48a557[_0x390f6f(0x122)]=_0x48a557?.[_0x390f6f(0x122)]&&_0x48a557[_0x390f6f(0x122)][_0x390f6f(0x821)]()[_0x390f6f(0x47a)]<0xd?_0x48a557?.[_0x390f6f(0x122)]*0x3e8:_0x48a557?.[_0x390f6f(0x122)]||null,_0x48a557[_0x390f6f(0x65f)]=_0x48a557?.[_0x390f6f(0x65f)]&&_0x48a557[_0x390f6f(0x65f)][_0x390f6f(0x821)]()[_0x390f6f(0x47a)]<0xd?_0x48a557?.[_0x390f6f(0x65f)]*0x3e8:_0x48a557?.[_0x390f6f(0x65f)]||null,_0x46017f={..._0x48a557,'lastUpdate':Date[_0x390f6f(0x506)]()},!_0x48a557)return;}let _0x3ce2d9=_0x46017f['participants'][_0x390f6f(0x2c0)](_0x5875ba=>_0x5875ba['id']===this['instance'][_0x390f6f(0x680)]+'@s.whatsapp.net'&&_0x5875ba[_0x390f6f(0x7dc)]!=null);!_0x46017f[_0x390f6f(0x78b)]&&_0x3ce2d9&&(_0x46017f[_0x390f6f(0x78b)]=(await this[_0x390f6f(0x78b)](_0x24a985,!0x1))[_0x390f6f(0x1bf)]);let _0xe4cb88=(!_0x46017f[_0x390f6f(0x2cf)]||_0x3ce2d9)&&(!_0x46017f[_0x390f6f(0x671)]||_0x46017f[_0x390f6f(0x671)]&&_0x46017f[_0x390f6f(0x46d)]&&_0x3ce2d9);_0x46017f[_0x390f6f(0x7b0)]=_0x3ce2d9,_0x46017f['canSendMessage']=_0xe4cb88;let _0x5111b7=[];if(_0x3ce2d9&&_0x46017f[_0x390f6f(0x4c6)])try{_0x5111b7=await this[_0x390f6f(0x3bf)]['groupRequestParticipantsList'](_0x24a985[_0x390f6f(0x53c)]),_0x46017f['lastFetchAwaitingApproval']=Date[_0x390f6f(0x506)]();}catch(_0x793278){this['logger'][_0x390f6f(0x699)](this[_0x390f6f(0x7bd)]+'\x20('+this['instance'][_0x390f6f(0x680)]+_0x390f6f(0x5ff)+_0x24a985[_0x390f6f(0x53c)]+':\x20'+(_0x793278 instanceof Error?_0x793278[_0x390f6f(0x620)]:JSON['stringify'](_0x793278,null,0x2)));}try{_0x46017f[_0x390f6f(0x633)]=(await this[_0x390f6f(0x639)](_0x24a985['groupJid'],null,!0x0))[_0x390f6f(0x32f)][_0x390f6f(0x70d)];}catch(_0x586e9c){this[_0x390f6f(0x5c8)][_0x390f6f(0x699)](this['instanceName']+'\x20('+this[_0x390f6f(0x388)][_0x390f6f(0x680)]+_0x390f6f(0x765)+_0x24a985[_0x390f6f(0x53c)]+':\x20'+(_0x586e9c instanceof Error?_0x586e9c[_0x390f6f(0x620)]:JSON[_0x390f6f(0x7e7)](_0x586e9c,null,0x2)));}let _0x15534c=_0x46017f[_0x390f6f(0x780)][_0x390f6f(0x1bd)](_0x825d0=>_0x825d0['id']),_0x40ac5e=_0x5111b7[_0x390f6f(0x1bd)](_0x2b5669=>_0x2b5669[_0x390f6f(0x7f6)]),_0x57ea75=await this[_0x390f6f(0x7a6)][_0x390f6f(0x53f)][_0x390f6f(0x4a7)]([..._0x15534c,..._0x40ac5e]);_0x46017f[_0x390f6f(0x780)]=_0x46017f[_0x390f6f(0x780)][_0x390f6f(0x1bd)](_0x5c955d=>{const _0xd3c71c=_0x390f6f;let _0x5cbb32=_0x57ea75[_0xd3c71c(0x3d2)](_0x193725=>_0x193725[_0xd3c71c(0x1ed)]===_0x5c955d['id']);return{'id':_0x5c955d['id'],'isAdmin':[_0xd3c71c(0x7dc),_0xd3c71c(0x6d7)][_0xd3c71c(0x7ff)](_0x5c955d[_0xd3c71c(0x7dc)]),'admin':_0x5c955d[_0xd3c71c(0x7dc)],'pushName':_0x5cbb32?.[_0xd3c71c(0x73f)],'profilePictureUrl':_0x5cbb32?.[_0xd3c71c(0x70d)]};}),_0x46017f['awaitingApproval']=_0x5111b7[_0x390f6f(0x1bd)](_0x659a43=>{const _0x139178=_0x390f6f;let _0x9738e9=_0x57ea75[_0x139178(0x3d2)](_0x41451e=>_0x41451e[_0x139178(0x1ed)]===_0x659a43[_0x139178(0x7f6)]);return{'id':_0x659a43['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x9738e9?.[_0x139178(0x73f)],'profilePictureUrl':_0x9738e9?.[_0x139178(0x70d)],'request_method':_0x659a43[_0x139178(0x4cb)],'request_time':_0x659a43[_0x139178(0x784)]};});let _0x2ce8a5=await this[_0x390f6f(0x7a6)][_0x390f6f(0x64f)][_0x390f6f(0x191)]({'where':{'_id':_0x24a985[_0x390f6f(0x53c)]}},{'imagechat':_0x46017f['image'],'name':_0x46017f[_0x390f6f(0x26c)],'lastcache':Date[_0x390f6f(0x506)](),'groupdata':_0x46017f},this[_0x390f6f(0x388)][_0x390f6f(0x680)]);return q(this[_0x390f6f(0x7bd)],_0x390f6f(0x5e6),{'chat':_0x2ce8a5}),{'metadata':_0x46017f};}catch(_0x377e7b){if(_0x448761==='inner')return;throw new V(_0x390f6f(0x6a5),_0x377e7b[_0x390f6f(0x620)][_0x390f6f(0x821)]());}}async[a0_0x46d805(0x7b8)](){const _0x287eef=a0_0x46d805;try{let _0x50e2a5=[],_0x401072=await this[_0x287eef(0x3bf)]['groupFetchAllParticipating'](),_0x3d61d8=Object['values'](_0x401072),_0x256f34=_0x3d61d8['filter'](_0x55f4a7=>(0x0,w[_0x287eef(0x722)])(_0x55f4a7?.['id']))[_0x287eef(0x1bd)](async _0x492e45=>{const _0x193bfb=_0x287eef;try{return await this['client'][_0x193bfb(0x2cc)](_0x492e45['id'],'preview');}catch(_0x2a32e2){return this[_0x193bfb(0x5c8)][_0x193bfb(0x699)](this['instanceName']+'\x20('+this['instance'][_0x193bfb(0x680)]+_0x193bfb(0x765)+_0x492e45['id']+':\x20'+(_0x2a32e2 instanceof Error?_0x2a32e2['message']:JSON[_0x193bfb(0x7e7)](_0x2a32e2,null,0x2))),null;}}),_0x4475aa=await Promise['all'](_0x256f34);for(let _0x13dd91=0x0;_0x13dd91<_0x3d61d8['length'];_0x13dd91++){let _0x1a5e58=_0x3d61d8[_0x13dd91];(0x0,w['isJidGroup'])(_0x1a5e58?.['id'])&&(_0x50e2a5[_0x287eef(0x70b)]({'groupJid':_0x1a5e58?.['id'],'subject':_0x1a5e58?.[_0x287eef(0x26c)],'subjectOwner':_0x1a5e58?.[_0x287eef(0x818)]?.[_0x287eef(0x76f)]('@')[0x0],'subjectTime':_0x1a5e58?.[_0x287eef(0x122)],'creation':_0x1a5e58?.[_0x287eef(0x65f)],'size':_0x1a5e58?.[_0x287eef(0x780)]?.[_0x287eef(0x47a)],'owner':_0x1a5e58?.[_0x287eef(0x237)]?.[_0x287eef(0x76f)]('@')[0x0],'desc':_0x1a5e58?.[_0x287eef(0x426)],'restrict':_0x1a5e58?.[_0x287eef(0x133)],'announce':_0x1a5e58?.[_0x287eef(0x2cf)],'image':_0x4475aa[_0x13dd91],'isCommunity':_0x1a5e58?.['isCommunity'],'joinApprovalMode':_0x1a5e58?.[_0x287eef(0x4c6)],'memberCanAddParticipant':_0x1a5e58?.[_0x287eef(0x63f)],'participants':_0x1a5e58?.[_0x287eef(0x780)],'descOwner':_0x1a5e58?.[_0x287eef(0x771)],'descId':_0x1a5e58?.[_0x287eef(0x5a6)],'memberAddMode':_0x1a5e58?.[_0x287eef(0x63f)],'isCommunityAnnounce':_0x1a5e58?.[_0x287eef(0x46d)],'ephemeralDuration':_0x1a5e58?.[_0x287eef(0x76d)]||0x0,'author':_0x1a5e58?.[_0x287eef(0x20b)]}),this[_0x287eef(0x39b)](_0x3d61d8[_0x13dd91]));}return _0x50e2a5;}catch(_0x1a158b){let _0x3ee60a=_0x287eef(0x5b0),_0x4cb30d=_0x1a158b instanceof Error?_0x1a158b['message']:typeof _0x1a158b==_0x287eef(0x1a3)?JSON[_0x287eef(0x7e7)](_0x1a158b):_0x1a158b,_0x41c809=_0x3ee60a+':\x20'+_0x4cb30d;throw this[_0x287eef(0x5c8)]['error'](this['instanceName']+'\x20('+this['instance'][_0x287eef(0x680)]+_0x287eef(0x32d)+_0x41c809),new V(_0x41c809);}}async[a0_0x46d805(0x39b)](_0xb7848f){const _0x4667b9=a0_0x46d805;let _0x30f804=await this['repository'][_0x4667b9(0x64f)][_0x4667b9(0x104)]({'where':{'_id':_0xb7848f['id']}},this[_0x4667b9(0x388)][_0x4667b9(0x680)]);_0xb7848f['subjectTime']=_0xb7848f?.['subjectTime']&&_0xb7848f['subjectTime'][_0x4667b9(0x821)]()[_0x4667b9(0x47a)]<0xd?_0xb7848f?.[_0x4667b9(0x122)]*0x3e8:_0xb7848f?.[_0x4667b9(0x122)]||null,_0xb7848f[_0x4667b9(0x65f)]=_0xb7848f?.[_0x4667b9(0x65f)]&&_0xb7848f['creation'][_0x4667b9(0x821)]()[_0x4667b9(0x47a)]<0xd?_0xb7848f?.[_0x4667b9(0x65f)]*0x3e8:_0xb7848f?.[_0x4667b9(0x65f)]||null;let _0x41221b=_0x30f804?.[_0x4667b9(0x51d)]?.['awaitingApproval']||[],_0x5258d0=_0x30f804?.['groupdata']?.[_0x4667b9(0x3c2)],_0xadd9e6=_0xb7848f[_0x4667b9(0x780)][_0x4667b9(0x1bd)](_0x551f9f=>{const _0x4a0891=_0x4667b9;let _0x2241b9=_0x30f804?.['groupdata']?.[_0x4a0891(0x780)]['find'](_0x3217a5=>_0x3217a5['id']===_0x551f9f['id']);return{..._0x551f9f,'isAdmin':['admin',_0x4a0891(0x6d7)][_0x4a0891(0x7ff)](_0x551f9f['admin']),'admin':_0x551f9f['admin'],'name':_0x2241b9?.[_0x4a0891(0x73f)]||_0x551f9f[_0x4a0891(0x73f)],'imgUrl':_0x2241b9?.[_0x4a0891(0x743)]||_0x551f9f[_0x4a0891(0x743)]};}),_0x2d3ce8=_0xadd9e6[_0x4667b9(0x2c0)](_0x286cc0=>_0x286cc0['id']===this['instance'][_0x4667b9(0x680)]+_0x4667b9(0x602)&&_0x286cc0[_0x4667b9(0x7b0)]),_0x127ff5=(!_0xb7848f[_0x4667b9(0x2cf)]||_0x2d3ce8)&&(!_0xb7848f[_0x4667b9(0x671)]||_0xb7848f['isCommunity']&&_0xb7848f[_0x4667b9(0x46d)]&&_0x2d3ce8),_0x5e3018={..._0xb7848f,'participants':_0xadd9e6,'awaitingApproval':_0x41221b,'lastFetchAwaitingApproval':_0x5258d0,'isAdmin':_0x2d3ce8,'canSendMessage':_0x127ff5,'lastUpdate':Date[_0x4667b9(0x506)]()};await this[_0x4667b9(0x7a6)]['chat'][_0x4667b9(0x191)]({'where':{'_id':_0xb7848f['id']}},{'name':_0xb7848f[_0x4667b9(0x26c)],'group':!0x0,'groupdata':_0x5e3018,'lastcache':Date[_0x4667b9(0x506)]()},this[_0x4667b9(0x388)][_0x4667b9(0x680)]),q(this['instanceName'],_0x4667b9(0x5e6),{'chat':_0xb7848f});}async['updateGroupWebhook'](_0x5e8e04){const _0x21630a=a0_0x46d805;let _0x52571d=await this[_0x21630a(0x7a6)][_0x21630a(0x64f)][_0x21630a(0x104)]({'where':{'_id':_0x5e8e04['id']}},this[_0x21630a(0x388)]['wuid']);_0x5e8e04[_0x21630a(0x122)]=_0x5e8e04?.['subjectTime']&&_0x5e8e04[_0x21630a(0x122)][_0x21630a(0x821)]()[_0x21630a(0x47a)]<0xd?_0x5e8e04?.[_0x21630a(0x122)]*0x3e8:_0x5e8e04?.[_0x21630a(0x122)]||null,_0x5e8e04[_0x21630a(0x65f)]=_0x5e8e04?.[_0x21630a(0x65f)]&&_0x5e8e04['creation']['toString']()[_0x21630a(0x47a)]<0xd?_0x5e8e04?.[_0x21630a(0x65f)]*0x3e8:_0x5e8e04?.[_0x21630a(0x65f)]||null,_0x5e8e04['inviteCode']&&(_0x5e8e04[_0x21630a(0x78b)]=_0x21630a(0x707)+_0x5e8e04['inviteCode']);let _0x3ab0a0=_0x52571d?.[_0x21630a(0x51d)]?{..._0x52571d[_0x21630a(0x51d)]}:{};Object[_0x21630a(0x5f6)](_0x5e8e04)[_0x21630a(0x1db)](_0x41c990=>{_0x41c990!=='id'&&(_0x3ab0a0[_0x41c990]=_0x5e8e04[_0x41c990]);});let _0x161efc=_0x3ab0a0['participants']?.[_0x21630a(0x2c0)](_0x21a7a6=>_0x21a7a6['id']===this[_0x21630a(0x388)][_0x21630a(0x680)]+_0x21630a(0x602)&&_0x21a7a6[_0x21630a(0x7b0)])||!0x1;_0x3ab0a0[_0x21630a(0x7b0)]=_0x161efc;let _0x410d0e=(!_0x3ab0a0[_0x21630a(0x2cf)]||_0x161efc)&&(!_0x3ab0a0[_0x21630a(0x671)]||_0x3ab0a0[_0x21630a(0x671)]&&_0x3ab0a0['isCommunityAnnounce']&&_0x161efc);_0x3ab0a0[_0x21630a(0x3fc)]=_0x410d0e;let _0x2565de={'group':!0x0,'groupdata':_0x3ab0a0};_0x5e8e04['subject']&&(_0x2565de[_0x21630a(0x73f)]=_0x5e8e04[_0x21630a(0x26c)]),await this['repository'][_0x21630a(0x64f)][_0x21630a(0x191)]({'where':{'_id':_0x5e8e04['id']}},_0x2565de,this['instance'][_0x21630a(0x680)],{'upsert':!0x0}),q(this['instanceName'],'chats',{'chat':_0x2565de});}async['updateGroupParticipantsWebhook'](_0x20bd8c){const _0x3a4a8=a0_0x46d805;let _0x5352f1=await this[_0x3a4a8(0x7a6)]['chat'][_0x3a4a8(0x104)]({'where':{'_id':_0x20bd8c['id']}},this['instance']['wuid']);if(!_0x5352f1||!_0x5352f1[_0x3a4a8(0x51d)]){this['logger'][_0x3a4a8(0x5bb)](this[_0x3a4a8(0x7bd)]+'\x20('+this[_0x3a4a8(0x388)][_0x3a4a8(0x680)]+_0x3a4a8(0x3d8)+_0x20bd8c['id']);return;}let _0x4ff4cc=await this[_0x3a4a8(0x7a6)]['cacheContact'][_0x3a4a8(0x4a7)](_0x20bd8c[_0x3a4a8(0x780)]),_0x245d56=[..._0x5352f1[_0x3a4a8(0x51d)]?.[_0x3a4a8(0x780)]];switch(_0x20bd8c[_0x3a4a8(0x4ec)]){case _0x3a4a8(0x70c):let _0xfe3fbf=_0x4ff4cc[_0x3a4a8(0x1bd)](_0x2365f2=>({'id':_0x2365f2[_0x3a4a8(0x1ed)],'isAdmin':!0x1,'name':_0x2365f2[_0x3a4a8(0x73f)],'imgUrl':_0x2365f2[_0x3a4a8(0x70d)]}));_0x245d56=[..._0x245d56,..._0xfe3fbf];break;case _0x3a4a8(0x60e):_0x245d56=_0x245d56['filter'](_0x58017f=>!_0x20bd8c['participants'][_0x3a4a8(0x7ff)](_0x58017f['id']));break;case _0x3a4a8(0x547):case _0x3a4a8(0x436):_0x245d56=_0x245d56[_0x3a4a8(0x1bd)](_0x164d59=>_0x20bd8c[_0x3a4a8(0x780)]['includes'](_0x164d59['id'])?{..._0x164d59,'isAdmin':_0x20bd8c[_0x3a4a8(0x4ec)]===_0x3a4a8(0x547)}:_0x164d59);break;}let _0x4a16c1=_0x245d56[_0x3a4a8(0x47a)],_0x2dda7b=_0x245d56[_0x3a4a8(0x2c0)](_0x582673=>_0x582673['id']===this['instance'][_0x3a4a8(0x680)]+'@s.whatsapp.net'),_0x596abd=_0x2dda7b&&_0x245d56['some'](_0x1e29b2=>_0x1e29b2['id']===this['instance'][_0x3a4a8(0x680)]+_0x3a4a8(0x602)&&_0x1e29b2[_0x3a4a8(0x7b0)]),_0x5d13f4=_0x2dda7b&&(!_0x5352f1[_0x3a4a8(0x51d)]['announce']||_0x596abd)&&(!_0x5352f1[_0x3a4a8(0x51d)]['isCommunity']||_0x5352f1[_0x3a4a8(0x51d)][_0x3a4a8(0x671)]&&_0x596abd);await this['repository'][_0x3a4a8(0x64f)][_0x3a4a8(0x191)]({'where':{'_id':_0x20bd8c['id']}},{'groupdata':{..._0x5352f1['groupdata'],'participants':_0x245d56,'size':_0x4a16c1,'isAdmin':_0x596abd,'canSendMessage':_0x5d13f4}},this[_0x3a4a8(0x388)][_0x3a4a8(0x680)]),this[_0x3a4a8(0x5c8)][_0x3a4a8(0x5bb)](this[_0x3a4a8(0x7bd)]+'\x20('+this['instance'][_0x3a4a8(0x680)]+_0x3a4a8(0x468)+_0x20bd8c['id']+_0x3a4a8(0x33d)+_0x20bd8c[_0x3a4a8(0x4ec)]+_0x3a4a8(0x1fa)+_0x4a16c1+_0x3a4a8(0x770)+_0x596abd+_0x3a4a8(0x726)+_0x5d13f4);}async[a0_0x46d805(0x78b)](_0x3d660f,_0x1c1051=!0x0){const _0x3d3575=a0_0x46d805;try{let _0x328491=await this[_0x3d3575(0x3bf)][_0x3d3575(0x67f)](_0x3d660f[_0x3d3575(0x53c)]),_0x1700a6={'groupdata.inviteCode':_0x3d3575(0x707)+_0x328491};if(_0x1c1051){let _0x25f532=await this[_0x3d3575(0x7a6)][_0x3d3575(0x64f)][_0x3d3575(0x191)]({'where':{'_id':_0x3d660f[_0x3d3575(0x53c)]}},_0x1700a6,this[_0x3d3575(0x388)]['wuid']);}return{'inviteUrl':_0x3d3575(0x707)+_0x328491,'inviteCode':_0x328491};}catch(_0x48c10b){let _0x90fe1a=_0x3d3575(0x63a),_0x199820=_0x48c10b instanceof Error?_0x48c10b[_0x3d3575(0x620)]:typeof _0x48c10b==_0x3d3575(0x1a3)?JSON['stringify'](_0x48c10b):_0x48c10b,_0x352b35=_0x90fe1a+':\x20'+_0x199820;throw this[_0x3d3575(0x5c8)][_0x3d3575(0x7ba)](this['instanceName']+'\x20('+this[_0x3d3575(0x388)][_0x3d3575(0x680)]+_0x3d3575(0x32d)+_0x352b35),new V(_0x352b35);}}async[a0_0x46d805(0x2f6)](_0x263d59){const _0x112f7a=a0_0x46d805;try{let _0x28e842=await this['client'][_0x112f7a(0x3a9)](_0x263d59['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x28e842,'inviteCode':_0x28e842};}catch(_0x1154c4){let _0xe9c073=_0x112f7a(0x1be),_0x5016ea=_0x1154c4 instanceof Error?_0x1154c4[_0x112f7a(0x620)]:typeof _0x1154c4=='object'?JSON[_0x112f7a(0x7e7)](_0x1154c4):_0x1154c4,_0x10a9b0=_0xe9c073+':\x20'+_0x5016ea;throw this[_0x112f7a(0x5c8)][_0x112f7a(0x7ba)](this[_0x112f7a(0x7bd)]+'\x20('+this[_0x112f7a(0x388)][_0x112f7a(0x680)]+_0x112f7a(0x32d)+_0x10a9b0),new V(_0x10a9b0);}}async[a0_0x46d805(0x55f)](_0x3132ef){const _0x33387b=a0_0x46d805;try{if((0x0,F[_0x33387b(0x136)])(_0x3132ef[_0x33387b(0x78b)]))var _0xaa139e=_0x3132ef[_0x33387b(0x78b)][_0x33387b(0x76f)]('/')[0x3];else var _0xaa139e=_0x3132ef[_0x33387b(0x78b)];let _0x2fc75d=await this[_0x33387b(0x3bf)]['groupAcceptInvite'](_0xaa139e);return this[_0x33387b(0x5c8)][_0x33387b(0x699)](this[_0x33387b(0x7bd)]+'\x20('+this[_0x33387b(0x388)][_0x33387b(0x680)]+_0x33387b(0x32d)+_0x2fc75d),{'join':!0x0,'inviteCode':_0xaa139e,'groupJid':_0x2fc75d};}catch(_0x10c9ee){let _0x150219=_0x33387b(0x233),_0x575284=_0x10c9ee instanceof Error?_0x10c9ee[_0x33387b(0x620)]:typeof _0x10c9ee==_0x33387b(0x1a3)?JSON[_0x33387b(0x7e7)](_0x10c9ee):_0x10c9ee,_0x4f2390=_0x150219+':\x20'+_0x575284;throw this[_0x33387b(0x5c8)][_0x33387b(0x7ba)](this[_0x33387b(0x7bd)]+'\x20('+this[_0x33387b(0x388)][_0x33387b(0x680)]+_0x33387b(0x32d)+_0x4f2390),new V(_0x4f2390);}}async['findParticipants'](_0x170bcb){const _0x344433=a0_0x46d805;try{return{'participants':(await this[_0x344433(0x7a6)]['chat'][_0x344433(0x104)]({'where':{'_id':_0x170bcb[_0x344433(0x53c)]}},this['instance'][_0x344433(0x680)]))[_0x344433(0x51d)][_0x344433(0x780)]};}catch(_0x290ec1){let _0x2553bf=_0x344433(0x574),_0x12dcde=_0x290ec1 instanceof Error?_0x290ec1[_0x344433(0x620)]:typeof _0x290ec1==_0x344433(0x1a3)?JSON['stringify'](_0x290ec1):_0x290ec1,_0x47783e=_0x2553bf+':\x20'+_0x12dcde;throw this[_0x344433(0x5c8)][_0x344433(0x7ba)](this[_0x344433(0x7bd)]+'\x20('+this[_0x344433(0x388)]['wuid']+_0x344433(0x32d)+_0x47783e),new V(_0x47783e);}}async[a0_0x46d805(0x447)](_0x410117){const _0x2f5dec=a0_0x46d805;try{return await this[_0x2f5dec(0x3bf)][_0x2f5dec(0x44c)](_0x410117[_0x2f5dec(0x53c)]),{'groupJid':_0x410117[_0x2f5dec(0x53c)],'leave':!0x0};}catch(_0x425958){let _0x25ec5c=_0x2f5dec(0x1f1),_0x25b451=_0x425958 instanceof Error?_0x425958[_0x2f5dec(0x620)]:typeof _0x425958=='object'?JSON['stringify'](_0x425958):_0x425958,_0x56320c=_0x25ec5c+':\x20'+_0x25b451;throw this[_0x2f5dec(0x5c8)][_0x2f5dec(0x7ba)](this['instanceName']+'\x20('+this[_0x2f5dec(0x388)][_0x2f5dec(0x680)]+_0x2f5dec(0x32d)+_0x56320c),new m(_0x56320c);}}async['pollMessage'](_0x2291d2){const _0x5d82c3=a0_0x46d805;return await this['sendMessageWithTyping'](_0x2291d2[_0x5d82c3(0x19c)],{'poll':{'name':_0x2291d2[_0x5d82c3(0x465)]?.[_0x5d82c3(0x73f)],'selectableCount':_0x2291d2[_0x5d82c3(0x465)][_0x5d82c3(0x401)],'values':_0x2291d2[_0x5d82c3(0x465)][_0x5d82c3(0x687)]}},_0x2291d2?.['options']);}async[a0_0x46d805(0x5dc)](_0x52a164){const _0x1e4af8=a0_0x46d805;return await this[_0x1e4af8(0x710)](_0x52a164['number'],{'listMessage':{'title':_0x52a164['listMessage'][_0x1e4af8(0x4e2)],'description':_0x52a164[_0x1e4af8(0x5dc)][_0x1e4af8(0x4d1)],'buttonText':_0x52a164[_0x1e4af8(0x5dc)]?.[_0x1e4af8(0x36f)],'footerText':_0x52a164[_0x1e4af8(0x5dc)]?.[_0x1e4af8(0x635)],'sections':_0x52a164['listMessage'][_0x1e4af8(0x5be)],'listType':0x2}},_0x52a164?.[_0x1e4af8(0x774)]);}async[a0_0x46d805(0x7a5)](_0x436f42){const _0x28a4aa=a0_0x46d805;let _0x47ebfe;if(_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x319)]===_0x28a4aa(0x4a0)){let _0x3d10c6=_0x436f42[_0x28a4aa(0x7a5)]['text'][_0x28a4aa(0x7b9)]('\x0a'),_0x3551f4='',_0x14851a='';_0x3d10c6!==-0x1?(_0x3551f4=_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x80a)][_0x28a4aa(0x106)](0x0,_0x3d10c6)[_0x28a4aa(0x1f9)](),_0x14851a=_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x80a)][_0x28a4aa(0x106)](_0x3d10c6+0x1)):_0x14851a=_0x436f42[_0x28a4aa(0x7a5)]['text'];let _0x2abff1=_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x414)][_0x28a4aa(0x130)](_0x35ec85=>_0x35ec85[_0x28a4aa(0x1f9)]()!==''),_0x2ac6a5=this[_0x28a4aa(0x798)](_0x2abff1);_0x47ebfe={'listMessage':{'title':_0x3551f4,'description':_0x14851a,'buttonText':_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x36f)]||_0x28a4aa(0x7f5),'footerText':_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x635)],'sections':_0x2ac6a5,'listType':0x2}};}else{if(_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x319)]==='poll'){let _0x4f9b57=_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x414)][_0x28a4aa(0x130)](_0xc5ab74=>!(_0xc5ab74[_0x28a4aa(0x109)]('[')&&_0xc5ab74[_0x28a4aa(0x5cd)](']'))&&_0xc5ab74[_0x28a4aa(0x1f9)]()!=='')[_0x28a4aa(0x1bd)](_0x4ac466=>_0x4ac466[_0x28a4aa(0x76f)]('\x0a')[0x0]);_0x47ebfe={'poll':{'name':_0x436f42[_0x28a4aa(0x7a5)][_0x28a4aa(0x80a)],'selectableCount':_0x436f42[_0x28a4aa(0x7a5)]['selectableCount']||0x1,'values':_0x4f9b57}};}}return await this[_0x28a4aa(0x710)](_0x436f42['number'],_0x47ebfe,_0x436f42?.['options']);}[a0_0x46d805(0x798)](_0x303e9d){const _0x45edc=a0_0x46d805;let _0x50f6ed=[],_0x480a7f={'rows':[]};return _0x303e9d['forEach'](_0x48f326=>{const _0x131303=a0_0x1054;if(_0x48f326[_0x131303(0x109)]('[')&&_0x48f326['endsWith'](']'))_0x480a7f[_0x131303(0x3fd)][_0x131303(0x47a)]>0x0&&_0x50f6ed[_0x131303(0x70b)](_0x480a7f),_0x480a7f={'title':_0x48f326[_0x131303(0x1fc)](0x1,-0x1),'rows':[]};else{let _0x1147a0=_0x48f326['split']('\x0a')[_0x131303(0x1bd)](_0x254eb5=>_0x254eb5['trim']()),_0x5a7d8d=_0x1147a0[0x0],_0x122906=_0x1147a0[0x1]||null,_0x51058e=_0x1147a0[0x2]||_0x5a7d8d;_0x480a7f[_0x131303(0x3fd)][_0x131303(0x70b)]({'title':_0x5a7d8d,'description':_0x122906,'rowId':_0x51058e});}}),_0x480a7f[_0x45edc(0x3fd)][_0x45edc(0x47a)]>0x0&&_0x50f6ed['push'](_0x480a7f),_0x50f6ed;}async['updateMessage'](_0x49f357,_0x3a5b58){const _0x1842da=a0_0x46d805;if(await this[_0x1842da(0x520)](_0x49f357,!0x0)){let _0x5569e3={'where':{'_id':_0x49f357['id']}},_0x2c8ae7={'status':[_0x3a5b58[_0x1842da(0x499)]][0x0]};try{let _0x4599d7=await this[_0x1842da(0x7a6)][_0x1842da(0x620)]['update'](_0x5569e3,_0x2c8ae7,this[_0x1842da(0x388)][_0x1842da(0x680)]);_0x4599d7&&q(this[_0x1842da(0x7bd)],'messages',{'message':_0x4599d7});}catch{}}}[a0_0x46d805(0x1b7)](_0x1581a7){const _0x5f3a70=a0_0x46d805;let _0x553913=[];return _0x1581a7[_0x5f3a70(0x1db)](_0x383f72=>{const _0x5a96e7=_0x5f3a70;_0x383f72['title']&&_0x553913[_0x5a96e7(0x70b)]('['+_0x383f72[_0x5a96e7(0x4e2)]+']'),_0x383f72[_0x5a96e7(0x3fd)]['forEach'](_0x29d22f=>{const _0x41c03f=_0x5a96e7;_0x553913[_0x41c03f(0x70b)](_0x29d22f['title']);});}),_0x553913[_0x5f3a70(0x755)]('|');}['formatVCard'](_0x2781e6){const _0x4e6c1d=a0_0x46d805;let _0x35b9ca=_0x2781e6[_0x4e6c1d(0x1cd)](/\\n/g,'\x0a')[_0x4e6c1d(0x76f)]('\x0a')[_0x4e6c1d(0x130)](_0x788c01=>_0x788c01['includes'](_0x4e6c1d(0x6bb))||_0x788c01[_0x4e6c1d(0x7ff)](_0x4e6c1d(0x7e3))),_0x303658='';return _0x35b9ca[_0x4e6c1d(0x1db)](_0x4fceac=>{const _0x2cce56=_0x4e6c1d;let _0x370c44=/TEL(?:.*):(.+)/,_0x83d6ee=/EMAIL(?:.*):(.+)/,_0x3fdcb2=_0x4fceac[_0x2cce56(0x21d)](_0x370c44),_0x4d74e7=_0x4fceac[_0x2cce56(0x21d)](_0x83d6ee);if(_0x3fdcb2){let _0x11f8b4=_0x3fdcb2[0x1][_0x2cce56(0x1cd)](/-| |\+|\(|\)/g,'')[_0x2cce56(0x1f9)]();_0x303658+='Telefone:\x20'+_0x11f8b4+'\x0a';}else{if(_0x4d74e7){let _0x40ce0a=_0x4d74e7[0x1][_0x2cce56(0x1f9)]();_0x303658+='E-mail:\x20'+_0x40ce0a+'\x0a';}}}),_0x303658[_0x4e6c1d(0x1f9)]();}async[a0_0x46d805(0x18b)](_0x59629c,_0x40a1a6,_0x21fef7,_0x5d529c=null){const _0xbb6e2c=a0_0x46d805;if(_0x59629c['ENABLED'])try{let _0x3d3391=_0x40a1a6[_0xbb6e2c(0x2da)][_0xbb6e2c(0x13a)][_0xbb6e2c(0x1cd)](/:\d{1,2}@/g,'@'),_0x18617d=_0x40a1a6[_0xbb6e2c(0x2da)][_0xbb6e2c(0x3ef)],_0x41e355=_0x3d3391[_0xbb6e2c(0x5cd)](_0xbb6e2c(0x4e0)),_0x5e244b=_0x40a1a6[_0xbb6e2c(0x375)]?.[_0xbb6e2c(0x1cd)](/:\d{1,2}@/g,'@')||'',_0x5b16a3=_0x40a1a6[_0xbb6e2c(0x4ae)]?.['text']||_0x40a1a6[_0xbb6e2c(0x4ae)]?.[_0xbb6e2c(0x5d2)]||_0x40a1a6[_0xbb6e2c(0x4ae)]?.[_0xbb6e2c(0x64c)]||_0x40a1a6[_0xbb6e2c(0x4ae)]?.[_0xbb6e2c(0x73f)]||'',_0x593c9c={'_id':_0x40a1a6[_0xbb6e2c(0x1ed)],'remoteJid':_0x18617d?this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]:_0x41e355?_0x5e244b:_0x3d3391,'pushName':_0x18617d?this[_0xbb6e2c(0x388)][_0xbb6e2c(0x403)]||'Eu':_0x40a1a6[_0xbb6e2c(0x593)],'text':_0x5b16a3,'type':_0x40a1a6[_0xbb6e2c(0x689)],'when':_0x40a1a6['messageTimestamp']||Date['now']()};_0x5d529c||(_0x5d529c=await this['repository'][_0xbb6e2c(0x64f)][_0xbb6e2c(0x104)]({'where':{'_id':_0x3d3391}},this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]));let _0x38af2c=_0x5d529c?_0x18617d?_0x5d529c[_0xbb6e2c(0x416)]:(_0x5d529c[_0xbb6e2c(0x416)]||0x0)+0x1:_0x18617d?0x0:0x1,_0xd5c07c={'lastmsg':_0x40a1a6[_0xbb6e2c(0x125)]||Date[_0xbb6e2c(0x506)](),'ephemeralExpiration':_0x40a1a6[_0xbb6e2c(0x19e)],'lastMessage':_0x593c9c,'unreadcount':_0x38af2c,..._0x18617d||_0x41e355?{}:{'name':_0x40a1a6['pushName']},..._0x41e355?{'group':_0x41e355}:{},...!_0x18617d&&!_0x41e355&&_0x40a1a6[_0xbb6e2c(0x2cc)]?{'imagechat':_0x40a1a6[_0xbb6e2c(0x2cc)]}:{}};if(!_0x41e355&&(!_0x5d529c?.[_0xbb6e2c(0x5fa)]||!_0x5d529c[_0xbb6e2c(0x5fa)]['nome'])&&_0x40a1a6[_0xbb6e2c(0x593)]&&!_0x18617d&&(_0xd5c07c={..._0xd5c07c,'leadInfo.nome':_0x40a1a6[_0xbb6e2c(0x593)]}),_0x5d529c?.['leadInfo'][_0xbb6e2c(0x75e)]||(_0xd5c07c={..._0xd5c07c,'leadInfo.etiquetas':[]}),_0x5d529c?.[_0xbb6e2c(0x5fa)][_0xbb6e2c(0x58b)]||(_0xd5c07c={..._0xd5c07c,'leadInfo.customFields':[]}),_0x5d529c?.[_0xbb6e2c(0x5fa)][_0xbb6e2c(0x56c)]||(_0xd5c07c={..._0xd5c07c,'leadInfo.tags':[]}),_0x5d529c&&_0x5d529c?.[_0xbb6e2c(0x4b8)]){let _0x10e64e=await this[_0xbb6e2c(0x7a6)][_0xbb6e2c(0x824)][_0xbb6e2c(0x3d2)]({'where':{}},this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]),_0x4c2d1d=new Set(_0x10e64e['map'](_0xcf7eb5=>_0xcf7eb5['_id'])),_0x203c31=(_0x5d529c[_0xbb6e2c(0x5fa)]?.[_0xbb6e2c(0x75e)]||[])[_0xbb6e2c(0x130)](_0x2f607a=>_0x4c2d1d[_0xbb6e2c(0x5ed)](_0x2f607a));_0xd5c07c={..._0xd5c07c,'imported':!0x1,'leadInfo.etiquetas':_0x203c31};for(let _0x3778ae of _0x203c31)await this[_0xbb6e2c(0x66d)](_0x3778ae,_0x3d3391);}if(!this[_0xbb6e2c(0x53e)][_0xbb6e2c(0x2b5)][_0xbb6e2c(0x3d2)](_0xa1bce8=>_0xa1bce8['startCommand']&&_0x5b16a3[_0xbb6e2c(0x7ff)](_0xa1bce8[_0xbb6e2c(0x7e2)]))&&_0x21fef7===_0xbb6e2c(0x70e)&&_0x18617d&&this[_0xbb6e2c(0x53e)]?.['flowConfig'][_0xbb6e2c(0x2b6)]&&_0x5b16a3[_0xbb6e2c(0x1f9)]()!==this[_0xbb6e2c(0x53e)]?.[_0xbb6e2c(0x559)][_0xbb6e2c(0x29d)][_0xbb6e2c(0x1f9)]()){let _0x52f9d3=(this[_0xbb6e2c(0x53e)]?.['flowConfig']['stopWhenYouSendMsg']||0x0)*0xea60,_0x33dff4=Date[_0xbb6e2c(0x506)]()+_0x52f9d3;_0x5d529c?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0xd5c07c={..._0xd5c07c,'leadInfo.desativadoFluxoAte':_0x33dff4},this[_0xbb6e2c(0x5c8)][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]+_0xbb6e2c(0x303)+_0x33dff4+'.'));}if(_0x5b16a3[_0xbb6e2c(0x1f9)]()===this[_0xbb6e2c(0x53e)]?.['flowConfig'][_0xbb6e2c(0x29d)][_0xbb6e2c(0x1f9)]()){this[_0xbb6e2c(0x5c8)][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]+_0xbb6e2c(0x1f2)+_0x5b16a3);let _0x4f70ad=Date[_0xbb6e2c(0x506)]();this[_0xbb6e2c(0x53e)]?.['flowConfig']['stopMinutes']===0x0?_0xd5c07c={..._0xd5c07c,'leadInfo.desativadoFluxoAte':_0x4f70ad+0x7591f6200}:_0xd5c07c={..._0xd5c07c,'leadInfo.desativadoFluxoAte':_0x4f70ad+this[_0xbb6e2c(0x53e)]?.[_0xbb6e2c(0x559)]['stopMinutes']*0x3c*0x3e8};}if(_0x5d529c=await this[_0xbb6e2c(0x7a6)][_0xbb6e2c(0x64f)][_0xbb6e2c(0x191)]({'where':{'_id':_0x3d3391}},_0xd5c07c,this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)],{'new':!0x0,'upsert':!0x0}),_0x5d529c)q(this[_0xbb6e2c(0x7bd)],_0xbb6e2c(0x5e6),{'chat':_0x5d529c});else{this['logger'][_0xbb6e2c(0x7ba)](this[_0xbb6e2c(0x7bd)]+'\x20('+this['instance'][_0xbb6e2c(0x680)]+_0xbb6e2c(0x786));return;}if(_0x18617d)return this['logger'][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this['instance'][_0xbb6e2c(0x680)]+_0xbb6e2c(0x79e)),null;if(!this[_0xbb6e2c(0x53e)]?.['flowConfig']['enabled'])return this['logger'][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this['instance'][_0xbb6e2c(0x680)]+_0xbb6e2c(0x7d8)),null;if(_0x5d529c[_0xbb6e2c(0x1ed)][_0xbb6e2c(0x7ff)](_0xbb6e2c(0x4e0))&&this[_0xbb6e2c(0x53e)]?.[_0xbb6e2c(0x559)][_0xbb6e2c(0x539)]===!0x0)return this[_0xbb6e2c(0x5c8)][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x5d529c['leadInfo']){if(_0x5d529c[_0xbb6e2c(0x5fa)][_0xbb6e2c(0x508)]===0x0||_0x5d529c[_0xbb6e2c(0x5fa)][_0xbb6e2c(0x1e8)])return this[_0xbb6e2c(0x5c8)][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]+_0xbb6e2c(0x524)+_0x3d3391+_0xbb6e2c(0x811)),null;if(_0x5d529c[_0xbb6e2c(0x5fa)][_0xbb6e2c(0x508)]>Date[_0xbb6e2c(0x506)]()&&!_0x40a1a6[_0xbb6e2c(0x4ae)]?.['vote'])return this[_0xbb6e2c(0x5c8)][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x5d529c[_0xbb6e2c(0x5fa)]['desativadoFluxoAte'])[_0xbb6e2c(0x65e)]()+_0xbb6e2c(0x811)),null;}this[_0xbb6e2c(0x5c8)][_0xbb6e2c(0x699)](this[_0xbb6e2c(0x7bd)]+'\x20('+this['instance'][_0xbb6e2c(0x680)]+_0xbb6e2c(0x746)),this['StartBot'](_0x40a1a6,_0x21fef7);}catch(_0x9270e0){let _0x5b2eec=_0xbb6e2c(0x5d1),_0x58e759=_0x9270e0 instanceof Error?_0x9270e0['message']:typeof _0x9270e0=='object'?JSON[_0xbb6e2c(0x7e7)](_0x9270e0):_0x9270e0,_0x47e77f=_0x5b2eec+':\x20'+_0x58e759;return this[_0xbb6e2c(0x5c8)][_0xbb6e2c(0x7ba)](this['instanceName']+'\x20('+this[_0xbb6e2c(0x388)][_0xbb6e2c(0x680)]+_0xbb6e2c(0x32d)+_0x47e77f),null;}}async[a0_0x46d805(0x150)](_0x44223b,_0x24b8d2){const _0x48a0af=a0_0x46d805;if(_0x24b8d2[_0x48a0af(0x272)]){let _0x333821=_0x44223b[_0x48a0af(0x1bd)](async _0x21c2af=>{const _0x1a9a6b=_0x48a0af;try{let _0xddc7a={'_id':_0x21c2af[_0x1a9a6b(0x1ed)],'owner':_0x21c2af[_0x1a9a6b(0x237)],'lastcache':0x0};if(Object['keys'](_0x21c2af)['forEach'](_0x47baba=>{_0x21c2af[_0x47baba]!==null&&(_0xddc7a[_0x47baba]=_0x21c2af[_0x47baba]);}),_0xddc7a[_0x1a9a6b(0x340)]===null&&(_0xddc7a[_0x1a9a6b(0x340)]=_0x1a9a6b(0x39f)),Object[_0x1a9a6b(0x5f6)](_0xddc7a)[_0x1a9a6b(0x47a)]>0x0)return await this[_0x1a9a6b(0x7a6)][_0x1a9a6b(0x64f)][_0x1a9a6b(0x191)]({'where':{'_id':_0x21c2af[_0x1a9a6b(0x1ed)]}},_0xddc7a,this[_0x1a9a6b(0x388)][_0x1a9a6b(0x680)]);}catch(_0x43e57a){let _0x41b8fc='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x21c2af[_0x1a9a6b(0x1ed)],_0x2b3ff5=_0x43e57a instanceof Error?_0x43e57a[_0x1a9a6b(0x620)]:typeof _0x43e57a==_0x1a9a6b(0x1a3)?JSON['stringify'](_0x43e57a):_0x43e57a,_0x2df13f=_0x41b8fc+':\x20'+_0x2b3ff5;return this[_0x1a9a6b(0x5c8)][_0x1a9a6b(0x7ba)](this[_0x1a9a6b(0x7bd)]+'\x20('+this[_0x1a9a6b(0x388)][_0x1a9a6b(0x680)]+'):\x20'+_0x2df13f),null;}}),_0x299349=(await Promise[_0x48a0af(0x7fa)](_0x333821))['filter'](_0x307ddb=>_0x307ddb!==null)[_0x48a0af(0x47a)];this[_0x48a0af(0x5c8)][_0x48a0af(0x699)](this[_0x48a0af(0x7bd)]+'\x20('+this[_0x48a0af(0x388)][_0x48a0af(0x680)]+'):\x20'+_0x299349+'\x20chats\x20de\x20'+this[_0x48a0af(0x388)][_0x48a0af(0x680)]+_0x48a0af(0x3e7));}}async[a0_0x46d805(0x4ef)](_0x4dcbc0){const _0x58b780=a0_0x46d805;this[_0x58b780(0x5c8)][_0x58b780(0x699)](this['instanceName']+'\x20('+this[_0x58b780(0x388)]['wuid']+'):\x20Ler\x20mensagem');let _0x12aa6b={'readMessages':[{'remoteJid':_0x4dcbc0[_0x58b780(0x43d)][_0x58b780(0x4b1)]['key'][_0x58b780(0x13a)],'fromMe':_0x4dcbc0[_0x58b780(0x43d)][_0x58b780(0x4b1)]['key'][_0x58b780(0x3ef)],'id':_0x4dcbc0['chatLog'][_0x58b780(0x4b1)][_0x58b780(0x2da)]['id']}]};await this[_0x58b780(0x81b)](_0x12aa6b);}async[a0_0x46d805(0x775)](_0x67eefe,_0x4c74f3){const _0x512d36=a0_0x46d805;try{let {key:_0x97c7b2,message_normalized:_0x2f6949}=_0x67eefe,_0x31ed12=_0x2f6949,_0xd1ab8c=_0x2f6949['text']||_0x2f6949[_0x512d36(0x5d2)]||_0x2f6949[_0x512d36(0x64c)]||_0x2f6949['name']||'',_0xec615a=_0x97c7b2[_0x512d36(0x13a)],_0x10cb18=null,_0x3ad578=this[_0x512d36(0x53e)][_0x512d36(0x2b5)][_0x512d36(0x3d2)](_0x1a9190=>_0x1a9190[_0x512d36(0x7e2)]&&_0xd1ab8c[_0x512d36(0x7ff)](_0x1a9190[_0x512d36(0x7e2)]));if(_0x3ad578&&_0x4c74f3===_0x512d36(0x70e)){let _0x53189f=await this[_0x512d36(0x7a6)][_0x512d36(0x293)][_0x512d36(0x104)]({'where':{'_id':_0x3ad578[_0x512d36(0x1ed)]}});if(this[_0x512d36(0x5c8)][_0x512d36(0x699)](this['instanceName']+'\x20('+this[_0x512d36(0x388)]['wuid']+_0x512d36(0x364)),_0x53189f&&_0x53189f[_0x512d36(0x837)]?.[_0x512d36(0x7ff)](this[_0x512d36(0x388)][_0x512d36(0x680)]))_0x10cb18=await this['createNewConversation'](_0x53189f,_0x97c7b2,_0x31ed12);else return this[_0x512d36(0x5c8)]['verbose'](this[_0x512d36(0x7bd)]+'\x20('+this[_0x512d36(0x388)][_0x512d36(0x680)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x512d36(0x5c8)][_0x512d36(0x699)](this[_0x512d36(0x7bd)]+'\x20('+this[_0x512d36(0x388)][_0x512d36(0x680)]+_0x512d36(0x140));if(_0x10cb18=await this[_0x512d36(0x6ac)](_0xec615a,_0x31ed12),_0x10cb18){this[_0x512d36(0x5c8)][_0x512d36(0x699)](this[_0x512d36(0x7bd)]+'\x20('+this[_0x512d36(0x388)]['wuid']+_0x512d36(0x554)),!_0x97c7b2[_0x512d36(0x3ef)]&&_0x10cb18['readMessages']&&this[_0x512d36(0x4ef)](_0x10cb18);let _0x472f8a=await this[_0x512d36(0x801)](_0x10cb18);_0x472f8a&&await this[_0x512d36(0x676)](_0x10cb18,_0x472f8a);}}catch(_0x312196){this[_0x512d36(0x5c8)][_0x512d36(0x7ba)](this[_0x512d36(0x7bd)]+'\x20('+this[_0x512d36(0x388)][_0x512d36(0x680)]+_0x512d36(0x736)+(_0x312196 instanceof Error?_0x312196[_0x512d36(0x620)]:JSON['stringify'](_0x312196,null,0x2)));}}[a0_0x46d805(0x5f8)](_0x5719db,_0x53ed53='',_0x4b9845={}){const _0x21ecd1=a0_0x46d805;return typeof _0x5719db!='object'||_0x5719db===null?(_0x53ed53&&(_0x4b9845[_0x53ed53]=_0x5719db),_0x4b9845):(Object[_0x21ecd1(0x50a)](_0x5719db)['forEach'](([_0x4a7990,_0x1212e2])=>{const _0xc370d0=_0x21ecd1;let _0x56008a=_0x53ed53?_0x53ed53+'.'+_0x4a7990:'_'+_0x4a7990;Array['isArray'](_0x1212e2)?_0x1212e2[_0xc370d0(0x1db)]((_0x41b858,_0x15d9a4)=>{const _0xd35655=_0xc370d0;this[_0xd35655(0x5f8)](_0x41b858,_0x56008a+'['+_0x15d9a4+']',_0x4b9845);}):typeof _0x1212e2=='object'&&_0x1212e2!==null?this[_0xc370d0(0x5f8)](_0x1212e2,_0x56008a,_0x4b9845):_0x4b9845[_0x56008a]=String(_0x1212e2);}),_0x4b9845);}[a0_0x46d805(0x613)](_0x53400e){const _0x3589aa=a0_0x46d805;let _0x3cfe2b={};for(let _0x15b039 of _0x53400e)typeof _0x15b039[_0x3589aa(0x73f)]==_0x3589aa(0x12c)&&typeof _0x15b039[_0x3589aa(0x176)]==_0x3589aa(0x12c)&&(_0x3cfe2b[_0x15b039['name']]=_0x15b039[_0x3589aa(0x176)]);return _0x3cfe2b;}async[a0_0x46d805(0x801)](_0x45c39a){const _0x274400=a0_0x46d805;if(!this[_0x274400(0x53e)]?.[_0x274400(0x559)][_0x274400(0x2b6)]||_0x45c39a[_0x274400(0x499)]!=='open'&&_0x45c39a[_0x274400(0x227)]==='')return null;let _0x5d7935=_0x45c39a['chatLog'][_0x274400(0x4be)]||_0x274400(0x276);typeof _0x45c39a[_0x274400(0x43d)][_0x274400(0x1ad)]>'u'&&(_0x45c39a[_0x274400(0x43d)]['lastCondition']=!0x0);let _0x49e6f9=_0x45c39a['chatLog'][_0x274400(0x1ad)];this['logger']['verbose'](this[_0x274400(0x7bd)]+'\x20('+this[_0x274400(0x388)][_0x274400(0x680)]+_0x274400(0x678)+_0x5d7935+_0x274400(0x62a)+_0x49e6f9);let _0xac868c=_0x5d7935===_0x274400(0x276)?_0x45c39a[_0x274400(0x29a)]['find'](_0x3e90e9=>_0x3e90e9[_0x274400(0x319)]===_0x274400(0x276)):_0x45c39a['blocks'][_0x274400(0x3d2)](_0x1dfdf8=>_0x1dfdf8['_id'][_0x274400(0x821)]()===_0x5d7935[_0x274400(0x821)]());if(!_0xac868c)return this['logger'][_0x274400(0x7ba)](this[_0x274400(0x7bd)]+'\x20('+this['instance'][_0x274400(0x680)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x5d7935),null;let _0x401db0={'_pushName':_0x45c39a?.[_0x274400(0x43d)]?.[_0x274400(0x4b1)]?.[_0x274400(0x593)]||'','_sender':this[_0x274400(0x388)]['wuid']||'',..._0x45c39a[_0x274400(0x43d)][_0x274400(0x5bc)]},_0x24f4af=null;if(_0x45c39a[_0x274400(0x227)]){let _0x5ec608=_0x45c39a[_0x274400(0x43d)][_0x274400(0x4b1)][_0x274400(0x64c)],_0x4d538c=_0x45c39a[_0x274400(0x4bb)][_0x274400(0x3d2)](_0x3be65b=>_0x3be65b[_0x274400(0x263)]===_0x5ec608);if(_0x4d538c){let _0x16e853=_0x4d538c[_0x274400(0x1fb)];if(_0x24f4af=_0x45c39a[_0x274400(0x29a)][_0x274400(0x3d2)](_0xbadad=>_0xbadad['groupId']===_0x16e853&&_0xbadad[_0x274400(0x734)]===0x1),_0xac868c[_0x274400(0x748)][_0x274400(0x3ec)]){let _0x474288={'id':_0x45c39a[_0x274400(0x227)],'remoteJid':_0x45c39a[_0x274400(0x13a)],'fromMe':!0x0};await this['deleteMessage'](_0x474288);}if(_0xac868c[_0x274400(0x748)][_0x274400(0x3ec)]&&_0xac868c[_0x274400(0x748)][_0x274400(0x41d)]&&_0xac868c[_0x274400(0x748)][_0x274400(0x3b6)]===_0x274400(0x51f)){let _0x59b0bb={'number':_0x45c39a[_0x274400(0x13a)],'options':{'delay':0x0},'textMessage':{'text':_0x274400(0x13d)+_0x45c39a[_0x274400(0x40c)]+_0x274400(0x31d)+_0x5ec608}};await this[_0x274400(0x7ac)](_0x59b0bb);}_0x45c39a[_0x274400(0x499)]=_0x274400(0x16f),_0x45c39a[_0x274400(0x227)]='',_0x45c39a[_0x274400(0x40c)]='',_0x45c39a[_0x274400(0x4bb)]=[];}else{this[_0x274400(0x5c8)][_0x274400(0x699)](this['instanceName']+'\x20('+this[_0x274400(0x388)]['wuid']+_0x274400(0x618));let _0x1dd23f={'activatedCount':_0x45c39a[_0x274400(0x43d)]['blockLogs'][_0x274400(0x130)](_0x5c5306=>String(_0x5c5306[_0x274400(0x56f)])===String(_0x5d7935))[_0x274400(0x47a)],'moreLogs':[_0x274400(0x404)]};if(_0xac868c[_0x274400(0x748)][_0x274400(0x5cb)]){let _0x48507c={'number':_0x45c39a[_0x274400(0x13a)],'options':{'delay':0x0},'textMessage':{'text':_0xac868c[_0x274400(0x748)][_0x274400(0x5cb)]}};await this['textMessage'](_0x48507c);}if(_0xac868c[_0x274400(0x58d)]!==void 0x0&&_0x1dd23f[_0x274400(0x2d9)]>=_0xac868c['maxActives']){let _0x4971c8=Date[_0x274400(0x506)](),_0x476b12=_0xac868c[_0x274400(0x37a)]??0xa;isNaN(_0x476b12)&&(_0x476b12=0xa);let _0x3b5e42=_0x4971c8+_0x476b12*0x3c*0x3e8;_0x1dd23f['newStoppedUntil']=_0x3b5e42,_0x1dd23f[_0x274400(0x208)][_0x274400(0x70b)](_0x274400(0x6af)),this[_0x274400(0x338)](_0x45c39a,_0x3b5e42),_0x45c39a[_0x274400(0x227)]='',_0x45c39a[_0x274400(0x40c)]='',_0x45c39a[_0x274400(0x4bb)]=[];}return this[_0x274400(0x457)](_0x45c39a,_0xac868c,_0x1dd23f,!0x0),null;}}if(_0x49e6f9&&_0xac868c[_0x274400(0x1fb)]&&!_0x45c39a[_0x274400(0x227)]){let _0x4a5bc4=_0x45c39a[_0x274400(0x29a)][_0x274400(0x130)](_0x16297e=>_0x16297e[_0x274400(0x68f)][_0x274400(0x821)]()===_0xac868c[_0x274400(0x1fb)][_0x274400(0x821)]())['sort']((_0x305909,_0x1dcbcd)=>_0x305909[_0x274400(0x734)]-_0x1dcbcd[_0x274400(0x734)]);_0x4a5bc4[_0x274400(0x47a)]>0x0&&(_0x24f4af=_0x4a5bc4[0x0]);}if(!_0x24f4af){let _0xdbea8e=_0xac868c['groupId'],_0x39461a=_0x45c39a[_0x274400(0x29a)][_0x274400(0x130)](_0xe50482=>_0xe50482[_0x274400(0x68f)]===_0xdbea8e&&_0xe50482['order']>_0xac868c[_0x274400(0x734)])[_0x274400(0x504)]((_0x7732dc,_0x1c12f3)=>_0x7732dc[_0x274400(0x734)]-_0x1c12f3[_0x274400(0x734)]);_0x39461a['length']>0x0&&(_0x24f4af=_0x39461a[0x0]);}if(!_0x24f4af)return _0x45c39a['status']=_0x274400(0x357),null;_0x45c39a[_0x274400(0x43d)]['realVariables']=_0x401db0;let _0xc45454=JSON[_0x274400(0x473)](JSON[_0x274400(0x7e7)](_0x24f4af));return this[_0x274400(0x781)](_0xc45454,_0x45c39a['chatLog'][_0x274400(0x5bc)]),_0x45c39a[_0x274400(0x43d)][_0x274400(0x4be)]=_0xc45454['_id'],_0x45c39a[_0x274400(0x43d)]['lastCondition']=!0x0,_0xc45454;}[a0_0x46d805(0x3ac)](_0x5de037,_0x599fc7){const _0x30ed6c=a0_0x46d805;return _0x5de037[_0x30ed6c(0x1cd)](/\{\{([^}]+)\}\}/g,(_0x5e9d67,_0x25674d)=>_0x599fc7[_0x25674d]||'');}[a0_0x46d805(0x781)](_0x325fb1,_0x4cc5fb){const _0x5f5200=a0_0x46d805;for(let _0x550f60 in _0x325fb1)typeof _0x325fb1[_0x550f60]=='string'?_0x325fb1[_0x550f60]=this['replaceVariables'](_0x325fb1[_0x550f60],_0x4cc5fb):typeof _0x325fb1[_0x550f60]==_0x5f5200(0x1a3)&&this['replaceVariablesInObject'](_0x325fb1[_0x550f60],_0x4cc5fb);}async[a0_0x46d805(0x25c)](_0x1f9141,_0x29429e){const _0x183edd=a0_0x46d805;let _0x199676=_0x29429e[_0x183edd(0x1ed)];if(_0x1f9141[_0x183edd(0x43d)]&&_0x1f9141[_0x183edd(0x43d)][_0x183edd(0x6b5)]){let _0x5a0d25=_0x1f9141['chatLog'][_0x183edd(0x6b5)][_0x183edd(0x130)](_0x34b814=>String(_0x34b814['blockId'])===String(_0x199676))[_0x183edd(0x6c7)]();if(_0x5a0d25&&_0x5a0d25[_0x183edd(0x7ba)]&&_0x29429e[_0x183edd(0x391)])return _0x1f9141[_0x183edd(0x499)]='closed',await this[_0x183edd(0x166)](_0x1f9141),null;}if(_0x29429e[_0x183edd(0x319)]===_0x183edd(0x748)&&_0x29429e['uazapi']['command']===_0x183edd(0x666)&&_0x1f9141['waitingMenu_id'])return _0x1f9141[_0x183edd(0x43d)][_0x183edd(0x4be)]=_0x199676,await this[_0x183edd(0x166)](_0x1f9141),null;let _0xb960f7=await this[_0x183edd(0x801)](_0x1f9141);if(_0x1f9141[_0x183edd(0x43d)]&&_0x1f9141[_0x183edd(0x43d)][_0x183edd(0x6b5)]){let _0x290c48=_0x1f9141[_0x183edd(0x43d)][_0x183edd(0x6b5)][_0x183edd(0x130)](_0x4ab5ac=>String(_0x4ab5ac[_0x183edd(0x56f)])===String(_0x199676))[_0x183edd(0x47a)];if(_0x29429e[_0x183edd(0x58d)]!==void 0x0&&_0x290c48>=_0x29429e[_0x183edd(0x58d)]){let _0x188ab7=Date[_0x183edd(0x506)](),_0x1515a9=_0x29429e[_0x183edd(0x37a)]??0xa;isNaN(_0x1515a9)&&(_0x1515a9=0xa);let _0x3739fc=_0x188ab7+_0x1515a9*0x3c*0x3e8,_0x3d3b46={'newStoppedUntil':_0x3739fc};return this[_0x183edd(0x338)](_0x1f9141,_0x3739fc),this[_0x183edd(0x457)](_0x1f9141,_0x29429e,_0x3d3b46,!0x0),null;}}_0xb960f7&&_0xb960f7[_0x183edd(0x319)]!=='save'&&await this[_0x183edd(0x676)](_0x1f9141,_0xb960f7),_0xb960f7||await this['saveConversationToDatabase'](_0x1f9141),_0xb960f7&&_0xb960f7[_0x183edd(0x319)]===_0x183edd(0x46f)&&(_0x1f9141[_0x183edd(0x43d)][_0x183edd(0x4be)]=_0x199676,await this['saveConversationToDatabase'](_0x1f9141));}async[a0_0x46d805(0x676)](_0x24bc85,_0x2e2986){const _0x344016=a0_0x46d805;try{let _0x50eda9=_0x2e2986['type'];this[_0x344016(0x5c8)][_0x344016(0x699)](this[_0x344016(0x7bd)]+'\x20('+this[_0x344016(0x388)][_0x344016(0x680)]+_0x344016(0x5f2)+_0x50eda9);let _0x39c9a4={'uazapi':()=>this[_0x344016(0x793)](_0x24bc85,_0x2e2986),'save':()=>this[_0x344016(0x3b3)](_0x24bc85,_0x2e2986),'stop':()=>this[_0x344016(0x29d)](_0x24bc85,_0x2e2986),'condition':()=>this['processConditions'](_0x24bc85,_0x2e2986),'varedit':()=>this[_0x344016(0x2cb)](_0x24bc85,_0x2e2986),'apirequest':()=>this[_0x344016(0x234)](_0x24bc85,_0x2e2986),'goToFlow':()=>this[_0x344016(0x17e)](_0x24bc85,_0x2e2986),'scheduleFlow':()=>this[_0x344016(0x52d)](_0x24bc85,_0x2e2986),'awaitSeconds':()=>this[_0x344016(0x657)](_0x24bc85,_0x2e2986),'clearVariables':()=>this['processclearVariables'](_0x24bc85,_0x2e2986)}[_0x50eda9];_0x39c9a4&&await _0x39c9a4();}catch(_0x5cbd8c){this['logger'][_0x344016(0x7ba)](this[_0x344016(0x7bd)]+'\x20('+this[_0x344016(0x388)][_0x344016(0x680)]+_0x344016(0x3cd)+(_0x5cbd8c instanceof Error?_0x5cbd8c[_0x344016(0x620)]:JSON['stringify'](_0x5cbd8c,null,0x2)));}}async['processawaitSeconds'](_0x56e24b,_0x20e814){const _0x3ef825=a0_0x46d805;if(this['logger'][_0x3ef825(0x699)](this[_0x3ef825(0x7bd)]+'\x20('+this[_0x3ef825(0x388)][_0x3ef825(0x680)]+_0x3ef825(0x673)),!_0x56e24b||!_0x20e814)return this[_0x3ef825(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x3ef825(0x388)][_0x3ef825(0x680)]+_0x3ef825(0x449)),null;let _0x486dd1=+_0x20e814[_0x3ef825(0x210)];isNaN(_0x486dd1)&&(_0x486dd1=0x0),_0x486dd1=Math[_0x3ef825(0x6a6)](_0x486dd1,0x3c),await(0x0,w[_0x3ef825(0x190)])(_0x486dd1*0x3e8);let _0x2dfded={'moreLogs':[_0x3ef825(0x661)+_0x486dd1+_0x3ef825(0x174)]};return await this[_0x3ef825(0x457)](_0x56e24b,_0x20e814,_0x2dfded),_0x486dd1;}async['processclearVariables'](_0x3bb91c,_0x2b2f52){const _0x541d6e=a0_0x46d805;if(this[_0x541d6e(0x5c8)][_0x541d6e(0x699)](this[_0x541d6e(0x7bd)]+'\x20('+this['instance'][_0x541d6e(0x680)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x3bb91c||!_0x2b2f52)return this[_0x541d6e(0x5c8)][_0x541d6e(0x7ba)](this['instanceName']+'\x20('+this[_0x541d6e(0x388)][_0x541d6e(0x680)]+_0x541d6e(0x449)),null;let _0x44fe8c=[];if(_0x2b2f52[_0x541d6e(0x4f3)]['trim']()===_0x541d6e(0x287)){let _0x4e89ec=[_0x541d6e(0x339),_0x541d6e(0x43c),'_error','_activedCount',_0x541d6e(0x6ee),_0x541d6e(0x1ed),'_fromMe'];_0x44fe8c=Object[_0x541d6e(0x5f6)](_0x3bb91c[_0x541d6e(0x43d)][_0x541d6e(0x5bc)])[_0x541d6e(0x130)](_0x3ac832=>_0x3ac832[_0x541d6e(0x109)]('_')&&!_0x4e89ec[_0x541d6e(0x7ff)](_0x3ac832));}else _0x44fe8c=_0x2b2f52['clearVariables'][_0x541d6e(0x76f)]('|')[_0x541d6e(0x1bd)](_0xdea8b7=>(_0xdea8b7=_0xdea8b7[_0x541d6e(0x1cd)](/[{}]/g,'')[_0x541d6e(0x1f9)](),_0xdea8b7['startsWith']('_')?_0xdea8b7:'_'+_0xdea8b7));let _0x4c0360=[];_0x44fe8c[_0x541d6e(0x1db)](_0x8d38d9=>{const _0x216a04=_0x541d6e;_0x8d38d9 in _0x3bb91c[_0x216a04(0x43d)][_0x216a04(0x5bc)]&&(delete _0x3bb91c[_0x216a04(0x43d)][_0x216a04(0x5bc)][_0x8d38d9],_0x4c0360['push'](_0x8d38d9));}),_0x4c0360[_0x541d6e(0x47a)]>0x0?this[_0x541d6e(0x5c8)]['verbose'](this[_0x541d6e(0x7bd)]+'\x20('+this[_0x541d6e(0x388)][_0x541d6e(0x680)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x4c0360[_0x541d6e(0x755)](',\x20')):this[_0x541d6e(0x5c8)][_0x541d6e(0x699)](this['instanceName']+'\x20('+this[_0x541d6e(0x388)][_0x541d6e(0x680)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x23a12b={'moreLogs':[_0x541d6e(0x35d)+_0x4c0360['join'](',\x20')]};return await this['updateConversation'](_0x3bb91c,_0x2b2f52,_0x23a12b),null;}async['processScheduleFlow'](_0x5289f5,_0x5c20eb){const _0x548d0e=a0_0x46d805;if(this[_0x548d0e(0x5c8)]['verbose'](this[_0x548d0e(0x7bd)]+'\x20('+this[_0x548d0e(0x388)][_0x548d0e(0x680)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x5289f5||!_0x5c20eb)return this[_0x548d0e(0x5c8)]['error'](this[_0x548d0e(0x7bd)]+'\x20('+this[_0x548d0e(0x388)][_0x548d0e(0x680)]+_0x548d0e(0x449)),null;let _0x26bd33=_0x5289f5[_0x548d0e(0x13a)];_0x5c20eb[_0x548d0e(0x622)][_0x548d0e(0x13a)]&&_0x5c20eb[_0x548d0e(0x622)]['remoteJid'][_0x548d0e(0x1f9)]()!==''&&(_0x26bd33=_0x5c20eb[_0x548d0e(0x748)][_0x548d0e(0x13a)][_0x548d0e(0x1f9)]());let _0x31347b=_0x5c20eb[_0x548d0e(0x622)][_0x548d0e(0x270)]*0xea60,_0x3bd586=Date[_0x548d0e(0x506)]()+_0x31347b,_0x37fadf={'status':'scheduled','info':_0x548d0e(0x31b)+_0x5289f5[_0x548d0e(0x73f)],'remoteJids':[_0x26bd33],'when':_0x3bd586,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x5c20eb[_0x548d0e(0x622)][_0x548d0e(0x7b2)]};this[_0x548d0e(0x576)](_0x37fadf);let _0x18b6d1=await this[_0x548d0e(0x801)](_0x5289f5);_0x18b6d1&&await this[_0x548d0e(0x676)](_0x5289f5,_0x18b6d1);}async[a0_0x46d805(0x17e)](_0x527e4e,_0x4c9fef){const _0x2ce6f1=a0_0x46d805;if(this[_0x2ce6f1(0x5c8)][_0x2ce6f1(0x699)](this[_0x2ce6f1(0x7bd)]+'\x20('+this[_0x2ce6f1(0x388)][_0x2ce6f1(0x680)]+_0x2ce6f1(0x810)),!_0x527e4e||!_0x4c9fef)return this[_0x2ce6f1(0x5c8)][_0x2ce6f1(0x7ba)](this[_0x2ce6f1(0x7bd)]+'\x20('+this['instance'][_0x2ce6f1(0x680)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x527e4e,_0x4c9fef,{},!0x0,!0x0);let _0x441867=_0x4c9fef[_0x2ce6f1(0x6c4)];_0x527e4e=await this[_0x2ce6f1(0x7e0)](_0x441867,_0x527e4e[_0x2ce6f1(0x13a)],_0x527e4e[_0x2ce6f1(0x43d)][_0x2ce6f1(0x5bc)]);let _0x162c61=await this[_0x2ce6f1(0x801)](_0x527e4e);_0x162c61&&await this['processblock'](_0x527e4e,_0x162c61);}async[a0_0x46d805(0x7e0)](_0x5f01f8,_0x1bb4b8,_0x45a5f4){const _0x1a758f=a0_0x46d805;this[_0x1a758f(0x5c8)]['verbose'](this[_0x1a758f(0x7bd)]+'\x20('+this[_0x1a758f(0x388)][_0x1a758f(0x680)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0xe19786=this[_0x1a758f(0x53e)][_0x1a758f(0x2b5)]['find'](_0x102c37=>_0x102c37[_0x1a758f(0x1ed)]===_0x5f01f8);_0xe19786||this[_0x1a758f(0x5c8)][_0x1a758f(0x7ba)](this['instanceName']+'\x20('+this[_0x1a758f(0x388)][_0x1a758f(0x680)]+_0x1a758f(0x81f)+_0x5f01f8+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x449436=await this[_0x1a758f(0x7a6)]['flow'][_0x1a758f(0x104)]({'where':{'_id':_0xe19786[_0x1a758f(0x1ed)]}});if(!_0x449436||!_0x449436['whoCanUse']?.[_0x1a758f(0x7ff)](this[_0x1a758f(0x388)][_0x1a758f(0x680)]))throw this[_0x1a758f(0x5c8)][_0x1a758f(0x7ba)](this['instanceName']+'\x20('+this[_0x1a758f(0x388)][_0x1a758f(0x680)]+_0x1a758f(0x81f)+_0x5f01f8+_0x1a758f(0x5b5)),new m(_0x1a758f(0x52e)+_0x5f01f8+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x59d209=require('mongodb')[_0x1a758f(0x1aa)],_0x101f39=Date[_0x1a758f(0x506)](),_0x5df6ad=_0x1a758f(0x276),_0x345822={},_0x4d4dd3={},_0x315097=this['AutomateSystem'][_0x1a758f(0x2b5)][_0x1a758f(0x3d2)](_0x316e53=>_0x316e53[_0x1a758f(0x1ed)]===_0x449436[_0x1a758f(0x1ed)]?.[_0x1a758f(0x821)]()),_0x973945=_0x315097?.[_0x1a758f(0x589)]??_0x449436[_0x1a758f(0x589)]??0x0,_0x38a6e5=_0x315097?.['readMessages']??_0x449436[_0x1a758f(0x742)]??!0x1,_0xf83bfa={'flowId':_0xe19786[_0x1a758f(0x1ed)],'readMessages':_0xe19786[_0x1a758f(0x742)],..._0x449436,'chatLog':null},_0x1b6991={'lastReceivedMessage':_0x345822,'lastSendMessage':_0x4d4dd3,'lastBlockId':_0x5df6ad,'lastCondition':!0x0,'realVariables':_0x45a5f4};_0xf83bfa[_0x1a758f(0x43d)]=_0x1b6991,_0xf83bfa['chatLog'][_0x1a758f(0x5bc)]={..._0x45a5f4},delete _0xf83bfa[_0x1a758f(0x1ed)],_0xf83bfa[_0x1a758f(0x1ed)]=new _0x59d209(),_0xf83bfa[_0x1a758f(0x241)]=_0x101f39,_0xf83bfa[_0x1a758f(0x499)]=_0x1a758f(0x16f),_0xf83bfa[_0x1a758f(0x13a)]=_0x1bb4b8,_0xf83bfa[_0x1a758f(0x589)]=_0x973945,_0xf83bfa[_0x1a758f(0x742)]=_0x38a6e5;let _0x19adda=await this['repository'][_0x1a758f(0x1b8)][_0x1a758f(0x191)](_0xf83bfa['_id'],_0xf83bfa,this[_0x1a758f(0x388)][_0x1a758f(0x680)]);return this[_0x1a758f(0x5c8)][_0x1a758f(0x699)](this[_0x1a758f(0x7bd)]+'\x20('+this[_0x1a758f(0x388)][_0x1a758f(0x680)]+_0x1a758f(0x112)),_0x19adda?_0xf83bfa:null;}catch(_0x555be1){let _0x3518cd=_0x1a758f(0x3d9),_0x52843e=_0x555be1 instanceof Error?_0x555be1[_0x1a758f(0x620)]:typeof _0x555be1==_0x1a758f(0x1a3)?JSON[_0x1a758f(0x7e7)](_0x555be1):_0x555be1,_0x380175=_0x3518cd+':\x20'+_0x52843e;throw this['logger'][_0x1a758f(0x7ba)](this[_0x1a758f(0x7bd)]+'\x20('+this[_0x1a758f(0x388)]['wuid']+'):\x20'+_0x380175),new m(_0x380175);}}async[a0_0x46d805(0x234)](_0x22cb0b,_0x2597ca){const _0x1b0c32=a0_0x46d805;let _0xe460cf,_0x3ae683;try{let _0x5e0b19=_0x2597ca[_0x1b0c32(0x336)];if(!_0x5e0b19||!_0x5e0b19[_0x1b0c32(0x5e7)]||!_0x5e0b19[_0x1b0c32(0x738)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x2e83d3;([_0x1b0c32(0x23c),'https://api.openai.com/v1/images/generations',_0x1b0c32(0x1ea)][_0x1b0c32(0x2c0)](_0x30be00=>_0x5e0b19[_0x1b0c32(0x5e7)][_0x1b0c32(0x7ff)](_0x30be00))||_0x5e0b19[_0x1b0c32(0x4fc)])&&(_0x2e83d3=_0x1b0c32(0x28a));let _0x211a21='\u205f',_0x3578ee;try{_0x3578ee=JSON[_0x1b0c32(0x473)](_0x5e0b19['bodyString'][_0x1b0c32(0x1cd)](new RegExp(_0x211a21,'g'),''));}catch(_0x126018){throw _0x126018;}let _0x2a1ce9={'method':_0x5e0b19[_0x1b0c32(0x738)],'url':_0x5e0b19[_0x1b0c32(0x5e7)],'headers':_0x5e0b19[_0x1b0c32(0x4c0)]||{},..._0x5e0b19['method']['toUpperCase']()!==_0x1b0c32(0x675)&&_0x5e0b19[_0x1b0c32(0x5b9)]?{'data':JSON['parse'](_0x5e0b19[_0x1b0c32(0x5b9)][_0x1b0c32(0x1cd)](new RegExp(_0x211a21,'g'),''))}:{},..._0x2e83d3&&{'responseType':_0x2e83d3}},_0x279925=await(0x0,Z[_0x1b0c32(0x6ef)])(_0x2a1ce9),_0x2e7fef=_0x279925['headers'][_0x1b0c32(0x2fc)];if(_0x2e7fef&&_0x2e7fef[_0x1b0c32(0x7ff)](_0x1b0c32(0x75a))||typeof _0x279925[_0x1b0c32(0x3df)]=='string'){if(typeof _0x279925[_0x1b0c32(0x3df)]=='string'){let _0x735642=_0x279925[_0x1b0c32(0x3df)][_0x1b0c32(0x1cd)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x1b0c32(0x1f9)]();try{_0xe460cf=JSON['parse'](_0x735642);}catch(_0x169308){this['logger'][_0x1b0c32(0x7ba)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x169308[_0x1b0c32(0x620)]),_0xe460cf={'_apiResponse':_0x279925['data']};}}else _0xe460cf=_0x279925[_0x1b0c32(0x3df)];let _0x4d9905=_0x22cb0b[_0x1b0c32(0x43d)][_0x1b0c32(0x5bc)],_0x59adbc=this[_0x1b0c32(0x5f8)](_0xe460cf);return Object['assign'](_0x4d9905,_0x59adbc),_0x22cb0b['chatLog'][_0x1b0c32(0x5bc)]=_0x4d9905,_0x3ae683={'error':!0x1,'apiResponse':_0xe460cf},this['updateConversation'](_0x22cb0b,_0x2597ca,_0x3ae683),_0xe460cf;}if(_0x2e7fef&&(_0x2e7fef[_0x1b0c32(0x7ff)]('application/octet-stream')||_0x2e7fef[_0x1b0c32(0x7ff)](_0x1b0c32(0x633))||_0x2e7fef[_0x1b0c32(0x7ff)]('audio')||_0x2e7fef[_0x1b0c32(0x7ff)]('video'))){this[_0x1b0c32(0x5c8)]['verbose'](this[_0x1b0c32(0x7bd)]+'\x20('+this[_0x1b0c32(0x388)][_0x1b0c32(0x680)]+_0x1b0c32(0x1ee)+_0x2e7fef);let _0x2123ab=(0x0,Q['v4'])(),_0x4b49ee='',_0x3c455c={'image/jpeg':_0x1b0c32(0x100),'image/png':_0x1b0c32(0x6d4),'image/gif':'.gif','image/webp':_0x1b0c32(0x596),'image/svg+xml':_0x1b0c32(0x274),'audio/mpeg':_0x1b0c32(0x776),'audio/ogg':_0x1b0c32(0x7d1),'audio/wav':'.wav','video/mp4':_0x1b0c32(0x7b7),'video/webm':'.webm','video/ogg':_0x1b0c32(0x461),'text/plain':_0x1b0c32(0x2ad),'application/pdf':'.pdf','application/msword':_0x1b0c32(0x3ed),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1b0c32(0x15c),'application/vnd.ms-excel':_0x1b0c32(0x511),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1b0c32(0x6e0),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1b0c32(0x692)};_0x3c455c[_0x2e7fef]?(_0x4b49ee=_0x3c455c[_0x2e7fef],this[_0x1b0c32(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x1b0c32(0x388)]['wuid']+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x4b49ee)):(_0x4b49ee='.error',this[_0x1b0c32(0x5c8)][_0x1b0c32(0x699)](this[_0x1b0c32(0x7bd)]+'\x20('+this[_0x1b0c32(0x388)]['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x4b49ee)),_0x2123ab+=_0x4b49ee,this[_0x1b0c32(0x5c8)][_0x1b0c32(0x699)](this[_0x1b0c32(0x7bd)]+'\x20('+this[_0x1b0c32(0x388)][_0x1b0c32(0x680)]+_0x1b0c32(0x2b9)+_0x2123ab);let _0x16b593=this[_0x1b0c32(0x3a5)][_0x1b0c32(0x1ae)]('SERVER')[_0x1b0c32(0x5f4)];if(!_0x16b593){let _0x5c2b2c=this[_0x1b0c32(0x3a5)]['get']('SSL_CONF');_0x16b593=_0x1b0c32(0x5bf)+(_0x5c2b2c&&_0x5c2b2c[_0x1b0c32(0x4ca)][_0x1b0c32(0x76f)]('/')[0x4]);}let _0xac0b83=Buffer[_0x1b0c32(0x59f)](_0x279925[_0x1b0c32(0x3df)]);await this[_0x1b0c32(0x1c7)](_0xac0b83,_0x2123ab);let _0x5a6b9d=_0x1b0c32(0x79b)+_0x2123ab;_0x5a6b9d=''+_0x16b593+_0x5a6b9d,_0xe460cf={'fileUrl':_0x5a6b9d},_0x22cb0b[_0x1b0c32(0x43d)]['realVariables']['fileUrl']=_0x5a6b9d;let _0x39f65c=_0x22cb0b[_0x1b0c32(0x43d)][_0x1b0c32(0x5bc)],_0x439a92=this[_0x1b0c32(0x5f8)](_0xe460cf);return Object[_0x1b0c32(0x3d5)](_0x39f65c,_0x439a92),_0x22cb0b['chatLog']['realVariables']=_0x39f65c,_0x3ae683={'error':!0x1,'apiResponse':{'fileUrl':_0x5a6b9d}},this[_0x1b0c32(0x457)](_0x22cb0b,_0x2597ca,_0x3ae683),_0xe460cf;}}catch(_0x36b45d){this[_0x1b0c32(0x5c8)]['error'](_0x1b0c32(0x6f1)+_0x36b45d[_0x1b0c32(0x620)]),_0x36b45d[_0x1b0c32(0x792)]&&(_0xe460cf=_0x36b45d[_0x1b0c32(0x792)][_0x1b0c32(0x3df)]);let _0x25d56=_0x22cb0b[_0x1b0c32(0x43d)]['realVariables'],_0x491a65=this['flattenObject'](_0xe460cf);return Object[_0x1b0c32(0x3d5)](_0x25d56,_0x491a65),_0x22cb0b[_0x1b0c32(0x43d)][_0x1b0c32(0x5bc)]=_0x25d56,_0x3ae683={'error':!0x0,'errorLog':_0x36b45d[_0x1b0c32(0x821)](),'apiResponse':_0xe460cf},this[_0x1b0c32(0x457)](_0x22cb0b,_0x2597ca,_0x3ae683),{'success':!0x1};}}[a0_0x46d805(0x637)](_0x2a5593,_0x28888c){const _0x3c7288=a0_0x46d805;let _0x237f15=_0x563507=>{const _0x59e3a6=a0_0x1054;let _0x1484f2=_0x563507[_0x59e3a6(0x1cd)](/[^0-9.,-]/g,'')[_0x59e3a6(0x1cd)](',','.'),_0x5018db=parseFloat(_0x1484f2);return isNaN(_0x5018db)?null:_0x5018db;},_0x10ed35=_0x28888c['firstValue'],_0x472fd7=_0x28888c[_0x3c7288(0x568)];typeof _0x10ed35==_0x3c7288(0x12c)&&(_0x10ed35=this[_0x3c7288(0x3ac)](_0x10ed35,_0x2a5593[_0x3c7288(0x43d)][_0x3c7288(0x5bc)])??''),typeof _0x472fd7==_0x3c7288(0x12c)&&(_0x472fd7=this[_0x3c7288(0x3ac)](_0x472fd7,_0x2a5593[_0x3c7288(0x43d)]['realVariables'])??'');let _0x32a7d7=null;if(!_0x28888c['editOperator'])return null;switch(this[_0x3c7288(0x5c8)]['verbose'](this[_0x3c7288(0x7bd)]+'\x20('+this['instance']['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x10ed35),this[_0x3c7288(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x3c7288(0x388)][_0x3c7288(0x680)]+_0x3c7288(0x146)+_0x472fd7),_0x28888c[_0x3c7288(0x6c2)]){case'+':case'-':case'*':case'/':let _0x5b383a=_0x237f15(_0x10ed35||'0'),_0x3ff266=_0x237f15(_0x472fd7||'0');if(_0x5b383a===null)return null;switch(_0x28888c[_0x3c7288(0x6c2)]){case'+':_0x32a7d7=_0x5b383a+(_0x3ff266??0x0);break;case'-':_0x32a7d7=_0x5b383a-(_0x3ff266??0x0);break;case'*':_0x32a7d7=_0x5b383a*(_0x3ff266??0x1);break;case'/':_0x3ff266!==0x0&&(_0x32a7d7=_0x5b383a/(_0x3ff266??0x1));break;}break;case _0x3c7288(0x645):case _0x3c7288(0x341):let _0x153832=_0x472fd7,_0x1c5e59=_0x28888c['replaceValue'];if(typeof _0x1c5e59==_0x3c7288(0x12c)&&(_0x1c5e59=this['replaceVariables'](_0x1c5e59,_0x2a5593[_0x3c7288(0x43d)][_0x3c7288(0x5bc)])??''),_0x153832&&_0x1c5e59!==void 0x0){let _0x3146e1=_0x28888c[_0x3c7288(0x6c2)]===_0x3c7288(0x645)?new RegExp(_0x153832[_0x3c7288(0x1cd)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3c7288(0x545)),'g'):new RegExp(_0x153832,'g');_0x32a7d7=_0x10ed35[_0x3c7288(0x1cd)](_0x3146e1,_0x1c5e59);}else console[_0x3c7288(0x4fa)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x3c7288(0x817):_0x32a7d7=_0x472fd7;break;case _0x3c7288(0x52c):let _0x572b86=_0x10ed35[_0x3c7288(0x21d)](new RegExp(_0x472fd7||''));_0x32a7d7=_0x572b86?_0x572b86[0x0]:'';break;case _0x3c7288(0x5fe):_0x32a7d7=_0x10ed35['slice'](0x0,parseInt(_0x472fd7||'0'));break;case _0x3c7288(0x41a):let _0x7b9937=parseInt(_0x472fd7||'0');_0x32a7d7=_0x10ed35['slice'](_0x10ed35['length']-_0x7b9937);break;case'toBrazilianNumberFormat':let _0x49c8c3=_0x237f15(_0x10ed35),_0xd7b2f8=parseInt(_0x472fd7||'0');_0xd7b2f8=Math[_0x3c7288(0x528)](_0xd7b2f8),_0x49c8c3!==null?_0x32a7d7=_0x49c8c3['toLocaleString'](_0x3c7288(0x471),{'minimumFractionDigits':_0xd7b2f8,'maximumFractionDigits':_0xd7b2f8}):(console[_0x3c7288(0x4fa)](_0x3c7288(0x6f0)+_0x10ed35),_0x32a7d7=null);break;case _0x3c7288(0x111):let _0x50319c=_0x237f15(_0x10ed35);_0x50319c!==null?_0x32a7d7=_0x50319c[_0x3c7288(0x65e)](_0x3c7288(0x471),{'style':_0x3c7288(0x626),'currency':_0x3c7288(0x2d5)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x10ed35),_0x32a7d7=null);break;case _0x3c7288(0x686):_0x32a7d7=_0x10ed35[_0x3c7288(0x53a)]();break;case _0x3c7288(0x129):_0x32a7d7=_0x10ed35[_0x3c7288(0x22d)]();break;case _0x3c7288(0x4ed):_0x32a7d7=_0x10ed35[_0x3c7288(0x76f)]('\x20')[_0x3c7288(0x1bd)](_0x44f1b4=>_0x44f1b4[_0x3c7288(0x22f)](0x0)[_0x3c7288(0x53a)]()+_0x44f1b4['slice'](0x1)[_0x3c7288(0x22d)]())['join']('\x20');break;case _0x3c7288(0x63d):_0x32a7d7=_0x10ed35[_0x3c7288(0x1f9)]();break;default:_0x32a7d7=_0x10ed35;}return _0x32a7d7!==null?_0x32a7d7[_0x3c7288(0x821)]():null;}async[a0_0x46d805(0x2cb)](_0x58a057,_0x4ae458){const _0x34a7fe=a0_0x46d805;try{let _0x30fb9f=_0x58a057[_0x34a7fe(0x44d)]?.['filter'](_0xff5ede=>_0xff5ede[_0x34a7fe(0x56f)]===_0x4ae458[_0x34a7fe(0x1ed)]?.[_0x34a7fe(0x821)]())||[],_0x4625ac=_0x4ae458[_0x34a7fe(0x30d)],_0x5b1b67=null,_0x8b6138=[],_0x1a5b81=_0x58a057[_0x34a7fe(0x43d)]['realVariables'][_0x4625ac];_0x8b6138[_0x34a7fe(0x70b)](_0x34a7fe(0x68e)+_0x1a5b81+'\x22');for(let _0x5159f2 of _0x30fb9f){_0x5159f2[_0x34a7fe(0x261)]=_0x1a5b81,_0x5b1b67=_0x5159f2['firstValue'];let _0x59b517;try{_0x59b517=this[_0x34a7fe(0x637)](_0x58a057,_0x5159f2);}catch(_0x2384a6){this[_0x34a7fe(0x5c8)]['error'](_0x34a7fe(0x72c)+_0x2384a6[_0x34a7fe(0x620)]);continue;}if(_0x59b517!==null){let _0x41d8a8=_0x34a7fe(0x70a)+_0x5159f2['editOperator']+'\x22',_0x1b9358=['toBRL',_0x34a7fe(0x686),_0x34a7fe(0x129),_0x34a7fe(0x4ed),_0x34a7fe(0x63d)];_0x5159f2[_0x34a7fe(0x6c2)]===_0x34a7fe(0x645)||_0x5159f2[_0x34a7fe(0x6c2)]===_0x34a7fe(0x341)?_0x41d8a8+=_0x34a7fe(0x7c3)+_0x5159f2[_0x34a7fe(0x568)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x5159f2[_0x34a7fe(0x392)]+'\x22':!_0x1b9358[_0x34a7fe(0x7ff)](_0x5159f2[_0x34a7fe(0x6c2)])&&_0x5159f2[_0x34a7fe(0x568)]!==null&&_0x5159f2['secondValue']!==void 0x0&&(_0x41d8a8+=',\x20valor\x20passado:\x20\x22'+_0x5159f2[_0x34a7fe(0x568)]+'\x22'),_0x41d8a8+=_0x34a7fe(0x4a5)+_0x59b517+'.',_0x8b6138[_0x34a7fe(0x70b)](_0x41d8a8);}_0x59b517!==null&&(_0x1a5b81=_0x59b517);}if(_0x58a057[_0x34a7fe(0x43d)][_0x34a7fe(0x5bc)]&&_0x4ae458[_0x34a7fe(0x30d)]){_0x58a057[_0x34a7fe(0x43d)][_0x34a7fe(0x5bc)][_0x4ae458['saveVariable']]=_0x1a5b81;let _0x446053={'variable':_0x4ae458['saveVariable'],'oldValue':_0x5b1b67,'newValue':_0x1a5b81,'moreLogs':_0x8b6138};try{this['updateConversation'](_0x58a057,_0x4ae458,_0x446053);}catch(_0x2c6d73){this[_0x34a7fe(0x5c8)][_0x34a7fe(0x7ba)](_0x34a7fe(0x256)+_0x2c6d73['message']);}}return _0x4625ac;}catch(_0x278fce){return this[_0x34a7fe(0x5c8)][_0x34a7fe(0x7ba)](_0x34a7fe(0x512)+_0x278fce[_0x34a7fe(0x620)]),null;}}async[a0_0x46d805(0x4ce)](_0x2d2156,_0x4330eb){const _0x4ad0ae=a0_0x46d805;try{let _0x3b846b=[],_0x323458=_0x2d2156[_0x4ad0ae(0x4dc)][_0x4ad0ae(0x130)](_0xeccdc6=>_0xeccdc6['blockId']===_0x4330eb[_0x4ad0ae(0x1ed)][_0x4ad0ae(0x821)]()),_0xa7f914=null,_0x5b635b=!0x1;for(let _0xaf5fdb of _0x323458){let _0x31ac75=this[_0x4ad0ae(0x701)](_0x2d2156,_0xaf5fdb);_0x3b846b['push'](_0x4ad0ae(0x41e)+_0xaf5fdb[_0x4ad0ae(0x261)]+',\x20Comparador:\x20'+_0xaf5fdb[_0x4ad0ae(0x458)]+_0x4ad0ae(0x37c)+_0xaf5fdb[_0x4ad0ae(0x568)]+_0x4ad0ae(0x5b3)+_0x31ac75),_0xa7f914===null?_0xa7f914=_0x31ac75:_0xaf5fdb[_0x4ad0ae(0x23e)]===_0x4ad0ae(0x25e)?(_0xa7f914=_0xa7f914&&_0x31ac75,_0x31ac75||(_0x5b635b=!0x0)):_0xaf5fdb[_0x4ad0ae(0x23e)]==='or'&&(_0x5b635b||(_0xa7f914=_0xa7f914||_0x31ac75));}_0xa7f914===null&&(_0xa7f914=!0x0);let _0x164dda={'moreLogs':_0x3b846b};_0x2d2156[_0x4ad0ae(0x43d)][_0x4ad0ae(0x1ad)]=_0xa7f914,await this[_0x4ad0ae(0x457)](_0x2d2156,_0x4330eb,_0x164dda);}catch(_0x492412){this[_0x4ad0ae(0x5c8)][_0x4ad0ae(0x7ba)](this[_0x4ad0ae(0x7bd)]+'\x20('+this[_0x4ad0ae(0x388)][_0x4ad0ae(0x680)]+_0x4ad0ae(0x5a8)+(_0x492412 instanceof Error?_0x492412[_0x4ad0ae(0x620)]:JSON['stringify'](_0x492412,null,0x2)));}}[a0_0x46d805(0x701)](_0x3ea096,_0x10ad65){const _0x1d7e33=a0_0x46d805;let _0x8ece6e=_0x10ad65['firstValue'],_0x2ba3e6=_0x10ad65[_0x1d7e33(0x568)];typeof _0x8ece6e=='string'&&(_0x8ece6e=this[_0x1d7e33(0x3ac)](_0x8ece6e,_0x3ea096[_0x1d7e33(0x43d)]['realVariables'])??''),typeof _0x2ba3e6==_0x1d7e33(0x12c)&&(_0x2ba3e6=this[_0x1d7e33(0x3ac)](_0x2ba3e6,_0x3ea096[_0x1d7e33(0x43d)][_0x1d7e33(0x5bc)])??'');try{switch(_0x10ad65[_0x1d7e33(0x458)]){case _0x1d7e33(0x2f5):return _0x8ece6e===_0x2ba3e6;case _0x1d7e33(0x533):return _0x8ece6e!==_0x2ba3e6;case _0x1d7e33(0x36a):return this['contains'](_0x8ece6e,_0x2ba3e6);case _0x1d7e33(0x6a1):return!this[_0x1d7e33(0x36a)](_0x8ece6e,_0x2ba3e6);case _0x1d7e33(0x68c):return parseFloat(_0x8ece6e)>parseFloat(_0x2ba3e6);case _0x1d7e33(0x1e4):return parseFloat(_0x8ece6e)<parseFloat(_0x2ba3e6);case _0x1d7e33(0x379):return _0x8ece6e!=='';case _0x1d7e33(0x608):return _0x8ece6e==='';case'matchRegex':return new RegExp(_0x2ba3e6)[_0x1d7e33(0x1e0)](_0x8ece6e);case _0x1d7e33(0x834):return!new RegExp(_0x2ba3e6)['test'](_0x8ece6e);default:return!0x1;}}catch(_0x388c97){return this[_0x1d7e33(0x5c8)][_0x1d7e33(0x7ba)](_0x1d7e33(0x12e)+_0x388c97),!0x1;}}['contains'](_0x12dee8,_0x305e50){const _0x5a210a=a0_0x46d805;if(_0x12dee8===_0x305e50&&/^\d+$/[_0x5a210a(0x1e0)](_0x12dee8))return!0x0;if(this[_0x5a210a(0x419)](_0x12dee8)&&/^\d+$/[_0x5a210a(0x1e0)](_0x305e50)){let _0x332281=_0x12dee8[_0x5a210a(0x76f)](',')['map'](_0x33f44d=>parseInt(_0x33f44d[_0x5a210a(0x1f9)]())),_0x392afa=parseInt(_0x305e50);return _0x332281['includes'](_0x392afa);}return _0x12dee8[_0x5a210a(0x7ff)](_0x305e50);}[a0_0x46d805(0x419)](_0x1f236f){const _0x4c1563=a0_0x46d805;return/^\d+(,\d+)*$/[_0x4c1563(0x1e0)](_0x1f236f);}[a0_0x46d805(0x782)](_0x5cb22a){const _0x165de6=a0_0x46d805;let _0x430c90=!0x0,_0x3cdaa8=null;for(let _0x1e4241 of _0x5cb22a){let _0x425408=this[_0x165de6(0x44a)](_0x1e4241);if(_0x3cdaa8==='or'&&_0x425408){_0x430c90=!0x0;break;}if(_0x3cdaa8===_0x165de6(0x25e)&&!_0x425408){_0x430c90=!0x1;break;}_0x3cdaa8=_0x1e4241[_0x165de6(0x23e)];}return _0x430c90;}[a0_0x46d805(0x44a)](_0x1260b9){const _0x257566=a0_0x46d805;let _0x3e5129=_0x1260b9[_0x257566(0x261)],_0x18ff17=_0x1260b9['secondValue'];try{switch(_0x1260b9[_0x257566(0x458)]){case'equal':return String(_0x3e5129)===String(_0x18ff17);case _0x257566(0x533):return String(_0x3e5129)!==String(_0x18ff17);case _0x257566(0x36a):return String(_0x3e5129)[_0x257566(0x7ff)](String(_0x18ff17));case _0x257566(0x6a1):return!String(_0x3e5129)[_0x257566(0x7ff)](String(_0x18ff17));case _0x257566(0x68c):return parseFloat(String(_0x3e5129))>parseFloat(String(_0x18ff17));case'less':return parseFloat(String(_0x3e5129))<parseFloat(String(_0x18ff17));case _0x257566(0x379):return String(_0x3e5129)!=='';case _0x257566(0x608):return String(_0x3e5129)==='';case _0x257566(0x172):return new RegExp(String(_0x18ff17))[_0x257566(0x1e0)](String(_0x3e5129));case _0x257566(0x834):return!new RegExp(String(_0x18ff17))[_0x257566(0x1e0)](String(_0x3e5129));default:return!0x1;}}catch(_0x27c721){return this[_0x257566(0x5c8)][_0x257566(0x7ba)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x27c721),!0x1;}}async[a0_0x46d805(0x3b3)](_0x14109f,_0x1d8960){const _0x5516ae=a0_0x46d805;if(this[_0x5516ae(0x5c8)][_0x5516ae(0x699)](this[_0x5516ae(0x7bd)]+'\x20('+this[_0x5516ae(0x388)]['wuid']+_0x5516ae(0x1e1)),!_0x14109f||!_0x1d8960)return this[_0x5516ae(0x5c8)][_0x5516ae(0x7ba)](this[_0x5516ae(0x7bd)]+'\x20('+this[_0x5516ae(0x388)][_0x5516ae(0x680)]+_0x5516ae(0x449)),null;let _0x417c81=_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x4b1)]['key']['id'];this[_0x5516ae(0x5c8)][_0x5516ae(0x699)](this[_0x5516ae(0x7bd)]+'\x20('+this[_0x5516ae(0x388)][_0x5516ae(0x680)]+_0x5516ae(0x7da)+_0x417c81);let _0x324284={'key':{'id':_0x417c81}},_0x5be044=_0x1d8960['saveVariable'];_0x14109f['chatLog'][_0x5516ae(0x5bc)]['_'+_0x5be044+_0x5516ae(0x700)]=null,_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x5bc)]['_'+_0x5be044+_0x5516ae(0x318)]=null,_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x5bc)]['_'+_0x5be044+'.extension']=null,_0x14109f[_0x5516ae(0x43d)]['realVariables']['_'+_0x5be044+_0x5516ae(0x544)]=_0x14109f['chatLog']['lastReceivedMessage'][_0x5516ae(0x319)];try{let _0xd17a1a=await this[_0x5516ae(0x4a8)](_0x324284);this['logger'][_0x5516ae(0x699)](this[_0x5516ae(0x7bd)]+'\x20('+this[_0x5516ae(0x388)][_0x5516ae(0x680)]+_0x5516ae(0x18e)),_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x5bc)]['_'+_0x5be044+_0x5516ae(0x65a)]=_0xd17a1a[_0x5516ae(0x82d)],_0x14109f['chatLog'][_0x5516ae(0x5bc)]['_'+_0x5be044+'.mimetype']=_0xd17a1a[_0x5516ae(0x819)];let _0x5b57ce=_0xd17a1a[_0x5516ae(0x819)][_0x5516ae(0x21d)](/\/(\w+)$/),_0x256beb=_0x5b57ce?_0x5b57ce[0x1]:null;_0x14109f[_0x5516ae(0x43d)]['realVariables']['_'+_0x5be044+_0x5516ae(0x320)]=_0x256beb,this[_0x5516ae(0x5c8)][_0x5516ae(0x699)](this[_0x5516ae(0x7bd)]+'\x20('+this[_0x5516ae(0x388)][_0x5516ae(0x680)]+_0x5516ae(0x387)+_0x5be044+'\x27.');}catch(_0xbfc5f8){this[_0x5516ae(0x5c8)]['error'](this[_0x5516ae(0x7bd)]+'\x20('+this[_0x5516ae(0x388)]['wuid']+_0x5516ae(0x3f9)+_0xbfc5f8[_0x5516ae(0x620)]);}let _0x4af610=_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x4b1)][_0x5516ae(0x80a)]||_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x4b1)][_0x5516ae(0x5d2)]||_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x4b1)]['vote'];try{_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x5bc)]||(_0x14109f[_0x5516ae(0x43d)][_0x5516ae(0x5bc)]={});let _0x1c6413=_0x14109f['chatLog']['realVariables'][_0x5be044];_0x14109f[_0x5516ae(0x43d)]['realVariables'][_0x5be044]=_0x4af610;let _0x4a795c={'variable':_0x5be044,'oldValue':_0x1c6413,'newValue':_0x4af610};this[_0x5516ae(0x457)](_0x14109f,_0x1d8960,_0x4a795c),this[_0x5516ae(0x5c8)]['verbose'](this[_0x5516ae(0x7bd)]+'\x20('+this['instance'][_0x5516ae(0x680)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x5a05d0){let _0x1ca257={'error':!0x0,'errorLog':_0x5a05d0[_0x5516ae(0x821)]()};return this[_0x5516ae(0x457)](_0x14109f,_0x1d8960,_0x1ca257),this['logger'][_0x5516ae(0x7ba)](this['instanceName']+'\x20('+this[_0x5516ae(0x388)][_0x5516ae(0x680)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x5a05d0 instanceof Error?_0x5a05d0[_0x5516ae(0x620)]:JSON[_0x5516ae(0x7e7)](_0x5a05d0,null,0x2))),null;}}async[a0_0x46d805(0x29d)](_0x2d9428,_0x1be8f8){const _0x5320dd=a0_0x46d805;if(this[_0x5320dd(0x5c8)][_0x5320dd(0x699)](this['instanceName']+'\x20('+this[_0x5320dd(0x388)][_0x5320dd(0x680)]+_0x5320dd(0x27c)),!_0x2d9428||!_0x1be8f8)return this[_0x5320dd(0x5c8)][_0x5320dd(0x7ba)](this[_0x5320dd(0x7bd)]+'\x20('+this[_0x5320dd(0x388)][_0x5320dd(0x680)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5dcae1=Date['now'](),_0x5e697d=parseInt(_0x1be8f8[_0x5320dd(0x6fe)],0xa);if(isNaN(_0x5e697d))return this[_0x5320dd(0x5c8)]['error'](this[_0x5320dd(0x7bd)]+'\x20('+this[_0x5320dd(0x388)][_0x5320dd(0x680)]+_0x5320dd(0x3bd)),null;let _0x158b13={'newStoppedUntil':_0x5dcae1+_0x5e697d*0x3c*0x3e8};return await this[_0x5320dd(0x457)](_0x2d9428,_0x1be8f8,_0x158b13,!0x0),null;}async['processUazapi'](_0x70bd93,_0x4befef){const _0x3c2224=a0_0x46d805;try{switch(_0x4befef[_0x3c2224(0x748)][_0x3c2224(0x4e3)]){case _0x3c2224(0x1c3):await this['uazapiSendText'](_0x70bd93,_0x4befef);break;case'sendMedia':await this[_0x3c2224(0x20a)](_0x70bd93,_0x4befef);break;case _0x3c2224(0x366):await this['uazapiSendLocation'](_0x70bd93,_0x4befef);break;case _0x3c2224(0x11c):await this['uazapiSendAudio'](_0x70bd93,_0x4befef);break;case _0x3c2224(0x1ef):await this[_0x3c2224(0x802)](_0x70bd93,_0x4befef);break;case'sendPoll':await this[_0x3c2224(0x11f)](_0x70bd93,_0x4befef);break;case _0x3c2224(0x25a):await this[_0x3c2224(0x11f)](_0x70bd93,_0x4befef);break;case _0x3c2224(0x6f8):await this[_0x3c2224(0x4f7)](_0x70bd93,_0x4befef);break;default:this['logger']['error'](this[_0x3c2224(0x7bd)]+'\x20('+this[_0x3c2224(0x388)][_0x3c2224(0x680)]+_0x3c2224(0x4df)+_0x4befef[_0x3c2224(0x748)]['command']);}}catch(_0x476472){this['logger'][_0x3c2224(0x7ba)](this['instanceName']+'\x20('+this[_0x3c2224(0x388)][_0x3c2224(0x680)]+_0x3c2224(0x82f)+(_0x476472 instanceof Error?_0x476472[_0x3c2224(0x620)]:JSON[_0x3c2224(0x7e7)](_0x476472,null,0x2)));}}async['updateConversation'](_0x180d43,_0x570862,_0x638fce,_0x11305c=!0x1,_0x45ee64=!0x1){const _0x42cdc5=a0_0x46d805;_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x6b5)]||(_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x6b5)]=[]);let _0x2376d8=(_0x180d43[_0x42cdc5(0x43d)]['blockLogs']?.[_0x42cdc5(0x47a)]??0x0)+0x1,_0x416585=_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x6b5)][_0x42cdc5(0x130)](_0x69ace6=>String(_0x69ace6[_0x42cdc5(0x56f)])===String(_0x570862[_0x42cdc5(0x1ed)]))[_0x42cdc5(0x47a)]+0x1,_0x51525c=_0x638fce?.[_0x42cdc5(0x587)]??Date['now'](),_0x508f6e=_0x638fce?.[_0x42cdc5(0x7ba)]?_0x638fce[_0x42cdc5(0x555)]??_0x638fce[_0x42cdc5(0x7ba)][_0x42cdc5(0x821)]():void 0x0,_0x15d5a0={'onTime':_0x51525c,'blockId':_0x570862[_0x42cdc5(0x1ed)],'order':_0x2376d8,'activatedCount':_0x416585,'error':_0x638fce?.['error']??!0x1,'messageId':_0x638fce?.[_0x42cdc5(0x684)],'apiResponse':_0x638fce?.[_0x42cdc5(0x812)],'apiResponseString':_0x638fce?.[_0x42cdc5(0x812)]?JSON['stringify'](_0x638fce?.[_0x42cdc5(0x812)]):void 0x0,'variable':_0x638fce?.['variable'],'oldValue':_0x638fce?.[_0x42cdc5(0x77f)],'newValue':_0x638fce?.['newValue'],'newStoppedUntil':_0x638fce?.[_0x42cdc5(0x152)],'moreLogs':_0x638fce?.['moreLogs'],'errorLog':_0x508f6e};if(_0x638fce[_0x42cdc5(0x208)]&&_0x638fce['moreLogs'][_0x42cdc5(0x47a)]>0x0){let _0x5f401d=_0x638fce[_0x42cdc5(0x208)][_0x42cdc5(0x1bd)](_0x1d999d=>this[_0x42cdc5(0x695)](_0x1d999d,_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x5bc)]));_0x15d5a0['moreLogs']=_0x5f401d;}if(_0x180d43[_0x42cdc5(0x43d)]['realVariables']||(_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x5bc)]={}),_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x5bc)]['_activatedCount']=String(_0x416585),_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x5bc)][_0x42cdc5(0x12d)]=String(_0x638fce['error']??!0x1),_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x6b5)][_0x42cdc5(0x70b)](_0x15d5a0),_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x5bc)]['telefone']&&_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x5bc)]['telefone']!==_0x180d43[_0x42cdc5(0x13a)]){let _0x1ebba6=(await this['whatsappNumber']({'numbers':[_0x180d43['chatLog'][_0x42cdc5(0x5bc)][_0x42cdc5(0x198)]]}))[0x0]['jid'];_0x180d43[_0x42cdc5(0x43d)]['realVariables'][_0x42cdc5(0x198)]=_0x1ebba6,_0x180d43[_0x42cdc5(0x13a)]=_0x1ebba6;try{let _0x2a93c0={'_id':{'$ne':_0x180d43[_0x42cdc5(0x1ed)]},'remoteJid':_0x1ebba6,'status':_0x42cdc5(0x16f)},_0x45d158={'status':'closed'};await this[_0x42cdc5(0x7a6)][_0x42cdc5(0x1b8)][_0x42cdc5(0x5a1)](_0x2a93c0,_0x45d158,this[_0x42cdc5(0x388)][_0x42cdc5(0x680)]),this[_0x42cdc5(0x5c8)][_0x42cdc5(0x699)](this[_0x42cdc5(0x7bd)]+'\x20('+this['instance'][_0x42cdc5(0x680)]+_0x42cdc5(0x72a));}catch(_0x38c4da){this['logger']['error'](this[_0x42cdc5(0x7bd)]+'\x20('+this[_0x42cdc5(0x388)][_0x42cdc5(0x680)]+_0x42cdc5(0x757)+_0x38c4da['message']);}try{let _0x448c0c=_0x180d43['chatLog']['realVariables'],_0x4cc3b0=await this[_0x42cdc5(0x288)](_0x1ebba6),_0x4f63b1={..._0x448c0c,..._0x4cc3b0,'_remoteJid':_0x1ebba6};_0x180d43[_0x42cdc5(0x43d)]['realVariables']=_0x4f63b1;}catch(_0x32f283){this[_0x42cdc5(0x5c8)][_0x42cdc5(0x7ba)](this[_0x42cdc5(0x7bd)]+'\x20('+this[_0x42cdc5(0x388)][_0x42cdc5(0x680)]+_0x42cdc5(0x573)+_0x32f283[_0x42cdc5(0x620)]);}}_0x180d43['chatLog'][_0x42cdc5(0x4be)]=_0x570862[_0x42cdc5(0x1ed)]['toString'](),_0x180d43[_0x42cdc5(0x43d)]['lastSendMessage']&&(_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x17a)]=_0x180d43['chatLog'][_0x42cdc5(0x17a)]),_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x4b1)]&&(_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x4b1)]=_0x180d43['chatLog'][_0x42cdc5(0x4b1)]),_0x180d43[_0x42cdc5(0x43d)][_0x42cdc5(0x1ad)]&&(_0x180d43[_0x42cdc5(0x43d)]['lastCondition']=_0x180d43['chatLog'][_0x42cdc5(0x1ad)]),_0x45ee64&&(_0x180d43[_0x42cdc5(0x499)]=_0x42cdc5(0x357)),_0x11305c?this['saveConversationToDatabase'](_0x180d43):this['goNextblock'](_0x180d43,_0x570862);}[a0_0x46d805(0x695)](_0x2fb3e6,_0x3476cb){const _0x9ea8e8=a0_0x46d805;return _0x2fb3e6[_0x9ea8e8(0x1cd)](/\{\{([^}]+)\}\}/g,(_0x574ee0,_0x3c3890)=>_0x3476cb[_0x3c3890]?'{{'+_0x3c3890+'}}\x20->\x20\x22'+_0x3476cb[_0x3c3890]+'\x22':'{{'+_0x3c3890+_0x9ea8e8(0x2be));}async[a0_0x46d805(0x166)](_0x7b8e80){const _0x45253f=a0_0x46d805;try{let _0x392c72=Object[_0x45253f(0x50a)](_0x7b8e80[_0x45253f(0x43d)]['realVariables'])[_0x45253f(0x1bd)](([_0x375637,_0x517787])=>({'name':_0x375637,'value':_0x517787})),_0x9eab42={'status':_0x7b8e80[_0x45253f(0x499)],'remoteJid':_0x7b8e80[_0x45253f(0x13a)],'blocks':_0x7b8e80[_0x45253f(0x29a)],'waitingMenu_id':_0x7b8e80[_0x45253f(0x227)],'waitingMenu_text':_0x7b8e80[_0x45253f(0x40c)],'waitingMenu_replyOptions':_0x7b8e80[_0x45253f(0x4bb)],'chatLog':{'lastBlockId':_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x4be)],'lastSendMessage':_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x17a)],'lastReceivedMessage':_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x4b1)],'lastCondition':_0x7b8e80[_0x45253f(0x43d)]['lastCondition'],'chatVariables':_0x392c72,'realVariables':_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x5bc)],'blockLogs':_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x6b5)]}},_0x582683=await this['repository'][_0x45253f(0x1b8)][_0x45253f(0x191)](_0x7b8e80[_0x45253f(0x1ed)],_0x9eab42,this[_0x45253f(0x388)][_0x45253f(0x680)]);if(_0x582683){this['logger'][_0x45253f(0x699)](this[_0x45253f(0x7bd)]+'\x20('+this[_0x45253f(0x388)][_0x45253f(0x680)]+_0x45253f(0x33a)+_0x582683['_id']);try{let _0x470c44=['nome',_0x45253f(0x1d4),'email',_0x45253f(0x32c),_0x45253f(0x499),'notas','responsavelid',_0x45253f(0x56c),_0x45253f(0x75e),_0x45253f(0x1e8)];if(!this['AutomateSystem']&&(await this[_0x45253f(0x26b)](),!this[_0x45253f(0x53e)]))throw new Error(_0x45253f(0x5b7));let _0x492736=this['AutomateSystem']?.[_0x45253f(0x58b)]['map'](_0x1cffef=>_0x1cffef[_0x45253f(0x73f)]),_0x4c616f={};Object[_0x45253f(0x50a)](_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x5bc)])[_0x45253f(0x1db)](([_0xb221ca,_0x27b98b])=>{const _0x499010=_0x45253f;_0x470c44[_0x499010(0x7ff)](_0xb221ca)&&(_0xb221ca===_0x499010(0x56c)&&typeof _0x27b98b=='string'?_0x4c616f[_0xb221ca]=_0x27b98b[_0x499010(0x76f)](',')[_0x499010(0x1bd)](_0xc9bf8=>_0xc9bf8[_0x499010(0x1f9)]())[_0x499010(0x130)](_0x384618=>_0x384618!==''):_0xb221ca===_0x499010(0x75e)&&typeof _0x27b98b=='string'?_0x4c616f[_0xb221ca]=_0x27b98b[_0x499010(0x76f)](',')[_0x499010(0x1bd)](_0x2dc22f=>_0x2dc22f['trim']())[_0x499010(0x130)](_0x25d2e5=>_0x25d2e5!==''):_0x4c616f[_0xb221ca]=_0x27b98b);});let _0x3ea2b9=_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x6b5)][_0x7b8e80[_0x45253f(0x43d)][_0x45253f(0x6b5)][_0x45253f(0x47a)]-0x1];if(_0x3ea2b9){let _0x584b1a=_0x3ea2b9[_0x45253f(0x152)];_0x584b1a!==void 0x0&&(_0x4c616f[_0x45253f(0x508)]=_0x584b1a[_0x45253f(0x821)]());}let _0x39dabe=_0x392c72[_0x45253f(0x130)](_0x381152=>_0x492736[_0x45253f(0x7ff)](_0x381152[_0x45253f(0x73f)]));this[_0x45253f(0x5c8)]['verbose'](this[_0x45253f(0x7bd)]+'\x20('+this[_0x45253f(0x388)][_0x45253f(0x680)]+'):\x20leadInfoVariables'),this['logger'][_0x45253f(0x699)](_0x4c616f),this[_0x45253f(0x5c8)][_0x45253f(0x699)](this['instanceName']+'\x20('+this[_0x45253f(0x388)][_0x45253f(0x680)]+'):\x20customFieldVariables'),this[_0x45253f(0x5c8)][_0x45253f(0x699)](_0x39dabe);let _0x59d594=_0x39dabe[_0x45253f(0x1bd)](_0x55ff6a=>{const _0x35d257=_0x45253f;let _0x2b521d=this[_0x35d257(0x53e)]?.['customFields']['find'](_0x4b42bd=>_0x4b42bd['name']===_0x55ff6a[_0x35d257(0x73f)]);if(!_0x2b521d)throw new Error(_0x35d257(0x585)+_0x55ff6a[_0x35d257(0x73f)]);return{'_id':_0x2b521d[_0x35d257(0x1ed)],'value':_0x55ff6a[_0x35d257(0x176)]};});this[_0x45253f(0x5c8)]['verbose'](this[_0x45253f(0x7bd)]+'\x20('+this['instance'][_0x45253f(0x680)]+_0x45253f(0x4ba)),this['logger'][_0x45253f(0x699)](_0x59d594),await this[_0x45253f(0x7e9)](_0x7b8e80[_0x45253f(0x13a)],_0x4c616f,_0x59d594);}catch(_0x20a180){this['logger'][_0x45253f(0x7ba)](this['instanceName']+'\x20('+this[_0x45253f(0x388)][_0x45253f(0x680)]+_0x45253f(0x478)+(_0x20a180 instanceof Error?_0x20a180[_0x45253f(0x620)]:JSON['stringify'](_0x20a180,null,0x2)));}}else this[_0x45253f(0x5c8)][_0x45253f(0x7ba)](this[_0x45253f(0x7bd)]+'\x20('+this[_0x45253f(0x388)][_0x45253f(0x680)]+_0x45253f(0x3d6));}catch(_0x112d62){this[_0x45253f(0x5c8)][_0x45253f(0x7ba)](this['instanceName']+'\x20('+this[_0x45253f(0x388)]['wuid']+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x112d62 instanceof Error?_0x112d62['message']:JSON[_0x45253f(0x7e7)](_0x112d62,null,0x2)));}}async[a0_0x46d805(0x7e9)](_0x2efcc6,_0x2b563f,_0x23c587){const _0x12b068=a0_0x46d805;try{let _0xe4e3c9={'leadInfo.leadnome':_0x2b563f[_0x12b068(0x7c6)],'leadInfo.nomecompleto':_0x2b563f['nomecompleto'],'leadInfo.email':_0x2b563f[_0x12b068(0x704)],'leadInfo.cpf':_0x2b563f[_0x12b068(0x32c)],'leadInfo.status':_0x2b563f['status'],'leadInfo.notas':_0x2b563f['notas'],'leadInfo.responsavelid':_0x2b563f[_0x12b068(0x59b)],'leadInfo.tags':_0x2b563f[_0x12b068(0x56c)],'leadInfo.etiquetas':_0x2b563f[_0x12b068(0x75e)],'leadInfo.customFields':_0x23c587,'leadInfo.atendimentoAberto':_0x2b563f[_0x12b068(0x1e8)]},_0x625d27=await this[_0x12b068(0x7a6)][_0x12b068(0x64f)][_0x12b068(0x104)]({'where':{'_id':_0x2efcc6}},this[_0x12b068(0x388)][_0x12b068(0x680)]);if(!_0x625d27)return _0x12b068(0x444);let _0x3683e4=new Set(_0x625d27[_0x12b068(0x5fa)][_0x12b068(0x75e)]||[]),_0xbf42a=new Set(_0x2b563f[_0x12b068(0x75e)]||[]),_0x47a6d8=await this[_0x12b068(0x7a6)]['label'][_0x12b068(0x3d2)]({'where':{}},this[_0x12b068(0x388)][_0x12b068(0x680)]),_0xc9633c=new Set(_0x47a6d8['map'](_0x44f3b1=>_0x44f3b1[_0x12b068(0x1ed)])),_0x149315=[..._0xbf42a][_0x12b068(0x130)](_0x2228b5=>!_0x3683e4[_0x12b068(0x5ed)](_0x2228b5)&&_0xc9633c[_0x12b068(0x5ed)](_0x2228b5)),_0x13e482=[..._0x3683e4][_0x12b068(0x130)](_0x5e4acf=>!_0xbf42a['has'](_0x5e4acf));for(let _0x4c3b01 of _0x149315)await this[_0x12b068(0x66d)](_0x4c3b01,_0x625d27['_id']),_0x3683e4[_0x12b068(0x70c)](_0x4c3b01);for(let _0xc26d42 of _0x13e482)await this['RemoveChatLabel'](_0xc26d42,_0x625d27[_0x12b068(0x1ed)]),_0x3683e4[_0x12b068(0x835)](_0xc26d42);if(_0x12b068(0x508)in _0x2b563f){let _0x2cfe25=_0x2b563f[_0x12b068(0x508)];_0xe4e3c9['leadInfo.desativadoFluxoAte']=_0x2cfe25?Number(_0x2cfe25):null;}if(_0x12b068(0x1e8)in _0x2b563f){let _0x2d7036=_0x2b563f[_0x12b068(0x1e8)][_0x12b068(0x22d)]();_0xe4e3c9[_0x12b068(0x61b)]=_0x2d7036===_0x12b068(0x570)||_0x2d7036==='1'||_0x2d7036===_0x12b068(0x599)||_0x2d7036===_0x12b068(0x24b);}let _0x1088d4=await this[_0x12b068(0x7a6)][_0x12b068(0x64f)][_0x12b068(0x191)]({'where':{'_id':_0x2efcc6}},_0xe4e3c9,this[_0x12b068(0x388)]['wuid']);_0x1088d4?(this[_0x12b068(0x5c8)][_0x12b068(0x699)](this[_0x12b068(0x7bd)]+'\x20('+this['instance'][_0x12b068(0x680)]+_0x12b068(0x156)+_0x1088d4[_0x12b068(0x1ed)]),q(this[_0x12b068(0x7bd)],_0x12b068(0x5e6),{'chat':_0x1088d4})):this['logger'][_0x12b068(0x7ba)](this['instanceName']+'\x20('+this[_0x12b068(0x388)][_0x12b068(0x680)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x35259d){this[_0x12b068(0x5c8)][_0x12b068(0x7ba)](this[_0x12b068(0x7bd)]+'\x20('+this[_0x12b068(0x388)][_0x12b068(0x680)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x35259d instanceof Error?_0x35259d[_0x12b068(0x620)]:JSON[_0x12b068(0x7e7)](_0x35259d,null,0x2)));}}async[a0_0x46d805(0x338)](_0x4e2a92,_0x28be6b){const _0x20b2ef=a0_0x46d805;this['logger']['verbose'](this[_0x20b2ef(0x7bd)]+'\x20('+this[_0x20b2ef(0x388)][_0x20b2ef(0x680)]+_0x20b2ef(0x1f5)+_0x28be6b);try{let _0x3c30cb=await this[_0x20b2ef(0x7a6)][_0x20b2ef(0x64f)][_0x20b2ef(0x191)]({'where':{'_id':_0x4e2a92[_0x20b2ef(0x13a)]}},{'leadInfo.desativadoFluxoAte':_0x28be6b},this[_0x20b2ef(0x388)][_0x20b2ef(0x680)]);this[_0x20b2ef(0x5c8)]['verbose'](this[_0x20b2ef(0x7bd)]+'\x20('+this[_0x20b2ef(0x388)][_0x20b2ef(0x680)]+_0x20b2ef(0x47c)+_0x4e2a92[_0x20b2ef(0x1ed)]),this[_0x20b2ef(0x5c8)][_0x20b2ef(0x699)](this[_0x20b2ef(0x7bd)]+'\x20('+this[_0x20b2ef(0x388)][_0x20b2ef(0x680)]+'):\x20atualização\x20chat:\x20'+JSON[_0x20b2ef(0x7e7)](_0x3c30cb,null,0x2)),_0x3c30cb&&q(this[_0x20b2ef(0x7bd)],_0x20b2ef(0x5e6),{'chat':_0x3c30cb});}catch(_0x41d08a){this['logger'][_0x20b2ef(0x7ba)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x20b2ef(0x71a)+(_0x41d08a instanceof Error?_0x41d08a[_0x20b2ef(0x620)]:JSON[_0x20b2ef(0x7e7)](_0x41d08a,null,0x2)));}}async[a0_0x46d805(0x322)](_0x27e038){const _0x402fa0=a0_0x46d805;try{this[_0x402fa0(0x5c8)][_0x402fa0(0x699)](this[_0x402fa0(0x7bd)]+'\x20('+this[_0x402fa0(0x388)][_0x402fa0(0x680)]+'):\x20Buscando\x20flow...');let _0x3bb5dd=_0x27e038[_0x402fa0(0x1cd)](/\D/g,''),_0x54c155=this[_0x402fa0(0x53e)][_0x402fa0(0x2b5)][_0x402fa0(0x3d2)](_0x56f466=>_0x56f466[_0x402fa0(0x248)]===_0x3bb5dd);if(_0x54c155||(this[_0x402fa0(0x5c8)][_0x402fa0(0x699)](this['instanceName']+'\x20('+this[_0x402fa0(0x388)][_0x402fa0(0x680)]+_0x402fa0(0x720)),_0x54c155=this[_0x402fa0(0x53e)][_0x402fa0(0x2b5)][_0x402fa0(0x3d2)](_0xce80e7=>_0xce80e7['default']===!0x0)),!_0x54c155)return this[_0x402fa0(0x5c8)]['verbose'](this[_0x402fa0(0x7bd)]+'\x20('+this[_0x402fa0(0x388)][_0x402fa0(0x680)]+_0x402fa0(0x204)),null;let _0x5d27f8=await this['repository'][_0x402fa0(0x293)][_0x402fa0(0x104)]({'where':{'_id':_0x54c155[_0x402fa0(0x1ed)]}});if(!_0x5d27f8||!_0x5d27f8[_0x402fa0(0x837)]?.['includes'](this[_0x402fa0(0x388)]['wuid']))throw this[_0x402fa0(0x5c8)][_0x402fa0(0x7ba)](this[_0x402fa0(0x7bd)]+'\x20('+this[_0x402fa0(0x388)]['wuid']+_0x402fa0(0x81f)+_0x5d27f8[_0x402fa0(0x1ed)]+_0x402fa0(0x5b5)),new m(_0x402fa0(0x52e)+_0x5d27f8[_0x402fa0(0x1ed)]+_0x402fa0(0x5b5));return _0x5d27f8;}catch(_0x3df6b4){return this[_0x402fa0(0x5c8)]['error'](this[_0x402fa0(0x7bd)]+'\x20('+this[_0x402fa0(0x388)][_0x402fa0(0x680)]+_0x402fa0(0x525)+(_0x3df6b4 instanceof Error?_0x3df6b4[_0x402fa0(0x620)]:JSON[_0x402fa0(0x7e7)](_0x3df6b4,null,0x2))),null;}}async['findConversation'](_0x3fde0c,_0x344e31){const _0x365c41=a0_0x46d805;try{let _0xe44ed0=!!_0x344e31['vote'],_0x26ce8a=_0x344e31[_0x365c41(0x6f2)],_0x5738e0=null;if(this[_0x365c41(0x5c8)][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)][_0x365c41(0x680)]+_0x365c41(0x670)+_0xe44ed0+_0x365c41(0x814)+_0x26ce8a),_0xe44ed0){this[_0x365c41(0x5c8)][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)][_0x365c41(0x680)]+_0x365c41(0x492));let _0x1f8844={'where':{'remoteJid':_0x3fde0c,'waitingMenu_id':_0x26ce8a}};if(_0x5738e0=await this['repository'][_0x365c41(0x1b8)][_0x365c41(0x104)](_0x1f8844,this[_0x365c41(0x388)][_0x365c41(0x680)]),!_0x5738e0)return this[_0x365c41(0x5c8)]['verbose'](this[_0x365c41(0x7bd)]+'\x20('+this['instance'][_0x365c41(0x680)]+_0x365c41(0x3f0)),null;let _0x43f1c6=Date[_0x365c41(0x506)](),_0x2aca4a=_0x5738e0?.[_0x365c41(0x589)]||0x0,_0x208ca2=_0x43f1c6-_0x2aca4a*0x3c*0x3e8;if(_0x5738e0[_0x365c41(0x241)]<_0x208ca2){this[_0x365c41(0x5c8)][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)][_0x365c41(0x680)]+_0x365c41(0x3e8));let _0x54a59b={'number':_0x5738e0[_0x365c41(0x13a)],'options':{'delay':0x0},'textMessage':{'text':_0x5738e0[_0x365c41(0x690)]}};await this[_0x365c41(0x7ac)](_0x54a59b);let _0x489590={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0x365c41(0x191)](_0x5738e0[_0x365c41(0x1ed)],_0x489590,this[_0x365c41(0x388)][_0x365c41(0x680)]),null;}return _0x5738e0['lastInteraction']=Date[_0x365c41(0x506)](),_0x5738e0['chatLog']['lastReceivedMessage']=_0x344e31,_0x5738e0;}else{this['logger'][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)]['wuid']+_0x365c41(0x32d)+this['instance'][_0x365c41(0x680)]+_0x365c41(0x1f3)),this['logger'][_0x365c41(0x699)](this['instanceName']+'\x20('+this[_0x365c41(0x388)][_0x365c41(0x680)]+_0x365c41(0x728));let _0x156c97={'where':{'remoteJid':_0x3fde0c,'status':_0x365c41(0x16f)}};if(_0x5738e0=await this[_0x365c41(0x7a6)][_0x365c41(0x1b8)]['findOne'](_0x156c97,this[_0x365c41(0x388)][_0x365c41(0x680)]),!_0x5738e0){let _0x5bf8dc=await this['findFlow'](_0x3fde0c);if(_0x5bf8dc&&(_0x5738e0=await this[_0x365c41(0x7aa)](_0x5bf8dc,_0x344e31[_0x365c41(0x2da)],_0x344e31)),!_0x5738e0)return null;}let _0x2837db=Date[_0x365c41(0x506)](),_0x592d39=_0x5738e0?.[_0x365c41(0x589)]||0x0,_0x4f45ac=_0x2837db-_0x592d39*0x3c*0x3e8;if(this[_0x365c41(0x5c8)][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)][_0x365c41(0x680)]+_0x365c41(0x28c)+_0x2837db+_0x365c41(0x218)+_0x592d39+',\x20Expiration\x20Time:\x20'+_0x4f45ac),this[_0x365c41(0x5c8)][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x5738e0['lastInteraction']),this[_0x365c41(0x5c8)][_0x365c41(0x699)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)][_0x365c41(0x680)]+_0x365c41(0x4c1)+_0x4f45ac),_0x5738e0[_0x365c41(0x241)]<_0x4f45ac){this[_0x365c41(0x5c8)]['verbose'](this[_0x365c41(0x7bd)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20está\x20expirada');let _0x4195d7=await this['findFlow'](_0x3fde0c);if(_0x4195d7===null)return null;_0x5738e0&&await this[_0x365c41(0x7a6)]['flowConversation'][_0x365c41(0x191)](_0x5738e0['_id'],{'status':_0x365c41(0x357)},this[_0x365c41(0x388)][_0x365c41(0x680)]),_0x5738e0=await this[_0x365c41(0x7aa)](_0x4195d7,_0x344e31[_0x365c41(0x2da)],_0x344e31);}return _0x5738e0[_0x365c41(0x241)]=_0x2837db,_0x5738e0[_0x365c41(0x43d)]['lastReceivedMessage']=_0x344e31,_0x5738e0;}}catch(_0x65dfde){return this[_0x365c41(0x5c8)][_0x365c41(0x7ba)](this[_0x365c41(0x7bd)]+'\x20('+this[_0x365c41(0x388)][_0x365c41(0x680)]+_0x365c41(0x413)+(_0x65dfde instanceof Error?_0x65dfde[_0x365c41(0x620)]:JSON['stringify'](_0x65dfde,null,0x2))),null;}}async[a0_0x46d805(0x7aa)](_0x103cf6,_0x513fb4,_0x33dcb9){const _0x599550=a0_0x46d805;this[_0x599550(0x5c8)][_0x599550(0x699)](this[_0x599550(0x7bd)]+'\x20('+this['instance'][_0x599550(0x680)]+_0x599550(0x558));try{let _0x450150=require(_0x599550(0x790))[_0x599550(0x1aa)],_0x5ccb1e=Date['now'](),_0x550a61=_0x599550(0x276),_0x3f9584=_0x513fb4['fromMe']?null:_0x33dcb9,_0x2978ab=_0x513fb4[_0x599550(0x3ef)]?_0x33dcb9:null,_0x1957d7=_0x513fb4[_0x599550(0x13a)],_0x2f77be=this['AutomateSystem'][_0x599550(0x2b5)]['find'](_0x36deb7=>_0x36deb7[_0x599550(0x1ed)]===_0x103cf6['_id']?.[_0x599550(0x821)]()),_0x34410c=_0x2f77be?.[_0x599550(0x589)]??_0x103cf6[_0x599550(0x589)]??0x0,_0x44a4d8=_0x2f77be?.[_0x599550(0x742)]??_0x103cf6[_0x599550(0x742)]??!0x1;await this[_0x599550(0x562)](_0x1957d7);let _0xc6511f={'flowId':_0x103cf6[_0x599550(0x1ed)],..._0x103cf6,'chatLog':null},_0x403b03=await this[_0x599550(0x613)](_0xc6511f[_0x599550(0x348)]),_0x40a587=await this['getVariablesChat'](_0x1957d7),_0x20c575={..._0x403b03,..._0x40a587,'_remoteJid':_0x1957d7},_0x2da6ad={'lastReceivedMessage':_0x3f9584,'lastSendMessage':_0x2978ab,'lastBlockId':_0x550a61,'lastCondition':!0x0,'realVariables':_0x20c575};_0xc6511f['chatLog']=_0x2da6ad,delete _0xc6511f[_0x599550(0x1ed)],_0xc6511f[_0x599550(0x1ed)]=new _0x450150(),_0xc6511f[_0x599550(0x241)]=_0x5ccb1e,_0xc6511f[_0x599550(0x499)]=_0x599550(0x16f),_0xc6511f[_0x599550(0x13a)]=_0x1957d7,_0xc6511f[_0x599550(0x589)]=_0x34410c,_0xc6511f[_0x599550(0x742)]=_0x44a4d8;let _0x269188=await this[_0x599550(0x7a6)][_0x599550(0x1b8)][_0x599550(0x191)](_0xc6511f[_0x599550(0x1ed)],_0xc6511f,this[_0x599550(0x388)][_0x599550(0x680)]);return this[_0x599550(0x5c8)][_0x599550(0x699)](this['instanceName']+'\x20('+this[_0x599550(0x388)][_0x599550(0x680)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x269188?_0xc6511f:null;}catch(_0x583faa){return this[_0x599550(0x5c8)]['error'](this[_0x599550(0x7bd)]+'\x20('+this[_0x599550(0x388)][_0x599550(0x680)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x583faa instanceof Error?_0x583faa[_0x599550(0x620)]:JSON[_0x599550(0x7e7)](_0x583faa,null,0x2))),_0x583faa;}}async['uazapiSendText'](_0x34fd0a,_0x93a3ac){const _0x357ec0=a0_0x46d805;let _0x5b0947=_0x34fd0a[_0x357ec0(0x13a)];_0x93a3ac[_0x357ec0(0x748)]['remoteJid']&&_0x93a3ac['uazapi'][_0x357ec0(0x13a)][_0x357ec0(0x1f9)]()!==''&&(_0x5b0947=_0x93a3ac[_0x357ec0(0x748)]['remoteJid'][_0x357ec0(0x1f9)]()),this['logger'][_0x357ec0(0x699)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x357ec0(0x362));let _0x2c9181={'number':_0x5b0947,'options':{'delay':_0x93a3ac['uazapi'][_0x357ec0(0x190)],'linkPreview':_0x93a3ac[_0x357ec0(0x748)][_0x357ec0(0x27f)]},'textMessage':{'text':_0x93a3ac[_0x357ec0(0x748)][_0x357ec0(0x80a)]}};try{let _0x558e56=await this[_0x357ec0(0x7ac)](_0x2c9181);if(_0x558e56){let _0x318f69={'_id':_0x558e56[_0x357ec0(0x2da)]['id'],'_fromMe':_0x558e56[_0x357ec0(0x2da)]['fromMe'],'_remoteJid':_0x558e56[_0x357ec0(0x2da)][_0x357ec0(0x13a)]},_0x3cd129=(0x0,w[_0x357ec0(0x44f)])(_0x558e56[_0x357ec0(0x620)]),_0x242a8b=(0x0,w[_0x357ec0(0x497)])(_0x3cd129);_0x34fd0a[_0x357ec0(0x43d)]['lastBlockId']=_0x93a3ac[_0x357ec0(0x1ed)][_0x357ec0(0x821)]();let {message_normalized:_0x5136b2}=this[_0x357ec0(0x40f)](_0x3cd129,_0x242a8b,null);_0x34fd0a[_0x357ec0(0x43d)]['lastSendMessage']=await _0x5136b2;let _0x210708={'messageId':_0x558e56['key']['id']},_0x223d6e=_0x34fd0a['chatLog'][_0x357ec0(0x5bc)];Object[_0x357ec0(0x3d5)](_0x223d6e,_0x318f69),_0x34fd0a[_0x357ec0(0x43d)][_0x357ec0(0x5bc)]=_0x223d6e,this[_0x357ec0(0x457)](_0x34fd0a,_0x93a3ac,_0x210708);}else{let _0x2451c8={'error':!0x0};this[_0x357ec0(0x457)](_0x34fd0a,_0x93a3ac,_0x2451c8),this[_0x357ec0(0x5c8)][_0x357ec0(0x7ba)](this[_0x357ec0(0x7bd)]+'\x20('+this[_0x357ec0(0x388)]['wuid']+_0x357ec0(0x3a6));}}catch(_0x3c5213){let _0x3a93ce={'error':!0x0,'errorLog':_0x3c5213[_0x357ec0(0x821)]()};this[_0x357ec0(0x457)](_0x34fd0a,_0x93a3ac,_0x3a93ce),this[_0x357ec0(0x5c8)][_0x357ec0(0x7ba)](this[_0x357ec0(0x7bd)]+'\x20('+this['instance'][_0x357ec0(0x680)]+_0x357ec0(0x175)+(_0x3c5213 instanceof Error?_0x3c5213[_0x357ec0(0x620)]:JSON[_0x357ec0(0x7e7)](_0x3c5213,null,0x2)));}}async['uazapiSendMedia'](_0x3cb34f,_0x463967){const _0x215ae1=a0_0x46d805;let _0x42f985=_0x3cb34f['remoteJid'];_0x463967['uazapi'][_0x215ae1(0x13a)]&&_0x463967['uazapi'][_0x215ae1(0x13a)][_0x215ae1(0x1f9)]()!==''&&(_0x42f985=_0x463967[_0x215ae1(0x748)][_0x215ae1(0x13a)]['trim']()),this['logger'][_0x215ae1(0x699)](this['instanceName']+'\x20('+this[_0x215ae1(0x388)][_0x215ae1(0x680)]+_0x215ae1(0x4d3));let _0xd2c41f={'number':_0x42f985,'options':{'delay':_0x463967[_0x215ae1(0x748)][_0x215ae1(0x190)],'linkPreview':_0x463967[_0x215ae1(0x748)]['linkPreview']},'mediaMessage':{'mediatype':_0x463967[_0x215ae1(0x748)][_0x215ae1(0x235)],'caption':_0x463967[_0x215ae1(0x748)]['caption'],'media':_0x463967[_0x215ae1(0x748)][_0x215ae1(0x6eb)],'fileName':_0x463967[_0x215ae1(0x748)][_0x215ae1(0x3e4)]}};try{let _0x106584=await this[_0x215ae1(0x5db)](_0xd2c41f);if(_0x106584){let _0x32f9c9={'_id':_0x106584[_0x215ae1(0x2da)]['id'],'_fromMe':_0x106584[_0x215ae1(0x2da)][_0x215ae1(0x3ef)],'_remoteJid':_0x106584[_0x215ae1(0x2da)][_0x215ae1(0x13a)]},_0x5d856d=(0x0,w['normalizeMessageContent'])(_0x106584[_0x215ae1(0x620)]),_0x5a5707=(0x0,w['getContentType'])(_0x5d856d);_0x3cb34f['chatLog']['lastBlockId']=_0x463967[_0x215ae1(0x1ed)][_0x215ae1(0x821)]();let {message_normalized:_0x2d9ea5}=this[_0x215ae1(0x40f)](_0x5d856d,_0x5a5707,null);_0x3cb34f[_0x215ae1(0x43d)][_0x215ae1(0x17a)]=await _0x2d9ea5;let _0x482686={'messageId':_0x106584[_0x215ae1(0x2da)]['id']},_0x38c1ac=_0x3cb34f[_0x215ae1(0x43d)][_0x215ae1(0x5bc)];Object[_0x215ae1(0x3d5)](_0x38c1ac,_0x32f9c9),_0x3cb34f[_0x215ae1(0x43d)]['realVariables']=_0x38c1ac,this['updateConversation'](_0x3cb34f,_0x463967,_0x482686);}else{let _0x3da034={'error':!0x0};this[_0x215ae1(0x457)](_0x3cb34f,_0x463967,_0x3da034),this[_0x215ae1(0x5c8)][_0x215ae1(0x7ba)](this['instanceName']+'\x20('+this[_0x215ae1(0x388)][_0x215ae1(0x680)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0xaf2bce){let _0x5e2978={'error':!0x0,'errorLog':_0xaf2bce[_0x215ae1(0x821)]()};this[_0x215ae1(0x457)](_0x3cb34f,_0x463967,_0x5e2978),this[_0x215ae1(0x5c8)][_0x215ae1(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x215ae1(0x680)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0xaf2bce instanceof Error?_0xaf2bce[_0x215ae1(0x620)]:JSON[_0x215ae1(0x7e7)](_0xaf2bce,null,0x2)));}}async[a0_0x46d805(0x108)](_0x56f708,_0xd34907){const _0x400d4b=a0_0x46d805;let _0x3c8c2b=_0x56f708[_0x400d4b(0x13a)];_0xd34907[_0x400d4b(0x748)][_0x400d4b(0x13a)]&&_0xd34907[_0x400d4b(0x748)][_0x400d4b(0x13a)][_0x400d4b(0x1f9)]()!==''&&(_0x3c8c2b=_0xd34907[_0x400d4b(0x748)][_0x400d4b(0x13a)]['trim']()),this['logger'][_0x400d4b(0x699)](this[_0x400d4b(0x7bd)]+'\x20('+this[_0x400d4b(0x388)]['wuid']+_0x400d4b(0x2ef));let _0x5236b2={'number':_0x3c8c2b,'options':{'delay':_0xd34907[_0x400d4b(0x748)][_0x400d4b(0x190)]},'locationMessage':{'name':_0xd34907['uazapi'][_0x400d4b(0x73f)],'address':_0xd34907[_0x400d4b(0x748)][_0x400d4b(0x313)],'latitude':_0xd34907[_0x400d4b(0x748)][_0x400d4b(0x716)],'longitude':_0xd34907['uazapi'][_0x400d4b(0x211)]}};try{let _0x576475=await this[_0x400d4b(0x77d)](_0x5236b2);if(_0x576475){let _0x536346={'_id':_0x576475[_0x400d4b(0x2da)]['id'],'_fromMe':_0x576475[_0x400d4b(0x2da)][_0x400d4b(0x3ef)],'_remoteJid':_0x576475[_0x400d4b(0x2da)][_0x400d4b(0x13a)]},_0x250286=(0x0,w[_0x400d4b(0x44f)])(_0x576475[_0x400d4b(0x620)]),_0x3d458c=(0x0,w['getContentType'])(_0x250286);_0x56f708['chatLog']['lastBlockId']=_0xd34907[_0x400d4b(0x1ed)]['toString']();let {message_normalized:_0x4f1c72}=this[_0x400d4b(0x40f)](_0x250286,_0x3d458c,null);_0x56f708[_0x400d4b(0x43d)][_0x400d4b(0x17a)]=await _0x4f1c72;let _0x794f68={'messageId':_0x576475[_0x400d4b(0x2da)]['id']},_0xe56b90=_0x56f708['chatLog']['realVariables'];Object['assign'](_0xe56b90,_0x536346),_0x56f708['chatLog'][_0x400d4b(0x5bc)]=_0xe56b90,this['updateConversation'](_0x56f708,_0xd34907,_0x794f68);}else{let _0x13a6d5={'error':!0x0};this[_0x400d4b(0x457)](_0x56f708,_0xd34907,_0x13a6d5),this['logger'][_0x400d4b(0x7ba)](this[_0x400d4b(0x7bd)]+'\x20('+this[_0x400d4b(0x388)][_0x400d4b(0x680)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x6e85c1){let _0x4c2f9a={'error':!0x0,'errorLog':_0x6e85c1[_0x400d4b(0x821)]()};this[_0x400d4b(0x457)](_0x56f708,_0xd34907,_0x4c2f9a),this['logger'][_0x400d4b(0x7ba)](this[_0x400d4b(0x7bd)]+'\x20('+this[_0x400d4b(0x388)][_0x400d4b(0x680)]+_0x400d4b(0x74f)+(_0x6e85c1 instanceof Error?_0x6e85c1[_0x400d4b(0x620)]:JSON[_0x400d4b(0x7e7)](_0x6e85c1,null,0x2)));}}async[a0_0x46d805(0x5fb)](_0x3c7abc,_0xe3672d){const _0x13b605=a0_0x46d805;let _0x420b0d=_0x3c7abc[_0x13b605(0x13a)];_0xe3672d[_0x13b605(0x748)][_0x13b605(0x13a)]&&_0xe3672d['uazapi'][_0x13b605(0x13a)][_0x13b605(0x1f9)]()!==''&&(_0x420b0d=_0xe3672d[_0x13b605(0x748)][_0x13b605(0x13a)]['trim']()),this[_0x13b605(0x5c8)][_0x13b605(0x699)](this[_0x13b605(0x7bd)]+'\x20('+this[_0x13b605(0x388)]['wuid']+_0x13b605(0x2e2));let _0x192eda={'number':_0x420b0d,'options':{'delay':_0xe3672d[_0x13b605(0x748)][_0x13b605(0x190)]},'audioMessage':{'audio':_0xe3672d['uazapi'][_0x13b605(0x451)]}};try{let _0x56e518=await this['audioWhatsapp'](_0x192eda);if(_0x56e518){let _0x296b4c={'_id':_0x56e518[_0x13b605(0x2da)]['id'],'_fromMe':_0x56e518[_0x13b605(0x2da)]['fromMe'],'_remoteJid':_0x56e518['key'][_0x13b605(0x13a)]},_0xf00966=(0x0,w[_0x13b605(0x44f)])(_0x56e518[_0x13b605(0x620)]),_0x25a52c=(0x0,w[_0x13b605(0x497)])(_0xf00966);_0x3c7abc['chatLog'][_0x13b605(0x4be)]=_0xe3672d[_0x13b605(0x1ed)][_0x13b605(0x821)]();let {message_normalized:_0x372200}=this[_0x13b605(0x40f)](_0xf00966,_0x25a52c,null);_0x3c7abc[_0x13b605(0x43d)][_0x13b605(0x17a)]=await _0x372200;let _0x129560={'messageId':_0x56e518[_0x13b605(0x2da)]['id']},_0x50747a=_0x3c7abc[_0x13b605(0x43d)][_0x13b605(0x5bc)];Object[_0x13b605(0x3d5)](_0x50747a,_0x296b4c),_0x3c7abc[_0x13b605(0x43d)][_0x13b605(0x5bc)]=_0x50747a,this[_0x13b605(0x457)](_0x3c7abc,_0xe3672d,_0x129560);}else{let _0x9e756c={'error':!0x0};this[_0x13b605(0x457)](_0x3c7abc,_0xe3672d,_0x9e756c),this['logger']['error'](this[_0x13b605(0x7bd)]+'\x20('+this[_0x13b605(0x388)][_0x13b605(0x680)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x1a2f8f){let _0x4bd038={'error':!0x0,'errorLog':_0x1a2f8f[_0x13b605(0x821)]()};this[_0x13b605(0x457)](_0x3c7abc,_0xe3672d,_0x4bd038),this['logger']['error'](this['instanceName']+'\x20('+this[_0x13b605(0x388)]['wuid']+_0x13b605(0x2a7)+(_0x1a2f8f instanceof Error?_0x1a2f8f[_0x13b605(0x620)]:JSON[_0x13b605(0x7e7)](_0x1a2f8f,null,0x2)));}}async['uazapiSendContact'](_0x4cf1e7,_0x5abcbd){const _0x56584f=a0_0x46d805;let _0x5854cb=_0x4cf1e7['remoteJid'];_0x5abcbd[_0x56584f(0x748)][_0x56584f(0x13a)]&&_0x5abcbd['uazapi'][_0x56584f(0x13a)][_0x56584f(0x1f9)]()!==''&&(_0x5854cb=_0x5abcbd[_0x56584f(0x748)][_0x56584f(0x13a)][_0x56584f(0x1f9)]()),this[_0x56584f(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x56584f(0x388)][_0x56584f(0x680)]+'):\x20Enviando\x20contato');let _0x2c3819={'number':_0x5854cb,'options':{'delay':_0x5abcbd[_0x56584f(0x748)][_0x56584f(0x190)]},'contactMessage':[{'fullName':_0x5abcbd[_0x56584f(0x748)]['fullName'],'phoneNumber':_0x5abcbd[_0x56584f(0x748)][_0x56584f(0x6b9)]}]};try{let _0xcd7eef=await this['contactMessage'](_0x2c3819);if(_0xcd7eef){let _0x239db6={'_id':_0xcd7eef[_0x56584f(0x2da)]['id'],'_fromMe':_0xcd7eef[_0x56584f(0x2da)]['fromMe'],'_remoteJid':_0xcd7eef[_0x56584f(0x2da)][_0x56584f(0x13a)]},_0xb3685=(0x0,w[_0x56584f(0x44f)])(_0xcd7eef['message']),_0x476e8e=(0x0,w['getContentType'])(_0xb3685);_0x4cf1e7['chatLog'][_0x56584f(0x4be)]=_0x5abcbd[_0x56584f(0x1ed)]['toString']();let {message_normalized:_0x36d0a0}=this[_0x56584f(0x40f)](_0xb3685,_0x476e8e,null);_0x4cf1e7[_0x56584f(0x43d)]['lastSendMessage']=await _0x36d0a0;let _0x3caec3={'messageId':_0xcd7eef[_0x56584f(0x2da)]['id']},_0x3291b4=_0x4cf1e7['chatLog'][_0x56584f(0x5bc)];Object[_0x56584f(0x3d5)](_0x3291b4,_0x239db6),_0x4cf1e7[_0x56584f(0x43d)][_0x56584f(0x5bc)]=_0x3291b4,this[_0x56584f(0x457)](_0x4cf1e7,_0x5abcbd,_0x3caec3);}else{let _0x4875da={'error':!0x0};this[_0x56584f(0x457)](_0x4cf1e7,_0x5abcbd,_0x4875da),this[_0x56584f(0x5c8)][_0x56584f(0x7ba)](this[_0x56584f(0x7bd)]+'\x20('+this[_0x56584f(0x388)][_0x56584f(0x680)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x15067b){let _0x5da8fa={'error':!0x0,'errorLog':_0x15067b[_0x56584f(0x821)]()};this[_0x56584f(0x457)](_0x4cf1e7,_0x5abcbd,_0x5da8fa),this[_0x56584f(0x5c8)][_0x56584f(0x7ba)](this[_0x56584f(0x7bd)]+'\x20('+this[_0x56584f(0x388)][_0x56584f(0x680)]+_0x56584f(0x5c7)+(_0x15067b instanceof Error?_0x15067b[_0x56584f(0x620)]:JSON[_0x56584f(0x7e7)](_0x15067b,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x1cd436,_0x2786d1){const _0x2fbe71=a0_0x46d805;for(let _0x1440dd of _0x1cd436)_0x1440dd[_0x2fbe71(0x263)]&&(_0x1440dd[_0x2fbe71(0x263)]=this[_0x2fbe71(0x3ac)](_0x1440dd['option'],_0x2786d1)),_0x1440dd['optionDescription']&&(_0x1440dd[_0x2fbe71(0x474)]=this[_0x2fbe71(0x3ac)](_0x1440dd[_0x2fbe71(0x474)],_0x2786d1));}async[a0_0x46d805(0x11f)](_0x47a61e,_0x1fdc11){const _0x414173=a0_0x46d805;let _0x452744=_0x47a61e[_0x414173(0x13a)];_0x1fdc11[_0x414173(0x748)][_0x414173(0x13a)]&&_0x1fdc11[_0x414173(0x748)][_0x414173(0x13a)][_0x414173(0x1f9)]()!==''&&(_0x452744=_0x1fdc11[_0x414173(0x748)][_0x414173(0x13a)][_0x414173(0x1f9)]()),this[_0x414173(0x5c8)]['verbose'](this[_0x414173(0x7bd)]+'\x20('+this[_0x414173(0x388)][_0x414173(0x680)]+'):\x20Enviando\x20enquete');let _0x434098=_0x47a61e[_0x414173(0x367)][_0x414173(0x130)](_0x52b9bc=>_0x52b9bc['blockId']===_0x1fdc11[_0x414173(0x1ed)])[_0x414173(0x504)]((_0x3b92bb,_0x4a07a5)=>_0x3b92bb[_0x414173(0x734)]-_0x4a07a5[_0x414173(0x734)]);this[_0x414173(0x619)](_0x434098,_0x47a61e[_0x414173(0x43d)][_0x414173(0x5bc)]);let _0xf943ed=_0x434098[_0x414173(0x1bd)](_0x29f661=>_0x29f661[_0x414173(0x263)]),_0x3a0f38={'number':_0x452744,'menuMessage':{'type':_0x1fdc11['uazapi'][_0x414173(0x3b6)]||_0x414173(0x51f),'text':_0x1fdc11['uazapi']['text']||_0x1fdc11[_0x414173(0x748)][_0x414173(0x73f)],'footerText':_0x1fdc11[_0x414173(0x748)][_0x414173(0x635)],'buttonText':_0x1fdc11[_0x414173(0x748)][_0x414173(0x36f)],'selectableCount':0x1,'choices':_0xf943ed},'options':{'delay':_0x1fdc11[_0x414173(0x748)][_0x414173(0x190)]}};try{let _0x34663d=await this[_0x414173(0x7a5)](_0x3a0f38);if(_0x34663d){let _0x2ef4a9={'_id':_0x34663d[_0x414173(0x2da)]['id'],'_fromMe':_0x34663d[_0x414173(0x2da)][_0x414173(0x3ef)],'_remoteJid':_0x34663d[_0x414173(0x2da)][_0x414173(0x13a)]};_0x1fdc11['uazapi'][_0x414173(0x431)]===!0x0&&(_0x47a61e[_0x414173(0x499)]=_0x414173(0x179),this['logger'][_0x414173(0x699)](this['instanceName']+'\x20('+this['instance'][_0x414173(0x680)]+_0x414173(0x57b)+_0x47a61e[_0x414173(0x499)])),this['logger']['verbose'](this[_0x414173(0x7bd)]+'\x20('+this[_0x414173(0x388)][_0x414173(0x680)]+_0x414173(0x48f)+(_0x1fdc11[_0x414173(0x748)][_0x414173(0x73f)]||_0x1fdc11[_0x414173(0x748)][_0x414173(0x80a)])),_0x47a61e[_0x414173(0x227)]=_0x34663d['key']['id'],_0x47a61e['waitingMenu_text']=_0x1fdc11[_0x414173(0x748)][_0x414173(0x73f)]||_0x1fdc11[_0x414173(0x748)][_0x414173(0x80a)],_0x47a61e[_0x414173(0x4bb)]=_0x434098,_0x1fdc11[_0x414173(0x748)][_0x414173(0x1ce)]&&(_0x47a61e[_0x414173(0x690)]=_0x1fdc11[_0x414173(0x748)]['menuExpiredMessage']),this[_0x414173(0x5c8)][_0x414173(0x699)](this[_0x414173(0x7bd)]+'\x20('+this[_0x414173(0x388)][_0x414173(0x680)]+'):\x20conversation.waitingMenu_name'+_0x47a61e[_0x414173(0x40c)]);let _0x3e9312=(0x0,w[_0x414173(0x44f)])(_0x34663d['message']),_0x2a142e=(0x0,w[_0x414173(0x497)])(_0x3e9312);_0x47a61e['chatLog'][_0x414173(0x4be)]=_0x1fdc11[_0x414173(0x1ed)][_0x414173(0x821)]();let {message_normalized:_0x16f76}=this['normalizeMessage'](_0x3e9312,_0x2a142e,null);_0x47a61e[_0x414173(0x43d)][_0x414173(0x17a)]=await _0x16f76;let _0x4c4db5={'messageId':_0x34663d[_0x414173(0x2da)]['id']},_0x14b51a=_0x47a61e[_0x414173(0x43d)][_0x414173(0x5bc)];Object[_0x414173(0x3d5)](_0x14b51a,_0x2ef4a9),_0x47a61e[_0x414173(0x43d)]['realVariables']=_0x14b51a,this[_0x414173(0x457)](_0x47a61e,_0x1fdc11,_0x4c4db5);}else{let _0x1a0f66={'error':!0x0};this[_0x414173(0x457)](_0x47a61e,_0x1fdc11,_0x1a0f66),this[_0x414173(0x5c8)][_0x414173(0x7ba)](this[_0x414173(0x7bd)]+'\x20('+this[_0x414173(0x388)]['wuid']+_0x414173(0x724));}}catch(_0x38e3f8){let _0x1b6d82={'error':!0x0,'errorLog':_0x38e3f8 instanceof Error?_0x38e3f8[_0x414173(0x620)]:JSON[_0x414173(0x7e7)](_0x38e3f8,null,0x2)};this[_0x414173(0x457)](_0x47a61e,_0x1fdc11,_0x1b6d82),this['logger'][_0x414173(0x7ba)](this[_0x414173(0x7bd)]+'\x20('+this[_0x414173(0x388)][_0x414173(0x680)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x38e3f8 instanceof Error?_0x38e3f8['message']:JSON[_0x414173(0x7e7)](_0x38e3f8,null,0x2)));}}async[a0_0x46d805(0x4f7)](_0x4f570a,_0x29919d){const _0x3ba314=a0_0x46d805;this[_0x3ba314(0x5c8)][_0x3ba314(0x699)](this[_0x3ba314(0x7bd)]+'\x20('+this['instance']['wuid']+_0x3ba314(0x2db));let _0x35696f=_0x4f570a[_0x3ba314(0x43d)]['blockLogs'][_0x3ba314(0x3d2)](_0x49bb63=>_0x49bb63[_0x3ba314(0x56f)][_0x3ba314(0x821)]()===_0x29919d[_0x3ba314(0x748)][_0x3ba314(0x56f)][_0x3ba314(0x821)]()),_0x131417={'id':_0x35696f[_0x3ba314(0x684)],'remoteJid':_0x35696f['remoteJid'],'fromMe':_0x35696f['fromMe']};try{let _0x1ed292=await this[_0x3ba314(0x6f8)](_0x131417);if(_0x1ed292){let _0x456e6f=(0x0,w['normalizeMessageContent'])(_0x1ed292[_0x3ba314(0x620)]),_0x4008f4=(0x0,w[_0x3ba314(0x497)])(_0x456e6f);_0x4f570a[_0x3ba314(0x43d)][_0x3ba314(0x4be)]=_0x29919d[_0x3ba314(0x1ed)][_0x3ba314(0x821)]();let {message_normalized:_0x347cb4}=this[_0x3ba314(0x40f)](_0x456e6f,_0x4008f4,null);_0x4f570a[_0x3ba314(0x43d)][_0x3ba314(0x17a)]=await _0x347cb4;let _0x411a03={};this[_0x3ba314(0x457)](_0x4f570a,_0x29919d,_0x411a03);}else{let _0x55bc7d={'error':!0x0};this[_0x3ba314(0x457)](_0x4f570a,_0x29919d,_0x55bc7d),this[_0x3ba314(0x5c8)][_0x3ba314(0x7ba)](this[_0x3ba314(0x7bd)]+'\x20('+this['instance'][_0x3ba314(0x680)]+_0x3ba314(0x592));}}catch(_0x3770ea){let _0x45f5f9={'error':!0x0,'errorLog':_0x3770ea instanceof Error?_0x3770ea[_0x3ba314(0x620)]:JSON['stringify'](_0x3770ea,null,0x2)};this['updateConversation'](_0x4f570a,_0x29919d,_0x45f5f9),this['logger'][_0x3ba314(0x7ba)](this['instanceName']+'\x20('+this[_0x3ba314(0x388)][_0x3ba314(0x680)]+_0x3ba314(0x1a6)+(_0x3770ea instanceof Error?_0x3770ea[_0x3ba314(0x620)]:JSON[_0x3ba314(0x7e7)](_0x3770ea,null,0x2)));}}async['createFlow'](_0x5503be,_0x236300){const _0x351275=a0_0x46d805;if(_0x5503be[_0x351275(0x73f)]||(_0x5503be[_0x351275(0x73f)]=(0x0,Q['v4'])()),_0x236300!==Ii&&_0x5503be?.[_0x351275(0x183)])throw new m(_0x351275(0x137));if('_id'in _0x5503be&&_0x351275(0x237)in _0x5503be)return this['AddUserFlow'](_0x5503be[_0x351275(0x237)],_0x5503be[_0x351275(0x1ed)]);this[_0x351275(0x5c8)][_0x351275(0x699)](this[_0x351275(0x7bd)]+'\x20('+this[_0x351275(0x388)]['wuid']+_0x351275(0x6b1));let _0x77d925=this[_0x351275(0x741)](_0x5503be[_0x351275(0x73f)]),_0x3c3bfb=new we['Types'][(_0x351275(0x1aa))](),_0x140fc7={'_id':_0x3c3bfb,'default':!0x0,'title':_0x351275(0x275),'x':0x0,'y':0x0},_0xf0aa03={'_id':new we[(_0x351275(0x1b0))][(_0x351275(0x1aa))](),'order':0x1,'groupId':_0x3c3bfb[_0x351275(0x821)](),'type':_0x351275(0x276)},_0x6d0721=this[_0x351275(0x388)]['wuid'],_0x344dd2={'_id':(0x0,Q['v4'])(),'owner':_0x6d0721,'name':_0x77d925,'whoCanEdit':[_0x6d0721],'whoCanUse':[_0x6d0721],'groups':[_0x140fc7],'blocks':[_0xf0aa03],..._0x5503be};try{let _0x27e356=await this[_0x351275(0x7a6)][_0x351275(0x293)][_0x351275(0x729)](_0x344dd2);return await this[_0x351275(0x788)](),_0x27e356;}catch(_0x2d798b){let _0x2eb403=_0x351275(0x662),_0x465990=_0x2d798b instanceof Error?_0x2d798b[_0x351275(0x620)]:typeof _0x2d798b=='object'?JSON[_0x351275(0x7e7)](_0x2d798b):_0x2d798b,_0x2c91c0=_0x2eb403+':\x20'+_0x465990;throw this[_0x351275(0x5c8)][_0x351275(0x7ba)](this['instanceName']+'\x20('+this[_0x351275(0x388)][_0x351275(0x680)]+'):\x20'+_0x2c91c0),new m(_0x2c91c0);}}async[a0_0x46d805(0x648)](_0x4c2550,_0x4cf8d9){const _0x8f38d2=a0_0x46d805;try{this[_0x8f38d2(0x5c8)][_0x8f38d2(0x699)](this[_0x8f38d2(0x7bd)]+'\x20('+this[_0x8f38d2(0x388)][_0x8f38d2(0x680)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x48e3fe=await this['repository'][_0x8f38d2(0x293)][_0x8f38d2(0x104)]({'where':{'_id':_0x4cf8d9,'owner':_0x4c2550}});if(!_0x48e3fe)throw new m(_0x8f38d2(0x799));if(_0x48e3fe[_0x8f38d2(0x187)]===!0x1&&!_0x48e3fe[_0x8f38d2(0x183)])throw new m(_0x8f38d2(0x4e9));let _0x1895fa=new Set(_0x48e3fe[_0x8f38d2(0x837)]??[]);_0x1895fa['add'](this[_0x8f38d2(0x388)]['wuid']);let _0x5cf25e=await this['repository'][_0x8f38d2(0x293)][_0x8f38d2(0x191)](_0x4cf8d9,{..._0x48e3fe,'whoCanUse':Array[_0x8f38d2(0x59f)](_0x1895fa)});return await this[_0x8f38d2(0x788)](),_0x5cf25e;}catch(_0x346d42){let _0x4c9c0c='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x2a14f4=_0x346d42 instanceof Error?_0x346d42[_0x8f38d2(0x620)]:typeof _0x346d42==_0x8f38d2(0x1a3)?JSON[_0x8f38d2(0x7e7)](_0x346d42):_0x346d42,_0x188761=_0x4c9c0c+':\x20'+_0x2a14f4;throw this['logger'][_0x8f38d2(0x7ba)](this[_0x8f38d2(0x7bd)]+'\x20('+this['instance']['wuid']+_0x8f38d2(0x32d)+_0x188761),new m(_0x188761);}}[a0_0x46d805(0x741)](_0x4d2af3){const _0xcc0601=a0_0x46d805;let _0x8a149f=_0x4d2af3,_0x383893=0x1;for(;this[_0xcc0601(0x53e)][_0xcc0601(0x2b5)]['some'](_0x33a4ba=>_0x33a4ba['name']===_0x8a149f);)_0x383893++,_0x8a149f=_0x4d2af3+'\x20('+_0x383893+')';return _0x8a149f;}async['deleteFlow'](_0x43827a){const _0x2244a1=a0_0x46d805;try{if(this[_0x2244a1(0x5c8)]['verbose'](this[_0x2244a1(0x7bd)]+'\x20('+this[_0x2244a1(0x388)][_0x2244a1(0x680)]+_0x2244a1(0x1b9)+_0x43827a[_0x2244a1(0x1ed)]+_0x2244a1(0x3cc)+_0x43827a['global']),!this[_0x2244a1(0x53e)]['flows'][_0x2244a1(0x3d2)](_0x2ce6bd=>_0x2ce6bd[_0x2244a1(0x1ed)]===_0x43827a['_id']))throw this[_0x2244a1(0x5c8)][_0x2244a1(0x699)](this[_0x2244a1(0x7bd)]+'\x20('+this[_0x2244a1(0x388)][_0x2244a1(0x680)]+'):\x20Fluxo\x20\x27'+_0x43827a[_0x2244a1(0x1ed)]+_0x2244a1(0x660)),new m(_0x2244a1(0x62e));let _0x5b31d=await this[_0x2244a1(0x7a6)][_0x2244a1(0x293)][_0x2244a1(0x104)]({'where':{'_id':_0x43827a[_0x2244a1(0x1ed)]}});if(!_0x5b31d)throw new m(_0x2244a1(0x475));if(this[_0x2244a1(0x388)][_0x2244a1(0x680)]===_0x5b31d[_0x2244a1(0x237)]){this[_0x2244a1(0x5c8)][_0x2244a1(0x699)](this[_0x2244a1(0x7bd)]+'\x20('+this[_0x2244a1(0x388)]['wuid']+_0x2244a1(0x131)+_0x43827a['_id']+_0x2244a1(0x26f));let _0x5b28db=await this[_0x2244a1(0x7a6)]['flow'][_0x2244a1(0x1b5)]({'where':{'_id':_0x43827a[_0x2244a1(0x1ed)]}});return await this['synchronizeAndMapFlows'](),_0x5b28db;}return this[_0x2244a1(0x5c8)][_0x2244a1(0x699)](this[_0x2244a1(0x7bd)]+'\x20('+this['instance'][_0x2244a1(0x680)]+'):\x20Removendo\x20\x27'+this[_0x2244a1(0x388)][_0x2244a1(0x680)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x43827a['_id']+_0x2244a1(0x52a)),_0x5b31d[_0x2244a1(0x837)]=(_0x5b31d[_0x2244a1(0x837)]??[])[_0x2244a1(0x130)](_0x10e533=>_0x10e533!==this[_0x2244a1(0x388)][_0x2244a1(0x680)]),_0x5b31d[_0x2244a1(0x142)]=(_0x5b31d[_0x2244a1(0x142)]??[])[_0x2244a1(0x130)](_0x27e72f=>_0x27e72f!==this[_0x2244a1(0x388)][_0x2244a1(0x680)]),_0x5b31d[_0x2244a1(0x142)][_0x2244a1(0x47a)]===0x0&&_0x5b31d['whoCanUse'][_0x2244a1(0x47a)]>0x0&&(_0x5b31d[_0x2244a1(0x142)][_0x2244a1(0x70b)](_0x5b31d[_0x2244a1(0x837)][0x0]),this[_0x2244a1(0x5c8)][_0x2244a1(0x699)](this[_0x2244a1(0x7bd)]+'\x20('+this[_0x2244a1(0x388)][_0x2244a1(0x680)]+_0x2244a1(0x3b1)+_0x5b31d[_0x2244a1(0x837)][0x0]+_0x2244a1(0x571)+_0x43827a[_0x2244a1(0x1ed)]+_0x2244a1(0x52a))),await this[_0x2244a1(0x7a6)][_0x2244a1(0x293)][_0x2244a1(0x191)](_0x5b31d[_0x2244a1(0x1ed)],_0x5b31d),await this[_0x2244a1(0x788)](),{'message':'Fluxo\x20\x27'+_0x43827a[_0x2244a1(0x73f)]+_0x2244a1(0x188)};}catch(_0x4680a8){return this[_0x2244a1(0x5c8)][_0x2244a1(0x7ba)](this[_0x2244a1(0x7bd)]+'\x20('+this[_0x2244a1(0x388)][_0x2244a1(0x680)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x4680a8 instanceof Error?_0x4680a8[_0x2244a1(0x620)]:JSON['stringify'](_0x4680a8,null,0x2))),{'message':_0x2244a1(0x134)+(_0x4680a8 instanceof Error?_0x4680a8[_0x2244a1(0x620)]:JSON[_0x2244a1(0x7e7)](_0x4680a8,null,0x2))};}}async[a0_0x46d805(0x5da)](_0x2be6b9){const _0xf0e688=a0_0x46d805;try{if(this[_0xf0e688(0x5c8)][_0xf0e688(0x5bb)](this[_0xf0e688(0x7bd)]+'\x20('+this[_0xf0e688(0x388)][_0xf0e688(0x680)]+_0xf0e688(0x702)+_0x2be6b9),!this[_0xf0e688(0x53e)]&&(await this['getAutomateSystem'](),!this[_0xf0e688(0x53e)]))return null;let _0x506a4f=await this[_0xf0e688(0x7a6)][_0xf0e688(0x293)][_0xf0e688(0x104)]({'where':{'_id':_0x2be6b9}});if(!_0x506a4f)throw new m(_0xf0e688(0x6dd)+_0x2be6b9+_0xf0e688(0xff));if(!(_0x506a4f[_0xf0e688(0x183)]||_0x506a4f['whoCanUse']?.[_0xf0e688(0x7ff)](this[_0xf0e688(0x388)]['wuid'])))throw new m(_0xf0e688(0x422)+name+'\x27');_0x506a4f[_0xf0e688(0x183)]&&!_0x506a4f[_0xf0e688(0x837)]?.[_0xf0e688(0x7ff)](this[_0xf0e688(0x388)][_0xf0e688(0x680)])&&(_0x506a4f['whoCanUse']=[..._0x506a4f[_0xf0e688(0x837)]??[],this['instance'][_0xf0e688(0x680)]],await this[_0xf0e688(0x7a6)][_0xf0e688(0x293)][_0xf0e688(0x191)](_0x506a4f[_0xf0e688(0x1ed)],_0x506a4f),this[_0xf0e688(0x788)]());let _0x30ba47=this[_0xf0e688(0x53e)]?.['customFields'][_0xf0e688(0x1bd)](_0x275427=>_0x275427[_0xf0e688(0x73f)]),_0x5235ad=[_0xf0e688(0x7c6),_0xf0e688(0x1d4),_0xf0e688(0x704),_0xf0e688(0x32c),'status',_0xf0e688(0x560),_0xf0e688(0x59b),_0xf0e688(0x56c),_0xf0e688(0x75e),_0xf0e688(0x198),_0xf0e688(0x1e8)];_0x506a4f[_0xf0e688(0x348)]=_0x506a4f[_0xf0e688(0x348)][_0xf0e688(0x130)](_0x5ed9c0=>!(_0x5ed9c0['folder']===_0xf0e688(0x5fa)||_0x5ed9c0[_0xf0e688(0x5fa)])),_0x5235ad['forEach'](_0xecf840=>{_0x506a4f['variables']['push']({'folder':'leadInfo','name':_0xecf840,'value':'','doc':'','leadInfo':!0x0});}),_0x30ba47[_0xf0e688(0x1db)](_0xd939f=>{const _0x50a92d=_0xf0e688;let _0x12446d=_0x506a4f[_0x50a92d(0x348)]['findIndex'](_0xa8106f=>_0xa8106f[_0x50a92d(0x73f)]===_0xd939f);_0x12446d===-0x1?_0x506a4f[_0x50a92d(0x348)][_0x50a92d(0x70b)]({'folder':_0x50a92d(0x5fa),'name':_0xd939f,'value':'','doc':'','leadInfo':!0x0}):(_0x506a4f[_0x50a92d(0x348)][_0x12446d][_0x50a92d(0x67b)]='leadInfo',_0x506a4f[_0x50a92d(0x348)][_0x12446d]['leadInfo']=!0x0);}),_0x506a4f[_0xf0e688(0x29a)]&&_0x506a4f[_0xf0e688(0x29a)]['length']>0x0&&_0x506a4f[_0xf0e688(0x29a)][_0xf0e688(0x1db)](_0x4d89aa=>{const _0x1b019d=_0xf0e688;_0x4d89aa['groupId']&&_0x4d89aa[_0x1b019d(0x1fb)]&&_0x4d89aa[_0x1b019d(0x68f)]===_0x4d89aa[_0x1b019d(0x1fb)]&&(_0x4d89aa[_0x1b019d(0x1fb)]=null);});let _0x4c6988=await this[_0xf0e688(0x7a6)][_0xf0e688(0x293)][_0xf0e688(0x191)](_0x506a4f[_0xf0e688(0x1ed)],_0x506a4f);if(!_0x4c6988)throw new Error(_0xf0e688(0x462));return _0x4c6988;}catch(_0x450876){let _0x1d2c67=_0xf0e688(0x4d9),_0x3d483d=_0x450876 instanceof Error?_0x450876[_0xf0e688(0x620)]:typeof _0x450876==_0xf0e688(0x1a3)?JSON[_0xf0e688(0x7e7)](_0x450876):_0x450876,_0x5c2663=_0x1d2c67+':\x20'+_0x3d483d;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xf0e688(0x388)]['wuid']+_0xf0e688(0x32d)+_0x5c2663),new m(_0x5c2663);}}async[a0_0x46d805(0x467)](){const _0x4ddde0=a0_0x46d805;try{this[_0x4ddde0(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x4ddde0(0x388)][_0x4ddde0(0x680)]+_0x4ddde0(0x597)),await this[_0x4ddde0(0x788)]();let _0x1f0361=await this['repository']['flow']['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x4ddde0(0x53e)][_0x4ddde0(0x2b5)],..._0x1f0361];}catch(_0x4f4878){return this[_0x4ddde0(0x5c8)]['error'](this[_0x4ddde0(0x7bd)]+'\x20('+this[_0x4ddde0(0x388)][_0x4ddde0(0x680)]+_0x4ddde0(0x7c8)+(_0x4f4878 instanceof Error?_0x4f4878[_0x4ddde0(0x620)]:JSON[_0x4ddde0(0x7e7)](_0x4f4878,null,0x2))),{'message':_0x4ddde0(0x7f2)+(_0x4f4878 instanceof Error?_0x4f4878[_0x4ddde0(0x620)]:String(_0x4f4878))};}}async[a0_0x46d805(0x11a)](_0x387615,_0x41bfaf){const _0x2e6342=a0_0x46d805;try{this[_0x2e6342(0x5c8)][_0x2e6342(0x699)](this[_0x2e6342(0x7bd)]+'\x20('+this[_0x2e6342(0x388)][_0x2e6342(0x680)]+_0x2e6342(0x32a));let _0x39d938=this[_0x2e6342(0x53e)][_0x2e6342(0x2b5)][_0x2e6342(0x3d2)](_0x426cbe=>_0x426cbe[_0x2e6342(0x1ed)]===_0x387615[_0x2e6342(0x1ed)]);if(!_0x39d938)throw this[_0x2e6342(0x5c8)]['verbose'](this[_0x2e6342(0x7bd)]+'\x20('+this[_0x2e6342(0x388)][_0x2e6342(0x680)]+_0x2e6342(0x6ba)+_0x387615[_0x2e6342(0x1ed)]+_0x2e6342(0x660)),new m(_0x2e6342(0x62e));let _0x2263b0=await this['repository'][_0x2e6342(0x293)][_0x2e6342(0x104)]({'where':{'_id':_0x387615['_id']}});if(!_0x2263b0||!_0x2263b0[_0x2e6342(0x837)]?.[_0x2e6342(0x7ff)](this['instance'][_0x2e6342(0x680)]))throw this[_0x2e6342(0x5c8)][_0x2e6342(0x7ba)](this[_0x2e6342(0x7bd)]+'\x20('+this[_0x2e6342(0x388)]['wuid']+'):\x20Flow\x20\x27'+_0x387615[_0x2e6342(0x1ed)]+_0x2e6342(0x5b5)),new m('Flow\x20\x27'+_0x387615['_id']+_0x2e6342(0x5b5));let _0xed1c4c=this[_0x2e6342(0x53e)][_0x2e6342(0x2b5)][_0x2e6342(0x230)](_0x261fd7=>_0x261fd7['_id']===_0x39d938['_id']);if(_0xed1c4c!==-0x1){let _0x2fec9f=this[_0x2e6342(0x53e)][_0x2e6342(0x2b5)][_0xed1c4c];if(_0x2fec9f[_0x2e6342(0x73f)]=_0x387615['name']??_0x2fec9f[_0x2e6342(0x73f)],_0x2fec9f['default']=_0x387615['default']??_0x2fec9f[_0x2e6342(0x6ef)],_0x2fec9f['testingWith']=_0x387615[_0x2e6342(0x248)]??_0x2fec9f['testingWith'],_0x2fec9f[_0x2e6342(0x7e2)]=_0x387615[_0x2e6342(0x48e)]??_0x2fec9f[_0x2e6342(0x7e2)],_0x2fec9f[_0x2e6342(0x589)]=_0x387615['minutesToClose']??_0x2fec9f[_0x2e6342(0x589)],_0x2fec9f[_0x2e6342(0x742)]=_0x387615[_0x2e6342(0x742)]??_0x2fec9f[_0x2e6342(0x742)],_0x387615['default']&&this[_0x2e6342(0x53e)][_0x2e6342(0x2b5)][_0x2e6342(0x1db)]((_0xa09f65,_0x3d0717)=>{const _0x464a59=_0x2e6342;_0x3d0717!==_0xed1c4c&&(_0xa09f65[_0x464a59(0x6ef)]=!0x1);}),this['AutomateSystem'][_0x2e6342(0x2b5)][_0xed1c4c]=_0x2fec9f,!await this[_0x2e6342(0x7a6)][_0x2e6342(0x7bc)][_0x2e6342(0x5a5)]({'flows':this[_0x2e6342(0x53e)][_0x2e6342(0x2b5)]},this[_0x2e6342(0x388)]['wuid']))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x2c00d2=[_0x2e6342(0x33c),_0x2e6342(0x1c2),_0x2e6342(0x5dd),_0x2e6342(0x10b)];for(let _0x13c8c6 of _0x2c00d2)delete _0x387615[_0x13c8c6];if(_0x2263b0['whoCanEdit']?.[_0x2e6342(0x7ff)](this[_0x2e6342(0x388)][_0x2e6342(0x680)])||(_0x387615={'_id':_0x387615['_id']}),_0x41bfaf!==Ii&&_0x387615?.[_0x2e6342(0x183)]&&!_0x2263b0?.[_0x2e6342(0x183)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x38cb10=new Set(_0x387615['whoCanEdit']??_0x2263b0['whoCanEdit']);_0x38cb10[_0x2e6342(0x70c)](_0x2263b0['owner']);let _0x1cdf00=new Set(_0x387615[_0x2e6342(0x837)]??_0x2263b0[_0x2e6342(0x837)]??[]);_0x38cb10[_0x2e6342(0x1db)](_0x1cfaf4=>_0x1cdf00['add'](_0x1cfaf4)),_0x1cdf00[_0x2e6342(0x70c)](_0x2263b0['owner']),this['logger'][_0x2e6342(0x699)](this['instanceName']+'\x20('+this[_0x2e6342(0x388)][_0x2e6342(0x680)]+_0x2e6342(0x4bd)+Array[_0x2e6342(0x59f)](_0x38cb10)),this['logger'][_0x2e6342(0x699)](this[_0x2e6342(0x7bd)]+'\x20('+this[_0x2e6342(0x388)][_0x2e6342(0x680)]+_0x2e6342(0x5ec)+Array['from'](_0x1cdf00));let _0x540300=await this[_0x2e6342(0x333)](Array[_0x2e6342(0x59f)](_0x1cdf00)),_0x403bc8=Array[_0x2e6342(0x59f)](_0x38cb10)[_0x2e6342(0x130)](_0x412377=>_0x540300[_0x2e6342(0x7ff)](_0x412377)),_0x3b4a9e=Array[_0x2e6342(0x59f)](_0x1cdf00)[_0x2e6342(0x130)](_0x5ba431=>_0x540300[_0x2e6342(0x7ff)](_0x5ba431));this['logger'][_0x2e6342(0x699)](this[_0x2e6342(0x7bd)]+'\x20('+this[_0x2e6342(0x388)][_0x2e6342(0x680)]+_0x2e6342(0x617)+_0x403bc8),this[_0x2e6342(0x5c8)][_0x2e6342(0x699)](this[_0x2e6342(0x7bd)]+'\x20('+this[_0x2e6342(0x388)][_0x2e6342(0x680)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x3b4a9e);let _0x42c59e={..._0x2263b0,..._0x387615,'whoCanEdit':_0x403bc8,'whoCanUse':_0x3b4a9e},_0x21554e=await this[_0x2e6342(0x7a6)][_0x2e6342(0x293)][_0x2e6342(0x191)](_0x2263b0[_0x2e6342(0x1ed)],_0x42c59e);return await this[_0x2e6342(0x788)](),_0x21554e;}catch(_0x2afb6d){let _0xbf064e=_0x2e6342(0x67d),_0x29e37c=_0x2afb6d instanceof Error?_0x2afb6d['message']:typeof _0x2afb6d=='object'?JSON[_0x2e6342(0x7e7)](_0x2afb6d):_0x2afb6d,_0x52b477=_0xbf064e+':\x20'+_0x29e37c;throw this[_0x2e6342(0x5c8)][_0x2e6342(0x7ba)](this[_0x2e6342(0x7bd)]+'\x20('+this[_0x2e6342(0x388)][_0x2e6342(0x680)]+_0x2e6342(0x32d)+_0x52b477),new m(_0x52b477);}}async[a0_0x46d805(0x333)](_0x53fafd){const _0x2bcd56=a0_0x46d805;let _0x1d402a={'numbers':_0x53fafd};return(await this[_0x2bcd56(0x342)](_0x1d402a))[_0x2bcd56(0x130)](_0x32cbc6=>_0x32cbc6[_0x2bcd56(0x1f4)])[_0x2bcd56(0x1bd)](_0x51d51d=>_0x51d51d[_0x2bcd56(0x7f6)])[_0x2bcd56(0x1bd)](_0x3e9573=>this[_0x2bcd56(0x4a6)](_0x3e9573));}[a0_0x46d805(0x4a6)](_0x25a25c){const _0x24bc02=a0_0x46d805;let _0x57b40d=_0x25a25c[_0x24bc02(0x21d)](/\d+/);return _0x57b40d?_0x57b40d[0x0]:'';}async[a0_0x46d805(0x385)](_0x1a1130){const _0x55d46f=a0_0x46d805;try{if(this[_0x55d46f(0x5c8)][_0x55d46f(0x699)](this[_0x55d46f(0x7bd)]+'\x20('+this[_0x55d46f(0x388)]['wuid']+_0x55d46f(0x4e8)),!this[_0x55d46f(0x53e)]['flows'][_0x55d46f(0x3d2)](_0x1d64bf=>_0x1d64bf['_id']===_0x1a1130[_0x55d46f(0x1ed)]))throw this[_0x55d46f(0x5c8)][_0x55d46f(0x699)](this[_0x55d46f(0x7bd)]+'\x20('+this[_0x55d46f(0x388)][_0x55d46f(0x680)]+_0x55d46f(0x6ba)+_0x1a1130[_0x55d46f(0x1ed)]+_0x55d46f(0x660)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x16dfcf=await this[_0x55d46f(0x7a6)][_0x55d46f(0x293)][_0x55d46f(0x104)]({'where':{'_id':_0x1a1130[_0x55d46f(0x1ed)]}});if(!_0x16dfcf||!_0x16dfcf[_0x55d46f(0x837)]?.['includes'](this[_0x55d46f(0x388)][_0x55d46f(0x680)]))throw this[_0x55d46f(0x5c8)][_0x55d46f(0x7ba)](this[_0x55d46f(0x7bd)]+'\x20('+this[_0x55d46f(0x388)]['wuid']+_0x55d46f(0x81f)+_0x1a1130[_0x55d46f(0x1ed)]+_0x55d46f(0x5b5)),new m(_0x55d46f(0x52e)+_0x1a1130[_0x55d46f(0x1ed)]+_0x55d46f(0x5b5));if(!_0x16dfcf[_0x55d46f(0x142)]?.[_0x55d46f(0x7ff)](this[_0x55d46f(0x388)][_0x55d46f(0x680)]))throw new m(_0x55d46f(0x201));let {block:_0x1ba584}=_0x1a1130;_0x1ba584?.[_0x55d46f(0x53b)]?this[_0x55d46f(0x472)](_0x16dfcf,_0x1a1130):_0x1ba584?.[_0x55d46f(0x835)]?this[_0x55d46f(0x365)](_0x16dfcf,_0x1a1130):_0x1ba584['_id']?await this[_0x55d46f(0x1f7)](_0x16dfcf,_0x1a1130):this[_0x55d46f(0x4e6)](_0x16dfcf,_0x1a1130);let _0x2ddf3c=await this[_0x55d46f(0x7a6)][_0x55d46f(0x293)][_0x55d46f(0x191)](_0x16dfcf['_id'],_0x16dfcf);if(!_0x2ddf3c)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2ddf3c;}catch(_0x4acf3d){this[_0x55d46f(0x50e)](_0x55d46f(0x561)+_0x4acf3d[_0x55d46f(0x620)]);}}async[a0_0x46d805(0x472)](_0x6619b4,_0x2c3fc4){const _0x11613e=a0_0x46d805;let _0x678f9b=_0x2c3fc4['block'][_0x11613e(0x1ed)],_0xc1bffa=_0x6619b4[_0x11613e(0x29a)][_0x11613e(0x3d2)](_0x286852=>_0x286852[_0x11613e(0x1ed)][_0x11613e(0x821)]()===_0x678f9b);if(!_0xc1bffa){this[_0x11613e(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x11613e(0x388)][_0x11613e(0x680)]+'):\x20Bloco\x20com\x20ID\x20'+_0x678f9b+_0x11613e(0x82e));return;}this['logger']['verbose'](this[_0x11613e(0x7bd)]+'\x20('+this[_0x11613e(0x388)][_0x11613e(0x680)]+_0x11613e(0x69b)+JSON[_0x11613e(0x7e7)](_0xc1bffa));let _0x5c12f2=JSON['parse'](JSON[_0x11613e(0x7e7)](_0xc1bffa));_0x5c12f2[_0x11613e(0x1ed)]=new we[(_0x11613e(0x6ef))][(_0x11613e(0x1b0))][(_0x11613e(0x1aa))](),this[_0x11613e(0x5c8)][_0x11613e(0x699)](this['instanceName']+'\x20('+this[_0x11613e(0x388)][_0x11613e(0x680)]+_0x11613e(0x59d)+JSON[_0x11613e(0x7e7)](_0x5c12f2)),_0x6619b4[_0x11613e(0x29a)][_0x11613e(0x70b)](_0x5c12f2),this[_0x11613e(0x58f)](_0x6619b4['blocks'],_0x5c12f2[_0x11613e(0x68f)]);}['throwAndLogError'](_0x574c78){const _0x3a32a9=a0_0x46d805;throw this[_0x3a32a9(0x5c8)][_0x3a32a9(0x7ba)](this[_0x3a32a9(0x7bd)]+'\x20('+this[_0x3a32a9(0x388)][_0x3a32a9(0x680)]+_0x3a32a9(0x32d)+_0x574c78),new m(_0x574c78);}[a0_0x46d805(0x365)](_0x3327d9,_0x479f82){const _0x51551f=a0_0x46d805;let {block:_0x305259}=_0x479f82;if(_0x305259[_0x51551f(0x319)]===_0x51551f(0x276)){this[_0x51551f(0x50e)](_0x51551f(0x455));return;}if(!_0x305259['_id']){this[_0x51551f(0x50e)](_0x51551f(0x42f));return;}let _0x1a7b33=_0x3327d9[_0x51551f(0x29a)]['find'](_0xd33dce=>_0xd33dce['_id'][_0x51551f(0x821)]()===_0x479f82['block'][_0x51551f(0x1ed)]['toString']());if(!_0x1a7b33){this[_0x51551f(0x50e)]('Bloco\x20com\x20ID\x20'+_0x305259[_0x51551f(0x1ed)]+_0x51551f(0x83a));return;}_0x3327d9[_0x51551f(0x29a)]=_0x3327d9['blocks'][_0x51551f(0x130)](_0x484019=>_0x484019[_0x51551f(0x1ed)][_0x51551f(0x821)]()!==_0x479f82['block'][_0x51551f(0x1ed)]['toString']()),_0x3327d9[_0x51551f(0x4dc)]=_0x3327d9[_0x51551f(0x4dc)][_0x51551f(0x130)](_0x33966a=>_0x33966a[_0x51551f(0x56f)]!==_0x305259[_0x51551f(0x1ed)][_0x51551f(0x821)]()),_0x3327d9[_0x51551f(0x44d)]=_0x3327d9[_0x51551f(0x44d)][_0x51551f(0x130)](_0x6a4672=>_0x6a4672[_0x51551f(0x56f)]!==_0x305259[_0x51551f(0x1ed)]['toString']()),_0x3327d9[_0x51551f(0x367)]=_0x3327d9['replyOptions'][_0x51551f(0x130)](_0x290e84=>_0x290e84[_0x51551f(0x56f)]!==_0x305259[_0x51551f(0x1ed)]['toString']()),this[_0x51551f(0x58f)](_0x3327d9[_0x51551f(0x29a)],_0x1a7b33[_0x51551f(0x68f)]);}async[a0_0x46d805(0x1f7)](_0x29b615,_0x10ae49){const _0x2a511b=a0_0x46d805;let _0x59e9b6=_0x29b615['blocks'][_0x2a511b(0x230)](_0x35e95f=>_0x35e95f[_0x2a511b(0x1ed)][_0x2a511b(0x821)]()===_0x10ae49[_0x2a511b(0x627)][_0x2a511b(0x1ed)][_0x2a511b(0x821)]());if(this[_0x2a511b(0x5c8)][_0x2a511b(0x699)](this[_0x2a511b(0x7bd)]+'\x20('+this['instance'][_0x2a511b(0x680)]+_0x2a511b(0x3a2)+_0x59e9b6),_0x59e9b6===-0x1){this[_0x2a511b(0x5c8)][_0x2a511b(0x699)](_0x2a511b(0x750)+_0x10ae49[_0x2a511b(0x627)][_0x2a511b(0x1ed)]+_0x2a511b(0x526));return;}if(_0x29b615[_0x2a511b(0x29a)][_0x59e9b6]['type']==='start'){let _0x5dc396=Object['keys'](_0x10ae49[_0x2a511b(0x627)]);if(_0x5dc396[_0x2a511b(0x47a)]>0x2||_0x5dc396['length']===0x2&&!_0x5dc396['includes'](_0x2a511b(0x1fb))){this[_0x2a511b(0x50e)](_0x2a511b(0x484));return;}}let _0x1d5d43=_0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x68f)];for(let _0x5a0c27 in _0x10ae49[_0x2a511b(0x627)])_0x10ae49[_0x2a511b(0x627)][_0x2a511b(0x2d2)](_0x5a0c27)&&(_0x29b615['blocks'][_0x59e9b6][_0x5a0c27]=_0x10ae49[_0x2a511b(0x627)][_0x5a0c27]);if(this[_0x2a511b(0x5c8)]['verbose'](this[_0x2a511b(0x7bd)]+'\x20('+this['instance'][_0x2a511b(0x680)]+_0x2a511b(0x463)+JSON[_0x2a511b(0x7e7)](_0x29b615['blocks'][_0x59e9b6])),_0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)]&&_0x2a511b(0x4c0)in _0x29b615['blocks'][_0x59e9b6]['apirequest']){this['logger'][_0x2a511b(0x699)](this[_0x2a511b(0x7bd)]+'\x20('+this['instance'][_0x2a511b(0x680)]+_0x2a511b(0x34e));let _0x3d7ed4=JSON[_0x2a511b(0x7e7)](_0x29b615[_0x2a511b(0x29a)][_0x59e9b6]['apirequest'][_0x2a511b(0x4c0)],null,0x1);_0x3d7ed4[_0x2a511b(0x47a)]>0x2&&(_0x3d7ed4=_0x3d7ed4[_0x2a511b(0x106)](0x1,_0x3d7ed4['length']-0x1)[_0x2a511b(0x1f9)]()),_0x29b615[_0x2a511b(0x29a)][_0x59e9b6]['apirequest'][_0x2a511b(0x45e)]=_0x3d7ed4;}if(_0x29b615['blocks'][_0x59e9b6]['apirequest']&&_0x2a511b(0x7fc)in _0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)]&&!(_0x2a511b(0x5b9)in _0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)])){this[_0x2a511b(0x5c8)]['verbose'](this[_0x2a511b(0x7bd)]+'\x20('+this[_0x2a511b(0x388)][_0x2a511b(0x680)]+_0x2a511b(0x60c)),_0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)][_0x2a511b(0x718)]=!0x1;let _0x45def7=JSON[_0x2a511b(0x7e7)](_0x29b615['blocks'][_0x59e9b6][_0x2a511b(0x336)][_0x2a511b(0x7fc)],null,0x2);_0x29b615['blocks'][_0x59e9b6][_0x2a511b(0x336)]['bodyString']=_0x45def7;}if(_0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)]&&_0x2a511b(0x5b9)in _0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)]){_0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)]['bodyStringErrorParse']=!0x1;let _0x3ce08a=_0x29b615[_0x2a511b(0x29a)][_0x59e9b6]['apirequest'][_0x2a511b(0x5b9)],_0x371580=this[_0x2a511b(0x6ea)](_0x3ce08a);_0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x336)]['bodyString']=_0x371580[_0x2a511b(0x282)],_0x29b615['blocks'][_0x59e9b6][_0x2a511b(0x336)][_0x2a511b(0x718)]=_0x371580[_0x2a511b(0x7ba)];}let _0x318d57=_0x29b615[_0x2a511b(0x29a)][_0x59e9b6][_0x2a511b(0x68f)];_0x1d5d43!==_0x318d57?(this[_0x2a511b(0x58f)](_0x29b615[_0x2a511b(0x29a)],_0x1d5d43),this[_0x2a511b(0x58f)](_0x29b615[_0x2a511b(0x29a)],_0x318d57)):this[_0x2a511b(0x58f)](_0x29b615['blocks'],_0x1d5d43);}[a0_0x46d805(0x6ea)](_0x2986d5){const _0x292625=a0_0x46d805;let _0x389754='\u205f',_0x334e7e=!0x1,_0x226b1e='';for(let _0x2a9a2f=0x0;_0x2a9a2f<_0x2986d5[_0x292625(0x47a)];_0x2a9a2f++){let _0x5103dc=_0x2986d5[_0x2a9a2f];_0x5103dc==='\x22'&&(_0x2a9a2f===0x0||_0x2986d5[_0x2a9a2f-0x1]!=='\x5c')&&(_0x334e7e=!_0x334e7e),!(!_0x334e7e&&(_0x5103dc==='\x0a'||_0x5103dc==='\x20'||_0x5103dc===_0x389754))&&(_0x226b1e+=_0x5103dc);}let _0x136141={},_0xab6b35=9876543210.1234,_0x32519f=_0x226b1e['replace'](/\{\{([^}]+)\}\}/g,_0x366b73=>{let _0x3dafbd=_0x366b73,_0x1d0f55=''+_0xab6b35;return _0x136141[_0x1d0f55]=_0x3dafbd,_0xab6b35+=0.0001,_0x1d0f55;}),_0x3beb41='',_0x1bbdfa=!0x1;try{let _0x573bad=JSON[_0x292625(0x473)](_0x32519f);_0x3beb41=JSON['stringify'](_0x573bad,null,0x2),_0x3beb41=_0x3beb41[_0x292625(0x1cd)](/\n( +)/g,(_0x174401,_0x23fb48)=>{const _0x30b5c1=_0x292625;let _0x2575d5=_0x23fb48[_0x30b5c1(0x47a)];return'\x0a'+_0x389754[_0x30b5c1(0x22e)](_0x2575d5*0x2);}),_0x3beb41=_0x3beb41[_0x292625(0x1cd)](/(\d{10,}\.\d+)/g,_0x3117bc=>_0x136141[_0x3117bc]||_0x3117bc);}catch(_0x4a2baf){this[_0x292625(0x5c8)][_0x292625(0x7ba)](_0x292625(0x711)+_0x4a2baf),_0x3beb41=_0x2986d5,_0x1bbdfa=!0x0;}return{'result':_0x3beb41,'error':_0x1bbdfa};}[a0_0x46d805(0x4e6)](_0x29f1ee,_0x42d263){const _0x5ac334=a0_0x46d805;if(_0x42d263[_0x5ac334(0x627)][_0x5ac334(0x319)]==='start'){this[_0x5ac334(0x50e)](_0x5ac334(0x708));return;}if(_0x42d263[_0x5ac334(0x627)][_0x5ac334(0x336)]&&_0x5ac334(0x4c0)in _0x42d263['block'][_0x5ac334(0x336)]){this[_0x5ac334(0x5c8)][_0x5ac334(0x699)](this[_0x5ac334(0x7bd)]+'\x20('+this['instance']['wuid']+_0x5ac334(0x34e));let _0x50c788=JSON[_0x5ac334(0x7e7)](_0x42d263[_0x5ac334(0x627)][_0x5ac334(0x336)]['header'],null,0x1);_0x50c788[_0x5ac334(0x47a)]>0x2&&(_0x50c788=_0x50c788[_0x5ac334(0x106)](0x1,_0x50c788['length']-0x1)[_0x5ac334(0x1f9)]()),_0x42d263[_0x5ac334(0x627)][_0x5ac334(0x336)]['headerString']=_0x50c788;}_0x42d263[_0x5ac334(0x627)]['apirequest']&&'body'in _0x42d263[_0x5ac334(0x627)]['apirequest']&&(this[_0x5ac334(0x5c8)][_0x5ac334(0x699)](this['instanceName']+'\x20('+this[_0x5ac334(0x388)][_0x5ac334(0x680)]+_0x5ac334(0x60c)),_0x42d263[_0x5ac334(0x627)][_0x5ac334(0x336)][_0x5ac334(0x5b9)]=JSON[_0x5ac334(0x7e7)](_0x42d263['block'][_0x5ac334(0x336)]['body'],null,0x1)[_0x5ac334(0x1f9)]()),_0x29f1ee[_0x5ac334(0x29a)][_0x5ac334(0x70b)](_0x42d263[_0x5ac334(0x627)]),this[_0x5ac334(0x58f)](_0x29f1ee[_0x5ac334(0x29a)],_0x42d263[_0x5ac334(0x627)][_0x5ac334(0x68f)]);}[a0_0x46d805(0x58f)](_0x57fc81,_0x381b39){const _0x4b010c=a0_0x46d805;let _0x54f782=_0x57fc81[_0x4b010c(0x130)](_0x32bbfa=>_0x32bbfa[_0x4b010c(0x68f)]===_0x381b39);_0x54f782[_0x4b010c(0x504)]((_0x23d7d0,_0x568155)=>_0x23d7d0[_0x4b010c(0x734)]-_0x568155[_0x4b010c(0x734)]),_0x54f782[_0x4b010c(0x1db)]((_0xd48dd9,_0x50a1c4)=>_0xd48dd9[_0x4b010c(0x734)]=_0x50a1c4+0x1);}async[a0_0x46d805(0x332)](_0x26f445){const _0x37219c=a0_0x46d805;try{if(this[_0x37219c(0x5c8)]['verbose'](this[_0x37219c(0x7bd)]+'\x20('+this[_0x37219c(0x388)][_0x37219c(0x680)]+'):\x20Editando\x20replyOption...'),!_0x26f445||!_0x26f445[_0x37219c(0x614)]){this[_0x37219c(0x50e)]('Data\x20inválida\x20fornecida');return;}if(!this[_0x37219c(0x53e)][_0x37219c(0x2b5)][_0x37219c(0x3d2)](_0xa0a981=>_0xa0a981[_0x37219c(0x1ed)]===_0x26f445[_0x37219c(0x1ed)]))throw this[_0x37219c(0x5c8)][_0x37219c(0x699)](this[_0x37219c(0x7bd)]+'\x20('+this[_0x37219c(0x388)][_0x37219c(0x680)]+_0x37219c(0x6ba)+_0x26f445[_0x37219c(0x1ed)]+_0x37219c(0x660)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x37c5e4=await this[_0x37219c(0x7a6)][_0x37219c(0x293)]['findOne']({'where':{'_id':_0x26f445['_id']}});if(!_0x37c5e4||!_0x37c5e4['whoCanUse']?.['includes'](this[_0x37219c(0x388)][_0x37219c(0x680)]))throw this[_0x37219c(0x5c8)][_0x37219c(0x7ba)](this['instanceName']+'\x20('+this[_0x37219c(0x388)][_0x37219c(0x680)]+_0x37219c(0x81f)+_0x26f445[_0x37219c(0x1ed)]+_0x37219c(0x5b5)),new m(_0x37219c(0x52e)+_0x26f445[_0x37219c(0x1ed)]+_0x37219c(0x5b5));if(!_0x37c5e4['whoCanEdit']?.[_0x37219c(0x7ff)](this[_0x37219c(0x388)][_0x37219c(0x680)]))throw new m(_0x37219c(0x201));let {replyOption:_0x1ec7c0}=_0x26f445;_0x1ec7c0?.[_0x37219c(0x835)]?(this[_0x37219c(0x4e7)](_0x37c5e4,_0x26f445),this[_0x37219c(0x325)](_0x37c5e4[_0x37219c(0x367)],_0x26f445[_0x37219c(0x614)]['blockId'])):_0x1ec7c0[_0x37219c(0x1ed)]?(await this[_0x37219c(0x399)](_0x37c5e4,_0x26f445),this[_0x37219c(0x325)](_0x37c5e4[_0x37219c(0x367)],_0x26f445[_0x37219c(0x614)][_0x37219c(0x56f)])):(this[_0x37219c(0x378)](_0x37c5e4,_0x26f445),this[_0x37219c(0x325)](_0x37c5e4['replyOptions'],_0x26f445[_0x37219c(0x614)][_0x37219c(0x56f)]));let _0x42698c=await this[_0x37219c(0x7a6)]['flow']['updateOne'](_0x37c5e4[_0x37219c(0x1ed)],_0x37c5e4);if(!_0x42698c)throw new Error(_0x37219c(0x462));return _0x42698c;}catch(_0x51fb2f){this[_0x37219c(0x50e)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x51fb2f);}}[a0_0x46d805(0x325)](_0x436b11,_0x319328){const _0x3f6dd5=a0_0x46d805;_0x436b11[_0x3f6dd5(0x1db)](_0x52b2f6=>{const _0x190130=_0x3f6dd5;_0x52b2f6[_0x190130(0x56f)]===_0x319328&&_0x52b2f6[_0x190130(0x734)]===void 0x0&&(_0x52b2f6[_0x190130(0x734)]=0x270f);});let _0x427b8c=_0x436b11[_0x3f6dd5(0x130)](_0x8b02a8=>_0x8b02a8[_0x3f6dd5(0x56f)]===_0x319328);_0x427b8c[_0x3f6dd5(0x504)]((_0x26089a,_0x4d468b)=>_0x26089a['order']-_0x4d468b[_0x3f6dd5(0x734)]),_0x427b8c[_0x3f6dd5(0x1db)]((_0x14650b,_0xd7a18b)=>{const _0x38eb3f=_0x3f6dd5;_0x14650b[_0x38eb3f(0x734)]=_0xd7a18b+0x1;}),_0x436b11[_0x3f6dd5(0x1db)](_0x5060f1=>{const _0x5bac64=_0x3f6dd5;if(_0x5060f1['blockId']===_0x319328){let _0x2a8375=_0x427b8c['find'](_0x64f7f=>_0x64f7f[_0x5bac64(0x1ed)]&&_0x5060f1[_0x5bac64(0x1ed)]&&_0x64f7f[_0x5bac64(0x1ed)][_0x5bac64(0x821)]()===_0x5060f1[_0x5bac64(0x1ed)][_0x5bac64(0x821)]());_0x2a8375&&(_0x5060f1[_0x5bac64(0x734)]=_0x2a8375[_0x5bac64(0x734)]);}});}[a0_0x46d805(0x4e7)](_0x902fb,_0x297a1b){const _0x55a021=a0_0x46d805;let {replyOption:_0x1745a5}=_0x297a1b;if(!_0x1745a5[_0x55a021(0x1ed)]){this[_0x55a021(0x50e)](_0x55a021(0x7cd));return;}if(!_0x902fb[_0x55a021(0x367)][_0x55a021(0x3d2)](_0x2df972=>_0x2df972[_0x55a021(0x1ed)][_0x55a021(0x821)]()===_0x297a1b['replyOption'][_0x55a021(0x1ed)]['toString']())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x1745a5['_id']+_0x55a021(0x83a));return;}_0x902fb[_0x55a021(0x367)]=_0x902fb[_0x55a021(0x367)][_0x55a021(0x130)](_0xb4ea4d=>_0xb4ea4d[_0x55a021(0x1ed)][_0x55a021(0x821)]()!==_0x297a1b[_0x55a021(0x614)]['_id'][_0x55a021(0x821)]());}async['updateReplyOption'](_0x2fa702,_0x2bdc00){const _0x56c31d=a0_0x46d805;let _0x5a303f=_0x2fa702['replyOptions'][_0x56c31d(0x230)](_0x4ec5dc=>_0x4ec5dc[_0x56c31d(0x1ed)][_0x56c31d(0x821)]()===_0x2bdc00['replyOption'][_0x56c31d(0x1ed)][_0x56c31d(0x821)]());if(_0x5a303f===-0x1){this['throwAndLogError'](_0x56c31d(0x7b1)+_0x2bdc00[_0x56c31d(0x614)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x456d49 in _0x2bdc00[_0x56c31d(0x614)])_0x2bdc00[_0x56c31d(0x614)][_0x56c31d(0x2d2)](_0x456d49)&&(_0x2fa702['replyOptions'][_0x5a303f][_0x456d49]=_0x2bdc00['replyOption'][_0x456d49]);}[a0_0x46d805(0x378)](_0x44f024,_0x228f63){const _0x3c66f7=a0_0x46d805;_0x44f024[_0x3c66f7(0x367)][_0x3c66f7(0x70b)](_0x228f63['replyOption']);}async['editFlowGroup'](_0x526efa){const _0x373426=a0_0x46d805;this['logger'][_0x373426(0x699)](this[_0x373426(0x7bd)]+'\x20('+this[_0x373426(0x388)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0x373426(0x7e7)](_0x526efa,null,0x2));try{if(this[_0x373426(0x5c8)]['verbose'](this[_0x373426(0x7bd)]+'\x20('+this['instance'][_0x373426(0x680)]+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x373426(0x53e)]['flows']['find'](_0x3b4b41=>_0x3b4b41[_0x373426(0x1ed)]===_0x526efa[_0x373426(0x1ed)]))throw this[_0x373426(0x5c8)][_0x373426(0x699)](this[_0x373426(0x7bd)]+'\x20('+this[_0x373426(0x388)]['wuid']+_0x373426(0x6ba)+_0x526efa['_id']+_0x373426(0x660)),new m(_0x373426(0x62e));let _0x1a7501=await this[_0x373426(0x7a6)][_0x373426(0x293)]['findOne']({'where':{'_id':_0x526efa[_0x373426(0x1ed)]}});if(!_0x1a7501||!_0x1a7501[_0x373426(0x837)]?.[_0x373426(0x7ff)](this['instance'][_0x373426(0x680)]))throw this[_0x373426(0x5c8)][_0x373426(0x7ba)](this[_0x373426(0x7bd)]+'\x20('+this['instance'][_0x373426(0x680)]+'):\x20Flow\x20\x27'+_0x526efa[_0x373426(0x1ed)]+_0x373426(0x5b5)),new m('Flow\x20\x27'+_0x526efa[_0x373426(0x1ed)]+_0x373426(0x5b5));if(!_0x1a7501['whoCanEdit']?.[_0x373426(0x7ff)](this[_0x373426(0x388)][_0x373426(0x680)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x526efa[_0x373426(0x60d)]&&_0x526efa[_0x373426(0x60d)]?.[_0x373426(0x835)]===!0x0){if(this['logger'][_0x373426(0x699)](this['instanceName']+'\x20('+this[_0x373426(0x388)][_0x373426(0x680)]+_0x373426(0x48b)),_0x526efa['group']['default']===!0x0)return{'message':_0x373426(0x74e)};if(_0x1a7501['blocks'][_0x373426(0x2c0)](_0x576942=>_0x576942[_0x373426(0x68f)][_0x373426(0x821)]()===_0x526efa[_0x373426(0x60d)][_0x373426(0x1ed)]))return this[_0x373426(0x5c8)][_0x373426(0x699)](this['instanceName']+'\x20('+this[_0x373426(0x388)][_0x373426(0x680)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x1a7501[_0x373426(0x381)]=_0x1a7501[_0x373426(0x381)][_0x373426(0x130)](_0x25a28d=>_0x25a28d[_0x373426(0x1ed)][_0x373426(0x821)]()!==_0x526efa[_0x373426(0x60d)][_0x373426(0x1ed)]);}else{if(_0x526efa[_0x373426(0x60d)]){if(_0x526efa['group'][_0x373426(0x6ef)]===!0x0)return{'message':_0x373426(0x291)};if(_0x526efa[_0x373426(0x60d)][_0x373426(0x1ed)]){let _0x297802=_0x1a7501['groups'][_0x373426(0x3d2)](_0x1d5ce0=>_0x1d5ce0[_0x373426(0x1ed)][_0x373426(0x821)]()===_0x526efa['group'][_0x373426(0x1ed)]);_0x297802&&(_0x526efa['group']['x']<0x0&&(_0x526efa[_0x373426(0x60d)]['x']=0x0),_0x526efa[_0x373426(0x60d)]['y']<0x0&&(_0x526efa[_0x373426(0x60d)]['y']=0x0),Object['assign'](_0x297802,_0x526efa[_0x373426(0x60d)]));}else _0x1a7501['groups']['push'](_0x526efa[_0x373426(0x60d)]);}}let _0x5c44ef=await this[_0x373426(0x7a6)]['flow'][_0x373426(0x191)](_0x1a7501['_id'],_0x1a7501);if(!_0x5c44ef)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5c44ef;}catch(_0x28dd7e){let _0x26bd06='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x9e4f9a=_0x28dd7e instanceof Error?_0x28dd7e[_0x373426(0x620)]:typeof _0x28dd7e==_0x373426(0x1a3)?JSON[_0x373426(0x7e7)](_0x28dd7e):_0x28dd7e,_0x3229b9=_0x26bd06+':\x20'+_0x9e4f9a;throw this[_0x373426(0x5c8)][_0x373426(0x7ba)](this[_0x373426(0x7bd)]+'\x20('+this[_0x373426(0x388)][_0x373426(0x680)]+_0x373426(0x32d)+_0x3229b9),new m(_0x3229b9);}}async[a0_0x46d805(0x79d)](_0x308fc2){const _0x22ff03=a0_0x46d805;try{if(this[_0x22ff03(0x5c8)][_0x22ff03(0x699)](this[_0x22ff03(0x7bd)]+'\x20('+this[_0x22ff03(0x388)][_0x22ff03(0x680)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this[_0x22ff03(0x53e)][_0x22ff03(0x2b5)][_0x22ff03(0x3d2)](_0x55984e=>_0x55984e[_0x22ff03(0x1ed)]===_0x308fc2['_id']))throw this[_0x22ff03(0x5c8)][_0x22ff03(0x699)](this['instanceName']+'\x20('+this[_0x22ff03(0x388)][_0x22ff03(0x680)]+_0x22ff03(0x6ba)+_0x308fc2['_id']+_0x22ff03(0x660)),new m(_0x22ff03(0x62e));let _0x2c3775=await this[_0x22ff03(0x7a6)]['flow'][_0x22ff03(0x104)]({'where':{'_id':_0x308fc2[_0x22ff03(0x1ed)]}});if(!_0x2c3775||!_0x2c3775['whoCanUse']?.['includes'](this[_0x22ff03(0x388)][_0x22ff03(0x680)]))throw this[_0x22ff03(0x5c8)][_0x22ff03(0x7ba)](this[_0x22ff03(0x7bd)]+'\x20('+this[_0x22ff03(0x388)][_0x22ff03(0x680)]+_0x22ff03(0x81f)+_0x308fc2[_0x22ff03(0x1ed)]+_0x22ff03(0x5b5)),new m(_0x22ff03(0x52e)+_0x308fc2[_0x22ff03(0x1ed)]+_0x22ff03(0x5b5));if(!_0x2c3775[_0x22ff03(0x142)]?.[_0x22ff03(0x7ff)](this[_0x22ff03(0x388)]['wuid']))throw new m(_0x22ff03(0x201));let _0xf2f623=!0x1;if(_0x308fc2[_0x22ff03(0x326)]?.['delete']===!0x0)_0x2c3775['conditions']=_0x2c3775[_0x22ff03(0x4dc)][_0x22ff03(0x130)](_0x2bdf5d=>_0x2bdf5d&&_0x308fc2[_0x22ff03(0x326)]&&_0x2bdf5d[_0x22ff03(0x1ed)]&&_0x308fc2['condition'][_0x22ff03(0x1ed)]&&_0x2bdf5d[_0x22ff03(0x1ed)][_0x22ff03(0x821)]()!==_0x308fc2[_0x22ff03(0x326)][_0x22ff03(0x1ed)]['toString']()),_0xf2f623=!0x0;else{let _0x158195=_0x2c3775[_0x22ff03(0x4dc)]['find'](_0x554b92=>_0x554b92&&_0x308fc2['condition']&&_0x554b92[_0x22ff03(0x1ed)]&&_0x308fc2[_0x22ff03(0x326)]['_id']&&_0x554b92['_id'][_0x22ff03(0x821)]()===_0x308fc2[_0x22ff03(0x326)][_0x22ff03(0x1ed)][_0x22ff03(0x821)]());_0x158195?(_0xf2f623=_0x158195[_0x22ff03(0x734)]!==_0x308fc2['condition']['order'],Object[_0x22ff03(0x3d5)](_0x158195,_0x308fc2[_0x22ff03(0x326)])):(_0x2c3775['conditions'][_0x22ff03(0x70b)](_0x308fc2['condition']),_0xf2f623=!0x0);}if(_0xf2f623){_0x2c3775[_0x22ff03(0x4dc)]['sort']((_0x16ac83,_0x1a3d59)=>_0x16ac83[_0x22ff03(0x734)]>_0x1a3d59[_0x22ff03(0x734)]?0x1:_0x1a3d59['order']>_0x16ac83[_0x22ff03(0x734)]?-0x1:0x0);for(let _0x5e58f9=0x0;_0x5e58f9<_0x2c3775[_0x22ff03(0x4dc)][_0x22ff03(0x47a)];_0x5e58f9++)_0x2c3775['conditions'][_0x5e58f9]['order']=_0x5e58f9+0x1;_0x2c3775['conditions']['length']>0x0&&(_0x2c3775[_0x22ff03(0x4dc)][0x0]['OrAnd']=_0x22ff03(0x25e));}let _0x42b6b8=await this[_0x22ff03(0x7a6)][_0x22ff03(0x293)][_0x22ff03(0x191)](_0x2c3775[_0x22ff03(0x1ed)],_0x2c3775);if(!_0x42b6b8)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x42b6b8;}catch(_0x2c4f5b){let _0xdec5d5=_0x22ff03(0x66f),_0x5b10e0=_0x2c4f5b instanceof Error?_0x2c4f5b['message']:typeof _0x2c4f5b==_0x22ff03(0x1a3)?JSON[_0x22ff03(0x7e7)](_0x2c4f5b):_0x2c4f5b,_0x5ad0e9=_0xdec5d5+':\x20'+_0x5b10e0;throw this[_0x22ff03(0x5c8)][_0x22ff03(0x7ba)](this['instanceName']+'\x20('+this[_0x22ff03(0x388)]['wuid']+_0x22ff03(0x32d)+_0x5ad0e9),new m(_0x5ad0e9);}}async['editFlowVaredit'](_0x2f707d){const _0x16fdd2=a0_0x46d805;try{if(this['logger'][_0x16fdd2(0x699)](this[_0x16fdd2(0x7bd)]+'\x20('+this[_0x16fdd2(0x388)][_0x16fdd2(0x680)]+_0x16fdd2(0x314)),!this[_0x16fdd2(0x53e)][_0x16fdd2(0x2b5)][_0x16fdd2(0x3d2)](_0x245e9c=>_0x245e9c[_0x16fdd2(0x1ed)]===_0x2f707d[_0x16fdd2(0x1ed)]))throw this[_0x16fdd2(0x5c8)][_0x16fdd2(0x699)](this[_0x16fdd2(0x7bd)]+'\x20('+this['instance'][_0x16fdd2(0x680)]+_0x16fdd2(0x6ba)+_0x2f707d[_0x16fdd2(0x1ed)]+_0x16fdd2(0x660)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4a5e17=await this['repository'][_0x16fdd2(0x293)][_0x16fdd2(0x104)]({'where':{'_id':_0x2f707d['_id']}});if(!_0x4a5e17||!_0x4a5e17[_0x16fdd2(0x837)]?.[_0x16fdd2(0x7ff)](this[_0x16fdd2(0x388)][_0x16fdd2(0x680)]))throw this[_0x16fdd2(0x5c8)][_0x16fdd2(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x16fdd2(0x680)]+_0x16fdd2(0x81f)+_0x2f707d[_0x16fdd2(0x1ed)]+_0x16fdd2(0x5b5)),new m(_0x16fdd2(0x52e)+_0x2f707d['_id']+_0x16fdd2(0x5b5));if(!_0x4a5e17[_0x16fdd2(0x142)]?.[_0x16fdd2(0x7ff)](this[_0x16fdd2(0x388)][_0x16fdd2(0x680)]))throw new m(_0x16fdd2(0x201));let _0x40cc85=!0x1;if(_0x2f707d[_0x16fdd2(0x5d9)]?.['delete']===!0x0)_0x4a5e17[_0x16fdd2(0x44d)]=_0x4a5e17['varedits'][_0x16fdd2(0x130)](_0xb36a87=>_0xb36a87&&_0x2f707d[_0x16fdd2(0x5d9)]&&_0xb36a87['_id']&&_0x2f707d[_0x16fdd2(0x5d9)]['_id']&&_0xb36a87[_0x16fdd2(0x1ed)][_0x16fdd2(0x821)]()!==_0x2f707d[_0x16fdd2(0x5d9)][_0x16fdd2(0x1ed)]['toString']()),_0x40cc85=!0x0;else{let _0x4ff804=_0x4a5e17['varedits'][_0x16fdd2(0x3d2)](_0x8abfd6=>_0x8abfd6&&_0x2f707d[_0x16fdd2(0x5d9)]&&_0x8abfd6[_0x16fdd2(0x1ed)]&&_0x2f707d['varedit'][_0x16fdd2(0x1ed)]&&_0x8abfd6[_0x16fdd2(0x1ed)][_0x16fdd2(0x821)]()===_0x2f707d[_0x16fdd2(0x5d9)][_0x16fdd2(0x1ed)][_0x16fdd2(0x821)]());_0x4ff804?(_0x40cc85=_0x4ff804[_0x16fdd2(0x734)]!==_0x2f707d['varedit'][_0x16fdd2(0x734)],Object[_0x16fdd2(0x3d5)](_0x4ff804,_0x2f707d[_0x16fdd2(0x5d9)])):(_0x4a5e17[_0x16fdd2(0x44d)][_0x16fdd2(0x70b)](_0x2f707d[_0x16fdd2(0x5d9)]),_0x40cc85=!0x0);}if(_0x40cc85){_0x4a5e17[_0x16fdd2(0x44d)][_0x16fdd2(0x504)]((_0xe1cd7b,_0x5a7a3f)=>_0xe1cd7b['order']>_0x5a7a3f[_0x16fdd2(0x734)]?0x1:_0x5a7a3f[_0x16fdd2(0x734)]>_0xe1cd7b[_0x16fdd2(0x734)]?-0x1:0x0);for(let _0x52f38a=0x0;_0x52f38a<_0x4a5e17['varedits'][_0x16fdd2(0x47a)];_0x52f38a++)_0x4a5e17['varedits'][_0x52f38a][_0x16fdd2(0x734)]=_0x52f38a+0x1;}let _0x5bd181=await this[_0x16fdd2(0x7a6)]['flow'][_0x16fdd2(0x191)](_0x4a5e17[_0x16fdd2(0x1ed)],_0x4a5e17);if(!_0x5bd181)throw new Error(_0x16fdd2(0x462));return _0x5bd181;}catch(_0x192297){let _0x420e7f='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x1459fa=_0x192297 instanceof Error?_0x192297[_0x16fdd2(0x620)]:typeof _0x192297=='object'?JSON[_0x16fdd2(0x7e7)](_0x192297):_0x192297,_0x4080de=_0x420e7f+':\x20'+_0x1459fa;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x16fdd2(0x388)][_0x16fdd2(0x680)]+'):\x20'+_0x4080de),new m(_0x4080de);}}async['editFlowVariable'](_0x22be05){const _0xf78672=a0_0x46d805;try{if(this[_0xf78672(0x5c8)]['verbose'](this[_0xf78672(0x7bd)]+'\x20('+this[_0xf78672(0x388)][_0xf78672(0x680)]+_0xf78672(0x3c7)),!this[_0xf78672(0x53e)][_0xf78672(0x2b5)][_0xf78672(0x3d2)](_0x9b738d=>_0x9b738d[_0xf78672(0x1ed)]===_0x22be05['_id']))throw this[_0xf78672(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0xf78672(0x388)][_0xf78672(0x680)]+_0xf78672(0x6ba)+_0x22be05[_0xf78672(0x1ed)]+_0xf78672(0x660)),new m(_0xf78672(0x62e));let _0x54a2a8=await this['repository']['flow'][_0xf78672(0x104)]({'where':{'_id':_0x22be05[_0xf78672(0x1ed)]}});if(!_0x54a2a8||!_0x54a2a8['whoCanUse']?.[_0xf78672(0x7ff)](this[_0xf78672(0x388)][_0xf78672(0x680)]))throw this[_0xf78672(0x5c8)]['error'](this[_0xf78672(0x7bd)]+'\x20('+this[_0xf78672(0x388)][_0xf78672(0x680)]+_0xf78672(0x81f)+_0x22be05['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xf78672(0x52e)+_0x22be05[_0xf78672(0x1ed)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x54a2a8[_0xf78672(0x142)]?.[_0xf78672(0x7ff)](this['instance'][_0xf78672(0x680)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0x22be05[_0xf78672(0x552)][_0xf78672(0x73f)]=_0x22be05[_0xf78672(0x552)][_0xf78672(0x73f)]['trim'](),_0x22be05[_0xf78672(0x552)]['name'][_0xf78672(0x109)]('_')&&(_0x22be05['variable'][_0xf78672(0x73f)]=_0x22be05['variable'][_0xf78672(0x73f)][_0xf78672(0x106)](0x1)),_0x22be05[_0xf78672(0x552)][_0xf78672(0x73f)]=_0x22be05['variable'][_0xf78672(0x73f)][_0xf78672(0x1f9)]();let _0x158960=_0x54a2a8[_0xf78672(0x348)]['find'](_0x151f89=>_0x151f89[_0xf78672(0x73f)]===_0x22be05['variable']['name']);if(_0x158960?.['leadInfo']===!0x0)throw new Error(_0xf78672(0x527));if(_0x22be05['variable']?.[_0xf78672(0x835)]===!0x0){if(!_0x158960)return{'message':'Variável\x20não\x20encontrada!'};_0x54a2a8[_0xf78672(0x348)]=_0x54a2a8[_0xf78672(0x348)][_0xf78672(0x130)](_0xb44257=>_0xb44257[_0xf78672(0x73f)]!==_0x22be05[_0xf78672(0x552)][_0xf78672(0x73f)]);}else _0x158960?Object[_0xf78672(0x3d5)](_0x158960,_0x22be05[_0xf78672(0x552)]):_0x54a2a8[_0xf78672(0x348)][_0xf78672(0x70b)](_0x22be05[_0xf78672(0x552)]);let _0x7a71c3=await this[_0xf78672(0x7a6)][_0xf78672(0x293)][_0xf78672(0x191)](_0x54a2a8[_0xf78672(0x1ed)],_0x54a2a8);if(!_0x7a71c3)throw new Error(_0xf78672(0x462));return _0x7a71c3;}catch(_0x1ad179){let _0x4baa0b=_0xf78672(0x7de),_0x2f032b=_0x1ad179 instanceof Error?_0x1ad179['message']:typeof _0x1ad179==_0xf78672(0x1a3)?JSON[_0xf78672(0x7e7)](_0x1ad179):_0x1ad179,_0x4354cf=_0x4baa0b+':\x20'+_0x2f032b;throw this[_0xf78672(0x5c8)][_0xf78672(0x7ba)](this[_0xf78672(0x7bd)]+'\x20('+this[_0xf78672(0x388)]['wuid']+'):\x20'+_0x4354cf),new m(_0x4354cf);}}async[a0_0x46d805(0x116)](_0x362369){const _0x58fd3b=a0_0x46d805;let _0x352a56=null;try{if(!this[_0x58fd3b(0x53e)]?.['flowConfig']['enabled'])throw new m(_0x58fd3b(0x41c));this[_0x58fd3b(0x5c8)][_0x58fd3b(0x699)](this['instanceName']+'\x20('+this[_0x58fd3b(0x388)]['wuid']+'):\x20Iniciando\x20bot...');let _0x18c5e2=(await this[_0x58fd3b(0x342)]({'numbers':[_0x362369[_0x58fd3b(0x13a)]]}))[0x0];if(!_0x18c5e2[_0x58fd3b(0x1f4)]&&!(0x0,w['isJidGroup'])(_0x18c5e2[_0x58fd3b(0x7f6)])&&!_0x18c5e2['jid'][_0x58fd3b(0x7ff)](_0x58fd3b(0x267)))throw _0x352a56=JSON[_0x58fd3b(0x7e7)](_0x18c5e2,null,0x2),new m(_0x18c5e2);let _0x2071bc;if(_0x362369[_0x58fd3b(0x73f)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x58fd3b(0x1e0)](_0x362369[_0x58fd3b(0x73f)])?_0x2071bc=this['AutomateSystem']['flows'][_0x58fd3b(0x3d2)](_0x446522=>_0x446522['_id']===_0x362369[_0x58fd3b(0x73f)]):_0x2071bc=this[_0x58fd3b(0x53e)]['flows']['find'](_0x32830c=>_0x32830c[_0x58fd3b(0x73f)]===_0x362369[_0x58fd3b(0x73f)]),!_0x2071bc)throw this[_0x58fd3b(0x5c8)][_0x58fd3b(0x699)](this['instanceName']+'\x20('+this[_0x58fd3b(0x388)][_0x58fd3b(0x680)]+_0x58fd3b(0x6ba)+_0x362369[_0x58fd3b(0x73f)]+_0x58fd3b(0x660)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x53d03e=await this[_0x58fd3b(0x7a6)][_0x58fd3b(0x293)][_0x58fd3b(0x104)]({'where':{'_id':_0x2071bc[_0x58fd3b(0x1ed)]}});if(!_0x53d03e||!_0x53d03e[_0x58fd3b(0x837)]?.['includes'](this[_0x58fd3b(0x388)]['wuid']))throw this[_0x58fd3b(0x5c8)][_0x58fd3b(0x7ba)](this[_0x58fd3b(0x7bd)]+'\x20('+this[_0x58fd3b(0x388)]['wuid']+'):\x20Flow\x20\x27'+_0x2071bc[_0x58fd3b(0x1ed)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x352a56='Flow\x20\x27'+_0x2071bc[_0x58fd3b(0x1ed)]+_0x58fd3b(0x5b5),new m(_0x352a56);let _0x1f8931=await this['createConversationforStartFlow'](_0x53d03e,_0x18c5e2['jid'],_0x362369[_0x58fd3b(0x5ae)]);if(_0x1f8931){this[_0x58fd3b(0x5c8)]['verbose'](this[_0x58fd3b(0x7bd)]+'\x20('+this[_0x58fd3b(0x388)]['wuid']+_0x58fd3b(0x14c));let _0x40fff3=await this[_0x58fd3b(0x801)](_0x1f8931);return _0x40fff3&&await this[_0x58fd3b(0x676)](_0x1f8931,_0x40fff3),{'message':'Flow\x20iniciado\x20com\x20'+_0x362369[_0x58fd3b(0x13a)]};}}catch(_0x498a9d){if(this['logger'][_0x58fd3b(0x7ba)](this['instanceName']+'\x20('+this[_0x58fd3b(0x388)][_0x58fd3b(0x680)]+_0x58fd3b(0x76e)+(_0x498a9d instanceof Error?_0x498a9d['message']:JSON[_0x58fd3b(0x7e7)](_0x498a9d,null,0x2))),_0x352a56=_0x498a9d instanceof Error?_0x498a9d[_0x58fd3b(0x620)]:JSON[_0x58fd3b(0x7e7)](_0x498a9d,null,0x2),_0x352a56)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x352a56);}}async['startFlowWebhook'](_0x5b9108,_0x49b466,_0x1b6cbc){const _0x3be763=a0_0x46d805;let _0x5a4e0e=null;try{if(!this[_0x3be763(0x53e)]?.[_0x3be763(0x559)][_0x3be763(0x2b6)])throw new m(_0x3be763(0x41c));if(this['logger'][_0x3be763(0x699)](this['instanceName']+'\x20('+this[_0x3be763(0x388)][_0x3be763(0x680)]+_0x3be763(0x285)),_0x49b466){let _0x5e0c76=(await this[_0x3be763(0x342)]({'numbers':[_0x49b466]}))[0x0];if(!_0x5e0c76[_0x3be763(0x1f4)]&&!(0x0,w[_0x3be763(0x722)])(_0x5e0c76[_0x3be763(0x7f6)])&&!_0x5e0c76[_0x3be763(0x7f6)]['includes'](_0x3be763(0x267)))throw _0x5a4e0e=JSON[_0x3be763(0x7e7)](_0x5e0c76,null,0x2),new m(_0x5e0c76);_0x49b466=_0x5e0c76[_0x3be763(0x7f6)];}else _0x49b466||(_0x49b466=(0x0,Q['v4'])());let _0x545947=await this[_0x3be763(0x7a6)][_0x3be763(0x293)][_0x3be763(0x104)]({'where':{'_id':_0x5b9108}});if(!_0x545947||!_0x545947['whoCanUse']?.[_0x3be763(0x7ff)](this[_0x3be763(0x388)]['wuid']))throw this[_0x3be763(0x5c8)]['error'](this[_0x3be763(0x7bd)]+'\x20('+this[_0x3be763(0x388)]['wuid']+_0x3be763(0x81f)+_0x5b9108+_0x3be763(0x5b5)),new m(_0x3be763(0x52e)+_0x5b9108+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x10f811=await this['createConversationforStartFlow'](_0x545947,_0x49b466,null);if(_0x10f811){this[_0x3be763(0x5c8)][_0x3be763(0x699)](this['instanceName']+'\x20('+this[_0x3be763(0x388)][_0x3be763(0x680)]+_0x3be763(0x672));let _0x1dd63e;if(_0x1b6cbc){let _0x32be31=_0x10f811[_0x3be763(0x43d)][_0x3be763(0x5bc)],_0x2d1a11=this[_0x3be763(0x5f8)](_0x1b6cbc);Object[_0x3be763(0x3d5)](_0x32be31,_0x2d1a11),_0x10f811['chatLog']['realVariables']=_0x32be31,_0x1dd63e={'error':!0x1,'apiResponse':_0x1b6cbc};}let _0x40af7e=await this[_0x3be763(0x801)](_0x10f811);return _0x40af7e&&await this[_0x3be763(0x676)](_0x10f811,_0x40af7e),{'message':'Flow\x20iniciado'};}}catch(_0x416878){if(this[_0x3be763(0x5c8)][_0x3be763(0x7ba)](this['instanceName']+'\x20('+this[_0x3be763(0x388)][_0x3be763(0x680)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x416878 instanceof Error?_0x416878[_0x3be763(0x620)]:JSON[_0x3be763(0x7e7)](_0x416878,null,0x2))),_0x5a4e0e=_0x416878 instanceof Error?_0x416878[_0x3be763(0x620)]:JSON[_0x3be763(0x7e7)](_0x416878,null,0x2),_0x5a4e0e)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x5a4e0e);}}async[a0_0x46d805(0x562)](_0x5f315d){const _0x2d6a52=a0_0x46d805;try{let _0x1dc281={'remoteJid':_0x5f315d,'status':_0x2d6a52(0x16f)},_0x51624c={'status':_0x2d6a52(0x357)},_0x54ee18=await this['repository'][_0x2d6a52(0x1b8)][_0x2d6a52(0x5a1)](_0x1dc281,_0x51624c,this[_0x2d6a52(0x388)][_0x2d6a52(0x680)]);return this[_0x2d6a52(0x5c8)][_0x2d6a52(0x699)](this[_0x2d6a52(0x7bd)]+'\x20('+this['instance']['wuid']+_0x2d6a52(0x72a)),_0x54ee18;}catch(_0x14cef6){throw this[_0x2d6a52(0x5c8)][_0x2d6a52(0x7ba)](this[_0x2d6a52(0x7bd)]+'\x20('+this[_0x2d6a52(0x388)]['wuid']+_0x2d6a52(0x757)+_0x14cef6[_0x2d6a52(0x620)]),_0x14cef6;}}async[a0_0x46d805(0x5b6)](_0x96e688,_0x303076,_0x17824a){const _0xd73d83=a0_0x46d805;this[_0xd73d83(0x5c8)][_0xd73d83(0x699)](this[_0xd73d83(0x7bd)]+'\x20('+this['instance'][_0xd73d83(0x680)]+_0xd73d83(0x83f)),await this['closeExistingConversations'](_0x303076);try{let _0x336121=require(_0xd73d83(0x790))[_0xd73d83(0x1aa)],_0x26dca1=Date[_0xd73d83(0x506)](),_0x32eddc=_0xd73d83(0x276),_0x3a92e8={},_0xd0d314={},_0x56dd59=this[_0xd73d83(0x53e)][_0xd73d83(0x2b5)][_0xd73d83(0x3d2)](_0x5b95ad=>_0x5b95ad['_id']===_0x96e688['_id']?.[_0xd73d83(0x821)]()),_0x1306e2=_0x56dd59?.[_0xd73d83(0x589)]??_0x96e688['minutesToClose']??0x0,_0x1b15dc=_0x56dd59?.[_0xd73d83(0x742)]??_0x96e688[_0xd73d83(0x742)]??!0x1,_0x300ba0={'flowId':_0x96e688['_id'],..._0x96e688,'chatLog':null},_0xfef702=await this[_0xd73d83(0x613)](_0x300ba0['variables']),_0x3623b2=await this['getVariablesChat'](_0x303076),_0x423ed8={..._0xfef702,..._0x3623b2,'_remoteJid':_0x303076},_0x146b98={'lastReceivedMessage':_0x3a92e8,'lastSendMessage':_0xd0d314,'lastBlockId':_0x32eddc,'lastCondition':!0x0,'realVariables':_0x423ed8};_0x300ba0[_0xd73d83(0x43d)]=_0x146b98,_0x300ba0[_0xd73d83(0x43d)]['realVariables']={..._0x423ed8,..._0x17824a},delete _0x300ba0[_0xd73d83(0x1ed)],_0x300ba0[_0xd73d83(0x1ed)]=new _0x336121(),_0x300ba0['lastInteraction']=_0x26dca1,_0x300ba0[_0xd73d83(0x499)]=_0xd73d83(0x16f),_0x300ba0[_0xd73d83(0x13a)]=_0x303076,_0x300ba0[_0xd73d83(0x589)]=_0x1306e2,_0x300ba0['readMessages']=_0x1b15dc,_0x300ba0[_0xd73d83(0x1ed)]=_0x96e688['_id'];let _0x403596=await this[_0xd73d83(0x7a6)][_0xd73d83(0x1b8)][_0xd73d83(0x191)](_0x300ba0[_0xd73d83(0x1ed)],_0x300ba0,this['instance']['wuid']);return this[_0xd73d83(0x5c8)][_0xd73d83(0x699)](this[_0xd73d83(0x7bd)]+'\x20('+this[_0xd73d83(0x388)][_0xd73d83(0x680)]+_0xd73d83(0x112)),_0x403596?_0x300ba0:null;}catch(_0x13c89a){let _0x382e2d=_0xd73d83(0x3d9),_0x33048a=_0x13c89a instanceof Error?_0x13c89a[_0xd73d83(0x620)]:typeof _0x13c89a=='object'?JSON[_0xd73d83(0x7e7)](_0x13c89a):_0x13c89a,_0x23dc6f=_0x382e2d+':\x20'+_0x33048a;throw this[_0xd73d83(0x5c8)][_0xd73d83(0x7ba)](this[_0xd73d83(0x7bd)]+'\x20('+this['instance'][_0xd73d83(0x680)]+'):\x20'+_0x23dc6f),new m(_0x23dc6f);}}async[a0_0x46d805(0x260)](_0x59167d){const _0x12c174=a0_0x46d805;try{this[_0x12c174(0x5c8)][_0x12c174(0x699)](this[_0x12c174(0x7bd)]+'\x20('+this[_0x12c174(0x388)]['wuid']+'):\x20Buscando\x20conversa...'),this[_0x12c174(0x5c8)][_0x12c174(0x699)](this[_0x12c174(0x7bd)]+'\x20('+this[_0x12c174(0x388)][_0x12c174(0x680)]+'):\x20Query\x20params:\x20'+_0x59167d);let _0x1b8b0a={'where':{'_id':_0x59167d}};return await this[_0x12c174(0x7a6)][_0x12c174(0x1b8)][_0x12c174(0x104)](_0x1b8b0a,this[_0x12c174(0x388)][_0x12c174(0x680)]);}catch(_0x19df4f){let _0x233755='Erro\x20ao\x20buscar\x20a\x20conversa',_0x52f3b8=_0x19df4f instanceof Error?_0x19df4f['message']:typeof _0x19df4f=='object'?JSON[_0x12c174(0x7e7)](_0x19df4f):_0x19df4f,_0x321c41=_0x233755+':\x20'+_0x52f3b8;throw this[_0x12c174(0x5c8)][_0x12c174(0x7ba)](this[_0x12c174(0x7bd)]+'\x20('+this[_0x12c174(0x388)][_0x12c174(0x680)]+_0x12c174(0x32d)+_0x321c41),new m(_0x321c41);}}async['fetchConversation'](_0x228c30){const _0xe5bf55=a0_0x46d805;try{return this[_0xe5bf55(0x5c8)][_0xe5bf55(0x699)](this[_0xe5bf55(0x7bd)]+'\x20('+this[_0xe5bf55(0x388)][_0xe5bf55(0x680)]+_0xe5bf55(0x766)),await this[_0xe5bf55(0x7a6)]['flowConversation'][_0xe5bf55(0x3d2)](_0x228c30,this[_0xe5bf55(0x388)][_0xe5bf55(0x680)]);}catch(_0x4d1245){let _0x4c5a3f=_0xe5bf55(0x22c),_0x344a7a=_0x4d1245 instanceof Error?_0x4d1245['message']:typeof _0x4d1245=='object'?JSON[_0xe5bf55(0x7e7)](_0x4d1245):_0x4d1245,_0x1b9cd2=_0x4c5a3f+':\x20'+_0x344a7a;throw this[_0xe5bf55(0x5c8)][_0xe5bf55(0x7ba)](this[_0xe5bf55(0x7bd)]+'\x20('+this[_0xe5bf55(0x388)][_0xe5bf55(0x680)]+_0xe5bf55(0x32d)+_0x1b9cd2),new m(_0x1b9cd2);}}async[a0_0x46d805(0x3a3)](_0x46a1d1){const _0x4179b6=a0_0x46d805;try{return this[_0x4179b6(0x5c8)][_0x4179b6(0x699)](this[_0x4179b6(0x7bd)]+'\x20('+this['instance'][_0x4179b6(0x680)]+'):\x20Deletando\x20conversa...'),this['logger'][_0x4179b6(0x699)](this[_0x4179b6(0x7bd)]+'\x20('+this[_0x4179b6(0x388)]['wuid']+'):\x20Query\x20params:'+_0x46a1d1),(await this[_0x4179b6(0x7a6)][_0x4179b6(0x1b8)]['deleteOne']({'where':{'_id':_0x46a1d1[_0x4179b6(0x1ed)]}},this['instance']['wuid']))[_0x4179b6(0x616)]===0x0?{'message':_0x4179b6(0x6b0)}:{'message':_0x4179b6(0x1c9)};}catch(_0x4509de){let _0x1ffddf=_0x4179b6(0x2bc),_0x412378=_0x4509de instanceof Error?_0x4509de[_0x4179b6(0x620)]:typeof _0x4509de==_0x4179b6(0x1a3)?JSON[_0x4179b6(0x7e7)](_0x4509de):_0x4509de,_0xe9ab01=_0x1ffddf+':\x20'+_0x412378;throw this[_0x4179b6(0x5c8)][_0x4179b6(0x7ba)](this[_0x4179b6(0x7bd)]+'\x20('+this['instance']['wuid']+_0x4179b6(0x32d)+_0xe9ab01),new m(_0xe9ab01);}}async[a0_0x46d805(0x26d)](_0x123104){const _0x1153e0=a0_0x46d805;try{let {_id:_0x3a4341,chatLog:_0x1bdd72,status:_0x22c4ef}=_0x123104;if(!_0x3a4341)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x191fde={};if(_0x22c4ef!==void 0x0&&(_0x191fde[_0x1153e0(0x499)]=_0x22c4ef),Object['keys'](_0x191fde)[_0x1153e0(0x47a)]===0x0)return{'message':_0x1153e0(0x56b)};let _0x25ecb4=await this[_0x1153e0(0x7a6)][_0x1153e0(0x1b8)]['updateOne'](_0x3a4341,_0x191fde,this[_0x1153e0(0x388)][_0x1153e0(0x680)]);return _0x25ecb4||{'message':_0x1153e0(0x231)};}catch(_0x554f00){let _0x49a7b8=_0x1153e0(0x5fc),_0x36e02b=_0x554f00 instanceof Error?_0x554f00[_0x1153e0(0x620)]:typeof _0x554f00==_0x1153e0(0x1a3)?JSON['stringify'](_0x554f00):_0x554f00,_0x10f85d=_0x49a7b8+':\x20'+_0x36e02b;throw this[_0x1153e0(0x5c8)][_0x1153e0(0x7ba)](this[_0x1153e0(0x7bd)]+'\x20('+this[_0x1153e0(0x388)][_0x1153e0(0x680)]+'):\x20'+_0x10f85d),new m(_0x10f85d);}}async[a0_0x46d805(0x5c9)](_0x246d93){const _0x5eb601=a0_0x46d805;try{_0x246d93['_id']=this[_0x5eb601(0x294)](_0x246d93[_0x5eb601(0x1ed)]);let _0x4ff2ff=await this[_0x5eb601(0x7a6)][_0x5eb601(0x64f)][_0x5eb601(0x104)]({'where':{'_id':_0x246d93[_0x5eb601(0x1ed)]}},this[_0x5eb601(0x388)]['wuid']);if(!_0x4ff2ff)throw new m(_0x5eb601(0x7d6));let {_id:_0x15336f,leadInfo:_0x41c3f6}=_0x246d93;if(!_0x15336f)throw new Error(_0x5eb601(0x189));if(_0x246d93[_0x5eb601(0x835)]===_0x5eb601(0x7fa))return await this[_0x5eb601(0x440)](_0x246d93[_0x5eb601(0x1ed)]),await this['repository']['chat']['delete']({'where':{'_id':_0x246d93[_0x5eb601(0x1ed)]}},this[_0x5eb601(0x388)][_0x5eb601(0x680)]),await this[_0x5eb601(0x7a6)]['message']['delete']({'where':{'key':{'remoteJid':_0x246d93[_0x5eb601(0x1ed)]}}},this[_0x5eb601(0x388)][_0x5eb601(0x680)]),_0x246d93=await this['repository']['chat'][_0x5eb601(0x191)]({'where':{'_id':_0x246d93[_0x5eb601(0x1ed)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5eb601(0x388)][_0x5eb601(0x680)]),q(this[_0x5eb601(0x7bd)],_0x5eb601(0x5e6),{'chat':_0x246d93}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x246d93[_0x5eb601(0x835)]==='messages')return await this[_0x5eb601(0x7a6)][_0x5eb601(0x620)][_0x5eb601(0x835)]({'where':{'key':{'remoteJid':_0x246d93[_0x5eb601(0x1ed)]}}},this['instance'][_0x5eb601(0x680)]),_0x246d93=await this[_0x5eb601(0x7a6)]['chat'][_0x5eb601(0x191)]({'where':{'_id':_0x246d93[_0x5eb601(0x1ed)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x5eb601(0x680)]),q(this[_0x5eb601(0x7bd)],'chats',{'chat':_0x246d93}),{'message':_0x5eb601(0x839)};let _0x1fc962=(_0x7e6675,_0x2548ef,_0x2911bb)=>{const _0x563b34=_0x5eb601;_0x7e6675&&_0x2911bb[_0x563b34(0x1db)](_0x115619=>{const _0x28a3b9=_0x563b34;_0x7e6675[_0x115619]!==void 0x0&&(_0x2548ef[_0x28a3b9(0x4ee)+_0x115619]=_0x7e6675[_0x115619]);});},_0x5017d6={};if(_0x5eb601(0x769)in _0x246d93&&(this[_0x5eb601(0x5c8)][_0x5eb601(0x699)](this[_0x5eb601(0x7bd)]+'\x20('+this[_0x5eb601(0x388)][_0x5eb601(0x680)]+_0x5eb601(0x58e)+_0x246d93[_0x5eb601(0x1ed)]),_0x246d93[_0x5eb601(0x769)]=_0x246d93[_0x5eb601(0x769)]===0x0?null:-0x1,await this[_0x5eb601(0x3bf)][_0x5eb601(0x77c)]({'mute':_0x246d93['muteEndTime']},_0x246d93[_0x5eb601(0x1ed)]),_0x5017d6['muteEndTime']=Number(_0x246d93[_0x5eb601(0x769)])),_0x41c3f6&&(_0x1fc962(_0x41c3f6,_0x5017d6,[_0x5eb601(0x7c6),_0x5eb601(0x1d4),_0x5eb601(0x704),_0x5eb601(0x32c),'status','notas',_0x5eb601(0x56c),'atendimentoAberto',_0x5eb601(0x59b),_0x5eb601(0x75e),_0x5eb601(0x508)]),Array[_0x5eb601(0x6a0)](_0x41c3f6[_0x5eb601(0x58b)])&&(_0x5017d6['leadInfo.customFields']=_0x41c3f6[_0x5eb601(0x58b)][_0x5eb601(0x1bd)](_0xbb640b=>({'_id':_0xbb640b['_id'],'value':_0xbb640b[_0x5eb601(0x176)]}))),_0x246d93['leadInfo']['etiquetas']!==void 0x0)){let _0x2bc7e3=await this[_0x5eb601(0x7a6)][_0x5eb601(0x824)][_0x5eb601(0x3d2)]({'where':{}},this['instance'][_0x5eb601(0x680)]),_0xbc7864=new Set(_0x246d93[_0x5eb601(0x5fa)][_0x5eb601(0x75e)]||[]),_0x2bf991=new Set(_0x246d93[_0x5eb601(0x5fa)][_0x5eb601(0x75e)]),_0x3c0b4e=new Set(_0x2bc7e3[_0x5eb601(0x1bd)](_0x2abef2=>_0x2abef2['_id'])),_0x226fb2=[..._0x2bf991][_0x5eb601(0x130)](_0xea591c=>!_0xbc7864['has'](_0xea591c)&&_0x3c0b4e[_0x5eb601(0x5ed)](_0xea591c)),_0x5c6706=[..._0xbc7864]['filter'](_0xa3db00=>!_0x2bf991[_0x5eb601(0x5ed)](_0xa3db00));if(_0x5017d6[_0x5eb601(0x71b)]=[..._0xbc7864],_0x4ff2ff&&!_0x4ff2ff[_0x5eb601(0x4b8)]){for(let _0x5dba62 of _0x226fb2)await this[_0x5eb601(0x66d)](_0x5dba62,_0x246d93['_id']),_0xbc7864['add'](_0x5dba62);for(let _0xf2de0b of _0x5c6706)await this[_0x5eb601(0x42c)](_0xf2de0b,_0x246d93[_0x5eb601(0x1ed)]),_0xbc7864['delete'](_0xf2de0b);}}if(_0x246d93[_0x5eb601(0x416)]!==void 0x0&&(_0x5017d6[_0x5eb601(0x416)]=Number(_0x246d93['unreadcount'])),Object['keys'](_0x5017d6)['length']===0x0)throw new Error(_0x5eb601(0x56b));let _0x48696e=await this[_0x5eb601(0x7a6)]['chat'][_0x5eb601(0x191)]({'where':{'_id':_0x246d93['_id']}},_0x5017d6,this[_0x5eb601(0x388)][_0x5eb601(0x680)]);return _0x48696e&&q(this[_0x5eb601(0x7bd)],'chats',{'chat':_0x48696e}),_0x48696e?(this[_0x5eb601(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x5eb601(0x388)][_0x5eb601(0x680)]+'):\x20'+JSON[_0x5eb601(0x7e7)](_0x48696e,null,0x2)),_0x48696e):{'message':_0x5eb601(0x632)};}catch(_0x4c2739){let _0x36f681='Erro\x20ao\x20editar\x20o\x20chat',_0x769f89=_0x4c2739 instanceof Error?_0x4c2739['message']:typeof _0x4c2739==_0x5eb601(0x1a3)?JSON[_0x5eb601(0x7e7)](_0x4c2739):_0x4c2739,_0x509b9a=_0x36f681+':\x20'+_0x769f89;throw this[_0x5eb601(0x5c8)]['error'](this[_0x5eb601(0x7bd)]+'\x20('+this['instance'][_0x5eb601(0x680)]+_0x5eb601(0x32d)+_0x509b9a),new m(_0x509b9a);}}async['AddChatLabel'](_0x1fe169,_0x588ecf){const _0x5d0c35=a0_0x46d805;try{await this[_0x5d0c35(0x3bf)][_0x5d0c35(0x6f4)](_0x588ecf,_0x1fe169),this[_0x5d0c35(0x5c8)][_0x5d0c35(0x5bb)](this['instanceName']+'\x20('+this[_0x5d0c35(0x388)][_0x5d0c35(0x680)]+_0x5d0c35(0x7ad)+_0x1fe169+'\x20adicionado\x20ao\x20chat\x20'+_0x588ecf+_0x5d0c35(0x257));}catch(_0x47d2da){this['logger'][_0x5d0c35(0x7ba)](_0x5d0c35(0x642)+_0x1fe169+_0x5d0c35(0x664)+_0x588ecf+':\x20'+_0x47d2da);}}async['RemoveChatLabel'](_0x2a489a,_0x1fed30){const _0x1c780a=a0_0x46d805;try{await this[_0x1c780a(0x3bf)][_0x1c780a(0x40d)](_0x1fed30,_0x2a489a),this[_0x1c780a(0x5c8)][_0x1c780a(0x5bb)](this['instanceName']+'\x20('+this[_0x1c780a(0x388)][_0x1c780a(0x680)]+'):\x20Label\x20'+_0x2a489a+_0x1c780a(0x120)+_0x1fed30+'\x20com\x20sucesso.');}catch(_0x3218b5){this[_0x1c780a(0x5c8)][_0x1c780a(0x7ba)](_0x1c780a(0x162)+_0x2a489a+_0x1c780a(0x1f0)+_0x1fed30+':\x20'+_0x3218b5);}}async[a0_0x46d805(0x606)](_0x17fdd){const _0x41236b=a0_0x46d805;try{let _0x4ba91e=await this[_0x41236b(0x7a6)][_0x41236b(0x7bc)][_0x41236b(0x59e)](this[_0x41236b(0x388)][_0x41236b(0x680)]),_0xa06569=_0x17fdd[_0x41236b(0x1ed)]?_0x4ba91e[_0x41236b(0x3d7)][_0x41236b(0x230)](_0x45e03d=>_0x45e03d[_0x41236b(0x1ed)]===_0x17fdd['_id']):-0x1;if(_0x17fdd['delete']&&_0xa06569>-0x1)_0x4ba91e[_0x41236b(0x3d7)][_0x41236b(0x69f)](_0xa06569,0x1);else{if(_0xa06569>-0x1){let _0x50bc0e=_0x4ba91e['agents'][_0xa06569];_0x17fdd[_0x41236b(0x6c1)]&&(_0x50bc0e[_0x41236b(0x6c1)]=_0x17fdd[_0x41236b(0x6c1)]),_0x17fdd[_0x41236b(0x73f)]&&(_0x50bc0e[_0x41236b(0x73f)]=_0x17fdd[_0x41236b(0x73f)]),_0x17fdd[_0x41236b(0x704)]&&(_0x50bc0e[_0x41236b(0x704)]=_0x17fdd[_0x41236b(0x704)]),_0x17fdd[_0x41236b(0x72f)]&&(_0x50bc0e['role']=_0x17fdd[_0x41236b(0x72f)]);}else _0x4ba91e[_0x41236b(0x3d7)][_0x41236b(0x70b)]({'_id':_0x17fdd[_0x41236b(0x1ed)]||new we[(_0x41236b(0x6ef))][(_0x41236b(0x1b0))][(_0x41236b(0x1aa))]()['toString'](),'fone':_0x17fdd[_0x41236b(0x6c1)],'name':_0x17fdd[_0x41236b(0x73f)],'email':_0x17fdd[_0x41236b(0x704)],'role':_0x17fdd[_0x41236b(0x72f)]});}let _0x57bdea={'agents':_0x4ba91e[_0x41236b(0x3d7)]},_0x59dee3=await this[_0x41236b(0x7a6)][_0x41236b(0x7bc)]['update'](_0x57bdea,this[_0x41236b(0x388)][_0x41236b(0x680)]);return this[_0x41236b(0x53e)]=_0x59dee3,this[_0x41236b(0x5c8)][_0x41236b(0x699)](this[_0x41236b(0x7bd)]+'\x20('+this[_0x41236b(0x388)][_0x41236b(0x680)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x41236b(0x5c8)][_0x41236b(0x699)](this[_0x41236b(0x7bd)]+'\x20('+this[_0x41236b(0x388)][_0x41236b(0x680)]+_0x41236b(0x32d)+this[_0x41236b(0x53e)]),_0x59dee3;}catch(_0x1e4a78){let _0x417482=_0x41236b(0x3cb),_0x4b59eb=_0x1e4a78 instanceof Error?_0x1e4a78[_0x41236b(0x620)]:typeof _0x1e4a78==_0x41236b(0x1a3)?JSON[_0x41236b(0x7e7)](_0x1e4a78):_0x1e4a78,_0x3bc47c=_0x417482+':\x20'+_0x4b59eb;throw this[_0x41236b(0x5c8)][_0x41236b(0x7ba)](this[_0x41236b(0x7bd)]+'\x20('+this[_0x41236b(0x388)][_0x41236b(0x680)]+_0x41236b(0x32d)+_0x3bc47c),new m(_0x3bc47c);}}async['updateCustomFields'](_0x4f47ec){const _0x1ee211=a0_0x46d805;try{let _0x52e2f4=await this[_0x1ee211(0x7a6)][_0x1ee211(0x7bc)]['findOrCreate'](this['instance'][_0x1ee211(0x680)]),_0x5c4914=_0x4f47ec[_0x1ee211(0x1ed)]?_0x52e2f4[_0x1ee211(0x58b)]['findIndex'](_0x59b30c=>_0x59b30c['_id']===_0x4f47ec[_0x1ee211(0x1ed)]):-0x1,_0x18ec23=!0x1,_0x3617e0=_0x52e2f4['customFields']['some'](_0x18a2d1=>_0x18a2d1[_0x1ee211(0x734)]===_0x4f47ec['order']);if(_0x4f47ec[_0x1ee211(0x835)]&&_0x5c4914>-0x1)_0x52e2f4[_0x1ee211(0x58b)]['splice'](_0x5c4914,0x1),_0x18ec23=!0x0;else{if(_0x5c4914>-0x1){if(_0x52e2f4[_0x1ee211(0x58b)][_0x1ee211(0x2c0)](_0x2c3a8f=>_0x2c3a8f[_0x1ee211(0x73f)]===_0x4f47ec['name']&&_0x2c3a8f['_id']!==_0x4f47ec[_0x1ee211(0x1ed)]))throw new Error(_0x1ee211(0x441));let _0x22ecc1=_0x52e2f4[_0x1ee211(0x58b)][_0x5c4914];_0x4f47ec[_0x1ee211(0x734)]&&(_0x3617e0||!Number[_0x1ee211(0x3ae)](_0x4f47ec[_0x1ee211(0x734)]))&&(_0x22ecc1[_0x1ee211(0x734)]=_0x4f47ec['order'],_0x18ec23=!0x0),_0x4f47ec['name']&&(_0x22ecc1['name']=_0x4f47ec['name']);}else{if(_0x52e2f4[_0x1ee211(0x58b)][_0x1ee211(0x2c0)](_0x285a49=>_0x285a49[_0x1ee211(0x73f)]===_0x4f47ec[_0x1ee211(0x73f)]&&_0x285a49[_0x1ee211(0x1ed)]!==_0x4f47ec[_0x1ee211(0x1ed)]))throw new Error(_0x1ee211(0x441));_0x52e2f4[_0x1ee211(0x58b)][_0x1ee211(0x70b)]({'_id':_0x4f47ec['_id']||new we['default'][(_0x1ee211(0x1b0))][(_0x1ee211(0x1aa))]()['toString'](),'order':_0x4f47ec[_0x1ee211(0x734)],'name':_0x4f47ec['name']}),_0x18ec23=!0x0;}}if(_0x18ec23){_0x52e2f4[_0x1ee211(0x58b)]['sort']((_0x25ef8c,_0x2afb48)=>_0x25ef8c[_0x1ee211(0x734)]>_0x2afb48[_0x1ee211(0x734)]?0x1:_0x2afb48['order']>_0x25ef8c['order']?-0x1:0x0);for(let _0x35581b=0x0;_0x35581b<_0x52e2f4[_0x1ee211(0x58b)]['length'];_0x35581b++)_0x52e2f4[_0x1ee211(0x58b)][_0x35581b][_0x1ee211(0x734)]=_0x35581b+0x1;}let _0xe4f106=await this['repository'][_0x1ee211(0x7bc)]['update'](_0x52e2f4,this[_0x1ee211(0x388)]['wuid']);return this[_0x1ee211(0x53e)]=_0xe4f106,this['logger'][_0x1ee211(0x699)](this['instanceName']+'\x20('+this[_0x1ee211(0x388)]['wuid']+_0x1ee211(0x77e)),this[_0x1ee211(0x5c8)][_0x1ee211(0x699)](this[_0x1ee211(0x7bd)]+'\x20('+this[_0x1ee211(0x388)]['wuid']+_0x1ee211(0x32d)+this[_0x1ee211(0x53e)]),_0xe4f106;}catch(_0x292bfc){let _0x1c1e9a=_0x1ee211(0x5a3),_0x52cae8=_0x292bfc instanceof Error?_0x292bfc[_0x1ee211(0x620)]:typeof _0x292bfc==_0x1ee211(0x1a3)?JSON['stringify'](_0x292bfc):_0x292bfc,_0x3fd55e=_0x1c1e9a+':\x20'+_0x52cae8;throw this[_0x1ee211(0x5c8)][_0x1ee211(0x7ba)](this[_0x1ee211(0x7bd)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3fd55e),new m(_0x3fd55e);}}async[a0_0x46d805(0x82c)](_0x34dfb5){const _0x167a2e=a0_0x46d805;try{let _0xb4b18d=await this[_0x167a2e(0x7a6)][_0x167a2e(0x7bc)][_0x167a2e(0x59e)](this[_0x167a2e(0x388)]['wuid']),_0x518102=_0xb4b18d?.['autoCompleteMessages']?.['findIndex'](_0x51fa9e=>_0x51fa9e[_0x167a2e(0x1ed)]===_0x34dfb5?.[_0x167a2e(0x1ed)]);if(_0x34dfb5?.['delete'])_0x518102>-0x1&&_0xb4b18d?.[_0x167a2e(0x783)]?.[_0x167a2e(0x69f)](_0x518102,0x1);else{if(_0x518102>-0x1){let _0x3e06ad=_0xb4b18d[_0x167a2e(0x783)][_0x518102];_0x3e06ad[_0x167a2e(0x734)]=_0x34dfb5?.[_0x167a2e(0x734)]||_0x3e06ad['order'],_0x3e06ad['command']=_0x34dfb5?.[_0x167a2e(0x4e3)]||_0x3e06ad['command'],_0x3e06ad['message']=_0x34dfb5?.[_0x167a2e(0x620)]||_0x3e06ad[_0x167a2e(0x620)];}else{let _0x5e76={'_id':_0x34dfb5?.[_0x167a2e(0x1ed)]||new we[(_0x167a2e(0x6ef))]['Types'][(_0x167a2e(0x1aa))]()['toString'](),'order':_0x34dfb5?.[_0x167a2e(0x734)],'command':_0x34dfb5?.['command'],'message':_0x34dfb5?.[_0x167a2e(0x620)]};_0xb4b18d?.[_0x167a2e(0x783)]?.[_0x167a2e(0x70b)](_0x5e76);}}_0xb4b18d?.[_0x167a2e(0x783)]?.[_0x167a2e(0x504)]((_0x3a4e49,_0x44d6c5)=>_0x3a4e49[_0x167a2e(0x734)]-_0x44d6c5['order']);let _0x221851=await this['repository'][_0x167a2e(0x7bc)][_0x167a2e(0x5a5)](_0xb4b18d,this[_0x167a2e(0x388)][_0x167a2e(0x680)]);return this[_0x167a2e(0x53e)]=_0x221851,this[_0x167a2e(0x5c8)][_0x167a2e(0x699)](this[_0x167a2e(0x7bd)]+'\x20('+this[_0x167a2e(0x388)][_0x167a2e(0x680)]+_0x167a2e(0x77e)),_0x221851;}catch(_0x7b81ac){let _0x1d5d49='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x4189b4=_0x7b81ac instanceof Error?_0x7b81ac['message']:typeof _0x7b81ac==_0x167a2e(0x1a3)?JSON['stringify'](_0x7b81ac):_0x7b81ac,_0x17ecf1=_0x1d5d49+':\x20'+_0x4189b4;throw this[_0x167a2e(0x5c8)]['error'](this[_0x167a2e(0x7bd)]+'\x20('+this[_0x167a2e(0x388)]['wuid']+_0x167a2e(0x32d)+_0x17ecf1),new m(_0x17ecf1);}}async[a0_0x46d805(0x46e)](_0x104d26){const _0x4b6ef=a0_0x46d805;try{let _0x5488bf=await this[_0x4b6ef(0x7a6)][_0x4b6ef(0x7bc)]['findOrCreate'](this[_0x4b6ef(0x388)][_0x4b6ef(0x680)]);if(!_0x5488bf)throw new Error(_0x4b6ef(0x154));let _0xf4630b={'_id':_0x5488bf[_0x4b6ef(0x1ed)],'flowConfig':{'enabled':_0x104d26['enabled']??_0x5488bf[_0x4b6ef(0x559)][_0x4b6ef(0x2b6)],'ignoreGroups':_0x104d26[_0x4b6ef(0x539)]??_0x5488bf[_0x4b6ef(0x559)][_0x4b6ef(0x539)],'stopConversation':_0x104d26[_0x4b6ef(0x29d)]['trim']()??_0x5488bf[_0x4b6ef(0x559)][_0x4b6ef(0x29d)][_0x4b6ef(0x1f9)](),'stopMinutes':_0x104d26[_0x4b6ef(0x6fe)]??_0x5488bf[_0x4b6ef(0x559)][_0x4b6ef(0x6fe)],'stopWhenYouSendMsg':_0x104d26['stopWhenYouSendMsg']??_0x5488bf[_0x4b6ef(0x559)]['stopWhenYouSendMsg']}},_0x21d5fa=await this[_0x4b6ef(0x7a6)][_0x4b6ef(0x7bc)]['update'](_0xf4630b,this[_0x4b6ef(0x388)]['wuid']);return this[_0x4b6ef(0x53e)]=_0x21d5fa,this[_0x4b6ef(0x5c8)][_0x4b6ef(0x699)](this[_0x4b6ef(0x7bd)]+'\x20('+this[_0x4b6ef(0x388)][_0x4b6ef(0x680)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4b6ef(0x5c8)]['verbose'](this[_0x4b6ef(0x7bd)]+'\x20('+this['instance']['wuid']+_0x4b6ef(0x32d)+this[_0x4b6ef(0x53e)]),setTimeout(()=>this[_0x4b6ef(0x2bf)](),0x7d0),_0x21d5fa;}catch(_0x7eb3f9){let _0x2a7e4f=_0x4b6ef(0x778),_0x3a0ff2=_0x7eb3f9 instanceof Error?_0x7eb3f9[_0x4b6ef(0x620)]:typeof _0x7eb3f9==_0x4b6ef(0x1a3)?JSON[_0x4b6ef(0x7e7)](_0x7eb3f9):_0x7eb3f9,_0xd32272=_0x2a7e4f+':\x20'+_0x3a0ff2;throw this[_0x4b6ef(0x5c8)]['error'](this[_0x4b6ef(0x7bd)]+'\x20('+this[_0x4b6ef(0x388)][_0x4b6ef(0x680)]+_0x4b6ef(0x32d)+_0xd32272),new m(_0xd32272);}}async[a0_0x46d805(0x26b)](){const _0x1e62e5=a0_0x46d805;try{let _0x1e629e=await this[_0x1e62e5(0x7a6)][_0x1e62e5(0x7bc)]['findOrCreate'](this['instance'][_0x1e62e5(0x680)]);return this['AutomateSystem']=_0x1e629e,_0x1e629e;}catch(_0x141fa3){let _0x18bc31=_0x1e62e5(0x6ae),_0x2a2a01=_0x141fa3 instanceof Error?_0x141fa3[_0x1e62e5(0x620)]:typeof _0x141fa3==_0x1e62e5(0x1a3)?JSON[_0x1e62e5(0x7e7)](_0x141fa3):_0x141fa3,_0x3d9cfd=_0x18bc31+':\x20'+_0x2a2a01;throw this[_0x1e62e5(0x5c8)]['error'](this[_0x1e62e5(0x7bd)]+'\x20('+this[_0x1e62e5(0x388)][_0x1e62e5(0x680)]+'):\x20'+_0x3d9cfd),new m(_0x3d9cfd);}}async[a0_0x46d805(0x247)](){const _0xfd7a9=a0_0x46d805;this[_0xfd7a9(0x388)][_0xfd7a9(0x41b)][_0xfd7a9(0x4b4)]&&clearTimeout(this[_0xfd7a9(0x388)][_0xfd7a9(0x41b)][_0xfd7a9(0x4b4)]),this[_0xfd7a9(0x388)]['ScheduleMessage']['timeout']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x46d805(0x47f)](){const _0x3e1986=a0_0x46d805;Date['now']()-this[_0x3e1986(0x388)][_0x3e1986(0x41b)][_0x3e1986(0x2ed)]>=0x1d4c0&&(this[_0x3e1986(0x5c8)][_0x3e1986(0x699)](this[_0x3e1986(0x7bd)]+'\x20('+this['instance']['wuid']+_0x3e1986(0x485)),this[_0x3e1986(0x388)][_0x3e1986(0x41b)][_0x3e1986(0x4dd)]=null,this[_0x3e1986(0x388)]['ScheduleMessage'][_0x3e1986(0x2ed)]=0x0,this[_0x3e1986(0x388)][_0x3e1986(0x41b)][_0x3e1986(0x764)]=0x0,this[_0x3e1986(0x17f)]=[],this['nextMessageId']=null,this[_0x3e1986(0x830)]=null,await this['scheduleNextCheck']());}async[a0_0x46d805(0x2bf)](){const _0x1f84e8=a0_0x46d805;let _0x1b6372=!0x1;this[_0x1f84e8(0x17f)]=[],this[_0x1f84e8(0x290)]=null,this[_0x1f84e8(0x830)]=(0x0,Q['v4'])(),await this[_0x1f84e8(0x13b)]();let _0x1d987c=()=>{const _0x2a43dd=_0x1f84e8;this[_0x2a43dd(0x5c8)][_0x2a43dd(0x699)](this[_0x2a43dd(0x7bd)]+'\x20('+this['instance']['wuid']+_0x2a43dd(0x217)+this[_0x2a43dd(0x388)][_0x2a43dd(0x41b)][_0x2a43dd(0x4dd)]+_0x2a43dd(0x228));},_0x421e75=async()=>{const _0x2a1477=_0x1f84e8;this[_0x2a1477(0x5c8)][_0x2a1477(0x699)](this[_0x2a1477(0x7bd)]+'\x20('+this[_0x2a1477(0x388)][_0x2a1477(0x680)]+_0x2a1477(0x6e9));let _0x3680df=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x3f81bc={'where':{'status':{'$in':[_0x2a1477(0x6f6),_0x2a1477(0x636)]},'$or':[{'when':{'$lte':Date[_0x2a1477(0x506)](),'$gte':_0x3680df}},{'when':0x0}]}};return await this[_0x2a1477(0x7a6)]['scheduleMessage'][_0x2a1477(0x3d2)](_0x3f81bc,this[_0x2a1477(0x388)][_0x2a1477(0x680)]);},_0x33eaa5=async _0x342e9a=>{const _0x1e6c06=_0x1f84e8;let _0x575371=await this[_0x1e6c06(0x7a6)][_0x1e6c06(0x4b3)][_0x1e6c06(0x470)](_0x342e9a,this[_0x1e6c06(0x388)][_0x1e6c06(0x680)]);this[_0x1e6c06(0x17f)]=_0x575371[_0x1e6c06(0x668)][_0x1e6c06(0x130)](_0x369ee9=>!_0x369ee9[_0x1e6c06(0x808)]);},_0x22df42=async _0x3a0fdf=>{const _0x23960e=_0x1f84e8;let _0x140985=Math[_0x23960e(0x417)](Math['random']()*0x1389)+0xbb8;for(let _0xb164f2 of _0x3a0fdf){let _0x572294={'_id':_0xb164f2['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x23960e(0x506)]()-0x2710}}]},_0x27b55f={'startSend':Date[_0x23960e(0x506)](),'processUUID':this[_0x23960e(0x830)]};if(!await this[_0x23960e(0x7a6)][_0x23960e(0x4b3)][_0x23960e(0x191)](_0x572294,_0x27b55f,this[_0x23960e(0x388)][_0x23960e(0x680)]))return;if(!this[_0x23960e(0x388)][_0x23960e(0x41b)]['isConnected']){this[_0x23960e(0x5c8)][_0x23960e(0x699)](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x5e9));break;}for((this[_0x23960e(0x17f)][_0x23960e(0x47a)]===0x0||!_0x1b6372)&&await _0x33eaa5(_0xb164f2['_id']);this[_0x23960e(0x17f)][_0x23960e(0x47a)]>0x0||!_0x1b6372;){await this[_0x23960e(0x247)]();let _0xec1bb9=this[_0x23960e(0x17f)][_0x23960e(0x1a0)]((_0x36a054,_0x296258)=>(_0x36a054[_0x23960e(0x734)]??Number[_0x23960e(0x24a)])<(_0x296258[_0x23960e(0x734)]??Number[_0x23960e(0x24a)])?_0x36a054:_0x296258);if(!_0xec1bb9)continue;if(this[_0x23960e(0x290)]&&this[_0x23960e(0x290)]!==_0xec1bb9[_0x23960e(0x1ed)]){this['logger'][_0x23960e(0x699)](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x714)+_0xec1bb9[_0x23960e(0x1ed)]+_0x23960e(0x1d6));break;}if(this[_0x23960e(0x290)]=_0xec1bb9[_0x23960e(0x1ed)],this[_0x23960e(0x388)][_0x23960e(0x41b)][_0x23960e(0x2ed)]=Date[_0x23960e(0x506)](),this[_0x23960e(0x388)][_0x23960e(0x41b)]['lastMessage_id']===_0xec1bb9[_0x23960e(0x1ed)]){this[_0x23960e(0x5c8)][_0x23960e(0x7ba)](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x1e9)+_0xec1bb9['_id']+_0x23960e(0x61c));continue;}if(this[_0x23960e(0x388)]['ScheduleMessage']['lastMessage_id']=_0xec1bb9[_0x23960e(0x1ed)],_0xec1bb9[_0x23960e(0x808)]){this[_0x23960e(0x5c8)]['verbose'](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0xec1bb9[_0x23960e(0x13a)]+_0x23960e(0x482));continue;}if(!this[_0x23960e(0x388)][_0x23960e(0x41b)][_0x23960e(0x7ee)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x3dc));break;}if(!this[_0x23960e(0x388)][_0x23960e(0x41b)]['processingGroup_id']){this['logger']['verbose'](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xb164f2['_id']+_0x23960e(0x6fa));break;}if(_0xec1bb9[_0x23960e(0x319)]===_0x23960e(0x293)&&!this['AutomateSystem']?.[_0x23960e(0x559)]['enabled']){this[_0x23960e(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x2b4));break;}let _0x5b0642={'idControl':_0xec1bb9[_0x23960e(0x1ed)],'remoteJid':_0xec1bb9['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x23960e(0x506)]()},_0x46fbdf=null;try{this[_0x23960e(0x5c8)][_0x23960e(0x699)](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x1d5)+_0xec1bb9[_0x23960e(0x13a)]);let _0x51be86=await this[_0x23960e(0x45a)](_0xec1bb9[_0x23960e(0x13a)],_0xec1bb9);_0x5b0642[_0x23960e(0x7ba)]=_0x51be86[_0x23960e(0x7ba)],_0x5b0642['id']=_0x51be86[_0x23960e(0x7ba)]?null:_0x51be86['id'],_0x5b0642['error_log']=_0x51be86[_0x23960e(0x7ba)]?_0x51be86[_0x23960e(0x5c5)]?_0x51be86['detail']['toString']():'':null;let _0x31d03f=_0xb164f2[_0x23960e(0x668)][_0x23960e(0x230)](_0x49cb15=>_0x49cb15['_id']===_0xec1bb9[_0x23960e(0x1ed)]);_0x31d03f!==-0x1&&(_0xb164f2[_0x23960e(0x668)][_0x31d03f][_0x23960e(0x808)]=!0x0);let _0x1c747f={'$push':{'messagesSend':_0x5b0642},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x4a7392=[{'elem._id':_0xec1bb9[_0x23960e(0x1ed)]}];if(this['logger']['verbose'](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x712)+_0xec1bb9[_0x23960e(0x1ed)]),_0x46fbdf=await this[_0x23960e(0x7a6)][_0x23960e(0x4b3)][_0x23960e(0x191)]({'_id':_0xb164f2['_id']},_0x1c747f,this[_0x23960e(0x388)][_0x23960e(0x680)],{'arrayFilters':_0x4a7392}),_0x51be86[_0x23960e(0x7ba)]){this[_0x23960e(0x5c8)]['error'](this['instanceName']+'\x20('+this['instance'][_0x23960e(0x680)]+_0x23960e(0x386)+_0x51be86[_0x23960e(0x5c5)]);continue;}let _0x31756c=this['getDelay'](_0xb164f2[_0x23960e(0x72e)],_0xb164f2[_0x23960e(0x281)]);await this[_0x23960e(0x501)](_0x31756c);}catch(_0x14aece){this['logger'][_0x23960e(0x7ba)](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x1a9)+_0xec1bb9[_0x23960e(0x13a)]+':\x20'+(_0x14aece instanceof Error?_0x14aece['message']:JSON[_0x23960e(0x7e7)](_0x14aece,null,0x2))),_0x5b0642[_0x23960e(0x7ba)]=!0x0,_0x5b0642[_0x23960e(0x572)]=_0x14aece[_0x23960e(0x620)];let _0x2bf386=_0xb164f2[_0x23960e(0x668)]['findIndex'](_0x25088e=>_0x25088e['_id']===_0xec1bb9['_id']);_0x2bf386!==-0x1&&(_0xb164f2[_0x23960e(0x668)][_0x2bf386]['triedToSend']=!0x0);let _0x10ffa4={'$push':{'messagesSend':_0x5b0642},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x14e40c=[{'elem._id':_0xec1bb9[_0x23960e(0x1ed)]}];this[_0x23960e(0x5c8)]['verbose'](this[_0x23960e(0x7bd)]+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0xec1bb9[_0x23960e(0x1ed)]),_0x46fbdf=await this[_0x23960e(0x7a6)][_0x23960e(0x4b3)][_0x23960e(0x191)]({'_id':_0xb164f2[_0x23960e(0x1ed)]},_0x10ffa4,this[_0x23960e(0x388)][_0x23960e(0x680)],{'arrayFilters':_0x14e40c});}finally{if(_0x46fbdf&&_0x46fbdf['status']==='stopped'){this[_0x23960e(0x5c8)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x23960e(0x680)]+_0x23960e(0x66a)+_0xec1bb9[_0x23960e(0x1ed)]+_0x23960e(0x1da));break;}let _0x10e9f4=_0x46fbdf['messages'][_0x23960e(0x3d2)](_0x3a378b=>_0x3a378b['_id']===_0xec1bb9[_0x23960e(0x1ed)]);if(_0x10e9f4&&!_0x10e9f4[_0x23960e(0x808)]){let _0x53ead0={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x4fe7ce=[{'elem._id':_0xec1bb9[_0x23960e(0x1ed)]}];await this[_0x23960e(0x7a6)][_0x23960e(0x4b3)][_0x23960e(0x191)]({'_id':_0x46fbdf[_0x23960e(0x1ed)]},_0x53ead0,this[_0x23960e(0x388)][_0x23960e(0x680)],{'arrayFilters':_0x4fe7ce});}if(this[_0x23960e(0x17f)]=_0x46fbdf[_0x23960e(0x668)][_0x23960e(0x130)](_0x4a375e=>!_0x4a375e[_0x23960e(0x808)]),_0x1b6372=this['pendingMessages'][_0x23960e(0x47a)]===0x0,this[_0x23960e(0x290)]=this['pendingMessages'][_0x23960e(0x47a)]>0x0?this[_0x23960e(0x17f)][_0x23960e(0x1a0)]((_0x30650c,_0x282561)=>(_0x30650c[_0x23960e(0x734)]??Number[_0x23960e(0x24a)])<(_0x282561['order']??Number['MAX_SAFE_INTEGER'])?_0x30650c:_0x282561)['_id']:null,_0x46fbdf[_0x23960e(0x830)]!==this['processUUID']){this[_0x23960e(0x5c8)]['verbose'](this['instanceName']+'\x20('+this[_0x23960e(0x388)][_0x23960e(0x680)]+_0x23960e(0x55e));break;}}}this[_0x23960e(0x17f)]=[],this[_0x23960e(0x290)]=null;let _0x11fb09=await this[_0x23960e(0x7a6)][_0x23960e(0x4b3)]['findById'](_0xb164f2[_0x23960e(0x1ed)],this[_0x23960e(0x388)][_0x23960e(0x680)]);if(_0x1b6372=_0x11fb09[_0x23960e(0x668)]['every'](_0x1a504a=>_0x1a504a[_0x23960e(0x808)]),_0x1b6372&&_0x11fb09[_0x23960e(0x499)]!==_0x23960e(0x5e8)){this[_0x23960e(0x388)][_0x23960e(0x41b)][_0x23960e(0x309)]=null;let _0x2fd352={'$set':{'status':_0x23960e(0x343)}};await this[_0x23960e(0x7a6)][_0x23960e(0x4b3)]['updateOneById'](_0x11fb09[_0x23960e(0x1ed)],_0x2fd352,this[_0x23960e(0x388)]['wuid']);}await new Promise(_0x5bb738=>setTimeout(_0x5bb738,_0x140985));}this[_0x23960e(0x17f)]=[],this[_0x23960e(0x290)]=null,this[_0x23960e(0x830)]=null;},_0x24bbf7=async()=>{const _0x468c10=_0x1f84e8;let _0x21c80e={'where':{'status':_0x468c10(0x6f6),'when':{'$gt':Date[_0x468c10(0x506)]()}}},_0x479e43=await this[_0x468c10(0x7a6)]['scheduleMessage'][_0x468c10(0x104)](_0x21c80e,this['instance'][_0x468c10(0x680)]);_0x479e43&&_0x479e43['when']-Date[_0x468c10(0x506)]()<=0x5265c00?this[_0x468c10(0x388)]['ScheduleMessage'][_0x468c10(0x764)]=_0x479e43[_0x468c10(0x49d)]-Date[_0x468c10(0x506)]():this[_0x468c10(0x388)][_0x468c10(0x41b)][_0x468c10(0x764)]=(0x3c+Math[_0x468c10(0x417)](Math[_0x468c10(0x1a8)]()*0x3c))*0x3c*0x3e8,this[_0x468c10(0x388)][_0x468c10(0x41b)][_0x468c10(0x764)]=Math[_0x468c10(0x584)](this[_0x468c10(0x388)]['ScheduleMessage'][_0x468c10(0x764)],0x1*0x2*0x3e8);let _0x3b4edb=Math[_0x468c10(0x7ca)](this['instance'][_0x468c10(0x41b)][_0x468c10(0x764)]/0xea60);if(_0x479e43){let _0x3bc5e9=new Date(_0x479e43[_0x468c10(0x49d)])[_0x468c10(0x65e)]();this[_0x468c10(0x5c8)][_0x468c10(0x699)](this['instanceName']+'\x20('+this[_0x468c10(0x388)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x3bc5e9+_0x468c10(0x73a)+_0x3b4edb+'\x20minutos');}else this[_0x468c10(0x5c8)][_0x468c10(0x699)](this['instanceName']+'\x20('+this[_0x468c10(0x388)][_0x468c10(0x680)]+_0x468c10(0x371)+_0x3b4edb+_0x468c10(0x1cc));setTimeout(()=>this['scheduleNextCheck'](),this['instance'][_0x468c10(0x41b)][_0x468c10(0x764)]);};if(this['instance']['ScheduleMessage'][_0x1f84e8(0x4dd)]){await this['setRestartTimeout'](),_0x1d987c();return;}if(!this[_0x1f84e8(0x388)][_0x1f84e8(0x41b)][_0x1f84e8(0x7ee)]){this[_0x1f84e8(0x5c8)]['verbose'](this[_0x1f84e8(0x7bd)]+'\x20('+this[_0x1f84e8(0x388)][_0x1f84e8(0x680)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x1f84e8(0x388)][_0x1f84e8(0x41b)][_0x1f84e8(0x4dd)]=null,this['instance'][_0x1f84e8(0x41b)][_0x1f84e8(0x2ed)]=0x0,this[_0x1f84e8(0x388)][_0x1f84e8(0x41b)][_0x1f84e8(0x764)]=0x0,this[_0x1f84e8(0x388)][_0x1f84e8(0x41b)][_0x1f84e8(0x309)]=null;return;}try{let _0x5b018f=await _0x421e75();_0x5b018f[_0x1f84e8(0x47a)]===0x0?this[_0x1f84e8(0x5c8)]['verbose'](this[_0x1f84e8(0x7bd)]+'\x20('+this[_0x1f84e8(0x388)][_0x1f84e8(0x680)]+_0x1f84e8(0x7f9)):(this[_0x1f84e8(0x388)][_0x1f84e8(0x41b)][_0x1f84e8(0x4dd)]=_0x5b018f[0x0][_0x1f84e8(0x1ed)],await _0x22df42(_0x5b018f)),await _0x24bbf7(),this[_0x1f84e8(0x388)][_0x1f84e8(0x41b)][_0x1f84e8(0x4dd)]=null,this[_0x1f84e8(0x388)]['ScheduleMessage'][_0x1f84e8(0x309)]=null;}catch(_0x34d4cd){this[_0x1f84e8(0x5c8)]['error']('Error\x20in\x20scheduleNextCheck:\x20'+(_0x34d4cd instanceof Error?_0x34d4cd[_0x1f84e8(0x620)]:JSON[_0x1f84e8(0x7e7)](_0x34d4cd,null,0x2)));}}[a0_0x46d805(0x1a1)](_0x70fae7,_0xca97fb){const _0x1a5d6f=a0_0x46d805;return _0x70fae7=Math[_0x1a5d6f(0x584)](0.5,_0x70fae7),_0xca97fb=Math[_0x1a5d6f(0x6a6)](Math[_0x1a5d6f(0x584)](0x3,_0xca97fb),0x78),Math[_0x1a5d6f(0x417)](Math[_0x1a5d6f(0x1a8)]()*(_0xca97fb-_0x70fae7+0x1)+_0x70fae7)*0x3e8;}[a0_0x46d805(0x501)](_0x284b46){return new Promise(_0x1e2f78=>setTimeout(_0x1e2f78,_0x284b46));}async[a0_0x46d805(0x288)](_0x533fb6){const _0x1f2d1b=a0_0x46d805;if(!this[_0x1f2d1b(0x53e)]&&(await this[_0x1f2d1b(0x26b)](),!this[_0x1f2d1b(0x53e)]))return null;_0x533fb6=this[_0x1f2d1b(0x294)](_0x533fb6);let _0x16fe93=await this[_0x1f2d1b(0x7a6)][_0x1f2d1b(0x64f)][_0x1f2d1b(0x104)]({'where':{'_id':_0x533fb6}},this['instance'][_0x1f2d1b(0x680)]),_0x149b6b={};if(_0x16fe93&&_0x16fe93['leadInfo']){let _0x290a94=_0x16fe93[_0x1f2d1b(0x5fa)];typeof _0x290a94['nome']=='string'&&(_0x149b6b[_0x1f2d1b(0x7c6)]=_0x290a94['nome']),typeof _0x290a94[_0x1f2d1b(0x1d4)]==_0x1f2d1b(0x12c)&&(_0x149b6b['nomecompleto']=_0x290a94[_0x1f2d1b(0x1d4)]),typeof _0x290a94['email']==_0x1f2d1b(0x12c)&&(_0x149b6b[_0x1f2d1b(0x704)]=_0x290a94[_0x1f2d1b(0x704)]),typeof _0x290a94[_0x1f2d1b(0x32c)]==_0x1f2d1b(0x12c)&&(_0x149b6b['cpf']=_0x290a94[_0x1f2d1b(0x32c)]),typeof _0x290a94['status']==_0x1f2d1b(0x12c)&&(_0x149b6b['status']=_0x290a94[_0x1f2d1b(0x499)]),typeof _0x290a94[_0x1f2d1b(0x560)]==_0x1f2d1b(0x12c)&&(_0x149b6b[_0x1f2d1b(0x560)]=_0x290a94[_0x1f2d1b(0x560)]),typeof _0x290a94[_0x1f2d1b(0x59b)]=='string'&&(_0x149b6b[_0x1f2d1b(0x59b)]=_0x290a94[_0x1f2d1b(0x59b)]),Array[_0x1f2d1b(0x6a0)](_0x290a94['tags'])&&(_0x149b6b[_0x1f2d1b(0x56c)]=_0x290a94[_0x1f2d1b(0x56c)][_0x1f2d1b(0x755)](',\x20')),Array[_0x1f2d1b(0x6a0)](_0x290a94[_0x1f2d1b(0x75e)])&&(_0x149b6b[_0x1f2d1b(0x75e)]=_0x290a94[_0x1f2d1b(0x75e)][_0x1f2d1b(0x755)](',\x20'));}return _0x16fe93&&_0x16fe93[_0x1f2d1b(0x5fa)]&&_0x16fe93[_0x1f2d1b(0x5fa)][_0x1f2d1b(0x58b)]&&_0x16fe93[_0x1f2d1b(0x5fa)][_0x1f2d1b(0x58b)]['forEach'](_0x7b71c2=>{const _0x8d0e15=_0x1f2d1b;let _0x2d002e=this[_0x8d0e15(0x53e)]?.[_0x8d0e15(0x58b)][_0x8d0e15(0x3d2)](_0x3f547f=>_0x3f547f[_0x8d0e15(0x1ed)]===_0x7b71c2[_0x8d0e15(0x1ed)]);_0x2d002e&&(_0x149b6b[_0x2d002e[_0x8d0e15(0x73f)]]=_0x7b71c2[_0x8d0e15(0x176)]);}),_0x149b6b;}async[a0_0x46d805(0x5f3)](_0x3a2dd6,_0x11ba87){const _0x4628c1=a0_0x46d805;try{let _0x3ee089=await this[_0x4628c1(0x288)](_0x11ba87);return this['replaceVariables'](_0x3a2dd6,_0x3ee089);}catch(_0x90c53b){return this[_0x4628c1(0x5c8)][_0x4628c1(0x7ba)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x11ba87+':\x20'+_0x90c53b),_0x3a2dd6;}}async['transformScheduledMessagesByType'](){const _0x59f260=a0_0x46d805;let _0x13eb18=async(_0x151fb8,_0x36cc51)=>{const _0x29ce26=a0_0x1054;let _0x88ff03=(await this[_0x29ce26(0x7a6)][_0x29ce26(0x4b3)][_0x29ce26(0x3d2)]({'where':{'type':_0x151fb8}},this['instance']['wuid']))[_0x29ce26(0x1bd)](async _0x270c8d=>{const _0x38b30c=_0x29ce26;let _0x140eef=_0x36cc51(_0x270c8d),_0xf33259=_0x4e4381=>/^\d+$/['test'](_0x4e4381),_0x394f5a=_0x270c8d['remoteJids']['filter'](_0x41c7eb=>_0x41c7eb['endsWith'](_0x38b30c(0x602))?_0x41c7eb['length']>0x19:_0x41c7eb['endsWith']('@g.us')?_0x41c7eb['length']>0xf:_0xf33259(_0x41c7eb)?_0x41c7eb[_0x38b30c(0x47a)]>=0xb:!0x1)['map'](_0x15f3ad=>({'_id':(0x0,Q['v4'])(),'type':_0x140eef,'remoteJid':_0x15f3ad,'flow':_0x270c8d['flowName'],'text':_0x270c8d[_0x38b30c(0x620)]?.[_0x38b30c(0x80a)],'delay':_0x270c8d[_0x38b30c(0x620)]?.[_0x38b30c(0x190)],'urlOrBase64':_0x270c8d['message']?.[_0x38b30c(0x135)],'linkPreview':_0x270c8d[_0x38b30c(0x620)]?.[_0x38b30c(0x27f)],'fileName':_0x270c8d[_0x38b30c(0x620)]?.['fileName'],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x38b30c(0x7a6)]['scheduleMessage'][_0x38b30c(0x5ca)](_0x270c8d[_0x38b30c(0x1ed)],{'$set':{'messages':_0x394f5a},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x38b30c(0x388)][_0x38b30c(0x680)]);}catch(_0x3ffbd3){console['error']('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x270c8d[_0x38b30c(0x1ed)]+':',_0x3ffbd3);}});await Promise[_0x29ce26(0x7fa)](_0x88ff03);};await _0x13eb18(_0x59f260(0x80a),_0x437670=>_0x59f260(0x80a)),await _0x13eb18(_0x59f260(0x6eb),_0x47bc02=>_0x47bc02[_0x59f260(0x620)]?.[_0x59f260(0x235)]||_0x59f260(0x6eb)),await _0x13eb18(_0x59f260(0x451),_0x5d687e=>_0x59f260(0x451)),await _0x13eb18(_0x59f260(0x293),_0x53836b=>_0x59f260(0x293)),await _0x13eb18(_0x59f260(0x633),_0x242fa1=>'image'),await _0x13eb18(_0x59f260(0x4b6),_0x199a8d=>_0x59f260(0x4b6)),await _0x13eb18(_0x59f260(0x2c2),_0xa33bc3=>_0x59f260(0x2c2)),this['logger'][_0x59f260(0x699)](this[_0x59f260(0x7bd)]+'\x20('+this[_0x59f260(0x388)][_0x59f260(0x680)]+_0x59f260(0x4d4));}async[a0_0x46d805(0x576)](_0x2bedd0){const _0x3fac67=a0_0x46d805;try{if(this[_0x3fac67(0x5c8)][_0x3fac67(0x699)](this[_0x3fac67(0x7bd)]+'\x20('+this['instance'][_0x3fac67(0x680)]+_0x3fac67(0x4ab)),_0x2bedd0['_id']||(_0x2bedd0[_0x3fac67(0x1ed)]=(0x0,Q['v4'])()),this[_0x3fac67(0x388)][_0x3fac67(0x41b)]['processingGroup_id']===_0x2bedd0[_0x3fac67(0x1ed)]?.[_0x3fac67(0x821)]()&&_0x2bedd0[_0x3fac67(0x499)]!=='stopped')throw new Error(_0x3fac67(0x448));if(_0x2bedd0[_0x3fac67(0x835)]&&_0x2bedd0[_0x3fac67(0x1ed)]){let _0x49b342=await this[_0x3fac67(0x7a6)][_0x3fac67(0x4b3)]['deleteOne'](_0x2bedd0[_0x3fac67(0x1ed)],this['instance'][_0x3fac67(0x680)]);return setTimeout(()=>this[_0x3fac67(0x2bf)](),0x7d0),_0x49b342;}let _0x32ae53=null;if(_0x2bedd0[_0x3fac67(0x1ed)]&&(_0x32ae53=await this[_0x3fac67(0x7a6)][_0x3fac67(0x4b3)][_0x3fac67(0x470)](_0x2bedd0['_id'],this['instance'][_0x3fac67(0x680)])),_0x32ae53){let {_id:_0x38e590,owner:_0x4ca6cc,messages:_0x30308b,status:_0x35c5bd,..._0x144103}=_0x2bedd0;if(_0x30308b&&_0x35c5bd!==_0x3fac67(0x5e8)){let _0x40f70a=_0x30308b[_0x3fac67(0x130)](_0x2a60b6=>!_0x2a60b6[_0x3fac67(0x1ed)]),_0x217194=_0x30308b[_0x3fac67(0x130)](_0x3bd06c=>_0x3bd06c[_0x3fac67(0x1ed)]&&!_0x3bd06c[_0x3fac67(0x835)]),_0x59e9cc=_0x30308b['filter'](_0x435ddb=>_0x435ddb[_0x3fac67(0x1ed)]&&_0x435ddb[_0x3fac67(0x835)]);if(_0x40f70a[_0x3fac67(0x47a)]>0x0&&await this['addMessagesToGroup'](_0x2bedd0[_0x3fac67(0x1ed)],_0x40f70a),_0x217194[_0x3fac67(0x47a)]>0x0&&await this['editMessagesInGroup']({'_id':_0x2bedd0[_0x3fac67(0x1ed)],'messages':_0x217194}),_0x59e9cc[_0x3fac67(0x47a)]>0x0){let _0xfa01f4=_0x59e9cc[_0x3fac67(0x1bd)](_0x477ef6=>({'updateOne':{'filter':{'_id':_0x2bedd0[_0x3fac67(0x1ed)]},'update':{'$pull':{'messages':{'_id':_0x477ef6[_0x3fac67(0x1ed)]}}}}}));await this[_0x3fac67(0x7a6)][_0x3fac67(0x4b3)][_0x3fac67(0x610)](_0xfa01f4,this[_0x3fac67(0x388)]['wuid']);}}let _0x23bca1=_0x35c5bd==='stopped'?{'$set':{'status':_0x35c5bd}}:{'$set':_0x144103},_0x9eef6f=await this[_0x3fac67(0x7a6)][_0x3fac67(0x4b3)][_0x3fac67(0x5ca)](_0x2bedd0['_id'],_0x23bca1,this[_0x3fac67(0x388)]['wuid']);return _0x9eef6f&&(this[_0x3fac67(0x7d5)](_0x9eef6f['messages']),await this[_0x3fac67(0x7a6)]['scheduleMessage'][_0x3fac67(0x5ca)](_0x9eef6f[_0x3fac67(0x1ed)],{'$set':{'messages':_0x9eef6f[_0x3fac67(0x668)]}},this[_0x3fac67(0x388)][_0x3fac67(0x680)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x3fac67(0x13b)](),_0x9eef6f;}else{_0x2bedd0[_0x3fac67(0x237)]=this['instance'][_0x3fac67(0x680)],_0x2bedd0['messages']&&_0x2bedd0[_0x3fac67(0x668)]['forEach'](_0x274e8f=>{const _0x4e4848=_0x3fac67;_0x274e8f[_0x4e4848(0x1ed)]||(_0x274e8f[_0x4e4848(0x1ed)]=(0x0,Q['v4'])()),delete _0x274e8f[_0x4e4848(0x808)];});let _0xead1f3=await this[_0x3fac67(0x7a6)]['scheduleMessage']['createAndSave'](_0x2bedd0,this[_0x3fac67(0x388)][_0x3fac67(0x680)]);return _0xead1f3&&(this[_0x3fac67(0x7d5)](_0xead1f3[_0x3fac67(0x668)]),await this[_0x3fac67(0x7a6)][_0x3fac67(0x4b3)][_0x3fac67(0x5ca)](_0xead1f3[_0x3fac67(0x1ed)],{'$set':{'messages':_0xead1f3[_0x3fac67(0x668)]}},this[_0x3fac67(0x388)]['wuid'])),setTimeout(()=>this[_0x3fac67(0x2bf)](),0x7d0),_0xead1f3;}}catch(_0x5b63df){let _0x12e9c8=_0x3fac67(0x252),_0x37c8c8=_0x5b63df instanceof Error?_0x5b63df['message']:typeof _0x5b63df==_0x3fac67(0x1a3)?JSON[_0x3fac67(0x7e7)](_0x5b63df):_0x5b63df,_0x2a2100=_0x12e9c8+':\x20'+_0x37c8c8;throw this[_0x3fac67(0x5c8)][_0x3fac67(0x7ba)](this[_0x3fac67(0x7bd)]+'\x20('+this['instance'][_0x3fac67(0x680)]+_0x3fac67(0x32d)+_0x2a2100),new m(_0x2a2100);}}async[a0_0x46d805(0x829)](_0x25dbe8,_0x2e1df7){const _0x1c1dfc=a0_0x46d805;try{this[_0x1c1dfc(0x5c8)]['verbose'](this[_0x1c1dfc(0x7bd)]+'\x20('+this[_0x1c1dfc(0x388)][_0x1c1dfc(0x680)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x2e1df7[_0x1c1dfc(0x1db)](_0x2d78a7=>{const _0xb9d158=_0x1c1dfc;_0x2d78a7[_0xb9d158(0x1ed)]||(_0x2d78a7['_id']=(0x0,Q['v4'])()),delete _0x2d78a7[_0xb9d158(0x808)];});let _0x2b61bd={'$push':{'messages':{'$each':_0x2e1df7}}},_0x5d9e7c=await this[_0x1c1dfc(0x7a6)][_0x1c1dfc(0x4b3)]['updateOneById'](_0x25dbe8,_0x2b61bd,this[_0x1c1dfc(0x388)]['wuid']);return _0x5d9e7c&&(this[_0x1c1dfc(0x7d5)](_0x5d9e7c['messages']),await this[_0x1c1dfc(0x7a6)]['scheduleMessage']['updateOneById'](_0x5d9e7c[_0x1c1dfc(0x1ed)],{'$set':{'messages':_0x5d9e7c[_0x1c1dfc(0x668)]}},this[_0x1c1dfc(0x388)]['wuid'])),_0x5d9e7c;}catch(_0x28738a){let _0x1b4bc5=_0x1c1dfc(0x40a),_0x54ca91=_0x28738a instanceof Error?_0x28738a[_0x1c1dfc(0x620)]:typeof _0x28738a==_0x1c1dfc(0x1a3)?JSON[_0x1c1dfc(0x7e7)](_0x28738a):_0x28738a,_0x18e00d=_0x1b4bc5+':\x20'+_0x54ca91;throw this[_0x1c1dfc(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x1c1dfc(0x388)][_0x1c1dfc(0x680)]+_0x1c1dfc(0x32d)+_0x18e00d),new m(_0x18e00d);}}async[a0_0x46d805(0x644)](_0x572b29){const _0x272faf=a0_0x46d805;try{if(this[_0x272faf(0x5c8)][_0x272faf(0x699)](this[_0x272faf(0x7bd)]+'\x20('+this['instance'][_0x272faf(0x680)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x572b29['_id']||!_0x572b29[_0x272faf(0x668)])throw new Error(_0x272faf(0x67a));let _0xbaa458=_0x572b29[_0x272faf(0x1ed)],_0x24cbdc=_0x572b29[_0x272faf(0x668)],_0x2931fb=_0x24cbdc[_0x272faf(0x130)](_0x5464c4=>!_0x5464c4[_0x272faf(0x835)])[_0x272faf(0x1bd)](_0x2fc392=>{const _0x1f420c=_0x272faf;let _0x3a2df0=_0x2fc392['_id'];if(!_0x3a2df0)throw new Error(_0x1f420c(0x46a));return delete _0x2fc392[_0x1f420c(0x808)],{'updateOne':{'filter':{'_id':_0xbaa458,'messages._id':_0x3a2df0},'update':{'$set':{'messages.$[elem]':_0x2fc392}},'arrayFilters':[{'elem._id':_0x3a2df0}]}};}),_0x4d6bd5=_0x24cbdc[_0x272faf(0x130)](_0x4b9db7=>_0x4b9db7[_0x272faf(0x835)])['map'](_0x25e7d5=>{const _0x2f8f95=_0x272faf;let _0x10c20a=_0x25e7d5['_id'];if(!_0x10c20a)throw new Error(_0x2f8f95(0x21b));return{'updateOne':{'filter':{'_id':_0xbaa458},'update':{'$pull':{'messages':{'_id':_0x10c20a}}}}};}),_0x1ff64d=[..._0x2931fb,..._0x4d6bd5],_0x521f79=await this[_0x272faf(0x7a6)][_0x272faf(0x4b3)][_0x272faf(0x610)](_0x1ff64d,this[_0x272faf(0x388)][_0x272faf(0x680)]),_0x329533=await this['repository'][_0x272faf(0x4b3)]['findById'](_0xbaa458,this['instance']['wuid']);return _0x329533&&(this[_0x272faf(0x7d5)](_0x329533[_0x272faf(0x668)]),await this['repository'][_0x272faf(0x4b3)][_0x272faf(0x5ca)](_0x329533[_0x272faf(0x1ed)],{'$set':{'messages':_0x329533[_0x272faf(0x668)]}},this['instance'][_0x272faf(0x680)])),_0x329533;}catch(_0x3fd25f){let _0x32791c=_0x272faf(0x420),_0x5e2855=_0x3fd25f instanceof Error?_0x3fd25f['message']:typeof _0x3fd25f==_0x272faf(0x1a3)?JSON[_0x272faf(0x7e7)](_0x3fd25f):_0x3fd25f,_0x94db61=_0x32791c+':\x20'+_0x5e2855;throw this[_0x272faf(0x5c8)][_0x272faf(0x7ba)](this[_0x272faf(0x7bd)]+'\x20('+this[_0x272faf(0x388)][_0x272faf(0x680)]+_0x272faf(0x32d)+_0x94db61),new m(_0x94db61);}}async[a0_0x46d805(0x4d8)](){const _0x2b9f86=a0_0x46d805;try{let _0x10bf8b={'status':'done'},_0x7bbc78=await this[_0x2b9f86(0x7a6)][_0x2b9f86(0x4b3)][_0x2b9f86(0x2c3)](_0x10bf8b,this[_0x2b9f86(0x388)][_0x2b9f86(0x680)]);if(!_0x7bbc78['error'])this['logger']['verbose'](this[_0x2b9f86(0x7bd)]+'\x20('+this[_0x2b9f86(0x388)][_0x2b9f86(0x680)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x7bbc78[_0x2b9f86(0x7ba)][_0x2b9f86(0x620)]||_0x2b9f86(0x575));return this[_0x2b9f86(0x540)]();}catch(_0x42a46f){let _0x205dc6=_0x2b9f86(0x1c1),_0x49e82c=_0x42a46f instanceof Error?_0x42a46f[_0x2b9f86(0x620)]:typeof _0x42a46f==_0x2b9f86(0x1a3)?JSON[_0x2b9f86(0x7e7)](_0x42a46f):_0x42a46f,_0x54150=_0x205dc6+':\x20'+_0x49e82c;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2b9f86(0x32d)+_0x54150),new m(_0x54150);}}async[a0_0x46d805(0x540)](){const _0x4d61d7=a0_0x46d805;try{return await this[_0x4d61d7(0x7a6)][_0x4d61d7(0x4b3)][_0x4d61d7(0x3d2)]({'where':{}},this[_0x4d61d7(0x388)][_0x4d61d7(0x680)]);}catch(_0x14fb48){let _0xd667c4=_0x4d61d7(0x6ed),_0x69b044=_0x14fb48 instanceof Error?_0x14fb48[_0x4d61d7(0x620)]:typeof _0x14fb48==_0x4d61d7(0x1a3)?JSON[_0x4d61d7(0x7e7)](_0x14fb48):_0x14fb48,_0x492f56=_0xd667c4+':\x20'+_0x69b044;throw this[_0x4d61d7(0x5c8)][_0x4d61d7(0x7ba)](this[_0x4d61d7(0x7bd)]+'\x20('+this[_0x4d61d7(0x388)]['wuid']+_0x4d61d7(0x32d)+_0x492f56),new m(_0x492f56);}}[a0_0x46d805(0x7d5)](_0x3f6646){const _0x53ed7e=a0_0x46d805;_0x3f6646[_0x53ed7e(0x504)]((_0xb7a18,_0xb7cc80)=>_0xb7a18['order']-_0xb7cc80[_0x53ed7e(0x734)]),_0x3f6646[_0x53ed7e(0x1db)]((_0x4adf09,_0xa176f0)=>{const _0x4d4e74=_0x53ed7e;_0x4adf09[_0x4d4e74(0x734)]=_0xa176f0+0x1;});}async[a0_0x46d805(0x45a)](_0x12dc18,_0x2c3a80){const _0x469d80=a0_0x46d805;try{if(!_0x2c3a80)return this[_0x469d80(0x5c8)]['error'](this[_0x469d80(0x7bd)]+'\x20('+this[_0x469d80(0x388)][_0x469d80(0x680)]+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x469d80(0x17d)};if(_0x2c3a80[_0x469d80(0x319)]==='flow'&&!this[_0x469d80(0x53e)]?.[_0x469d80(0x559)][_0x469d80(0x2b6)])return this[_0x469d80(0x5c8)]['error'](this[_0x469d80(0x7bd)]+'\x20('+this[_0x469d80(0x388)][_0x469d80(0x680)]+_0x469d80(0x762)),{'error':!0x0,'detail':_0x469d80(0x41c)};switch(_0x2c3a80[_0x469d80(0x319)]){case _0x469d80(0x80a):return await this[_0x469d80(0x6d6)](_0x2c3a80,_0x12dc18);case _0x469d80(0x4b6):case'image':case _0x469d80(0x2c2):return await this[_0x469d80(0x6f9)](_0x2c3a80,_0x12dc18);case'audio':return await this[_0x469d80(0x60f)](_0x2c3a80,_0x12dc18);case'flow':let _0x227f8d=new Ke();return _0x227f8d[_0x469d80(0x73f)]=_0x2c3a80[_0x469d80(0x293)],_0x227f8d['remoteJid']=_0x12dc18,await this[_0x469d80(0x116)](_0x227f8d);default:return this['logger'][_0x469d80(0x7ba)](this[_0x469d80(0x7bd)]+'\x20('+this[_0x469d80(0x388)][_0x469d80(0x680)]+_0x469d80(0x4df)+_0x2c3a80[_0x469d80(0x319)]),{'error':!0x0,'detail':_0x469d80(0x75c)};}}catch(_0x439665){return this[_0x469d80(0x5c8)][_0x469d80(0x7ba)](this[_0x469d80(0x7bd)]+'\x20('+this[_0x469d80(0x388)]['wuid']+_0x469d80(0x2aa)+(_0x439665 instanceof Error?_0x439665[_0x469d80(0x620)]:JSON[_0x469d80(0x7e7)](_0x439665,null,0x2))),{'error':!0x0,'detail':_0x439665['message']};}}async[a0_0x46d805(0x6d6)](_0x5a5064,_0x1c77db){const _0x3705ec=a0_0x46d805;if(this['logger'][_0x3705ec(0x699)](this[_0x3705ec(0x7bd)]+'\x20('+this[_0x3705ec(0x388)][_0x3705ec(0x680)]+_0x3705ec(0x4b0)+_0x1c77db+'\x27'),!_0x5a5064[_0x3705ec(0x80a)]||_0x5a5064[_0x3705ec(0x80a)]['length']===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x42fa36=await this[_0x3705ec(0x5f3)](_0x5a5064[_0x3705ec(0x80a)],_0x1c77db),_0x3da0ad={'number':_0x1c77db,'options':{'delay':_0x5a5064['delay'],'linkPreview':_0x5a5064[_0x3705ec(0x27f)]},'textMessage':{'text':_0x42fa36}},_0x24d3a6=null;try{let _0x554c1c=await this[_0x3705ec(0x7ac)](_0x3da0ad);if(_0x554c1c&&_0x554c1c[_0x3705ec(0x499)])return{'error':!0x1,'id':_0x554c1c[_0x3705ec(0x2da)]['id']};_0x24d3a6=JSON[_0x3705ec(0x7e7)](_0x554c1c),this[_0x3705ec(0x5c8)][_0x3705ec(0x699)](this[_0x3705ec(0x7bd)]+'\x20('+this[_0x3705ec(0x388)][_0x3705ec(0x680)]+_0x3705ec(0x32d)+_0x24d3a6);}catch(_0x539a4d){this[_0x3705ec(0x5c8)][_0x3705ec(0x7ba)](this[_0x3705ec(0x7bd)]+'\x20('+this[_0x3705ec(0x388)][_0x3705ec(0x680)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x539a4d instanceof Error?_0x539a4d[_0x3705ec(0x620)]:JSON[_0x3705ec(0x7e7)](_0x539a4d,null,0x2))),_0x24d3a6=_0x539a4d[_0x3705ec(0x620)];}if(_0x24d3a6)return{'error':!0x0,'detail':(typeof _0x24d3a6=='object'?JSON[_0x3705ec(0x7e7)](_0x24d3a6,null,0x2):_0x24d3a6)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3705ec(0x1cd)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x1fe2c6,_0x3a3880){const _0x286b9b=a0_0x46d805;this[_0x286b9b(0x5c8)]['verbose'](this[_0x286b9b(0x7bd)]+'\x20('+this[_0x286b9b(0x388)]['wuid']+_0x286b9b(0x6cf)+_0x3a3880+'\x27');let _0x217087;_0x1fe2c6[_0x286b9b(0x80a)]&&_0x1fe2c6['text'][_0x286b9b(0x47a)]>0x0&&(_0x217087=await this[_0x286b9b(0x5f3)](_0x1fe2c6[_0x286b9b(0x80a)],_0x3a3880));let _0x1b46f7={'number':_0x3a3880,'options':{'delay':_0x1fe2c6[_0x286b9b(0x190)],'linkPreview':_0x1fe2c6[_0x286b9b(0x27f)]},'mediaMessage':{'mediatype':_0x1fe2c6['type'],'caption':_0x217087,'media':_0x1fe2c6[_0x286b9b(0x135)]}},_0x18e9ac=null;try{let _0x32ff6f=await this[_0x286b9b(0x5db)](_0x1b46f7);if(_0x32ff6f&&_0x32ff6f[_0x286b9b(0x499)])return{'error':!0x1,'id':_0x32ff6f[_0x286b9b(0x2da)]['id']};_0x18e9ac=JSON[_0x286b9b(0x7e7)](_0x32ff6f),this[_0x286b9b(0x5c8)][_0x286b9b(0x699)](this[_0x286b9b(0x7bd)]+'\x20('+this[_0x286b9b(0x388)][_0x286b9b(0x680)]+_0x286b9b(0x32d)+_0x18e9ac);}catch(_0x146cc9){this[_0x286b9b(0x5c8)][_0x286b9b(0x7ba)](this['instanceName']+'\x20('+this[_0x286b9b(0x388)][_0x286b9b(0x680)]+_0x286b9b(0x4f1)+(_0x146cc9 instanceof Error?_0x146cc9[_0x286b9b(0x620)]:JSON[_0x286b9b(0x7e7)](_0x146cc9,null,0x2))),_0x18e9ac=_0x146cc9['message'];}if(_0x18e9ac)return{'error':!0x0,'detail':(typeof _0x18e9ac==_0x286b9b(0x1a3)?JSON['stringify'](_0x18e9ac,null,0x2):_0x18e9ac)[_0x286b9b(0x1cd)](/[\[\]{}\n]/g,'\x20')[_0x286b9b(0x1cd)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x5f1935,_0x481b8b){const _0x4ec982=a0_0x46d805;this[_0x4ec982(0x5c8)][_0x4ec982(0x699)](this[_0x4ec982(0x7bd)]+'\x20('+this[_0x4ec982(0x388)]['wuid']+_0x4ec982(0x6a4)+_0x481b8b+'\x27');let _0x2ca4ac={'number':_0x481b8b,'options':{'delay':_0x5f1935[_0x4ec982(0x190)]},'audioMessage':{'audio':_0x5f1935[_0x4ec982(0x135)]}},_0x70e7d8=null;try{let _0x2febfb=await this[_0x4ec982(0x67c)](_0x2ca4ac);if(_0x2febfb&&_0x2febfb[_0x4ec982(0x499)])return{'error':!0x1,'id':_0x2febfb[_0x4ec982(0x2da)]['id']};_0x70e7d8=JSON[_0x4ec982(0x7e7)](_0x2febfb),this[_0x4ec982(0x5c8)]['verbose'](this[_0x4ec982(0x7bd)]+'\x20('+this['instance'][_0x4ec982(0x680)]+_0x4ec982(0x32d)+_0x70e7d8);}catch(_0x300702){this[_0x4ec982(0x5c8)][_0x4ec982(0x7ba)](this[_0x4ec982(0x7bd)]+'\x20('+this['instance']['wuid']+_0x4ec982(0x279)+(_0x300702 instanceof Error?_0x300702[_0x4ec982(0x620)]:JSON[_0x4ec982(0x7e7)](_0x300702,null,0x2))),_0x70e7d8=_0x300702[_0x4ec982(0x620)];}if(_0x70e7d8)return{'error':!0x0,'detail':(typeof _0x70e7d8==_0x4ec982(0x1a3)?JSON[_0x4ec982(0x7e7)](_0x70e7d8,null,0x2):_0x70e7d8)[_0x4ec982(0x1cd)](/[\[\]{}\n]/g,'\x20')[_0x4ec982(0x1cd)](/  +/g,'\x20')};}async[a0_0x46d805(0x7fe)](_0x31ae91){const _0x4aad10=a0_0x46d805;try{return await this['client'][_0x4aad10(0x4d7)](_0x31ae91[_0x4aad10(0x53c)],_0x31ae91[_0x4aad10(0x4d1)]),{'update':_0x4aad10(0x51e)};}catch(_0x312163){let _0xec87f0=_0x4aad10(0x747),_0x102131=_0x312163 instanceof Error?_0x312163[_0x4aad10(0x620)]:typeof _0x312163==_0x4aad10(0x1a3)?JSON['stringify'](_0x312163):_0x312163,_0x52b9dc=_0xec87f0+':\x20'+_0x102131;throw this['logger'][_0x4aad10(0x7ba)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4aad10(0x32d)+_0x52b9dc),new x(_0x52b9dc);}}async[a0_0x46d805(0x44b)](_0x8054af){const _0x597866=a0_0x46d805;try{return await this[_0x597866(0x3bf)][_0x597866(0x33f)](_0x8054af['groupJid'],_0x8054af[_0x597866(0x73f)]),{'update':'success'};}catch(_0x75db77){let _0x51195e=_0x597866(0x323),_0x597fb6=_0x75db77 instanceof Error?_0x75db77[_0x597866(0x620)]:typeof _0x75db77==_0x597866(0x1a3)?JSON['stringify'](_0x75db77):_0x75db77,_0x5bc508=_0x51195e+':\x20'+_0x597fb6;throw this['logger'][_0x597866(0x7ba)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x597866(0x32d)+_0x5bc508),new x(_0x5bc508);}}async[a0_0x46d805(0x703)](_0x2bcfe6){const _0x53aaed=a0_0x46d805;try{let _0x4f5f0d=await this[_0x53aaed(0x3bf)][_0x53aaed(0x3ee)](_0x2bcfe6[_0x53aaed(0x53c)],_0x2bcfe6['expiration']);return{'success':!0x0};}catch(_0x25b263){let _0x194064=_0x53aaed(0x6ab),_0x217d11=_0x25b263 instanceof Error?_0x25b263[_0x53aaed(0x620)]:typeof _0x25b263=='object'?JSON[_0x53aaed(0x7e7)](_0x25b263):_0x25b263,_0x5a0eed=_0x194064+':\x20'+_0x217d11;throw this[_0x53aaed(0x5c8)]['error'](this['instanceName']+'\x20('+this[_0x53aaed(0x388)][_0x53aaed(0x680)]+'):\x20'+_0x5a0eed),new x(_0x5a0eed);}}async[a0_0x46d805(0x3e2)](_0x1f99f6){const _0x55bb7f=a0_0x46d805;try{return await this['client'][_0x55bb7f(0x20c)](_0x1f99f6[_0x55bb7f(0x53c)],_0x1f99f6[_0x55bb7f(0x11e)]),{'update':'success'};}catch(_0xcd8707){let _0x30c153=_0x55bb7f(0x7c1),_0x19b568=_0xcd8707 instanceof Error?_0xcd8707[_0x55bb7f(0x620)]:typeof _0xcd8707==_0x55bb7f(0x1a3)?JSON[_0x55bb7f(0x7e7)](_0xcd8707):_0xcd8707,_0x321b3b=_0x30c153+':\x20'+_0x19b568;throw this[_0x55bb7f(0x5c8)][_0x55bb7f(0x7ba)](this[_0x55bb7f(0x7bd)]+'\x20('+this[_0x55bb7f(0x388)][_0x55bb7f(0x680)]+_0x55bb7f(0x32d)+_0x321b3b),new x(_0x321b3b);}}async[a0_0x46d805(0x756)](_0x9095f4){const _0x54eac2=a0_0x46d805;try{let _0x18b76e;if((0x0,F[_0x54eac2(0x136)])(_0x9095f4[_0x54eac2(0x633)])){let _0x49ecdb=new Date()['getTime'](),_0x5591c6=_0x9095f4[_0x54eac2(0x633)]+_0x54eac2(0x6e7)+_0x49ecdb;_0x18b76e=(await Z[_0x54eac2(0x6ef)][_0x54eac2(0x1ae)](_0x5591c6,{'responseType':_0x54eac2(0x28a)}))[_0x54eac2(0x3df)];}else{if((0x0,F[_0x54eac2(0x7a4)])(_0x9095f4[_0x54eac2(0x633)]))_0x18b76e=Buffer[_0x54eac2(0x59f)](_0x9095f4[_0x54eac2(0x633)],_0x54eac2(0x11b));else throw new m(_0x54eac2(0x605));}return await this['client'][_0x54eac2(0x43a)](_0x9095f4['groupJid'],_0x18b76e),{'update':'success'};}catch(_0x3da8d6){let _0x5d7773=_0x54eac2(0x215),_0x3516b=_0x3da8d6 instanceof Error?_0x3da8d6['message']:typeof _0x3da8d6==_0x54eac2(0x1a3)?JSON[_0x54eac2(0x7e7)](_0x3da8d6):_0x3da8d6,_0x1d91b1=_0x5d7773+':\x20'+_0x3516b;throw this[_0x54eac2(0x5c8)][_0x54eac2(0x7ba)](this[_0x54eac2(0x7bd)]+'\x20('+this[_0x54eac2(0x388)][_0x54eac2(0x680)]+_0x54eac2(0x32d)+_0x1d91b1),new x(_0x1d91b1);}}},Gt=class u{constructor(_0x345a4b,_0x51c1bb,_0x5e8d8d){const _0x106be1=a0_0x46d805;this[_0x106be1(0x4d2)]=_0x345a4b,this[_0x106be1(0x3a5)]=_0x51c1bb,this['repository']=_0x5e8d8d,this['db']={},this['redis']={},this['logger']=new $(u['name']),this[_0x106be1(0x7cb)]={},(this[_0x106be1(0x505)](),this[_0x106be1(0x429)](),Object[_0x106be1(0x3d5)](this['db'],_0x51c1bb[_0x106be1(0x1ae)](_0x106be1(0x1e2))),Object['assign'](this['redis'],_0x51c1bb[_0x106be1(0x1ae)](_0x106be1(0x4c3))),this[_0x106be1(0x182)]=this['db'][_0x106be1(0x272)]?this[_0x106be1(0x7a6)][_0x106be1(0x345)]?.['db'](this['db']['CONNECTION'][_0x106be1(0x3f8)]+'-instances'):void 0x0,this[_0x106be1(0x5b2)]=this[_0x106be1(0x82b)][_0x106be1(0x272)]?new ge(this[_0x106be1(0x82b)]):void 0x0);}async['instanceInfo'](_0x563889){const _0x1c683f=a0_0x46d805;if(_0x563889&&!this[_0x1c683f(0x7cb)][_0x563889])throw new V('Instance\x20\x22'+_0x563889+_0x1c683f(0x42d));let _0x61b62a=[];for await(let [_0x538e4d,_0x5d753b]of Object[_0x1c683f(0x50a)](this[_0x1c683f(0x7cb)]))if(_0x5d753b&&_0x5d753b[_0x1c683f(0x7e5)][_0x1c683f(0x4da)]==='open'){let _0x1407ef=await this[_0x1c683f(0x7a6)]['auth'][_0x1c683f(0x3d2)](_0x538e4d);_0x61b62a[_0x1c683f(0x70b)]({'instance':{'instanceName':_0x538e4d,'apikey':_0x1407ef[_0x1c683f(0x81a)],'owner':_0x5d753b[_0x1c683f(0x680)],'profileName':await _0x5d753b['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x5d753b[_0x1c683f(0x2cc)]}});}return _0x61b62a[_0x1c683f(0x3d2)](_0x1693dc=>_0x1693dc[_0x1c683f(0x388)][_0x1c683f(0x7bd)]===_0x563889)??_0x61b62a;}async[a0_0x46d805(0x541)](_0x5ca9ae){const _0x47f383=a0_0x46d805;if(this['db'][_0x47f383(0x272)]&&(await this[_0x47f383(0x7a6)][_0x47f383(0x345)][_0x47f383(0x377)](),(await this[_0x47f383(0x182)][_0x47f383(0x207)]())[_0x47f383(0x47a)]>0x0&&await this['dbInstance'][_0x47f383(0x168)](_0x5ca9ae)),this['redis'][_0x47f383(0x272)]){this['cache'][_0x47f383(0x132)]=_0x5ca9ae,await this[_0x47f383(0x5b2)][_0x47f383(0x7bb)]();return;}}async[a0_0x46d805(0x26a)](){const _0x8c9a15=a0_0x46d805;await this[_0x8c9a15(0x63e)]();let _0x54b9c0=async _0x9497f9=>{const _0xe8b511=_0x8c9a15;let _0x54c42f=new Re(this[_0xe8b511(0x3a5)],this[_0xe8b511(0x4d2)],this[_0xe8b511(0x7a6)]);_0x54c42f['instanceName']=_0x9497f9,await _0x54c42f[_0xe8b511(0x384)](),this[_0xe8b511(0x7cb)][_0x9497f9]=_0x54c42f;};try{if(this[_0x8c9a15(0x82b)]['ENABLED']){let _0x295c53=await this['cache'][_0x8c9a15(0x54c)]();_0x295c53?.[_0x8c9a15(0x47a)]>0x0&&_0x295c53[_0x8c9a15(0x1db)](async _0x56499c=>await _0x54b9c0(_0x56499c[_0x8c9a15(0x76f)](':')[0x1]));return;}if(this['db'][_0x8c9a15(0x272)]){await this[_0x8c9a15(0x7a6)][_0x8c9a15(0x345)]['connect']();let _0xbc8d57=await this[_0x8c9a15(0x182)][_0x8c9a15(0x207)]();_0xbc8d57[_0x8c9a15(0x47a)]>0x0&&_0xbc8d57[_0x8c9a15(0x1db)](async _0x43b373=>await _0x54b9c0(_0x43b373['namespace'][_0x8c9a15(0x1cd)](/^[\w-]+\./,'')));return;}}catch(_0x1885a0){this[_0x8c9a15(0x5c8)][_0x8c9a15(0x7ba)](_0x1885a0);}}async[a0_0x46d805(0x17b)](){const _0x1b9ceb=a0_0x46d805;try{let _0x3d54b0=await this['repository'][_0x1b9ceb(0x604)][_0x1b9ceb(0x269)]({'online':!0x1});for(let _0x24d11f of _0x3d54b0){let _0x1fc3ff=_0x24d11f[_0x1b9ceb(0x1ed)];await me[_0x1b9ceb(0x6c8)](ee,_0x1fc3ff);}console['log'](_0x1b9ceb(0x361)+_0x3d54b0['length']);let _0x1d4629={'online':!0x1},_0x308f33=await this[_0x1b9ceb(0x7a6)][_0x1b9ceb(0x604)]['deleteMany'](_0x1d4629);console[_0x1b9ceb(0x507)](_0x1b9ceb(0x7dd)+_0x308f33['insertCount']);}catch(_0x356d5e){console[_0x1b9ceb(0x7ba)]('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x356d5e);}}async['InstancesAlterarTodas'](){const _0x381643=a0_0x46d805;try{let _0x2e430={'online':!0x1},_0x26fff4={'online':!0x1,'lastDisconnect':Date[_0x381643(0x506)]()},_0x110ddc=await this[_0x381643(0x7a6)]['auth'][_0x381643(0x469)](_0x2e430,_0x26fff4);await this[_0x381643(0x17b)]();}catch(_0x3533e5){console['error'](_0x381643(0x155),_0x3533e5);}}[a0_0x46d805(0x505)](){const _0x54bf84=a0_0x46d805;this[_0x54bf84(0x4d2)]['on']('remove.instance',async _0xc99820=>{const _0x5ae6e5=_0x54bf84;try{this['waInstances'][_0xc99820]=void 0x0;}catch{}try{this[_0x5ae6e5(0x541)](_0xc99820);}finally{this[_0x5ae6e5(0x5c8)]['warn']('Instance\x20\x22'+_0xc99820+'\x22\x20-\x20REMOVED');}});}[a0_0x46d805(0x429)](){const _0x2fc64a=a0_0x46d805;this[_0x2fc64a(0x4d2)]['on']('no.connection',async _0x1f3fd5=>{const _0x1f5174=_0x2fc64a;try{this['waInstances'][_0x1f3fd5]=void 0x0;}catch{}try{this[_0x1f5174(0x541)](_0x1f3fd5);}finally{this[_0x1f5174(0x5c8)][_0x1f5174(0x4fa)](_0x1f5174(0x15d)+_0x1f3fd5+_0x1f5174(0x43b));}});}},Bt=class extends O{['getChatModelForOwner'](_0x5a6bd1){return sa(_0x5a6bd1);}async['insert'](_0x549e1e){const _0x3a9256=a0_0x46d805;if(_0x549e1e[_0x3a9256(0x47a)]!==0x0)try{return{'insertCount':(await this[_0x3a9256(0x787)](_0x549e1e[0x0][_0x3a9256(0x237)])[_0x3a9256(0x2a6)]([..._0x549e1e]))[_0x3a9256(0x47a)]};}catch(_0x580330){return _0x580330;}}async[a0_0x46d805(0x3d2)](_0xfae90e,_0x43c432){const _0x5a421e=a0_0x46d805;try{let _0x5986e1=this[_0x5a421e(0x787)](_0x43c432),_0x3a1819=T(_0xfae90e[_0x5a421e(0x496)]);return await _0x5986e1['find'](_0x3a1819)[_0x5a421e(0x504)]({'lastmsg':-0x1})[_0x5a421e(0x5e3)](_0xfae90e?.[_0x5a421e(0x5e3)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x147eaf,_0x1b11fb){const _0xe3e931=a0_0x46d805;try{return{'deletedCount':(await this[_0xe3e931(0x787)](_0x1b11fb)[_0xe3e931(0x2c3)]({..._0x147eaf['where']}))['deletedCount']};}catch(_0x565aaa){return{'error':_0x565aaa?.[_0xe3e931(0x821)]()};}}async['deleteAll'](_0x4debd5,_0x607fdf){const _0xf04d76=a0_0x46d805;try{return await this[_0xf04d76(0x787)](_0x607fdf)[_0xf04d76(0x2c3)]({..._0x4debd5[_0xf04d76(0x496)]}),[];}catch(_0x43f9d8){return{'error':_0x43f9d8?.[_0xf04d76(0x821)]()};}}async[a0_0x46d805(0x104)](_0x580378,_0x696f4d){const _0x589e70=a0_0x46d805;try{let _0x513941=this[_0x589e70(0x787)](_0x696f4d),_0x2fc226=T(_0x580378['where']);return await _0x513941[_0x589e70(0x104)](_0x2fc226)[_0x589e70(0x2e5)]();}catch{return null;}}async[a0_0x46d805(0x191)](_0x1ebc92,_0x19f23c,_0x5a997b,_0x20c8de,_0x23b50d=a0_0x46d805(0x38f)){const _0x50ebda=a0_0x46d805;try{let _0x4f69b6={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x20c8de},_0x4138da=this['getChatModelForOwner'](_0x5a997b),_0x2b2e41=T(_0x1ebc92['where']);Object[_0x50ebda(0x5f6)](_0x19f23c)['forEach'](_0x12fa7b=>{_0x19f23c[_0x12fa7b]==null&&delete _0x19f23c[_0x12fa7b];});let _0x5bd5d8={};return _0x5bd5d8[_0x23b50d]=_0x19f23c,await _0x4138da[_0x50ebda(0x418)](_0x2b2e41,_0x5bd5d8,_0x4f69b6);}catch(_0x306944){return console[_0x50ebda(0x7ba)](_0x306944),null;}}async[a0_0x46d805(0x5a1)](_0x1feac9){const _0x88ff01=a0_0x46d805;try{let _0x14a27d=this['getChatModelForOwner'](_0x1feac9[0x0]['query']['where']['owner']),_0x9af67f=_0x1feac9[_0x88ff01(0x1bd)](_0x196b5d=>({'updateOne':{'filter':{..._0x196b5d[_0x88ff01(0x2cd)][_0x88ff01(0x496)]},'update':{'$set':_0x196b5d[_0x88ff01(0x5a5)]},'upsert':!0x0}})),_0x4de5a1=await _0x14a27d[_0x88ff01(0x610)](_0x9af67f);return _0x4de5a1['modifiedCount']+_0x4de5a1[_0x88ff01(0x6e5)];}catch(_0x3475f8){return console['error'](_0x3475f8),0x0;}}async[a0_0x46d805(0x5c0)](_0x38c180){const _0x11c67a=a0_0x46d805;try{let _0x5f2764={'group_isCommunity':'','group_announce':'','group_size':''},_0x2a028b={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1462aa={'$unset':_0x5f2764};return(await this[_0x11c67a(0x787)](_0x38c180)[_0x11c67a(0x5a1)](_0x2a028b,_0x1462aa))['modifiedCount'];}catch(_0x43a293){return console['error'](_0x11c67a(0x65b),_0x43a293),0x0;}}async['updateMissingEtiquetas'](_0x44fd4b){const _0x549911=a0_0x46d805;try{let _0x502b27=this['getChatModelForOwner'](_0x44fd4b),_0x312d24={'leadInfo.etiquetas':{'$exists':!0x1}},_0x327b44={'$set':{'leadInfo.etiquetas':[]}};return(await _0x502b27[_0x549911(0x5a1)](_0x312d24,_0x327b44))[_0x549911(0x435)];}catch(_0x18fff1){return console[_0x549911(0x7ba)](_0x18fff1),0x0;}}async[a0_0x46d805(0x19d)](_0x3197a3){const _0x116299=a0_0x46d805;try{let _0x11cfee=this['getChatModelForOwner'](_0x3197a3),_0x2a0e69={'leadInfo.tags':{'$exists':!0x1}},_0x2a9e62={'$set':{'leadInfo.tags':[]}};return(await _0x11cfee[_0x116299(0x5a1)](_0x2a0e69,_0x2a9e62))[_0x116299(0x435)];}catch(_0x19839c){return console['error'](_0x19839c),0x0;}}async['updateMissingCustomFields'](_0x32907b){const _0x207fca=a0_0x46d805;try{let _0x1fe799=this[_0x207fca(0x787)](_0x32907b),_0x541cec={'leadInfo.customFields':{'$exists':!0x1}},_0x50f494={'$set':{'leadInfo.customFields':[]}};return(await _0x1fe799[_0x207fca(0x5a1)](_0x541cec,_0x50f494))[_0x207fca(0x435)];}catch(_0x3abe75){return console[_0x207fca(0x7ba)](_0x3abe75),0x0;}}async[a0_0x46d805(0x2a6)](_0x2636bd,_0x2d40bd){const _0x15fea8=a0_0x46d805;if(!Array[_0x15fea8(0x6a0)](_0x2636bd)||_0x2636bd[_0x15fea8(0x47a)]===0x0)throw new Error(_0x15fea8(0x522));try{return(await this[_0x15fea8(0x787)](_0x2d40bd)['insertMany'](_0x2636bd))[_0x15fea8(0x47a)];}catch(_0x4d435d){throw console['error'](_0x15fea8(0x118),_0x4d435d),_0x4d435d;}}async[a0_0x46d805(0x440)](_0x226de6,_0x49f3a9){const _0x4d07d7=a0_0x46d805;try{await this['getChatModelForOwner'](_0x49f3a9)[_0x4d07d7(0x1b5)]({'_id':_0x226de6});}catch(_0x36adb4){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x36adb4),_0x36adb4;}}},Wt=class extends O{constructor(_0x5905c8,_0x4cf8b4,_0xa31b8){const _0x212d2a=a0_0x46d805;super(_0x4cf8b4),this[_0x212d2a(0x57d)]=_0x5905c8,this[_0x212d2a(0x3a5)]=_0x4cf8b4,this[_0x212d2a(0x6cd)]=_0xa31b8;}async['insert'](_0x39a491){const _0x5d9a4e=a0_0x46d805;if(_0x39a491[_0x5d9a4e(0x47a)]!==0x0)try{return{'insertCount':(await this[_0x5d9a4e(0x57d)]['insertMany']([..._0x39a491]))['length']};}catch(_0x5e05c5){return _0x5e05c5;}}async[a0_0x46d805(0x5a5)](_0x2a7b1d,_0x33a2fc){const _0xe30ea8=a0_0x46d805;try{let _0x41bb35=T(_0x2a7b1d[_0xe30ea8(0x496)]);return{'updatedCount':(await this[_0xe30ea8(0x57d)]['updateMany'](_0x41bb35,{'$set':_0x33a2fc}))[_0xe30ea8(0x435)]};}catch(_0x54a11f){return console[_0xe30ea8(0x7ba)](_0xe30ea8(0x6f7),_0x54a11f),{'error':_0x54a11f[_0xe30ea8(0x821)]()};}}async['findManyByIds'](_0xcaf8ce){const _0x4f77ec=a0_0x46d805;try{let _0x19e7f4={'_id':{'$in':_0xcaf8ce}};return await this[_0x4f77ec(0x57d)][_0x4f77ec(0x3d2)](_0x19e7f4)[_0x4f77ec(0x2e5)]();}catch(_0x221326){return console[_0x4f77ec(0x7ba)]('Error\x20finding\x20many\x20contacts:',_0x221326),[];}}async[a0_0x46d805(0x835)](_0x413a2c){const _0x3a703a=a0_0x46d805;try{return{'deletedCount':(await this[_0x3a703a(0x57d)][_0x3a703a(0x2c3)]({..._0x413a2c[_0x3a703a(0x496)]}))[_0x3a703a(0x616)]};}catch(_0x29c8eb){return{'error':_0x29c8eb?.[_0x3a703a(0x821)]()};}}async[a0_0x46d805(0x3d2)](_0x3cae2c){const _0x29ebf3=a0_0x46d805;try{let _0x11f7a4=T(_0x3cae2c[_0x29ebf3(0x496)]);return await this[_0x29ebf3(0x57d)][_0x29ebf3(0x3d2)](_0x11f7a4)[_0x29ebf3(0x5e3)](_0x3cae2c?.[_0x29ebf3(0x5e3)]??0x0)[_0x29ebf3(0x2e5)]();}catch{return[];}}async[a0_0x46d805(0x104)](_0x3dc046){const _0x2aa830=a0_0x46d805;try{let _0x1c6372=T(_0x3dc046[_0x2aa830(0x496)]);return await this[_0x2aa830(0x57d)][_0x2aa830(0x104)](_0x1c6372)[_0x2aa830(0x2e5)]();}catch{return null;}}},zt=class extends O{[a0_0x46d805(0x5eb)](_0x34283e){return va(_0x34283e);}async[a0_0x46d805(0x191)](_0x2459bf,_0x559884,_0x3f6d51,_0x27939e){const _0x398543=a0_0x46d805;try{let _0x51e54c={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x27939e},_0xe01505=this[_0x398543(0x5eb)](_0x3f6d51),_0x2026ea=T(_0x2459bf[_0x398543(0x496)]);return await _0xe01505[_0x398543(0x418)](_0x2026ea,{'$set':_0x559884},_0x51e54c);}catch(_0x539af9){return console[_0x398543(0x7ba)](_0x539af9),null;}}async['find'](_0x3fbfca,_0x4b4a40){const _0x4aee2a=a0_0x46d805;try{let _0x4479c2=this[_0x4aee2a(0x5eb)](_0x4b4a40),_0x15cfc0=T(_0x3fbfca[_0x4aee2a(0x496)]);return await _0x4479c2[_0x4aee2a(0x3d2)](_0x15cfc0);}catch(_0x44ea89){console[_0x4aee2a(0x7ba)](_0x44ea89);}}async['delete'](_0xecfde9,_0x226da1){const _0x24f13f=a0_0x46d805;try{let _0x4bccfa=this['getLabelModelForOwner'](_0x226da1),_0x3a9aca=T(_0xecfde9['where']);await _0x4bccfa[_0x24f13f(0x2c3)](_0x3a9aca);}catch(_0x591aaf){console['error'](_0x591aaf);}}async[a0_0x46d805(0x6f5)](_0xccfa54){const _0x5865e8=a0_0x46d805;try{return await this[_0x5865e8(0x5eb)](_0xccfa54)[_0x5865e8(0x5d3)]['drop'](),{'success':!0x0};}catch(_0x57dcba){return console[_0x5865e8(0x7ba)](_0x57dcba),{'success':!0x1,'error':_0x57dcba};}}},Ht=class{constructor(_0x5ea5ae){const _0xe46fa=a0_0x46d805;this[_0xe46fa(0x1ca)]=_0x5ea5ae;}async[a0_0x46d805(0x5c9)]({instanceName:_0x17fce9},_0x190815){const _0x15cd3a=a0_0x46d805;return await this[_0x15cd3a(0x1ca)][_0x15cd3a(0x7cb)][_0x17fce9]['editChat'](_0x190815);}async[a0_0x46d805(0x342)]({instanceName:_0x3c2d16},_0x29cf24){const _0x3eab75=a0_0x46d805;return await this[_0x3eab75(0x1ca)][_0x3eab75(0x7cb)][_0x3c2d16][_0x3eab75(0x342)](_0x29cf24);}async['importChats']({instanceName:_0x4a9e32},_0x54198e){const _0x1f3736=a0_0x46d805;return await this[_0x1f3736(0x1ca)][_0x1f3736(0x7cb)][_0x4a9e32][_0x1f3736(0x305)](_0x54198e);}async[a0_0x46d805(0x2b7)]({instanceName:_0x3a8b49},_0x5470e2){const _0x3688b3=a0_0x46d805;return await this[_0x3688b3(0x1ca)][_0x3688b3(0x7cb)][_0x3a8b49]['markMessageAsRead'](_0x5470e2);}async[a0_0x46d805(0x813)]({instanceName:_0x2fd975},_0x514c21){const _0x4cdf8b=a0_0x46d805;return await this[_0x4cdf8b(0x1ca)]['waInstances'][_0x2fd975][_0x4cdf8b(0x813)](_0x514c21);}async['deleteMessage']({instanceName:_0x3e0702},_0x260196){const _0x8bac20=a0_0x46d805;return await this[_0x8bac20(0x1ca)][_0x8bac20(0x7cb)][_0x3e0702][_0x8bac20(0x6f8)](_0x260196);}async['fetchProfilePicture']({instanceName:_0x4ea500},_0x2547ba){const _0x2e8316=a0_0x46d805;return await this[_0x2e8316(0x1ca)][_0x2e8316(0x7cb)][_0x4ea500]['profilePicture'](_0x2547ba[_0x2e8316(0x19c)]);}async['fetchProfile']({instanceName:_0x2809e4},_0x2ebb7d){const _0x315c18=a0_0x46d805;return await this[_0x315c18(0x1ca)][_0x315c18(0x7cb)][_0x2809e4][_0x315c18(0x495)](_0x2ebb7d[_0x315c18(0x19c)]);}async[a0_0x46d805(0x5a4)]({instanceName:_0x55034d},_0x5d6229){const _0x5414c5=a0_0x46d805;return await this[_0x5414c5(0x1ca)][_0x5414c5(0x7cb)][_0x55034d][_0x5414c5(0x5a4)](_0x5d6229);}async[a0_0x46d805(0x68b)]({instanceName:_0x1170e8},_0x2aeffe){const _0x21c0e6=a0_0x46d805;return await this[_0x21c0e6(0x1ca)][_0x21c0e6(0x7cb)][_0x1170e8][_0x21c0e6(0x68b)](_0x2aeffe);}async['getBase64FromMediaMessage']({instanceName:_0x37d72b},_0x15ca1a){const _0x5aa7c6=a0_0x46d805;return await this[_0x5aa7c6(0x1ca)][_0x5aa7c6(0x7cb)][_0x37d72b]['getBase64FromMediaMessage'](_0x15ca1a);}async[a0_0x46d805(0x2ff)]({instanceName:_0x5a5444},_0xcae3a5){const _0x598c1c=a0_0x46d805;return await this[_0x598c1c(0x1ca)][_0x598c1c(0x7cb)][_0x5a5444]['fetchMessages'](_0xcae3a5);}async[a0_0x46d805(0x6a8)]({instanceName:_0x34bf78}){const _0x463413=a0_0x46d805;return await this[_0x463413(0x1ca)][_0x463413(0x7cb)][_0x34bf78][_0x463413(0x6a8)]();}async[a0_0x46d805(0x1fd)]({instanceName:_0x47adf7}){const _0x35a601=a0_0x46d805;return await this['waMonitor'][_0x35a601(0x7cb)][_0x47adf7][_0x35a601(0x1fd)]();}async[a0_0x46d805(0x4f5)]({instanceName:_0x1d553d}){const _0xf84b0a=a0_0x46d805;return await this[_0xf84b0a(0x1ca)][_0xf84b0a(0x7cb)][_0x1d553d]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x340c58},_0xfd6dd3){const _0x15494c=a0_0x46d805;return await this[_0x15494c(0x1ca)]['waInstances'][_0x340c58]['updatePrivacySettings'](_0xfd6dd3);}async[a0_0x46d805(0x255)]({instanceName:_0x4d92fc},_0x26ba63){const _0x1f880a=a0_0x46d805;return await this[_0x1f880a(0x1ca)][_0x1f880a(0x7cb)][_0x4d92fc]['fetchBusinessProfile'](_0x26ba63[_0x1f880a(0x19c)]);}async[a0_0x46d805(0x6aa)]({instanceName:_0x150686},_0x57c3ed){const _0x2b3209=a0_0x46d805;return await this['waMonitor'][_0x2b3209(0x7cb)][_0x150686]['updateProfileName'](_0x57c3ed['name']);}async[a0_0x46d805(0x48d)]({instanceName:_0x1db5fe},_0x383d0d){const _0x1ac5b4=a0_0x46d805;return await this[_0x1ac5b4(0x1ca)][_0x1ac5b4(0x7cb)][_0x1db5fe]['updateProfileStatus'](_0x383d0d['status']);}async[a0_0x46d805(0x43a)]({instanceName:_0x3464d8},_0x7b3a8b){const _0x3020a6=a0_0x46d805;return await this[_0x3020a6(0x1ca)][_0x3020a6(0x7cb)][_0x3464d8][_0x3020a6(0x43a)](_0x7b3a8b['picture']);}async[a0_0x46d805(0x1df)]({instanceName:_0xfe72c1},_0x4b9e8e){const _0x908e87=a0_0x46d805;return await this[_0x908e87(0x1ca)]['waInstances'][_0xfe72c1][_0x908e87(0x1df)]();}},Kt=require(a0_0x46d805(0x407)),Qt=class u{constructor(_0x53ae60,_0x1d39d8,_0x2b853d,_0x5d6b61,_0x4d84e1){const _0x2330bb=a0_0x46d805;this[_0x2330bb(0x1ca)]=_0x53ae60,this['configService']=_0x1d39d8,this[_0x2330bb(0x7a6)]=_0x2b853d,this[_0x2330bb(0x4d2)]=_0x5d6b61,this[_0x2330bb(0x521)]=_0x4d84e1,this[_0x2330bb(0x5c8)]=new $(u[_0x2330bb(0x73f)]);}async['createInstance']({instanceName:_0x483cbd,apikey:_0x40d193,number:_0x3144f3,proxy:_0xe2bda6=!0x0}){const _0x5af144=a0_0x46d805;try{let _0x258ebb=new Re(this['configService'],this['eventEmitter'],this['repository']);_0x258ebb[_0x5af144(0x7bd)]=_0x483cbd,this[_0x5af144(0x1ca)][_0x5af144(0x7cb)][_0x258ebb[_0x5af144(0x7bd)]]=_0x258ebb;let _0x4bc7bb={};_0x40d193?(await this['repository']['auth'][_0x5af144(0x78a)]({'apikey':_0x40d193},_0x483cbd),_0x4bc7bb[_0x5af144(0x81a)]=_0x40d193):_0x4bc7bb=await this[_0x5af144(0x521)]['generateHash']({'instanceName':_0x258ebb[_0x5af144(0x7bd)]});let _0xb5f1d8;if(_0x3144f3){if(_0xb5f1d8=await this[_0x5af144(0x1fe)](_0x3144f3),_0xb5f1d8[_0x5af144(0x7ba)])throw new x(_0xb5f1d8['error'][_0x5af144(0x821)]());_0x3144f3=_0xb5f1d8[_0x5af144(0x19c)];}let _0x2337ca;return await _0x258ebb[_0x5af144(0x384)](_0x3144f3),await(0x0,Kt['delay'])(0xfa0),_0x3144f3&&await(0x0,Kt[_0x5af144(0x190)])(0xbb8),_0x2337ca=_0x258ebb[_0x5af144(0x406)],{'instance':{'instanceName':_0x258ebb['instanceName'],'status':_0x5af144(0x47d)},'hash':_0x4bc7bb,'qrcode':_0x2337ca};}catch(_0x1f4417){throw this[_0x5af144(0x5c8)][_0x5af144(0x7ba)](_0x1f4417),_0x1f4417;}}async[a0_0x46d805(0x6c3)]({instanceName:_0x5f243b,number:_0x490909=null}){const _0x4902d8=a0_0x46d805;try{let _0xf4d5d4=this[_0x4902d8(0x1ca)]['waInstances'][_0x5f243b];switch(_0xf4d5d4?.['connectionStatus']?.[_0x4902d8(0x4da)]){case _0x4902d8(0x7cc):return await _0xf4d5d4[_0x4902d8(0x384)](_0x490909),await(0x0,Kt[_0x4902d8(0x190)])(0x7d0),_0xf4d5d4[_0x4902d8(0x406)];case _0x4902d8(0x550):return _0xf4d5d4['qrCode'];default:return await this[_0x4902d8(0x549)]({'instanceName':_0x5f243b});}}catch(_0x339c0b){this[_0x4902d8(0x5c8)][_0x4902d8(0x507)](_0x339c0b);}}async[a0_0x46d805(0x549)]({instanceName:_0x31f8ad}){const _0x3f37bd=a0_0x46d805;let _0xa3b306=this[_0x3f37bd(0x1ca)][_0x3f37bd(0x7cb)][_0x31f8ad][_0x3f37bd(0x7e5)],_0x283727=null;_0xa3b306[_0x3f37bd(0x4da)]==='open'&&_0x31f8ad&&(_0x283727=await this[_0x3f37bd(0x1ca)][_0x3f37bd(0x115)](_0x31f8ad));let _0x2aa74c=null;return _0xa3b306[_0x3f37bd(0x4da)]===_0x3f37bd(0x550)&&_0x31f8ad&&(_0x2aa74c=this['waMonitor'][_0x3f37bd(0x7cb)][_0x31f8ad][_0x3f37bd(0x406)]),{'instance':_0x31f8ad,'connectionStatus':_0xa3b306,'instanceInfo':_0x283727,'qrcode':_0x2aa74c};}async[a0_0x46d805(0x1fe)](_0x59cfe6){const _0x3c793e=a0_0x46d805;_0x59cfe6=_0x59cfe6[_0x3c793e(0x1cd)](/\D/g,'');let _0x14d4e4=Object[_0x3c793e(0x5f6)](this['waMonitor']['waInstances'])['filter'](_0x104bdd=>{const _0x795d2=_0x3c793e;let _0x127a7f=this[_0x795d2(0x1ca)][_0x795d2(0x7cb)][_0x104bdd];return _0x127a7f&&_0x127a7f[_0x795d2(0x7e5)]&&_0x127a7f[_0x795d2(0x7e5)]['state']===_0x795d2(0x16f);});if(_0x14d4e4['length']===0x0)return{'number':this[_0x3c793e(0x327)](_0x59cfe6)};let _0x39664f=Math[_0x3c793e(0x417)](Math['random']()*_0x14d4e4[_0x3c793e(0x47a)]),_0x3139a6=_0x14d4e4[_0x39664f];try{let _0x535997=(await this[_0x3c793e(0x1ca)][_0x3c793e(0x7cb)][_0x3139a6][_0x3c793e(0x342)]({'numbers':[_0x59cfe6]}))[_0x3c793e(0x530)]();return _0x535997[_0x3c793e(0x1f4)]?{'number':_0x535997['jid'][_0x3c793e(0x1cd)](_0x3c793e(0x602),'')}:{'number':_0x59cfe6,'error':_0x3c793e(0x37f)};}catch(_0x42d3a2){return this[_0x3c793e(0x5c8)][_0x3c793e(0x7ba)](_0x3c793e(0x794)+_0x42d3a2),{'number':_0x59cfe6,'error':_0x3c793e(0x4c5)};}}[a0_0x46d805(0x327)](_0xc1bac){const _0x15749c=a0_0x46d805;let _0x19ba5e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x15749c(0x4e5)](_0xc1bac);if(_0x19ba5e&&_0x19ba5e[0x1]==='55'){let _0x383223=_0x19ba5e[0x2],_0x1a57fc=_0x19ba5e[0x3],_0x5f0d20=_0x19ba5e[0x4];if(parseInt(_0x383223)>=0x1f&&_0x1a57fc==='9')return _0x19ba5e[0x1]+_0x383223+_0x5f0d20;}return _0xc1bac;}async[a0_0x46d805(0x5d7)]({instanceName:_0x3621d0}){const _0x3d8ece=a0_0x46d805;try{return this[_0x3d8ece(0x1ca)][_0x3d8ece(0x7cb)][_0x3621d0]?.[_0x3d8ece(0x3bf)]?.['ws']?.[_0x3d8ece(0x7cc)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x3d8ece(0x148)}};}catch(_0x4b7413){this[_0x3d8ece(0x5c8)][_0x3d8ece(0x7ba)](_0x4b7413);}}async[a0_0x46d805(0x331)]({instanceName:_0x11df62}){const _0x41ac37=a0_0x46d805;return _0x11df62?this[_0x41ac37(0x1ca)][_0x41ac37(0x115)](_0x11df62):this[_0x41ac37(0x1ca)]['instanceInfo']();}async['logout']({instanceName:_0x32056a}){const _0x10a797=a0_0x46d805;try{return await this[_0x10a797(0x1ca)][_0x10a797(0x7cb)][_0x32056a]?.[_0x10a797(0x3bf)]?.[_0x10a797(0x209)]('Log\x20out\x20instance:\x20'+_0x32056a),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x2b9ce5){throw new x(_0x2b9ce5[_0x10a797(0x821)]());}}async['deleteInstance']({instanceName:_0x2c8d2d}){const _0x413f16=a0_0x46d805;if((await this['connectionState']({'instanceName':_0x2c8d2d}))[_0x413f16(0x7e5)][_0x413f16(0x4da)]===_0x413f16(0x16f))throw new m([_0x413f16(0x4c9),_0x413f16(0x7fd)]);try{return delete this['waMonitor'][_0x413f16(0x7cb)][_0x2c8d2d],{'error':!0x1,'message':_0x413f16(0x1eb)};}catch(_0x4746bf){throw new m(_0x4746bf['toString']());}}},re=require(a0_0x46d805(0x64e)),Yt=class{constructor(_0x287d1b){const _0x530c95=a0_0x46d805;this[_0x530c95(0x1ca)]=_0x287d1b;}async[a0_0x46d805(0x1c3)]({instanceName:_0x53161b},_0x3f8803){const _0xb3cb46=a0_0x46d805;return await this['waMonitor'][_0xb3cb46(0x7cb)][_0x53161b][_0xb3cb46(0x7ac)](_0x3f8803);}async[a0_0x46d805(0x25a)]({instanceName:_0x33135c},_0x1b3b1b){const _0x2687c4=a0_0x46d805;return await this['waMonitor'][_0x2687c4(0x7cb)][_0x33135c][_0x2687c4(0x7a5)](_0x1b3b1b);}async['sendMedia']({instanceName:_0x9404b9},_0x265dca){const _0xf9ad23=a0_0x46d805;if((0x0,re['isBase64'])(_0x265dca?.['mediaMessage']?.[_0xf9ad23(0x6eb)])&&!_0x265dca?.[_0xf9ad23(0x5db)]?.[_0xf9ad23(0x3e4)])throw new m(_0xf9ad23(0x70f));if((0x0,re[_0xf9ad23(0x136)])(_0x265dca?.[_0xf9ad23(0x5db)]?.[_0xf9ad23(0x6eb)])||(0x0,re[_0xf9ad23(0x7a4)])(_0x265dca?.[_0xf9ad23(0x5db)]?.[_0xf9ad23(0x6eb)]))return await this[_0xf9ad23(0x1ca)][_0xf9ad23(0x7cb)][_0x9404b9][_0xf9ad23(0x5db)](_0x265dca);throw new m(_0xf9ad23(0x715));}async[a0_0x46d805(0x6bc)]({instanceName:_0x2d42b9},_0x1e0313){const _0x30b33c=a0_0x46d805;if((0x0,re[_0x30b33c(0x136)])(_0x1e0313['stickerMessage'][_0x30b33c(0x633)])||(0x0,re[_0x30b33c(0x7a4)])(_0x1e0313[_0x30b33c(0x335)][_0x30b33c(0x633)]))return await this[_0x30b33c(0x1ca)][_0x30b33c(0x7cb)][_0x2d42b9][_0x30b33c(0x804)](_0x1e0313);throw new m(_0x30b33c(0x715));}async['sendWhatsAppAudio']({instanceName:_0x5eec35},_0x4cb6e6){const _0x585f2d=a0_0x46d805;if((0x0,re[_0x585f2d(0x136)])(_0x4cb6e6['audioMessage'][_0x585f2d(0x451)])||(0x0,re[_0x585f2d(0x7a4)])(_0x4cb6e6[_0x585f2d(0x2f4)][_0x585f2d(0x451)]))return await this[_0x585f2d(0x1ca)]['waInstances'][_0x5eec35][_0x585f2d(0x67c)](_0x4cb6e6);throw new m(_0x585f2d(0x715));}async['sendButtons']({instanceName:_0x334318},_0x1ece2f){const _0x494dd0=a0_0x46d805;if((0x0,re[_0x494dd0(0x7a4)])(_0x1ece2f[_0x494dd0(0x4cf)]['mediaMessage']?.['media'])&&!_0x1ece2f[_0x494dd0(0x4cf)][_0x494dd0(0x5db)]?.[_0x494dd0(0x3e4)])throw new m(_0x494dd0(0x70f));return await this['waMonitor'][_0x494dd0(0x7cb)][_0x334318][_0x494dd0(0x4cf)](_0x1ece2f);}async[a0_0x46d805(0x366)]({instanceName:_0x3a82d5},_0x46ebdb){const _0x3853da=a0_0x46d805;return await this[_0x3853da(0x1ca)][_0x3853da(0x7cb)][_0x3a82d5][_0x3853da(0x77d)](_0x46ebdb);}async[a0_0x46d805(0x666)]({instanceName:_0x18ea66},_0x45c5e3){const _0x5b96f7=a0_0x46d805;return await this[_0x5b96f7(0x1ca)][_0x5b96f7(0x7cb)][_0x18ea66][_0x5b96f7(0x465)](_0x45c5e3);}async[a0_0x46d805(0x2d8)]({instanceName:_0x10000b},_0x1874fb){const _0x18d03c=a0_0x46d805;return await this[_0x18d03c(0x1ca)][_0x18d03c(0x7cb)][_0x10000b]['listMessage'](_0x1874fb);}async['sendContact']({instanceName:_0x22d638},_0x19c8e7){const _0x5b2dcb=a0_0x46d805;return await this[_0x5b2dcb(0x1ca)]['waInstances'][_0x22d638][_0x5b2dcb(0x7bf)](_0x19c8e7);}async[a0_0x46d805(0x625)]({instanceName:_0xe93153},_0x5d631c){const _0x3b6dcc=a0_0x46d805;if(!_0x5d631c[_0x3b6dcc(0x694)][_0x3b6dcc(0x693)][_0x3b6dcc(0x21d)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x3b6dcc(0x1ca)][_0x3b6dcc(0x7cb)][_0xe93153]['reactionMessage'](_0x5d631c);}async[a0_0x46d805(0x368)]({instanceName:_0x5325fb},_0x16952d){const _0xd5ed11=a0_0x46d805;return await this['waMonitor'][_0xd5ed11(0x7cb)][_0x5325fb][_0xd5ed11(0x595)](_0x16952d);}},Li=require(a0_0x46d805(0x665)),Us=require(a0_0x46d805(0x498)),Xt=class u{constructor(_0x2c7087,_0x5c58bf,_0xa0ab97){const _0x790946=a0_0x46d805;this[_0x790946(0x3a5)]=_0x2c7087,this[_0x790946(0x1ca)]=_0x5c58bf,this[_0x790946(0x7a6)]=_0xa0ab97,this['logger']=new $(u['name']);}async[a0_0x46d805(0x19a)](_0x577c00){const _0x3ba7b8=a0_0x46d805;let _0x545858=this['configService'][_0x3ba7b8(0x1ae)](_0x3ba7b8(0x4d6))[_0x3ba7b8(0x452)],_0x484f3f=(0x0,Li['sign'])({'instanceName':_0x577c00['instanceName'],'apiName':nt,'tokenId':(0x0,Us['v4'])()},_0x545858['SECRET'],{'expiresIn':_0x545858[_0x3ba7b8(0x4af)],'encoding':_0x3ba7b8(0x696),'subject':'g-t'}),_0x10f745=await this[_0x3ba7b8(0x7a6)][_0x3ba7b8(0x604)][_0x3ba7b8(0x78a)]({'jwt':_0x484f3f},_0x577c00['instanceName']);if(_0x10f745['error'])throw this[_0x3ba7b8(0x5c8)][_0x3ba7b8(0x7ba)]({'localError':u['name']+_0x3ba7b8(0x354),'error':_0x10f745[_0x3ba7b8(0x7ba)]}),new m(_0x3ba7b8(0x77b),_0x10f745[_0x3ba7b8(0x7ba)]?.[_0x3ba7b8(0x821)]());return{'jwt':_0x484f3f};}async[a0_0x46d805(0x81a)](_0x153bb5){const _0x55801c=a0_0x46d805;let _0x250c5c=(0x0,Us['v4'])()[_0x55801c(0x53a)](),_0x4c73b6=await this[_0x55801c(0x7a6)]['auth'][_0x55801c(0x78a)]({'apikey':_0x250c5c},_0x153bb5['instanceName']);if(_0x4c73b6[_0x55801c(0x7ba)])throw this[_0x55801c(0x5c8)][_0x55801c(0x7ba)]({'localError':u[_0x55801c(0x73f)]+'.jwt','error':_0x4c73b6['error']}),new m(_0x55801c(0x77b),_0x4c73b6['error']?.[_0x55801c(0x821)]());return{'apikey':_0x250c5c};}async[a0_0x46d805(0x518)](_0x58fe11){const _0xd1c51c=a0_0x46d805;let _0x3f2594=this[_0xd1c51c(0x3a5)][_0xd1c51c(0x1ae)](_0xd1c51c(0x4d6));return await this[_0x3f2594[_0xd1c51c(0x6b6)]](_0x58fe11);}},Zt=class{constructor(_0xe06e53){this['waMonitor']=_0xe06e53;}async['createGroup'](_0x1f8d52,_0x258c33){const _0x4814d0=a0_0x46d805;return await this['waMonitor']['waInstances'][_0x1f8d52[_0x4814d0(0x7bd)]][_0x4814d0(0x167)](_0x258c33);}async[a0_0x46d805(0x756)](_0x2a976e,_0x46c921){const _0x2aca12=a0_0x46d805;return await this[_0x2aca12(0x1ca)][_0x2aca12(0x7cb)][_0x2a976e[_0x2aca12(0x7bd)]][_0x2aca12(0x756)](_0x46c921);}async['groupDesc'](_0x107195,_0x596905){const _0x2f6459=a0_0x46d805;return await this[_0x2f6459(0x1ca)]['waInstances'][_0x107195['instanceName']][_0x2f6459(0x7fe)](_0x596905);}async[a0_0x46d805(0x44b)](_0x411470,_0x1905a5){const _0x5bceda=a0_0x46d805;return await this[_0x5bceda(0x1ca)][_0x5bceda(0x7cb)][_0x411470[_0x5bceda(0x7bd)]]['groupName'](_0x1905a5);}async['groupBetterSetting'](_0x18e803,_0x4910c0){const _0x482819=a0_0x46d805;return await this['waMonitor'][_0x482819(0x7cb)][_0x18e803['instanceName']][_0x482819(0x3ba)](_0x4910c0);}async[a0_0x46d805(0x3e2)](_0x2aed19,_0x33f4d5){const _0x1ab238=a0_0x46d805;return await this[_0x1ab238(0x1ca)]['waInstances'][_0x2aed19[_0x1ab238(0x7bd)]][_0x1ab238(0x3e2)](_0x33f4d5);}async[a0_0x46d805(0x659)](_0x1ddaf5,_0xd4ba83){const _0xcf9a9=a0_0x46d805;return await this[_0xcf9a9(0x1ca)]['waInstances'][_0x1ddaf5['instanceName']][_0xcf9a9(0x529)](_0xd4ba83);}async['findGroups'](_0x2c206c){const _0x119d26=a0_0x46d805;return await this[_0x119d26(0x1ca)][_0x119d26(0x7cb)][_0x2c206c[_0x119d26(0x7bd)]][_0x119d26(0x7b8)]();}async[a0_0x46d805(0x78b)](_0x5ed3b2,_0x4f4cca){const _0x2c0b9b=a0_0x46d805;return await this['waMonitor'][_0x2c0b9b(0x7cb)][_0x5ed3b2[_0x2c0b9b(0x7bd)]][_0x2c0b9b(0x78b)](_0x4f4cca);}async[a0_0x46d805(0x55f)](_0x32d0a8,_0x128d56){const _0x53e314=a0_0x46d805;return await this[_0x53e314(0x1ca)][_0x53e314(0x7cb)][_0x32d0a8[_0x53e314(0x7bd)]]['joinGroup'](_0x128d56);}async[a0_0x46d805(0x72b)](_0x57783e,_0x4b9912){return await this['waMonitor']['waInstances'][_0x57783e['instanceName']]['groupGetInviteInfo'](_0x4b9912);}async[a0_0x46d805(0x2f6)](_0x191413,_0x5d3dda){const _0x474fc4=a0_0x46d805;return await this[_0x474fc4(0x1ca)][_0x474fc4(0x7cb)][_0x191413[_0x474fc4(0x7bd)]][_0x474fc4(0x2f6)](_0x5d3dda);}async[a0_0x46d805(0x251)](_0x304fe3,_0x5dfd2e){const _0x5f874c=a0_0x46d805;return await this[_0x5f874c(0x1ca)]['waInstances'][_0x304fe3[_0x5f874c(0x7bd)]][_0x5f874c(0x251)](_0x5dfd2e);}async['updateGParticipate'](_0x14f499,_0x129cdd){const _0x546d75=a0_0x46d805;return await this['waMonitor'][_0x546d75(0x7cb)][_0x14f499[_0x546d75(0x7bd)]]['updateGParticipant'](_0x129cdd);}async[a0_0x46d805(0x703)](_0x210a4b,_0x522907){const _0x2fff33=a0_0x46d805;return await this[_0x2fff33(0x1ca)][_0x2fff33(0x7cb)][_0x210a4b[_0x2fff33(0x7bd)]]['toggleEphemeral'](_0x522907);}async[a0_0x46d805(0x447)](_0x59b04c,_0xbfb13f){const _0x561540=a0_0x46d805;return await this[_0x561540(0x1ca)][_0x561540(0x7cb)][_0x59b04c[_0x561540(0x7bd)]][_0x561540(0x447)](_0xbfb13f);}},es=class{constructor(_0xc465be){const _0x5deddf=a0_0x46d805;this[_0x5deddf(0x1ca)]=_0xc465be;}[a0_0x46d805(0x78a)](_0x5426bf,_0x40869d){const _0x5a2f52=a0_0x46d805;return this['waMonitor']['waInstances'][_0x5426bf[_0x5a2f52(0x7bd)]][_0x5a2f52(0x761)](_0x40869d);}async['find'](_0x3d118f){const _0x2acecb=a0_0x46d805;try{return await this[_0x2acecb(0x1ca)][_0x2acecb(0x7cb)][_0x3d118f[_0x2acecb(0x7bd)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x46d805(0x114)),ts=class{constructor(_0x47e7b8){this['waMonitor']=_0x47e7b8;}async[a0_0x46d805(0x576)](_0x2062ee,_0x3bf09d){const _0x5b75dd=a0_0x46d805;return await this[_0x5b75dd(0x1ca)][_0x5b75dd(0x7cb)][_0x2062ee[_0x5b75dd(0x7bd)]][_0x5b75dd(0x576)](_0x3bf09d);}async['getScheduleMessage'](_0x103ae6){const _0x92c71=a0_0x46d805;return await this[_0x92c71(0x1ca)]['waInstances'][_0x103ae6[_0x92c71(0x7bd)]][_0x92c71(0x540)]();}async['deleteDoneMessages'](_0x586197){const _0x3e4b29=a0_0x46d805;return await this[_0x3e4b29(0x1ca)][_0x3e4b29(0x7cb)][_0x586197[_0x3e4b29(0x7bd)]][_0x3e4b29(0x4d8)]();}async[a0_0x46d805(0x26b)](_0x1e5348){const _0x380b45=a0_0x46d805;return await this[_0x380b45(0x1ca)]['waInstances'][_0x1e5348[_0x380b45(0x7bd)]][_0x380b45(0x26b)]();}async['updateAgent'](_0x15adff,_0x4db765){const _0x54c373=a0_0x46d805;return await this[_0x54c373(0x1ca)][_0x54c373(0x7cb)][_0x15adff[_0x54c373(0x7bd)]]['updateAgent'](_0x4db765);}async['updateCustomFields'](_0x4e50c1,_0x3e40e9){const _0xdf431=a0_0x46d805;return await this[_0xdf431(0x1ca)][_0xdf431(0x7cb)][_0x4e50c1[_0xdf431(0x7bd)]]['updateCustomFields'](_0x3e40e9);}async[a0_0x46d805(0x82c)](_0x3ea5f5,_0x32c4d9){const _0x543c58=a0_0x46d805;return await this[_0x543c58(0x1ca)]['waInstances'][_0x3ea5f5[_0x543c58(0x7bd)]][_0x543c58(0x82c)](_0x32c4d9);}async['updateFlowConfig'](_0xc21111,_0x57c3d3){const _0x2bb4a6=a0_0x46d805;return await this[_0x2bb4a6(0x1ca)][_0x2bb4a6(0x7cb)][_0xc21111['instanceName']]['updateFlowConfig'](_0x57c3d3);}async['startFlow'](_0x392835,_0x485e5d){const _0x51cf8e=a0_0x46d805;return await this['waMonitor'][_0x51cf8e(0x7cb)][_0x392835[_0x51cf8e(0x7bd)]][_0x51cf8e(0x116)](_0x485e5d);}async[a0_0x46d805(0x58c)](_0x3fedc4,_0x16491d,_0x18ab16,_0x5b07a1){const _0x6c9dc7=a0_0x46d805;return await this['waMonitor'][_0x6c9dc7(0x7cb)][_0x3fedc4][_0x6c9dc7(0x58c)](_0x16491d,_0x18ab16,_0x5b07a1);}async['getConversation'](_0x4297c1,_0x404b03){const _0x1a9de0=a0_0x46d805;return await this[_0x1a9de0(0x1ca)][_0x1a9de0(0x7cb)][_0x4297c1[_0x1a9de0(0x7bd)]][_0x1a9de0(0x260)](_0x404b03);}async[a0_0x46d805(0x40b)](_0x21de9e,_0x767b10){const _0x1828a0=a0_0x46d805;return await this[_0x1828a0(0x1ca)][_0x1828a0(0x7cb)][_0x21de9e[_0x1828a0(0x7bd)]]['fetchConversation'](_0x767b10);}async['editConversation'](_0x1f9188,_0x4f26ba){const _0x337e56=a0_0x46d805;return await this['waMonitor'][_0x337e56(0x7cb)][_0x1f9188[_0x337e56(0x7bd)]][_0x337e56(0x26d)](_0x4f26ba);}async[a0_0x46d805(0x3a3)](_0x12d75f,_0x3293cd){const _0x2d8be3=a0_0x46d805;return await this['waMonitor']['waInstances'][_0x12d75f[_0x2d8be3(0x7bd)]][_0x2d8be3(0x3a3)](_0x3293cd);}async['getFlow'](_0x3db216,_0x4aca4e){const _0x35b811=a0_0x46d805;return await this[_0x35b811(0x1ca)][_0x35b811(0x7cb)][_0x3db216[_0x35b811(0x7bd)]][_0x35b811(0x5da)](_0x4aca4e['_id']);}async[a0_0x46d805(0x266)](_0x3d7a9c,_0x568d24,_0x419998){const _0x4c088f=a0_0x46d805;return await this['waMonitor'][_0x4c088f(0x7cb)][_0x3d7a9c[_0x4c088f(0x7bd)]][_0x4c088f(0x266)](_0x568d24,_0x419998);}async[a0_0x46d805(0x11a)](_0x5ef198,_0x58e9b0,_0x101128){const _0x1bd578=a0_0x46d805;return await this[_0x1bd578(0x1ca)][_0x1bd578(0x7cb)][_0x5ef198[_0x1bd578(0x7bd)]][_0x1bd578(0x11a)](_0x58e9b0,_0x101128);}async[a0_0x46d805(0x385)](_0x1c738e,_0x499521){const _0x3fd633=a0_0x46d805;return await this[_0x3fd633(0x1ca)][_0x3fd633(0x7cb)][_0x1c738e['instanceName']][_0x3fd633(0x385)](_0x499521);}async[a0_0x46d805(0x332)](_0x4c47b1,_0x29badc){const _0x417b65=a0_0x46d805;return await this[_0x417b65(0x1ca)]['waInstances'][_0x4c47b1[_0x417b65(0x7bd)]]['editFlowReply'](_0x29badc);}async[a0_0x46d805(0x306)](_0x21e2e7,_0x56bf67){const _0x19ec8e=a0_0x46d805;return await this[_0x19ec8e(0x1ca)][_0x19ec8e(0x7cb)][_0x21e2e7[_0x19ec8e(0x7bd)]][_0x19ec8e(0x306)](_0x56bf67);}async[a0_0x46d805(0x79d)](_0x3fa1a8,_0x2871c2){const _0x5c55b6=a0_0x46d805;return await this[_0x5c55b6(0x1ca)][_0x5c55b6(0x7cb)][_0x3fa1a8[_0x5c55b6(0x7bd)]][_0x5c55b6(0x79d)](_0x2871c2);}async[a0_0x46d805(0x538)](_0x1bb75f,_0x2e654f){const _0x2d8011=a0_0x46d805;return await this[_0x2d8011(0x1ca)][_0x2d8011(0x7cb)][_0x1bb75f[_0x2d8011(0x7bd)]][_0x2d8011(0x538)](_0x2e654f);}async[a0_0x46d805(0x647)](_0x2ef702,_0x4ab877){const _0x123ca5=a0_0x46d805;return await this[_0x123ca5(0x1ca)][_0x123ca5(0x7cb)][_0x2ef702[_0x123ca5(0x7bd)]][_0x123ca5(0x647)](_0x4ab877);}async[a0_0x46d805(0x20e)](_0xf8fd63,_0x5acb49){const _0x20eac9=a0_0x46d805;return await this[_0x20eac9(0x1ca)][_0x20eac9(0x7cb)][_0xf8fd63[_0x20eac9(0x7bd)]]['deleteFlow'](_0x5acb49);}async[a0_0x46d805(0x467)](_0x2e9919){const _0x5db6f1=a0_0x46d805;return await this[_0x5db6f1(0x1ca)][_0x5db6f1(0x7cb)][_0x2e9919[_0x5db6f1(0x7bd)]][_0x5db6f1(0x467)]();}},ss=class{constructor(_0x235da9){const _0x20223d=a0_0x46d805;this[_0x20223d(0x239)]=_0x235da9;}async[a0_0x46d805(0x186)](_0x2375f6,_0x10ffa9){const _0x1ad5fa=a0_0x46d805;return this[_0x1ad5fa(0x239)]['create'](_0x2375f6,_0x10ffa9);}async[a0_0x46d805(0x23b)](_0x2e5821){const _0x27d121=a0_0x46d805;return this[_0x27d121(0x239)][_0x27d121(0x3d2)](_0x2e5821);}},as=class extends O{constructor(_0x19e348,_0xcf083f){const _0x2598a3=a0_0x46d805;super(_0xcf083f),this['webhookModel']=_0x19e348,this[_0x2598a3(0x3a5)]=_0xcf083f;}async[a0_0x46d805(0x78a)](_0x2bf6fc,_0x338df0){const _0xae6e98=a0_0x46d805;try{return this[_0xae6e98(0x3a8)][_0xae6e98(0x272)]?{'insertCount':(await this[_0xae6e98(0x652)][_0xae6e98(0x6c9)]({'_id':_0x338df0},{..._0x2bf6fc},{'upsert':!0x0}))[_0xae6e98(0x435)]}:{'insertCount':0x1};}catch(_0x52c930){return _0x52c930;}}async['delete'](_0x482fa5){const _0x25b45e=a0_0x46d805;try{if(this['dbSettings'][_0x25b45e(0x272)]){await this['webhookModel']['deleteOne']({'_id':_0x482fa5});return;}}catch(_0x27c2f4){return{'error':_0x27c2f4};}}async[a0_0x46d805(0x3d2)](_0x8f48d8){const _0x1a365b=a0_0x46d805;try{if(this['dbSettings'][_0x1a365b(0x272)])return await this[_0x1a365b(0x652)][_0x1a365b(0x104)]({'_id':_0x8f48d8});}catch{return{};}}},is=class extends O{constructor(_0x7a8c5,_0x460111){const _0x20c1e0=a0_0x46d805;super(_0x460111),this['authModel']=_0x7a8c5,this[_0x20c1e0(0x3a5)]=_0x460111,this[_0x20c1e0(0x604)]=_0x460111[_0x20c1e0(0x1ae)](_0x20c1e0(0x4d6));}async[a0_0x46d805(0x78a)](_0x1f4e90,_0x185d54){const _0x421387=a0_0x46d805;try{if(this['dbSettings'][_0x421387(0x272)])return{'insertCount':(await this['authModel'][_0x421387(0x191)]({'_id':_0x185d54},{'$set':{..._0x1f4e90}},{'upsert':!0x0}))[_0x421387(0x435)]};}catch(_0x27712b){return{'error':_0x27712b};}}async['updateAll'](_0x21de5c,_0x6ec0a8){const _0x49dc48=a0_0x46d805;try{if(this[_0x49dc48(0x3a8)]['ENABLED'])return{'insertCount':(await this['authModel']['updateMany'](_0x21de5c,{'$set':_0x6ec0a8},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x49dc48(0x543));}catch(_0x4f05df){return{'error':_0x4f05df};}}async['deleteMany'](_0x20c3c4){const _0x36d0c5=a0_0x46d805;try{if(this[_0x36d0c5(0x3a8)][_0x36d0c5(0x272)])return{'insertCount':(await this[_0x36d0c5(0x4d0)][_0x36d0c5(0x2c3)](_0x20c3c4))[_0x36d0c5(0x616)]};throw new Error(_0x36d0c5(0x598));}catch(_0x22790d){return{'error':_0x22790d};}}async[a0_0x46d805(0x835)](_0x2bafb9){const _0x52baf5=a0_0x46d805;try{if(this['dbSettings'][_0x52baf5(0x272)]){await this[_0x52baf5(0x4d0)][_0x52baf5(0x1b5)]({'_id':_0x2bafb9});return;}}catch(_0xc51cfe){return{'error':_0xc51cfe};}}async[a0_0x46d805(0x3d2)](_0x2aa79e){const _0x43612f=a0_0x46d805;try{if(this[_0x43612f(0x3a8)]['ENABLED'])return await this[_0x43612f(0x4d0)]['findOne']({'_id':_0x2aa79e});}catch{return{};}}async[a0_0x46d805(0x789)](){const _0x2490de=a0_0x46d805;try{if(this[_0x2490de(0x3a8)][_0x2490de(0x272)])return await this['authModel'][_0x2490de(0x3d2)]();}catch{return[];}}async[a0_0x46d805(0x269)](_0x3d41cc){const _0x43f44b=a0_0x46d805;try{if(this['dbSettings'][_0x43f44b(0x272)])return await this[_0x43f44b(0x4d0)][_0x43f44b(0x3d2)](_0x3d41cc);}catch{return[];}}},os=class extends O{async[a0_0x46d805(0x1b5)](_0x3c5faf){const _0x55e31c=a0_0x46d805;try{let _0x4f94fa=T(_0x3c5faf['where']);return{'deletedCount':(await Ee[_0x55e31c(0x1b5)](_0x4f94fa))[_0x55e31c(0x616)]};}catch(_0x58d3e8){return{'error':_0x58d3e8?.['toString']()};}}async[a0_0x46d805(0x191)](_0x5b798c,_0x392f44){const _0x4748db=a0_0x46d805;try{let _0x9c1566=await Ee[_0x4748db(0x470)](_0x5b798c);return _0x9c1566?(Object[_0x4748db(0x3d5)](_0x9c1566,_0x392f44),await _0x9c1566[_0x4748db(0x46f)]()):(console['error'](_0x4748db(0x1f6),_0x5b798c),null);}catch(_0xa99808){return console[_0x4748db(0x7ba)](_0x4748db(0x54a),_0xa99808),null;}}async[a0_0x46d805(0x729)](_0x464f02){const _0x18b682=a0_0x46d805;try{return await new Ee(_0x464f02)['save']();}catch(_0x2f65dd){return console[_0x18b682(0x7ba)](_0x18b682(0x423),_0x2f65dd),null;}}async['findAll'](_0x42c5b7){const _0x597517=a0_0x46d805;try{let _0x5c2f29=_0x42c5b7[_0x597517(0x496)]??{};return await Ee[_0x597517(0x3d2)](_0x5c2f29)[_0x597517(0x5e3)](_0x42c5b7[_0x597517(0x5e3)]??0x0)['lean']();}catch(_0x5bec11){return console[_0x597517(0x7ba)]('Erro\x20ao\x20buscar\x20fluxos:',_0x5bec11),[];}}async['findOne'](_0x592c89){const _0x5474c4=a0_0x46d805;try{let _0x659f8c=T(_0x592c89[_0x5474c4(0x496)]);return await Ee[_0x5474c4(0x104)](_0x659f8c)[_0x5474c4(0x2e5)]();}catch{return null;}}},rs=class extends O{[a0_0x46d805(0x630)](_0x3c9ab4){return Ma(_0x3c9ab4);}async[a0_0x46d805(0x752)](_0x51c679){const _0x26350f=a0_0x46d805;if(_0x51c679[_0x26350f(0x47a)]!==0x0)try{return{'insertCount':(await this[_0x26350f(0x630)](_0x51c679[0x0]['owner'])['insertMany']([..._0x51c679]))[_0x26350f(0x47a)]};}catch(_0x46dcf6){return _0x46dcf6;}}async[a0_0x46d805(0x835)](_0x3ef788,_0x4a2311){const _0x15c2a7=a0_0x46d805;try{let _0x1c7a23=this['getConversationModelForOwner'](_0x4a2311),_0x208149=T(_0x3ef788[_0x15c2a7(0x496)]);return{'deletedCount':(await _0x1c7a23[_0x15c2a7(0x2c3)](_0x208149))[_0x15c2a7(0x616)]};}catch(_0x25e31b){return{'error':_0x25e31b?.[_0x15c2a7(0x821)]()};}}async[a0_0x46d805(0x1b5)](_0x35bb00,_0x302c9a){const _0x1e4c50=a0_0x46d805;try{let _0x497ea3=this[_0x1e4c50(0x630)](_0x302c9a),_0x835026=T(_0x35bb00[_0x1e4c50(0x496)]);return{'deletedCount':(await _0x497ea3[_0x1e4c50(0x1b5)](_0x835026))[_0x1e4c50(0x616)]};}catch(_0x372265){return{'error':_0x372265?.[_0x1e4c50(0x821)]()};}}async[a0_0x46d805(0x5a5)](_0x1a3cb9,_0x108f02){const _0x1a8dc7=a0_0x46d805;try{if(_0x1a3cb9[_0x1a8dc7(0x47a)]===0x0)return;let _0x3f0061=this['getConversationModelForOwner'](_0x108f02),_0xaecfd3=_0x1a3cb9[_0x1a8dc7(0x1bd)](_0x4a635f=>({'updateOne':{'filter':{'name':_0x4a635f['name'],'owner':_0x108f02},'update':{..._0x4a635f}}})),{modifiedCount:_0x41c155}=await _0x3f0061[_0x1a8dc7(0x610)](_0xaecfd3);return{'insertCount':_0x41c155};}catch{return;}}async[a0_0x46d805(0x5a1)](_0xe5037c,_0x5e1cb9,_0x272bb8){const _0x295b99=a0_0x46d805;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x272bb8)[_0x295b99(0x5a1)](_0xe5037c,{'$set':_0x5e1cb9})['exec']())[_0x295b99(0x435)]};}catch(_0x5c2702){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x5c2702),{'error':_0x5c2702};}}async[a0_0x46d805(0x191)](_0x10cb7a,_0x15cbd5,_0x458c50){const _0x2ac5c0=a0_0x46d805;try{return await this['getConversationModelForOwner'](_0x458c50)['findOneAndUpdate']({'_id':_0x10cb7a},{'$set':_0x15cbd5},{'new':!0x0,'upsert':!0x0})[_0x2ac5c0(0x2e5)]();}catch(_0x55842e){return console['error'](_0x55842e),null;}}async['find'](_0x32e87c,_0x422b80){const _0x2e37df=a0_0x46d805;try{return await this[_0x2e37df(0x630)](_0x422b80)['find'](_0x32e87c)['sort']({'lastInteraction':-0x1})[_0x2e37df(0x2e5)]();}catch{return[];}}async['findOne'](_0x3dd7eb,_0x1fcdc7){const _0x12acd5=a0_0x46d805;try{return await this[_0x12acd5(0x630)](_0x1fcdc7)[_0x12acd5(0x104)]({..._0x3dd7eb[_0x12acd5(0x496)]})[_0x12acd5(0x2e5)]();}catch{return null;}}async[a0_0x46d805(0x6f5)](_0xa294cb){const _0x22e30c=a0_0x46d805;try{return await this[_0x22e30c(0x630)](_0xa294cb)[_0x22e30c(0x5d3)]['drop'](),{'success':!0x0};}catch(_0x296c72){return console[_0x22e30c(0x7ba)](_0x296c72),{'success':!0x1,'error':_0x296c72};}}},ns=class extends O{[a0_0x46d805(0x5c6)](_0x1bab8d){return Ca(_0x1bab8d);}async[a0_0x46d805(0x610)](_0x120af5,_0x5b6dc3){const _0x36a6a8=a0_0x46d805;try{return await this[_0x36a6a8(0x5c6)](_0x5b6dc3)['bulkWrite'](_0x120af5);}catch(_0x2ec718){return console[_0x36a6a8(0x7ba)](_0x36a6a8(0x295),_0x2ec718),null;}}async['createAndSave'](_0x233a46,_0x4a0b51){const _0x41f825=a0_0x46d805;try{let _0x2ad264=this[_0x41f825(0x5c6)](_0x4a0b51);return await new _0x2ad264(_0x233a46)[_0x41f825(0x46f)]();}catch(_0xb7c501){return console[_0x41f825(0x7ba)](_0x41f825(0x10f),_0xb7c501),null;}}async[a0_0x46d805(0x1b5)](_0x32e4f6,_0x48fa6e){const _0x3f34ac=a0_0x46d805;try{return await this['getScheduleMessageModelForOwner'](_0x48fa6e)['findByIdAndDelete'](_0x32e4f6),{};}catch(_0x3d45e9){return{'error':_0x3d45e9?.[_0x3f34ac(0x821)]()};}}async[a0_0x46d805(0x191)](_0x49e8b5,_0xdb431d,_0x14c5fe,_0x39710e={}){const _0x3ddb13=a0_0x46d805;try{return await this['getScheduleMessageModelForOwner'](_0x14c5fe)[_0x3ddb13(0x418)](_0x49e8b5,_0xdb431d,{..._0x39710e,'new':!0x0})['lean']();}catch(_0xa00c84){return console['error'](_0x3ddb13(0x54e),_0xa00c84),null;}}async[a0_0x46d805(0x5ca)](_0x3d38ec,_0x4a11d9,_0x4d7d1a){const _0x57e45=a0_0x46d805;try{return await this[_0x57e45(0x5c6)](_0x4d7d1a)[_0x57e45(0x706)](_0x3d38ec,_0x4a11d9,{'new':!0x0})['lean']();}catch(_0x36dabc){return console[_0x57e45(0x7ba)](_0x57e45(0x54e),_0x36dabc),null;}}async[a0_0x46d805(0x3d2)](_0x2feaa6,_0x5e151a){const _0x1f6e2f=a0_0x46d805;try{return await this[_0x1f6e2f(0x5c6)](_0x5e151a)[_0x1f6e2f(0x3d2)](_0x2feaa6[_0x1f6e2f(0x496)])[_0x1f6e2f(0x5e3)](_0x2feaa6?.[_0x1f6e2f(0x5e3)]??0x0)[_0x1f6e2f(0x504)]({'when':0x1})[_0x1f6e2f(0x2e5)]();}catch{return[];}}async[a0_0x46d805(0x104)](_0x42b0da,_0x2e2701){const _0x24c4ea=a0_0x46d805;try{return await this[_0x24c4ea(0x5c6)](_0x2e2701)[_0x24c4ea(0x104)](_0x42b0da[_0x24c4ea(0x496)])[_0x24c4ea(0x504)]({'when':0x1})[_0x24c4ea(0x2e5)]();}catch{return null;}}async[a0_0x46d805(0x470)](_0x19845b,_0x297f1d){const _0xb5547=a0_0x46d805;try{return await this[_0xb5547(0x5c6)](_0x297f1d)[_0xb5547(0x470)](_0x19845b)[_0xb5547(0x2e5)]();}catch{return null;}}async[a0_0x46d805(0x2c3)](_0xdb86da,_0x244771){const _0x222460=a0_0x46d805;try{return{'deletedCount':(await this[_0x222460(0x5c6)](_0x244771)[_0x222460(0x2c3)](_0xdb86da))[_0x222460(0x616)]};}catch(_0x58345c){return console[_0x222460(0x7ba)](_0x222460(0x33b),_0x58345c),{'error':_0x58345c};}}async[a0_0x46d805(0x6f5)](_0x639c0e){const _0x3293d5=a0_0x46d805;try{return await this[_0x3293d5(0x5c6)](_0x639c0e)[_0x3293d5(0x5d3)]['drop'](),{'success':!0x0};}catch(_0x1d406f){return console['error'](_0x1d406f),{'success':!0x1,'error':_0x1d406f};}}},cs=class extends O{async['update'](_0x4de7c2,_0x2d11fc){const _0x1198c6=a0_0x46d805;try{if(this[_0x1198c6(0x3a8)]['ENABLED'])return await Te[_0x1198c6(0x418)]({'_id':_0x2d11fc},{'$set':_0x4de7c2},{'new':!0x0});}catch(_0x1bb581){throw console[_0x1198c6(0x7ba)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x1bb581),_0x1bb581;}}async[a0_0x46d805(0x59e)](_0xe70183){const _0x3a1a09=a0_0x46d805;try{let _0x5a0316=await Te[_0x3a1a09(0x470)](_0xe70183);return _0x5a0316?_0x5a0316[_0x3a1a09(0x783)]||(_0x5a0316[_0x3a1a09(0x783)]=[],await _0x5a0316[_0x3a1a09(0x46f)]()):(_0x5a0316=new Te({'_id':_0xe70183,'autoCompleteMessages':[]}),await _0x5a0316[_0x3a1a09(0x46f)]()),_0x5a0316;}catch(_0x3b2a4d){return _0x3b2a4d['code']===0x2af8&&_0x3b2a4d[_0x3a1a09(0x24f)]&&_0x3b2a4d[_0x3a1a09(0x24f)][_0x3a1a09(0x73b)]?(console[_0x3a1a09(0x7ba)](_0x3a1a09(0x1cb)),await Te[_0x3a1a09(0x5d3)][_0x3a1a09(0x428)]('autoCompleteMessages.command_1'),null):(console[_0x3a1a09(0x7ba)](_0x3a1a09(0x3a4),_0x3b2a4d),null);}}},qo=new $('WA\x20MODULE'),Vo=new Xe(S),Go=new Bt(S),Bo=new lt(S),Wo=new Wt(ra,S),zo=new as(ga,S),Ho=new is(da,S),Ko=new $e(He,S),Qo=new os(S),Yo=new zt(S),Xo=new rs(S),Zo=new ns(S),er=new cs(S),ye=new Qe(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,A?.[a0_0x46d805(0x64b)]()),z=new Gt(ms,S,ye),tr=new Xt(S,z,ye),sr=new es(z),As=new ss(sr),_=new ts(z),he=new Qt(z,S,ye,ms,tr),H=new Yt(z),k=new Ht(z),G=new Zt(z);qo[a0_0x46d805(0x5bb)]('Module\x20-\x20ON');var ng=require('express-async-errors'),js=require('fs'),Fi=I(require(a0_0x46d805(0x7f8))),Ui=I(require(a0_0x46d805(0x1d9))),je=class u{static #e;static set[a0_0x46d805(0x1a2)](_0x1d9409){this.#e=_0x1d9409;}static get['https'](){const _0x457a70=a0_0x46d805;let {FULLCHAIN:_0x5bae31,PRIVKEY:_0x4dd369}=S[_0x457a70(0x1ae)](_0x457a70(0x563));return Fi[_0x457a70(0x691)]({'cert':(0x0,js[_0x457a70(0x203)])(_0x5bae31),'key':(0x0,js[_0x457a70(0x203)])(_0x4dd369)},u.#e);}static get[a0_0x46d805(0x1d9)](){const _0x4c26d8=a0_0x46d805;return Ui[_0x4c26d8(0x691)](u.#e);}},Je=I(require('fs')),Bi=I(require(a0_0x46d805(0x638))),qe=I(require(a0_0x46d805(0x220))),us=I(require('path')),ls=require(a0_0x46d805(0x5ac));function ar(){const _0x71bd0b=a0_0x46d805;z[_0x71bd0b(0x26a)]();let _0x58a463=us[_0x71bd0b(0x6ef)][_0x71bd0b(0x755)](__dirname,'downloads');Gi(_0x58a463);}var Gi=_0x511462=>{const _0x299f09=a0_0x46d805;let _0x4e79fb=Je[_0x299f09(0x6ef)][_0x299f09(0x5e0)](_0x511462),_0x1cb071=0xc*0x3c*0x3c*0x3e8,_0x222ac2=0x2*0x3c*0x3c*0x3e8,_0x3a03f9=new Date()[_0x299f09(0x56d)]();_0x4e79fb['forEach'](_0x4468a1=>{const _0x578a82=_0x299f09;let _0x6f6ec8=us[_0x578a82(0x6ef)][_0x578a82(0x755)](_0x511462,_0x4468a1),_0xb6a24b=Je[_0x578a82(0x6ef)][_0x578a82(0x4a1)](_0x6f6ec8)[_0x578a82(0x532)][_0x578a82(0x56d)]();_0x3a03f9-_0xb6a24b>_0x1cb071&&(Je['default'][_0x578a82(0x55a)](_0x6f6ec8),console[_0x578a82(0x507)](_0x578a82(0x3dd)+_0x4468a1));}),setTimeout(()=>Gi(_0x511462),_0x222ac2);};function ir(){const _0x17889d=a0_0x46d805;let _0x398059=new $(_0x17889d(0x246)),_0x44b518=(0x0,Se[_0x17889d(0x6ef)])();_0x44b518[_0x17889d(0x1a4)]((0x0,Vi[_0x17889d(0x6ef)])({'origin'(_0x3873d3,_0x1d5572){const _0x3bcc2c=_0x17889d;let {ORIGIN:_0x36f8a3}=S[_0x3bcc2c(0x1ae)](_0x3bcc2c(0x2c7));return _0x3873d3||(_0x3873d3='*'),_0x36f8a3['indexOf']('*')!==-0x1||_0x36f8a3[_0x3bcc2c(0x7b9)](_0x3873d3)!==-0x1?_0x1d5572(null,!0x0):_0x1d5572(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x17889d(0x1ae)](_0x17889d(0x2c7))[_0x17889d(0x12a)]],'credentials':S[_0x17889d(0x1ae)](_0x17889d(0x2c7))['CREDENTIALS']}),(0x0,Se[_0x17889d(0x47b)])({'extended':!0x0,'limit':_0x17889d(0x5f9)}),(0x0,Se[_0x17889d(0x149)])({'limit':_0x17889d(0x5f9)})),_0x44b518[_0x17889d(0x1a4)]((_0x5c7c04,_0x3ccb16,_0x50b832)=>{const _0x475367=_0x17889d;_0x5c7c04[_0x475367(0x200)][_0x475367(0x109)](_0x475367(0x11d))?_0x50b832():(0x0,qi['default'])()(_0x5c7c04,_0x3ccb16,_0x50b832);}),_0x44b518[_0x17889d(0x1b1)](_0x17889d(0x6b8),_0x17889d(0x3b5)),_0x44b518['set']('views',(0x0,qs[_0x17889d(0x755)])(ue,_0x17889d(0x73c))),_0x44b518[_0x17889d(0x1a4)](Se[_0x17889d(0x6ef)][_0x17889d(0x1a5)]((0x0,qs[_0x17889d(0x755)])(ue,'public'))),_0x44b518['use']((_0x58aed7,_0xd59075,_0x53a8ac)=>{const _0x1b167c=_0x17889d;let _0x43c92e=_0xd59075['send'];_0xd59075[_0x1b167c(0x61e)]=function(_0x582b96){const _0x2ddfa7=_0x1b167c;if(_0x58aed7['query'][_0x2ddfa7(0x283)]===_0x2ddfa7(0x570)||_0x58aed7[_0x2ddfa7(0x823)]['uazapi']===_0x2ddfa7(0x570)){let _0x3af435=JSON[_0x2ddfa7(0x473)](_0x582b96);_0x582b96=JSON['stringify'](_0x1000a3(_0x3af435));}return _0x43c92e[_0x2ddfa7(0x3ab)](_0xd59075,[_0x582b96]);},_0x53a8ac();}),_0x44b518[_0x17889d(0x1a4)]('/',Le),_0x44b518['use']((_0x207363,_0x3d7f43,_0x4d8e84,_0x588634)=>{const _0x2bacf4=_0x17889d;if(_0x207363)return _0x4d8e84['status'](_0x207363[_0x2bacf4(0x499)]||0x1f4)[_0x2bacf4(0x149)](_0x207363);},(_0x578ed8,_0xea77af,_0x487d57)=>{const _0x18ba8a=_0x17889d;let {method:_0x2e27f6,url:_0x85c7cd}=_0x578ed8;_0xea77af[_0x18ba8a(0x499)](0x194)[_0x18ba8a(0x149)]({'status':0x194,'message':_0x18ba8a(0x17c)+_0x2e27f6[_0x18ba8a(0x53a)]()+'\x20'+_0x85c7cd,'error':_0x18ba8a(0x5aa)}),_0x487d57();});let _0x1000a3=(_0xde4637,_0x298d1a=_0x17889d(0x679))=>{const _0x91a09f=_0x17889d;let _0xac08a2=(_0x44674a,_0x29ffca=null,_0x5f3b22=!0x1)=>{const _0x1dd23a=a0_0x1054;let _0x5514a5={};return Object[_0x1dd23a(0x5f6)](_0x44674a)['forEach'](_0x3e0d75=>{const _0x401f45=_0x1dd23a;let _0x55c700=_0x44674a[_0x3e0d75],_0x9b0264=''+_0x298d1a+_0x3e0d75;_0x29ffca&&!_0x5f3b22&&(_0x9b0264=_0x29ffca+'.'+_0x3e0d75),!_0x55c700&&_0x55c700!==0x0&&_0x55c700!==!0x1||typeof _0x55c700>'u'?_0x5514a5[_0x9b0264]=null:typeof _0x55c700!=_0x401f45(0x1a3)&&!Array[_0x401f45(0x6a0)](_0x55c700)?_0x5514a5[_0x9b0264]=_0x55c700:typeof _0x55c700==_0x401f45(0x1a3)&&!Array[_0x401f45(0x6a0)](_0x55c700)?_0x5514a5=Object[_0x401f45(0x3d5)](_0x5514a5,_0xac08a2(_0x55c700,_0x9b0264)):Array['isArray'](_0x55c700)&&(typeof _0x55c700[0x0]==_0x401f45(0x1a3)?(_0x5514a5[_0x9b0264]=[],_0x55c700[_0x401f45(0x1db)](_0x58dfa7=>{const _0x2de6da=_0x401f45;_0x5514a5[_0x9b0264][_0x2de6da(0x70b)](_0xac08a2(_0x58dfa7,_0x9b0264,!0x0));})):_0x5514a5[_0x9b0264]=_0x55c700);}),_0x5514a5;};return Array[_0x91a09f(0x6a0)](_0xde4637)?_0xde4637[_0x91a09f(0x1bd)](_0x58e6be=>_0xac08a2(_0x58e6be)):typeof _0xde4637==_0x91a09f(0x1a3)&&_0xde4637!==null?_0xac08a2(_0xde4637):{};},_0x2d06ec=S['get'](_0x17889d(0x246));je['app']=_0x44b518;let _0x37b28f=je[_0x2d06ec[_0x17889d(0x6b6)]],_0x29d0e3=_0x17889d(0x16b);_0x37b28f[_0x17889d(0x2ba)](_0x2d06ec[_0x17889d(0x2af)],()=>{const _0x9d477e=_0x17889d;_0x398059[_0x9d477e(0x507)](_0x29d0e3),_0x398059[_0x9d477e(0x507)](_0x2d06ec[_0x9d477e(0x6b6)][_0x9d477e(0x53a)]()+_0x9d477e(0x83b)+_0x2d06ec['PORT']);}),ar(),ea();}var or=a0_0x46d805(0x4eb),rr=us[a0_0x46d805(0x6ef)][a0_0x46d805(0x755)](__dirname,'./.git/config'),Ae=null;function nr(){return new Promise((_0x5ee1c9,_0x2b7399)=>{const _0x21ab27=a0_0x1054;Je[_0x21ab27(0x6ef)]['readFile'](rr,'utf-8',(_0x257a2f,_0x8c90c8)=>{const _0x1720f7=_0x21ab27;if(_0x257a2f){Ae=_0x257a2f,_0x5ee1c9();return;}Bi[_0x1720f7(0x6ef)][_0x1720f7(0x473)](_0x8c90c8)[_0x1720f7(0x59c)][_0x1720f7(0x5e7)]===or?(Ae=null,_0x5ee1c9()):(Ae=new Error(_0x1720f7(0x6cb)),_0x5ee1c9());});});}async function cr(){const _0x3529ba=a0_0x46d805;try{await nr(),await Vs();}catch(_0x489a55){console[_0x3529ba(0x7ba)](_0x3529ba(0x12f)+_0x489a55),process['exit'](0x1);}}cr();async function Wi(){const _0x39db78=a0_0x46d805;let _0x4fbaf3;try{_0x4fbaf3=(await qe[_0x39db78(0x6ef)]['get'](_0x39db78(0x7cf)))[_0x39db78(0x3df)]['ip'];}catch(_0x5c2644){console[_0x39db78(0x7ba)](_0x5c2644);try{_0x4fbaf3=(await qe[_0x39db78(0x6ef)][_0x39db78(0x1ae)](_0x39db78(0x4c8)))['data']['ip'];}catch(_0x1cd20d){console[_0x39db78(0x7ba)](_0x1cd20d);try{_0x4fbaf3=(await qe[_0x39db78(0x6ef)][_0x39db78(0x1ae)](_0x39db78(0x30a)))[_0x39db78(0x3df)][_0x39db78(0x21d)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1d1ae6){return console[_0x39db78(0x7ba)](_0x1d1ae6),!0x1;}}}return _0x4fbaf3;}var ji=0x0;async function lr(){const _0x16a4d7=a0_0x46d805;let _0x17bfd2=await new ge(S['get']('REDIS'))[_0x16a4d7(0x54c)]();return console[_0x16a4d7(0x507)]('instancias:\x20',_0x17bfd2[_0x16a4d7(0x47a)]),_0x17bfd2[_0x16a4d7(0x47a)];}function ur(_0x16cefd){const _0xeab0d=a0_0x46d805;let _0x25b5a7=_0x16cefd[_0xeab0d(0x1ae)](_0xeab0d(0x246))[_0xeab0d(0x5f4)],_0x576cf7=_0x16cefd[_0xeab0d(0x1ae)]('SSL_CONF');console['log'](_0xeab0d(0x6d2),_0x25b5a7),console['log']('Configuração\x20SSL\x20recuperada:',_0x576cf7);let _0xa66669='',_0x4d8147=_0x25b5a7||'';if(_0x25b5a7){let _0x393882=_0x25b5a7['match'](/\/\/(.*?)\./);console[_0xeab0d(0x507)](_0xeab0d(0x7d9),_0x393882),_0x393882&&_0x393882[0x1]&&(_0xa66669=_0x393882[0x1],console['log'](_0xeab0d(0x21f),_0xa66669));}if(!_0xa66669&&_0x576cf7&&_0x576cf7['FULLCHAIN']){let _0x58f38d=_0x576cf7[_0xeab0d(0x4ca)]['split']('/');console[_0xeab0d(0x507)](_0xeab0d(0x80f),_0x58f38d);let _0x14275c=_0x58f38d[_0x58f38d[_0xeab0d(0x47a)]-0x2];if(console[_0xeab0d(0x507)](_0xeab0d(0x548),_0x14275c),_0x14275c){let _0x1e5229=_0x14275c[_0xeab0d(0x76f)]('.');console['log']('Partes\x20do\x20domínio:',_0x1e5229),_0x1e5229['length']>0x2&&(_0xa66669=_0x1e5229[0x0],console[_0xeab0d(0x507)](_0xeab0d(0x49e),_0xa66669),_0x4d8147=''+_0x14275c);}}return{'subdomain':_0xa66669||_0xeab0d(0x2e4),'fullURL':_0x4d8147||_0xeab0d(0x2ab)};}var {subdomain:ee,fullURL:Gs}=ur(S);console['log']('Subdomínio\x20final:',ee),console[a0_0x46d805(0x507)](a0_0x46d805(0x54b),Gs);async function dr(){const _0x2c8b7b=a0_0x46d805;let _0x4aeea2=S[_0x2c8b7b(0x1ae)](_0x2c8b7b(0x4c3)),_0x176cd7=S[_0x2c8b7b(0x1ae)]('AUTHENTICATION')[_0x2c8b7b(0x141)][_0x2c8b7b(0x13c)],_0x39d498=S['get']('SSL_CONF'),_0x116415=await Wi(),_0x59ae11=S[_0x2c8b7b(0x1ae)](_0x2c8b7b(0x246))['PORT'],_0x1ec2cd=Gs;try{let _0x4cdd1f={'ip':_0x116415||null,'redis_enable':_0x4aeea2?.[_0x2c8b7b(0x272)]||null,'apikey':_0x176cd7||null,'ssl':_0x39d498?.[_0x2c8b7b(0x7ab)]||null,'lastupdate':zi||null,'port':_0x59ae11||null,'gitInstallError':Ae?.[_0x2c8b7b(0x620)]||null,'url':_0x1ec2cd||null,'subdomain':ee};if(console[_0x2c8b7b(0x507)](_0x2c8b7b(0x6ca),_0x4cdd1f['ip']),_0x4aeea2&&_0x4aeea2[_0x2c8b7b(0x272)]){let _0x4b7c0f=await lr();_0x4cdd1f[_0x2c8b7b(0x3f4)]=_0x4b7c0f||null;}for(let _0x5959bb in _0x4cdd1f)_0x4cdd1f[_0x2c8b7b(0x2d2)](_0x5959bb)&&_0x5959bb!=='ip'&&(_0x4cdd1f[_0x5959bb]=JSON[_0x2c8b7b(0x7e7)](_0x4cdd1f[_0x5959bb]));return(await qe[_0x2c8b7b(0x6ef)][_0x2c8b7b(0x25f)](_0x2c8b7b(0x52f),_0x4cdd1f))[_0x2c8b7b(0x3df)];}catch(_0x173499){return console[_0x2c8b7b(0x7ba)](_0x173499),!0x1;}}var Js=!0x1,zi=0x258,pr=0x3,Ji=0x1b7740;async function Vs(){const _0x956c3c=a0_0x46d805;let _0x52e83e=_0x956c3c(0x14b);Ae===null&&(_0x52e83e=await Wi());let _0x428139=await dr();if(_0x428139){if(_0x428139[_0x956c3c(0x792)][_0x956c3c(0x6cc)]===!0x0){Ae===null&&_0x428139['response'][_0x956c3c(0x758)]-zi>0x0&&await hr(),Js||(Js=!0x0,ir());let _0x97d55e=0x24*0x3c*0x3c,_0x38c06e=_0x428139['response']['segundos']>_0x97d55e?_0x97d55e:_0x428139[_0x956c3c(0x792)]['segundos'],_0x410237=Number(_0x38c06e);if(isNaN(_0x410237)){console[_0x956c3c(0x7ba)](_0x956c3c(0x6c5));return;}let _0x386c99=Math[_0x956c3c(0x417)](_0x410237/0xe10),_0x3dcd32=Math[_0x956c3c(0x417)](_0x410237%0xe10/0x3c),_0x1efaf1=new Date(Date['now']()+_0x410237*0x3e8);setTimeout(Vs,_0x410237*0x3e8);let _0x34acaa=_0x4d9c37=>_0x4d9c37[_0x956c3c(0x821)]()[_0x956c3c(0x244)](0x2,'0'),_0x175a20=_0x956c3c(0x344)+_0x34acaa(_0x386c99)+_0x956c3c(0x171)+_0x34acaa(_0x3dcd32)+_0x956c3c(0x3ca)+_0x34acaa(_0x1efaf1[_0x956c3c(0x28f)]())+':'+_0x34acaa(_0x1efaf1[_0x956c3c(0x1e7)]())+'.';console['log'](_0x175a20);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console[_0x956c3c(0x507)](_0x956c3c(0x35f)),process[_0x956c3c(0x82a)]()),_0x956c3c(0x1d1);}else{if(ji++,ji<pr)console[_0x956c3c(0x507)](_0x956c3c(0x7a9)+Ji/0xea60+_0x956c3c(0x5f0)),setTimeout(Vs,Ji);else return console[_0x956c3c(0x7ba)](_0x956c3c(0x643)),_0x956c3c(0x212);}}async function hr(){const _0x50470f=a0_0x46d805;console[_0x50470f(0x507)]('Parando\x20aplicação,\x20atualização\x20recebida'),console['log'](_0x50470f(0x5cf)),(0x0,ls[_0x50470f(0x6e1)])('pm2\x20flush',{'shell':!0x0})['on'](_0x50470f(0x7cc),_0x58220a=>{const _0x52135e=_0x50470f;_0x58220a!==0x0?console[_0x52135e(0x7ba)](_0x52135e(0x121)):(console[_0x52135e(0x507)](_0x52135e(0x5b4)),console['log'](_0x52135e(0x60b)),(0x0,ls['spawn'])(_0x52135e(0x3f5),{'shell':!0x0})['on']('close',_0xcfe2d=>{const _0x6c7f90=_0x52135e;if(_0xcfe2d!==0x0)console[_0x6c7f90(0x7ba)](_0x6c7f90(0x494));else{console['log']('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x4bded7=(0x0,ls[_0x6c7f90(0x6e1)])(_0x6c7f90(0x411),{'shell':!0x0});_0x4bded7[_0x6c7f90(0x827)]['on'](_0x6c7f90(0x3df),_0x25d07b=>{const _0x341ea8=_0x6c7f90;console[_0x341ea8(0x507)](_0x341ea8(0x7f3)+_0x25d07b);}),_0x4bded7['stderr']['on']('data',_0x2f143e=>{const _0x1e2d58=_0x6c7f90;console[_0x1e2d58(0x7ba)]('Erro\x20de\x20atualização:\x20'+_0x2f143e);}),_0x4bded7['on'](_0x6c7f90(0x82a),_0x1af05f=>{const _0x43b6f7=_0x6c7f90;_0x1af05f!==0x0?console[_0x43b6f7(0x7ba)](_0x43b6f7(0x405)+_0x1af05f):console[_0x43b6f7(0x507)](_0x43b6f7(0x2ac)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x43b6f7(0x82a)](),0x2710);});}}));});}0x0&&(module[a0_0x46d805(0x10d)]={'fullURL':fullURL,'subdomain':subdomain});