const a0_0x22f2c8=a0_0x2beb;(function(_0x36bfc6,_0x53ed71){const _0x2adeb3=a0_0x2beb,_0x4f76ac=_0x36bfc6();while(!![]){try{const _0xc2ec1b=-parseInt(_0x2adeb3(0x2a4))/0x1+-parseInt(_0x2adeb3(0x505))/0x2*(parseInt(_0x2adeb3(0x3f6))/0x3)+parseInt(_0x2adeb3(0x40d))/0x4*(parseInt(_0x2adeb3(0xdf))/0x5)+-parseInt(_0x2adeb3(0x1de))/0x6*(-parseInt(_0x2adeb3(0x569))/0x7)+-parseInt(_0x2adeb3(0x6c0))/0x8+-parseInt(_0x2adeb3(0x536))/0x9*(-parseInt(_0x2adeb3(0x2a6))/0xa)+parseInt(_0x2adeb3(0x394))/0xb;if(_0xc2ec1b===_0x53ed71)break;else _0x4f76ac['push'](_0x4f76ac['shift']());}catch(_0x5b9310){_0x4f76ac['push'](_0x4f76ac['shift']());}}}(a0_0x55d6,0x710cd));var Gi=Object['create'],qe=Object['defineProperty'],Bi=Object['getOwnPropertyDescriptor'],Wi=Object[a0_0x22f2c8(0x4f9)],zi=Object[a0_0x22f2c8(0x5bf)],Hi=Object[a0_0x22f2c8(0x6be)]['hasOwnProperty'],Ki=(_0x342a80,_0x3a168f)=>{for(var _0x4b881e in _0x3a168f)qe(_0x342a80,_0x4b881e,{'get':_0x3a168f[_0x4b881e],'enumerable':!0x0});},Vs=(_0x38157d,_0x455735,_0x530179,_0x306bbf)=>{const _0x3b93c0=a0_0x22f2c8;if(_0x455735&&typeof _0x455735==_0x3b93c0(0x72b)||typeof _0x455735=='function'){for(let _0x2e86b4 of Wi(_0x455735))!Hi[_0x3b93c0(0x5ae)](_0x38157d,_0x2e86b4)&&_0x2e86b4!==_0x530179&&qe(_0x38157d,_0x2e86b4,{'get':()=>_0x455735[_0x2e86b4],'enumerable':!(_0x306bbf=Bi(_0x455735,_0x2e86b4))||_0x306bbf[_0x3b93c0(0x5d6)]});}return _0x38157d;},A=(_0xa47bc6,_0xe1a35,_0x1bb5b0)=>(_0x1bb5b0=_0xa47bc6!=null?Gi(zi(_0xa47bc6)):{},Vs(_0xe1a35||!_0xa47bc6||!_0xa47bc6['__esModule']?qe(_0x1bb5b0,'default',{'value':_0xa47bc6,'enumerable':!0x0}):_0x1bb5b0,_0xa47bc6)),Qi=_0x40fcd6=>Vs(qe({},a0_0x22f2c8(0x261),{'value':!0x0}),_0x40fcd6),ur={};Ki(ur,{'fullURL':()=>qs,'subdomain':()=>W}),module[a0_0x22f2c8(0x431)]=Qi(ur);var Fi=A(require('compression')),Bs=require('fs'),Ws=require(a0_0x22f2c8(0x3a3)),zs=require(a0_0x22f2c8(0x6df)),Ve=require('path'),ne=process['cwd'](),be=(0x0,Ve['join'])(ne,a0_0x22f2c8(0x5a0)),Gs=(0x0,Ve[a0_0x22f2c8(0x640)])(ne,'src'),sn=(0x0,Ve[a0_0x22f2c8(0x640)])(ne,a0_0x22f2c8(0x4a4),a0_0x22f2c8(0x3e7)),us=class{constructor(){this['loadEnv']();}[a0_0x22f2c8(0x319)](_0x40a9f8){const _0x57f897=a0_0x22f2c8;return this[_0x57f897(0xe3)][_0x40a9f8];}[a0_0x22f2c8(0x72d)](){const _0x290413=a0_0x22f2c8;this[_0x290413(0xe3)]=process['env']?.[_0x290413(0x4f6)]!==_0x290413(0x613)?this['envYaml']():this['envProcess'](),process[_0x290413(0xe3)]?.[_0x290413(0x4f6)]===_0x290413(0x613)&&(this['env'][_0x290413(0x3ae)]['TYPE']=_0x290413(0x2c5),this[_0x290413(0xe3)]['SERVER']['PORT']=Number[_0x290413(0x604)](process[_0x290413(0xe3)]?.[_0x290413(0x596)]??_0x290413(0x741)));}[a0_0x22f2c8(0xe7)](){const _0x46eb69=a0_0x22f2c8;return(0x0,Ws[_0x46eb69(0x5b5)])((0x0,Bs[_0x46eb69(0x641)])((0x0,zs[_0x46eb69(0x640)])(Gs,'../env.yml'),{'encoding':_0x46eb69(0x5a9)}));}[a0_0x22f2c8(0x676)](){const _0x22b24a=a0_0x22f2c8;return{'SERVER':{'TYPE':process[_0x22b24a(0xe3)][_0x22b24a(0x428)],'PORT':Number[_0x22b24a(0x604)](process[_0x22b24a(0xe3)][_0x22b24a(0x596)]),'URL':process[_0x22b24a(0xe3)][_0x22b24a(0x5e4)]},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN'][_0x22b24a(0x293)](','),'METHODS':process[_0x22b24a(0xe3)][_0x22b24a(0xe6)][_0x22b24a(0x293)](','),'CREDENTIALS':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x4d7)]===_0x22b24a(0x613)},'SSL_CONF':{'PRIVKEY':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x7aa)],'FULLCHAIN':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x34f)]},'STORE':{'CLEANING_INTERVAL':Number[_0x22b24a(0x564)](process['env']?.[_0x22b24a(0x21d)])?Number[_0x22b24a(0x604)](process[_0x22b24a(0xe3)][_0x22b24a(0x21d)]):void 0x0,'MESSAGES':process[_0x22b24a(0xe3)]?.['STORE_MESSAGE']==='true','CONTACTS':process[_0x22b24a(0xe3)]?.['STORE_CONTACTS']===_0x22b24a(0x613),'CHATS':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x5c2)]===_0x22b24a(0x613)},'DATABASE':{'CONNECTION':{'HOST':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x760)],'PORT':Number['parseInt'](process[_0x22b24a(0xe3)]?.[_0x22b24a(0x760)]),'USER':process[_0x22b24a(0xe3)][_0x22b24a(0x380)],'PASSWORD':process[_0x22b24a(0xe3)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x22b24a(0xe3)][_0x22b24a(0xab)],'DB_PREFIX_NAME':process['env'][_0x22b24a(0x716)]},'ENABLED':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x29f)]==='true'},'REDIS':{'ENABLED':process['env']?.[_0x22b24a(0x444)]===_0x22b24a(0x613),'URI':process[_0x22b24a(0xe3)]['REDIS_URI']||_0x22b24a(0x44e),'PREFIX_KEY':process[_0x22b24a(0xe3)][_0x22b24a(0x272)]||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x22b24a(0x73e)]['split'](','),'COLOR':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x786)]===_0x22b24a(0x613)},'PROXY':process[_0x22b24a(0xe3)]?.[_0x22b24a(0x6b1)]===_0x22b24a(0x613),'AUTHENTICATION':{'TYPE':process[_0x22b24a(0xe3)][_0x22b24a(0x6a9)],'API_KEY':{'KEY':process[_0x22b24a(0xe3)][_0x22b24a(0x776)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x22b24a(0xe3)]?.[_0x22b24a(0x30d)])?Number[_0x22b24a(0x604)](process[_0x22b24a(0xe3)][_0x22b24a(0x30d)]):0xe10,'SECRET':process[_0x22b24a(0xe3)][_0x22b24a(0x49e)]}}};}},S=new us(),Ui=A(require(a0_0x22f2c8(0x788))),we=A(require('express')),js=require(a0_0x22f2c8(0x6df)),ds=A(require(a0_0x22f2c8(0x474))),ps=(_0x5b80f3=>(_0x5b80f3[a0_0x22f2c8(0x5f2)]=a0_0x22f2c8(0x4ba),_0x5b80f3[a0_0x22f2c8(0x6d6)]='\x1b[34m',_0x5b80f3[a0_0x22f2c8(0x79f)]=a0_0x22f2c8(0x5fd),_0x5b80f3['ERROR']=a0_0x22f2c8(0x423),_0x5b80f3[a0_0x22f2c8(0x38f)]=a0_0x22f2c8(0x61a),_0x5b80f3[a0_0x22f2c8(0x129)]=a0_0x22f2c8(0x44f),_0x5b80f3[a0_0x22f2c8(0x49d)]='\x1b[30m',_0x5b80f3))(ps||{}),Hs=(_0x4c83fc=>(_0x4c83fc[a0_0x22f2c8(0x5f2)]=a0_0x22f2c8(0x2be),_0x4c83fc[a0_0x22f2c8(0x49d)]=a0_0x22f2c8(0x47c),_0x4c83fc[a0_0x22f2c8(0x6d6)]=a0_0x22f2c8(0x678),_0x4c83fc[a0_0x22f2c8(0x79f)]=a0_0x22f2c8(0x1ab),_0x4c83fc[a0_0x22f2c8(0x2c2)]=a0_0x22f2c8(0xc5),_0x4c83fc[a0_0x22f2c8(0x38f)]=a0_0x22f2c8(0x1cd),_0x4c83fc['VERBOSE']=a0_0x22f2c8(0xb8),_0x4c83fc))(Hs||{}),Ks=(_0x292942=>(_0x292942['LOG']=a0_0x22f2c8(0x5f2),_0x292942['WARN']=a0_0x22f2c8(0x79f),_0x292942[a0_0x22f2c8(0x6d6)]=a0_0x22f2c8(0x6d6),_0x292942[a0_0x22f2c8(0x49d)]='DARK',_0x292942['ERROR']=a0_0x22f2c8(0x2c2),_0x292942['DEBUG']=a0_0x22f2c8(0x38f),_0x292942['VERBOSE']='VERBOSE',_0x292942))(Ks||{}),Qs=(_0x7d27c3=>(_0x7d27c3['LOG']='\x1b[42m',_0x7d27c3[a0_0x22f2c8(0x6d6)]=a0_0x22f2c8(0x2ce),_0x7d27c3[a0_0x22f2c8(0x79f)]=a0_0x22f2c8(0x5b3),_0x7d27c3['DARK']=a0_0x22f2c8(0x3fc),_0x7d27c3[a0_0x22f2c8(0x2c2)]=a0_0x22f2c8(0x634),_0x7d27c3['DEBUG']=a0_0x22f2c8(0x1c8),_0x7d27c3[a0_0x22f2c8(0x129)]='\x1b[47m',_0x7d27c3))(Qs||{}),$=class{constructor(_0xa1caf4='Logger'){const _0x405a2f=a0_0x22f2c8;this[_0x405a2f(0x447)]=_0xa1caf4,this['configService']=S;}[a0_0x22f2c8(0x693)](_0x2dc719){const _0x1887d8=a0_0x22f2c8;this[_0x1887d8(0x447)]=_0x2dc719;}[a0_0x22f2c8(0x6f7)](_0xdcdb42,_0x5e0e76){const _0x589ead=a0_0x22f2c8;let _0x204cf1=[];this['configService'][_0x589ead(0x319)]('LOG')[_0x589ead(0x131)]['forEach'](_0x3d588f=>_0x204cf1[_0x589ead(0x6b3)](Ks[_0x3d588f]));let _0x56b513=typeof _0xdcdb42;_0x204cf1[_0x589ead(0x750)](_0x5e0e76)&&(S[_0x589ead(0x319)](_0x589ead(0x5f2))[_0x589ead(0x568)]?(console[_0x589ead(0x274)]('\x1b[1m'+Hs[_0x5e0e76],_0x589ead(0x544),(0x0,ds['default'])()[_0x589ead(0x710)](_0x589ead(0x9d)),_0x589ead(0x6a1),ps[_0x5e0e76]+Qs[_0x5e0e76]+_0x589ead(0x2d8),_0x5e0e76+_0x589ead(0x338),_0x589ead(0x4a0),this[_0x589ead(0x447)]+_0x589ead(0x6a1),ps[_0x5e0e76],_0x56b513!=='object'?_0xdcdb42:'','\x1b[0m'),_0x56b513===_0x589ead(0x72b)&&console['log'](_0xdcdb42,'\x0a')):console['log']((0x0,ds[_0x589ead(0x66b)])()[_0x589ead(0x710)](_0x589ead(0x7b9)),_0x5e0e76+'\x20',''+this[_0x589ead(0x447)],_0xdcdb42));}['log'](_0x5dcd2a){const _0x30593f=a0_0x22f2c8;this[_0x30593f(0x6f7)](_0x5dcd2a,_0x30593f(0x5f2));}[a0_0x22f2c8(0x778)](_0x46f382){const _0x440dcc=a0_0x22f2c8;this[_0x440dcc(0x6f7)](_0x46f382,_0x440dcc(0x6d6));}['warn'](_0x26fce5){const _0x42a3a5=a0_0x22f2c8;this[_0x42a3a5(0x6f7)](_0x26fce5,_0x42a3a5(0x79f));}[a0_0x22f2c8(0x295)](_0x269faf){const _0x3bd028=a0_0x22f2c8;this[_0x3bd028(0x6f7)](_0x269faf,'ERROR');}[a0_0x22f2c8(0x470)](_0x538de9){const _0xf0183b=a0_0x22f2c8;this[_0xf0183b(0x6f7)](_0x538de9,'VERBOSE');}[a0_0x22f2c8(0x3bc)](_0x228fad){const _0xf770c3=a0_0x22f2c8;this[_0xf770c3(0x6f7)](_0x228fad,'DEBUG');}[a0_0x22f2c8(0x6b8)](_0x1b2fb6){const _0x247790=a0_0x22f2c8;this[_0x247790(0x6f7)](_0x1b2fb6,_0x247790(0x49d));}};function Ys(){const _0x3df6e5=a0_0x22f2c8;process['on'](_0x3df6e5(0x3fa),(_0x2e3cbd,_0x11d815)=>{const _0x17a420=_0x3df6e5;new $(_0x17a420(0x3fa))[_0x17a420(0x295)]({'origin':_0x11d815,'stderr':process[_0x17a420(0x4d8)]['fd'],'error':_0x2e3cbd});}),process['on'](_0x3df6e5(0x711),(_0x5a43de,_0x141509)=>{const _0x325b2a=_0x3df6e5;new $('unhandledRejection')['error']({'origin':_0x141509,'stderr':process[_0x325b2a(0x4d8)]['fd'],'error':_0x5a43de});});}var Xs=A(require('eventemitter2')),hs=new Xs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require('mongoose'),Ae=A(require('mongoose')),Ge=new $(a0_0x22f2c8(0xa4)),F=S[a0_0x22f2c8(0x319)](a0_0x22f2c8(0x771)),R=F[a0_0x22f2c8(0x205)]?F[a0_0x22f2c8(0x2df)]['URI']?Ae[a0_0x22f2c8(0x66b)][a0_0x22f2c8(0x1d5)](F[a0_0x22f2c8(0x2df)][a0_0x22f2c8(0x332)],{'dbName':F[a0_0x22f2c8(0x2df)][a0_0x22f2c8(0x7c2)]+a0_0x22f2c8(0x224)}):Ae[a0_0x22f2c8(0x66b)]['createConnection'](a0_0x22f2c8(0x48c)+F[a0_0x22f2c8(0x2df)][a0_0x22f2c8(0x4c3)]+':'+F['CONNECTION'][a0_0x22f2c8(0x412)]+a0_0x22f2c8(0x12e),{'user':F['CONNECTION'][a0_0x22f2c8(0x441)],'pass':F[a0_0x22f2c8(0x2df)][a0_0x22f2c8(0x775)],'dbName':F['CONNECTION']['DB_PREFIX_NAME']+a0_0x22f2c8(0x224)}):null;F[a0_0x22f2c8(0x205)]&&Ge['info'](a0_0x22f2c8(0x3b5)+R[a0_0x22f2c8(0x287)]);var ce=F[a0_0x22f2c8(0x205)]?F[a0_0x22f2c8(0x2df)][a0_0x22f2c8(0x332)]?Ae[a0_0x22f2c8(0x66b)]['createConnection'](F[a0_0x22f2c8(0x2df)]['URI'],{'dbName':a0_0x22f2c8(0x3e4)}):Ae[a0_0x22f2c8(0x66b)][a0_0x22f2c8(0x1d5)](a0_0x22f2c8(0x48c)+F[a0_0x22f2c8(0x2df)][a0_0x22f2c8(0x4c3)]+':'+F['CONNECTION'][a0_0x22f2c8(0x412)]+a0_0x22f2c8(0x12e),{'user':F[a0_0x22f2c8(0x2df)][a0_0x22f2c8(0x441)],'pass':F['CONNECTION']['PASSWORD'],'dbName':'cachedContacts-whatsapp'}):null;ce&&Ge[a0_0x22f2c8(0x778)](a0_0x22f2c8(0x3b5)+ce[a0_0x22f2c8(0x287)]),process['on']('beforeExit',()=>{const _0x263444=a0_0x22f2c8;R&&R[_0x263444(0x280)](()=>{const _0x293f41=_0x263444;Ge[_0x293f41(0x778)](_0x293f41(0x16f));}),ce&&ce['close'](()=>{const _0x5af020=_0x263444;Ge[_0x5af020(0x778)]('CacheContacts\x20database\x20connection\x20closed.');});});var Yi=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new Se[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new Se['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new Se[(a0_0x22f2c8(0x7ba))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new Se[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Zs=_0x5390c6=>{const _0x5de7b6=a0_0x22f2c8;let _0x4e7016='z_'+_0x5390c6+_0x5de7b6(0x493);return R?.['model'](_0x5de7b6(0x20f),to,_0x4e7016);},ea=require(a0_0x22f2c8(0x1e1)),so=new ea[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=_0x495272=>{const _0x2054fb=a0_0x22f2c8;let _0x40f880='z_'+_0x495272+_0x2054fb(0x5dd);return R?.[_0x2054fb(0x61b)](_0x2054fb(0x42c),so,_0x40f880);},sa=require('mongoose'),gs=class{},ao=new sa[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=ce?.[a0_0x22f2c8(0x61b)](gs[a0_0x22f2c8(0x2cb)],ao,a0_0x22f2c8(0x1e0)),ia=require(a0_0x22f2c8(0x1e1)),ms=class{},io=new ia[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=ce?.[a0_0x22f2c8(0x61b)](ms[a0_0x22f2c8(0x2cb)],io,a0_0x22f2c8(0x5a0)),oa=require(a0_0x22f2c8(0x1e1)),oo=new oa[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ra=_0x352c40=>{const _0x1c8892=a0_0x22f2c8;let _0x233ad0='z_'+_0x352c40+'_Messages';return R?.['model'](_0x1c8892(0x347),oo,_0x233ad0);},na=require('mongoose'),fs=class{},ro=new na['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ca=R?.[a0_0x22f2c8(0x61b)](fs['name'],ro,a0_0x22f2c8(0x77c)),la=require(a0_0x22f2c8(0x1e1)),ws=class{},ua=new la[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ua[a0_0x22f2c8(0x2f1)](a0_0x22f2c8(0x433),function(_0xc6b0aa){const _0x55b2b7=a0_0x22f2c8;delete this[_0x55b2b7(0x100)],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this[_0x55b2b7(0x1e4)],delete this[_0x55b2b7(0x2cc)],_0xc6b0aa();});var da=R?.[a0_0x22f2c8(0x61b)](ws[a0_0x22f2c8(0x2cb)],ua,a0_0x22f2c8(0x228)),D=require('mongoose'),ys=require(a0_0x22f2c8(0x4f4)),We=class{},bs=class{},ha=new D['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ss=new D[(a0_0x22f2c8(0x7ba))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x22f2c8(0x11a)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x22f2c8(0xb4)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ga=new D[(a0_0x22f2c8(0x7ba))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new D['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new D['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new D[(a0_0x22f2c8(0x7ba))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new D['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ma=new D[(a0_0x22f2c8(0x7ba))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),fa=new D[(a0_0x22f2c8(0x7ba))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),wa=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x376ecf=a0_0x22f2c8;return _0x376ecf(0x7b6)+Math[_0x376ecf(0x2de)]()[_0x376ecf(0x1ee)](0x24)[_0x376ecf(0x6b6)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x22f2c8(0x3d3)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});wa[a0_0x22f2c8(0x2f1)](a0_0x22f2c8(0x50c),function(_0xacfb21){const _0x3d42a8=a0_0x22f2c8;let _0x53ef97=this[_0x3d42a8(0x4b6)]();if(_0x53ef97&&typeof _0x53ef97=='object'&&_0x3d42a8(0x3de)in _0x53ef97){let _0x588a1e=_0x53ef97[_0x3d42a8(0x3de)];if(_0x588a1e){let _0x4fa819=new Set(),_0x27254c=new Set(_0x588a1e[_0x3d42a8(0xa1)]?.[_0x3d42a8(0x657)](_0x2c4eb3=>_0x2c4eb3[_0x3d42a8(0x2cb)])),_0x2ee365=JSON[_0x3d42a8(0x2e3)](_0x588a1e),_0x2dfe9a=/{{(?!_)([^}]*)}}/g,_0x557b47;for(;(_0x557b47=_0x2dfe9a[_0x3d42a8(0x19a)](_0x2ee365))!==null;)_0x27254c[_0x3d42a8(0x5f7)](_0x557b47[0x1])||_0x4fa819['add'](_0x557b47[0x1]);_0x4fa819[_0x3d42a8(0x7c0)]>0x0?(console[_0x3d42a8(0x542)](_0x3d42a8(0x20e),Array[_0x3d42a8(0x59a)](_0x4fa819)),_0x588a1e[_0x3d42a8(0x746)]=Array['from'](_0x4fa819)):_0x588a1e[_0x3d42a8(0x746)]=[],this[_0x3d42a8(0x22d)]({'$set':_0x588a1e});}}_0xacfb21();});var Me=R?.['model'](bs['name'],wa,a0_0x22f2c8(0x4ac)),po=new D['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x22f2c8(0x10d)},'waitingMenu_replyOptions':{'type':[Ss],'default':[]}}),ya=_0x257b8b=>{const _0x2a3463=a0_0x22f2c8;let _0x27851e='z_'+_0x257b8b+_0x2a3463(0x404);return R?.[_0x2a3463(0x61b)](_0x2a3463(0x169),ho,_0x27851e);},go=new D['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),pa=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[pa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x22f2c8(0x311)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':pa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ba=_0xd58200=>{const _0x73ecf0=a0_0x22f2c8;let _0x3643f2='z_'+_0xd58200+_0x73ecf0(0x386);return R?.[_0x73ecf0(0x61b)]('ScheduleMessageModel',mo,_0x3643f2);},Ms=class{},fo=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x22f2c8(0x36b)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new D[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),Ie=R?.[a0_0x22f2c8(0x61b)](Ms[a0_0x22f2c8(0x2cb)],Mo,a0_0x22f2c8(0x1ed)),Sa=require(a0_0x22f2c8(0x1e1)),Co=new Sa[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x44c7e4=>{const _0x31114f=a0_0x22f2c8;let _0x4ad16c='z_'+_0x44c7e4+_0x31114f(0x2db);return R?.['model'](_0x31114f(0x1b2),Co,_0x4ad16c);},_=class{constructor(_0x581e35){const _0xc2c382=a0_0x22f2c8;this[_0xc2c382(0x126)]=_0x581e35['get'](_0xc2c382(0x771));}};function I(_0x3dfe3d){const _0x3ec7d=a0_0x22f2c8;let _0x3f1d58={};for(let [_0x427573,_0x1a7775]of Object['entries'](_0x3dfe3d))if(typeof _0x1a7775=='object'&&!Array[_0x3ec7d(0x289)](_0x1a7775)){for(let [_0x4eeccd,_0x3af11b]of Object[_0x3ec7d(0x6ff)](_0x1a7775))_0x3f1d58[_0x427573+'.'+_0x4eeccd]=_0x3af11b;}else _0x3f1d58[_0x427573]=_0x1a7775;return _0x3f1d58;}function a0_0x2beb(_0x12bb8d,_0x10d0cb){const _0x55d601=a0_0x55d6();return a0_0x2beb=function(_0x2beb75,_0x48d527){_0x2beb75=_0x2beb75-0x92;let _0x4aae19=_0x55d601[_0x2beb75];return _0x4aae19;},a0_0x2beb(_0x12bb8d,_0x10d0cb);}var ze=class{constructor(_0x4f228c,_0x35e144,_0x51204a,_0x131b8d,_0x45a61c,_0x488bff,_0x44bbae,_0x1018f3,_0x22c3e2,_0x522aac,_0x581dbc,_0x2dab4e,_0x29e85f){const _0x58ae84=a0_0x22f2c8;this[_0x58ae84(0x659)]=_0x4f228c,this[_0x58ae84(0x294)]=_0x35e144,this[_0x58ae84(0x35d)]=_0x51204a,this['cacheContact']=_0x131b8d,this[_0x58ae84(0x228)]=_0x45a61c,this[_0x58ae84(0x3e7)]=_0x488bff,this[_0x58ae84(0x31b)]=_0x44bbae,this['flow']=_0x1018f3,this[_0x58ae84(0x1c1)]=_0x22c3e2,this[_0x58ae84(0x585)]=_0x522aac,this[_0x58ae84(0xf8)]=_0x581dbc,this[_0x58ae84(0x477)]=_0x2dab4e,this[_0x58ae84(0x59f)]=_0x29e85f;}get[a0_0x22f2c8(0x5e3)](){const _0xedef3b=a0_0x22f2c8;return this[_0xedef3b(0x59f)];}},He=class{},Ke=class extends _{[a0_0x22f2c8(0x658)](_0x30ec85){return ra(_0x30ec85);}async['insert'](_0x161324,_0x5263be){const _0x505780=a0_0x22f2c8;if(_0x161324[_0x505780(0x4a3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x505780(0x658)](_0x5263be)['insertMany']([..._0x161324]))[_0x505780(0x4a3)]};}catch(_0x4c81d2){return _0x4c81d2;}}async[a0_0x22f2c8(0xe9)](_0x174bae,_0x3e54fd){const _0x1d40ee=a0_0x22f2c8;try{let _0x1267ec=this[_0x1d40ee(0x658)](_0x3e54fd),_0x32c934=I(_0x174bae[_0x1d40ee(0x297)]);return await _0x1267ec[_0x1d40ee(0xe9)](_0x32c934)[_0x1d40ee(0x1e3)]({'messageTimestamp':-0x1})[_0x1d40ee(0x373)](_0x174bae?.[_0x1d40ee(0x373)]??0x0)[_0x1d40ee(0x47e)]();}catch{return[];}}async[a0_0x22f2c8(0x192)](_0x28908a,_0xc6d590){const _0x3a34ce=a0_0x22f2c8;try{let _0x93dfd=this[_0x3a34ce(0x658)](_0xc6d590),_0x6c336c=I(_0x28908a[_0x3a34ce(0x297)]);await _0x93dfd[_0x3a34ce(0x1a1)](_0x6c336c);}catch(_0x57ae95){console[_0x3a34ce(0x295)](_0x57ae95);}}async[a0_0x22f2c8(0x748)](_0x12d68b,_0x6c6ccb,_0x4541e2){const _0xd72c13=a0_0x22f2c8;try{let _0x3d0353=this[_0xd72c13(0x658)](_0x4541e2),_0x4c8520=I(_0x12d68b[_0xd72c13(0x297)]);return await _0x3d0353[_0xd72c13(0x50c)](_0x4c8520,{'$set':_0x6c6ccb},{'new':!0x0});}catch(_0x4721d9){throw console[_0xd72c13(0x295)](_0x4721d9),_0x4721d9;}}async[a0_0x22f2c8(0x698)](_0x28eba4,_0x24ed8c){const _0x413ab8=a0_0x22f2c8;if(_0x28eba4[_0x413ab8(0x4a3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x24ed8c)[_0x413ab8(0x698)]([..._0x28eba4]))[_0x413ab8(0x4a3)]};}catch(_0x506086){return console[_0x413ab8(0x274)](_0x413ab8(0x66e),_0x506086),_0x506086;}}async['deleteAll'](_0x6775eb){const _0x4382d8=a0_0x22f2c8;try{return await this[_0x4382d8(0x658)](_0x6775eb)[_0x4382d8(0x5b1)][_0x4382d8(0x1f0)](),{'success':!0x0};}catch(_0x3c0d0b){return console[_0x4382d8(0x295)](_0x3c0d0b),{'success':!0x1,'error':_0x3c0d0b};}}},_s=A(require('@ffmpeg-installer/ffmpeg')),w=A(require(a0_0x22f2c8(0xec))),Le=require('fs'),U=A(require(a0_0x22f2c8(0x6df))),Y=A(require(a0_0x22f2c8(0x6f3))),Ai=require(a0_0x22f2c8(0x4f4)),Ii=A(require(a0_0x22f2c8(0x4ee))),Ti=A(require(a0_0x22f2c8(0x263))),Ca=[a0_0x22f2c8(0x597),a0_0x22f2c8(0x2af),a0_0x22f2c8(0x249),a0_0x22f2c8(0x6b4),a0_0x22f2c8(0x15d)],Ea=['ephemeralMessage',a0_0x22f2c8(0x3fb),a0_0x22f2c8(0x5ed),a0_0x22f2c8(0x1ac)],xs=require('os'),Ut=A(require('pino')),Fe=require(a0_0x22f2c8(0x58c)),Oi=require('node-mime-types'),he=A(require(a0_0x22f2c8(0x1e1))),k=require('class-validator'),le=class{constructor(_0x477fba,_0x2e5d82,_0x255c70){const _0x30f2d3=a0_0x22f2c8;this[_0x30f2d3(0x50f)]=_0x477fba,this['exists']=_0x2e5d82,this[_0x30f2d3(0x2cb)]=_0x255c70;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ce=class{},et=class{},tt=class{},st=class{},at=class{},xt=A(require(a0_0x22f2c8(0x1d9))),va=require('fs'),Na=require(a0_0x22f2c8(0x6df));async function Oe(_0x2a0ba5){const _0xff2e2e=a0_0x22f2c8;let _0x4fe711=G[_0xff2e2e(0x3dc)][_0x2a0ba5];if(F['ENABLED']){let _0x38d644=R[_0xff2e2e(0x628)]()['db'](F[_0xff2e2e(0x2df)]['DB_PREFIX_NAME']+_0xff2e2e(0x732))[_0xff2e2e(0x5b1)](_0x2a0ba5);return _0x4fe711||(await _0x38d644['find']({})['toArray']())[_0xff2e2e(0x4a3)]>0x0;}return _0x4fe711||(0x0,va[_0xff2e2e(0x58a)])((0x0,Na['join'])(be,_0x2a0ba5));}async function $a(_0x22b23c,_0x550272,_0x29ca35){const _0x296b00=a0_0x22f2c8;if(_0x22b23c['originalUrl']['includes'](_0x296b00(0x5af))||_0x22b23c['originalUrl'][_0x296b00(0x750)]('/instance/fetchInstances')||_0x22b23c[_0x296b00(0x4c7)][_0x296b00(0x750)](_0x296b00(0x363))||_0x22b23c[_0x296b00(0x4c7)][_0x296b00(0x750)]('/config')||_0x22b23c[_0x296b00(0x4c7)][_0x296b00(0x750)]('/instance/connect')||_0x22b23c['originalUrl']['includes'](_0x296b00(0x355))||_0x22b23c['originalUrl'][_0x296b00(0x750)]('/instance/delete'))return _0x29ca35();let _0x528193=_0x22b23c[_0x296b00(0x781)];if(!_0x528193?.[_0x296b00(0x12b)])throw new m('instanceName\x20not\x20provided.');if(!await Oe(_0x528193[_0x296b00(0x12b)]))throw new j(_0x296b00(0x1a6)+_0x528193[_0x296b00(0x12b)]+_0x296b00(0x4d0));_0x29ca35();}async function Ra(_0x52999b,_0x43624f,_0x3e51a8){const _0x452dc8=a0_0x22f2c8;if(_0x52999b[_0x452dc8(0x4c7)][_0x452dc8(0x750)]('/instance/create')){let _0x500e22=_0x52999b['body'];if(await Oe(_0x500e22[_0x452dc8(0x12b)]))throw new Z(_0x452dc8(0x437)+_0x500e22[_0x452dc8(0x12b)]+_0x452dc8(0x427));G[_0x452dc8(0x3dc)][_0x500e22[_0x452dc8(0x12b)]]&&delete G[_0x452dc8(0x3dc)][_0x500e22['instanceName']];}_0x3e51a8();}var Aa=require('class-validator'),Ia=A(require('jsonwebtoken')),it=a0_0x22f2c8(0x77a),vo=new $(a0_0x22f2c8(0x420));async function No(_0x664ba2,_0x1750c8,_0x54fd4a){const _0x143576=a0_0x22f2c8;let _0x2fa8c5=_0x664ba2[_0x143576(0x319)](_0x143576(0x4de));if(_0x2fa8c5&&S['get'](_0x143576(0x5d0))[_0x143576(0x15f)]['KEY']!==_0x2fa8c5)throw new oe();if(S[_0x143576(0x319)](_0x143576(0x5d0))[_0x143576(0x15f)][_0x143576(0x119)]===_0x2fa8c5)return _0x54fd4a();if((_0x664ba2[_0x143576(0x4c7)][_0x143576(0x750)](_0x143576(0x5af))||_0x664ba2[_0x143576(0x4c7)]['includes']('/instance/fetchInstances'))&&!_0x2fa8c5)throw new Z(_0x143576(0x323),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x3db8ac=S[_0x143576(0x319)](_0x143576(0x5d0))[_0x143576(0x44d)];try{let [_0x46eebb,_0x56f497]=_0x664ba2[_0x143576(0x319)]('authorization')[_0x143576(0x293)]('\x20');if(_0x46eebb[_0x143576(0x157)]()!=='bearer')throw new oe();if(!(0x0,Aa[_0x143576(0x76d)])(_0x56f497))throw new oe();let _0x3044ec=_0x664ba2[_0x143576(0x781)],_0x2f7ed3=Ia[_0x143576(0x66b)][_0x143576(0x114)](_0x56f497,_0x3db8ac[_0x143576(0x651)],{'ignoreExpiration':_0x3db8ac['EXPIRIN_IN']===0x0});if(_0x3044ec[_0x143576(0x12b)]!==_0x2f7ed3[_0x143576(0x12b)]||it!==_0x2f7ed3[_0x143576(0x76c)])throw new oe();return _0x54fd4a();}catch(_0x50298d){throw vo[_0x143576(0x295)](_0x50298d),new oe();}}async function $o(_0x39102a,_0x1127d4,_0x5cc306){const _0x2890a6=a0_0x22f2c8;let _0xa94a92=S[_0x2890a6(0x319)](_0x2890a6(0x5d0))[_0x2890a6(0x15f)],_0x40b8b1=_0x39102a[_0x2890a6(0x319)]('apikey');if(_0xa94a92['KEY']===_0x40b8b1)return _0x5cc306();if(_0x39102a[_0x2890a6(0x4c7)][_0x2890a6(0x750)](_0x2890a6(0x5af))){let _0x56aa31=Oa,_0x5375ea=_0x39102a[_0x2890a6(0x573)][_0x2890a6(0x12b)];if(_0x56aa31&&_0x5375ea[_0x2890a6(0x157)]()[_0x2890a6(0xf2)](_0x56aa31['toLowerCase']()))return _0x5cc306();if(!_0x40b8b1)throw new Z(_0x2890a6(0x323),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x39102a['originalUrl'][_0x2890a6(0x750)](_0x2890a6(0x6fd))&&!_0x40b8b1)throw new Z('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x39102a[_0x2890a6(0x4c7)][_0x2890a6(0x750)]('/exit')&&!_0x40b8b1)throw new Z(_0x2890a6(0x323),_0x2890a6(0x43f));if(_0x39102a[_0x2890a6(0x4c7)]['includes'](_0x2890a6(0x5dc))&&!_0x40b8b1)throw new Z(_0x2890a6(0x323),_0x2890a6(0x43f));try{let _0x483fc1=_0x39102a[_0x2890a6(0x781)],_0x577358=await me[_0x2890a6(0x3e7)]['find'](_0x483fc1[_0x2890a6(0x12b)]);if(_0x577358&&_0x577358[_0x2890a6(0x4de)]===_0x40b8b1)return _0x5cc306();}catch{}throw new oe();}var Ta={'jwt':No,'apikey':$o},di=require(a0_0x22f2c8(0x1d9)),E=require(a0_0x22f2c8(0x4f4)),C=(..._0xe56080)=>{const _0x4264a1=a0_0x22f2c8;let _0x487117={};return _0xe56080[_0x4264a1(0x317)](_0x537a20=>_0x487117[_0x537a20]={'minLength':0x1,'description':'The\x20\x22'+_0x537a20+_0x4264a1(0x593)}),{'if':{'propertyNames':{'enum':[..._0xe56080]}},'then':{'properties':_0x487117}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'instanceName':{'type':a0_0x22f2c8(0x671)}},...C('instanceName')},mc={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'oldToken':{'type':'string'}},'required':['oldToken'],...C(a0_0x22f2c8(0x17c))},fc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x22f2c8(0x671)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x22f2c8(0x5ea)],...C('id',a0_0x22f2c8(0x22b))},'message':{'type':'object'}}},ee={'properties':{'delay':{'type':a0_0x22f2c8(0x421),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':['unavailable',a0_0x22f2c8(0x48e),a0_0x22f2c8(0x669),'recording',a0_0x22f2c8(0x50e)]}}},K={'type':a0_0x22f2c8(0x671),'description':a0_0x22f2c8(0x675)},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'textMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'text':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x20c)],...C(a0_0x22f2c8(0x20c))}},'required':[a0_0x22f2c8(0x221),a0_0x22f2c8(0x375)]},xa={'type':a0_0x22f2c8(0x671),'pattern':a0_0x22f2c8(0x679),'description':'Invalid\x20format'},wc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...xa},'options':{...ee},'textMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'text':{'type':a0_0x22f2c8(0x671)}},'required':['text'],...C(a0_0x22f2c8(0x20c))}},'required':[a0_0x22f2c8(0x221),'number']},yc={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...xa},'options':{...ee},'mediaMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'mediatype':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x5c3),a0_0x22f2c8(0x6f0),a0_0x22f2c8(0x1b8),a0_0x22f2c8(0x524)]},'media':{'type':a0_0x22f2c8(0x671)},'fileName':{'type':a0_0x22f2c8(0x671)},'caption':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x312),a0_0x22f2c8(0x787)],...C(a0_0x22f2c8(0x252),'caption','media')}},'required':[a0_0x22f2c8(0x9c),a0_0x22f2c8(0x375)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'options':{...ee},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':['image'],...C('image')}},'required':[a0_0x22f2c8(0x15d),a0_0x22f2c8(0x375)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'statusMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'type':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x20c),a0_0x22f2c8(0x5c3),a0_0x22f2c8(0x524),'video']},'content':{'type':'string'},'caption':{'type':a0_0x22f2c8(0x671)},'backgroundColor':{'type':a0_0x22f2c8(0x671)},'font':{'type':a0_0x22f2c8(0x421),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x22f2c8(0x213),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x22f2c8(0x764),'description':a0_0x22f2c8(0x30c)}},'allContacts':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]}},'required':[a0_0x22f2c8(0x742),a0_0x22f2c8(0x3d7)],...C('type',a0_0x22f2c8(0x3d7))}},'required':[a0_0x22f2c8(0x62b)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'options':{...ee},'mediaMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'mediatype':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x5c3),a0_0x22f2c8(0x6f0),a0_0x22f2c8(0x1b8),a0_0x22f2c8(0x524)]},'media':{'type':'string'},'fileName':{'type':a0_0x22f2c8(0x671)},'caption':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x312),'media'],...C(a0_0x22f2c8(0x252),a0_0x22f2c8(0x4d2),a0_0x22f2c8(0x787))}},'required':[a0_0x22f2c8(0x9c),a0_0x22f2c8(0x375)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'options':{...ee},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x524)],...C(a0_0x22f2c8(0x524))}},'required':['audioMessage','number']},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x22f2c8(0x671)},'selectableCount':{'type':'number'},'values':{'type':a0_0x22f2c8(0x213),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22f2c8(0x2cb),'selectableCount','values'],...C('name',a0_0x22f2c8(0x271),a0_0x22f2c8(0xa0))}},'required':[a0_0x22f2c8(0x375),a0_0x22f2c8(0x5c0)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'menuMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'text':{'type':a0_0x22f2c8(0x671)},'choices':{'type':a0_0x22f2c8(0x213),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22f2c8(0x20c),'choices'],...C(a0_0x22f2c8(0x20c),'choices')}},'required':['number','menuMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'options':{...ee},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x22f2c8(0x671)},'description':{'type':a0_0x22f2c8(0x671)},'footerText':{'type':a0_0x22f2c8(0x671)},'buttons':{'type':a0_0x22f2c8(0x213),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22f2c8(0x72b),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x22f2c8(0x671)}},'required':['buttonText',a0_0x22f2c8(0x38a)],...C(a0_0x22f2c8(0x5ab),a0_0x22f2c8(0x38a))}},'mediaMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x5c3),a0_0x22f2c8(0x6f0),'video']}},'required':['media',a0_0x22f2c8(0x312)],...C(a0_0x22f2c8(0x787),a0_0x22f2c8(0x252))}},'required':[a0_0x22f2c8(0x6a2),a0_0x22f2c8(0x3b4)],...C(a0_0x22f2c8(0x6a2),a0_0x22f2c8(0x50b))}},'required':[a0_0x22f2c8(0x375),a0_0x22f2c8(0x320)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'options':{...ee},'locationMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x22f2c8(0x375)},'name':{'type':a0_0x22f2c8(0x671)},'address':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x4ed),a0_0x22f2c8(0x7c8)],...C('name',a0_0x22f2c8(0x7b2))}},'required':[a0_0x22f2c8(0x375),a0_0x22f2c8(0x687)]},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'listMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x22f2c8(0x671)},'buttonText':{'type':a0_0x22f2c8(0x671)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22f2c8(0x72b),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x22f2c8(0x213),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22f2c8(0x72b),'properties':{'title':{'type':a0_0x22f2c8(0x671)},'description':{'type':a0_0x22f2c8(0x671)},'rowId':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x6a2),'rowId'],...C(a0_0x22f2c8(0x6a2),'rowId')}}},'required':['title','rows'],...C('title')}}},'required':['title',a0_0x22f2c8(0x50b),a0_0x22f2c8(0x5ab),a0_0x22f2c8(0x4f8)],...C(a0_0x22f2c8(0x6a2),a0_0x22f2c8(0x50b),a0_0x22f2c8(0x5ab),a0_0x22f2c8(0x483))}},'required':[a0_0x22f2c8(0x375),a0_0x22f2c8(0x575)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'contactMessage':{'type':a0_0x22f2c8(0x213),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x22f2c8(0x671),'minLength':0xa}},'required':[a0_0x22f2c8(0x145),a0_0x22f2c8(0x47f)],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x22f2c8(0x375),a0_0x22f2c8(0x757)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'reactionMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'key':{'type':a0_0x22f2c8(0x72b),'properties':{'id':{'type':a0_0x22f2c8(0x671)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22f2c8(0x22b),'fromMe'],...C('id','remoteJid')},'reaction':{'type':'string'}},'required':['key',a0_0x22f2c8(0x225)],...C(a0_0x22f2c8(0x225))}},'required':[a0_0x22f2c8(0x304)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'numbers':{'type':a0_0x22f2c8(0x213),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22f2c8(0x671),'pattern':a0_0x22f2c8(0x764),'description':a0_0x22f2c8(0x7d3)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x22f2c8(0x671)},'fromMe':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x22f2c8(0x5ea),a0_0x22f2c8(0x22b)],...C('id',a0_0x22f2c8(0x22b))}}},'required':[a0_0x22f2c8(0x75b)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x65b),a0_0x22f2c8(0x14a)]},'profile':{'type':'string','enum':['all','contacts','contact_blacklist',a0_0x22f2c8(0x14a)]},'status':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x65b),a0_0x22f2c8(0x7cd),'contact_blacklist',a0_0x22f2c8(0x14a)]},'online':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x65b),'match_last_seen']},'last':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x65b),a0_0x22f2c8(0x7cd),a0_0x22f2c8(0x78f),a0_0x22f2c8(0x14a)]},'groupadd':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0x65b),a0_0x22f2c8(0x7cd),'contact_blacklist',a0_0x22f2c8(0x14a)]}},'required':['readreceipts',a0_0x22f2c8(0x7be),a0_0x22f2c8(0x3fe),'online','last',a0_0x22f2c8(0x4a6)],...C(a0_0x22f2c8(0x209),a0_0x22f2c8(0x7be),a0_0x22f2c8(0x3fe),a0_0x22f2c8(0x468),'last',a0_0x22f2c8(0x4a6))}},'required':[a0_0x22f2c8(0x794)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'lastMessage':{'type':a0_0x22f2c8(0x72b),'properties':{'key':{'type':a0_0x22f2c8(0x72b),'properties':{'id':{'type':a0_0x22f2c8(0x671)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22f2c8(0x5ea),a0_0x22f2c8(0x22b)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x22f2c8(0x421),'minLength':0x1}},'required':[a0_0x22f2c8(0x41f)],...C('messageTimestamp')},'archive':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x22f2c8(0x671)},'fromMe':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id',a0_0x22f2c8(0x5ea),a0_0x22f2c8(0x22b)],...C('id','remoteJid',a0_0x22f2c8(0x4fd))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x22f2c8(0x671),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x22f2c8(0x286),'id',a0_0x22f2c8(0x395))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'name':{'type':a0_0x22f2c8(0x671)}},...C('name')},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'status':{'type':a0_0x22f2c8(0x671)}},...C(a0_0x22f2c8(0x3fe))},_e={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x22f2c8(0x671)},'picture':{'type':a0_0x22f2c8(0x671)}}},Za={'type':'object','properties':{'wuid':{'type':a0_0x22f2c8(0x671)},'name':{'type':a0_0x22f2c8(0x671)},'picture':{'type':a0_0x22f2c8(0x671)},'status':{'type':'string'},'isBusiness':{'type':a0_0x22f2c8(0xaf)}}},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x22f2c8(0x72b),'properties':{'_id':{'type':a0_0x22f2c8(0x671),'minLength':0x1},'key':{'type':a0_0x22f2c8(0x72b),'if':{'propertyNames':{'enum':[a0_0x22f2c8(0x5ea),a0_0x22f2c8(0x22b),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x22f2c8(0x671),'minLength':0x1,'description':a0_0x22f2c8(0x51d)},'id':{'type':'string','minLength':0x1,'description':a0_0x22f2c8(0x51d)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x22f2c8(0x72b)}},...C(a0_0x22f2c8(0x286))},'limit':{'type':a0_0x22f2c8(0x421)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'where':{'type':a0_0x22f2c8(0x72b),'properties':{'_id':{'type':a0_0x22f2c8(0x671)},'remoteJid':{'type':a0_0x22f2c8(0x671)},'id':{'type':a0_0x22f2c8(0x671)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x22f2c8(0x671)},'status':{'type':a0_0x22f2c8(0x671),'enum':['ERROR',a0_0x22f2c8(0x559),a0_0x22f2c8(0x63e),a0_0x22f2c8(0x61c),a0_0x22f2c8(0x2f3),a0_0x22f2c8(0x1da)]}},...C(a0_0x22f2c8(0x286),a0_0x22f2c8(0x22b),'id',a0_0x22f2c8(0x3fe))},'limit':{'type':a0_0x22f2c8(0x421)}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'number':{...K},'presence':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0xd6),a0_0x22f2c8(0x48e),a0_0x22f2c8(0x669),'recording',a0_0x22f2c8(0x50e)]}},'required':[a0_0x22f2c8(0x3a1),a0_0x22f2c8(0x375)]},si={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'subject':{'type':a0_0x22f2c8(0x671)},'description':{'type':a0_0x22f2c8(0x671)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x22f2c8(0x213),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22f2c8(0x671),'minLength':0xa,'pattern':a0_0x22f2c8(0x367),'description':a0_0x22f2c8(0x744)}}},'required':['subject',a0_0x22f2c8(0x7b1)],...C(a0_0x22f2c8(0x354),a0_0x22f2c8(0x50b),a0_0x22f2c8(0x115))},xe={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'groupJid':{'type':a0_0x22f2c8(0x671),'pattern':a0_0x22f2c8(0x4b9)}},'required':[a0_0x22f2c8(0x123)],...C(a0_0x22f2c8(0x123))},ai={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x22f2c8(0x671),'enum':[a0_0x22f2c8(0xda),'remove',a0_0x22f2c8(0x2ba),'demote',a0_0x22f2c8(0x150),'approve']},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22f2c8(0x671),'minLength':0xa,'pattern':a0_0x22f2c8(0x367),'description':a0_0x22f2c8(0x744)}}},'required':[a0_0x22f2c8(0x123),a0_0x22f2c8(0x55b),a0_0x22f2c8(0x7b1)],...C('groupJid',a0_0x22f2c8(0x55b))},ii={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22f2c8(0x671)},'expiration':{'type':a0_0x22f2c8(0x375),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x22f2c8(0x123),'expiration'],...C(a0_0x22f2c8(0x123),a0_0x22f2c8(0x17f))},oi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22f2c8(0x671)},'image':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x123),a0_0x22f2c8(0x5c3)],...C(a0_0x22f2c8(0x123),a0_0x22f2c8(0x5c3))},ri={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':[a0_0x22f2c8(0x123),a0_0x22f2c8(0x50b)],...C(a0_0x22f2c8(0x123),a0_0x22f2c8(0x50b))},ni={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22f2c8(0x671)},'name':{'type':'string'}},'required':['groupJid',a0_0x22f2c8(0x2cb)],...C('groupJid',a0_0x22f2c8(0x2cb))},ci={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22f2c8(0x671)},'setting':{'type':'string','enum':['announcement',a0_0x22f2c8(0x2d3),a0_0x22f2c8(0x501),'locked']}},'required':[a0_0x22f2c8(0x123),a0_0x22f2c8(0x356)],...C('groupJid','setting')},li={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22f2c8(0x671)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x22f2c8(0xaf)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x22f2c8(0x421),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x22f2c8(0x671)},'description':{'type':a0_0x22f2c8(0x671)},'image':{'type':a0_0x22f2c8(0x671)}}},Es={'$id':(0x0,E['v4'])(),'type':a0_0x22f2c8(0x72b),'properties':{'inviteCode':{'type':a0_0x22f2c8(0x671)}},'required':[a0_0x22f2c8(0x69b)],...C(a0_0x22f2c8(0x69b))},ui={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x22f2c8(0x671)},'enabled':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]}},'required':[a0_0x22f2c8(0x45f),a0_0x22f2c8(0x4e0)]},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x22f2c8(0xaf),'enum':[!0x0,!0x1]}},'required':[a0_0x22f2c8(0x3d0),a0_0x22f2c8(0x2f2),'QRCODE_UPDATED',a0_0x22f2c8(0x2cd),a0_0x22f2c8(0x64d),a0_0x22f2c8(0x435),'SEND_MESSAGE',a0_0x22f2c8(0x19b),a0_0x22f2c8(0x1e5),a0_0x22f2c8(0xfa),'PRESENCE_UPDATE',a0_0x22f2c8(0x194),a0_0x22f2c8(0x6c9),a0_0x22f2c8(0x364),'CHATS_DELETE',a0_0x22f2c8(0x2b8),a0_0x22f2c8(0x1ea),a0_0x22f2c8(0x219),a0_0x22f2c8(0x1e6)],...C(a0_0x22f2c8(0x3d0),'STATUS_INSTANCE',a0_0x22f2c8(0x738),a0_0x22f2c8(0x2cd),a0_0x22f2c8(0x64d),'MESSAGES_UPSERT',a0_0x22f2c8(0x7ce),a0_0x22f2c8(0x19b),a0_0x22f2c8(0x1e5),a0_0x22f2c8(0xfa),a0_0x22f2c8(0xae),'CHATS_SET',a0_0x22f2c8(0x6c9),a0_0x22f2c8(0x364),a0_0x22f2c8(0xf5),a0_0x22f2c8(0x2b8),a0_0x22f2c8(0x1ea),a0_0x22f2c8(0x219),a0_0x22f2c8(0x1e6))},ot=class{},rt=class extends _{[a0_0x22f2c8(0x685)](_0x8114a6){return ta(_0x8114a6);}async[a0_0x22f2c8(0xff)](_0x9ae297){const _0x56e817=a0_0x22f2c8;if(_0x9ae297[_0x56e817(0x4a3)]!==0x0)try{return{'insertCount':(await this[_0x56e817(0x685)](_0x9ae297[0x0][_0x56e817(0x58e)])['insertMany']([..._0x9ae297]))[_0x56e817(0x4a3)]};}catch(_0x50ff90){return _0x50ff90;}}async[a0_0x22f2c8(0x192)](_0x5d01f8,_0x2ac4ea){const _0x144e4d=a0_0x22f2c8;try{return{'deletedCount':(await this[_0x144e4d(0x685)](_0x2ac4ea)[_0x144e4d(0x1a1)]({..._0x5d01f8[_0x144e4d(0x297)]}))[_0x144e4d(0xd7)]};}catch(_0x1cf3c8){return{'error':_0x1cf3c8?.[_0x144e4d(0x1ee)]()};}}async[a0_0x22f2c8(0x748)](_0x1432f6,_0x5417b7){const _0x4996e3=a0_0x22f2c8;try{if(_0x1432f6['length']===0x0)return;let _0x1b8753=this['getContactModelForOwner'](_0x5417b7),_0x5a965c=_0x1432f6[_0x4996e3(0x657)](_0x5208e7=>({'updateOne':{'filter':{'_id':_0x5208e7[_0x4996e3(0x286)],'owner':_0x5417b7},'update':{..._0x5208e7}}})),{modifiedCount:_0x354141}=await _0x1b8753[_0x4996e3(0x2fb)](_0x5a965c);return{'insertCount':_0x354141};}catch{return;}}async['find'](_0x23db2e,_0x102e8f){const _0x59e382=a0_0x22f2c8;try{let _0x4cfcae=this[_0x59e382(0x685)](_0x102e8f),_0x3e8d6d=I(_0x23db2e['where']);return await _0x4cfcae[_0x59e382(0xe9)](_0x3e8d6d)[_0x59e382(0x373)](_0x23db2e?.['limit']??0x0)[_0x59e382(0x47e)]();}catch{return[];}}async['findOne'](_0x5be9e9,_0x5472b0){const _0x5d6446=a0_0x22f2c8;try{let _0x174308=this[_0x5d6446(0x685)](_0x5472b0),_0x4a98e8=I(_0x5be9e9[_0x5d6446(0x297)]);return await _0x174308['findOne'](_0x4a98e8)[_0x5d6446(0x47e)]();}catch{return null;}}async[a0_0x22f2c8(0x352)](_0x29f96b){const _0x2cac4a=a0_0x22f2c8;try{return await this[_0x2cac4a(0x685)](_0x29f96b)[_0x2cac4a(0x5b1)][_0x2cac4a(0x1f0)](),{'success':!0x0};}catch(_0x47cd44){return console[_0x2cac4a(0x295)](_0x47cd44),{'success':!0x1,'error':_0x47cd44};}}},nt=require(a0_0x22f2c8(0x278)),Ic=require(a0_0x22f2c8(0x368)),vs=new $('Validate'),V=class{[a0_0x22f2c8(0x598)](_0x4ab3fc,_0x38f0cf=!0x0){const _0x5ddc5f=a0_0x22f2c8;let _0x3658be='/'+_0x4ab3fc;return _0x38f0cf&&(_0x3658be+=_0x5ddc5f(0x53b)),_0x3658be;}async[a0_0x22f2c8(0x15e)](_0x237904){const _0x24ae1b=a0_0x22f2c8;let {request:_0x1af817,schema:_0x3d3536,ClassRef:_0x202786,execute:_0x401116}=_0x237904,_0x57a932=new _0x202786(),_0x283193=_0x1af817[_0x24ae1b(0x573)],_0x5474fa=_0x1af817[_0x24ae1b(0x781)];_0x1af817?.[_0x24ae1b(0x7bf)]&&Object['keys'](_0x1af817[_0x24ae1b(0x7bf)])[_0x24ae1b(0x4a3)]>0x0&&Object['assign'](_0x5474fa,_0x1af817[_0x24ae1b(0x7bf)]),_0x1af817[_0x24ae1b(0x4c7)]['includes'](_0x24ae1b(0x5af))&&Object[_0x24ae1b(0x3b7)](_0x5474fa,_0x283193),Object[_0x24ae1b(0x3b7)](_0x57a932,_0x283193);let _0x3467e2=_0x3d3536?(0x0,nt[_0x24ae1b(0x479)])(_0x57a932,_0x3d3536):{'valid':!0x0,'errors':[]};if(!_0x3467e2[_0x24ae1b(0x156)]){let _0x84e9e5=_0x3467e2[_0x24ae1b(0x512)][_0x24ae1b(0x657)](({property:_0x33e4d1,stack:_0x3df399,schema:_0x5c3ece})=>{const _0x195b2b=_0x24ae1b;let _0xef7b7a;return _0x5c3ece[_0x195b2b(0x50b)]?_0xef7b7a=_0x5c3ece[_0x195b2b(0x50b)]:_0xef7b7a=_0x3df399[_0x195b2b(0x16d)](_0x195b2b(0x41a),''),{'property':_0x33e4d1[_0x195b2b(0x16d)](_0x195b2b(0x41a),''),'message':_0xef7b7a};});throw vs['error']([..._0x84e9e5]),new m(..._0x84e9e5);}return await _0x401116(_0x5474fa,_0x57a932);}async[a0_0x22f2c8(0x377)](_0x31568b){const _0x2f722b=a0_0x22f2c8;let {request:_0x8ac29f,ClassRef:_0x2d14c7,schema:_0x565221,execute:_0x23d4b0}=_0x31568b,_0x4787fa=_0x8ac29f[_0x2f722b(0x7bf)];if(!_0x4787fa?.[_0x2f722b(0x123)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x2f722b(0x128));let _0x18e864=_0x8ac29f[_0x2f722b(0x781)],_0x4636ad=_0x8ac29f[_0x2f722b(0x573)],_0x1931ca=new _0x2d14c7();Object['assign'](_0x4636ad,_0x4787fa),Object['assign'](_0x1931ca,_0x4636ad);let _0x221f15=(0x0,nt[_0x2f722b(0x479)])(_0x1931ca,_0x565221);if(!_0x221f15[_0x2f722b(0x156)]){let _0x10b90b=_0x221f15[_0x2f722b(0x512)]['map'](({property:_0x2d155c,stack:_0x57058f,schema:_0x30ae13})=>{const _0x2b463b=_0x2f722b;let _0x585d7e;return _0x30ae13['description']?_0x585d7e=_0x30ae13[_0x2b463b(0x50b)]:_0x585d7e=_0x57058f[_0x2b463b(0x16d)]('instance.',''),{'property':_0x2d155c[_0x2b463b(0x16d)](_0x2b463b(0x41a),''),'message':_0x585d7e};});throw vs['error']([..._0x10b90b]),new m(..._0x10b90b);}return await _0x23d4b0(_0x18e864,_0x1931ca);}async[a0_0x22f2c8(0x553)](_0x582d5f){const _0x2f74e3=a0_0x22f2c8;let {request:_0x3416be,ClassRef:_0x17cf91,schema:_0x466212,execute:_0x209ef0}=_0x582d5f,_0x3b3acf=_0x3416be['body'];if(!_0x3b3acf?.['inviteCode'])throw new m(_0x2f74e3(0x7a1),_0x2f74e3(0x7a4));let _0x276a60=_0x3416be['params'],_0x364038=_0x3416be['body'],_0x26127a=new _0x17cf91();Object['assign'](_0x364038,_0x3b3acf),Object[_0x2f74e3(0x3b7)](_0x26127a,_0x364038);let _0x14c865=(0x0,nt[_0x2f74e3(0x479)])(_0x26127a,_0x466212);if(!_0x14c865[_0x2f74e3(0x156)]){let _0x53d476=_0x14c865[_0x2f74e3(0x512)]['map'](({property:_0x14c564,stack:_0x3a2845,schema:_0x1d1926})=>{const _0xa9f6e4=_0x2f74e3;let _0xba6ff6;return _0x1d1926[_0xa9f6e4(0x50b)]?_0xba6ff6=_0x1d1926[_0xa9f6e4(0x50b)]:_0xba6ff6=_0x3a2845['replace'](_0xa9f6e4(0x41a),''),{'property':_0x14c564[_0xa9f6e4(0x16d)](_0xa9f6e4(0x41a),''),'message':_0xba6ff6};});throw vs['error']([..._0x53d476]),new m(..._0x53d476);}return await _0x209ef0(_0x276a60,_0x26127a);}},M=class{},Gc=new $(a0_0x22f2c8(0x68c)),ct=class extends V{constructor(..._0x653a47){const _0x4763b8=a0_0x22f2c8;super(),this['router']=(0x0,di[_0x4763b8(0x330)])(),this[_0x4763b8(0x3b1)][_0x4763b8(0x77d)](this[_0x4763b8(0x598)](_0x4763b8(0x212)),..._0x653a47,async(_0x50322e,_0x3cf7bd)=>{const _0xd39e06=_0x4763b8;let _0x472395=await this[_0xd39e06(0x15e)]({'request':_0x50322e,'schema':ti,'ClassRef':Qe,'execute':(_0x13c052,_0x22a2ea)=>P[_0xd39e06(0x212)](_0x13c052,_0x22a2ea)});return _0x3cf7bd[_0xd39e06(0x3fe)](0xc9)[_0xd39e06(0x36e)](_0x472395);})[_0x4763b8(0x77d)](this[_0x4763b8(0x598)](_0x4763b8(0x38d)),..._0x653a47,async(_0x170238,_0x17eedd)=>{const _0x421e48=_0x4763b8;let _0x562924=await this['dataValidate']({'request':_0x170238,'schema':Ba,'ClassRef':Ye,'execute':(_0x18dd21,_0x30c18d)=>P[_0x421e48(0x337)](_0x18dd21,_0x30c18d)});return _0x17eedd[_0x421e48(0x3fe)](0xc9)[_0x421e48(0x36e)](_0x562924);})['post'](this[_0x4763b8(0x598)]('editChat'),..._0x653a47,async(_0x4060f2,_0x180c5c)=>{const _0x19e943=_0x4763b8;let _0x41a985=await this[_0x19e943(0x15e)]({'request':_0x4060f2,'schema':v,'ClassRef':M,'execute':(_0x20e6cb,_0x3be46f)=>P[_0x19e943(0x556)](_0x20e6cb,_0x3be46f)});return _0x180c5c[_0x19e943(0x3fe)](0xc9)[_0x19e943(0x36e)](_0x41a985);})['put'](this['routerPath'](_0x4763b8(0x41c)),..._0x653a47,async(_0xbc0777,_0x441e98)=>{const _0x12dd5a=_0x4763b8;let _0x2fcf87=await this[_0x12dd5a(0x15e)]({'request':_0xbc0777,'schema':Wa,'ClassRef':et,'execute':(_0x1592b7,_0x4ed1ea)=>P[_0x12dd5a(0x3e9)](_0x1592b7,_0x4ed1ea)});return _0x441e98[_0x12dd5a(0x3fe)](0xc9)[_0x12dd5a(0x36e)](_0x2fcf87);})['put'](this[_0x4763b8(0x598)]('archiveChat'),..._0x653a47,async(_0x514bb4,_0x7aaef8)=>{const _0x514d84=_0x4763b8;let _0x55ea7f=await this[_0x514d84(0x15e)]({'request':_0x514bb4,'schema':Ha,'ClassRef':tt,'execute':(_0x42ec0f,_0x1da8a4)=>P[_0x514d84(0x648)](_0x42ec0f,_0x1da8a4)});return _0x7aaef8[_0x514d84(0x3fe)](0xc9)['json'](_0x55ea7f);})[_0x4763b8(0x192)](this['routerPath'](_0x4763b8(0x32c)),..._0x653a47,async(_0xb020a,_0x3e6b9b)=>{const _0x53a3bb=_0x4763b8;let _0xb54aa=await this[_0x53a3bb(0x15e)]({'request':_0xb020a,'schema':Ka,'ClassRef':at,'execute':(_0x53a3dd,_0x3b9565)=>P['deleteMessage'](_0x53a3dd,_0x3b9565)});return _0x3e6b9b[_0x53a3bb(0x3fe)](0xc9)[_0x53a3bb(0x36e)](_0xb54aa);})[_0x4763b8(0x77d)](this[_0x4763b8(0x598)](_0x4763b8(0x348)),..._0x653a47,async(_0x5ce441,_0x4fee42)=>{const _0x242678=_0x4763b8;let _0x435f5d=await this['dataValidate']({'request':_0x5ce441,'schema':_e,'ClassRef':Te,'execute':(_0x11edcc,_0x15bd00)=>P[_0x242678(0x5f4)](_0x11edcc,_0x15bd00)});return _0x4fee42[_0x242678(0x3fe)](0xc8)[_0x242678(0x36e)](_0x435f5d);})[_0x4763b8(0x77d)](this[_0x4763b8(0x598)](_0x4763b8(0x1a4)),..._0x653a47,async(_0x1b6c1f,_0x292b2f)=>{const _0x2dd8da=_0x4763b8;let _0x35ff46=await this['dataValidate']({'request':_0x1b6c1f,'schema':Za,'ClassRef':Te,'execute':(_0x4c8818,_0x40d349)=>P[_0x2dd8da(0x1a4)](_0x4c8818,_0x40d349)});return _0x292b2f[_0x2dd8da(0x3fe)](0xc8)[_0x2dd8da(0x36e)](_0x35ff46);})['post'](this['routerPath'](_0x4763b8(0x462)),..._0x653a47,async(_0x4184ff,_0x4d72c6)=>{const _0x4e2f3e=_0x4763b8;let _0x5bca57=await this[_0x4e2f3e(0x15e)]({'request':_0x4184ff,'schema':Qa,'ClassRef':ot,'execute':(_0x5507e4,_0x3f8773)=>P['fetchContacts'](_0x5507e4,_0x3f8773)});return _0x4d72c6[_0x4e2f3e(0x3fe)](0xc8)[_0x4e2f3e(0x36e)](_0x5bca57);})[_0x4763b8(0x77d)](this[_0x4763b8(0x598)](_0x4763b8(0x7c7)),..._0x653a47,async(_0x3a8f56,_0x2d3fa4)=>{const _0x1d3e6a=_0x4763b8;let _0x67fb6f=await this[_0x1d3e6a(0x15e)]({'request':_0x3a8f56,'schema':null,'ClassRef':Object,'execute':(_0x459db3,_0xe59656)=>P['getBase64FromMediaMessage'](_0x459db3,_0xe59656)});return _0x2d3fa4[_0x1d3e6a(0x3fe)](0xc9)[_0x1d3e6a(0x36e)](_0x67fb6f);})[_0x4763b8(0x77d)](this['routerPath'](_0x4763b8(0x3d2)),..._0x653a47,async(_0x43e969,_0x424345)=>{const _0xddd63d=_0x4763b8;let _0x1193c4=await this[_0xddd63d(0x15e)]({'request':_0x43e969,'schema':ei,'ClassRef':He,'execute':(_0x5d0351,_0x35df90)=>P['fetchMessages'](_0x5d0351,_0x35df90)});return _0x424345[_0xddd63d(0x3fe)](0xc8)[_0xddd63d(0x36e)](_0x1193c4);})[_0x4763b8(0x319)](this['routerPath'](_0x4763b8(0xf9)),..._0x653a47,async(_0x2f0c15,_0x552631)=>{const _0x56e36c=_0x4763b8;let _0x5d9536=await this[_0x56e36c(0x15e)]({'request':_0x2f0c15,'schema':null,'ClassRef':M,'execute':_0x463214=>P[_0x56e36c(0x682)](_0x463214)});return _0x552631[_0x56e36c(0x3fe)](0xc8)[_0x56e36c(0x36e)](_0x5d9536);})['get'](this[_0x4763b8(0x598)](_0x4763b8(0x33c)),..._0x653a47,async(_0x551e35,_0x5ed475)=>{const _0x406e5d=_0x4763b8;let _0x33dbb4=await this['dataValidate']({'request':_0x551e35,'schema':null,'ClassRef':M,'execute':_0x25df4b=>P[_0x406e5d(0x14d)](_0x25df4b)});return _0x5ed475['status'](0xc8)[_0x406e5d(0x36e)](_0x33dbb4);})['put'](this[_0x4763b8(0x598)](_0x4763b8(0x58d)),..._0x653a47,async(_0x340e0c,_0x1f6a53)=>{const _0x4fe187=_0x4763b8;let _0x580761=await this[_0x4fe187(0x15e)]({'request':_0x340e0c,'schema':null,'ClassRef':Array,'execute':(_0x15649a,_0x584bd3)=>P[_0x4fe187(0x58d)](_0x15649a,_0x584bd3)});return _0x1f6a53[_0x4fe187(0x3fe)](0xc8)[_0x4fe187(0x36e)](_0x580761);})['get'](this['routerPath']('fetchPrivacySettings'),..._0x653a47,async(_0x8fae84,_0x58de83)=>{const _0x27eafe=_0x4763b8;let _0x1d83a8=await this[_0x27eafe(0x15e)]({'request':_0x8fae84,'schema':null,'ClassRef':M,'execute':_0x5273f9=>P['fetchPrivacySettings'](_0x5273f9)});return _0x58de83[_0x27eafe(0x3fe)](0xc8)[_0x27eafe(0x36e)](_0x1d83a8);})['put'](this[_0x4763b8(0x598)](_0x4763b8(0x673)),..._0x653a47,async(_0x31aada,_0x52d8ca)=>{const _0x226557=_0x4763b8;let _0x3c7c34=await this[_0x226557(0x15e)]({'request':_0x31aada,'schema':za,'ClassRef':st,'execute':(_0x434183,_0x47151a)=>P[_0x226557(0x673)](_0x434183,_0x47151a)});return _0x52d8ca[_0x226557(0x3fe)](0xc9)[_0x226557(0x36e)](_0x3c7c34);})[_0x4763b8(0x77d)](this[_0x4763b8(0x598)]('fetchBusinessProfile'),..._0x653a47,async(_0x2de2da,_0x2a287a)=>{let _0x4efcb8=await this['dataValidate']({'request':_0x2de2da,'schema':_e,'ClassRef':Ce,'execute':(_0x396502,_0x4bc580)=>P['fetchBusinessProfile'](_0x396502,_0x4bc580)});return _0x2a287a['status'](0xc8)['json'](_0x4efcb8);})[_0x4763b8(0x77d)](this[_0x4763b8(0x598)](_0x4763b8(0x737)),..._0x653a47,async(_0x37bc81,_0x3f9cd8)=>{const _0x5d2447=_0x4763b8;let _0x1d0d48=await this[_0x5d2447(0x15e)]({'request':_0x37bc81,'schema':Ya,'ClassRef':Xe,'execute':(_0x45fad6,_0x35003a)=>P[_0x5d2447(0x737)](_0x45fad6,_0x35003a)});return _0x3f9cd8[_0x5d2447(0x3fe)](0xc8)['json'](_0x1d0d48);})['post'](this[_0x4763b8(0x598)](_0x4763b8(0x164)),..._0x653a47,async(_0x423a7f,_0x393995)=>{const _0x402fe8=_0x4763b8;let _0x1a449e=await this['dataValidate']({'request':_0x423a7f,'schema':Xa,'ClassRef':Ze,'execute':(_0x4fcf56,_0x36328e)=>P[_0x402fe8(0x164)](_0x4fcf56,_0x36328e)});return _0x393995['status'](0xc8)[_0x402fe8(0x36e)](_0x1a449e);})[_0x4763b8(0x49b)](this[_0x4763b8(0x598)]('updateProfilePicture'),..._0x653a47,async(_0xee8b8d,_0xe29ad3)=>{const _0x51c597=_0x4763b8;let _0x16ce01=await this[_0x51c597(0x15e)]({'request':_0xee8b8d,'schema':_e,'ClassRef':Ce,'execute':(_0x26eb6a,_0x43d178)=>P['updateProfilePicture'](_0x26eb6a,_0x43d178)});return _0xe29ad3[_0x51c597(0x3fe)](0xc8)[_0x51c597(0x36e)](_0x16ce01);})[_0x4763b8(0x192)](this[_0x4763b8(0x598)]('removeProfilePicture'),..._0x653a47,async(_0x438027,_0x1c32ca)=>{const _0x2b2993=_0x4763b8;let _0x4d4871=await this[_0x2b2993(0x15e)]({'request':_0x438027,'schema':_e,'ClassRef':Ce,'execute':(_0x1ba87d,_0xc838c2)=>P[_0x2b2993(0x5fb)](_0x1ba87d,_0xc838c2)});return _0x1c32ca[_0x2b2993(0x3fe)](0xc8)[_0x2b2993(0x36e)](_0x4d4871);});}},pi=require(a0_0x22f2c8(0x1d9)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},De=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x58cc79){const _0x4296c2=a0_0x22f2c8;super(),this[_0x4296c2(0x3b1)]=(0x0,pi[_0x4296c2(0x330)])(),this['router'][_0x4296c2(0x77d)](this[_0x4296c2(0x598)](_0x4296c2(0x644)),..._0x58cc79,async(_0x51594e,_0x262dcd)=>{const _0x2b1634=_0x4296c2;let _0x44f0e0=await this[_0x2b1634(0x15e)]({'request':_0x51594e,'schema':si,'ClassRef':lt,'execute':(_0x795b30,_0x26dd7b)=>q[_0x2b1634(0x797)](_0x795b30,_0x26dd7b)});_0x262dcd['status'](0xc9)[_0x2b1634(0x36e)](_0x44f0e0);})['put'](this[_0x4296c2(0x598)]('updateGroupPicture'),..._0x58cc79,async(_0x44545f,_0x533441)=>{const _0xc4807f=_0x4296c2;let _0x22b5bb=await this['groupValidate']({'request':_0x44545f,'schema':oi,'ClassRef':ut,'execute':(_0x361a39,_0x22d839)=>q[_0xc4807f(0xbc)](_0x361a39,_0x22d839)});_0x533441[_0xc4807f(0x3fe)](0xc9)[_0xc4807f(0x36e)](_0x22b5bb);})[_0x4296c2(0x49b)](this[_0x4296c2(0x598)](_0x4296c2(0x14c)),..._0x58cc79,async(_0x32a7f0,_0x225498)=>{const _0x577dfd=_0x4296c2;let _0x2c978a=await this[_0x577dfd(0x377)]({'request':_0x32a7f0,'schema':ri,'ClassRef':dt,'execute':(_0x4f24d5,_0x59bdcf)=>q['groupDesc'](_0x4f24d5,_0x59bdcf)});_0x225498[_0x577dfd(0x3fe)](0xc9)[_0x577dfd(0x36e)](_0x2c978a);})[_0x4296c2(0x49b)](this[_0x4296c2(0x598)]('groupName'),..._0x58cc79,async(_0x4d0b23,_0x1a79ad)=>{const _0x59196c=_0x4296c2;let _0x77ad52=await this[_0x59196c(0x377)]({'request':_0x4d0b23,'schema':ni,'ClassRef':pt,'execute':(_0x36f8d6,_0x7daada)=>q[_0x59196c(0xd0)](_0x36f8d6,_0x7daada)});_0x1a79ad[_0x59196c(0x3fe)](0xc9)[_0x59196c(0x36e)](_0x77ad52);})['put'](this[_0x4296c2(0x598)](_0x4296c2(0x177)),..._0x58cc79,async(_0x25a8e8,_0x1f7906)=>{const _0x28a122=_0x4296c2;let _0x3302b0=await this['groupValidate']({'request':_0x25a8e8,'schema':li,'ClassRef':gt,'execute':(_0x475492,_0x49a8f6)=>q[_0x28a122(0x177)](_0x475492,_0x49a8f6)});_0x1f7906[_0x28a122(0x3fe)](0xc9)[_0x28a122(0x36e)](_0x3302b0);})[_0x4296c2(0x49b)](this[_0x4296c2(0x598)](_0x4296c2(0x2b1)),..._0x58cc79,async(_0x5c8c12,_0xdb4e8e)=>{const _0x2f9b46=_0x4296c2;let _0x34bdfe=await this[_0x2f9b46(0x377)]({'request':_0x5c8c12,'schema':ci,'ClassRef':ht,'execute':(_0xdd4884,_0x312f95)=>q['groupSetting'](_0xdd4884,_0x312f95)});_0xdb4e8e['status'](0xc9)[_0x2f9b46(0x36e)](_0x34bdfe);})[_0x4296c2(0x49b)](this['routerPath'](_0x4296c2(0x704)),..._0x58cc79,async(_0xef489e,_0x5eb49e)=>{const _0x2463a5=_0x4296c2;let _0x23aa07=await this[_0x2463a5(0x377)]({'request':_0xef489e,'schema':ii,'ClassRef':ft,'execute':(_0x99855b,_0x449862)=>q[_0x2463a5(0x704)](_0x99855b,_0x449862)});_0x5eb49e['status'](0xc9)[_0x2463a5(0x36e)](_0x23aa07);})[_0x4296c2(0x319)](this['routerPath']('findGroupInfos'),..._0x58cc79,async(_0x1d1ec4,_0x3e66b3)=>{const _0x17f91d=_0x4296c2;let _0x56a551=await this[_0x17f91d(0x377)]({'request':_0x1d1ec4,'schema':xe,'ClassRef':te,'execute':(_0x99950e,_0x536224)=>q[_0x17f91d(0x7c3)](_0x99950e,_0x536224)});_0x3e66b3[_0x17f91d(0x3fe)](0xc8)['json'](_0x56a551);})[_0x4296c2(0x319)](this[_0x4296c2(0x598)](_0x4296c2(0xbf)),..._0x58cc79,async(_0x4ca163,_0x2867dc)=>{const _0xc806dd=_0x4296c2;let _0x3def19=await this[_0xc806dd(0x15e)]({'request':_0x4ca163,'schema':v,'ClassRef':M,'execute':_0x4f962d=>q['findGroups'](_0x4f962d)});_0x2867dc[_0xc806dd(0x3fe)](0xc8)[_0xc806dd(0x36e)](_0x3def19);})[_0x4296c2(0x319)](this[_0x4296c2(0x598)](_0x4296c2(0x7b1)),..._0x58cc79,async(_0x5dab86,_0x572ef9)=>{const _0x5a9230=_0x4296c2;let _0x20af97=await this[_0x5a9230(0x377)]({'request':_0x5dab86,'schema':xe,'ClassRef':te,'execute':(_0x1e4785,_0x11097a)=>q[_0x5a9230(0x482)](_0x1e4785,_0x11097a)});_0x572ef9['status'](0xc8)[_0x5a9230(0x36e)](_0x20af97);})['get'](this[_0x4296c2(0x598)](_0x4296c2(0x69b)),..._0x58cc79,async(_0x32a7a5,_0x40b161)=>{const _0x4a0a01=_0x4296c2;let _0x3cd1de=await this[_0x4a0a01(0x377)]({'request':_0x32a7a5,'schema':xe,'ClassRef':te,'execute':(_0x584eef,_0x20b421)=>q[_0x4a0a01(0x69b)](_0x584eef,_0x20b421)});_0x40b161[_0x4a0a01(0x3fe)](0xc8)[_0x4a0a01(0x36e)](_0x3cd1de);})[_0x4296c2(0x77d)](this[_0x4296c2(0x598)]('inviteCodeDetails'),..._0x58cc79,async(_0x497772,_0x596f09)=>{const _0x21c28d=_0x4296c2;let _0x3cb584=await this['joinGroupValidate']({'request':_0x497772,'schema':Es,'ClassRef':De,'execute':(_0x2531ff,_0x2d6af9)=>q[_0x21c28d(0x399)](_0x2531ff,_0x2d6af9)});_0x596f09['status'](0xc9)[_0x21c28d(0x36e)](_0x3cb584);})[_0x4296c2(0x49b)](this[_0x4296c2(0x598)](_0x4296c2(0x6e0)),..._0x58cc79,async(_0x3477d5,_0x46caa9)=>{const _0x386dbf=_0x4296c2;let _0x2a87cf=await this['joinGroupValidate']({'request':_0x3477d5,'schema':Es,'ClassRef':De,'execute':(_0x26b7d6,_0x72a532)=>q[_0x386dbf(0x6e0)](_0x26b7d6,_0x72a532)});_0x46caa9[_0x386dbf(0x3fe)](0xc9)[_0x386dbf(0x36e)](_0x2a87cf);})['put'](this['routerPath'](_0x4296c2(0x42e)),..._0x58cc79,async(_0x20e734,_0x18184a)=>{const _0x1f7033=_0x4296c2;let _0x3ca7e2=await this[_0x1f7033(0x377)]({'request':_0x20e734,'schema':xe,'ClassRef':te,'execute':(_0x49c346,_0x15d96b)=>q['revokeInviteCode'](_0x49c346,_0x15d96b)});_0x18184a[_0x1f7033(0x3fe)](0xc9)['json'](_0x3ca7e2);})['put'](this['routerPath']('updateParticipant'),..._0x58cc79,async(_0x4e29e1,_0x6672a1)=>{const _0x1227d9=_0x4296c2;let _0xc5e05c=await this[_0x1227d9(0x377)]({'request':_0x4e29e1,'schema':ai,'ClassRef':mt,'execute':(_0x419897,_0x23c758)=>q[_0x1227d9(0x529)](_0x419897,_0x23c758)});_0x6672a1[_0x1227d9(0x3fe)](0xc9)[_0x1227d9(0x36e)](_0xc5e05c);})[_0x4296c2(0x192)](this[_0x4296c2(0x598)](_0x4296c2(0x12c)),..._0x58cc79,async(_0x5c65ec,_0x3837c7)=>{const _0x2f1e03=_0x4296c2;let _0x2009ad=await this[_0x2f1e03(0x377)]({'request':_0x5c65ec,'schema':{},'ClassRef':te,'execute':(_0x13bd68,_0xe09fc)=>q[_0x2f1e03(0x12c)](_0x13bd68,_0xe09fc)});_0x3837c7[_0x2f1e03(0x3fe)](0xc8)[_0x2f1e03(0x36e)](_0x2009ad);});}},hi=require(a0_0x22f2c8(0x1d9)),yt=class extends V{constructor(_0x259959,..._0x270f49){const _0x246a08=a0_0x22f2c8;super(),this[_0x246a08(0x53f)]=_0x259959,this['router']=(0x0,hi[_0x246a08(0x330)])();let _0x4a5828=_0x259959[_0x246a08(0x319)](_0x246a08(0x5d0));this[_0x246a08(0x3b1)][_0x246a08(0x77d)](_0x246a08(0x618),..._0x270f49,async(_0x1a65da,_0x2078c1)=>{const _0x3f6f61=_0x246a08;let {instanceName:_0x523370,apikey:_0x50ddaa,number:_0x342332}=_0x1a65da['body'],_0x381ebf=await ue['createInstance']({'instanceName':_0x523370,'apikey':_0x50ddaa,'number':_0x342332});return _0x2078c1[_0x3f6f61(0x3fe)](0xc9)[_0x3f6f61(0x36e)](_0x381ebf);})[_0x246a08(0x49b)](this[_0x246a08(0x598)](_0x246a08(0x5d5)),..._0x270f49,async(_0x2cdb3c,_0x3bc4c3)=>{const _0x2b1d94=_0x246a08;let _0x4ed34f=await this[_0x2b1d94(0x15e)]({'request':_0x2cdb3c,'schema':v,'ClassRef':M,'execute':_0x280bfc=>ue[_0x2b1d94(0x18f)](_0x280bfc)});return _0x3bc4c3[_0x2b1d94(0x3fe)](0xc8)[_0x2b1d94(0x36e)](_0x4ed34f);})[_0x246a08(0x319)](this[_0x246a08(0x598)](_0x246a08(0x2d9)),..._0x270f49,async(_0x53ba62,_0x128433)=>{const _0x5b893b=_0x246a08;let _0x4abcf4=await this[_0x5b893b(0x15e)]({'request':_0x53ba62,'schema':v,'ClassRef':M,'execute':_0x45ba0e=>ue[_0x5b893b(0x5fa)](_0x45ba0e)});return _0x128433[_0x5b893b(0x3fe)](0xc8)[_0x5b893b(0x36e)](_0x4abcf4);})[_0x246a08(0x319)](this[_0x246a08(0x598)](_0x246a08(0x2ef)),..._0x270f49,async(_0x35aa6a,_0x2423d4)=>{const _0x463b55=_0x246a08;let _0x4e4a1c=await this[_0x463b55(0x15e)]({'request':_0x35aa6a,'schema':v,'ClassRef':M,'execute':_0x40999e=>ue[_0x463b55(0x2ef)](_0x40999e)});return _0x2423d4[_0x463b55(0x3fe)](0xc8)[_0x463b55(0x36e)](_0x4e4a1c);})['get'](this[_0x246a08(0x598)](_0x246a08(0xca),!0x1),..._0x270f49,async(_0x58724e,_0x37f0b1)=>{const _0x491242=_0x246a08;let _0xe028e1=await this[_0x491242(0x15e)]({'request':_0x58724e,'schema':null,'ClassRef':M,'execute':_0x167f78=>ue[_0x491242(0xca)](_0x167f78)});return _0x37f0b1[_0x491242(0x3fe)](0xc8)['json'](_0xe028e1);})[_0x246a08(0x192)](this[_0x246a08(0x598)](_0x246a08(0x4ef)),..._0x270f49,async(_0x18d5f1,_0x1d9231)=>{const _0x5d76ca=_0x246a08;let _0x44cc2b=await this[_0x5d76ca(0x15e)]({'request':_0x18d5f1,'schema':v,'ClassRef':M,'execute':_0x2c373=>ue[_0x5d76ca(0x4ef)](_0x2c373)});return _0x1d9231[_0x5d76ca(0x3fe)](0xc8)['json'](_0x44cc2b);})[_0x246a08(0x192)](this[_0x246a08(0x598)](_0x246a08(0x192)),..._0x270f49,async(_0x4ed304,_0x105fee)=>{const _0x45612f=_0x246a08;let _0x597867=await this[_0x45612f(0x15e)]({'request':_0x4ed304,'schema':v,'ClassRef':M,'execute':_0x24b0f2=>ue[_0x45612f(0x440)](_0x24b0f2)});return _0x105fee[_0x45612f(0x3fe)](0xc8)[_0x45612f(0x36e)](_0x597867);});}},gi=require(a0_0x22f2c8(0x1d9)),Ns=class{},z=class extends Ns{},bt=class extends z{},St=class extends z{},Mt=class extends z{},Ct=class extends z{},Pe=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class extends z{},At=class{},It=class extends V{constructor(..._0x31373e){const _0x3797a6=a0_0x22f2c8;super(),this['router']=(0x0,gi['Router'])(),this['router'][_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x3c0)),..._0x31373e,async(_0x2c4071,_0x47017e)=>{const _0x27c28d=_0x3797a6;let _0x4f5dbf=await this[_0x27c28d(0x15e)]({'request':_0x2c4071,'schema':_a,'ClassRef':bt,'execute':(_0xb25315,_0x49ffb1)=>B['sendText'](_0xb25315,_0x49ffb1)});return _0x47017e[_0x27c28d(0x3fe)](0xc9)[_0x27c28d(0x36e)](_0x4f5dbf);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x616)),..._0x31373e,async(_0x4bc657,_0x59838c)=>{const _0x5c3c2a=_0x3797a6;let _0x2fe895=await this[_0x5c3c2a(0x15e)]({'request':_0x4bc657,'schema':ka,'ClassRef':Pe,'execute':(_0x5e094b,_0x1e94a7)=>B[_0x5c3c2a(0x616)](_0x5e094b,_0x1e94a7)});return _0x59838c['status'](0xc9)[_0x5c3c2a(0x36e)](_0x2fe895);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x63b)),..._0x31373e,async(_0x43f8cf,_0x30604d)=>{const _0x2f63aa=_0x3797a6;let _0xec3d1d=await this[_0x2f63aa(0x15e)]({'request':_0x43f8cf,'schema':Ua,'ClassRef':Ct,'execute':(_0x5b6e18,_0x8a19f4)=>B[_0x2f63aa(0x63b)](_0x5b6e18,_0x8a19f4)});return _0x30604d[_0x2f63aa(0x3fe)](0xc9)[_0x2f63aa(0x36e)](_0xec3d1d);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x6b2)),..._0x31373e,async(_0x43f2d8,_0x5cf65f)=>{const _0x226130=_0x3797a6;let _0x531c1f=await this[_0x226130(0x15e)]({'request':_0x43f2d8,'schema':La,'ClassRef':Pe,'execute':(_0xbf9262,_0x25cbb6)=>B[_0x226130(0x6b2)](_0xbf9262,_0x25cbb6)});return _0x5cf65f[_0x226130(0x3fe)](0xc9)[_0x226130(0x36e)](_0x531c1f);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x62e)),..._0x31373e,async(_0x265498,_0x2042e3)=>{const _0x169ec2=_0x3797a6;let _0x5214a6=await this[_0x169ec2(0x15e)]({'request':_0x265498,'schema':ja,'ClassRef':vt,'execute':(_0x100870,_0x4fca18)=>B[_0x169ec2(0x62e)](_0x100870,_0x4fca18)});return _0x2042e3[_0x169ec2(0x3fe)](0xc9)[_0x169ec2(0x36e)](_0x5214a6);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x3af)),..._0x31373e,async(_0x2e15a8,_0x5b3426)=>{const _0x397713=_0x3797a6;let _0x56422d=await this['dataValidate']({'request':_0x2e15a8,'schema':Ja,'ClassRef':Nt,'execute':(_0x4c8557,_0x19bdec)=>B['sendLocation'](_0x4c8557,_0x19bdec)});return _0x5b3426['status'](0xc9)[_0x397713(0x36e)](_0x56422d);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)]('sendList'),..._0x31373e,async(_0x32db47,_0x41d313)=>{const _0x5d2587=_0x3797a6;let _0x2b67b3=await this['dataValidate']({'request':_0x32db47,'schema':qa,'ClassRef':$t,'execute':(_0x269458,_0x50372f)=>B[_0x5d2587(0x40f)](_0x269458,_0x50372f)});return _0x41d313[_0x5d2587(0x3fe)](0xc9)[_0x5d2587(0x36e)](_0x2b67b3);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x5aa)),..._0x31373e,async(_0x29e7dc,_0x1f4252)=>{const _0x352f79=_0x3797a6;let _0x41cbec=await this[_0x352f79(0x15e)]({'request':_0x29e7dc,'schema':Va,'ClassRef':Rt,'execute':(_0x47e321,_0x2e7830)=>B[_0x352f79(0x5aa)](_0x47e321,_0x2e7830)});return _0x1f4252['status'](0xc9)[_0x352f79(0x36e)](_0x41cbec);})[_0x3797a6(0x77d)](this['routerPath'](_0x3797a6(0x76b)),..._0x31373e,async(_0x1b81b3,_0xbb5fec)=>{const _0x22e5ec=_0x3797a6;let _0x485cd5=await this[_0x22e5ec(0x15e)]({'request':_0x1b81b3,'schema':Ga,'ClassRef':At,'execute':(_0x337411,_0x236d04)=>B['sendReaction'](_0x337411,_0x236d04)});return _0xbb5fec['status'](0xc9)[_0x22e5ec(0x36e)](_0x485cd5);})[_0x3797a6(0x77d)](this[_0x3797a6(0x598)](_0x3797a6(0x67e)),..._0x31373e,async(_0x37d97d,_0x1aaf77)=>{const _0x238411=_0x3797a6;let _0x1d1799=await this[_0x238411(0x15e)]({'request':_0x37d97d,'schema':Fa,'ClassRef':Mt,'execute':(_0x1ac906,_0x379b38)=>B[_0x238411(0x67e)](_0x1ac906,_0x379b38)});return _0x1aaf77[_0x238411(0x3fe)](0xc9)[_0x238411(0x36e)](_0x1d1799);})[_0x3797a6(0x77d)](this['routerPath'](_0x3797a6(0xc6)),..._0x31373e,async(_0x4bf2a8,_0x5de553)=>{const _0x362edc=_0x3797a6;let _0x43634e=await this['dataValidate']({'request':_0x4bf2a8,'schema':Pa,'ClassRef':St,'execute':(_0x53ebda,_0xb6109)=>B[_0x362edc(0xc6)](_0x53ebda,_0xb6109)});return _0x5de553[_0x362edc(0x3fe)](0xc9)['json'](_0x43634e);})['post'](this[_0x3797a6(0x598)](_0x3797a6(0x42b)),..._0x31373e,async(_0x120421,_0x3fe38b)=>{const _0x45d460=_0x3797a6;let _0x15cf51=await this[_0x45d460(0x15e)]({'request':_0x120421,'schema':Da,'ClassRef':Et,'execute':(_0x22d2c,_0x6d4d10)=>B['sendSticker'](_0x22d2c,_0x6d4d10)});return _0x3fe38b[_0x45d460(0x3fe)](0xc9)[_0x45d460(0x36e)](_0x15cf51);});}},mi=require(a0_0x22f2c8(0x1d9)),Tt=class{},Ot=class extends V{constructor(..._0x39db8d){const _0x18fc53=a0_0x22f2c8;super(),this[_0x18fc53(0x3b1)]=(0x0,mi[_0x18fc53(0x330)])(),this[_0x18fc53(0x3b1)][_0x18fc53(0x77d)](this[_0x18fc53(0x598)]('set'),..._0x39db8d,async(_0x359b98,_0x11bcc2)=>{const _0x57354d=_0x18fc53;let _0x5d9af9=await this['dataValidate']({'request':_0x359b98,'schema':ui,'ClassRef':Tt,'execute':(_0x52d115,_0x3a23c7)=>$s[_0x57354d(0x358)](_0x52d115,_0x3a23c7)});_0x11bcc2[_0x57354d(0x3fe)](0xc9)[_0x57354d(0x36e)](_0x5d9af9);})['get'](this[_0x18fc53(0x598)](_0x18fc53(0xe9)),..._0x39db8d,async(_0x5baba8,_0x5ce884)=>{const _0x2abb13=_0x18fc53;let _0x5b1df4=await this[_0x2abb13(0x15e)]({'request':_0x5baba8,'schema':v,'ClassRef':M,'execute':_0x1540f9=>$s['findWebhook'](_0x1540f9)});_0x5ce884[_0x2abb13(0x3fe)](0xc8)[_0x2abb13(0x36e)](_0x5b1df4);});}},fi=require(a0_0x22f2c8(0x1d9)),y=new $(a0_0x22f2c8(0x55c)),_t=class extends V{constructor(..._0x35ff06){const _0x4d0494=a0_0x22f2c8;super(),this[_0x4d0494(0x3b1)]=(0x0,fi[_0x4d0494(0x330)])(),this[_0x4d0494(0x3b1)][_0x4d0494(0x77d)](this['routerPath']('scheduleMessage'),..._0x35ff06,async(_0x2cc277,_0x242804)=>{const _0x390cbb=_0x4d0494;let _0xaf10af=_0x2cc277[_0x390cbb(0x573)];y[_0x390cbb(0x470)](_0x390cbb(0x14e)),y[_0x390cbb(0x470)](_0x390cbb(0x381)),y[_0x390cbb(0x470)](_0x2cc277[_0x390cbb(0x573)]);let _0xbd2155=await this[_0x390cbb(0x15e)]({'request':_0x2cc277,'schema':v,'ClassRef':M,'execute':_0x32b977=>O[_0x390cbb(0x5bb)](_0x32b977,_0xaf10af)});_0x242804[_0x390cbb(0x3fe)](0xc8)[_0x390cbb(0x36e)](_0xbd2155);})[_0x4d0494(0x319)](this[_0x4d0494(0x598)](_0x4d0494(0xf8)),..._0x35ff06,async(_0x3b2ef0,_0x42bc37)=>{const _0x5540d5=_0x4d0494;let _0x4b365b=await this[_0x5540d5(0x15e)]({'request':_0x3b2ef0,'schema':v,'ClassRef':M,'execute':_0x36e772=>O['getScheduleMessage'](_0x36e772)});_0x42bc37[_0x5540d5(0x3fe)](0xc8)[_0x5540d5(0x36e)](_0x4b365b);})[_0x4d0494(0x192)](this[_0x4d0494(0x598)](_0x4d0494(0x17b)),..._0x35ff06,async(_0x16c536,_0x39d734)=>{const _0x26507e=_0x4d0494;y[_0x26507e(0x470)](_0x26507e(0x2e7));let _0x265665=await this[_0x26507e(0x15e)]({'request':_0x16c536,'schema':v,'ClassRef':M,'execute':_0xc5e469=>O['deleteDoneMessages'](_0xc5e469)});_0x39d734[_0x26507e(0x3fe)](0xc8)[_0x26507e(0x36e)](_0x265665);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)](_0x4d0494(0x5c1)),..._0x35ff06,async(_0x5b0ba5,_0x2bae54)=>{const _0x4c0661=_0x4d0494;let _0x5c6bf1=_0x5b0ba5[_0x4c0661(0x573)];y[_0x4c0661(0x470)](_0x4c0661(0x122)),y[_0x4c0661(0x470)](_0x4c0661(0x381)),y[_0x4c0661(0x470)](_0x5b0ba5[_0x4c0661(0x573)]);let _0x586389=await this[_0x4c0661(0x15e)]({'request':_0x5b0ba5,'schema':v,'ClassRef':M,'execute':_0x4798f2=>O[_0x4c0661(0x5c1)](_0x4798f2,_0x5c6bf1)});_0x2bae54[_0x4c0661(0x3fe)](0xc8)[_0x4c0661(0x36e)](_0x586389);})[_0x4d0494(0x319)](this['routerPath'](_0x4d0494(0x35a)),..._0x35ff06,async(_0x46f72b,_0x2f37ed)=>{const _0x33ad8d=_0x4d0494;y[_0x33ad8d(0x470)](_0x33ad8d(0x24d));let _0x5c89ad=await this[_0x33ad8d(0x15e)]({'request':_0x46f72b,'schema':v,'ClassRef':M,'execute':_0x3aad0c=>O['getAutomateSystem'](_0x3aad0c)});_0x2f37ed[_0x33ad8d(0x3fe)](0xc8)[_0x33ad8d(0x36e)](_0x5c89ad);})['get'](this[_0x4d0494(0x598)](_0x4d0494(0x4a9)),..._0x35ff06,async(_0xa0fbd2,_0x2d73dc)=>{const _0x60786e=_0x4d0494;y['verbose'](_0x60786e(0x734));let _0x5a5277=await this['dataValidate']({'request':_0xa0fbd2,'schema':v,'ClassRef':M,'execute':_0x28d265=>O[_0x60786e(0x35a)](_0x28d265)});_0x2d73dc[_0x60786e(0x3fe)](0xc8)[_0x60786e(0x36e)](_0x5a5277);})[_0x4d0494(0x77d)](this['routerPath'](_0x4d0494(0x6da)),..._0x35ff06,async(_0x57a2b6,_0x388ec3)=>{const _0x1a4cb9=_0x4d0494;let _0x46d515=_0x57a2b6[_0x1a4cb9(0x573)];y[_0x1a4cb9(0x470)](_0x1a4cb9(0xaa)),y[_0x1a4cb9(0x470)](_0x1a4cb9(0x381)),y['verbose'](_0x57a2b6[_0x1a4cb9(0x573)]);let _0x31107a=await this[_0x1a4cb9(0x15e)]({'request':_0x57a2b6,'schema':v,'ClassRef':M,'execute':_0x5229df=>O['updateAgent'](_0x5229df,_0x46d515)});_0x388ec3[_0x1a4cb9(0x3fe)](0xc8)[_0x1a4cb9(0x36e)](_0x31107a);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)](_0x4d0494(0x35b)),..._0x35ff06,async(_0x6b37e7,_0x424203)=>{const _0xef21ef=_0x4d0494;let _0x30cbef=_0x6b37e7['body'];y[_0xef21ef(0x470)](_0xef21ef(0x52c)),y[_0xef21ef(0x470)](_0xef21ef(0x381)),y[_0xef21ef(0x470)](_0x6b37e7[_0xef21ef(0x573)]);let _0x31449a=await this[_0xef21ef(0x15e)]({'request':_0x6b37e7,'schema':v,'ClassRef':M,'execute':_0x22bcb4=>O[_0xef21ef(0x35b)](_0x22bcb4,_0x30cbef)});_0x424203[_0xef21ef(0x3fe)](0xc8)[_0xef21ef(0x36e)](_0x31449a);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)](_0x4d0494(0x6d3)),..._0x35ff06,async(_0x461a5e,_0x5a3945)=>{const _0x105b55=_0x4d0494;let _0x19994a=_0x461a5e['body'];y['verbose'](_0x105b55(0x513)),y[_0x105b55(0x470)](_0x105b55(0x381)),y[_0x105b55(0x470)](_0x461a5e['body']);let _0x133a3d=await this[_0x105b55(0x15e)]({'request':_0x461a5e,'schema':v,'ClassRef':M,'execute':_0x45ce8b=>O[_0x105b55(0x6d3)](_0x45ce8b,_0x19994a)});_0x5a3945[_0x105b55(0x3fe)](0xc8)[_0x105b55(0x36e)](_0x133a3d);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)](_0x4d0494(0x507)),..._0x35ff06,async(_0x3b6634,_0x4e5768)=>{const _0x17504f=_0x4d0494;let _0x1ccd0b=_0x3b6634[_0x17504f(0x573)];y[_0x17504f(0x470)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x17504f(0x470)](_0x17504f(0x381)),y[_0x17504f(0x470)](_0x3b6634[_0x17504f(0x573)]);let _0x2b9754=await this[_0x17504f(0x15e)]({'request':_0x3b6634,'schema':v,'ClassRef':M,'execute':_0x28c322=>O[_0x17504f(0x507)](_0x28c322,_0x1ccd0b)});_0x4e5768[_0x17504f(0x3fe)](0xc8)[_0x17504f(0x36e)](_0x2b9754);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)]('getConversation'),..._0x35ff06,async(_0x5c653b,_0x17adea)=>{const _0x4f0150=_0x4d0494;let _0x338da6=_0x5c653b['body'];y[_0x4f0150(0x470)](_0x4f0150(0x2b4)),y[_0x4f0150(0x470)](_0x4f0150(0x381)),y[_0x4f0150(0x470)](_0x5c653b['body']);let _0x54e012=await this[_0x4f0150(0x15e)]({'request':_0x5c653b,'schema':v,'ClassRef':M,'execute':_0xa20be7=>O[_0x4f0150(0x350)](_0xa20be7,_0x338da6)});_0x17adea[_0x4f0150(0x3fe)](0xc8)[_0x4f0150(0x36e)](_0x54e012);})[_0x4d0494(0x77d)](this['routerPath'](_0x4d0494(0x739)),..._0x35ff06,async(_0x557bba,_0x48f006)=>{const _0x4bde72=_0x4d0494;let _0x9d4f5a=_0x557bba[_0x4bde72(0x573)];y[_0x4bde72(0x470)](_0x4bde72(0x3b8)),y[_0x4bde72(0x470)](_0x4bde72(0x381)),y['verbose'](_0x557bba[_0x4bde72(0x573)]);let _0x4458ea=await this['dataValidate']({'request':_0x557bba,'schema':v,'ClassRef':M,'execute':_0x5849ec=>O[_0x4bde72(0x739)](_0x5849ec,_0x9d4f5a)});_0x48f006[_0x4bde72(0x3fe)](0xc8)[_0x4bde72(0x36e)](_0x4458ea);})['post'](this[_0x4d0494(0x598)](_0x4d0494(0x9f)),..._0x35ff06,async(_0x428c3d,_0x8a8147)=>{const _0x52ccc=_0x4d0494;let _0x1ada17=_0x428c3d[_0x52ccc(0x573)];y[_0x52ccc(0x470)]('request\x20received\x20in\x20editConversation'),y['verbose'](_0x52ccc(0x381)),y[_0x52ccc(0x470)](_0x428c3d[_0x52ccc(0x573)]);let _0x3f5c00=await this[_0x52ccc(0x15e)]({'request':_0x428c3d,'schema':v,'ClassRef':M,'execute':_0x1635af=>O[_0x52ccc(0x9f)](_0x1635af,_0x1ada17)});_0x8a8147[_0x52ccc(0x3fe)](0xc8)[_0x52ccc(0x36e)](_0x3f5c00);})[_0x4d0494(0x192)](this[_0x4d0494(0x598)](_0x4d0494(0x3fd)),..._0x35ff06,async(_0x19ea9f,_0x16b137)=>{const _0x50241d=_0x4d0494;let _0x14c385=_0x19ea9f[_0x50241d(0x573)];y[_0x50241d(0x470)]('request\x20received\x20in\x20deleteConversation'),y[_0x50241d(0x470)](_0x50241d(0x381)),y[_0x50241d(0x470)](_0x19ea9f[_0x50241d(0x573)]);let _0x4adde2=await this[_0x50241d(0x15e)]({'request':_0x19ea9f,'schema':v,'ClassRef':M,'execute':_0x3374b8=>O[_0x50241d(0x3fd)](_0x3374b8,_0x14c385)});_0x16b137['status'](0xc8)[_0x50241d(0x36e)](_0x4adde2);})[_0x4d0494(0x77d)](this['routerPath']('createflow'),..._0x35ff06,async(_0x4f1534,_0xb43155)=>{const _0x1b30d0=_0x4d0494;let _0x328ce0=_0x4f1534['body'],_0x5dd402=_0x4f1534[_0x1b30d0(0x408)][_0x1b30d0(0x4de)];y['verbose'](_0x1b30d0(0x254)),y['verbose'](_0x1b30d0(0x381)),y['verbose'](_0x4f1534[_0x1b30d0(0x573)]);let _0xb4ee06=await this[_0x1b30d0(0x15e)]({'request':_0x4f1534,'schema':v,'ClassRef':M,'execute':_0x51ab43=>O[_0x1b30d0(0x382)](_0x51ab43,_0x328ce0,_0x5dd402)});_0xb43155['status'](0xc8)[_0x1b30d0(0x36e)](_0xb4ee06);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)](_0x4d0494(0x183)),..._0x35ff06,async(_0x41f256,_0xc4b2f)=>{const _0xd38949=_0x4d0494;let _0xfb7a1c=_0x41f256[_0xd38949(0x573)],_0x5ae8b3=_0x41f256['headers']['apikey'];y[_0xd38949(0x470)](_0xd38949(0x139)),y[_0xd38949(0x470)](_0xd38949(0x381)),y['verbose'](_0x41f256['body']),delete _0xfb7a1c[_0xd38949(0x3ad)],delete _0xfb7a1c[_0xd38949(0xa1)],delete _0xfb7a1c['groups'],delete _0xfb7a1c[_0xd38949(0x135)];let _0x54ee40=await this[_0xd38949(0x15e)]({'request':_0x41f256,'schema':v,'ClassRef':M,'execute':_0x5c2c11=>O[_0xd38949(0x23a)](_0x5c2c11,_0xfb7a1c,_0x5ae8b3)});_0xc4b2f[_0xd38949(0x3fe)](0xc8)['json'](_0x54ee40);})[_0x4d0494(0x77d)](this['routerPath'](_0x4d0494(0x398)),..._0x35ff06,async(_0x5acdb3,_0x3d46b9)=>{const _0x44510a=_0x4d0494;let _0x29d830=_0x5acdb3[_0x44510a(0x573)];y[_0x44510a(0x470)](_0x44510a(0x139)),y[_0x44510a(0x470)](_0x44510a(0x381)),y[_0x44510a(0x470)](_0x5acdb3[_0x44510a(0x573)]);let _0x5b6593=await this['dataValidate']({'request':_0x5acdb3,'schema':v,'ClassRef':M,'execute':_0x153b3a=>O[_0x44510a(0x214)](_0x153b3a,_0x29d830)});_0x3d46b9[_0x44510a(0x3fe)](0xc8)[_0x44510a(0x36e)](_0x5b6593);})['post'](this[_0x4d0494(0x598)](_0x4d0494(0x168)),..._0x35ff06,async(_0x4ed100,_0x20b9e5)=>{const _0x276743=_0x4d0494;let _0x2a710c=_0x4ed100[_0x276743(0x573)];y[_0x276743(0x470)](_0x276743(0x139)),y['verbose'](_0x276743(0x381)),y['verbose'](_0x4ed100[_0x276743(0x573)]);let _0x4c0014=await this[_0x276743(0x15e)]({'request':_0x4ed100,'schema':v,'ClassRef':M,'execute':_0x4da691=>O[_0x276743(0x6ca)](_0x4da691,_0x2a710c)});_0x20b9e5[_0x276743(0x3fe)](0xc8)['json'](_0x4c0014);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)](_0x4d0494(0x7a8)),..._0x35ff06,async(_0x4d1d94,_0x2ae389)=>{const _0x3c360d=_0x4d0494;let _0x56e3ac=_0x4d1d94[_0x3c360d(0x573)];y[_0x3c360d(0x470)](_0x3c360d(0x139)),y[_0x3c360d(0x470)](_0x3c360d(0x381)),y[_0x3c360d(0x470)](_0x4d1d94[_0x3c360d(0x573)]);let _0x35db6b=await this[_0x3c360d(0x15e)]({'request':_0x4d1d94,'schema':v,'ClassRef':M,'execute':_0x351bee=>O[_0x3c360d(0x664)](_0x351bee,_0x56e3ac)});_0x2ae389[_0x3c360d(0x3fe)](0xc8)[_0x3c360d(0x36e)](_0x35db6b);})[_0x4d0494(0x77d)](this[_0x4d0494(0x598)](_0x4d0494(0x620)),..._0x35ff06,async(_0x348fb7,_0x420c38)=>{const _0xab4e5=_0x4d0494;let _0x180c1e=_0x348fb7['body'];y['verbose'](_0xab4e5(0x46c)),y[_0xab4e5(0x470)](_0xab4e5(0x381)),y[_0xab4e5(0x470)](_0x348fb7['body']);let _0x22bc9c=await this['dataValidate']({'request':_0x348fb7,'schema':v,'ClassRef':M,'execute':_0xf0efde=>O['editFlowGroup'](_0xf0efde,_0x180c1e)});_0x420c38[_0xab4e5(0x3fe)](0xc8)['json'](_0x22bc9c);})['post'](this[_0x4d0494(0x598)](_0x4d0494(0x48b)),..._0x35ff06,async(_0x2447b4,_0x5566ef)=>{const _0x5b936a=_0x4d0494;let _0x40ce80=_0x2447b4['body'];y[_0x5b936a(0x470)](_0x5b936a(0x46d)),y[_0x5b936a(0x470)]('request\x20body:\x20'),y[_0x5b936a(0x470)](_0x2447b4['body']);let _0xf24ba6=await this[_0x5b936a(0x15e)]({'request':_0x2447b4,'schema':v,'ClassRef':M,'execute':_0x3fc7d9=>O[_0x5b936a(0x378)](_0x3fc7d9,_0x40ce80)});_0x5566ef[_0x5b936a(0x3fe)](0xc8)['json'](_0xf24ba6);})['post'](this[_0x4d0494(0x598)]('editflowvariable'),..._0x35ff06,async(_0x55dc7f,_0x1f4362)=>{const _0x314d7c=_0x4d0494;let _0x19c42f=_0x55dc7f['body'];y[_0x314d7c(0x470)](_0x314d7c(0x7ad)),y['verbose']('request\x20body:\x20'),y[_0x314d7c(0x470)](_0x55dc7f['body']);let _0x58d86a=await this[_0x314d7c(0x15e)]({'request':_0x55dc7f,'schema':v,'ClassRef':M,'execute':_0x428162=>O[_0x314d7c(0x56b)](_0x428162,_0x19c42f)});_0x1f4362[_0x314d7c(0x3fe)](0xc8)[_0x314d7c(0x36e)](_0x58d86a);})[_0x4d0494(0x77d)](this['routerPath'](_0x4d0494(0x59c)),..._0x35ff06,async(_0x9895f1,_0x418483)=>{const _0x2a942f=_0x4d0494;let _0x584c58=_0x9895f1[_0x2a942f(0x573)];y[_0x2a942f(0x470)](_0x2a942f(0x599)),y['verbose'](_0x2a942f(0x381)),y[_0x2a942f(0x470)](_0x9895f1[_0x2a942f(0x573)]);let _0x55cf28=await this[_0x2a942f(0x15e)]({'request':_0x9895f1,'schema':v,'ClassRef':M,'execute':_0x1be16e=>O['getFlow'](_0x1be16e,_0x584c58)});_0x418483['status'](0xc8)['json'](_0x55cf28);})[_0x4d0494(0x192)](this[_0x4d0494(0x598)]('deleteflow'),..._0x35ff06,async(_0x1250c2,_0x789a71)=>{const _0x313cfb=_0x4d0494;let _0x2d28cd=_0x1250c2[_0x313cfb(0x573)];y['verbose'](_0x313cfb(0x216)),y['verbose'](_0x313cfb(0x381)),y['verbose'](_0x1250c2[_0x313cfb(0x573)]);let _0x4082d1=await this['dataValidate']({'request':_0x1250c2,'schema':v,'ClassRef':M,'execute':_0x63baf5=>O[_0x313cfb(0x557)](_0x63baf5,_0x2d28cd)});_0x789a71[_0x313cfb(0x3fe)](0xc8)[_0x313cfb(0x36e)](_0x4082d1);})[_0x4d0494(0x319)](this[_0x4d0494(0x598)]('allflows'),..._0x35ff06,async(_0x2da7e8,_0x3b168c)=>{const _0x3ef0ae=_0x4d0494;y[_0x3ef0ae(0x470)]('request\x20received\x20in\x20allFlows');let _0xaa5eba=await this[_0x3ef0ae(0x15e)]({'request':_0x2da7e8,'schema':v,'ClassRef':M,'execute':_0x154a1b=>O[_0x3ef0ae(0x4ac)](_0x154a1b)});_0x3b168c[_0x3ef0ae(0x3fe)](0xc8)[_0x3ef0ae(0x36e)](_0xaa5eba);});}},Si=A(require(a0_0x22f2c8(0x6df))),se={};function wi(_0x21168c,_0x54618a,_0x5cb1f4,_0x5d8b37){se[_0x21168c]||(se[_0x21168c]={}),se[_0x21168c][_0x54618a]={'id':_0x54618a,'response':_0x5cb1f4,'events':_0x5d8b37};}function a0_0x55d6(){const _0x4e6379=['Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','groupParticipantsUpdate','MESSAGES_UPDATE','messageSecret','findAndUpdateCacheContact','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','SECRET','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','notMatchRegex',']\x20(','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','map','getMessageModelForOwner','message','pollMessageOnDelete','all','):Notifying\x20clients\x20for\x20chat:\x20','addMessagesToGroup','AutomateFunctions','Erro\x20ao\x20tentar\x20updateCustomFields','listen','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Entrou\x20na\x20função\x20scheduleFlow','):\x20Query\x20params:\x20','editFlowVaredit','IPv6\x20Prefix\x20detected:\x20','off','lastCondition','loadWebhook','composing','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','default','isBase64','/group','ERROR:\x20','createClient','https://v6.ident.me','string','createOrUpdate','updatePrivacySettings','saveCreds','Invalid\x20format','envProcess','Type\x20is\x20required','\x1b[34m%s\x1b[0m','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','apply','Mensagens\x20deletadas\x20com\x20sucesso.','Cache-Control','isJidGroup','sendPoll','\x20contacts','convertToWebP','webhookService','fetchChats','and','.jpg','getContactModelForOwner','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','locationMessage','config','AppStateSyncKeyData','instanceInfo','processConditionsTest','ChatRouter','ipv6Prefix','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','lastSend','chatHandle','redis','/media/','setContext','):Trying\x20to\x20get\x20business\x20profile','unreadCount','groups.upsert','):\x20leadInfoVariables','insertMany','wuid','):\x20\x27Enviando\x20texto\x20para\x20\x27','inviteCode','$pull','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','):\x20\x27Deletando\x20fluxo,\x20id:\x20','no-cache','equal','\x1b[0m','title','readMessageBot','WebhookGlobal','/clients-info','\x20mensagens\x20de\x20','groups_ignore','applyvaredit','AUTHENTICATION_TYPE','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','processConditions','toLocaleString','mkdirSync','BufferJSON','.webm','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','PROXY','sendWhatsAppAudio','push','videoMessage','stateConnection','slice','#9568cf','dark','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','creds.json','convertaudioMP3','groupUpdateDescription','setNewValue','prototype','Not\x20allowed\x20by\x20CORS','929784UXrmnh','):Processing\x20audio','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','#fe9dfe','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type',',\x20valor\x20a\x20encontrar:\x20\x22','CORS','sem\x20texto\x20na\x20mensagem','CHATS_UPSERT','editFlowReply','groupFetchAllParticipating','replyOption','poll','Error\x20removing\x20IPv6\x20address:\x20','lastFetchAwaitingApproval','Fluxo\x20não\x20encontrado\x20na\x20memória.','toFile','Flow\x20\x27','updateAutoCompleteMessages','process','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','INFO','state','/media','newStoppedUntil','updateAgent','startID','endSession','chats.upsert','content-type','path','joinGroup','Error\x20fetching\x20and\x20updating\x20profile:\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','spawn','https://','Parando\x20aplicação,\x20atualização\x20recebida','RECONNECT_TIME_FRAME','groupJoinApprovalMode','Error\x20adding\x20IPv6\x20address:\x20','randomMac','mentions','Background\x20color\x20is\x20required','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','blockId','reduce','/instance','document','Variável\x20não\x20encontrada!',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','axios','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','):\x20Chat\x20','makeCacheableSignalKeyStore','console','\x20minutos.\x20Será\x20às\x20','gifPlayback','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','TEL','getLabelModelForOwner','/instance/fetchInstances','menuIgnoreNonVotes','entries','):\x20Enviando\x20áudio','fetchBusinessProfile','):\x20Criando\x20fluxo...','detectIPv6PrefixAndInterface','toggleEphemeral','refused','webp','exists','.svg','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','transformScheduledMessagesByType','Network\x20interfaces\x20detected:\x20','closed','_sender','repository','IP\x20mismatch:\x20configured\x20','format','unhandledRejection','stopWhenYouSendMsg','flushHeaders','editFlowGroup','):\x20Query\x20params:','DATABASE_CONNECTION_DB_PREFIX_NAME','#6f7bcf','.X-ABLabel:Celular\x0a','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','retrySendMessage','DELETED','):\x20Enviando\x20localização','):\x20Entrou\x20na\x20função\x20saveReply','optionName','):\x20Conversa\x20está\x20expirada','Forbidden','labelId','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','text/event-stream','etiquetas','findManyByIds','):Output\x20path:\x20','URL\x20completa:','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Comando\x20desconhecido','uazapiDeleteMessage','object','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','loadEnv','/wa-message','\x20:\x20','#92ceac','Erro\x20ao\x20buscar\x20conversas','-instances','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','creds.update','sendMessage','updateProfileName','QRCODE_UPDATED','fetchConversation','options','):\x20Falha\x20ao\x20deletar\x20mensagem.','test','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','LOG_LEVEL','):\x20expirationTime:\x20','requestFile','8080','type','testIPv6','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20conversation.lastInteraction:\x20','variablesNotFound','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','update','Button\x20texts\x20cannot\x20be\x20repeated','replaceVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','Rótulo\x20inválido\x20ou\x20sem\x20ID.','\x22,\x20valor\x20a\x20substituir:\x20\x22','timeInMinutes','statSync','includes','*Pergunta*:\x20\x0a','Data\x20inválida\x20fornecida','):\x20error:\x20','Conversa\x20deletada\x20com\x20sucesso.','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','removeUnusedChatFields','contactMessage','Detalhes\x20do\x20erro:','):\x20Entrou\x20na\x20função\x20goToFlow','https://uazapi-plugin.bubbleapps.io/','readMessages','toDataURL','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Authentication\x20error','https','DATABASE_CONNECTION_HOST','):\x20Adicionando\x20\x27','Falha\x20ao\x20processar\x20fetchBusinessProfile','):\x20lastBlockId:\x20','^\x5cd+','):Sending\x20audio\x20whatsapp',',\x20fará\x20nova\x20verificação\x20em\x20','Erro\x20ao\x20buscar\x20Schedule\x20Messages','stopped','labels.edit','listResponseMessage','sendReaction','apiName','isJWT','verifiedName','response','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','DATABASE','digest','condition','notEqual','PASSWORD','AUTHENTICATION_API_KEY','Deleted\x20','info','updateGParticipant','uazapi',',\x20saindo.','authentication','post','extractRegex','badSession','flows','params','/startFlow/:instance/:startID','Erro\x20ao\x20normalizar\x20a\x20mensagem:','when','\x20chats\x20de\x20','LOG_COLOR','media','cors','imgUrl','updateMissingEtiquetas','isLong','EXPIRIN_IN','numbers','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','contact_blacklist','pollOnReplyDelete','MAX_SAFE_INTEGER','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):Delete\x20chat','privacySettings','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','messages.update','createGroup','\x20não\x20encontrado\x20para\x20atualização.','waitingMenu_replyOptions','unknown\x20operation\x20type\x20[','):\x20Buscando\x20todos\x20os\x20fluxos...','autoCompleteMessages.command','findMany','processingGroup','WARN','isJidUser','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Instâncias\x20removidas:\x20','createConversationforgoToFlow','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','OrAnd','findRealGroups','editflowvaredit','/wa-groups','SSL_CONF_PRIVKEY','getTime','ReplyOption\x20com\x20ID\x20','request\x20received\x20in\x20editFlowvariable','Contacts\x20not\x20found','chatLog','groupUpdateSubject','participants','addresss','created','write','Falta\x20informação\x20para\x20a\x20chamada\x20API','!cmd_','waMonitor','generateHash','HH:mm:ss','Schema','collections','silent','bodyStringErrorParse','profile','query','size','Request\x20Body:','DB_PREFIX_NAME','findGroupInfo','Fluxo\x20id\x20\x27','localWebhook','sleep','getBase64FromMediaMessage','longitude','Nenhum\x20chat\x20encontrado\x20para\x20editar.','parse','):\x20Mensagem\x20já\x20enviada\x20para\x20','editOperator','contacts','SEND_MESSAGE','):\x20Editando\x20grupo\x20do\x20fluxo...','URL','notas','deleteImportedChat','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','canSendMessage','done','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','Erro\x20ao\x20remover\x20label\x20','globalShow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','conversationTimestamp','keep-alive','randomBytes','Erro\x20ao\x20iniciar\x20fluxo:\x20','toUpperCase','AutomateSystem\x20não\x20foi\x20inicializado','stack','\x20do\x20chat\x20','mediaMessage','DD/MM\x20HH:mm:ss','):\x20Fluxos\x20não\x20estão\x20ativados','editConversation','values','variables','\x20horas\x20e\x20','getValidWhatsAppNumbers','Db\x20Connection','updateMissingTags','status.instance','everyOne','senderKeyDistributionMessage','autoCompleteMessages.command_1','request\x20received\x20in\x20updateAgent','DATABASE_CONNECTION_URI','pt-BR','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','PRESENCE_UPDATE','boolean','sha256','Falhou\x20ao\x20encontrar\x20chat\x20','):\x20Editando\x20variável\x20do\x20fluxo...','saveVariable','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','node-cache','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20delete\x20=\x20true','\x1b[37m%s\x1b[0m','.error','sending','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','updateGroupPicture','testingWith','createInstance','findGroups','):Image\x20path:\x20','hex','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','AddUserFlow','importChatsBatch','\x1b[31m%s\x1b[0m','sendStatus','demote','oldValue','convertaudio','fetchInstances','):\x20Fluxo\x20\x27','webhookModel','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','cache','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','groupName','\x22reaction\x22\x20must\x20be\x20an\x20emoji','https://chat.whatsapp.com/','/wa-chats','):\x20Entrou\x20na\x20função\x20clearVariables','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','unavailable','deletedCount','webhookMap','/64\x20dev\x20','add','https://uazapi-plugin.bubbleapps.io/?url=','Bloco\x20com\x20ID\x20','SUCCESS','/wa-all-message','5240ahincz','cleanDisconnectedInstances','command','SINGLE_SELECT','env','convertToString','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','CORS_METHODS','envYaml','app','find','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','secondValue','@whiskeysockets/baileys','defineAuthState','trimmed','subjectTime','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','startsWith','WA\x20MODULE','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','CHATS_DELETE','prepareMediaMessage','success','scheduleMessage','findChats','CONTACTS_UPDATE','Instance\x20logged\x20out','setHeader','50mb','):\x20Deletando\x20conversa...','insert','flowActive','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','#fed428','quotedMessage','connectToWhatsapp','.doc','end','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','authModel','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Esse\x20fluxo\x20expirou','):Archiving\x20chat','cacheContact','Fluxo\x20agendado\x20pelo\x20fluxo\x20','replaceVariablesInReplyOptions','Rótulo\x20deletado:\x27,\x20',',\x20Resultado:\x20','verify','profilePicture','.mimetype','labels.association','RemoveChatLabel','KEY','Selecione','nomecompleto','order','app-state-sync-key','conversation','getHours','Erro\x20ao\x20editar\x20o\x20bloco:\x20','stopIfLastReturnedError','request\x20received\x20in\x20starFlow','groupJid','CREDENTIALS','contacts.update','dbSettings','deviceSentMessage','ex:\x20\x22groupJid=120362@g.us\x22','VERBOSE','):\x20','instanceName','leaveGroup','#56ccb4','?authSource=admin&readPreference=primary&directConnection=true','Nenhum\x20participante\x20válido\x20encontrado.','formatVCard','LEVEL','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','conditions','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','undefined','request\x20received\x20in\x20editFlow','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','maxActives','stopMinutesMaxActives','Content-Type','application/octet-stream','):\x20Usando\x20extensão\x20padrão:\x20','Erro\x20ao\x20iniciar\x20o\x20fluxo.','evaluateConditionTest','\x20com\x20sucesso.','fullName','The\x20instance\x20needs\x20to\x20be\x20disconnected','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','removeIPv6ById','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','none','creds','groupDesc','fetchLabels','request\x20received\x20in\x20scheduleMessage','charAt','reject','unreadcount','statusCode',',\x20qrcodeCount:\x20','pictureUrl','updateMissingCustomFields','valid','toLowerCase','keys','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):Image\x20is\x20base64','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','.ppt','stickerMessage','dataValidate','API_KEY',',\x20lastCondition:\x20','addBlock','.ogg','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','updateProfileStatus','ip\x20-6\x20addr\x20del\x20','):\x20Bloco\x20com\x20ID\x20','https://api64.ipify.org?format=json','editflowreply','ConversationModel','greater','):\x20nextBlock.uazapi.name','getBusinessProfile','replace','data:\x20','Database\x20connection\x20closed.','):\x20Erro\x20durante\x20a\x20atualização:\x20','fetchMessages','updateReadReceiptsPrivacy','sendPresenceUpdate','REDIS','Deletion\x20failed','whoCanUse','groupBetterSetting','realVariables','/chat','#d3a91f','deleteDoneMessages','oldToken','findGroup','protocolMessage','expiration','updateReplyOption','trim','downloadMediaMessage','editflow','groupMemberAddMode','):\x20Deletando\x20mensagem','\x27\x20removido\x20do\x20AutomateSystem.','pow','DisconnectReason','firstValue','Close\x20connection','):\x20não\x20encontrou','descId','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','PRIVKEY','restartInstance','):Hash\x20to\x20image\x20name:\x20','creation','delete','fromObject','CHATS_SET','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','send','groupdata.participants','evaluateCondition','File\x20written\x20to\x20path:\x20','exec','CONTACTS_SET','#dfaef0','/wa-connection-update','replacer','generateWAMessageFromContent','profileName','deleteMany','updateLastSeenPrivacy','finish','fetchProfile','Configured\x20IPv6:\x20','The\x20','long','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','loadInstance','mediaSticker','\x1b[33m%s\x1b[0m','viewOnceMessageV2','Erro\x20ao\x20aplicar\x20varedit:\x20','synchronizeAndMapFlows','getLastMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','LabelModel','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','fetchStatus','getFlow','presence.update','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','video','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','recebido\x20de','\x27...','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','headerString','getScheduleMessageModelForOwner','createAndSave','uazapiSendContact','flowConversation','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','instancias:\x20','superadmin','Erro\x20ao\x20inserir\x20chats:','redirect','\x1b[46m','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','flattenObject','interval\x20não\x20é\x20um\x20número','website','\x1b[36m%s\x1b[0m','g-t','splice','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','connecting','\x0aFN:','sendDataWebhook','groupRevokeInvite','createConnection','message_normalized','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','groupId','express','PLAYED','mongodb','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','nome','12ekIzuq','):\x20Bloco\x20original\x20para\x20cópia:\x20','ContactsAndGroups','mongoose','Erro\x20ao\x20copiar\x20o\x20documento','sort','flowStopConversation','CONTACTS_UPSERT','GROUP_PARTICIPANTS_UPDATE','uazapiSendText','\x20minutos','\x20tentativas.','GROUPS_UPSERT','notify','pollCreationMessageKey','AutomateSystem','toString','count','drop','processblock','header','verifyWhatsAppNumber','updateProfilePicture','rm\x20-rf\x20','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','pairingCode','menuMessage','Cache\x20instance\x20update\x20result:\x20','messageStubParameters','qrCode','):\x20Flow\x20desativado','variable','editedMessage','fetchContacts','displayName','findGroupsEspecial','):\x20Buscando\x20flow...','padStart','resetReconnectionVariables','ENABLED','queue','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','chatId','readreceipts','Telefone:\x20','recording','text','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Variáveis\x20não\x20encontradas:','ChatModel','scheduleSendMedia','pm2\x20flush','updatePresence','array','editFlowBlock','):\x20Iniciando\x20bot...','request\x20received\x20in\x20deleteFlow','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','label_jid','GROUPS_UPDATE','):\x20Não\x20achou\x20nenhum\x20flow','./.git/config','rows','STORE_CLEANING_TERMINAL','shareOwners','.type','reference','textMessage','):\x20\x27Enviando\x20mídia\x20para\x20\x27','client','-whatsapp-api','reaction','reorderReplyOptions','@g.us','webhook','deleteMessage','#b4ebff','remoteJid','formatBRNumber','setUpdate','Stack\x20trace:','XX:XX:XX:XX:XX:XX','getChatModelForOwner','STORE','END:VCARD','imported','ScheduleMessage','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Subdomínio\x20não\x20encontrado','open','createNewConversation','findOne','editFlow','):\x20Alterando\x20fluxo...',',\x20valor\x20passado:\x20\x22','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','readdirSync','Parando\x20aplicação...','chats.delete','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):Desconectado,\x20parando\x20execução.','ip\x20-br\x20link\x20show','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','getMinutes','.mp3','release','Erro\x20ao\x20editar\x20agentes','audioMessage','Module\x20-\x20ON','docker','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','request\x20received\x20in\x20getAutomateSystem','groupLeave','chats','\x20minutos...','createServer','fileName','waitingMenu_text','request\x20received\x20in\x20createFlow','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','groupHandler','Network\x20Interface\x20detected:\x20','):\x20updateResult:','connectedClient','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','updateMany','p-queue','option','processReadyMessages','eventEmitter','findAll','__esModule','Atualização:\x20','qrcode-terminal','cachedContact','sectionsToString','CLEANING_INTERVAL','newValue','processawaitSeconds','getUniqueFlowName','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','contextInfo','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','\x20-y','userDevicesCache','output','utf8','selectableCount','REDIS_PREFIX_KEY','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','log','base64','):\x20sender\x20=\x20number:\x20','toBrazilianNumberFormat','jsonschema','Erro\x20ao\x20executar\x20bulkWrite:','messages.upsert','static','Subdomínio\x20final:','replyOptions','isCommunityAnnounce','cacheInstanceRepository','close','hGetAll','messages','):\x20whoCanEdit\x20after\x20validation:\x20','getContentType','matchRegex','_id','$dbName','goToFlow','isArray','_pushName','Erro\x20ao\x20atualizar\x20o\x20fluxo:','flow','lastRealGroupsFetch','tags','isBusiness','status@broadcast','updateChatGroupData','):\x20Criando\x20nova\x20conversa[createNewConversation]','split','chat','error','height','where','saveMediaToFile','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','findIndex','Connection\x20closed\x20for\x20instance:\x20','bodyString','removeInstance','Connection','DATABASE_ENABLED','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','modifiedCount','hasOwnProperty','77161ptvUZq','floor','130OxMjNg','instanceKeys','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','msgRetryCounterCache','empty','.ogv','delaySecMin','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','documentMessage','Mac\x20OS','groupSetting','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','processvaredits','request\x20received\x20in\x20getConversation','backgroundColor','Log\x20out\x20instance:\x20','locked','CONNECTION_UPDATE','#9ba6ff','promote','):\x20Enviando\x20mídia','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','setWebhook','\x1b[32m%s\x1b[0m','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','ListType','ERROR','shift','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','http','TEXT','apiResponse','Unauthorized','listType','contains','name','flowStopMinutes','MESSAGES_SET','\x1b[44m','announcement','Error\x20updating\x20message\x20status:','statusJidList','authState','not_announcement','sendAudio','):\x20Buscando\x20conversa...','Group\x20not\x20found','reconnectTimestamps','\x1b[1m','connect','delayChatLabel_RETRY_DELAY_MS','_Labels','https://api.elevenlabs.io/v1/text-to-speech/','sharePass','random','CONNECTION','audioWhatsapp','findById','chatModify','stringify','announce','):\x20[messages.update]\x20group\x20ignored','Garbage\x20collection\x20não\x20está\x20disponível.','request\x20received\x20in\x20deleteDoneMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Erro\x20ao\x20adicionar\x20label\x20','redisEnv','getVariablesChat','g.us','dbInstance','Message','connectionState','notEmpty','pre','STATUS_INSTANCE','READ','optionDescription','):\x20Rótulo\x20atualizado:\x20','dropIndex','some','scheduleNextCheck','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','address','bulkWrite','initAuthCreds','menuType','createHash','lowerCase','arrayUnique','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','\x20adicionado\x20ao\x20chat\x20','):\x20debug\x20alterando\x20this.AutomateSystem','reactionMessage','isRunning','request_method','\x20segundos','Retornando\x20grupos\x20COM\x20cache','min','proto','Erro\x20ao\x20deletar\x20chat:','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','AUTHENTICATION_JWT_EXPIRIN_IN','inet6','pollErrorMessage','admin','scheduled','mediatype','Erro\x20ao\x20buscar\x20fluxos:','\x20foi\x20interrompido\x20pelo\x20usuário.','ip:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','forEach','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','get','https://api.ipify.org?format=json','instance','updateGroupWebhook','fone','Erro\x20ao\x20buscar\x20o\x20fluxo','@redis/client','buttonMessage','findAndReplace','):Temp\x20image\x20deleted','Missing\x20global\x20api\x20key','width','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','hDel','groups','pollCreationMessageV2','out','):\x20ev.flush\x20realizado','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','deleteMessageForEveryone','contactHandle','getConversationModelForOwner','Valor\x20inicial:\x20\x22','Router','ini','URI','profilePictureUrl','padEnd','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','events','whatsappNumber','\x20\x1b[0m','Primeiro\x20Valor:\x20','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','application/json','findLabels','deleteChat','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','messageHandle','customFields','Chat\x20com\x20ID\x20','imagechat','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','processgoToFlow','choices','binary','MessageModel','fetchProfilePictureUrl','match','result','groupToggleEphemeral','cleaningUp','unlinkSync','processUazapi','SSL_CONF_FULLCHAIN','getConversation','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','deleteAll','archive','subject','/instance/connectionState','setting','Erro\x20ao\x20encerrar\x20a\x20API','createWebhook','delayMessage','getAutomateSystem','updateCustomFields','):Error\x20in\x20converting\x20audio','contact','hGet','responsavelid','):\x20tem\x20blocks','dbConnection','replaceVariablesLogs','/exit','CHATS_UPDATE','updateOne','Mensagem\x20não\x20suportada','\x5cd+','express-async-errors','saveConversationToDatabase','NextBlock','!stop','util','Instance\x20Key\x20from\x20DB:','json','shareFlow','):Audio\x20converted\x20and\x20stored\x20in\x20cache','fora\x20do\x20git','getMIMEType','limit','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','number','messageType','groupValidate','editFlowCondition','findAndReplaceRegex','IP\x20confirmed:\x20','updateChatWithMessage','#64c4ff','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','writeFileSync','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','DATABASE_CONNECTION_USER','request\x20body:\x20','createFlow','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','linkPreview','contentText','_ScheduleMessages','varedit','ObjectId','apirequest','buttonId','pollCreationMessage','username','whatsappNumbers','checkAndRestartProcess','DEBUG','global','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Erro\x20ao\x20buscar\x20a\x20conversa','#f64847','1667611ECImhm','pushName','Instance\x20ID:','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','editflowblock','groupGetInviteInfo','Conexão\x20estabelecida','isValidAndUniqueIPv6','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','uazapiSendMenu','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','presence','mediaKey','js-yaml','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','readFile','convertedOptions','Valor\x20de\x20find\x20ou\x20replace\x20ausente','leadInfo.','muteEndTime','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','exit','archived','blocks','SERVER','sendLocation','reorderMessages','router','upperCase','startFlowWebhook','buttons','ON\x20-\x20dbName:\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','assign','request\x20received\x20in\x20fetchConversation','initializeQueue','TYPE','delayChatLabel','debug','last','leadInfo','\x20segundos\x20antes\x20de\x20reconectar...','sendText','round','@s.whatsapp.net','_activatedCount','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','Erro\x20na\x20função\x20updateChatWithMessage:\x20','saveChatVariables','getDevice','author','segundos','reconnectAttempts','desc','configureIPv6','descOwner','):\x20transformedCustomFieldVariables','):\x20Limpando\x20AutomateSystem','local_map','ephemeralExpiration','findMessages','false','flowName','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','useMultiFileAuthState','content','organization','#ffae04','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Procurando\x20conversa','waInstances','Flow\x20iniciado','$set','Fluxos\x20não\x20estão\x20ativados','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','.pptx','createIPv6','removeChatLabel','cachedData-whatsapp','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','upsertChats','auth','\x20depois\x20','readMessage','substring','iniciando\x20fluxo\x20router','toBRL','updateBlock','audio/ogg','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','waitingMenu_ExpiredMessage','):Image\x20created','delay','stdout','user','lastSendMessage','75nXfKuu','Erro\x20ao\x20alterar\x20fluxo','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','clearVariables','uncaughtException','documentWithCaptionMessage','\x1b[40m','deleteConversation','status','flush','remove','updateProfilePicturePrivacy','isValidIPv6Config','Sistema\x20atualizado\x20com\x20sucesso!','_FlowHistorico','email','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','set','headers','storePath','):\x20Error\x20processing\x20conditions:\x20','activatedCount','desativadoFluxoAte','988UYdmZs','):Audio\x20processed','sendList','ButtonsMessage','@broadcast','PORT','readData','pendingMessages','\x20Tentativa\x20de\x20reconexão\x20','Safari','Error\x20parsing\x20JSON:','indexOf','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','instance.','vote','markMessageAsRead','leadInfo.customFields','https://ifconfig.me/ip','key','GUARD','integer','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','\x1b[31m','approve','remote\x20\x22origin\x22','.\x20Aguardando\x20','\x20is\x20already\x20in\x20use.','SERVER_TYPE','Erro\x20ao\x20importar\x20chats','Types','sendSticker','ContactModel','HeaderType','revokeInviteCode','groupSettingUpdate','isURL','exports','Error\x20finding\x20many\x20contacts:','save','):\x20Editando\x20bloco...','MESSAGES_UPSERT','Imagem\x20não\x20encontrada','This\x20name\x20','Início','repeat','cacheInstanceModel','#ff9484','):\x20Removendo\x20\x27','Erro\x20ao\x20editar\x20o\x20chat','minutesToClose','The\x20global\x20api\x20key\x20must\x20be\x20set','deleteInstance','USER','Falha\x20ao\x20recriar\x20IPv6.','getProfileName','REDIS_ENABLED','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','context','groups.update','allContacts','ff:fe','restrict','findOrCreate','JWT','redis://127.0.0.1:6379','\x1b[37m','stopConversation','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','proxy:\x20','):\x20Buscando\x20flow,\x20id:\x20','PRODUCT_LIST','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','block','):\x20mediaMessageInfoId\x20:\x20','isCommunity','editMessagesInGroup','toNumber','replaceVariablesChat','remove.instance','url','audio/ogg;\x20codecs=opus','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','findContacts','jwt','?timestamp=','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','}}\x20->\x20valor\x20não\x20encontrado','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','online','Database\x20is\x20not\x20enabled','awaitingApproval','groupdata','request\x20received\x20in\x20editFlowgroup','request\x20received\x20in\x20editFlowcondition','Nenhum\x20fluxo\x20correspondente\x20encontrado.','):\x20newFirstValue\x20após\x20replaceVariables:','verbose','processApiRequest','findConversation','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','dayjs','role','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','automateSystem','#000000','validate','Internal\x20Server\x20Error','request_time','\x1b[30m%s\x1b[0m','data','lean','phoneNumber','public','basename','findParticipants','footerText','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','pollUpdateMessage','variablesToObject','getScheduleMessage',',\x20Segundo\x20Valor:\x20','updateOneById','inviteUrl','editflowcondition','mongodb://','createConversationforStartFlow','available','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','buffer','notContains',',\x20Minutes\x20to\x20Close:\x20','_Chats','):\x20teve\x20mudanças\x20chat.archived:\x20','processclearVariables','\x20-i\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Erro\x20ao\x20tentar\x20autoCompleteMessages','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20conversation.status:\x20','put','findFlow','DARK','AUTHENTICATION_JWT_SECRET',',\x20global:\x20','\x1b[33m\x1b[1m','joinApprovalMode','error_log','length','store','agents','groupadd','ignoreGroups','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','getTicketSystem','start','lastBlockId','allFlows','logger','groupMetadata','.xls','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','enviado\x20para','awaitSeconds','scheduleSendAudio','contacts.upsert','removeData','getUpdate','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','3EB0','^\x5cd+([-]\x5cd+)*@g.us$','\x1b[32m','mimetype','No\x20suitable\x20network\x20interface\x20found','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','chats.set','.webp','.txt','Error\x20removing\x20unused\x20chat\x20fields:','messaging-history.set','HOST','[AUTH]\x20Database\x20is\x20not\x20enabled','preview','):\x20Error\x20processing\x20the\x20block:\x20','originalUrl','isAdmin','Filtered\x20network\x20interfaces:\x20','removed','updateAll','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','emit','\x22\x20-\x20REMOVED','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','\x20instance\x20does\x20not\x20exist','EMAIL','caption','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','eventHandler','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','FULLCHAIN','CORS_CREDENTIALS','stderr','Erro\x20ao\x20arquivar\x20chat','messageTimestamp','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','fileLength','\x5c$&','apikey','sendCommand','enabled','replaceValue','Not\x20Found','quoted','Last\x20message\x20not\x20found\x20for\x20number:\x20','_p_','Subdomínio\x20extraído\x20da\x20URL:','filter','less','normalizeMessageContent','instanceCount','.docx','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','latitude','qrcode','logout','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','now','truncatedto','writeData','uuid','DaysToDelete','DOCKER_ENV','StatusJidList\x20is\x20required','sections','getOwnPropertyNames','[all]','Button\x20IDs\x20cannot\x20be\x20repeated.','Falha\x20ao\x20criar\x20IPv6.','participant','truncatedtoEnd','isConnected','getMessage','unlocked','value','endsWith','method','61374FtLUbN','):\x20Flow\x20\x27','updateFlowConfig','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Falha\x20ao\x20processar\x20a\x20solicitação','/message','description','findOneAndUpdate','AddChatLabel','paused','jid','telefone','lastMessage','errors','request\x20received\x20in\x20updateAutoCompleteMessages','presenceSubscribe','licenca','Usando\x20IP\x20existente:\x20',',\x20canSendMessage:\x20','encoding','blockLogs','waUploadToServer','color','Número\x20não\x20possui\x20WhatsApp.','The\x20property\x20cannot\x20be\x20empty','/wa-contacts','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','createJid','audio','temp-','cpf','):\x20Limpando\x20delayMessage','uazapiSendLocation','updateGParticipate','URL:','sharp','request\x20received\x20in\x20updateCustomFields','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','reorderBlocks','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','):\x20alterando\x20this.AutomateSystem','.png','Erro\x20ao\x20atualizar\x20AutomateSystem:','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','startCommand','urlOrBase64','361071xdjDvN','/events/:instance','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','scheduleFlow','):Business\x20profile\x20fetched','/:instanceName','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','saveTextReply','next_groupId','configService','convert','connectionStatus','warn','updateStopChat','\x1b[1m\x1b[37m','Instância\x20não\x20encontrada.','chats.update','IPv6\x20address\x20removed:\x20','Last\x20message\x20not\x20found','0123456789ABCDEF','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','\x27\x20não\x20encontrado','):\x20Conversa\x20está\x20expirada\x20-\x20voto','addChatLabel','groupInviteCode','timeout','birthtime','Content\x20is\x20required','catch','joinGroupValidate','InstancesAlterarTodas','Erro\x20ao\x20deletar\x20a\x20conversa','editChat','deleteFlow','\x0a{\x20instance:\x20','PENDING','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','action','FlowRouter','crypto','fetchPrivacySettings','Erro\x20ao\x20atualizar\x20conversa:\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','no.connection','Erro\x20ao\x20atualizar\x20o\x20flow.','isInteger','):\x20Grupo\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','generate','COLOR','1720628DLKJUm','):\x20newSecondValue\x20após\x20replaceVariables:','editFlowVariable','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','findWebhook','cacheContactModel','https://api.openai.com/v1/images/generations','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Erro\x20ao\x20criar\x20fluxo','\x0aitem','body','deleteOne','listMessage','.jwt','memberAddMode','FlowController','lastUpdate','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','max','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','beautifyWithPlaceholders','connection.update','\x20minutos\x20verificará\x20novas\x20mensagens','varedits','autoCompleteMessages','Instance\x20\x22','\x20quoted:\x20','font','label','moreLogs','PREFIX_KEY','):\x20Editando\x20replyOption...','):\x20Going\x20to\x20','existsSync','goNextblock','child_process','importChats','owner','Operador:\x20\x22','LICENSE_INVALID','pop','hbs','\x22\x20cannot\x20be\x20empty','setRestartTimeout','Não\x20respondeu\x20com\x20a\x20enquete.','SERVER_PORT','imageMessage','routerPath','request\x20received\x20in\x20getFlow','from','atendimentoAberto','getflow','folder','processScheduleFlow','dbClient','instances','normalizeMessage','qrcode.updated','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Error\x20fetching\x20group','):\x20Conversa\x20inserida\x20com\x20sucesso.','arraybuffer','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','throwAndLogError','utf-8','sendContact','buttonText','.url','idSchedule','call','/instance/create','Erro\x20ao\x20deletar\x20mensagens:','collection','addReplyOption','\x1b[43m','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','load','expression','generateRandomIPv6','SendScheduleMessage','.gif','deleted','editScheduleMessage','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','error\x20get\x20vote','findByIdAndUpdate','getPrototypeOf','pollMessage','startFlow','STORE_CHATS','image','updateConversation','reviver','lastReceivedMessage','Erro\x20ao\x20alterar\x20privacidade','#9ab6c1','Novo\x20IP\x20criado:\x20','item','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','noConnection',',\x20pairCode:\x20','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','AUTHENTICATION','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','delayChatLabel_MAX_RETRIES','):\x20Buscando\x20conversas...','leadInfo.etiquetas','restart','enumerable','_fromMe','stopMinutes','\x20}\x0a','Erro\x20ao\x20editar\x20a\x20conversa','processPollUpdateMessage','/config','_Contacts','\x20inseridos\x20no\x20banco\x20de\x20dados...',',\x20Expiration\x20Time:\x20','onTime','urlencoded','keyPattern','dbServer','SERVER_URL','mentioned','isJidBroadcast','group','removeIPv6','code','fromMe','scheduleSendText','.extension','viewOnceMessage','ms\x20(tentativa\x20','Retornando\x20grupos\x20SEM\x20cache','SERVER_OFFLINE','sim','LOG','getReadyToSendMessages','fetchProfilePicture','updateMessage','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','has','replaceOne','currency','connectToWhatsappController','removeProfilePicture','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','\x1b[33m','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','triedToSend','getDelay','group-participants.update','parseInt','METHODS','):Image\x20is\x20url','selectedOptions','):\x20Label\x20','inner','downloads','):\x20whoCanUse\x20before\x20validation:\x20','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','Database\x20update\x20result:','whoCanEdit','messageId','updateGroupParticipantsWebhook','flowConfig','uazapiSendMedia','true','waitingMenu_id','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','sendMedia','Error\x20updating\x20cache\x20contact:','/create','picture','\x1b[36m','model','DELIVERY_ACK','detail','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','StartBot','editflowgroup','lastInteraction','use','):Image\x20converted\x20to\x20WebP','networkInterface','vcard','fetchLatestBaileysVersion','closeExistingConversations','getClient','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','uazapiSendAudio','statusMessage','remoteJids','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','sendButtons','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','delAll','Fluxo\x20\x27','connectedName','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','\x1b[41m','ListMessage','CONECTADO\x20À\x20UAZAPI','sendMessageWithTyping','#00a1f2','namespace','SSL_CONF','sendMenu','_error','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','SERVER_ACK','#ffffff','join','readFileSync','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','\x20não\x20encontrado','create','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Pausado\x20por\x20','archiveChat','myAppStateKeyId','Instance\x20Name:'];a0_0x55d6=function(){return _0x4e6379;};return a0_0x55d6();}function yi(_0x9dd5f9,_0x1c9b77){!se[_0x9dd5f9]||!se[_0x9dd5f9][_0x1c9b77]||delete se[_0x9dd5f9][_0x1c9b77];}function J(_0x4a2be9,_0x9279de,_0x2539d3){const _0x26d27a=a0_0x22f2c8;if(!se[_0x4a2be9])return;let _0x342675=_0x26d27a(0x16e)+JSON[_0x26d27a(0x2e3)](_0x2539d3)+'\x0a\x0a';Object['values'](se[_0x4a2be9])[_0x26d27a(0x317)](_0x5aeccb=>{const _0x25ff98=_0x26d27a;_0x5aeccb['events'][_0x25ff98(0x750)](_0x9279de)&&_0x5aeccb[_0x25ff98(0x76f)][_0x25ff98(0x7b4)](_0x342675);});}function bi(){const _0x33f850=a0_0x22f2c8;let _0x545b05={};for(let _0x4e8a0e in se)_0x545b05[_0x4e8a0e]=Object[_0x33f850(0xa0)](se[_0x4e8a0e])[_0x33f850(0x657)](_0x48c127=>({'id':_0x48c127['id'],'events':_0x48c127['events']}));return _0x545b05;}var Mi=require('uuid'),As=require('mongoose'),Rs=class{},Ro=new As[(a0_0x22f2c8(0x7ba))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new As[(a0_0x22f2c8(0x7ba))]({'_id':{'type':String,'default':a0_0x22f2c8(0x688)},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.[a0_0x22f2c8(0x61b)](Rs[a0_0x22f2c8(0x2cb)],Ao,'All_Instances_Config'),Io=Si[a0_0x22f2c8(0x66b)][a0_0x22f2c8(0x640)](__dirname,a0_0x22f2c8(0x60a)),ke=(0x0,xt['Router'])(),To=S[a0_0x22f2c8(0x319)](a0_0x22f2c8(0x5d0))[a0_0x22f2c8(0x3ba)],re=[$a,Ra,Ta[To]];ke[a0_0x22f2c8(0x622)](a0_0x22f2c8(0x6d8),xt[a0_0x22f2c8(0x66b)][a0_0x22f2c8(0x27b)](Io))[a0_0x22f2c8(0x319)](a0_0x22f2c8(0x537),async(_0x10763f,_0x205642)=>{const _0x907f58=a0_0x22f2c8;console[_0x907f58(0x274)]('bateu\x20events');let _0x29abd3=_0x10763f[_0x907f58(0x781)][_0x907f58(0x31b)],_0x1dde63=(_0x10763f[_0x907f58(0x7bf)][_0x907f58(0x336)]||'')['split'](','),_0x3cdfc8=(0x0,Mi['v4'])();console[_0x907f58(0x274)](_0x907f58(0x396),_0x29abd3),console[_0x907f58(0x274)]('Subscribed\x20Events:',_0x1dde63);let _0x9fc50c=S[_0x907f58(0x319)](_0x907f58(0x5d0))['API_KEY'],_0x2a6d25=_0x10763f[_0x907f58(0x7bf)]['apikey'];if(console[_0x907f58(0x274)]('API\x20Key\x20from\x20Request:',_0x2a6d25),_0x9fc50c[_0x907f58(0x119)]!==_0x2a6d25){console[_0x907f58(0x274)]('env.KEY\x20!==\x20key');try{let _0x149671=await me[_0x907f58(0x3e7)]['find'](_0x29abd3);if(console[_0x907f58(0x274)](_0x907f58(0x36d),_0x149671),!_0x149671||_0x149671['apikey']!==_0x2a6d25)return console[_0x907f58(0x274)](_0x907f58(0x1d7)),_0x205642[_0x907f58(0x3fe)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x4f0f65){return console[_0x907f58(0x295)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x4f0f65),_0x205642[_0x907f58(0x3fe)](0x191)[_0x907f58(0x196)](_0x907f58(0x650));}}if(!await Oe(_0x29abd3))return _0x205642[_0x907f58(0x3fe)](0x194)[_0x907f58(0x196)](_0x907f58(0x545));_0x205642['setHeader'](_0x907f58(0x13f),_0x907f58(0x723)),_0x205642[_0x907f58(0xfc)](_0x907f58(0x67c),_0x907f58(0x69f)),_0x205642['setHeader'](_0x907f58(0x29e),_0x907f58(0x95)),_0x205642[_0x907f58(0x713)]();let _0x4b4e4a=_0x907f58(0x16e)+JSON['stringify']({'info':_0x907f58(0x39a)})+'\x0a\x0a';_0x205642[_0x907f58(0x7b4)](_0x4b4e4a),wi(_0x29abd3,_0x3cdfc8,_0x205642,_0x1dde63),_0x10763f['on'](_0x907f58(0x280),()=>{const _0x42c363=_0x907f58;console[_0x42c363(0x274)](_0x42c363(0x29b)+_0x29abd3),yi(_0x29abd3,_0x3cdfc8);});}),ke[a0_0x22f2c8(0x77d)](a0_0x22f2c8(0x782),async(_0x47bf76,_0x1daea)=>{const _0x49c8e5=a0_0x22f2c8;console['log'](_0x49c8e5(0x3eb));let _0x324ae0=_0x47bf76['params'][_0x49c8e5(0x31b)],_0x460da5=_0x47bf76['params'][_0x49c8e5(0x6db)],_0x5f0b69=_0x47bf76['query'][_0x49c8e5(0x22b)]||'',_0x39fb9b=_0x47bf76[_0x49c8e5(0x573)];console[_0x49c8e5(0x274)](_0x49c8e5(0x64a),_0x324ae0),console['log']('StartID:',_0x460da5),console[_0x49c8e5(0x274)]('RemoteJid:',_0x5f0b69),console[_0x49c8e5(0x274)](_0x49c8e5(0x7c1),_0x39fb9b);try{if(!await Oe(_0x324ae0))return _0x1daea[_0x49c8e5(0x3fe)](0x194)[_0x49c8e5(0x196)]('Instância\x20não\x20encontrada.');let _0x4b0e8c=await O[_0x49c8e5(0x3b3)](_0x324ae0,_0x460da5,_0x5f0b69,_0x39fb9b);_0x1daea[_0x49c8e5(0x196)](_0x4b0e8c);}catch(_0x1a09de){console[_0x49c8e5(0x295)](_0x1a09de),_0x1daea[_0x49c8e5(0x3fe)](0x1f4)[_0x49c8e5(0x196)](_0x49c8e5(0x142));}}),ke[a0_0x22f2c8(0x319)](a0_0x22f2c8(0x6a5),(_0x46f7f0,_0x2140f5)=>{const _0x698c74=a0_0x22f2c8;let _0x2a1295=bi();_0x2140f5[_0x698c74(0x36e)](_0x2a1295);})[a0_0x22f2c8(0x319)]('/',(_0x3f5d94,_0x5007d1)=>{const _0x27657a=a0_0x22f2c8;let _0x4827f6=S['get'](_0x27657a(0x3ae))[_0x27657a(0x7d0)];if(_0x4827f6){let _0x59e098=encodeURIComponent(''+_0x4827f6);_0x5007d1[_0x27657a(0x1c7)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x59e098);return;}let _0x319f4b=S[_0x27657a(0x319)](_0x27657a(0x63a)),_0x5cf35a=_0x319f4b&&_0x319f4b[_0x27657a(0x4d6)][_0x27657a(0x293)]('/')[0x4];if(_0x5cf35a){let _0x12d428=encodeURIComponent('https://'+_0x5cf35a);_0x5007d1[_0x27657a(0x1c7)](_0x27657a(0xdb)+_0x12d428);}else _0x5007d1[_0x27657a(0x1c7)](_0x27657a(0x75a));})[a0_0x22f2c8(0x49b)](a0_0x22f2c8(0x363),...re,async(_0x3043ad,_0x4c9526)=>{const _0x10a446=a0_0x22f2c8;try{console[_0x10a446(0x274)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x4c9526[_0x10a446(0x3fe)](0xc8)['json']({'message':_0x10a446(0x4a8)}),_0x4c9526['on'](_0x10a446(0x1a3),()=>process[_0x10a446(0x3ab)](0x0));}catch(_0x383477){console[_0x10a446(0x295)](_0x10a446(0x2b2),_0x383477),_0x4c9526[_0x10a446(0x3fe)](0x1f4)[_0x10a446(0x36e)]({'message':_0x10a446(0x357)});}})[a0_0x22f2c8(0x49b)]('/config',...re,async(_0x53ad38,_0x179469)=>{const _0x2ac0bf=a0_0x22f2c8;try{let _0x16db14=_0x53ad38[_0x2ac0bf(0x573)];await Ee[_0x2ac0bf(0x365)]({},{'$set':_0x16db14},{'upsert':!0x0});let _0x1e6ee4=await Ee[_0x2ac0bf(0x239)]();_0x179469[_0x2ac0bf(0x36e)](_0x1e6ee4);}catch(_0x2b657f){_0x179469[_0x2ac0bf(0x3fe)](0x190)[_0x2ac0bf(0x196)](_0x2b657f[_0x2ac0bf(0x659)]);}})[a0_0x22f2c8(0x319)](a0_0x22f2c8(0x5dc),...re,async(_0xaa6645,_0x35712b)=>{const _0x4f053a=a0_0x22f2c8;try{let _0x4a5cc2=await Ee[_0x4f053a(0x239)]();if(!_0x4a5cc2)return _0x35712b[_0x4f053a(0x36e)]({});_0x35712b['json'](_0x4a5cc2);}catch(_0x1c221c){_0x35712b[_0x4f053a(0x3fe)](0x1f4)['send'](_0x1c221c[_0x4f053a(0x659)]);}})[a0_0x22f2c8(0x622)](a0_0x22f2c8(0x6ef),new yt(S,...re)[a0_0x22f2c8(0x3b1)])[a0_0x22f2c8(0x622)](a0_0x22f2c8(0x50a),new It(...re)[a0_0x22f2c8(0x3b1)])['use'](a0_0x22f2c8(0x179),new ct(...re)['router'])[a0_0x22f2c8(0x622)](a0_0x22f2c8(0x66d),new wt(...re)[a0_0x22f2c8(0x3b1)])[a0_0x22f2c8(0x622)]('/webhook',new Ot(...re)[a0_0x22f2c8(0x3b1)])[a0_0x22f2c8(0x622)]('/automate',new _t(...re)[a0_0x22f2c8(0x3b1)]);var m=class{constructor(..._0x280d28){const _0x25694d=a0_0x22f2c8;throw{'status':0x190,'error':'Bad\x20Request','message':_0x280d28[_0x25694d(0x4a3)]>0x0?_0x280d28:void 0x0};}},oe=class{constructor(..._0x25106c){const _0x166e51=a0_0x22f2c8;throw{'status':0x191,'error':_0x166e51(0x2c8),'message':_0x25106c[_0x166e51(0x4a3)]>0x0?_0x25106c:void 0x0};}},Z=class{constructor(..._0x3dc2e4){const _0xb47350=a0_0x22f2c8;throw{'status':0x193,'error':_0xb47350(0x720),'message':_0x3dc2e4[_0xb47350(0x4a3)]>0x0?_0x3dc2e4:void 0x0};}},j=class{constructor(..._0x461608){const _0x2f1641=a0_0x22f2c8;throw{'status':0x194,'error':_0x2f1641(0x4e2),'message':_0x461608[_0x2f1641(0x4a3)]>0x0?_0x461608:void 0x0};}},x=class{constructor(..._0x5b87a2){const _0xb2529c=a0_0x22f2c8;throw{'status':0x1f4,'error':_0xb2529c(0x47a),'message':_0x5b87a2[_0xb2529c(0x4a3)]>0x0?_0x5b87a2:void 0x0};}},fe=require(a0_0x22f2c8(0xec));async function Is(_0x2269e8){const _0xaf1848=a0_0x22f2c8;let _0x32f75b=new $(Is[_0xaf1848(0x2cb)]),_0x3483e6=R[_0xaf1848(0x628)](),_0x1d155c=_0x3483e6['db'](S[_0xaf1848(0x319)](_0xaf1848(0x771))[_0xaf1848(0x2df)][_0xaf1848(0x7c2)]+_0xaf1848(0x732))[_0xaf1848(0x5b1)](_0x2269e8),_0x2b8975=async(_0x58881a,_0x2a8218)=>{const _0x421c44=_0xaf1848;try{return await _0x3483e6[_0x421c44(0x2d9)](),await _0x1d155c[_0x421c44(0x5f8)]({'_id':_0x2a8218},JSON['parse'](JSON[_0x421c44(0x2e3)](_0x58881a,fe[_0x421c44(0x6ae)][_0x421c44(0x19e)])),{'upsert':!0x0});}catch{}},_0x4ac9d8=async _0x5eaa8c=>{const _0x571203=_0xaf1848;try{await _0x3483e6[_0x571203(0x2d9)]();let _0x202292=await _0x1d155c[_0x571203(0x239)]({'_id':_0x5eaa8c}),_0x23b70d=JSON[_0x571203(0x2e3)](_0x202292);return JSON[_0x571203(0x7ca)](_0x23b70d,fe[_0x571203(0x6ae)][_0x571203(0x5c5)]);}catch{}},_0x5e49e3=async _0x319cc9=>{const _0x25d2e0=_0xaf1848;try{return await _0x3483e6[_0x25d2e0(0x2d9)](),await _0x1d155c['deleteOne']({'_id':_0x319cc9});}catch{}},_0x5e2848=await _0x4ac9d8(_0xaf1848(0x14b))||(0x0,fe[_0xaf1848(0x2fc)])();return{'state':{'creds':_0x5e2848,'keys':{'get':async(_0x30a1d3,_0x4cba05)=>{const _0x1b9cfc=_0xaf1848;let _0x5c30d8={};return await Promise[_0x1b9cfc(0x65b)](_0x4cba05[_0x1b9cfc(0x657)](async _0x2be52e=>{const _0xfb4fb9=_0x1b9cfc;let _0x44a370=await _0x4ac9d8(_0x30a1d3+'-'+_0x2be52e);_0x30a1d3===_0xfb4fb9(0x11d)&&_0x44a370&&(_0x44a370=fe[_0xfb4fb9(0x30a)][_0xfb4fb9(0x2ee)]['AppStateSyncKeyData'][_0xfb4fb9(0x193)](_0x44a370)),_0x5c30d8[_0x2be52e]=_0x44a370;})),_0x5c30d8;},'set':async _0x882a0f=>{const _0x864394=_0xaf1848;let _0x263f82=[];for(let _0x4b2e4b in _0x882a0f)for(let _0xb5d6b1 in _0x882a0f[_0x4b2e4b]){let _0x4abae7=_0x882a0f[_0x4b2e4b][_0xb5d6b1],_0x4c29d9=_0x4b2e4b+'-'+_0xb5d6b1;_0x263f82[_0x864394(0x6b3)](_0x4abae7?_0x2b8975(_0x4abae7,_0x4c29d9):_0x5e49e3(_0x4c29d9));}await Promise[_0x864394(0x65b)](_0x263f82);}}},'saveCreds':async()=>_0x2b8975(_0x5e2848,_0xaf1848(0x14b))};}var Ds=A(require(a0_0x22f2c8(0x1a7))),Ps=A(require(a0_0x22f2c8(0xb5))),kt=require(a0_0x22f2c8(0xec)),Ci=require(a0_0x22f2c8(0x31f)),Pt=require(a0_0x22f2c8(0xec)),Dt;function Oo(_0x5244b9){const _0x16b6d2=a0_0x22f2c8;return Dt||(Dt=(0x0,Ci[_0x16b6d2(0x66f)])({'url':_0x5244b9['URI']}),Dt[_0x16b6d2(0x2d9)]()),Dt;}var de=class u{constructor(_0x4e0243,_0x414ade){const _0x4e8d39=a0_0x22f2c8;this['redisEnv']=_0x4e0243,this[_0x4e8d39(0x12b)]=_0x414ade,this['logger']=new $(u['name']),this[_0x4e8d39(0x223)]=Oo(_0x4e0243);}set[a0_0x22f2c8(0x220)](_0x2936a3){this['instanceName']=_0x2936a3;}async['instanceKeys'](){const _0x4385be=a0_0x22f2c8;try{return await this['client'][_0x4385be(0x4df)](['keys',this[_0x4385be(0x2ea)]['PREFIX_KEY']+':*']);}catch(_0x58f130){this['logger'][_0x4385be(0x295)](_0x58f130);}}async[a0_0x22f2c8(0x4f3)](_0x28428d,_0x248017){const _0x3c2b2d=a0_0x22f2c8;try{let _0x20d1fc=JSON[_0x3c2b2d(0x2e3)](_0x248017,Pt[_0x3c2b2d(0x6ae)][_0x3c2b2d(0x19e)]);return await this[_0x3c2b2d(0x223)]['hSet'](this[_0x3c2b2d(0x2ea)][_0x3c2b2d(0x587)]+':'+this[_0x3c2b2d(0x12b)],_0x28428d,_0x20d1fc);}catch(_0x3b9395){this[_0x3c2b2d(0x4ad)][_0x3c2b2d(0x295)](_0x3b9395);}}async['getAllData'](){const _0x1e7b06=a0_0x22f2c8;try{let _0x3a8f40=await this['client'][_0x1e7b06(0x281)](this[_0x1e7b06(0x2ea)][_0x1e7b06(0x587)]+':'+this['instanceName']);if(_0x3a8f40){for(let _0x1df799 in _0x3a8f40)Object['prototype'][_0x1e7b06(0x2a3)][_0x1e7b06(0x5ae)](_0x3a8f40,_0x1df799)&&(_0x3a8f40[_0x1df799]=JSON[_0x1e7b06(0x7ca)](_0x3a8f40[_0x1df799],Pt[_0x1e7b06(0x6ae)]['reviver']));return _0x3a8f40;}}catch(_0x22397a){this[_0x1e7b06(0x4ad)][_0x1e7b06(0x295)](_0x22397a);}}async[a0_0x22f2c8(0x413)](_0x170376){const _0x54b533=a0_0x22f2c8;try{let _0x267a6d=await this[_0x54b533(0x223)][_0x54b533(0x35e)](this[_0x54b533(0x2ea)]['PREFIX_KEY']+':'+this['instanceName'],_0x170376);if(_0x267a6d)return JSON[_0x54b533(0x7ca)](_0x267a6d,Pt['BufferJSON'][_0x54b533(0x5c5)]);}catch(_0x5442c3){this[_0x54b533(0x4ad)][_0x54b533(0x295)](_0x5442c3);}}async[a0_0x22f2c8(0x4b5)](_0xa1f24e){const _0x36e30d=a0_0x22f2c8;try{return await this['client'][_0x36e30d(0x326)](this[_0x36e30d(0x2ea)][_0x36e30d(0x587)]+':'+this[_0x36e30d(0x12b)],_0xa1f24e);}catch(_0x5defaa){this[_0x36e30d(0x4ad)][_0x36e30d(0x295)](_0x5defaa);}}async[a0_0x22f2c8(0x630)](_0x594874){const _0x37b4cc=a0_0x22f2c8;try{return await this[_0x37b4cc(0x223)]['del'](_0x594874||this['redisEnv'][_0x37b4cc(0x587)]+':'+this[_0x37b4cc(0x12b)]);}catch(_0x1a9ad8){this[_0x37b4cc(0x4ad)]['error'](_0x1a9ad8);}}};async function Ts(_0xa82966,_0x46e1c7){const _0x45f0ae=a0_0x22f2c8;let _0x139445=new $(Ts['name']),_0xe9275c=new de(_0xa82966,_0x46e1c7),_0x510c62=async(_0x5aa8e2,_0x18d46b)=>{const _0x53879e=a0_0x2beb;try{return await _0xe9275c[_0x53879e(0x4f3)](_0x18d46b,_0x5aa8e2);}catch(_0x26f66a){return _0x139445['error']({'localError':'writeData','error':_0x26f66a});}},_0x4ea51d=async _0x2eaeb2=>{const _0x242c90=a0_0x2beb;try{return await _0xe9275c[_0x242c90(0x413)](_0x2eaeb2);}catch(_0x2a7117){_0x139445[_0x242c90(0x295)]({'readData':_0x242c90(0x4f3),'error':_0x2a7117});return;}},_0x3ffe=async _0x120737=>{const _0x315dd8=a0_0x2beb;try{return await _0xe9275c[_0x315dd8(0x4b5)](_0x120737);}catch(_0x4d4a87){_0x139445['error']({'readData':_0x315dd8(0x4b5),'error':_0x4d4a87});}},_0x5371db=await _0x4ea51d(_0x45f0ae(0x14b))||(0x0,kt[_0x45f0ae(0x2fc)])();return{'state':{'creds':_0x5371db,'keys':{'get':async(_0x40f429,_0x3035d9)=>{const _0x5b3e9e=_0x45f0ae;let _0x3736bc={};return await Promise[_0x5b3e9e(0x65b)](_0x3035d9[_0x5b3e9e(0x657)](async _0x180aaf=>{const _0x3d90ee=_0x5b3e9e;let _0x459737=await _0x4ea51d(_0x40f429+'-'+_0x180aaf);_0x40f429===_0x3d90ee(0x11d)&&_0x459737&&(_0x459737=kt[_0x3d90ee(0x30a)][_0x3d90ee(0x2ee)][_0x3d90ee(0x689)][_0x3d90ee(0x193)](_0x459737)),_0x3736bc[_0x180aaf]=_0x459737;})),_0x3736bc;},'set':async _0x4ae8b8=>{const _0x3bc15d=_0x45f0ae;let _0xe6d713=[];for(let _0x190a4a in _0x4ae8b8)for(let _0x460849 in _0x4ae8b8[_0x190a4a]){let _0x2920d2=_0x4ae8b8[_0x190a4a][_0x460849],_0x3047e1=_0x190a4a+'-'+_0x460849;_0xe6d713[_0x3bc15d(0x6b3)](_0x2920d2?await _0x510c62(_0x2920d2,_0x3047e1):await _0x3ffe(_0x3047e1));}await Promise['all'](_0xe6d713);}}},'saveCreds':async()=>await _0x510c62(_0x5371db,_0x45f0ae(0x14b))};}var L=A(require('fs')),X=require(a0_0x22f2c8(0x4f4)),jt=A(require(a0_0x22f2c8(0x52b))),Ne=require(a0_0x22f2c8(0x55d)),Ei=require(a0_0x22f2c8(0x58c)),vi=require(a0_0x22f2c8(0x36c)),Ni=A(require('axios')),ve=class extends _{constructor(_0x15555b,_0x41aead,_0x30da4e){const _0x21e9a5=a0_0x22f2c8;super(_0x41aead),this[_0x21e9a5(0x43a)]=_0x15555b,this[_0x21e9a5(0x53f)]=_0x41aead,this['dbConnection']=_0x30da4e;}async[a0_0x22f2c8(0x672)](_0x36da3b,_0x49be3a){const _0x5a9df2=a0_0x22f2c8;try{if(this[_0x5a9df2(0x126)][_0x5a9df2(0x205)]){console[_0x5a9df2(0x274)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x49be3a+'\x20and\x20data:',_0x36da3b);let _0x43fafb=await this[_0x5a9df2(0x43a)][_0x5a9df2(0x50c)]({'_id':_0x49be3a},{'$set':_0x36da3b},{'new':!0x0,'upsert':!0x0});return console[_0x5a9df2(0x274)](_0x5a9df2(0x60d),_0x43fafb),_0x43fafb;}}catch(_0x3a6eb9){throw console[_0x5a9df2(0x295)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x3a6eb9),_0x3a6eb9;}return null;}async[a0_0x22f2c8(0x574)](_0xc4c52a){const _0x29c82c=a0_0x22f2c8;try{let _0x2ff413=I(_0xc4c52a['where']);return{'deletedCount':(await this[_0x29c82c(0x43a)][_0x29c82c(0x574)](_0x2ff413))[_0x29c82c(0xd7)]};}catch(_0x470fef){return{'error':_0x470fef?.[_0x29c82c(0x1ee)]()};}}async[a0_0x22f2c8(0x239)](_0x50a2a4){const _0x1db17b=a0_0x22f2c8;try{let _0x3faadc=I(_0x50a2a4[_0x1db17b(0x297)]);return await this[_0x1db17b(0x43a)][_0x1db17b(0x239)](_0x3faadc)[_0x1db17b(0x47e)]();}catch{return null;}}},Lt=(0x0,vi['promisify'])(Ei[a0_0x22f2c8(0x19a)]),_o=S['get'](a0_0x22f2c8(0x6b1)),Os=class{constructor(){const _0x29860c=a0_0x22f2c8;this[_0x29860c(0x27f)]=new ve(Be,S),(!this['ipv6Prefix']||!this[_0x29860c(0x624)])&&_o&&this[_0x29860c(0x703)]()['then'](()=>{const _0x404b23=_0x29860c;console[_0x404b23(0x274)](_0x404b23(0x665)+this['ipv6Prefix']),console[_0x404b23(0x274)](_0x404b23(0x257)+this[_0x404b23(0x624)]);})[_0x29860c(0x552)](_0x51c86b=>{const _0x7d3333=_0x29860c;console[_0x7d3333(0x295)](_0x7d3333(0x3e0)+_0x51c86b[_0x7d3333(0x659)]);});}async[a0_0x22f2c8(0x703)](){const _0x2cac03=a0_0x22f2c8;try{let {stdout:_0x282429}=await Lt(_0x2cac03(0x243));console[_0x2cac03(0x274)](_0x2cac03(0x70b)+_0x282429);let _0xf18203=_0x282429[_0x2cac03(0x293)]('\x0a')[_0x2cac03(0x657)](_0x428a8d=>_0x428a8d['split']('\x20')[0x0])['filter'](_0x85cfd2=>!_0x85cfd2['includes']('lo')&&!_0x85cfd2[_0x2cac03(0x750)](_0x2cac03(0x24b))&&!_0x85cfd2[_0x2cac03(0x750)]('vir')&&!_0x85cfd2[_0x2cac03(0x750)]('wl')&&!_0x85cfd2['includes']('@'));if(console[_0x2cac03(0x274)](_0x2cac03(0x4c9)+_0xf18203),_0xf18203[_0x2cac03(0x4a3)]===0x0)throw new Error(_0x2cac03(0x4bc));this[_0x2cac03(0x624)]=_0xf18203[0x0];let {stdout:_0x1171e1}=await Lt('ip\x20-6\x20addr\x20show\x20dev\x20'+this['networkInterface']);console['log']('IPv6\x20addresses\x20detected:\x20'+_0x1171e1);let _0x481dfa=_0x1171e1['split']('\x0a')[_0x2cac03(0xe9)](_0x4f2b95=>_0x4f2b95[_0x2cac03(0x750)](_0x2cac03(0x30e))&&_0x4f2b95['includes'](_0x2cac03(0x390)));if(!_0x481dfa)throw new Error(_0x2cac03(0x101));let _0x44199a=_0x481dfa[_0x2cac03(0x349)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x44199a)throw new Error(_0x2cac03(0x351));let [_0xc47b8c,_0x9201d7,_0x5b1d60]=_0x44199a,_0x350606=Math[_0x2cac03(0x2a5)](Number(_0x5b1d60)/0x10),_0x43227d=Number(_0x5b1d60)%0x10,_0x30a412=_0x9201d7['split'](':')['slice'](0x0,_0x350606)[_0x2cac03(0x640)](':');if(_0x43227d>0x0){let _0x9459a4=_0x9201d7['split'](':')[_0x350606],_0x2cf14d=0xffff<<0x10-_0x43227d&0xffff,_0x2e83d5=(parseInt(_0x9459a4,0x10)&_0x2cf14d)[_0x2cac03(0x1ee)](0x10)[_0x2cac03(0x203)](0x4,'0');_0x30a412+=':'+_0x2e83d5;}this[_0x2cac03(0x68d)]=_0x30a412+':';}catch(_0x106d78){console[_0x2cac03(0x295)](_0x2cac03(0x6e2),_0x106d78);}}async['configureIPv6'](_0x952766){const _0x486448=a0_0x22f2c8;let _0x313342='ip\x20-6\x20addr\x20add\x20'+_0x952766+_0x486448(0xd9)+this[_0x486448(0x624)];try{await Lt(_0x313342),console[_0x486448(0x274)]('IPv6\x20address\x20configured:\x20'+_0x952766);}catch(_0x5360ea){console['error'](_0x486448(0x6e8)+_0x5360ea);}}async[a0_0x22f2c8(0x5e8)](_0x473a26){const _0x203a16=a0_0x22f2c8;let _0x41efe0=_0x203a16(0x165)+_0x473a26+_0x203a16(0xd9)+this[_0x203a16(0x624)];try{await Lt(_0x41efe0),console[_0x203a16(0x274)](_0x203a16(0x547)+_0x473a26);}catch(_0x1293dd){console['error'](_0x203a16(0x6ce)+_0x1293dd);}}[a0_0x22f2c8(0x6e9)](){const _0x5d9e91=a0_0x22f2c8;return _0x5d9e91(0x22f)['replace'](/X/g,()=>_0x5d9e91(0x549)[_0x5d9e91(0x14f)](Math[_0x5d9e91(0x2a5)](Math['random']()*0x10)));}['ip6eui'](_0x45b755,_0x3ce932){const _0x351b38=a0_0x22f2c8;let _0x41ab77=_0x3ce932[_0x351b38(0x293)](':');return _0x41ab77[0x0]=(parseInt(_0x41ab77[0x0],0x10)^0x2)[_0x351b38(0x1ee)](0x10)[_0x351b38(0x203)](0x2,'0'),''+_0x45b755+_0x41ab77[0x0]+_0x41ab77[0x1]+':'+_0x41ab77[0x2]+_0x351b38(0x44a)+_0x41ab77[0x3]+':'+_0x41ab77[0x4]+_0x41ab77[0x5];}[a0_0x22f2c8(0x5b7)](){const _0x38c500=a0_0x22f2c8;let _0x3736a7=this[_0x38c500(0x68d)];_0x3736a7['endsWith'](':')||(_0x3736a7+=':');let _0x43d218=this['randomMac']();return this['ip6eui'](_0x3736a7,_0x43d218);}[a0_0x22f2c8(0x402)](_0x170a38){const _0xaed655=a0_0x22f2c8;return new RegExp(_0xaed655(0x39d))[_0xaed655(0x73c)](_0x170a38);}async[a0_0x22f2c8(0x743)](_0x526e5b){const _0x560dad=a0_0x22f2c8;let _0x283968=[{'url':'https://ipv6.jsonip.com','parse':_0x41cae6=>_0x41cae6['ip']},{'url':_0x560dad(0x167),'parse':_0x265627=>_0x265627['ip']},{'url':_0x560dad(0x41e),'parse':_0x13e4bf=>_0x13e4bf[_0x560dad(0x181)]()},{'url':_0x560dad(0x670),'parse':_0x9db5f=>_0x9db5f[_0x560dad(0x181)]()}],_0x146900=_0x283968[Math[_0x560dad(0x2a5)](Math[_0x560dad(0x2de)]()*_0x283968[_0x560dad(0x4a3)])];try{let _0x37da31=await Ni[_0x560dad(0x66b)][_0x560dad(0x319)](_0x146900[_0x560dad(0x45f)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x526e5b}}),_0x4bffde=_0x146900[_0x560dad(0x7ca)](_0x37da31['data']);return _0x4bffde[_0x560dad(0x157)]()===_0x526e5b[_0x560dad(0x157)]()?(console['log'](_0x560dad(0x37a)+_0x526e5b),!0x0):(console['error'](_0x560dad(0x70f)+_0x526e5b+',\x20received\x20'+_0x4bffde),!0x1);}catch(_0x353f8e){return console[_0x560dad(0x295)]('Error\x20testing\x20IP\x20with\x20'+_0x146900[_0x560dad(0x45f)]+':\x20'+_0x353f8e['message']),!0x1;}}async[a0_0x22f2c8(0x3e2)](_0xa1c825,_0x17c935){const _0x26ed72=a0_0x22f2c8;if(!this[_0x26ed72(0x68d)]||!this[_0x26ed72(0x624)])return console[_0x26ed72(0x295)](_0x26ed72(0x461)),null;let _0x42f62c;do _0x42f62c=this[_0x26ed72(0x5b7)](),console[_0x26ed72(0x274)]('Generated\x20IPv6:\x20'+_0x42f62c);while(!await this[_0x26ed72(0x39b)](_0x42f62c));await this[_0x26ed72(0x3cc)](_0x42f62c),console[_0x26ed72(0x274)](_0x26ed72(0x1a5)+_0x42f62c);let _0x519491={'_id':_0xa1c825+'-'+_0x17c935,'ip':_0x42f62c},_0x2b9c3c=await this[_0x26ed72(0x27f)][_0x26ed72(0x672)](_0x519491,_0x519491[_0x26ed72(0x286)]);return console[_0x26ed72(0x274)](_0x26ed72(0x1f9)+_0x2b9c3c),_0x42f62c;}async[a0_0x22f2c8(0x39b)](_0x2f77f5){const _0xc6f276=a0_0x22f2c8;return this[_0xc6f276(0x402)](_0x2f77f5)?!await this['cacheInstanceRepository'][_0xc6f276(0x239)]({'where':{'ip':_0x2f77f5}}):!0x1;}async['removeIPv6ById'](_0x190df4,_0x54982b){const _0x206044=a0_0x22f2c8;let _0x47ae86=_0x190df4+'-'+_0x54982b,_0x235009=await this[_0x206044(0x27f)]['findOne']({'where':{'_id':_0x47ae86}});_0x235009&&_0x235009['ip']&&(await this[_0x206044(0x5e8)](_0x235009['ip']),await this['cacheInstanceRepository'][_0x206044(0x574)]({'where':{'_id':_0x47ae86}}));}},xo=new Os(),ae=xo,ks=a0_0x22f2c8(0x416),_i,pe=null,Oa=null,Do=0x3,Po=null,$i=S[a0_0x22f2c8(0x319)](a0_0x22f2c8(0x5d0))[a0_0x22f2c8(0x15f)][a0_0x22f2c8(0x119)],Ri=S['get'](a0_0x22f2c8(0x6b1));async function ko(){const _0x39ceda=a0_0x22f2c8;let _0x301022=await Ee['findOne']();pe=_0x301022?.[_0x39ceda(0x6a4)]??null,Po=_0x301022?.[_0x39ceda(0x4f5)]??null,ks=_0x301022?.[_0x39ceda(0x259)]??_0x39ceda(0x416),_i=_0x301022?.[_0x39ceda(0x632)]??W??_0x39ceda(0x77a);}async function Lo(){await ko();}Lo();var Ft={},$e=class u{constructor(_0x3afbcd,_0x400a9d,_0x3df226){const _0x34ec76=a0_0x22f2c8;this[_0x34ec76(0x53f)]=_0x3afbcd,this[_0x34ec76(0x25f)]=_0x400a9d,this[_0x34ec76(0x70e)]=_0x3df226,this[_0x34ec76(0x1ed)]=null,this['logger']=new $(u[_0x34ec76(0x2cb)]),this['instance']={},this[_0x34ec76(0x7c5)]={},this[_0x34ec76(0x6b5)]={'state':'close'},this[_0x34ec76(0x409)]=(0x0,U['join'])(ne,_0x34ec76(0x60a)),this['msgRetryCounterCache']=new Ps['default'](),this['userDevicesCache']=new Ps[(_0x34ec76(0x66b))](),this['endSession']=!0x1,this[_0x34ec76(0xd8)]={'status.instance':'/wa-connection-update','connection.update':_0x34ec76(0x19d),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x34ec76(0x72e),'send.message':_0x34ec76(0x72e),'messages.update':'/wa-message-update','group.upsert':_0x34ec76(0x7a9),'group.update':_0x34ec76(0x7a9),'group-participants.update':_0x34ec76(0x7a9),'messages.set':_0x34ec76(0xde),'contacts.set':_0x34ec76(0x51e),'contacts.upsert':'/wa-contacts','contacts.update':_0x34ec76(0x51e),'presence.update':'/wa-presence','chats.set':_0x34ec76(0xd3),'chats.update':_0x34ec76(0xd3),'chats.upsert':_0x34ec76(0xd3),'chats.delete':_0x34ec76(0xd3)},this[_0x34ec76(0x3ca)]=0x0,this[_0x34ec76(0x2d7)]=[],this[_0x34ec76(0x6e6)]=0xea60,this['isRunning']=!0x1,this[_0x34ec76(0x690)]={'chats.upsert':async(_0x34bf61,_0x2106a4)=>{const _0x1fb390=_0x34ec76;let _0x32f524=[];for await(let _0x4442fa of _0x34bf61)_0x32f524['push']({'_id':_0x4442fa['id'],'owner':this[_0x1fb390(0x31b)][_0x1fb390(0x699)],'group':_0x4442fa['id'][_0x1fb390(0x503)](_0x1fb390(0x227)),'name':_0x4442fa[_0x1fb390(0x2cb)]||_0x4442fa[_0x1fb390(0x200)]||null,'contactname':null,'lastmsg':_0x4442fa['conversationTimestamp']&&_0x4442fa['conversationTimestamp'][_0x1fb390(0x1ee)]()[_0x1fb390(0x4a3)]<0xd?_0x4442fa[_0x1fb390(0x94)]*0x3e8:_0x4442fa[_0x1fb390(0x94)]||null,'archived':_0x4442fa['archived']||!0x1,'unreadcount':_0x4442fa[_0x1fb390(0x695)]||0x0,'ephemeralExpiration':_0x4442fa[_0x1fb390(0x3d1)]||0x0});this['sendDataWebhook'](_0x1fb390(0x6dd),_0x32f524);},'chats.update':async(_0x1f893e,_0x132290)=>{const _0x1bd6dd=_0x34ec76;for(let _0x4d9780 of _0x1f893e){let _0x3f900a={'_id':_0x4d9780['id'],'owner':this[_0x1bd6dd(0x31b)]['wuid'],'archived':_0x4d9780[_0x1bd6dd(0x3ac)],'muteEndTime':_0x4d9780[_0x1bd6dd(0x3a9)],'ephemeralExpiration':_0x4d9780['ephemeralExpiration']},_0x6fa8ad=!0x1,_0x259cf2={};_0x3f900a[_0x1bd6dd(0x3ac)]!=null&&(this['logger'][_0x1bd6dd(0x470)](this[_0x1bd6dd(0x12b)]+'\x20('+this[_0x1bd6dd(0x31b)][_0x1bd6dd(0x699)]+_0x1bd6dd(0x494)+_0x4d9780['id']+_0x1bd6dd(0x72f)+_0x4d9780[_0x1bd6dd(0x3ac)]),_0x6fa8ad=!0x0,_0x259cf2['archived']=_0x4d9780[_0x1bd6dd(0x3ac)]),'muteEndTime'in _0x4d9780&&(this[_0x1bd6dd(0x4ad)][_0x1bd6dd(0x470)](this[_0x1bd6dd(0x12b)]+'\x20('+this[_0x1bd6dd(0x31b)]['wuid']+_0x1bd6dd(0x520)+_0x4d9780['id']+_0x1bd6dd(0x72f)+(_0x4d9780[_0x1bd6dd(0x3a9)]??'0')),_0x6fa8ad=!0x0,_0x259cf2[_0x1bd6dd(0x3a9)]=_0x4d9780[_0x1bd6dd(0x3a9)]??0x0),_0x1bd6dd(0x3d1)in _0x4d9780&&(this[_0x1bd6dd(0x4ad)][_0x1bd6dd(0x470)](this[_0x1bd6dd(0x12b)]+'\x20('+this[_0x1bd6dd(0x31b)][_0x1bd6dd(0x699)]+_0x1bd6dd(0x4d5)+_0x4d9780['id']+_0x1bd6dd(0x72f)+(_0x4d9780['ephemeralExpiration']!==void 0x0?_0x4d9780[_0x1bd6dd(0x3d1)]:_0x1bd6dd(0x138))),_0x259cf2['ephemeralExpiration']=_0x4d9780[_0x1bd6dd(0x3d1)]===null?0x0:_0x4d9780[_0x1bd6dd(0x3d1)],_0x6fa8ad=!0x0);let _0x6c7c20;_0x6fa8ad&&(_0x6c7c20=await this[_0x1bd6dd(0x70e)][_0x1bd6dd(0x294)][_0x1bd6dd(0x365)]({'where':{'_id':_0x4d9780['id']}},_0x259cf2,this['instance'][_0x1bd6dd(0x699)])),_0x6c7c20&&J(this[_0x1bd6dd(0x12b)],_0x1bd6dd(0x24f),{'chat':_0x6c7c20});}},'chats.delete':async _0x527e57=>{const _0x4560ee=_0x34ec76;for(let _0x28704b of _0x527e57)if(_0x28704b[_0x4560ee(0x503)](_0x4560ee(0x227))){await this[_0x4560ee(0x70e)][_0x4560ee(0x294)][_0x4560ee(0x192)]({'where':{'_id':_0x28704b}},this['instance']['wuid']);let _0x3f1038={'where':{'key':{'remoteJid':_0x28704b}}};await this[_0x4560ee(0x70e)][_0x4560ee(0x659)]['delete'](_0x3f1038,this[_0x4560ee(0x31b)][_0x4560ee(0x699)]);}else{await this[_0x4560ee(0x70e)][_0x4560ee(0x294)][_0x4560ee(0x365)]({'where':{'_id':_0x28704b}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4560ee(0x31b)][_0x4560ee(0x699)]);let _0x4224c7={'where':{'key':{'remoteJid':_0x28704b}}};await this[_0x4560ee(0x70e)][_0x4560ee(0x659)][_0x4560ee(0x192)](_0x4224c7,this[_0x4560ee(0x31b)]['wuid']);}this['sendDataWebhook'](_0x4560ee(0x240),[..._0x527e57]);}},this[_0x34ec76(0x32d)]={'contacts.upsert':async(_0x4a4bff,_0x12cbfb)=>{const _0x3c86bd=_0x34ec76;let _0x11be6b=await this[_0x3c86bd(0x70e)][_0x3c86bd(0x35d)][_0x3c86bd(0xe9)]({'where':{}},this[_0x3c86bd(0x31b)]['wuid']),_0x473cda=[];for await(let _0x2bea04 of _0x4a4bff)_0x11be6b['find'](_0x57d2c3=>_0x57d2c3['_id']===_0x2bea04['id'])||_0x473cda[_0x3c86bd(0x6b3)]({'_id':_0x2bea04['id'],'pushName':_0x2bea04?.[_0x3c86bd(0x2cb)]||_0x2bea04?.[_0x3c86bd(0x76e)],'owner':this[_0x3c86bd(0x31b)]['wuid']});this[_0x3c86bd(0x1d3)](_0x3c86bd(0x4b4),_0x473cda),await this['repository'][_0x3c86bd(0x35d)]['insert'](_0x473cda);},'contacts.update':async(_0x58be3f,_0x940b83)=>{const _0x1f2c33=_0x34ec76;let _0x463bab=[];for await(let _0x16664e of _0x58be3f)_0x463bab['push']({'_id':_0x16664e['id'],'pushName':_0x16664e?.[_0x1f2c33(0x2cb)]??_0x16664e?.[_0x1f2c33(0x76e)],'owner':this['instance']['wuid']});this[_0x1f2c33(0x1d3)]('contacts.update',_0x463bab);}},this[_0x34ec76(0x33f)]={'messaging-history.set':async({messages:_0x415579,chats:_0x2ceaf3,isLatest:_0x213344},_0x464c15)=>{const _0x1038e0=_0x34ec76;if(_0x213344){let _0x4e22cd=await Promise['all'](_0x2ceaf3[_0x1038e0(0x657)](async _0x4264ee=>({'_id':_0x4264ee['id'],'owner':this['instance'][_0x1038e0(0x699)],'group':_0x4264ee['id'][_0x1038e0(0x503)](_0x1038e0(0x227)),'name':_0x4264ee[_0x1038e0(0x2cb)]||_0x4264ee[_0x1038e0(0x200)]||_0x4264ee[_0x1038e0(0x38c)]||null,'contactname':null,'lastmsg':_0x4264ee[_0x1038e0(0x94)]&&_0x4264ee[_0x1038e0(0x94)][_0x1038e0(0x1ee)]()[_0x1038e0(0x4a3)]<0xd?_0x4264ee[_0x1038e0(0x94)]*0x3e8:_0x4264ee['conversationTimestamp']||null,'archived':_0x4264ee['archived']||!0x1,'unreadcount':_0x4264ee[_0x1038e0(0x695)]||0x0,'ephemeralExpiration':_0x4264ee['ephemeralExpiration']||0x0,'muteEndTime':_0x4264ee[_0x1038e0(0x3a9)]||0x0})));this['sendDataWebhook'](_0x1038e0(0x4be),_0x4e22cd),await this['upsertChats'](_0x4e22cd,_0x464c15);}let _0x4073b4=[],_0x16e834=Date[_0x1038e0(0x4f1)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2136eb]of Object[_0x1038e0(0x6ff)](_0x415579)){if(_0x2136eb['message']?.[_0x1038e0(0x17e)]||_0x2136eb[_0x1038e0(0x659)]?.[_0x1038e0(0xa8)]||!_0x2136eb[_0x1038e0(0x659)]||_0x2136eb['key'][_0x1038e0(0x22b)]===_0x1038e0(0x290)||(Ds[_0x1038e0(0x66b)]['isLong'](_0x2136eb?.[_0x1038e0(0x4da)])&&(_0x2136eb[_0x1038e0(0x4da)]=_0x2136eb[_0x1038e0(0x4da)]?.[_0x1038e0(0x45c)]()),_0x2136eb['messageTimestamp']&&_0x2136eb[_0x1038e0(0x4da)][_0x1038e0(0x1ee)]()[_0x1038e0(0x4a3)]<0xd&&(_0x2136eb[_0x1038e0(0x4da)]=_0x2136eb[_0x1038e0(0x4da)]*0x3e8),_0x2136eb[_0x1038e0(0x4da)]<_0x16e834))continue;let _0x28c6eb=(0x0,w[_0x1038e0(0x4e9)])(_0x2136eb['message']),_0xcfbc4b=(0x0,w[_0x1038e0(0x284)])(_0x28c6eb),{message_normalized:_0x28a2ca}=this[_0x1038e0(0x5a1)](_0x28c6eb,_0xcfbc4b,null);Object[_0x1038e0(0x158)](_0x28a2ca)[_0x1038e0(0x4a3)]>0x0&&_0x4073b4['push']({'_id':_0x2136eb[_0x1038e0(0x41f)]['id'],'key':_0x2136eb[_0x1038e0(0x41f)],'pushName':_0x2136eb['pushName'],'participant':_0x2136eb[_0x1038e0(0x4fd)],'message':_0x28c6eb,'messageType':_0xcfbc4b,'message_normalized':{'key':_0x2136eb[_0x1038e0(0x41f)],'pushName':_0x2136eb[_0x1038e0(0x395)],'messageTimestamp':_0x2136eb['messageTimestamp'],..._0x28a2ca},'messageTimestamp':_0x2136eb['messageTimestamp'],'owner':this[_0x1038e0(0x31b)][_0x1038e0(0x699)]});}_0x464c15[_0x1038e0(0x205)]&&_0x4073b4[_0x1038e0(0x4a3)]>0x0&&(this[_0x1038e0(0x4ad)]['verbose'](this['instanceName']+'\x20('+this[_0x1038e0(0x31b)]['wuid']+_0x1038e0(0x12a)+_0x4073b4[_0x1038e0(0x4a3)]+_0x1038e0(0x6a6)+this[_0x1038e0(0x31b)][_0x1038e0(0x699)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x1038e0(0x659)][_0x1038e0(0xff)]([..._0x4073b4],this[_0x1038e0(0x31b)]['wuid'])),this[_0x1038e0(0x1d3)]('messages.set',[..._0x4073b4]),_0x415579=void 0x0;},'messages.upsert':async({messages:_0x4c6991,type:_0x47e6b9},_0x480d12)=>{const _0x327b48=_0x34ec76;for(let _0xa7d5dc of _0x4c6991){if(this[_0x327b48(0x7c5)]?.[_0x327b48(0x6a7)]&&_0xa7d5dc[_0x327b48(0x41f)][_0x327b48(0x22b)][_0x327b48(0x750)]('@g.us')){this[_0x327b48(0x4ad)][_0x327b48(0x470)](this[_0x327b48(0x12b)]+'\x20('+this[_0x327b48(0x31b)][_0x327b48(0x699)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x47e6b9!==_0x327b48(0x1eb)||!_0xa7d5dc?.[_0x327b48(0x659)]||_0xa7d5dc['message']?.[_0x327b48(0x17e)]||_0xa7d5dc['message']['senderKeyDistributionMessage']||_0xa7d5dc[_0x327b48(0x41f)][_0x327b48(0x22b)]==='status@broadcast')return;let _0x366416=null,_0x166e4e=null;if(_0xa7d5dc[_0x327b48(0x1fa)]&&_0xa7d5dc[_0x327b48(0x1fa)][0x0]==='Message\x20absent\x20from\x20node'){console['error']('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),Ft[_0xa7d5dc['key']['id']]=_0xa7d5dc,this[_0x327b48(0x71a)](_0xa7d5dc,0x0);return;}Ft[_0xa7d5dc[_0x327b48(0x41f)]['id']]&&(console['error'](_0x327b48(0x615)),delete Ft[_0xa7d5dc['key']['id']]);try{_0x366416=await this[_0x327b48(0x5db)](_0xa7d5dc),_0x166e4e=_0x366416?_0x366416[_0x327b48(0x640)](','):null;}catch(_0x5cc0e5){this[_0x327b48(0x4ad)][_0x327b48(0x470)](this['instanceName']+'\x20('+this['instance'][_0x327b48(0x699)]+_0x327b48(0x12a)+(_0x5cc0e5 instanceof Error?_0x5cc0e5[_0x327b48(0x659)]:JSON[_0x327b48(0x2e3)](_0x5cc0e5,null,0x2))),_0x166e4e=_0x327b48(0x5bd);}this['client'][_0x327b48(0x173)](_0x327b48(0xd6)),Ds['default'][_0x327b48(0x78b)](_0xa7d5dc[_0x327b48(0x4da)])&&(_0xa7d5dc[_0x327b48(0x4da)]=_0xa7d5dc['messageTimestamp']?.[_0x327b48(0x45c)]()),_0xa7d5dc[_0x327b48(0x4da)]&&_0xa7d5dc[_0x327b48(0x4da)][_0x327b48(0x1ee)]()[_0x327b48(0x4a3)]<0xd&&(_0xa7d5dc[_0x327b48(0x4da)]=_0xa7d5dc[_0x327b48(0x4da)]*0x3e8);let _0x52327a=_0xa7d5dc[_0x327b48(0x659)],_0x30fe9f=(0x0,w['normalizeMessageContent'])(_0x52327a),_0x4cf61b=(0x0,w[_0x327b48(0x284)])(_0x30fe9f),{messageContent:_0x5e7ccd,message_normalized:_0x4beed3}=this[_0x327b48(0x5a1)](_0x30fe9f,_0x4cf61b,_0x166e4e);_0x4cf61b==='protocolMessage'&&_0x5e7ccd?.['editedMessage']&&(_0x4cf61b=_0x327b48(0x1fe));let _0x554ca8,_0x1d79c0=_0xa7d5dc[_0x327b48(0x41f)][_0x327b48(0x22b)][_0x327b48(0x503)]('@g.us');if(_0xa7d5dc[_0x327b48(0x41f)]['fromMe'])_0x554ca8=this['instance'][_0x327b48(0x333)];else{let _0x10a54d=_0x1d79c0?_0xa7d5dc[_0x327b48(0x41f)][_0x327b48(0x4fd)]:_0xa7d5dc[_0x327b48(0x41f)][_0x327b48(0x22b)];_0x554ca8=(await this[_0x327b48(0x64f)](_0x10a54d,_0xa7d5dc[_0x327b48(0x395)],!0x1))['cachedContact'][_0x327b48(0x154)];}let _0x2bda75={'_id':_0xa7d5dc[_0x327b48(0x41f)]['id'],'key':_0xa7d5dc[_0x327b48(0x41f)],'isGroup':_0x1d79c0,'profilePictureUrl':_0x554ca8,'pushName':_0xa7d5dc[_0x327b48(0x395)],'message':_0x30fe9f,'messageType':_0x4cf61b,'message_normalized':{'key':_0xa7d5dc[_0x327b48(0x41f)],'pushName':_0xa7d5dc['pushName'],'messageTimestamp':_0xa7d5dc[_0x327b48(0x4da)],'source':(0x0,w[_0x327b48(0x3c7)])(_0xa7d5dc[_0x327b48(0x41f)]['id']),..._0x4beed3},'messageTimestamp':_0xa7d5dc[_0x327b48(0x4da)],'owner':this[_0x327b48(0x31b)][_0x327b48(0x699)],'source':(0x0,w[_0x327b48(0x3c7)])(_0xa7d5dc[_0x327b48(0x41f)]['id']),'expiration':_0x5e7ccd?.[_0x327b48(0x26b)]?.[_0x327b48(0x17f)]||0x0};_0x5e7ccd||(this['logger']['error'](_0x327b48(0x366)),this['logger'][_0x327b48(0x295)](_0x2bda75)),this[_0x327b48(0x4ad)]['log'](this[_0x327b48(0x12b)]+'\x20('+this[_0x327b48(0x31b)][_0x327b48(0x699)]+'):\x20'+(_0x2bda75['key']?.[_0x327b48(0x5ea)]?_0x327b48(0x4b1):_0x327b48(0x1ba))+'\x20['+_0x2bda75['key']?.[_0x327b48(0x22b)][_0x327b48(0x16d)](_0x327b48(0x3c2),'')+_0x327b48(0x655)+_0x2bda75[_0x327b48(0x376)]+')'),_0x2bda75[_0x327b48(0x1d6)]?.[_0x327b48(0x20c)]&&this['logger'][_0x327b48(0x274)](_0xa7d5dc[_0x327b48(0x41f)]['id']+':\x20'+_0x2bda75['message_normalized']?.[_0x327b48(0x20c)]),await this[_0x327b48(0x70e)][_0x327b48(0x659)][_0x327b48(0xff)]([_0x2bda75],this['instance']['wuid']),this[_0x327b48(0x1d3)](_0x327b48(0x27a),_0x2bda75),J(this[_0x327b48(0x12b)],_0x327b48(0x282),{'message':_0x2bda75}),_0xa7d5dc[_0x327b48(0x41f)][_0x327b48(0x22b)]!==_0x327b48(0x290)&&await this[_0x327b48(0x37b)](_0x480d12,_0x2bda75,_0x327b48(0x435));}},'messages.update':async(_0x22cc85,_0x57a936)=>{const _0x370635=_0x34ec76;let _0x65d69e={0x0:_0x370635(0x2c2),0x1:_0x370635(0x559),0x2:'SERVER_ACK',0x3:_0x370635(0x61c),0x4:_0x370635(0x2f3),0x5:_0x370635(0x1da)};for await(let {key:_0x195f0c,update:_0x5f1188}of _0x22cc85){if(this[_0x370635(0x7c5)]?.[_0x370635(0x6a7)]&&_0x195f0c[_0x370635(0x22b)][_0x370635(0x750)]('@g.us')){this[_0x370635(0x4ad)][_0x370635(0x470)](this['instanceName']+'\x20('+this[_0x370635(0x31b)][_0x370635(0x699)]+_0x370635(0x2e5));return;}if(_0x195f0c['remoteJid']!==_0x370635(0x290)){let _0x316713=Date['now'](),_0x55157a;_0x5f1188[_0x370635(0x659)]===null&&_0x5f1188['status']===void 0x0?_0x55157a=_0x370635(0x71b):_0x55157a=_0x65d69e[_0x5f1188['status']];let _0x3f80b4=_0x195f0c[_0x370635(0x22b)][_0x370635(0x16d)](/:\d{1,2}@/g,'@'),_0x3ed9fc={..._0x195f0c,'remoteJid':_0x3f80b4,'status':_0x55157a,'datetime':_0x316713,'owner':this[_0x370635(0x31b)][_0x370635(0x699)]};this['sendDataWebhook'](_0x370635(0x796),_0x3ed9fc),await this['updateMessage'](_0x195f0c,_0x3ed9fc);}}},'labels.association':async({type:_0x27321d,association:_0x53ff97})=>{const _0x37fbbe=_0x34ec76;if(_0x53ff97[_0x37fbbe(0x742)]===_0x37fbbe(0x218)){let _0x4b09c8,_0x8b24fb=0x0;for(;!_0x4b09c8&&_0x8b24fb<this[_0x37fbbe(0x5d2)];)_0x4b09c8=await this[_0x37fbbe(0x70e)][_0x37fbbe(0x294)][_0x37fbbe(0x239)]({'where':{'_id':_0x53ff97[_0x37fbbe(0x208)]}},this[_0x37fbbe(0x31b)]['wuid']),_0x4b09c8||(_0x8b24fb++,this['logger'][_0x37fbbe(0x778)](this[_0x37fbbe(0x12b)]+'\x20('+this[_0x37fbbe(0x31b)]['wuid']+_0x37fbbe(0x6f5)+_0x53ff97[_0x37fbbe(0x208)]+_0x37fbbe(0x3d5)+this[_0x37fbbe(0x2da)]+_0x37fbbe(0x5ee)+_0x8b24fb+'/'+this[_0x37fbbe(0x5d2)]+')'),await this[_0x37fbbe(0x3bb)](this[_0x37fbbe(0x2da)]));if(!_0x4b09c8){this[_0x37fbbe(0x4ad)]['error'](_0x37fbbe(0xb1)+_0x53ff97[_0x37fbbe(0x208)]+_0x37fbbe(0x3e8)+this[_0x37fbbe(0x5d2)]+_0x37fbbe(0x1e9));return;}switch(_0x27321d){case _0x37fbbe(0xda):console[_0x37fbbe(0x274)](_0x53ff97),await this[_0x37fbbe(0x70e)][_0x37fbbe(0x294)][_0x37fbbe(0x365)]({'where':{'_id':_0x53ff97[_0x37fbbe(0x208)]}},{'leadInfo.etiquetas':_0x53ff97[_0x37fbbe(0x721)]},this[_0x37fbbe(0x31b)][_0x37fbbe(0x699)],void 0x0,'$addToSet');break;case'remove':console['log'](_0x53ff97),await this['repository'][_0x37fbbe(0x294)][_0x37fbbe(0x365)]({'where':{'_id':_0x53ff97['chatId']}},{'leadInfo.etiquetas':_0x53ff97[_0x37fbbe(0x721)]},this[_0x37fbbe(0x31b)]['wuid'],void 0x0,_0x37fbbe(0x69c));break;default:this['logger']['error'](_0x37fbbe(0x79a)+_0x27321d+']');}}},'labels.edit':async _0x43eeee=>{const _0x34fa31=_0x34ec76;if(!_0x43eeee||!_0x43eeee['id']){this['logger'][_0x34fa31(0x295)](_0x34fa31(0x74c));return;}if(!_0x43eeee[_0x34fa31(0x5ba)]){let _0x4ba555=[_0x34fa31(0x43b),_0x34fa31(0x37c),_0x34fa31(0x103),_0x34fa31(0x19c),_0x34fa31(0x5c8),_0x34fa31(0x12d),_0x34fa31(0x6c4),_0x34fa31(0x17a),_0x34fa31(0x717),'#d8e651','#01d0e2','#ffc5c7',_0x34fa31(0x730),_0x34fa31(0x393),_0x34fa31(0x638),'#83e421',_0x34fa31(0x3d9),_0x34fa31(0x22a),_0x34fa31(0x2b9),_0x34fa31(0x6b7)],_0x3e10eb;typeof _0x43eeee[_0x34fa31(0x51b)]==_0x34fa31(0x375)&&_0x43eeee['color']>=0x0&&_0x43eeee[_0x34fa31(0x51b)]<_0x4ba555[_0x34fa31(0x4a3)]?_0x3e10eb=_0x4ba555[_0x43eeee[_0x34fa31(0x51b)]]:(this[_0x34fa31(0x4ad)]['error'](_0x34fa31(0xf1)+_0x43eeee[_0x34fa31(0x51b)]),_0x3e10eb='#000000');let _0x4febf1={'_id':_0x43eeee['id'],'colorHex':_0x3e10eb,'color':_0x43eeee?.[_0x34fa31(0x51b)],'name':_0x43eeee?.[_0x34fa31(0x2cb)],'owner':this[_0x34fa31(0x31b)][_0x34fa31(0x699)]};await this[_0x34fa31(0x70e)]['label']['updateOne']({'where':{'_id':_0x43eeee['id']}},_0x4febf1,this[_0x34fa31(0x31b)][_0x34fa31(0x699)]),this[_0x34fa31(0x4ad)][_0x34fa31(0x778)](this[_0x34fa31(0x12b)]+'\x20('+this[_0x34fa31(0x31b)][_0x34fa31(0x699)]+_0x34fa31(0x2f5)+_0x43eeee);}_0x43eeee['deleted']&&(await this[_0x34fa31(0x70e)][_0x34fa31(0x585)][_0x34fa31(0x192)]({'where':{'_id':_0x43eeee['id']}},this['instance'][_0x34fa31(0x699)]),this['logger'][_0x34fa31(0x778)](_0x34fa31(0x112)+_0x43eeee['id']));}},this[_0x34ec76(0x256)]={'groups.upsert':async _0x2f9285=>{const _0x3c6666=_0x34ec76;this[_0x3c6666(0x7c5)]?.[_0x3c6666(0x6a7)]||this[_0x3c6666(0x1d3)]('groups.upsert',_0x2f9285);for(let _0x487718 of _0x2f9285)await this['updateGroupWebhook'](_0x487718);},'groups.update':async _0x3ea0d0=>{const _0x7b0bbf=_0x34ec76;this[_0x7b0bbf(0x7c5)]?.[_0x7b0bbf(0x6a7)]||this[_0x7b0bbf(0x1d3)](_0x7b0bbf(0x448),_0x3ea0d0);for(let _0x548b02 of _0x3ea0d0)await this[_0x7b0bbf(0x31c)](_0x548b02);},'group-participants.update':async _0x33bb7c=>{const _0x4817df=_0x34ec76;this['localWebhook']?.['groups_ignore']||this[_0x4817df(0x1d3)]('group-participants.update',_0x33bb7c),await this[_0x4817df(0x610)](_0x33bb7c);}},this[_0x34ec76(0x5d2)]=0x5,this[_0x34ec76(0x2da)]=0x1388,this[_0x34ec76(0x28d)]=0x0,this['processPollUpdateMessage']=async _0xba638a=>{const _0x4ff3b6=_0x34ec76;if(_0xba638a[_0x4ff3b6(0x659)]?.[_0x4ff3b6(0x485)]){let _0x2b3f00=await this[_0x4ff3b6(0x500)](_0xba638a[_0x4ff3b6(0x659)][_0x4ff3b6(0x485)]['pollCreationMessageKey'],!0x0);if(_0x2b3f00){let _0x4c0e31=_0x2b3f00[_0x4ff3b6(0x41f)][_0x4ff3b6(0x5ea)]?this[_0x4ff3b6(0x31b)][_0x4ff3b6(0x699)]+_0x4ff3b6(0x3c2):_0x2b3f00[_0x4ff3b6(0x41f)][_0x4ff3b6(0x4fd)]||_0x2b3f00[_0x4ff3b6(0x41f)][_0x4ff3b6(0x22b)],_0xb6063e=_0x2b3f00[_0x4ff3b6(0x41f)]['id'],_0x5272b0=_0x2b3f00['message'],_0x1c26a4=Buffer[_0x4ff3b6(0x59a)](_0x5272b0['messageContextInfo'][_0x4ff3b6(0x64e)]['toString'](_0x4ff3b6(0xc1)),'hex'),_0x3435d1=(0x0,w['decryptPollVote'])(_0xba638a[_0x4ff3b6(0x659)][_0x4ff3b6(0x485)][_0x4ff3b6(0x41b)],{'pollCreatorJid':_0x4c0e31,'pollMsgId':_0xb6063e,'pollEncKey':_0x1c26a4,'voterJid':_0xba638a[_0x4ff3b6(0x41f)]['fromMe']?this[_0x4ff3b6(0x31b)][_0x4ff3b6(0x699)]+'@s.whatsapp.net':_0xba638a[_0x4ff3b6(0x41f)][_0x4ff3b6(0x22b)]['endsWith'](_0x4ff3b6(0x2ec))?_0xba638a[_0x4ff3b6(0x41f)][_0x4ff3b6(0x4fd)]:_0xba638a['key'][_0x4ff3b6(0x22b)]}),_0x5ae248=[],_0x13d9d7=_0x3435d1[_0x4ff3b6(0x607)][_0x4ff3b6(0x657)](_0x27b798=>Buffer['from'](_0x27b798)[_0x4ff3b6(0x1ee)](_0x4ff3b6(0xc1)));for(let {optionName:_0xdf2054}of _0x5272b0[_0x4ff3b6(0x38b)]?.[_0x4ff3b6(0x73a)]||_0x5272b0['pollCreationMessageV3']?.[_0x4ff3b6(0x73a)]||_0x5272b0[_0x4ff3b6(0x328)]?.[_0x4ff3b6(0x73a)])_0x13d9d7[_0x4ff3b6(0x418)]((0x0,w['sha256'])(Buffer[_0x4ff3b6(0x59a)](_0xdf2054))[_0x4ff3b6(0x1ee)](_0x4ff3b6(0xc1)))>-0x1&&_0x5ae248[_0x4ff3b6(0x6b3)](_0xdf2054);return _0x5ae248;}}return null;},this[_0x34ec76(0x5a1)]=(_0x63eaf4,_0x47624c,_0x188fc9)=>{const _0x3d20c7=_0x34ec76;try{let _0x2df1fb=_0x63eaf4?(0x0,w['extractMessageContent'])(_0x63eaf4)[_0x47624c]:void 0x0,_0x590b56={},_0x191796=null,_0x83f966=null,_0x1755c7=null;_0x47624c==='protocolMessage'&&_0x2df1fb?.[_0x3d20c7(0x1fe)]&&(_0x47624c=(0x0,w[_0x3d20c7(0x284)])(_0x2df1fb[_0x3d20c7(0x1fe)]),_0x191796=_0x63eaf4[_0x3d20c7(0x17e)][_0x3d20c7(0x41f)]['id'],_0x2df1fb=_0x63eaf4[_0x3d20c7(0x17e)][_0x3d20c7(0x1fe)][_0x47624c]),_0x63eaf4[_0x47624c]?.[_0x3d20c7(0x26b)]?.['stanzaId']&&_0x63eaf4[_0x47624c]?.[_0x3d20c7(0x26b)]?.[_0x3d20c7(0x104)]&&(_0x83f966=_0x63eaf4[_0x47624c][_0x3d20c7(0x26b)]['stanzaId']),_0x63eaf4[_0x3d20c7(0x304)]&&(_0x1755c7=_0x63eaf4[_0x3d20c7(0x304)][_0x3d20c7(0x41f)]['id']);let _0x15fb79;if(_0x2df1fb&&typeof _0x2df1fb==_0x3d20c7(0x72b)&&'pollCreationMessageKey'in _0x2df1fb&&({pollCreationMessageKey:_0x15fb79}=_0x2df1fb),_0x47624c===_0x3d20c7(0x38b)||_0x47624c===_0x3d20c7(0x328)||_0x47624c==='pollCreationMessageV3'){let _0x23b13f=_0x2df1fb['options']['map'](_0x51e396=>_0x51e396[_0x3d20c7(0x71e)])['join']('|');_0x590b56[_0x3d20c7(0x3a6)]=_0x23b13f;}let _0x51acea='';if(_0x2df1fb&&(_0x51acea+=_0x2df1fb[_0x3d20c7(0x2cb)]?_0x2df1fb[_0x3d20c7(0x2cb)]:'',_0x51acea+=_0x2df1fb[_0x3d20c7(0x4d2)]?'\x20'+_0x2df1fb['caption']:'',_0x51acea+=_0x2df1fb[_0x3d20c7(0x11e)]?'\x20'+_0x2df1fb[_0x3d20c7(0x11e)]:'',_0x51acea+=_0x2df1fb[_0x3d20c7(0x200)]?'\x20'+_0x2df1fb['displayName']:''),_0x47624c===_0x3d20c7(0x575)){_0x51acea=(_0x2df1fb['title']||'')+'\x0a'+(_0x2df1fb[_0x3d20c7(0x50b)]||'')+'\x0a'+(_0x2df1fb['footerText']||'');let _0x299831=this[_0x3d20c7(0x265)](_0x2df1fb[_0x3d20c7(0x4f8)]);_0x590b56[_0x3d20c7(0x3a6)]=_0x299831;}if(_0x47624c===_0x3d20c7(0x76a)&&(_0x188fc9=_0x2df1fb['title']),_0x2df1fb&&_0x2df1fb[_0x3d20c7(0x625)]){let _0x114a11=this[_0x3d20c7(0x130)](JSON[_0x3d20c7(0x2e3)](_0x2df1fb[_0x3d20c7(0x625)],null,0x2));_0x51acea=_0x51acea+'\x0a'+_0x114a11;}if(_0x2df1fb){let {sections:_0x29297f,listType:_0x5b2359,displayName:_0x3d405d,vcard:_0x374304,contactVcard:_0x346e0d,name:_0x74b60f,caption:_0x7c20d4,conversation:_0x1d9f61,pollCreationMessageKey:_0x1c7cf2,footerText:_0x599891,contentText:_0x485693,pageCount:_0x1d6f4a,headerType:_0x9c4076,isAvatar:_0x46c5db,isAnimated:_0x11a219,fallbackLc:_0x5d36c0,fallbackLg:_0x5ca442,namespace:_0x5186cc,elementName:_0x371eff,localizableParams:_0x4aa9bf,viewOnce:_0x4921c4,height:_0x309ac3,width:_0x4e7b63,key:_0x3ba38f,firstScanLength:_0x1319bd,firstScanSidecar:_0xbff87a,gifPlayback:_0x19108f,gifAttribution:_0x3d104d,midQualityFileSha256:_0x582e0c,scansSidecar:_0x14941f,streamingSidecar:_0x15a776,thumbnailHeight:_0x589484,thumbnailWidth:_0x4ee875,thumbnailEncSha256:_0xe28b4f,thumbnailDirectPath:_0xddd608,canonicalUrl:_0x567cb3,matchedText:_0x17b423,previewType:_0x50cef2,thumbnailSha256:_0xa0e5e0,deviceListMetadataVersion:_0x357df9,inviteLinkGroupTypeV2:_0x2b2ebd,interactiveAnnotations:_0x3ff198,scanLengths:_0x3bd224,jpegThumbnail:_0x46713c,url:_0x12bc00,mediaKeyTimestamp:_0x122783,waveform:_0x565a4d,stickerSentTs:_0x22fe73,firstFrameLength:_0x5e760b,fileEncSha256:_0xfa6161,contextInfo:_0x2d5876,firstFrameSidecar:_0x500d9f,directPath:_0x5dfb0,fileSha256:_0xd218cb,mediaKey:_0x1c97f8,senderTimestampMs:_0x1703e4,..._0x45075d}=_0x2df1fb;(_0x47624c==='listMessage'||_0x47624c==='listResponseMessage')&&(delete _0x45075d[_0x3d20c7(0x6a2)],delete _0x45075d[_0x3d20c7(0x50b)]),typeof _0x2df1fb=='string'?_0x590b56={'text':_0x2df1fb,'type':_0x47624c||_0x3d20c7(0x11e),..._0x191796&&{'edited':_0x191796},..._0x83f966&&{'quoted':_0x83f966},..._0x1755c7&&{'reaction':_0x1755c7}}:_0x590b56={'text':_0x51acea,..._0x45075d,..._0x47624c===_0x3d20c7(0x485)?{'poll_id':_0x2df1fb['pollCreationMessageKey']['id'],'quoted':_0x2df1fb[_0x3d20c7(0x1ec)]['id'],'vote':_0x188fc9}:{},..._0x47624c===_0x3d20c7(0x76a)?{'vote':_0x188fc9}:{},'type':_0x47624c,..._0x191796&&{'edited':_0x191796},..._0x83f966&&{'quoted':_0x83f966},..._0x1755c7&&{'reaction':_0x1755c7},...(_0x47624c==='pollCreationMessage'||_0x47624c===_0x3d20c7(0x328)||_0x47624c==='pollCreationMessageV3'||_0x47624c===_0x3d20c7(0x575))&&{'convertedOptions':_0x590b56['convertedOptions']}};}return{'messageType':_0x47624c,'messageContent':_0x2df1fb,'message_normalized':_0x590b56};}catch(_0x5b3b68){return this[_0x3d20c7(0x4ad)][_0x3d20c7(0x295)](_0x3d20c7(0x783)+_0x5b3b68),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x34ec76(0x414)]=[],(this['cleanStore'](),this[_0x34ec76(0x3b9)](),this[_0x34ec76(0x31b)][_0x34ec76(0x4ee)]={'count':0x0},this[_0x34ec76(0x31b)][_0x34ec76(0x234)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x3a30b9){const _0x4e76cf=a0_0x22f2c8;if(!_0x3a30b9){this[_0x4e76cf(0x31b)][_0x4e76cf(0x2cb)]=(0x0,Ai['v4'])();return;}this[_0x4e76cf(0x31b)]['name']=_0x3a30b9,this[_0x4e76cf(0x1d3)](_0x4e76cf(0xa6),{'instance':this['instance']['name'],'status':_0x4e76cf(0x7b3)});}get[a0_0x22f2c8(0x12b)](){const _0x45750a=a0_0x22f2c8;return this[_0x45750a(0x31b)][_0x45750a(0x2cb)];}get[a0_0x22f2c8(0x699)](){const _0x2e0854=a0_0x22f2c8;return this[_0x2e0854(0x31b)]['wuid'];}async[a0_0x22f2c8(0x443)](){const _0x567b64=a0_0x22f2c8;let _0x606254=this[_0x567b64(0x223)][_0x567b64(0x3f4)]?.[_0x567b64(0x2cb)]??this[_0x567b64(0x223)][_0x567b64(0x3f4)]?.[_0x567b64(0x76e)];if(!_0x606254){if(this['configService']['get'](_0x567b64(0x771))['ENABLED']){let _0x336a31=await R[_0x567b64(0x628)]()['db'](this['configService'][_0x567b64(0x319)](_0x567b64(0x771))[_0x567b64(0x2df)][_0x567b64(0x7c2)]+_0x567b64(0x732))[_0x567b64(0x5b1)](this[_0x567b64(0x12b)])[_0x567b64(0x239)]({'_id':'creds'});if(_0x336a31){let _0x20fa84=JSON[_0x567b64(0x7ca)](JSON[_0x567b64(0x2e3)](_0x336a31),w[_0x567b64(0x6ae)][_0x567b64(0x5c5)]);_0x606254=_0x20fa84['me']?.['name']||_0x20fa84['me']?.['verifiedName'];}}else{if((0x0,Le['existsSync'])((0x0,U['join'])(be,this[_0x567b64(0x12b)],_0x567b64(0x6ba)))){let _0x48bb6b=JSON[_0x567b64(0x7ca)]((0x0,Le[_0x567b64(0x641)])((0x0,U['join'])(be,this[_0x567b64(0x12b)],_0x567b64(0x6ba)),{'encoding':_0x567b64(0x5a9)}));_0x606254=_0x48bb6b['me']?.[_0x567b64(0x2cb)]||_0x48bb6b['me']?.[_0x567b64(0x76e)];}}}return _0x606254;}get[a0_0x22f2c8(0x333)](){const _0x504a9c=a0_0x22f2c8;return this[_0x504a9c(0x31b)][_0x504a9c(0x333)];}get[a0_0x22f2c8(0x1fb)](){const _0x1eb442=a0_0x22f2c8;return this['instance'][_0x1eb442(0x4ee)]?.['pairingCode']?{'pairingCode':this['instance']['qrcode']?.[_0x1eb442(0x1f7)]}:{'code':this[_0x1eb442(0x31b)][_0x1eb442(0x4ee)]?.['code'],'base64':this[_0x1eb442(0x31b)][_0x1eb442(0x4ee)]?.[_0x1eb442(0x275)]};}async[a0_0x22f2c8(0x668)](){const _0x1254ac=a0_0x22f2c8;let _0x1e3712=await this[_0x1254ac(0x70e)]['webhook']['find'](this[_0x1254ac(0x12b)]);this[_0x1254ac(0x7c5)]['url']=_0x1e3712?.[_0x1254ac(0x45f)],this[_0x1254ac(0x7c5)][_0x1254ac(0x4e0)]=_0x1e3712?.[_0x1254ac(0x4e0)],this[_0x1254ac(0x7c5)]['local_map']=_0x1e3712?.[_0x1254ac(0x3d0)],this[_0x1254ac(0x7c5)][_0x1254ac(0x2f2)]=_0x1e3712?.[_0x1254ac(0x2f2)],this['localWebhook'][_0x1254ac(0x738)]=_0x1e3712?.[_0x1254ac(0x738)],this[_0x1254ac(0x7c5)][_0x1254ac(0x7ce)]=_0x1e3712?.[_0x1254ac(0x7ce)],this['localWebhook'][_0x1254ac(0x435)]=_0x1e3712?.['MESSAGES_UPSERT'],this[_0x1254ac(0x7c5)]['MESSAGES_UPDATE']=_0x1e3712?.[_0x1254ac(0x64d)],this[_0x1254ac(0x7c5)][_0x1254ac(0x1ea)]=_0x1e3712?.['GROUPS_UPSERT'],this[_0x1254ac(0x7c5)][_0x1254ac(0x219)]=_0x1e3712?.[_0x1254ac(0x219)],this[_0x1254ac(0x7c5)][_0x1254ac(0x1e6)]=_0x1e3712?.[_0x1254ac(0x1e6)],this['localWebhook'][_0x1254ac(0x194)]=_0x1e3712?.['CHATS_SET'],this[_0x1254ac(0x7c5)][_0x1254ac(0x6c9)]=_0x1e3712?.[_0x1254ac(0x6c9)],this['localWebhook'][_0x1254ac(0x364)]=_0x1e3712?.[_0x1254ac(0x364)],this[_0x1254ac(0x7c5)][_0x1254ac(0xf5)]=_0x1e3712?.[_0x1254ac(0xf5)],this[_0x1254ac(0x7c5)][_0x1254ac(0x19b)]=_0x1e3712?.['CONTACTS_SET'],this[_0x1254ac(0x7c5)]['CONTACTS_UPSERT']=_0x1e3712?.[_0x1254ac(0x1e5)],this[_0x1254ac(0x7c5)][_0x1254ac(0xfa)]=_0x1e3712?.['CONTACTS_UPDATE'],this[_0x1254ac(0x7c5)][_0x1254ac(0xae)]=_0x1e3712?.[_0x1254ac(0xae)],this[_0x1254ac(0x7c5)]['MESSAGES_SET']=_0x1e3712?.['MESSAGES_SET'],this[_0x1254ac(0x7c5)][_0x1254ac(0x2b8)]=_0x1e3712?.['CONNECTION_UPDATE'],this[_0x1254ac(0x7c5)]['groups_ignore']=_0x1e3712?.[_0x1254ac(0x6a7)];}async[a0_0x22f2c8(0x2bd)](_0x518e65){const _0xd838f=a0_0x22f2c8;let _0xf30aa6=[_0xd838f(0x286),_0xd838f(0x45f),_0xd838f(0x4e0),_0xd838f(0x3d0),_0xd838f(0x2f2),_0xd838f(0x738),_0xd838f(0x64d),'MESSAGES_UPSERT',_0xd838f(0x7ce),_0xd838f(0x1ea),_0xd838f(0x219),_0xd838f(0x1e6),_0xd838f(0x194),_0xd838f(0x6c9),_0xd838f(0x364),_0xd838f(0xf5),_0xd838f(0x19b),_0xd838f(0x1e5),_0xd838f(0xfa),_0xd838f(0xae),_0xd838f(0x2cd),_0xd838f(0x2b8),_0xd838f(0x6a7)],_0x54dc47={};return _0xf30aa6[_0xd838f(0x317)](_0x419164=>{_0x518e65[_0x419164]!==void 0x0&&(_0x54dc47[_0x419164]=_0x518e65[_0x419164]);}),_0x54dc47[_0xd838f(0x45f)]&&(_0x54dc47[_0xd838f(0x45f)]=_0x54dc47['url'][_0xd838f(0x181)]()),await this['repository'][_0xd838f(0x228)][_0xd838f(0x644)](_0x54dc47,this[_0xd838f(0x12b)]),Object[_0xd838f(0x3b7)](this[_0xd838f(0x7c5)],_0x54dc47),await this[_0xd838f(0x70e)][_0xd838f(0x228)]['find'](this[_0xd838f(0x12b)]);}async[a0_0x22f2c8(0x56d)](){const _0x112044=a0_0x22f2c8;return await this['repository'][_0x112044(0x228)][_0x112044(0xe9)](this[_0x112044(0x12b)]);}async['sendDataWebhook'](_0x4e55cf,_0xd238e0){const _0x23035e=a0_0x22f2c8;let _0x1115dd=_0x4e55cf[_0x23035e(0x16d)](/[\.-]/gm,'_')['toUpperCase'](),_0x30731e=this[_0x23035e(0x7c5)][_0x23035e(0x4e0)]&&(0x0,k[_0x23035e(0x430)])(this[_0x23035e(0x7c5)]['url'])?this['localWebhook'][_0x23035e(0x45f)]+(this[_0x23035e(0x7c5)][_0x23035e(0x3d0)]?this[_0x23035e(0xd8)][_0x4e55cf]:''):null,_0x4d6ce4=this[_0x23035e(0x7c5)][_0x1115dd],_0x2c38d9=pe&&pe[_0x23035e(0x4e0)]&&(0x0,k[_0x23035e(0x430)])(pe[_0x23035e(0x45f)])?pe['url']+(pe['local_map']?this[_0x23035e(0xd8)][_0x4e55cf]:''):null,_0x376882=pe?pe[_0x1115dd]:null;if(_0x4d6ce4&&_0x30731e)try{await Y['default'][_0x23035e(0x644)]({'baseURL':_0x30731e})[_0x23035e(0x77d)]('',{'event':_0x4e55cf,'instance':this[_0x23035e(0x31b)]['name'],'apikey':this[_0x23035e(0x31b)][_0x23035e(0x4de)],'data':_0xd238e0}),this[_0x23035e(0x4ad)][_0x23035e(0x274)](this['instanceName']+'\x20('+this['instance'][_0x23035e(0x699)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x4e55cf+':\x20'+_0x30731e);}catch{this[_0x23035e(0x4ad)][_0x23035e(0x295)](this[_0x23035e(0x12b)]+'\x20('+this[_0x23035e(0x31b)]['wuid']+_0x23035e(0x195)+_0x4e55cf+':\x20'+_0x30731e);}if(_0x376882&&_0x2c38d9)try{await Y['default']['create']({'baseURL':_0x2c38d9})[_0x23035e(0x77d)]('',{'event':_0x4e55cf,'instance':this[_0x23035e(0x31b)]['name'],'apikey':this[_0x23035e(0x31b)][_0x23035e(0x4de)],'data':_0xd238e0}),this[_0x23035e(0x4ad)][_0x23035e(0x274)](this[_0x23035e(0x12b)]+'\x20('+this[_0x23035e(0x31b)]['wuid']+_0x23035e(0x2a8)+_0x4e55cf+':\x20'+_0x2c38d9);}catch{this['logger']['error'](this[_0x23035e(0x12b)]+'\x20('+this[_0x23035e(0x31b)]['wuid']+_0x23035e(0x10b)+_0x4e55cf+':\x20'+_0x2c38d9);}}async['connectionUpdate']({qr:_0x2182b8,connection:_0x57ca23,lastDisconnect:_0x303344}){const _0x2f9277=a0_0x22f2c8;if(_0x2182b8){if(this[_0x2f9277(0x31b)][_0x2f9277(0x4ee)][_0x2f9277(0x1ef)]===Do)return this[_0x2f9277(0x1d3)](_0x2f9277(0x5a2),{'message':_0x2f9277(0x301),'statusCode':w[_0x2f9277(0x188)][_0x2f9277(0x77f)]}),this[_0x2f9277(0x6b5)]={'state':_0x2f9277(0x705),'statusReason':w[_0x2f9277(0x188)]['connectionClosed']},this[_0x2f9277(0x1d3)]('connection.update',{'instance':this['instance']['name'],...this['stateConnection']}),this['sendDataWebhook'](_0x2f9277(0xa6),{'instance':this[_0x2f9277(0x31b)][_0x2f9277(0x2cb)],'status':_0x2f9277(0x4ca)}),this[_0x2f9277(0x70e)]['auth']['delete'](this[_0x2f9277(0x31b)][_0x2f9277(0x2cb)]),this[_0x2f9277(0x6dc)]=!0x0,ae['removeIPv6ById'](W,this[_0x2f9277(0x31b)]['name']),this['eventEmitter'][_0x2f9277(0x4cd)](_0x2f9277(0x562),this['instance']['name']);this[_0x2f9277(0x31b)]['qrcode'][_0x2f9277(0x1ef)]++;let _0x3db056={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2f9277(0x63f),'dark':_0x2f9277(0x478)}};Ii['default'][_0x2f9277(0x75c)](_0x2182b8,_0x3db056,(_0x41b927,_0x1dc4c2)=>{const _0x3592a1=_0x2f9277;if(_0x41b927){this[_0x3592a1(0x4ad)][_0x3592a1(0x295)](this['instanceName']+'\x20('+this[_0x3592a1(0x31b)]['wuid']+_0x3592a1(0x538)+(_0x41b927 instanceof Error?_0x41b927[_0x3592a1(0x659)]:JSON[_0x3592a1(0x2e3)](_0x41b927,null,0x2)));return;}this['instance'][_0x3592a1(0x4ee)][_0x3592a1(0x275)]=_0x1dc4c2,this['instance'][_0x3592a1(0x4ee)][_0x3592a1(0x5e9)]=_0x2182b8,!this[_0x3592a1(0x47f)]&&this[_0x3592a1(0x1d3)](_0x3592a1(0x5a2),{'qrcode':{'instance':this['instance']['name'],'pairingCode':this[_0x3592a1(0x31b)][_0x3592a1(0x4ee)][_0x3592a1(0x1f7)],'code':_0x2182b8,'base64':_0x1dc4c2}});}),this[_0x2f9277(0x47f)]?this[_0x2f9277(0x31b)][_0x2f9277(0x4ee)][_0x2f9277(0x1f7)]||(await(0x0,w[_0x2f9277(0x3f2)])(0x7d0),this[_0x2f9277(0x31b)][_0x2f9277(0x4ee)][_0x2f9277(0x1f7)]=await this[_0x2f9277(0x223)]['requestPairingCode'](this[_0x2f9277(0x47f)])):this['instance'][_0x2f9277(0x4ee)][_0x2f9277(0x1f7)]=null,Ti['default'][_0x2f9277(0x567)](_0x2182b8,{'small':!0x0},_0x2f7103=>this['logger'][_0x2f9277(0x274)](_0x2f9277(0x558)+this['instance'][_0x2f9277(0x2cb)]+_0x2f9277(0x153)+this[_0x2f9277(0x31b)][_0x2f9277(0x4ee)]['count']+_0x2f9277(0x5cd)+this[_0x2f9277(0x31b)][_0x2f9277(0x4ee)]['pairingCode']+_0x2f9277(0x5d9)+_0x2f7103));}if(_0x57ca23&&(this[_0x2f9277(0x6b5)]={'state':_0x57ca23,'statusReason':_0x303344?.[_0x2f9277(0x295)]?.[_0x2f9277(0x26f)]?.[_0x2f9277(0x152)]??0xc8},this[_0x2f9277(0x1d3)]('connection.update',{'instance':this[_0x2f9277(0x31b)][_0x2f9277(0x2cb)],...this[_0x2f9277(0x6b5)]})),_0x57ca23===_0x2f9277(0x280)){if(this[_0x2f9277(0x3ca)]++,this[_0x2f9277(0x2d7)][_0x2f9277(0x6b3)](Date['now']()),this['reconnectTimestamps']=this[_0x2f9277(0x2d7)]['filter'](_0x54cf12=>Date['now']()-_0x54cf12<this[_0x2f9277(0x6e6)]),_0x303344[_0x2f9277(0x295)]?.[_0x2f9277(0x26f)]?.['statusCode']!==w[_0x2f9277(0x188)]['loggedOut']){let _0x1fd8f4=this['reconnectAttempts']<=0x1?0x0:Math[_0x2f9277(0x309)](Math['pow'](0x2,this[_0x2f9277(0x3ca)]-0x1)*0x3e8,0x493e0);console[_0x2f9277(0x274)](this['instanceName']+_0x2f9277(0x415)+this[_0x2f9277(0x3ca)]+_0x2f9277(0x426)+_0x1fd8f4/0x3e8+_0x2f9277(0x3bf)),await new Promise(_0x20ac0c=>setTimeout(_0x20ac0c,_0x1fd8f4)),console['log']('Tentando\x20reconectar...'),await this[_0x2f9277(0x105)]();}else{this[_0x2f9277(0x1d3)](_0x2f9277(0xa6),{'instance':this[_0x2f9277(0x31b)][_0x2f9277(0x2cb)],'status':_0x2f9277(0x4ca)}),this['instance'][_0x2f9277(0x234)]['isConnected']=!0x1,this[_0x2f9277(0x70e)][_0x2f9277(0x228)]['delete'](this[_0x2f9277(0x12b)]),this['repository'][_0x2f9277(0x3e7)][_0x2f9277(0x644)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2f9277(0x4f1)]()},this[_0x2f9277(0x31b)][_0x2f9277(0x2cb)]),ae[_0x2f9277(0x148)](W,this[_0x2f9277(0x31b)][_0x2f9277(0x2cb)]);try{this['logger'][_0x2f9277(0x470)](this[_0x2f9277(0x12b)]+'\x20('+this[_0x2f9277(0x31b)][_0x2f9277(0x699)]+_0x2f9277(0x629));let _0x1d55a9=await this[_0x2f9277(0x70e)]['message'][_0x2f9277(0x352)](this[_0x2f9277(0x31b)]['wuid']);_0x1d55a9['success']?this['logger'][_0x2f9277(0x470)](this[_0x2f9277(0x12b)]+'\x20('+this[_0x2f9277(0x31b)][_0x2f9277(0x699)]+_0x2f9277(0x3a0)):this[_0x2f9277(0x4ad)][_0x2f9277(0x295)](_0x2f9277(0x656)+_0x1d55a9[_0x2f9277(0x295)]);}catch(_0x4c7e74){this['logger'][_0x2f9277(0x295)](_0x2f9277(0x6fa)+_0x4c7e74[_0x2f9277(0x659)]);}this[_0x2f9277(0x31b)][_0x2f9277(0x234)][_0x2f9277(0x359)]!==null&&(this['logger'][_0x2f9277(0x470)](this[_0x2f9277(0x12b)]+'\x20('+this[_0x2f9277(0x31b)][_0x2f9277(0x699)]+_0x2f9277(0x527)),clearInterval(this['instance'][_0x2f9277(0x234)][_0x2f9277(0x359)]),this[_0x2f9277(0x31b)]['ScheduleMessage'][_0x2f9277(0x359)]=null),this['logger']['verbose'](this[_0x2f9277(0x12b)]+'\x20('+this[_0x2f9277(0x31b)][_0x2f9277(0x699)]+_0x2f9277(0x3cf)),this['AutomateSystem']=null,this[_0x2f9277(0x25f)][_0x2f9277(0x4cd)](_0x2f9277(0x45e),this['instance'][_0x2f9277(0x2cb)],'inner'),this[_0x2f9277(0x223)]?.['ws']?.[_0x2f9277(0x280)](),this['client'][_0x2f9277(0x107)](new Error(_0x2f9277(0x18a)));}}if(_0x57ca23==='open'){this[_0x2f9277(0x4ad)]['warn'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2f9277(0x51f)+this[_0x2f9277(0x223)][_0x2f9277(0x2d2)]['creds']?.[_0x2f9277(0x649)]),this[_0x2f9277(0x223)]['authState'][_0x2f9277(0x14b)]?.[_0x2f9277(0x649)]||(this[_0x2f9277(0x4ad)]['warn'](this['instanceName']+'\x20('+this[_0x2f9277(0x31b)][_0x2f9277(0x699)]+_0x2f9277(0x32a)),this[_0x2f9277(0x223)]['ev'][_0x2f9277(0x3ff)]()),this['resetReconnectionVariables'],this[_0x2f9277(0x31b)][_0x2f9277(0x699)]=this[_0x2f9277(0x223)][_0x2f9277(0x3f4)]['id']['replace'](/:\d+/,'')[_0x2f9277(0x16d)](_0x2f9277(0x3c2),''),this[_0x2f9277(0x31b)]['profilePictureUrl']=(await this[_0x2f9277(0x115)](this['instance'][_0x2f9277(0x699)]+_0x2f9277(0x3c2)))[_0x2f9277(0x333)],this[_0x2f9277(0x70e)][_0x2f9277(0x3e7)]['create']({'online':!0x0,'owner':this[_0x2f9277(0x31b)]['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x55c825='Número:\x20'+this[_0x2f9277(0x31b)][_0x2f9277(0x699)],_0x307d64=0x28,_0x133498=Math[_0x2f9277(0x2a5)]((_0x307d64-_0x55c825[_0x2f9277(0x4a3)])/0x2),_0x2461f9='\x20'[_0x2f9277(0x439)](_0x133498),_0x15c6ec=_0x2f9277(0x636),_0x20daa5='Instância:\x20'+this[_0x2f9277(0x31b)][_0x2f9277(0x2cb)],_0x54f9a0=(''+_0x2461f9+_0x55c825+_0x2461f9)[_0x2f9277(0x334)](_0x307d64,'\x20'),_0x473dbb=(''+_0x2461f9+_0x15c6ec+_0x2461f9)['padEnd'](_0x307d64,'\x20'),_0x4d8ec8=(''+_0x2461f9+_0x20daa5+_0x2461f9)[_0x2f9277(0x334)](_0x307d64,'\x20'),_0x3d1acb=Math[_0x2f9277(0x57b)](_0x54f9a0[_0x2f9277(0x4a3)],_0x473dbb[_0x2f9277(0x4a3)],_0x4d8ec8[_0x2f9277(0x4a3)]),_0x5902f1=_0x54f9a0[_0x2f9277(0x334)](_0x3d1acb,'\x20'),_0x2e3aba=_0x473dbb['padEnd'](_0x3d1acb,'\x20'),_0x106fdd=_0x4d8ec8['padEnd'](_0x3d1acb,'\x20');this[_0x2f9277(0x4ad)][_0x2f9277(0x778)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x2f9277(0x439)](_0x3d1acb)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x2e3aba+_0x2f9277(0x102)+_0x106fdd+_0x2f9277(0x102)+_0x5902f1+_0x2f9277(0x2ae)+'─'[_0x2f9277(0x439)](_0x3d1acb)+'┘')[_0x2f9277(0x16d)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x2f9277(0x31b)][_0x2f9277(0x234)][_0x2f9277(0x4ff)]=!0x0;}}[a0_0x22f2c8(0x204)](){const _0x36d868=a0_0x22f2c8;this[_0x36d868(0x3ca)]=0x0,this[_0x36d868(0x2d7)]=[];}async[a0_0x22f2c8(0x500)](_0x51335d,_0x51ac78=!0x1){const _0x14ce28=a0_0x22f2c8;try{let _0x190576=await this[_0x14ce28(0x70e)]['message'][_0x14ce28(0xe9)]({'where':{'_id':_0x51335d['id']}},this[_0x14ce28(0x31b)][_0x14ce28(0x699)]);return _0x51ac78?_0x190576[0x0]:_0x190576[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x3de19f=a0_0x22f2c8;let _0x4247cd=this[_0x3de19f(0x53f)][_0x3de19f(0x319)](_0x3de19f(0x231)),_0x45f6e6=this['configService'][_0x3de19f(0x319)](_0x3de19f(0x771));_0x4247cd?.[_0x3de19f(0x266)]&&!_0x45f6e6[_0x3de19f(0x205)]&&setInterval(()=>{const _0xfab4f0=_0x3de19f;try{for(let [_0x455c30,_0x17b4ac]of Object['entries'](_0x4247cd))_0x17b4ac===!0x0&&(0x0,Fe['execSync'])(_0xfab4f0(0x1f5)+(0x0,U[_0xfab4f0(0x640)])(this[_0xfab4f0(0x409)],_0x455c30[_0xfab4f0(0x157)](),this[_0xfab4f0(0x31b)]['wuid'])+'/*.json');}catch{}},(_0x4247cd?.[_0x3de19f(0x266)]??0xe10)*0x3e8);}async[a0_0x22f2c8(0xed)](){const _0x1397be=a0_0x22f2c8;let _0x3df134=this[_0x1397be(0x53f)][_0x1397be(0x319)](_0x1397be(0x771)),_0x1e013a=this[_0x1397be(0x53f)][_0x1397be(0x319)](_0x1397be(0x174));return _0x1e013a?.[_0x1397be(0x205)]?await Ts(_0x1e013a,this[_0x1397be(0x31b)][_0x1397be(0x2cb)]):_0x3df134[_0x1397be(0x205)]?await Is(this[_0x1397be(0x31b)][_0x1397be(0x2cb)]):await(0x0,w[_0x1397be(0x3d6)])((0x0,U[_0x1397be(0x640)])(be,this[_0x1397be(0x31b)][_0x1397be(0x2cb)]));}async[a0_0x22f2c8(0x65e)](){const _0x31a806=a0_0x22f2c8;let _0x4a277b=()=>Math[_0x31a806(0x2a5)](Math[_0x31a806(0x2de)]()*0x4e21)+0x7d0,_0x24b764=async()=>{const _0x100c4f=_0x31a806;if(!this[_0x100c4f(0x31b)][_0x100c4f(0x234)]['isConnected']){this[_0x100c4f(0x4ad)][_0x100c4f(0x470)](this[_0x100c4f(0x12b)]+'\x20('+this[_0x100c4f(0x31b)]['wuid']+_0x100c4f(0x242)),this[_0x100c4f(0x305)]=!0x1;return;}if(this[_0x100c4f(0x31b)]['wuid']&&this[_0x100c4f(0x1ed)]&&this[_0x100c4f(0x31b)][_0x100c4f(0x234)][_0x100c4f(0x359)]!==null&&this[_0x100c4f(0x31b)][_0x100c4f(0x234)][_0x100c4f(0x359)]!==void 0x0){let _0x227c3e=Math[_0x100c4f(0x3c1)](this[_0x100c4f(0x31b)]['ScheduleMessage'][_0x100c4f(0x359)]/0xea60);this['logger'][_0x100c4f(0x470)](this[_0x100c4f(0x12b)]+'\x20('+this[_0x100c4f(0x31b)][_0x100c4f(0x699)]+_0x100c4f(0x13c)+_0x227c3e+_0x100c4f(0x57f)),this['isRunning']=!0x1;return;}else this[_0x100c4f(0x31b)][_0x100c4f(0x699)]&&(this[_0x100c4f(0x4ad)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x100c4f(0x699)]+_0x100c4f(0x570)),this[_0x100c4f(0x1ed)]||(await this[_0x100c4f(0x35a)](),this['findRealGroups'](),this[_0x100c4f(0x1ae)]()),(this[_0x100c4f(0x31b)][_0x100c4f(0x234)][_0x100c4f(0x359)]===null||this[_0x100c4f(0x31b)][_0x100c4f(0x234)][_0x100c4f(0x359)]===void 0x0)&&await this[_0x100c4f(0x2f8)]());if(this[_0x100c4f(0x305)]){let _0x5b41e8=_0x4a277b();this[_0x100c4f(0x4ad)][_0x100c4f(0x470)](this[_0x100c4f(0x12b)]+_0x100c4f(0x6f2)+_0x5b41e8/0x3e8+'\x20segundos'),setTimeout(_0x24b764,_0x5b41e8);}};if(this[_0x31a806(0x305)])return;this[_0x31a806(0x305)]=!0x0;let _0x44a4b9=_0x4a277b();setTimeout(_0x24b764,_0x44a4b9);}async[a0_0x22f2c8(0x1ae)](){const _0x21ebf9=a0_0x22f2c8;let _0x8181e9=this[_0x21ebf9(0x31b)][_0x21ebf9(0x699)];try{let _0x47831a=await this[_0x21ebf9(0x70e)][_0x21ebf9(0x28c)][_0x21ebf9(0x260)]({'where':{'$or':[{'owner':_0x8181e9},{'whoCanUse':{'$in':[_0x8181e9]}},{'shareOwners':{'$in':[_0x8181e9]}}]}}),_0x356291=new Map(this[_0x21ebf9(0x1ed)]['flows'][_0x21ebf9(0x657)](_0x11837f=>[_0x11837f[_0x21ebf9(0x286)],_0x11837f])),_0x2fc88b=_0x47831a['map'](_0x2f025b=>{const _0x11e680=_0x21ebf9;let _0x4b7110=_0x356291[_0x11e680(0x319)](_0x2f025b[_0x11e680(0x286)]?.[_0x11e680(0x1ee)]());return{'_id':_0x2f025b[_0x11e680(0x286)]?.[_0x11e680(0x1ee)](),'name':_0x4b7110?.['name']??_0x2f025b['name'],'default':_0x4b7110?.[_0x11e680(0x66b)]??_0x2f025b[_0x11e680(0x66b)]??!0x1,'startCommand':_0x4b7110?.[_0x11e680(0x534)]??_0x2f025b['startCommandWord'],'minutesToClose':_0x4b7110?.['minutesToClose']??_0x2f025b[_0x11e680(0x43e)]??0xa,'readMessages':_0x4b7110?.[_0x11e680(0x75b)]??_0x2f025b['readMessages']??!0x1,'testingWith':_0x4b7110?.[_0x11e680(0xbd)]??_0x2f025b[_0x11e680(0xbd)],'canEdit':_0x2f025b['owner']===_0x8181e9||(_0x2f025b['whoCanEdit']??[])['includes'](_0x8181e9),'usersCount':(_0x2f025b[_0x11e680(0x21e)]??[])[_0x11e680(0x4a3)]??0x0};}),_0x51be55=!0x1;_0x2fc88b[_0x21ebf9(0x317)](_0x4f6ba2=>{const _0x85db8d=_0x21ebf9;_0x4f6ba2[_0x85db8d(0x66b)]&&(_0x51be55?_0x4f6ba2[_0x85db8d(0x66b)]=!0x1:_0x51be55=!0x0);}),this[_0x21ebf9(0x1ed)][_0x21ebf9(0x780)]=_0x2fc88b;let _0x599240={'flows':_0x2fc88b};return await this[_0x21ebf9(0x70e)][_0x21ebf9(0x477)][_0x21ebf9(0x748)](_0x599240,_0x8181e9),this[_0x21ebf9(0x4ad)][_0x21ebf9(0x470)](this[_0x21ebf9(0x12b)]+'\x20('+_0x8181e9+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x2fc88b['length'];}catch(_0x134a22){return this[_0x21ebf9(0x4ad)][_0x21ebf9(0x295)](this[_0x21ebf9(0x12b)]+'\x20('+_0x8181e9+_0x21ebf9(0x6c3)+(_0x134a22 instanceof Error?_0x134a22[_0x21ebf9(0x659)]:JSON[_0x21ebf9(0x2e3)](_0x134a22,null,0x2))),{'message':_0x21ebf9(0x134)+(_0x134a22 instanceof Error?_0x134a22[_0x21ebf9(0x659)]:JSON['stringify'](_0x134a22,null,0x2))};}}async['connectToWhatsapp'](_0x6fdc69){const _0x15f37e=a0_0x22f2c8;try{let _0x524238=await this[_0x15f37e(0x70e)][_0x15f37e(0x31b)][_0x15f37e(0x239)]({'where':{'_id':W+'-'+this['instanceName']}}),_0x84ad04,_0x466916=!ae[_0x15f37e(0x68d)]||!ae[_0x15f37e(0x624)];console['log']('--------------------------------------'),console[_0x15f37e(0x274)](_0x15f37e(0x454),Ri),console['log']('this.reconnectAttempts:\x20',this[_0x15f37e(0x3ca)]),console['log']('--------------------------------------'),Ri&&!_0x466916&&(this[_0x15f37e(0x3ca)]<0x4||!this['reconnectAttempts']?_0x524238&&_0x524238['ip']?(_0x84ad04=_0x524238['ip'],console[_0x15f37e(0x274)](_0x15f37e(0x516)+_0x84ad04)):(_0x84ad04=await ae[_0x15f37e(0x3e2)](W,this['instance']['name']),_0x84ad04?(console['log'](_0x15f37e(0x5c9)+_0x84ad04),await(0x0,w[_0x15f37e(0x3f2)])(0x7d0)):console['error'](_0x15f37e(0x4fc))):this['reconnectAttempts']<0x6&&(await ae[_0x15f37e(0x148)](W,this[_0x15f37e(0x31b)][_0x15f37e(0x2cb)]),console['log'](_0x15f37e(0x60c)),_0x84ad04=await ae[_0x15f37e(0x3e2)](W,this[_0x15f37e(0x31b)]['name']),_0x84ad04?(console['log'](_0x15f37e(0x5c9)+_0x84ad04),await(0x0,w['delay'])(0x7d0)):console['error'](_0x15f37e(0x442)))),this[_0x15f37e(0x668)](),this[_0x15f37e(0x31b)]['apikey']=(await this['repository'][_0x15f37e(0x3e7)][_0x15f37e(0xe9)](this[_0x15f37e(0x31b)][_0x15f37e(0x2cb)]))[_0x15f37e(0x4de)],this[_0x15f37e(0x31b)][_0x15f37e(0x2d2)]=await this[_0x15f37e(0xed)]();let {version:_0x1cb231}=await(0x0,w[_0x15f37e(0x626)])(),_0x51525d=[_i,ks,(0x0,xs['release'])()],_0x30659b={'localAddress':_0x84ad04,'auth':{'creds':this['instance'][_0x15f37e(0x2d2)]['state'][_0x15f37e(0x14b)],'keys':(0x0,w[_0x15f37e(0x6f6)])(this[_0x15f37e(0x31b)][_0x15f37e(0x2d2)][_0x15f37e(0x6d7)][_0x15f37e(0x158)],(0x0,Ut[_0x15f37e(0x66b)])({'level':_0x15f37e(0x295)}))},'logger':(0x0,Ut['default'])({'level':_0x15f37e(0x295)}),'printQRInTerminal':!0x1,'browser':_0x6fdc69?[_0x15f37e(0x2b0),ks,(0x0,xs[_0x15f37e(0x247)])()]:_0x51525d,'version':_0x1cb231,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x59b7b0=>{const _0x4d85bb=_0x15f37e;let _0x2f2804=this[_0x4d85bb(0x7c5)]?.[_0x4d85bb(0x6a7)]&&(0x0,w['isJidGroup'])(_0x59b7b0);return(0x0,w[_0x4d85bb(0x5e6)])(_0x59b7b0)||_0x2f2804;},'msgRetryCounterCache':this[_0x15f37e(0x2a9)],'getMessage':async _0x12f8e4=>await this[_0x15f37e(0x500)](_0x12f8e4),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x15f37e(0x26e)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x56d85e){const _0x491ff0=_0x15f37e;return _0x56d85e[_0x491ff0(0x127)]?.[_0x491ff0(0x659)]?.['listMessage']?.['listType']===w[_0x491ff0(0x30a)][_0x491ff0(0x2ee)][_0x491ff0(0x635)][_0x491ff0(0x2c1)]['PRODUCT_LIST']&&(_0x56d85e=JSON[_0x491ff0(0x7ca)](JSON['stringify'](_0x56d85e)),_0x56d85e['deviceSentMessage'][_0x491ff0(0x659)][_0x491ff0(0x575)][_0x491ff0(0x2c9)]=w[_0x491ff0(0x30a)][_0x491ff0(0x2ee)][_0x491ff0(0x635)][_0x491ff0(0x2c1)][_0x491ff0(0xe2)]),_0x56d85e[_0x491ff0(0x575)]?.[_0x491ff0(0x2c9)]==w[_0x491ff0(0x30a)][_0x491ff0(0x2ee)]['ListMessage'][_0x491ff0(0x2c1)][_0x491ff0(0x456)]&&(_0x56d85e=JSON[_0x491ff0(0x7ca)](JSON['stringify'](_0x56d85e)),_0x56d85e[_0x491ff0(0x575)]['listType']=w[_0x491ff0(0x30a)][_0x491ff0(0x2ee)][_0x491ff0(0x635)][_0x491ff0(0x2c1)]['SINGLE_SELECT']),_0x56d85e;}};return this['endSession']=!0x1,this['client']=(0x0,w[_0x15f37e(0x66b)])(_0x30659b),this[_0x15f37e(0x4d4)](),this[_0x15f37e(0x47f)]=_0x6fdc69,this['client'];}catch(_0x2a28cf){let _0x4a6e94=_0x15f37e(0x561),_0x5b47ec=_0x2a28cf instanceof Error?_0x2a28cf[_0x15f37e(0x659)]:typeof _0x2a28cf==_0x15f37e(0x72b)?JSON[_0x15f37e(0x2e3)](_0x2a28cf):_0x2a28cf,_0x4d2779=_0x4a6e94+':\x20'+_0x5b47ec;throw this[_0x15f37e(0x4ad)][_0x15f37e(0x295)](this['instanceName']+'\x20('+this['instance'][_0x15f37e(0x699)]+_0x15f37e(0x12a)+_0x4d2779),console['error'](_0x15f37e(0x758),_0x2a28cf),_0x2a28cf instanceof Error&&console[_0x15f37e(0x295)](_0x15f37e(0x22e),_0x2a28cf[_0x15f37e(0x9a)]),new x(_0x4d2779);}}[a0_0x22f2c8(0x4d4)](){const _0x34825d=a0_0x22f2c8;this[_0x34825d(0x223)]['ev'][_0x34825d(0x6d4)](_0x3f2209=>{const _0x3ac133=_0x34825d;if(!this['endSession']){let _0x3d0956=this['configService'][_0x3ac133(0x319)]('DATABASE');if(_0x3f2209[_0x3ac133(0x769)]){let _0x1dffb2=_0x3f2209[_0x3ac133(0x769)];this[_0x3ac133(0x33f)][_0x3ac133(0x769)](_0x1dffb2);}if(_0x3f2209['labels.association']){let _0x1a0b5d=_0x3f2209[_0x3ac133(0x117)];this['messageHandle'][_0x3ac133(0x117)](_0x1a0b5d);}if(_0x3f2209[_0x3ac133(0x57e)]&&this['connectionUpdate'](_0x3f2209[_0x3ac133(0x57e)]),_0x3f2209[_0x3ac133(0x735)]&&this[_0x3ac133(0x31b)][_0x3ac133(0x2d2)][_0x3ac133(0x674)](),_0x3f2209['messaging-history.set']){let _0xbbe664=_0x3f2209[_0x3ac133(0x4c2)];this[_0x3ac133(0x33f)]['messaging-history.set'](_0xbbe664,_0x3d0956);}if(_0x3f2209[_0x3ac133(0x27a)]){let _0xb9e9ce=_0x3f2209[_0x3ac133(0x27a)];this[_0x3ac133(0x33f)][_0x3ac133(0x27a)](_0xb9e9ce,_0x3d0956);}if(_0x3f2209[_0x3ac133(0x796)]){let _0x4b04d7=_0x3f2209['messages.update'];this[_0x3ac133(0x33f)][_0x3ac133(0x796)](_0x4b04d7,_0x3d0956);}if(_0x3f2209[_0x3ac133(0x1b6)]){let _0x340a7f=_0x3f2209[_0x3ac133(0x1b6)];if(this[_0x3ac133(0x7c5)]?.[_0x3ac133(0x6a7)]&&_0x340a7f['id'][_0x3ac133(0x750)](_0x3ac133(0x227)))return;this['sendDataWebhook']('presence.update',_0x340a7f);}if(_0x3f2209[_0x3ac133(0x696)]){let _0x5371bc=_0x3f2209[_0x3ac133(0x696)];this['groupHandler'][_0x3ac133(0x696)](_0x5371bc);}if(_0x3f2209[_0x3ac133(0x448)]){let _0x2875b3=_0x3f2209['groups.update'];this[_0x3ac133(0x256)][_0x3ac133(0x448)](_0x2875b3);}if(_0x3f2209['group-participants.update']){let _0x23b9e7=_0x3f2209['group-participants.update'];this[_0x3ac133(0x256)][_0x3ac133(0x603)](_0x23b9e7);}if(_0x3f2209[_0x3ac133(0x6dd)]){let _0x42a35b=_0x3f2209[_0x3ac133(0x6dd)];this[_0x3ac133(0x690)][_0x3ac133(0x6dd)](_0x42a35b,_0x3d0956);}if(_0x3f2209['chats.update']){let _0x4feb18=_0x3f2209[_0x3ac133(0x546)];this['chatHandle'][_0x3ac133(0x546)](_0x4feb18,_0x3d0956);}if(_0x3f2209[_0x3ac133(0x240)]){let _0x6e2321=_0x3f2209[_0x3ac133(0x240)];this[_0x3ac133(0x690)][_0x3ac133(0x240)](_0x6e2321);}if(_0x3f2209[_0x3ac133(0x4b4)]){let _0x5d9c56=_0x3f2209['contacts.upsert'];this['contactHandle'][_0x3ac133(0x4b4)](_0x5d9c56,_0x3d0956);}if(_0x3f2209[_0x3ac133(0x125)]){let _0x4d1645=_0x3f2209[_0x3ac133(0x125)];this['contactHandle'][_0x3ac133(0x125)](_0x4d1645,_0x3d0956);}}});}async[a0_0x22f2c8(0x71a)](_0x5e491f,_0x36e72a){const _0x47b0e9=a0_0x22f2c8;if(_0x36e72a>=0xa){console['error'](this[_0x47b0e9(0x12b)]+'\x20('+this[_0x47b0e9(0x31b)]['wuid']+_0x47b0e9(0x61e)),delete Ft[_0x5e491f[_0x47b0e9(0x41f)]['id']];return;}try{console[_0x47b0e9(0x295)](this[_0x47b0e9(0x12b)]+'\x20('+this['instance']['wuid']+_0x47b0e9(0x2c0)+(_0x36e72a+0x1)),await this[_0x47b0e9(0x223)]['sendMessageAck'](JSON[_0x47b0e9(0x7ca)](_0x5e491f['messageStubParameters'][0x1],w[_0x47b0e9(0x6ae)][_0x47b0e9(0x5c5)])),console[_0x47b0e9(0x295)](_0x47b0e9(0x4db));}catch(_0x587ea7){console[_0x47b0e9(0x295)](this[_0x47b0e9(0x12b)]+'\x20('+this['instance'][_0x47b0e9(0x699)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x587ea7),setTimeout(()=>this[_0x47b0e9(0x71a)](_0x5e491f,_0x36e72a+0x1),Math[_0x47b0e9(0x187)](0x2,_0x36e72a)*0x3e8);}}[a0_0x22f2c8(0x3bb)](_0x5f5b41){return new Promise(_0x36ba54=>setTimeout(_0x36ba54,_0x5f5b41));}[a0_0x22f2c8(0x22c)](_0x233f9b){const _0x191aad=a0_0x22f2c8;_0x233f9b=_0x233f9b[_0x191aad(0x16d)](/\D/g,'');let _0x39cfe4=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x191aad(0x19a)](_0x233f9b);if(_0x39cfe4&&_0x39cfe4[0x1]==='55'){let _0x1df2d3=_0x39cfe4[0x2],_0xaf2f41=_0x39cfe4[0x3],_0x4d0e50=_0x39cfe4[0x4];if(parseInt(_0x1df2d3)>=0x1f&&_0xaf2f41==='9')return _0x39cfe4[0x1]+_0x1df2d3+_0x4d0e50;}return _0x233f9b;}[a0_0x22f2c8(0x523)](_0xb79ce4){const _0x2066c9=a0_0x22f2c8;return _0xb79ce4[_0x2066c9(0x750)](_0x2066c9(0x227))||_0xb79ce4[_0x2066c9(0x750)](_0x2066c9(0x3c2))||_0xb79ce4[_0x2066c9(0x750)]('@broadcast')?_0xb79ce4:(_0xb79ce4=_0xb79ce4?.['replace'](/\s/g,'')[_0x2066c9(0x16d)](/\+/g,'')['replace'](/\(/g,'')[_0x2066c9(0x16d)](/\)/g,'')[_0x2066c9(0x293)](/\:/)[0x0]['split']('@')[0x0],_0xb79ce4[_0x2066c9(0x4a3)]>=0x12?(_0xb79ce4=_0xb79ce4[_0x2066c9(0x16d)](/[^\d-]/g,''),_0xb79ce4+_0x2066c9(0x227)):(_0xb79ce4=_0xb79ce4[_0x2066c9(0x16d)](/\D/g,''),_0xb79ce4+_0x2066c9(0x3c2)));}async[a0_0x22f2c8(0x212)](_0x201e9a){const _0x288f41=a0_0x22f2c8;let _0x49aa79=(await this[_0x288f41(0x337)]({'numbers':[_0x201e9a['number']]}))[0x0];if(!_0x49aa79[_0x288f41(0x707)]&&!(0x0,w[_0x288f41(0x67d)])(_0x49aa79[_0x288f41(0x50f)])&&!_0x49aa79[_0x288f41(0x50f)]['includes'](_0x288f41(0x411)))throw new m(_0x49aa79);let _0x4341a8=_0x49aa79[_0x288f41(0x50f)];try{return await this[_0x288f41(0x223)][_0x288f41(0x514)](_0x4341a8),await this[_0x288f41(0x223)][_0x288f41(0x173)](_0x201e9a[_0x288f41(0x3a1)],_0x4341a8),{'status':0xc8,'presence':_0x201e9a['presence']};}catch(_0x89ebab){let _0x597903='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x539442=_0x89ebab instanceof Error?_0x89ebab[_0x288f41(0x659)]:typeof _0x89ebab=='object'?JSON[_0x288f41(0x2e3)](_0x89ebab):_0x89ebab,_0x202d47=_0x597903+':\x20'+_0x539442;throw this['logger'][_0x288f41(0x295)](this[_0x288f41(0x12b)]+'\x20('+this[_0x288f41(0x31b)][_0x288f41(0x699)]+'):\x20'+_0x202d47),new m(_0x202d47);}}async[a0_0x22f2c8(0x64f)](_0x4fd0c8,_0x171677,_0x56daa6,_0x651a49=!0x0){const _0x2f105e=a0_0x22f2c8;let _0x591544=await this['repository'][_0x2f105e(0x10f)][_0x2f105e(0x239)]({'where':{'_id':_0x4fd0c8}});if(!_0x591544&&!_0x651a49)return;let _0x2823af={'lastUpdate':Date['now']()};if(_0x56daa6||!_0x591544?.[_0x2f105e(0x579)]||Date['now']()-_0x591544['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0xa44614=(await this[_0x2f105e(0x115)](_0x4fd0c8))[_0x2f105e(0x333)];_0x2823af[_0x2f105e(0x154)]=_0xa44614;}catch(_0x1a7b68){let _0x478a1f='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x723d2f=_0x1a7b68 instanceof Error?_0x1a7b68[_0x2f105e(0x659)]:typeof _0x1a7b68==_0x2f105e(0x72b)?JSON[_0x2f105e(0x2e3)](_0x1a7b68):_0x1a7b68,_0x41330a=_0x478a1f+':\x20'+_0x723d2f;throw this[_0x2f105e(0x4ad)][_0x2f105e(0x295)](this['instanceName']+'\x20('+this[_0x2f105e(0x31b)][_0x2f105e(0x699)]+_0x2f105e(0x12a)+_0x41330a),new m(_0x41330a);}return _0x171677&&_0x591544?.['name']!==_0x171677&&(_0x2823af[_0x2f105e(0x2cb)]=_0x171677),Object[_0x2f105e(0x158)](_0x2823af)[_0x2f105e(0x4a3)]>0x1&&(_0x591544?await this[_0x2f105e(0x70e)][_0x2f105e(0x10f)][_0x2f105e(0x748)]({'where':{'_id':_0x4fd0c8}},_0x2823af):await this[_0x2f105e(0x70e)][_0x2f105e(0x10f)]['insert']([{'_id':_0x4fd0c8,..._0x2823af}]),_0x591544={..._0x591544,..._0x2823af}),{'cachedContact':_0x591544};}async[a0_0x22f2c8(0x115)](_0x54bedd){const _0x44a1f7=a0_0x22f2c8;let _0x592a48=this['createJid'](_0x54bedd);try{return{'wuid':_0x592a48,'profilePictureUrl':await this['client'][_0x44a1f7(0x333)](_0x592a48,_0x44a1f7(0x5c3))};}catch{return{'wuid':_0x592a48,'profilePictureUrl':null};}}async[a0_0x22f2c8(0x637)](_0x3253d3,_0x208ec7,_0x30888c){const _0x55198e=a0_0x22f2c8;let _0x1986c3;try{let _0x17ad82=(await this[_0x55198e(0x337)]({'numbers':[_0x3253d3]}))?.[_0x55198e(0x2c3)]();if(!_0x17ad82[_0x55198e(0x707)]&&!(0x0,w[_0x55198e(0x67d)])(_0x17ad82[_0x55198e(0x50f)])&&!_0x17ad82['jid']['includes']('@broadcast'))throw new m(_0x17ad82);_0x1986c3=_0x17ad82[_0x55198e(0x50f)];}catch(_0x17408e){_0x1986c3=_0x3253d3,this[_0x55198e(0x4ad)][_0x55198e(0x542)](this[_0x55198e(0x12b)]+'\x20('+this[_0x55198e(0x31b)][_0x55198e(0x699)]+_0x55198e(0x753)+_0x17408e[_0x55198e(0x659)]),this[_0x55198e(0x4ad)][_0x55198e(0x542)](this['instanceName']+'\x20('+this['instance'][_0x55198e(0x699)]+_0x55198e(0x276)+_0x1986c3);}try{if(_0x1986c3||(_0x1986c3=_0x3253d3,this['logger'][_0x55198e(0x542)](this[_0x55198e(0x12b)]+'\x20('+this[_0x55198e(0x31b)][_0x55198e(0x699)]+_0x55198e(0x6f4)+_0x1986c3)),_0x30888c||(_0x30888c={}),_0x30888c?.[_0x55198e(0x3f2)]){await this[_0x55198e(0x223)][_0x55198e(0x514)](_0x1986c3),await this[_0x55198e(0x223)][_0x55198e(0x173)](_0x30888c?.[_0x55198e(0x3a1)]??'composing',_0x1986c3);let _0xee137c=Math['min'](_0x30888c['delay'],0x2710);await(0x0,w['delay'])(_0xee137c),await this[_0x55198e(0x223)]['sendPresenceUpdate'](_0x55198e(0x50e),_0x1986c3);}let _0xfe49d4=_0x30888c?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x1a3daa;if(_0x30888c?.['quoted']){let _0x406801=_0x30888c?.[_0x55198e(0x4e3)],_0x4ac7cf=_0x406801?.['message']?_0x406801:await this['getMessage'](_0x406801[_0x55198e(0x41f)],!0x0);_0x4ac7cf&&(_0x1a3daa=_0x4ac7cf);}let _0x4dd5b1=await this['repository']['chat'][_0x55198e(0x239)]({'where':{'_id':_0x1986c3}},this['instance'][_0x55198e(0x699)]),_0x33014f,_0xe65045=null;if((0x0,w[_0x55198e(0x67d)])(_0x1986c3))try{if(_0xe65045=_0x4dd5b1['groupdata'],!_0xe65045)throw new j(_0x55198e(0x2d6));_0x30888c?.[_0x55198e(0x6ea)]&&(_0x30888c['mentions']?.[_0x55198e(0xa7)]?_0x33014f=_0xe65045['participants'][_0x55198e(0x657)](_0x391932=>_0x391932['id']):_0x30888c[_0x55198e(0x6ea)]?.[_0x55198e(0x5e5)]?.[_0x55198e(0x4a3)]&&(_0x33014f=_0x30888c['mentions'][_0x55198e(0x5e5)][_0x55198e(0x657)](_0x242aa7=>{const _0x51ed65=_0x55198e;let _0x2c952b=this[_0x51ed65(0x523)](_0x242aa7);return(0x0,w[_0x51ed65(0x67d)])(_0x2c952b)?null:_0x2c952b;})));}catch{throw new j('Group\x20not\x20found');}let _0x1eeb39=await((async()=>{const _0x47fc02=_0x55198e;let _0x64ddec={'quoted':_0x1a3daa,'ephemeralExpiration':_0x4dd5b1?.[_0x47fc02(0x3d1)]??0x0,'messageId':_0x47fc02(0x4b8)+(0x0,Ne[_0x47fc02(0x96)])(0x12)[_0x47fc02(0x1ee)](_0x47fc02(0xc1))[_0x47fc02(0x98)]()};if(!_0x208ec7[_0x47fc02(0x524)]&&!_0x208ec7[_0x47fc02(0x6cd)]&&!_0x208ec7['sticker']&&!_0x208ec7[_0x47fc02(0x11e)]&&_0x1986c3!==_0x47fc02(0x290)&&_0x208ec7[_0x47fc02(0x304)])return await this[_0x47fc02(0x223)][_0x47fc02(0x736)](_0x1986c3,{'react':{'text':_0x208ec7['reactionMessage'][_0x47fc02(0x20c)],'key':_0x208ec7[_0x47fc02(0x304)][_0x47fc02(0x41f)]}},_0x64ddec);if(_0x208ec7['conversation']){let _0x29ff5a=_0x208ec7[_0x47fc02(0x11e)];return _0x30888c?.['changeVariables']&&(_0x29ff5a=await this['replaceVariablesChat'](_0x29ff5a,_0x1986c3)),await this[_0x47fc02(0x223)][_0x47fc02(0x736)](_0x1986c3,{'text':_0x29ff5a,'mentions':_0x33014f,'linkPreview':_0xfe49d4},_0x64ddec);}return!_0x208ec7[_0x47fc02(0x524)]&&!_0x208ec7[_0x47fc02(0x6cd)]&&_0x1986c3!=_0x47fc02(0x290)?await this['client'][_0x47fc02(0x736)](_0x1986c3,{'forward':{'key':{'remoteJid':this[_0x47fc02(0x31b)][_0x47fc02(0x699)],'fromMe':!0x0},'message':_0x208ec7},'mentions':_0x33014f},_0x64ddec):_0x1986c3==='status@broadcast'?await this['client'][_0x47fc02(0x736)](_0x1986c3,_0x208ec7[_0x47fc02(0x3fe)][_0x47fc02(0x3d7)],{'backgroundColor':_0x208ec7[_0x47fc02(0x3fe)]['option']['backgroundColor'],'font':_0x208ec7[_0x47fc02(0x3fe)][_0x47fc02(0x25d)][_0x47fc02(0x584)],'statusJidList':_0x208ec7[_0x47fc02(0x3fe)][_0x47fc02(0x25d)][_0x47fc02(0x2d1)]}):await this['client'][_0x47fc02(0x736)](_0x1986c3,_0x208ec7,_0x64ddec);})()),_0x3cb56d=(0x0,w[_0x55198e(0x4e9)])(_0x1eeb39[_0x55198e(0x659)]),_0x17bc25=(0x0,w['getContentType'])(_0x3cb56d),{message_normalized:_0x2f4e0d}=this[_0x55198e(0x5a1)](_0x3cb56d,_0x17bc25,null),_0x47c650={'_id':_0x1eeb39['key']['id'],'key':_0x1eeb39[_0x55198e(0x41f)],'pushName':_0x1eeb39[_0x55198e(0x395)],'isGroup':_0x1eeb39[_0x55198e(0x41f)]['remoteJid']['endsWith'](_0x55198e(0x227)),'profilePictureUrl':this[_0x55198e(0x31b)][_0x55198e(0x333)],'message':_0x3cb56d,'messageType':_0x17bc25,'message_normalized':{'key':_0x1eeb39[_0x55198e(0x41f)],'pushName':_0x1eeb39[_0x55198e(0x395)],'messageTimestamp':_0x1eeb39['messageTimestamp']&&_0x1eeb39[_0x55198e(0x4da)]['toString']()[_0x55198e(0x4a3)]<0xd?_0x1eeb39[_0x55198e(0x4da)]*0x3e8:_0x1eeb39[_0x55198e(0x4da)]||null,'source':(0x0,w['getDevice'])(_0x1eeb39[_0x55198e(0x41f)]['id']),..._0x2f4e0d},'messageTimestamp':_0x1eeb39['messageTimestamp']&&_0x1eeb39[_0x55198e(0x4da)][_0x55198e(0x1ee)]()[_0x55198e(0x4a3)]<0xd?_0x1eeb39[_0x55198e(0x4da)]*0x3e8:_0x1eeb39['messageTimestamp']||null,'owner':this[_0x55198e(0x31b)][_0x55198e(0x699)],'source':(0x0,w[_0x55198e(0x3c7)])(_0x1eeb39[_0x55198e(0x41f)]['id'])};return this['logger'][_0x55198e(0x542)](this['instanceName']+'\x20('+this['instance'][_0x55198e(0x699)]+'):\x20enviado\x20para\x20['+_0x47c650[_0x55198e(0x41f)]?.[_0x55198e(0x22b)][_0x55198e(0x16d)]('@s.whatsapp.net','')+']\x20('+_0x47c650[_0x55198e(0x376)]+')'),_0x47c650['message_normalized']?.['text']&&this[_0x55198e(0x4ad)][_0x55198e(0x542)](_0x47c650[_0x55198e(0x1d6)]?.['text']),this[_0x55198e(0x1d3)]('send.message',_0x47c650),J(this['instanceName'],_0x55198e(0x282),{'message':_0x47c650}),this[_0x55198e(0x37b)](this['configService'][_0x55198e(0x319)](_0x55198e(0x771)),_0x47c650,_0x55198e(0x7ce),_0x4dd5b1),await this['repository'][_0x55198e(0x659)][_0x55198e(0xff)]([_0x47c650],this[_0x55198e(0x31b)][_0x55198e(0x699)]),_0x1eeb39;}catch(_0x16946e){let _0x3f936a=_0x55198e(0x733)+_0x1986c3,_0x460218=_0x16946e instanceof Error?_0x16946e[_0x55198e(0x659)]:typeof _0x16946e==_0x55198e(0x72b)?JSON['stringify'](_0x16946e):_0x16946e,_0x3cc133=_0x3f936a+':\x20'+_0x460218;throw this[_0x55198e(0x4ad)]['error'](this[_0x55198e(0x12b)]+'\x20('+this['instance'][_0x55198e(0x699)]+'):\x20'+_0x3cc133),new m(_0x3cc133);}}get[a0_0x22f2c8(0x541)](){const _0x109959=a0_0x22f2c8;return this[_0x109959(0x6b5)];}async[a0_0x22f2c8(0x221)](_0x3862bc){const _0x35e57a=a0_0x22f2c8;return await this[_0x35e57a(0x637)](_0x3862bc[_0x35e57a(0x375)],{'conversation':_0x3862bc[_0x35e57a(0x221)][_0x35e57a(0x20c)]},_0x3862bc?.['options']);}async['formatStatusMessage'](_0x5e617b){const _0x4011a4=a0_0x22f2c8;if(!_0x5e617b[_0x4011a4(0x742)])throw new m(_0x4011a4(0x677));if(!_0x5e617b['content'])throw new m(_0x4011a4(0x551));if(_0x5e617b[_0x4011a4(0x449)]){let _0x5d844b=await this['repository']['contact'][_0x4011a4(0xe9)]({'where':{}},this[_0x4011a4(0x31b)][_0x4011a4(0x699)]);if(!_0x5d844b['length'])throw new m(_0x4011a4(0x7ae));_0x5e617b['statusJidList']=_0x5d844b[_0x4011a4(0x4e7)](_0x3b9e33=>_0x3b9e33[_0x4011a4(0x395)])[_0x4011a4(0x657)](_0x3e06db=>_0x3e06db['_id']);}if(!_0x5e617b[_0x4011a4(0x2d1)]?.['length']&&!_0x5e617b[_0x4011a4(0x449)])throw new m(_0x4011a4(0x4f7));if(_0x5e617b['type']===_0x4011a4(0x20c)){if(!_0x5e617b[_0x4011a4(0x2b5)])throw new m(_0x4011a4(0x6eb));if(!_0x5e617b['font'])throw new m('Font\x20is\x20required');return{'content':{'text':_0x5e617b['content']},'option':{'backgroundColor':_0x5e617b['backgroundColor'],'font':_0x5e617b[_0x4011a4(0x584)],'statusJidList':_0x5e617b[_0x4011a4(0x2d1)]}};}if(_0x5e617b[_0x4011a4(0x742)]===_0x4011a4(0x5c3))return{'content':{'image':{'url':_0x5e617b[_0x4011a4(0x3d7)]},'caption':_0x5e617b[_0x4011a4(0x4d2)]},'option':{'statusJidList':_0x5e617b[_0x4011a4(0x2d1)]}};if(_0x5e617b[_0x4011a4(0x742)]===_0x4011a4(0x1b8))return{'content':{'video':{'url':_0x5e617b['content']},'caption':_0x5e617b[_0x4011a4(0x4d2)]},'option':{'statusJidList':_0x5e617b[_0x4011a4(0x2d1)]}};if(_0x5e617b[_0x4011a4(0x742)]==='audio'){this[_0x4011a4(0x4ad)][_0x4011a4(0x470)](this[_0x4011a4(0x12b)]+'\x20('+this[_0x4011a4(0x31b)][_0x4011a4(0x699)]+'):Type\x20defined\x20as\x20audio'),this[_0x4011a4(0x4ad)]['verbose'](this[_0x4011a4(0x12b)]+'\x20('+this[_0x4011a4(0x31b)][_0x4011a4(0x699)]+'):Processing\x20audio');let _0x6f521c=await this[_0x4011a4(0xc9)](_0x5e617b[_0x4011a4(0x3d7)]);if(typeof _0x6f521c==_0x4011a4(0x671)){this['logger']['verbose'](this[_0x4011a4(0x12b)]+'\x20('+this[_0x4011a4(0x31b)][_0x4011a4(0x699)]+_0x4011a4(0x40e));let _0x30cbb0=L['readFileSync'](_0x6f521c)[_0x4011a4(0x1ee)](_0x4011a4(0x275));return{'content':{'audio':Buffer[_0x4011a4(0x59a)](_0x30cbb0,'base64'),'ptt':!0x0,'mimetype':_0x4011a4(0x3ee)},'option':{'statusJidList':_0x5e617b[_0x4011a4(0x2d1)]}};}else throw new x(_0x6f521c);}throw new m('Type\x20not\x20found');}async[a0_0x22f2c8(0x62b)](_0x891449){const _0x1bb653=a0_0x22f2c8;return await this['sendMessageWithTyping']('status@broadcast',{'status':await this['formatStatusMessage'](_0x891449[_0x1bb653(0x62b)])});}async['prepareMediaMessage'](_0x4ac160){const _0x2e98da=a0_0x22f2c8;try{let _0x23fd3b=await(0x0,w['prepareWAMessageMedia'])({[_0x4ac160['mediatype']]:(0x0,k['isURL'])(_0x4ac160[_0x2e98da(0x787)])?{'url':_0x4ac160['media']}:Buffer[_0x2e98da(0x59a)](_0x4ac160['media'],_0x2e98da(0x275))},{'upload':this[_0x2e98da(0x223)][_0x2e98da(0x51a)]}),_0x45ccb9=_0x4ac160['mediatype']+_0x2e98da(0x2ee);if(_0x4ac160[_0x2e98da(0x312)]===_0x2e98da(0x6f0)&&!_0x4ac160['fileName']){let _0x225583=new RegExp(/.*\/(.+?)\./)[_0x2e98da(0x19a)](_0x4ac160[_0x2e98da(0x787)]);_0x4ac160[_0x2e98da(0x252)]=_0x225583?_0x225583[0x1]:null;}let _0x3d6ce8;return(0x0,k[_0x2e98da(0x430)])(_0x4ac160[_0x2e98da(0x787)])?_0x3d6ce8=(await Y[_0x2e98da(0x66b)][_0x2e98da(0x319)](_0x4ac160[_0x2e98da(0x787)],{'responseType':'arraybuffer'}))[_0x2e98da(0x408)][_0x2e98da(0x6de)]:_0x3d6ce8=(0x0,Oi[_0x2e98da(0x372)])(_0x4ac160['fileName']),_0x23fd3b[_0x45ccb9][_0x2e98da(0x4d2)]=_0x4ac160?.[_0x2e98da(0x4d2)],_0x23fd3b[_0x45ccb9][_0x2e98da(0x4bb)]=_0x3d6ce8,_0x23fd3b[_0x45ccb9]['fileName']=_0x4ac160['fileName'],_0x4ac160[_0x2e98da(0x312)]===_0x2e98da(0x1b8)&&(_0x23fd3b[_0x45ccb9]['jpegThumbnail']=Uint8Array['from']((0x0,Le['readFileSync'])((0x0,U[_0x2e98da(0x640)])(process['cwd'](),'video-cover.png'))),_0x23fd3b[_0x45ccb9][_0x2e98da(0x6f9)]=!0x1),(0x0,w[_0x2e98da(0x19f)])('',{[_0x45ccb9]:{..._0x23fd3b[_0x45ccb9]}},{'userJid':this[_0x2e98da(0x31b)][_0x2e98da(0x699)]});}catch(_0x3fee33){let _0x3a7e77=_0x2e98da(0x600),_0x1ca09b=_0x3fee33 instanceof Error?_0x3fee33['message']:typeof _0x3fee33==_0x2e98da(0x72b)?JSON[_0x2e98da(0x2e3)](_0x3fee33):_0x3fee33,_0x1ae939=_0x3a7e77+':\x20'+_0x1ca09b;throw this[_0x2e98da(0x4ad)][_0x2e98da(0x295)](this[_0x2e98da(0x12b)]+'\x20('+this[_0x2e98da(0x31b)][_0x2e98da(0x699)]+_0x2e98da(0x12a)+_0x1ae939),new x(_0x1ae939);}}async[a0_0x22f2c8(0x9c)](_0x49ec88){const _0x17e39c=a0_0x22f2c8;let _0x274a9f=await this['prepareMediaMessage'](_0x49ec88[_0x17e39c(0x9c)]);return await this[_0x17e39c(0x637)](_0x49ec88[_0x17e39c(0x375)],{..._0x274a9f['message']},_0x49ec88?.['options']);}async['convertToWebP'](_0x8844c1,_0x431f33){const _0x1a58c8=a0_0x22f2c8;try{this[_0x1a58c8(0x4ad)]['verbose'](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)][_0x1a58c8(0x699)]+_0x1a58c8(0x62d));let _0x1231e1,_0x2fe610=_0x431f33+'-'+new Date()[_0x1a58c8(0x7ab)]();this['logger'][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this['instance'][_0x1a58c8(0x699)]+_0x1a58c8(0x190)+_0x2fe610);let _0x1ae652=''+(0x0,U[_0x1a58c8(0x640)])(this[_0x1a58c8(0x409)],_0x2fe610+_0x1a58c8(0x4bf));if(this['logger'][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)][_0x1a58c8(0x699)]+_0x1a58c8(0x726)+_0x1ae652),(0x0,k[_0x1a58c8(0x66c)])(_0x8844c1)){this[_0x1a58c8(0x4ad)][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)]['wuid']+_0x1a58c8(0x15a));let _0x45b20a=_0x8844c1['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3ede65=Buffer['from'](_0x45b20a,_0x1a58c8(0x275));_0x1231e1=''+(0x0,U[_0x1a58c8(0x640)])(this[_0x1a58c8(0x409)],'temp-'+_0x2fe610+_0x1a58c8(0x531)),this[_0x1a58c8(0x4ad)]['verbose'](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)][_0x1a58c8(0x699)]+_0x1a58c8(0xc0)+_0x1231e1),await(0x0,jt['default'])(_0x3ede65)[_0x1a58c8(0x6d1)](_0x1231e1),this[_0x1a58c8(0x4ad)][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)][_0x1a58c8(0x699)]+'):Image\x20created');}else{this[_0x1a58c8(0x4ad)][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this['instance'][_0x1a58c8(0x699)]+_0x1a58c8(0x606));let _0xbd9482=new Date()[_0x1a58c8(0x7ab)](),_0x3fa7c6=_0x8844c1+'?timestamp='+_0xbd9482;this[_0x1a58c8(0x4ad)][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)]['wuid']+'):including\x20timestamp\x20in\x20url:\x20'+_0x3fa7c6);let _0x43adfa=await Y[_0x1a58c8(0x66b)][_0x1a58c8(0x319)](_0x3fa7c6,{'responseType':_0x1a58c8(0x5a6)});this['logger']['verbose'](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)]['wuid']+'):Getting\x20image\x20from\x20url');let _0x15a000=Buffer['from'](_0x43adfa['data'],_0x1a58c8(0x346));_0x1231e1=''+(0x0,U[_0x1a58c8(0x640)])(this[_0x1a58c8(0x409)],_0x1a58c8(0x525)+_0x2fe610+_0x1a58c8(0x531)),this['logger']['verbose'](this[_0x1a58c8(0x12b)]+'\x20('+this['instance'][_0x1a58c8(0x699)]+_0x1a58c8(0xc0)+_0x1231e1),await(0x0,jt[_0x1a58c8(0x66b)])(_0x15a000)[_0x1a58c8(0x6d1)](_0x1231e1),this[_0x1a58c8(0x4ad)][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this['instance'][_0x1a58c8(0x699)]+_0x1a58c8(0x3f1));}return await(0x0,jt[_0x1a58c8(0x66b)])(_0x1231e1)[_0x1a58c8(0x706)]()['toFile'](_0x1ae652),this[_0x1a58c8(0x4ad)][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)][_0x1a58c8(0x699)]+_0x1a58c8(0x623)),L['unlinkSync'](_0x1231e1),this[_0x1a58c8(0x4ad)][_0x1a58c8(0x470)](this[_0x1a58c8(0x12b)]+'\x20('+this['instance'][_0x1a58c8(0x699)]+_0x1a58c8(0x322)),_0x1ae652;}catch(_0x3a0322){let _0x5d2337=_0x1a58c8(0x453),_0x2be885=_0x3a0322 instanceof Error?_0x3a0322[_0x1a58c8(0x659)]:typeof _0x3a0322=='object'?JSON[_0x1a58c8(0x2e3)](_0x3a0322):_0x3a0322,_0x19bb73=_0x5d2337+':\x20'+_0x2be885;this[_0x1a58c8(0x4ad)][_0x1a58c8(0x295)](this[_0x1a58c8(0x12b)]+'\x20('+this[_0x1a58c8(0x31b)][_0x1a58c8(0x699)]+_0x1a58c8(0x12a)+_0x19bb73);}}async[a0_0x22f2c8(0x1aa)](_0xa2ba0e){const _0x5a6db8=a0_0x22f2c8;let _0x13b79b=await this[_0x5a6db8(0x680)](_0xa2ba0e['stickerMessage'][_0x5a6db8(0x5c3)],_0xa2ba0e[_0x5a6db8(0x375)]),_0x577525=await this[_0x5a6db8(0x637)](_0xa2ba0e[_0x5a6db8(0x375)],{'sticker':{'url':_0x13b79b}},_0xa2ba0e?.[_0x5a6db8(0x73a)]);return L['unlinkSync'](_0x13b79b),this[_0x5a6db8(0x4ad)][_0x5a6db8(0x470)](this[_0x5a6db8(0x12b)]+'\x20('+this[_0x5a6db8(0x31b)]['wuid']+'):Converted\x20image\x20deleted'),_0x577525;}async[a0_0x22f2c8(0x2e0)](_0x12ba74){const _0x241b70=a0_0x22f2c8;if(this[_0x241b70(0x4ad)][_0x241b70(0x470)](this[_0x241b70(0x12b)]+'\x20('+this['instance'][_0x241b70(0x699)]+_0x241b70(0x765)),!_0x12ba74[_0x241b70(0x73a)]?.[_0x241b70(0x518)]&&_0x12ba74[_0x241b70(0x73a)]?.[_0x241b70(0x518)]!==!0x1&&(_0x12ba74['options'][_0x241b70(0x518)]=!0x0),_0x12ba74[_0x241b70(0x73a)]?.[_0x241b70(0x518)]){let _0x2f4173=await this['convertaudio'](_0x12ba74[_0x241b70(0x249)][_0x241b70(0x524)]);if(typeof _0x2f4173=='string'){let _0x4201c1=L['readFileSync'](_0x2f4173)[_0x241b70(0x1ee)](_0x241b70(0x275));return this[_0x241b70(0x637)](_0x12ba74[_0x241b70(0x375)],{'audio':Buffer[_0x241b70(0x59a)](_0x4201c1,_0x241b70(0x275)),'ptt':!0x0,'mimetype':_0x241b70(0x460)},{'presence':'recording','delay':_0x12ba74?.['options']?.[_0x241b70(0x3f2)]});}else throw new x(_0x2f4173);}return await this['sendMessageWithTyping'](_0x12ba74['number'],{'audio':(0x0,k[_0x241b70(0x430)])(_0x12ba74[_0x241b70(0x249)][_0x241b70(0x524)])?{'url':_0x12ba74[_0x241b70(0x249)][_0x241b70(0x524)]}:Buffer[_0x241b70(0x59a)](_0x12ba74[_0x241b70(0x249)][_0x241b70(0x524)],_0x241b70(0x275)),'ptt':!0x0,'mimetype':_0x241b70(0x460)},{'presence':_0x241b70(0x20b),'delay':_0x12ba74?.['options']?.['delay']});}async[a0_0x22f2c8(0xc9)](_0x4f37f0){const _0x3c075b=a0_0x22f2c8;this['logger']['verbose'](this[_0x3c075b(0x12b)]+'\x20('+this[_0x3c075b(0x31b)][_0x3c075b(0x699)]+_0x3c075b(0x6c1));let _0x11935b=(0x0,k[_0x3c075b(0x430)])(_0x4f37f0)?(0x0,Ne[_0x3c075b(0x2fe)])(_0x3c075b(0xb0))[_0x3c075b(0x748)](_0x4f37f0)[_0x3c075b(0x772)](_0x3c075b(0xc1)):(0x0,Ne['createHash'])('sha256')['update'](_0x4f37f0)[_0x3c075b(0x772)](_0x3c075b(0xc1)),_0x866445=''+(0x0,U['join'])(this[_0x3c075b(0x409)],_0x11935b+'.ogg');if(L[_0x3c075b(0x58a)](_0x866445))return this[_0x3c075b(0x4ad)][_0x3c075b(0x470)](this[_0x3c075b(0x12b)]+'\x20('+this['instance'][_0x3c075b(0x699)]+_0x3c075b(0x147)),_0x866445;let _0x4b133f=''+(0x0,U[_0x3c075b(0x640)])(this[_0x3c075b(0x409)],_0x3c075b(0x525)+(0x0,X['v4'])()+_0x3c075b(0x246));if((0x0,k[_0x3c075b(0x430)])(_0x4f37f0)){let _0x5e7baf=new Date()[_0x3c075b(0x7ab)](),_0x2dfe1e=_0x4f37f0+_0x3c075b(0x464)+_0x5e7baf,_0x58363b=await Y[_0x3c075b(0x66b)]['get'](_0x2dfe1e,{'responseType':'arraybuffer'});L[_0x3c075b(0x37e)](_0x4b133f,_0x58363b['data']);}else{let _0x113a54=Buffer[_0x3c075b(0x59a)](_0x4f37f0,_0x3c075b(0x275));L[_0x3c075b(0x37e)](_0x4b133f,_0x113a54);}return new Promise((_0x10e9cd,_0x201080)=>{const _0x12af76=_0x3c075b;(0x0,Fe[_0x12af76(0x19a)])(_s['default'][_0x12af76(0x6df)]+_0x12af76(0x496)+_0x4b133f+_0x12af76(0x10a)+_0x866445+_0x12af76(0x26d),_0x353baa=>{const _0x37409e=_0x12af76;if(L[_0x37409e(0x34d)](_0x4b133f),_0x353baa){this['logger'][_0x37409e(0x470)](this[_0x37409e(0x12b)]+'\x20('+this[_0x37409e(0x31b)][_0x37409e(0x699)]+_0x37409e(0x35c)),_0x201080(_0x353baa);return;}this[_0x37409e(0x4ad)]['verbose'](this[_0x37409e(0x12b)]+'\x20('+this[_0x37409e(0x31b)][_0x37409e(0x699)]+_0x37409e(0x370)),_0x10e9cd(_0x866445);});});}async[a0_0x22f2c8(0x6bb)](_0x425f03){const _0x355180=a0_0x22f2c8;this['logger'][_0x355180(0x470)](this['instanceName']+'\x20('+this[_0x355180(0x31b)]['wuid']+_0x355180(0x6c1));let _0x2b10cc=(0x0,Ne[_0x355180(0x2fe)])('sha256')[_0x355180(0x748)](_0x425f03)[_0x355180(0x772)](_0x355180(0xc1)),_0x20972e=''+(0x0,U['join'])(this[_0x355180(0x409)],_0x2b10cc+_0x355180(0x246));if(L[_0x355180(0x58a)](_0x20972e))return this[_0x355180(0x4ad)][_0x355180(0x470)](this['instanceName']+'\x20('+this[_0x355180(0x31b)][_0x355180(0x699)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),U['default'][_0x355180(0x481)](_0x20972e);let _0x1ce280=''+(0x0,U[_0x355180(0x640)])(this['storePath'],'temp-'+_0x2b10cc+_0x355180(0x162));if((0x0,k[_0x355180(0x430)])(_0x425f03)){let _0xac655b=new Date()[_0x355180(0x7ab)](),_0x55795c=_0x425f03+_0x355180(0x464)+_0xac655b,_0x272758=await Y[_0x355180(0x66b)]['get'](_0x55795c,{'responseType':_0x355180(0x5a6)});L[_0x355180(0x37e)](_0x1ce280,_0x272758[_0x355180(0x47d)]);}else{let _0x1b4409=Buffer['from'](_0x425f03,_0x355180(0x275));L[_0x355180(0x37e)](_0x1ce280,_0x1b4409);}return new Promise((_0x4dcc85,_0x5b7b59)=>{const _0x179b2a=_0x355180;(0x0,Fe[_0x179b2a(0x19a)])(_s[_0x179b2a(0x66b)][_0x179b2a(0x6df)]+'\x20-i\x20'+_0x1ce280+_0x179b2a(0x2ad)+_0x20972e+_0x179b2a(0x26d),_0x328cf2=>{const _0x326eda=_0x179b2a;if(L[_0x326eda(0x34d)](_0x1ce280),_0x328cf2){this[_0x326eda(0x4ad)][_0x326eda(0x470)](this[_0x326eda(0x12b)]+'\x20('+this[_0x326eda(0x31b)][_0x326eda(0x699)]+_0x326eda(0x35c)),_0x5b7b59(_0x328cf2);return;}this[_0x326eda(0x4ad)]['verbose'](this['instanceName']+'\x20('+this[_0x326eda(0x31b)][_0x326eda(0x699)]+_0x326eda(0x370)),_0x4dcc85(U[_0x326eda(0x66b)][_0x326eda(0x481)](_0x20972e));});});}async[a0_0x22f2c8(0x320)](_0x1f105d){const _0x2d6b38=a0_0x22f2c8;let _0x1ace3b={},_0x32f33d='TEXT';if(_0x1f105d[_0x2d6b38(0x320)]?.['mediaMessage']){_0x32f33d=_0x1f105d[_0x2d6b38(0x320)][_0x2d6b38(0x9c)]?.['mediatype']['toUpperCase']()??_0x2d6b38(0x2c6),_0x1ace3b[_0x2d6b38(0x3a2)]=_0x32f33d[_0x2d6b38(0x157)]()+'Message';let _0xdf39e1=await this[_0x2d6b38(0xf6)](_0x1f105d[_0x2d6b38(0x320)][_0x2d6b38(0x9c)]);_0x1ace3b[_0x2d6b38(0x659)]=_0xdf39e1['message'][_0x1ace3b[_0x2d6b38(0x3a2)]],_0x1ace3b[_0x2d6b38(0x385)]='*'+_0x1f105d[_0x2d6b38(0x320)][_0x2d6b38(0x6a2)]+'*\x0a\x0a'+_0x1f105d[_0x2d6b38(0x320)][_0x2d6b38(0x50b)];}let _0x59d21b={'text':_0x1f105d[_0x2d6b38(0x320)][_0x2d6b38(0x3b4)][_0x2d6b38(0x657)](_0xb4f083=>_0xb4f083[_0x2d6b38(0x5ab)]),'ids':_0x1f105d[_0x2d6b38(0x320)][_0x2d6b38(0x3b4)][_0x2d6b38(0x657)](_0x3e7154=>_0x3e7154['buttonId'])};if(!(0x0,k[_0x2d6b38(0x300)])(_0x59d21b[_0x2d6b38(0x20c)])||!(0x0,k['arrayUnique'])(_0x59d21b['ids']))throw new m(_0x2d6b38(0x749),_0x2d6b38(0x4fb));return await this[_0x2d6b38(0x637)](_0x1f105d[_0x2d6b38(0x375)],{'buttonsMessage':{'text':_0x1ace3b?.['mediaKey']?void 0x0:_0x1f105d[_0x2d6b38(0x320)][_0x2d6b38(0x6a2)],'contentText':_0x1ace3b?.[_0x2d6b38(0x385)]??_0x1f105d[_0x2d6b38(0x320)]['description'],'footerText':_0x1f105d[_0x2d6b38(0x320)]?.[_0x2d6b38(0x483)],'buttons':_0x1f105d[_0x2d6b38(0x320)]['buttons']['map'](_0x2ce70c=>({'buttonText':{'displayText':_0x2ce70c['buttonText']},'buttonId':_0x2ce70c['buttonId'],'type':0x1})),'headerType':w['proto'][_0x2d6b38(0x2ee)][_0x2d6b38(0x410)][_0x2d6b38(0x42d)][_0x32f33d],[_0x1ace3b?.[_0x2d6b38(0x3a2)]]:_0x1ace3b?.['message']}},_0x1f105d?.[_0x2d6b38(0x73a)]);}async[a0_0x22f2c8(0x687)](_0x493a46){const _0x4f47fa=a0_0x22f2c8;return await this[_0x4f47fa(0x637)](_0x493a46['number'],{'locationMessage':{'degreesLatitude':_0x493a46['locationMessage'][_0x4f47fa(0x4ed)],'degreesLongitude':_0x493a46[_0x4f47fa(0x687)][_0x4f47fa(0x7c8)],'name':_0x493a46[_0x4f47fa(0x687)]?.[_0x4f47fa(0x2cb)],'address':_0x493a46[_0x4f47fa(0x687)]?.[_0x4f47fa(0x2fa)]}},_0x493a46?.['options']);}async[a0_0x22f2c8(0x757)](_0x210f27){const _0x320f4b=a0_0x22f2c8;let _0x366f64={},_0x3c8a47=async _0x27e78a=>{const _0x5020f6=a0_0x2beb;let _0x30e829=_0x5020f6(0x72c)+_0x27e78a['fullName']+_0x5020f6(0x1d2)+_0x27e78a['fullName']+'\x0a';_0x27e78a['organization']&&(_0x30e829+='ORG:'+_0x27e78a[_0x5020f6(0x3d8)]+';\x0a'),_0x27e78a[_0x5020f6(0x405)]&&(_0x30e829+='EMAIL:'+_0x27e78a[_0x5020f6(0x405)]+'\x0a'),_0x27e78a[_0x5020f6(0x45f)]&&(_0x30e829+=_0x5020f6(0x52a)+_0x27e78a[_0x5020f6(0x45f)]+'\x0a');let _0x3989a7='',_0x26c9ed=0x1;if(_0x27e78a[_0x5020f6(0x47f)]){let _0x2dbf0a=_0x27e78a['phoneNumber'][_0x5020f6(0x293)]('|');for(let _0xad4d5a of _0x2dbf0a){let _0x4d3bc0=await this[_0x5020f6(0x337)]({'numbers':[_0xad4d5a]}),_0x89ca97=(_0x4d3bc0[_0x5020f6(0x4a3)]>0x0?_0x4d3bc0[0x0][_0x5020f6(0x50f)]:this[_0x5020f6(0x523)](_0xad4d5a))[_0x5020f6(0x16d)]('@s.whatsapp.net','');_0x3989a7+=_0x5020f6(0x5ca)+_0x26c9ed+'.TEL;waid='+_0x89ca97+':'+_0xad4d5a+_0x5020f6(0x572)+_0x26c9ed+_0x5020f6(0x718),_0x26c9ed++;}}return _0x30e829+=_0x3989a7+_0x5020f6(0x232),_0x30e829;};return _0x210f27[_0x320f4b(0x757)]['length']===0x1?_0x366f64[_0x320f4b(0x757)]={'displayName':_0x210f27[_0x320f4b(0x757)][0x0]['fullName'],'vcard':await _0x3c8a47(_0x210f27[_0x320f4b(0x757)][0x0])}:_0x366f64['contactsArrayMessage']={'displayName':_0x210f27[_0x320f4b(0x757)][_0x320f4b(0x4a3)]+_0x320f4b(0x67f),'contacts':await Promise[_0x320f4b(0x65b)](_0x210f27['contactMessage'][_0x320f4b(0x657)](async _0x1ec0ff=>({'displayName':_0x1ec0ff[_0x320f4b(0x145)],'vcard':await _0x3c8a47(_0x1ec0ff)})))},await this[_0x320f4b(0x637)](_0x210f27[_0x320f4b(0x375)],{..._0x366f64},_0x210f27?.[_0x320f4b(0x73a)]);}async[a0_0x22f2c8(0x304)](_0x4a5870){const _0x319c10=a0_0x22f2c8;return await this['sendMessageWithTyping'](_0x4a5870['reactionMessage']['key'][_0x319c10(0x22b)],{'reactionMessage':{'key':_0x4a5870[_0x319c10(0x304)][_0x319c10(0x41f)],'text':_0x4a5870[_0x319c10(0x304)][_0x319c10(0x225)]}});}async[a0_0x22f2c8(0x337)](_0x1294ef){const _0x2259d4=a0_0x22f2c8;let _0x2ee871=[];for await(let _0x2e780a of _0x1294ef[_0x2259d4(0x78d)]){let _0x4586ec=this[_0x2259d4(0x523)](_0x2e780a),_0x56069c=!0x1;try{if((0x0,w[_0x2259d4(0x67d)])(_0x4586ec)){let _0x2d5807=(await this[_0x2259d4(0x70e)][_0x2259d4(0x294)]['findOne']({'where':{'_id':_0x4586ec}},this[_0x2259d4(0x31b)][_0x2259d4(0x699)]))[_0x2259d4(0x46b)];_0x2d5807?(_0x56069c=!0x0,_0x2ee871[_0x2259d4(0x6b3)](new le(_0x2d5807['id'],_0x56069c,_0x2d5807?.['subject']))):(_0x2d5807=await this['findGroup']({'groupJid':_0x4586ec},_0x2259d4(0x609)),_0x2ee871[_0x2259d4(0x6b3)](new le(_0x2d5807['id'],!!_0x2d5807?.['id'],_0x2d5807?.[_0x2259d4(0x354)])));}else{if(_0x4586ec['includes']('@broadcast'))_0x2ee871[_0x2259d4(0x6b3)](new le(_0x4586ec,!0x0));else{let _0x226ce9=(await this[_0x2259d4(0x223)]['onWhatsApp'](_0x4586ec))[0x0];_0x2ee871[_0x2259d4(0x6b3)](new le(_0x226ce9[_0x2259d4(0x50f)],_0x226ce9[_0x2259d4(0x707)]));}}}catch{(0x0,w[_0x2259d4(0x67d)])(_0x4586ec)||await this[_0x2259d4(0x7d2)](_0x4586ec),_0x2ee871[_0x2259d4(0x6b3)](new le(_0x2e780a,!0x1));}}return _0x2ee871;}async[a0_0x22f2c8(0x7d2)](_0x2ed25c){const _0x32f10e=a0_0x22f2c8;try{await this[_0x32f10e(0x70e)][_0x32f10e(0x294)]['findOne']({'where':{'_id':_0x2ed25c,'imported':!0x0}},this['instance']['wuid'])&&(await this['repository'][_0x32f10e(0x294)][_0x32f10e(0x33d)](_0x2ed25c,this['instance'][_0x32f10e(0x699)]),this[_0x32f10e(0x4ad)][_0x32f10e(0x778)](_0x32f10e(0x341)+_0x2ed25c+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x18f154){let _0x27b357=_0x32f10e(0x2a1),_0x1ee64d=_0x18f154 instanceof Error?_0x18f154[_0x32f10e(0x659)]:typeof _0x18f154=='object'?JSON[_0x32f10e(0x2e3)](_0x18f154):_0x18f154,_0x5f1300=_0x27b357+':\x20'+_0x1ee64d;this['logger'][_0x32f10e(0x295)](this['instanceName']+'\x20('+this['instance'][_0x32f10e(0x699)]+'):\x20'+_0x5f1300);}}async[a0_0x22f2c8(0x41c)](_0x184de9){const _0xbb79b2=a0_0x22f2c8;try{let _0x3761a6=_0x184de9['readMessages'][_0xbb79b2(0x4e7)](_0x3dc148=>(0x0,w[_0xbb79b2(0x67d)])(_0x3dc148[_0xbb79b2(0x22b)])||(0x0,w[_0xbb79b2(0x7a0)])(_0x3dc148[_0xbb79b2(0x22b)]))[_0xbb79b2(0x657)](_0x20ba5e=>({'remoteJid':_0x20ba5e[_0xbb79b2(0x22b)],'fromMe':_0x20ba5e[_0xbb79b2(0x5ea)],'id':_0x20ba5e['id']}));await this[_0xbb79b2(0x223)][_0xbb79b2(0x75b)](_0x3761a6);let _0x46e303=_0x3761a6[_0xbb79b2(0x657)](_0x2232b2=>this[_0xbb79b2(0x5f5)](_0x2232b2,{'status':'READ','owner':this[_0xbb79b2(0x31b)][_0xbb79b2(0x699)]})),_0x3a29f8=_0x3761a6[_0xbb79b2(0x657)](_0x14a6de=>this[_0xbb79b2(0x70e)][_0xbb79b2(0x294)][_0xbb79b2(0x365)]({'where':{'_id':_0x14a6de[_0xbb79b2(0x22b)]}},{'unreadcount':0x0},this[_0xbb79b2(0x31b)][_0xbb79b2(0x699)])),[_0x5c5585,_0x2d464d]=await Promise[_0xbb79b2(0x65b)]([Promise['all'](_0x46e303),Promise[_0xbb79b2(0x65b)](_0x3a29f8)]);return _0x2d464d[_0xbb79b2(0x4e7)](_0x577b2e=>_0x577b2e!==null)[_0xbb79b2(0x317)](_0x331f39=>{const _0x2b5929=_0xbb79b2;J(this[_0x2b5929(0x12b)],_0x2b5929(0x24f),{'chat':_0x331f39});}),{'message':'Read\x20messages','read':_0xbb79b2(0xf7)};}catch(_0xc1e2a6){let _0x2b2081='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x10fdc7=_0xc1e2a6 instanceof Error?_0xc1e2a6[_0xbb79b2(0x659)]:typeof _0xc1e2a6==_0xbb79b2(0x72b)?JSON[_0xbb79b2(0x2e3)](_0xc1e2a6):_0xc1e2a6,_0xe27a7c=_0x2b2081+':\x20'+_0x10fdc7;throw this['logger']['error'](this[_0xbb79b2(0x12b)]+'\x20('+this[_0xbb79b2(0x31b)][_0xbb79b2(0x699)]+_0xbb79b2(0x12a)+_0xe27a7c),new x(_0xe27a7c);}}async[a0_0x22f2c8(0x1af)](_0xa9ee7d){const _0x5ee09a=a0_0x22f2c8;let _0x27fc6f={'where':{'key':{'remoteJid':_0xa9ee7d}},'limit':0x1},_0xe23098=await this[_0x5ee09a(0x171)](_0x27fc6f);return _0xe23098||(this[_0x5ee09a(0x4ad)]['error'](_0x5ee09a(0x4e4)+_0xa9ee7d),null);}async[a0_0x22f2c8(0x648)](_0x13442f){const _0x170649=a0_0x22f2c8;this[_0x170649(0x4ad)][_0x170649(0x470)](this[_0x170649(0x12b)]+'\x20('+this['instance'][_0x170649(0x699)]+_0x170649(0x10e));try{let _0x1e2195=_0x13442f[_0x170649(0x511)],_0x47ffd3=_0x13442f['chat'];if(!_0x1e2195&&_0x47ffd3?_0x1e2195=await this['getLastMessage'](_0x47ffd3):(_0x1e2195=_0x13442f['lastMessage'],_0x1e2195[_0x170649(0x4da)]=_0x1e2195?.[_0x170649(0x4da)]??Date[_0x170649(0x4f1)](),_0x47ffd3=_0x1e2195?.[_0x170649(0x41f)]?.['remoteJid']),!_0x1e2195||Object[_0x170649(0x158)](_0x1e2195)[_0x170649(0x4a3)]===0x0)throw new j('Last\x20message\x20not\x20found');this[_0x170649(0x4ad)]['verbose'](this['instanceName']+'\x20('+this[_0x170649(0x31b)][_0x170649(0x699)]+_0x170649(0x318)+_0x47ffd3);try{await this[_0x170649(0x223)][_0x170649(0x2e2)]({'archive':_0x13442f[_0x170649(0x353)],'lastMessages':[_0x1e2195]},this[_0x170649(0x523)](_0x47ffd3));}catch(_0x285b76){let _0x202803=_0x170649(0x3da)+_0x47ffd3,_0x513453=_0x285b76 instanceof Error?_0x285b76[_0x170649(0x659)]:typeof _0x285b76==_0x170649(0x72b)?JSON[_0x170649(0x2e3)](_0x285b76):_0x285b76,_0x58d72d=_0x202803+':\x20'+_0x513453;this['logger'][_0x170649(0x295)](this[_0x170649(0x12b)]+'\x20('+this[_0x170649(0x31b)]['wuid']+'):\x20'+_0x58d72d);}this[_0x170649(0x4ad)]['verbose'](this[_0x170649(0x12b)]+'\x20('+this['instance'][_0x170649(0x699)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x47ffd3);let _0xa88131=await this['repository'][_0x170649(0x294)][_0x170649(0x365)]({'where':{'_id':_0x1e2195?.['key']?.[_0x170649(0x22b)]}},{'archived':_0x13442f['archive']},this['instance'][_0x170649(0x699)]);return _0xa88131?(this['logger']['verbose'](this[_0x170649(0x12b)]+'\x20('+this[_0x170649(0x31b)]['wuid']+_0x170649(0x65c)+JSON[_0x170649(0x2e3)](_0xa88131)),J(this[_0x170649(0x12b)],_0x170649(0x24f),{'chat':_0xa88131})):this[_0x170649(0x4ad)][_0x170649(0x295)](this[_0x170649(0x12b)]+'\x20('+this[_0x170649(0x31b)][_0x170649(0x699)]+_0x170649(0x132)+_0x47ffd3),{'chatId':_0x47ffd3,'archived':_0x13442f[_0x170649(0x353)]};}catch(_0x5be49f){let _0x4e8b71=_0x170649(0x4d9),_0x1b6079=_0x5be49f instanceof Error?_0x5be49f['message']:typeof _0x5be49f==_0x170649(0x72b)?JSON['stringify'](_0x5be49f):_0x5be49f,_0x35dd7f=_0x4e8b71+':\x20'+_0x1b6079;throw this['logger'][_0x170649(0x295)](this[_0x170649(0x12b)]+'\x20('+this[_0x170649(0x31b)]['wuid']+'):\x20'+_0x35dd7f),new x(_0x35dd7f);}}async[a0_0x22f2c8(0x33d)](_0x1b9340){const _0x484534=a0_0x22f2c8;this['logger'][_0x484534(0x470)](this[_0x484534(0x12b)]+'\x20('+this[_0x484534(0x31b)][_0x484534(0x699)]+_0x484534(0x793));try{let _0x33bc95=await this[_0x484534(0x1af)](_0x1b9340);if(!_0x33bc95||Object['keys'](_0x33bc95)['length']===0x0)throw new j(_0x484534(0x548));let _0x3c5eb7=_0x33bc95[0x0];this[_0x484534(0x4ad)][_0x484534(0x470)](this['instanceName']+'\x20('+this[_0x484534(0x31b)][_0x484534(0x699)]+_0x484534(0x5ce)+_0x1b9340);try{await this[_0x484534(0x223)][_0x484534(0x2e2)]({'delete':!0x0,'lastMessages':[{'key':_0x3c5eb7['key'],'messageTimestamp':_0x3c5eb7[_0x484534(0x4da)]}]},this[_0x484534(0x523)](_0x1b9340));}catch(_0x3c8a79){this[_0x484534(0x4ad)][_0x484534(0x295)](_0x484534(0x3da)+_0x1b9340+':\x20'+_0x3c8a79[_0x484534(0x1ee)]());}this['logger'][_0x484534(0x470)](this[_0x484534(0x12b)]+'\x20('+this[_0x484534(0x31b)]['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x1b9340);return;}catch(_0x556780){throw this[_0x484534(0x4ad)][_0x484534(0x295)](this['instanceName']+'\x20('+this[_0x484534(0x31b)]['wuid']+_0x484534(0x499)+_0x556780[_0x484534(0x1ee)]()),new x({'archived':!0x1,'message':[_0x484534(0x6c2),_0x556780[_0x484534(0x1ee)]()]});}}async[a0_0x22f2c8(0x229)](_0x58b22b){const _0x17dfcc=a0_0x22f2c8;try{let _0x40f209=await this[_0x17dfcc(0x223)][_0x17dfcc(0x736)](_0x58b22b['remoteJid'],{'delete':_0x58b22b});try{let _0x1b0f59=await this['updateMessage'](_0x58b22b,{'status':_0x17dfcc(0x71b),'owner':this['instance'][_0x17dfcc(0x699)]});this[_0x17dfcc(0x4ad)][_0x17dfcc(0x470)](this[_0x17dfcc(0x12b)]+'\x20('+this[_0x17dfcc(0x31b)][_0x17dfcc(0x699)]+_0x17dfcc(0x258)+_0x1b0f59);}catch(_0x551571){this[_0x17dfcc(0x4ad)]['error'](_0x17dfcc(0x2d0)+_0x551571);}return _0x40f209;}catch(_0x236f70){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x236f70?.[_0x17dfcc(0x1ee)]());}}async['getBase64FromMediaMessage'](_0x30df40){const _0x18d884=a0_0x22f2c8;try{let _0x14f769=_0x30df40?.[_0x18d884(0x659)]?_0x30df40:await this[_0x18d884(0x500)](_0x30df40['key'],!0x0);for(let _0x175231 of Ea)_0x14f769['message'][_0x175231]&&(_0x14f769[_0x18d884(0x659)]=_0x14f769[_0x18d884(0x659)][_0x175231][_0x18d884(0x659)]);let _0x1cfdc1,_0x3d81ea;for(let _0x1f23ac of Ca)if(_0x1cfdc1=_0x14f769['message'][_0x1f23ac],_0x1cfdc1){_0x3d81ea=_0x1f23ac;break;}if(!_0x1cfdc1)throw _0x18d884(0x6c5);typeof _0x1cfdc1[_0x18d884(0x3a2)]=='object'&&(_0x14f769[_0x18d884(0x659)]=JSON['parse'](JSON[_0x18d884(0x2e3)](_0x14f769['message'])));let _0x164aff=await(0x0,w[_0x18d884(0x182)])({'key':_0x14f769?.['key'],'message':_0x14f769?.[_0x18d884(0x659)]},_0x18d884(0x490),{},{'logger':(0x0,Ut[_0x18d884(0x66b)])({'level':_0x18d884(0x7bc)}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x164aff instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x39a3d0=this['configService'][_0x18d884(0x319)]('DATABASE'),_0x39c0cb,_0x430554;if(_0x1cfdc1[_0x18d884(0x252)])_0x39c0cb=_0x1cfdc1[_0x18d884(0x252)];else{let _0xa6599f=_0x1cfdc1[_0x18d884(0x4bb)]?.['match'](/\/(\w+)/),_0x470040=_0xa6599f?_0xa6599f[0x1]:null;if(!_0x470040)throw new Error(_0x18d884(0x397));_0x39c0cb=(0x0,X['v4'])()+'.'+_0x470040;}_0x3d81ea===_0x18d884(0x249)?_0x430554='/media/'+await this[_0x18d884(0x6bb)](_0x164aff[_0x18d884(0x1ee)](_0x18d884(0x275))):(await this[_0x18d884(0x298)](_0x164aff,_0x39c0cb),_0x430554=_0x18d884(0x692)+_0x39c0cb);let _0xf17697=this['configService'][_0x18d884(0x319)](_0x18d884(0x3ae))[_0x18d884(0x7d0)];if(!_0xf17697){let _0x265a87=this[_0x18d884(0x53f)]['get'](_0x18d884(0x63a));_0xf17697='https://'+(_0x265a87&&_0x265a87[_0x18d884(0x4d6)][_0x18d884(0x293)]('/')[0x4]);}_0x430554=''+_0xf17697+_0x430554;let _0x182813=0xc*0x3c*0x3c*0x3e8,_0x58d378={'where':{'_id':_0x14f769[_0x18d884(0x41f)]['id']}},_0x1f02dc={'message_normalized.fileUrl':_0x430554,'message_normalized.expires_fileUrl':Date[_0x18d884(0x4f1)]()+_0x182813};try{let _0x226f37=await this[_0x18d884(0x70e)][_0x18d884(0x659)][_0x18d884(0x748)](_0x58d378,_0x1f02dc,this['instance'][_0x18d884(0x699)]);_0x226f37&&J(this[_0x18d884(0x12b)],_0x18d884(0x282),{'message':_0x226f37});}catch(_0x42ee7e){let _0x4b6ba4=_0x18d884(0x476),_0x306e5c=_0x42ee7e instanceof Error?_0x42ee7e['message']:typeof _0x42ee7e==_0x18d884(0x72b)?JSON[_0x18d884(0x2e3)](_0x42ee7e):_0x42ee7e,_0x4f77a3=_0x4b6ba4+':\x20'+_0x306e5c;this[_0x18d884(0x4ad)]['error'](this[_0x18d884(0x12b)]+'\x20('+this[_0x18d884(0x31b)]['wuid']+_0x18d884(0x12a)+_0x4f77a3);}return{'mediaType':_0x3d81ea,'fileName':_0x1cfdc1[_0x18d884(0x252)],'caption':_0x1cfdc1['caption'],'size':{'fileLength':_0x1cfdc1[_0x18d884(0x4dc)],'height':_0x1cfdc1[_0x18d884(0x296)],'width':_0x1cfdc1[_0x18d884(0x324)]},'mimetype':_0x1cfdc1['mimetype'],'base64':_0x164aff[_0x18d884(0x1ee)](_0x18d884(0x275)),'fileUrl':_0x430554,'expires_fileUrl':Date['now']()+_0x182813};}catch(_0x39275a){let _0x37d335=_0x18d884(0x509),_0x164c5c=_0x39275a instanceof Error?_0x39275a[_0x18d884(0x659)]:typeof _0x39275a==_0x18d884(0x72b)?JSON['stringify'](_0x39275a):_0x39275a,_0x3ac521=_0x37d335+':\x20'+_0x164c5c;throw this[_0x18d884(0x4ad)][_0x18d884(0x295)](this[_0x18d884(0x12b)]+'\x20('+this[_0x18d884(0x31b)][_0x18d884(0x699)]+_0x18d884(0x12a)+_0x3ac521),new m(_0x3ac521);}}async[a0_0x22f2c8(0x298)](_0x29ec2f,_0x45d722){const _0x5da395=a0_0x22f2c8;let _0x5b15f2=U[_0x5da395(0x66b)][_0x5da395(0x640)](__dirname,_0x5da395(0x60a));L[_0x5da395(0x58a)](_0x5b15f2)||L[_0x5da395(0x6ad)](_0x5b15f2,{'recursive':!0x0});let _0x5761c8=U[_0x5da395(0x66b)][_0x5da395(0x640)](_0x5b15f2,_0x45d722);return new Promise((_0x4fb557,_0x4dba32)=>{L['writeFile'](_0x5761c8,_0x29ec2f,_0x26fcc9=>{const _0x435990=a0_0x2beb;_0x26fcc9?(this[_0x435990(0x4ad)][_0x435990(0x295)]('Error\x20writing\x20file:\x20'+(_0x26fcc9 instanceof Error?_0x26fcc9[_0x435990(0x659)]:JSON[_0x435990(0x2e3)](_0x26fcc9,null,0x2))),_0x4dba32(_0x26fcc9)):(this[_0x435990(0x4ad)][_0x435990(0x274)](_0x435990(0x199)+_0x5761c8),_0x4fb557(_0x5761c8));});});}async[a0_0x22f2c8(0x1ff)](_0x581864){const _0x30464e=a0_0x22f2c8;return await this['repository']['contact'][_0x30464e(0xe9)](_0x581864,this[_0x30464e(0x31b)][_0x30464e(0x699)]);}async[a0_0x22f2c8(0x14d)](){const _0x458b2a=a0_0x22f2c8;return await this[_0x458b2a(0x70e)][_0x458b2a(0x585)][_0x458b2a(0xe9)]({'where':{}},this[_0x458b2a(0x31b)]['wuid']);}async[a0_0x22f2c8(0x171)](_0x2d4405){const _0xc29b1f=a0_0x22f2c8;return await this[_0xc29b1f(0x70e)][_0xc29b1f(0x659)][_0xc29b1f(0xe9)](_0x2d4405,this[_0xc29b1f(0x31b)][_0xc29b1f(0x699)]);}async[a0_0x22f2c8(0x682)](){const _0xd0b031=a0_0x22f2c8;return this[_0xd0b031(0x70e)]['chat'][_0xd0b031(0x756)](this[_0xd0b031(0x31b)][_0xd0b031(0x699)]),this[_0xd0b031(0x70e)][_0xd0b031(0x294)][_0xd0b031(0x78a)](this[_0xd0b031(0x31b)][_0xd0b031(0x699)]),this['repository']['chat'][_0xd0b031(0xa5)](this[_0xd0b031(0x31b)]['wuid']),this[_0xd0b031(0x70e)][_0xd0b031(0x294)][_0xd0b031(0x155)](this[_0xd0b031(0x31b)]['wuid']),await this[_0xd0b031(0x70e)][_0xd0b031(0x294)][_0xd0b031(0xe9)]({'where':{}},this[_0xd0b031(0x31b)][_0xd0b031(0x699)]);}async['importChatsAntigo'](_0x55a334){const _0x46bdcd=a0_0x22f2c8;try{if(!Array[_0x46bdcd(0x289)](_0x55a334)||_0x55a334[_0x46bdcd(0x4a3)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x41fcc2=[],_0x4f50b7=[];for(let _0x224f50 of _0x55a334){if(_0x224f50['_id'])_0x224f50[_0x46bdcd(0x286)]=this[_0x46bdcd(0x523)](_0x224f50[_0x46bdcd(0x286)]);else continue;await this[_0x46bdcd(0x70e)]['chat']['findOne']({'where':{'_id':_0x224f50[_0x46bdcd(0x286)]}},this[_0x46bdcd(0x31b)][_0x46bdcd(0x699)])?_0x4f50b7['push']({'_id':_0x224f50[_0x46bdcd(0x286)],'leadInfo':_0x224f50[_0x46bdcd(0x3be)],'owner':this['instance'][_0x46bdcd(0x699)]}):_0x41fcc2[_0x46bdcd(0x6b3)]({'_id':_0x224f50[_0x46bdcd(0x286)],'owner':this[_0x46bdcd(0x31b)]['wuid'],'leadInfo':_0x224f50[_0x46bdcd(0x3be)],'imported':!0x0});}return _0x4f50b7[_0x46bdcd(0x4a3)]>0x0&&await this['repository']['chat'][_0x46bdcd(0x25b)](_0x4f50b7[_0x46bdcd(0x657)](_0x37de4f=>({'query':{'where':{'_id':_0x37de4f[_0x46bdcd(0x286)],'owner':this[_0x46bdcd(0x31b)]['wuid']}},'update':_0x37de4f}))),_0x41fcc2['length']>0x0&&await this[_0x46bdcd(0x70e)][_0x46bdcd(0x294)][_0x46bdcd(0x698)](_0x41fcc2,this['instance'][_0x46bdcd(0x699)]),{'updated':_0x4f50b7['length'],'inserted':_0x41fcc2[_0x46bdcd(0x4a3)]};}catch(_0x15ddcc){let _0x38d56a=_0x46bdcd(0x429),_0x30e057=_0x15ddcc instanceof Error?_0x15ddcc['message']:typeof _0x15ddcc=='object'?JSON[_0x46bdcd(0x2e3)](_0x15ddcc):_0x15ddcc,_0x1acf78=_0x38d56a+':\x20'+_0x30e057;throw this[_0x46bdcd(0x4ad)]['error'](this[_0x46bdcd(0x12b)]+'\x20('+this['instance'][_0x46bdcd(0x699)]+_0x46bdcd(0x12a)+_0x1acf78),new m(_0x1acf78);}}async[a0_0x22f2c8(0x58d)](_0x5d5880){const _0x105dc3=a0_0x22f2c8;try{if(!Array[_0x105dc3(0x289)](_0x5d5880)||_0x5d5880[_0x105dc3(0x4a3)]===0x0)throw new Error(_0x105dc3(0xe5));let _0x5e811b=0x64,_0x3697ad=0x0;for(let _0x508060=0x0;_0x508060<_0x5d5880['length'];_0x508060+=_0x5e811b){let _0x3ac675=_0x5d5880[_0x105dc3(0x6b6)](_0x508060,_0x508060+_0x5e811b),{updated:_0x3bc86e}=await this[_0x105dc3(0xc4)](_0x3ac675);_0x3697ad+=_0x3bc86e;}return{'updated':_0x3697ad};}catch(_0x113ad9){let _0x414652=_0x105dc3(0x429),_0x3fe007=_0x113ad9 instanceof Error?_0x113ad9['message']:typeof _0x113ad9==_0x105dc3(0x72b)?JSON['stringify'](_0x113ad9):_0x113ad9,_0x334bef=_0x414652+':\x20'+_0x3fe007;throw this[_0x105dc3(0x4ad)][_0x105dc3(0x295)](this[_0x105dc3(0x12b)]+'\x20('+this['instance'][_0x105dc3(0x699)]+_0x105dc3(0x12a)+_0x334bef),new m(_0x334bef);}}async[a0_0x22f2c8(0xc4)](_0x2bdf91){const _0xd5474a=a0_0x22f2c8;try{let _0xec0bf3=await this['repository'][_0xd5474a(0x585)][_0xd5474a(0xe9)]({'where':{}},this[_0xd5474a(0x31b)][_0xd5474a(0x699)]),_0x2e68f3=new Set(_0xec0bf3['map'](_0x218866=>_0x218866['_id'])),_0x3b5843=[],_0x407cdd=[];for(let _0x57f1ad of _0x2bdf91){if(!_0x57f1ad[_0xd5474a(0x286)])continue;_0x57f1ad['_id']=this[_0xd5474a(0x523)](_0x57f1ad[_0xd5474a(0x286)]);let _0x428c74=await this['repository'][_0xd5474a(0x294)]['findOne']({'where':{'_id':_0x57f1ad[_0xd5474a(0x286)]}},this[_0xd5474a(0x31b)]['wuid']),_0x22a79f={};if(Object['entries'](_0x57f1ad[_0xd5474a(0x3be)])[_0xd5474a(0x317)](([_0x5e44c4,_0x1a8f0a])=>{const _0x28ff5e=_0xd5474a;_0x22a79f[_0x28ff5e(0x3a8)+_0x5e44c4]=_0x1a8f0a;}),_0x428c74&&!_0x428c74[_0xd5474a(0x233)]){let _0x53ac43=(_0x57f1ad[_0xd5474a(0x3be)][_0xd5474a(0x724)]||[])[_0xd5474a(0x4e7)](_0x1f6030=>_0x2e68f3[_0xd5474a(0x5f7)](_0x1f6030)),_0x27379a=new Set(_0x428c74[_0xd5474a(0x3be)][_0xd5474a(0x724)]||[]),_0x41831d=_0x53ac43[_0xd5474a(0x4e7)](_0x5d4b9a=>!_0x27379a[_0xd5474a(0x5f7)](_0x5d4b9a)),_0x3333bf=[..._0x27379a][_0xd5474a(0x4e7)](_0x25d206=>!_0x53ac43['includes'](_0x25d206));_0x407cdd[_0xd5474a(0x6b3)](..._0x41831d[_0xd5474a(0x657)](_0x4ed9a8=>this[_0xd5474a(0x50d)](_0x4ed9a8,_0x57f1ad[_0xd5474a(0x286)]))),_0x407cdd[_0xd5474a(0x6b3)](..._0x3333bf['map'](_0x3b70ad=>this[_0xd5474a(0x118)](_0x3b70ad,_0x57f1ad[_0xd5474a(0x286)]))),_0x57f1ad[_0xd5474a(0x3be)][_0xd5474a(0x724)]=_0x53ac43,_0x3b5843[_0xd5474a(0x6b3)]({'query':{'where':{'_id':_0x57f1ad[_0xd5474a(0x286)],'owner':this[_0xd5474a(0x31b)][_0xd5474a(0x699)]}},'update':_0x22a79f});}else _0x22a79f[_0xd5474a(0x233)]=!0x0,_0x3b5843[_0xd5474a(0x6b3)]({'query':{'where':{'_id':_0x57f1ad[_0xd5474a(0x286)],'owner':this[_0xd5474a(0x31b)][_0xd5474a(0x699)]}},'update':_0x22a79f});}let _0x5aa37c=await this[_0xd5474a(0x70e)][_0xd5474a(0x294)]['updateMany'](_0x3b5843);return await Promise[_0xd5474a(0x65b)](_0x407cdd),{'updated':_0x5aa37c};}catch(_0x153b92){let _0x23647f=_0xd5474a(0x429),_0x576d46=_0x153b92 instanceof Error?_0x153b92['message']:typeof _0x153b92==_0xd5474a(0x72b)?JSON[_0xd5474a(0x2e3)](_0x153b92):_0x153b92,_0x563782=_0x23647f+':\x20'+_0x576d46;throw this['logger'][_0xd5474a(0x295)](this['instanceName']+'\x20('+this['instance'][_0xd5474a(0x699)]+_0xd5474a(0x12a)+_0x563782),new m(_0x563782);}}async[a0_0x22f2c8(0x55e)](){const _0x49c448=a0_0x22f2c8;return await this[_0x49c448(0x223)][_0x49c448(0x55e)]();}async[a0_0x22f2c8(0x673)](_0x23ecb1){const _0x5803ca=a0_0x22f2c8;try{return await this[_0x5803ca(0x223)][_0x5803ca(0x172)](_0x23ecb1[_0x5803ca(0x794)][_0x5803ca(0x209)]),await this[_0x5803ca(0x223)][_0x5803ca(0x401)](_0x23ecb1[_0x5803ca(0x794)]['profile']),await this[_0x5803ca(0x223)]['updateStatusPrivacy'](_0x23ecb1['privacySettings'][_0x5803ca(0x3fe)]),await this['client']['updateOnlinePrivacy'](_0x23ecb1[_0x5803ca(0x794)][_0x5803ca(0x468)]),await this['client'][_0x5803ca(0x1a2)](_0x23ecb1[_0x5803ca(0x794)]['last']),await this[_0x5803ca(0x223)]['updateGroupsAddPrivacy'](_0x23ecb1['privacySettings'][_0x5803ca(0x4a6)]),this['client']?.['ws']?.['close'](),{'update':_0x5803ca(0xf7),'data':{'readreceipts':_0x23ecb1[_0x5803ca(0x794)][_0x5803ca(0x209)],'profile':_0x23ecb1[_0x5803ca(0x794)][_0x5803ca(0x7be)],'status':_0x23ecb1[_0x5803ca(0x794)][_0x5803ca(0x3fe)],'online':_0x23ecb1[_0x5803ca(0x794)]['online'],'last':_0x23ecb1[_0x5803ca(0x794)][_0x5803ca(0x3bd)],'groupadd':_0x23ecb1[_0x5803ca(0x794)]['groupadd']}};}catch(_0x2f78e4){let _0x3612d2=_0x5803ca(0x5c7),_0x1d93f=_0x2f78e4 instanceof Error?_0x2f78e4[_0x5803ca(0x659)]:typeof _0x2f78e4==_0x5803ca(0x72b)?JSON[_0x5803ca(0x2e3)](_0x2f78e4):_0x2f78e4,_0xbe0c87=_0x3612d2+':\x20'+_0x1d93f;throw this[_0x5803ca(0x4ad)][_0x5803ca(0x295)](this['instanceName']+'\x20('+this[_0x5803ca(0x31b)][_0x5803ca(0x699)]+'):\x20'+_0xbe0c87),new m(_0xbe0c87);}}async[a0_0x22f2c8(0x1a4)](_0x30a6e3){const _0x240511=a0_0x22f2c8;let _0x47eab=(_0x30a6e3?this[_0x240511(0x523)](_0x30a6e3):this['client']?.[_0x240511(0x3f4)]?.['id'])[_0x240511(0x16d)](/:\d{1,2}@/g,'@');this[_0x240511(0x4ad)][_0x240511(0x470)](this[_0x240511(0x12b)]+'\x20('+this[_0x240511(0x31b)][_0x240511(0x699)]+_0x240511(0xcf)+_0x47eab);let _0x234298=await this[_0x240511(0x70e)][_0x240511(0x35d)][_0x240511(0x239)]({'where':{'_id':_0x47eab}},this[_0x240511(0x31b)][_0x240511(0x699)]),_0x4dd189=_0x234298?_0x234298[_0x240511(0x395)]:null;try{let _0x426ef4=(await this['whatsappNumber']({'numbers':[_0x47eab]}))?.[_0x240511(0x2c3)](),_0x3dffdf=(await this[_0x240511(0x64f)](_0x47eab,null,!0x1))[_0x240511(0x264)]['pictureUrl'],_0xcb2b47=await this['getStatus'](_0x426ef4?.[_0x240511(0x50f)]),_0x22189e=await this[_0x240511(0x701)](_0x426ef4?.[_0x240511(0x50f)]),_0xc935b1=(await this['findAndUpdateCacheContact'](_0x47eab,null,!0x1))[_0x240511(0x264)]['name'],_0x3376ec=await this[_0x240511(0x70e)][_0x240511(0x294)][_0x240511(0x239)]({'where':{'_id':_0x47eab}},this[_0x240511(0x31b)][_0x240511(0x699)]),_0x19d216={'imagechat':_0x3dffdf,'contactname':_0x4dd189||null,'pushName':_0xc935b1,'status':_0xcb2b47?.[_0x240511(0x3fe)],'isBusiness':_0x22189e[_0x240511(0x28f)],'email':_0x22189e?.[_0x240511(0x405)],'description':_0x22189e?.[_0x240511(0x50b)],'website':_0x22189e?.[_0x240511(0x1cc)]?.[_0x240511(0x2c3)](),'lastcache':Date[_0x240511(0x4f1)](),'imported':!_0x3376ec},_0x58a297=await this[_0x240511(0x70e)][_0x240511(0x294)][_0x240511(0x365)]({'where':{'_id':_0x47eab}},_0x19d216,this[_0x240511(0x31b)][_0x240511(0x699)]),_0x11e419={'owner':this[_0x240511(0x31b)][_0x240511(0x699)],'_id':_0x47eab,'profilePictureUrl':_0x3dffdf,'status':_0xcb2b47?.[_0x240511(0x3fe)]};return this['repository'][_0x240511(0x35d)][_0x240511(0x748)]([_0x11e419],this[_0x240511(0x31b)][_0x240511(0x699)]),_0x58a297&&J(this[_0x240511(0x12b)],'chats',{'chat':_0x58a297}),{'wuid':_0x426ef4?.[_0x240511(0x50f)]||_0x47eab,'name':_0x426ef4?.[_0x240511(0x2cb)],'pushName':_0xc935b1,'numberExists':_0x426ef4?.[_0x240511(0x707)],'picture':_0x3dffdf,'status':_0xcb2b47?.[_0x240511(0x3fe)],'isBusiness':_0x22189e[_0x240511(0x28f)],'email':_0x22189e?.[_0x240511(0x405)],'description':_0x22189e?.[_0x240511(0x50b)],'website':_0x22189e?.['website']?.['shift']()};}catch(_0x37269c){return this[_0x240511(0x4ad)][_0x240511(0x295)](_0x240511(0x6e1)+(_0x37269c instanceof Error?_0x37269c[_0x240511(0x659)]:JSON[_0x240511(0x2e3)](_0x37269c,null,0x2))),{};}}async[a0_0x22f2c8(0x701)](_0x19db66){const _0x1f7b60=a0_0x22f2c8;this[_0x1f7b60(0x4ad)][_0x1f7b60(0x470)](this['instanceName']+'\x20('+this[_0x1f7b60(0x31b)]['wuid']+'):Fetching\x20business\x20profile');try{let _0x52ffc6=_0x19db66?this['createJid'](_0x19db66):this[_0x1f7b60(0x31b)][_0x1f7b60(0x699)],_0x508ad7=await this[_0x1f7b60(0x223)][_0x1f7b60(0x16c)](_0x52ffc6);return this[_0x1f7b60(0x4ad)][_0x1f7b60(0x470)](this[_0x1f7b60(0x12b)]+'\x20('+this['instance']['wuid']+_0x1f7b60(0x694)),_0x508ad7?(this[_0x1f7b60(0x4ad)][_0x1f7b60(0x470)](this[_0x1f7b60(0x12b)]+'\x20('+this['instance']['wuid']+_0x1f7b60(0x53a)),{'isBusiness':!0x0,..._0x508ad7}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x1f7b60(0x337)]({'numbers':[_0x52ffc6]}))?.[_0x1f7b60(0x2c3)]()};}catch(_0x463842){let _0x4e428b=_0x1f7b60(0x762),_0x303ee8=_0x463842 instanceof Error?_0x463842['message']:typeof _0x463842=='object'?JSON['stringify'](_0x463842):_0x463842,_0x2bbf22=_0x4e428b+':\x20'+_0x303ee8;throw this[_0x1f7b60(0x4ad)][_0x1f7b60(0x295)](this['instanceName']+'\x20('+this[_0x1f7b60(0x31b)]['wuid']+_0x1f7b60(0x12a)+_0x2bbf22),new x(_0x2bbf22);}}async['getStatus'](_0x368781){const _0x4542e2=a0_0x22f2c8;let _0x2d438f=this['createJid'](_0x368781);try{return{'wuid':_0x2d438f,'status':(await this[_0x4542e2(0x223)][_0x4542e2(0x1b4)](_0x2d438f))[0x0]?.[_0x4542e2(0x3fe)]};}catch{return{'wuid':_0x2d438f,'status':null};}}async[a0_0x22f2c8(0x737)](_0x6a1ee9){const _0x355233=a0_0x22f2c8;try{return await this['client']['updateProfileName'](_0x6a1ee9),{'update':'success'};}catch(_0x42e5d8){let _0x37a318='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x341914=_0x42e5d8 instanceof Error?_0x42e5d8[_0x355233(0x659)]:typeof _0x42e5d8==_0x355233(0x72b)?JSON[_0x355233(0x2e3)](_0x42e5d8):_0x42e5d8,_0x9269f2=_0x37a318+':\x20'+_0x341914;throw this[_0x355233(0x4ad)][_0x355233(0x295)](this[_0x355233(0x12b)]+'\x20('+this[_0x355233(0x31b)][_0x355233(0x699)]+'):\x20'+_0x9269f2),new x(_0x9269f2);}}async['updateProfileStatus'](_0x4f9b85){const _0x2ff408=a0_0x22f2c8;try{return await this[_0x2ff408(0x223)][_0x2ff408(0x164)](_0x4f9b85),{'update':_0x2ff408(0xf7)};}catch(_0x355d54){let _0x4aa543='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x592e6b=_0x355d54 instanceof Error?_0x355d54['message']:typeof _0x355d54=='object'?JSON[_0x2ff408(0x2e3)](_0x355d54):_0x355d54,_0xcf3dcd=_0x4aa543+':\x20'+_0x592e6b;throw this[_0x2ff408(0x4ad)]['error'](this[_0x2ff408(0x12b)]+'\x20('+this['instance'][_0x2ff408(0x699)]+_0x2ff408(0x12a)+_0xcf3dcd),new x(_0xcf3dcd);}}async[a0_0x22f2c8(0x1f4)](_0x40c4a2){const _0x5b54c6=a0_0x22f2c8;try{let _0x506d21;if((0x0,k['isURL'])(_0x40c4a2)){let _0x2678aa=new Date()[_0x5b54c6(0x7ab)](),_0x58faff=_0x40c4a2+_0x5b54c6(0x464)+_0x2678aa;_0x506d21=(await Y[_0x5b54c6(0x66b)][_0x5b54c6(0x319)](_0x58faff,{'responseType':_0x5b54c6(0x5a6)}))['data'];}else{if((0x0,k[_0x5b54c6(0x66c)])(_0x40c4a2))_0x506d21=Buffer[_0x5b54c6(0x59a)](_0x40c4a2,_0x5b54c6(0x275));else throw new m(_0x5b54c6(0x5cb));}return await this['client'][_0x5b54c6(0x1f4)](this[_0x5b54c6(0x31b)][_0x5b54c6(0x699)],_0x506d21),{'update':'success'};}catch(_0x29d10c){let _0x586eca=_0x5b54c6(0x137),_0x1590ff=_0x29d10c instanceof Error?_0x29d10c[_0x5b54c6(0x659)]:typeof _0x29d10c==_0x5b54c6(0x72b)?JSON['stringify'](_0x29d10c):_0x29d10c,_0x336d4c=_0x586eca+':\x20'+_0x1590ff;throw this[_0x5b54c6(0x4ad)][_0x5b54c6(0x295)](this['instanceName']+'\x20('+this[_0x5b54c6(0x31b)][_0x5b54c6(0x699)]+_0x5b54c6(0x12a)+_0x336d4c),new x(_0x336d4c);}}async['removeProfilePicture'](){const _0x311063=a0_0x22f2c8;try{return await this['client']['removeProfilePicture'](this['instance'][_0x311063(0x699)]),{'update':'success'};}catch(_0x3d6af8){let _0xb8882d='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x436fb5=_0x3d6af8 instanceof Error?_0x3d6af8[_0x311063(0x659)]:typeof _0x3d6af8=='object'?JSON['stringify'](_0x3d6af8):_0x3d6af8,_0x47290e=_0xb8882d+':\x20'+_0x436fb5;throw this[_0x311063(0x4ad)]['error'](this[_0x311063(0x12b)]+'\x20('+this[_0x311063(0x31b)]['wuid']+'):\x20'+_0x47290e),new x(_0x47290e);}}async[a0_0x22f2c8(0x797)](_0x544ed2){const _0x2aed19=a0_0x22f2c8;try{let _0x4c1efa=(await this['whatsappNumber']({'numbers':_0x544ed2[_0x2aed19(0x7b1)]}))[_0x2aed19(0x4e7)](_0x587ef4=>_0x587ef4['exists'])[_0x2aed19(0x657)](_0xd2707d=>_0xd2707d['jid']),{id:_0x29cb0a}=await this['client']['groupCreate'](_0x544ed2['subject'],_0x4c1efa);_0x544ed2?.[_0x2aed19(0x50b)]&&await this['client'][_0x2aed19(0x6bc)](_0x29cb0a,_0x544ed2[_0x2aed19(0x50b)]);let _0x442653=await this[_0x2aed19(0x223)]['groupMetadata'](_0x29cb0a);return _0x442653[_0x2aed19(0x46a)]=[],{'metadata':_0x442653};}catch(_0xa76f1f){let _0x1a0ea9=_0x2aed19(0x108),_0x3d84ee=_0xa76f1f instanceof Error?_0xa76f1f[_0x2aed19(0x659)]:typeof _0xa76f1f==_0x2aed19(0x72b)?JSON[_0x2aed19(0x2e3)](_0xa76f1f):_0xa76f1f,_0x33c90e=_0x1a0ea9+':\x20'+_0x3d84ee;throw this[_0x2aed19(0x4ad)][_0x2aed19(0x295)](this[_0x2aed19(0x12b)]+'\x20('+this[_0x2aed19(0x31b)][_0x2aed19(0x699)]+_0x2aed19(0x12a)+_0x33c90e),new x(_0x33c90e);}}async[a0_0x22f2c8(0x177)](_0x3d272c){const _0x356948=a0_0x22f2c8;try{if(_0x3d272c['restrict']===!0x0&&await this[_0x356948(0x223)][_0x356948(0x42f)](_0x3d272c[_0x356948(0x123)],_0x356948(0x2b7)),_0x3d272c[_0x356948(0x44b)]===!0x1&&await this['client']['groupSettingUpdate'](_0x3d272c[_0x356948(0x123)],'unlocked'),_0x3d272c[_0x356948(0x2e4)]===!0x0&&await this['client'][_0x356948(0x42f)](_0x3d272c['groupJid'],_0x356948(0x2cf)),_0x3d272c['announce']===!0x1&&await this[_0x356948(0x223)][_0x356948(0x42f)](_0x3d272c[_0x356948(0x123)],_0x356948(0x2d3)),_0x3d272c[_0x356948(0x577)]===!0x0&&await this[_0x356948(0x223)][_0x356948(0x184)](_0x3d272c[_0x356948(0x123)],'all_member_add'),_0x3d272c['memberAddMode']===!0x1&&await this[_0x356948(0x223)][_0x356948(0x184)](_0x3d272c['groupJid'],'admin_add'),_0x3d272c[_0x356948(0x4a1)]===!0x0&&await this[_0x356948(0x223)][_0x356948(0x6e7)](_0x3d272c['groupJid'],'on'),_0x3d272c[_0x356948(0x4a1)]===!0x1&&await this[_0x356948(0x223)][_0x356948(0x6e7)](_0x3d272c[_0x356948(0x123)],_0x356948(0x666)),typeof _0x3d272c[_0x356948(0x17f)]<'u'&&_0x3d272c[_0x356948(0x17f)]!==null&&await this['client'][_0x356948(0x34b)](_0x3d272c['groupJid'],_0x3d272c[_0x356948(0x17f)]),_0x3d272c['name']&&await this[_0x356948(0x223)][_0x356948(0x7b0)](_0x3d272c['groupJid'],_0x3d272c[_0x356948(0x2cb)]),_0x3d272c['description']&&await this['client'][_0x356948(0x6bc)](_0x3d272c['groupJid'],_0x3d272c[_0x356948(0x50b)]),_0x3d272c['image']){let _0x1328fb;if((0x0,k[_0x356948(0x430)])(_0x3d272c['image'])){let _0x3d2783=new Date()[_0x356948(0x7ab)](),_0x302a43=_0x3d272c[_0x356948(0x5c3)]+_0x356948(0x464)+_0x3d2783;_0x1328fb=(await Y[_0x356948(0x66b)][_0x356948(0x319)](_0x302a43,{'responseType':_0x356948(0x5a6)}))[_0x356948(0x47d)];}else{if((0x0,k['isBase64'])(_0x3d272c[_0x356948(0x5c3)]))_0x1328fb=Buffer[_0x356948(0x59a)](_0x3d272c[_0x356948(0x5c3)],_0x356948(0x275));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x356948(0x223)][_0x356948(0x1f4)](_0x3d272c[_0x356948(0x123)],_0x1328fb);}return await this['findGroup']({'groupJid':_0x3d272c['groupJid']});}catch(_0x16b176){let _0x151c47=_0x356948(0x53c),_0x592bc5=_0x16b176 instanceof Error?_0x16b176[_0x356948(0x659)]:typeof _0x16b176=='object'?JSON[_0x356948(0x2e3)](_0x16b176):_0x16b176,_0x4b435b=_0x151c47+':\x20'+_0x592bc5;throw this['logger']['error'](this[_0x356948(0x12b)]+'\x20('+this['instance'][_0x356948(0x699)]+_0x356948(0x12a)+_0x4b435b),new x(_0x4b435b);}}async[a0_0x22f2c8(0x779)](_0x11f829){const _0x24e076=a0_0x22f2c8;try{if(_0x11f829[_0x24e076(0x55b)]===_0x24e076(0x424)||_0x11f829['action']===_0x24e076(0x150)){let _0x457f59=_0x11f829['participants'][_0x24e076(0x657)](_0x1ddb14=>this['createJid'](_0x1ddb14));await this['client']['groupRequestParticipantsUpdate'](_0x11f829[_0x24e076(0x123)],_0x457f59,_0x11f829[_0x24e076(0x55b)]);}else{if(_0x11f829['action']===_0x24e076(0xda)){let _0x467428=(await this[_0x24e076(0x337)]({'numbers':_0x11f829[_0x24e076(0x7b1)]}))[_0x24e076(0x4e7)](_0xfb897d=>_0xfb897d[_0x24e076(0x707)])['map'](_0x403270=>this['createJid'](_0x403270[_0x24e076(0x50f)]));if(_0x467428['length']===0x0)throw new m(_0x24e076(0x12f));await this[_0x24e076(0x223)]['groupParticipantsUpdate'](_0x11f829[_0x24e076(0x123)],_0x467428,'add');}else{let _0x4a32f3=_0x11f829[_0x24e076(0x7b1)][_0x24e076(0x657)](_0x3ac752=>this[_0x24e076(0x523)](_0x3ac752));await this[_0x24e076(0x223)][_0x24e076(0x64c)](_0x11f829[_0x24e076(0x123)],_0x4a32f3,_0x11f829[_0x24e076(0x55b)]);}}return await this[_0x24e076(0x17d)]({'groupJid':_0x11f829['groupJid']});}catch(_0x35a614){let _0xd5a7bb=_0x24e076(0x163),_0x437db1=_0x35a614 instanceof Error?_0x35a614[_0x24e076(0x659)]:typeof _0x35a614==_0x24e076(0x72b)?JSON['stringify'](_0x35a614):_0x35a614,_0x275c77=_0xd5a7bb+':\x20'+_0x437db1;throw this['logger'][_0x24e076(0x295)](this[_0x24e076(0x12b)]+'\x20('+this[_0x24e076(0x31b)][_0x24e076(0x699)]+_0x24e076(0x12a)+_0x275c77),new m(_0x275c77);}}async[a0_0x22f2c8(0x399)](_0x10b59a){const _0x1a3250=a0_0x22f2c8;try{return await this[_0x1a3250(0x223)][_0x1a3250(0x399)](_0x10b59a[_0x1a3250(0x69b)]);}catch(_0x787c17){let _0x274647='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0xbd477e=_0x787c17 instanceof Error?_0x787c17[_0x1a3250(0x659)]:typeof _0x787c17==_0x1a3250(0x72b)?JSON[_0x1a3250(0x2e3)](_0x787c17):_0x787c17,_0x424b25=_0x274647+':\x20'+_0xbd477e;throw this[_0x1a3250(0x4ad)][_0x1a3250(0x295)](this[_0x1a3250(0x12b)]+'\x20('+this[_0x1a3250(0x31b)][_0x1a3250(0x699)]+_0x1a3250(0x12a)+_0x424b25),new m(_0x424b25);}}async['findGroup'](_0x1658ed,_0x31b485=a0_0x22f2c8(0x329)){const _0x12bf40=a0_0x22f2c8;try{let _0x599504=await this[_0x12bf40(0x70e)][_0x12bf40(0x294)][_0x12bf40(0x239)]({'where':{'_id':_0x1658ed[_0x12bf40(0x123)]}},this['instance'][_0x12bf40(0x699)]),_0x4eaf5f=_0x599504?_0x599504[_0x12bf40(0x46b)]:null,_0x4d7439=0x18*0x3c*0x3c*0x3e8;if(!_0x4eaf5f||_0x4eaf5f[_0x12bf40(0x579)]&&Date['now']()-_0x4eaf5f[_0x12bf40(0x579)]>_0x4d7439){let _0x5ba827=await this[_0x12bf40(0x223)][_0x12bf40(0x4ae)](_0x1658ed[_0x12bf40(0x123)]);if(_0x5ba827[_0x12bf40(0xef)]=_0x5ba827?.[_0x12bf40(0xef)]&&_0x5ba827[_0x12bf40(0xef)][_0x12bf40(0x1ee)]()['length']<0xd?_0x5ba827?.[_0x12bf40(0xef)]*0x3e8:_0x5ba827?.[_0x12bf40(0xef)]||null,_0x5ba827['creation']=_0x5ba827?.[_0x12bf40(0x191)]&&_0x5ba827[_0x12bf40(0x191)][_0x12bf40(0x1ee)]()[_0x12bf40(0x4a3)]<0xd?_0x5ba827?.[_0x12bf40(0x191)]*0x3e8:_0x5ba827?.[_0x12bf40(0x191)]||null,_0x4eaf5f={..._0x5ba827,'lastUpdate':Date[_0x12bf40(0x4f1)]()},!_0x5ba827)return;}let _0x683e86=_0x4eaf5f[_0x12bf40(0x7b1)][_0x12bf40(0x2f7)](_0x190fb7=>_0x190fb7['id']===this[_0x12bf40(0x31b)][_0x12bf40(0x699)]+_0x12bf40(0x3c2)&&_0x190fb7['admin']!=null);!_0x4eaf5f[_0x12bf40(0x69b)]&&_0x683e86&&(_0x4eaf5f[_0x12bf40(0x69b)]=(await this[_0x12bf40(0x69b)](_0x1658ed,!0x1))[_0x12bf40(0x48a)]);let _0x1b7dd8=(!_0x4eaf5f[_0x12bf40(0x2e4)]||_0x683e86)&&(!_0x4eaf5f[_0x12bf40(0x45a)]||_0x4eaf5f[_0x12bf40(0x45a)]&&_0x4eaf5f['isCommunityAnnounce']&&_0x683e86);_0x4eaf5f[_0x12bf40(0x4c8)]=_0x683e86,_0x4eaf5f[_0x12bf40(0x7d4)]=_0x1b7dd8;let _0x144dc7=[];if(_0x683e86&&_0x4eaf5f['joinApprovalMode'])try{_0x144dc7=await this[_0x12bf40(0x223)]['groupRequestParticipantsList'](_0x1658ed[_0x12bf40(0x123)]),_0x4eaf5f[_0x12bf40(0x6cf)]=Date['now']();}catch(_0x50e777){this['logger'][_0x12bf40(0x470)](this['instanceName']+'\x20('+this[_0x12bf40(0x31b)][_0x12bf40(0x699)]+_0x12bf40(0x2bc)+_0x1658ed['groupJid']+':\x20'+(_0x50e777 instanceof Error?_0x50e777['message']:JSON[_0x12bf40(0x2e3)](_0x50e777,null,0x2)));}try{_0x4eaf5f[_0x12bf40(0x5c3)]=(await this[_0x12bf40(0x64f)](_0x1658ed[_0x12bf40(0x123)],null,!0x0))[_0x12bf40(0x264)]['pictureUrl'];}catch(_0x19979e){this[_0x12bf40(0x4ad)][_0x12bf40(0x470)](this[_0x12bf40(0x12b)]+'\x20('+this['instance']['wuid']+_0x12bf40(0x4d3)+_0x1658ed[_0x12bf40(0x123)]+':\x20'+(_0x19979e instanceof Error?_0x19979e[_0x12bf40(0x659)]:JSON[_0x12bf40(0x2e3)](_0x19979e,null,0x2)));}let _0x4f7bab=_0x4eaf5f[_0x12bf40(0x7b1)]['map'](_0x585a83=>_0x585a83['id']),_0x19ed1b=_0x144dc7['map'](_0x3878e3=>_0x3878e3[_0x12bf40(0x50f)]),_0x266ee3=await this[_0x12bf40(0x70e)]['cacheContact'][_0x12bf40(0x725)]([..._0x4f7bab,..._0x19ed1b]);_0x4eaf5f[_0x12bf40(0x7b1)]=_0x4eaf5f['participants']['map'](_0x56387f=>{const _0x33f171=_0x12bf40;let _0x10ee9d=_0x266ee3['find'](_0xd1e4a6=>_0xd1e4a6['_id']===_0x56387f['id']);return{'id':_0x56387f['id'],'isAdmin':[_0x33f171(0x310),_0x33f171(0x1c5)]['includes'](_0x56387f[_0x33f171(0x310)]),'admin':_0x56387f[_0x33f171(0x310)],'pushName':_0x10ee9d?.[_0x33f171(0x2cb)],'profilePictureUrl':_0x10ee9d?.[_0x33f171(0x154)]};}),_0x4eaf5f[_0x12bf40(0x46a)]=_0x144dc7['map'](_0x3d8aed=>{const _0x39a7ee=_0x12bf40;let _0x5985f3=_0x266ee3[_0x39a7ee(0xe9)](_0x2d1b53=>_0x2d1b53[_0x39a7ee(0x286)]===_0x3d8aed[_0x39a7ee(0x50f)]);return{'id':_0x3d8aed[_0x39a7ee(0x50f)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x5985f3?.[_0x39a7ee(0x2cb)],'profilePictureUrl':_0x5985f3?.[_0x39a7ee(0x154)],'request_method':_0x3d8aed[_0x39a7ee(0x306)],'request_time':_0x3d8aed[_0x39a7ee(0x47b)]};});let _0x2d9fb8=await this['repository'][_0x12bf40(0x294)][_0x12bf40(0x365)]({'where':{'_id':_0x1658ed[_0x12bf40(0x123)]}},{'imagechat':_0x4eaf5f['image'],'name':_0x4eaf5f[_0x12bf40(0x354)],'lastcache':Date['now'](),'groupdata':_0x4eaf5f},this['instance'][_0x12bf40(0x699)]);return J(this[_0x12bf40(0x12b)],_0x12bf40(0x24f),{'chat':_0x2d9fb8}),{'metadata':_0x4eaf5f};}catch(_0x2852ac){if(_0x31b485===_0x12bf40(0x609))return;throw new j(_0x12bf40(0x5a4),_0x2852ac[_0x12bf40(0x659)][_0x12bf40(0x1ee)]());}}async['findGroups'](){const _0x40e7d1=a0_0x22f2c8;try{this[_0x40e7d1(0x4ad)][_0x40e7d1(0x778)](_0x40e7d1(0x308));let _0xfc832d=Date[_0x40e7d1(0x4f1)](),_0x35afa3=0x3*0x3c*0x3c*0x3e8;return _0xfc832d-this[_0x40e7d1(0x28d)]>_0x35afa3&&(this['findRealGroups'](),this[_0x40e7d1(0x28d)]=_0xfc832d),(await this['repository'][_0x40e7d1(0x294)][_0x40e7d1(0x201)]({'where':{'group':!0x0}},this[_0x40e7d1(0x31b)][_0x40e7d1(0x699)]))['map'](_0x3391c2=>({..._0x3391c2['groupdata'],'groupJid':_0x3391c2?.['_id'],'participants':_0x3391c2?.[_0x40e7d1(0x46b)]?.[_0x40e7d1(0x7b1)]||[],'awaitingApproval':_0x3391c2?.['groupdata']?.['awaitingApproval']||[],'image':_0x3391c2?.['imagechat']}));}catch(_0x5d6c17){let _0x23ec2a=_0x40e7d1(0x15b),_0x4c46af=_0x5d6c17 instanceof Error?_0x5d6c17[_0x40e7d1(0x659)]:typeof _0x5d6c17=='object'?JSON[_0x40e7d1(0x2e3)](_0x5d6c17):_0x5d6c17,_0x458a9d=_0x23ec2a+':\x20'+_0x4c46af;throw this[_0x40e7d1(0x4ad)][_0x40e7d1(0x295)](this[_0x40e7d1(0x12b)]+'\x20('+this[_0x40e7d1(0x31b)][_0x40e7d1(0x699)]+_0x40e7d1(0x12a)+_0x458a9d),new j(_0x458a9d);}}async[a0_0x22f2c8(0x7a7)](){const _0x1d2452=a0_0x22f2c8;try{this[_0x1d2452(0x4ad)][_0x1d2452(0x778)](_0x1d2452(0x5ef));let _0x3eb047=[],_0x1638ae=await this['client'][_0x1d2452(0x6cb)](),_0x2756c6=Object[_0x1d2452(0xa0)](_0x1638ae),_0xf3e464=_0x2756c6[_0x1d2452(0x4e7)](_0x49fcbe=>(0x0,w[_0x1d2452(0x67d)])(_0x49fcbe?.['id']))[_0x1d2452(0x657)](async _0x2a9f76=>{const _0x43a339=_0x1d2452;try{return await this['client'][_0x43a339(0x333)](_0x2a9f76['id'],_0x43a339(0x4c5));}catch(_0x60fcc8){return this[_0x43a339(0x4ad)][_0x43a339(0x470)](this[_0x43a339(0x12b)]+'\x20('+this[_0x43a339(0x31b)][_0x43a339(0x699)]+_0x43a339(0x4d3)+_0x2a9f76['id']+':\x20'+(_0x60fcc8 instanceof Error?_0x60fcc8[_0x43a339(0x659)]:JSON[_0x43a339(0x2e3)](_0x60fcc8,null,0x2))),null;}}),_0x12faaa=await Promise[_0x1d2452(0x65b)](_0xf3e464);for(let _0x3a91e1=0x0;_0x3a91e1<_0x2756c6['length'];_0x3a91e1++){let _0x468f94=_0x2756c6[_0x3a91e1];(0x0,w['isJidGroup'])(_0x468f94?.['id'])&&(_0x3eb047[_0x1d2452(0x6b3)]({'groupJid':_0x468f94?.['id'],'subject':_0x468f94?.[_0x1d2452(0x354)],'subjectOwner':_0x468f94?.['subjectOwner']?.[_0x1d2452(0x293)]('@')[0x0],'subjectTime':_0x468f94?.[_0x1d2452(0xef)],'creation':_0x468f94?.[_0x1d2452(0x191)],'size':_0x468f94?.[_0x1d2452(0x7b1)]?.['length'],'owner':_0x468f94?.[_0x1d2452(0x58e)]?.['split']('@')[0x0],'desc':_0x468f94?.[_0x1d2452(0x3cb)],'restrict':_0x468f94?.[_0x1d2452(0x44b)],'announce':_0x468f94?.[_0x1d2452(0x2e4)],'image':_0x12faaa[_0x3a91e1],'isCommunity':_0x468f94?.[_0x1d2452(0x45a)],'joinApprovalMode':_0x468f94?.[_0x1d2452(0x4a1)],'memberCanAddParticipant':_0x468f94?.[_0x1d2452(0x577)],'participants':_0x468f94?.[_0x1d2452(0x7b1)],'descOwner':_0x468f94?.[_0x1d2452(0x3cd)],'descId':_0x468f94?.[_0x1d2452(0x18c)],'memberAddMode':_0x468f94?.[_0x1d2452(0x577)],'isCommunityAnnounce':_0x468f94?.[_0x1d2452(0x27e)],'ephemeralDuration':_0x468f94?.['ephemeralDuration']||0x0,'author':_0x468f94?.[_0x1d2452(0x3c8)]}),this[_0x1d2452(0x291)](_0x2756c6[_0x3a91e1]));}return _0x3eb047;}catch(_0xe94a51){let _0x12b5a0=_0x1d2452(0x57c),_0x55bb9d=_0xe94a51 instanceof Error?_0xe94a51[_0x1d2452(0x659)]:typeof _0xe94a51=='object'?JSON[_0x1d2452(0x2e3)](_0xe94a51):_0xe94a51,_0x5acf46=_0x12b5a0+':\x20'+_0x55bb9d;throw this[_0x1d2452(0x4ad)][_0x1d2452(0x295)](this[_0x1d2452(0x12b)]+'\x20('+this[_0x1d2452(0x31b)][_0x1d2452(0x699)]+'):\x20'+_0x5acf46),new j(_0x5acf46);}}async['updateChatGroupData'](_0x59d48c){const _0x29ae59=a0_0x22f2c8;let _0x1d4220=await this[_0x29ae59(0x70e)]['chat'][_0x29ae59(0x239)]({'where':{'_id':_0x59d48c['id']}},this[_0x29ae59(0x31b)][_0x29ae59(0x699)]);_0x59d48c[_0x29ae59(0xef)]=_0x59d48c?.[_0x29ae59(0xef)]&&_0x59d48c[_0x29ae59(0xef)][_0x29ae59(0x1ee)]()[_0x29ae59(0x4a3)]<0xd?_0x59d48c?.[_0x29ae59(0xef)]*0x3e8:_0x59d48c?.[_0x29ae59(0xef)]||null,_0x59d48c['creation']=_0x59d48c?.[_0x29ae59(0x191)]&&_0x59d48c[_0x29ae59(0x191)][_0x29ae59(0x1ee)]()[_0x29ae59(0x4a3)]<0xd?_0x59d48c?.[_0x29ae59(0x191)]*0x3e8:_0x59d48c?.[_0x29ae59(0x191)]||null;let _0x2a6b0a=_0x1d4220?.['groupdata']?.[_0x29ae59(0x46a)]||[],_0x45afa4=_0x1d4220?.[_0x29ae59(0x46b)]?.['lastFetchAwaitingApproval'],_0x22fa56=_0x59d48c[_0x29ae59(0x7b1)][_0x29ae59(0x657)](_0x589f6c=>{const _0x18d4d6=_0x29ae59;let _0x42ffa5=_0x1d4220?.[_0x18d4d6(0x46b)]?.[_0x18d4d6(0x7b1)][_0x18d4d6(0xe9)](_0x19a4c4=>_0x19a4c4['id']===_0x589f6c['id']);return{..._0x589f6c,'isAdmin':[_0x18d4d6(0x310),'superadmin'][_0x18d4d6(0x750)](_0x589f6c[_0x18d4d6(0x310)]),'admin':_0x589f6c[_0x18d4d6(0x310)],'name':_0x42ffa5?.['name']||_0x589f6c[_0x18d4d6(0x2cb)],'imgUrl':_0x42ffa5?.[_0x18d4d6(0x789)]||_0x589f6c[_0x18d4d6(0x789)]};}),_0x373d11=_0x22fa56[_0x29ae59(0x2f7)](_0x1b6115=>_0x1b6115['id']===this['instance'][_0x29ae59(0x699)]+_0x29ae59(0x3c2)&&_0x1b6115['isAdmin']),_0x4506eb=(!_0x59d48c[_0x29ae59(0x2e4)]||_0x373d11)&&(!_0x59d48c['isCommunity']||_0x59d48c[_0x29ae59(0x45a)]&&_0x59d48c[_0x29ae59(0x27e)]&&_0x373d11),_0x1db811={..._0x59d48c,'participants':_0x22fa56,'awaitingApproval':_0x2a6b0a,'lastFetchAwaitingApproval':_0x45afa4,'isAdmin':_0x373d11,'canSendMessage':_0x4506eb,'lastUpdate':Date[_0x29ae59(0x4f1)]()};await this[_0x29ae59(0x70e)][_0x29ae59(0x294)]['updateOne']({'where':{'_id':_0x59d48c['id']}},{'name':_0x59d48c[_0x29ae59(0x354)],'group':!0x0,'groupdata':_0x1db811,'lastcache':Date['now']()},this[_0x29ae59(0x31b)][_0x29ae59(0x699)]),J(this[_0x29ae59(0x12b)],_0x29ae59(0x24f),{'chat':_0x59d48c});}async['updateGroupWebhook'](_0x1a66c5){const _0x27527b=a0_0x22f2c8;let _0x3336ed=await this[_0x27527b(0x70e)][_0x27527b(0x294)][_0x27527b(0x239)]({'where':{'_id':_0x1a66c5['id']}},this[_0x27527b(0x31b)][_0x27527b(0x699)]);_0x1a66c5['subjectTime']=_0x1a66c5?.['subjectTime']&&_0x1a66c5[_0x27527b(0xef)][_0x27527b(0x1ee)]()[_0x27527b(0x4a3)]<0xd?_0x1a66c5?.[_0x27527b(0xef)]*0x3e8:_0x1a66c5?.[_0x27527b(0xef)]||null,_0x1a66c5[_0x27527b(0x191)]=_0x1a66c5?.[_0x27527b(0x191)]&&_0x1a66c5[_0x27527b(0x191)]['toString']()['length']<0xd?_0x1a66c5?.[_0x27527b(0x191)]*0x3e8:_0x1a66c5?.['creation']||null,_0x1a66c5[_0x27527b(0x69b)]&&(_0x1a66c5[_0x27527b(0x69b)]=_0x27527b(0xd2)+_0x1a66c5[_0x27527b(0x69b)]);let _0x201556=_0x3336ed?.['groupdata']?{..._0x3336ed[_0x27527b(0x46b)]}:{};Object[_0x27527b(0x158)](_0x1a66c5)[_0x27527b(0x317)](_0x3f8e74=>{_0x3f8e74!=='id'&&(_0x201556[_0x3f8e74]=_0x1a66c5[_0x3f8e74]);});let _0x12009f=_0x201556[_0x27527b(0x7b1)]?.[_0x27527b(0x2f7)](_0x5bcaa1=>_0x5bcaa1['id']===this['instance'][_0x27527b(0x699)]+_0x27527b(0x3c2)&&_0x5bcaa1[_0x27527b(0x4c8)])||!0x1;_0x201556[_0x27527b(0x4c8)]=_0x12009f;let _0x51556f=(!_0x201556[_0x27527b(0x2e4)]||_0x12009f)&&(!_0x201556[_0x27527b(0x45a)]||_0x201556['isCommunity']&&_0x201556['isCommunityAnnounce']&&_0x12009f);_0x201556[_0x27527b(0x7d4)]=_0x51556f;let _0x289ccf={'group':!0x0,'groupdata':_0x201556};_0x1a66c5[_0x27527b(0x354)]&&(_0x289ccf[_0x27527b(0x2cb)]=_0x1a66c5[_0x27527b(0x354)]),await this[_0x27527b(0x70e)][_0x27527b(0x294)][_0x27527b(0x365)]({'where':{'_id':_0x1a66c5['id']}},_0x289ccf,this[_0x27527b(0x31b)][_0x27527b(0x699)],{'upsert':!0x0}),J(this[_0x27527b(0x12b)],'chats',{'chat':_0x289ccf});}async[a0_0x22f2c8(0x610)](_0x15866a){const _0x2a5170=a0_0x22f2c8;let _0x19345e=await this['repository'][_0x2a5170(0x294)]['findOne']({'where':{'_id':_0x15866a['id']}},this[_0x2a5170(0x31b)][_0x2a5170(0x699)]);if(!_0x19345e||!_0x19345e['groupdata']){this[_0x2a5170(0x4ad)][_0x2a5170(0x778)](this[_0x2a5170(0x12b)]+'\x20('+this[_0x2a5170(0x31b)][_0x2a5170(0x699)]+_0x2a5170(0x1c3)+_0x15866a['id']);return;}let _0x4839c0=await this[_0x2a5170(0x70e)][_0x2a5170(0x10f)][_0x2a5170(0x725)](_0x15866a[_0x2a5170(0x7b1)]),_0x124187=[..._0x19345e[_0x2a5170(0x46b)]?.[_0x2a5170(0x7b1)]];switch(_0x15866a[_0x2a5170(0x55b)]){case _0x2a5170(0xda):let _0x17f785=_0x4839c0['map'](_0x518dfb=>({'id':_0x518dfb[_0x2a5170(0x286)],'isAdmin':!0x1,'name':_0x518dfb['name'],'imgUrl':_0x518dfb[_0x2a5170(0x154)]}));_0x124187=[..._0x124187,..._0x17f785];break;case _0x2a5170(0x400):_0x124187=_0x124187[_0x2a5170(0x4e7)](_0x8f8fd0=>!_0x15866a[_0x2a5170(0x7b1)]['includes'](_0x8f8fd0['id']));break;case _0x2a5170(0x2ba):case _0x2a5170(0xc7):_0x124187=_0x124187[_0x2a5170(0x657)](_0x4c2bae=>_0x15866a[_0x2a5170(0x7b1)]['includes'](_0x4c2bae['id'])?{..._0x4c2bae,'isAdmin':_0x15866a['action']==='promote'}:_0x4c2bae);break;}let _0x366181=_0x124187['length'],_0x43d907=_0x124187[_0x2a5170(0x2f7)](_0x25e721=>_0x25e721['id']===this[_0x2a5170(0x31b)][_0x2a5170(0x699)]+'@s.whatsapp.net'),_0x2259f8=_0x43d907&&_0x124187[_0x2a5170(0x2f7)](_0x333131=>_0x333131['id']===this[_0x2a5170(0x31b)]['wuid']+'@s.whatsapp.net'&&_0x333131[_0x2a5170(0x4c8)]),_0x1b7c5a=_0x43d907&&(!_0x19345e[_0x2a5170(0x46b)][_0x2a5170(0x2e4)]||_0x2259f8)&&(!_0x19345e['groupdata']['isCommunity']||_0x19345e[_0x2a5170(0x46b)][_0x2a5170(0x45a)]&&_0x2259f8);await this['repository'][_0x2a5170(0x294)][_0x2a5170(0x365)]({'where':{'_id':_0x15866a['id']}},{'groupdata':{..._0x19345e[_0x2a5170(0x46b)],'participants':_0x124187,'size':_0x366181,'isAdmin':_0x2259f8,'canSendMessage':_0x1b7c5a}},this[_0x2a5170(0x31b)][_0x2a5170(0x699)]),this[_0x2a5170(0x4ad)][_0x2a5170(0x778)](this[_0x2a5170(0x12b)]+'\x20('+this['instance'][_0x2a5170(0x699)]+_0x2a5170(0x565)+_0x15866a['id']+_0x2a5170(0x1bc)+_0x15866a[_0x2a5170(0x55b)]+',\x20Novo\x20tamanho:\x20'+_0x366181+',\x20isAdmin:\x20'+_0x2259f8+_0x2a5170(0x517)+_0x1b7c5a);}async[a0_0x22f2c8(0x69b)](_0x27447f,_0x45979c=!0x0){const _0x5aa1b7=a0_0x22f2c8;try{let _0x185430=await this['client'][_0x5aa1b7(0x54e)](_0x27447f[_0x5aa1b7(0x123)]),_0xc448c1={'groupdata.inviteCode':_0x5aa1b7(0xd2)+_0x185430};if(_0x45979c){let _0x331982=await this['repository'][_0x5aa1b7(0x294)][_0x5aa1b7(0x365)]({'where':{'_id':_0x27447f[_0x5aa1b7(0x123)]}},_0xc448c1,this[_0x5aa1b7(0x31b)][_0x5aa1b7(0x699)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x185430,'inviteCode':_0x185430};}catch(_0x48eced){let _0x3534df=_0x5aa1b7(0x747),_0x59bb49=_0x48eced instanceof Error?_0x48eced['message']:typeof _0x48eced==_0x5aa1b7(0x72b)?JSON[_0x5aa1b7(0x2e3)](_0x48eced):_0x48eced,_0x397d0f=_0x3534df+':\x20'+_0x59bb49;throw this[_0x5aa1b7(0x4ad)][_0x5aa1b7(0x295)](this['instanceName']+'\x20('+this[_0x5aa1b7(0x31b)][_0x5aa1b7(0x699)]+_0x5aa1b7(0x12a)+_0x397d0f),new j(_0x397d0f);}}async['revokeInviteCode'](_0x340a15){const _0xbec2ac=a0_0x22f2c8;try{let _0xaea978=await this[_0xbec2ac(0x223)][_0xbec2ac(0x1d4)](_0x340a15[_0xbec2ac(0x123)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0xaea978,'inviteCode':_0xaea978};}catch(_0x56273d){let _0x3db632=_0xbec2ac(0xf4),_0x164587=_0x56273d instanceof Error?_0x56273d[_0xbec2ac(0x659)]:typeof _0x56273d==_0xbec2ac(0x72b)?JSON['stringify'](_0x56273d):_0x56273d,_0x163a4d=_0x3db632+':\x20'+_0x164587;throw this['logger']['error'](this[_0xbec2ac(0x12b)]+'\x20('+this[_0xbec2ac(0x31b)][_0xbec2ac(0x699)]+'):\x20'+_0x163a4d),new j(_0x163a4d);}}async[a0_0x22f2c8(0x6e0)](_0x15d8cf){const _0x15cdbe=a0_0x22f2c8;try{if((0x0,k[_0x15cdbe(0x430)])(_0x15d8cf[_0x15cdbe(0x69b)]))var _0x17673=_0x15d8cf[_0x15cdbe(0x69b)][_0x15cdbe(0x293)]('/')[0x3];else var _0x17673=_0x15d8cf[_0x15cdbe(0x69b)];let _0x210429=await this['client']['groupAcceptInvite'](_0x17673);return this[_0x15cdbe(0x4ad)]['verbose'](this[_0x15cdbe(0x12b)]+'\x20('+this['instance'][_0x15cdbe(0x699)]+_0x15cdbe(0x12a)+_0x210429),{'join':!0x0,'inviteCode':_0x17673,'groupJid':_0x210429};}catch(_0x103152){let _0x20231b='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x4d114f=_0x103152 instanceof Error?_0x103152[_0x15cdbe(0x659)]:typeof _0x103152==_0x15cdbe(0x72b)?JSON[_0x15cdbe(0x2e3)](_0x103152):_0x103152,_0x555483=_0x20231b+':\x20'+_0x4d114f;throw this[_0x15cdbe(0x4ad)][_0x15cdbe(0x295)](this[_0x15cdbe(0x12b)]+'\x20('+this['instance'][_0x15cdbe(0x699)]+_0x15cdbe(0x12a)+_0x555483),new j(_0x555483);}}async['findParticipants'](_0xa111ba){const _0x3f1100=a0_0x22f2c8;try{return{'participants':(await this['repository'][_0x3f1100(0x294)][_0x3f1100(0x239)]({'where':{'_id':_0xa111ba[_0x3f1100(0x123)]}},this[_0x3f1100(0x31b)]['wuid']))['groupdata'][_0x3f1100(0x7b1)]};}catch(_0x3e360d){let _0x532b23=_0x3f1100(0x521),_0x521e75=_0x3e360d instanceof Error?_0x3e360d[_0x3f1100(0x659)]:typeof _0x3e360d=='object'?JSON[_0x3f1100(0x2e3)](_0x3e360d):_0x3e360d,_0x5499e7=_0x532b23+':\x20'+_0x521e75;throw this['logger']['error'](this[_0x3f1100(0x12b)]+'\x20('+this[_0x3f1100(0x31b)][_0x3f1100(0x699)]+'):\x20'+_0x5499e7),new j(_0x5499e7);}}async[a0_0x22f2c8(0x12c)](_0x2a36d2){const _0x308e64=a0_0x22f2c8;try{return await this['client'][_0x308e64(0x24e)](_0x2a36d2[_0x308e64(0x123)]),{'groupJid':_0x2a36d2['groupJid'],'leave':!0x0};}catch(_0x571e6a){let _0x421941=_0x308e64(0x74b),_0x18d182=_0x571e6a instanceof Error?_0x571e6a[_0x308e64(0x659)]:typeof _0x571e6a==_0x308e64(0x72b)?JSON[_0x308e64(0x2e3)](_0x571e6a):_0x571e6a,_0x40c7e9=_0x421941+':\x20'+_0x18d182;throw this[_0x308e64(0x4ad)][_0x308e64(0x295)](this[_0x308e64(0x12b)]+'\x20('+this[_0x308e64(0x31b)]['wuid']+_0x308e64(0x12a)+_0x40c7e9),new m(_0x40c7e9);}}async[a0_0x22f2c8(0x5c0)](_0x118018){const _0x3e44b0=a0_0x22f2c8;return await this[_0x3e44b0(0x637)](_0x118018['number'],{'poll':{'name':_0x118018[_0x3e44b0(0x5c0)]?.['name'],'selectableCount':_0x118018[_0x3e44b0(0x5c0)][_0x3e44b0(0x271)],'values':_0x118018['pollMessage'][_0x3e44b0(0xa0)]}},_0x118018?.[_0x3e44b0(0x73a)]);}async[a0_0x22f2c8(0x575)](_0x5f5bca){const _0x316fb=a0_0x22f2c8;return await this['sendMessageWithTyping'](_0x5f5bca['number'],{'listMessage':{'title':_0x5f5bca[_0x316fb(0x575)][_0x316fb(0x6a2)],'description':_0x5f5bca[_0x316fb(0x575)][_0x316fb(0x50b)],'buttonText':_0x5f5bca['listMessage']?.['buttonText'],'footerText':_0x5f5bca[_0x316fb(0x575)]?.[_0x316fb(0x483)],'sections':_0x5f5bca['listMessage'][_0x316fb(0x4f8)],'listType':0x2}},_0x5f5bca?.['options']);}async['menuMessage'](_0x184b45){const _0x38059e=a0_0x22f2c8;let _0x4b5af7;if(_0x184b45['menuMessage'][_0x38059e(0x742)]==='list'){let _0x42624a=_0x184b45[_0x38059e(0x1f8)]['text']['indexOf']('\x0a'),_0x1b36f7='',_0x28bd80='';_0x42624a!==-0x1?(_0x1b36f7=_0x184b45[_0x38059e(0x1f8)][_0x38059e(0x20c)][_0x38059e(0x3ea)](0x0,_0x42624a)[_0x38059e(0x181)](),_0x28bd80=_0x184b45['menuMessage']['text'][_0x38059e(0x3ea)](_0x42624a+0x1)):_0x28bd80=_0x184b45[_0x38059e(0x1f8)]['text'];let _0x2bca47=_0x184b45[_0x38059e(0x1f8)][_0x38059e(0x345)][_0x38059e(0x4e7)](_0x3f1000=>_0x3f1000[_0x38059e(0x181)]()!==''),_0x27a5b4=this['createSectionsFromValues'](_0x2bca47);_0x4b5af7={'listMessage':{'title':_0x1b36f7,'description':_0x28bd80,'buttonText':_0x184b45[_0x38059e(0x1f8)][_0x38059e(0x5ab)]||'Selecione','footerText':_0x184b45['menuMessage']['footerText'],'sections':_0x27a5b4,'listType':0x2}};}else{if(_0x184b45[_0x38059e(0x1f8)]['type']===_0x38059e(0x6cd)){let _0x524f9c=_0x184b45[_0x38059e(0x1f8)]['choices'][_0x38059e(0x4e7)](_0x15aaa3=>!(_0x15aaa3[_0x38059e(0xf2)]('[')&&_0x15aaa3[_0x38059e(0x503)](']'))&&_0x15aaa3[_0x38059e(0x181)]()!=='')[_0x38059e(0x657)](_0x11de98=>_0x11de98[_0x38059e(0x293)]('\x0a')[0x0]);_0x4b5af7={'poll':{'name':_0x184b45[_0x38059e(0x1f8)]['text'],'selectableCount':_0x184b45['menuMessage'][_0x38059e(0x271)]||0x1,'values':_0x524f9c}};}}return await this['sendMessageWithTyping'](_0x184b45[_0x38059e(0x375)],_0x4b5af7,_0x184b45?.[_0x38059e(0x73a)]);}['createSectionsFromValues'](_0x509c77){const _0xf15684=a0_0x22f2c8;let _0x28cd44=[],_0x402353={'rows':[]};return _0x509c77[_0xf15684(0x317)](_0x48cab0=>{const _0x14e79c=_0xf15684;if(_0x48cab0[_0x14e79c(0xf2)]('[')&&_0x48cab0[_0x14e79c(0x503)](']'))_0x402353[_0x14e79c(0x21c)][_0x14e79c(0x4a3)]>0x0&&_0x28cd44['push'](_0x402353),_0x402353={'title':_0x48cab0[_0x14e79c(0x6b6)](0x1,-0x1),'rows':[]};else{let _0x4c16b2=_0x48cab0[_0x14e79c(0x293)]('\x0a')[_0x14e79c(0x657)](_0x15ba6f=>_0x15ba6f[_0x14e79c(0x181)]()),_0x1dcdcb=_0x4c16b2[0x0],_0x3b2545=_0x4c16b2[0x1]||null,_0x3ddd49=_0x4c16b2[0x2]||_0x1dcdcb;_0x402353[_0x14e79c(0x21c)]['push']({'title':_0x1dcdcb,'description':_0x3b2545,'rowId':_0x3ddd49});}}),_0x402353['rows'][_0xf15684(0x4a3)]>0x0&&_0x28cd44[_0xf15684(0x6b3)](_0x402353),_0x28cd44;}async[a0_0x22f2c8(0x5f5)](_0x38016c,_0x1ca938){const _0x2c3dda=a0_0x22f2c8;if(await this[_0x2c3dda(0x500)](_0x38016c,!0x0)){let _0x46d64a={'where':{'_id':_0x38016c['id']}},_0x458a54={'status':[_0x1ca938['status']][0x0]};try{let _0x101dbd=await this['repository'][_0x2c3dda(0x659)]['update'](_0x46d64a,_0x458a54,this[_0x2c3dda(0x31b)]['wuid']);_0x101dbd&&J(this['instanceName'],_0x2c3dda(0x282),{'message':_0x101dbd});}catch{}}}[a0_0x22f2c8(0x265)](_0x4096df){const _0x3d88ca=a0_0x22f2c8;let _0x1ad427=[];return _0x4096df[_0x3d88ca(0x317)](_0x457a02=>{const _0x379d87=_0x3d88ca;_0x457a02[_0x379d87(0x6a2)]&&_0x1ad427[_0x379d87(0x6b3)]('['+_0x457a02[_0x379d87(0x6a2)]+']'),_0x457a02[_0x379d87(0x21c)][_0x379d87(0x317)](_0x2ee280=>{const _0x461ad4=_0x379d87;_0x1ad427['push'](_0x2ee280[_0x461ad4(0x6a2)]);});}),_0x1ad427[_0x3d88ca(0x640)]('|');}[a0_0x22f2c8(0x130)](_0x36ebcd){const _0x5464ed=a0_0x22f2c8;let _0x444b50=_0x36ebcd['replace'](/\\n/g,'\x0a')[_0x5464ed(0x293)]('\x0a')[_0x5464ed(0x4e7)](_0xc8a1a0=>_0xc8a1a0['includes'](_0x5464ed(0x6fb))||_0xc8a1a0['includes'](_0x5464ed(0x4d1))),_0xa8a6d7='';return _0x444b50[_0x5464ed(0x317)](_0x524fa9=>{const _0x41e92e=_0x5464ed;let _0x13d33b=/TEL(?:.*):(.+)/,_0x14e651=/EMAIL(?:.*):(.+)/,_0x45685f=_0x524fa9['match'](_0x13d33b),_0x841399=_0x524fa9[_0x41e92e(0x349)](_0x14e651);if(_0x45685f){let _0x54ee59=_0x45685f[0x1][_0x41e92e(0x16d)](/-| |\+|\(|\)/g,'')[_0x41e92e(0x181)]();_0xa8a6d7+=_0x41e92e(0x20a)+_0x54ee59+'\x0a';}else{if(_0x841399){let _0x5031f4=_0x841399[0x1][_0x41e92e(0x181)]();_0xa8a6d7+='E-mail:\x20'+_0x5031f4+'\x0a';}}}),_0xa8a6d7['trim']();}async[a0_0x22f2c8(0x37b)](_0x33f18c,_0x2c08ea,_0x35d3db,_0x2135fa=null){const _0x52fa0d=a0_0x22f2c8;if(_0x33f18c['ENABLED'])try{let _0x54c9c8=_0x2c08ea[_0x52fa0d(0x41f)][_0x52fa0d(0x22b)]['replace'](/:\d{1,2}@/g,'@'),_0xa82a6b=_0x2c08ea[_0x52fa0d(0x41f)][_0x52fa0d(0x5ea)],_0x2981a9=_0x54c9c8['endsWith'](_0x52fa0d(0x227)),_0x24975b=_0x2c08ea[_0x52fa0d(0x4fd)]?.[_0x52fa0d(0x16d)](/:\d{1,2}@/g,'@')||'',_0x5e489d=_0x2c08ea['message_normalized']?.['text']||_0x2c08ea[_0x52fa0d(0x1d6)]?.[_0x52fa0d(0x4d2)]||_0x2c08ea[_0x52fa0d(0x1d6)]?.[_0x52fa0d(0x41b)]||_0x2c08ea[_0x52fa0d(0x1d6)]?.[_0x52fa0d(0x2cb)]||'',_0x5a7161={'_id':_0x2c08ea['_id'],'remoteJid':_0xa82a6b?this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]:_0x2981a9?_0x24975b:_0x54c9c8,'pushName':_0xa82a6b?this[_0x52fa0d(0x31b)][_0x52fa0d(0x1a0)]||'Eu':_0x2c08ea[_0x52fa0d(0x395)],'text':_0x5e489d,'type':_0x2c08ea[_0x52fa0d(0x376)],'when':_0x2c08ea[_0x52fa0d(0x4da)]||Date['now']()};_0x2135fa||(_0x2135fa=await this[_0x52fa0d(0x70e)]['chat'][_0x52fa0d(0x239)]({'where':{'_id':_0x54c9c8}},this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]));let _0x49f395=_0x2135fa?_0xa82a6b?_0x2135fa[_0x52fa0d(0x151)]:(_0x2135fa['unreadcount']||0x0)+0x1:_0xa82a6b?0x0:0x1,_0x4c43f5={'lastmsg':_0x2c08ea[_0x52fa0d(0x4da)]||Date[_0x52fa0d(0x4f1)](),'ephemeralExpiration':_0x2c08ea[_0x52fa0d(0x17f)],'lastMessage':_0x5a7161,'unreadcount':_0x49f395,..._0xa82a6b||_0x2981a9?{}:{'name':_0x2c08ea[_0x52fa0d(0x395)]},..._0x2981a9?{'group':_0x2981a9}:{},...!_0xa82a6b&&!_0x2981a9&&_0x2c08ea[_0x52fa0d(0x333)]?{'imagechat':_0x2c08ea[_0x52fa0d(0x333)]}:{}};if(!_0x2981a9&&(!_0x2135fa?.[_0x52fa0d(0x3be)]||!_0x2135fa['leadInfo'][_0x52fa0d(0x1dd)])&&_0x2c08ea[_0x52fa0d(0x395)]&&!_0xa82a6b&&(_0x4c43f5={..._0x4c43f5,'leadInfo.nome':_0x2c08ea[_0x52fa0d(0x395)]}),_0x2135fa?.[_0x52fa0d(0x3be)][_0x52fa0d(0x724)]||(_0x4c43f5={..._0x4c43f5,'leadInfo.etiquetas':[]}),_0x2135fa?.[_0x52fa0d(0x3be)][_0x52fa0d(0x340)]||(_0x4c43f5={..._0x4c43f5,'leadInfo.customFields':[]}),_0x2135fa?.['leadInfo'][_0x52fa0d(0x28e)]||(_0x4c43f5={..._0x4c43f5,'leadInfo.tags':[]}),_0x2135fa&&_0x2135fa?.['imported']){let _0x3caee3=await this['repository'][_0x52fa0d(0x585)][_0x52fa0d(0xe9)]({'where':{}},this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]),_0x5c3cd9=new Set(_0x3caee3['map'](_0x58979f=>_0x58979f[_0x52fa0d(0x286)])),_0x9c7d38=(_0x2135fa[_0x52fa0d(0x3be)]?.[_0x52fa0d(0x724)]||[])[_0x52fa0d(0x4e7)](_0x595ff2=>_0x5c3cd9[_0x52fa0d(0x5f7)](_0x595ff2));_0x4c43f5={..._0x4c43f5,'imported':!0x1,'leadInfo.etiquetas':_0x9c7d38};for(let _0x154fbd of _0x9c7d38)await this[_0x52fa0d(0x50d)](_0x154fbd,_0x54c9c8);}if(!this[_0x52fa0d(0x1ed)][_0x52fa0d(0x780)][_0x52fa0d(0xe9)](_0x6ea425=>_0x6ea425[_0x52fa0d(0x534)]&&_0x5e489d['includes'](_0x6ea425['startCommand']))&&_0x35d3db===_0x52fa0d(0x435)&&_0xa82a6b&&this['AutomateSystem']?.[_0x52fa0d(0x611)]['enabled']&&_0x5e489d[_0x52fa0d(0x181)]()!==this[_0x52fa0d(0x1ed)]?.[_0x52fa0d(0x611)]['stopConversation'][_0x52fa0d(0x181)]()){let _0x23b196=(this[_0x52fa0d(0x1ed)]?.[_0x52fa0d(0x611)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x486f4d=Date['now']()+_0x23b196;_0x2135fa?.[_0x52fa0d(0x3be)]?.[_0x52fa0d(0x40c)]===0x0||(_0x4c43f5={..._0x4c43f5,'leadInfo.desativadoFluxoAte':_0x486f4d},this[_0x52fa0d(0x4ad)][_0x52fa0d(0x470)](this['instanceName']+'\x20('+this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]+_0x52fa0d(0x3aa)+_0x486f4d+'.'));}if(_0x5e489d[_0x52fa0d(0x181)]()===this[_0x52fa0d(0x1ed)]?.[_0x52fa0d(0x611)][_0x52fa0d(0x450)][_0x52fa0d(0x181)]()){this[_0x52fa0d(0x4ad)]['verbose'](this[_0x52fa0d(0x12b)]+'\x20('+this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x5e489d);let _0x117051=Date[_0x52fa0d(0x4f1)]();this[_0x52fa0d(0x1ed)]?.[_0x52fa0d(0x611)][_0x52fa0d(0x5d8)]===0x0?_0x4c43f5={..._0x4c43f5,'leadInfo.desativadoFluxoAte':_0x117051+0x7591f6200}:_0x4c43f5={..._0x4c43f5,'leadInfo.desativadoFluxoAte':_0x117051+this[_0x52fa0d(0x1ed)]?.[_0x52fa0d(0x611)][_0x52fa0d(0x5d8)]*0x3c*0x3e8};}if(_0x2135fa=await this[_0x52fa0d(0x70e)][_0x52fa0d(0x294)][_0x52fa0d(0x365)]({'where':{'_id':_0x54c9c8}},_0x4c43f5,this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)],{'new':!0x0,'upsert':!0x0}),_0x2135fa)J(this[_0x52fa0d(0x12b)],_0x52fa0d(0x24f),{'chat':_0x2135fa});else{this['logger']['error'](this['instanceName']+'\x20('+this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]+_0x52fa0d(0x4b0));return;}if(_0xa82a6b)return this[_0x52fa0d(0x4ad)]['verbose'](this[_0x52fa0d(0x12b)]+'\x20('+this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]+_0x52fa0d(0xcd)),null;if(!this[_0x52fa0d(0x1ed)]?.[_0x52fa0d(0x611)]['enabled'])return this['logger'][_0x52fa0d(0x470)](this['instanceName']+'\x20('+this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]+_0x52fa0d(0x1fc)),null;if(_0x2135fa['_id'][_0x52fa0d(0x750)]('@g.us')&&this[_0x52fa0d(0x1ed)]?.[_0x52fa0d(0x611)]['ignoreGroups']===!0x0)return this[_0x52fa0d(0x4ad)][_0x52fa0d(0x470)](this[_0x52fa0d(0x12b)]+'\x20('+this[_0x52fa0d(0x31b)]['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x2135fa[_0x52fa0d(0x3be)]){if(_0x2135fa['leadInfo'][_0x52fa0d(0x40c)]===0x0||_0x2135fa[_0x52fa0d(0x3be)][_0x52fa0d(0x59b)])return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x54c9c8+_0x52fa0d(0x77b)),null;if(_0x2135fa['leadInfo'][_0x52fa0d(0x40c)]>Date[_0x52fa0d(0x4f1)]()&&!_0x2c08ea[_0x52fa0d(0x1d6)]?.[_0x52fa0d(0x41b)])return this[_0x52fa0d(0x4ad)][_0x52fa0d(0x470)](this[_0x52fa0d(0x12b)]+'\x20('+this['instance'][_0x52fa0d(0x699)]+_0x52fa0d(0x484)+new Date(_0x2135fa['leadInfo'][_0x52fa0d(0x40c)])[_0x52fa0d(0x6ac)]()+_0x52fa0d(0x77b)),null;}this['logger'][_0x52fa0d(0x470)](this[_0x52fa0d(0x12b)]+'\x20('+this['instance']['wuid']+_0x52fa0d(0x133)),this[_0x52fa0d(0x61f)](_0x2c08ea,_0x35d3db);}catch(_0x51afaa){let _0x139fb1=_0x52fa0d(0x3c5),_0x189afe=_0x51afaa instanceof Error?_0x51afaa[_0x52fa0d(0x659)]:typeof _0x51afaa==_0x52fa0d(0x72b)?JSON[_0x52fa0d(0x2e3)](_0x51afaa):_0x51afaa,_0x3daad7=_0x139fb1+':\x20'+_0x189afe;return this[_0x52fa0d(0x4ad)][_0x52fa0d(0x295)](this['instanceName']+'\x20('+this[_0x52fa0d(0x31b)][_0x52fa0d(0x699)]+'):\x20'+_0x3daad7),null;}}async[a0_0x22f2c8(0x3e6)](_0x8d5980,_0x5f504b){const _0x59e88a=a0_0x22f2c8;if(_0x5f504b['ENABLED']){let _0x27c8e2=_0x8d5980[_0x59e88a(0x657)](async _0xa91976=>{const _0x3a80eb=_0x59e88a;try{let _0x56a4f5={'_id':_0xa91976['_id'],'owner':_0xa91976[_0x3a80eb(0x58e)],'lastcache':0x0};if(Object['keys'](_0xa91976)['forEach'](_0x2812ef=>{_0xa91976[_0x2812ef]!==null&&(_0x56a4f5[_0x2812ef]=_0xa91976[_0x2812ef]);}),_0x56a4f5[_0x3a80eb(0x342)]===null&&(_0x56a4f5[_0x3a80eb(0x342)]=_0x3a80eb(0x436)),Object[_0x3a80eb(0x158)](_0x56a4f5)[_0x3a80eb(0x4a3)]>0x0)return await this[_0x3a80eb(0x70e)]['chat'][_0x3a80eb(0x365)]({'where':{'_id':_0xa91976[_0x3a80eb(0x286)]}},_0x56a4f5,this[_0x3a80eb(0x31b)][_0x3a80eb(0x699)]);}catch(_0x58da67){let _0x5841fc='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0xa91976[_0x3a80eb(0x286)],_0x2732a8=_0x58da67 instanceof Error?_0x58da67[_0x3a80eb(0x659)]:typeof _0x58da67==_0x3a80eb(0x72b)?JSON['stringify'](_0x58da67):_0x58da67,_0x42424c=_0x5841fc+':\x20'+_0x2732a8;return this[_0x3a80eb(0x4ad)][_0x3a80eb(0x295)](this[_0x3a80eb(0x12b)]+'\x20('+this[_0x3a80eb(0x31b)][_0x3a80eb(0x699)]+_0x3a80eb(0x12a)+_0x42424c),null;}}),_0x59a158=(await Promise[_0x59e88a(0x65b)](_0x27c8e2))[_0x59e88a(0x4e7)](_0x43e5b7=>_0x43e5b7!==null)[_0x59e88a(0x4a3)];this[_0x59e88a(0x4ad)][_0x59e88a(0x470)](this[_0x59e88a(0x12b)]+'\x20('+this[_0x59e88a(0x31b)][_0x59e88a(0x699)]+'):\x20'+_0x59a158+_0x59e88a(0x785)+this['instance']['wuid']+_0x59e88a(0x5de));}}async[a0_0x22f2c8(0x6a3)](_0x2bb1ae){const _0x8d47f7=a0_0x22f2c8;this[_0x8d47f7(0x4ad)][_0x8d47f7(0x470)](this[_0x8d47f7(0x12b)]+'\x20('+this['instance'][_0x8d47f7(0x699)]+'):\x20Ler\x20mensagem');let _0x56e3a5={'readMessages':[{'remoteJid':_0x2bb1ae['chatLog'][_0x8d47f7(0x5c6)][_0x8d47f7(0x41f)]['remoteJid'],'fromMe':_0x2bb1ae[_0x8d47f7(0x7af)][_0x8d47f7(0x5c6)][_0x8d47f7(0x41f)][_0x8d47f7(0x5ea)],'id':_0x2bb1ae[_0x8d47f7(0x7af)]['lastReceivedMessage']['key']['id']}]};await this['markMessageAsRead'](_0x56e3a5);}async[a0_0x22f2c8(0x61f)](_0x9d2559,_0x252da5){const _0x5e04ca=a0_0x22f2c8;try{let {key:_0x297a22,message_normalized:_0x18f202}=_0x9d2559,_0x78744b=_0x18f202,_0x968687=_0x18f202[_0x5e04ca(0x20c)]||_0x18f202[_0x5e04ca(0x4d2)]||_0x18f202[_0x5e04ca(0x41b)]||_0x18f202[_0x5e04ca(0x2cb)]||'',_0x4b651e=_0x297a22[_0x5e04ca(0x22b)],_0x36c545=null,_0x1b59d1=this['AutomateSystem'][_0x5e04ca(0x780)][_0x5e04ca(0xe9)](_0x10a74a=>_0x10a74a['startCommand']&&_0x968687['includes'](_0x10a74a['startCommand']));if(_0x1b59d1&&_0x252da5===_0x5e04ca(0x435)){let _0xf7e2f3=await this[_0x5e04ca(0x70e)]['flow']['findOne']({'where':{'_id':_0x1b59d1['_id']}});if(this[_0x5e04ca(0x4ad)][_0x5e04ca(0x470)](this['instanceName']+'\x20('+this[_0x5e04ca(0x31b)][_0x5e04ca(0x699)]+_0x5e04ca(0x56c)),_0xf7e2f3&&_0xf7e2f3[_0x5e04ca(0x176)]?.['includes'](this[_0x5e04ca(0x31b)]['wuid']))_0x36c545=await this[_0x5e04ca(0x238)](_0xf7e2f3,_0x297a22,_0x78744b);else return this['logger'][_0x5e04ca(0x470)](this[_0x5e04ca(0x12b)]+'\x20('+this[_0x5e04ca(0x31b)][_0x5e04ca(0x699)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x5e04ca(0x4ad)][_0x5e04ca(0x470)](this[_0x5e04ca(0x12b)]+'\x20('+this[_0x5e04ca(0x31b)]['wuid']+_0x5e04ca(0x661));if(_0x36c545=await this[_0x5e04ca(0x472)](_0x4b651e,_0x78744b),_0x36c545){this[_0x5e04ca(0x4ad)][_0x5e04ca(0x470)](this['instanceName']+'\x20('+this[_0x5e04ca(0x31b)][_0x5e04ca(0x699)]+_0x5e04ca(0x55a)),!_0x297a22[_0x5e04ca(0x5ea)]&&_0x36c545[_0x5e04ca(0x75b)]&&this[_0x5e04ca(0x6a3)](_0x36c545);let _0x4e3c12=await this[_0x5e04ca(0x36a)](_0x36c545);_0x4e3c12&&await this[_0x5e04ca(0x1f1)](_0x36c545,_0x4e3c12);}}catch(_0x433c9f){this[_0x5e04ca(0x4ad)]['error'](this[_0x5e04ca(0x12b)]+'\x20('+this[_0x5e04ca(0x31b)]['wuid']+_0x5e04ca(0x1c9)+(_0x433c9f instanceof Error?_0x433c9f['message']:JSON[_0x5e04ca(0x2e3)](_0x433c9f,null,0x2)));}}[a0_0x22f2c8(0x1ca)](_0x5c7926,_0x23ecfb='',_0x53b5fa={}){const _0x3d4224=a0_0x22f2c8;return typeof _0x5c7926!=_0x3d4224(0x72b)||_0x5c7926===null?(_0x23ecfb&&(_0x53b5fa[_0x23ecfb]=_0x5c7926),_0x53b5fa):(Object['entries'](_0x5c7926)[_0x3d4224(0x317)](([_0x45b3c7,_0x3d5196])=>{const _0x42222f=_0x3d4224;let _0x56303c=_0x23ecfb?_0x23ecfb+'.'+_0x45b3c7:'_'+_0x45b3c7;Array[_0x42222f(0x289)](_0x3d5196)?_0x3d5196[_0x42222f(0x317)]((_0x265fab,_0xedf2eb)=>{this['flattenObject'](_0x265fab,_0x56303c+'['+_0xedf2eb+']',_0x53b5fa);}):typeof _0x3d5196==_0x42222f(0x72b)&&_0x3d5196!==null?this['flattenObject'](_0x3d5196,_0x56303c,_0x53b5fa):_0x53b5fa[_0x56303c]=String(_0x3d5196);}),_0x53b5fa);}[a0_0x22f2c8(0x486)](_0x2a4160){const _0x419459=a0_0x22f2c8;let _0x860a9d={};for(let _0x2b15ff of _0x2a4160)typeof _0x2b15ff[_0x419459(0x2cb)]=='string'&&typeof _0x2b15ff[_0x419459(0x502)]==_0x419459(0x671)&&(_0x860a9d[_0x2b15ff[_0x419459(0x2cb)]]=_0x2b15ff[_0x419459(0x502)]);return _0x860a9d;}async[a0_0x22f2c8(0x36a)](_0x27670c){const _0x42fef0=a0_0x22f2c8;if(!this[_0x42fef0(0x1ed)]?.['flowConfig'][_0x42fef0(0x4e0)]||_0x27670c[_0x42fef0(0x3fe)]!==_0x42fef0(0x237)&&_0x27670c['waitingMenu_id']==='')return null;let _0x58d96c=_0x27670c[_0x42fef0(0x7af)]['lastBlockId']||_0x42fef0(0x4aa);typeof _0x27670c[_0x42fef0(0x7af)][_0x42fef0(0x667)]>'u'&&(_0x27670c[_0x42fef0(0x7af)][_0x42fef0(0x667)]=!0x0);let _0x6fe1e8=_0x27670c[_0x42fef0(0x7af)]['lastCondition'];this[_0x42fef0(0x4ad)][_0x42fef0(0x470)](this[_0x42fef0(0x12b)]+'\x20('+this['instance'][_0x42fef0(0x699)]+_0x42fef0(0x763)+_0x58d96c+_0x42fef0(0x160)+_0x6fe1e8);let _0x38ce22=_0x58d96c===_0x42fef0(0x4aa)?_0x27670c['blocks'][_0x42fef0(0xe9)](_0x428539=>_0x428539[_0x42fef0(0x742)]==='start'):_0x27670c[_0x42fef0(0x3ad)][_0x42fef0(0xe9)](_0x3da85d=>_0x3da85d[_0x42fef0(0x286)]['toString']()===_0x58d96c['toString']());if(!_0x38ce22)return this[_0x42fef0(0x4ad)][_0x42fef0(0x295)](this[_0x42fef0(0x12b)]+'\x20('+this[_0x42fef0(0x31b)][_0x42fef0(0x699)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x58d96c),null;let _0x4abdc3={'_pushName':_0x27670c?.[_0x42fef0(0x7af)]?.[_0x42fef0(0x5c6)]?.[_0x42fef0(0x395)]||'','_sender':this[_0x42fef0(0x31b)][_0x42fef0(0x699)]||'',..._0x27670c[_0x42fef0(0x7af)][_0x42fef0(0x178)]},_0x401c4b=null;if(_0x27670c[_0x42fef0(0x614)]){let _0x257caf=_0x27670c['chatLog'][_0x42fef0(0x5c6)][_0x42fef0(0x41b)],_0x32f4bd=_0x27670c[_0x42fef0(0x799)]['find'](_0x1dcf24=>_0x1dcf24['option']===_0x257caf);if(_0x32f4bd){let _0x10f82e=_0x32f4bd['next_groupId'];if(_0x401c4b=_0x27670c[_0x42fef0(0x3ad)]['find'](_0x320501=>_0x320501[_0x42fef0(0x1d8)]===_0x10f82e&&_0x320501[_0x42fef0(0x11c)]===0x1),_0x38ce22[_0x42fef0(0x77a)][_0x42fef0(0x790)]){let _0x207dd0={'id':_0x27670c[_0x42fef0(0x614)],'remoteJid':_0x27670c[_0x42fef0(0x22b)],'fromMe':!0x0};await this[_0x42fef0(0x229)](_0x207dd0);}if(_0x38ce22['uazapi']['pollOnReplyDelete']&&_0x38ce22['uazapi'][_0x42fef0(0x65a)]&&_0x38ce22[_0x42fef0(0x77a)][_0x42fef0(0x2fd)]===_0x42fef0(0x6cd)){let _0x3cbccc={'number':_0x27670c[_0x42fef0(0x22b)],'options':{'delay':0x0},'textMessage':{'text':_0x42fef0(0x751)+_0x27670c['waitingMenu_text']+'\x0a*Você\x20respondeu*:\x0a'+_0x257caf}};await this[_0x42fef0(0x221)](_0x3cbccc);}_0x27670c[_0x42fef0(0x3fe)]=_0x42fef0(0x237),_0x27670c[_0x42fef0(0x614)]='',_0x27670c['waitingMenu_text']='',_0x27670c[_0x42fef0(0x799)]=[];}else{this['logger'][_0x42fef0(0x470)](this['instanceName']+'\x20('+this[_0x42fef0(0x31b)][_0x42fef0(0x699)]+_0x42fef0(0x26a));let _0x230c64={'activatedCount':_0x27670c[_0x42fef0(0x7af)]['blockLogs'][_0x42fef0(0x4e7)](_0x3c68c3=>String(_0x3c68c3[_0x42fef0(0x6ed)])===String(_0x58d96c))[_0x42fef0(0x4a3)],'moreLogs':[_0x42fef0(0x595)]};if(_0x38ce22['uazapi'][_0x42fef0(0x30f)]){let _0x2798e3={'number':_0x27670c[_0x42fef0(0x22b)],'options':{'delay':0x0},'textMessage':{'text':_0x38ce22[_0x42fef0(0x77a)][_0x42fef0(0x30f)]}};await this[_0x42fef0(0x221)](_0x2798e3);}if(_0x38ce22[_0x42fef0(0x13d)]!==void 0x0&&_0x230c64[_0x42fef0(0x40b)]>=_0x38ce22[_0x42fef0(0x13d)]){let _0x6dde80=Date[_0x42fef0(0x4f1)](),_0x5e2f97=_0x38ce22[_0x42fef0(0x13e)]??0xa;isNaN(_0x5e2f97)&&(_0x5e2f97=0xa);let _0x259c3d=_0x6dde80+_0x5e2f97*0x3c*0x3e8;_0x230c64[_0x42fef0(0x6d9)]=_0x259c3d,_0x230c64[_0x42fef0(0x586)][_0x42fef0(0x6b3)](_0x42fef0(0x383)),this[_0x42fef0(0x543)](_0x27670c,_0x259c3d),_0x27670c[_0x42fef0(0x614)]='',_0x27670c[_0x42fef0(0x253)]='',_0x27670c[_0x42fef0(0x799)]=[];}return this[_0x42fef0(0x5c4)](_0x27670c,_0x38ce22,_0x230c64,!0x0),null;}}if(_0x6fe1e8&&_0x38ce22[_0x42fef0(0x53e)]&&!_0x27670c['waitingMenu_id']){let _0x27a5b8=_0x27670c[_0x42fef0(0x3ad)][_0x42fef0(0x4e7)](_0x1a5912=>_0x1a5912[_0x42fef0(0x1d8)][_0x42fef0(0x1ee)]()===_0x38ce22['next_groupId'][_0x42fef0(0x1ee)]())[_0x42fef0(0x1e3)]((_0x14a26c,_0xff2afb)=>_0x14a26c[_0x42fef0(0x11c)]-_0xff2afb[_0x42fef0(0x11c)]);_0x27a5b8['length']>0x0&&(_0x401c4b=_0x27a5b8[0x0]);}if(!_0x401c4b){let _0x527d0a=_0x38ce22[_0x42fef0(0x1d8)],_0x257462=_0x27670c[_0x42fef0(0x3ad)][_0x42fef0(0x4e7)](_0xfab4e8=>_0xfab4e8[_0x42fef0(0x1d8)]===_0x527d0a&&_0xfab4e8[_0x42fef0(0x11c)]>_0x38ce22[_0x42fef0(0x11c)])[_0x42fef0(0x1e3)]((_0x274517,_0xce065)=>_0x274517[_0x42fef0(0x11c)]-_0xce065[_0x42fef0(0x11c)]);_0x257462['length']>0x0&&(_0x401c4b=_0x257462[0x0]);}if(!_0x401c4b)return _0x27670c[_0x42fef0(0x3fe)]=_0x42fef0(0x70c),null;_0x27670c[_0x42fef0(0x7af)][_0x42fef0(0x178)]=_0x4abdc3;let _0x2349f1=JSON[_0x42fef0(0x7ca)](JSON['stringify'](_0x401c4b));return this['replaceVariablesInObject'](_0x2349f1,_0x27670c[_0x42fef0(0x7af)]['realVariables']),_0x27670c[_0x42fef0(0x7af)]['lastBlockId']=_0x2349f1[_0x42fef0(0x286)],_0x27670c['chatLog'][_0x42fef0(0x667)]=!0x0,_0x2349f1;}['replaceVariables'](_0x285323,_0x2e61d0){return _0x285323['replace'](/\{\{([^}]+)\}\}/g,(_0x51942d,_0x3660a8)=>_0x2e61d0[_0x3660a8]||'');}['replaceVariablesInObject'](_0x246bfc,_0x36ecdb){const _0x3ec33d=a0_0x22f2c8;for(let _0x112bcc in _0x246bfc)typeof _0x246bfc[_0x112bcc]==_0x3ec33d(0x671)?_0x246bfc[_0x112bcc]=this[_0x3ec33d(0x74a)](_0x246bfc[_0x112bcc],_0x36ecdb):typeof _0x246bfc[_0x112bcc]==_0x3ec33d(0x72b)&&this['replaceVariablesInObject'](_0x246bfc[_0x112bcc],_0x36ecdb);}async[a0_0x22f2c8(0x58b)](_0x5afdea,_0x3e6b80){const _0x4ad494=a0_0x22f2c8;let _0x56d70b=_0x3e6b80[_0x4ad494(0x286)];if(_0x5afdea[_0x4ad494(0x7af)]&&_0x5afdea['chatLog'][_0x4ad494(0x519)]){let _0x18a7df=_0x5afdea[_0x4ad494(0x7af)][_0x4ad494(0x519)]['filter'](_0x1db114=>String(_0x1db114[_0x4ad494(0x6ed)])===String(_0x56d70b))[_0x4ad494(0x591)]();if(_0x18a7df&&_0x18a7df[_0x4ad494(0x295)]&&_0x3e6b80[_0x4ad494(0x121)])return _0x5afdea[_0x4ad494(0x3fe)]=_0x4ad494(0x70c),await this[_0x4ad494(0x369)](_0x5afdea),null;}if(_0x3e6b80[_0x4ad494(0x742)]==='uazapi'&&_0x3e6b80[_0x4ad494(0x77a)][_0x4ad494(0xe1)]==='sendPoll'&&_0x5afdea[_0x4ad494(0x614)])return _0x5afdea['chatLog'][_0x4ad494(0x4ab)]=_0x56d70b,await this[_0x4ad494(0x369)](_0x5afdea),null;let _0x13d47d=await this['NextBlock'](_0x5afdea);if(_0x5afdea[_0x4ad494(0x7af)]&&_0x5afdea[_0x4ad494(0x7af)][_0x4ad494(0x519)]){let _0x4df442=_0x5afdea[_0x4ad494(0x7af)][_0x4ad494(0x519)]['filter'](_0x32ee76=>String(_0x32ee76[_0x4ad494(0x6ed)])===String(_0x56d70b))['length'];if(_0x3e6b80['maxActives']!==void 0x0&&_0x4df442>=_0x3e6b80[_0x4ad494(0x13d)]){let _0x2cee22=Date[_0x4ad494(0x4f1)](),_0x2633d3=_0x3e6b80[_0x4ad494(0x13e)]??0xa;isNaN(_0x2633d3)&&(_0x2633d3=0xa);let _0x4f58a3=_0x2cee22+_0x2633d3*0x3c*0x3e8,_0x2197d1={'newStoppedUntil':_0x4f58a3};return this[_0x4ad494(0x543)](_0x5afdea,_0x4f58a3),this[_0x4ad494(0x5c4)](_0x5afdea,_0x3e6b80,_0x2197d1,!0x0),null;}}_0x13d47d&&_0x13d47d['type']!=='save'&&await this[_0x4ad494(0x1f1)](_0x5afdea,_0x13d47d),_0x13d47d||await this[_0x4ad494(0x369)](_0x5afdea),_0x13d47d&&_0x13d47d[_0x4ad494(0x742)]===_0x4ad494(0x433)&&(_0x5afdea[_0x4ad494(0x7af)]['lastBlockId']=_0x56d70b,await this[_0x4ad494(0x369)](_0x5afdea));}async[a0_0x22f2c8(0x1f1)](_0x5426e8,_0x238ecd){const _0x366ca8=a0_0x22f2c8;try{let _0x25d6a3=_0x238ecd[_0x366ca8(0x742)];this[_0x366ca8(0x4ad)]['verbose'](this[_0x366ca8(0x12b)]+'\x20('+this[_0x366ca8(0x31b)][_0x366ca8(0x699)]+_0x366ca8(0x589)+_0x25d6a3);let _0x11efc8={'uazapi':()=>this['processUazapi'](_0x5426e8,_0x238ecd),'save':()=>this[_0x366ca8(0x53d)](_0x5426e8,_0x238ecd),'stop':()=>this[_0x366ca8(0x450)](_0x5426e8,_0x238ecd),'condition':()=>this[_0x366ca8(0x6ab)](_0x5426e8,_0x238ecd),'varedit':()=>this[_0x366ca8(0x2b3)](_0x5426e8,_0x238ecd),'apirequest':()=>this[_0x366ca8(0x471)](_0x5426e8,_0x238ecd),'goToFlow':()=>this[_0x366ca8(0x344)](_0x5426e8,_0x238ecd),'scheduleFlow':()=>this[_0x366ca8(0x59e)](_0x5426e8,_0x238ecd),'awaitSeconds':()=>this['processawaitSeconds'](_0x5426e8,_0x238ecd),'clearVariables':()=>this[_0x366ca8(0x495)](_0x5426e8,_0x238ecd)}[_0x25d6a3];_0x11efc8&&await _0x11efc8();}catch(_0x529359){this['logger'][_0x366ca8(0x295)](this['instanceName']+'\x20('+this['instance'][_0x366ca8(0x699)]+_0x366ca8(0x4c6)+(_0x529359 instanceof Error?_0x529359[_0x366ca8(0x659)]:JSON['stringify'](_0x529359,null,0x2)));}}async[a0_0x22f2c8(0x268)](_0x1e9470,_0x14e120){const _0x3e1ce4=a0_0x22f2c8;if(this[_0x3e1ce4(0x4ad)][_0x3e1ce4(0x470)](this[_0x3e1ce4(0x12b)]+'\x20('+this[_0x3e1ce4(0x31b)]['wuid']+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x1e9470||!_0x14e120)return this['logger'][_0x3e1ce4(0x295)](this[_0x3e1ce4(0x12b)]+'\x20('+this[_0x3e1ce4(0x31b)][_0x3e1ce4(0x699)]+_0x3e1ce4(0x497)),null;let _0x1d92da=+_0x14e120[_0x3e1ce4(0x4b2)];isNaN(_0x1d92da)&&(_0x1d92da=0x0),_0x1d92da=Math[_0x3e1ce4(0x309)](_0x1d92da,0x3c),await(0x0,w[_0x3e1ce4(0x3f2)])(_0x1d92da*0x3e8);let _0x54bca9={'moreLogs':[_0x3e1ce4(0x647)+_0x1d92da+_0x3e1ce4(0x307)]};return await this[_0x3e1ce4(0x5c4)](_0x1e9470,_0x14e120,_0x54bca9),_0x1d92da;}async['processclearVariables'](_0x5bc2a6,_0x25ab16){const _0x355558=a0_0x22f2c8;if(this[_0x355558(0x4ad)][_0x355558(0x470)](this[_0x355558(0x12b)]+'\x20('+this[_0x355558(0x31b)][_0x355558(0x699)]+_0x355558(0xd4)),!_0x5bc2a6||!_0x25ab16)return this[_0x355558(0x4ad)][_0x355558(0x295)](this['instanceName']+'\x20('+this['instance'][_0x355558(0x699)]+_0x355558(0x497)),null;let _0x420300=[];if(_0x25ab16['clearVariables'][_0x355558(0x181)]()===_0x355558(0x4fa)){let _0x33659d=[_0x355558(0x70d),_0x355558(0x28a),_0x355558(0x63c),'_activedCount','_remoteJid','_id',_0x355558(0x5d7)];_0x420300=Object[_0x355558(0x158)](_0x5bc2a6[_0x355558(0x7af)][_0x355558(0x178)])[_0x355558(0x4e7)](_0x315270=>_0x315270['startsWith']('_')&&!_0x33659d['includes'](_0x315270));}else _0x420300=_0x25ab16[_0x355558(0x3f9)][_0x355558(0x293)]('|')[_0x355558(0x657)](_0x161cb8=>(_0x161cb8=_0x161cb8[_0x355558(0x16d)](/[{}]/g,'')[_0x355558(0x181)](),_0x161cb8[_0x355558(0xf2)]('_')?_0x161cb8:'_'+_0x161cb8));let _0x2db6d6=[];_0x420300[_0x355558(0x317)](_0x1d8555=>{const _0x5b4278=_0x355558;_0x1d8555 in _0x5bc2a6['chatLog'][_0x5b4278(0x178)]&&(delete _0x5bc2a6[_0x5b4278(0x7af)][_0x5b4278(0x178)][_0x1d8555],_0x2db6d6[_0x5b4278(0x6b3)](_0x1d8555));}),_0x2db6d6[_0x355558(0x4a3)]>0x0?this[_0x355558(0x4ad)][_0x355558(0x470)](this[_0x355558(0x12b)]+'\x20('+this['instance'][_0x355558(0x699)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x2db6d6['join'](',\x20')):this[_0x355558(0x4ad)][_0x355558(0x470)](this['instanceName']+'\x20('+this[_0x355558(0x31b)][_0x355558(0x699)]+_0x355558(0x5d1));let _0x1fec4c={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x2db6d6[_0x355558(0x640)](',\x20')]};return await this[_0x355558(0x5c4)](_0x5bc2a6,_0x25ab16,_0x1fec4c),null;}async[a0_0x22f2c8(0x59e)](_0x592c3a,_0x1b5d62){const _0x3f9ced=a0_0x22f2c8;if(this[_0x3f9ced(0x4ad)][_0x3f9ced(0x470)](this[_0x3f9ced(0x12b)]+'\x20('+this[_0x3f9ced(0x31b)][_0x3f9ced(0x699)]+_0x3f9ced(0x662)),!_0x592c3a||!_0x1b5d62)return this[_0x3f9ced(0x4ad)][_0x3f9ced(0x295)](this['instanceName']+'\x20('+this['instance'][_0x3f9ced(0x699)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3afce3=_0x592c3a['remoteJid'];_0x1b5d62[_0x3f9ced(0x539)][_0x3f9ced(0x22b)]&&_0x1b5d62['scheduleFlow'][_0x3f9ced(0x22b)][_0x3f9ced(0x181)]()!==''&&(_0x3afce3=_0x1b5d62[_0x3f9ced(0x77a)][_0x3f9ced(0x22b)][_0x3f9ced(0x181)]());let _0xe812c3=_0x1b5d62[_0x3f9ced(0x539)][_0x3f9ced(0x74e)]*0xea60,_0x18b1d9=Date[_0x3f9ced(0x4f1)]()+_0xe812c3,_0x13469c={'status':_0x3f9ced(0x311),'info':_0x3f9ced(0x110)+_0x592c3a[_0x3f9ced(0x2cb)],'remoteJids':[_0x3afce3],'when':_0x18b1d9,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x3f9ced(0x28c),'flowName':_0x1b5d62['scheduleFlow']['flowName']};this[_0x3f9ced(0x5bb)](_0x13469c);let _0x40a97b=await this[_0x3f9ced(0x36a)](_0x592c3a);_0x40a97b&&await this['processblock'](_0x592c3a,_0x40a97b);}async['processgoToFlow'](_0x54b83e,_0x48451d){const _0x3f77bd=a0_0x22f2c8;if(this['logger'][_0x3f77bd(0x470)](this[_0x3f77bd(0x12b)]+'\x20('+this[_0x3f77bd(0x31b)][_0x3f77bd(0x699)]+_0x3f77bd(0x759)),!_0x54b83e||!_0x48451d)return this[_0x3f77bd(0x4ad)][_0x3f77bd(0x295)](this[_0x3f77bd(0x12b)]+'\x20('+this[_0x3f77bd(0x31b)]['wuid']+_0x3f77bd(0x497)),null;await this[_0x3f77bd(0x5c4)](_0x54b83e,_0x48451d,{},!0x0,!0x0);let _0x10195e=_0x48451d[_0x3f77bd(0x288)];_0x54b83e=await this[_0x3f77bd(0x7a3)](_0x10195e,_0x54b83e[_0x3f77bd(0x22b)],_0x54b83e[_0x3f77bd(0x7af)][_0x3f77bd(0x178)]);let _0x15310d=await this[_0x3f77bd(0x36a)](_0x54b83e);_0x15310d&&await this[_0x3f77bd(0x1f1)](_0x54b83e,_0x15310d);}async[a0_0x22f2c8(0x7a3)](_0x2f2df0,_0x38a035,_0x14c39e){const _0x4988f3=a0_0x22f2c8;this[_0x4988f3(0x4ad)]['verbose'](this['instanceName']+'\x20('+this[_0x4988f3(0x31b)]['wuid']+_0x4988f3(0xd5));try{let _0x5b55ba=this['AutomateSystem']['flows'][_0x4988f3(0xe9)](_0x388098=>_0x388098['_id']===_0x2f2df0);_0x5b55ba||this[_0x4988f3(0x4ad)][_0x4988f3(0x295)](this[_0x4988f3(0x12b)]+'\x20('+this['instance'][_0x4988f3(0x699)]+_0x4988f3(0x506)+_0x2f2df0+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x4e2099=await this[_0x4988f3(0x70e)]['flow'][_0x4988f3(0x239)]({'where':{'_id':_0x5b55ba['_id']}});if(!_0x4e2099||!_0x4e2099[_0x4988f3(0x176)]?.[_0x4988f3(0x750)](this['instance'][_0x4988f3(0x699)]))throw this[_0x4988f3(0x4ad)][_0x4988f3(0x295)](this[_0x4988f3(0x12b)]+'\x20('+this[_0x4988f3(0x31b)][_0x4988f3(0x699)]+'):\x20Flow\x20\x27'+_0x2f2df0+_0x4988f3(0x5fc)),new m(_0x4988f3(0x6d2)+_0x2f2df0+_0x4988f3(0x5fc));let _0x6d0159=require(_0x4988f3(0x1db))['ObjectId'],_0x472f22=Date[_0x4988f3(0x4f1)](),_0x32ef85='start',_0x24346a={},_0x34703e={},_0x467d80=this[_0x4988f3(0x1ed)][_0x4988f3(0x780)][_0x4988f3(0xe9)](_0x41243a=>_0x41243a[_0x4988f3(0x286)]===_0x4e2099[_0x4988f3(0x286)]?.[_0x4988f3(0x1ee)]()),_0x68dbae=_0x467d80?.[_0x4988f3(0x43e)]??_0x4e2099[_0x4988f3(0x43e)]??0x0,_0x4a3db9=_0x467d80?.[_0x4988f3(0x75b)]??_0x4e2099[_0x4988f3(0x75b)]??!0x1,_0x24ac7b={'flowId':_0x5b55ba[_0x4988f3(0x286)],'readMessages':_0x5b55ba[_0x4988f3(0x75b)],..._0x4e2099,'chatLog':null},_0x3022cc={'lastReceivedMessage':_0x24346a,'lastSendMessage':_0x34703e,'lastBlockId':_0x32ef85,'lastCondition':!0x0,'realVariables':_0x14c39e};_0x24ac7b[_0x4988f3(0x7af)]=_0x3022cc,_0x24ac7b[_0x4988f3(0x7af)][_0x4988f3(0x178)]={..._0x14c39e},delete _0x24ac7b['_id'],_0x24ac7b['_id']=new _0x6d0159(),_0x24ac7b[_0x4988f3(0x621)]=_0x472f22,_0x24ac7b[_0x4988f3(0x3fe)]=_0x4988f3(0x237),_0x24ac7b[_0x4988f3(0x22b)]=_0x38a035,_0x24ac7b[_0x4988f3(0x43e)]=_0x68dbae,_0x24ac7b[_0x4988f3(0x75b)]=_0x4a3db9;let _0xc3e817=await this[_0x4988f3(0x70e)][_0x4988f3(0x1c1)][_0x4988f3(0x365)](_0x24ac7b[_0x4988f3(0x286)],_0x24ac7b,this['instance']['wuid']);return this['logger'][_0x4988f3(0x470)](this[_0x4988f3(0x12b)]+'\x20('+this[_0x4988f3(0x31b)][_0x4988f3(0x699)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0xc3e817?_0x24ac7b:null;}catch(_0x49db4a){let _0x1e4b2b='Erro\x20ao\x20copiar\x20o\x20documento',_0x4c2096=_0x49db4a instanceof Error?_0x49db4a[_0x4988f3(0x659)]:typeof _0x49db4a==_0x4988f3(0x72b)?JSON[_0x4988f3(0x2e3)](_0x49db4a):_0x49db4a,_0x46832c=_0x1e4b2b+':\x20'+_0x4c2096;throw this[_0x4988f3(0x4ad)][_0x4988f3(0x295)](this[_0x4988f3(0x12b)]+'\x20('+this[_0x4988f3(0x31b)][_0x4988f3(0x699)]+'):\x20'+_0x46832c),new m(_0x46832c);}}async[a0_0x22f2c8(0x471)](_0x983988,_0x26a36d){const _0x4ef98f=a0_0x22f2c8;let _0x2a44e8,_0x521054;try{let _0x26ea92=_0x26a36d[_0x4ef98f(0x389)];if(!_0x26ea92||!_0x26ea92['url']||!_0x26ea92[_0x4ef98f(0x504)])throw new Error(_0x4ef98f(0x7b5));let _0x3cc168;(['https://api.openai.com/v1/audio/speech',_0x4ef98f(0x56f),_0x4ef98f(0x2dc)][_0x4ef98f(0x2f7)](_0x4c566=>_0x26ea92[_0x4ef98f(0x45f)]['includes'](_0x4c566))||_0x26ea92[_0x4ef98f(0x740)])&&(_0x3cc168=_0x4ef98f(0x5a6));let _0x5d6bc8='\u205f',_0x414e06;try{_0x414e06=JSON['parse'](_0x26ea92[_0x4ef98f(0x29c)][_0x4ef98f(0x16d)](new RegExp(_0x5d6bc8,'g'),''));}catch(_0x1b8d95){throw _0x1b8d95;}let _0x4adb78={'method':_0x26ea92[_0x4ef98f(0x504)],'url':_0x26ea92['url'],'headers':_0x26ea92[_0x4ef98f(0x1f2)]||{},..._0x26ea92['method'][_0x4ef98f(0x98)]()!=='GET'&&_0x26ea92[_0x4ef98f(0x29c)]?{'data':JSON[_0x4ef98f(0x7ca)](_0x26ea92[_0x4ef98f(0x29c)]['replace'](new RegExp(_0x5d6bc8,'g'),''))}:{},..._0x3cc168&&{'responseType':_0x3cc168}},_0x396e50=await(0x0,Y[_0x4ef98f(0x66b)])(_0x4adb78),_0x3857cd=_0x396e50['headers'][_0x4ef98f(0x6de)];if(_0x3857cd&&_0x3857cd[_0x4ef98f(0x750)](_0x4ef98f(0x33b))||typeof _0x396e50[_0x4ef98f(0x47d)]==_0x4ef98f(0x671)){if(typeof _0x396e50[_0x4ef98f(0x47d)]==_0x4ef98f(0x671)){let _0x5d401f=_0x396e50['data']['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x2a44e8=JSON[_0x4ef98f(0x7ca)](_0x5d401f);}catch(_0x206d16){this[_0x4ef98f(0x4ad)][_0x4ef98f(0x295)](_0x4ef98f(0x75d)+_0x206d16[_0x4ef98f(0x659)]),_0x2a44e8={'_apiResponse':_0x396e50['data']};}}else _0x2a44e8=_0x396e50['data'];let _0x46f64c=_0x983988[_0x4ef98f(0x7af)][_0x4ef98f(0x178)],_0x14a0df=this[_0x4ef98f(0x1ca)](_0x2a44e8);return Object[_0x4ef98f(0x3b7)](_0x46f64c,_0x14a0df),_0x983988['chatLog'][_0x4ef98f(0x178)]=_0x46f64c,_0x521054={'error':!0x1,'apiResponse':_0x2a44e8},this[_0x4ef98f(0x5c4)](_0x983988,_0x26a36d,_0x521054),_0x2a44e8;}if(_0x3857cd&&(_0x3857cd[_0x4ef98f(0x750)](_0x4ef98f(0x140))||_0x3857cd[_0x4ef98f(0x750)]('image')||_0x3857cd[_0x4ef98f(0x750)]('audio')||_0x3857cd[_0x4ef98f(0x750)](_0x4ef98f(0x1b8)))){this[_0x4ef98f(0x4ad)][_0x4ef98f(0x470)](this[_0x4ef98f(0x12b)]+'\x20('+this['instance'][_0x4ef98f(0x699)]+_0x4ef98f(0x522)+_0x3857cd);let _0xe4ab68=(0x0,X['v4'])(),_0x2607b3='',_0x2dba4c={'image/jpeg':_0x4ef98f(0x684),'image/png':_0x4ef98f(0x531),'image/gif':_0x4ef98f(0x5b9),'image/webp':_0x4ef98f(0x4bf),'image/svg+xml':_0x4ef98f(0x708),'audio/mpeg':_0x4ef98f(0x246),'audio/ogg':_0x4ef98f(0x162),'audio/wav':'.wav','video/mp4':'.mp4','video/webm':_0x4ef98f(0x6af),'video/ogg':_0x4ef98f(0x2ab),'text/plain':_0x4ef98f(0x4c0),'application/pdf':'.pdf','application/msword':_0x4ef98f(0x106),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4ef98f(0x4eb),'application/vnd.ms-excel':_0x4ef98f(0x4af),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x4ef98f(0x15c),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4ef98f(0x3e1)};_0x2dba4c[_0x3857cd]?(_0x2607b3=_0x2dba4c[_0x3857cd],this[_0x4ef98f(0x4ad)]['verbose'](this[_0x4ef98f(0x12b)]+'\x20('+this[_0x4ef98f(0x31b)]['wuid']+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x2607b3)):(_0x2607b3=_0x4ef98f(0xb9),this[_0x4ef98f(0x4ad)][_0x4ef98f(0x470)](this[_0x4ef98f(0x12b)]+'\x20('+this[_0x4ef98f(0x31b)]['wuid']+_0x4ef98f(0x141)+_0x2607b3)),_0xe4ab68+=_0x2607b3,this[_0x4ef98f(0x4ad)][_0x4ef98f(0x470)](this[_0x4ef98f(0x12b)]+'\x20('+this[_0x4ef98f(0x31b)]['wuid']+_0x4ef98f(0x54a)+_0xe4ab68);let _0x4abebf=this[_0x4ef98f(0x53f)][_0x4ef98f(0x319)]('SERVER')[_0x4ef98f(0x7d0)];if(!_0x4abebf){let _0x26738f=this[_0x4ef98f(0x53f)]['get'](_0x4ef98f(0x63a));_0x4abebf=_0x4ef98f(0x6e4)+(_0x26738f&&_0x26738f['FULLCHAIN'][_0x4ef98f(0x293)]('/')[0x4]);}let _0x2bddee=Buffer['from'](_0x396e50[_0x4ef98f(0x47d)]);await this[_0x4ef98f(0x298)](_0x2bddee,_0xe4ab68);let _0x47222a=_0x4ef98f(0x692)+_0xe4ab68;_0x47222a=''+_0x4abebf+_0x47222a,_0x2a44e8={'fileUrl':_0x47222a},_0x983988[_0x4ef98f(0x7af)][_0x4ef98f(0x178)]['fileUrl']=_0x47222a;let _0x6c4b2b=_0x983988['chatLog'][_0x4ef98f(0x178)],_0x16eb3b=this[_0x4ef98f(0x1ca)](_0x2a44e8);return Object['assign'](_0x6c4b2b,_0x16eb3b),_0x983988[_0x4ef98f(0x7af)][_0x4ef98f(0x178)]=_0x6c4b2b,_0x521054={'error':!0x1,'apiResponse':{'fileUrl':_0x47222a}},this[_0x4ef98f(0x5c4)](_0x983988,_0x26a36d,_0x521054),_0x2a44e8;}}catch(_0x1aae01){this[_0x4ef98f(0x4ad)][_0x4ef98f(0x295)](_0x4ef98f(0x255)+_0x1aae01[_0x4ef98f(0x659)]),_0x1aae01[_0x4ef98f(0x76f)]&&(_0x2a44e8=_0x1aae01[_0x4ef98f(0x76f)][_0x4ef98f(0x47d)]);let _0x3c447b=_0x983988[_0x4ef98f(0x7af)]['realVariables'],_0x4eea5a=this[_0x4ef98f(0x1ca)](_0x2a44e8);return Object[_0x4ef98f(0x3b7)](_0x3c447b,_0x4eea5a),_0x983988[_0x4ef98f(0x7af)]['realVariables']=_0x3c447b,_0x521054={'error':!0x0,'errorLog':_0x1aae01['toString'](),'apiResponse':_0x2a44e8},this['updateConversation'](_0x983988,_0x26a36d,_0x521054),{'success':!0x1};}}[a0_0x22f2c8(0x6a8)](_0x45b765,_0x395907){const _0x2649b3=a0_0x22f2c8;let _0x45326d=_0x1bf36c=>{const _0x116cde=a0_0x2beb;let _0x10e62f=_0x1bf36c[_0x116cde(0x16d)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x55175c=parseFloat(_0x10e62f);return isNaN(_0x55175c)?null:_0x55175c;},_0x350ec9=_0x395907['firstValue'],_0x2aaff0=_0x395907[_0x2649b3(0xeb)];typeof _0x350ec9==_0x2649b3(0x671)&&(_0x350ec9=this[_0x2649b3(0x74a)](_0x350ec9,_0x45b765['chatLog'][_0x2649b3(0x178)])??''),typeof _0x2aaff0==_0x2649b3(0x671)&&(_0x2aaff0=this[_0x2649b3(0x74a)](_0x2aaff0,_0x45b765[_0x2649b3(0x7af)][_0x2649b3(0x178)])??'');let _0x29cd7d=null;if(!_0x395907[_0x2649b3(0x7cc)])return null;switch(this['logger'][_0x2649b3(0x470)](this[_0x2649b3(0x12b)]+'\x20('+this[_0x2649b3(0x31b)][_0x2649b3(0x699)]+_0x2649b3(0x46f)+_0x350ec9),this[_0x2649b3(0x4ad)][_0x2649b3(0x470)](this[_0x2649b3(0x12b)]+'\x20('+this[_0x2649b3(0x31b)][_0x2649b3(0x699)]+_0x2649b3(0x56a)+_0x2aaff0),_0x395907['editOperator']){case'+':case'-':case'*':case'/':let _0x336af9=_0x45326d(_0x350ec9||'0'),_0x413796=_0x45326d(_0x2aaff0||'0');if(_0x336af9===null)return null;switch(_0x395907['editOperator']){case'+':_0x29cd7d=_0x336af9+(_0x413796??0x0);break;case'-':_0x29cd7d=_0x336af9-(_0x413796??0x0);break;case'*':_0x29cd7d=_0x336af9*(_0x413796??0x1);break;case'/':_0x413796!==0x0&&(_0x29cd7d=_0x336af9/(_0x413796??0x1));break;}break;case _0x2649b3(0x321):case _0x2649b3(0x379):let _0xb8b417=_0x2aaff0,_0x447df1=_0x395907['replaceValue'];if(typeof _0x447df1==_0x2649b3(0x671)&&(_0x447df1=this[_0x2649b3(0x74a)](_0x447df1,_0x45b765[_0x2649b3(0x7af)][_0x2649b3(0x178)])??''),_0xb8b417&&_0x447df1!==void 0x0){let _0x3f2897=_0x395907['editOperator']==='findAndReplace'?new RegExp(_0xb8b417[_0x2649b3(0x16d)](/[-\/\\^$*+?.()|[\]{}]/g,_0x2649b3(0x4dd)),'g'):new RegExp(_0xb8b417,'g');_0x29cd7d=_0x350ec9[_0x2649b3(0x16d)](_0x3f2897,_0x447df1);}else console[_0x2649b3(0x542)](_0x2649b3(0x3a7));break;case _0x2649b3(0x6bd):_0x29cd7d=_0x2aaff0;break;case _0x2649b3(0x77e):let _0x497bed=_0x350ec9[_0x2649b3(0x349)](new RegExp(_0x2aaff0||''));_0x29cd7d=_0x497bed?_0x497bed[0x0]:'';break;case _0x2649b3(0x4f2):_0x29cd7d=_0x350ec9[_0x2649b3(0x6b6)](0x0,parseInt(_0x2aaff0||'0'));break;case _0x2649b3(0x4fe):let _0x3d0b38=parseInt(_0x2aaff0||'0');_0x29cd7d=_0x350ec9['slice'](_0x350ec9[_0x2649b3(0x4a3)]-_0x3d0b38);break;case _0x2649b3(0x277):let _0x1535c9=_0x45326d(_0x350ec9),_0x48aebf=parseInt(_0x2aaff0||'0');_0x48aebf=Math['abs'](_0x48aebf),_0x1535c9!==null?_0x29cd7d=_0x1535c9[_0x2649b3(0x6ac)](_0x2649b3(0xac),{'minimumFractionDigits':_0x48aebf,'maximumFractionDigits':_0x48aebf}):(console[_0x2649b3(0x542)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x350ec9),_0x29cd7d=null);break;case _0x2649b3(0x3ec):let _0x243c90=_0x45326d(_0x350ec9);_0x243c90!==null?_0x29cd7d=_0x243c90[_0x2649b3(0x6ac)](_0x2649b3(0xac),{'style':_0x2649b3(0x5f9),'currency':'BRL'}):(console[_0x2649b3(0x542)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x350ec9),_0x29cd7d=null);break;case _0x2649b3(0x3b2):_0x29cd7d=_0x350ec9['toUpperCase']();break;case _0x2649b3(0x2ff):_0x29cd7d=_0x350ec9[_0x2649b3(0x157)]();break;case'capitalizedWords':_0x29cd7d=_0x350ec9[_0x2649b3(0x293)]('\x20')[_0x2649b3(0x657)](_0x206d22=>_0x206d22[_0x2649b3(0x14f)](0x0)[_0x2649b3(0x98)]()+_0x206d22[_0x2649b3(0x6b6)](0x1)['toLowerCase']())[_0x2649b3(0x640)]('\x20');break;case _0x2649b3(0xe4):_0x29cd7d=JSON['stringify'](_0x350ec9);break;case'trimmed':_0x29cd7d=_0x350ec9[_0x2649b3(0x181)]();break;default:_0x29cd7d=_0x350ec9;}return _0x29cd7d!==null?_0x29cd7d[_0x2649b3(0x1ee)]():null;}async['processvaredits'](_0x156242,_0x51c374){const _0x4a9020=a0_0x22f2c8;try{let _0x343752=_0x156242[_0x4a9020(0x580)]?.['filter'](_0x3e2113=>_0x3e2113[_0x4a9020(0x6ed)]===_0x51c374[_0x4a9020(0x286)]?.['toString']())||[],_0x576824=_0x51c374[_0x4a9020(0xb3)],_0x40a64b=null,_0x59ebae=[],_0x1ff6b3=_0x156242[_0x4a9020(0x7af)]['realVariables'][_0x576824];_0x59ebae[_0x4a9020(0x6b3)](_0x4a9020(0x32f)+_0x1ff6b3+'\x22');for(let _0x56cd7a of _0x343752){_0x56cd7a['firstValue']=_0x1ff6b3,_0x40a64b=_0x56cd7a[_0x4a9020(0x189)];let _0x22eddd;try{_0x22eddd=this[_0x4a9020(0x6a8)](_0x156242,_0x56cd7a);}catch(_0x51ef19){this['logger'][_0x4a9020(0x295)](_0x4a9020(0x1ad)+_0x51ef19[_0x4a9020(0x659)]);continue;}if(_0x22eddd!==null){let _0x480152=_0x4a9020(0x58f)+_0x56cd7a[_0x4a9020(0x7cc)]+'\x22',_0x24a2dd=[_0x4a9020(0x3ec),_0x4a9020(0x3b2),_0x4a9020(0x2ff),'capitalizedWords',_0x4a9020(0xee)];_0x56cd7a[_0x4a9020(0x7cc)]===_0x4a9020(0x321)||_0x56cd7a[_0x4a9020(0x7cc)]===_0x4a9020(0x379)?_0x480152+=_0x4a9020(0x6c6)+_0x56cd7a[_0x4a9020(0xeb)]+_0x4a9020(0x74d)+_0x56cd7a[_0x4a9020(0x4e1)]+'\x22':!_0x24a2dd[_0x4a9020(0x750)](_0x56cd7a[_0x4a9020(0x7cc)])&&_0x56cd7a['secondValue']!==null&&_0x56cd7a[_0x4a9020(0xeb)]!==void 0x0&&(_0x480152+=_0x4a9020(0x23c)+_0x56cd7a[_0x4a9020(0xeb)]+'\x22'),_0x480152+=',\x20resultado:\x20'+_0x22eddd+'.',_0x59ebae[_0x4a9020(0x6b3)](_0x480152);}_0x22eddd!==null&&(_0x1ff6b3=_0x22eddd);}if(_0x156242[_0x4a9020(0x7af)][_0x4a9020(0x178)]&&_0x51c374['saveVariable']){_0x156242[_0x4a9020(0x7af)][_0x4a9020(0x178)][_0x51c374[_0x4a9020(0xb3)]]=_0x1ff6b3;let _0x5ea27e={'variable':_0x51c374[_0x4a9020(0xb3)],'oldValue':_0x40a64b,'newValue':_0x1ff6b3,'moreLogs':_0x59ebae};try{this[_0x4a9020(0x5c4)](_0x156242,_0x51c374,_0x5ea27e);}catch(_0x5d2535){this[_0x4a9020(0x4ad)]['error'](_0x4a9020(0x55f)+_0x5d2535[_0x4a9020(0x659)]);}}return _0x576824;}catch(_0x4ed5a1){return this[_0x4a9020(0x4ad)]['error'](_0x4a9020(0x566)+_0x4ed5a1[_0x4a9020(0x659)]),null;}}async[a0_0x22f2c8(0x6ab)](_0x441653,_0x105268){const _0x2533dc=a0_0x22f2c8;try{let _0x210973=[],_0x1726db=_0x441653[_0x2533dc(0x135)][_0x2533dc(0x4e7)](_0x1bbb18=>_0x1bbb18['blockId']===_0x105268[_0x2533dc(0x286)][_0x2533dc(0x1ee)]()),_0xd95d51=null,_0x67ee86=!0x1;for(let _0x128e2f of _0x1726db){let _0x25e281=this['evaluateCondition'](_0x441653,_0x128e2f);_0x210973[_0x2533dc(0x6b3)](_0x2533dc(0x339)+_0x128e2f['firstValue']+',\x20Comparador:\x20'+_0x128e2f[_0x2533dc(0x5b6)]+_0x2533dc(0x488)+_0x128e2f[_0x2533dc(0xeb)]+_0x2533dc(0x113)+_0x25e281),_0xd95d51===null?_0xd95d51=_0x25e281:_0x128e2f['OrAnd']==='and'?(_0xd95d51=_0xd95d51&&_0x25e281,_0x25e281||(_0x67ee86=!0x0)):_0x128e2f[_0x2533dc(0x7a6)]==='or'&&(_0x67ee86||(_0xd95d51=_0xd95d51||_0x25e281));}_0xd95d51===null&&(_0xd95d51=!0x0);let _0x36b429={'moreLogs':_0x210973};_0x441653[_0x2533dc(0x7af)][_0x2533dc(0x667)]=_0xd95d51,await this['updateConversation'](_0x441653,_0x105268,_0x36b429);}catch(_0x595400){this[_0x2533dc(0x4ad)]['error'](this['instanceName']+'\x20('+this[_0x2533dc(0x31b)][_0x2533dc(0x699)]+_0x2533dc(0x40a)+(_0x595400 instanceof Error?_0x595400[_0x2533dc(0x659)]:JSON[_0x2533dc(0x2e3)](_0x595400,null,0x2)));}}[a0_0x22f2c8(0x198)](_0x25beb5,_0x3be50f){const _0x24c815=a0_0x22f2c8;let _0x145647=_0x3be50f[_0x24c815(0x189)],_0x326bb5=_0x3be50f['secondValue'];typeof _0x145647==_0x24c815(0x671)&&(_0x145647=this[_0x24c815(0x74a)](_0x145647,_0x25beb5[_0x24c815(0x7af)][_0x24c815(0x178)])??''),typeof _0x326bb5==_0x24c815(0x671)&&(_0x326bb5=this[_0x24c815(0x74a)](_0x326bb5,_0x25beb5['chatLog']['realVariables'])??'');try{switch(_0x3be50f[_0x24c815(0x5b6)]){case _0x24c815(0x6a0):return _0x145647===_0x326bb5;case _0x24c815(0x774):return _0x145647!==_0x326bb5;case _0x24c815(0x2ca):return this[_0x24c815(0x2ca)](_0x145647,_0x326bb5);case'notContains':return!this[_0x24c815(0x2ca)](_0x145647,_0x326bb5);case _0x24c815(0x16a):return parseFloat(_0x145647)>parseFloat(_0x326bb5);case _0x24c815(0x4e8):return parseFloat(_0x145647)<parseFloat(_0x326bb5);case _0x24c815(0x2f0):return _0x145647!=='';case _0x24c815(0x2aa):return _0x145647==='';case'matchRegex':return new RegExp(_0x326bb5)[_0x24c815(0x73c)](_0x145647);case _0x24c815(0x654):return!new RegExp(_0x326bb5)[_0x24c815(0x73c)](_0x145647);default:return!0x1;}}catch(_0x288709){return this[_0x24c815(0x4ad)][_0x24c815(0x295)](_0x24c815(0x159)+_0x288709),!0x1;}}['contains'](_0x212568,_0x4bcc02){const _0x3cd93e=a0_0x22f2c8;if(_0x212568===_0x4bcc02&&/^\d+$/[_0x3cd93e(0x73c)](_0x212568))return!0x0;if(this['isListOfNumbers'](_0x212568)&&/^\d+$/[_0x3cd93e(0x73c)](_0x4bcc02)){let _0x3a2dc1=_0x212568[_0x3cd93e(0x293)](',')[_0x3cd93e(0x657)](_0x5a1ba1=>parseInt(_0x5a1ba1[_0x3cd93e(0x181)]())),_0x388b0c=parseInt(_0x4bcc02);return _0x3a2dc1[_0x3cd93e(0x750)](_0x388b0c);}return _0x212568[_0x3cd93e(0x750)](_0x4bcc02);}['isListOfNumbers'](_0x4ad732){const _0x2e6f7d=a0_0x22f2c8;return/^\d+(,\d+)*$/[_0x2e6f7d(0x73c)](_0x4ad732);}[a0_0x22f2c8(0x68b)](_0x20aafe){const _0x422113=a0_0x22f2c8;let _0x52f6bd=!0x0,_0x47f4e4=null;for(let _0x3c3640 of _0x20aafe){let _0x236888=this['evaluateConditionTest'](_0x3c3640);if(_0x47f4e4==='or'&&_0x236888){_0x52f6bd=!0x0;break;}if(_0x47f4e4===_0x422113(0x683)&&!_0x236888){_0x52f6bd=!0x1;break;}_0x47f4e4=_0x3c3640[_0x422113(0x7a6)];}return _0x52f6bd;}[a0_0x22f2c8(0x143)](_0x36974a){const _0x1fcd1e=a0_0x22f2c8;let _0x1150fa=_0x36974a[_0x1fcd1e(0x189)],_0x353d7a=_0x36974a[_0x1fcd1e(0xeb)];try{switch(_0x36974a['expression']){case'equal':return String(_0x1150fa)===String(_0x353d7a);case _0x1fcd1e(0x774):return String(_0x1150fa)!==String(_0x353d7a);case _0x1fcd1e(0x2ca):return String(_0x1150fa)[_0x1fcd1e(0x750)](String(_0x353d7a));case _0x1fcd1e(0x491):return!String(_0x1150fa)['includes'](String(_0x353d7a));case _0x1fcd1e(0x16a):return parseFloat(String(_0x1150fa))>parseFloat(String(_0x353d7a));case _0x1fcd1e(0x4e8):return parseFloat(String(_0x1150fa))<parseFloat(String(_0x353d7a));case'notEmpty':return String(_0x1150fa)!=='';case _0x1fcd1e(0x2aa):return String(_0x1150fa)==='';case _0x1fcd1e(0x285):return new RegExp(String(_0x353d7a))[_0x1fcd1e(0x73c)](String(_0x1150fa));case _0x1fcd1e(0x654):return!new RegExp(String(_0x353d7a))['test'](String(_0x1150fa));default:return!0x1;}}catch(_0x38e067){return this['logger']['error'](_0x1fcd1e(0x159)+_0x38e067),!0x1;}}async[a0_0x22f2c8(0x53d)](_0x58450f,_0x520120){const _0x44018d=a0_0x22f2c8;if(this[_0x44018d(0x4ad)][_0x44018d(0x470)](this[_0x44018d(0x12b)]+'\x20('+this[_0x44018d(0x31b)][_0x44018d(0x699)]+_0x44018d(0x71d)),!_0x58450f||!_0x520120)return this['logger']['error'](this[_0x44018d(0x12b)]+'\x20('+this['instance'][_0x44018d(0x699)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4b2820=_0x58450f[_0x44018d(0x7af)][_0x44018d(0x5c6)][_0x44018d(0x41f)]['id'];this['logger'][_0x44018d(0x470)](this['instanceName']+'\x20('+this['instance'][_0x44018d(0x699)]+_0x44018d(0x459)+_0x4b2820);let _0x4599ed={'key':{'id':_0x4b2820}},_0x5d8f07=_0x520120['saveVariable'];_0x58450f['chatLog'][_0x44018d(0x178)]['_'+_0x5d8f07+'.fileUrl']=null,_0x58450f[_0x44018d(0x7af)][_0x44018d(0x178)]['_'+_0x5d8f07+'.mimetype']=null,_0x58450f[_0x44018d(0x7af)][_0x44018d(0x178)]['_'+_0x5d8f07+_0x44018d(0x5ec)]=null,_0x58450f[_0x44018d(0x7af)][_0x44018d(0x178)]['_'+_0x5d8f07+_0x44018d(0x21f)]=_0x58450f[_0x44018d(0x7af)][_0x44018d(0x5c6)][_0x44018d(0x742)];try{let _0x345d0a=await this[_0x44018d(0x7c7)](_0x4599ed);this[_0x44018d(0x4ad)][_0x44018d(0x470)](this['instanceName']+'\x20('+this[_0x44018d(0x31b)][_0x44018d(0x699)]+_0x44018d(0x68e)),_0x58450f[_0x44018d(0x7af)]['realVariables']['_'+_0x5d8f07+_0x44018d(0x5ac)]=_0x345d0a['fileUrl'],_0x58450f[_0x44018d(0x7af)][_0x44018d(0x178)]['_'+_0x5d8f07+_0x44018d(0x116)]=_0x345d0a['mimetype'];let _0x4895a2=_0x345d0a[_0x44018d(0x4bb)]['match'](/\/(\w+)$/),_0x41909c=_0x4895a2?_0x4895a2[0x1]:null;_0x58450f['chatLog'][_0x44018d(0x178)]['_'+_0x5d8f07+_0x44018d(0x5ec)]=_0x41909c,this[_0x44018d(0x4ad)][_0x44018d(0x470)](this['instanceName']+'\x20('+this[_0x44018d(0x31b)][_0x44018d(0x699)]+_0x44018d(0xf0)+_0x5d8f07+'\x27.');}catch(_0x31dd69){this['logger']['error'](this[_0x44018d(0x12b)]+'\x20('+this[_0x44018d(0x31b)]['wuid']+_0x44018d(0xea)+_0x31dd69['message']);}let _0x120a2a=_0x58450f[_0x44018d(0x7af)][_0x44018d(0x5c6)][_0x44018d(0x20c)]||_0x58450f[_0x44018d(0x7af)][_0x44018d(0x5c6)][_0x44018d(0x4d2)]||_0x58450f[_0x44018d(0x7af)]['lastReceivedMessage']['vote'];try{_0x58450f['chatLog'][_0x44018d(0x178)]||(_0x58450f[_0x44018d(0x7af)][_0x44018d(0x178)]={});let _0x1e582a=_0x58450f[_0x44018d(0x7af)][_0x44018d(0x178)][_0x5d8f07];_0x58450f[_0x44018d(0x7af)]['realVariables'][_0x5d8f07]=_0x120a2a;let _0x24fcda={'variable':_0x5d8f07,'oldValue':_0x1e582a,'newValue':_0x120a2a};this[_0x44018d(0x5c4)](_0x58450f,_0x520120,_0x24fcda),this['logger'][_0x44018d(0x470)](this['instanceName']+'\x20('+this['instance'][_0x44018d(0x699)]+_0x44018d(0x13b));}catch(_0x1f2ed8){let _0x118a04={'error':!0x0,'errorLog':_0x1f2ed8[_0x44018d(0x1ee)]()};return this[_0x44018d(0x5c4)](_0x58450f,_0x520120,_0x118a04),this['logger'][_0x44018d(0x295)](this[_0x44018d(0x12b)]+'\x20('+this[_0x44018d(0x31b)][_0x44018d(0x699)]+_0x44018d(0x170)+(_0x1f2ed8 instanceof Error?_0x1f2ed8['message']:JSON[_0x44018d(0x2e3)](_0x1f2ed8,null,0x2))),null;}}async[a0_0x22f2c8(0x450)](_0x1124bc,_0x27fcdf){const _0x4c2771=a0_0x22f2c8;if(this['logger'][_0x4c2771(0x470)](this[_0x4c2771(0x12b)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20stop'),!_0x1124bc||!_0x27fcdf)return this[_0x4c2771(0x4ad)]['error'](this[_0x4c2771(0x12b)]+'\x20('+this[_0x4c2771(0x31b)][_0x4c2771(0x699)]+_0x4c2771(0x497)),null;let _0x1e3201=Date[_0x4c2771(0x4f1)](),_0x1fe156=parseInt(_0x27fcdf[_0x4c2771(0x5d8)],0xa);if(isNaN(_0x1fe156))return this[_0x4c2771(0x4ad)]['error'](this[_0x4c2771(0x12b)]+'\x20('+this[_0x4c2771(0x31b)]['wuid']+_0x4c2771(0x2a0)),null;let _0x210fba={'newStoppedUntil':_0x1e3201+_0x1fe156*0x3c*0x3e8};return await this['updateConversation'](_0x1124bc,_0x27fcdf,_0x210fba,!0x0),null;}async[a0_0x22f2c8(0x34e)](_0x3a9690,_0xff07d8){const _0x41ef87=a0_0x22f2c8;try{switch(_0xff07d8[_0x41ef87(0x77a)][_0x41ef87(0xe1)]){case _0x41ef87(0x3c0):await this[_0x41ef87(0x1e7)](_0x3a9690,_0xff07d8);break;case _0x41ef87(0x616):await this[_0x41ef87(0x612)](_0x3a9690,_0xff07d8);break;case'sendLocation':await this[_0x41ef87(0x528)](_0x3a9690,_0xff07d8);break;case _0x41ef87(0x2d4):await this[_0x41ef87(0x62a)](_0x3a9690,_0xff07d8);break;case'sendContact':await this[_0x41ef87(0x1c0)](_0x3a9690,_0xff07d8);break;case _0x41ef87(0x67e):await this[_0x41ef87(0x39e)](_0x3a9690,_0xff07d8);break;case _0x41ef87(0x63b):await this[_0x41ef87(0x39e)](_0x3a9690,_0xff07d8);break;case _0x41ef87(0x229):await this[_0x41ef87(0x72a)](_0x3a9690,_0xff07d8);break;default:this[_0x41ef87(0x4ad)]['error'](this[_0x41ef87(0x12b)]+'\x20('+this[_0x41ef87(0x31b)][_0x41ef87(0x699)]+'):\x20Comando\x20desconhecido:\x20'+_0xff07d8[_0x41ef87(0x77a)]['command']);}}catch(_0x1a15f5){this[_0x41ef87(0x4ad)][_0x41ef87(0x295)](this['instanceName']+'\x20('+this[_0x41ef87(0x31b)][_0x41ef87(0x699)]+_0x41ef87(0x451)+(_0x1a15f5 instanceof Error?_0x1a15f5['message']:JSON[_0x41ef87(0x2e3)](_0x1a15f5,null,0x2)));}}async[a0_0x22f2c8(0x5c4)](_0x45b185,_0x34e9ca,_0x50a42a,_0x22dd81=!0x1,_0x20f355=!0x1){const _0x2130e3=a0_0x22f2c8;_0x45b185['chatLog']['blockLogs']||(_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x519)]=[]);let _0x11ad2c=(_0x45b185['chatLog'][_0x2130e3(0x519)]?.[_0x2130e3(0x4a3)]??0x0)+0x1,_0x420af2=_0x45b185['chatLog']['blockLogs']['filter'](_0x5056d9=>String(_0x5056d9[_0x2130e3(0x6ed)])===String(_0x34e9ca['_id']))[_0x2130e3(0x4a3)]+0x1,_0x2e495b=_0x50a42a?.[_0x2130e3(0x5e0)]??Date[_0x2130e3(0x4f1)](),_0x26dd49=_0x50a42a?.[_0x2130e3(0x295)]?_0x50a42a['errorLog']??_0x50a42a[_0x2130e3(0x295)]['toString']():void 0x0,_0x1579c7={'onTime':_0x2e495b,'blockId':_0x34e9ca[_0x2130e3(0x286)],'order':_0x11ad2c,'activatedCount':_0x420af2,'error':_0x50a42a?.[_0x2130e3(0x295)]??!0x1,'messageId':_0x50a42a?.[_0x2130e3(0x60f)],'apiResponse':_0x50a42a?.['apiResponse'],'apiResponseString':_0x50a42a?.[_0x2130e3(0x2c7)]?JSON[_0x2130e3(0x2e3)](_0x50a42a?.['apiResponse']):void 0x0,'variable':_0x50a42a?.['variable'],'oldValue':_0x50a42a?.[_0x2130e3(0xc8)],'newValue':_0x50a42a?.[_0x2130e3(0x267)],'newStoppedUntil':_0x50a42a?.[_0x2130e3(0x6d9)],'moreLogs':_0x50a42a?.[_0x2130e3(0x586)],'errorLog':_0x26dd49};if(_0x50a42a[_0x2130e3(0x586)]&&_0x50a42a[_0x2130e3(0x586)]['length']>0x0){let _0x1d29ba=_0x50a42a[_0x2130e3(0x586)][_0x2130e3(0x657)](_0x79b46f=>this[_0x2130e3(0x362)](_0x79b46f,_0x45b185['chatLog'][_0x2130e3(0x178)]));_0x1579c7[_0x2130e3(0x586)]=_0x1d29ba;}if(_0x45b185[_0x2130e3(0x7af)]['realVariables']||(_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x178)]={}),_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x178)][_0x2130e3(0x3c3)]=String(_0x420af2),_0x45b185['chatLog']['realVariables']['_error']=String(_0x50a42a[_0x2130e3(0x295)]??!0x1),_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x519)][_0x2130e3(0x6b3)](_0x1579c7),_0x45b185[_0x2130e3(0x7af)]['realVariables'][_0x2130e3(0x510)]&&_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x178)][_0x2130e3(0x510)]!==_0x45b185[_0x2130e3(0x22b)]){let _0x3fc738=(await this[_0x2130e3(0x337)]({'numbers':[_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x178)][_0x2130e3(0x510)]]}))[0x0][_0x2130e3(0x50f)];_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x178)]['telefone']=_0x3fc738,_0x45b185[_0x2130e3(0x22b)]=_0x3fc738;try{let _0x523deb={'_id':{'$ne':_0x45b185['_id']},'remoteJid':_0x3fc738,'status':_0x2130e3(0x237)},_0x31656a={'status':_0x2130e3(0x70c)};await this[_0x2130e3(0x70e)][_0x2130e3(0x1c1)][_0x2130e3(0x25b)](_0x523deb,_0x31656a,this[_0x2130e3(0x31b)]['wuid']),this['logger']['verbose'](this[_0x2130e3(0x12b)]+'\x20('+this[_0x2130e3(0x31b)][_0x2130e3(0x699)]+_0x2130e3(0x5a3));}catch(_0x1d2dbe){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x2130e3(0x699)]+_0x2130e3(0x722)+_0x1d2dbe[_0x2130e3(0x659)]);}try{let _0x51fe54=_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x178)],_0x194e06=await this[_0x2130e3(0x2eb)](_0x3fc738),_0xafbab9={..._0x51fe54,..._0x194e06,'_remoteJid':_0x3fc738};_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x178)]=_0xafbab9;}catch(_0x32022e){this[_0x2130e3(0x4ad)]['error'](this[_0x2130e3(0x12b)]+'\x20('+this['instance'][_0x2130e3(0x699)]+_0x2130e3(0x33a)+_0x32022e[_0x2130e3(0x659)]);}}_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x4ab)]=_0x34e9ca[_0x2130e3(0x286)][_0x2130e3(0x1ee)](),_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x3f5)]&&(_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x3f5)]=_0x45b185['chatLog'][_0x2130e3(0x3f5)]),_0x45b185['chatLog'][_0x2130e3(0x5c6)]&&(_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x5c6)]=_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x5c6)]),_0x45b185[_0x2130e3(0x7af)][_0x2130e3(0x667)]&&(_0x45b185[_0x2130e3(0x7af)]['lastCondition']=_0x45b185['chatLog'][_0x2130e3(0x667)]),_0x20f355&&(_0x45b185[_0x2130e3(0x3fe)]='closed'),_0x22dd81?this[_0x2130e3(0x369)](_0x45b185):this[_0x2130e3(0x58b)](_0x45b185,_0x34e9ca);}[a0_0x22f2c8(0x362)](_0x42defa,_0x54f8e6){const _0x5092ce=a0_0x22f2c8;return _0x42defa[_0x5092ce(0x16d)](/\{\{([^}]+)\}\}/g,(_0x509df9,_0x442302)=>_0x54f8e6[_0x442302]?'{{'+_0x442302+'}}\x20->\x20\x22'+_0x54f8e6[_0x442302]+'\x22':'{{'+_0x442302+_0x5092ce(0x466));}async[a0_0x22f2c8(0x369)](_0x17449d){const _0x9fe8c8=a0_0x22f2c8;try{let _0x4f638e=Object['entries'](_0x17449d[_0x9fe8c8(0x7af)]['realVariables'])[_0x9fe8c8(0x657)](([_0x46ec48,_0x48edd3])=>({'name':_0x46ec48,'value':_0x48edd3})),_0x422dea={'status':_0x17449d['status'],'remoteJid':_0x17449d[_0x9fe8c8(0x22b)],'blocks':_0x17449d[_0x9fe8c8(0x3ad)],'waitingMenu_id':_0x17449d[_0x9fe8c8(0x614)],'waitingMenu_text':_0x17449d[_0x9fe8c8(0x253)],'waitingMenu_replyOptions':_0x17449d[_0x9fe8c8(0x799)],'chatLog':{'lastBlockId':_0x17449d[_0x9fe8c8(0x7af)][_0x9fe8c8(0x4ab)],'lastSendMessage':_0x17449d['chatLog'][_0x9fe8c8(0x3f5)],'lastReceivedMessage':_0x17449d[_0x9fe8c8(0x7af)]['lastReceivedMessage'],'lastCondition':_0x17449d[_0x9fe8c8(0x7af)][_0x9fe8c8(0x667)],'chatVariables':_0x4f638e,'realVariables':_0x17449d[_0x9fe8c8(0x7af)]['realVariables'],'blockLogs':_0x17449d['chatLog'][_0x9fe8c8(0x519)]}},_0x2ad984=await this[_0x9fe8c8(0x70e)][_0x9fe8c8(0x1c1)]['updateOne'](_0x17449d[_0x9fe8c8(0x286)],_0x422dea,this[_0x9fe8c8(0x31b)]['wuid']);if(_0x2ad984){this[_0x9fe8c8(0x4ad)][_0x9fe8c8(0x470)](this[_0x9fe8c8(0x12b)]+'\x20('+this[_0x9fe8c8(0x31b)][_0x9fe8c8(0x699)]+_0x9fe8c8(0x645)+_0x2ad984[_0x9fe8c8(0x286)]);try{let _0xcc87d2=['nome',_0x9fe8c8(0x11b),_0x9fe8c8(0x405),_0x9fe8c8(0x526),_0x9fe8c8(0x3fe),'notas',_0x9fe8c8(0x35f),_0x9fe8c8(0x28e),'etiquetas','atendimentoAberto'];if(!this[_0x9fe8c8(0x1ed)]&&(await this[_0x9fe8c8(0x35a)](),!this[_0x9fe8c8(0x1ed)]))throw new Error(_0x9fe8c8(0x99));let _0x35581c=this['AutomateSystem']?.['customFields'][_0x9fe8c8(0x657)](_0x1e6120=>_0x1e6120[_0x9fe8c8(0x2cb)]),_0xcf1052={};Object['entries'](_0x17449d[_0x9fe8c8(0x7af)]['realVariables'])[_0x9fe8c8(0x317)](([_0x5e48ce,_0x45e4e6])=>{const _0x4f6757=_0x9fe8c8;_0xcc87d2[_0x4f6757(0x750)](_0x5e48ce)&&(_0x5e48ce===_0x4f6757(0x28e)&&typeof _0x45e4e6=='string'?_0xcf1052[_0x5e48ce]=_0x45e4e6[_0x4f6757(0x293)](',')['map'](_0x374c57=>_0x374c57['trim']())[_0x4f6757(0x4e7)](_0x2b6a14=>_0x2b6a14!==''):_0x5e48ce===_0x4f6757(0x724)&&typeof _0x45e4e6=='string'?_0xcf1052[_0x5e48ce]=_0x45e4e6[_0x4f6757(0x293)](',')[_0x4f6757(0x657)](_0x18d09=>_0x18d09['trim']())['filter'](_0x321e6e=>_0x321e6e!==''):_0xcf1052[_0x5e48ce]=_0x45e4e6);});let _0x1c3be9=_0x17449d[_0x9fe8c8(0x7af)][_0x9fe8c8(0x519)][_0x17449d[_0x9fe8c8(0x7af)]['blockLogs'][_0x9fe8c8(0x4a3)]-0x1];if(_0x1c3be9){let _0xd881f8=_0x1c3be9[_0x9fe8c8(0x6d9)];_0xd881f8!==void 0x0&&(_0xcf1052[_0x9fe8c8(0x40c)]=_0xd881f8[_0x9fe8c8(0x1ee)]());}let _0x20f82f=_0x4f638e[_0x9fe8c8(0x4e7)](_0x42c18a=>_0x35581c[_0x9fe8c8(0x750)](_0x42c18a[_0x9fe8c8(0x2cb)]));this['logger'][_0x9fe8c8(0x470)](this['instanceName']+'\x20('+this[_0x9fe8c8(0x31b)][_0x9fe8c8(0x699)]+_0x9fe8c8(0x697)),this[_0x9fe8c8(0x4ad)][_0x9fe8c8(0x470)](_0xcf1052),this[_0x9fe8c8(0x4ad)][_0x9fe8c8(0x470)](this[_0x9fe8c8(0x12b)]+'\x20('+this['instance'][_0x9fe8c8(0x699)]+'):\x20customFieldVariables'),this['logger'][_0x9fe8c8(0x470)](_0x20f82f);let _0x5a47f2=_0x20f82f[_0x9fe8c8(0x657)](_0x5d5671=>{const _0x63f3d7=_0x9fe8c8;let _0x494f03=this[_0x63f3d7(0x1ed)]?.['customFields'][_0x63f3d7(0xe9)](_0x55aa4b=>_0x55aa4b[_0x63f3d7(0x2cb)]===_0x5d5671[_0x63f3d7(0x2cb)]);if(!_0x494f03)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x5d5671[_0x63f3d7(0x2cb)]);return{'_id':_0x494f03[_0x63f3d7(0x286)],'value':_0x5d5671[_0x63f3d7(0x502)]};});this[_0x9fe8c8(0x4ad)][_0x9fe8c8(0x470)](this[_0x9fe8c8(0x12b)]+'\x20('+this[_0x9fe8c8(0x31b)]['wuid']+_0x9fe8c8(0x3ce)),this['logger']['verbose'](_0x5a47f2),await this[_0x9fe8c8(0x3c6)](_0x17449d['remoteJid'],_0xcf1052,_0x5a47f2);}catch(_0x5b7cf8){this[_0x9fe8c8(0x4ad)][_0x9fe8c8(0x295)](this[_0x9fe8c8(0x12b)]+'\x20('+this[_0x9fe8c8(0x31b)][_0x9fe8c8(0x699)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x5b7cf8 instanceof Error?_0x5b7cf8[_0x9fe8c8(0x659)]:JSON[_0x9fe8c8(0x2e3)](_0x5b7cf8,null,0x2)));}}else this['logger'][_0x9fe8c8(0x295)](this[_0x9fe8c8(0x12b)]+'\x20('+this[_0x9fe8c8(0x31b)][_0x9fe8c8(0x699)]+_0x9fe8c8(0xb6));}catch(_0x1d13e5){this[_0x9fe8c8(0x4ad)][_0x9fe8c8(0x295)](this[_0x9fe8c8(0x12b)]+'\x20('+this['instance'][_0x9fe8c8(0x699)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x1d13e5 instanceof Error?_0x1d13e5[_0x9fe8c8(0x659)]:JSON[_0x9fe8c8(0x2e3)](_0x1d13e5,null,0x2)));}}async[a0_0x22f2c8(0x3c6)](_0x590ec7,_0x1c3be0,_0x198fb4){const _0x42c8a9=a0_0x22f2c8;try{let _0xc822fc={'leadInfo.leadnome':_0x1c3be0['nome'],'leadInfo.nomecompleto':_0x1c3be0[_0x42c8a9(0x11b)],'leadInfo.email':_0x1c3be0['email'],'leadInfo.cpf':_0x1c3be0[_0x42c8a9(0x526)],'leadInfo.status':_0x1c3be0['status'],'leadInfo.notas':_0x1c3be0[_0x42c8a9(0x7d1)],'leadInfo.responsavelid':_0x1c3be0[_0x42c8a9(0x35f)],'leadInfo.tags':_0x1c3be0[_0x42c8a9(0x28e)],'leadInfo.etiquetas':_0x1c3be0[_0x42c8a9(0x724)],'leadInfo.customFields':_0x198fb4,'leadInfo.atendimentoAberto':_0x1c3be0['atendimentoAberto']},_0x3434ae=await this[_0x42c8a9(0x70e)][_0x42c8a9(0x294)][_0x42c8a9(0x239)]({'where':{'_id':_0x590ec7}},this['instance']['wuid']);if(!_0x3434ae)return'chat\x20não\x20encontrado';let _0x528507=new Set(_0x3434ae['leadInfo']['etiquetas']||[]),_0x528210=new Set(_0x1c3be0[_0x42c8a9(0x724)]||[]),_0x2dbed6=await this[_0x42c8a9(0x70e)][_0x42c8a9(0x585)][_0x42c8a9(0xe9)]({'where':{}},this[_0x42c8a9(0x31b)][_0x42c8a9(0x699)]),_0x2ba006=new Set(_0x2dbed6[_0x42c8a9(0x657)](_0x2005f8=>_0x2005f8[_0x42c8a9(0x286)])),_0x46de71=[..._0x528210][_0x42c8a9(0x4e7)](_0x117744=>!_0x528507['has'](_0x117744)&&_0x2ba006[_0x42c8a9(0x5f7)](_0x117744)),_0x3f824f=[..._0x528507]['filter'](_0x4fd535=>!_0x528210['has'](_0x4fd535));for(let _0x44ffa6 of _0x46de71)await this[_0x42c8a9(0x50d)](_0x44ffa6,_0x3434ae[_0x42c8a9(0x286)]),_0x528507[_0x42c8a9(0xda)](_0x44ffa6);for(let _0x5d8deb of _0x3f824f)await this['RemoveChatLabel'](_0x5d8deb,_0x3434ae['_id']),_0x528507['delete'](_0x5d8deb);if(_0x42c8a9(0x40c)in _0x1c3be0){let _0x209ce9=_0x1c3be0[_0x42c8a9(0x40c)];_0xc822fc['leadInfo.desativadoFluxoAte']=_0x209ce9?Number(_0x209ce9):null;}if('atendimentoAberto'in _0x1c3be0){let _0x32d4ca=_0x1c3be0[_0x42c8a9(0x59b)][_0x42c8a9(0x157)]();_0xc822fc['leadInfo.atendimentoAberto']=_0x32d4ca==='true'||_0x32d4ca==='1'||_0x32d4ca==='yes'||_0x32d4ca===_0x42c8a9(0x5f1);}let _0x472b7c=await this[_0x42c8a9(0x70e)][_0x42c8a9(0x294)]['updateOne']({'where':{'_id':_0x590ec7}},_0xc822fc,this[_0x42c8a9(0x31b)]['wuid']);_0x472b7c?(this[_0x42c8a9(0x4ad)][_0x42c8a9(0x470)](this[_0x42c8a9(0x12b)]+'\x20('+this['instance']['wuid']+_0x42c8a9(0x792)+_0x472b7c[_0x42c8a9(0x286)]),J(this[_0x42c8a9(0x12b)],_0x42c8a9(0x24f),{'chat':_0x472b7c})):this[_0x42c8a9(0x4ad)][_0x42c8a9(0x295)](this[_0x42c8a9(0x12b)]+'\x20('+this[_0x42c8a9(0x31b)][_0x42c8a9(0x699)]+_0x42c8a9(0x719));}catch(_0x347e77){this[_0x42c8a9(0x4ad)][_0x42c8a9(0x295)](this[_0x42c8a9(0x12b)]+'\x20('+this[_0x42c8a9(0x31b)]['wuid']+_0x42c8a9(0x57a)+(_0x347e77 instanceof Error?_0x347e77[_0x42c8a9(0x659)]:JSON[_0x42c8a9(0x2e3)](_0x347e77,null,0x2)));}}async['updateStopChat'](_0x556da8,_0x15af53){const _0x1efd4f=a0_0x22f2c8;this[_0x1efd4f(0x4ad)][_0x1efd4f(0x470)](this[_0x1efd4f(0x12b)]+'\x20('+this[_0x1efd4f(0x31b)][_0x1efd4f(0x699)]+'):\x20atualização\x20chat:\x20'+_0x15af53);try{let _0x5b99db=await this[_0x1efd4f(0x70e)][_0x1efd4f(0x294)]['updateOne']({'where':{'_id':_0x556da8[_0x1efd4f(0x22b)]}},{'leadInfo.desativadoFluxoAte':_0x15af53},this[_0x1efd4f(0x31b)][_0x1efd4f(0x699)]);this['logger'][_0x1efd4f(0x470)](this['instanceName']+'\x20('+this['instance'][_0x1efd4f(0x699)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x556da8[_0x1efd4f(0x286)]),this[_0x1efd4f(0x4ad)]['verbose'](this[_0x1efd4f(0x12b)]+'\x20('+this['instance'][_0x1efd4f(0x699)]+'):\x20atualização\x20chat:\x20'+JSON[_0x1efd4f(0x2e3)](_0x5b99db,null,0x2)),_0x5b99db&&J(this['instanceName'],_0x1efd4f(0x24f),{'chat':_0x5b99db});}catch(_0x1d8d03){this[_0x1efd4f(0x4ad)][_0x1efd4f(0x295)](this[_0x1efd4f(0x12b)]+'\x20('+this[_0x1efd4f(0x31b)][_0x1efd4f(0x699)]+_0x1efd4f(0x445)+(_0x1d8d03 instanceof Error?_0x1d8d03['message']:JSON[_0x1efd4f(0x2e3)](_0x1d8d03,null,0x2)));}}async['findFlow'](_0x18bc46){const _0x3b24e0=a0_0x22f2c8;try{this[_0x3b24e0(0x4ad)]['verbose'](this[_0x3b24e0(0x12b)]+'\x20('+this[_0x3b24e0(0x31b)][_0x3b24e0(0x699)]+_0x3b24e0(0x202));let _0x436086=_0x18bc46[_0x3b24e0(0x16d)](/\D/g,''),_0x116228=this[_0x3b24e0(0x1ed)][_0x3b24e0(0x780)][_0x3b24e0(0xe9)](_0x5bd8d6=>_0x5bd8d6[_0x3b24e0(0xbd)]===_0x436086);if(_0x116228||(this[_0x3b24e0(0x4ad)][_0x3b24e0(0x470)](this[_0x3b24e0(0x12b)]+'\x20('+this[_0x3b24e0(0x31b)][_0x3b24e0(0x699)]+_0x3b24e0(0x241)),_0x116228=this[_0x3b24e0(0x1ed)]['flows'][_0x3b24e0(0xe9)](_0x5077bb=>_0x5077bb['default']===!0x0)),!_0x116228)return this[_0x3b24e0(0x4ad)][_0x3b24e0(0x470)](this['instanceName']+'\x20('+this[_0x3b24e0(0x31b)][_0x3b24e0(0x699)]+_0x3b24e0(0x21a)),null;let _0x1d3b4b=await this[_0x3b24e0(0x70e)][_0x3b24e0(0x28c)][_0x3b24e0(0x239)]({'where':{'_id':_0x116228[_0x3b24e0(0x286)]}});if(!_0x1d3b4b||!_0x1d3b4b[_0x3b24e0(0x176)]?.[_0x3b24e0(0x750)](this['instance'][_0x3b24e0(0x699)]))throw this[_0x3b24e0(0x4ad)][_0x3b24e0(0x295)](this[_0x3b24e0(0x12b)]+'\x20('+this['instance'][_0x3b24e0(0x699)]+_0x3b24e0(0x506)+_0x1d3b4b[_0x3b24e0(0x286)]+_0x3b24e0(0x5fc)),new m(_0x3b24e0(0x6d2)+_0x1d3b4b[_0x3b24e0(0x286)]+_0x3b24e0(0x5fc));return _0x1d3b4b;}catch(_0x3c9a3d){return this[_0x3b24e0(0x4ad)][_0x3b24e0(0x295)](this['instanceName']+'\x20('+this[_0x3b24e0(0x31b)][_0x3b24e0(0x699)]+_0x3b24e0(0x6b9)+(_0x3c9a3d instanceof Error?_0x3c9a3d[_0x3b24e0(0x659)]:JSON[_0x3b24e0(0x2e3)](_0x3c9a3d,null,0x2))),null;}}async[a0_0x22f2c8(0x472)](_0x2c66d5,_0x5b02c6){const _0xf6bfee=a0_0x22f2c8;try{let _0x4ccbcc=!!_0x5b02c6[_0xf6bfee(0x41b)],_0x45f5b2=_0x5b02c6['quoted'],_0x50a51b=null;if(this[_0xf6bfee(0x4ad)][_0xf6bfee(0x470)](this[_0xf6bfee(0x12b)]+'\x20('+this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]+'):\x20isVote:\x20'+_0x4ccbcc+_0xf6bfee(0x583)+_0x45f5b2),_0x4ccbcc){this[_0xf6bfee(0x4ad)][_0xf6bfee(0x470)](this[_0xf6bfee(0x12b)]+'\x20('+this['instance'][_0xf6bfee(0x699)]+_0xf6bfee(0x24c));let _0x263e96={'where':{'remoteJid':_0x2c66d5,'waitingMenu_id':_0x45f5b2}};if(_0x50a51b=await this[_0xf6bfee(0x70e)]['flowConversation'][_0xf6bfee(0x239)](_0x263e96,this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]),!_0x50a51b)return this[_0xf6bfee(0x4ad)]['verbose'](this[_0xf6bfee(0x12b)]+'\x20('+this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]+_0xf6bfee(0x18b)),null;let _0x1d40bd=Date[_0xf6bfee(0x4f1)](),_0xaf2e7d=_0x50a51b?.[_0xf6bfee(0x43e)]||0x0,_0x524cbb=_0x1d40bd-_0xaf2e7d*0x3c*0x3e8;if(_0x50a51b[_0xf6bfee(0x621)]<_0x524cbb){this[_0xf6bfee(0x4ad)][_0xf6bfee(0x470)](this[_0xf6bfee(0x12b)]+'\x20('+this[_0xf6bfee(0x31b)]['wuid']+_0xf6bfee(0x54c));let _0x2498ce={'number':_0x50a51b['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x50a51b[_0xf6bfee(0x3f0)]}};await this[_0xf6bfee(0x221)](_0x2498ce);let _0x24fa4e={'status':_0xf6bfee(0x70c),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0xf6bfee(0x1c1)][_0xf6bfee(0x365)](_0x50a51b['_id'],_0x24fa4e,this['instance'][_0xf6bfee(0x699)]),null;}return _0x50a51b[_0xf6bfee(0x621)]=Date['now'](),_0x50a51b['chatLog']['lastReceivedMessage']=_0x5b02c6,_0x50a51b;}else{this[_0xf6bfee(0x4ad)][_0xf6bfee(0x470)](this['instanceName']+'\x20('+this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]+_0xf6bfee(0x12a)+this['instance'][_0xf6bfee(0x699)]+_0xf6bfee(0x560)),this[_0xf6bfee(0x4ad)][_0xf6bfee(0x470)](this[_0xf6bfee(0x12b)]+'\x20('+this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]+_0xf6bfee(0x3db));let _0x14155c={'where':{'remoteJid':_0x2c66d5,'status':_0xf6bfee(0x237)}};if(_0x50a51b=await this[_0xf6bfee(0x70e)][_0xf6bfee(0x1c1)][_0xf6bfee(0x239)](_0x14155c,this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]),!_0x50a51b){let _0x329404=await this[_0xf6bfee(0x49c)](_0x2c66d5);if(_0x329404&&(_0x50a51b=await this[_0xf6bfee(0x238)](_0x329404,_0x5b02c6['key'],_0x5b02c6)),!_0x50a51b)return null;}let _0x2f16a0=Date[_0xf6bfee(0x4f1)](),_0x3161b5=_0x50a51b?.[_0xf6bfee(0x43e)]||0x0,_0x2f8eff=_0x2f16a0-_0x3161b5*0x3c*0x3e8;if(this['logger'][_0xf6bfee(0x470)](this[_0xf6bfee(0x12b)]+'\x20('+this['instance'][_0xf6bfee(0x699)]+'):\x20Current\x20Time:\x20'+_0x2f16a0+_0xf6bfee(0x492)+_0x3161b5+_0xf6bfee(0x5df)+_0x2f8eff),this[_0xf6bfee(0x4ad)][_0xf6bfee(0x470)](this['instanceName']+'\x20('+this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0xf6bfee(0x4ad)]['verbose'](this[_0xf6bfee(0x12b)]+'\x20('+this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]+_0xf6bfee(0x745)+_0x50a51b['lastInteraction']),this[_0xf6bfee(0x4ad)][_0xf6bfee(0x470)](this[_0xf6bfee(0x12b)]+'\x20('+this['instance'][_0xf6bfee(0x699)]+_0xf6bfee(0x73f)+_0x2f8eff),_0x50a51b['lastInteraction']<_0x2f8eff){this['logger'][_0xf6bfee(0x470)](this[_0xf6bfee(0x12b)]+'\x20('+this['instance']['wuid']+_0xf6bfee(0x71f));let _0x1e82b8=await this[_0xf6bfee(0x49c)](_0x2c66d5);if(_0x1e82b8===null)return null;_0x50a51b&&await this[_0xf6bfee(0x70e)][_0xf6bfee(0x1c1)]['updateOne'](_0x50a51b[_0xf6bfee(0x286)],{'status':_0xf6bfee(0x70c)},this['instance'][_0xf6bfee(0x699)]),_0x50a51b=await this['createNewConversation'](_0x1e82b8,_0x5b02c6[_0xf6bfee(0x41f)],_0x5b02c6);}return _0x50a51b[_0xf6bfee(0x621)]=_0x2f16a0,_0x50a51b[_0xf6bfee(0x7af)][_0xf6bfee(0x5c6)]=_0x5b02c6,_0x50a51b;}}catch(_0x297bc9){return this[_0xf6bfee(0x4ad)][_0xf6bfee(0x295)](this['instanceName']+'\x20('+this[_0xf6bfee(0x31b)][_0xf6bfee(0x699)]+_0xf6bfee(0x4b7)+(_0x297bc9 instanceof Error?_0x297bc9['message']:JSON['stringify'](_0x297bc9,null,0x2))),null;}}async[a0_0x22f2c8(0x238)](_0x3ef158,_0x32bf2c,_0x14d619){const _0x41b6d5=a0_0x22f2c8;this[_0x41b6d5(0x4ad)]['verbose'](this[_0x41b6d5(0x12b)]+'\x20('+this[_0x41b6d5(0x31b)][_0x41b6d5(0x699)]+_0x41b6d5(0x292));try{let _0x381b11=require(_0x41b6d5(0x1db))['ObjectId'],_0x589504=Date['now'](),_0x23f409=_0x41b6d5(0x4aa),_0x3e7bec=_0x32bf2c[_0x41b6d5(0x5ea)]?null:_0x14d619,_0x4d22c5=_0x32bf2c['fromMe']?_0x14d619:null,_0x2d31c1=_0x32bf2c[_0x41b6d5(0x22b)],_0x58c92f=this['AutomateSystem'][_0x41b6d5(0x780)][_0x41b6d5(0xe9)](_0x5e6c1f=>_0x5e6c1f['_id']===_0x3ef158[_0x41b6d5(0x286)]?.[_0x41b6d5(0x1ee)]()),_0x1cea36=_0x58c92f?.[_0x41b6d5(0x43e)]??_0x3ef158[_0x41b6d5(0x43e)]??0x0,_0x1c416b=_0x58c92f?.[_0x41b6d5(0x75b)]??_0x3ef158[_0x41b6d5(0x75b)]??!0x1;await this['closeExistingConversations'](_0x2d31c1);let _0x5880b5={'flowId':_0x3ef158[_0x41b6d5(0x286)],..._0x3ef158,'chatLog':null},_0x392ecb=await this[_0x41b6d5(0x486)](_0x5880b5[_0x41b6d5(0xa1)]),_0x1d0ad8=await this[_0x41b6d5(0x2eb)](_0x2d31c1),_0x1a2a3c={..._0x392ecb,..._0x1d0ad8,'_remoteJid':_0x2d31c1},_0x3983e5={'lastReceivedMessage':_0x3e7bec,'lastSendMessage':_0x4d22c5,'lastBlockId':_0x23f409,'lastCondition':!0x0,'realVariables':_0x1a2a3c};_0x5880b5[_0x41b6d5(0x7af)]=_0x3983e5,delete _0x5880b5[_0x41b6d5(0x286)],_0x5880b5[_0x41b6d5(0x286)]=new _0x381b11(),_0x5880b5[_0x41b6d5(0x621)]=_0x589504,_0x5880b5[_0x41b6d5(0x3fe)]=_0x41b6d5(0x237),_0x5880b5[_0x41b6d5(0x22b)]=_0x2d31c1,_0x5880b5[_0x41b6d5(0x43e)]=_0x1cea36,_0x5880b5[_0x41b6d5(0x75b)]=_0x1c416b;let _0x1e773e=await this[_0x41b6d5(0x70e)][_0x41b6d5(0x1c1)]['updateOne'](_0x5880b5[_0x41b6d5(0x286)],_0x5880b5,this['instance']['wuid']);return this[_0x41b6d5(0x4ad)][_0x41b6d5(0x470)](this['instanceName']+'\x20('+this['instance'][_0x41b6d5(0x699)]+_0x41b6d5(0x5a5)),_0x1e773e?_0x5880b5:null;}catch(_0x4a8e83){return this[_0x41b6d5(0x4ad)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x41b6d5(0x32b)+(_0x4a8e83 instanceof Error?_0x4a8e83[_0x41b6d5(0x659)]:JSON['stringify'](_0x4a8e83,null,0x2))),_0x4a8e83;}}async[a0_0x22f2c8(0x1e7)](_0x438155,_0x1f35a8){const _0x57e2c2=a0_0x22f2c8;let _0x49beb7=_0x438155['remoteJid'];_0x1f35a8[_0x57e2c2(0x77a)]['remoteJid']&&_0x1f35a8['uazapi'][_0x57e2c2(0x22b)][_0x57e2c2(0x181)]()!==''&&(_0x49beb7=_0x1f35a8[_0x57e2c2(0x77a)][_0x57e2c2(0x22b)][_0x57e2c2(0x181)]()),this[_0x57e2c2(0x4ad)][_0x57e2c2(0x470)](this[_0x57e2c2(0x12b)]+'\x20('+this[_0x57e2c2(0x31b)][_0x57e2c2(0x699)]+'):\x20Enviando\x20texto');let _0xb78a6={'number':_0x49beb7,'options':{'delay':_0x1f35a8['uazapi']['delay'],'linkPreview':_0x1f35a8[_0x57e2c2(0x77a)][_0x57e2c2(0x384)]},'textMessage':{'text':_0x1f35a8[_0x57e2c2(0x77a)][_0x57e2c2(0x20c)]}};try{let _0x156acc=await this[_0x57e2c2(0x221)](_0xb78a6);if(_0x156acc){let _0x6f4216={'_id':_0x156acc['key']['id'],'_fromMe':_0x156acc[_0x57e2c2(0x41f)][_0x57e2c2(0x5ea)],'_remoteJid':_0x156acc['key'][_0x57e2c2(0x22b)]},_0x4919cc=(0x0,w[_0x57e2c2(0x4e9)])(_0x156acc[_0x57e2c2(0x659)]),_0x7b7ed9=(0x0,w[_0x57e2c2(0x284)])(_0x4919cc);_0x438155['chatLog'][_0x57e2c2(0x4ab)]=_0x1f35a8[_0x57e2c2(0x286)][_0x57e2c2(0x1ee)]();let {message_normalized:_0x36b587}=this[_0x57e2c2(0x5a1)](_0x4919cc,_0x7b7ed9,null);_0x438155['chatLog'][_0x57e2c2(0x3f5)]=await _0x36b587;let _0x506033={'messageId':_0x156acc[_0x57e2c2(0x41f)]['id']},_0x27f3d6=_0x438155['chatLog'][_0x57e2c2(0x178)];Object[_0x57e2c2(0x3b7)](_0x27f3d6,_0x6f4216),_0x438155['chatLog'][_0x57e2c2(0x178)]=_0x27f3d6,this['updateConversation'](_0x438155,_0x1f35a8,_0x506033);}else{let _0x150859={'error':!0x0};this['updateConversation'](_0x438155,_0x1f35a8,_0x150859),this[_0x57e2c2(0x4ad)]['error'](this[_0x57e2c2(0x12b)]+'\x20('+this[_0x57e2c2(0x31b)]['wuid']+_0x57e2c2(0x93));}}catch(_0xd81d90){let _0x3bffd6={'error':!0x0,'errorLog':_0xd81d90[_0x57e2c2(0x1ee)]()};this['updateConversation'](_0x438155,_0x1f35a8,_0x3bffd6),this[_0x57e2c2(0x4ad)][_0x57e2c2(0x295)](this[_0x57e2c2(0x12b)]+'\x20('+this[_0x57e2c2(0x31b)][_0x57e2c2(0x699)]+_0x57e2c2(0x18d)+(_0xd81d90 instanceof Error?_0xd81d90[_0x57e2c2(0x659)]:JSON[_0x57e2c2(0x2e3)](_0xd81d90,null,0x2)));}}async[a0_0x22f2c8(0x612)](_0x502bdd,_0x320c85){const _0x3d0086=a0_0x22f2c8;let _0x43af4f=_0x502bdd[_0x3d0086(0x22b)];_0x320c85[_0x3d0086(0x77a)]['remoteJid']&&_0x320c85[_0x3d0086(0x77a)][_0x3d0086(0x22b)][_0x3d0086(0x181)]()!==''&&(_0x43af4f=_0x320c85['uazapi'][_0x3d0086(0x22b)][_0x3d0086(0x181)]()),this[_0x3d0086(0x4ad)][_0x3d0086(0x470)](this['instanceName']+'\x20('+this[_0x3d0086(0x31b)][_0x3d0086(0x699)]+_0x3d0086(0x2bb));let _0x37dba2={'number':_0x43af4f,'options':{'delay':_0x320c85[_0x3d0086(0x77a)][_0x3d0086(0x3f2)],'linkPreview':_0x320c85[_0x3d0086(0x77a)][_0x3d0086(0x384)]},'mediaMessage':{'mediatype':_0x320c85['uazapi'][_0x3d0086(0x312)],'caption':_0x320c85[_0x3d0086(0x77a)][_0x3d0086(0x4d2)],'media':_0x320c85[_0x3d0086(0x77a)]['media'],'fileName':_0x320c85[_0x3d0086(0x77a)][_0x3d0086(0x252)]}};try{let _0x173685=await this['mediaMessage'](_0x37dba2);if(_0x173685){let _0x57496f={'_id':_0x173685[_0x3d0086(0x41f)]['id'],'_fromMe':_0x173685[_0x3d0086(0x41f)][_0x3d0086(0x5ea)],'_remoteJid':_0x173685[_0x3d0086(0x41f)][_0x3d0086(0x22b)]},_0x51be28=(0x0,w[_0x3d0086(0x4e9)])(_0x173685[_0x3d0086(0x659)]),_0x309217=(0x0,w[_0x3d0086(0x284)])(_0x51be28);_0x502bdd[_0x3d0086(0x7af)][_0x3d0086(0x4ab)]=_0x320c85[_0x3d0086(0x286)][_0x3d0086(0x1ee)]();let {message_normalized:_0x3e1ede}=this['normalizeMessage'](_0x51be28,_0x309217,null);_0x502bdd['chatLog']['lastSendMessage']=await _0x3e1ede;let _0x3e2eb3={'messageId':_0x173685['key']['id']},_0x337d62=_0x502bdd[_0x3d0086(0x7af)][_0x3d0086(0x178)];Object[_0x3d0086(0x3b7)](_0x337d62,_0x57496f),_0x502bdd[_0x3d0086(0x7af)][_0x3d0086(0x178)]=_0x337d62,this['updateConversation'](_0x502bdd,_0x320c85,_0x3e2eb3);}else{let _0x249158={'error':!0x0};this['updateConversation'](_0x502bdd,_0x320c85,_0x249158),this[_0x3d0086(0x4ad)]['error'](this[_0x3d0086(0x12b)]+'\x20('+this['instance'][_0x3d0086(0x699)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x1675a0){let _0x41cd9c={'error':!0x0,'errorLog':_0x1675a0[_0x3d0086(0x1ee)]()};this[_0x3d0086(0x5c4)](_0x502bdd,_0x320c85,_0x41cd9c),this[_0x3d0086(0x4ad)][_0x3d0086(0x295)](this[_0x3d0086(0x12b)]+'\x20('+this['instance']['wuid']+_0x3d0086(0x20d)+(_0x1675a0 instanceof Error?_0x1675a0['message']:JSON[_0x3d0086(0x2e3)](_0x1675a0,null,0x2)));}}async[a0_0x22f2c8(0x528)](_0x3e8a9e,_0x255378){const _0x1339ff=a0_0x22f2c8;let _0x346b7a=_0x3e8a9e[_0x1339ff(0x22b)];_0x255378[_0x1339ff(0x77a)][_0x1339ff(0x22b)]&&_0x255378[_0x1339ff(0x77a)][_0x1339ff(0x22b)][_0x1339ff(0x181)]()!==''&&(_0x346b7a=_0x255378[_0x1339ff(0x77a)][_0x1339ff(0x22b)]['trim']()),this['logger'][_0x1339ff(0x470)](this[_0x1339ff(0x12b)]+'\x20('+this[_0x1339ff(0x31b)][_0x1339ff(0x699)]+_0x1339ff(0x71c));let _0x1dc263={'number':_0x346b7a,'options':{'delay':_0x255378[_0x1339ff(0x77a)][_0x1339ff(0x3f2)]},'locationMessage':{'name':_0x255378['uazapi']['name'],'address':_0x255378['uazapi'][_0x1339ff(0x2fa)],'latitude':_0x255378[_0x1339ff(0x77a)][_0x1339ff(0x4ed)],'longitude':_0x255378[_0x1339ff(0x77a)]['longitude']}};try{let _0x2de4f8=await this[_0x1339ff(0x687)](_0x1dc263);if(_0x2de4f8){let _0x2ac018={'_id':_0x2de4f8[_0x1339ff(0x41f)]['id'],'_fromMe':_0x2de4f8['key'][_0x1339ff(0x5ea)],'_remoteJid':_0x2de4f8[_0x1339ff(0x41f)][_0x1339ff(0x22b)]},_0x2d7af6=(0x0,w[_0x1339ff(0x4e9)])(_0x2de4f8[_0x1339ff(0x659)]),_0x2ed0e3=(0x0,w['getContentType'])(_0x2d7af6);_0x3e8a9e[_0x1339ff(0x7af)][_0x1339ff(0x4ab)]=_0x255378[_0x1339ff(0x286)][_0x1339ff(0x1ee)]();let {message_normalized:_0x578473}=this[_0x1339ff(0x5a1)](_0x2d7af6,_0x2ed0e3,null);_0x3e8a9e[_0x1339ff(0x7af)][_0x1339ff(0x3f5)]=await _0x578473;let _0x1235c8={'messageId':_0x2de4f8[_0x1339ff(0x41f)]['id']},_0x4e0e8c=_0x3e8a9e[_0x1339ff(0x7af)][_0x1339ff(0x178)];Object[_0x1339ff(0x3b7)](_0x4e0e8c,_0x2ac018),_0x3e8a9e[_0x1339ff(0x7af)][_0x1339ff(0x178)]=_0x4e0e8c,this[_0x1339ff(0x5c4)](_0x3e8a9e,_0x255378,_0x1235c8);}else{let _0x18cca8={'error':!0x0};this[_0x1339ff(0x5c4)](_0x3e8a9e,_0x255378,_0x18cca8),this['logger'][_0x1339ff(0x295)](this[_0x1339ff(0x12b)]+'\x20('+this['instance'][_0x1339ff(0x699)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x296b05){let _0x5830a1={'error':!0x0,'errorLog':_0x296b05['toString']()};this['updateConversation'](_0x3e8a9e,_0x255378,_0x5830a1),this['logger'][_0x1339ff(0x295)](this['instanceName']+'\x20('+this[_0x1339ff(0x31b)][_0x1339ff(0x699)]+_0x1339ff(0x5ff)+(_0x296b05 instanceof Error?_0x296b05[_0x1339ff(0x659)]:JSON[_0x1339ff(0x2e3)](_0x296b05,null,0x2)));}}async['uazapiSendAudio'](_0xfa45bf,_0x3497f6){const _0x1a1733=a0_0x22f2c8;let _0x1cd914=_0xfa45bf[_0x1a1733(0x22b)];_0x3497f6[_0x1a1733(0x77a)][_0x1a1733(0x22b)]&&_0x3497f6[_0x1a1733(0x77a)][_0x1a1733(0x22b)][_0x1a1733(0x181)]()!==''&&(_0x1cd914=_0x3497f6['uazapi'][_0x1a1733(0x22b)][_0x1a1733(0x181)]()),this[_0x1a1733(0x4ad)][_0x1a1733(0x470)](this[_0x1a1733(0x12b)]+'\x20('+this[_0x1a1733(0x31b)][_0x1a1733(0x699)]+_0x1a1733(0x700));let _0x19c6cd={'number':_0x1cd914,'options':{'delay':_0x3497f6['uazapi']['delay']},'audioMessage':{'audio':_0x3497f6[_0x1a1733(0x77a)][_0x1a1733(0x524)]}};try{let _0x341804=await this['audioWhatsapp'](_0x19c6cd);if(_0x341804){let _0x199419={'_id':_0x341804[_0x1a1733(0x41f)]['id'],'_fromMe':_0x341804['key']['fromMe'],'_remoteJid':_0x341804[_0x1a1733(0x41f)][_0x1a1733(0x22b)]},_0x5b2025=(0x0,w[_0x1a1733(0x4e9)])(_0x341804[_0x1a1733(0x659)]),_0x38c9c9=(0x0,w[_0x1a1733(0x284)])(_0x5b2025);_0xfa45bf[_0x1a1733(0x7af)][_0x1a1733(0x4ab)]=_0x3497f6[_0x1a1733(0x286)][_0x1a1733(0x1ee)]();let {message_normalized:_0x22b428}=this[_0x1a1733(0x5a1)](_0x5b2025,_0x38c9c9,null);_0xfa45bf[_0x1a1733(0x7af)][_0x1a1733(0x3f5)]=await _0x22b428;let _0x5881eb={'messageId':_0x341804[_0x1a1733(0x41f)]['id']},_0x51e188=_0xfa45bf['chatLog']['realVariables'];Object[_0x1a1733(0x3b7)](_0x51e188,_0x199419),_0xfa45bf[_0x1a1733(0x7af)][_0x1a1733(0x178)]=_0x51e188,this[_0x1a1733(0x5c4)](_0xfa45bf,_0x3497f6,_0x5881eb);}else{let _0x428da4={'error':!0x0};this[_0x1a1733(0x5c4)](_0xfa45bf,_0x3497f6,_0x428da4),this[_0x1a1733(0x4ad)]['error'](this[_0x1a1733(0x12b)]+'\x20('+this[_0x1a1733(0x31b)][_0x1a1733(0x699)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x1b468b){let _0x590400={'error':!0x0,'errorLog':_0x1b468b['toString']()};this[_0x1a1733(0x5c4)](_0xfa45bf,_0x3497f6,_0x590400),this[_0x1a1733(0x4ad)][_0x1a1733(0x295)](this[_0x1a1733(0x12b)]+'\x20('+this['instance'][_0x1a1733(0x699)]+_0x1a1733(0x1dc)+(_0x1b468b instanceof Error?_0x1b468b[_0x1a1733(0x659)]:JSON[_0x1a1733(0x2e3)](_0x1b468b,null,0x2)));}}async[a0_0x22f2c8(0x1c0)](_0x423e1e,_0x55e5a8){const _0x37340d=a0_0x22f2c8;let _0x5ab3fe=_0x423e1e[_0x37340d(0x22b)];_0x55e5a8['uazapi'][_0x37340d(0x22b)]&&_0x55e5a8['uazapi'][_0x37340d(0x22b)]['trim']()!==''&&(_0x5ab3fe=_0x55e5a8[_0x37340d(0x77a)][_0x37340d(0x22b)]['trim']()),this['logger']['verbose'](this[_0x37340d(0x12b)]+'\x20('+this[_0x37340d(0x31b)][_0x37340d(0x699)]+'):\x20Enviando\x20contato');let _0x46c759={'number':_0x5ab3fe,'options':{'delay':_0x55e5a8['uazapi'][_0x37340d(0x3f2)]},'contactMessage':[{'fullName':_0x55e5a8['uazapi'][_0x37340d(0x145)],'phoneNumber':_0x55e5a8[_0x37340d(0x77a)]['phoneNumber']}]};try{let _0x281aae=await this[_0x37340d(0x757)](_0x46c759);if(_0x281aae){let _0x4bb8d9={'_id':_0x281aae['key']['id'],'_fromMe':_0x281aae[_0x37340d(0x41f)][_0x37340d(0x5ea)],'_remoteJid':_0x281aae[_0x37340d(0x41f)][_0x37340d(0x22b)]},_0x549e1b=(0x0,w[_0x37340d(0x4e9)])(_0x281aae[_0x37340d(0x659)]),_0x2ef6a6=(0x0,w[_0x37340d(0x284)])(_0x549e1b);_0x423e1e[_0x37340d(0x7af)]['lastBlockId']=_0x55e5a8[_0x37340d(0x286)][_0x37340d(0x1ee)]();let {message_normalized:_0x4e47ae}=this[_0x37340d(0x5a1)](_0x549e1b,_0x2ef6a6,null);_0x423e1e[_0x37340d(0x7af)][_0x37340d(0x3f5)]=await _0x4e47ae;let _0x51e4a6={'messageId':_0x281aae[_0x37340d(0x41f)]['id']},_0x2f7105=_0x423e1e['chatLog'][_0x37340d(0x178)];Object['assign'](_0x2f7105,_0x4bb8d9),_0x423e1e[_0x37340d(0x7af)][_0x37340d(0x178)]=_0x2f7105,this[_0x37340d(0x5c4)](_0x423e1e,_0x55e5a8,_0x51e4a6);}else{let _0x3039a4={'error':!0x0};this[_0x37340d(0x5c4)](_0x423e1e,_0x55e5a8,_0x3039a4),this[_0x37340d(0x4ad)][_0x37340d(0x295)](this[_0x37340d(0x12b)]+'\x20('+this['instance']['wuid']+_0x37340d(0x1a8));}}catch(_0x2727d9){let _0x1868b7={'error':!0x0,'errorLog':_0x2727d9[_0x37340d(0x1ee)]()};this[_0x37340d(0x5c4)](_0x423e1e,_0x55e5a8,_0x1868b7),this['logger'][_0x37340d(0x295)](this[_0x37340d(0x12b)]+'\x20('+this[_0x37340d(0x31b)]['wuid']+_0x37340d(0x467)+(_0x2727d9 instanceof Error?_0x2727d9[_0x37340d(0x659)]:JSON[_0x37340d(0x2e3)](_0x2727d9,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x290aa9,_0x911b9f){const _0x33805a=a0_0x22f2c8;for(let _0x258e8a of _0x290aa9)_0x258e8a['option']&&(_0x258e8a[_0x33805a(0x25d)]=this[_0x33805a(0x74a)](_0x258e8a['option'],_0x911b9f)),_0x258e8a['optionDescription']&&(_0x258e8a[_0x33805a(0x2f4)]=this[_0x33805a(0x74a)](_0x258e8a[_0x33805a(0x2f4)],_0x911b9f));}async[a0_0x22f2c8(0x39e)](_0x495399,_0x134afb){const _0x387b98=a0_0x22f2c8;let _0x262630=_0x495399['remoteJid'];_0x134afb[_0x387b98(0x77a)][_0x387b98(0x22b)]&&_0x134afb[_0x387b98(0x77a)][_0x387b98(0x22b)]['trim']()!==''&&(_0x262630=_0x134afb[_0x387b98(0x77a)][_0x387b98(0x22b)][_0x387b98(0x181)]()),this['logger'][_0x387b98(0x470)](this[_0x387b98(0x12b)]+'\x20('+this[_0x387b98(0x31b)]['wuid']+'):\x20Enviando\x20enquete');let _0x275c3b=_0x495399['replyOptions'][_0x387b98(0x4e7)](_0x2621c2=>_0x2621c2[_0x387b98(0x6ed)]===_0x134afb['_id'])['sort']((_0x358d61,_0x3a7bd5)=>_0x358d61[_0x387b98(0x11c)]-_0x3a7bd5[_0x387b98(0x11c)]);this[_0x387b98(0x111)](_0x275c3b,_0x495399[_0x387b98(0x7af)][_0x387b98(0x178)]);let _0x2bd04a=_0x275c3b[_0x387b98(0x657)](_0x5b073c=>_0x5b073c[_0x387b98(0x25d)]),_0x1ea0cb={'number':_0x262630,'menuMessage':{'type':_0x134afb['uazapi'][_0x387b98(0x2fd)]||_0x387b98(0x6cd),'text':_0x134afb[_0x387b98(0x77a)][_0x387b98(0x20c)]||_0x134afb[_0x387b98(0x77a)][_0x387b98(0x2cb)],'footerText':_0x134afb[_0x387b98(0x77a)][_0x387b98(0x483)],'buttonText':_0x134afb[_0x387b98(0x77a)][_0x387b98(0x5ab)],'selectableCount':0x1,'choices':_0x2bd04a},'options':{'delay':_0x134afb[_0x387b98(0x77a)][_0x387b98(0x3f2)]}};try{let _0x6f1986=await this[_0x387b98(0x1f8)](_0x1ea0cb);if(_0x6f1986){let _0x1f9275={'_id':_0x6f1986[_0x387b98(0x41f)]['id'],'_fromMe':_0x6f1986[_0x387b98(0x41f)]['fromMe'],'_remoteJid':_0x6f1986[_0x387b98(0x41f)]['remoteJid']};_0x134afb[_0x387b98(0x77a)][_0x387b98(0x6fe)]===!0x0&&(_0x495399['status']='waitingForReplyMenu',this['logger']['verbose'](this[_0x387b98(0x12b)]+'\x20('+this[_0x387b98(0x31b)][_0x387b98(0x699)]+_0x387b98(0x49a)+_0x495399[_0x387b98(0x3fe)])),this['logger'][_0x387b98(0x470)](this[_0x387b98(0x12b)]+'\x20('+this[_0x387b98(0x31b)][_0x387b98(0x699)]+_0x387b98(0x16b)+(_0x134afb['uazapi'][_0x387b98(0x2cb)]||_0x134afb[_0x387b98(0x77a)][_0x387b98(0x20c)])),_0x495399['waitingMenu_id']=_0x6f1986['key']['id'],_0x495399[_0x387b98(0x253)]=_0x134afb['uazapi'][_0x387b98(0x2cb)]||_0x134afb[_0x387b98(0x77a)][_0x387b98(0x20c)],_0x495399[_0x387b98(0x799)]=_0x275c3b,_0x134afb[_0x387b98(0x77a)]['menuExpiredMessage']&&(_0x495399[_0x387b98(0x3f0)]=_0x134afb[_0x387b98(0x77a)]['menuExpiredMessage']),this[_0x387b98(0x4ad)][_0x387b98(0x470)](this[_0x387b98(0x12b)]+'\x20('+this[_0x387b98(0x31b)][_0x387b98(0x699)]+'):\x20conversation.waitingMenu_name'+_0x495399[_0x387b98(0x253)]);let _0x1bb467=(0x0,w[_0x387b98(0x4e9)])(_0x6f1986[_0x387b98(0x659)]),_0x4713f6=(0x0,w[_0x387b98(0x284)])(_0x1bb467);_0x495399[_0x387b98(0x7af)]['lastBlockId']=_0x134afb['_id']['toString']();let {message_normalized:_0x1c9483}=this[_0x387b98(0x5a1)](_0x1bb467,_0x4713f6,null);_0x495399['chatLog'][_0x387b98(0x3f5)]=await _0x1c9483;let _0xf9abbc={'messageId':_0x6f1986['key']['id']},_0x21451e=_0x495399[_0x387b98(0x7af)][_0x387b98(0x178)];Object[_0x387b98(0x3b7)](_0x21451e,_0x1f9275),_0x495399['chatLog'][_0x387b98(0x178)]=_0x21451e,this[_0x387b98(0x5c4)](_0x495399,_0x134afb,_0xf9abbc);}else{let _0x583762={'error':!0x0};this['updateConversation'](_0x495399,_0x134afb,_0x583762),this[_0x387b98(0x4ad)][_0x387b98(0x295)](this['instanceName']+'\x20('+this[_0x387b98(0x31b)][_0x387b98(0x699)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x58b6d2){let _0x267360={'error':!0x0,'errorLog':_0x58b6d2 instanceof Error?_0x58b6d2[_0x387b98(0x659)]:JSON[_0x387b98(0x2e3)](_0x58b6d2,null,0x2)};this['updateConversation'](_0x495399,_0x134afb,_0x267360),this[_0x387b98(0x4ad)][_0x387b98(0x295)](this[_0x387b98(0x12b)]+'\x20('+this[_0x387b98(0x31b)][_0x387b98(0x699)]+_0x387b98(0x2e8)+(_0x58b6d2 instanceof Error?_0x58b6d2[_0x387b98(0x659)]:JSON[_0x387b98(0x2e3)](_0x58b6d2,null,0x2)));}}async[a0_0x22f2c8(0x72a)](_0x25d8b1,_0x398ac9){const _0x3092db=a0_0x22f2c8;this['logger'][_0x3092db(0x470)](this[_0x3092db(0x12b)]+'\x20('+this['instance'][_0x3092db(0x699)]+_0x3092db(0x185));let _0x57e5de=_0x25d8b1[_0x3092db(0x7af)][_0x3092db(0x519)][_0x3092db(0xe9)](_0x4bad23=>_0x4bad23[_0x3092db(0x6ed)]['toString']()===_0x398ac9[_0x3092db(0x77a)]['blockId']['toString']()),_0x4740fd={'id':_0x57e5de[_0x3092db(0x60f)],'remoteJid':_0x57e5de['remoteJid'],'fromMe':_0x57e5de['fromMe']};try{let _0x3fc4f9=await this[_0x3092db(0x229)](_0x4740fd);if(_0x3fc4f9){let _0x460703=(0x0,w['normalizeMessageContent'])(_0x3fc4f9[_0x3092db(0x659)]),_0x35c9b0=(0x0,w[_0x3092db(0x284)])(_0x460703);_0x25d8b1[_0x3092db(0x7af)][_0x3092db(0x4ab)]=_0x398ac9[_0x3092db(0x286)][_0x3092db(0x1ee)]();let {message_normalized:_0x2b1e28}=this[_0x3092db(0x5a1)](_0x460703,_0x35c9b0,null);_0x25d8b1[_0x3092db(0x7af)][_0x3092db(0x3f5)]=await _0x2b1e28;let _0x3107c1={};this[_0x3092db(0x5c4)](_0x25d8b1,_0x398ac9,_0x3107c1);}else{let _0x403728={'error':!0x0};this['updateConversation'](_0x25d8b1,_0x398ac9,_0x403728),this['logger']['error'](this[_0x3092db(0x12b)]+'\x20('+this[_0x3092db(0x31b)][_0x3092db(0x699)]+_0x3092db(0x73b));}}catch(_0x1fd37b){let _0x53537a={'error':!0x0,'errorLog':_0x1fd37b instanceof Error?_0x1fd37b[_0x3092db(0x659)]:JSON[_0x3092db(0x2e3)](_0x1fd37b,null,0x2)};this['updateConversation'](_0x25d8b1,_0x398ac9,_0x53537a),this[_0x3092db(0x4ad)][_0x3092db(0x295)](this['instanceName']+'\x20('+this[_0x3092db(0x31b)][_0x3092db(0x699)]+_0x3092db(0x316)+(_0x1fd37b instanceof Error?_0x1fd37b['message']:JSON[_0x3092db(0x2e3)](_0x1fd37b,null,0x2)));}}async['createFlow'](_0x7b9fa5,_0x16f98b){const _0x21ec8c=a0_0x22f2c8;if(_0x7b9fa5[_0x21ec8c(0x2cb)]||(_0x7b9fa5['name']=(0x0,X['v4'])()),_0x16f98b!==$i&&_0x7b9fa5?.[_0x21ec8c(0x92)])throw new m(_0x21ec8c(0x25a));if('_id'in _0x7b9fa5&&_0x21ec8c(0x58e)in _0x7b9fa5)return this[_0x21ec8c(0xc3)](_0x7b9fa5[_0x21ec8c(0x58e)],_0x7b9fa5['_id']);this[_0x21ec8c(0x4ad)][_0x21ec8c(0x470)](this['instanceName']+'\x20('+this[_0x21ec8c(0x31b)][_0x21ec8c(0x699)]+_0x21ec8c(0x702));let _0x5e0447=this[_0x21ec8c(0x269)](_0x7b9fa5[_0x21ec8c(0x2cb)]),_0x225956=new he[(_0x21ec8c(0x42a))]['ObjectId'](),_0x31b844={'_id':_0x225956,'default':!0x0,'title':_0x21ec8c(0x438),'x':0x0,'y':0x0},_0x534dc5={'_id':new he['Types'][(_0x21ec8c(0x388))](),'order':0x1,'groupId':_0x225956[_0x21ec8c(0x1ee)](),'type':_0x21ec8c(0x4aa)},_0xab08a4=this[_0x21ec8c(0x31b)][_0x21ec8c(0x699)],_0x2b4fa9={'_id':(0x0,X['v4'])(),'owner':_0xab08a4,'name':_0x5e0447,'whoCanEdit':[_0xab08a4],'whoCanUse':[_0xab08a4],'groups':[_0x31b844],'blocks':[_0x534dc5],..._0x7b9fa5};try{let _0xcad315=await this[_0x21ec8c(0x70e)][_0x21ec8c(0x28c)][_0x21ec8c(0x1bf)](_0x2b4fa9);return await this[_0x21ec8c(0x1ae)](),_0xcad315;}catch(_0x55d43f){let _0xf1a6a3=_0x21ec8c(0x571),_0x22fdcc=_0x55d43f instanceof Error?_0x55d43f['message']:typeof _0x55d43f==_0x21ec8c(0x72b)?JSON[_0x21ec8c(0x2e3)](_0x55d43f):_0x55d43f,_0xcc6172=_0xf1a6a3+':\x20'+_0x22fdcc;throw this[_0x21ec8c(0x4ad)][_0x21ec8c(0x295)](this[_0x21ec8c(0x12b)]+'\x20('+this[_0x21ec8c(0x31b)][_0x21ec8c(0x699)]+_0x21ec8c(0x12a)+_0xcc6172),new m(_0xcc6172);}}async[a0_0x22f2c8(0xc3)](_0x1334eb,_0x2354f2){const _0x21d1c8=a0_0x22f2c8;try{this[_0x21d1c8(0x4ad)][_0x21d1c8(0x470)](this[_0x21d1c8(0x12b)]+'\x20('+this[_0x21d1c8(0x31b)][_0x21d1c8(0x699)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x585abd=await this[_0x21d1c8(0x70e)][_0x21d1c8(0x28c)][_0x21d1c8(0x239)]({'where':{'_id':_0x2354f2,'owner':_0x1334eb}});if(!_0x585abd)throw new m(_0x21d1c8(0x46e));if(_0x585abd[_0x21d1c8(0x36f)]===!0x1&&!_0x585abd[_0x21d1c8(0x92)])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x3145d8=new Set(_0x585abd[_0x21d1c8(0x176)]??[]);_0x3145d8[_0x21d1c8(0xda)](this['instance']['wuid']);let _0x2893ab=await this['repository'][_0x21d1c8(0x28c)][_0x21d1c8(0x365)](_0x2354f2,{..._0x585abd,'whoCanUse':Array[_0x21d1c8(0x59a)](_0x3145d8)});return await this[_0x21d1c8(0x1ae)](),_0x2893ab;}catch(_0x62b267){let _0x257a97=_0x21d1c8(0x26c),_0x36697a=_0x62b267 instanceof Error?_0x62b267['message']:typeof _0x62b267==_0x21d1c8(0x72b)?JSON[_0x21d1c8(0x2e3)](_0x62b267):_0x62b267,_0x303db7=_0x257a97+':\x20'+_0x36697a;throw this[_0x21d1c8(0x4ad)][_0x21d1c8(0x295)](this[_0x21d1c8(0x12b)]+'\x20('+this[_0x21d1c8(0x31b)]['wuid']+_0x21d1c8(0x12a)+_0x303db7),new m(_0x303db7);}}[a0_0x22f2c8(0x269)](_0x31b0f4){const _0x1abed2=a0_0x22f2c8;let _0x26bbe9=_0x31b0f4,_0xe6ee14=0x1;for(;this['AutomateSystem'][_0x1abed2(0x780)][_0x1abed2(0x2f7)](_0x1b9e42=>_0x1b9e42['name']===_0x26bbe9);)_0xe6ee14++,_0x26bbe9=_0x31b0f4+'\x20('+_0xe6ee14+')';return _0x26bbe9;}async['deleteFlow'](_0x155b2f){const _0x51d3c2=a0_0x22f2c8;try{if(this['logger'][_0x51d3c2(0x470)](this['instanceName']+'\x20('+this[_0x51d3c2(0x31b)][_0x51d3c2(0x699)]+_0x51d3c2(0x69e)+_0x155b2f[_0x51d3c2(0x286)]+_0x51d3c2(0x49f)+_0x155b2f[_0x51d3c2(0x390)]),!this['AutomateSystem']['flows'][_0x51d3c2(0xe9)](_0x5b34d5=>_0x5b34d5[_0x51d3c2(0x286)]===_0x155b2f[_0x51d3c2(0x286)]))throw this[_0x51d3c2(0x4ad)][_0x51d3c2(0x470)](this[_0x51d3c2(0x12b)]+'\x20('+this[_0x51d3c2(0x31b)][_0x51d3c2(0x699)]+_0x51d3c2(0xcb)+_0x155b2f['_id']+_0x51d3c2(0x54b)),new m(_0x51d3c2(0x6d0));let _0x1182bc=await this[_0x51d3c2(0x70e)][_0x51d3c2(0x28c)][_0x51d3c2(0x239)]({'where':{'_id':_0x155b2f[_0x51d3c2(0x286)]}});if(!_0x1182bc)throw new m(_0x51d3c2(0x652));if(this['instance']['wuid']===_0x1182bc[_0x51d3c2(0x58e)]){this[_0x51d3c2(0x4ad)][_0x51d3c2(0x470)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x51d3c2(0x299)+_0x155b2f[_0x51d3c2(0x286)]+'\x27\x20do\x20banco\x20de\x20dados...');let _0x5c88fd=await this[_0x51d3c2(0x70e)]['flow'][_0x51d3c2(0x574)]({'where':{'_id':_0x155b2f[_0x51d3c2(0x286)]}});return await this[_0x51d3c2(0x1ae)](),_0x5c88fd;}return this['logger'][_0x51d3c2(0x470)](this[_0x51d3c2(0x12b)]+'\x20('+this[_0x51d3c2(0x31b)][_0x51d3c2(0x699)]+_0x51d3c2(0x43c)+this[_0x51d3c2(0x31b)][_0x51d3c2(0x699)]+_0x51d3c2(0x6b0)+_0x155b2f[_0x51d3c2(0x286)]+'\x27...'),_0x1182bc['whoCanUse']=(_0x1182bc['whoCanUse']??[])[_0x51d3c2(0x4e7)](_0x31b11e=>_0x31b11e!==this['instance'][_0x51d3c2(0x699)]),_0x1182bc[_0x51d3c2(0x60e)]=(_0x1182bc[_0x51d3c2(0x60e)]??[])[_0x51d3c2(0x4e7)](_0x4d35fc=>_0x4d35fc!==this[_0x51d3c2(0x31b)][_0x51d3c2(0x699)]),_0x1182bc['whoCanEdit'][_0x51d3c2(0x4a3)]===0x0&&_0x1182bc['whoCanUse']['length']>0x0&&(_0x1182bc[_0x51d3c2(0x60e)][_0x51d3c2(0x6b3)](_0x1182bc[_0x51d3c2(0x176)][0x0]),this[_0x51d3c2(0x4ad)][_0x51d3c2(0x470)](this[_0x51d3c2(0x12b)]+'\x20('+this[_0x51d3c2(0x31b)]['wuid']+_0x51d3c2(0x761)+_0x1182bc[_0x51d3c2(0x176)][0x0]+_0x51d3c2(0x374)+_0x155b2f[_0x51d3c2(0x286)]+_0x51d3c2(0x1bb))),await this[_0x51d3c2(0x70e)][_0x51d3c2(0x28c)][_0x51d3c2(0x365)](_0x1182bc[_0x51d3c2(0x286)],_0x1182bc),await this[_0x51d3c2(0x1ae)](),{'message':_0x51d3c2(0x631)+_0x155b2f[_0x51d3c2(0x2cb)]+_0x51d3c2(0x186)};}catch(_0x16e34f){return this[_0x51d3c2(0x4ad)][_0x51d3c2(0x295)](this[_0x51d3c2(0x12b)]+'\x20('+this[_0x51d3c2(0x31b)][_0x51d3c2(0x699)]+_0x51d3c2(0x136)+(_0x16e34f instanceof Error?_0x16e34f['message']:JSON['stringify'](_0x16e34f,null,0x2))),{'message':_0x51d3c2(0x646)+(_0x16e34f instanceof Error?_0x16e34f[_0x51d3c2(0x659)]:JSON['stringify'](_0x16e34f,null,0x2))};}}async[a0_0x22f2c8(0x1b5)](_0x2c8610){const _0x2cce8b=a0_0x22f2c8;try{if(this[_0x2cce8b(0x4ad)]['info'](this['instanceName']+'\x20('+this[_0x2cce8b(0x31b)][_0x2cce8b(0x699)]+_0x2cce8b(0x455)+_0x2c8610),!this[_0x2cce8b(0x1ed)]&&(await this['getAutomateSystem'](),!this[_0x2cce8b(0x1ed)]))return null;let _0x5f243b=await this[_0x2cce8b(0x70e)]['flow'][_0x2cce8b(0x239)]({'where':{'_id':_0x2c8610}});if(!_0x5f243b)throw new m(_0x2cce8b(0x7c4)+_0x2c8610+_0x2cce8b(0x1d0));if(!(_0x5f243b[_0x2cce8b(0x92)]||_0x5f243b[_0x2cce8b(0x176)]?.['includes'](this[_0x2cce8b(0x31b)]['wuid'])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x5f243b[_0x2cce8b(0x92)]&&!_0x5f243b[_0x2cce8b(0x176)]?.[_0x2cce8b(0x750)](this[_0x2cce8b(0x31b)][_0x2cce8b(0x699)])&&(_0x5f243b[_0x2cce8b(0x176)]=[..._0x5f243b[_0x2cce8b(0x176)]??[],this[_0x2cce8b(0x31b)]['wuid']],await this[_0x2cce8b(0x70e)][_0x2cce8b(0x28c)]['updateOne'](_0x5f243b['_id'],_0x5f243b),this[_0x2cce8b(0x1ae)]());let _0x4703cf=this[_0x2cce8b(0x1ed)]?.[_0x2cce8b(0x340)][_0x2cce8b(0x657)](_0x4cfae7=>_0x4cfae7[_0x2cce8b(0x2cb)]),_0x450aa2=['nome',_0x2cce8b(0x11b),_0x2cce8b(0x405),_0x2cce8b(0x526),_0x2cce8b(0x3fe),_0x2cce8b(0x7d1),_0x2cce8b(0x35f),_0x2cce8b(0x28e),_0x2cce8b(0x724),'telefone',_0x2cce8b(0x59b)];_0x5f243b[_0x2cce8b(0xa1)]=_0x5f243b[_0x2cce8b(0xa1)][_0x2cce8b(0x4e7)](_0x153485=>!(_0x153485[_0x2cce8b(0x59d)]===_0x2cce8b(0x3be)||_0x153485[_0x2cce8b(0x3be)])),_0x450aa2[_0x2cce8b(0x317)](_0x31c30c=>{const _0x6bc9c4=_0x2cce8b;_0x5f243b[_0x6bc9c4(0xa1)][_0x6bc9c4(0x6b3)]({'folder':_0x6bc9c4(0x3be),'name':_0x31c30c,'value':'','doc':'','leadInfo':!0x0});}),_0x4703cf[_0x2cce8b(0x317)](_0x43a36f=>{const _0x5f2814=_0x2cce8b;let _0x4cf547=_0x5f243b[_0x5f2814(0xa1)][_0x5f2814(0x29a)](_0x45b003=>_0x45b003['name']===_0x43a36f);_0x4cf547===-0x1?_0x5f243b['variables'][_0x5f2814(0x6b3)]({'folder':'leadInfo','name':_0x43a36f,'value':'','doc':'','leadInfo':!0x0}):(_0x5f243b[_0x5f2814(0xa1)][_0x4cf547][_0x5f2814(0x59d)]=_0x5f2814(0x3be),_0x5f243b[_0x5f2814(0xa1)][_0x4cf547]['leadInfo']=!0x0);}),_0x5f243b[_0x2cce8b(0x3ad)]&&_0x5f243b[_0x2cce8b(0x3ad)][_0x2cce8b(0x4a3)]>0x0&&_0x5f243b['blocks'][_0x2cce8b(0x317)](_0x2266d7=>{const _0x53c652=_0x2cce8b;_0x2266d7[_0x53c652(0x1d8)]&&_0x2266d7[_0x53c652(0x53e)]&&_0x2266d7[_0x53c652(0x1d8)]===_0x2266d7[_0x53c652(0x53e)]&&(_0x2266d7[_0x53c652(0x53e)]=null);});let _0x205698=await this['repository'][_0x2cce8b(0x28c)][_0x2cce8b(0x365)](_0x5f243b[_0x2cce8b(0x286)],_0x5f243b);if(!_0x205698)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x205698;}catch(_0x47188e){let _0x18a649=_0x2cce8b(0x31e),_0x4dd2e3=_0x47188e instanceof Error?_0x47188e[_0x2cce8b(0x659)]:typeof _0x47188e==_0x2cce8b(0x72b)?JSON[_0x2cce8b(0x2e3)](_0x47188e):_0x47188e,_0x57f1ac=_0x18a649+':\x20'+_0x4dd2e3;throw this['logger'][_0x2cce8b(0x295)](this[_0x2cce8b(0x12b)]+'\x20('+this[_0x2cce8b(0x31b)][_0x2cce8b(0x699)]+'):\x20'+_0x57f1ac),new m(_0x57f1ac);}}async[a0_0x22f2c8(0x4ac)](){const _0xd2d0a9=a0_0x22f2c8;try{this[_0xd2d0a9(0x4ad)]['verbose'](this['instanceName']+'\x20('+this[_0xd2d0a9(0x31b)][_0xd2d0a9(0x699)]+_0xd2d0a9(0x79b)),await this[_0xd2d0a9(0x1ae)]();let _0x5f34cb=await this[_0xd2d0a9(0x70e)][_0xd2d0a9(0x28c)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0xd2d0a9(0x1ed)]['flows'],..._0x5f34cb];}catch(_0x13f49b){return this['logger']['error'](this['instanceName']+'\x20('+this[_0xd2d0a9(0x31b)][_0xd2d0a9(0x699)]+_0xd2d0a9(0x1c2)+(_0x13f49b instanceof Error?_0x13f49b[_0xd2d0a9(0x659)]:JSON[_0xd2d0a9(0x2e3)](_0x13f49b,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x13f49b instanceof Error?_0x13f49b[_0xd2d0a9(0x659)]:String(_0x13f49b))};}}async[a0_0x22f2c8(0x23a)](_0x5dbed3,_0x16da7d){const _0xdbb119=a0_0x22f2c8;try{this[_0xdbb119(0x4ad)][_0xdbb119(0x470)](this['instanceName']+'\x20('+this[_0xdbb119(0x31b)]['wuid']+_0xdbb119(0x23b));let _0x21ccd3=this[_0xdbb119(0x1ed)][_0xdbb119(0x780)][_0xdbb119(0xe9)](_0x162d8a=>_0x162d8a[_0xdbb119(0x286)]===_0x5dbed3[_0xdbb119(0x286)]);if(!_0x21ccd3)throw this[_0xdbb119(0x4ad)]['verbose'](this[_0xdbb119(0x12b)]+'\x20('+this[_0xdbb119(0x31b)]['wuid']+'):\x20Fluxo\x20\x27'+_0x5dbed3[_0xdbb119(0x286)]+_0xdbb119(0x54b)),new m(_0xdbb119(0x6d0));let _0x41036c=await this['repository'][_0xdbb119(0x28c)][_0xdbb119(0x239)]({'where':{'_id':_0x5dbed3[_0xdbb119(0x286)]}});if(!_0x41036c||!_0x41036c[_0xdbb119(0x176)]?.[_0xdbb119(0x750)](this[_0xdbb119(0x31b)][_0xdbb119(0x699)]))throw this[_0xdbb119(0x4ad)][_0xdbb119(0x295)](this['instanceName']+'\x20('+this[_0xdbb119(0x31b)]['wuid']+_0xdbb119(0x506)+_0x5dbed3['_id']+_0xdbb119(0x5fc)),new m(_0xdbb119(0x6d2)+_0x5dbed3[_0xdbb119(0x286)]+_0xdbb119(0x5fc));let _0x2da10e=this[_0xdbb119(0x1ed)][_0xdbb119(0x780)][_0xdbb119(0x29a)](_0x2598e3=>_0x2598e3['_id']===_0x21ccd3[_0xdbb119(0x286)]);if(_0x2da10e!==-0x1){let _0x5d22cc=this[_0xdbb119(0x1ed)]['flows'][_0x2da10e];if(_0x5d22cc[_0xdbb119(0x2cb)]=_0x5dbed3[_0xdbb119(0x2cb)]??_0x5d22cc[_0xdbb119(0x2cb)],_0x5d22cc[_0xdbb119(0x66b)]=_0x5dbed3[_0xdbb119(0x66b)]??_0x5d22cc[_0xdbb119(0x66b)],_0x5d22cc[_0xdbb119(0xbd)]=_0x5dbed3['testingWith']??_0x5d22cc[_0xdbb119(0xbd)],_0x5d22cc[_0xdbb119(0x534)]=_0x5dbed3['startCommandWord']??_0x5d22cc[_0xdbb119(0x534)],_0x5d22cc[_0xdbb119(0x43e)]=_0x5dbed3[_0xdbb119(0x43e)]??_0x5d22cc[_0xdbb119(0x43e)],_0x5d22cc[_0xdbb119(0x75b)]=_0x5dbed3[_0xdbb119(0x75b)]??_0x5d22cc[_0xdbb119(0x75b)],_0x5dbed3['default']&&this[_0xdbb119(0x1ed)]['flows'][_0xdbb119(0x317)]((_0x1b0ec9,_0x3de791)=>{const _0xe19142=_0xdbb119;_0x3de791!==_0x2da10e&&(_0x1b0ec9[_0xe19142(0x66b)]=!0x1);}),this[_0xdbb119(0x1ed)][_0xdbb119(0x780)][_0x2da10e]=_0x5d22cc,!await this[_0xdbb119(0x70e)]['automateSystem'][_0xdbb119(0x748)]({'flows':this[_0xdbb119(0x1ed)]['flows']},this[_0xdbb119(0x31b)][_0xdbb119(0x699)]))throw new m(_0xdbb119(0x5fe));}let _0x583f91=['global',_0xdbb119(0x6db),_0xdbb119(0x2dd),'shareOwners'];for(let _0x3ae557 of _0x583f91)delete _0x5dbed3[_0x3ae557];if(_0x41036c[_0xdbb119(0x60e)]?.[_0xdbb119(0x750)](this[_0xdbb119(0x31b)]['wuid'])||(_0x5dbed3={'_id':_0x5dbed3[_0xdbb119(0x286)]}),_0x16da7d!==$i&&_0x5dbed3?.['globalShow']&&!_0x41036c?.['globalShow'])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x387dfb=new Set(_0x5dbed3['whoCanEdit']??_0x41036c['whoCanEdit']);_0x387dfb['add'](_0x41036c[_0xdbb119(0x58e)]);let _0x10b049=new Set(_0x5dbed3[_0xdbb119(0x176)]??_0x41036c[_0xdbb119(0x176)]??[]);_0x387dfb[_0xdbb119(0x317)](_0x4a3a0b=>_0x10b049[_0xdbb119(0xda)](_0x4a3a0b)),_0x10b049[_0xdbb119(0xda)](_0x41036c[_0xdbb119(0x58e)]),this[_0xdbb119(0x4ad)][_0xdbb119(0x470)](this[_0xdbb119(0x12b)]+'\x20('+this['instance'][_0xdbb119(0x699)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0xdbb119(0x59a)](_0x387dfb)),this[_0xdbb119(0x4ad)][_0xdbb119(0x470)](this['instanceName']+'\x20('+this[_0xdbb119(0x31b)][_0xdbb119(0x699)]+_0xdbb119(0x60b)+Array[_0xdbb119(0x59a)](_0x10b049));let _0x4b7a4b=await this[_0xdbb119(0xa3)](Array[_0xdbb119(0x59a)](_0x10b049)),_0xea272e=Array['from'](_0x387dfb)[_0xdbb119(0x4e7)](_0x5ee411=>_0x4b7a4b[_0xdbb119(0x750)](_0x5ee411)),_0x4e80d2=Array[_0xdbb119(0x59a)](_0x10b049)[_0xdbb119(0x4e7)](_0x3358f8=>_0x4b7a4b[_0xdbb119(0x750)](_0x3358f8));this[_0xdbb119(0x4ad)][_0xdbb119(0x470)](this['instanceName']+'\x20('+this['instance'][_0xdbb119(0x699)]+_0xdbb119(0x283)+_0xea272e),this[_0xdbb119(0x4ad)][_0xdbb119(0x470)](this[_0xdbb119(0x12b)]+'\x20('+this[_0xdbb119(0x31b)][_0xdbb119(0x699)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x4e80d2);let _0x4a8d36={..._0x41036c,..._0x5dbed3,'whoCanEdit':_0xea272e,'whoCanUse':_0x4e80d2},_0xf49dc1=await this[_0xdbb119(0x70e)]['flow'][_0xdbb119(0x365)](_0x41036c[_0xdbb119(0x286)],_0x4a8d36);return await this[_0xdbb119(0x1ae)](),_0xf49dc1;}catch(_0x40ba34){let _0x15d3c1=_0xdbb119(0x3f7),_0x2e8439=_0x40ba34 instanceof Error?_0x40ba34['message']:typeof _0x40ba34==_0xdbb119(0x72b)?JSON['stringify'](_0x40ba34):_0x40ba34,_0x6e54ad=_0x15d3c1+':\x20'+_0x2e8439;throw this[_0xdbb119(0x4ad)][_0xdbb119(0x295)](this[_0xdbb119(0x12b)]+'\x20('+this['instance'][_0xdbb119(0x699)]+_0xdbb119(0x12a)+_0x6e54ad),new m(_0x6e54ad);}}async[a0_0x22f2c8(0xa3)](_0x56bfea){const _0x721abb=a0_0x22f2c8;let _0x21e484={'numbers':_0x56bfea};return(await this[_0x721abb(0x337)](_0x21e484))[_0x721abb(0x4e7)](_0x517d09=>_0x517d09[_0x721abb(0x707)])[_0x721abb(0x657)](_0x5bf496=>_0x5bf496['jid'])[_0x721abb(0x657)](_0x235d7=>this['extractPhoneNumber'](_0x235d7));}['extractPhoneNumber'](_0x5d2d90){const _0x574b13=a0_0x22f2c8;let _0x21e19d=_0x5d2d90[_0x574b13(0x349)](/\d+/);return _0x21e19d?_0x21e19d[0x0]:'';}async[a0_0x22f2c8(0x214)](_0x15617c){const _0x5ef173=a0_0x22f2c8;try{if(this[_0x5ef173(0x4ad)][_0x5ef173(0x470)](this['instanceName']+'\x20('+this[_0x5ef173(0x31b)][_0x5ef173(0x699)]+_0x5ef173(0x434)),!this[_0x5ef173(0x1ed)][_0x5ef173(0x780)][_0x5ef173(0xe9)](_0x342b3c=>_0x342b3c[_0x5ef173(0x286)]===_0x15617c[_0x5ef173(0x286)]))throw this[_0x5ef173(0x4ad)][_0x5ef173(0x470)](this[_0x5ef173(0x12b)]+'\x20('+this[_0x5ef173(0x31b)][_0x5ef173(0x699)]+_0x5ef173(0xcb)+_0x15617c[_0x5ef173(0x286)]+'\x27\x20não\x20encontrado'),new m(_0x5ef173(0x6d0));let _0x217ec9=await this[_0x5ef173(0x70e)][_0x5ef173(0x28c)]['findOne']({'where':{'_id':_0x15617c[_0x5ef173(0x286)]}});if(!_0x217ec9||!_0x217ec9[_0x5ef173(0x176)]?.[_0x5ef173(0x750)](this[_0x5ef173(0x31b)]['wuid']))throw this[_0x5ef173(0x4ad)][_0x5ef173(0x295)](this[_0x5ef173(0x12b)]+'\x20('+this['instance'][_0x5ef173(0x699)]+_0x5ef173(0x506)+_0x15617c['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x5ef173(0x6d2)+_0x15617c[_0x5ef173(0x286)]+_0x5ef173(0x5fc));if(!_0x217ec9[_0x5ef173(0x60e)]?.[_0x5ef173(0x750)](this['instance'][_0x5ef173(0x699)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x539b54}=_0x15617c;_0x539b54?.['copy']?this['copyBlock'](_0x217ec9,_0x15617c):_0x539b54?.[_0x5ef173(0x192)]?this['deleteBlock'](_0x217ec9,_0x15617c):_0x539b54[_0x5ef173(0x286)]?await this[_0x5ef173(0x3ed)](_0x217ec9,_0x15617c):this[_0x5ef173(0x161)](_0x217ec9,_0x15617c);let _0x45ef22=await this[_0x5ef173(0x70e)][_0x5ef173(0x28c)][_0x5ef173(0x365)](_0x217ec9['_id'],_0x217ec9);if(!_0x45ef22)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x45ef22;}catch(_0x481072){this[_0x5ef173(0x5a8)](_0x5ef173(0x120)+_0x481072[_0x5ef173(0x659)]);}}async['copyBlock'](_0x13cc4a,_0x39f111){const _0x15a104=a0_0x22f2c8;let _0x1bd551=_0x39f111[_0x15a104(0x458)][_0x15a104(0x286)],_0x4b8579=_0x13cc4a[_0x15a104(0x3ad)][_0x15a104(0xe9)](_0x446f0b=>_0x446f0b[_0x15a104(0x286)][_0x15a104(0x1ee)]()===_0x1bd551);if(!_0x4b8579){this['logger'][_0x15a104(0x295)](this[_0x15a104(0x12b)]+'\x20('+this['instance']['wuid']+_0x15a104(0x166)+_0x1bd551+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x15a104(0x4ad)][_0x15a104(0x470)](this[_0x15a104(0x12b)]+'\x20('+this[_0x15a104(0x31b)][_0x15a104(0x699)]+_0x15a104(0x1df)+JSON[_0x15a104(0x2e3)](_0x4b8579));let _0x372cb1=JSON[_0x15a104(0x7ca)](JSON[_0x15a104(0x2e3)](_0x4b8579));_0x372cb1['_id']=new he[(_0x15a104(0x66b))]['Types'][(_0x15a104(0x388))](),this[_0x15a104(0x4ad)][_0x15a104(0x470)](this[_0x15a104(0x12b)]+'\x20('+this[_0x15a104(0x31b)][_0x15a104(0x699)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x15a104(0x2e3)](_0x372cb1)),_0x13cc4a[_0x15a104(0x3ad)]['push'](_0x372cb1),this['reorderBlocks'](_0x13cc4a[_0x15a104(0x3ad)],_0x372cb1[_0x15a104(0x1d8)]);}[a0_0x22f2c8(0x5a8)](_0x3d24a0){const _0x45d8fc=a0_0x22f2c8;throw this['logger'][_0x45d8fc(0x295)](this[_0x45d8fc(0x12b)]+'\x20('+this[_0x45d8fc(0x31b)]['wuid']+'):\x20'+_0x3d24a0),new m(_0x3d24a0);}['deleteBlock'](_0x5ec363,_0x1ccac9){const _0x5e6c6f=a0_0x22f2c8;let {block:_0x3c2953}=_0x1ccac9;if(_0x3c2953[_0x5e6c6f(0x742)]===_0x5e6c6f(0x4aa)){this['throwAndLogError'](_0x5e6c6f(0x6aa));return;}if(!_0x3c2953['_id']){this[_0x5e6c6f(0x5a8)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0xafb77d=_0x5ec363[_0x5e6c6f(0x3ad)][_0x5e6c6f(0xe9)](_0x1f1912=>_0x1f1912['_id']['toString']()===_0x1ccac9[_0x5e6c6f(0x458)]['_id'][_0x5e6c6f(0x1ee)]());if(!_0xafb77d){this[_0x5e6c6f(0x5a8)](_0x5e6c6f(0xdc)+_0x3c2953['_id']+_0x5e6c6f(0x643));return;}_0x5ec363['blocks']=_0x5ec363[_0x5e6c6f(0x3ad)][_0x5e6c6f(0x4e7)](_0x456e80=>_0x456e80['_id'][_0x5e6c6f(0x1ee)]()!==_0x1ccac9[_0x5e6c6f(0x458)][_0x5e6c6f(0x286)]['toString']()),_0x5ec363[_0x5e6c6f(0x135)]=_0x5ec363[_0x5e6c6f(0x135)][_0x5e6c6f(0x4e7)](_0x44dad2=>_0x44dad2[_0x5e6c6f(0x6ed)]!==_0x3c2953['_id'][_0x5e6c6f(0x1ee)]()),_0x5ec363[_0x5e6c6f(0x580)]=_0x5ec363[_0x5e6c6f(0x580)][_0x5e6c6f(0x4e7)](_0x503526=>_0x503526[_0x5e6c6f(0x6ed)]!==_0x3c2953['_id'][_0x5e6c6f(0x1ee)]()),_0x5ec363[_0x5e6c6f(0x27d)]=_0x5ec363['replyOptions'][_0x5e6c6f(0x4e7)](_0x5df759=>_0x5df759[_0x5e6c6f(0x6ed)]!==_0x3c2953[_0x5e6c6f(0x286)]['toString']()),this[_0x5e6c6f(0x52e)](_0x5ec363[_0x5e6c6f(0x3ad)],_0xafb77d[_0x5e6c6f(0x1d8)]);}async[a0_0x22f2c8(0x3ed)](_0x521419,_0x181a4){const _0x48c092=a0_0x22f2c8;let _0x11f64c=_0x521419[_0x48c092(0x3ad)][_0x48c092(0x29a)](_0x1da750=>_0x1da750[_0x48c092(0x286)]['toString']()===_0x181a4[_0x48c092(0x458)]['_id']['toString']());if(this[_0x48c092(0x4ad)][_0x48c092(0x470)](this[_0x48c092(0x12b)]+'\x20('+this[_0x48c092(0x31b)]['wuid']+_0x48c092(0x235)+_0x11f64c),_0x11f64c===-0x1){this[_0x48c092(0x4ad)][_0x48c092(0x470)](_0x48c092(0xdc)+_0x181a4[_0x48c092(0x458)][_0x48c092(0x286)]+_0x48c092(0x798));return;}if(_0x521419[_0x48c092(0x3ad)][_0x11f64c]['type']===_0x48c092(0x4aa)){let _0x29acae=Object['keys'](_0x181a4['block']);if(_0x29acae['length']>0x2||_0x29acae[_0x48c092(0x4a3)]===0x2&&!_0x29acae['includes']('next_groupId')){this['throwAndLogError']('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x54f43e=_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x1d8)];for(let _0x325ac6 in _0x181a4[_0x48c092(0x458)])_0x181a4[_0x48c092(0x458)]['hasOwnProperty'](_0x325ac6)&&(_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x325ac6]=_0x181a4[_0x48c092(0x458)][_0x325ac6]);if(this[_0x48c092(0x4ad)][_0x48c092(0x470)](this['instanceName']+'\x20('+this[_0x48c092(0x31b)]['wuid']+_0x48c092(0x325)+JSON[_0x48c092(0x2e3)](_0x521419[_0x48c092(0x3ad)][_0x11f64c])),_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)]&&_0x48c092(0x1f2)in _0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)]){this[_0x48c092(0x4ad)][_0x48c092(0x470)](this[_0x48c092(0x12b)]+'\x20('+this[_0x48c092(0x31b)][_0x48c092(0x699)]+_0x48c092(0x533));let _0x39f4a0=JSON['stringify'](_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)][_0x48c092(0x1f2)],null,0x1);_0x39f4a0[_0x48c092(0x4a3)]>0x2&&(_0x39f4a0=_0x39f4a0[_0x48c092(0x3ea)](0x1,_0x39f4a0[_0x48c092(0x4a3)]-0x1)[_0x48c092(0x181)]()),_0x521419['blocks'][_0x11f64c][_0x48c092(0x389)][_0x48c092(0x1bd)]=_0x39f4a0;}if(_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)]&&_0x48c092(0x573)in _0x521419[_0x48c092(0x3ad)][_0x11f64c]['apirequest']&&!('bodyString'in _0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)])){this[_0x48c092(0x4ad)][_0x48c092(0x470)](this[_0x48c092(0x12b)]+'\x20('+this[_0x48c092(0x31b)][_0x48c092(0x699)]+_0x48c092(0xbb)),_0x521419[_0x48c092(0x3ad)][_0x11f64c]['apirequest'][_0x48c092(0x7bd)]=!0x1;let _0x23c3b1=JSON[_0x48c092(0x2e3)](_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)][_0x48c092(0x573)],null,0x2);_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)][_0x48c092(0x29c)]=_0x23c3b1;}if(_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)]&&_0x48c092(0x29c)in _0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)]){_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)]['bodyStringErrorParse']=!0x1;let _0x319ed9=_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)]['bodyString'],_0x8bb72d=this[_0x48c092(0x57d)](_0x319ed9);_0x521419['blocks'][_0x11f64c][_0x48c092(0x389)][_0x48c092(0x29c)]=_0x8bb72d[_0x48c092(0x34a)],_0x521419[_0x48c092(0x3ad)][_0x11f64c][_0x48c092(0x389)][_0x48c092(0x7bd)]=_0x8bb72d[_0x48c092(0x295)];}let _0x4f8b10=_0x521419[_0x48c092(0x3ad)][_0x11f64c]['groupId'];_0x54f43e!==_0x4f8b10?(this[_0x48c092(0x52e)](_0x521419[_0x48c092(0x3ad)],_0x54f43e),this['reorderBlocks'](_0x521419[_0x48c092(0x3ad)],_0x4f8b10)):this['reorderBlocks'](_0x521419[_0x48c092(0x3ad)],_0x54f43e);}['beautifyWithPlaceholders'](_0x51559e){const _0x2eda03=a0_0x22f2c8;let _0x5bf3bb='\u205f',_0x47f2d7=!0x1,_0x488321='';for(let _0x2feacd=0x0;_0x2feacd<_0x51559e[_0x2eda03(0x4a3)];_0x2feacd++){let _0x2074e9=_0x51559e[_0x2feacd];_0x2074e9==='\x22'&&(_0x2feacd===0x0||_0x51559e[_0x2feacd-0x1]!=='\x5c')&&(_0x47f2d7=!_0x47f2d7),!(!_0x47f2d7&&(_0x2074e9==='\x0a'||_0x2074e9==='\x20'||_0x2074e9===_0x5bf3bb))&&(_0x488321+=_0x2074e9);}let _0x1402b9={},_0x22476d=9876543210.1234,_0x473378=_0x488321[_0x2eda03(0x16d)](/\{\{([^}]+)\}\}/g,_0x26b824=>{let _0x444fb2=_0x26b824,_0x176f4e=''+_0x22476d;return _0x1402b9[_0x176f4e]=_0x444fb2,_0x22476d+=0.0001,_0x176f4e;}),_0xc2aa08='',_0x4d7f90=!0x1;try{let _0x296ac2=JSON[_0x2eda03(0x7ca)](_0x473378);_0xc2aa08=JSON[_0x2eda03(0x2e3)](_0x296ac2,null,0x2),_0xc2aa08=_0xc2aa08[_0x2eda03(0x16d)](/\n( +)/g,(_0xf71bce,_0x5dd3ab)=>{const _0x3dcdd6=_0x2eda03;let _0x3fc3bb=_0x5dd3ab[_0x3dcdd6(0x4a3)];return'\x0a'+_0x5bf3bb[_0x3dcdd6(0x439)](_0x3fc3bb*0x2);}),_0xc2aa08=_0xc2aa08['replace'](/(\d{10,}\.\d+)/g,_0x17322b=>_0x1402b9[_0x17322b]||_0x17322b);}catch(_0x3bd2ec){this['logger'][_0x2eda03(0x295)](_0x2eda03(0x417)+_0x3bd2ec),_0xc2aa08=_0x51559e,_0x4d7f90=!0x0;}return{'result':_0xc2aa08,'error':_0x4d7f90};}[a0_0x22f2c8(0x161)](_0x3990fb,_0x108123){const _0x59e8e8=a0_0x22f2c8;if(_0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x742)]===_0x59e8e8(0x4aa)){this[_0x59e8e8(0x5a8)](_0x59e8e8(0x64b));return;}if(_0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x389)]&&_0x59e8e8(0x1f2)in _0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x389)]){this[_0x59e8e8(0x4ad)][_0x59e8e8(0x470)](this[_0x59e8e8(0x12b)]+'\x20('+this['instance']['wuid']+_0x59e8e8(0x533));let _0x38fd68=JSON['stringify'](_0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x389)][_0x59e8e8(0x1f2)],null,0x1);_0x38fd68['length']>0x2&&(_0x38fd68=_0x38fd68[_0x59e8e8(0x3ea)](0x1,_0x38fd68[_0x59e8e8(0x4a3)]-0x1)[_0x59e8e8(0x181)]()),_0x108123[_0x59e8e8(0x458)]['apirequest'][_0x59e8e8(0x1bd)]=_0x38fd68;}_0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x389)]&&'body'in _0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x389)]&&(this[_0x59e8e8(0x4ad)][_0x59e8e8(0x470)](this[_0x59e8e8(0x12b)]+'\x20('+this[_0x59e8e8(0x31b)][_0x59e8e8(0x699)]+_0x59e8e8(0xbb)),_0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x389)][_0x59e8e8(0x29c)]=JSON[_0x59e8e8(0x2e3)](_0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x389)][_0x59e8e8(0x573)],null,0x1)[_0x59e8e8(0x181)]()),_0x3990fb[_0x59e8e8(0x3ad)][_0x59e8e8(0x6b3)](_0x108123[_0x59e8e8(0x458)]),this[_0x59e8e8(0x52e)](_0x3990fb['blocks'],_0x108123[_0x59e8e8(0x458)][_0x59e8e8(0x1d8)]);}[a0_0x22f2c8(0x52e)](_0x36a1ec,_0x31576b){const _0x1ef337=a0_0x22f2c8;let _0xa10c09=_0x36a1ec[_0x1ef337(0x4e7)](_0x1b2c86=>_0x1b2c86[_0x1ef337(0x1d8)]===_0x31576b);_0xa10c09['sort']((_0x3b8cc1,_0x26c2b9)=>_0x3b8cc1[_0x1ef337(0x11c)]-_0x26c2b9[_0x1ef337(0x11c)]),_0xa10c09[_0x1ef337(0x317)]((_0x1306cb,_0x1dcdbc)=>_0x1306cb[_0x1ef337(0x11c)]=_0x1dcdbc+0x1);}async[a0_0x22f2c8(0x6ca)](_0xbeae57){const _0xf705ce=a0_0x22f2c8;try{if(this[_0xf705ce(0x4ad)]['verbose'](this[_0xf705ce(0x12b)]+'\x20('+this[_0xf705ce(0x31b)][_0xf705ce(0x699)]+_0xf705ce(0x588)),!_0xbeae57||!_0xbeae57[_0xf705ce(0x6cc)]){this[_0xf705ce(0x5a8)](_0xf705ce(0x752));return;}if(!this[_0xf705ce(0x1ed)][_0xf705ce(0x780)][_0xf705ce(0xe9)](_0x43eb7e=>_0x43eb7e['_id']===_0xbeae57[_0xf705ce(0x286)]))throw this[_0xf705ce(0x4ad)][_0xf705ce(0x470)](this[_0xf705ce(0x12b)]+'\x20('+this[_0xf705ce(0x31b)][_0xf705ce(0x699)]+'):\x20Fluxo\x20\x27'+_0xbeae57[_0xf705ce(0x286)]+_0xf705ce(0x54b)),new m(_0xf705ce(0x6d0));let _0x45026b=await this[_0xf705ce(0x70e)][_0xf705ce(0x28c)][_0xf705ce(0x239)]({'where':{'_id':_0xbeae57['_id']}});if(!_0x45026b||!_0x45026b[_0xf705ce(0x176)]?.[_0xf705ce(0x750)](this[_0xf705ce(0x31b)][_0xf705ce(0x699)]))throw this[_0xf705ce(0x4ad)][_0xf705ce(0x295)](this[_0xf705ce(0x12b)]+'\x20('+this[_0xf705ce(0x31b)][_0xf705ce(0x699)]+'):\x20Flow\x20\x27'+_0xbeae57[_0xf705ce(0x286)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0xbeae57[_0xf705ce(0x286)]+_0xf705ce(0x5fc));if(!_0x45026b[_0xf705ce(0x60e)]?.[_0xf705ce(0x750)](this[_0xf705ce(0x31b)][_0xf705ce(0x699)]))throw new m(_0xf705ce(0x446));let {replyOption:_0x31b860}=_0xbeae57;_0x31b860?.[_0xf705ce(0x192)]?(this['deleteReplyOption'](_0x45026b,_0xbeae57),this[_0xf705ce(0x226)](_0x45026b[_0xf705ce(0x27d)],_0xbeae57[_0xf705ce(0x6cc)][_0xf705ce(0x6ed)])):_0x31b860['_id']?(await this[_0xf705ce(0x180)](_0x45026b,_0xbeae57),this[_0xf705ce(0x226)](_0x45026b[_0xf705ce(0x27d)],_0xbeae57[_0xf705ce(0x6cc)][_0xf705ce(0x6ed)])):(this[_0xf705ce(0x5b2)](_0x45026b,_0xbeae57),this[_0xf705ce(0x226)](_0x45026b[_0xf705ce(0x27d)],_0xbeae57[_0xf705ce(0x6cc)][_0xf705ce(0x6ed)]));let _0x21f334=await this[_0xf705ce(0x70e)]['flow'][_0xf705ce(0x365)](_0x45026b[_0xf705ce(0x286)],_0x45026b);if(!_0x21f334)throw new Error(_0xf705ce(0x563));return _0x21f334;}catch(_0x4ed827){this[_0xf705ce(0x5a8)](_0xf705ce(0x23d)+_0x4ed827);}}[a0_0x22f2c8(0x226)](_0x463c30,_0x2de2d3){const _0x5ef0fc=a0_0x22f2c8;_0x463c30[_0x5ef0fc(0x317)](_0x106934=>{const _0x1e4779=_0x5ef0fc;_0x106934[_0x1e4779(0x6ed)]===_0x2de2d3&&_0x106934['order']===void 0x0&&(_0x106934[_0x1e4779(0x11c)]=0x270f);});let _0x4f5bdc=_0x463c30[_0x5ef0fc(0x4e7)](_0x4afd53=>_0x4afd53[_0x5ef0fc(0x6ed)]===_0x2de2d3);_0x4f5bdc[_0x5ef0fc(0x1e3)]((_0x54b027,_0x2394e3)=>_0x54b027[_0x5ef0fc(0x11c)]-_0x2394e3[_0x5ef0fc(0x11c)]),_0x4f5bdc[_0x5ef0fc(0x317)]((_0xcd74c4,_0x1ff661)=>{const _0x33b441=_0x5ef0fc;_0xcd74c4[_0x33b441(0x11c)]=_0x1ff661+0x1;}),_0x463c30[_0x5ef0fc(0x317)](_0xda19e2=>{const _0x20a8a5=_0x5ef0fc;if(_0xda19e2['blockId']===_0x2de2d3){let _0xd2d8e0=_0x4f5bdc['find'](_0x190c03=>_0x190c03[_0x20a8a5(0x286)]&&_0xda19e2['_id']&&_0x190c03[_0x20a8a5(0x286)][_0x20a8a5(0x1ee)]()===_0xda19e2['_id'][_0x20a8a5(0x1ee)]());_0xd2d8e0&&(_0xda19e2[_0x20a8a5(0x11c)]=_0xd2d8e0[_0x20a8a5(0x11c)]);}});}['deleteReplyOption'](_0x1e122e,_0x267d74){const _0x3e7011=a0_0x22f2c8;let {replyOption:_0xe1dffe}=_0x267d74;if(!_0xe1dffe[_0x3e7011(0x286)]){this[_0x3e7011(0x5a8)](_0x3e7011(0x37d));return;}if(!_0x1e122e['replyOptions'][_0x3e7011(0xe9)](_0x212e7a=>_0x212e7a['_id']['toString']()===_0x267d74[_0x3e7011(0x6cc)][_0x3e7011(0x286)]['toString']())){this[_0x3e7011(0x5a8)](_0x3e7011(0x7ac)+_0xe1dffe['_id']+_0x3e7011(0x643));return;}_0x1e122e['replyOptions']=_0x1e122e['replyOptions'][_0x3e7011(0x4e7)](_0x149bdd=>_0x149bdd[_0x3e7011(0x286)][_0x3e7011(0x1ee)]()!==_0x267d74[_0x3e7011(0x6cc)][_0x3e7011(0x286)][_0x3e7011(0x1ee)]());}async[a0_0x22f2c8(0x180)](_0x59811a,_0x4b3359){const _0x2add4d=a0_0x22f2c8;let _0x4123ef=_0x59811a[_0x2add4d(0x27d)]['findIndex'](_0x32862e=>_0x32862e[_0x2add4d(0x286)][_0x2add4d(0x1ee)]()===_0x4b3359[_0x2add4d(0x6cc)][_0x2add4d(0x286)]['toString']());if(_0x4123ef===-0x1){this[_0x2add4d(0x5a8)](_0x2add4d(0x7ac)+_0x4b3359[_0x2add4d(0x6cc)]['_id']+_0x2add4d(0x798));return;}for(let _0x49d750 in _0x4b3359['replyOption'])_0x4b3359[_0x2add4d(0x6cc)][_0x2add4d(0x2a3)](_0x49d750)&&(_0x59811a[_0x2add4d(0x27d)][_0x4123ef][_0x49d750]=_0x4b3359[_0x2add4d(0x6cc)][_0x49d750]);}[a0_0x22f2c8(0x5b2)](_0x58a3b6,_0x3ef46f){const _0x436299=a0_0x22f2c8;_0x58a3b6[_0x436299(0x27d)][_0x436299(0x6b3)](_0x3ef46f[_0x436299(0x6cc)]);}async[a0_0x22f2c8(0x714)](_0x436049){const _0x22dc80=a0_0x22f2c8;this[_0x22dc80(0x4ad)][_0x22dc80(0x470)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x22dc80(0x1b1)+JSON[_0x22dc80(0x2e3)](_0x436049,null,0x2));try{if(this[_0x22dc80(0x4ad)][_0x22dc80(0x470)](this[_0x22dc80(0x12b)]+'\x20('+this[_0x22dc80(0x31b)][_0x22dc80(0x699)]+_0x22dc80(0x7cf)),!this['AutomateSystem'][_0x22dc80(0x780)]['find'](_0x1b1bf5=>_0x1b1bf5[_0x22dc80(0x286)]===_0x436049[_0x22dc80(0x286)]))throw this[_0x22dc80(0x4ad)][_0x22dc80(0x470)](this[_0x22dc80(0x12b)]+'\x20('+this['instance'][_0x22dc80(0x699)]+_0x22dc80(0xcb)+_0x436049[_0x22dc80(0x286)]+'\x27\x20não\x20encontrado'),new m(_0x22dc80(0x6d0));let _0x25fc2a=await this[_0x22dc80(0x70e)][_0x22dc80(0x28c)][_0x22dc80(0x239)]({'where':{'_id':_0x436049[_0x22dc80(0x286)]}});if(!_0x25fc2a||!_0x25fc2a['whoCanUse']?.[_0x22dc80(0x750)](this[_0x22dc80(0x31b)][_0x22dc80(0x699)]))throw this[_0x22dc80(0x4ad)][_0x22dc80(0x295)](this[_0x22dc80(0x12b)]+'\x20('+this['instance'][_0x22dc80(0x699)]+_0x22dc80(0x506)+_0x436049[_0x22dc80(0x286)]+_0x22dc80(0x5fc)),new m(_0x22dc80(0x6d2)+_0x436049[_0x22dc80(0x286)]+_0x22dc80(0x5fc));if(!_0x25fc2a[_0x22dc80(0x60e)]?.['includes'](this[_0x22dc80(0x31b)][_0x22dc80(0x699)]))throw new m(_0x22dc80(0x446));if(_0x436049[_0x22dc80(0x5e7)]&&_0x436049['group']?.[_0x22dc80(0x192)]===!0x0){if(this[_0x22dc80(0x4ad)][_0x22dc80(0x470)](this['instanceName']+'\x20('+this[_0x22dc80(0x31b)][_0x22dc80(0x699)]+_0x22dc80(0xb7)),_0x436049['group'][_0x22dc80(0x66b)]===!0x0)return{'message':_0x22dc80(0x508)};if(_0x25fc2a[_0x22dc80(0x3ad)][_0x22dc80(0x2f7)](_0x375511=>_0x375511['groupId'][_0x22dc80(0x1ee)]()===_0x436049[_0x22dc80(0x5e7)]['_id']))return this['logger'][_0x22dc80(0x470)](this[_0x22dc80(0x12b)]+'\x20('+this[_0x22dc80(0x31b)][_0x22dc80(0x699)]+_0x22dc80(0x360)),{'message':_0x22dc80(0x73d)};_0x25fc2a[_0x22dc80(0x327)]=_0x25fc2a[_0x22dc80(0x327)][_0x22dc80(0x4e7)](_0xdc3865=>_0xdc3865[_0x22dc80(0x286)]['toString']()!==_0x436049[_0x22dc80(0x5e7)][_0x22dc80(0x286)]);}else{if(_0x436049[_0x22dc80(0x5e7)]){if(_0x436049['group'][_0x22dc80(0x66b)]===!0x0)return{'message':_0x22dc80(0x5a7)};if(_0x436049['group'][_0x22dc80(0x286)]){let _0x3e8a4a=_0x25fc2a['groups']['find'](_0x3a1642=>_0x3a1642[_0x22dc80(0x286)][_0x22dc80(0x1ee)]()===_0x436049[_0x22dc80(0x5e7)]['_id']);_0x3e8a4a&&(_0x436049[_0x22dc80(0x5e7)]['x']<0x0&&(_0x436049[_0x22dc80(0x5e7)]['x']=0x0),_0x436049[_0x22dc80(0x5e7)]['y']<0x0&&(_0x436049[_0x22dc80(0x5e7)]['y']=0x0),Object[_0x22dc80(0x3b7)](_0x3e8a4a,_0x436049[_0x22dc80(0x5e7)]));}else _0x25fc2a[_0x22dc80(0x327)][_0x22dc80(0x6b3)](_0x436049[_0x22dc80(0x5e7)]);}}let _0x2b59d4=await this[_0x22dc80(0x70e)][_0x22dc80(0x28c)][_0x22dc80(0x365)](_0x25fc2a[_0x22dc80(0x286)],_0x25fc2a);if(!_0x2b59d4)throw new Error(_0x22dc80(0x563));return _0x2b59d4;}catch(_0x5e507b){let _0x421c1e=_0x22dc80(0x2c4),_0x2b6dba=_0x5e507b instanceof Error?_0x5e507b[_0x22dc80(0x659)]:typeof _0x5e507b==_0x22dc80(0x72b)?JSON[_0x22dc80(0x2e3)](_0x5e507b):_0x5e507b,_0x3716d5=_0x421c1e+':\x20'+_0x2b6dba;throw this[_0x22dc80(0x4ad)][_0x22dc80(0x295)](this['instanceName']+'\x20('+this[_0x22dc80(0x31b)][_0x22dc80(0x699)]+_0x22dc80(0x12a)+_0x3716d5),new m(_0x3716d5);}}async[a0_0x22f2c8(0x378)](_0x50a92d){const _0x20c2bb=a0_0x22f2c8;try{if(this[_0x20c2bb(0x4ad)]['verbose'](this['instanceName']+'\x20('+this[_0x20c2bb(0x31b)][_0x20c2bb(0x699)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this['AutomateSystem']['flows']['find'](_0x4ca89a=>_0x4ca89a['_id']===_0x50a92d['_id']))throw this[_0x20c2bb(0x4ad)][_0x20c2bb(0x470)](this['instanceName']+'\x20('+this[_0x20c2bb(0x31b)][_0x20c2bb(0x699)]+_0x20c2bb(0xcb)+_0x50a92d[_0x20c2bb(0x286)]+_0x20c2bb(0x54b)),new m(_0x20c2bb(0x6d0));let _0x5c4cec=await this[_0x20c2bb(0x70e)]['flow'][_0x20c2bb(0x239)]({'where':{'_id':_0x50a92d[_0x20c2bb(0x286)]}});if(!_0x5c4cec||!_0x5c4cec[_0x20c2bb(0x176)]?.['includes'](this['instance'][_0x20c2bb(0x699)]))throw this[_0x20c2bb(0x4ad)][_0x20c2bb(0x295)](this[_0x20c2bb(0x12b)]+'\x20('+this[_0x20c2bb(0x31b)][_0x20c2bb(0x699)]+_0x20c2bb(0x506)+_0x50a92d[_0x20c2bb(0x286)]+_0x20c2bb(0x5fc)),new m(_0x20c2bb(0x6d2)+_0x50a92d[_0x20c2bb(0x286)]+_0x20c2bb(0x5fc));if(!_0x5c4cec['whoCanEdit']?.[_0x20c2bb(0x750)](this[_0x20c2bb(0x31b)][_0x20c2bb(0x699)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x37fbb5=!0x1;if(_0x50a92d[_0x20c2bb(0x773)]?.['delete']===!0x0)_0x5c4cec['conditions']=_0x5c4cec[_0x20c2bb(0x135)]['filter'](_0x1bbb87=>_0x1bbb87&&_0x50a92d[_0x20c2bb(0x773)]&&_0x1bbb87[_0x20c2bb(0x286)]&&_0x50a92d[_0x20c2bb(0x773)]['_id']&&_0x1bbb87[_0x20c2bb(0x286)][_0x20c2bb(0x1ee)]()!==_0x50a92d[_0x20c2bb(0x773)][_0x20c2bb(0x286)][_0x20c2bb(0x1ee)]()),_0x37fbb5=!0x0;else{let _0x3f52c4=_0x5c4cec[_0x20c2bb(0x135)][_0x20c2bb(0xe9)](_0x3565ea=>_0x3565ea&&_0x50a92d['condition']&&_0x3565ea[_0x20c2bb(0x286)]&&_0x50a92d[_0x20c2bb(0x773)][_0x20c2bb(0x286)]&&_0x3565ea['_id'][_0x20c2bb(0x1ee)]()===_0x50a92d[_0x20c2bb(0x773)]['_id'][_0x20c2bb(0x1ee)]());_0x3f52c4?(_0x37fbb5=_0x3f52c4[_0x20c2bb(0x11c)]!==_0x50a92d[_0x20c2bb(0x773)][_0x20c2bb(0x11c)],Object[_0x20c2bb(0x3b7)](_0x3f52c4,_0x50a92d[_0x20c2bb(0x773)])):(_0x5c4cec[_0x20c2bb(0x135)][_0x20c2bb(0x6b3)](_0x50a92d['condition']),_0x37fbb5=!0x0);}if(_0x37fbb5){_0x5c4cec[_0x20c2bb(0x135)]['sort']((_0x2d49d0,_0x1168be)=>_0x2d49d0[_0x20c2bb(0x11c)]>_0x1168be[_0x20c2bb(0x11c)]?0x1:_0x1168be[_0x20c2bb(0x11c)]>_0x2d49d0[_0x20c2bb(0x11c)]?-0x1:0x0);for(let _0x28e76e=0x0;_0x28e76e<_0x5c4cec[_0x20c2bb(0x135)][_0x20c2bb(0x4a3)];_0x28e76e++)_0x5c4cec[_0x20c2bb(0x135)][_0x28e76e][_0x20c2bb(0x11c)]=_0x28e76e+0x1;_0x5c4cec[_0x20c2bb(0x135)]['length']>0x0&&(_0x5c4cec[_0x20c2bb(0x135)][0x0][_0x20c2bb(0x7a6)]='and');}let _0x755375=await this['repository']['flow'][_0x20c2bb(0x365)](_0x5c4cec[_0x20c2bb(0x286)],_0x5c4cec);if(!_0x755375)throw new Error(_0x20c2bb(0x563));return _0x755375;}catch(_0x4d390f){let _0x4228e5=_0x20c2bb(0x1b9),_0x15cfaa=_0x4d390f instanceof Error?_0x4d390f[_0x20c2bb(0x659)]:typeof _0x4d390f==_0x20c2bb(0x72b)?JSON[_0x20c2bb(0x2e3)](_0x4d390f):_0x4d390f,_0x491dd5=_0x4228e5+':\x20'+_0x15cfaa;throw this[_0x20c2bb(0x4ad)][_0x20c2bb(0x295)](this[_0x20c2bb(0x12b)]+'\x20('+this[_0x20c2bb(0x31b)][_0x20c2bb(0x699)]+_0x20c2bb(0x12a)+_0x491dd5),new m(_0x491dd5);}}async[a0_0x22f2c8(0x664)](_0x4a560d){const _0x5f35f5=a0_0x22f2c8;try{if(this[_0x5f35f5(0x4ad)][_0x5f35f5(0x470)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x5f35f5(0x1ed)][_0x5f35f5(0x780)][_0x5f35f5(0xe9)](_0x591723=>_0x591723[_0x5f35f5(0x286)]===_0x4a560d[_0x5f35f5(0x286)]))throw this[_0x5f35f5(0x4ad)]['verbose'](this[_0x5f35f5(0x12b)]+'\x20('+this[_0x5f35f5(0x31b)][_0x5f35f5(0x699)]+_0x5f35f5(0xcb)+_0x4a560d[_0x5f35f5(0x286)]+_0x5f35f5(0x54b)),new m(_0x5f35f5(0x6d0));let _0x27f48a=await this[_0x5f35f5(0x70e)][_0x5f35f5(0x28c)][_0x5f35f5(0x239)]({'where':{'_id':_0x4a560d[_0x5f35f5(0x286)]}});if(!_0x27f48a||!_0x27f48a['whoCanUse']?.[_0x5f35f5(0x750)](this['instance'][_0x5f35f5(0x699)]))throw this[_0x5f35f5(0x4ad)][_0x5f35f5(0x295)](this[_0x5f35f5(0x12b)]+'\x20('+this[_0x5f35f5(0x31b)][_0x5f35f5(0x699)]+_0x5f35f5(0x506)+_0x4a560d[_0x5f35f5(0x286)]+_0x5f35f5(0x5fc)),new m('Flow\x20\x27'+_0x4a560d['_id']+_0x5f35f5(0x5fc));if(!_0x27f48a[_0x5f35f5(0x60e)]?.[_0x5f35f5(0x750)](this[_0x5f35f5(0x31b)][_0x5f35f5(0x699)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x5bd1c5=!0x1;if(_0x4a560d[_0x5f35f5(0x387)]?.[_0x5f35f5(0x192)]===!0x0)_0x27f48a[_0x5f35f5(0x580)]=_0x27f48a[_0x5f35f5(0x580)][_0x5f35f5(0x4e7)](_0x5c4349=>_0x5c4349&&_0x4a560d[_0x5f35f5(0x387)]&&_0x5c4349['_id']&&_0x4a560d['varedit'][_0x5f35f5(0x286)]&&_0x5c4349[_0x5f35f5(0x286)][_0x5f35f5(0x1ee)]()!==_0x4a560d[_0x5f35f5(0x387)][_0x5f35f5(0x286)]['toString']()),_0x5bd1c5=!0x0;else{let _0x24432e=_0x27f48a[_0x5f35f5(0x580)][_0x5f35f5(0xe9)](_0x52a9fd=>_0x52a9fd&&_0x4a560d[_0x5f35f5(0x387)]&&_0x52a9fd[_0x5f35f5(0x286)]&&_0x4a560d[_0x5f35f5(0x387)][_0x5f35f5(0x286)]&&_0x52a9fd[_0x5f35f5(0x286)][_0x5f35f5(0x1ee)]()===_0x4a560d[_0x5f35f5(0x387)][_0x5f35f5(0x286)][_0x5f35f5(0x1ee)]());_0x24432e?(_0x5bd1c5=_0x24432e[_0x5f35f5(0x11c)]!==_0x4a560d[_0x5f35f5(0x387)][_0x5f35f5(0x11c)],Object[_0x5f35f5(0x3b7)](_0x24432e,_0x4a560d['varedit'])):(_0x27f48a['varedits'][_0x5f35f5(0x6b3)](_0x4a560d[_0x5f35f5(0x387)]),_0x5bd1c5=!0x0);}if(_0x5bd1c5){_0x27f48a[_0x5f35f5(0x580)][_0x5f35f5(0x1e3)]((_0x130521,_0x25c893)=>_0x130521['order']>_0x25c893[_0x5f35f5(0x11c)]?0x1:_0x25c893['order']>_0x130521['order']?-0x1:0x0);for(let _0x2bec4a=0x0;_0x2bec4a<_0x27f48a[_0x5f35f5(0x580)]['length'];_0x2bec4a++)_0x27f48a[_0x5f35f5(0x580)][_0x2bec4a][_0x5f35f5(0x11c)]=_0x2bec4a+0x1;}let _0x438afa=await this[_0x5f35f5(0x70e)][_0x5f35f5(0x28c)][_0x5f35f5(0x365)](_0x27f48a[_0x5f35f5(0x286)],_0x27f48a);if(!_0x438afa)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x438afa;}catch(_0x1f7246){let _0x21e292='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x224bd2=_0x1f7246 instanceof Error?_0x1f7246[_0x5f35f5(0x659)]:typeof _0x1f7246==_0x5f35f5(0x72b)?JSON[_0x5f35f5(0x2e3)](_0x1f7246):_0x1f7246,_0x21055c=_0x21e292+':\x20'+_0x224bd2;throw this['logger'][_0x5f35f5(0x295)](this['instanceName']+'\x20('+this[_0x5f35f5(0x31b)]['wuid']+_0x5f35f5(0x12a)+_0x21055c),new m(_0x21055c);}}async['editFlowVariable'](_0x58ad7a){const _0x433100=a0_0x22f2c8;try{if(this[_0x433100(0x4ad)][_0x433100(0x470)](this['instanceName']+'\x20('+this[_0x433100(0x31b)][_0x433100(0x699)]+_0x433100(0xb2)),!this[_0x433100(0x1ed)]['flows'][_0x433100(0xe9)](_0x43fd71=>_0x43fd71['_id']===_0x58ad7a[_0x433100(0x286)]))throw this[_0x433100(0x4ad)][_0x433100(0x470)](this[_0x433100(0x12b)]+'\x20('+this[_0x433100(0x31b)]['wuid']+_0x433100(0xcb)+_0x58ad7a[_0x433100(0x286)]+_0x433100(0x54b)),new m(_0x433100(0x6d0));let _0x4e9445=await this['repository'][_0x433100(0x28c)][_0x433100(0x239)]({'where':{'_id':_0x58ad7a['_id']}});if(!_0x4e9445||!_0x4e9445[_0x433100(0x176)]?.[_0x433100(0x750)](this['instance'][_0x433100(0x699)]))throw this[_0x433100(0x4ad)][_0x433100(0x295)](this[_0x433100(0x12b)]+'\x20('+this[_0x433100(0x31b)][_0x433100(0x699)]+_0x433100(0x506)+_0x58ad7a[_0x433100(0x286)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x58ad7a[_0x433100(0x286)]+_0x433100(0x5fc));if(!_0x4e9445[_0x433100(0x60e)]?.[_0x433100(0x750)](this[_0x433100(0x31b)][_0x433100(0x699)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0x58ad7a[_0x433100(0x1fd)][_0x433100(0x2cb)]=_0x58ad7a['variable']['name'][_0x433100(0x181)](),_0x58ad7a[_0x433100(0x1fd)][_0x433100(0x2cb)][_0x433100(0xf2)]('_')&&(_0x58ad7a['variable'][_0x433100(0x2cb)]=_0x58ad7a['variable'][_0x433100(0x2cb)][_0x433100(0x3ea)](0x1)),_0x58ad7a[_0x433100(0x1fd)][_0x433100(0x2cb)]=_0x58ad7a[_0x433100(0x1fd)]['name'][_0x433100(0x181)]();let _0x3b3d0a=_0x4e9445[_0x433100(0xa1)][_0x433100(0xe9)](_0x26fa14=>_0x26fa14[_0x433100(0x2cb)]===_0x58ad7a[_0x433100(0x1fd)][_0x433100(0x2cb)]);if(_0x3b3d0a?.[_0x433100(0x3be)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x58ad7a[_0x433100(0x1fd)]?.[_0x433100(0x192)]===!0x0){if(!_0x3b3d0a)return{'message':_0x433100(0x6f1)};_0x4e9445[_0x433100(0xa1)]=_0x4e9445[_0x433100(0xa1)][_0x433100(0x4e7)](_0x1bfdda=>_0x1bfdda['name']!==_0x58ad7a[_0x433100(0x1fd)]['name']);}else _0x3b3d0a?Object[_0x433100(0x3b7)](_0x3b3d0a,_0x58ad7a[_0x433100(0x1fd)]):_0x4e9445[_0x433100(0xa1)][_0x433100(0x6b3)](_0x58ad7a['variable']);let _0x415172=await this[_0x433100(0x70e)]['flow']['updateOne'](_0x4e9445['_id'],_0x4e9445);if(!_0x415172)throw new Error(_0x433100(0x563));return _0x415172;}catch(_0x1c3ffa){let _0x2e95ff='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x41a304=_0x1c3ffa instanceof Error?_0x1c3ffa[_0x433100(0x659)]:typeof _0x1c3ffa=='object'?JSON[_0x433100(0x2e3)](_0x1c3ffa):_0x1c3ffa,_0x2d352d=_0x2e95ff+':\x20'+_0x41a304;throw this[_0x433100(0x4ad)][_0x433100(0x295)](this[_0x433100(0x12b)]+'\x20('+this[_0x433100(0x31b)]['wuid']+'):\x20'+_0x2d352d),new m(_0x2d352d);}}async[a0_0x22f2c8(0x5c1)](_0x5f0db2){const _0x24138e=a0_0x22f2c8;let _0x22260a=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x24138e(0x4e0)])throw new m(_0x24138e(0x3df));this[_0x24138e(0x4ad)][_0x24138e(0x470)](this[_0x24138e(0x12b)]+'\x20('+this[_0x24138e(0x31b)]['wuid']+_0x24138e(0x215));let _0x382d86=(await this['whatsappNumber']({'numbers':[_0x5f0db2['remoteJid']]}))[0x0];if(!_0x382d86[_0x24138e(0x707)]&&!(0x0,w[_0x24138e(0x67d)])(_0x382d86[_0x24138e(0x50f)])&&!_0x382d86['jid']['includes'](_0x24138e(0x411)))throw _0x22260a=JSON['stringify'](_0x382d86,null,0x2),new m(_0x382d86);let _0x7384e;if(_0x5f0db2[_0x24138e(0x2cb)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x24138e(0x73c)](_0x5f0db2['name'])?_0x7384e=this[_0x24138e(0x1ed)]['flows']['find'](_0x445a64=>_0x445a64[_0x24138e(0x286)]===_0x5f0db2[_0x24138e(0x2cb)]):_0x7384e=this[_0x24138e(0x1ed)][_0x24138e(0x780)][_0x24138e(0xe9)](_0x44fe23=>_0x44fe23[_0x24138e(0x2cb)]===_0x5f0db2[_0x24138e(0x2cb)]),!_0x7384e)throw this[_0x24138e(0x4ad)][_0x24138e(0x470)](this[_0x24138e(0x12b)]+'\x20('+this[_0x24138e(0x31b)][_0x24138e(0x699)]+'):\x20Fluxo\x20\x27'+_0x5f0db2[_0x24138e(0x2cb)]+_0x24138e(0x54b)),new m(_0x24138e(0x6d0));let _0x50a517=await this[_0x24138e(0x70e)]['flow'][_0x24138e(0x239)]({'where':{'_id':_0x7384e[_0x24138e(0x286)]}});if(!_0x50a517||!_0x50a517[_0x24138e(0x176)]?.[_0x24138e(0x750)](this['instance']['wuid']))throw this['logger']['error'](this[_0x24138e(0x12b)]+'\x20('+this[_0x24138e(0x31b)][_0x24138e(0x699)]+'):\x20Flow\x20\x27'+_0x7384e[_0x24138e(0x286)]+_0x24138e(0x5fc)),_0x22260a=_0x24138e(0x6d2)+_0x7384e[_0x24138e(0x286)]+_0x24138e(0x5fc),new m(_0x22260a);let _0x23ae74=await this[_0x24138e(0x48d)](_0x50a517,_0x382d86[_0x24138e(0x50f)],_0x5f0db2['changeVariables']);if(_0x23ae74){this[_0x24138e(0x4ad)][_0x24138e(0x470)](this[_0x24138e(0x12b)]+'\x20('+this[_0x24138e(0x31b)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x458627=await this[_0x24138e(0x36a)](_0x23ae74);return _0x458627&&await this[_0x24138e(0x1f1)](_0x23ae74,_0x458627),{'message':'Flow\x20iniciado\x20com\x20'+_0x5f0db2['remoteJid']};}}catch(_0x1faebd){if(this[_0x24138e(0x4ad)][_0x24138e(0x295)](this[_0x24138e(0x12b)]+'\x20('+this[_0x24138e(0x31b)]['wuid']+_0x24138e(0x2f9)+(_0x1faebd instanceof Error?_0x1faebd[_0x24138e(0x659)]:JSON['stringify'](_0x1faebd,null,0x2))),_0x22260a=_0x1faebd instanceof Error?_0x1faebd[_0x24138e(0x659)]:JSON['stringify'](_0x1faebd,null,0x2),_0x22260a)throw new m(_0x24138e(0x97)+_0x22260a);}}async[a0_0x22f2c8(0x3b3)](_0x4002a7,_0x210095,_0x3a0790){const _0x563348=a0_0x22f2c8;let _0x156215=null;try{if(!this['AutomateSystem']?.[_0x563348(0x611)][_0x563348(0x4e0)])throw new m(_0x563348(0x3df));if(this[_0x563348(0x4ad)][_0x563348(0x470)](this[_0x563348(0x12b)]+'\x20('+this['instance'][_0x563348(0x699)]+_0x563348(0x215)),_0x210095){let _0x5cdcac=(await this[_0x563348(0x337)]({'numbers':[_0x210095]}))[0x0];if(!_0x5cdcac[_0x563348(0x707)]&&!(0x0,w[_0x563348(0x67d)])(_0x5cdcac[_0x563348(0x50f)])&&!_0x5cdcac[_0x563348(0x50f)][_0x563348(0x750)](_0x563348(0x411)))throw _0x156215=JSON[_0x563348(0x2e3)](_0x5cdcac,null,0x2),new m(_0x5cdcac);_0x210095=_0x5cdcac[_0x563348(0x50f)];}else _0x210095||(_0x210095=(0x0,X['v4'])());let _0x256c4b=await this[_0x563348(0x70e)]['flow'][_0x563348(0x239)]({'where':{'_id':_0x4002a7}});if(!_0x256c4b||!_0x256c4b[_0x563348(0x176)]?.[_0x563348(0x750)](this[_0x563348(0x31b)]['wuid']))throw this[_0x563348(0x4ad)][_0x563348(0x295)](this[_0x563348(0x12b)]+'\x20('+this['instance'][_0x563348(0x699)]+'):\x20Flow\x20\x27'+_0x4002a7+_0x563348(0x5fc)),new m(_0x563348(0x6d2)+_0x4002a7+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x58d5bf=await this[_0x563348(0x48d)](_0x256c4b,_0x210095,null);if(_0x58d5bf){this[_0x563348(0x4ad)][_0x563348(0x470)](this[_0x563348(0x12b)]+'\x20('+this['instance']['wuid']+_0x563348(0x709));let _0x506705;if(_0x3a0790){let _0x2ea851=_0x58d5bf[_0x563348(0x7af)][_0x563348(0x178)],_0x5e3984=this[_0x563348(0x1ca)](_0x3a0790);Object[_0x563348(0x3b7)](_0x2ea851,_0x5e3984),_0x58d5bf[_0x563348(0x7af)][_0x563348(0x178)]=_0x2ea851,_0x506705={'error':!0x1,'apiResponse':_0x3a0790};}let _0xe0f508=await this[_0x563348(0x36a)](_0x58d5bf);return _0xe0f508&&await this['processblock'](_0x58d5bf,_0xe0f508),{'message':_0x563348(0x3dd)};}}catch(_0x1c6d36){if(this[_0x563348(0x4ad)][_0x563348(0x295)](this[_0x563348(0x12b)]+'\x20('+this[_0x563348(0x31b)][_0x563348(0x699)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x1c6d36 instanceof Error?_0x1c6d36['message']:JSON['stringify'](_0x1c6d36,null,0x2))),_0x156215=_0x1c6d36 instanceof Error?_0x1c6d36[_0x563348(0x659)]:JSON[_0x563348(0x2e3)](_0x1c6d36,null,0x2),_0x156215)throw new m(_0x563348(0x97)+_0x156215);}}async[a0_0x22f2c8(0x627)](_0x23bcd1){const _0x1aad06=a0_0x22f2c8;try{let _0x30e8b4={'remoteJid':_0x23bcd1,'status':'open'},_0x1bb52a={'status':_0x1aad06(0x70c)},_0xce76f3=await this['repository'][_0x1aad06(0x1c1)][_0x1aad06(0x25b)](_0x30e8b4,_0x1bb52a,this[_0x1aad06(0x31b)][_0x1aad06(0x699)]);return this['logger'][_0x1aad06(0x470)](this[_0x1aad06(0x12b)]+'\x20('+this[_0x1aad06(0x31b)][_0x1aad06(0x699)]+_0x1aad06(0x5a3)),_0xce76f3;}catch(_0x3fe6b4){throw this['logger'][_0x1aad06(0x295)](this[_0x1aad06(0x12b)]+'\x20('+this[_0x1aad06(0x31b)][_0x1aad06(0x699)]+_0x1aad06(0x722)+_0x3fe6b4['message']),_0x3fe6b4;}}async[a0_0x22f2c8(0x48d)](_0x29dca8,_0x24aaec,_0x505c0e){const _0x42946f=a0_0x22f2c8;this[_0x42946f(0x4ad)][_0x42946f(0x470)](this[_0x42946f(0x12b)]+'\x20('+this[_0x42946f(0x31b)][_0x42946f(0x699)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x42946f(0x627)](_0x24aaec);try{let _0x4a860a=require(_0x42946f(0x1db))[_0x42946f(0x388)],_0x379ca9=Date['now'](),_0x3630cc=_0x42946f(0x4aa),_0x538cce={},_0x554d28={},_0x5749ba=this['AutomateSystem'][_0x42946f(0x780)]['find'](_0x22a937=>_0x22a937[_0x42946f(0x286)]===_0x29dca8[_0x42946f(0x286)]?.['toString']()),_0x22f360=_0x5749ba?.[_0x42946f(0x43e)]??_0x29dca8[_0x42946f(0x43e)]??0x0,_0x123cb7=_0x5749ba?.[_0x42946f(0x75b)]??_0x29dca8[_0x42946f(0x75b)]??!0x1,_0x41763f={'flowId':_0x29dca8[_0x42946f(0x286)],..._0x29dca8,'chatLog':null},_0x51de8a=await this[_0x42946f(0x486)](_0x41763f[_0x42946f(0xa1)]),_0x29792a=await this[_0x42946f(0x2eb)](_0x24aaec),_0x5a30e3={..._0x51de8a,..._0x29792a,'_remoteJid':_0x24aaec},_0x161e09={'lastReceivedMessage':_0x538cce,'lastSendMessage':_0x554d28,'lastBlockId':_0x3630cc,'lastCondition':!0x0,'realVariables':_0x5a30e3};_0x41763f['chatLog']=_0x161e09,_0x41763f[_0x42946f(0x7af)][_0x42946f(0x178)]={..._0x5a30e3,..._0x505c0e},delete _0x41763f[_0x42946f(0x286)],_0x41763f[_0x42946f(0x286)]=new _0x4a860a(),_0x41763f[_0x42946f(0x621)]=_0x379ca9,_0x41763f[_0x42946f(0x3fe)]=_0x42946f(0x237),_0x41763f['remoteJid']=_0x24aaec,_0x41763f[_0x42946f(0x43e)]=_0x22f360,_0x41763f[_0x42946f(0x75b)]=_0x123cb7,_0x41763f['_id']=_0x29dca8['_id'];let _0x8ef8f2=await this[_0x42946f(0x70e)]['flowConversation'][_0x42946f(0x365)](_0x41763f[_0x42946f(0x286)],_0x41763f,this['instance']['wuid']);return this['logger'][_0x42946f(0x470)](this['instanceName']+'\x20('+this[_0x42946f(0x31b)][_0x42946f(0x699)]+_0x42946f(0x5a5)),_0x8ef8f2?_0x41763f:null;}catch(_0x42fa04){let _0x18267f=_0x42946f(0x1e2),_0x164d52=_0x42fa04 instanceof Error?_0x42fa04['message']:typeof _0x42fa04==_0x42946f(0x72b)?JSON[_0x42946f(0x2e3)](_0x42fa04):_0x42fa04,_0x19ce0f=_0x18267f+':\x20'+_0x164d52;throw this[_0x42946f(0x4ad)]['error'](this[_0x42946f(0x12b)]+'\x20('+this[_0x42946f(0x31b)][_0x42946f(0x699)]+_0x42946f(0x12a)+_0x19ce0f),new m(_0x19ce0f);}}async[a0_0x22f2c8(0x350)](_0x454a03){const _0x52411a=a0_0x22f2c8;try{this['logger'][_0x52411a(0x470)](this[_0x52411a(0x12b)]+'\x20('+this['instance']['wuid']+_0x52411a(0x2d5)),this[_0x52411a(0x4ad)][_0x52411a(0x470)](this[_0x52411a(0x12b)]+'\x20('+this[_0x52411a(0x31b)][_0x52411a(0x699)]+_0x52411a(0x663)+_0x454a03);let _0x536206={'where':{'_id':_0x454a03}};return await this['repository']['flowConversation'][_0x52411a(0x239)](_0x536206,this[_0x52411a(0x31b)]['wuid']);}catch(_0x50b027){let _0x2e8615=_0x52411a(0x392),_0x457374=_0x50b027 instanceof Error?_0x50b027[_0x52411a(0x659)]:typeof _0x50b027=='object'?JSON[_0x52411a(0x2e3)](_0x50b027):_0x50b027,_0x1e5274=_0x2e8615+':\x20'+_0x457374;throw this[_0x52411a(0x4ad)][_0x52411a(0x295)](this[_0x52411a(0x12b)]+'\x20('+this[_0x52411a(0x31b)][_0x52411a(0x699)]+'):\x20'+_0x1e5274),new m(_0x1e5274);}}async[a0_0x22f2c8(0x739)](_0x5e2a55){const _0xe80db3=a0_0x22f2c8;try{return this[_0xe80db3(0x4ad)][_0xe80db3(0x470)](this['instanceName']+'\x20('+this[_0xe80db3(0x31b)][_0xe80db3(0x699)]+_0xe80db3(0x5d3)),await this[_0xe80db3(0x70e)][_0xe80db3(0x1c1)][_0xe80db3(0xe9)](_0x5e2a55,this[_0xe80db3(0x31b)]['wuid']);}catch(_0x1b48d7){let _0x36726b=_0xe80db3(0x731),_0x52c1da=_0x1b48d7 instanceof Error?_0x1b48d7[_0xe80db3(0x659)]:typeof _0x1b48d7==_0xe80db3(0x72b)?JSON[_0xe80db3(0x2e3)](_0x1b48d7):_0x1b48d7,_0x2221c0=_0x36726b+':\x20'+_0x52c1da;throw this[_0xe80db3(0x4ad)][_0xe80db3(0x295)](this[_0xe80db3(0x12b)]+'\x20('+this[_0xe80db3(0x31b)][_0xe80db3(0x699)]+_0xe80db3(0x12a)+_0x2221c0),new m(_0x2221c0);}}async[a0_0x22f2c8(0x3fd)](_0x16842a){const _0x1cccf3=a0_0x22f2c8;try{return this[_0x1cccf3(0x4ad)][_0x1cccf3(0x470)](this[_0x1cccf3(0x12b)]+'\x20('+this[_0x1cccf3(0x31b)][_0x1cccf3(0x699)]+_0x1cccf3(0xfe)),this['logger']['verbose'](this[_0x1cccf3(0x12b)]+'\x20('+this[_0x1cccf3(0x31b)][_0x1cccf3(0x699)]+_0x1cccf3(0x715)+_0x16842a),(await this[_0x1cccf3(0x70e)][_0x1cccf3(0x1c1)][_0x1cccf3(0x574)]({'where':{'_id':_0x16842a[_0x1cccf3(0x286)]}},this[_0x1cccf3(0x31b)][_0x1cccf3(0x699)]))['deletedCount']===0x0?{'message':_0x1cccf3(0x6d5)}:{'message':_0x1cccf3(0x754)};}catch(_0x136030){let _0x3cfa26=_0x1cccf3(0x555),_0x473c51=_0x136030 instanceof Error?_0x136030['message']:typeof _0x136030==_0x1cccf3(0x72b)?JSON[_0x1cccf3(0x2e3)](_0x136030):_0x136030,_0x52304d=_0x3cfa26+':\x20'+_0x473c51;throw this[_0x1cccf3(0x4ad)][_0x1cccf3(0x295)](this[_0x1cccf3(0x12b)]+'\x20('+this[_0x1cccf3(0x31b)][_0x1cccf3(0x699)]+_0x1cccf3(0x12a)+_0x52304d),new m(_0x52304d);}}async[a0_0x22f2c8(0x9f)](_0x28adc3){const _0x45d456=a0_0x22f2c8;try{let {_id:_0x1097c6,chatLog:_0x463cf9,status:_0x563aa1}=_0x28adc3;if(!_0x1097c6)return{'message':_0x45d456(0x66a)};let _0x4b5885={};if(_0x563aa1!==void 0x0&&(_0x4b5885[_0x45d456(0x3fe)]=_0x563aa1),Object[_0x45d456(0x158)](_0x4b5885)[_0x45d456(0x4a3)]===0x0)return{'message':_0x45d456(0x3a4)};let _0xec6e67=await this['repository'][_0x45d456(0x1c1)][_0x45d456(0x365)](_0x1097c6,_0x4b5885,this['instance'][_0x45d456(0x699)]);return _0xec6e67||{'message':_0x45d456(0x406)};}catch(_0x3ea998){let _0x309bb3=_0x45d456(0x5da),_0x36bf8a=_0x3ea998 instanceof Error?_0x3ea998[_0x45d456(0x659)]:typeof _0x3ea998==_0x45d456(0x72b)?JSON['stringify'](_0x3ea998):_0x3ea998,_0x57b51e=_0x309bb3+':\x20'+_0x36bf8a;throw this[_0x45d456(0x4ad)]['error'](this[_0x45d456(0x12b)]+'\x20('+this['instance'][_0x45d456(0x699)]+_0x45d456(0x12a)+_0x57b51e),new m(_0x57b51e);}}async[a0_0x22f2c8(0x556)](_0x3a7de4){const _0x5aaf29=a0_0x22f2c8;try{_0x3a7de4[_0x5aaf29(0x286)]=this[_0x5aaf29(0x523)](_0x3a7de4[_0x5aaf29(0x286)]);let _0x2fe738=await this[_0x5aaf29(0x70e)][_0x5aaf29(0x294)][_0x5aaf29(0x239)]({'where':{'_id':_0x3a7de4[_0x5aaf29(0x286)]}},this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]);if(!_0x2fe738)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x3bdd93,leadInfo:_0x2df799}=_0x3a7de4;if(!_0x3bdd93)throw new Error(_0x5aaf29(0x52d));if(_0x3a7de4[_0x5aaf29(0x192)]===_0x5aaf29(0x65b))return await this[_0x5aaf29(0x33d)](_0x3a7de4[_0x5aaf29(0x286)]),await this[_0x5aaf29(0x70e)][_0x5aaf29(0x294)][_0x5aaf29(0x192)]({'where':{'_id':_0x3a7de4[_0x5aaf29(0x286)]}},this[_0x5aaf29(0x31b)]['wuid']),await this[_0x5aaf29(0x70e)][_0x5aaf29(0x659)][_0x5aaf29(0x192)]({'where':{'key':{'remoteJid':_0x3a7de4[_0x5aaf29(0x286)]}}},this[_0x5aaf29(0x31b)]['wuid']),_0x3a7de4=await this[_0x5aaf29(0x70e)][_0x5aaf29(0x294)]['updateOne']({'where':{'_id':_0x3a7de4[_0x5aaf29(0x286)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]),J(this[_0x5aaf29(0x12b)],_0x5aaf29(0x24f),{'chat':_0x3a7de4}),{'message':_0x5aaf29(0x422)};if(_0x3a7de4[_0x5aaf29(0x192)]==='messages')return await this[_0x5aaf29(0x70e)]['message'][_0x5aaf29(0x192)]({'where':{'key':{'remoteJid':_0x3a7de4['_id']}}},this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]),_0x3a7de4=await this[_0x5aaf29(0x70e)][_0x5aaf29(0x294)]['updateOne']({'where':{'_id':_0x3a7de4[_0x5aaf29(0x286)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]),J(this['instanceName'],_0x5aaf29(0x24f),{'chat':_0x3a7de4}),{'message':_0x5aaf29(0x67b)};let _0x4a9c3e=(_0x52b710,_0x172d27,_0x48ddb4)=>{_0x52b710&&_0x48ddb4['forEach'](_0x322f18=>{const _0x46b8ec=a0_0x2beb;_0x52b710[_0x322f18]!==void 0x0&&(_0x172d27[_0x46b8ec(0x3a8)+_0x322f18]=_0x52b710[_0x322f18]);});},_0x406079={};if('muteEndTime'in _0x3a7de4&&(this['logger'][_0x5aaf29(0x470)](this[_0x5aaf29(0x12b)]+'\x20('+this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]+_0x5aaf29(0x1f6)+_0x3a7de4[_0x5aaf29(0x286)]),_0x3a7de4[_0x5aaf29(0x3a9)]=_0x3a7de4[_0x5aaf29(0x3a9)]===0x0?null:-0x1,await this[_0x5aaf29(0x223)][_0x5aaf29(0x2e2)]({'mute':_0x3a7de4[_0x5aaf29(0x3a9)]},_0x3a7de4[_0x5aaf29(0x286)]),_0x406079[_0x5aaf29(0x3a9)]=Number(_0x3a7de4[_0x5aaf29(0x3a9)])),_0x2df799&&(_0x4a9c3e(_0x2df799,_0x406079,[_0x5aaf29(0x1dd),'nomecompleto','email',_0x5aaf29(0x526),_0x5aaf29(0x3fe),'notas',_0x5aaf29(0x28e),_0x5aaf29(0x59b),_0x5aaf29(0x35f),_0x5aaf29(0x724),_0x5aaf29(0x40c)]),Array[_0x5aaf29(0x289)](_0x2df799[_0x5aaf29(0x340)])&&(_0x406079[_0x5aaf29(0x41d)]=_0x2df799[_0x5aaf29(0x340)]['map'](_0x5c3beb=>({'_id':_0x5c3beb['_id'],'value':_0x5c3beb['value']}))),_0x3a7de4[_0x5aaf29(0x3be)][_0x5aaf29(0x724)]!==void 0x0)){let _0x3affe7=await this[_0x5aaf29(0x70e)][_0x5aaf29(0x585)][_0x5aaf29(0xe9)]({'where':{}},this[_0x5aaf29(0x31b)]['wuid']),_0xb2c04d=new Set(_0x3a7de4[_0x5aaf29(0x3be)]['etiquetas']||[]),_0x378df4=new Set(_0x3a7de4[_0x5aaf29(0x3be)]['etiquetas']),_0x505c58=new Set(_0x3affe7[_0x5aaf29(0x657)](_0x139dc3=>_0x139dc3[_0x5aaf29(0x286)])),_0x20715f=[..._0x378df4][_0x5aaf29(0x4e7)](_0x2980a4=>!_0xb2c04d['has'](_0x2980a4)&&_0x505c58[_0x5aaf29(0x5f7)](_0x2980a4)),_0x4e4f30=[..._0xb2c04d]['filter'](_0x427ece=>!_0x378df4['has'](_0x427ece));if(_0x406079[_0x5aaf29(0x5d4)]=[..._0xb2c04d],_0x2fe738&&!_0x2fe738[_0x5aaf29(0x233)]){for(let _0x193a1e of _0x20715f)await this[_0x5aaf29(0x50d)](_0x193a1e,_0x3a7de4[_0x5aaf29(0x286)]),_0xb2c04d['add'](_0x193a1e);for(let _0x37ae7f of _0x4e4f30)await this['RemoveChatLabel'](_0x37ae7f,_0x3a7de4[_0x5aaf29(0x286)]),_0xb2c04d[_0x5aaf29(0x192)](_0x37ae7f);}}if(_0x3a7de4[_0x5aaf29(0x151)]!==void 0x0&&(_0x406079[_0x5aaf29(0x151)]=Number(_0x3a7de4[_0x5aaf29(0x151)])),Object[_0x5aaf29(0x158)](_0x406079)[_0x5aaf29(0x4a3)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x1aa666=await this[_0x5aaf29(0x70e)][_0x5aaf29(0x294)][_0x5aaf29(0x365)]({'where':{'_id':_0x3a7de4[_0x5aaf29(0x286)]}},_0x406079,this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]);return _0x1aa666&&J(this[_0x5aaf29(0x12b)],_0x5aaf29(0x24f),{'chat':_0x1aa666}),_0x1aa666?(this[_0x5aaf29(0x4ad)][_0x5aaf29(0x470)](this['instanceName']+'\x20('+this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]+_0x5aaf29(0x12a)+JSON[_0x5aaf29(0x2e3)](_0x1aa666,null,0x2)),_0x1aa666):{'message':_0x5aaf29(0x7c9)};}catch(_0x3acfe4){let _0x259dda=_0x5aaf29(0x43d),_0x13087a=_0x3acfe4 instanceof Error?_0x3acfe4[_0x5aaf29(0x659)]:typeof _0x3acfe4==_0x5aaf29(0x72b)?JSON['stringify'](_0x3acfe4):_0x3acfe4,_0x1b9929=_0x259dda+':\x20'+_0x13087a;throw this[_0x5aaf29(0x4ad)][_0x5aaf29(0x295)](this[_0x5aaf29(0x12b)]+'\x20('+this[_0x5aaf29(0x31b)][_0x5aaf29(0x699)]+'):\x20'+_0x1b9929),new m(_0x1b9929);}}async[a0_0x22f2c8(0x50d)](_0x2092aa,_0x1350f5){const _0x1e33a0=a0_0x22f2c8;try{await this[_0x1e33a0(0x223)][_0x1e33a0(0x54d)](_0x1350f5,_0x2092aa),this[_0x1e33a0(0x4ad)][_0x1e33a0(0x778)](this[_0x1e33a0(0x12b)]+'\x20('+this[_0x1e33a0(0x31b)][_0x1e33a0(0x699)]+'):\x20Label\x20'+_0x2092aa+_0x1e33a0(0x302)+_0x1350f5+_0x1e33a0(0x144));}catch(_0x22a841){this[_0x1e33a0(0x4ad)][_0x1e33a0(0x295)](_0x1e33a0(0x2e9)+_0x2092aa+'\x20ao\x20chat\x20'+_0x1350f5+':\x20'+_0x22a841);}}async[a0_0x22f2c8(0x118)](_0xb1f663,_0xb9b5b6){const _0x336eae=a0_0x22f2c8;try{await this[_0x336eae(0x223)][_0x336eae(0x3e3)](_0xb9b5b6,_0xb1f663),this['logger'][_0x336eae(0x778)](this[_0x336eae(0x12b)]+'\x20('+this[_0x336eae(0x31b)][_0x336eae(0x699)]+_0x336eae(0x608)+_0xb1f663+'\x20removido\x20do\x20chat\x20'+_0xb9b5b6+_0x336eae(0x144));}catch(_0x4b7191){this[_0x336eae(0x4ad)]['error'](_0x336eae(0x7d7)+_0xb1f663+_0x336eae(0x9b)+_0xb9b5b6+':\x20'+_0x4b7191);}}async[a0_0x22f2c8(0x6da)](_0x11438e){const _0x6dd748=a0_0x22f2c8;try{let _0x294ae4=await this[_0x6dd748(0x70e)][_0x6dd748(0x477)][_0x6dd748(0x44c)](this[_0x6dd748(0x31b)]['wuid']),_0x12dbd6=_0x11438e[_0x6dd748(0x286)]?_0x294ae4[_0x6dd748(0x4a5)][_0x6dd748(0x29a)](_0x48fcee=>_0x48fcee[_0x6dd748(0x286)]===_0x11438e[_0x6dd748(0x286)]):-0x1;if(_0x11438e[_0x6dd748(0x192)]&&_0x12dbd6>-0x1)_0x294ae4[_0x6dd748(0x4a5)][_0x6dd748(0x1cf)](_0x12dbd6,0x1);else{if(_0x12dbd6>-0x1){let _0x26b4e8=_0x294ae4[_0x6dd748(0x4a5)][_0x12dbd6];_0x11438e[_0x6dd748(0x31d)]&&(_0x26b4e8[_0x6dd748(0x31d)]=_0x11438e['fone']),_0x11438e[_0x6dd748(0x2cb)]&&(_0x26b4e8['name']=_0x11438e['name']),_0x11438e['email']&&(_0x26b4e8['email']=_0x11438e[_0x6dd748(0x405)]),_0x11438e[_0x6dd748(0x475)]&&(_0x26b4e8[_0x6dd748(0x475)]=_0x11438e[_0x6dd748(0x475)]);}else _0x294ae4[_0x6dd748(0x4a5)][_0x6dd748(0x6b3)]({'_id':_0x11438e[_0x6dd748(0x286)]||new he[(_0x6dd748(0x66b))][(_0x6dd748(0x42a))][(_0x6dd748(0x388))]()[_0x6dd748(0x1ee)](),'fone':_0x11438e[_0x6dd748(0x31d)],'name':_0x11438e[_0x6dd748(0x2cb)],'email':_0x11438e['email'],'role':_0x11438e['role']});}let _0x217ce5={'agents':_0x294ae4[_0x6dd748(0x4a5)]},_0x23d031=await this[_0x6dd748(0x70e)][_0x6dd748(0x477)][_0x6dd748(0x748)](_0x217ce5,this['instance']['wuid']);return this['AutomateSystem']=_0x23d031,this['logger'][_0x6dd748(0x470)](this[_0x6dd748(0x12b)]+'\x20('+this[_0x6dd748(0x31b)][_0x6dd748(0x699)]+_0x6dd748(0x530)),this[_0x6dd748(0x4ad)][_0x6dd748(0x470)](this[_0x6dd748(0x12b)]+'\x20('+this[_0x6dd748(0x31b)]['wuid']+'):\x20'+this['AutomateSystem']),_0x23d031;}catch(_0x53cca2){let _0x29efa5=_0x6dd748(0x248),_0x73325a=_0x53cca2 instanceof Error?_0x53cca2['message']:typeof _0x53cca2==_0x6dd748(0x72b)?JSON[_0x6dd748(0x2e3)](_0x53cca2):_0x53cca2,_0x51a9d5=_0x29efa5+':\x20'+_0x73325a;throw this[_0x6dd748(0x4ad)]['error'](this['instanceName']+'\x20('+this[_0x6dd748(0x31b)][_0x6dd748(0x699)]+'):\x20'+_0x51a9d5),new m(_0x51a9d5);}}async['updateCustomFields'](_0x2504f3){const _0x33ccf1=a0_0x22f2c8;try{let _0x1494b7=await this['repository']['automateSystem']['findOrCreate'](this['instance']['wuid']),_0xb395fc=_0x2504f3[_0x33ccf1(0x286)]?_0x1494b7[_0x33ccf1(0x340)][_0x33ccf1(0x29a)](_0x2bbda8=>_0x2bbda8[_0x33ccf1(0x286)]===_0x2504f3['_id']):-0x1,_0x3dbdd0=!0x1,_0x2bbccc=_0x1494b7['customFields'][_0x33ccf1(0x2f7)](_0x4fe01f=>_0x4fe01f[_0x33ccf1(0x11c)]===_0x2504f3[_0x33ccf1(0x11c)]);if(_0x2504f3['delete']&&_0xb395fc>-0x1)_0x1494b7[_0x33ccf1(0x340)][_0x33ccf1(0x1cf)](_0xb395fc,0x1),_0x3dbdd0=!0x0;else{if(_0xb395fc>-0x1){if(_0x1494b7[_0x33ccf1(0x340)][_0x33ccf1(0x2f7)](_0x134a3b=>_0x134a3b['name']===_0x2504f3[_0x33ccf1(0x2cb)]&&_0x134a3b['_id']!==_0x2504f3[_0x33ccf1(0x286)]))throw new Error(_0x33ccf1(0x48f));let _0x34dd14=_0x1494b7[_0x33ccf1(0x340)][_0xb395fc];_0x2504f3[_0x33ccf1(0x11c)]&&(_0x2bbccc||!Number[_0x33ccf1(0x564)](_0x2504f3[_0x33ccf1(0x11c)]))&&(_0x34dd14[_0x33ccf1(0x11c)]=_0x2504f3['order'],_0x3dbdd0=!0x0),_0x2504f3[_0x33ccf1(0x2cb)]&&(_0x34dd14['name']=_0x2504f3['name']);}else{if(_0x1494b7['customFields'][_0x33ccf1(0x2f7)](_0x2ab95c=>_0x2ab95c[_0x33ccf1(0x2cb)]===_0x2504f3['name']&&_0x2ab95c[_0x33ccf1(0x286)]!==_0x2504f3[_0x33ccf1(0x286)]))throw new Error(_0x33ccf1(0x48f));_0x1494b7['customFields'][_0x33ccf1(0x6b3)]({'_id':_0x2504f3[_0x33ccf1(0x286)]||new he[(_0x33ccf1(0x66b))][(_0x33ccf1(0x42a))][(_0x33ccf1(0x388))]()[_0x33ccf1(0x1ee)](),'order':_0x2504f3[_0x33ccf1(0x11c)],'name':_0x2504f3[_0x33ccf1(0x2cb)]}),_0x3dbdd0=!0x0;}}if(_0x3dbdd0){_0x1494b7['customFields']['sort']((_0x16194e,_0xb645bd)=>_0x16194e['order']>_0xb645bd['order']?0x1:_0xb645bd[_0x33ccf1(0x11c)]>_0x16194e[_0x33ccf1(0x11c)]?-0x1:0x0);for(let _0x4cbcb9=0x0;_0x4cbcb9<_0x1494b7[_0x33ccf1(0x340)][_0x33ccf1(0x4a3)];_0x4cbcb9++)_0x1494b7[_0x33ccf1(0x340)][_0x4cbcb9][_0x33ccf1(0x11c)]=_0x4cbcb9+0x1;}let _0xdf23aa=await this[_0x33ccf1(0x70e)][_0x33ccf1(0x477)][_0x33ccf1(0x748)](_0x1494b7,this[_0x33ccf1(0x31b)]['wuid']);return this[_0x33ccf1(0x1ed)]=_0xdf23aa,this['logger'][_0x33ccf1(0x470)](this[_0x33ccf1(0x12b)]+'\x20('+this[_0x33ccf1(0x31b)]['wuid']+_0x33ccf1(0x303)),this[_0x33ccf1(0x4ad)][_0x33ccf1(0x470)](this[_0x33ccf1(0x12b)]+'\x20('+this[_0x33ccf1(0x31b)]['wuid']+'):\x20'+this[_0x33ccf1(0x1ed)]),_0xdf23aa;}catch(_0x565d91){let _0x1b846f=_0x33ccf1(0x65f),_0x7115a7=_0x565d91 instanceof Error?_0x565d91[_0x33ccf1(0x659)]:typeof _0x565d91==_0x33ccf1(0x72b)?JSON[_0x33ccf1(0x2e3)](_0x565d91):_0x565d91,_0x17033f=_0x1b846f+':\x20'+_0x7115a7;throw this[_0x33ccf1(0x4ad)][_0x33ccf1(0x295)](this[_0x33ccf1(0x12b)]+'\x20('+this[_0x33ccf1(0x31b)]['wuid']+_0x33ccf1(0x12a)+_0x17033f),new m(_0x17033f);}}async[a0_0x22f2c8(0x6d3)](_0x387b8d){const _0x23640b=a0_0x22f2c8;try{let _0x4b9a8d=await this[_0x23640b(0x70e)][_0x23640b(0x477)][_0x23640b(0x44c)](this['instance'][_0x23640b(0x699)]),_0x327b5c=_0x4b9a8d?.[_0x23640b(0x581)]?.[_0x23640b(0x29a)](_0x599f4b=>_0x599f4b[_0x23640b(0x286)]===_0x387b8d?.[_0x23640b(0x286)]);if(_0x387b8d?.[_0x23640b(0x192)])_0x327b5c>-0x1&&_0x4b9a8d?.[_0x23640b(0x581)]?.[_0x23640b(0x1cf)](_0x327b5c,0x1);else{if(_0x327b5c>-0x1){let _0x3d0907=_0x4b9a8d['autoCompleteMessages'][_0x327b5c];_0x3d0907[_0x23640b(0x11c)]=_0x387b8d?.[_0x23640b(0x11c)]||_0x3d0907[_0x23640b(0x11c)],_0x3d0907[_0x23640b(0xe1)]=_0x387b8d?.[_0x23640b(0xe1)]||_0x3d0907[_0x23640b(0xe1)],_0x3d0907[_0x23640b(0x659)]=_0x387b8d?.['message']||_0x3d0907[_0x23640b(0x659)];}else{let _0x25ff15={'_id':_0x387b8d?.[_0x23640b(0x286)]||new he['default'][(_0x23640b(0x42a))]['ObjectId']()[_0x23640b(0x1ee)](),'order':_0x387b8d?.['order'],'command':_0x387b8d?.['command'],'message':_0x387b8d?.[_0x23640b(0x659)]};_0x4b9a8d?.['autoCompleteMessages']?.[_0x23640b(0x6b3)](_0x25ff15);}}_0x4b9a8d?.[_0x23640b(0x581)]?.[_0x23640b(0x1e3)]((_0x23f58e,_0x3379a4)=>_0x23f58e[_0x23640b(0x11c)]-_0x3379a4[_0x23640b(0x11c)]);let _0x5133fb=await this[_0x23640b(0x70e)]['automateSystem'][_0x23640b(0x748)](_0x4b9a8d,this['instance'][_0x23640b(0x699)]);return this['AutomateSystem']=_0x5133fb,this[_0x23640b(0x4ad)][_0x23640b(0x470)](this[_0x23640b(0x12b)]+'\x20('+this['instance'][_0x23640b(0x699)]+_0x23640b(0x303)),_0x5133fb;}catch(_0x512fb9){let _0x1f4b73=_0x23640b(0x498),_0xd6b71b=_0x512fb9 instanceof Error?_0x512fb9[_0x23640b(0x659)]:typeof _0x512fb9=='object'?JSON[_0x23640b(0x2e3)](_0x512fb9):_0x512fb9,_0x3471f3=_0x1f4b73+':\x20'+_0xd6b71b;throw this['logger'][_0x23640b(0x295)](this['instanceName']+'\x20('+this[_0x23640b(0x31b)][_0x23640b(0x699)]+_0x23640b(0x12a)+_0x3471f3),new m(_0x3471f3);}}async[a0_0x22f2c8(0x507)](_0x59e585){const _0x578cb0=a0_0x22f2c8;try{let _0x574ea2=await this[_0x578cb0(0x70e)][_0x578cb0(0x477)][_0x578cb0(0x44c)](this[_0x578cb0(0x31b)]['wuid']);if(!_0x574ea2)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x434fc2={'_id':_0x574ea2['_id'],'flowConfig':{'enabled':_0x59e585[_0x578cb0(0x4e0)]??_0x574ea2[_0x578cb0(0x611)][_0x578cb0(0x4e0)],'ignoreGroups':_0x59e585[_0x578cb0(0x4a7)]??_0x574ea2[_0x578cb0(0x611)][_0x578cb0(0x4a7)],'stopConversation':_0x59e585[_0x578cb0(0x450)][_0x578cb0(0x181)]()??_0x574ea2['flowConfig'][_0x578cb0(0x450)][_0x578cb0(0x181)](),'stopMinutes':_0x59e585['stopMinutes']??_0x574ea2[_0x578cb0(0x611)][_0x578cb0(0x5d8)],'stopWhenYouSendMsg':_0x59e585[_0x578cb0(0x712)]??_0x574ea2['flowConfig'][_0x578cb0(0x712)]}},_0x323ab2=await this[_0x578cb0(0x70e)][_0x578cb0(0x477)][_0x578cb0(0x748)](_0x434fc2,this[_0x578cb0(0x31b)][_0x578cb0(0x699)]);return this['AutomateSystem']=_0x323ab2,this[_0x578cb0(0x4ad)][_0x578cb0(0x470)](this[_0x578cb0(0x12b)]+'\x20('+this[_0x578cb0(0x31b)][_0x578cb0(0x699)]+_0x578cb0(0x530)),this[_0x578cb0(0x4ad)]['verbose'](this[_0x578cb0(0x12b)]+'\x20('+this[_0x578cb0(0x31b)][_0x578cb0(0x699)]+_0x578cb0(0x12a)+this[_0x578cb0(0x1ed)]),setTimeout(()=>this[_0x578cb0(0x2f8)](),0x7d0),_0x323ab2;}catch(_0x3f506e){let _0x55ba30=_0x578cb0(0x273),_0x210128=_0x3f506e instanceof Error?_0x3f506e['message']:typeof _0x3f506e=='object'?JSON['stringify'](_0x3f506e):_0x3f506e,_0x57400f=_0x55ba30+':\x20'+_0x210128;throw this[_0x578cb0(0x4ad)][_0x578cb0(0x295)](this[_0x578cb0(0x12b)]+'\x20('+this[_0x578cb0(0x31b)][_0x578cb0(0x699)]+_0x578cb0(0x12a)+_0x57400f),new m(_0x57400f);}}async['getAutomateSystem'](){const _0x38bec3=a0_0x22f2c8;try{let _0x27be05=await this[_0x38bec3(0x70e)]['automateSystem']['findOrCreate'](this['instance'][_0x38bec3(0x699)]);return this[_0x38bec3(0x1ed)]=_0x27be05,_0x27be05;}catch(_0x19dab3){let _0x2d0c8c=_0x38bec3(0x5bc),_0x10f8e3=_0x19dab3 instanceof Error?_0x19dab3['message']:typeof _0x19dab3==_0x38bec3(0x72b)?JSON['stringify'](_0x19dab3):_0x19dab3,_0x4fb2de=_0x2d0c8c+':\x20'+_0x10f8e3;throw this['logger']['error'](this[_0x38bec3(0x12b)]+'\x20('+this['instance'][_0x38bec3(0x699)]+_0x38bec3(0x12a)+_0x4fb2de),new m(_0x4fb2de);}}async['initializeQueue'](){const _0x99a888=a0_0x22f2c8;let _0x4d4dc9=(await import(_0x99a888(0x25c)))[_0x99a888(0x66b)];this[_0x99a888(0x206)]=new _0x4d4dc9({'concurrency':0x1});}async[a0_0x22f2c8(0x594)](){const _0x477dc8=a0_0x22f2c8;this['instance'][_0x477dc8(0x234)][_0x477dc8(0x54f)]&&clearTimeout(this[_0x477dc8(0x31b)][_0x477dc8(0x234)][_0x477dc8(0x54f)]),this[_0x477dc8(0x31b)][_0x477dc8(0x234)]['timeout']=setTimeout(()=>{const _0xceb68f=_0x477dc8;this[_0xceb68f(0x38e)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x22f2c8(0x38e)](){const _0x1aae15=a0_0x22f2c8;let _0x5b855d=this[_0x1aae15(0x31b)]['ScheduleMessage']['lastSend'];(_0x5b855d===0x0||_0x5b855d===null||Date[_0x1aae15(0x4f1)]()-_0x5b855d>=0x1d4c0)&&(this[_0x1aae15(0x4ad)][_0x1aae15(0x470)](this[_0x1aae15(0x12b)]+'\x20('+this[_0x1aae15(0x31b)][_0x1aae15(0x699)]+_0x1aae15(0x728)),this['instance'][_0x1aae15(0x234)][_0x1aae15(0x79e)]=null,this[_0x1aae15(0x31b)][_0x1aae15(0x234)][_0x1aae15(0x68f)]=0x0,this[_0x1aae15(0x31b)][_0x1aae15(0x234)][_0x1aae15(0x359)]=0x0,await this['scheduleNextCheck']());}async[a0_0x22f2c8(0x2f8)](){const _0x1019cf=a0_0x22f2c8;this[_0x1019cf(0x4ad)][_0x1019cf(0x542)](this[_0x1019cf(0x12b)]+'\x20('+this[_0x1019cf(0x31b)][_0x1019cf(0x699)]+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x1019cf(0x70a)]();let _0x3b12eb=await this[_0x1019cf(0x5f3)]();_0x3b12eb[_0x1019cf(0x4a3)]>0x0&&this['queue'][_0x1019cf(0xda)](()=>this[_0x1019cf(0x25e)](_0x3b12eb));let _0x1ca520={'where':{'status':_0x1019cf(0x311),'when':{'$gt':Date['now']()}}},_0xf16430=await this['repository']['scheduleMessage'][_0x1019cf(0x239)](_0x1ca520,this['instance'][_0x1019cf(0x699)]);_0xf16430&&_0xf16430[_0x1019cf(0x784)]-Date[_0x1019cf(0x4f1)]()<=0x6ddd00?this[_0x1019cf(0x31b)][_0x1019cf(0x234)][_0x1019cf(0x359)]=_0xf16430[_0x1019cf(0x784)]-Date[_0x1019cf(0x4f1)]():this['instance']['ScheduleMessage'][_0x1019cf(0x359)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x1019cf(0x31b)]['ScheduleMessage'][_0x1019cf(0x359)]=Math[_0x1019cf(0x57b)](this[_0x1019cf(0x31b)][_0x1019cf(0x234)][_0x1019cf(0x359)],0x1*0x2*0x3e8);let _0x581c1c=Math['round'](this[_0x1019cf(0x31b)]['ScheduleMessage'][_0x1019cf(0x359)]/0xea60);if(_0xf16430){let _0x3e5a2e=new Date(_0xf16430[_0x1019cf(0x784)])[_0x1019cf(0x6ac)]();this[_0x1019cf(0x4ad)][_0x1019cf(0x542)](this[_0x1019cf(0x12b)]+'\x20('+this[_0x1019cf(0x31b)][_0x1019cf(0x699)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x3e5a2e+_0x1019cf(0x766)+_0x581c1c+_0x1019cf(0x1e8));}else this[_0x1019cf(0x4ad)][_0x1019cf(0x542)](this[_0x1019cf(0x12b)]+'\x20('+this[_0x1019cf(0x31b)]['wuid']+_0x1019cf(0x686)+_0x581c1c+_0x1019cf(0x1e8));setTimeout(()=>{const _0x4ea2fe=_0x1019cf;this[_0x4ea2fe(0x2f8)]();},this['instance'][_0x1019cf(0x234)][_0x1019cf(0x359)]);}async['getReadyToSendMessages'](){const _0x4713b4=a0_0x22f2c8;this[_0x4713b4(0x4ad)][_0x4713b4(0x542)](this['instanceName']+'\x20('+this[_0x4713b4(0x31b)][_0x4713b4(0x699)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x353a24=Date[_0x4713b4(0x4f1)]()-0xc*0x3c*0x3c*0x3e8,_0x99bc8c={'where':{'status':{'$in':[_0x4713b4(0x311),_0x4713b4(0xba)]},'$or':[{'when':{'$lte':Date[_0x4713b4(0x4f1)](),'$gte':_0x353a24}},{'when':0x0}]}},_0x253c53=await this[_0x4713b4(0x70e)][_0x4713b4(0xf8)][_0x4713b4(0xe9)](_0x99bc8c,this['instance'][_0x4713b4(0x699)]);return this['logger'][_0x4713b4(0x542)](this[_0x4713b4(0x12b)]+'\x20('+this[_0x4713b4(0x31b)]['wuid']+_0x4713b4(0x335)+_0x253c53['length']),_0x253c53;}async[a0_0x22f2c8(0x25e)](_0x7d95e0){const _0x2c014f=a0_0x22f2c8;let _0x5556d0=Math[_0x2c014f(0x2a5)](Math[_0x2c014f(0x2de)]()*0x1389)+0xbb8,_0x115e7f=()=>this[_0x2c014f(0x414)][_0x2c014f(0x4a3)]===0x0?null:this[_0x2c014f(0x414)][_0x2c014f(0x6ee)]((_0x5b4415,_0x27b072)=>(_0x5b4415[_0x2c014f(0x11c)]??Number[_0x2c014f(0x791)])<(_0x27b072[_0x2c014f(0x11c)]??Number[_0x2c014f(0x791)])?_0x5b4415:_0x27b072,this[_0x2c014f(0x414)][0x0]);for(let _0x1d935f of _0x7d95e0){let _0x3ef036={'_id':_0x1d935f[_0x2c014f(0x286)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0xbb8}}]},_0x2dc005={'startSend':Date[_0x2c014f(0x4f1)](),'status':_0x2c014f(0xba)},_0x5db1e6=await this[_0x2c014f(0x70e)][_0x2c014f(0xf8)][_0x2c014f(0x365)](_0x3ef036,_0x2dc005,this[_0x2c014f(0x31b)][_0x2c014f(0x699)]);if(!_0x5db1e6)continue;if(!this[_0x2c014f(0x31b)][_0x2c014f(0x234)][_0x2c014f(0x4ff)]){this[_0x2c014f(0x4ad)][_0x2c014f(0x542)](this['instanceName']+'\x20('+this['instance'][_0x2c014f(0x699)]+_0x2c014f(0x3b6));break;}for(this[_0x2c014f(0x414)]=_0x1d935f[_0x2c014f(0x282)][_0x2c014f(0x4e7)](_0x45bda5=>!_0x45bda5[_0x2c014f(0x601)]),this[_0x2c014f(0x31b)][_0x2c014f(0x234)][_0x2c014f(0x79e)]=_0x5db1e6;this[_0x2c014f(0x414)][_0x2c014f(0x4a3)]>0x0;){await this[_0x2c014f(0x594)]();let _0x4a3ad4=_0x115e7f();if(!_0x4a3ad4)break;let _0x45f348=_0x1d935f[_0x2c014f(0x282)][_0x2c014f(0xe9)](_0xa65854=>_0xa65854[_0x2c014f(0x286)]===_0x4a3ad4[_0x2c014f(0x286)]);if(!_0x45f348)break;if(this['instance']['ScheduleMessage'][_0x2c014f(0x68f)]=Date[_0x2c014f(0x4f1)](),_0x45f348[_0x2c014f(0x601)]){this['logger']['warn'](this[_0x2c014f(0x12b)]+'\x20('+this['instance'][_0x2c014f(0x699)]+_0x2c014f(0x7cb)+_0x45f348[_0x2c014f(0x22b)]+'.\x20Pulando.'),this[_0x2c014f(0x414)]=this[_0x2c014f(0x414)]['filter'](_0x3da54f=>_0x3da54f[_0x2c014f(0x286)]!==_0x45f348[_0x2c014f(0x286)]);continue;}if(!this[_0x2c014f(0x31b)][_0x2c014f(0x234)]['isConnected']){this[_0x2c014f(0x4ad)][_0x2c014f(0x542)](this[_0x2c014f(0x12b)]+'\x20('+this[_0x2c014f(0x31b)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this['instance'][_0x2c014f(0x234)][_0x2c014f(0x79e)]){this[_0x2c014f(0x4ad)][_0x2c014f(0x542)](this[_0x2c014f(0x12b)]+'\x20('+this['instance']['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x1d935f['_id']+_0x2c014f(0x314));break;}let _0x299a47={'idControl':_0x45f348['_id'],'remoteJid':_0x45f348[_0x2c014f(0x22b)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x2c014f(0x4f1)]()},_0x58b37e=null;try{this[_0x2c014f(0x4ad)][_0x2c014f(0x542)](this[_0x2c014f(0x12b)]+'\x20('+this[_0x2c014f(0x31b)][_0x2c014f(0x699)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x45f348[_0x2c014f(0x22b)]);let _0x878ff4=await this['SendScheduleMessage'](_0x45f348[_0x2c014f(0x22b)],_0x45f348);_0x299a47[_0x2c014f(0x295)]=_0x878ff4[_0x2c014f(0x295)],_0x299a47['id']=_0x878ff4[_0x2c014f(0x295)]?null:_0x878ff4['id'],_0x299a47[_0x2c014f(0x4a2)]=_0x878ff4[_0x2c014f(0x295)]?_0x878ff4['detail']?_0x878ff4[_0x2c014f(0x61d)][_0x2c014f(0x1ee)]():'':null;let _0x8ce029=_0x1d935f['messages']['findIndex'](_0x3ab789=>_0x3ab789['_id']===_0x45f348[_0x2c014f(0x286)]);_0x8ce029!==-0x1&&(_0x1d935f['messages'][_0x8ce029][_0x2c014f(0x601)]=!0x0);let _0x3e98d9={'$push':{'messagesSend':_0x299a47},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x8aaead=[{'elem._id':_0x45f348[_0x2c014f(0x286)]}];if(this[_0x2c014f(0x4ad)][_0x2c014f(0x542)](this[_0x2c014f(0x12b)]+'\x20('+this[_0x2c014f(0x31b)][_0x2c014f(0x699)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x45f348[_0x2c014f(0x286)]),_0x58b37e=await this[_0x2c014f(0x70e)][_0x2c014f(0xf8)][_0x2c014f(0x365)]({'_id':_0x1d935f[_0x2c014f(0x286)]},_0x3e98d9,this[_0x2c014f(0x31b)][_0x2c014f(0x699)],{'arrayFilters':_0x8aaead}),_0x878ff4[_0x2c014f(0x295)]){this['logger'][_0x2c014f(0x295)](this[_0x2c014f(0x12b)]+'\x20('+this[_0x2c014f(0x31b)][_0x2c014f(0x699)]+_0x2c014f(0x653)+_0x878ff4['detail']);continue;}let _0x180ccb=this[_0x2c014f(0x602)](_0x1d935f[_0x2c014f(0x2ac)],_0x1d935f['delaySecMax']);await this[_0x2c014f(0x7c6)](_0x180ccb);}catch(_0x3bc160){this[_0x2c014f(0x4ad)]['error'](this[_0x2c014f(0x12b)]+'\x20('+this[_0x2c014f(0x31b)][_0x2c014f(0x699)]+_0x2c014f(0x7a5)+_0x45f348[_0x2c014f(0x22b)]+':\x20'+(_0x3bc160 instanceof Error?_0x3bc160['message']:JSON[_0x2c014f(0x2e3)](_0x3bc160,null,0x2))),_0x299a47[_0x2c014f(0x295)]=!0x0,_0x299a47[_0x2c014f(0x4a2)]=_0x3bc160[_0x2c014f(0x659)];let _0xf9d2c3=_0x1d935f[_0x2c014f(0x282)][_0x2c014f(0x29a)](_0x4f495f=>_0x4f495f[_0x2c014f(0x286)]===_0x45f348['_id']);_0xf9d2c3!==-0x1&&(_0x1d935f[_0x2c014f(0x282)][_0xf9d2c3][_0x2c014f(0x601)]=!0x0);let _0x192ed7={'$push':{'messagesSend':_0x299a47},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5ad174=[{'elem._id':_0x45f348[_0x2c014f(0x286)]}];this[_0x2c014f(0x4ad)]['warn'](this[_0x2c014f(0x12b)]+'\x20('+this[_0x2c014f(0x31b)][_0x2c014f(0x699)]+_0x2c014f(0x244)+_0x45f348['_id']),_0x58b37e=await this[_0x2c014f(0x70e)]['scheduleMessage'][_0x2c014f(0x365)]({'_id':_0x1d935f['_id']},_0x192ed7,this[_0x2c014f(0x31b)]['wuid'],{'arrayFilters':_0x5ad174});}finally{if(_0x58b37e&&_0x58b37e[_0x2c014f(0x3fe)]===_0x2c014f(0x768)){this[_0x2c014f(0x4ad)][_0x2c014f(0x542)](this[_0x2c014f(0x12b)]+'\x20('+this['instance'][_0x2c014f(0x699)]+_0x2c014f(0x770)+_0x45f348[_0x2c014f(0x286)]+_0x2c014f(0x1b0));break;}let _0x4e2746=_0x58b37e[_0x2c014f(0x282)][_0x2c014f(0xe9)](_0x13a13e=>_0x13a13e[_0x2c014f(0x286)]===_0x45f348[_0x2c014f(0x286)]);if(_0x4e2746&&!_0x4e2746['triedToSend']){let _0x41df2d={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x45a49f=[{'elem._id':_0x45f348[_0x2c014f(0x286)]}];await this['repository'][_0x2c014f(0xf8)][_0x2c014f(0x365)]({'_id':_0x58b37e[_0x2c014f(0x286)]},_0x41df2d,this[_0x2c014f(0x31b)][_0x2c014f(0x699)],{'arrayFilters':_0x45a49f});}this['pendingMessages']=_0x58b37e['messages'][_0x2c014f(0x4e7)](_0x19233d=>!_0x19233d[_0x2c014f(0x601)]),this[_0x2c014f(0x31b)][_0x2c014f(0x234)][_0x2c014f(0x79e)]=_0x58b37e;}}this[_0x2c014f(0x414)]=[];let _0x532cfd=await this['repository'][_0x2c014f(0xf8)][_0x2c014f(0x2e1)](_0x1d935f['_id'],this[_0x2c014f(0x31b)][_0x2c014f(0x699)]);if(_0x532cfd['messages']['every'](_0x3b4b41=>_0x3b4b41[_0x2c014f(0x601)])&&_0x532cfd[_0x2c014f(0x3fe)]!=='stopped'){let _0xfa9721={'$set':{'status':'done'}};await this[_0x2c014f(0x70e)][_0x2c014f(0xf8)][_0x2c014f(0x489)](_0x532cfd[_0x2c014f(0x286)],_0xfa9721,this['instance']['wuid']);}await new Promise(_0x186534=>setTimeout(_0x186534,_0x5556d0)),global['gc']?global['gc']():console[_0x2c014f(0x542)](_0x2c014f(0x2e6));}}['getDelay'](_0xaecdb7,_0x3e7606){const _0x29b864=a0_0x22f2c8;return _0xaecdb7=Math['max'](0.5,_0xaecdb7),_0x3e7606=Math[_0x29b864(0x309)](Math[_0x29b864(0x57b)](0x3,_0x3e7606),0x78),Math[_0x29b864(0x2a5)](Math[_0x29b864(0x2de)]()*(_0x3e7606-_0xaecdb7+0x1)+_0xaecdb7)*0x3e8;}['sleep'](_0x31ced5){return new Promise(_0x2c8963=>setTimeout(_0x2c8963,_0x31ced5));}async['getVariablesChat'](_0x4d96a1){const _0x59efff=a0_0x22f2c8;if(!this['AutomateSystem']&&(await this[_0x59efff(0x35a)](),!this[_0x59efff(0x1ed)]))return null;_0x4d96a1=this[_0x59efff(0x523)](_0x4d96a1);let _0x4b6e76=await this[_0x59efff(0x70e)]['chat'][_0x59efff(0x239)]({'where':{'_id':_0x4d96a1}},this[_0x59efff(0x31b)][_0x59efff(0x699)]),_0x54cade={};if(_0x4b6e76&&_0x4b6e76[_0x59efff(0x3be)]){let _0x43d1b7=_0x4b6e76[_0x59efff(0x3be)];typeof _0x43d1b7[_0x59efff(0x1dd)]==_0x59efff(0x671)&&(_0x54cade['nome']=_0x43d1b7[_0x59efff(0x1dd)]),typeof _0x43d1b7[_0x59efff(0x11b)]==_0x59efff(0x671)&&(_0x54cade[_0x59efff(0x11b)]=_0x43d1b7[_0x59efff(0x11b)]),typeof _0x43d1b7[_0x59efff(0x405)]==_0x59efff(0x671)&&(_0x54cade[_0x59efff(0x405)]=_0x43d1b7[_0x59efff(0x405)]),typeof _0x43d1b7[_0x59efff(0x526)]==_0x59efff(0x671)&&(_0x54cade[_0x59efff(0x526)]=_0x43d1b7[_0x59efff(0x526)]),typeof _0x43d1b7[_0x59efff(0x3fe)]==_0x59efff(0x671)&&(_0x54cade['status']=_0x43d1b7['status']),typeof _0x43d1b7['notas']=='string'&&(_0x54cade[_0x59efff(0x7d1)]=_0x43d1b7[_0x59efff(0x7d1)]),typeof _0x43d1b7[_0x59efff(0x35f)]==_0x59efff(0x671)&&(_0x54cade[_0x59efff(0x35f)]=_0x43d1b7[_0x59efff(0x35f)]),Array[_0x59efff(0x289)](_0x43d1b7[_0x59efff(0x28e)])&&(_0x54cade['tags']=_0x43d1b7['tags'][_0x59efff(0x640)](',\x20')),Array[_0x59efff(0x289)](_0x43d1b7['etiquetas'])&&(_0x54cade[_0x59efff(0x724)]=_0x43d1b7['etiquetas'][_0x59efff(0x640)](',\x20'));}return _0x4b6e76&&_0x4b6e76[_0x59efff(0x3be)]&&_0x4b6e76[_0x59efff(0x3be)]['customFields']&&_0x4b6e76[_0x59efff(0x3be)][_0x59efff(0x340)]['forEach'](_0x364989=>{const _0xe4fac4=_0x59efff;let _0x55e82a=this['AutomateSystem']?.[_0xe4fac4(0x340)][_0xe4fac4(0xe9)](_0x444be9=>_0x444be9[_0xe4fac4(0x286)]===_0x364989[_0xe4fac4(0x286)]);_0x55e82a&&(_0x54cade[_0x55e82a[_0xe4fac4(0x2cb)]]=_0x364989[_0xe4fac4(0x502)]);}),_0x54cade;}async[a0_0x22f2c8(0x45d)](_0x24503e,_0x50df66){const _0x5dc8f7=a0_0x22f2c8;try{let _0x31e664=await this[_0x5dc8f7(0x2eb)](_0x50df66);return this[_0x5dc8f7(0x74a)](_0x24503e,_0x31e664);}catch(_0x4c298e){return this['logger'][_0x5dc8f7(0x295)](_0x5dc8f7(0x4cc)+_0x50df66+':\x20'+_0x4c298e),_0x24503e;}}async[a0_0x22f2c8(0x70a)](){const _0x22eb08=a0_0x22f2c8;let _0x252f4d=async(_0x259a69,_0x1c3e59)=>{const _0x1b2200=a0_0x2beb;let _0x56c53a=(await this[_0x1b2200(0x70e)][_0x1b2200(0xf8)][_0x1b2200(0xe9)]({'where':{'type':_0x259a69}},this['instance'][_0x1b2200(0x699)]))[_0x1b2200(0x657)](async _0x2c68c2=>{const _0x396600=_0x1b2200;let _0x383ec9=_0x1c3e59(_0x2c68c2),_0x113a11=_0x210187=>/^\d+$/[_0x396600(0x73c)](_0x210187),_0x4a8e9d=_0x2c68c2[_0x396600(0x62c)]['filter'](_0x11dad3=>_0x11dad3[_0x396600(0x503)]('@s.whatsapp.net')?_0x11dad3['length']>0x19:_0x11dad3[_0x396600(0x503)](_0x396600(0x227))?_0x11dad3['length']>0xf:_0x113a11(_0x11dad3)?_0x11dad3[_0x396600(0x4a3)]>=0xb:!0x1)[_0x396600(0x657)](_0xd1b3b9=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x2c68c2[_0x396600(0x286)],'type':_0x383ec9,'remoteJid':_0xd1b3b9,'flow':_0x2c68c2[_0x396600(0x3d4)],'text':_0x2c68c2[_0x396600(0x659)]?.['text'],'delay':_0x2c68c2[_0x396600(0x659)]?.[_0x396600(0x3f2)],'urlOrBase64':_0x2c68c2['message']?.[_0x396600(0x535)],'linkPreview':_0x2c68c2[_0x396600(0x659)]?.[_0x396600(0x384)],'fileName':_0x2c68c2[_0x396600(0x659)]?.[_0x396600(0x252)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x396600(0x70e)][_0x396600(0xf8)][_0x396600(0x489)](_0x2c68c2[_0x396600(0x286)],{'$set':{'messages':_0x4a8e9d},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x396600(0x31b)][_0x396600(0x699)]);}catch(_0x4ea7e7){console[_0x396600(0x295)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x2c68c2[_0x396600(0x286)]+':',_0x4ea7e7);}});await Promise[_0x1b2200(0x65b)](_0x56c53a);};await _0x252f4d(_0x22eb08(0x20c),_0x55c437=>'text'),await _0x252f4d(_0x22eb08(0x787),_0x5a2cdb=>_0x5a2cdb[_0x22eb08(0x659)]?.[_0x22eb08(0x312)]||'media'),await _0x252f4d(_0x22eb08(0x524),_0x27769a=>_0x22eb08(0x524)),await _0x252f4d('flow',_0x52bfa9=>'flow'),await _0x252f4d(_0x22eb08(0x5c3),_0x43d331=>'image'),await _0x252f4d(_0x22eb08(0x1b8),_0x3d2616=>'video'),await _0x252f4d(_0x22eb08(0x6f0),_0x5ebb73=>_0x22eb08(0x6f0)),this[_0x22eb08(0x4ad)][_0x22eb08(0x542)](this['instanceName']+'\x20('+this['instance'][_0x22eb08(0x699)]+_0x22eb08(0x1b7));}async[a0_0x22f2c8(0x5bb)](_0x48594a){const _0x50c6d0=a0_0x22f2c8;try{if(this[_0x50c6d0(0x4ad)]['warn'](this[_0x50c6d0(0x12b)]+'\x20('+this[_0x50c6d0(0x31b)][_0x50c6d0(0x699)]+_0x50c6d0(0x207)),_0x48594a[_0x50c6d0(0x286)]||(_0x48594a[_0x50c6d0(0x286)]=(0x0,X['v4'])()),this[_0x50c6d0(0x31b)][_0x50c6d0(0x234)][_0x50c6d0(0x79e)]?.[_0x50c6d0(0x286)]===_0x48594a[_0x50c6d0(0x286)]?.[_0x50c6d0(0x1ee)]()){if(_0x48594a['status']===_0x50c6d0(0x768))this[_0x50c6d0(0x31b)][_0x50c6d0(0x234)][_0x50c6d0(0x79e)]=null;else throw new Error(_0x50c6d0(0x39c));}if(_0x48594a[_0x50c6d0(0x192)]&&_0x48594a[_0x50c6d0(0x286)]){let _0xdcb0f3=await this[_0x50c6d0(0x70e)][_0x50c6d0(0xf8)][_0x50c6d0(0x574)](_0x48594a[_0x50c6d0(0x286)],this['instance'][_0x50c6d0(0x699)]);return setTimeout(()=>this[_0x50c6d0(0x2f8)](),0x7d0),_0xdcb0f3;}let _0x3481f5=null;if(_0x48594a['_id']&&(_0x3481f5=await this[_0x50c6d0(0x70e)][_0x50c6d0(0xf8)][_0x50c6d0(0x2e1)](_0x48594a['_id'],this['instance']['wuid'])),_0x3481f5){let {_id:_0x1e4a61,owner:_0x44e83a,messages:_0x4ee54d,..._0x46d77d}=_0x48594a;if(_0x4ee54d){let _0x161c1b=_0x4ee54d[_0x50c6d0(0x4e7)](_0x3c9e48=>!_0x3c9e48['_id']),_0x1da65e=_0x4ee54d['filter'](_0x17ae85=>_0x17ae85[_0x50c6d0(0x286)]&&!_0x17ae85[_0x50c6d0(0x192)]),_0x385a0a=_0x4ee54d[_0x50c6d0(0x4e7)](_0x48931b=>_0x48931b['_id']&&_0x48931b[_0x50c6d0(0x192)]);if(_0x161c1b['length']>0x0&&await this[_0x50c6d0(0x65d)](_0x48594a[_0x50c6d0(0x286)],_0x161c1b),_0x1da65e[_0x50c6d0(0x4a3)]>0x0&&await this[_0x50c6d0(0x45b)]({'_id':_0x48594a[_0x50c6d0(0x286)],'messages':_0x1da65e}),_0x385a0a[_0x50c6d0(0x4a3)]>0x0){let _0x564886=_0x385a0a[_0x50c6d0(0x657)](_0x143ccd=>({'updateOne':{'filter':{'_id':_0x48594a['_id']},'update':{'$pull':{'messages':{'_id':_0x143ccd[_0x50c6d0(0x286)]}}}}}));await this[_0x50c6d0(0x70e)][_0x50c6d0(0xf8)][_0x50c6d0(0x2fb)](_0x564886,this['instance'][_0x50c6d0(0x699)]);}}let _0x37e0be={'$set':{..._0x46d77d,'status':_0x48594a['status']||_0x3481f5[_0x50c6d0(0x3fe)]}},_0x8a5598=await this[_0x50c6d0(0x70e)]['scheduleMessage'][_0x50c6d0(0x489)](_0x48594a[_0x50c6d0(0x286)],_0x37e0be,this[_0x50c6d0(0x31b)]['wuid']);return _0x8a5598&&(this[_0x50c6d0(0x3b0)](_0x8a5598['messages']),await this[_0x50c6d0(0x70e)][_0x50c6d0(0xf8)][_0x50c6d0(0x489)](_0x8a5598['_id'],{'$set':{'messages':_0x8a5598[_0x50c6d0(0x282)]}},this[_0x50c6d0(0x31b)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x50c6d0(0x70a)](),_0x8a5598;}else{_0x48594a[_0x50c6d0(0x58e)]=this['instance'][_0x50c6d0(0x699)],_0x48594a[_0x50c6d0(0x282)]&&_0x48594a[_0x50c6d0(0x282)][_0x50c6d0(0x317)](_0x21354c=>{const _0x181a55=_0x50c6d0;_0x21354c[_0x181a55(0x286)]||(_0x21354c[_0x181a55(0x286)]=(0x0,X['v4'])()),_0x21354c['idSchedule']||(_0x21354c['idSchedule']=_0x48594a[_0x181a55(0x286)]),delete _0x21354c[_0x181a55(0x601)];});let _0xd2af3b=await this[_0x50c6d0(0x70e)]['scheduleMessage'][_0x50c6d0(0x1bf)](_0x48594a,this[_0x50c6d0(0x31b)][_0x50c6d0(0x699)]);return _0xd2af3b&&(this[_0x50c6d0(0x3b0)](_0xd2af3b[_0x50c6d0(0x282)]),await this['repository'][_0x50c6d0(0xf8)][_0x50c6d0(0x489)](_0xd2af3b['_id'],{'$set':{'messages':_0xd2af3b[_0x50c6d0(0x282)]}},this[_0x50c6d0(0x31b)][_0x50c6d0(0x699)])),setTimeout(()=>this[_0x50c6d0(0x2f8)](),0x7d0),_0xd2af3b;}}catch(_0x333572){let _0x20c37a='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x51ef2b=_0x333572 instanceof Error?_0x333572[_0x50c6d0(0x659)]:typeof _0x333572=='object'?JSON[_0x50c6d0(0x2e3)](_0x333572):_0x333572,_0x55fa88=_0x20c37a+':\x20'+_0x51ef2b;throw this[_0x50c6d0(0x4ad)]['error'](this[_0x50c6d0(0x12b)]+'\x20('+this[_0x50c6d0(0x31b)][_0x50c6d0(0x699)]+_0x50c6d0(0x12a)+_0x55fa88),new m(_0x55fa88);}}async[a0_0x22f2c8(0x65d)](_0xc0bc78,_0x508484){const _0x430ee7=a0_0x22f2c8;try{this[_0x430ee7(0x4ad)][_0x430ee7(0x470)](this[_0x430ee7(0x12b)]+'\x20('+this[_0x430ee7(0x31b)][_0x430ee7(0x699)]+_0x430ee7(0x4cf)),_0x508484[_0x430ee7(0x317)](_0x103499=>{const _0x45ac71=_0x430ee7;_0x103499[_0x45ac71(0x286)]||(_0x103499[_0x45ac71(0x286)]=(0x0,X['v4'])()),_0x103499['idSchedule']||(_0x103499['idSchedule']=_0xc0bc78),delete _0x103499[_0x45ac71(0x601)];});let _0x21cb4c={'$push':{'messages':{'$each':_0x508484}}},_0x2b003e=await this['repository'][_0x430ee7(0xf8)]['updateOneById'](_0xc0bc78,_0x21cb4c,this[_0x430ee7(0x31b)][_0x430ee7(0x699)]);return _0x2b003e&&(this[_0x430ee7(0x3b0)](_0x2b003e['messages']),await this[_0x430ee7(0x70e)][_0x430ee7(0xf8)][_0x430ee7(0x489)](_0x2b003e['_id'],{'$set':{'messages':_0x2b003e['messages']}},this[_0x430ee7(0x31b)][_0x430ee7(0x699)])),_0x2b003e;}catch(_0x5b32dd){let _0x1e3af0='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0xf150c7=_0x5b32dd instanceof Error?_0x5b32dd[_0x430ee7(0x659)]:typeof _0x5b32dd==_0x430ee7(0x72b)?JSON[_0x430ee7(0x2e3)](_0x5b32dd):_0x5b32dd,_0x267cbb=_0x1e3af0+':\x20'+_0xf150c7;throw this[_0x430ee7(0x4ad)][_0x430ee7(0x295)](this[_0x430ee7(0x12b)]+'\x20('+this[_0x430ee7(0x31b)][_0x430ee7(0x699)]+_0x430ee7(0x12a)+_0x267cbb),new m(_0x267cbb);}}async[a0_0x22f2c8(0x45b)](_0xd8947a){const _0x1f3c97=a0_0x22f2c8;try{if(this[_0x1f3c97(0x4ad)][_0x1f3c97(0x470)](this[_0x1f3c97(0x12b)]+'\x20('+this[_0x1f3c97(0x31b)]['wuid']+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0xd8947a[_0x1f3c97(0x286)]||!_0xd8947a[_0x1f3c97(0x282)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x161b8b=_0xd8947a[_0x1f3c97(0x286)],_0x5989c5=_0xd8947a[_0x1f3c97(0x282)],_0x1fb6a1=_0x5989c5['filter'](_0x13b51c=>!_0x13b51c['delete'])[_0x1f3c97(0x657)](_0x1cfeee=>{const _0x131577=_0x1f3c97;let _0x118902=_0x1cfeee[_0x131577(0x286)];if(!_0x118902)throw new Error(_0x131577(0x217));return _0x1cfeee[_0x131577(0x5ad)]||(_0x1cfeee['idSchedule']=_0x161b8b),delete _0x1cfeee[_0x131577(0x601)],{'updateOne':{'filter':{'_id':_0x161b8b,'messages._id':_0x118902},'update':{'$set':{'messages.$[elem]':_0x1cfeee}},'arrayFilters':[{'elem._id':_0x118902}]}};}),_0x5a0e17=_0x5989c5[_0x1f3c97(0x4e7)](_0x371f06=>_0x371f06[_0x1f3c97(0x192)])[_0x1f3c97(0x657)](_0x58fa19=>{const _0x1235f5=_0x1f3c97;let _0x4a32da=_0x58fa19[_0x1235f5(0x286)];if(!_0x4a32da)throw new Error(_0x1235f5(0x4f0));return{'updateOne':{'filter':{'_id':_0x161b8b},'update':{'$pull':{'messages':{'_id':_0x4a32da}}}}};}),_0x5bdfbe=[..._0x1fb6a1,..._0x5a0e17],_0x345617=await this[_0x1f3c97(0x70e)][_0x1f3c97(0xf8)]['bulkWrite'](_0x5bdfbe,this['instance'][_0x1f3c97(0x699)]),_0x25ceeb=await this[_0x1f3c97(0x70e)][_0x1f3c97(0xf8)]['findById'](_0x161b8b,this[_0x1f3c97(0x31b)][_0x1f3c97(0x699)]);return _0x25ceeb&&(this[_0x1f3c97(0x3b0)](_0x25ceeb[_0x1f3c97(0x282)]),await this[_0x1f3c97(0x70e)][_0x1f3c97(0xf8)]['updateOneById'](_0x25ceeb[_0x1f3c97(0x286)],{'$set':{'messages':_0x25ceeb[_0x1f3c97(0x282)]}},this[_0x1f3c97(0x31b)][_0x1f3c97(0x699)])),_0x25ceeb;}catch(_0x522d44){let _0x3d9e87=_0x1f3c97(0xc2),_0x36faa5=_0x522d44 instanceof Error?_0x522d44[_0x1f3c97(0x659)]:typeof _0x522d44==_0x1f3c97(0x72b)?JSON[_0x1f3c97(0x2e3)](_0x522d44):_0x522d44,_0x1ebc91=_0x3d9e87+':\x20'+_0x36faa5;throw this[_0x1f3c97(0x4ad)][_0x1f3c97(0x295)](this[_0x1f3c97(0x12b)]+'\x20('+this[_0x1f3c97(0x31b)][_0x1f3c97(0x699)]+_0x1f3c97(0x12a)+_0x1ebc91),new m(_0x1ebc91);}}async[a0_0x22f2c8(0x17b)](){const _0x8ec3ed=a0_0x22f2c8;try{let _0x18d163={'status':_0x8ec3ed(0x7d5)},_0x335ce7=await this[_0x8ec3ed(0x70e)]['scheduleMessage'][_0x8ec3ed(0x1a1)](_0x18d163,this['instance'][_0x8ec3ed(0x699)]);if(!_0x335ce7[_0x8ec3ed(0x295)])this['logger'][_0x8ec3ed(0x470)](this['instanceName']+'\x20('+this[_0x8ec3ed(0x31b)][_0x8ec3ed(0x699)]+_0x8ec3ed(0x473));else throw new Error(_0x335ce7['error'][_0x8ec3ed(0x659)]||_0x8ec3ed(0xad));return this[_0x8ec3ed(0x487)]();}catch(_0x339272){let _0x5662a5=_0x8ec3ed(0x69d),_0x3a70be=_0x339272 instanceof Error?_0x339272['message']:typeof _0x339272==_0x8ec3ed(0x72b)?JSON[_0x8ec3ed(0x2e3)](_0x339272):_0x339272,_0x54830a=_0x5662a5+':\x20'+_0x3a70be;throw this[_0x8ec3ed(0x4ad)][_0x8ec3ed(0x295)](this[_0x8ec3ed(0x12b)]+'\x20('+this[_0x8ec3ed(0x31b)][_0x8ec3ed(0x699)]+_0x8ec3ed(0x12a)+_0x54830a),new m(_0x54830a);}}async[a0_0x22f2c8(0x487)](){const _0x152489=a0_0x22f2c8;try{return await this[_0x152489(0x70e)][_0x152489(0xf8)][_0x152489(0xe9)]({'where':{}},this['instance'][_0x152489(0x699)]);}catch(_0x3c7f28){let _0x4516c2=_0x152489(0x767),_0x179b23=_0x3c7f28 instanceof Error?_0x3c7f28[_0x152489(0x659)]:typeof _0x3c7f28=='object'?JSON[_0x152489(0x2e3)](_0x3c7f28):_0x3c7f28,_0x174129=_0x4516c2+':\x20'+_0x179b23;throw this[_0x152489(0x4ad)][_0x152489(0x295)](this['instanceName']+'\x20('+this[_0x152489(0x31b)][_0x152489(0x699)]+_0x152489(0x12a)+_0x174129),new m(_0x174129);}}['reorderMessages'](_0x39220b){const _0x4f0fd7=a0_0x22f2c8;_0x39220b['sort']((_0x4d9c5d,_0x396f17)=>_0x4d9c5d[_0x4f0fd7(0x11c)]-_0x396f17[_0x4f0fd7(0x11c)]),_0x39220b['forEach']((_0x4ed5f1,_0x359b78)=>{const _0x43e5b9=_0x4f0fd7;_0x4ed5f1[_0x43e5b9(0x11c)]=_0x359b78+0x1;});}async[a0_0x22f2c8(0x5b8)](_0xc56bc6,_0x4a2d53){const _0x264e74=a0_0x22f2c8;try{if(!_0x4a2d53)return this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x264e74(0x457)),{'error':!0x0,'detail':_0x264e74(0x10c)};if(_0x4a2d53[_0x264e74(0x742)]==='flow'&&!this['AutomateSystem']?.[_0x264e74(0x611)][_0x264e74(0x4e0)])return this['logger'][_0x264e74(0x295)](this[_0x264e74(0x12b)]+'\x20('+this[_0x264e74(0x31b)][_0x264e74(0x699)]+_0x264e74(0x9e)),{'error':!0x0,'detail':_0x264e74(0x3df)};switch(_0x4a2d53[_0x264e74(0x742)]){case _0x264e74(0x20c):return await this[_0x264e74(0x5eb)](_0x4a2d53,_0xc56bc6);case _0x264e74(0x1b8):case'image':case _0x264e74(0x6f0):return await this[_0x264e74(0x210)](_0x4a2d53,_0xc56bc6);case _0x264e74(0x524):return await this['scheduleSendAudio'](_0x4a2d53,_0xc56bc6);case _0x264e74(0x28c):let _0xaef234=new We();return _0xaef234[_0x264e74(0x2cb)]=_0x4a2d53['flow'],_0xaef234['remoteJid']=_0xc56bc6,await this[_0x264e74(0x5c1)](_0xaef234);default:return this['logger']['error'](this['instanceName']+'\x20('+this[_0x264e74(0x31b)][_0x264e74(0x699)]+'):\x20Comando\x20desconhecido:\x20'+_0x4a2d53[_0x264e74(0x742)]),{'error':!0x0,'detail':_0x264e74(0x729)};}}catch(_0x135195){return this[_0x264e74(0x4ad)]['error'](this['instanceName']+'\x20('+this[_0x264e74(0x31b)]['wuid']+_0x264e74(0x4bd)+(_0x135195 instanceof Error?_0x135195[_0x264e74(0x659)]:JSON[_0x264e74(0x2e3)](_0x135195,null,0x2))),{'error':!0x0,'detail':_0x135195[_0x264e74(0x659)]};}}async[a0_0x22f2c8(0x5eb)](_0x13cdda,_0xd6aee8){const _0x345024=a0_0x22f2c8;if(this[_0x345024(0x4ad)][_0x345024(0x470)](this[_0x345024(0x12b)]+'\x20('+this[_0x345024(0x31b)][_0x345024(0x699)]+_0x345024(0x69a)+_0xd6aee8+'\x27'),!_0x13cdda['text']||_0x13cdda['text'][_0x345024(0x4a3)]===0x0)return{'error':!0x0,'detail':_0x345024(0x6c8)};let _0x20a5c8=await this[_0x345024(0x45d)](_0x13cdda[_0x345024(0x20c)],_0xd6aee8),_0x52acc4={'number':_0xd6aee8,'options':{'delay':_0x13cdda[_0x345024(0x3f2)],'linkPreview':_0x13cdda[_0x345024(0x384)]},'textMessage':{'text':_0x20a5c8}},_0x4f154f=null;try{let _0x5c53dd=await this[_0x345024(0x221)](_0x52acc4);if(_0x5c53dd&&_0x5c53dd[_0x345024(0x3fe)])return{'error':!0x1,'id':_0x5c53dd['key']['id']};_0x4f154f=JSON[_0x345024(0x2e3)](_0x5c53dd),this['logger'][_0x345024(0x470)](this[_0x345024(0x12b)]+'\x20('+this[_0x345024(0x31b)][_0x345024(0x699)]+_0x345024(0x12a)+_0x4f154f);}catch(_0x580179){this[_0x345024(0x4ad)][_0x345024(0x295)](this['instanceName']+'\x20('+this[_0x345024(0x31b)][_0x345024(0x699)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x580179 instanceof Error?_0x580179['message']:JSON['stringify'](_0x580179,null,0x2))),_0x4f154f=_0x580179[_0x345024(0x659)];}if(_0x4f154f)return{'error':!0x0,'detail':(typeof _0x4f154f==_0x345024(0x72b)?JSON[_0x345024(0x2e3)](_0x4f154f,null,0x2):_0x4f154f)[_0x345024(0x16d)](/[\[\]{}\n]/g,'\x20')[_0x345024(0x16d)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0xe3a228,_0x31e392){const _0x8faae7=a0_0x22f2c8;this[_0x8faae7(0x4ad)][_0x8faae7(0x470)](this[_0x8faae7(0x12b)]+'\x20('+this['instance'][_0x8faae7(0x699)]+_0x8faae7(0x222)+_0x31e392+'\x27');let _0x4eaa26;_0xe3a228[_0x8faae7(0x20c)]&&_0xe3a228[_0x8faae7(0x20c)][_0x8faae7(0x4a3)]>0x0&&(_0x4eaa26=await this[_0x8faae7(0x45d)](_0xe3a228[_0x8faae7(0x20c)],_0x31e392));let _0x5c904d={'number':_0x31e392,'options':{'delay':_0xe3a228[_0x8faae7(0x3f2)],'linkPreview':_0xe3a228[_0x8faae7(0x384)]},'mediaMessage':{'mediatype':_0xe3a228[_0x8faae7(0x742)],'caption':_0x4eaa26,'media':_0xe3a228[_0x8faae7(0x535)]}},_0x5dee22=null;try{let _0x13d3b1=await this[_0x8faae7(0x9c)](_0x5c904d);if(_0x13d3b1&&_0x13d3b1[_0x8faae7(0x3fe)])return{'error':!0x1,'id':_0x13d3b1['key']['id']};_0x5dee22=JSON['stringify'](_0x13d3b1),this[_0x8faae7(0x4ad)][_0x8faae7(0x470)](this[_0x8faae7(0x12b)]+'\x20('+this[_0x8faae7(0x31b)][_0x8faae7(0x699)]+_0x8faae7(0x12a)+_0x5dee22);}catch(_0x57f0a1){this[_0x8faae7(0x4ad)][_0x8faae7(0x295)](this[_0x8faae7(0x12b)]+'\x20('+this[_0x8faae7(0x31b)][_0x8faae7(0x699)]+_0x8faae7(0x5b4)+(_0x57f0a1 instanceof Error?_0x57f0a1[_0x8faae7(0x659)]:JSON[_0x8faae7(0x2e3)](_0x57f0a1,null,0x2))),_0x5dee22=_0x57f0a1[_0x8faae7(0x659)];}if(_0x5dee22)return{'error':!0x0,'detail':(typeof _0x5dee22==_0x8faae7(0x72b)?JSON[_0x8faae7(0x2e3)](_0x5dee22,null,0x2):_0x5dee22)[_0x8faae7(0x16d)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x22f2c8(0x4b3)](_0x18dd57,_0x345848){const _0x59add8=a0_0x22f2c8;this['logger'][_0x59add8(0x470)](this[_0x59add8(0x12b)]+'\x20('+this['instance']['wuid']+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x345848+'\x27');let _0x1314d3={'number':_0x345848,'options':{'delay':_0x18dd57[_0x59add8(0x3f2)]},'audioMessage':{'audio':_0x18dd57[_0x59add8(0x535)]}},_0x396a3=null;try{let _0x5f36b9=await this[_0x59add8(0x2e0)](_0x1314d3);if(_0x5f36b9&&_0x5f36b9[_0x59add8(0x3fe)])return{'error':!0x1,'id':_0x5f36b9[_0x59add8(0x41f)]['id']};_0x396a3=JSON[_0x59add8(0x2e3)](_0x5f36b9),this[_0x59add8(0x4ad)]['verbose'](this['instanceName']+'\x20('+this[_0x59add8(0x31b)]['wuid']+_0x59add8(0x12a)+_0x396a3);}catch(_0x5df0eb){this[_0x59add8(0x4ad)][_0x59add8(0x295)](this['instanceName']+'\x20('+this[_0x59add8(0x31b)][_0x59add8(0x699)]+_0x59add8(0x465)+(_0x5df0eb instanceof Error?_0x5df0eb[_0x59add8(0x659)]:JSON[_0x59add8(0x2e3)](_0x5df0eb,null,0x2))),_0x396a3=_0x5df0eb[_0x59add8(0x659)];}if(_0x396a3)return{'error':!0x0,'detail':(typeof _0x396a3==_0x59add8(0x72b)?JSON[_0x59add8(0x2e3)](_0x396a3,null,0x2):_0x396a3)[_0x59add8(0x16d)](/[\[\]{}\n]/g,'\x20')[_0x59add8(0x16d)](/  +/g,'\x20')};}async[a0_0x22f2c8(0x14c)](_0x3a883c){const _0x430292=a0_0x22f2c8;try{return await this['client'][_0x430292(0x6bc)](_0x3a883c[_0x430292(0x123)],_0x3a883c[_0x430292(0x50b)]),{'update':_0x430292(0xf7)};}catch(_0x55a854){let _0x454490=_0x430292(0x3c4),_0x3dea58=_0x55a854 instanceof Error?_0x55a854[_0x430292(0x659)]:typeof _0x55a854==_0x430292(0x72b)?JSON[_0x430292(0x2e3)](_0x55a854):_0x55a854,_0x4359c9=_0x454490+':\x20'+_0x3dea58;throw this[_0x430292(0x4ad)]['error'](this[_0x430292(0x12b)]+'\x20('+this[_0x430292(0x31b)][_0x430292(0x699)]+_0x430292(0x12a)+_0x4359c9),new x(_0x4359c9);}}async['groupName'](_0x499127){const _0x11dcb9=a0_0x22f2c8;try{return await this[_0x11dcb9(0x223)][_0x11dcb9(0x7b0)](_0x499127[_0x11dcb9(0x123)],_0x499127[_0x11dcb9(0x2cb)]),{'update':_0x11dcb9(0xf7)};}catch(_0x2b49e0){let _0x2bfd00=_0x11dcb9(0x52f),_0x19ae4d=_0x2b49e0 instanceof Error?_0x2b49e0[_0x11dcb9(0x659)]:typeof _0x2b49e0==_0x11dcb9(0x72b)?JSON['stringify'](_0x2b49e0):_0x2b49e0,_0x7a01c9=_0x2bfd00+':\x20'+_0x19ae4d;throw this[_0x11dcb9(0x4ad)]['error'](this[_0x11dcb9(0x12b)]+'\x20('+this['instance'][_0x11dcb9(0x699)]+_0x11dcb9(0x12a)+_0x7a01c9),new x(_0x7a01c9);}}async[a0_0x22f2c8(0x704)](_0x230361){const _0x1bcd56=a0_0x22f2c8;try{let _0x5d6d19=await this['client']['groupToggleEphemeral'](_0x230361[_0x1bcd56(0x123)],_0x230361['expiration']);return{'success':!0x0};}catch(_0x575bca){let _0x1f1564='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x29db06=_0x575bca instanceof Error?_0x575bca['message']:typeof _0x575bca==_0x1bcd56(0x72b)?JSON[_0x1bcd56(0x2e3)](_0x575bca):_0x575bca,_0x18f10c=_0x1f1564+':\x20'+_0x29db06;throw this['logger'][_0x1bcd56(0x295)](this[_0x1bcd56(0x12b)]+'\x20('+this[_0x1bcd56(0x31b)][_0x1bcd56(0x699)]+_0x1bcd56(0x12a)+_0x18f10c),new x(_0x18f10c);}}async[a0_0x22f2c8(0x2b1)](_0x4ea2c1){const _0x19b9b0=a0_0x22f2c8;try{return await this[_0x19b9b0(0x223)][_0x19b9b0(0x42f)](_0x4ea2c1[_0x19b9b0(0x123)],_0x4ea2c1[_0x19b9b0(0x356)]),{'update':_0x19b9b0(0xf7)};}catch(_0x3b1a7b){let _0x410e2d=_0x19b9b0(0x391),_0x1d277d=_0x3b1a7b instanceof Error?_0x3b1a7b[_0x19b9b0(0x659)]:typeof _0x3b1a7b=='object'?JSON['stringify'](_0x3b1a7b):_0x3b1a7b,_0x4432f3=_0x410e2d+':\x20'+_0x1d277d;throw this[_0x19b9b0(0x4ad)][_0x19b9b0(0x295)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x19b9b0(0x12a)+_0x4432f3),new x(_0x4432f3);}}async[a0_0x22f2c8(0xbc)](_0x32cd82){const _0x504956=a0_0x22f2c8;try{let _0x2fdf09;if((0x0,k[_0x504956(0x430)])(_0x32cd82[_0x504956(0x5c3)])){let _0x4c5f58=new Date()['getTime'](),_0x12397f=_0x32cd82[_0x504956(0x5c3)]+'?timestamp='+_0x4c5f58;_0x2fdf09=(await Y[_0x504956(0x66b)][_0x504956(0x319)](_0x12397f,{'responseType':_0x504956(0x5a6)}))[_0x504956(0x47d)];}else{if((0x0,k[_0x504956(0x66c)])(_0x32cd82[_0x504956(0x5c3)]))_0x2fdf09=Buffer[_0x504956(0x59a)](_0x32cd82[_0x504956(0x5c3)],_0x504956(0x275));else throw new m(_0x504956(0x5cb));}return await this[_0x504956(0x223)]['updateProfilePicture'](_0x32cd82[_0x504956(0x123)],_0x2fdf09),{'update':_0x504956(0xf7)};}catch(_0x2dfb09){let _0x2cff75=_0x504956(0x2bf),_0x5cd406=_0x2dfb09 instanceof Error?_0x2dfb09[_0x504956(0x659)]:typeof _0x2dfb09==_0x504956(0x72b)?JSON['stringify'](_0x2dfb09):_0x2dfb09,_0x35195e=_0x2cff75+':\x20'+_0x5cd406;throw this[_0x504956(0x4ad)][_0x504956(0x295)](this[_0x504956(0x12b)]+'\x20('+this[_0x504956(0x31b)][_0x504956(0x699)]+_0x504956(0x12a)+_0x35195e),new x(_0x35195e);}}},Jt=class u{constructor(_0x5b5472,_0x425832,_0x192163){const _0x493fa5=a0_0x22f2c8;this[_0x493fa5(0x25f)]=_0x5b5472,this['configService']=_0x425832,this['repository']=_0x192163,this['db']={},this['redis']={},this[_0x493fa5(0x4ad)]=new $(u[_0x493fa5(0x2cb)]),this[_0x493fa5(0x3dc)]={},(this[_0x493fa5(0x29d)](),this[_0x493fa5(0x5cc)](),Object[_0x493fa5(0x3b7)](this['db'],_0x425832[_0x493fa5(0x319)](_0x493fa5(0x771))),Object[_0x493fa5(0x3b7)](this[_0x493fa5(0x691)],_0x425832[_0x493fa5(0x319)](_0x493fa5(0x174))),this[_0x493fa5(0x2ed)]=this['db'][_0x493fa5(0x205)]?this[_0x493fa5(0x70e)][_0x493fa5(0x5e3)]?.['db'](this['db'][_0x493fa5(0x2df)]['DB_PREFIX_NAME']+_0x493fa5(0x732)):void 0x0,this[_0x493fa5(0xce)]=this[_0x493fa5(0x691)][_0x493fa5(0x205)]?new de(this['redis']):void 0x0);}async[a0_0x22f2c8(0x68a)](_0x74794){const _0x2473b5=a0_0x22f2c8;if(_0x74794&&!this[_0x2473b5(0x3dc)][_0x74794])throw new j(_0x2473b5(0x582)+_0x74794+'\x22\x20not\x20found');let _0x25669a=[];for await(let [_0x474ceb,_0x2fcf5a]of Object[_0x2473b5(0x6ff)](this[_0x2473b5(0x3dc)]))if(_0x2fcf5a&&_0x2fcf5a[_0x2473b5(0x541)][_0x2473b5(0x6d7)]===_0x2473b5(0x237)){let _0x5f5784=await this[_0x2473b5(0x70e)][_0x2473b5(0x3e7)][_0x2473b5(0xe9)](_0x474ceb);_0x25669a[_0x2473b5(0x6b3)]({'instance':{'instanceName':_0x474ceb,'apikey':_0x5f5784[_0x2473b5(0x4de)],'owner':_0x2fcf5a[_0x2473b5(0x699)],'profileName':await _0x2fcf5a[_0x2473b5(0x443)]()||'not\x20loaded','profilePictureUrl':_0x2fcf5a['profilePictureUrl']}});}return _0x25669a[_0x2473b5(0xe9)](_0x1f9790=>_0x1f9790[_0x2473b5(0x31b)][_0x2473b5(0x12b)]===_0x74794)??_0x25669a;}async[a0_0x22f2c8(0x34c)](_0x4eeab2){const _0x20a69f=a0_0x22f2c8;if(this['db'][_0x20a69f(0x205)]&&(await this[_0x20a69f(0x70e)][_0x20a69f(0x5e3)][_0x20a69f(0x2d9)](),(await this[_0x20a69f(0x2ed)][_0x20a69f(0x7bb)]())[_0x20a69f(0x4a3)]>0x0&&await this[_0x20a69f(0x2ed)]['dropCollection'](_0x4eeab2)),this[_0x20a69f(0x691)][_0x20a69f(0x205)]){this[_0x20a69f(0xce)][_0x20a69f(0x220)]=_0x4eeab2,await this['cache']['delAll']();return;}}async[a0_0x22f2c8(0x1a9)](){const _0x3716f4=a0_0x22f2c8;await this[_0x3716f4(0x554)]();let _0x3be6a9=async _0x21705e=>{const _0x48bd6e=_0x3716f4;let _0x2e2d6f=new $e(this['configService'],this['eventEmitter'],this[_0x48bd6e(0x70e)]);_0x2e2d6f[_0x48bd6e(0x12b)]=_0x21705e,await _0x2e2d6f[_0x48bd6e(0x105)](),this[_0x48bd6e(0x3dc)][_0x21705e]=_0x2e2d6f;};try{if(this['redis'][_0x3716f4(0x205)]){let _0x2cda39=await this[_0x3716f4(0xce)][_0x3716f4(0x2a7)]();_0x2cda39?.[_0x3716f4(0x4a3)]>0x0&&_0x2cda39[_0x3716f4(0x317)](async _0x530425=>await _0x3be6a9(_0x530425[_0x3716f4(0x293)](':')[0x1]));return;}if(this['db'][_0x3716f4(0x205)]){await this[_0x3716f4(0x70e)][_0x3716f4(0x5e3)][_0x3716f4(0x2d9)]();let _0x300ccf=await this[_0x3716f4(0x2ed)][_0x3716f4(0x7bb)]();_0x300ccf[_0x3716f4(0x4a3)]>0x0&&_0x300ccf[_0x3716f4(0x317)](async _0x377266=>await _0x3be6a9(_0x377266[_0x3716f4(0x639)][_0x3716f4(0x16d)](/^[\w-]+\./,'')));return;}}catch(_0x2dd84a){this['logger'][_0x3716f4(0x295)](_0x2dd84a);}}async[a0_0x22f2c8(0xe0)](){const _0x333eba=a0_0x22f2c8;try{let _0x50778f=await this[_0x333eba(0x70e)][_0x333eba(0x3e7)]['findMany']({'online':!0x1});for(let _0x19947d of _0x50778f){let _0x3e2a15=_0x19947d[_0x333eba(0x286)];await ae[_0x333eba(0x148)](W,_0x3e2a15);}console[_0x333eba(0x274)]('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x50778f['length']);let _0xd1c9f7={'online':!0x1},_0x1ebd71=await this['repository'][_0x333eba(0x3e7)][_0x333eba(0x1a1)](_0xd1c9f7);console[_0x333eba(0x274)](_0x333eba(0x7a2)+_0x1ebd71['insertCount']);}catch(_0x277b6a){console[_0x333eba(0x295)](_0x333eba(0x7d6),_0x277b6a);}}async[a0_0x22f2c8(0x554)](){const _0x436ce3=a0_0x22f2c8;try{let _0x77c75f={'online':!0x1},_0x3f7fe1={'online':!0x1,'lastDisconnect':Date[_0x436ce3(0x4f1)]()},_0x3b45f5=await this[_0x436ce3(0x70e)][_0x436ce3(0x3e7)][_0x436ce3(0x4cb)](_0x77c75f,_0x3f7fe1);await this[_0x436ce3(0xe0)]();}catch(_0x2059da){console[_0x436ce3(0x295)](_0x436ce3(0x795),_0x2059da);}}['removeInstance'](){const _0x77ccae=a0_0x22f2c8;this['eventEmitter']['on'](_0x77ccae(0x45e),async _0x3c605e=>{const _0xe796c8=_0x77ccae;try{this[_0xe796c8(0x3dc)][_0x3c605e]=void 0x0;}catch{}try{this['cleaningUp'](_0x3c605e);}finally{this['logger'][_0xe796c8(0x542)](_0xe796c8(0x582)+_0x3c605e+_0xe796c8(0x4ce));}});}[a0_0x22f2c8(0x5cc)](){const _0x313654=a0_0x22f2c8;this['eventEmitter']['on'](_0x313654(0x562),async _0x3ee956=>{const _0x5d6b73=_0x313654;try{this[_0x5d6b73(0x3dc)][_0x3ee956]=void 0x0;}catch{}try{this[_0x5d6b73(0x34c)](_0x3ee956);}finally{this[_0x5d6b73(0x4ad)][_0x5d6b73(0x542)](_0x5d6b73(0x582)+_0x3ee956+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends _{[a0_0x22f2c8(0x230)](_0x3e703e){return Zs(_0x3e703e);}async[a0_0x22f2c8(0xff)](_0x2a717e){const _0xe63623=a0_0x22f2c8;if(_0x2a717e['length']!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x2a717e[0x0][_0xe63623(0x58e)])[_0xe63623(0x698)]([..._0x2a717e]))[_0xe63623(0x4a3)]};}catch(_0x4ff954){return _0x4ff954;}}async[a0_0x22f2c8(0xe9)](_0x14c63c,_0x4338a0){const _0x47727b=a0_0x22f2c8;try{let _0x1ae42a=this[_0x47727b(0x230)](_0x4338a0),_0x36c954=I(_0x14c63c['where']);return await _0x1ae42a[_0x47727b(0xe9)](_0x36c954)[_0x47727b(0x1e3)]({'lastmsg':-0x1})['limit'](_0x14c63c?.[_0x47727b(0x373)]??0x0)[_0x47727b(0x47e)]();}catch{return[];}}async[a0_0x22f2c8(0x201)](_0x3b5762,_0x4afac0){const _0x23cdc8=a0_0x22f2c8;try{let _0x4fb32d=this[_0x23cdc8(0x230)](_0x4afac0),_0x20d650=I(_0x3b5762[_0x23cdc8(0x297)]);return _0x20d650[_0x23cdc8(0x197)]={'$ne':[]},await _0x4fb32d[_0x23cdc8(0xe9)](_0x20d650)[_0x23cdc8(0x1e3)]({'lastmsg':-0x1})[_0x23cdc8(0x373)](_0x3b5762?.[_0x23cdc8(0x373)]??0x0)[_0x23cdc8(0x47e)]();}catch{return[];}}async[a0_0x22f2c8(0x192)](_0x16e326,_0x212094){const _0x311718=a0_0x22f2c8;try{return{'deletedCount':(await this[_0x311718(0x230)](_0x212094)[_0x311718(0x1a1)]({..._0x16e326['where']}))[_0x311718(0xd7)]};}catch(_0x6cc6e4){return{'error':_0x6cc6e4?.[_0x311718(0x1ee)]()};}}async[a0_0x22f2c8(0x352)](_0x29af74,_0x10e166){const _0x4d9921=a0_0x22f2c8;try{return await this[_0x4d9921(0x230)](_0x10e166)[_0x4d9921(0x1a1)]({..._0x29af74[_0x4d9921(0x297)]}),[];}catch(_0xa5304){return{'error':_0xa5304?.['toString']()};}}async[a0_0x22f2c8(0x239)](_0x4eb048,_0x3553c6){const _0x55f387=a0_0x22f2c8;try{let _0x2866b6=this[_0x55f387(0x230)](_0x3553c6),_0x113d6e=I(_0x4eb048['where']);return await _0x2866b6[_0x55f387(0x239)](_0x113d6e)[_0x55f387(0x47e)]();}catch{return null;}}async[a0_0x22f2c8(0x365)](_0x1f8ade,_0x3aa3b6,_0x10a6b7,_0x117ac8,_0x3c8999='$set'){const _0x17ffe9=a0_0x22f2c8;try{let _0x546eee={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x117ac8},_0x33be4f=this[_0x17ffe9(0x230)](_0x10a6b7),_0x5809eb=I(_0x1f8ade['where']);Object[_0x17ffe9(0x158)](_0x3aa3b6)[_0x17ffe9(0x317)](_0x5f22d8=>{_0x3aa3b6[_0x5f22d8]==null&&delete _0x3aa3b6[_0x5f22d8];});let _0x193a86={};return _0x193a86[_0x3c8999]=_0x3aa3b6,await _0x33be4f['findOneAndUpdate'](_0x5809eb,_0x193a86,_0x546eee);}catch(_0x3e3204){return console['error'](_0x3e3204),null;}}async['updateMany'](_0x487e3c){const _0x4ddf53=a0_0x22f2c8;try{let _0x112918=this['getChatModelForOwner'](_0x487e3c[0x0][_0x4ddf53(0x7bf)][_0x4ddf53(0x297)]['owner']),_0x329d08=_0x487e3c[_0x4ddf53(0x657)](_0x2a7ef0=>({'updateOne':{'filter':{..._0x2a7ef0[_0x4ddf53(0x7bf)][_0x4ddf53(0x297)]},'update':{'$set':_0x2a7ef0[_0x4ddf53(0x748)]},'upsert':!0x0}})),_0x414031=await _0x112918[_0x4ddf53(0x2fb)](_0x329d08);return _0x414031[_0x4ddf53(0x2a2)]+_0x414031['upsertedCount'];}catch(_0x2e0115){return console[_0x4ddf53(0x295)](_0x2e0115),0x0;}}async[a0_0x22f2c8(0x756)](_0x5dbf86){const _0x39972e=a0_0x22f2c8;try{let _0x279741={'group_isCommunity':'','group_announce':'','group_size':''},_0xcce7a2={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x197484={'$unset':_0x279741};return(await this[_0x39972e(0x230)](_0x5dbf86)['updateMany'](_0xcce7a2,_0x197484))[_0x39972e(0x2a2)];}catch(_0x1c2a00){return console[_0x39972e(0x295)](_0x39972e(0x4c1),_0x1c2a00),0x0;}}async[a0_0x22f2c8(0x78a)](_0x20d1a4){const _0x2b6168=a0_0x22f2c8;try{let _0x2d85bf=this['getChatModelForOwner'](_0x20d1a4),_0x430651={'leadInfo.etiquetas':{'$exists':!0x1}},_0x4784ac={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2d85bf[_0x2b6168(0x25b)](_0x430651,_0x4784ac))[_0x2b6168(0x2a2)];}catch(_0x15a01a){return console['error'](_0x15a01a),0x0;}}async[a0_0x22f2c8(0xa5)](_0x62aeb3){const _0x5e21d1=a0_0x22f2c8;try{let _0x9d010d=this['getChatModelForOwner'](_0x62aeb3),_0x22e65c={'leadInfo.tags':{'$exists':!0x1}},_0x2c3221={'$set':{'leadInfo.tags':[]}};return(await _0x9d010d[_0x5e21d1(0x25b)](_0x22e65c,_0x2c3221))['modifiedCount'];}catch(_0x49bbb7){return console['error'](_0x49bbb7),0x0;}}async['updateMissingCustomFields'](_0x5ca254){const _0x46132b=a0_0x22f2c8;try{let _0x395df5=this['getChatModelForOwner'](_0x5ca254),_0x36be74={'leadInfo.customFields':{'$exists':!0x1}},_0x362990={'$set':{'leadInfo.customFields':[]}};return(await _0x395df5[_0x46132b(0x25b)](_0x36be74,_0x362990))['modifiedCount'];}catch(_0x36379d){return console[_0x46132b(0x295)](_0x36379d),0x0;}}async['insertMany'](_0x4b94fe,_0x2817fd){const _0xacfc94=a0_0x22f2c8;if(!Array['isArray'](_0x4b94fe)||_0x4b94fe[_0xacfc94(0x4a3)]===0x0)throw new Error(_0xacfc94(0x3ef));try{return(await this[_0xacfc94(0x230)](_0x2817fd)['insertMany'](_0x4b94fe))[_0xacfc94(0x4a3)];}catch(_0x264313){throw console[_0xacfc94(0x295)](_0xacfc94(0x1c6),_0x264313),_0x264313;}}async[a0_0x22f2c8(0x33d)](_0x338434,_0x2048c6){const _0x43e031=a0_0x22f2c8;try{await this[_0x43e031(0x230)](_0x2048c6)[_0x43e031(0x574)]({'_id':_0x338434});}catch(_0x3e24c0){throw console[_0x43e031(0x295)](_0x43e031(0x30b),_0x3e24c0),_0x3e24c0;}}},Vt=class extends _{constructor(_0xffce8d,_0x42322b,_0x4c3b5a){const _0x261637=a0_0x22f2c8;super(_0x42322b),this[_0x261637(0x56e)]=_0xffce8d,this[_0x261637(0x53f)]=_0x42322b,this[_0x261637(0x361)]=_0x4c3b5a;}async[a0_0x22f2c8(0xff)](_0x13f7e0){const _0xff7769=a0_0x22f2c8;if(_0x13f7e0[_0xff7769(0x4a3)]!==0x0)try{return{'insertCount':(await this[_0xff7769(0x56e)][_0xff7769(0x698)]([..._0x13f7e0]))[_0xff7769(0x4a3)]};}catch(_0x2e5d68){return _0x2e5d68;}}async['update'](_0x24d864,_0x6d2aba){const _0x442aa3=a0_0x22f2c8;try{let _0x41299f=I(_0x24d864[_0x442aa3(0x297)]);return{'updatedCount':(await this['cacheContactModel']['updateMany'](_0x41299f,{'$set':_0x6d2aba}))[_0x442aa3(0x2a2)]};}catch(_0x436157){return console[_0x442aa3(0x295)](_0x442aa3(0x617),_0x436157),{'error':_0x436157[_0x442aa3(0x1ee)]()};}}async[a0_0x22f2c8(0x725)](_0x5769a9){const _0x3aa753=a0_0x22f2c8;try{let _0x55240f={'_id':{'$in':_0x5769a9}};return await this[_0x3aa753(0x56e)]['find'](_0x55240f)[_0x3aa753(0x47e)]();}catch(_0x1c6e62){return console[_0x3aa753(0x295)](_0x3aa753(0x432),_0x1c6e62),[];}}async['delete'](_0x564dc2){const _0x44f9b4=a0_0x22f2c8;try{return{'deletedCount':(await this[_0x44f9b4(0x56e)][_0x44f9b4(0x1a1)]({..._0x564dc2[_0x44f9b4(0x297)]}))[_0x44f9b4(0xd7)]};}catch(_0x5a6935){return{'error':_0x5a6935?.[_0x44f9b4(0x1ee)]()};}}async['find'](_0x3b1bf9){const _0x708159=a0_0x22f2c8;try{let _0x151725=I(_0x3b1bf9[_0x708159(0x297)]);return await this['cacheContactModel'][_0x708159(0xe9)](_0x151725)[_0x708159(0x373)](_0x3b1bf9?.[_0x708159(0x373)]??0x0)[_0x708159(0x47e)]();}catch{return[];}}async[a0_0x22f2c8(0x239)](_0xd70bc8){const _0x58c5eb=a0_0x22f2c8;try{let _0x5a669a=I(_0xd70bc8[_0x58c5eb(0x297)]);return await this[_0x58c5eb(0x56e)][_0x58c5eb(0x239)](_0x5a669a)['lean']();}catch{return null;}}},Gt=class extends _{[a0_0x22f2c8(0x6fc)](_0x1ab47c){return Ma(_0x1ab47c);}async[a0_0x22f2c8(0x365)](_0x428119,_0xbb2202,_0x51c674,_0x481283){const _0x379197=a0_0x22f2c8;try{let _0x5529e8={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x481283},_0x46562a=this['getLabelModelForOwner'](_0x51c674),_0x48d34a=I(_0x428119[_0x379197(0x297)]);return await _0x46562a[_0x379197(0x50c)](_0x48d34a,{'$set':_0xbb2202},_0x5529e8);}catch(_0x44b211){return console[_0x379197(0x295)](_0x44b211),null;}}async[a0_0x22f2c8(0xe9)](_0x2872dc,_0x5033f6){const _0x3bec4a=a0_0x22f2c8;try{let _0x4e4b8c=this['getLabelModelForOwner'](_0x5033f6),_0x3b96cc=I(_0x2872dc['where']);return await _0x4e4b8c[_0x3bec4a(0xe9)](_0x3b96cc);}catch(_0x39494b){console[_0x3bec4a(0x295)](_0x39494b);}}async[a0_0x22f2c8(0x192)](_0x59a233,_0x88afbd){const _0x27e67c=a0_0x22f2c8;try{let _0x17311d=this[_0x27e67c(0x6fc)](_0x88afbd),_0x410bdb=I(_0x59a233['where']);await _0x17311d[_0x27e67c(0x1a1)](_0x410bdb);}catch(_0xf46d89){console[_0x27e67c(0x295)](_0xf46d89);}}async[a0_0x22f2c8(0x352)](_0x584e44){const _0x3c9e29=a0_0x22f2c8;try{return await this[_0x3c9e29(0x6fc)](_0x584e44)['collection']['drop'](),{'success':!0x0};}catch(_0xa84150){return console[_0x3c9e29(0x295)](_0xa84150),{'success':!0x1,'error':_0xa84150};}}},Bt=class{constructor(_0x46dd36){const _0x8379ed=a0_0x22f2c8;this[_0x8379ed(0x7b7)]=_0x46dd36;}async['editChat']({instanceName:_0x39740f},_0x26872a){const _0x5cf50c=a0_0x22f2c8;return await this[_0x5cf50c(0x7b7)][_0x5cf50c(0x3dc)][_0x39740f]['editChat'](_0x26872a);}async[a0_0x22f2c8(0x337)]({instanceName:_0x42986f},_0x5388f2){const _0x5d91ad=a0_0x22f2c8;return await this[_0x5d91ad(0x7b7)][_0x5d91ad(0x3dc)][_0x42986f]['whatsappNumber'](_0x5388f2);}async[a0_0x22f2c8(0x58d)]({instanceName:_0x16c7ac},_0x28f3a6){const _0x50d805=a0_0x22f2c8;return await this['waMonitor']['waInstances'][_0x16c7ac][_0x50d805(0x58d)](_0x28f3a6);}async[a0_0x22f2c8(0x3e9)]({instanceName:_0x265f58},_0x763a47){const _0x14ab2c=a0_0x22f2c8;return await this[_0x14ab2c(0x7b7)][_0x14ab2c(0x3dc)][_0x265f58][_0x14ab2c(0x41c)](_0x763a47);}async[a0_0x22f2c8(0x648)]({instanceName:_0xf88139},_0x5d28be){const _0x182ad7=a0_0x22f2c8;return await this['waMonitor'][_0x182ad7(0x3dc)][_0xf88139][_0x182ad7(0x648)](_0x5d28be);}async['deleteMessage']({instanceName:_0x567796},_0x4d1425){const _0x48efd0=a0_0x22f2c8;return await this[_0x48efd0(0x7b7)]['waInstances'][_0x567796]['deleteMessage'](_0x4d1425);}async[a0_0x22f2c8(0x5f4)]({instanceName:_0x1d13b5},_0x34d7d5){const _0x2d1e42=a0_0x22f2c8;return await this[_0x2d1e42(0x7b7)][_0x2d1e42(0x3dc)][_0x1d13b5][_0x2d1e42(0x115)](_0x34d7d5[_0x2d1e42(0x375)]);}async['fetchProfile']({instanceName:_0x549f68},_0x57feae){const _0x56dd21=a0_0x22f2c8;return await this[_0x56dd21(0x7b7)]['waInstances'][_0x549f68][_0x56dd21(0x1a4)](_0x57feae['number']);}async[a0_0x22f2c8(0x212)]({instanceName:_0x17a75d},_0x438a21){const _0x36e967=a0_0x22f2c8;return await this[_0x36e967(0x7b7)]['waInstances'][_0x17a75d][_0x36e967(0x212)](_0x438a21);}async[a0_0x22f2c8(0x1ff)]({instanceName:_0x5b0fd9},_0x1f4fba){const _0x4335a6=a0_0x22f2c8;return await this[_0x4335a6(0x7b7)][_0x4335a6(0x3dc)][_0x5b0fd9][_0x4335a6(0x1ff)](_0x1f4fba);}async['getBase64FromMediaMessage']({instanceName:_0x3ea7f5},_0x4a0220){const _0x2b29d6=a0_0x22f2c8;return await this[_0x2b29d6(0x7b7)][_0x2b29d6(0x3dc)][_0x3ea7f5][_0x2b29d6(0x7c7)](_0x4a0220);}async[a0_0x22f2c8(0x171)]({instanceName:_0x56e76f},_0x59df20){const _0x4e7574=a0_0x22f2c8;return await this[_0x4e7574(0x7b7)][_0x4e7574(0x3dc)][_0x56e76f][_0x4e7574(0x171)](_0x59df20);}async[a0_0x22f2c8(0x14d)]({instanceName:_0x5eb86f}){const _0x3912f9=a0_0x22f2c8;return await this[_0x3912f9(0x7b7)][_0x3912f9(0x3dc)][_0x5eb86f][_0x3912f9(0x14d)]();}async[a0_0x22f2c8(0x682)]({instanceName:_0x568bdf}){const _0x2f570a=a0_0x22f2c8;return await this[_0x2f570a(0x7b7)][_0x2f570a(0x3dc)][_0x568bdf]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x209cad}){const _0x53fe6a=a0_0x22f2c8;return await this[_0x53fe6a(0x7b7)][_0x53fe6a(0x3dc)][_0x209cad][_0x53fe6a(0x55e)]();}async[a0_0x22f2c8(0x673)]({instanceName:_0x437f14},_0x2be396){const _0x392b25=a0_0x22f2c8;return await this[_0x392b25(0x7b7)][_0x392b25(0x3dc)][_0x437f14][_0x392b25(0x673)](_0x2be396);}async[a0_0x22f2c8(0x701)]({instanceName:_0x237ab4},_0x513289){const _0x478aa4=a0_0x22f2c8;return await this[_0x478aa4(0x7b7)][_0x478aa4(0x3dc)][_0x237ab4][_0x478aa4(0x701)](_0x513289[_0x478aa4(0x375)]);}async[a0_0x22f2c8(0x737)]({instanceName:_0x32a140},_0x1a380e){const _0x4a8f70=a0_0x22f2c8;return await this[_0x4a8f70(0x7b7)]['waInstances'][_0x32a140][_0x4a8f70(0x737)](_0x1a380e[_0x4a8f70(0x2cb)]);}async[a0_0x22f2c8(0x164)]({instanceName:_0x444155},_0x3e716a){const _0x5e38e2=a0_0x22f2c8;return await this['waMonitor'][_0x5e38e2(0x3dc)][_0x444155][_0x5e38e2(0x164)](_0x3e716a[_0x5e38e2(0x3fe)]);}async[a0_0x22f2c8(0x1f4)]({instanceName:_0x2eb454},_0x36921a){const _0xc90aaf=a0_0x22f2c8;return await this[_0xc90aaf(0x7b7)][_0xc90aaf(0x3dc)][_0x2eb454][_0xc90aaf(0x1f4)](_0x36921a[_0xc90aaf(0x619)]);}async[a0_0x22f2c8(0x5fb)]({instanceName:_0x10d585},_0x31469a){const _0x225521=a0_0x22f2c8;return await this['waMonitor'][_0x225521(0x3dc)][_0x10d585][_0x225521(0x5fb)]();}},Wt=require(a0_0x22f2c8(0xec)),zt=class u{constructor(_0x44f6da,_0x4d01b9,_0x2598bf,_0x293af5,_0x29bb7f){const _0x440060=a0_0x22f2c8;this['waMonitor']=_0x44f6da,this['configService']=_0x4d01b9,this['repository']=_0x2598bf,this['eventEmitter']=_0x293af5,this['authService']=_0x29bb7f,this[_0x440060(0x4ad)]=new $(u[_0x440060(0x2cb)]);}async[a0_0x22f2c8(0xbe)]({instanceName:_0x439495,apikey:_0x4f7ee6,number:_0x1561a9,proxy:_0x3ccd00=!0x0}){const _0x38eb4b=a0_0x22f2c8;try{let _0x16a002=new $e(this[_0x38eb4b(0x53f)],this[_0x38eb4b(0x25f)],this[_0x38eb4b(0x70e)]);_0x16a002['instanceName']=_0x439495,this[_0x38eb4b(0x7b7)][_0x38eb4b(0x3dc)][_0x16a002[_0x38eb4b(0x12b)]]=_0x16a002;let _0x391402={};_0x4f7ee6?(await this['repository']['auth'][_0x38eb4b(0x644)]({'apikey':_0x4f7ee6},_0x439495),_0x391402[_0x38eb4b(0x4de)]=_0x4f7ee6):_0x391402=await this['authService'][_0x38eb4b(0x7b8)]({'instanceName':_0x16a002['instanceName']});let _0x587eb0;if(_0x1561a9){if(_0x587eb0=await this[_0x38eb4b(0x1f3)](_0x1561a9),_0x587eb0[_0x38eb4b(0x295)])throw new x(_0x587eb0['error'][_0x38eb4b(0x1ee)]());_0x1561a9=_0x587eb0[_0x38eb4b(0x375)];}let _0x10aaf1;return await _0x16a002[_0x38eb4b(0x105)](_0x1561a9),await(0x0,Wt[_0x38eb4b(0x3f2)])(0xfa0),_0x1561a9&&await(0x0,Wt[_0x38eb4b(0x3f2)])(0xbb8),_0x10aaf1=_0x16a002[_0x38eb4b(0x1fb)],{'instance':{'instanceName':_0x16a002[_0x38eb4b(0x12b)],'status':_0x38eb4b(0x7b3)},'hash':_0x391402,'qrcode':_0x10aaf1};}catch(_0x3853f3){throw this[_0x38eb4b(0x4ad)][_0x38eb4b(0x295)](_0x3853f3),_0x3853f3;}}async[a0_0x22f2c8(0x5fa)]({instanceName:_0x4f9e03,number:_0x335540=null}){const _0x43e4fb=a0_0x22f2c8;try{let _0x20bd49=this[_0x43e4fb(0x7b7)][_0x43e4fb(0x3dc)][_0x4f9e03];switch(_0x20bd49?.[_0x43e4fb(0x541)]?.[_0x43e4fb(0x6d7)]){case _0x43e4fb(0x280):return await _0x20bd49['connectToWhatsapp'](_0x335540),await(0x0,Wt['delay'])(0x7d0),_0x20bd49[_0x43e4fb(0x1fb)];case _0x43e4fb(0x1d1):return _0x20bd49[_0x43e4fb(0x1fb)];default:return await this[_0x43e4fb(0x2ef)]({'instanceName':_0x4f9e03});}}catch(_0x2b9e79){this['logger'][_0x43e4fb(0x274)](_0x2b9e79);}}async[a0_0x22f2c8(0x2ef)]({instanceName:_0x2c1117}){const _0x3857c0=a0_0x22f2c8;let _0x4f1bb9=this[_0x3857c0(0x7b7)][_0x3857c0(0x3dc)][_0x2c1117][_0x3857c0(0x541)],_0x485ea0=null;_0x4f1bb9['state']===_0x3857c0(0x237)&&_0x2c1117&&(_0x485ea0=await this[_0x3857c0(0x7b7)][_0x3857c0(0x68a)](_0x2c1117));let _0x5b42e9=null;return _0x4f1bb9['state']===_0x3857c0(0x1d1)&&_0x2c1117&&(_0x5b42e9=this[_0x3857c0(0x7b7)][_0x3857c0(0x3dc)][_0x2c1117][_0x3857c0(0x1fb)]),{'instance':_0x2c1117,'connectionStatus':_0x4f1bb9,'instanceInfo':_0x485ea0,'qrcode':_0x5b42e9};}async['verifyWhatsAppNumber'](_0x59fd3e){const _0x51ef16=a0_0x22f2c8;_0x59fd3e=_0x59fd3e[_0x51ef16(0x16d)](/\D/g,'');let _0x4de134=Object[_0x51ef16(0x158)](this[_0x51ef16(0x7b7)][_0x51ef16(0x3dc)])['filter'](_0x5cf0b6=>{const _0x1b06a4=_0x51ef16;let _0x3dce03=this[_0x1b06a4(0x7b7)]['waInstances'][_0x5cf0b6];return _0x3dce03&&_0x3dce03[_0x1b06a4(0x541)]&&_0x3dce03[_0x1b06a4(0x541)][_0x1b06a4(0x6d7)]==='open';});if(_0x4de134[_0x51ef16(0x4a3)]===0x0)return{'number':this['formatBRNumber'](_0x59fd3e)};let _0x5b69f3=Math[_0x51ef16(0x2a5)](Math[_0x51ef16(0x2de)]()*_0x4de134['length']),_0x2b924b=_0x4de134[_0x5b69f3];try{let _0x1f70d3=(await this['waMonitor'][_0x51ef16(0x3dc)][_0x2b924b][_0x51ef16(0x337)]({'numbers':[_0x59fd3e]}))['shift']();return _0x1f70d3[_0x51ef16(0x707)]?{'number':_0x1f70d3[_0x51ef16(0x50f)][_0x51ef16(0x16d)]('@s.whatsapp.net','')}:{'number':_0x59fd3e,'error':_0x51ef16(0x51c)};}catch(_0x4cac22){return this[_0x51ef16(0x4ad)][_0x51ef16(0x295)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x4cac22),{'number':_0x59fd3e,'error':_0x51ef16(0x13a)};}}[a0_0x22f2c8(0x22c)](_0x3cecc4){const _0x3632c0=a0_0x22f2c8;let _0x370bac=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3632c0(0x19a)](_0x3cecc4);if(_0x370bac&&_0x370bac[0x1]==='55'){let _0x35c84c=_0x370bac[0x2],_0x39de2f=_0x370bac[0x3],_0x15c548=_0x370bac[0x4];if(parseInt(_0x35c84c)>=0x1f&&_0x39de2f==='9')return _0x370bac[0x1]+_0x35c84c+_0x15c548;}return _0x3cecc4;}async[a0_0x22f2c8(0x18f)]({instanceName:_0x267d75}){const _0x104126=a0_0x22f2c8;try{return this[_0x104126(0x7b7)][_0x104126(0x3dc)][_0x267d75]?.[_0x104126(0x223)]?.['ws']?.['close'](),{'status':_0x104126(0xdd),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x1ce0c7){this[_0x104126(0x4ad)][_0x104126(0x295)](_0x1ce0c7);}}async[a0_0x22f2c8(0xca)]({instanceName:_0x1029e0}){const _0x55f994=a0_0x22f2c8;return _0x1029e0?this[_0x55f994(0x7b7)][_0x55f994(0x68a)](_0x1029e0):this[_0x55f994(0x7b7)][_0x55f994(0x68a)]();}async[a0_0x22f2c8(0x4ef)]({instanceName:_0x2354bf}){const _0x42ca2a=a0_0x22f2c8;try{return await this[_0x42ca2a(0x7b7)][_0x42ca2a(0x3dc)][_0x2354bf]?.[_0x42ca2a(0x223)]?.[_0x42ca2a(0x4ef)](_0x42ca2a(0x2b6)+_0x2354bf),{'error':!0x1,'message':_0x42ca2a(0xfb)};}catch(_0x31ae4c){throw new x(_0x31ae4c[_0x42ca2a(0x1ee)]());}}async[a0_0x22f2c8(0x440)]({instanceName:_0x20eaac}){const _0x4001b4=a0_0x22f2c8;if((await this['connectionState']({'instanceName':_0x20eaac}))[_0x4001b4(0x541)]['state']==='open')throw new m([_0x4001b4(0x175),_0x4001b4(0x146)]);try{return delete this[_0x4001b4(0x7b7)]['waInstances'][_0x20eaac],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x562889){throw new m(_0x562889[_0x4001b4(0x1ee)]());}}},ie=require('class-validator'),Ht=class{constructor(_0x17a73e){const _0x4d64a4=a0_0x22f2c8;this[_0x4d64a4(0x7b7)]=_0x17a73e;}async[a0_0x22f2c8(0x3c0)]({instanceName:_0x5006d0},_0x1dc403){const _0x2364ac=a0_0x22f2c8;return await this['waMonitor'][_0x2364ac(0x3dc)][_0x5006d0]['textMessage'](_0x1dc403);}async[a0_0x22f2c8(0x63b)]({instanceName:_0x1d2f39},_0xe8e013){const _0x17928c=a0_0x22f2c8;return await this[_0x17928c(0x7b7)]['waInstances'][_0x1d2f39]['menuMessage'](_0xe8e013);}async[a0_0x22f2c8(0x616)]({instanceName:_0x4d340f},_0x1220f2){const _0x45b6c4=a0_0x22f2c8;if((0x0,ie[_0x45b6c4(0x66c)])(_0x1220f2?.[_0x45b6c4(0x9c)]?.[_0x45b6c4(0x787)])&&!_0x1220f2?.['mediaMessage']?.[_0x45b6c4(0x252)])throw new m(_0x45b6c4(0x39f));if((0x0,ie[_0x45b6c4(0x430)])(_0x1220f2?.['mediaMessage']?.[_0x45b6c4(0x787)])||(0x0,ie[_0x45b6c4(0x66c)])(_0x1220f2?.[_0x45b6c4(0x9c)]?.['media']))return await this['waMonitor'][_0x45b6c4(0x3dc)][_0x4d340f][_0x45b6c4(0x9c)](_0x1220f2);throw new m(_0x45b6c4(0x419));}async[a0_0x22f2c8(0x42b)]({instanceName:_0x84d1f3},_0x543e1e){const _0x554b9f=a0_0x22f2c8;if((0x0,ie[_0x554b9f(0x430)])(_0x543e1e[_0x554b9f(0x15d)]['image'])||(0x0,ie[_0x554b9f(0x66c)])(_0x543e1e['stickerMessage']['image']))return await this[_0x554b9f(0x7b7)][_0x554b9f(0x3dc)][_0x84d1f3][_0x554b9f(0x1aa)](_0x543e1e);throw new m(_0x554b9f(0x419));}async['sendWhatsAppAudio']({instanceName:_0x3602ed},_0x5cdb47){const _0x4624a7=a0_0x22f2c8;if((0x0,ie[_0x4624a7(0x430)])(_0x5cdb47[_0x4624a7(0x249)]['audio'])||(0x0,ie[_0x4624a7(0x66c)])(_0x5cdb47[_0x4624a7(0x249)][_0x4624a7(0x524)]))return await this[_0x4624a7(0x7b7)][_0x4624a7(0x3dc)][_0x3602ed]['audioWhatsapp'](_0x5cdb47);throw new m(_0x4624a7(0x419));}async[a0_0x22f2c8(0x62e)]({instanceName:_0x2c745f},_0x59fa8b){const _0x49325b=a0_0x22f2c8;if((0x0,ie[_0x49325b(0x66c)])(_0x59fa8b[_0x49325b(0x320)][_0x49325b(0x9c)]?.[_0x49325b(0x787)])&&!_0x59fa8b[_0x49325b(0x320)]['mediaMessage']?.[_0x49325b(0x252)])throw new m(_0x49325b(0x39f));return await this['waMonitor'][_0x49325b(0x3dc)][_0x2c745f][_0x49325b(0x320)](_0x59fa8b);}async['sendLocation']({instanceName:_0x293159},_0x10fef4){const _0x367fc7=a0_0x22f2c8;return await this[_0x367fc7(0x7b7)][_0x367fc7(0x3dc)][_0x293159][_0x367fc7(0x687)](_0x10fef4);}async[a0_0x22f2c8(0x67e)]({instanceName:_0x2d228e},_0x3003b6){const _0x10a069=a0_0x22f2c8;return await this[_0x10a069(0x7b7)][_0x10a069(0x3dc)][_0x2d228e][_0x10a069(0x5c0)](_0x3003b6);}async[a0_0x22f2c8(0x40f)]({instanceName:_0x3f0d46},_0x3b8420){const _0x370efc=a0_0x22f2c8;return await this[_0x370efc(0x7b7)][_0x370efc(0x3dc)][_0x3f0d46][_0x370efc(0x575)](_0x3b8420);}async[a0_0x22f2c8(0x5aa)]({instanceName:_0x5b3600},_0x432bb9){const _0x2901ea=a0_0x22f2c8;return await this[_0x2901ea(0x7b7)][_0x2901ea(0x3dc)][_0x5b3600][_0x2901ea(0x757)](_0x432bb9);}async['sendReaction']({instanceName:_0x123c0f},_0x4db5b3){const _0x386025=a0_0x22f2c8;if(!_0x4db5b3[_0x386025(0x304)][_0x386025(0x225)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x386025(0xd1));return await this['waMonitor'][_0x386025(0x3dc)][_0x123c0f][_0x386025(0x304)](_0x4db5b3);}async[a0_0x22f2c8(0xc6)]({instanceName:_0x4491b7},_0x3c31ad){const _0x17286a=a0_0x22f2c8;return await this['waMonitor'][_0x17286a(0x3dc)][_0x4491b7][_0x17286a(0x62b)](_0x3c31ad);}},xi=require('jsonwebtoken'),Ls=require(a0_0x22f2c8(0x4f4)),Kt=class u{constructor(_0x1ee167,_0x1208d4,_0x2bad6f){const _0x2b212b=a0_0x22f2c8;this[_0x2b212b(0x53f)]=_0x1ee167,this['waMonitor']=_0x1208d4,this['repository']=_0x2bad6f,this[_0x2b212b(0x4ad)]=new $(u[_0x2b212b(0x2cb)]);}async[a0_0x22f2c8(0x463)](_0x5d38e5){const _0x39cc8f=a0_0x22f2c8;let _0x3fd554=this[_0x39cc8f(0x53f)][_0x39cc8f(0x319)](_0x39cc8f(0x5d0))[_0x39cc8f(0x44d)],_0x313958=(0x0,xi['sign'])({'instanceName':_0x5d38e5[_0x39cc8f(0x12b)],'apiName':it,'tokenId':(0x0,Ls['v4'])()},_0x3fd554['SECRET'],{'expiresIn':_0x3fd554[_0x39cc8f(0x78c)],'encoding':_0x39cc8f(0x270),'subject':_0x39cc8f(0x1ce)}),_0x699b10=await this[_0x39cc8f(0x70e)]['auth']['create']({'jwt':_0x313958},_0x5d38e5[_0x39cc8f(0x12b)]);if(_0x699b10[_0x39cc8f(0x295)])throw this[_0x39cc8f(0x4ad)][_0x39cc8f(0x295)]({'localError':u['name']+_0x39cc8f(0x576),'error':_0x699b10[_0x39cc8f(0x295)]}),new m(_0x39cc8f(0x75e),_0x699b10['error']?.[_0x39cc8f(0x1ee)]());return{'jwt':_0x313958};}async[a0_0x22f2c8(0x4de)](_0x2e744b){const _0x4e8b5d=a0_0x22f2c8;let _0x161b52=(0x0,Ls['v4'])()['toUpperCase'](),_0x217231=await this['repository'][_0x4e8b5d(0x3e7)]['create']({'apikey':_0x161b52},_0x2e744b[_0x4e8b5d(0x12b)]);if(_0x217231['error'])throw this['logger'][_0x4e8b5d(0x295)]({'localError':u[_0x4e8b5d(0x2cb)]+'.jwt','error':_0x217231[_0x4e8b5d(0x295)]}),new m(_0x4e8b5d(0x75e),_0x217231[_0x4e8b5d(0x295)]?.[_0x4e8b5d(0x1ee)]());return{'apikey':_0x161b52};}async[a0_0x22f2c8(0x7b8)](_0x134ed7){const _0x2d9adf=a0_0x22f2c8;let _0x34c633=this[_0x2d9adf(0x53f)][_0x2d9adf(0x319)](_0x2d9adf(0x5d0));return await this[_0x34c633[_0x2d9adf(0x3ba)]](_0x134ed7);}},Qt=class{constructor(_0x181752){const _0x271d8a=a0_0x22f2c8;this[_0x271d8a(0x7b7)]=_0x181752;}async[a0_0x22f2c8(0x797)](_0xbbd547,_0x2b68af){const _0x2a6d31=a0_0x22f2c8;return await this['waMonitor'][_0x2a6d31(0x3dc)][_0xbbd547[_0x2a6d31(0x12b)]]['createGroup'](_0x2b68af);}async[a0_0x22f2c8(0xbc)](_0x30f144,_0x319348){const _0x2ad28b=a0_0x22f2c8;return await this[_0x2ad28b(0x7b7)][_0x2ad28b(0x3dc)][_0x30f144['instanceName']][_0x2ad28b(0xbc)](_0x319348);}async[a0_0x22f2c8(0x14c)](_0x5ba731,_0x1e705a){const _0xe4d546=a0_0x22f2c8;return await this[_0xe4d546(0x7b7)][_0xe4d546(0x3dc)][_0x5ba731[_0xe4d546(0x12b)]][_0xe4d546(0x14c)](_0x1e705a);}async[a0_0x22f2c8(0xd0)](_0x4d43cf,_0x25f262){const _0x3017ac=a0_0x22f2c8;return await this[_0x3017ac(0x7b7)][_0x3017ac(0x3dc)][_0x4d43cf[_0x3017ac(0x12b)]][_0x3017ac(0xd0)](_0x25f262);}async[a0_0x22f2c8(0x177)](_0x5d7f8e,_0x59934a){const _0x1b748e=a0_0x22f2c8;return await this[_0x1b748e(0x7b7)][_0x1b748e(0x3dc)][_0x5d7f8e[_0x1b748e(0x12b)]][_0x1b748e(0x177)](_0x59934a);}async[a0_0x22f2c8(0x2b1)](_0x35f23a,_0x58e0bb){const _0x166207=a0_0x22f2c8;return await this[_0x166207(0x7b7)]['waInstances'][_0x35f23a['instanceName']][_0x166207(0x2b1)](_0x58e0bb);}async[a0_0x22f2c8(0x7c3)](_0x194b8c,_0x1b9485){const _0x17d601=a0_0x22f2c8;return await this['waMonitor'][_0x17d601(0x3dc)][_0x194b8c[_0x17d601(0x12b)]][_0x17d601(0x17d)](_0x1b9485);}async[a0_0x22f2c8(0xbf)](_0x5214c3){const _0x14e2f7=a0_0x22f2c8;return await this[_0x14e2f7(0x7b7)][_0x14e2f7(0x3dc)][_0x5214c3[_0x14e2f7(0x12b)]]['findGroups']();}async['inviteCode'](_0x57fc0d,_0x55a2f2){const _0x5d7917=a0_0x22f2c8;return await this[_0x5d7917(0x7b7)][_0x5d7917(0x3dc)][_0x57fc0d[_0x5d7917(0x12b)]][_0x5d7917(0x69b)](_0x55a2f2);}async[a0_0x22f2c8(0x6e0)](_0x1acb2a,_0x2e3dc0){const _0x4212a9=a0_0x22f2c8;return await this[_0x4212a9(0x7b7)][_0x4212a9(0x3dc)][_0x1acb2a[_0x4212a9(0x12b)]][_0x4212a9(0x6e0)](_0x2e3dc0);}async[a0_0x22f2c8(0x399)](_0x385ce3,_0x54b08c){const _0x29debc=a0_0x22f2c8;return await this[_0x29debc(0x7b7)][_0x29debc(0x3dc)][_0x385ce3[_0x29debc(0x12b)]]['groupGetInviteInfo'](_0x54b08c);}async[a0_0x22f2c8(0x42e)](_0x11c777,_0x8e53ca){const _0x5ad60b=a0_0x22f2c8;return await this[_0x5ad60b(0x7b7)][_0x5ad60b(0x3dc)][_0x11c777['instanceName']][_0x5ad60b(0x42e)](_0x8e53ca);}async[a0_0x22f2c8(0x482)](_0x145a4a,_0x4f5c17){const _0xb0cb07=a0_0x22f2c8;return await this[_0xb0cb07(0x7b7)]['waInstances'][_0x145a4a[_0xb0cb07(0x12b)]][_0xb0cb07(0x482)](_0x4f5c17);}async[a0_0x22f2c8(0x529)](_0x133ac7,_0x73aae2){const _0x1394a0=a0_0x22f2c8;return await this['waMonitor'][_0x1394a0(0x3dc)][_0x133ac7['instanceName']][_0x1394a0(0x779)](_0x73aae2);}async[a0_0x22f2c8(0x704)](_0x5928a8,_0x15cb61){const _0x2021eb=a0_0x22f2c8;return await this[_0x2021eb(0x7b7)][_0x2021eb(0x3dc)][_0x5928a8[_0x2021eb(0x12b)]][_0x2021eb(0x704)](_0x15cb61);}async[a0_0x22f2c8(0x12c)](_0xbf0f49,_0x1b8f78){const _0x103180=a0_0x22f2c8;return await this[_0x103180(0x7b7)][_0x103180(0x3dc)][_0xbf0f49['instanceName']]['leaveGroup'](_0x1b8f78);}},Yt=class{constructor(_0x4490ce){this['waMonitor']=_0x4490ce;}[a0_0x22f2c8(0x644)](_0x5808b5,_0x1e3438){const _0x169c07=a0_0x22f2c8;return this[_0x169c07(0x7b7)][_0x169c07(0x3dc)][_0x5808b5['instanceName']][_0x169c07(0x2bd)](_0x1e3438);}async[a0_0x22f2c8(0xe9)](_0xcd8db5){const _0x31a975=a0_0x22f2c8;try{return await this['waMonitor'][_0x31a975(0x3dc)][_0xcd8db5['instanceName']][_0x31a975(0x56d)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0x22f2c8(0x578)),Xt=class{constructor(_0x290257){const _0x3d7273=a0_0x22f2c8;this[_0x3d7273(0x7b7)]=_0x290257;}async['editScheduleMessage'](_0x3618fc,_0x5e9556){const _0x516738=a0_0x22f2c8;return await this['waMonitor'][_0x516738(0x3dc)][_0x3618fc[_0x516738(0x12b)]][_0x516738(0x5bb)](_0x5e9556);}async[a0_0x22f2c8(0x487)](_0x63d159){const _0xeb411c=a0_0x22f2c8;return await this['waMonitor'][_0xeb411c(0x3dc)][_0x63d159['instanceName']][_0xeb411c(0x487)]();}async[a0_0x22f2c8(0x17b)](_0x2fb225){const _0x229366=a0_0x22f2c8;return await this[_0x229366(0x7b7)]['waInstances'][_0x2fb225['instanceName']][_0x229366(0x17b)]();}async['getAutomateSystem'](_0x410a0e){const _0x4b34ec=a0_0x22f2c8;return await this['waMonitor'][_0x4b34ec(0x3dc)][_0x410a0e['instanceName']]['getAutomateSystem']();}async[a0_0x22f2c8(0x6da)](_0x1e18fe,_0xbfdbe){const _0x1ac71c=a0_0x22f2c8;return await this[_0x1ac71c(0x7b7)]['waInstances'][_0x1e18fe[_0x1ac71c(0x12b)]][_0x1ac71c(0x6da)](_0xbfdbe);}async[a0_0x22f2c8(0x35b)](_0x3ded9b,_0x3745a5){const _0x2f01d3=a0_0x22f2c8;return await this[_0x2f01d3(0x7b7)]['waInstances'][_0x3ded9b[_0x2f01d3(0x12b)]][_0x2f01d3(0x35b)](_0x3745a5);}async['updateAutoCompleteMessages'](_0x4b2d8a,_0x3f12e1){const _0x3f72c7=a0_0x22f2c8;return await this[_0x3f72c7(0x7b7)][_0x3f72c7(0x3dc)][_0x4b2d8a['instanceName']][_0x3f72c7(0x6d3)](_0x3f12e1);}async[a0_0x22f2c8(0x507)](_0xb07f37,_0x279849){const _0xc328bc=a0_0x22f2c8;return await this['waMonitor']['waInstances'][_0xb07f37[_0xc328bc(0x12b)]][_0xc328bc(0x507)](_0x279849);}async[a0_0x22f2c8(0x5c1)](_0x5710d9,_0x3bb6fc){const _0x384a36=a0_0x22f2c8;return await this['waMonitor'][_0x384a36(0x3dc)][_0x5710d9[_0x384a36(0x12b)]][_0x384a36(0x5c1)](_0x3bb6fc);}async[a0_0x22f2c8(0x3b3)](_0x46679e,_0x329959,_0x57552,_0x40c447){const _0x2cbd01=a0_0x22f2c8;return await this[_0x2cbd01(0x7b7)][_0x2cbd01(0x3dc)][_0x46679e][_0x2cbd01(0x3b3)](_0x329959,_0x57552,_0x40c447);}async[a0_0x22f2c8(0x350)](_0x2efcd3,_0x5e3245){const _0x56313b=a0_0x22f2c8;return await this[_0x56313b(0x7b7)]['waInstances'][_0x2efcd3[_0x56313b(0x12b)]]['getConversation'](_0x5e3245);}async[a0_0x22f2c8(0x739)](_0xd4950e,_0x452202){const _0x262bed=a0_0x22f2c8;return await this[_0x262bed(0x7b7)]['waInstances'][_0xd4950e[_0x262bed(0x12b)]][_0x262bed(0x739)](_0x452202);}async[a0_0x22f2c8(0x9f)](_0x3b6cce,_0x2fc948){const _0x851bc7=a0_0x22f2c8;return await this[_0x851bc7(0x7b7)]['waInstances'][_0x3b6cce[_0x851bc7(0x12b)]][_0x851bc7(0x9f)](_0x2fc948);}async[a0_0x22f2c8(0x3fd)](_0x2346dd,_0x4ec4fd){const _0x563153=a0_0x22f2c8;return await this['waMonitor'][_0x563153(0x3dc)][_0x2346dd[_0x563153(0x12b)]][_0x563153(0x3fd)](_0x4ec4fd);}async[a0_0x22f2c8(0x1b5)](_0x3164aa,_0x509a4f){const _0xad0e51=a0_0x22f2c8;return await this[_0xad0e51(0x7b7)][_0xad0e51(0x3dc)][_0x3164aa[_0xad0e51(0x12b)]]['getFlow'](_0x509a4f[_0xad0e51(0x286)]);}async['createFlow'](_0x553b0d,_0x12c48f,_0x1377d2){const _0x2e07ed=a0_0x22f2c8;return await this[_0x2e07ed(0x7b7)][_0x2e07ed(0x3dc)][_0x553b0d['instanceName']][_0x2e07ed(0x382)](_0x12c48f,_0x1377d2);}async[a0_0x22f2c8(0x23a)](_0x179eea,_0x223b71,_0xbcede3){const _0xeb89d4=a0_0x22f2c8;return await this['waMonitor']['waInstances'][_0x179eea[_0xeb89d4(0x12b)]][_0xeb89d4(0x23a)](_0x223b71,_0xbcede3);}async[a0_0x22f2c8(0x214)](_0x308a11,_0x5ee28c){const _0x3a92bd=a0_0x22f2c8;return await this['waMonitor']['waInstances'][_0x308a11[_0x3a92bd(0x12b)]][_0x3a92bd(0x214)](_0x5ee28c);}async[a0_0x22f2c8(0x6ca)](_0x44dd46,_0x48b760){const _0xaa1e58=a0_0x22f2c8;return await this[_0xaa1e58(0x7b7)][_0xaa1e58(0x3dc)][_0x44dd46[_0xaa1e58(0x12b)]][_0xaa1e58(0x6ca)](_0x48b760);}async[a0_0x22f2c8(0x714)](_0x39549d,_0x1d6661){const _0x5e8e13=a0_0x22f2c8;return await this[_0x5e8e13(0x7b7)][_0x5e8e13(0x3dc)][_0x39549d[_0x5e8e13(0x12b)]][_0x5e8e13(0x714)](_0x1d6661);}async[a0_0x22f2c8(0x378)](_0x1de530,_0x5d93fa){const _0x35e2a7=a0_0x22f2c8;return await this[_0x35e2a7(0x7b7)]['waInstances'][_0x1de530['instanceName']][_0x35e2a7(0x378)](_0x5d93fa);}async[a0_0x22f2c8(0x664)](_0x3ba108,_0x3f5a4c){const _0x2eec5c=a0_0x22f2c8;return await this[_0x2eec5c(0x7b7)][_0x2eec5c(0x3dc)][_0x3ba108['instanceName']]['editFlowVaredit'](_0x3f5a4c);}async[a0_0x22f2c8(0x56b)](_0x47bd88,_0x3d1400){const _0x5adff0=a0_0x22f2c8;return await this[_0x5adff0(0x7b7)][_0x5adff0(0x3dc)][_0x47bd88['instanceName']][_0x5adff0(0x56b)](_0x3d1400);}async[a0_0x22f2c8(0x557)](_0xfc8a83,_0x7f92da){const _0x45c17e=a0_0x22f2c8;return await this[_0x45c17e(0x7b7)][_0x45c17e(0x3dc)][_0xfc8a83[_0x45c17e(0x12b)]][_0x45c17e(0x557)](_0x7f92da);}async[a0_0x22f2c8(0x4ac)](_0x3a82e0){const _0x225190=a0_0x22f2c8;return await this[_0x225190(0x7b7)][_0x225190(0x3dc)][_0x3a82e0['instanceName']][_0x225190(0x4ac)]();}},Zt=class{constructor(_0x51f270){this['webhookService']=_0x51f270;}async[a0_0x22f2c8(0x358)](_0xdc70b1,_0x3594cc){const _0x409b3f=a0_0x22f2c8;return this[_0x409b3f(0x681)][_0x409b3f(0x644)](_0xdc70b1,_0x3594cc);}async[a0_0x22f2c8(0x56d)](_0x4f2be3){const _0x3ca713=a0_0x22f2c8;return this[_0x3ca713(0x681)][_0x3ca713(0xe9)](_0x4f2be3);}},es=class extends _{constructor(_0x51c3c8,_0xb21151){super(_0xb21151),this['webhookModel']=_0x51c3c8,this['configService']=_0xb21151;}async[a0_0x22f2c8(0x644)](_0x20a4e5,_0x5e2cfa){const _0x1ea4d3=a0_0x22f2c8;try{return this[_0x1ea4d3(0x126)][_0x1ea4d3(0x205)]?{'insertCount':(await this[_0x1ea4d3(0xcc)][_0x1ea4d3(0x5f8)]({'_id':_0x5e2cfa},{..._0x20a4e5},{'upsert':!0x0}))[_0x1ea4d3(0x2a2)]}:{'insertCount':0x1};}catch(_0x12bec7){return _0x12bec7;}}async['delete'](_0x7235bc){const _0x18cc57=a0_0x22f2c8;try{if(this[_0x18cc57(0x126)][_0x18cc57(0x205)]){await this[_0x18cc57(0xcc)][_0x18cc57(0x574)]({'_id':_0x7235bc});return;}}catch(_0x529f8e){return{'error':_0x529f8e};}}async[a0_0x22f2c8(0xe9)](_0x34d358){const _0x5ce9ab=a0_0x22f2c8;try{if(this[_0x5ce9ab(0x126)][_0x5ce9ab(0x205)])return await this['webhookModel'][_0x5ce9ab(0x239)]({'_id':_0x34d358});}catch{return{};}}},ts=class extends _{constructor(_0x4c8491,_0xc3b677){const _0x4ad3e2=a0_0x22f2c8;super(_0xc3b677),this[_0x4ad3e2(0x109)]=_0x4c8491,this[_0x4ad3e2(0x53f)]=_0xc3b677,this['auth']=_0xc3b677[_0x4ad3e2(0x319)](_0x4ad3e2(0x5d0));}async[a0_0x22f2c8(0x644)](_0x5629e1,_0x30ef2f){const _0x20ded9=a0_0x22f2c8;try{if(this[_0x20ded9(0x126)][_0x20ded9(0x205)])return{'insertCount':(await this[_0x20ded9(0x109)]['updateOne']({'_id':_0x30ef2f},{'$set':{..._0x5629e1}},{'upsert':!0x0}))[_0x20ded9(0x2a2)]};}catch(_0xd8d0fd){return{'error':_0xd8d0fd};}}async['updateAll'](_0x3de1a8,_0x426369){const _0x13e0a4=a0_0x22f2c8;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this['authModel'][_0x13e0a4(0x25b)](_0x3de1a8,{'$set':_0x426369},{'upsert':!0x1}))[_0x13e0a4(0x2a2)]};throw new Error(_0x13e0a4(0x469));}catch(_0x4df0d9){return{'error':_0x4df0d9};}}async[a0_0x22f2c8(0x1a1)](_0x5322c4){const _0x464f47=a0_0x22f2c8;try{if(this[_0x464f47(0x126)][_0x464f47(0x205)])return{'insertCount':(await this[_0x464f47(0x109)][_0x464f47(0x1a1)](_0x5322c4))['deletedCount']};throw new Error(_0x464f47(0x4c4));}catch(_0x2106f0){return{'error':_0x2106f0};}}async[a0_0x22f2c8(0x192)](_0x27b06b){const _0x50581f=a0_0x22f2c8;try{if(this['dbSettings'][_0x50581f(0x205)]){await this[_0x50581f(0x109)][_0x50581f(0x574)]({'_id':_0x27b06b});return;}}catch(_0x2aaf89){return{'error':_0x2aaf89};}}async['find'](_0x59e96c){const _0x3cd530=a0_0x22f2c8;try{if(this[_0x3cd530(0x126)]['ENABLED'])return await this['authModel'][_0x3cd530(0x239)]({'_id':_0x59e96c});}catch{return{};}}async['findAll'](){const _0xc120f6=a0_0x22f2c8;try{if(this[_0xc120f6(0x126)][_0xc120f6(0x205)])return await this['authModel'][_0xc120f6(0xe9)]();}catch{return[];}}async[a0_0x22f2c8(0x79d)](_0x26de62){const _0x336a40=a0_0x22f2c8;try{if(this[_0x336a40(0x126)][_0x336a40(0x205)])return await this['authModel']['find'](_0x26de62);}catch{return[];}}},ss=class extends _{async['deleteOne'](_0x36000a){const _0x2c9356=a0_0x22f2c8;try{let _0x24754e=I(_0x36000a['where']);return{'deletedCount':(await Me['deleteOne'](_0x24754e))['deletedCount']};}catch(_0x37cf3a){return{'error':_0x37cf3a?.[_0x2c9356(0x1ee)]()};}}async['updateOne'](_0x4e9850,_0x4b0e82){const _0x49c30f=a0_0x22f2c8;try{let _0x153154=await Me[_0x49c30f(0x2e1)](_0x4e9850);return _0x153154?(Object[_0x49c30f(0x3b7)](_0x153154,_0x4b0e82),await _0x153154['save']()):(console[_0x49c30f(0x295)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x4e9850),null);}catch(_0x1e2206){return console[_0x49c30f(0x295)](_0x49c30f(0x28b),_0x1e2206),null;}}async['createAndSave'](_0x165902){const _0x20d099=a0_0x22f2c8;try{return await new Me(_0x165902)[_0x20d099(0x433)]();}catch(_0x5477c7){return console[_0x20d099(0x295)](_0x20d099(0x633),_0x5477c7),null;}}async[a0_0x22f2c8(0x260)](_0x8c3675){const _0x31cba1=a0_0x22f2c8;try{let _0x5d5c61=_0x8c3675[_0x31cba1(0x297)]??{};return await Me[_0x31cba1(0xe9)](_0x5d5c61)[_0x31cba1(0x373)](_0x8c3675[_0x31cba1(0x373)]??0x0)[_0x31cba1(0x47e)]();}catch(_0x27a995){return console[_0x31cba1(0x295)](_0x31cba1(0x313),_0x27a995),[];}}async[a0_0x22f2c8(0x239)](_0x53ce1d){const _0x3516c6=a0_0x22f2c8;try{let _0x43dd56=I(_0x53ce1d[_0x3516c6(0x297)]);return await Me[_0x3516c6(0x239)](_0x43dd56)['lean']();}catch{return null;}}},as=class extends _{[a0_0x22f2c8(0x32e)](_0x44591e){return ya(_0x44591e);}async['insert'](_0x7da6c6){const _0x117cb6=a0_0x22f2c8;if(_0x7da6c6[_0x117cb6(0x4a3)]!==0x0)try{return{'insertCount':(await this[_0x117cb6(0x32e)](_0x7da6c6[0x0][_0x117cb6(0x58e)])[_0x117cb6(0x698)]([..._0x7da6c6]))[_0x117cb6(0x4a3)]};}catch(_0x36ffdd){return _0x36ffdd;}}async['delete'](_0x1a9683,_0x3a2dec){const _0x3aaf97=a0_0x22f2c8;try{let _0x180af2=this[_0x3aaf97(0x32e)](_0x3a2dec),_0x48f922=I(_0x1a9683[_0x3aaf97(0x297)]);return{'deletedCount':(await _0x180af2[_0x3aaf97(0x1a1)](_0x48f922))[_0x3aaf97(0xd7)]};}catch(_0x4c2ce2){return{'error':_0x4c2ce2?.[_0x3aaf97(0x1ee)]()};}}async[a0_0x22f2c8(0x574)](_0xfb5826,_0xca933a){const _0x5662aa=a0_0x22f2c8;try{let _0x13f860=this[_0x5662aa(0x32e)](_0xca933a),_0x443ab9=I(_0xfb5826[_0x5662aa(0x297)]);return{'deletedCount':(await _0x13f860['deleteOne'](_0x443ab9))[_0x5662aa(0xd7)]};}catch(_0x1a38bb){return{'error':_0x1a38bb?.[_0x5662aa(0x1ee)]()};}}async[a0_0x22f2c8(0x748)](_0x3daf5b,_0x41ac68){const _0x4b7179=a0_0x22f2c8;try{if(_0x3daf5b[_0x4b7179(0x4a3)]===0x0)return;let _0x1e35ad=this[_0x4b7179(0x32e)](_0x41ac68),_0x13ce85=_0x3daf5b[_0x4b7179(0x657)](_0x3fde17=>({'updateOne':{'filter':{'name':_0x3fde17[_0x4b7179(0x2cb)],'owner':_0x41ac68},'update':{..._0x3fde17}}})),{modifiedCount:_0x2e0310}=await _0x1e35ad[_0x4b7179(0x2fb)](_0x13ce85);return{'insertCount':_0x2e0310};}catch{return;}}async[a0_0x22f2c8(0x25b)](_0x25b8ab,_0xf2f152,_0x2d74cd){const _0xab130c=a0_0x22f2c8;try{return{'modifiedCount':(await this[_0xab130c(0x32e)](_0x2d74cd)['updateMany'](_0x25b8ab,{'$set':_0xf2f152})['exec']())[_0xab130c(0x2a2)]};}catch(_0x2c906e){return console['error'](_0xab130c(0x452),_0x2c906e),{'error':_0x2c906e};}}async[a0_0x22f2c8(0x365)](_0x2f86ce,_0x1f4e17,_0xcc3703){const _0x2e9b7c=a0_0x22f2c8;try{return await this['getConversationModelForOwner'](_0xcc3703)['findOneAndUpdate']({'_id':_0x2f86ce},{'$set':_0x1f4e17},{'new':!0x0,'upsert':!0x0})[_0x2e9b7c(0x47e)]();}catch(_0x207478){return console[_0x2e9b7c(0x295)](_0x207478),null;}}async[a0_0x22f2c8(0xe9)](_0x467924,_0x17a9ad){const _0x48dcb9=a0_0x22f2c8;try{return await this[_0x48dcb9(0x32e)](_0x17a9ad)[_0x48dcb9(0xe9)](_0x467924)[_0x48dcb9(0x1e3)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x22f2c8(0x239)](_0x41e59a,_0x411afe){const _0x1a145e=a0_0x22f2c8;try{return await this['getConversationModelForOwner'](_0x411afe)[_0x1a145e(0x239)]({..._0x41e59a[_0x1a145e(0x297)]})['lean']();}catch{return null;}}async['deleteAll'](_0x596788){const _0x33992f=a0_0x22f2c8;try{return await this[_0x33992f(0x32e)](_0x596788)[_0x33992f(0x5b1)][_0x33992f(0x1f0)](),{'success':!0x0};}catch(_0x1379ec){return console[_0x33992f(0x295)](_0x1379ec),{'success':!0x1,'error':_0x1379ec};}}},is=class extends _{[a0_0x22f2c8(0x1be)](_0x1064d8){return ba(_0x1064d8);}async[a0_0x22f2c8(0x2fb)](_0x3e32cf,_0x365b53){const _0x3c7167=a0_0x22f2c8;try{return await this[_0x3c7167(0x1be)](_0x365b53)[_0x3c7167(0x2fb)](_0x3e32cf);}catch(_0x4d0278){return console[_0x3c7167(0x295)](_0x3c7167(0x279),_0x4d0278),null;}}async[a0_0x22f2c8(0x1bf)](_0x4310f3,_0x445a9d){const _0x1abb9d=a0_0x22f2c8;try{let _0x54390b=this[_0x1abb9d(0x1be)](_0x445a9d);return await new _0x54390b(_0x4310f3)['save']();}catch(_0x394699){return console[_0x1abb9d(0x295)](_0x1abb9d(0x63d),_0x394699),null;}}async[a0_0x22f2c8(0x574)](_0x3d6ed4,_0xf1a73c){const _0x3e8867=a0_0x22f2c8;try{return await this['getScheduleMessageModelForOwner'](_0xf1a73c)['findByIdAndDelete'](_0x3d6ed4),{};}catch(_0x344096){return{'error':_0x344096?.[_0x3e8867(0x1ee)]()};}}async[a0_0x22f2c8(0x365)](_0x38418c,_0x3ccead,_0x3462f4,_0x12e062={}){const _0x124f1a=a0_0x22f2c8;try{return await this[_0x124f1a(0x1be)](_0x3462f4)[_0x124f1a(0x50c)](_0x38418c,_0x3ccead,{..._0x12e062,'new':!0x0})['lean']();}catch(_0x492157){return console[_0x124f1a(0x295)](_0x124f1a(0x4ec),_0x492157),null;}}async['updateOneById'](_0xdbc572,_0x5a41d5,_0x3984ef){const _0x50dbaa=a0_0x22f2c8;try{return await this[_0x50dbaa(0x1be)](_0x3984ef)[_0x50dbaa(0x5be)](_0xdbc572,_0x5a41d5,{'new':!0x0})[_0x50dbaa(0x47e)]();}catch(_0x43fafc){return console[_0x50dbaa(0x295)](_0x50dbaa(0x4ec),_0x43fafc),null;}}async['find'](_0x3d850a,_0x4320f6){const _0x57da9f=a0_0x22f2c8;try{return await this[_0x57da9f(0x1be)](_0x4320f6)[_0x57da9f(0xe9)](_0x3d850a['where'])['limit'](_0x3d850a?.[_0x57da9f(0x373)]??0x0)[_0x57da9f(0x1e3)]({'when':0x1})[_0x57da9f(0x47e)]();}catch{return[];}}async[a0_0x22f2c8(0x239)](_0x9ffcf6,_0x4465f9){const _0x59f6c8=a0_0x22f2c8;try{return await this['getScheduleMessageModelForOwner'](_0x4465f9)[_0x59f6c8(0x239)](_0x9ffcf6[_0x59f6c8(0x297)])['sort']({'when':0x1})[_0x59f6c8(0x47e)]();}catch{return null;}}async[a0_0x22f2c8(0x2e1)](_0x2dbfed,_0x57dec4){const _0x301ebc=a0_0x22f2c8;try{return await this[_0x301ebc(0x1be)](_0x57dec4)[_0x301ebc(0x2e1)](_0x2dbfed)[_0x301ebc(0x47e)]();}catch{return null;}}async[a0_0x22f2c8(0x1a1)](_0x5c0743,_0x5d3b87){const _0x4f03f6=a0_0x22f2c8;try{return{'deletedCount':(await this[_0x4f03f6(0x1be)](_0x5d3b87)['deleteMany'](_0x5c0743))[_0x4f03f6(0xd7)]};}catch(_0x1ec538){return console[_0x4f03f6(0x295)](_0x4f03f6(0x5b0),_0x1ec538),{'error':_0x1ec538};}}async[a0_0x22f2c8(0x352)](_0x416db8){const _0x598119=a0_0x22f2c8;try{return await this[_0x598119(0x1be)](_0x416db8)[_0x598119(0x5b1)]['drop'](),{'success':!0x0};}catch(_0x2b4da8){return console[_0x598119(0x295)](_0x2b4da8),{'success':!0x1,'error':_0x2b4da8};}}},os=class extends _{async[a0_0x22f2c8(0x748)](_0x92c5cb,_0x43644b){const _0x23a357=a0_0x22f2c8;try{if(this[_0x23a357(0x126)]['ENABLED'])return await Ie[_0x23a357(0x50c)]({'_id':_0x43644b},{'$set':_0x92c5cb},{'new':!0x0});}catch(_0x1da4d9){throw console['error'](_0x23a357(0x532),_0x1da4d9),_0x1da4d9;}}async[a0_0x22f2c8(0x44c)](_0x25d4b6){const _0x2f8751=a0_0x22f2c8;try{let _0x4698f8=await Ie[_0x2f8751(0x2e1)](_0x25d4b6);return _0x4698f8?_0x4698f8[_0x2f8751(0x581)]||(_0x4698f8[_0x2f8751(0x581)]=[],await _0x4698f8[_0x2f8751(0x433)]()):(_0x4698f8=new Ie({'_id':_0x25d4b6,'autoCompleteMessages':[]}),await _0x4698f8['save']()),_0x4698f8;}catch(_0x634a7){return _0x634a7['code']===0x2af8&&_0x634a7['keyPattern']&&_0x634a7[_0x2f8751(0x5e2)][_0x2f8751(0x79c)]?(console[_0x2f8751(0x295)](_0x2f8751(0x5cf)),await Ie[_0x2f8751(0x5b1)][_0x2f8751(0x2f6)](_0x2f8751(0xa9)),null):(console[_0x2f8751(0x295)](_0x2f8751(0x3f8),_0x634a7),null);}}},Fo=new $(a0_0x22f2c8(0xf3)),Uo=new Ke(S),jo=new qt(S),Jo=new rt(S),qo=new Vt(aa,S),Vo=new es(da,S),Go=new ts(ca,S),Bo=new ve(Be,S),Wo=new ss(S),zo=new Gt(S),Ho=new as(S),Ko=new is(S),Qo=new os(S),me=new ze(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,R?.[a0_0x22f2c8(0x628)]()),G=new Jt(hs,S,me),Yo=new Kt(S,G,me),Xo=new Yt(G),$s=new Zt(Xo),O=new Xt(G),ue=new zt(G,S,me,hs,Yo),B=new Ht(G),P=new Bt(G),q=new Qt(G);Fo[a0_0x22f2c8(0x778)](a0_0x22f2c8(0x24a));var rg=require(a0_0x22f2c8(0x368)),Fs=require('fs'),Di=A(require(a0_0x22f2c8(0x75f))),Pi=A(require(a0_0x22f2c8(0x2c5))),Ue=class u{static #e;static set[a0_0x22f2c8(0xe8)](_0x29a1df){this.#e=_0x29a1df;}static get[a0_0x22f2c8(0x75f)](){const _0x381110=a0_0x22f2c8;let {FULLCHAIN:_0x285618,PRIVKEY:_0x3c3a8a}=S[_0x381110(0x319)](_0x381110(0x63a));return Di[_0x381110(0x251)]({'cert':(0x0,Fs[_0x381110(0x641)])(_0x285618),'key':(0x0,Fs[_0x381110(0x641)])(_0x3c3a8a)},u.#e);}static get['http'](){const _0x52b1ce=a0_0x22f2c8;return Pi[_0x52b1ce(0x251)](u.#e);}},je=A(require('fs')),Ji=A(require(a0_0x22f2c8(0x331))),Je=A(require(a0_0x22f2c8(0x6f3))),ns=A(require('path')),rs=require('child_process');function Zo(){const _0x1ffbf2=a0_0x22f2c8;G[_0x1ffbf2(0x1a9)]();let _0x5ab963=ns[_0x1ffbf2(0x66b)][_0x1ffbf2(0x640)](__dirname,'downloads');ji(_0x5ab963);}var ji=_0x6f9bfc=>{const _0x5111e8=a0_0x22f2c8;let _0x537d48=je['default'][_0x5111e8(0x23e)](_0x6f9bfc),_0x42a3c8=0xc*0x3c*0x3c*0x3e8,_0x13bc66=0x2*0x3c*0x3c*0x3e8,_0x1e04e6=new Date()['getTime']();_0x537d48[_0x5111e8(0x317)](_0x309985=>{const _0x25fde3=_0x5111e8;let _0x285a9c=ns[_0x25fde3(0x66b)][_0x25fde3(0x640)](_0x6f9bfc,_0x309985),_0x45eeda=je[_0x25fde3(0x66b)][_0x25fde3(0x74f)](_0x285a9c)[_0x25fde3(0x550)][_0x25fde3(0x7ab)]();_0x1e04e6-_0x45eeda>_0x42a3c8&&(je[_0x25fde3(0x66b)][_0x25fde3(0x34d)](_0x285a9c),console['log'](_0x25fde3(0x777)+_0x309985));}),setTimeout(()=>ji(_0x6f9bfc),_0x13bc66);};function er(){const _0x308bba=a0_0x22f2c8;let _0x46cd23=new $(_0x308bba(0x3ae)),_0x17e85d=(0x0,we['default'])();_0x17e85d[_0x308bba(0x622)]((0x0,Ui[_0x308bba(0x66b)])({'origin'(_0x278e97,_0x82f5b6){const _0x1638d2=_0x308bba;let {ORIGIN:_0x226b5a}=S[_0x1638d2(0x319)](_0x1638d2(0x6c7));return _0x278e97||(_0x278e97='*'),_0x226b5a['indexOf']('*')!==-0x1||_0x226b5a[_0x1638d2(0x418)](_0x278e97)!==-0x1?_0x82f5b6(null,!0x0):_0x82f5b6(new Error(_0x1638d2(0x6bf)));},'methods':[...S['get'](_0x308bba(0x6c7))[_0x308bba(0x605)]],'credentials':S['get']('CORS')[_0x308bba(0x124)]}),(0x0,we[_0x308bba(0x5e1)])({'extended':!0x0,'limit':_0x308bba(0xfd)}),(0x0,we['json'])({'limit':_0x308bba(0xfd)})),_0x17e85d[_0x308bba(0x622)]((_0x5366e8,_0x45a76b,_0x5d0443)=>{const _0x1ca063=_0x308bba;_0x5366e8[_0x1ca063(0x6df)][_0x1ca063(0xf2)]('/events')?_0x5d0443():(0x0,Fi[_0x1ca063(0x66b)])()(_0x5366e8,_0x45a76b,_0x5d0443);}),_0x17e85d[_0x308bba(0x407)]('view\x20engine',_0x308bba(0x592)),_0x17e85d[_0x308bba(0x407)]('views',(0x0,js[_0x308bba(0x640)])(ne,'views')),_0x17e85d[_0x308bba(0x622)](we[_0x308bba(0x66b)][_0x308bba(0x27b)]((0x0,js['join'])(ne,_0x308bba(0x480)))),_0x17e85d['use']((_0xf59265,_0x40d878,_0x383d9a)=>{const _0x2872f4=_0x308bba;let _0x5133ed=_0x40d878[_0x2872f4(0x196)];_0x40d878['send']=function(_0x51cbbc){const _0xe4f073=_0x2872f4;if(_0xf59265[_0xe4f073(0x7bf)][_0xe4f073(0x540)]===_0xe4f073(0x613)||_0xf59265['headers'][_0xe4f073(0x77a)]==='true'){let _0x70be86=JSON[_0xe4f073(0x7ca)](_0x51cbbc);_0x51cbbc=JSON[_0xe4f073(0x2e3)](_0x1b4450(_0x70be86));}return _0x5133ed[_0xe4f073(0x67a)](_0x40d878,[_0x51cbbc]);},_0x383d9a();}),_0x17e85d['use']('/',ke),_0x17e85d[_0x308bba(0x622)]((_0x5599dd,_0x59641e,_0x4366ef,_0x3d1c0b)=>{const _0x5122a1=_0x308bba;if(_0x5599dd)return _0x4366ef[_0x5122a1(0x3fe)](_0x5599dd['status']||0x1f4)[_0x5122a1(0x36e)](_0x5599dd);},(_0x1ec7b9,_0x5f5526,_0x1d1c79)=>{const _0x59af1f=_0x308bba;let {method:_0x587801,url:_0x45cd1d}=_0x1ec7b9;_0x5f5526[_0x59af1f(0x3fe)](0x194)[_0x59af1f(0x36e)]({'status':0x194,'message':'Cannot\x20'+_0x587801[_0x59af1f(0x98)]()+'\x20'+_0x45cd1d,'error':'Not\x20Found'}),_0x1d1c79();});let _0x1b4450=(_0x28d5a1,_0xd9d350=_0x308bba(0x4e5))=>{let _0xf66000=(_0x1e4ae9,_0x27badc=null,_0x57927f=!0x1)=>{const _0x4560e4=a0_0x2beb;let _0xd77c04={};return Object[_0x4560e4(0x158)](_0x1e4ae9)['forEach'](_0x5e1239=>{const _0x1e9a6b=_0x4560e4;let _0x1f74d9=_0x1e4ae9[_0x5e1239],_0x9c1160=''+_0xd9d350+_0x5e1239;_0x27badc&&!_0x57927f&&(_0x9c1160=_0x27badc+'.'+_0x5e1239),!_0x1f74d9&&_0x1f74d9!==0x0&&_0x1f74d9!==!0x1||typeof _0x1f74d9>'u'?_0xd77c04[_0x9c1160]=null:typeof _0x1f74d9!=_0x1e9a6b(0x72b)&&!Array['isArray'](_0x1f74d9)?_0xd77c04[_0x9c1160]=_0x1f74d9:typeof _0x1f74d9==_0x1e9a6b(0x72b)&&!Array[_0x1e9a6b(0x289)](_0x1f74d9)?_0xd77c04=Object['assign'](_0xd77c04,_0xf66000(_0x1f74d9,_0x9c1160)):Array[_0x1e9a6b(0x289)](_0x1f74d9)&&(typeof _0x1f74d9[0x0]==_0x1e9a6b(0x72b)?(_0xd77c04[_0x9c1160]=[],_0x1f74d9[_0x1e9a6b(0x317)](_0x36c62e=>{_0xd77c04[_0x9c1160]['push'](_0xf66000(_0x36c62e,_0x9c1160,!0x0));})):_0xd77c04[_0x9c1160]=_0x1f74d9);}),_0xd77c04;};return Array['isArray'](_0x28d5a1)?_0x28d5a1['map'](_0x1af65b=>_0xf66000(_0x1af65b)):typeof _0x28d5a1=='object'&&_0x28d5a1!==null?_0xf66000(_0x28d5a1):{};},_0xf85446=S[_0x308bba(0x319)](_0x308bba(0x3ae));Ue[_0x308bba(0xe8)]=_0x17e85d;let _0x34f365=Ue[_0xf85446['TYPE']],_0x280731=_0x308bba(0x755);_0x34f365[_0x308bba(0x660)](_0xf85446[_0x308bba(0x412)],()=>{const _0x42bca5=_0x308bba;_0x46cd23[_0x42bca5(0x274)](_0x280731),_0x46cd23[_0x42bca5(0x274)](_0xf85446[_0x42bca5(0x3ba)][_0x42bca5(0x98)]()+'\x20-\x20ON:\x20'+_0xf85446[_0x42bca5(0x412)]);}),Zo(),Ys();}var tr='https://github.com/uazapi/uazapi.git',sr=ns[a0_0x22f2c8(0x66b)][a0_0x22f2c8(0x640)](__dirname,a0_0x22f2c8(0x21b)),Re=null;function ar(){return new Promise((_0x2fbed1,_0x2292ab)=>{const _0x1638ec=a0_0x2beb;je['default'][_0x1638ec(0x3a5)](sr,'utf-8',(_0x4c03b1,_0x293cb9)=>{const _0x870f28=_0x1638ec;if(_0x4c03b1){Re=_0x4c03b1,_0x2fbed1();return;}Ji[_0x870f28(0x66b)][_0x870f28(0x7ca)](_0x293cb9)[_0x870f28(0x425)][_0x870f28(0x45f)]===tr?(Re=null,_0x2fbed1()):(Re=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x2fbed1());});});}async function ir(){const _0x2b26db=a0_0x22f2c8;try{await ar(),await Js();}catch(_0x461c7d){console[_0x2b26db(0x295)](_0x2b26db(0x37f)+_0x461c7d),process[_0x2b26db(0x3ab)](0x1);}}ir();async function qi(){const _0x5dc7fb=a0_0x22f2c8;let _0x3cbed1;try{_0x3cbed1=(await Je[_0x5dc7fb(0x66b)]['get']('https://jsonip.com'))[_0x5dc7fb(0x47d)]['ip'];}catch(_0x29a1a8){console[_0x5dc7fb(0x295)](_0x29a1a8);try{_0x3cbed1=(await Je['default'][_0x5dc7fb(0x319)](_0x5dc7fb(0x31a)))[_0x5dc7fb(0x47d)]['ip'];}catch(_0x516917){console[_0x5dc7fb(0x295)](_0x516917);try{_0x3cbed1=(await Je[_0x5dc7fb(0x66b)]['get']('http://checkip.dyndns.org'))[_0x5dc7fb(0x47d)][_0x5dc7fb(0x349)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x23b3fa){return console[_0x5dc7fb(0x295)](_0x23b3fa),!0x1;}}}return _0x3cbed1;}var ki=0x0;async function or(){const _0x228a48=a0_0x22f2c8;let _0x2d8abd=await new de(S[_0x228a48(0x319)](_0x228a48(0x174)))[_0x228a48(0x2a7)]();return console[_0x228a48(0x274)](_0x228a48(0x1c4),_0x2d8abd[_0x228a48(0x4a3)]),_0x2d8abd['length'];}function rr(_0x256234){const _0x54e280=a0_0x22f2c8;let _0x4e37d9=_0x256234[_0x54e280(0x319)](_0x54e280(0x3ae))[_0x54e280(0x7d0)],_0x1e445f=_0x256234['get'](_0x54e280(0x63a));console[_0x54e280(0x274)]('Valor\x20da\x20URL\x20recuperada:',_0x4e37d9),console[_0x54e280(0x274)]('Configuração\x20SSL\x20recuperada:',_0x1e445f);let _0x1b701d='',_0x4c0a63=_0x4e37d9||'';if(_0x4e37d9){let _0x524d9e=_0x4e37d9[_0x54e280(0x349)](/\/\/(.*?)\./);console['log']('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x524d9e),_0x524d9e&&_0x524d9e[0x1]&&(_0x1b701d=_0x524d9e[0x1],console[_0x54e280(0x274)](_0x54e280(0x4e6),_0x1b701d));}if(!_0x1b701d&&_0x1e445f&&_0x1e445f[_0x54e280(0x4d6)]){let _0x344cdf=_0x1e445f['FULLCHAIN']['split']('/');console[_0x54e280(0x274)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x344cdf);let _0x5e9429=_0x344cdf[_0x344cdf[_0x54e280(0x4a3)]-0x2];if(console[_0x54e280(0x274)](_0x54e280(0x3e5),_0x5e9429),_0x5e9429){let _0x41e627=_0x5e9429['split']('.');console[_0x54e280(0x274)]('Partes\x20do\x20domínio:',_0x41e627),_0x41e627[_0x54e280(0x4a3)]>0x2&&(_0x1b701d=_0x41e627[0x0],console[_0x54e280(0x274)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x1b701d),_0x4c0a63=''+_0x5e9429);}}return{'subdomain':_0x1b701d||_0x54e280(0x236),'fullURL':_0x4c0a63||'URL\x20não\x20disponível'};}var {subdomain:W,fullURL:qs}=rr(S);console[a0_0x22f2c8(0x274)](a0_0x22f2c8(0x27c),W),console['log'](a0_0x22f2c8(0x727),qs);async function nr(){const _0x4df356=a0_0x22f2c8;let _0x272926=S[_0x4df356(0x319)](_0x4df356(0x174)),_0x2dd93f=S[_0x4df356(0x319)](_0x4df356(0x5d0))['API_KEY'][_0x4df356(0x119)],_0x3d51bd=S['get']('SSL_CONF'),_0x94b053=await qi(),_0x58a412=S[_0x4df356(0x319)](_0x4df356(0x3ae))['PORT'],_0x1a59fb=qs;try{let _0x2299ca={'ip':_0x94b053||null,'redis_enable':_0x272926?.[_0x4df356(0x205)]||null,'apikey':_0x2dd93f||null,'ssl':_0x3d51bd?.[_0x4df356(0x18e)]||null,'lastupdate':Vi||null,'port':_0x58a412||null,'gitInstallError':Re?.[_0x4df356(0x659)]||null,'url':_0x1a59fb||null,'subdomain':W};if(console[_0x4df356(0x274)](_0x4df356(0x315),_0x2299ca['ip']),_0x272926&&_0x272926[_0x4df356(0x205)]){let _0x27a45e=await or();_0x2299ca[_0x4df356(0x4ea)]=_0x27a45e||null;}for(let _0x1871a2 in _0x2299ca)_0x2299ca[_0x4df356(0x2a3)](_0x1871a2)&&_0x1871a2!=='ip'&&(_0x2299ca[_0x1871a2]=JSON['stringify'](_0x2299ca[_0x1871a2]));return(await Je[_0x4df356(0x66b)][_0x4df356(0x77d)](_0x4df356(0x62f),_0x2299ca))['data'];}catch(_0x18c6fb){return console['error'](_0x18c6fb),!0x1;}}var Us=!0x1,Vi=0x266,cr=0x3,Li=0x1b7740;async function Js(){const _0x27c2b7=a0_0x22f2c8;let _0x3ddcfb=_0x27c2b7(0x371);Re===null&&(_0x3ddcfb=await qi());let _0x5d1e9c=await nr();if(_0x5d1e9c){if(_0x5d1e9c[_0x27c2b7(0x76f)][_0x27c2b7(0x515)]===!0x0){Re===null&&_0x5d1e9c[_0x27c2b7(0x76f)]['last_update']-Vi>0x0&&await lr(),Us||(Us=!0x0,er());let _0xd9fa49=0x24*0x3c*0x3c,_0x3031f3=_0x5d1e9c[_0x27c2b7(0x76f)][_0x27c2b7(0x3c9)]>_0xd9fa49?_0xd9fa49:_0x5d1e9c[_0x27c2b7(0x76f)][_0x27c2b7(0x3c9)],_0x28ff0f=Number(_0x3031f3);if(isNaN(_0x28ff0f)){console[_0x27c2b7(0x295)](_0x27c2b7(0x1cb));return;}let _0x4c6e71=Math[_0x27c2b7(0x2a5)](_0x28ff0f/0xe10),_0x216d9d=Math[_0x27c2b7(0x2a5)](_0x28ff0f%0xe10/0x3c),_0x45c78a=new Date(Date['now']()+_0x28ff0f*0x3e8);setTimeout(Js,_0x28ff0f*0x3e8);let _0x1be6bb=_0x103cc3=>_0x103cc3['toString']()[_0x27c2b7(0x203)](0x2,'0'),_0x470b47=_0x27c2b7(0x1b3)+_0x1be6bb(_0x4c6e71)+_0x27c2b7(0xa2)+_0x1be6bb(_0x216d9d)+_0x27c2b7(0x6f8)+_0x1be6bb(_0x45c78a[_0x27c2b7(0x11f)]())+':'+_0x1be6bb(_0x45c78a[_0x27c2b7(0x245)]())+'.';console[_0x27c2b7(0x274)](_0x470b47);}else return console[_0x27c2b7(0x274)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Us&&(console[_0x27c2b7(0x274)](_0x27c2b7(0x33e)),process['exit']()),_0x27c2b7(0x590);}else{if(ki++,ki<cr)console[_0x27c2b7(0x274)](_0x27c2b7(0x149)+Li/0xea60+_0x27c2b7(0x250)),setTimeout(Js,Li);else return console[_0x27c2b7(0x295)](_0x27c2b7(0x343)),_0x27c2b7(0x5f0);}}async function lr(){const _0x5e809d=a0_0x22f2c8;console[_0x5e809d(0x274)](_0x5e809d(0x6e5)),console[_0x5e809d(0x274)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,rs[_0x5e809d(0x6e3)])(_0x5e809d(0x211),{'shell':!0x0})['on'](_0x5e809d(0x280),_0x4326fd=>{const _0x525876=_0x5e809d;_0x4326fd!==0x0?console['error'](_0x525876(0x6ec)):(console[_0x525876(0x274)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0x525876(0x274)](_0x525876(0x642)),(0x0,rs[_0x525876(0x6e3)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x525876(0x280),_0xd2fb3=>{const _0x547ab6=_0x525876;if(_0xd2fb3!==0x0)console['error'](_0x547ab6(0x5f6));else{console['log'](_0x547ab6(0x78e));let _0x328e1a=(0x0,rs[_0x547ab6(0x6e3)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x328e1a[_0x547ab6(0x3f3)]['on'](_0x547ab6(0x47d),_0x4e17e5=>{const _0x2d7cf5=_0x547ab6;console[_0x2d7cf5(0x274)](_0x2d7cf5(0x262)+_0x4e17e5);}),_0x328e1a[_0x547ab6(0x4d8)]['on'](_0x547ab6(0x47d),_0x297395=>{const _0x100ded=_0x547ab6;console[_0x100ded(0x295)]('Erro\x20de\x20atualização:\x20'+_0x297395);}),_0x328e1a['on']('exit',_0x54c215=>{const _0x245661=_0x547ab6;_0x54c215!==0x0?console[_0x245661(0x295)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x54c215):console['log'](_0x245661(0x403)),console['log'](_0x245661(0x23f)),setTimeout(()=>process[_0x245661(0x3ab)](),0x2710);});}}));});}0x0&&(module[a0_0x22f2c8(0x431)]={'fullURL':fullURL,'subdomain':subdomain});