const a0_0x359adc=a0_0x2b70;(function(_0xa94ed8,_0xbb1d90){const _0x17b4d1=a0_0x2b70,_0x176911=_0xa94ed8();while(!![]){try{const _0x9278ac=-parseInt(_0x17b4d1(0x765))/0x1*(parseInt(_0x17b4d1(0x3b8))/0x2)+-parseInt(_0x17b4d1(0x2b1))/0x3*(parseInt(_0x17b4d1(0x4a1))/0x4)+-parseInt(_0x17b4d1(0x394))/0x5+-parseInt(_0x17b4d1(0x40a))/0x6*(parseInt(_0x17b4d1(0x3f6))/0x7)+parseInt(_0x17b4d1(0x202))/0x8*(parseInt(_0x17b4d1(0x6d7))/0x9)+parseInt(_0x17b4d1(0x1fb))/0xa+parseInt(_0x17b4d1(0x38d))/0xb;if(_0x9278ac===_0xbb1d90)break;else _0x176911['push'](_0x176911['shift']());}catch(_0x587152){_0x176911['push'](_0x176911['shift']());}}}(a0_0x1f68,0x983e0));var yi=Object[a0_0x359adc(0x677)],Ms=Object[a0_0x359adc(0x1f2)],bi=Object[a0_0x359adc(0x282)],Si=Object['getOwnPropertyNames'],Ei=Object[a0_0x359adc(0x19d)],vi=Object[a0_0x359adc(0x32e)][a0_0x359adc(0x499)],Ni=(_0x3d210b,_0x9937f6,_0x4ee0f8,_0x1e4b97)=>{const _0x536239=a0_0x359adc;if(_0x9937f6&&typeof _0x9937f6=='object'||typeof _0x9937f6==_0x536239(0x546)){for(let _0x28a05b of Si(_0x9937f6))!vi['call'](_0x3d210b,_0x28a05b)&&_0x28a05b!==_0x4ee0f8&&Ms(_0x3d210b,_0x28a05b,{'get':()=>_0x9937f6[_0x28a05b],'enumerable':!(_0x1e4b97=bi(_0x9937f6,_0x28a05b))||_0x1e4b97['enumerable']});}return _0x3d210b;},M=(_0x38eb8c,_0x8b32c3,_0x654e10)=>(_0x654e10=_0x38eb8c!=null?yi(Ei(_0x38eb8c)):{},Ni(_0x8b32c3||!_0x38eb8c||!_0x38eb8c[a0_0x359adc(0x6b7)]?Ms(_0x654e10,'default',{'value':_0x38eb8c,'enumerable':!0x0}):_0x654e10,_0x38eb8c)),pi=M(require('compression')),Rs=require('fs'),As=require('js-yaml'),Is=require('path'),De=require(a0_0x359adc(0x55d)),Y=process[a0_0x359adc(0x1d0)](),j=(0x0,De[a0_0x359adc(0x641)])(Y,a0_0x359adc(0x1fd)),Ts=(0x0,De[a0_0x359adc(0x641)])(Y,a0_0x359adc(0x71d)),Ht=(0x0,De['join'])(Y,a0_0x359adc(0x352),'auth'),Os=require(a0_0x359adc(0x5dc)),zt=class{constructor(){const _0x4f5eea=a0_0x359adc;this[_0x4f5eea(0x6d2)]();}[a0_0x359adc(0x43e)](_0x4f519f){const _0x1c4603=a0_0x359adc;return this[_0x1c4603(0x1e8)][_0x4f519f];}[a0_0x359adc(0x6d2)](){const _0x27ac31=a0_0x359adc;this['env']=process['env']?.['DOCKER_ENV']!==_0x27ac31(0x54c)?this[_0x27ac31(0x5e7)]():this['envProcess'](),this[_0x27ac31(0x1e8)]['PRODUCTION']=process[_0x27ac31(0x1e8)]?.[_0x27ac31(0x422)]===_0x27ac31(0x575),process['env']?.[_0x27ac31(0x4a7)]===_0x27ac31(0x54c)&&(this[_0x27ac31(0x1e8)][_0x27ac31(0x603)][_0x27ac31(0x5c7)]=_0x27ac31(0x497),this['env'][_0x27ac31(0x603)][_0x27ac31(0x74d)]=Number[_0x27ac31(0x257)](process[_0x27ac31(0x1e8)]?.[_0x27ac31(0x4f7)]??_0x27ac31(0x6cf)));}['envYaml'](){const _0x5211b8=a0_0x359adc;return(0x0,As[_0x5211b8(0x4c5)])((0x0,Rs[_0x5211b8(0x587)])((0x0,Is['join'])(Ts,_0x5211b8(0x53e)),{'encoding':_0x5211b8(0x5ff)}));}[a0_0x359adc(0x61d)](){const _0x46d554=a0_0x359adc;return{'SERVER':{'TYPE':process[_0x46d554(0x1e8)][_0x46d554(0x236)],'PORT':Number['parseInt'](process[_0x46d554(0x1e8)][_0x46d554(0x4f7)])},'CORS':{'ORIGIN':process[_0x46d554(0x1e8)][_0x46d554(0x71b)][_0x46d554(0x655)](','),'METHODS':process[_0x46d554(0x1e8)]['CORS_METHODS'][_0x46d554(0x655)](','),'CREDENTIALS':process[_0x46d554(0x1e8)]?.['CORS_CREDENTIALS']===_0x46d554(0x54c)},'SSL_CONF':{'PRIVKEY':process[_0x46d554(0x1e8)]?.[_0x46d554(0x5e5)],'FULLCHAIN':process['env']?.[_0x46d554(0x4e5)]},'STORE':{'CLEANING_INTERVAL':Number[_0x46d554(0x5f5)](process[_0x46d554(0x1e8)]?.[_0x46d554(0x653)])?Number['parseInt'](process[_0x46d554(0x1e8)][_0x46d554(0x653)]):void 0x0,'MESSAGES':process[_0x46d554(0x1e8)]?.[_0x46d554(0x604)]===_0x46d554(0x54c),'CONTACTS':process[_0x46d554(0x1e8)]?.[_0x46d554(0x58f)]===_0x46d554(0x54c),'CHATS':process['env']?.['STORE_CHATS']===_0x46d554(0x54c)},'DATABASE':{'CONNECTION':{'HOST':process[_0x46d554(0x1e8)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x46d554(0x257)](process[_0x46d554(0x1e8)]?.[_0x46d554(0x28e)]),'USER':process[_0x46d554(0x1e8)][_0x46d554(0x337)],'PASSWORD':process[_0x46d554(0x1e8)][_0x46d554(0x6e4)],'URI':process[_0x46d554(0x1e8)][_0x46d554(0x640)],'DB_PREFIX_NAME':process[_0x46d554(0x1e8)][_0x46d554(0x678)]},'ENABLED':process[_0x46d554(0x1e8)]?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process[_0x46d554(0x1e8)]?.[_0x46d554(0x659)]===_0x46d554(0x54c),'URI':process[_0x46d554(0x1e8)]['REDIS_URI'],'PREFIX_KEY':process[_0x46d554(0x1e8)][_0x46d554(0x42e)]},'LOG':{'LEVEL':process[_0x46d554(0x1e8)]?.[_0x46d554(0x43a)]['split'](','),'COLOR':process[_0x46d554(0x1e8)]?.[_0x46d554(0x5bc)]==='true'},'DEL_INSTANCE':(0x0,Os['isBooleanString'])(process[_0x46d554(0x1e8)]?.[_0x46d554(0x2ac)])?process[_0x46d554(0x1e8)][_0x46d554(0x2ac)]==='true':Number['parseInt'](process[_0x46d554(0x1e8)]['DEL_INSTANCE'])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x46d554(0x1e8)][_0x46d554(0x3cb)]?process[_0x46d554(0x1e8)][_0x46d554(0x3cb)]===_0x46d554(0x54c):!0x1,'GLOBAL':{'URL':process[_0x46d554(0x1e8)]?.['WEBHOOK_GLOBAL_URL'],'ENABLED':process[_0x46d554(0x1e8)]?.['WEBHOOK_GLOBAL_ENABLED']==='true'},'EVENTS':{'STATUS_INSTANCE':process[_0x46d554(0x1e8)]?.[_0x46d554(0x2d3)]===_0x46d554(0x54c),'QRCODE_UPDATED':process['env']?.[_0x46d554(0x3cd)]===_0x46d554(0x54c),'MESSAGES_SET':process['env']?.[_0x46d554(0x736)]===_0x46d554(0x54c),'MESSAGES_UPSERT':process[_0x46d554(0x1e8)]?.[_0x46d554(0x619)]===_0x46d554(0x54c),'MESSAGES_UPDATE':process[_0x46d554(0x1e8)]?.[_0x46d554(0x229)]===_0x46d554(0x54c),'SEND_MESSAGE':process[_0x46d554(0x1e8)]?.['WEBHOOK_EVENTS_SEND_MESSAGE']==='true','CONTACTS_SET':process[_0x46d554(0x1e8)]?.[_0x46d554(0x1f1)]==='true','CONTACTS_UPDATE':process[_0x46d554(0x1e8)]?.[_0x46d554(0x450)]===_0x46d554(0x54c),'CONTACTS_UPSERT':process[_0x46d554(0x1e8)]?.['WEBHOOK_EVENTS_CONTACTS_UPSERT']===_0x46d554(0x54c),'PRESENCE_UPDATE':process[_0x46d554(0x1e8)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x46d554(0x54c),'CHATS_SET':process[_0x46d554(0x1e8)]?.[_0x46d554(0x5f6)]===_0x46d554(0x54c),'CHATS_UPDATE':process[_0x46d554(0x1e8)]?.[_0x46d554(0x64d)]===_0x46d554(0x54c),'CHATS_UPSERT':process[_0x46d554(0x1e8)]?.[_0x46d554(0x758)]===_0x46d554(0x54c),'CHATS_DELETE':process[_0x46d554(0x1e8)]?.['WEBHOOK_EVENTS_CHATS_DELETE']===_0x46d554(0x54c),'CONNECTION_UPDATE':process[_0x46d554(0x1e8)]?.['WEBHOOK_EVENTS_CONNECTION_UPDATE']===_0x46d554(0x54c),'GROUPS_UPSERT':process[_0x46d554(0x1e8)]?.[_0x46d554(0x58c)]==='true','GROUP_UPDATE':process[_0x46d554(0x1e8)]?.[_0x46d554(0x290)]==='true','GROUP_PARTICIPANTS_UPDATE':process[_0x46d554(0x1e8)]?.[_0x46d554(0x407)]===_0x46d554(0x54c),'NEW_JWT_TOKEN':process[_0x46d554(0x1e8)]?.[_0x46d554(0x2b7)]===_0x46d554(0x54c)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x46d554(0x1e8)]?.[_0x46d554(0x328)]||_0x46d554(0x668),'NAME':process[_0x46d554(0x1e8)]?.['CONFIG_SESSION_PHONE_NAME']||_0x46d554(0x1d9)},'QRCODE':{'LIMIT':Number['parseInt'](process[_0x46d554(0x1e8)][_0x46d554(0x2f6)])||0x5},'TRIAL_AD':process[_0x46d554(0x1e8)]?.[_0x46d554(0x29e)],'TRIAL_INSTANCE_NAME':process[_0x46d554(0x1e8)]?.[_0x46d554(0x373)],'AUTHENTICATION':{'TYPE':process[_0x46d554(0x1e8)][_0x46d554(0x268)],'API_KEY':{'KEY':process[_0x46d554(0x1e8)][_0x46d554(0x1e1)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x46d554(0x1e8)]?.[_0x46d554(0x664)])?Number[_0x46d554(0x257)](process['env'][_0x46d554(0x664)]):0xe10,'SECRET':process[_0x46d554(0x1e8)]['AUTHENTICATION_JWT_SECRET']}}};}},E=new zt(),gi=M(require(a0_0x359adc(0x483))),me=M(require(a0_0x359adc(0x543))),vs=require(a0_0x359adc(0x55d)),Kt=M(require(a0_0x359adc(0x2c5))),Qt=(_0xaf264c=>(_0xaf264c[a0_0x359adc(0x40d)]=a0_0x359adc(0x196),_0xaf264c[a0_0x359adc(0x466)]=a0_0x359adc(0x6b0),_0xaf264c[a0_0x359adc(0x6aa)]=a0_0x359adc(0x311),_0xaf264c[a0_0x359adc(0x588)]='\x1b[31m',_0xaf264c[a0_0x359adc(0x4da)]=a0_0x359adc(0x1bb),_0xaf264c[a0_0x359adc(0x4a2)]=a0_0x359adc(0x33b),_0xaf264c['DARK']='\x1b[30m',_0xaf264c))(Qt||{}),Ds=(_0x27eb9d=>(_0x27eb9d[a0_0x359adc(0x40d)]=a0_0x359adc(0x61b),_0x27eb9d[a0_0x359adc(0x3a0)]=a0_0x359adc(0x5be),_0x27eb9d[a0_0x359adc(0x466)]='\x1b[34m%s\x1b[0m',_0x27eb9d[a0_0x359adc(0x6aa)]=a0_0x359adc(0x580),_0x27eb9d[a0_0x359adc(0x588)]=a0_0x359adc(0x651),_0x27eb9d[a0_0x359adc(0x4da)]=a0_0x359adc(0x3a7),_0x27eb9d[a0_0x359adc(0x4a2)]='\x1b[37m%s\x1b[0m',_0x27eb9d))(Ds||{}),_s=(_0x3b232a=>(_0x3b232a[a0_0x359adc(0x40d)]=a0_0x359adc(0x40d),_0x3b232a[a0_0x359adc(0x6aa)]=a0_0x359adc(0x6aa),_0x3b232a[a0_0x359adc(0x466)]=a0_0x359adc(0x466),_0x3b232a['DARK']=a0_0x359adc(0x3a0),_0x3b232a[a0_0x359adc(0x588)]='ERROR',_0x3b232a[a0_0x359adc(0x4da)]=a0_0x359adc(0x4da),_0x3b232a['VERBOSE']=a0_0x359adc(0x4a2),_0x3b232a))(_s||{}),Ps=(_0xd3a7ab=>(_0xd3a7ab[a0_0x359adc(0x40d)]='\x1b[42m',_0xd3a7ab[a0_0x359adc(0x466)]='\x1b[44m',_0xd3a7ab[a0_0x359adc(0x6aa)]=a0_0x359adc(0x515),_0xd3a7ab['DARK']=a0_0x359adc(0x68d),_0xd3a7ab['ERROR']=a0_0x359adc(0x63c),_0xd3a7ab[a0_0x359adc(0x4da)]=a0_0x359adc(0x65f),_0xd3a7ab['VERBOSE']=a0_0x359adc(0x593),_0xd3a7ab))(Ps||{}),C=class{constructor(_0x1c0796=a0_0x359adc(0x6d8)){const _0x15b3b5=a0_0x359adc;this[_0x15b3b5(0x72d)]=_0x1c0796,this['configService']=E;}[a0_0x359adc(0x30e)](_0x332146){const _0x3ba44a=a0_0x359adc;this[_0x3ba44a(0x72d)]=_0x332146;}['console'](_0x3db7eb,_0x43c107){const _0x4de1c6=a0_0x359adc;let _0x9c42ad=[];this[_0x4de1c6(0x2a1)][_0x4de1c6(0x43e)]('LOG')[_0x4de1c6(0x3ed)][_0x4de1c6(0x4a9)](_0x3923f1=>_0x9c42ad[_0x4de1c6(0x41c)](_s[_0x3923f1]));let _0x38797a=typeof _0x3db7eb;_0x9c42ad['includes'](_0x43c107)&&(E[_0x4de1c6(0x43e)](_0x4de1c6(0x40d))[_0x4de1c6(0x2aa)]?(console[_0x4de1c6(0x219)](_0x4de1c6(0x415)+Ds[_0x43c107],_0x4de1c6(0x2c2),(0x0,Kt[_0x4de1c6(0x4d6)])()['format']('DD/MM\x20HH:mm:ss'),_0x4de1c6(0x32d),Qt[_0x43c107]+Ps[_0x43c107]+_0x4de1c6(0x415),_0x43c107+_0x4de1c6(0x621),_0x4de1c6(0x70d),this['context']+_0x4de1c6(0x32d),Qt[_0x43c107],_0x38797a!==_0x4de1c6(0x43d)?_0x3db7eb:'','\x1b[0m'),_0x38797a===_0x4de1c6(0x43d)&&console['log'](_0x3db7eb,'\x0a')):console[_0x4de1c6(0x219)]((0x0,Kt[_0x4de1c6(0x4d6)])()[_0x4de1c6(0x1f9)](_0x4de1c6(0x449)),_0x43c107+'\x20',''+this[_0x4de1c6(0x72d)],_0x3db7eb));}[a0_0x359adc(0x219)](_0xc02e07){const _0xaf34f4=a0_0x359adc;this['console'](_0xc02e07,_0xaf34f4(0x40d));}['info'](_0x41ceb8){const _0x47e39e=a0_0x359adc;this['console'](_0x41ceb8,_0x47e39e(0x466));}['warn'](_0xbc95f3){const _0x4aa533=a0_0x359adc;this[_0x4aa533(0x31e)](_0xbc95f3,_0x4aa533(0x6aa));}[a0_0x359adc(0x252)](_0x4b3cbf){const _0x874f93=a0_0x359adc;this['console'](_0x4b3cbf,_0x874f93(0x588));}['verbose'](_0x27e701){const _0x1393ce=a0_0x359adc;this[_0x1393ce(0x31e)](_0x27e701,_0x1393ce(0x4a2));}[a0_0x359adc(0x3f3)](_0x2eaea7){const _0x5e17f8=a0_0x359adc;this[_0x5e17f8(0x31e)](_0x2eaea7,_0x5e17f8(0x4da));}['dark'](_0x3315da){const _0x974b9c=a0_0x359adc;this['console'](_0x3315da,_0x974b9c(0x3a0));}};function xs(){const _0x3ad18c=a0_0x359adc;process['on'](_0x3ad18c(0x39e),(_0x54e089,_0x2bf6ec)=>{const _0x190540=_0x3ad18c;new C('uncaughtException')[_0x190540(0x252)]({'origin':_0x2bf6ec,'stderr':process[_0x190540(0x4b3)]['fd'],'error':_0x54e089});}),process['on']('unhandledRejection',(_0xbdc62f,_0x1f21f1)=>{const _0x2bbee7=_0x3ad18c;new C(_0x2bbee7(0x1b3))['error']({'origin':_0x1f21f1,'stderr':process['stderr']['fd'],'error':_0xbdc62f});});}var $s=M(require(a0_0x359adc(0x200))),Yt=new $s['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require(a0_0x359adc(0x1d5)),Xt=M(require(a0_0x359adc(0x1d5))),Ci=new C('Db\x20Connection'),B=E[a0_0x359adc(0x43e)]('DATABASE'),R=B[a0_0x359adc(0x748)]?B[a0_0x359adc(0x590)][a0_0x359adc(0x48e)]?Xt[a0_0x359adc(0x4d6)][a0_0x359adc(0x4f2)](B['CONNECTION'][a0_0x359adc(0x48e)],{'dbName':B[a0_0x359adc(0x590)]['DB_PREFIX_NAME']+a0_0x359adc(0x6d9)}):Xt[a0_0x359adc(0x4d6)]['createConnection'](a0_0x359adc(0x31b)+B[a0_0x359adc(0x590)]['HOST']+':'+B['CONNECTION']['PORT']+a0_0x359adc(0x1ef),{'user':B[a0_0x359adc(0x590)]['USER'],'pass':B[a0_0x359adc(0x590)][a0_0x359adc(0x746)],'dbName':B[a0_0x359adc(0x590)][a0_0x359adc(0x6ca)]+'-whatsapp-api'}):null;B[a0_0x359adc(0x748)]&&Ci[a0_0x359adc(0x6fa)]('ON\x20-\x20dbName:\x20'+R[a0_0x359adc(0x339)]);var Mi=new _e[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Ti=new _e[(a0_0x359adc(0x5b5))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Mi],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ri=new _e[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ti,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),ks=_0x41d5a9=>{const _0x5672ce=a0_0x359adc;let _0x2e5c0f='z_'+_0x41d5a9+_0x5672ce(0x529);return R?.[_0x5672ce(0x57a)](_0x5672ce(0x649),Ri,_0x2e5c0f);},Ls=require(a0_0x359adc(0x1d5)),Ai=new Ls[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Us=_0x15a5c0=>{const _0x52fe63=a0_0x359adc;let _0x41f5bb='z_'+_0x15a5c0+_0x52fe63(0x66f);return R?.[_0x52fe63(0x57a)](_0x52fe63(0x318),Ai,_0x41f5bb);},Js=require(a0_0x359adc(0x1d5)),Ii=new Js[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x359adc(0x639),'web',a0_0x359adc(0x3dc)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Vs=_0x1c7090=>{const _0x56b321=a0_0x359adc;let _0xca93ba='z_'+_0x1c7090+'_Messages';return R?.[_0x56b321(0x57a)](_0x56b321(0x763),Ii,_0xca93ba);},js=require(a0_0x359adc(0x1d5)),Zt=class{},Oi=new js[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Fs=R?.[a0_0x359adc(0x57a)](Zt[a0_0x359adc(0x613)],Oi,a0_0x359adc(0x21b)),qs=require('mongoose'),es=class{},Gs=new qs[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Gs[a0_0x359adc(0x4c9)](a0_0x359adc(0x432),function(_0x346eec){const _0x5a4682=a0_0x359adc;delete this['flowActive'],delete this[_0x5a4682(0x34d)],delete this[_0x5a4682(0x623)],delete this[_0x5a4682(0x4df)],delete this[_0x5a4682(0x501)],_0x346eec();});var Bs=R?.[a0_0x359adc(0x57a)](es['name'],Gs,a0_0x359adc(0x36d)),O=require(a0_0x359adc(0x1d5)),Pe=class{},Ws=new O[(a0_0x359adc(0x5b5))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ts=new O['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Di=new O[(a0_0x359adc(0x5b5))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x359adc(0x231)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x359adc(0x255)},'pollErrorMessage':{'type':String,'default':a0_0x359adc(0x65d)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Hs=new O['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),_i=new O[(a0_0x359adc(0x5b5))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Pi=new O[(a0_0x359adc(0x5b5))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),zs=new O[(a0_0x359adc(0x5b5))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Di},'apirequest':_i,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),rs=new O['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Ks=new O[(a0_0x359adc(0x5b5))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ss=class{},Qs=new O[(a0_0x359adc(0x5b5))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x3bd636=a0_0x359adc;return'!cmd_'+Math['random']()[_0x3bd636(0x25a)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[rs],'variablesNotFound':{'type':[String]},'blocks':[zs],'groups':[Ws],'conditions':[Hs],'varedits':[Ks],'replyOptions':{'type':[ts],'default':[]}});Qs[a0_0x359adc(0x4c9)](a0_0x359adc(0x432),function(_0x25cb2a){const _0x509fbc=a0_0x359adc;let _0x51dc49=new Set(),_0x46c8f1=new Set(this[_0x509fbc(0x23d)]?.[_0x509fbc(0x4a3)](_0x1985a0=>_0x1985a0[_0x509fbc(0x613)])),_0x123159=JSON[_0x509fbc(0x493)](this),_0x1a797c=/{{(?!_)([^}]*)}}/g,_0x381d48;for(;(_0x381d48=_0x1a797c['exec'](_0x123159))!==null;)_0x46c8f1[_0x509fbc(0x2af)](_0x381d48[0x1])||_0x51dc49['add'](_0x381d48[0x1]);_0x51dc49[_0x509fbc(0x5ed)]>0x0?(console[_0x509fbc(0x1b2)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x51dc49)),this['variablesNotFound']=Array[_0x509fbc(0x1ce)](_0x51dc49)):this[_0x509fbc(0x60b)]=[],_0x25cb2a();});var I=R?.[a0_0x359adc(0x57a)](ss['name'],Qs,'flow'),xi=new O['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[rs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Pi]},{'_id':!0x1}),as=class{},$i=new O[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[rs],'blocks':[zs],'groups':[Ws],'conditions':[Hs],'varedits':[Ks],'replyOptions':{'type':[ts],'default':[]},'chatLog':xi,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x359adc(0x50b)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x359adc(0x255)},'waitingMenu_replyOptions':{'type':[ts],'default':[]}}),U=R?.[a0_0x359adc(0x57a)](as['name'],$i,a0_0x359adc(0x454)),is=class{},ki=new O[(a0_0x359adc(0x5b5))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Li=new O[(a0_0x359adc(0x5b5))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Ui=new O[(a0_0x359adc(0x5b5))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x359adc(0x3fd)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ki],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),J=R?.[a0_0x359adc(0x57a)](is[a0_0x359adc(0x613)],Ui,a0_0x359adc(0x52e)),os=class{},Ji=new O['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Vi=new O[(a0_0x359adc(0x5b5))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x359adc(0x353)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ji=new O[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Fi=new O[(a0_0x359adc(0x5b5))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ji]},'customFields':{'type':[Ji]},'flowConfig':{'type':Vi,'default':{}}}),ae=R?.['model'](os['name'],Fi,a0_0x359adc(0x32c)),he=require('fs'),ns=require(a0_0x359adc(0x55d)),H=class{constructor(_0x132fae){const _0x5e4ecc=a0_0x359adc;this[_0x5e4ecc(0x626)]=(0x0,ns['join'])(Y,_0x5e4ecc(0x352)),this[_0x5e4ecc(0x4c2)]=_0x4cb61f=>{const _0x2b3150=_0x5e4ecc;(0x0,he[_0x2b3150(0x38e)])(_0x4cb61f['path'])||(0x0,he[_0x2b3150(0x69a)])(_0x4cb61f['path'],{'recursive':!0x0});try{return(0x0,he[_0x2b3150(0x2cb)])((0x0,ns[_0x2b3150(0x641)])(_0x4cb61f[_0x2b3150(0x55d)],_0x4cb61f[_0x2b3150(0x60d)]+_0x2b3150(0x312)),JSON[_0x2b3150(0x493)]({..._0x4cb61f['data']}),{'encoding':_0x2b3150(0x5ff)}),{'message':_0x2b3150(0x53b)};}finally{_0x4cb61f['data']=void 0x0;}},this[_0x5e4ecc(0x70b)]=_0x132fae[_0x5e4ecc(0x43e)](_0x5e4ecc(0x4a4));}[a0_0x359adc(0x44c)](_0x7f3dd4,_0x436afe=!0x1){throw new Error('Method\x20not\x20implemented.');}[a0_0x359adc(0x673)](_0xac4c90){const _0x5df95b=a0_0x359adc;throw new Error(_0x5df95b(0x28c));}[a0_0x359adc(0x51e)](_0x4ec574,_0x28c186){const _0x5f41bc=a0_0x359adc;throw new Error(_0x5f41bc(0x28c));}},xe=class{},$e=class extends H{constructor(_0x2bee15){super(_0x2bee15),this['configService']=_0x2bee15;}[a0_0x359adc(0x4ab)](_0x521082){return Vs(_0x521082);}async[a0_0x359adc(0x44c)](_0x34e2af){const _0x3aa105=a0_0x359adc;if(_0x34e2af[_0x3aa105(0x582)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3aa105(0x4ab)](_0x34e2af[0x0]['owner'])[_0x3aa105(0x4fb)]([..._0x34e2af]))[_0x3aa105(0x582)]};}catch(_0x23ff94){return console['log'](_0x3aa105(0x370),_0x23ff94),_0x23ff94;}}async['find'](_0x341054){const _0x311625=a0_0x359adc;try{let _0x20517f=this[_0x311625(0x4ab)](_0x341054[_0x311625(0x504)]['owner']);if(_0x341054?.[_0x311625(0x504)]?.[_0x311625(0x6f8)]){for(let [_0x5e612f,_0x4664c8]of Object[_0x311625(0x72b)](_0x341054[_0x311625(0x504)][_0x311625(0x6f8)]))_0x341054['where'][_0x311625(0x5bf)+_0x5e612f]=_0x4664c8;delete _0x341054?.['where']?.[_0x311625(0x6f8)];}return await _0x20517f[_0x311625(0x673)]({..._0x341054['where']})[_0x311625(0x55f)]({'messageTimestamp':-0x1})['limit'](_0x341054?.[_0x311625(0x355)]??0x0)[_0x311625(0x39f)]();}catch{return[];}}async[a0_0x359adc(0x51e)](_0x2035a2){const _0x30ef5b=a0_0x359adc;try{await this[_0x30ef5b(0x4ab)](_0x2035a2[_0x30ef5b(0x504)][_0x30ef5b(0x72e)])[_0x30ef5b(0x336)]({..._0x2035a2[_0x30ef5b(0x504)]});}catch(_0x5adb0c){console[_0x30ef5b(0x252)](_0x5adb0c);}}async[a0_0x359adc(0x57c)](_0x37627a,_0x2f1acf){const _0x366d4b=a0_0x359adc;try{return await this[_0x366d4b(0x4ab)](_0x37627a[_0x366d4b(0x504)]['owner'])[_0x366d4b(0x362)]({..._0x37627a['where']},{'$set':_0x2f1acf},{'new':!0x0});}catch(_0x3e8a4c){throw console['error'](_0x3e8a4c),_0x3e8a4c;}}async['insertMany'](_0x1600d1){const _0x267f73=a0_0x359adc;if(_0x1600d1[_0x267f73(0x582)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x267f73(0x4ab)](_0x1600d1[0x0]['owner'])[_0x267f73(0x4fb)]([..._0x1600d1]))['length']};}catch(_0x22c4a4){return console['log'](_0x267f73(0x370),_0x22c4a4),_0x22c4a4;}}async[a0_0x359adc(0x607)](_0x226185){const _0x4bea47=a0_0x359adc;try{return await this[_0x4bea47(0x4ab)](_0x226185)[_0x4bea47(0x20b)][_0x4bea47(0x4bd)](),{'success':!0x0};}catch(_0x536774){return console[_0x4bea47(0x252)](_0x536774),{'success':!0x1,'error':_0x536774};}}},te=require('fs'),ti=M(require(a0_0x359adc(0x54a))),w=M(require(a0_0x359adc(0x344))),Me=require('fs'),k=M(require(a0_0x359adc(0x55d))),ce=M(require(a0_0x359adc(0x585))),si=require('uuid'),ai=M(require('qrcode')),ii=M(require(a0_0x359adc(0x210))),Ys=[a0_0x359adc(0x4be),'documentMessage',a0_0x359adc(0x708),a0_0x359adc(0x222),a0_0x359adc(0x29f)],Xs=['ephemeralMessage',a0_0x359adc(0x6fd),'viewOnceMessage',a0_0x359adc(0x2b2)],oi=require('os'),At=M(require(a0_0x359adc(0x3a1))),_t=require('child_process'),It=require(a0_0x359adc(0x40b)),pe=M(require('mongoose')),P=require('class-validator'),fe=class{constructor(_0x3f45f2,_0x20b5e2,_0x519b7a){const _0x361161=a0_0x359adc;this[_0x361161(0x565)]=_0x3f45f2,this['exists']=_0x20b5e2,this[_0x361161(0x613)]=_0x519b7a;}},ke=class{},Le=class{},Se=class{},Ue=class{},Je=class{},we=class{},Ve=class{},je=class{},Fe=class{},qe=class{},Nt=M(require(a0_0x359adc(0x543))),Zs=require('fs'),ea=require(a0_0x359adc(0x55d));async function Ge(_0x278bd3){const _0x5421e6=a0_0x359adc;let _0x4e60cf=F[_0x5421e6(0x556)][_0x278bd3];if(B['ENABLED']){let _0xf3601c=R['getClient']()['db'](B[_0x5421e6(0x590)]['DB_PREFIX_NAME']+_0x5421e6(0x69c))['collection'](_0x278bd3);return _0x4e60cf||(await _0xf3601c[_0x5421e6(0x673)]({})[_0x5421e6(0x42b)]())[_0x5421e6(0x582)]>0x0;}return _0x4e60cf||(0x0,Zs[_0x5421e6(0x38e)])((0x0,ea[_0x5421e6(0x641)])(j,_0x278bd3));}async function cs(_0x4500c7,_0x68d35e,_0x27a1e3){const _0x348d9a=a0_0x359adc;if(_0x4500c7[_0x348d9a(0x2f0)]['includes'](_0x348d9a(0x5aa))||_0x4500c7[_0x348d9a(0x2f0)]['includes']('/instance/fetchInstances')||_0x4500c7['originalUrl'][_0x348d9a(0x3d6)]('/exit'))return _0x27a1e3();let _0x3b09b8=_0x4500c7[_0x348d9a(0x38b)];if(!_0x3b09b8?.[_0x348d9a(0x6c0)])throw new g(_0x348d9a(0x4b8));if(!await Ge(_0x3b09b8[_0x348d9a(0x6c0)]))throw new $(_0x348d9a(0x2c3)+_0x3b09b8[_0x348d9a(0x6c0)]+_0x348d9a(0x615));_0x27a1e3();}async function ta(_0x2f2c59,_0x24aa3c,_0xa536f7){const _0x7c3473=a0_0x359adc;if(_0x2f2c59[_0x7c3473(0x2f0)][_0x7c3473(0x3d6)]('/instance/create')){let _0x51eb72=_0x2f2c59[_0x7c3473(0x27d)];if(await Ge(_0x51eb72[_0x7c3473(0x6c0)]))throw new ie('This\x20name\x20'+_0x51eb72[_0x7c3473(0x6c0)]+_0x7c3473(0x1fa));F[_0x7c3473(0x556)][_0x51eb72[_0x7c3473(0x6c0)]]&&delete F[_0x7c3473(0x556)][_0x51eb72[_0x7c3473(0x6c0)]];}_0xa536f7();}var sa=require(a0_0x359adc(0x5dc)),aa=M(require(a0_0x359adc(0x52a))),Be='uazapi',Gi=new C('GUARD');async function Bi(_0x4ae6d0,_0x23bb4f,_0x444416){const _0x33e5d4=a0_0x359adc;let _0x21ce0d=_0x4ae6d0[_0x33e5d4(0x43e)]('apikey');if(_0x21ce0d&&E[_0x33e5d4(0x43e)]('AUTHENTICATION')[_0x33e5d4(0x645)][_0x33e5d4(0x382)]!==_0x21ce0d)throw new oe();if(E[_0x33e5d4(0x43e)](_0x33e5d4(0x29c))[_0x33e5d4(0x645)][_0x33e5d4(0x382)]===_0x21ce0d)return _0x444416();if((_0x4ae6d0['originalUrl'][_0x33e5d4(0x3d6)](_0x33e5d4(0x5aa))||_0x4ae6d0[_0x33e5d4(0x2f0)]['includes'](_0x33e5d4(0x3aa)))&&!_0x21ce0d)throw new ie(_0x33e5d4(0x315),_0x33e5d4(0x4c6));let _0x1bce61=E[_0x33e5d4(0x43e)](_0x33e5d4(0x29c))[_0x33e5d4(0x468)];try{let [_0x3769bb,_0x5ca5ce]=_0x4ae6d0[_0x33e5d4(0x43e)](_0x33e5d4(0x1f6))[_0x33e5d4(0x655)]('\x20');if(_0x3769bb['toLowerCase']()!==_0x33e5d4(0x275))throw new oe();if(!(0x0,sa[_0x33e5d4(0x23f)])(_0x5ca5ce))throw new oe();let _0x1e3675=_0x4ae6d0[_0x33e5d4(0x38b)],_0x205fef=aa['default']['verify'](_0x5ca5ce,_0x1bce61['SECRET'],{'ignoreExpiration':_0x1bce61[_0x33e5d4(0x6af)]===0x0});if(_0x1e3675[_0x33e5d4(0x6c0)]!==_0x205fef[_0x33e5d4(0x6c0)]||Be!==_0x205fef['apiName'])throw new oe();return _0x444416();}catch(_0x4afa89){throw Gi[_0x33e5d4(0x252)](_0x4afa89),new oe();}}function a0_0x2b70(_0x258668,_0x274a81){const _0x1f684b=a0_0x1f68();return a0_0x2b70=function(_0x2b70a8,_0x49e159){_0x2b70a8=_0x2b70a8-0x17e;let _0x393a10=_0x1f684b[_0x2b70a8];return _0x393a10;},a0_0x2b70(_0x258668,_0x274a81);}async function Wi(_0x1494db,_0x1f91c0,_0x1cbfc0){const _0x18e6bf=a0_0x359adc;let _0x178f6f=E[_0x18e6bf(0x43e)]('AUTHENTICATION')[_0x18e6bf(0x645)],_0x2f4998=_0x1494db[_0x18e6bf(0x43e)]('apikey');if(_0x178f6f['KEY']===_0x2f4998)return _0x1cbfc0();if(_0x1494db[_0x18e6bf(0x2f0)][_0x18e6bf(0x3d6)](_0x18e6bf(0x5aa))){let _0x14dfb2=E[_0x18e6bf(0x43e)](_0x18e6bf(0x373)),_0x195b5c=_0x1494db[_0x18e6bf(0x27d)][_0x18e6bf(0x6c0)];if(_0x14dfb2&&_0x195b5c[_0x18e6bf(0x37e)]()['startsWith'](_0x14dfb2['toLowerCase']()))return _0x1cbfc0();if(!_0x2f4998)throw new ie('Missing\x20global\x20api\x20key',_0x18e6bf(0x4c6));}if(_0x1494db[_0x18e6bf(0x2f0)]['includes'](_0x18e6bf(0x3aa))&&!_0x2f4998)throw new ie(_0x18e6bf(0x315),_0x18e6bf(0x4c6));if(_0x1494db[_0x18e6bf(0x2f0)][_0x18e6bf(0x3d6)](_0x18e6bf(0x65e))&&!_0x2f4998)throw new ie(_0x18e6bf(0x315),_0x18e6bf(0x4c6));try{let _0x1b720c=_0x1494db['params'];if((await le[_0x18e6bf(0x3bf)][_0x18e6bf(0x673)](_0x1b720c[_0x18e6bf(0x6c0)]))['apikey']===_0x2f4998)return _0x1cbfc0();}catch{}throw new oe();}var ia={'jwt':Bi,'apikey':Wi},Ja=require(a0_0x359adc(0x543)),v=require(a0_0x359adc(0x42c)),b=(..._0x3deb3b)=>{const _0x2d8598=a0_0x359adc;let _0x34e8b3={};return _0x3deb3b[_0x2d8598(0x4a9)](_0x3ac9eb=>_0x34e8b3[_0x3ac9eb]={'minLength':0x1,'description':_0x2d8598(0x55b)+_0x3ac9eb+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x3deb3b]}},'then':{'properties':_0x34e8b3}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'instanceName':{'type':'string'}},...b(a0_0x359adc(0x6c0))},oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x691)],...b(a0_0x359adc(0x691))},wn={'properties':{'key':{'type':a0_0x359adc(0x43d),'properties':{'id':{'type':a0_0x359adc(0x1e5)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]}},'required':['id',a0_0x359adc(0x340),'fromMe'],...b('id',a0_0x359adc(0x340))},'message':{'type':a0_0x359adc(0x43d)}}},X={'properties':{'delay':{'type':a0_0x359adc(0x48c),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x359adc(0x1e5),'enum':['unavailable','available',a0_0x359adc(0x2d6),a0_0x359adc(0x5f9),'paused']}}},Q={'type':a0_0x359adc(0x1e5),'pattern':a0_0x359adc(0x2bd),'description':a0_0x359adc(0x648)},ra={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'options':{...X},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x632)],...b(a0_0x359adc(0x632))}},'required':['textMessage',a0_0x359adc(0x74a)]},na={'type':a0_0x359adc(0x1e5),'pattern':a0_0x359adc(0x485),'description':a0_0x359adc(0x648)},yn={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...na},'options':{...X},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x632)],...b(a0_0x359adc(0x632))}},'required':['textMessage',a0_0x359adc(0x74a)]},bn={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...na},'options':{...X},'mediaMessage':{'type':a0_0x359adc(0x43d),'properties':{'mediatype':{'type':'string','enum':['image','document','video',a0_0x359adc(0x248)]},'media':{'type':a0_0x359adc(0x1e5)},'fileName':{'type':'string'},'caption':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x235),a0_0x359adc(0x5e3)],...b(a0_0x359adc(0x60d),a0_0x359adc(0x197),a0_0x359adc(0x5e3))}},'required':[a0_0x359adc(0x2a7),a0_0x359adc(0x74a)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'options':{...X},'stickerMessage':{'type':a0_0x359adc(0x43d),'properties':{'image':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x4c4)],...b(a0_0x359adc(0x4c4))}},'required':['stickerMessage',a0_0x359adc(0x74a)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'statusMessage':{'type':a0_0x359adc(0x43d),'properties':{'type':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x632),'image',a0_0x359adc(0x248),a0_0x359adc(0x244)]},'content':{'type':a0_0x359adc(0x1e5)},'caption':{'type':a0_0x359adc(0x1e5)},'backgroundColor':{'type':a0_0x359adc(0x1e5)},'font':{'type':a0_0x359adc(0x48c),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x359adc(0x4cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x359adc(0x1e5),'pattern':a0_0x359adc(0x2c9),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]}},'required':[a0_0x359adc(0x38c),a0_0x359adc(0x51b)],...b(a0_0x359adc(0x38c),a0_0x359adc(0x51b))}},'required':[a0_0x359adc(0x2e4)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'options':{...X},'mediaMessage':{'type':a0_0x359adc(0x43d),'properties':{'mediatype':{'type':a0_0x359adc(0x1e5),'enum':['image',a0_0x359adc(0x426),a0_0x359adc(0x244),a0_0x359adc(0x248)]},'media':{'type':a0_0x359adc(0x1e5)},'fileName':{'type':a0_0x359adc(0x1e5)},'caption':{'type':'string'}},'required':[a0_0x359adc(0x235),a0_0x359adc(0x5e3)],...b(a0_0x359adc(0x60d),a0_0x359adc(0x197),a0_0x359adc(0x5e3))}},'required':[a0_0x359adc(0x2a7),a0_0x359adc(0x74a)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'options':{...X},'audioMessage':{'type':a0_0x359adc(0x43d),'properties':{'audio':{'type':'string'}},'required':[a0_0x359adc(0x248)],...b('audio')}},'required':[a0_0x359adc(0x708),a0_0x359adc(0x74a)]},pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Q},'pollMessage':{'type':a0_0x359adc(0x43d),'properties':{'name':{'type':a0_0x359adc(0x1e5)},'selectableCount':{'type':a0_0x359adc(0x74a)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x359adc(0x613),a0_0x359adc(0x46c),a0_0x359adc(0x25f)],...b(a0_0x359adc(0x613),a0_0x359adc(0x46c),a0_0x359adc(0x25f))}},'required':[a0_0x359adc(0x74a),a0_0x359adc(0x53c)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'menuMessage':{'type':a0_0x359adc(0x43d),'properties':{'text':{'type':a0_0x359adc(0x1e5)},'choices':{'type':a0_0x359adc(0x4cd),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...b('text',a0_0x359adc(0x34c))}},'required':[a0_0x359adc(0x74a),a0_0x359adc(0x76b)]},ma={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'options':{...X},'buttonMessage':{'type':a0_0x359adc(0x43d),'properties':{'title':{'type':a0_0x359adc(0x1e5)},'description':{'type':a0_0x359adc(0x1e5)},'footerText':{'type':a0_0x359adc(0x1e5)},'buttons':{'type':a0_0x359adc(0x4cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x359adc(0x43d),'properties':{'buttonText':{'type':a0_0x359adc(0x1e5)},'buttonId':{'type':'string'}},'required':[a0_0x359adc(0x6a6),a0_0x359adc(0x42a)],...b(a0_0x359adc(0x6a6),a0_0x359adc(0x42a))}},'mediaMessage':{'type':a0_0x359adc(0x43d),'properties':{'media':{'type':a0_0x359adc(0x1e5)},'fileName':{'type':a0_0x359adc(0x1e5)},'mediatype':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x4c4),a0_0x359adc(0x426),'video']}},'required':[a0_0x359adc(0x5e3),'mediatype'],...b('media','fileName')}},'required':['title',a0_0x359adc(0x182)],...b(a0_0x359adc(0x3e9),a0_0x359adc(0x4bb))}},'required':[a0_0x359adc(0x74a),a0_0x359adc(0x542)]},ha={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Q},'options':{...X},'locationMessage':{'type':a0_0x359adc(0x43d),'properties':{'latitude':{'type':a0_0x359adc(0x74a)},'longitude':{'type':a0_0x359adc(0x74a)},'name':{'type':a0_0x359adc(0x1e5)},'address':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x43f),a0_0x359adc(0x205)],...b(a0_0x359adc(0x613),'addresss')}},'required':['number',a0_0x359adc(0x500)]},fa={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'options':{...X},'listMessage':{'type':a0_0x359adc(0x43d),'properties':{'title':{'type':a0_0x359adc(0x1e5)},'description':{'type':'string'},'footerText':{'type':a0_0x359adc(0x1e5)},'buttonText':{'type':a0_0x359adc(0x1e5)},'sections':{'type':a0_0x359adc(0x4cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x359adc(0x1e5)},'rows':{'type':a0_0x359adc(0x4cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x359adc(0x43d),'properties':{'title':{'type':a0_0x359adc(0x1e5)},'description':{'type':a0_0x359adc(0x1e5)},'rowId':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x3e9),a0_0x359adc(0x25d)],...b(a0_0x359adc(0x3e9),a0_0x359adc(0x25d))}}},'required':['title',a0_0x359adc(0x6ea)],...b(a0_0x359adc(0x3e9))}}},'required':[a0_0x359adc(0x3e9),'description','buttonText',a0_0x359adc(0x35f)],...b(a0_0x359adc(0x3e9),a0_0x359adc(0x4bb),a0_0x359adc(0x6a6),a0_0x359adc(0x65c))}},'required':['number',a0_0x359adc(0x3ad)]},wa={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'options':{...X},'contactMessage':{'type':a0_0x359adc(0x4cd),'items':{'type':a0_0x359adc(0x43d),'properties':{'fullName':{'type':a0_0x359adc(0x1e5)},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName',a0_0x359adc(0x3a3)],...b('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x359adc(0x74a),'contactMessage']},ya={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x359adc(0x43d),'properties':{'id':{'type':a0_0x359adc(0x1e5)},'remoteJid':{'type':a0_0x359adc(0x1e5)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x359adc(0x340),'fromMe'],...b('id',a0_0x359adc(0x340))},'reaction':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x6f8),'reaction'],...b(a0_0x359adc(0x60c))}},'required':[a0_0x359adc(0x5e4)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'numbers':{'type':a0_0x359adc(0x4cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x359adc(0x1e5),'pattern':a0_0x359adc(0x2c9),'description':a0_0x359adc(0x5a6)}}}},Sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x359adc(0x4cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x359adc(0x1e5)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x359adc(0x1e5)}},'required':['id','fromMe','remoteJid'],...b('id','remoteJid')}}},'required':[a0_0x359adc(0x629)]},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'privacySettings':{'type':a0_0x359adc(0x43d),'properties':{'readreceipts':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x34a),'none']},'profile':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x34a),a0_0x359adc(0x486),a0_0x359adc(0x506),'none']},'status':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x34a),'contacts',a0_0x359adc(0x506),'none']},'online':{'type':a0_0x359adc(0x1e5),'enum':['all','match_last_seen']},'last':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x34a),a0_0x359adc(0x486),a0_0x359adc(0x506),'none']},'groupadd':{'type':'string','enum':['all','contacts',a0_0x359adc(0x506),'none']}},'required':[a0_0x359adc(0x369),a0_0x359adc(0x63a),a0_0x359adc(0x595),a0_0x359adc(0x599),a0_0x359adc(0x5de),'groupadd'],...b('readreceipts','profile',a0_0x359adc(0x595),a0_0x359adc(0x599),'last','groupadd')}},'required':['privacySettings']},va={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'lastMessage':{'type':a0_0x359adc(0x43d),'properties':{'key':{'type':a0_0x359adc(0x43d),'properties':{'id':{'type':a0_0x359adc(0x1e5)},'remoteJid':{'type':a0_0x359adc(0x1e5)},'fromMe':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]}},'required':['id',a0_0x359adc(0x6c1),'remoteJid'],...b('id',a0_0x359adc(0x340))},'messageTimestamp':{'type':a0_0x359adc(0x48c),'minLength':0x1}},'required':[a0_0x359adc(0x6f8)],...b(a0_0x359adc(0x4fe))},'archive':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]}},'required':[a0_0x359adc(0x690),'archive']},Na={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x359adc(0x1e5)},'participant':{'type':a0_0x359adc(0x1e5)}},'required':['id',a0_0x359adc(0x6c1),'remoteJid'],...b('id',a0_0x359adc(0x340),a0_0x359adc(0x25c))},Ca={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'where':{'type':a0_0x359adc(0x43d),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x359adc(0x1e5),'minLength':0x1},'id':{'type':a0_0x359adc(0x1e5),'minLength':0x1}},...b(a0_0x359adc(0x2ec),'id',a0_0x359adc(0x51c))}}},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'name':{'type':a0_0x359adc(0x1e5)}},...b('name')},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'status':{'type':'string'}},...b(a0_0x359adc(0x595))},Ee={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x359adc(0x1e5)},'picture':{'type':'string'}}},Ra={'type':a0_0x359adc(0x43d),'properties':{'wuid':{'type':a0_0x359adc(0x1e5)},'name':{'type':a0_0x359adc(0x1e5)},'picture':{'type':a0_0x359adc(0x1e5)},'status':{'type':a0_0x359adc(0x1e5)},'isBusiness':{'type':'boolean'}}},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'where':{'type':a0_0x359adc(0x43d),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x359adc(0x43d),'if':{'propertyNames':{'enum':['fromMe',a0_0x359adc(0x340),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x359adc(0x1e5),'minLength':0x1,'description':a0_0x359adc(0x5ea)},'id':{'type':a0_0x359adc(0x1e5),'minLength':0x1,'description':a0_0x359adc(0x5ea)},'fromMe':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x359adc(0x43d)}},...b(a0_0x359adc(0x2ec))},'limit':{'type':'integer'}}},Sn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x359adc(0x43d),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x588),'PENDING','SERVER_ACK',a0_0x359adc(0x6ae),a0_0x359adc(0x395),a0_0x359adc(0x6e8)]}},...b(a0_0x359adc(0x2ec),a0_0x359adc(0x340),'id','status')},'limit':{'type':a0_0x359adc(0x48c)}}},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'number':{...Q},'presence':{'type':a0_0x359adc(0x1e5),'enum':[a0_0x359adc(0x574),a0_0x359adc(0x63f),a0_0x359adc(0x2d6),'recording',a0_0x359adc(0x461)]}},'required':[a0_0x359adc(0x6d3),a0_0x359adc(0x74a)]},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'subject':{'type':'string'},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x359adc(0x1e5),'minLength':0xa,'pattern':a0_0x359adc(0x3e6),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x359adc(0x51f),'participants'],...b(a0_0x359adc(0x51f),a0_0x359adc(0x4bb),a0_0x359adc(0x281))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'groupJid':{'type':a0_0x359adc(0x1e5),'pattern':a0_0x359adc(0x5ca)}},'required':['groupJid'],...b(a0_0x359adc(0x22a))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'groupJid':{'type':a0_0x359adc(0x1e5)},'action':{'type':'string','enum':['add',a0_0x359adc(0x383),a0_0x359adc(0x6a8),a0_0x359adc(0x517)]},'participants':{'type':a0_0x359adc(0x4cd),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x359adc(0x3e6),'description':a0_0x359adc(0x3a6)}}},'required':[a0_0x359adc(0x22a),a0_0x359adc(0x1f4),a0_0x359adc(0x635)],...b(a0_0x359adc(0x22a),'action')},_a={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'groupJid':{'type':a0_0x359adc(0x1e5)},'expiration':{'type':a0_0x359adc(0x74a),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x359adc(0x22a),a0_0x359adc(0x5e2)],...b(a0_0x359adc(0x22a),a0_0x359adc(0x5e2))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'groupJid':{'type':a0_0x359adc(0x1e5)},'image':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x22a),a0_0x359adc(0x4c4)],...b(a0_0x359adc(0x22a),'image')},xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x359adc(0x1e5)},'description':{'type':a0_0x359adc(0x1e5)}},'required':['groupJid','description'],...b('groupJid','description')},$a={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'groupJid':{'type':a0_0x359adc(0x1e5)},'name':{'type':a0_0x359adc(0x1e5)}},'required':[a0_0x359adc(0x22a),a0_0x359adc(0x613)],...b(a0_0x359adc(0x22a),a0_0x359adc(0x613))},ka={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x359adc(0x1e5),'enum':['announcement',a0_0x359adc(0x33d),'unlocked',a0_0x359adc(0x6f2)]}},'required':[a0_0x359adc(0x22a),a0_0x359adc(0x6f0)],...b(a0_0x359adc(0x22a),'setting')},La={'$id':(0x0,v['v4'])(),'type':a0_0x359adc(0x43d),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x359adc(0x74f)],...b('inviteCode')},Ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'url':{'type':a0_0x359adc(0x1e5)},'enabled':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]}},'required':[a0_0x359adc(0x65b),a0_0x359adc(0x283)]},En={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x359adc(0x365),'enum':[!0x0,!0x1]}},'required':[a0_0x359adc(0x60a),'STATUS_INSTANCE',a0_0x359adc(0x1a5),a0_0x359adc(0x2b6),'MESSAGES_UPDATE',a0_0x359adc(0x437),'SEND_MESSAGE',a0_0x359adc(0x24a),a0_0x359adc(0x3e2),a0_0x359adc(0x5c6),a0_0x359adc(0x5ad),a0_0x359adc(0x712),a0_0x359adc(0x324),a0_0x359adc(0x71c),a0_0x359adc(0x576),a0_0x359adc(0x5bd),a0_0x359adc(0x700),a0_0x359adc(0x705),a0_0x359adc(0x557)],...b('local_map',a0_0x359adc(0x18f),a0_0x359adc(0x1a5),'MESSAGES_SET',a0_0x359adc(0x4d1),a0_0x359adc(0x437),'SEND_MESSAGE','CONTACTS_SET',a0_0x359adc(0x3e2),a0_0x359adc(0x5c6),'PRESENCE_UPDATE',a0_0x359adc(0x712),a0_0x359adc(0x324),a0_0x359adc(0x71c),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x359adc(0x700),a0_0x359adc(0x705),a0_0x359adc(0x557))},We=class{},He=class extends H{constructor(_0xfa6fe4){const _0x405c07=a0_0x359adc;super(_0xfa6fe4),this[_0x405c07(0x2a1)]=_0xfa6fe4;}[a0_0x359adc(0x227)](_0x14af52){return Us(_0x14af52);}async['insert'](_0x4e24a4){const _0x2f4cb1=a0_0x359adc;if(_0x4e24a4[_0x2f4cb1(0x582)]!==0x0)try{return{'insertCount':(await this[_0x2f4cb1(0x227)](_0x4e24a4[0x0]['owner'])[_0x2f4cb1(0x4fb)]([..._0x4e24a4]))['length']};}catch(_0x10fa70){return _0x10fa70;}}async[a0_0x359adc(0x51e)](_0x2e3260){const _0x332f57=a0_0x359adc;try{return{'deletedCount':(await this[_0x332f57(0x227)](_0x2e3260[_0x332f57(0x504)][_0x332f57(0x72e)])[_0x332f57(0x336)]({..._0x2e3260[_0x332f57(0x504)]}))[_0x332f57(0x47a)]};}catch(_0x53924f){return{'error':_0x53924f?.[_0x332f57(0x25a)]()};}}async['update'](_0x299a6e,_0x3b6dac){const _0x1262cf=a0_0x359adc;try{if(_0x299a6e['length']===0x0)return;let _0x1ca8d7=this[_0x1262cf(0x227)](_0x3b6dac),_0x15c99c=_0x299a6e[_0x1262cf(0x4a3)](_0x283868=>({'updateOne':{'filter':{'_id':_0x283868[_0x1262cf(0x2ec)],'owner':_0x3b6dac},'update':{..._0x283868}}})),{modifiedCount:_0x101e7c}=await _0x1ca8d7['bulkWrite'](_0x15c99c);return{'insertCount':_0x101e7c};}catch{return;}}async[a0_0x359adc(0x673)](_0x549aed){const _0x58529a=a0_0x359adc;try{return await this[_0x58529a(0x227)](_0x549aed[_0x58529a(0x504)]['owner'])[_0x58529a(0x673)]({..._0x549aed[_0x58529a(0x504)]})['limit'](_0x549aed?.[_0x58529a(0x355)]??0x0)[_0x58529a(0x39f)]();}catch{return[];}}async[a0_0x359adc(0x50e)](_0x1009fb){const _0x385229=a0_0x359adc;try{return await this[_0x385229(0x227)](_0x1009fb['where']['owner'])[_0x385229(0x50e)]({..._0x1009fb[_0x385229(0x504)]})['lean']();}catch{return null;}}async[a0_0x359adc(0x607)](_0x272cf5){const _0x2c30b8=a0_0x359adc;try{return await this[_0x2c30b8(0x227)](_0x272cf5)[_0x2c30b8(0x20b)]['drop'](),{'success':!0x0};}catch(_0x2f7a24){return console['error'](_0x2f7a24),{'success':!0x1,'error':_0x2f7a24};}}},ze=require(a0_0x359adc(0x199)),In=require(a0_0x359adc(0x3d9)),ls=new C(a0_0x359adc(0x405)),L=class{constructor(){}['routerPath'](_0x182ff9,_0xa3a539=!0x0){let _0x31f2f0='/'+_0x182ff9;return _0xa3a539&&(_0x31f2f0+='/:instanceName'),_0x31f2f0;}async[a0_0x359adc(0x184)](_0x270fed){const _0x5e6f7b=a0_0x359adc;let {request:_0x4de889,schema:_0x7e2e6b,ClassRef:_0x597f13,execute:_0xa4c9}=_0x270fed,_0x3209f5=new _0x597f13(),_0x44bdc6=_0x4de889[_0x5e6f7b(0x27d)],_0x3cce02=_0x4de889['params'];_0x4de889?.[_0x5e6f7b(0x423)]&&Object[_0x5e6f7b(0x24b)](_0x4de889[_0x5e6f7b(0x423)])[_0x5e6f7b(0x582)]>0x0&&Object[_0x5e6f7b(0x5f8)](_0x3cce02,_0x4de889[_0x5e6f7b(0x423)]),_0x4de889[_0x5e6f7b(0x2f0)]['includes'](_0x5e6f7b(0x5aa))&&Object[_0x5e6f7b(0x5f8)](_0x3cce02,_0x44bdc6),Object['assign'](_0x3209f5,_0x44bdc6);let _0x1a3a93=_0x7e2e6b?(0x0,ze[_0x5e6f7b(0x456)])(_0x3209f5,_0x7e2e6b):{'valid':!0x0,'errors':[]};if(!_0x1a3a93['valid']){let _0x40b562=_0x1a3a93[_0x5e6f7b(0x3db)]['map'](({property:_0x560af9,stack:_0x316e4a,schema:_0x3c88e1})=>{const _0x20a629=_0x5e6f7b;let _0x29ef1f;return _0x3c88e1['description']?_0x29ef1f=_0x3c88e1[_0x20a629(0x4bb)]:_0x29ef1f=_0x316e4a[_0x20a629(0x37f)](_0x20a629(0x3b7),''),{'property':_0x560af9[_0x20a629(0x37f)](_0x20a629(0x3b7),''),'message':_0x29ef1f};});throw ls[_0x5e6f7b(0x252)]([..._0x40b562]),new g(..._0x40b562);}return await _0xa4c9(_0x3cce02,_0x3209f5);}async[a0_0x359adc(0x186)](_0xb87c54){const _0x4a24d3=a0_0x359adc;let {request:_0x5f4199,ClassRef:_0x332a3f,schema:_0x335753,execute:_0x5d37d5}=_0xb87c54,_0x533fa7=_0x5f4199[_0x4a24d3(0x423)];if(!_0x533fa7?.['groupJid'])throw new g(_0x4a24d3(0x44b),_0x4a24d3(0x30b));let _0x9caa0f=_0x5f4199[_0x4a24d3(0x38b)],_0x212a65=_0x5f4199[_0x4a24d3(0x27d)],_0x2872fb=new _0x332a3f();Object[_0x4a24d3(0x5f8)](_0x212a65,_0x533fa7),Object[_0x4a24d3(0x5f8)](_0x2872fb,_0x212a65);let _0x26f697=(0x0,ze[_0x4a24d3(0x456)])(_0x2872fb,_0x335753);if(!_0x26f697[_0x4a24d3(0x3d8)]){let _0x460166=_0x26f697[_0x4a24d3(0x3db)]['map'](({property:_0x301df1,stack:_0x34f1a2,schema:_0x329882})=>{const _0x51341f=_0x4a24d3;let _0x91f35a;return _0x329882[_0x51341f(0x4bb)]?_0x91f35a=_0x329882[_0x51341f(0x4bb)]:_0x91f35a=_0x34f1a2[_0x51341f(0x37f)](_0x51341f(0x3b7),''),{'property':_0x301df1[_0x51341f(0x37f)](_0x51341f(0x3b7),''),'message':_0x91f35a};});throw ls[_0x4a24d3(0x252)]([..._0x460166]),new g(..._0x460166);}return await _0x5d37d5(_0x9caa0f,_0x2872fb);}async[a0_0x359adc(0x482)](_0x375c20){const _0x29ac2b=a0_0x359adc;let {request:_0x285106,ClassRef:_0x462f4f,schema:_0x3ce571,execute:_0x2c8cb7}=_0x375c20,_0xb00190=_0x285106[_0x29ac2b(0x27d)];if(!_0xb00190?.[_0x29ac2b(0x74f)])throw new g('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x29ac2b(0x68b));let _0x3f6eb2=_0x285106[_0x29ac2b(0x38b)],_0x370a66=_0x285106[_0x29ac2b(0x27d)],_0x2f26ba=new _0x462f4f();Object[_0x29ac2b(0x5f8)](_0x370a66,_0xb00190),Object['assign'](_0x2f26ba,_0x370a66);let _0x38d4fc=(0x0,ze[_0x29ac2b(0x456)])(_0x2f26ba,_0x3ce571);if(!_0x38d4fc[_0x29ac2b(0x3d8)]){let _0x19a7c9=_0x38d4fc[_0x29ac2b(0x3db)][_0x29ac2b(0x4a3)](({property:_0x3c123e,stack:_0x293abe,schema:_0xa37837})=>{const _0x37c19f=_0x29ac2b;let _0x164af8;return _0xa37837[_0x37c19f(0x4bb)]?_0x164af8=_0xa37837['description']:_0x164af8=_0x293abe[_0x37c19f(0x37f)](_0x37c19f(0x3b7),''),{'property':_0x3c123e[_0x37c19f(0x37f)](_0x37c19f(0x3b7),''),'message':_0x164af8};});throw ls[_0x29ac2b(0x252)]([..._0x19a7c9]),new g(..._0x19a7c9);}return await _0x2c8cb7(_0x3f6eb2,_0x2f26ba);}},S=class{},Ke=class extends L{constructor(..._0xc47fbc){const _0x12de28=a0_0x359adc;super(),this[_0x12de28(0x5ab)]=(0x0,Ja[_0x12de28(0x4a0)])(),this[_0x12de28(0x5ab)]['post'](this[_0x12de28(0x6f3)](_0x12de28(0x289)),..._0xc47fbc,async(_0x366ad7,_0x47ea97)=>{const _0x5cd320=_0x12de28;let _0x16279c=await this[_0x5cd320(0x184)]({'request':_0x366ad7,'schema':Ia,'ClassRef':ke,'execute':(_0x482306,_0x521564)=>D[_0x5cd320(0x289)](_0x482306,_0x521564)});return _0x47ea97[_0x5cd320(0x595)](0xc9)[_0x5cd320(0x22d)](_0x16279c);})[_0x12de28(0x4a5)](this['routerPath'](_0x12de28(0x4e3)),..._0xc47fbc,async(_0x3de052,_0x450d1e)=>{const _0x3ff752=_0x12de28;let _0x168b35=await this[_0x3ff752(0x184)]({'request':_0x3de052,'schema':ba,'ClassRef':Le,'execute':(_0x23f0d0,_0x42cf83)=>D['whatsappNumber'](_0x23f0d0,_0x42cf83)});return _0x450d1e['status'](0xc9)['json'](_0x168b35);})[_0x12de28(0x4a5)](this[_0x12de28(0x6f3)]('editChat'),..._0xc47fbc,async(_0x3bafe7,_0x582075)=>{const _0x413524=_0x12de28;let _0x596bce=await this[_0x413524(0x184)]({'request':_0x3bafe7,'schema':N,'ClassRef':S,'execute':(_0x56a7c3,_0x34f2a8)=>D['editChat'](_0x56a7c3,_0x34f2a8)});return _0x582075[_0x413524(0x595)](0xc9)[_0x413524(0x22d)](_0x596bce);})[_0x12de28(0x6f4)](this[_0x12de28(0x6f3)](_0x12de28(0x389)),..._0xc47fbc,async(_0x5567e3,_0x2fc931)=>{const _0x40d280=_0x12de28;let _0x19fb45=await this['dataValidate']({'request':_0x5567e3,'schema':Sa,'ClassRef':Ve,'execute':(_0x28d765,_0x46796e)=>D['readMessage'](_0x28d765,_0x46796e)});return _0x2fc931[_0x40d280(0x595)](0xc9)[_0x40d280(0x22d)](_0x19fb45);})[_0x12de28(0x6f4)](this[_0x12de28(0x6f3)](_0x12de28(0x74e)),..._0xc47fbc,async(_0x349783,_0x40f877)=>{const _0x38fd92=_0x12de28;let _0x306f6b=await this[_0x38fd92(0x184)]({'request':_0x349783,'schema':va,'ClassRef':je,'execute':(_0x452a33,_0x81222a)=>D[_0x38fd92(0x74e)](_0x452a33,_0x81222a)});return _0x40f877[_0x38fd92(0x595)](0xc9)[_0x38fd92(0x22d)](_0x306f6b);})[_0x12de28(0x51e)](this[_0x12de28(0x6f3)](_0x12de28(0x643)),..._0xc47fbc,async(_0x5d174b,_0x3f15a4)=>{const _0x335b15=_0x12de28;let _0x5ca07a=await this['dataValidate']({'request':_0x5d174b,'schema':Na,'ClassRef':qe,'execute':(_0x2075b1,_0x2db358)=>D[_0x335b15(0x441)](_0x2075b1,_0x2db358)});return _0x3f15a4[_0x335b15(0x595)](0xc9)['json'](_0x5ca07a);})[_0x12de28(0x4a5)](this[_0x12de28(0x6f3)](_0x12de28(0x3ab)),..._0xc47fbc,async(_0x540420,_0x22c450)=>{const _0x5907db=_0x12de28;let _0x5bf452=await this['dataValidate']({'request':_0x540420,'schema':Ee,'ClassRef':Se,'execute':(_0x4575a0,_0x3d41b5)=>D[_0x5907db(0x2eb)](_0x4575a0,_0x3d41b5)});return _0x22c450[_0x5907db(0x595)](0xc8)[_0x5907db(0x22d)](_0x5bf452);})[_0x12de28(0x4a5)](this['routerPath'](_0x12de28(0x6ed)),..._0xc47fbc,async(_0x472152,_0x500b7f)=>{const _0x1c790b=_0x12de28;let _0x242dc3=await this[_0x1c790b(0x184)]({'request':_0x472152,'schema':Ra,'ClassRef':Se,'execute':(_0x46467a,_0x4c8122)=>D[_0x1c790b(0x6ed)](_0x46467a,_0x4c8122)});return _0x500b7f['status'](0xc8)['json'](_0x242dc3);})[_0x12de28(0x4a5)](this[_0x12de28(0x6f3)](_0x12de28(0x323)),..._0xc47fbc,async(_0x482012,_0x46eaf3)=>{const _0x33e6d7=_0x12de28;let _0xcf2c78=await this[_0x33e6d7(0x184)]({'request':_0x482012,'schema':Ca,'ClassRef':We,'execute':(_0xbb1960,_0x59488c)=>D[_0x33e6d7(0x304)](_0xbb1960,_0x59488c)});return _0x46eaf3[_0x33e6d7(0x595)](0xc8)[_0x33e6d7(0x22d)](_0xcf2c78);})[_0x12de28(0x4a5)](this[_0x12de28(0x6f3)](_0x12de28(0x1b7)),..._0xc47fbc,async(_0x1cfb4b,_0x51caf4)=>{const _0x18493b=_0x12de28;let _0x5a670e=await this[_0x18493b(0x184)]({'request':_0x1cfb4b,'schema':null,'ClassRef':Object,'execute':(_0x1dbb7e,_0x27d88c)=>D['getBase64FromMediaMessage'](_0x1dbb7e,_0x27d88c)});return _0x51caf4[_0x18493b(0x595)](0xc9)[_0x18493b(0x22d)](_0x5a670e);})[_0x12de28(0x4a5)](this['routerPath'](_0x12de28(0x2b4)),..._0xc47fbc,async(_0x2d62a9,_0x4705c7)=>{const _0x2f638f=_0x12de28;let _0x2d9ab8=await this[_0x2f638f(0x184)]({'request':_0x2d62a9,'schema':Aa,'ClassRef':xe,'execute':(_0x111b57,_0x462970)=>D[_0x2f638f(0x50d)](_0x111b57,_0x462970)});return _0x4705c7[_0x2f638f(0x595)](0xc8)[_0x2f638f(0x22d)](_0x2d9ab8);})[_0x12de28(0x43e)](this[_0x12de28(0x6f3)](_0x12de28(0x512)),..._0xc47fbc,async(_0x1e1019,_0x245aba)=>{const _0x2d780f=_0x12de28;let _0x1576a0=await this['dataValidate']({'request':_0x1e1019,'schema':null,'ClassRef':S,'execute':_0x1ecb4d=>D[_0x2d780f(0x589)](_0x1ecb4d)});return _0x245aba[_0x2d780f(0x595)](0xc8)[_0x2d780f(0x22d)](_0x1576a0);})['get'](this[_0x12de28(0x6f3)](_0x12de28(0x650)),..._0xc47fbc,async(_0x34ec78,_0x5be5bf)=>{const _0x5730c6=_0x12de28;let _0x23fd65=await this[_0x5730c6(0x184)]({'request':_0x34ec78,'schema':null,'ClassRef':S,'execute':_0x4401e8=>D[_0x5730c6(0x650)](_0x4401e8)});return _0x5be5bf['status'](0xc8)[_0x5730c6(0x22d)](_0x23fd65);})['put'](this[_0x12de28(0x6f3)](_0x12de28(0x611)),..._0xc47fbc,async(_0x3abcf4,_0x685ff0)=>{const _0x7e984a=_0x12de28;let _0x2c6075=await this[_0x7e984a(0x184)]({'request':_0x3abcf4,'schema':Ea,'ClassRef':Fe,'execute':(_0x3a11c0,_0x26df19)=>D['updatePrivacySettings'](_0x3a11c0,_0x26df19)});return _0x685ff0[_0x7e984a(0x595)](0xc9)[_0x7e984a(0x22d)](_0x2c6075);})['post'](this[_0x12de28(0x6f3)](_0x12de28(0x58e)),..._0xc47fbc,async(_0x4bdcbd,_0x32225f)=>{const _0x898238=_0x12de28;let _0x163c64=await this[_0x898238(0x184)]({'request':_0x4bdcbd,'schema':Ee,'ClassRef':we,'execute':(_0x43d76b,_0x3969be)=>D[_0x898238(0x58e)](_0x43d76b,_0x3969be)});return _0x32225f[_0x898238(0x595)](0xc8)[_0x898238(0x22d)](_0x163c64);})[_0x12de28(0x4a5)](this[_0x12de28(0x6f3)]('updateProfileName'),..._0xc47fbc,async(_0x355040,_0x24ebcf)=>{const _0x38150b=_0x12de28;let _0x5628e1=await this[_0x38150b(0x184)]({'request':_0x355040,'schema':Ma,'ClassRef':Ue,'execute':(_0x2237b8,_0x340375)=>D['updateProfileName'](_0x2237b8,_0x340375)});return _0x24ebcf[_0x38150b(0x595)](0xc8)[_0x38150b(0x22d)](_0x5628e1);})[_0x12de28(0x4a5)](this['routerPath'](_0x12de28(0x36f)),..._0xc47fbc,async(_0x2afc4a,_0x3f44de)=>{const _0x494b28=_0x12de28;let _0x22174b=await this[_0x494b28(0x184)]({'request':_0x2afc4a,'schema':Ta,'ClassRef':Je,'execute':(_0xce10a6,_0x253562)=>D[_0x494b28(0x36f)](_0xce10a6,_0x253562)});return _0x3f44de['status'](0xc8)[_0x494b28(0x22d)](_0x22174b);})[_0x12de28(0x6f4)](this['routerPath'](_0x12de28(0x54e)),..._0xc47fbc,async(_0x54a93d,_0x25efaf)=>{const _0x40c7c4=_0x12de28;let _0xc25041=await this[_0x40c7c4(0x184)]({'request':_0x54a93d,'schema':Ee,'ClassRef':we,'execute':(_0x114884,_0x1c57f8)=>D[_0x40c7c4(0x54e)](_0x114884,_0x1c57f8)});return _0x25efaf['status'](0xc8)[_0x40c7c4(0x22d)](_0xc25041);})[_0x12de28(0x51e)](this[_0x12de28(0x6f3)](_0x12de28(0x371)),..._0xc47fbc,async(_0x194185,_0x1cc781)=>{let _0x34252a=await this['dataValidate']({'request':_0x194185,'schema':Ee,'ClassRef':we,'execute':(_0x24d7f4,_0x22634d)=>D['removeProfilePicture'](_0x24d7f4,_0x22634d)});return _0x1cc781['status'](0xc8)['json'](_0x34252a);});}},Va=require('express'),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},it=class extends L{constructor(..._0x987b37){const _0x2b65e5=a0_0x359adc;super(),this[_0x2b65e5(0x5ab)]=(0x0,Va[_0x2b65e5(0x4a0)])(),this[_0x2b65e5(0x5ab)][_0x2b65e5(0x4a5)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x677)),..._0x987b37,async(_0x2e9c42,_0x25f863)=>{const _0x503bfb=_0x2b65e5;let _0x50e474=await this['dataValidate']({'request':_0x2e9c42,'schema':Oa,'ClassRef':Qe,'execute':(_0xe29765,_0x465987)=>V['createGroup'](_0xe29765,_0x465987)});_0x25f863[_0x503bfb(0x595)](0xc9)[_0x503bfb(0x22d)](_0x50e474);})[_0x2b65e5(0x6f4)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x770)),..._0x987b37,async(_0x436cc1,_0x33017b)=>{const _0x43dda8=_0x2b65e5;let _0x1cea5f=await this[_0x43dda8(0x186)]({'request':_0x436cc1,'schema':Pa,'ClassRef':Ye,'execute':(_0x5f4120,_0x1e0285)=>V[_0x43dda8(0x770)](_0x5f4120,_0x1e0285)});_0x33017b[_0x43dda8(0x595)](0xc9)[_0x43dda8(0x22d)](_0x1cea5f);})[_0x2b65e5(0x6f4)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x647)),..._0x987b37,async(_0x3b421b,_0x43ffad)=>{const _0x1ce2f2=_0x2b65e5;let _0x1c72cf=await this[_0x1ce2f2(0x186)]({'request':_0x3b421b,'schema':xa,'ClassRef':Xe,'execute':(_0x46da41,_0x93c9e5)=>V[_0x1ce2f2(0x647)](_0x46da41,_0x93c9e5)});_0x43ffad[_0x1ce2f2(0x595)](0xc9)[_0x1ce2f2(0x22d)](_0x1c72cf);})['put'](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x57b)),..._0x987b37,async(_0x474f03,_0x5ecf4f)=>{const _0x52b029=_0x2b65e5;let _0x5d7a56=await this[_0x52b029(0x186)]({'request':_0x474f03,'schema':$a,'ClassRef':Ze,'execute':(_0x3d5c7e,_0x3557b3)=>V[_0x52b029(0x57b)](_0x3d5c7e,_0x3557b3)});_0x5ecf4f[_0x52b029(0x595)](0xc9)[_0x52b029(0x22d)](_0x5d7a56);})[_0x2b65e5(0x6f4)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x5d8)),..._0x987b37,async(_0x4e23ca,_0xb11ad2)=>{const _0x5a3b9f=_0x2b65e5;let _0x2f286e=await this[_0x5a3b9f(0x186)]({'request':_0x4e23ca,'schema':ka,'ClassRef':et,'execute':(_0x448896,_0x3f38f9)=>V['groupSetting'](_0x448896,_0x3f38f9)});_0xb11ad2[_0x5a3b9f(0x595)](0xc9)[_0x5a3b9f(0x22d)](_0x2f286e);})[_0x2b65e5(0x6f4)](this[_0x2b65e5(0x6f3)]('toggleEphemeral'),..._0x987b37,async(_0x24a20b,_0x3b2744)=>{const _0x3c3b87=_0x2b65e5;let _0x4a23cf=await this[_0x3c3b87(0x186)]({'request':_0x24a20b,'schema':_a,'ClassRef':at,'execute':(_0x8a4a5c,_0x408119)=>V[_0x3c3b87(0x498)](_0x8a4a5c,_0x408119)});_0x3b2744['status'](0xc9)[_0x3c3b87(0x22d)](_0x4a23cf);})[_0x2b65e5(0x43e)](this['routerPath']('findGroupInfos'),..._0x987b37,async(_0x373515,_0x1ad73a)=>{const _0xf5bc43=_0x2b65e5;let _0x1bbb07=await this[_0xf5bc43(0x186)]({'request':_0x373515,'schema':ve,'ClassRef':Z,'execute':(_0x9a3a48,_0x10ba1e)=>V[_0xf5bc43(0x667)](_0x9a3a48,_0x10ba1e)});_0x1ad73a[_0xf5bc43(0x595)](0xc8)[_0xf5bc43(0x22d)](_0x1bbb07);})[_0x2b65e5(0x43e)](this[_0x2b65e5(0x6f3)]('findGroups'),..._0x987b37,async(_0x32faa4,_0xeee35b)=>{const _0x524e4f=_0x2b65e5;let _0x28354a=await this['dataValidate']({'request':_0x32faa4,'schema':N,'ClassRef':S,'execute':_0x1238c8=>V[_0x524e4f(0x349)](_0x1238c8)});_0xeee35b[_0x524e4f(0x595)](0xc8)[_0x524e4f(0x22d)](_0x28354a);})[_0x2b65e5(0x43e)](this[_0x2b65e5(0x6f3)]('participants'),..._0x987b37,async(_0x3e7b59,_0x2e7399)=>{const _0x29ae51=_0x2b65e5;let _0x4a094f=await this[_0x29ae51(0x186)]({'request':_0x3e7b59,'schema':ve,'ClassRef':Z,'execute':(_0xd07060,_0x4cbc9e)=>V['findParticipants'](_0xd07060,_0x4cbc9e)});_0x2e7399['status'](0xc8)[_0x29ae51(0x22d)](_0x4a094f);})[_0x2b65e5(0x43e)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x74f)),..._0x987b37,async(_0x3422aa,_0x2297ef)=>{const _0x18aef6=_0x2b65e5;let _0x2c3bdd=await this['groupValidate']({'request':_0x3422aa,'schema':ve,'ClassRef':Z,'execute':(_0x44932f,_0x2d23e5)=>V[_0x18aef6(0x74f)](_0x44932f,_0x2d23e5)});_0x2297ef[_0x18aef6(0x595)](0xc8)['json'](_0x2c3bdd);})[_0x2b65e5(0x6f4)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x41f)),..._0x987b37,async(_0x462507,_0x53a59f)=>{const _0x3ce78e=_0x2b65e5;let _0x1ea205=await this[_0x3ce78e(0x482)]({'request':_0x462507,'schema':La,'ClassRef':tt,'execute':(_0x33288a,_0x5d9e16)=>V['joinGroup'](_0x33288a,_0x5d9e16)});_0x53a59f[_0x3ce78e(0x595)](0xc9)[_0x3ce78e(0x22d)](_0x1ea205);})[_0x2b65e5(0x6f4)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x329)),..._0x987b37,async(_0x5be2ec,_0x1daa47)=>{const _0xee31c5=_0x2b65e5;let _0x5d5d46=await this[_0xee31c5(0x186)]({'request':_0x5be2ec,'schema':ve,'ClassRef':Z,'execute':(_0x204441,_0x411d2c)=>V[_0xee31c5(0x329)](_0x204441,_0x411d2c)});_0x1daa47[_0xee31c5(0x595)](0xc9)[_0xee31c5(0x22d)](_0x5d5d46);})['put'](this[_0x2b65e5(0x6f3)]('updateParticipant'),..._0x987b37,async(_0x413498,_0xf3673a)=>{const _0x59b9d0=_0x2b65e5;let _0x147715=await this[_0x59b9d0(0x186)]({'request':_0x413498,'schema':Da,'ClassRef':st,'execute':(_0x3a81d3,_0x595d73)=>V[_0x59b9d0(0x675)](_0x3a81d3,_0x595d73)});_0xf3673a[_0x59b9d0(0x595)](0xc9)[_0x59b9d0(0x22d)](_0x147715);})[_0x2b65e5(0x51e)](this[_0x2b65e5(0x6f3)](_0x2b65e5(0x41a)),..._0x987b37,async(_0x474661,_0x1f3bf2)=>{const _0x140bf6=_0x2b65e5;let _0x588cc7=await this['groupValidate']({'request':_0x474661,'schema':{},'ClassRef':Z,'execute':(_0x2bdaf6,_0x20ce6b)=>V[_0x140bf6(0x41a)](_0x2bdaf6,_0x20ce6b)});_0x1f3bf2[_0x140bf6(0x595)](0xc8)['json'](_0x588cc7);});}},qa=require(a0_0x359adc(0x543)),Ne=require(a0_0x359adc(0x52a)),us=require(a0_0x359adc(0x42c)),ja=require(a0_0x359adc(0x5dc)),Fa=M(require(a0_0x359adc(0x585))),ot=class{},rt=class c{constructor(_0x56293f,_0x2c4f94,_0x32c968){const _0x144093=a0_0x359adc;this[_0x144093(0x2a1)]=_0x56293f,this['waMonitor']=_0x2c4f94,this[_0x144093(0x638)]=_0x32c968,this[_0x144093(0x577)]=new C(c['name']);}async[a0_0x359adc(0x605)](_0x2f70e7){const _0x54ecf5=a0_0x359adc;let _0x3ffa7e=this[_0x54ecf5(0x2a1)][_0x54ecf5(0x43e)]('AUTHENTICATION')[_0x54ecf5(0x468)],_0x4f2b4c=(0x0,Ne[_0x54ecf5(0x5d7)])({'instanceName':_0x2f70e7[_0x54ecf5(0x6c0)],'apiName':Be,'tokenId':(0x0,us['v4'])()},_0x3ffa7e[_0x54ecf5(0x769)],{'expiresIn':_0x3ffa7e[_0x54ecf5(0x6af)],'encoding':_0x54ecf5(0x75a),'subject':_0x54ecf5(0x490)}),_0x19952f=await this[_0x54ecf5(0x638)][_0x54ecf5(0x3bf)][_0x54ecf5(0x677)]({'jwt':_0x4f2b4c},_0x2f70e7[_0x54ecf5(0x6c0)]);if(_0x19952f[_0x54ecf5(0x252)])throw this[_0x54ecf5(0x577)]['error']({'localError':c[_0x54ecf5(0x613)]+'.jwt','error':_0x19952f[_0x54ecf5(0x252)]}),new g(_0x54ecf5(0x624),_0x19952f['error']?.[_0x54ecf5(0x25a)]());return{'jwt':_0x4f2b4c};}async['apikey'](_0x138543){const _0x5ec63e=a0_0x359adc;let _0x3c2db2=(0x0,us['v4'])()[_0x5ec63e(0x1f5)](),_0x15c667=await this[_0x5ec63e(0x638)][_0x5ec63e(0x3bf)][_0x5ec63e(0x677)]({'apikey':_0x3c2db2},_0x138543['instanceName']);if(_0x15c667['error'])throw this[_0x5ec63e(0x577)]['error']({'localError':c[_0x5ec63e(0x613)]+'.jwt','error':_0x15c667[_0x5ec63e(0x252)]}),new g(_0x5ec63e(0x624),_0x15c667[_0x5ec63e(0x252)]?.[_0x5ec63e(0x25a)]());return{'apikey':_0x3c2db2};}async['generateHash'](_0x1b3db6){const _0xc10df0=a0_0x359adc;let _0x555a0e=this[_0xc10df0(0x2a1)][_0xc10df0(0x43e)](_0xc10df0(0x29c));return await this[_0x555a0e[_0xc10df0(0x5c7)]](_0x1b3db6);}async['refreshToken']({oldToken:_0x472b3f}){const _0x414282=a0_0x359adc;if(!(0x0,ja['isJWT'])(_0x472b3f))throw new g(_0x414282(0x4e8));try{let _0x2de437=this[_0x414282(0x2a1)][_0x414282(0x43e)](_0x414282(0x29c))[_0x414282(0x468)],_0x54291a=(0x0,Ne['verify'])(_0x472b3f,_0x2de437[_0x414282(0x769)],{'ignoreExpiration':!0x0}),_0x3f0428=await this[_0x414282(0x638)][_0x414282(0x3bf)][_0x414282(0x673)](_0x54291a[_0x414282(0x6c0)]),_0x19ddec=(0x0,Ne[_0x414282(0x44f)])(_0x3f0428[_0x414282(0x605)],_0x2de437[_0x414282(0x769)],{'ignoreExpiration':!0x0});if(_0x54291a[_0x414282(0x19c)]!==_0x19ddec[_0x414282(0x19c)])throw new g('Invalid\x20\x22oldToken\x22');let _0x2c9e61={'jwt':(await this[_0x414282(0x605)]({'instanceName':_0x54291a[_0x414282(0x6c0)]}))[_0x414282(0x605)],'instanceName':_0x54291a['instanceName']};try{let _0x54e446=await this[_0x414282(0x638)]['webhook'][_0x414282(0x673)](_0x54291a[_0x414282(0x6c0)]);_0x54e446?.[_0x414282(0x283)]&&this[_0x414282(0x2a1)]['get'](_0x414282(0x753))[_0x414282(0x703)][_0x414282(0x2a4)]&&await Fa[_0x414282(0x4d6)]['create']({'baseURL':_0x54e446['url']})[_0x414282(0x4a5)]('',{'event':_0x414282(0x5e9),'instance':_0x54291a[_0x414282(0x6c0)],'data':_0x2c9e61},{'params':{'owner':this[_0x414282(0x38f)][_0x414282(0x556)][_0x54291a[_0x414282(0x6c0)]][_0x414282(0x5a4)]}});}catch(_0x187b82){this[_0x414282(0x577)][_0x414282(0x252)](_0x187b82);}return _0x2c9e61;}catch(_0x7912ad){throw this['logger'][_0x414282(0x252)]({'localError':c[_0x414282(0x613)]+_0x414282(0x3c0),'error':_0x7912ad}),new g(_0x414282(0x4e8));}}},nt=class extends L{constructor(_0x2bf00d,..._0xe41424){const _0x3ca02a=a0_0x359adc;super(),this[_0x3ca02a(0x2a1)]=_0x2bf00d,this[_0x3ca02a(0x5ab)]=(0x0,qa['Router'])();let _0x361813=_0x2bf00d[_0x3ca02a(0x43e)](_0x3ca02a(0x29c));this[_0x3ca02a(0x5ab)][_0x3ca02a(0x4a5)](_0x3ca02a(0x2c4),..._0xe41424,async(_0x539694,_0x30097b)=>{const _0x492357=_0x3ca02a;let {instanceName:_0x1dc676,apikey:_0x1a4fc9}=_0x539694[_0x492357(0x27d)],_0x54984e=await re[_0x492357(0x54d)]({'instanceName':_0x1dc676,'apikey':_0x1a4fc9});return _0x30097b[_0x492357(0x595)](0xc9)['json'](_0x54984e);})['put'](this[_0x3ca02a(0x6f3)](_0x3ca02a(0x22b)),..._0xe41424,async(_0x1e8a09,_0x394f48)=>{const _0x34027b=_0x3ca02a;let _0x29bc22=await this[_0x34027b(0x184)]({'request':_0x1e8a09,'schema':N,'ClassRef':S,'execute':_0x4944c0=>re['restartInstance'](_0x4944c0)});return _0x394f48[_0x34027b(0x595)](0xc8)[_0x34027b(0x22d)](_0x29bc22);})[_0x3ca02a(0x43e)](this[_0x3ca02a(0x6f3)](_0x3ca02a(0x35d)),..._0xe41424,async(_0x6ce19b,_0x57abc5)=>{const _0x1d9ef2=_0x3ca02a;let _0x4b4e39=await this[_0x1d9ef2(0x184)]({'request':_0x6ce19b,'schema':N,'ClassRef':S,'execute':_0x1d5e27=>re[_0x1d9ef2(0x47d)](_0x1d5e27)});return _0x57abc5[_0x1d9ef2(0x595)](0xc8)[_0x1d9ef2(0x22d)](_0x4b4e39);})[_0x3ca02a(0x43e)](this[_0x3ca02a(0x6f3)]('connectionState'),..._0xe41424,async(_0x40d9ff,_0x5a1133)=>{const _0x1d1e77=_0x3ca02a;let _0x4996fb=await this[_0x1d1e77(0x184)]({'request':_0x40d9ff,'schema':N,'ClassRef':S,'execute':_0x535305=>re[_0x1d1e77(0x3c1)](_0x535305)});return _0x5a1133[_0x1d1e77(0x595)](0xc8)[_0x1d1e77(0x22d)](_0x4996fb);})[_0x3ca02a(0x43e)](this[_0x3ca02a(0x6f3)]('fetchInstances',!0x1),..._0xe41424,async(_0x5affc8,_0x282613)=>{const _0x312945=_0x3ca02a;let _0x296b26=await this[_0x312945(0x184)]({'request':_0x5affc8,'schema':null,'ClassRef':S,'execute':_0x39921f=>re[_0x312945(0x473)](_0x39921f)});return _0x282613['status'](0xc8)[_0x312945(0x22d)](_0x296b26);})[_0x3ca02a(0x51e)](this[_0x3ca02a(0x6f3)]('logout'),..._0xe41424,async(_0x2ed18e,_0x7a573c)=>{const _0x1f9efb=_0x3ca02a;let _0xc99167=await this['dataValidate']({'request':_0x2ed18e,'schema':N,'ClassRef':S,'execute':_0xaab5c9=>re[_0x1f9efb(0x20d)](_0xaab5c9)});return _0x7a573c[_0x1f9efb(0x595)](0xc8)[_0x1f9efb(0x22d)](_0xc99167);})[_0x3ca02a(0x51e)](this['routerPath'](_0x3ca02a(0x51e)),..._0xe41424,async(_0x23d2df,_0x4881dc)=>{const _0x34a7df=_0x3ca02a;let _0x3fbac0=await this[_0x34a7df(0x184)]({'request':_0x23d2df,'schema':N,'ClassRef':S,'execute':_0xceee84=>re['deleteInstance'](_0xceee84)});return _0x4881dc[_0x34a7df(0x595)](0xc8)[_0x34a7df(0x22d)](_0x3fbac0);}),_0x361813[_0x3ca02a(0x5c7)]===_0x3ca02a(0x605)&&this[_0x3ca02a(0x5ab)][_0x3ca02a(0x6f4)](_0x3ca02a(0x66c),async(_0x38f1bb,_0x2e0c16)=>{const _0x4b08d7=_0x3ca02a;let _0x54473c=await this['dataValidate']({'request':_0x38f1bb,'schema':oa,'ClassRef':ot,'execute':(_0x3a0f91,_0x539be4)=>re[_0x4b08d7(0x4d4)](_0x3a0f91,_0x539be4)});return _0x2e0c16[_0x4b08d7(0x595)](0xc9)[_0x4b08d7(0x22d)](_0x54473c);});}},Ga=require(a0_0x359adc(0x543)),ds=class{},K=class extends ds{},ct=class extends K{},lt=class extends K{},ut=class extends K{},dt=class extends K{},Ce=class extends K{},pt=class extends K{},gt=class extends K{},mt=class extends K{},ht=class extends K{},ft=class extends K{},wt=class{},yt=class extends L{constructor(..._0x600aa2){const _0x38c353=a0_0x359adc;super(),this[_0x38c353(0x5ab)]=(0x0,Ga[_0x38c353(0x4a0)])(),this[_0x38c353(0x5ab)][_0x38c353(0x4a5)](this[_0x38c353(0x6f3)]('sendText'),..._0x600aa2,async(_0x3e9cb2,_0x4d220c)=>{const _0x2269e9=_0x38c353;let _0x4cea=await this[_0x2269e9(0x184)]({'request':_0x3e9cb2,'schema':ra,'ClassRef':ct,'execute':(_0x3c2c47,_0x59b022)=>W[_0x2269e9(0x295)](_0x3c2c47,_0x59b022)});return _0x4d220c['status'](0xc9)[_0x2269e9(0x22d)](_0x4cea);})[_0x38c353(0x4a5)](this[_0x38c353(0x6f3)](_0x38c353(0x3c6)),..._0x600aa2,async(_0x3f3dfc,_0x388730)=>{const _0x22ca05=_0x38c353;let _0x369ff6=await this[_0x22ca05(0x184)]({'request':_0x3f3dfc,'schema':ua,'ClassRef':Ce,'execute':(_0x50c8e2,_0x5ed3ef)=>W[_0x22ca05(0x3c6)](_0x50c8e2,_0x5ed3ef)});return _0x388730[_0x22ca05(0x595)](0xc9)[_0x22ca05(0x22d)](_0x369ff6);})['post'](this[_0x38c353(0x6f3)](_0x38c353(0x443)),..._0x600aa2,async(_0x45f6bd,_0x5e144f)=>{const _0x33df95=_0x38c353;let _0x27466b=await this[_0x33df95(0x184)]({'request':_0x45f6bd,'schema':ga,'ClassRef':dt,'execute':(_0x242828,_0xf84d2a)=>W[_0x33df95(0x443)](_0x242828,_0xf84d2a)});return _0x5e144f['status'](0xc9)[_0x33df95(0x22d)](_0x27466b);})[_0x38c353(0x4a5)](this[_0x38c353(0x6f3)](_0x38c353(0x1dd)),..._0x600aa2,async(_0x2ede30,_0x1ebd96)=>{const _0x7ddda6=_0x38c353;let _0x27be6d=await this[_0x7ddda6(0x184)]({'request':_0x2ede30,'schema':da,'ClassRef':Ce,'execute':(_0x4cec82,_0x579007)=>W['sendWhatsAppAudio'](_0x4cec82,_0x579007)});return _0x1ebd96[_0x7ddda6(0x595)](0xc9)[_0x7ddda6(0x22d)](_0x27be6d);})[_0x38c353(0x4a5)](this['routerPath']('sendButtons'),..._0x600aa2,async(_0x57073,_0x122cc9)=>{const _0x77cdec=_0x38c353;let _0x1c8b75=await this[_0x77cdec(0x184)]({'request':_0x57073,'schema':ma,'ClassRef':gt,'execute':(_0x22e11d,_0x1643f1)=>W['sendButtons'](_0x22e11d,_0x1643f1)});return _0x122cc9[_0x77cdec(0x595)](0xc9)['json'](_0x1c8b75);})[_0x38c353(0x4a5)](this[_0x38c353(0x6f3)](_0x38c353(0x274)),..._0x600aa2,async(_0x491e24,_0x3a97ff)=>{const _0x389774=_0x38c353;let _0x472323=await this['dataValidate']({'request':_0x491e24,'schema':ha,'ClassRef':mt,'execute':(_0xe34ed8,_0x530776)=>W[_0x389774(0x274)](_0xe34ed8,_0x530776)});return _0x3a97ff[_0x389774(0x595)](0xc9)[_0x389774(0x22d)](_0x472323);})[_0x38c353(0x4a5)](this[_0x38c353(0x6f3)](_0x38c353(0x681)),..._0x600aa2,async(_0x49bf57,_0x361bb9)=>{const _0x27a46d=_0x38c353;let _0x51efca=await this[_0x27a46d(0x184)]({'request':_0x49bf57,'schema':fa,'ClassRef':ht,'execute':(_0x465796,_0x3f2efc)=>W[_0x27a46d(0x681)](_0x465796,_0x3f2efc)});return _0x361bb9[_0x27a46d(0x595)](0xc9)['json'](_0x51efca);})[_0x38c353(0x4a5)](this['routerPath']('sendContact'),..._0x600aa2,async(_0x430396,_0x507c70)=>{const _0xcafcbe=_0x38c353;let _0x283016=await this[_0xcafcbe(0x184)]({'request':_0x430396,'schema':wa,'ClassRef':ft,'execute':(_0x313bdf,_0x220053)=>W['sendContact'](_0x313bdf,_0x220053)});return _0x507c70[_0xcafcbe(0x595)](0xc9)[_0xcafcbe(0x22d)](_0x283016);})['post'](this[_0x38c353(0x6f3)](_0x38c353(0x756)),..._0x600aa2,async(_0x32cca7,_0x553e22)=>{const _0x47c8b5=_0x38c353;let _0x474e90=await this[_0x47c8b5(0x184)]({'request':_0x32cca7,'schema':ya,'ClassRef':wt,'execute':(_0x3f346e,_0xfa3b8f)=>W['sendReaction'](_0x3f346e,_0xfa3b8f)});return _0x553e22[_0x47c8b5(0x595)](0xc9)[_0x47c8b5(0x22d)](_0x474e90);})[_0x38c353(0x4a5)](this[_0x38c353(0x6f3)](_0x38c353(0x6ee)),..._0x600aa2,async(_0x2f858e,_0x103e3c)=>{const _0x3c698e=_0x38c353;let _0xafbe0f=await this['dataValidate']({'request':_0x2f858e,'schema':pa,'ClassRef':ut,'execute':(_0x2c8993,_0x4233a3)=>W[_0x3c698e(0x6ee)](_0x2c8993,_0x4233a3)});return _0x103e3c[_0x3c698e(0x595)](0xc9)[_0x3c698e(0x22d)](_0xafbe0f);})[_0x38c353(0x4a5)](this['routerPath'](_0x38c353(0x6a9)),..._0x600aa2,async(_0x18875d,_0x4ffa9a)=>{const _0x5571af=_0x38c353;let _0x3a6e37=await this[_0x5571af(0x184)]({'request':_0x18875d,'schema':la,'ClassRef':lt,'execute':(_0x5d3c28,_0x400cb0)=>W[_0x5571af(0x6a9)](_0x5d3c28,_0x400cb0)});return _0x4ffa9a[_0x5571af(0x595)](0xc9)['json'](_0x3a6e37);})[_0x38c353(0x4a5)](this[_0x38c353(0x6f3)](_0x38c353(0x412)),..._0x600aa2,async(_0x53f17b,_0x90d614)=>{const _0x5e15dd=_0x38c353;let _0x3637c6=await this[_0x5e15dd(0x184)]({'request':_0x53f17b,'schema':ca,'ClassRef':pt,'execute':(_0x5df12e,_0x4c01a3)=>W[_0x5e15dd(0x412)](_0x5df12e,_0x4c01a3)});return _0x90d614['status'](0xc9)[_0x5e15dd(0x22d)](_0x3637c6);});}},Ba=require(a0_0x359adc(0x543)),bt=class extends L{constructor(..._0x12825e){const _0x165e27=a0_0x359adc;super(),this[_0x165e27(0x5ab)]=(0x0,Ba[_0x165e27(0x4a0)])(),this[_0x165e27(0x5ab)]['get'](this[_0x165e27(0x6f3)](_0x165e27(0x747)),..._0x12825e,(_0x3cedfd,_0x226382)=>Wa['qrcode'](_0x3cedfd,_0x226382));}},Ha=require(a0_0x359adc(0x543)),St=class{},Et=class extends L{constructor(..._0x219f45){const _0x57dfde=a0_0x359adc;super(),this['router']=(0x0,Ha[_0x57dfde(0x4a0)])(),this[_0x57dfde(0x5ab)][_0x57dfde(0x4a5)](this[_0x57dfde(0x6f3)](_0x57dfde(0x59a)),..._0x219f45,async(_0x2a5ba6,_0x249e35)=>{const _0x4d1643=_0x57dfde;let _0x5d9eca=await this[_0x4d1643(0x184)]({'request':_0x2a5ba6,'schema':Ua,'ClassRef':St,'execute':(_0x5978a2,_0xa8cf3e)=>ps[_0x4d1643(0x277)](_0x5978a2,_0xa8cf3e)});_0x249e35[_0x4d1643(0x595)](0xc9)['json'](_0x5d9eca);})[_0x57dfde(0x43e)](this[_0x57dfde(0x6f3)](_0x57dfde(0x673)),..._0x219f45,async(_0x560723,_0x46253f)=>{const _0x1814dd=_0x57dfde;let _0x5c05f6=await this[_0x1814dd(0x184)]({'request':_0x560723,'schema':N,'ClassRef':S,'execute':_0x30092d=>ps['findWebhook'](_0x30092d)});_0x46253f[_0x1814dd(0x595)](0xc8)['json'](_0x5c05f6);});}},za=require(a0_0x359adc(0x543)),h=new C(a0_0x359adc(0x455)),vt=class extends L{constructor(..._0x2dddba){const _0x235ed5=a0_0x359adc;super(),this['router']=(0x0,za[_0x235ed5(0x4a0)])(),this[_0x235ed5(0x5ab)][_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)]('scheduleMessage'),..._0x2dddba,async(_0x1587b5,_0x547297)=>{const _0x5338a4=_0x235ed5;let _0x15d958=_0x1587b5[_0x5338a4(0x27d)];h[_0x5338a4(0x4d2)](_0x5338a4(0x37a)),h['verbose'](_0x5338a4(0x6de)),h['verbose'](_0x1587b5['body']);let _0x11cae5=await this[_0x5338a4(0x184)]({'request':_0x1587b5,'schema':N,'ClassRef':S,'execute':_0x86c36b=>T[_0x5338a4(0x402)](_0x86c36b,_0x15d958)});_0x547297[_0x5338a4(0x595)](0xc8)[_0x5338a4(0x22d)](_0x11cae5);})[_0x235ed5(0x43e)](this[_0x235ed5(0x6f3)](_0x235ed5(0x367)),..._0x2dddba,async(_0x2bc9b5,_0x121b29)=>{const _0x3abc51=_0x235ed5;let _0x89b86=await this[_0x3abc51(0x184)]({'request':_0x2bc9b5,'schema':N,'ClassRef':S,'execute':_0x3f5885=>T['getScheduleMessage'](_0x3f5885)});_0x121b29[_0x3abc51(0x595)](0xc8)[_0x3abc51(0x22d)](_0x89b86);})[_0x235ed5(0x51e)](this[_0x235ed5(0x6f3)](_0x235ed5(0x299)),..._0x2dddba,async(_0x2b9733,_0x43bd4c)=>{const _0x4e9411=_0x235ed5;h[_0x4e9411(0x4d2)]('request\x20received\x20in\x20deleteDoneMessages');let _0x4db0d4=await this[_0x4e9411(0x184)]({'request':_0x2b9733,'schema':N,'ClassRef':S,'execute':_0x5273fd=>T['deleteDoneMessages'](_0x5273fd)});_0x43bd4c[_0x4e9411(0x595)](0xc8)[_0x4e9411(0x22d)](_0x4db0d4);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)](_0x235ed5(0x5a0)),..._0x2dddba,async(_0x20ce7b,_0x5130a0)=>{const _0x1240a3=_0x235ed5;let _0x4a6bee=_0x20ce7b[_0x1240a3(0x27d)];h[_0x1240a3(0x4d2)](_0x1240a3(0x245)),h[_0x1240a3(0x4d2)]('request\x20body:\x20'),h[_0x1240a3(0x4d2)](_0x20ce7b['body']);let _0x45327b=await this[_0x1240a3(0x184)]({'request':_0x20ce7b,'schema':N,'ClassRef':S,'execute':_0x26e5bb=>T[_0x1240a3(0x5a0)](_0x26e5bb,_0x4a6bee)});_0x5130a0[_0x1240a3(0x595)](0xc8)[_0x1240a3(0x22d)](_0x45327b);})[_0x235ed5(0x43e)](this[_0x235ed5(0x6f3)](_0x235ed5(0x408)),..._0x2dddba,async(_0x13bdb1,_0x4da8d6)=>{const _0x55978e=_0x235ed5;h[_0x55978e(0x4d2)]('request\x20received\x20in\x20getAutomateSystem');let _0x32e955=await this[_0x55978e(0x184)]({'request':_0x13bdb1,'schema':N,'ClassRef':S,'execute':_0x1f198a=>T[_0x55978e(0x408)](_0x1f198a)});_0x4da8d6[_0x55978e(0x595)](0xc8)[_0x55978e(0x22d)](_0x32e955);})[_0x235ed5(0x43e)](this[_0x235ed5(0x6f3)]('getTicketSystem'),..._0x2dddba,async(_0x4b4e0f,_0x585b4a)=>{const _0x77aa92=_0x235ed5;h[_0x77aa92(0x4d2)](_0x77aa92(0x4ba));let _0x5810d8=await this[_0x77aa92(0x184)]({'request':_0x4b4e0f,'schema':N,'ClassRef':S,'execute':_0x13f8d7=>T[_0x77aa92(0x408)](_0x13f8d7)});_0x585b4a[_0x77aa92(0x595)](0xc8)[_0x77aa92(0x22d)](_0x5810d8);})['post'](this['routerPath'](_0x235ed5(0x701)),..._0x2dddba,async(_0x3bf10c,_0xc72a35)=>{const _0x65ce35=_0x235ed5;let _0x15f683=_0x3bf10c['body'];h[_0x65ce35(0x4d2)](_0x65ce35(0x563)),h[_0x65ce35(0x4d2)](_0x65ce35(0x6de)),h[_0x65ce35(0x4d2)](_0x3bf10c[_0x65ce35(0x27d)]);let _0xb49bdf=await this[_0x65ce35(0x184)]({'request':_0x3bf10c,'schema':N,'ClassRef':S,'execute':_0x5441d5=>T['updateAgent'](_0x5441d5,_0x15f683)});_0xc72a35[_0x65ce35(0x595)](0xc8)[_0x65ce35(0x22d)](_0xb49bdf);})['post'](this[_0x235ed5(0x6f3)]('updateCustomFields'),..._0x2dddba,async(_0x28f842,_0x52e5c9)=>{const _0x23301d=_0x235ed5;let _0x2111ee=_0x28f842['body'];h[_0x23301d(0x4d2)](_0x23301d(0x4b7)),h[_0x23301d(0x4d2)](_0x23301d(0x6de)),h[_0x23301d(0x4d2)](_0x28f842[_0x23301d(0x27d)]);let _0x494bee=await this['dataValidate']({'request':_0x28f842,'schema':N,'ClassRef':S,'execute':_0x58528d=>T['updateCustomFields'](_0x58528d,_0x2111ee)});_0x52e5c9[_0x23301d(0x595)](0xc8)['json'](_0x494bee);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)]('updateFlowConfig'),..._0x2dddba,async(_0xb4d5a9,_0x31833c)=>{const _0x126110=_0x235ed5;let _0x220f2d=_0xb4d5a9[_0x126110(0x27d)];h[_0x126110(0x4d2)](_0x126110(0x298)),h[_0x126110(0x4d2)](_0x126110(0x6de)),h[_0x126110(0x4d2)](_0xb4d5a9[_0x126110(0x27d)]);let _0x5d6edd=await this['dataValidate']({'request':_0xb4d5a9,'schema':N,'ClassRef':S,'execute':_0x56038f=>T[_0x126110(0x474)](_0x56038f,_0x220f2d)});_0x31833c['status'](0xc8)['json'](_0x5d6edd);})[_0x235ed5(0x4a5)](this['routerPath'](_0x235ed5(0x709)),..._0x2dddba,async(_0x4921db,_0x2147d3)=>{const _0xc5372a=_0x235ed5;let _0x3b7d3c=_0x4921db['body'];h[_0xc5372a(0x4d2)](_0xc5372a(0x448)),h[_0xc5372a(0x4d2)](_0xc5372a(0x6de)),h[_0xc5372a(0x4d2)](_0x4921db['body']);let _0x13f1c9=await this[_0xc5372a(0x184)]({'request':_0x4921db,'schema':N,'ClassRef':S,'execute':_0xc27f11=>T[_0xc5372a(0x709)](_0xc27f11,_0x3b7d3c)});_0x2147d3['status'](0xc8)['json'](_0x13f1c9);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)]('fetchConversation'),..._0x2dddba,async(_0x173469,_0x4c15f2)=>{const _0x1135d1=_0x235ed5;let _0x124f46=_0x173469[_0x1135d1(0x27d)];h['verbose'](_0x1135d1(0x662)),h['verbose']('request\x20body:\x20'),h['verbose'](_0x173469[_0x1135d1(0x27d)]);let _0x1f5212=await this[_0x1135d1(0x184)]({'request':_0x173469,'schema':N,'ClassRef':S,'execute':_0x25408b=>T[_0x1135d1(0x398)](_0x25408b,_0x124f46)});_0x4c15f2[_0x1135d1(0x595)](0xc8)[_0x1135d1(0x22d)](_0x1f5212);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)](_0x235ed5(0x388)),..._0x2dddba,async(_0x5df117,_0x30a859)=>{const _0x2a6ab8=_0x235ed5;let _0x1cb892=_0x5df117[_0x2a6ab8(0x27d)];h[_0x2a6ab8(0x4d2)](_0x2a6ab8(0x356)),h[_0x2a6ab8(0x4d2)](_0x2a6ab8(0x6de)),h[_0x2a6ab8(0x4d2)](_0x5df117[_0x2a6ab8(0x27d)]);let _0x1d1716=await this[_0x2a6ab8(0x184)]({'request':_0x5df117,'schema':N,'ClassRef':S,'execute':_0x4d202d=>T[_0x2a6ab8(0x388)](_0x4d202d,_0x1cb892)});_0x30a859[_0x2a6ab8(0x595)](0xc8)[_0x2a6ab8(0x22d)](_0x1d1716);})[_0x235ed5(0x51e)](this[_0x235ed5(0x6f3)](_0x235ed5(0x733)),..._0x2dddba,async(_0x1fc644,_0x13727b)=>{const _0x2a061e=_0x235ed5;let _0x1637b5=_0x1fc644[_0x2a061e(0x27d)];h[_0x2a061e(0x4d2)](_0x2a061e(0x256)),h[_0x2a061e(0x4d2)]('request\x20body:\x20'),h[_0x2a061e(0x4d2)](_0x1fc644[_0x2a061e(0x27d)]);let _0x4b439f=await this[_0x2a061e(0x184)]({'request':_0x1fc644,'schema':N,'ClassRef':S,'execute':_0x23d3b4=>T[_0x2a061e(0x733)](_0x23d3b4,_0x1637b5)});_0x13727b[_0x2a061e(0x595)](0xc8)['json'](_0x4b439f);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)](_0x235ed5(0x326)),..._0x2dddba,async(_0x4dae8b,_0x5c8f8a)=>{const _0x203c51=_0x235ed5;let _0x390a3b=_0x4dae8b[_0x203c51(0x27d)];h[_0x203c51(0x4d2)](_0x203c51(0x616)),h[_0x203c51(0x4d2)](_0x203c51(0x6de)),h[_0x203c51(0x4d2)](_0x4dae8b[_0x203c51(0x27d)]);let _0x4ba3e1=await this[_0x203c51(0x184)]({'request':_0x4dae8b,'schema':N,'ClassRef':S,'execute':_0x317067=>T[_0x203c51(0x23c)](_0x317067,_0x390a3b)});_0x5c8f8a[_0x203c51(0x595)](0xc8)[_0x203c51(0x22d)](_0x4ba3e1);})['post'](this['routerPath'](_0x235ed5(0x2cf)),..._0x2dddba,async(_0x4da442,_0x26ea50)=>{const _0x3b6521=_0x235ed5;let _0x369119=_0x4da442[_0x3b6521(0x27d)];h['verbose'](_0x3b6521(0x5d9)),h[_0x3b6521(0x4d2)]('request\x20body:\x20'),h[_0x3b6521(0x4d2)](_0x4da442[_0x3b6521(0x27d)]),delete _0x369119['blocks'],delete _0x369119[_0x3b6521(0x23d)],delete _0x369119[_0x3b6521(0x3af)],delete _0x369119[_0x3b6521(0x358)];let _0x811ac1=await this[_0x3b6521(0x184)]({'request':_0x4da442,'schema':N,'ClassRef':S,'execute':_0x3d604b=>T[_0x3b6521(0x642)](_0x3d604b,_0x369119)});_0x26ea50['status'](0xc8)[_0x3b6521(0x22d)](_0x811ac1);})['post'](this[_0x235ed5(0x6f3)](_0x235ed5(0x5d5)),..._0x2dddba,async(_0x5d17cc,_0x5f30e9)=>{const _0x2fa964=_0x235ed5;let _0xa80c0a=_0x5d17cc[_0x2fa964(0x27d)];h[_0x2fa964(0x4d2)](_0x2fa964(0x5d9)),h['verbose']('request\x20body:\x20'),h[_0x2fa964(0x4d2)](_0x5d17cc[_0x2fa964(0x27d)]);let _0x5b33a0=await this['dataValidate']({'request':_0x5d17cc,'schema':N,'ClassRef':S,'execute':_0xd1aa3f=>T['editFlowBlock'](_0xd1aa3f,_0xa80c0a)});_0x5f30e9[_0x2fa964(0x595)](0xc8)['json'](_0x5b33a0);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)]('editflowreply'),..._0x2dddba,async(_0x39af0a,_0x59a557)=>{const _0x231474=_0x235ed5;let _0x42ce2e=_0x39af0a[_0x231474(0x27d)];h[_0x231474(0x4d2)]('request\x20received\x20in\x20editFlow'),h[_0x231474(0x4d2)](_0x231474(0x6de)),h[_0x231474(0x4d2)](_0x39af0a[_0x231474(0x27d)]);let _0x60fa81=await this['dataValidate']({'request':_0x39af0a,'schema':N,'ClassRef':S,'execute':_0x589809=>T[_0x231474(0x35a)](_0x589809,_0x42ce2e)});_0x59a557[_0x231474(0x595)](0xc8)[_0x231474(0x22d)](_0x60fa81);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)](_0x235ed5(0x721)),..._0x2dddba,async(_0x5376e3,_0xf10948)=>{const _0xd133ae=_0x235ed5;let _0xb3f1c5=_0x5376e3[_0xd133ae(0x27d)];h[_0xd133ae(0x4d2)](_0xd133ae(0x5d9)),h[_0xd133ae(0x4d2)](_0xd133ae(0x6de)),h['verbose'](_0x5376e3['body']);let _0x21f563=await this[_0xd133ae(0x184)]({'request':_0x5376e3,'schema':N,'ClassRef':S,'execute':_0x124fd3=>T[_0xd133ae(0x1ee)](_0x124fd3,_0xb3f1c5)});_0xf10948[_0xd133ae(0x595)](0xc8)['json'](_0x21f563);})[_0x235ed5(0x4a5)](this['routerPath'](_0x235ed5(0x2e6)),..._0x2dddba,async(_0x487fb1,_0x625685)=>{const _0x5ad15c=_0x235ed5;let _0x42afb4=_0x487fb1[_0x5ad15c(0x27d)];h[_0x5ad15c(0x4d2)](_0x5ad15c(0x551)),h['verbose'](_0x5ad15c(0x6de)),h[_0x5ad15c(0x4d2)](_0x487fb1[_0x5ad15c(0x27d)]);let _0x24fd63=await this['dataValidate']({'request':_0x487fb1,'schema':N,'ClassRef':S,'execute':_0x1c199d=>T[_0x5ad15c(0x6f5)](_0x1c199d,_0x42afb4)});_0x625685[_0x5ad15c(0x595)](0xc8)['json'](_0x24fd63);})['post'](this['routerPath']('editflowcondition'),..._0x2dddba,async(_0x2156c1,_0x3dbaa2)=>{const _0xf6c852=_0x235ed5;let _0x3add64=_0x2156c1[_0xf6c852(0x27d)];h[_0xf6c852(0x4d2)](_0xf6c852(0x732)),h['verbose'](_0xf6c852(0x6de)),h[_0xf6c852(0x4d2)](_0x2156c1['body']);let _0x3fd016=await this[_0xf6c852(0x184)]({'request':_0x2156c1,'schema':N,'ClassRef':S,'execute':_0x5679fc=>T['editFlowCondition'](_0x5679fc,_0x3add64)});_0x3dbaa2[_0xf6c852(0x595)](0xc8)[_0xf6c852(0x22d)](_0x3fd016);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)]('editflowvariable'),..._0x2dddba,async(_0x25f02d,_0x13f465)=>{const _0x590c0c=_0x235ed5;let _0x4e43d5=_0x25f02d['body'];h[_0x590c0c(0x4d2)]('request\x20received\x20in\x20editFlowvariable'),h[_0x590c0c(0x4d2)](_0x590c0c(0x6de)),h[_0x590c0c(0x4d2)](_0x25f02d[_0x590c0c(0x27d)]);let _0x30e221=await this[_0x590c0c(0x184)]({'request':_0x25f02d,'schema':N,'ClassRef':S,'execute':_0x1843c0=>T[_0x590c0c(0x242)](_0x1843c0,_0x4e43d5)});_0x13f465[_0x590c0c(0x595)](0xc8)[_0x590c0c(0x22d)](_0x30e221);})[_0x235ed5(0x4a5)](this[_0x235ed5(0x6f3)](_0x235ed5(0x6e9)),..._0x2dddba,async(_0x36d8b1,_0x5aae8b)=>{const _0x6ea6ba=_0x235ed5;let _0x21fc2b=_0x36d8b1['body'];h['verbose'](_0x6ea6ba(0x6b3)),h[_0x6ea6ba(0x4d2)](_0x6ea6ba(0x6de)),h[_0x6ea6ba(0x4d2)](_0x36d8b1[_0x6ea6ba(0x27d)]);let _0x5147b3=await this[_0x6ea6ba(0x184)]({'request':_0x36d8b1,'schema':N,'ClassRef':S,'execute':_0x31fa9c=>T[_0x6ea6ba(0x1d2)](_0x31fa9c,_0x21fc2b)});_0x5aae8b[_0x6ea6ba(0x595)](0xc8)[_0x6ea6ba(0x22d)](_0x5147b3);})[_0x235ed5(0x51e)](this[_0x235ed5(0x6f3)]('deleteflow'),..._0x2dddba,async(_0x5ed410,_0x192df1)=>{const _0x43427e=_0x235ed5;let _0x5e95b4=_0x5ed410['body'];h[_0x43427e(0x4d2)]('request\x20received\x20in\x20createFlow'),h[_0x43427e(0x4d2)](_0x43427e(0x6de)),h[_0x43427e(0x4d2)](_0x5ed410[_0x43427e(0x27d)]);let _0x213320=await this['dataValidate']({'request':_0x5ed410,'schema':N,'ClassRef':S,'execute':_0x5b64c5=>T[_0x43427e(0x64b)](_0x5b64c5,_0x5e95b4)});_0x192df1['status'](0xc8)[_0x43427e(0x22d)](_0x213320);})[_0x235ed5(0x43e)](this[_0x235ed5(0x6f3)](_0x235ed5(0x495)),..._0x2dddba,async(_0x2e1b8d,_0x1fbf2c)=>{const _0x495ee8=_0x235ed5;h[_0x495ee8(0x4d2)](_0x495ee8(0x6b8));let _0x32e4a1=await this[_0x495ee8(0x184)]({'request':_0x2e1b8d,'schema':N,'ClassRef':S,'execute':_0x1d1110=>T['allFlows'](_0x1d1110)});_0x1fbf2c[_0x495ee8(0x595)](0xc8)[_0x495ee8(0x22d)](_0x32e4a1);});}},Xa=M(require('path')),ee={};function Ka(_0x3f364e,_0x317fcd,_0x2c8704,_0x145cc9){ee[_0x3f364e]||(ee[_0x3f364e]={}),ee[_0x3f364e][_0x317fcd]={'id':_0x317fcd,'response':_0x2c8704,'events':_0x145cc9};}function Qa(_0x2fdced,_0xd5b0c){!ee[_0x2fdced]||!ee[_0x2fdced][_0xd5b0c]||delete ee[_0x2fdced][_0xd5b0c];}function q(_0x46cbe5,_0x2c1b17,_0x56b5a3){const _0x523237=a0_0x359adc;if(!ee[_0x46cbe5])return;let _0x2630ef='data:\x20'+JSON['stringify'](_0x56b5a3)+'\x0a\x0a';Object['values'](ee[_0x46cbe5])[_0x523237(0x4a9)](_0x2180ec=>{const _0x5905c4=_0x523237;_0x2180ec['events'][_0x5905c4(0x3d6)](_0x2c1b17)&&_0x2180ec['response'][_0x5905c4(0x18d)](_0x2630ef);});}function Ya(){const _0x5c03d3=a0_0x359adc;let _0x16dc3f={};for(let _0x2a4015 in ee)_0x16dc3f[_0x2a4015]=Object[_0x5c03d3(0x25f)](ee[_0x2a4015])[_0x5c03d3(0x4a3)](_0x38fb84=>({'id':_0x38fb84['id'],'events':_0x38fb84[_0x5c03d3(0x730)]}));return _0x16dc3f;}var Za=require(a0_0x359adc(0x42c)),Hi=Xa[a0_0x359adc(0x4d6)][a0_0x359adc(0x641)](__dirname,'downloads'),Ct=(0x0,Nt['Router'])(),zi=E[a0_0x359adc(0x43e)](a0_0x359adc(0x29c))[a0_0x359adc(0x5c7)],ue=[cs,ta,ia[zi]];Ct[a0_0x359adc(0x338)]('/media',Nt[a0_0x359adc(0x4d6)][a0_0x359adc(0x5d1)](Hi))[a0_0x359adc(0x43e)](a0_0x359adc(0x29b),async(_0x455b6d,_0x4c64c3)=>{const _0x3690c2=a0_0x359adc;console[_0x3690c2(0x219)](_0x3690c2(0x253));let _0xf0e165=_0x455b6d['params'][_0x3690c2(0x3a4)],_0x16ffd5=(_0x455b6d[_0x3690c2(0x423)][_0x3690c2(0x730)]||'')['split'](','),_0x3f03ee=(0x0,Za['v4'])();console[_0x3690c2(0x219)]('Instance\x20ID:',_0xf0e165),console['log'](_0x3690c2(0x627),_0x16ffd5);let _0x5295b3=E['get'](_0x3690c2(0x29c))[_0x3690c2(0x645)],_0x40aa7c=_0x455b6d[_0x3690c2(0x423)]['apikey'];if(console[_0x3690c2(0x219)](_0x3690c2(0x4de),_0x40aa7c),_0x5295b3[_0x3690c2(0x382)]!==_0x40aa7c){console[_0x3690c2(0x219)](_0x3690c2(0x491));try{let _0x5ab962=await le[_0x3690c2(0x3bf)][_0x3690c2(0x673)](_0xf0e165);if(console['log'](_0x3690c2(0x2f2),_0x5ab962),!_0x5ab962||_0x5ab962[_0x3690c2(0x75d)]!==_0x40aa7c)return console[_0x3690c2(0x219)](_0x3690c2(0x20e)),_0x4c64c3['status'](0x191)[_0x3690c2(0x39a)](_0x3690c2(0x3be));}catch(_0xba5b3f){return console[_0x3690c2(0x252)](_0x3690c2(0x23b),_0xba5b3f),_0x4c64c3[_0x3690c2(0x595)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Ge(_0xf0e165))return _0x4c64c3[_0x3690c2(0x595)](0x194)['send'](_0x3690c2(0x303));_0x4c64c3[_0x3690c2(0x566)](_0x3690c2(0x45f),_0x3690c2(0x4bf)),_0x4c64c3[_0x3690c2(0x566)](_0x3690c2(0x4f5),'no-cache'),_0x4c64c3['setHeader'](_0x3690c2(0x27a),_0x3690c2(0x392)),_0x4c64c3[_0x3690c2(0x347)]();let _0x19c461='data:\x20'+JSON[_0x3690c2(0x493)]({'info':_0x3690c2(0x40f)})+'\x0a\x0a';_0x4c64c3[_0x3690c2(0x18d)](_0x19c461),Ka(_0xf0e165,_0x3f03ee,_0x4c64c3,_0x16ffd5),_0x455b6d['on'](_0x3690c2(0x68a),()=>{const _0x4bcac5=_0x3690c2;console[_0x4bcac5(0x219)]('Connection\x20closed\x20for\x20instance:\x20'+_0xf0e165),Qa(_0xf0e165,_0x3f03ee);});}),Ct[a0_0x359adc(0x43e)](a0_0x359adc(0x5fc),(_0x1dfb92,_0x35ff09)=>{const _0x9e0973=a0_0x359adc;let _0x2b00a9=Ya();_0x35ff09[_0x9e0973(0x22d)](_0x2b00a9);})[a0_0x359adc(0x43e)]('/',(_0x1ce54b,_0x1f99bb)=>{const _0xf1c890=a0_0x359adc;let _0x6b6c6d=E[_0xf1c890(0x43e)](_0xf1c890(0x6c2)),_0xac3eba=_0x6b6c6d&&_0x6b6c6d[_0xf1c890(0x1ae)]['split']('/')[0x4];if(_0xac3eba){let _0x551e54=encodeURIComponent('https://'+_0xac3eba);_0x1f99bb[_0xf1c890(0x181)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x551e54);}else _0x1f99bb[_0xf1c890(0x181)](_0xf1c890(0x6ac));})[a0_0x359adc(0x6f4)](a0_0x359adc(0x65e),...ue,async(_0x14cfe6,_0x2d82e0)=>{const _0xa5b60d=a0_0x359adc;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x2d82e0['status'](0xc8)[_0xa5b60d(0x22d)]({'message':_0xa5b60d(0x4f4)}),_0x2d82e0['on'](_0xa5b60d(0x3c8),()=>process[_0xa5b60d(0x2ab)](0x0));}catch(_0x581a95){console['error'](_0xa5b60d(0x3b3),_0x581a95),_0x2d82e0[_0xa5b60d(0x595)](0x1f4)[_0xa5b60d(0x22d)]({'message':_0xa5b60d(0x18e)});}})[a0_0x359adc(0x338)](a0_0x359adc(0x56c),new nt(E,...ue)['router'],new bt(cs)[a0_0x359adc(0x5ab)])[a0_0x359adc(0x338)]('/message',new yt(...ue)[a0_0x359adc(0x5ab)])[a0_0x359adc(0x338)](a0_0x359adc(0x670),new Ke(...ue)[a0_0x359adc(0x5ab)])[a0_0x359adc(0x338)](a0_0x359adc(0x6dc),new it(...ue)[a0_0x359adc(0x5ab)])[a0_0x359adc(0x338)](a0_0x359adc(0x214),new Et(...ue)[a0_0x359adc(0x5ab)])[a0_0x359adc(0x338)]('/automate',new vt(...ue)['router']);var g=class{constructor(..._0x5935a9){const _0x435be6=a0_0x359adc;throw{'status':0x190,'error':_0x435be6(0x528),'message':_0x5935a9[_0x435be6(0x582)]>0x0?_0x5935a9:void 0x0};}},oe=class{constructor(..._0x355356){const _0x2fedd6=a0_0x359adc;throw{'status':0x191,'error':_0x2fedd6(0x60f),'message':_0x355356['length']>0x0?_0x355356:void 0x0};}},ie=class{constructor(..._0x364f8a){const _0xc74810=a0_0x359adc;throw{'status':0x193,'error':_0xc74810(0x6fe),'message':_0x364f8a[_0xc74810(0x582)]>0x0?_0x364f8a:void 0x0};}},$=class{constructor(..._0xd56632){const _0x3d765d=a0_0x359adc;throw{'status':0x194,'error':_0x3d765d(0x302),'message':_0xd56632[_0x3d765d(0x582)]>0x0?_0xd56632:void 0x0};}},A=class{constructor(..._0x1870f7){const _0x490263=a0_0x359adc;throw{'status':0x1f4,'error':_0x490263(0x35c),'message':_0x1870f7[_0x490263(0x582)]>0x0?_0x1870f7:void 0x0};}},de=require(a0_0x359adc(0x344));async function gs(_0x10ab66){const _0x321233=a0_0x359adc;let _0x57f569=new C(gs[_0x321233(0x613)]),_0x7ec6d4=R[_0x321233(0x350)](),_0x36ba0b=_0x7ec6d4['db'](E['get'](_0x321233(0x4a4))[_0x321233(0x590)][_0x321233(0x6ca)]+'-instances')['collection'](_0x10ab66),_0xf474e0=async(_0x1e5c7d,_0x28af7c)=>{const _0x22d2ec=_0x321233;try{return await _0x7ec6d4[_0x22d2ec(0x35d)](),await _0x36ba0b[_0x22d2ec(0x5f0)]({'_id':_0x28af7c},JSON[_0x22d2ec(0x215)](JSON[_0x22d2ec(0x493)](_0x1e5c7d,de['BufferJSON'][_0x22d2ec(0x4dc)])),{'upsert':!0x0});}catch{}},_0x92401e=async _0x38ffc1=>{const _0x21ca54=_0x321233;try{await _0x7ec6d4[_0x21ca54(0x35d)]();let _0x458426=await _0x36ba0b[_0x21ca54(0x50e)]({'_id':_0x38ffc1}),_0x554df8=JSON[_0x21ca54(0x493)](_0x458426);return JSON[_0x21ca54(0x215)](_0x554df8,de[_0x21ca54(0x325)]['reviver']);}catch{}},_0xc0ad8=async _0x2c458e=>{const _0x394852=_0x321233;try{return await _0x7ec6d4[_0x394852(0x35d)](),await _0x36ba0b['deleteOne']({'_id':_0x2c458e});}catch{}},_0xc6506e=await _0x92401e(_0x321233(0x354))||(0x0,de[_0x321233(0x2a9)])();return{'state':{'creds':_0xc6506e,'keys':{'get':async(_0x1806a4,_0x3de974)=>{const _0x2aaf31=_0x321233;let _0x4bc887={};return await Promise['all'](_0x3de974[_0x2aaf31(0x4a3)](async _0x3ac146=>{const _0x539ea2=_0x2aaf31;let _0x38c23b=await _0x92401e(_0x1806a4+'-'+_0x3ac146);_0x1806a4===_0x539ea2(0x6cb)&&_0x38c23b&&(_0x38c23b=de[_0x539ea2(0x5b9)][_0x539ea2(0x4f0)]['AppStateSyncKeyData'][_0x539ea2(0x467)](_0x38c23b)),_0x4bc887[_0x3ac146]=_0x38c23b;})),_0x4bc887;},'set':async _0x3b6655=>{const _0x30c0db=_0x321233;let _0x5d7fe1=[];for(let _0x21f202 in _0x3b6655)for(let _0x122d31 in _0x3b6655[_0x21f202]){let _0x580387=_0x3b6655[_0x21f202][_0x122d31],_0x2b1ae8=_0x21f202+'-'+_0x122d31;_0x5d7fe1[_0x30c0db(0x41c)](_0x580387?_0xf474e0(_0x580387,_0x2b1ae8):_0xc0ad8(_0x2b1ae8));}await Promise['all'](_0x5d7fe1);}}},'saveCreds':async()=>_0xf474e0(_0xc6506e,'creds')};}var hs=M(require(a0_0x359adc(0x584))),fs=M(require(a0_0x359adc(0x37d))),Rt=require('@whiskeysockets/baileys'),ei=require(a0_0x359adc(0x385)),Tt=require(a0_0x359adc(0x344)),Mt;function Ki(_0x2825ab){const _0x1d1350=a0_0x359adc;return Mt||(Mt=(0x0,ei[_0x1d1350(0x64f)])({'url':_0x2825ab[_0x1d1350(0x48e)]}),Mt[_0x1d1350(0x35d)]()),Mt;}var ne=class c{constructor(_0x32d360,_0x31f897){const _0xe933d1=a0_0x359adc;this[_0xe933d1(0x1c8)]=_0x32d360,this[_0xe933d1(0x6c0)]=_0x31f897,this[_0xe933d1(0x577)]=new C(c[_0xe933d1(0x613)]),this[_0xe933d1(0x458)]=Ki(_0x32d360);}set[a0_0x359adc(0x3bd)](_0x121b4f){const _0x4f4b67=a0_0x359adc;this[_0x4f4b67(0x6c0)]=_0x121b4f;}async[a0_0x359adc(0x5fe)](){const _0x49d946=a0_0x359adc;try{return await this[_0x49d946(0x458)][_0x49d946(0x3d7)]([_0x49d946(0x24b),this[_0x49d946(0x1c8)]['PREFIX_KEY']+':*']);}catch(_0xb27d99){this['logger'][_0x49d946(0x252)](_0xb27d99);}}async[a0_0x359adc(0x608)](_0x30ee69,_0x54718e){const _0x3c5b21=a0_0x359adc;try{let _0x4b7809=JSON['stringify'](_0x54718e,Tt['BufferJSON']['replacer']);return await this[_0x3c5b21(0x458)]['hSet'](this[_0x3c5b21(0x1c8)][_0x3c5b21(0x314)]+':'+this[_0x3c5b21(0x6c0)],_0x30ee69,_0x4b7809);}catch(_0x2aed74){this['logger']['error'](_0x2aed74);}}async['getAllData'](){const _0x2f5b89=a0_0x359adc;try{let _0x2f362c=await this[_0x2f5b89(0x458)][_0x2f5b89(0x23a)](this[_0x2f5b89(0x1c8)][_0x2f5b89(0x314)]+':'+this[_0x2f5b89(0x6c0)]);if(_0x2f362c){for(let _0x50066c in _0x2f362c)Object['prototype']['hasOwnProperty'][_0x2f5b89(0x1a6)](_0x2f362c,_0x50066c)&&(_0x2f362c[_0x50066c]=JSON[_0x2f5b89(0x215)](_0x2f362c[_0x50066c],Tt[_0x2f5b89(0x325)][_0x2f5b89(0x728)]));return _0x2f362c;}}catch(_0x56d320){this[_0x2f5b89(0x577)]['error'](_0x56d320);}}async['readData'](_0x428c4b){const _0x570cb1=a0_0x359adc;try{let _0x1f6ab8=await this[_0x570cb1(0x458)][_0x570cb1(0x508)](this[_0x570cb1(0x1c8)][_0x570cb1(0x314)]+':'+this[_0x570cb1(0x6c0)],_0x428c4b);if(_0x1f6ab8)return JSON[_0x570cb1(0x215)](_0x1f6ab8,Tt[_0x570cb1(0x325)][_0x570cb1(0x728)]);}catch(_0x5d91cd){this[_0x570cb1(0x577)][_0x570cb1(0x252)](_0x5d91cd);}}async[a0_0x359adc(0x375)](_0x45ee28){const _0x274026=a0_0x359adc;try{return await this['client'][_0x274026(0x3bc)](this[_0x274026(0x1c8)][_0x274026(0x314)]+':'+this[_0x274026(0x6c0)],_0x45ee28);}catch(_0x1f6354){this['logger'][_0x274026(0x252)](_0x1f6354);}}async[a0_0x359adc(0x522)](_0xfc59b0){const _0x5028d1=a0_0x359adc;try{return await this[_0x5028d1(0x458)][_0x5028d1(0x333)](_0xfc59b0||this['redisEnv']['PREFIX_KEY']+':'+this[_0x5028d1(0x6c0)]);}catch(_0x4c32fc){this[_0x5028d1(0x577)]['error'](_0x4c32fc);}}};async function ms(_0x41091e,_0x16e1d2){const _0x54ebf6=a0_0x359adc;let _0x3b8adc=new C(ms[_0x54ebf6(0x613)]),_0x4f2b7b=new ne(_0x41091e,_0x16e1d2),_0x4ba52e=async(_0x27eed7,_0x451212)=>{const _0x1d2992=_0x54ebf6;try{return await _0x4f2b7b[_0x1d2992(0x608)](_0x451212,_0x27eed7);}catch(_0x561c85){return _0x3b8adc[_0x1d2992(0x252)]({'localError':_0x1d2992(0x608),'error':_0x561c85});}},_0x36bf75=async _0x43bd71=>{try{return await _0x4f2b7b['readData'](_0x43bd71);}catch(_0x537354){_0x3b8adc['error']({'readData':'writeData','error':_0x537354});return;}},_0x1096de=async _0xb27940=>{const _0x21cbf9=_0x54ebf6;try{return await _0x4f2b7b[_0x21cbf9(0x375)](_0xb27940);}catch(_0x2b8560){_0x3b8adc[_0x21cbf9(0x252)]({'readData':_0x21cbf9(0x375),'error':_0x2b8560});}},_0x28e967=await _0x36bf75(_0x54ebf6(0x354))||(0x0,Rt[_0x54ebf6(0x2a9)])();return{'state':{'creds':_0x28e967,'keys':{'get':async(_0x35a2ee,_0x2069a3)=>{const _0x493e26=_0x54ebf6;let _0x5f0859={};return await Promise[_0x493e26(0x34a)](_0x2069a3['map'](async _0x331b41=>{const _0x524342=_0x493e26;let _0x1f9f78=await _0x36bf75(_0x35a2ee+'-'+_0x331b41);_0x35a2ee==='app-state-sync-key'&&_0x1f9f78&&(_0x1f9f78=Rt['proto'][_0x524342(0x4f0)][_0x524342(0x366)][_0x524342(0x467)](_0x1f9f78)),_0x5f0859[_0x331b41]=_0x1f9f78;})),_0x5f0859;},'set':async _0x1439b3=>{let _0x581e20=[];for(let _0x1f0496 in _0x1439b3)for(let _0x1b7a2b in _0x1439b3[_0x1f0496]){let _0x275d94=_0x1439b3[_0x1f0496][_0x1b7a2b],_0x2755ff=_0x1f0496+'-'+_0x1b7a2b;_0x581e20['push'](_0x275d94?await _0x4ba52e(_0x275d94,_0x2755ff):await _0x1096de(_0x2755ff));}await Promise['all'](_0x581e20);}}},'saveCreds':async()=>await _0x4ba52e(_0x28e967,'creds')};}var x=M(require('fs')),Ot=require(a0_0x359adc(0x42c)),Dt=M(require(a0_0x359adc(0x6e2)));function _(_0x1043fe){const _0x2a04f6=a0_0x359adc;if(_0x1043fe[_0x2a04f6(0x4b4)]||_0x1043fe[_0x2a04f6(0x2b2)]){let _0x3a52a3=_0x1043fe[_0x2a04f6(0x4b4)]?_0x1043fe[_0x2a04f6(0x4b4)][_0x2a04f6(0x671)]:_0x1043fe[_0x2a04f6(0x2b2)][_0x2a04f6(0x671)];return(0x0,w[_0x2a04f6(0x3ea)])(_0x3a52a3);}return _0x1043fe['pollCreationMessageV3']?_0x2a04f6(0x243):_0x1043fe[_0x2a04f6(0x2a2)]?_0x2a04f6(0x2a2):_0x1043fe[_0x2a04f6(0x435)]?'viewOnceMessageV2Extension':(0x0,w['getContentType'])(_0x1043fe);}var ye=class c{constructor(_0x48055d,_0x1e9572,_0x153791){const _0x2bccc5=a0_0x359adc;this[_0x2bccc5(0x2a1)]=_0x48055d,this[_0x2bccc5(0x492)]=_0x1e9572,this[_0x2bccc5(0x638)]=_0x153791,this[_0x2bccc5(0x32c)]=null,this['logger']=new C(c['name']),this['instance']={},this['localWebhook']={},this[_0x2bccc5(0x4e6)]={'state':'close'},this[_0x2bccc5(0x626)]=(0x0,k[_0x2bccc5(0x641)])(Y,_0x2bccc5(0x3b0)),this[_0x2bccc5(0x211)]=new fs['default'](),this[_0x2bccc5(0x676)]=new fs[(_0x2bccc5(0x4d6))](),this[_0x2bccc5(0x51d)]=!0x1,this['webhookMap']={'status.instance':_0x2bccc5(0x710),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x2bccc5(0x3ee),'messages.update':_0x2bccc5(0x31a),'send.message':_0x2bccc5(0x3ee),'group.upsert':_0x2bccc5(0x430),'group.update':_0x2bccc5(0x430),'group-participants.update':_0x2bccc5(0x430),'connection.update':_0x2bccc5(0x710),'messages.set':'/wa-message','contacts.set':_0x2bccc5(0x6c3),'contacts.upsert':_0x2bccc5(0x6c3),'contacts.update':'/wa-contacts','presence.update':'/wa-presence','chats.set':_0x2bccc5(0x21c),'chats.update':'/wa-chats','chats.upsert':_0x2bccc5(0x21c),'chats.delete':_0x2bccc5(0x21c)},this[_0x2bccc5(0x69b)]=0x0,this['reconnectTimestamps']=[],this[_0x2bccc5(0x294)]=0xf,this[_0x2bccc5(0x427)]=0x7530,this['isRunning']=!0x1,this[_0x2bccc5(0x6c9)]={'chats.upsert':async(_0x13ec48,_0x1245d7)=>{const _0x54ee64=_0x2bccc5;let _0xacceee=[];for await(let _0x34a825 of _0x13ec48)_0xacceee[_0x54ee64(0x41c)]({'_id':_0x34a825['id'],'owner':this['instance'][_0x54ee64(0x5a4)],'group':_0x34a825['id'][_0x54ee64(0x6c5)](_0x54ee64(0x47c)),'name':_0x34a825[_0x54ee64(0x613)]||_0x34a825[_0x54ee64(0x541)]||null,'contactname':null,'lastmsg':_0x34a825['conversationTimestamp']&&_0x34a825[_0x54ee64(0x346)][_0x54ee64(0x25a)]()[_0x54ee64(0x582)]<0xd?_0x34a825[_0x54ee64(0x346)]*0x3e8:_0x34a825[_0x54ee64(0x346)]||null,'archived':_0x34a825[_0x54ee64(0x1a7)]||!0x1,'unreadcount':_0x34a825[_0x54ee64(0x729)]||0x0});this[_0x54ee64(0x539)](_0x54ee64(0x53d),_0xacceee);},'chats.update':async(_0x47eeac,_0x39a3a2)=>{const _0x4e9571=_0x2bccc5;for(let _0x666113 of _0x47eeac){let _0xc48e74={'_id':_0x666113['id'],'owner':this['instance'][_0x4e9571(0x5a4)],'group':_0x666113['id']['endsWith'](_0x4e9571(0x47c)),'name':_0x666113[_0x4e9571(0x613)]||_0x666113[_0x4e9571(0x541)],'archived':_0x666113[_0x4e9571(0x1a7)]},_0x55d583=!0x1,_0x41d4b5={};_0xc48e74['archived']!=null&&(this[_0x4e9571(0x577)]['verbose'](this[_0x4e9571(0x6c0)]+'\x20('+this[_0x4e9571(0x3a4)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x666113['archived']),_0x55d583=!0x0,_0x41d4b5[_0x4e9571(0x1a7)]=_0x666113['archived']),_0x666113[_0x4e9571(0x613)]!=null&&(this[_0x4e9571(0x577)][_0x4e9571(0x4d2)](this[_0x4e9571(0x6c0)]+'\x20('+this[_0x4e9571(0x3a4)][_0x4e9571(0x5a4)]+_0x4e9571(0x429)+_0x666113[_0x4e9571(0x613)]),_0x55d583=!0x0,_0x41d4b5[_0x4e9571(0x613)]=_0x666113[_0x4e9571(0x613)]),_0x666113[_0x4e9571(0x541)]!=null&&(this[_0x4e9571(0x577)][_0x4e9571(0x4d2)](this[_0x4e9571(0x6c0)]+'\x20('+this[_0x4e9571(0x3a4)]['wuid']+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x666113[_0x4e9571(0x541)]),_0x55d583=!0x0,_0x41d4b5[_0x4e9571(0x613)]=_0x666113[_0x4e9571(0x541)]);let _0x594015;_0x55d583&&(_0x594015=await this[_0x4e9571(0x638)][_0x4e9571(0x39d)]['updateOne']({'where':{'_id':_0x666113['id'],'owner':this['instance']['wuid']}},_0x41d4b5)),_0x594015&&q(this['instanceName'],_0x4e9571(0x5da),{'chat':_0x594015});}},'chats.delete':async _0xc44b2f=>{const _0x2e6484=_0x2bccc5;this[_0x2e6484(0x539)](_0x2e6484(0x296),[..._0xc44b2f]);}},this[_0x2bccc5(0x1d8)]={'contacts.upsert':async(_0x2d4e13,_0x4b00a4)=>{const _0x5a3b70=_0x2bccc5;let _0x194e90=await this[_0x5a3b70(0x638)][_0x5a3b70(0x1b4)][_0x5a3b70(0x673)]({'where':{'owner':this[_0x5a3b70(0x3a4)][_0x5a3b70(0x5a4)]}}),_0x4cd803=[];for await(let _0x75de95 of _0x2d4e13)_0x194e90[_0x5a3b70(0x673)](_0x407995=>_0x407995[_0x5a3b70(0x2ec)]===_0x75de95['id'])||_0x4cd803[_0x5a3b70(0x41c)]({'_id':_0x75de95['id'],'pushName':_0x75de95?.[_0x5a3b70(0x613)]||_0x75de95?.[_0x5a3b70(0x4ed)],'owner':this[_0x5a3b70(0x3a4)]['wuid']});this[_0x5a3b70(0x539)](_0x5a3b70(0x317),_0x4cd803),await this[_0x5a3b70(0x638)][_0x5a3b70(0x1b4)][_0x5a3b70(0x44c)](_0x4cd803);},'contacts.update':async(_0x162c6c,_0x270f6a)=>{const _0x177d68=_0x2bccc5;let _0x135961=[];for await(let _0x3d0f6f of _0x162c6c)_0x135961[_0x177d68(0x41c)]({'_id':_0x3d0f6f['id'],'pushName':_0x3d0f6f?.[_0x177d68(0x613)]??_0x3d0f6f?.[_0x177d68(0x4ed)],'owner':this['instance']['wuid']});this[_0x177d68(0x539)](_0x177d68(0x434),_0x135961);}},this[_0x2bccc5(0x2b3)]={'messaging-history.set':async({messages:_0xca2532,chats:_0xb7054,isLatest:_0x25df85},_0x28f2b0)=>{const _0x485a1a=_0x2bccc5;if(_0x25df85){let _0x19c8af=await Promise[_0x485a1a(0x34a)](_0xb7054[_0x485a1a(0x4a3)](async _0x381d40=>({'_id':_0x381d40['id'],'owner':this[_0x485a1a(0x3a4)][_0x485a1a(0x5a4)],'group':_0x381d40['id'][_0x485a1a(0x6c5)](_0x485a1a(0x47c)),'name':_0x381d40[_0x485a1a(0x613)]||_0x381d40['displayName']||null,'contactname':null,'lastmsg':_0x381d40[_0x485a1a(0x346)]&&_0x381d40[_0x485a1a(0x346)]['toString']()['length']<0xd?_0x381d40[_0x485a1a(0x346)]*0x3e8:_0x381d40['conversationTimestamp']||null,'archived':_0x381d40[_0x485a1a(0x1a7)]||!0x1,'unreadcount':_0x381d40[_0x485a1a(0x729)]||0x0})));this[_0x485a1a(0x539)](_0x485a1a(0x4d3),_0x19c8af),await this['upsertChats'](_0x19c8af,_0x28f2b0);}let _0x17e90d=[],_0x2ba0f2=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x26a9c5]of Object['entries'](_0xca2532)){if(_0x26a9c5[_0x485a1a(0x671)]?.[_0x485a1a(0x6cc)]||_0x26a9c5[_0x485a1a(0x671)]?.[_0x485a1a(0x3f8)]||!_0x26a9c5[_0x485a1a(0x671)]||_0x26a9c5[_0x485a1a(0x6f8)]['remoteJid']===_0x485a1a(0x3fc)||(hs['default'][_0x485a1a(0x6f7)](_0x26a9c5?.['messageTimestamp'])&&(_0x26a9c5[_0x485a1a(0x4fe)]=_0x26a9c5['messageTimestamp']?.[_0x485a1a(0x49c)]()),_0x26a9c5[_0x485a1a(0x4fe)]&&_0x26a9c5['messageTimestamp']['toString']()['length']<0xd&&(_0x26a9c5['messageTimestamp']=_0x26a9c5[_0x485a1a(0x4fe)]*0x3e8),_0x26a9c5['messageTimestamp']<_0x2ba0f2))continue;let {message_normalized:_0x2a78b0}=this[_0x485a1a(0x305)](_0x26a9c5[_0x485a1a(0x671)],_(_0x26a9c5[_0x485a1a(0x671)]),null);Object[_0x485a1a(0x24b)](_0x2a78b0)[_0x485a1a(0x582)]>0x0&&_0x17e90d['push']({'_id':_0x26a9c5[_0x485a1a(0x6f8)]['id'],'key':_0x26a9c5[_0x485a1a(0x6f8)],'pushName':_0x26a9c5['pushName'],'participant':_0x26a9c5[_0x485a1a(0x25c)],'message':{..._0x26a9c5[_0x485a1a(0x671)]},'messageType':_(_0x26a9c5['message']),'message_normalized':{'key':_0x26a9c5['key'],'pushName':_0x26a9c5[_0x485a1a(0x51c)],'messageTimestamp':_0x26a9c5['messageTimestamp'],..._0x2a78b0},'messageTimestamp':_0x26a9c5[_0x485a1a(0x4fe)],'owner':this[_0x485a1a(0x3a4)]['wuid']});}_0x28f2b0['ENABLED']&&_0x17e90d[_0x485a1a(0x582)]>0x0&&(this[_0x485a1a(0x577)]['verbose'](this[_0x485a1a(0x6c0)]+'\x20('+this[_0x485a1a(0x3a4)]['wuid']+_0x485a1a(0x61c)+_0x17e90d[_0x485a1a(0x582)]+_0x485a1a(0x23e)+this[_0x485a1a(0x3a4)]['wuid']+_0x485a1a(0x2be)),await this[_0x485a1a(0x638)]['message']['insert']([..._0x17e90d])),this[_0x485a1a(0x539)]('messages.set',[..._0x17e90d]),_0xca2532=void 0x0;},'messages.upsert':async({messages:_0x5edc40,type:_0x4001ef},_0x53a531)=>{const _0x1a6166=_0x2bccc5;let _0x8d5f42=_0x5edc40[0x0];if(_0x4001ef!=='notify'||!_0x8d5f42?.[_0x1a6166(0x671)]||_0x8d5f42['message']?.[_0x1a6166(0x6cc)]||_0x8d5f42[_0x1a6166(0x671)][_0x1a6166(0x3f8)]||_0x8d5f42[_0x1a6166(0x6f8)][_0x1a6166(0x340)]===_0x1a6166(0x3fc))return;let _0x1d0e61=null,_0x44d117=null;try{_0x1d0e61=await this['processPollUpdateMessage'](_0x8d5f42),_0x44d117=_0x1d0e61?_0x1d0e61['join'](','):null;}catch(_0x2df1ca){this[_0x1a6166(0x577)][_0x1a6166(0x4d2)](this[_0x1a6166(0x6c0)]+'\x20('+this[_0x1a6166(0x3a4)]['wuid']+'):\x20'+JSON[_0x1a6166(0x493)](_0x2df1ca,null,0x2)),_0x44d117=_0x1a6166(0x660);}if(this[_0x1a6166(0x458)][_0x1a6166(0x201)](_0x1a6166(0x574)),hs['default']['isLong'](_0x8d5f42[_0x1a6166(0x4fe)])&&(_0x8d5f42[_0x1a6166(0x4fe)]=_0x8d5f42[_0x1a6166(0x4fe)]?.['toNumber']()),this['localWebhook']?.[_0x1a6166(0x26c)]&&_0x8d5f42[_0x1a6166(0x6f8)][_0x1a6166(0x340)][_0x1a6166(0x3d6)](_0x1a6166(0x47c))){this[_0x1a6166(0x577)]['verbose'](_0x1a6166(0x62a));return;}_0x8d5f42['messageTimestamp']&&_0x8d5f42[_0x1a6166(0x4fe)][_0x1a6166(0x25a)]()[_0x1a6166(0x582)]<0xd&&(_0x8d5f42[_0x1a6166(0x4fe)]=_0x8d5f42[_0x1a6166(0x4fe)]*0x3e8);let _0x286731=_0x8d5f42[_0x1a6166(0x671)],{messageContent:_0x2e4fb9,message_normalized:_0x32bbc6}=this['normalizeMessage'](_0x286731,_(_0x8d5f42[_0x1a6166(0x671)]),_0x44d117);_0x2e4fb9||console[_0x1a6166(0x252)](_0x1a6166(0x72f));let _0x4a55d3={'_id':_0x8d5f42[_0x1a6166(0x6f8)]['id'],'key':_0x8d5f42[_0x1a6166(0x6f8)],'pushName':_0x8d5f42['pushName'],'message':{..._0x8d5f42['message']},'messageType':_(_0x8d5f42[_0x1a6166(0x671)]),'message_normalized':{'key':_0x8d5f42[_0x1a6166(0x6f8)],'pushName':_0x8d5f42[_0x1a6166(0x51c)],'messageTimestamp':_0x8d5f42['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x8d5f42[_0x1a6166(0x6f8)]['id']),..._0x32bbc6},'messageTimestamp':_0x8d5f42[_0x1a6166(0x4fe)],'owner':this['instance'][_0x1a6166(0x5a4)]};this[_0x1a6166(0x577)][_0x1a6166(0x219)](_0x4a55d3),await this[_0x1a6166(0x638)][_0x1a6166(0x671)][_0x1a6166(0x44c)]([_0x4a55d3]),this[_0x1a6166(0x539)](_0x1a6166(0x70c),_0x4a55d3),q(this['instanceName'],'messages',{'message':_0x4a55d3}),_0x8d5f42[_0x1a6166(0x6f8)]['remoteJid']!==_0x1a6166(0x3fc)&&await this['updateChatWithMessage'](_0x53a531,_0x4a55d3,_0x1a6166(0x437));},'messages.update':async(_0x1d58ad,_0x4cf313)=>{const _0x41ab93=_0x2bccc5;let _0x5b154e={0x0:_0x41ab93(0x588),0x1:_0x41ab93(0x343),0x2:_0x41ab93(0x5d6),0x3:_0x41ab93(0x6ae),0x4:_0x41ab93(0x395),0x5:_0x41ab93(0x6e8)};for await(let {key:_0xe6a59a,update:_0x149efa}of _0x1d58ad){if(this[_0x41ab93(0x630)]?.['groups_ignore']&&_0xe6a59a[_0x41ab93(0x340)]['includes'](_0x41ab93(0x47c))){this['logger'][_0x41ab93(0x4d2)](_0x41ab93(0x62a));return;}if(_0xe6a59a[_0x41ab93(0x340)]!==_0x41ab93(0x3fc)){let _0x5bcddd=Date['now'](),_0x560910;_0x149efa[_0x41ab93(0x671)]===null&&_0x149efa[_0x41ab93(0x595)]===void 0x0?_0x560910=_0x41ab93(0x531):_0x560910=_0x5b154e[_0x149efa[_0x41ab93(0x595)]];let _0x1bffb7=_0xe6a59a['remoteJid'][_0x41ab93(0x37f)](/:\d{1,2}@/g,'@'),_0x4544bb={..._0xe6a59a,'remoteJid':_0x1bffb7,'status':_0x560910,'datetime':_0x5bcddd,'owner':this[_0x41ab93(0x3a4)]['wuid']};this[_0x41ab93(0x539)](_0x41ab93(0x446),_0x4544bb),await this[_0x41ab93(0x49d)](_0xe6a59a,_0x1bffb7,_0x4544bb);}}}},this[_0x2bccc5(0x292)]={'groups.upsert':_0x57b082=>{const _0x1b3694=_0x2bccc5;this[_0x1b3694(0x539)](_0x1b3694(0x716),_0x57b082);},'groups.update':_0x17e0eb=>{const _0x41021a=_0x2bccc5;this[_0x41021a(0x539)](_0x41021a(0x46a),_0x17e0eb);},'group-participants.update':_0x254198=>{const _0x5645c5=_0x2bccc5;this[_0x5645c5(0x539)]('group-participants.update',_0x254198);}},this[_0x2bccc5(0x718)]=async _0x32381=>{const _0x371981=_0x2bccc5;if(_0x32381[_0x371981(0x671)]?.[_0x371981(0x5a9)]){let _0x2cecd7=await this[_0x371981(0x401)](_0x32381[_0x371981(0x671)][_0x371981(0x5a9)][_0x371981(0x521)],!0x0);if(_0x2cecd7){let _0x1308cb=_0x2cecd7[_0x371981(0x6f8)][_0x371981(0x6c1)]?this['instance'][_0x371981(0x5a4)]+_0x371981(0x37c):_0x2cecd7[_0x371981(0x6f8)][_0x371981(0x25c)]||_0x2cecd7['key'][_0x371981(0x340)],_0x2f54ef=_0x2cecd7[_0x371981(0x6f8)]['id'],_0x457109=_0x2cecd7['message'],_0x11d69b=Buffer[_0x371981(0x1ce)](_0x457109[_0x371981(0x1ec)][_0x371981(0x59d)][_0x371981(0x25a)](_0x371981(0x4af)),_0x371981(0x4af)),_0x570748=(0x0,w[_0x371981(0x27c)])(_0x32381[_0x371981(0x671)][_0x371981(0x5a9)][_0x371981(0x209)],{'pollCreatorJid':_0x1308cb,'pollMsgId':_0x2f54ef,'pollEncKey':_0x11d69b,'voterJid':_0x32381['key'][_0x371981(0x6c1)]?this[_0x371981(0x3a4)][_0x371981(0x5a4)]+'@s.whatsapp.net':_0x32381[_0x371981(0x6f8)]['remoteJid']['endsWith']('g.us')?_0x32381[_0x371981(0x6f8)]['participant']:_0x32381[_0x371981(0x6f8)][_0x371981(0x340)]}),_0x344ebf=[],_0x3e0cb4=_0x570748['selectedOptions'][_0x371981(0x4a3)](_0x2a1845=>Buffer[_0x371981(0x1ce)](_0x2a1845)[_0x371981(0x25a)](_0x371981(0x4af)));for(let {optionName:_0x35a9fc}of _0x457109[_0x371981(0x545)]?.[_0x371981(0x2ed)]||_0x457109[_0x371981(0x243)]?.['options']||_0x457109[_0x371981(0x2a2)]?.['options'])_0x3e0cb4[_0x371981(0x5a3)]((0x0,w[_0x371981(0x378)])(Buffer[_0x371981(0x1ce)](_0x35a9fc))[_0x371981(0x25a)](_0x371981(0x4af)))>-0x1&&_0x344ebf['push'](_0x35a9fc);return _0x344ebf;}}return null;},this['normalizeMessage']=(_0x3d6834,_0x20dd1b,_0x8b1845)=>{const _0xb8f3=_0x2bccc5;try{let _0x180e23=_0x20dd1b?_0x3d6834[_0x20dd1b]:void 0x0,_0x406882={},_0x8c0cfd=null,_0x385945=null,_0x340845=null;if(_0x3d6834['viewOnceMessageV2']?(_0x20dd1b=_(_0x3d6834[_0xb8f3(0x2b2)][_0xb8f3(0x671)]),_0x180e23=_0x3d6834[_0xb8f3(0x2b2)][_0xb8f3(0x671)][_0x20dd1b]):_0x3d6834[_0xb8f3(0x435)]?(_0x20dd1b=_(_0x3d6834['viewOnceMessageV2Extension'][_0xb8f3(0x671)]),_0x180e23=_0x3d6834[_0xb8f3(0x435)][_0xb8f3(0x671)][_0x20dd1b]):_0x3d6834[_0xb8f3(0x4b4)]?(_0x20dd1b=_(_0x3d6834[_0xb8f3(0x4b4)][_0xb8f3(0x671)]),_0x180e23=_0x3d6834[_0xb8f3(0x4b4)][_0xb8f3(0x671)][_0x20dd1b]):_0x3d6834[_0xb8f3(0x6c8)]?(_0x20dd1b=_(_0x3d6834['message']['ephemeralMessage'][_0xb8f3(0x671)]),_0x180e23=_0x3d6834[_0xb8f3(0x671)][_0xb8f3(0x6c8)]['message'][_0x20dd1b]):_0x3d6834[_0xb8f3(0x2b9)]?.[_0xb8f3(0x671)]?.[_0xb8f3(0x6cc)]?.['editedMessage']?(_0x20dd1b=_(_0x3d6834[_0xb8f3(0x2b9)][_0xb8f3(0x671)][_0xb8f3(0x6cc)][_0xb8f3(0x2b9)]),_0x8c0cfd=_0x3d6834['editedMessage'][_0xb8f3(0x671)][_0xb8f3(0x6cc)][_0xb8f3(0x6f8)]['id'],_0x180e23=_0x3d6834[_0xb8f3(0x2b9)]['message']['protocolMessage'][_0xb8f3(0x2b9)][_0x20dd1b]):_0x180e23=_0x3d6834[_0x20dd1b],!_0x20dd1b||!_0x180e23)return console[_0xb8f3(0x252)](_0xb8f3(0x3f7),_0x3d6834),{'messageType':_0x20dd1b,'messageContent':_0x180e23,'message_normalized':{}};_0x3d6834[_0x20dd1b]?.[_0xb8f3(0x28d)]?.[_0xb8f3(0x48d)]&&_0x3d6834[_0x20dd1b]?.[_0xb8f3(0x28d)]?.[_0xb8f3(0x1f7)]&&(_0x385945=_0x3d6834[_0x20dd1b][_0xb8f3(0x28d)][_0xb8f3(0x48d)]),_0x3d6834[_0xb8f3(0x5e4)]&&(_0x340845=_0x3d6834[_0xb8f3(0x5e4)][_0xb8f3(0x6f8)]['id']);let _0x54042b;if(_0x180e23&&typeof _0x180e23==_0xb8f3(0x43d)&&'pollCreationMessageKey'in _0x180e23&&({pollCreationMessageKey:_0x54042b}=_0x180e23),_0x20dd1b===_0xb8f3(0x6fd)){let _0x258e68=_0x180e23?.[_0xb8f3(0x671)]?.['documentMessage'];_0x258e68&&(_0x180e23=_0x258e68);}if(_0x20dd1b===_0xb8f3(0x545)||_0x20dd1b===_0xb8f3(0x2a2)||_0x20dd1b===_0xb8f3(0x243)){let _0x5c384f=_0x180e23[_0xb8f3(0x2ed)][_0xb8f3(0x4a3)](_0x9b3082=>_0x9b3082[_0xb8f3(0x24e)])[_0xb8f3(0x641)]('|');_0x406882[_0xb8f3(0x1a8)]=_0x5c384f;}let _0x29b4d6=_0x180e23[_0xb8f3(0x613)]||_0x180e23['caption']||_0x180e23[_0xb8f3(0x4ac)]||_0x180e23['displayName'];if(_0x20dd1b===_0xb8f3(0x3ad)){_0x29b4d6=(_0x180e23[_0xb8f3(0x3e9)]||'')+'\x0a'+(_0x180e23[_0xb8f3(0x4bb)]||'')+'\x0a'+(_0x180e23[_0xb8f3(0x65c)]||'');let _0x3609a9=this['sectionsToString'](_0x180e23['sections']);_0x406882[_0xb8f3(0x1a8)]=_0x3609a9;}if(_0x20dd1b===_0xb8f3(0x5eb)&&(_0x8b1845=_0x180e23[_0xb8f3(0x3e9)]),_0x180e23[_0xb8f3(0x689)]){let _0x43f8e3=this[_0xb8f3(0x598)](JSON[_0xb8f3(0x493)](_0x180e23[_0xb8f3(0x689)],null,0x2));_0x29b4d6=_0x29b4d6+'\x0a'+_0x43f8e3;}if(_0x180e23){let {sections:_0xf5b4d8,listType:_0x1a52a4,displayName:_0x1edf23,vcard:_0x233e44,contactVcard:_0x1f369e,name:_0x594e3c,caption:_0x3f3afc,conversation:_0x1e0be5,pollCreationMessageKey:_0x27c3bd,footerText:_0x1706c1,contentText:_0x3fa4fb,pageCount:_0x2d05e2,headerType:_0x3f3235,isAvatar:_0x415373,isAnimated:_0x310510,fallbackLc:_0x4d7529,fallbackLg:_0xad980e,namespace:_0x33e26a,elementName:_0x35dcb2,localizableParams:_0x2a5d23,viewOnce:_0x5f2a38,height:_0x21714c,width:_0x36f077,key:_0x1b06b2,firstScanLength:_0x29fc0e,firstScanSidecar:_0xbd52b9,gifPlayback:_0x22f7a4,gifAttribution:_0x79973f,midQualityFileSha256:_0x2d8799,scansSidecar:_0x2e36de,streamingSidecar:_0x11daad,thumbnailHeight:_0x20b19f,thumbnailWidth:_0x3951fa,thumbnailEncSha256:_0x3d0e3c,thumbnailDirectPath:_0x254307,canonicalUrl:_0x3cf964,matchedText:_0x127e18,previewType:_0x5de7a6,thumbnailSha256:_0x45110b,deviceListMetadataVersion:_0x271fb1,inviteLinkGroupTypeV2:_0xa44849,interactiveAnnotations:_0x207274,scanLengths:_0x384800,jpegThumbnail:_0x4da1b6,url:_0x5063cf,mediaKeyTimestamp:_0x373b9d,waveform:_0x42231a,stickerSentTs:_0x15c738,firstFrameLength:_0x113ec5,fileEncSha256:_0x29b7d2,contextInfo:_0x4f08d9,firstFrameSidecar:_0x195d73,directPath:_0x4cb4a6,fileSha256:_0x334ffa,mediaKey:_0xfc4426,senderTimestampMs:_0x26e481,..._0xe81c0d}=_0x180e23;(_0x20dd1b==='listMessage'||_0x20dd1b===_0xb8f3(0x5eb))&&(delete _0xe81c0d[_0xb8f3(0x3e9)],delete _0xe81c0d[_0xb8f3(0x4bb)]),typeof _0x180e23==_0xb8f3(0x1e5)?_0x406882={'text':_0x180e23,'type':_0x20dd1b||'conversation',..._0x8c0cfd&&{'edited':_0x8c0cfd},..._0x385945&&{'quoted':_0x385945},..._0x340845&&{'reaction':_0x340845}}:_0x406882={'text':_0x29b4d6,..._0xe81c0d,..._0x20dd1b===_0xb8f3(0x5a9)?{'poll_id':_0x180e23[_0xb8f3(0x521)]['id'],'quoted':_0x180e23[_0xb8f3(0x521)]['id'],'vote':_0x8b1845}:{},..._0x20dd1b===_0xb8f3(0x5eb)?{'vote':_0x8b1845}:{},'type':_0x20dd1b,..._0x8c0cfd&&{'edited':_0x8c0cfd},..._0x385945&&{'quoted':_0x385945},..._0x340845&&{'reaction':_0x340845},...(_0x20dd1b===_0xb8f3(0x545)||_0x20dd1b===_0xb8f3(0x2a2)||_0x20dd1b==='pollCreationMessageV3'||_0x20dd1b==='listMessage')&&{'convertedOptions':_0x406882[_0xb8f3(0x1a8)]}};}return{'messageType':_0x20dd1b,'messageContent':_0x180e23,'message_normalized':_0x406882};}catch(_0x423d3e){console[_0xb8f3(0x252)](_0xb8f3(0x686),_0x423d3e);}},this['processingScheduleMessageId']=null,this[_0x2bccc5(0x3ef)]=0x0,this[_0x2bccc5(0x397)]=null,(this[_0x2bccc5(0x1cc)](),this['instance'][_0x2bccc5(0x747)]={'count':0x0});}set['instanceName'](_0x4cd3a6){const _0x4571a2=a0_0x359adc;if(!_0x4cd3a6){this['instance']['name']=(0x0,si['v4'])();return;}this[_0x4571a2(0x3a4)]['name']=_0x4cd3a6,this['sendDataWebhook']('status.instance',{'instance':this[_0x4571a2(0x3a4)][_0x4571a2(0x613)],'status':'created'});}get['instanceName'](){const _0x52990a=a0_0x359adc;return this[_0x52990a(0x3a4)][_0x52990a(0x613)];}get[a0_0x359adc(0x5a4)](){const _0x3c7bbb=a0_0x359adc;return this[_0x3c7bbb(0x3a4)][_0x3c7bbb(0x5a4)];}async[a0_0x359adc(0x610)](){const _0x582d68=a0_0x359adc;let _0x2c62e8=this['client']['user']?.[_0x582d68(0x613)]??this[_0x582d68(0x458)][_0x582d68(0x26a)]?.['verifiedName'];if(!_0x2c62e8){if(this[_0x582d68(0x2a1)][_0x582d68(0x43e)](_0x582d68(0x4a4))['ENABLED']){let _0x1a3dbc=await R[_0x582d68(0x350)]()['db'](this['configService'][_0x582d68(0x43e)](_0x582d68(0x4a4))[_0x582d68(0x590)]['DB_PREFIX_NAME']+'-instances')[_0x582d68(0x20b)](this[_0x582d68(0x6c0)])[_0x582d68(0x50e)]({'_id':'creds'});if(_0x1a3dbc){let _0x4da9c2=JSON['parse'](JSON[_0x582d68(0x493)](_0x1a3dbc),w[_0x582d68(0x325)][_0x582d68(0x728)]);_0x2c62e8=_0x4da9c2['me']?.[_0x582d68(0x613)]||_0x4da9c2['me']?.[_0x582d68(0x4ed)];}}else{if((0x0,Me[_0x582d68(0x38e)])((0x0,k[_0x582d68(0x641)])(j,this['instanceName'],_0x582d68(0x3d4)))){let _0x5f515f=JSON[_0x582d68(0x215)]((0x0,Me[_0x582d68(0x587)])((0x0,k[_0x582d68(0x641)])(j,this[_0x582d68(0x6c0)],_0x582d68(0x3d4)),{'encoding':'utf-8'}));_0x2c62e8=_0x5f515f['me']?.[_0x582d68(0x613)]||_0x5f515f['me']?.[_0x582d68(0x4ed)];}}}return _0x2c62e8;}get[a0_0x359adc(0x722)](){const _0x463bd3=a0_0x359adc;return this[_0x463bd3(0x3a4)][_0x463bd3(0x722)];}get[a0_0x359adc(0x5af)](){const _0x58b809=a0_0x359adc;return{'code':this[_0x58b809(0x3a4)][_0x58b809(0x747)]?.['code'],'base64':this['instance'][_0x58b809(0x747)]?.[_0x58b809(0x683)]};}async[a0_0x359adc(0x418)](){const _0x342e8e=a0_0x359adc;let _0x21d543=await this[_0x342e8e(0x638)]['webhook'][_0x342e8e(0x673)](this[_0x342e8e(0x6c0)]);this[_0x342e8e(0x630)]['url']=_0x21d543?.[_0x342e8e(0x65b)],this[_0x342e8e(0x630)][_0x342e8e(0x283)]=_0x21d543?.[_0x342e8e(0x283)],this[_0x342e8e(0x630)][_0x342e8e(0x60a)]=_0x21d543?.['local_map'],this[_0x342e8e(0x630)]['STATUS_INSTANCE']=_0x21d543?.['STATUS_INSTANCE'],this['localWebhook'][_0x342e8e(0x1a5)]=_0x21d543?.[_0x342e8e(0x1a5)],this[_0x342e8e(0x630)][_0x342e8e(0x21d)]=_0x21d543?.[_0x342e8e(0x21d)],this[_0x342e8e(0x630)][_0x342e8e(0x437)]=_0x21d543?.[_0x342e8e(0x437)],this['localWebhook'][_0x342e8e(0x4d1)]=_0x21d543?.[_0x342e8e(0x4d1)],this[_0x342e8e(0x630)]['GROUPS_UPSERT']=_0x21d543?.['GROUPS_UPSERT'],this[_0x342e8e(0x630)]['GROUPS_UPDATE']=_0x21d543?.['GROUPS_UPDATE'],this[_0x342e8e(0x630)][_0x342e8e(0x557)]=_0x21d543?.[_0x342e8e(0x557)],this[_0x342e8e(0x630)]['CHATS_SET']=_0x21d543?.[_0x342e8e(0x712)],this[_0x342e8e(0x630)][_0x342e8e(0x324)]=_0x21d543?.[_0x342e8e(0x324)],this[_0x342e8e(0x630)][_0x342e8e(0x71c)]=_0x21d543?.[_0x342e8e(0x71c)],this['localWebhook'][_0x342e8e(0x576)]=_0x21d543?.[_0x342e8e(0x576)],this[_0x342e8e(0x630)][_0x342e8e(0x24a)]=_0x21d543?.['CONTACTS_SET'],this['localWebhook'][_0x342e8e(0x3e2)]=_0x21d543?.[_0x342e8e(0x3e2)],this['localWebhook'][_0x342e8e(0x5c6)]=_0x21d543?.['CONTACTS_UPDATE'],this[_0x342e8e(0x630)][_0x342e8e(0x5ad)]=_0x21d543?.[_0x342e8e(0x5ad)],this[_0x342e8e(0x630)][_0x342e8e(0x2b6)]=_0x21d543?.[_0x342e8e(0x2b6)],this[_0x342e8e(0x630)][_0x342e8e(0x5bd)]=_0x21d543?.[_0x342e8e(0x5bd)],this['localWebhook'][_0x342e8e(0x26c)]=_0x21d543?.[_0x342e8e(0x26c)];}async['setWebhook'](_0x114c92){const _0x4edb00=a0_0x359adc;let _0x9942bd=[_0x4edb00(0x2ec),_0x4edb00(0x65b),_0x4edb00(0x283),_0x4edb00(0x60a),_0x4edb00(0x18f),_0x4edb00(0x1a5),_0x4edb00(0x4d1),_0x4edb00(0x437),_0x4edb00(0x21d),_0x4edb00(0x700),_0x4edb00(0x705),_0x4edb00(0x557),_0x4edb00(0x712),'CHATS_UPSERT',_0x4edb00(0x71c),'CHATS_DELETE',_0x4edb00(0x24a),_0x4edb00(0x3e2),_0x4edb00(0x5c6),'PRESENCE_UPDATE','MESSAGES_SET','CONNECTION_UPDATE',_0x4edb00(0x26c)],_0x4830c4={};return _0x9942bd[_0x4edb00(0x4a9)](_0x2a0c94=>{_0x114c92[_0x2a0c94]!==void 0x0&&(_0x4830c4[_0x2a0c94]=_0x114c92[_0x2a0c94]);}),await this[_0x4edb00(0x638)][_0x4edb00(0x36d)][_0x4edb00(0x677)](_0x4830c4,this[_0x4edb00(0x6c0)]),Object[_0x4edb00(0x5f8)](this[_0x4edb00(0x630)],_0x4830c4),await this[_0x4edb00(0x638)]['webhook']['find'](this['instanceName']);}async[a0_0x359adc(0x2a3)](){const _0x33a5a6=a0_0x359adc;return await this[_0x33a5a6(0x638)]['webhook'][_0x33a5a6(0x673)](this[_0x33a5a6(0x6c0)]);}async[a0_0x359adc(0x539)](_0x520f13,_0x2b0cc){const _0x45c8ed=a0_0x359adc;let _0x26696b=this[_0x45c8ed(0x2a1)][_0x45c8ed(0x43e)](_0x45c8ed(0x753)),_0x58a2a5=_0x520f13[_0x45c8ed(0x37f)](/[\.-]/gm,'_')['toUpperCase'](),_0x151332=this[_0x45c8ed(0x630)][_0x45c8ed(0x283)]&&(0x0,P[_0x45c8ed(0x48f)])(this[_0x45c8ed(0x630)][_0x45c8ed(0x65b)])?this[_0x45c8ed(0x630)]['url']+(this['localWebhook'][_0x45c8ed(0x60a)]?this['webhookMap'][_0x520f13]:''):null,_0x3a3ede=_0x26696b?.[_0x45c8ed(0x48a)],_0x601a6e=_0x3a3ede&&_0x3a3ede?.[_0x45c8ed(0x748)]&&(0x0,P['isURL'])(_0x3a3ede[_0x45c8ed(0x1b6)])?_0x3a3ede[_0x45c8ed(0x1b6)]+(_0x26696b[_0x45c8ed(0x3cb)]?this[_0x45c8ed(0x3e7)][_0x520f13]:''):null,_0x5890b9=this[_0x45c8ed(0x630)][_0x58a2a5],_0x5173e8=_0x26696b?.[_0x45c8ed(0x703)]?.[_0x58a2a5];if(_0x5890b9&&_0x151332)try{await ce['default'][_0x45c8ed(0x677)]({'baseURL':_0x151332})['post']('',{'event':_0x520f13,'instance':this[_0x45c8ed(0x3a4)][_0x45c8ed(0x613)],'data':_0x2b0cc}),this[_0x45c8ed(0x577)][_0x45c8ed(0x219)](_0x45c8ed(0x2f1)+_0x520f13+':\x20'+_0x151332);}catch(_0x2902b2){this[_0x45c8ed(0x577)]['error'](this[_0x45c8ed(0x6c0)]+'\x20('+this[_0x45c8ed(0x3a4)][_0x45c8ed(0x5a4)]+_0x45c8ed(0x61c)+{'local':c['name']+'.sendDataWebhook-local','message':_0x2902b2?.[_0x45c8ed(0x671)],'hostName':_0x2902b2?.['hostname'],'syscall':_0x2902b2?.[_0x45c8ed(0x37b)],'code':_0x2902b2?.[_0x45c8ed(0x666)],'error':_0x2902b2?.['errno'],'stack':_0x2902b2?.[_0x45c8ed(0x479)],'name':_0x2902b2?.[_0x45c8ed(0x613)]});}if(_0x5173e8&&_0x601a6e)try{await ce[_0x45c8ed(0x4d6)][_0x45c8ed(0x677)]({'baseURL':_0x601a6e})[_0x45c8ed(0x4a5)]('',{'event':_0x520f13,'instance':this[_0x45c8ed(0x3a4)]['name'],'data':_0x2b0cc}),this[_0x45c8ed(0x577)][_0x45c8ed(0x219)](_0x45c8ed(0x560)+_0x520f13+':\x20'+_0x601a6e);}catch(_0x18bd96){this[_0x45c8ed(0x577)][_0x45c8ed(0x252)](this['instanceName']+'\x20('+this[_0x45c8ed(0x3a4)][_0x45c8ed(0x5a4)]+_0x45c8ed(0x61c)+{'local':c[_0x45c8ed(0x613)]+_0x45c8ed(0x682),'message':_0x18bd96?.[_0x45c8ed(0x671)],'hostName':_0x18bd96?.[_0x45c8ed(0x3a2)],'syscall':_0x18bd96?.[_0x45c8ed(0x37b)],'code':_0x18bd96?.[_0x45c8ed(0x666)],'error':_0x18bd96?.[_0x45c8ed(0x6d1)],'stack':_0x18bd96?.[_0x45c8ed(0x479)],'name':_0x18bd96?.['name']});}}async[a0_0x359adc(0x6e7)]({qr:_0x2e4152,connection:_0xdcbc6d,lastDisconnect:_0x1e549e}){const _0x259675=a0_0x359adc;if(_0x2e4152){if(this[_0x259675(0x3a4)]['qrcode']['count']===this[_0x259675(0x2a1)]['get'](_0x259675(0x3ba))[_0x259675(0x21a)])return this[_0x259675(0x539)](_0x259675(0x212),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w['DisconnectReason'][_0x259675(0x750)]}),this[_0x259675(0x539)]('connection.update',{'instance':this[_0x259675(0x3a4)][_0x259675(0x613)],'state':_0x259675(0x351),'statusReason':w[_0x259675(0x73c)]['connectionClosed']}),this['sendDataWebhook'](_0x259675(0x1da),{'instance':this[_0x259675(0x3a4)][_0x259675(0x613)],'status':_0x259675(0x420)}),this[_0x259675(0x51d)]=!0x0,this[_0x259675(0x492)][_0x259675(0x738)](_0x259675(0x33e),this[_0x259675(0x3a4)]['name']);this['instance']['qrcode'][_0x259675(0x1fe)]++;let _0x2558ee={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x259675(0x27b),'dark':_0x259675(0x4ff)}};ai[_0x259675(0x4d6)][_0x259675(0x3ca)](_0x2e4152,_0x2558ee,(_0x202fea,_0x4d0f9a)=>{const _0x423798=_0x259675;if(_0x202fea){this[_0x423798(0x577)][_0x423798(0x252)](this[_0x423798(0x6c0)]+'\x20('+this[_0x423798(0x3a4)][_0x423798(0x5a4)]+_0x423798(0x2d0)+JSON['stringify'](_0x202fea,null,0x2));return;}this[_0x423798(0x3a4)][_0x423798(0x747)]['base64']=_0x4d0f9a,this['instance']['qrcode'][_0x423798(0x666)]=_0x2e4152,this[_0x423798(0x539)](_0x423798(0x212),{'qrcode':{'instance':this[_0x423798(0x3a4)][_0x423798(0x613)],'code':_0x2e4152,'base64':_0x4d0f9a}});}),ii['default'][_0x259675(0x471)](_0x2e4152,{'small':!0x0},_0x5ea285=>this[_0x259675(0x577)][_0x259675(0x219)](_0x259675(0x6e5)+this[_0x259675(0x3a4)]['name']+_0x259675(0x191)+this['instance'][_0x259675(0x747)][_0x259675(0x1fe)]+_0x259675(0x36a)+_0x5ea285));}if(_0xdcbc6d&&(this['stateConnection']={'state':_0xdcbc6d,'statusReason':_0x1e549e?.[_0x259675(0x252)]?.[_0x259675(0x62f)]?.[_0x259675(0x4d7)]??0xc8},this[_0x259675(0x539)](_0x259675(0x505),{'instance':this[_0x259675(0x3a4)]['name'],...this[_0x259675(0x4e6)]})),_0xdcbc6d==='close'){if(this[_0x259675(0x69b)]++,this['reconnectTimestamps'][_0x259675(0x41c)](Date[_0x259675(0x644)]()),this[_0x259675(0x2e8)]=this[_0x259675(0x2e8)][_0x259675(0x694)](_0x173d3b=>Date[_0x259675(0x644)]()-_0x173d3b<this[_0x259675(0x427)]),_0x1e549e[_0x259675(0x252)]?.[_0x259675(0x62f)]?.[_0x259675(0x4d7)]!==w[_0x259675(0x73c)][_0x259675(0x685)]&&this[_0x259675(0x2e8)][_0x259675(0x582)]<=this[_0x259675(0x294)])await this[_0x259675(0x47d)]();else{this[_0x259675(0x539)](_0x259675(0x1da),{'instance':this[_0x259675(0x3a4)]['name'],'status':_0x259675(0x420)}),this[_0x259675(0x3f9)]=!0x1;try{this[_0x259675(0x577)]['verbose'](this[_0x259675(0x6c0)]+'\x20('+this[_0x259675(0x3a4)][_0x259675(0x5a4)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x49bd95=await this[_0x259675(0x638)]['message'][_0x259675(0x607)](this[_0x259675(0x3a4)][_0x259675(0x5a4)]);_0x49bd95[_0x259675(0x22c)]?this[_0x259675(0x577)][_0x259675(0x4d2)](this[_0x259675(0x6c0)]+'\x20('+this['instance']['wuid']+_0x259675(0x606)):console[_0x259675(0x252)](_0x259675(0x510),_0x49bd95[_0x259675(0x252)]);}catch(_0x42aa45){console[_0x259675(0x252)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x42aa45);}this[_0x259675(0x71a)]!==null&&(this[_0x259675(0x577)]['verbose'](this[_0x259675(0x6c0)]+'\x20('+this[_0x259675(0x3a4)][_0x259675(0x5a4)]+_0x259675(0x445)),clearInterval(this[_0x259675(0x71a)]),this['delayMessage']=null),this[_0x259675(0x577)][_0x259675(0x4d2)](this['instanceName']+'\x20('+this['instance'][_0x259675(0x5a4)]+_0x259675(0x6c6)),this[_0x259675(0x32c)]=null,this[_0x259675(0x492)][_0x259675(0x738)](_0x259675(0x70e),this[_0x259675(0x3a4)][_0x259675(0x613)],_0x259675(0x76f)),this['client']?.['ws']?.['close'](),this[_0x259675(0x458)][_0x259675(0x406)](new Error(_0x259675(0x2cc)));}}if(_0xdcbc6d===_0x259675(0x50b)){this['resetReconnectionVariables'],this[_0x259675(0x3a4)]['wuid']=this[_0x259675(0x458)][_0x259675(0x26a)]['id'][_0x259675(0x37f)](/:\d+/,'')[_0x259675(0x37f)](_0x259675(0x37c),''),this[_0x259675(0x3a4)][_0x259675(0x722)]=(await this['profilePicture'](this[_0x259675(0x3a4)]['wuid']+_0x259675(0x37c)))[_0x259675(0x722)];let _0x1bef11='Número:\x20'+this[_0x259675(0x3a4)]['wuid'],_0x5e983b=0x28,_0x5347f1=Math[_0x259675(0x41b)]((_0x5e983b-_0x1bef11[_0x259675(0x582)])/0x2),_0x577d68='\x20'['repeat'](_0x5347f1),_0x25ba08=_0x259675(0x240),_0x3c7043=_0x259675(0x594)+this[_0x259675(0x3a4)][_0x259675(0x613)],_0x4f6e8a=(''+_0x577d68+_0x1bef11+_0x577d68)[_0x259675(0x1ff)](_0x5e983b,'\x20'),_0x46e7f1=(''+_0x577d68+_0x25ba08+_0x577d68)[_0x259675(0x1ff)](_0x5e983b,'\x20'),_0x512310=(''+_0x577d68+_0x3c7043+_0x577d68)[_0x259675(0x1ff)](_0x5e983b,'\x20'),_0x154dd4=Math[_0x259675(0x59c)](_0x4f6e8a[_0x259675(0x582)],_0x46e7f1[_0x259675(0x582)],_0x512310['length']),_0x4f6d38=_0x4f6e8a[_0x259675(0x1ff)](_0x154dd4,'\x20'),_0x3a68e3=_0x46e7f1[_0x259675(0x1ff)](_0x154dd4,'\x20'),_0x57da00=_0x512310[_0x259675(0x1ff)](_0x154dd4,'\x20');this[_0x259675(0x577)]['info']((_0x259675(0x335)+'─'[_0x259675(0x734)](_0x154dd4)+_0x259675(0x5d4)+_0x3a68e3+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x57da00+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4f6d38+_0x259675(0x25e)+'─'[_0x259675(0x734)](_0x154dd4)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['isConnected']=!0x0;}}[a0_0x359adc(0x364)](){const _0x1c4a8f=a0_0x359adc;this[_0x1c4a8f(0x69b)]=0x0,this[_0x1c4a8f(0x2e8)]=[];}async[a0_0x359adc(0x401)](_0x109f30,_0x2d140b=!0x1){const _0x23acd5=a0_0x359adc;try{let _0xc4ea9e=await this[_0x23acd5(0x638)]['message'][_0x23acd5(0x673)]({'where':{'owner':this[_0x23acd5(0x3a4)][_0x23acd5(0x5a4)],'_id':_0x109f30['id']}});return _0x2d140b?_0xc4ea9e[0x0]:_0xc4ea9e[0x0][_0x23acd5(0x671)];}catch{return{'conversation':''};}}[a0_0x359adc(0x1cc)](){const _0x4cd093=a0_0x359adc;let _0x2d8d6f=this[_0x4cd093(0x2a1)][_0x4cd093(0x43e)](_0x4cd093(0x3e4)),_0x21dbb0=this['configService'][_0x4cd093(0x43e)](_0x4cd093(0x4a4));_0x2d8d6f?.[_0x4cd093(0x573)]&&!_0x21dbb0[_0x4cd093(0x748)]&&setInterval(()=>{const _0x3b8c7b=_0x4cd093;try{for(let [_0x13b585,_0x688e8]of Object['entries'](_0x2d8d6f))_0x688e8===!0x0&&(0x0,_t['execSync'])(_0x3b8c7b(0x278)+(0x0,k[_0x3b8c7b(0x641)])(this['storePath'],_0x13b585[_0x3b8c7b(0x37e)](),this[_0x3b8c7b(0x3a4)][_0x3b8c7b(0x5a4)])+_0x3b8c7b(0x5ee));}catch{}},(_0x2d8d6f?.[_0x4cd093(0x573)]??0xe10)*0x3e8);}async[a0_0x359adc(0x55a)](){const _0x45e95c=a0_0x359adc;let _0x3a7580=this['configService'][_0x45e95c(0x43e)](_0x45e95c(0x4a4)),_0x525385=this[_0x45e95c(0x2a1)][_0x45e95c(0x43e)](_0x45e95c(0x18c));return _0x525385?.[_0x45e95c(0x748)]?await ms(_0x525385,this[_0x45e95c(0x3a4)]['name']):_0x3a7580[_0x45e95c(0x748)]?await gs(this['instance'][_0x45e95c(0x613)]):await(0x0,w[_0x45e95c(0x2a0)])((0x0,k['join'])(j,this[_0x45e95c(0x3a4)][_0x45e95c(0x613)]));}async[a0_0x359adc(0x696)](){const _0xb3e0a3=a0_0x359adc;let _0x58dafa=()=>Math[_0xb3e0a3(0x41b)](Math['random']()*0x2711)+0x7d0,_0x272715=async()=>{const _0x5b46cc=_0xb3e0a3;if(!this[_0x5b46cc(0x3f9)]){this['logger'][_0x5b46cc(0x4d2)](_0x5b46cc(0x1b0)),this['isRunning']=!0x1;return;}if(this[_0x5b46cc(0x3a4)][_0x5b46cc(0x5a4)]&&this[_0x5b46cc(0x32c)]&&this[_0x5b46cc(0x71a)]!==null&&this[_0x5b46cc(0x71a)]!==void 0x0){let _0x5b4498=Math[_0x5b46cc(0x1d6)](this[_0x5b46cc(0x71a)]/0xea60);this[_0x5b46cc(0x577)][_0x5b46cc(0x4d2)](this[_0x5b46cc(0x6c0)]+'\x20('+this[_0x5b46cc(0x3a4)][_0x5b46cc(0x5a4)]+_0x5b46cc(0x1d3)+_0x5b4498+_0x5b46cc(0x5f2)),this[_0x5b46cc(0x3cf)]=!0x1;return;}else this[_0x5b46cc(0x3a4)]['wuid']&&(this[_0x5b46cc(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x5b46cc(0x3a4)]['wuid']+_0x5b46cc(0x41d)),this[_0x5b46cc(0x32c)]||await this[_0x5b46cc(0x408)](),(this[_0x5b46cc(0x71a)]===null||this['delayMessage']===void 0x0)&&await this[_0x5b46cc(0x66a)]());if(this[_0x5b46cc(0x3cf)]){let _0x5bb28a=_0x58dafa();this[_0x5b46cc(0x577)][_0x5b46cc(0x4d2)](this[_0x5b46cc(0x6c0)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x5bb28a/0x3e8+'\x20segundos'),setTimeout(_0x272715,_0x5bb28a);}};if(this['isRunning'])return;this[_0xb3e0a3(0x3cf)]=!0x0;let _0xcf091e=_0x58dafa();setTimeout(_0x272715,_0xcf091e);}async[a0_0x359adc(0x47d)](){const _0x3893b7=a0_0x359adc;try{this['loadWebhook'](),this['instance'][_0x3893b7(0x322)]=await this['defineAuthState']();let {version:_0x1c2346}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x278426=this[_0x3893b7(0x2a1)]['get']('CONFIG_SESSION_PHONE'),_0x1255c7=[_0x278426[_0x3893b7(0x272)],_0x278426[_0x3893b7(0x310)],(0x0,oi[_0x3893b7(0x559)])()],_0x595946={'auth':{'creds':this[_0x3893b7(0x3a4)][_0x3893b7(0x322)]['state'][_0x3893b7(0x354)],'keys':(0x0,w[_0x3893b7(0x3b2)])(this['instance']['authState']['state'][_0x3893b7(0x24b)],(0x0,At[_0x3893b7(0x4d6)])({'level':_0x3893b7(0x252)}))},'logger':(0x0,At['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x1255c7,'version':_0x1c2346,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x3893b7(0x211)],'getMessage':async _0x21cc58=>await this['getMessage'](_0x21cc58),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x48ac8f=>(_0x48ac8f[_0x3893b7(0x3ad)]?.[_0x3893b7(0x549)]==w[_0x3893b7(0x5b9)][_0x3893b7(0x4f0)][_0x3893b7(0x3ae)][_0x3893b7(0x544)]['PRODUCT_LIST']&&(_0x48ac8f=JSON['parse'](JSON['stringify'](_0x48ac8f)),_0x48ac8f[_0x3893b7(0x3ad)][_0x3893b7(0x549)]=w[_0x3893b7(0x5b9)]['Message'][_0x3893b7(0x3ae)][_0x3893b7(0x544)][_0x3893b7(0x1f8)]),_0x48ac8f)};return this[_0x3893b7(0x51d)]=!0x1,this[_0x3893b7(0x458)]=(0x0,w['default'])(_0x595946),this[_0x3893b7(0x76d)](),this['client'];}catch(_0x3d4564){throw this['logger'][_0x3893b7(0x252)](this[_0x3893b7(0x6c0)]+'\x20('+this[_0x3893b7(0x3a4)]['wuid']+_0x3893b7(0x61c)+JSON['stringify'](_0x3d4564,null,0x2)),new A(_0x3d4564?.[_0x3893b7(0x25a)]());}}[a0_0x359adc(0x76d)](){const _0x1c9d4f=a0_0x359adc;this['client']['ev'][_0x1c9d4f(0x74b)](_0x1f4b89=>{const _0x56dafc=_0x1c9d4f;if(!this[_0x56dafc(0x51d)]){let _0x38f62e=this[_0x56dafc(0x2a1)][_0x56dafc(0x43e)](_0x56dafc(0x4a4));if(_0x1f4b89[_0x56dafc(0x505)]&&this[_0x56dafc(0x6e7)](_0x1f4b89[_0x56dafc(0x505)]),_0x1f4b89['creds.update']&&this[_0x56dafc(0x3a4)][_0x56dafc(0x322)][_0x56dafc(0x475)](),_0x1f4b89[_0x56dafc(0x56e)]){let _0x4afc27=_0x1f4b89[_0x56dafc(0x56e)];this[_0x56dafc(0x2b3)]['messaging-history.set'](_0x4afc27,_0x38f62e);}if(_0x1f4b89[_0x56dafc(0x70c)]){let _0x360cea=_0x1f4b89[_0x56dafc(0x70c)];this['messageHandle'][_0x56dafc(0x70c)](_0x360cea,_0x38f62e);}if(_0x1f4b89[_0x56dafc(0x446)]){let _0x3aa4dd=_0x1f4b89[_0x56dafc(0x446)];this[_0x56dafc(0x2b3)][_0x56dafc(0x446)](_0x3aa4dd,_0x38f62e);}if(_0x1f4b89[_0x56dafc(0x1bc)]){let _0x4e4b57=_0x1f4b89[_0x56dafc(0x1bc)];if(this['localWebhook']?.[_0x56dafc(0x26c)]&&_0x4e4b57['id'][_0x56dafc(0x3d6)](_0x56dafc(0x47c)))return;this[_0x56dafc(0x539)](_0x56dafc(0x1bc),_0x4e4b57);}if(!this[_0x56dafc(0x630)]?.[_0x56dafc(0x26c)]){if(_0x1f4b89[_0x56dafc(0x716)]){let _0x5b4c4a=_0x1f4b89['groups.upsert'];this['groupHandler'][_0x56dafc(0x716)](_0x5b4c4a);}if(_0x1f4b89[_0x56dafc(0x46a)]){let _0x321f7a=_0x1f4b89[_0x56dafc(0x46a)];this[_0x56dafc(0x292)][_0x56dafc(0x46a)](_0x321f7a);}if(_0x1f4b89[_0x56dafc(0x6f6)]){let _0x12cbdd=_0x1f4b89[_0x56dafc(0x6f6)];this['groupHandler']['group-participants.update'](_0x12cbdd);}}if(_0x1f4b89[_0x56dafc(0x53d)]){let _0x586797=_0x1f4b89['chats.upsert'];this[_0x56dafc(0x6c9)][_0x56dafc(0x53d)](_0x586797,_0x38f62e);}if(_0x1f4b89[_0x56dafc(0x5c4)]){let _0x312375=_0x1f4b89[_0x56dafc(0x5c4)];this[_0x56dafc(0x6c9)][_0x56dafc(0x5c4)](_0x312375,_0x38f62e);}if(_0x1f4b89[_0x56dafc(0x296)]){let _0x1ade0d=_0x1f4b89[_0x56dafc(0x296)];this[_0x56dafc(0x6c9)][_0x56dafc(0x296)](_0x1ade0d);}if(_0x1f4b89['contacts.upsert']){let _0x1fd6d5=_0x1f4b89[_0x56dafc(0x317)];this[_0x56dafc(0x1d8)][_0x56dafc(0x317)](_0x1fd6d5,_0x38f62e);}if(_0x1f4b89['contacts.update']){let _0x4abc10=_0x1f4b89['contacts.update'];this[_0x56dafc(0x1d8)][_0x56dafc(0x434)](_0x4abc10,_0x38f62e);}}});}[a0_0x359adc(0x47e)](_0x1494e4){const _0x59b7e9=a0_0x359adc;let _0x2d264a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x59b7e9(0x32f)](_0x1494e4);if(_0x2d264a&&_0x2d264a[0x1]==='55'){let _0x5bf6da=_0x2d264a[0x2],_0x444f98=_0x2d264a[0x3],_0x1b1983=_0x2d264a[0x4];if(_0x5bf6da>='31'&&_0x444f98==='9')return _0x2d264a[0x1]+_0x5bf6da+_0x1b1983;}return _0x1494e4;}[a0_0x359adc(0x1c7)](_0x104d29){const _0x5b67aa=a0_0x359adc;return _0x104d29[_0x5b67aa(0x3d6)](_0x5b67aa(0x47c))||_0x104d29[_0x5b67aa(0x3d6)](_0x5b67aa(0x37c))||_0x104d29['includes'](_0x5b67aa(0x469))?_0x104d29:(_0x104d29=_0x104d29?.[_0x5b67aa(0x37f)](/\s/g,'')['replace'](/\+/g,'')[_0x5b67aa(0x37f)](/\(/g,'')[_0x5b67aa(0x37f)](/\)/g,'')[_0x5b67aa(0x655)](/\:/)[0x0]['split']('@')[0x0],_0x104d29['length']>=0x12?(_0x104d29=_0x104d29['replace'](/[^\d-]/g,''),_0x104d29+_0x5b67aa(0x47c)):(_0x104d29=_0x104d29['replace'](/\D/g,''),this['formatBRNumber'](_0x104d29)+_0x5b67aa(0x37c)));}async[a0_0x359adc(0x289)](_0x2d48f8){const _0x510e1f=a0_0x359adc;let _0x65fc68=this[_0x510e1f(0x1c7)](_0x2d48f8[_0x510e1f(0x74a)]),_0x748a8d=(await this[_0x510e1f(0x74c)]({'numbers':[_0x65fc68]}))[0x0];if(!_0x748a8d['exists']&&!(0x0,w[_0x510e1f(0x76e)])(_0x748a8d[_0x510e1f(0x565)]))throw new g(_0x748a8d);let _0x2eaa6a=(0x0,w[_0x510e1f(0x76e)])(_0x65fc68)?_0x65fc68:_0x748a8d[_0x510e1f(0x565)];if((0x0,w[_0x510e1f(0x76e)])(_0x2eaa6a))try{await this['client'][_0x510e1f(0x698)](_0x2eaa6a);}catch{throw new $(_0x510e1f(0x288));}try{return await this['client'][_0x510e1f(0x190)](_0x2eaa6a),await this['client'][_0x510e1f(0x201)](_0x2d48f8[_0x510e1f(0x6d3)],_0x65fc68),{'status':0xc8,'presence':_0x2d48f8[_0x510e1f(0x6d3)]};}catch(_0x17aeda){throw new g(_0x17aeda[_0x510e1f(0x25a)]());}}async[a0_0x359adc(0x281)](_0x4156d4){const _0x5d8b24=a0_0x359adc;let _0x154ca7=this[_0x5d8b24(0x1c7)](_0x4156d4);try{return{'wuid':_0x154ca7,'profilePictureUrl':await this[_0x5d8b24(0x458)][_0x5d8b24(0x722)](_0x154ca7,'image')};}catch{return{'wuid':_0x154ca7,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x3413a0,_0x62947b,_0x11fd23){const _0x474a10=a0_0x359adc;let _0x94ef30=(await this[_0x474a10(0x74c)]({'numbers':[_0x3413a0]}))[0x0];if(!_0x94ef30['exists']&&!(0x0,w[_0x474a10(0x76e)])(_0x94ef30[_0x474a10(0x565)])&&!_0x94ef30[_0x474a10(0x565)][_0x474a10(0x3d6)]('@broadcast'))throw new g(_0x94ef30);let _0x138aab=_0x94ef30[_0x474a10(0x565)];try{_0x11fd23?.[_0x474a10(0x767)]&&(await this['client'][_0x474a10(0x190)](_0x138aab),await this[_0x474a10(0x458)][_0x474a10(0x201)](_0x11fd23?.[_0x474a10(0x6d3)]??_0x474a10(0x2d6),_0x138aab),await(0x0,w[_0x474a10(0x767)])(_0x11fd23['delay']),await this['client'][_0x474a10(0x201)]('paused',_0x138aab));let _0x44b08e=_0x11fd23?.[_0x474a10(0x633)]!=!0x1?void 0x0:!0x1,_0xb1bd3c;if(_0x11fd23?.[_0x474a10(0x67b)]){let _0x11e99b=_0x11fd23?.[_0x474a10(0x67b)],_0x407796=_0x11e99b?.[_0x474a10(0x671)]?_0x11e99b:await this[_0x474a10(0x401)](_0x11e99b['key'],!0x0);if(!_0x407796)throw _0x474a10(0x6d5);_0xb1bd3c=_0x407796;}let _0x5ca8c3;if((0x0,w[_0x474a10(0x76e)])(_0x138aab))try{let _0x3fc9ca=await this[_0x474a10(0x458)][_0x474a10(0x698)](_0x138aab);if(!_0x3fc9ca)throw new $(_0x474a10(0x288));_0x11fd23?.['mentions']&&(_0x11fd23[_0x474a10(0x2e3)]?.[_0x474a10(0x2fb)]?_0x5ca8c3=_0x3fc9ca[_0x474a10(0x635)][_0x474a10(0x4a3)](_0x59e1bb=>_0x59e1bb['id']):_0x11fd23[_0x474a10(0x2e3)]?.[_0x474a10(0x31f)]?.[_0x474a10(0x582)]&&(_0x5ca8c3=_0x11fd23[_0x474a10(0x2e3)][_0x474a10(0x31f)][_0x474a10(0x4a3)](_0x4ee404=>{const _0x1ef19f=_0x474a10;let _0x3309d3=this[_0x1ef19f(0x1c7)](_0x4ee404);return(0x0,w['isJidGroup'])(_0x3309d3)?null:_0x3309d3;})));}catch{throw new $(_0x474a10(0x288));}let _0x27510f=await((async()=>{const _0xc8564e=_0x474a10;let _0x294306={'quoted':_0xb1bd3c};if(!_0x62947b[_0xc8564e(0x248)]&&!_0x62947b[_0xc8564e(0x6d4)]&&!_0x62947b[_0xc8564e(0x250)]&&!_0x62947b[_0xc8564e(0x4ac)]&&_0x138aab!=='status@broadcast'&&!_0x62947b[_0xc8564e(0x248)])return await this[_0xc8564e(0x458)][_0xc8564e(0x460)](_0x138aab,{'forward':{'key':{'remoteJid':this['instance'][_0xc8564e(0x5a4)],'fromMe':!0x0},'message':_0x62947b},'mentions':_0x5ca8c3},_0x294306);if(_0x62947b[_0xc8564e(0x4ac)]){let _0x281688=_0x62947b[_0xc8564e(0x4ac)];return _0x11fd23?.[_0xc8564e(0x374)]&&(_0x281688=await this[_0xc8564e(0x5b2)](_0x281688,_0x138aab)),await this[_0xc8564e(0x458)][_0xc8564e(0x460)](_0x138aab,{'text':_0x281688,'mentions':_0x5ca8c3,'linkPreview':_0x44b08e},_0x294306);}return _0x138aab===_0xc8564e(0x3fc)?await this[_0xc8564e(0x458)][_0xc8564e(0x460)](_0x138aab,_0x62947b['status']['content'],{'backgroundColor':_0x62947b[_0xc8564e(0x595)][_0xc8564e(0x3f5)]['backgroundColor'],'font':_0x62947b[_0xc8564e(0x595)][_0xc8564e(0x3f5)][_0xc8564e(0x1a2)],'statusJidList':_0x62947b[_0xc8564e(0x595)][_0xc8564e(0x3f5)]['statusJidList']}):await this[_0xc8564e(0x458)][_0xc8564e(0x460)](_0x138aab,_0x62947b,_0x294306);})()),{message_normalized:_0x4d7716}=this[_0x474a10(0x305)](_0x27510f[_0x474a10(0x671)],_(_0x27510f['message']),null),_0xdfcd98={'_id':_0x27510f[_0x474a10(0x6f8)]['id'],'key':_0x27510f[_0x474a10(0x6f8)],'pushName':_0x27510f[_0x474a10(0x51c)],'message':{..._0x27510f[_0x474a10(0x671)]},'messageType':_(_0x27510f['message']),'message_normalized':{'key':_0x27510f[_0x474a10(0x6f8)],'pushName':_0x27510f[_0x474a10(0x51c)],'messageTimestamp':_0x27510f[_0x474a10(0x4fe)]&&_0x27510f[_0x474a10(0x4fe)][_0x474a10(0x25a)]()[_0x474a10(0x582)]<0xd?_0x27510f['messageTimestamp']*0x3e8:_0x27510f[_0x474a10(0x4fe)]||null,'source':(0x0,w[_0x474a10(0x707)])(_0x27510f[_0x474a10(0x6f8)]['id']),..._0x4d7716},'messageTimestamp':_0x27510f['messageTimestamp']&&_0x27510f[_0x474a10(0x4fe)][_0x474a10(0x25a)]()['length']<0xd?_0x27510f['messageTimestamp']*0x3e8:_0x27510f[_0x474a10(0x4fe)]||null,'owner':this[_0x474a10(0x3a4)][_0x474a10(0x5a4)],'source':(0x0,w[_0x474a10(0x707)])(_0x27510f['key']['id'])};return this[_0x474a10(0x577)][_0x474a10(0x219)](_0xdfcd98),this['sendDataWebhook'](_0x474a10(0x478),_0xdfcd98),q(this['instanceName'],_0x474a10(0x264),{'message':_0xdfcd98}),this[_0x474a10(0x195)](this[_0x474a10(0x2a1)][_0x474a10(0x43e)]('DATABASE'),_0xdfcd98,_0x474a10(0x21d)),await this[_0x474a10(0x638)][_0x474a10(0x671)][_0x474a10(0x44c)]([_0xdfcd98]),_0x27510f;}catch(_0x2a359f){throw this[_0x474a10(0x577)]['error'](this[_0x474a10(0x6c0)]+'\x20('+this['instance'][_0x474a10(0x5a4)]+'):\x20'+_0x2a359f['toString']()),new g(_0x2a359f[_0x474a10(0x25a)]());}}get['connectionStatus'](){return this['stateConnection'];}async[a0_0x359adc(0x424)](_0x2aadc6){const _0x16edbf=a0_0x359adc;let _0x5f1d85=this[_0x16edbf(0x2a1)][_0x16edbf(0x43e)](_0x16edbf(0x29e)),_0x220d8e=this[_0x16edbf(0x2a1)][_0x16edbf(0x43e)](_0x16edbf(0x373));return _0x220d8e&&this[_0x16edbf(0x6c0)][_0x16edbf(0x37e)]()[_0x16edbf(0x3d6)](_0x220d8e['toLowerCase']())&&(_0x2aadc6[_0x16edbf(0x424)][_0x16edbf(0x632)]+='\x0a\x0a'+_0x5f1d85),await this['sendMessageWithTyping'](_0x2aadc6[_0x16edbf(0x74a)],{'conversation':_0x2aadc6['textMessage'][_0x16edbf(0x632)]},_0x2aadc6?.[_0x16edbf(0x2ed)]);}async[a0_0x359adc(0x5c0)](_0x4fc444){const _0x13d4f0=a0_0x359adc;if(!_0x4fc444['type'])throw new g(_0x13d4f0(0x760));if(!_0x4fc444[_0x13d4f0(0x51b)])throw new g(_0x13d4f0(0x572));if(_0x4fc444[_0x13d4f0(0x193)]){let _0x1c0dd1=await this['repository'][_0x13d4f0(0x1b4)][_0x13d4f0(0x673)]({'where':{'owner':this['instance'][_0x13d4f0(0x5a4)]}});if(!_0x1c0dd1['length'])throw new g(_0x13d4f0(0x58d));_0x4fc444['statusJidList']=_0x1c0dd1[_0x13d4f0(0x694)](_0x324be9=>_0x324be9[_0x13d4f0(0x51c)])[_0x13d4f0(0x4a3)](_0x581fdc=>_0x581fdc[_0x13d4f0(0x2ec)]);}if(!_0x4fc444[_0x13d4f0(0x345)]?.['length']&&!_0x4fc444[_0x13d4f0(0x193)])throw new g(_0x13d4f0(0x357));if(_0x4fc444[_0x13d4f0(0x38c)]===_0x13d4f0(0x632)){if(!_0x4fc444['backgroundColor'])throw new g(_0x13d4f0(0x3cc));if(!_0x4fc444[_0x13d4f0(0x1a2)])throw new g(_0x13d4f0(0x1ca));return{'content':{'text':_0x4fc444['content']},'option':{'backgroundColor':_0x4fc444[_0x13d4f0(0x5a1)],'font':_0x4fc444[_0x13d4f0(0x1a2)],'statusJidList':_0x4fc444['statusJidList']}};}if(_0x4fc444[_0x13d4f0(0x38c)]===_0x13d4f0(0x4c4))return{'content':{'image':{'url':_0x4fc444[_0x13d4f0(0x51b)]},'caption':_0x4fc444[_0x13d4f0(0x197)]},'option':{'statusJidList':_0x4fc444['statusJidList']}};if(_0x4fc444[_0x13d4f0(0x38c)]===_0x13d4f0(0x244))return{'content':{'video':{'url':_0x4fc444['content']},'caption':_0x4fc444[_0x13d4f0(0x197)]},'option':{'statusJidList':_0x4fc444['statusJidList']}};if(_0x4fc444['type']===_0x13d4f0(0x248)){this['logger'][_0x13d4f0(0x4d2)](_0x13d4f0(0x2d9)),this[_0x13d4f0(0x577)][_0x13d4f0(0x4d2)](_0x13d4f0(0x484));let _0x3770cd=await this[_0x13d4f0(0x725)](_0x4fc444[_0x13d4f0(0x51b)]);if(typeof _0x3770cd==_0x13d4f0(0x1e5)){this[_0x13d4f0(0x577)][_0x13d4f0(0x4d2)](_0x13d4f0(0x1a4));let _0x1c8b98=x[_0x13d4f0(0x587)](_0x3770cd)[_0x13d4f0(0x25a)]('base64'),_0x3220b8={'content':{'audio':Buffer[_0x13d4f0(0x1ce)](_0x1c8b98,_0x13d4f0(0x683)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x4fc444[_0x13d4f0(0x345)]}};return x[_0x13d4f0(0x534)](_0x3770cd),_0x3220b8;}else throw new A(_0x3770cd);}throw new g(_0x13d4f0(0x5c2));}async[a0_0x359adc(0x2e4)](_0x106009){const _0x26664a=a0_0x359adc;return await this[_0x26664a(0x520)](_0x26664a(0x3fc),{'status':await this[_0x26664a(0x5c0)](_0x106009[_0x26664a(0x2e4)])});}async[a0_0x359adc(0x207)](_0x6ceac6){const _0x19b191=a0_0x359adc;try{let _0x4243d2=await(0x0,w['prepareWAMessageMedia'])({[_0x6ceac6['mediatype']]:(0x0,P[_0x19b191(0x48f)])(_0x6ceac6[_0x19b191(0x5e3)])?{'url':_0x6ceac6[_0x19b191(0x5e3)]}:Buffer['from'](_0x6ceac6[_0x19b191(0x5e3)],'base64')},{'upload':this[_0x19b191(0x458)][_0x19b191(0x428)]}),_0x280c93=_0x6ceac6[_0x19b191(0x235)]+_0x19b191(0x4f0);if(_0x6ceac6[_0x19b191(0x235)]==='document'&&!_0x6ceac6[_0x19b191(0x60d)]){let _0xfa3698=new RegExp(/.*\/(.+?)\./)[_0x19b191(0x32f)](_0x6ceac6[_0x19b191(0x5e3)]);_0x6ceac6[_0x19b191(0x60d)]=_0xfa3698?_0xfa3698[0x1]:null;}let _0x1bc879=(0x0,P['isURL'])(_0x6ceac6[_0x19b191(0x5e3)])?_0x6ceac6[_0x19b191(0x5e3)]['split']('?')[0x0]:_0x6ceac6[_0x19b191(0x5e3)];this[_0x19b191(0x577)]['verbose']('URL\x20limpa:\x20'+_0x1bc879);let _0x128203;_0x6ceac6['fileName']&&_0x6ceac6['fileName']['includes']('.')?_0x128203=(0x0,It['getMIMEType'])(_0x6ceac6[_0x19b191(0x60d)]):(0x0,P[_0x19b191(0x48f)])(_0x6ceac6[_0x19b191(0x5e3)])?_0x128203=(0x0,It[_0x19b191(0x436)])(_0x1bc879):_0x128203=(0x0,It['getMIMEType'])(_0x6ceac6[_0x19b191(0x5e3)]);let _0x422b37=this[_0x19b191(0x2a1)][_0x19b191(0x43e)](_0x19b191(0x29e)),_0xc0992b=this['configService']['get'](_0x19b191(0x373));return _0xc0992b&&this[_0x19b191(0x6c0)]['toLowerCase']()[_0x19b191(0x3d6)](_0xc0992b[_0x19b191(0x37e)]())&&(_0x6ceac6[_0x19b191(0x197)]+='\x0a\x0a'+_0x422b37),_0x4243d2[_0x280c93][_0x19b191(0x197)]=_0x6ceac6?.[_0x19b191(0x197)],_0x4243d2[_0x280c93][_0x19b191(0x516)]=_0x128203,_0x4243d2[_0x280c93][_0x19b191(0x60d)]=_0x6ceac6['fileName'],_0x6ceac6[_0x19b191(0x235)]===_0x19b191(0x244)&&(_0x4243d2[_0x280c93][_0x19b191(0x48b)]=Uint8Array[_0x19b191(0x1ce)]((0x0,Me[_0x19b191(0x587)])((0x0,k[_0x19b191(0x641)])(process['cwd'](),_0x19b191(0x4f6)))),_0x4243d2[_0x280c93][_0x19b191(0x2f4)]=!0x1),(0x0,w[_0x19b191(0x618)])('',{[_0x280c93]:{..._0x4243d2[_0x280c93]}},{'userJid':this[_0x19b191(0x3a4)][_0x19b191(0x5a4)]});}catch(_0x1c2caf){throw this['logger'][_0x19b191(0x252)](this[_0x19b191(0x6c0)]+'\x20('+this[_0x19b191(0x3a4)][_0x19b191(0x5a4)]+'):\x20'+JSON[_0x19b191(0x493)](_0x1c2caf,null,0x2)),new A(_0x1c2caf?.[_0x19b191(0x25a)]()||_0x1c2caf);}}async['mediaMessage'](_0x4655b6){const _0x4d0c01=a0_0x359adc;let _0x274b30=await this[_0x4d0c01(0x207)](_0x4655b6[_0x4d0c01(0x2a7)]);return await this['sendMessageWithTyping'](_0x4655b6[_0x4d0c01(0x74a)],{..._0x274b30['message']},_0x4655b6?.[_0x4d0c01(0x2ed)]);}async[a0_0x359adc(0x45d)](_0x227baf,_0x2e9329){const _0x89156e=a0_0x359adc;try{this['logger'][_0x89156e(0x4d2)](_0x89156e(0x29d));let _0xd72095,_0x254474=_0x2e9329+'-'+new Date()[_0x89156e(0x56f)]();this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x73a)+_0x254474);let _0x4be321=''+(0x0,k[_0x89156e(0x641)])(this[_0x89156e(0x626)],_0x254474+'.webp');if(this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x71e)+_0x4be321),(0x0,P[_0x89156e(0x411)])(_0x227baf)){this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x684));let _0x3150c8=_0x227baf[_0x89156e(0x37f)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xdea4a2=Buffer['from'](_0x3150c8,_0x89156e(0x683));_0xd72095=''+(0x0,k[_0x89156e(0x641)])(this[_0x89156e(0x626)],'temp-'+_0x254474+_0x89156e(0x4eb)),this['logger']['verbose'](_0x89156e(0x73f)+_0xd72095),await(0x0,Dt[_0x89156e(0x4d6)])(_0xdea4a2)[_0x89156e(0x33c)](_0xd72095),this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x273));}else{this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x49a));let _0x36595c=new Date()[_0x89156e(0x56f)](),_0x3bc667=_0x227baf+_0x89156e(0x363)+_0x36595c;this['logger']['verbose'](_0x89156e(0x225)+_0x3bc667);let _0x21d8b4=await ce[_0x89156e(0x4d6)][_0x89156e(0x43e)](_0x3bc667,{'responseType':'arraybuffer'});this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x24f));let _0x21335d=Buffer[_0x89156e(0x1ce)](_0x21d8b4[_0x89156e(0x228)],_0x89156e(0x2e9));_0xd72095=''+(0x0,k[_0x89156e(0x641)])(this[_0x89156e(0x626)],_0x89156e(0x2bf)+_0x254474+_0x89156e(0x4eb)),this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x73f)+_0xd72095),await(0x0,Dt[_0x89156e(0x4d6)])(_0x21335d)[_0x89156e(0x33c)](_0xd72095),this[_0x89156e(0x577)][_0x89156e(0x4d2)]('Image\x20created');}return await(0x0,Dt[_0x89156e(0x4d6)])(_0xd72095)[_0x89156e(0x64e)]()[_0x89156e(0x33c)](_0x4be321),this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x5d3)),x[_0x89156e(0x534)](_0xd72095),this[_0x89156e(0x577)][_0x89156e(0x4d2)](_0x89156e(0x481)),_0x4be321;}catch(_0x3b3c81){console[_0x89156e(0x252)](_0x89156e(0x47f),JSON[_0x89156e(0x493)](_0x3b3c81,null,0x2));}}async[a0_0x359adc(0x442)](_0x3eaec2){const _0xe08b09=a0_0x359adc;let _0x232729=await this[_0xe08b09(0x45d)](_0x3eaec2[_0xe08b09(0x29f)][_0xe08b09(0x4c4)],_0x3eaec2['number']),_0x31d321=await this[_0xe08b09(0x520)](_0x3eaec2[_0xe08b09(0x74a)],{'sticker':{'url':_0x232729}},_0x3eaec2?.[_0xe08b09(0x2ed)]);return x[_0xe08b09(0x534)](_0x232729),this[_0xe08b09(0x577)][_0xe08b09(0x4d2)](_0xe08b09(0x56b)),_0x31d321;}async[a0_0x359adc(0x658)](_0xd6267e){const _0x993039=a0_0x359adc;if(this[_0x993039(0x577)][_0x993039(0x4d2)](_0x993039(0x5dd)),!_0xd6267e[_0x993039(0x2ed)]?.['encoding']&&_0xd6267e['options']?.[_0x993039(0x6a3)]!==!0x1&&(_0xd6267e['options'][_0x993039(0x6a3)]=!0x0),_0xd6267e[_0x993039(0x2ed)]?.[_0x993039(0x6a3)]){let _0x377036=await this[_0x993039(0x725)](_0xd6267e['audioMessage'][_0x993039(0x248)]);if(typeof _0x377036==_0x993039(0x1e5)){let _0x3ae67e=x['readFileSync'](_0x377036)[_0x993039(0x25a)](_0x993039(0x683)),_0x138071=this[_0x993039(0x520)](_0xd6267e[_0x993039(0x74a)],{'audio':Buffer[_0x993039(0x1ce)](_0x3ae67e,_0x993039(0x683)),'ptt':!0x0,'mimetype':_0x993039(0x249)},{'presence':_0x993039(0x5f9),'delay':_0xd6267e?.['options']?.[_0x993039(0x767)]});return x[_0x993039(0x534)](_0x377036),this[_0x993039(0x577)]['verbose'](_0x993039(0x612)),_0x138071;}else throw new A(_0x377036);}return await this[_0x993039(0x520)](_0xd6267e[_0x993039(0x74a)],{'audio':(0x0,P[_0x993039(0x48f)])(_0xd6267e[_0x993039(0x708)][_0x993039(0x248)])?{'url':_0xd6267e['audioMessage'][_0x993039(0x248)]}:Buffer['from'](_0xd6267e['audioMessage']['audio'],'base64'),'ptt':!0x0,'mimetype':_0x993039(0x32b)},{'presence':_0x993039(0x5f9),'delay':_0xd6267e?.[_0x993039(0x2ed)]?.[_0x993039(0x767)]});}async[a0_0x359adc(0x725)](_0x465696){const _0x529e94=a0_0x359adc;this[_0x529e94(0x577)][_0x529e94(0x4d2)]('Processing\x20audio');let _0x4028a2,_0x36da28,_0x36c9cd=(0x0,Ot['v4'])();if(this[_0x529e94(0x577)][_0x529e94(0x4d2)](_0x529e94(0x293)+_0x36c9cd),(0x0,P[_0x529e94(0x48f)])(_0x465696)){this[_0x529e94(0x577)][_0x529e94(0x4d2)](_0x529e94(0x3e1)),_0x36da28=''+(0x0,k[_0x529e94(0x641)])(this[_0x529e94(0x626)],_0x36c9cd+_0x529e94(0x2ad)),_0x4028a2=''+(0x0,k[_0x529e94(0x641)])(this['storePath'],_0x529e94(0x2bf)+_0x36c9cd+_0x529e94(0x26f)),this[_0x529e94(0x577)]['verbose'](_0x529e94(0x4cb)+_0x36da28),this[_0x529e94(0x577)]['verbose'](_0x529e94(0x1a1)+_0x4028a2);let _0x1a8b4a=new Date()[_0x529e94(0x56f)](),_0x30576e=_0x465696+'?timestamp='+_0x1a8b4a;this['logger'][_0x529e94(0x4d2)]('Including\x20timestamp\x20in\x20url:\x20'+_0x30576e);let _0x21dfc2=await ce[_0x529e94(0x4d6)]['get'](_0x30576e,{'responseType':_0x529e94(0x6b9)});this[_0x529e94(0x577)][_0x529e94(0x4d2)](_0x529e94(0x646)),x[_0x529e94(0x2cb)](_0x4028a2,_0x21dfc2[_0x529e94(0x228)]);}else{this[_0x529e94(0x577)]['verbose']('Audio\x20is\x20base64'),_0x36da28=''+(0x0,k['join'])(this[_0x529e94(0x626)],_0x36c9cd+_0x529e94(0x2ad)),_0x4028a2=''+(0x0,k[_0x529e94(0x641)])(this[_0x529e94(0x626)],_0x529e94(0x2bf)+_0x36c9cd+_0x529e94(0x26f)),this[_0x529e94(0x577)]['verbose'](_0x529e94(0x4cb)+_0x36da28),this['logger'][_0x529e94(0x4d2)](_0x529e94(0x1a1)+_0x4028a2);let _0x105532=Buffer[_0x529e94(0x1ce)](_0x465696,_0x529e94(0x683));x[_0x529e94(0x2cb)](_0x4028a2,_0x105532),this[_0x529e94(0x577)]['verbose'](_0x529e94(0x2d4));}return this[_0x529e94(0x577)][_0x529e94(0x4d2)](_0x529e94(0x5c1)),new Promise((_0x48c8ad,_0x299f6e)=>{const _0x23b31b=_0x529e94;(0x0,_t[_0x23b31b(0x32f)])(ti[_0x23b31b(0x4d6)]['path']+_0x23b31b(0x25b)+_0x4028a2+_0x23b31b(0x674)+_0x36da28+'\x20-y',_0x3fcb81=>{const _0x429cf9=_0x23b31b;x[_0x429cf9(0x534)](_0x4028a2),this[_0x429cf9(0x577)][_0x429cf9(0x4d2)](_0x429cf9(0x6be)),_0x3fcb81&&_0x299f6e(_0x3fcb81),this[_0x429cf9(0x577)][_0x429cf9(0x4d2)]('Audio\x20converted\x20to\x20mp4'),_0x48c8ad(_0x36da28);});});}async[a0_0x359adc(0x542)](_0x23b0ab){const _0x59855a=a0_0x359adc;let _0x545d57={},_0x5f259c=_0x59855a(0x2de);if(_0x23b0ab['buttonMessage']?.[_0x59855a(0x2a7)]){_0x5f259c=_0x23b0ab[_0x59855a(0x542)][_0x59855a(0x2a7)]?.[_0x59855a(0x235)][_0x59855a(0x1f5)]()??'TEXT',_0x545d57[_0x59855a(0x1a3)]=_0x5f259c[_0x59855a(0x37e)]()+_0x59855a(0x4f0);let _0x588c3f=await this[_0x59855a(0x207)](_0x23b0ab['buttonMessage'][_0x59855a(0x2a7)]);_0x545d57[_0x59855a(0x671)]=_0x588c3f['message'][_0x545d57['mediaKey']],_0x545d57['contentText']='*'+_0x23b0ab[_0x59855a(0x542)][_0x59855a(0x3e9)]+'*\x0a\x0a'+_0x23b0ab[_0x59855a(0x542)]['description'];}let _0x4f0f12={'text':_0x23b0ab[_0x59855a(0x542)][_0x59855a(0x182)][_0x59855a(0x4a3)](_0x57838a=>_0x57838a[_0x59855a(0x6a6)]),'ids':_0x23b0ab['buttonMessage'][_0x59855a(0x182)][_0x59855a(0x4a3)](_0x3adede=>_0x3adede[_0x59855a(0x42a)])};if(!(0x0,P['arrayUnique'])(_0x4f0f12[_0x59855a(0x632)])||!(0x0,P[_0x59855a(0x740)])(_0x4f0f12['ids']))throw new g(_0x59855a(0x5bb),_0x59855a(0x331));return await this[_0x59855a(0x520)](_0x23b0ab['number'],{'buttonsMessage':{'text':_0x545d57?.[_0x59855a(0x1a3)]?void 0x0:_0x23b0ab[_0x59855a(0x542)][_0x59855a(0x3e9)],'contentText':_0x545d57?.[_0x59855a(0x1c0)]??_0x23b0ab[_0x59855a(0x542)][_0x59855a(0x4bb)],'footerText':_0x23b0ab[_0x59855a(0x542)]?.[_0x59855a(0x65c)],'buttons':_0x23b0ab[_0x59855a(0x542)][_0x59855a(0x182)][_0x59855a(0x4a3)](_0x38ce4d=>({'buttonText':{'displayText':_0x38ce4d[_0x59855a(0x6a6)]},'buttonId':_0x38ce4d['buttonId'],'type':0x1})),'headerType':w['proto'][_0x59855a(0x4f0)]['ButtonsMessage'][_0x59855a(0x462)][_0x5f259c],[_0x545d57?.['mediaKey']]:_0x545d57?.[_0x59855a(0x671)]}},_0x23b0ab?.[_0x59855a(0x2ed)]);}async[a0_0x359adc(0x500)](_0x25b822){const _0x133c0b=a0_0x359adc;return await this[_0x133c0b(0x520)](_0x25b822['number'],{'locationMessage':{'degreesLatitude':_0x25b822[_0x133c0b(0x500)][_0x133c0b(0x43f)],'degreesLongitude':_0x25b822['locationMessage'][_0x133c0b(0x205)],'name':_0x25b822[_0x133c0b(0x500)]?.[_0x133c0b(0x613)],'address':_0x25b822[_0x133c0b(0x500)]?.[_0x133c0b(0x359)]}},_0x25b822?.['options']);}async['contactMessage'](_0x122290){const _0x451343=a0_0x359adc;let _0x5ef0b9={},_0x3d7c39=_0x5be8d7=>{const _0x580921=a0_0x2b70;let _0x58cc67=_0x580921(0x55e)+_0x5be8d7[_0x580921(0x5e1)]+'\x0aFN:'+_0x5be8d7[_0x580921(0x5e1)]+'\x0a';_0x5be8d7['organization']&&(_0x58cc67+=_0x580921(0x4e0)+_0x5be8d7[_0x580921(0x477)]+';\x0a'),_0x5be8d7[_0x580921(0x2d2)]&&(_0x58cc67+=_0x580921(0x5cf)+_0x5be8d7[_0x580921(0x2d2)]+'\x0a'),_0x5be8d7[_0x580921(0x65b)]&&(_0x58cc67+='URL:'+_0x5be8d7[_0x580921(0x65b)]+'\x0a');let _0x3c77bd='';return _0x5be8d7[_0x580921(0x3a3)]&&_0x5be8d7[_0x580921(0x3a3)]['split']('|')[_0x580921(0x4a9)]((_0x195d0a,_0x150a4d)=>{const _0x150cf4=_0x580921;let _0x18cada=this[_0x150cf4(0x1c7)](_0x195d0a)[_0x150cf4(0x37f)](_0x150cf4(0x37c),'');_0x3c77bd+=_0x150cf4(0x3e3)+(_0x150a4d+0x1)+_0x150cf4(0x276)+_0x18cada+':'+_0x195d0a+_0x150cf4(0x2f5)+(_0x150a4d+0x1)+_0x150cf4(0x579);}),_0x58cc67+=_0x3c77bd+'END:VCARD',_0x58cc67;};return _0x122290[_0x451343(0x254)]['length']===0x1?_0x5ef0b9['contactMessage']={'displayName':_0x122290[_0x451343(0x254)][0x0][_0x451343(0x5e1)],'vcard':_0x3d7c39(_0x122290['contactMessage'][0x0])}:_0x5ef0b9[_0x451343(0x258)]={'displayName':_0x122290[_0x451343(0x254)]['length']+_0x451343(0x1a9),'contacts':_0x122290[_0x451343(0x254)][_0x451343(0x4a3)](_0x160f38=>({'displayName':_0x160f38[_0x451343(0x5e1)],'vcard':_0x3d7c39(_0x160f38)}))},await this[_0x451343(0x520)](_0x122290['number'],{..._0x5ef0b9},_0x122290?.[_0x451343(0x2ed)]);}async[a0_0x359adc(0x5e4)](_0xf10d98){const _0x45957b=a0_0x359adc;return await this['sendMessageWithTyping'](_0xf10d98[_0x45957b(0x5e4)][_0x45957b(0x6f8)][_0x45957b(0x340)],{'reactionMessage':{'key':_0xf10d98[_0x45957b(0x5e4)][_0x45957b(0x6f8)],'text':_0xf10d98[_0x45957b(0x5e4)][_0x45957b(0x60c)]}});}async[a0_0x359adc(0x74c)](_0x3167f6){const _0x38ff1f=a0_0x359adc;let _0x59fd0d=[];for await(let _0x98cbd4 of _0x3167f6['numbers']){let _0x4efb88=this[_0x38ff1f(0x1c7)](_0x98cbd4);if((0x0,w['isJidGroup'])(_0x4efb88)){let _0x109dbb=await this[_0x38ff1f(0x636)]({'groupJid':_0x4efb88},_0x38ff1f(0x76f));_0x59fd0d[_0x38ff1f(0x41c)](new fe(_0x109dbb[_0x38ff1f(0x64c)]['id'],!!_0x109dbb?.[_0x38ff1f(0x64c)]['id'],_0x109dbb?.[_0x38ff1f(0x64c)]['subject']));}else try{let _0x8b25e8=(await this[_0x38ff1f(0x458)][_0x38ff1f(0x536)](_0x4efb88))[0x0];_0x59fd0d[_0x38ff1f(0x41c)](new fe(_0x8b25e8[_0x38ff1f(0x565)],_0x8b25e8['exists']));}catch{_0x59fd0d['push'](new fe(_0x98cbd4,!0x1));}}return _0x59fd0d;}async[a0_0x359adc(0x389)](_0x554916){const _0xa19a03=a0_0x359adc;try{let _0x37e051=_0x554916[_0xa19a03(0x629)][_0xa19a03(0x694)](_0xc1ac6e=>(0x0,w[_0xa19a03(0x76e)])(_0xc1ac6e[_0xa19a03(0x340)])||(0x0,w[_0xa19a03(0x50a)])(_0xc1ac6e['remoteJid']))[_0xa19a03(0x4a3)](_0x52e910=>({'remoteJid':_0x52e910[_0xa19a03(0x340)],'fromMe':_0x52e910[_0xa19a03(0x6c1)],'id':_0x52e910['id']}));await this['client'][_0xa19a03(0x629)](_0x37e051);let _0x4d4326=_0x37e051[_0xa19a03(0x4a3)](_0xf4df47=>this[_0xa19a03(0x49d)](_0xf4df47,_0xf4df47[_0xa19a03(0x340)],{'status':_0xa19a03(0x395),'owner':this[_0xa19a03(0x3a4)]['wuid']})),_0x3e81a6=_0x37e051[_0xa19a03(0x4a3)](_0x3eaf02=>this['repository'][_0xa19a03(0x39d)][_0xa19a03(0x213)]({'where':{'_id':_0x3eaf02['remoteJid'],'owner':this['instance']['wuid']}},{'unreadcount':0x0})),[_0xc58e0c,_0x5c72e9]=await Promise['all']([Promise[_0xa19a03(0x34a)](_0x4d4326),Promise[_0xa19a03(0x34a)](_0x3e81a6)]);return _0x5c72e9['filter'](_0x6923e1=>_0x6923e1!==null)[_0xa19a03(0x4a9)](_0x5e31bf=>{const _0x2d4990=_0xa19a03;q(this[_0x2d4990(0x6c0)],_0x2d4990(0x5da),{'chat':_0x5e31bf});}),{'message':_0xa19a03(0x3df),'read':_0xa19a03(0x22c)};}catch(_0x52ce69){throw console['error']('Error\x20in\x20markMessageAsRead:',_0x52ce69),new A('Read\x20messages\x20fail',_0x52ce69['toString']());}}async[a0_0x359adc(0x52d)](_0x276e5d){const _0x58f238=a0_0x359adc;let _0x273722=await this[_0x58f238(0x50d)]({'where':{'key':{'remoteJid':_0x276e5d},'owner':this[_0x58f238(0x3a4)][_0x58f238(0x613)]}}),_0x3478eb=_0x273722['pop']();for(let _0x347f94 of _0x273722)_0x347f94[_0x58f238(0x4fe)]>=_0x3478eb[_0x58f238(0x4fe)]&&(_0x3478eb=_0x347f94);return _0x3478eb;}async['archiveChat'](_0x3b5aec){const _0x55cc21=a0_0x359adc;this[_0x55cc21(0x577)][_0x55cc21(0x4d2)]('Archiving\x20chat');try{let _0x27002a=_0x3b5aec[_0x55cc21(0x690)],_0x5b8123=_0x3b5aec['chat'];if(!_0x27002a&&_0x5b8123?_0x27002a=await this[_0x55cc21(0x52d)](_0x5b8123):(_0x27002a=_0x3b5aec[_0x55cc21(0x690)],_0x27002a[_0x55cc21(0x4fe)]=_0x27002a?.[_0x55cc21(0x4fe)]??Date[_0x55cc21(0x644)](),_0x5b8123=_0x27002a?.[_0x55cc21(0x6f8)]?.[_0x55cc21(0x340)]),!_0x27002a||Object['keys'](_0x27002a)[_0x55cc21(0x582)]===0x0)throw new $(_0x55cc21(0x28a));await this[_0x55cc21(0x458)][_0x55cc21(0x6a2)]({'archive':_0x3b5aec['archive'],'lastMessages':[_0x27002a]},this[_0x55cc21(0x1c7)](_0x5b8123));let _0xb96e33=await this[_0x55cc21(0x638)]['chat'][_0x55cc21(0x213)]({'where':{'_id':_0x27002a?.['key']?.['remoteJid'],'owner':this['instance']['wuid']}},{'archived':_0x3b5aec[_0x55cc21(0x4b6)]});return _0xb96e33&&q(this[_0x55cc21(0x6c0)],'chats',{'chat':_0xb96e33}),{'chatId':_0x5b8123,'archived':_0x3b5aec[_0x55cc21(0x4b6)]};}catch(_0x3e9810){throw new A({'archived':!0x1,'message':[_0x55cc21(0x567),_0x3e9810[_0x55cc21(0x25a)]()]});}}async['deleteMessage'](_0xf11863){const _0x5b0804=a0_0x359adc;try{let _0x315aef=await this[_0x5b0804(0x458)][_0x5b0804(0x460)](_0xf11863[_0x5b0804(0x340)],{'delete':_0xf11863});try{let _0x112e7e=await this[_0x5b0804(0x49d)](_0xf11863,_0xf11863[_0x5b0804(0x340)],{'status':_0x5b0804(0x531),'owner':this[_0x5b0804(0x3a4)][_0x5b0804(0x5a4)]});this[_0x5b0804(0x577)][_0x5b0804(0x4d2)](this[_0x5b0804(0x6c0)]+'\x20('+this[_0x5b0804(0x3a4)]['wuid']+'):\x20updateResult:'+_0x112e7e);}catch(_0x1bc77f){console[_0x5b0804(0x252)](_0x5b0804(0x2c7),_0x1bc77f);}return _0x315aef;}catch(_0x391b3f){throw new A(_0x5b0804(0x1aa),_0x391b3f?.[_0x5b0804(0x25a)]());}}async[a0_0x359adc(0x1b7)](_0x582b2b){const _0x5d8e94=a0_0x359adc;try{let _0x103d44=_0x582b2b?.[_0x5d8e94(0x671)]?_0x582b2b:await this[_0x5d8e94(0x401)](_0x582b2b[_0x5d8e94(0x6f8)],!0x0);for(let _0x3dd4ba of Xs)_0x103d44['message'][_0x3dd4ba]&&(_0x103d44[_0x5d8e94(0x671)]=_0x103d44['message'][_0x3dd4ba]['message']);let _0x183c31,_0x147f02;for(let _0x439ebc of Ys)if(_0x183c31=_0x103d44[_0x5d8e94(0x671)][_0x439ebc],_0x183c31){_0x147f02=_0x439ebc;break;}if(!_0x183c31)throw _0x5d8e94(0x45e);typeof _0x183c31['mediaKey']==_0x5d8e94(0x43d)&&(_0x103d44[_0x5d8e94(0x671)]=JSON['parse'](JSON[_0x5d8e94(0x493)](_0x103d44[_0x5d8e94(0x671)])));let _0x4772e8=await(0x0,w[_0x5d8e94(0x617)])({'key':_0x103d44?.[_0x5d8e94(0x6f8)],'message':_0x103d44?.['message']},_0x5d8e94(0x5f4),{},{'logger':(0x0,At[_0x5d8e94(0x4d6)])({'level':_0x5d8e94(0x252)}),'reuploadRequest':this[_0x5d8e94(0x458)]['updateMediaMessage']});if(!(_0x4772e8 instanceof Buffer))throw new Error(_0x5d8e94(0x2e0));let _0x18d646=this['configService'][_0x5d8e94(0x43e)](_0x5d8e94(0x4a4)),_0x200f48,_0x5ae450;if(_0x183c31['fileName'])_0x200f48=_0x183c31['fileName'];else{let _0x42dde8=_0x183c31[_0x5d8e94(0x516)]?.[_0x5d8e94(0x247)](/\/(\w+)/),_0x22bdaf=_0x42dde8?_0x42dde8[0x1]:null;if(!_0x22bdaf)throw new Error(_0x5d8e94(0x688));_0x200f48=(0x0,Ot['v4'])()+'.'+_0x22bdaf;}_0x147f02==='audioMessage'&&_0x183c31[_0x5d8e94(0x516)]===_0x5d8e94(0x34b)?(_0x200f48=(0x0,Ot['v4'])()+_0x5d8e94(0x1b1),_0x5ae450=_0x5d8e94(0x6b6)+await this[_0x5d8e94(0x725)](_0x4772e8['toString'](_0x5d8e94(0x683)))):(await this[_0x5d8e94(0x3c5)](_0x4772e8,_0x200f48),_0x5ae450=_0x5d8e94(0x6b6)+_0x200f48);let _0x59e37d=this[_0x5d8e94(0x2a1)]['get'](_0x5d8e94(0x6c2)),_0x10f9e9=this['configService'][_0x5d8e94(0x43e)](_0x5d8e94(0x603))[_0x5d8e94(0x74d)],_0x1e7737=_0x59e37d&&_0x59e37d[_0x5d8e94(0x1ae)][_0x5d8e94(0x655)]('/')[0x4];_0x10f9e9===0x1bb&&(_0x5ae450=''+(_0x5d8e94(0x558)+_0x1e7737)+_0x5ae450);let _0x5607e0=0xc*0x3c*0x3c*0x3e8,_0x43af2c={'where':{'_id':_0x103d44['key']['id'],'owner':this[_0x5d8e94(0x3a4)]['wuid']}};_0x103d44[_0x5d8e94(0x6f8)][_0x5d8e94(0x340)][_0x5d8e94(0x6c5)]('@g.us')&&(_0x43af2c['where'][_0x5d8e94(0x6f8)][_0x5d8e94(0x25c)]=_0x103d44['key'][_0x5d8e94(0x25c)]);let _0xc00997={'message_normalized.fileUrl':_0x5ae450,'message_normalized.expires_fileUrl':Date['now']()+_0x5607e0};try{let _0x4d3ed1=await this[_0x5d8e94(0x638)][_0x5d8e94(0x671)][_0x5d8e94(0x57c)](_0x43af2c,_0xc00997);_0x4d3ed1&&q(this['instanceName'],_0x5d8e94(0x264),{'message':_0x4d3ed1});}catch{}return{'mediaType':_0x147f02,'fileName':_0x183c31[_0x5d8e94(0x60d)],'caption':_0x183c31[_0x5d8e94(0x197)],'size':{'fileLength':_0x183c31['fileLength'],'height':_0x183c31[_0x5d8e94(0x75c)],'width':_0x183c31[_0x5d8e94(0x6e6)]},'mimetype':_0x183c31['mimetype'],'base64':_0x4772e8[_0x5d8e94(0x25a)](_0x5d8e94(0x683)),'fileUrl':_0x5ae450,'expires_fileUrl':Date[_0x5d8e94(0x644)]()+_0x5607e0};}catch(_0x12aeb0){throw this[_0x5d8e94(0x577)][_0x5d8e94(0x252)](this[_0x5d8e94(0x6c0)]+'\x20('+this[_0x5d8e94(0x3a4)][_0x5d8e94(0x5a4)]+_0x5d8e94(0x61c)+JSON[_0x5d8e94(0x493)](_0x12aeb0,null,0x2)),new g(_0x12aeb0[_0x5d8e94(0x25a)]());}}async[a0_0x359adc(0x3c5)](_0x3689fb,_0xcb9b93){const _0x3919e4=a0_0x359adc;console[_0x3919e4(0x219)](_0x3919e4(0x63e),__dirname),console[_0x3919e4(0x219)]('Original\x20filename:',_0xcb9b93);let _0x118286=k[_0x3919e4(0x4d6)][_0x3919e4(0x641)](__dirname,_0x3919e4(0x3b0));console[_0x3919e4(0x219)](_0x3919e4(0x596),_0x118286),x[_0x3919e4(0x38e)](_0x118286)||(this[_0x3919e4(0x577)][_0x3919e4(0x219)]('Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...'),x['mkdirSync'](_0x118286,{'recursive':!0x0}));let _0x2cfb97=k[_0x3919e4(0x4d6)][_0x3919e4(0x641)](_0x118286,_0xcb9b93);return console[_0x3919e4(0x219)](_0x3919e4(0x3c3),_0x2cfb97),new Promise((_0x24fd86,_0x372db6)=>{const _0x3e65a8=_0x3919e4;x[_0x3e65a8(0x27e)](_0x2cfb97,_0x3689fb,_0xac3e50=>{const _0x130884=_0x3e65a8;_0xac3e50?(this[_0x130884(0x577)][_0x130884(0x252)](_0x130884(0x21e)+JSON[_0x130884(0x493)](_0xac3e50,null,0x2)),_0x372db6(_0xac3e50)):(this['logger'][_0x130884(0x219)](_0x130884(0x761)+_0x2cfb97),_0x24fd86(_0x2cfb97));});});}async[a0_0x359adc(0x304)](_0x7f587f){const _0xded516=a0_0x359adc;return _0x7f587f?.[_0xded516(0x504)]?_0x7f587f[_0xded516(0x504)][_0xded516(0x72e)]=this[_0xded516(0x3a4)][_0xded516(0x5a4)]:_0x7f587f={'where':{'owner':this[_0xded516(0x3a4)][_0xded516(0x5a4)]}},await this[_0xded516(0x638)][_0xded516(0x1b4)][_0xded516(0x673)](_0x7f587f);}async[a0_0x359adc(0x50d)](_0x19a4af){const _0x585cd2=a0_0x359adc;return _0x19a4af?.[_0x585cd2(0x504)]?_0x19a4af[_0x585cd2(0x504)]['owner']=this[_0x585cd2(0x3a4)]['wuid']:_0x19a4af={'where':{'owner':this[_0x585cd2(0x3a4)][_0x585cd2(0x5a4)]},'limit':_0x19a4af?.[_0x585cd2(0x355)]},await this[_0x585cd2(0x638)][_0x585cd2(0x671)][_0x585cd2(0x673)](_0x19a4af);}async['fetchChats'](){const _0x25b887=a0_0x359adc;let _0x12d179=[{'query':{'where':{'owner':this[_0x25b887(0x3a4)][_0x25b887(0x5a4)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this['instance']['wuid'],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this['repository'][_0x25b887(0x39d)][_0x25b887(0x271)](_0x12d179),await this[_0x25b887(0x638)]['chat']['find']({'where':{'owner':this[_0x25b887(0x3a4)][_0x25b887(0x5a4)]}});}async[a0_0x359adc(0x650)](){const _0x36f707=a0_0x359adc;return await this[_0x36f707(0x458)][_0x36f707(0x650)]();}async[a0_0x359adc(0x611)](_0x1d8529){const _0x21d753=a0_0x359adc;try{return await this[_0x21d753(0x458)][_0x21d753(0x6bd)](_0x1d8529[_0x21d753(0x711)][_0x21d753(0x369)]),await this[_0x21d753(0x458)]['updateProfilePicturePrivacy'](_0x1d8529[_0x21d753(0x711)][_0x21d753(0x63a)]),await this[_0x21d753(0x458)]['updateStatusPrivacy'](_0x1d8529[_0x21d753(0x711)][_0x21d753(0x595)]),await this[_0x21d753(0x458)][_0x21d753(0x1e7)](_0x1d8529[_0x21d753(0x711)][_0x21d753(0x599)]),await this[_0x21d753(0x458)][_0x21d753(0x208)](_0x1d8529[_0x21d753(0x711)][_0x21d753(0x5de)]),await this[_0x21d753(0x458)]['updateGroupsAddPrivacy'](_0x1d8529[_0x21d753(0x711)][_0x21d753(0x391)]),this[_0x21d753(0x458)]?.['ws']?.[_0x21d753(0x68a)](),{'update':'success','data':{'readreceipts':_0x1d8529['privacySettings'][_0x21d753(0x369)],'profile':_0x1d8529[_0x21d753(0x711)]['profile'],'status':_0x1d8529[_0x21d753(0x711)][_0x21d753(0x595)],'online':_0x1d8529[_0x21d753(0x711)][_0x21d753(0x599)],'last':_0x1d8529[_0x21d753(0x711)][_0x21d753(0x5de)],'groupadd':_0x1d8529[_0x21d753(0x711)][_0x21d753(0x391)]}};}catch(_0xf98bbe){throw new A(_0x21d753(0x3b9),_0xf98bbe[_0x21d753(0x25a)]());}}async['fetchProfile2'](_0x1bbd11){const _0x378cc4=a0_0x359adc;let _0x49d84d=_0x1bbd11?this['createJid'](_0x1bbd11):this[_0x378cc4(0x458)]?.['user']?.['id'];this[_0x378cc4(0x577)][_0x378cc4(0x4d2)](_0x378cc4(0x348)+_0x49d84d);try{if(this[_0x378cc4(0x577)][_0x378cc4(0x4d2)]('Getting\x20profile\x20info'),_0x1bbd11){let _0x54a9ee=(await this['whatsappNumber']({'numbers':[_0x49d84d]}))?.[_0x378cc4(0x2fa)](),_0x480a9=await this[_0x378cc4(0x281)](_0x54a9ee?.[_0x378cc4(0x565)]),_0x175839=await this['getStatus'](_0x54a9ee?.['jid']),_0x31d936=await this[_0x378cc4(0x58e)](_0x54a9ee?.[_0x378cc4(0x565)]);return{'wuid':_0x54a9ee?.[_0x378cc4(0x565)]||_0x49d84d,'name':_0x54a9ee?.['name'],'numberExists':_0x54a9ee?.[_0x378cc4(0x425)],'picture':_0x480a9?.[_0x378cc4(0x722)],'status':_0x175839?.[_0x378cc4(0x595)],'isBusiness':_0x31d936[_0x378cc4(0x513)],'email':_0x31d936?.[_0x378cc4(0x2d2)],'description':_0x31d936?.[_0x378cc4(0x4bb)],'website':_0x31d936?.[_0x378cc4(0x602)]?.[_0x378cc4(0x2fa)]()};}}catch{return this[_0x378cc4(0x577)][_0x378cc4(0x4d2)](_0x378cc4(0x511)),{'wuid':_0x49d84d,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x359adc(0x6ed)](_0xbfd60f){const _0x39ec0a=a0_0x359adc;let _0x19bae1=(_0xbfd60f?this[_0x39ec0a(0x1c7)](_0xbfd60f):this[_0x39ec0a(0x458)]?.['user']?.['id'])[_0x39ec0a(0x37f)](/:\d{1,2}@/g,'@');this['logger'][_0x39ec0a(0x4d2)](_0x39ec0a(0x751)+_0x19bae1);let _0x2d2a0f=await this['repository']['contact'][_0x39ec0a(0x50e)]({'where':{'_id':_0x19bae1,'owner':this[_0x39ec0a(0x3a4)][_0x39ec0a(0x5a4)]}}),_0x384a94=_0x2d2a0f?_0x2d2a0f[_0x39ec0a(0x51c)]:null;try{let _0x154879=(await this['whatsappNumber']({'numbers':[_0x19bae1]}))?.[_0x39ec0a(0x2fa)](),_0x339fdb=await this['profilePicture'](_0x154879?.['jid']),_0xd8e5b5=await this['getStatus'](_0x154879?.['jid']),_0x48c460=await this['fetchBusinessProfile'](_0x154879?.[_0x39ec0a(0x565)]),_0x39ce79={'imagechat':_0x339fdb?.[_0x39ec0a(0x722)],'contactname':_0x384a94||null,'status':_0xd8e5b5?.[_0x39ec0a(0x595)],'isBusiness':_0x48c460[_0x39ec0a(0x513)],'email':_0x48c460?.['email'],'description':_0x48c460?.[_0x39ec0a(0x4bb)],'website':_0x48c460?.[_0x39ec0a(0x602)]?.[_0x39ec0a(0x2fa)](),'lastcache':Date[_0x39ec0a(0x644)]()},_0x1870a7=await this[_0x39ec0a(0x638)][_0x39ec0a(0x39d)][_0x39ec0a(0x213)]({'where':{'_id':_0x19bae1,'owner':this[_0x39ec0a(0x3a4)][_0x39ec0a(0x5a4)]}},_0x39ce79),_0x2d2e0e={'owner':this[_0x39ec0a(0x3a4)][_0x39ec0a(0x5a4)],'_id':_0x19bae1,'profilePictureUrl':_0x339fdb?.['profilePictureUrl'],'status':_0xd8e5b5?.[_0x39ec0a(0x595)]};return this[_0x39ec0a(0x638)][_0x39ec0a(0x1b4)][_0x39ec0a(0x57c)]([_0x2d2e0e],this[_0x39ec0a(0x3a4)][_0x39ec0a(0x5a4)]),_0x1870a7&&q(this[_0x39ec0a(0x6c0)],'chats',{'chat':_0x1870a7}),{'wuid':_0x154879?.[_0x39ec0a(0x565)]||_0x19bae1,'name':_0x154879?.[_0x39ec0a(0x613)],'numberExists':_0x154879?.['exists'],'picture':_0x339fdb?.['profilePictureUrl'],'status':_0xd8e5b5?.[_0x39ec0a(0x595)],'isBusiness':_0x48c460['isBusiness'],'email':_0x48c460?.[_0x39ec0a(0x2d2)],'description':_0x48c460?.[_0x39ec0a(0x4bb)],'website':_0x48c460?.['website']?.['shift']()};}catch(_0x42195e){return this['logger']['error'](_0x39ec0a(0x5ce)+JSON[_0x39ec0a(0x493)](_0x42195e,null,0x2)),{};}}async[a0_0x359adc(0x58e)](_0x607662){const _0x23963c=a0_0x359adc;this[_0x23963c(0x577)]['verbose'](_0x23963c(0x206));try{let _0x160fd7=_0x607662?this[_0x23963c(0x1c7)](_0x607662):this[_0x23963c(0x3a4)][_0x23963c(0x5a4)],_0x2a6404=await this[_0x23963c(0x458)][_0x23963c(0x63d)](_0x160fd7);return this[_0x23963c(0x577)][_0x23963c(0x4d2)](_0x23963c(0x66d)),_0x2a6404?(this[_0x23963c(0x577)][_0x23963c(0x4d2)](_0x23963c(0x360)),{'isBusiness':!0x0,..._0x2a6404}):{'isBusiness':!0x1,'message':_0x23963c(0x2f7),...(await this['whatsappNumber']({'numbers':[_0x160fd7]}))?.[_0x23963c(0x2fa)]()};}catch(_0x35de2b){throw new A(_0x23963c(0x5ae),_0x35de2b['toString']());}}async[a0_0x359adc(0x342)](_0x30ddac){const _0x38e34f=a0_0x359adc;let _0x1a84c5=this[_0x38e34f(0x1c7)](_0x30ddac);try{return{'wuid':_0x1a84c5,'status':(await this[_0x38e34f(0x458)]['fetchStatus'](_0x1a84c5))?.[_0x38e34f(0x595)]};}catch{return{'wuid':_0x1a84c5,'status':null};}}async['updateProfileName'](_0x138a92){const _0x3df7e3=a0_0x359adc;try{return await this[_0x3df7e3(0x458)][_0x3df7e3(0x246)](_0x138a92),{'update':_0x3df7e3(0x22c)};}catch(_0x4fe963){throw new A(_0x3df7e3(0x5ae),_0x4fe963[_0x3df7e3(0x25a)]());}}async['updateProfileStatus'](_0x4deb63){const _0x52a45c=a0_0x359adc;try{return await this[_0x52a45c(0x458)][_0x52a45c(0x36f)](_0x4deb63),{'update':_0x52a45c(0x22c)};}catch(_0x52c56a){throw new A(_0x52a45c(0x376),_0x52c56a[_0x52a45c(0x25a)]());}}async['updateProfilePicture'](_0x4c50e8){const _0x3dc4b8=a0_0x359adc;try{let _0xbde108;if((0x0,P[_0x3dc4b8(0x48f)])(_0x4c50e8)){let _0x1aa70c=new Date()[_0x3dc4b8(0x56f)](),_0x5c2ca9=_0x4c50e8+_0x3dc4b8(0x363)+_0x1aa70c;_0xbde108=(await ce[_0x3dc4b8(0x4d6)][_0x3dc4b8(0x43e)](_0x5c2ca9,{'responseType':'arraybuffer'}))[_0x3dc4b8(0x228)];}else{if((0x0,P[_0x3dc4b8(0x411)])(_0x4c50e8))_0xbde108=Buffer['from'](_0x4c50e8,'base64');else throw new g(_0x3dc4b8(0x192));}return await this[_0x3dc4b8(0x458)][_0x3dc4b8(0x54e)](this[_0x3dc4b8(0x3a4)]['wuid'],_0xbde108),{'update':'success'};}catch(_0x2caef4){throw new A(_0x3dc4b8(0x6b2),_0x2caef4[_0x3dc4b8(0x25a)]());}}async[a0_0x359adc(0x371)](){const _0xbe6f64=a0_0x359adc;try{return await this[_0xbe6f64(0x458)][_0xbe6f64(0x371)](this[_0xbe6f64(0x3a4)][_0xbe6f64(0x5a4)]),{'update':'success'};}catch(_0x788e44){throw new A(_0xbe6f64(0x6a1),_0x788e44[_0xbe6f64(0x25a)]());}}async['createGroup'](_0x165747){const _0x282b96=a0_0x359adc;try{let _0x14d319=_0x165747[_0x282b96(0x635)]['map'](_0x2f2ce7=>this[_0x282b96(0x1c7)](_0x2f2ce7)),{id:_0x332ec5}=await this[_0x282b96(0x458)]['groupCreate'](_0x165747[_0x282b96(0x51f)],_0x14d319);return _0x165747?.[_0x282b96(0x4bb)]&&await this[_0x282b96(0x458)][_0x282b96(0x377)](_0x332ec5,_0x165747[_0x282b96(0x4bb)]),{'metadata':await this[_0x282b96(0x458)]['groupMetadata'](_0x332ec5)};}catch(_0x4eb4a3){throw this[_0x282b96(0x577)][_0x282b96(0x252)](this['instanceName']+'\x20('+this['instance'][_0x282b96(0x5a4)]+_0x282b96(0x61c)+JSON[_0x282b96(0x493)](_0x4eb4a3,null,0x2)),new A('Error\x20creating\x20group',_0x4eb4a3['toString']());}}async[a0_0x359adc(0x770)](_0x1d4178){const _0x568220=a0_0x359adc;try{let _0x1d7127;if((0x0,P['isURL'])(_0x1d4178['image'])){let _0x1566ff=new Date()['getTime'](),_0x2f31c1=_0x1d4178[_0x568220(0x4c4)]+_0x568220(0x363)+_0x1566ff;_0x1d7127=(await ce[_0x568220(0x4d6)][_0x568220(0x43e)](_0x2f31c1,{'responseType':_0x568220(0x6b9)}))[_0x568220(0x228)];}else{if((0x0,P[_0x568220(0x411)])(_0x1d4178[_0x568220(0x4c4)]))_0x1d7127=Buffer[_0x568220(0x1ce)](_0x1d4178[_0x568220(0x4c4)],_0x568220(0x683));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x568220(0x54e)](_0x1d4178['groupJid'],_0x1d7127),{'update':_0x568220(0x22c)};}catch(_0x57d2ca){throw new A(_0x568220(0x3d0),_0x57d2ca['toString']());}}async[a0_0x359adc(0x636)](_0xfa16df,_0x44a8de='out'){const _0x515e88=a0_0x359adc;try{let _0x520ed2=await this['client']['groupMetadata'](_0xfa16df[_0x515e88(0x22a)]),_0x1cc38e=null;try{_0x1cc38e=(await this[_0x515e88(0x281)](_0xfa16df[_0x515e88(0x22a)]))[_0x515e88(0x722)];}catch(_0x33309a){this[_0x515e88(0x577)][_0x515e88(0x4d2)](this[_0x515e88(0x6c0)]+'\x20('+this[_0x515e88(0x3a4)]['wuid']+_0x515e88(0x19a)+_0xfa16df[_0x515e88(0x22a)]+':\x20'+JSON[_0x515e88(0x493)](_0x33309a,null,0x2));}let _0x116410=await this[_0x515e88(0x638)][_0x515e88(0x39d)][_0x515e88(0x213)]({'where':{'_id':_0xfa16df[_0x515e88(0x22a)],'owner':this[_0x515e88(0x3a4)][_0x515e88(0x5a4)]}},{'imagechat':_0x1cc38e,'name':_0x520ed2[_0x515e88(0x51f)],'group_size':_0x520ed2['size'],'group_announce':_0x520ed2[_0x515e88(0x743)],'lastcache':Date[_0x515e88(0x644)]()});return _0x116410&&q(this['instanceName'],_0x515e88(0x5da),{'chat':_0x116410}),{'metadata':_0x520ed2,'image':_0x1cc38e};}catch(_0x1a9951){if(_0x44a8de==='inner')return;throw new $(_0x515e88(0x6e1),_0x1a9951[_0x515e88(0x25a)]());}}async[a0_0x359adc(0x647)](_0xf34e23){const _0x366ddf=a0_0x359adc;try{return await this[_0x366ddf(0x458)][_0x366ddf(0x377)](_0xf34e23[_0x366ddf(0x22a)],_0xf34e23[_0x366ddf(0x4bb)]),{'update':_0x366ddf(0x22c)};}catch(_0xd22e1){throw new A('Error\x20change\x20group\x20description',_0xd22e1[_0x366ddf(0x25a)]());}}async[a0_0x359adc(0x57b)](_0x3c9b2b){const _0x80f03d=a0_0x359adc;try{return await this['client'][_0x80f03d(0x759)](_0x3c9b2b[_0x80f03d(0x22a)],_0x3c9b2b[_0x80f03d(0x613)]),{'update':_0x80f03d(0x22c)};}catch(_0x27442b){throw new A(_0x80f03d(0x601),_0x27442b[_0x80f03d(0x25a)]());}}async[a0_0x359adc(0x5d8)](_0x5568b5){const _0x176ed4=a0_0x359adc;try{return await this[_0x176ed4(0x458)][_0x176ed4(0x2ee)](_0x5568b5['groupJid'],_0x5568b5['setting']),{'update':_0x176ed4(0x22c)};}catch(_0x6309a6){throw new A(_0x176ed4(0x71f),_0x6309a6['toString']());}}async['findGroups'](){const _0x2e39c4=a0_0x359adc;try{let _0x1d3997=[],_0x10ce07=await this[_0x2e39c4(0x458)][_0x2e39c4(0x3d2)](),_0x27f01b=Object[_0x2e39c4(0x25f)](_0x10ce07),_0x22a89f=_0x27f01b['filter'](_0x2c811b=>(0x0,w['isJidGroup'])(_0x2c811b?.['id']))['map'](async _0x4d6bcf=>{const _0x3185d4=_0x2e39c4;try{return await this[_0x3185d4(0x458)][_0x3185d4(0x722)](_0x4d6bcf['id'],_0x3185d4(0x2ba));}catch(_0x4d530b){return this[_0x3185d4(0x577)]['verbose'](this[_0x3185d4(0x6c0)]+'\x20('+this[_0x3185d4(0x3a4)][_0x3185d4(0x5a4)]+_0x3185d4(0x19a)+_0x4d6bcf['id']+':\x20'+JSON[_0x3185d4(0x493)](_0x4d530b,null,0x2)),null;}}),_0x163f66=await Promise[_0x2e39c4(0x34a)](_0x22a89f);for(let _0x3b558c=0x0;_0x3b558c<_0x27f01b[_0x2e39c4(0x582)];_0x3b558c++){let _0x242a72=_0x27f01b[_0x3b558c];(0x0,w[_0x2e39c4(0x76e)])(_0x242a72?.['id'])&&_0x1d3997['push']({'groupJid':_0x242a72?.['id'],'subject':_0x242a72?.[_0x2e39c4(0x51f)],'subjectOwner':_0x242a72?.['subjectOwner']?.[_0x2e39c4(0x655)]('@')[0x0],'subjectTime':_0x242a72?.['subjectTime'],'size':_0x242a72?.['participants']?.[_0x2e39c4(0x582)],'owner':_0x242a72?.[_0x2e39c4(0x72e)]?.[_0x2e39c4(0x655)]('@')[0x0],'creation':_0x242a72?.['creation'],'desc':_0x242a72?.[_0x2e39c4(0x538)],'restrict':_0x242a72?.[_0x2e39c4(0x4f1)],'announce':_0x242a72?.[_0x2e39c4(0x743)],'image':_0x163f66[_0x3b558c]});}return _0x1d3997;}catch(_0x215acf){throw new $(_0x2e39c4(0x6e1),_0x215acf[_0x2e39c4(0x25a)]());}}async[a0_0x359adc(0x74f)](_0x16c256){const _0x2270c8=a0_0x359adc;try{let _0xb81f8c=await this[_0x2270c8(0x458)]['groupInviteCode'](_0x16c256[_0x2270c8(0x22a)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0xb81f8c,'inviteCode':_0xb81f8c};}catch(_0xdc01f0){throw new $(_0x2270c8(0x61e),_0xdc01f0['toString']());}}async[a0_0x359adc(0x329)](_0x5dbf1c){const _0x1cf370=a0_0x359adc;try{let _0x14118a=await this[_0x1cf370(0x458)]['groupRevokeInvite'](_0x5dbf1c[_0x1cf370(0x22a)]);return{'revoked':!0x0,'inviteUrl':_0x1cf370(0x341)+_0x14118a,'inviteCode':_0x14118a};}catch(_0x4f340a){throw new $(_0x1cf370(0x5c5),_0x4f340a[_0x1cf370(0x25a)]());}}async['joinGroup'](_0xb67756){const _0x51951a=a0_0x359adc;try{if((0x0,P['isURL'])(_0xb67756[_0x51951a(0x74f)]))var _0x29a79f=_0xb67756[_0x51951a(0x74f)]['split']('/')[0x3];else var _0x29a79f=_0xb67756['inviteCode'];let _0x2a40ce=await this['client'][_0x51951a(0x5cb)](_0x29a79f);return this['logger'][_0x51951a(0x4d2)](this[_0x51951a(0x6c0)]+'\x20('+this[_0x51951a(0x3a4)][_0x51951a(0x5a4)]+_0x51951a(0x61c)+_0x2a40ce),{'join':!0x0,'inviteCode':_0x29a79f,'groupJid':_0x2a40ce};}catch(_0x2e03c3){throw new $(_0x51951a(0x6fb),_0x2e03c3['toString']());}}async[a0_0x359adc(0x6ad)](_0x450533){const _0x4fc685=a0_0x359adc;try{return{'participants':(await this['client']['groupMetadata'](_0x450533['groupJid']))['participants']};}catch(_0x305e39){throw new $(_0x4fc685(0x1be),_0x305e39['toString']());}}async['updateGParticipant'](_0x333962){const _0x3ec952=a0_0x359adc;try{let _0x18b86a=_0x333962[_0x3ec952(0x635)][_0x3ec952(0x4a3)](_0x537cd3=>this[_0x3ec952(0x1c7)](_0x537cd3));return{'updateParticipants':await this[_0x3ec952(0x458)][_0x3ec952(0x496)](_0x333962['groupJid'],_0x18b86a,_0x333962[_0x3ec952(0x1f4)])};}catch(_0xd9a3b1){throw new g('Error\x20updating\x20participants',_0xd9a3b1[_0x3ec952(0x25a)]());}}async[a0_0x359adc(0x498)](_0x5279a5){const _0x175d90=a0_0x359adc;try{let _0x4ee4e9=await this[_0x175d90(0x458)][_0x175d90(0x58b)](_0x5279a5[_0x175d90(0x22a)],_0x5279a5['expiration']);return{'success':!0x0};}catch(_0x36c868){throw new g(_0x175d90(0x73d),_0x36c868[_0x175d90(0x25a)]());}}async['leaveGroup'](_0x407738){const _0x1d8cd6=a0_0x359adc;try{return await this[_0x1d8cd6(0x458)][_0x1d8cd6(0x741)](_0x407738[_0x1d8cd6(0x22a)]),{'groupJid':_0x407738['groupJid'],'leave':!0x0};}catch(_0x67618e){throw new g(_0x1d8cd6(0x766),_0x67618e[_0x1d8cd6(0x25a)]());}}async[a0_0x359adc(0x53c)](_0x384c83){const _0x1d8fd9=a0_0x359adc;return await this[_0x1d8fd9(0x520)](_0x384c83[_0x1d8fd9(0x74a)],{'poll':{'name':_0x384c83[_0x1d8fd9(0x53c)]?.[_0x1d8fd9(0x613)],'selectableCount':_0x384c83[_0x1d8fd9(0x53c)]['selectableCount'],'values':_0x384c83[_0x1d8fd9(0x53c)][_0x1d8fd9(0x25f)]}},_0x384c83?.['options']);}async[a0_0x359adc(0x3ad)](_0x24257f){const _0x2303e7=a0_0x359adc;return await this[_0x2303e7(0x520)](_0x24257f['number'],{'listMessage':{'title':_0x24257f[_0x2303e7(0x3ad)][_0x2303e7(0x3e9)],'description':_0x24257f[_0x2303e7(0x3ad)][_0x2303e7(0x4bb)],'buttonText':_0x24257f[_0x2303e7(0x3ad)]?.[_0x2303e7(0x6a6)],'footerText':_0x24257f['listMessage']?.['footerText'],'sections':_0x24257f[_0x2303e7(0x3ad)][_0x2303e7(0x35f)],'listType':0x2}},_0x24257f?.[_0x2303e7(0x2ed)]);}async[a0_0x359adc(0x76b)](_0x1d4f01){const _0x5987d5=a0_0x359adc;let _0x1b5b73;if(_0x1d4f01[_0x5987d5(0x76b)][_0x5987d5(0x38c)]===_0x5987d5(0x68e)){let _0x8344c7=_0x1d4f01[_0x5987d5(0x76b)]['text'][_0x5987d5(0x5a3)]('\x0a'),_0x30a4cf='',_0x62a0da='';_0x8344c7!==-0x1?(_0x30a4cf=_0x1d4f01[_0x5987d5(0x76b)][_0x5987d5(0x632)][_0x5987d5(0x2b0)](0x0,_0x8344c7)['trim'](),_0x62a0da=_0x1d4f01[_0x5987d5(0x76b)][_0x5987d5(0x632)]['substring'](_0x8344c7+0x1)):_0x62a0da=_0x1d4f01['menuMessage'][_0x5987d5(0x632)];let _0x2eb58f=this[_0x5987d5(0x6d0)](_0x1d4f01[_0x5987d5(0x76b)]['choices']);_0x1b5b73={'listMessage':{'title':_0x30a4cf,'description':_0x62a0da,'buttonText':_0x1d4f01['menuMessage'][_0x5987d5(0x6a6)]||_0x5987d5(0x231),'footerText':_0x1d4f01['menuMessage']['footerText'],'sections':_0x2eb58f,'listType':0x2}};}else{if(_0x1d4f01[_0x5987d5(0x76b)][_0x5987d5(0x38c)]===_0x5987d5(0x6d4)){let _0x4ebb06=_0x1d4f01['menuMessage'][_0x5987d5(0x34c)]['filter'](_0x2dd155=>!(_0x2dd155[_0x5987d5(0x6bb)]('[')&&_0x2dd155[_0x5987d5(0x6c5)](']')))[_0x5987d5(0x4a3)](_0xe6750b=>_0xe6750b['split']('\x0a')[0x0]);_0x1b5b73={'poll':{'name':_0x1d4f01[_0x5987d5(0x76b)][_0x5987d5(0x632)],'selectableCount':_0x1d4f01[_0x5987d5(0x76b)]['selectableCount']||0x1,'values':_0x4ebb06}};}}return await this[_0x5987d5(0x520)](_0x1d4f01[_0x5987d5(0x74a)],_0x1b5b73,_0x1d4f01?.[_0x5987d5(0x2ed)]);}[a0_0x359adc(0x6d0)](_0x534e04){const _0x274488=a0_0x359adc;let _0x424c15=[],_0x41b990={'rows':[]};return _0x534e04['forEach'](_0x35047a=>{const _0x4c0afc=a0_0x2b70;if(_0x35047a[_0x4c0afc(0x6bb)]('[')&&_0x35047a[_0x4c0afc(0x6c5)](']'))_0x41b990[_0x4c0afc(0x6ea)][_0x4c0afc(0x582)]>0x0&&_0x424c15[_0x4c0afc(0x41c)](_0x41b990),_0x41b990={'title':_0x35047a['slice'](0x1,-0x1),'rows':[]};else{let _0x19f20a=_0x35047a[_0x4c0afc(0x655)]('\x0a')[_0x4c0afc(0x4a3)](_0x92bb74=>_0x92bb74['trim']()),_0x376407=_0x19f20a[0x0],_0x355806=_0x19f20a[0x1]||null,_0x391b94=_0x19f20a[0x2]||_0x376407;_0x41b990['rows'][_0x4c0afc(0x41c)]({'title':_0x376407,'description':_0x355806,'rowId':_0x391b94});}}),_0x41b990[_0x274488(0x6ea)]['length']>0x0&&_0x424c15[_0x274488(0x41c)](_0x41b990),_0x424c15;}async[a0_0x359adc(0x49d)](_0xd46924,_0x569966,_0x403d03){const _0x599632=a0_0x359adc;if(await this['getMessage'](_0xd46924,!0x0)){let _0x2759a1={'where':{'_id':_0xd46924['id'],'owner':this['instance']['wuid']}},_0x56860e={'status':[_0x403d03[_0x599632(0x595)]][0x0]};try{let _0x555c88=await this[_0x599632(0x638)]['message'][_0x599632(0x57c)](_0x2759a1,_0x56860e);_0x555c88&&q(this['instanceName'],_0x599632(0x264),{'message':_0x555c88});}catch{}}}[a0_0x359adc(0x591)](_0x1b4e71){const _0x397d4f=a0_0x359adc;let _0x47f52d=[];return _0x1b4e71['forEach'](_0x5d6da5=>{const _0x6cad7d=a0_0x2b70;_0x5d6da5[_0x6cad7d(0x3e9)]&&_0x47f52d[_0x6cad7d(0x41c)]('['+_0x5d6da5['title']+']'),_0x5d6da5[_0x6cad7d(0x6ea)][_0x6cad7d(0x4a9)](_0x17790b=>{const _0x45dd15=_0x6cad7d;let _0x12a967=_0x17790b[_0x45dd15(0x3e9)];_0x17790b[_0x45dd15(0x4bb)]&&(_0x12a967+='\x0a'+_0x17790b[_0x45dd15(0x4bb)]),_0x12a967+='\x0a'+_0x17790b[_0x45dd15(0x25d)],_0x47f52d[_0x45dd15(0x41c)](_0x12a967);});}),_0x47f52d[_0x397d4f(0x641)]('|');}[a0_0x359adc(0x598)](_0x5718c6){const _0x52625d=a0_0x359adc;let _0xf7fdfb=_0x5718c6[_0x52625d(0x37f)](/\\n/g,'\x0a')['split']('\x0a')[_0x52625d(0x694)](_0x275610=>_0x275610[_0x52625d(0x3d6)](_0x52625d(0x76c))||_0x275610[_0x52625d(0x3d6)]('EMAIL')),_0xc155e9='';return _0xf7fdfb[_0x52625d(0x4a9)](_0x1fdcb7=>{const _0x42da3c=_0x52625d;let _0x441e6a=/TEL(?:.*):(.+)/,_0x41c889=/EMAIL(?:.*):(.+)/,_0x50335e=_0x1fdcb7[_0x42da3c(0x247)](_0x441e6a),_0x213caf=_0x1fdcb7[_0x42da3c(0x247)](_0x41c889);if(_0x50335e){let _0x3f1998=_0x50335e[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x42da3c(0x3d5)]();_0xc155e9+='Telefone:\x20'+_0x3f1998+'\x0a';}else{if(_0x213caf){let _0x295bc0=_0x213caf[0x1][_0x42da3c(0x3d5)]();_0xc155e9+=_0x42da3c(0x5b7)+_0x295bc0+'\x0a';}}}),_0xc155e9[_0x52625d(0x3d5)]();}async[a0_0x359adc(0x195)](_0x161545,_0x65f097,_0x27789e){const _0x208b3b=a0_0x359adc;let _0x13ce9d=_0x65f097[_0x208b3b(0x6f8)]['remoteJid'][_0x208b3b(0x37f)](/:\d{1,2}@/g,'@'),_0x34b52f=_0x65f097['key'][_0x208b3b(0x6c1)],_0x17e027=_0x13ce9d[_0x208b3b(0x6c5)](_0x208b3b(0x47c));if(!_0x161545[_0x208b3b(0x748)])return;let _0x34fc79={'lastmsg':_0x65f097[_0x208b3b(0x4fe)]||Date['now'](),'unreadcount':_0x34b52f?0x0:0x1,..._0x34b52f||_0x17e027?{}:{'name':_0x65f097[_0x208b3b(0x51c)]},..._0x17e027?{'group':_0x17e027}:{}},_0x4e49a9=await this['repository'][_0x208b3b(0x39d)][_0x208b3b(0x213)]({'where':{'_id':_0x13ce9d,'owner':this[_0x208b3b(0x3a4)][_0x208b3b(0x5a4)]}},_0x34fc79,{'new':!0x0,'upsert':!0x0});if(!_0x17e027&&(!_0x4e49a9?.['leadInfo']||!_0x4e49a9[_0x208b3b(0x286)][_0x208b3b(0x332)])&&_0x65f097[_0x208b3b(0x51c)]&&!_0x34b52f&&await this[_0x208b3b(0x638)][_0x208b3b(0x39d)][_0x208b3b(0x213)]({'where':{'_id':_0x13ce9d,'owner':this[_0x208b3b(0x3a4)][_0x208b3b(0x5a4)]}},{'leadInfo.nome':_0x65f097[_0x208b3b(0x51c)]},{'new':!0x0,'upsert':!0x1}),_0x4e49a9)q(this[_0x208b3b(0x6c0)],_0x208b3b(0x5da),{'chat':_0x4e49a9});else{this['logger'][_0x208b3b(0x252)](this[_0x208b3b(0x6c0)]+'\x20('+this['instance'][_0x208b3b(0x5a4)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x208b3b(0x32c)]?.[_0x208b3b(0x637)]['enabled'])return this[_0x208b3b(0x577)]['verbose'](this[_0x208b3b(0x6c0)]+'\x20('+this[_0x208b3b(0x3a4)][_0x208b3b(0x5a4)]+_0x208b3b(0x463)),null;if(_0x4e49a9['_id'][_0x208b3b(0x3d6)](_0x208b3b(0x47c))&&this[_0x208b3b(0x32c)]?.[_0x208b3b(0x637)][_0x208b3b(0x75f)]===!0x0)return this['logger'][_0x208b3b(0x4d2)](this[_0x208b3b(0x6c0)]+'\x20('+this[_0x208b3b(0x3a4)][_0x208b3b(0x5a4)]+_0x208b3b(0x67e)),null;if(_0x4e49a9['leadInfo']){if(_0x4e49a9[_0x208b3b(0x286)][_0x208b3b(0x3a5)]===0x0||_0x4e49a9[_0x208b3b(0x286)][_0x208b3b(0x198)])return this[_0x208b3b(0x577)][_0x208b3b(0x4d2)](this[_0x208b3b(0x6c0)]+'\x20('+this['instance'][_0x208b3b(0x5a4)]+_0x208b3b(0x5d2)+_0x13ce9d+_0x208b3b(0x532)),null;if(_0x4e49a9[_0x208b3b(0x286)][_0x208b3b(0x3a5)]>Date[_0x208b3b(0x644)]())return this[_0x208b3b(0x577)][_0x208b3b(0x4d2)](this['instanceName']+'\x20('+this[_0x208b3b(0x3a4)][_0x208b3b(0x5a4)]+_0x208b3b(0x5b1)+new Date(_0x4e49a9[_0x208b3b(0x286)][_0x208b3b(0x3a5)])[_0x208b3b(0x586)]()+_0x208b3b(0x532)),null;}this[_0x208b3b(0x577)][_0x208b3b(0x4d2)](this[_0x208b3b(0x6c0)]+'\x20('+this[_0x208b3b(0x3a4)][_0x208b3b(0x5a4)]+_0x208b3b(0x65a)),this[_0x208b3b(0x622)](_0x27789e,_0x65f097,this['instance'][_0x208b3b(0x5a4)]);}async[a0_0x359adc(0x503)](_0x55f169,_0x1cd65a){const _0x17ebab=a0_0x359adc;if(_0x1cd65a[_0x17ebab(0x748)]){let _0x317dc3=_0x55f169[_0x17ebab(0x4a3)](async _0x102b00=>{const _0x4e6f3e=_0x17ebab;try{let _0xae5388={'_id':_0x102b00[_0x4e6f3e(0x2ec)],'owner':_0x102b00[_0x4e6f3e(0x72e)],'lastcache':0x0};if(_0x102b00[_0x4e6f3e(0x226)]!==null&&(_0xae5388[_0x4e6f3e(0x226)]=_0x102b00[_0x4e6f3e(0x226)]),_0x102b00['name']!==null&&(_0xae5388[_0x4e6f3e(0x613)]=_0x102b00[_0x4e6f3e(0x613)]),_0x102b00[_0x4e6f3e(0x4e4)]!==null&&(_0xae5388[_0x4e6f3e(0x4e4)]=_0x102b00[_0x4e6f3e(0x4e4)]),_0x102b00[_0x4e6f3e(0x6a7)]!==null&&(_0xae5388[_0x4e6f3e(0x6a7)]=_0x102b00[_0x4e6f3e(0x6a7)]),_0x102b00[_0x4e6f3e(0x6a7)]===null&&(_0xae5388[_0x4e6f3e(0x6a7)]=_0x4e6f3e(0x717)),_0x102b00['lastmsg']!==null&&(_0xae5388[_0x4e6f3e(0x2ff)]=_0x102b00[_0x4e6f3e(0x2ff)]),_0x102b00[_0x4e6f3e(0x1a7)]!==null&&(_0xae5388[_0x4e6f3e(0x1a7)]=_0x102b00['archived']),_0x102b00[_0x4e6f3e(0x3c4)]!==null&&(_0xae5388['unreadcount']=_0x102b00[_0x4e6f3e(0x3c4)]),Object[_0x4e6f3e(0x24b)](_0xae5388)['length']>0x0)return await this[_0x4e6f3e(0x638)]['chat'][_0x4e6f3e(0x213)]({'where':{'_id':_0x102b00['_id'],'owner':_0x102b00['owner']}},_0xae5388);}catch(_0x39de14){return console[_0x4e6f3e(0x252)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x102b00['_id']+':',_0x39de14),null;}}),_0x50afb9=(await Promise[_0x17ebab(0x34a)](_0x317dc3))[_0x17ebab(0x694)](_0x4fe524=>_0x4fe524!==null)[_0x17ebab(0x582)];this[_0x17ebab(0x577)][_0x17ebab(0x4d2)](this[_0x17ebab(0x6c0)]+'\x20('+this[_0x17ebab(0x3a4)][_0x17ebab(0x5a4)]+_0x17ebab(0x61c)+_0x50afb9+'\x20chats\x20de\x20'+this[_0x17ebab(0x3a4)][_0x17ebab(0x5a4)]+_0x17ebab(0x20c));}}async[a0_0x359adc(0x417)](_0x26073b){const _0x7375ca=a0_0x359adc;this[_0x7375ca(0x577)][_0x7375ca(0x4d2)](this['instanceName']+'\x20('+this[_0x7375ca(0x3a4)][_0x7375ca(0x5a4)]+'):\x20Ler\x20mensagem');let _0x4373d7={'readMessages':[{'remoteJid':_0x26073b[_0x7375ca(0x2db)][_0x7375ca(0x5ef)][_0x7375ca(0x6f8)][_0x7375ca(0x340)],'fromMe':_0x26073b[_0x7375ca(0x2db)]['lastReceivedMessage'][_0x7375ca(0x6f8)]['fromMe'],'id':_0x26073b[_0x7375ca(0x2db)]['lastReceivedMessage'][_0x7375ca(0x6f8)]['id']}]};await this[_0x7375ca(0x389)](_0x4373d7);}async[a0_0x359adc(0x622)](_0x65e279,_0x29815a,_0x83a147){const _0x1a38b0=a0_0x359adc;try{let {key:_0xb5a275,message_normalized:_0x2d9609}=_0x29815a,_0x215ab0=_0x2d9609,_0x1405ce=_0x2d9609[_0x1a38b0(0x632)]||_0x2d9609[_0x1a38b0(0x197)]||_0x2d9609['vote']||_0x2d9609[_0x1a38b0(0x613)],_0xc0fa3f=_0xb5a275[_0x1a38b0(0x340)],_0x21bd19;if(_0x215ab0['key'][_0x1a38b0(0x6c1)]&&_0x1405ce['trim']()!==this['AutomateSystem']?.[_0x1a38b0(0x637)][_0x1a38b0(0x3bb)][_0x1a38b0(0x3d5)]())return this['logger'][_0x1a38b0(0x4d2)](this[_0x1a38b0(0x6c0)]+'\x20('+this[_0x1a38b0(0x3a4)][_0x1a38b0(0x5a4)]+_0x1a38b0(0x31d)),null;if(_0x215ab0[_0x1a38b0(0x6f8)][_0x1a38b0(0x6c1)]&&_0x1405ce[_0x1a38b0(0x3d5)]()===this['AutomateSystem']?.[_0x1a38b0(0x637)][_0x1a38b0(0x3bb)][_0x1a38b0(0x3d5)]()){this[_0x1a38b0(0x577)][_0x1a38b0(0x4d2)](this[_0x1a38b0(0x6c0)]+'\x20('+this[_0x1a38b0(0x3a4)]['wuid']+_0x1a38b0(0x372));let _0x3117d1=await U[_0x1a38b0(0x673)]({'owner':_0x83a147,'remoteJid':_0xc0fa3f,'status':_0x1a38b0(0x50b)});this[_0x1a38b0(0x577)][_0x1a38b0(0x4d2)](this[_0x1a38b0(0x6c0)]+'\x20('+this[_0x1a38b0(0x3a4)][_0x1a38b0(0x5a4)]+_0x1a38b0(0x570)+_0x3117d1);let _0x4e80bb=Date[_0x1a38b0(0x644)](),_0x5a9067;return this[_0x1a38b0(0x32c)]?.[_0x1a38b0(0x637)][_0x1a38b0(0x368)]===0x0?_0x5a9067={'stoppedUntil':_0x4e80bb+0x7591f6200}:_0x5a9067={'stoppedUntil':_0x4e80bb+this['AutomateSystem']?.['flowConfig'][_0x1a38b0(0x368)]*0x3c*0x3e8},this['logger']['verbose'](this[_0x1a38b0(0x6c0)]+'\x20('+this[_0x1a38b0(0x3a4)]['wuid']+_0x1a38b0(0x239)+_0x5a9067),this[_0x1a38b0(0x19e)](_0x21bd19,_0x5a9067[_0x1a38b0(0x480)]),null;}if(_0x1405ce&&_0x1405ce['startsWith'](this['AutomateSystem']?.[_0x1a38b0(0x637)]['prefixCommand'])&&_0x1405ce[_0x1a38b0(0x582)]>0x4){let _0xc70940=await I['findOne']({'owner':_0x83a147,'startCommandWord':_0x1405ce});if(this[_0x1a38b0(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x1a38b0(0x3a4)]['wuid']+_0x1a38b0(0x67c)),_0xc70940)_0x21bd19=await this[_0x1a38b0(0x380)](_0xc70940,_0x215ab0[_0x1a38b0(0x6f8)],_0x215ab0);else return this['logger'][_0x1a38b0(0x4d2)](this[_0x1a38b0(0x6c0)]+'\x20('+this[_0x1a38b0(0x3a4)]['wuid']+_0x1a38b0(0x2c8)),null;}else _0x21bd19=await this['findConversation'](_0x83a147,_0xc0fa3f,_0x215ab0);if(_0x21bd19){this['logger'][_0x1a38b0(0x4d2)](this[_0x1a38b0(0x6c0)]+'\x20('+this[_0x1a38b0(0x3a4)][_0x1a38b0(0x5a4)]+_0x1a38b0(0x439)),!_0xb5a275[_0x1a38b0(0x6c1)]&&_0x21bd19[_0x1a38b0(0x629)]&&this[_0x1a38b0(0x417)](_0x21bd19);let _0xa6a111=await this[_0x1a38b0(0x4b1)](_0x21bd19);_0xa6a111&&await this['processblock'](_0x21bd19,_0xa6a111);}}catch(_0x406980){this[_0x1a38b0(0x577)]['error'](this['instanceName']+'\x20('+this[_0x1a38b0(0x3a4)][_0x1a38b0(0x5a4)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+JSON[_0x1a38b0(0x493)](_0x406980,null,0x2));}}[a0_0x359adc(0x731)](_0x400703,_0x472094='',_0x127c7b={},_0xe2f982=!0x0){const _0x3e9e5d=a0_0x359adc;for(let _0x4938bb in _0x400703){let _0x394c2f=_0xe2f982?'_'+_0x4938bb:''+_0x472094+_0x4938bb;typeof _0x400703[_0x4938bb]==_0x3e9e5d(0x43d)&&_0x400703[_0x4938bb]!==null?this[_0x3e9e5d(0x731)](_0x400703[_0x4938bb],_0x394c2f+'.',_0x127c7b,!0x1):_0x127c7b[_0x394c2f]=String(_0x400703[_0x4938bb]);}return _0x127c7b;}[a0_0x359adc(0x6ba)](_0x166d4b){const _0x3aec05=a0_0x359adc;let _0x4f7401={};for(let _0x2f3909 of _0x166d4b)typeof _0x2f3909[_0x3aec05(0x613)]=='string'&&typeof _0x2f3909[_0x3aec05(0x4cf)]=='string'&&(_0x4f7401[_0x2f3909[_0x3aec05(0x613)]]=_0x2f3909['value']);return _0x4f7401;}async[a0_0x359adc(0x4b1)](_0x312428){const _0x31a47c=a0_0x359adc;if(!this['AutomateSystem']?.[_0x31a47c(0x637)]['enabled']||_0x312428['status']!==_0x31a47c(0x50b)&&_0x312428['waitingMenu_id']==='')return null;let _0xf3f49b=_0x312428['chatLog'][_0x31a47c(0x59b)]||'start';typeof _0x312428[_0x31a47c(0x2db)][_0x31a47c(0x1c6)]>'u'&&(_0x312428[_0x31a47c(0x2db)]['lastCondition']=!0x0);let _0x2f5c34=_0x312428[_0x31a47c(0x2db)]['lastCondition'];this[_0x31a47c(0x577)][_0x31a47c(0x4d2)](this[_0x31a47c(0x6c0)]+'\x20('+this[_0x31a47c(0x3a4)]['wuid']+_0x31a47c(0x1ba)+_0xf3f49b+_0x31a47c(0x4c7)+_0x2f5c34);let _0x164fdc=_0xf3f49b==='start'?_0x312428[_0x31a47c(0x32a)][_0x31a47c(0x673)](_0x5d78f3=>_0x5d78f3['type']===_0x31a47c(0x241)):_0x312428[_0x31a47c(0x32a)]['find'](_0x2bd76e=>_0x2bd76e[_0x31a47c(0x2ec)][_0x31a47c(0x25a)]()===_0xf3f49b['toString']());if(!_0x164fdc)return this[_0x31a47c(0x577)]['error'](this[_0x31a47c(0x6c0)]+'\x20('+this[_0x31a47c(0x3a4)][_0x31a47c(0x5a4)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0xf3f49b),null;let _0x1aed70={'_pushName':_0x312428[_0x31a47c(0x2db)]['lastReceivedMessage']['pushName'],..._0x312428[_0x31a47c(0x2db)]['realVariables']},_0x52ce4a=null;if(_0x312428[_0x31a47c(0x1cb)]){let _0x3088ae=_0x312428[_0x31a47c(0x2db)][_0x31a47c(0x5ef)][_0x31a47c(0x209)],_0x16d89c=_0x312428[_0x31a47c(0x537)]['find'](_0x23171a=>_0x23171a[_0x31a47c(0x3f5)]===_0x3088ae);if(_0x16d89c){let _0x2bb119=_0x16d89c[_0x31a47c(0x3fb)];if(_0x52ce4a=_0x312428['blocks'][_0x31a47c(0x673)](_0x36a83e=>_0x36a83e['groupId']===_0x2bb119&&_0x36a83e[_0x31a47c(0x553)]===0x1),_0x164fdc[_0x31a47c(0x668)][_0x31a47c(0x409)]){let _0x4bf8cf={'id':_0x312428['waitingMenu_id'],'remoteJid':_0x312428['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x4bf8cf);}if(_0x164fdc['uazapi'][_0x31a47c(0x409)]&&_0x164fdc[_0x31a47c(0x668)][_0x31a47c(0x548)]&&_0x164fdc[_0x31a47c(0x668)][_0x31a47c(0x2a5)]===_0x31a47c(0x6d4)){let _0x7903dd={'number':_0x312428[_0x31a47c(0x340)],'options':{'delay':0x0},'textMessage':{'text':_0x31a47c(0x316)+_0x312428[_0x31a47c(0x45c)]+_0x31a47c(0x672)+_0x3088ae}};await this[_0x31a47c(0x424)](_0x7903dd);}_0x312428[_0x31a47c(0x595)]=_0x31a47c(0x50b),_0x312428[_0x31a47c(0x1cb)]='',_0x312428[_0x31a47c(0x45c)]='',_0x312428[_0x31a47c(0x537)]=[];}else{this[_0x31a47c(0x577)][_0x31a47c(0x4d2)](this[_0x31a47c(0x6c0)]+'\x20('+this['instance'][_0x31a47c(0x5a4)]+_0x31a47c(0x1e4));let _0x45226f={'activatedCount':_0x312428[_0x31a47c(0x2db)][_0x31a47c(0x265)]['filter'](_0x4899f5=>String(_0x4899f5['blockId'])===String(_0xf3f49b))[_0x31a47c(0x582)],'moreLogs':[_0x31a47c(0x488)]};if(_0x164fdc[_0x31a47c(0x668)][_0x31a47c(0x5e6)]){let _0x53c0ca={'number':_0x312428['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x164fdc['uazapi'][_0x31a47c(0x5e6)]}};await this[_0x31a47c(0x424)](_0x53c0ca);}if(_0x164fdc['maxActives']!==void 0x0&&_0x45226f[_0x31a47c(0x75b)]>=_0x164fdc[_0x31a47c(0x1de)]){let _0xfa8f04=Date[_0x31a47c(0x644)](),_0x56647f=_0x164fdc['stopMinutesMaxActives']??0xa;isNaN(_0x56647f)&&(_0x56647f=0xa);let _0x3f6878=_0xfa8f04+_0x56647f*0x3c*0x3e8;_0x45226f[_0x31a47c(0x51a)]=_0x3f6878,_0x45226f[_0x31a47c(0x1e6)][_0x31a47c(0x41c)](_0x31a47c(0x569)),this[_0x31a47c(0x19e)](_0x312428,_0x3f6878),_0x312428[_0x31a47c(0x1cb)]='',_0x312428[_0x31a47c(0x45c)]='',_0x312428[_0x31a47c(0x537)]=[];}return this[_0x31a47c(0x30c)](_0x312428,_0x164fdc,_0x45226f,!0x0),null;}}if(_0x2f5c34&&_0x164fdc[_0x31a47c(0x3fb)]&&!_0x312428['waitingMenu_id']){let _0x56b4e7=_0x312428[_0x31a47c(0x32a)][_0x31a47c(0x694)](_0x5b4028=>_0x5b4028[_0x31a47c(0x3b1)][_0x31a47c(0x25a)]()===_0x164fdc[_0x31a47c(0x3fb)][_0x31a47c(0x25a)]())['sort']((_0x151243,_0x3ac0b9)=>_0x151243['order']-_0x3ac0b9['order']);_0x56b4e7[_0x31a47c(0x582)]>0x0&&(_0x52ce4a=_0x56b4e7[0x0]);}if(!_0x52ce4a){let _0x3b7c7e=_0x164fdc[_0x31a47c(0x3b1)],_0x5ed033=_0x312428[_0x31a47c(0x32a)]['filter'](_0x1a38f4=>_0x1a38f4[_0x31a47c(0x3b1)]===_0x3b7c7e&&_0x1a38f4[_0x31a47c(0x553)]>_0x164fdc['order'])[_0x31a47c(0x55f)]((_0x55a53d,_0x383a3c)=>_0x55a53d['order']-_0x383a3c[_0x31a47c(0x553)]);_0x5ed033[_0x31a47c(0x582)]>0x0&&(_0x52ce4a=_0x5ed033[0x0]);}if(!_0x52ce4a)return _0x312428[_0x31a47c(0x595)]=_0x31a47c(0x6ef),null;_0x312428[_0x31a47c(0x2db)]['realVariables']=_0x1aed70;let _0x342b73=JSON[_0x31a47c(0x215)](JSON['stringify'](_0x52ce4a));return this['replaceVariablesInObject'](_0x342b73,_0x312428[_0x31a47c(0x2db)][_0x31a47c(0x6fc)]),_0x312428[_0x31a47c(0x2db)][_0x31a47c(0x59b)]=_0x342b73['_id'],_0x312428[_0x31a47c(0x2db)][_0x31a47c(0x1c6)]=!0x0,_0x342b73;}[a0_0x359adc(0x188)](_0x5f5347,_0x3ba570){const _0x1380a8=a0_0x359adc;return _0x5f5347[_0x1380a8(0x37f)](/\{\{([^}]+)\}\}/g,(_0x4ebf14,_0x588ec)=>_0x3ba570[_0x588ec]||'');}[a0_0x359adc(0x555)](_0x10f807,_0x4b9708){const _0x5949f3=a0_0x359adc;for(let _0x325f2a in _0x10f807)typeof _0x10f807[_0x325f2a]==_0x5949f3(0x1e5)?_0x10f807[_0x325f2a]=this['replaceVariables'](_0x10f807[_0x325f2a],_0x4b9708):typeof _0x10f807[_0x325f2a]==_0x5949f3(0x43d)&&this['replaceVariablesInObject'](_0x10f807[_0x325f2a],_0x4b9708);}async[a0_0x359adc(0x57d)](_0x13c9db,_0x324697){const _0xed5fef=a0_0x359adc;let _0x5b26f9=_0x324697[_0xed5fef(0x2ec)];if(_0x13c9db[_0xed5fef(0x2db)]&&_0x13c9db[_0xed5fef(0x2db)][_0xed5fef(0x265)]){let _0xbeda40=_0x13c9db[_0xed5fef(0x2db)][_0xed5fef(0x265)][_0xed5fef(0x694)](_0x32a723=>String(_0x32a723[_0xed5fef(0x6bc)])===String(_0x5b26f9))[_0xed5fef(0x22e)]();if(_0xbeda40&&_0xbeda40['error']&&_0x324697['stopIfLastReturnedError'])return _0x13c9db[_0xed5fef(0x595)]=_0xed5fef(0x6ef),await this['saveConversationToDatabase'](_0x13c9db),null;}if(_0x324697[_0xed5fef(0x38c)]===_0xed5fef(0x668)&&_0x324697[_0xed5fef(0x668)][_0xed5fef(0x421)]==='sendPoll'&&_0x13c9db[_0xed5fef(0x1cb)])return _0x13c9db['chatLog']['lastBlockId']=_0x5b26f9,await this[_0xed5fef(0x465)](_0x13c9db),null;let _0x5d10a7=await this[_0xed5fef(0x4b1)](_0x13c9db);if(_0x13c9db[_0xed5fef(0x2db)]&&_0x13c9db['chatLog'][_0xed5fef(0x265)]){let _0x165cb6=_0x13c9db[_0xed5fef(0x2db)][_0xed5fef(0x265)][_0xed5fef(0x694)](_0x8f1edb=>String(_0x8f1edb[_0xed5fef(0x6bc)])===String(_0x5b26f9))['length'];if(_0x324697[_0xed5fef(0x1de)]!==void 0x0&&_0x165cb6>=_0x324697[_0xed5fef(0x1de)]){let _0xb21477=Date['now'](),_0x346dcc=_0x324697[_0xed5fef(0x451)]??0xa;isNaN(_0x346dcc)&&(_0x346dcc=0xa);let _0x32ab1c=_0xb21477+_0x346dcc*0x3c*0x3e8,_0x375d83={'newStoppedUntil':_0x32ab1c};return this[_0xed5fef(0x19e)](_0x13c9db,_0x32ab1c),this['updateConversation'](_0x13c9db,_0x324697,_0x375d83,!0x0),null;}}_0x5d10a7&&_0x5d10a7[_0xed5fef(0x38c)]!==_0xed5fef(0x432)&&await this[_0xed5fef(0x28f)](_0x13c9db,_0x5d10a7),_0x5d10a7||await this['saveConversationToDatabase'](_0x13c9db),_0x5d10a7&&_0x5d10a7['type']===_0xed5fef(0x432)&&(_0x13c9db[_0xed5fef(0x2db)][_0xed5fef(0x59b)]=_0x5b26f9,await this['saveConversationToDatabase'](_0x13c9db));}async[a0_0x359adc(0x28f)](_0x2f3892,_0x59cad3){const _0x492693=a0_0x359adc;try{let _0x38a4f2=_0x59cad3['type'];this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x492693(0x3a4)][_0x492693(0x5a4)]+_0x492693(0x60e)+_0x38a4f2);let _0x52ef82={'uazapi':()=>this[_0x492693(0x18b)](_0x2f3892,_0x59cad3),'save':()=>this[_0x492693(0x44e)](_0x2f3892,_0x59cad3),'stop':()=>this[_0x492693(0x3bb)](_0x2f3892,_0x59cad3),'condition':()=>this[_0x492693(0x444)](_0x2f3892,_0x59cad3),'varedit':()=>this[_0x492693(0x263)](_0x2f3892,_0x59cad3),'apirequest':()=>this[_0x492693(0x3de)](_0x2f3892,_0x59cad3),'goToFlow':()=>this[_0x492693(0x297)](_0x2f3892,_0x59cad3)}[_0x38a4f2];_0x52ef82&&await _0x52ef82();}catch(_0x289f71){this[_0x492693(0x577)][_0x492693(0x252)](this[_0x492693(0x6c0)]+'\x20('+this['instance'][_0x492693(0x5a4)]+_0x492693(0x2e1)+JSON[_0x492693(0x493)](_0x289f71,null,0x2));}}async[a0_0x359adc(0x297)](_0x582a49,_0x39af79){const _0x3bc6a1=a0_0x359adc;if(this[_0x3bc6a1(0x577)][_0x3bc6a1(0x4d2)](this[_0x3bc6a1(0x6c0)]+'\x20('+this[_0x3bc6a1(0x3a4)][_0x3bc6a1(0x5a4)]+_0x3bc6a1(0x472)),!_0x582a49||!_0x39af79)return this['logger']['error'](this[_0x3bc6a1(0x6c0)]+'\x20('+this[_0x3bc6a1(0x3a4)][_0x3bc6a1(0x5a4)]+_0x3bc6a1(0x2c1)),null;await this[_0x3bc6a1(0x30c)](_0x582a49,_0x39af79,{},!0x0,!0x0),console[_0x3bc6a1(0x219)](_0x3bc6a1(0x3b5)),console[_0x3bc6a1(0x219)](_0x39af79);let _0x1b789d=_0x39af79[_0x3bc6a1(0x719)];console['log'](_0x3bc6a1(0x403),_0x1b789d),_0x582a49=await this['createConversationforgoToFlow'](_0x1b789d,_0x582a49['remoteJid'],_0x582a49[_0x3bc6a1(0x2db)][_0x3bc6a1(0x6fc)]),this[_0x3bc6a1(0x577)][_0x3bc6a1(0x4d2)](this[_0x3bc6a1(0x6c0)]+'\x20('+this[_0x3bc6a1(0x3a4)][_0x3bc6a1(0x5a4)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x3dd813=await this[_0x3bc6a1(0x4b1)](_0x582a49);_0x3dd813&&await this[_0x3bc6a1(0x28f)](_0x582a49,_0x3dd813);}async[a0_0x359adc(0x33f)](_0x58111e,_0x4a9af2,_0x58e91d){const _0x2de1e2=a0_0x359adc;this[_0x2de1e2(0x577)][_0x2de1e2(0x4d2)](this[_0x2de1e2(0x6c0)]+'\x20('+this[_0x2de1e2(0x3a4)][_0x2de1e2(0x5a4)]+_0x2de1e2(0x6da));try{if(_0x58111e=await I[_0x2de1e2(0x50e)]({'owner':this['instance'][_0x2de1e2(0x5a4)],'name':_0x58111e}),!_0x58111e)return this['logger']['error'](this[_0x2de1e2(0x6c0)]+'\x20('+this[_0x2de1e2(0x3a4)][_0x2de1e2(0x5a4)]+_0x2de1e2(0x400)),null;let _0x21f56b=require(_0x2de1e2(0x720))[_0x2de1e2(0x4d0)],_0x458960=Date[_0x2de1e2(0x644)](),_0x4c3295=_0x2de1e2(0x241),_0x5bc82a={},_0x49e7fa={},_0x574370={..._0x58111e['_doc'],'chatLog':null},_0x25a4f9={'lastReceivedMessage':_0x5bc82a,'lastSendMessage':_0x49e7fa,'lastBlockId':_0x4c3295,'lastCondition':!0x0,'realVariables':_0x58e91d};_0x574370['chatLog']=_0x25a4f9,_0x574370[_0x2de1e2(0x2db)][_0x2de1e2(0x6fc)]={..._0x58e91d},delete _0x574370[_0x2de1e2(0x2ec)],_0x574370[_0x2de1e2(0x2ec)]=new _0x21f56b(),_0x574370[_0x2de1e2(0x489)]=_0x458960,_0x574370[_0x2de1e2(0x595)]='open',_0x574370[_0x2de1e2(0x340)]=_0x4a9af2;let _0x30e244=await U['create'](_0x574370);return this[_0x2de1e2(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x2de1e2(0x3a4)][_0x2de1e2(0x5a4)]+_0x2de1e2(0x66b)),_0x30e244?_0x574370:null;}catch(_0x32ae11){throw this['logger'][_0x2de1e2(0x252)](this[_0x2de1e2(0x6c0)]+'\x20('+this[_0x2de1e2(0x3a4)][_0x2de1e2(0x5a4)]+_0x2de1e2(0x578)+JSON[_0x2de1e2(0x493)](_0x32ae11,null,0x2)),new g(_0x32ae11[_0x2de1e2(0x671)]);}}async[a0_0x359adc(0x3de)](_0x5966de,_0x6fb059){const _0x35d874=a0_0x359adc;let _0x2f8eb8,_0x1aec8d;try{let _0x5aaff6=_0x6fb059[_0x35d874(0x24d)];if(!_0x5aaff6||!_0x5aaff6['url']||!_0x5aaff6[_0x35d874(0x628)])throw new Error(_0x35d874(0x3ec));let _0x329090={'method':_0x5aaff6['method'],'url':_0x5aaff6[_0x35d874(0x65b)],'headers':_0x5aaff6['header']||{},'data':_0x5aaff6[_0x35d874(0x27d)]||{}};_0x2f8eb8=(await(0x0,ce[_0x35d874(0x4d6)])(_0x329090))['data'];let _0x530676=_0x5966de['chatLog']['realVariables'],_0x51c4f1=this[_0x35d874(0x731)](_0x2f8eb8);return Object[_0x35d874(0x5f8)](_0x530676,_0x51c4f1),_0x5966de[_0x35d874(0x2db)]['realVariables']=_0x530676,_0x1aec8d={'error':!0x1,'apiResponse':_0x2f8eb8},this[_0x35d874(0x30c)](_0x5966de,_0x6fb059,_0x1aec8d),_0x2f8eb8;}catch(_0x269975){console['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x269975),_0x269975[_0x35d874(0x6df)]&&(_0x2f8eb8=_0x269975[_0x35d874(0x6df)]['data']);let _0x1a8a7c=_0x5966de[_0x35d874(0x2db)][_0x35d874(0x6fc)],_0x4f9605=this[_0x35d874(0x731)](_0x2f8eb8);return Object[_0x35d874(0x5f8)](_0x1a8a7c,_0x4f9605),_0x5966de[_0x35d874(0x2db)]['realVariables']=_0x1a8a7c,_0x1aec8d={'error':!0x0,'errorLog':_0x269975[_0x35d874(0x25a)](),'apiResponse':_0x2f8eb8},this[_0x35d874(0x30c)](_0x5966de,_0x6fb059,_0x1aec8d),{'success':!0x1};}}[a0_0x359adc(0x1dc)](_0x5919ae,_0x3679ae){const _0x341b1c=a0_0x359adc;let _0x2f1ac7=_0x3a942b=>{const _0x313244=a0_0x2b70;let _0x56382b=_0x3a942b[_0x313244(0x37f)](/[^0-9.,-]/g,'')[_0x313244(0x37f)](',','.'),_0x41e33e=parseFloat(_0x56382b);return isNaN(_0x41e33e)?null:_0x41e33e;},_0x1bdd9c=_0x3679ae[_0x341b1c(0x20f)],_0x3a40fd=_0x3679ae[_0x341b1c(0x5ec)];typeof _0x1bdd9c=='string'&&(_0x1bdd9c=this[_0x341b1c(0x188)](_0x1bdd9c,_0x5919ae['chatLog'][_0x341b1c(0x6fc)])??''),typeof _0x3a40fd==_0x341b1c(0x1e5)&&(_0x3a40fd=this['replaceVariables'](_0x3a40fd,_0x5919ae['chatLog'][_0x341b1c(0x6fc)])??'');let _0x18b2a2=null;if(!_0x3679ae[_0x341b1c(0x452)])return null;switch(this[_0x341b1c(0x577)][_0x341b1c(0x4d2)](this[_0x341b1c(0x6c0)]+'\x20('+this[_0x341b1c(0x3a4)][_0x341b1c(0x5a4)]+_0x341b1c(0x44a)+_0x1bdd9c),this['logger'][_0x341b1c(0x4d2)](this['instanceName']+'\x20('+this[_0x341b1c(0x3a4)]['wuid']+_0x341b1c(0x5cc)+_0x3a40fd),_0x3679ae['editOperator']){case'+':case'-':case'*':case'/':let _0x3928f8=_0x2f1ac7(_0x1bdd9c||'0'),_0x4bd7fd=_0x2f1ac7(_0x3a40fd||'0');if(_0x3928f8===null)return null;switch(_0x3679ae['editOperator']){case'+':_0x18b2a2=_0x3928f8+(_0x4bd7fd??0x0);break;case'-':_0x18b2a2=_0x3928f8-(_0x4bd7fd??0x0);break;case'*':_0x18b2a2=_0x3928f8*(_0x4bd7fd??0x1);break;case'/':_0x4bd7fd!==0x0&&(_0x18b2a2=_0x3928f8/(_0x4bd7fd??0x1));break;}break;case _0x341b1c(0x53a):case _0x341b1c(0x1d7):let _0x2932c1=_0x3a40fd,_0x77b77d=_0x3679ae[_0x341b1c(0x2b5)];if(typeof _0x77b77d==_0x341b1c(0x1e5)&&(_0x77b77d=this['replaceVariables'](_0x77b77d,_0x5919ae[_0x341b1c(0x2db)]['realVariables'])??''),_0x2932c1&&_0x77b77d!==void 0x0){let _0x44b73d=_0x3679ae[_0x341b1c(0x452)]===_0x341b1c(0x53a)?new RegExp(_0x2932c1['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x341b1c(0x1c2)),'g'):new RegExp(_0x2932c1,'g');_0x18b2a2=_0x1bdd9c[_0x341b1c(0x37f)](_0x44b73d,_0x77b77d);}else console['warn'](_0x341b1c(0x30f));break;case _0x341b1c(0x5c8):_0x18b2a2=_0x3a40fd;break;case _0x341b1c(0x49f):let _0xd26a6e=_0x1bdd9c[_0x341b1c(0x247)](new RegExp(_0x3a40fd||''));_0x18b2a2=_0xd26a6e?_0xd26a6e[0x0]:'';break;case _0x341b1c(0x300):_0x18b2a2=_0x1bdd9c[_0x341b1c(0x301)](0x0,parseInt(_0x3a40fd||'0'));break;case'truncatedtoEnd':let _0x34e399=parseInt(_0x3a40fd||'0');_0x18b2a2=_0x1bdd9c[_0x341b1c(0x301)](_0x1bdd9c[_0x341b1c(0x582)]-_0x34e399);break;case _0x341b1c(0x523):let _0x2b1d30=_0x2f1ac7(_0x1bdd9c),_0x1ef202=parseInt(_0x3a40fd||'0');_0x1ef202=Math[_0x341b1c(0x30d)](_0x1ef202),_0x2b1d30!==null?_0x18b2a2=_0x2b1d30[_0x341b1c(0x586)](_0x341b1c(0x321),{'minimumFractionDigits':_0x1ef202,'maximumFractionDigits':_0x1ef202}):(console[_0x341b1c(0x1b2)](_0x341b1c(0x218)+_0x1bdd9c),_0x18b2a2=null);break;case _0x341b1c(0x764):let _0x43e858=_0x2f1ac7(_0x1bdd9c);_0x43e858!==null?_0x18b2a2=_0x43e858['toLocaleString'](_0x341b1c(0x321),{'style':_0x341b1c(0x64a),'currency':_0x341b1c(0x52b)}):(console[_0x341b1c(0x1b2)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1bdd9c),_0x18b2a2=null);break;case _0x341b1c(0x73e):_0x18b2a2=_0x1bdd9c[_0x341b1c(0x1f5)]();break;case'lowerCase':_0x18b2a2=_0x1bdd9c['toLowerCase']();break;case _0x341b1c(0x6b5):_0x18b2a2=_0x1bdd9c['split']('\x20')[_0x341b1c(0x4a3)](_0x3b20f5=>_0x3b20f5[_0x341b1c(0x17e)](0x0)['toUpperCase']()+_0x3b20f5['slice'](0x1)[_0x341b1c(0x37e)]())[_0x341b1c(0x641)]('\x20');break;case _0x341b1c(0x31c):_0x18b2a2=_0x1bdd9c[_0x341b1c(0x3d5)]();break;default:_0x18b2a2=_0x1bdd9c;}return _0x18b2a2!==null?_0x18b2a2[_0x341b1c(0x25a)]():null;}async[a0_0x359adc(0x263)](_0x135a54,_0xae9ebe){const _0x110cce=a0_0x359adc;try{let _0x577bae=_0x135a54[_0x110cce(0x76a)]?.[_0x110cce(0x694)](_0x5a684d=>_0x5a684d[_0x110cce(0x6bc)]===_0xae9ebe[_0x110cce(0x2ec)]?.[_0x110cce(0x25a)]())||[],_0x48a0c0=_0xae9ebe['saveVariable'],_0x110bc6=null,_0x4143c3=[],_0x23bc4e=_0x135a54[_0x110cce(0x2db)][_0x110cce(0x6fc)][_0x48a0c0];_0x4143c3['push'](_0x110cce(0x2d5)+_0x23bc4e+'\x22');for(let _0x15a9df of _0x577bae){_0x15a9df[_0x110cce(0x20f)]=_0x23bc4e,_0x110bc6=_0x15a9df[_0x110cce(0x20f)];let _0x2ce5a7;try{_0x2ce5a7=this[_0x110cce(0x1dc)](_0x135a54,_0x15a9df);}catch(_0x436b16){console['error'](_0x110cce(0x40c)+_0x436b16[_0x110cce(0x671)]);continue;}if(_0x2ce5a7!==null){let _0x2339ec='Operador:\x20\x22'+_0x15a9df[_0x110cce(0x452)]+'\x22',_0x49db44=[_0x110cce(0x764),_0x110cce(0x73e),_0x110cce(0x749),_0x110cce(0x6b5),_0x110cce(0x31c)];_0x15a9df['editOperator']==='findAndReplace'||_0x15a9df['editOperator']===_0x110cce(0x1d7)?_0x2339ec+=_0x110cce(0x220)+_0x15a9df[_0x110cce(0x5ec)]+_0x110cce(0x2e7)+_0x15a9df[_0x110cce(0x2b5)]+'\x22':!_0x49db44[_0x110cce(0x3d6)](_0x15a9df[_0x110cce(0x452)])&&_0x15a9df[_0x110cce(0x5ec)]!==null&&_0x15a9df[_0x110cce(0x5ec)]!==void 0x0&&(_0x2339ec+=_0x110cce(0x20a)+_0x15a9df[_0x110cce(0x5ec)]+'\x22'),_0x2339ec+=',\x20resultado:\x20'+_0x2ce5a7+'.',_0x4143c3['push'](_0x2339ec);}_0x2ce5a7!==null&&(_0x23bc4e=_0x2ce5a7);}if(_0x135a54[_0x110cce(0x2db)][_0x110cce(0x6fc)]&&_0xae9ebe[_0x110cce(0x4c0)]){_0x135a54[_0x110cce(0x2db)][_0x110cce(0x6fc)][_0xae9ebe['saveVariable']]=_0x23bc4e;let _0x45c1fd={'variable':_0xae9ebe[_0x110cce(0x4c0)],'oldValue':_0x110bc6,'newValue':_0x23bc4e,'moreLogs':_0x4143c3};try{this[_0x110cce(0x30c)](_0x135a54,_0xae9ebe,_0x45c1fd);}catch(_0x1f94c4){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x1f94c4['message']);}}return _0x48a0c0;}catch(_0x252143){return console[_0x110cce(0x252)](_0x110cce(0x768)+_0x252143[_0x110cce(0x671)]),null;}}async[a0_0x359adc(0x444)](_0x5ad609,_0x47a369){const _0x2f4f88=a0_0x359adc;try{let _0x230649=[],_0x27e74f=_0x5ad609[_0x2f4f88(0x358)][_0x2f4f88(0x694)](_0x502938=>_0x502938[_0x2f4f88(0x6bc)]===_0x47a369[_0x2f4f88(0x2ec)][_0x2f4f88(0x25a)]()),_0x361003=null,_0x5a1095=!0x1;for(let _0x3848f7 of _0x27e74f){let _0x4ad692=this[_0x2f4f88(0x2d1)](_0x5ad609,_0x3848f7);_0x230649[_0x2f4f88(0x41c)](_0x2f4f88(0x42f)+_0x3848f7[_0x2f4f88(0x20f)]+_0x2f4f88(0x6b4)+_0x3848f7['expression']+_0x2f4f88(0x54f)+_0x3848f7[_0x2f4f88(0x5ec)]+_0x2f4f88(0x4d5)+_0x4ad692),_0x361003===null?_0x361003=_0x4ad692:_0x3848f7[_0x2f4f88(0x2fc)]===_0x2f4f88(0x713)?(_0x361003=_0x361003&&_0x4ad692,_0x4ad692||(_0x5a1095=!0x0)):_0x3848f7[_0x2f4f88(0x2fc)]==='or'&&(_0x5a1095||(_0x361003=_0x361003||_0x4ad692));}_0x361003===null&&(_0x361003=!0x0);let _0x1cf70b={'moreLogs':_0x230649};_0x5ad609[_0x2f4f88(0x2db)]['lastCondition']=_0x361003,await this['updateConversation'](_0x5ad609,_0x47a369,_0x1cf70b);}catch(_0xd2478f){this[_0x2f4f88(0x577)][_0x2f4f88(0x252)](this[_0x2f4f88(0x6c0)]+'\x20('+this[_0x2f4f88(0x3a4)][_0x2f4f88(0x5a4)]+'):\x20Error\x20processing\x20conditions:\x20'+JSON[_0x2f4f88(0x493)](_0xd2478f,null,0x2));}}[a0_0x359adc(0x2d1)](_0x44a3d1,_0x159ddd){const _0x9df4f9=a0_0x359adc;let _0xbd5110=_0x159ddd['firstValue'],_0x5bc0ee=_0x159ddd[_0x9df4f9(0x5ec)];typeof _0xbd5110=='string'&&(_0xbd5110=this[_0x9df4f9(0x188)](_0xbd5110,_0x44a3d1[_0x9df4f9(0x2db)]['realVariables'])??''),typeof _0x5bc0ee==_0x9df4f9(0x1e5)&&(_0x5bc0ee=this[_0x9df4f9(0x188)](_0x5bc0ee,_0x44a3d1['chatLog'][_0x9df4f9(0x6fc)])??'');try{switch(_0x159ddd[_0x9df4f9(0x1ea)]){case _0x9df4f9(0x702):return _0xbd5110===_0x5bc0ee;case _0x9df4f9(0x3a9):return _0xbd5110!==_0x5bc0ee;case _0x9df4f9(0x34f):return _0xbd5110[_0x9df4f9(0x3d6)](_0x5bc0ee);case _0x9df4f9(0x5fa):return!_0xbd5110['includes'](_0x5bc0ee);case _0x9df4f9(0x571):return parseFloat(_0xbd5110)>parseFloat(_0x5bc0ee);case _0x9df4f9(0x4c1):return parseFloat(_0xbd5110)<parseFloat(_0x5bc0ee);case _0x9df4f9(0x431):return _0xbd5110!=='';case _0x9df4f9(0x2dd):return _0xbd5110==='';case _0x9df4f9(0x319):return new RegExp(_0x5bc0ee)[_0x9df4f9(0x63b)](_0xbd5110);case'notMatchRegex':return!new RegExp(_0x5bc0ee)[_0x9df4f9(0x63b)](_0xbd5110);default:return!0x1;}}catch(_0xc4f76c){return console[_0x9df4f9(0x252)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xc4f76c),!0x1;}}[a0_0x359adc(0x737)](_0x7299e){const _0x251a94=a0_0x359adc;let _0x39297b=!0x0,_0xbb0739=null;for(let _0x53dda3 of _0x7299e){let _0x117cfa=this[_0x251a94(0x583)](_0x53dda3);if(_0xbb0739==='or'&&_0x117cfa){_0x39297b=!0x0;break;}if(_0xbb0739===_0x251a94(0x713)&&!_0x117cfa){_0x39297b=!0x1;break;}_0xbb0739=_0x53dda3[_0x251a94(0x2fc)];}return _0x39297b;}[a0_0x359adc(0x583)](_0x401dae){const _0x1e066b=a0_0x359adc;let _0x4b6e0c=_0x401dae[_0x1e066b(0x20f)],_0x38e4c0=_0x401dae[_0x1e066b(0x5ec)];try{switch(_0x401dae[_0x1e066b(0x1ea)]){case _0x1e066b(0x702):return String(_0x4b6e0c)===String(_0x38e4c0);case _0x1e066b(0x3a9):return String(_0x4b6e0c)!==String(_0x38e4c0);case _0x1e066b(0x34f):return String(_0x4b6e0c)['includes'](String(_0x38e4c0));case _0x1e066b(0x5fa):return!String(_0x4b6e0c)[_0x1e066b(0x3d6)](String(_0x38e4c0));case'greater':return parseFloat(String(_0x4b6e0c))>parseFloat(String(_0x38e4c0));case _0x1e066b(0x4c1):return parseFloat(String(_0x4b6e0c))<parseFloat(String(_0x38e4c0));case'notEmpty':return String(_0x4b6e0c)!=='';case _0x1e066b(0x2dd):return String(_0x4b6e0c)==='';case'matchRegex':return new RegExp(String(_0x38e4c0))['test'](String(_0x4b6e0c));case _0x1e066b(0x46b):return!new RegExp(String(_0x38e4c0))[_0x1e066b(0x63b)](String(_0x4b6e0c));default:return!0x1;}}catch(_0x19ef5a){return console[_0x1e066b(0x252)](_0x1e066b(0x5d0)+_0x19ef5a),!0x1;}}async['saveTextReply'](_0x571c67,_0x1668ee){const _0x5db125=a0_0x359adc;if(this[_0x5db125(0x577)][_0x5db125(0x4d2)](this[_0x5db125(0x6c0)]+'\x20('+this[_0x5db125(0x3a4)][_0x5db125(0x5a4)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x571c67||!_0x1668ee)return this[_0x5db125(0x577)][_0x5db125(0x252)](this['instanceName']+'\x20('+this[_0x5db125(0x3a4)][_0x5db125(0x5a4)]+_0x5db125(0x2c1)),null;let _0x1c5346=_0x1668ee['saveVariable'],_0x1518c5=_0x571c67[_0x5db125(0x2db)][_0x5db125(0x5ef)][_0x5db125(0x632)]||_0x571c67['chatLog'][_0x5db125(0x5ef)][_0x5db125(0x197)]||_0x571c67[_0x5db125(0x2db)][_0x5db125(0x5ef)]['vote'];try{_0x571c67[_0x5db125(0x2db)][_0x5db125(0x6fc)]||(_0x571c67[_0x5db125(0x2db)][_0x5db125(0x6fc)]={});let _0x37e19f=_0x571c67[_0x5db125(0x2db)][_0x5db125(0x6fc)][_0x1c5346];_0x571c67[_0x5db125(0x2db)][_0x5db125(0x6fc)][_0x1c5346]=_0x1518c5;let _0x5c0b75={'variable':_0x1c5346,'oldValue':_0x37e19f,'newValue':_0x1518c5};this[_0x5db125(0x30c)](_0x571c67,_0x1668ee,_0x5c0b75),this['logger'][_0x5db125(0x4d2)](this['instanceName']+'\x20('+this[_0x5db125(0x3a4)][_0x5db125(0x5a4)]+_0x5db125(0x3d1));}catch(_0x4edebc){let _0x16fa4e={'error':!0x0,'errorLog':_0x4edebc['toString']()};return this[_0x5db125(0x30c)](_0x571c67,_0x1668ee,_0x16fa4e),this[_0x5db125(0x577)][_0x5db125(0x252)](this[_0x5db125(0x6c0)]+'\x20('+this[_0x5db125(0x3a4)][_0x5db125(0x5a4)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+JSON[_0x5db125(0x493)](_0x4edebc,null,0x2)),null;}}async[a0_0x359adc(0x3bb)](_0x1d07ce,_0x333598){const _0x310e29=a0_0x359adc;if(this[_0x310e29(0x577)][_0x310e29(0x4d2)](this[_0x310e29(0x6c0)]+'\x20('+this[_0x310e29(0x3a4)][_0x310e29(0x5a4)]+_0x310e29(0x414)),!_0x1d07ce||!_0x333598)return this[_0x310e29(0x577)][_0x310e29(0x252)](this[_0x310e29(0x6c0)]+'\x20('+this[_0x310e29(0x3a4)][_0x310e29(0x5a4)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x535a03=Date[_0x310e29(0x644)](),_0x545871=parseInt(_0x333598['stopMinutes'],0xa);if(isNaN(_0x545871))return this[_0x310e29(0x577)][_0x310e29(0x252)](this[_0x310e29(0x6c0)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x1a3f14={'newStoppedUntil':_0x535a03+_0x545871*0x3c*0x3e8};return await this[_0x310e29(0x30c)](_0x1d07ce,_0x333598,_0x1a3f14,!0x0),null;}async[a0_0x359adc(0x18b)](_0x3e4aef,_0x254af5){const _0x439429=a0_0x359adc;try{switch(_0x254af5['uazapi']['command']){case _0x439429(0x295):await this[_0x439429(0x393)](_0x3e4aef,_0x254af5);break;case _0x439429(0x3c6):await this[_0x439429(0x2da)](_0x3e4aef,_0x254af5);break;case'sendLocation':await this[_0x439429(0x433)](_0x3e4aef,_0x254af5);break;case _0x439429(0x36b):await this[_0x439429(0x43c)](_0x3e4aef,_0x254af5);break;case _0x439429(0x533):await this[_0x439429(0x724)](_0x3e4aef,_0x254af5);break;case _0x439429(0x6ee):await this[_0x439429(0x6ff)](_0x3e4aef,_0x254af5);break;case _0x439429(0x443):await this[_0x439429(0x6ff)](_0x3e4aef,_0x254af5);break;case _0x439429(0x441):await this[_0x439429(0x4f8)](_0x3e4aef,_0x254af5);break;default:this[_0x439429(0x577)]['error'](this['instanceName']+'\x20('+this[_0x439429(0x3a4)][_0x439429(0x5a4)]+_0x439429(0x552)+_0x254af5[_0x439429(0x668)][_0x439429(0x421)]);}}catch(_0xad9c6d){this[_0x439429(0x577)][_0x439429(0x252)](this[_0x439429(0x6c0)]+'\x20('+this['instance'][_0x439429(0x5a4)]+_0x439429(0x476)+JSON['stringify'](_0xad9c6d,null,0x2));}}async['updateConversation'](_0x419ecc,_0x284013,_0x1a3733,_0x3ceba7=!0x1,_0x33a1f6=!0x1){const _0x534e34=a0_0x359adc;_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x265)]||(_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x265)]=[]);let _0x309fe4=(_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x265)]?.[_0x534e34(0x582)]??0x0)+0x1,_0x479bee=_0x419ecc['chatLog'][_0x534e34(0x265)][_0x534e34(0x694)](_0x1da3d8=>String(_0x1da3d8[_0x534e34(0x6bc)])===String(_0x284013[_0x534e34(0x2ec)]))[_0x534e34(0x582)]+0x1,_0x19400f=_0x1a3733?.['onTime']??Date[_0x534e34(0x644)](),_0x26b4a6=_0x1a3733?.[_0x534e34(0x252)]?_0x1a3733[_0x534e34(0x41e)]??_0x1a3733[_0x534e34(0x252)][_0x534e34(0x25a)]():void 0x0,_0x3b8192={'onTime':_0x19400f,'blockId':_0x284013[_0x534e34(0x2ec)],'order':_0x309fe4,'activatedCount':_0x479bee,'error':_0x1a3733?.[_0x534e34(0x252)]??!0x1,'messageId':_0x1a3733?.[_0x534e34(0x6ab)],'apiResponse':_0x1a3733?.[_0x534e34(0x6bf)],'apiResponseString':_0x1a3733?.[_0x534e34(0x6bf)]?JSON['stringify'](_0x1a3733?.[_0x534e34(0x6bf)]):void 0x0,'variable':_0x1a3733?.[_0x534e34(0x18a)],'oldValue':_0x1a3733?.[_0x534e34(0x757)],'newValue':_0x1a3733?.[_0x534e34(0x260)],'newStoppedUntil':_0x1a3733?.[_0x534e34(0x51a)],'moreLogs':_0x1a3733?.['moreLogs'],'errorLog':_0x26b4a6};if(_0x1a3733[_0x534e34(0x1e6)]&&_0x1a3733['moreLogs'][_0x534e34(0x582)]>0x0){let _0x439a36=_0x1a3733['moreLogs'][_0x534e34(0x4a3)](_0x225e66=>this[_0x534e34(0x526)](_0x225e66,_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x6fc)]));_0x3b8192[_0x534e34(0x1e6)]=_0x439a36;}_0x419ecc[_0x534e34(0x2db)]['realVariables']||(_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x6fc)]={}),_0x419ecc[_0x534e34(0x2db)]['realVariables'][_0x534e34(0x306)]=String(_0x479bee),_0x419ecc[_0x534e34(0x2db)]['realVariables'][_0x534e34(0x5a7)]=String(_0x1a3733['error']??!0x1),_0x419ecc['chatLog'][_0x534e34(0x265)]['push'](_0x3b8192),_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x59b)]=_0x284013['_id']['toString'](),_0x419ecc[_0x534e34(0x2db)]['lastSendMessage']&&(_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x4aa)]=_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x4aa)]),_0x419ecc[_0x534e34(0x2db)]['lastReceivedMessage']&&(_0x419ecc['chatLog'][_0x534e34(0x5ef)]=_0x419ecc[_0x534e34(0x2db)]['lastReceivedMessage']),_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x1c6)]&&(_0x419ecc[_0x534e34(0x2db)]['lastCondition']=_0x419ecc[_0x534e34(0x2db)][_0x534e34(0x1c6)]),_0x33a1f6&&(_0x419ecc['status']=_0x534e34(0x6ef)),_0x3ceba7?this['saveConversationToDatabase'](_0x419ecc):this[_0x534e34(0x57d)](_0x419ecc,_0x284013);}[a0_0x359adc(0x526)](_0x1687ce,_0x4dca56){return _0x1687ce['replace'](/\{\{([^}]+)\}\}/g,(_0x4221e8,_0xf51b9c)=>_0x4dca56[_0xf51b9c]?'{{'+_0xf51b9c+'}}\x20->\x20\x22'+_0x4dca56[_0xf51b9c]+'\x22':'{{'+_0xf51b9c+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x359adc(0x465)](_0x1282c3){const _0x46369d=a0_0x359adc;try{let _0x5406f1=Object[_0x46369d(0x72b)](_0x1282c3['chatLog'][_0x46369d(0x6fc)])[_0x46369d(0x4a3)](([_0x25a6e8,_0x574c32])=>({'name':_0x25a6e8,'value':_0x574c32})),_0x563bd0=await U[_0x46369d(0x362)]({'_id':_0x1282c3[_0x46369d(0x2ec)]},{'$set':{'chatLog.lastBlockId':_0x1282c3[_0x46369d(0x2db)][_0x46369d(0x59b)],'blocks':_0x1282c3[_0x46369d(0x32a)],'chatLog.lastSendMessage':_0x1282c3['chatLog'][_0x46369d(0x4aa)],'chatLog.lastReceivedMessage':_0x1282c3[_0x46369d(0x2db)][_0x46369d(0x5ef)],'chatLog.lastCondition':_0x1282c3[_0x46369d(0x2db)][_0x46369d(0x1c6)],'chatLog.chatVariables':_0x5406f1,'chatLog.realVariables':_0x1282c3[_0x46369d(0x2db)][_0x46369d(0x6fc)],'status':_0x1282c3[_0x46369d(0x595)],'chatLog.blockLogs':_0x1282c3[_0x46369d(0x2db)]['blockLogs'],'waitingMenu_id':_0x1282c3[_0x46369d(0x1cb)],'waitingMenu_text':_0x1282c3['waitingMenu_text'],'waitingMenu_replyOptions':_0x1282c3[_0x46369d(0x537)]}},{'new':!0x0});if(_0x563bd0){this[_0x46369d(0x577)][_0x46369d(0x4d2)](this[_0x46369d(0x6c0)]+'\x20('+this[_0x46369d(0x3a4)]['wuid']+_0x46369d(0x524)+_0x563bd0[_0x46369d(0x2ec)]);try{let _0x189d95=[_0x46369d(0x332),_0x46369d(0x19f),_0x46369d(0x2d2),'cpf',_0x46369d(0x595),_0x46369d(0x309),_0x46369d(0x597),'tags'];if(!this['AutomateSystem']&&(await this[_0x46369d(0x408)](),!this[_0x46369d(0x32c)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x2277a7=this[_0x46369d(0x32c)]?.[_0x46369d(0x5b6)][_0x46369d(0x4a3)](_0x33d882=>_0x33d882[_0x46369d(0x613)]),_0x280178={};Object['entries'](_0x1282c3[_0x46369d(0x2db)][_0x46369d(0x6fc)])[_0x46369d(0x4a9)](([_0x8cdaac,_0x4a3f65])=>{const _0x157005=_0x46369d;_0x189d95[_0x157005(0x3d6)](_0x8cdaac)&&(_0x8cdaac===_0x157005(0x320)&&typeof _0x4a3f65==_0x157005(0x1e5)?_0x280178[_0x8cdaac]=_0x4a3f65['split'](',')[_0x157005(0x4a3)](_0x55e1ba=>_0x55e1ba[_0x157005(0x3d5)]())['filter'](_0x204c58=>_0x204c58!==''):_0x280178[_0x8cdaac]=_0x4a3f65);});let _0x5c40bd=_0x1282c3[_0x46369d(0x2db)][_0x46369d(0x265)][_0x1282c3['chatLog'][_0x46369d(0x265)][_0x46369d(0x582)]-0x1];if(_0x5c40bd){let _0x8f6e8a=_0x5c40bd['newStoppedUntil'];_0x8f6e8a!==void 0x0&&(_0x280178[_0x46369d(0x3a5)]=_0x8f6e8a[_0x46369d(0x25a)]());}let _0x9ada06=_0x5406f1[_0x46369d(0x694)](_0x34bb9a=>_0x2277a7['includes'](_0x34bb9a['name']));this['logger'][_0x46369d(0x4d2)](this[_0x46369d(0x6c0)]+'\x20('+this[_0x46369d(0x3a4)][_0x46369d(0x5a4)]+_0x46369d(0x291)),this[_0x46369d(0x577)]['verbose'](_0x280178),this['logger'][_0x46369d(0x4d2)](this[_0x46369d(0x6c0)]+'\x20('+this['instance'][_0x46369d(0x5a4)]+_0x46369d(0x4c3)),this[_0x46369d(0x577)]['verbose'](_0x9ada06);let _0x47f006=_0x9ada06[_0x46369d(0x4a3)](_0x393dc7=>{const _0x58368e=_0x46369d;let _0x4ecddb=this[_0x58368e(0x32c)]?.[_0x58368e(0x5b6)]['find'](_0x2f350f=>_0x2f350f[_0x58368e(0x613)]===_0x393dc7[_0x58368e(0x613)]);if(!_0x4ecddb)throw new Error(_0x58368e(0x755)+_0x393dc7[_0x58368e(0x613)]);return{'_id':_0x4ecddb['_id'],'value':_0x393dc7[_0x58368e(0x4cf)]};});this[_0x46369d(0x577)][_0x46369d(0x4d2)](this[_0x46369d(0x6c0)]+'\x20('+this[_0x46369d(0x3a4)][_0x46369d(0x5a4)]+'):\x20transformedCustomFieldVariables'),this['logger'][_0x46369d(0x4d2)](_0x47f006),await this[_0x46369d(0x26e)](_0x1282c3[_0x46369d(0x340)],_0x280178,_0x47f006);}catch(_0x103d9f){this[_0x46369d(0x577)]['error'](this[_0x46369d(0x6c0)]+'\x20('+this['instance'][_0x46369d(0x5a4)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+JSON[_0x46369d(0x493)](_0x103d9f));}}else this['logger'][_0x46369d(0x252)](this[_0x46369d(0x6c0)]+'\x20('+this[_0x46369d(0x3a4)][_0x46369d(0x5a4)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x21af4e){this[_0x46369d(0x577)][_0x46369d(0x252)](this['instanceName']+'\x20('+this[_0x46369d(0x3a4)]['wuid']+_0x46369d(0x6f1)+JSON[_0x46369d(0x493)](_0x21af4e));}}async['saveChatVariables'](_0x114070,_0xb6be1c,_0x5d38e6){const _0x26fc76=a0_0x359adc;try{let _0x52a964={'leadInfo.leadnome':_0xb6be1c['nome'],'leadInfo.nomecompleto':_0xb6be1c[_0x26fc76(0x19f)],'leadInfo.email':_0xb6be1c['email'],'leadInfo.cpf':_0xb6be1c['cpf'],'leadInfo.status':_0xb6be1c['status'],'leadInfo.notas':_0xb6be1c[_0x26fc76(0x309)],'leadInfo.responsavelid':_0xb6be1c['responsavelid'],'leadInfo.tags':_0xb6be1c[_0x26fc76(0x320)],'leadInfo.customFields':_0x5d38e6};if('desativadoFluxoAte'in _0xb6be1c){let _0x41997e=_0xb6be1c[_0x26fc76(0x3a5)];_0x52a964[_0x26fc76(0x4ce)]=_0x41997e?Number(_0x41997e):null;}let _0x377cdc=await this[_0x26fc76(0x638)][_0x26fc76(0x39d)]['updateOne']({'where':{'_id':_0x114070,'owner':this['instance'][_0x26fc76(0x5a4)]}},_0x52a964);_0x377cdc?(this[_0x26fc76(0x577)][_0x26fc76(0x4d2)](this['instanceName']+'\x20('+this[_0x26fc76(0x3a4)][_0x26fc76(0x5a4)]+_0x26fc76(0x4b2)+_0x377cdc[_0x26fc76(0x2ec)]),q(this[_0x26fc76(0x6c0)],_0x26fc76(0x5da),{'chat':_0x377cdc})):this[_0x26fc76(0x577)][_0x26fc76(0x252)](this[_0x26fc76(0x6c0)]+'\x20('+this[_0x26fc76(0x3a4)]['wuid']+_0x26fc76(0x6f9));}catch(_0x30db86){this[_0x26fc76(0x577)][_0x26fc76(0x252)](this[_0x26fc76(0x6c0)]+'\x20('+this[_0x26fc76(0x3a4)][_0x26fc76(0x5a4)]+_0x26fc76(0x52f)+JSON[_0x26fc76(0x493)](_0x30db86,null,0x2));}}async[a0_0x359adc(0x19e)](_0xda4071,_0x142dd1){const _0x148a31=a0_0x359adc;this[_0x148a31(0x577)][_0x148a31(0x4d2)](this[_0x148a31(0x6c0)]+'\x20('+this[_0x148a31(0x3a4)][_0x148a31(0x5a4)]+_0x148a31(0x62e)+_0x142dd1);try{let _0x55b432=await this[_0x148a31(0x638)]['chat'][_0x148a31(0x213)]({'where':{'_id':_0xda4071[_0x148a31(0x340)],'owner':_0xda4071[_0x148a31(0x72e)]}},{'leadInfo.desativadoFluxoAte':_0x142dd1});this[_0x148a31(0x577)][_0x148a31(0x4d2)](this[_0x148a31(0x6c0)]+'\x20('+this[_0x148a31(0x3a4)][_0x148a31(0x5a4)]+_0x148a31(0x5f7)+_0xda4071[_0x148a31(0x2ec)]),this[_0x148a31(0x577)][_0x148a31(0x4d2)](this[_0x148a31(0x6c0)]+'\x20('+this[_0x148a31(0x3a4)]['wuid']+_0x148a31(0x62e)+JSON[_0x148a31(0x493)](_0x55b432,null,0x2)),_0x55b432&&q(this[_0x148a31(0x6c0)],_0x148a31(0x5da),{'chat':_0x55b432});}catch(_0x5b1baf){this[_0x148a31(0x577)][_0x148a31(0x252)](this['instanceName']+'\x20('+this[_0x148a31(0x3a4)][_0x148a31(0x5a4)]+_0x148a31(0x185)+JSON[_0x148a31(0x493)](_0x5b1baf));}}async[a0_0x359adc(0x307)](_0x3719a1,_0x5821b3){const _0x3204e1=a0_0x359adc;try{this[_0x3204e1(0x577)][_0x3204e1(0x4d2)](this[_0x3204e1(0x6c0)]+'\x20('+this['instance'][_0x3204e1(0x5a4)]+_0x3204e1(0x2df));let _0x5b8a84=_0x5821b3['replace'](/\D/g,''),_0x2796ca=await I[_0x3204e1(0x50e)]({'owner':_0x3719a1,'testingWith':_0x5b8a84});return _0x2796ca||(this[_0x3204e1(0x577)][_0x3204e1(0x4d2)](this[_0x3204e1(0x6c0)]+'\x20('+this[_0x3204e1(0x3a4)][_0x3204e1(0x5a4)]+_0x3204e1(0x262)),_0x2796ca=await I['findOne']({'owner':_0x3719a1,'default':!0x0})),_0x2796ca||(this[_0x3204e1(0x577)]['verbose'](this[_0x3204e1(0x6c0)]+'\x20('+this['instance']['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x467b8d){return this[_0x3204e1(0x577)]['error'](this[_0x3204e1(0x6c0)]+'\x20('+this[_0x3204e1(0x3a4)][_0x3204e1(0x5a4)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+JSON[_0x3204e1(0x493)](_0x467b8d,null,0x2)),null;}}async[a0_0x359adc(0x620)](_0x53c6b1,_0x17d4cc,_0x465036){const _0x13f96d=a0_0x359adc;try{let _0x266ec2=!!_0x465036['vote'],_0x29b43f=_0x465036[_0x13f96d(0x67b)],_0x333f4f=null;if(this['logger'][_0x13f96d(0x4d2)](this['instanceName']+'\x20('+this[_0x13f96d(0x3a4)]['wuid']+'):\x20\x20isVote:\x20'+_0x266ec2+_0x13f96d(0x267)+_0x29b43f),_0x266ec2){if(this[_0x13f96d(0x577)]['verbose'](this[_0x13f96d(0x6c0)]+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto'),_0x333f4f=await U['findOne']({'owner':_0x53c6b1,'remoteJid':_0x17d4cc,'waitingMenu_id':_0x29b43f}),!_0x333f4f)return this[_0x13f96d(0x577)][_0x13f96d(0x4d2)](this[_0x13f96d(0x6c0)]+'\x20('+this[_0x13f96d(0x3a4)][_0x13f96d(0x5a4)]+'):\x20não\x20encontrou'),null;let _0x21eef7=Date[_0x13f96d(0x644)](),_0x2c2132=_0x333f4f?.[_0x13f96d(0x752)]||0x0,_0x4e95f9=_0x21eef7-_0x2c2132*0x3c*0x3e8;if(_0x333f4f[_0x13f96d(0x489)]<_0x4e95f9){this[_0x13f96d(0x577)][_0x13f96d(0x4d2)](this[_0x13f96d(0x6c0)]+'\x20('+this['instance'][_0x13f96d(0x5a4)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x5256bf={'number':_0x333f4f[_0x13f96d(0x340)],'options':{'delay':0x0},'textMessage':{'text':_0x333f4f[_0x13f96d(0x1c1)]}};return await this[_0x13f96d(0x424)](_0x5256bf),await U['updateOne']({'_id':_0x333f4f['_id']},{'status':_0x13f96d(0x6ef),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]}),null;}return _0x333f4f['lastInteraction']=Date[_0x13f96d(0x644)](),_0x333f4f['chatLog'][_0x13f96d(0x5ef)]=_0x465036,_0x333f4f;}else{if(this[_0x13f96d(0x577)][_0x13f96d(0x4d2)](this[_0x13f96d(0x6c0)]+'\x20('+this[_0x13f96d(0x3a4)]['wuid']+'):\x20'+this[_0x13f96d(0x3a4)][_0x13f96d(0x5a4)]+_0x13f96d(0x2a6)),this['logger'][_0x13f96d(0x4d2)](this[_0x13f96d(0x6c0)]+'\x20('+this['instance'][_0x13f96d(0x5a4)]+'):\x20Procurando\x20conversa'),_0x333f4f=await U[_0x13f96d(0x50e)]({'owner':_0x53c6b1,'remoteJid':_0x17d4cc,'status':_0x13f96d(0x50b)}),!_0x333f4f){let _0x1491ac=await this[_0x13f96d(0x307)](_0x53c6b1,_0x17d4cc);if(_0x1491ac&&(_0x333f4f=await this[_0x13f96d(0x380)](_0x1491ac,_0x465036[_0x13f96d(0x6f8)],_0x465036)),!_0x333f4f)return null;}let _0x11e2af=Date['now'](),_0x1b0b66=_0x333f4f?.[_0x13f96d(0x752)]||0x0,_0x1c33ce=_0x11e2af-_0x1b0b66*0x3c*0x3e8;if(this[_0x13f96d(0x577)][_0x13f96d(0x4d2)](this['instanceName']+'\x20('+this[_0x13f96d(0x3a4)][_0x13f96d(0x5a4)]+_0x13f96d(0x2ce)+_0x11e2af+',\x20Minutes\x20to\x20Close:\x20'+_0x1b0b66+_0x13f96d(0x5a2)+_0x1c33ce),this[_0x13f96d(0x577)][_0x13f96d(0x4d2)](this[_0x13f96d(0x6c0)]+'\x20('+this[_0x13f96d(0x3a4)][_0x13f96d(0x5a4)]+_0x13f96d(0x562)),this[_0x13f96d(0x577)]['verbose'](this[_0x13f96d(0x6c0)]+'\x20('+this[_0x13f96d(0x3a4)][_0x13f96d(0x5a4)]+_0x13f96d(0x4d9)+_0x333f4f[_0x13f96d(0x489)]),this[_0x13f96d(0x577)][_0x13f96d(0x4d2)](this[_0x13f96d(0x6c0)]+'\x20('+this['instance'][_0x13f96d(0x5a4)]+_0x13f96d(0x6d6)+_0x1c33ce),_0x333f4f[_0x13f96d(0x489)]<_0x1c33ce){this[_0x13f96d(0x577)][_0x13f96d(0x4d2)](this['instanceName']+'\x20('+this[_0x13f96d(0x3a4)][_0x13f96d(0x5a4)]+'):\x20Conversa\x20está\x20expirada');let _0x4ecafd=await this[_0x13f96d(0x307)](_0x53c6b1,_0x17d4cc);if(_0x4ecafd===null)return null;_0x333f4f&&await U['updateOne']({'_id':_0x333f4f[_0x13f96d(0x2ec)]},{'status':_0x13f96d(0x6ef)}),_0x333f4f=await this[_0x13f96d(0x380)](_0x4ecafd,_0x465036['key'],_0x465036);}return _0x333f4f['lastInteraction']=_0x11e2af,_0x333f4f[_0x13f96d(0x2db)]['lastReceivedMessage']=_0x465036,_0x333f4f;}}catch(_0x50b0dc){return this[_0x13f96d(0x577)][_0x13f96d(0x252)](this[_0x13f96d(0x6c0)]+'\x20('+this[_0x13f96d(0x3a4)][_0x13f96d(0x5a4)]+_0x13f96d(0x518)+JSON[_0x13f96d(0x493)](_0x50b0dc,null,0x2)),null;}}async[a0_0x359adc(0x380)](_0xf32c8b,_0xb853cc,_0x4be19f){const _0x2c990e=a0_0x359adc;this[_0x2c990e(0x577)][_0x2c990e(0x4d2)](this[_0x2c990e(0x6c0)]+'\x20('+this['instance'][_0x2c990e(0x5a4)]+_0x2c990e(0x6da));try{let _0x181831=require(_0x2c990e(0x720))[_0x2c990e(0x4d0)],_0xf14964=Date['now'](),_0xe9c8cb=_0x2c990e(0x241),_0x289d9b=_0xb853cc['fromMe']?null:_0x4be19f,_0xefec3a=_0xb853cc[_0x2c990e(0x6c1)]?_0x4be19f:null,_0x76c81a=_0xb853cc['remoteJid'];await this[_0x2c990e(0x697)](_0x76c81a);let _0x551f51={..._0xf32c8b['_doc'],'chatLog':null},_0x28646b=await this[_0x2c990e(0x6ba)](_0x551f51['variables']),_0x75bd8f=await this[_0x2c990e(0x592)](_0x76c81a),_0x26eb76={..._0x28646b,..._0x75bd8f,'_remoteJid':_0x76c81a},_0x42e1c1={'lastReceivedMessage':_0x289d9b,'lastSendMessage':_0xefec3a,'lastBlockId':_0xe9c8cb,'lastCondition':!0x0,'realVariables':_0x26eb76};_0x551f51[_0x2c990e(0x2db)]=_0x42e1c1,delete _0x551f51[_0x2c990e(0x2ec)],_0x551f51['_id']=new _0x181831(),_0x551f51[_0x2c990e(0x489)]=_0xf14964,_0x551f51[_0x2c990e(0x595)]='open',_0x551f51[_0x2c990e(0x340)]=_0x76c81a;let _0x42e487=await U[_0x2c990e(0x677)](_0x551f51);return this[_0x2c990e(0x577)][_0x2c990e(0x4d2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2c990e(0x66b)),_0x42e487?_0x551f51:null;}catch(_0x3ac585){return this['logger'][_0x2c990e(0x252)](this[_0x2c990e(0x6c0)]+'\x20('+this[_0x2c990e(0x3a4)][_0x2c990e(0x5a4)]+_0x2c990e(0x578)+JSON['stringify'](_0x3ac585,null,0x2)),_0x3ac585;}}async[a0_0x359adc(0x393)](_0x362858,_0x78874f){const _0x213f5d=a0_0x359adc;let _0x39fae6=_0x362858['remoteJid'];_0x78874f[_0x213f5d(0x668)][_0x213f5d(0x340)]&&_0x78874f['uazapi'][_0x213f5d(0x340)][_0x213f5d(0x3d5)]()!==''&&(_0x39fae6=_0x78874f[_0x213f5d(0x668)][_0x213f5d(0x340)]['trim']()),this[_0x213f5d(0x577)][_0x213f5d(0x4d2)](this[_0x213f5d(0x6c0)]+'\x20('+this[_0x213f5d(0x3a4)][_0x213f5d(0x5a4)]+'):\x20Enviando\x20texto');let _0x54c73e={'number':_0x39fae6,'options':{'delay':_0x78874f[_0x213f5d(0x668)][_0x213f5d(0x767)]},'textMessage':{'text':_0x78874f['uazapi'][_0x213f5d(0x632)]}};try{let _0x13bb0f=await this[_0x213f5d(0x424)](_0x54c73e);if(_0x13bb0f){let _0x51001c={'_id':_0x13bb0f[_0x213f5d(0x6f8)]['id'],'_fromMe':_0x13bb0f[_0x213f5d(0x6f8)][_0x213f5d(0x6c1)],'_remoteJid':_0x13bb0f[_0x213f5d(0x6f8)][_0x213f5d(0x340)]};_0x362858[_0x213f5d(0x2db)][_0x213f5d(0x59b)]=_0x78874f[_0x213f5d(0x2ec)][_0x213f5d(0x25a)]();let {message_normalized:_0x5728bd}=this[_0x213f5d(0x305)](_0x13bb0f[_0x213f5d(0x671)],_(_0x13bb0f[_0x213f5d(0x671)]),null);_0x362858['chatLog']['lastSendMessage']=await _0x5728bd;let _0x2608fa={'messageId':_0x13bb0f[_0x213f5d(0x6f8)]['id']},_0x41eacb=_0x362858[_0x213f5d(0x2db)][_0x213f5d(0x6fc)];Object[_0x213f5d(0x5f8)](_0x41eacb,_0x51001c),_0x362858[_0x213f5d(0x2db)]['realVariables']=_0x41eacb,this[_0x213f5d(0x30c)](_0x362858,_0x78874f,_0x2608fa);}else{let _0x3f369a={'error':!0x0};this['updateConversation'](_0x362858,_0x78874f,_0x3f369a),this['logger'][_0x213f5d(0x252)](this[_0x213f5d(0x6c0)]+'\x20('+this['instance'][_0x213f5d(0x5a4)]+_0x213f5d(0x3da));}}catch(_0x302f7f){let _0x3e9f21={'error':!0x0,'errorLog':_0x302f7f['toString']()};this['updateConversation'](_0x362858,_0x78874f,_0x3e9f21),this['logger']['error'](this[_0x213f5d(0x6c0)]+'\x20('+this['instance'][_0x213f5d(0x5a4)]+_0x213f5d(0x284)+JSON[_0x213f5d(0x493)](_0x302f7f,null,0x2));}}async['uazapiSendMedia'](_0x3598b5,_0x34d627){const _0x10cf69=a0_0x359adc;let _0x2f2687=_0x3598b5[_0x10cf69(0x340)];_0x34d627[_0x10cf69(0x668)][_0x10cf69(0x340)]&&_0x34d627[_0x10cf69(0x668)]['remoteJid'][_0x10cf69(0x3d5)]()!==''&&(_0x2f2687=_0x34d627['uazapi'][_0x10cf69(0x340)]['trim']()),this['logger'][_0x10cf69(0x4d2)](this[_0x10cf69(0x6c0)]+'\x20('+this['instance'][_0x10cf69(0x5a4)]+_0x10cf69(0x438));let _0x3b3fff={'number':_0x2f2687,'options':{'delay':_0x34d627[_0x10cf69(0x668)][_0x10cf69(0x767)]},'mediaMessage':{'mediatype':_0x34d627[_0x10cf69(0x668)][_0x10cf69(0x235)],'caption':_0x34d627['uazapi']['caption'],'media':_0x34d627['uazapi']['media'],'fileName':_0x34d627['uazapi'][_0x10cf69(0x60d)]}};try{let _0xf9a3c=await this['mediaMessage'](_0x3b3fff);if(_0xf9a3c){let _0x15e6b9={'_id':_0xf9a3c[_0x10cf69(0x6f8)]['id'],'_fromMe':_0xf9a3c[_0x10cf69(0x6f8)]['fromMe'],'_remoteJid':_0xf9a3c['key'][_0x10cf69(0x340)]};_0x3598b5[_0x10cf69(0x2db)][_0x10cf69(0x59b)]=_0x34d627[_0x10cf69(0x2ec)][_0x10cf69(0x25a)]();let {message_normalized:_0x39da64}=this[_0x10cf69(0x305)](_0xf9a3c[_0x10cf69(0x671)],_(_0xf9a3c[_0x10cf69(0x671)]),null);_0x3598b5[_0x10cf69(0x2db)][_0x10cf69(0x4aa)]=await _0x39da64;let _0x19fb28={'messageId':_0xf9a3c[_0x10cf69(0x6f8)]['id']},_0x4786a0=_0x3598b5[_0x10cf69(0x2db)][_0x10cf69(0x6fc)];Object[_0x10cf69(0x5f8)](_0x4786a0,_0x15e6b9),_0x3598b5[_0x10cf69(0x2db)]['realVariables']=_0x4786a0,this[_0x10cf69(0x30c)](_0x3598b5,_0x34d627,_0x19fb28);}else{let _0x3735f2={'error':!0x0};this['updateConversation'](_0x3598b5,_0x34d627,_0x3735f2),this[_0x10cf69(0x577)][_0x10cf69(0x252)](this[_0x10cf69(0x6c0)]+'\x20('+this[_0x10cf69(0x3a4)][_0x10cf69(0x5a4)]+_0x10cf69(0x742));}}catch(_0x1fcefc){let _0x3b4a13={'error':!0x0,'errorLog':_0x1fcefc[_0x10cf69(0x25a)]()};this[_0x10cf69(0x30c)](_0x3598b5,_0x34d627,_0x3b4a13),this[_0x10cf69(0x577)][_0x10cf69(0x252)](this[_0x10cf69(0x6c0)]+'\x20('+this[_0x10cf69(0x3a4)][_0x10cf69(0x5a4)]+_0x10cf69(0x3fe)+JSON[_0x10cf69(0x493)](_0x1fcefc,null,0x2));}}async[a0_0x359adc(0x433)](_0x1155c0,_0x22f7dd){const _0x6219ec=a0_0x359adc;let _0x7a54f9=_0x1155c0[_0x6219ec(0x340)];_0x22f7dd[_0x6219ec(0x668)][_0x6219ec(0x340)]&&_0x22f7dd[_0x6219ec(0x668)][_0x6219ec(0x340)]['trim']()!==''&&(_0x7a54f9=_0x22f7dd['uazapi'][_0x6219ec(0x340)][_0x6219ec(0x3d5)]()),this[_0x6219ec(0x577)][_0x6219ec(0x4d2)](this[_0x6219ec(0x6c0)]+'\x20('+this['instance'][_0x6219ec(0x5a4)]+_0x6219ec(0x2bb));let _0x1cfdb0={'number':_0x7a54f9,'options':{'delay':_0x22f7dd['uazapi'][_0x6219ec(0x767)]},'locationMessage':{'name':_0x22f7dd[_0x6219ec(0x668)][_0x6219ec(0x613)],'address':_0x22f7dd[_0x6219ec(0x668)]['address'],'latitude':_0x22f7dd[_0x6219ec(0x668)][_0x6219ec(0x43f)],'longitude':_0x22f7dd['uazapi'][_0x6219ec(0x205)]}};try{let _0x4112fb=await this[_0x6219ec(0x500)](_0x1cfdb0);if(_0x4112fb){let _0x259750={'_id':_0x4112fb['key']['id'],'_fromMe':_0x4112fb[_0x6219ec(0x6f8)]['fromMe'],'_remoteJid':_0x4112fb['key'][_0x6219ec(0x340)]};_0x1155c0[_0x6219ec(0x2db)][_0x6219ec(0x59b)]=_0x22f7dd[_0x6219ec(0x2ec)][_0x6219ec(0x25a)]();let {message_normalized:_0x1e3979}=this['normalizeMessage'](_0x4112fb[_0x6219ec(0x671)],_(_0x4112fb[_0x6219ec(0x671)]),null);_0x1155c0[_0x6219ec(0x2db)][_0x6219ec(0x4aa)]=await _0x1e3979;let _0x3429fa={'messageId':_0x4112fb[_0x6219ec(0x6f8)]['id']},_0x50b33f=_0x1155c0[_0x6219ec(0x2db)][_0x6219ec(0x6fc)];Object[_0x6219ec(0x5f8)](_0x50b33f,_0x259750),_0x1155c0[_0x6219ec(0x2db)][_0x6219ec(0x6fc)]=_0x50b33f,this['updateConversation'](_0x1155c0,_0x22f7dd,_0x3429fa);}else{let _0x2d5796={'error':!0x0};this['updateConversation'](_0x1155c0,_0x22f7dd,_0x2d5796),this['logger'][_0x6219ec(0x252)](this[_0x6219ec(0x6c0)]+'\x20('+this[_0x6219ec(0x3a4)][_0x6219ec(0x5a4)]+_0x6219ec(0x561));}}catch(_0xf16db0){let _0x76b03d={'error':!0x0,'errorLog':_0xf16db0['toString']()};this['updateConversation'](_0x1155c0,_0x22f7dd,_0x76b03d),this[_0x6219ec(0x577)][_0x6219ec(0x252)](this[_0x6219ec(0x6c0)]+'\x20('+this[_0x6219ec(0x3a4)][_0x6219ec(0x5a4)]+_0x6219ec(0x1e3)+JSON['stringify'](_0xf16db0,null,0x2));}}async[a0_0x359adc(0x43c)](_0x117713,_0x4296e8){const _0x264932=a0_0x359adc;let _0x505193=_0x117713[_0x264932(0x340)];_0x4296e8[_0x264932(0x668)][_0x264932(0x340)]&&_0x4296e8[_0x264932(0x668)]['remoteJid']['trim']()!==''&&(_0x505193=_0x4296e8[_0x264932(0x668)]['remoteJid'][_0x264932(0x3d5)]()),this['logger'][_0x264932(0x4d2)](this['instanceName']+'\x20('+this[_0x264932(0x3a4)][_0x264932(0x5a4)]+'):\x20Enviando\x20áudio');let _0x357d46={'number':_0x505193,'options':{'delay':_0x4296e8[_0x264932(0x668)][_0x264932(0x767)]},'audioMessage':{'audio':_0x4296e8[_0x264932(0x668)]['audio']}};try{let _0x5f0f5a=await this[_0x264932(0x658)](_0x357d46);if(_0x5f0f5a){let _0x1f00f2={'_id':_0x5f0f5a['key']['id'],'_fromMe':_0x5f0f5a[_0x264932(0x6f8)][_0x264932(0x6c1)],'_remoteJid':_0x5f0f5a[_0x264932(0x6f8)]['remoteJid']};_0x117713[_0x264932(0x2db)][_0x264932(0x59b)]=_0x4296e8[_0x264932(0x2ec)]['toString']();let {message_normalized:_0x366beb}=this[_0x264932(0x305)](_0x5f0f5a[_0x264932(0x671)],_(_0x5f0f5a[_0x264932(0x671)]),null);_0x117713[_0x264932(0x2db)]['lastSendMessage']=await _0x366beb;let _0x466570={'messageId':_0x5f0f5a['key']['id']},_0x2e97bd=_0x117713[_0x264932(0x2db)][_0x264932(0x6fc)];Object[_0x264932(0x5f8)](_0x2e97bd,_0x1f00f2),_0x117713[_0x264932(0x2db)][_0x264932(0x6fc)]=_0x2e97bd,this[_0x264932(0x30c)](_0x117713,_0x4296e8,_0x466570);}else{let _0x3a08a6={'error':!0x0};this[_0x264932(0x30c)](_0x117713,_0x4296e8,_0x3a08a6),this[_0x264932(0x577)][_0x264932(0x252)](this[_0x264932(0x6c0)]+'\x20('+this[_0x264932(0x3a4)][_0x264932(0x5a4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x1ee565){let _0x5af8f2={'error':!0x0,'errorLog':_0x1ee565[_0x264932(0x25a)]()};this[_0x264932(0x30c)](_0x117713,_0x4296e8,_0x5af8f2),this[_0x264932(0x577)][_0x264932(0x252)](this[_0x264932(0x6c0)]+'\x20('+this[_0x264932(0x3a4)][_0x264932(0x5a4)]+_0x264932(0x34e)+JSON[_0x264932(0x493)](_0x1ee565,null,0x2));}}async['uazapiSendContact'](_0x126b56,_0x16cbae){const _0x569c95=a0_0x359adc;let _0x94b63a=_0x126b56[_0x569c95(0x340)];_0x16cbae[_0x569c95(0x668)]['remoteJid']&&_0x16cbae[_0x569c95(0x668)][_0x569c95(0x340)][_0x569c95(0x3d5)]()!==''&&(_0x94b63a=_0x16cbae['uazapi'][_0x569c95(0x340)][_0x569c95(0x3d5)]()),this[_0x569c95(0x577)][_0x569c95(0x4d2)](this['instanceName']+'\x20('+this[_0x569c95(0x3a4)][_0x569c95(0x5a4)]+_0x569c95(0x656));let _0x35b330={'number':_0x94b63a,'options':{'delay':_0x16cbae[_0x569c95(0x668)][_0x569c95(0x767)]},'contactMessage':[{'fullName':_0x16cbae[_0x569c95(0x668)][_0x569c95(0x5e1)],'phoneNumber':_0x16cbae['uazapi']['phoneNumber']}]};try{let _0x312cba=await this[_0x569c95(0x254)](_0x35b330);if(_0x312cba){let _0xc0ce1={'_id':_0x312cba[_0x569c95(0x6f8)]['id'],'_fromMe':_0x312cba[_0x569c95(0x6f8)][_0x569c95(0x6c1)],'_remoteJid':_0x312cba['key'][_0x569c95(0x340)]};_0x126b56[_0x569c95(0x2db)]['lastBlockId']=_0x16cbae[_0x569c95(0x2ec)]['toString']();let {message_normalized:_0x3c3817}=this['normalizeMessage'](_0x312cba['message'],_(_0x312cba[_0x569c95(0x671)]),null);_0x126b56['chatLog'][_0x569c95(0x4aa)]=await _0x3c3817;let _0x50a5cb={'messageId':_0x312cba[_0x569c95(0x6f8)]['id']},_0x244205=_0x126b56['chatLog'][_0x569c95(0x6fc)];Object[_0x569c95(0x5f8)](_0x244205,_0xc0ce1),_0x126b56[_0x569c95(0x2db)]['realVariables']=_0x244205,this[_0x569c95(0x30c)](_0x126b56,_0x16cbae,_0x50a5cb);}else{let _0x29f792={'error':!0x0};this['updateConversation'](_0x126b56,_0x16cbae,_0x29f792),this[_0x569c95(0x577)][_0x569c95(0x252)](this[_0x569c95(0x6c0)]+'\x20('+this['instance'][_0x569c95(0x5a4)]+_0x569c95(0x54b));}}catch(_0x308c15){let _0x49b2da={'error':!0x0,'errorLog':_0x308c15[_0x569c95(0x25a)]()};this[_0x569c95(0x30c)](_0x126b56,_0x16cbae,_0x49b2da),this[_0x569c95(0x577)][_0x569c95(0x252)](this[_0x569c95(0x6c0)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+JSON[_0x569c95(0x493)](_0x308c15,null,0x2));}}[a0_0x359adc(0x287)](_0x11d155,_0x575549){const _0x4fe38e=a0_0x359adc;for(let _0x4d8347 of _0x11d155)_0x4d8347['option']&&(_0x4d8347[_0x4fe38e(0x3f5)]=this[_0x4fe38e(0x188)](_0x4d8347[_0x4fe38e(0x3f5)],_0x575549)),_0x4d8347[_0x4fe38e(0x270)]&&(_0x4d8347['optionDescription']=this[_0x4fe38e(0x188)](_0x4d8347[_0x4fe38e(0x270)],_0x575549));}async['uazapiSendMenu'](_0x42d66d,_0x5da6bb){const _0x327488=a0_0x359adc;let _0x2ae00d=_0x42d66d[_0x327488(0x340)];_0x5da6bb['uazapi'][_0x327488(0x340)]&&_0x5da6bb[_0x327488(0x668)][_0x327488(0x340)]['trim']()!==''&&(_0x2ae00d=_0x5da6bb[_0x327488(0x668)][_0x327488(0x340)]['trim']()),this['logger'][_0x327488(0x4d2)](this[_0x327488(0x6c0)]+'\x20('+this[_0x327488(0x3a4)][_0x327488(0x5a4)]+_0x327488(0x744));let _0x1e7bc6=_0x42d66d[_0x327488(0x5df)][_0x327488(0x694)](_0x2548f1=>_0x2548f1[_0x327488(0x6bc)]===_0x5da6bb[_0x327488(0x2ec)])[_0x327488(0x55f)]((_0x2c3518,_0x2640ac)=>_0x2c3518[_0x327488(0x553)]-_0x2640ac[_0x327488(0x553)]);this[_0x327488(0x287)](_0x1e7bc6,_0x42d66d[_0x327488(0x2db)][_0x327488(0x6fc)]);let _0x45fb73=_0x1e7bc6['map'](_0x8559ea=>_0x8559ea[_0x327488(0x3f5)]),_0x2c5860={'number':_0x2ae00d,'menuMessage':{'type':_0x5da6bb['uazapi'][_0x327488(0x2a5)]||_0x327488(0x6d4),'text':_0x5da6bb[_0x327488(0x668)][_0x327488(0x632)]||_0x5da6bb['uazapi'][_0x327488(0x613)],'footerText':_0x5da6bb[_0x327488(0x668)][_0x327488(0x65c)],'buttonText':_0x5da6bb[_0x327488(0x668)][_0x327488(0x6a6)],'selectableCount':0x1,'choices':_0x45fb73},'options':{'delay':_0x5da6bb[_0x327488(0x668)][_0x327488(0x767)]}};try{let _0x5f3863=await this['menuMessage'](_0x2c5860);if(_0x5f3863){let _0x1bc671={'_id':_0x5f3863[_0x327488(0x6f8)]['id'],'_fromMe':_0x5f3863[_0x327488(0x6f8)][_0x327488(0x6c1)],'_remoteJid':_0x5f3863[_0x327488(0x6f8)]['remoteJid']};_0x5da6bb[_0x327488(0x668)][_0x327488(0x530)]===!0x0&&(_0x42d66d[_0x327488(0x595)]='waitingForReplyMenu',this[_0x327488(0x577)][_0x327488(0x4d2)](this[_0x327488(0x6c0)]+'\x20('+this[_0x327488(0x3a4)]['wuid']+_0x327488(0x3f4)+_0x42d66d[_0x327488(0x595)])),this[_0x327488(0x577)][_0x327488(0x4d2)](this[_0x327488(0x6c0)]+'\x20('+this[_0x327488(0x3a4)][_0x327488(0x5a4)]+_0x327488(0x3b6)+(_0x5da6bb[_0x327488(0x668)][_0x327488(0x613)]||_0x5da6bb[_0x327488(0x668)][_0x327488(0x632)])),_0x42d66d[_0x327488(0x1cb)]=_0x5f3863['key']['id'],_0x42d66d[_0x327488(0x45c)]=_0x5da6bb['uazapi'][_0x327488(0x613)]||_0x5da6bb[_0x327488(0x668)][_0x327488(0x632)],_0x42d66d[_0x327488(0x537)]=_0x1e7bc6,_0x5da6bb[_0x327488(0x668)]['menuExpiredMessage']&&(_0x42d66d[_0x327488(0x1c1)]=_0x5da6bb[_0x327488(0x668)][_0x327488(0x280)]),this[_0x327488(0x577)][_0x327488(0x4d2)](this[_0x327488(0x6c0)]+'\x20('+this[_0x327488(0x3a4)]['wuid']+_0x327488(0x3ac)+_0x42d66d['waitingMenu_text']),_0x42d66d[_0x327488(0x2db)]['lastBlockId']=_0x5da6bb[_0x327488(0x2ec)][_0x327488(0x25a)]();let {message_normalized:_0x1cde5a}=this['normalizeMessage'](_0x5f3863[_0x327488(0x671)],_(_0x5f3863[_0x327488(0x671)]),null);_0x42d66d['chatLog'][_0x327488(0x4aa)]=await _0x1cde5a;let _0x307fcc={'messageId':_0x5f3863[_0x327488(0x6f8)]['id']},_0x49064e=_0x42d66d[_0x327488(0x2db)][_0x327488(0x6fc)];Object['assign'](_0x49064e,_0x1bc671),_0x42d66d[_0x327488(0x2db)]['realVariables']=_0x49064e,this['updateConversation'](_0x42d66d,_0x5da6bb,_0x307fcc);}else{let _0x4f8a0c={'error':!0x0};this['updateConversation'](_0x42d66d,_0x5da6bb,_0x4f8a0c),this[_0x327488(0x577)][_0x327488(0x252)](this['instanceName']+'\x20('+this[_0x327488(0x3a4)][_0x327488(0x5a4)]+_0x327488(0x4fd));}}catch(_0x5bbf95){let _0x4c109f={'error':!0x0,'errorLog':JSON['stringify'](_0x5bbf95,null,0x2)};this[_0x327488(0x30c)](_0x42d66d,_0x5da6bb,_0x4c109f),this[_0x327488(0x577)][_0x327488(0x252)](this[_0x327488(0x6c0)]+'\x20('+this[_0x327488(0x3a4)]['wuid']+_0x327488(0x6b1)+JSON['stringify'](_0x5bbf95,null,0x2));}}async['uazapiDeleteMessage'](_0x539ab4,_0x3559f7){const _0x1bb2bf=a0_0x359adc;this[_0x1bb2bf(0x577)]['verbose'](this[_0x1bb2bf(0x6c0)]+'\x20('+this['instance'][_0x1bb2bf(0x5a4)]+'):\x20Deletando\x20mensagem');let _0x1f38ca=_0x539ab4[_0x1bb2bf(0x2db)][_0x1bb2bf(0x265)][_0x1bb2bf(0x673)](_0x5a3100=>_0x5a3100[_0x1bb2bf(0x6bc)][_0x1bb2bf(0x25a)]()===_0x3559f7[_0x1bb2bf(0x668)][_0x1bb2bf(0x6bc)][_0x1bb2bf(0x25a)]()),_0x53d6ca={'id':_0x1f38ca[_0x1bb2bf(0x6ab)],'remoteJid':_0x1f38ca['remoteJid'],'fromMe':_0x1f38ca[_0x1bb2bf(0x6c1)]};try{let _0x1fc0c1=await this[_0x1bb2bf(0x441)](_0x53d6ca);if(_0x1fc0c1){_0x539ab4[_0x1bb2bf(0x2db)][_0x1bb2bf(0x59b)]=_0x3559f7[_0x1bb2bf(0x2ec)][_0x1bb2bf(0x25a)]();let {message_normalized:_0x487c1d}=this[_0x1bb2bf(0x305)](_0x1fc0c1[_0x1bb2bf(0x671)],_(_0x1fc0c1[_0x1bb2bf(0x671)]),null);_0x539ab4['chatLog'][_0x1bb2bf(0x4aa)]=await _0x487c1d;let _0x4ac478={};this['updateConversation'](_0x539ab4,_0x3559f7,_0x4ac478);}else{let _0x5a229f={'error':!0x0};this[_0x1bb2bf(0x30c)](_0x539ab4,_0x3559f7,_0x5a229f),this[_0x1bb2bf(0x577)][_0x1bb2bf(0x252)](this[_0x1bb2bf(0x6c0)]+'\x20('+this[_0x1bb2bf(0x3a4)][_0x1bb2bf(0x5a4)]+_0x1bb2bf(0x5a5));}}catch(_0x2b65f5){let _0x59e738={'error':!0x0,'errorLog':JSON['stringify'](_0x2b65f5,null,0x2)};this[_0x1bb2bf(0x30c)](_0x539ab4,_0x3559f7,_0x59e738),this['logger'][_0x1bb2bf(0x252)](this[_0x1bb2bf(0x6c0)]+'\x20('+this[_0x1bb2bf(0x3a4)][_0x1bb2bf(0x5a4)]+_0x1bb2bf(0x3dd)+JSON[_0x1bb2bf(0x493)](_0x2b65f5,null,0x2));}}async['createFlow'](_0x2f5535){const _0x13f9be=a0_0x359adc;try{if(this[_0x13f9be(0x577)][_0x13f9be(0x4d2)](this[_0x13f9be(0x6c0)]+'\x20('+this['instance'][_0x13f9be(0x5a4)]+'):\x20Criando\x20fluxo...'),await I[_0x13f9be(0x50e)]({'owner':this[_0x13f9be(0x3a4)][_0x13f9be(0x5a4)],'name':_0x2f5535['name']}))return{'message':_0x13f9be(0x67f)};_0x2f5535[_0x13f9be(0x4d6)]===!0x0&&await I[_0x13f9be(0x271)]({'owner':this['instance'][_0x13f9be(0x5a4)]},{'default':!0x1});let _0x298cfe=new pe[(_0x13f9be(0x224))][(_0x13f9be(0x4d0))](),_0x588c4={'_id':_0x298cfe,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x385385={'_id':new pe['Types'][(_0x13f9be(0x4d0))](),'order':0x1,'groupId':_0x298cfe[_0x13f9be(0x25a)](),'type':'start'};return await I[_0x13f9be(0x677)]({'owner':this[_0x13f9be(0x3a4)][_0x13f9be(0x5a4)],'name':_0x2f5535[_0x13f9be(0x613)],'groups':[_0x588c4],'blocks':[_0x385385],..._0x2f5535});}catch(_0x458de2){throw this['logger']['error'](this[_0x13f9be(0x6c0)]+'\x20('+this[_0x13f9be(0x3a4)]['wuid']+'):\x20Erro\x20ao\x20criar\x20fluxo\x20'+JSON['stringify'](_0x458de2,null,0x2)),new g('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x458de2);}}async[a0_0x359adc(0x64b)](_0x35c497){const _0x26b422=a0_0x359adc;try{return this[_0x26b422(0x577)][_0x26b422(0x4d2)](this[_0x26b422(0x6c0)]+'\x20('+this['instance'][_0x26b422(0x5a4)]+_0x26b422(0x4b5)),await I['deleteOne']({'owner':this['instance']['wuid'],'name':_0x35c497});}catch(_0x1b1404){return this[_0x26b422(0x577)][_0x26b422(0x252)](this[_0x26b422(0x6c0)]+'\x20('+this[_0x26b422(0x3a4)][_0x26b422(0x5a4)]+_0x26b422(0x706)+JSON[_0x26b422(0x493)](_0x1b1404,null,0x2)),{'message':_0x26b422(0x2b8)+_0x1b1404};}}async[a0_0x359adc(0x1d2)](_0xbc55b8){const _0x5319b7=a0_0x359adc;try{this[_0x5319b7(0x577)][_0x5319b7(0x4d2)](this['instanceName']+'\x20('+this[_0x5319b7(0x3a4)]['wuid']+_0x5319b7(0x2df));let _0x2e2b2f=await I[_0x5319b7(0x50e)]({'owner':this[_0x5319b7(0x3a4)][_0x5319b7(0x5a4)],'name':_0xbc55b8});if(!_0x2e2b2f)throw new Error(_0x5319b7(0x3c2));if(!this[_0x5319b7(0x32c)]&&(await this['getAutomateSystem'](),!this[_0x5319b7(0x32c)]))return null;let _0x15c367=this[_0x5319b7(0x32c)]?.[_0x5319b7(0x5b6)][_0x5319b7(0x4a3)](_0x11059e=>_0x11059e[_0x5319b7(0x613)]),_0x4b3f71=['nome',_0x5319b7(0x19f),_0x5319b7(0x2d2),_0x5319b7(0x62d),_0x5319b7(0x595),_0x5319b7(0x309),_0x5319b7(0x597),_0x5319b7(0x320)];return _0x2e2b2f[_0x5319b7(0x23d)]=_0x2e2b2f[_0x5319b7(0x23d)][_0x5319b7(0x694)](_0xa77ea3=>!(_0xa77ea3[_0x5319b7(0x45b)]===_0x5319b7(0x286)||_0xa77ea3[_0x5319b7(0x286)])),_0x4b3f71['forEach'](_0x5d7623=>{const _0x50a573=_0x5319b7;_0x2e2b2f['variables'][_0x50a573(0x41c)]({'folder':_0x50a573(0x286),'name':_0x5d7623,'value':'','doc':'','leadInfo':!0x0});}),_0x15c367[_0x5319b7(0x4a9)](_0x479624=>{const _0x3f2038=_0x5319b7;let _0x5d910f=_0x2e2b2f[_0x3f2038(0x23d)][_0x3f2038(0x540)](_0x57db0a=>_0x57db0a[_0x3f2038(0x613)]===_0x479624);_0x5d910f===-0x1?_0x2e2b2f[_0x3f2038(0x23d)]['push']({'folder':'leadInfo','name':_0x479624,'value':'','doc':'','leadInfo':!0x0}):(_0x2e2b2f[_0x3f2038(0x23d)][_0x5d910f][_0x3f2038(0x45b)]=_0x3f2038(0x286),_0x2e2b2f[_0x3f2038(0x23d)][_0x5d910f][_0x3f2038(0x286)]=!0x0);}),_0x2e2b2f['blocks']&&_0x2e2b2f['blocks'][_0x5319b7(0x582)]>0x0&&_0x2e2b2f[_0x5319b7(0x32a)]['forEach'](_0x6b72b5=>{const _0x459285=_0x5319b7;_0x6b72b5['groupId']&&_0x6b72b5[_0x459285(0x3fb)]&&_0x6b72b5[_0x459285(0x3b1)]===_0x6b72b5[_0x459285(0x3fb)]&&(_0x6b72b5[_0x459285(0x3fb)]=null);}),await _0x2e2b2f[_0x5319b7(0x432)](),_0x2e2b2f;}catch(_0x4c07a8){throw this[_0x5319b7(0x577)][_0x5319b7(0x252)](this[_0x5319b7(0x6c0)]+'\x20('+this[_0x5319b7(0x3a4)]['wuid']+_0x5319b7(0x4ad)+JSON[_0x5319b7(0x493)](_0x4c07a8,null,0x2)),new g(_0x5319b7(0x2dc)+_0x4c07a8);}}async[a0_0x359adc(0x26b)](){const _0x21372b=a0_0x359adc;try{return this[_0x21372b(0x577)]['verbose'](this[_0x21372b(0x6c0)]+'\x20('+this[_0x21372b(0x3a4)][_0x21372b(0x5a4)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await I[_0x21372b(0x673)]({'owner':this[_0x21372b(0x3a4)]['wuid']});}catch(_0x2b8858){return this[_0x21372b(0x577)][_0x21372b(0x252)](this[_0x21372b(0x6c0)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+JSON['stringify'](_0x2b8858,null,0x2)),{'message':_0x21372b(0x2c6)+_0x2b8858};}}async[a0_0x359adc(0x642)](_0x23e0f7){const _0x147735=a0_0x359adc;try{this['logger'][_0x147735(0x4d2)](this[_0x147735(0x6c0)]+'\x20('+this[_0x147735(0x3a4)][_0x147735(0x5a4)]+_0x147735(0x419));let _0x16131d=await I[_0x147735(0x50e)]({'owner':this[_0x147735(0x3a4)][_0x147735(0x5a4)],'name':_0x23e0f7[_0x147735(0x613)]});if(!_0x16131d)return{'message':_0x147735(0x70f)};if(_0x23e0f7[_0x147735(0x4d6)]===!0x0&&await I[_0x147735(0x271)]({'owner':this[_0x147735(0x3a4)][_0x147735(0x5a4)]},{'default':!0x1}),_0x23e0f7[_0x147735(0x1db)]){if(await I[_0x147735(0x50e)]({'owner':this[_0x147735(0x3a4)][_0x147735(0x5a4)],'name':_0x23e0f7[_0x147735(0x1db)]}))return{'message':_0x147735(0x269)};_0x23e0f7[_0x147735(0x613)]=_0x23e0f7[_0x147735(0x1db)],delete _0x23e0f7['newName'];}return await I[_0x147735(0x3e5)](_0x16131d[_0x147735(0x2ec)],{'$set':_0x23e0f7},{'new':!0x0});}catch(_0x15f9dd){throw this[_0x147735(0x577)]['error'](this[_0x147735(0x6c0)]+'\x20('+this['instance']['wuid']+_0x147735(0x216)+JSON['stringify'](_0x15f9dd,null,0x2)),new g(_0x147735(0x46f)+JSON[_0x147735(0x493)](_0x15f9dd,null,0x2));}}async[a0_0x359adc(0x6a0)](_0x28dcd0){const _0x3bc06c=a0_0x359adc;try{this['logger'][_0x3bc06c(0x4d2)](this['instanceName']+'\x20('+this[_0x3bc06c(0x3a4)][_0x3bc06c(0x5a4)]+_0x3bc06c(0x726));let _0x169b3e={'owner':this[_0x3bc06c(0x3a4)][_0x3bc06c(0x5a4)],'name':_0x28dcd0[_0x3bc06c(0x613)]},_0x37da1f=await I[_0x3bc06c(0x50e)](_0x169b3e);_0x37da1f||this[_0x3bc06c(0x714)](_0x3bc06c(0x3c2));let {block:_0x2fd5bb}=_0x28dcd0;return _0x2fd5bb?.['copy']?this[_0x3bc06c(0x334)](_0x37da1f,_0x28dcd0):_0x2fd5bb?.[_0x3bc06c(0x51e)]?this['deleteBlock'](_0x37da1f,_0x28dcd0):_0x2fd5bb[_0x3bc06c(0x2ec)]?await this[_0x3bc06c(0x183)](_0x37da1f,_0x28dcd0):this[_0x3bc06c(0x550)](_0x37da1f,_0x28dcd0),await _0x37da1f[_0x3bc06c(0x432)](),_0x37da1f;}catch(_0x11a3f6){this['throwAndLogError'](_0x3bc06c(0x1c3)+_0x11a3f6);}}async[a0_0x359adc(0x334)](_0x1e41e9,_0x43b324){const _0x59da3d=a0_0x359adc;let _0x4746be=_0x43b324[_0x59da3d(0x568)]['_id'],_0x214e8a=_0x1e41e9[_0x59da3d(0x32a)]['find'](_0x2781f5=>_0x2781f5[_0x59da3d(0x2ec)][_0x59da3d(0x25a)]()===_0x4746be);if(!_0x214e8a){this['logger'][_0x59da3d(0x252)](this['instanceName']+'\x20('+this[_0x59da3d(0x3a4)][_0x59da3d(0x5a4)]+'):\x20Bloco\x20com\x20ID\x20'+_0x4746be+_0x59da3d(0x40e));return;}this[_0x59da3d(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x59da3d(0x3a4)][_0x59da3d(0x5a4)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x59da3d(0x493)](_0x214e8a));let _0x20bba9=JSON['parse'](JSON[_0x59da3d(0x493)](_0x214e8a));_0x20bba9['_id']=new pe['default']['Types'][(_0x59da3d(0x4d0))](),this['logger'][_0x59da3d(0x4d2)](this[_0x59da3d(0x6c0)]+'\x20('+this[_0x59da3d(0x3a4)][_0x59da3d(0x5a4)]+_0x59da3d(0x525)+JSON[_0x59da3d(0x493)](_0x20bba9)),_0x1e41e9['blocks'][_0x59da3d(0x41c)](_0x20bba9),this[_0x59da3d(0x4ae)](_0x1e41e9[_0x59da3d(0x32a)],_0x20bba9[_0x59da3d(0x3b1)]);}[a0_0x359adc(0x714)](_0xad62f2){const _0x20a906=a0_0x359adc;throw this[_0x20a906(0x577)][_0x20a906(0x252)](this[_0x20a906(0x6c0)]+'\x20('+this[_0x20a906(0x3a4)][_0x20a906(0x5a4)]+'):\x20'+_0xad62f2),new g(_0xad62f2);}['deleteBlock'](_0x27863b,_0x3c1b51){const _0xa8d46f=a0_0x359adc;let {block:_0x162f1c}=_0x3c1b51;if(_0x162f1c[_0xa8d46f(0x38c)]===_0xa8d46f(0x241)){this[_0xa8d46f(0x714)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x162f1c['_id']){this[_0xa8d46f(0x714)](_0xa8d46f(0x259));return;}let _0x27f74a=_0x27863b[_0xa8d46f(0x32a)][_0xa8d46f(0x673)](_0x3de1f5=>_0x3de1f5['_id'][_0xa8d46f(0x25a)]()===_0x3c1b51[_0xa8d46f(0x568)][_0xa8d46f(0x2ec)][_0xa8d46f(0x25a)]());if(!_0x27f74a){this[_0xa8d46f(0x714)](_0xa8d46f(0x180)+_0x162f1c['_id']+_0xa8d46f(0x663));return;}_0x27863b[_0xa8d46f(0x32a)]=_0x27863b[_0xa8d46f(0x32a)][_0xa8d46f(0x694)](_0x1233b0=>_0x1233b0[_0xa8d46f(0x2ec)][_0xa8d46f(0x25a)]()!==_0x3c1b51['block']['_id'][_0xa8d46f(0x25a)]()),_0x27863b[_0xa8d46f(0x358)]=_0x27863b[_0xa8d46f(0x358)][_0xa8d46f(0x694)](_0x571cd1=>_0x571cd1['blockId']!==_0x162f1c[_0xa8d46f(0x2ec)][_0xa8d46f(0x25a)]()),_0x27863b[_0xa8d46f(0x76a)]=_0x27863b[_0xa8d46f(0x76a)][_0xa8d46f(0x694)](_0xd3a97=>_0xd3a97['blockId']!==_0x162f1c[_0xa8d46f(0x2ec)][_0xa8d46f(0x25a)]()),_0x27863b['replyOptions']=_0x27863b[_0xa8d46f(0x5df)][_0xa8d46f(0x694)](_0xbb718a=>_0xbb718a[_0xa8d46f(0x6bc)]!==_0x162f1c[_0xa8d46f(0x2ec)][_0xa8d46f(0x25a)]()),this[_0xa8d46f(0x4ae)](_0x27863b['blocks'],_0x27f74a[_0xa8d46f(0x3b1)]);}async['updateBlock'](_0x1e9bcc,_0x4f130f){const _0x2bf001=a0_0x359adc;let _0x4d0df0=_0x1e9bcc[_0x2bf001(0x32a)][_0x2bf001(0x540)](_0x53b011=>_0x53b011['_id']['toString']()===_0x4f130f[_0x2bf001(0x568)][_0x2bf001(0x2ec)][_0x2bf001(0x25a)]());if(this[_0x2bf001(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x2bf001(0x3a4)][_0x2bf001(0x5a4)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x4d0df0),_0x4d0df0===-0x1){this[_0x2bf001(0x577)][_0x2bf001(0x4d2)](_0x2bf001(0x180)+_0x4f130f[_0x2bf001(0x568)][_0x2bf001(0x2ec)]+_0x2bf001(0x1f0));return;}if(_0x1e9bcc['blocks'][_0x4d0df0][_0x2bf001(0x38c)]===_0x2bf001(0x241)){let _0x32a477=Object[_0x2bf001(0x24b)](_0x4f130f[_0x2bf001(0x568)]);if(_0x32a477[_0x2bf001(0x582)]>0x2||_0x32a477['length']===0x2&&!_0x32a477[_0x2bf001(0x3d6)](_0x2bf001(0x3fb))){this[_0x2bf001(0x714)](_0x2bf001(0x4ea));return;}}let _0x3b5930=_0x1e9bcc[_0x2bf001(0x32a)][_0x4d0df0][_0x2bf001(0x3b1)];for(let _0x31317e in _0x4f130f['block'])_0x4f130f['block'][_0x2bf001(0x499)](_0x31317e)&&(_0x1e9bcc['blocks'][_0x4d0df0][_0x31317e]=_0x4f130f[_0x2bf001(0x568)][_0x31317e]);if(this['logger'][_0x2bf001(0x4d2)](this['instanceName']+'\x20('+this[_0x2bf001(0x3a4)][_0x2bf001(0x5a4)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x1e9bcc['blocks'][_0x4d0df0])),_0x1e9bcc['blocks'][_0x4d0df0][_0x2bf001(0x24d)]&&_0x2bf001(0x2f3)in _0x1e9bcc['blocks'][_0x4d0df0][_0x2bf001(0x24d)]){this[_0x2bf001(0x577)][_0x2bf001(0x4d2)](this['instanceName']+'\x20('+this[_0x2bf001(0x3a4)]['wuid']+_0x2bf001(0x3b4));let _0x5d23c5=JSON[_0x2bf001(0x493)](_0x1e9bcc['blocks'][_0x4d0df0][_0x2bf001(0x24d)][_0x2bf001(0x2f3)],null,0x1);_0x5d23c5[_0x2bf001(0x582)]>0x2&&(_0x5d23c5=_0x5d23c5[_0x2bf001(0x2b0)](0x1,_0x5d23c5['length']-0x1)['trim']()),_0x1e9bcc['blocks'][_0x4d0df0][_0x2bf001(0x24d)]['headerString']=_0x5d23c5;}if(_0x1e9bcc['blocks'][_0x4d0df0][_0x2bf001(0x24d)]&&'body'in _0x1e9bcc[_0x2bf001(0x32a)][_0x4d0df0][_0x2bf001(0x24d)]){this['logger'][_0x2bf001(0x4d2)](this[_0x2bf001(0x6c0)]+'\x20('+this[_0x2bf001(0x3a4)][_0x2bf001(0x5a4)]+_0x2bf001(0x1f3));let _0x1d9bc4=JSON['stringify'](_0x1e9bcc[_0x2bf001(0x32a)][_0x4d0df0]['apirequest'][_0x2bf001(0x27d)],null,0x1);_0x1d9bc4[_0x2bf001(0x582)]>0x2&&(_0x1d9bc4=_0x1d9bc4[_0x2bf001(0x2b0)](0x1,_0x1d9bc4[_0x2bf001(0x582)]-0x1)[_0x2bf001(0x3d5)]()),_0x1e9bcc['blocks'][_0x4d0df0][_0x2bf001(0x24d)][_0x2bf001(0x390)]=_0x1d9bc4;}let _0x26fda1=_0x1e9bcc[_0x2bf001(0x32a)][_0x4d0df0][_0x2bf001(0x3b1)];_0x3b5930!==_0x26fda1?(this['reorderBlocks'](_0x1e9bcc[_0x2bf001(0x32a)],_0x3b5930),this['reorderBlocks'](_0x1e9bcc[_0x2bf001(0x32a)],_0x26fda1)):this['reorderBlocks'](_0x1e9bcc[_0x2bf001(0x32a)],_0x3b5930);}[a0_0x359adc(0x550)](_0x402c68,_0x33dd0f){const _0x4d4ca9=a0_0x359adc;if(_0x33dd0f[_0x4d4ca9(0x568)][_0x4d4ca9(0x38c)]===_0x4d4ca9(0x241)){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x33dd0f['block']['apirequest']&&'header'in _0x33dd0f[_0x4d4ca9(0x568)]['apirequest']){this[_0x4d4ca9(0x577)][_0x4d4ca9(0x4d2)](this[_0x4d4ca9(0x6c0)]+'\x20('+this[_0x4d4ca9(0x3a4)][_0x4d4ca9(0x5a4)]+_0x4d4ca9(0x3b4));let _0x4bf6ac=JSON[_0x4d4ca9(0x493)](_0x33dd0f[_0x4d4ca9(0x568)][_0x4d4ca9(0x24d)][_0x4d4ca9(0x2f3)],null,0x1);_0x4bf6ac[_0x4d4ca9(0x582)]>0x2&&(_0x4bf6ac=_0x4bf6ac[_0x4d4ca9(0x2b0)](0x1,_0x4bf6ac['length']-0x1)['trim']()),_0x33dd0f[_0x4d4ca9(0x568)][_0x4d4ca9(0x24d)]['headerString']=_0x4bf6ac;}_0x33dd0f[_0x4d4ca9(0x568)][_0x4d4ca9(0x24d)]&&_0x4d4ca9(0x27d)in _0x33dd0f[_0x4d4ca9(0x568)][_0x4d4ca9(0x24d)]&&(this[_0x4d4ca9(0x577)][_0x4d4ca9(0x4d2)](this[_0x4d4ca9(0x6c0)]+'\x20('+this[_0x4d4ca9(0x3a4)][_0x4d4ca9(0x5a4)]+_0x4d4ca9(0x1f3)),_0x33dd0f[_0x4d4ca9(0x568)][_0x4d4ca9(0x24d)]['bodyString']=JSON['stringify'](_0x33dd0f['block'][_0x4d4ca9(0x24d)]['body'],null,0x1)['trim']()),_0x402c68[_0x4d4ca9(0x32a)][_0x4d4ca9(0x41c)](_0x33dd0f[_0x4d4ca9(0x568)]),this['reorderBlocks'](_0x402c68[_0x4d4ca9(0x32a)],_0x33dd0f[_0x4d4ca9(0x568)][_0x4d4ca9(0x3b1)]);}['reorderBlocks'](_0x2808e9,_0x25a263){const _0x270ea8=a0_0x359adc;let _0x19d057=_0x2808e9[_0x270ea8(0x694)](_0x1691d4=>_0x1691d4[_0x270ea8(0x3b1)]===_0x25a263);_0x19d057[_0x270ea8(0x55f)]((_0x27d911,_0x2f8362)=>_0x27d911[_0x270ea8(0x553)]-_0x2f8362['order']),_0x19d057[_0x270ea8(0x4a9)]((_0x1600d4,_0x4ca41b)=>_0x1600d4[_0x270ea8(0x553)]=_0x4ca41b+0x1);}async['editFlowReply'](_0x3d4a67){const _0x372dea=a0_0x359adc;try{if(this[_0x372dea(0x577)][_0x372dea(0x4d2)](this[_0x372dea(0x6c0)]+'\x20('+this[_0x372dea(0x3a4)][_0x372dea(0x5a4)]+_0x372dea(0x3fa)),!_0x3d4a67||!_0x3d4a67[_0x372dea(0x59f)]){this[_0x372dea(0x714)](_0x372dea(0x6a4));return;}let _0x58062d={'owner':this[_0x372dea(0x3a4)][_0x372dea(0x5a4)],'name':_0x3d4a67[_0x372dea(0x613)]},_0x3b3d6b=await I[_0x372dea(0x50e)](_0x58062d);_0x3b3d6b||this[_0x372dea(0x714)](_0x372dea(0x3c2));let {replyOption:_0x2bf37e}=_0x3d4a67;return _0x2bf37e?.[_0x372dea(0x51e)]?(this['deleteReplyOption'](_0x3b3d6b,_0x3d4a67),this[_0x372dea(0x17f)](_0x3b3d6b[_0x372dea(0x5df)],_0x3d4a67[_0x372dea(0x59f)][_0x372dea(0x6bc)])):_0x2bf37e[_0x372dea(0x2ec)]?(await this['updateReplyOption'](_0x3b3d6b,_0x3d4a67),this[_0x372dea(0x17f)](_0x3b3d6b[_0x372dea(0x5df)],_0x3d4a67[_0x372dea(0x59f)]['blockId'])):(this['addReplyOption'](_0x3b3d6b,_0x3d4a67),this[_0x372dea(0x17f)](_0x3b3d6b[_0x372dea(0x5df)],_0x3d4a67[_0x372dea(0x59f)][_0x372dea(0x6bc)])),await _0x3b3d6b[_0x372dea(0x432)](),_0x3b3d6b;}catch(_0x3e93ae){this[_0x372dea(0x714)](_0x372dea(0x38a)+_0x3e93ae);}}[a0_0x359adc(0x17f)](_0x1eec58,_0x27e146){const _0x587d8d=a0_0x359adc;console[_0x587d8d(0x219)](_0x587d8d(0x4b0),_0x27e146),_0x1eec58['forEach'](_0x104308=>{const _0x24fd52=_0x587d8d;_0x104308[_0x24fd52(0x6bc)]===_0x27e146&&_0x104308[_0x24fd52(0x553)]===void 0x0&&(_0x104308['order']=0x270f);});let _0xf29aa1=_0x1eec58[_0x587d8d(0x694)](_0x260702=>_0x260702['blockId']===_0x27e146);_0xf29aa1['sort']((_0x4c3e1a,_0x2022c0)=>_0x4c3e1a[_0x587d8d(0x553)]-_0x2022c0[_0x587d8d(0x553)]),_0xf29aa1[_0x587d8d(0x4a9)]((_0x3ef866,_0x50dca3)=>{const _0x323629=_0x587d8d;_0x3ef866[_0x323629(0x553)]=_0x50dca3+0x1;}),_0x1eec58['forEach'](_0x9c32c=>{const _0x4e4fef=_0x587d8d;if(_0x9c32c['blockId']===_0x27e146){let _0x4d631d=_0xf29aa1[_0x4e4fef(0x673)](_0x46c273=>_0x46c273[_0x4e4fef(0x2ec)][_0x4e4fef(0x25a)]()===_0x9c32c['_id'][_0x4e4fef(0x25a)]());_0x4d631d&&(_0x9c32c['order']=_0x4d631d[_0x4e4fef(0x553)]);}}),console['log']('ReplyOptions\x20finais\x20após\x20reordenação:',_0x1eec58);}[a0_0x359adc(0x5f3)](_0x1411bf,_0x2fe217){const _0x2b2259=a0_0x359adc;let {replyOption:_0x5e7428}=_0x2fe217;if(!_0x5e7428[_0x2b2259(0x2ec)]){this['throwAndLogError'](_0x2b2259(0x4a8));return;}if(!_0x1411bf[_0x2b2259(0x5df)][_0x2b2259(0x673)](_0x1a2e3d=>_0x1a2e3d[_0x2b2259(0x2ec)][_0x2b2259(0x25a)]()===_0x2fe217[_0x2b2259(0x59f)]['_id'][_0x2b2259(0x25a)]())){this[_0x2b2259(0x714)](_0x2b2259(0x699)+_0x5e7428[_0x2b2259(0x2ec)]+_0x2b2259(0x663));return;}_0x1411bf[_0x2b2259(0x5df)]=_0x1411bf[_0x2b2259(0x5df)]['filter'](_0x38c6e5=>_0x38c6e5['_id']['toString']()!==_0x2fe217[_0x2b2259(0x59f)][_0x2b2259(0x2ec)][_0x2b2259(0x25a)]());}async['updateReplyOption'](_0x4456fe,_0x2296c5){const _0x150c41=a0_0x359adc;let _0xe4aad3=_0x4456fe['replyOptions'][_0x150c41(0x540)](_0x5e1510=>_0x5e1510[_0x150c41(0x2ec)][_0x150c41(0x25a)]()===_0x2296c5['replyOption'][_0x150c41(0x2ec)][_0x150c41(0x25a)]());if(_0xe4aad3===-0x1){this[_0x150c41(0x714)](_0x150c41(0x699)+_0x2296c5[_0x150c41(0x59f)][_0x150c41(0x2ec)]+_0x150c41(0x1f0));return;}for(let _0x141578 in _0x2296c5[_0x150c41(0x59f)])_0x2296c5[_0x150c41(0x59f)][_0x150c41(0x499)](_0x141578)&&(_0x4456fe[_0x150c41(0x5df)][_0xe4aad3][_0x141578]=_0x2296c5[_0x150c41(0x59f)][_0x141578]);}[a0_0x359adc(0x4bc)](_0x53878e,_0x1482d1){const _0x5751b2=a0_0x359adc;_0x53878e[_0x5751b2(0x5df)][_0x5751b2(0x41c)](_0x1482d1[_0x5751b2(0x59f)]);}async[a0_0x359adc(0x6f5)](_0x33f0a8){const _0x5ed550=a0_0x359adc;this[_0x5ed550(0x577)][_0x5ed550(0x4d2)](this['instanceName']+'\x20('+this['instance'][_0x5ed550(0x5a4)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x33f0a8);try{this[_0x5ed550(0x577)][_0x5ed550(0x4d2)](this[_0x5ed550(0x6c0)]+'\x20('+this['instance'][_0x5ed550(0x5a4)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x3c272a={'owner':this[_0x5ed550(0x3a4)][_0x5ed550(0x5a4)],'name':_0x33f0a8[_0x5ed550(0x613)]},_0x39132b=await I['findOne'](_0x3c272a);if(!_0x39132b)throw new Error(_0x5ed550(0x3c2));if(_0x33f0a8['group']&&_0x33f0a8[_0x5ed550(0x226)]?.[_0x5ed550(0x51e)]===!0x0){if(this[_0x5ed550(0x577)][_0x5ed550(0x4d2)](this[_0x5ed550(0x6c0)]+'\x20('+this[_0x5ed550(0x3a4)][_0x5ed550(0x5a4)]+_0x5ed550(0x6eb)),_0x33f0a8['group'][_0x5ed550(0x4d6)]===!0x0)return{'message':_0x5ed550(0x1df)};if(_0x39132b[_0x5ed550(0x32a)][_0x5ed550(0x28b)](_0x5e327c=>_0x5e327c[_0x5ed550(0x3b1)][_0x5ed550(0x25a)]()===_0x33f0a8[_0x5ed550(0x226)][_0x5ed550(0x2ec)]))return this[_0x5ed550(0x577)][_0x5ed550(0x4d2)](this[_0x5ed550(0x6c0)]+'\x20('+this[_0x5ed550(0x3a4)][_0x5ed550(0x5a4)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x39132b[_0x5ed550(0x3af)]=_0x39132b['groups']['filter'](_0x132f7a=>_0x132f7a[_0x5ed550(0x2ec)]['toString']()!==_0x33f0a8[_0x5ed550(0x226)][_0x5ed550(0x2ec)]);}else{if(_0x33f0a8[_0x5ed550(0x226)]){if(_0x33f0a8[_0x5ed550(0x226)][_0x5ed550(0x4d6)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x33f0a8[_0x5ed550(0x226)]['_id']){let _0x3a2080=_0x39132b[_0x5ed550(0x3af)][_0x5ed550(0x673)](_0x3886cf=>_0x3886cf[_0x5ed550(0x2ec)]['toString']()===_0x33f0a8['group'][_0x5ed550(0x2ec)]);_0x3a2080&&(_0x33f0a8['group']['x']<0x0&&(_0x33f0a8[_0x5ed550(0x226)]['x']=0x0),_0x33f0a8['group']['y']<0x0&&(_0x33f0a8[_0x5ed550(0x226)]['y']=0x0),Object['assign'](_0x3a2080,_0x33f0a8[_0x5ed550(0x226)]));}else _0x39132b[_0x5ed550(0x3af)][_0x5ed550(0x41c)](_0x33f0a8[_0x5ed550(0x226)]);}}return await _0x39132b['save'](),_0x39132b;}catch(_0x57b285){throw this[_0x5ed550(0x577)]['error'](this[_0x5ed550(0x6c0)]+'\x20('+this[_0x5ed550(0x3a4)]['wuid']+_0x5ed550(0x62b)+JSON['stringify'](_0x57b285,null,0x2)),new g(_0x5ed550(0x507)+JSON[_0x5ed550(0x493)](_0x57b285,null,0x2));}}async[a0_0x359adc(0x4e9)](_0x11f45e){const _0x293ce4=a0_0x359adc;try{this[_0x293ce4(0x577)]['verbose'](this[_0x293ce4(0x6c0)]+'\x20('+this['instance'][_0x293ce4(0x5a4)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x909b2d={'owner':this[_0x293ce4(0x3a4)][_0x293ce4(0x5a4)],'name':_0x11f45e[_0x293ce4(0x613)]},_0x7d42d6=await I[_0x293ce4(0x50e)](_0x909b2d);if(!_0x7d42d6)throw new Error(_0x293ce4(0x3c2));let _0x3b26ca=!0x1;if(_0x11f45e[_0x293ce4(0x1cf)]?.[_0x293ce4(0x51e)]===!0x0)_0x7d42d6['conditions']=_0x7d42d6['conditions'][_0x293ce4(0x694)](_0x417332=>_0x417332&&_0x11f45e[_0x293ce4(0x1cf)]&&_0x417332[_0x293ce4(0x2ec)]&&_0x11f45e[_0x293ce4(0x1cf)][_0x293ce4(0x2ec)]&&_0x417332[_0x293ce4(0x2ec)][_0x293ce4(0x25a)]()!==_0x11f45e[_0x293ce4(0x1cf)]['_id'][_0x293ce4(0x25a)]()),_0x3b26ca=!0x0;else{let _0x51f979=_0x7d42d6[_0x293ce4(0x358)][_0x293ce4(0x673)](_0x30ab85=>_0x30ab85&&_0x11f45e[_0x293ce4(0x1cf)]&&_0x30ab85[_0x293ce4(0x2ec)]&&_0x11f45e['condition'][_0x293ce4(0x2ec)]&&_0x30ab85[_0x293ce4(0x2ec)]['toString']()===_0x11f45e[_0x293ce4(0x1cf)][_0x293ce4(0x2ec)][_0x293ce4(0x25a)]());_0x51f979?(_0x3b26ca=_0x51f979[_0x293ce4(0x553)]!==_0x11f45e[_0x293ce4(0x1cf)][_0x293ce4(0x553)],Object[_0x293ce4(0x5f8)](_0x51f979,_0x11f45e[_0x293ce4(0x1cf)])):(_0x7d42d6[_0x293ce4(0x358)][_0x293ce4(0x41c)](_0x11f45e[_0x293ce4(0x1cf)]),_0x3b26ca=!0x0);}if(_0x3b26ca){_0x7d42d6[_0x293ce4(0x358)][_0x293ce4(0x55f)]((_0x90cf33,_0x5551b1)=>_0x90cf33[_0x293ce4(0x553)]>_0x5551b1[_0x293ce4(0x553)]?0x1:_0x5551b1[_0x293ce4(0x553)]>_0x90cf33[_0x293ce4(0x553)]?-0x1:0x0);for(let _0x444a6a=0x0;_0x444a6a<_0x7d42d6[_0x293ce4(0x358)][_0x293ce4(0x582)];_0x444a6a++)_0x7d42d6[_0x293ce4(0x358)][_0x444a6a][_0x293ce4(0x553)]=_0x444a6a+0x1;_0x7d42d6[_0x293ce4(0x358)]['length']>0x0&&(_0x7d42d6[_0x293ce4(0x358)][0x0][_0x293ce4(0x2fc)]=_0x293ce4(0x713));}return await _0x7d42d6[_0x293ce4(0x432)](),_0x7d42d6;}catch(_0x5911df){throw this[_0x293ce4(0x577)]['error'](this[_0x293ce4(0x6c0)]+'\x20('+this[_0x293ce4(0x3a4)][_0x293ce4(0x5a4)]+_0x293ce4(0x416)+JSON[_0x293ce4(0x493)](_0x5911df,null,0x2)),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x5911df);}}async['editFlowVaredit'](_0x1ac29a){const _0x51989b=a0_0x359adc;try{this[_0x51989b(0x577)][_0x51989b(0x4d2)](this[_0x51989b(0x6c0)]+'\x20('+this[_0x51989b(0x3a4)][_0x51989b(0x5a4)]+_0x51989b(0x5b0));let _0x36f76d={'owner':this[_0x51989b(0x3a4)][_0x51989b(0x5a4)],'name':_0x1ac29a['name']},_0x4d384b=await I['findOne'](_0x36f76d);if(!_0x4d384b)throw new Error(_0x51989b(0x3c2));let _0x148edd=!0x1;if(_0x1ac29a[_0x51989b(0x4c8)]?.['delete']===!0x0)_0x4d384b[_0x51989b(0x76a)]=_0x4d384b['varedits'][_0x51989b(0x694)](_0x5da9d6=>_0x5da9d6&&_0x1ac29a[_0x51989b(0x4c8)]&&_0x5da9d6[_0x51989b(0x2ec)]&&_0x1ac29a['varedit'][_0x51989b(0x2ec)]&&_0x5da9d6[_0x51989b(0x2ec)]['toString']()!==_0x1ac29a[_0x51989b(0x4c8)]['_id'][_0x51989b(0x25a)]()),_0x148edd=!0x0;else{let _0x2e7eb4=_0x4d384b['varedits'][_0x51989b(0x673)](_0x2bf6c7=>_0x2bf6c7&&_0x1ac29a[_0x51989b(0x4c8)]&&_0x2bf6c7[_0x51989b(0x2ec)]&&_0x1ac29a[_0x51989b(0x4c8)][_0x51989b(0x2ec)]&&_0x2bf6c7[_0x51989b(0x2ec)][_0x51989b(0x25a)]()===_0x1ac29a[_0x51989b(0x4c8)]['_id']['toString']());_0x2e7eb4?(_0x148edd=_0x2e7eb4[_0x51989b(0x553)]!==_0x1ac29a[_0x51989b(0x4c8)][_0x51989b(0x553)],Object[_0x51989b(0x5f8)](_0x2e7eb4,_0x1ac29a['varedit'])):(_0x4d384b[_0x51989b(0x76a)][_0x51989b(0x41c)](_0x1ac29a['varedit']),_0x148edd=!0x0);}if(_0x148edd){_0x4d384b[_0x51989b(0x76a)][_0x51989b(0x55f)]((_0x52f0d0,_0x5c5882)=>_0x52f0d0[_0x51989b(0x553)]>_0x5c5882[_0x51989b(0x553)]?0x1:_0x5c5882[_0x51989b(0x553)]>_0x52f0d0[_0x51989b(0x553)]?-0x1:0x0);for(let _0x4ac464=0x0;_0x4ac464<_0x4d384b['varedits'][_0x51989b(0x582)];_0x4ac464++)_0x4d384b[_0x51989b(0x76a)][_0x4ac464][_0x51989b(0x553)]=_0x4ac464+0x1;}return await _0x4d384b[_0x51989b(0x432)](),_0x4d384b;}catch(_0x49cf54){throw this[_0x51989b(0x577)][_0x51989b(0x252)](this['instanceName']+'\x20('+this[_0x51989b(0x3a4)][_0x51989b(0x5a4)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+JSON[_0x51989b(0x493)](_0x49cf54,null,0x2)),new g(_0x51989b(0x217)+_0x49cf54);}}async['editFlowVariable'](_0x55ae30){const _0x402b20=a0_0x359adc;try{this[_0x402b20(0x577)][_0x402b20(0x4d2)](this[_0x402b20(0x6c0)]+'\x20('+this[_0x402b20(0x3a4)][_0x402b20(0x5a4)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x3c2da0={'owner':this['instance']['wuid'],'name':_0x55ae30[_0x402b20(0x613)]},_0x3ee57a=await I['findOne'](_0x3c2da0);if(!_0x3ee57a)throw new Error(_0x402b20(0x3c2));_0x55ae30['variable'][_0x402b20(0x613)]=_0x55ae30['variable'][_0x402b20(0x613)][_0x402b20(0x3d5)](),_0x55ae30[_0x402b20(0x18a)][_0x402b20(0x613)][_0x402b20(0x6bb)]('_')&&(_0x55ae30[_0x402b20(0x18a)][_0x402b20(0x613)]=_0x55ae30['variable'][_0x402b20(0x613)][_0x402b20(0x2b0)](0x1)),_0x55ae30['variable']['name']=_0x55ae30['variable'][_0x402b20(0x613)]['trim']();let _0x1db156=_0x3ee57a['variables'][_0x402b20(0x673)](_0x423823=>_0x423823[_0x402b20(0x613)]===_0x55ae30[_0x402b20(0x18a)]['name']);if(_0x1db156?.[_0x402b20(0x286)]===!0x0)throw new Error(_0x402b20(0x4e1));if(_0x55ae30[_0x402b20(0x18a)]?.[_0x402b20(0x51e)]===!0x0){if(!_0x1db156)return{'message':_0x402b20(0x19b)};_0x3ee57a[_0x402b20(0x23d)]=_0x3ee57a[_0x402b20(0x23d)][_0x402b20(0x694)](_0x5cbc61=>_0x5cbc61[_0x402b20(0x613)]!==_0x55ae30[_0x402b20(0x18a)][_0x402b20(0x613)]);}else _0x1db156?Object[_0x402b20(0x5f8)](_0x1db156,_0x55ae30[_0x402b20(0x18a)]):_0x3ee57a[_0x402b20(0x23d)][_0x402b20(0x41c)](_0x55ae30[_0x402b20(0x18a)]);return await _0x3ee57a[_0x402b20(0x432)](),_0x3ee57a;}catch(_0x550cc6){throw this[_0x402b20(0x577)][_0x402b20(0x252)](this[_0x402b20(0x6c0)]+'\x20('+this['instance'][_0x402b20(0x5a4)]+_0x402b20(0x1a0)+JSON[_0x402b20(0x493)](_0x550cc6,null,0x2)),new g(_0x402b20(0x189)+JSON[_0x402b20(0x493)](_0x550cc6,null,0x2));}}async[a0_0x359adc(0x5a0)](_0x297aab){const _0x1b5b07=a0_0x359adc;let _0x1d2053=null;try{if(!this['AutomateSystem']?.[_0x1b5b07(0x637)][_0x1b5b07(0x283)])throw new g(_0x1b5b07(0x727));this[_0x1b5b07(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x1b5b07(0x3a4)][_0x1b5b07(0x5a4)]+_0x1b5b07(0x5a8));let _0x32fc00=(await this[_0x1b5b07(0x74c)]({'numbers':[_0x297aab[_0x1b5b07(0x340)]]}))[0x0];if(!_0x32fc00['exists']&&!(0x0,w[_0x1b5b07(0x76e)])(_0x32fc00[_0x1b5b07(0x565)])&&!_0x32fc00[_0x1b5b07(0x565)]['includes'](_0x1b5b07(0x469)))throw _0x1d2053=JSON['stringify'](_0x32fc00,null,0x2),new g(_0x32fc00);let _0x501d06=await I[_0x1b5b07(0x50e)]({'owner':this[_0x1b5b07(0x3a4)]['wuid'],'name':_0x297aab['name']});if(!_0x501d06)return this[_0x1b5b07(0x577)][_0x1b5b07(0x252)](this['instanceName']+'\x20('+this['instance'][_0x1b5b07(0x5a4)]+_0x1b5b07(0x400)),{'message':_0x1b5b07(0x3c2)};let _0x5785fb=await this[_0x1b5b07(0x2bc)](_0x501d06,_0x32fc00[_0x1b5b07(0x565)],_0x297aab['changeVariables']);if(_0x5785fb){this[_0x1b5b07(0x577)][_0x1b5b07(0x4d2)](this['instanceName']+'\x20('+this[_0x1b5b07(0x3a4)]['wuid']+_0x1b5b07(0x4e7));let _0x134c8e=await this[_0x1b5b07(0x4b1)](_0x5785fb);return _0x134c8e&&await this[_0x1b5b07(0x28f)](_0x5785fb,_0x134c8e),{'message':_0x1b5b07(0x514)+_0x297aab[_0x1b5b07(0x340)]};}}catch(_0x5ada27){if(this[_0x1b5b07(0x577)][_0x1b5b07(0x252)](this[_0x1b5b07(0x6c0)]+'\x20('+this[_0x1b5b07(0x3a4)]['wuid']+_0x1b5b07(0x5e0)+JSON[_0x1b5b07(0x493)](_0x5ada27,null,0x2)),_0x1d2053=JSON[_0x1b5b07(0x493)](_0x5ada27,null,0x2),_0x1d2053)throw new g('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x1d2053);}}async[a0_0x359adc(0x697)](_0x301820){const _0x211f52=a0_0x359adc;let _0x2b8253=await U['updateMany']({'owner':this[_0x211f52(0x3a4)][_0x211f52(0x5a4)],'remoteJid':_0x301820,'status':_0x211f52(0x50b)},{'$set':{'status':_0x211f52(0x6ef)}});return this[_0x211f52(0x577)][_0x211f52(0x4d2)](this[_0x211f52(0x6c0)]+'\x20('+this[_0x211f52(0x3a4)][_0x211f52(0x5a4)]+_0x211f52(0x379)),_0x2b8253;}async[a0_0x359adc(0x2bc)](_0x254156,_0x6c6aab,_0x258e38){const _0x3d4fce=a0_0x359adc;this[_0x3d4fce(0x577)][_0x3d4fce(0x4d2)](this[_0x3d4fce(0x6c0)]+'\x20('+this[_0x3d4fce(0x3a4)][_0x3d4fce(0x5a4)]+_0x3d4fce(0x6da)),await this['closeExistingConversations'](_0x6c6aab);try{let _0x4890ee=require('mongodb')[_0x3d4fce(0x4d0)],_0x584e04=Date['now'](),_0x470385=_0x3d4fce(0x241),_0x4adb62={},_0x246fcc={},_0x3eb9ca={..._0x254156[_0x3d4fce(0x3a8)],'chatLog':null},_0x14196e=await this['variablesToObject'](_0x3eb9ca[_0x3d4fce(0x23d)]),_0x522a31=await this[_0x3d4fce(0x592)](_0x6c6aab),_0x455689={..._0x14196e,..._0x522a31,'_remoteJid':_0x6c6aab},_0x542f36={'lastReceivedMessage':_0x4adb62,'lastSendMessage':_0x246fcc,'lastBlockId':_0x470385,'lastCondition':!0x0,'realVariables':_0x455689};_0x3eb9ca['chatLog']=_0x542f36,_0x3eb9ca[_0x3d4fce(0x2db)][_0x3d4fce(0x6fc)]={..._0x455689,..._0x258e38},delete _0x3eb9ca['_id'],_0x3eb9ca[_0x3d4fce(0x2ec)]=new _0x4890ee(),_0x3eb9ca[_0x3d4fce(0x489)]=_0x584e04,_0x3eb9ca[_0x3d4fce(0x595)]=_0x3d4fce(0x50b),_0x3eb9ca[_0x3d4fce(0x340)]=_0x6c6aab;let _0x3c956f=await U['create'](_0x3eb9ca);return this[_0x3d4fce(0x577)][_0x3d4fce(0x4d2)](this[_0x3d4fce(0x6c0)]+'\x20('+this[_0x3d4fce(0x3a4)]['wuid']+_0x3d4fce(0x66b)),_0x3c956f?_0x3eb9ca:null;}catch(_0x475831){throw this[_0x3d4fce(0x577)][_0x3d4fce(0x252)](this[_0x3d4fce(0x6c0)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+JSON[_0x3d4fce(0x493)](_0x475831,null,0x2)),new g(_0x475831[_0x3d4fce(0x671)]);}}async[a0_0x359adc(0x709)](_0x133831){const _0x945b0f=a0_0x359adc;try{return this[_0x945b0f(0x577)]['verbose'](this[_0x945b0f(0x6c0)]+'\x20('+this[_0x945b0f(0x3a4)][_0x945b0f(0x5a4)]+'):\x20Buscando\x20conversa...'),this[_0x945b0f(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x945b0f(0x3a4)][_0x945b0f(0x5a4)]+_0x945b0f(0x4f3)+{'owner':this[_0x945b0f(0x3a4)][_0x945b0f(0x5a4)],'_id':_0x133831}),await U[_0x945b0f(0x50e)]({'owner':this[_0x945b0f(0x3a4)][_0x945b0f(0x5a4)],'_id':_0x133831});}catch(_0x3c6110){throw this['logger']['error'](this[_0x945b0f(0x6c0)]+'\x20('+this[_0x945b0f(0x3a4)][_0x945b0f(0x5a4)]+_0x945b0f(0x4b9)+JSON[_0x945b0f(0x493)](_0x3c6110,null,0x2)),new g(_0x945b0f(0x42d)+_0x3c6110[_0x945b0f(0x671)]);}}async[a0_0x359adc(0x398)](_0x3acbad,_0x427d2d=0x64){const _0x568410=a0_0x359adc;try{this[_0x568410(0x577)]['verbose'](this[_0x568410(0x6c0)]+'\x20('+this[_0x568410(0x3a4)]['wuid']+'):\x20Buscando\x20conversas...');let _0x193164={..._0x3acbad,'owner':this[_0x568410(0x3a4)][_0x568410(0x5a4)]};return this[_0x568410(0x577)]['verbose'](_0x193164),await U[_0x568410(0x673)](_0x193164)[_0x568410(0x355)](_0x427d2d)[_0x568410(0x55f)]({'lastInteraction':-0x1});}catch(_0x5a4786){throw this[_0x568410(0x577)][_0x568410(0x252)](this[_0x568410(0x6c0)]+'\x20('+this[_0x568410(0x3a4)][_0x568410(0x5a4)]+_0x568410(0x4fa)+JSON[_0x568410(0x493)](_0x5a4786,null,0x2)),new g('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x5a4786[_0x568410(0x671)]);}}async[a0_0x359adc(0x733)](_0x571884){const _0x9a2861=a0_0x359adc;try{return this[_0x9a2861(0x577)][_0x9a2861(0x4d2)](this['instanceName']+'\x20('+this['instance'][_0x9a2861(0x5a4)]+_0x9a2861(0x5fd)),this[_0x9a2861(0x577)][_0x9a2861(0x4d2)](this[_0x9a2861(0x6c0)]+'\x20('+this['instance']['wuid']+_0x9a2861(0x4f3)+{'owner':this[_0x9a2861(0x3a4)][_0x9a2861(0x5a4)],'_id':_0x571884}),(await U[_0x9a2861(0x308)]({'owner':this[_0x9a2861(0x3a4)]['wuid'],'_id':_0x571884}))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x5f1b6e){throw this['logger']['error'](this[_0x9a2861(0x6c0)]+'\x20('+this[_0x9a2861(0x3a4)][_0x9a2861(0x5a4)]+_0x9a2861(0x547)+JSON[_0x9a2861(0x493)](_0x5f1b6e,null,0x2)),new g(_0x9a2861(0x1af)+_0x5f1b6e[_0x9a2861(0x671)]);}}async[a0_0x359adc(0x388)](_0x556675){const _0x2d259d=a0_0x359adc;try{let {_id:_0x20d2a0,chatLog:_0x4b6c07,status:_0x427159}=_0x556675;if(!_0x20d2a0)return{'message':_0x2d259d(0x692)};let _0x570f57={};if(_0x427159!==void 0x0&&(_0x570f57['status']=_0x427159),Object[_0x2d259d(0x24b)](_0x570f57)[_0x2d259d(0x582)]===0x0)return{'message':_0x2d259d(0x687)};let _0x14626e=this[_0x2d259d(0x3a4)][_0x2d259d(0x5a4)],_0x4d9035=await U[_0x2d259d(0x362)]({'_id':_0x20d2a0,'owner':_0x14626e},{'$set':_0x570f57},{'new':!0x0});return _0x4d9035||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0xa027){throw this['logger'][_0x2d259d(0x252)](this[_0x2d259d(0x6c0)]+'\x20('+this[_0x2d259d(0x3a4)][_0x2d259d(0x5a4)]+_0x2d259d(0x6dd)+JSON[_0x2d259d(0x493)](_0xa027,null,0x2)),new g(_0x2d259d(0x2fd)+_0xa027['message']);}}async[a0_0x359adc(0x502)](_0x3cb002){const _0x29df31=a0_0x359adc;try{_0x3cb002[_0x29df31(0x2ec)]=this[_0x29df31(0x1c7)](_0x3cb002['_id']);let {_id:_0x4f8b09,leadInfo:_0x4f580b}=_0x3cb002;if(!_0x4f8b09)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x5ca55e=(_0x26e01a,_0x3ac66a,_0x46b396)=>{_0x46b396['forEach'](_0xabed00=>{const _0x461672=a0_0x2b70;_0x26e01a[_0xabed00]!==void 0x0&&(_0x3ac66a[_0x461672(0x56a)+_0xabed00]=_0x26e01a[_0xabed00]);});},_0x12a8bf={};if(_0x5ca55e(_0x4f580b,_0x12a8bf,[_0x29df31(0x332),'nomecompleto',_0x29df31(0x2d2),_0x29df31(0x62d),_0x29df31(0x595),_0x29df31(0x309),_0x29df31(0x320),_0x29df31(0x198),'responsavelid']),Array['isArray'](_0x4f580b[_0x29df31(0x5b6)])&&(_0x12a8bf['leadInfo.customFields']=_0x4f580b[_0x29df31(0x5b6)][_0x29df31(0x4a3)](_0x1153e5=>({'_id':_0x1153e5[_0x29df31(0x2ec)],'value':_0x1153e5[_0x29df31(0x4cf)]}))),_0x3cb002['leadInfo'][_0x29df31(0x3a5)]!==void 0x0&&(_0x12a8bf[_0x29df31(0x4ce)]=Number(_0x3cb002[_0x29df31(0x286)][_0x29df31(0x3a5)])),_0x3cb002[_0x29df31(0x3c4)]!==void 0x0&&(_0x12a8bf[_0x29df31(0x3c4)]=Number(_0x3cb002['unreadcount'])),Object['keys'](_0x12a8bf)[_0x29df31(0x582)]===0x0)throw new Error(_0x29df31(0x687));let _0x3050b0=this['instance'][_0x29df31(0x5a4)];if(!_0x3050b0)throw new Error(_0x29df31(0x5f1));if(!await this['repository'][_0x29df31(0x39d)]['findOne']({'where':{'_id':_0x3cb002[_0x29df31(0x2ec)],'owner':_0x3050b0}})){let _0xf3c6d6=(await this['whatsappNumber']({'numbers':[_0x3cb002[_0x29df31(0x2ec)]]}))[0x0];if(!_0xf3c6d6[_0x29df31(0x425)]&&!(0x0,w[_0x29df31(0x76e)])(_0xf3c6d6[_0x29df31(0x565)])&&!_0xf3c6d6[_0x29df31(0x565)][_0x29df31(0x3d6)](_0x29df31(0x469)))throw new g(_0xf3c6d6);_0x3cb002['_id']=_0xf3c6d6['jid'];}let _0x656230=await this[_0x29df31(0x638)]['chat'][_0x29df31(0x213)]({'where':{'_id':_0x3cb002['_id'],'owner':_0x3050b0}},_0x12a8bf);return _0x656230&&q(this['instanceName'],_0x29df31(0x5da),{'chat':_0x656230}),_0x656230?(this[_0x29df31(0x577)][_0x29df31(0x4d2)](this['instanceName']+'\x20('+this[_0x29df31(0x3a4)][_0x29df31(0x5a4)]+_0x29df31(0x61c)+_0x656230),_0x656230):{'message':_0x29df31(0x36c)};}catch(_0xa742a6){throw this[_0x29df31(0x577)]['error'](this[_0x29df31(0x6c0)]+'\x20('+this[_0x29df31(0x3a4)][_0x29df31(0x5a4)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+JSON[_0x29df31(0x493)](_0xa742a6,null,0x2)),new g(_0x29df31(0x654)+_0xa742a6[_0x29df31(0x671)]);}}async['updateAgent'](_0x1ccb57){const _0x2df691=a0_0x359adc;let _0x254b80=this['instance'][_0x2df691(0x5a4)];try{let _0x503524=await ae['findById'](_0x254b80);_0x503524||(_0x503524=new ae({'_id':_0x254b80}),await _0x503524[_0x2df691(0x432)]());let _0x27914e=_0x1ccb57[_0x2df691(0x2ec)]?_0x503524['agents'][_0x2df691(0x540)](_0x3ba4c5=>_0x3ba4c5[_0x2df691(0x2ec)]===_0x1ccb57['_id']):-0x1;if(_0x1ccb57[_0x2df691(0x51e)]&&_0x27914e>-0x1)_0x503524[_0x2df691(0x457)][_0x2df691(0x527)](_0x27914e,0x1);else{if(_0x27914e>-0x1){let _0x1904d6=_0x503524['agents'][_0x27914e];_0x1ccb57[_0x2df691(0x519)]&&(_0x1904d6[_0x2df691(0x519)]=_0x1ccb57[_0x2df691(0x519)]),_0x1ccb57[_0x2df691(0x613)]&&(_0x1904d6[_0x2df691(0x613)]=_0x1ccb57[_0x2df691(0x613)]),_0x1ccb57['email']&&(_0x1904d6['email']=_0x1ccb57['email']),_0x1ccb57[_0x2df691(0x33a)]&&(_0x1904d6['role']=_0x1ccb57[_0x2df691(0x33a)]);}else _0x503524[_0x2df691(0x457)][_0x2df691(0x41c)]({'_id':_0x1ccb57[_0x2df691(0x2ec)]||new pe[(_0x2df691(0x4d6))][(_0x2df691(0x224))][(_0x2df691(0x4d0))]()[_0x2df691(0x25a)](),'fone':_0x1ccb57[_0x2df691(0x519)],'name':_0x1ccb57[_0x2df691(0x613)],'email':_0x1ccb57[_0x2df691(0x2d2)],'role':_0x1ccb57['role']});}let _0x1eeb72=await _0x503524['save']();return this['AutomateSystem']=_0x1eeb72,this[_0x2df691(0x577)][_0x2df691(0x4d2)](this[_0x2df691(0x6c0)]+'\x20('+this[_0x2df691(0x3a4)][_0x2df691(0x5a4)]+_0x2df691(0x251)),this[_0x2df691(0x577)]['verbose'](this[_0x2df691(0x6c0)]+'\x20('+this[_0x2df691(0x3a4)]['wuid']+_0x2df691(0x61c)+this[_0x2df691(0x32c)]),_0x1eeb72;}catch(_0xbbab0b){throw this[_0x2df691(0x577)][_0x2df691(0x252)](this['instanceName']+'\x20('+this[_0x2df691(0x3a4)][_0x2df691(0x5a4)]+_0x2df691(0x35b)+JSON[_0x2df691(0x493)](_0xbbab0b,null,0x2)),new g(_0x2df691(0x361)+_0xbbab0b['message']);}}async[a0_0x359adc(0x704)](_0x37a292){const _0x264b09=a0_0x359adc;let _0x43fd5f=this['instance'][_0x264b09(0x5a4)];try{let _0x1b71cb=await ae[_0x264b09(0x6a5)](_0x43fd5f);_0x1b71cb||(_0x1b71cb=new ae({'_id':_0x43fd5f}),await _0x1b71cb[_0x264b09(0x432)]());let _0x522816=_0x37a292[_0x264b09(0x2ec)]?_0x1b71cb[_0x264b09(0x5b6)][_0x264b09(0x540)](_0x5366e5=>_0x5366e5[_0x264b09(0x2ec)]===_0x37a292[_0x264b09(0x2ec)]):-0x1,_0x57e790=!0x1,_0x4c5a3b=_0x1b71cb[_0x264b09(0x5b6)][_0x264b09(0x28b)](_0x3195c7=>_0x3195c7[_0x264b09(0x553)]===_0x37a292[_0x264b09(0x553)]);if(_0x37a292['delete']&&_0x522816>-0x1)_0x1b71cb[_0x264b09(0x5b6)][_0x264b09(0x527)](_0x522816,0x1),_0x57e790=!0x0;else{if(_0x522816>-0x1){if(_0x1b71cb[_0x264b09(0x5b6)][_0x264b09(0x28b)](_0x6111b6=>_0x6111b6[_0x264b09(0x613)]===_0x37a292['name']&&_0x6111b6[_0x264b09(0x2ec)]!==_0x37a292[_0x264b09(0x2ec)]))throw new Error(_0x264b09(0x3ce));let _0x5ad2be=_0x1b71cb[_0x264b09(0x5b6)][_0x522816];_0x37a292[_0x264b09(0x553)]&&(_0x4c5a3b||!Number['isInteger'](_0x37a292['order']))&&(_0x5ad2be[_0x264b09(0x553)]=_0x37a292['order'],_0x57e790=!0x0),_0x37a292[_0x264b09(0x613)]&&(_0x5ad2be['name']=_0x37a292[_0x264b09(0x613)]);}else{if(_0x1b71cb[_0x264b09(0x5b6)]['some'](_0x2581bb=>_0x2581bb[_0x264b09(0x613)]===_0x37a292[_0x264b09(0x613)]&&_0x2581bb['_id']!==_0x37a292[_0x264b09(0x2ec)]))throw new Error(_0x264b09(0x3ce));_0x1b71cb[_0x264b09(0x5b6)][_0x264b09(0x41c)]({'_id':_0x37a292[_0x264b09(0x2ec)]||new pe[(_0x264b09(0x4d6))][(_0x264b09(0x224))][(_0x264b09(0x4d0))]()[_0x264b09(0x25a)](),'order':_0x37a292[_0x264b09(0x553)],'name':_0x37a292['name']}),_0x57e790=!0x0;}}if(_0x57e790){_0x1b71cb['customFields'][_0x264b09(0x55f)]((_0x285eb7,_0x50fde0)=>_0x285eb7['order']>_0x50fde0[_0x264b09(0x553)]?0x1:_0x50fde0['order']>_0x285eb7['order']?-0x1:0x0);for(let _0x5eccd5=0x0;_0x5eccd5<_0x1b71cb[_0x264b09(0x5b6)]['length'];_0x5eccd5++)_0x1b71cb['customFields'][_0x5eccd5][_0x264b09(0x553)]=_0x5eccd5+0x1;}let _0x5bb702=await _0x1b71cb[_0x264b09(0x432)]();return this[_0x264b09(0x32c)]=_0x5bb702,this['logger'][_0x264b09(0x4d2)](this[_0x264b09(0x6c0)]+'\x20('+this['instance']['wuid']+_0x264b09(0x1e9)),this[_0x264b09(0x577)][_0x264b09(0x4d2)](this[_0x264b09(0x6c0)]+'\x20('+this[_0x264b09(0x3a4)][_0x264b09(0x5a4)]+_0x264b09(0x61c)+this[_0x264b09(0x32c)]),_0x5bb702;}catch(_0x1cb361){throw this[_0x264b09(0x577)]['error'](this['instanceName']+'\x20('+this['instance'][_0x264b09(0x5a4)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+JSON[_0x264b09(0x493)](_0x1cb361,null,0x2)),new g('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x1cb361[_0x264b09(0x671)]);}}async['updateFlowConfig'](_0x1d9147){const _0x4b206c=a0_0x359adc;let _0x55e47b=this[_0x4b206c(0x3a4)][_0x4b206c(0x5a4)];try{let _0x2836c8=await ae[_0x4b206c(0x6a5)](_0x55e47b);_0x2836c8||(_0x2836c8=new ae({'_id':_0x55e47b}),await _0x2836c8[_0x4b206c(0x432)]()),_0x2836c8['flowConfig']['enabled']=_0x1d9147?.['enabled']!==void 0x0?_0x1d9147?.[_0x4b206c(0x283)]:_0x2836c8[_0x4b206c(0x637)][_0x4b206c(0x283)],_0x2836c8['flowConfig']['ignoreGroups']=_0x1d9147?.[_0x4b206c(0x75f)]!==void 0x0?_0x1d9147?.[_0x4b206c(0x75f)]:_0x2836c8[_0x4b206c(0x637)]['ignoreGroups'],_0x2836c8[_0x4b206c(0x637)][_0x4b206c(0x693)]=_0x1d9147?.[_0x4b206c(0x693)]??_0x2836c8['flowConfig'][_0x4b206c(0x693)],_0x2836c8[_0x4b206c(0x637)][_0x4b206c(0x3bb)]=_0x1d9147?.[_0x4b206c(0x3bb)]??_0x2836c8[_0x4b206c(0x637)]['stopConversation'],_0x2836c8[_0x4b206c(0x637)][_0x4b206c(0x368)]=_0x1d9147?.[_0x4b206c(0x368)]??_0x2836c8[_0x4b206c(0x637)]['stopMinutes'];let _0xfc9a68=await _0x2836c8['save']();return this['AutomateSystem']=_0xfc9a68,this['logger'][_0x4b206c(0x4d2)](this[_0x4b206c(0x6c0)]+'\x20('+this[_0x4b206c(0x3a4)]['wuid']+_0x4b206c(0x251)),this[_0x4b206c(0x577)][_0x4b206c(0x4d2)](this['instanceName']+'\x20('+this[_0x4b206c(0x3a4)][_0x4b206c(0x5a4)]+_0x4b206c(0x61c)+this[_0x4b206c(0x32c)]),setTimeout(()=>this[_0x4b206c(0x66a)](),0x7d0),_0xfc9a68;}catch(_0x4b71bf){throw this[_0x4b206c(0x577)][_0x4b206c(0x252)](this[_0x4b206c(0x6c0)]+'\x20('+this[_0x4b206c(0x3a4)][_0x4b206c(0x5a4)]+_0x4b206c(0x35b)+JSON[_0x4b206c(0x493)](_0x4b71bf,null,0x2)),new g(_0x4b206c(0x361)+_0x4b71bf[_0x4b206c(0x671)]);}}async[a0_0x359adc(0x408)](){const _0x1f051c=a0_0x359adc;let _0x449794=this[_0x1f051c(0x3a4)][_0x1f051c(0x5a4)];try{let _0x3e50d8=await ae[_0x1f051c(0x6a5)](_0x449794);return _0x3e50d8||(_0x3e50d8=new ae({'_id':_0x449794})),_0x3e50d8[_0x1f051c(0x637)]=_0x3e50d8[_0x1f051c(0x637)]||{},_0x3e50d8[_0x1f051c(0x637)][_0x1f051c(0x283)]===void 0x0&&(_0x3e50d8[_0x1f051c(0x637)][_0x1f051c(0x283)]=!0x1),_0x3e50d8['flowConfig'][_0x1f051c(0x75f)]===void 0x0&&(_0x3e50d8[_0x1f051c(0x637)][_0x1f051c(0x75f)]=!0x0),_0x3e50d8['flowConfig'][_0x1f051c(0x693)]===void 0x0&&(_0x3e50d8['flowConfig'][_0x1f051c(0x693)]='!'),_0x3e50d8[_0x1f051c(0x637)]['stopConversation']===void 0x0&&(_0x3e50d8[_0x1f051c(0x637)]['stopConversation']=_0x1f051c(0x353)),_0x3e50d8['flowConfig'][_0x1f051c(0x368)]===void 0x0&&(_0x3e50d8[_0x1f051c(0x637)][_0x1f051c(0x368)]=0x14),await _0x3e50d8[_0x1f051c(0x432)](),this[_0x1f051c(0x32c)]=_0x3e50d8,this[_0x1f051c(0x577)]['verbose'](this[_0x1f051c(0x6c0)]+'\x20('+this['instance'][_0x1f051c(0x5a4)]+_0x1f051c(0x381)),this['logger'][_0x1f051c(0x4d2)](this[_0x1f051c(0x32c)]),_0x3e50d8;}catch(_0xa02f06){throw this[_0x1f051c(0x577)][_0x1f051c(0x252)](this[_0x1f051c(0x6c0)]+'\x20('+this[_0x1f051c(0x3a4)]['wuid']+_0x1f051c(0x39b)+JSON[_0x1f051c(0x493)](_0xa02f06,null,0x2)),new g(_0x1f051c(0x49b)+_0xa02f06[_0x1f051c(0x671)]);}}async[a0_0x359adc(0x204)](){const _0x12959b=a0_0x359adc;this[_0x12959b(0x397)]&&clearTimeout(this['timerId']),this[_0x12959b(0x397)]=setTimeout(()=>{const _0x5494a8=_0x12959b;this[_0x5494a8(0x5ac)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x359adc(0x5ac)](){const _0x5cbd91=a0_0x359adc;Date[_0x5cbd91(0x644)]()-this[_0x5cbd91(0x3ef)]>=0x1d4c0&&(this['logger']['verbose'](this[_0x5cbd91(0x6c0)]+'\x20('+this['instance'][_0x5cbd91(0x5a4)]+_0x5cbd91(0x1c5)),this[_0x5cbd91(0x44d)]=null,this[_0x5cbd91(0x3ef)]=0x0,this['delayMessage']=0x0,await this['scheduleNextCheck']());}async[a0_0x359adc(0x66a)](){const _0x336906=a0_0x359adc;let _0x2d2b11=()=>{const _0x11c007=a0_0x2b70;this[_0x11c007(0x577)][_0x11c007(0x4d2)](this['instanceName']+'\x20('+this[_0x11c007(0x3a4)][_0x11c007(0x5a4)]+_0x11c007(0x2cd)+this[_0x11c007(0x44d)]+_0x11c007(0x261));},_0x91dd7c=async()=>{const _0x31c92a=a0_0x2b70;this['logger'][_0x31c92a(0x4d2)](this[_0x31c92a(0x6c0)]+'\x20('+this['instance'][_0x31c92a(0x5a4)]+_0x31c92a(0x69d));let _0x1848ef=Date[_0x31c92a(0x644)]()-0xc*0x3c*0x3c*0x3e8;return await J['find']({'owner':this['instance'][_0x31c92a(0x5a4)],'status':{'$in':[_0x31c92a(0x3fd),_0x31c92a(0x535)]},'$or':[{'when':{'$lte':Date[_0x31c92a(0x644)](),'$gte':_0x1848ef}},{'when':0x0}]});},_0x1f04db=async _0x34c0ee=>{const _0x35e506=a0_0x2b70;for(let _0x96f571 of _0x34c0ee){if(!await J['findOneAndUpdate']({'_id':_0x96f571[_0x35e506(0x2ec)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x35e506(0x644)]()-0x1770}}]},{'$set':{'startSend':Date[_0x35e506(0x644)]()}}))return;if(!this['isConnected']){this[_0x35e506(0x577)][_0x35e506(0x4d2)](this[_0x35e506(0x6c0)]+'\x20('+this[_0x35e506(0x3a4)][_0x35e506(0x5a4)]+_0x35e506(0x652));break;}if(_0x96f571[_0x35e506(0x38c)]===_0x35e506(0x2f8)&&!this[_0x35e506(0x32c)]?.[_0x35e506(0x637)][_0x35e506(0x283)]){this[_0x35e506(0x577)][_0x35e506(0x252)](this['instanceName']+'\x20('+this[_0x35e506(0x3a4)][_0x35e506(0x5a4)]+_0x35e506(0x564));continue;}(!_0x96f571[_0x35e506(0x1eb)]||_0x96f571[_0x35e506(0x1eb)][_0x35e506(0x582)]===0x0)&&(_0x96f571=await J[_0x35e506(0x3e5)](_0x96f571['_id'],{'$set':{'status':_0x35e506(0x535),'remoteJidsRemaining':[..._0x96f571[_0x35e506(0x6ec)]]}},{'new':!0x0}));for(let _0x3487f4 of _0x96f571[_0x35e506(0x1eb)]){if(await this[_0x35e506(0x204)](),this[_0x35e506(0x3ef)]=Date[_0x35e506(0x644)](),_0x96f571[_0x35e506(0x75e)][_0x35e506(0x28b)](_0x4134d6=>_0x4134d6[_0x35e506(0x340)]===_0x3487f4)){this['logger'][_0x35e506(0x4d2)](this[_0x35e506(0x6c0)]+'\x20('+this[_0x35e506(0x3a4)][_0x35e506(0x5a4)]+_0x35e506(0x6e0)+_0x3487f4+'.\x20Pulando.');continue;}if(!this[_0x35e506(0x3f9)]){this[_0x35e506(0x577)][_0x35e506(0x4d2)](this[_0x35e506(0x6c0)]+'\x20('+this[_0x35e506(0x3a4)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x35e506(0x44d)]){this[_0x35e506(0x577)]['verbose'](this[_0x35e506(0x6c0)]+'\x20('+this[_0x35e506(0x3a4)][_0x35e506(0x5a4)]+_0x35e506(0x62c)+_0x96f571[_0x35e506(0x2ec)]+_0x35e506(0x6db));break;}if(_0x96f571[_0x35e506(0x38c)]==='flow'&&!this[_0x35e506(0x32c)]?.[_0x35e506(0x637)][_0x35e506(0x283)]){this['logger']['error'](this[_0x35e506(0x6c0)]+'\x20('+this[_0x35e506(0x3a4)]['wuid']+_0x35e506(0x564));break;}try{let _0x5852ff=await this[_0x35e506(0x73b)](_0x3487f4,_0x96f571),_0x52c059=_0x5852ff[_0x35e506(0x252)]===!0x0,_0x4341e9={'remoteJid':_0x3487f4,'error':_0x52c059,'id':_0x52c059?null:_0x5852ff['id'],'error_log':_0x52c059?_0x5852ff[_0x35e506(0x68f)]?_0x5852ff['detail']['toString']():'':null,'log_timestamp':Date[_0x35e506(0x644)]()};if((await J[_0x35e506(0x3e5)](_0x96f571['_id'],{'$push':{'messagesSend':_0x4341e9},'$pull':{'remoteJidsRemaining':_0x3487f4}},{'new':!0x0}))[_0x35e506(0x595)]==='stopped'){this['logger']['verbose'](this[_0x35e506(0x6c0)]+'\x20('+this[_0x35e506(0x3a4)][_0x35e506(0x5a4)]+_0x35e506(0x62c)+_0x96f571[_0x35e506(0x2ec)]+_0x35e506(0x59e));break;}if(_0x52c059)continue;let _0x12eee0=this[_0x35e506(0x410)](_0x96f571[_0x35e506(0x494)],_0x96f571[_0x35e506(0x447)]);await this[_0x35e506(0x679)](_0x12eee0);}catch(_0x533873){this[_0x35e506(0x577)][_0x35e506(0x252)](this[_0x35e506(0x6c0)]+'\x20('+this['instance']['wuid']+_0x35e506(0x625)+_0x3487f4+':\x20'+JSON['stringify'](_0x533873,null,0x2));let _0x3c4f78={'remoteJid':_0x3487f4,'error':!0x0,'id':null,'error_log':_0x533873[_0x35e506(0x671)],'log_timestamp':Date[_0x35e506(0x644)]()};await J[_0x35e506(0x3e5)](_0x96f571[_0x35e506(0x2ec)],{'$push':{'messagesSend':_0x3c4f78},'$pull':{'remoteJidsRemaining':_0x3487f4}},{'new':!0x0});}}let _0x502d0d=await J[_0x35e506(0x6a5)](_0x96f571['_id']);_0x502d0d['remoteJidsRemaining'][_0x35e506(0x582)]===0x0&&_0x502d0d[_0x35e506(0x595)]!==_0x35e506(0x3ff)&&await J['findByIdAndUpdate'](_0x96f571[_0x35e506(0x2ec)],{'$set':{'status':_0x35e506(0x464)}},{'new':!0x0}),await new Promise(_0x293456=>setTimeout(_0x293456,0x1388));}},_0xc94677=async()=>{const _0x46b703=a0_0x2b70;let _0x39d6b=await J[_0x46b703(0x50e)]({'owner':this[_0x46b703(0x3a4)][_0x46b703(0x5a4)],'status':_0x46b703(0x3fd),'when':{'$gt':Date[_0x46b703(0x644)]()}})[_0x46b703(0x55f)]({'when':0x1});_0x39d6b&&_0x39d6b['when']-Date['now']()<=0x5265c00?this[_0x46b703(0x71a)]=_0x39d6b['when']-Date[_0x46b703(0x644)]():this[_0x46b703(0x71a)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x46b703(0x71a)]=Math[_0x46b703(0x59c)](this['delayMessage'],0x7d0);let _0x1347e3=Math[_0x46b703(0x1d6)](this[_0x46b703(0x71a)]/0xea60);if(_0x39d6b){let _0x4a6b98=new Date(_0x39d6b[_0x46b703(0x57f)])[_0x46b703(0x586)]();this[_0x46b703(0x577)]['verbose'](this[_0x46b703(0x6c0)]+'\x20('+this[_0x46b703(0x3a4)][_0x46b703(0x5a4)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x4a6b98+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x1347e3+_0x46b703(0x745));}else this[_0x46b703(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x46b703(0x3a4)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x1347e3+'\x20minutos');setTimeout(()=>this[_0x46b703(0x66a)](),this[_0x46b703(0x71a)]);};if(this[_0x336906(0x44d)]){await this[_0x336906(0x204)](),_0x2d2b11();return;}if(!this[_0x336906(0x3f9)]){this[_0x336906(0x577)][_0x336906(0x4d2)](this[_0x336906(0x6c0)]+'\x20('+this[_0x336906(0x3a4)][_0x336906(0x5a4)]+_0x336906(0x24c)),this[_0x336906(0x44d)]=null,this[_0x336906(0x3ef)]=0x0,this[_0x336906(0x71a)]=0x0;return;}try{let _0x3a70ed=await _0x91dd7c();_0x3a70ed['length']===0x0?this[_0x336906(0x577)]['verbose'](this[_0x336906(0x6c0)]+'\x20('+this[_0x336906(0x3a4)][_0x336906(0x5a4)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x336906(0x44d)]=_0x3a70ed[0x0][_0x336906(0x2ec)],await _0x1f04db(_0x3a70ed)),await _0xc94677(),this['processingScheduleMessageId']=null;}catch(_0x3693a5){this[_0x336906(0x577)]['error'](_0x336906(0x3f0)+JSON[_0x336906(0x493)](_0x3693a5,null,0x2));}}['getDelay'](_0x74c063,_0x126ecc){const _0x54a706=a0_0x359adc;return _0x74c063=Math[_0x54a706(0x59c)](0.5,_0x74c063),_0x126ecc=Math[_0x54a706(0x59c)](0x3,_0x126ecc),Math['floor'](Math['random']()*(_0x126ecc-_0x74c063+0x1)+_0x74c063)*0x3e8;}['sleep'](_0x482c63){return new Promise(_0x31abf3=>setTimeout(_0x31abf3,_0x482c63));}async['getVariablesChat'](_0x3fce16){const _0x4aef16=a0_0x359adc;if(!this[_0x4aef16(0x32c)]&&(await this[_0x4aef16(0x408)](),!this[_0x4aef16(0x32c)]))return null;_0x3fce16=this[_0x4aef16(0x1c7)](_0x3fce16);let _0xd9d5b=await this[_0x4aef16(0x638)][_0x4aef16(0x39d)][_0x4aef16(0x50e)]({'where':{'_id':_0x3fce16,'owner':this['instance'][_0x4aef16(0x5a4)]}}),_0x1b6289={};if(_0xd9d5b&&_0xd9d5b[_0x4aef16(0x286)]){let _0x3976ca=_0xd9d5b[_0x4aef16(0x286)];typeof _0x3976ca[_0x4aef16(0x332)]==_0x4aef16(0x1e5)&&(_0x1b6289['nome']=_0x3976ca[_0x4aef16(0x332)]),typeof _0x3976ca[_0x4aef16(0x19f)]=='string'&&(_0x1b6289['nomecompleto']=_0x3976ca[_0x4aef16(0x19f)]),typeof _0x3976ca['email']==_0x4aef16(0x1e5)&&(_0x1b6289[_0x4aef16(0x2d2)]=_0x3976ca[_0x4aef16(0x2d2)]),typeof _0x3976ca[_0x4aef16(0x62d)]==_0x4aef16(0x1e5)&&(_0x1b6289[_0x4aef16(0x62d)]=_0x3976ca[_0x4aef16(0x62d)]),typeof _0x3976ca[_0x4aef16(0x595)]==_0x4aef16(0x1e5)&&(_0x1b6289[_0x4aef16(0x595)]=_0x3976ca[_0x4aef16(0x595)]),typeof _0x3976ca[_0x4aef16(0x309)]=='string'&&(_0x1b6289[_0x4aef16(0x309)]=_0x3976ca[_0x4aef16(0x309)]),typeof _0x3976ca[_0x4aef16(0x597)]==_0x4aef16(0x1e5)&&(_0x1b6289['responsavelid']=_0x3976ca[_0x4aef16(0x597)]),Array[_0x4aef16(0x440)](_0x3976ca[_0x4aef16(0x320)])&&(_0x1b6289[_0x4aef16(0x320)]=_0x3976ca[_0x4aef16(0x320)]['join'](',\x20'));}return _0xd9d5b&&_0xd9d5b['leadInfo']&&_0xd9d5b['leadInfo'][_0x4aef16(0x5b6)]&&_0xd9d5b['leadInfo']['customFields'][_0x4aef16(0x4a9)](_0x441df6=>{const _0x45dfab=_0x4aef16;let _0x44f8b8=this[_0x45dfab(0x32c)]?.[_0x45dfab(0x5b6)][_0x45dfab(0x673)](_0x35e8a9=>_0x35e8a9[_0x45dfab(0x2ec)]===_0x441df6[_0x45dfab(0x2ec)]);_0x44f8b8&&(_0x1b6289[_0x44f8b8[_0x45dfab(0x613)]]=_0x441df6[_0x45dfab(0x4cf)]);}),_0x1b6289;}async[a0_0x359adc(0x5b2)](_0xc0e977,_0xa07a73){const _0xca6976=a0_0x359adc;let _0x86e95f=await this[_0xca6976(0x592)](_0xa07a73);return this[_0xca6976(0x188)](_0xc0e977,_0x86e95f);}async[a0_0x359adc(0x402)](_0x15f7ee){const _0x5ac180=a0_0x359adc;try{if(this[_0x5ac180(0x577)][_0x5ac180(0x4d2)](this[_0x5ac180(0x6c0)]+'\x20('+this[_0x5ac180(0x3a4)][_0x5ac180(0x5a4)]+'):\x20Edit\x20schedule\x20message...'),_0x15f7ee[_0x5ac180(0x51e)]&&_0x15f7ee[_0x5ac180(0x2ec)]){if(this[_0x5ac180(0x44d)]===_0x15f7ee['_id'][_0x5ac180(0x25a)]())throw new Error(_0x5ac180(0x4fc));let _0x3e9ed9=await J['findByIdAndDelete'](_0x15f7ee['_id']);return setTimeout(()=>this[_0x5ac180(0x66a)](),0x7d0),_0x3e9ed9;}let _0x3f018a;if(_0x15f7ee[_0x5ac180(0x2ec)]&&(_0x3f018a=await J[_0x5ac180(0x50e)]({'owner':this['instance']['wuid'],'_id':_0x15f7ee[_0x5ac180(0x2ec)]})),_0x3f018a){let _0x33ae32=_0x15f7ee;this[_0x5ac180(0x44d)]===_0x3f018a[_0x5ac180(0x2ec)][_0x5ac180(0x25a)]()&&(_0x33ae32={'status':_0x15f7ee[_0x5ac180(0x595)],'_id':_0x15f7ee[_0x5ac180(0x2ec)]});let _0x3fca2a=await J[_0x5ac180(0x3e5)](_0x3f018a['_id'],{'$set':_0x33ae32},{'new':!0x0});return setTimeout(()=>this[_0x5ac180(0x66a)](),0x7d0),_0x3fca2a;}else{_0x15f7ee[_0x5ac180(0x72e)]=this[_0x5ac180(0x3a4)][_0x5ac180(0x5a4)];let _0x588466=await new J(_0x15f7ee)['save']();return setTimeout(()=>this[_0x5ac180(0x66a)](),0x7d0),_0x588466;}}catch(_0x57d4b4){throw this['logger'][_0x5ac180(0x252)](this[_0x5ac180(0x6c0)]+'\x20('+this[_0x5ac180(0x3a4)]['wuid']+_0x5ac180(0x238)+JSON[_0x5ac180(0x493)](_0x57d4b4,null,0x2)),new g(_0x5ac180(0x487)+_0x57d4b4[_0x5ac180(0x671)]);}}async[a0_0x359adc(0x4a6)](){const _0x2c5031=a0_0x359adc;try{return await J['find']({'owner':this[_0x2c5031(0x3a4)][_0x2c5031(0x5a4)]})[_0x2c5031(0x55f)]({'when':0x1});}catch(_0x4e15b2){throw this[_0x2c5031(0x577)][_0x2c5031(0x252)](this[_0x2c5031(0x6c0)]+'\x20('+this['instance'][_0x2c5031(0x5a4)]+_0x2c5031(0x67a)+JSON['stringify'](_0x4e15b2,null,0x2)),new g('Erro:'+_0x4e15b2[_0x2c5031(0x671)]);}}async[a0_0x359adc(0x299)](){const _0x12bebb=a0_0x359adc;try{return await J[_0x12bebb(0x336)]({'owner':this[_0x12bebb(0x3a4)]['wuid'],'status':_0x12bebb(0x464)}),this[_0x12bebb(0x577)][_0x12bebb(0x4d2)](this[_0x12bebb(0x6c0)]+'\x20('+this['instance'][_0x12bebb(0x5a4)]+_0x12bebb(0x413)),this['getScheduleMessage']();}catch(_0x5a0639){throw this[_0x12bebb(0x577)]['error'](this['instanceName']+'\x20('+this[_0x12bebb(0x3a4)][_0x12bebb(0x5a4)]+_0x12bebb(0x49e)+JSON[_0x12bebb(0x493)](_0x5a0639,null,0x2)),new g(_0x12bebb(0x487)+_0x5a0639[_0x12bebb(0x671)]);}}async[a0_0x359adc(0x73b)](_0x346a75,_0x4c692a){const _0x2a8a8a=a0_0x359adc;try{if(_0x4c692a['type']==='flow'&&!this[_0x2a8a8a(0x32c)]?.[_0x2a8a8a(0x637)][_0x2a8a8a(0x283)])return this[_0x2a8a8a(0x577)][_0x2a8a8a(0x252)](this[_0x2a8a8a(0x6c0)]+'\x20('+this['instance'][_0x2a8a8a(0x5a4)]+_0x2a8a8a(0x36e)),{'error':!0x0,'detail':_0x2a8a8a(0x727)};switch(_0x4c692a[_0x2a8a8a(0x38c)]){case'text':return await this['scheduleSendText'](_0x4c692a,_0x346a75);case _0x2a8a8a(0x5e3):return await this[_0x2a8a8a(0x327)](_0x4c692a,_0x346a75);case _0x2a8a8a(0x248):return await this[_0x2a8a8a(0x50f)](_0x4c692a,_0x346a75);case'flow':let _0x29b847=new Pe();return _0x29b847[_0x2a8a8a(0x613)]=_0x4c692a[_0x2a8a8a(0x581)],_0x29b847[_0x2a8a8a(0x340)]=_0x346a75,await this['startFlow'](_0x29b847);break;default:return this[_0x2a8a8a(0x577)][_0x2a8a8a(0x252)](this['instanceName']+'\x20('+this[_0x2a8a8a(0x3a4)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x4c692a[_0x2a8a8a(0x38c)]),{'error':!0x0,'detail':_0x2a8a8a(0x29a)};}}catch(_0x4717a1){return this[_0x2a8a8a(0x577)][_0x2a8a8a(0x252)](this[_0x2a8a8a(0x6c0)]+'\x20('+this['instance'][_0x2a8a8a(0x5a4)]+_0x2a8a8a(0x470)+JSON['stringify'](_0x4717a1,null,0x2)),{'error':!0x0,'detail':_0x4717a1[_0x2a8a8a(0x671)]};}}['getRandomText'](_0x5dac26){const _0x70d90a=a0_0x359adc;let _0x36416e=_0x5dac26[_0x70d90a(0x655)]('|'),_0x21e78e=Math[_0x70d90a(0x41b)](Math['random']()*_0x36416e[_0x70d90a(0x582)]);return _0x36416e[_0x21e78e]['trim']();}async['scheduleSendText'](_0x2c4476,_0x18e468){const _0x426458=a0_0x359adc;if(this[_0x426458(0x577)]['verbose'](this['instanceName']+'\x20('+this[_0x426458(0x3a4)][_0x426458(0x5a4)]+_0x426458(0x53f)),!_0x2c4476[_0x426458(0x671)]['text']||_0x2c4476[_0x426458(0x671)][_0x426458(0x632)][_0x426458(0x582)]===0x0)return{'error':!0x0,'detail':_0x426458(0x45a)};let _0x4e1b34=this[_0x426458(0x56d)](_0x2c4476[_0x426458(0x671)]['text']),_0x51c0b0=await this[_0x426458(0x5b2)](_0x4e1b34,_0x18e468),_0x1d0c10={'number':_0x18e468,'options':{'delay':_0x2c4476['message'][_0x426458(0x767)]},'textMessage':{'text':_0x51c0b0}},_0x1ecc61=null;try{let _0x253850=await this[_0x426458(0x424)](_0x1d0c10);if(_0x253850&&_0x253850['status'])return{'error':!0x1,'id':_0x253850['key']['id']};_0x1ecc61=JSON[_0x426458(0x493)](_0x253850),this[_0x426458(0x577)][_0x426458(0x4d2)](this[_0x426458(0x6c0)]+'\x20('+this[_0x426458(0x3a4)]['wuid']+'):\x20'+_0x1ecc61);}catch(_0x40b229){this[_0x426458(0x577)]['error'](this['instanceName']+'\x20('+this[_0x426458(0x3a4)][_0x426458(0x5a4)]+_0x426458(0x50c)+JSON['stringify'](_0x40b229,null,0x2)),_0x1ecc61=_0x40b229[_0x426458(0x671)];}if(_0x1ecc61)return{'error':!0x0,'detail':(typeof _0x1ecc61==_0x426458(0x43d)?JSON[_0x426458(0x493)](_0x1ecc61,null,0x2):_0x1ecc61)[_0x426458(0x37f)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x359adc(0x327)](_0x42c154,_0x2c48af){const _0x8c1501=a0_0x359adc;this[_0x8c1501(0x577)][_0x8c1501(0x4d2)](this[_0x8c1501(0x6c0)]+'\x20('+this['instance'][_0x8c1501(0x5a4)]+_0x8c1501(0x438));let _0x3007df;if(_0x42c154[_0x8c1501(0x671)][_0x8c1501(0x632)]&&_0x42c154[_0x8c1501(0x671)][_0x8c1501(0x632)][_0x8c1501(0x582)]>0x0){let _0x5ed3b9=this[_0x8c1501(0x56d)](_0x42c154[_0x8c1501(0x671)]['text']);_0x3007df=await this[_0x8c1501(0x5b2)](_0x5ed3b9,_0x2c48af);}let _0x53f961={'number':_0x2c48af,'options':{'delay':_0x42c154[_0x8c1501(0x671)][_0x8c1501(0x767)]},'mediaMessage':{'mediatype':_0x42c154['message'][_0x8c1501(0x235)],'caption':_0x3007df,'media':_0x42c154[_0x8c1501(0x671)][_0x8c1501(0x5e8)]}},_0x1f51cb=null;try{let _0xecec5a=await this[_0x8c1501(0x2a7)](_0x53f961);if(_0xecec5a&&_0xecec5a[_0x8c1501(0x595)])return{'error':!0x1,'id':_0xecec5a[_0x8c1501(0x6f8)]['id']};_0x1f51cb=JSON[_0x8c1501(0x493)](_0xecec5a),this[_0x8c1501(0x577)]['verbose'](this[_0x8c1501(0x6c0)]+'\x20('+this[_0x8c1501(0x3a4)][_0x8c1501(0x5a4)]+_0x8c1501(0x61c)+_0x1f51cb);}catch(_0x1ffcc6){this[_0x8c1501(0x577)][_0x8c1501(0x252)](this['instanceName']+'\x20('+this[_0x8c1501(0x3a4)]['wuid']+_0x8c1501(0x330)+JSON['stringify'](_0x1ffcc6,null,0x2)),_0x1f51cb=_0x1ffcc6[_0x8c1501(0x671)];}if(_0x1f51cb)return{'error':!0x0,'detail':(typeof _0x1f51cb==_0x8c1501(0x43d)?JSON[_0x8c1501(0x493)](_0x1f51cb,null,0x2):_0x1f51cb)['replace'](/[\[\]{}\n]/g,'\x20')[_0x8c1501(0x37f)](/  +/g,'\x20')};}async[a0_0x359adc(0x50f)](_0x3d72cb,_0xdb148c){const _0x108002=a0_0x359adc;this[_0x108002(0x577)][_0x108002(0x4d2)](this[_0x108002(0x6c0)]+'\x20('+this[_0x108002(0x3a4)][_0x108002(0x5a4)]+_0x108002(0x46e));let _0x5e791d={'number':_0xdb148c,'options':{'delay':_0x3d72cb[_0x108002(0x671)][_0x108002(0x767)]},'audioMessage':{'audio':_0x3d72cb[_0x108002(0x671)][_0x108002(0x5e8)]}},_0x50eab3=null;try{let _0x38fdbf=await this[_0x108002(0x658)](_0x5e791d);if(_0x38fdbf&&_0x38fdbf[_0x108002(0x595)])return{'error':!0x1,'id':_0x38fdbf['key']['id']};_0x50eab3=JSON[_0x108002(0x493)](_0x38fdbf),this[_0x108002(0x577)][_0x108002(0x4d2)](this[_0x108002(0x6c0)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x50eab3);}catch(_0x54295b){this[_0x108002(0x577)][_0x108002(0x252)](this[_0x108002(0x6c0)]+'\x20('+this[_0x108002(0x3a4)][_0x108002(0x5a4)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+JSON[_0x108002(0x493)](_0x54295b,null,0x2)),_0x50eab3=_0x54295b['message'];}if(_0x50eab3)return{'error':!0x0,'detail':(typeof _0x50eab3==_0x108002(0x43d)?JSON[_0x108002(0x493)](_0x50eab3,null,0x2):_0x50eab3)[_0x108002(0x37f)](/[\[\]{}\n]/g,'\x20')[_0x108002(0x37f)](/  +/g,'\x20')};}},be=require(a0_0x359adc(0x55d)),Pt=class c{constructor(_0x239562,_0x59a53d,_0x1c5d2a){const _0x3d14ab=a0_0x359adc;this[_0x3d14ab(0x492)]=_0x239562,this[_0x3d14ab(0x2a1)]=_0x59a53d,this[_0x3d14ab(0x638)]=_0x1c5d2a,this['db']={},this[_0x3d14ab(0x5c3)]={},this[_0x3d14ab(0x577)]=new C(c[_0x3d14ab(0x613)]),this[_0x3d14ab(0x556)]={},(this[_0x3d14ab(0x453)](),this[_0x3d14ab(0x2c0)](),this[_0x3d14ab(0x1ab)](),Object[_0x3d14ab(0x5f8)](this['db'],_0x59a53d['get'](_0x3d14ab(0x4a4))),Object[_0x3d14ab(0x5f8)](this[_0x3d14ab(0x5c3)],_0x59a53d[_0x3d14ab(0x43e)]('REDIS')),this[_0x3d14ab(0x396)]=this['db']['ENABLED']?this[_0x3d14ab(0x638)][_0x3d14ab(0x3c7)]?.['db'](this['db'][_0x3d14ab(0x590)][_0x3d14ab(0x6ca)]+'-instances'):void 0x0,this['redisCache']=this[_0x3d14ab(0x5c3)]['ENABLED']?new ne(this[_0x3d14ab(0x5c3)]):void 0x0);}[a0_0x359adc(0x5cd)](_0xe94ea9){const _0x148154=a0_0x359adc;let _0x4f60c5=this[_0x148154(0x2a1)][_0x148154(0x43e)](_0x148154(0x2ac));typeof _0x4f60c5==_0x148154(0x74a)&&_0x4f60c5>0x0&&setTimeout(()=>{const _0x364967=_0x148154;this[_0x364967(0x556)][_0xe94ea9]?.[_0x364967(0x1ad)]?.['state']!==_0x364967(0x50b)&&delete this[_0x364967(0x556)][_0xe94ea9];},0x3e8*0x3c*_0x4f60c5);}async[a0_0x359adc(0x4ec)](_0x2ec373){const _0x14a7d1=a0_0x359adc;if(_0x2ec373&&!this[_0x14a7d1(0x556)][_0x2ec373])throw new $(_0x14a7d1(0x5b3)+_0x2ec373+_0x14a7d1(0x1ed));let _0x4534e2=[];for await(let [_0x391728,_0x68311e]of Object[_0x14a7d1(0x72b)](this[_0x14a7d1(0x556)]))if(_0x68311e&&_0x68311e[_0x14a7d1(0x1ad)][_0x14a7d1(0x46d)]===_0x14a7d1(0x50b)){let _0x58fb3b=await this[_0x14a7d1(0x638)][_0x14a7d1(0x3bf)][_0x14a7d1(0x673)](_0x391728);_0x4534e2['push']({'instance':{'instanceName':_0x391728,'apikey':_0x58fb3b['apikey'],'owner':_0x68311e['wuid'],'profileName':await _0x68311e['getProfileName']()||_0x14a7d1(0x661),'profilePictureUrl':_0x68311e['profilePictureUrl']}});}return _0x4534e2[_0x14a7d1(0x673)](_0x38de6b=>_0x38de6b[_0x14a7d1(0x3a4)][_0x14a7d1(0x6c0)]===_0x2ec373)??_0x4534e2;}[a0_0x359adc(0x1ab)](){setInterval(async()=>{const _0x162267=a0_0x2b70;if(this['db']['ENABLED'])(await this[_0x162267(0x396)][_0x162267(0x22f)]())['forEach'](async _0x9b8181=>{const _0x48a285=_0x162267;let _0x3a89aa=_0x9b8181[_0x48a285(0x2ae)]['replace'](/^[\w-]+./,'');await this[_0x48a285(0x396)][_0x48a285(0x20b)](_0x3a89aa)[_0x48a285(0x336)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x20b1b1=(0x0,te['opendirSync'])(j,{'encoding':_0x162267(0x5ff)});for await(let _0x521bc4 of _0x20b1b1)_0x521bc4[_0x162267(0x2a8)]()&&(0x0,te[_0x162267(0x72c)])((0x0,be[_0x162267(0x641)])(j,_0x521bc4['name']),{'encoding':_0x162267(0x5ff)})[_0x162267(0x4a9)](async _0x5ac35b=>{const _0x5026b1=_0x162267;(_0x5ac35b[_0x5026b1(0x247)](/^app.state.*/)||_0x5ac35b['match'](/^session-.*/))&&(0x0,te[_0x5026b1(0x3c9)])((0x0,be['join'])(j,_0x521bc4[_0x5026b1(0x613)],_0x5ac35b),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x359adc(0x1bf)](_0x4cedcf){const _0x53f91f=a0_0x359adc;this['db'][_0x53f91f(0x748)]&&(await this[_0x53f91f(0x638)]['dbServer']['connect'](),(await this[_0x53f91f(0x396)][_0x53f91f(0x22f)]())['length']>0x0&&await this[_0x53f91f(0x396)]['dropCollection'](_0x4cedcf)),this['redis'][_0x53f91f(0x748)]&&(this[_0x53f91f(0x459)][_0x53f91f(0x3bd)]=_0x4cedcf,await this[_0x53f91f(0x459)][_0x53f91f(0x522)]()),!this['db'][_0x53f91f(0x748)]&&!this[_0x53f91f(0x5c3)]['ENABLED']&&(0x0,te[_0x53f91f(0x3c9)])((0x0,be[_0x53f91f(0x641)])(j,_0x4cedcf),{'recursive':!0x0,'force':!0x0});}async[a0_0x359adc(0x2d7)](){const _0x607c29=a0_0x359adc;let _0x33de12=async _0x5b094a=>{const _0x110ba5=a0_0x2b70;let _0x422801=new ye(this['configService'],this['eventEmitter'],this[_0x110ba5(0x638)]);_0x422801['instanceName']=_0x5b094a,await _0x422801[_0x110ba5(0x47d)](),this['waInstances'][_0x5b094a]=_0x422801;};try{if(this[_0x607c29(0x5c3)][_0x607c29(0x748)]){let _0x32fab2=await this[_0x607c29(0x459)][_0x607c29(0x5fe)]();_0x32fab2?.[_0x607c29(0x582)]>0x0&&_0x32fab2[_0x607c29(0x4a9)](async _0x61d390=>await _0x33de12(_0x61d390['split'](':')[0x1]));}if(this['db'][_0x607c29(0x748)]){await this['repository'][_0x607c29(0x3c7)][_0x607c29(0x35d)]();let _0x2fa880=await this[_0x607c29(0x396)][_0x607c29(0x22f)]();_0x2fa880[_0x607c29(0x582)]>0x0&&_0x2fa880[_0x607c29(0x4a9)](async _0x2d92bc=>await _0x33de12(_0x2d92bc['namespace'][_0x607c29(0x37f)](/^[\w-]+\./,'')));return;}let _0x3890d9=(0x0,te[_0x607c29(0x57e)])(j,{'encoding':_0x607c29(0x5ff)});for await(let _0x5ed3b8 of _0x3890d9)if(_0x5ed3b8[_0x607c29(0x2a8)]()){if((0x0,te[_0x607c29(0x72c)])((0x0,be[_0x607c29(0x641)])(j,_0x5ed3b8['name']),{'encoding':_0x607c29(0x5ff)})[_0x607c29(0x582)]===0x0){(0x0,te[_0x607c29(0x3c9)])((0x0,be[_0x607c29(0x641)])(j,_0x5ed3b8[_0x607c29(0x613)]),{'recursive':!0x0,'force':!0x0});break;}await _0x33de12(_0x5ed3b8[_0x607c29(0x613)]);}}catch(_0x11ac68){this[_0x607c29(0x577)][_0x607c29(0x252)](_0x11ac68);}}[a0_0x359adc(0x453)](){const _0x3c9d4d=a0_0x359adc;this[_0x3c9d4d(0x492)]['on']('remove.instance',async _0x16cb3f=>{const _0x45341b=_0x3c9d4d;try{this[_0x45341b(0x556)][_0x16cb3f]=void 0x0;}catch{}try{this[_0x45341b(0x1bf)](_0x16cb3f);}finally{this[_0x45341b(0x577)][_0x45341b(0x1b2)](_0x45341b(0x5b3)+_0x16cb3f+_0x45341b(0x6cd));}});}[a0_0x359adc(0x2c0)](){const _0x1aa710=a0_0x359adc;this[_0x1aa710(0x492)]['on'](_0x1aa710(0x33e),async _0xe64ac7=>{const _0x19c8bf=_0x1aa710;try{this['waInstances'][_0xe64ac7]=void 0x0,this[_0x19c8bf(0x1bf)](_0xe64ac7);}catch(_0x10ffd6){this['logger'][_0x19c8bf(0x252)]({'localError':_0x19c8bf(0x2c0),'warn':_0x19c8bf(0x2ef),'error':_0x10ffd6});}finally{this[_0x19c8bf(0x577)][_0x19c8bf(0x1b2)]('Instance\x20\x22'+_0xe64ac7+_0x19c8bf(0x631));}});}},xt=class extends H{constructor(_0x5ea55b){super(_0x5ea55b),this['configService']=_0x5ea55b;}[a0_0x359adc(0x2f9)](_0x255a8b){return ks(_0x255a8b);}async['insert'](_0x1f570b){const _0x1eb854=a0_0x359adc;if(_0x1f570b[_0x1eb854(0x582)]!==0x0)try{return{'insertCount':(await this[_0x1eb854(0x2f9)](_0x1f570b[0x0][_0x1eb854(0x72e)])[_0x1eb854(0x4fb)]([..._0x1f570b]))[_0x1eb854(0x582)]};}catch(_0x1f38b1){return _0x1f38b1;}}async['find'](_0x5e9fa9){const _0xcf987e=a0_0x359adc;try{return await this['getChatModelForOwner'](_0x5e9fa9[_0xcf987e(0x504)]['owner'])[_0xcf987e(0x673)]({..._0x5e9fa9[_0xcf987e(0x504)]})[_0xcf987e(0x55f)]({'lastmsg':-0x1})[_0xcf987e(0x355)](_0x5e9fa9?.['limit']??0x0)[_0xcf987e(0x39f)]();}catch{return[];}}async['delete'](_0x361cf9){const _0x5befdb=a0_0x359adc;try{return{'deletedCount':(await this[_0x5befdb(0x2f9)](_0x361cf9[_0x5befdb(0x504)][_0x5befdb(0x72e)])['deleteMany']({..._0x361cf9[_0x5befdb(0x504)]}))[_0x5befdb(0x47a)]};}catch(_0x198a31){return{'error':_0x198a31?.[_0x5befdb(0x25a)]()};}}async[a0_0x359adc(0x607)](_0x3e2825){const _0x1a4526=a0_0x359adc;try{return await this['getChatModelForOwner'](_0x3e2825[_0x1a4526(0x504)][_0x1a4526(0x72e)])[_0x1a4526(0x336)]({..._0x3e2825[_0x1a4526(0x504)]}),[];}catch(_0x251221){return{'error':_0x251221?.[_0x1a4526(0x25a)]()};}}async[a0_0x359adc(0x50e)](_0x56bcf3){const _0x3ec2dd=a0_0x359adc;try{return await this[_0x3ec2dd(0x2f9)](_0x56bcf3['where'][_0x3ec2dd(0x72e)])[_0x3ec2dd(0x50e)]({..._0x56bcf3[_0x3ec2dd(0x504)]})[_0x3ec2dd(0x39f)]();}catch{return null;}}async[a0_0x359adc(0x213)](_0x2a33e6,_0xffdc2e,_0xe15078){const _0x140363=a0_0x359adc;try{let _0x5a2437={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xe15078};return await this['getChatModelForOwner'](_0x2a33e6[_0x140363(0x504)][_0x140363(0x72e)])['findOneAndUpdate']({..._0x2a33e6[_0x140363(0x504)]},{'$set':_0xffdc2e},_0x5a2437);}catch(_0x46ec13){return console[_0x140363(0x252)](_0x46ec13),null;}}async[a0_0x359adc(0x271)](_0x3ff064){const _0x54f34d=a0_0x359adc;try{let _0x3d5a4a=this['getChatModelForOwner'](_0x3ff064[0x0]['query'][_0x54f34d(0x504)]['owner']),_0x24f92a=_0x3ff064[_0x54f34d(0x4a3)](_0x31a9d6=>({'updateOne':{'filter':{..._0x31a9d6['query'][_0x54f34d(0x504)]},'update':{'$set':_0x31a9d6[_0x54f34d(0x57c)]}}}));return(await _0x3d5a4a[_0x54f34d(0x68c)](_0x24f92a))[_0x54f34d(0x387)];}catch(_0x5b4174){return console['error'](_0x5b4174),0x0;}}},$t=class{constructor(_0x18da44){const _0x34d1f5=a0_0x359adc;this[_0x34d1f5(0x38f)]=_0x18da44;}async[a0_0x359adc(0x502)]({instanceName:_0x523cc6},_0x25d085){const _0x140075=a0_0x359adc;return await this[_0x140075(0x38f)][_0x140075(0x556)][_0x523cc6][_0x140075(0x502)](_0x25d085);}async[a0_0x359adc(0x74c)]({instanceName:_0x418397},_0xd7f6d7){const _0x4b30c7=a0_0x359adc;return await this[_0x4b30c7(0x38f)][_0x4b30c7(0x556)][_0x418397][_0x4b30c7(0x74c)](_0xd7f6d7);}async['readMessage']({instanceName:_0x53071e},_0x178529){const _0x3c44d2=a0_0x359adc;return await this[_0x3c44d2(0x38f)][_0x3c44d2(0x556)][_0x53071e][_0x3c44d2(0x389)](_0x178529);}async[a0_0x359adc(0x74e)]({instanceName:_0x3bfa94},_0x5c9b91){const _0x10a576=a0_0x359adc;return await this['waMonitor'][_0x10a576(0x556)][_0x3bfa94]['archiveChat'](_0x5c9b91);}async[a0_0x359adc(0x441)]({instanceName:_0x45b2e3},_0x4b4201){const _0x2d387e=a0_0x359adc;return await this[_0x2d387e(0x38f)][_0x2d387e(0x556)][_0x45b2e3][_0x2d387e(0x441)](_0x4b4201);}async['fetchProfilePicture']({instanceName:_0x2a3c92},_0x138178){const _0x33bdc7=a0_0x359adc;return await this[_0x33bdc7(0x38f)][_0x33bdc7(0x556)][_0x2a3c92][_0x33bdc7(0x281)](_0x138178[_0x33bdc7(0x74a)]);}async[a0_0x359adc(0x6ed)]({instanceName:_0x436a8d},_0xf37282){const _0x2be7c1=a0_0x359adc;return await this[_0x2be7c1(0x38f)][_0x2be7c1(0x556)][_0x436a8d]['fetchProfile'](_0xf37282[_0x2be7c1(0x74a)]);}async['updatePresence']({instanceName:_0x92ade6},_0x5e86){const _0x5b727d=a0_0x359adc;return await this[_0x5b727d(0x38f)][_0x5b727d(0x556)][_0x92ade6]['updatePresence'](_0x5e86);}async[a0_0x359adc(0x304)]({instanceName:_0x38b9d1},_0x325ac3){const _0x231fb3=a0_0x359adc;return await this[_0x231fb3(0x38f)][_0x231fb3(0x556)][_0x38b9d1][_0x231fb3(0x304)](_0x325ac3);}async[a0_0x359adc(0x1b7)]({instanceName:_0x1965c9},_0x3ae93e){const _0x21f2a2=a0_0x359adc;return await this[_0x21f2a2(0x38f)][_0x21f2a2(0x556)][_0x1965c9][_0x21f2a2(0x1b7)](_0x3ae93e);}async[a0_0x359adc(0x50d)]({instanceName:_0x188a04},_0x4832d8){const _0x3db1e8=a0_0x359adc;return await this[_0x3db1e8(0x38f)][_0x3db1e8(0x556)][_0x188a04][_0x3db1e8(0x50d)](_0x4832d8);}async[a0_0x359adc(0x589)]({instanceName:_0x4006ce}){const _0x34dc95=a0_0x359adc;return await this['waMonitor'][_0x34dc95(0x556)][_0x4006ce][_0x34dc95(0x589)]();}async[a0_0x359adc(0x650)]({instanceName:_0x31f0f3}){const _0x1dfcd4=a0_0x359adc;return await this[_0x1dfcd4(0x38f)][_0x1dfcd4(0x556)][_0x31f0f3][_0x1dfcd4(0x650)]();}async['updatePrivacySettings']({instanceName:_0x2c6c41},_0x5b3d2c){const _0x2ca361=a0_0x359adc;return await this['waMonitor'][_0x2ca361(0x556)][_0x2c6c41][_0x2ca361(0x611)](_0x5b3d2c);}async[a0_0x359adc(0x58e)]({instanceName:_0x4c6f2d},_0x387a3c){const _0x39e543=a0_0x359adc;return await this[_0x39e543(0x38f)][_0x39e543(0x556)][_0x4c6f2d][_0x39e543(0x58e)](_0x387a3c[_0x39e543(0x74a)]);}async[a0_0x359adc(0x246)]({instanceName:_0x5420be},_0x15c22e){const _0x38e7f7=a0_0x359adc;return await this[_0x38e7f7(0x38f)][_0x38e7f7(0x556)][_0x5420be][_0x38e7f7(0x246)](_0x15c22e[_0x38e7f7(0x613)]);}async[a0_0x359adc(0x36f)]({instanceName:_0x41e98d},_0x521e14){const _0x53ad62=a0_0x359adc;return await this['waMonitor'][_0x53ad62(0x556)][_0x41e98d][_0x53ad62(0x36f)](_0x521e14[_0x53ad62(0x595)]);}async['updateProfilePicture']({instanceName:_0x1e9b66},_0x53d655){const _0x48ae84=a0_0x359adc;return await this[_0x48ae84(0x38f)][_0x48ae84(0x556)][_0x1e9b66][_0x48ae84(0x54e)](_0x53d655[_0x48ae84(0x600)]);}async[a0_0x359adc(0x371)]({instanceName:_0x21853b},_0x3ec263){const _0x4341a7=a0_0x359adc;return await this[_0x4341a7(0x38f)][_0x4341a7(0x556)][_0x21853b][_0x4341a7(0x371)]();}},ws=require(a0_0x359adc(0x344)),kt=class c{constructor(_0x6081e4,_0x592a31,_0x32e45d,_0x5d92f8,_0x304272){const _0x33def2=a0_0x359adc;this[_0x33def2(0x38f)]=_0x6081e4,this[_0x33def2(0x2a1)]=_0x592a31,this[_0x33def2(0x638)]=_0x32e45d,this['eventEmitter']=_0x5d92f8,this[_0x33def2(0x609)]=_0x304272,this['logger']=new C(c['name']);}async[a0_0x359adc(0x54d)]({instanceName:_0x4bbe3a,apikey:_0xe067f9}){const _0x109fdb=a0_0x359adc;let _0x3c3705=new ye(this[_0x109fdb(0x2a1)],this[_0x109fdb(0x492)],this[_0x109fdb(0x638)]);_0x3c3705[_0x109fdb(0x6c0)]=_0x4bbe3a,this[_0x109fdb(0x38f)][_0x109fdb(0x556)][_0x3c3705['instanceName']]=_0x3c3705,this[_0x109fdb(0x38f)]['delInstanceTime'](_0x3c3705[_0x109fdb(0x6c0)]);let _0x77f657={};_0xe067f9?(await this[_0x109fdb(0x638)][_0x109fdb(0x3bf)][_0x109fdb(0x677)]({'apikey':_0xe067f9},_0x4bbe3a),_0x77f657[_0x109fdb(0x75d)]=_0xe067f9):_0x77f657=await this[_0x109fdb(0x609)][_0x109fdb(0x313)]({'instanceName':_0x3c3705[_0x109fdb(0x6c0)]});let _0x2a5b4c;return await _0x3c3705[_0x109fdb(0x47d)](),await(0x0,ws['delay'])(0x7d0),_0x2a5b4c=_0x3c3705[_0x109fdb(0x5af)],{'instance':{'instanceName':_0x3c3705[_0x109fdb(0x6c0)],'status':_0x109fdb(0x723)},'hash':_0x77f657,'qrcode':_0x2a5b4c};}async[a0_0x359adc(0x47d)]({instanceName:_0x3df8e4}){const _0x5b61f3=a0_0x359adc;try{let _0x4c9fe7=this[_0x5b61f3(0x38f)][_0x5b61f3(0x556)][_0x3df8e4];switch(_0x4c9fe7[_0x5b61f3(0x1ad)]?.[_0x5b61f3(0x46d)]){case _0x5b61f3(0x68a):return await _0x4c9fe7[_0x5b61f3(0x47d)](),await(0x0,ws['delay'])(0x7d0),_0x4c9fe7['qrCode'];case'connecting':return _0x4c9fe7[_0x5b61f3(0x5af)];default:return await this[_0x5b61f3(0x3c1)]({'instanceName':_0x3df8e4});}}catch(_0x492bc4){this[_0x5b61f3(0x577)][_0x5b61f3(0x219)](_0x492bc4);}}async['connectionState']({instanceName:_0x2c542d}){const _0x75c1cf=a0_0x359adc;let _0x100f12=this['waMonitor'][_0x75c1cf(0x556)][_0x2c542d][_0x75c1cf(0x1ad)],_0x2c4e7f=null;_0x100f12['state']===_0x75c1cf(0x50b)&&_0x2c542d&&(_0x2c4e7f=await this[_0x75c1cf(0x38f)][_0x75c1cf(0x4ec)](_0x2c542d));let _0x50444c=null;return _0x100f12[_0x75c1cf(0x46d)]===_0x75c1cf(0x58a)&&_0x2c542d&&(_0x50444c=this[_0x75c1cf(0x38f)][_0x75c1cf(0x556)][_0x2c542d][_0x75c1cf(0x5af)]),{'instance':_0x2c542d,'connectionStatus':_0x100f12,'instanceInfo':_0x2c4e7f,'qrcode':_0x50444c};}async[a0_0x359adc(0x39c)]({instanceName:_0x161878}){const _0x2d9400=a0_0x359adc;try{return this['waMonitor']['waInstances'][_0x161878]?.['client']?.['ws']?.[_0x2d9400(0x68a)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x2d9400(0x669)}};}catch(_0x489016){this[_0x2d9400(0x577)][_0x2d9400(0x252)](_0x489016);}}async[a0_0x359adc(0x473)]({instanceName:_0x5d250a}){const _0x229149=a0_0x359adc;return _0x5d250a?this['waMonitor'][_0x229149(0x4ec)](_0x5d250a):this['waMonitor'][_0x229149(0x4ec)]();}async[a0_0x359adc(0x20d)]({instanceName:_0x2284cc}){const _0x2aae13=a0_0x359adc;try{return await this[_0x2aae13(0x38f)]['waInstances'][_0x2284cc]?.[_0x2aae13(0x458)]?.[_0x2aae13(0x20d)](_0x2aae13(0x5c9)+_0x2284cc),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x4774b3){throw new A(_0x4774b3[_0x2aae13(0x25a)]());}}async[a0_0x359adc(0x4db)]({instanceName:_0x3b23b0}){const _0x1a5234=a0_0x359adc;if((await this[_0x1a5234(0x3c1)]({'instanceName':_0x3b23b0}))[_0x1a5234(0x1ad)][_0x1a5234(0x46d)]===_0x1a5234(0x50b))throw new g([_0x1a5234(0x285),_0x1a5234(0x27f)]);try{return delete this['waMonitor'][_0x1a5234(0x556)][_0x3b23b0],{'error':!0x1,'message':_0x1a5234(0x30a)};}catch(_0x5e021c){throw new g(_0x5e021c[_0x1a5234(0x25a)]());}}async[a0_0x359adc(0x4d4)](_0x7dab43,_0x404902){const _0x404f9b=a0_0x359adc;return await this[_0x404f9b(0x609)][_0x404f9b(0x4d4)](_0x404902);}},se=require(a0_0x359adc(0x5dc)),Lt=class{constructor(_0x4dc89a){const _0x5604e2=a0_0x359adc;this[_0x5604e2(0x38f)]=_0x4dc89a;}async[a0_0x359adc(0x295)]({instanceName:_0x956388},_0x15cb2f){const _0x1e5ac9=a0_0x359adc;return await this[_0x1e5ac9(0x38f)][_0x1e5ac9(0x556)][_0x956388][_0x1e5ac9(0x424)](_0x15cb2f);}async[a0_0x359adc(0x443)]({instanceName:_0xbbe06e},_0x1b0ee2){const _0x30271c=a0_0x359adc;return await this[_0x30271c(0x38f)][_0x30271c(0x556)][_0xbbe06e][_0x30271c(0x76b)](_0x1b0ee2);}async[a0_0x359adc(0x3c6)]({instanceName:_0x59b384},_0x21686c){const _0xeb1f69=a0_0x359adc;if((0x0,se[_0xeb1f69(0x411)])(_0x21686c?.[_0xeb1f69(0x2a7)]?.[_0xeb1f69(0x5e3)])&&!_0x21686c?.[_0xeb1f69(0x2a7)]?.[_0xeb1f69(0x60d)])throw new g(_0xeb1f69(0x61f));if((0x0,se[_0xeb1f69(0x48f)])(_0x21686c?.['mediaMessage']?.[_0xeb1f69(0x5e3)])||(0x0,se[_0xeb1f69(0x411)])(_0x21686c?.[_0xeb1f69(0x2a7)]?.[_0xeb1f69(0x5e3)]))return await this[_0xeb1f69(0x38f)][_0xeb1f69(0x556)][_0x59b384]['mediaMessage'](_0x21686c);throw new g(_0xeb1f69(0x55c));}async[a0_0x359adc(0x412)]({instanceName:_0x7bc269},_0x24d99f){const _0x2c7240=a0_0x359adc;if((0x0,se[_0x2c7240(0x48f)])(_0x24d99f[_0x2c7240(0x29f)][_0x2c7240(0x4c4)])||(0x0,se[_0x2c7240(0x411)])(_0x24d99f[_0x2c7240(0x29f)]['image']))return await this[_0x2c7240(0x38f)][_0x2c7240(0x556)][_0x7bc269][_0x2c7240(0x442)](_0x24d99f);throw new g(_0x2c7240(0x55c));}async[a0_0x359adc(0x1dd)]({instanceName:_0x19849c},_0x30cca4){const _0x5e6766=a0_0x359adc;if((0x0,se['isURL'])(_0x30cca4['audioMessage']['audio'])||(0x0,se[_0x5e6766(0x411)])(_0x30cca4[_0x5e6766(0x708)][_0x5e6766(0x248)]))return await this['waMonitor'][_0x5e6766(0x556)][_0x19849c][_0x5e6766(0x658)](_0x30cca4);throw new g(_0x5e6766(0x55c));}async[a0_0x359adc(0x2fe)]({instanceName:_0x11a862},_0x367080){const _0x32c6f4=a0_0x359adc;if((0x0,se[_0x32c6f4(0x411)])(_0x367080[_0x32c6f4(0x542)][_0x32c6f4(0x2a7)]?.[_0x32c6f4(0x5e3)])&&!_0x367080[_0x32c6f4(0x542)]['mediaMessage']?.['fileName'])throw new g(_0x32c6f4(0x61f));return await this['waMonitor']['waInstances'][_0x11a862][_0x32c6f4(0x542)](_0x367080);}async['sendLocation']({instanceName:_0x4176cf},_0x51a5ed){const _0x1fbdc1=a0_0x359adc;return await this[_0x1fbdc1(0x38f)]['waInstances'][_0x4176cf][_0x1fbdc1(0x500)](_0x51a5ed);}async[a0_0x359adc(0x6ee)]({instanceName:_0x306743},_0x1ed15a){const _0x23107c=a0_0x359adc;return await this[_0x23107c(0x38f)][_0x23107c(0x556)][_0x306743][_0x23107c(0x53c)](_0x1ed15a);}async['sendList']({instanceName:_0x31f0a3},_0x5af3ea){const _0xf928c3=a0_0x359adc;return await this[_0xf928c3(0x38f)][_0xf928c3(0x556)][_0x31f0a3][_0xf928c3(0x3ad)](_0x5af3ea);}async[a0_0x359adc(0x533)]({instanceName:_0x2f7120},_0x4351c6){const _0xd56514=a0_0x359adc;return await this[_0xd56514(0x38f)][_0xd56514(0x556)][_0x2f7120][_0xd56514(0x254)](_0x4351c6);}async[a0_0x359adc(0x756)]({instanceName:_0x1ab204},_0x258024){const _0x48b731=a0_0x359adc;if(!_0x258024['reactionMessage'][_0x48b731(0x60c)][_0x48b731(0x247)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x48b731(0x43b));return await this[_0x48b731(0x38f)][_0x48b731(0x556)][_0x1ab204][_0x48b731(0x5e4)](_0x258024);}async['sendStatus']({instanceName:_0x217703},_0x4652e7){const _0x56c99e=a0_0x359adc;return await this[_0x56c99e(0x38f)][_0x56c99e(0x556)][_0x217703][_0x56c99e(0x2e4)](_0x4652e7);}},Ut=class{constructor(_0x238837){const _0x4a3928=a0_0x359adc;this[_0x4a3928(0x38f)]=_0x238837;}async[a0_0x359adc(0x221)](_0x230164,_0x5edb67){const _0x14967b=a0_0x359adc;return await this[_0x14967b(0x38f)][_0x14967b(0x556)][_0x230164[_0x14967b(0x6c0)]]['createGroup'](_0x5edb67);}async[a0_0x359adc(0x770)](_0x14af95,_0x159259){const _0x2783f9=a0_0x359adc;return await this['waMonitor'][_0x2783f9(0x556)][_0x14af95[_0x2783f9(0x6c0)]][_0x2783f9(0x770)](_0x159259);}async[a0_0x359adc(0x647)](_0x4df377,_0x4cacdb){const _0x255cd5=a0_0x359adc;return await this['waMonitor'][_0x255cd5(0x556)][_0x4df377[_0x255cd5(0x6c0)]][_0x255cd5(0x647)](_0x4cacdb);}async[a0_0x359adc(0x57b)](_0x12d277,_0x2a67ee){const _0x489270=a0_0x359adc;return await this['waMonitor'][_0x489270(0x556)][_0x12d277['instanceName']][_0x489270(0x57b)](_0x2a67ee);}async[a0_0x359adc(0x5d8)](_0x245d17,_0x85f5c8){const _0x101d88=a0_0x359adc;return await this[_0x101d88(0x38f)][_0x101d88(0x556)][_0x245d17[_0x101d88(0x6c0)]]['groupSetting'](_0x85f5c8);}async['findGroupInfo'](_0x41d48d,_0x14677f){const _0x5d0ae2=a0_0x359adc;return await this[_0x5d0ae2(0x38f)][_0x5d0ae2(0x556)][_0x41d48d['instanceName']][_0x5d0ae2(0x636)](_0x14677f);}async[a0_0x359adc(0x349)](_0x24d112){const _0x34bd32=a0_0x359adc;return await this[_0x34bd32(0x38f)]['waInstances'][_0x24d112[_0x34bd32(0x6c0)]][_0x34bd32(0x349)]();}async[a0_0x359adc(0x74f)](_0x4ea91d,_0x4e8fe8){const _0x2db673=a0_0x359adc;return await this[_0x2db673(0x38f)][_0x2db673(0x556)][_0x4ea91d[_0x2db673(0x6c0)]]['inviteCode'](_0x4e8fe8);}async[a0_0x359adc(0x41f)](_0x1efcdb,_0x488cbe){const _0x5169e1=a0_0x359adc;return await this[_0x5169e1(0x38f)][_0x5169e1(0x556)][_0x1efcdb['instanceName']][_0x5169e1(0x41f)](_0x488cbe);}async['revokeInviteCode'](_0x15790c,_0x1803a6){const _0x10024e=a0_0x359adc;return await this[_0x10024e(0x38f)][_0x10024e(0x556)][_0x15790c[_0x10024e(0x6c0)]][_0x10024e(0x329)](_0x1803a6);}async[a0_0x359adc(0x6ad)](_0x434795,_0x16ff53){const _0x127cd6=a0_0x359adc;return await this['waMonitor'][_0x127cd6(0x556)][_0x434795[_0x127cd6(0x6c0)]][_0x127cd6(0x6ad)](_0x16ff53);}async[a0_0x359adc(0x675)](_0x2e6b5b,_0x6bd5db){const _0x2e490d=a0_0x359adc;return await this[_0x2e490d(0x38f)]['waInstances'][_0x2e6b5b['instanceName']][_0x2e490d(0x66e)](_0x6bd5db);}async[a0_0x359adc(0x498)](_0xbcb8c,_0x4f54bb){const _0x33fa70=a0_0x359adc;return await this[_0x33fa70(0x38f)]['waInstances'][_0xbcb8c[_0x33fa70(0x6c0)]][_0x33fa70(0x498)](_0x4f54bb);}async[a0_0x359adc(0x41a)](_0x1393bb,_0x46c034){const _0x4699c5=a0_0x359adc;return await this[_0x4699c5(0x38f)][_0x4699c5(0x556)][_0x1393bb[_0x4699c5(0x6c0)]]['leaveGroup'](_0x46c034);}},Jt=class{constructor(_0x11be29,_0x3f81cb){const _0x16882a=a0_0x359adc;this['waMonit']=_0x11be29,this[_0x16882a(0x2a1)]=_0x3f81cb;}async[a0_0x359adc(0x747)](_0x2c2e26,_0x18b37d){const _0x19a7ed=a0_0x359adc;try{let _0x2152d2=_0x2c2e26[_0x19a7ed(0x38b)];if(this[_0x19a7ed(0x1cd)][_0x19a7ed(0x556)][_0x2152d2['instanceName']][_0x19a7ed(0x1ad)][_0x19a7ed(0x46d)]==='open')throw new g(_0x19a7ed(0x1b8));let _0x109574=this[_0x19a7ed(0x2a1)][_0x19a7ed(0x43e)](_0x19a7ed(0x29c))[_0x19a7ed(0x5c7)];return _0x18b37d[_0x19a7ed(0x595)](0xc8)['render'](_0x19a7ed(0x747),{'type':_0x109574,..._0x2152d2});}catch(_0x191fe7){console['log'](_0x19a7ed(0x370),_0x191fe7);}}},Vt=class{constructor(_0x54e0d1){const _0x50b902=a0_0x359adc;this[_0x50b902(0x38f)]=_0x54e0d1;}['create'](_0x12f5e2,_0xd46b7a){const _0x3443a3=a0_0x359adc;return this[_0x3443a3(0x38f)]['waInstances'][_0x12f5e2[_0x3443a3(0x6c0)]][_0x3443a3(0x399)](_0xd46b7a);}async[a0_0x359adc(0x673)](_0x36cafa){const _0xa341be=a0_0x359adc;try{return await this[_0xa341be(0x38f)]['waInstances'][_0x36cafa[_0xa341be(0x6c0)]][_0xa341be(0x2a3)]();}catch{return{'enabled':null,'url':''};}}},ld=new C(a0_0x359adc(0x61a)),jt=class{constructor(_0x283b46){const _0x112de6=a0_0x359adc;this[_0x112de6(0x38f)]=_0x283b46;}async[a0_0x359adc(0x402)](_0x132079,_0x263e60){const _0x588d98=a0_0x359adc;return await this[_0x588d98(0x38f)][_0x588d98(0x556)][_0x132079[_0x588d98(0x6c0)]]['editScheduleMessage'](_0x263e60);}async['getScheduleMessage'](_0x2e78aa){const _0x5d8ccc=a0_0x359adc;return await this[_0x5d8ccc(0x38f)][_0x5d8ccc(0x556)][_0x2e78aa['instanceName']]['getScheduleMessage']();}async[a0_0x359adc(0x299)](_0x522357){const _0x4e98c1=a0_0x359adc;return await this[_0x4e98c1(0x38f)][_0x4e98c1(0x556)][_0x522357[_0x4e98c1(0x6c0)]][_0x4e98c1(0x299)]();}async[a0_0x359adc(0x408)](_0x3c2e6e){const _0x57a7b1=a0_0x359adc;return await this[_0x57a7b1(0x38f)][_0x57a7b1(0x556)][_0x3c2e6e[_0x57a7b1(0x6c0)]][_0x57a7b1(0x408)]();}async[a0_0x359adc(0x701)](_0x5b3fd8,_0x2d1622){const _0x7420fb=a0_0x359adc;return await this[_0x7420fb(0x38f)][_0x7420fb(0x556)][_0x5b3fd8[_0x7420fb(0x6c0)]]['updateAgent'](_0x2d1622);}async['updateCustomFields'](_0x3ce699,_0x3ba663){const _0x17bc94=a0_0x359adc;return await this[_0x17bc94(0x38f)]['waInstances'][_0x3ce699['instanceName']][_0x17bc94(0x704)](_0x3ba663);}async['updateFlowConfig'](_0x5ba7a2,_0x467f72){const _0x6c399b=a0_0x359adc;return await this[_0x6c399b(0x38f)][_0x6c399b(0x556)][_0x5ba7a2[_0x6c399b(0x6c0)]][_0x6c399b(0x474)](_0x467f72);}async['startFlow'](_0x2bf015,_0x4870b5){const _0x4012da=a0_0x359adc;return await this[_0x4012da(0x38f)][_0x4012da(0x556)][_0x2bf015['instanceName']][_0x4012da(0x5a0)](_0x4870b5);}async[a0_0x359adc(0x709)](_0x12a4a5,_0x4c99cd){const _0x2db03b=a0_0x359adc;return await this[_0x2db03b(0x38f)][_0x2db03b(0x556)][_0x12a4a5[_0x2db03b(0x6c0)]][_0x2db03b(0x709)](_0x4c99cd);}async[a0_0x359adc(0x398)](_0x190324,_0x4e4400){const _0x5c1e91=a0_0x359adc;return await this['waMonitor'][_0x5c1e91(0x556)][_0x190324[_0x5c1e91(0x6c0)]]['fetchConversation'](_0x4e4400);}async[a0_0x359adc(0x388)](_0x4ddf45,_0x554ec2){const _0x534322=a0_0x359adc;return await this[_0x534322(0x38f)]['waInstances'][_0x4ddf45[_0x534322(0x6c0)]][_0x534322(0x388)](_0x554ec2);}async[a0_0x359adc(0x733)](_0x2cfc32,_0x1cd871){const _0x20d3e0=a0_0x359adc;return await this[_0x20d3e0(0x38f)][_0x20d3e0(0x556)][_0x2cfc32[_0x20d3e0(0x6c0)]]['deleteConversation'](_0x1cd871);}async[a0_0x359adc(0x1d2)](_0xe62aa3,_0x43fe02){const _0xa7e700=a0_0x359adc;return await this[_0xa7e700(0x38f)]['waInstances'][_0xe62aa3['instanceName']]['getFlow'](_0x43fe02[_0xa7e700(0x613)]);}async[a0_0x359adc(0x23c)](_0x36cb6a,_0x554d11){const _0x59080e=a0_0x359adc;return await this[_0x59080e(0x38f)]['waInstances'][_0x36cb6a[_0x59080e(0x6c0)]]['createFlow'](_0x554d11);}async[a0_0x359adc(0x642)](_0x1827f9,_0x158498){const _0x97b41e=a0_0x359adc;return await this[_0x97b41e(0x38f)][_0x97b41e(0x556)][_0x1827f9[_0x97b41e(0x6c0)]][_0x97b41e(0x642)](_0x158498);}async[a0_0x359adc(0x6a0)](_0xcf1cb7,_0x1cc5d4){const _0xd5dba5=a0_0x359adc;return await this[_0xd5dba5(0x38f)][_0xd5dba5(0x556)][_0xcf1cb7['instanceName']][_0xd5dba5(0x6a0)](_0x1cc5d4);}async['editFlowReply'](_0x573085,_0x35e07c){const _0x293ad4=a0_0x359adc;return await this[_0x293ad4(0x38f)][_0x293ad4(0x556)][_0x573085[_0x293ad4(0x6c0)]][_0x293ad4(0x35a)](_0x35e07c);}async[a0_0x359adc(0x6f5)](_0x4ccfbc,_0x3246c7){const _0x3fb9bc=a0_0x359adc;return await this[_0x3fb9bc(0x38f)][_0x3fb9bc(0x556)][_0x4ccfbc['instanceName']][_0x3fb9bc(0x6f5)](_0x3246c7);}async[a0_0x359adc(0x4e9)](_0x1a4ac3,_0x14c5ab){const _0x272fca=a0_0x359adc;return await this[_0x272fca(0x38f)][_0x272fca(0x556)][_0x1a4ac3[_0x272fca(0x6c0)]][_0x272fca(0x4e9)](_0x14c5ab);}async['editFlowVaredit'](_0x1191e0,_0x1306c8){const _0x689674=a0_0x359adc;return await this[_0x689674(0x38f)][_0x689674(0x556)][_0x1191e0['instanceName']][_0x689674(0x1ee)](_0x1306c8);}async['editFlowVariable'](_0x303857,_0x711a6c){const _0x5b0759=a0_0x359adc;return await this[_0x5b0759(0x38f)][_0x5b0759(0x556)][_0x303857[_0x5b0759(0x6c0)]]['editFlowVariable'](_0x711a6c);}async[a0_0x359adc(0x64b)](_0x1aef0f,_0x5ba1bf){const _0x53780b=a0_0x359adc;return await this[_0x53780b(0x38f)][_0x53780b(0x556)][_0x1aef0f[_0x53780b(0x6c0)]][_0x53780b(0x64b)](_0x5ba1bf['name']);}async['allFlows'](_0x2197d1){const _0xe0042b=a0_0x359adc;return await this['waMonitor'][_0xe0042b(0x556)][_0x2197d1[_0xe0042b(0x6c0)]][_0xe0042b(0x26b)]();}},Ft=class{constructor(_0x40ba7f){const _0xf399bb=a0_0x359adc;this[_0xf399bb(0x4d8)]=_0x40ba7f;}async[a0_0x359adc(0x277)](_0x195523,_0x1d39f4){const _0x33029f=a0_0x359adc;return this['webhookService'][_0x33029f(0x677)](_0x195523,_0x1d39f4);}async[a0_0x359adc(0x2a3)](_0x1ee18b){const _0x5e07d8=a0_0x359adc;return this['webhookService'][_0x5e07d8(0x673)](_0x1ee18b);}},qt=class{constructor(_0x27500a,_0x3aa21d,_0x57ab75,_0x636369,_0x1f08f1,_0x3f9b83){const _0x377884=a0_0x359adc;this['message']=_0x27500a,this[_0x377884(0x39d)]=_0x3aa21d,this['contact']=_0x57ab75,this[_0x377884(0x36d)]=_0x636369,this[_0x377884(0x3bf)]=_0x1f08f1,this[_0x377884(0x4ee)]=_0x3f9b83;}get['dbServer'](){const _0x29c663=a0_0x359adc;return this[_0x29c663(0x4ee)];}},ys=require(a0_0x359adc(0x55d)),ri=require('fs'),Gt=class extends H{constructor(_0x9711c2,_0x4c3ba5){const _0x1b5a4d=a0_0x359adc;super(_0x4c3ba5),this[_0x1b5a4d(0x26d)]=_0x9711c2,this['configService']=_0x4c3ba5;}async[a0_0x359adc(0x677)](_0xdb43c8,_0x14aa32){const _0x52ece9=a0_0x359adc;try{return this[_0x52ece9(0x70b)][_0x52ece9(0x748)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x14aa32},{..._0xdb43c8},{'upsert':!0x0}))[_0x52ece9(0x387)]}:(this[_0x52ece9(0x4c2)]({'path':(0x0,ys['join'])(this[_0x52ece9(0x626)],_0x52ece9(0x36d)),'fileName':_0x14aa32,'data':_0xdb43c8}),{'insertCount':0x1});}catch(_0x3bea2d){return _0x3bea2d;}}async[a0_0x359adc(0x673)](_0x5227eb){const _0x2f51e7=a0_0x359adc;try{return this[_0x2f51e7(0x70b)]['ENABLED']?await this[_0x2f51e7(0x26d)]['findOne']({'_id':_0x5227eb}):JSON['parse']((0x0,ri[_0x2f51e7(0x587)])((0x0,ys[_0x2f51e7(0x641)])(this[_0x2f51e7(0x626)],_0x2f51e7(0x36d),_0x5227eb+_0x2f51e7(0x312)),{'encoding':_0x2f51e7(0x5ff)}));}catch{return{};}}},bs=require(a0_0x359adc(0x55d)),ni=require('fs'),Bt=class extends H{constructor(_0x52b40f,_0x2de88f){const _0x595632=a0_0x359adc;super(_0x2de88f),this[_0x595632(0x230)]=_0x52b40f,this[_0x595632(0x2a1)]=_0x2de88f,this[_0x595632(0x3bf)]=_0x2de88f[_0x595632(0x43e)](_0x595632(0x29c));}async[a0_0x359adc(0x677)](_0x82bf16,_0x39dcf0){const _0x411ea8=a0_0x359adc;try{return this[_0x411ea8(0x70b)][_0x411ea8(0x748)]?{'insertCount':(await this[_0x411ea8(0x230)][_0x411ea8(0x5f0)]({'_id':_0x39dcf0},{..._0x82bf16},{'upsert':!0x0}))[_0x411ea8(0x387)]}:(this[_0x411ea8(0x4c2)]({'path':(0x0,bs[_0x411ea8(0x641)])(Ht,this[_0x411ea8(0x3bf)][_0x411ea8(0x5c7)]),'fileName':_0x39dcf0,'data':_0x82bf16}),{'insertCount':0x1});}catch(_0x364ee8){return{'error':_0x364ee8};}}async[a0_0x359adc(0x673)](_0x46b786){const _0x215af9=a0_0x359adc;try{return this[_0x215af9(0x70b)][_0x215af9(0x748)]?await this[_0x215af9(0x230)][_0x215af9(0x50e)]({'_id':_0x46b786}):JSON['parse']((0x0,ni[_0x215af9(0x587)])((0x0,bs['join'])(Ht,this[_0x215af9(0x3bf)]['TYPE'],_0x46b786+_0x215af9(0x312)),{'encoding':_0x215af9(0x5ff)}));}catch{return{};}}},Qi=new C('WA\x20MODULE'),Yi=new $e(E),Xi=new xt(E),Zi=new He(E),eo=new Gt(Bs,E),to=new Bt(Fs,E),le=new qt(Yi,Xi,Zi,eo,to,R?.[a0_0x359adc(0x350)]()),F=new Pt(Yt,E,le),so=new rt(E,F,le),ao=new Vt(F),ps=new Ft(ao),T=new jt(F),re=new kt(F,E,le,Yt,so),Wa=new Jt(F,E),W=new Lt(F),D=new $t(F),V=new Ut(F);Qi['info']('Module\x20-\x20ON');var ip=require('express-async-errors'),Ss=require('fs'),ci=M(require(a0_0x359adc(0x5b4))),li=M(require(a0_0x359adc(0x497))),Te=class c{static #e;static set['app'](_0x334bf1){this.#e=_0x334bf1;}static get['https'](){const _0x4dd4bc=a0_0x359adc;let {FULLCHAIN:_0x1b08c0,PRIVKEY:_0x4806e6}=E[_0x4dd4bc(0x43e)](_0x4dd4bc(0x6c2));return ci[_0x4dd4bc(0x5fb)]({'cert':(0x0,Ss[_0x4dd4bc(0x587)])(_0x1b08c0),'key':(0x0,Ss['readFileSync'])(_0x4806e6)},c.#e);}static get[a0_0x359adc(0x497)](){return li['createServer'](c.#e);}},ge=M(require('fs')),hi=M(require('ini')),Re=M(require(a0_0x359adc(0x585))),Ie=M(require(a0_0x359adc(0x55d))),Oe=require(a0_0x359adc(0x4dd));function io(){const _0xbcc370=a0_0x359adc;F[_0xbcc370(0x2d7)]();let _0x1aa1a5=Ie[_0xbcc370(0x4d6)]['join'](__dirname,_0xbcc370(0x3b0));mi(_0x1aa1a5);}var mi=_0x2f2afb=>{const _0x3e4e2b=a0_0x359adc;let _0x809b28=ge['default']['readdirSync'](_0x2f2afb),_0x4dc460=0xc*0x3c*0x3c*0x3e8,_0x4dd44a=0x2*0x3c*0x3c*0x3e8,_0x266d4c=new Date()[_0x3e4e2b(0x56f)]();_0x809b28['forEach'](_0x14dc1b=>{const _0x2793ef=_0x3e4e2b;let _0x8cf13e=Ie['default'][_0x2793ef(0x641)](_0x2f2afb,_0x14dc1b),_0x178167=ge[_0x2793ef(0x4d6)]['statSync'](_0x8cf13e)[_0x2793ef(0x223)][_0x2793ef(0x56f)]();_0x266d4c-_0x178167>_0x4dc460&&(ge[_0x2793ef(0x4d6)][_0x2793ef(0x534)](_0x8cf13e),console[_0x2793ef(0x219)](_0x2793ef(0x3e0)+_0x14dc1b));}),setTimeout(()=>mi(_0x2f2afb),_0x4dd44a);};function oo(){const _0x1d1fab=a0_0x359adc;let _0x155a8c=new C(_0x1d1fab(0x603)),_0x398f25=(0x0,me[_0x1d1fab(0x4d6)])();_0x398f25[_0x1d1fab(0x338)]((0x0,gi[_0x1d1fab(0x4d6)])({'origin'(_0x278779,_0x5f021b){const _0x265da2=_0x1d1fab;let {ORIGIN:_0x28700d}=E[_0x265da2(0x43e)](_0x265da2(0x384));return _0x278779||(_0x278779='*'),_0x28700d[_0x265da2(0x5a3)]('*')!==-0x1||_0x28700d[_0x265da2(0x5a3)](_0x278779)!==-0x1?_0x5f021b(null,!0x0):_0x5f021b(new Error(_0x265da2(0x232)));},'methods':[...E[_0x1d1fab(0x43e)](_0x1d1fab(0x384))[_0x1d1fab(0x2ca)]],'credentials':E['get'](_0x1d1fab(0x384))[_0x1d1fab(0x404)]}),(0x0,me[_0x1d1fab(0x735)])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0x1d1fab(0x22d)])({'limit':_0x1d1fab(0x4e2)})),_0x398f25['use']((_0x2bcd39,_0x5c123c,_0x144cd5)=>{const _0x3d726c=_0x1d1fab;_0x2bcd39[_0x3d726c(0x55d)][_0x3d726c(0x6bb)]('/events')?_0x144cd5():(0x0,pi['default'])()(_0x2bcd39,_0x5c123c,_0x144cd5);}),_0x398f25['set'](_0x1d1fab(0x187),_0x1d1fab(0x2e2)),_0x398f25[_0x1d1fab(0x59a)](_0x1d1fab(0x4ef),(0x0,vs[_0x1d1fab(0x641)])(Y,_0x1d1fab(0x4ef))),_0x398f25[_0x1d1fab(0x338)](me[_0x1d1fab(0x4d6)][_0x1d1fab(0x5d1)]((0x0,vs['join'])(Y,'public'))),_0x398f25[_0x1d1fab(0x338)]((_0x107c1c,_0x314736,_0x44dd6b)=>{const _0x2dc15c=_0x1d1fab;let _0x7b7c2c=_0x314736[_0x2dc15c(0x39a)];_0x314736[_0x2dc15c(0x39a)]=function(_0x4b6cf0){const _0x407406=_0x2dc15c;if(_0x107c1c['query'][_0x407406(0x233)]===_0x407406(0x54c)||_0x107c1c[_0x407406(0x1fc)][_0x407406(0x668)]===_0x407406(0x54c)){let _0x101256=JSON['parse'](_0x4b6cf0);_0x4b6cf0=JSON[_0x407406(0x493)](_0x5ec114(_0x101256));}return _0x7b7c2c[_0x407406(0x47b)](_0x314736,[_0x4b6cf0]);},_0x44dd6b();}),_0x398f25[_0x1d1fab(0x338)]('/',Ct),_0x398f25[_0x1d1fab(0x338)]((_0x79ff1b,_0x482d11,_0x5988a2,_0x5f16e6)=>{const _0x500f61=_0x1d1fab;if(_0x79ff1b)return _0x5988a2['status'](_0x79ff1b[_0x500f61(0x595)]||0x1f4)[_0x500f61(0x22d)](_0x79ff1b);},(_0x280830,_0x4a347f,_0x197eaf)=>{const _0x107dd0=_0x1d1fab;let {method:_0x1c0f9e,url:_0x17e397}=_0x280830;_0x4a347f[_0x107dd0(0x595)](0x194)['json']({'status':0x194,'message':_0x107dd0(0x1e2)+_0x1c0f9e[_0x107dd0(0x1f5)]()+'\x20'+_0x17e397,'error':'Not\x20Found'}),_0x197eaf();});let _0x5ec114=(_0x504666,_0x2664a8=_0x1d1fab(0x6c7))=>{const _0x579aa3=_0x1d1fab;let _0x14306f=(_0x179475,_0x492efc=null,_0x5df5ba=!0x1)=>{const _0x4be107=a0_0x2b70;let _0x4b8995={};return Object[_0x4be107(0x24b)](_0x179475)[_0x4be107(0x4a9)](_0x5e2958=>{const _0x2d69d6=_0x4be107;let _0x493765=_0x179475[_0x5e2958],_0x42b7c8=''+_0x2664a8+_0x5e2958;_0x492efc&&!_0x5df5ba&&(_0x42b7c8=_0x492efc+'.'+_0x5e2958),!_0x493765&&_0x493765!==0x0&&_0x493765!==!0x1||typeof _0x493765>'u'?_0x4b8995[_0x42b7c8]=null:typeof _0x493765!=_0x2d69d6(0x43d)&&!Array[_0x2d69d6(0x440)](_0x493765)?_0x4b8995[_0x42b7c8]=_0x493765:typeof _0x493765=='object'&&!Array[_0x2d69d6(0x440)](_0x493765)?_0x4b8995=Object['assign'](_0x4b8995,_0x14306f(_0x493765,_0x42b7c8)):Array['isArray'](_0x493765)&&(typeof _0x493765[0x0]==_0x2d69d6(0x43d)?(_0x4b8995[_0x42b7c8]=[],_0x493765[_0x2d69d6(0x4a9)](_0x5191bf=>{_0x4b8995[_0x42b7c8]['push'](_0x14306f(_0x5191bf,_0x42b7c8,!0x0));})):_0x4b8995[_0x42b7c8]=_0x493765);}),_0x4b8995;};return Array[_0x579aa3(0x440)](_0x504666)?_0x504666[_0x579aa3(0x4a3)](_0x5d6b8e=>_0x14306f(_0x5d6b8e)):typeof _0x504666==_0x579aa3(0x43d)&&_0x504666!==null?_0x14306f(_0x504666):{};},_0x53a613=E[_0x1d1fab(0x43e)](_0x1d1fab(0x603));Te[_0x1d1fab(0x614)]=_0x398f25;let _0x5a4186=Te[_0x53a613[_0x1d1fab(0x5c7)]],_0x23f582=_0x1d1fab(0x69f);_0x5a4186[_0x1d1fab(0x6e3)](_0x53a613[_0x1d1fab(0x74d)],()=>{const _0x3f1441=_0x1d1fab;_0x155a8c[_0x3f1441(0x219)](_0x23f582),_0x155a8c[_0x3f1441(0x219)](_0x53a613[_0x3f1441(0x5c7)][_0x3f1441(0x1f5)]()+'\x20-\x20ON:\x20'+_0x53a613[_0x3f1441(0x74d)]);}),io(),xs();}var ro=a0_0x359adc(0x3f1),no=Ie[a0_0x359adc(0x4d6)]['join'](__dirname,a0_0x359adc(0x1b9)),Ae=null;function co(){return new Promise((_0xe295ad,_0x1aba9b)=>{const _0x1778b5=a0_0x2b70;ge[_0x1778b5(0x4d6)][_0x1778b5(0x4ca)](no,_0x1778b5(0x5ff),(_0x8db2c2,_0x31c72e)=>{const _0x57edc5=_0x1778b5;if(_0x8db2c2){Ae=_0x8db2c2,_0xe295ad();return;}hi[_0x57edc5(0x4d6)][_0x57edc5(0x215)](_0x31c72e)[_0x57edc5(0x72a)][_0x57edc5(0x65b)]===ro?(Ae=null,_0xe295ad()):(Ae=new Error(_0x57edc5(0x5b8)),_0xe295ad());});});}async function lo(){const _0xd8309f=a0_0x359adc;try{await co(),await Ns();}catch(_0x1c3c39){console[_0xd8309f(0x252)](_0xd8309f(0x695)+_0x1c3c39),process[_0xd8309f(0x2ab)](0x1);}}lo();async function fi(){const _0x5a7171=a0_0x359adc;let _0x6eec04;try{_0x6eec04=(await Re[_0x5a7171(0x4d6)][_0x5a7171(0x43e)](_0x5a7171(0x4f9)))[_0x5a7171(0x228)]['ip'];}catch(_0x5ca0c0){console[_0x5a7171(0x252)](_0x5ca0c0);try{_0x6eec04=(await Re[_0x5a7171(0x4d6)][_0x5a7171(0x43e)]('https://api.ipify.org?format=json'))[_0x5a7171(0x228)]['ip'];}catch(_0x457e07){console[_0x5a7171(0x252)](_0x457e07);try{_0x6eec04=(await Re['default'][_0x5a7171(0x43e)](_0x5a7171(0x2ea)))[_0x5a7171(0x228)][_0x5a7171(0x247)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2e705f){return console[_0x5a7171(0x252)](_0x2e705f),!0x1;}}}return _0x6eec04;}var ui=0x0;async function uo(){const _0x27f156=a0_0x359adc;let _0x12d494=await new ne(E['get'](_0x27f156(0x18c)))['instanceKeys']();return console['log']('instancias:\x20',_0x12d494[_0x27f156(0x582)]),_0x12d494['length'];}async function po(){const _0x57fe28=a0_0x359adc;let _0xa40582=E['get'](_0x57fe28(0x18c)),_0x11cb3a=E[_0x57fe28(0x43e)](_0x57fe28(0x29c))[_0x57fe28(0x645)][_0x57fe28(0x382)],_0x3e9839=E['get'](_0x57fe28(0x6c2)),_0x2e0f7e=await fi(),_0x50f9e3=E[_0x57fe28(0x43e)](_0x57fe28(0x603))[_0x57fe28(0x74d)];try{let _0xa6339b={'ip':_0x2e0f7e||null,'redis_enable':_0xa40582?.[_0x57fe28(0x748)]||null,'apikey':_0x11cb3a||null,'ssl':_0x3e9839?.[_0x57fe28(0x1d4)]||null,'lastupdate':wi||null,'port':_0x50f9e3||null,'gitInstallError':Ae?.[_0x57fe28(0x671)]||null};if(console[_0x57fe28(0x219)](_0x57fe28(0x6c4),_0xa6339b['ip']),_0xa40582&&_0xa40582[_0x57fe28(0x748)]){let _0x2608f0=await uo();_0xa6339b[_0x57fe28(0x715)]=_0x2608f0||null;}for(let _0x1aa7f9 in _0xa6339b)_0xa6339b[_0x57fe28(0x499)](_0x1aa7f9)&&_0x1aa7f9!=='ip'&&(_0xa6339b[_0x1aa7f9]=JSON[_0x57fe28(0x493)](_0xa6339b[_0x1aa7f9]));return(await Re[_0x57fe28(0x4d6)][_0x57fe28(0x4a5)](_0x57fe28(0x754),_0xa6339b))[_0x57fe28(0x228)];}catch(_0x30ac6d){return console[_0x57fe28(0x252)](_0x30ac6d),!0x1;}}function a0_0x1f68(){const _0x28bdbd=['list','detail','lastMessage','oldToken','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','prefixCommand','filter','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','AutomateFunctions','closeExistingConversations','groupMetadata','ReplyOption\x20com\x20ID\x20','mkdirSync','reconnectAttempts','-instances','):\x20Procurando\x20mensagens\x20para\x20envio','\x20minutos...','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','editFlowBlock','Error\x20removing\x20profile\x20picture','chatModify','encoding','Data\x20inválida\x20fornecida','findById','buttonText','imagechat','promote','sendStatus','WARN','messageId','https://uazapi-plugin.bubbleapps.io/','findParticipants','DELIVERY_ACK','EXPIRIN_IN','\x1b[34m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Error\x20updating\x20profile\x20picture','request\x20received\x20in\x20getFlow',',\x20Comparador:\x20','capitalizedWords','/media/','__esModule','request\x20received\x20in\x20allFlows','arraybuffer','variablesToObject','startsWith','blockId','updateReadReceiptsPrivacy','Temp\x20audio\x20deleted','apiResponse','instanceName','fromMe','SSL_CONF','/wa-contacts','ip:\x20','endsWith','):\x20Limpando\x20AutomateSystem','_p_','ephemeralMessage','chatHandle','DB_PREFIX_NAME','app-state-sync-key','protocolMessage','\x22\x20-\x20REMOVED','Erro\x20de\x20atualização:\x20','8080','createSectionsFromValues','errno','loadEnv','presence','poll','Message\x20not\x20found','):\x20expirationTime:\x20','72VcEskh','Logger','-whatsapp-api','):\x20Criando\x20nova\x20conversa','\x20foi\x20interrompido\x20pelo\x20usuário.','/group','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','request\x20body:\x20','response','):\x20Mensagem\x20já\x20enviada\x20para\x20','Error\x20fetching\x20group','sharp','listen','DATABASE_CONNECTION_PASSWORD','\x0a{\x20instance:\x20','width','connectionUpdate','PLAYED','getflow','rows','):\x20delete\x20=\x20true','remoteJids','fetchProfile','sendPoll','closed','setting','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','locked','routerPath','put','editFlowGroup','group-participants.update','isLong','key','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','info','No\x20join\x20group\x20invite\x20code\x20or\x20url','realVariables','documentWithCaptionMessage','Forbidden','uazapiSendMenu','GROUPS_UPSERT','updateAgent','equal','EVENTS','updateCustomFields','GROUPS_UPDATE','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','getDevice','audioMessage','getConversation','padStart','dbSettings','messages.upsert','\x1b[33m\x1b[1m','remove.instance','Fluxo\x20não\x20encontrado','/wa-connection-update','privacySettings','CHATS_SET','and','throwAndLogError','instanceCount','groups.upsert','Imagem\x20não\x20encontrada','processPollUpdateMessage','goToFlow','delayMessage','CORS_ORIGIN','CHATS_UPDATE','src','Output\x20path:\x20','Error\x20change\x20group\x20setting','mongodb','editflowvaredit','profilePictureUrl','created','uazapiSendContact','convertaudio','):\x20Editando\x20bloco...','Fluxos\x20não\x20estão\x20ativados','reviver','unreadCount','remote\x20\x22origin\x22','entries','readdirSync','context','owner','Mensagem\x20não\x20suportada','events','flattenObject','request\x20received\x20in\x20editFlowcondition','deleteConversation','repeat','urlencoded','WEBHOOK_EVENTS_MESSAGES_SET','processConditionsTest','emit','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Hash\x20to\x20image\x20name:\x20','SendScheduleMessage','DisconnectReason','Error\x20updating\x20setting','upperCase','Image\x20path:\x20','arrayUnique','groupLeave','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','announce','):\x20Enviando\x20enquete','\x20minutos','PASSWORD','qrcode','ENABLED','lowerCase','number','process','whatsappNumber','PORT','archiveChat','inviteCode','badSession','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','minutesToClose','WEBHOOK','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','sendReaction','oldValue','WEBHOOK_EVENTS_CHATS_UPSERT','groupUpdateSubject','utf8','activatedCount','height','apikey','messagesSend','ignoreGroups','Type\x20is\x20required','File\x20written\x20to\x20path:\x20','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','MessageModel','toBRL','1wExQaB','Unable\x20to\x20leave\x20the\x20group','delay','Erro\x20inesperado\x20em\x20processvaredits:\x20','SECRET','varedits','menuMessage','TEL','eventHandler','isJidGroup','inner','updateGroupPicture','charAt','reorderReplyOptions','Bloco\x20com\x20ID\x20','redirect','buttons','updateBlock','dataValidate','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','groupValidate','view\x20engine','replaceVariables','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','variable','processUazapi','REDIS','write','Erro\x20ao\x20encerrar\x20a\x20API','STATUS_INSTANCE','presenceSubscribe',',\x20qrcodeCount:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','allContacts','Certbot\x20executado\x20com\x20sucesso.','updateChatWithMessage','\x1b[32m','caption','atendimentoAberto','jsonschema','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Variável\x20não\x20encontrada!','tokenId','getPrototypeOf','updateStopChat','nomecompleto','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Temp\x20audio\x20path:\x20','font','mediaKey','Audio\x20processed','QRCODE_UPDATED','call','archived','convertedOptions','\x20contacts','Error\x20while\x20deleting\x20message\x20for\x20everyone','delInstanceFiles','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','connectionStatus','FULLCHAIN','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','Desconectado,\x20parando\x20execução.','.ogg','warn','unhandledRejection','contact','Erro\x20de\x20reinicialização:\x20','URL','getBase64FromMediaMessage','The\x20instance\x20is\x20already\x20connected','./.git/config','):\x20lastBlockId:\x20','\x1b[36m','presence.update','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','No\x20participants','cleaningUp','contentText','waitingMenu_ExpiredMessage','\x5c$&','Erro\x20ao\x20editar\x20o\x20bloco:\x20','segundos','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','lastCondition','createJid','redisEnv','subdomain','Font\x20is\x20required','waitingMenu_id','cleanStore','waMonit','from','condition','cwd','env.yml','getFlow','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','PRIVKEY','mongoose','round','findAndReplaceRegex','contactHandle','chrome','status.instance','newName','applyvaredit','sendWhatsAppAudio','maxActives','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Atualização:\x20','AUTHENTICATION_API_KEY','Cannot\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','string','moreLogs','updateOnlinePrivacy','env','):\x20debug\x20alterando\x20this.AutomateSystem','expression','remoteJidsRemaining','messageContextInfo','\x22\x20not\x20found','editFlowVaredit','?authSource=admin&readPreference=primary&directConnection=true','\x20não\x20encontrado\x20para\x20atualização.','WEBHOOK_EVENTS_CONTACTS_SET','defineProperty','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','action','toUpperCase','authorization','quotedMessage','SINGLE_SELECT','format','\x20is\x20already\x20in\x20use.','10451800Uoqoao','headers','instances','count','padEnd','eventemitter2','sendPresenceUpdate','262776XQPtTO','Parando\x20aplicação...','setRestartTimer','longitude','Fetching\x20business\x20profile','prepareMediaMessage','updateLastSeenPrivacy','vote',',\x20valor\x20passado:\x20\x22','collection','\x20inseridos\x20no\x20banco\x20de\x20dados...','logout','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','firstValue','qrcode-terminal','msgRetryCounterCache','qrcode.updated','updateOne','/webhook','parse','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','log','LIMIT','authentication','/wa-chats','SEND_MESSAGE','Error\x20writing\x20file:\x20','.uazapi.dev',',\x20valor\x20a\x20encontrar:\x20\x22','createGroup','videoMessage','birthtime','Types','including\x20timestamp\x20in\x20url:\x20','group','getContactModelForOwner','data','WEBHOOK_EVENTS_MESSAGES_UPDATE','groupJid','restart','success','json','pop','collections','authModel','Selecione','Not\x20allowed\x20by\x20CORS','convert','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','mediatype','SERVER_TYPE','\x20minutos.\x20Será\x20às\x20','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','):\x20Campos\x20a\x20serem\x20atualizados:','hGetAll','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','createFlow','variables','\x20mensagens\x20de\x20','isJWT','CONECTADO\x20À\x20UAZAPI','start','editFlowVariable','pollCreationMessageV3','video','request\x20received\x20in\x20starFlow','updateProfileName','match','audio','audio/mp4','CONTACTS_SET','keys','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','apirequest','optionName','Getting\x20image\x20from\x20url','sticker','):\x20alterando\x20this.AutomateSystem','error','bateu\x20events','contactMessage','Esse\x20fluxo\x20expirou','request\x20received\x20in\x20deleteConversation','parseInt','contactsArrayMessage','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','toString','\x20-i\x20','participant','rowId','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','values','newValue','\x20saindo\x20da\x20função','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','processvaredits','messages','blockLogs','last_update','\x20quoted:\x20','AUTHENTICATION_TYPE','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','user','allFlows','groups_ignore','webhookModel','saveChatVariables','.mp3','optionDescription','updateMany','CLIENT','Image\x20created','sendLocation','bearer','.TEL;waid=','createWebhook','rm\x20-rf\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Connection','#ffffff','decryptPollVote','body','writeFile','The\x20instance\x20needs\x20to\x20be\x20disconnected','menuExpiredMessage','profilePicture','getOwnPropertyDescriptor','enabled','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Deletion\x20failed','leadInfo','replaceVariablesInReplyOptions','Group\x20not\x20found','updatePresence','Last\x20message\x20not\x20found','some','Method\x20not\x20implemented.','contextInfo','DATABASE_CONNECTION_HOST','processblock','WEBHOOK_EVENTS_GROUPS_UPDATE','):\x20leadInfoVariables','groupHandler','Hash\x20to\x20audio\x20name:\x20','MAX_RECONNECT_ATTEMPTS','sendText','chats.delete','processgoToFlow','request\x20received\x20in\x20updateFlowConfig','deleteDoneMessages','Comando\x20desconhecido','/events/:instance','AUTHENTICATION','Converting\x20image\x20to\x20WebP\x20to\x20sticker','TRIAL_AD','stickerMessage','useMultiFileAuthState','configService','pollCreationMessageV2','findWebhook','NEW_JWT_TOKEN','menuType','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','mediaMessage','isDirectory','initAuthCreds','COLOR','exit','DEL_INSTANCE','.mp4','namespace','has','substring','81odyHBb','viewOnceMessageV2','messageHandle','findMessages','replaceValue','MESSAGES_SET','WEBHOOK_EVENTS_NEW_JWT_TOKEN','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','editedMessage','preview','):\x20Enviando\x20localização','createConversationforStartFlow','^\x5cd+[\x5c.@\x5cw-]+','\x20inseridas\x20no\x20banco\x20de\x20dados...','temp-','noConnection','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','\x1b[1m\x1b[37m','The\x20','/create','dayjs','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Error\x20updating\x20message\x20status:','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','^\x5cd+','METHODS','writeFileSync','Close\x20connection','):\x20this.processingScheduleMessageId:\x20','):\x20Current\x20Time:\x20','editflow','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','evaluateCondition','email','WEBHOOK_EVENTS_STATUS_INSTANCE','Temp\x20audio\x20created','Valor\x20inicial:\x20\x22','composing','loadInstance','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Type\x20defined\x20as\x20audio','uazapiSendMedia','chatLog','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','empty','TEXT','):\x20Buscando\x20flow...','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20Error\x20processing\x20the\x20block:\x20','hbs','mentions','statusMessage','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','editflowgroup','\x22,\x20valor\x20a\x20substituir:\x20\x22','reconnectTimestamps','binary','http://checkip.dyndns.org','fetchProfilePicture','_id','options','groupSettingUpdate','Error\x20deleting\x20instance\x20from\x20memory.','originalUrl','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Instance\x20Key\x20from\x20DB:','header','gifPlayback','\x0aitem','QRCODE_LIMIT','Not\x20is\x20business\x20profile','flow','getChatModelForOwner','shift','everyOne','OrAnd','Erro\x20ao\x20editar\x20a\x20conversa:\x20','sendButtons','lastmsg','truncatedto','slice','Not\x20Found','Instância\x20não\x20encontrada.','fetchContacts','normalizeMessage','_activatedCount','findFlow','deleteOne','notas','Instance\x20deleted','ex:\x20\x22groupJid=120362@g.us\x22','updateConversation','abs','setContext','Valor\x20de\x20find\x20ou\x20replace\x20ausente','NAME','\x1b[33m','.json','generateHash','PREFIX_KEY','Missing\x20global\x20api\x20key','*Pergunta*:\x20\x0a','contacts.upsert','ContactModel','matchRegex','/wa-message-update','mongodb://','trimmed','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','console','mentioned','tags','pt-BR','authState','findContacts','CHATS_UPSERT','BufferJSON','createflow','scheduleSendMedia','CONFIG_SESSION_PHONE_CLIENT','revokeInviteCode','blocks','audio/ogg;\x20codecs=opus','AutomateSystem','\x1b[0m','prototype','exec','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','nome','del','copyBlock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','deleteMany','DATABASE_CONNECTION_USER','use','$dbName','role','\x1b[37m','toFile','not_announcement','no.connection','createConversationforgoToFlow','remoteJid','https://chat.whatsapp.com/','getStatus','PENDING','@whiskeysockets/baileys','statusJidList','conversationTimestamp','flushHeaders','Getting\x20profile\x20with\x20jid:\x20','findGroups','all','audio/ogg','choices','flowIgnoreGroups','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','contains','getClient','refused','store','!stop','creds','limit','request\x20received\x20in\x20editConversation','StatusJidList\x20is\x20required','conditions','address','editFlowReply','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Internal\x20Server\x20Error','connect','getHours','sections','Business\x20profile\x20fetched','Erro\x20ao\x20editar\x20agentes:\x20','findOneAndUpdate','?timestamp=','resetReconnectionVariables','boolean','AppStateSyncKeyData','scheduleMessage','stopMinutes','readreceipts','\x20}\x0a','sendAudio','Nenhum\x20chat\x20encontrado\x20para\x20editar.','webhook','):\x20Fluxos\x20não\x20estão\x20ativados','updateProfileStatus','ERROR:\x20','removeProfilePicture','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','TRIAL_INSTANCE_NAME','changeVariables','removeData','Error\x20updating\x20profile\x20status','groupUpdateDescription','sha256','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','request\x20received\x20in\x20scheduleMessage','syscall','@s.whatsapp.net','node-cache','toLowerCase','replace','createNewConversation','):\x20Visualizando\x20AutomateSystem','KEY','remove','CORS','@redis/client','Sistema\x20atualizado\x20com\x20sucesso!','modifiedCount','editConversation','markMessageAsRead','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','params','type','12684254RROjED','existsSync','waMonitor','bodyString','groupadd','keep-alive','uazapiSendText','3113945yUVRgH','READ','dbInstance','timerId','fetchConversation','setWebhook','send','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','restartInstance','chat','uncaughtException','lean','DARK','pino','hostname','phoneNumber','instance','desativadoFluxoAte','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x1b[36m%s\x1b[0m','_doc','notEqual','/instance/fetchInstances','fetchProfilePictureUrl','):\x20conversation.waitingMenu_name','listMessage','ListMessage','groups','downloads','groupId','makeCacheableSignalKeyStore','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','nextBlock:','):\x20nextBlock.uazapi.name','instance.','1236574vKNsPB','Error\x20updating\x20privacy\x20settings','QRCODE','stopConversation','hDel','reference','API\x20Key\x20inválida.','auth','.refreshToken','connectionState','Flow\x20não\x20encontrado','Full\x20file\x20path:','unreadcount','saveMediaToFile','sendMedia','dbServer','finish','rmSync','toDataURL','WEBHOOK_MAP','Background\x20color\x20is\x20required','WEBHOOK_EVENTS_QRCODE_UPDATED','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','isRunning','Error\x20update\x20group\x20picture','):\x20Conversa\x20atualizada\x20em\x20memória','groupFetchAllParticipating','Erro\x20do\x20Certbot:\x20','creds.json','trim','includes','sendCommand','valid','express-async-errors','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','errors','ios','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','processApiRequest','Read\x20messages','Deleted\x20','Audio\x20is\x20url','CONTACTS_UPSERT','item','STORE','findByIdAndUpdate','\x5cd+','webhookMap','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','title','getContentType','certonly','Falta\x20informação\x20para\x20a\x20chamada\x20API','LEVEL','/wa-message','lastSend','Error\x20in\x20scheduleNextCheck:\x20','https://github.com/uazapi/uazapi.git','Certbot:\x20','debug','):\x20conversation.status:\x20','option','5369bZrFTR','Unknown\x20message\x20type\x20or\x20empty\x20message','senderKeyDistributionMessage','isConnected','):\x20Editando\x20replyOption...','next_groupId','status@broadcast','scheduled','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','stopped','):\x20Flow\x20não\x20encontrado','getMessage','editScheduleMessage','flowname:\x20','CREDENTIALS','Validate','end','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','getAutomateSystem','pollOnReplyDelete','2640UMRdLM','node-mime-types','Erro\x20ao\x20aplicar\x20varedit:\x20','LOG','\x20não\x20encontrado\x20para\x20cópia','Conexão\x20estabelecida','getDelay','isBase64','sendSticker','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','):\x20Entrou\x20na\x20função\x20stop','\x1b[1m','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','readMessageBot','loadWebhook','):\x20Alterando\x20fluxo...','leaveGroup','floor','push','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','errorLog','joinGroup','removed','command','NODE_ENV','query','textMessage','exists','document','RECONNECT_TIME_FRAME','waUploadToServer','):\x20teve\x20mudanças\x20chat.name:\x20','buttonId','toArray','uuid','Erro\x20ao\x20buscar\x20conversa:\x20','REDIS_PREFIX_KEY','Primeiro\x20Valor:\x20','/wa-groups','notEmpty','save','uazapiSendLocation','contacts.update','viewOnceMessageV2Extension','getMIMEType','MESSAGES_UPSERT','):\x20Enviando\x20mídia','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','LOG_LEVEL','\x22reaction\x22\x20must\x20be\x20an\x20emoji','uazapiSendAudio','object','get','latitude','isArray','deleteMessage','mediaSticker','sendMenu','processConditions','):\x20Limpando\x20delayMessage','messages.update','delaySecMax','request\x20received\x20in\x20getConversation','HH:mm:ss','):\x20newFirstValue\x20após\x20replaceVariables:','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','insert','processingScheduleMessageId','saveTextReply','verify','WEBHOOK_EVENTS_CONTACTS_UPDATE','stopMinutesMaxActives','editOperator','removeInstance','flowConversation','FlowRouter','validate','agents','client','redisCache','sem\x20texto\x20na\x20mensagem','folder','waitingMenu_text','convertToWebP','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Content-Type','sendMessage','paused','HeaderType','):\x20Flow\x20desativado','done','saveConversationToDatabase','INFO','fromObject','JWT','@broadcast','groups.update','notMatchRegex','selectableCount','state','):\x20Enviando\x20áudio','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','generate','):\x20Entrou\x20na\x20função\x20goToFlow','fetchInstances','updateFlowConfig','saveCreds','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','organization','send.message','stack','deletedCount','apply','@g.us','connectToWhatsapp','formatBRNumber','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','stoppedUntil','Temp\x20image\x20deleted','joinGroupValidate','cors','Processing\x20audio','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','contacts','Erro:','Não\x20respondeu\x20com\x20a\x20enquete.','lastInteraction','GLOBAL','jpegThumbnail','integer','stanzaId','URI','isURL','g-t','env.KEY\x20!==\x20key','eventEmitter','stringify','delaySecMin','allflows','groupParticipantsUpdate','http','toggleEphemeral','hasOwnProperty','Image\x20is\x20url','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','toNumber','updateMessage','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','extractRegex','Router','38360IwvHJD','VERBOSE','map','DATABASE','post','getScheduleMessage','DOCKER_ENV','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','forEach','lastSendMessage','getMessageModelForOwner','conversation','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','reorderBlocks','hex','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','NextBlock','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','stderr','viewOnceMessage','):\x20Deletando\x20fluxo...','archive','request\x20received\x20in\x20updateCustomFields','instanceName\x20not\x20provided.','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','description','addReplyOption','drop','imageMessage','text/event-stream','saveVariable','less','writeStore','):\x20customFieldVariables','image','load','The\x20global\x20api\x20key\x20must\x20be\x20set',',\x20lastCondition:\x20','varedit','pre','readFile','Output\x20audio\x20path:\x20','stdout','array','leadInfo.desativadoFluxoAte','value','ObjectId','MESSAGES_UPDATE','verbose','chats.set','refreshToken',',\x20Resultado:\x20','default','statusCode','webhookService','):\x20conversation.lastInteraction:\x20','DEBUG','deleteInstance','replacer','child_process','API\x20Key\x20from\x20Request:','flowStopConversation','ORG:','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','50mb','whatsappNumbers','contactname','SSL_CONF_FULLCHAIN','stateConnection','):\x20Criou\x20conversa\x20no\x20startFlow:','Invalid\x20\x22oldToken\x22','editFlowCondition','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','.png','instanceInfo','verifiedName','dbClient','views','Message','restrict','createConnection','):\x20Query\x20params:','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Cache-Control','video-cover.png','SERVER_PORT','uazapiDeleteMessage','https://jsonip.com','):\x20Erro\x20ao\x20buscar\x20conversas\x20','insertMany','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','messageTimestamp','#000000','locationMessage','flowStopMinutes','editChat','upsertChats','where','connection.update','contact_blacklist','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','hGet','getMinutes','isJidUser','open','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','fetchMessages','findOne','scheduleSendAudio','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Profile\x20not\x20found','findChats','isBusiness','Flow\x20iniciado\x20com\x20','\x1b[43m','mimetype','demote','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','fone','newStoppedUntil','content','pushName','endSession','delete','subject','sendMessageWithTyping','pollCreationMessageKey','delAll','toBrazilianNumberFormat','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Bloco\x20copiado:\x20','replaceVariablesLogs','splice','Bad\x20Request','_Chats','jsonwebtoken','BRL','spawn','getLastMessage','scheduleMessages','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','menuIgnoreNonVotes','DELETED',',\x20saindo.','sendContact','unlinkSync','sending','onWhatsApp','waitingMenu_replyOptions','desc','sendDataWebhook','findAndReplace','create\x20-\x20success','pollMessage','chats.upsert','../env.yml','):\x20Enviando\x20texto','findIndex','displayName','buttonMessage','express','ListType','pollCreationMessage','function','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','pollMessageOnDelete','listType','@ffmpeg-installer/ffmpeg','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','true','createInstance','updateProfilePicture',',\x20Segundo\x20Valor:\x20','addBlock','request\x20received\x20in\x20editFlowgroup','):\x20Comando\x20desconhecido:\x20','order','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','replaceVariablesInObject','waInstances','GROUP_PARTICIPANTS_UPDATE','https://','release','defineAuthState','The\x20\x22','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','path','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','sort','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','request\x20received\x20in\x20updateAgent','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','jid','setHeader','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','block','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','leadInfo.','Converted\x20image\x20deleted','/instance','getRandomText','messaging-history.set','getTime','):\x20Conversas\x20encontradas:','greater','Content\x20is\x20required','CLEANING_INTERVAL','unavailable','PROD','CHATS_DELETE','logger','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','.X-ABLabel:Celular\x0a','model','groupName','update','goNextblock','opendirSync','when','\x1b[33m%s\x1b[0m','flowName','length','evaluateConditionTest','long','axios','toLocaleString','readFileSync','ERROR','fetchChats','connecting','groupToggleEphemeral','WEBHOOK_EVENTS_GROUPS_UPSERT','Contacts\x20not\x20found','fetchBusinessProfile','STORE_CONTACTS','CONNECTION','sectionsToString','getVariablesChat','\x1b[47m','Instância:\x20','status','Media\x20folder\x20path:','responsavelid','formatVCard','online','set','lastBlockId','max','messageSecret','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','replyOption','startFlow','backgroundColor',',\x20Expiration\x20Time:\x20','indexOf','wuid','):\x20Falha\x20ao\x20deletar\x20mensagem.','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','_error','):\x20Iniciando\x20bot...','pollUpdateMessage','/instance/create','router','checkAndRestartProcess','PRESENCE_UPDATE','Error\x20updating\x20profile\x20name','qrCode','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','replaceVariablesChat','Instance\x20\x22','https','Schema','customFields','E-mail:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','proto','--agree-tos','Button\x20texts\x20cannot\x20be\x20repeated','LOG_COLOR','CONNECTION_UPDATE','\x1b[30m%s\x1b[0m','key.','formatStatusMessage','Converting\x20audio\x20to\x20mp4','Type\x20not\x20found','redis','chats.update','Revoke\x20error','CONTACTS_UPDATE','TYPE','setNewValue','Log\x20out\x20instance:\x20','^\x5cd+([-]\x5cd+)*@g.us$','groupAcceptInvite','):\x20newSecondValue\x20após\x20replaceVariables:','delInstanceTime','Error\x20fetching\x20and\x20updating\x20profile:\x20','EMAIL:','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','static','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Image\x20converted\x20to\x20WebP','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','editflowblock','SERVER_ACK','sign','groupSetting','request\x20received\x20in\x20editFlow','chats','Reinicialização\x20iniciada:\x20','class-validator','Sending\x20audio\x20whatsapp','last','replyOptions','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','fullName','expiration','media','reactionMessage','SSL_CONF_PRIVKEY','pollErrorMessage','envYaml','urlOrBase64','new.jwt','The\x20property\x20cannot\x20be\x20empty','listResponseMessage','secondValue','size','/*.json','lastReceivedMessage','replaceOne','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','\x20minutos\x20verificará\x20novas\x20mensagens','deleteReplyOption','buffer','isInteger','WEBHOOK_EVENTS_CHATS_SET','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','assign','recording','notContains','createServer','/clients-info','):\x20Deletando\x20conversa...','instanceKeys','utf-8','picture','Error\x20change\x20group\x20name','website','SERVER','STORE_MESSAGE','jwt','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','deleteAll','writeData','authService','local_map','variablesNotFound','reaction','fileName','):\x20Going\x20to\x20','Unauthorized','getProfileName','updatePrivacySettings','Converted\x20audio\x20deleted','name','app','\x20instance\x20does\x20not\x20exist','request\x20received\x20in\x20createFlow','downloadMediaMessage','generateWAMessageFromContent','WEBHOOK_EVENTS_MESSAGES_UPSERT','FlowController','\x1b[32m%s\x1b[0m','):\x20','envProcess','No\x20invite\x20code','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','findConversation','\x20\x1b[0m','StartBot','flowPrefixCommand','Authentication\x20error','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','storePath','Subscribed\x20Events:','method','readMessages','group\x20ignored','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','cpf','):\x20atualização\x20chat:\x20','output','localWebhook','\x22\x20-\x20NOT\x20CONNECTION','text','linkPreview','SERVER_OFFLINE','participants','findGroup','flowConfig','repository','android','profile','test','\x1b[41m','getBusinessProfile','Initial\x20__dirname:','available','DATABASE_CONNECTION_URI','join','editFlow','deleteMessageForEveryone','now','API_KEY','Getting\x20audio\x20from\x20url','groupDesc','Invalid\x20format','ChatModel','currency','deleteFlow','metadata','WEBHOOK_EVENTS_CHATS_UPDATE','webp','createClient','fetchPrivacySettings','\x1b[31m%s\x1b[0m','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','STORE_CLEANING_TERMINAL','Erro\x20ao\x20editar\x20o\x20chat:\x20','split','):\x20Enviando\x20contato','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','audioWhatsapp','REDIS_ENABLED','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','url','footerText','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','/exit','\x1b[46m','error\x20get\x20vote','not\x20loaded','request\x20received\x20in\x20fetchConversation','\x20não\x20encontrado','AUTHENTICATION_JWT_EXPIRIN_IN','augusto.fcs@gmail.com','code','findGroupInfo','uazapi','Instance\x20restarted','scheduleNextCheck','):\x20Conversa\x20inserida\x20com\x20sucesso.','/refreshToken','Trying\x20to\x20get\x20business\x20profile','updateGParticipant','_Contacts','/chat','message','\x0a*Você\x20respondeu*:\x0a','find','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','updateGParticipate','userDevicesCache','create','DATABASE_CONNECTION_DB_PREFIX_NAME','sleep','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','quoted','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','NO_IP','):\x20Ignoring\x20group\x20messages.','Flow\x20already\x20exists','interval\x20não\x20é\x20um\x20número','sendList','.sendDataWebhook-global','base64','Image\x20is\x20base64','loggedOut','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','vcard','close','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','bulkWrite','\x1b[40m'];a0_0x1f68=function(){return _0x28bdbd;};return a0_0x1f68();}var Es=!0x1,wi=0x216,go=0x3,di=0x1b7740;async function Ns(){const _0x566784=a0_0x359adc;if(!await fi())return console[_0x566784(0x252)](_0x566784(0x657)),_0x566784(0x67d);let _0x4cfeb6=await po();if(_0x4cfeb6){if(_0x4cfeb6[_0x566784(0x6df)]['licenca']===!0x0){E['get'](_0x566784(0x6c2))['PRIVKEY'][_0x566784(0x3d6)]('<subdomain>')&&_0x4cfeb6[_0x566784(0x6df)][_0x566784(0x1c9)]&&(await fo(_0x4cfeb6[_0x566784(0x6df)][_0x566784(0x1c9)],ho),await wo(_0x566784(0x665),_0x4cfeb6[_0x566784(0x6df)][_0x566784(0x1c9)]),console[_0x566784(0x219)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>bo(),0x2710)),Ae===null&&_0x4cfeb6[_0x566784(0x6df)][_0x566784(0x266)]-wi>0x0&&await mo(),Es||(Es=!0x0,oo());let _0x5d6d97=0x24*0x3c*0x3c,_0x14a3cb=_0x4cfeb6[_0x566784(0x6df)]['segundos']>_0x5d6d97?_0x5d6d97:_0x4cfeb6[_0x566784(0x6df)][_0x566784(0x1c4)],_0x5696d2=Number(_0x14a3cb);if(isNaN(_0x5696d2)){console[_0x566784(0x252)](_0x566784(0x680));return;}let _0x5d42a9=Math['floor'](_0x5696d2/0xe10),_0xd4327a=Math[_0x566784(0x41b)](_0x5696d2%0xe10/0x3c),_0x234afe=new Date(Date[_0x566784(0x644)]()+_0x5696d2*0x3e8);setTimeout(Ns,_0x5696d2*0x3e8);let _0x2703fd=_0xb50b49=>_0xb50b49[_0x566784(0x25a)]()[_0x566784(0x70a)](0x2,'0'),_0x2d1647=_0x566784(0x1bd)+_0x2703fd(_0x5d42a9)+'\x20horas\x20e\x20'+_0x2703fd(_0xd4327a)+_0x566784(0x237)+_0x2703fd(_0x234afe[_0x566784(0x35e)]())+':'+_0x2703fd(_0x234afe[_0x566784(0x509)]())+'.';console[_0x566784(0x219)](_0x2d1647);}else return console[_0x566784(0x219)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Es&&(console['log'](_0x566784(0x234)),process[_0x566784(0x2ab)]()),'LICENSE_INVALID';}else{if(ui++,ui<go)console['log'](_0x566784(0x554)+di/0xea60+_0x566784(0x69e)),setTimeout(Ns,di);else return console[_0x566784(0x252)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x566784(0x634);}}async function mo(){const _0x356ed4=a0_0x359adc;console[_0x356ed4(0x219)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x35972a=(0x0,Oe[_0x356ed4(0x52c)])(_0x356ed4(0x2d8),{'shell':!0x0});_0x35972a[_0x356ed4(0x4cc)]['on'](_0x356ed4(0x228),_0x15a3d4=>{const _0x1f49d2=_0x356ed4;console[_0x1f49d2(0x219)](_0x1f49d2(0x1e0)+_0x15a3d4);}),_0x35972a['stderr']['on'](_0x356ed4(0x228),_0x3365b4=>{const _0x2577ff=_0x356ed4;console[_0x2577ff(0x252)](_0x2577ff(0x6ce)+_0x3365b4);}),_0x35972a['on']('exit',_0x59c5d6=>{const _0x27fa7f=_0x356ed4;_0x59c5d6!==0x0?console[_0x27fa7f(0x252)](_0x27fa7f(0x3e8)+_0x59c5d6):console[_0x27fa7f(0x219)](_0x27fa7f(0x386)),console[_0x27fa7f(0x219)](_0x27fa7f(0x203)),setTimeout(()=>process['exit'](),0x2710);});}var ho=Ie[a0_0x359adc(0x4d6)]['join'](__dirname,a0_0x359adc(0x1d1));async function fo(_0x4b4eee,_0x47727c){const _0x4c2e03=a0_0x359adc;let _0x225ccb=yo();_0x4b4eee=_0x4b4eee[_0x4c2e03(0x37f)](_0x4c2e03(0x21f),'');try{let _0x244b2a=ge[_0x4c2e03(0x4d6)][_0x4c2e03(0x587)](_0x47727c,_0x4c2e03(0x75a));_0x244b2a=_0x244b2a['replace'](/<apikey>/,_0x225ccb),_0x244b2a=_0x244b2a[_0x4c2e03(0x37f)](/<subdomain>/g,_0x4b4eee),ge[_0x4c2e03(0x4d6)][_0x4c2e03(0x2cb)](_0x47727c,_0x244b2a,'utf8'),console[_0x4c2e03(0x219)](_0x4c2e03(0x1ac));}catch(_0x580eda){console['error'](_0x4c2e03(0x762),_0x580eda);}}function wo(_0x3808f3,_0x3dc7c5){return new Promise((_0x157d1a,_0x18f582)=>{const _0x4a6942=a0_0x2b70;let _0x3a338e=(0x0,Oe[_0x4a6942(0x52c)])('certbot',[_0x4a6942(0x3eb),'--standalone','-m',_0x3808f3,_0x4a6942(0x5ba),'-d',_0x3dc7c5]);_0x3a338e[_0x4a6942(0x4cc)]['on'](_0x4a6942(0x228),_0x1cf628=>{const _0xdcc685=_0x4a6942;console[_0xdcc685(0x219)](_0xdcc685(0x3f2)+_0x1cf628[_0xdcc685(0x25a)]());}),_0x3a338e[_0x4a6942(0x4b3)]['on']('data',_0x42fa51=>{const _0x5985a7=_0x4a6942;console[_0x5985a7(0x252)](_0x5985a7(0x3d3)+_0x42fa51[_0x5985a7(0x25a)]());}),_0x3a338e['on'](_0x4a6942(0x68a),_0x1e2a9b=>{const _0x17168d=_0x4a6942;_0x1e2a9b!==0x0?(console[_0x17168d(0x252)](_0x17168d(0x2e5)+_0x1e2a9b),_0x18f582(_0x17168d(0x2e5)+_0x1e2a9b)):(console['log'](_0x17168d(0x194)),_0x157d1a());});});}function yo(_0x32e2e3=0x32){const _0x591ad2=a0_0x359adc;let _0x3c402c=_0x591ad2(0x739),_0x5cd993='';for(let _0x3e7dc3=0x0;_0x3e7dc3<_0x32e2e3;_0x3e7dc3++)_0x5cd993+=_0x3c402c[_0x591ad2(0x17e)](Math[_0x591ad2(0x41b)](Math['random']()*_0x3c402c['length']));return _0x5cd993;}function bo(){const _0x4c8952=a0_0x359adc;(0x0,Oe[_0x4c8952(0x32f)])('shutdown\x20-r\x20now',(_0x5e69e9,_0xa108c8,_0x5c135d)=>{const _0x268940=_0x4c8952;if(_0x5e69e9){console['error'](_0x268940(0x279)+_0x5e69e9);return;}if(_0x5c135d){console['error'](_0x268940(0x1b5)+_0x5c135d);return;}console[_0x268940(0x219)](_0x268940(0x5db)+_0xa108c8);});}