const a0_0x56f010=a0_0x4a73;(function(_0x26030f,_0x1651e9){const _0x5d823e=a0_0x4a73,_0xccd1f6=_0x26030f();while(!![]){try{const _0x265a90=parseInt(_0x5d823e(0x5bf))/0x1+parseInt(_0x5d823e(0x160))/0x2+parseInt(_0x5d823e(0x6b0))/0x3+-parseInt(_0x5d823e(0x25d))/0x4+-parseInt(_0x5d823e(0x227))/0x5*(-parseInt(_0x5d823e(0x3ae))/0x6)+parseInt(_0x5d823e(0x79b))/0x7*(parseInt(_0x5d823e(0x358))/0x8)+parseInt(_0x5d823e(0x4d8))/0x9*(-parseInt(_0x5d823e(0x6a2))/0xa);if(_0x265a90===_0x1651e9)break;else _0xccd1f6['push'](_0xccd1f6['shift']());}catch(_0x429285){_0xccd1f6['push'](_0xccd1f6['shift']());}}}(a0_0x26b2,0x71d3c));var _o=Object[a0_0x56f010(0x3a5)],Ie=Object[a0_0x56f010(0x135)],Po=Object[a0_0x56f010(0x6de)],$o=Object[a0_0x56f010(0x30c)],ko=Object['getPrototypeOf'],Lo=Object[a0_0x56f010(0x68b)]['hasOwnProperty'],jo=(_0x22e62e,_0x4581d1)=>{for(var _0x3aed0c in _0x4581d1)Ie(_0x22e62e,_0x3aed0c,{'get':_0x4581d1[_0x3aed0c],'enumerable':!0x0});},xs=(_0x5791da,_0x3a7ba1,_0x38b371,_0x39f4bf)=>{const _0x5b2e4b=a0_0x56f010;if(_0x3a7ba1&&typeof _0x3a7ba1==_0x5b2e4b(0x5d0)||typeof _0x3a7ba1==_0x5b2e4b(0x175)){for(let _0x621ac9 of $o(_0x3a7ba1))!Lo[_0x5b2e4b(0x38b)](_0x5791da,_0x621ac9)&&_0x621ac9!==_0x38b371&&Ie(_0x5791da,_0x621ac9,{'get':()=>_0x3a7ba1[_0x621ac9],'enumerable':!(_0x39f4bf=Po(_0x3a7ba1,_0x621ac9))||_0x39f4bf[_0x5b2e4b(0x20b)]});}return _0x5791da;},R=(_0x2675b1,_0x2fa248,_0x2f8f3b)=>(_0x2f8f3b=_0x2675b1!=null?_o(ko(_0x2675b1)):{},xs(_0x2fa248||!_0x2675b1||!_0x2675b1[a0_0x56f010(0x5c9)]?Ie(_0x2f8f3b,'default',{'value':_0x2675b1,'enumerable':!0x0}):_0x2f8f3b,_0x2675b1)),Fo=_0x32ca60=>xs(Ie({},a0_0x56f010(0x5c9),{'value':!0x0}),_0x32ca60),zr={};jo(zr,{'subdomain':()=>vs}),module['exports']=Fo(zr);var To=R(require(a0_0x56f010(0x355))),_s=require('fs'),Ps=require('js-yaml'),$s=require(a0_0x56f010(0x248)),xe=require('path'),ae=process['cwd'](),he=(0x0,xe['join'])(ae,'instances'),Ds=(0x0,xe[a0_0x56f010(0x4c2)])(ae,a0_0x56f010(0x695)),Ui=(0x0,xe[a0_0x56f010(0x4c2)])(ae,a0_0x56f010(0x637),'auth'),Zt=class{constructor(){this['loadEnv']();}[a0_0x56f010(0x750)](_0x42992b){return this['env'][_0x42992b];}[a0_0x56f010(0x437)](){const _0x493343=a0_0x56f010;this['env']=process['env']?.['DOCKER_ENV']!==_0x493343(0x18f)?this[_0x493343(0x19a)]():this[_0x493343(0x4e7)](),process['env']?.[_0x493343(0x676)]===_0x493343(0x18f)&&(this['env'][_0x493343(0x5db)][_0x493343(0x1f9)]='http',this[_0x493343(0x40b)][_0x493343(0x5db)][_0x493343(0x24e)]=Number[_0x493343(0x196)](process[_0x493343(0x40b)]?.[_0x493343(0x50a)]??_0x493343(0x16c)));}[a0_0x56f010(0x19a)](){const _0x2a24da=a0_0x56f010;return(0x0,Ps[_0x2a24da(0x2e3)])((0x0,_s[_0x2a24da(0x425)])((0x0,$s['join'])(Ds,_0x2a24da(0x557)),{'encoding':_0x2a24da(0x50c)}));}[a0_0x56f010(0x4e7)](){const _0xaa31cd=a0_0x56f010;return{'SERVER':{'TYPE':process[_0xaa31cd(0x40b)]['SERVER_TYPE'],'PORT':Number[_0xaa31cd(0x196)](process[_0xaa31cd(0x40b)][_0xaa31cd(0x50a)]),'URL':process[_0xaa31cd(0x40b)][_0xaa31cd(0x4b3)]},'CORS':{'ORIGIN':process[_0xaa31cd(0x40b)][_0xaa31cd(0x201)][_0xaa31cd(0x4bc)](','),'METHODS':process[_0xaa31cd(0x40b)]['CORS_METHODS'][_0xaa31cd(0x4bc)](','),'CREDENTIALS':process[_0xaa31cd(0x40b)]?.['CORS_CREDENTIALS']===_0xaa31cd(0x18f)},'SSL_CONF':{'PRIVKEY':process[_0xaa31cd(0x40b)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0xaa31cd(0x40b)]?.[_0xaa31cd(0x320)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0xaa31cd(0x231)])?Number[_0xaa31cd(0x196)](process[_0xaa31cd(0x40b)][_0xaa31cd(0x231)]):void 0x0,'MESSAGES':process[_0xaa31cd(0x40b)]?.[_0xaa31cd(0x64d)]===_0xaa31cd(0x18f),'CONTACTS':process[_0xaa31cd(0x40b)]?.['STORE_CONTACTS']===_0xaa31cd(0x18f),'CHATS':process['env']?.[_0xaa31cd(0x731)]===_0xaa31cd(0x18f)},'DATABASE':{'CONNECTION':{'HOST':process[_0xaa31cd(0x40b)]?.[_0xaa31cd(0x31a)],'PORT':Number[_0xaa31cd(0x196)](process[_0xaa31cd(0x40b)]?.[_0xaa31cd(0x31a)]),'USER':process['env'][_0xaa31cd(0x54d)],'PASSWORD':process[_0xaa31cd(0x40b)][_0xaa31cd(0x1c0)],'URI':process[_0xaa31cd(0x40b)][_0xaa31cd(0x638)],'DB_PREFIX_NAME':process[_0xaa31cd(0x40b)][_0xaa31cd(0x3ff)]},'ENABLED':process['env']?.[_0xaa31cd(0x2c8)]===_0xaa31cd(0x18f)},'REDIS':{'ENABLED':process[_0xaa31cd(0x40b)]?.[_0xaa31cd(0x4be)]===_0xaa31cd(0x18f),'URI':process['env']['REDIS_URI']||_0xaa31cd(0x1d8),'PREFIX_KEY':process[_0xaa31cd(0x40b)][_0xaa31cd(0x3ca)]||_0xaa31cd(0x3aa)},'LOG':{'LEVEL':process[_0xaa31cd(0x40b)]?.[_0xaa31cd(0x31c)][_0xaa31cd(0x4bc)](','),'COLOR':process[_0xaa31cd(0x40b)]?.['LOG_COLOR']===_0xaa31cd(0x18f)},'PROXY':process[_0xaa31cd(0x40b)]?.[_0xaa31cd(0x6c2)]===_0xaa31cd(0x18f),'AUTHENTICATION':{'TYPE':process['env'][_0xaa31cd(0x2b8)],'API_KEY':{'KEY':process['env'][_0xaa31cd(0x176)]},'JWT':{'EXPIRIN_IN':Number[_0xaa31cd(0x2d8)](process['env']?.[_0xaa31cd(0x376)])?Number[_0xaa31cd(0x196)](process[_0xaa31cd(0x40b)][_0xaa31cd(0x376)]):0xe10,'SECRET':process[_0xaa31cd(0x40b)][_0xaa31cd(0x556)]}}};}},b=new Zt(),Ao=R(require(a0_0x56f010(0x705))),pe=R(require(a0_0x56f010(0x69e))),Os=require(a0_0x56f010(0x248)),es=R(require('dayjs')),ts=(_0x4c4795=>(_0x4c4795[a0_0x56f010(0x4e8)]='\x1b[32m',_0x4c4795[a0_0x56f010(0x4cf)]=a0_0x56f010(0x17c),_0x4c4795[a0_0x56f010(0x6bf)]='\x1b[33m',_0x4c4795[a0_0x56f010(0x4d4)]=a0_0x56f010(0x64a),_0x4c4795[a0_0x56f010(0x4ff)]='\x1b[36m',_0x4c4795[a0_0x56f010(0x38d)]=a0_0x56f010(0x228),_0x4c4795[a0_0x56f010(0x276)]='\x1b[30m',_0x4c4795))(ts||{}),ks=(_0x169d82=>(_0x169d82[a0_0x56f010(0x4e8)]=a0_0x56f010(0x4f5),_0x169d82[a0_0x56f010(0x276)]=a0_0x56f010(0x367),_0x169d82[a0_0x56f010(0x4cf)]=a0_0x56f010(0x2b6),_0x169d82[a0_0x56f010(0x6bf)]=a0_0x56f010(0x601),_0x169d82[a0_0x56f010(0x4d4)]=a0_0x56f010(0x6cf),_0x169d82[a0_0x56f010(0x4ff)]='\x1b[36m%s\x1b[0m',_0x169d82[a0_0x56f010(0x38d)]=a0_0x56f010(0x1fa),_0x169d82))(ks||{}),Ls=(_0x85a8e3=>(_0x85a8e3[a0_0x56f010(0x4e8)]=a0_0x56f010(0x4e8),_0x85a8e3[a0_0x56f010(0x6bf)]=a0_0x56f010(0x6bf),_0x85a8e3[a0_0x56f010(0x4cf)]=a0_0x56f010(0x4cf),_0x85a8e3[a0_0x56f010(0x276)]=a0_0x56f010(0x276),_0x85a8e3[a0_0x56f010(0x4d4)]=a0_0x56f010(0x4d4),_0x85a8e3[a0_0x56f010(0x4ff)]=a0_0x56f010(0x4ff),_0x85a8e3[a0_0x56f010(0x38d)]='VERBOSE',_0x85a8e3))(Ls||{}),js=(_0x214a05=>(_0x214a05[a0_0x56f010(0x4e8)]=a0_0x56f010(0x70f),_0x214a05['INFO']=a0_0x56f010(0x71a),_0x214a05[a0_0x56f010(0x6bf)]=a0_0x56f010(0x4aa),_0x214a05[a0_0x56f010(0x276)]='\x1b[40m',_0x214a05[a0_0x56f010(0x4d4)]=a0_0x56f010(0x56c),_0x214a05[a0_0x56f010(0x4ff)]='\x1b[46m',_0x214a05['VERBOSE']='\x1b[47m',_0x214a05))(js||{}),v=class{constructor(_0x35248c=a0_0x56f010(0x21e)){const _0x7aa4be=a0_0x56f010;this[_0x7aa4be(0x3af)]=_0x35248c,this[_0x7aa4be(0x663)]=b;}[a0_0x56f010(0x515)](_0x37188d){const _0x546aad=a0_0x56f010;this[_0x546aad(0x3af)]=_0x37188d;}[a0_0x56f010(0x429)](_0x26ec9c,_0x1a5e59){const _0x269b56=a0_0x56f010;let _0x232baf=[];this[_0x269b56(0x663)][_0x269b56(0x750)](_0x269b56(0x4e8))[_0x269b56(0x210)][_0x269b56(0x147)](_0x3953ff=>_0x232baf[_0x269b56(0x143)](Ls[_0x3953ff]));let _0x1fb6fe=typeof _0x26ec9c;_0x232baf['includes'](_0x1a5e59)&&(b[_0x269b56(0x750)]('LOG')['COLOR']?(console[_0x269b56(0x125)](_0x269b56(0x5c8)+ks[_0x1a5e59],_0x269b56(0x79d),(0x0,es[_0x269b56(0x34a)])()[_0x269b56(0x25f)]('DD/MM\x20HH:mm:ss'),_0x269b56(0x28f),ts[_0x1a5e59]+js[_0x1a5e59]+_0x269b56(0x5c8),_0x1a5e59+_0x269b56(0x4b2),_0x269b56(0x3bc),this[_0x269b56(0x3af)]+_0x269b56(0x28f),ts[_0x1a5e59],_0x1fb6fe!==_0x269b56(0x5d0)?_0x26ec9c:'',_0x269b56(0x28f)),_0x1fb6fe===_0x269b56(0x5d0)&&console[_0x269b56(0x125)](_0x26ec9c,'\x0a')):console['log']((0x0,es['default'])()[_0x269b56(0x25f)]('HH:mm:ss'),_0x1a5e59+'\x20',''+this[_0x269b56(0x3af)],_0x26ec9c));}[a0_0x56f010(0x125)](_0x5c5ffd){const _0x373e47=a0_0x56f010;this['console'](_0x5c5ffd,_0x373e47(0x4e8));}[a0_0x56f010(0x66d)](_0x5a8a77){this['console'](_0x5a8a77,'INFO');}[a0_0x56f010(0x26f)](_0x4adae9){const _0x35db56=a0_0x56f010;this[_0x35db56(0x429)](_0x4adae9,'WARN');}[a0_0x56f010(0x4f8)](_0x19c7e0){const _0x138b47=a0_0x56f010;this[_0x138b47(0x429)](_0x19c7e0,'ERROR');}[a0_0x56f010(0x6db)](_0x53b675){const _0x1bd6bb=a0_0x56f010;this[_0x1bd6bb(0x429)](_0x53b675,_0x1bd6bb(0x38d));}['debug'](_0x272d20){const _0x1e9cfb=a0_0x56f010;this[_0x1e9cfb(0x429)](_0x272d20,_0x1e9cfb(0x4ff));}[a0_0x56f010(0x4db)](_0x4f22f6){const _0x319010=a0_0x56f010;this[_0x319010(0x429)](_0x4f22f6,_0x319010(0x276));}};function a0_0x4a73(_0x42d591,_0x35504d){const _0x26b281=a0_0x26b2();return a0_0x4a73=function(_0x4a7342,_0x397404){_0x4a7342=_0x4a7342-0x11f;let _0x22ad41=_0x26b281[_0x4a7342];return _0x22ad41;},a0_0x4a73(_0x42d591,_0x35504d);}function Fs(){const _0x53d4c8=a0_0x56f010;process['on'](_0x53d4c8(0x2ba),(_0x9f3c36,_0x3b0bc3)=>{const _0x21f444=_0x53d4c8;new v('uncaughtException')['error']({'origin':_0x3b0bc3,'stderr':process[_0x21f444(0x78e)]['fd'],'error':_0x9f3c36});}),process['on'](_0x53d4c8(0x1e6),(_0x1e3402,_0x1f6676)=>{const _0x241941=_0x53d4c8;new v(_0x241941(0x1e6))[_0x241941(0x4f8)]({'origin':_0x1f6676,'stderr':process[_0x241941(0x78e)]['fd'],'error':_0x1e3402});});}var qs=R(require('eventemitter2')),ss=new qs[(a0_0x56f010(0x34a))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x56f010(0x5c5)),as=R(require(a0_0x56f010(0x5c5))),qo=new v('Db\x20Connection'),V=b[a0_0x56f010(0x750)](a0_0x56f010(0x792)),N=V[a0_0x56f010(0x365)]?V[a0_0x56f010(0x738)][a0_0x56f010(0x3c2)]?as[a0_0x56f010(0x34a)][a0_0x56f010(0x26d)](V[a0_0x56f010(0x738)][a0_0x56f010(0x3c2)],{'dbName':V['CONNECTION'][a0_0x56f010(0x233)]+'-whatsapp-api'}):as[a0_0x56f010(0x34a)][a0_0x56f010(0x26d)](a0_0x56f010(0x68a)+V[a0_0x56f010(0x738)]['HOST']+':'+V[a0_0x56f010(0x738)][a0_0x56f010(0x24e)]+a0_0x56f010(0x5ff),{'user':V[a0_0x56f010(0x738)][a0_0x56f010(0x749)],'pass':V[a0_0x56f010(0x738)][a0_0x56f010(0x14d)],'dbName':V[a0_0x56f010(0x738)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;V[a0_0x56f010(0x365)]&&qo[a0_0x56f010(0x66d)](a0_0x56f010(0x2b2)+N['$dbName']);var Uo=new De[(a0_0x56f010(0x53b))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0x56f010(0x53b))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0x56f010(0x53b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x13b12f=>{const _0x67c919=a0_0x56f010;let _0x19e33e='z_'+_0x13b12f+_0x67c919(0x77d);return N?.[_0x67c919(0x645)](_0x67c919(0x237),Vo,_0x19e33e);},Js=require(a0_0x56f010(0x5c5)),Bo=new Js['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x3a9207=>{const _0x25bae7=a0_0x56f010;let _0x5269f6='z_'+_0x3a9207+_0x25bae7(0x526);return N?.[_0x25bae7(0x645)]('ContactModel',Bo,_0x5269f6);},Bs=require('mongoose'),Go=new Bs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x1c5046=>{const _0x48a41f=a0_0x56f010;let _0xf7b941='z_'+_0x1c5046+_0x48a41f(0x604);return N?.['model'](_0x48a41f(0x1ed),Go,_0xf7b941);},Ws=require(a0_0x56f010(0x5c5)),os=class{},Wo=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0x56f010(0x645)](os['name'],Wo,a0_0x56f010(0x781)),Hs=require(a0_0x56f010(0x5c5)),rs=class{},Ks=new Hs['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x56f010(0x6ff)](a0_0x56f010(0x1dc),function(_0x468669){const _0x45d708=a0_0x56f010;delete this[_0x45d708(0x742)],delete this[_0x45d708(0x63e)],delete this['flowPrefixCommand'],delete this[_0x45d708(0x121)],delete this[_0x45d708(0x595)],_0x468669();});var Qs=N?.[a0_0x56f010(0x645)](rs[a0_0x56f010(0x3c0)],Ks,a0_0x56f010(0x222)),_=require('mongoose'),_e=class{},Ys=new _[(a0_0x56f010(0x53b))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x56f010(0x53b))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x56f010(0x250)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x56f010(0x48c)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x56f010(0x4b6)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0x56f010(0x53b))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x56f010(0x53b))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _[(a0_0x56f010(0x53b))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _[(a0_0x56f010(0x53b))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x56f010(0x53b))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x56f010(0x53b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x33d12d=a0_0x56f010;return _0x33d12d(0x1fd)+Math['random']()[_0x33d12d(0x4c5)](0x24)[_0x33d12d(0x2c9)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0x56f010(0x6ff)](a0_0x56f010(0x1dc),function(_0x2c4f72){const _0x3e30d9=a0_0x56f010;let _0x4f096e=new Set(),_0x49b53b=new Set(this[_0x3e30d9(0x5f2)]?.['map'](_0x4ee22e=>_0x4ee22e['name'])),_0x4971c6=JSON[_0x3e30d9(0x1b7)](this),_0x581b1d=/{{(?!_)([^}]*)}}/g,_0x556676;for(;(_0x556676=_0x581b1d[_0x3e30d9(0x30e)](_0x4971c6))!==null;)_0x49b53b[_0x3e30d9(0x428)](_0x556676[0x1])||_0x4f096e[_0x3e30d9(0x503)](_0x556676[0x1]);_0x4f096e['size']>0x0?(console['warn'](_0x3e30d9(0x366),Array[_0x3e30d9(0x2f8)](_0x4f096e)),this[_0x3e30d9(0x4bb)]=Array[_0x3e30d9(0x2f8)](_0x4f096e)):this[_0x3e30d9(0x4bb)]=[],_0x2c4f72();});var ta=_0x5d0a74=>{const _0x1b3dc2=a0_0x56f010;let _0x3c5937='z_'+_0x5d0a74+_0x1b3dc2(0x78f);return N?.[_0x1b3dc2(0x645)](_0x1b3dc2(0x751),ps,_0x3c5937);},sa=N?.['model'](ns['name'],ps,a0_0x56f010(0x15b)),Qo=new _[(a0_0x56f010(0x53b))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0x56f010(0x53b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x56f010(0x4b6)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x11f2b6=>{const _0x277d1d=a0_0x56f010;let _0x34ecaa='z_'+_0x11f2b6+_0x277d1d(0x444);return N?.[_0x277d1d(0x645)](_0x277d1d(0x445),aa,_0x34ecaa);},ra=N?.[a0_0x56f010(0x645)](cs[a0_0x56f010(0x3c0)],aa,a0_0x56f010(0x736)),ls=class{},Yo=new _[(a0_0x56f010(0x53b))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0x56f010(0x53b))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0xaaf1b6=>{const _0x31e643=a0_0x56f010;let _0x2c411c='z_'+_0xaaf1b6+_0x31e643(0x357);return N?.[_0x31e643(0x645)](_0x31e643(0x2c2),ia,_0x2c411c);},ca=N?.['model'](ls[a0_0x56f010(0x3c0)],ia,'scheduleMessages'),us=class{},Zo=new _[(a0_0x56f010(0x53b))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0x56f010(0x53b))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x56f010(0x1d3)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0x56f010(0x53b))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _[(a0_0x56f010(0x53b))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0x56f010(0x645)](us[a0_0x56f010(0x3c0)],sr,'AutomateSystem'),la=require(a0_0x56f010(0x5c5)),ar=new la['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x37d093=>{const _0x473897=a0_0x56f010;let _0x5ad0a9='z_'+_0x37d093+_0x473897(0x52b);return N?.[_0x473897(0x645)](_0x473897(0x56d),ar,_0x5ad0a9);},I=class{constructor(_0x1ef972){const _0x2904f5=a0_0x56f010;this[_0x2904f5(0x2e2)]=_0x1ef972['get'](_0x2904f5(0x792));}};function A(_0x38c449){const _0x509da5=a0_0x56f010;let _0x5355c6={};for(let [_0x5deb0d,_0x427e77]of Object[_0x509da5(0x540)](_0x38c449))if(typeof _0x427e77=='object'&&!Array[_0x509da5(0x5f1)](_0x427e77)){for(let [_0x1ba85d,_0x228c03]of Object[_0x509da5(0x540)](_0x427e77))_0x5355c6[_0x5deb0d+'.'+_0x1ba85d]=_0x228c03;}else _0x5355c6[_0x5deb0d]=_0x427e77;return _0x5355c6;}var $e=class{constructor(_0x845c13,_0x109e9b,_0x32e507,_0x100031,_0x78449d,_0x321425,_0x5a511b,_0xb4fa32,_0x24bae4,_0x154bac,_0x216dc8){const _0x50d865=a0_0x56f010;this[_0x50d865(0x1a5)]=_0x845c13,this['chat']=_0x109e9b,this[_0x50d865(0x566)]=_0x32e507,this[_0x50d865(0x222)]=_0x100031,this['auth']=_0x78449d,this[_0x50d865(0x15b)]=_0x321425,this[_0x50d865(0x736)]=_0x5a511b,this[_0x50d865(0x5a5)]=_0xb4fa32,this[_0x50d865(0x6e2)]=_0x24bae4,this[_0x50d865(0x3d3)]=_0x154bac,this[_0x50d865(0x635)]=_0x216dc8;}get[a0_0x56f010(0x69b)](){const _0x58891f=a0_0x56f010;return this[_0x58891f(0x635)];}},ke=class{},Le=class extends I{[a0_0x56f010(0x570)](_0x24a393){return Gs(_0x24a393);}async['insert'](_0x439d9c,_0x3114e2){const _0x187cf5=a0_0x56f010;if(_0x439d9c[_0x187cf5(0x17a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x3114e2)['insertMany']([..._0x439d9c]))[_0x187cf5(0x17a)]};}catch(_0x5ceb8b){return _0x5ceb8b;}}async['find'](_0x16acba,_0x30314e){const _0x315db6=a0_0x56f010;try{let _0xd0ec5d=this[_0x315db6(0x570)](_0x30314e),_0xcb6b5e=A(_0x16acba['where']);return await _0xd0ec5d[_0x315db6(0x766)](_0xcb6b5e)['sort']({'messageTimestamp':-0x1})[_0x315db6(0x58d)](_0x16acba?.['limit']??0x0)[_0x315db6(0x569)]();}catch{return[];}}async[a0_0x56f010(0x2d3)](_0x1834b1,_0x1733b2){const _0x38ff7a=a0_0x56f010;try{let _0x1b33a1=this['getMessageModelForOwner'](_0x1733b2),_0x56a5d8=A(_0x1834b1[_0x38ff7a(0x5e0)]);await _0x1b33a1[_0x38ff7a(0x312)](_0x56a5d8);}catch(_0x18c27a){console[_0x38ff7a(0x4f8)](_0x18c27a);}}async['update'](_0x59fee7,_0x5ff7bb,_0x4cd869){const _0x504a47=a0_0x56f010;try{let _0x5120e3=this[_0x504a47(0x570)](_0x4cd869),_0x3a3265=A(_0x59fee7[_0x504a47(0x5e0)]);return await _0x5120e3[_0x504a47(0x15a)](_0x3a3265,{'$set':_0x5ff7bb},{'new':!0x0});}catch(_0x6017f0){throw console['error'](_0x6017f0),_0x6017f0;}}async[a0_0x56f010(0x1f8)](_0x3bf7df,_0x402427){const _0x43aed7=a0_0x56f010;if(_0x3bf7df[_0x43aed7(0x17a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x402427)[_0x43aed7(0x1f8)]([..._0x3bf7df]))['length']};}catch(_0x3cd246){return console[_0x43aed7(0x125)]('ERROR:\x20',_0x3cd246),_0x3cd246;}}async[a0_0x56f010(0x332)](_0x242bdc){const _0x41a104=a0_0x56f010;try{return await this[_0x41a104(0x570)](_0x242bdc)['collection'][_0x41a104(0x254)](),{'success':!0x0};}catch(_0x2d1110){return console[_0x41a104(0x4f8)](_0x2d1110),{'success':!0x1,'error':_0x2d1110};}}},wo=R(require(a0_0x56f010(0x478))),y=R(require(a0_0x56f010(0x22d))),ve=require('fs'),F=R(require('path')),se=R(require(a0_0x56f010(0x152))),yo=require('uuid'),bo=R(require(a0_0x56f010(0x2e8))),So=R(require(a0_0x56f010(0x661))),da=['imageMessage',a0_0x56f010(0x1f2),'audioMessage','videoMessage','stickerMessage'],pa=[a0_0x56f010(0x65e),'documentWithCaptionMessage',a0_0x56f010(0x2fa),a0_0x56f010(0x3f4)],Ss=require('os'),Ot=R(require(a0_0x56f010(0x79e))),_t=require(a0_0x56f010(0x743)),It=require(a0_0x56f010(0x4bd)),ie=R(require(a0_0x56f010(0x5c5))),k=require(a0_0x56f010(0x4f7)),me=class{constructor(_0x431e2c,_0x37013c,_0x93cdda){const _0x5603c1=a0_0x56f010;this[_0x5603c1(0x30b)]=_0x431e2c,this['exists']=_0x37013c,this[_0x5603c1(0x3c0)]=_0x93cdda;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require('express')),ga=require('fs'),ha=require(a0_0x56f010(0x248));async function We(_0x4b1ace){const _0x1ca9cb=a0_0x56f010;let _0x20bd19=B[_0x1ca9cb(0x1b1)][_0x4b1ace];if(V[_0x1ca9cb(0x365)]){let _0x3e1fa6=N['getClient']()['db'](V[_0x1ca9cb(0x738)][_0x1ca9cb(0x233)]+'-instances')[_0x1ca9cb(0x5aa)](_0x4b1ace);return _0x20bd19||(await _0x3e1fa6['find']({})[_0x1ca9cb(0x641)]())[_0x1ca9cb(0x17a)]>0x0;}return _0x20bd19||(0x0,ga[_0x1ca9cb(0x631)])((0x0,ha[_0x1ca9cb(0x4c2)])(he,_0x4b1ace));}async function ma(_0x4bf48b,_0x19654e,_0x4ba3b7){const _0x52e284=a0_0x56f010;if(_0x4bf48b[_0x52e284(0x4c7)][_0x52e284(0x246)]('/instance/create')||_0x4bf48b[_0x52e284(0x4c7)]['includes']('/instance/fetchInstances')||_0x4bf48b[_0x52e284(0x4c7)][_0x52e284(0x246)](_0x52e284(0x761))||_0x4bf48b[_0x52e284(0x4c7)][_0x52e284(0x246)]('/config')||_0x4bf48b[_0x52e284(0x4c7)][_0x52e284(0x246)](_0x52e284(0x15e))||_0x4bf48b[_0x52e284(0x4c7)]['includes'](_0x52e284(0x36e))||_0x4bf48b[_0x52e284(0x4c7)][_0x52e284(0x246)]('/instance/delete'))return _0x4ba3b7();let _0x465cc6=_0x4bf48b['params'];if(!_0x465cc6?.['instanceName'])throw new m(_0x52e284(0x5af));if(!await We(_0x465cc6[_0x52e284(0x5cd)]))throw new j(_0x52e284(0x219)+_0x465cc6[_0x52e284(0x5cd)]+_0x52e284(0x4e5));_0x4ba3b7();}async function fa(_0x3a7abd,_0x17e7ba,_0x4f21df){const _0xa8ba98=a0_0x56f010;if(_0x3a7abd['originalUrl'][_0xa8ba98(0x246)]('/instance/create')){let _0x376af5=_0x3a7abd[_0xa8ba98(0x55f)];if(await We(_0x376af5[_0xa8ba98(0x5cd)]))throw new K('This\x20name\x20'+_0x376af5[_0xa8ba98(0x5cd)]+_0xa8ba98(0x154));B[_0xa8ba98(0x1b1)][_0x376af5[_0xa8ba98(0x5cd)]]&&delete B[_0xa8ba98(0x1b1)][_0x376af5[_0xa8ba98(0x5cd)]];}_0x4f21df();}var wa=require('class-validator'),ya=R(require(a0_0x56f010(0x28d))),ze=a0_0x56f010(0x3aa),rr=new v(a0_0x56f010(0x711));async function ir(_0x366112,_0x32bf3b,_0xf30daa){const _0x23db16=a0_0x56f010;let _0x2e28ed=_0x366112[_0x23db16(0x750)](_0x23db16(0x5d5));if(_0x2e28ed&&b[_0x23db16(0x750)](_0x23db16(0x3d7))[_0x23db16(0x78a)][_0x23db16(0x35d)]!==_0x2e28ed)throw new ee();if(b[_0x23db16(0x750)](_0x23db16(0x3d7))['API_KEY'][_0x23db16(0x35d)]===_0x2e28ed)return _0xf30daa();if((_0x366112[_0x23db16(0x4c7)][_0x23db16(0x246)](_0x23db16(0x262))||_0x366112[_0x23db16(0x4c7)][_0x23db16(0x246)](_0x23db16(0x328)))&&!_0x2e28ed)throw new K(_0x23db16(0x21d),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0xe0b40f=b[_0x23db16(0x750)](_0x23db16(0x3d7))['JWT'];try{let [_0x4fa531,_0x56d7a2]=_0x366112[_0x23db16(0x750)](_0x23db16(0x388))[_0x23db16(0x4bc)]('\x20');if(_0x4fa531[_0x23db16(0x4a7)]()!=='bearer')throw new ee();if(!(0x0,wa['isJWT'])(_0x56d7a2))throw new ee();let _0x2a7cea=_0x366112[_0x23db16(0x1c7)],_0x555141=ya[_0x23db16(0x34a)][_0x23db16(0x63c)](_0x56d7a2,_0xe0b40f[_0x23db16(0x575)],{'ignoreExpiration':_0xe0b40f['EXPIRIN_IN']===0x0});if(_0x2a7cea['instanceName']!==_0x555141['instanceName']||ze!==_0x555141['apiName'])throw new ee();return _0xf30daa();}catch(_0x50d51d){throw rr[_0x23db16(0x4f8)](_0x50d51d),new ee();}}async function nr(_0x93bbbf,_0x1b3b8b,_0x5b72fb){const _0x10d061=a0_0x56f010;let _0x3bbf72=b[_0x10d061(0x750)](_0x10d061(0x3d7))[_0x10d061(0x78a)],_0x862c96=_0x93bbbf[_0x10d061(0x750)](_0x10d061(0x5d5));if(_0x3bbf72['KEY']===_0x862c96)return _0x5b72fb();if(_0x93bbbf[_0x10d061(0x4c7)][_0x10d061(0x246)](_0x10d061(0x262))){let _0x3c1f3d=He,_0x2cbb08=_0x93bbbf['body']['instanceName'];if(_0x3c1f3d&&_0x2cbb08[_0x10d061(0x4a7)]()['startsWith'](_0x3c1f3d[_0x10d061(0x4a7)]()))return _0x5b72fb();if(!_0x862c96)throw new K(_0x10d061(0x21d),_0x10d061(0x53f));}if(_0x93bbbf[_0x10d061(0x4c7)][_0x10d061(0x246)](_0x10d061(0x328))&&!_0x862c96)throw new K(_0x10d061(0x21d),_0x10d061(0x53f));if(_0x93bbbf[_0x10d061(0x4c7)][_0x10d061(0x246)]('/exit')&&!_0x862c96)throw new K('Missing\x20global\x20api\x20key',_0x10d061(0x53f));if(_0x93bbbf['originalUrl'][_0x10d061(0x246)](_0x10d061(0x23c))&&!_0x862c96)throw new K(_0x10d061(0x21d),_0x10d061(0x53f));try{let _0x22db94=_0x93bbbf[_0x10d061(0x1c7)];if((await ce[_0x10d061(0x435)]['find'](_0x22db94[_0x10d061(0x5cd)]))[_0x10d061(0x5d5)]===_0x862c96)return _0x5b72fb();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0x56f010(0x69e)),C=require(a0_0x56f010(0x54c)),S=(..._0x330cde)=>{const _0x28bd9e=a0_0x56f010;let _0x35e3e8={};return _0x330cde['forEach'](_0x2f5696=>_0x35e3e8[_0x2f5696]={'minLength':0x1,'description':_0x28bd9e(0x257)+_0x2f5696+_0x28bd9e(0x675)}),{'if':{'propertyNames':{'enum':[..._0x330cde]}},'then':{'properties':_0x35e3e8}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'instanceName':{'type':a0_0x56f010(0x140)}},...S(a0_0x56f010(0x5cd))},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x56f010(0x6a9)],...S(a0_0x56f010(0x6a9))},Kn={'properties':{'key':{'type':a0_0x56f010(0x5d0),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x56f010(0x140)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x56f010(0x29f),a0_0x56f010(0x329)],...S('id',a0_0x56f010(0x29f))},'message':{'type':a0_0x56f010(0x5d0)}}},Q={'properties':{'delay':{'type':'integer','description':a0_0x56f010(0x583)},'presence':{'type':a0_0x56f010(0x140),'enum':[a0_0x56f010(0x134),a0_0x56f010(0x31d),a0_0x56f010(0x1b2),a0_0x56f010(0x418),a0_0x56f010(0x21f)]}}},z={'type':a0_0x56f010(0x140),'pattern':a0_0x56f010(0x40d),'description':a0_0x56f010(0x3cb)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x56f010(0x5d0),'properties':{'text':{'type':'string'}},'required':[a0_0x56f010(0x577)],...S(a0_0x56f010(0x577))}},'required':[a0_0x56f010(0x344),a0_0x56f010(0x32e)]},Ea={'type':a0_0x56f010(0x140),'pattern':a0_0x56f010(0x34c),'description':'Invalid\x20format'},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x56f010(0x5d0),'properties':{'text':{'type':'string'}},'required':['text'],...S(a0_0x56f010(0x577))}},'required':[a0_0x56f010(0x344),a0_0x56f010(0x32e)]},Yn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x56f010(0x5d0),'properties':{'mediatype':{'type':'string','enum':[a0_0x56f010(0x350),a0_0x56f010(0x457),'video',a0_0x56f010(0x453)]},'media':{'type':'string'},'fileName':{'type':a0_0x56f010(0x140)},'caption':{'type':'string'}},'required':[a0_0x56f010(0x79a),'media'],...S(a0_0x56f010(0x6e8),a0_0x56f010(0x3d6),a0_0x56f010(0x629))}},'required':[a0_0x56f010(0x5d6),'number']},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x56f010(0x140)}},'required':[a0_0x56f010(0x350)],...S(a0_0x56f010(0x350))}},'required':['stickerMessage',a0_0x56f010(0x32e)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x56f010(0x577),'image',a0_0x56f010(0x453),a0_0x56f010(0x16a)]},'content':{'type':'string'},'caption':{'type':a0_0x56f010(0x140)},'backgroundColor':{'type':a0_0x56f010(0x140)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x56f010(0x18d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x56f010(0x140),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x56f010(0x270),a0_0x56f010(0x7a6)],...S('type',a0_0x56f010(0x7a6))}},'required':[a0_0x56f010(0x311)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x56f010(0x5d0),'properties':{'mediatype':{'type':'string','enum':['image',a0_0x56f010(0x457),a0_0x56f010(0x16a),a0_0x56f010(0x453)]},'media':{'type':a0_0x56f010(0x140)},'fileName':{'type':'string'},'caption':{'type':a0_0x56f010(0x140)}},'required':[a0_0x56f010(0x79a),a0_0x56f010(0x629)],...S('fileName','caption',a0_0x56f010(0x629))}},'required':['mediaMessage',a0_0x56f010(0x32e)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x56f010(0x5d0),'properties':{'audio':{'type':a0_0x56f010(0x140)}},'required':[a0_0x56f010(0x453)],...S(a0_0x56f010(0x453))}},'required':['audioMessage',a0_0x56f010(0x32e)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'pollMessage':{'type':a0_0x56f010(0x5d0),'properties':{'name':{'type':a0_0x56f010(0x140)},'selectableCount':{'type':a0_0x56f010(0x32e)},'values':{'type':a0_0x56f010(0x18d),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x56f010(0x349),a0_0x56f010(0x41a)],...S(a0_0x56f010(0x3c0),a0_0x56f010(0x349),a0_0x56f010(0x41a))}},'required':[a0_0x56f010(0x32e),a0_0x56f010(0x35f)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x56f010(0x4c9)],...S('text',a0_0x56f010(0x4c9))}},'required':[a0_0x56f010(0x32e),'menuMessage']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x56f010(0x5d0),'properties':{'title':{'type':'string'},'description':{'type':a0_0x56f010(0x140)},'footerText':{'type':a0_0x56f010(0x140)},'buttons':{'type':a0_0x56f010(0x18d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x56f010(0x5d0),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x56f010(0x140)}},'required':[a0_0x56f010(0x25b),a0_0x56f010(0x2e7)],...S(a0_0x56f010(0x25b),a0_0x56f010(0x2e7))}},'mediaMessage':{'type':a0_0x56f010(0x5d0),'properties':{'media':{'type':a0_0x56f010(0x140)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x56f010(0x140),'enum':[a0_0x56f010(0x350),a0_0x56f010(0x457),a0_0x56f010(0x16a)]}},'required':[a0_0x56f010(0x629),a0_0x56f010(0x79a)],...S(a0_0x56f010(0x629),a0_0x56f010(0x6e8))}},'required':['title',a0_0x56f010(0x544)],...S(a0_0x56f010(0x499),'description')}},'required':[a0_0x56f010(0x32e),a0_0x56f010(0x646)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x56f010(0x5d0),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x56f010(0x32e)},'name':{'type':a0_0x56f010(0x140)},'address':{'type':a0_0x56f010(0x140)}},'required':[a0_0x56f010(0x4c6),a0_0x56f010(0x564)],...S('name','addresss')}},'required':['number',a0_0x56f010(0x49e)]},Ia={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x56f010(0x5d0),'properties':{'title':{'type':'string'},'description':{'type':a0_0x56f010(0x140)},'footerText':{'type':a0_0x56f010(0x140)},'buttonText':{'type':a0_0x56f010(0x140)},'sections':{'type':a0_0x56f010(0x18d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x56f010(0x5d0),'properties':{'title':{'type':a0_0x56f010(0x140)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x56f010(0x5d0),'properties':{'title':{'type':a0_0x56f010(0x140)},'description':{'type':'string'},'rowId':{'type':a0_0x56f010(0x140)}},'required':['title','rowId'],...S(a0_0x56f010(0x499),a0_0x56f010(0x239))}}},'required':[a0_0x56f010(0x499),a0_0x56f010(0x6aa)],...S(a0_0x56f010(0x499))}}},'required':[a0_0x56f010(0x499),a0_0x56f010(0x3ee),'buttonText',a0_0x56f010(0x6b3)],...S('title',a0_0x56f010(0x3ee),a0_0x56f010(0x25b),'footerText')}},'required':['number',a0_0x56f010(0x470)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':a0_0x56f010(0x140)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x56f010(0x5eb),a0_0x56f010(0x6ed)],...S(a0_0x56f010(0x5eb))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x56f010(0x32e),'contactMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x56f010(0x140)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]}},'required':['id',a0_0x56f010(0x29f),a0_0x56f010(0x329)],...S('id',a0_0x56f010(0x29f))},'reaction':{'type':a0_0x56f010(0x140)}},'required':[a0_0x56f010(0x528),a0_0x56f010(0x64f)],...S(a0_0x56f010(0x64f))}},'required':[a0_0x56f010(0x441)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'numbers':{'type':a0_0x56f010(0x18d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x56f010(0x140),'pattern':'^\x5cd+','description':a0_0x56f010(0x4d7)}}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'readMessages':{'type':a0_0x56f010(0x18d),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x56f010(0x140)}},'required':['id','fromMe',a0_0x56f010(0x29f)],...S('id',a0_0x56f010(0x29f))}}},'required':[a0_0x56f010(0x783)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'privacySettings':{'type':a0_0x56f010(0x5d0),'properties':{'readreceipts':{'type':a0_0x56f010(0x140),'enum':[a0_0x56f010(0x78d),'none']},'profile':{'type':a0_0x56f010(0x140),'enum':['all','contacts',a0_0x56f010(0x506),a0_0x56f010(0x686)]},'status':{'type':'string','enum':[a0_0x56f010(0x78d),a0_0x56f010(0x613),'contact_blacklist',a0_0x56f010(0x686)]},'online':{'type':a0_0x56f010(0x140),'enum':['all',a0_0x56f010(0x20c)]},'last':{'type':a0_0x56f010(0x140),'enum':[a0_0x56f010(0x78d),a0_0x56f010(0x613),a0_0x56f010(0x506),'none']},'groupadd':{'type':'string','enum':[a0_0x56f010(0x78d),a0_0x56f010(0x613),a0_0x56f010(0x506),'none']}},'required':[a0_0x56f010(0x735),a0_0x56f010(0x40a),a0_0x56f010(0x1b0),'online',a0_0x56f010(0x287),a0_0x56f010(0x4f1)],...S('readreceipts','profile','status',a0_0x56f010(0x1ca),a0_0x56f010(0x287),'groupadd')}},'required':[a0_0x56f010(0x2b1)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'lastMessage':{'type':a0_0x56f010(0x5d0),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x56f010(0x140)},'fromMe':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]}},'required':['id',a0_0x56f010(0x329),'remoteJid'],...S('id',a0_0x56f010(0x29f))},'messageTimestamp':{'type':a0_0x56f010(0x2be),'minLength':0x1}},'required':[a0_0x56f010(0x528)],...S(a0_0x56f010(0x24d))},'archive':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]}},'required':[a0_0x56f010(0x779),a0_0x56f010(0x1e2)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x56f010(0x140)},'fromMe':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x56f010(0x140)},'participant':{'type':a0_0x56f010(0x140)}},'required':['id',a0_0x56f010(0x329),a0_0x56f010(0x29f)],...S('id',a0_0x56f010(0x29f),'participant')},ja={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'where':{'type':a0_0x56f010(0x5d0),'properties':{'_id':{'type':a0_0x56f010(0x140),'minLength':0x1},'pushName':{'type':a0_0x56f010(0x140),'minLength':0x1},'id':{'type':a0_0x56f010(0x140),'minLength':0x1}},...S(a0_0x56f010(0x20e),'id',a0_0x56f010(0x171))}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'name':{'type':a0_0x56f010(0x140)}},...S('name')},qa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'status':{'type':'string'}},...S('status')},Se={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'number':{'type':a0_0x56f010(0x140)},'picture':{'type':a0_0x56f010(0x140)}}},Ua={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':a0_0x56f010(0x140)},'picture':{'type':a0_0x56f010(0x140)},'status':{'type':a0_0x56f010(0x140)},'isBusiness':{'type':a0_0x56f010(0x715)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'where':{'type':a0_0x56f010(0x5d0),'properties':{'_id':{'type':a0_0x56f010(0x140),'minLength':0x1},'key':{'type':a0_0x56f010(0x5d0),'if':{'propertyNames':{'enum':['fromMe',a0_0x56f010(0x29f),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x56f010(0x140),'minLength':0x1,'description':a0_0x56f010(0x20f)},'id':{'type':a0_0x56f010(0x140),'minLength':0x1,'description':a0_0x56f010(0x20f)},'fromMe':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S(a0_0x56f010(0x20e))},'limit':{'type':a0_0x56f010(0x2be)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x56f010(0x140)},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x56f010(0x140),'enum':['ERROR',a0_0x56f010(0x13f),a0_0x56f010(0x35e),'DELIVERY_ACK',a0_0x56f010(0x5bd),a0_0x56f010(0x758)]}},...S(a0_0x56f010(0x20e),'remoteJid','id','status')},'limit':{'type':a0_0x56f010(0x2be)}}},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':'string','enum':['unavailable',a0_0x56f010(0x31d),a0_0x56f010(0x1b2),a0_0x56f010(0x418),a0_0x56f010(0x21f)]}},'required':['presence',a0_0x56f010(0x32e)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'subject':{'type':a0_0x56f010(0x140)},'description':{'type':a0_0x56f010(0x140)},'profilePicture':{'type':a0_0x56f010(0x140)},'participants':{'type':a0_0x56f010(0x18d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x56f010(0x140),'minLength':0xa,'pattern':a0_0x56f010(0x4c8),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject','participants'],...S(a0_0x56f010(0x314),'description',a0_0x56f010(0x284))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'groupJid':{'type':a0_0x56f010(0x140),'pattern':a0_0x56f010(0x2b3)}},'required':[a0_0x56f010(0x68d)],...S(a0_0x56f010(0x68d))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'groupJid':{'type':a0_0x56f010(0x140)},'action':{'type':a0_0x56f010(0x140),'enum':[a0_0x56f010(0x503),a0_0x56f010(0x70b),'promote',a0_0x56f010(0x670)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x56f010(0x140),'minLength':0xa,'pattern':a0_0x56f010(0x4c8),'description':a0_0x56f010(0x2d6)}}},'required':[a0_0x56f010(0x68d),'action',a0_0x56f010(0x66e)],...S('groupJid',a0_0x56f010(0x54e))},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x56f010(0x32e),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x56f010(0x68d),a0_0x56f010(0x548)],...S(a0_0x56f010(0x68d),a0_0x56f010(0x548))},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x56f010(0x140)},'image':{'type':'string'}},'required':[a0_0x56f010(0x68d),'image'],...S('groupJid',a0_0x56f010(0x350))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':['groupJid',a0_0x56f010(0x3ee)],...S('groupJid','description')},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'groupJid':{'type':a0_0x56f010(0x140)},'name':{'type':a0_0x56f010(0x140)}},'required':['groupJid',a0_0x56f010(0x3c0)],...S('groupJid',a0_0x56f010(0x3c0))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'groupJid':{'type':a0_0x56f010(0x140)},'setting':{'type':a0_0x56f010(0x140),'enum':[a0_0x56f010(0x5a9),a0_0x56f010(0x721),'unlocked',a0_0x56f010(0x668)]}},'required':[a0_0x56f010(0x68d),'setting'],...S(a0_0x56f010(0x68d),a0_0x56f010(0x678))},Ya={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x56f010(0x140)}},'required':[a0_0x56f010(0x22c)],...S('inviteCode')},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x56f010(0x5d0),'properties':{'url':{'type':a0_0x56f010(0x140)},'enabled':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]}},'required':[a0_0x56f010(0x370),a0_0x56f010(0x461)]},Zn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x56f010(0x715),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x56f010(0x5c7),a0_0x56f010(0x411),a0_0x56f010(0x36b),'MESSAGES_UPSERT',a0_0x56f010(0x495),a0_0x56f010(0x77f),'CONTACTS_UPSERT',a0_0x56f010(0x465),a0_0x56f010(0x27e),'CHATS_SET','CHATS_UPSERT',a0_0x56f010(0x3c1),a0_0x56f010(0x14b),'CONNECTION_UPDATE',a0_0x56f010(0x27a),a0_0x56f010(0x6dd),a0_0x56f010(0x36c)],...S(a0_0x56f010(0x55c),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x56f010(0x411),a0_0x56f010(0x36b),'MESSAGES_UPSERT',a0_0x56f010(0x495),a0_0x56f010(0x77f),a0_0x56f010(0x67d),'CONTACTS_UPDATE',a0_0x56f010(0x27e),'CHATS_SET',a0_0x56f010(0x36d),a0_0x56f010(0x3c1),a0_0x56f010(0x14b),a0_0x56f010(0x206),'GROUPS_UPSERT',a0_0x56f010(0x6dd),a0_0x56f010(0x36c))},Ke=class{},Qe=class extends I{['getContactModelForOwner'](_0x3b0114){return Vs(_0x3b0114);}async[a0_0x56f010(0x45b)](_0x31bf79){const _0x4f4b31=a0_0x56f010;if(_0x31bf79[_0x4f4b31(0x17a)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x31bf79[0x0]['owner'])[_0x4f4b31(0x1f8)]([..._0x31bf79]))[_0x4f4b31(0x17a)]};}catch(_0x24791c){return _0x24791c;}}async[a0_0x56f010(0x2d3)](_0x495adc,_0x89e1e8){const _0x2b4948=a0_0x56f010;try{return{'deletedCount':(await this[_0x2b4948(0x27f)](_0x89e1e8)[_0x2b4948(0x312)]({..._0x495adc['where']}))[_0x2b4948(0x364)]};}catch(_0x5975b2){return{'error':_0x5975b2?.[_0x2b4948(0x4c5)]()};}}async[a0_0x56f010(0x189)](_0x4b7cae,_0x20c8bc){const _0x25fbee=a0_0x56f010;try{if(_0x4b7cae[_0x25fbee(0x17a)]===0x0)return;let _0x52f519=this[_0x25fbee(0x27f)](_0x20c8bc),_0x91e52=_0x4b7cae[_0x25fbee(0x1ef)](_0x528a36=>({'updateOne':{'filter':{'_id':_0x528a36['_id'],'owner':_0x20c8bc},'update':{..._0x528a36}}})),{modifiedCount:_0x1f5abb}=await _0x52f519[_0x25fbee(0x67e)](_0x91e52);return{'insertCount':_0x1f5abb};}catch{return;}}async[a0_0x56f010(0x766)](_0x3736bc,_0x264c25){const _0x2d835f=a0_0x56f010;try{let _0x259b0e=this[_0x2d835f(0x27f)](_0x264c25),_0x3d5a50=A(_0x3736bc[_0x2d835f(0x5e0)]);return await _0x259b0e['find'](_0x3d5a50)[_0x2d835f(0x58d)](_0x3736bc?.[_0x2d835f(0x58d)]??0x0)[_0x2d835f(0x569)]();}catch{return[];}}async[a0_0x56f010(0x2a7)](_0x409ff9,_0x1da39d){const _0x361d90=a0_0x56f010;try{let _0x58ecff=this['getContactModelForOwner'](_0x1da39d),_0x5d8dfc=A(_0x409ff9[_0x361d90(0x5e0)]);return await _0x58ecff[_0x361d90(0x2a7)](_0x5d8dfc)['lean']();}catch{return null;}}async[a0_0x56f010(0x332)](_0x5c296d){const _0x29d8fe=a0_0x56f010;try{return await this[_0x29d8fe(0x27f)](_0x5c296d)['collection'][_0x29d8fe(0x254)](),{'success':!0x0};}catch(_0x563bc3){return console['error'](_0x563bc3),{'success':!0x1,'error':_0x563bc3};}}},Ye=require('jsonschema'),cc=require(a0_0x56f010(0x6f5)),gs=new v('Validate'),U=class{[a0_0x56f010(0x380)](_0x5d3653,_0x3482b8=!0x0){const _0x191e32=a0_0x56f010;let _0x348f94='/'+_0x5d3653;return _0x3482b8&&(_0x348f94+=_0x191e32(0x639)),_0x348f94;}async[a0_0x56f010(0x266)](_0x24a3a8){const _0xd535b3=a0_0x56f010;let {request:_0x4ef7b0,schema:_0x383d5b,ClassRef:_0x11290b,execute:_0x14900b}=_0x24a3a8,_0x17fab6=new _0x11290b(),_0x3ebfc9=_0x4ef7b0[_0xd535b3(0x55f)],_0x3551d7=_0x4ef7b0[_0xd535b3(0x1c7)];_0x4ef7b0?.[_0xd535b3(0x335)]&&Object[_0xd535b3(0x37c)](_0x4ef7b0[_0xd535b3(0x335)])['length']>0x0&&Object[_0xd535b3(0x58f)](_0x3551d7,_0x4ef7b0[_0xd535b3(0x335)]),_0x4ef7b0[_0xd535b3(0x4c7)][_0xd535b3(0x246)]('/instance/create')&&Object['assign'](_0x3551d7,_0x3ebfc9),Object[_0xd535b3(0x58f)](_0x17fab6,_0x3ebfc9);let _0x209e8e=_0x383d5b?(0x0,Ye[_0xd535b3(0x12e)])(_0x17fab6,_0x383d5b):{'valid':!0x0,'errors':[]};if(!_0x209e8e[_0xd535b3(0x136)]){let _0x4a1f5a=_0x209e8e[_0xd535b3(0x24c)]['map'](({property:_0x4cef0f,stack:_0x12bc6c,schema:_0x1e29a7})=>{const _0x573944=_0xd535b3;let _0xe69d6a;return _0x1e29a7[_0x573944(0x3ee)]?_0xe69d6a=_0x1e29a7['description']:_0xe69d6a=_0x12bc6c['replace'](_0x573944(0x401),''),{'property':_0x4cef0f[_0x573944(0x2b0)]('instance.',''),'message':_0xe69d6a};});throw gs[_0xd535b3(0x4f8)]([..._0x4a1f5a]),new m(..._0x4a1f5a);}return await _0x14900b(_0x3551d7,_0x17fab6);}async[a0_0x56f010(0x4c1)](_0x27d204){const _0x4e6edc=a0_0x56f010;let {request:_0x3dce27,ClassRef:_0x5e4443,schema:_0x155731,execute:_0x214985}=_0x27d204,_0xe1e14b=_0x3dce27['query'];if(!_0xe1e14b?.[_0x4e6edc(0x68d)])throw new m(_0x4e6edc(0x2ca),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x5859de=_0x3dce27[_0x4e6edc(0x1c7)],_0x26afd6=_0x3dce27[_0x4e6edc(0x55f)],_0x24d73d=new _0x5e4443();Object['assign'](_0x26afd6,_0xe1e14b),Object[_0x4e6edc(0x58f)](_0x24d73d,_0x26afd6);let _0x91051b=(0x0,Ye[_0x4e6edc(0x12e)])(_0x24d73d,_0x155731);if(!_0x91051b[_0x4e6edc(0x136)]){let _0x24edae=_0x91051b[_0x4e6edc(0x24c)][_0x4e6edc(0x1ef)](({property:_0x5ec42a,stack:_0x44a265,schema:_0x6ab744})=>{const _0x3d7a9a=_0x4e6edc;let _0x2d0a61;return _0x6ab744[_0x3d7a9a(0x3ee)]?_0x2d0a61=_0x6ab744[_0x3d7a9a(0x3ee)]:_0x2d0a61=_0x44a265['replace']('instance.',''),{'property':_0x5ec42a[_0x3d7a9a(0x2b0)](_0x3d7a9a(0x401),''),'message':_0x2d0a61};});throw gs[_0x4e6edc(0x4f8)]([..._0x24edae]),new m(..._0x24edae);}return await _0x214985(_0x5859de,_0x24d73d);}async[a0_0x56f010(0x66c)](_0x361545){const _0x5390d8=a0_0x56f010;let {request:_0xe86390,ClassRef:_0x247628,schema:_0x134997,execute:_0x1bcdcc}=_0x361545,_0x4b9628=_0xe86390['body'];if(!_0x4b9628?.[_0x5390d8(0x22c)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x5390d8(0x578));let _0x2c96e8=_0xe86390[_0x5390d8(0x1c7)],_0x4878a7=_0xe86390[_0x5390d8(0x55f)],_0x5276d4=new _0x247628();Object[_0x5390d8(0x58f)](_0x4878a7,_0x4b9628),Object[_0x5390d8(0x58f)](_0x5276d4,_0x4878a7);let _0x3b44de=(0x0,Ye['validate'])(_0x5276d4,_0x134997);if(!_0x3b44de['valid']){let _0x3733b4=_0x3b44de[_0x5390d8(0x24c)][_0x5390d8(0x1ef)](({property:_0x56db50,stack:_0xb8357b,schema:_0x4fc883})=>{const _0x51fa02=_0x5390d8;let _0x3522eb;return _0x4fc883['description']?_0x3522eb=_0x4fc883[_0x51fa02(0x3ee)]:_0x3522eb=_0xb8357b[_0x51fa02(0x2b0)](_0x51fa02(0x401),''),{'property':_0x56db50[_0x51fa02(0x2b0)]('instance.',''),'message':_0x3522eb};});throw gs[_0x5390d8(0x4f8)]([..._0x3733b4]),new m(..._0x3733b4);}return await _0x1bcdcc(_0x2c96e8,_0x5276d4);}},E=class{},Mc=new v(a0_0x56f010(0x5be)),Xe=class extends U{constructor(..._0x341996){const _0xf1d46b=a0_0x56f010;super(),this[_0xf1d46b(0x402)]=(0x0,Za[_0xf1d46b(0x3fc)])(),this[_0xf1d46b(0x402)][_0xf1d46b(0x2ad)](this[_0xf1d46b(0x380)]('updatePresence'),..._0x341996,async(_0x4555df,_0x579bb4)=>{const _0x388748=_0xf1d46b;let _0x1b5622=await this[_0x388748(0x266)]({'request':_0x4555df,'schema':Va,'ClassRef':je,'execute':(_0x3eb31a,_0x1e2b21)=>x[_0x388748(0x683)](_0x3eb31a,_0x1e2b21)});return _0x579bb4['status'](0xc9)[_0x388748(0x6d7)](_0x1b5622);})['post'](this[_0xf1d46b(0x380)]('whatsappNumbers'),..._0x341996,async(_0x161ce9,_0x4e591f)=>{const _0x553fe0=_0xf1d46b;let _0x794658=await this[_0x553fe0(0x266)]({'request':_0x161ce9,'schema':_a,'ClassRef':Fe,'execute':(_0x1e4497,_0x11e7d5)=>x[_0x553fe0(0x6d8)](_0x1e4497,_0x11e7d5)});return _0x4e591f['status'](0xc9)[_0x553fe0(0x6d7)](_0x794658);})[_0xf1d46b(0x2ad)](this[_0xf1d46b(0x380)](_0xf1d46b(0x502)),..._0x341996,async(_0x33465f,_0x3c3e82)=>{const _0x2c93ca=_0xf1d46b;let _0x2f903f=await this['dataValidate']({'request':_0x33465f,'schema':M,'ClassRef':E,'execute':(_0x598892,_0x4db764)=>x[_0x2c93ca(0x502)](_0x598892,_0x4db764)});return _0x3c3e82[_0x2c93ca(0x1b0)](0xc9)['json'](_0x2f903f);})[_0xf1d46b(0x67b)](this[_0xf1d46b(0x380)](_0xf1d46b(0x546)),..._0x341996,async(_0x775d40,_0x180188)=>{const _0x8b2f10=_0xf1d46b;let _0x2e7e4e=await this[_0x8b2f10(0x266)]({'request':_0x775d40,'schema':Pa,'ClassRef':Je,'execute':(_0x4cdceb,_0x458d18)=>x['readMessage'](_0x4cdceb,_0x458d18)});return _0x180188[_0x8b2f10(0x1b0)](0xc9)[_0x8b2f10(0x6d7)](_0x2e7e4e);})[_0xf1d46b(0x67b)](this[_0xf1d46b(0x380)](_0xf1d46b(0x2a6)),..._0x341996,async(_0x486a07,_0x504f43)=>{const _0x337cca=_0xf1d46b;let _0x1a71c6=await this[_0x337cca(0x266)]({'request':_0x486a07,'schema':ka,'ClassRef':Ve,'execute':(_0x258c93,_0x435533)=>x[_0x337cca(0x2a6)](_0x258c93,_0x435533)});return _0x504f43[_0x337cca(0x1b0)](0xc9)[_0x337cca(0x6d7)](_0x1a71c6);})[_0xf1d46b(0x2d3)](this[_0xf1d46b(0x380)](_0xf1d46b(0x27b)),..._0x341996,async(_0x12c9a6,_0x2c4863)=>{const _0x4b1014=_0xf1d46b;let _0x1c73f2=await this[_0x4b1014(0x266)]({'request':_0x12c9a6,'schema':La,'ClassRef':Ge,'execute':(_0x4fa352,_0x13e688)=>x[_0x4b1014(0x5e3)](_0x4fa352,_0x13e688)});return _0x2c4863[_0x4b1014(0x1b0)](0xc9)[_0x4b1014(0x6d7)](_0x1c73f2);})[_0xf1d46b(0x2ad)](this[_0xf1d46b(0x380)](_0xf1d46b(0x64e)),..._0x341996,async(_0x306d62,_0x139058)=>{const _0x4f76b5=_0xf1d46b;let _0x51585c=await this[_0x4f76b5(0x266)]({'request':_0x306d62,'schema':Se,'ClassRef':be,'execute':(_0x39220e,_0x36ab79)=>x[_0x4f76b5(0x194)](_0x39220e,_0x36ab79)});return _0x139058[_0x4f76b5(0x1b0)](0xc8)['json'](_0x51585c);})['post'](this[_0xf1d46b(0x380)](_0xf1d46b(0x29b)),..._0x341996,async(_0xc6431e,_0x5007cc)=>{const _0x3840e1=_0xf1d46b;let _0x46eab8=await this['dataValidate']({'request':_0xc6431e,'schema':Ua,'ClassRef':be,'execute':(_0x203a52,_0xa80b3d)=>x['fetchProfile'](_0x203a52,_0xa80b3d)});return _0x5007cc[_0x3840e1(0x1b0)](0xc8)['json'](_0x46eab8);})[_0xf1d46b(0x2ad)](this['routerPath'](_0xf1d46b(0x258)),..._0x341996,async(_0x3bd8b7,_0x45f7a1)=>{const _0x39bff9=_0xf1d46b;let _0x4c3a2d=await this[_0x39bff9(0x266)]({'request':_0x3bd8b7,'schema':ja,'ClassRef':Ke,'execute':(_0x288c8f,_0x4c2701)=>x[_0x39bff9(0x775)](_0x288c8f,_0x4c2701)});return _0x45f7a1[_0x39bff9(0x1b0)](0xc8)[_0x39bff9(0x6d7)](_0x4c3a2d);})['post'](this[_0xf1d46b(0x380)]('getBase64FromMediaMessage'),..._0x341996,async(_0x24bb4e,_0x1f2bcc)=>{const _0x3793a7=_0xf1d46b;let _0x3aee21=await this[_0x3793a7(0x266)]({'request':_0x24bb4e,'schema':null,'ClassRef':Object,'execute':(_0x512cb7,_0x1a200c)=>x[_0x3793a7(0x68f)](_0x512cb7,_0x1a200c)});return _0x1f2bcc['status'](0xc9)[_0x3793a7(0x6d7)](_0x3aee21);})[_0xf1d46b(0x2ad)](this['routerPath'](_0xf1d46b(0x3a2)),..._0x341996,async(_0x416b1d,_0x15294b)=>{const _0x39bf6f=_0xf1d46b;let _0x8fcf6b=await this[_0x39bf6f(0x266)]({'request':_0x416b1d,'schema':Ja,'ClassRef':ke,'execute':(_0x47650e,_0x43c812)=>x[_0x39bf6f(0x5d7)](_0x47650e,_0x43c812)});return _0x15294b[_0x39bf6f(0x1b0)](0xc8)['json'](_0x8fcf6b);})[_0xf1d46b(0x750)](this[_0xf1d46b(0x380)]('findChats'),..._0x341996,async(_0x4d9320,_0x1dac3d)=>{const _0x461c6a=_0xf1d46b;let _0x1a947a=await this[_0x461c6a(0x266)]({'request':_0x4d9320,'schema':null,'ClassRef':E,'execute':_0x96469e=>x[_0x461c6a(0x188)](_0x96469e)});return _0x1dac3d[_0x461c6a(0x1b0)](0xc8)[_0x461c6a(0x6d7)](_0x1a947a);})['get'](this[_0xf1d46b(0x380)]('findLabels'),..._0x341996,async(_0x33f5d8,_0x467fea)=>{const _0x552959=_0xf1d46b;let _0x30f4de=await this[_0x552959(0x266)]({'request':_0x33f5d8,'schema':null,'ClassRef':E,'execute':_0x5a82f8=>x[_0x552959(0x507)](_0x5a82f8)});return _0x467fea[_0x552959(0x1b0)](0xc8)[_0x552959(0x6d7)](_0x30f4de);})[_0xf1d46b(0x67b)](this[_0xf1d46b(0x380)]('importChats'),..._0x341996,async(_0x9e814d,_0x166898)=>{const _0x1de277=_0xf1d46b;let _0x3825ed=await this[_0x1de277(0x266)]({'request':_0x9e814d,'schema':null,'ClassRef':Array,'execute':(_0xcdcb3d,_0x502b6e)=>x['importChats'](_0xcdcb3d,_0x502b6e)});return _0x166898['status'](0xc8)[_0x1de277(0x6d7)](_0x3825ed);})[_0xf1d46b(0x750)](this['routerPath'](_0xf1d46b(0x3d0)),..._0x341996,async(_0x283ea2,_0x11ac22)=>{const _0x3eb1f6=_0xf1d46b;let _0x57c2af=await this[_0x3eb1f6(0x266)]({'request':_0x283ea2,'schema':null,'ClassRef':E,'execute':_0x2bc2a3=>x['fetchPrivacySettings'](_0x2bc2a3)});return _0x11ac22[_0x3eb1f6(0x1b0)](0xc8)[_0x3eb1f6(0x6d7)](_0x57c2af);})[_0xf1d46b(0x67b)](this[_0xf1d46b(0x380)](_0xf1d46b(0x2e0)),..._0x341996,async(_0x16f652,_0x4cfd53)=>{const _0x32c54e=_0xf1d46b;let _0x301f4e=await this[_0x32c54e(0x266)]({'request':_0x16f652,'schema':$a,'ClassRef':Be,'execute':(_0x25e640,_0x2875ba)=>x['updatePrivacySettings'](_0x25e640,_0x2875ba)});return _0x4cfd53[_0x32c54e(0x1b0)](0xc9)[_0x32c54e(0x6d7)](_0x301f4e);})[_0xf1d46b(0x2ad)](this[_0xf1d46b(0x380)]('fetchBusinessProfile'),..._0x341996,async(_0x41f470,_0x2ef68c)=>{const _0x2a32d9=_0xf1d46b;let _0x57f211=await this[_0x2a32d9(0x266)]({'request':_0x41f470,'schema':Se,'ClassRef':fe,'execute':(_0x126278,_0x47d68e)=>x[_0x2a32d9(0x390)](_0x126278,_0x47d68e)});return _0x2ef68c[_0x2a32d9(0x1b0)](0xc8)[_0x2a32d9(0x6d7)](_0x57f211);})[_0xf1d46b(0x2ad)](this[_0xf1d46b(0x380)](_0xf1d46b(0x5ae)),..._0x341996,async(_0x33a982,_0x4b5a48)=>{const _0x3226d7=_0xf1d46b;let _0x4cd0b7=await this['dataValidate']({'request':_0x33a982,'schema':Fa,'ClassRef':qe,'execute':(_0x5edfc8,_0x7620f2)=>x[_0x3226d7(0x5ae)](_0x5edfc8,_0x7620f2)});return _0x4b5a48[_0x3226d7(0x1b0)](0xc8)[_0x3226d7(0x6d7)](_0x4cd0b7);})[_0xf1d46b(0x2ad)](this[_0xf1d46b(0x380)](_0xf1d46b(0x500)),..._0x341996,async(_0x2b3b11,_0x3f3e20)=>{const _0x1e057a=_0xf1d46b;let _0x3e76d2=await this[_0x1e057a(0x266)]({'request':_0x2b3b11,'schema':qa,'ClassRef':Ue,'execute':(_0x47a792,_0x426b29)=>x[_0x1e057a(0x500)](_0x47a792,_0x426b29)});return _0x3f3e20[_0x1e057a(0x1b0)](0xc8)[_0x1e057a(0x6d7)](_0x3e76d2);})['put'](this[_0xf1d46b(0x380)](_0xf1d46b(0x455)),..._0x341996,async(_0x273518,_0xd3c678)=>{const _0x4ed5c8=_0xf1d46b;let _0x426c0e=await this[_0x4ed5c8(0x266)]({'request':_0x273518,'schema':Se,'ClassRef':fe,'execute':(_0x48fa4d,_0x42ac65)=>x['updateProfilePicture'](_0x48fa4d,_0x42ac65)});return _0xd3c678[_0x4ed5c8(0x1b0)](0xc8)[_0x4ed5c8(0x6d7)](_0x426c0e);})[_0xf1d46b(0x2d3)](this[_0xf1d46b(0x380)](_0xf1d46b(0x510)),..._0x341996,async(_0x48150a,_0x34bb1d)=>{const _0x347cc4=_0xf1d46b;let _0x214bb5=await this['dataValidate']({'request':_0x48150a,'schema':Se,'ClassRef':fe,'execute':(_0x161a7a,_0xf8b738)=>x[_0x347cc4(0x510)](_0x161a7a,_0xf8b738)});return _0x34bb1d[_0x347cc4(0x1b0)](0xc8)[_0x347cc4(0x6d7)](_0x214bb5);});}},eo=require('express'),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x8347cc){const _0x3a5806=a0_0x56f010;super(),this[_0x3a5806(0x402)]=(0x0,eo['Router'])(),this['router'][_0x3a5806(0x2ad)](this[_0x3a5806(0x380)](_0x3a5806(0x3a5)),..._0x8347cc,async(_0x394ed1,_0x3e010d)=>{const _0x33f93c=_0x3a5806;let _0x19e3cf=await this[_0x33f93c(0x266)]({'request':_0x394ed1,'schema':Ba,'ClassRef':Ze,'execute':(_0x16f02c,_0x303fc2)=>q[_0x33f93c(0x397)](_0x16f02c,_0x303fc2)});_0x3e010d[_0x33f93c(0x1b0)](0xc9)[_0x33f93c(0x6d7)](_0x19e3cf);})['put'](this[_0x3a5806(0x380)]('updateGroupPicture'),..._0x8347cc,async(_0xfa4463,_0x2a77f6)=>{const _0xb68ecb=_0x3a5806;let _0x4f775b=await this[_0xb68ecb(0x4c1)]({'request':_0xfa4463,'schema':za,'ClassRef':et,'execute':(_0x66746f,_0x3cf2b5)=>q['updateGroupPicture'](_0x66746f,_0x3cf2b5)});_0x2a77f6[_0xb68ecb(0x1b0)](0xc9)[_0xb68ecb(0x6d7)](_0x4f775b);})[_0x3a5806(0x67b)](this[_0x3a5806(0x380)](_0x3a5806(0x443)),..._0x8347cc,async(_0x535557,_0x5160af)=>{const _0x1e62ab=_0x3a5806;let _0x25e7b2=await this[_0x1e62ab(0x4c1)]({'request':_0x535557,'schema':Ha,'ClassRef':tt,'execute':(_0x58cb8e,_0x432837)=>q[_0x1e62ab(0x443)](_0x58cb8e,_0x432837)});_0x5160af[_0x1e62ab(0x1b0)](0xc9)[_0x1e62ab(0x6d7)](_0x25e7b2);})[_0x3a5806(0x67b)](this[_0x3a5806(0x380)](_0x3a5806(0x5dc)),..._0x8347cc,async(_0x2eccf6,_0x322b7f)=>{const _0x45c9b6=_0x3a5806;let _0x38558d=await this[_0x45c9b6(0x4c1)]({'request':_0x2eccf6,'schema':Ka,'ClassRef':st,'execute':(_0x4a2fe2,_0x57f3f4)=>q['groupName'](_0x4a2fe2,_0x57f3f4)});_0x322b7f['status'](0xc9)[_0x45c9b6(0x6d7)](_0x38558d);})[_0x3a5806(0x67b)](this[_0x3a5806(0x380)](_0x3a5806(0x555)),..._0x8347cc,async(_0x41c39d,_0x480f64)=>{const _0x1bdeab=_0x3a5806;let _0xd6d365=await this[_0x1bdeab(0x4c1)]({'request':_0x41c39d,'schema':Qa,'ClassRef':at,'execute':(_0x21812b,_0x5909e4)=>q[_0x1bdeab(0x555)](_0x21812b,_0x5909e4)});_0x480f64[_0x1bdeab(0x1b0)](0xc9)['json'](_0xd6d365);})[_0x3a5806(0x67b)](this[_0x3a5806(0x380)]('toggleEphemeral'),..._0x8347cc,async(_0x41e2fc,_0x399f1c)=>{const _0x3c32e7=_0x3a5806;let _0x20cbc8=await this[_0x3c32e7(0x4c1)]({'request':_0x41e2fc,'schema':Wa,'ClassRef':it,'execute':(_0x10ca3a,_0x263b57)=>q[_0x3c32e7(0x421)](_0x10ca3a,_0x263b57)});_0x399f1c[_0x3c32e7(0x1b0)](0xc9)[_0x3c32e7(0x6d7)](_0x20cbc8);})[_0x3a5806(0x750)](this[_0x3a5806(0x380)](_0x3a5806(0x4a2)),..._0x8347cc,async(_0x139270,_0x4812cf)=>{const _0x5c5980=_0x3a5806;let _0x4b8bd7=await this[_0x5c5980(0x4c1)]({'request':_0x139270,'schema':Ee,'ClassRef':Y,'execute':(_0x5f4178,_0x344512)=>q['findGroupInfo'](_0x5f4178,_0x344512)});_0x4812cf['status'](0xc8)[_0x5c5980(0x6d7)](_0x4b8bd7);})['get'](this['routerPath'](_0x3a5806(0x220)),..._0x8347cc,async(_0x2986c5,_0x583be7)=>{const _0x3a882a=_0x3a5806;let _0x5ca6d7=await this['dataValidate']({'request':_0x2986c5,'schema':M,'ClassRef':E,'execute':_0xf562a3=>q[_0x3a882a(0x220)](_0xf562a3)});_0x583be7['status'](0xc8)['json'](_0x5ca6d7);})[_0x3a5806(0x750)](this[_0x3a5806(0x380)](_0x3a5806(0x66e)),..._0x8347cc,async(_0x24795a,_0x59a53e)=>{const _0x4cc0d3=_0x3a5806;let _0x37b8b1=await this[_0x4cc0d3(0x4c1)]({'request':_0x24795a,'schema':Ee,'ClassRef':Y,'execute':(_0xf955a5,_0x16ff36)=>q['findParticipants'](_0xf955a5,_0x16ff36)});_0x59a53e[_0x4cc0d3(0x1b0)](0xc8)['json'](_0x37b8b1);})[_0x3a5806(0x750)](this[_0x3a5806(0x380)](_0x3a5806(0x22c)),..._0x8347cc,async(_0x1ac9c1,_0x3e1de1)=>{const _0x2e9506=_0x3a5806;let _0x562ad9=await this[_0x2e9506(0x4c1)]({'request':_0x1ac9c1,'schema':Ee,'ClassRef':Y,'execute':(_0x384516,_0x672b92)=>q['inviteCode'](_0x384516,_0x672b92)});_0x3e1de1[_0x2e9506(0x1b0)](0xc8)[_0x2e9506(0x6d7)](_0x562ad9);})[_0x3a5806(0x67b)](this['routerPath'](_0x3a5806(0x3f5)),..._0x8347cc,async(_0x2837fd,_0x469e76)=>{const _0x31f23b=_0x3a5806;let _0x3f2b37=await this[_0x31f23b(0x66c)]({'request':_0x2837fd,'schema':Ya,'ClassRef':ot,'execute':(_0x16f944,_0x1064ae)=>q['joinGroup'](_0x16f944,_0x1064ae)});_0x469e76[_0x31f23b(0x1b0)](0xc9)[_0x31f23b(0x6d7)](_0x3f2b37);})[_0x3a5806(0x67b)](this[_0x3a5806(0x380)]('revokeInviteCode'),..._0x8347cc,async(_0x4f299c,_0x5ad27f)=>{const _0x599dd4=_0x3a5806;let _0x2d9caa=await this[_0x599dd4(0x4c1)]({'request':_0x4f299c,'schema':Ee,'ClassRef':Y,'execute':(_0x529d2b,_0x23517e)=>q[_0x599dd4(0x5b1)](_0x529d2b,_0x23517e)});_0x5ad27f['status'](0xc9)[_0x599dd4(0x6d7)](_0x2d9caa);})['put'](this[_0x3a5806(0x380)](_0x3a5806(0x5e7)),..._0x8347cc,async(_0xb1f6e1,_0xb54a78)=>{const _0x1f6ea2=_0x3a5806;let _0x24c055=await this[_0x1f6ea2(0x4c1)]({'request':_0xb1f6e1,'schema':Ga,'ClassRef':rt,'execute':(_0x525583,_0x2b12a2)=>q[_0x1f6ea2(0x37d)](_0x525583,_0x2b12a2)});_0xb54a78['status'](0xc9)[_0x1f6ea2(0x6d7)](_0x24c055);})[_0x3a5806(0x2d3)](this[_0x3a5806(0x380)](_0x3a5806(0x6b6)),..._0x8347cc,async(_0x34ee64,_0x4322c0)=>{const _0x8089e8=_0x3a5806;let _0x80136a=await this['groupValidate']({'request':_0x34ee64,'schema':{},'ClassRef':Y,'execute':(_0x4b5127,_0x591b6d)=>q[_0x8089e8(0x6b6)](_0x4b5127,_0x591b6d)});_0x4322c0['status'](0xc8)['json'](_0x80136a);});}},to=require(a0_0x56f010(0x69e)),ct=class extends U{constructor(_0x446016,..._0xf43e8b){const _0x372eb9=a0_0x56f010;super(),this[_0x372eb9(0x663)]=_0x446016,this[_0x372eb9(0x402)]=(0x0,to[_0x372eb9(0x3fc)])();let _0x4b0c5c=_0x446016[_0x372eb9(0x750)](_0x372eb9(0x3d7));this[_0x372eb9(0x402)][_0x372eb9(0x2ad)](_0x372eb9(0x1fe),..._0xf43e8b,async(_0x25d35e,_0x2035cf)=>{const _0x25fb72=_0x372eb9;let {instanceName:_0x3ebcb4,apikey:_0x2d2268,number:_0x36475c}=_0x25d35e['body'],_0x38b27e=await le[_0x25fb72(0x491)]({'instanceName':_0x3ebcb4,'apikey':_0x2d2268,'number':_0x36475c});return _0x2035cf['status'](0xc9)[_0x25fb72(0x6d7)](_0x38b27e);})[_0x372eb9(0x67b)](this['routerPath']('restart'),..._0xf43e8b,async(_0x122f0d,_0x4167f6)=>{const _0x48536e=_0x372eb9;let _0x36eb80=await this[_0x48536e(0x266)]({'request':_0x122f0d,'schema':M,'ClassRef':E,'execute':_0x79e6a1=>le[_0x48536e(0x74d)](_0x79e6a1)});return _0x4167f6[_0x48536e(0x1b0)](0xc8)['json'](_0x36eb80);})[_0x372eb9(0x750)](this['routerPath'](_0x372eb9(0x498)),..._0xf43e8b,async(_0x3fa433,_0x57940a)=>{const _0x148014=_0x372eb9;let _0x28c7ed=await this['dataValidate']({'request':_0x3fa433,'schema':M,'ClassRef':E,'execute':_0x8f889b=>le[_0x148014(0x498)](_0x8f889b)});return _0x57940a[_0x148014(0x1b0)](0xc8)[_0x148014(0x6d7)](_0x28c7ed);})[_0x372eb9(0x750)](this['routerPath'](_0x372eb9(0x146),!0x1),..._0xf43e8b,async(_0x243528,_0x59e586)=>{const _0xb0b4a8=_0x372eb9;let _0x4bdc2c=await this[_0xb0b4a8(0x266)]({'request':_0x243528,'schema':null,'ClassRef':E,'execute':_0x763c06=>le[_0xb0b4a8(0x146)](_0x763c06)});return _0x59e586[_0xb0b4a8(0x1b0)](0xc8)[_0xb0b4a8(0x6d7)](_0x4bdc2c);})[_0x372eb9(0x2d3)](this[_0x372eb9(0x380)](_0x372eb9(0x747)),..._0xf43e8b,async(_0x766aef,_0x3d9ff1)=>{const _0x2f0d01=_0x372eb9;let _0x47101c=await this[_0x2f0d01(0x266)]({'request':_0x766aef,'schema':M,'ClassRef':E,'execute':_0x5575d0=>le['logout'](_0x5575d0)});return _0x3d9ff1['status'](0xc8)[_0x2f0d01(0x6d7)](_0x47101c);})[_0x372eb9(0x2d3)](this[_0x372eb9(0x380)](_0x372eb9(0x2d3)),..._0xf43e8b,async(_0x515db9,_0x693238)=>{const _0x3ee703=_0x372eb9;let _0x47fe86=await this[_0x3ee703(0x266)]({'request':_0x515db9,'schema':M,'ClassRef':E,'execute':_0x251ee2=>le[_0x3ee703(0x345)](_0x251ee2)});return _0x693238['status'](0xc8)['json'](_0x47fe86);});}},so=require(a0_0x56f010(0x69e)),hs=class{},W=class extends hs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x452467){const _0x13d572=a0_0x56f010;super(),this[_0x13d572(0x402)]=(0x0,so[_0x13d572(0x3fc)])(),this['router'][_0x13d572(0x2ad)](this['routerPath'](_0x13d572(0x30a)),..._0x452467,async(_0x999a21,_0x4f757c)=>{const _0x28e510=_0x13d572;let _0x8f3cb6=await this[_0x28e510(0x266)]({'request':_0x999a21,'schema':Sa,'ClassRef':lt,'execute':(_0x4e3aef,_0x282c0e)=>G[_0x28e510(0x30a)](_0x4e3aef,_0x282c0e)});return _0x4f757c[_0x28e510(0x1b0)](0xc9)['json'](_0x8f3cb6);})[_0x13d572(0x2ad)](this[_0x13d572(0x380)]('sendMedia'),..._0x452467,async(_0x5abac1,_0x450ea0)=>{const _0x5d82cb=_0x13d572;let _0x47cee6=await this[_0x5d82cb(0x266)]({'request':_0x5abac1,'schema':va,'ClassRef':Ce,'execute':(_0x2b80db,_0x282288)=>G[_0x5d82cb(0x6cc)](_0x2b80db,_0x282288)});return _0x450ea0[_0x5d82cb(0x1b0)](0xc9)['json'](_0x47cee6);})[_0x13d572(0x2ad)](this['routerPath']('sendMenu'),..._0x452467,async(_0x8fe804,_0x15cb7a)=>{const _0x24df0b=_0x13d572;let _0x52f2b6=await this[_0x24df0b(0x266)]({'request':_0x8fe804,'schema':Ta,'ClassRef':pt,'execute':(_0x1930d6,_0x324123)=>G['sendMenu'](_0x1930d6,_0x324123)});return _0x15cb7a['status'](0xc9)[_0x24df0b(0x6d7)](_0x52f2b6);})[_0x13d572(0x2ad)](this['routerPath'](_0x13d572(0x6ab)),..._0x452467,async(_0x147c3c,_0x5e5ed2)=>{const _0x55a313=_0x13d572;let _0xec0889=await this[_0x55a313(0x266)]({'request':_0x147c3c,'schema':Na,'ClassRef':Ce,'execute':(_0x58947b,_0x4baec4)=>G[_0x55a313(0x6ab)](_0x58947b,_0x4baec4)});return _0x5e5ed2['status'](0xc9)[_0x55a313(0x6d7)](_0xec0889);})[_0x13d572(0x2ad)](this[_0x13d572(0x380)]('sendButtons'),..._0x452467,async(_0x4060ff,_0x3996c5)=>{const _0x3346c6=_0x13d572;let _0x302cf0=await this[_0x3346c6(0x266)]({'request':_0x4060ff,'schema':Aa,'ClassRef':ht,'execute':(_0x2b20e9,_0x19bbf0)=>G[_0x3346c6(0x5ba)](_0x2b20e9,_0x19bbf0)});return _0x3996c5[_0x3346c6(0x1b0)](0xc9)[_0x3346c6(0x6d7)](_0x302cf0);})[_0x13d572(0x2ad)](this[_0x13d572(0x380)](_0x13d572(0x6c5)),..._0x452467,async(_0x3522d0,_0x4bd93d)=>{const _0x15f7ef=_0x13d572;let _0x2769d9=await this[_0x15f7ef(0x266)]({'request':_0x3522d0,'schema':Oa,'ClassRef':mt,'execute':(_0x15fb1c,_0x2f01fc)=>G[_0x15f7ef(0x6c5)](_0x15fb1c,_0x2f01fc)});return _0x4bd93d[_0x15f7ef(0x1b0)](0xc9)[_0x15f7ef(0x6d7)](_0x2769d9);})[_0x13d572(0x2ad)](this[_0x13d572(0x380)]('sendList'),..._0x452467,async(_0x38b473,_0x35506c)=>{const _0x52a5d2=_0x13d572;let _0x50aded=await this['dataValidate']({'request':_0x38b473,'schema':Ia,'ClassRef':ft,'execute':(_0x25d5c5,_0x3167ca)=>G[_0x52a5d2(0x689)](_0x25d5c5,_0x3167ca)});return _0x35506c['status'](0xc9)[_0x52a5d2(0x6d7)](_0x50aded);})['post'](this[_0x13d572(0x380)](_0x13d572(0x5d9)),..._0x452467,async(_0x4ba369,_0x2c263d)=>{const _0x4e08dd=_0x13d572;let _0x55245d=await this[_0x4e08dd(0x266)]({'request':_0x4ba369,'schema':xa,'ClassRef':wt,'execute':(_0x4e6542,_0x74b1c3)=>G['sendContact'](_0x4e6542,_0x74b1c3)});return _0x2c263d[_0x4e08dd(0x1b0)](0xc9)['json'](_0x55245d);})[_0x13d572(0x2ad)](this[_0x13d572(0x380)](_0x13d572(0x52f)),..._0x452467,async(_0x4ef415,_0x1cc637)=>{const _0x7cc2e2=_0x13d572;let _0x479c73=await this[_0x7cc2e2(0x266)]({'request':_0x4ef415,'schema':Da,'ClassRef':yt,'execute':(_0x152b2c,_0x1a8a38)=>G[_0x7cc2e2(0x52f)](_0x152b2c,_0x1a8a38)});return _0x1cc637[_0x7cc2e2(0x1b0)](0xc9)[_0x7cc2e2(0x6d7)](_0x479c73);})['post'](this[_0x13d572(0x380)](_0x13d572(0x2f9)),..._0x452467,async(_0x2627da,_0xdf65)=>{const _0x100094=_0x13d572;let _0x2f9c91=await this[_0x100094(0x266)]({'request':_0x2627da,'schema':Ra,'ClassRef':dt,'execute':(_0x445eb7,_0x3472e6)=>G[_0x100094(0x2f9)](_0x445eb7,_0x3472e6)});return _0xdf65[_0x100094(0x1b0)](0xc9)['json'](_0x2f9c91);})[_0x13d572(0x2ad)](this[_0x13d572(0x380)](_0x13d572(0x5dd)),..._0x452467,async(_0x55c91a,_0x3af3fa)=>{const _0x52ec3a=_0x13d572;let _0x14c677=await this[_0x52ec3a(0x266)]({'request':_0x55c91a,'schema':Ma,'ClassRef':ut,'execute':(_0x4673d4,_0x1ae19b)=>G[_0x52ec3a(0x5dd)](_0x4673d4,_0x1ae19b)});return _0x3af3fa[_0x52ec3a(0x1b0)](0xc9)['json'](_0x14c677);})[_0x13d572(0x2ad)](this[_0x13d572(0x380)](_0x13d572(0x1b3)),..._0x452467,async(_0x3ece9b,_0x242fc3)=>{const _0x3eecf4=_0x13d572;let _0x592853=await this[_0x3eecf4(0x266)]({'request':_0x3ece9b,'schema':Ca,'ClassRef':gt,'execute':(_0x241b36,_0x41b350)=>G[_0x3eecf4(0x1b3)](_0x241b36,_0x41b350)});return _0x242fc3[_0x3eecf4(0x1b0)](0xc9)[_0x3eecf4(0x6d7)](_0x592853);});}},ao=require(a0_0x56f010(0x69e)),St=class{},Et=class extends U{constructor(..._0x43bc90){const _0x2a718d=a0_0x56f010;super(),this['router']=(0x0,ao['Router'])(),this[_0x2a718d(0x402)][_0x2a718d(0x2ad)](this['routerPath'](_0x2a718d(0x168)),..._0x43bc90,async(_0x423725,_0x11c061)=>{const _0x23eed3=_0x2a718d;let _0x4df0ae=await this[_0x23eed3(0x266)]({'request':_0x423725,'schema':Xa,'ClassRef':St,'execute':(_0x1a4637,_0x61fa1)=>ms[_0x23eed3(0x19d)](_0x1a4637,_0x61fa1)});_0x11c061['status'](0xc9)[_0x23eed3(0x6d7)](_0x4df0ae);})[_0x2a718d(0x750)](this[_0x2a718d(0x380)](_0x2a718d(0x766)),..._0x43bc90,async(_0x584352,_0x5a36db)=>{const _0x235431=_0x2a718d;let _0x115874=await this[_0x235431(0x266)]({'request':_0x584352,'schema':M,'ClassRef':E,'execute':_0x4e9e79=>ms[_0x235431(0x75d)](_0x4e9e79)});_0x5a36db[_0x235431(0x1b0)](0xc8)[_0x235431(0x6d7)](_0x115874);});}},oo=require(a0_0x56f010(0x69e)),f=new v(a0_0x56f010(0x394)),Ct=class extends U{constructor(..._0x26ef86){const _0x360930=a0_0x56f010;super(),this[_0x360930(0x402)]=(0x0,oo['Router'])(),this[_0x360930(0x402)][_0x360930(0x2ad)](this[_0x360930(0x380)]('scheduleMessage'),..._0x26ef86,async(_0x18a8ae,_0x32679e)=>{const _0x5d2f36=_0x360930;let _0x10ca97=_0x18a8ae['body'];f[_0x5d2f36(0x6db)]('request\x20received\x20in\x20scheduleMessage'),f[_0x5d2f36(0x6db)](_0x5d2f36(0x37a)),f['verbose'](_0x18a8ae[_0x5d2f36(0x55f)]);let _0x2c123f=await this['dataValidate']({'request':_0x18a8ae,'schema':M,'ClassRef':E,'execute':_0xd5200d=>T[_0x5d2f36(0x323)](_0xd5200d,_0x10ca97)});_0x32679e[_0x5d2f36(0x1b0)](0xc8)['json'](_0x2c123f);})[_0x360930(0x750)](this[_0x360930(0x380)]('scheduleMessage'),..._0x26ef86,async(_0x8a12b4,_0x208982)=>{const _0x489001=_0x360930;let _0x39d6c8=await this[_0x489001(0x266)]({'request':_0x8a12b4,'schema':M,'ClassRef':E,'execute':_0x44e3e2=>T[_0x489001(0x44c)](_0x44e3e2)});_0x208982['status'](0xc8)[_0x489001(0x6d7)](_0x39d6c8);})[_0x360930(0x2d3)](this['routerPath'](_0x360930(0x4ba)),..._0x26ef86,async(_0x11ff4a,_0x20b4f3)=>{const _0x3fae88=_0x360930;f[_0x3fae88(0x6db)](_0x3fae88(0x31f));let _0x59839a=await this['dataValidate']({'request':_0x11ff4a,'schema':M,'ClassRef':E,'execute':_0x2c7e60=>T[_0x3fae88(0x4ba)](_0x2c7e60)});_0x20b4f3[_0x3fae88(0x1b0)](0xc8)[_0x3fae88(0x6d7)](_0x59839a);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x476)),..._0x26ef86,async(_0x3864f7,_0xc63f33)=>{const _0x569684=_0x360930;let _0x2a16ac=_0x3864f7[_0x569684(0x55f)];f[_0x569684(0x6db)](_0x569684(0x41d)),f['verbose']('request\x20body:\x20'),f[_0x569684(0x6db)](_0x3864f7[_0x569684(0x55f)]);let _0x4daf6d=await this[_0x569684(0x266)]({'request':_0x3864f7,'schema':M,'ClassRef':E,'execute':_0x434382=>T[_0x569684(0x476)](_0x434382,_0x2a16ac)});_0xc63f33[_0x569684(0x1b0)](0xc8)['json'](_0x4daf6d);})['get'](this[_0x360930(0x380)](_0x360930(0x6ea)),..._0x26ef86,async(_0x1265d3,_0x55d68b)=>{const _0x1438b6=_0x360930;f['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x4cd34e=await this[_0x1438b6(0x266)]({'request':_0x1265d3,'schema':M,'ClassRef':E,'execute':_0x21c23e=>T[_0x1438b6(0x6ea)](_0x21c23e)});_0x55d68b[_0x1438b6(0x1b0)](0xc8)['json'](_0x4cd34e);})[_0x360930(0x750)](this[_0x360930(0x380)](_0x360930(0x652)),..._0x26ef86,async(_0xee3cac,_0x47d83b)=>{const _0x41f92a=_0x360930;f[_0x41f92a(0x6db)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x5c68f3=await this['dataValidate']({'request':_0xee3cac,'schema':M,'ClassRef':E,'execute':_0x247c88=>T[_0x41f92a(0x6ea)](_0x247c88)});_0x47d83b[_0x41f92a(0x1b0)](0xc8)[_0x41f92a(0x6d7)](_0x5c68f3);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x3da)),..._0x26ef86,async(_0x2a636c,_0x2aedd4)=>{const _0x5d6c7f=_0x360930;let _0x5ebcdb=_0x2a636c[_0x5d6c7f(0x55f)];f[_0x5d6c7f(0x6db)](_0x5d6c7f(0x3e0)),f['verbose'](_0x5d6c7f(0x37a)),f[_0x5d6c7f(0x6db)](_0x2a636c[_0x5d6c7f(0x55f)]);let _0x598e29=await this[_0x5d6c7f(0x266)]({'request':_0x2a636c,'schema':M,'ClassRef':E,'execute':_0xa2c0dd=>T['updateAgent'](_0xa2c0dd,_0x5ebcdb)});_0x2aedd4[_0x5d6c7f(0x1b0)](0xc8)[_0x5d6c7f(0x6d7)](_0x598e29);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x3b4)),..._0x26ef86,async(_0x18627b,_0x31f70b)=>{const _0x15ba1b=_0x360930;let _0x30a097=_0x18627b[_0x15ba1b(0x55f)];f[_0x15ba1b(0x6db)](_0x15ba1b(0x2de)),f[_0x15ba1b(0x6db)](_0x15ba1b(0x37a)),f['verbose'](_0x18627b[_0x15ba1b(0x55f)]);let _0x20b294=await this[_0x15ba1b(0x266)]({'request':_0x18627b,'schema':M,'ClassRef':E,'execute':_0x4c69f0=>T[_0x15ba1b(0x3b4)](_0x4c69f0,_0x30a097)});_0x31f70b[_0x15ba1b(0x1b0)](0xc8)[_0x15ba1b(0x6d7)](_0x20b294);})[_0x360930(0x2ad)](this['routerPath'](_0x360930(0x24f)),..._0x26ef86,async(_0xb9dc8,_0x322a99)=>{const _0x31bfb1=_0x360930;let _0xe373e=_0xb9dc8[_0x31bfb1(0x55f)];f[_0x31bfb1(0x6db)](_0x31bfb1(0x2fe)),f['verbose'](_0x31bfb1(0x37a)),f['verbose'](_0xb9dc8['body']);let _0x68208d=await this[_0x31bfb1(0x266)]({'request':_0xb9dc8,'schema':M,'ClassRef':E,'execute':_0x586066=>T[_0x31bfb1(0x24f)](_0x586066,_0xe373e)});_0x322a99[_0x31bfb1(0x1b0)](0xc8)[_0x31bfb1(0x6d7)](_0x68208d);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x13b)),..._0x26ef86,async(_0x24d3b1,_0x4309d4)=>{const _0x22f67c=_0x360930;let _0x62e71d=_0x24d3b1[_0x22f67c(0x55f)];f[_0x22f67c(0x6db)](_0x22f67c(0x4b1)),f['verbose']('request\x20body:\x20'),f[_0x22f67c(0x6db)](_0x24d3b1[_0x22f67c(0x55f)]);let _0x552a98=await this['dataValidate']({'request':_0x24d3b1,'schema':M,'ClassRef':E,'execute':_0x515270=>T[_0x22f67c(0x13b)](_0x515270,_0x62e71d)});_0x4309d4['status'](0xc8)[_0x22f67c(0x6d7)](_0x552a98);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x3c4)),..._0x26ef86,async(_0x4ea933,_0x8a85db)=>{const _0x54ccad=_0x360930;let _0xd0e612=_0x4ea933[_0x54ccad(0x55f)];f[_0x54ccad(0x6db)](_0x54ccad(0x4ec)),f['verbose'](_0x54ccad(0x37a)),f[_0x54ccad(0x6db)](_0x4ea933['body']);let _0x10fad4=await this[_0x54ccad(0x266)]({'request':_0x4ea933,'schema':M,'ClassRef':E,'execute':_0x524cd4=>T['fetchConversation'](_0x524cd4,_0xd0e612)});_0x8a85db[_0x54ccad(0x1b0)](0xc8)[_0x54ccad(0x6d7)](_0x10fad4);})['post'](this[_0x360930(0x380)]('editConversation'),..._0x26ef86,async(_0x287d31,_0x2d808d)=>{const _0x4a237d=_0x360930;let _0xe18191=_0x287d31[_0x4a237d(0x55f)];f['verbose']('request\x20received\x20in\x20editConversation'),f[_0x4a237d(0x6db)](_0x4a237d(0x37a)),f[_0x4a237d(0x6db)](_0x287d31[_0x4a237d(0x55f)]);let _0x14c362=await this[_0x4a237d(0x266)]({'request':_0x287d31,'schema':M,'ClassRef':E,'execute':_0x2dc80c=>T['editConversation'](_0x2dc80c,_0xe18191)});_0x2d808d[_0x4a237d(0x1b0)](0xc8)['json'](_0x14c362);})[_0x360930(0x2d3)](this['routerPath'](_0x360930(0x11f)),..._0x26ef86,async(_0x3dfdf1,_0x4abbd9)=>{const _0x1305c0=_0x360930;let _0x58ea25=_0x3dfdf1[_0x1305c0(0x55f)];f[_0x1305c0(0x6db)]('request\x20received\x20in\x20deleteConversation'),f[_0x1305c0(0x6db)]('request\x20body:\x20'),f[_0x1305c0(0x6db)](_0x3dfdf1[_0x1305c0(0x55f)]);let _0x3cad5c=await this['dataValidate']({'request':_0x3dfdf1,'schema':M,'ClassRef':E,'execute':_0x12dc04=>T['deleteConversation'](_0x12dc04,_0x58ea25)});_0x4abbd9['status'](0xc8)[_0x1305c0(0x6d7)](_0x3cad5c);})[_0x360930(0x2ad)](this['routerPath'](_0x360930(0x387)),..._0x26ef86,async(_0x534412,_0x183a4d)=>{const _0x2af9f4=_0x360930;let _0x2258f8=_0x534412[_0x2af9f4(0x55f)];f[_0x2af9f4(0x6db)](_0x2af9f4(0x4e6)),f[_0x2af9f4(0x6db)]('request\x20body:\x20'),f['verbose'](_0x534412['body']);let _0x44ffca=await this['dataValidate']({'request':_0x534412,'schema':M,'ClassRef':E,'execute':_0x44b873=>T[_0x2af9f4(0x591)](_0x44b873,_0x2258f8)});_0x183a4d['status'](0xc8)['json'](_0x44ffca);})[_0x360930(0x2ad)](this[_0x360930(0x380)]('editflow'),..._0x26ef86,async(_0x4bccae,_0x2c1ff0)=>{const _0x40a258=_0x360930;let _0x2fff2e=_0x4bccae[_0x40a258(0x55f)];f['verbose'](_0x40a258(0x64b)),f[_0x40a258(0x6db)](_0x40a258(0x37a)),f['verbose'](_0x4bccae['body']),delete _0x2fff2e[_0x40a258(0x65a)],delete _0x2fff2e[_0x40a258(0x5f2)],delete _0x2fff2e[_0x40a258(0x76c)],delete _0x2fff2e[_0x40a258(0x596)];let _0x1150aa=await this[_0x40a258(0x266)]({'request':_0x4bccae,'schema':M,'ClassRef':E,'execute':_0x38ba58=>T[_0x40a258(0x414)](_0x38ba58,_0x2fff2e)});_0x2c1ff0[_0x40a258(0x1b0)](0xc8)[_0x40a258(0x6d7)](_0x1150aa);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x4ca)),..._0x26ef86,async(_0x1f2e3b,_0x469763)=>{const _0x288d7a=_0x360930;let _0x278fd7=_0x1f2e3b[_0x288d7a(0x55f)];f['verbose'](_0x288d7a(0x64b)),f[_0x288d7a(0x6db)](_0x288d7a(0x37a)),f[_0x288d7a(0x6db)](_0x1f2e3b[_0x288d7a(0x55f)]);let _0x4c75c5=await this[_0x288d7a(0x266)]({'request':_0x1f2e3b,'schema':M,'ClassRef':E,'execute':_0x41d8fb=>T[_0x288d7a(0x5fe)](_0x41d8fb,_0x278fd7)});_0x469763[_0x288d7a(0x1b0)](0xc8)[_0x288d7a(0x6d7)](_0x4c75c5);})[_0x360930(0x2ad)](this[_0x360930(0x380)]('editflowreply'),..._0x26ef86,async(_0x446e9b,_0x43b6ed)=>{const _0x432200=_0x360930;let _0x28083d=_0x446e9b[_0x432200(0x55f)];f[_0x432200(0x6db)](_0x432200(0x64b)),f[_0x432200(0x6db)]('request\x20body:\x20'),f['verbose'](_0x446e9b['body']);let _0x51cb8b=await this[_0x432200(0x266)]({'request':_0x446e9b,'schema':M,'ClassRef':E,'execute':_0x375c43=>T[_0x432200(0x725)](_0x375c43,_0x28083d)});_0x43b6ed[_0x432200(0x1b0)](0xc8)[_0x432200(0x6d7)](_0x51cb8b);})['post'](this[_0x360930(0x380)](_0x360930(0x4fb)),..._0x26ef86,async(_0x122d0f,_0x17803c)=>{const _0x38e711=_0x360930;let _0x2f6c54=_0x122d0f['body'];f[_0x38e711(0x6db)]('request\x20received\x20in\x20editFlow'),f['verbose']('request\x20body:\x20'),f['verbose'](_0x122d0f['body']);let _0x3c0e0e=await this['dataValidate']({'request':_0x122d0f,'schema':M,'ClassRef':E,'execute':_0xdfabdc=>T[_0x38e711(0x58b)](_0xdfabdc,_0x2f6c54)});_0x17803c[_0x38e711(0x1b0)](0xc8)[_0x38e711(0x6d7)](_0x3c0e0e);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x726)),..._0x26ef86,async(_0x23af35,_0x3dce99)=>{const _0x4435a4=_0x360930;let _0x55e06f=_0x23af35[_0x4435a4(0x55f)];f[_0x4435a4(0x6db)](_0x4435a4(0x559)),f[_0x4435a4(0x6db)](_0x4435a4(0x37a)),f[_0x4435a4(0x6db)](_0x23af35[_0x4435a4(0x55f)]);let _0x395e9d=await this[_0x4435a4(0x266)]({'request':_0x23af35,'schema':M,'ClassRef':E,'execute':_0xfd7b3c=>T['editFlowGroup'](_0xfd7b3c,_0x55e06f)});_0x3dce99[_0x4435a4(0x1b0)](0xc8)[_0x4435a4(0x6d7)](_0x395e9d);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x301)),..._0x26ef86,async(_0xc1a94d,_0x368b86)=>{const _0x593dc4=_0x360930;let _0x47c0cd=_0xc1a94d[_0x593dc4(0x55f)];f['verbose'](_0x593dc4(0x61d)),f['verbose'](_0x593dc4(0x37a)),f[_0x593dc4(0x6db)](_0xc1a94d[_0x593dc4(0x55f)]);let _0x526b23=await this[_0x593dc4(0x266)]({'request':_0xc1a94d,'schema':M,'ClassRef':E,'execute':_0x1e1bc4=>T[_0x593dc4(0x62c)](_0x1e1bc4,_0x47c0cd)});_0x368b86[_0x593dc4(0x1b0)](0xc8)[_0x593dc4(0x6d7)](_0x526b23);})[_0x360930(0x2ad)](this[_0x360930(0x380)]('editflowvariable'),..._0x26ef86,async(_0x28c00a,_0x320dc4)=>{const _0x34d5bc=_0x360930;let _0x1530ba=_0x28c00a[_0x34d5bc(0x55f)];f[_0x34d5bc(0x6db)](_0x34d5bc(0x497)),f[_0x34d5bc(0x6db)](_0x34d5bc(0x37a)),f['verbose'](_0x28c00a[_0x34d5bc(0x55f)]);let _0x5d2f42=await this['dataValidate']({'request':_0x28c00a,'schema':M,'ClassRef':E,'execute':_0x27b12d=>T[_0x34d5bc(0x1de)](_0x27b12d,_0x1530ba)});_0x320dc4['status'](0xc8)[_0x34d5bc(0x6d7)](_0x5d2f42);})[_0x360930(0x2ad)](this[_0x360930(0x380)](_0x360930(0x14f)),..._0x26ef86,async(_0xba4dfa,_0x207f01)=>{const _0x9753fc=_0x360930;let _0x137a3b=_0xba4dfa[_0x9753fc(0x55f)];f['verbose'](_0x9753fc(0x584)),f[_0x9753fc(0x6db)](_0x9753fc(0x37a)),f['verbose'](_0xba4dfa[_0x9753fc(0x55f)]);let _0x59057c=await this[_0x9753fc(0x266)]({'request':_0xba4dfa,'schema':M,'ClassRef':E,'execute':_0x41a846=>T[_0x9753fc(0x341)](_0x41a846,_0x137a3b)});_0x207f01[_0x9753fc(0x1b0)](0xc8)[_0x9753fc(0x6d7)](_0x59057c);})[_0x360930(0x2d3)](this[_0x360930(0x380)](_0x360930(0x2d5)),..._0x26ef86,async(_0x3a1ca2,_0x465646)=>{const _0x4e9b6a=_0x360930;let _0x2732b5=_0x3a1ca2[_0x4e9b6a(0x55f)];f[_0x4e9b6a(0x6db)](_0x4e9b6a(0x651)),f['verbose'](_0x4e9b6a(0x37a)),f[_0x4e9b6a(0x6db)](_0x3a1ca2[_0x4e9b6a(0x55f)]);let _0x5061f6=await this[_0x4e9b6a(0x266)]({'request':_0x3a1ca2,'schema':M,'ClassRef':E,'execute':_0x473f12=>T[_0x4e9b6a(0x395)](_0x473f12,_0x2732b5)});_0x465646[_0x4e9b6a(0x1b0)](0xc8)[_0x4e9b6a(0x6d7)](_0x5061f6);})[_0x360930(0x750)](this[_0x360930(0x380)]('allflows'),..._0x26ef86,async(_0x4e2f13,_0x56d8b0)=>{const _0x564910=_0x360930;f[_0x564910(0x6db)]('request\x20received\x20in\x20allFlows');let _0x486dc5=await this[_0x564910(0x266)]({'request':_0x4e2f13,'schema':M,'ClassRef':E,'execute':_0x1a00a5=>T[_0x564910(0x1da)](_0x1a00a5)});_0x56d8b0[_0x564910(0x1b0)](0xc8)[_0x564910(0x6d7)](_0x486dc5);});}},co=R(require(a0_0x56f010(0x248))),X={};function ro(_0x594011,_0x32145d,_0x370ee0,_0x38f701){X[_0x594011]||(X[_0x594011]={}),X[_0x594011][_0x32145d]={'id':_0x32145d,'response':_0x370ee0,'events':_0x38f701};}function io(_0x3497b0,_0x473a29){!X[_0x3497b0]||!X[_0x3497b0][_0x473a29]||delete X[_0x3497b0][_0x473a29];}function J(_0x11e5c5,_0x35397e,_0x560f1e){const _0x4e376c=a0_0x56f010;if(!X[_0x11e5c5])return;let _0x48bfd7=_0x4e376c(0x1d5)+JSON[_0x4e376c(0x1b7)](_0x560f1e)+'\x0a\x0a';Object[_0x4e376c(0x41a)](X[_0x11e5c5])[_0x4e376c(0x147)](_0x3ce637=>{const _0x6258d2=_0x4e376c;_0x3ce637[_0x6258d2(0x7ac)][_0x6258d2(0x246)](_0x35397e)&&_0x3ce637[_0x6258d2(0x3cc)][_0x6258d2(0x1e3)](_0x48bfd7);});}function no(){const _0x518af1=a0_0x56f010;let _0x3594ef={};for(let _0x1d2db2 in X)_0x3594ef[_0x1d2db2]=Object[_0x518af1(0x41a)](X[_0x1d2db2])[_0x518af1(0x1ef)](_0x2d2adf=>({'id':_0x2d2adf['id'],'events':_0x2d2adf[_0x518af1(0x7ac)]}));return _0x3594ef;}var lo=require(a0_0x56f010(0x54c)),ws=require(a0_0x56f010(0x5c5)),fs=class{},cr=new ws[(a0_0x56f010(0x53b))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0x56f010(0x53b))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x56f010(0x645)](fs['name'],lr,a0_0x56f010(0x427)),ur=co['default'][a0_0x56f010(0x4c2)](__dirname,a0_0x56f010(0x202)),vt=(0x0,Mt[a0_0x56f010(0x3fc)])(),dr=b[a0_0x56f010(0x750)](a0_0x56f010(0x3d7))[a0_0x56f010(0x1f9)],te=[ma,fa,ba[dr]];vt[a0_0x56f010(0x4e3)](a0_0x56f010(0x614),Mt['default'][a0_0x56f010(0x65d)](ur))[a0_0x56f010(0x750)](a0_0x56f010(0x655),async(_0xdc06e7,_0x4d523d)=>{const _0x3f37e5=a0_0x56f010;console['log']('bateu\x20events');let _0x3fafcc=_0xdc06e7[_0x3f37e5(0x1c7)][_0x3f37e5(0x302)],_0x1fcb5e=(_0xdc06e7[_0x3f37e5(0x335)]['events']||'')['split'](','),_0x83064=(0x0,lo['v4'])();console['log'](_0x3f37e5(0x351),_0x3fafcc),console['log'](_0x3f37e5(0x65c),_0x1fcb5e);let _0x254b76=b[_0x3f37e5(0x750)]('AUTHENTICATION')[_0x3f37e5(0x78a)],_0x18b2b0=_0xdc06e7[_0x3f37e5(0x335)][_0x3f37e5(0x5d5)];if(console[_0x3f37e5(0x125)](_0x3f37e5(0x70c),_0x18b2b0),_0x254b76[_0x3f37e5(0x35d)]!==_0x18b2b0){console[_0x3f37e5(0x125)](_0x3f37e5(0x617));try{let _0x2c14f0=await ce[_0x3f37e5(0x435)]['find'](_0x3fafcc);if(console[_0x3f37e5(0x125)](_0x3f37e5(0x23d),_0x2c14f0),!_0x2c14f0||_0x2c14f0[_0x3f37e5(0x5d5)]!==_0x18b2b0)return console[_0x3f37e5(0x125)](_0x3f37e5(0x45e)),_0x4d523d['status'](0x191)['send'](_0x3f37e5(0x4fc));}catch(_0x58a696){return console['error'](_0x3f37e5(0x522),_0x58a696),_0x4d523d[_0x3f37e5(0x1b0)](0x191)[_0x3f37e5(0x6d9)](_0x3f37e5(0x75a));}}if(!await We(_0x3fafcc))return _0x4d523d[_0x3f37e5(0x1b0)](0x194)[_0x3f37e5(0x6d9)](_0x3f37e5(0x4a8));_0x4d523d[_0x3f37e5(0x5ac)](_0x3f37e5(0x6fa),_0x3f37e5(0x6c8)),_0x4d523d[_0x3f37e5(0x5ac)](_0x3f37e5(0x48a),_0x3f37e5(0x330)),_0x4d523d[_0x3f37e5(0x5ac)]('Connection','keep-alive'),_0x4d523d['flushHeaders']();let _0x547748=_0x3f37e5(0x1d5)+JSON[_0x3f37e5(0x1b7)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x4d523d['write'](_0x547748),ro(_0x3fafcc,_0x83064,_0x4d523d,_0x1fcb5e),_0xdc06e7['on'](_0x3f37e5(0x4b4),()=>{const _0x210780=_0x3f37e5;console[_0x210780(0x125)](_0x210780(0x372)+_0x3fafcc),io(_0x3fafcc,_0x83064);});}),vt[a0_0x56f010(0x750)](a0_0x56f010(0x5b4),(_0x17d2e4,_0x14e863)=>{const _0x3c2ddc=a0_0x56f010;let _0x4d7689=no();_0x14e863[_0x3c2ddc(0x6d7)](_0x4d7689);})[a0_0x56f010(0x750)]('/',(_0x288910,_0x401887)=>{const _0x4d51ac=a0_0x56f010;let _0x2fdbd1=b['get'](_0x4d51ac(0x1ec)),_0x541bcc=_0x2fdbd1&&_0x2fdbd1['FULLCHAIN'][_0x4d51ac(0x4bc)]('/')[0x4];if(_0x541bcc){let _0x374aab=encodeURIComponent('https://'+_0x541bcc);_0x401887[_0x4d51ac(0x5a0)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x374aab);}else _0x401887[_0x4d51ac(0x5a0)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x56f010(0x67b)](a0_0x56f010(0x761),...te,async(_0x17aaed,_0x2c69ed)=>{const _0x3014ba=a0_0x56f010;try{console['log'](_0x3014ba(0x45c)),_0x2c69ed[_0x3014ba(0x1b0)](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x2c69ed['on'](_0x3014ba(0x2c3),()=>process[_0x3014ba(0x762)](0x0));}catch(_0x1fa59a){console['error'](_0x3014ba(0x2af),_0x1fa59a),_0x2c69ed[_0x3014ba(0x1b0)](0x1f4)['json']({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})['put'](a0_0x56f010(0x23c),...te,async(_0x5188ce,_0x1b9f57)=>{const _0x94da1=a0_0x56f010;try{let _0x31ed53=_0x5188ce['body'];await we[_0x94da1(0x4c4)]({},{'$set':_0x31ed53},{'upsert':!0x0});let _0x2ab8b0=await we[_0x94da1(0x2a7)]();_0x1b9f57['json'](_0x2ab8b0);}catch(_0x3b4e78){_0x1b9f57[_0x94da1(0x1b0)](0x190)[_0x94da1(0x6d9)](_0x3b4e78[_0x94da1(0x1a5)]);}})[a0_0x56f010(0x750)](a0_0x56f010(0x23c),...te,async(_0x1bbdc6,_0x1121f9)=>{const _0x1f93b5=a0_0x56f010;try{let _0x7ada96=await we[_0x1f93b5(0x2a7)]();if(!_0x7ada96)return _0x1121f9['json']({});_0x1121f9['json'](_0x7ada96);}catch(_0x5d492b){_0x1121f9['status'](0x1f4)['send'](_0x5d492b[_0x1f93b5(0x1a5)]);}})['use'](a0_0x56f010(0x2b5),new ct(b,...te)[a0_0x56f010(0x402)])[a0_0x56f010(0x4e3)]('/message',new bt(...te)[a0_0x56f010(0x402)])[a0_0x56f010(0x4e3)](a0_0x56f010(0x5ce),new Xe(...te)[a0_0x56f010(0x402)])[a0_0x56f010(0x4e3)](a0_0x56f010(0x187),new nt(...te)[a0_0x56f010(0x402)])['use']('/webhook',new Et(...te)[a0_0x56f010(0x402)])[a0_0x56f010(0x4e3)](a0_0x56f010(0x3d1),new Ct(...te)[a0_0x56f010(0x402)]);var m=class{constructor(..._0x37517f){const _0x2113ca=a0_0x56f010;throw{'status':0x190,'error':_0x2113ca(0x1b9),'message':_0x37517f[_0x2113ca(0x17a)]>0x0?_0x37517f:void 0x0};}},ee=class{constructor(..._0x39f5d7){const _0x530cd0=a0_0x56f010;throw{'status':0x191,'error':_0x530cd0(0x322),'message':_0x39f5d7[_0x530cd0(0x17a)]>0x0?_0x39f5d7:void 0x0};}},K=class{constructor(..._0x1bffbf){const _0x3c8d25=a0_0x56f010;throw{'status':0x193,'error':'Forbidden','message':_0x1bffbf[_0x3c8d25(0x17a)]>0x0?_0x1bffbf:void 0x0};}},j=class{constructor(..._0x50c7c1){throw{'status':0x194,'error':'Not\x20Found','message':_0x50c7c1['length']>0x0?_0x50c7c1:void 0x0};}},O=class{constructor(..._0x2b5e7b){const _0x2b8cc4=a0_0x56f010;throw{'status':0x1f4,'error':_0x2b8cc4(0x31b),'message':_0x2b5e7b[_0x2b8cc4(0x17a)]>0x0?_0x2b5e7b:void 0x0};}},ue=require(a0_0x56f010(0x22d));async function ys(_0x45fcc7){const _0x2687e1=a0_0x56f010;let _0x36452b=new v(ys[_0x2687e1(0x3c0)]),_0x3638ba=N[_0x2687e1(0x667)](),_0x1b79d2=_0x3638ba['db'](b[_0x2687e1(0x750)](_0x2687e1(0x792))[_0x2687e1(0x738)]['DB_PREFIX_NAME']+_0x2687e1(0x253))[_0x2687e1(0x5aa)](_0x45fcc7),_0x1bb42c=async(_0x351cb0,_0x2f0a80)=>{const _0x3ef320=_0x2687e1;try{return await _0x3638ba[_0x3ef320(0x2ee)](),await _0x1b79d2[_0x3ef320(0x167)]({'_id':_0x2f0a80},JSON[_0x3ef320(0x2cd)](JSON[_0x3ef320(0x1b7)](_0x351cb0,ue[_0x3ef320(0x640)][_0x3ef320(0x6f7)])),{'upsert':!0x0});}catch{}},_0xb9a7c9=async _0x5832a1=>{const _0x3d6416=_0x2687e1;try{await _0x3638ba[_0x3d6416(0x2ee)]();let _0x153457=await _0x1b79d2['findOne']({'_id':_0x5832a1}),_0x28a2e9=JSON['stringify'](_0x153457);return JSON[_0x3d6416(0x2cd)](_0x28a2e9,ue[_0x3d6416(0x640)][_0x3d6416(0x1ea)]);}catch{}},_0x265fa3=async _0x1d5947=>{const _0xaf2ea7=_0x2687e1;try{return await _0x3638ba[_0xaf2ea7(0x2ee)](),await _0x1b79d2[_0xaf2ea7(0x50d)]({'_id':_0x1d5947});}catch{}},_0x395bbb=await _0xb9a7c9('creds')||(0x0,ue[_0x2687e1(0x304)])();return{'state':{'creds':_0x395bbb,'keys':{'get':async(_0xcb1a6f,_0x5703f4)=>{const _0x330691=_0x2687e1;let _0x2149e1={};return await Promise[_0x330691(0x78d)](_0x5703f4['map'](async _0x3d0db1=>{const _0x5e2344=_0x330691;let _0x115764=await _0xb9a7c9(_0xcb1a6f+'-'+_0x3d0db1);_0xcb1a6f===_0x5e2344(0x624)&&_0x115764&&(_0x115764=ue[_0x5e2344(0x251)][_0x5e2344(0x230)][_0x5e2344(0x3a7)][_0x5e2344(0x5c0)](_0x115764)),_0x2149e1[_0x3d0db1]=_0x115764;})),_0x2149e1;},'set':async _0x261188=>{let _0x1f2519=[];for(let _0x589a1d in _0x261188)for(let _0x5689f2 in _0x261188[_0x589a1d]){let _0x2fab56=_0x261188[_0x589a1d][_0x5689f2],_0x22bcb1=_0x589a1d+'-'+_0x5689f2;_0x1f2519['push'](_0x2fab56?_0x1bb42c(_0x2fab56,_0x22bcb1):_0x265fa3(_0x22bcb1));}await Promise['all'](_0x1f2519);}}},'saveCreds':async()=>_0x1bb42c(_0x395bbb,'creds')};}var Es=R(require(a0_0x56f010(0x25c))),Cs=R(require('node-cache')),Tt=require(a0_0x56f010(0x22d)),uo=require('@redis/client'),Rt=require(a0_0x56f010(0x22d)),Nt;function pr(_0x40caeb){const _0x2637a3=a0_0x56f010;return Nt||(Nt=(0x0,uo['createClient'])({'url':_0x40caeb['URI']}),Nt[_0x2637a3(0x2ee)]()),Nt;}var oe=class c{constructor(_0x21e4ab,_0x5a145b){const _0x48ff29=a0_0x56f010;this[_0x48ff29(0x156)]=_0x21e4ab,this['instanceName']=_0x5a145b,this[_0x48ff29(0x186)]=new v(c['name']),this[_0x48ff29(0x733)]=pr(_0x21e4ab);}set[a0_0x56f010(0x2ae)](_0x36c679){const _0xcc6154=a0_0x56f010;this[_0xcc6154(0x5cd)]=_0x36c679;}async[a0_0x56f010(0x2e9)](){const _0x389d2a=a0_0x56f010;try{return await this[_0x389d2a(0x733)][_0x389d2a(0x4c0)]([_0x389d2a(0x37c),this[_0x389d2a(0x156)]['PREFIX_KEY']+':*']);}catch(_0x3a31a7){this[_0x389d2a(0x186)][_0x389d2a(0x4f8)](_0x3a31a7);}}async[a0_0x56f010(0x1cb)](_0xec8ab4,_0x5f5272){const _0x36640d=a0_0x56f010;try{let _0x57e16=JSON[_0x36640d(0x1b7)](_0x5f5272,Rt[_0x36640d(0x640)][_0x36640d(0x6f7)]);return await this['client'][_0x36640d(0x5ca)](this['redisEnv'][_0x36640d(0x47b)]+':'+this[_0x36640d(0x5cd)],_0xec8ab4,_0x57e16);}catch(_0x4e4650){this[_0x36640d(0x186)][_0x36640d(0x4f8)](_0x4e4650);}}async[a0_0x56f010(0x60d)](){const _0x464363=a0_0x56f010;try{let _0x4b43b7=await this[_0x464363(0x733)][_0x464363(0x199)](this['redisEnv'][_0x464363(0x47b)]+':'+this['instanceName']);if(_0x4b43b7){for(let _0x3037a5 in _0x4b43b7)Object[_0x464363(0x68b)][_0x464363(0x204)][_0x464363(0x38b)](_0x4b43b7,_0x3037a5)&&(_0x4b43b7[_0x3037a5]=JSON[_0x464363(0x2cd)](_0x4b43b7[_0x3037a5],Rt['BufferJSON'][_0x464363(0x1ea)]));return _0x4b43b7;}}catch(_0x1b3978){this[_0x464363(0x186)]['error'](_0x1b3978);}}async[a0_0x56f010(0x1d7)](_0x2d9d96){const _0x1165c6=a0_0x56f010;try{let _0x17bea1=await this['client']['hGet'](this[_0x1165c6(0x156)]['PREFIX_KEY']+':'+this[_0x1165c6(0x5cd)],_0x2d9d96);if(_0x17bea1)return JSON['parse'](_0x17bea1,Rt[_0x1165c6(0x640)][_0x1165c6(0x1ea)]);}catch(_0xe3959e){this['logger'][_0x1165c6(0x4f8)](_0xe3959e);}}async[a0_0x56f010(0x71d)](_0xe91593){const _0x4be1b6=a0_0x56f010;try{return await this[_0x4be1b6(0x733)][_0x4be1b6(0x648)](this[_0x4be1b6(0x156)][_0x4be1b6(0x47b)]+':'+this['instanceName'],_0xe91593);}catch(_0x4305e3){this[_0x4be1b6(0x186)][_0x4be1b6(0x4f8)](_0x4305e3);}}async['delAll'](_0x27d4fb){const _0x51f1a7=a0_0x56f010;try{return await this[_0x51f1a7(0x733)][_0x51f1a7(0x63b)](_0x27d4fb||this[_0x51f1a7(0x156)]['PREFIX_KEY']+':'+this[_0x51f1a7(0x5cd)]);}catch(_0xe1daf){this[_0x51f1a7(0x186)][_0x51f1a7(0x4f8)](_0xe1daf);}}};async function bs(_0x26323f,_0x68c3cd){const _0x5583ff=a0_0x56f010;let _0x55702c=new v(bs[_0x5583ff(0x3c0)]),_0x330649=new oe(_0x26323f,_0x68c3cd),_0x5126ea=async(_0x281e1e,_0x241c1f)=>{const _0x127bed=_0x5583ff;try{return await _0x330649['writeData'](_0x241c1f,_0x281e1e);}catch(_0x3b9e25){return _0x55702c[_0x127bed(0x4f8)]({'localError':_0x127bed(0x1cb),'error':_0x3b9e25});}},_0x30516e=async _0x7d2d3b=>{const _0x1da83e=_0x5583ff;try{return await _0x330649[_0x1da83e(0x1d7)](_0x7d2d3b);}catch(_0x592662){_0x55702c[_0x1da83e(0x4f8)]({'readData':_0x1da83e(0x1cb),'error':_0x592662});return;}},_0xb2f276=async _0xac6bc4=>{const _0x6eb205=_0x5583ff;try{return await _0x330649['removeData'](_0xac6bc4);}catch(_0x34ceec){_0x55702c['error']({'readData':_0x6eb205(0x71d),'error':_0x34ceec});}},_0x2430c2=await _0x30516e(_0x5583ff(0x60b))||(0x0,Tt[_0x5583ff(0x304)])();return{'state':{'creds':_0x2430c2,'keys':{'get':async(_0x107f6a,_0x3c32a7)=>{const _0x55194f=_0x5583ff;let _0x44b420={};return await Promise[_0x55194f(0x78d)](_0x3c32a7[_0x55194f(0x1ef)](async _0x13de41=>{const _0x3c88a1=_0x55194f;let _0x46998b=await _0x30516e(_0x107f6a+'-'+_0x13de41);_0x107f6a===_0x3c88a1(0x624)&&_0x46998b&&(_0x46998b=Tt[_0x3c88a1(0x251)][_0x3c88a1(0x230)]['AppStateSyncKeyData'][_0x3c88a1(0x5c0)](_0x46998b)),_0x44b420[_0x13de41]=_0x46998b;})),_0x44b420;},'set':async _0x4b9c97=>{const _0x304772=_0x5583ff;let _0x1587d2=[];for(let _0x2141f0 in _0x4b9c97)for(let _0xf48ba in _0x4b9c97[_0x2141f0]){let _0x2803b4=_0x4b9c97[_0x2141f0][_0xf48ba],_0xc3ab6f=_0x2141f0+'-'+_0xf48ba;_0x1587d2[_0x304772(0x143)](_0x2803b4?await _0x5126ea(_0x2803b4,_0xc3ab6f):await _0xb2f276(_0xc3ab6f));}await Promise[_0x304772(0x78d)](_0x1587d2);}}},'saveCreds':async()=>await _0x5126ea(_0x2430c2,'creds')};}var L=R(require('fs')),Me=require(a0_0x56f010(0x54c)),xt=R(require(a0_0x56f010(0x173))),Dt=require(a0_0x56f010(0x6a8)),gr=a0_0x56f010(0x6f9)[a0_0x56f010(0x7a3)](),At=gr['split']('\x0a')[a0_0x56f010(0x1ef)](_0x1860c9=>{let _0x5258ec=_0x1860c9['split'](':');return{'host':_0x5258ec[0x0],'port':_0x5258ec[0x1],'username':_0x5258ec[0x2],'password':_0x5258ec[0x3],'protocol':'http'};});function po(_0x427c1a){const _0x47d3be=a0_0x56f010;let _0x475a18=At[_0x47d3be(0x766)](_0x58d135=>_0x58d135[_0x47d3be(0x771)]===_0x427c1a);return _0x475a18||null;}function go(){const _0x541c2b=a0_0x56f010;if(At[_0x541c2b(0x17a)]===0x0)return null;let _0x8594ed=Math[_0x541c2b(0x716)](Math[_0x541c2b(0x2f6)]()*At[_0x541c2b(0x17a)]);return At[_0x8594ed];}function ho(_0x3b50ad){const _0x430837=a0_0x56f010;let _0x5e9495=_0x4a04c7=>typeof _0x4a04c7==_0x430837(0x140)&&_0x4a04c7[_0x430837(0x17a)]>0x0,_0xe3b170=_0x1eccf2=>{let _0x260aa6=parseInt(_0x1eccf2,0xa);return!isNaN(_0x260aa6)&&_0x260aa6>0x0&&_0x260aa6<=0xffff;},_0x54e7b1=_0x3e503d=>typeof _0x3e503d==_0x430837(0x140)&&_0x3e503d[_0x430837(0x17a)]>0x0;return _0x3b50ad&&_0x5e9495(_0x3b50ad[_0x430837(0x771)])&&_0xe3b170(_0x3b50ad[_0x430837(0x456)])&&_0x54e7b1(_0x3b50ad[_0x430837(0x2df)])&&_0x54e7b1(_0x3b50ad[_0x430837(0x47c)])&&(_0x3b50ad['protocol']===_0x430837(0x5a7)||_0x3b50ad[_0x430837(0x6a4)]===_0x430837(0x325));}var Eo=a0_0x56f010(0x740),Ms,re=null,mo=null,He=null,hr=0x3,mr=null;async function fr(){const _0x137de5=a0_0x56f010;let _0x18bb39=await we[_0x137de5(0x2a7)]();re=_0x18bb39?.[_0x137de5(0x5cf)]??null,mr=_0x18bb39?.[_0x137de5(0x4ea)]??null,Eo=_0x18bb39?.[_0x137de5(0x765)]??_0x137de5(0x740),Ms=_0x18bb39?.[_0x137de5(0x303)]??vs??_0x137de5(0x3aa),console['log'](_0x137de5(0x1d9)),console[_0x137de5(0x125)](_0x18bb39);}async function wr(){await fr();}wr();function P(_0xb5368f){const _0x384685=a0_0x56f010;if(_0xb5368f[_0x384685(0x65e)]&&_0xb5368f[_0x384685(0x65e)][_0x384685(0x1a5)])return P(_0xb5368f[_0x384685(0x65e)]['message']);if(_0xb5368f[_0x384685(0x2fa)]||_0xb5368f[_0x384685(0x3f4)]){let _0x52c8d5=_0xb5368f['viewOnceMessage']?_0xb5368f['viewOnceMessage'][_0x384685(0x1a5)]:_0xb5368f['viewOnceMessageV2'][_0x384685(0x1a5)];if(_0x52c8d5)return(0x0,y[_0x384685(0x14a)])(_0x52c8d5);}return _0xb5368f[_0x384685(0x212)]?_0x384685(0x212):_0xb5368f[_0x384685(0x12a)]?'pollCreationMessageV2':_0xb5368f[_0x384685(0x3e5)]?_0x384685(0x3e5):(0x0,y['getContentType'])(_0xb5368f);}var fo={},ye=class c{constructor(_0x159b4d,_0x57369e,_0x1668a4){const _0x487b97=a0_0x56f010;this[_0x487b97(0x663)]=_0x159b4d,this[_0x487b97(0x519)]=_0x57369e,this['repository']=_0x1668a4,this['AutomateSystem']=null,this[_0x487b97(0x186)]=new v(c[_0x487b97(0x3c0)]),this[_0x487b97(0x302)]={},this['localWebhook']={},this['stateConnection']={'state':_0x487b97(0x4b4)},this['storePath']=(0x0,F['join'])(ae,_0x487b97(0x202)),this['msgRetryCounterCache']=new Cs[(_0x487b97(0x34a))](),this['userDevicesCache']=new Cs['default'](),this[_0x487b97(0x211)]=!0x1,this[_0x487b97(0x2a1)]={'status.instance':_0x487b97(0x41b),'qrcode.updated':_0x487b97(0x44f),'messages.upsert':'/wa-message','messages.update':'/wa-message-update','send.message':_0x487b97(0x5ef),'group.upsert':_0x487b97(0x6c6),'group.update':_0x487b97(0x6c6),'group-participants.update':'/wa-groups','connection.update':_0x487b97(0x41b),'messages.set':_0x487b97(0x5ef),'contacts.set':_0x487b97(0x1e8),'contacts.upsert':'/wa-contacts','contacts.update':_0x487b97(0x1e8),'presence.update':_0x487b97(0x486),'chats.set':_0x487b97(0x48b),'chats.update':_0x487b97(0x48b),'chats.upsert':'/wa-chats','chats.delete':_0x487b97(0x48b)},this[_0x487b97(0x4cb)]=0x0,this[_0x487b97(0x4f2)]=[],this[_0x487b97(0x279)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x487b97(0x383)]={'chats.upsert':async(_0x276cf5,_0x29ebe6)=>{const _0x3c484e=_0x487b97;let _0x1fd3ec=[];for await(let _0xcf82e3 of _0x276cf5)_0x1fd3ec[_0x3c484e(0x143)]({'_id':_0xcf82e3['id'],'owner':this[_0x3c484e(0x302)][_0x3c484e(0x7a2)],'group':_0xcf82e3['id']['endsWith']('@g.us'),'name':_0xcf82e3[_0x3c484e(0x3c0)]||_0xcf82e3[_0x3c484e(0x5a1)]||null,'contactname':null,'lastmsg':_0xcf82e3['conversationTimestamp']&&_0xcf82e3['conversationTimestamp'][_0x3c484e(0x4c5)]()['length']<0xd?_0xcf82e3[_0x3c484e(0x47e)]*0x3e8:_0xcf82e3[_0x3c484e(0x47e)]||null,'archived':_0xcf82e3[_0x3c484e(0x2eb)]||!0x1,'unreadcount':_0xcf82e3[_0x3c484e(0x49a)]||0x0});this[_0x3c484e(0x626)](_0x3c484e(0x684),_0x1fd3ec);},'chats.update':async(_0x4f524e,_0x1ec52b)=>{const _0x11aca3=_0x487b97;for(let _0x21b4a1 of _0x4f524e){let _0x3a5da8={'_id':_0x21b4a1['id'],'owner':this[_0x11aca3(0x302)]['wuid'],'group':_0x21b4a1['id']['endsWith'](_0x11aca3(0x292)),'name':_0x21b4a1[_0x11aca3(0x3c0)]||_0x21b4a1[_0x11aca3(0x5a1)],'archived':_0x21b4a1[_0x11aca3(0x2eb)],'ephemeralExpiration':_0x21b4a1[_0x11aca3(0x2f4)]},_0x1c2698=!0x1,_0x5adb9d={};_0x3a5da8[_0x11aca3(0x2eb)]!=null&&(this[_0x11aca3(0x186)][_0x11aca3(0x6db)](this['instanceName']+'\x20('+this['instance'][_0x11aca3(0x7a2)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x21b4a1[_0x11aca3(0x2eb)]),_0x1c2698=!0x0,_0x5adb9d[_0x11aca3(0x2eb)]=_0x21b4a1[_0x11aca3(0x2eb)]),_0x21b4a1['name']!=null&&(this[_0x11aca3(0x186)][_0x11aca3(0x6db)](this[_0x11aca3(0x5cd)]+'\x20('+this[_0x11aca3(0x302)][_0x11aca3(0x7a2)]+_0x11aca3(0x633)+_0x21b4a1[_0x11aca3(0x3c0)]),_0x1c2698=!0x0,_0x5adb9d['name']=_0x21b4a1['name']),_0x21b4a1[_0x11aca3(0x5a1)]!=null&&(this[_0x11aca3(0x186)][_0x11aca3(0x6db)](this[_0x11aca3(0x5cd)]+'\x20('+this['instance']['wuid']+_0x11aca3(0x553)+_0x21b4a1[_0x11aca3(0x5a1)]),_0x1c2698=!0x0,_0x5adb9d[_0x11aca3(0x3c0)]=_0x21b4a1['displayName']);let _0x4dc822;_0x1c2698&&(_0x4dc822=await this[_0x11aca3(0x5b9)][_0x11aca3(0x48d)][_0x11aca3(0x4c4)]({'where':{'_id':_0x21b4a1['id']}},_0x5adb9d,this['instance'][_0x11aca3(0x7a2)])),_0x4dc822&&J(this['instanceName'],_0x11aca3(0x130),{'chat':_0x4dc822});}},'chats.delete':async _0x5dfc7a=>{const _0x12fb29=_0x487b97;this[_0x12fb29(0x626)](_0x12fb29(0x43b),[..._0x5dfc7a]);}},this['contactHandle']={'contacts.upsert':async(_0x46c180,_0x593e86)=>{const _0x504c05=_0x487b97;let _0x1f3eca=await this['repository'][_0x504c05(0x566)][_0x504c05(0x766)]({'where':{}},this['instance'][_0x504c05(0x7a2)]),_0x9c721a=[];for await(let _0xcab7df of _0x46c180)_0x1f3eca[_0x504c05(0x766)](_0x249a4d=>_0x249a4d['_id']===_0xcab7df['id'])||_0x9c721a[_0x504c05(0x143)]({'_id':_0xcab7df['id'],'pushName':_0xcab7df?.[_0x504c05(0x3c0)]||_0xcab7df?.[_0x504c05(0x3b5)],'owner':this[_0x504c05(0x302)][_0x504c05(0x7a2)]});this[_0x504c05(0x626)](_0x504c05(0x714),_0x9c721a),await this[_0x504c05(0x5b9)][_0x504c05(0x566)]['insert'](_0x9c721a);},'contacts.update':async(_0x2282f4,_0x560f2c)=>{const _0x435f6c=_0x487b97;let _0x3bf7f1=[];for await(let _0x2e4553 of _0x2282f4)_0x3bf7f1[_0x435f6c(0x143)]({'_id':_0x2e4553['id'],'pushName':_0x2e4553?.[_0x435f6c(0x3c0)]??_0x2e4553?.[_0x435f6c(0x3b5)],'owner':this['instance'][_0x435f6c(0x7a2)]});this[_0x435f6c(0x626)](_0x435f6c(0x278),_0x3bf7f1);}},this[_0x487b97(0x236)]={'messaging-history.set':async({messages:_0x281f03,chats:_0x5e65fd,isLatest:_0x233f41},_0x5d7c4f)=>{const _0xc5d13a=_0x487b97;if(_0x233f41){let _0x46a3e4=await Promise[_0xc5d13a(0x78d)](_0x5e65fd['map'](async _0x1e9f07=>({'_id':_0x1e9f07['id'],'owner':this['instance'][_0xc5d13a(0x7a2)],'group':_0x1e9f07['id']['endsWith'](_0xc5d13a(0x292)),'name':_0x1e9f07[_0xc5d13a(0x3c0)]||_0x1e9f07['displayName']||null,'contactname':null,'lastmsg':_0x1e9f07[_0xc5d13a(0x47e)]&&_0x1e9f07['conversationTimestamp'][_0xc5d13a(0x4c5)]()['length']<0xd?_0x1e9f07[_0xc5d13a(0x47e)]*0x3e8:_0x1e9f07[_0xc5d13a(0x47e)]||null,'archived':_0x1e9f07['archived']||!0x1,'unreadcount':_0x1e9f07[_0xc5d13a(0x49a)]||0x0})));this[_0xc5d13a(0x626)](_0xc5d13a(0x530),_0x46a3e4),await this[_0xc5d13a(0x62d)](_0x46a3e4,_0x5d7c4f);}let _0x3011f7=[],_0x171900=Date[_0xc5d13a(0x203)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2d9818]of Object[_0xc5d13a(0x540)](_0x281f03)){if(_0x2d9818[_0xc5d13a(0x1a5)]?.['protocolMessage']||_0x2d9818[_0xc5d13a(0x1a5)]?.['senderKeyDistributionMessage']||!_0x2d9818[_0xc5d13a(0x1a5)]||_0x2d9818[_0xc5d13a(0x528)][_0xc5d13a(0x29f)]==='status@broadcast'||(Es[_0xc5d13a(0x34a)][_0xc5d13a(0x467)](_0x2d9818?.[_0xc5d13a(0x24d)])&&(_0x2d9818['messageTimestamp']=_0x2d9818[_0xc5d13a(0x24d)]?.[_0xc5d13a(0x1a4)]()),_0x2d9818[_0xc5d13a(0x24d)]&&_0x2d9818[_0xc5d13a(0x24d)]['toString']()[_0xc5d13a(0x17a)]<0xd&&(_0x2d9818['messageTimestamp']=_0x2d9818[_0xc5d13a(0x24d)]*0x3e8),_0x2d9818[_0xc5d13a(0x24d)]<_0x171900))continue;let {message_normalized:_0x536a04}=this['normalizeMessage'](_0x2d9818[_0xc5d13a(0x1a5)],P(_0x2d9818[_0xc5d13a(0x1a5)]),null);Object['keys'](_0x536a04)[_0xc5d13a(0x17a)]>0x0&&_0x3011f7[_0xc5d13a(0x143)]({'_id':_0x2d9818[_0xc5d13a(0x528)]['id'],'key':_0x2d9818[_0xc5d13a(0x528)],'pushName':_0x2d9818['pushName'],'participant':_0x2d9818['participant'],'message':{..._0x2d9818[_0xc5d13a(0x1a5)]},'messageType':P(_0x2d9818[_0xc5d13a(0x1a5)]),'message_normalized':{'key':_0x2d9818[_0xc5d13a(0x528)],'pushName':_0x2d9818[_0xc5d13a(0x171)],'messageTimestamp':_0x2d9818[_0xc5d13a(0x24d)],..._0x536a04},'messageTimestamp':_0x2d9818[_0xc5d13a(0x24d)],'owner':this['instance'][_0xc5d13a(0x7a2)]});}_0x5d7c4f[_0xc5d13a(0x365)]&&_0x3011f7[_0xc5d13a(0x17a)]>0x0&&(this[_0xc5d13a(0x186)]['verbose'](this[_0xc5d13a(0x5cd)]+'\x20('+this['instance']['wuid']+_0xc5d13a(0x609)+_0x3011f7[_0xc5d13a(0x17a)]+_0xc5d13a(0x632)+this['instance'][_0xc5d13a(0x7a2)]+_0xc5d13a(0x580)),await this[_0xc5d13a(0x5b9)][_0xc5d13a(0x1a5)][_0xc5d13a(0x45b)]([..._0x3011f7],this[_0xc5d13a(0x302)][_0xc5d13a(0x7a2)])),this['sendDataWebhook'](_0xc5d13a(0x1a8),[..._0x3011f7]),_0x281f03=void 0x0;},'messages.upsert':async({messages:_0x28f924,type:_0x5575a7},_0x5ea6e1)=>{const _0x1a50e5=_0x487b97;let _0x517cee=_0x28f924[0x0];if(_0x5575a7!==_0x1a50e5(0x413)||!_0x517cee?.[_0x1a50e5(0x1a5)]||_0x517cee[_0x1a50e5(0x1a5)]?.[_0x1a50e5(0x459)]||_0x517cee[_0x1a50e5(0x1a5)][_0x1a50e5(0x550)]||_0x517cee[_0x1a50e5(0x528)][_0x1a50e5(0x29f)]===_0x1a50e5(0x799))return;let _0x36c85c=null,_0x57c6ee=null;try{_0x36c85c=await this[_0x1a50e5(0x260)](_0x517cee),_0x57c6ee=_0x36c85c?_0x36c85c['join'](','):null;}catch(_0x11f4f7){this[_0x1a50e5(0x186)][_0x1a50e5(0x6db)](this[_0x1a50e5(0x5cd)]+'\x20('+this[_0x1a50e5(0x302)][_0x1a50e5(0x7a2)]+_0x1a50e5(0x609)+(_0x11f4f7 instanceof Error?_0x11f4f7[_0x1a50e5(0x1a5)]:JSON[_0x1a50e5(0x1b7)](_0x11f4f7,null,0x2))),_0x57c6ee=_0x1a50e5(0x446);}if(this['client'][_0x1a50e5(0x1f3)](_0x1a50e5(0x134)),Es[_0x1a50e5(0x34a)]['isLong'](_0x517cee[_0x1a50e5(0x24d)])&&(_0x517cee[_0x1a50e5(0x24d)]=_0x517cee[_0x1a50e5(0x24d)]?.['toNumber']()),this[_0x1a50e5(0x78b)]?.[_0x1a50e5(0x74e)]&&_0x517cee[_0x1a50e5(0x528)][_0x1a50e5(0x29f)]['includes'](_0x1a50e5(0x292))){this['logger']['verbose'](_0x1a50e5(0x6af));return;}_0x517cee[_0x1a50e5(0x24d)]&&_0x517cee[_0x1a50e5(0x24d)]['toString']()[_0x1a50e5(0x17a)]<0xd&&(_0x517cee[_0x1a50e5(0x24d)]=_0x517cee[_0x1a50e5(0x24d)]*0x3e8);let _0x5aba27=_0x517cee[_0x1a50e5(0x1a5)],{messageContent:_0x245531,message_normalized:_0x737429}=this[_0x1a50e5(0x55b)](_0x5aba27,P(_0x517cee[_0x1a50e5(0x1a5)]),_0x57c6ee),_0x72bb8c={'_id':_0x517cee['key']['id'],'key':_0x517cee[_0x1a50e5(0x528)],'pushName':_0x517cee[_0x1a50e5(0x171)],'message':{..._0x517cee[_0x1a50e5(0x1a5)]},'messageType':P(_0x517cee[_0x1a50e5(0x1a5)]),'message_normalized':{'key':_0x517cee[_0x1a50e5(0x528)],'pushName':_0x517cee['pushName'],'messageTimestamp':_0x517cee[_0x1a50e5(0x24d)],'source':(0x0,y[_0x1a50e5(0x1be)])(_0x517cee['key']['id']),..._0x737429},'messageTimestamp':_0x517cee[_0x1a50e5(0x24d)],'owner':this[_0x1a50e5(0x302)][_0x1a50e5(0x7a2)],'source':(0x0,y['getDevice'])(_0x517cee[_0x1a50e5(0x528)]['id'])};_0x245531||(console[_0x1a50e5(0x4f8)](_0x1a50e5(0x51f)),this['logger'][_0x1a50e5(0x125)](_0x72bb8c)),this[_0x1a50e5(0x186)][_0x1a50e5(0x125)](this[_0x1a50e5(0x5cd)]+'\x20('+this[_0x1a50e5(0x302)][_0x1a50e5(0x7a2)]+_0x1a50e5(0x6bc)+_0x72bb8c[_0x1a50e5(0x6ec)]+_0x1a50e5(0x2d4)+_0x72bb8c[_0x1a50e5(0x528)]?.[_0x1a50e5(0x29f)][_0x1a50e5(0x2b0)](_0x1a50e5(0x392),'')+']:'),_0x72bb8c[_0x1a50e5(0x20d)]?.[_0x1a50e5(0x577)]&&this[_0x1a50e5(0x186)][_0x1a50e5(0x125)](_0x72bb8c['message_normalized']?.[_0x1a50e5(0x577)]),await this[_0x1a50e5(0x5b9)]['message'][_0x1a50e5(0x45b)]([_0x72bb8c],this[_0x1a50e5(0x302)][_0x1a50e5(0x7a2)]),this[_0x1a50e5(0x626)](_0x1a50e5(0x33e),_0x72bb8c),J(this[_0x1a50e5(0x5cd)],'messages',{'message':_0x72bb8c}),_0x517cee[_0x1a50e5(0x528)][_0x1a50e5(0x29f)]!==_0x1a50e5(0x799)&&await this['updateChatWithMessage'](_0x5ea6e1,_0x72bb8c,_0x1a50e5(0x25a));},'messages.update':async(_0x3d4334,_0x410d06)=>{const _0x54fdd0=_0x487b97;let _0x454329={0x0:_0x54fdd0(0x4d4),0x1:_0x54fdd0(0x13f),0x2:_0x54fdd0(0x35e),0x3:_0x54fdd0(0x3b7),0x4:_0x54fdd0(0x5bd),0x5:_0x54fdd0(0x758)};for await(let {key:_0x30816c,update:_0x41375e}of _0x3d4334){if(this['localWebhook']?.[_0x54fdd0(0x74e)]&&_0x30816c['remoteJid'][_0x54fdd0(0x246)](_0x54fdd0(0x292))){this[_0x54fdd0(0x186)]['verbose']('group\x20ignored');return;}if(_0x30816c[_0x54fdd0(0x29f)]!==_0x54fdd0(0x799)){let _0x296433=Date[_0x54fdd0(0x203)](),_0xfc7ab2;_0x41375e[_0x54fdd0(0x1a5)]===null&&_0x41375e['status']===void 0x0?_0xfc7ab2=_0x54fdd0(0x359):_0xfc7ab2=_0x454329[_0x41375e['status']];let _0x187da0=_0x30816c[_0x54fdd0(0x29f)]['replace'](/:\d{1,2}@/g,'@'),_0x81a93f={..._0x30816c,'remoteJid':_0x187da0,'status':_0xfc7ab2,'datetime':_0x296433,'owner':this[_0x54fdd0(0x302)][_0x54fdd0(0x7a2)]};this[_0x54fdd0(0x626)](_0x54fdd0(0x1bd),_0x81a93f),await this[_0x54fdd0(0x17d)](_0x30816c,_0x81a93f);}}},'labels.association':async({type:_0x2aeced,association:_0x4b4b3b})=>{const _0xa37b49=_0x487b97;if(_0x4b4b3b[_0xa37b49(0x270)]===_0xa37b49(0x4cc)){let _0x1098ea,_0x34687b=0x0;for(;!_0x1098ea&&_0x34687b<this[_0xa37b49(0x185)];)_0x1098ea=await this[_0xa37b49(0x5b9)][_0xa37b49(0x48d)][_0xa37b49(0x2a7)]({'where':{'_id':_0x4b4b3b[_0xa37b49(0x1ab)]}},this[_0xa37b49(0x302)][_0xa37b49(0x7a2)]),_0x1098ea||(_0x34687b++,console[_0xa37b49(0x125)]('Chat\x20'+_0x4b4b3b[_0xa37b49(0x1ab)]+'\x20not\x20found,\x20retrying\x20in\x20'+this[_0xa37b49(0x656)]+_0xa37b49(0x6d6)+_0x34687b+'/'+this[_0xa37b49(0x185)]+')'),await this[_0xa37b49(0x55e)](this[_0xa37b49(0x656)]));if(!_0x1098ea){console[_0xa37b49(0x4f8)](_0xa37b49(0x3f9)+_0x4b4b3b[_0xa37b49(0x1ab)]+'\x20after\x20'+this[_0xa37b49(0x185)]+_0xa37b49(0x649));return;}switch(_0x2aeced){case _0xa37b49(0x503):console[_0xa37b49(0x125)](_0x4b4b3b),await this[_0xa37b49(0x5b9)][_0xa37b49(0x48d)]['updateOne']({'where':{'_id':_0x4b4b3b[_0xa37b49(0x1ab)]}},{'leadInfo.etiquetas':_0x4b4b3b['labelId']},this[_0xa37b49(0x302)][_0xa37b49(0x7a2)],void 0x0,_0xa37b49(0x286));break;case _0xa37b49(0x70b):console[_0xa37b49(0x125)](_0x4b4b3b),await this['repository'][_0xa37b49(0x48d)][_0xa37b49(0x4c4)]({'where':{'_id':_0x4b4b3b[_0xa37b49(0x1ab)]}},{'leadInfo.etiquetas':_0x4b4b3b[_0xa37b49(0x756)]},this[_0xa37b49(0x302)][_0xa37b49(0x7a2)],void 0x0,_0xa37b49(0x1db));break;default:console['error'](_0xa37b49(0x5c1)+_0x2aeced+']');}}},'labels.edit':async _0x4ebc03=>{const _0x216fec=_0x487b97;if(!_0x4ebc03||!_0x4ebc03['id']){console[_0x216fec(0x4f8)](_0x216fec(0x36f));return;}if(!_0x4ebc03[_0x216fec(0x33a)]){let _0x42baa8=[_0x216fec(0x677),_0x216fec(0x232),_0x216fec(0x3fd),'#dfaef0',_0x216fec(0x64c),_0x216fec(0x4b9),_0x216fec(0x6a7),_0x216fec(0x35a),'#6f7bcf','#d8e651',_0x216fec(0x619),_0x216fec(0x463),_0x216fec(0x1e7),_0x216fec(0x6f2),_0x216fec(0x327),_0x216fec(0x3ba),'#ffae04',_0x216fec(0x409),_0x216fec(0x407),_0x216fec(0x697)],_0x455e72;typeof _0x4ebc03[_0x216fec(0x424)]=='number'&&_0x4ebc03[_0x216fec(0x424)]>=0x0&&_0x4ebc03[_0x216fec(0x424)]<_0x42baa8[_0x216fec(0x17a)]?_0x455e72=_0x42baa8[_0x4ebc03[_0x216fec(0x424)]]:(console['error'](_0x216fec(0x417),_0x4ebc03['color']),_0x455e72=_0x216fec(0x63f));let _0x2e2ce9={'_id':_0x4ebc03['id'],'colorHex':_0x455e72,'color':_0x4ebc03?.['color'],'name':_0x4ebc03?.['name'],'owner':this['instance'][_0x216fec(0x7a2)]};await this['repository'][_0x216fec(0x5a5)][_0x216fec(0x4c4)]({'where':{'_id':_0x4ebc03['id']}},_0x2e2ce9,this['instance'][_0x216fec(0x7a2)]),console[_0x216fec(0x125)]('Rótulo\x20atualizado:',_0x4ebc03);}_0x4ebc03[_0x216fec(0x33a)]&&(await this['repository'][_0x216fec(0x5a5)][_0x216fec(0x2d3)]({'where':{'_id':_0x4ebc03['id']}},this['instance']['wuid']),console[_0x216fec(0x125)]('Rótulo\x20deletado:',_0x4ebc03['id']));}},this[_0x487b97(0x1d0)]={'groups.upsert':_0xb7e8d2=>{const _0x18f12f=_0x487b97;this[_0x18f12f(0x626)](_0x18f12f(0x72a),_0xb7e8d2);},'groups.update':_0x4a15d2=>{const _0x4bb9ec=_0x487b97;this[_0x4bb9ec(0x626)](_0x4bb9ec(0x605),_0x4a15d2);},'group-participants.update':_0x1914aa=>{const _0x5cf5c4=_0x487b97;this[_0x5cf5c4(0x626)](_0x5cf5c4(0x426),_0x1914aa);}},this[_0x487b97(0x185)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x487b97(0x260)]=async _0x594bde=>{const _0x7721fe=_0x487b97;if(_0x594bde[_0x7721fe(0x1a5)]?.[_0x7721fe(0x3d8)]){let _0x23ab8a=await this[_0x7721fe(0x46d)](_0x594bde[_0x7721fe(0x1a5)][_0x7721fe(0x3d8)][_0x7721fe(0x308)],!0x0);if(_0x23ab8a){let _0x273abc=_0x23ab8a['key'][_0x7721fe(0x329)]?this[_0x7721fe(0x302)][_0x7721fe(0x7a2)]+'@s.whatsapp.net':_0x23ab8a[_0x7721fe(0x528)][_0x7721fe(0x63d)]||_0x23ab8a['key'][_0x7721fe(0x29f)],_0x3918a2=_0x23ab8a[_0x7721fe(0x528)]['id'],_0x194f34=_0x23ab8a[_0x7721fe(0x1a5)],_0x23a9e8=Buffer[_0x7721fe(0x2f8)](_0x194f34['messageContextInfo'][_0x7721fe(0x165)][_0x7721fe(0x4c5)]('hex'),'hex'),_0x38a678=(0x0,y['decryptPollVote'])(_0x594bde['message'][_0x7721fe(0x3d8)][_0x7721fe(0x23e)],{'pollCreatorJid':_0x273abc,'pollMsgId':_0x3918a2,'pollEncKey':_0x23a9e8,'voterJid':_0x594bde[_0x7721fe(0x528)][_0x7721fe(0x329)]?this[_0x7721fe(0x302)]['wuid']+_0x7721fe(0x392):_0x594bde[_0x7721fe(0x528)][_0x7721fe(0x29f)][_0x7721fe(0x3c8)](_0x7721fe(0x1c1))?_0x594bde[_0x7721fe(0x528)][_0x7721fe(0x63d)]:_0x594bde[_0x7721fe(0x528)][_0x7721fe(0x29f)]}),_0x7e176e=[],_0x5c0364=_0x38a678[_0x7721fe(0x61e)][_0x7721fe(0x1ef)](_0xed4cf0=>Buffer['from'](_0xed4cf0)[_0x7721fe(0x4c5)](_0x7721fe(0x4d6)));for(let {optionName:_0xc1d44d}of _0x194f34[_0x7721fe(0x554)]?.[_0x7721fe(0x269)]||_0x194f34[_0x7721fe(0x212)]?.[_0x7721fe(0x269)]||_0x194f34[_0x7721fe(0x12a)]?.[_0x7721fe(0x269)])_0x5c0364[_0x7721fe(0x50b)]((0x0,y[_0x7721fe(0x710)])(Buffer['from'](_0xc1d44d))[_0x7721fe(0x4c5)]('hex'))>-0x1&&_0x7e176e[_0x7721fe(0x143)](_0xc1d44d);return _0x7e176e;}}return null;},this[_0x487b97(0x55b)]=(_0x3b487b,_0x4ecd92,_0x5324c3)=>{const _0x25818f=_0x487b97;try{let _0x429cb9=_0x4ecd92?_0x3b487b[_0x4ecd92]:void 0x0,_0x32d8ba={},_0x102d36=null,_0x3d3a5f=null,_0x53e795=null;if(_0x3b487b[_0x25818f(0x3f4)]?(_0x4ecd92=P(_0x3b487b['viewOnceMessageV2'][_0x25818f(0x1a5)]),_0x429cb9=_0x3b487b[_0x25818f(0x3f4)]['message'][_0x4ecd92]):_0x3b487b[_0x25818f(0x3e5)]?(_0x4ecd92=P(_0x3b487b[_0x25818f(0x3e5)]['message']),_0x429cb9=_0x3b487b[_0x25818f(0x3e5)]['message'][_0x4ecd92]):_0x3b487b[_0x25818f(0x2fa)]?(_0x4ecd92=P(_0x3b487b[_0x25818f(0x2fa)][_0x25818f(0x1a5)]),_0x429cb9=_0x3b487b[_0x25818f(0x2fa)][_0x25818f(0x1a5)][_0x4ecd92]):_0x3b487b[_0x25818f(0x65e)]?(_0x4ecd92=P(_0x3b487b['message'][_0x25818f(0x65e)][_0x25818f(0x1a5)]),_0x429cb9=_0x3b487b[_0x25818f(0x1a5)][_0x25818f(0x65e)][_0x25818f(0x1a5)][_0x4ecd92]):_0x3b487b[_0x25818f(0x2f3)]?.[_0x25818f(0x1a5)]?.[_0x25818f(0x459)]?.['editedMessage']?(_0x4ecd92=P(_0x3b487b[_0x25818f(0x2f3)][_0x25818f(0x1a5)][_0x25818f(0x459)]['editedMessage']),_0x102d36=_0x3b487b[_0x25818f(0x2f3)][_0x25818f(0x1a5)][_0x25818f(0x459)][_0x25818f(0x528)]['id'],_0x429cb9=_0x3b487b[_0x25818f(0x2f3)]['message'][_0x25818f(0x459)][_0x25818f(0x2f3)][_0x4ecd92]):_0x429cb9=_0x3b487b[_0x4ecd92],!_0x4ecd92||!_0x429cb9)return console[_0x25818f(0x4f8)](_0x25818f(0x145),_0x3b487b),{'messageType':_0x4ecd92,'messageContent':_0x429cb9,'message_normalized':{}};_0x3b487b[_0x4ecd92]?.[_0x25818f(0x46c)]?.[_0x25818f(0x509)]&&_0x3b487b[_0x4ecd92]?.[_0x25818f(0x46c)]?.[_0x25818f(0x2cc)]&&(_0x3d3a5f=_0x3b487b[_0x4ecd92][_0x25818f(0x46c)][_0x25818f(0x509)]),_0x3b487b['reactionMessage']&&(_0x53e795=_0x3b487b[_0x25818f(0x441)][_0x25818f(0x528)]['id']);let _0x4a5dd9;if(_0x429cb9&&typeof _0x429cb9=='object'&&'pollCreationMessageKey'in _0x429cb9&&({pollCreationMessageKey:_0x4a5dd9}=_0x429cb9),_0x4ecd92==='documentWithCaptionMessage'){let _0x534f7d=_0x429cb9?.[_0x25818f(0x1a5)]?.[_0x25818f(0x1f2)];_0x534f7d&&(_0x429cb9=_0x534f7d);}if(_0x4ecd92===_0x25818f(0x554)||_0x4ecd92===_0x25818f(0x12a)||_0x4ecd92==='pollCreationMessageV3'){let _0x165c2c=_0x429cb9[_0x25818f(0x269)][_0x25818f(0x1ef)](_0x2b8790=>_0x2b8790[_0x25818f(0x563)])[_0x25818f(0x4c2)]('|');_0x32d8ba[_0x25818f(0x39b)]=_0x165c2c;}let _0x3d26c9=_0x429cb9[_0x25818f(0x3c0)]||_0x429cb9[_0x25818f(0x3d6)]||_0x429cb9['conversation']||_0x429cb9['displayName'];if(_0x4ecd92===_0x25818f(0x470)){_0x3d26c9=(_0x429cb9[_0x25818f(0x499)]||'')+'\x0a'+(_0x429cb9[_0x25818f(0x3ee)]||'')+'\x0a'+(_0x429cb9[_0x25818f(0x558)]||'');let _0x172db2=this[_0x25818f(0x451)](_0x429cb9[_0x25818f(0x6b3)]);_0x32d8ba[_0x25818f(0x39b)]=_0x172db2;}if(_0x4ecd92===_0x25818f(0x5ec)&&(_0x5324c3=_0x429cb9[_0x25818f(0x499)]),_0x429cb9[_0x25818f(0x607)]){let _0x2e2ba2=this[_0x25818f(0x3e4)](JSON[_0x25818f(0x1b7)](_0x429cb9[_0x25818f(0x607)],null,0x2));_0x3d26c9=_0x3d26c9+'\x0a'+_0x2e2ba2;}if(_0x429cb9){let {sections:_0x216819,listType:_0x115b24,displayName:_0x40a7e6,vcard:_0x422968,contactVcard:_0x33ab40,name:_0x4543c7,caption:_0x24440a,conversation:_0x764b7c,pollCreationMessageKey:_0x575808,footerText:_0x51306e,contentText:_0x51b8b6,pageCount:_0x12d095,headerType:_0x569ed5,isAvatar:_0x57ec08,isAnimated:_0x271894,fallbackLc:_0x1505b,fallbackLg:_0x4f0ad2,namespace:_0x244637,elementName:_0x1f58c5,localizableParams:_0x472542,viewOnce:_0x5c1894,height:_0x4334de,width:_0xa94e64,key:_0x457be3,firstScanLength:_0x50132a,firstScanSidecar:_0x702a8b,gifPlayback:_0x3cb40c,gifAttribution:_0x456a1f,midQualityFileSha256:_0x53bea5,scansSidecar:_0x7a56e7,streamingSidecar:_0x3d08b0,thumbnailHeight:_0x4eceba,thumbnailWidth:_0x102e07,thumbnailEncSha256:_0x52a873,thumbnailDirectPath:_0x469616,canonicalUrl:_0x5b6897,matchedText:_0x3e4e4b,previewType:_0x595a68,thumbnailSha256:_0x5d275e,deviceListMetadataVersion:_0x111fc2,inviteLinkGroupTypeV2:_0x1b0609,interactiveAnnotations:_0x4213d1,scanLengths:_0x6b84,jpegThumbnail:_0x47d629,url:_0x54f492,mediaKeyTimestamp:_0x5c0850,waveform:_0x3dd28f,stickerSentTs:_0x10237f,firstFrameLength:_0xd9fb8a,fileEncSha256:_0x22ec98,contextInfo:_0x38e216,firstFrameSidecar:_0x396b4a,directPath:_0x21076d,fileSha256:_0x1d86b1,mediaKey:_0xe3ab1e,senderTimestampMs:_0x3e4f7d,..._0x544f2a}=_0x429cb9;(_0x4ecd92===_0x25818f(0x470)||_0x4ecd92===_0x25818f(0x5ec))&&(delete _0x544f2a[_0x25818f(0x499)],delete _0x544f2a[_0x25818f(0x3ee)]),typeof _0x429cb9=='string'?_0x32d8ba={'text':_0x429cb9,'type':_0x4ecd92||'conversation',..._0x102d36&&{'edited':_0x102d36},..._0x3d3a5f&&{'quoted':_0x3d3a5f},..._0x53e795&&{'reaction':_0x53e795}}:_0x32d8ba={'text':_0x3d26c9,..._0x544f2a,..._0x4ecd92===_0x25818f(0x3d8)?{'poll_id':_0x429cb9[_0x25818f(0x308)]['id'],'quoted':_0x429cb9[_0x25818f(0x308)]['id'],'vote':_0x5324c3}:{},..._0x4ecd92===_0x25818f(0x5ec)?{'vote':_0x5324c3}:{},'type':_0x4ecd92,..._0x102d36&&{'edited':_0x102d36},..._0x3d3a5f&&{'quoted':_0x3d3a5f},..._0x53e795&&{'reaction':_0x53e795},...(_0x4ecd92===_0x25818f(0x554)||_0x4ecd92===_0x25818f(0x12a)||_0x4ecd92===_0x25818f(0x212)||_0x4ecd92===_0x25818f(0x470))&&{'convertedOptions':_0x32d8ba['convertedOptions']}};}return{'messageType':_0x4ecd92,'messageContent':_0x429cb9,'message_normalized':_0x32d8ba};}catch(_0x21799b){return console[_0x25818f(0x4f8)](_0x25818f(0x644),_0x21799b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x487b97(0x3e8)]=null,this[_0x487b97(0x34d)]=0x0,this[_0x487b97(0x4af)]=null,(this[_0x487b97(0x17b)](),this[_0x487b97(0x302)][_0x487b97(0x2e8)]={'count':0x0});}set[a0_0x56f010(0x5cd)](_0x210d13){const _0x4dcaba=a0_0x56f010;if(!_0x210d13){this[_0x4dcaba(0x302)]['name']=(0x0,yo['v4'])();return;}this[_0x4dcaba(0x302)]['name']=_0x210d13,this[_0x4dcaba(0x626)]('status.instance',{'instance':this['instance'][_0x4dcaba(0x3c0)],'status':_0x4dcaba(0x618)});}get['instanceName'](){const _0x254193=a0_0x56f010;return this[_0x254193(0x302)]['name'];}get['wuid'](){const _0x143ec2=a0_0x56f010;return this[_0x143ec2(0x302)][_0x143ec2(0x7a2)];}async['getProfileName'](){const _0x5ba36d=a0_0x56f010;let _0x4c1f88=this[_0x5ba36d(0x733)][_0x5ba36d(0x5d4)]?.[_0x5ba36d(0x3c0)]??this['client'][_0x5ba36d(0x5d4)]?.[_0x5ba36d(0x3b5)];if(!_0x4c1f88){if(this[_0x5ba36d(0x663)][_0x5ba36d(0x750)](_0x5ba36d(0x792))[_0x5ba36d(0x365)]){let _0x233716=await N[_0x5ba36d(0x667)]()['db'](this[_0x5ba36d(0x663)]['get'](_0x5ba36d(0x792))['CONNECTION']['DB_PREFIX_NAME']+_0x5ba36d(0x253))[_0x5ba36d(0x5aa)](this['instanceName'])[_0x5ba36d(0x2a7)]({'_id':_0x5ba36d(0x60b)});if(_0x233716){let _0x444e8d=JSON[_0x5ba36d(0x2cd)](JSON[_0x5ba36d(0x1b7)](_0x233716),y[_0x5ba36d(0x640)][_0x5ba36d(0x1ea)]);_0x4c1f88=_0x444e8d['me']?.[_0x5ba36d(0x3c0)]||_0x444e8d['me']?.[_0x5ba36d(0x3b5)];}}else{if((0x0,ve['existsSync'])((0x0,F[_0x5ba36d(0x4c2)])(he,this['instanceName'],_0x5ba36d(0x4f9)))){let _0x309ca6=JSON[_0x5ba36d(0x2cd)]((0x0,ve[_0x5ba36d(0x425)])((0x0,F['join'])(he,this[_0x5ba36d(0x5cd)],_0x5ba36d(0x4f9)),{'encoding':_0x5ba36d(0x50c)}));_0x4c1f88=_0x309ca6['me']?.[_0x5ba36d(0x3c0)]||_0x309ca6['me']?.[_0x5ba36d(0x3b5)];}}}return _0x4c1f88;}get[a0_0x56f010(0x183)](){const _0x4b4eb9=a0_0x56f010;return this[_0x4b4eb9(0x302)][_0x4b4eb9(0x183)];}get[a0_0x56f010(0x2c0)](){const _0x49d429=a0_0x56f010;return{'pairingCode':this['instance']['qrcode']?.['pairingCode'],'code':this[_0x49d429(0x302)][_0x49d429(0x2e8)]?.[_0x49d429(0x496)],'base64':this[_0x49d429(0x302)][_0x49d429(0x2e8)]?.['base64']};}async[a0_0x56f010(0x533)](){const _0x37ff05=a0_0x56f010;let _0x5d12c7=await this['repository'][_0x37ff05(0x222)][_0x37ff05(0x766)](this[_0x37ff05(0x5cd)]);this[_0x37ff05(0x78b)]['url']=_0x5d12c7?.['url'],this[_0x37ff05(0x78b)][_0x37ff05(0x461)]=_0x5d12c7?.['enabled'],this[_0x37ff05(0x78b)][_0x37ff05(0x55c)]=_0x5d12c7?.[_0x37ff05(0x55c)],this['localWebhook'][_0x37ff05(0x2dc)]=_0x5d12c7?.[_0x37ff05(0x2dc)],this[_0x37ff05(0x78b)][_0x37ff05(0x5c7)]=_0x5d12c7?.[_0x37ff05(0x5c7)],this[_0x37ff05(0x78b)][_0x37ff05(0x495)]=_0x5d12c7?.[_0x37ff05(0x495)],this['localWebhook']['MESSAGES_UPSERT']=_0x5d12c7?.[_0x37ff05(0x25a)],this[_0x37ff05(0x78b)]['MESSAGES_UPDATE']=_0x5d12c7?.['MESSAGES_UPDATE'],this[_0x37ff05(0x78b)][_0x37ff05(0x27a)]=_0x5d12c7?.[_0x37ff05(0x27a)],this[_0x37ff05(0x78b)][_0x37ff05(0x6dd)]=_0x5d12c7?.[_0x37ff05(0x6dd)],this[_0x37ff05(0x78b)]['GROUP_PARTICIPANTS_UPDATE']=_0x5d12c7?.[_0x37ff05(0x36c)],this[_0x37ff05(0x78b)]['CHATS_SET']=_0x5d12c7?.[_0x37ff05(0x149)],this[_0x37ff05(0x78b)][_0x37ff05(0x36d)]=_0x5d12c7?.[_0x37ff05(0x36d)],this['localWebhook'][_0x37ff05(0x3c1)]=_0x5d12c7?.[_0x37ff05(0x3c1)],this[_0x37ff05(0x78b)]['CHATS_DELETE']=_0x5d12c7?.[_0x37ff05(0x14b)],this[_0x37ff05(0x78b)]['CONTACTS_SET']=_0x5d12c7?.['CONTACTS_SET'],this[_0x37ff05(0x78b)][_0x37ff05(0x67d)]=_0x5d12c7?.[_0x37ff05(0x67d)],this[_0x37ff05(0x78b)]['CONTACTS_UPDATE']=_0x5d12c7?.['CONTACTS_UPDATE'],this[_0x37ff05(0x78b)][_0x37ff05(0x27e)]=_0x5d12c7?.[_0x37ff05(0x27e)],this[_0x37ff05(0x78b)][_0x37ff05(0x411)]=_0x5d12c7?.[_0x37ff05(0x411)],this[_0x37ff05(0x78b)][_0x37ff05(0x206)]=_0x5d12c7?.['CONNECTION_UPDATE'],this[_0x37ff05(0x78b)]['groups_ignore']=_0x5d12c7?.['groups_ignore'];}async['setWebhook'](_0x4a3837){const _0x17114c=a0_0x56f010;let _0x4c4683=[_0x17114c(0x20e),_0x17114c(0x370),_0x17114c(0x461),_0x17114c(0x55c),_0x17114c(0x2dc),'QRCODE_UPDATED',_0x17114c(0x36b),_0x17114c(0x25a),_0x17114c(0x495),_0x17114c(0x27a),_0x17114c(0x6dd),_0x17114c(0x36c),_0x17114c(0x149),_0x17114c(0x36d),_0x17114c(0x3c1),_0x17114c(0x14b),_0x17114c(0x77f),_0x17114c(0x67d),_0x17114c(0x465),_0x17114c(0x27e),_0x17114c(0x411),'CONNECTION_UPDATE',_0x17114c(0x74e)],_0x5f0dfe={};return _0x4c4683[_0x17114c(0x147)](_0x2542a9=>{_0x4a3837[_0x2542a9]!==void 0x0&&(_0x5f0dfe[_0x2542a9]=_0x4a3837[_0x2542a9]);}),await this[_0x17114c(0x5b9)][_0x17114c(0x222)][_0x17114c(0x3a5)](_0x5f0dfe,this[_0x17114c(0x5cd)]),Object['assign'](this[_0x17114c(0x78b)],_0x5f0dfe),await this['repository'][_0x17114c(0x222)][_0x17114c(0x766)](this[_0x17114c(0x5cd)]);}async['findWebhook'](){const _0x6cbcf7=a0_0x56f010;return await this[_0x6cbcf7(0x5b9)][_0x6cbcf7(0x222)][_0x6cbcf7(0x766)](this[_0x6cbcf7(0x5cd)]);}async[a0_0x56f010(0x626)](_0x3e19b7,_0x40ae10){const _0x25ea87=a0_0x56f010;let _0x4be393=_0x3e19b7[_0x25ea87(0x2b0)](/[\.-]/gm,'_')[_0x25ea87(0x410)](),_0x4fe979=this[_0x25ea87(0x78b)]['enabled']&&(0x0,k['isURL'])(this[_0x25ea87(0x78b)][_0x25ea87(0x370)])?this[_0x25ea87(0x78b)][_0x25ea87(0x370)]+(this['localWebhook'][_0x25ea87(0x55c)]?this['webhookMap'][_0x3e19b7]:''):null,_0x3f487e=this[_0x25ea87(0x78b)][_0x4be393],_0x5f2135=re&&re[_0x25ea87(0x461)]&&(0x0,k[_0x25ea87(0x439)])(re['url'])?re['url']+(re[_0x25ea87(0x55c)]?this[_0x25ea87(0x2a1)][_0x3e19b7]:''):null,_0x31cc77=re?re[_0x4be393]:null;if(_0x3f487e&&_0x4fe979)try{await se[_0x25ea87(0x34a)][_0x25ea87(0x3a5)]({'baseURL':_0x4fe979})[_0x25ea87(0x2ad)]('',{'event':_0x3e19b7,'instance':this['instance'][_0x25ea87(0x3c0)],'data':_0x40ae10}),this['logger']['log'](_0x25ea87(0x406)+_0x3e19b7+':\x20'+_0x4fe979);}catch(_0x5bf819){this[_0x25ea87(0x186)]['error']({'local':c[_0x25ea87(0x3c0)]+_0x25ea87(0x541),'message':_0x5bf819?.[_0x25ea87(0x1a5)],'hostName':_0x5bf819?.[_0x25ea87(0x76b)],'syscall':_0x5bf819?.[_0x25ea87(0x1e9)],'code':_0x5bf819?.[_0x25ea87(0x496)],'error':_0x5bf819?.[_0x25ea87(0x5e2)],'stack':_0x5bf819?.[_0x25ea87(0x293)],'name':_0x5bf819?.[_0x25ea87(0x3c0)]});}if(_0x31cc77&&_0x5f2135)try{await se[_0x25ea87(0x34a)][_0x25ea87(0x3a5)]({'baseURL':_0x5f2135})[_0x25ea87(0x2ad)]('',{'event':_0x3e19b7,'instance':this['instance'][_0x25ea87(0x3c0)],'data':_0x40ae10}),this['logger']['log'](_0x25ea87(0x4e2)+_0x3e19b7+':\x20'+_0x5f2135);}catch(_0x43c3b5){this[_0x25ea87(0x186)][_0x25ea87(0x4f8)]({'local':c['name']+_0x25ea87(0x723),'message':_0x43c3b5?.[_0x25ea87(0x1a5)],'hostName':_0x43c3b5?.['hostname'],'syscall':_0x43c3b5?.[_0x25ea87(0x1e9)],'code':_0x43c3b5?.[_0x25ea87(0x496)],'error':_0x43c3b5?.[_0x25ea87(0x5e2)],'stack':_0x43c3b5?.[_0x25ea87(0x293)],'name':_0x43c3b5?.[_0x25ea87(0x3c0)]});}}async[a0_0x56f010(0x6e5)]({qr:_0x5e5990,connection:_0x599e34,lastDisconnect:_0x1a6a0e}){const _0x446429=a0_0x56f010;if(_0x5e5990){if(this[_0x446429(0x302)][_0x446429(0x2e8)][_0x446429(0x66b)]===hr)return this['sendDataWebhook'](_0x446429(0x691),{'message':_0x446429(0x1e4),'statusCode':y[_0x446429(0x3e9)][_0x446429(0x42a)]}),this[_0x446429(0x674)]={'state':_0x446429(0x59b),'statusReason':y[_0x446429(0x3e9)][_0x446429(0x49b)]},this[_0x446429(0x626)](_0x446429(0x5c6),{'instance':this[_0x446429(0x302)][_0x446429(0x3c0)],...this[_0x446429(0x674)]}),this[_0x446429(0x626)](_0x446429(0x535),{'instance':this['instance'][_0x446429(0x3c0)],'status':_0x446429(0x3de)}),this[_0x446429(0x5b9)][_0x446429(0x435)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x446429(0x302)][_0x446429(0x3c0)]),this[_0x446429(0x211)]=!0x0,this[_0x446429(0x519)][_0x446429(0x14e)](_0x446429(0x225),this[_0x446429(0x302)]['name']);this[_0x446429(0x302)][_0x446429(0x2e8)][_0x446429(0x66b)]++;let _0x305334={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x446429(0x265),'dark':_0x446429(0x63f)}};bo[_0x446429(0x34a)][_0x446429(0x3dd)](_0x5e5990,_0x305334,(_0x168147,_0x464559)=>{const _0xd6b21c=_0x446429;if(_0x168147){this[_0xd6b21c(0x186)][_0xd6b21c(0x4f8)](this[_0xd6b21c(0x5cd)]+'\x20('+this[_0xd6b21c(0x302)]['wuid']+_0xd6b21c(0x665)+(_0x168147 instanceof Error?_0x168147[_0xd6b21c(0x1a5)]:JSON[_0xd6b21c(0x1b7)](_0x168147,null,0x2)));return;}this[_0xd6b21c(0x302)]['qrcode'][_0xd6b21c(0x50e)]=_0x464559,this[_0xd6b21c(0x302)]['qrcode'][_0xd6b21c(0x496)]=_0x5e5990,this[_0xd6b21c(0x626)]('qrcode.updated',{'qrcode':{'instance':this[_0xd6b21c(0x302)][_0xd6b21c(0x3c0)],'pairingCode':this[_0xd6b21c(0x302)]['qrcode']['pairingCode'],'code':_0x5e5990,'base64':_0x464559}});}),this[_0x446429(0x6ed)]?this[_0x446429(0x302)]['qrcode'][_0x446429(0x1b4)]=await this[_0x446429(0x733)][_0x446429(0x352)](this[_0x446429(0x6ed)]):this[_0x446429(0x302)][_0x446429(0x2e8)]['pairingCode']=null,So['default']['generate'](_0x5e5990,{'small':!0x0},_0x589c1f=>this['logger'][_0x446429(0x125)](_0x446429(0x137)+this[_0x446429(0x302)]['name']+_0x446429(0x26c)+this[_0x446429(0x302)][_0x446429(0x2e8)][_0x446429(0x66b)]+_0x446429(0x796)+this['instance'][_0x446429(0x2e8)][_0x446429(0x1b4)]+'\x20}\x0a'+_0x589c1f));}if(_0x599e34&&(this[_0x446429(0x674)]={'state':_0x599e34,'statusReason':_0x1a6a0e?.['error']?.[_0x446429(0x606)]?.[_0x446429(0x5b8)]??0xc8},this[_0x446429(0x626)](_0x446429(0x5c6),{'instance':this[_0x446429(0x302)][_0x446429(0x3c0)],...this[_0x446429(0x674)]})),_0x599e34===_0x446429(0x4b4)){if(this[_0x446429(0x4cb)]++,this[_0x446429(0x4f2)][_0x446429(0x143)](Date['now']()),this[_0x446429(0x4f2)]=this[_0x446429(0x4f2)][_0x446429(0x336)](_0x21ad2d=>Date[_0x446429(0x203)]()-_0x21ad2d<this[_0x446429(0x162)]),_0x1a6a0e['error']?.[_0x446429(0x606)]?.['statusCode']!==y[_0x446429(0x3e9)]['loggedOut']&&this[_0x446429(0x4f2)][_0x446429(0x17a)]<=this[_0x446429(0x279)])console[_0x446429(0x125)](this[_0x446429(0x5cd)]+_0x446429(0x590)+this[_0x446429(0x4cb)]+'/'+this[_0x446429(0x279)]+_0x446429(0x214)),console['log'](_0x446429(0x724)),await this[_0x446429(0x179)]();else{this[_0x446429(0x626)]('status.instance',{'instance':this[_0x446429(0x302)][_0x446429(0x3c0)],'status':_0x446429(0x3de)}),this[_0x446429(0x59f)]=!0x1,this[_0x446429(0x5b9)][_0x446429(0x222)][_0x446429(0x2d3)](this['instanceName']),this['repository'][_0x446429(0x435)][_0x446429(0x3a5)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x446429(0x203)]()},this['instance'][_0x446429(0x3c0)]);try{this[_0x446429(0x186)]['verbose'](this[_0x446429(0x5cd)]+'\x20('+this[_0x446429(0x302)][_0x446429(0x7a2)]+_0x446429(0x3f6));let _0x5107e4=await this[_0x446429(0x5b9)][_0x446429(0x1a5)]['deleteAll'](this[_0x446429(0x302)]['wuid']);_0x5107e4[_0x446429(0x1eb)]?this[_0x446429(0x186)][_0x446429(0x6db)](this[_0x446429(0x5cd)]+'\x20('+this[_0x446429(0x302)]['wuid']+_0x446429(0x704)):console[_0x446429(0x4f8)](_0x446429(0x2d9),_0x5107e4[_0x446429(0x4f8)]);}catch(_0x27f83c){console[_0x446429(0x4f8)](_0x446429(0x40f),_0x27f83c);}this[_0x446429(0x483)]!==null&&(this['logger'][_0x446429(0x6db)](this['instanceName']+'\x20('+this[_0x446429(0x302)]['wuid']+_0x446429(0x255)),clearInterval(this[_0x446429(0x483)]),this[_0x446429(0x483)]=null),this[_0x446429(0x186)]['verbose'](this['instanceName']+'\x20('+this[_0x446429(0x302)][_0x446429(0x7a2)]+_0x446429(0x348)),this['AutomateSystem']=null,this[_0x446429(0x519)][_0x446429(0x14e)](_0x446429(0x197),this[_0x446429(0x302)]['name'],_0x446429(0x7a8)),this[_0x446429(0x733)]?.['ws']?.[_0x446429(0x4b4)](),this['client'][_0x446429(0x727)](new Error('Close\x20connection'));}}if(_0x599e34===_0x446429(0x55a)){this[_0x446429(0x539)],this[_0x446429(0x302)][_0x446429(0x7a2)]=this['client'][_0x446429(0x5d4)]['id'][_0x446429(0x2b0)](/:\d+/,'')['replace'](_0x446429(0x392),''),this['instance'][_0x446429(0x183)]=(await this[_0x446429(0x284)](this[_0x446429(0x302)]['wuid']+_0x446429(0x392)))[_0x446429(0x183)],this[_0x446429(0x5b9)][_0x446429(0x435)][_0x446429(0x3a5)]({'online':!0x0,'owner':this[_0x446429(0x302)][_0x446429(0x7a2)],'lastDisconnect':null},this[_0x446429(0x302)][_0x446429(0x3c0)]);let _0x130d38=_0x446429(0x6c3)+this['instance'][_0x446429(0x7a2)],_0x26d6fa=0x28,_0x445ae8=Math[_0x446429(0x716)]((_0x26d6fa-_0x130d38[_0x446429(0x17a)])/0x2),_0x15b0ac='\x20'[_0x446429(0x5b0)](_0x445ae8),_0x4e82e3='CONECTADO\x20À\x20UAZAPI',_0x2bc7f0=_0x446429(0x549)+this['instance'][_0x446429(0x3c0)],_0x43d047=(''+_0x15b0ac+_0x130d38+_0x15b0ac)[_0x446429(0x1c8)](_0x26d6fa,'\x20'),_0x48fd44=(''+_0x15b0ac+_0x4e82e3+_0x15b0ac)[_0x446429(0x1c8)](_0x26d6fa,'\x20'),_0x547e5a=(''+_0x15b0ac+_0x2bc7f0+_0x15b0ac)[_0x446429(0x1c8)](_0x26d6fa,'\x20'),_0x563711=Math[_0x446429(0x66a)](_0x43d047[_0x446429(0x17a)],_0x48fd44['length'],_0x547e5a[_0x446429(0x17a)]),_0x5df5e1=_0x43d047[_0x446429(0x1c8)](_0x563711,'\x20'),_0xc1612d=_0x48fd44['padEnd'](_0x563711,'\x20'),_0x47c6e5=_0x547e5a[_0x446429(0x1c8)](_0x563711,'\x20');this['logger'][_0x446429(0x66d)]((_0x446429(0x34e)+'─'[_0x446429(0x5b0)](_0x563711)+_0x446429(0x4dc)+_0xc1612d+_0x446429(0x521)+_0x47c6e5+_0x446429(0x521)+_0x5df5e1+_0x446429(0x7a1)+'─'[_0x446429(0x5b0)](_0x563711)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x446429(0x55d)](),this[_0x446429(0x59f)]=!0x0;}}[a0_0x56f010(0x539)](){const _0x500281=a0_0x56f010;this[_0x500281(0x4cb)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x56f010(0x46d)](_0x34df34,_0x5ec3e=!0x1){const _0x32c3dc=a0_0x56f010;try{let _0x12be8d=await this[_0x32c3dc(0x5b9)][_0x32c3dc(0x1a5)]['find']({'where':{'_id':_0x34df34['id']}},this[_0x32c3dc(0x302)][_0x32c3dc(0x7a2)]);return _0x5ec3e?_0x12be8d[0x0]:_0x12be8d[0x0][_0x32c3dc(0x1a5)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x3bfb28=a0_0x56f010;let _0x50503e=this[_0x3bfb28(0x663)][_0x3bfb28(0x750)](_0x3bfb28(0x193)),_0x24e5d2=this[_0x3bfb28(0x663)]['get'](_0x3bfb28(0x792));_0x50503e?.[_0x3bfb28(0x2c6)]&&!_0x24e5d2[_0x3bfb28(0x365)]&&setInterval(()=>{const _0xa6e5e1=_0x3bfb28;try{for(let [_0x139d7c,_0xebbc82]of Object[_0xa6e5e1(0x540)](_0x50503e))_0xebbc82===!0x0&&(0x0,_t[_0xa6e5e1(0x45a)])('rm\x20-rf\x20'+(0x0,F[_0xa6e5e1(0x4c2)])(this['storePath'],_0x139d7c[_0xa6e5e1(0x4a7)](),this[_0xa6e5e1(0x302)]['wuid'])+_0xa6e5e1(0x72e));}catch{}},(_0x50503e?.[_0x3bfb28(0x2c6)]??0xe10)*0x3e8);}async[a0_0x56f010(0x6c1)](){const _0x54841a=a0_0x56f010;let _0x4f90a4=this[_0x54841a(0x663)][_0x54841a(0x750)](_0x54841a(0x792)),_0x1881f8=this['configService']['get']('REDIS');return _0x1881f8?.[_0x54841a(0x365)]?await bs(_0x1881f8,this[_0x54841a(0x302)][_0x54841a(0x3c0)]):_0x4f90a4[_0x54841a(0x365)]?await ys(this[_0x54841a(0x302)][_0x54841a(0x3c0)]):await(0x0,y[_0x54841a(0x30d)])((0x0,F[_0x54841a(0x4c2)])(he,this[_0x54841a(0x302)][_0x54841a(0x3c0)]));}async['AutomateFunctions'](){const _0x38a5de=a0_0x56f010;let _0x56ab97=()=>Math[_0x38a5de(0x716)](Math[_0x38a5de(0x2f6)]()*0x2711)+0x7d0,_0x5ecb38=async()=>{const _0x75a96e=_0x38a5de;if(!this[_0x75a96e(0x59f)]){this[_0x75a96e(0x186)][_0x75a96e(0x6db)](_0x75a96e(0x17e)),this[_0x75a96e(0x789)]=!0x1;return;}if(this['instance'][_0x75a96e(0x7a2)]&&this[_0x75a96e(0x32d)]&&this[_0x75a96e(0x483)]!==null&&this[_0x75a96e(0x483)]!==void 0x0){let _0x15dd33=Math[_0x75a96e(0x6a5)](this[_0x75a96e(0x483)]/0xea60);this[_0x75a96e(0x186)][_0x75a96e(0x6db)](this['instanceName']+'\x20('+this['instance'][_0x75a96e(0x7a2)]+_0x75a96e(0x74a)+_0x15dd33+_0x75a96e(0x1ee)),this[_0x75a96e(0x789)]=!0x1;return;}else this[_0x75a96e(0x302)]['wuid']&&(this[_0x75a96e(0x186)]['verbose'](this[_0x75a96e(0x5cd)]+'\x20('+this['instance'][_0x75a96e(0x7a2)]+_0x75a96e(0x2a5)),this[_0x75a96e(0x186)]['verbose'](this['instanceName']+'\x20('+this[_0x75a96e(0x302)][_0x75a96e(0x7a2)]+_0x75a96e(0x1b8)),this['AutomateSystem']||await this['getAutomateSystem'](),(this['delayMessage']===null||this[_0x75a96e(0x483)]===void 0x0)&&await this[_0x75a96e(0x2e1)]());if(this[_0x75a96e(0x789)]){let _0x2b65da=_0x56ab97();this[_0x75a96e(0x186)][_0x75a96e(0x6db)](this[_0x75a96e(0x5cd)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x2b65da/0x3e8+'\x20segundos'),setTimeout(_0x5ecb38,_0x2b65da);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x583d3d=_0x56ab97();setTimeout(_0x5ecb38,_0x583d3d);}async[a0_0x56f010(0x717)](_0x180fc5=0x0){const _0x168986=a0_0x56f010;if(!(this[_0x168986(0x663)][_0x168986(0x750)](_0x168986(0x6c2))||!0x1)||_0x180fc5>=0x3)return this[_0x168986(0x186)][_0x168986(0x26f)](_0x168986(0x243)),this['repository']['auth'][_0x168986(0x3a5)]({'ip':null},this['instance'][_0x168986(0x3c0)]),{};console[_0x168986(0x125)](_0x168986(0x15d)+(_0x180fc5+0x1)+'\x20de\x20conectar\x20com\x20proxy.');let _0x22f809=(await this['repository'][_0x168986(0x435)]['find'](this[_0x168986(0x5cd)]))['ip'],_0x4995a7=po(_0x22f809);if(_0x4995a7||(console[_0x168986(0x125)]('Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.'),_0x4995a7=go()),console['log'](_0x168986(0x157),_0x4995a7),_0x4995a7&&ho(_0x4995a7)){let _0x534d77=_0x4995a7[_0x168986(0x6a4)]+_0x168986(0x438)+_0x4995a7['username']+':'+_0x4995a7['password']+'@'+_0x4995a7[_0x168986(0x771)]+':'+_0x4995a7[_0x168986(0x456)];return console[_0x168986(0x125)](_0x168986(0x5df)),console['log'](_0x534d77),await this[_0x168986(0x5bc)](_0x534d77)?(console['log'](_0x168986(0x744)),this[_0x168986(0x5b9)][_0x168986(0x435)][_0x168986(0x3a5)]({'ip':_0x4995a7[_0x168986(0x771)]},this[_0x168986(0x302)][_0x168986(0x3c0)]),{'agent':new Dt[(_0x168986(0x44a))](_0x534d77),'fetchAgent':new Dt[(_0x168986(0x44a))](_0x534d77)}):(console['log'](_0x168986(0x2b4)),this['loadproxy'](_0x180fc5+0x1));}else return console[_0x168986(0x125)]('Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...'),this[_0x168986(0x717)](_0x180fc5+0x1);}async[a0_0x56f010(0x5bc)](_0xd9d12c){const _0x5285ed=a0_0x56f010;let _0x81876d=new Dt[(_0x5285ed(0x44a))](_0xd9d12c);try{let _0x557974=await se[_0x5285ed(0x34a)]['get'](_0x5285ed(0x658),{'httpsAgent':_0x81876d});return console['log'](_0x5285ed(0x283),_0x557974[_0x5285ed(0x4a1)]),!0x0;}catch{return console[_0x5285ed(0x4f8)](_0x5285ed(0x126)),!0x1;}}async['connectToWhatsapp'](_0x2f412e){const _0x2e9207=a0_0x56f010;try{let _0x4a98d8=await this['loadproxy']();this['loadWebhook'](),this['instance'][_0x2e9207(0x73d)]=await this[_0x2e9207(0x6c1)]();let {version:_0x30db88}=await(0x0,y[_0x2e9207(0x72c)])(),_0x4a440e=[Ms,Eo,(0x0,Ss[_0x2e9207(0x5f0)])()],_0x4885e5={..._0x4a98d8,'auth':{'creds':this[_0x2e9207(0x302)]['authState']['state'][_0x2e9207(0x60b)],'keys':(0x0,y[_0x2e9207(0x6b1)])(this[_0x2e9207(0x302)][_0x2e9207(0x73d)]['state'][_0x2e9207(0x37c)],(0x0,Ot[_0x2e9207(0x34a)])({'level':_0x2e9207(0x4f8)}))},'logger':(0x0,Ot[_0x2e9207(0x34a)])({'level':_0x2e9207(0x4f8)}),'printQRInTerminal':!0x1,'browser':_0x2f412e?[_0x2e9207(0x34b),Ms,(0x0,Ss[_0x2e9207(0x5f0)])()]:_0x4a440e,'version':_0x30db88,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x2e9207(0x52c)],'getMessage':async _0x2bcb28=>await this[_0x2e9207(0x46d)](_0x2bcb28),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2e9207(0x6fe)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x595929=>(_0x595929[_0x2e9207(0x470)]?.[_0x2e9207(0x3ef)]==y[_0x2e9207(0x251)][_0x2e9207(0x230)][_0x2e9207(0x576)][_0x2e9207(0x151)][_0x2e9207(0x273)]&&(_0x595929=JSON[_0x2e9207(0x2cd)](JSON[_0x2e9207(0x1b7)](_0x595929)),_0x595929[_0x2e9207(0x470)][_0x2e9207(0x3ef)]=y[_0x2e9207(0x251)][_0x2e9207(0x230)][_0x2e9207(0x576)][_0x2e9207(0x151)][_0x2e9207(0x3a6)]),_0x595929)};return this[_0x2e9207(0x211)]=!0x1,this['client']=(0x0,y[_0x2e9207(0x34a)])(_0x4885e5),this[_0x2e9207(0x51a)](),this[_0x2e9207(0x6ed)]=_0x2f412e,this[_0x2e9207(0x733)];}catch(_0x2d6641){throw this[_0x2e9207(0x186)][_0x2e9207(0x4f8)](this[_0x2e9207(0x5cd)]+'\x20('+this[_0x2e9207(0x302)]['wuid']+_0x2e9207(0x609)+(_0x2d6641 instanceof Error?_0x2d6641[_0x2e9207(0x1a5)]:JSON[_0x2e9207(0x1b7)](_0x2d6641,null,0x2))),new O(_0x2d6641?.[_0x2e9207(0x4c5)]());}}[a0_0x56f010(0x51a)](){const _0x1f7157=a0_0x56f010;this[_0x1f7157(0x733)]['ev'][_0x1f7157(0x62b)](_0x34679e=>{const _0x5bd88c=_0x1f7157;if(!this[_0x5bd88c(0x211)]){let _0x36f951=this['configService'][_0x5bd88c(0x750)](_0x5bd88c(0x792));if(_0x34679e[_0x5bd88c(0x305)]){let _0x17ec52=_0x34679e[_0x5bd88c(0x305)];this[_0x5bd88c(0x236)]['labels.edit'](_0x17ec52);}if(_0x34679e[_0x5bd88c(0x4dd)]){let _0x2ca633=_0x34679e[_0x5bd88c(0x4dd)];this[_0x5bd88c(0x236)]['labels.association'](_0x2ca633);}if(_0x34679e[_0x5bd88c(0x5c6)]&&this[_0x5bd88c(0x6e5)](_0x34679e[_0x5bd88c(0x5c6)]),_0x34679e['creds.update']&&this['instance'][_0x5bd88c(0x73d)][_0x5bd88c(0x6f3)](),_0x34679e['messaging-history.set']){let _0x5471af=_0x34679e[_0x5bd88c(0x72b)];this['messageHandle'][_0x5bd88c(0x72b)](_0x5471af,_0x36f951);}if(_0x34679e[_0x5bd88c(0x33e)]){let _0x21f734=_0x34679e[_0x5bd88c(0x33e)];this[_0x5bd88c(0x236)][_0x5bd88c(0x33e)](_0x21f734,_0x36f951);}if(_0x34679e['messages.update']){let _0x321aef=_0x34679e['messages.update'];_0x321aef[_0x5bd88c(0x147)](_0x4945d8=>{const _0x52eff6=_0x5bd88c;if(fo[_0x4945d8[_0x52eff6(0x528)]['id']]){this['client']['ev']['emit']('messages.upsert',{'messages':[_0x4945d8],'type':'notify'}),delete fo[_0x4945d8[_0x52eff6(0x528)]['id']];return;}}),this[_0x5bd88c(0x236)][_0x5bd88c(0x1bd)](_0x321aef,_0x36f951);}if(_0x34679e[_0x5bd88c(0x5a2)]){let _0x550710=_0x34679e[_0x5bd88c(0x5a2)];if(this[_0x5bd88c(0x78b)]?.[_0x5bd88c(0x74e)]&&_0x550710['id']['includes'](_0x5bd88c(0x292)))return;this[_0x5bd88c(0x626)](_0x5bd88c(0x5a2),_0x550710);}if(!this['localWebhook']?.['groups_ignore']){if(_0x34679e[_0x5bd88c(0x72a)]){let _0x861204=_0x34679e[_0x5bd88c(0x72a)];this[_0x5bd88c(0x1d0)][_0x5bd88c(0x72a)](_0x861204);}if(_0x34679e[_0x5bd88c(0x605)]){let _0x11df84=_0x34679e[_0x5bd88c(0x605)];this[_0x5bd88c(0x1d0)]['groups.update'](_0x11df84);}if(_0x34679e[_0x5bd88c(0x426)]){let _0x28d88c=_0x34679e[_0x5bd88c(0x426)];this[_0x5bd88c(0x1d0)][_0x5bd88c(0x426)](_0x28d88c);}}if(_0x34679e[_0x5bd88c(0x684)]){let _0xb081cb=_0x34679e[_0x5bd88c(0x684)];this[_0x5bd88c(0x383)]['chats.upsert'](_0xb081cb,_0x36f951);}if(_0x34679e[_0x5bd88c(0x5d3)]){let _0x3bfa38=_0x34679e[_0x5bd88c(0x5d3)];this[_0x5bd88c(0x383)][_0x5bd88c(0x5d3)](_0x3bfa38,_0x36f951);}if(_0x34679e[_0x5bd88c(0x43b)]){let _0xdb72a6=_0x34679e['chats.delete'];this[_0x5bd88c(0x383)][_0x5bd88c(0x43b)](_0xdb72a6);}if(_0x34679e[_0x5bd88c(0x714)]){let _0x45b7c8=_0x34679e['contacts.upsert'];this[_0x5bd88c(0x3e7)][_0x5bd88c(0x714)](_0x45b7c8,_0x36f951);}if(_0x34679e['contacts.update']){let _0x253571=_0x34679e[_0x5bd88c(0x278)];this[_0x5bd88c(0x3e7)][_0x5bd88c(0x278)](_0x253571,_0x36f951);}}});}[a0_0x56f010(0x55e)](_0x1ff05b){return new Promise(_0x3c1b3d=>setTimeout(_0x3c1b3d,_0x1ff05b));}[a0_0x56f010(0x630)](_0x85768a){const _0x172b18=a0_0x56f010;let _0x2ae5fb=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x172b18(0x30e)](_0x85768a);if(_0x2ae5fb&&_0x2ae5fb[0x1]==='55'){let _0x3d99bc=_0x2ae5fb[0x2],_0x51972d=_0x2ae5fb[0x3],_0x5deceb=_0x2ae5fb[0x4];if(_0x3d99bc>='31'&&_0x51972d==='9')return _0x2ae5fb[0x1]+_0x3d99bc+_0x5deceb;}return _0x85768a;}['createJid'](_0x2ff667){const _0x4f6f42=a0_0x56f010;return _0x2ff667[_0x4f6f42(0x246)](_0x4f6f42(0x292))||_0x2ff667[_0x4f6f42(0x246)](_0x4f6f42(0x392))||_0x2ff667['includes'](_0x4f6f42(0x174))?_0x2ff667:(_0x2ff667=_0x2ff667?.[_0x4f6f42(0x2b0)](/\s/g,'')[_0x4f6f42(0x2b0)](/\+/g,'')[_0x4f6f42(0x2b0)](/\(/g,'')[_0x4f6f42(0x2b0)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x2ff667[_0x4f6f42(0x17a)]>=0x12?(_0x2ff667=_0x2ff667[_0x4f6f42(0x2b0)](/[^\d-]/g,''),_0x2ff667+_0x4f6f42(0x292)):(_0x2ff667=_0x2ff667[_0x4f6f42(0x2b0)](/\D/g,''),this[_0x4f6f42(0x630)](_0x2ff667)+_0x4f6f42(0x392)));}async['updatePresence'](_0x259060){const _0x23f295=a0_0x56f010;let _0x2458d7=this[_0x23f295(0x708)](_0x259060[_0x23f295(0x32e)]),_0x1d2833=(await this['whatsappNumber']({'numbers':[_0x2458d7]}))[0x0];if(!_0x1d2833[_0x23f295(0x373)]&&!(0x0,y[_0x23f295(0x6df)])(_0x1d2833[_0x23f295(0x30b)]))throw new m(_0x1d2833);let _0x5aa957=(0x0,y[_0x23f295(0x6df)])(_0x2458d7)?_0x2458d7:_0x1d2833[_0x23f295(0x30b)];if((0x0,y[_0x23f295(0x6df)])(_0x5aa957))try{await this[_0x23f295(0x733)][_0x23f295(0x542)](_0x5aa957);}catch{throw new j(_0x23f295(0x2a3));}try{return await this[_0x23f295(0x733)]['presenceSubscribe'](_0x5aa957),await this[_0x23f295(0x733)]['sendPresenceUpdate'](_0x259060[_0x23f295(0x547)],_0x2458d7),{'status':0xc8,'presence':_0x259060['presence']};}catch(_0xa1d1b1){throw new m(_0xa1d1b1['toString']());}}async[a0_0x56f010(0x284)](_0x2f3b2e){const _0x3e5f2a=a0_0x56f010;let _0x499c2a=this['createJid'](_0x2f3b2e);try{return{'wuid':_0x499c2a,'profilePictureUrl':await this['client'][_0x3e5f2a(0x183)](_0x499c2a,_0x3e5f2a(0x350))};}catch{return{'wuid':_0x499c2a,'profilePictureUrl':null};}}async[a0_0x56f010(0x2bf)](_0xb1bfd1,_0x3627a4,_0x11f7fd){const _0x4b5fcd=a0_0x56f010;_0x11f7fd||(_0x11f7fd={});let _0x424cf4=(await this[_0x4b5fcd(0x6d8)]({'numbers':[_0xb1bfd1]}))[0x0];if(!_0x424cf4[_0x4b5fcd(0x373)]&&!(0x0,y['isJidGroup'])(_0x424cf4['jid'])&&!_0x424cf4[_0x4b5fcd(0x30b)][_0x4b5fcd(0x246)](_0x4b5fcd(0x174)))throw new m(_0x424cf4);let _0x5a5e14=_0x424cf4[_0x4b5fcd(0x30b)];try{_0x11f7fd?.[_0x4b5fcd(0x552)]&&(await this[_0x4b5fcd(0x733)][_0x4b5fcd(0x1ce)](_0x5a5e14),await this['client'][_0x4b5fcd(0x1f3)](_0x11f7fd?.[_0x4b5fcd(0x547)]??'composing',_0x5a5e14),await(0x0,y[_0x4b5fcd(0x552)])(_0x11f7fd['delay']),await this['client'][_0x4b5fcd(0x1f3)](_0x4b5fcd(0x21f),_0x5a5e14));let _0x2f9029=_0x11f7fd?.[_0x4b5fcd(0x660)]!=!0x1?void 0x0:!0x1,_0x3bc4ba;if(_0x11f7fd?.[_0x4b5fcd(0x315)]){let _0x2f21f7=_0x11f7fd?.[_0x4b5fcd(0x315)],_0x2de8a5=_0x2f21f7?.['message']?_0x2f21f7:await this['getMessage'](_0x2f21f7[_0x4b5fcd(0x528)],!0x0);if(!_0x2de8a5)throw _0x4b5fcd(0x1f0);_0x3bc4ba=_0x2de8a5;}let _0x5508f4;if((0x0,y['isJidGroup'])(_0x5a5e14))try{let _0x318041=await this['client'][_0x4b5fcd(0x542)](_0x5a5e14);if(!_0x318041)throw new j(_0x4b5fcd(0x2a3));_0x11f7fd?.[_0x4b5fcd(0x529)]&&(_0x11f7fd[_0x4b5fcd(0x529)]?.[_0x4b5fcd(0x3c7)]?_0x5508f4=_0x318041[_0x4b5fcd(0x66e)][_0x4b5fcd(0x1ef)](_0x46095b=>_0x46095b['id']):_0x11f7fd['mentions']?.['mentioned']?.['length']&&(_0x5508f4=_0x11f7fd['mentions'][_0x4b5fcd(0x448)][_0x4b5fcd(0x1ef)](_0x121008=>{const _0x512bc9=_0x4b5fcd;let _0x1ab6b4=this[_0x512bc9(0x708)](_0x121008);return(0x0,y[_0x512bc9(0x6df)])(_0x1ab6b4)?null:_0x1ab6b4;})));}catch{throw new j(_0x4b5fcd(0x2a3));}let _0x4d0476=await((async()=>{const _0x4de600=_0x4b5fcd;let _0x40dddc={'quoted':_0x3bc4ba};if(!_0x3627a4['audio']&&!_0x3627a4[_0x4de600(0x51e)]&&!_0x3627a4['sticker']&&!_0x3627a4[_0x4de600(0x208)]&&_0x5a5e14!==_0x4de600(0x799)&&!_0x3627a4['audio'])return await this[_0x4de600(0x733)]['sendMessage'](_0x5a5e14,{'forward':{'key':{'remoteJid':this['instance'][_0x4de600(0x7a2)],'fromMe':!0x0},'message':_0x3627a4},'mentions':_0x5508f4},_0x40dddc);if(_0x3627a4['conversation']){let _0x2c7a0d=_0x3627a4[_0x4de600(0x208)];return _0x11f7fd?.['changeVariables']&&(_0x2c7a0d=await this[_0x4de600(0x39f)](_0x2c7a0d,_0x5a5e14)),await this[_0x4de600(0x733)][_0x4de600(0x4a6)](_0x5a5e14,{'text':_0x2c7a0d,'mentions':_0x5508f4,'linkPreview':_0x2f9029},_0x40dddc);}return _0x5a5e14===_0x4de600(0x799)?await this['client'][_0x4de600(0x4a6)](_0x5a5e14,_0x3627a4[_0x4de600(0x1b0)][_0x4de600(0x7a6)],{'backgroundColor':_0x3627a4[_0x4de600(0x1b0)]['option']['backgroundColor'],'font':_0x3627a4[_0x4de600(0x1b0)][_0x4de600(0x2ce)][_0x4de600(0x3b8)],'statusJidList':_0x3627a4['status'][_0x4de600(0x2ce)][_0x4de600(0x608)]}):await this[_0x4de600(0x733)]['sendMessage'](_0x5a5e14,_0x3627a4,_0x40dddc);})()),{message_normalized:_0x4ff9c4}=this[_0x4b5fcd(0x55b)](_0x4d0476['message'],P(_0x4d0476[_0x4b5fcd(0x1a5)]),null),_0x59ee50={'_id':_0x4d0476[_0x4b5fcd(0x528)]['id'],'key':_0x4d0476[_0x4b5fcd(0x528)],'pushName':_0x4d0476['pushName'],'message':{..._0x4d0476['message']},'messageType':P(_0x4d0476[_0x4b5fcd(0x1a5)]),'message_normalized':{'key':_0x4d0476[_0x4b5fcd(0x528)],'pushName':_0x4d0476['pushName'],'messageTimestamp':_0x4d0476[_0x4b5fcd(0x24d)]&&_0x4d0476['messageTimestamp'][_0x4b5fcd(0x4c5)]()[_0x4b5fcd(0x17a)]<0xd?_0x4d0476[_0x4b5fcd(0x24d)]*0x3e8:_0x4d0476['messageTimestamp']||null,'source':(0x0,y['getDevice'])(_0x4d0476[_0x4b5fcd(0x528)]['id']),..._0x4ff9c4},'messageTimestamp':_0x4d0476['messageTimestamp']&&_0x4d0476[_0x4b5fcd(0x24d)][_0x4b5fcd(0x4c5)]()[_0x4b5fcd(0x17a)]<0xd?_0x4d0476['messageTimestamp']*0x3e8:_0x4d0476[_0x4b5fcd(0x24d)]||null,'owner':this[_0x4b5fcd(0x302)]['wuid'],'source':(0x0,y[_0x4b5fcd(0x1be)])(_0x4d0476['key']['id'])};return this[_0x4b5fcd(0x186)]['log'](_0x59ee50),this[_0x4b5fcd(0x626)](_0x4b5fcd(0x2ab),_0x59ee50),J(this[_0x4b5fcd(0x5cd)],_0x4b5fcd(0x664),{'message':_0x59ee50}),this[_0x4b5fcd(0x741)](this[_0x4b5fcd(0x663)]['get'](_0x4b5fcd(0x792)),_0x59ee50,_0x4b5fcd(0x495)),await this['repository'][_0x4b5fcd(0x1a5)][_0x4b5fcd(0x45b)]([_0x59ee50],this[_0x4b5fcd(0x302)][_0x4b5fcd(0x7a2)]),_0x4d0476;}catch(_0x311f01){throw this[_0x4b5fcd(0x186)][_0x4b5fcd(0x4f8)](this[_0x4b5fcd(0x5cd)]+'\x20('+this['instance'][_0x4b5fcd(0x7a2)]+'):\x20'+_0x311f01[_0x4b5fcd(0x4c5)]()),new m(_0x311f01[_0x4b5fcd(0x4c5)]());}}get['connectionStatus'](){const _0x5572ca=a0_0x56f010;return this[_0x5572ca(0x674)];}async[a0_0x56f010(0x344)](_0x23496f){const _0x1379a1=a0_0x56f010;let _0x59a832=mo,_0x370ba7=He;return _0x370ba7&&this['instanceName'][_0x1379a1(0x4a7)]()[_0x1379a1(0x246)](_0x370ba7[_0x1379a1(0x4a7)]())&&(_0x23496f[_0x1379a1(0x344)][_0x1379a1(0x577)]+='\x0a\x0a'+_0x59a832),await this[_0x1379a1(0x2bf)](_0x23496f['number'],{'conversation':_0x23496f[_0x1379a1(0x344)][_0x1379a1(0x577)]},_0x23496f?.[_0x1379a1(0x269)]);}async['formatStatusMessage'](_0x42e21c){const _0x15cbfe=a0_0x56f010;if(!_0x42e21c[_0x15cbfe(0x270)])throw new m(_0x15cbfe(0x672));if(!_0x42e21c[_0x15cbfe(0x7a6)])throw new m(_0x15cbfe(0x131));if(_0x42e21c[_0x15cbfe(0x129)]){let _0x207818=await this['repository']['contact'][_0x15cbfe(0x766)]({'where':{}},this['instance'][_0x15cbfe(0x7a2)]);if(!_0x207818[_0x15cbfe(0x17a)])throw new m('Contacts\x20not\x20found');_0x42e21c[_0x15cbfe(0x608)]=_0x207818[_0x15cbfe(0x336)](_0x29e7b3=>_0x29e7b3['pushName'])[_0x15cbfe(0x1ef)](_0x4fd96b=>_0x4fd96b[_0x15cbfe(0x20e)]);}if(!_0x42e21c[_0x15cbfe(0x608)]?.['length']&&!_0x42e21c[_0x15cbfe(0x129)])throw new m(_0x15cbfe(0x161));if(_0x42e21c[_0x15cbfe(0x270)]==='text'){if(!_0x42e21c[_0x15cbfe(0x393)])throw new m(_0x15cbfe(0x462));if(!_0x42e21c[_0x15cbfe(0x3b8)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x42e21c['content']},'option':{'backgroundColor':_0x42e21c['backgroundColor'],'font':_0x42e21c['font'],'statusJidList':_0x42e21c['statusJidList']}};}if(_0x42e21c['type']==='image')return{'content':{'image':{'url':_0x42e21c[_0x15cbfe(0x7a6)]},'caption':_0x42e21c[_0x15cbfe(0x3d6)]},'option':{'statusJidList':_0x42e21c['statusJidList']}};if(_0x42e21c['type']===_0x15cbfe(0x16a))return{'content':{'video':{'url':_0x42e21c['content']},'caption':_0x42e21c['caption']},'option':{'statusJidList':_0x42e21c['statusJidList']}};if(_0x42e21c['type']===_0x15cbfe(0x453)){this['logger']['verbose']('Type\x20defined\x20as\x20audio'),this[_0x15cbfe(0x186)]['verbose'](_0x15cbfe(0x4a3));let _0x1c07a5=await this[_0x15cbfe(0x299)](_0x42e21c[_0x15cbfe(0x7a6)]);if(typeof _0x1c07a5==_0x15cbfe(0x140)){this['logger'][_0x15cbfe(0x6db)](_0x15cbfe(0x132));let _0x32dd93=L['readFileSync'](_0x1c07a5)[_0x15cbfe(0x4c5)]('base64'),_0x288c02={'content':{'audio':Buffer[_0x15cbfe(0x2f8)](_0x32dd93,_0x15cbfe(0x50e)),'ptt':!0x0,'mimetype':_0x15cbfe(0x61b)},'option':{'statusJidList':_0x42e21c[_0x15cbfe(0x608)]}};return L[_0x15cbfe(0x776)](_0x1c07a5),_0x288c02;}else throw new O(_0x1c07a5);}throw new m(_0x15cbfe(0x37f));}async[a0_0x56f010(0x311)](_0x15770d){const _0x55dd77=a0_0x56f010;return await this[_0x55dd77(0x2bf)](_0x55dd77(0x799),{'status':await this[_0x55dd77(0x752)](_0x15770d[_0x55dd77(0x311)])});}async[a0_0x56f010(0x1cc)](_0x526717){const _0x39b1c6=a0_0x56f010;try{let _0x2c79b2=await(0x0,y[_0x39b1c6(0x309)])({[_0x526717[_0x39b1c6(0x79a)]]:(0x0,k[_0x39b1c6(0x439)])(_0x526717[_0x39b1c6(0x629)])?{'url':_0x526717[_0x39b1c6(0x629)]}:Buffer[_0x39b1c6(0x2f8)](_0x526717[_0x39b1c6(0x629)],_0x39b1c6(0x50e))},{'upload':this[_0x39b1c6(0x733)]['waUploadToServer']}),_0x8cc9d3=_0x526717[_0x39b1c6(0x79a)]+_0x39b1c6(0x230);if(_0x526717[_0x39b1c6(0x79a)]===_0x39b1c6(0x457)&&!_0x526717['fileName']){let _0x1aad45=new RegExp(/.*\/(.+?)\./)[_0x39b1c6(0x30e)](_0x526717[_0x39b1c6(0x629)]);_0x526717[_0x39b1c6(0x6e8)]=_0x1aad45?_0x1aad45[0x1]:null;}let _0x1d8e79=(0x0,k[_0x39b1c6(0x439)])(_0x526717[_0x39b1c6(0x629)])?_0x526717[_0x39b1c6(0x629)][_0x39b1c6(0x4bc)]('?')[0x0]:_0x526717[_0x39b1c6(0x629)];this[_0x39b1c6(0x186)][_0x39b1c6(0x6db)]('URL\x20limpa:\x20'+_0x1d8e79);let _0x172ebb;(0x0,k[_0x39b1c6(0x439)])(_0x526717[_0x39b1c6(0x629)])?_0x172ebb=(0x0,It[_0x39b1c6(0x6f1)])(_0x1d8e79):_0x526717[_0x39b1c6(0x6e8)]&&_0x526717[_0x39b1c6(0x6e8)]['includes']('.')?_0x172ebb=(0x0,It['getMIMEType'])(_0x526717[_0x39b1c6(0x6e8)]):_0x172ebb=(0x0,It[_0x39b1c6(0x6f1)])(_0x526717['media']);let _0x32f5af=mo,_0x54a18d=He;return _0x54a18d&&this['instanceName'][_0x39b1c6(0x4a7)]()[_0x39b1c6(0x246)](_0x54a18d[_0x39b1c6(0x4a7)]())&&(_0x526717[_0x39b1c6(0x3d6)]+='\x0a\x0a'+_0x32f5af),_0x2c79b2[_0x8cc9d3][_0x39b1c6(0x3d6)]=_0x526717?.[_0x39b1c6(0x3d6)],_0x2c79b2[_0x8cc9d3][_0x39b1c6(0x37e)]=_0x172ebb,_0x2c79b2[_0x8cc9d3][_0x39b1c6(0x6e8)]=_0x526717[_0x39b1c6(0x6e8)],_0x526717[_0x39b1c6(0x79a)]===_0x39b1c6(0x16a)&&(_0x2c79b2[_0x8cc9d3]['jpegThumbnail']=Uint8Array[_0x39b1c6(0x2f8)]((0x0,ve['readFileSync'])((0x0,F[_0x39b1c6(0x4c2)])(process[_0x39b1c6(0x3c9)](),_0x39b1c6(0x79c)))),_0x2c79b2[_0x8cc9d3][_0x39b1c6(0x6c7)]=!0x1),(0x0,y[_0x39b1c6(0x4ce)])('',{[_0x8cc9d3]:{..._0x2c79b2[_0x8cc9d3]}},{'userJid':this[_0x39b1c6(0x302)][_0x39b1c6(0x7a2)]});}catch(_0x5c2a13){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x39b1c6(0x302)][_0x39b1c6(0x7a2)]+_0x39b1c6(0x609)+(_0x5c2a13 instanceof Error?_0x5c2a13['message']:JSON[_0x39b1c6(0x1b7)](_0x5c2a13,null,0x2))),new O(_0x5c2a13?.[_0x39b1c6(0x4c5)]()||_0x5c2a13);}}async[a0_0x56f010(0x5d6)](_0x148b5d){const _0x158715=a0_0x56f010;let _0x1c3137=await this[_0x158715(0x1cc)](_0x148b5d[_0x158715(0x5d6)]);return await this['sendMessageWithTyping'](_0x148b5d[_0x158715(0x32e)],{..._0x1c3137[_0x158715(0x1a5)]},_0x148b5d?.[_0x158715(0x269)]);}async[a0_0x56f010(0x13d)](_0x19c6d3,_0x3d94f0){const _0x416876=a0_0x56f010;try{this[_0x416876(0x186)][_0x416876(0x6db)](_0x416876(0x2d1));let _0xfff652,_0xbfc870=_0x3d94f0+'-'+new Date()[_0x416876(0x3e1)]();this['logger'][_0x416876(0x6db)](_0x416876(0x512)+_0xbfc870);let _0x5df978=''+(0x0,F['join'])(this[_0x416876(0x5bb)],_0xbfc870+_0x416876(0x3e3));if(this[_0x416876(0x186)][_0x416876(0x6db)](_0x416876(0x2d2)+_0x5df978),(0x0,k[_0x416876(0x709)])(_0x19c6d3)){this[_0x416876(0x186)]['verbose']('Image\x20is\x20base64');let _0x1535f5=_0x19c6d3[_0x416876(0x2b0)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2760e8=Buffer[_0x416876(0x2f8)](_0x1535f5,_0x416876(0x50e));_0xfff652=''+(0x0,F[_0x416876(0x4c2)])(this[_0x416876(0x5bb)],'temp-'+_0xbfc870+_0x416876(0x6c9)),this['logger'][_0x416876(0x6db)](_0x416876(0x551)+_0xfff652),await(0x0,xt[_0x416876(0x34a)])(_0x2760e8)[_0x416876(0x67c)](_0xfff652),this[_0x416876(0x186)][_0x416876(0x6db)]('Image\x20created');}else{this[_0x416876(0x186)][_0x416876(0x6db)](_0x416876(0x572));let _0x2b056b=new Date()[_0x416876(0x3e1)](),_0x3ad975=_0x19c6d3+_0x416876(0x1a2)+_0x2b056b;this[_0x416876(0x186)][_0x416876(0x6db)]('including\x20timestamp\x20in\x20url:\x20'+_0x3ad975);let _0x176831=await se['default'][_0x416876(0x750)](_0x3ad975,{'responseType':_0x416876(0x4e9)});this[_0x416876(0x186)][_0x416876(0x6db)](_0x416876(0x60f));let _0xa101b1=Buffer['from'](_0x176831[_0x416876(0x4a1)],_0x416876(0x720));_0xfff652=''+(0x0,F[_0x416876(0x4c2)])(this['storePath'],'temp-'+_0xbfc870+_0x416876(0x6c9)),this[_0x416876(0x186)][_0x416876(0x6db)](_0x416876(0x551)+_0xfff652),await(0x0,xt[_0x416876(0x34a)])(_0xa101b1)['toFile'](_0xfff652),this[_0x416876(0x186)]['verbose'](_0x416876(0x6ac));}return await(0x0,xt[_0x416876(0x34a)])(_0xfff652)[_0x416876(0x479)]()[_0x416876(0x67c)](_0x5df978),this[_0x416876(0x186)]['verbose'](_0x416876(0x317)),L['unlinkSync'](_0xfff652),this['logger'][_0x416876(0x6db)](_0x416876(0x38c)),_0x5df978;}catch(_0x13b27b){console[_0x416876(0x4f8)](_0x416876(0x73a),_0x13b27b instanceof Error?_0x13b27b[_0x416876(0x1a5)]:JSON[_0x416876(0x1b7)](_0x13b27b,null,0x2));}}async[a0_0x56f010(0x73c)](_0x22fcc0){const _0x3c32b3=a0_0x56f010;let _0x260c8c=await this['convertToWebP'](_0x22fcc0[_0x3c32b3(0x39a)][_0x3c32b3(0x350)],_0x22fcc0[_0x3c32b3(0x32e)]),_0x1a8ee5=await this[_0x3c32b3(0x2bf)](_0x22fcc0[_0x3c32b3(0x32e)],{'sticker':{'url':_0x260c8c}},_0x22fcc0?.['options']);return L['unlinkSync'](_0x260c8c),this[_0x3c32b3(0x186)][_0x3c32b3(0x6db)](_0x3c32b3(0x51c)),_0x1a8ee5;}async['audioWhatsapp'](_0x428704){const _0xc91dc7=a0_0x56f010;if(this[_0xc91dc7(0x186)][_0xc91dc7(0x6db)]('Sending\x20audio\x20whatsapp'),!_0x428704[_0xc91dc7(0x269)]?.[_0xc91dc7(0x1ac)]&&_0x428704[_0xc91dc7(0x269)]?.[_0xc91dc7(0x1ac)]!==!0x1&&(_0x428704[_0xc91dc7(0x269)][_0xc91dc7(0x1ac)]=!0x0),_0x428704[_0xc91dc7(0x269)]?.[_0xc91dc7(0x1ac)]){let _0x1578f6=await this[_0xc91dc7(0x299)](_0x428704['audioMessage']['audio']);if(typeof _0x1578f6==_0xc91dc7(0x140)){let _0x4e26b9=L[_0xc91dc7(0x425)](_0x1578f6)[_0xc91dc7(0x4c5)]('base64'),_0x4f16e6=this[_0xc91dc7(0x2bf)](_0x428704[_0xc91dc7(0x32e)],{'audio':Buffer[_0xc91dc7(0x2f8)](_0x4e26b9,_0xc91dc7(0x50e)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0xc91dc7(0x418),'delay':_0x428704?.[_0xc91dc7(0x269)]?.[_0xc91dc7(0x552)]});return L['unlinkSync'](_0x1578f6),this['logger'][_0xc91dc7(0x6db)](_0xc91dc7(0x68c)),_0x4f16e6;}else throw new O(_0x1578f6);}return await this[_0xc91dc7(0x2bf)](_0x428704[_0xc91dc7(0x32e)],{'audio':(0x0,k[_0xc91dc7(0x439)])(_0x428704[_0xc91dc7(0x405)][_0xc91dc7(0x453)])?{'url':_0x428704[_0xc91dc7(0x405)][_0xc91dc7(0x453)]}:Buffer[_0xc91dc7(0x2f8)](_0x428704[_0xc91dc7(0x405)][_0xc91dc7(0x453)],'base64'),'ptt':!0x0,'mimetype':_0xc91dc7(0x21c)},{'presence':_0xc91dc7(0x418),'delay':_0x428704?.['options']?.[_0xc91dc7(0x552)]});}async['convertaudio'](_0x319b9b){const _0x4df8f6=a0_0x56f010;this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x4a3));let _0x50c022,_0x603777,_0x26b8fd=(0x0,Me['v4'])();if(this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x1f5)+_0x26b8fd),(0x0,k[_0x4df8f6(0x439)])(_0x319b9b)){this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x615)),_0x603777=''+(0x0,F['join'])(this[_0x4df8f6(0x5bb)],_0x26b8fd+_0x4df8f6(0x18a)),_0x50c022=''+(0x0,F[_0x4df8f6(0x4c2)])(this[_0x4df8f6(0x5bb)],_0x4df8f6(0x22e)+_0x26b8fd+_0x4df8f6(0x514)),this['logger'][_0x4df8f6(0x6db)](_0x4df8f6(0x3ce)+_0x603777),this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x53d)+_0x50c022);let _0x468b48=new Date()[_0x4df8f6(0x3e1)](),_0x2df94b=_0x319b9b+_0x4df8f6(0x1a2)+_0x468b48;this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x5e6)+_0x2df94b);let _0x32a649=await se['default']['get'](_0x2df94b,{'responseType':_0x4df8f6(0x4e9)});this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x1e5)),L['writeFileSync'](_0x50c022,_0x32a649['data']);}else{this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x790)),_0x603777=''+(0x0,F[_0x4df8f6(0x4c2)])(this[_0x4df8f6(0x5bb)],_0x26b8fd+_0x4df8f6(0x18a)),_0x50c022=''+(0x0,F[_0x4df8f6(0x4c2)])(this['storePath'],_0x4df8f6(0x22e)+_0x26b8fd+'.mp3'),this[_0x4df8f6(0x186)]['verbose'](_0x4df8f6(0x3ce)+_0x603777),this[_0x4df8f6(0x186)]['verbose'](_0x4df8f6(0x53d)+_0x50c022);let _0x7f155e=Buffer[_0x4df8f6(0x2f8)](_0x319b9b,_0x4df8f6(0x50e));L[_0x4df8f6(0x51d)](_0x50c022,_0x7f155e),this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x18c));}return this[_0x4df8f6(0x186)][_0x4df8f6(0x6db)](_0x4df8f6(0x192)),new Promise((_0x2471cf,_0x122267)=>{const _0x524fbc=_0x4df8f6;(0x0,_t[_0x524fbc(0x30e)])(wo['default']['path']+_0x524fbc(0x5b5)+_0x50c022+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x603777+'\x20-y',_0x4b7a14=>{const _0x1ffb17=_0x524fbc;L[_0x1ffb17(0x776)](_0x50c022),this[_0x1ffb17(0x186)]['verbose']('Temp\x20audio\x20deleted'),_0x4b7a14&&_0x122267(_0x4b7a14),this[_0x1ffb17(0x186)]['verbose'](_0x1ffb17(0x730)),_0x2471cf(_0x603777);});});}async[a0_0x56f010(0x646)](_0x364b69){const _0x39e360=a0_0x56f010;let _0x4e725a={},_0x5231d8=_0x39e360(0x4f6);if(_0x364b69[_0x39e360(0x646)]?.[_0x39e360(0x5d6)]){_0x5231d8=_0x364b69[_0x39e360(0x646)][_0x39e360(0x5d6)]?.[_0x39e360(0x79a)][_0x39e360(0x410)]()??_0x39e360(0x4f6),_0x4e725a['mediaKey']=_0x5231d8[_0x39e360(0x4a7)]()+_0x39e360(0x230);let _0x5af781=await this[_0x39e360(0x1cc)](_0x364b69[_0x39e360(0x646)]['mediaMessage']);_0x4e725a[_0x39e360(0x1a5)]=_0x5af781[_0x39e360(0x1a5)][_0x4e725a[_0x39e360(0x3c6)]],_0x4e725a[_0x39e360(0x4d1)]='*'+_0x364b69[_0x39e360(0x646)][_0x39e360(0x499)]+_0x39e360(0x29d)+_0x364b69[_0x39e360(0x646)][_0x39e360(0x3ee)];}let _0x45dec4={'text':_0x364b69[_0x39e360(0x646)][_0x39e360(0x544)][_0x39e360(0x1ef)](_0x435f55=>_0x435f55[_0x39e360(0x25b)]),'ids':_0x364b69['buttonMessage']['buttons'][_0x39e360(0x1ef)](_0x533fb0=>_0x533fb0[_0x39e360(0x2e7)])};if(!(0x0,k[_0x39e360(0x23b)])(_0x45dec4[_0x39e360(0x577)])||!(0x0,k[_0x39e360(0x23b)])(_0x45dec4[_0x39e360(0x274)]))throw new m(_0x39e360(0x466),_0x39e360(0x3fb));return await this[_0x39e360(0x2bf)](_0x364b69[_0x39e360(0x32e)],{'buttonsMessage':{'text':_0x4e725a?.[_0x39e360(0x3c6)]?void 0x0:_0x364b69[_0x39e360(0x646)][_0x39e360(0x499)],'contentText':_0x4e725a?.['contentText']??_0x364b69[_0x39e360(0x646)][_0x39e360(0x3ee)],'footerText':_0x364b69[_0x39e360(0x646)]?.['footerText'],'buttons':_0x364b69[_0x39e360(0x646)][_0x39e360(0x544)][_0x39e360(0x1ef)](_0x6561f3=>({'buttonText':{'displayText':_0x6561f3['buttonText']},'buttonId':_0x6561f3[_0x39e360(0x2e7)],'type':0x1})),'headerType':y[_0x39e360(0x251)][_0x39e360(0x230)][_0x39e360(0x452)]['HeaderType'][_0x5231d8],[_0x4e725a?.['mediaKey']]:_0x4e725a?.[_0x39e360(0x1a5)]}},_0x364b69?.[_0x39e360(0x269)]);}async[a0_0x56f010(0x49e)](_0x28eacc){const _0x52a1fd=a0_0x56f010;return await this[_0x52a1fd(0x2bf)](_0x28eacc[_0x52a1fd(0x32e)],{'locationMessage':{'degreesLatitude':_0x28eacc[_0x52a1fd(0x49e)][_0x52a1fd(0x4c6)],'degreesLongitude':_0x28eacc[_0x52a1fd(0x49e)][_0x52a1fd(0x564)],'name':_0x28eacc[_0x52a1fd(0x49e)]?.[_0x52a1fd(0x3c0)],'address':_0x28eacc[_0x52a1fd(0x49e)]?.[_0x52a1fd(0x698)]}},_0x28eacc?.[_0x52a1fd(0x269)]);}async[a0_0x56f010(0x1ad)](_0xeef051){const _0xe8f5a7=a0_0x56f010;let _0x561f23={},_0xcd54e7=_0x370363=>{const _0x3d1723=a0_0x4a73;let _0x199763=_0x3d1723(0x492)+_0x370363[_0x3d1723(0x5eb)]+_0x3d1723(0x53c)+_0x370363[_0x3d1723(0x5eb)]+'\x0a';_0x370363[_0x3d1723(0x3cd)]&&(_0x199763+=_0x3d1723(0x1ba)+_0x370363[_0x3d1723(0x3cd)]+';\x0a'),_0x370363[_0x3d1723(0x35b)]&&(_0x199763+=_0x3d1723(0x316)+_0x370363[_0x3d1723(0x35b)]+'\x0a'),_0x370363[_0x3d1723(0x370)]&&(_0x199763+='URL:'+_0x370363[_0x3d1723(0x370)]+'\x0a');let _0x22b1c7='';return _0x370363[_0x3d1723(0x6ed)]&&_0x370363[_0x3d1723(0x6ed)]['split']('|')[_0x3d1723(0x147)]((_0x20e801,_0x22e2ac)=>{const _0x45ef12=_0x3d1723;let _0x3d0de4=this['createJid'](_0x20e801)[_0x45ef12(0x2b0)](_0x45ef12(0x392),'');_0x22b1c7+=_0x45ef12(0x2f0)+(_0x22e2ac+0x1)+_0x45ef12(0x28e)+_0x3d0de4+':'+_0x20e801+'\x0aitem'+(_0x22e2ac+0x1)+_0x45ef12(0x3dc);}),_0x199763+=_0x22b1c7+_0x3d1723(0x75e),_0x199763;};return _0xeef051['contactMessage'][_0xe8f5a7(0x17a)]===0x1?_0x561f23[_0xe8f5a7(0x1ad)]={'displayName':_0xeef051[_0xe8f5a7(0x1ad)][0x0][_0xe8f5a7(0x5eb)],'vcard':_0xcd54e7(_0xeef051['contactMessage'][0x0])}:_0x561f23[_0xe8f5a7(0x52e)]={'displayName':_0xeef051[_0xe8f5a7(0x1ad)][_0xe8f5a7(0x17a)]+_0xe8f5a7(0x5ed),'contacts':_0xeef051['contactMessage']['map'](_0x1d8a60=>({'displayName':_0x1d8a60[_0xe8f5a7(0x5eb)],'vcard':_0xcd54e7(_0x1d8a60)}))},await this[_0xe8f5a7(0x2bf)](_0xeef051[_0xe8f5a7(0x32e)],{..._0x561f23},_0xeef051?.[_0xe8f5a7(0x269)]);}async['reactionMessage'](_0x56b16d){const _0x39f1a2=a0_0x56f010;return await this[_0x39f1a2(0x2bf)](_0x56b16d[_0x39f1a2(0x441)]['key'][_0x39f1a2(0x29f)],{'reactionMessage':{'key':_0x56b16d[_0x39f1a2(0x441)][_0x39f1a2(0x528)],'text':_0x56b16d[_0x39f1a2(0x441)][_0x39f1a2(0x64f)]}});}async[a0_0x56f010(0x6d8)](_0x371bfe){const _0x11f3d1=a0_0x56f010;let _0x1144f9=[];for await(let _0x2647b5 of _0x371bfe[_0x11f3d1(0x43d)]){let _0x4a39a0=this['createJid'](_0x2647b5),_0x374212=!0x1;try{if((0x0,y[_0x11f3d1(0x6df)])(_0x4a39a0)){let _0x4fc12b=await this['findGroup']({'groupJid':_0x4a39a0},_0x11f3d1(0x7a8));_0x1144f9[_0x11f3d1(0x143)](new me(_0x4fc12b[_0x11f3d1(0x610)]['id'],!!_0x4fc12b?.[_0x11f3d1(0x610)]['id'],_0x4fc12b?.[_0x11f3d1(0x610)][_0x11f3d1(0x314)])),_0x374212=!!_0x4fc12b?.[_0x11f3d1(0x610)]['id'];}else{let _0x5e1130=(await this['client']['onWhatsApp'](_0x4a39a0))[0x0];_0x1144f9[_0x11f3d1(0x143)](new me(_0x5e1130[_0x11f3d1(0x30b)],_0x5e1130[_0x11f3d1(0x373)])),_0x374212=_0x5e1130['exists'];}}catch{await this[_0x11f3d1(0x2ef)](_0x4a39a0,_0x374212),_0x1144f9[_0x11f3d1(0x143)](new me(_0x2647b5,!0x1));}}return _0x1144f9;}async[a0_0x56f010(0x2ef)](_0x4fad5c,_0x36f538){const _0xcfde4b=a0_0x56f010;try{await this[_0xcfde4b(0x5b9)][_0xcfde4b(0x48d)][_0xcfde4b(0x2a7)]({'where':{'_id':_0x4fad5c,'imported':!0x0}},this[_0xcfde4b(0x302)][_0xcfde4b(0x7a2)])&&(_0x36f538||(await this[_0xcfde4b(0x5b9)][_0xcfde4b(0x48d)][_0xcfde4b(0x759)](_0x4fad5c,this['instance'][_0xcfde4b(0x7a2)]),console[_0xcfde4b(0x125)](_0xcfde4b(0x588)+_0x4fad5c+_0xcfde4b(0x46a))));}catch(_0xca95a){console[_0xcfde4b(0x4f8)](_0xcfde4b(0x4ef),_0xca95a);}}async[a0_0x56f010(0x546)](_0x5e6c6e){const _0x2c68b7=a0_0x56f010;try{let _0x146dcd=_0x5e6c6e[_0x2c68b7(0x783)][_0x2c68b7(0x336)](_0x253eac=>(0x0,y['isJidGroup'])(_0x253eac[_0x2c68b7(0x29f)])||(0x0,y['isJidUser'])(_0x253eac['remoteJid']))['map'](_0x435688=>({'remoteJid':_0x435688[_0x2c68b7(0x29f)],'fromMe':_0x435688[_0x2c68b7(0x329)],'id':_0x435688['id']}));await this['client']['readMessages'](_0x146dcd);let _0x55156a=_0x146dcd[_0x2c68b7(0x1ef)](_0x2f06c9=>this[_0x2c68b7(0x17d)](_0x2f06c9,{'status':'READ','owner':this[_0x2c68b7(0x302)]['wuid']})),_0x3e5824=_0x146dcd['map'](_0x960783=>this['repository']['chat'][_0x2c68b7(0x4c4)]({'where':{'_id':_0x960783[_0x2c68b7(0x29f)]}},{'unreadcount':0x0},this[_0x2c68b7(0x302)][_0x2c68b7(0x7a2)])),[_0x448af9,_0x5f8493]=await Promise[_0x2c68b7(0x78d)]([Promise['all'](_0x55156a),Promise[_0x2c68b7(0x78d)](_0x3e5824)]);return _0x5f8493[_0x2c68b7(0x336)](_0x2baec4=>_0x2baec4!==null)[_0x2c68b7(0x147)](_0xe312c9=>{const _0x219f39=_0x2c68b7;J(this[_0x219f39(0x5cd)],_0x219f39(0x130),{'chat':_0xe312c9});}),{'message':_0x2c68b7(0x623),'read':_0x2c68b7(0x1eb)};}catch(_0xd0157a){throw console[_0x2c68b7(0x4f8)](_0x2c68b7(0x6bb),_0xd0157a),new O(_0x2c68b7(0x66f),_0xd0157a[_0x2c68b7(0x4c5)]());}}async[a0_0x56f010(0x31e)](_0x1b3d1b){const _0x5d638d=a0_0x56f010;let _0x1aac1a={'where':{'key':{'remoteJid':_0x1b3d1b}},'limit':0x1},_0x384412=await this[_0x5d638d(0x5d7)](_0x1aac1a);return _0x384412||(console[_0x5d638d(0x4f8)](_0x5d638d(0x3f2),_0x1b3d1b),null);}async[a0_0x56f010(0x2a6)](_0x5ee87a){const _0x509ce3=a0_0x56f010;this[_0x509ce3(0x186)][_0x509ce3(0x6db)]('Archiving\x20chat');try{let _0x4aabb8=_0x5ee87a[_0x509ce3(0x779)],_0x55c86d=_0x5ee87a['chat'];if(!_0x4aabb8&&_0x55c86d?_0x4aabb8=await this[_0x509ce3(0x31e)](_0x55c86d):(_0x4aabb8=_0x5ee87a[_0x509ce3(0x779)],_0x4aabb8[_0x509ce3(0x24d)]=_0x4aabb8?.[_0x509ce3(0x24d)]??Date[_0x509ce3(0x203)](),_0x55c86d=_0x4aabb8?.[_0x509ce3(0x528)]?.[_0x509ce3(0x29f)]),!_0x4aabb8||Object[_0x509ce3(0x37c)](_0x4aabb8)[_0x509ce3(0x17a)]===0x0)throw new j('Last\x20message\x20not\x20found');this[_0x509ce3(0x186)][_0x509ce3(0x6db)](_0x509ce3(0x4df)+_0x55c86d);try{await this[_0x509ce3(0x733)][_0x509ce3(0x25e)]({'archive':_0x5ee87a[_0x509ce3(0x1e2)],'lastMessages':[_0x4aabb8]},this[_0x509ce3(0x708)](_0x55c86d));}catch(_0x1bb6a8){this['logger'][_0x509ce3(0x4f8)](_0x509ce3(0x289)+_0x55c86d+':\x20'+_0x1bb6a8[_0x509ce3(0x4c5)]());}this[_0x509ce3(0x186)][_0x509ce3(0x6db)](_0x509ce3(0x6d1)+_0x55c86d);let _0x5b6da5=await this[_0x509ce3(0x5b9)][_0x509ce3(0x48d)][_0x509ce3(0x4c4)]({'where':{'_id':_0x4aabb8?.[_0x509ce3(0x528)]?.[_0x509ce3(0x29f)]}},{'archived':_0x5ee87a['archive']},this[_0x509ce3(0x302)][_0x509ce3(0x7a2)]);return _0x5b6da5?(this[_0x509ce3(0x186)][_0x509ce3(0x6db)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x5b6da5)),J(this[_0x509ce3(0x5cd)],'chats',{'chat':_0x5b6da5})):this['logger'][_0x509ce3(0x4f8)](_0x509ce3(0x4a9)+_0x55c86d),{'chatId':_0x55c86d,'archived':_0x5ee87a[_0x509ce3(0x1e2)]};}catch(_0x5ac124){throw this[_0x509ce3(0x186)][_0x509ce3(0x4f8)](_0x509ce3(0x71b)+_0x5ac124[_0x509ce3(0x4c5)]()),new O({'archived':!0x1,'message':[_0x509ce3(0x490),_0x5ac124['toString']()]});}}async[a0_0x56f010(0x5e3)](_0x82ba4e){const _0x11762d=a0_0x56f010;try{let _0x59ccd7=await this[_0x11762d(0x733)][_0x11762d(0x4a6)](_0x82ba4e[_0x11762d(0x29f)],{'delete':_0x82ba4e});try{let _0x191a11=await this[_0x11762d(0x17d)](_0x82ba4e,{'status':_0x11762d(0x359),'owner':this[_0x11762d(0x302)][_0x11762d(0x7a2)]});this[_0x11762d(0x186)][_0x11762d(0x6db)](this[_0x11762d(0x5cd)]+'\x20('+this[_0x11762d(0x302)][_0x11762d(0x7a2)]+_0x11762d(0x6b8)+_0x191a11);}catch(_0x50ee1d){console[_0x11762d(0x4f8)](_0x11762d(0x5f9),_0x50ee1d);}return _0x59ccd7;}catch(_0x1db677){throw new O(_0x11762d(0x75b),_0x1db677?.[_0x11762d(0x4c5)]());}}async['getBase64FromMediaMessage'](_0x1cdd0c){const _0x309498=a0_0x56f010;try{let _0x3fc593=_0x1cdd0c?.[_0x309498(0x1a5)]?_0x1cdd0c:await this[_0x309498(0x46d)](_0x1cdd0c[_0x309498(0x528)],!0x0);for(let _0x6837bf of pa)_0x3fc593['message'][_0x6837bf]&&(_0x3fc593['message']=_0x3fc593['message'][_0x6837bf][_0x309498(0x1a5)]);let _0x14a13c,_0x59d3ea;for(let _0x1f15cc of da)if(_0x14a13c=_0x3fc593[_0x309498(0x1a5)][_0x1f15cc],_0x14a13c){_0x59d3ea=_0x1f15cc;break;}if(!_0x14a13c)throw _0x309498(0x4ae);typeof _0x14a13c[_0x309498(0x3c6)]==_0x309498(0x5d0)&&(_0x3fc593[_0x309498(0x1a5)]=JSON['parse'](JSON[_0x309498(0x1b7)](_0x3fc593[_0x309498(0x1a5)])));let _0x3e6c10=await(0x0,y[_0x309498(0x642)])({'key':_0x3fc593?.[_0x309498(0x528)],'message':_0x3fc593?.[_0x309498(0x1a5)]},_0x309498(0x5cb),{},{'logger':(0x0,Ot[_0x309498(0x34a)])({'level':_0x309498(0x573)}),'reuploadRequest':this[_0x309498(0x733)][_0x309498(0x382)]});if(!(_0x3e6c10 instanceof Buffer))throw new Error(_0x309498(0x77a));let _0x5e8e2f=this['configService']['get'](_0x309498(0x792)),_0xe5fc1e,_0x5ae714;if(_0x14a13c[_0x309498(0x6e8)])_0xe5fc1e=_0x14a13c['fileName'];else{let _0xf49894=_0x14a13c[_0x309498(0x37e)]?.[_0x309498(0x19c)](/\/(\w+)/),_0x4f79b9=_0xf49894?_0xf49894[0x1]:null;if(!_0x4f79b9)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0xe5fc1e=(0x0,Me['v4'])()+'.'+_0x4f79b9;}_0x59d3ea===_0x309498(0x405)&&_0x14a13c['mimetype']===_0x309498(0x4ab)?(_0xe5fc1e=(0x0,Me['v4'])()+_0x309498(0x3bf),_0x5ae714='/media/'+await this['convertaudio'](_0x3e6c10[_0x309498(0x4c5)]('base64'))):(await this['saveMediaToFile'](_0x3e6c10,_0xe5fc1e),_0x5ae714='/media/'+_0xe5fc1e);let _0x128e93=this[_0x309498(0x663)][_0x309498(0x750)]('SERVER')[_0x309498(0x434)];if(!_0x128e93){let _0x629868=this[_0x309498(0x663)][_0x309498(0x750)](_0x309498(0x1ec));_0x128e93=_0x309498(0x5fd)+(_0x629868&&_0x629868[_0x309498(0x150)]['split']('/')[0x4]);}_0x5ae714=''+_0x128e93+_0x5ae714;let _0xec2a5f=0xc*0x3c*0x3c*0x3e8,_0xcd0683={'where':{'_id':_0x3fc593[_0x309498(0x528)]['id']}},_0x30abbd={'message_normalized.fileUrl':_0x5ae714,'message_normalized.expires_fileUrl':Date[_0x309498(0x203)]()+_0xec2a5f};try{let _0x1b360a=await this[_0x309498(0x5b9)][_0x309498(0x1a5)][_0x309498(0x189)](_0xcd0683,_0x30abbd,this[_0x309498(0x302)][_0x309498(0x7a2)]);_0x1b360a&&J(this['instanceName'],_0x309498(0x664),{'message':_0x1b360a});}catch(_0x2330f8){this[_0x309498(0x186)][_0x309498(0x4f8)](this[_0x309498(0x5cd)]+'\x20('+this['instance'][_0x309498(0x7a2)]+_0x309498(0x609)+(_0x2330f8 instanceof Error?_0x2330f8['message']:JSON['stringify'](_0x2330f8,null,0x2)));}return{'mediaType':_0x59d3ea,'fileName':_0x14a13c['fileName'],'caption':_0x14a13c[_0x309498(0x3d6)],'size':{'fileLength':_0x14a13c['fileLength'],'height':_0x14a13c[_0x309498(0x282)],'width':_0x14a13c['width']},'mimetype':_0x14a13c[_0x309498(0x37e)],'base64':_0x3e6c10['toString'](_0x309498(0x50e)),'fileUrl':_0x5ae714,'expires_fileUrl':Date[_0x309498(0x203)]()+_0xec2a5f};}catch(_0x2c5f93){throw this[_0x309498(0x186)][_0x309498(0x4f8)](this['instanceName']+'\x20('+this[_0x309498(0x302)][_0x309498(0x7a2)]+_0x309498(0x609)+(_0x2c5f93 instanceof Error?_0x2c5f93[_0x309498(0x1a5)]:JSON[_0x309498(0x1b7)](_0x2c5f93,null,0x2))),new m(_0x2c5f93[_0x309498(0x4c5)]());}}async[a0_0x56f010(0x481)](_0x463d94,_0x11cccc){const _0x15a64c=a0_0x56f010;let _0x5c75b7=F[_0x15a64c(0x34a)][_0x15a64c(0x4c2)](__dirname,_0x15a64c(0x202));L[_0x15a64c(0x631)](_0x5c75b7)||L[_0x15a64c(0x6ca)](_0x5c75b7,{'recursive':!0x0});let _0x3ff869=F[_0x15a64c(0x34a)]['join'](_0x5c75b7,_0x11cccc);return new Promise((_0x2c8750,_0x4160ae)=>{L['writeFile'](_0x3ff869,_0x463d94,_0x5e98b1=>{const _0x3d79a3=a0_0x4a73;_0x5e98b1?(this[_0x3d79a3(0x186)]['error'](_0x3d79a3(0x763)+(_0x5e98b1 instanceof Error?_0x5e98b1[_0x3d79a3(0x1a5)]:JSON[_0x3d79a3(0x1b7)](_0x5e98b1,null,0x2))),_0x4160ae(_0x5e98b1)):(this['logger'][_0x3d79a3(0x125)](_0x3d79a3(0x16f)+_0x3ff869),_0x2c8750(_0x3ff869));});});}async[a0_0x56f010(0x775)](_0x3064cf){const _0x4710c9=a0_0x56f010;return await this[_0x4710c9(0x5b9)]['contact'][_0x4710c9(0x766)](_0x3064cf,this[_0x4710c9(0x302)][_0x4710c9(0x7a2)]);}async['fetchLabels'](){const _0x2930de=a0_0x56f010;return await this[_0x2930de(0x5b9)][_0x2930de(0x5a5)][_0x2930de(0x766)]({'where':{}},this[_0x2930de(0x302)][_0x2930de(0x7a2)]);}async[a0_0x56f010(0x5d7)](_0xdd912c){const _0x28a7db=a0_0x56f010;return await this[_0x28a7db(0x5b9)]['message'][_0x28a7db(0x766)](_0xdd912c,this['instance'][_0x28a7db(0x7a2)]);}async[a0_0x56f010(0x188)](){const _0x541c4c=a0_0x56f010;return this[_0x541c4c(0x5b9)]['chat'][_0x541c4c(0x4fd)](this['instance']['wuid']),this[_0x541c4c(0x5b9)][_0x541c4c(0x48d)][_0x541c4c(0x488)](this[_0x541c4c(0x302)]['wuid']),this[_0x541c4c(0x5b9)][_0x541c4c(0x48d)][_0x541c4c(0x480)](this[_0x541c4c(0x302)][_0x541c4c(0x7a2)]),this[_0x541c4c(0x5b9)][_0x541c4c(0x48d)]['updateMissingCustomFields'](this[_0x541c4c(0x302)][_0x541c4c(0x7a2)]),await this[_0x541c4c(0x5b9)][_0x541c4c(0x48d)][_0x541c4c(0x766)]({'where':{}},this[_0x541c4c(0x302)][_0x541c4c(0x7a2)]);}async[a0_0x56f010(0x69c)](_0x1d10f0){const _0x3325c7=a0_0x56f010;try{if(!Array['isArray'](_0x1d10f0)||_0x1d10f0['length']===0x0)throw new Error(_0x3325c7(0x296));let _0x236755=[],_0xbdf238=[];for(let _0x441a55 of _0x1d10f0){if(_0x441a55['_id'])_0x441a55[_0x3325c7(0x20e)]=this[_0x3325c7(0x708)](_0x441a55[_0x3325c7(0x20e)]);else continue;await this[_0x3325c7(0x5b9)][_0x3325c7(0x48d)][_0x3325c7(0x2a7)]({'where':{'_id':_0x441a55[_0x3325c7(0x20e)]}},this['instance'][_0x3325c7(0x7a2)])?_0xbdf238[_0x3325c7(0x143)]({'_id':_0x441a55['_id'],'leadInfo':_0x441a55[_0x3325c7(0x5ad)],'owner':this[_0x3325c7(0x302)][_0x3325c7(0x7a2)]}):_0x236755[_0x3325c7(0x143)]({'_id':_0x441a55[_0x3325c7(0x20e)],'owner':this[_0x3325c7(0x302)]['wuid'],'leadInfo':_0x441a55[_0x3325c7(0x5ad)],'imported':!0x0});}return _0xbdf238[_0x3325c7(0x17a)]>0x0&&await this[_0x3325c7(0x5b9)]['chat'][_0x3325c7(0x346)](_0xbdf238[_0x3325c7(0x1ef)](_0x4ff1a2=>({'query':{'where':{'_id':_0x4ff1a2['_id'],'owner':this[_0x3325c7(0x302)]['wuid']}},'update':_0x4ff1a2}))),_0x236755[_0x3325c7(0x17a)]>0x0&&await this['repository'][_0x3325c7(0x48d)][_0x3325c7(0x1f8)](_0x236755,this['instance'][_0x3325c7(0x7a2)]),{'updated':_0xbdf238['length'],'inserted':_0x236755[_0x3325c7(0x17a)]};}catch(_0x56231e){throw console[_0x3325c7(0x4f8)](_0x3325c7(0x3ad),_0x56231e),_0x56231e;}}async[a0_0x56f010(0x5e8)](_0x543e92){const _0xe810d1=a0_0x56f010;try{if(!Array[_0xe810d1(0x5f1)](_0x543e92)||_0x543e92['length']===0x0)throw new Error(_0xe810d1(0x296));let _0x2ef676=0x64,_0x36d754=0x0;for(let _0x3fea56=0x0;_0x3fea56<_0x543e92[_0xe810d1(0x17a)];_0x3fea56+=_0x2ef676){let _0x286893=_0x543e92[_0xe810d1(0x2c9)](_0x3fea56,_0x3fea56+_0x2ef676),{updated:_0x4b54eb}=await this['importChatsBatch'](_0x286893);_0x36d754+=_0x4b54eb;}return{'updated':_0x36d754};}catch(_0x687e7a){throw console['error'](_0xe810d1(0x3ad),_0x687e7a),_0x687e7a;}}async[a0_0x56f010(0x795)](_0x144a0b){const _0x1c7a61=a0_0x56f010;try{let _0x36185c=await this[_0x1c7a61(0x5b9)][_0x1c7a61(0x5a5)]['find']({'where':{}},this[_0x1c7a61(0x302)][_0x1c7a61(0x7a2)]),_0x1bf76e=new Set(_0x36185c[_0x1c7a61(0x1ef)](_0x1fba6b=>_0x1fba6b[_0x1c7a61(0x20e)])),_0x7e5eb1=[],_0x29e862=[];for(let _0x2be065 of _0x144a0b){if(!_0x2be065['_id'])continue;_0x2be065[_0x1c7a61(0x20e)]=this[_0x1c7a61(0x708)](_0x2be065[_0x1c7a61(0x20e)]);let _0x4be2df=await this['repository'][_0x1c7a61(0x48d)][_0x1c7a61(0x2a7)]({'where':{'_id':_0x2be065[_0x1c7a61(0x20e)]}},this[_0x1c7a61(0x302)][_0x1c7a61(0x7a2)]),_0x1a4b7b={};if(Object[_0x1c7a61(0x540)](_0x2be065[_0x1c7a61(0x5ad)])['forEach'](([_0x25c019,_0x4941c7])=>{const _0x469412=_0x1c7a61;_0x1a4b7b[_0x469412(0x73b)+_0x25c019]=_0x4941c7;}),_0x4be2df&&!_0x4be2df[_0x1c7a61(0x4f4)]){let _0x1c7c83=(_0x2be065[_0x1c7a61(0x5ad)][_0x1c7a61(0x42c)]||[])['filter'](_0x1b36cd=>_0x1bf76e[_0x1c7a61(0x428)](_0x1b36cd)),_0x19140c=new Set(_0x4be2df[_0x1c7a61(0x5ad)][_0x1c7a61(0x42c)]||[]),_0x28ac9e=_0x1c7c83['filter'](_0x7dbc48=>!_0x19140c[_0x1c7a61(0x428)](_0x7dbc48)),_0xac107f=[..._0x19140c][_0x1c7a61(0x336)](_0x3d6459=>!_0x1c7c83[_0x1c7a61(0x246)](_0x3d6459));_0x29e862[_0x1c7a61(0x143)](..._0x28ac9e[_0x1c7a61(0x1ef)](_0x10b764=>this[_0x1c7a61(0x49f)](_0x10b764,_0x2be065[_0x1c7a61(0x20e)]))),_0x29e862['push'](..._0xac107f['map'](_0x27c1e0=>this[_0x1c7a61(0x2fb)](_0x27c1e0,_0x2be065[_0x1c7a61(0x20e)]))),_0x2be065[_0x1c7a61(0x5ad)][_0x1c7a61(0x42c)]=_0x1c7c83,_0x7e5eb1[_0x1c7a61(0x143)]({'query':{'where':{'_id':_0x2be065['_id'],'owner':this['instance'][_0x1c7a61(0x7a2)]}},'update':_0x1a4b7b});}else _0x1a4b7b[_0x1c7a61(0x4f4)]=!0x0,_0x7e5eb1[_0x1c7a61(0x143)]({'query':{'where':{'_id':_0x2be065['_id'],'owner':this['instance'][_0x1c7a61(0x7a2)]}},'update':_0x1a4b7b});}let _0x372443=await this[_0x1c7a61(0x5b9)][_0x1c7a61(0x48d)][_0x1c7a61(0x346)](_0x7e5eb1);return await Promise[_0x1c7a61(0x78d)](_0x29e862),{'updated':_0x372443};}catch(_0x56d7db){throw console[_0x1c7a61(0x4f8)](_0x1c7a61(0x3ad),_0x56d7db),_0x56d7db;}}async['fetchPrivacySettings'](){const _0x244111=a0_0x56f010;return await this[_0x244111(0x733)][_0x244111(0x3d0)]();}async[a0_0x56f010(0x2e0)](_0x199867){const _0x659f0e=a0_0x56f010;try{return await this[_0x659f0e(0x733)][_0x659f0e(0x3b1)](_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x735)]),await this[_0x659f0e(0x733)][_0x659f0e(0x275)](_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x40a)]),await this['client'][_0x659f0e(0x229)](_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x1b0)]),await this[_0x659f0e(0x733)][_0x659f0e(0x41e)](_0x199867['privacySettings'][_0x659f0e(0x1ca)]),await this[_0x659f0e(0x733)][_0x659f0e(0x62f)](_0x199867['privacySettings'][_0x659f0e(0x287)]),await this[_0x659f0e(0x733)]['updateGroupsAddPrivacy'](_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x4f1)]),this[_0x659f0e(0x733)]?.['ws']?.[_0x659f0e(0x4b4)](),{'update':'success','data':{'readreceipts':_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x735)],'profile':_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x40a)],'status':_0x199867['privacySettings']['status'],'online':_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x1ca)],'last':_0x199867[_0x659f0e(0x2b1)]['last'],'groupadd':_0x199867[_0x659f0e(0x2b1)][_0x659f0e(0x4f1)]}};}catch(_0x13cacf){throw new O('Error\x20updating\x20privacy\x20settings',_0x13cacf[_0x659f0e(0x4c5)]());}}async[a0_0x56f010(0x319)](_0x274389){const _0x104776=a0_0x56f010;let _0x1fe874=_0x274389?this['createJid'](_0x274389):this['client']?.[_0x104776(0x5d4)]?.['id'];this[_0x104776(0x186)][_0x104776(0x6db)](_0x104776(0x692)+_0x1fe874);try{if(this[_0x104776(0x186)][_0x104776(0x6db)](_0x104776(0x6b7)),_0x274389){let _0x8c7ae8=(await this[_0x104776(0x6d8)]({'numbers':[_0x1fe874]}))?.[_0x104776(0x170)](),_0x580ed9=await this[_0x104776(0x284)](_0x8c7ae8?.[_0x104776(0x30b)]),_0x828be8=await this['getStatus'](_0x8c7ae8?.[_0x104776(0x30b)]),_0x392f63=await this['fetchBusinessProfile'](_0x8c7ae8?.[_0x104776(0x30b)]);return{'wuid':_0x8c7ae8?.[_0x104776(0x30b)]||_0x1fe874,'name':_0x8c7ae8?.[_0x104776(0x3c0)],'numberExists':_0x8c7ae8?.[_0x104776(0x373)],'picture':_0x580ed9?.[_0x104776(0x183)],'status':_0x828be8?.[_0x104776(0x1b0)],'isBusiness':_0x392f63[_0x104776(0x679)],'email':_0x392f63?.[_0x104776(0x35b)],'description':_0x392f63?.[_0x104776(0x3ee)],'website':_0x392f63?.[_0x104776(0x693)]?.['shift']()};}}catch{return this['logger'][_0x104776(0x6db)]('Profile\x20not\x20found'),{'wuid':_0x1fe874,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x56f010(0x29b)](_0x5e23ac){const _0x5a521b=a0_0x56f010;let _0x3ee5b7=(_0x5e23ac?this[_0x5a521b(0x708)](_0x5e23ac):this['client']?.[_0x5a521b(0x5d4)]?.['id'])[_0x5a521b(0x2b0)](/:\d{1,2}@/g,'@');this['logger'][_0x5a521b(0x6db)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x3ee5b7);let _0x3735a8=await this[_0x5a521b(0x5b9)][_0x5a521b(0x566)][_0x5a521b(0x2a7)]({'where':{'_id':_0x3ee5b7}},this[_0x5a521b(0x302)][_0x5a521b(0x7a2)]),_0x514702=_0x3735a8?_0x3735a8[_0x5a521b(0x171)]:null;try{let _0x2f8b44=(await this[_0x5a521b(0x6d8)]({'numbers':[_0x3ee5b7]}))?.[_0x5a521b(0x170)](),_0x1a82a3=await this[_0x5a521b(0x284)](_0x2f8b44?.[_0x5a521b(0x30b)]),_0x548677=await this[_0x5a521b(0x386)](_0x2f8b44?.['jid']),_0x1a2aa4=await this[_0x5a521b(0x390)](_0x2f8b44?.['jid']),_0x59ae03=await this['repository']['chat'][_0x5a521b(0x2a7)]({'where':{'_id':_0x3ee5b7}},this[_0x5a521b(0x302)]['wuid']),_0x550c12={'imagechat':_0x1a82a3?.['profilePictureUrl'],'contactname':_0x514702||null,'status':_0x548677?.[_0x5a521b(0x1b0)],'isBusiness':_0x1a2aa4[_0x5a521b(0x679)],'email':_0x1a2aa4?.[_0x5a521b(0x35b)],'description':_0x1a2aa4?.[_0x5a521b(0x3ee)],'website':_0x1a2aa4?.[_0x5a521b(0x693)]?.['shift'](),'lastcache':Date[_0x5a521b(0x203)](),'imported':!_0x59ae03},_0x31f047=await this[_0x5a521b(0x5b9)][_0x5a521b(0x48d)]['updateOne']({'where':{'_id':_0x3ee5b7}},_0x550c12,this[_0x5a521b(0x302)][_0x5a521b(0x7a2)]),_0x554310={'owner':this[_0x5a521b(0x302)][_0x5a521b(0x7a2)],'_id':_0x3ee5b7,'profilePictureUrl':_0x1a82a3?.[_0x5a521b(0x183)],'status':_0x548677?.[_0x5a521b(0x1b0)]};return this[_0x5a521b(0x5b9)][_0x5a521b(0x566)][_0x5a521b(0x189)]([_0x554310],this[_0x5a521b(0x302)]['wuid']),_0x31f047&&J(this['instanceName'],_0x5a521b(0x130),{'chat':_0x31f047}),{'wuid':_0x2f8b44?.['jid']||_0x3ee5b7,'name':_0x2f8b44?.[_0x5a521b(0x3c0)],'numberExists':_0x2f8b44?.['exists'],'picture':_0x1a82a3?.[_0x5a521b(0x183)],'status':_0x548677?.[_0x5a521b(0x1b0)],'isBusiness':_0x1a2aa4['isBusiness'],'email':_0x1a2aa4?.[_0x5a521b(0x35b)],'description':_0x1a2aa4?.[_0x5a521b(0x3ee)],'website':_0x1a2aa4?.[_0x5a521b(0x693)]?.[_0x5a521b(0x170)]()};}catch(_0x554a49){return this[_0x5a521b(0x186)][_0x5a521b(0x4f8)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x554a49 instanceof Error?_0x554a49['message']:JSON[_0x5a521b(0x1b7)](_0x554a49,null,0x2))),{};}}async[a0_0x56f010(0x390)](_0x32fb4a){const _0x27df7b=a0_0x56f010;this[_0x27df7b(0x186)][_0x27df7b(0x6db)](_0x27df7b(0x7a5));try{let _0x445854=_0x32fb4a?this['createJid'](_0x32fb4a):this[_0x27df7b(0x302)][_0x27df7b(0x7a2)],_0x58978c=await this[_0x27df7b(0x733)][_0x27df7b(0x4b5)](_0x445854);return this[_0x27df7b(0x186)]['verbose'](_0x27df7b(0x368)),_0x58978c?(this[_0x27df7b(0x186)][_0x27df7b(0x6db)](_0x27df7b(0x560)),{'isBusiness':!0x0,..._0x58978c}):{'isBusiness':!0x1,'message':_0x27df7b(0x32c),...(await this[_0x27df7b(0x6d8)]({'numbers':[_0x445854]}))?.['shift']()};}catch(_0x22336a){throw new O(_0x27df7b(0x42f),_0x22336a[_0x27df7b(0x4c5)]());}}async[a0_0x56f010(0x386)](_0x26bded){const _0x3f4f7b=a0_0x56f010;let _0x1a5474=this[_0x3f4f7b(0x708)](_0x26bded);try{return{'wuid':_0x1a5474,'status':(await this[_0x3f4f7b(0x733)][_0x3f4f7b(0x62e)](_0x1a5474))?.[_0x3f4f7b(0x1b0)]};}catch{return{'wuid':_0x1a5474,'status':null};}}async[a0_0x56f010(0x5ae)](_0x5d66d6){const _0x3e46c4=a0_0x56f010;try{return await this[_0x3e46c4(0x733)][_0x3e46c4(0x5ae)](_0x5d66d6),{'update':_0x3e46c4(0x1eb)};}catch(_0x28763f){throw new O(_0x3e46c4(0x42f),_0x28763f['toString']());}}async[a0_0x56f010(0x500)](_0x5c9c79){const _0x4b4137=a0_0x56f010;try{return await this[_0x4b4137(0x733)][_0x4b4137(0x500)](_0x5c9c79),{'update':'success'};}catch(_0x4cc375){throw new O('Error\x20updating\x20profile\x20status',_0x4cc375['toString']());}}async[a0_0x56f010(0x455)](_0x2dff09){const _0x1de4ab=a0_0x56f010;try{let _0x571c7c;if((0x0,k[_0x1de4ab(0x439)])(_0x2dff09)){let _0x19c9c5=new Date()[_0x1de4ab(0x3e1)](),_0x3f92fa=_0x2dff09+_0x1de4ab(0x1a2)+_0x19c9c5;_0x571c7c=(await se[_0x1de4ab(0x34a)][_0x1de4ab(0x750)](_0x3f92fa,{'responseType':_0x1de4ab(0x4e9)}))[_0x1de4ab(0x4a1)];}else{if((0x0,k[_0x1de4ab(0x709)])(_0x2dff09))_0x571c7c=Buffer[_0x1de4ab(0x2f8)](_0x2dff09,_0x1de4ab(0x50e));else throw new m(_0x1de4ab(0x13a));}return await this[_0x1de4ab(0x733)][_0x1de4ab(0x455)](this[_0x1de4ab(0x302)][_0x1de4ab(0x7a2)],_0x571c7c),{'update':_0x1de4ab(0x1eb)};}catch(_0x3d6696){throw new O(_0x1de4ab(0x37b),_0x3d6696[_0x1de4ab(0x4c5)]());}}async[a0_0x56f010(0x510)](){const _0x5604a8=a0_0x56f010;try{return await this[_0x5604a8(0x733)][_0x5604a8(0x510)](this[_0x5604a8(0x302)][_0x5604a8(0x7a2)]),{'update':_0x5604a8(0x1eb)};}catch(_0x189308){throw new O('Error\x20removing\x20profile\x20picture',_0x189308[_0x5604a8(0x4c5)]());}}async[a0_0x56f010(0x397)](_0x40f176){const _0x14c1e5=a0_0x56f010;try{let _0x2ffea2=_0x40f176['participants']['map'](_0x493a29=>this[_0x14c1e5(0x708)](_0x493a29)),{id:_0x3c06b1}=await this['client'][_0x14c1e5(0x474)](_0x40f176[_0x14c1e5(0x314)],_0x2ffea2);return _0x40f176?.[_0x14c1e5(0x3ee)]&&await this[_0x14c1e5(0x733)][_0x14c1e5(0x41f)](_0x3c06b1,_0x40f176['description']),{'metadata':await this[_0x14c1e5(0x733)][_0x14c1e5(0x542)](_0x3c06b1)};}catch(_0x1c9d85){throw this[_0x14c1e5(0x186)][_0x14c1e5(0x4f8)](this[_0x14c1e5(0x5cd)]+'\x20('+this[_0x14c1e5(0x302)][_0x14c1e5(0x7a2)]+_0x14c1e5(0x609)+(_0x1c9d85 instanceof Error?_0x1c9d85['message']:JSON[_0x14c1e5(0x1b7)](_0x1c9d85,null,0x2))),new O(_0x14c1e5(0x22a),_0x1c9d85[_0x14c1e5(0x4c5)]());}}async[a0_0x56f010(0x155)](_0x11a76d){const _0x383c26=a0_0x56f010;try{let _0x100a2e;if((0x0,k[_0x383c26(0x439)])(_0x11a76d[_0x383c26(0x350)])){let _0x265f36=new Date()[_0x383c26(0x3e1)](),_0x1b42c3=_0x11a76d[_0x383c26(0x350)]+'?timestamp='+_0x265f36;_0x100a2e=(await se['default'][_0x383c26(0x750)](_0x1b42c3,{'responseType':'arraybuffer'}))[_0x383c26(0x4a1)];}else{if((0x0,k[_0x383c26(0x709)])(_0x11a76d[_0x383c26(0x350)]))_0x100a2e=Buffer[_0x383c26(0x2f8)](_0x11a76d['image'],_0x383c26(0x50e));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x383c26(0x455)](_0x11a76d['groupJid'],_0x100a2e),{'update':_0x383c26(0x1eb)};}catch(_0x1f6fbe){throw new O('Error\x20update\x20group\x20picture',_0x1f6fbe['toString']());}}async[a0_0x56f010(0x379)](_0x48ebc5,_0x5a2f97=a0_0x56f010(0x3be)){const _0x57b3b7=a0_0x56f010;try{let _0x1fd2b3=await this['client'][_0x57b3b7(0x542)](_0x48ebc5[_0x57b3b7(0x68d)]),_0x5f002d=null;try{_0x5f002d=(await this[_0x57b3b7(0x284)](_0x48ebc5[_0x57b3b7(0x68d)]))[_0x57b3b7(0x183)];}catch(_0xa1fa0d){this[_0x57b3b7(0x186)][_0x57b3b7(0x6db)](this[_0x57b3b7(0x5cd)]+'\x20('+this['instance'][_0x57b3b7(0x7a2)]+_0x57b3b7(0x13e)+_0x48ebc5[_0x57b3b7(0x68d)]+':\x20'+(_0xa1fa0d instanceof Error?_0xa1fa0d[_0x57b3b7(0x1a5)]:JSON[_0x57b3b7(0x1b7)](_0xa1fa0d,null,0x2)));}let _0x4fc622=await this['repository']['chat'][_0x57b3b7(0x4c4)]({'where':{'_id':_0x48ebc5['groupJid']}},{'imagechat':_0x5f002d,'name':_0x1fd2b3['subject'],'group_size':_0x1fd2b3['size'],'group_announce':_0x1fd2b3[_0x57b3b7(0x17f)],'lastcache':Date[_0x57b3b7(0x203)]()},this['instance'][_0x57b3b7(0x7a2)]);return _0x4fc622&&J(this[_0x57b3b7(0x5cd)],_0x57b3b7(0x130),{'chat':_0x4fc622}),{'metadata':_0x1fd2b3,'image':_0x5f002d};}catch(_0x1f244b){if(_0x5a2f97===_0x57b3b7(0x7a8))return;throw new j(_0x57b3b7(0x754),_0x1f244b[_0x57b3b7(0x4c5)]());}}async['groupDesc'](_0x6dd36e){const _0x366832=a0_0x56f010;try{return await this[_0x366832(0x733)][_0x366832(0x41f)](_0x6dd36e[_0x366832(0x68d)],_0x6dd36e[_0x366832(0x3ee)]),{'update':_0x366832(0x1eb)};}catch(_0x5d2f23){throw new O('Error\x20change\x20group\x20description',_0x5d2f23['toString']());}}async[a0_0x56f010(0x5dc)](_0x1f7196){const _0x398875=a0_0x56f010;try{return await this[_0x398875(0x733)][_0x398875(0x5de)](_0x1f7196[_0x398875(0x68d)],_0x1f7196['name']),{'update':_0x398875(0x1eb)};}catch(_0x1edf91){throw new O(_0x398875(0x737),_0x1edf91[_0x398875(0x4c5)]());}}async[a0_0x56f010(0x555)](_0x174490){const _0x132916=a0_0x56f010;try{return await this[_0x132916(0x733)][_0x132916(0x784)](_0x174490[_0x132916(0x68d)],_0x174490[_0x132916(0x678)]),{'update':_0x132916(0x1eb)};}catch(_0x35a9c7){throw new O(_0x132916(0x205),_0x35a9c7[_0x132916(0x4c5)]());}}async['findGroups'](){const _0x1c5974=a0_0x56f010;try{let _0xa98ae2=[],_0x839ef2=await this[_0x1c5974(0x733)][_0x1c5974(0x47a)](),_0x267445=Object[_0x1c5974(0x41a)](_0x839ef2),_0x10ab2b=_0x267445[_0x1c5974(0x336)](_0x3078e3=>(0x0,y[_0x1c5974(0x6df)])(_0x3078e3?.['id']))[_0x1c5974(0x1ef)](async _0xf3fced=>{const _0x588e36=_0x1c5974;try{return await this[_0x588e36(0x733)]['profilePictureUrl'](_0xf3fced['id'],_0x588e36(0x70e));}catch(_0x3c52dd){return this[_0x588e36(0x186)][_0x588e36(0x6db)](this[_0x588e36(0x5cd)]+'\x20('+this[_0x588e36(0x302)][_0x588e36(0x7a2)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0xf3fced['id']+':\x20'+(_0x3c52dd instanceof Error?_0x3c52dd[_0x588e36(0x1a5)]:JSON[_0x588e36(0x1b7)](_0x3c52dd,null,0x2))),null;}}),_0x545739=await Promise[_0x1c5974(0x78d)](_0x10ab2b);for(let _0x57ed7f=0x0;_0x57ed7f<_0x267445[_0x1c5974(0x17a)];_0x57ed7f++){let _0x323e68=_0x267445[_0x57ed7f];(0x0,y[_0x1c5974(0x6df)])(_0x323e68?.['id'])&&_0xa98ae2['push']({'groupJid':_0x323e68?.['id'],'subject':_0x323e68?.[_0x1c5974(0x314)],'subjectOwner':_0x323e68?.[_0x1c5974(0x659)]?.[_0x1c5974(0x4bc)]('@')[0x0],'subjectTime':_0x323e68?.[_0x1c5974(0x26e)],'size':_0x323e68?.[_0x1c5974(0x66e)]?.[_0x1c5974(0x17a)],'owner':_0x323e68?.[_0x1c5974(0x306)]?.['split']('@')[0x0],'creation':_0x323e68?.[_0x1c5974(0x534)],'desc':_0x323e68?.[_0x1c5974(0x518)],'restrict':_0x323e68?.['restrict'],'announce':_0x323e68?.['announce'],'image':_0x545739[_0x57ed7f]});}return _0xa98ae2;}catch(_0x2d9520){throw new j(_0x1c5974(0x754),_0x2d9520['toString']());}}async[a0_0x56f010(0x22c)](_0x564f2e){const _0x5599b2=a0_0x56f010;try{let _0x1f3917=await this[_0x5599b2(0x733)][_0x5599b2(0x436)](_0x564f2e['groupJid']);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x1f3917,'inviteCode':_0x1f3917};}catch(_0x4450c0){throw new j('No\x20invite\x20code',_0x4450c0['toString']());}}async[a0_0x56f010(0x5b1)](_0x3a5197){const _0x1bb78a=a0_0x56f010;try{let _0x1905fa=await this[_0x1bb78a(0x733)][_0x1bb78a(0x29a)](_0x3a5197[_0x1bb78a(0x68d)]);return{'revoked':!0x0,'inviteUrl':_0x1bb78a(0x57f)+_0x1905fa,'inviteCode':_0x1905fa};}catch(_0x7107bf){throw new j('Revoke\x20error',_0x7107bf[_0x1bb78a(0x4c5)]());}}async[a0_0x56f010(0x3f5)](_0x57b28e){const _0x22f974=a0_0x56f010;try{if((0x0,k[_0x22f974(0x439)])(_0x57b28e[_0x22f974(0x22c)]))var _0x4e8546=_0x57b28e[_0x22f974(0x22c)]['split']('/')[0x3];else var _0x4e8546=_0x57b28e[_0x22f974(0x22c)];let _0x19f7ce=await this[_0x22f974(0x733)][_0x22f974(0x159)](_0x4e8546);return this[_0x22f974(0x186)]['verbose'](this[_0x22f974(0x5cd)]+'\x20('+this['instance'][_0x22f974(0x7a2)]+_0x22f974(0x609)+_0x19f7ce),{'join':!0x0,'inviteCode':_0x4e8546,'groupJid':_0x19f7ce};}catch(_0x1df58f){throw new j(_0x22f974(0x272),_0x1df58f['toString']());}}async[a0_0x56f010(0x545)](_0x82504){const _0x233e3a=a0_0x56f010;try{return{'participants':(await this[_0x233e3a(0x733)][_0x233e3a(0x542)](_0x82504[_0x233e3a(0x68d)]))[_0x233e3a(0x66e)]};}catch(_0x583ede){throw new j(_0x233e3a(0x5ee),_0x583ede[_0x233e3a(0x4c5)]());}}async[a0_0x56f010(0x643)](_0x1dfc7b){const _0x4e6eae=a0_0x56f010;try{let _0x59a9f7=_0x1dfc7b[_0x4e6eae(0x66e)][_0x4e6eae(0x1ef)](_0x29e139=>this[_0x4e6eae(0x708)](_0x29e139));return{'updateParticipants':await this['client'][_0x4e6eae(0x1c4)](_0x1dfc7b[_0x4e6eae(0x68d)],_0x59a9f7,_0x1dfc7b[_0x4e6eae(0x54e)])};}catch(_0x2686c3){throw new m(_0x4e6eae(0x264),_0x2686c3[_0x4e6eae(0x4c5)]());}}async['toggleEphemeral'](_0x53155f){const _0x5778f6=a0_0x56f010;try{let _0x4635f4=await this[_0x5778f6(0x733)][_0x5778f6(0x27c)](_0x53155f[_0x5778f6(0x68d)],_0x53155f[_0x5778f6(0x548)]);return{'success':!0x0};}catch(_0x269237){throw new m('Error\x20updating\x20setting',_0x269237[_0x5778f6(0x4c5)]());}}async[a0_0x56f010(0x6b6)](_0x463408){const _0x53855=a0_0x56f010;try{return await this[_0x53855(0x733)][_0x53855(0x1f1)](_0x463408['groupJid']),{'groupJid':_0x463408[_0x53855(0x68d)],'leave':!0x0};}catch(_0x79135b){throw new m(_0x53855(0x1fb),_0x79135b['toString']());}}async[a0_0x56f010(0x35f)](_0x772786){const _0x267c4c=a0_0x56f010;return await this[_0x267c4c(0x2bf)](_0x772786['number'],{'poll':{'name':_0x772786['pollMessage']?.[_0x267c4c(0x3c0)],'selectableCount':_0x772786[_0x267c4c(0x35f)][_0x267c4c(0x349)],'values':_0x772786[_0x267c4c(0x35f)][_0x267c4c(0x41a)]}},_0x772786?.[_0x267c4c(0x269)]);}async[a0_0x56f010(0x470)](_0xf031a9){const _0x560e4a=a0_0x56f010;return await this[_0x560e4a(0x2bf)](_0xf031a9[_0x560e4a(0x32e)],{'listMessage':{'title':_0xf031a9[_0x560e4a(0x470)]['title'],'description':_0xf031a9[_0x560e4a(0x470)][_0x560e4a(0x3ee)],'buttonText':_0xf031a9[_0x560e4a(0x470)]?.['buttonText'],'footerText':_0xf031a9[_0x560e4a(0x470)]?.[_0x560e4a(0x558)],'sections':_0xf031a9['listMessage'][_0x560e4a(0x6b3)],'listType':0x2}},_0xf031a9?.[_0x560e4a(0x269)]);}async[a0_0x56f010(0x57e)](_0x1e0159){const _0x49cd79=a0_0x56f010;let _0x2906e4;if(_0x1e0159[_0x49cd79(0x57e)][_0x49cd79(0x270)]===_0x49cd79(0x250)){let _0x1cae9e=_0x1e0159[_0x49cd79(0x57e)][_0x49cd79(0x577)][_0x49cd79(0x50b)]('\x0a'),_0x50b752='',_0xa32a92='';_0x1cae9e!==-0x1?(_0x50b752=_0x1e0159['menuMessage'][_0x49cd79(0x577)][_0x49cd79(0x2da)](0x0,_0x1cae9e)[_0x49cd79(0x7a3)](),_0xa32a92=_0x1e0159[_0x49cd79(0x57e)]['text'][_0x49cd79(0x2da)](_0x1cae9e+0x1)):_0xa32a92=_0x1e0159['menuMessage']['text'];let _0x47235c=this['createSectionsFromValues'](_0x1e0159[_0x49cd79(0x57e)][_0x49cd79(0x4c9)]);_0x2906e4={'listMessage':{'title':_0x50b752,'description':_0xa32a92,'buttonText':_0x1e0159[_0x49cd79(0x57e)][_0x49cd79(0x25b)]||_0x49cd79(0x48c),'footerText':_0x1e0159[_0x49cd79(0x57e)][_0x49cd79(0x558)],'sections':_0x47235c,'listType':0x2}};}else{if(_0x1e0159[_0x49cd79(0x57e)][_0x49cd79(0x270)]===_0x49cd79(0x51e)){let _0x1c5976=_0x1e0159[_0x49cd79(0x57e)]['choices'][_0x49cd79(0x336)](_0x5c1da7=>!(_0x5c1da7[_0x49cd79(0x47d)]('[')&&_0x5c1da7[_0x49cd79(0x3c8)](']')))[_0x49cd79(0x1ef)](_0x540e85=>_0x540e85[_0x49cd79(0x4bc)]('\x0a')[0x0]);_0x2906e4={'poll':{'name':_0x1e0159[_0x49cd79(0x57e)][_0x49cd79(0x577)],'selectableCount':_0x1e0159['menuMessage'][_0x49cd79(0x349)]||0x1,'values':_0x1c5976}};}}return await this[_0x49cd79(0x2bf)](_0x1e0159[_0x49cd79(0x32e)],_0x2906e4,_0x1e0159?.[_0x49cd79(0x269)]);}['createSectionsFromValues'](_0x18f53a){let _0x5c637e=[],_0x559e41={'rows':[]};return _0x18f53a['forEach'](_0x17f6de=>{const _0x3fcc12=a0_0x4a73;if(_0x17f6de[_0x3fcc12(0x47d)]('[')&&_0x17f6de[_0x3fcc12(0x3c8)](']'))_0x559e41[_0x3fcc12(0x6aa)][_0x3fcc12(0x17a)]>0x0&&_0x5c637e[_0x3fcc12(0x143)](_0x559e41),_0x559e41={'title':_0x17f6de[_0x3fcc12(0x2c9)](0x1,-0x1),'rows':[]};else{let _0x452ad4=_0x17f6de[_0x3fcc12(0x4bc)]('\x0a')[_0x3fcc12(0x1ef)](_0x433949=>_0x433949['trim']()),_0x2c1c13=_0x452ad4[0x0],_0x473487=_0x452ad4[0x1]||null,_0x2a85d7=_0x452ad4[0x2]||_0x2c1c13;_0x559e41[_0x3fcc12(0x6aa)]['push']({'title':_0x2c1c13,'description':_0x473487,'rowId':_0x2a85d7});}}),_0x559e41['rows']['length']>0x0&&_0x5c637e['push'](_0x559e41),_0x5c637e;}async['updateMessage'](_0x2bbeeb,_0x265966){const _0x102aa6=a0_0x56f010;if(await this['getMessage'](_0x2bbeeb,!0x0)){let _0x4e9f3f={'where':{'_id':_0x2bbeeb['id']}},_0x382723={'status':[_0x265966['status']][0x0]};try{let _0x461e82=await this[_0x102aa6(0x5b9)][_0x102aa6(0x1a5)][_0x102aa6(0x189)](_0x4e9f3f,_0x382723,this[_0x102aa6(0x302)][_0x102aa6(0x7a2)]);_0x461e82&&J(this[_0x102aa6(0x5cd)],_0x102aa6(0x664),{'message':_0x461e82});}catch{}}}[a0_0x56f010(0x451)](_0x16b89f){const _0x23e6da=a0_0x56f010;let _0x48c124=[];return _0x16b89f[_0x23e6da(0x147)](_0x447666=>{const _0x5ae791=_0x23e6da;_0x447666[_0x5ae791(0x499)]&&_0x48c124['push']('['+_0x447666[_0x5ae791(0x499)]+']'),_0x447666[_0x5ae791(0x6aa)][_0x5ae791(0x147)](_0x45a4df=>{const _0x15b3cc=_0x5ae791;_0x48c124[_0x15b3cc(0x143)](_0x45a4df[_0x15b3cc(0x499)]);});}),_0x48c124['join']('|');}['formatVCard'](_0x383e5e){const _0x28f565=a0_0x56f010;let _0x46f833=_0x383e5e[_0x28f565(0x2b0)](/\\n/g,'\x0a')[_0x28f565(0x4bc)]('\x0a')[_0x28f565(0x336)](_0x3b49bb=>_0x3b49bb['includes'](_0x28f565(0x5d8))||_0x3b49bb[_0x28f565(0x246)](_0x28f565(0x2ed))),_0x562f01='';return _0x46f833[_0x28f565(0x147)](_0x250dd7=>{const _0x377fad=_0x28f565;let _0x4ffbf5=/TEL(?:.*):(.+)/,_0x35768b=/EMAIL(?:.*):(.+)/,_0x3a3c4f=_0x250dd7[_0x377fad(0x19c)](_0x4ffbf5),_0x3c9b8a=_0x250dd7[_0x377fad(0x19c)](_0x35768b);if(_0x3a3c4f){let _0x2b4eb1=_0x3a3c4f[0x1][_0x377fad(0x2b0)](/-| |\+|\(|\)/g,'')[_0x377fad(0x7a3)]();_0x562f01+=_0x377fad(0x396)+_0x2b4eb1+'\x0a';}else{if(_0x3c9b8a){let _0x393b3f=_0x3c9b8a[0x1][_0x377fad(0x7a3)]();_0x562f01+=_0x377fad(0x6e4)+_0x393b3f+'\x0a';}}}),_0x562f01[_0x28f565(0x7a3)]();}async[a0_0x56f010(0x741)](_0x5dbc2c,_0x5bf4cf,_0x2701f2){const _0x251acf=a0_0x56f010;if(!_0x5dbc2c[_0x251acf(0x365)])return;let _0x53925f=_0x5bf4cf[_0x251acf(0x528)][_0x251acf(0x29f)][_0x251acf(0x2b0)](/:\d{1,2}@/g,'@'),_0x519529=_0x5bf4cf[_0x251acf(0x528)]['fromMe'],_0xe69d29=_0x53925f[_0x251acf(0x3c8)]('@g.us'),_0x2bc792=_0x5bf4cf[_0x251acf(0x20d)]?.[_0x251acf(0x577)]||_0x5bf4cf[_0x251acf(0x20d)]?.[_0x251acf(0x3d6)]||_0x5bf4cf[_0x251acf(0x20d)]?.['vote']||_0x5bf4cf[_0x251acf(0x20d)]?.[_0x251acf(0x3c0)],_0x18ce82={'lastmsg':_0x5bf4cf[_0x251acf(0x24d)]||Date[_0x251acf(0x203)](),'unreadcount':_0x519529?0x0:0x1,..._0x519529||_0xe69d29?{}:{'name':_0x5bf4cf['pushName']},..._0xe69d29?{'group':_0xe69d29}:{}},_0x430a99=await this[_0x251acf(0x5b9)]['chat']['updateOne']({'where':{'_id':_0x53925f}},_0x18ce82,this['instance'][_0x251acf(0x7a2)],{'new':!0x0,'upsert':!0x0});if(_0x430a99[_0x251acf(0x4f4)]){let _0x5f4145=await this[_0x251acf(0x5b9)][_0x251acf(0x5a5)][_0x251acf(0x766)]({'where':{}},this[_0x251acf(0x302)][_0x251acf(0x7a2)]),_0x5b5247=new Set(_0x5f4145[_0x251acf(0x1ef)](_0x5342dd=>_0x5342dd[_0x251acf(0x20e)])),_0x3a293f=(_0x430a99[_0x251acf(0x5ad)]?.[_0x251acf(0x42c)]||[])[_0x251acf(0x336)](_0x59bbe5=>_0x5b5247[_0x251acf(0x428)](_0x59bbe5)),_0x4d42ed={'leadInfo.etiquetas':_0x3a293f,'imported':!0x1};_0x430a99=await this[_0x251acf(0x5b9)][_0x251acf(0x48d)][_0x251acf(0x4c4)]({'where':{'_id':_0x53925f}},_0x4d42ed,this[_0x251acf(0x302)][_0x251acf(0x7a2)]);for(let _0x4e0fda of _0x3a293f)await this[_0x251acf(0x49f)](_0x4e0fda,_0x53925f);}if(!_0xe69d29&&(!_0x430a99?.['leadInfo']||!_0x430a99[_0x251acf(0x5ad)]['nome'])&&_0x5bf4cf['pushName']&&!_0x519529&&(_0x430a99=await this[_0x251acf(0x5b9)][_0x251acf(0x48d)][_0x251acf(0x4c4)]({'where':{'_id':_0x53925f}},{'leadInfo.nome':_0x5bf4cf[_0x251acf(0x171)]},this[_0x251acf(0x302)][_0x251acf(0x7a2)],{'new':!0x0,'upsert':!0x0})),_0x2701f2===_0x251acf(0x25a)&&_0x519529&&this[_0x251acf(0x32d)]?.[_0x251acf(0x288)][_0x251acf(0x461)]&&!_0x2bc792[_0x251acf(0x47d)](this[_0x251acf(0x32d)]?.[_0x251acf(0x288)][_0x251acf(0x666)])){let _0x5cbd01=(this[_0x251acf(0x32d)]?.[_0x251acf(0x288)][_0x251acf(0x517)]||0x5)*0xea60,_0x20cb5b=Date['now']()+_0x5cbd01;_0x430a99?.[_0x251acf(0x5ad)]?.[_0x251acf(0x4a4)]===0x0||(await this[_0x251acf(0x5b9)][_0x251acf(0x48d)][_0x251acf(0x4c4)]({'where':{'_id':_0x53925f}},{'leadInfo.desativadoFluxoAte':_0x20cb5b},this[_0x251acf(0x302)][_0x251acf(0x7a2)],{'new':!0x0,'upsert':!0x1}),this[_0x251acf(0x186)][_0x251acf(0x6db)](this['instanceName']+'\x20('+this[_0x251acf(0x302)][_0x251acf(0x7a2)]+_0x251acf(0x793)+_0x20cb5b+'.'));}if(_0x430a99)J(this[_0x251acf(0x5cd)],'chats',{'chat':_0x430a99});else{this[_0x251acf(0x186)]['error'](this[_0x251acf(0x5cd)]+'\x20('+this['instance'][_0x251acf(0x7a2)]+_0x251acf(0x166));return;}if(!this[_0x251acf(0x32d)]?.[_0x251acf(0x288)]['enabled'])return this[_0x251acf(0x186)][_0x251acf(0x6db)](this[_0x251acf(0x5cd)]+'\x20('+this[_0x251acf(0x302)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x430a99['_id']['includes']('@g.us')&&this[_0x251acf(0x32d)]?.[_0x251acf(0x288)]['ignoreGroups']===!0x0)return this[_0x251acf(0x186)][_0x251acf(0x6db)](this[_0x251acf(0x5cd)]+'\x20('+this['instance'][_0x251acf(0x7a2)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x430a99['leadInfo']){if(_0x430a99[_0x251acf(0x5ad)][_0x251acf(0x4a4)]===0x0||_0x430a99[_0x251acf(0x5ad)]['atendimentoAberto'])return this[_0x251acf(0x186)][_0x251acf(0x6db)](this['instanceName']+'\x20('+this[_0x251acf(0x302)][_0x251acf(0x7a2)]+_0x251acf(0x190)+_0x53925f+',\x20saindo.'),null;if(_0x430a99['leadInfo']['desativadoFluxoAte']>Date[_0x251acf(0x203)]()&&!_0x5bf4cf[_0x251acf(0x20d)]?.['vote'])return this[_0x251acf(0x186)][_0x251acf(0x6db)](this[_0x251acf(0x5cd)]+'\x20('+this[_0x251acf(0x302)][_0x251acf(0x7a2)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x430a99[_0x251acf(0x5ad)][_0x251acf(0x4a4)])['toLocaleString']()+_0x251acf(0x719)),null;}this[_0x251acf(0x186)][_0x251acf(0x6db)](this[_0x251acf(0x5cd)]+'\x20('+this['instance'][_0x251acf(0x7a2)]+_0x251acf(0x1d6)),this[_0x251acf(0x611)](_0x2701f2,_0x5bf4cf);}async[a0_0x56f010(0x62d)](_0x3071dc,_0x2386a8){const _0x40d566=a0_0x56f010;if(_0x2386a8[_0x40d566(0x365)]){let _0x439631=_0x3071dc['map'](async _0x20f5f9=>{const _0x51f7aa=_0x40d566;try{let _0x745768={'_id':_0x20f5f9['_id'],'owner':_0x20f5f9[_0x51f7aa(0x306)],'lastcache':0x0};if(_0x20f5f9[_0x51f7aa(0x3eb)]!==null&&(_0x745768['group']=_0x20f5f9[_0x51f7aa(0x3eb)]),_0x20f5f9[_0x51f7aa(0x3c0)]!==null&&(_0x745768[_0x51f7aa(0x3c0)]=_0x20f5f9[_0x51f7aa(0x3c0)]),_0x20f5f9[_0x51f7aa(0x520)]!==null&&(_0x745768[_0x51f7aa(0x520)]=_0x20f5f9['contactname']),_0x20f5f9[_0x51f7aa(0x785)]!==null&&(_0x745768[_0x51f7aa(0x785)]=_0x20f5f9[_0x51f7aa(0x785)]),_0x20f5f9[_0x51f7aa(0x785)]===null&&(_0x745768['imagechat']=_0x51f7aa(0x1cd)),_0x20f5f9[_0x51f7aa(0x416)]!==null&&(_0x745768[_0x51f7aa(0x416)]=_0x20f5f9['lastmsg']),_0x20f5f9[_0x51f7aa(0x2eb)]!==null&&(_0x745768['archived']=_0x20f5f9[_0x51f7aa(0x2eb)]),_0x20f5f9['unreadcount']!==null&&(_0x745768[_0x51f7aa(0x60e)]=_0x20f5f9[_0x51f7aa(0x60e)]),Object[_0x51f7aa(0x37c)](_0x745768)['length']>0x0)return await this['repository'][_0x51f7aa(0x48d)][_0x51f7aa(0x4c4)]({'where':{'_id':_0x20f5f9['_id']}},_0x745768,this['instance'][_0x51f7aa(0x7a2)]);}catch(_0x3cc1e8){return console[_0x51f7aa(0x4f8)](_0x51f7aa(0x767)+_0x20f5f9[_0x51f7aa(0x20e)]+':',_0x3cc1e8),null;}}),_0x3fca0e=(await Promise['all'](_0x439631))[_0x40d566(0x336)](_0x40223e=>_0x40223e!==null)[_0x40d566(0x17a)];this[_0x40d566(0x186)][_0x40d566(0x6db)](this['instanceName']+'\x20('+this['instance'][_0x40d566(0x7a2)]+_0x40d566(0x609)+_0x3fca0e+_0x40d566(0x2aa)+this[_0x40d566(0x302)][_0x40d566(0x7a2)]+_0x40d566(0x786));}}async['readMessageBot'](_0x109f18){const _0x13ce18=a0_0x56f010;this[_0x13ce18(0x186)]['verbose'](this[_0x13ce18(0x5cd)]+'\x20('+this[_0x13ce18(0x302)]['wuid']+_0x13ce18(0x5fb));let _0x1909c3={'readMessages':[{'remoteJid':_0x109f18[_0x13ce18(0x6a3)][_0x13ce18(0x68e)][_0x13ce18(0x528)][_0x13ce18(0x29f)],'fromMe':_0x109f18[_0x13ce18(0x6a3)][_0x13ce18(0x68e)]['key'][_0x13ce18(0x329)],'id':_0x109f18[_0x13ce18(0x6a3)][_0x13ce18(0x68e)]['key']['id']}]};await this[_0x13ce18(0x546)](_0x1909c3);}async['StartBot'](_0x3ed9e2,_0x2b72a2){const _0x506649=a0_0x56f010;try{let {key:_0x3a669d,message_normalized:_0x15b102}=_0x2b72a2,_0x411270=_0x15b102,_0x4232ba=_0x15b102[_0x506649(0x577)]||_0x15b102['caption']||_0x15b102[_0x506649(0x23e)]||_0x15b102[_0x506649(0x3c0)],_0x4bb7de=_0x3a669d[_0x506649(0x29f)],_0x2dfb89;if(_0x411270[_0x506649(0x528)][_0x506649(0x329)]&&_0x4232ba['trim']()!==this[_0x506649(0x32d)]?.['flowConfig'][_0x506649(0x21b)]['trim']())return this[_0x506649(0x186)][_0x506649(0x6db)](this['instanceName']+'\x20('+this[_0x506649(0x302)][_0x506649(0x7a2)]+_0x506649(0x718)),null;if(_0x411270['key']['fromMe']&&_0x4232ba['trim']()===this[_0x506649(0x32d)]?.['flowConfig'][_0x506649(0x21b)]['trim']()){this[_0x506649(0x186)][_0x506649(0x6db)](this[_0x506649(0x5cd)]+'\x20('+this[_0x506649(0x302)][_0x506649(0x7a2)]+_0x506649(0x1c5));let _0x36bba1=await this[_0x506649(0x5b9)]['flowConversation'][_0x506649(0x766)]({'remoteJid':_0x4bb7de,'status':_0x506649(0x55a)},this[_0x506649(0x302)][_0x506649(0x7a2)]);this[_0x506649(0x186)]['verbose'](this['instanceName']+'\x20('+this[_0x506649(0x302)][_0x506649(0x7a2)]+_0x506649(0x57d)+_0x36bba1);let _0x3e995d=Date['now'](),_0x3582c0;return this[_0x506649(0x32d)]?.[_0x506649(0x288)]['stopMinutes']===0x0?_0x3582c0={'stoppedUntil':_0x3e995d+0x7591f6200}:_0x3582c0={'stoppedUntil':_0x3e995d+this['AutomateSystem']?.[_0x506649(0x288)][_0x506649(0x42d)]*0x3c*0x3e8},this[_0x506649(0x186)][_0x506649(0x6db)](this[_0x506649(0x5cd)]+'\x20('+this['instance']['wuid']+_0x506649(0x6dc)+_0x3582c0),this[_0x506649(0x76f)](_0x2dfb89,_0x3582c0[_0x506649(0x38e)]),null;}if(_0x4232ba&&_0x4232ba[_0x506649(0x47d)](this[_0x506649(0x32d)]?.['flowConfig'][_0x506649(0x666)])&&_0x4232ba['length']>0x4){let _0x2a7aba=await this[_0x506649(0x5b9)]['flow']['findOne']({'where':{'startCommandWord':_0x4232ba}},this[_0x506649(0x302)][_0x506649(0x7a2)]);if(this[_0x506649(0x186)][_0x506649(0x6db)](this['instanceName']+'\x20('+this[_0x506649(0x302)][_0x506649(0x7a2)]+_0x506649(0x2ff)),_0x2a7aba)_0x2dfb89=await this[_0x506649(0x3ea)](_0x2a7aba,_0x411270[_0x506649(0x528)],_0x411270);else return this['logger']['verbose'](this[_0x506649(0x5cd)]+'\x20('+this[_0x506649(0x302)][_0x506649(0x7a2)]+_0x506649(0x787)),null;}else _0x2dfb89=await this[_0x506649(0x389)](_0x4bb7de,_0x411270);if(_0x2dfb89){this['logger']['verbose'](this[_0x506649(0x5cd)]+'\x20('+this[_0x506649(0x302)][_0x506649(0x7a2)]+_0x506649(0x44d)),!_0x3a669d[_0x506649(0x329)]&&_0x2dfb89[_0x506649(0x783)]&&this[_0x506649(0x1cf)](_0x2dfb89);let _0x1d0416=await this[_0x506649(0x19e)](_0x2dfb89);_0x1d0416&&await this['processblock'](_0x2dfb89,_0x1d0416);}}catch(_0x138627){this['logger'][_0x506649(0x4f8)](this[_0x506649(0x5cd)]+'\x20('+this[_0x506649(0x302)][_0x506649(0x7a2)]+_0x506649(0x4ac)+(_0x138627 instanceof Error?_0x138627[_0x506649(0x1a5)]:JSON[_0x506649(0x1b7)](_0x138627,null,0x2)));}}[a0_0x56f010(0x6fc)](_0x2c1a79,_0x4be921='',_0x308933={},_0x4d2cba=!0x0){const _0x42af12=a0_0x56f010;for(let _0x35343b in _0x2c1a79){let _0x4e8a36=_0x4d2cba?'_'+_0x35343b:''+_0x4be921+_0x35343b;typeof _0x2c1a79[_0x35343b]==_0x42af12(0x5d0)&&_0x2c1a79[_0x35343b]!==null?this[_0x42af12(0x6fc)](_0x2c1a79[_0x35343b],_0x4e8a36+'.',_0x308933,!0x1):_0x308933[_0x4e8a36]=String(_0x2c1a79[_0x35343b]);}return _0x308933;}[a0_0x56f010(0x589)](_0x4d434a){const _0x119ea4=a0_0x56f010;let _0x32accb={};for(let _0xf88c80 of _0x4d434a)typeof _0xf88c80['name']=='string'&&typeof _0xf88c80['value']==_0x119ea4(0x140)&&(_0x32accb[_0xf88c80[_0x119ea4(0x3c0)]]=_0xf88c80[_0x119ea4(0x128)]);return _0x32accb;}async[a0_0x56f010(0x19e)](_0x58c902){const _0x23b455=a0_0x56f010;if(!this[_0x23b455(0x32d)]?.['flowConfig'][_0x23b455(0x461)]||_0x58c902['status']!==_0x23b455(0x55a)&&_0x58c902[_0x23b455(0x217)]==='')return null;let _0x1368ff=_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x59c)]||_0x23b455(0x30f);typeof _0x58c902[_0x23b455(0x6a3)][_0x23b455(0x49c)]>'u'&&(_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x49c)]=!0x0);let _0x1b7c51=_0x58c902['chatLog'][_0x23b455(0x49c)];this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x23b455(0x302)][_0x23b455(0x7a2)]+_0x23b455(0x4cd)+_0x1368ff+_0x23b455(0x2e6)+_0x1b7c51);let _0x3f6408=_0x1368ff===_0x23b455(0x30f)?_0x58c902[_0x23b455(0x65a)][_0x23b455(0x766)](_0x2b5667=>_0x2b5667['type']===_0x23b455(0x30f)):_0x58c902[_0x23b455(0x65a)]['find'](_0x2f5b08=>_0x2f5b08['_id']['toString']()===_0x1368ff[_0x23b455(0x4c5)]());if(!_0x3f6408)return this[_0x23b455(0x186)][_0x23b455(0x4f8)](this['instanceName']+'\x20('+this['instance'][_0x23b455(0x7a2)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x1368ff),null;let _0x3d2a60={'_pushName':_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x68e)][_0x23b455(0x171)],..._0x58c902[_0x23b455(0x6a3)][_0x23b455(0x362)]},_0x147ac7=null;if(_0x58c902[_0x23b455(0x217)]){let _0x557971=_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x68e)][_0x23b455(0x23e)],_0x87ca7b=_0x58c902[_0x23b455(0x450)][_0x23b455(0x766)](_0x122d19=>_0x122d19[_0x23b455(0x2ce)]===_0x557971);if(_0x87ca7b){let _0x3f8b1e=_0x87ca7b[_0x23b455(0x628)];if(_0x147ac7=_0x58c902[_0x23b455(0x65a)][_0x23b455(0x766)](_0x2df960=>_0x2df960[_0x23b455(0x46e)]===_0x3f8b1e&&_0x2df960['order']===0x1),_0x3f6408['uazapi'][_0x23b455(0x3d9)]){let _0x14f02d={'id':_0x58c902[_0x23b455(0x217)],'remoteJid':_0x58c902['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x14f02d);}if(_0x3f6408['uazapi']['pollOnReplyDelete']&&_0x3f6408[_0x23b455(0x3aa)][_0x23b455(0x267)]&&_0x3f6408[_0x23b455(0x3aa)][_0x23b455(0x5f4)]==='poll'){let _0x3c9b44={'number':_0x58c902[_0x23b455(0x29f)],'options':{'delay':0x0},'textMessage':{'text':_0x23b455(0x326)+_0x58c902['waitingMenu_text']+_0x23b455(0x1d1)+_0x557971}};await this['textMessage'](_0x3c9b44);}_0x58c902['status']=_0x23b455(0x55a),_0x58c902['waitingMenu_id']='',_0x58c902[_0x23b455(0x734)]='',_0x58c902[_0x23b455(0x450)]=[];}else{this[_0x23b455(0x186)][_0x23b455(0x6db)](this[_0x23b455(0x5cd)]+'\x20('+this[_0x23b455(0x302)]['wuid']+_0x23b455(0x769));let _0x19fd3e={'activatedCount':_0x58c902['chatLog']['blockLogs'][_0x23b455(0x336)](_0x2b75f7=>String(_0x2b75f7[_0x23b455(0x56a)])===String(_0x1368ff))[_0x23b455(0x17a)],'moreLogs':[_0x23b455(0x3f0)]};if(_0x3f6408[_0x23b455(0x3aa)][_0x23b455(0x753)]){let _0x22a7fd={'number':_0x58c902[_0x23b455(0x29f)],'options':{'delay':0x0},'textMessage':{'text':_0x3f6408['uazapi']['pollErrorMessage']}};await this[_0x23b455(0x344)](_0x22a7fd);}if(_0x3f6408[_0x23b455(0x4b7)]!==void 0x0&&_0x19fd3e[_0x23b455(0x39e)]>=_0x3f6408['maxActives']){let _0xa09b1=Date[_0x23b455(0x203)](),_0x44fd36=_0x3f6408[_0x23b455(0x1aa)]??0xa;isNaN(_0x44fd36)&&(_0x44fd36=0xa);let _0x165261=_0xa09b1+_0x44fd36*0x3c*0x3e8;_0x19fd3e[_0x23b455(0x34f)]=_0x165261,_0x19fd3e[_0x23b455(0x4b0)][_0x23b455(0x143)](_0x23b455(0x241)),this['updateStopChat'](_0x58c902,_0x165261),_0x58c902[_0x23b455(0x217)]='',_0x58c902['waitingMenu_text']='',_0x58c902[_0x23b455(0x450)]=[];}return this[_0x23b455(0x525)](_0x58c902,_0x3f6408,_0x19fd3e,!0x0),null;}}if(_0x1b7c51&&_0x3f6408[_0x23b455(0x628)]&&!_0x58c902['waitingMenu_id']){let _0x50d30d=_0x58c902[_0x23b455(0x65a)][_0x23b455(0x336)](_0x3ba82e=>_0x3ba82e['groupId'][_0x23b455(0x4c5)]()===_0x3f6408[_0x23b455(0x628)][_0x23b455(0x4c5)]())['sort']((_0x394e46,_0x59ca61)=>_0x394e46['order']-_0x59ca61[_0x23b455(0x687)]);_0x50d30d['length']>0x0&&(_0x147ac7=_0x50d30d[0x0]);}if(!_0x147ac7){let _0x50e4bc=_0x3f6408[_0x23b455(0x46e)],_0x4e21df=_0x58c902[_0x23b455(0x65a)][_0x23b455(0x336)](_0xc72134=>_0xc72134[_0x23b455(0x46e)]===_0x50e4bc&&_0xc72134[_0x23b455(0x687)]>_0x3f6408['order'])[_0x23b455(0x537)]((_0x15cf00,_0x3b4933)=>_0x15cf00['order']-_0x3b4933[_0x23b455(0x687)]);_0x4e21df['length']>0x0&&(_0x147ac7=_0x4e21df[0x0]);}if(!_0x147ac7)return _0x58c902[_0x23b455(0x1b0)]='closed',null;_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x362)]=_0x3d2a60;let _0x1d7160=JSON[_0x23b455(0x2cd)](JSON[_0x23b455(0x1b7)](_0x147ac7));return this[_0x23b455(0x4a5)](_0x1d7160,_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x362)]),_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x59c)]=_0x1d7160[_0x23b455(0x20e)],_0x58c902[_0x23b455(0x6a3)][_0x23b455(0x49c)]=!0x0,_0x1d7160;}[a0_0x56f010(0x602)](_0x29e45c,_0x265973){const _0x181bf5=a0_0x56f010;return _0x29e45c[_0x181bf5(0x2b0)](/\{\{([^}]+)\}\}/g,(_0x19047d,_0x12fb05)=>_0x265973[_0x12fb05]||'');}[a0_0x56f010(0x4a5)](_0x8b1d33,_0x21e339){const _0x9b6f46=a0_0x56f010;for(let _0x1e2a46 in _0x8b1d33)typeof _0x8b1d33[_0x1e2a46]==_0x9b6f46(0x140)?_0x8b1d33[_0x1e2a46]=this[_0x9b6f46(0x602)](_0x8b1d33[_0x1e2a46],_0x21e339):typeof _0x8b1d33[_0x1e2a46]==_0x9b6f46(0x5d0)&&this[_0x9b6f46(0x4a5)](_0x8b1d33[_0x1e2a46],_0x21e339);}async[a0_0x56f010(0x586)](_0xb795d,_0x1bf07f){const _0x53a736=a0_0x56f010;let _0x281883=_0x1bf07f['_id'];if(_0xb795d[_0x53a736(0x6a3)]&&_0xb795d[_0x53a736(0x6a3)]['blockLogs']){let _0x5836ff=_0xb795d['chatLog'][_0x53a736(0x124)][_0x53a736(0x336)](_0x545dcd=>String(_0x545dcd[_0x53a736(0x56a)])===String(_0x281883))[_0x53a736(0x4d5)]();if(_0x5836ff&&_0x5836ff['error']&&_0x1bf07f[_0x53a736(0x780)])return _0xb795d[_0x53a736(0x1b0)]=_0x53a736(0x69a),await this[_0x53a736(0x35c)](_0xb795d),null;}if(_0x1bf07f[_0x53a736(0x270)]===_0x53a736(0x3aa)&&_0x1bf07f[_0x53a736(0x3aa)][_0x53a736(0x3b2)]===_0x53a736(0x2f9)&&_0xb795d['waitingMenu_id'])return _0xb795d[_0x53a736(0x6a3)][_0x53a736(0x59c)]=_0x281883,await this[_0x53a736(0x35c)](_0xb795d),null;let _0x4bb6fa=await this['NextBlock'](_0xb795d);if(_0xb795d[_0x53a736(0x6a3)]&&_0xb795d['chatLog'][_0x53a736(0x124)]){let _0x530c40=_0xb795d[_0x53a736(0x6a3)][_0x53a736(0x124)][_0x53a736(0x336)](_0x4575ee=>String(_0x4575ee['blockId'])===String(_0x281883))[_0x53a736(0x17a)];if(_0x1bf07f[_0x53a736(0x4b7)]!==void 0x0&&_0x530c40>=_0x1bf07f[_0x53a736(0x4b7)]){let _0x116618=Date['now'](),_0x56e819=_0x1bf07f[_0x53a736(0x1aa)]??0xa;isNaN(_0x56e819)&&(_0x56e819=0xa);let _0x11284c=_0x116618+_0x56e819*0x3c*0x3e8,_0x4be89a={'newStoppedUntil':_0x11284c};return this[_0x53a736(0x76f)](_0xb795d,_0x11284c),this['updateConversation'](_0xb795d,_0x1bf07f,_0x4be89a,!0x0),null;}}_0x4bb6fa&&_0x4bb6fa[_0x53a736(0x270)]!=='save'&&await this['processblock'](_0xb795d,_0x4bb6fa),_0x4bb6fa||await this[_0x53a736(0x35c)](_0xb795d),_0x4bb6fa&&_0x4bb6fa['type']===_0x53a736(0x1dc)&&(_0xb795d[_0x53a736(0x6a3)]['lastBlockId']=_0x281883,await this[_0x53a736(0x35c)](_0xb795d));}async[a0_0x56f010(0x164)](_0x2adf7c,_0x522b8f){const _0x76423=a0_0x56f010;try{let _0x298b7d=_0x522b8f['type'];this[_0x76423(0x186)][_0x76423(0x6db)](this[_0x76423(0x5cd)]+'\x20('+this[_0x76423(0x302)][_0x76423(0x7a2)]+_0x76423(0x773)+_0x298b7d);let _0x3d3d61={'uazapi':()=>this[_0x76423(0x3bd)](_0x2adf7c,_0x522b8f),'save':()=>this['saveTextReply'](_0x2adf7c,_0x522b8f),'stop':()=>this['stopConversation'](_0x2adf7c,_0x522b8f),'condition':()=>this[_0x76423(0x430)](_0x2adf7c,_0x522b8f),'varedit':()=>this[_0x76423(0x369)](_0x2adf7c,_0x522b8f),'apirequest':()=>this[_0x76423(0x6be)](_0x2adf7c,_0x522b8f),'goToFlow':()=>this[_0x76423(0x599)](_0x2adf7c,_0x522b8f)}[_0x298b7d];_0x3d3d61&&await _0x3d3d61();}catch(_0x2aeef2){this['logger'][_0x76423(0x4f8)](this[_0x76423(0x5cd)]+'\x20('+this[_0x76423(0x302)]['wuid']+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x2aeef2 instanceof Error?_0x2aeef2[_0x76423(0x1a5)]:JSON['stringify'](_0x2aeef2,null,0x2)));}}async[a0_0x56f010(0x599)](_0x48f65a,_0x2bbdac){const _0x2d910f=a0_0x56f010;if(this['logger'][_0x2d910f(0x6db)](this[_0x2d910f(0x5cd)]+'\x20('+this[_0x2d910f(0x302)]['wuid']+_0x2d910f(0x3f8)),!_0x48f65a||!_0x2bbdac)return this[_0x2d910f(0x186)][_0x2d910f(0x4f8)](this['instanceName']+'\x20('+this[_0x2d910f(0x302)]['wuid']+_0x2d910f(0x703)),null;await this[_0x2d910f(0x525)](_0x48f65a,_0x2bbdac,{},!0x0,!0x0),console[_0x2d910f(0x125)](_0x2d910f(0x6d2)),console[_0x2d910f(0x125)](_0x2bbdac);let _0x87a5cc=_0x2bbdac['goToFlow'];console[_0x2d910f(0x125)](_0x2d910f(0x1a7),_0x87a5cc),_0x48f65a=await this[_0x2d910f(0x612)](_0x87a5cc,_0x48f65a['remoteJid'],_0x48f65a[_0x2d910f(0x6a3)][_0x2d910f(0x362)]),this[_0x2d910f(0x186)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2d910f(0x7a2)]+_0x2d910f(0x67f));let _0x1ff1a4=await this['NextBlock'](_0x48f65a);_0x1ff1a4&&await this[_0x2d910f(0x164)](_0x48f65a,_0x1ff1a4);}async[a0_0x56f010(0x612)](_0x3ae2c2,_0x37dce8,_0x3a9ce6){const _0x375991=a0_0x56f010;this[_0x375991(0x186)][_0x375991(0x6db)](this[_0x375991(0x5cd)]+'\x20('+this['instance']['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x3ae2c2=await this['repository'][_0x375991(0x15b)]['findOne']({'where':{'name':_0x3ae2c2}},this['instance'][_0x375991(0x7a2)]),!_0x3ae2c2)return this[_0x375991(0x186)]['error'](this[_0x375991(0x5cd)]+'\x20('+this[_0x375991(0x302)][_0x375991(0x7a2)]+_0x375991(0x54f)),null;let _0x4d8e1b=require(_0x375991(0x477))[_0x375991(0x4ad)],_0x1252f4=Date['now'](),_0x2b53fc=_0x375991(0x30f),_0x5e21d0={},_0xa2a191={},_0x5ceffa={..._0x3ae2c2,'chatLog':null},_0x2da0dc={'lastReceivedMessage':_0x5e21d0,'lastSendMessage':_0xa2a191,'lastBlockId':_0x2b53fc,'lastCondition':!0x0,'realVariables':_0x3a9ce6};_0x5ceffa[_0x375991(0x6a3)]=_0x2da0dc,_0x5ceffa['chatLog'][_0x375991(0x362)]={..._0x3a9ce6},delete _0x5ceffa[_0x375991(0x20e)],_0x5ceffa['_id']=new _0x4d8e1b(),_0x5ceffa[_0x375991(0x1c9)]=_0x1252f4,_0x5ceffa['status']='open',_0x5ceffa['remoteJid']=_0x37dce8;let _0x47db03=await this[_0x375991(0x5b9)]['flowConversation'][_0x375991(0x4c4)](_0x5ceffa[_0x375991(0x20e)],_0x5ceffa,this[_0x375991(0x302)][_0x375991(0x7a2)]);return this[_0x375991(0x186)][_0x375991(0x6db)](this[_0x375991(0x5cd)]+'\x20('+this['instance'][_0x375991(0x7a2)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x47db03?_0x5ceffa:null;}catch(_0x56c173){throw this[_0x375991(0x186)][_0x375991(0x4f8)](this[_0x375991(0x5cd)]+'\x20('+this[_0x375991(0x302)][_0x375991(0x7a2)]+_0x375991(0x240)+(_0x56c173 instanceof Error?_0x56c173['message']:JSON['stringify'](_0x56c173,null,0x2))),new m(_0x56c173[_0x375991(0x1a5)]);}}async[a0_0x56f010(0x6be)](_0x541c0d,_0x530b53){const _0x2fcb53=a0_0x56f010;let _0x385299,_0x2e1f82;try{let _0x4356b4=_0x530b53['apirequest'];if(!_0x4356b4||!_0x4356b4[_0x2fcb53(0x370)]||!_0x4356b4[_0x2fcb53(0x4f3)])throw new Error(_0x2fcb53(0x3df));let _0x1a5bbf;([_0x2fcb53(0x538),_0x2fcb53(0x44b),_0x2fcb53(0x56e)][_0x2fcb53(0x15f)](_0x1fc15b=>_0x4356b4[_0x2fcb53(0x370)][_0x2fcb53(0x246)](_0x1fc15b))||_0x4356b4[_0x2fcb53(0x2f5)])&&(_0x1a5bbf='arraybuffer');let _0x3de53a={'method':_0x4356b4[_0x2fcb53(0x4f3)],'url':_0x4356b4[_0x2fcb53(0x370)],'headers':_0x4356b4[_0x2fcb53(0x300)]||{},'data':_0x4356b4[_0x2fcb53(0x55f)]||{},..._0x1a5bbf&&{'responseType':_0x1a5bbf}},_0x719a9e=await(0x0,se[_0x2fcb53(0x34a)])(_0x3de53a),_0x557edf=_0x719a9e['headers']['content-type'];if(_0x557edf&&_0x557edf[_0x2fcb53(0x246)](_0x2fcb53(0x333))){_0x385299=_0x719a9e[_0x2fcb53(0x4a1)];let _0x3bc56a=_0x541c0d[_0x2fcb53(0x6a3)][_0x2fcb53(0x362)],_0x1fb147=this[_0x2fcb53(0x6fc)](_0x385299);return Object[_0x2fcb53(0x58f)](_0x3bc56a,_0x1fb147),_0x541c0d[_0x2fcb53(0x6a3)]['realVariables']=_0x3bc56a,_0x2e1f82={'error':!0x1,'apiResponse':_0x385299},this['updateConversation'](_0x541c0d,_0x530b53,_0x2e1f82),_0x385299;}if(_0x557edf&&(_0x557edf[_0x2fcb53(0x246)](_0x2fcb53(0x340))||_0x557edf[_0x2fcb53(0x246)](_0x2fcb53(0x350))||_0x557edf[_0x2fcb53(0x246)](_0x2fcb53(0x453))||_0x557edf[_0x2fcb53(0x246)](_0x2fcb53(0x16a)))){this['logger'][_0x2fcb53(0x6db)](this[_0x2fcb53(0x5cd)]+'\x20('+this[_0x2fcb53(0x302)][_0x2fcb53(0x7a2)]+_0x2fcb53(0x3e2)+_0x557edf);let _0x48b123=(0x0,Me['v4'])(),_0x1b07f7='',_0x291aaf={'image/jpeg':_0x2fcb53(0x616),'image/png':_0x2fcb53(0x6c9),'image/gif':_0x2fcb53(0x377),'image/webp':'.webp','image/svg+xml':_0x2fcb53(0x39d),'audio/mpeg':'.mp3','audio/ogg':_0x2fcb53(0x3bf),'audio/wav':_0x2fcb53(0x3ab),'video/mp4':_0x2fcb53(0x18a),'video/webm':_0x2fcb53(0x5d2),'video/ogg':_0x2fcb53(0x339),'text/plain':_0x2fcb53(0x1a6),'application/pdf':_0x2fcb53(0x508),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x2fcb53(0x18e),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x2fcb53(0x4da),'application/vnd.ms-powerpoint':_0x2fcb53(0x52d),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x2fcb53(0x782)};_0x291aaf[_0x557edf]?(_0x1b07f7=_0x291aaf[_0x557edf],this['logger'][_0x2fcb53(0x6db)](this[_0x2fcb53(0x5cd)]+'\x20('+this['instance'][_0x2fcb53(0x7a2)]+_0x2fcb53(0x29e)+_0x1b07f7)):(_0x1b07f7=_0x2fcb53(0x594),this['logger'][_0x2fcb53(0x6db)](this[_0x2fcb53(0x5cd)]+'\x20('+this[_0x2fcb53(0x302)][_0x2fcb53(0x7a2)]+_0x2fcb53(0x23f)+_0x1b07f7)),_0x48b123+=_0x1b07f7,this[_0x2fcb53(0x186)][_0x2fcb53(0x6db)](this[_0x2fcb53(0x5cd)]+'\x20('+this['instance']['wuid']+_0x2fcb53(0x1a1)+_0x48b123);let _0x285d74=this[_0x2fcb53(0x663)][_0x2fcb53(0x750)](_0x2fcb53(0x5db))['URL'];if(!_0x285d74){let _0x57751d=this[_0x2fcb53(0x663)][_0x2fcb53(0x750)](_0x2fcb53(0x1ec));_0x285d74='https://'+(_0x57751d&&_0x57751d[_0x2fcb53(0x150)][_0x2fcb53(0x4bc)]('/')[0x4]);}let _0x27bb4a=Buffer[_0x2fcb53(0x2f8)](_0x719a9e['data']);await this[_0x2fcb53(0x481)](_0x27bb4a,_0x48b123);let _0x588f74='/media/'+_0x48b123;_0x588f74=''+_0x285d74+_0x588f74,_0x385299={'fileUrl':_0x588f74},_0x541c0d['chatLog'][_0x2fcb53(0x362)][_0x2fcb53(0x484)]=_0x588f74;let _0x63e323=_0x541c0d[_0x2fcb53(0x6a3)][_0x2fcb53(0x362)],_0x4ed9b7=this[_0x2fcb53(0x6fc)](_0x385299);return Object[_0x2fcb53(0x58f)](_0x63e323,_0x4ed9b7),_0x541c0d[_0x2fcb53(0x6a3)][_0x2fcb53(0x362)]=_0x63e323,_0x2e1f82={'error':!0x1,'apiResponse':{'fileUrl':_0x588f74}},this[_0x2fcb53(0x525)](_0x541c0d,_0x530b53,_0x2e1f82),_0x385299;}}catch(_0x6ca839){console[_0x2fcb53(0x4f8)](_0x2fcb53(0x57b),_0x6ca839),_0x6ca839[_0x2fcb53(0x3cc)]&&(_0x385299=_0x6ca839[_0x2fcb53(0x3cc)][_0x2fcb53(0x4a1)]);let _0x3c2c85=_0x541c0d[_0x2fcb53(0x6a3)][_0x2fcb53(0x362)],_0x71502b=this[_0x2fcb53(0x6fc)](_0x385299);return Object['assign'](_0x3c2c85,_0x71502b),_0x541c0d[_0x2fcb53(0x6a3)][_0x2fcb53(0x362)]=_0x3c2c85,_0x2e1f82={'error':!0x0,'errorLog':_0x6ca839[_0x2fcb53(0x4c5)](),'apiResponse':_0x385299},this[_0x2fcb53(0x525)](_0x541c0d,_0x530b53,_0x2e1f82),{'success':!0x1};}}[a0_0x56f010(0x75f)](_0x22b3a2,_0x5a73cb){const _0x7e6460=a0_0x56f010;let _0x235829=_0x434844=>{const _0x472e09=a0_0x4a73;let _0x179db6=_0x434844[_0x472e09(0x2b0)](/[^0-9.,-]/g,'')[_0x472e09(0x2b0)](',','.'),_0x4efebe=parseFloat(_0x179db6);return isNaN(_0x4efebe)?null:_0x4efebe;},_0x15d4c9=_0x5a73cb[_0x7e6460(0x180)],_0x153a35=_0x5a73cb[_0x7e6460(0x3f7)];typeof _0x15d4c9=='string'&&(_0x15d4c9=this[_0x7e6460(0x602)](_0x15d4c9,_0x22b3a2[_0x7e6460(0x6a3)][_0x7e6460(0x362)])??''),typeof _0x153a35=='string'&&(_0x153a35=this[_0x7e6460(0x602)](_0x153a35,_0x22b3a2[_0x7e6460(0x6a3)][_0x7e6460(0x362)])??'');let _0x5d4e19=null;if(!_0x5a73cb[_0x7e6460(0x1a3)])return null;switch(this[_0x7e6460(0x186)][_0x7e6460(0x6db)](this['instanceName']+'\x20('+this[_0x7e6460(0x302)][_0x7e6460(0x7a2)]+_0x7e6460(0x1bb)+_0x15d4c9),this[_0x7e6460(0x186)][_0x7e6460(0x6db)](this[_0x7e6460(0x5cd)]+'\x20('+this[_0x7e6460(0x302)][_0x7e6460(0x7a2)]+_0x7e6460(0x4ed)+_0x153a35),_0x5a73cb[_0x7e6460(0x1a3)]){case'+':case'-':case'*':case'/':let _0x1003cb=_0x235829(_0x15d4c9||'0'),_0xb3f16e=_0x235829(_0x153a35||'0');if(_0x1003cb===null)return null;switch(_0x5a73cb[_0x7e6460(0x1a3)]){case'+':_0x5d4e19=_0x1003cb+(_0xb3f16e??0x0);break;case'-':_0x5d4e19=_0x1003cb-(_0xb3f16e??0x0);break;case'*':_0x5d4e19=_0x1003cb*(_0xb3f16e??0x1);break;case'/':_0xb3f16e!==0x0&&(_0x5d4e19=_0x1003cb/(_0xb3f16e??0x1));break;}break;case _0x7e6460(0x1a9):case _0x7e6460(0x177):let _0x337882=_0x153a35,_0xf5aa8=_0x5a73cb[_0x7e6460(0x3a4)];if(typeof _0xf5aa8=='string'&&(_0xf5aa8=this[_0x7e6460(0x602)](_0xf5aa8,_0x22b3a2[_0x7e6460(0x6a3)][_0x7e6460(0x362)])??''),_0x337882&&_0xf5aa8!==void 0x0){let _0x37316a=_0x5a73cb[_0x7e6460(0x1a3)]===_0x7e6460(0x1a9)?new RegExp(_0x337882[_0x7e6460(0x2b0)](/[-\/\\^$*+?.()|[\]{}]/g,_0x7e6460(0x6ad)),'g'):new RegExp(_0x337882,'g');_0x5d4e19=_0x15d4c9[_0x7e6460(0x2b0)](_0x37316a,_0xf5aa8);}else console[_0x7e6460(0x26f)](_0x7e6460(0x4eb));break;case _0x7e6460(0x593):_0x5d4e19=_0x153a35;break;case _0x7e6460(0x1df):let _0x4b3394=_0x15d4c9['match'](new RegExp(_0x153a35||''));_0x5d4e19=_0x4b3394?_0x4b3394[0x0]:'';break;case _0x7e6460(0x7a4):_0x5d4e19=_0x15d4c9[_0x7e6460(0x2c9)](0x0,parseInt(_0x153a35||'0'));break;case'truncatedtoEnd':let _0xe84af5=parseInt(_0x153a35||'0');_0x5d4e19=_0x15d4c9[_0x7e6460(0x2c9)](_0x15d4c9['length']-_0xe84af5);break;case _0x7e6460(0x6ef):let _0xee961d=_0x235829(_0x15d4c9),_0x16aab8=parseInt(_0x153a35||'0');_0x16aab8=Math[_0x7e6460(0x378)](_0x16aab8),_0xee961d!==null?_0x5d4e19=_0xee961d[_0x7e6460(0x3e6)]('pt-BR',{'minimumFractionDigits':_0x16aab8,'maximumFractionDigits':_0x16aab8}):(console[_0x7e6460(0x26f)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x15d4c9),_0x5d4e19=null);break;case _0x7e6460(0x53a):let _0x310e8f=_0x235829(_0x15d4c9);_0x310e8f!==null?_0x5d4e19=_0x310e8f[_0x7e6460(0x3e6)](_0x7e6460(0x280),{'style':_0x7e6460(0x440),'currency':_0x7e6460(0x6b5)}):(console[_0x7e6460(0x26f)](_0x7e6460(0x485)+_0x15d4c9),_0x5d4e19=null);break;case _0x7e6460(0x6ae):_0x5d4e19=_0x15d4c9[_0x7e6460(0x410)]();break;case _0x7e6460(0x71c):_0x5d4e19=_0x15d4c9[_0x7e6460(0x4a7)]();break;case _0x7e6460(0x120):_0x5d4e19=_0x15d4c9['split']('\x20')[_0x7e6460(0x1ef)](_0xded499=>_0xded499['charAt'](0x0)['toUpperCase']()+_0xded499['slice'](0x1)['toLowerCase']())[_0x7e6460(0x4c2)]('\x20');break;case _0x7e6460(0x363):_0x5d4e19=_0x15d4c9[_0x7e6460(0x7a3)]();break;default:_0x5d4e19=_0x15d4c9;}return _0x5d4e19!==null?_0x5d4e19['toString']():null;}async[a0_0x56f010(0x369)](_0x16fa10,_0x2c5653){const _0x56bdf7=a0_0x56f010;try{let _0xf26165=_0x16fa10[_0x56bdf7(0x290)]?.[_0x56bdf7(0x336)](_0x211216=>_0x211216[_0x56bdf7(0x56a)]===_0x2c5653['_id']?.[_0x56bdf7(0x4c5)]())||[],_0x460abf=_0x2c5653[_0x56bdf7(0x4d9)],_0x435468=null,_0x3fc8f2=[],_0x59471c=_0x16fa10[_0x56bdf7(0x6a3)][_0x56bdf7(0x362)][_0x460abf];_0x3fc8f2[_0x56bdf7(0x143)](_0x56bdf7(0x473)+_0x59471c+'\x22');for(let _0x33aa5f of _0xf26165){_0x33aa5f[_0x56bdf7(0x180)]=_0x59471c,_0x435468=_0x33aa5f[_0x56bdf7(0x180)];let _0xad78d1;try{_0xad78d1=this[_0x56bdf7(0x75f)](_0x16fa10,_0x33aa5f);}catch(_0xcaea10){console[_0x56bdf7(0x4f8)](_0x56bdf7(0x755)+_0xcaea10[_0x56bdf7(0x1a5)]);continue;}if(_0xad78d1!==null){let _0xfa41b4=_0x56bdf7(0x5c2)+_0x33aa5f['editOperator']+'\x22',_0x376279=[_0x56bdf7(0x53a),_0x56bdf7(0x6ae),_0x56bdf7(0x71c),_0x56bdf7(0x120),_0x56bdf7(0x363)];_0x33aa5f[_0x56bdf7(0x1a3)]===_0x56bdf7(0x1a9)||_0x33aa5f[_0x56bdf7(0x1a3)]===_0x56bdf7(0x177)?_0xfa41b4+=_0x56bdf7(0x3a3)+_0x33aa5f[_0x56bdf7(0x3f7)]+_0x56bdf7(0x53e)+_0x33aa5f[_0x56bdf7(0x3a4)]+'\x22':!_0x376279[_0x56bdf7(0x246)](_0x33aa5f[_0x56bdf7(0x1a3)])&&_0x33aa5f[_0x56bdf7(0x3f7)]!==null&&_0x33aa5f[_0x56bdf7(0x3f7)]!==void 0x0&&(_0xfa41b4+=_0x56bdf7(0x6d5)+_0x33aa5f[_0x56bdf7(0x3f7)]+'\x22'),_0xfa41b4+=_0x56bdf7(0x39c)+_0xad78d1+'.',_0x3fc8f2['push'](_0xfa41b4);}_0xad78d1!==null&&(_0x59471c=_0xad78d1);}if(_0x16fa10[_0x56bdf7(0x6a3)][_0x56bdf7(0x362)]&&_0x2c5653[_0x56bdf7(0x4d9)]){_0x16fa10['chatLog'][_0x56bdf7(0x362)][_0x2c5653['saveVariable']]=_0x59471c;let _0x524f0e={'variable':_0x2c5653['saveVariable'],'oldValue':_0x435468,'newValue':_0x59471c,'moreLogs':_0x3fc8f2};try{this[_0x56bdf7(0x525)](_0x16fa10,_0x2c5653,_0x524f0e);}catch(_0x3fba10){console[_0x56bdf7(0x4f8)](_0x56bdf7(0x29c)+_0x3fba10[_0x56bdf7(0x1a5)]);}}return _0x460abf;}catch(_0x21f227){return console[_0x56bdf7(0x4f8)](_0x56bdf7(0x5e1)+_0x21f227[_0x56bdf7(0x1a5)]),null;}}async[a0_0x56f010(0x430)](_0x3ca9f4,_0x5b165e){const _0x26eb27=a0_0x56f010;try{let _0x33ffb4=[],_0x5da693=_0x3ca9f4[_0x26eb27(0x596)][_0x26eb27(0x336)](_0x3ea0f7=>_0x3ea0f7[_0x26eb27(0x56a)]===_0x5b165e[_0x26eb27(0x20e)][_0x26eb27(0x4c5)]()),_0x45edf6=null,_0x520831=!0x1;for(let _0x4fe05f of _0x5da693){let _0x43e048=this[_0x26eb27(0x226)](_0x3ca9f4,_0x4fe05f);_0x33ffb4[_0x26eb27(0x143)](_0x26eb27(0x399)+_0x4fe05f[_0x26eb27(0x180)]+',\x20Comparador:\x20'+_0x4fe05f['expression']+_0x26eb27(0x22b)+_0x4fe05f[_0x26eb27(0x3f7)]+_0x26eb27(0x419)+_0x43e048),_0x45edf6===null?_0x45edf6=_0x43e048:_0x4fe05f[_0x26eb27(0x6b4)]==='and'?(_0x45edf6=_0x45edf6&&_0x43e048,_0x43e048||(_0x520831=!0x0)):_0x4fe05f[_0x26eb27(0x6b4)]==='or'&&(_0x520831||(_0x45edf6=_0x45edf6||_0x43e048));}_0x45edf6===null&&(_0x45edf6=!0x0);let _0x299b67={'moreLogs':_0x33ffb4};_0x3ca9f4['chatLog']['lastCondition']=_0x45edf6,await this[_0x26eb27(0x525)](_0x3ca9f4,_0x5b165e,_0x299b67);}catch(_0x19f0d8){this[_0x26eb27(0x186)][_0x26eb27(0x4f8)](this[_0x26eb27(0x5cd)]+'\x20('+this['instance'][_0x26eb27(0x7a2)]+_0x26eb27(0x195)+(_0x19f0d8 instanceof Error?_0x19f0d8[_0x26eb27(0x1a5)]:JSON['stringify'](_0x19f0d8,null,0x2)));}}[a0_0x56f010(0x226)](_0x5e6fe8,_0x19d7c5){const _0x20bfbf=a0_0x56f010;let _0x5a1ae2=_0x19d7c5[_0x20bfbf(0x180)],_0x49404c=_0x19d7c5[_0x20bfbf(0x3f7)];typeof _0x5a1ae2==_0x20bfbf(0x140)&&(_0x5a1ae2=this[_0x20bfbf(0x602)](_0x5a1ae2,_0x5e6fe8['chatLog'][_0x20bfbf(0x362)])??''),typeof _0x49404c=='string'&&(_0x49404c=this[_0x20bfbf(0x602)](_0x49404c,_0x5e6fe8['chatLog'][_0x20bfbf(0x362)])??'');try{switch(_0x19d7c5[_0x20bfbf(0x6d0)]){case _0x20bfbf(0x774):return _0x5a1ae2===_0x49404c;case _0x20bfbf(0x2ec):return _0x5a1ae2!==_0x49404c;case _0x20bfbf(0x6ce):return this[_0x20bfbf(0x6ce)](_0x5a1ae2,_0x49404c);case _0x20bfbf(0x61a):return!this[_0x20bfbf(0x6ce)](_0x5a1ae2,_0x49404c);case _0x20bfbf(0x40c):return parseFloat(_0x5a1ae2)>parseFloat(_0x49404c);case'less':return parseFloat(_0x5a1ae2)<parseFloat(_0x49404c);case _0x20bfbf(0x6b2):return _0x5a1ae2!=='';case _0x20bfbf(0x127):return _0x5a1ae2==='';case'matchRegex':return new RegExp(_0x49404c)[_0x20bfbf(0x6e1)](_0x5a1ae2);case _0x20bfbf(0x244):return!new RegExp(_0x49404c)['test'](_0x5a1ae2);default:return!0x1;}}catch(_0x199ae8){return console['error'](_0x20bfbf(0x200)+_0x199ae8),!0x1;}}[a0_0x56f010(0x6ce)](_0x1135f5,_0xc1f41c){const _0x4e1117=a0_0x56f010;if(_0x1135f5===_0xc1f41c&&/^\d+$/[_0x4e1117(0x6e1)](_0x1135f5))return!0x0;if(this[_0x4e1117(0x70d)](_0x1135f5)&&/^\d+$/[_0x4e1117(0x6e1)](_0xc1f41c)){let _0x3ca9ef=_0x1135f5[_0x4e1117(0x4bc)](',')['map'](_0x5f2fe1=>parseInt(_0x5f2fe1[_0x4e1117(0x7a3)]())),_0x42ae4a=parseInt(_0xc1f41c);return _0x3ca9ef[_0x4e1117(0x246)](_0x42ae4a);}return _0x1135f5[_0x4e1117(0x246)](_0xc1f41c);}['isListOfNumbers'](_0x2ee4c1){const _0x2111b8=a0_0x56f010;return/^\d+(,\d+)*$/[_0x2111b8(0x6e1)](_0x2ee4c1);}[a0_0x56f010(0x76d)](_0x5a6b60){const _0x28c863=a0_0x56f010;let _0x3045bb=!0x0,_0x18d010=null;for(let _0x32ded5 of _0x5a6b60){let _0x2bf272=this[_0x28c863(0x7ab)](_0x32ded5);if(_0x18d010==='or'&&_0x2bf272){_0x3045bb=!0x0;break;}if(_0x18d010==='and'&&!_0x2bf272){_0x3045bb=!0x1;break;}_0x18d010=_0x32ded5[_0x28c863(0x6b4)];}return _0x3045bb;}[a0_0x56f010(0x7ab)](_0x28e104){const _0x14f8ab=a0_0x56f010;let _0x4d190b=_0x28e104[_0x14f8ab(0x180)],_0x736dc2=_0x28e104['secondValue'];try{switch(_0x28e104[_0x14f8ab(0x6d0)]){case _0x14f8ab(0x774):return String(_0x4d190b)===String(_0x736dc2);case _0x14f8ab(0x2ec):return String(_0x4d190b)!==String(_0x736dc2);case'contains':return String(_0x4d190b)[_0x14f8ab(0x246)](String(_0x736dc2));case _0x14f8ab(0x61a):return!String(_0x4d190b)[_0x14f8ab(0x246)](String(_0x736dc2));case _0x14f8ab(0x40c):return parseFloat(String(_0x4d190b))>parseFloat(String(_0x736dc2));case _0x14f8ab(0x310):return parseFloat(String(_0x4d190b))<parseFloat(String(_0x736dc2));case _0x14f8ab(0x6b2):return String(_0x4d190b)!=='';case _0x14f8ab(0x127):return String(_0x4d190b)==='';case _0x14f8ab(0x647):return new RegExp(String(_0x736dc2))[_0x14f8ab(0x6e1)](String(_0x4d190b));case'notMatchRegex':return!new RegExp(String(_0x736dc2))[_0x14f8ab(0x6e1)](String(_0x4d190b));default:return!0x1;}}catch(_0x17929a){return console[_0x14f8ab(0x4f8)](_0x14f8ab(0x200)+_0x17929a),!0x1;}}async['saveTextReply'](_0x5021ea,_0x1923ee){const _0x3664d5=a0_0x56f010;if(this['logger'][_0x3664d5(0x6db)](this[_0x3664d5(0x5cd)]+'\x20('+this[_0x3664d5(0x302)][_0x3664d5(0x7a2)]+_0x3664d5(0x6ba)),!_0x5021ea||!_0x1923ee)return this[_0x3664d5(0x186)][_0x3664d5(0x4f8)](this[_0x3664d5(0x5cd)]+'\x20('+this[_0x3664d5(0x302)][_0x3664d5(0x7a2)]+_0x3664d5(0x703)),null;let _0x1fed88=_0x1923ee['saveVariable'],_0x5c9dee=_0x5021ea[_0x3664d5(0x6a3)][_0x3664d5(0x68e)][_0x3664d5(0x577)]||_0x5021ea[_0x3664d5(0x6a3)]['lastReceivedMessage'][_0x3664d5(0x3d6)]||_0x5021ea[_0x3664d5(0x6a3)][_0x3664d5(0x68e)][_0x3664d5(0x23e)];try{_0x5021ea[_0x3664d5(0x6a3)][_0x3664d5(0x362)]||(_0x5021ea[_0x3664d5(0x6a3)][_0x3664d5(0x362)]={});let _0x30cdb2=_0x5021ea[_0x3664d5(0x6a3)]['realVariables'][_0x1fed88];_0x5021ea['chatLog'][_0x3664d5(0x362)][_0x1fed88]=_0x5c9dee;let _0x295f68={'variable':_0x1fed88,'oldValue':_0x30cdb2,'newValue':_0x5c9dee};this[_0x3664d5(0x525)](_0x5021ea,_0x1923ee,_0x295f68),this['logger'][_0x3664d5(0x6db)](this[_0x3664d5(0x5cd)]+'\x20('+this[_0x3664d5(0x302)][_0x3664d5(0x7a2)]+_0x3664d5(0x49d));}catch(_0x16f669){let _0x5da8ac={'error':!0x0,'errorLog':_0x16f669[_0x3664d5(0x4c5)]()};return this[_0x3664d5(0x525)](_0x5021ea,_0x1923ee,_0x5da8ac),this[_0x3664d5(0x186)][_0x3664d5(0x4f8)](this['instanceName']+'\x20('+this[_0x3664d5(0x302)][_0x3664d5(0x7a2)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x16f669 instanceof Error?_0x16f669['message']:JSON[_0x3664d5(0x1b7)](_0x16f669,null,0x2))),null;}}async[a0_0x56f010(0x21b)](_0x1164ae,_0x5edde6){const _0x3c1485=a0_0x56f010;if(this[_0x3c1485(0x186)][_0x3c1485(0x6db)](this[_0x3c1485(0x5cd)]+'\x20('+this[_0x3c1485(0x302)][_0x3c1485(0x7a2)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x1164ae||!_0x5edde6)return this['logger'][_0x3c1485(0x4f8)](this[_0x3c1485(0x5cd)]+'\x20('+this[_0x3c1485(0x302)]['wuid']+_0x3c1485(0x703)),null;let _0x391713=Date[_0x3c1485(0x203)](),_0x3a3ac1=parseInt(_0x5edde6[_0x3c1485(0x42d)],0xa);if(isNaN(_0x3a3ac1))return this[_0x3c1485(0x186)][_0x3c1485(0x4f8)](this[_0x3c1485(0x5cd)]+'\x20('+this[_0x3c1485(0x302)]['wuid']+_0x3c1485(0x524)),null;let _0x393fad={'newStoppedUntil':_0x391713+_0x3a3ac1*0x3c*0x3e8};return await this['updateConversation'](_0x1164ae,_0x5edde6,_0x393fad,!0x0),null;}async[a0_0x56f010(0x3bd)](_0x16cc56,_0x434490){const _0x22ecfe=a0_0x56f010;try{switch(_0x434490['uazapi'][_0x22ecfe(0x3b2)]){case _0x22ecfe(0x30a):await this['uazapiSendText'](_0x16cc56,_0x434490);break;case _0x22ecfe(0x6cc):await this[_0x22ecfe(0x403)](_0x16cc56,_0x434490);break;case _0x22ecfe(0x6c5):await this[_0x22ecfe(0x256)](_0x16cc56,_0x434490);break;case _0x22ecfe(0x343):await this[_0x22ecfe(0x2d7)](_0x16cc56,_0x434490);break;case _0x22ecfe(0x5d9):await this['uazapiSendContact'](_0x16cc56,_0x434490);break;case _0x22ecfe(0x2f9):await this[_0x22ecfe(0x398)](_0x16cc56,_0x434490);break;case _0x22ecfe(0x415):await this[_0x22ecfe(0x398)](_0x16cc56,_0x434490);break;case _0x22ecfe(0x5e3):await this[_0x22ecfe(0x746)](_0x16cc56,_0x434490);break;default:this[_0x22ecfe(0x186)]['error'](this[_0x22ecfe(0x5cd)]+'\x20('+this[_0x22ecfe(0x302)]['wuid']+_0x22ecfe(0x57a)+_0x434490['uazapi'][_0x22ecfe(0x3b2)]);}}catch(_0x59f368){this[_0x22ecfe(0x186)][_0x22ecfe(0x4f8)](this[_0x22ecfe(0x5cd)]+'\x20('+this[_0x22ecfe(0x302)][_0x22ecfe(0x7a2)]+_0x22ecfe(0x728)+(_0x59f368 instanceof Error?_0x59f368[_0x22ecfe(0x1a5)]:JSON[_0x22ecfe(0x1b7)](_0x59f368,null,0x2)));}}async[a0_0x56f010(0x525)](_0x51e6db,_0x3c2319,_0x565f31,_0x5b19c7=!0x1,_0x54f1eb=!0x1){const _0x34e022=a0_0x56f010;_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x124)]||(_0x51e6db['chatLog'][_0x34e022(0x124)]=[]);let _0x1e42cf=(_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x124)]?.[_0x34e022(0x17a)]??0x0)+0x1,_0x3dac9c=_0x51e6db['chatLog'][_0x34e022(0x124)][_0x34e022(0x336)](_0x19aa14=>String(_0x19aa14['blockId'])===String(_0x3c2319['_id']))[_0x34e022(0x17a)]+0x1,_0x708507=_0x565f31?.[_0x34e022(0x6c4)]??Date[_0x34e022(0x203)](),_0x42cbf9=_0x565f31?.['error']?_0x565f31[_0x34e022(0x1c2)]??_0x565f31[_0x34e022(0x4f8)][_0x34e022(0x4c5)]():void 0x0,_0x5f29b3={'onTime':_0x708507,'blockId':_0x3c2319[_0x34e022(0x20e)],'order':_0x1e42cf,'activatedCount':_0x3dac9c,'error':_0x565f31?.['error']??!0x1,'messageId':_0x565f31?.['messageId'],'apiResponse':_0x565f31?.[_0x34e022(0x422)],'apiResponseString':_0x565f31?.[_0x34e022(0x422)]?JSON[_0x34e022(0x1b7)](_0x565f31?.[_0x34e022(0x422)]):void 0x0,'variable':_0x565f31?.[_0x34e022(0x487)],'oldValue':_0x565f31?.[_0x34e022(0x5e4)],'newValue':_0x565f31?.[_0x34e022(0x471)],'newStoppedUntil':_0x565f31?.['newStoppedUntil'],'moreLogs':_0x565f31?.[_0x34e022(0x4b0)],'errorLog':_0x42cbf9};if(_0x565f31[_0x34e022(0x4b0)]&&_0x565f31['moreLogs'][_0x34e022(0x17a)]>0x0){let _0x21edc3=_0x565f31['moreLogs']['map'](_0x4ead3c=>this[_0x34e022(0x745)](_0x4ead3c,_0x51e6db['chatLog'][_0x34e022(0x362)]));_0x5f29b3[_0x34e022(0x4b0)]=_0x21edc3;}_0x51e6db['chatLog'][_0x34e022(0x362)]||(_0x51e6db['chatLog'][_0x34e022(0x362)]={}),_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x362)][_0x34e022(0x73e)]=String(_0x3dac9c),_0x51e6db[_0x34e022(0x6a3)]['realVariables'][_0x34e022(0x252)]=String(_0x565f31[_0x34e022(0x4f8)]??!0x1),_0x51e6db['chatLog'][_0x34e022(0x124)][_0x34e022(0x143)](_0x5f29b3),_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x59c)]=_0x3c2319[_0x34e022(0x20e)]['toString'](),_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x268)]&&(_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x268)]=_0x51e6db['chatLog']['lastSendMessage']),_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x68e)]&&(_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x68e)]=_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x68e)]),_0x51e6db['chatLog'][_0x34e022(0x49c)]&&(_0x51e6db['chatLog'][_0x34e022(0x49c)]=_0x51e6db[_0x34e022(0x6a3)][_0x34e022(0x49c)]),_0x54f1eb&&(_0x51e6db[_0x34e022(0x1b0)]=_0x34e022(0x69a)),_0x5b19c7?this[_0x34e022(0x35c)](_0x51e6db):this[_0x34e022(0x586)](_0x51e6db,_0x3c2319);}[a0_0x56f010(0x745)](_0x3078db,_0x113d91){const _0x2536ab=a0_0x56f010;return _0x3078db[_0x2536ab(0x2b0)](/\{\{([^}]+)\}\}/g,(_0xb1aaf1,_0x447c86)=>_0x113d91[_0x447c86]?'{{'+_0x447c86+'}}\x20->\x20\x22'+_0x113d91[_0x447c86]+'\x22':'{{'+_0x447c86+_0x2536ab(0x2e5));}async['saveConversationToDatabase'](_0x1eab6d){const _0x22946b=a0_0x56f010;try{let _0xf7e985=Object['entries'](_0x1eab6d[_0x22946b(0x6a3)][_0x22946b(0x362)])['map'](([_0x2032f0,_0x448c4d])=>({'name':_0x2032f0,'value':_0x448c4d})),_0x503933={'status':_0x1eab6d[_0x22946b(0x1b0)],'blocks':_0x1eab6d[_0x22946b(0x65a)],'waitingMenu_id':_0x1eab6d['waitingMenu_id'],'waitingMenu_text':_0x1eab6d[_0x22946b(0x734)],'waitingMenu_replyOptions':_0x1eab6d[_0x22946b(0x450)],'chatLog':{'lastBlockId':_0x1eab6d[_0x22946b(0x6a3)]['lastBlockId'],'lastSendMessage':_0x1eab6d[_0x22946b(0x6a3)][_0x22946b(0x268)],'lastReceivedMessage':_0x1eab6d['chatLog'][_0x22946b(0x68e)],'lastCondition':_0x1eab6d['chatLog'][_0x22946b(0x49c)],'chatVariables':_0xf7e985,'realVariables':_0x1eab6d[_0x22946b(0x6a3)]['realVariables'],'blockLogs':_0x1eab6d[_0x22946b(0x6a3)][_0x22946b(0x124)]}},_0x3755e7=await this[_0x22946b(0x5b9)][_0x22946b(0x736)][_0x22946b(0x4c4)](_0x1eab6d[_0x22946b(0x20e)],_0x503933,this[_0x22946b(0x302)]['wuid']);if(_0x3755e7){this[_0x22946b(0x186)][_0x22946b(0x6db)](this[_0x22946b(0x5cd)]+'\x20('+this[_0x22946b(0x302)][_0x22946b(0x7a2)]+_0x22946b(0x3b6)+_0x3755e7[_0x22946b(0x20e)]);try{let _0x24c61a=['nome',_0x22946b(0x5f5),'email','cpf',_0x22946b(0x1b0),'notas',_0x22946b(0x2b7),_0x22946b(0x722),_0x22946b(0x42c)];if(!this[_0x22946b(0x32d)]&&(await this[_0x22946b(0x6ea)](),!this['AutomateSystem']))throw new Error(_0x22946b(0x581));let _0x48d71a=this['AutomateSystem']?.[_0x22946b(0x40e)][_0x22946b(0x1ef)](_0x456792=>_0x456792[_0x22946b(0x3c0)]),_0x236482={};Object[_0x22946b(0x540)](_0x1eab6d[_0x22946b(0x6a3)][_0x22946b(0x362)])[_0x22946b(0x147)](([_0xcf4ca1,_0x2dc1ca])=>{const _0x2f373b=_0x22946b;_0x24c61a[_0x2f373b(0x246)](_0xcf4ca1)&&(_0xcf4ca1==='tags'&&typeof _0x2dc1ca=='string'?_0x236482[_0xcf4ca1]=_0x2dc1ca[_0x2f373b(0x4bc)](',')[_0x2f373b(0x1ef)](_0x345afa=>_0x345afa['trim']())['filter'](_0x54a032=>_0x54a032!==''):_0xcf4ca1===_0x2f373b(0x42c)&&typeof _0x2dc1ca==_0x2f373b(0x140)?_0x236482[_0xcf4ca1]=_0x2dc1ca['split'](',')[_0x2f373b(0x1ef)](_0x13d03b=>_0x13d03b[_0x2f373b(0x7a3)]())[_0x2f373b(0x336)](_0x1e1fc8=>_0x1e1fc8!==''):_0x236482[_0xcf4ca1]=_0x2dc1ca);});let _0x155c7c=_0x1eab6d[_0x22946b(0x6a3)][_0x22946b(0x124)][_0x1eab6d[_0x22946b(0x6a3)][_0x22946b(0x124)][_0x22946b(0x17a)]-0x1];if(_0x155c7c){let _0x305def=_0x155c7c[_0x22946b(0x34f)];_0x305def!==void 0x0&&(_0x236482['desativadoFluxoAte']=_0x305def[_0x22946b(0x4c5)]());}let _0x45c895=_0xf7e985[_0x22946b(0x336)](_0x51bed9=>_0x48d71a[_0x22946b(0x246)](_0x51bed9[_0x22946b(0x3c0)]));this[_0x22946b(0x186)][_0x22946b(0x6db)](this[_0x22946b(0x5cd)]+'\x20('+this[_0x22946b(0x302)][_0x22946b(0x7a2)]+_0x22946b(0x142)),this[_0x22946b(0x186)][_0x22946b(0x6db)](_0x236482),this[_0x22946b(0x186)][_0x22946b(0x6db)](this[_0x22946b(0x5cd)]+'\x20('+this[_0x22946b(0x302)][_0x22946b(0x7a2)]+_0x22946b(0x598)),this[_0x22946b(0x186)][_0x22946b(0x6db)](_0x45c895);let _0x220ecc=_0x45c895[_0x22946b(0x1ef)](_0x37e06a=>{const _0x30a0e8=_0x22946b;let _0x5aca13=this[_0x30a0e8(0x32d)]?.[_0x30a0e8(0x40e)]['find'](_0x4af791=>_0x4af791[_0x30a0e8(0x3c0)]===_0x37e06a[_0x30a0e8(0x3c0)]);if(!_0x5aca13)throw new Error(_0x30a0e8(0x2c7)+_0x37e06a[_0x30a0e8(0x3c0)]);return{'_id':_0x5aca13[_0x30a0e8(0x20e)],'value':_0x37e06a[_0x30a0e8(0x128)]};});this[_0x22946b(0x186)][_0x22946b(0x6db)](this['instanceName']+'\x20('+this[_0x22946b(0x302)][_0x22946b(0x7a2)]+_0x22946b(0x41c)),this[_0x22946b(0x186)][_0x22946b(0x6db)](_0x220ecc),await this['saveChatVariables'](_0x1eab6d[_0x22946b(0x29f)],_0x236482,_0x220ecc);}catch(_0x542b23){this[_0x22946b(0x186)][_0x22946b(0x4f8)](this[_0x22946b(0x5cd)]+'\x20('+this[_0x22946b(0x302)]['wuid']+_0x22946b(0x1af)+(_0x542b23 instanceof Error?_0x542b23[_0x22946b(0x1a5)]:JSON[_0x22946b(0x1b7)](_0x542b23,null,0x2)));}}else this['logger']['error'](this['instanceName']+'\x20('+this[_0x22946b(0x302)]['wuid']+_0x22946b(0x5c4));}catch(_0xc3bc5a){this[_0x22946b(0x186)]['error'](this[_0x22946b(0x5cd)]+'\x20('+this[_0x22946b(0x302)][_0x22946b(0x7a2)]+_0x22946b(0x4de)+(_0xc3bc5a instanceof Error?_0xc3bc5a[_0x22946b(0x1a5)]:JSON[_0x22946b(0x1b7)](_0xc3bc5a,null,0x2)));}}async['saveChatVariables'](_0x3f2675,_0x26209d,_0x89f4fd){const _0x123963=a0_0x56f010;try{let _0x3816a4={'leadInfo.leadnome':_0x26209d['nome'],'leadInfo.nomecompleto':_0x26209d['nomecompleto'],'leadInfo.email':_0x26209d['email'],'leadInfo.cpf':_0x26209d[_0x123963(0x69f)],'leadInfo.status':_0x26209d[_0x123963(0x1b0)],'leadInfo.notas':_0x26209d[_0x123963(0x712)],'leadInfo.responsavelid':_0x26209d[_0x123963(0x2b7)],'leadInfo.tags':_0x26209d[_0x123963(0x722)],'leadInfo.etiquetas':_0x26209d[_0x123963(0x42c)],'leadInfo.customFields':_0x89f4fd},_0x12f42b=await this[_0x123963(0x5b9)][_0x123963(0x48d)][_0x123963(0x2a7)]({'where':{'_id':_0x3f2675}},this['instance'][_0x123963(0x7a2)]),_0x42d011=new Set(_0x12f42b[_0x123963(0x5ad)][_0x123963(0x42c)]||[]),_0x523ef9=new Set(_0x26209d['etiquetas']||[]),_0xa92519=await this[_0x123963(0x5b9)]['label'][_0x123963(0x766)]({'where':{}},this[_0x123963(0x302)][_0x123963(0x7a2)]),_0x56ebab=new Set(_0xa92519[_0x123963(0x1ef)](_0x3ab4ab=>_0x3ab4ab[_0x123963(0x20e)])),_0x3cabe3=[..._0x523ef9][_0x123963(0x336)](_0x5d3139=>!_0x42d011[_0x123963(0x428)](_0x5d3139)&&_0x56ebab[_0x123963(0x428)](_0x5d3139)),_0x5a7840=[..._0x42d011]['filter'](_0x30f20e=>!_0x523ef9[_0x123963(0x428)](_0x30f20e));for(let _0x32d332 of _0x3cabe3)await this[_0x123963(0x49f)](_0x32d332,_0x12f42b[_0x123963(0x20e)]),_0x42d011['add'](_0x32d332);for(let _0x557352 of _0x5a7840)await this[_0x123963(0x2fb)](_0x557352,_0x12f42b[_0x123963(0x20e)]),_0x42d011[_0x123963(0x2d3)](_0x557352);if(_0x123963(0x4a4)in _0x26209d){let _0xff3ce8=_0x26209d[_0x123963(0x4a4)];_0x3816a4[_0x123963(0x215)]=_0xff3ce8?Number(_0xff3ce8):null;}let _0x2698ea=await this[_0x123963(0x5b9)][_0x123963(0x48d)]['updateOne']({'where':{'_id':_0x3f2675}},_0x3816a4,this[_0x123963(0x302)][_0x123963(0x7a2)]);_0x2698ea?(this[_0x123963(0x186)][_0x123963(0x6db)](this[_0x123963(0x5cd)]+'\x20('+this[_0x123963(0x302)][_0x123963(0x7a2)]+_0x123963(0x5a8)+_0x2698ea[_0x123963(0x20e)]),J(this['instanceName'],_0x123963(0x130),{'chat':_0x2698ea})):this[_0x123963(0x186)][_0x123963(0x4f8)](this[_0x123963(0x5cd)]+'\x20('+this[_0x123963(0x302)][_0x123963(0x7a2)]+_0x123963(0x625));}catch(_0x5985a5){this[_0x123963(0x186)][_0x123963(0x4f8)](this[_0x123963(0x5cd)]+'\x20('+this['instance']['wuid']+_0x123963(0x67a)+(_0x5985a5 instanceof Error?_0x5985a5['message']:JSON['stringify'](_0x5985a5,null,0x2)));}}async[a0_0x56f010(0x76f)](_0x19da4e,_0x2a5b98){const _0x876744=a0_0x56f010;this[_0x876744(0x186)][_0x876744(0x6db)](this[_0x876744(0x5cd)]+'\x20('+this[_0x876744(0x302)][_0x876744(0x7a2)]+'):\x20atualização\x20chat:\x20'+_0x2a5b98);try{let _0xbc4f07=await this['repository'][_0x876744(0x48d)]['updateOne']({'where':{'_id':_0x19da4e['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x2a5b98},this[_0x876744(0x302)]['wuid']);this[_0x876744(0x186)][_0x876744(0x6db)](this['instanceName']+'\x20('+this[_0x876744(0x302)][_0x876744(0x7a2)]+_0x876744(0x791)+_0x19da4e[_0x876744(0x20e)]),this[_0x876744(0x186)][_0x876744(0x6db)](this[_0x876744(0x5cd)]+'\x20('+this['instance'][_0x876744(0x7a2)]+'):\x20atualização\x20chat:\x20'+JSON[_0x876744(0x1b7)](_0xbc4f07,null,0x2)),_0xbc4f07&&J(this[_0x876744(0x5cd)],'chats',{'chat':_0xbc4f07});}catch(_0x3f9592){this[_0x876744(0x186)]['error'](this[_0x876744(0x5cd)]+'\x20('+this[_0x876744(0x302)]['wuid']+_0x876744(0x5ea)+(_0x3f9592 instanceof Error?_0x3f9592[_0x876744(0x1a5)]:JSON['stringify'](_0x3f9592,null,0x2)));}}async[a0_0x56f010(0x297)](_0x4dade1){const _0x112675=a0_0x56f010;try{this[_0x112675(0x186)]['verbose'](this[_0x112675(0x5cd)]+'\x20('+this['instance'][_0x112675(0x7a2)]+_0x112675(0x1f4));let _0x583758=_0x4dade1['replace'](/\D/g,''),_0x4d3920=await this[_0x112675(0x5b9)][_0x112675(0x15b)][_0x112675(0x2a7)]({'where':{'testingWith':_0x583758}},this[_0x112675(0x302)][_0x112675(0x7a2)]);return _0x4d3920||(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x112675(0x702)),_0x4d3920=await this[_0x112675(0x5b9)][_0x112675(0x15b)]['findOne']({'where':{'default':!0x0}},this[_0x112675(0x302)][_0x112675(0x7a2)])),_0x4d3920||(this['logger'][_0x112675(0x6db)](this[_0x112675(0x5cd)]+'\x20('+this[_0x112675(0x302)]['wuid']+_0x112675(0x699)),null);}catch(_0x3b0891){return this[_0x112675(0x186)][_0x112675(0x4f8)](this[_0x112675(0x5cd)]+'\x20('+this[_0x112675(0x302)][_0x112675(0x7a2)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x3b0891 instanceof Error?_0x3b0891[_0x112675(0x1a5)]:JSON[_0x112675(0x1b7)](_0x3b0891,null,0x2))),null;}}async[a0_0x56f010(0x389)](_0x162fe7,_0x42fdff){const _0x3ff83a=a0_0x56f010;try{let _0x351d50=!!_0x42fdff[_0x3ff83a(0x23e)],_0x11386a=_0x42fdff[_0x3ff83a(0x315)],_0x30bc65=null;if(this[_0x3ff83a(0x186)][_0x3ff83a(0x6db)](this['instanceName']+'\x20('+this['instance'][_0x3ff83a(0x7a2)]+_0x3ff83a(0x527)+_0x351d50+_0x3ff83a(0x73f)+_0x11386a),_0x351d50){this[_0x3ff83a(0x186)]['verbose'](this[_0x3ff83a(0x5cd)]+'\x20('+this['instance'][_0x3ff83a(0x7a2)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x3da636={'where':{'remoteJid':_0x162fe7,'waitingMenu_id':_0x11386a}};if(_0x30bc65=await this[_0x3ff83a(0x5b9)]['flowConversation'][_0x3ff83a(0x2a7)](_0x3da636,this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]),!_0x30bc65)return this[_0x3ff83a(0x186)][_0x3ff83a(0x6db)](this[_0x3ff83a(0x5cd)]+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x592)),null;let _0x247144=Date[_0x3ff83a(0x203)](),_0x59d624=_0x30bc65?.[_0x3ff83a(0x5fa)]||0x0,_0x5a612c=_0x247144-_0x59d624*0x3c*0x3e8;if(_0x30bc65[_0x3ff83a(0x1c9)]<_0x5a612c){this[_0x3ff83a(0x186)][_0x3ff83a(0x6db)](this[_0x3ff83a(0x5cd)]+'\x20('+this[_0x3ff83a(0x302)]['wuid']+_0x3ff83a(0x449));let _0x14b4b9={'number':_0x30bc65[_0x3ff83a(0x29f)],'options':{'delay':0x0},'textMessage':{'text':_0x30bc65[_0x3ff83a(0x3a9)]}};await this['textMessage'](_0x14b4b9);let _0x29de7e={'status':_0x3ff83a(0x69a),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3ff83a(0x5b9)]['flowConversation'][_0x3ff83a(0x4c4)](_0x30bc65['_id'],_0x29de7e,this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]),null;}return _0x30bc65[_0x3ff83a(0x1c9)]=Date['now'](),_0x30bc65[_0x3ff83a(0x6a3)]['lastReceivedMessage']=_0x42fdff,_0x30bc65;}else{this['logger'][_0x3ff83a(0x6db)](this[_0x3ff83a(0x5cd)]+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x609)+this['instance'][_0x3ff83a(0x7a2)]+_0x3ff83a(0x600)),this[_0x3ff83a(0x186)]['verbose'](this['instanceName']+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x24a));let _0x1188fc={'where':{'remoteJid':_0x162fe7,'status':_0x3ff83a(0x55a)}};if(_0x30bc65=await this[_0x3ff83a(0x5b9)][_0x3ff83a(0x736)][_0x3ff83a(0x2a7)](_0x1188fc,this['instance']['wuid']),!_0x30bc65){let _0x5b1b64=await this[_0x3ff83a(0x297)](_0x162fe7);if(_0x5b1b64&&(_0x30bc65=await this[_0x3ff83a(0x3ea)](_0x5b1b64,_0x42fdff[_0x3ff83a(0x528)],_0x42fdff)),!_0x30bc65)return null;}let _0x21bb77=Date[_0x3ff83a(0x203)](),_0x473b93=_0x30bc65?.['minutesToClose']||0x0,_0x16fdfa=_0x21bb77-_0x473b93*0x3c*0x3e8;if(this['logger'][_0x3ff83a(0x6db)](this[_0x3ff83a(0x5cd)]+'\x20('+this[_0x3ff83a(0x302)]['wuid']+_0x3ff83a(0x3b0)+_0x21bb77+_0x3ff83a(0x38f)+_0x473b93+_0x3ff83a(0x2db)+_0x16fdfa),this[_0x3ff83a(0x186)][_0x3ff83a(0x6db)](this[_0x3ff83a(0x5cd)]+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x404)),this[_0x3ff83a(0x186)][_0x3ff83a(0x6db)](this[_0x3ff83a(0x5cd)]+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x63a)+_0x30bc65[_0x3ff83a(0x1c9)]),this[_0x3ff83a(0x186)][_0x3ff83a(0x6db)](this['instanceName']+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x707)+_0x16fdfa),_0x30bc65['lastInteraction']<_0x16fdfa){this[_0x3ff83a(0x186)]['verbose'](this['instanceName']+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x1b5));let _0xc79c4a=await this[_0x3ff83a(0x297)](_0x162fe7);if(_0xc79c4a===null)return null;_0x30bc65&&await this[_0x3ff83a(0x5b9)][_0x3ff83a(0x736)][_0x3ff83a(0x4c4)](_0x30bc65['_id'],{'status':_0x3ff83a(0x69a)},this['instance']['wuid']),_0x30bc65=await this[_0x3ff83a(0x3ea)](_0xc79c4a,_0x42fdff['key'],_0x42fdff);}return _0x30bc65[_0x3ff83a(0x1c9)]=_0x21bb77,_0x30bc65[_0x3ff83a(0x6a3)][_0x3ff83a(0x68e)]=_0x42fdff,_0x30bc65;}}catch(_0x5ce369){return this['logger'][_0x3ff83a(0x4f8)](this[_0x3ff83a(0x5cd)]+'\x20('+this[_0x3ff83a(0x302)][_0x3ff83a(0x7a2)]+_0x3ff83a(0x4b8)+(_0x5ce369 instanceof Error?_0x5ce369[_0x3ff83a(0x1a5)]:JSON[_0x3ff83a(0x1b7)](_0x5ce369,null,0x2))),null;}}async[a0_0x56f010(0x3ea)](_0x548f13,_0x39b0a4,_0x2a872b){const _0x2acb1e=a0_0x56f010;this[_0x2acb1e(0x186)]['verbose'](this[_0x2acb1e(0x5cd)]+'\x20('+this[_0x2acb1e(0x302)][_0x2acb1e(0x7a2)]+_0x2acb1e(0x5f6));try{let _0x342aca=require(_0x2acb1e(0x477))[_0x2acb1e(0x4ad)],_0x2115aa=Date[_0x2acb1e(0x203)](),_0x53fce=_0x2acb1e(0x30f),_0x117d55=_0x39b0a4[_0x2acb1e(0x329)]?null:_0x2a872b,_0x952e13=_0x39b0a4['fromMe']?_0x2a872b:null,_0x123580=_0x39b0a4[_0x2acb1e(0x29f)];await this['closeExistingConversations'](_0x123580);let _0x433ec8={..._0x548f13,'chatLog':null},_0x28cc76=await this[_0x2acb1e(0x589)](_0x433ec8[_0x2acb1e(0x5f2)]),_0x5d5539=await this[_0x2acb1e(0x6f8)](_0x123580),_0x4f5fc2={..._0x28cc76,..._0x5d5539,'_remoteJid':_0x123580},_0x374fa8={'lastReceivedMessage':_0x117d55,'lastSendMessage':_0x952e13,'lastBlockId':_0x53fce,'lastCondition':!0x0,'realVariables':_0x4f5fc2};_0x433ec8[_0x2acb1e(0x6a3)]=_0x374fa8,delete _0x433ec8[_0x2acb1e(0x20e)],_0x433ec8[_0x2acb1e(0x20e)]=new _0x342aca(),_0x433ec8[_0x2acb1e(0x1c9)]=_0x2115aa,_0x433ec8[_0x2acb1e(0x1b0)]='open',_0x433ec8['remoteJid']=_0x123580;let _0x4ba073=await this[_0x2acb1e(0x5b9)][_0x2acb1e(0x736)]['updateOne'](_0x433ec8[_0x2acb1e(0x20e)],_0x433ec8,this[_0x2acb1e(0x302)][_0x2acb1e(0x7a2)]);return this[_0x2acb1e(0x186)]['verbose'](this[_0x2acb1e(0x5cd)]+'\x20('+this[_0x2acb1e(0x302)][_0x2acb1e(0x7a2)]+_0x2acb1e(0x7ad)),_0x4ba073?_0x433ec8:null;}catch(_0x53a741){return this[_0x2acb1e(0x186)][_0x2acb1e(0x4f8)](this[_0x2acb1e(0x5cd)]+'\x20('+this[_0x2acb1e(0x302)][_0x2acb1e(0x7a2)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x53a741 instanceof Error?_0x53a741[_0x2acb1e(0x1a5)]:JSON[_0x2acb1e(0x1b7)](_0x53a741,null,0x2))),_0x53a741;}}async[a0_0x56f010(0x2cb)](_0x15d3b4,_0x223a06){const _0x15ec96=a0_0x56f010;let _0x1123d5=_0x15d3b4[_0x15ec96(0x29f)];_0x223a06[_0x15ec96(0x3aa)][_0x15ec96(0x29f)]&&_0x223a06['uazapi']['remoteJid'][_0x15ec96(0x7a3)]()!==''&&(_0x1123d5=_0x223a06[_0x15ec96(0x3aa)][_0x15ec96(0x29f)][_0x15ec96(0x7a3)]()),this[_0x15ec96(0x186)][_0x15ec96(0x6db)](this['instanceName']+'\x20('+this[_0x15ec96(0x302)]['wuid']+_0x15ec96(0x163));let _0x142ceb={'number':_0x1123d5,'options':{'delay':_0x223a06['uazapi'][_0x15ec96(0x552)]},'textMessage':{'text':_0x223a06[_0x15ec96(0x3aa)][_0x15ec96(0x577)]}};try{let _0x4611f7=await this['textMessage'](_0x142ceb);if(_0x4611f7){let _0x1bbce3={'_id':_0x4611f7[_0x15ec96(0x528)]['id'],'_fromMe':_0x4611f7['key'][_0x15ec96(0x329)],'_remoteJid':_0x4611f7['key'][_0x15ec96(0x29f)]};_0x15d3b4[_0x15ec96(0x6a3)]['lastBlockId']=_0x223a06[_0x15ec96(0x20e)][_0x15ec96(0x4c5)]();let {message_normalized:_0x2c304d}=this[_0x15ec96(0x55b)](_0x4611f7[_0x15ec96(0x1a5)],P(_0x4611f7[_0x15ec96(0x1a5)]),null);_0x15d3b4[_0x15ec96(0x6a3)][_0x15ec96(0x268)]=await _0x2c304d;let _0x44cf22={'messageId':_0x4611f7[_0x15ec96(0x528)]['id']},_0x51b2ed=_0x15d3b4['chatLog'][_0x15ec96(0x362)];Object[_0x15ec96(0x58f)](_0x51b2ed,_0x1bbce3),_0x15d3b4[_0x15ec96(0x6a3)][_0x15ec96(0x362)]=_0x51b2ed,this[_0x15ec96(0x525)](_0x15d3b4,_0x223a06,_0x44cf22);}else{let _0x3b6377={'error':!0x0};this[_0x15ec96(0x525)](_0x15d3b4,_0x223a06,_0x3b6377),this[_0x15ec96(0x186)][_0x15ec96(0x4f8)](this['instanceName']+'\x20('+this[_0x15ec96(0x302)][_0x15ec96(0x7a2)]+_0x15ec96(0x218));}}catch(_0x3991b9){let _0x38bebb={'error':!0x0,'errorLog':_0x3991b9[_0x15ec96(0x4c5)]()};this[_0x15ec96(0x525)](_0x15d3b4,_0x223a06,_0x38bebb),this[_0x15ec96(0x186)]['error'](this['instanceName']+'\x20('+this[_0x15ec96(0x302)][_0x15ec96(0x7a2)]+_0x15ec96(0x77c)+(_0x3991b9 instanceof Error?_0x3991b9[_0x15ec96(0x1a5)]:JSON[_0x15ec96(0x1b7)](_0x3991b9,null,0x2)));}}async[a0_0x56f010(0x403)](_0x52cceb,_0x2e3ef1){const _0x26cb56=a0_0x56f010;let _0x4b096b=_0x52cceb[_0x26cb56(0x29f)];_0x2e3ef1[_0x26cb56(0x3aa)][_0x26cb56(0x29f)]&&_0x2e3ef1[_0x26cb56(0x3aa)][_0x26cb56(0x29f)]['trim']()!==''&&(_0x4b096b=_0x2e3ef1[_0x26cb56(0x3aa)][_0x26cb56(0x29f)][_0x26cb56(0x7a3)]()),this['logger'][_0x26cb56(0x6db)](this[_0x26cb56(0x5cd)]+'\x20('+this[_0x26cb56(0x302)]['wuid']+_0x26cb56(0x318));let _0x41f2e2={'number':_0x4b096b,'options':{'delay':_0x2e3ef1['uazapi'][_0x26cb56(0x552)]},'mediaMessage':{'mediatype':_0x2e3ef1[_0x26cb56(0x3aa)][_0x26cb56(0x79a)],'caption':_0x2e3ef1[_0x26cb56(0x3aa)][_0x26cb56(0x3d6)],'media':_0x2e3ef1[_0x26cb56(0x3aa)][_0x26cb56(0x629)],'fileName':_0x2e3ef1[_0x26cb56(0x3aa)][_0x26cb56(0x6e8)]}};try{let _0x2a0978=await this[_0x26cb56(0x5d6)](_0x41f2e2);if(_0x2a0978){let _0x423e6c={'_id':_0x2a0978[_0x26cb56(0x528)]['id'],'_fromMe':_0x2a0978[_0x26cb56(0x528)]['fromMe'],'_remoteJid':_0x2a0978[_0x26cb56(0x528)][_0x26cb56(0x29f)]};_0x52cceb['chatLog'][_0x26cb56(0x59c)]=_0x2e3ef1[_0x26cb56(0x20e)][_0x26cb56(0x4c5)]();let {message_normalized:_0x1dd5d1}=this[_0x26cb56(0x55b)](_0x2a0978[_0x26cb56(0x1a5)],P(_0x2a0978['message']),null);_0x52cceb['chatLog']['lastSendMessage']=await _0x1dd5d1;let _0x4961d1={'messageId':_0x2a0978[_0x26cb56(0x528)]['id']},_0x1313fd=_0x52cceb[_0x26cb56(0x6a3)][_0x26cb56(0x362)];Object['assign'](_0x1313fd,_0x423e6c),_0x52cceb[_0x26cb56(0x6a3)][_0x26cb56(0x362)]=_0x1313fd,this[_0x26cb56(0x525)](_0x52cceb,_0x2e3ef1,_0x4961d1);}else{let _0x496fe5={'error':!0x0};this['updateConversation'](_0x52cceb,_0x2e3ef1,_0x496fe5),this[_0x26cb56(0x186)][_0x26cb56(0x4f8)](this[_0x26cb56(0x5cd)]+'\x20('+this['instance']['wuid']+_0x26cb56(0x79f));}}catch(_0x53d9c3){let _0x196692={'error':!0x0,'errorLog':_0x53d9c3['toString']()};this[_0x26cb56(0x525)](_0x52cceb,_0x2e3ef1,_0x196692),this['logger']['error'](this['instanceName']+'\x20('+this[_0x26cb56(0x302)][_0x26cb56(0x7a2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x53d9c3 instanceof Error?_0x53d9c3[_0x26cb56(0x1a5)]:JSON[_0x26cb56(0x1b7)](_0x53d9c3,null,0x2)));}}async[a0_0x56f010(0x256)](_0x115fe9,_0x35ada3){const _0x473512=a0_0x56f010;let _0x17f5d1=_0x115fe9[_0x473512(0x29f)];_0x35ada3[_0x473512(0x3aa)][_0x473512(0x29f)]&&_0x35ada3[_0x473512(0x3aa)]['remoteJid'][_0x473512(0x7a3)]()!==''&&(_0x17f5d1=_0x35ada3[_0x473512(0x3aa)][_0x473512(0x29f)][_0x473512(0x7a3)]()),this['logger'][_0x473512(0x6db)](this[_0x473512(0x5cd)]+'\x20('+this[_0x473512(0x302)][_0x473512(0x7a2)]+_0x473512(0x334));let _0x553d6a={'number':_0x17f5d1,'options':{'delay':_0x35ada3['uazapi'][_0x473512(0x552)]},'locationMessage':{'name':_0x35ada3[_0x473512(0x3aa)][_0x473512(0x3c0)],'address':_0x35ada3['uazapi'][_0x473512(0x698)],'latitude':_0x35ada3[_0x473512(0x3aa)][_0x473512(0x4c6)],'longitude':_0x35ada3[_0x473512(0x3aa)][_0x473512(0x564)]}};try{let _0x139100=await this[_0x473512(0x49e)](_0x553d6a);if(_0x139100){let _0x1c3ee8={'_id':_0x139100[_0x473512(0x528)]['id'],'_fromMe':_0x139100[_0x473512(0x528)][_0x473512(0x329)],'_remoteJid':_0x139100[_0x473512(0x528)][_0x473512(0x29f)]};_0x115fe9[_0x473512(0x6a3)][_0x473512(0x59c)]=_0x35ada3[_0x473512(0x20e)][_0x473512(0x4c5)]();let {message_normalized:_0x3e99ac}=this[_0x473512(0x55b)](_0x139100[_0x473512(0x1a5)],P(_0x139100[_0x473512(0x1a5)]),null);_0x115fe9[_0x473512(0x6a3)][_0x473512(0x268)]=await _0x3e99ac;let _0x501096={'messageId':_0x139100[_0x473512(0x528)]['id']},_0x39f698=_0x115fe9['chatLog']['realVariables'];Object[_0x473512(0x58f)](_0x39f698,_0x1c3ee8),_0x115fe9[_0x473512(0x6a3)][_0x473512(0x362)]=_0x39f698,this[_0x473512(0x525)](_0x115fe9,_0x35ada3,_0x501096);}else{let _0x2edb1c={'error':!0x0};this['updateConversation'](_0x115fe9,_0x35ada3,_0x2edb1c),this['logger'][_0x473512(0x4f8)](this['instanceName']+'\x20('+this[_0x473512(0x302)][_0x473512(0x7a2)]+_0x473512(0x6eb));}}catch(_0x57825a){let _0x171822={'error':!0x0,'errorLog':_0x57825a[_0x473512(0x4c5)]()};this[_0x473512(0x525)](_0x115fe9,_0x35ada3,_0x171822),this[_0x473512(0x186)]['error'](this[_0x473512(0x5cd)]+'\x20('+this[_0x473512(0x302)][_0x473512(0x7a2)]+_0x473512(0x681)+(_0x57825a instanceof Error?_0x57825a['message']:JSON[_0x473512(0x1b7)](_0x57825a,null,0x2)));}}async[a0_0x56f010(0x2d7)](_0x4f0524,_0x5cb929){const _0x18b417=a0_0x56f010;let _0x5b1a70=_0x4f0524[_0x18b417(0x29f)];_0x5cb929['uazapi'][_0x18b417(0x29f)]&&_0x5cb929[_0x18b417(0x3aa)][_0x18b417(0x29f)][_0x18b417(0x7a3)]()!==''&&(_0x5b1a70=_0x5cb929[_0x18b417(0x3aa)][_0x18b417(0x29f)]['trim']()),this[_0x18b417(0x186)][_0x18b417(0x6db)](this[_0x18b417(0x5cd)]+'\x20('+this[_0x18b417(0x302)][_0x18b417(0x7a2)]+_0x18b417(0x181));let _0x7261fc={'number':_0x5b1a70,'options':{'delay':_0x5cb929[_0x18b417(0x3aa)][_0x18b417(0x552)]},'audioMessage':{'audio':_0x5cb929[_0x18b417(0x3aa)][_0x18b417(0x453)]}};try{let _0x4c8854=await this['audioWhatsapp'](_0x7261fc);if(_0x4c8854){let _0x5058f4={'_id':_0x4c8854[_0x18b417(0x528)]['id'],'_fromMe':_0x4c8854['key']['fromMe'],'_remoteJid':_0x4c8854['key']['remoteJid']};_0x4f0524[_0x18b417(0x6a3)]['lastBlockId']=_0x5cb929[_0x18b417(0x20e)]['toString']();let {message_normalized:_0x21803a}=this[_0x18b417(0x55b)](_0x4c8854['message'],P(_0x4c8854[_0x18b417(0x1a5)]),null);_0x4f0524['chatLog']['lastSendMessage']=await _0x21803a;let _0x456d04={'messageId':_0x4c8854[_0x18b417(0x528)]['id']},_0x1439b0=_0x4f0524[_0x18b417(0x6a3)][_0x18b417(0x362)];Object[_0x18b417(0x58f)](_0x1439b0,_0x5058f4),_0x4f0524[_0x18b417(0x6a3)][_0x18b417(0x362)]=_0x1439b0,this['updateConversation'](_0x4f0524,_0x5cb929,_0x456d04);}else{let _0x218154={'error':!0x0};this[_0x18b417(0x525)](_0x4f0524,_0x5cb929,_0x218154),this[_0x18b417(0x186)][_0x18b417(0x4f8)](this[_0x18b417(0x5cd)]+'\x20('+this[_0x18b417(0x302)][_0x18b417(0x7a2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x5b276e){let _0x5341a8={'error':!0x0,'errorLog':_0x5b276e[_0x18b417(0x4c5)]()};this[_0x18b417(0x525)](_0x4f0524,_0x5cb929,_0x5341a8),this[_0x18b417(0x186)][_0x18b417(0x4f8)](this[_0x18b417(0x5cd)]+'\x20('+this[_0x18b417(0x302)]['wuid']+_0x18b417(0x5a6)+(_0x5b276e instanceof Error?_0x5b276e[_0x18b417(0x1a5)]:JSON[_0x18b417(0x1b7)](_0x5b276e,null,0x2)));}}async[a0_0x56f010(0x2ea)](_0x2f5691,_0x1d5409){const _0x53af60=a0_0x56f010;let _0x7b53fc=_0x2f5691[_0x53af60(0x29f)];_0x1d5409['uazapi'][_0x53af60(0x29f)]&&_0x1d5409['uazapi'][_0x53af60(0x29f)][_0x53af60(0x7a3)]()!==''&&(_0x7b53fc=_0x1d5409['uazapi'][_0x53af60(0x29f)][_0x53af60(0x7a3)]()),this[_0x53af60(0x186)][_0x53af60(0x6db)](this[_0x53af60(0x5cd)]+'\x20('+this['instance'][_0x53af60(0x7a2)]+_0x53af60(0x6cb));let _0x30c250={'number':_0x7b53fc,'options':{'delay':_0x1d5409['uazapi'][_0x53af60(0x552)]},'contactMessage':[{'fullName':_0x1d5409['uazapi']['fullName'],'phoneNumber':_0x1d5409[_0x53af60(0x3aa)][_0x53af60(0x6ed)]}]};try{let _0x1214a9=await this[_0x53af60(0x1ad)](_0x30c250);if(_0x1214a9){let _0x23e1d5={'_id':_0x1214a9[_0x53af60(0x528)]['id'],'_fromMe':_0x1214a9[_0x53af60(0x528)]['fromMe'],'_remoteJid':_0x1214a9[_0x53af60(0x528)][_0x53af60(0x29f)]};_0x2f5691[_0x53af60(0x6a3)][_0x53af60(0x59c)]=_0x1d5409[_0x53af60(0x20e)][_0x53af60(0x4c5)]();let {message_normalized:_0x35f8e3}=this['normalizeMessage'](_0x1214a9[_0x53af60(0x1a5)],P(_0x1214a9[_0x53af60(0x1a5)]),null);_0x2f5691['chatLog']['lastSendMessage']=await _0x35f8e3;let _0x286a91={'messageId':_0x1214a9[_0x53af60(0x528)]['id']},_0x3538eb=_0x2f5691[_0x53af60(0x6a3)][_0x53af60(0x362)];Object[_0x53af60(0x58f)](_0x3538eb,_0x23e1d5),_0x2f5691[_0x53af60(0x6a3)]['realVariables']=_0x3538eb,this[_0x53af60(0x525)](_0x2f5691,_0x1d5409,_0x286a91);}else{let _0x37c091={'error':!0x0};this[_0x53af60(0x525)](_0x2f5691,_0x1d5409,_0x37c091),this[_0x53af60(0x186)][_0x53af60(0x4f8)](this[_0x53af60(0x5cd)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x4e6a49){let _0x32d3c0={'error':!0x0,'errorLog':_0x4e6a49[_0x53af60(0x4c5)]()};this['updateConversation'](_0x2f5691,_0x1d5409,_0x32d3c0),this[_0x53af60(0x186)][_0x53af60(0x4f8)](this['instanceName']+'\x20('+this['instance'][_0x53af60(0x7a2)]+_0x53af60(0x469)+(_0x4e6a49 instanceof Error?_0x4e6a49[_0x53af60(0x1a5)]:JSON[_0x53af60(0x1b7)](_0x4e6a49,null,0x2)));}}[a0_0x56f010(0x371)](_0x5b8a44,_0x1eccf6){const _0x240000=a0_0x56f010;for(let _0x451bba of _0x5b8a44)_0x451bba[_0x240000(0x2ce)]&&(_0x451bba['option']=this[_0x240000(0x602)](_0x451bba[_0x240000(0x2ce)],_0x1eccf6)),_0x451bba[_0x240000(0x760)]&&(_0x451bba['optionDescription']=this['replaceVariables'](_0x451bba['optionDescription'],_0x1eccf6));}async[a0_0x56f010(0x398)](_0x36da7c,_0xbccea4){const _0xfb7a79=a0_0x56f010;let _0x2d9210=_0x36da7c[_0xfb7a79(0x29f)];_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x29f)]&&_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x29f)][_0xfb7a79(0x7a3)]()!==''&&(_0x2d9210=_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x29f)]['trim']()),this[_0xfb7a79(0x186)][_0xfb7a79(0x6db)](this['instanceName']+'\x20('+this[_0xfb7a79(0x302)]['wuid']+_0xfb7a79(0x238));let _0x4057b0=_0x36da7c['replyOptions'][_0xfb7a79(0x336)](_0x1870f6=>_0x1870f6[_0xfb7a79(0x56a)]===_0xbccea4[_0xfb7a79(0x20e)])[_0xfb7a79(0x537)]((_0x32ee00,_0x4c947d)=>_0x32ee00['order']-_0x4c947d[_0xfb7a79(0x687)]);this[_0xfb7a79(0x371)](_0x4057b0,_0x36da7c[_0xfb7a79(0x6a3)][_0xfb7a79(0x362)]);let _0xb57047=_0x4057b0[_0xfb7a79(0x1ef)](_0x3aefe7=>_0x3aefe7[_0xfb7a79(0x2ce)]),_0x35b741={'number':_0x2d9210,'menuMessage':{'type':_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x5f4)]||_0xfb7a79(0x51e),'text':_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x577)]||_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x3c0)],'footerText':_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x558)],'buttonText':_0xbccea4['uazapi']['buttonText'],'selectableCount':0x1,'choices':_0xb57047},'options':{'delay':_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x552)]}};try{let _0x113cba=await this[_0xfb7a79(0x57e)](_0x35b741);if(_0x113cba){let _0x35df72={'_id':_0x113cba[_0xfb7a79(0x528)]['id'],'_fromMe':_0x113cba['key'][_0xfb7a79(0x329)],'_remoteJid':_0x113cba[_0xfb7a79(0x528)][_0xfb7a79(0x29f)]};_0xbccea4['uazapi'][_0xfb7a79(0x247)]===!0x0&&(_0x36da7c[_0xfb7a79(0x1b0)]='waitingForReplyMenu',this[_0xfb7a79(0x186)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xfb7a79(0x7a2)]+_0xfb7a79(0x13c)+_0x36da7c[_0xfb7a79(0x1b0)])),this['logger'][_0xfb7a79(0x6db)](this[_0xfb7a79(0x5cd)]+'\x20('+this['instance'][_0xfb7a79(0x7a2)]+_0xfb7a79(0x2c4)+(_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x3c0)]||_0xbccea4['uazapi']['text'])),_0x36da7c['waitingMenu_id']=_0x113cba[_0xfb7a79(0x528)]['id'],_0x36da7c['waitingMenu_text']=_0xbccea4[_0xfb7a79(0x3aa)]['name']||_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x577)],_0x36da7c['waitingMenu_replyOptions']=_0x4057b0,_0xbccea4['uazapi'][_0xfb7a79(0x69d)]&&(_0x36da7c[_0xfb7a79(0x3a9)]=_0xbccea4[_0xfb7a79(0x3aa)][_0xfb7a79(0x69d)]),this['logger'][_0xfb7a79(0x6db)](this[_0xfb7a79(0x5cd)]+'\x20('+this['instance'][_0xfb7a79(0x7a2)]+_0xfb7a79(0x74b)+_0x36da7c['waitingMenu_text']),_0x36da7c['chatLog'][_0xfb7a79(0x59c)]=_0xbccea4['_id']['toString']();let {message_normalized:_0x117320}=this['normalizeMessage'](_0x113cba[_0xfb7a79(0x1a5)],P(_0x113cba[_0xfb7a79(0x1a5)]),null);_0x36da7c[_0xfb7a79(0x6a3)][_0xfb7a79(0x268)]=await _0x117320;let _0x3b02a2={'messageId':_0x113cba[_0xfb7a79(0x528)]['id']},_0x3adad0=_0x36da7c[_0xfb7a79(0x6a3)][_0xfb7a79(0x362)];Object[_0xfb7a79(0x58f)](_0x3adad0,_0x35df72),_0x36da7c[_0xfb7a79(0x6a3)][_0xfb7a79(0x362)]=_0x3adad0,this[_0xfb7a79(0x525)](_0x36da7c,_0xbccea4,_0x3b02a2);}else{let _0x38f822={'error':!0x0};this[_0xfb7a79(0x525)](_0x36da7c,_0xbccea4,_0x38f822),this[_0xfb7a79(0x186)][_0xfb7a79(0x4f8)](this[_0xfb7a79(0x5cd)]+'\x20('+this[_0xfb7a79(0x302)][_0xfb7a79(0x7a2)]+_0xfb7a79(0x2cf));}}catch(_0x1b080a){let _0x15034d={'error':!0x0,'errorLog':_0x1b080a instanceof Error?_0x1b080a[_0xfb7a79(0x1a5)]:JSON['stringify'](_0x1b080a,null,0x2)};this[_0xfb7a79(0x525)](_0x36da7c,_0xbccea4,_0x15034d),this['logger'][_0xfb7a79(0x4f8)](this[_0xfb7a79(0x5cd)]+'\x20('+this[_0xfb7a79(0x302)][_0xfb7a79(0x7a2)]+_0xfb7a79(0x15c)+(_0x1b080a instanceof Error?_0x1b080a[_0xfb7a79(0x1a5)]:JSON[_0xfb7a79(0x1b7)](_0x1b080a,null,0x2)));}}async[a0_0x56f010(0x746)](_0x58fe9d,_0x1c5c6b){const _0x18d82d=a0_0x56f010;this['logger'][_0x18d82d(0x6db)](this[_0x18d82d(0x5cd)]+'\x20('+this[_0x18d82d(0x302)][_0x18d82d(0x7a2)]+_0x18d82d(0x627));let _0x6a2810=_0x58fe9d[_0x18d82d(0x6a3)]['blockLogs']['find'](_0x1a4f30=>_0x1a4f30[_0x18d82d(0x56a)]['toString']()===_0x1c5c6b['uazapi'][_0x18d82d(0x56a)]['toString']()),_0x4cc042={'id':_0x6a2810[_0x18d82d(0x5e9)],'remoteJid':_0x6a2810[_0x18d82d(0x29f)],'fromMe':_0x6a2810[_0x18d82d(0x329)]};try{let _0x4b312c=await this[_0x18d82d(0x5e3)](_0x4cc042);if(_0x4b312c){_0x58fe9d[_0x18d82d(0x6a3)][_0x18d82d(0x59c)]=_0x1c5c6b[_0x18d82d(0x20e)][_0x18d82d(0x4c5)]();let {message_normalized:_0x3dc9ee}=this['normalizeMessage'](_0x4b312c[_0x18d82d(0x1a5)],P(_0x4b312c[_0x18d82d(0x1a5)]),null);_0x58fe9d[_0x18d82d(0x6a3)][_0x18d82d(0x268)]=await _0x3dc9ee;let _0x5a649e={};this[_0x18d82d(0x525)](_0x58fe9d,_0x1c5c6b,_0x5a649e);}else{let _0x36ec6b={'error':!0x0};this[_0x18d82d(0x525)](_0x58fe9d,_0x1c5c6b,_0x36ec6b),this[_0x18d82d(0x186)][_0x18d82d(0x4f8)](this[_0x18d82d(0x5cd)]+'\x20('+this[_0x18d82d(0x302)]['wuid']+_0x18d82d(0x58a));}}catch(_0x13e5e9){let _0x39fbd5={'error':!0x0,'errorLog':_0x13e5e9 instanceof Error?_0x13e5e9[_0x18d82d(0x1a5)]:JSON[_0x18d82d(0x1b7)](_0x13e5e9,null,0x2)};this[_0x18d82d(0x525)](_0x58fe9d,_0x1c5c6b,_0x39fbd5),this[_0x18d82d(0x186)][_0x18d82d(0x4f8)](this[_0x18d82d(0x5cd)]+'\x20('+this[_0x18d82d(0x302)][_0x18d82d(0x7a2)]+_0x18d82d(0x3ed)+(_0x13e5e9 instanceof Error?_0x13e5e9[_0x18d82d(0x1a5)]:JSON['stringify'](_0x13e5e9,null,0x2)));}}async[a0_0x56f010(0x591)](_0xe2db17){const _0xd911df=a0_0x56f010;try{if(this['logger'][_0xd911df(0x6db)](this['instanceName']+'\x20('+this[_0xd911df(0x302)]['wuid']+_0xd911df(0x5cc)),await this[_0xd911df(0x5b9)]['flow']['findOne']({'where':{'name':_0xe2db17[_0xd911df(0x3c0)]}},this['instance'][_0xd911df(0x7a2)]))return{'message':'Flow\x20already\x20exists'};_0xe2db17[_0xd911df(0x34a)]===!0x0&&await this[_0xd911df(0x5b9)][_0xd911df(0x15b)][_0xd911df(0x346)]({},{'default':!0x1},this[_0xd911df(0x302)][_0xd911df(0x7a2)]);let _0x258863=new ie[(_0xd911df(0x690))][(_0xd911df(0x4ad))](),_0x199632={'_id':_0x258863,'default':!0x0,'title':_0xd911df(0x18b),'x':0x0,'y':0x0},_0x53b39c={'_id':new ie[(_0xd911df(0x690))][(_0xd911df(0x4ad))](),'order':0x1,'groupId':_0x258863[_0xd911df(0x4c5)](),'type':_0xd911df(0x30f)},_0x26fcbf={'_id':new ie['Types']['ObjectId'](),'owner':this[_0xd911df(0x302)]['wuid'],'name':_0xe2db17[_0xd911df(0x3c0)],'groups':[_0x199632],'blocks':[_0x53b39c],..._0xe2db17};return _0x26fcbf=await this[_0xd911df(0x5b9)][_0xd911df(0x15b)][_0xd911df(0x172)](_0x26fcbf,this[_0xd911df(0x302)]['wuid']),_0x26fcbf;}catch(_0x46ee96){throw this[_0xd911df(0x186)]['error'](this[_0xd911df(0x5cd)]+'\x20('+this[_0xd911df(0x302)][_0xd911df(0x7a2)]+_0xd911df(0x579)+(_0x46ee96 instanceof Error?_0x46ee96[_0xd911df(0x1a5)]:JSON[_0xd911df(0x1b7)](_0x46ee96,null,0x2))),new m(_0xd911df(0x597)+_0x46ee96);}}async[a0_0x56f010(0x395)](_0xb37ab9){const _0x5e7a79=a0_0x56f010;try{return this[_0x5e7a79(0x186)]['verbose'](this[_0x5e7a79(0x5cd)]+'\x20('+this[_0x5e7a79(0x302)][_0x5e7a79(0x7a2)]+_0x5e7a79(0x57c)),await this[_0x5e7a79(0x5b9)]['flow'][_0x5e7a79(0x50d)]({'where':{'name':_0xb37ab9}},this['instance'][_0x5e7a79(0x7a2)]);}catch(_0x20e816){return this['logger'][_0x5e7a79(0x4f8)](this['instanceName']+'\x20('+this['instance'][_0x5e7a79(0x7a2)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x20e816 instanceof Error?_0x20e816[_0x5e7a79(0x1a5)]:JSON[_0x5e7a79(0x1b7)](_0x20e816,null,0x2))),{'message':_0x5e7a79(0x794)+_0x20e816};}}async[a0_0x56f010(0x341)](_0x5c1420){const _0x3ed621=a0_0x56f010;try{this[_0x3ed621(0x186)][_0x3ed621(0x6db)](this[_0x3ed621(0x5cd)]+'\x20('+this[_0x3ed621(0x302)][_0x3ed621(0x7a2)]+_0x3ed621(0x1f4));let _0x31d422=await this[_0x3ed621(0x5b9)]['flow'][_0x3ed621(0x2a7)]({'where':{'name':_0x5c1420}},this[_0x3ed621(0x302)][_0x3ed621(0x7a2)]);if(!_0x31d422)throw new Error(_0x3ed621(0x764));if(!this[_0x3ed621(0x32d)]&&(await this[_0x3ed621(0x6ea)](),!this[_0x3ed621(0x32d)]))return null;let _0x347edc=this[_0x3ed621(0x32d)]?.[_0x3ed621(0x40e)]['map'](_0xbbf59d=>_0xbbf59d[_0x3ed621(0x3c0)]),_0x1f8cf6=[_0x3ed621(0x72f),_0x3ed621(0x5f5),_0x3ed621(0x35b),_0x3ed621(0x69f),_0x3ed621(0x1b0),_0x3ed621(0x712),_0x3ed621(0x2b7),'tags',_0x3ed621(0x42c)];_0x31d422[_0x3ed621(0x5f2)]=_0x31d422[_0x3ed621(0x5f2)][_0x3ed621(0x336)](_0x442682=>!(_0x442682[_0x3ed621(0x4d3)]==='leadInfo'||_0x442682['leadInfo'])),_0x1f8cf6[_0x3ed621(0x147)](_0x4a1f77=>{const _0x31b8f3=_0x3ed621;_0x31d422[_0x31b8f3(0x5f2)][_0x31b8f3(0x143)]({'folder':_0x31b8f3(0x5ad),'name':_0x4a1f77,'value':'','doc':'','leadInfo':!0x0});}),_0x347edc[_0x3ed621(0x147)](_0xcaad98=>{const _0x5131d4=_0x3ed621;let _0x5c488c=_0x31d422[_0x5131d4(0x5f2)][_0x5131d4(0x447)](_0x2e55a3=>_0x2e55a3[_0x5131d4(0x3c0)]===_0xcaad98);_0x5c488c===-0x1?_0x31d422[_0x5131d4(0x5f2)]['push']({'folder':_0x5131d4(0x5ad),'name':_0xcaad98,'value':'','doc':'','leadInfo':!0x0}):(_0x31d422[_0x5131d4(0x5f2)][_0x5c488c][_0x5131d4(0x4d3)]='leadInfo',_0x31d422[_0x5131d4(0x5f2)][_0x5c488c][_0x5131d4(0x5ad)]=!0x0);}),_0x31d422[_0x3ed621(0x65a)]&&_0x31d422[_0x3ed621(0x65a)][_0x3ed621(0x17a)]>0x0&&_0x31d422[_0x3ed621(0x65a)]['forEach'](_0x462d62=>{const _0x4de749=_0x3ed621;_0x462d62[_0x4de749(0x46e)]&&_0x462d62[_0x4de749(0x628)]&&_0x462d62['groupId']===_0x462d62[_0x4de749(0x628)]&&(_0x462d62[_0x4de749(0x628)]=null);});let _0x3c6f5a=await this[_0x3ed621(0x5b9)][_0x3ed621(0x15b)]['updateOne'](_0x31d422[_0x3ed621(0x20e)],_0x31d422,this[_0x3ed621(0x302)][_0x3ed621(0x7a2)]);if(!_0x3c6f5a)throw new Error(_0x3ed621(0x36a));return _0x3c6f5a;}catch(_0x4a968e){throw this[_0x3ed621(0x186)]['error'](this[_0x3ed621(0x5cd)]+'\x20('+this[_0x3ed621(0x302)][_0x3ed621(0x7a2)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x4a968e instanceof Error?_0x4a968e[_0x3ed621(0x1a5)]:JSON[_0x3ed621(0x1b7)](_0x4a968e,null,0x2))),new m(_0x3ed621(0x1bc)+_0x4a968e);}}async[a0_0x56f010(0x1da)](){const _0x4bab88=a0_0x56f010;try{return this[_0x4bab88(0x186)][_0x4bab88(0x6db)](this[_0x4bab88(0x5cd)]+'\x20('+this[_0x4bab88(0x302)][_0x4bab88(0x7a2)]+_0x4bab88(0x5b3)),await this[_0x4bab88(0x5b9)][_0x4bab88(0x15b)]['findAll']({'where':{}},this[_0x4bab88(0x302)][_0x4bab88(0x7a2)]);}catch(_0x1c9d17){return this[_0x4bab88(0x186)][_0x4bab88(0x4f8)](this[_0x4bab88(0x5cd)]+'\x20('+this[_0x4bab88(0x302)][_0x4bab88(0x7a2)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x1c9d17 instanceof Error?_0x1c9d17['message']:JSON[_0x4bab88(0x1b7)](_0x1c9d17,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x1c9d17};}}async['editFlow'](_0x4f94f2){const _0x1d10c4=a0_0x56f010;try{this['logger'][_0x1d10c4(0x6db)](this['instanceName']+'\x20('+this[_0x1d10c4(0x302)][_0x1d10c4(0x7a2)]+_0x1d10c4(0x234));let _0x3d225d=await this[_0x1d10c4(0x5b9)][_0x1d10c4(0x15b)]['findOne']({'where':{'name':_0x4f94f2['name']}},this['instance'][_0x1d10c4(0x7a2)]);return _0x3d225d?(_0x4f94f2[_0x1d10c4(0x34a)]===!0x0&&await this[_0x1d10c4(0x5b9)]['flow'][_0x1d10c4(0x346)]({},{'default':!0x1},this[_0x1d10c4(0x302)][_0x1d10c4(0x7a2)]),await this[_0x1d10c4(0x5b9)]['flow'][_0x1d10c4(0x4c4)](_0x3d225d[_0x1d10c4(0x20e)],_0x4f94f2,this[_0x1d10c4(0x302)][_0x1d10c4(0x7a2)])):{'message':_0x1d10c4(0x797)};}catch(_0x1cd8b2){throw this[_0x1d10c4(0x186)][_0x1d10c4(0x4f8)](this[_0x1d10c4(0x5cd)]+'\x20('+this[_0x1d10c4(0x302)][_0x1d10c4(0x7a2)]+_0x1d10c4(0x585)+(_0x1cd8b2 instanceof Error?_0x1cd8b2['message']:JSON[_0x1d10c4(0x1b7)](_0x1cd8b2,null,0x2))),new m(_0x1d10c4(0x71f)+(_0x1cd8b2 instanceof Error?_0x1cd8b2[_0x1d10c4(0x1a5)]:JSON[_0x1d10c4(0x1b7)](_0x1cd8b2,null,0x2)));}}async['editFlowBlock'](_0xa2774c){const _0x50b867=a0_0x56f010;try{this[_0x50b867(0x186)][_0x50b867(0x6db)](this[_0x50b867(0x5cd)]+'\x20('+this[_0x50b867(0x302)][_0x50b867(0x7a2)]+'):\x20Editando\x20bloco...');let _0x15ca2e=await this[_0x50b867(0x5b9)][_0x50b867(0x15b)][_0x50b867(0x2a7)]({'where':{'name':_0xa2774c[_0x50b867(0x3c0)]}},this['instance'][_0x50b867(0x7a2)]);_0x15ca2e||this[_0x50b867(0x26a)](_0x50b867(0x764));let {block:_0x41f822}=_0xa2774c;_0x41f822?.['copy']?this[_0x50b867(0x294)](_0x15ca2e,_0xa2774c):_0x41f822?.['delete']?this['deleteBlock'](_0x15ca2e,_0xa2774c):_0x41f822[_0x50b867(0x20e)]?await this[_0x50b867(0x77e)](_0x15ca2e,_0xa2774c):this[_0x50b867(0x2bc)](_0x15ca2e,_0xa2774c);let _0x280aa8=await this[_0x50b867(0x5b9)][_0x50b867(0x15b)][_0x50b867(0x4c4)](_0x15ca2e[_0x50b867(0x20e)],_0x15ca2e,this[_0x50b867(0x302)][_0x50b867(0x7a2)]);if(!_0x280aa8)throw new Error(_0x50b867(0x36a));return _0x280aa8;}catch(_0x3e1775){this['throwAndLogError'](_0x50b867(0x21a)+_0x3e1775);}}async['copyBlock'](_0x5b0ff1,_0x2579e9){const _0x2428ed=a0_0x56f010;let _0x12542b=_0x2579e9[_0x2428ed(0x489)]['_id'],_0x2c5f2e=_0x5b0ff1['blocks'][_0x2428ed(0x766)](_0x1aabec=>_0x1aabec[_0x2428ed(0x20e)][_0x2428ed(0x4c5)]()===_0x12542b);if(!_0x2c5f2e){this[_0x2428ed(0x186)][_0x2428ed(0x4f8)](this[_0x2428ed(0x5cd)]+'\x20('+this[_0x2428ed(0x302)][_0x2428ed(0x7a2)]+_0x2428ed(0x54b)+_0x12542b+_0x2428ed(0x501));return;}this[_0x2428ed(0x186)]['verbose'](this[_0x2428ed(0x5cd)]+'\x20('+this['instance'][_0x2428ed(0x7a2)]+_0x2428ed(0x400)+JSON[_0x2428ed(0x1b7)](_0x2c5f2e));let _0x10ad5d=JSON['parse'](JSON[_0x2428ed(0x1b7)](_0x2c5f2e));_0x10ad5d[_0x2428ed(0x20e)]=new ie[(_0x2428ed(0x34a))][(_0x2428ed(0x690))][(_0x2428ed(0x4ad))](),this[_0x2428ed(0x186)][_0x2428ed(0x6db)](this[_0x2428ed(0x5cd)]+'\x20('+this[_0x2428ed(0x302)][_0x2428ed(0x7a2)]+_0x2428ed(0x6f6)+JSON[_0x2428ed(0x1b7)](_0x10ad5d)),_0x5b0ff1[_0x2428ed(0x65a)][_0x2428ed(0x143)](_0x10ad5d),this[_0x2428ed(0x74f)](_0x5b0ff1['blocks'],_0x10ad5d[_0x2428ed(0x46e)]);}[a0_0x56f010(0x26a)](_0x2bba4e){const _0x36f180=a0_0x56f010;throw this['logger'][_0x36f180(0x4f8)](this['instanceName']+'\x20('+this[_0x36f180(0x302)][_0x36f180(0x7a2)]+'):\x20'+_0x2bba4e),new m(_0x2bba4e);}[a0_0x56f010(0x4e0)](_0x3487ef,_0x1b62d4){const _0x9d5152=a0_0x56f010;let {block:_0x28ad79}=_0x1b62d4;if(_0x28ad79['type']===_0x9d5152(0x30f)){this[_0x9d5152(0x26a)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x28ad79[_0x9d5152(0x20e)]){this[_0x9d5152(0x26a)](_0x9d5152(0x423));return;}let _0x25e5e4=_0x3487ef[_0x9d5152(0x65a)][_0x9d5152(0x766)](_0x31686f=>_0x31686f[_0x9d5152(0x20e)][_0x9d5152(0x4c5)]()===_0x1b62d4[_0x9d5152(0x489)][_0x9d5152(0x20e)][_0x9d5152(0x4c5)]());if(!_0x25e5e4){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x28ad79['_id']+'\x20não\x20encontrado');return;}_0x3487ef[_0x9d5152(0x65a)]=_0x3487ef[_0x9d5152(0x65a)][_0x9d5152(0x336)](_0x459964=>_0x459964[_0x9d5152(0x20e)][_0x9d5152(0x4c5)]()!==_0x1b62d4[_0x9d5152(0x489)][_0x9d5152(0x20e)][_0x9d5152(0x4c5)]()),_0x3487ef[_0x9d5152(0x596)]=_0x3487ef['conditions'][_0x9d5152(0x336)](_0x3b5689=>_0x3b5689[_0x9d5152(0x56a)]!==_0x28ad79['_id'][_0x9d5152(0x4c5)]()),_0x3487ef[_0x9d5152(0x290)]=_0x3487ef['varedits'][_0x9d5152(0x336)](_0x162c88=>_0x162c88[_0x9d5152(0x56a)]!==_0x28ad79[_0x9d5152(0x20e)][_0x9d5152(0x4c5)]()),_0x3487ef[_0x9d5152(0x650)]=_0x3487ef['replyOptions'][_0x9d5152(0x336)](_0x4102ce=>_0x4102ce[_0x9d5152(0x56a)]!==_0x28ad79['_id'][_0x9d5152(0x4c5)]()),this[_0x9d5152(0x74f)](_0x3487ef[_0x9d5152(0x65a)],_0x25e5e4[_0x9d5152(0x46e)]);}async[a0_0x56f010(0x77e)](_0x4c7196,_0x30eda9){const _0xca03e1=a0_0x56f010;let _0x4f9917=_0x4c7196[_0xca03e1(0x65a)][_0xca03e1(0x447)](_0x20b7b4=>_0x20b7b4['_id']['toString']()===_0x30eda9[_0xca03e1(0x489)][_0xca03e1(0x20e)][_0xca03e1(0x4c5)]());if(this['logger'][_0xca03e1(0x6db)](this[_0xca03e1(0x5cd)]+'\x20('+this['instance'][_0xca03e1(0x7a2)]+_0xca03e1(0x431)+_0x4f9917),_0x4f9917===-0x1){this[_0xca03e1(0x186)][_0xca03e1(0x6db)](_0xca03e1(0x28c)+_0x30eda9[_0xca03e1(0x489)][_0xca03e1(0x20e)]+_0xca03e1(0x76e));return;}if(_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x270)]===_0xca03e1(0x30f)){let _0x2376f9=Object[_0xca03e1(0x37c)](_0x30eda9[_0xca03e1(0x489)]);if(_0x2376f9['length']>0x2||_0x2376f9[_0xca03e1(0x17a)]===0x2&&!_0x2376f9['includes'](_0xca03e1(0x628))){this[_0xca03e1(0x26a)](_0xca03e1(0x298));return;}}let _0x4ffd0b=_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x46e)];for(let _0x20c984 in _0x30eda9['block'])_0x30eda9[_0xca03e1(0x489)][_0xca03e1(0x204)](_0x20c984)&&(_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0x20c984]=_0x30eda9[_0xca03e1(0x489)][_0x20c984]);if(this['logger'][_0xca03e1(0x6db)](this[_0xca03e1(0x5cd)]+'\x20('+this['instance'][_0xca03e1(0x7a2)]+_0xca03e1(0x777)+JSON['stringify'](_0x4c7196['blocks'][_0x4f9917])),_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x5b7)]&&_0xca03e1(0x300)in _0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x5b7)]){this[_0xca03e1(0x186)][_0xca03e1(0x6db)](this[_0xca03e1(0x5cd)]+'\x20('+this[_0xca03e1(0x302)]['wuid']+_0xca03e1(0x16d));let _0x47a79e=JSON[_0xca03e1(0x1b7)](_0x4c7196['blocks'][_0x4f9917][_0xca03e1(0x5b7)][_0xca03e1(0x300)],null,0x1);_0x47a79e['length']>0x2&&(_0x47a79e=_0x47a79e[_0xca03e1(0x2da)](0x1,_0x47a79e[_0xca03e1(0x17a)]-0x1)[_0xca03e1(0x7a3)]()),_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x5b7)][_0xca03e1(0x3c5)]=_0x47a79e;}if(_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x5b7)]&&_0xca03e1(0x55f)in _0x4c7196['blocks'][_0x4f9917][_0xca03e1(0x5b7)]){this[_0xca03e1(0x186)]['verbose'](this[_0xca03e1(0x5cd)]+'\x20('+this[_0xca03e1(0x302)]['wuid']+_0xca03e1(0x562));let _0x1c5387=JSON[_0xca03e1(0x1b7)](_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x5b7)][_0xca03e1(0x55f)],null,0x1);_0x1c5387[_0xca03e1(0x17a)]>0x2&&(_0x1c5387=_0x1c5387[_0xca03e1(0x2da)](0x1,_0x1c5387[_0xca03e1(0x17a)]-0x1)['trim']()),_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x5b7)][_0xca03e1(0x2f2)]=_0x1c5387;}let _0x364476=_0x4c7196[_0xca03e1(0x65a)][_0x4f9917][_0xca03e1(0x46e)];_0x4ffd0b!==_0x364476?(this[_0xca03e1(0x74f)](_0x4c7196[_0xca03e1(0x65a)],_0x4ffd0b),this[_0xca03e1(0x74f)](_0x4c7196[_0xca03e1(0x65a)],_0x364476)):this['reorderBlocks'](_0x4c7196[_0xca03e1(0x65a)],_0x4ffd0b);}['addBlock'](_0x19ad92,_0x2a9086){const _0x40dd9d=a0_0x56f010;if(_0x2a9086[_0x40dd9d(0x489)][_0x40dd9d(0x270)]==='start'){this[_0x40dd9d(0x26a)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x2a9086['block'][_0x40dd9d(0x5b7)]&&_0x40dd9d(0x300)in _0x2a9086['block'][_0x40dd9d(0x5b7)]){this[_0x40dd9d(0x186)]['verbose'](this[_0x40dd9d(0x5cd)]+'\x20('+this[_0x40dd9d(0x302)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4373b7=JSON[_0x40dd9d(0x1b7)](_0x2a9086[_0x40dd9d(0x489)][_0x40dd9d(0x5b7)][_0x40dd9d(0x300)],null,0x1);_0x4373b7[_0x40dd9d(0x17a)]>0x2&&(_0x4373b7=_0x4373b7[_0x40dd9d(0x2da)](0x1,_0x4373b7['length']-0x1)[_0x40dd9d(0x7a3)]()),_0x2a9086['block']['apirequest'][_0x40dd9d(0x3c5)]=_0x4373b7;}_0x2a9086['block'][_0x40dd9d(0x5b7)]&&_0x40dd9d(0x55f)in _0x2a9086[_0x40dd9d(0x489)]['apirequest']&&(this[_0x40dd9d(0x186)][_0x40dd9d(0x6db)](this[_0x40dd9d(0x5cd)]+'\x20('+this[_0x40dd9d(0x302)][_0x40dd9d(0x7a2)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x2a9086[_0x40dd9d(0x489)][_0x40dd9d(0x5b7)][_0x40dd9d(0x2f2)]=JSON[_0x40dd9d(0x1b7)](_0x2a9086[_0x40dd9d(0x489)][_0x40dd9d(0x5b7)][_0x40dd9d(0x55f)],null,0x1)['trim']()),_0x19ad92[_0x40dd9d(0x65a)][_0x40dd9d(0x143)](_0x2a9086[_0x40dd9d(0x489)]),this[_0x40dd9d(0x74f)](_0x19ad92[_0x40dd9d(0x65a)],_0x2a9086['block'][_0x40dd9d(0x46e)]);}[a0_0x56f010(0x74f)](_0x59c207,_0xf1228c){const _0x20056b=a0_0x56f010;let _0x5c7418=_0x59c207[_0x20056b(0x336)](_0x41717d=>_0x41717d[_0x20056b(0x46e)]===_0xf1228c);_0x5c7418[_0x20056b(0x537)]((_0x10df64,_0x13259f)=>_0x10df64[_0x20056b(0x687)]-_0x13259f[_0x20056b(0x687)]),_0x5c7418[_0x20056b(0x147)]((_0x6965dc,_0x56eaac)=>_0x6965dc['order']=_0x56eaac+0x1);}async[a0_0x56f010(0x725)](_0x1f8196){const _0x11ab89=a0_0x56f010;try{if(this[_0x11ab89(0x186)]['verbose'](this[_0x11ab89(0x5cd)]+'\x20('+this[_0x11ab89(0x302)][_0x11ab89(0x7a2)]+_0x11ab89(0x1f6)),!_0x1f8196||!_0x1f8196['replyOption']){this['throwAndLogError']('Data\x20inválida\x20fornecida');return;}let _0x14f7e7=await this[_0x11ab89(0x5b9)]['flow']['findOne']({'where':{'name':_0x1f8196[_0x11ab89(0x3c0)]}},this[_0x11ab89(0x302)][_0x11ab89(0x7a2)]);_0x14f7e7||this['throwAndLogError']('Flow\x20não\x20encontrado');let {replyOption:_0x12b70b}=_0x1f8196;_0x12b70b?.[_0x11ab89(0x2d3)]?(this[_0x11ab89(0x1bf)](_0x14f7e7,_0x1f8196),this['reorderReplyOptions'](_0x14f7e7[_0x11ab89(0x650)],_0x1f8196[_0x11ab89(0x5c3)][_0x11ab89(0x56a)])):_0x12b70b[_0x11ab89(0x20e)]?(await this['updateReplyOption'](_0x14f7e7,_0x1f8196),this[_0x11ab89(0x28b)](_0x14f7e7[_0x11ab89(0x650)],_0x1f8196[_0x11ab89(0x5c3)][_0x11ab89(0x56a)])):(this[_0x11ab89(0x391)](_0x14f7e7,_0x1f8196),this[_0x11ab89(0x28b)](_0x14f7e7[_0x11ab89(0x650)],_0x1f8196[_0x11ab89(0x5c3)][_0x11ab89(0x56a)]));let _0x300e20=await this[_0x11ab89(0x5b9)][_0x11ab89(0x15b)][_0x11ab89(0x4c4)](_0x14f7e7[_0x11ab89(0x20e)],_0x14f7e7,this[_0x11ab89(0x302)][_0x11ab89(0x7a2)]);if(!_0x300e20)throw new Error(_0x11ab89(0x36a));return _0x300e20;}catch(_0x129b4b){this['throwAndLogError'](_0x11ab89(0x44e)+_0x129b4b);}}[a0_0x56f010(0x28b)](_0x404968,_0x168c71){const _0xb2069b=a0_0x56f010;console[_0xb2069b(0x125)](_0xb2069b(0x54a),_0x168c71),_0x404968[_0xb2069b(0x147)](_0x513fe6=>{const _0x5c4fdd=_0xb2069b;_0x513fe6['blockId']===_0x168c71&&_0x513fe6['order']===void 0x0&&(_0x513fe6[_0x5c4fdd(0x687)]=0x270f);});let _0x659f38=_0x404968[_0xb2069b(0x336)](_0x2bed92=>_0x2bed92[_0xb2069b(0x56a)]===_0x168c71);_0x659f38[_0xb2069b(0x537)]((_0x394267,_0x5263f0)=>_0x394267[_0xb2069b(0x687)]-_0x5263f0[_0xb2069b(0x687)]),_0x659f38[_0xb2069b(0x147)]((_0x364d33,_0x363f1a)=>{const _0x32f156=_0xb2069b;_0x364d33[_0x32f156(0x687)]=_0x363f1a+0x1;}),_0x404968['forEach'](_0x566cf6=>{const _0x1b4784=_0xb2069b;if(_0x566cf6['blockId']===_0x168c71){let _0x7a526=_0x659f38['find'](_0x1620d7=>_0x1620d7[_0x1b4784(0x20e)]&&_0x566cf6[_0x1b4784(0x20e)]&&_0x1620d7[_0x1b4784(0x20e)][_0x1b4784(0x4c5)]()===_0x566cf6['_id'][_0x1b4784(0x4c5)]());_0x7a526&&(_0x566cf6[_0x1b4784(0x687)]=_0x7a526[_0x1b4784(0x687)]);}}),console[_0xb2069b(0x125)](_0xb2069b(0x4e1),_0x404968);}[a0_0x56f010(0x1bf)](_0x5305d8,_0x472259){const _0x259e9f=a0_0x56f010;let {replyOption:_0x315c23}=_0x472259;if(!_0x315c23[_0x259e9f(0x20e)]){this[_0x259e9f(0x26a)](_0x259e9f(0x56f));return;}if(!_0x5305d8[_0x259e9f(0x650)][_0x259e9f(0x766)](_0x408194=>_0x408194[_0x259e9f(0x20e)][_0x259e9f(0x4c5)]()===_0x472259[_0x259e9f(0x5c3)][_0x259e9f(0x20e)][_0x259e9f(0x4c5)]())){this[_0x259e9f(0x26a)](_0x259e9f(0x5fc)+_0x315c23[_0x259e9f(0x20e)]+'\x20não\x20encontrado');return;}_0x5305d8[_0x259e9f(0x650)]=_0x5305d8['replyOptions'][_0x259e9f(0x336)](_0x1bc4c5=>_0x1bc4c5['_id'][_0x259e9f(0x4c5)]()!==_0x472259[_0x259e9f(0x5c3)][_0x259e9f(0x20e)][_0x259e9f(0x4c5)]());}async[a0_0x56f010(0x6e6)](_0x4b8ad1,_0x5cd187){const _0x3a6587=a0_0x56f010;let _0x57d444=_0x4b8ad1[_0x3a6587(0x650)]['findIndex'](_0x553078=>_0x553078[_0x3a6587(0x20e)]['toString']()===_0x5cd187[_0x3a6587(0x5c3)][_0x3a6587(0x20e)]['toString']());if(_0x57d444===-0x1){this[_0x3a6587(0x26a)]('ReplyOption\x20com\x20ID\x20'+_0x5cd187[_0x3a6587(0x5c3)][_0x3a6587(0x20e)]+_0x3a6587(0x76e));return;}for(let _0x13fa37 in _0x5cd187[_0x3a6587(0x5c3)])_0x5cd187[_0x3a6587(0x5c3)][_0x3a6587(0x204)](_0x13fa37)&&(_0x4b8ad1[_0x3a6587(0x650)][_0x57d444][_0x13fa37]=_0x5cd187['replyOption'][_0x13fa37]);}[a0_0x56f010(0x391)](_0x5c7bd0,_0xb972d5){const _0x2aa663=a0_0x56f010;_0x5c7bd0[_0x2aa663(0x650)][_0x2aa663(0x143)](_0xb972d5[_0x2aa663(0x5c3)]);}async[a0_0x56f010(0x56b)](_0x241147){const _0x377278=a0_0x56f010;this[_0x377278(0x186)][_0x377278(0x6db)](this[_0x377278(0x5cd)]+'\x20('+this[_0x377278(0x302)][_0x377278(0x7a2)]+_0x377278(0x331)+_0x241147);try{this[_0x377278(0x186)]['verbose'](this[_0x377278(0x5cd)]+'\x20('+this['instance'][_0x377278(0x7a2)]+_0x377278(0x361));let _0x2b4a8f=await this[_0x377278(0x5b9)][_0x377278(0x15b)][_0x377278(0x2a7)]({'where':{'name':_0x241147['name']}},this['instance'][_0x377278(0x7a2)]);if(!_0x2b4a8f)throw new Error(_0x377278(0x764));if(_0x241147[_0x377278(0x3eb)]&&_0x241147[_0x377278(0x3eb)]?.[_0x377278(0x2d3)]===!0x0){if(this[_0x377278(0x186)][_0x377278(0x6db)](this[_0x377278(0x5cd)]+'\x20('+this[_0x377278(0x302)][_0x377278(0x7a2)]+_0x377278(0x6a6)),_0x241147[_0x377278(0x3eb)][_0x377278(0x34a)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x2b4a8f['blocks']['some'](_0x25e644=>_0x25e644['groupId'][_0x377278(0x4c5)]()===_0x241147['group'][_0x377278(0x20e)]))return this['logger'][_0x377278(0x6db)](this[_0x377278(0x5cd)]+'\x20('+this[_0x377278(0x302)][_0x377278(0x7a2)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x2b4a8f['groups']=_0x2b4a8f[_0x377278(0x76c)][_0x377278(0x336)](_0x21fe87=>_0x21fe87[_0x377278(0x20e)][_0x377278(0x4c5)]()!==_0x241147[_0x377278(0x3eb)][_0x377278(0x20e)]);}else{if(_0x241147[_0x377278(0x3eb)]){if(_0x241147[_0x377278(0x3eb)][_0x377278(0x34a)]===!0x0)return{'message':_0x377278(0x654)};if(_0x241147['group']['_id']){let _0x5c8b1f=_0x2b4a8f[_0x377278(0x76c)][_0x377278(0x766)](_0x1fb591=>_0x1fb591[_0x377278(0x20e)][_0x377278(0x4c5)]()===_0x241147[_0x377278(0x3eb)][_0x377278(0x20e)]);_0x5c8b1f&&(_0x241147[_0x377278(0x3eb)]['x']<0x0&&(_0x241147['group']['x']=0x0),_0x241147[_0x377278(0x3eb)]['y']<0x0&&(_0x241147['group']['y']=0x0),Object[_0x377278(0x58f)](_0x5c8b1f,_0x241147[_0x377278(0x3eb)]));}else _0x2b4a8f[_0x377278(0x76c)]['push'](_0x241147[_0x377278(0x3eb)]);}}let _0x554eb6=await this['repository']['flow'][_0x377278(0x4c4)](_0x2b4a8f['_id'],_0x2b4a8f,this[_0x377278(0x302)][_0x377278(0x7a2)]);if(!_0x554eb6)throw new Error(_0x377278(0x36a));return _0x554eb6;}catch(_0x4f0964){throw this[_0x377278(0x186)][_0x377278(0x4f8)](this['instanceName']+'\x20('+this[_0x377278(0x302)]['wuid']+_0x377278(0x4fe)+(_0x4f0964 instanceof Error?_0x4f0964['message']:JSON['stringify'](_0x4f0964,null,0x2))),new m(_0x377278(0x2a4)+(_0x4f0964 instanceof Error?_0x4f0964[_0x377278(0x1a5)]:JSON[_0x377278(0x1b7)](_0x4f0964,null,0x2)));}}async['editFlowCondition'](_0x15379e){const _0x414d5b=a0_0x56f010;try{this[_0x414d5b(0x186)][_0x414d5b(0x6db)](this[_0x414d5b(0x5cd)]+'\x20('+this[_0x414d5b(0x302)]['wuid']+_0x414d5b(0x19b));let _0x3cbe27=await this[_0x414d5b(0x5b9)]['flow']['findOne']({'where':{'name':_0x15379e[_0x414d5b(0x3c0)]}},this[_0x414d5b(0x302)][_0x414d5b(0x7a2)]);if(!_0x3cbe27)throw new Error('Flow\x20não\x20encontrado');let _0x32e6d2=!0x1;if(_0x15379e['condition']?.[_0x414d5b(0x2d3)]===!0x0)_0x3cbe27[_0x414d5b(0x596)]=_0x3cbe27['conditions'][_0x414d5b(0x336)](_0x3e8bf0=>_0x3e8bf0&&_0x15379e[_0x414d5b(0x43a)]&&_0x3e8bf0['_id']&&_0x15379e[_0x414d5b(0x43a)][_0x414d5b(0x20e)]&&_0x3e8bf0[_0x414d5b(0x20e)][_0x414d5b(0x4c5)]()!==_0x15379e[_0x414d5b(0x43a)][_0x414d5b(0x20e)]['toString']()),_0x32e6d2=!0x0;else{let _0x28fc4e=_0x3cbe27[_0x414d5b(0x596)][_0x414d5b(0x766)](_0x2b1df4=>_0x2b1df4&&_0x15379e['condition']&&_0x2b1df4[_0x414d5b(0x20e)]&&_0x15379e[_0x414d5b(0x43a)][_0x414d5b(0x20e)]&&_0x2b1df4['_id']['toString']()===_0x15379e['condition']['_id'][_0x414d5b(0x4c5)]());_0x28fc4e?(_0x32e6d2=_0x28fc4e[_0x414d5b(0x687)]!==_0x15379e[_0x414d5b(0x43a)][_0x414d5b(0x687)],Object[_0x414d5b(0x58f)](_0x28fc4e,_0x15379e['condition'])):(_0x3cbe27[_0x414d5b(0x596)][_0x414d5b(0x143)](_0x15379e[_0x414d5b(0x43a)]),_0x32e6d2=!0x0);}if(_0x32e6d2){_0x3cbe27[_0x414d5b(0x596)][_0x414d5b(0x537)]((_0x3167c3,_0x39f317)=>_0x3167c3[_0x414d5b(0x687)]>_0x39f317[_0x414d5b(0x687)]?0x1:_0x39f317[_0x414d5b(0x687)]>_0x3167c3['order']?-0x1:0x0);for(let _0x260605=0x0;_0x260605<_0x3cbe27[_0x414d5b(0x596)]['length'];_0x260605++)_0x3cbe27[_0x414d5b(0x596)][_0x260605][_0x414d5b(0x687)]=_0x260605+0x1;_0x3cbe27[_0x414d5b(0x596)][_0x414d5b(0x17a)]>0x0&&(_0x3cbe27[_0x414d5b(0x596)][0x0][_0x414d5b(0x6b4)]=_0x414d5b(0x20a));}let _0x4cd472=await this[_0x414d5b(0x5b9)][_0x414d5b(0x15b)][_0x414d5b(0x4c4)](_0x3cbe27['_id'],_0x3cbe27,this['instance'][_0x414d5b(0x7a2)]);if(!_0x4cd472)throw new Error(_0x414d5b(0x36a));return _0x4cd472;}catch(_0x73352b){throw this[_0x414d5b(0x186)][_0x414d5b(0x4f8)](this[_0x414d5b(0x5cd)]+'\x20('+this[_0x414d5b(0x302)][_0x414d5b(0x7a2)]+_0x414d5b(0x680)+(_0x73352b instanceof Error?_0x73352b[_0x414d5b(0x1a5)]:JSON[_0x414d5b(0x1b7)](_0x73352b,null,0x2))),new Error(_0x414d5b(0x75c)+(_0x73352b instanceof Error?_0x73352b[_0x414d5b(0x1a5)]:JSON['stringify'](_0x73352b,null,0x2)));}}async['editFlowVaredit'](_0x426ae6){const _0xde14ce=a0_0x56f010;try{this[_0xde14ce(0x186)][_0xde14ce(0x6db)](this['instanceName']+'\x20('+this[_0xde14ce(0x302)]['wuid']+_0xde14ce(0x223));let _0x205bbc=await this[_0xde14ce(0x5b9)][_0xde14ce(0x15b)]['findOne']({'where':{'name':_0x426ae6[_0xde14ce(0x3c0)]}},this['instance'][_0xde14ce(0x7a2)]);if(!_0x205bbc)throw new Error(_0xde14ce(0x764));let _0x301bf6=!0x1;if(_0x426ae6[_0xde14ce(0x6d3)]?.['delete']===!0x0)_0x205bbc[_0xde14ce(0x290)]=_0x205bbc[_0xde14ce(0x290)][_0xde14ce(0x336)](_0x1aa50d=>_0x1aa50d&&_0x426ae6[_0xde14ce(0x6d3)]&&_0x1aa50d['_id']&&_0x426ae6[_0xde14ce(0x6d3)][_0xde14ce(0x20e)]&&_0x1aa50d[_0xde14ce(0x20e)]['toString']()!==_0x426ae6[_0xde14ce(0x6d3)][_0xde14ce(0x20e)][_0xde14ce(0x4c5)]()),_0x301bf6=!0x0;else{let _0x11a9cd=_0x205bbc['varedits'][_0xde14ce(0x766)](_0x2b6763=>_0x2b6763&&_0x426ae6[_0xde14ce(0x6d3)]&&_0x2b6763[_0xde14ce(0x20e)]&&_0x426ae6['varedit']['_id']&&_0x2b6763[_0xde14ce(0x20e)]['toString']()===_0x426ae6[_0xde14ce(0x6d3)][_0xde14ce(0x20e)][_0xde14ce(0x4c5)]());_0x11a9cd?(_0x301bf6=_0x11a9cd[_0xde14ce(0x687)]!==_0x426ae6['varedit']['order'],Object[_0xde14ce(0x58f)](_0x11a9cd,_0x426ae6[_0xde14ce(0x6d3)])):(_0x205bbc[_0xde14ce(0x290)][_0xde14ce(0x143)](_0x426ae6[_0xde14ce(0x6d3)]),_0x301bf6=!0x0);}if(_0x301bf6){_0x205bbc['varedits'][_0xde14ce(0x537)]((_0x3c1683,_0x5d5dd1)=>_0x3c1683['order']>_0x5d5dd1[_0xde14ce(0x687)]?0x1:_0x5d5dd1[_0xde14ce(0x687)]>_0x3c1683[_0xde14ce(0x687)]?-0x1:0x0);for(let _0x365e3a=0x0;_0x365e3a<_0x205bbc[_0xde14ce(0x290)][_0xde14ce(0x17a)];_0x365e3a++)_0x205bbc[_0xde14ce(0x290)][_0x365e3a]['order']=_0x365e3a+0x1;}let _0x18839d=await this[_0xde14ce(0x5b9)][_0xde14ce(0x15b)][_0xde14ce(0x4c4)](_0x205bbc[_0xde14ce(0x20e)],_0x205bbc,this[_0xde14ce(0x302)][_0xde14ce(0x7a2)]);if(!_0x18839d)throw new Error(_0xde14ce(0x36a));return _0x18839d;}catch(_0x4239ba){throw this['logger'][_0xde14ce(0x4f8)](this[_0xde14ce(0x5cd)]+'\x20('+this[_0xde14ce(0x302)][_0xde14ce(0x7a2)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x4239ba instanceof Error?_0x4239ba[_0xde14ce(0x1a5)]:JSON[_0xde14ce(0x1b7)](_0x4239ba,null,0x2))),new m(_0xde14ce(0x75c)+(_0x4239ba instanceof Error?_0x4239ba[_0xde14ce(0x1a5)]:JSON['stringify'](_0x4239ba,null,0x2)));}}async['editFlowVariable'](_0x2b5a58){const _0x47be69=a0_0x56f010;try{this[_0x47be69(0x186)][_0x47be69(0x6db)](this[_0x47be69(0x5cd)]+'\x20('+this[_0x47be69(0x302)]['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x4545bb=await this['repository']['flow'][_0x47be69(0x2a7)]({'where':{'name':_0x2b5a58[_0x47be69(0x3c0)]}},this[_0x47be69(0x302)][_0x47be69(0x7a2)]);if(!_0x4545bb)throw new Error(_0x47be69(0x764));_0x2b5a58[_0x47be69(0x487)][_0x47be69(0x3c0)]=_0x2b5a58[_0x47be69(0x487)][_0x47be69(0x3c0)][_0x47be69(0x7a3)](),_0x2b5a58[_0x47be69(0x487)][_0x47be69(0x3c0)][_0x47be69(0x47d)]('_')&&(_0x2b5a58[_0x47be69(0x487)][_0x47be69(0x3c0)]=_0x2b5a58[_0x47be69(0x487)][_0x47be69(0x3c0)][_0x47be69(0x2da)](0x1)),_0x2b5a58[_0x47be69(0x487)][_0x47be69(0x3c0)]=_0x2b5a58[_0x47be69(0x487)]['name']['trim']();let _0x4764d6=_0x4545bb[_0x47be69(0x5f2)][_0x47be69(0x766)](_0x4e7f0d=>_0x4e7f0d['name']===_0x2b5a58['variable'][_0x47be69(0x3c0)]);if(_0x4764d6?.[_0x47be69(0x5ad)]===!0x0)throw new Error(_0x47be69(0x144));if(_0x2b5a58[_0x47be69(0x487)]?.['delete']===!0x0){if(!_0x4764d6)return{'message':_0x47be69(0x432)};_0x4545bb[_0x47be69(0x5f2)]=_0x4545bb[_0x47be69(0x5f2)]['filter'](_0x5ab8af=>_0x5ab8af[_0x47be69(0x3c0)]!==_0x2b5a58[_0x47be69(0x487)][_0x47be69(0x3c0)]);}else _0x4764d6?Object['assign'](_0x4764d6,_0x2b5a58[_0x47be69(0x487)]):_0x4545bb[_0x47be69(0x5f2)][_0x47be69(0x143)](_0x2b5a58[_0x47be69(0x487)]);let _0x5d5439=await this[_0x47be69(0x5b9)][_0x47be69(0x15b)][_0x47be69(0x4c4)](_0x4545bb[_0x47be69(0x20e)],_0x4545bb,this[_0x47be69(0x302)][_0x47be69(0x7a2)]);if(!_0x5d5439)throw new Error(_0x47be69(0x36a));return _0x5d5439;}catch(_0x3eba1b){throw this['logger'][_0x47be69(0x4f8)](this['instanceName']+'\x20('+this[_0x47be69(0x302)][_0x47be69(0x7a2)]+_0x47be69(0x5f3)+(_0x3eba1b instanceof Error?_0x3eba1b['message']:JSON[_0x47be69(0x1b7)](_0x3eba1b,null,0x2))),new m('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x3eba1b instanceof Error?_0x3eba1b[_0x47be69(0x1a5)]:JSON[_0x47be69(0x1b7)](_0x3eba1b,null,0x2)));}}async[a0_0x56f010(0x476)](_0x2b7977){const _0x103ca6=a0_0x56f010;let _0x1610a8=null;try{if(!this[_0x103ca6(0x32d)]?.[_0x103ca6(0x288)]['enabled'])throw new m(_0x103ca6(0x4e4));this[_0x103ca6(0x186)][_0x103ca6(0x6db)](this[_0x103ca6(0x5cd)]+'\x20('+this['instance'][_0x103ca6(0x7a2)]+_0x103ca6(0x3a0));let _0x1026c6=(await this[_0x103ca6(0x6d8)]({'numbers':[_0x2b7977[_0x103ca6(0x29f)]]}))[0x0];if(!_0x1026c6['exists']&&!(0x0,y[_0x103ca6(0x6df)])(_0x1026c6[_0x103ca6(0x30b)])&&!_0x1026c6[_0x103ca6(0x30b)][_0x103ca6(0x246)](_0x103ca6(0x174)))throw _0x1610a8=JSON[_0x103ca6(0x1b7)](_0x1026c6,null,0x2),new m(_0x1026c6);let _0x49411a=await this[_0x103ca6(0x5b9)][_0x103ca6(0x15b)][_0x103ca6(0x2a7)]({'where':{'name':_0x2b7977[_0x103ca6(0x3c0)]}},this[_0x103ca6(0x302)][_0x103ca6(0x7a2)]);if(!_0x49411a)return this['logger'][_0x103ca6(0x4f8)](this['instanceName']+'\x20('+this['instance'][_0x103ca6(0x7a2)]+_0x103ca6(0x54f)),{'message':_0x103ca6(0x764)};let _0x573048=await this[_0x103ca6(0x291)](_0x49411a,_0x1026c6[_0x103ca6(0x30b)],_0x2b7977[_0x103ca6(0x516)]);if(_0x573048){this['logger'][_0x103ca6(0x6db)](this[_0x103ca6(0x5cd)]+'\x20('+this['instance'][_0x103ca6(0x7a2)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0xdb7544=await this['NextBlock'](_0x573048);return _0xdb7544&&await this['processblock'](_0x573048,_0xdb7544),{'message':'Flow\x20iniciado\x20com\x20'+_0x2b7977['remoteJid']};}}catch(_0x2103ae){if(this['logger']['error'](this[_0x103ca6(0x5cd)]+'\x20('+this['instance'][_0x103ca6(0x7a2)]+_0x103ca6(0x700)+(_0x2103ae instanceof Error?_0x2103ae[_0x103ca6(0x1a5)]:JSON[_0x103ca6(0x1b7)](_0x2103ae,null,0x2))),_0x1610a8=_0x2103ae instanceof Error?_0x2103ae[_0x103ca6(0x1a5)]:JSON[_0x103ca6(0x1b7)](_0x2103ae,null,0x2),_0x1610a8)throw new m(_0x103ca6(0x543)+_0x1610a8);}}async[a0_0x56f010(0x1dd)](_0x6c6bc9){const _0x12375f=a0_0x56f010;try{let _0x4db012={'remoteJid':_0x6c6bc9,'status':_0x12375f(0x55a)},_0x43530={'status':_0x12375f(0x69a)},_0x3a949d=await this['repository']['flowConversation'][_0x12375f(0x346)](_0x4db012,_0x43530,this[_0x12375f(0x302)][_0x12375f(0x7a2)]);return this['logger'][_0x12375f(0x6db)](this[_0x12375f(0x5cd)]+'\x20('+this[_0x12375f(0x302)][_0x12375f(0x7a2)]+_0x12375f(0x285)),_0x3a949d;}catch(_0x3f782d){throw this[_0x12375f(0x186)][_0x12375f(0x4f8)](this[_0x12375f(0x5cd)]+'\x20('+this[_0x12375f(0x302)][_0x12375f(0x7a2)]+_0x12375f(0x6a0)+_0x3f782d[_0x12375f(0x1a5)]),_0x3f782d;}}async[a0_0x56f010(0x291)](_0x14f95b,_0x291dab,_0x884476){const _0xb49050=a0_0x56f010;this[_0xb49050(0x186)]['verbose'](this[_0xb49050(0x5cd)]+'\x20('+this[_0xb49050(0x302)][_0xb49050(0x7a2)]+_0xb49050(0x3a8)),await this[_0xb49050(0x1dd)](_0x291dab);try{let _0x43af19=require(_0xb49050(0x477))['ObjectId'],_0x6fed01=Date['now'](),_0x2704ed=_0xb49050(0x30f),_0x11eb75={},_0x21cd6a={},_0x25100f={..._0x14f95b,'chatLog':null},_0xb1d44f=await this[_0xb49050(0x589)](_0x25100f[_0xb49050(0x5f2)]),_0x347aa2=await this['getVariablesChat'](_0x291dab),_0x28d380={..._0xb1d44f,..._0x347aa2,'_remoteJid':_0x291dab},_0x4c416e={'lastReceivedMessage':_0x11eb75,'lastSendMessage':_0x21cd6a,'lastBlockId':_0x2704ed,'lastCondition':!0x0,'realVariables':_0x28d380};_0x25100f['chatLog']=_0x4c416e,_0x25100f[_0xb49050(0x6a3)][_0xb49050(0x362)]={..._0x28d380,..._0x884476},delete _0x25100f[_0xb49050(0x20e)],_0x25100f[_0xb49050(0x20e)]=new _0x43af19(),_0x25100f['lastInteraction']=_0x6fed01,_0x25100f[_0xb49050(0x1b0)]=_0xb49050(0x55a),_0x25100f['remoteJid']=_0x291dab;let _0x2d0262=await this['repository'][_0xb49050(0x736)][_0xb49050(0x4c4)](_0x25100f[_0xb49050(0x20e)],_0x25100f,this[_0xb49050(0x302)][_0xb49050(0x7a2)]);return this[_0xb49050(0x186)][_0xb49050(0x6db)](this[_0xb49050(0x5cd)]+'\x20('+this[_0xb49050(0x302)][_0xb49050(0x7a2)]+_0xb49050(0x7ad)),_0x2d0262?_0x25100f:null;}catch(_0x4949bb){throw this[_0xb49050(0x186)]['error'](this[_0xb49050(0x5cd)]+'\x20('+this[_0xb49050(0x302)]['wuid']+_0xb49050(0x240)+(_0x4949bb instanceof Error?_0x4949bb[_0xb49050(0x1a5)]:JSON[_0xb49050(0x1b7)](_0x4949bb,null,0x2))),new m(_0x4949bb['message']);}}async[a0_0x56f010(0x13b)](_0x477d90){const _0x17ea1d=a0_0x56f010;try{this['logger'][_0x17ea1d(0x6db)](this[_0x17ea1d(0x5cd)]+'\x20('+this['instance'][_0x17ea1d(0x7a2)]+_0x17ea1d(0x26b)),this[_0x17ea1d(0x186)]['verbose'](this[_0x17ea1d(0x5cd)]+'\x20('+this[_0x17ea1d(0x302)][_0x17ea1d(0x7a2)]+_0x17ea1d(0x3fe)+_0x477d90);let _0x20bca8={'where':{'_id':_0x477d90}};return await this['repository'][_0x17ea1d(0x736)]['findOne'](_0x20bca8,this[_0x17ea1d(0x302)][_0x17ea1d(0x7a2)]);}catch(_0x229201){throw this[_0x17ea1d(0x186)][_0x17ea1d(0x4f8)](this['instanceName']+'\x20('+this[_0x17ea1d(0x302)][_0x17ea1d(0x7a2)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x229201 instanceof Error?_0x229201['message']:JSON['stringify'](_0x229201,null,0x2))),new m(_0x17ea1d(0x61c)+_0x229201[_0x17ea1d(0x1a5)]);}}async[a0_0x56f010(0x3c4)](_0x5db209){const _0xb395a7=a0_0x56f010;try{return this[_0xb395a7(0x186)][_0xb395a7(0x6db)](this[_0xb395a7(0x5cd)]+'\x20('+this[_0xb395a7(0x302)][_0xb395a7(0x7a2)]+_0xb395a7(0x184)),await this[_0xb395a7(0x5b9)][_0xb395a7(0x736)][_0xb395a7(0x766)](_0x5db209,this[_0xb395a7(0x302)]['wuid']);}catch(_0x3e98d3){throw this[_0xb395a7(0x186)][_0xb395a7(0x4f8)](this[_0xb395a7(0x5cd)]+'\x20('+this[_0xb395a7(0x302)]['wuid']+_0xb395a7(0x381)+(_0x3e98d3 instanceof Error?_0x3e98d3[_0xb395a7(0x1a5)]:JSON[_0xb395a7(0x1b7)](_0x3e98d3,null,0x2))),new m(_0xb395a7(0x4c3)+_0x3e98d3['message']);}}async[a0_0x56f010(0x11f)](_0x4c6c7a){const _0x392677=a0_0x56f010;try{return this['logger']['verbose'](this[_0x392677(0x5cd)]+'\x20('+this[_0x392677(0x302)][_0x392677(0x7a2)]+_0x392677(0x14c)),this[_0x392677(0x186)][_0x392677(0x6db)](this['instanceName']+'\x20('+this['instance'][_0x392677(0x7a2)]+_0x392677(0x475)+_0x4c6c7a),(await this[_0x392677(0x5b9)][_0x392677(0x736)][_0x392677(0x50d)]({'where':{'_id':_0x4c6c7a}},this[_0x392677(0x302)]['wuid']))[_0x392677(0x364)]===0x0?{'message':_0x392677(0x277)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x56e32b){throw this[_0x392677(0x186)][_0x392677(0x4f8)](this['instanceName']+'\x20('+this[_0x392677(0x302)][_0x392677(0x7a2)]+_0x392677(0x713)+(_0x56e32b instanceof Error?_0x56e32b[_0x392677(0x1a5)]:JSON[_0x392677(0x1b7)](_0x56e32b,null,0x2))),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x56e32b['message']);}}async[a0_0x56f010(0x7a0)](_0xd5c997){const _0x88fd2c=a0_0x56f010;try{let {_id:_0x75bd49,chatLog:_0x174bfa,status:_0x4abc90}=_0xd5c997;if(!_0x75bd49)return{'message':_0x88fd2c(0x685)};let _0x4b4e3f={};if(_0x4abc90!==void 0x0&&(_0x4b4e3f['status']=_0x4abc90),Object[_0x88fd2c(0x37c)](_0x4b4e3f)['length']===0x0)return{'message':_0x88fd2c(0x420)};let _0x4234f5=await this[_0x88fd2c(0x5b9)][_0x88fd2c(0x736)][_0x88fd2c(0x4c4)](_0x75bd49,_0x4b4e3f,this[_0x88fd2c(0x302)][_0x88fd2c(0x7a2)]);return _0x4234f5||{'message':_0x88fd2c(0x2c1)};}catch(_0xa01903){throw this['logger']['error'](this[_0x88fd2c(0x5cd)]+'\x20('+this['instance'][_0x88fd2c(0x7a2)]+_0x88fd2c(0x62a)+(_0xa01903 instanceof Error?_0xa01903['message']:JSON[_0x88fd2c(0x1b7)](_0xa01903,null,0x2))),new m(_0x88fd2c(0x22f)+_0xa01903[_0x88fd2c(0x1a5)]);}}async[a0_0x56f010(0x502)](_0x3c7b28){const _0x42103c=a0_0x56f010;let _0x5db95f=await this[_0x42103c(0x5b9)][_0x42103c(0x48d)][_0x42103c(0x2a7)]({'where':{'_id':_0x3c7b28[_0x42103c(0x20e)]}},this['instance'][_0x42103c(0x7a2)]);if(!_0x5db95f)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');console[_0x42103c(0x125)](_0x3c7b28);try{_0x3c7b28[_0x42103c(0x20e)]=this[_0x42103c(0x708)](_0x3c7b28[_0x42103c(0x20e)]);let {_id:_0x3a0c44,leadInfo:_0xdbd27a}=_0x3c7b28;if(!_0x3a0c44)throw new Error(_0x42103c(0x587));let _0x1cfcd5=(_0x53403b,_0x5778e6,_0x4f063d)=>{const _0x17a78f=_0x42103c;_0x53403b&&_0x4f063d[_0x17a78f(0x147)](_0x48e0c0=>{const _0x3fc9e1=_0x17a78f;_0x53403b[_0x48e0c0]!==void 0x0&&(_0x5778e6[_0x3fc9e1(0x73b)+_0x48e0c0]=_0x53403b[_0x48e0c0]);});},_0x1f201e={};if(_0xdbd27a&&(_0x1cfcd5(_0xdbd27a,_0x1f201e,[_0x42103c(0x72f),_0x42103c(0x5f5),_0x42103c(0x35b),'cpf',_0x42103c(0x1b0),'notas',_0x42103c(0x722),'atendimentoAberto',_0x42103c(0x2b7),_0x42103c(0x42c)]),Array[_0x42103c(0x5f1)](_0xdbd27a['customFields'])&&(_0x1f201e['leadInfo.customFields']=_0xdbd27a[_0x42103c(0x40e)][_0x42103c(0x1ef)](_0x586cbd=>({'_id':_0x586cbd[_0x42103c(0x20e)],'value':_0x586cbd['value']}))),_0x3c7b28[_0x42103c(0x5ad)]['etiquetas']!==void 0x0)){let _0x26c028=await this[_0x42103c(0x5b9)][_0x42103c(0x5a5)]['find']({'where':{}},this[_0x42103c(0x302)][_0x42103c(0x7a2)]),_0x313e48=new Set(_0x3c7b28[_0x42103c(0x5ad)]['etiquetas']||[]),_0xa12a5e=new Set(_0x3c7b28[_0x42103c(0x5ad)]['etiquetas']),_0xab1baf=new Set(_0x26c028[_0x42103c(0x1ef)](_0x148525=>_0x148525[_0x42103c(0x20e)])),_0x42a78e=[..._0xa12a5e][_0x42103c(0x336)](_0x4716db=>!_0x313e48['has'](_0x4716db)&&_0xab1baf['has'](_0x4716db)),_0x48b1ff=[..._0x313e48]['filter'](_0x2bec02=>!_0xa12a5e[_0x42103c(0x428)](_0x2bec02));if(_0x1f201e[_0x42103c(0x634)]=[..._0x313e48],_0x5db95f&&!_0x5db95f[_0x42103c(0x4f4)]){for(let _0x1e67e9 of _0x42a78e)await this[_0x42103c(0x49f)](_0x1e67e9,_0x3c7b28['_id']),_0x313e48[_0x42103c(0x503)](_0x1e67e9);for(let _0x1a219a of _0x48b1ff)await this['RemoveChatLabel'](_0x1a219a,_0x3c7b28[_0x42103c(0x20e)]),_0x313e48['delete'](_0x1a219a);}}if(_0x3c7b28['unreadcount']!==void 0x0&&(_0x1f201e[_0x42103c(0x60e)]=Number(_0x3c7b28[_0x42103c(0x60e)])),Object['keys'](_0x1f201e)['length']===0x0)throw new Error(_0x42103c(0x420));let _0x1290bd=await this[_0x42103c(0x5b9)][_0x42103c(0x48d)]['updateOne']({'where':{'_id':_0x3c7b28[_0x42103c(0x20e)]}},_0x1f201e,this[_0x42103c(0x302)][_0x42103c(0x7a2)]);return _0x1290bd&&J(this[_0x42103c(0x5cd)],'chats',{'chat':_0x1290bd}),_0x1290bd?(this[_0x42103c(0x186)][_0x42103c(0x6db)](this[_0x42103c(0x5cd)]+'\x20('+this['instance'][_0x42103c(0x7a2)]+'):\x20'+JSON['stringify'](_0x1290bd,null,0x2)),_0x1290bd):{'message':_0x42103c(0x33c)};}catch(_0x38a819){throw this[_0x42103c(0x186)][_0x42103c(0x4f8)](this['instanceName']+'\x20('+this[_0x42103c(0x302)]['wuid']+_0x42103c(0x536)+(_0x38a819 instanceof Error?_0x38a819[_0x42103c(0x1a5)]:JSON['stringify'](_0x38a819,null,0x2))),new m(_0x42103c(0x412)+_0x38a819[_0x42103c(0x1a5)]);}}async[a0_0x56f010(0x49f)](_0x97bb1c,_0x29015b){const _0x4fbc48=a0_0x56f010;try{await this[_0x4fbc48(0x733)][_0x4fbc48(0x701)](_0x29015b,_0x97bb1c),console[_0x4fbc48(0x125)](_0x4fbc48(0x460)+_0x97bb1c+_0x4fbc48(0x295)+_0x29015b+_0x4fbc48(0x48f));}catch(_0x54decc){console[_0x4fbc48(0x4f8)](_0x4fbc48(0x6e7)+_0x97bb1c+_0x4fbc48(0x493)+_0x29015b+':',_0x54decc);}}async[a0_0x56f010(0x2fb)](_0x5937b6,_0x139c19){const _0x2e762a=a0_0x56f010;try{await this['client'][_0x2e762a(0x74c)](_0x139c19,_0x5937b6),console[_0x2e762a(0x125)](_0x2e762a(0x460)+_0x5937b6+_0x2e762a(0x468)+_0x139c19+_0x2e762a(0x48f));}catch(_0x3c3519){console[_0x2e762a(0x4f8)](_0x2e762a(0x482)+_0x5937b6+_0x2e762a(0x788)+_0x139c19+':',_0x3c3519);}}async[a0_0x56f010(0x3da)](_0x3d8509){const _0x5a8d4a=a0_0x56f010;try{let _0x5f14bf=await this[_0x5a8d4a(0x5b9)][_0x5a8d4a(0x3d3)][_0x5a8d4a(0x3a1)](this['instance'][_0x5a8d4a(0x7a2)]),_0x486469=_0x3d8509[_0x5a8d4a(0x20e)]?_0x5f14bf[_0x5a8d4a(0x442)][_0x5a8d4a(0x447)](_0x164043=>_0x164043[_0x5a8d4a(0x20e)]===_0x3d8509[_0x5a8d4a(0x20e)]):-0x1;if(_0x3d8509[_0x5a8d4a(0x2d3)]&&_0x486469>-0x1)_0x5f14bf[_0x5a8d4a(0x442)][_0x5a8d4a(0x43f)](_0x486469,0x1);else{if(_0x486469>-0x1){let _0x1c1933=_0x5f14bf[_0x5a8d4a(0x442)][_0x486469];_0x3d8509['fone']&&(_0x1c1933['fone']=_0x3d8509[_0x5a8d4a(0x2ac)]),_0x3d8509['name']&&(_0x1c1933['name']=_0x3d8509[_0x5a8d4a(0x3c0)]),_0x3d8509[_0x5a8d4a(0x35b)]&&(_0x1c1933[_0x5a8d4a(0x35b)]=_0x3d8509['email']),_0x3d8509[_0x5a8d4a(0x3c3)]&&(_0x1c1933[_0x5a8d4a(0x3c3)]=_0x3d8509['role']);}else _0x5f14bf[_0x5a8d4a(0x442)][_0x5a8d4a(0x143)]({'_id':_0x3d8509[_0x5a8d4a(0x20e)]||new ie['default'][(_0x5a8d4a(0x690))]['ObjectId']()[_0x5a8d4a(0x4c5)](),'fone':_0x3d8509[_0x5a8d4a(0x2ac)],'name':_0x3d8509['name'],'email':_0x3d8509[_0x5a8d4a(0x35b)],'role':_0x3d8509['role']});}let _0x1771fb={'agents':_0x5f14bf[_0x5a8d4a(0x442)]},_0x4a4745=await this['repository'][_0x5a8d4a(0x3d3)][_0x5a8d4a(0x189)](_0x1771fb,this[_0x5a8d4a(0x302)][_0x5a8d4a(0x7a2)]);return this[_0x5a8d4a(0x32d)]=_0x4a4745,this['logger'][_0x5a8d4a(0x6db)](this['instanceName']+'\x20('+this[_0x5a8d4a(0x302)]['wuid']+_0x5a8d4a(0x4ee)),this[_0x5a8d4a(0x186)][_0x5a8d4a(0x6db)](this[_0x5a8d4a(0x5cd)]+'\x20('+this[_0x5a8d4a(0x302)][_0x5a8d4a(0x7a2)]+'):\x20'+this[_0x5a8d4a(0x32d)]),_0x4a4745;}catch(_0x5c5f20){throw this['logger'][_0x5a8d4a(0x4f8)](this[_0x5a8d4a(0x5cd)]+'\x20('+this[_0x5a8d4a(0x302)]['wuid']+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x5c5f20 instanceof Error?_0x5c5f20[_0x5a8d4a(0x1a5)]:JSON[_0x5a8d4a(0x1b7)](_0x5c5f20,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x5c5f20[_0x5a8d4a(0x1a5)]);}}async[a0_0x56f010(0x3b4)](_0x590494){const _0x1142b1=a0_0x56f010;try{let _0x2b8f2d=await this[_0x1142b1(0x5b9)][_0x1142b1(0x3d3)][_0x1142b1(0x3a1)](this[_0x1142b1(0x302)]['wuid']),_0x4e434a=_0x590494[_0x1142b1(0x20e)]?_0x2b8f2d[_0x1142b1(0x40e)][_0x1142b1(0x447)](_0xd162ae=>_0xd162ae['_id']===_0x590494[_0x1142b1(0x20e)]):-0x1,_0x2e5510=!0x1,_0x33364b=_0x2b8f2d[_0x1142b1(0x40e)][_0x1142b1(0x15f)](_0x2feb37=>_0x2feb37['order']===_0x590494[_0x1142b1(0x687)]);if(_0x590494[_0x1142b1(0x2d3)]&&_0x4e434a>-0x1)_0x2b8f2d['customFields'][_0x1142b1(0x43f)](_0x4e434a,0x1),_0x2e5510=!0x0;else{if(_0x4e434a>-0x1){if(_0x2b8f2d[_0x1142b1(0x40e)]['some'](_0x67790f=>_0x67790f[_0x1142b1(0x3c0)]===_0x590494[_0x1142b1(0x3c0)]&&_0x67790f[_0x1142b1(0x20e)]!==_0x590494[_0x1142b1(0x20e)]))throw new Error(_0x1142b1(0x1e1));let _0x385c3a=_0x2b8f2d['customFields'][_0x4e434a];_0x590494[_0x1142b1(0x687)]&&(_0x33364b||!Number[_0x1142b1(0x2d8)](_0x590494['order']))&&(_0x385c3a[_0x1142b1(0x687)]=_0x590494[_0x1142b1(0x687)],_0x2e5510=!0x0),_0x590494[_0x1142b1(0x3c0)]&&(_0x385c3a[_0x1142b1(0x3c0)]=_0x590494[_0x1142b1(0x3c0)]);}else{if(_0x2b8f2d[_0x1142b1(0x40e)]['some'](_0x1a8ae1=>_0x1a8ae1[_0x1142b1(0x3c0)]===_0x590494['name']&&_0x1a8ae1[_0x1142b1(0x20e)]!==_0x590494[_0x1142b1(0x20e)]))throw new Error(_0x1142b1(0x1e1));_0x2b8f2d[_0x1142b1(0x40e)]['push']({'_id':_0x590494[_0x1142b1(0x20e)]||new ie[(_0x1142b1(0x34a))][(_0x1142b1(0x690))][(_0x1142b1(0x4ad))]()[_0x1142b1(0x4c5)](),'order':_0x590494[_0x1142b1(0x687)],'name':_0x590494[_0x1142b1(0x3c0)]}),_0x2e5510=!0x0;}}if(_0x2e5510){_0x2b8f2d[_0x1142b1(0x40e)][_0x1142b1(0x537)]((_0x364312,_0x1ba392)=>_0x364312[_0x1142b1(0x687)]>_0x1ba392['order']?0x1:_0x1ba392[_0x1142b1(0x687)]>_0x364312[_0x1142b1(0x687)]?-0x1:0x0);for(let _0xf6cea6=0x0;_0xf6cea6<_0x2b8f2d[_0x1142b1(0x40e)]['length'];_0xf6cea6++)_0x2b8f2d[_0x1142b1(0x40e)][_0xf6cea6]['order']=_0xf6cea6+0x1;}let _0x1e06de=await this[_0x1142b1(0x5b9)]['automateSystem'][_0x1142b1(0x189)](_0x2b8f2d,this[_0x1142b1(0x302)]['wuid']);return this['AutomateSystem']=_0x1e06de,this[_0x1142b1(0x186)][_0x1142b1(0x6db)](this[_0x1142b1(0x5cd)]+'\x20('+this['instance'][_0x1142b1(0x7a2)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x1142b1(0x186)][_0x1142b1(0x6db)](this['instanceName']+'\x20('+this[_0x1142b1(0x302)][_0x1142b1(0x7a2)]+_0x1142b1(0x609)+this[_0x1142b1(0x32d)]),_0x1e06de;}catch(_0x320a3d){throw this[_0x1142b1(0x186)]['error'](this[_0x1142b1(0x5cd)]+'\x20('+this['instance'][_0x1142b1(0x7a2)]+_0x1142b1(0x6fb)+(_0x320a3d instanceof Error?_0x320a3d['message']:JSON['stringify'](_0x320a3d,null,0x2))),new m(_0x1142b1(0x72d)+_0x320a3d[_0x1142b1(0x1a5)]);}}async[a0_0x56f010(0x24f)](_0x4b2bc6){const _0x1d7e47=a0_0x56f010;try{let _0x2cceba=await this[_0x1d7e47(0x5b9)]['automateSystem'][_0x1d7e47(0x3a1)](this[_0x1d7e47(0x302)][_0x1d7e47(0x7a2)]);if(!_0x2cceba)throw new Error(_0x1d7e47(0x657));let _0x54aa6e={'_id':_0x2cceba[_0x1d7e47(0x20e)],'flowConfig':{'enabled':_0x4b2bc6[_0x1d7e47(0x461)]??_0x2cceba[_0x1d7e47(0x288)][_0x1d7e47(0x461)],'ignoreGroups':_0x4b2bc6[_0x1d7e47(0x505)]??_0x2cceba[_0x1d7e47(0x288)][_0x1d7e47(0x505)],'prefixCommand':_0x4b2bc6[_0x1d7e47(0x666)]??_0x2cceba[_0x1d7e47(0x288)][_0x1d7e47(0x666)],'stopConversation':_0x4b2bc6[_0x1d7e47(0x21b)]??_0x2cceba[_0x1d7e47(0x288)][_0x1d7e47(0x21b)],'stopMinutes':_0x4b2bc6['stopMinutes']??_0x2cceba[_0x1d7e47(0x288)][_0x1d7e47(0x42d)],'stopWhenYouSendMsg':_0x4b2bc6[_0x1d7e47(0x517)]??_0x2cceba['flowConfig'][_0x1d7e47(0x517)]}},_0x346996=await this['repository']['automateSystem'][_0x1d7e47(0x189)](_0x54aa6e,this[_0x1d7e47(0x302)][_0x1d7e47(0x7a2)]);return this[_0x1d7e47(0x32d)]=_0x346996,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1d7e47(0x302)][_0x1d7e47(0x7a2)]+_0x1d7e47(0x4ee)),this[_0x1d7e47(0x186)][_0x1d7e47(0x6db)](this['instanceName']+'\x20('+this[_0x1d7e47(0x302)]['wuid']+_0x1d7e47(0x609)+this[_0x1d7e47(0x32d)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x346996;}catch(_0x43920d){throw this[_0x1d7e47(0x186)][_0x1d7e47(0x4f8)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x43920d instanceof Error?_0x43920d['message']:JSON[_0x1d7e47(0x1b7)](_0x43920d,null,0x2))),new m(_0x1d7e47(0x65b)+_0x43920d['message']);}}async['getAutomateSystem'](){const _0x3c915f=a0_0x56f010;try{let _0x5984bc=await this[_0x3c915f(0x5b9)][_0x3c915f(0x3d3)][_0x3c915f(0x3a1)](this['instance'][_0x3c915f(0x7a2)]);return this[_0x3c915f(0x32d)]=_0x5984bc,this[_0x3c915f(0x186)][_0x3c915f(0x6db)](this['instanceName']+'\x20('+this[_0x3c915f(0x302)][_0x3c915f(0x7a2)]+_0x3c915f(0x433)),this['logger'][_0x3c915f(0x6db)](this['AutomateSystem']),_0x5984bc;}catch(_0x36f4d1){throw this['logger'][_0x3c915f(0x4f8)](this[_0x3c915f(0x5cd)]+'\x20('+this[_0x3c915f(0x302)][_0x3c915f(0x7a2)]+_0x3c915f(0x141)+(_0x36f4d1 instanceof Error?_0x36f4d1['message']:JSON[_0x3c915f(0x1b7)](_0x36f4d1,null,0x2))),new m(_0x3c915f(0x182)+_0x36f4d1[_0x3c915f(0x1a5)]);}}async[a0_0x56f010(0x662)](){const _0x27717f=a0_0x56f010;this[_0x27717f(0x4af)]&&clearTimeout(this[_0x27717f(0x4af)]),this[_0x27717f(0x4af)]=setTimeout(()=>{const _0x2ac6d2=_0x27717f;this[_0x2ac6d2(0x6da)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x56f010(0x6da)](){const _0x51590f=a0_0x56f010;Date[_0x51590f(0x203)]()-this[_0x51590f(0x34d)]>=0x1d4c0&&(this[_0x51590f(0x186)]['verbose'](this['instanceName']+'\x20('+this[_0x51590f(0x302)][_0x51590f(0x7a2)]+_0x51590f(0x191)),this['processingScheduleMessageId']=null,this[_0x51590f(0x34d)]=0x0,this[_0x51590f(0x483)]=0x0,await this['scheduleNextCheck']());}async[a0_0x56f010(0x2e1)](){const _0x40a491=a0_0x56f010;let _0x210f49=()=>{const _0x2aa2c5=a0_0x4a73;this['logger'][_0x2aa2c5(0x6db)](this[_0x2aa2c5(0x5cd)]+'\x20('+this['instance'][_0x2aa2c5(0x7a2)]+_0x2aa2c5(0x50f)+this[_0x2aa2c5(0x3e8)]+'\x20saindo\x20da\x20função');},_0x463be3=async()=>{const _0x28a65c=a0_0x4a73;this[_0x28a65c(0x186)][_0x28a65c(0x6db)](this['instanceName']+'\x20('+this['instance'][_0x28a65c(0x7a2)]+_0x28a65c(0x32b));let _0x250602=Date[_0x28a65c(0x203)]()-0xc*0x3c*0x3c*0x3e8,_0x3961c8={'where':{'status':{'$in':[_0x28a65c(0x2fd),_0x28a65c(0x454)]},'$or':[{'when':{'$lte':Date[_0x28a65c(0x203)](),'$gte':_0x250602}},{'when':0x0}]}};return await this[_0x28a65c(0x5b9)][_0x28a65c(0x6e2)][_0x28a65c(0x766)](_0x3961c8,this['instance']['wuid']);},_0x5bdef0=async _0x3bf902=>{const _0x1e16b4=a0_0x4a73;for(let _0x5f269b of _0x3bf902){let _0x45a99d={'_id':_0x5f269b[_0x1e16b4(0x20e)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x19639f={'startSend':Date['now']()};if(!await this['repository'][_0x1e16b4(0x6e2)]['updateOne'](_0x45a99d,_0x19639f,this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]))return;if(!this[_0x1e16b4(0x59f)]){this[_0x1e16b4(0x186)]['verbose'](this[_0x1e16b4(0x5cd)]+'\x20('+this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]+_0x1e16b4(0x242));break;}if(_0x5f269b[_0x1e16b4(0x270)]===_0x1e16b4(0x15b)&&!this[_0x1e16b4(0x32d)]?.[_0x1e16b4(0x288)][_0x1e16b4(0x461)]){this[_0x1e16b4(0x186)][_0x1e16b4(0x4f8)](this[_0x1e16b4(0x5cd)]+'\x20('+this[_0x1e16b4(0x302)]['wuid']+_0x1e16b4(0x43c));continue;}(!_0x5f269b['remoteJidsRemaining']||_0x5f269b[_0x1e16b4(0x3ec)][_0x1e16b4(0x17a)]===0x0)&&(_0x5f269b=await this[_0x1e16b4(0x5b9)][_0x1e16b4(0x6e2)][_0x1e16b4(0x123)](_0x5f269b[_0x1e16b4(0x20e)],{'status':_0x1e16b4(0x454),'remoteJidsRemaining':[..._0x5f269b['remoteJids']]},this[_0x1e16b4(0x302)]['wuid']));for(let _0x1d9fc8 of _0x5f269b['remoteJidsRemaining']){if(await this[_0x1e16b4(0x662)](),this[_0x1e16b4(0x34d)]=Date[_0x1e16b4(0x203)](),_0x5f269b[_0x1e16b4(0x739)][_0x1e16b4(0x15f)](_0x3d7924=>_0x3d7924[_0x1e16b4(0x29f)]===_0x1d9fc8)){this[_0x1e16b4(0x186)][_0x1e16b4(0x6db)](this['instanceName']+'\x20('+this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]+_0x1e16b4(0x1d2)+_0x1d9fc8+_0x1e16b4(0x71e));continue;}if(!this['isConnected']){this['logger'][_0x1e16b4(0x6db)](this['instanceName']+'\x20('+this['instance'][_0x1e16b4(0x7a2)]+_0x1e16b4(0x24b));break;}if(!this['processingScheduleMessageId']){this[_0x1e16b4(0x186)][_0x1e16b4(0x6db)](this[_0x1e16b4(0x5cd)]+'\x20('+this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]+_0x1e16b4(0x2c5)+_0x5f269b[_0x1e16b4(0x20e)]+_0x1e16b4(0x6b9));break;}if(_0x5f269b[_0x1e16b4(0x270)]===_0x1e16b4(0x15b)&&!this[_0x1e16b4(0x32d)]?.[_0x1e16b4(0x288)][_0x1e16b4(0x461)]){this[_0x1e16b4(0x186)][_0x1e16b4(0x4f8)](this[_0x1e16b4(0x5cd)]+'\x20('+this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]+_0x1e16b4(0x43c));break;}let _0x31cb71={'remoteJid':_0x1d9fc8,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x1e16b4(0x203)]()},_0x5e33e6=null;try{let _0x439813=await this[_0x1e16b4(0x6e9)](_0x1d9fc8,_0x5f269b);_0x31cb71[_0x1e16b4(0x4f8)]=_0x439813[_0x1e16b4(0x4f8)],_0x31cb71['id']=_0x439813['error']?null:_0x439813['id'],_0x31cb71[_0x1e16b4(0x59a)]=_0x439813[_0x1e16b4(0x4f8)]?_0x439813[_0x1e16b4(0x2b9)]?_0x439813[_0x1e16b4(0x2b9)][_0x1e16b4(0x4c5)]():'':null;let _0x1a2070={'$push':{'messagesSend':_0x31cb71},'$pull':{'remoteJidsRemaining':_0x1d9fc8}},_0x1299b6=_0x5f269b[_0x1e16b4(0x20e)];if(_0x5e33e6=await this[_0x1e16b4(0x5b9)][_0x1e16b4(0x6e2)]['updateOneById'](_0x1299b6,_0x1a2070,this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]),_0x439813[_0x1e16b4(0x4f8)])continue;let _0x55dbfb=this[_0x1e16b4(0x2bb)](_0x5f269b[_0x1e16b4(0x33f)],_0x5f269b[_0x1e16b4(0x1ae)]);await this[_0x1e16b4(0x1c6)](_0x55dbfb);}catch(_0x63ea9b){this['logger'][_0x1e16b4(0x4f8)](this[_0x1e16b4(0x5cd)]+'\x20('+this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]+_0x1e16b4(0x3d5)+_0x1d9fc8+':\x20'+(_0x63ea9b instanceof Error?_0x63ea9b[_0x1e16b4(0x1a5)]:JSON[_0x1e16b4(0x1b7)](_0x63ea9b,null,0x2))),_0x31cb71[_0x1e16b4(0x4f8)]=!0x0,_0x31cb71[_0x1e16b4(0x59a)]=_0x63ea9b['message'];let _0xabd48={'$push':{'messagesSend':_0x31cb71},'$pull':{'remoteJidsRemaining':_0x1d9fc8}},_0x3cb639=_0x5f269b[_0x1e16b4(0x20e)];_0x5e33e6=await this['repository'][_0x1e16b4(0x6e2)][_0x1e16b4(0x123)](_0x3cb639,_0xabd48,this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]);}finally{if(_0x5e33e6&&_0x5e33e6[_0x1e16b4(0x1b0)]===_0x1e16b4(0x2a0)){this['logger'][_0x1e16b4(0x6db)](this[_0x1e16b4(0x5cd)]+'\x20('+this[_0x1e16b4(0x302)]['wuid']+_0x1e16b4(0x2c5)+_0x5f269b[_0x1e16b4(0x20e)]+_0x1e16b4(0x19f));break;}}}let _0xcca6e8=await this[_0x1e16b4(0x5b9)][_0x1e16b4(0x6e2)][_0x1e16b4(0x42b)](_0x5f269b[_0x1e16b4(0x20e)],this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]);if(_0xcca6e8[_0x1e16b4(0x3ec)][_0x1e16b4(0x17a)]===0x0&&_0xcca6e8[_0x1e16b4(0x1b0)]!==_0x1e16b4(0x2a0)){let _0x15a375={'$set':{'status':'done'}},_0x5872f7=_0xcca6e8[_0x1e16b4(0x20e)];await this[_0x1e16b4(0x5b9)]['scheduleMessage'][_0x1e16b4(0x123)](_0x5872f7,_0x15a375,this[_0x1e16b4(0x302)][_0x1e16b4(0x7a2)]);}await new Promise(_0x426fa8=>setTimeout(_0x426fa8,0x1388));}},_0x3c6c63=async()=>{const _0x5a7d67=a0_0x4a73;let _0x2f8ebe={'where':{'status':_0x5a7d67(0x2fd),'when':{'$gt':Date[_0x5a7d67(0x203)]()}}},_0x35b5db=await this[_0x5a7d67(0x5b9)]['scheduleMessage'][_0x5a7d67(0x2a7)](_0x2f8ebe,this[_0x5a7d67(0x302)][_0x5a7d67(0x7a2)]);_0x35b5db&&_0x35b5db['when']-Date[_0x5a7d67(0x203)]()<=0x5265c00?this['delayMessage']=_0x35b5db['when']-Date[_0x5a7d67(0x203)]():this[_0x5a7d67(0x483)]=(0x3c+Math[_0x5a7d67(0x716)](Math['random']()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x5a7d67(0x66a)](this[_0x5a7d67(0x483)],0x7d0);let _0x51b0d2=Math[_0x5a7d67(0x6a5)](this[_0x5a7d67(0x483)]/0xea60);if(_0x35b5db){let _0x140f68=new Date(_0x35b5db[_0x5a7d67(0x47f)])[_0x5a7d67(0x3e6)]();this[_0x5a7d67(0x186)][_0x5a7d67(0x6db)](this['instanceName']+'\x20('+this[_0x5a7d67(0x302)][_0x5a7d67(0x7a2)]+_0x5a7d67(0x42e)+_0x140f68+_0x5a7d67(0x504)+_0x51b0d2+_0x5a7d67(0x582));}else this[_0x5a7d67(0x186)][_0x5a7d67(0x6db)](this[_0x5a7d67(0x5cd)]+'\x20('+this[_0x5a7d67(0x302)][_0x5a7d67(0x7a2)]+_0x5a7d67(0x385)+_0x51b0d2+_0x5a7d67(0x582));setTimeout(()=>this[_0x5a7d67(0x2e1)](),this[_0x5a7d67(0x483)]);};if(this['processingScheduleMessageId']){await this['setRestartTimer'](),_0x210f49();return;}if(!this['isConnected']){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x40a491(0x302)][_0x40a491(0x7a2)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x40a491(0x3e8)]=null,this[_0x40a491(0x34d)]=0x0,this[_0x40a491(0x483)]=0x0;return;}try{let _0x368c60=await _0x463be3();_0x368c60[_0x40a491(0x17a)]===0x0?this['logger'][_0x40a491(0x6db)](this['instanceName']+'\x20('+this[_0x40a491(0x302)][_0x40a491(0x7a2)]+_0x40a491(0x32a)):(this[_0x40a491(0x3e8)]=_0x368c60[0x0][_0x40a491(0x20e)],await _0x5bdef0(_0x368c60)),await _0x3c6c63(),this[_0x40a491(0x3e8)]=null;}catch(_0x1dc172){this[_0x40a491(0x186)]['error'](_0x40a491(0x5da)+(_0x1dc172 instanceof Error?_0x1dc172['message']:JSON['stringify'](_0x1dc172,null,0x2)));}}[a0_0x56f010(0x2bb)](_0x2d8328,_0x4107d1){const _0x38df81=a0_0x56f010;return _0x2d8328=Math[_0x38df81(0x66a)](0.5,_0x2d8328),_0x4107d1=Math[_0x38df81(0x706)](Math['max'](0x3,_0x4107d1),0x78),Math[_0x38df81(0x716)](Math[_0x38df81(0x2f6)]()*(_0x4107d1-_0x2d8328+0x1)+_0x2d8328)*0x3e8;}[a0_0x56f010(0x1c6)](_0x3ae874){return new Promise(_0x55253e=>setTimeout(_0x55253e,_0x3ae874));}async['getVariablesChat'](_0xa070a8){const _0x44e0ed=a0_0x56f010;if(!this[_0x44e0ed(0x32d)]&&(await this[_0x44e0ed(0x6ea)](),!this[_0x44e0ed(0x32d)]))return null;_0xa070a8=this[_0x44e0ed(0x708)](_0xa070a8);let _0x148d18=await this[_0x44e0ed(0x5b9)][_0x44e0ed(0x48d)]['findOne']({'where':{'_id':_0xa070a8}},this['instance'][_0x44e0ed(0x7a2)]),_0x26d13c={};if(_0x148d18&&_0x148d18[_0x44e0ed(0x5ad)]){let _0x404a58=_0x148d18['leadInfo'];typeof _0x404a58[_0x44e0ed(0x72f)]==_0x44e0ed(0x140)&&(_0x26d13c[_0x44e0ed(0x72f)]=_0x404a58['nome']),typeof _0x404a58[_0x44e0ed(0x5f5)]==_0x44e0ed(0x140)&&(_0x26d13c[_0x44e0ed(0x5f5)]=_0x404a58['nomecompleto']),typeof _0x404a58[_0x44e0ed(0x35b)]==_0x44e0ed(0x140)&&(_0x26d13c[_0x44e0ed(0x35b)]=_0x404a58[_0x44e0ed(0x35b)]),typeof _0x404a58[_0x44e0ed(0x69f)]==_0x44e0ed(0x140)&&(_0x26d13c[_0x44e0ed(0x69f)]=_0x404a58[_0x44e0ed(0x69f)]),typeof _0x404a58[_0x44e0ed(0x1b0)]=='string'&&(_0x26d13c[_0x44e0ed(0x1b0)]=_0x404a58[_0x44e0ed(0x1b0)]),typeof _0x404a58['notas']==_0x44e0ed(0x140)&&(_0x26d13c[_0x44e0ed(0x712)]=_0x404a58[_0x44e0ed(0x712)]),typeof _0x404a58['responsavelid']==_0x44e0ed(0x140)&&(_0x26d13c[_0x44e0ed(0x2b7)]=_0x404a58[_0x44e0ed(0x2b7)]),Array[_0x44e0ed(0x5f1)](_0x404a58[_0x44e0ed(0x722)])&&(_0x26d13c[_0x44e0ed(0x722)]=_0x404a58[_0x44e0ed(0x722)][_0x44e0ed(0x4c2)](',\x20')),Array[_0x44e0ed(0x5f1)](_0x404a58[_0x44e0ed(0x42c)])&&(_0x26d13c['etiquetas']=_0x404a58[_0x44e0ed(0x42c)][_0x44e0ed(0x4c2)](',\x20'));}return _0x148d18&&_0x148d18[_0x44e0ed(0x5ad)]&&_0x148d18[_0x44e0ed(0x5ad)][_0x44e0ed(0x40e)]&&_0x148d18[_0x44e0ed(0x5ad)][_0x44e0ed(0x40e)][_0x44e0ed(0x147)](_0x157d9c=>{const _0x1ab268=_0x44e0ed;let _0x8352d0=this[_0x1ab268(0x32d)]?.['customFields'][_0x1ab268(0x766)](_0x393d7e=>_0x393d7e[_0x1ab268(0x20e)]===_0x157d9c['_id']);_0x8352d0&&(_0x26d13c[_0x8352d0[_0x1ab268(0x3c0)]]=_0x157d9c[_0x1ab268(0x128)]);}),_0x26d13c;}async[a0_0x56f010(0x39f)](_0x3cb756,_0x3acc2d){const _0x2e7629=a0_0x56f010;let _0x5a4a23=await this[_0x2e7629(0x6f8)](_0x3acc2d);return this[_0x2e7629(0x602)](_0x3cb756,_0x5a4a23);}async['editScheduleMessage'](_0x328137){const _0x5bc121=a0_0x56f010;try{if(this[_0x5bc121(0x186)][_0x5bc121(0x6db)](this[_0x5bc121(0x5cd)]+'\x20('+this['instance'][_0x5bc121(0x7a2)]+_0x5bc121(0x153)),_0x328137[_0x5bc121(0x2d3)]&&_0x328137[_0x5bc121(0x20e)]){if(this['processingScheduleMessageId']===_0x328137[_0x5bc121(0x20e)][_0x5bc121(0x4c5)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x4d62ef=await this[_0x5bc121(0x5b9)][_0x5bc121(0x6e2)]['deleteOne'](_0x328137[_0x5bc121(0x20e)],this['instance'][_0x5bc121(0x7a2)]);return setTimeout(()=>this[_0x5bc121(0x2e1)](),0x7d0),_0x4d62ef;}let _0x5b1c4e;if(_0x328137[_0x5bc121(0x20e)]&&(_0x5b1c4e=await this[_0x5bc121(0x5b9)][_0x5bc121(0x6e2)][_0x5bc121(0x42b)](_0x328137['_id'],this[_0x5bc121(0x302)][_0x5bc121(0x7a2)])),_0x5b1c4e){let _0x548da6;if(this[_0x5bc121(0x3e8)]===_0x5b1c4e[_0x5bc121(0x20e)][_0x5bc121(0x4c5)]())_0x548da6={'$set':{'status':_0x328137['status']}};else{let {_id:_0x475a25,..._0x9d8218}=_0x328137;_0x548da6={'$set':_0x9d8218};}let _0x48f419=await this[_0x5bc121(0x5b9)][_0x5bc121(0x6e2)]['updateOneById'](_0x328137[_0x5bc121(0x20e)],_0x548da6,this[_0x5bc121(0x302)][_0x5bc121(0x7a2)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x48f419;}else{_0x328137[_0x5bc121(0x306)]=this[_0x5bc121(0x302)][_0x5bc121(0x7a2)];let _0x3ed437=await this[_0x5bc121(0x5b9)][_0x5bc121(0x6e2)][_0x5bc121(0x172)](_0x328137,this[_0x5bc121(0x302)][_0x5bc121(0x7a2)]);return setTimeout(()=>this[_0x5bc121(0x2e1)](),0x7d0),_0x3ed437;}}catch(_0x2f562f){throw this[_0x5bc121(0x186)][_0x5bc121(0x4f8)](this[_0x5bc121(0x5cd)]+'\x20('+this[_0x5bc121(0x302)]['wuid']+_0x5bc121(0x12f)+(_0x2f562f instanceof Error?_0x2f562f['message']:JSON[_0x5bc121(0x1b7)](_0x2f562f,null,0x2))),new m(_0x5bc121(0x494)+_0x2f562f[_0x5bc121(0x1a5)]);}}async[a0_0x56f010(0x44c)](){const _0x18548=a0_0x56f010;try{return await this[_0x18548(0x5b9)][_0x18548(0x6e2)][_0x18548(0x766)]({'where':{}},this[_0x18548(0x302)][_0x18548(0x7a2)]);}catch(_0x5c1ac5){throw this[_0x18548(0x186)][_0x18548(0x4f8)](this[_0x18548(0x5cd)]+'\x20('+this[_0x18548(0x302)][_0x18548(0x7a2)]+_0x18548(0x4bf)+(_0x5c1ac5 instanceof Error?_0x5c1ac5[_0x18548(0x1a5)]:JSON[_0x18548(0x1b7)](_0x5c1ac5,null,0x2))),new m(_0x18548(0x494)+_0x5c1ac5['message']);}}async[a0_0x56f010(0x4ba)](){const _0xde0314=a0_0x56f010;try{let _0xa4beb0={'status':_0xde0314(0x138)},_0x56719a=await this[_0xde0314(0x5b9)][_0xde0314(0x6e2)]['deleteMany'](_0xa4beb0,this[_0xde0314(0x302)][_0xde0314(0x7a2)]);if(!_0x56719a[_0xde0314(0x4f8)])this[_0xde0314(0x186)]['verbose'](this[_0xde0314(0x5cd)]+'\x20('+this[_0xde0314(0x302)][_0xde0314(0x7a2)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x56719a['error'][_0xde0314(0x1a5)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0xd0c003){throw this['logger'][_0xde0314(0x4f8)](this[_0xde0314(0x5cd)]+'\x20('+this[_0xde0314(0x302)][_0xde0314(0x7a2)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0xd0c003 instanceof Error?_0xd0c003[_0xde0314(0x1a5)]:JSON['stringify'](_0xd0c003,null,0x2))),new m('Erro:'+_0xd0c003['message']);}}async[a0_0x56f010(0x6e9)](_0x3a1145,_0x41fdec){const _0x546919=a0_0x56f010;try{if(_0x41fdec[_0x546919(0x270)]===_0x546919(0x15b)&&!this['AutomateSystem']?.[_0x546919(0x288)][_0x546919(0x461)])return this[_0x546919(0x186)][_0x546919(0x4f8)](this[_0x546919(0x5cd)]+'\x20('+this[_0x546919(0x302)][_0x546919(0x7a2)]+_0x546919(0x2bd)),{'error':!0x0,'detail':_0x546919(0x4e4)};switch(_0x41fdec[_0x546919(0x270)]){case _0x546919(0x577):return await this[_0x546919(0x207)](_0x41fdec,_0x3a1145);case'media':return await this['scheduleSendMedia'](_0x41fdec,_0x3a1145);case _0x546919(0x453):return await this[_0x546919(0x620)](_0x41fdec,_0x3a1145);case _0x546919(0x15b):let _0x19fe56=new _e();return _0x19fe56[_0x546919(0x3c0)]=_0x41fdec[_0x546919(0x7a7)],_0x19fe56[_0x546919(0x29f)]=_0x3a1145,await this[_0x546919(0x476)](_0x19fe56);break;default:return this['logger'][_0x546919(0x4f8)](this[_0x546919(0x5cd)]+'\x20('+this['instance'][_0x546919(0x7a2)]+_0x546919(0x57a)+_0x41fdec[_0x546919(0x270)]),{'error':!0x0,'detail':_0x546919(0x768)};}}catch(_0x19b4aa){return this[_0x546919(0x186)][_0x546919(0x4f8)](this[_0x546919(0x5cd)]+'\x20('+this[_0x546919(0x302)][_0x546919(0x7a2)]+_0x546919(0x178)+(_0x19b4aa instanceof Error?_0x19b4aa[_0x546919(0x1a5)]:JSON[_0x546919(0x1b7)](_0x19b4aa,null,0x2))),{'error':!0x0,'detail':_0x19b4aa[_0x546919(0x1a5)]};}}['getRandomText'](_0x2d6c9f){const _0x200e6=a0_0x56f010;let _0x4cb687=_0x2d6c9f[_0x200e6(0x4bc)]('|'),_0x1091e1=Math[_0x200e6(0x716)](Math[_0x200e6(0x2f6)]()*_0x4cb687[_0x200e6(0x17a)]);return _0x4cb687[_0x1091e1][_0x200e6(0x7a3)]();}async[a0_0x56f010(0x207)](_0x3d7045,_0x45ddf0){const _0x512675=a0_0x56f010;if(this[_0x512675(0x186)]['verbose'](this[_0x512675(0x5cd)]+'\x20('+this[_0x512675(0x302)]['wuid']+_0x512675(0x163)),!_0x3d7045[_0x512675(0x1a5)]['text']||_0x3d7045[_0x512675(0x1a5)]['text'][_0x512675(0x17a)]===0x0)return{'error':!0x0,'detail':_0x512675(0x523)};let _0x2d77b8=this[_0x512675(0x271)](_0x3d7045[_0x512675(0x1a5)][_0x512675(0x577)]),_0x17dc9d=await this[_0x512675(0x39f)](_0x2d77b8,_0x45ddf0),_0x326cf5={'number':_0x45ddf0,'options':{'delay':_0x3d7045[_0x512675(0x1a5)]['delay']},'textMessage':{'text':_0x17dc9d}},_0x92ce92=null;try{let _0x32ade1=await this[_0x512675(0x344)](_0x326cf5);if(_0x32ade1&&_0x32ade1[_0x512675(0x1b0)])return{'error':!0x1,'id':_0x32ade1['key']['id']};_0x92ce92=JSON[_0x512675(0x1b7)](_0x32ade1),this[_0x512675(0x186)][_0x512675(0x6db)](this[_0x512675(0x5cd)]+'\x20('+this['instance'][_0x512675(0x7a2)]+_0x512675(0x609)+_0x92ce92);}catch(_0x1aae87){this[_0x512675(0x186)][_0x512675(0x4f8)](this[_0x512675(0x5cd)]+'\x20('+this[_0x512675(0x302)][_0x512675(0x7a2)]+_0x512675(0x1ff)+(_0x1aae87 instanceof Error?_0x1aae87[_0x512675(0x1a5)]:JSON[_0x512675(0x1b7)](_0x1aae87,null,0x2))),_0x92ce92=_0x1aae87['message'];}if(_0x92ce92)return{'error':!0x0,'detail':(typeof _0x92ce92==_0x512675(0x5d0)?JSON[_0x512675(0x1b7)](_0x92ce92,null,0x2):_0x92ce92)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x56f010(0x532)](_0x2dea93,_0x88be73){const _0x55dcbe=a0_0x56f010;this[_0x55dcbe(0x186)][_0x55dcbe(0x6db)](this['instanceName']+'\x20('+this[_0x55dcbe(0x302)][_0x55dcbe(0x7a2)]+_0x55dcbe(0x318));let _0x1c8f95;if(_0x2dea93[_0x55dcbe(0x1a5)][_0x55dcbe(0x577)]&&_0x2dea93[_0x55dcbe(0x1a5)][_0x55dcbe(0x577)][_0x55dcbe(0x17a)]>0x0){let _0x2a86df=this[_0x55dcbe(0x271)](_0x2dea93['message']['text']);_0x1c8f95=await this[_0x55dcbe(0x39f)](_0x2a86df,_0x88be73);}let _0x58bb93={'number':_0x88be73,'options':{'delay':_0x2dea93[_0x55dcbe(0x1a5)][_0x55dcbe(0x552)]},'mediaMessage':{'mediatype':_0x2dea93[_0x55dcbe(0x1a5)]['mediatype'],'caption':_0x1c8f95,'media':_0x2dea93['message'][_0x55dcbe(0x3db)]}},_0x4316dd=null;try{let _0x579ced=await this[_0x55dcbe(0x5d6)](_0x58bb93);if(_0x579ced&&_0x579ced['status'])return{'error':!0x1,'id':_0x579ced[_0x55dcbe(0x528)]['id']};_0x4316dd=JSON[_0x55dcbe(0x1b7)](_0x579ced),this[_0x55dcbe(0x186)][_0x55dcbe(0x6db)](this[_0x55dcbe(0x5cd)]+'\x20('+this[_0x55dcbe(0x302)]['wuid']+_0x55dcbe(0x609)+_0x4316dd);}catch(_0x5701c8){this[_0x55dcbe(0x186)]['error'](this[_0x55dcbe(0x5cd)]+'\x20('+this[_0x55dcbe(0x302)]['wuid']+_0x55dcbe(0x772)+(_0x5701c8 instanceof Error?_0x5701c8[_0x55dcbe(0x1a5)]:JSON['stringify'](_0x5701c8,null,0x2))),_0x4316dd=_0x5701c8[_0x55dcbe(0x1a5)];}if(_0x4316dd)return{'error':!0x0,'detail':(typeof _0x4316dd=='object'?JSON[_0x55dcbe(0x1b7)](_0x4316dd,null,0x2):_0x4316dd)['replace'](/[\[\]{}\n]/g,'\x20')[_0x55dcbe(0x2b0)](/  +/g,'\x20')};}async[a0_0x56f010(0x620)](_0x40e212,_0x49b380){const _0x3090b2=a0_0x56f010;this[_0x3090b2(0x186)][_0x3090b2(0x6db)](this[_0x3090b2(0x5cd)]+'\x20('+this[_0x3090b2(0x302)]['wuid']+_0x3090b2(0x181));let _0x20d413={'number':_0x49b380,'options':{'delay':_0x40e212[_0x3090b2(0x1a5)]['delay']},'audioMessage':{'audio':_0x40e212[_0x3090b2(0x1a5)][_0x3090b2(0x3db)]}},_0x2f7571=null;try{let _0x48cac6=await this[_0x3090b2(0x2a8)](_0x20d413);if(_0x48cac6&&_0x48cac6[_0x3090b2(0x1b0)])return{'error':!0x1,'id':_0x48cac6[_0x3090b2(0x528)]['id']};_0x2f7571=JSON['stringify'](_0x48cac6),this[_0x3090b2(0x186)][_0x3090b2(0x6db)](this[_0x3090b2(0x5cd)]+'\x20('+this[_0x3090b2(0x302)]['wuid']+_0x3090b2(0x609)+_0x2f7571);}catch(_0x184efc){this[_0x3090b2(0x186)][_0x3090b2(0x4f8)](this[_0x3090b2(0x5cd)]+'\x20('+this[_0x3090b2(0x302)]['wuid']+_0x3090b2(0x70a)+(_0x184efc instanceof Error?_0x184efc[_0x3090b2(0x1a5)]:JSON[_0x3090b2(0x1b7)](_0x184efc,null,0x2))),_0x2f7571=_0x184efc[_0x3090b2(0x1a5)];}if(_0x2f7571)return{'error':!0x0,'detail':(typeof _0x2f7571==_0x3090b2(0x5d0)?JSON[_0x3090b2(0x1b7)](_0x2f7571,null,0x2):_0x2f7571)[_0x3090b2(0x2b0)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Pt=class c{constructor(_0x578a50,_0x299164,_0x46115e){const _0x2a2e0a=a0_0x56f010;this[_0x2a2e0a(0x519)]=_0x578a50,this[_0x2a2e0a(0x663)]=_0x299164,this[_0x2a2e0a(0x5b9)]=_0x46115e,this['db']={},this['redis']={},this['logger']=new v(c[_0x2a2e0a(0x3c0)]),this[_0x2a2e0a(0x1b1)]={},(this[_0x2a2e0a(0x669)](),this['noConnection'](),Object[_0x2a2e0a(0x58f)](this['db'],_0x299164[_0x2a2e0a(0x750)](_0x2a2e0a(0x792))),Object['assign'](this[_0x2a2e0a(0x213)],_0x299164[_0x2a2e0a(0x750)]('REDIS')),this['dbInstance']=this['db']['ENABLED']?this['repository']['dbServer']?.['db'](this['db'][_0x2a2e0a(0x738)][_0x2a2e0a(0x233)]+_0x2a2e0a(0x253)):void 0x0,this[_0x2a2e0a(0x574)]=this['redis'][_0x2a2e0a(0x365)]?new oe(this[_0x2a2e0a(0x213)]):void 0x0);}async[a0_0x56f010(0x6a1)](_0x56373a){const _0x3275cf=a0_0x56f010;if(_0x56373a&&!this[_0x3275cf(0x1b1)][_0x56373a])throw new j(_0x3275cf(0x158)+_0x56373a+_0x3275cf(0x748));let _0x4f91a6=[];for await(let [_0x3c6f12,_0x28b55e]of Object[_0x3275cf(0x540)](this['waInstances']))if(_0x28b55e&&_0x28b55e['connectionStatus'][_0x3275cf(0x511)]===_0x3275cf(0x55a)){let _0x43ce0c=await this['repository'][_0x3275cf(0x435)][_0x3275cf(0x766)](_0x3c6f12);_0x4f91a6[_0x3275cf(0x143)]({'instance':{'instanceName':_0x3c6f12,'apikey':_0x43ce0c['apikey'],'owner':_0x28b55e[_0x3275cf(0x7a2)],'profileName':await _0x28b55e['getProfileName']()||_0x3275cf(0x263),'profilePictureUrl':_0x28b55e[_0x3275cf(0x183)]}});}return _0x4f91a6[_0x3275cf(0x766)](_0x497e79=>_0x497e79[_0x3275cf(0x302)][_0x3275cf(0x5cd)]===_0x56373a)??_0x4f91a6;}async[a0_0x56f010(0x221)](_0x37f79c){const _0x11f707=a0_0x56f010;if(this['db'][_0x11f707(0x365)]&&(await this['repository'][_0x11f707(0x69b)][_0x11f707(0x2ee)](),(await this['dbInstance'][_0x11f707(0x568)]())[_0x11f707(0x17a)]>0x0&&await this['dbInstance'][_0x11f707(0x688)](_0x37f79c)),this['redis'][_0x11f707(0x365)]){this['cache'][_0x11f707(0x2ae)]=_0x37f79c,await this[_0x11f707(0x574)]['delAll']();return;}}async[a0_0x56f010(0x60a)](){const _0x5cf058=a0_0x56f010;await this[_0x5cf058(0x3f3)]();let _0x4faa16=async _0x525c28=>{const _0x53f731=_0x5cf058;let _0x3ebe72=new ye(this[_0x53f731(0x663)],this['eventEmitter'],this[_0x53f731(0x5b9)]);_0x3ebe72[_0x53f731(0x5cd)]=_0x525c28,await _0x3ebe72[_0x53f731(0x179)](),this[_0x53f731(0x1b1)][_0x525c28]=_0x3ebe72;};try{if(this[_0x5cf058(0x213)][_0x5cf058(0x365)]){let _0x2959fc=await this[_0x5cf058(0x574)][_0x5cf058(0x2e9)]();_0x2959fc?.[_0x5cf058(0x17a)]>0x0&&_0x2959fc[_0x5cf058(0x147)](async _0x361ec0=>await _0x4faa16(_0x361ec0[_0x5cf058(0x4bc)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x5cf058(0x5b9)][_0x5cf058(0x69b)]['connect']();let _0x41ce32=await this[_0x5cf058(0x3f1)][_0x5cf058(0x568)]();_0x41ce32[_0x5cf058(0x17a)]>0x0&&_0x41ce32[_0x5cf058(0x147)](async _0x59245a=>await _0x4faa16(_0x59245a['namespace']['replace'](/^[\w-]+\./,'')));return;}}catch(_0x1f232a){this['logger'][_0x5cf058(0x4f8)](_0x1f232a);}}async[a0_0x56f010(0x561)](){const _0x16e631=a0_0x56f010;let _0x114421=await this['repository'][_0x16e631(0x435)][_0x16e631(0x513)](),_0x542418=_0x114421[_0x16e631(0x336)](_0x116e18=>!this[_0x16e631(0x1b1)][_0x116e18[_0x16e631(0x20e)]]&&(_0x116e18[_0x16e631(0x1ca)]||typeof _0x116e18['online']>'u'));_0x542418[_0x16e631(0x17a)]>0x0&&await Promise[_0x16e631(0x78d)](_0x542418['map'](async _0xd3083=>{const _0x40a515=_0x16e631;let _0x7ad469={'online':!0x1,'lastDisconnect':Date[_0x40a515(0x203)]()};await this[_0x40a515(0x5b9)][_0x40a515(0x435)]['create'](_0x7ad469,_0xd3083[_0x40a515(0x20e)]);}));let _0x3d4193=Date[_0x16e631(0x203)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1b8c5d=_0x114421[_0x16e631(0x336)](_0x2938c7=>!this[_0x16e631(0x1b1)][_0x2938c7[_0x16e631(0x20e)]]&&typeof _0x2938c7[_0x16e631(0x4d2)]<'u'&&_0x2938c7['lastDisconnect']<_0x3d4193);_0x1b8c5d[_0x16e631(0x17a)]>0x0&&await Promise[_0x16e631(0x78d)](_0x1b8c5d[_0x16e631(0x1ef)](async _0x1da35e=>{}));}async[a0_0x56f010(0x3f3)](){const _0xa4c8e2=a0_0x56f010;try{let _0x36277d={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x26c078={'online':!0x1,'lastDisconnect':Date[_0xa4c8e2(0x203)]()},_0x8a6a06=await this[_0xa4c8e2(0x5b9)]['auth'][_0xa4c8e2(0x798)](_0x36277d,_0x26c078);console[_0xa4c8e2(0x125)](_0xa4c8e2(0x224)+_0x8a6a06[_0xa4c8e2(0x32f)]),await this[_0xa4c8e2(0x6c0)]();}catch(_0xbbd847){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0xbbd847);}}async[a0_0x56f010(0x6c0)](){const _0x3a55bd=a0_0x56f010;try{let _0x3df8ac={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x3c2dcc=await this[_0x3a55bd(0x5b9)][_0x3a55bd(0x435)][_0x3a55bd(0x312)](_0x3df8ac);console[_0x3a55bd(0x125)](_0x3a55bd(0x653)+_0x3c2dcc[_0x3a55bd(0x32f)]);}catch(_0x1cd9c0){console[_0x3a55bd(0x4f8)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x1cd9c0);}}['removeInstance'](){const _0x1373ae=a0_0x56f010;this[_0x1373ae(0x519)]['on'](_0x1373ae(0x197),async _0x435a7c=>{const _0x34f3c5=_0x1373ae;try{this[_0x34f3c5(0x1b1)][_0x435a7c]=void 0x0;}catch{}try{this['cleaningUp'](_0x435a7c);}finally{this[_0x34f3c5(0x186)][_0x34f3c5(0x26f)](_0x34f3c5(0x158)+_0x435a7c+_0x34f3c5(0x12d));}});}[a0_0x56f010(0x696)](){const _0x3a7539=a0_0x56f010;this[_0x3a7539(0x519)]['on'](_0x3a7539(0x225),async _0x3efaaf=>{const _0x4d9f47=_0x3a7539;try{this[_0x4d9f47(0x1b1)][_0x3efaaf]=void 0x0;}catch{}try{this[_0x4d9f47(0x221)](_0x3efaaf);}finally{this[_0x4d9f47(0x186)][_0x4d9f47(0x26f)](_0x4d9f47(0x158)+_0x3efaaf+_0x4d9f47(0x1c3));}});}},$t=class extends I{[a0_0x56f010(0x770)](_0x2c7d81){return Us(_0x2c7d81);}async[a0_0x56f010(0x45b)](_0x52a04c){const _0x35a4e5=a0_0x56f010;if(_0x52a04c[_0x35a4e5(0x17a)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x52a04c[0x0]['owner'])[_0x35a4e5(0x1f8)]([..._0x52a04c]))[_0x35a4e5(0x17a)]};}catch(_0xe64ba3){return _0xe64ba3;}}async['find'](_0x13429a,_0x5033a9){const _0x346d7c=a0_0x56f010;try{let _0x2172ac=this[_0x346d7c(0x770)](_0x5033a9),_0x252fe3=A(_0x13429a[_0x346d7c(0x5e0)]);return await _0x2172ac[_0x346d7c(0x766)](_0x252fe3)['sort']({'lastmsg':-0x1})[_0x346d7c(0x58d)](_0x13429a?.[_0x346d7c(0x58d)]??0x0)['lean']();}catch{return[];}}async[a0_0x56f010(0x332)](_0x29f1a5,_0x19a337){const _0x122a7f=a0_0x56f010;try{return await this[_0x122a7f(0x770)](_0x19a337)[_0x122a7f(0x312)]({..._0x29f1a5['where']}),[];}catch(_0x3648b0){return{'error':_0x3648b0?.[_0x122a7f(0x4c5)]()};}}async['findOne'](_0x1bc2f4,_0x4537c1){const _0x4a38ec=a0_0x56f010;try{let _0x55233c=this['getChatModelForOwner'](_0x4537c1),_0x32218f=A(_0x1bc2f4[_0x4a38ec(0x5e0)]);return await _0x55233c[_0x4a38ec(0x2a7)](_0x32218f)[_0x4a38ec(0x569)]();}catch{return null;}}async[a0_0x56f010(0x4c4)](_0xa1c6cf,_0x207e94,_0x5dce4e,_0x149d5d,_0x4c16db=a0_0x56f010(0x52a)){const _0x3d28b2=a0_0x56f010;try{let _0x11fe72={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x149d5d},_0x7b12ef=this['getChatModelForOwner'](_0x5dce4e),_0x44dbcd=A(_0xa1c6cf['where']);Object['keys'](_0x207e94)[_0x3d28b2(0x147)](_0x431da9=>{_0x207e94[_0x431da9]==null&&delete _0x207e94[_0x431da9];});let _0x10b6a9={};return _0x10b6a9[_0x4c16db]=_0x207e94,await _0x7b12ef['findOneAndUpdate'](_0x44dbcd,_0x10b6a9,_0x11fe72);}catch(_0x557fa7){return console[_0x3d28b2(0x4f8)](_0x557fa7),null;}}async['updateMany'](_0x55ac06){const _0x5e86fc=a0_0x56f010;try{let _0x352434=this[_0x5e86fc(0x770)](_0x55ac06[0x0][_0x5e86fc(0x335)]['where'][_0x5e86fc(0x306)]),_0x26d707=_0x55ac06[_0x5e86fc(0x1ef)](_0x99dffc=>({'updateOne':{'filter':{..._0x99dffc[_0x5e86fc(0x335)][_0x5e86fc(0x5e0)]},'update':{'$set':_0x99dffc[_0x5e86fc(0x189)]},'upsert':!0x0}})),_0xbd495d=await _0x352434[_0x5e86fc(0x67e)](_0x26d707);return _0xbd495d[_0x5e86fc(0x28a)]+_0xbd495d[_0x5e86fc(0x259)];}catch(_0x4d62cb){return console[_0x5e86fc(0x4f8)](_0x4d62cb),0x0;}}async[a0_0x56f010(0x4fd)](_0x2b4f7b){const _0x1e8773=a0_0x56f010;try{let _0xc339a5=this[_0x1e8773(0x770)](_0x2b4f7b),_0x4cd4bc={'labels':{'$exists':!0x0}},_0x4bb385={'$unset':{'labels':''}};return(await _0xc339a5['updateMany'](_0x4cd4bc,_0x4bb385))[_0x1e8773(0x28a)];}catch(_0x3a2757){return console[_0x1e8773(0x4f8)](_0x3a2757),0x0;}}async[a0_0x56f010(0x488)](_0x30e980){const _0x1bbffb=a0_0x56f010;try{let _0x3f0e3b=this[_0x1bbffb(0x770)](_0x30e980),_0x53ed75={'leadInfo.etiquetas':{'$exists':!0x1}},_0x16e95c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x3f0e3b['updateMany'](_0x53ed75,_0x16e95c))[_0x1bbffb(0x28a)];}catch(_0x371b0c){return console['error'](_0x371b0c),0x0;}}async[a0_0x56f010(0x480)](_0x46e607){const _0x28f0dc=a0_0x56f010;try{let _0x30575c=this[_0x28f0dc(0x770)](_0x46e607),_0x579c81={'leadInfo.tags':{'$exists':!0x1}},_0x1d86d8={'$set':{'leadInfo.tags':[]}};return(await _0x30575c[_0x28f0dc(0x346)](_0x579c81,_0x1d86d8))[_0x28f0dc(0x28a)];}catch(_0x488d59){return console['error'](_0x488d59),0x0;}}async[a0_0x56f010(0x16e)](_0x176a59){const _0x25ca66=a0_0x56f010;try{let _0x57f129=this['getChatModelForOwner'](_0x176a59),_0x363f77={'leadInfo.customFields':{'$exists':!0x1}},_0x255b2e={'$set':{'leadInfo.customFields':[]}};return(await _0x57f129[_0x25ca66(0x346)](_0x363f77,_0x255b2e))['modifiedCount'];}catch(_0x58788b){return console['error'](_0x58788b),0x0;}}async[a0_0x56f010(0x1f8)](_0x8d4639,_0x315f74){const _0x35f99c=a0_0x56f010;if(!Array['isArray'](_0x8d4639)||_0x8d4639[_0x35f99c(0x17a)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x35f99c(0x770)](_0x315f74)[_0x35f99c(0x1f8)](_0x8d4639))[_0x35f99c(0x17a)];}catch(_0x2de03d){throw console[_0x35f99c(0x4f8)](_0x35f99c(0x46f),_0x2de03d),_0x2de03d;}}async['deleteChat'](_0x3c573f,_0x597768){const _0xf643a2=a0_0x56f010;try{await this[_0xf643a2(0x770)](_0x597768)[_0xf643a2(0x50d)]({'_id':_0x3c573f});}catch(_0x209ecf){throw console[_0xf643a2(0x4f8)](_0xf643a2(0x122),_0x209ecf),_0x209ecf;}}},kt=class extends I{[a0_0x56f010(0x464)](_0x184a43){return ua(_0x184a43);}async[a0_0x56f010(0x4c4)](_0x1092cd,_0x2a670d,_0x4ccc15,_0x756fee){const _0x5ae744=a0_0x56f010;try{let _0x18135f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x756fee},_0x126c00=this[_0x5ae744(0x464)](_0x4ccc15),_0x35f20b=A(_0x1092cd[_0x5ae744(0x5e0)]);return await _0x126c00['findOneAndUpdate'](_0x35f20b,{'$set':_0x2a670d},_0x18135f);}catch(_0xf10e00){return console['error'](_0xf10e00),null;}}async['find'](_0x2f5caf,_0x514c3e){const _0x3dec5b=a0_0x56f010;try{let _0xc28898=this[_0x3dec5b(0x464)](_0x514c3e),_0x44fa27=A(_0x2f5caf[_0x3dec5b(0x5e0)]);return await _0xc28898[_0x3dec5b(0x766)](_0x44fa27);}catch(_0x2e33d0){console[_0x3dec5b(0x4f8)](_0x2e33d0);}}async[a0_0x56f010(0x2d3)](_0x3a65fb,_0x56da47){const _0x1d7b75=a0_0x56f010;try{let _0x27ccd7=this[_0x1d7b75(0x464)](_0x56da47),_0x1e8d95=A(_0x3a65fb['where']);await _0x27ccd7[_0x1d7b75(0x312)](_0x1e8d95);}catch(_0x17cf0e){console[_0x1d7b75(0x4f8)](_0x17cf0e);}}async[a0_0x56f010(0x332)](_0x15503f){const _0x3babf2=a0_0x56f010;try{return await this[_0x3babf2(0x464)](_0x15503f)[_0x3babf2(0x5aa)][_0x3babf2(0x254)](),{'success':!0x0};}catch(_0x808e10){return console[_0x3babf2(0x4f8)](_0x808e10),{'success':!0x1,'error':_0x808e10};}}},Lt=class{constructor(_0x13435d){const _0x35b21b=a0_0x56f010;this[_0x35b21b(0x2d0)]=_0x13435d;}async[a0_0x56f010(0x502)]({instanceName:_0x1b4529},_0x55b631){const _0x592d13=a0_0x56f010;return await this[_0x592d13(0x2d0)]['waInstances'][_0x1b4529][_0x592d13(0x502)](_0x55b631);}async[a0_0x56f010(0x6d8)]({instanceName:_0x56e853},_0x498160){const _0x12cfcc=a0_0x56f010;return await this['waMonitor']['waInstances'][_0x56e853][_0x12cfcc(0x6d8)](_0x498160);}async[a0_0x56f010(0x5e8)]({instanceName:_0x271cf7},_0x3ac810){const _0x16e89e=a0_0x56f010;return await this[_0x16e89e(0x2d0)]['waInstances'][_0x271cf7][_0x16e89e(0x5e8)](_0x3ac810);}async['readMessage']({instanceName:_0x4a860f},_0x2dd53e){const _0x432486=a0_0x56f010;return await this['waMonitor']['waInstances'][_0x4a860f][_0x432486(0x546)](_0x2dd53e);}async[a0_0x56f010(0x2a6)]({instanceName:_0x543a45},_0x10d333){const _0x2ab077=a0_0x56f010;return await this['waMonitor'][_0x2ab077(0x1b1)][_0x543a45][_0x2ab077(0x2a6)](_0x10d333);}async[a0_0x56f010(0x5e3)]({instanceName:_0x487a1b},_0x4acb01){const _0x570101=a0_0x56f010;return await this[_0x570101(0x2d0)][_0x570101(0x1b1)][_0x487a1b]['deleteMessage'](_0x4acb01);}async[a0_0x56f010(0x194)]({instanceName:_0x5227b9},_0x76e3dc){const _0x53e41c=a0_0x56f010;return await this[_0x53e41c(0x2d0)][_0x53e41c(0x1b1)][_0x5227b9]['profilePicture'](_0x76e3dc[_0x53e41c(0x32e)]);}async[a0_0x56f010(0x29b)]({instanceName:_0x215434},_0x47c845){const _0x121068=a0_0x56f010;return await this[_0x121068(0x2d0)][_0x121068(0x1b1)][_0x215434]['fetchProfile'](_0x47c845[_0x121068(0x32e)]);}async[a0_0x56f010(0x683)]({instanceName:_0x31546c},_0x13aa59){const _0x267136=a0_0x56f010;return await this[_0x267136(0x2d0)][_0x267136(0x1b1)][_0x31546c][_0x267136(0x683)](_0x13aa59);}async['fetchContacts']({instanceName:_0x7ab6e},_0x5c26f6){const _0x54c380=a0_0x56f010;return await this[_0x54c380(0x2d0)][_0x54c380(0x1b1)][_0x7ab6e][_0x54c380(0x775)](_0x5c26f6);}async['getBase64FromMediaMessage']({instanceName:_0x28b0ef},_0x2fb997){const _0x178511=a0_0x56f010;return await this[_0x178511(0x2d0)][_0x178511(0x1b1)][_0x28b0ef][_0x178511(0x68f)](_0x2fb997);}async[a0_0x56f010(0x5d7)]({instanceName:_0x56527a},_0x328b5e){const _0x30af29=a0_0x56f010;return await this[_0x30af29(0x2d0)][_0x30af29(0x1b1)][_0x56527a][_0x30af29(0x5d7)](_0x328b5e);}async['fetchLabels']({instanceName:_0x39ab74}){const _0x2b990a=a0_0x56f010;return await this['waMonitor'][_0x2b990a(0x1b1)][_0x39ab74]['fetchLabels']();}async[a0_0x56f010(0x188)]({instanceName:_0x66bda1}){const _0x475342=a0_0x56f010;return await this['waMonitor'][_0x475342(0x1b1)][_0x66bda1]['fetchChats']();}async[a0_0x56f010(0x3d0)]({instanceName:_0x4e7a25}){const _0x5af122=a0_0x56f010;return await this[_0x5af122(0x2d0)][_0x5af122(0x1b1)][_0x4e7a25][_0x5af122(0x3d0)]();}async['updatePrivacySettings']({instanceName:_0x24ed58},_0x35097b){const _0x4c888a=a0_0x56f010;return await this[_0x4c888a(0x2d0)][_0x4c888a(0x1b1)][_0x24ed58]['updatePrivacySettings'](_0x35097b);}async[a0_0x56f010(0x390)]({instanceName:_0x3a803d},_0x3c21a3){const _0x339c7f=a0_0x56f010;return await this[_0x339c7f(0x2d0)][_0x339c7f(0x1b1)][_0x3a803d]['fetchBusinessProfile'](_0x3c21a3[_0x339c7f(0x32e)]);}async[a0_0x56f010(0x5ae)]({instanceName:_0x43a64f},_0xf0fbd9){const _0x979325=a0_0x56f010;return await this['waMonitor'][_0x979325(0x1b1)][_0x43a64f]['updateProfileName'](_0xf0fbd9[_0x979325(0x3c0)]);}async[a0_0x56f010(0x500)]({instanceName:_0x28e44f},_0x40cbce){const _0xc67370=a0_0x56f010;return await this['waMonitor'][_0xc67370(0x1b1)][_0x28e44f][_0xc67370(0x500)](_0x40cbce['status']);}async[a0_0x56f010(0x455)]({instanceName:_0x2e1da1},_0xe5e383){const _0x27977d=a0_0x56f010;return await this['waMonitor'][_0x27977d(0x1b1)][_0x2e1da1]['updateProfilePicture'](_0xe5e383[_0x27977d(0x5f8)]);}async[a0_0x56f010(0x510)]({instanceName:_0x3debb7},_0x2379df){const _0x2086df=a0_0x56f010;return await this[_0x2086df(0x2d0)][_0x2086df(0x1b1)][_0x3debb7][_0x2086df(0x510)]();}},Ns=require(a0_0x56f010(0x22d)),jt=class c{constructor(_0x3b3589,_0x286b1a,_0x467208,_0x4cd8f6,_0x6484e8){const _0x5a3fe6=a0_0x56f010;this[_0x5a3fe6(0x2d0)]=_0x3b3589,this['configService']=_0x286b1a,this['repository']=_0x467208,this[_0x5a3fe6(0x519)]=_0x4cd8f6,this[_0x5a3fe6(0x3ac)]=_0x6484e8,this[_0x5a3fe6(0x186)]=new v(c[_0x5a3fe6(0x3c0)]);}async[a0_0x56f010(0x491)]({instanceName:_0x346a0e,apikey:_0x12411f,number:_0x24c861,proxy:_0x360578=!0x0}){const _0x14090e=a0_0x56f010;try{let _0x4109ae=new ye(this[_0x14090e(0x663)],this[_0x14090e(0x519)],this['repository']);_0x4109ae[_0x14090e(0x5cd)]=_0x346a0e,this[_0x14090e(0x2d0)]['waInstances'][_0x4109ae[_0x14090e(0x5cd)]]=_0x4109ae;let _0x46b7a2={};_0x12411f?(await this[_0x14090e(0x5b9)][_0x14090e(0x435)][_0x14090e(0x3a5)]({'apikey':_0x12411f},_0x346a0e),_0x46b7a2['apikey']=_0x12411f):_0x46b7a2=await this['authService'][_0x14090e(0x7aa)]({'instanceName':_0x4109ae[_0x14090e(0x5cd)]});let _0xd6f660;return await _0x4109ae[_0x14090e(0x179)](_0x24c861,_0x360578),await(0x0,Ns[_0x14090e(0x552)])(0x7d0),_0xd6f660=_0x4109ae[_0x14090e(0x2c0)],{'instance':{'instanceName':_0x4109ae[_0x14090e(0x5cd)],'status':_0x14090e(0x618)},'hash':_0x46b7a2,'qrcode':_0xd6f660};}catch(_0x38e738){this[_0x14090e(0x186)][_0x14090e(0x4f8)](_0x38e738);}}async[a0_0x56f010(0x6f4)]({instanceName:_0x33d0a7,number:_0x333733=null,proxy:_0x14b5b0=!0x0}){const _0x18aea3=a0_0x56f010;try{let _0x3d52a7=this[_0x18aea3(0x2d0)][_0x18aea3(0x1b1)][_0x33d0a7];switch(_0x3d52a7?.[_0x18aea3(0x621)]?.['state']){case'close':return await _0x3d52a7['connectToWhatsapp'](_0x333733,_0x14b5b0),await(0x0,Ns[_0x18aea3(0x552)])(0x7d0),_0x3d52a7[_0x18aea3(0x2c0)];case'connecting':return _0x3d52a7[_0x18aea3(0x2c0)];default:return await this[_0x18aea3(0x498)]({'instanceName':_0x33d0a7});}}catch(_0x248e76){this['logger'][_0x18aea3(0x125)](_0x248e76);}}async['connectionState']({instanceName:_0x22be75}){const _0x1f1c36=a0_0x56f010;let _0x1f0b2d=this[_0x1f1c36(0x2d0)][_0x1f1c36(0x1b1)][_0x22be75]['connectionStatus'],_0x46aa83=null;_0x1f0b2d[_0x1f1c36(0x511)]===_0x1f1c36(0x55a)&&_0x22be75&&(_0x46aa83=await this['waMonitor'][_0x1f1c36(0x6a1)](_0x22be75));let _0x3c4cf3=null;return _0x1f0b2d['state']===_0x1f1c36(0x58c)&&_0x22be75&&(_0x3c4cf3=this['waMonitor']['waInstances'][_0x22be75][_0x1f1c36(0x2c0)]),{'instance':_0x22be75,'connectionStatus':_0x1f0b2d,'instanceInfo':_0x46aa83,'qrcode':_0x3c4cf3};}async[a0_0x56f010(0x74d)]({instanceName:_0x2d9e90}){const _0x275e25=a0_0x56f010;try{return this[_0x275e25(0x2d0)]['waInstances'][_0x2d9e90]?.[_0x275e25(0x733)]?.['ws']?.[_0x275e25(0x4b4)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x275e25(0x3fa)}};}catch(_0x5e3c46){this[_0x275e25(0x186)][_0x275e25(0x4f8)](_0x5e3c46);}}async[a0_0x56f010(0x146)]({instanceName:_0x326b7b}){const _0x2fc14f=a0_0x56f010;return _0x326b7b?this[_0x2fc14f(0x2d0)][_0x2fc14f(0x6a1)](_0x326b7b):this[_0x2fc14f(0x2d0)]['instanceInfo']();}async[a0_0x56f010(0x747)]({instanceName:_0x27e991}){const _0x560a8a=a0_0x56f010;try{return await this[_0x560a8a(0x2d0)]['waInstances'][_0x27e991]?.[_0x560a8a(0x733)]?.['logout']('Log\x20out\x20instance:\x20'+_0x27e991),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x3d4c20){throw new O(_0x3d4c20[_0x560a8a(0x4c5)]());}}async[a0_0x56f010(0x345)]({instanceName:_0x598e92}){const _0x58b627=a0_0x56f010;if((await this[_0x58b627(0x498)]({'instanceName':_0x598e92}))['connectionStatus'][_0x58b627(0x511)]===_0x58b627(0x55a))throw new m([_0x58b627(0x5ab),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x58b627(0x2d0)][_0x58b627(0x1b1)][_0x598e92],{'error':!0x1,'message':_0x58b627(0x3d4)};}catch(_0x523a78){throw new m(_0x523a78['toString']());}}},Z=require(a0_0x56f010(0x4f7)),Ft=class{constructor(_0x4769a6){const _0x2e77d4=a0_0x56f010;this[_0x2e77d4(0x2d0)]=_0x4769a6;}async[a0_0x56f010(0x30a)]({instanceName:_0x5e1841},_0x4664e6){const _0x1fcbd6=a0_0x56f010;return await this[_0x1fcbd6(0x2d0)][_0x1fcbd6(0x1b1)][_0x5e1841][_0x1fcbd6(0x344)](_0x4664e6);}async['sendMenu']({instanceName:_0x2185a6},_0x47d4ad){const _0x234b00=a0_0x56f010;return await this[_0x234b00(0x2d0)][_0x234b00(0x1b1)][_0x2185a6][_0x234b00(0x57e)](_0x47d4ad);}async[a0_0x56f010(0x6cc)]({instanceName:_0x14ad12},_0x15cb4f){const _0x1b3a2c=a0_0x56f010;if((0x0,Z[_0x1b3a2c(0x709)])(_0x15cb4f?.[_0x1b3a2c(0x5d6)]?.[_0x1b3a2c(0x629)])&&!_0x15cb4f?.[_0x1b3a2c(0x5d6)]?.[_0x1b3a2c(0x6e8)])throw new m(_0x1b3a2c(0x6cd));if((0x0,Z[_0x1b3a2c(0x439)])(_0x15cb4f?.[_0x1b3a2c(0x5d6)]?.[_0x1b3a2c(0x629)])||(0x0,Z['isBase64'])(_0x15cb4f?.[_0x1b3a2c(0x5d6)]?.[_0x1b3a2c(0x629)]))return await this[_0x1b3a2c(0x2d0)][_0x1b3a2c(0x1b1)][_0x14ad12][_0x1b3a2c(0x5d6)](_0x15cb4f);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x8b8771},_0xaff68b){const _0x25b0e2=a0_0x56f010;if((0x0,Z[_0x25b0e2(0x439)])(_0xaff68b[_0x25b0e2(0x39a)][_0x25b0e2(0x350)])||(0x0,Z[_0x25b0e2(0x709)])(_0xaff68b[_0x25b0e2(0x39a)]['image']))return await this['waMonitor'][_0x25b0e2(0x1b1)][_0x8b8771]['mediaSticker'](_0xaff68b);throw new m(_0x25b0e2(0x531));}async['sendWhatsAppAudio']({instanceName:_0x2febe7},_0x3b59ab){const _0x357be9=a0_0x56f010;if((0x0,Z[_0x357be9(0x439)])(_0x3b59ab[_0x357be9(0x405)]['audio'])||(0x0,Z[_0x357be9(0x709)])(_0x3b59ab[_0x357be9(0x405)][_0x357be9(0x453)]))return await this[_0x357be9(0x2d0)]['waInstances'][_0x2febe7][_0x357be9(0x2a8)](_0x3b59ab);throw new m(_0x357be9(0x531));}async[a0_0x56f010(0x5ba)]({instanceName:_0x2f6bd7},_0x1f9478){const _0x3c162b=a0_0x56f010;if((0x0,Z['isBase64'])(_0x1f9478['buttonMessage']['mediaMessage']?.[_0x3c162b(0x629)])&&!_0x1f9478[_0x3c162b(0x646)][_0x3c162b(0x5d6)]?.['fileName'])throw new m(_0x3c162b(0x6cd));return await this['waMonitor']['waInstances'][_0x2f6bd7][_0x3c162b(0x646)](_0x1f9478);}async[a0_0x56f010(0x6c5)]({instanceName:_0x1f2c41},_0x49e605){const _0x4cef74=a0_0x56f010;return await this[_0x4cef74(0x2d0)][_0x4cef74(0x1b1)][_0x1f2c41][_0x4cef74(0x49e)](_0x49e605);}async[a0_0x56f010(0x2f9)]({instanceName:_0x1e823d},_0x34eba1){const _0x5a07de=a0_0x56f010;return await this[_0x5a07de(0x2d0)][_0x5a07de(0x1b1)][_0x1e823d][_0x5a07de(0x35f)](_0x34eba1);}async[a0_0x56f010(0x689)]({instanceName:_0x317f9e},_0x4cb55e){const _0x41d118=a0_0x56f010;return await this[_0x41d118(0x2d0)][_0x41d118(0x1b1)][_0x317f9e]['listMessage'](_0x4cb55e);}async['sendContact']({instanceName:_0x317e82},_0x4d1605){const _0x2532cb=a0_0x56f010;return await this[_0x2532cb(0x2d0)]['waInstances'][_0x317e82][_0x2532cb(0x1ad)](_0x4d1605);}async['sendReaction']({instanceName:_0x40065a},_0x555a66){const _0xd3ae47=a0_0x56f010;if(!_0x555a66[_0xd3ae47(0x441)][_0xd3ae47(0x64f)][_0xd3ae47(0x19c)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0xd3ae47(0x321));return await this['waMonitor']['waInstances'][_0x40065a][_0xd3ae47(0x441)](_0x555a66);}async[a0_0x56f010(0x5dd)]({instanceName:_0x58b82c},_0x50af3d){const _0x923191=a0_0x56f010;return await this[_0x923191(0x2d0)][_0x923191(0x1b1)][_0x58b82c][_0x923191(0x311)](_0x50af3d);}},Co=require(a0_0x56f010(0x28d)),Rs=require(a0_0x56f010(0x54c)),qt=class c{constructor(_0x3638f3,_0x18c205,_0x380408){const _0x486d10=a0_0x56f010;this['configService']=_0x3638f3,this[_0x486d10(0x2d0)]=_0x18c205,this[_0x486d10(0x5b9)]=_0x380408,this['logger']=new v(c[_0x486d10(0x3c0)]);}async[a0_0x56f010(0x5a3)](_0x15035d){const _0x2c1d09=a0_0x56f010;let _0x545160=this['configService'][_0x2c1d09(0x750)](_0x2c1d09(0x3d7))[_0x2c1d09(0x4fa)],_0x265a07=(0x0,Co['sign'])({'instanceName':_0x15035d[_0x2c1d09(0x5cd)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x545160[_0x2c1d09(0x575)],{'expiresIn':_0x545160[_0x2c1d09(0x671)],'encoding':_0x2c1d09(0x3d2),'subject':_0x2c1d09(0x567)}),_0x5b3839=await this[_0x2c1d09(0x5b9)][_0x2c1d09(0x435)][_0x2c1d09(0x3a5)]({'jwt':_0x265a07},_0x15035d[_0x2c1d09(0x5cd)]);if(_0x5b3839[_0x2c1d09(0x4f8)])throw this[_0x2c1d09(0x186)]['error']({'localError':c[_0x2c1d09(0x3c0)]+_0x2c1d09(0x45f),'error':_0x5b3839[_0x2c1d09(0x4f8)]}),new m(_0x2c1d09(0x1e0),_0x5b3839[_0x2c1d09(0x4f8)]?.[_0x2c1d09(0x4c5)]());return{'jwt':_0x265a07};}async[a0_0x56f010(0x5d5)](_0x19a8a7){const _0x506563=a0_0x56f010;let _0x8ddb74=(0x0,Rs['v4'])()[_0x506563(0x410)](),_0x4d8239=await this['repository']['auth']['create']({'apikey':_0x8ddb74},_0x19a8a7['instanceName']);if(_0x4d8239[_0x506563(0x4f8)])throw this['logger'][_0x506563(0x4f8)]({'localError':c[_0x506563(0x3c0)]+_0x506563(0x45f),'error':_0x4d8239[_0x506563(0x4f8)]}),new m('Authentication\x20error',_0x4d8239[_0x506563(0x4f8)]?.[_0x506563(0x4c5)]());return{'apikey':_0x8ddb74};}async['generateHash'](_0x48cd0c){const _0x530e88=a0_0x56f010;let _0x408a3a=this['configService']['get'](_0x530e88(0x3d7));return await this[_0x408a3a[_0x530e88(0x1f9)]](_0x48cd0c);}},Ut=class{constructor(_0x2f2f0b){this['waMonitor']=_0x2f2f0b;}async[a0_0x56f010(0x397)](_0xadc28d,_0x3717b6){const _0x1b0576=a0_0x56f010;return await this[_0x1b0576(0x2d0)]['waInstances'][_0xadc28d[_0x1b0576(0x5cd)]]['createGroup'](_0x3717b6);}async['updateGroupPicture'](_0x2f03a4,_0x17ee9f){const _0x2f7057=a0_0x56f010;return await this['waMonitor']['waInstances'][_0x2f03a4[_0x2f7057(0x5cd)]][_0x2f7057(0x155)](_0x17ee9f);}async[a0_0x56f010(0x443)](_0x3f21ba,_0x5b7351){const _0x19c252=a0_0x56f010;return await this[_0x19c252(0x2d0)][_0x19c252(0x1b1)][_0x3f21ba['instanceName']]['groupDesc'](_0x5b7351);}async[a0_0x56f010(0x5dc)](_0xb8424f,_0x26d77f){const _0x49d3f1=a0_0x56f010;return await this['waMonitor'][_0x49d3f1(0x1b1)][_0xb8424f['instanceName']][_0x49d3f1(0x5dc)](_0x26d77f);}async[a0_0x56f010(0x555)](_0x36ba18,_0x20d9a8){const _0x28cd55=a0_0x56f010;return await this[_0x28cd55(0x2d0)]['waInstances'][_0x36ba18[_0x28cd55(0x5cd)]][_0x28cd55(0x555)](_0x20d9a8);}async[a0_0x56f010(0x694)](_0x3e2f9a,_0x2bfd32){const _0x42d0b0=a0_0x56f010;return await this['waMonitor'][_0x42d0b0(0x1b1)][_0x3e2f9a[_0x42d0b0(0x5cd)]][_0x42d0b0(0x379)](_0x2bfd32);}async['findGroups'](_0x5a48b1){const _0x2baf0a=a0_0x56f010;return await this['waMonitor'][_0x2baf0a(0x1b1)][_0x5a48b1[_0x2baf0a(0x5cd)]][_0x2baf0a(0x220)]();}async[a0_0x56f010(0x22c)](_0x456f84,_0x29d3e6){const _0x119da4=a0_0x56f010;return await this[_0x119da4(0x2d0)][_0x119da4(0x1b1)][_0x456f84[_0x119da4(0x5cd)]][_0x119da4(0x22c)](_0x29d3e6);}async[a0_0x56f010(0x3f5)](_0xda4697,_0x106623){const _0x51e576=a0_0x56f010;return await this[_0x51e576(0x2d0)][_0x51e576(0x1b1)][_0xda4697[_0x51e576(0x5cd)]]['joinGroup'](_0x106623);}async[a0_0x56f010(0x5b1)](_0x1a9bd8,_0x1a42db){const _0x7ab784=a0_0x56f010;return await this[_0x7ab784(0x2d0)][_0x7ab784(0x1b1)][_0x1a9bd8[_0x7ab784(0x5cd)]][_0x7ab784(0x5b1)](_0x1a42db);}async['findParticipants'](_0x56b9a7,_0x4720b8){const _0x32b20b=a0_0x56f010;return await this[_0x32b20b(0x2d0)][_0x32b20b(0x1b1)][_0x56b9a7[_0x32b20b(0x5cd)]][_0x32b20b(0x545)](_0x4720b8);}async[a0_0x56f010(0x37d)](_0x257c6a,_0xc72271){const _0x14543c=a0_0x56f010;return await this['waMonitor'][_0x14543c(0x1b1)][_0x257c6a[_0x14543c(0x5cd)]][_0x14543c(0x643)](_0xc72271);}async['toggleEphemeral'](_0x430845,_0x48e9b2){const _0x18d11b=a0_0x56f010;return await this[_0x18d11b(0x2d0)][_0x18d11b(0x1b1)][_0x430845[_0x18d11b(0x5cd)]]['toggleEphemeral'](_0x48e9b2);}async[a0_0x56f010(0x6b6)](_0x47472f,_0x42b413){const _0x1bd8e9=a0_0x56f010;return await this[_0x1bd8e9(0x2d0)][_0x1bd8e9(0x1b1)][_0x47472f[_0x1bd8e9(0x5cd)]][_0x1bd8e9(0x6b6)](_0x42b413);}},Jt=class{constructor(_0x2266de){const _0x16c3ac=a0_0x56f010;this[_0x16c3ac(0x2d0)]=_0x2266de;}[a0_0x56f010(0x3a5)](_0xc44810,_0x39195e){const _0x5e506f=a0_0x56f010;return this[_0x5e506f(0x2d0)][_0x5e506f(0x1b1)][_0xc44810['instanceName']]['setWebhook'](_0x39195e);}async[a0_0x56f010(0x766)](_0x32e7e8){const _0x5a6f15=a0_0x56f010;try{return await this[_0x5a6f15(0x2d0)][_0x5a6f15(0x1b1)][_0x32e7e8[_0x5a6f15(0x5cd)]][_0x5a6f15(0x75d)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x56f010(0x313)),Vt=class{constructor(_0x2086a9){const _0x37e46f=a0_0x56f010;this[_0x37e46f(0x2d0)]=_0x2086a9;}async[a0_0x56f010(0x323)](_0x52b440,_0x28e5a8){const _0x3ce4f9=a0_0x56f010;return await this['waMonitor']['waInstances'][_0x52b440[_0x3ce4f9(0x5cd)]][_0x3ce4f9(0x323)](_0x28e5a8);}async[a0_0x56f010(0x44c)](_0x15890b){const _0x2622d9=a0_0x56f010;return await this[_0x2622d9(0x2d0)][_0x2622d9(0x1b1)][_0x15890b['instanceName']][_0x2622d9(0x44c)]();}async[a0_0x56f010(0x4ba)](_0x2280aa){const _0x4c00ea=a0_0x56f010;return await this['waMonitor'][_0x4c00ea(0x1b1)][_0x2280aa[_0x4c00ea(0x5cd)]]['deleteDoneMessages']();}async[a0_0x56f010(0x6ea)](_0x135f34){const _0x3b48ef=a0_0x56f010;return await this[_0x3b48ef(0x2d0)][_0x3b48ef(0x1b1)][_0x135f34[_0x3b48ef(0x5cd)]]['getAutomateSystem']();}async[a0_0x56f010(0x3da)](_0x11e79d,_0x117964){const _0x411c3f=a0_0x56f010;return await this[_0x411c3f(0x2d0)][_0x411c3f(0x1b1)][_0x11e79d[_0x411c3f(0x5cd)]][_0x411c3f(0x3da)](_0x117964);}async[a0_0x56f010(0x3b4)](_0x3c136e,_0x543e48){const _0x45fd77=a0_0x56f010;return await this[_0x45fd77(0x2d0)]['waInstances'][_0x3c136e['instanceName']][_0x45fd77(0x3b4)](_0x543e48);}async[a0_0x56f010(0x24f)](_0x1865c7,_0x592c6a){const _0x1f411c=a0_0x56f010;return await this[_0x1f411c(0x2d0)]['waInstances'][_0x1865c7[_0x1f411c(0x5cd)]][_0x1f411c(0x24f)](_0x592c6a);}async[a0_0x56f010(0x476)](_0x5ed607,_0x1d66b2){const _0x2e4ff9=a0_0x56f010;return await this['waMonitor']['waInstances'][_0x5ed607[_0x2e4ff9(0x5cd)]][_0x2e4ff9(0x476)](_0x1d66b2);}async[a0_0x56f010(0x13b)](_0x35521f,_0x327b2a){const _0x30ea3b=a0_0x56f010;return await this[_0x30ea3b(0x2d0)][_0x30ea3b(0x1b1)][_0x35521f[_0x30ea3b(0x5cd)]][_0x30ea3b(0x13b)](_0x327b2a);}async[a0_0x56f010(0x3c4)](_0x4d1f53,_0x1169cc){const _0x9df9c6=a0_0x56f010;return await this[_0x9df9c6(0x2d0)][_0x9df9c6(0x1b1)][_0x4d1f53[_0x9df9c6(0x5cd)]]['fetchConversation'](_0x1169cc);}async['editConversation'](_0x200724,_0x3ecfa9){const _0x13b5be=a0_0x56f010;return await this[_0x13b5be(0x2d0)][_0x13b5be(0x1b1)][_0x200724['instanceName']][_0x13b5be(0x7a0)](_0x3ecfa9);}async['deleteConversation'](_0x432576,_0x195a7c){const _0x18ff47=a0_0x56f010;return await this[_0x18ff47(0x2d0)][_0x18ff47(0x1b1)][_0x432576[_0x18ff47(0x5cd)]][_0x18ff47(0x11f)](_0x195a7c);}async[a0_0x56f010(0x341)](_0x4238ae,_0x2e3267){const _0x2b6cd3=a0_0x56f010;return await this[_0x2b6cd3(0x2d0)]['waInstances'][_0x4238ae[_0x2b6cd3(0x5cd)]][_0x2b6cd3(0x341)](_0x2e3267[_0x2b6cd3(0x3c0)]);}async[a0_0x56f010(0x591)](_0x4264e1,_0xe00b51){const _0x38c972=a0_0x56f010;return await this['waMonitor'][_0x38c972(0x1b1)][_0x4264e1[_0x38c972(0x5cd)]][_0x38c972(0x591)](_0xe00b51);}async[a0_0x56f010(0x414)](_0xc8eac2,_0x4b63d8){const _0x1fa067=a0_0x56f010;return await this[_0x1fa067(0x2d0)][_0x1fa067(0x1b1)][_0xc8eac2['instanceName']][_0x1fa067(0x414)](_0x4b63d8);}async[a0_0x56f010(0x5fe)](_0x3bfe57,_0x2e2f32){const _0x2ee601=a0_0x56f010;return await this[_0x2ee601(0x2d0)][_0x2ee601(0x1b1)][_0x3bfe57['instanceName']][_0x2ee601(0x5fe)](_0x2e2f32);}async[a0_0x56f010(0x725)](_0x8d570c,_0x35ba01){const _0x5c7b31=a0_0x56f010;return await this[_0x5c7b31(0x2d0)][_0x5c7b31(0x1b1)][_0x8d570c[_0x5c7b31(0x5cd)]][_0x5c7b31(0x725)](_0x35ba01);}async['editFlowGroup'](_0x52de68,_0xe7ae3){const _0x3aab31=a0_0x56f010;return await this[_0x3aab31(0x2d0)]['waInstances'][_0x52de68['instanceName']]['editFlowGroup'](_0xe7ae3);}async[a0_0x56f010(0x62c)](_0x4b23c7,_0x2b9051){const _0x2d9364=a0_0x56f010;return await this[_0x2d9364(0x2d0)][_0x2d9364(0x1b1)][_0x4b23c7[_0x2d9364(0x5cd)]][_0x2d9364(0x62c)](_0x2b9051);}async[a0_0x56f010(0x58b)](_0x1e983a,_0xba654b){const _0x17e001=a0_0x56f010;return await this[_0x17e001(0x2d0)][_0x17e001(0x1b1)][_0x1e983a[_0x17e001(0x5cd)]]['editFlowVaredit'](_0xba654b);}async[a0_0x56f010(0x1de)](_0x54117d,_0x42f5b7){const _0x45da8c=a0_0x56f010;return await this['waMonitor']['waInstances'][_0x54117d[_0x45da8c(0x5cd)]][_0x45da8c(0x1de)](_0x42f5b7);}async[a0_0x56f010(0x395)](_0x39f715,_0x3ea2af){const _0x1c9036=a0_0x56f010;return await this[_0x1c9036(0x2d0)][_0x1c9036(0x1b1)][_0x39f715[_0x1c9036(0x5cd)]][_0x1c9036(0x395)](_0x3ea2af['name']);}async['allFlows'](_0x41ae56){return await this['waMonitor']['waInstances'][_0x41ae56['instanceName']]['allFlows']();}},Bt=class{constructor(_0xe80931){const _0x439b5f=a0_0x56f010;this[_0x439b5f(0x45d)]=_0xe80931;}async[a0_0x56f010(0x19d)](_0x425a10,_0x55e5ef){const _0x5b6aa9=a0_0x56f010;return this[_0x5b6aa9(0x45d)][_0x5b6aa9(0x3a5)](_0x425a10,_0x55e5ef);}async[a0_0x56f010(0x75d)](_0x3e4be9){const _0x5c41a3=a0_0x56f010;return this[_0x5c41a3(0x45d)]['find'](_0x3e4be9);}},Gt=class extends I{constructor(_0x4b2e50,_0x35913e){const _0x541b34=a0_0x56f010;super(_0x35913e),this[_0x541b34(0x4d0)]=_0x4b2e50,this[_0x541b34(0x663)]=_0x35913e;}async[a0_0x56f010(0x3a5)](_0x50762c,_0xd14143){const _0x57f4b5=a0_0x56f010;try{return this[_0x57f4b5(0x2e2)][_0x57f4b5(0x365)]?{'insertCount':(await this[_0x57f4b5(0x4d0)][_0x57f4b5(0x167)]({'_id':_0xd14143},{..._0x50762c},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x35a6b1){return _0x35a6b1;}}async[a0_0x56f010(0x2d3)](_0x1e7b3a){const _0x4e257c=a0_0x56f010;try{if(this[_0x4e257c(0x2e2)][_0x4e257c(0x365)]){await this[_0x4e257c(0x4d0)]['deleteOne']({'_id':_0x1e7b3a});return;}}catch(_0x2b3b07){return{'error':_0x2b3b07};}}async[a0_0x56f010(0x766)](_0x19489a){const _0x574885=a0_0x56f010;try{if(this[_0x574885(0x2e2)][_0x574885(0x365)])return await this[_0x574885(0x4d0)][_0x574885(0x2a7)]({'_id':_0x19489a});}catch{return{};}}},Wt=class extends I{constructor(_0x37f44e,_0x53b530){const _0x3c0309=a0_0x56f010;super(_0x53b530),this[_0x3c0309(0x324)]=_0x37f44e,this[_0x3c0309(0x663)]=_0x53b530,this['auth']=_0x53b530[_0x3c0309(0x750)](_0x3c0309(0x3d7));}async[a0_0x56f010(0x3a5)](_0x36f82b,_0x4415e7){const _0x4cb506=a0_0x56f010;try{if(this[_0x4cb506(0x2e2)][_0x4cb506(0x365)])return{'insertCount':(await this['authModel'][_0x4cb506(0x4c4)]({'_id':_0x4415e7},{'$set':{..._0x36f82b}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x257252){return{'error':_0x257252};}}async[a0_0x56f010(0x798)](_0x4b7f9e,_0xae1ba0){const _0xc951d1=a0_0x56f010;try{if(this[_0xc951d1(0x2e2)][_0xc951d1(0x365)])return{'insertCount':(await this['authModel']['updateMany'](_0x4b7f9e,{'$set':_0xae1ba0},{'upsert':!0x1}))[_0xc951d1(0x28a)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x33989c){return{'error':_0x33989c};}}async[a0_0x56f010(0x312)](_0x29b205){const _0x3817ee=a0_0x56f010;try{if(this[_0x3817ee(0x2e2)][_0x3817ee(0x365)])return{'insertCount':(await this[_0x3817ee(0x324)][_0x3817ee(0x312)](_0x29b205))[_0x3817ee(0x364)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x1a6a6b){return{'error':_0x1a6a6b};}}async['delete'](_0x55b59f){const _0x56054e=a0_0x56f010;try{if(this[_0x56054e(0x2e2)]['ENABLED']){await this[_0x56054e(0x324)][_0x56054e(0x50d)]({'_id':_0x55b59f});return;}}catch(_0x4552a9){return{'error':_0x4552a9};}}async[a0_0x56f010(0x766)](_0x3fa8df){const _0x394e3f=a0_0x56f010;try{if(this['dbSettings'][_0x394e3f(0x365)])return await this[_0x394e3f(0x324)][_0x394e3f(0x2a7)]({'_id':_0x3fa8df});}catch{return{};}}async[a0_0x56f010(0x513)](){const _0x5252f4=a0_0x56f010;try{if(this[_0x5252f4(0x2e2)][_0x5252f4(0x365)])return await this[_0x5252f4(0x324)][_0x5252f4(0x766)]();}catch{return[];}}},zt=class extends I{['getFlowModelForOwner'](_0x1b160d){return ta(_0x1b160d);}async[a0_0x56f010(0x307)](_0x4a7d90){const _0x77d58f=a0_0x56f010;try{let _0x37cd41=sa,_0x5e2385=this['getFlowModelForOwner'](_0x4a7d90),_0x168e21=await _0x37cd41['find']({'owner':_0x4a7d90})[_0x77d58f(0x569)](),_0x2cdf82=[],_0x5b04ee=[];for(let _0x5d85fc of _0x168e21)await _0x5e2385[_0x77d58f(0x42b)](_0x5d85fc[_0x77d58f(0x20e)])[_0x77d58f(0x569)]()||(_0x2cdf82[_0x77d58f(0x143)](_0x5d85fc),_0x5b04ee[_0x77d58f(0x143)](_0x5d85fc[_0x77d58f(0x20e)]));return _0x2cdf82['length']>0x0&&await _0x5e2385[_0x77d58f(0x1f8)](_0x2cdf82,{'ordered':!0x1}),{'success':!0x0};}catch(_0x49973a){return console['error'](_0x77d58f(0x384),_0x49973a),{'success':!0x1,'error':_0x49973a};}}async['delete'](_0x4a6a29,_0x4fe114){const _0x5b391c=a0_0x56f010;try{let _0x57137f=this['getFlowModelForOwner'](_0x4fe114),_0x199dd9=A(_0x4a6a29['where']);return{'deletedCount':(await _0x57137f[_0x5b391c(0x312)](_0x199dd9))[_0x5b391c(0x364)]};}catch(_0x823ab8){return{'error':_0x823ab8?.[_0x5b391c(0x4c5)]()};}}async[a0_0x56f010(0x50d)](_0x51b499,_0x815597){const _0x297a4e=a0_0x56f010;try{let _0x351fff=this[_0x297a4e(0x5e5)](_0x815597),_0x356ed1=A(_0x51b499[_0x297a4e(0x5e0)]);return{'deletedCount':(await _0x351fff[_0x297a4e(0x50d)](_0x356ed1))['deletedCount']};}catch(_0x5f4bb9){return{'error':_0x5f4bb9?.[_0x297a4e(0x4c5)]()};}}async['updateOne'](_0x5a1107,_0x349d6e,_0x2fe86d){const _0x245a4=a0_0x56f010;try{return await this[_0x245a4(0x5e5)](_0x2fe86d)[_0x245a4(0x198)](_0x5a1107,_0x349d6e,{'new':!0x0});}catch(_0x4db716){return console[_0x245a4(0x4f8)](_0x245a4(0x1fc),_0x4db716),null;}}async[a0_0x56f010(0x172)](_0x46b325,_0x3e01e8){const _0x3a8568=a0_0x56f010;try{let _0xbc6e3=this['getFlowModelForOwner'](_0x3e01e8);return await new _0xbc6e3(_0x46b325)[_0x3a8568(0x1dc)]();}catch(_0x115efc){return console[_0x3a8568(0x4f8)](_0x3a8568(0x354),_0x115efc),null;}}async[a0_0x56f010(0x346)](_0x483494,_0x611fe7,_0x4d5e82){const _0x17b987=a0_0x56f010;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x4d5e82)[_0x17b987(0x346)](_0x483494,{'$set':_0x611fe7}))[_0x17b987(0x28a)]};}catch(_0x5c6fba){return console[_0x17b987(0x4f8)](_0x17b987(0x375),_0x5c6fba),{'error':_0x5c6fba};}}async[a0_0x56f010(0x513)](_0x15a132,_0x4312ff){const _0x920407=a0_0x56f010;try{let _0x390a7b=this[_0x920407(0x5e5)](_0x4312ff),_0x445960=A(_0x15a132[_0x920407(0x5e0)]);return await _0x390a7b[_0x920407(0x766)](_0x445960)[_0x920407(0x58d)](_0x15a132?.['limit']??0x0)[_0x920407(0x569)]();}catch{return[];}}async[a0_0x56f010(0x2a7)](_0x28a3bf,_0x577309){const _0x56b52c=a0_0x56f010;try{let _0xb3eb05=this['getFlowModelForOwner'](_0x577309),_0x1c914b=A(_0x28a3bf[_0x56b52c(0x5e0)]);return await _0xb3eb05['findOne'](_0x1c914b)[_0x56b52c(0x569)]();}catch{return null;}}async[a0_0x56f010(0x332)](_0x149b25){const _0x42e69b=a0_0x56f010;try{return await this[_0x42e69b(0x5e5)](_0x149b25)[_0x42e69b(0x5aa)][_0x42e69b(0x254)](),{'success':!0x0};}catch(_0x3d08d5){return console[_0x42e69b(0x4f8)](_0x3d08d5),{'success':!0x1,'error':_0x3d08d5};}}},Ht=class extends I{[a0_0x56f010(0x603)](_0x5dd91e){return oa(_0x5dd91e);}async[a0_0x56f010(0x307)](_0x44f62c){const _0x389ede=a0_0x56f010;try{let _0x3094b1=ra,_0x3415da=this['getConversationModelForOwner'](_0x44f62c),_0x4a91a8=await _0x3094b1[_0x389ede(0x766)]({'owner':_0x44f62c})['lean'](),_0x85f057=[],_0x688b18=[];for(let _0x43c6e1 of _0x4a91a8)await _0x3415da[_0x389ede(0x42b)](_0x43c6e1[_0x389ede(0x20e)])[_0x389ede(0x569)]()||(_0x85f057[_0x389ede(0x143)](_0x43c6e1),_0x688b18['push'](_0x43c6e1[_0x389ede(0x20e)]));return _0x85f057[_0x389ede(0x17a)]>0x0&&await _0x3415da['insertMany'](_0x85f057,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1075e4){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x1075e4),{'success':!0x1,'error':_0x1075e4};}}async['insert'](_0x2944fe){const _0x5da5c3=a0_0x56f010;if(_0x2944fe[_0x5da5c3(0x17a)]!==0x0)try{return{'insertCount':(await this[_0x5da5c3(0x603)](_0x2944fe[0x0][_0x5da5c3(0x306)])['insertMany']([..._0x2944fe]))[_0x5da5c3(0x17a)]};}catch(_0x30b1c3){return _0x30b1c3;}}async['delete'](_0x3c2736,_0x1ad944){const _0x3f1248=a0_0x56f010;try{let _0x3aa36e=this[_0x3f1248(0x603)](_0x1ad944),_0x1bec4f=A(_0x3c2736[_0x3f1248(0x5e0)]);return{'deletedCount':(await _0x3aa36e[_0x3f1248(0x312)](_0x1bec4f))[_0x3f1248(0x364)]};}catch(_0x511f18){return{'error':_0x511f18?.[_0x3f1248(0x4c5)]()};}}async['deleteOne'](_0x4e0677,_0x45ff77){const _0x5d4eef=a0_0x56f010;try{let _0x8ef618=this[_0x5d4eef(0x603)](_0x45ff77),_0x4424a9=A(_0x4e0677[_0x5d4eef(0x5e0)]);return{'deletedCount':(await _0x8ef618[_0x5d4eef(0x50d)](_0x4424a9))[_0x5d4eef(0x364)]};}catch(_0x173804){return{'error':_0x173804?.[_0x5d4eef(0x4c5)]()};}}async[a0_0x56f010(0x189)](_0x15f237,_0x217a03){const _0x3698ba=a0_0x56f010;try{if(_0x15f237[_0x3698ba(0x17a)]===0x0)return;let _0x423502=this[_0x3698ba(0x603)](_0x217a03),_0x510b6d=_0x15f237[_0x3698ba(0x1ef)](_0x42e71f=>({'updateOne':{'filter':{'name':_0x42e71f[_0x3698ba(0x3c0)],'owner':_0x217a03},'update':{..._0x42e71f}}})),{modifiedCount:_0x269ad0}=await _0x423502[_0x3698ba(0x67e)](_0x510b6d);return{'insertCount':_0x269ad0};}catch{return;}}async[a0_0x56f010(0x346)](_0x252625,_0x2a3a1e,_0x40f536){const _0x2680ef=a0_0x56f010;try{return{'modifiedCount':(await this[_0x2680ef(0x603)](_0x40f536)[_0x2680ef(0x346)](_0x252625,{'$set':_0x2a3a1e}))[_0x2680ef(0x28a)]};}catch(_0x5558ee){return console[_0x2680ef(0x4f8)](_0x2680ef(0x12b),_0x5558ee),{'error':_0x5558ee};}}async[a0_0x56f010(0x4c4)](_0x21944c,_0x1515ec,_0x59861e){const _0x11ec4b=a0_0x56f010;try{return await this['getConversationModelForOwner'](_0x59861e)[_0x11ec4b(0x15a)]({'_id':_0x21944c},{'$set':_0x1515ec},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x448c05){return console[_0x11ec4b(0x4f8)](_0x448c05),null;}}async['find'](_0x3ddf12,_0x1e6b81){const _0x34ab3e=a0_0x56f010;try{return await this['getConversationModelForOwner'](_0x1e6b81)['find'](_0x3ddf12)[_0x34ab3e(0x537)]({'lastInteraction':-0x1})[_0x34ab3e(0x569)]();}catch{return[];}}async[a0_0x56f010(0x2a7)](_0x3838fa,_0x46b4e5){const _0x222e91=a0_0x56f010;try{return await this[_0x222e91(0x603)](_0x46b4e5)[_0x222e91(0x2a7)]({..._0x3838fa[_0x222e91(0x5e0)]})[_0x222e91(0x569)]();}catch{return null;}}async[a0_0x56f010(0x332)](_0x30e9b3){const _0x44f4cf=a0_0x56f010;try{return await this[_0x44f4cf(0x603)](_0x30e9b3)['collection']['drop'](),{'success':!0x0};}catch(_0x3682f3){return console['error'](_0x3682f3),{'success':!0x1,'error':_0x3682f3};}}},Kt=class extends I{[a0_0x56f010(0x12c)](_0xf1639d){return na(_0xf1639d);}async[a0_0x56f010(0x307)](_0x302d02){const _0x4c0a39=a0_0x56f010;try{let _0x1e5322=ca,_0x5eca54=this['getScheduleMessageModelForOwner'](_0x302d02),_0x4cbcf7=await _0x1e5322[_0x4c0a39(0x766)]({'owner':_0x302d02})['lean'](),_0x1d19b8=[],_0x34f3e1=[];for(let _0x2faf6b of _0x4cbcf7)await _0x5eca54[_0x4c0a39(0x42b)](_0x2faf6b['_id'])[_0x4c0a39(0x569)]()||(_0x1d19b8['push'](_0x2faf6b),_0x34f3e1['push'](_0x2faf6b[_0x4c0a39(0x20e)]));return _0x1d19b8[_0x4c0a39(0x17a)]>0x0&&await _0x5eca54[_0x4c0a39(0x1f8)](_0x1d19b8,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4dfd5a){return console['error'](_0x4c0a39(0x384),_0x4dfd5a),{'success':!0x1,'error':_0x4dfd5a};}}async[a0_0x56f010(0x172)](_0x2f9334,_0x15d30a){const _0x29faf0=a0_0x56f010;try{let _0xcfb2b0=this[_0x29faf0(0x12c)](_0x15d30a);return await new _0xcfb2b0(_0x2f9334)[_0x29faf0(0x1dc)]();}catch(_0xf6a277){return console[_0x29faf0(0x4f8)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0xf6a277),null;}}async['deleteOne'](_0x5003f6,_0x21d2ca){const _0xab771a=a0_0x56f010;try{return await this[_0xab771a(0x12c)](_0x21d2ca)[_0xab771a(0x6bd)](_0x5003f6),{};}catch(_0x44dafc){return{'error':_0x44dafc?.[_0xab771a(0x4c5)]()};}}async[a0_0x56f010(0x4c4)](_0x22788e,_0x57607f,_0xbe5f0f){const _0x3ac2b4=a0_0x56f010;try{return await this[_0x3ac2b4(0x12c)](_0xbe5f0f)[_0x3ac2b4(0x15a)](_0x22788e,{'$set':_0x57607f},{'new':!0x0})[_0x3ac2b4(0x569)]();}catch(_0x5566ea){return console['error'](_0x3ac2b4(0x43e),_0x5566ea),null;}}async[a0_0x56f010(0x123)](_0xba2d45,_0x5ceb21,_0x2cbfdf){const _0xed2e6d=a0_0x56f010;try{return await this[_0xed2e6d(0x12c)](_0x2cbfdf)[_0xed2e6d(0x198)](_0xba2d45,_0x5ceb21,{'new':!0x0})[_0xed2e6d(0x569)]();}catch(_0x85fa8f){return console['error'](_0xed2e6d(0x43e),_0x85fa8f),null;}}async['find'](_0x5afe2e,_0x5b8e40){const _0x56a0bc=a0_0x56f010;try{return await this[_0x56a0bc(0x12c)](_0x5b8e40)[_0x56a0bc(0x766)](_0x5afe2e[_0x56a0bc(0x5e0)])[_0x56a0bc(0x58d)](_0x5afe2e?.['limit']??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0x56f010(0x2a7)](_0x3c0579,_0x1b9b59){const _0xed0c96=a0_0x56f010;try{return await this[_0xed0c96(0x12c)](_0x1b9b59)[_0xed0c96(0x2a7)](_0x3c0579['where'])['sort']({'when':0x1})[_0xed0c96(0x569)]();}catch{return null;}}async[a0_0x56f010(0x42b)](_0x3d66b3,_0x17133e){const _0x17644c=a0_0x56f010;try{return await this[_0x17644c(0x12c)](_0x17133e)[_0x17644c(0x42b)](_0x3d66b3)[_0x17644c(0x569)]();}catch{return null;}}async[a0_0x56f010(0x312)](_0x201b4f,_0x57708b){const _0x52d61c=a0_0x56f010;try{return{'deletedCount':(await this[_0x52d61c(0x12c)](_0x57708b)[_0x52d61c(0x312)](_0x201b4f))[_0x52d61c(0x364)]};}catch(_0x58bf4d){return console[_0x52d61c(0x4f8)](_0x52d61c(0x33b),_0x58bf4d),{'error':_0x58bf4d};}}async[a0_0x56f010(0x332)](_0x1c33b9){const _0x571866=a0_0x56f010;try{return await this[_0x571866(0x12c)](_0x1c33b9)['collection']['drop'](),{'success':!0x0};}catch(_0x32b824){return console['error'](_0x32b824),{'success':!0x1,'error':_0x32b824};}}},Qt=class extends I{async[a0_0x56f010(0x189)](_0x110e68,_0x251f5e){const _0x2668af=a0_0x56f010;try{if(this[_0x2668af(0x2e2)][_0x2668af(0x365)]){let _0x5c73cd=await Pe[_0x2668af(0x15a)]({'_id':_0x251f5e},{'$set':_0x110e68},{'new':!0x0});return console['log']('Resultado\x20da\x20atualização:',_0x5c73cd),_0x5c73cd;}}catch(_0x206695){throw console[_0x2668af(0x4f8)](_0x2668af(0x757),_0x206695),_0x206695;}}async[a0_0x56f010(0x3a1)](_0x20ec8e){const _0x1401ba=a0_0x56f010;try{let _0x5227f=await Pe['findById'](_0x20ec8e);return _0x5227f||(_0x5227f=new Pe({'_id':_0x20ec8e}),await _0x5227f['save']()),_0x5227f;}catch(_0x18a4fb){return console[_0x1401ba(0x4f8)](_0x1401ba(0x23a),_0x18a4fb),null;}}},yr=new v(a0_0x56f010(0x2fc)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.['getClient']()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0x56f010(0x66d)]('Module\x20-\x20ON');var gg=require(a0_0x56f010(0x6f5)),Ts=require('fs'),Mo=R(require(a0_0x56f010(0x325))),vo=R(require('http')),Ne=class c{static #e;static set[a0_0x56f010(0x337)](_0x1e5704){this.#e=_0x1e5704;}static get[a0_0x56f010(0x325)](){const _0x4c3e65=a0_0x56f010;let {FULLCHAIN:_0x2ddae0,PRIVKEY:_0x32d157}=b[_0x4c3e65(0x750)](_0x4c3e65(0x1ec));return Mo[_0x4c3e65(0x571)]({'cert':(0x0,Ts[_0x4c3e65(0x425)])(_0x2ddae0),'key':(0x0,Ts[_0x4c3e65(0x425)])(_0x32d157)},c.#e);}static get[a0_0x56f010(0x5a7)](){const _0x198c3d=a0_0x56f010;return vo[_0x198c3d(0x571)](c.#e);}},de=R(require('fs')),Io=R(require('ini')),Re=R(require(a0_0x56f010(0x152))),Ae=R(require(a0_0x56f010(0x248))),Oe=require('child_process');function xr(){const _0x536681=a0_0x56f010;B['loadInstance']();let _0x28d930=Ae['default']['join'](__dirname,_0x536681(0x202));Oo(_0x28d930);}var Oo=_0x4a05a9=>{const _0x107f31=a0_0x56f010;let _0x2c7299=de[_0x107f31(0x34a)][_0x107f31(0x1f7)](_0x4a05a9),_0x1a3d4a=0xc*0x3c*0x3c*0x3e8,_0x21a948=0x2*0x3c*0x3c*0x3e8,_0x4187a1=new Date()[_0x107f31(0x3e1)]();_0x2c7299[_0x107f31(0x147)](_0x2d594d=>{const _0x51fd3f=_0x107f31;let _0x269e49=Ae[_0x51fd3f(0x34a)][_0x51fd3f(0x4c2)](_0x4a05a9,_0x2d594d),_0x5b13c7=de[_0x51fd3f(0x34a)]['statSync'](_0x269e49)[_0x51fd3f(0x729)][_0x51fd3f(0x3e1)]();_0x4187a1-_0x5b13c7>_0x1a3d4a&&(de[_0x51fd3f(0x34a)][_0x51fd3f(0x776)](_0x269e49),console[_0x51fd3f(0x125)]('Deleted\x20'+_0x2d594d));}),setTimeout(()=>Oo(_0x4a05a9),_0x21a948);};function Dr(){const _0x1e0e9b=a0_0x56f010;let _0x51fe4=new v('SERVER'),_0x5c8003=(0x0,pe[_0x1e0e9b(0x34a)])();_0x5c8003['use']((0x0,Ao[_0x1e0e9b(0x34a)])({'origin'(_0x527aaa,_0x3f7c05){const _0x2dfe7f=_0x1e0e9b;let {ORIGIN:_0x315ae3}=b[_0x2dfe7f(0x750)](_0x2dfe7f(0x6fd));return _0x527aaa||(_0x527aaa='*'),_0x315ae3[_0x2dfe7f(0x50b)]('*')!==-0x1||_0x315ae3[_0x2dfe7f(0x50b)](_0x527aaa)!==-0x1?_0x3f7c05(null,!0x0):_0x3f7c05(new Error(_0x2dfe7f(0x245)));},'methods':[...b[_0x1e0e9b(0x750)](_0x1e0e9b(0x6fd))[_0x1e0e9b(0x682)]],'credentials':b['get'](_0x1e0e9b(0x6fd))[_0x1e0e9b(0x209)]}),(0x0,pe['urlencoded'])({'extended':!0x0,'limit':_0x1e0e9b(0x5a4)}),(0x0,pe[_0x1e0e9b(0x6d7)])({'limit':'50mb'})),_0x5c8003[_0x1e0e9b(0x4e3)]((_0x51c49f,_0x205f5e,_0x2e3d1d)=>{const _0x39cac6=_0x1e0e9b;_0x51c49f[_0x39cac6(0x248)][_0x39cac6(0x47d)](_0x39cac6(0x636))?_0x2e3d1d():(0x0,To['default'])()(_0x51c49f,_0x205f5e,_0x2e3d1d);}),_0x5c8003[_0x1e0e9b(0x168)]('view\x20engine',_0x1e0e9b(0x356)),_0x5c8003[_0x1e0e9b(0x168)]('views',(0x0,Os[_0x1e0e9b(0x4c2)])(ae,_0x1e0e9b(0x347))),_0x5c8003[_0x1e0e9b(0x4e3)](pe['default'][_0x1e0e9b(0x65d)]((0x0,Os[_0x1e0e9b(0x4c2)])(ae,_0x1e0e9b(0x5b2)))),_0x5c8003[_0x1e0e9b(0x4e3)]((_0x45bbde,_0x2e1fb4,_0x3ab97f)=>{const _0x331cca=_0x1e0e9b;let _0x5818a9=_0x2e1fb4['send'];_0x2e1fb4[_0x331cca(0x6d9)]=function(_0x16c906){const _0x2b0a09=_0x331cca;if(_0x45bbde[_0x2b0a09(0x335)][_0x2b0a09(0x2e4)]===_0x2b0a09(0x18f)||_0x45bbde[_0x2b0a09(0x374)][_0x2b0a09(0x3aa)]===_0x2b0a09(0x18f)){let _0x374f87=JSON[_0x2b0a09(0x2cd)](_0x16c906);_0x16c906=JSON[_0x2b0a09(0x1b7)](_0x2b58fb(_0x374f87));}return _0x5818a9[_0x2b0a09(0x261)](_0x2e1fb4,[_0x16c906]);},_0x3ab97f();}),_0x5c8003[_0x1e0e9b(0x4e3)]('/',vt),_0x5c8003[_0x1e0e9b(0x4e3)]((_0x1787ad,_0xaf2887,_0x1332be,_0x294432)=>{const _0x57e4ab=_0x1e0e9b;if(_0x1787ad)return _0x1332be[_0x57e4ab(0x1b0)](_0x1787ad[_0x57e4ab(0x1b0)]||0x1f4)['json'](_0x1787ad);},(_0x2b78f7,_0x344b34,_0x26ca2a)=>{const _0x564f58=_0x1e0e9b;let {method:_0x496bb0,url:_0x4e75d6}=_0x2b78f7;_0x344b34[_0x564f58(0x1b0)](0x194)[_0x564f58(0x6d7)]({'status':0x194,'message':'Cannot\x20'+_0x496bb0[_0x564f58(0x410)]()+'\x20'+_0x4e75d6,'error':_0x564f58(0x46b)}),_0x26ca2a();});let _0x2b58fb=(_0x8974e6,_0x134804=_0x1e0e9b(0x5d1))=>{const _0x5b57ec=_0x1e0e9b;let _0x2b91d9=(_0x534537,_0x1fb156=null,_0x3c46f0=!0x1)=>{let _0x41dc23={};return Object['keys'](_0x534537)['forEach'](_0x503a31=>{const _0x352b3f=a0_0x4a73;let _0x565f3a=_0x534537[_0x503a31],_0x35e61e=''+_0x134804+_0x503a31;_0x1fb156&&!_0x3c46f0&&(_0x35e61e=_0x1fb156+'.'+_0x503a31),!_0x565f3a&&_0x565f3a!==0x0&&_0x565f3a!==!0x1||typeof _0x565f3a>'u'?_0x41dc23[_0x35e61e]=null:typeof _0x565f3a!=_0x352b3f(0x5d0)&&!Array['isArray'](_0x565f3a)?_0x41dc23[_0x35e61e]=_0x565f3a:typeof _0x565f3a==_0x352b3f(0x5d0)&&!Array[_0x352b3f(0x5f1)](_0x565f3a)?_0x41dc23=Object[_0x352b3f(0x58f)](_0x41dc23,_0x2b91d9(_0x565f3a,_0x35e61e)):Array[_0x352b3f(0x5f1)](_0x565f3a)&&(typeof _0x565f3a[0x0]==_0x352b3f(0x5d0)?(_0x41dc23[_0x35e61e]=[],_0x565f3a['forEach'](_0x22c768=>{_0x41dc23[_0x35e61e]['push'](_0x2b91d9(_0x22c768,_0x35e61e,!0x0));})):_0x41dc23[_0x35e61e]=_0x565f3a);}),_0x41dc23;};return Array[_0x5b57ec(0x5f1)](_0x8974e6)?_0x8974e6[_0x5b57ec(0x1ef)](_0x27d127=>_0x2b91d9(_0x27d127)):typeof _0x8974e6==_0x5b57ec(0x5d0)&&_0x8974e6!==null?_0x2b91d9(_0x8974e6):{};},_0x2e745f=b[_0x1e0e9b(0x750)]('SERVER');Ne[_0x1e0e9b(0x337)]=_0x5c8003;let _0x11a5b4=Ne[_0x2e745f['TYPE']],_0x36df98=_0x1e0e9b(0x1d4);_0x11a5b4[_0x1e0e9b(0x2f1)](_0x2e745f[_0x1e0e9b(0x24e)],()=>{const _0x445317=_0x1e0e9b;_0x51fe4[_0x445317(0x125)](_0x36df98),_0x51fe4[_0x445317(0x125)](_0x2e745f[_0x445317(0x1f9)][_0x445317(0x410)]()+_0x445317(0x5f7)+_0x2e745f[_0x445317(0x24e)]);}),xr(),Fs();}var _r='https://github.com/uazapi/uazapi.git',Pr=Ae[a0_0x56f010(0x34a)]['join'](__dirname,a0_0x56f010(0x6e3)),Te=null;function a0_0x26b2(){const _0x4550da=['setRestartTimer','configService','messages','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','prefixCommand','getClient','locked','removeInstance','max','count','joinGroupValidate','info','participants','Read\x20messages\x20fail','demote','EXPIRIN_IN','Type\x20is\x20required','remote\x20\x22origin\x22','stateConnection','\x22\x20cannot\x20be\x20empty','DOCKER_ENV','#ff9484','setting','isBusiness','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','put','toFile','CONTACTS_UPSERT','bulkWrite','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','METHODS','updatePresence','chats.upsert','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','none','order','dropCollection','sendList','mongodb://','prototype','Converted\x20audio\x20deleted','groupJid','lastReceivedMessage','getBase64FromMediaMessage','Types','qrcode.updated','Getting\x20profile\x20with\x20jid:\x20','website','findGroupInfo','src','noConnection','#9568cf','address','):\x20Não\x20achou\x20nenhum\x20flow','closed','dbServer','importChatsAntigo','menuExpiredMessage','express','cpf','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','instanceInfo','49310ongPEv','chatLog','protocol','round','):\x20delete\x20=\x20true','#fe9dfe','https-proxy-agent','oldToken','rows','sendWhatsAppAudio','Image\x20created','\x5c$&','upperCase','group\x20ignored','953787uriNaY','makeCacheableSignalKeyStore','notEmpty','sections','OrAnd','BRL','leaveGroup','Getting\x20profile\x20info','):\x20updateResult:','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20Entrou\x20na\x20função\x20saveReply','Error\x20in\x20markMessageAsRead:','):(','findByIdAndDelete','processApiRequest','WARN','removeOlderDisconnectedInstances','defineAuthState','PROXY','Número:\x20','onTime','sendLocation','/wa-groups','gifPlayback','text/event-stream','.png','mkdirSync','):\x20Enviando\x20contato','sendMedia','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','contains','\x1b[31m%s\x1b[0m','expression','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','nextBlock:','varedit','NO_IP',',\x20valor\x20passado:\x20\x22','ms\x20(Attempt\x20','json','whatsappNumber','send','checkAndRestartProcess','verbose','):\x20Campos\x20a\x20serem\x20atualizados:','GROUPS_UPDATE','getOwnPropertyDescriptor','isJidGroup','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','test','scheduleMessage','./.git/config','E-mail:\x20','connectionUpdate','updateReplyOption','Erro\x20ao\x20adicionar\x20label\x20','fileName','SendScheduleMessage','getAutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','messageType','phoneNumber','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','toBrazilianNumberFormat','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','getMIMEType','#f64847','saveCreds','connectToWhatsappController','express-async-errors','):\x20Bloco\x20copiado:\x20','replacer','getVariablesChat','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','Content-Type','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','flattenObject','CORS','userDevicesCache','pre','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','addChatLabel','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','cors','min','):\x20expirationTime:\x20','createJid','isBase64','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','remove','API\x20Key\x20from\x20Request:','isListOfNumbers','preview','\x1b[42m','sha256','GUARD','notas','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','contacts.upsert','boolean','floor','loadproxy','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.',',\x20saindo.','\x1b[44m','Error\x20occurred\x20while\x20archiving\x20chat:\x20','lowerCase','removeData','.\x20Pulando.','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','binary','not_announcement','tags','.sendDataWebhook-global','Tentando\x20reconectar...','editFlowReply','editflowgroup','end','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','birthtime','groups.upsert','messaging-history.set','fetchLatestBaileysVersion','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','/*.json','nome','Audio\x20converted\x20to\x20mp4','STORE_CHATS','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','client','waitingMenu_text','readreceipts','flowConversation','Error\x20change\x20group\x20name','CONNECTION','messagesSend','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','leadInfo.','mediaSticker','authState','_activatedCount','\x20quoted:\x20','Chrome','updateChatWithMessage','flowActive','child_process','Proxy\x20funcionando!','replaceVariablesLogs','uazapiDeleteMessage','logout','\x22\x20not\x20found','USER','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20conversation.waitingMenu_name','removeChatLabel','restartInstance','groups_ignore','reorderBlocks','get','FlowModel','formatStatusMessage','pollErrorMessage','Error\x20fetching\x20group','Erro\x20ao\x20aplicar\x20varedit:\x20','labelId','Erro\x20ao\x20atualizar\x20AutomateSystem:','PLAYED','deleteChat','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','findWebhook','END:VCARD','applyvaredit','optionDescription','/exit','exit','Error\x20writing\x20file:\x20','Flow\x20não\x20encontrado','connectedClient','find','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Comando\x20desconhecido','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','--agree-tos','hostname','groups','processConditionsTest','\x20não\x20encontrado\x20para\x20atualização.','updateStopChat','getChatModelForOwner','host','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Going\x20to\x20','equal','fetchContacts','unlinkSync','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','env.yml','lastMessage','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','_Chats','updateBlock','CONTACTS_SET','stopIfLastReturnedError','authentication','.pptx','readMessages','groupSettingUpdate','imagechat','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','\x20do\x20chat\x20','isRunning','API_KEY','localWebhook','\x20minutos...','all','stderr','_Flows','Audio\x20is\x20base64','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','DATABASE','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','importChatsBatch',',\x20pairCode:\x20','Fluxo\x20não\x20encontrado','updateAll','status@broadcast','mediatype','12593lwVRBc','video-cover.png','\x1b[1m\x1b[37m','pino','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','editConversation','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','wuid','trim','truncatedto','Fetching\x20business\x20profile','content','flowName','inner','last_update','generateHash','evaluateConditionTest','events','):\x20Conversa\x20inserida\x20com\x20sucesso.','deleteConversation','capitalizedWords','flowStopConversation','Erro\x20ao\x20deletar\x20chat:','updateOneById','blockLogs','log','Erro\x20ao\x20testar\x20o\x20proxy','empty','value','allContacts','pollCreationMessageV2','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','getScheduleMessageModelForOwner','\x22\x20-\x20REMOVED','validate','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','chats','Content\x20is\x20required','Audio\x20processed','shutdown\x20-r\x20now','unavailable','defineProperty','valid','\x0a{\x20instance:\x20','done','REDIS','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','getConversation','):\x20conversation.status:\x20','convertToWebP','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','PENDING','string','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20leadInfoVariables','push','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Unknown\x20message\x20type\x20or\x20empty\x20message','fetchInstances','forEach','Sistema\x20atualizado\x20com\x20sucesso!','CHATS_SET','getContentType','CHATS_DELETE','):\x20Deletando\x20conversa...','PASSWORD','emit','getflow','FULLCHAIN','ListType','axios','):\x20Edit\x20schedule\x20message...','\x20is\x20already\x20in\x20use.','updateGroupPicture','redisEnv','Configuração\x20do\x20ip:','Instance\x20\x22','groupAcceptInvite','findOneAndUpdate','flow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Tentativa\x20','/instance/connect','some','1753526xLIfua','StatusJidList\x20is\x20required','RECONNECT_TIME_FRAME','):\x20Enviando\x20texto','processblock','messageSecret','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','replaceOne','set','--standalone','video','ip:\x20','8080','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','updateMissingCustomFields','File\x20written\x20to\x20path:\x20','shift','pushName','createAndSave','sharp','@broadcast','function','AUTHENTICATION_API_KEY','findAndReplaceRegex','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','connectToWhatsapp','length','cleanStore','\x1b[34m','updateMessage','Desconectado,\x20parando\x20execução.','announce','firstValue','):\x20Enviando\x20áudio','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','profilePictureUrl','):\x20Buscando\x20conversas...','delayChatLabel_MAX_RETRIES','logger','/group','fetchChats','update','.mp4','Início','Temp\x20audio\x20created','array','.xls','true','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Converting\x20audio\x20to\x20mp4','STORE','fetchProfilePicture','):\x20Error\x20processing\x20conditions:\x20','parseInt','remove.instance','findByIdAndUpdate','hGetAll','envYaml','):\x20Editando\x20condição\x20do\x20fluxo...','match','createWebhook','NextBlock','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','spawn','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','?timestamp=','editOperator','toNumber','message','.txt','flowname:\x20','messages.set','findAndReplace','stopMinutesMaxActives','chatId','encoding','contactMessage','delaySecMax','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','status','waInstances','composing','sendSticker','pairingCode','):\x20Conversa\x20está\x20expirada','<subdomain>','stringify','):\x20Dados\x20migrados\x20com\x20sucesso','Bad\x20Request','ORG:','):\x20newFirstValue\x20após\x20replaceVariables:','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','messages.update','getDevice','deleteReplyOption','DATABASE_CONNECTION_PASSWORD','g.us','errorLog','\x22\x20-\x20NOT\x20CONNECTION','groupParticipantsUpdate','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','sleep','params','padEnd','lastInteraction','online','writeData','prepareMediaMessage','Imagem\x20não\x20encontrada','presenceSubscribe','readMessageBot','groupHandler','\x0a*Você\x20respondeu*:\x0a','):\x20Mensagem\x20já\x20enviada\x20para\x20','!stop','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','data:\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','readData','redis://127.0.0.1:6379','CONFIGURAÇÃO\x20GERAL:','allFlows','$pull','save','closeExistingConversations','editFlowVariable','extractRegex','Authentication\x20error','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','archive','write','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Getting\x20audio\x20from\x20url','unhandledRejection','#92ceac','/wa-contacts','syscall','reviver','success','SSL_CONF','MessageModel','\x20minutos\x20verificará\x20novas\x20mensagens','map','Message\x20not\x20found','groupLeave','documentMessage','sendPresenceUpdate','):\x20Buscando\x20flow...','Hash\x20to\x20audio\x20name:\x20','):\x20Editando\x20replyOption...','readdirSync','insertMany','TYPE','\x1b[37m%s\x1b[0m','Unable\x20to\x20leave\x20the\x20group','Erro\x20ao\x20atualizar\x20o\x20fluxo:','!cmd_','/create','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','CORS_ORIGIN','downloads','now','hasOwnProperty','Error\x20change\x20group\x20setting','CONNECTION_UPDATE','scheduleSendText','conversation','CREDENTIALS','and','enumerable','match_last_seen','message_normalized','_id','The\x20property\x20cannot\x20be\x20empty','LEVEL','endSession','pollCreationMessageV3','redis','.\x20Aguardando\x20antes\x20de\x20reconectar...','leadInfo.desativadoFluxoAte','getMinutes','waitingMenu_id','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','The\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','stopConversation','audio/aac','Missing\x20global\x20api\x20key','Logger','paused','findGroups','cleaningUp','webhook','):\x20Editando\x20edição\x20do\x20fluxo...','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','no.connection','evaluateCondition','15tcXyhJ','\x1b[37m','updateStatusPrivacy','Error\x20creating\x20group',',\x20Segundo\x20Valor:\x20','inviteCode','@whiskeysockets/baileys','temp-','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Message','STORE_CLEANING_TERMINAL','#64c4ff','DB_PREFIX_NAME','):\x20Alterando\x20fluxo...','getHours','messageHandle','ChatModel','):\x20Enviando\x20enquete','rowId','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','arrayUnique','/config','Instance\x20Key\x20from\x20DB:','vote','):\x20Usando\x20extensão\x20padrão:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','notMatchRegex','Not\x20allowed\x20by\x20CORS','includes','menuIgnoreNonVotes','path','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Procurando\x20conversa','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','errors','messageTimestamp','PORT','updateFlowConfig','list','proto','_error','-instances','drop','):\x20Limpando\x20delayMessage','uazapiSendLocation','The\x20\x22','findContacts','upsertedCount','MESSAGES_UPSERT','buttonText','long','1994344xYlnyx','chatModify','format','processPollUpdateMessage','apply','/instance/create','not\x20loaded','Error\x20updating\x20participants','#ffffff','dataValidate','pollMessageOnDelete','lastSendMessage','options','throwAndLogError','):\x20Buscando\x20conversa...',',\x20qrcodeCount:\x20','createConnection','subjectTime','warn','type','getRandomText','No\x20join\x20group\x20invite\x20code\x20or\x20url','PRODUCT_LIST','ids','updateProfilePicturePrivacy','DARK','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','contacts.update','MAX_RECONNECT_ATTEMPTS','GROUPS_UPSERT','deleteMessageForEveryone','groupToggleEphemeral','readFile','PRESENCE_UPDATE','getContactModelForOwner','pt-BR','Erro\x20de\x20atualização:\x20','height','Resposta\x20do\x20Teste\x20do\x20Proxy:','profilePicture','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','$addToSet','last','flowConfig','Error\x20in\x20chatModify\x20for\x20number\x20','modifiedCount','reorderReplyOptions','Bloco\x20com\x20ID\x20','jsonwebtoken','.TEL;waid=','\x1b[0m','varedits','createConversationforStartFlow','@g.us','stack','copyBlock','\x20adicionado\x20ao\x20chat\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','findFlow','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','convertaudio','groupRevokeInvite','fetchProfile','Erro\x20ao\x20atualizar\x20conversa:\x20','*\x0a\x0a','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','remoteJid','stopped','webhookMap','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Group\x20not\x20found','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','archiveChat','findOne','audioWhatsapp','segundos','\x20chats\x20de\x20','send.message','fone','post','reference','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','replace','privacySettings','ON\x20-\x20dbName:\x20','^\x5cd+([-]\x5cd+)*@g.us$','Proxy\x20falhou.\x20Tentando\x20o\x20próximo...','/instance','\x1b[34m%s\x1b[0m','responsavelid','AUTHENTICATION_TYPE','detail','uncaughtException','getDelay','addBlock','):\x20Fluxos\x20não\x20estão\x20ativados','integer','sendMessageWithTyping','qrCode','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','ScheduleMessageModel','finish','):\x20nextBlock.uazapi.name','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','CLEANING_INTERVAL','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','DATABASE_ENABLED','slice','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','uazapiSendText','quotedMessage','parse','option','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','waMonitor','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Output\x20path:\x20','delete',')\x20para\x20[','deleteflow','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','uazapiSendAudio','isInteger','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','substring',',\x20Expiration\x20Time:\x20','STATUS_INSTANCE','http://checkip.dyndns.org','request\x20received\x20in\x20updateCustomFields','username','updatePrivacySettings','scheduleNextCheck','dbSettings','load','convert','}}\x20->\x20valor\x20não\x20encontrado',',\x20lastCondition:\x20','buttonId','qrcode','instanceKeys','uazapiSendContact','archived','notEqual','EMAIL','connect','checkAndUpdateChatStatus','item','listen','bodyString','editedMessage','ephemeralExpiration','requestFile','random','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','from','sendPoll','viewOnceMessage','RemoveChatLabel','WA\x20MODULE','scheduled','request\x20received\x20in\x20updateFlowConfig','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','header','editflowcondition','instance','connectedName','initAuthCreds','labels.edit','owner','copyDataToNewModel','pollCreationMessageKey','prepareWAMessageMedia','sendText','jid','getOwnPropertyNames','useMultiFileAuthState','exec','start','less','statusMessage','deleteMany','FlowController','subject','quoted','EMAIL:','Image\x20converted\x20to\x20WebP','):\x20Enviando\x20mídia','fetchProfile2','DATABASE_CONNECTION_HOST','Internal\x20Server\x20Error','LOG_LEVEL','available','getLastMessage','request\x20received\x20in\x20deleteDoneMessages','SSL_CONF_FULLCHAIN','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Unauthorized','editScheduleMessage','authModel','https','*Pergunta*:\x20\x0a','#00a1f2','/instance/fetchInstances','fromMe','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','):\x20Procurando\x20mensagens\x20para\x20envio','Not\x20is\x20business\x20profile','AutomateSystem','number','insertCount','no-cache','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','deleteAll','application/json','):\x20Enviando\x20localização','query','filter','app','certbot','.ogv','deleted','Erro\x20ao\x20deletar\x20mensagens:','Nenhum\x20chat\x20encontrado\x20para\x20editar.','padStart','messages.upsert','delaySecMin','application/octet-stream','getFlow','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','sendAudio','textMessage','deleteInstance','updateMany','views','):\x20Limpando\x20AutomateSystem','selectableCount','default','Chrome\x20(Linux)','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','lastSend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','newStoppedUntil','image','Instance\x20ID:','requestPairingCode','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','compression','hbs','_ScheduleMessages','3896HttrAm','DELETED','#d3a91f','email','saveConversationToDatabase','KEY','SERVER_ACK','pollMessage','https://jsonip.com','):\x20Editando\x20grupo\x20do\x20fluxo...','realVariables','trimmed','deletedCount','ENABLED','Variáveis\x20não\x20encontradas:','\x1b[30m%s\x1b[0m','Trying\x20to\x20get\x20business\x20profile','processvaredits','Erro\x20ao\x20atualizar\x20o\x20flow.','MESSAGES_UPDATE','GROUP_PARTICIPANTS_UPDATE','CHATS_UPSERT','/instance/connectionState','Rótulo\x20inválido\x20ou\x20sem\x20ID.','url','replaceVariablesInReplyOptions','Connection\x20closed\x20for\x20instance:\x20','exists','headers','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','AUTHENTICATION_JWT_EXPIRIN_IN','.gif','abs','findGroup','request\x20body:\x20','Error\x20updating\x20profile\x20picture','keys','updateGParticipate','mimetype','Type\x20not\x20found','routerPath','):\x20Erro\x20ao\x20buscar\x20conversas\x20','updateMediaMessage','chatHandle','Erro\x20ao\x20copiar\x20dados:','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','getStatus','createflow','authorization','findConversation','stdout','call','Temp\x20image\x20deleted','VERBOSE','stoppedUntil',',\x20Minutes\x20to\x20Close:\x20','fetchBusinessProfile','addReplyOption','@s.whatsapp.net','backgroundColor','FlowRouter','deleteFlow','Telefone:\x20','createGroup','uazapiSendMenu','Primeiro\x20Valor:\x20','stickerMessage','convertedOptions',',\x20resultado:\x20','.svg','activatedCount','replaceVariablesChat','):\x20Iniciando\x20bot...','findOrCreate','findMessages',',\x20valor\x20a\x20encontrar:\x20\x22','replaceValue','create','SINGLE_SELECT','AppStateSyncKeyData','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','waitingMenu_ExpiredMessage','uazapi','.wav','authService','Erro\x20ao\x20importar\x20chats:','1055898AmROqV','context','):\x20Current\x20Time:\x20','updateReadReceiptsPrivacy','command','interval\x20não\x20é\x20um\x20número','updateCustomFields','verifiedName','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','DELIVERY_ACK','font','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','#83e421','Erro\x20de\x20reinicialização:\x20','\x1b[33m\x1b[1m','processUazapi','out','.ogg','name','CHATS_UPDATE','URI','role','fetchConversation','headerString','mediaKey','everyOne','endsWith','cwd','REDIS_PREFIX_KEY','Invalid\x20format','response','organization','Output\x20audio\x20path:\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','fetchPrivacySettings','/automate','utf8','automateSystem','Instance\x20deleted','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','caption','AUTHENTICATION','pollUpdateMessage','pollOnReplyDelete','updateAgent','urlOrBase64','.X-ABLabel:Celular\x0a','toDataURL','removed','Falta\x20informação\x20para\x20a\x20chamada\x20API','request\x20received\x20in\x20updateAgent','getTime','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','.webp','formatVCard','viewOnceMessageV2Extension','toLocaleString','contactHandle','processingScheduleMessageId','DisconnectReason','createNewConversation','group','remoteJidsRemaining','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','description','listType','Não\x20respondeu\x20com\x20a\x20enquete.','dbInstance','Last\x20message\x20not\x20found\x20for\x20number:','InstancesAlterarTodas','viewOnceMessageV2','joinGroup','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','secondValue','):\x20Entrou\x20na\x20função\x20goToFlow','Failed\x20to\x20find\x20chat\x20','Instance\x20restarted','Button\x20IDs\x20cannot\x20be\x20repeated.','Router','#fed428','):\x20Query\x20params:\x20','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Bloco\x20original\x20para\x20cópia:\x20','instance.','router','uazapiSendMedia','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','audioMessage','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','#9ba6ff','Parando\x20aplicação,\x20atualização\x20recebida','#b4ebff','profile','env','greater','^\x5cd+[\x5c.@\x5cw-]+','customFields','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','toUpperCase','MESSAGES_SET','Erro\x20ao\x20editar\x20o\x20chat:\x20','notify','editFlow','sendMenu','lastmsg','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','recording',',\x20Resultado:\x20','values','/wa-connection-update','):\x20transformedCustomFieldVariables','request\x20received\x20in\x20starFlow','updateOnlinePrivacy','groupUpdateDescription','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','toggleEphemeral','apiResponse','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','color','readFileSync','group-participants.update','All_Instances_Config','has','console','badSession','findById','etiquetas','stopMinutes','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','Error\x20updating\x20profile\x20name','processConditions','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Variável\x20não\x20encontrada!','):\x20Visualizando\x20AutomateSystem','URL','auth','groupInviteCode','loadEnv','://','isURL','condition','chats.delete','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','numbers','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','splice','currency','reactionMessage','agents','groupDesc','_FlowHistorico','ConversationModel','error\x20get\x20vote','findIndex','mentioned','):\x20Conversa\x20está\x20expirada\x20-\x20voto','HttpsProxyAgent','https://api.openai.com/v1/images/generations','getScheduleMessage','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','/wa-qrcode','waitingMenu_replyOptions','sectionsToString','ButtonsMessage','audio','sending','updateProfilePicture','port','document','\x20minutos.\x20Será\x20às\x20','protocolMessage','execSync','insert','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','webhookService','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','.jwt','Label\x20','enabled','Background\x20color\x20is\x20required','#ffc5c7','getLabelModelForOwner','CONTACTS_UPDATE','Button\x20texts\x20cannot\x20be\x20repeated','isLong','\x20removido\x20do\x20chat\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Not\x20Found','contextInfo','getMessage','groupId','Erro\x20ao\x20inserir\x20chats:','listMessage','newValue','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Valor\x20inicial:\x20\x22','groupCreate','):\x20Query\x20params:','startFlow','mongodb','@ffmpeg-installer/ffmpeg','webp','groupFetchAllParticipating','PREFIX_KEY','password','startsWith','conversationTimestamp','when','updateMissingTags','saveMediaToFile','Erro\x20ao\x20remover\x20label\x20','delayMessage','fileUrl','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','/wa-presence','variable','updateMissingEtiquetas','block','Cache-Control','/wa-chats','Selecione','chat','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','\x20com\x20sucesso.','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','createInstance','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','\x20ao\x20chat\x20','Erro:','SEND_MESSAGE','code','request\x20received\x20in\x20editFlowvariable','connectionState','title','unreadCount','connectionClosed','lastCondition','):\x20Conversa\x20atualizada\x20em\x20memória','locationMessage','AddChatLabel','augusto.fcs@gmail.com','data','findGroupInfos','Processing\x20audio','desativadoFluxoAte','replaceVariablesInObject','sendMessage','toLowerCase','Instância\x20não\x20encontrada.','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','\x1b[43m','audio/ogg','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','ObjectId','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','timerId','moreLogs','request\x20received\x20in\x20getConversation','\x20\x1b[0m','SERVER_URL','close','getBusinessProfile','Esse\x20fluxo\x20expirou','maxActives','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','#56ccb4','deleteDoneMessages','variablesNotFound','split','node-mime-types','REDIS_ENABLED','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','sendCommand','groupValidate','join','Erro\x20ao\x20buscar\x20conversas:\x20','updateOne','toString','latitude','originalUrl','\x5cd+','choices','editflowblock','reconnectAttempts','label_jid','):\x20lastBlockId:\x20','generateWAMessageFromContent','INFO','webhookModel','contentText','lastDisconnect','folder','ERROR','pop','hex','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','4266ivCWIq','saveVariable','.xlsx','dark','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','labels.association','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','deleteBlock','ReplyOptions\x20finais\x20após\x20reordenação:','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','use','Fluxos\x20não\x20estão\x20ativados','\x20instance\x20does\x20not\x20exist','request\x20received\x20in\x20createFlow','envProcess','LOG','arraybuffer','DaysToDelete','Valor\x20de\x20find\x20ou\x20replace\x20ausente','request\x20received\x20in\x20fetchConversation','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20alterando\x20this.AutomateSystem','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','Erro\x20do\x20Certbot:\x20','groupadd','reconnectTimestamps','method','imported','\x1b[32m%s\x1b[0m','TEXT','class-validator','error','creds.json','JWT','editflowvaredit','API\x20Key\x20inválida.','updateMissingLabels','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','DEBUG','updateProfileStatus','\x20não\x20encontrado\x20para\x20cópia','editChat','add',',\x20fará\x20nova\x20verificação\x20em\x20','ignoreGroups','contact_blacklist','fetchLabels','.pdf','stanzaId','SERVER_PORT','indexOf','utf-8','deleteOne','base64','):\x20this.processingScheduleMessageId:\x20','removeProfilePicture','state','Hash\x20to\x20image\x20name:\x20','findAll','.mp3','setContext','changeVariables','stopWhenYouSendMsg','desc','eventEmitter','eventHandler','\x20horas\x20e\x20','Converted\x20image\x20deleted','writeFileSync','poll','Mensagem\x20não\x20suportada','contactname','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','sem\x20texto\x20na\x20mensagem','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','updateConversation','_Contacts','):\x20isVote:\x20','key','mentions','$set','_Labels','msgRetryCounterCache','.ppt','contactsArrayMessage','sendReaction','chats.set','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','scheduleSendMedia','loadWebhook','creation','status.instance','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','sort','https://api.openai.com/v1/audio/speech','resetReconnectionVariables','toBRL','Schema','\x0aFN:','Temp\x20audio\x20path:\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','The\x20global\x20api\x20key\x20must\x20be\x20set','entries','.sendDataWebhook-local','groupMetadata','Erro\x20ao\x20iniciar\x20fluxo:\x20','buttons','findParticipants','markMessageAsRead','presence','expiration','Instância:\x20','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','):\x20Bloco\x20com\x20ID\x20','uuid','DATABASE_CONNECTION_USER','action','):\x20Flow\x20não\x20encontrado','senderKeyDistributionMessage','Image\x20path:\x20','delay','):\x20teve\x20mudanças\x20chat.displayName:\x20','pollCreationMessage','groupSetting','AUTHENTICATION_JWT_SECRET','../env.yml','footerText','request\x20received\x20in\x20editFlowgroup','open','normalizeMessage','local_map','AutomateFunctions','delayChatLabel','body','Business\x20profile\x20fetched','InstancesAsDisconnectedX','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','optionName','longitude','.uazapi.dev','contact','g-t','collections','lean','blockId','editFlowGroup','\x1b[41m','LabelModel','https://api.elevenlabs.io/v1/text-to-speech/','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','getMessageModelForOwner','createServer','Image\x20is\x20url','silent','cache','SECRET','ListMessage','text','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Erro\x20ao\x20criar\x20fluxo\x20','):\x20Comando\x20desconhecido:\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Deletando\x20fluxo...','):\x20Conversas\x20encontradas:','menuMessage','https://chat.whatsapp.com/','\x20inseridas\x20no\x20banco\x20de\x20dados...','AutomateSystem\x20não\x20foi\x20inicializado','\x20minutos','Enter\x20a\x20value\x20in\x20milliseconds','request\x20received\x20in\x20getFlow','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','goNextblock','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Chat\x20com\x20ID\x20','variablesToObject','):\x20Falha\x20ao\x20deletar\x20mensagem.','editFlowVaredit','connecting','limit','Reinicialização\x20iniciada:\x20','assign','\x20Tentativa\x20de\x20reconexão\x20','createFlow','):\x20não\x20encontrou','setNewValue','.error','flowStopMinutes','conditions','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','):\x20customFieldVariables','processgoToFlow','error_log','refused','lastBlockId','subdomain','exports','isConnected','redirect','displayName','presence.update','jwt','50mb','label','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','http','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','announcement','collection','Deletion\x20failed','setHeader','leadInfo','updateProfileName','instanceName\x20not\x20provided.','repeat','revokeInviteCode','public','):\x20Buscando\x20todos\x20os\x20fluxos...','/clients-info','\x20-i\x20','Parando\x20aplicação...','apirequest','statusCode','repository','sendButtons','storePath','testProxy','READ','ChatRouter','703362yxJWQA','fromObject','unknown\x20operation\x20type\x20[','Operador:\x20\x22','replyOption','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','mongoose','connection.update','QRCODE_UPDATED','\x1b[1m','__esModule','hSet','buffer','):\x20Criando\x20fluxo...','instanceName','/chat','WebhookGlobal','object','_p_','.webm','chats.update','user','apikey','mediaMessage','fetchMessages','TEL','sendContact','Error\x20in\x20scheduleNextCheck:\x20','SERVER','groupName','sendStatus','groupUpdateSubject','-----------------proxyUri---------------------','where','Erro\x20inesperado\x20em\x20processvaredits:\x20','errno','deleteMessage','oldValue','getFlowModelForOwner','Including\x20timestamp\x20in\x20url:\x20','updateParticipant','importChats','messageId','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','fullName','listResponseMessage','\x20contacts','No\x20participants','/wa-message','release','isArray','variables','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','menuType','nomecompleto','):\x20Criando\x20nova\x20conversa[createNewConversation]','\x20-\x20ON:\x20','picture','Error\x20updating\x20message\x20status:','minutesToClose','):\x20Ler\x20mensagem','ReplyOption\x20com\x20ID\x20','https://','editFlowBlock','?authSource=admin&readPreference=primary&directConnection=true','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','\x1b[33m%s\x1b[0m','replaceVariables','getConversationModelForOwner','_Messages','groups.update','output','vcard','statusJidList','):\x20','loadInstance','creds','licenca','getAllData','unreadcount','Getting\x20image\x20from\x20url','metadata','StartBot','createConversationforgoToFlow','contacts','/media','Audio\x20is\x20url','.jpg','env.KEY\x20!==\x20key','created','#01d0e2','notContains','audio/mp4','Erro\x20ao\x20buscar\x20conversa:\x20','request\x20received\x20in\x20editFlowcondition','selectedOptions','Certbot:\x20','scheduleSendAudio','connectionStatus','PRIVKEY','Read\x20messages','app-state-sync-key','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','sendDataWebhook','):\x20Deletando\x20mensagem','next_groupId','media','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','process','editFlowCondition','upsertChats','fetchStatus','updateLastSeenPrivacy','formatBRNumber','existsSync','\x20mensagens\x20de\x20','):\x20teve\x20mudanças\x20chat.name:\x20','leadInfo.etiquetas','dbClient','/events','store','DATABASE_CONNECTION_URI','/:instanceName','):\x20conversation.lastInteraction:\x20','del','verify','participant','flowIgnoreGroups','#000000','BufferJSON','toArray','downloadMediaMessage','updateGParticipant','Erro\x20ao\x20normalizar\x20a\x20mensagem:','model','buttonMessage','matchRegex','hDel','\x20attempts.','\x1b[31m','request\x20received\x20in\x20editFlow','#9ab6c1','STORE_MESSAGE','fetchProfilePictureUrl','reaction','replyOptions','request\x20received\x20in\x20deleteFlow','getTicketSystem','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','/events/:instance','delayChatLabel_RETRY_DELAY_MS','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','https://api.ipify.org?format=json','subjectOwner','blocks','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Subscribed\x20Events:','static','ephemeralMessage','instancias:\x20','linkPreview','qrcode-terminal'];a0_0x26b2=function(){return _0x4550da;};return a0_0x26b2();}function $r(){return new Promise((_0x56ddbe,_0x4c565f)=>{const _0x462836=a0_0x4a73;de[_0x462836(0x34a)][_0x462836(0x27d)](Pr,_0x462836(0x50c),(_0x1084a3,_0xde6f19)=>{const _0x4a0676=_0x462836;if(_0x1084a3){Te=_0x1084a3,_0x56ddbe();return;}Io[_0x4a0676(0x34a)][_0x4a0676(0x2cd)](_0xde6f19)[_0x4a0676(0x673)][_0x4a0676(0x370)]===_r?(Te=null,_0x56ddbe()):(Te=new Error(_0x4a0676(0x732)),_0x56ddbe());});});}async function kr(){const _0xeaf575=a0_0x56f010;try{await $r(),await Is();}catch(_0x5d9836){console[_0xeaf575(0x4f8)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x5d9836),process[_0xeaf575(0x762)](0x1);}}kr();async function xo(){const _0x598cf6=a0_0x56f010;let _0x34e1bb;try{_0x34e1bb=(await Re[_0x598cf6(0x34a)][_0x598cf6(0x750)](_0x598cf6(0x360)))['data']['ip'];}catch(_0x24d849){console['error'](_0x24d849);try{_0x34e1bb=(await Re[_0x598cf6(0x34a)][_0x598cf6(0x750)](_0x598cf6(0x658)))[_0x598cf6(0x4a1)]['ip'];}catch(_0x3dbffa){console[_0x598cf6(0x4f8)](_0x3dbffa);try{_0x34e1bb=(await Re[_0x598cf6(0x34a)][_0x598cf6(0x750)](_0x598cf6(0x2dd)))['data'][_0x598cf6(0x19c)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4a6293){return console[_0x598cf6(0x4f8)](_0x4a6293),!0x1;}}}return _0x34e1bb;}var No=0x0;async function Lr(){const _0x2605f3=a0_0x56f010;let _0x21f8db=await new oe(b[_0x2605f3(0x750)]('REDIS'))[_0x2605f3(0x2e9)]();return console[_0x2605f3(0x125)](_0x2605f3(0x65f),_0x21f8db[_0x2605f3(0x17a)]),_0x21f8db[_0x2605f3(0x17a)];}function jr(_0x5acfca){const _0x18cb09=a0_0x56f010;let _0x22fe22=_0x5acfca[_0x18cb09(0x750)](_0x18cb09(0x5db))[_0x18cb09(0x434)],_0x1d0284=_0x5acfca[_0x18cb09(0x750)]('SSL_CONF'),_0x476591;if(_0x22fe22){let _0x5686b0=_0x22fe22[_0x18cb09(0x19c)](/\/\/(.*?)\./);_0x5686b0&&_0x5686b0[0x1]&&(_0x476591=_0x5686b0[0x1]);}if(!_0x476591&&_0x1d0284&&_0x1d0284['FULLCHAIN']){let _0x36a645=_0x1d0284[_0x18cb09(0x150)][_0x18cb09(0x4bc)]('/'),_0xe7e723=_0x36a645[_0x36a645['length']-0x2];if(_0xe7e723){let _0x613fac=_0xe7e723[_0x18cb09(0x4bc)]('.');_0x613fac[_0x18cb09(0x17a)]>0x2&&(_0x476591=_0x613fac[0x0]);}}return _0x476591;}var vs=jr(b);async function Fr(){const _0x470fc0=a0_0x56f010;let _0x99a4ab=b[_0x470fc0(0x750)](_0x470fc0(0x139)),_0x527fa0=b[_0x470fc0(0x750)](_0x470fc0(0x3d7))['API_KEY'][_0x470fc0(0x35d)],_0x5a871f=b[_0x470fc0(0x750)]('SSL_CONF'),_0x3109b3=await xo(),_0x5d108e=b[_0x470fc0(0x750)]('SERVER')[_0x470fc0(0x24e)],_0x1583e0=b[_0x470fc0(0x750)](_0x470fc0(0x5db))[_0x470fc0(0x434)];try{let _0x401792={'ip':_0x3109b3||null,'redis_enable':_0x99a4ab?.[_0x470fc0(0x365)]||null,'apikey':_0x527fa0||null,'ssl':_0x5a871f?.[_0x470fc0(0x622)]||null,'lastupdate':Do||null,'port':_0x5d108e||null,'gitInstallError':Te?.[_0x470fc0(0x1a5)]||null,'url':_0x1583e0||null};if(console[_0x470fc0(0x125)](_0x470fc0(0x16b),_0x401792['ip']),_0x99a4ab&&_0x99a4ab[_0x470fc0(0x365)]){let _0x4a0d05=await Lr();_0x401792['instanceCount']=_0x4a0d05||null;}for(let _0x29dd83 in _0x401792)_0x401792[_0x470fc0(0x204)](_0x29dd83)&&_0x29dd83!=='ip'&&(_0x401792[_0x29dd83]=JSON[_0x470fc0(0x1b7)](_0x401792[_0x29dd83]));return(await Re[_0x470fc0(0x34a)][_0x470fc0(0x2ad)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x401792))[_0x470fc0(0x4a1)];}catch(_0x420381){return console[_0x470fc0(0x4f8)](_0x420381),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x37fcad=a0_0x56f010;if(!await xo())return console[_0x37fcad(0x4f8)](_0x37fcad(0x342)),_0x37fcad(0x6d4);let _0x10e9e3=await Fr();if(_0x10e9e3){if(_0x10e9e3[_0x37fcad(0x3cc)][_0x37fcad(0x60c)]===!0x0){b['get'](_0x37fcad(0x1ec))[_0x37fcad(0x622)][_0x37fcad(0x246)](_0x37fcad(0x1b6))&&_0x10e9e3['response'][_0x37fcad(0x59d)]&&(await Vr(_0x10e9e3[_0x37fcad(0x3cc)]['subdomain'],Jr),await Br(_0x37fcad(0x4a0),_0x10e9e3[_0x37fcad(0x3cc)][_0x37fcad(0x59d)]),console[_0x37fcad(0x125)](_0x37fcad(0x48e)),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x10e9e3[_0x37fcad(0x3cc)][_0x37fcad(0x7a9)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x5cbabf=0x24*0x3c*0x3c,_0x12ff93=_0x10e9e3['response']['segundos']>_0x5cbabf?_0x5cbabf:_0x10e9e3[_0x37fcad(0x3cc)][_0x37fcad(0x2a9)],_0x18789f=Number(_0x12ff93);if(isNaN(_0x18789f)){console[_0x37fcad(0x4f8)](_0x37fcad(0x3b3));return;}let _0x559410=Math['floor'](_0x18789f/0xe10),_0x5a8f0b=Math[_0x37fcad(0x716)](_0x18789f%0xe10/0x3c),_0x464f50=new Date(Date[_0x37fcad(0x203)]()+_0x18789f*0x3e8);setTimeout(Is,_0x18789f*0x3e8);let _0x354870=_0x2dcaf7=>_0x2dcaf7[_0x37fcad(0x4c5)]()[_0x37fcad(0x33d)](0x2,'0'),_0x4e6e6a=_0x37fcad(0x6f0)+_0x354870(_0x559410)+_0x37fcad(0x51b)+_0x354870(_0x5a8f0b)+_0x37fcad(0x458)+_0x354870(_0x464f50[_0x37fcad(0x235)]())+':'+_0x354870(_0x464f50[_0x37fcad(0x216)]())+'.';console['log'](_0x4e6e6a);}else return console[_0x37fcad(0x125)](_0x37fcad(0x2f7)),As&&(console[_0x37fcad(0x125)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process['exit']()),'LICENSE_INVALID';}else{if(No++,No<qr)console[_0x37fcad(0x125)](_0x37fcad(0x77b)+Ro/0xea60+_0x37fcad(0x78c)),setTimeout(Is,Ro);else return console[_0x37fcad(0x4f8)](_0x37fcad(0x472)),'SERVER_OFFLINE';}}async function Ur(){const _0x49f741=a0_0x56f010;console[_0x49f741(0x125)](_0x49f741(0x408));let _0x28891b=(0x0,Oe[_0x49f741(0x1a0)])(_0x49f741(0x2a2),{'shell':!0x0});_0x28891b[_0x49f741(0x38a)]['on'](_0x49f741(0x4a1),_0x10b2b0=>{console['log']('Atualização:\x20'+_0x10b2b0);}),_0x28891b[_0x49f741(0x78e)]['on'](_0x49f741(0x4a1),_0x26a224=>{const _0x380109=_0x49f741;console[_0x380109(0x4f8)](_0x380109(0x281)+_0x26a224);}),_0x28891b['on'](_0x49f741(0x762),_0x3a21d0=>{const _0x46c90b=_0x49f741;_0x3a21d0!==0x0?console['error'](_0x46c90b(0x249)+_0x3a21d0):console['log'](_0x46c90b(0x148)),console[_0x46c90b(0x125)](_0x46c90b(0x5b6)),setTimeout(()=>process[_0x46c90b(0x762)](),0x2710);});}var Jr=Ae[a0_0x56f010(0x34a)][a0_0x56f010(0x4c2)](__dirname,a0_0x56f010(0x778));async function Vr(_0x50701f,_0x43cb00){const _0x43c8c4=a0_0x56f010;let _0x3598dd=Gr();_0x50701f=_0x50701f[_0x43c8c4(0x2b0)](_0x43c8c4(0x565),'');try{let _0x916f41=de[_0x43c8c4(0x34a)][_0x43c8c4(0x425)](_0x43cb00,_0x43c8c4(0x3d2));_0x916f41=_0x916f41['replace'](/<apikey>/,_0x3598dd),_0x916f41=_0x916f41[_0x43c8c4(0x2b0)](/<subdomain>/g,_0x50701f),de[_0x43c8c4(0x34a)][_0x43c8c4(0x51d)](_0x43cb00,_0x916f41,'utf8'),console[_0x43c8c4(0x125)](_0x43c8c4(0x3b9));}catch(_0x41fa23){console['error'](_0x43c8c4(0x353),_0x41fa23);}}function Br(_0x9735a9,_0x56cdb5){return new Promise((_0x351acb,_0x29f791)=>{const _0x615418=a0_0x4a73;let _0x1bc02e=(0x0,Oe[_0x615418(0x1a0)])(_0x615418(0x338),['certonly',_0x615418(0x169),'-m',_0x9735a9,_0x615418(0x76a),'-d',_0x56cdb5]);_0x1bc02e['stdout']['on'](_0x615418(0x4a1),_0x149b37=>{const _0x355fbf=_0x615418;console[_0x355fbf(0x125)](_0x355fbf(0x61f)+_0x149b37[_0x355fbf(0x4c5)]());}),_0x1bc02e['stderr']['on'](_0x615418(0x4a1),_0x3f8d40=>{const _0xbd80d4=_0x615418;console[_0xbd80d4(0x4f8)](_0xbd80d4(0x4f0)+_0x3f8d40['toString']());}),_0x1bc02e['on'](_0x615418(0x4b4),_0x372008=>{const _0x3f388e=_0x615418;_0x372008!==0x0?(console['error'](_0x3f388e(0x6e0)+_0x372008),_0x29f791(_0x3f388e(0x6e0)+_0x372008)):(console[_0x3f388e(0x125)]('Certbot\x20executado\x20com\x20sucesso.'),_0x351acb());});});}function Gr(_0x322db2=0x32){const _0x489d29=a0_0x56f010;let _0x1dd5fc=_0x489d29(0x6ee),_0xa512e2='';for(let _0x303659=0x0;_0x303659<_0x322db2;_0x303659++)_0xa512e2+=_0x1dd5fc['charAt'](Math[_0x489d29(0x716)](Math[_0x489d29(0x2f6)]()*_0x1dd5fc[_0x489d29(0x17a)]));return _0xa512e2;}function Wr(){const _0x9ad5c=a0_0x56f010;(0x0,Oe['exec'])(_0x9ad5c(0x133),(_0x2015ac,_0x1d8f25,_0x2df1c8)=>{const _0x1447cf=_0x9ad5c;if(_0x2015ac){console[_0x1447cf(0x4f8)](_0x1447cf(0x3cf)+_0x2015ac);return;}if(_0x2df1c8){console[_0x1447cf(0x4f8)](_0x1447cf(0x3bb)+_0x2df1c8);return;}console[_0x1447cf(0x125)](_0x1447cf(0x58e)+_0x1d8f25);});}0x0&&(module[a0_0x56f010(0x59e)]={'subdomain':subdomain});