const a0_0x236793=a0_0x57a5;(function(_0x4f5107,_0xa86327){const _0x4d1d87=a0_0x57a5,_0x16ca6e=_0x4f5107();while(!![]){try{const _0x4d0aad=parseInt(_0x4d1d87(0x579))/0x1*(parseInt(_0x4d1d87(0x21c))/0x2)+parseInt(_0x4d1d87(0x1bb))/0x3*(parseInt(_0x4d1d87(0x613))/0x4)+-parseInt(_0x4d1d87(0x4a2))/0x5+-parseInt(_0x4d1d87(0x5c2))/0x6*(-parseInt(_0x4d1d87(0x852))/0x7)+-parseInt(_0x4d1d87(0x3dc))/0x8+parseInt(_0x4d1d87(0x84f))/0x9+-parseInt(_0x4d1d87(0x51f))/0xa;if(_0x4d0aad===_0xa86327)break;else _0x16ca6e['push'](_0x16ca6e['shift']());}catch(_0x30a096){_0x16ca6e['push'](_0x16ca6e['shift']());}}}(a0_0x23e4,0x77086));var Gr=Object[a0_0x236793(0x6ed)],ke=Object['defineProperty'],Br=Object[a0_0x236793(0x696)],Wr=Object['getOwnPropertyNames'],zr=Object['getPrototypeOf'],Hr=Object[a0_0x236793(0x586)][a0_0x236793(0x59b)],Kr=(_0x415dc8,_0x176a4c)=>{for(var _0x99ca8 in _0x176a4c)ke(_0x415dc8,_0x99ca8,{'get':_0x176a4c[_0x99ca8],'enumerable':!0x0});},Us=(_0x317f46,_0x5a10de,_0x2165e6,_0x1d7d86)=>{const _0x47a6de=a0_0x236793;if(_0x5a10de&&typeof _0x5a10de=='object'||typeof _0x5a10de==_0x47a6de(0x206)){for(let _0x51f22e of Wr(_0x5a10de))!Hr[_0x47a6de(0x5c7)](_0x317f46,_0x51f22e)&&_0x51f22e!==_0x2165e6&&ke(_0x317f46,_0x51f22e,{'get':()=>_0x5a10de[_0x51f22e],'enumerable':!(_0x1d7d86=Br(_0x5a10de,_0x51f22e))||_0x1d7d86[_0x47a6de(0x64a)]});}return _0x317f46;},O=(_0x41ec2b,_0x526b3a,_0x4fa437)=>(_0x4fa437=_0x41ec2b!=null?Gr(zr(_0x41ec2b)):{},Us(_0x526b3a||!_0x41ec2b||!_0x41ec2b[a0_0x236793(0x833)]?ke(_0x4fa437,a0_0x236793(0x4d1),{'value':_0x41ec2b,'enumerable':!0x0}):_0x4fa437,_0x41ec2b)),Qr=_0x580b07=>Us(ke({},a0_0x236793(0x833),{'value':!0x0}),_0x580b07),co={};Kr(co,{'subdomain':()=>_s}),module[a0_0x236793(0x415)]=Qr(co);var jr=O(require('compression')),Vs=require('fs'),Gs=require(a0_0x236793(0x65d)),Bs=require(a0_0x236793(0x228)),je=require(a0_0x236793(0x228)),oe=process['cwd'](),ge=(0x0,je[a0_0x236793(0x279)])(oe,a0_0x236793(0x888)),qs=(0x0,je['join'])(oe,a0_0x236793(0x1e3)),tn=(0x0,je[a0_0x236793(0x279)])(oe,a0_0x236793(0x7bc),a0_0x236793(0x807)),ns=class{constructor(){const _0x4a5116=a0_0x236793;this[_0x4a5116(0x1ec)]();}[a0_0x236793(0x253)](_0x81d192){const _0x24e895=a0_0x236793;return this[_0x24e895(0x258)][_0x81d192];}['loadEnv'](){const _0x2db337=a0_0x236793;this[_0x2db337(0x258)]=process[_0x2db337(0x258)]?.[_0x2db337(0x4ef)]!==_0x2db337(0x4da)?this['envYaml']():this[_0x2db337(0x6db)](),process['env']?.[_0x2db337(0x4ef)]==='true'&&(this[_0x2db337(0x258)][_0x2db337(0x6ab)]['TYPE']='http',this[_0x2db337(0x258)]['SERVER']['PORT']=Number[_0x2db337(0x1bc)](process[_0x2db337(0x258)]?.[_0x2db337(0x7f3)]??'8080'));}[a0_0x236793(0x36c)](){const _0x560b64=a0_0x236793;return(0x0,Gs['load'])((0x0,Vs[_0x560b64(0x71c)])((0x0,Bs['join'])(qs,_0x560b64(0x340)),{'encoding':_0x560b64(0x2db)}));}[a0_0x236793(0x6db)](){const _0x5e5412=a0_0x236793;return{'SERVER':{'TYPE':process[_0x5e5412(0x258)][_0x5e5412(0x292)],'PORT':Number[_0x5e5412(0x1bc)](process[_0x5e5412(0x258)]['SERVER_PORT']),'URL':process[_0x5e5412(0x258)][_0x5e5412(0x804)]},'CORS':{'ORIGIN':process[_0x5e5412(0x258)][_0x5e5412(0x752)][_0x5e5412(0x6ec)](','),'METHODS':process[_0x5e5412(0x258)][_0x5e5412(0x4e0)][_0x5e5412(0x6ec)](','),'CREDENTIALS':process['env']?.[_0x5e5412(0x284)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x5e5412(0x258)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x5e5412(0x258)]?.[_0x5e5412(0x5e1)]},'STORE':{'CLEANING_INTERVAL':Number[_0x5e5412(0x1b0)](process[_0x5e5412(0x258)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process['env'][_0x5e5412(0x6a7)]):void 0x0,'MESSAGES':process[_0x5e5412(0x258)]?.['STORE_MESSAGE']===_0x5e5412(0x4da),'CONTACTS':process[_0x5e5412(0x258)]?.[_0x5e5412(0x2d0)]==='true','CHATS':process[_0x5e5412(0x258)]?.[_0x5e5412(0x349)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x5e5412(0x258)]?.[_0x5e5412(0x881)],'PORT':Number['parseInt'](process[_0x5e5412(0x258)]?.[_0x5e5412(0x881)]),'USER':process['env'][_0x5e5412(0x55c)],'PASSWORD':process[_0x5e5412(0x258)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x5e5412(0x258)][_0x5e5412(0x749)],'DB_PREFIX_NAME':process[_0x5e5412(0x258)][_0x5e5412(0x35a)]},'ENABLED':process[_0x5e5412(0x258)]?.['DATABASE_ENABLED']===_0x5e5412(0x4da)},'REDIS':{'ENABLED':process['env']?.[_0x5e5412(0x886)]===_0x5e5412(0x4da),'URI':process['env']['REDIS_URI']||_0x5e5412(0x334),'PREFIX_KEY':process['env'][_0x5e5412(0x309)]||_0x5e5412(0x471)},'LOG':{'LEVEL':process['env']?.[_0x5e5412(0x757)][_0x5e5412(0x6ec)](','),'COLOR':process['env']?.[_0x5e5412(0x322)]===_0x5e5412(0x4da)},'PROXY':Number[_0x5e5412(0x1bc)](process[_0x5e5412(0x258)]?.[_0x5e5412(0x6aa)]),'AUTHENTICATION':{'TYPE':process[_0x5e5412(0x258)][_0x5e5412(0x2d9)],'API_KEY':{'KEY':process['env'][_0x5e5412(0x6bf)]},'JWT':{'EXPIRIN_IN':Number[_0x5e5412(0x1b0)](process[_0x5e5412(0x258)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x5e5412(0x1bc)](process[_0x5e5412(0x258)][_0x5e5412(0x306)]):0xe10,'SECRET':process['env'][_0x5e5412(0x5fe)]}}};}},b=new ns(),Lr=O(require(a0_0x236793(0x547))),he=O(require(a0_0x236793(0x1af))),Fs=require('path'),cs=O(require(a0_0x236793(0x332))),ls=(_0x332b33=>(_0x332b33['LOG']=a0_0x236793(0x43f),_0x332b33[a0_0x236793(0x68e)]=a0_0x236793(0x465),_0x332b33['WARN']=a0_0x236793(0x3ee),_0x332b33['ERROR']=a0_0x236793(0x45c),_0x332b33[a0_0x236793(0x460)]=a0_0x236793(0x3da),_0x332b33[a0_0x236793(0x275)]='\x1b[37m',_0x332b33[a0_0x236793(0x3f4)]='\x1b[30m',_0x332b33))(ls||{}),Ws=(_0x54a0af=>(_0x54a0af[a0_0x236793(0x41d)]='\x1b[32m%s\x1b[0m',_0x54a0af[a0_0x236793(0x3f4)]='\x1b[30m%s\x1b[0m',_0x54a0af[a0_0x236793(0x68e)]=a0_0x236793(0x76c),_0x54a0af[a0_0x236793(0x763)]='\x1b[33m%s\x1b[0m',_0x54a0af[a0_0x236793(0x663)]=a0_0x236793(0x321),_0x54a0af['DEBUG']=a0_0x236793(0x27e),_0x54a0af['VERBOSE']=a0_0x236793(0x536),_0x54a0af))(Ws||{}),zs=(_0x59bb72=>(_0x59bb72[a0_0x236793(0x41d)]=a0_0x236793(0x41d),_0x59bb72['WARN']='WARN',_0x59bb72[a0_0x236793(0x68e)]=a0_0x236793(0x68e),_0x59bb72[a0_0x236793(0x3f4)]=a0_0x236793(0x3f4),_0x59bb72[a0_0x236793(0x663)]=a0_0x236793(0x663),_0x59bb72[a0_0x236793(0x460)]=a0_0x236793(0x460),_0x59bb72[a0_0x236793(0x275)]=a0_0x236793(0x275),_0x59bb72))(zs||{}),Hs=(_0x3e7d65=>(_0x3e7d65['LOG']=a0_0x236793(0x2b7),_0x3e7d65[a0_0x236793(0x68e)]=a0_0x236793(0x85d),_0x3e7d65[a0_0x236793(0x763)]=a0_0x236793(0x2df),_0x3e7d65[a0_0x236793(0x3f4)]=a0_0x236793(0x2e1),_0x3e7d65['ERROR']=a0_0x236793(0x432),_0x3e7d65['DEBUG']=a0_0x236793(0x646),_0x3e7d65[a0_0x236793(0x275)]=a0_0x236793(0x5b9),_0x3e7d65))(Hs||{}),R=class{constructor(_0x408ab=a0_0x236793(0x450)){const _0x235c9b=a0_0x236793;this['context']=_0x408ab,this[_0x235c9b(0x558)]=b;}[a0_0x236793(0x365)](_0x206a4c){const _0x3e9d80=a0_0x236793;this[_0x3e9d80(0x692)]=_0x206a4c;}[a0_0x236793(0x385)](_0x1a3501,_0x6f4c93){const _0x1602a0=a0_0x236793;let _0x319139=[];this[_0x1602a0(0x558)][_0x1602a0(0x253)](_0x1602a0(0x41d))['LEVEL'][_0x1602a0(0x595)](_0x358447=>_0x319139[_0x1602a0(0x4a9)](zs[_0x358447]));let _0x6ded57=typeof _0x1a3501;_0x319139[_0x1602a0(0x256)](_0x6f4c93)&&(b[_0x1602a0(0x253)](_0x1602a0(0x41d))['COLOR']?(console[_0x1602a0(0x7e7)]('\x1b[1m'+Ws[_0x6f4c93],'\x1b[1m\x1b[37m',(0x0,cs['default'])()[_0x1602a0(0x257)]('DD/MM\x20HH:mm:ss'),_0x1602a0(0x800),ls[_0x6f4c93]+Hs[_0x6f4c93]+_0x1602a0(0x26f),_0x6f4c93+'\x20\x1b[0m','\x1b[33m\x1b[1m',this[_0x1602a0(0x692)]+_0x1602a0(0x800),ls[_0x6f4c93],_0x6ded57!=='object'?_0x1a3501:'','\x1b[0m'),_0x6ded57==='object'&&console[_0x1602a0(0x7e7)](_0x1a3501,'\x0a')):console['log']((0x0,cs['default'])()[_0x1602a0(0x257)](_0x1602a0(0x345)),_0x6f4c93+'\x20',''+this[_0x1602a0(0x692)],_0x1a3501));}[a0_0x236793(0x7e7)](_0x12e25f){const _0x307793=a0_0x236793;this['console'](_0x12e25f,_0x307793(0x41d));}[a0_0x236793(0x210)](_0x41b1b5){const _0x5a16ab=a0_0x236793;this['console'](_0x41b1b5,_0x5a16ab(0x68e));}[a0_0x236793(0x435)](_0x9ed416){const _0x137c3d=a0_0x236793;this['console'](_0x9ed416,_0x137c3d(0x763));}[a0_0x236793(0x1a3)](_0x2a8012){const _0x37e8c2=a0_0x236793;this[_0x37e8c2(0x385)](_0x2a8012,_0x37e8c2(0x663));}[a0_0x236793(0x461)](_0x3425de){const _0x42074a=a0_0x236793;this[_0x42074a(0x385)](_0x3425de,'VERBOSE');}['debug'](_0x4ba8ef){const _0xff3523=a0_0x236793;this['console'](_0x4ba8ef,_0xff3523(0x460));}[a0_0x236793(0x50d)](_0x5218f3){const _0x15cc7b=a0_0x236793;this['console'](_0x5218f3,_0x15cc7b(0x3f4));}};function Ks(){const _0x48d1a6=a0_0x236793;process['on'](_0x48d1a6(0x28f),(_0x59de32,_0x988ebb)=>{const _0x2e458c=_0x48d1a6;new R(_0x2e458c(0x28f))[_0x2e458c(0x1a3)]({'origin':_0x988ebb,'stderr':process[_0x2e458c(0x456)]['fd'],'error':_0x59de32});}),process['on'](_0x48d1a6(0x262),(_0x19de5c,_0x2715fb)=>{const _0x3058b4=_0x48d1a6;new R(_0x3058b4(0x262))[_0x3058b4(0x1a3)]({'origin':_0x2715fb,'stderr':process['stderr']['fd'],'error':_0x19de5c});});}var Qs=O(require(a0_0x236793(0x4ae))),us=new Qs[(a0_0x236793(0x4d1))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),fe=require('mongoose'),Me=O(require(a0_0x236793(0x723))),Le=new R(a0_0x236793(0x4ab)),L=b[a0_0x236793(0x253)](a0_0x236793(0x6d7)),T=L['ENABLED']?L[a0_0x236793(0x6d3)][a0_0x236793(0x84a)]?Me['default'][a0_0x236793(0x5a2)](L[a0_0x236793(0x6d3)][a0_0x236793(0x84a)],{'dbName':L[a0_0x236793(0x6d3)][a0_0x236793(0x3e3)]+a0_0x236793(0x361)}):Me['default']['createConnection'](a0_0x236793(0x7fe)+L[a0_0x236793(0x6d3)][a0_0x236793(0x3e4)]+':'+L[a0_0x236793(0x6d3)]['PORT']+a0_0x236793(0x74f),{'user':L[a0_0x236793(0x6d3)][a0_0x236793(0x540)],'pass':L[a0_0x236793(0x6d3)][a0_0x236793(0x515)],'dbName':L['CONNECTION'][a0_0x236793(0x3e3)]+a0_0x236793(0x361)}):null;L[a0_0x236793(0x3ea)]&&Le[a0_0x236793(0x210)]('ON\x20-\x20dbName:\x20'+T[a0_0x236793(0x813)]);var me=L[a0_0x236793(0x3ea)]?L['CONNECTION'][a0_0x236793(0x84a)]?Me[a0_0x236793(0x4d1)][a0_0x236793(0x5a2)](L[a0_0x236793(0x6d3)]['URI'],{'dbName':a0_0x236793(0x37c)}):Me[a0_0x236793(0x4d1)][a0_0x236793(0x5a2)]('mongodb://'+L['CONNECTION'][a0_0x236793(0x3e4)]+':'+L[a0_0x236793(0x6d3)][a0_0x236793(0x59d)]+a0_0x236793(0x74f),{'user':L[a0_0x236793(0x6d3)][a0_0x236793(0x540)],'pass':L[a0_0x236793(0x6d3)]['PASSWORD'],'dbName':a0_0x236793(0x693)}):null;me&&Le[a0_0x236793(0x210)](a0_0x236793(0x868)+me[a0_0x236793(0x813)]),process['on'](a0_0x236793(0x561),()=>{const _0x5b4e17=a0_0x236793;T&&T[_0x5b4e17(0x46c)](()=>{const _0x5e19bb=_0x5b4e17;Le[_0x5e19bb(0x210)](_0x5e19bb(0x889));}),me&&me[_0x5b4e17(0x46c)](()=>{const _0x4f6e7b=_0x5b4e17;Le[_0x4f6e7b(0x210)](_0x4f6e7b(0x418));});});var Yr=new fe[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new fe[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zr=new fe[(a0_0x236793(0x7b2))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ei=new fe[(a0_0x236793(0x7b2))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),ti=new fe[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ei,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xr},'groupdata':{'type':Zr,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ys=_0x1d3355=>{const _0x178057=a0_0x236793;let _0x445fc6='z_'+_0x1d3355+_0x178057(0x1d0);return T?.[_0x178057(0x7d4)](_0x178057(0x506),ti,_0x445fc6);},Xs=require('mongoose'),si=new Xs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0xba8bbd=>{const _0xafe7e0=a0_0x236793;let _0x4b4be7='z_'+_0xba8bbd+_0xafe7e0(0x789);return T?.['model'](_0xafe7e0(0x88e),si,_0x4b4be7);},ea=require(a0_0x236793(0x723)),ds=class{},ai=new ea[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.[a0_0x236793(0x7d4)](ds[a0_0x236793(0x7bd)],ai,a0_0x236793(0x864)),sa=require(a0_0x236793(0x723)),ri=new sa[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x1b6cad=>{const _0x2c4f98=a0_0x236793;let _0x5d41f4='z_'+_0x1b6cad+_0x2c4f98(0x69d);return T?.[_0x2c4f98(0x7d4)](_0x2c4f98(0x69e),ri,_0x5d41f4);},ra=require(a0_0x236793(0x723)),ps=class{},ii=new ra[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ia=T?.['model'](ps[a0_0x236793(0x7bd)],ii,a0_0x236793(0x50f)),oa=require('mongoose'),hs=class{},na=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x236793(0x52f)](a0_0x236793(0x71e),function(_0x4fb152){const _0x5849=a0_0x236793;delete this[_0x5849(0x221)],delete this[_0x5849(0x7cd)],delete this[_0x5849(0x6a9)],delete this[_0x5849(0x511)],delete this['flowStopMinutes'],_0x4fb152();});var ca=T?.['model'](hs[a0_0x236793(0x7bd)],na,a0_0x236793(0x315)),k=require(a0_0x236793(0x723)),la=require(a0_0x236793(0x80d)),Fe=class{},ua=new k[(a0_0x236793(0x7b2))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),oi=new k[(a0_0x236793(0x7b2))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x236793(0x34b)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x236793(0x784)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new k['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ni=new k[(a0_0x236793(0x7b2))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ci=new k[(a0_0x236793(0x7b2))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new k[(a0_0x236793(0x7b2))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new k['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':oi},'apirequest':ni,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ha=new k['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Je=new k['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0xb1537e=a0_0x236793;return _0xb1537e(0x20a)+Math['random']()['toString'](0x24)[_0xb1537e(0x271)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});Je[a0_0x236793(0x52f)](a0_0x236793(0x71e),function(_0x31300d){const _0x26c94b=a0_0x236793;let _0x50f491=new Set(),_0x589e37=new Set(this[_0x26c94b(0x4fc)]?.[_0x26c94b(0x405)](_0x58901e=>_0x58901e[_0x26c94b(0x7bd)])),_0x452cda=JSON[_0x26c94b(0x6fe)](this),_0x23310a=/{{(?!_)([^}]*)}}/g,_0x2105fa;for(;(_0x2105fa=_0x23310a['exec'](_0x452cda))!==null;)_0x589e37[_0x26c94b(0x51e)](_0x2105fa[0x1])||_0x50f491[_0x26c94b(0x6b3)](_0x2105fa[0x1]);_0x50f491[_0x26c94b(0x683)]>0x0?(console['warn'](_0x26c94b(0x2e8),Array[_0x26c94b(0x727)](_0x50f491)),this[_0x26c94b(0x820)]=Array[_0x26c94b(0x727)](_0x50f491)):this[_0x26c94b(0x820)]=[],_0x31300d();}),Je[a0_0x236793(0x52f)](a0_0x236793(0x4b9),function(_0x2aceb2){const _0x5060bf=a0_0x236793;let _0x163697=this['getUpdate']();if(_0x163697&&typeof _0x163697==_0x5060bf(0x22a)&&'$set'in _0x163697){let _0x20f995=_0x163697['$set'];if(_0x20f995){let _0x1a6cb3=new Set(),_0x2cec33=new Set(_0x20f995['variables']?.[_0x5060bf(0x405)](_0x2a41ab=>_0x2a41ab[_0x5060bf(0x7bd)])),_0xe5a701=JSON[_0x5060bf(0x6fe)](_0x20f995),_0x369105=/{{(?!_)([^}]*)}}/g,_0x453a2e;for(;(_0x453a2e=_0x369105['exec'](_0xe5a701))!==null;)_0x2cec33[_0x5060bf(0x51e)](_0x453a2e[0x1])||_0x1a6cb3[_0x5060bf(0x6b3)](_0x453a2e[0x1]);_0x1a6cb3[_0x5060bf(0x683)]>0x0?(console[_0x5060bf(0x435)](_0x5060bf(0x2e8),Array['from'](_0x1a6cb3)),_0x20f995['variablesNotFound']=Array['from'](_0x1a6cb3)):_0x20f995[_0x5060bf(0x820)]=[],this[_0x5060bf(0x65f)]({'$set':_0x20f995});}}_0x2aceb2();});var ga=_0x4618e8=>{const _0xa8d9f4=a0_0x236793;let _0x25d8bb='z_'+_0x4618e8+_0xa8d9f4(0x224);return T?.[_0xa8d9f4(0x7d4)](_0xa8d9f4(0x1d3),Je,_0x25d8bb);},ma=T?.['model'](ms[a0_0x236793(0x7bd)],Je,a0_0x236793(0x671)),li=new k[(a0_0x236793(0x7b2))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ci]},{'_id':!0x1}),fs=class{},fa=new k[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':li,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x236793(0x664)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x236793(0x364)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0x44025a=>{const _0x41b0fe=a0_0x236793;let _0x252650='z_'+_0x44025a+_0x41b0fe(0x4c0);return T?.[_0x41b0fe(0x7d4)](_0x41b0fe(0x839),fa,_0x252650);},ya=T?.[a0_0x236793(0x7d4)](fs[a0_0x236793(0x7bd)],fa,a0_0x236793(0x3d7)),ws=class{},ui=new k[(a0_0x236793(0x7b2))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),di=new k[(a0_0x236793(0x7b2))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new k['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x236793(0x518)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':di,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ui],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0x363527=>{const _0x22f07f=a0_0x236793;let _0x5ad5be='z_'+_0x363527+_0x22f07f(0x604);return T?.['model']('ScheduleMessageModel',ba,_0x5ad5be);},Ma=T?.[a0_0x236793(0x7d4)](ws[a0_0x236793(0x7bd)],ba,a0_0x236793(0x503)),ys=class{},pi=new k[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'command':{'type':String,'unique':!0x0},'message':{'type':String}}),hi=new k[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),gi=new k['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x236793(0x633)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),mi=new k[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),fi=new k[(a0_0x236793(0x7b2))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[mi]},'customFields':{'type':[hi]},'flowConfig':{'type':gi,'default':{}},'autoCompleteMessages':{'type':[pi],'default':[]}}),Ce=T?.[a0_0x236793(0x7d4)](ys['name'],fi,a0_0x236793(0x6d8)),Ca=require(a0_0x236793(0x723)),wi=new Ca[(a0_0x236793(0x7b2))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x3d050b=>{const _0x48ce6d=a0_0x236793;let _0x974fe5='z_'+_0x3d050b+_0x48ce6d(0x55e);return T?.[_0x48ce6d(0x7d4)](_0x48ce6d(0x48b),wi,_0x974fe5);},x=class{constructor(_0x488526){const _0x4c6aa8=a0_0x236793;this[_0x4c6aa8(0x440)]=_0x488526[_0x4c6aa8(0x253)]('DATABASE');}};function A(_0x536c5d){const _0x39b892=a0_0x236793;let _0x10211f={};for(let [_0x6864c6,_0x500479]of Object['entries'](_0x536c5d))if(typeof _0x500479==_0x39b892(0x22a)&&!Array[_0x39b892(0x603)](_0x500479)){for(let [_0x4f7ff0,_0x5eca49]of Object['entries'](_0x500479))_0x10211f[_0x6864c6+'.'+_0x4f7ff0]=_0x5eca49;}else _0x10211f[_0x6864c6]=_0x500479;return _0x10211f;}var Ue=class{constructor(_0x105adf,_0x16efd3,_0x1798a2,_0x404e75,_0x35bf51,_0x2f2bc4,_0x4c0dab,_0x2fe8d7,_0x58ba53,_0xbecf11,_0xaa8b3a,_0x23063b){const _0xdd23c2=a0_0x236793;this[_0xdd23c2(0x7e9)]=_0x105adf,this[_0xdd23c2(0x3bb)]=_0x16efd3,this['contact']=_0x1798a2,this[_0xdd23c2(0x3a3)]=_0x404e75,this[_0xdd23c2(0x315)]=_0x35bf51,this[_0xdd23c2(0x807)]=_0x2f2bc4,this[_0xdd23c2(0x671)]=_0x4c0dab,this['flowConversation']=_0x2fe8d7,this[_0xdd23c2(0x30a)]=_0x58ba53,this[_0xdd23c2(0x572)]=_0xbecf11,this[_0xdd23c2(0x2c3)]=_0xaa8b3a,this[_0xdd23c2(0x684)]=_0x23063b;}get[a0_0x236793(0x6dd)](){const _0x143e5c=a0_0x236793;return this[_0x143e5c(0x684)];}},qe=class{},Ve=class extends x{[a0_0x236793(0x475)](_0x2e8baf){return aa(_0x2e8baf);}async[a0_0x236793(0x621)](_0x37b69b,_0xa4d8e4){const _0x3335b8=a0_0x236793;if(_0x37b69b[_0x3335b8(0x5a8)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3335b8(0x475)](_0xa4d8e4)[_0x3335b8(0x1c2)]([..._0x37b69b]))['length']};}catch(_0x2b226c){return _0x2b226c;}}async[a0_0x236793(0x75d)](_0x888575,_0x5888d1){const _0x433705=a0_0x236793;try{let _0x228671=this['getMessageModelForOwner'](_0x5888d1),_0x4f068e=A(_0x888575['where']);return await _0x228671['find'](_0x4f068e)['sort']({'messageTimestamp':-0x1})[_0x433705(0x610)](_0x888575?.[_0x433705(0x610)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x5a6fd1,_0x16754e){const _0x42fe00=a0_0x236793;try{let _0x5199a7=this['getMessageModelForOwner'](_0x16754e),_0x126abe=A(_0x5a6fd1[_0x42fe00(0x1ca)]);await _0x5199a7[_0x42fe00(0x218)](_0x126abe);}catch(_0x1aa199){console[_0x42fe00(0x1a3)](_0x1aa199);}}async['update'](_0x38c8fb,_0x327d70,_0x4ae2c1){const _0x5aefb3=a0_0x236793;try{let _0x383a0d=this[_0x5aefb3(0x475)](_0x4ae2c1),_0x48d482=A(_0x38c8fb[_0x5aefb3(0x1ca)]);return await _0x383a0d[_0x5aefb3(0x4b9)](_0x48d482,{'$set':_0x327d70},{'new':!0x0});}catch(_0x5e7d2b){throw console[_0x5aefb3(0x1a3)](_0x5e7d2b),_0x5e7d2b;}}async[a0_0x236793(0x1c2)](_0x15f6c3,_0x85814c){const _0x196344=a0_0x236793;if(_0x15f6c3[_0x196344(0x5a8)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x196344(0x475)](_0x85814c)[_0x196344(0x1c2)]([..._0x15f6c3]))[_0x196344(0x5a8)]};}catch(_0x5006ea){return console[_0x196344(0x7e7)](_0x196344(0x25a),_0x5006ea),_0x5006ea;}}async['deleteAll'](_0x4a618a){const _0x3f71a9=a0_0x236793;try{return await this['getMessageModelForOwner'](_0x4a618a)['collection'][_0x3f71a9(0x82c)](),{'success':!0x0};}catch(_0x10e3a2){return console['error'](_0x10e3a2),{'success':!0x1,'error':_0x10e3a2};}}},As=O(require(a0_0x236793(0x83c))),f=O(require('@whiskeysockets/baileys')),Oe=require('fs'),F=O(require('path')),K=O(require('axios')),Or=require('uuid'),Ar=O(require(a0_0x236793(0x6ac))),$r=O(require('qrcode-terminal')),va=[a0_0x236793(0x3a0),a0_0x236793(0x6be),a0_0x236793(0x3af),a0_0x236793(0x276),a0_0x236793(0x80c)],Na=['ephemeralMessage',a0_0x236793(0x7b6),a0_0x236793(0x3ab),a0_0x236793(0x265)],$s=require('os'),Pt=O(require('pino')),Ae=require(a0_0x236793(0x5fa)),kt=require('node-mime-types'),re=O(require('mongoose')),P=require(a0_0x236793(0x47d)),we=class{constructor(_0xa85721,_0x58e1be,_0xe3cbe5){const _0x49bf57=a0_0x236793;this[_0x49bf57(0x79e)]=_0xa85721,this[_0x49bf57(0x816)]=_0x58e1be,this['name']=_0xe3cbe5;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},ye=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require('express')),Ra=require('fs'),Ta=require(a0_0x236793(0x228));async function Xe(_0x441b1e){const _0x54606c=a0_0x236793;let _0x3d94cf=G[_0x54606c(0x20c)][_0x441b1e];if(L['ENABLED']){let _0x4ac9dd=T[_0x54606c(0x62f)]()['db'](L[_0x54606c(0x6d3)][_0x54606c(0x3e3)]+_0x54606c(0x68b))[_0x54606c(0x670)](_0x441b1e);return _0x3d94cf||(await _0x4ac9dd[_0x54606c(0x75d)]({})['toArray']())[_0x54606c(0x5a8)]>0x0;}return _0x3d94cf||(0x0,Ra[_0x54606c(0x759)])((0x0,Ta['join'])(ge,_0x441b1e));}async function Oa(_0x231863,_0x4cd138,_0x21a3b4){const _0x371b30=a0_0x236793;if(_0x231863[_0x371b30(0x4fd)][_0x371b30(0x256)](_0x371b30(0x624))||_0x231863[_0x371b30(0x4fd)]['includes'](_0x371b30(0x48c))||_0x231863['originalUrl']['includes'](_0x371b30(0x4f4))||_0x231863['originalUrl']['includes'](_0x371b30(0x226))||_0x231863[_0x371b30(0x4fd)]['includes'](_0x371b30(0x78e))||_0x231863['originalUrl'][_0x371b30(0x256)](_0x371b30(0x86d))||_0x231863[_0x371b30(0x4fd)]['includes'](_0x371b30(0x645)))return _0x21a3b4();let _0xaf652f=_0x231863['params'];if(!_0xaf652f?.['instanceName'])throw new m(_0x371b30(0x367));if(!await Xe(_0xaf652f[_0x371b30(0x5a5)]))throw new U('The\x20'+_0xaf652f[_0x371b30(0x5a5)]+_0x371b30(0x7c3));_0x21a3b4();}async function Aa(_0x597323,_0x5a6b28,_0xbb02b2){const _0x4813e6=a0_0x236793;if(_0x597323[_0x4813e6(0x4fd)][_0x4813e6(0x256)]('/instance/create')){let _0xd5a396=_0x597323[_0x4813e6(0x61f)];if(await Xe(_0xd5a396[_0x4813e6(0x5a5)]))throw new Q(_0x4813e6(0x4b7)+_0xd5a396[_0x4813e6(0x5a5)]+_0x4813e6(0x854));G[_0x4813e6(0x20c)][_0xd5a396[_0x4813e6(0x5a5)]]&&delete G[_0x4813e6(0x20c)][_0xd5a396[_0x4813e6(0x5a5)]];}_0xbb02b2();}var $a=require('class-validator'),Ia=O(require(a0_0x236793(0x780))),Ze='uazapi',bi=new R(a0_0x236793(0x7cc));async function Si(_0x5aca96,_0x5e78f5,_0x4f4939){const _0x311c64=a0_0x236793;let _0x1fb126=_0x5aca96[_0x311c64(0x253)](_0x311c64(0x1e5));if(_0x1fb126&&b[_0x311c64(0x253)](_0x311c64(0x865))[_0x311c64(0x5ce)][_0x311c64(0x4e5)]!==_0x1fb126)throw new te();if(b['get']('AUTHENTICATION')[_0x311c64(0x5ce)][_0x311c64(0x4e5)]===_0x1fb126)return _0x4f4939();if((_0x5aca96['originalUrl'][_0x311c64(0x256)](_0x311c64(0x624))||_0x5aca96[_0x311c64(0x4fd)][_0x311c64(0x256)](_0x311c64(0x48c)))&&!_0x1fb126)throw new Q(_0x311c64(0x686),_0x311c64(0x5cf));let _0x5b7059=b[_0x311c64(0x253)](_0x311c64(0x865))['JWT'];try{let [_0x4868fa,_0x1ea4cc]=_0x5aca96[_0x311c64(0x253)]('authorization')[_0x311c64(0x6ec)]('\x20');if(_0x4868fa['toLowerCase']()!==_0x311c64(0x614))throw new te();if(!(0x0,$a[_0x311c64(0x68a)])(_0x1ea4cc))throw new te();let _0x12439d=_0x5aca96[_0x311c64(0x83f)],_0x5bcb04=Ia[_0x311c64(0x4d1)][_0x311c64(0x4dc)](_0x1ea4cc,_0x5b7059[_0x311c64(0x384)],{'ignoreExpiration':_0x5b7059[_0x311c64(0x773)]===0x0});if(_0x12439d[_0x311c64(0x5a5)]!==_0x5bcb04[_0x311c64(0x5a5)]||Ze!==_0x5bcb04['apiName'])throw new te();return _0x4f4939();}catch(_0x481364){throw bi[_0x311c64(0x1a3)](_0x481364),new te();}}async function Mi(_0x5a4ec1,_0x5476e5,_0x2220af){const _0x25aa52=a0_0x236793;let _0x19f83b=b[_0x25aa52(0x253)](_0x25aa52(0x865))['API_KEY'],_0xaa7713=_0x5a4ec1[_0x25aa52(0x253)](_0x25aa52(0x1e5));if(_0x19f83b[_0x25aa52(0x4e5)]===_0xaa7713)return _0x2220af();if(_0x5a4ec1[_0x25aa52(0x4fd)][_0x25aa52(0x256)](_0x25aa52(0x624))){let _0x5deb3b=et,_0x2a7e23=_0x5a4ec1[_0x25aa52(0x61f)][_0x25aa52(0x5a5)];if(_0x5deb3b&&_0x2a7e23[_0x25aa52(0x4d4)]()[_0x25aa52(0x66d)](_0x5deb3b[_0x25aa52(0x4d4)]()))return _0x2220af();if(!_0xaa7713)throw new Q('Missing\x20global\x20api\x20key',_0x25aa52(0x5cf));}if(_0x5a4ec1[_0x25aa52(0x4fd)][_0x25aa52(0x256)](_0x25aa52(0x48c))&&!_0xaa7713)throw new Q(_0x25aa52(0x686),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x5a4ec1['originalUrl'][_0x25aa52(0x256)](_0x25aa52(0x4f4))&&!_0xaa7713)throw new Q(_0x25aa52(0x686),_0x25aa52(0x5cf));if(_0x5a4ec1['originalUrl'][_0x25aa52(0x256)](_0x25aa52(0x226))&&!_0xaa7713)throw new Q(_0x25aa52(0x686),_0x25aa52(0x5cf));try{let _0x9260fc=_0x5a4ec1['params'],_0x42f4ee=await ue[_0x25aa52(0x807)][_0x25aa52(0x75d)](_0x9260fc[_0x25aa52(0x5a5)]);if(_0x42f4ee&&_0x42f4ee[_0x25aa52(0x1e5)]===_0xaa7713)return _0x2220af();}catch{}throw new te();}var xa={'jwt':Si,'apikey':Mi},pr=require(a0_0x236793(0x1af)),v=require(a0_0x236793(0x80d)),E=(..._0x53705b)=>{const _0x58d70c=a0_0x236793;let _0x4b266a={};return _0x53705b[_0x58d70c(0x595)](_0x51485e=>_0x4b266a[_0x51485e]={'minLength':0x1,'description':_0x58d70c(0x87a)+_0x51485e+_0x58d70c(0x4cc)}),{'if':{'propertyNames':{'enum':[..._0x53705b]}},'then':{'properties':_0x4b266a}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'instanceName':{'type':a0_0x236793(0x4ca)}},...E(a0_0x236793(0x5a5))},dc={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'oldToken':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x428)],...E(a0_0x236793(0x428))},pc={'properties':{'key':{'type':a0_0x236793(0x22a),'properties':{'id':{'type':a0_0x236793(0x4ca)},'remoteJid':{'type':a0_0x236793(0x4ca)},'fromMe':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x236793(0x644)],...E('id',a0_0x236793(0x2f9))},'message':{'type':a0_0x236793(0x22a)}}},Y={'properties':{'delay':{'type':a0_0x236793(0x70d),'description':a0_0x236793(0x7dc)},'presence':{'type':a0_0x236793(0x4ca),'enum':['unavailable',a0_0x236793(0x325),'composing',a0_0x236793(0x6c6),a0_0x236793(0x793)]}}},z={'type':'string','pattern':a0_0x236793(0x557),'description':a0_0x236793(0x313)},Da={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':['text'],...E('text')}},'required':[a0_0x236793(0x289),a0_0x236793(0x488)]},_a={'type':a0_0x236793(0x4ca),'pattern':a0_0x236793(0x42d),'description':a0_0x236793(0x313)},hc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{..._a},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x236793(0x4ca)}},'required':['text'],...E('text')}},'required':['textMessage','number']},gc={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{..._a},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x3bc),a0_0x236793(0x1e0),a0_0x236793(0x6b2),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x236793(0x4ca)},'caption':{'type':'string'}},'required':['mediatype',a0_0x236793(0x2c4)],...E('fileName',a0_0x236793(0x7fa),a0_0x236793(0x2c4))}},'required':[a0_0x236793(0x1b9),a0_0x236793(0x488)]},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x236793(0x22a),'properties':{'image':{'type':'string'}},'required':['image'],...E(a0_0x236793(0x3bc))}},'required':[a0_0x236793(0x80c),a0_0x236793(0x488)]},ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x236793(0x22a),'properties':{'type':{'type':a0_0x236793(0x4ca),'enum':['text','image','audio',a0_0x236793(0x6b2)]},'content':{'type':a0_0x236793(0x4ca)},'caption':{'type':a0_0x236793(0x4ca)},'backgroundColor':{'type':a0_0x236793(0x4ca)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x236793(0x23e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x236793(0x4ca),'pattern':a0_0x236793(0x24f),'description':a0_0x236793(0x7ed)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x236793(0x32a)],...E('type',a0_0x236793(0x32a))}},'required':[a0_0x236793(0x409)]},ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x3bc),a0_0x236793(0x1e0),a0_0x236793(0x6b2),a0_0x236793(0x4f3)]},'media':{'type':a0_0x236793(0x4ca)},'fileName':{'type':a0_0x236793(0x4ca)},'caption':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x383),'media'],...E(a0_0x236793(0x7a2),a0_0x236793(0x7fa),a0_0x236793(0x2c4))}},'required':[a0_0x236793(0x1b9),a0_0x236793(0x488)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x236793(0x22a),'properties':{'audio':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x4f3)],...E(a0_0x236793(0x4f3))}},'required':[a0_0x236793(0x3af),a0_0x236793(0x488)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'pollMessage':{'type':a0_0x236793(0x22a),'properties':{'name':{'type':a0_0x236793(0x4ca)},'selectableCount':{'type':a0_0x236793(0x488)},'values':{'type':a0_0x236793(0x23e),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x236793(0x7bd),a0_0x236793(0x1e4),a0_0x236793(0x268)],...E(a0_0x236793(0x7bd),a0_0x236793(0x1e4),a0_0x236793(0x268))}},'required':[a0_0x236793(0x488),a0_0x236793(0x863)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'menuMessage':{'type':a0_0x236793(0x22a),'properties':{'text':{'type':a0_0x236793(0x4ca)},'choices':{'type':a0_0x236793(0x23e),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x236793(0x4a3),a0_0x236793(0x7be)],...E(a0_0x236793(0x4a3),a0_0x236793(0x7be))}},'required':[a0_0x236793(0x488),a0_0x236793(0x7fd)]},Ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x236793(0x22a),'properties':{'title':{'type':a0_0x236793(0x4ca)},'description':{'type':a0_0x236793(0x4ca)},'footerText':{'type':a0_0x236793(0x4ca)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x236793(0x4ca)},'buttonId':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x1b8),'buttonId'],...E(a0_0x236793(0x1b8),a0_0x236793(0x7c9))}},'mediaMessage':{'type':a0_0x236793(0x22a),'properties':{'media':{'type':a0_0x236793(0x4ca)},'fileName':{'type':a0_0x236793(0x4ca)},'mediatype':{'type':a0_0x236793(0x4ca),'enum':['image',a0_0x236793(0x1e0),a0_0x236793(0x6b2)]}},'required':['media','mediatype'],...E('media',a0_0x236793(0x7a2))}},'required':[a0_0x236793(0x4eb),'buttons'],...E(a0_0x236793(0x4eb),a0_0x236793(0x509))}},'required':['number','buttonMessage']},qa={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x236793(0x22a),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x236793(0x488)},'name':{'type':'string'},'address':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x6e2),'longitude'],...E(a0_0x236793(0x7bd),a0_0x236793(0x4c7))}},'required':[a0_0x236793(0x488),a0_0x236793(0x346)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x236793(0x4ca)},'buttonText':{'type':'string'},'sections':{'type':a0_0x236793(0x23e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x236793(0x22a),'properties':{'title':{'type':a0_0x236793(0x4ca)},'rows':{'type':a0_0x236793(0x23e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x236793(0x22a),'properties':{'title':{'type':a0_0x236793(0x4ca)},'description':{'type':a0_0x236793(0x4ca)},'rowId':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x4eb),a0_0x236793(0x6c1)],...E(a0_0x236793(0x4eb),a0_0x236793(0x6c1))}}},'required':['title',a0_0x236793(0x2f7)],...E(a0_0x236793(0x4eb))}}},'required':[a0_0x236793(0x4eb),a0_0x236793(0x509),a0_0x236793(0x1b8),a0_0x236793(0x4f5)],...E(a0_0x236793(0x4eb),a0_0x236793(0x509),a0_0x236793(0x1b8),'footerText')}},'required':[a0_0x236793(0x488),a0_0x236793(0x3d9)]},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x236793(0x4ca),'minLength':0xa}},'required':['fullName',a0_0x236793(0x689)],...E(a0_0x236793(0x7d3))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x236793(0x488),a0_0x236793(0x3f2)]},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'reactionMessage':{'type':a0_0x236793(0x22a),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x236793(0x4ca)},'fromMe':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]}},'required':['id',a0_0x236793(0x2f9),a0_0x236793(0x644)],...E('id',a0_0x236793(0x2f9))},'reaction':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x533),a0_0x236793(0x6e3)],...E(a0_0x236793(0x6e3))}},'required':['reactionMessage']},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'numbers':{'type':a0_0x236793(0x23e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x236793(0x2f6)}}}},za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x236793(0x23e),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x236793(0x4ca)}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x236793(0x2f9))}}},'required':[a0_0x236793(0x1a4)]},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'privacySettings':{'type':a0_0x236793(0x22a),'properties':{'readreceipts':{'type':a0_0x236793(0x4ca),'enum':['all','none']},'profile':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x4a7),a0_0x236793(0x720),a0_0x236793(0x382),a0_0x236793(0x39c)]},'status':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x4a7),a0_0x236793(0x720),a0_0x236793(0x382),a0_0x236793(0x39c)]},'online':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x4a7),'match_last_seen']},'last':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x4a7),'contacts','contact_blacklist','none']},'groupadd':{'type':'string','enum':[a0_0x236793(0x4a7),'contacts',a0_0x236793(0x382),a0_0x236793(0x39c)]}},'required':[a0_0x236793(0x742),a0_0x236793(0x7ef),'status','online',a0_0x236793(0x4b6),a0_0x236793(0x252)],...E(a0_0x236793(0x742),'profile','status','online',a0_0x236793(0x4b6),a0_0x236793(0x252))}},'required':[a0_0x236793(0x2f4)]},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'lastMessage':{'type':a0_0x236793(0x22a),'properties':{'key':{'type':a0_0x236793(0x22a),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x236793(0x4ca)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x236793(0x644),a0_0x236793(0x2f9)],...E('id',a0_0x236793(0x2f9))},'messageTimestamp':{'type':a0_0x236793(0x70d),'minLength':0x1}},'required':[a0_0x236793(0x533)],...E('messageTimestamp')},'archive':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]}},'required':[a0_0x236793(0x482),'archive']},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'id':{'type':a0_0x236793(0x4ca)},'fromMe':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x236793(0x4ca)},'participant':{'type':a0_0x236793(0x4ca)}},'required':['id',a0_0x236793(0x644),a0_0x236793(0x2f9)],...E('id',a0_0x236793(0x2f9),'participant')},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'where':{'type':a0_0x236793(0x22a),'properties':{'_id':{'type':a0_0x236793(0x4ca),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x236793(0x4ca),'minLength':0x1}},...E('_id','id',a0_0x236793(0x5e3))}}},Xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x236793(0x4ca)}},...E(a0_0x236793(0x7bd))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'status':{'type':a0_0x236793(0x4ca)}},...E('status')},ve={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},er={'type':a0_0x236793(0x22a),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x236793(0x4ca)},'picture':{'type':'string'},'status':{'type':a0_0x236793(0x4ca)},'isBusiness':{'type':a0_0x236793(0x555)}}},tr={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x236793(0x4ca),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x236793(0x644),a0_0x236793(0x2f9),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x236793(0x4ca),'minLength':0x1,'description':a0_0x236793(0x628)},'id':{'type':a0_0x236793(0x4ca),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x236793(0x22a)}},...E(a0_0x236793(0x3c4))},'limit':{'type':a0_0x236793(0x70d)}}},mc={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'where':{'type':a0_0x236793(0x22a),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x236793(0x4ca)},'status':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x663),a0_0x236793(0x24c),a0_0x236793(0x769),a0_0x236793(0x53c),'READ',a0_0x236793(0x480)]}},...E('_id',a0_0x236793(0x2f9),'id',a0_0x236793(0x464))},'limit':{'type':'integer'}}},sr={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'number':{...z},'presence':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x6d9),'available','composing',a0_0x236793(0x6c6),a0_0x236793(0x793)]}},'required':[a0_0x236793(0x3bf),a0_0x236793(0x488)]},ar={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x236793(0x4ca)},'description':{'type':a0_0x236793(0x4ca)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x236793(0x23e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x236793(0x4ca),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x236793(0x3f7)}}},'required':['subject','participants'],...E('subject',a0_0x236793(0x509),a0_0x236793(0x62e))},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'groupJid':{'type':a0_0x236793(0x4ca),'pattern':a0_0x236793(0x477)}},'required':[a0_0x236793(0x72f)],...E('groupJid')},rr={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'groupJid':{'type':a0_0x236793(0x4ca)},'action':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x6b3),a0_0x236793(0x82e),a0_0x236793(0x4dd),a0_0x236793(0x242),a0_0x236793(0x2af),a0_0x236793(0x48d)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x236793(0x4ca),'minLength':0xa,'pattern':a0_0x236793(0x57d),'description':a0_0x236793(0x3f7)}}},'required':[a0_0x236793(0x72f),a0_0x236793(0x54b),a0_0x236793(0x4ea)],...E(a0_0x236793(0x72f),'action')},ir={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'groupJid':{'type':a0_0x236793(0x4ca)},'expiration':{'type':a0_0x236793(0x488),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x236793(0x72f),a0_0x236793(0x5ac)],...E(a0_0x236793(0x72f),a0_0x236793(0x5ac))},or={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'groupJid':{'type':a0_0x236793(0x4ca)},'image':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x72f),'image'],...E('groupJid',a0_0x236793(0x3bc))},nr={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x236793(0x4ca)},'description':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x72f),a0_0x236793(0x509)],...E(a0_0x236793(0x72f),a0_0x236793(0x509))},cr={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'groupJid':{'type':a0_0x236793(0x4ca)},'name':{'type':a0_0x236793(0x4ca)}},'required':['groupJid','name'],...E(a0_0x236793(0x72f),a0_0x236793(0x7bd))},lr={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'groupJid':{'type':a0_0x236793(0x4ca)},'setting':{'type':a0_0x236793(0x4ca),'enum':[a0_0x236793(0x1c9),a0_0x236793(0x303),'unlocked',a0_0x236793(0x52e)]}},'required':[a0_0x236793(0x72f),a0_0x236793(0x52d)],...E(a0_0x236793(0x72f),'setting')},ur={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'groupJid':{'type':'string'},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x236793(0x555)},'expiration':{'type':a0_0x236793(0x70d),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x236793(0x4ca)},'description':{'type':a0_0x236793(0x4ca)},'image':{'type':a0_0x236793(0x4ca)}}},Ss={'$id':(0x0,v['v4'])(),'type':a0_0x236793(0x22a),'properties':{'inviteCode':{'type':a0_0x236793(0x4ca)}},'required':[a0_0x236793(0x524)],...E(a0_0x236793(0x524))},dr={'$id':(0x0,v['v4'])(),'type':'object','properties':{'url':{'type':a0_0x236793(0x4ca)},'enabled':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]}},'required':[a0_0x236793(0x855),a0_0x236793(0x209)]},fc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x236793(0x555),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x236793(0x858),a0_0x236793(0x2c8),a0_0x236793(0x6a8),a0_0x236793(0x41f),a0_0x236793(0x43e),a0_0x236793(0x505),a0_0x236793(0x21e),a0_0x236793(0x297),'CONTACTS_UPDATE',a0_0x236793(0x534),a0_0x236793(0x2fd),a0_0x236793(0x83a),a0_0x236793(0x2e3),a0_0x236793(0x354),'CONNECTION_UPDATE',a0_0x236793(0x314),a0_0x236793(0x238),a0_0x236793(0x795)],...E('local_map','STATUS_INSTANCE',a0_0x236793(0x2c8),a0_0x236793(0x6a8),'MESSAGES_UPDATE',a0_0x236793(0x43e),'SEND_MESSAGE',a0_0x236793(0x21e),a0_0x236793(0x297),a0_0x236793(0x3c7),a0_0x236793(0x534),a0_0x236793(0x2fd),a0_0x236793(0x83a),a0_0x236793(0x2e3),'CHATS_DELETE',a0_0x236793(0x374),'GROUPS_UPSERT',a0_0x236793(0x238),a0_0x236793(0x795))},tt=class{},st=class extends x{['getContactModelForOwner'](_0x38ec33){return Zs(_0x38ec33);}async[a0_0x236793(0x621)](_0x16082e){const _0x30521a=a0_0x236793;if(_0x16082e[_0x30521a(0x5a8)]!==0x0)try{return{'insertCount':(await this[_0x30521a(0x426)](_0x16082e[0x0]['owner'])[_0x30521a(0x1c2)]([..._0x16082e]))[_0x30521a(0x5a8)]};}catch(_0x2a184e){return _0x2a184e;}}async[a0_0x236793(0x29a)](_0x4ed63a,_0x5c218){const _0x4da265=a0_0x236793;try{return{'deletedCount':(await this[_0x4da265(0x426)](_0x5c218)[_0x4da265(0x218)]({..._0x4ed63a[_0x4da265(0x1ca)]}))[_0x4da265(0x3ec)]};}catch(_0x16c03e){return{'error':_0x16c03e?.['toString']()};}}async[a0_0x236793(0x7a6)](_0x13d40c,_0x54e595){const _0x50309c=a0_0x236793;try{if(_0x13d40c[_0x50309c(0x5a8)]===0x0)return;let _0x1a7421=this[_0x50309c(0x426)](_0x54e595),_0x16a77f=_0x13d40c[_0x50309c(0x405)](_0x40448e=>({'updateOne':{'filter':{'_id':_0x40448e['_id'],'owner':_0x54e595},'update':{..._0x40448e}}})),{modifiedCount:_0x4b62b2}=await _0x1a7421['bulkWrite'](_0x16a77f);return{'insertCount':_0x4b62b2};}catch{return;}}async[a0_0x236793(0x75d)](_0x2eb5bb,_0x23b1e0){const _0x28c8f8=a0_0x236793;try{let _0x504a0f=this['getContactModelForOwner'](_0x23b1e0),_0x5c8353=A(_0x2eb5bb[_0x28c8f8(0x1ca)]);return await _0x504a0f['find'](_0x5c8353)[_0x28c8f8(0x610)](_0x2eb5bb?.[_0x28c8f8(0x610)]??0x0)[_0x28c8f8(0x222)]();}catch{return[];}}async[a0_0x236793(0x542)](_0x2c398f,_0x17cb86){const _0x1e5296=a0_0x236793;try{let _0x5942ab=this[_0x1e5296(0x426)](_0x17cb86),_0x33f7b9=A(_0x2c398f[_0x1e5296(0x1ca)]);return await _0x5942ab[_0x1e5296(0x542)](_0x33f7b9)[_0x1e5296(0x222)]();}catch{return null;}}async[a0_0x236793(0x70a)](_0x1aae66){const _0x24029a=a0_0x236793;try{return await this['getContactModelForOwner'](_0x1aae66)[_0x24029a(0x670)][_0x24029a(0x82c)](),{'success':!0x0};}catch(_0x26b0e4){return console[_0x24029a(0x1a3)](_0x26b0e4),{'success':!0x1,'error':_0x26b0e4};}}},at=require(a0_0x236793(0x353)),Nc=require(a0_0x236793(0x32e)),Ms=new R(a0_0x236793(0x884)),V=class{[a0_0x236793(0x2dc)](_0x2c07fa,_0x522a44=!0x0){const _0x26c1f0=a0_0x236793;let _0x329002='/'+_0x2c07fa;return _0x522a44&&(_0x329002+=_0x26c1f0(0x70e)),_0x329002;}async[a0_0x236793(0x371)](_0x1e0601){const _0x122f02=a0_0x236793;let {request:_0x5ae045,schema:_0x763108,ClassRef:_0xbc2d89,execute:_0x38512f}=_0x1e0601,_0x5ef84c=new _0xbc2d89(),_0x4698fa=_0x5ae045[_0x122f02(0x61f)],_0x16d830=_0x5ae045[_0x122f02(0x83f)];_0x5ae045?.[_0x122f02(0x808)]&&Object['keys'](_0x5ae045[_0x122f02(0x808)])['length']>0x0&&Object[_0x122f02(0x887)](_0x16d830,_0x5ae045[_0x122f02(0x808)]),_0x5ae045[_0x122f02(0x4fd)]['includes'](_0x122f02(0x624))&&Object[_0x122f02(0x887)](_0x16d830,_0x4698fa),Object[_0x122f02(0x887)](_0x5ef84c,_0x4698fa);let _0x183708=_0x763108?(0x0,at[_0x122f02(0x287)])(_0x5ef84c,_0x763108):{'valid':!0x0,'errors':[]};if(!_0x183708[_0x122f02(0x214)]){let _0x563d97=_0x183708[_0x122f02(0x6b8)][_0x122f02(0x405)](({property:_0x54230e,stack:_0x174938,schema:_0x2f35b6})=>{const _0x569b61=_0x122f02;let _0x5611a2;return _0x2f35b6[_0x569b61(0x509)]?_0x5611a2=_0x2f35b6[_0x569b61(0x509)]:_0x5611a2=_0x174938[_0x569b61(0x517)](_0x569b61(0x75b),''),{'property':_0x54230e[_0x569b61(0x517)](_0x569b61(0x75b),''),'message':_0x5611a2};});throw Ms[_0x122f02(0x1a3)]([..._0x563d97]),new m(..._0x563d97);}return await _0x38512f(_0x16d830,_0x5ef84c);}async['groupValidate'](_0x1fa997){const _0x5723a9=a0_0x236793;let {request:_0x460e54,ClassRef:_0x42fbed,schema:_0x128fa7,execute:_0x824ba7}=_0x1fa997,_0x1516e0=_0x460e54[_0x5723a9(0x808)];if(!_0x1516e0?.[_0x5723a9(0x72f)])throw new m(_0x5723a9(0x6b5),_0x5723a9(0x7d7));let _0x90b758=_0x460e54[_0x5723a9(0x83f)],_0x6aec19=_0x460e54[_0x5723a9(0x61f)],_0x1978a9=new _0x42fbed();Object[_0x5723a9(0x887)](_0x6aec19,_0x1516e0),Object[_0x5723a9(0x887)](_0x1978a9,_0x6aec19);let _0x32120d=(0x0,at['validate'])(_0x1978a9,_0x128fa7);if(!_0x32120d[_0x5723a9(0x214)]){let _0x248408=_0x32120d[_0x5723a9(0x6b8)][_0x5723a9(0x405)](({property:_0x30b4b5,stack:_0x4b01e5,schema:_0x3d3f5d})=>{const _0x2d879c=_0x5723a9;let _0x25bf09;return _0x3d3f5d[_0x2d879c(0x509)]?_0x25bf09=_0x3d3f5d['description']:_0x25bf09=_0x4b01e5[_0x2d879c(0x517)](_0x2d879c(0x75b),''),{'property':_0x30b4b5[_0x2d879c(0x517)]('instance.',''),'message':_0x25bf09};});throw Ms['error']([..._0x248408]),new m(..._0x248408);}return await _0x824ba7(_0x90b758,_0x1978a9);}async[a0_0x236793(0x58f)](_0xa5cd4){const _0x494647=a0_0x236793;let {request:_0x4dc483,ClassRef:_0x2b6b28,schema:_0x5e2b28,execute:_0x7274b0}=_0xa5cd4,_0x5185a6=_0x4dc483[_0x494647(0x61f)];if(!_0x5185a6?.[_0x494647(0x524)])throw new m(_0x494647(0x1d8),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x7aeafb=_0x4dc483[_0x494647(0x83f)],_0x4cd075=_0x4dc483[_0x494647(0x61f)],_0xf0c586=new _0x2b6b28();Object[_0x494647(0x887)](_0x4cd075,_0x5185a6),Object[_0x494647(0x887)](_0xf0c586,_0x4cd075);let _0x38ae90=(0x0,at[_0x494647(0x287)])(_0xf0c586,_0x5e2b28);if(!_0x38ae90['valid']){let _0x11a49=_0x38ae90[_0x494647(0x6b8)][_0x494647(0x405)](({property:_0x36630b,stack:_0x3616f9,schema:_0x150464})=>{const _0x417595=_0x494647;let _0x32d55c;return _0x150464[_0x417595(0x509)]?_0x32d55c=_0x150464[_0x417595(0x509)]:_0x32d55c=_0x3616f9[_0x417595(0x517)](_0x417595(0x75b),''),{'property':_0x36630b[_0x417595(0x517)]('instance.',''),'message':_0x32d55c};});throw Ms[_0x494647(0x1a3)]([..._0x11a49]),new m(..._0x11a49);}return await _0x7274b0(_0x7aeafb,_0xf0c586);}},C=class{},Jc=new R('ChatRouter'),rt=class extends V{constructor(..._0x575247){const _0x38bccc=a0_0x236793;super(),this[_0x38bccc(0x7ad)]=(0x0,pr[_0x38bccc(0x494)])(),this['router']['post'](this[_0x38bccc(0x2dc)]('updatePresence'),..._0x575247,async(_0x1486d1,_0x172572)=>{const _0x57a399=_0x38bccc;let _0xeed611=await this[_0x57a399(0x371)]({'request':_0x1486d1,'schema':sr,'ClassRef':Ge,'execute':(_0x5e9998,_0x3a27ad)=>_[_0x57a399(0x756)](_0x5e9998,_0x3a27ad)});return _0x172572['status'](0xc9)[_0x57a399(0x4f2)](_0xeed611);})[_0x38bccc(0x6cd)](this['routerPath'](_0x38bccc(0x585)),..._0x575247,async(_0x403257,_0x15a966)=>{const _0x100d19=_0x38bccc;let _0x5eaa2c=await this[_0x100d19(0x371)]({'request':_0x403257,'schema':Wa,'ClassRef':Be,'execute':(_0x48954f,_0x52faca)=>_[_0x100d19(0x43b)](_0x48954f,_0x52faca)});return _0x15a966[_0x100d19(0x464)](0xc9)['json'](_0x5eaa2c);})[_0x38bccc(0x6cd)](this[_0x38bccc(0x2dc)](_0x38bccc(0x31b)),..._0x575247,async(_0x40e0b4,_0x16becc)=>{const _0x1ca7b4=_0x38bccc;let _0x44bf4a=await this[_0x1ca7b4(0x371)]({'request':_0x40e0b4,'schema':N,'ClassRef':C,'execute':(_0x512f84,_0x2a4c03)=>_[_0x1ca7b4(0x31b)](_0x512f84,_0x2a4c03)});return _0x16becc[_0x1ca7b4(0x464)](0xc9)[_0x1ca7b4(0x4f2)](_0x44bf4a);})['put'](this[_0x38bccc(0x2dc)](_0x38bccc(0x24b)),..._0x575247,async(_0x415c57,_0x31403b)=>{const _0x42e3a4=_0x38bccc;let _0x24db48=await this[_0x42e3a4(0x371)]({'request':_0x415c57,'schema':za,'ClassRef':He,'execute':(_0x567bbb,_0x3220f4)=>_[_0x42e3a4(0x31a)](_0x567bbb,_0x3220f4)});return _0x31403b[_0x42e3a4(0x464)](0xc9)[_0x42e3a4(0x4f2)](_0x24db48);})[_0x38bccc(0x880)](this[_0x38bccc(0x2dc)]('archiveChat'),..._0x575247,async(_0x1aa10b,_0x2cae72)=>{const _0x1232e2=_0x38bccc;let _0x593439=await this[_0x1232e2(0x371)]({'request':_0x1aa10b,'schema':Ka,'ClassRef':Ke,'execute':(_0x178024,_0x3b853b)=>_['archiveChat'](_0x178024,_0x3b853b)});return _0x2cae72[_0x1232e2(0x464)](0xc9)[_0x1232e2(0x4f2)](_0x593439);})[_0x38bccc(0x29a)](this['routerPath'](_0x38bccc(0x815)),..._0x575247,async(_0xffd623,_0x292c06)=>{const _0x350043=_0x38bccc;let _0x5c4ac7=await this['dataValidate']({'request':_0xffd623,'schema':Qa,'ClassRef':Ye,'execute':(_0x594187,_0x2e8aac)=>_[_0x350043(0x878)](_0x594187,_0x2e8aac)});return _0x292c06[_0x350043(0x464)](0xc9)['json'](_0x5c4ac7);})[_0x38bccc(0x6cd)](this[_0x38bccc(0x2dc)](_0x38bccc(0x5a7)),..._0x575247,async(_0x5adfb9,_0x4074cc)=>{const _0x3e7ed8=_0x38bccc;let _0x7755d0=await this['dataValidate']({'request':_0x5adfb9,'schema':ve,'ClassRef':Ee,'execute':(_0x532850,_0x34fcb9)=>_[_0x3e7ed8(0x338)](_0x532850,_0x34fcb9)});return _0x4074cc['status'](0xc8)[_0x3e7ed8(0x4f2)](_0x7755d0);})[_0x38bccc(0x6cd)](this[_0x38bccc(0x2dc)](_0x38bccc(0x443)),..._0x575247,async(_0x97c953,_0x53744f)=>{const _0x5e69ae=_0x38bccc;let _0x50b643=await this[_0x5e69ae(0x371)]({'request':_0x97c953,'schema':er,'ClassRef':Ee,'execute':(_0x5d83ae,_0x5b9577)=>_[_0x5e69ae(0x443)](_0x5d83ae,_0x5b9577)});return _0x53744f[_0x5e69ae(0x464)](0xc8)[_0x5e69ae(0x4f2)](_0x50b643);})['post'](this[_0x38bccc(0x2dc)](_0x38bccc(0x824)),..._0x575247,async(_0x12f80a,_0x262532)=>{const _0x44e7e5=_0x38bccc;let _0x35f039=await this[_0x44e7e5(0x371)]({'request':_0x12f80a,'schema':Ya,'ClassRef':tt,'execute':(_0x3f41f6,_0x52eab5)=>_[_0x44e7e5(0x3b1)](_0x3f41f6,_0x52eab5)});return _0x262532[_0x44e7e5(0x464)](0xc8)['json'](_0x35f039);})[_0x38bccc(0x6cd)](this[_0x38bccc(0x2dc)](_0x38bccc(0x31e)),..._0x575247,async(_0xaba0d1,_0x82bdc2)=>{const _0x3e5af0=_0x38bccc;let _0x5d493e=await this[_0x3e5af0(0x371)]({'request':_0xaba0d1,'schema':null,'ClassRef':Object,'execute':(_0x12af09,_0x28fe84)=>_[_0x3e5af0(0x31e)](_0x12af09,_0x28fe84)});return _0x82bdc2[_0x3e5af0(0x464)](0xc9)[_0x3e5af0(0x4f2)](_0x5d493e);})[_0x38bccc(0x6cd)](this['routerPath'](_0x38bccc(0x5ea)),..._0x575247,async(_0x28ead5,_0x3809b3)=>{const _0x470950=_0x38bccc;let _0x3b0754=await this['dataValidate']({'request':_0x28ead5,'schema':tr,'ClassRef':qe,'execute':(_0x4389ac,_0x578c94)=>_[_0x470950(0x6de)](_0x4389ac,_0x578c94)});return _0x3809b3[_0x470950(0x464)](0xc8)[_0x470950(0x4f2)](_0x3b0754);})['get'](this[_0x38bccc(0x2dc)]('findChats'),..._0x575247,async(_0x5edff2,_0x3c9b66)=>{const _0x34c9f5=_0x38bccc;let _0x58de9f=await this['dataValidate']({'request':_0x5edff2,'schema':null,'ClassRef':C,'execute':_0x57b420=>_[_0x34c9f5(0x4ad)](_0x57b420)});return _0x3c9b66['status'](0xc8)['json'](_0x58de9f);})['get'](this[_0x38bccc(0x2dc)](_0x38bccc(0x81a)),..._0x575247,async(_0x26c3d8,_0x11106d)=>{const _0x13e2cd=_0x38bccc;let _0x3f1868=await this[_0x13e2cd(0x371)]({'request':_0x26c3d8,'schema':null,'ClassRef':C,'execute':_0x54b595=>_[_0x13e2cd(0x5e6)](_0x54b595)});return _0x11106d[_0x13e2cd(0x464)](0xc8)['json'](_0x3f1868);})[_0x38bccc(0x880)](this[_0x38bccc(0x2dc)](_0x38bccc(0x7e2)),..._0x575247,async(_0x353db9,_0x181dd2)=>{const _0x22a06c=_0x38bccc;let _0x5674dc=await this[_0x22a06c(0x371)]({'request':_0x353db9,'schema':null,'ClassRef':Array,'execute':(_0x46fffb,_0x306f94)=>_[_0x22a06c(0x7e2)](_0x46fffb,_0x306f94)});return _0x181dd2[_0x22a06c(0x464)](0xc8)[_0x22a06c(0x4f2)](_0x5674dc);})[_0x38bccc(0x253)](this[_0x38bccc(0x2dc)](_0x38bccc(0x7a1)),..._0x575247,async(_0x27672b,_0x43fbc1)=>{const _0x41e494=_0x38bccc;let _0x496c6e=await this[_0x41e494(0x371)]({'request':_0x27672b,'schema':null,'ClassRef':C,'execute':_0x5fdf85=>_[_0x41e494(0x7a1)](_0x5fdf85)});return _0x43fbc1[_0x41e494(0x464)](0xc8)[_0x41e494(0x4f2)](_0x496c6e);})['put'](this[_0x38bccc(0x2dc)]('updatePrivacySettings'),..._0x575247,async(_0x5af28c,_0x3b4d6d)=>{const _0x23009c=_0x38bccc;let _0x59636a=await this[_0x23009c(0x371)]({'request':_0x5af28c,'schema':Ha,'ClassRef':Qe,'execute':(_0x476de7,_0x2e35b5)=>_['updatePrivacySettings'](_0x476de7,_0x2e35b5)});return _0x3b4d6d['status'](0xc9)[_0x23009c(0x4f2)](_0x59636a);})[_0x38bccc(0x6cd)](this[_0x38bccc(0x2dc)]('fetchBusinessProfile'),..._0x575247,async(_0x3aa5ab,_0x130ac4)=>{const _0x517dc9=_0x38bccc;let _0x1ae715=await this[_0x517dc9(0x371)]({'request':_0x3aa5ab,'schema':ve,'ClassRef':ye,'execute':(_0x1b6c58,_0x3b4971)=>_[_0x517dc9(0x879)](_0x1b6c58,_0x3b4971)});return _0x130ac4[_0x517dc9(0x464)](0xc8)['json'](_0x1ae715);})[_0x38bccc(0x6cd)](this['routerPath'](_0x38bccc(0x73e)),..._0x575247,async(_0x296146,_0x9616e2)=>{const _0x1cb4ff=_0x38bccc;let _0x4889cf=await this['dataValidate']({'request':_0x296146,'schema':Xa,'ClassRef':We,'execute':(_0x237fd5,_0x1cfe1d)=>_[_0x1cb4ff(0x73e)](_0x237fd5,_0x1cfe1d)});return _0x9616e2[_0x1cb4ff(0x464)](0xc8)[_0x1cb4ff(0x4f2)](_0x4889cf);})[_0x38bccc(0x6cd)](this[_0x38bccc(0x2dc)](_0x38bccc(0x774)),..._0x575247,async(_0x6fad14,_0x42e7ca)=>{const _0x4bd2d2=_0x38bccc;let _0x266e5b=await this[_0x4bd2d2(0x371)]({'request':_0x6fad14,'schema':Za,'ClassRef':ze,'execute':(_0x15ecf1,_0x446165)=>_[_0x4bd2d2(0x774)](_0x15ecf1,_0x446165)});return _0x42e7ca[_0x4bd2d2(0x464)](0xc8)[_0x4bd2d2(0x4f2)](_0x266e5b);})[_0x38bccc(0x880)](this[_0x38bccc(0x2dc)]('updateProfilePicture'),..._0x575247,async(_0x3a67f3,_0x4b64cb)=>{const _0xc25e8b=_0x38bccc;let _0x3c0a95=await this[_0xc25e8b(0x371)]({'request':_0x3a67f3,'schema':ve,'ClassRef':ye,'execute':(_0x4073ad,_0x356fbf)=>_['updateProfilePicture'](_0x4073ad,_0x356fbf)});return _0x4b64cb['status'](0xc8)['json'](_0x3c0a95);})[_0x38bccc(0x29a)](this[_0x38bccc(0x2dc)](_0x38bccc(0x6c4)),..._0x575247,async(_0x222f8e,_0x4744fd)=>{const _0x4de522=_0x38bccc;let _0x468899=await this[_0x4de522(0x371)]({'request':_0x222f8e,'schema':ve,'ClassRef':ye,'execute':(_0x4747b1,_0x355dd7)=>_[_0x4de522(0x6c4)](_0x4747b1,_0x355dd7)});return _0x4744fd[_0x4de522(0x464)](0xc8)[_0x4de522(0x4f2)](_0x468899);});}},hr=require(a0_0x236793(0x1af)),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x316d3d){const _0x1c9fff=a0_0x236793;super(),this['router']=(0x0,hr[_0x1c9fff(0x494)])(),this[_0x1c9fff(0x7ad)][_0x1c9fff(0x6cd)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x6ed)),..._0x316d3d,async(_0xe0e1f5,_0x1d6be3)=>{const _0x30cd20=_0x1c9fff;let _0xdffebe=await this[_0x30cd20(0x371)]({'request':_0xe0e1f5,'schema':ar,'ClassRef':it,'execute':(_0x3ae19f,_0x29d89f)=>q['createGroup'](_0x3ae19f,_0x29d89f)});_0x1d6be3[_0x30cd20(0x464)](0xc9)[_0x30cd20(0x4f2)](_0xdffebe);})[_0x1c9fff(0x880)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x828)),..._0x316d3d,async(_0x4a6cd0,_0x1f72e1)=>{const _0x3170f7=_0x1c9fff;let _0x54a2ca=await this['groupValidate']({'request':_0x4a6cd0,'schema':or,'ClassRef':ot,'execute':(_0x325195,_0xe61863)=>q[_0x3170f7(0x828)](_0x325195,_0xe61863)});_0x1f72e1[_0x3170f7(0x464)](0xc9)[_0x3170f7(0x4f2)](_0x54a2ca);})['put'](this['routerPath'](_0x1c9fff(0x6ee)),..._0x316d3d,async(_0xae4fd2,_0x516b9c)=>{const _0x25a7a2=_0x1c9fff;let _0x284bfe=await this[_0x25a7a2(0x4f9)]({'request':_0xae4fd2,'schema':nr,'ClassRef':nt,'execute':(_0x2e3fb4,_0x10e6a0)=>q[_0x25a7a2(0x6ee)](_0x2e3fb4,_0x10e6a0)});_0x516b9c[_0x25a7a2(0x464)](0xc9)[_0x25a7a2(0x4f2)](_0x284bfe);})[_0x1c9fff(0x880)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x2de)),..._0x316d3d,async(_0x197a55,_0x3adaa9)=>{const _0x3d6cfe=_0x1c9fff;let _0x147bb1=await this['groupValidate']({'request':_0x197a55,'schema':cr,'ClassRef':ct,'execute':(_0xc6e37a,_0x1de85c)=>q[_0x3d6cfe(0x2de)](_0xc6e37a,_0x1de85c)});_0x3adaa9[_0x3d6cfe(0x464)](0xc9)[_0x3d6cfe(0x4f2)](_0x147bb1);})[_0x1c9fff(0x880)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x3be)),..._0x316d3d,async(_0x122f0c,_0x43784a)=>{const _0x5d02b3=_0x1c9fff;let _0x4ec720=await this[_0x5d02b3(0x4f9)]({'request':_0x122f0c,'schema':ur,'ClassRef':ut,'execute':(_0x37d7ab,_0x5daf69)=>q[_0x5d02b3(0x3be)](_0x37d7ab,_0x5daf69)});_0x43784a['status'](0xc9)[_0x5d02b3(0x4f2)](_0x4ec720);})[_0x1c9fff(0x880)](this[_0x1c9fff(0x2dc)]('groupSetting'),..._0x316d3d,async(_0x552c8f,_0x4626be)=>{const _0xc6fd62=_0x1c9fff;let _0xe4ccf0=await this['groupValidate']({'request':_0x552c8f,'schema':lr,'ClassRef':lt,'execute':(_0x2ea6f5,_0x34c408)=>q[_0xc6fd62(0x4ed)](_0x2ea6f5,_0x34c408)});_0x4626be['status'](0xc9)[_0xc6fd62(0x4f2)](_0xe4ccf0);})['put'](this[_0x1c9fff(0x2dc)]('toggleEphemeral'),..._0x316d3d,async(_0x2d2c82,_0x100c30)=>{const _0x1f35fd=_0x1c9fff;let _0x20ed28=await this[_0x1f35fd(0x4f9)]({'request':_0x2d2c82,'schema':ir,'ClassRef':pt,'execute':(_0x41cdba,_0x2af75a)=>q['toggleEphemeral'](_0x41cdba,_0x2af75a)});_0x100c30[_0x1f35fd(0x464)](0xc9)[_0x1f35fd(0x4f2)](_0x20ed28);})[_0x1c9fff(0x253)](this[_0x1c9fff(0x2dc)]('findGroupInfos'),..._0x316d3d,async(_0x55f98a,_0x3c0083)=>{const _0x5bb199=_0x1c9fff;let _0x1cc3c0=await this[_0x5bb199(0x4f9)]({'request':_0x55f98a,'schema':Ne,'ClassRef':X,'execute':(_0x5bd209,_0x21ab94)=>q[_0x5bb199(0x851)](_0x5bd209,_0x21ab94)});_0x3c0083['status'](0xc8)[_0x5bb199(0x4f2)](_0x1cc3c0);})[_0x1c9fff(0x253)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x468)),..._0x316d3d,async(_0x28bfea,_0x5cc153)=>{const _0x1eed6b=_0x1c9fff;let _0x67b866=await this[_0x1eed6b(0x371)]({'request':_0x28bfea,'schema':N,'ClassRef':C,'execute':_0x5df2bb=>q['findGroups'](_0x5df2bb)});_0x5cc153[_0x1eed6b(0x464)](0xc8)['json'](_0x67b866);})[_0x1c9fff(0x253)](this['routerPath'](_0x1c9fff(0x4ea)),..._0x316d3d,async(_0x4ea199,_0x14e9f2)=>{const _0x169f4e=_0x1c9fff;let _0x145e11=await this[_0x169f4e(0x4f9)]({'request':_0x4ea199,'schema':Ne,'ClassRef':X,'execute':(_0x10bda5,_0x2619ac)=>q[_0x169f4e(0x660)](_0x10bda5,_0x2619ac)});_0x14e9f2[_0x169f4e(0x464)](0xc8)['json'](_0x145e11);})['get'](this['routerPath'](_0x1c9fff(0x524)),..._0x316d3d,async(_0x2a1f89,_0xbb8464)=>{const _0x1badbe=_0x1c9fff;let _0x419401=await this['groupValidate']({'request':_0x2a1f89,'schema':Ne,'ClassRef':X,'execute':(_0xe12411,_0x50330f)=>q[_0x1badbe(0x524)](_0xe12411,_0x50330f)});_0xbb8464[_0x1badbe(0x464)](0xc8)[_0x1badbe(0x4f2)](_0x419401);})[_0x1c9fff(0x6cd)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x606)),..._0x316d3d,async(_0x1a00f6,_0x122ac8)=>{const _0xeab6b8=_0x1c9fff;let _0xf23aae=await this[_0xeab6b8(0x58f)]({'request':_0x1a00f6,'schema':Ss,'ClassRef':Re,'execute':(_0x5253a1,_0x2d911d)=>q[_0xeab6b8(0x24a)](_0x5253a1,_0x2d911d)});_0x122ac8[_0xeab6b8(0x464)](0xc9)[_0xeab6b8(0x4f2)](_0xf23aae);})[_0x1c9fff(0x880)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x20b)),..._0x316d3d,async(_0x3f58c6,_0x37caf4)=>{const _0x4e52b3=_0x1c9fff;let _0x5efec2=await this['joinGroupValidate']({'request':_0x3f58c6,'schema':Ss,'ClassRef':Re,'execute':(_0x30db69,_0x1ccd93)=>q['joinGroup'](_0x30db69,_0x1ccd93)});_0x37caf4[_0x4e52b3(0x464)](0xc9)['json'](_0x5efec2);})[_0x1c9fff(0x880)](this['routerPath'](_0x1c9fff(0x2e2)),..._0x316d3d,async(_0x4ddebc,_0x22c37a)=>{const _0x41a153=_0x1c9fff;let _0x4d8bb7=await this[_0x41a153(0x4f9)]({'request':_0x4ddebc,'schema':Ne,'ClassRef':X,'execute':(_0xb27524,_0x425c36)=>q['revokeInviteCode'](_0xb27524,_0x425c36)});_0x22c37a['status'](0xc9)[_0x41a153(0x4f2)](_0x4d8bb7);})[_0x1c9fff(0x880)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x31f)),..._0x316d3d,async(_0x4ab529,_0x10b662)=>{const _0x21541d=_0x1c9fff;let _0x2597e2=await this['groupValidate']({'request':_0x4ab529,'schema':rr,'ClassRef':dt,'execute':(_0x2d2d94,_0x5636a4)=>q[_0x21541d(0x34f)](_0x2d2d94,_0x5636a4)});_0x10b662['status'](0xc9)[_0x21541d(0x4f2)](_0x2597e2);})[_0x1c9fff(0x29a)](this[_0x1c9fff(0x2dc)](_0x1c9fff(0x32c)),..._0x316d3d,async(_0x205c24,_0x58a143)=>{const _0x224a15=_0x1c9fff;let _0x127681=await this['groupValidate']({'request':_0x205c24,'schema':{},'ClassRef':X,'execute':(_0x5eab13,_0x55cf2a)=>q[_0x224a15(0x32c)](_0x5eab13,_0x55cf2a)});_0x58a143[_0x224a15(0x464)](0xc8)['json'](_0x127681);});}},gr=require(a0_0x236793(0x1af)),gt=class extends V{constructor(_0x13c7bb,..._0x2f753d){const _0x184422=a0_0x236793;super(),this[_0x184422(0x558)]=_0x13c7bb,this[_0x184422(0x7ad)]=(0x0,gr['Router'])();let _0x11603b=_0x13c7bb[_0x184422(0x253)](_0x184422(0x865));this[_0x184422(0x7ad)][_0x184422(0x6cd)](_0x184422(0x220),..._0x2f753d,async(_0x344fab,_0x2ea718)=>{const _0x686a11=_0x184422;let {instanceName:_0x21b1fc,apikey:_0x42b64c,number:_0x13bc6c}=_0x344fab[_0x686a11(0x61f)],_0x57c6bd=await ne[_0x686a11(0x259)]({'instanceName':_0x21b1fc,'apikey':_0x42b64c,'number':_0x13bc6c});return _0x2ea718[_0x686a11(0x464)](0xc9)[_0x686a11(0x4f2)](_0x57c6bd);})[_0x184422(0x880)](this[_0x184422(0x2dc)](_0x184422(0x331)),..._0x2f753d,async(_0x3ac07b,_0x39ed0e)=>{const _0x54c22d=_0x184422;let _0x47b584=await this[_0x54c22d(0x371)]({'request':_0x3ac07b,'schema':N,'ClassRef':C,'execute':_0x57abcb=>ne['restartInstance'](_0x57abcb)});return _0x39ed0e[_0x54c22d(0x464)](0xc8)[_0x54c22d(0x4f2)](_0x47b584);})[_0x184422(0x253)](this[_0x184422(0x2dc)]('connect'),..._0x2f753d,async(_0x3de8f5,_0x4bba87)=>{const _0x267cd1=_0x184422;let _0x21b91e=await this[_0x267cd1(0x371)]({'request':_0x3de8f5,'schema':N,'ClassRef':C,'execute':_0x3fd5f7=>ne[_0x267cd1(0x2cc)](_0x3fd5f7)});return _0x4bba87['status'](0xc8)['json'](_0x21b91e);})['get'](this[_0x184422(0x2dc)](_0x184422(0x57b)),..._0x2f753d,async(_0x46ae21,_0x12c1fe)=>{const _0x102b22=_0x184422;let _0x1118fb=await this[_0x102b22(0x371)]({'request':_0x46ae21,'schema':N,'ClassRef':C,'execute':_0x18a853=>ne[_0x102b22(0x57b)](_0x18a853)});return _0x12c1fe[_0x102b22(0x464)](0xc8)[_0x102b22(0x4f2)](_0x1118fb);})['get'](this[_0x184422(0x2dc)](_0x184422(0x7e4),!0x1),..._0x2f753d,async(_0x3e54c4,_0x43e264)=>{const _0x524f7d=_0x184422;let _0x1c9942=await this['dataValidate']({'request':_0x3e54c4,'schema':null,'ClassRef':C,'execute':_0x3ad4c3=>ne[_0x524f7d(0x7e4)](_0x3ad4c3)});return _0x43e264['status'](0xc8)[_0x524f7d(0x4f2)](_0x1c9942);})[_0x184422(0x29a)](this[_0x184422(0x2dc)](_0x184422(0x2a6)),..._0x2f753d,async(_0x43e3fc,_0x2696af)=>{const _0x15ff71=_0x184422;let _0x296600=await this[_0x15ff71(0x371)]({'request':_0x43e3fc,'schema':N,'ClassRef':C,'execute':_0x48bd5d=>ne[_0x15ff71(0x2a6)](_0x48bd5d)});return _0x2696af['status'](0xc8)['json'](_0x296600);})[_0x184422(0x29a)](this[_0x184422(0x2dc)](_0x184422(0x29a)),..._0x2f753d,async(_0x4ef69b,_0x5cabe1)=>{const _0x321c73=_0x184422;let _0x562cb2=await this[_0x321c73(0x371)]({'request':_0x4ef69b,'schema':N,'ClassRef':C,'execute':_0x217941=>ne['deleteInstance'](_0x217941)});return _0x5cabe1[_0x321c73(0x464)](0xc8)['json'](_0x562cb2);});}},mr=require(a0_0x236793(0x1af)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Te=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x471b7f){const _0x50d9cf=a0_0x236793;super(),this[_0x50d9cf(0x7ad)]=(0x0,mr['Router'])(),this[_0x50d9cf(0x7ad)][_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)]('sendText'),..._0x471b7f,async(_0x40256c,_0x36c03c)=>{const _0x363d08=_0x50d9cf;let _0x3be88d=await this[_0x363d08(0x371)]({'request':_0x40256c,'schema':Da,'ClassRef':mt,'execute':(_0x2f2fd4,_0x26f6fa)=>B['sendText'](_0x2f2fd4,_0x26f6fa)});return _0x36c03c['status'](0xc9)['json'](_0x3be88d);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)]('sendMedia'),..._0x471b7f,async(_0xf0b6bb,_0x35abd8)=>{const _0x14efaf=_0x50d9cf;let _0x1a88b9=await this['dataValidate']({'request':_0xf0b6bb,'schema':ja,'ClassRef':Te,'execute':(_0x35abcc,_0x3a237a)=>B[_0x14efaf(0x2b2)](_0x35abcc,_0x3a237a)});return _0x35abd8['status'](0xc9)[_0x14efaf(0x4f2)](_0x1a88b9);})['post'](this[_0x50d9cf(0x2dc)](_0x50d9cf(0x81b)),..._0x471b7f,async(_0x29f2d8,_0x46af84)=>{const _0x485983=_0x50d9cf;let _0x2518cd=await this[_0x485983(0x371)]({'request':_0x29f2d8,'schema':Ja,'ClassRef':yt,'execute':(_0x37ef60,_0x5e08b5)=>B[_0x485983(0x81b)](_0x37ef60,_0x5e08b5)});return _0x46af84[_0x485983(0x464)](0xc9)[_0x485983(0x4f2)](_0x2518cd);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)](_0x50d9cf(0x35f)),..._0x471b7f,async(_0x4adb86,_0xa49c59)=>{const _0x24a153=_0x50d9cf;let _0x5e1f9c=await this[_0x24a153(0x371)]({'request':_0x4adb86,'schema':La,'ClassRef':Te,'execute':(_0x5c1831,_0x48c61e)=>B['sendWhatsAppAudio'](_0x5c1831,_0x48c61e)});return _0xa49c59['status'](0xc9)[_0x24a153(0x4f2)](_0x5e1f9c);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)](_0x50d9cf(0x581)),..._0x471b7f,async(_0x1a14fd,_0x2a98b4)=>{const _0x15a62b=_0x50d9cf;let _0xc8bb90=await this[_0x15a62b(0x371)]({'request':_0x1a14fd,'schema':Ua,'ClassRef':St,'execute':(_0x5ca926,_0xd4eef0)=>B[_0x15a62b(0x581)](_0x5ca926,_0xd4eef0)});return _0x2a98b4[_0x15a62b(0x464)](0xc9)['json'](_0xc8bb90);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)]('sendLocation'),..._0x471b7f,async(_0x3c918d,_0x1e95b5)=>{const _0x2d6206=_0x50d9cf;let _0xd4f294=await this[_0x2d6206(0x371)]({'request':_0x3c918d,'schema':qa,'ClassRef':Mt,'execute':(_0xc4ff33,_0x2c6fc9)=>B[_0x2d6206(0x5c6)](_0xc4ff33,_0x2c6fc9)});return _0x1e95b5[_0x2d6206(0x464)](0xc9)[_0x2d6206(0x4f2)](_0xd4f294);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)](_0x50d9cf(0x1a1)),..._0x471b7f,async(_0x15b688,_0x4e755c)=>{const _0x13b074=_0x50d9cf;let _0x15197c=await this[_0x13b074(0x371)]({'request':_0x15b688,'schema':Va,'ClassRef':Ct,'execute':(_0x5ec097,_0xbb9235)=>B[_0x13b074(0x1a1)](_0x5ec097,_0xbb9235)});return _0x4e755c[_0x13b074(0x464)](0xc9)[_0x13b074(0x4f2)](_0x15197c);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)]('sendContact'),..._0x471b7f,async(_0x31ac39,_0x2e9978)=>{const _0x1ecee9=_0x50d9cf;let _0x50eab0=await this[_0x1ecee9(0x371)]({'request':_0x31ac39,'schema':Ga,'ClassRef':Et,'execute':(_0x19259e,_0x280a8d)=>B['sendContact'](_0x19259e,_0x280a8d)});return _0x2e9978[_0x1ecee9(0x464)](0xc9)[_0x1ecee9(0x4f2)](_0x50eab0);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)](_0x50d9cf(0x408)),..._0x471b7f,async(_0x1e7d31,_0x6773a1)=>{const _0x135592=_0x50d9cf;let _0x269fdb=await this[_0x135592(0x371)]({'request':_0x1e7d31,'schema':Ba,'ClassRef':vt,'execute':(_0x1a88d1,_0x300122)=>B[_0x135592(0x408)](_0x1a88d1,_0x300122)});return _0x6773a1[_0x135592(0x464)](0xc9)[_0x135592(0x4f2)](_0x269fdb);})[_0x50d9cf(0x6cd)](this['routerPath']('sendPoll'),..._0x471b7f,async(_0x190a00,_0x8a1ebf)=>{const _0xd147f1=_0x50d9cf;let _0x4680f9=await this[_0xd147f1(0x371)]({'request':_0x190a00,'schema':Fa,'ClassRef':wt,'execute':(_0x38b373,_0x11b886)=>B[_0xd147f1(0x28e)](_0x38b373,_0x11b886)});return _0x8a1ebf[_0xd147f1(0x464)](0xc9)['json'](_0x4680f9);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)](_0x50d9cf(0x6fb)),..._0x471b7f,async(_0xe0c2b0,_0x49993d)=>{const _0x225018=_0x50d9cf;let _0x17cc8e=await this[_0x225018(0x371)]({'request':_0xe0c2b0,'schema':ka,'ClassRef':ft,'execute':(_0x2485e3,_0x3db5f8)=>B[_0x225018(0x6fb)](_0x2485e3,_0x3db5f8)});return _0x49993d['status'](0xc9)[_0x225018(0x4f2)](_0x17cc8e);})[_0x50d9cf(0x6cd)](this[_0x50d9cf(0x2dc)]('sendSticker'),..._0x471b7f,async(_0x30dcbf,_0x596456)=>{const _0x37a0db=_0x50d9cf;let _0x1b67d5=await this[_0x37a0db(0x371)]({'request':_0x30dcbf,'schema':Pa,'ClassRef':bt,'execute':(_0x336d73,_0x4033e4)=>B[_0x37a0db(0x39d)](_0x336d73,_0x4033e4)});return _0x596456['status'](0xc9)[_0x37a0db(0x4f2)](_0x1b67d5);});}},fr=require(a0_0x236793(0x1af)),Rt=class{},Tt=class extends V{constructor(..._0x304d97){const _0x1ee8df=a0_0x236793;super(),this['router']=(0x0,fr[_0x1ee8df(0x494)])(),this['router'][_0x1ee8df(0x6cd)](this['routerPath']('set'),..._0x304d97,async(_0x28cabb,_0x532769)=>{const _0x30e225=_0x1ee8df;let _0x4a5b15=await this[_0x30e225(0x371)]({'request':_0x28cabb,'schema':dr,'ClassRef':Rt,'execute':(_0x2d1ae2,_0x2c0d56)=>Es['createWebhook'](_0x2d1ae2,_0x2c0d56)});_0x532769[_0x30e225(0x464)](0xc9)['json'](_0x4a5b15);})[_0x1ee8df(0x253)](this[_0x1ee8df(0x2dc)](_0x1ee8df(0x75d)),..._0x304d97,async(_0x3db532,_0x422e4b)=>{const _0x1342e8=_0x1ee8df;let _0x274c25=await this[_0x1342e8(0x371)]({'request':_0x3db532,'schema':N,'ClassRef':C,'execute':_0x3bebaf=>Es['findWebhook'](_0x3bebaf)});_0x422e4b[_0x1342e8(0x464)](0xc8)[_0x1342e8(0x4f2)](_0x274c25);});}},wr=require('express'),y=new R(a0_0x236793(0x1f6)),Ot=class extends V{constructor(..._0x318f5a){const _0x51957a=a0_0x236793;super(),this['router']=(0x0,wr[_0x51957a(0x494)])(),this['router'][_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x572)),..._0x318f5a,async(_0x23d858,_0x1c6857)=>{const _0x5f22ef=_0x51957a;let _0x2c5182=_0x23d858[_0x5f22ef(0x61f)];y[_0x5f22ef(0x461)](_0x5f22ef(0x72e)),y['verbose'](_0x5f22ef(0x6cf)),y[_0x5f22ef(0x461)](_0x23d858['body']);let _0x33fa14=await this['dataValidate']({'request':_0x23d858,'schema':N,'ClassRef':C,'execute':_0x508028=>$[_0x5f22ef(0x629)](_0x508028,_0x2c5182)});_0x1c6857[_0x5f22ef(0x464)](0xc8)[_0x5f22ef(0x4f2)](_0x33fa14);})[_0x51957a(0x253)](this['routerPath'](_0x51957a(0x572)),..._0x318f5a,async(_0xb2ebcc,_0x1b6821)=>{const _0x16fb84=_0x51957a;let _0xec50f=await this['dataValidate']({'request':_0xb2ebcc,'schema':N,'ClassRef':C,'execute':_0x3850d8=>$[_0x16fb84(0x1d5)](_0x3850d8)});_0x1b6821['status'](0xc8)[_0x16fb84(0x4f2)](_0xec50f);})[_0x51957a(0x29a)](this[_0x51957a(0x2dc)]('deleteDoneMessages'),..._0x318f5a,async(_0x453e8c,_0x131e9a)=>{const _0x3b1e14=_0x51957a;y[_0x3b1e14(0x461)](_0x3b1e14(0x580));let _0x155851=await this[_0x3b1e14(0x371)]({'request':_0x453e8c,'schema':N,'ClassRef':C,'execute':_0x5768a2=>$[_0x3b1e14(0x77e)](_0x5768a2)});_0x131e9a[_0x3b1e14(0x464)](0xc8)['json'](_0x155851);})[_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x85b)),..._0x318f5a,async(_0x31ef64,_0x52e7e7)=>{const _0x66ae4a=_0x51957a;let _0x240610=_0x31ef64['body'];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x66ae4a(0x461)](_0x66ae4a(0x6cf)),y[_0x66ae4a(0x461)](_0x31ef64['body']);let _0x424ce5=await this[_0x66ae4a(0x371)]({'request':_0x31ef64,'schema':N,'ClassRef':C,'execute':_0x1998d3=>$[_0x66ae4a(0x85b)](_0x1998d3,_0x240610)});_0x52e7e7[_0x66ae4a(0x464)](0xc8)['json'](_0x424ce5);})[_0x51957a(0x253)](this['routerPath'](_0x51957a(0x2c1)),..._0x318f5a,async(_0x43765b,_0x1ffb1e)=>{const _0x278ab9=_0x51957a;y[_0x278ab9(0x461)](_0x278ab9(0x7e1));let _0x3c0ae0=await this['dataValidate']({'request':_0x43765b,'schema':N,'ClassRef':C,'execute':_0x3d6fff=>$[_0x278ab9(0x2c1)](_0x3d6fff)});_0x1ffb1e['status'](0xc8)[_0x278ab9(0x4f2)](_0x3c0ae0);})['get'](this['routerPath'](_0x51957a(0x413)),..._0x318f5a,async(_0x59c317,_0x456961)=>{const _0x202d4d=_0x51957a;y[_0x202d4d(0x461)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x266a58=await this[_0x202d4d(0x371)]({'request':_0x59c317,'schema':N,'ClassRef':C,'execute':_0x4705f9=>$[_0x202d4d(0x2c1)](_0x4705f9)});_0x456961[_0x202d4d(0x464)](0xc8)[_0x202d4d(0x4f2)](_0x266a58);})['post'](this[_0x51957a(0x2dc)](_0x51957a(0x6dc)),..._0x318f5a,async(_0x365a53,_0x4e7ab0)=>{const _0x2ce964=_0x51957a;let _0xe58cb1=_0x365a53[_0x2ce964(0x61f)];y[_0x2ce964(0x461)](_0x2ce964(0x323)),y[_0x2ce964(0x461)](_0x2ce964(0x6cf)),y[_0x2ce964(0x461)](_0x365a53[_0x2ce964(0x61f)]);let _0xa8e885=await this[_0x2ce964(0x371)]({'request':_0x365a53,'schema':N,'ClassRef':C,'execute':_0x2baa50=>$[_0x2ce964(0x6dc)](_0x2baa50,_0xe58cb1)});_0x4e7ab0['status'](0xc8)[_0x2ce964(0x4f2)](_0xa8e885);})[_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x6e1)),..._0x318f5a,async(_0x98368,_0x346623)=>{const _0x2b7c48=_0x51957a;let _0x588047=_0x98368[_0x2b7c48(0x61f)];y[_0x2b7c48(0x461)]('request\x20received\x20in\x20updateCustomFields'),y['verbose']('request\x20body:\x20'),y[_0x2b7c48(0x461)](_0x98368[_0x2b7c48(0x61f)]);let _0x333412=await this[_0x2b7c48(0x371)]({'request':_0x98368,'schema':N,'ClassRef':C,'execute':_0x4e922c=>$[_0x2b7c48(0x6e1)](_0x4e922c,_0x588047)});_0x346623['status'](0xc8)[_0x2b7c48(0x4f2)](_0x333412);})['post'](this['routerPath'](_0x51957a(0x1de)),..._0x318f5a,async(_0x4cdc78,_0x24e041)=>{const _0x56c84a=_0x51957a;let _0x5c123b=_0x4cdc78[_0x56c84a(0x61f)];y['verbose']('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x56c84a(0x461)](_0x56c84a(0x6cf)),y[_0x56c84a(0x461)](_0x4cdc78[_0x56c84a(0x61f)]);let _0x47b63d=await this['dataValidate']({'request':_0x4cdc78,'schema':N,'ClassRef':C,'execute':_0x235adc=>$[_0x56c84a(0x1de)](_0x235adc,_0x5c123b)});_0x24e041[_0x56c84a(0x464)](0xc8)['json'](_0x47b63d);})['post'](this[_0x51957a(0x2dc)](_0x51957a(0x3f0)),..._0x318f5a,async(_0x97f4d1,_0x2e35d3)=>{const _0x360e5c=_0x51957a;let _0x15be08=_0x97f4d1[_0x360e5c(0x61f)];y[_0x360e5c(0x461)](_0x360e5c(0x7e0)),y[_0x360e5c(0x461)](_0x360e5c(0x6cf)),y[_0x360e5c(0x461)](_0x97f4d1[_0x360e5c(0x61f)]);let _0x551ae7=await this['dataValidate']({'request':_0x97f4d1,'schema':N,'ClassRef':C,'execute':_0x5731ea=>$['updateFlowConfig'](_0x5731ea,_0x15be08)});_0x2e35d3['status'](0xc8)[_0x360e5c(0x4f2)](_0x551ae7);})[_0x51957a(0x6cd)](this['routerPath'](_0x51957a(0x6c8)),..._0x318f5a,async(_0x34f450,_0x2691a1)=>{const _0x312155=_0x51957a;let _0x400f6b=_0x34f450[_0x312155(0x61f)];y[_0x312155(0x461)]('request\x20received\x20in\x20getConversation'),y[_0x312155(0x461)]('request\x20body:\x20'),y[_0x312155(0x461)](_0x34f450[_0x312155(0x61f)]);let _0x5733ba=await this[_0x312155(0x371)]({'request':_0x34f450,'schema':N,'ClassRef':C,'execute':_0x521f88=>$[_0x312155(0x6c8)](_0x521f88,_0x400f6b)});_0x2691a1[_0x312155(0x464)](0xc8)[_0x312155(0x4f2)](_0x5733ba);})[_0x51957a(0x6cd)](this['routerPath'](_0x51957a(0x525)),..._0x318f5a,async(_0x5e9725,_0x235d52)=>{const _0xe0c348=_0x51957a;let _0x201185=_0x5e9725[_0xe0c348(0x61f)];y['verbose'](_0xe0c348(0x330)),y[_0xe0c348(0x461)]('request\x20body:\x20'),y[_0xe0c348(0x461)](_0x5e9725[_0xe0c348(0x61f)]);let _0x625002=await this['dataValidate']({'request':_0x5e9725,'schema':N,'ClassRef':C,'execute':_0x311dd2=>$[_0xe0c348(0x525)](_0x311dd2,_0x201185)});_0x235d52[_0xe0c348(0x464)](0xc8)[_0xe0c348(0x4f2)](_0x625002);})[_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x2fc)),..._0x318f5a,async(_0xf3a54d,_0x223aa5)=>{const _0x15f31f=_0x51957a;let _0x9b547a=_0xf3a54d['body'];y[_0x15f31f(0x461)](_0x15f31f(0x5e7)),y[_0x15f31f(0x461)](_0x15f31f(0x6cf)),y[_0x15f31f(0x461)](_0xf3a54d[_0x15f31f(0x61f)]);let _0x5cdf67=await this[_0x15f31f(0x371)]({'request':_0xf3a54d,'schema':N,'ClassRef':C,'execute':_0x19defd=>$['editConversation'](_0x19defd,_0x9b547a)});_0x223aa5[_0x15f31f(0x464)](0xc8)['json'](_0x5cdf67);})['delete'](this['routerPath'](_0x51957a(0x5de)),..._0x318f5a,async(_0x3444dc,_0x2ffffc)=>{const _0x1e252a=_0x51957a;let _0x51e24f=_0x3444dc[_0x1e252a(0x61f)];y[_0x1e252a(0x461)](_0x1e252a(0x6ef)),y['verbose']('request\x20body:\x20'),y[_0x1e252a(0x461)](_0x3444dc[_0x1e252a(0x61f)]);let _0x5867fc=await this[_0x1e252a(0x371)]({'request':_0x3444dc,'schema':N,'ClassRef':C,'execute':_0x245f49=>$[_0x1e252a(0x5de)](_0x245f49,_0x51e24f)});_0x2ffffc[_0x1e252a(0x464)](0xc8)['json'](_0x5867fc);})['post'](this['routerPath'](_0x51957a(0x73f)),..._0x318f5a,async(_0x5b3839,_0x16954b)=>{const _0x539efe=_0x51957a;let _0x786741=_0x5b3839[_0x539efe(0x61f)];y[_0x539efe(0x461)]('request\x20received\x20in\x20createFlow'),y[_0x539efe(0x461)](_0x539efe(0x6cf)),y[_0x539efe(0x461)](_0x5b3839[_0x539efe(0x61f)]);let _0x47302c=await this[_0x539efe(0x371)]({'request':_0x5b3839,'schema':N,'ClassRef':C,'execute':_0xb9b593=>$['createFlow'](_0xb9b593,_0x786741)});_0x16954b[_0x539efe(0x464)](0xc8)[_0x539efe(0x4f2)](_0x47302c);})[_0x51957a(0x6cd)](this['routerPath'](_0x51957a(0x4e8)),..._0x318f5a,async(_0x3da18e,_0x1b1b17)=>{const _0x29b321=_0x51957a;let _0x56100b=_0x3da18e['body'];y[_0x29b321(0x461)](_0x29b321(0x641)),y['verbose'](_0x29b321(0x6cf)),y[_0x29b321(0x461)](_0x3da18e[_0x29b321(0x61f)]),delete _0x56100b[_0x29b321(0x301)],delete _0x56100b[_0x29b321(0x4fc)],delete _0x56100b['groups'],delete _0x56100b[_0x29b321(0x5e5)];let _0x300867=await this['dataValidate']({'request':_0x3da18e,'schema':N,'ClassRef':C,'execute':_0x3699e4=>$[_0x29b321(0x50c)](_0x3699e4,_0x56100b)});_0x1b1b17[_0x29b321(0x464)](0xc8)['json'](_0x300867);})['post'](this['routerPath'](_0x51957a(0x2b8)),..._0x318f5a,async(_0x1d5f96,_0x509d56)=>{const _0x16d83e=_0x51957a;let _0x83dad0=_0x1d5f96['body'];y[_0x16d83e(0x461)]('request\x20received\x20in\x20editFlow'),y[_0x16d83e(0x461)]('request\x20body:\x20'),y[_0x16d83e(0x461)](_0x1d5f96[_0x16d83e(0x61f)]);let _0x567822=await this[_0x16d83e(0x371)]({'request':_0x1d5f96,'schema':N,'ClassRef':C,'execute':_0xea2d93=>$['editFlowBlock'](_0xea2d93,_0x83dad0)});_0x509d56[_0x16d83e(0x464)](0xc8)[_0x16d83e(0x4f2)](_0x567822);})[_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x588)),..._0x318f5a,async(_0x1d9c7c,_0x1e9310)=>{const _0x60f943=_0x51957a;let _0x242a75=_0x1d9c7c['body'];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x60f943(0x461)](_0x60f943(0x6cf)),y[_0x60f943(0x461)](_0x1d9c7c[_0x60f943(0x61f)]);let _0x355c44=await this[_0x60f943(0x371)]({'request':_0x1d9c7c,'schema':N,'ClassRef':C,'execute':_0x420b16=>$[_0x60f943(0x829)](_0x420b16,_0x242a75)});_0x1e9310[_0x60f943(0x464)](0xc8)[_0x60f943(0x4f2)](_0x355c44);})[_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x215)),..._0x318f5a,async(_0x362878,_0x4b949f)=>{const _0x2e177f=_0x51957a;let _0x4d0c1a=_0x362878[_0x2e177f(0x61f)];y[_0x2e177f(0x461)]('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x2e177f(0x461)](_0x362878[_0x2e177f(0x61f)]);let _0x250d95=await this[_0x2e177f(0x371)]({'request':_0x362878,'schema':N,'ClassRef':C,'execute':_0x3f830f=>$[_0x2e177f(0x245)](_0x3f830f,_0x4d0c1a)});_0x4b949f[_0x2e177f(0x464)](0xc8)['json'](_0x250d95);})[_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x826)),..._0x318f5a,async(_0xde0eee,_0x143912)=>{const _0x463cba=_0x51957a;let _0x4144b2=_0xde0eee[_0x463cba(0x61f)];y[_0x463cba(0x461)](_0x463cba(0x877)),y[_0x463cba(0x461)](_0x463cba(0x6cf)),y[_0x463cba(0x461)](_0xde0eee[_0x463cba(0x61f)]);let _0x2209c1=await this[_0x463cba(0x371)]({'request':_0xde0eee,'schema':N,'ClassRef':C,'execute':_0x4aa774=>$[_0x463cba(0x1f9)](_0x4aa774,_0x4144b2)});_0x143912[_0x463cba(0x464)](0xc8)['json'](_0x2209c1);})[_0x51957a(0x6cd)](this[_0x51957a(0x2dc)](_0x51957a(0x3a5)),..._0x318f5a,async(_0x1c26d4,_0x4600d9)=>{const _0x2ade9c=_0x51957a;let _0x14e8c9=_0x1c26d4[_0x2ade9c(0x61f)];y[_0x2ade9c(0x461)](_0x2ade9c(0x5e4)),y[_0x2ade9c(0x461)](_0x2ade9c(0x6cf)),y[_0x2ade9c(0x461)](_0x1c26d4[_0x2ade9c(0x61f)]);let _0x2fe96f=await this['dataValidate']({'request':_0x1c26d4,'schema':N,'ClassRef':C,'execute':_0x41fea9=>$[_0x2ade9c(0x423)](_0x41fea9,_0x14e8c9)});_0x4600d9['status'](0xc8)[_0x2ade9c(0x4f2)](_0x2fe96f);})['post'](this['routerPath'](_0x51957a(0x83e)),..._0x318f5a,async(_0x195a54,_0x2e0642)=>{const _0x1c9835=_0x51957a;let _0x5710ca=_0x195a54[_0x1c9835(0x61f)];y[_0x1c9835(0x461)](_0x1c9835(0x33f)),y[_0x1c9835(0x461)](_0x1c9835(0x6cf)),y['verbose'](_0x195a54[_0x1c9835(0x61f)]);let _0x434e49=await this[_0x1c9835(0x371)]({'request':_0x195a54,'schema':N,'ClassRef':C,'execute':_0x3f59fd=>$[_0x1c9835(0x4e4)](_0x3f59fd,_0x5710ca)});_0x2e0642[_0x1c9835(0x464)](0xc8)['json'](_0x434e49);})[_0x51957a(0x6cd)](this['routerPath'](_0x51957a(0x3ed)),..._0x318f5a,async(_0x4862ff,_0x4f02a3)=>{const _0xcf23de=_0x51957a;let _0x11e7c4=_0x4862ff[_0xcf23de(0x61f)];y[_0xcf23de(0x461)](_0xcf23de(0x1ee)),y[_0xcf23de(0x461)](_0xcf23de(0x6cf)),y['verbose'](_0x4862ff[_0xcf23de(0x61f)]);let _0x3c3fdf=await this['dataValidate']({'request':_0x4862ff,'schema':N,'ClassRef':C,'execute':_0x326358=>$['getFlow'](_0x326358,_0x11e7c4)});_0x4f02a3[_0xcf23de(0x464)](0xc8)['json'](_0x3c3fdf);})[_0x51957a(0x29a)](this['routerPath'](_0x51957a(0x4d7)),..._0x318f5a,async(_0x1749bb,_0x5f55e9)=>{const _0x4fee12=_0x51957a;let _0x59db3a=_0x1749bb[_0x4fee12(0x61f)];y[_0x4fee12(0x461)](_0x4fee12(0x801)),y[_0x4fee12(0x461)](_0x4fee12(0x6cf)),y[_0x4fee12(0x461)](_0x1749bb['body']);let _0xfb8126=await this['dataValidate']({'request':_0x1749bb,'schema':N,'ClassRef':C,'execute':_0x3a0d1e=>$[_0x4fee12(0x5ae)](_0x3a0d1e,_0x59db3a)});_0x5f55e9[_0x4fee12(0x464)](0xc8)[_0x4fee12(0x4f2)](_0xfb8126);})['get'](this[_0x51957a(0x2dc)]('allflows'),..._0x318f5a,async(_0x270305,_0xb9d964)=>{const _0x5a4790=_0x51957a;y[_0x5a4790(0x461)](_0x5a4790(0x873));let _0x173a90=await this[_0x5a4790(0x371)]({'request':_0x270305,'schema':N,'ClassRef':C,'execute':_0x3e68b2=>$[_0x5a4790(0x2e4)](_0x3e68b2)});_0xb9d964[_0x5a4790(0x464)](0xc8)[_0x5a4790(0x4f2)](_0x173a90);});}},Mr=O(require(a0_0x236793(0x228))),Z={};function yr(_0xd52924,_0x14fa5e,_0x1450a1,_0x359087){Z[_0xd52924]||(Z[_0xd52924]={}),Z[_0xd52924][_0x14fa5e]={'id':_0x14fa5e,'response':_0x1450a1,'events':_0x359087};}function br(_0xcaee51,_0x3b2d57){!Z[_0xcaee51]||!Z[_0xcaee51][_0x3b2d57]||delete Z[_0xcaee51][_0x3b2d57];}function J(_0x523336,_0x15b403,_0x2b61cd){const _0x513f9e=a0_0x236793;if(!Z[_0x523336])return;let _0x566e06='data:\x20'+JSON[_0x513f9e(0x6fe)](_0x2b61cd)+'\x0a\x0a';Object[_0x513f9e(0x268)](Z[_0x523336])[_0x513f9e(0x595)](_0x1590f9=>{const _0xe13bd7=_0x513f9e;_0x1590f9[_0xe13bd7(0x300)][_0xe13bd7(0x256)](_0x15b403)&&_0x1590f9['response'][_0xe13bd7(0x77b)](_0x566e06);});}function Sr(){const _0x58dc6c=a0_0x236793;let _0x2f55e5={};for(let _0x940f11 in Z)_0x2f55e5[_0x940f11]=Object['values'](Z[_0x940f11])[_0x58dc6c(0x405)](_0x297f45=>({'id':_0x297f45['id'],'events':_0x297f45[_0x58dc6c(0x300)]}));return _0x2f55e5;}var Cr=require(a0_0x236793(0x80d)),Ns=require(a0_0x236793(0x723)),vs=class{},Ci=new Ns[(a0_0x236793(0x7b2))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ei=new Ns[(a0_0x236793(0x7b2))]({'_id':{'type':String,'default':a0_0x236793(0x4d9)},'WebhookGlobal':{'type':Ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),be=T?.[a0_0x236793(0x7d4)](vs['name'],Ei,'All_Instances_Config'),vi=Mr[a0_0x236793(0x4d1)]['join'](__dirname,a0_0x236793(0x566)),$t=(0x0,At[a0_0x236793(0x494)])(),Ni=b[a0_0x236793(0x253)](a0_0x236793(0x865))[a0_0x236793(0x760)],se=[Oa,Aa,xa[Ni]];$t[a0_0x236793(0x58b)](a0_0x236793(0x622),At[a0_0x236793(0x4d1)][a0_0x236793(0x2b0)](vi))[a0_0x236793(0x253)](a0_0x236793(0x568),async(_0x1cc0a3,_0x585cca)=>{const _0x43e4ec=a0_0x236793;console['log']('bateu\x20events');let _0x444718=_0x1cc0a3[_0x43e4ec(0x83f)][_0x43e4ec(0x4fb)],_0x490126=(_0x1cc0a3['query']['events']||'')[_0x43e4ec(0x6ec)](','),_0x4e19aa=(0x0,Cr['v4'])();console[_0x43e4ec(0x7e7)](_0x43e4ec(0x3b2),_0x444718),console['log'](_0x43e4ec(0x52c),_0x490126);let _0x132c5d=b[_0x43e4ec(0x253)](_0x43e4ec(0x865))[_0x43e4ec(0x5ce)],_0x31e6ad=_0x1cc0a3[_0x43e4ec(0x808)][_0x43e4ec(0x1e5)];if(console[_0x43e4ec(0x7e7)](_0x43e4ec(0x347),_0x31e6ad),_0x132c5d[_0x43e4ec(0x4e5)]!==_0x31e6ad){console[_0x43e4ec(0x7e7)](_0x43e4ec(0x678));try{let _0x6fb1ac=await ue[_0x43e4ec(0x807)]['find'](_0x444718);if(console[_0x43e4ec(0x7e7)](_0x43e4ec(0x377),_0x6fb1ac),!_0x6fb1ac||_0x6fb1ac[_0x43e4ec(0x1e5)]!==_0x31e6ad)return console[_0x43e4ec(0x7e7)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x585cca['status'](0x191)[_0x43e4ec(0x775)](_0x43e4ec(0x378));}catch(_0x5d8c97){return console[_0x43e4ec(0x1a3)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x5d8c97),_0x585cca[_0x43e4ec(0x464)](0x191)['send'](_0x43e4ec(0x59a));}}if(!await Xe(_0x444718))return _0x585cca[_0x43e4ec(0x464)](0x194)[_0x43e4ec(0x775)](_0x43e4ec(0x772));_0x585cca['setHeader'](_0x43e4ec(0x7ea),_0x43e4ec(0x697)),_0x585cca['setHeader'](_0x43e4ec(0x2ca),_0x43e4ec(0x845)),_0x585cca[_0x43e4ec(0x33d)](_0x43e4ec(0x2a8),_0x43e4ec(0x642)),_0x585cca[_0x43e4ec(0x786)]();let _0x1c7653='data:\x20'+JSON[_0x43e4ec(0x6fe)]({'info':_0x43e4ec(0x424)})+'\x0a\x0a';_0x585cca[_0x43e4ec(0x77b)](_0x1c7653),yr(_0x444718,_0x4e19aa,_0x585cca,_0x490126),_0x1cc0a3['on']('close',()=>{const _0x47bb66=_0x43e4ec;console['log'](_0x47bb66(0x369)+_0x444718),br(_0x444718,_0x4e19aa);});}),$t[a0_0x236793(0x253)](a0_0x236793(0x200),(_0x32b4dc,_0x423ffc)=>{const _0x23f8d6=a0_0x236793;let _0xe28d80=Sr();_0x423ffc[_0x23f8d6(0x4f2)](_0xe28d80);})[a0_0x236793(0x253)]('/',(_0xd9864b,_0x3fcf8e)=>{const _0x21a81f=a0_0x236793;let _0x3c2e8a=b[_0x21a81f(0x253)](_0x21a81f(0x6ab))[_0x21a81f(0x38f)];if(_0x3c2e8a){let _0xa6b62e=encodeURIComponent(''+_0x3c2e8a);_0x3fcf8e[_0x21a81f(0x65e)]('https://uazapi-plugin.bubbleapps.io/?url='+_0xa6b62e);return;}let _0x4923bb=b[_0x21a81f(0x253)]('SSL_CONF'),_0x216300=_0x4923bb&&_0x4923bb[_0x21a81f(0x5b8)]['split']('/')[0x4];if(_0x216300){let _0x13b3cb=encodeURIComponent(_0x21a81f(0x40a)+_0x216300);_0x3fcf8e['redirect'](_0x21a81f(0x362)+_0x13b3cb);}else _0x3fcf8e[_0x21a81f(0x65e)](_0x21a81f(0x849));})['put'](a0_0x236793(0x4f4),...se,async(_0x1c20da,_0x2a4512)=>{const _0xc8d1d2=a0_0x236793;try{console['log'](_0xc8d1d2(0x5bd)),_0x2a4512[_0xc8d1d2(0x464)](0xc8)[_0xc8d1d2(0x4f2)]({'message':_0xc8d1d2(0x823)}),_0x2a4512['on'](_0xc8d1d2(0x55b),()=>process[_0xc8d1d2(0x6d2)](0x0));}catch(_0x20f416){console[_0xc8d1d2(0x1a3)](_0xc8d1d2(0x4c5),_0x20f416),_0x2a4512[_0xc8d1d2(0x464)](0x1f4)['json']({'message':_0xc8d1d2(0x530)});}})[a0_0x236793(0x880)](a0_0x236793(0x226),...se,async(_0x349100,_0x130642)=>{const _0x3f2669=a0_0x236793;try{let _0x29c4e2=_0x349100[_0x3f2669(0x61f)];await be[_0x3f2669(0x1e2)]({},{'$set':_0x29c4e2},{'upsert':!0x0});let _0x309d6c=await be[_0x3f2669(0x542)]();_0x130642[_0x3f2669(0x4f2)](_0x309d6c);}catch(_0x4a4ed5){_0x130642[_0x3f2669(0x464)](0x190)[_0x3f2669(0x775)](_0x4a4ed5[_0x3f2669(0x7e9)]);}})[a0_0x236793(0x253)](a0_0x236793(0x226),...se,async(_0x5ebc18,_0x46ca27)=>{const _0x14fb7d=a0_0x236793;try{let _0x451eb9=await be[_0x14fb7d(0x542)]();if(!_0x451eb9)return _0x46ca27['json']({});_0x46ca27[_0x14fb7d(0x4f2)](_0x451eb9);}catch(_0x5421d3){_0x46ca27['status'](0x1f4)[_0x14fb7d(0x775)](_0x5421d3[_0x14fb7d(0x7e9)]);}})[a0_0x236793(0x58b)](a0_0x236793(0x7ac),new gt(b,...se)[a0_0x236793(0x7ad)])[a0_0x236793(0x58b)](a0_0x236793(0x37e),new Nt(...se)[a0_0x236793(0x7ad)])[a0_0x236793(0x58b)](a0_0x236793(0x798),new rt(...se)['router'])[a0_0x236793(0x58b)](a0_0x236793(0x651),new ht(...se)[a0_0x236793(0x7ad)])[a0_0x236793(0x58b)]('/webhook',new Tt(...se)['router'])['use']('/automate',new Ot(...se)[a0_0x236793(0x7ad)]);var m=class{constructor(..._0x3eed21){const _0x31abd8=a0_0x236793;throw{'status':0x190,'error':_0x31abd8(0x62c),'message':_0x3eed21[_0x31abd8(0x5a8)]>0x0?_0x3eed21:void 0x0};}},te=class{constructor(..._0x3d6996){const _0x39bdbc=a0_0x236793;throw{'status':0x191,'error':_0x39bdbc(0x1d1),'message':_0x3d6996['length']>0x0?_0x3d6996:void 0x0};}},Q=class{constructor(..._0x415a38){const _0x390bf3=a0_0x236793;throw{'status':0x193,'error':'Forbidden','message':_0x415a38[_0x390bf3(0x5a8)]>0x0?_0x415a38:void 0x0};}},U=class{constructor(..._0x45e165){const _0x298030=a0_0x236793;throw{'status':0x194,'error':'Not\x20Found','message':_0x45e165[_0x298030(0x5a8)]>0x0?_0x45e165:void 0x0};}},I=class{constructor(..._0x476b2a){const _0x276727=a0_0x236793;throw{'status':0x1f4,'error':_0x276727(0x4c1),'message':_0x476b2a[_0x276727(0x5a8)]>0x0?_0x476b2a:void 0x0};}},de=require(a0_0x236793(0x73a));async function Rs(_0x224f1f){const _0x2df79d=a0_0x236793;let _0x6388e7=new R(Rs[_0x2df79d(0x7bd)]),_0xeda053=T[_0x2df79d(0x62f)](),_0x27458d=_0xeda053['db'](b[_0x2df79d(0x253)](_0x2df79d(0x6d7))[_0x2df79d(0x6d3)][_0x2df79d(0x3e3)]+_0x2df79d(0x68b))[_0x2df79d(0x670)](_0x224f1f),_0x117c37=async(_0x337f60,_0x58f019)=>{const _0x5746a5=_0x2df79d;try{return await _0xeda053['connect'](),await _0x27458d['replaceOne']({'_id':_0x58f019},JSON[_0x5746a5(0x36f)](JSON['stringify'](_0x337f60,de[_0x5746a5(0x57a)][_0x5746a5(0x45f)])),{'upsert':!0x0});}catch{}},_0x582780=async _0x5ec25f=>{const _0x16df19=_0x2df79d;try{await _0xeda053[_0x16df19(0x4bc)]();let _0x265695=await _0x27458d['findOne']({'_id':_0x5ec25f}),_0x3172de=JSON[_0x16df19(0x6fe)](_0x265695);return JSON[_0x16df19(0x36f)](_0x3172de,de[_0x16df19(0x57a)][_0x16df19(0x1f0)]);}catch{}},_0x3a50d0=async _0xe79a3e=>{const _0x289778=_0x2df79d;try{return await _0xeda053[_0x289778(0x4bc)](),await _0x27458d[_0x289778(0x4f7)]({'_id':_0xe79a3e});}catch{}},_0x3a79be=await _0x582780(_0x2df79d(0x453))||(0x0,de[_0x2df79d(0x5ee)])();return{'state':{'creds':_0x3a79be,'keys':{'get':async(_0x6db35b,_0x14a06a)=>{const _0x471d8b=_0x2df79d;let _0x208fed={};return await Promise[_0x471d8b(0x4a7)](_0x14a06a[_0x471d8b(0x405)](async _0x3ddff4=>{const _0x3ff610=_0x471d8b;let _0x335da3=await _0x582780(_0x6db35b+'-'+_0x3ddff4);_0x6db35b==='app-state-sync-key'&&_0x335da3&&(_0x335da3=de[_0x3ff610(0x43c)][_0x3ff610(0x3fd)][_0x3ff610(0x508)][_0x3ff610(0x44d)](_0x335da3)),_0x208fed[_0x3ddff4]=_0x335da3;})),_0x208fed;},'set':async _0x36fa3c=>{const _0xc8bfef=_0x2df79d;let _0x4e576d=[];for(let _0x11c595 in _0x36fa3c)for(let _0x222a10 in _0x36fa3c[_0x11c595]){let _0x4e7949=_0x36fa3c[_0x11c595][_0x222a10],_0x514f0c=_0x11c595+'-'+_0x222a10;_0x4e576d[_0xc8bfef(0x4a9)](_0x4e7949?_0x117c37(_0x4e7949,_0x514f0c):_0x3a50d0(_0x514f0c));}await Promise['all'](_0x4e576d);}}},'saveCreds':async()=>_0x117c37(_0x3a79be,_0x2df79d(0x453))};}var Is=O(require(a0_0x236793(0x885))),xs=O(require(a0_0x236793(0x3c2))),Dt=require(a0_0x236793(0x73a)),Er=require(a0_0x236793(0x726)),xt=require(a0_0x236793(0x73a)),It;function Ri(_0x4f55fb){const _0x8867bc=a0_0x236793;return It||(It=(0x0,Er[_0x8867bc(0x7c5)])({'url':_0x4f55fb[_0x8867bc(0x84a)]}),It[_0x8867bc(0x4bc)]()),It;}var ce=class c{constructor(_0xdb7f9e,_0x3db6ae){const _0x123fc8=a0_0x236793;this['redisEnv']=_0xdb7f9e,this[_0x123fc8(0x5a5)]=_0x3db6ae,this[_0x123fc8(0x598)]=new R(c['name']),this[_0x123fc8(0x5f0)]=Ri(_0xdb7f9e);}set[a0_0x236793(0x770)](_0x4a42de){const _0x53b4a2=a0_0x236793;this[_0x53b4a2(0x5a5)]=_0x4a42de;}async[a0_0x236793(0x72c)](){const _0x482ea4=a0_0x236793;try{return await this[_0x482ea4(0x5f0)][_0x482ea4(0x2d2)]([_0x482ea4(0x75c),this[_0x482ea4(0x811)][_0x482ea4(0x620)]+':*']);}catch(_0x16b36b){this[_0x482ea4(0x598)]['error'](_0x16b36b);}}async['writeData'](_0x367989,_0x3e414f){const _0x57c206=a0_0x236793;try{let _0x55eae5=JSON[_0x57c206(0x6fe)](_0x3e414f,xt[_0x57c206(0x57a)]['replacer']);return await this[_0x57c206(0x5f0)][_0x57c206(0x328)](this[_0x57c206(0x811)][_0x57c206(0x620)]+':'+this[_0x57c206(0x5a5)],_0x367989,_0x55eae5);}catch(_0x4f1557){this[_0x57c206(0x598)][_0x57c206(0x1a3)](_0x4f1557);}}async[a0_0x236793(0x7fb)](){const _0x3909f4=a0_0x236793;try{let _0x5e0bfe=await this[_0x3909f4(0x5f0)]['hGetAll'](this[_0x3909f4(0x811)]['PREFIX_KEY']+':'+this[_0x3909f4(0x5a5)]);if(_0x5e0bfe){for(let _0xdd68a2 in _0x5e0bfe)Object['prototype'][_0x3909f4(0x59b)][_0x3909f4(0x5c7)](_0x5e0bfe,_0xdd68a2)&&(_0x5e0bfe[_0xdd68a2]=JSON['parse'](_0x5e0bfe[_0xdd68a2],xt['BufferJSON']['reviver']));return _0x5e0bfe;}}catch(_0x4d67c4){this[_0x3909f4(0x598)][_0x3909f4(0x1a3)](_0x4d67c4);}}async[a0_0x236793(0x50e)](_0x3ece00){const _0x47b23f=a0_0x236793;try{let _0x2b7869=await this[_0x47b23f(0x5f0)][_0x47b23f(0x1c8)](this[_0x47b23f(0x811)][_0x47b23f(0x620)]+':'+this[_0x47b23f(0x5a5)],_0x3ece00);if(_0x2b7869)return JSON[_0x47b23f(0x36f)](_0x2b7869,xt[_0x47b23f(0x57a)][_0x47b23f(0x1f0)]);}catch(_0x5d9a9e){this[_0x47b23f(0x598)][_0x47b23f(0x1a3)](_0x5d9a9e);}}async[a0_0x236793(0x7f8)](_0x47d81c){const _0x1a88c4=a0_0x236793;try{return await this[_0x1a88c4(0x5f0)][_0x1a88c4(0x1c3)](this[_0x1a88c4(0x811)]['PREFIX_KEY']+':'+this[_0x1a88c4(0x5a5)],_0x47d81c);}catch(_0x226e53){this[_0x1a88c4(0x598)]['error'](_0x226e53);}}async[a0_0x236793(0x281)](_0x5bcbf5){const _0x3cd0fe=a0_0x236793;try{return await this[_0x3cd0fe(0x5f0)][_0x3cd0fe(0x1ff)](_0x5bcbf5||this[_0x3cd0fe(0x811)][_0x3cd0fe(0x620)]+':'+this[_0x3cd0fe(0x5a5)]);}catch(_0xc79eec){this['logger'][_0x3cd0fe(0x1a3)](_0xc79eec);}}};async function Ts(_0x5ac9f9,_0x31e524){const _0x164bdd=a0_0x236793;let _0x1f7a8e=new R(Ts[_0x164bdd(0x7bd)]),_0x367e8d=new ce(_0x5ac9f9,_0x31e524),_0x1ecaa1=async(_0x4779a7,_0x52bdbf)=>{const _0x30974f=_0x164bdd;try{return await _0x367e8d[_0x30974f(0x474)](_0x52bdbf,_0x4779a7);}catch(_0x58bd6c){return _0x1f7a8e[_0x30974f(0x1a3)]({'localError':_0x30974f(0x474),'error':_0x58bd6c});}},_0x4a060b=async _0x53f297=>{const _0x532402=_0x164bdd;try{return await _0x367e8d[_0x532402(0x50e)](_0x53f297);}catch(_0x5c9891){_0x1f7a8e[_0x532402(0x1a3)]({'readData':_0x532402(0x474),'error':_0x5c9891});return;}},_0x4eaa18=async _0xfd03d8=>{const _0x5b8f1d=_0x164bdd;try{return await _0x367e8d[_0x5b8f1d(0x7f8)](_0xfd03d8);}catch(_0x36b4a0){_0x1f7a8e[_0x5b8f1d(0x1a3)]({'readData':_0x5b8f1d(0x7f8),'error':_0x36b4a0});}},_0x51caf1=await _0x4a060b(_0x164bdd(0x453))||(0x0,Dt[_0x164bdd(0x5ee)])();return{'state':{'creds':_0x51caf1,'keys':{'get':async(_0x314a80,_0x50d2e8)=>{const _0x21a511=_0x164bdd;let _0x550b4a={};return await Promise[_0x21a511(0x4a7)](_0x50d2e8[_0x21a511(0x405)](async _0x2240ef=>{const _0x297437=_0x21a511;let _0x39025a=await _0x4a060b(_0x314a80+'-'+_0x2240ef);_0x314a80===_0x297437(0x7b4)&&_0x39025a&&(_0x39025a=Dt['proto']['Message']['AppStateSyncKeyData']['fromObject'](_0x39025a)),_0x550b4a[_0x2240ef]=_0x39025a;})),_0x550b4a;},'set':async _0x5a1772=>{const _0x2863fc=_0x164bdd;let _0x5ae81a=[];for(let _0x1e7ea6 in _0x5a1772)for(let _0x111dd8 in _0x5a1772[_0x1e7ea6]){let _0x1fb32e=_0x5a1772[_0x1e7ea6][_0x111dd8],_0x520b6a=_0x1e7ea6+'-'+_0x111dd8;_0x5ae81a['push'](_0x1fb32e?await _0x1ecaa1(_0x1fb32e,_0x520b6a):await _0x4eaa18(_0x520b6a));}await Promise[_0x2863fc(0x4a7)](_0x5ae81a);}}},'saveCreds':async()=>await _0x1ecaa1(_0x51caf1,_0x164bdd(0x453))};}var j=O(require('fs')),jt=require(a0_0x236793(0x80d)),Lt=O(require('sharp')),Ft=require('https-proxy-agent'),Ti='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'['trim'](),_t=Ti[a0_0x236793(0x6ec)]('\x0a')[a0_0x236793(0x405)](_0x251a57=>{const _0x3c92eb=a0_0x236793;let _0x23f4f0=_0x251a57['split'](':'),_0x205314={'host':_0x23f4f0[0x0],'port':_0x23f4f0[0x1],'protocol':_0x3c92eb(0x730)};return _0x23f4f0[_0x3c92eb(0x5a8)]===0x4&&(_0x205314[_0x3c92eb(0x1b5)]=_0x23f4f0[0x2],_0x205314[_0x3c92eb(0x679)]=_0x23f4f0[0x3]),_0x205314;});function vr(_0x3dd6f7){const _0x32e639=a0_0x236793;return _t['find'](_0x233d43=>_0x233d43[_0x32e639(0x5c3)]===_0x3dd6f7)||null;}function Nr(){const _0x3df6fa=a0_0x236793;if(_t[_0x3df6fa(0x5a8)]===0x0)return null;let _0x56004b=Math[_0x3df6fa(0x6ff)](Math['random']()*_t[_0x3df6fa(0x5a8)]);return _t[_0x56004b];}function Os(_0x2d31fe){const _0x570992=a0_0x236793;let _0x2464ef=_0x29960c=>typeof _0x29960c==_0x570992(0x4ca)&&_0x29960c[_0x570992(0x5a8)]>0x0,_0x1981ee=_0x5261c2=>{let _0x43f896=parseInt(_0x5261c2,0xa);return!isNaN(_0x43f896)&&_0x43f896>0x0&&_0x43f896<=0xffff;},_0x429d65=_0x4fffbb=>typeof _0x4fffbb==_0x570992(0x4ca)&&_0x4fffbb[_0x570992(0x5a8)]>0x0;return _0x2d31fe&&_0x2464ef(_0x2d31fe[_0x570992(0x5c3)])&&_0x1981ee(_0x2d31fe[_0x570992(0x70b)])&&(!_0x2d31fe[_0x570992(0x1b5)]||_0x429d65(_0x2d31fe[_0x570992(0x1b5)]))&&(!_0x2d31fe[_0x570992(0x679)]||_0x429d65(_0x2d31fe[_0x570992(0x679)]))&&(_0x2d31fe[_0x570992(0x5e0)]===_0x570992(0x730)||_0x2d31fe[_0x570992(0x5e0)]===_0x570992(0x438));}var Jt=require(a0_0x236793(0x5c8)),Ds=a0_0x236793(0x1c6),Ir,le=null,Rr=null,et=null,Oi=0x3,Ai=null;async function $i(){const _0x4ba44e=a0_0x236793;let _0x74542c=await be[_0x4ba44e(0x542)]();le=_0x74542c?.[_0x4ba44e(0x1da)]??null,Ai=_0x74542c?.[_0x4ba44e(0x844)]??null,Ds=_0x74542c?.[_0x4ba44e(0x754)]??_0x4ba44e(0x1c6),Ir=_0x74542c?.['connectedName']??_s??_0x4ba44e(0x471),console[_0x4ba44e(0x7e7)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x4ba44e(0x7e7)](_0x74542c);}async function Ii(){await $i();}Ii();var Tr={},ae={},Se=class c{constructor(_0xcfd135,_0x1f14ac,_0x45ed20){const _0x64fb6e=a0_0x236793;this[_0x64fb6e(0x558)]=_0xcfd135,this[_0x64fb6e(0x2f1)]=_0x1f14ac,this[_0x64fb6e(0x520)]=_0x45ed20,this['AutomateSystem']=null,this[_0x64fb6e(0x598)]=new R(c[_0x64fb6e(0x7bd)]),this['instance']={},this[_0x64fb6e(0x225)]={},this['stateConnection']={'state':_0x64fb6e(0x46c)},this['storePath']=(0x0,F['join'])(oe,_0x64fb6e(0x566)),this[_0x64fb6e(0x211)]=new xs[(_0x64fb6e(0x4d1))](),this[_0x64fb6e(0x22d)]=new xs[(_0x64fb6e(0x4d1))](),this[_0x64fb6e(0x5d3)]=!0x1,this[_0x64fb6e(0x577)]={'status.instance':_0x64fb6e(0x86a),'connection.update':_0x64fb6e(0x86a),'qrcode.updated':_0x64fb6e(0x675),'messages.upsert':_0x64fb6e(0x5db),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':_0x64fb6e(0x653),'group.update':'/wa-groups','group-participants.update':_0x64fb6e(0x653),'messages.set':_0x64fb6e(0x39e),'contacts.set':_0x64fb6e(0x4d8),'contacts.upsert':'/wa-contacts','contacts.update':_0x64fb6e(0x4d8),'presence.update':_0x64fb6e(0x202),'chats.set':_0x64fb6e(0x431),'chats.update':_0x64fb6e(0x431),'chats.upsert':'/wa-chats','chats.delete':_0x64fb6e(0x431)},this[_0x64fb6e(0x4a5)]=0x0,this['reconnectTimestamps']=[],this[_0x64fb6e(0x2b5)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x64fb6e(0x59f)]=!0x1,this[_0x64fb6e(0x857)]={'chats.upsert':async(_0x513d34,_0x1c2a3f)=>{const _0x139655=_0x64fb6e;let _0x5b63ab=[];for await(let _0x25c416 of _0x513d34)_0x5b63ab[_0x139655(0x4a9)]({'_id':_0x25c416['id'],'owner':this[_0x139655(0x4fb)][_0x139655(0x7dd)],'group':_0x25c416['id']['endsWith']('@g.us'),'name':_0x25c416[_0x139655(0x7bd)]||_0x25c416[_0x139655(0x397)]||null,'contactname':null,'lastmsg':_0x25c416[_0x139655(0x3f5)]&&_0x25c416['conversationTimestamp'][_0x139655(0x6eb)]()['length']<0xd?_0x25c416['conversationTimestamp']*0x3e8:_0x25c416['conversationTimestamp']||null,'archived':_0x25c416[_0x139655(0x429)]||!0x1,'unreadcount':_0x25c416[_0x139655(0x31d)]||0x0,'ephemeralExpiration':_0x25c416[_0x139655(0x4df)]||0x0});this[_0x139655(0x510)](_0x139655(0x66e),_0x5b63ab);},'chats.update':async(_0x1f01b0,_0x8bcc7e)=>{const _0x519147=_0x64fb6e;for(let _0xa25b86 of _0x1f01b0){let _0x38154e={'_id':_0xa25b86['id'],'owner':this[_0x519147(0x4fb)]['wuid'],'archived':_0xa25b86[_0x519147(0x429)],'muteEndTime':_0xa25b86[_0x519147(0x272)],'ephemeralExpiration':_0xa25b86['ephemeralExpiration']},_0x458c91=!0x1,_0x1a0a4f={};_0x38154e[_0x519147(0x429)]!=null&&(this[_0x519147(0x598)][_0x519147(0x461)](this[_0x519147(0x5a5)]+'\x20('+this[_0x519147(0x4fb)]['wuid']+_0x519147(0x470)+_0xa25b86['id']+_0x519147(0x1fa)+_0xa25b86['archived']),_0x458c91=!0x0,_0x1a0a4f['archived']=_0xa25b86[_0x519147(0x429)]),_0x519147(0x272)in _0xa25b86&&(this['logger'][_0x519147(0x461)](this[_0x519147(0x5a5)]+'\x20('+this[_0x519147(0x4fb)]['wuid']+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0xa25b86['id']+'\x20:\x20'+(_0xa25b86[_0x519147(0x272)]??'0')),_0x458c91=!0x0,_0x1a0a4f['muteEndTime']=_0xa25b86[_0x519147(0x272)]??0x0),_0x519147(0x4df)in _0xa25b86&&(this['logger'][_0x519147(0x461)](this[_0x519147(0x5a5)]+'\x20('+this[_0x519147(0x4fb)][_0x519147(0x7dd)]+_0x519147(0x29b)+_0xa25b86['id']+_0x519147(0x1fa)+(_0xa25b86[_0x519147(0x4df)]!==void 0x0?_0xa25b86['ephemeralExpiration']:'undefined')),_0x1a0a4f[_0x519147(0x4df)]=_0xa25b86[_0x519147(0x4df)]===null?0x0:_0xa25b86['ephemeralExpiration'],_0x458c91=!0x0);let _0x1c9ade;_0x458c91&&(_0x1c9ade=await this['repository']['chat'][_0x519147(0x1e2)]({'where':{'_id':_0xa25b86['id']}},_0x1a0a4f,this[_0x519147(0x4fb)][_0x519147(0x7dd)])),_0x1c9ade&&J(this[_0x519147(0x5a5)],_0x519147(0x2a1),{'chat':_0x1c9ade});}},'chats.delete':async _0x255d7f=>{const _0xa083eb=_0x64fb6e;for(let _0x8a3758 of _0x255d7f)if(_0x8a3758['endsWith'](_0xa083eb(0x333))){await this[_0xa083eb(0x520)]['chat']['delete']({'where':{'_id':_0x8a3758}},this[_0xa083eb(0x4fb)]['wuid']);let _0x63cc3c={'where':{'key':{'remoteJid':_0x8a3758}}};await this[_0xa083eb(0x520)][_0xa083eb(0x7e9)][_0xa083eb(0x29a)](_0x63cc3c,this[_0xa083eb(0x4fb)][_0xa083eb(0x7dd)]);}else{await this[_0xa083eb(0x520)][_0xa083eb(0x3bb)][_0xa083eb(0x1e2)]({'where':{'_id':_0x8a3758}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xa083eb(0x4fb)]['wuid']);let _0x4392ef={'where':{'key':{'remoteJid':_0x8a3758}}};await this['repository'][_0xa083eb(0x7e9)][_0xa083eb(0x29a)](_0x4392ef,this[_0xa083eb(0x4fb)][_0xa083eb(0x7dd)]);}this[_0xa083eb(0x510)](_0xa083eb(0x802),[..._0x255d7f]);}},this[_0x64fb6e(0x5eb)]={'contacts.upsert':async(_0x696058,_0x14fcc9)=>{const _0x3d3a23=_0x64fb6e;let _0x50b3da=await this[_0x3d3a23(0x520)][_0x3d3a23(0x3a9)]['find']({'where':{}},this['instance'][_0x3d3a23(0x7dd)]),_0x1c7fbb=[];for await(let _0x496156 of _0x696058)_0x50b3da[_0x3d3a23(0x75d)](_0x1d36af=>_0x1d36af[_0x3d3a23(0x3c4)]===_0x496156['id'])||_0x1c7fbb[_0x3d3a23(0x4a9)]({'_id':_0x496156['id'],'pushName':_0x496156?.[_0x3d3a23(0x7bd)]||_0x496156?.[_0x3d3a23(0x48e)],'owner':this[_0x3d3a23(0x4fb)][_0x3d3a23(0x7dd)]});this['sendDataWebhook'](_0x3d3a23(0x1ba),_0x1c7fbb),await this[_0x3d3a23(0x520)]['contact'][_0x3d3a23(0x621)](_0x1c7fbb);},'contacts.update':async(_0x1bb6c1,_0x4e830c)=>{const _0x3cb2f8=_0x64fb6e;let _0x4e0caa=[];for await(let _0x1cb01e of _0x1bb6c1)_0x4e0caa['push']({'_id':_0x1cb01e['id'],'pushName':_0x1cb01e?.['name']??_0x1cb01e?.[_0x3cb2f8(0x48e)],'owner':this[_0x3cb2f8(0x4fb)][_0x3cb2f8(0x7dd)]});this[_0x3cb2f8(0x510)](_0x3cb2f8(0x40c),_0x4e0caa);}},this['messageHandle']={'messaging-history.set':async({messages:_0x1909e7,chats:_0x4ebadc,isLatest:_0x3124eb},_0x355259)=>{const _0x15ac14=_0x64fb6e;if(_0x3124eb){let _0xdc0bb3=await Promise[_0x15ac14(0x4a7)](_0x4ebadc[_0x15ac14(0x405)](async _0x12ec7e=>({'_id':_0x12ec7e['id'],'owner':this['instance']['wuid'],'group':_0x12ec7e['id'][_0x15ac14(0x724)](_0x15ac14(0x333)),'name':_0x12ec7e['name']||_0x12ec7e[_0x15ac14(0x397)]||_0x12ec7e[_0x15ac14(0x1b5)]||null,'contactname':null,'lastmsg':_0x12ec7e[_0x15ac14(0x3f5)]&&_0x12ec7e['conversationTimestamp'][_0x15ac14(0x6eb)]()[_0x15ac14(0x5a8)]<0xd?_0x12ec7e[_0x15ac14(0x3f5)]*0x3e8:_0x12ec7e[_0x15ac14(0x3f5)]||null,'archived':_0x12ec7e[_0x15ac14(0x429)]||!0x1,'unreadcount':_0x12ec7e[_0x15ac14(0x31d)]||0x0,'ephemeralExpiration':_0x12ec7e['ephemeralExpiration']||0x0,'muteEndTime':_0x12ec7e[_0x15ac14(0x272)]||0x0})));this['sendDataWebhook'](_0x15ac14(0x43d),_0xdc0bb3),await this['upsertChats'](_0xdc0bb3,_0x355259);}let _0x437d76=[],_0x9b7c6c=Date[_0x15ac14(0x1e6)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3e627f]of Object[_0x15ac14(0x6fc)](_0x1909e7)){if(_0x3e627f[_0x15ac14(0x7e9)]?.[_0x15ac14(0x882)]||_0x3e627f[_0x15ac14(0x7e9)]?.[_0x15ac14(0x223)]||!_0x3e627f[_0x15ac14(0x7e9)]||_0x3e627f['key']['remoteJid']===_0x15ac14(0x2eb)||(Is[_0x15ac14(0x4d1)][_0x15ac14(0x88d)](_0x3e627f?.[_0x15ac14(0x23b)])&&(_0x3e627f[_0x15ac14(0x23b)]=_0x3e627f['messageTimestamp']?.[_0x15ac14(0x22b)]()),_0x3e627f[_0x15ac14(0x23b)]&&_0x3e627f[_0x15ac14(0x23b)][_0x15ac14(0x6eb)]()['length']<0xd&&(_0x3e627f[_0x15ac14(0x23b)]=_0x3e627f[_0x15ac14(0x23b)]*0x3e8),_0x3e627f[_0x15ac14(0x23b)]<_0x9b7c6c))continue;let _0x158e37=(0x0,f[_0x15ac14(0x6f1)])(_0x3e627f[_0x15ac14(0x7e9)]),_0x2de17b=(0x0,f[_0x15ac14(0x46b)])(_0x158e37),{message_normalized:_0x2e0a01}=this[_0x15ac14(0x87c)](_0x158e37,_0x2de17b,null);Object[_0x15ac14(0x75c)](_0x2e0a01)['length']>0x0&&_0x437d76[_0x15ac14(0x4a9)]({'_id':_0x3e627f[_0x15ac14(0x533)]['id'],'key':_0x3e627f['key'],'pushName':_0x3e627f[_0x15ac14(0x5e3)],'participant':_0x3e627f['participant'],'message':_0x158e37,'messageType':_0x2de17b,'message_normalized':{'key':_0x3e627f['key'],'pushName':_0x3e627f[_0x15ac14(0x5e3)],'messageTimestamp':_0x3e627f[_0x15ac14(0x23b)],..._0x2e0a01},'messageTimestamp':_0x3e627f[_0x15ac14(0x23b)],'owner':this['instance'][_0x15ac14(0x7dd)]});}_0x355259[_0x15ac14(0x3ea)]&&_0x437d76[_0x15ac14(0x5a8)]>0x0&&(this[_0x15ac14(0x598)][_0x15ac14(0x461)](this[_0x15ac14(0x5a5)]+'\x20('+this[_0x15ac14(0x4fb)][_0x15ac14(0x7dd)]+_0x15ac14(0x344)+_0x437d76['length']+'\x20mensagens\x20de\x20'+this[_0x15ac14(0x4fb)][_0x15ac14(0x7dd)]+_0x15ac14(0x55d)),await this['repository'][_0x15ac14(0x7e9)][_0x15ac14(0x621)]([..._0x437d76],this[_0x15ac14(0x4fb)]['wuid'])),this['sendDataWebhook'](_0x15ac14(0x318),[..._0x437d76]),_0x1909e7=void 0x0;},'messages.upsert':async({messages:_0x319000,type:_0x5b3a45},_0x54fde3)=>{const _0x5d7315=_0x64fb6e;let _0x59683e=_0x319000[0x0],_0x387e91=_0x59683e[_0x5d7315(0x533)]['id'],_0x11161b=_0x59683e[_0x5d7315(0x661)]===0x2,_0x3e8fc5=0xb;if(this[_0x5d7315(0x225)]?.[_0x5d7315(0x2ed)]&&_0x59683e[_0x5d7315(0x533)][_0x5d7315(0x2f9)][_0x5d7315(0x256)]('@g.us')){this['logger']['verbose'](this[_0x5d7315(0x5a5)]+'\x20('+this[_0x5d7315(0x4fb)][_0x5d7315(0x7dd)]+_0x5d7315(0x627));return;}if(_0x11161b){if(ae[_0x387e91]||(ae[_0x387e91]=0x0),ae[_0x387e91]++,this['logger']['error'](this[_0x5d7315(0x5a5)]+'\x20('+this[_0x5d7315(0x4fb)][_0x5d7315(0x7dd)]+_0x5d7315(0x657)+_0x59683e['key']['remoteJid']+_0x5d7315(0x2fb)+_0x387e91+':\x20'+ae[_0x387e91]+'/'+_0x3e8fc5),ae[_0x387e91]>=_0x3e8fc5){this[_0x5d7315(0x598)]['error'](this[_0x5d7315(0x5a5)]+'\x20('+this['instance']['wuid']+_0x5d7315(0x867)+_0x59683e[_0x5d7315(0x533)][_0x5d7315(0x2f9)]+_0x5d7315(0x2fb)+_0x387e91+'.');let _0x1e8d91={'key':{..._0x59683e[_0x5d7315(0x533)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x387e91+_0x5d7315(0x616)}};this[_0x5d7315(0x5f0)]['ev'][_0x5d7315(0x78d)](_0x5d7315(0x67b),{'messages':[_0x1e8d91],'type':_0x5d7315(0x42a)}),delete ae[_0x387e91];}}else ae[_0x387e91]&&(this[_0x5d7315(0x598)][_0x5d7315(0x435)](_0x5d7315(0x7ee)+ae[_0x387e91]+'\x20tentativas:\x20remotejid='+_0x59683e[_0x5d7315(0x533)]['remoteJid']+_0x5d7315(0x2fb)+_0x387e91),delete ae[_0x387e91]);if(_0x5b3a45!==_0x5d7315(0x42a)||!_0x59683e?.[_0x5d7315(0x7e9)]||_0x59683e[_0x5d7315(0x7e9)]?.[_0x5d7315(0x882)]||_0x59683e[_0x5d7315(0x7e9)][_0x5d7315(0x223)]||_0x59683e[_0x5d7315(0x533)][_0x5d7315(0x2f9)]==='status@broadcast')return;let _0xdb1f58=null,_0x40fdb9=null;try{_0xdb1f58=await this['processPollUpdateMessage'](_0x59683e),_0x40fdb9=_0xdb1f58?_0xdb1f58[_0x5d7315(0x279)](','):null;}catch(_0x19abc3){this[_0x5d7315(0x598)][_0x5d7315(0x461)](this[_0x5d7315(0x5a5)]+'\x20('+this[_0x5d7315(0x4fb)][_0x5d7315(0x7dd)]+_0x5d7315(0x344)+(_0x19abc3 instanceof Error?_0x19abc3[_0x5d7315(0x7e9)]:JSON[_0x5d7315(0x6fe)](_0x19abc3,null,0x2))),_0x40fdb9='error\x20get\x20vote';}this[_0x5d7315(0x5f0)][_0x5d7315(0x721)](_0x5d7315(0x6d9)),Is['default'][_0x5d7315(0x88d)](_0x59683e[_0x5d7315(0x23b)])&&(_0x59683e[_0x5d7315(0x23b)]=_0x59683e[_0x5d7315(0x23b)]?.['toNumber']()),_0x59683e[_0x5d7315(0x23b)]&&_0x59683e['messageTimestamp']['toString']()[_0x5d7315(0x5a8)]<0xd&&(_0x59683e[_0x5d7315(0x23b)]=_0x59683e[_0x5d7315(0x23b)]*0x3e8);let _0x192ab2=_0x59683e[_0x5d7315(0x7e9)],_0x48855e=(0x0,f[_0x5d7315(0x6f1)])(_0x192ab2),_0xaa7f2b=(0x0,f[_0x5d7315(0x46b)])(_0x48855e),{messageContent:_0x2a114f,message_normalized:_0x495c5a}=this['normalizeMessage'](_0x48855e,_0xaa7f2b,_0x40fdb9);_0xaa7f2b===_0x5d7315(0x882)&&_0x2a114f?.['editedMessage']&&(_0xaa7f2b=_0x5d7315(0x649));let _0x573a0a,_0x5317c1=_0x59683e[_0x5d7315(0x533)][_0x5d7315(0x2f9)][_0x5d7315(0x724)](_0x5d7315(0x333));if(_0x59683e[_0x5d7315(0x533)][_0x5d7315(0x644)])_0x573a0a=this[_0x5d7315(0x4fb)][_0x5d7315(0x872)];else{let _0x4fcbdc=_0x5317c1?_0x59683e['key'][_0x5d7315(0x7a0)]:_0x59683e[_0x5d7315(0x533)]['remoteJid'];_0x573a0a=(await this[_0x5d7315(0x771)](_0x4fcbdc,_0x59683e[_0x5d7315(0x5e3)],!0x1))[_0x5d7315(0x79c)][_0x5d7315(0x86c)];}let _0x4a8bd2={'_id':_0x59683e[_0x5d7315(0x533)]['id'],'key':_0x59683e[_0x5d7315(0x533)],'isGroup':_0x5317c1,'profilePictureUrl':_0x573a0a,'pushName':_0x59683e[_0x5d7315(0x5e3)],'message':_0x48855e,'messageType':_0xaa7f2b,'message_normalized':{'key':_0x59683e[_0x5d7315(0x533)],'pushName':_0x59683e['pushName'],'messageTimestamp':_0x59683e['messageTimestamp'],'source':(0x0,f[_0x5d7315(0x400)])(_0x59683e[_0x5d7315(0x533)]['id']),..._0x495c5a},'messageTimestamp':_0x59683e[_0x5d7315(0x23b)],'owner':this[_0x5d7315(0x4fb)][_0x5d7315(0x7dd)],'source':(0x0,f[_0x5d7315(0x400)])(_0x59683e['key']['id']),'expiration':_0x2a114f?.[_0x5d7315(0x2aa)]?.['expiration']||0x0};_0x2a114f||(console[_0x5d7315(0x1a3)](_0x5d7315(0x1df)),this[_0x5d7315(0x598)][_0x5d7315(0x1a3)](_0x4a8bd2)),this['logger'][_0x5d7315(0x7e7)](this[_0x5d7315(0x5a5)]+'\x20('+this['instance']['wuid']+_0x5d7315(0x344)+(_0x4a8bd2['key']?.[_0x5d7315(0x644)]?'enviado\x20para':_0x5d7315(0x5e8))+'\x20['+_0x4a8bd2[_0x5d7315(0x533)]?.[_0x5d7315(0x2f9)]['replace'](_0x5d7315(0x49b),'')+_0x5d7315(0x7d2)+_0x4a8bd2[_0x5d7315(0x796)]+')'),_0x4a8bd2[_0x5d7315(0x25f)]?.[_0x5d7315(0x4a3)]&&this['logger'][_0x5d7315(0x7e7)](_0x387e91+':\x20'+_0x4a8bd2['message_normalized']?.[_0x5d7315(0x4a3)]),await this[_0x5d7315(0x520)][_0x5d7315(0x7e9)][_0x5d7315(0x621)]([_0x4a8bd2],this[_0x5d7315(0x4fb)][_0x5d7315(0x7dd)]),this[_0x5d7315(0x510)](_0x5d7315(0x67b),_0x4a8bd2),J(this['instanceName'],'messages',{'message':_0x4a8bd2}),_0x59683e[_0x5d7315(0x533)][_0x5d7315(0x2f9)]!==_0x5d7315(0x2eb)&&await this[_0x5d7315(0x539)](_0x54fde3,_0x4a8bd2,_0x5d7315(0x43e));},'messages.update':async(_0xf9841e,_0x36f950)=>{const _0x5687b0=_0x64fb6e;let _0x82482c={0x0:_0x5687b0(0x663),0x1:_0x5687b0(0x24c),0x2:_0x5687b0(0x769),0x3:_0x5687b0(0x53c),0x4:_0x5687b0(0x5dd),0x5:_0x5687b0(0x480)};for await(let {key:_0x41c5f9,update:_0x1f72d3}of _0xf9841e){if(this['localWebhook']?.[_0x5687b0(0x2ed)]&&_0x41c5f9[_0x5687b0(0x2f9)][_0x5687b0(0x256)](_0x5687b0(0x333))){this[_0x5687b0(0x598)][_0x5687b0(0x461)](this['instanceName']+'\x20('+this[_0x5687b0(0x4fb)][_0x5687b0(0x7dd)]+_0x5687b0(0x825));return;}if(_0x41c5f9['remoteJid']!==_0x5687b0(0x2eb)){let _0x2e1602=Date[_0x5687b0(0x1e6)](),_0x5ef7c9;_0x1f72d3[_0x5687b0(0x7e9)]===null&&_0x1f72d3[_0x5687b0(0x464)]===void 0x0?_0x5ef7c9=_0x5687b0(0x818):_0x5ef7c9=_0x82482c[_0x1f72d3[_0x5687b0(0x464)]];let _0x578306=_0x41c5f9[_0x5687b0(0x2f9)]['replace'](/:\d{1,2}@/g,'@'),_0x399ae9={..._0x41c5f9,'remoteJid':_0x578306,'status':_0x5ef7c9,'datetime':_0x2e1602,'owner':this[_0x5687b0(0x4fb)][_0x5687b0(0x7dd)]};this[_0x5687b0(0x510)](_0x5687b0(0x553),_0x399ae9),await this['updateMessage'](_0x41c5f9,_0x399ae9);}}},'labels.association':async({type:_0x5daaaa,association:_0x2df4dc})=>{const _0x460d93=_0x64fb6e;if(_0x2df4dc[_0x460d93(0x787)]==='label_jid'){let _0x498f95,_0x4112dc=0x0;for(;!_0x498f95&&_0x4112dc<this[_0x460d93(0x2ce)];)_0x498f95=await this['repository'][_0x460d93(0x3bb)][_0x460d93(0x542)]({'where':{'_id':_0x2df4dc[_0x460d93(0x387)]}},this['instance']['wuid']),_0x498f95||(_0x4112dc++,console[_0x460d93(0x7e7)]('Chat\x20'+_0x2df4dc[_0x460d93(0x387)]+_0x460d93(0x6c5)+this[_0x460d93(0x5b5)]+_0x460d93(0x2e6)+_0x4112dc+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x460d93(0x1db)](this[_0x460d93(0x5b5)]));if(!_0x498f95){console['error']('Failed\x20to\x20find\x20chat\x20'+_0x2df4dc['chatId']+'\x20after\x20'+this[_0x460d93(0x2ce)]+_0x460d93(0x87f));return;}switch(_0x5daaaa){case _0x460d93(0x6b3):console[_0x460d93(0x7e7)](_0x2df4dc),await this[_0x460d93(0x520)]['chat'][_0x460d93(0x1e2)]({'where':{'_id':_0x2df4dc[_0x460d93(0x387)]}},{'leadInfo.etiquetas':_0x2df4dc[_0x460d93(0x1ed)]},this[_0x460d93(0x4fb)][_0x460d93(0x7dd)],void 0x0,_0x460d93(0x601));break;case'remove':console['log'](_0x2df4dc),await this[_0x460d93(0x520)][_0x460d93(0x3bb)][_0x460d93(0x1e2)]({'where':{'_id':_0x2df4dc[_0x460d93(0x387)]}},{'leadInfo.etiquetas':_0x2df4dc[_0x460d93(0x1ed)]},this['instance'][_0x460d93(0x7dd)],void 0x0,_0x460d93(0x4f1));break;default:console[_0x460d93(0x1a3)](_0x460d93(0x5c9)+_0x5daaaa+']');}}},'labels.edit':async _0x2e023b=>{const _0x15f642=_0x64fb6e;if(!_0x2e023b||!_0x2e023b['id']){console[_0x15f642(0x1a3)](_0x15f642(0x56b));return;}if(!_0x2e023b[_0x15f642(0x49e)]){let _0x21ccc6=['#ff9484',_0x15f642(0x674),'#fed428',_0x15f642(0x45d),_0x15f642(0x355),'#56ccb4',_0x15f642(0x1a7),'#d3a91f',_0x15f642(0x290),_0x15f642(0x442),_0x15f642(0x81d),_0x15f642(0x417),'#92ceac',_0x15f642(0x459),'#00a1f2','#83e421',_0x15f642(0x254),_0x15f642(0x66c),_0x15f642(0x63b),_0x15f642(0x6b6)],_0x2b026e;typeof _0x2e023b[_0x15f642(0x630)]=='number'&&_0x2e023b['color']>=0x0&&_0x2e023b[_0x15f642(0x630)]<_0x21ccc6[_0x15f642(0x5a8)]?_0x2b026e=_0x21ccc6[_0x2e023b[_0x15f642(0x630)]]:(console[_0x15f642(0x1a3)](_0x15f642(0x39f),_0x2e023b['color']),_0x2b026e=_0x15f642(0x28c));let _0x2fa738={'_id':_0x2e023b['id'],'colorHex':_0x2b026e,'color':_0x2e023b?.[_0x15f642(0x630)],'name':_0x2e023b?.[_0x15f642(0x7bd)],'owner':this[_0x15f642(0x4fb)][_0x15f642(0x7dd)]};await this[_0x15f642(0x520)][_0x15f642(0x30a)][_0x15f642(0x1e2)]({'where':{'_id':_0x2e023b['id']}},_0x2fa738,this['instance'][_0x15f642(0x7dd)]),console[_0x15f642(0x7e7)]('Rótulo\x20atualizado:',_0x2e023b);}_0x2e023b[_0x15f642(0x49e)]&&(await this[_0x15f642(0x520)][_0x15f642(0x30a)]['delete']({'where':{'_id':_0x2e023b['id']}},this[_0x15f642(0x4fb)][_0x15f642(0x7dd)]),console[_0x15f642(0x7e7)](_0x15f642(0x5f1),_0x2e023b['id']));}},this[_0x64fb6e(0x360)]={'groups.upsert':async _0x5719b6=>{const _0x53b35c=_0x64fb6e;this[_0x53b35c(0x225)]?.[_0x53b35c(0x2ed)]||this[_0x53b35c(0x510)]('groups.upsert',_0x5719b6),console['log'](_0x53b35c(0x640),_0x5719b6);for(let _0x2218a8 of _0x5719b6)await this[_0x53b35c(0x235)](_0x2218a8);},'groups.update':async _0x581da2=>{const _0x357c8d=_0x64fb6e;this[_0x357c8d(0x225)]?.[_0x357c8d(0x2ed)]||this['sendDataWebhook'](_0x357c8d(0x52a),_0x581da2),console[_0x357c8d(0x7e7)](_0x357c8d(0x38b),_0x581da2);for(let _0x30859c of _0x581da2)await this[_0x357c8d(0x235)](_0x30859c);},'group-participants.update':async _0xe5c397=>{const _0x566b60=_0x64fb6e;this['localWebhook']?.[_0x566b60(0x2ed)]||this['sendDataWebhook']('group-participants.update',_0xe5c397),console['log'](_0x566b60(0x4fa),_0xe5c397),await this[_0x566b60(0x7ae)](_0xe5c397);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x64fb6e(0x5b5)]=0x1388,this[_0x64fb6e(0x72d)]=async _0x2a5603=>{const _0x245f50=_0x64fb6e;if(_0x2a5603[_0x245f50(0x7e9)]?.[_0x245f50(0x856)]){let _0x39a17c=await this[_0x245f50(0x5b7)](_0x2a5603['message'][_0x245f50(0x856)]['pollCreationMessageKey'],!0x0);if(_0x39a17c){let _0x30e77a=_0x39a17c[_0x245f50(0x533)][_0x245f50(0x644)]?this['instance'][_0x245f50(0x7dd)]+_0x245f50(0x49b):_0x39a17c[_0x245f50(0x533)][_0x245f50(0x7a0)]||_0x39a17c[_0x245f50(0x533)][_0x245f50(0x2f9)],_0x4a8fc0=_0x39a17c[_0x245f50(0x533)]['id'],_0x52115f=_0x39a17c[_0x245f50(0x7e9)],_0x1bc1d7=Buffer[_0x245f50(0x727)](_0x52115f['messageContextInfo']['messageSecret']['toString'](_0x245f50(0x7d6)),_0x245f50(0x7d6)),_0x16a308=(0x0,f['decryptPollVote'])(_0x2a5603[_0x245f50(0x7e9)][_0x245f50(0x856)]['vote'],{'pollCreatorJid':_0x30e77a,'pollMsgId':_0x4a8fc0,'pollEncKey':_0x1bc1d7,'voterJid':_0x2a5603[_0x245f50(0x533)][_0x245f50(0x644)]?this['instance'][_0x245f50(0x7dd)]+_0x245f50(0x49b):_0x2a5603[_0x245f50(0x533)][_0x245f50(0x2f9)][_0x245f50(0x724)]('g.us')?_0x2a5603['key'][_0x245f50(0x7a0)]:_0x2a5603['key']['remoteJid']}),_0xeae6dd=[],_0x1695a3=_0x16a308['selectedOptions'][_0x245f50(0x405)](_0x1d200a=>Buffer[_0x245f50(0x727)](_0x1d200a)[_0x245f50(0x6eb)](_0x245f50(0x7d6)));for(let {optionName:_0x3c1f17}of _0x52115f[_0x245f50(0x838)]?.['options']||_0x52115f['pollCreationMessageV3']?.[_0x245f50(0x6c7)]||_0x52115f[_0x245f50(0x55a)]?.[_0x245f50(0x6c7)])_0x1695a3['indexOf']((0x0,f['sha256'])(Buffer[_0x245f50(0x727)](_0x3c1f17))[_0x245f50(0x6eb)](_0x245f50(0x7d6)))>-0x1&&_0xeae6dd[_0x245f50(0x4a9)](_0x3c1f17);return _0xeae6dd;}}return null;},this['normalizeMessage']=(_0x3ff8dc,_0x2982b1,_0x2e0d4d)=>{const _0x35fd8c=_0x64fb6e;try{let _0x1d93a2=_0x3ff8dc?(0x0,f[_0x35fd8c(0x2ff)])(_0x3ff8dc)[_0x2982b1]:void 0x0,_0x4069b4={},_0x682b58=null,_0x2cb497=null,_0x4dfea1=null;_0x2982b1===_0x35fd8c(0x882)&&_0x1d93a2?.[_0x35fd8c(0x649)]&&(_0x2982b1=(0x0,f[_0x35fd8c(0x46b)])(_0x1d93a2[_0x35fd8c(0x649)]),_0x682b58=_0x3ff8dc[_0x35fd8c(0x882)][_0x35fd8c(0x533)]['id'],_0x1d93a2=_0x3ff8dc[_0x35fd8c(0x882)][_0x35fd8c(0x649)][_0x2982b1]),_0x3ff8dc[_0x2982b1]?.[_0x35fd8c(0x2aa)]?.[_0x35fd8c(0x3d6)]&&_0x3ff8dc[_0x2982b1]?.[_0x35fd8c(0x2aa)]?.['quotedMessage']&&(_0x2cb497=_0x3ff8dc[_0x2982b1][_0x35fd8c(0x2aa)][_0x35fd8c(0x3d6)]),_0x3ff8dc['reactionMessage']&&(_0x4dfea1=_0x3ff8dc[_0x35fd8c(0x6a2)][_0x35fd8c(0x533)]['id']);let _0x2f6761;if(_0x1d93a2&&typeof _0x1d93a2==_0x35fd8c(0x22a)&&'pollCreationMessageKey'in _0x1d93a2&&({pollCreationMessageKey:_0x2f6761}=_0x1d93a2),_0x2982b1===_0x35fd8c(0x838)||_0x2982b1===_0x35fd8c(0x55a)||_0x2982b1===_0x35fd8c(0x7c0)){let _0x50deb6=_0x1d93a2['options'][_0x35fd8c(0x405)](_0xb092dc=>_0xb092dc[_0x35fd8c(0x85f)])[_0x35fd8c(0x279)]('|');_0x4069b4[_0x35fd8c(0x5a4)]=_0x50deb6;}let _0x2919e1='';if(_0x1d93a2&&(_0x2919e1+=_0x1d93a2[_0x35fd8c(0x7bd)]?_0x1d93a2[_0x35fd8c(0x7bd)]:'',_0x2919e1+=_0x1d93a2[_0x35fd8c(0x7fa)]?'\x20'+_0x1d93a2[_0x35fd8c(0x7fa)]:'',_0x2919e1+=_0x1d93a2[_0x35fd8c(0x7e8)]?'\x20'+_0x1d93a2[_0x35fd8c(0x7e8)]:'',_0x2919e1+=_0x1d93a2[_0x35fd8c(0x397)]?'\x20'+_0x1d93a2[_0x35fd8c(0x397)]:''),_0x2982b1===_0x35fd8c(0x3d9)){_0x2919e1=(_0x1d93a2[_0x35fd8c(0x4eb)]||'')+'\x0a'+(_0x1d93a2[_0x35fd8c(0x509)]||'')+'\x0a'+(_0x1d93a2[_0x35fd8c(0x391)]||'');let _0x5af0ac=this[_0x35fd8c(0x23a)](_0x1d93a2[_0x35fd8c(0x4f5)]);_0x4069b4[_0x35fd8c(0x5a4)]=_0x5af0ac;}if(_0x2982b1===_0x35fd8c(0x47f)&&(_0x2e0d4d=_0x1d93a2['title']),_0x1d93a2&&_0x1d93a2['vcard']){let _0x23ea5e=this['formatVCard'](JSON[_0x35fd8c(0x6fe)](_0x1d93a2[_0x35fd8c(0x63f)],null,0x2));_0x2919e1=_0x2919e1+'\x0a'+_0x23ea5e;}if(_0x1d93a2){let {sections:_0x4bf586,listType:_0x469965,displayName:_0x22ee65,vcard:_0x3f884b,contactVcard:_0x58e142,name:_0x393f67,caption:_0x41c063,conversation:_0x12c2d2,pollCreationMessageKey:_0x4a21c8,footerText:_0x1429f9,contentText:_0x2fff6c,pageCount:_0x22255a,headerType:_0x38923f,isAvatar:_0x48576f,isAnimated:_0x58a3c8,fallbackLc:_0x47961f,fallbackLg:_0x137d0a,namespace:_0x833d5a,elementName:_0x426e21,localizableParams:_0x4fa705,viewOnce:_0xc0ba30,height:_0x21a923,width:_0x3b4e51,key:_0x5489f7,firstScanLength:_0x1101c8,firstScanSidecar:_0xf8b9aa,gifPlayback:_0x5f0ec6,gifAttribution:_0x3b9917,midQualityFileSha256:_0x551cc8,scansSidecar:_0x2ab500,streamingSidecar:_0x8404fe,thumbnailHeight:_0x10b2f9,thumbnailWidth:_0x2d5dc7,thumbnailEncSha256:_0x1f8fa1,thumbnailDirectPath:_0x378f64,canonicalUrl:_0x2af64b,matchedText:_0x55a612,previewType:_0x1ef777,thumbnailSha256:_0x14443d,deviceListMetadataVersion:_0x2cf37c,inviteLinkGroupTypeV2:_0x22f14b,interactiveAnnotations:_0x16730b,scanLengths:_0x90e4dd,jpegThumbnail:_0x5f5a74,url:_0x4a0c86,mediaKeyTimestamp:_0xc66b80,waveform:_0xebf67f,stickerSentTs:_0x29f934,firstFrameLength:_0x378c2f,fileEncSha256:_0x260e20,contextInfo:_0x568664,firstFrameSidecar:_0x5b1b09,directPath:_0x2357e3,fileSha256:_0x13c3a0,mediaKey:_0x455b91,senderTimestampMs:_0x246cc1,..._0x2397a3}=_0x1d93a2;(_0x2982b1===_0x35fd8c(0x3d9)||_0x2982b1===_0x35fd8c(0x47f))&&(delete _0x2397a3[_0x35fd8c(0x4eb)],delete _0x2397a3[_0x35fd8c(0x509)]),typeof _0x1d93a2==_0x35fd8c(0x4ca)?_0x4069b4={'text':_0x1d93a2,'type':_0x2982b1||_0x35fd8c(0x7e8),..._0x682b58&&{'edited':_0x682b58},..._0x2cb497&&{'quoted':_0x2cb497},..._0x4dfea1&&{'reaction':_0x4dfea1}}:_0x4069b4={'text':_0x2919e1,..._0x2397a3,..._0x2982b1==='pollUpdateMessage'?{'poll_id':_0x1d93a2[_0x35fd8c(0x1f2)]['id'],'quoted':_0x1d93a2[_0x35fd8c(0x1f2)]['id'],'vote':_0x2e0d4d}:{},..._0x2982b1===_0x35fd8c(0x47f)?{'vote':_0x2e0d4d}:{},'type':_0x2982b1,..._0x682b58&&{'edited':_0x682b58},..._0x2cb497&&{'quoted':_0x2cb497},..._0x4dfea1&&{'reaction':_0x4dfea1},...(_0x2982b1===_0x35fd8c(0x838)||_0x2982b1===_0x35fd8c(0x55a)||_0x2982b1===_0x35fd8c(0x7c0)||_0x2982b1===_0x35fd8c(0x3d9))&&{'convertedOptions':_0x4069b4[_0x35fd8c(0x5a4)]}};}return{'messageType':_0x2982b1,'messageContent':_0x1d93a2,'message_normalized':_0x4069b4};}catch(_0x546108){return console[_0x35fd8c(0x1a3)](_0x35fd8c(0x74c),_0x546108),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this['instance'][_0x64fb6e(0x6ac)]={'count':0x0},this[_0x64fb6e(0x4fb)][_0x64fb6e(0x7b3)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x236793(0x5a5)](_0x3becf9){const _0xc63b39=a0_0x236793;if(!_0x3becf9){this[_0xc63b39(0x4fb)][_0xc63b39(0x7bd)]=(0x0,Or['v4'])();return;}this[_0xc63b39(0x4fb)][_0xc63b39(0x7bd)]=_0x3becf9,this['sendDataWebhook'](_0xc63b39(0x50b),{'instance':this['instance']['name'],'status':_0xc63b39(0x4ce)});}get[a0_0x236793(0x5a5)](){const _0x11746b=a0_0x236793;return this[_0x11746b(0x4fb)]['name'];}get[a0_0x236793(0x7dd)](){const _0x2834e8=a0_0x236793;return this[_0x2834e8(0x4fb)][_0x2834e8(0x7dd)];}async['getProfileName'](){const _0x576eec=a0_0x236793;let _0x59e08f=this['client'][_0x576eec(0x634)]?.[_0x576eec(0x7bd)]??this[_0x576eec(0x5f0)][_0x576eec(0x634)]?.['verifiedName'];if(!_0x59e08f){if(this['configService'][_0x576eec(0x253)](_0x576eec(0x6d7))['ENABLED']){let _0x120b94=await T[_0x576eec(0x62f)]()['db'](this[_0x576eec(0x558)][_0x576eec(0x253)](_0x576eec(0x6d7))[_0x576eec(0x6d3)][_0x576eec(0x3e3)]+'-instances')[_0x576eec(0x670)](this[_0x576eec(0x5a5)])['findOne']({'_id':'creds'});if(_0x120b94){let _0x5726e1=JSON[_0x576eec(0x36f)](JSON[_0x576eec(0x6fe)](_0x120b94),f['BufferJSON'][_0x576eec(0x1f0)]);_0x59e08f=_0x5726e1['me']?.[_0x576eec(0x7bd)]||_0x5726e1['me']?.[_0x576eec(0x48e)];}}else{if((0x0,Oe['existsSync'])((0x0,F['join'])(ge,this[_0x576eec(0x5a5)],_0x576eec(0x3f8)))){let _0x341e85=JSON[_0x576eec(0x36f)]((0x0,Oe[_0x576eec(0x71c)])((0x0,F[_0x576eec(0x279)])(ge,this[_0x576eec(0x5a5)],_0x576eec(0x3f8)),{'encoding':_0x576eec(0x2db)}));_0x59e08f=_0x341e85['me']?.[_0x576eec(0x7bd)]||_0x341e85['me']?.[_0x576eec(0x48e)];}}}return _0x59e08f;}get[a0_0x236793(0x872)](){const _0x3e7524=a0_0x236793;return this[_0x3e7524(0x4fb)]['profilePictureUrl'];}get['qrCode'](){const _0x2ec51e=a0_0x236793;return this[_0x2ec51e(0x4fb)][_0x2ec51e(0x6ac)]?.[_0x2ec51e(0x2d1)]?{'pairingCode':this[_0x2ec51e(0x4fb)][_0x2ec51e(0x6ac)]?.['pairingCode']}:{'code':this[_0x2ec51e(0x4fb)]['qrcode']?.['code'],'base64':this['instance'][_0x2ec51e(0x6ac)]?.[_0x2ec51e(0x647)]};}async[a0_0x236793(0x74d)](){const _0x4f0163=a0_0x236793;let _0x66ca90=await this[_0x4f0163(0x520)][_0x4f0163(0x315)][_0x4f0163(0x75d)](this['instanceName']);this[_0x4f0163(0x225)][_0x4f0163(0x855)]=_0x66ca90?.[_0x4f0163(0x855)],this[_0x4f0163(0x225)]['enabled']=_0x66ca90?.[_0x4f0163(0x209)],this[_0x4f0163(0x225)][_0x4f0163(0x764)]=_0x66ca90?.[_0x4f0163(0x764)],this[_0x4f0163(0x225)][_0x4f0163(0x858)]=_0x66ca90?.[_0x4f0163(0x858)],this['localWebhook'][_0x4f0163(0x2c8)]=_0x66ca90?.[_0x4f0163(0x2c8)],this[_0x4f0163(0x225)][_0x4f0163(0x505)]=_0x66ca90?.[_0x4f0163(0x505)],this[_0x4f0163(0x225)][_0x4f0163(0x43e)]=_0x66ca90?.[_0x4f0163(0x43e)],this[_0x4f0163(0x225)][_0x4f0163(0x41f)]=_0x66ca90?.[_0x4f0163(0x41f)],this[_0x4f0163(0x225)]['GROUPS_UPSERT']=_0x66ca90?.[_0x4f0163(0x314)],this[_0x4f0163(0x225)]['GROUPS_UPDATE']=_0x66ca90?.['GROUPS_UPDATE'],this[_0x4f0163(0x225)][_0x4f0163(0x795)]=_0x66ca90?.[_0x4f0163(0x795)],this[_0x4f0163(0x225)][_0x4f0163(0x2fd)]=_0x66ca90?.[_0x4f0163(0x2fd)],this[_0x4f0163(0x225)][_0x4f0163(0x83a)]=_0x66ca90?.[_0x4f0163(0x83a)],this[_0x4f0163(0x225)][_0x4f0163(0x2e3)]=_0x66ca90?.[_0x4f0163(0x2e3)],this['localWebhook']['CHATS_DELETE']=_0x66ca90?.['CHATS_DELETE'],this['localWebhook']['CONTACTS_SET']=_0x66ca90?.[_0x4f0163(0x21e)],this[_0x4f0163(0x225)]['CONTACTS_UPSERT']=_0x66ca90?.['CONTACTS_UPSERT'],this['localWebhook'][_0x4f0163(0x3c7)]=_0x66ca90?.[_0x4f0163(0x3c7)],this[_0x4f0163(0x225)][_0x4f0163(0x534)]=_0x66ca90?.[_0x4f0163(0x534)],this[_0x4f0163(0x225)][_0x4f0163(0x6a8)]=_0x66ca90?.[_0x4f0163(0x6a8)],this[_0x4f0163(0x225)]['CONNECTION_UPDATE']=_0x66ca90?.[_0x4f0163(0x374)],this[_0x4f0163(0x225)][_0x4f0163(0x2ed)]=_0x66ca90?.[_0x4f0163(0x2ed)];}async['setWebhook'](_0x5d06c9){const _0x3c7105=a0_0x236793;let _0x3799ce=[_0x3c7105(0x3c4),_0x3c7105(0x855),_0x3c7105(0x209),_0x3c7105(0x764),_0x3c7105(0x858),_0x3c7105(0x2c8),_0x3c7105(0x41f),_0x3c7105(0x43e),_0x3c7105(0x505),'GROUPS_UPSERT',_0x3c7105(0x238),_0x3c7105(0x795),_0x3c7105(0x2fd),_0x3c7105(0x83a),'CHATS_UPDATE','CHATS_DELETE',_0x3c7105(0x21e),'CONTACTS_UPSERT',_0x3c7105(0x3c7),_0x3c7105(0x534),'MESSAGES_SET',_0x3c7105(0x374),_0x3c7105(0x2ed)],_0x52adc6={};return _0x3799ce['forEach'](_0x2561fb=>{_0x5d06c9[_0x2561fb]!==void 0x0&&(_0x52adc6[_0x2561fb]=_0x5d06c9[_0x2561fb]);}),_0x52adc6[_0x3c7105(0x855)]&&(_0x52adc6[_0x3c7105(0x855)]=_0x52adc6[_0x3c7105(0x855)]['trim']()),await this[_0x3c7105(0x520)]['webhook'][_0x3c7105(0x6ed)](_0x52adc6,this['instanceName']),Object['assign'](this['localWebhook'],_0x52adc6),await this[_0x3c7105(0x520)][_0x3c7105(0x315)]['find'](this[_0x3c7105(0x5a5)]);}async[a0_0x236793(0x6df)](){const _0x5d99c0=a0_0x236793;return await this[_0x5d99c0(0x520)][_0x5d99c0(0x315)][_0x5d99c0(0x75d)](this[_0x5d99c0(0x5a5)]);}async[a0_0x236793(0x510)](_0x3c5ca7,_0x4209a3){const _0x44f690=a0_0x236793;let _0x37b191=_0x3c5ca7['replace'](/[\.-]/gm,'_')[_0x44f690(0x5d7)](),_0x686201=this[_0x44f690(0x225)][_0x44f690(0x209)]&&(0x0,P[_0x44f690(0x6f3)])(this[_0x44f690(0x225)][_0x44f690(0x855)])?this[_0x44f690(0x225)][_0x44f690(0x855)]+(this['localWebhook']['local_map']?this[_0x44f690(0x577)][_0x3c5ca7]:''):null,_0x46f26d=this[_0x44f690(0x225)][_0x37b191],_0x19f5fa=le&&le[_0x44f690(0x209)]&&(0x0,P[_0x44f690(0x6f3)])(le[_0x44f690(0x855)])?le[_0x44f690(0x855)]+(le[_0x44f690(0x764)]?this['webhookMap'][_0x3c5ca7]:''):null,_0xfd59aa=le?le[_0x37b191]:null;if(_0x46f26d&&_0x686201)try{await K[_0x44f690(0x4d1)][_0x44f690(0x6ed)]({'baseURL':_0x686201})['post']('',{'event':_0x3c5ca7,'instance':this['instance']['name'],'apikey':this[_0x44f690(0x4fb)][_0x44f690(0x1e5)],'data':_0x4209a3}),this[_0x44f690(0x598)][_0x44f690(0x7e7)](this['instanceName']+'\x20('+this[_0x44f690(0x4fb)][_0x44f690(0x7dd)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3c5ca7+':\x20'+_0x686201);}catch{this[_0x44f690(0x598)][_0x44f690(0x1a3)](this['instanceName']+'\x20('+this['instance'][_0x44f690(0x7dd)]+_0x44f690(0x718)+_0x3c5ca7+':\x20'+_0x686201);}if(_0xfd59aa&&_0x19f5fa)try{await K['default'][_0x44f690(0x6ed)]({'baseURL':_0x19f5fa})[_0x44f690(0x6cd)]('',{'event':_0x3c5ca7,'instance':this['instance'][_0x44f690(0x7bd)],'apikey':this['instance']['apikey'],'data':_0x4209a3}),this[_0x44f690(0x598)][_0x44f690(0x7e7)](this[_0x44f690(0x5a5)]+'\x20('+this[_0x44f690(0x4fb)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3c5ca7+':\x20'+_0x19f5fa);}catch{this[_0x44f690(0x598)]['error'](this[_0x44f690(0x5a5)]+'\x20('+this[_0x44f690(0x4fb)][_0x44f690(0x7dd)]+_0x44f690(0x6e6)+_0x3c5ca7+':\x20'+_0x19f5fa);}}async[a0_0x236793(0x602)]({qr:_0x18b6bd,connection:_0x4309e7,lastDisconnect:_0x3e7163}){const _0x17695f=a0_0x236793;if(_0x18b6bd){if(this[_0x17695f(0x4fb)][_0x17695f(0x6ac)][_0x17695f(0x7cb)]===Oi)return this[_0x17695f(0x510)](_0x17695f(0x294),{'message':_0x17695f(0x54f),'statusCode':f['DisconnectReason'][_0x17695f(0x373)]}),this[_0x17695f(0x6f4)]={'state':'refused','statusReason':f['DisconnectReason'][_0x17695f(0x512)]},this['sendDataWebhook'](_0x17695f(0x44a),{'instance':this[_0x17695f(0x4fb)]['name'],...this['stateConnection']}),this['sendDataWebhook'](_0x17695f(0x50b),{'instance':this[_0x17695f(0x4fb)][_0x17695f(0x7bd)],'status':_0x17695f(0x6e7)}),this[_0x17695f(0x520)][_0x17695f(0x807)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x17695f(0x1e6)]()},this[_0x17695f(0x4fb)][_0x17695f(0x7bd)]),this[_0x17695f(0x5d3)]=!0x0,this[_0x17695f(0x2f1)]['emit'](_0x17695f(0x3fe),this[_0x17695f(0x4fb)]['name']);this[_0x17695f(0x4fb)][_0x17695f(0x6ac)]['count']++;let _0x5b52e5={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x17695f(0x81e),'dark':_0x17695f(0x28c)}};Ar[_0x17695f(0x4d1)][_0x17695f(0x4b0)](_0x18b6bd,_0x5b52e5,(_0x5c914d,_0x44c61f)=>{const _0x553a77=_0x17695f;if(_0x5c914d){this[_0x553a77(0x598)][_0x553a77(0x1a3)](this[_0x553a77(0x5a5)]+'\x20('+this[_0x553a77(0x4fb)][_0x553a77(0x7dd)]+_0x553a77(0x3b0)+(_0x5c914d instanceof Error?_0x5c914d['message']:JSON[_0x553a77(0x6fe)](_0x5c914d,null,0x2)));return;}this[_0x553a77(0x4fb)][_0x553a77(0x6ac)]['base64']=_0x44c61f,this[_0x553a77(0x4fb)][_0x553a77(0x6ac)][_0x553a77(0x24d)]=_0x18b6bd,!this[_0x553a77(0x689)]&&this[_0x553a77(0x510)](_0x553a77(0x294),{'qrcode':{'instance':this[_0x553a77(0x4fb)]['name'],'pairingCode':this[_0x553a77(0x4fb)][_0x553a77(0x6ac)][_0x553a77(0x2d1)],'code':_0x18b6bd,'base64':_0x44c61f}});}),this['phoneNumber']?this['instance'][_0x17695f(0x6ac)]['pairingCode']||(await(0x0,f['delay'])(0x7d0),this['instance'][_0x17695f(0x6ac)]['pairingCode']=await this[_0x17695f(0x5f0)][_0x17695f(0x6a6)](this[_0x17695f(0x689)])):this[_0x17695f(0x4fb)][_0x17695f(0x6ac)][_0x17695f(0x2d1)]=null,$r[_0x17695f(0x4d1)][_0x17695f(0x285)](_0x18b6bd,{'small':!0x0},_0x45ed7f=>this[_0x17695f(0x598)][_0x17695f(0x7e7)](_0x17695f(0x819)+this[_0x17695f(0x4fb)]['name']+',\x20qrcodeCount:\x20'+this[_0x17695f(0x4fb)]['qrcode'][_0x17695f(0x7cb)]+_0x17695f(0x58d)+this['instance'][_0x17695f(0x6ac)]['pairingCode']+'\x20}\x0a'+_0x45ed7f));}if(_0x4309e7&&(this['stateConnection']={'state':_0x4309e7,'statusReason':_0x3e7163?.[_0x17695f(0x1a3)]?.[_0x17695f(0x596)]?.[_0x17695f(0x2ae)]??0xc8},this['sendDataWebhook'](_0x17695f(0x44a),{'instance':this[_0x17695f(0x4fb)][_0x17695f(0x7bd)],...this[_0x17695f(0x6f4)]})),_0x4309e7===_0x17695f(0x46c)){if(this['reconnectAttempts']++,this[_0x17695f(0x414)]['push'](Date[_0x17695f(0x1e6)]()),this[_0x17695f(0x414)]=this[_0x17695f(0x414)][_0x17695f(0x504)](_0x5111ba=>Date[_0x17695f(0x1e6)]()-_0x5111ba<this['RECONNECT_TIME_FRAME']),_0x3e7163[_0x17695f(0x1a3)]?.['output']?.['statusCode']!==f['DisconnectReason'][_0x17695f(0x437)]&&this[_0x17695f(0x414)][_0x17695f(0x5a8)]<=this['MAX_RECONNECT_ATTEMPTS'])console[_0x17695f(0x7e7)](this[_0x17695f(0x5a5)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x17695f(0x4a5)]+'/'+this[_0x17695f(0x2b5)]+_0x17695f(0x339)),console[_0x17695f(0x7e7)]('Tentando\x20reconectar...'),await this[_0x17695f(0x5f9)]();else{this[_0x17695f(0x510)](_0x17695f(0x50b),{'instance':this[_0x17695f(0x4fb)][_0x17695f(0x7bd)],'status':_0x17695f(0x6e7)}),this[_0x17695f(0x4fb)][_0x17695f(0x7b3)][_0x17695f(0x1d6)]=!0x1,this[_0x17695f(0x520)][_0x17695f(0x315)][_0x17695f(0x29a)](this[_0x17695f(0x5a5)]),this[_0x17695f(0x520)][_0x17695f(0x807)][_0x17695f(0x6ed)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x17695f(0x4fb)]['name']);try{this[_0x17695f(0x598)][_0x17695f(0x461)](this[_0x17695f(0x5a5)]+'\x20('+this[_0x17695f(0x4fb)]['wuid']+_0x17695f(0x47e));let _0x4a85c1=await this[_0x17695f(0x520)][_0x17695f(0x7e9)][_0x17695f(0x70a)](this[_0x17695f(0x4fb)][_0x17695f(0x7dd)]);_0x4a85c1[_0x17695f(0x6fd)]?this['logger']['verbose'](this[_0x17695f(0x5a5)]+'\x20('+this['instance'][_0x17695f(0x7dd)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x17695f(0x1a3)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x4a85c1[_0x17695f(0x1a3)]);}catch(_0x286bef){console[_0x17695f(0x1a3)](_0x17695f(0x761),_0x286bef[_0x17695f(0x7e9)]);}this['instance'][_0x17695f(0x7b3)][_0x17695f(0x43a)]!==null&&(this['logger'][_0x17695f(0x461)](this['instanceName']+'\x20('+this[_0x17695f(0x4fb)][_0x17695f(0x7dd)]+_0x17695f(0x59e)),clearInterval(this[_0x17695f(0x4fb)]['ScheduleMessage'][_0x17695f(0x43a)]),this['instance'][_0x17695f(0x7b3)][_0x17695f(0x43a)]=null),this[_0x17695f(0x598)][_0x17695f(0x461)](this['instanceName']+'\x20('+this[_0x17695f(0x4fb)][_0x17695f(0x7dd)]+_0x17695f(0x5d2)),this['AutomateSystem']=null,this['eventEmitter']['emit'](_0x17695f(0x232),this[_0x17695f(0x4fb)]['name'],_0x17695f(0x401)),this[_0x17695f(0x5f0)]?.['ws']?.['close'](),this[_0x17695f(0x5f0)][_0x17695f(0x299)](new Error(_0x17695f(0x7ff)));}}if(_0x4309e7===_0x17695f(0x664)){this['client']['ev'][_0x17695f(0x7a4)](),this['resetReconnectionVariables'],this['instance']['wuid']=this[_0x17695f(0x5f0)][_0x17695f(0x634)]['id'][_0x17695f(0x517)](/:\d+/,'')[_0x17695f(0x517)](_0x17695f(0x49b),''),this['instance']['profilePictureUrl']=(await this[_0x17695f(0x62e)](this[_0x17695f(0x4fb)]['wuid']+'@s.whatsapp.net'))['profilePictureUrl'],this['repository'][_0x17695f(0x807)][_0x17695f(0x6ed)]({'online':!0x0,'owner':this[_0x17695f(0x4fb)][_0x17695f(0x7dd)],'lastDisconnect':null},this[_0x17695f(0x4fb)][_0x17695f(0x7bd)]);let _0x58f155=_0x17695f(0x6ae)+this[_0x17695f(0x4fb)][_0x17695f(0x7dd)],_0x2b62b9=0x28,_0x143348=Math[_0x17695f(0x6ff)]((_0x2b62b9-_0x58f155[_0x17695f(0x5a8)])/0x2),_0x262428='\x20'[_0x17695f(0x363)](_0x143348),_0x25dab3=_0x17695f(0x25b),_0x3a0e4d='Instância:\x20'+this[_0x17695f(0x4fb)][_0x17695f(0x7bd)],_0x4d0283=(''+_0x262428+_0x58f155+_0x262428)[_0x17695f(0x3b9)](_0x2b62b9,'\x20'),_0x4a4cb9=(''+_0x262428+_0x25dab3+_0x262428)[_0x17695f(0x3b9)](_0x2b62b9,'\x20'),_0x178286=(''+_0x262428+_0x3a0e4d+_0x262428)[_0x17695f(0x3b9)](_0x2b62b9,'\x20'),_0x4dbbc6=Math[_0x17695f(0x4a1)](_0x4d0283[_0x17695f(0x5a8)],_0x4a4cb9[_0x17695f(0x5a8)],_0x178286[_0x17695f(0x5a8)]),_0x9c9255=_0x4d0283['padEnd'](_0x4dbbc6,'\x20'),_0x3adf75=_0x4a4cb9[_0x17695f(0x3b9)](_0x4dbbc6,'\x20'),_0x3a1702=_0x178286[_0x17695f(0x3b9)](_0x4dbbc6,'\x20');this[_0x17695f(0x598)][_0x17695f(0x210)]((_0x17695f(0x307)+'─'['repeat'](_0x4dbbc6)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3adf75+_0x17695f(0x7e5)+_0x3a1702+_0x17695f(0x7e5)+_0x9c9255+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x17695f(0x363)](_0x4dbbc6)+'┘')[_0x17695f(0x517)](/^ +/gm,'\x20\x20')),this[_0x17695f(0x623)](),this[_0x17695f(0x4fb)][_0x17695f(0x7b3)]['isConnected']=!0x0;}}[a0_0x236793(0x30e)](){const _0x27b165=a0_0x236793;this[_0x27b165(0x4a5)]=0x0,this[_0x27b165(0x414)]=[];}async[a0_0x236793(0x5b7)](_0x4de1e8,_0x4b7356=!0x1){const _0x282143=a0_0x236793;try{let _0x2f7b96=await this[_0x282143(0x520)][_0x282143(0x7e9)]['find']({'where':{'_id':_0x4de1e8['id']}},this[_0x282143(0x4fb)][_0x282143(0x7dd)]);return _0x4b7356?_0x2f7b96[0x0]:_0x2f7b96[0x0][_0x282143(0x7e9)];}catch{return{'conversation':''};}}[a0_0x236793(0x685)](){const _0x2eb725=a0_0x236793;let _0x31b3dd=this['configService']['get'](_0x2eb725(0x27d)),_0x47e552=this[_0x2eb725(0x558)][_0x2eb725(0x253)]('DATABASE');_0x31b3dd?.['CLEANING_INTERVAL']&&!_0x47e552[_0x2eb725(0x3ea)]&&setInterval(()=>{const _0x56c3e8=_0x2eb725;try{for(let [_0x527eb2,_0x128f78]of Object[_0x56c3e8(0x6fc)](_0x31b3dd))_0x128f78===!0x0&&(0x0,Ae[_0x56c3e8(0x6e0)])(_0x56c3e8(0x57c)+(0x0,F[_0x56c3e8(0x279)])(this['storePath'],_0x527eb2[_0x56c3e8(0x4d4)](),this[_0x56c3e8(0x4fb)][_0x56c3e8(0x7dd)])+_0x56c3e8(0x447));}catch{}},(_0x31b3dd?.[_0x2eb725(0x4a8)]??0xe10)*0x3e8);}async[a0_0x236793(0x6ea)](){const _0x37eaa5=a0_0x236793;let _0x38da48=this[_0x37eaa5(0x558)][_0x37eaa5(0x253)](_0x37eaa5(0x6d7)),_0x1c82f7=this[_0x37eaa5(0x558)]['get'](_0x37eaa5(0x396));return _0x1c82f7?.[_0x37eaa5(0x3ea)]?await Ts(_0x1c82f7,this[_0x37eaa5(0x4fb)][_0x37eaa5(0x7bd)]):_0x38da48[_0x37eaa5(0x3ea)]?await Rs(this[_0x37eaa5(0x4fb)][_0x37eaa5(0x7bd)]):await(0x0,f[_0x37eaa5(0x7f6)])((0x0,F[_0x37eaa5(0x279)])(ge,this[_0x37eaa5(0x4fb)][_0x37eaa5(0x7bd)]));}async[a0_0x236793(0x623)](){const _0x32e30c=a0_0x236793;let _0x4573d7=()=>Math[_0x32e30c(0x6ff)](Math[_0x32e30c(0x582)]()*0x2711)+0x7d0,_0x5aa8a1=async()=>{const _0x43e941=_0x32e30c;if(!this[_0x43e941(0x4fb)][_0x43e941(0x7b3)][_0x43e941(0x1d6)]){this[_0x43e941(0x598)][_0x43e941(0x461)](_0x43e941(0x6a3)),this[_0x43e941(0x59f)]=!0x1;return;}if(this[_0x43e941(0x4fb)]['wuid']&&this[_0x43e941(0x6d8)]&&this['instance'][_0x43e941(0x7b3)]['delayMessage']!==null&&this['instance']['ScheduleMessage'][_0x43e941(0x43a)]!==void 0x0){let _0x2c1cc4=Math[_0x43e941(0x51b)](this[_0x43e941(0x4fb)][_0x43e941(0x7b3)][_0x43e941(0x43a)]/0xea60);this[_0x43e941(0x598)][_0x43e941(0x461)](this['instanceName']+'\x20('+this['instance'][_0x43e941(0x7dd)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x2c1cc4+_0x43e941(0x3eb)),this[_0x43e941(0x59f)]=!0x1;return;}else this['instance']['wuid']&&(this[_0x43e941(0x598)][_0x43e941(0x461)](this[_0x43e941(0x5a5)]+'\x20('+this[_0x43e941(0x4fb)]['wuid']+_0x43e941(0x605)),this[_0x43e941(0x6d8)]||(await this['getAutomateSystem'](),this[_0x43e941(0x468)]()),(this[_0x43e941(0x4fb)][_0x43e941(0x7b3)]['delayMessage']===null||this[_0x43e941(0x4fb)][_0x43e941(0x7b3)][_0x43e941(0x43a)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x43e941(0x59f)]){let _0x206624=_0x4573d7();this['logger'][_0x43e941(0x461)](this['instanceName']+_0x43e941(0x3c9)+_0x206624/0x3e8+_0x43e941(0x3a1)),setTimeout(_0x5aa8a1,_0x206624);}};if(this[_0x32e30c(0x59f)])return;this[_0x32e30c(0x59f)]=!0x0;let _0x35b9ff=_0x4573d7();setTimeout(_0x5aa8a1,_0x35b9ff);}async[a0_0x236793(0x56f)](_0x403a5d=0x0,_0x39cc55=!0x1){const _0x114c4c=a0_0x236793;try{let _0x1e187=this[_0x114c4c(0x558)][_0x114c4c(0x253)]('PROXY');if(_0x1e187!==0x1||typeof _0x1e187>'u'||_0x403a5d>=0x5)return this[_0x114c4c(0x598)]['warn'](_0x114c4c(0x48a)),this[_0x114c4c(0x520)][_0x114c4c(0x807)][_0x114c4c(0x6ed)]({'ip':null},this[_0x114c4c(0x4fb)][_0x114c4c(0x7bd)]),{};this[_0x114c4c(0x598)][_0x114c4c(0x461)](this[_0x114c4c(0x5a5)]+_0x114c4c(0x744)+(_0x403a5d+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x6c938b;if(!_0x39cc55){let _0x5df946=await this[_0x114c4c(0x520)]['auth'][_0x114c4c(0x75d)](this['instanceName']);_0x5df946&&_0x5df946['ip']&&(_0x6c938b=vr(_0x5df946['ip']));}if((!_0x6c938b||!Os(_0x6c938b))&&(this[_0x114c4c(0x598)][_0x114c4c(0x435)](this[_0x114c4c(0x5a5)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x6c938b=Nr()),_0x6c938b&&Os(_0x6c938b)){let _0x59deac=_0x6c938b[_0x114c4c(0x1b5)]&&_0x6c938b[_0x114c4c(0x679)]?_0x6c938b[_0x114c4c(0x5e0)]+_0x114c4c(0x41e)+_0x6c938b[_0x114c4c(0x1b5)]+':'+_0x6c938b['password']+'@'+_0x6c938b[_0x114c4c(0x5c3)]+':'+_0x6c938b[_0x114c4c(0x70b)]:_0x6c938b[_0x114c4c(0x5e0)]+_0x114c4c(0x41e)+_0x6c938b[_0x114c4c(0x5c3)]+':'+_0x6c938b['port'];return await this[_0x114c4c(0x1c4)](_0x59deac,_0x6c938b['host'])?(this[_0x114c4c(0x598)][_0x114c4c(0x461)](this['instanceName']+':\x20IP\x20funcionando!'),this[_0x114c4c(0x520)][_0x114c4c(0x807)]['create']({'ip':_0x6c938b[_0x114c4c(0x5c3)]},this[_0x114c4c(0x4fb)][_0x114c4c(0x7bd)]),{'agent':new Ft[(_0x114c4c(0x636))](_0x59deac),'fetchAgent':new Ft[(_0x114c4c(0x636))](_0x59deac)}):(this[_0x114c4c(0x598)][_0x114c4c(0x435)](this[_0x114c4c(0x5a5)]+_0x114c4c(0x324)),await(0x0,f['delay'])(0xc8),this['loadproxy'](_0x403a5d+0x1,!0x0));}else return this[_0x114c4c(0x598)][_0x114c4c(0x435)](this[_0x114c4c(0x5a5)]+_0x114c4c(0x6c3)),await(0x0,f[_0x114c4c(0x55f)])(0xc8),this[_0x114c4c(0x56f)](_0x403a5d+0x1,!0x0);}catch(_0x4d4d81){return this[_0x114c4c(0x598)]['error'](this['instanceName']+_0x114c4c(0x7b8)+_0x4d4d81[_0x114c4c(0x7e9)]),{};}}async[a0_0x236793(0x1c4)](_0x2a36be,_0x1572c6){const _0x440718=a0_0x236793;let _0x41fbba=new Ft['HttpsProxyAgent'](_0x2a36be),_0x135871=0x1388,_0xd70d1b=[{'url':_0x440718(0x326),'parse':_0x1c37d=>_0x1c37d['ip']},{'url':_0x440718(0x79a),'parse':_0x168026=>_0x168026['ip']},{'url':_0x440718(0x35e),'parse':_0x59b649=>_0x59b649[_0x440718(0x71f)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x440718(0x2c6),'parse':_0x3fc4ec=>_0x3fc4ec['ip']},{'url':_0x440718(0x4c4),'parse':_0x4aac06=>_0x4aac06['trim']()},{'url':_0x440718(0x6bb),'parse':_0x413908=>_0x413908[_0x440718(0x76e)]()},{'url':'http://ip-api.com/json','parse':_0x1701cc=>_0x1701cc['query']},{'url':'http://myexternalip.com/raw','parse':_0x5ef57c=>_0x5ef57c[_0x440718(0x76e)]()},{'url':_0x440718(0x7f4),'parse':_0x5ad465=>_0x5ad465[_0x440718(0x76e)]()}],_0x5855de=_0xd70d1b[Math[_0x440718(0x6ff)](Math[_0x440718(0x582)]()*_0xd70d1b[_0x440718(0x5a8)])];try{let _0x14477f=await K[_0x440718(0x4d1)][_0x440718(0x253)](_0x5855de[_0x440718(0x855)],{'httpsAgent':_0x41fbba,'timeout':_0x135871}),_0x79617a=_0x5855de['parse'](_0x14477f[_0x440718(0x69f)]);return _0x79617a===_0x1572c6?(this[_0x440718(0x598)]['verbose'](this['instanceName']+_0x440718(0x69c)+_0x1572c6+_0x440718(0x6d5)+_0x79617a+_0x440718(0x554)),!0x0):(this[_0x440718(0x598)][_0x440718(0x1a3)](this[_0x440718(0x5a5)]+':\x20IP\x20configurado:\x20'+_0x1572c6+_0x440718(0x6d5)+_0x79617a+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x3557e7){return this[_0x440718(0x598)][_0x440718(0x1a3)](this[_0x440718(0x5a5)]+_0x440718(0x591)+_0x5855de[_0x440718(0x855)]+':\x20'+_0x3557e7['message']),!0x1;}}async[a0_0x236793(0x5f9)](_0x539483){const _0x5a6bbf=a0_0x236793;try{let _0x8918ce=await this['loadproxy']();this[_0x5a6bbf(0x74d)](),this[_0x5a6bbf(0x4fb)][_0x5a6bbf(0x1e5)]=(await this[_0x5a6bbf(0x520)][_0x5a6bbf(0x807)][_0x5a6bbf(0x75d)](this[_0x5a6bbf(0x4fb)]['name']))['apikey'],this[_0x5a6bbf(0x4fb)]['authState']=await this[_0x5a6bbf(0x6ea)]();let {version:_0x62f922}=await(0x0,f['fetchLatestBaileysVersion'])(),_0x5cd702=[Ir,Ds,(0x0,$s[_0x5a6bbf(0x478)])()],_0x346a91={..._0x8918ce,'auth':{'creds':this[_0x5a6bbf(0x4fb)]['authState'][_0x5a6bbf(0x667)]['creds'],'keys':(0x0,f[_0x5a6bbf(0x2e5)])(this['instance'][_0x5a6bbf(0x36d)][_0x5a6bbf(0x667)]['keys'],(0x0,Pt[_0x5a6bbf(0x4d1)])({'level':_0x5a6bbf(0x1a3)}))},'logger':(0x0,Pt[_0x5a6bbf(0x4d1)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x539483?['Mac\x20OS',Ds,(0x0,$s[_0x5a6bbf(0x478)])()]:_0x5cd702,'version':_0x62f922,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x54909a=>{const _0x3bc5fa=_0x5a6bbf;let _0x4cf92f=_0x54909a['endsWith'](_0x3bc5fa(0x2f5)),_0x466970=this[_0x3bc5fa(0x225)]?.['groups_ignore']&&_0x54909a[_0x3bc5fa(0x724)]('@g.us');return _0x4cf92f||(0x0,f['isJidBroadcast'])(_0x54909a)||_0x466970;},'msgRetryCounterCache':this[_0x5a6bbf(0x211)],'getMessage':async _0x4e674f=>await this[_0x5a6bbf(0x5b7)](_0x4e674f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5a6bbf(0x22d)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x2d0ebb=>(_0x2d0ebb['listMessage']?.['listType']==f[_0x5a6bbf(0x43c)]['Message']['ListMessage'][_0x5a6bbf(0x79d)]['PRODUCT_LIST']&&(_0x2d0ebb=JSON[_0x5a6bbf(0x36f)](JSON['stringify'](_0x2d0ebb)),_0x2d0ebb[_0x5a6bbf(0x3d9)][_0x5a6bbf(0x30c)]=f['proto'][_0x5a6bbf(0x3fd)][_0x5a6bbf(0x2ab)]['ListType'][_0x5a6bbf(0x841)]),_0x2d0ebb)};return this[_0x5a6bbf(0x5d3)]=!0x1,this[_0x5a6bbf(0x5f0)]=(0x0,f[_0x5a6bbf(0x4d1)])(_0x346a91),this['eventHandler'](),this['phoneNumber']=_0x539483,this[_0x5a6bbf(0x5f0)];}catch(_0x5ca781){let _0x20fb7f=_0x5a6bbf(0x51a),_0x3e6b64=_0x5ca781 instanceof Error?_0x5ca781[_0x5a6bbf(0x7e9)]:typeof _0x5ca781==_0x5a6bbf(0x22a)?JSON[_0x5a6bbf(0x6fe)](_0x5ca781):_0x5ca781,_0x39f471=_0x20fb7f+':\x20'+_0x3e6b64;throw this[_0x5a6bbf(0x598)][_0x5a6bbf(0x1a3)](this[_0x5a6bbf(0x5a5)]+'\x20('+this[_0x5a6bbf(0x4fb)]['wuid']+_0x5a6bbf(0x344)+_0x39f471),new I(_0x39f471);}}[a0_0x236793(0x44f)](){const _0x462591=a0_0x236793;this[_0x462591(0x5f0)]['ev'][_0x462591(0x1c5)](_0x327f21=>{const _0x244878=_0x462591;if(!this[_0x244878(0x5d3)]){let _0x42bc86=this[_0x244878(0x558)][_0x244878(0x253)]('DATABASE');if(_0x327f21[_0x244878(0x7b5)]){let _0x1a065c=_0x327f21['labels.edit'];this[_0x244878(0x85c)][_0x244878(0x7b5)](_0x1a065c);}if(_0x327f21[_0x244878(0x609)]){let _0x33ab24=_0x327f21[_0x244878(0x609)];this[_0x244878(0x85c)]['labels.association'](_0x33ab24);}if(_0x327f21[_0x244878(0x44a)]&&this[_0x244878(0x602)](_0x327f21[_0x244878(0x44a)]),_0x327f21[_0x244878(0x779)]&&this[_0x244878(0x4fb)][_0x244878(0x36d)][_0x244878(0x1d9)](),_0x327f21['messaging-history.set']){let _0x50e9c8=_0x327f21[_0x244878(0x5dc)];this[_0x244878(0x85c)][_0x244878(0x5dc)](_0x50e9c8,_0x42bc86);}if(_0x327f21[_0x244878(0x67b)]){let _0x49db48=_0x327f21[_0x244878(0x67b)];this[_0x244878(0x85c)]['messages.upsert'](_0x49db48,_0x42bc86);}if(_0x327f21['messages.update']){let _0x2cf92d=_0x327f21[_0x244878(0x553)];_0x2cf92d[_0x244878(0x595)](_0x29b99d=>{const _0x4d8027=_0x244878;if(Tr[_0x29b99d[_0x4d8027(0x533)]['id']]){this[_0x4d8027(0x5f0)]['ev'][_0x4d8027(0x78d)](_0x4d8027(0x67b),{'messages':[_0x29b99d],'type':'notify'}),delete Tr[_0x29b99d[_0x4d8027(0x533)]['id']];return;}}),this[_0x244878(0x85c)]['messages.update'](_0x2cf92d,_0x42bc86);}if(_0x327f21[_0x244878(0x817)]){let _0x1a9739=_0x327f21[_0x244878(0x817)];if(this['localWebhook']?.[_0x244878(0x2ed)]&&_0x1a9739['id'][_0x244878(0x256)](_0x244878(0x333)))return;this['sendDataWebhook'](_0x244878(0x817),_0x1a9739);}if(_0x327f21[_0x244878(0x33b)]){let _0x2b4110=_0x327f21[_0x244878(0x33b)];this[_0x244878(0x360)][_0x244878(0x33b)](_0x2b4110);}if(_0x327f21[_0x244878(0x52a)]){let _0x1fbac5=_0x327f21[_0x244878(0x52a)];this[_0x244878(0x360)][_0x244878(0x52a)](_0x1fbac5);}if(_0x327f21[_0x244878(0x821)]){let _0x58a173=_0x327f21[_0x244878(0x821)];this['groupHandler']['group-participants.update'](_0x58a173);}if(_0x327f21['chats.upsert']){let _0x526e9c=_0x327f21[_0x244878(0x66e)];this[_0x244878(0x857)][_0x244878(0x66e)](_0x526e9c,_0x42bc86);}if(_0x327f21[_0x244878(0x38c)]){let _0x29657a=_0x327f21['chats.update'];this[_0x244878(0x857)][_0x244878(0x38c)](_0x29657a,_0x42bc86);}if(_0x327f21[_0x244878(0x802)]){let _0x4ce988=_0x327f21[_0x244878(0x802)];this['chatHandle'][_0x244878(0x802)](_0x4ce988);}if(_0x327f21['contacts.upsert']){let _0xe1e00b=_0x327f21[_0x244878(0x1ba)];this[_0x244878(0x5eb)][_0x244878(0x1ba)](_0xe1e00b,_0x42bc86);}if(_0x327f21[_0x244878(0x40c)]){let _0x740df2=_0x327f21[_0x244878(0x40c)];this[_0x244878(0x5eb)][_0x244878(0x40c)](_0x740df2,_0x42bc86);}}});}[a0_0x236793(0x1db)](_0x203846){return new Promise(_0x1539a9=>setTimeout(_0x1539a9,_0x203846));}['formatBRNumber'](_0x257094){const _0x40603e=a0_0x236793;_0x257094=_0x257094[_0x40603e(0x517)](/\D/g,'');let _0x4045c3=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x257094);if(_0x4045c3&&_0x4045c3[0x1]==='55'){let _0x5d3f13=_0x4045c3[0x2],_0x2ff991=_0x4045c3[0x3],_0x560255=_0x4045c3[0x4];if(parseInt(_0x5d3f13)>=0x1f&&_0x2ff991==='9')return _0x4045c3[0x1]+_0x5d3f13+_0x560255;}return _0x257094;}['createJid'](_0x1cc179){const _0x4a8f3b=a0_0x236793;return _0x1cc179['includes']('@g.us')||_0x1cc179['includes'](_0x4a8f3b(0x49b))||_0x1cc179[_0x4a8f3b(0x256)](_0x4a8f3b(0x6c9))?_0x1cc179:(_0x1cc179=_0x1cc179?.[_0x4a8f3b(0x517)](/\s/g,'')['replace'](/\+/g,'')[_0x4a8f3b(0x517)](/\(/g,'')['replace'](/\)/g,'')[_0x4a8f3b(0x6ec)](/\:/)[0x0][_0x4a8f3b(0x6ec)]('@')[0x0],_0x1cc179[_0x4a8f3b(0x5a8)]>=0x12?(_0x1cc179=_0x1cc179[_0x4a8f3b(0x517)](/[^\d-]/g,''),_0x1cc179+'@g.us'):(_0x1cc179=_0x1cc179[_0x4a8f3b(0x517)](/\D/g,''),_0x1cc179+_0x4a8f3b(0x49b)));}async[a0_0x236793(0x756)](_0x5a3afd){const _0x326f13=a0_0x236793;let _0x26cf88=(await this[_0x326f13(0x43b)]({'numbers':[_0x5a3afd[_0x326f13(0x488)]]}))[0x0];if(!_0x26cf88[_0x326f13(0x816)]&&!(0x0,f[_0x326f13(0x607)])(_0x26cf88[_0x326f13(0x79e)])&&!_0x26cf88[_0x326f13(0x79e)][_0x326f13(0x256)](_0x326f13(0x6c9)))throw new m(_0x26cf88);let _0x5d0188=_0x26cf88[_0x326f13(0x79e)];try{return await this[_0x326f13(0x5f0)][_0x326f13(0x422)](_0x5d0188),await this[_0x326f13(0x5f0)][_0x326f13(0x721)](_0x5a3afd[_0x326f13(0x3bf)],_0x5d0188),{'status':0xc8,'presence':_0x5a3afd[_0x326f13(0x3bf)]};}catch(_0x5d6684){let _0xc8ac65=_0x326f13(0x5d6),_0x7443c5=_0x5d6684 instanceof Error?_0x5d6684[_0x326f13(0x7e9)]:typeof _0x5d6684==_0x326f13(0x22a)?JSON[_0x326f13(0x6fe)](_0x5d6684):_0x5d6684,_0x5e73ab=_0xc8ac65+':\x20'+_0x7443c5;throw this[_0x326f13(0x598)][_0x326f13(0x1a3)](this[_0x326f13(0x5a5)]+'\x20('+this['instance']['wuid']+_0x326f13(0x344)+_0x5e73ab),new m(_0x5e73ab);}}async['findAndUpdateCacheContact'](_0x1bbf5d,_0xd2b3ab,_0x13ff5b,_0x415e11=!0x0){const _0x5eafb3=a0_0x236793;let _0x30da89=await this[_0x5eafb3(0x520)][_0x5eafb3(0x3a3)]['findOne']({'where':{'_id':_0x1bbf5d}});if(!_0x30da89&&!_0x415e11)return;let _0x233cb1={'lastUpdate':Date[_0x5eafb3(0x1e6)]()};if(_0x13ff5b||!_0x30da89?.[_0x5eafb3(0x441)]||Date[_0x5eafb3(0x1e6)]()-_0x30da89[_0x5eafb3(0x441)]>0x18*0x3c*0x3c*0x3e8)try{let _0x5ad64c=(await this[_0x5eafb3(0x62e)](_0x1bbf5d))['profilePictureUrl'];_0x233cb1[_0x5eafb3(0x86c)]=_0x5ad64c;}catch(_0x2bdc1){let _0x3aa909='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x23b302=_0x2bdc1 instanceof Error?_0x2bdc1[_0x5eafb3(0x7e9)]:typeof _0x2bdc1=='object'?JSON['stringify'](_0x2bdc1):_0x2bdc1,_0x13278f=_0x3aa909+':\x20'+_0x23b302;throw this[_0x5eafb3(0x598)][_0x5eafb3(0x1a3)](this[_0x5eafb3(0x5a5)]+'\x20('+this[_0x5eafb3(0x4fb)]['wuid']+_0x5eafb3(0x344)+_0x13278f),new m(_0x13278f);}return _0xd2b3ab&&_0x30da89?.[_0x5eafb3(0x7bd)]!==_0xd2b3ab&&(_0x233cb1[_0x5eafb3(0x7bd)]=_0xd2b3ab),Object[_0x5eafb3(0x75c)](_0x233cb1)['length']>0x1&&(_0x30da89?await this[_0x5eafb3(0x520)][_0x5eafb3(0x3a3)][_0x5eafb3(0x7a6)]({'where':{'_id':_0x1bbf5d}},_0x233cb1):await this[_0x5eafb3(0x520)][_0x5eafb3(0x3a3)][_0x5eafb3(0x621)]([{'_id':_0x1bbf5d,..._0x233cb1}]),_0x30da89={..._0x30da89,..._0x233cb1}),{'cachedContact':_0x30da89};}async[a0_0x236793(0x62e)](_0x324e46){const _0x282993=a0_0x236793;let _0x3414be=this[_0x282993(0x204)](_0x324e46);try{return{'wuid':_0x3414be,'profilePictureUrl':await this['client'][_0x282993(0x872)](_0x3414be,_0x282993(0x3bc))};}catch{return{'wuid':_0x3414be,'profilePictureUrl':null};}}async[a0_0x236793(0x88a)](_0x28d552,_0x384238,_0x19d8ec){const _0x30344d=a0_0x236793;_0x19d8ec||(_0x19d8ec={});let _0x23a940=(await this['whatsappNumber']({'numbers':[_0x28d552]}))[0x0];if(!_0x23a940['exists']&&!(0x0,f['isJidGroup'])(_0x23a940[_0x30344d(0x79e)])&&!_0x23a940['jid'][_0x30344d(0x256)](_0x30344d(0x6c9)))throw new m(_0x23a940);let _0x175707=_0x23a940['jid'];try{if(_0x19d8ec?.[_0x30344d(0x55f)]){await this['client'][_0x30344d(0x422)](_0x175707),await this[_0x30344d(0x5f0)]['sendPresenceUpdate'](_0x19d8ec?.['presence']??_0x30344d(0x60b),_0x175707);let _0x53f3ea=Math[_0x30344d(0x652)](_0x19d8ec[_0x30344d(0x55f)],0x2710);await(0x0,f['delay'])(_0x53f3ea),await this[_0x30344d(0x5f0)][_0x30344d(0x721)](_0x30344d(0x793),_0x175707);}let _0x3200dd=_0x19d8ec?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x329e9c;if(_0x19d8ec?.[_0x30344d(0x1d4)]){let _0x529347=_0x19d8ec?.[_0x30344d(0x1d4)],_0x5e45d0=_0x529347?.[_0x30344d(0x7e9)]?_0x529347:await this[_0x30344d(0x5b7)](_0x529347[_0x30344d(0x533)],!0x0);if(!_0x5e45d0)throw'Message\x20not\x20found';_0x329e9c=_0x5e45d0;}let _0x2fa0d2;if((0x0,f[_0x30344d(0x607)])(_0x175707))try{let _0x229f7c=(await this[_0x30344d(0x520)][_0x30344d(0x3bb)][_0x30344d(0x542)]({'where':{'_id':_0x175707}},this[_0x30344d(0x4fb)][_0x30344d(0x7dd)]))[_0x30344d(0x41c)];if(!_0x229f7c)throw new U('Group\x20not\x20found');_0x19d8ec?.['mentions']&&(_0x19d8ec[_0x30344d(0x5f6)]?.[_0x30344d(0x3df)]?_0x2fa0d2=_0x229f7c[_0x30344d(0x4ea)][_0x30344d(0x405)](_0x2bfdf1=>_0x2bfdf1['id']):_0x19d8ec['mentions']?.['mentioned']?.[_0x30344d(0x5a8)]&&(_0x2fa0d2=_0x19d8ec[_0x30344d(0x5f6)][_0x30344d(0x5b0)][_0x30344d(0x405)](_0x55bd59=>{const _0x2b5b2b=_0x30344d;let _0x27c357=this['createJid'](_0x55bd59);return(0x0,f[_0x2b5b2b(0x607)])(_0x27c357)?null:_0x27c357;})));}catch{throw new U(_0x30344d(0x61c));}let _0x12bed6=await this['repository']['chat'][_0x30344d(0x542)]({'where':{'_id':_0x175707}},this[_0x30344d(0x4fb)]['wuid']),_0xc501=await((async()=>{const _0x2f7c24=_0x30344d;let _0x43abdf={'quoted':_0x329e9c,'ephemeralExpiration':_0x12bed6?.[_0x2f7c24(0x4df)]??0x0};if(!_0x384238[_0x2f7c24(0x4f3)]&&!_0x384238[_0x2f7c24(0x7c4)]&&!_0x384238[_0x2f7c24(0x67d)]&&!_0x384238['conversation']&&_0x175707!==_0x2f7c24(0x2eb)&&!_0x384238[_0x2f7c24(0x4f3)])return await this[_0x2f7c24(0x5f0)][_0x2f7c24(0x5ba)](_0x175707,{'forward':{'key':{'remoteJid':this[_0x2f7c24(0x4fb)][_0x2f7c24(0x7dd)],'fromMe':!0x0},'message':_0x384238},'mentions':_0x2fa0d2},_0x43abdf);if(_0x384238['reactionMessage'])return await this[_0x2f7c24(0x5f0)][_0x2f7c24(0x5ba)](_0x175707,{'react':{'text':_0x384238[_0x2f7c24(0x6a2)][_0x2f7c24(0x4a3)],'key':_0x384238[_0x2f7c24(0x6a2)]['key']}},_0x43abdf);if(_0x384238[_0x2f7c24(0x7e8)]){let _0x505224=_0x384238[_0x2f7c24(0x7e8)];return _0x19d8ec?.['changeVariables']&&(_0x505224=await this[_0x2f7c24(0x27a)](_0x505224,_0x175707)),await this[_0x2f7c24(0x5f0)][_0x2f7c24(0x5ba)](_0x175707,{'text':_0x505224,'mentions':_0x2fa0d2,'linkPreview':_0x3200dd},_0x43abdf);}return _0x175707===_0x2f7c24(0x2eb)?await this[_0x2f7c24(0x5f0)]['sendMessage'](_0x175707,_0x384238[_0x2f7c24(0x464)]['content'],{'backgroundColor':_0x384238[_0x2f7c24(0x464)][_0x2f7c24(0x830)]['backgroundColor'],'font':_0x384238[_0x2f7c24(0x464)][_0x2f7c24(0x830)][_0x2f7c24(0x783)],'statusJidList':_0x384238[_0x2f7c24(0x464)][_0x2f7c24(0x830)]['statusJidList']}):await this['client'][_0x2f7c24(0x5ba)](_0x175707,_0x384238,_0x43abdf);})()),_0x55c87c=(0x0,f[_0x30344d(0x6f1)])(_0xc501[_0x30344d(0x7e9)]),_0x2f4eb8=(0x0,f['getContentType'])(_0x55c87c),{message_normalized:_0x5d83a5}=this['normalizeMessage'](_0x55c87c,_0x2f4eb8,null),_0xfcdbc8={'_id':_0xc501[_0x30344d(0x533)]['id'],'key':_0xc501[_0x30344d(0x533)],'pushName':_0xc501[_0x30344d(0x5e3)],'isGroup':_0xc501[_0x30344d(0x533)][_0x30344d(0x2f9)][_0x30344d(0x724)](_0x30344d(0x333)),'profilePictureUrl':this['instance']['profilePictureUrl'],'message':_0x55c87c,'messageType':_0x2f4eb8,'message_normalized':{'key':_0xc501[_0x30344d(0x533)],'pushName':_0xc501[_0x30344d(0x5e3)],'messageTimestamp':_0xc501[_0x30344d(0x23b)]&&_0xc501[_0x30344d(0x23b)][_0x30344d(0x6eb)]()['length']<0xd?_0xc501[_0x30344d(0x23b)]*0x3e8:_0xc501[_0x30344d(0x23b)]||null,'source':(0x0,f['getDevice'])(_0xc501[_0x30344d(0x533)]['id']),..._0x5d83a5},'messageTimestamp':_0xc501[_0x30344d(0x23b)]&&_0xc501[_0x30344d(0x23b)][_0x30344d(0x6eb)]()[_0x30344d(0x5a8)]<0xd?_0xc501[_0x30344d(0x23b)]*0x3e8:_0xc501[_0x30344d(0x23b)]||null,'owner':this[_0x30344d(0x4fb)][_0x30344d(0x7dd)],'source':(0x0,f[_0x30344d(0x400)])(_0xc501[_0x30344d(0x533)]['id'])};return this[_0x30344d(0x598)][_0x30344d(0x435)](this[_0x30344d(0x5a5)]+'\x20('+this[_0x30344d(0x4fb)][_0x30344d(0x7dd)]+'):\x20enviado\x20para\x20['+_0xfcdbc8['key']?.[_0x30344d(0x2f9)][_0x30344d(0x517)](_0x30344d(0x49b),'')+_0x30344d(0x7d2)+_0xfcdbc8[_0x30344d(0x796)]+')'),_0xfcdbc8[_0x30344d(0x25f)]?.['text']&&this['logger'][_0x30344d(0x435)](_0xfcdbc8[_0x30344d(0x25f)]?.[_0x30344d(0x4a3)]),this[_0x30344d(0x510)](_0x30344d(0x352),_0xfcdbc8),J(this['instanceName'],_0x30344d(0x487),{'message':_0xfcdbc8}),this[_0x30344d(0x539)](this[_0x30344d(0x558)][_0x30344d(0x253)](_0x30344d(0x6d7)),_0xfcdbc8,_0x30344d(0x505),_0x12bed6),await this[_0x30344d(0x520)][_0x30344d(0x7e9)][_0x30344d(0x621)]([_0xfcdbc8],this[_0x30344d(0x4fb)][_0x30344d(0x7dd)]),_0xc501;}catch(_0x1bddab){let _0x445a8e=_0x30344d(0x74a),_0x4098a9=_0x1bddab instanceof Error?_0x1bddab[_0x30344d(0x7e9)]:typeof _0x1bddab=='object'?JSON['stringify'](_0x1bddab):_0x1bddab,_0x16e45d=_0x445a8e+':\x20'+_0x4098a9;throw this[_0x30344d(0x598)][_0x30344d(0x1a3)](this[_0x30344d(0x5a5)]+'\x20('+this['instance']['wuid']+_0x30344d(0x344)+_0x16e45d),new m(_0x16e45d);}}get['connectionStatus'](){return this['stateConnection'];}async[a0_0x236793(0x289)](_0x4b8601){const _0x38f496=a0_0x236793;let _0x2f5673=Rr,_0x4f3655=et;return _0x4f3655&&this[_0x38f496(0x5a5)][_0x38f496(0x4d4)]()[_0x38f496(0x256)](_0x4f3655[_0x38f496(0x4d4)]())&&(_0x4b8601['textMessage'][_0x38f496(0x4a3)]+='\x0a\x0a'+_0x2f5673),await this[_0x38f496(0x88a)](_0x4b8601['number'],{'conversation':_0x4b8601[_0x38f496(0x289)][_0x38f496(0x4a3)]},_0x4b8601?.['options']);}async[a0_0x236793(0x4ba)](_0x3a28b6){const _0x6b62cb=a0_0x236793;if(!_0x3a28b6['type'])throw new m(_0x6b62cb(0x380));if(!_0x3a28b6[_0x6b62cb(0x32a)])throw new m('Content\x20is\x20required');if(_0x3a28b6[_0x6b62cb(0x7ab)]){let _0x8f83f1=await this['repository']['contact'][_0x6b62cb(0x75d)]({'where':{}},this[_0x6b62cb(0x4fb)][_0x6b62cb(0x7dd)]);if(!_0x8f83f1[_0x6b62cb(0x5a8)])throw new m(_0x6b62cb(0x86b));_0x3a28b6[_0x6b62cb(0x229)]=_0x8f83f1['filter'](_0x117162=>_0x117162['pushName'])[_0x6b62cb(0x405)](_0x309688=>_0x309688[_0x6b62cb(0x3c4)]);}if(!_0x3a28b6[_0x6b62cb(0x229)]?.[_0x6b62cb(0x5a8)]&&!_0x3a28b6[_0x6b62cb(0x7ab)])throw new m(_0x6b62cb(0x673));if(_0x3a28b6[_0x6b62cb(0x787)]===_0x6b62cb(0x4a3)){if(!_0x3a28b6[_0x6b62cb(0x283)])throw new m(_0x6b62cb(0x5b6));if(!_0x3a28b6[_0x6b62cb(0x783)])throw new m(_0x6b62cb(0x4ac));return{'content':{'text':_0x3a28b6['content']},'option':{'backgroundColor':_0x3a28b6['backgroundColor'],'font':_0x3a28b6[_0x6b62cb(0x783)],'statusJidList':_0x3a28b6['statusJidList']}};}if(_0x3a28b6[_0x6b62cb(0x787)]===_0x6b62cb(0x3bc))return{'content':{'image':{'url':_0x3a28b6[_0x6b62cb(0x32a)]},'caption':_0x3a28b6[_0x6b62cb(0x7fa)]},'option':{'statusJidList':_0x3a28b6[_0x6b62cb(0x229)]}};if(_0x3a28b6['type']===_0x6b62cb(0x6b2))return{'content':{'video':{'url':_0x3a28b6[_0x6b62cb(0x32a)]},'caption':_0x3a28b6[_0x6b62cb(0x7fa)]},'option':{'statusJidList':_0x3a28b6['statusJidList']}};if(_0x3a28b6[_0x6b62cb(0x787)]===_0x6b62cb(0x4f3)){this[_0x6b62cb(0x598)]['verbose'](_0x6b62cb(0x489)),this[_0x6b62cb(0x598)][_0x6b62cb(0x461)](_0x6b62cb(0x490));let _0x3d7278=await this[_0x6b62cb(0x6d6)](_0x3a28b6[_0x6b62cb(0x32a)]);if(typeof _0x3d7278==_0x6b62cb(0x4ca)){this[_0x6b62cb(0x598)]['verbose']('Audio\x20processed');let _0x4b65e0=j[_0x6b62cb(0x71c)](_0x3d7278)[_0x6b62cb(0x6eb)](_0x6b62cb(0x647));return{'content':{'audio':Buffer[_0x6b62cb(0x727)](_0x4b65e0,'base64'),'ptt':!0x0,'mimetype':_0x6b62cb(0x239)},'option':{'statusJidList':_0x3a28b6['statusJidList']}};}else throw new I(_0x3d7278);}throw new m(_0x6b62cb(0x25c));}async[a0_0x236793(0x409)](_0x1d5939){const _0x3542a2=a0_0x236793;return await this[_0x3542a2(0x88a)]('status@broadcast',{'status':await this[_0x3542a2(0x4ba)](_0x1d5939['statusMessage'])});}async[a0_0x236793(0x76f)](_0x580986){const _0x5ab35f=a0_0x236793;try{let _0x3fc6f9=await(0x0,f[_0x5ab35f(0x76a)])({[_0x580986[_0x5ab35f(0x383)]]:(0x0,P[_0x5ab35f(0x6f3)])(_0x580986[_0x5ab35f(0x2c4)])?{'url':_0x580986[_0x5ab35f(0x2c4)]}:Buffer[_0x5ab35f(0x727)](_0x580986[_0x5ab35f(0x2c4)],_0x5ab35f(0x647))},{'upload':this[_0x5ab35f(0x5f0)][_0x5ab35f(0x34a)]}),_0x1b49eb=_0x580986[_0x5ab35f(0x383)]+_0x5ab35f(0x3fd);if(_0x580986[_0x5ab35f(0x383)]==='document'&&!_0x580986[_0x5ab35f(0x7a2)]){let _0xb5bcd5=new RegExp(/.*\/(.+?)\./)[_0x5ab35f(0x386)](_0x580986['media']);_0x580986['fileName']=_0xb5bcd5?_0xb5bcd5[0x1]:null;}let _0x5ddb2c=(0x0,P[_0x5ab35f(0x6f3)])(_0x580986['media'])?_0x580986['media'][_0x5ab35f(0x6ec)]('?')[0x0]:_0x580986[_0x5ab35f(0x2c4)];this[_0x5ab35f(0x598)][_0x5ab35f(0x461)](_0x5ab35f(0x5fb)+_0x5ddb2c);let _0x5e3b97;(0x0,P[_0x5ab35f(0x6f3)])(_0x580986['media'])?_0x5e3b97=(0x0,kt[_0x5ab35f(0x5f5)])(_0x5ddb2c):_0x580986['fileName']&&_0x580986[_0x5ab35f(0x7a2)][_0x5ab35f(0x256)]('.')?_0x5e3b97=(0x0,kt[_0x5ab35f(0x5f5)])(_0x580986[_0x5ab35f(0x7a2)]):_0x5e3b97=(0x0,kt['getMIMEType'])(_0x580986[_0x5ab35f(0x2c4)]);let _0x24c53d=Rr,_0x55daa3=et;return _0x55daa3&&this[_0x5ab35f(0x5a5)][_0x5ab35f(0x4d4)]()[_0x5ab35f(0x256)](_0x55daa3[_0x5ab35f(0x4d4)]())&&(_0x580986['caption']+='\x0a\x0a'+_0x24c53d),_0x3fc6f9[_0x1b49eb]['caption']=_0x580986?.[_0x5ab35f(0x7fa)],_0x3fc6f9[_0x1b49eb]['mimetype']=_0x5e3b97,_0x3fc6f9[_0x1b49eb]['fileName']=_0x580986['fileName'],_0x580986[_0x5ab35f(0x383)]===_0x5ab35f(0x6b2)&&(_0x3fc6f9[_0x1b49eb][_0x5ab35f(0x6b4)]=Uint8Array[_0x5ab35f(0x727)]((0x0,Oe[_0x5ab35f(0x71c)])((0x0,F[_0x5ab35f(0x279)])(process['cwd'](),'video-cover.png'))),_0x3fc6f9[_0x1b49eb][_0x5ab35f(0x3e1)]=!0x1),(0x0,f[_0x5ab35f(0x2d7)])('',{[_0x1b49eb]:{..._0x3fc6f9[_0x1b49eb]}},{'userJid':this[_0x5ab35f(0x4fb)][_0x5ab35f(0x7dd)]});}catch(_0x1c9ca7){let _0x2f54c7=_0x5ab35f(0x861),_0x1a4372=_0x1c9ca7 instanceof Error?_0x1c9ca7['message']:typeof _0x1c9ca7==_0x5ab35f(0x22a)?JSON['stringify'](_0x1c9ca7):_0x1c9ca7,_0x158597=_0x2f54c7+':\x20'+_0x1a4372;throw this['logger'][_0x5ab35f(0x1a3)](this[_0x5ab35f(0x5a5)]+'\x20('+this['instance'][_0x5ab35f(0x7dd)]+'):\x20'+_0x158597),new I(_0x158597);}}async[a0_0x236793(0x1b9)](_0x53da95){const _0x229f57=a0_0x236793;let _0x5b210d=await this['prepareMediaMessage'](_0x53da95['mediaMessage']);return await this[_0x229f57(0x88a)](_0x53da95[_0x229f57(0x488)],{..._0x5b210d[_0x229f57(0x7e9)]},_0x53da95?.['options']);}async['convertToWebP'](_0x30a72b,_0x265a38){const _0x442a40=a0_0x236793;try{this[_0x442a40(0x598)]['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x1f0d40,_0x4ada15=_0x265a38+'-'+new Date()[_0x442a40(0x45a)]();this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x768)+_0x4ada15);let _0x45d0d8=''+(0x0,F[_0x442a40(0x279)])(this['storePath'],_0x4ada15+'.webp');if(this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x1a9)+_0x45d0d8),(0x0,P[_0x442a40(0x4fe)])(_0x30a72b)){this['logger'][_0x442a40(0x461)](_0x442a40(0x3ff));let _0x271188=_0x30a72b[_0x442a40(0x517)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4145ca=Buffer['from'](_0x271188,_0x442a40(0x647));_0x1f0d40=''+(0x0,F[_0x442a40(0x279)])(this['storePath'],_0x442a40(0x716)+_0x4ada15+'.png'),this[_0x442a40(0x598)][_0x442a40(0x461)]('Image\x20path:\x20'+_0x1f0d40),await(0x0,Lt[_0x442a40(0x4d1)])(_0x4145ca)[_0x442a40(0x562)](_0x1f0d40),this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x859));}else{this['logger'][_0x442a40(0x461)](_0x442a40(0x1ab));let _0x54ef7c=new Date()['getTime'](),_0x7a9f05=_0x30a72b+_0x442a40(0x34e)+_0x54ef7c;this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x1ac)+_0x7a9f05);let _0x3afd9e=await K[_0x442a40(0x4d1)]['get'](_0x7a9f05,{'responseType':_0x442a40(0x366)});this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x501));let _0x413185=Buffer[_0x442a40(0x727)](_0x3afd9e[_0x442a40(0x69f)],_0x442a40(0x305));_0x1f0d40=''+(0x0,F['join'])(this[_0x442a40(0x3dd)],_0x442a40(0x716)+_0x4ada15+_0x442a40(0x7df)),this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x578)+_0x1f0d40),await(0x0,Lt['default'])(_0x413185)[_0x442a40(0x562)](_0x1f0d40),this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x859));}return await(0x0,Lt[_0x442a40(0x4d1)])(_0x1f0d40)['webp']()[_0x442a40(0x562)](_0x45d0d8),this[_0x442a40(0x598)][_0x442a40(0x461)](_0x442a40(0x395)),j[_0x442a40(0x77a)](_0x1f0d40),this[_0x442a40(0x598)]['verbose'](_0x442a40(0x626)),_0x45d0d8;}catch(_0x133004){let _0x36e44c=_0x442a40(0x351),_0xf965f7=_0x133004 instanceof Error?_0x133004[_0x442a40(0x7e9)]:typeof _0x133004==_0x442a40(0x22a)?JSON[_0x442a40(0x6fe)](_0x133004):_0x133004,_0x341018=_0x36e44c+':\x20'+_0xf965f7;this[_0x442a40(0x598)][_0x442a40(0x1a3)](this[_0x442a40(0x5a5)]+'\x20('+this[_0x442a40(0x4fb)]['wuid']+'):\x20'+_0x341018);}}async[a0_0x236793(0x797)](_0x120504){const _0x1e6eb2=a0_0x236793;let _0x1f31d7=await this[_0x1e6eb2(0x1e7)](_0x120504[_0x1e6eb2(0x80c)][_0x1e6eb2(0x3bc)],_0x120504['number']),_0x4fb346=await this['sendMessageWithTyping'](_0x120504['number'],{'sticker':{'url':_0x1f31d7}},_0x120504?.[_0x1e6eb2(0x6c7)]);return j[_0x1e6eb2(0x77a)](_0x1f31d7),this[_0x1e6eb2(0x598)]['verbose'](_0x1e6eb2(0x69b)),_0x4fb346;}async[a0_0x236793(0x6e5)](_0x5a3bbd){const _0x25e1ca=a0_0x236793;if(this[_0x25e1ca(0x598)][_0x25e1ca(0x461)]('Sending\x20audio\x20whatsapp'),!_0x5a3bbd[_0x25e1ca(0x6c7)]?.[_0x25e1ca(0x7de)]&&_0x5a3bbd[_0x25e1ca(0x6c7)]?.[_0x25e1ca(0x7de)]!==!0x1&&(_0x5a3bbd['options'][_0x25e1ca(0x7de)]=!0x0),_0x5a3bbd['options']?.['encoding']){let _0x4a068a=await this['convertaudio'](_0x5a3bbd[_0x25e1ca(0x3af)][_0x25e1ca(0x4f3)]);if(typeof _0x4a068a==_0x25e1ca(0x4ca)){let _0x472928=j[_0x25e1ca(0x71c)](_0x4a068a)[_0x25e1ca(0x6eb)]('base64');return this[_0x25e1ca(0x88a)](_0x5a3bbd['number'],{'audio':Buffer[_0x25e1ca(0x727)](_0x472928,_0x25e1ca(0x647)),'ptt':!0x0,'mimetype':_0x25e1ca(0x584)},{'presence':_0x25e1ca(0x6c6),'delay':_0x5a3bbd?.[_0x25e1ca(0x6c7)]?.[_0x25e1ca(0x55f)]});}else throw new I(_0x4a068a);}return await this[_0x25e1ca(0x88a)](_0x5a3bbd[_0x25e1ca(0x488)],{'audio':(0x0,P[_0x25e1ca(0x6f3)])(_0x5a3bbd['audioMessage']['audio'])?{'url':_0x5a3bbd[_0x25e1ca(0x3af)][_0x25e1ca(0x4f3)]}:Buffer[_0x25e1ca(0x727)](_0x5a3bbd[_0x25e1ca(0x3af)][_0x25e1ca(0x4f3)],'base64'),'ptt':!0x0,'mimetype':_0x25e1ca(0x584)},{'presence':_0x25e1ca(0x6c6),'delay':_0x5a3bbd?.['options']?.['delay']});}async[a0_0x236793(0x6d6)](_0x3800da){const _0x344cb1=a0_0x236793;this['logger'][_0x344cb1(0x461)](_0x344cb1(0x490));let _0x103d15=(0x0,P['isURL'])(_0x3800da)?(0x0,Jt[_0x344cb1(0x61b)])('sha256')[_0x344cb1(0x7a6)](_0x3800da)[_0x344cb1(0x3f3)](_0x344cb1(0x7d6)):(0x0,Jt[_0x344cb1(0x61b)])(_0x344cb1(0x5ab))[_0x344cb1(0x7a6)](_0x3800da)[_0x344cb1(0x3f3)](_0x344cb1(0x7d6)),_0x3b05f5=''+(0x0,F['join'])(this['storePath'],_0x103d15+'.ogg');if(j[_0x344cb1(0x759)](_0x3b05f5))return this[_0x344cb1(0x598)][_0x344cb1(0x461)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x3b05f5;let _0x554396=''+(0x0,F['join'])(this[_0x344cb1(0x3dd)],_0x344cb1(0x716)+(0x0,jt['v4'])()+_0x344cb1(0x66b));if((0x0,P[_0x344cb1(0x6f3)])(_0x3800da)){let _0x56613a=new Date()[_0x344cb1(0x45a)](),_0x430efd=_0x3800da+_0x344cb1(0x34e)+_0x56613a,_0x4a76d7=await K[_0x344cb1(0x4d1)]['get'](_0x430efd,{'responseType':_0x344cb1(0x366)});j[_0x344cb1(0x212)](_0x554396,_0x4a76d7['data']);}else{let _0x481f64=Buffer[_0x344cb1(0x727)](_0x3800da,'base64');j[_0x344cb1(0x212)](_0x554396,_0x481f64);}return new Promise((_0x4d2ee5,_0x4d685f)=>{const _0x20dc74=_0x344cb1;(0x0,Ae[_0x20dc74(0x386)])(As['default'][_0x20dc74(0x228)]+_0x20dc74(0x7a7)+_0x554396+_0x20dc74(0x233)+_0x3b05f5+_0x20dc74(0x6ca),_0x5b7d21=>{const _0x58c03d=_0x20dc74;if(j[_0x58c03d(0x77a)](_0x554396),_0x5b7d21){this['logger'][_0x58c03d(0x461)](_0x58c03d(0x26e)),_0x4d685f(_0x5b7d21);return;}this[_0x58c03d(0x598)][_0x58c03d(0x461)](_0x58c03d(0x30f)),_0x4d2ee5(_0x3b05f5);});});}async[a0_0x236793(0x5f3)](_0x255842){const _0x4a991a=a0_0x236793;this[_0x4a991a(0x598)][_0x4a991a(0x461)](_0x4a991a(0x490));let _0x45b5c0=(0x0,Jt[_0x4a991a(0x61b)])(_0x4a991a(0x5ab))['update'](_0x255842)[_0x4a991a(0x3f3)](_0x4a991a(0x7d6)),_0x7e295a=''+(0x0,F[_0x4a991a(0x279)])(this[_0x4a991a(0x3dd)],_0x45b5c0+'.mp3');if(j[_0x4a991a(0x759)](_0x7e295a))return this[_0x4a991a(0x598)][_0x4a991a(0x461)](_0x4a991a(0x64d)),F[_0x4a991a(0x4d1)][_0x4a991a(0x78b)](_0x7e295a);let _0x5d963f=''+(0x0,F['join'])(this[_0x4a991a(0x3dd)],_0x4a991a(0x716)+_0x45b5c0+_0x4a991a(0x5ec));if((0x0,P[_0x4a991a(0x6f3)])(_0x255842)){let _0x12b2a7=new Date()[_0x4a991a(0x45a)](),_0x49bb9d=_0x255842+_0x4a991a(0x34e)+_0x12b2a7,_0x2547da=await K[_0x4a991a(0x4d1)][_0x4a991a(0x253)](_0x49bb9d,{'responseType':_0x4a991a(0x366)});j[_0x4a991a(0x212)](_0x5d963f,_0x2547da[_0x4a991a(0x69f)]);}else{let _0x42d9c1=Buffer[_0x4a991a(0x727)](_0x255842,'base64');j[_0x4a991a(0x212)](_0x5d963f,_0x42d9c1);}return new Promise((_0xebaf7a,_0x45cf22)=>{const _0x269572=_0x4a991a;(0x0,Ae[_0x269572(0x386)])(As[_0x269572(0x4d1)]['path']+'\x20-i\x20'+_0x5d963f+_0x269572(0x522)+_0x7e295a+_0x269572(0x6ca),_0x460308=>{const _0x998a26=_0x269572;if(j[_0x998a26(0x77a)](_0x5d963f),_0x460308){this['logger']['verbose'](_0x998a26(0x26e)),_0x45cf22(_0x460308);return;}this[_0x998a26(0x598)]['verbose']('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0xebaf7a(F[_0x998a26(0x4d1)][_0x998a26(0x78b)](_0x7e295a));});});}async['buttonMessage'](_0x2cd5a1){const _0x49de46=a0_0x236793;let _0x975616={},_0x1653eb=_0x49de46(0x67c);if(_0x2cd5a1[_0x49de46(0x22f)]?.[_0x49de46(0x1b9)]){_0x1653eb=_0x2cd5a1['buttonMessage'][_0x49de46(0x1b9)]?.[_0x49de46(0x383)][_0x49de46(0x5d7)]()??_0x49de46(0x67c),_0x975616[_0x49de46(0x3ef)]=_0x1653eb[_0x49de46(0x4d4)]()+_0x49de46(0x3fd);let _0x1ce46a=await this['prepareMediaMessage'](_0x2cd5a1['buttonMessage'][_0x49de46(0x1b9)]);_0x975616[_0x49de46(0x7e9)]=_0x1ce46a[_0x49de46(0x7e9)][_0x975616[_0x49de46(0x3ef)]],_0x975616[_0x49de46(0x278)]='*'+_0x2cd5a1[_0x49de46(0x22f)][_0x49de46(0x4eb)]+_0x49de46(0x288)+_0x2cd5a1[_0x49de46(0x22f)][_0x49de46(0x509)];}let _0x2a80b6={'text':_0x2cd5a1['buttonMessage'][_0x49de46(0x48f)][_0x49de46(0x405)](_0x59e3db=>_0x59e3db[_0x49de46(0x1b8)]),'ids':_0x2cd5a1[_0x49de46(0x22f)]['buttons'][_0x49de46(0x405)](_0x55b9ab=>_0x55b9ab['buttonId'])};if(!(0x0,P['arrayUnique'])(_0x2a80b6[_0x49de46(0x4a3)])||!(0x0,P[_0x49de46(0x446)])(_0x2a80b6['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x49de46(0x88a)](_0x2cd5a1[_0x49de46(0x488)],{'buttonsMessage':{'text':_0x975616?.[_0x49de46(0x3ef)]?void 0x0:_0x2cd5a1[_0x49de46(0x22f)][_0x49de46(0x4eb)],'contentText':_0x975616?.[_0x49de46(0x278)]??_0x2cd5a1[_0x49de46(0x22f)][_0x49de46(0x509)],'footerText':_0x2cd5a1['buttonMessage']?.[_0x49de46(0x391)],'buttons':_0x2cd5a1[_0x49de46(0x22f)]['buttons'][_0x49de46(0x405)](_0x327c2f=>({'buttonText':{'displayText':_0x327c2f[_0x49de46(0x1b8)]},'buttonId':_0x327c2f[_0x49de46(0x7c9)],'type':0x1})),'headerType':f[_0x49de46(0x43c)][_0x49de46(0x3fd)][_0x49de46(0x4bd)][_0x49de46(0x3cb)][_0x1653eb],[_0x975616?.[_0x49de46(0x3ef)]]:_0x975616?.[_0x49de46(0x7e9)]}},_0x2cd5a1?.['options']);}async[a0_0x236793(0x346)](_0x1d5635){const _0x1d6132=a0_0x236793;return await this['sendMessageWithTyping'](_0x1d5635[_0x1d6132(0x488)],{'locationMessage':{'degreesLatitude':_0x1d5635[_0x1d6132(0x346)][_0x1d6132(0x6e2)],'degreesLongitude':_0x1d5635[_0x1d6132(0x346)][_0x1d6132(0x74e)],'name':_0x1d5635[_0x1d6132(0x346)]?.['name'],'address':_0x1d5635['locationMessage']?.[_0x1d6132(0x49c)]}},_0x1d5635?.['options']);}async['contactMessage'](_0x14349b){const _0x4f4e8c=a0_0x236793;let _0x19be51={},_0x10554f=async _0x23ea93=>{const _0x29aee8=a0_0x57a5;let _0x5111c8=_0x29aee8(0x1a2)+_0x23ea93[_0x29aee8(0x7d3)]+_0x29aee8(0x704)+_0x23ea93[_0x29aee8(0x7d3)]+'\x0a';_0x23ea93[_0x29aee8(0x7a5)]&&(_0x5111c8+=_0x29aee8(0x42f)+_0x23ea93[_0x29aee8(0x7a5)]+';\x0a'),_0x23ea93[_0x29aee8(0x2f3)]&&(_0x5111c8+=_0x29aee8(0x729)+_0x23ea93[_0x29aee8(0x2f3)]+'\x0a'),_0x23ea93[_0x29aee8(0x855)]&&(_0x5111c8+=_0x29aee8(0x293)+_0x23ea93[_0x29aee8(0x855)]+'\x0a');let _0x127f18='',_0x3d85b8=0x1;if(_0x23ea93[_0x29aee8(0x689)]){let _0x444ebe=_0x23ea93['phoneNumber'][_0x29aee8(0x6ec)]('|');for(let _0x20489b of _0x444ebe){let _0x5e8123=await this[_0x29aee8(0x43b)]({'numbers':[_0x20489b]}),_0x5cc256=(_0x5e8123[_0x29aee8(0x5a8)]>0x0?_0x5e8123[0x0][_0x29aee8(0x79e)]:this[_0x29aee8(0x204)](_0x20489b))[_0x29aee8(0x517)](_0x29aee8(0x49b),'');_0x127f18+=_0x29aee8(0x496)+_0x3d85b8+'.TEL;waid='+_0x5cc256+':'+_0x20489b+_0x29aee8(0x715)+_0x3d85b8+_0x29aee8(0x528),_0x3d85b8++;}}return _0x5111c8+=_0x127f18+_0x29aee8(0x1a8),_0x5111c8;};return _0x14349b[_0x4f4e8c(0x3f2)]['length']===0x1?_0x19be51[_0x4f4e8c(0x3f2)]={'displayName':_0x14349b[_0x4f4e8c(0x3f2)][0x0]['fullName'],'vcard':await _0x10554f(_0x14349b[_0x4f4e8c(0x3f2)][0x0])}:_0x19be51[_0x4f4e8c(0x3c1)]={'displayName':_0x14349b['contactMessage'][_0x4f4e8c(0x5a8)]+_0x4f4e8c(0x545),'contacts':await Promise[_0x4f4e8c(0x4a7)](_0x14349b[_0x4f4e8c(0x3f2)]['map'](async _0x201003=>({'displayName':_0x201003['fullName'],'vcard':await _0x10554f(_0x201003)})))},await this[_0x4f4e8c(0x88a)](_0x14349b[_0x4f4e8c(0x488)],{..._0x19be51},_0x14349b?.[_0x4f4e8c(0x6c7)]);}async[a0_0x236793(0x6a2)](_0x3b320b){const _0x299e9c=a0_0x236793;return await this[_0x299e9c(0x88a)](_0x3b320b['reactionMessage']['key']['remoteJid'],{'reactionMessage':{'key':_0x3b320b[_0x299e9c(0x6a2)][_0x299e9c(0x533)],'text':_0x3b320b[_0x299e9c(0x6a2)][_0x299e9c(0x6e3)]}});}async[a0_0x236793(0x43b)](_0x2bc9c1){const _0x2d9591=a0_0x236793;let _0x21fa1e=[];for await(let _0x325ff5 of _0x2bc9c1[_0x2d9591(0x2c5)]){let _0x3dcd11=this['createJid'](_0x325ff5),_0xcc17ce=!0x1;try{if((0x0,f['isJidGroup'])(_0x3dcd11)){let _0x4818cd=(await this[_0x2d9591(0x520)][_0x2d9591(0x3bb)][_0x2d9591(0x542)]({'where':{'_id':_0x3dcd11}},this[_0x2d9591(0x4fb)][_0x2d9591(0x7dd)]))[_0x2d9591(0x41c)];_0xcc17ce=!!_0x4818cd?.['id']&&!!_0x4818cd?.['canSendMessage'],_0x21fa1e[_0x2d9591(0x4a9)](new we(_0x4818cd['id'],_0xcc17ce,_0x4818cd?.['subject']));}else{let _0x3d342=(await this[_0x2d9591(0x5f0)][_0x2d9591(0x58c)](_0x3dcd11))[0x0];_0xcc17ce=_0x3d342[_0x2d9591(0x816)],_0x21fa1e[_0x2d9591(0x4a9)](new we(_0x3d342['jid'],_0xcc17ce));}}catch{(0x0,f[_0x2d9591(0x607)])(_0x3dcd11)||await this[_0x2d9591(0x53d)](_0x3dcd11,_0xcc17ce),_0x21fa1e['push'](new we(_0x325ff5,!0x1));}}return _0x21fa1e;}async['deleteImportedChat'](_0x225733,_0x15db8c){const _0x1587e8=a0_0x236793;try{await this['repository'][_0x1587e8(0x3bb)][_0x1587e8(0x542)]({'where':{'_id':_0x225733,'imported':!0x0}},this[_0x1587e8(0x4fb)]['wuid'])&&(_0x15db8c||(await this[_0x1587e8(0x520)]['chat'][_0x1587e8(0x5d5)](_0x225733,this['instance'][_0x1587e8(0x7dd)]),console[_0x1587e8(0x7e7)]('Chat\x20com\x20ID\x20'+_0x225733+_0x1587e8(0x22c))));}catch(_0x44ab9f){let _0x3ad110=_0x1587e8(0x492),_0x17d78f=_0x44ab9f instanceof Error?_0x44ab9f['message']:typeof _0x44ab9f==_0x1587e8(0x22a)?JSON[_0x1587e8(0x6fe)](_0x44ab9f):_0x44ab9f,_0x484918=_0x3ad110+':\x20'+_0x17d78f;this[_0x1587e8(0x598)][_0x1587e8(0x1a3)](this['instanceName']+'\x20('+this[_0x1587e8(0x4fb)][_0x1587e8(0x7dd)]+_0x1587e8(0x344)+_0x484918);}}async[a0_0x236793(0x24b)](_0x4e567e){const _0x39fb95=a0_0x236793;try{let _0x4c6d08=_0x4e567e['readMessages'][_0x39fb95(0x504)](_0x39c3ff=>(0x0,f['isJidGroup'])(_0x39c3ff['remoteJid'])||(0x0,f[_0x39fb95(0x750)])(_0x39c3ff['remoteJid']))[_0x39fb95(0x405)](_0x36ac83=>({'remoteJid':_0x36ac83['remoteJid'],'fromMe':_0x36ac83[_0x39fb95(0x644)],'id':_0x36ac83['id']}));await this[_0x39fb95(0x5f0)]['readMessages'](_0x4c6d08);let _0x6a961f=_0x4c6d08[_0x39fb95(0x405)](_0x359015=>this[_0x39fb95(0x251)](_0x359015,{'status':_0x39fb95(0x5dd),'owner':this['instance'][_0x39fb95(0x7dd)]})),_0x331995=_0x4c6d08[_0x39fb95(0x405)](_0x2df196=>this['repository'][_0x39fb95(0x3bb)][_0x39fb95(0x1e2)]({'where':{'_id':_0x2df196[_0x39fb95(0x2f9)]}},{'unreadcount':0x0},this[_0x39fb95(0x4fb)][_0x39fb95(0x7dd)])),[_0x3b4b5e,_0x30e338]=await Promise[_0x39fb95(0x4a7)]([Promise['all'](_0x6a961f),Promise['all'](_0x331995)]);return _0x30e338[_0x39fb95(0x504)](_0x199425=>_0x199425!==null)[_0x39fb95(0x595)](_0x14f8e7=>{J(this['instanceName'],'chats',{'chat':_0x14f8e7});}),{'message':_0x39fb95(0x2a3),'read':_0x39fb95(0x6fd)};}catch(_0x9b8a90){let _0x421153=_0x39fb95(0x3b8),_0x5cc594=_0x9b8a90 instanceof Error?_0x9b8a90[_0x39fb95(0x7e9)]:typeof _0x9b8a90==_0x39fb95(0x22a)?JSON['stringify'](_0x9b8a90):_0x9b8a90,_0x18c73f=_0x421153+':\x20'+_0x5cc594;throw this[_0x39fb95(0x598)][_0x39fb95(0x1a3)](this[_0x39fb95(0x5a5)]+'\x20('+this['instance']['wuid']+_0x39fb95(0x344)+_0x18c73f),new I(_0x18c73f);}}async[a0_0x236793(0x592)](_0x4a0eb3){const _0x15b0e4=a0_0x236793;let _0x298e35={'where':{'key':{'remoteJid':_0x4a0eb3}},'limit':0x1},_0xc2aa93=await this[_0x15b0e4(0x6de)](_0x298e35);return _0xc2aa93||(console[_0x15b0e4(0x1a3)](_0x15b0e4(0x514),_0x4a0eb3),null);}async[a0_0x236793(0x5f4)](_0x1adcbc){const _0x45dcdf=a0_0x236793;this[_0x45dcdf(0x598)][_0x45dcdf(0x461)](_0x45dcdf(0x30b));try{let _0xf833fa=_0x1adcbc[_0x45dcdf(0x482)],_0x2da714=_0x1adcbc['chat'];if(!_0xf833fa&&_0x2da714?_0xf833fa=await this[_0x45dcdf(0x592)](_0x2da714):(_0xf833fa=_0x1adcbc[_0x45dcdf(0x482)],_0xf833fa[_0x45dcdf(0x23b)]=_0xf833fa?.[_0x45dcdf(0x23b)]??Date[_0x45dcdf(0x1e6)](),_0x2da714=_0xf833fa?.['key']?.[_0x45dcdf(0x2f9)]),!_0xf833fa||Object['keys'](_0xf833fa)[_0x45dcdf(0x5a8)]===0x0)throw new U(_0x45dcdf(0x767));this[_0x45dcdf(0x598)][_0x45dcdf(0x461)](_0x45dcdf(0x412)+_0x2da714);try{await this[_0x45dcdf(0x5f0)][_0x45dcdf(0x497)]({'archive':_0x1adcbc[_0x45dcdf(0x526)],'lastMessages':[_0xf833fa]},this[_0x45dcdf(0x204)](_0x2da714));}catch(_0x3f8df3){let _0x1f8d2a=_0x45dcdf(0x7af)+_0x2da714,_0xcc73a8=_0x3f8df3 instanceof Error?_0x3f8df3['message']:typeof _0x3f8df3==_0x45dcdf(0x22a)?JSON['stringify'](_0x3f8df3):_0x3f8df3,_0x471e18=_0x1f8d2a+':\x20'+_0xcc73a8;this[_0x45dcdf(0x598)][_0x45dcdf(0x1a3)](this[_0x45dcdf(0x5a5)]+'\x20('+this[_0x45dcdf(0x4fb)][_0x45dcdf(0x7dd)]+_0x45dcdf(0x344)+_0x471e18);}this[_0x45dcdf(0x598)][_0x45dcdf(0x461)](_0x45dcdf(0x5d9)+_0x2da714);let _0x4abf77=await this['repository'][_0x45dcdf(0x3bb)][_0x45dcdf(0x1e2)]({'where':{'_id':_0xf833fa?.[_0x45dcdf(0x533)]?.[_0x45dcdf(0x2f9)]}},{'archived':_0x1adcbc[_0x45dcdf(0x526)]},this[_0x45dcdf(0x4fb)]['wuid']);return _0x4abf77?(this['logger'][_0x45dcdf(0x461)](_0x45dcdf(0x6cc)+JSON['stringify'](_0x4abf77)),J(this[_0x45dcdf(0x5a5)],_0x45dcdf(0x2a1),{'chat':_0x4abf77})):this[_0x45dcdf(0x598)][_0x45dcdf(0x1a3)](_0x45dcdf(0x564)+_0x2da714),{'chatId':_0x2da714,'archived':_0x1adcbc[_0x45dcdf(0x526)]};}catch(_0x26c4e1){let _0x344ba7=_0x45dcdf(0x436),_0x53bec6=_0x26c4e1 instanceof Error?_0x26c4e1[_0x45dcdf(0x7e9)]:typeof _0x26c4e1==_0x45dcdf(0x22a)?JSON['stringify'](_0x26c4e1):_0x26c4e1,_0x24da6d=_0x344ba7+':\x20'+_0x53bec6;throw this[_0x45dcdf(0x598)][_0x45dcdf(0x1a3)](this[_0x45dcdf(0x5a5)]+'\x20('+this[_0x45dcdf(0x4fb)]['wuid']+_0x45dcdf(0x344)+_0x24da6d),new I(_0x24da6d);}}async[a0_0x236793(0x5d5)](_0x2cc790){const _0x4f1cb0=a0_0x236793;this[_0x4f1cb0(0x598)][_0x4f1cb0(0x461)](_0x4f1cb0(0x871));try{let _0x1c5931=await this[_0x4f1cb0(0x592)](_0x2cc790);if(!_0x1c5931||Object[_0x4f1cb0(0x75c)](_0x1c5931)[_0x4f1cb0(0x5a8)]===0x0)throw new U(_0x4f1cb0(0x767));let _0x37be1f=_0x1c5931[0x0];this['logger'][_0x4f1cb0(0x461)](_0x4f1cb0(0x79f)+_0x2cc790);try{await this['client'][_0x4f1cb0(0x497)]({'delete':!0x0,'lastMessages':[{'key':_0x37be1f[_0x4f1cb0(0x533)],'messageTimestamp':_0x37be1f[_0x4f1cb0(0x23b)]}]},this[_0x4f1cb0(0x204)](_0x2cc790));}catch(_0x537316){this[_0x4f1cb0(0x598)][_0x4f1cb0(0x1a3)](_0x4f1cb0(0x7af)+_0x2cc790+':\x20'+_0x537316[_0x4f1cb0(0x6eb)]());}this[_0x4f1cb0(0x598)][_0x4f1cb0(0x461)](_0x4f1cb0(0x5d9)+_0x2cc790);return;}catch(_0x26b555){throw this['logger'][_0x4f1cb0(0x1a3)](_0x4f1cb0(0x840)+_0x26b555[_0x4f1cb0(0x6eb)]()),new I({'archived':!0x1,'message':[_0x4f1cb0(0x493),_0x26b555[_0x4f1cb0(0x6eb)]()]});}}async['deleteMessage'](_0x4ea5ed){const _0x4d8046=a0_0x236793;try{let _0x239093=await this['client'][_0x4d8046(0x5ba)](_0x4ea5ed[_0x4d8046(0x2f9)],{'delete':_0x4ea5ed});try{let _0x147b65=await this[_0x4d8046(0x251)](_0x4ea5ed,{'status':_0x4d8046(0x818),'owner':this[_0x4d8046(0x4fb)][_0x4d8046(0x7dd)]});this['logger'][_0x4d8046(0x461)](this['instanceName']+'\x20('+this['instance'][_0x4d8046(0x7dd)]+_0x4d8046(0x86e)+_0x147b65);}catch(_0x4aabb5){console[_0x4d8046(0x1a3)](_0x4d8046(0x40f),_0x4aabb5);}return _0x239093;}catch(_0x49d0fa){throw new I(_0x4d8046(0x375),_0x49d0fa?.[_0x4d8046(0x6eb)]());}}async[a0_0x236793(0x31e)](_0x2bb4ee){const _0x55ed6a=a0_0x236793;try{let _0x3a9472=_0x2bb4ee?.['message']?_0x2bb4ee:await this[_0x55ed6a(0x5b7)](_0x2bb4ee[_0x55ed6a(0x533)],!0x0);for(let _0x529a3c of Na)_0x3a9472[_0x55ed6a(0x7e9)][_0x529a3c]&&(_0x3a9472[_0x55ed6a(0x7e9)]=_0x3a9472[_0x55ed6a(0x7e9)][_0x529a3c][_0x55ed6a(0x7e9)]);let _0x26dcba,_0x217cdc;for(let _0x10029a of va)if(_0x26dcba=_0x3a9472[_0x55ed6a(0x7e9)][_0x10029a],_0x26dcba){_0x217cdc=_0x10029a;break;}if(!_0x26dcba)throw _0x55ed6a(0x77f);typeof _0x26dcba[_0x55ed6a(0x3ef)]==_0x55ed6a(0x22a)&&(_0x3a9472[_0x55ed6a(0x7e9)]=JSON[_0x55ed6a(0x36f)](JSON[_0x55ed6a(0x6fe)](_0x3a9472[_0x55ed6a(0x7e9)])));let _0x2dabdd=await(0x0,f['downloadMediaMessage'])({'key':_0x3a9472?.[_0x55ed6a(0x533)],'message':_0x3a9472?.[_0x55ed6a(0x7e9)]},_0x55ed6a(0x701),{},{'logger':(0x0,Pt[_0x55ed6a(0x4d1)])({'level':'silent'}),'reuploadRequest':this[_0x55ed6a(0x5f0)][_0x55ed6a(0x785)]});if(!(_0x2dabdd instanceof Buffer))throw new Error(_0x55ed6a(0x82f));let _0x38e8ed=this[_0x55ed6a(0x558)]['get'](_0x55ed6a(0x6d7)),_0x105742,_0x127827;if(_0x26dcba[_0x55ed6a(0x7a2)])_0x105742=_0x26dcba[_0x55ed6a(0x7a2)];else{let _0xb7bfd6=_0x26dcba[_0x55ed6a(0x398)]?.[_0x55ed6a(0x71f)](/\/(\w+)/),_0x5eaf7c=_0xb7bfd6?_0xb7bfd6[0x1]:null;if(!_0x5eaf7c)throw new Error(_0x55ed6a(0x246));_0x105742=(0x0,jt['v4'])()+'.'+_0x5eaf7c;}_0x217cdc===_0x55ed6a(0x3af)?_0x127827=_0x55ed6a(0x1ae)+await this[_0x55ed6a(0x5f3)](_0x2dabdd[_0x55ed6a(0x6eb)](_0x55ed6a(0x647))):(await this[_0x55ed6a(0x84b)](_0x2dabdd,_0x105742),_0x127827=_0x55ed6a(0x1ae)+_0x105742);let _0x31c038=this[_0x55ed6a(0x558)][_0x55ed6a(0x253)]('SERVER')[_0x55ed6a(0x38f)];if(!_0x31c038){let _0x293e6e=this[_0x55ed6a(0x558)][_0x55ed6a(0x253)](_0x55ed6a(0x63a));_0x31c038=_0x55ed6a(0x40a)+(_0x293e6e&&_0x293e6e[_0x55ed6a(0x5b8)][_0x55ed6a(0x6ec)]('/')[0x4]);}_0x127827=''+_0x31c038+_0x127827;let _0x3a4e7c=0xc*0x3c*0x3c*0x3e8,_0x249cc6={'where':{'_id':_0x3a9472[_0x55ed6a(0x533)]['id']}},_0x43f808={'message_normalized.fileUrl':_0x127827,'message_normalized.expires_fileUrl':Date['now']()+_0x3a4e7c};try{let _0x4e4515=await this[_0x55ed6a(0x520)][_0x55ed6a(0x7e9)][_0x55ed6a(0x7a6)](_0x249cc6,_0x43f808,this[_0x55ed6a(0x4fb)][_0x55ed6a(0x7dd)]);_0x4e4515&&J(this[_0x55ed6a(0x5a5)],_0x55ed6a(0x487),{'message':_0x4e4515});}catch(_0x16162a){let _0x862ebc=_0x55ed6a(0x73b),_0x40ce49=_0x16162a instanceof Error?_0x16162a['message']:typeof _0x16162a=='object'?JSON[_0x55ed6a(0x6fe)](_0x16162a):_0x16162a,_0x3e3acb=_0x862ebc+':\x20'+_0x40ce49;this[_0x55ed6a(0x598)]['error'](this[_0x55ed6a(0x5a5)]+'\x20('+this[_0x55ed6a(0x4fb)][_0x55ed6a(0x7dd)]+'):\x20'+_0x3e3acb);}return{'mediaType':_0x217cdc,'fileName':_0x26dcba[_0x55ed6a(0x7a2)],'caption':_0x26dcba['caption'],'size':{'fileLength':_0x26dcba[_0x55ed6a(0x625)],'height':_0x26dcba[_0x55ed6a(0x690)],'width':_0x26dcba['width']},'mimetype':_0x26dcba['mimetype'],'base64':_0x2dabdd[_0x55ed6a(0x6eb)](_0x55ed6a(0x647)),'fileUrl':_0x127827,'expires_fileUrl':Date[_0x55ed6a(0x1e6)]()+_0x3a4e7c};}catch(_0x29526f){let _0x7edf64=_0x55ed6a(0x659),_0x35a53e=_0x29526f instanceof Error?_0x29526f[_0x55ed6a(0x7e9)]:typeof _0x29526f==_0x55ed6a(0x22a)?JSON[_0x55ed6a(0x6fe)](_0x29526f):_0x29526f,_0x16fb6f=_0x7edf64+':\x20'+_0x35a53e;throw this[_0x55ed6a(0x598)][_0x55ed6a(0x1a3)](this[_0x55ed6a(0x5a5)]+'\x20('+this[_0x55ed6a(0x4fb)][_0x55ed6a(0x7dd)]+'):\x20'+_0x16fb6f),new m(_0x16fb6f);}}async[a0_0x236793(0x84b)](_0x346321,_0x1f8b94){const _0xcdbff8=a0_0x236793;let _0x6f4b32=F['default'][_0xcdbff8(0x279)](__dirname,_0xcdbff8(0x566));j[_0xcdbff8(0x759)](_0x6f4b32)||j[_0xcdbff8(0x3fc)](_0x6f4b32,{'recursive':!0x0});let _0x5d3abd=F[_0xcdbff8(0x4d1)][_0xcdbff8(0x279)](_0x6f4b32,_0x1f8b94);return new Promise((_0x46b683,_0x71a0b1)=>{j['writeFile'](_0x5d3abd,_0x346321,_0x370d91=>{const _0x682dfe=a0_0x57a5;_0x370d91?(this[_0x682dfe(0x598)][_0x682dfe(0x1a3)](_0x682dfe(0x600)+(_0x370d91 instanceof Error?_0x370d91['message']:JSON[_0x682dfe(0x6fe)](_0x370d91,null,0x2))),_0x71a0b1(_0x370d91)):(this[_0x682dfe(0x598)][_0x682dfe(0x7e7)](_0x682dfe(0x565)+_0x5d3abd),_0x46b683(_0x5d3abd));});});}async[a0_0x236793(0x3b1)](_0xd0ee1){const _0x4811c4=a0_0x236793;return await this[_0x4811c4(0x520)][_0x4811c4(0x3a9)][_0x4811c4(0x75d)](_0xd0ee1,this[_0x4811c4(0x4fb)][_0x4811c4(0x7dd)]);}async[a0_0x236793(0x5e6)](){const _0x115236=a0_0x236793;return await this[_0x115236(0x520)][_0x115236(0x30a)]['find']({'where':{}},this[_0x115236(0x4fb)][_0x115236(0x7dd)]);}async[a0_0x236793(0x6de)](_0x5c5c9c){const _0x118555=a0_0x236793;return await this[_0x118555(0x520)][_0x118555(0x7e9)]['find'](_0x5c5c9c,this['instance']['wuid']);}async[a0_0x236793(0x4ad)](){const _0x1965e3=a0_0x236793;return this[_0x1965e3(0x520)][_0x1965e3(0x3bb)]['removeUnusedChatFields'](this['instance'][_0x1965e3(0x7dd)]),this[_0x1965e3(0x520)]['chat'][_0x1965e3(0x3c0)](this[_0x1965e3(0x4fb)][_0x1965e3(0x7dd)]),this['repository']['chat'][_0x1965e3(0x590)](this[_0x1965e3(0x4fb)]['wuid']),this[_0x1965e3(0x520)][_0x1965e3(0x3bb)]['updateMissingCustomFields'](this['instance'][_0x1965e3(0x7dd)]),await this[_0x1965e3(0x520)][_0x1965e3(0x3bb)][_0x1965e3(0x75d)]({'where':{}},this[_0x1965e3(0x4fb)][_0x1965e3(0x7dd)]);}async[a0_0x236793(0x335)](_0x19f819){const _0x50cc3e=a0_0x236793;try{if(!Array[_0x50cc3e(0x603)](_0x19f819)||_0x19f819[_0x50cc3e(0x5a8)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x3dbb18=[],_0x2f1bc0=[];for(let _0x5f11c8 of _0x19f819){if(_0x5f11c8['_id'])_0x5f11c8[_0x50cc3e(0x3c4)]=this[_0x50cc3e(0x204)](_0x5f11c8[_0x50cc3e(0x3c4)]);else continue;await this['repository'][_0x50cc3e(0x3bb)][_0x50cc3e(0x542)]({'where':{'_id':_0x5f11c8[_0x50cc3e(0x3c4)]}},this['instance'][_0x50cc3e(0x7dd)])?_0x2f1bc0[_0x50cc3e(0x4a9)]({'_id':_0x5f11c8[_0x50cc3e(0x3c4)],'leadInfo':_0x5f11c8[_0x50cc3e(0x64f)],'owner':this[_0x50cc3e(0x4fb)][_0x50cc3e(0x7dd)]}):_0x3dbb18['push']({'_id':_0x5f11c8[_0x50cc3e(0x3c4)],'owner':this[_0x50cc3e(0x4fb)]['wuid'],'leadInfo':_0x5f11c8[_0x50cc3e(0x64f)],'imported':!0x0});}return _0x2f1bc0[_0x50cc3e(0x5a8)]>0x0&&await this[_0x50cc3e(0x520)][_0x50cc3e(0x3bb)][_0x50cc3e(0x681)](_0x2f1bc0[_0x50cc3e(0x405)](_0x36bac9=>({'query':{'where':{'_id':_0x36bac9[_0x50cc3e(0x3c4)],'owner':this['instance']['wuid']}},'update':_0x36bac9}))),_0x3dbb18[_0x50cc3e(0x5a8)]>0x0&&await this[_0x50cc3e(0x520)][_0x50cc3e(0x3bb)][_0x50cc3e(0x1c2)](_0x3dbb18,this[_0x50cc3e(0x4fb)][_0x50cc3e(0x7dd)]),{'updated':_0x2f1bc0[_0x50cc3e(0x5a8)],'inserted':_0x3dbb18['length']};}catch(_0x3979b5){let _0x5a856b=_0x50cc3e(0x516),_0x13358a=_0x3979b5 instanceof Error?_0x3979b5[_0x50cc3e(0x7e9)]:typeof _0x3979b5==_0x50cc3e(0x22a)?JSON['stringify'](_0x3979b5):_0x3979b5,_0x2651a4=_0x5a856b+':\x20'+_0x13358a;throw this[_0x50cc3e(0x598)][_0x50cc3e(0x1a3)](this[_0x50cc3e(0x5a5)]+'\x20('+this['instance']['wuid']+_0x50cc3e(0x344)+_0x2651a4),new m(_0x2651a4);}}async[a0_0x236793(0x7e2)](_0x4b10ca){const _0x2119c4=a0_0x236793;try{if(!Array[_0x2119c4(0x603)](_0x4b10ca)||_0x4b10ca[_0x2119c4(0x5a8)]===0x0)throw new Error(_0x2119c4(0x732));let _0x18a31c=0x64,_0x2c66f9=0x0;for(let _0xd3576=0x0;_0xd3576<_0x4b10ca['length'];_0xd3576+=_0x18a31c){let _0x17ddae=_0x4b10ca[_0x2119c4(0x271)](_0xd3576,_0xd3576+_0x18a31c),{updated:_0x5f208f}=await this[_0x2119c4(0x552)](_0x17ddae);_0x2c66f9+=_0x5f208f;}return{'updated':_0x2c66f9};}catch(_0x489b80){let _0x482f89=_0x2119c4(0x516),_0x2c5545=_0x489b80 instanceof Error?_0x489b80[_0x2119c4(0x7e9)]:typeof _0x489b80==_0x2119c4(0x22a)?JSON['stringify'](_0x489b80):_0x489b80,_0x402e0e=_0x482f89+':\x20'+_0x2c5545;throw this[_0x2119c4(0x598)]['error'](this[_0x2119c4(0x5a5)]+'\x20('+this[_0x2119c4(0x4fb)]['wuid']+_0x2119c4(0x344)+_0x402e0e),new m(_0x402e0e);}}async['importChatsBatch'](_0x4bc7d4){const _0x51da4c=a0_0x236793;try{let _0x12e393=await this[_0x51da4c(0x520)][_0x51da4c(0x30a)]['find']({'where':{}},this['instance'][_0x51da4c(0x7dd)]),_0x50086b=new Set(_0x12e393['map'](_0x618663=>_0x618663[_0x51da4c(0x3c4)])),_0x477eda=[],_0xebc6ec=[];for(let _0x51fa3b of _0x4bc7d4){if(!_0x51fa3b[_0x51da4c(0x3c4)])continue;_0x51fa3b[_0x51da4c(0x3c4)]=this[_0x51da4c(0x204)](_0x51fa3b[_0x51da4c(0x3c4)]);let _0x3174b7=await this[_0x51da4c(0x520)]['chat'][_0x51da4c(0x542)]({'where':{'_id':_0x51fa3b['_id']}},this['instance'][_0x51da4c(0x7dd)]),_0x31a070={};if(Object[_0x51da4c(0x6fc)](_0x51fa3b[_0x51da4c(0x64f)])['forEach'](([_0x2b4d2d,_0x33599a])=>{const _0x39c93a=_0x51da4c;_0x31a070[_0x39c93a(0x36a)+_0x2b4d2d]=_0x33599a;}),_0x3174b7&&!_0x3174b7['imported']){let _0x3dcc57=(_0x51fa3b[_0x51da4c(0x64f)]['etiquetas']||[])[_0x51da4c(0x504)](_0x2c14b2=>_0x50086b['has'](_0x2c14b2)),_0x24d076=new Set(_0x3174b7[_0x51da4c(0x64f)][_0x51da4c(0x5d1)]||[]),_0x37c5b2=_0x3dcc57['filter'](_0x4076e3=>!_0x24d076[_0x51da4c(0x51e)](_0x4076e3)),_0x1f350b=[..._0x24d076][_0x51da4c(0x504)](_0x2c2a70=>!_0x3dcc57['includes'](_0x2c2a70));_0xebc6ec[_0x51da4c(0x4a9)](..._0x37c5b2[_0x51da4c(0x405)](_0xfd8f75=>this[_0x51da4c(0x739)](_0xfd8f75,_0x51fa3b[_0x51da4c(0x3c4)]))),_0xebc6ec[_0x51da4c(0x4a9)](..._0x1f350b[_0x51da4c(0x405)](_0x410eb0=>this[_0x51da4c(0x835)](_0x410eb0,_0x51fa3b['_id']))),_0x51fa3b[_0x51da4c(0x64f)][_0x51da4c(0x5d1)]=_0x3dcc57,_0x477eda[_0x51da4c(0x4a9)]({'query':{'where':{'_id':_0x51fa3b[_0x51da4c(0x3c4)],'owner':this[_0x51da4c(0x4fb)]['wuid']}},'update':_0x31a070});}else _0x31a070[_0x51da4c(0x4cd)]=!0x0,_0x477eda[_0x51da4c(0x4a9)]({'query':{'where':{'_id':_0x51fa3b['_id'],'owner':this['instance'][_0x51da4c(0x7dd)]}},'update':_0x31a070});}let _0x47e086=await this[_0x51da4c(0x520)]['chat'][_0x51da4c(0x681)](_0x477eda);return await Promise[_0x51da4c(0x4a7)](_0xebc6ec),{'updated':_0x47e086};}catch(_0x5b9d5b){let _0xa5fd9b=_0x51da4c(0x516),_0x32fb76=_0x5b9d5b instanceof Error?_0x5b9d5b[_0x51da4c(0x7e9)]:typeof _0x5b9d5b==_0x51da4c(0x22a)?JSON[_0x51da4c(0x6fe)](_0x5b9d5b):_0x5b9d5b,_0x25d4ca=_0xa5fd9b+':\x20'+_0x32fb76;throw this['logger'][_0x51da4c(0x1a3)](this[_0x51da4c(0x5a5)]+'\x20('+this[_0x51da4c(0x4fb)][_0x51da4c(0x7dd)]+_0x51da4c(0x344)+_0x25d4ca),new m(_0x25d4ca);}}async[a0_0x236793(0x7a1)](){const _0x19619e=a0_0x236793;return await this[_0x19619e(0x5f0)][_0x19619e(0x7a1)]();}async[a0_0x236793(0x3aa)](_0x25dd07){const _0x2509ac=a0_0x236793;try{return await this[_0x2509ac(0x5f0)]['updateReadReceiptsPrivacy'](_0x25dd07['privacySettings'][_0x2509ac(0x742)]),await this[_0x2509ac(0x5f0)][_0x2509ac(0x60a)](_0x25dd07[_0x2509ac(0x2f4)][_0x2509ac(0x7ef)]),await this[_0x2509ac(0x5f0)]['updateStatusPrivacy'](_0x25dd07[_0x2509ac(0x2f4)][_0x2509ac(0x464)]),await this[_0x2509ac(0x5f0)][_0x2509ac(0x738)](_0x25dd07[_0x2509ac(0x2f4)][_0x2509ac(0x2ba)]),await this[_0x2509ac(0x5f0)]['updateLastSeenPrivacy'](_0x25dd07['privacySettings'][_0x2509ac(0x4b6)]),await this['client'][_0x2509ac(0x72a)](_0x25dd07[_0x2509ac(0x2f4)]['groupadd']),this[_0x2509ac(0x5f0)]?.['ws']?.[_0x2509ac(0x46c)](),{'update':'success','data':{'readreceipts':_0x25dd07[_0x2509ac(0x2f4)]['readreceipts'],'profile':_0x25dd07[_0x2509ac(0x2f4)][_0x2509ac(0x7ef)],'status':_0x25dd07['privacySettings'][_0x2509ac(0x464)],'online':_0x25dd07['privacySettings'][_0x2509ac(0x2ba)],'last':_0x25dd07[_0x2509ac(0x2f4)]['last'],'groupadd':_0x25dd07[_0x2509ac(0x2f4)]['groupadd']}};}catch(_0x21f8dc){let _0x515e9d=_0x2509ac(0x806),_0x3e4af3=_0x21f8dc instanceof Error?_0x21f8dc[_0x2509ac(0x7e9)]:typeof _0x21f8dc=='object'?JSON[_0x2509ac(0x6fe)](_0x21f8dc):_0x21f8dc,_0x315e71=_0x515e9d+':\x20'+_0x3e4af3;throw this[_0x2509ac(0x598)][_0x2509ac(0x1a3)](this[_0x2509ac(0x5a5)]+'\x20('+this[_0x2509ac(0x4fb)]['wuid']+_0x2509ac(0x344)+_0x315e71),new m(_0x315e71);}}async[a0_0x236793(0x443)](_0x4a3aa0){const _0x4554bc=a0_0x236793;let _0x175d97=(_0x4a3aa0?this[_0x4554bc(0x204)](_0x4a3aa0):this[_0x4554bc(0x5f0)]?.[_0x4554bc(0x634)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x4554bc(0x461)](_0x4554bc(0x737)+_0x175d97);let _0x1f4c93=await this[_0x4554bc(0x520)][_0x4554bc(0x3a9)]['findOne']({'where':{'_id':_0x175d97}},this['instance'][_0x4554bc(0x7dd)]),_0x30fc3e=_0x1f4c93?_0x1f4c93['pushName']:null;try{let _0x7f9b4f=(await this[_0x4554bc(0x43b)]({'numbers':[_0x175d97]}))?.[_0x4554bc(0x4c8)](),_0xf4377b=(await this[_0x4554bc(0x771)](_0x175d97,null,!0x1))[_0x4554bc(0x79c)][_0x4554bc(0x86c)],_0x7846dc=await this[_0x4554bc(0x7e6)](_0x7f9b4f?.[_0x4554bc(0x79e)]),_0x2b7d9d=await this[_0x4554bc(0x879)](_0x7f9b4f?.['jid']),_0x14b950=(await this[_0x4554bc(0x771)](_0x175d97,null,!0x1))[_0x4554bc(0x79c)]['name'],_0x16a580=await this[_0x4554bc(0x520)][_0x4554bc(0x3bb)][_0x4554bc(0x542)]({'where':{'_id':_0x175d97}},this[_0x4554bc(0x4fb)][_0x4554bc(0x7dd)]),_0x21595f={'imagechat':_0xf4377b,'contactname':_0x30fc3e||null,'pushName':_0x14b950,'status':_0x7846dc?.[_0x4554bc(0x464)],'isBusiness':_0x2b7d9d['isBusiness'],'email':_0x2b7d9d?.[_0x4554bc(0x2f3)],'description':_0x2b7d9d?.[_0x4554bc(0x509)],'website':_0x2b7d9d?.['website']?.['shift'](),'lastcache':Date[_0x4554bc(0x1e6)](),'imported':!_0x16a580},_0x576ece=await this[_0x4554bc(0x520)][_0x4554bc(0x3bb)][_0x4554bc(0x1e2)]({'where':{'_id':_0x175d97}},_0x21595f,this[_0x4554bc(0x4fb)][_0x4554bc(0x7dd)]),_0x244246={'owner':this['instance'][_0x4554bc(0x7dd)],'_id':_0x175d97,'profilePictureUrl':_0xf4377b,'status':_0x7846dc?.[_0x4554bc(0x464)]};return this[_0x4554bc(0x520)][_0x4554bc(0x3a9)][_0x4554bc(0x7a6)]([_0x244246],this[_0x4554bc(0x4fb)]['wuid']),_0x576ece&&J(this['instanceName'],_0x4554bc(0x2a1),{'chat':_0x576ece}),{'wuid':_0x7f9b4f?.[_0x4554bc(0x79e)]||_0x175d97,'name':_0x7f9b4f?.[_0x4554bc(0x7bd)],'pushName':_0x14b950,'numberExists':_0x7f9b4f?.[_0x4554bc(0x816)],'picture':_0xf4377b,'status':_0x7846dc?.[_0x4554bc(0x464)],'isBusiness':_0x2b7d9d[_0x4554bc(0x5cd)],'email':_0x2b7d9d?.[_0x4554bc(0x2f3)],'description':_0x2b7d9d?.[_0x4554bc(0x509)],'website':_0x2b7d9d?.[_0x4554bc(0x1f1)]?.['shift']()};}catch(_0x28c09f){return this[_0x4554bc(0x598)][_0x4554bc(0x1a3)](_0x4554bc(0x3b3)+(_0x28c09f instanceof Error?_0x28c09f[_0x4554bc(0x7e9)]:JSON[_0x4554bc(0x6fe)](_0x28c09f,null,0x2))),{};}}async['fetchBusinessProfile'](_0x4381ca){const _0x3417c8=a0_0x236793;this['logger'][_0x3417c8(0x461)](_0x3417c8(0x791));try{let _0x1fbb6f=_0x4381ca?this[_0x3417c8(0x204)](_0x4381ca):this['instance'][_0x3417c8(0x7dd)],_0x496cfe=await this[_0x3417c8(0x5f0)]['getBusinessProfile'](_0x1fbb6f);return this[_0x3417c8(0x598)][_0x3417c8(0x461)](_0x3417c8(0x60d)),_0x496cfe?(this[_0x3417c8(0x598)][_0x3417c8(0x461)](_0x3417c8(0x317)),{'isBusiness':!0x0,..._0x496cfe}):{'isBusiness':!0x1,'message':_0x3417c8(0x241),...(await this[_0x3417c8(0x43b)]({'numbers':[_0x1fbb6f]}))?.[_0x3417c8(0x4c8)]()};}catch(_0x481aea){let _0x5f129f=_0x3417c8(0x5f2),_0x5eb2f1=_0x481aea instanceof Error?_0x481aea[_0x3417c8(0x7e9)]:typeof _0x481aea==_0x3417c8(0x22a)?JSON[_0x3417c8(0x6fe)](_0x481aea):_0x481aea,_0x44489f=_0x5f129f+':\x20'+_0x5eb2f1;throw this[_0x3417c8(0x598)]['error'](this[_0x3417c8(0x5a5)]+'\x20('+this[_0x3417c8(0x4fb)][_0x3417c8(0x7dd)]+_0x3417c8(0x344)+_0x44489f),new I(_0x44489f);}}async['getStatus'](_0x2a52c0){const _0x2cc646=a0_0x236793;let _0x431a6d=this['createJid'](_0x2a52c0);try{return{'wuid':_0x431a6d,'status':(await this[_0x2cc646(0x5f0)]['fetchStatus'](_0x431a6d))?.[_0x2cc646(0x464)]};}catch{return{'wuid':_0x431a6d,'status':null};}}async[a0_0x236793(0x73e)](_0x56a32d){const _0x3475e4=a0_0x236793;try{return await this[_0x3475e4(0x5f0)]['updateProfileName'](_0x56a32d),{'update':_0x3475e4(0x6fd)};}catch(_0x1ca879){let _0x473b1e=_0x3475e4(0x4ff),_0x5c6fc2=_0x1ca879 instanceof Error?_0x1ca879['message']:typeof _0x1ca879==_0x3475e4(0x22a)?JSON[_0x3475e4(0x6fe)](_0x1ca879):_0x1ca879,_0x188ff9=_0x473b1e+':\x20'+_0x5c6fc2;throw this[_0x3475e4(0x598)][_0x3475e4(0x1a3)](this[_0x3475e4(0x5a5)]+'\x20('+this[_0x3475e4(0x4fb)][_0x3475e4(0x7dd)]+_0x3475e4(0x344)+_0x188ff9),new I(_0x188ff9);}}async[a0_0x236793(0x774)](_0x2b584d){const _0x58395e=a0_0x236793;try{return await this[_0x58395e(0x5f0)]['updateProfileStatus'](_0x2b584d),{'update':_0x58395e(0x6fd)};}catch(_0x25caa4){let _0x44635b=_0x58395e(0x6d4),_0x3d717b=_0x25caa4 instanceof Error?_0x25caa4['message']:typeof _0x25caa4==_0x58395e(0x22a)?JSON[_0x58395e(0x6fe)](_0x25caa4):_0x25caa4,_0x1a287e=_0x44635b+':\x20'+_0x3d717b;throw this[_0x58395e(0x598)][_0x58395e(0x1a3)](this[_0x58395e(0x5a5)]+'\x20('+this[_0x58395e(0x4fb)]['wuid']+_0x58395e(0x344)+_0x1a287e),new I(_0x1a287e);}}async[a0_0x236793(0x2ea)](_0x14d094){const _0x358c25=a0_0x236793;try{let _0x58404c;if((0x0,P['isURL'])(_0x14d094)){let _0x5c902e=new Date()[_0x358c25(0x45a)](),_0x3bece7=_0x14d094+_0x358c25(0x34e)+_0x5c902e;_0x58404c=(await K['default']['get'](_0x3bece7,{'responseType':'arraybuffer'}))[_0x358c25(0x69f)];}else{if((0x0,P[_0x358c25(0x4fe)])(_0x14d094))_0x58404c=Buffer['from'](_0x14d094,'base64');else throw new m(_0x358c25(0x551));}return await this[_0x358c25(0x5f0)][_0x358c25(0x2ea)](this['instance'][_0x358c25(0x7dd)],_0x58404c),{'update':_0x358c25(0x6fd)};}catch(_0x35bc39){let _0x195ceb=_0x358c25(0x1ef),_0x47d481=_0x35bc39 instanceof Error?_0x35bc39['message']:typeof _0x35bc39==_0x358c25(0x22a)?JSON[_0x358c25(0x6fe)](_0x35bc39):_0x35bc39,_0xa391ae=_0x195ceb+':\x20'+_0x47d481;throw this[_0x358c25(0x598)][_0x358c25(0x1a3)](this[_0x358c25(0x5a5)]+'\x20('+this['instance'][_0x358c25(0x7dd)]+_0x358c25(0x344)+_0xa391ae),new I(_0xa391ae);}}async[a0_0x236793(0x6c4)](){const _0x4e6476=a0_0x236793;try{return await this[_0x4e6476(0x5f0)]['removeProfilePicture'](this[_0x4e6476(0x4fb)][_0x4e6476(0x7dd)]),{'update':_0x4e6476(0x6fd)};}catch(_0x2b67fd){let _0x3b1aa7=_0x4e6476(0x39a),_0x440c70=_0x2b67fd instanceof Error?_0x2b67fd[_0x4e6476(0x7e9)]:typeof _0x2b67fd==_0x4e6476(0x22a)?JSON['stringify'](_0x2b67fd):_0x2b67fd,_0xb77d96=_0x3b1aa7+':\x20'+_0x440c70;throw this[_0x4e6476(0x598)]['error'](this[_0x4e6476(0x5a5)]+'\x20('+this[_0x4e6476(0x4fb)]['wuid']+_0x4e6476(0x344)+_0xb77d96),new I(_0xb77d96);}}async[a0_0x236793(0x237)](_0x1f94fc){const _0x44d16e=a0_0x236793;try{let _0x3cdad9=(await this[_0x44d16e(0x43b)]({'numbers':_0x1f94fc[_0x44d16e(0x4ea)]}))[_0x44d16e(0x504)](_0x193492=>_0x193492[_0x44d16e(0x816)])[_0x44d16e(0x405)](_0x490f85=>_0x490f85['jid']),{id:_0xa0df47}=await this[_0x44d16e(0x5f0)][_0x44d16e(0x569)](_0x1f94fc[_0x44d16e(0x1eb)],_0x3cdad9);return _0x1f94fc?.[_0x44d16e(0x509)]&&await this['client'][_0x44d16e(0x2f8)](_0xa0df47,_0x1f94fc[_0x44d16e(0x509)]),{'metadata':await this['client'][_0x44d16e(0x485)](_0xa0df47)};}catch(_0x155e01){let _0x270611=_0x44d16e(0x7d9),_0x5c9138=_0x155e01 instanceof Error?_0x155e01[_0x44d16e(0x7e9)]:typeof _0x155e01==_0x44d16e(0x22a)?JSON['stringify'](_0x155e01):_0x155e01,_0x1f637c=_0x270611+':\x20'+_0x5c9138;throw this[_0x44d16e(0x598)]['error'](this[_0x44d16e(0x5a5)]+'\x20('+this[_0x44d16e(0x4fb)][_0x44d16e(0x7dd)]+_0x44d16e(0x344)+_0x1f637c),new I(_0x1f637c);}}async[a0_0x236793(0x828)](_0x36d119){const _0x1ab6f7=a0_0x236793;try{let _0x57abda;if((0x0,P[_0x1ab6f7(0x6f3)])(_0x36d119[_0x1ab6f7(0x3bc)])){let _0x4edbfb=new Date()['getTime'](),_0xeb5fde=_0x36d119[_0x1ab6f7(0x3bc)]+_0x1ab6f7(0x34e)+_0x4edbfb;_0x57abda=(await K[_0x1ab6f7(0x4d1)][_0x1ab6f7(0x253)](_0xeb5fde,{'responseType':_0x1ab6f7(0x366)}))[_0x1ab6f7(0x69f)];}else{if((0x0,P[_0x1ab6f7(0x4fe)])(_0x36d119[_0x1ab6f7(0x3bc)]))_0x57abda=Buffer[_0x1ab6f7(0x727)](_0x36d119[_0x1ab6f7(0x3bc)],_0x1ab6f7(0x647));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x1ab6f7(0x5f0)][_0x1ab6f7(0x2ea)](_0x36d119[_0x1ab6f7(0x72f)],_0x57abda),{'update':'success'};}catch(_0xec5eb8){let _0x39bb74=_0x1ab6f7(0x5ef),_0x4f52a1=_0xec5eb8 instanceof Error?_0xec5eb8[_0x1ab6f7(0x7e9)]:typeof _0xec5eb8==_0x1ab6f7(0x22a)?JSON[_0x1ab6f7(0x6fe)](_0xec5eb8):_0xec5eb8,_0x35b09d=_0x39bb74+':\x20'+_0x4f52a1;throw this[_0x1ab6f7(0x598)]['error'](this[_0x1ab6f7(0x5a5)]+'\x20('+this[_0x1ab6f7(0x4fb)][_0x1ab6f7(0x7dd)]+_0x1ab6f7(0x344)+_0x35b09d),new I(_0x35b09d);}}async[a0_0x236793(0x6ee)](_0x486fd5){const _0x5d22bd=a0_0x236793;try{return await this[_0x5d22bd(0x5f0)][_0x5d22bd(0x2f8)](_0x486fd5['groupJid'],_0x486fd5[_0x5d22bd(0x509)]),{'update':_0x5d22bd(0x6fd)};}catch(_0x360e59){let _0x3e02b3=_0x5d22bd(0x639),_0x524742=_0x360e59 instanceof Error?_0x360e59[_0x5d22bd(0x7e9)]:typeof _0x360e59=='object'?JSON[_0x5d22bd(0x6fe)](_0x360e59):_0x360e59,_0x1b105c=_0x3e02b3+':\x20'+_0x524742;throw this[_0x5d22bd(0x598)][_0x5d22bd(0x1a3)](this[_0x5d22bd(0x5a5)]+'\x20('+this['instance']['wuid']+_0x5d22bd(0x344)+_0x1b105c),new I(_0x1b105c);}}async[a0_0x236793(0x2de)](_0x5dfbff){const _0x32c9d3=a0_0x236793;try{return await this['client'][_0x32c9d3(0x7b7)](_0x5dfbff[_0x32c9d3(0x72f)],_0x5dfbff[_0x32c9d3(0x7bd)]),{'update':_0x32c9d3(0x6fd)};}catch(_0x277847){let _0xa3f910=_0x32c9d3(0x23c),_0xb0ddb7=_0x277847 instanceof Error?_0x277847[_0x32c9d3(0x7e9)]:typeof _0x277847==_0x32c9d3(0x22a)?JSON[_0x32c9d3(0x6fe)](_0x277847):_0x277847,_0x18cc44=_0xa3f910+':\x20'+_0xb0ddb7;throw this[_0x32c9d3(0x598)]['error'](this[_0x32c9d3(0x5a5)]+'\x20('+this[_0x32c9d3(0x4fb)]['wuid']+'):\x20'+_0x18cc44),new I(_0x18cc44);}}async[a0_0x236793(0x80a)](_0x56efdb){const _0x5ed879=a0_0x236793;try{let _0x193682=await this[_0x5ed879(0x5f0)][_0x5ed879(0x78c)](_0x56efdb[_0x5ed879(0x72f)],_0x56efdb[_0x5ed879(0x5ac)]);return{'success':!0x0};}catch(_0x5927bc){let _0x2106b1=_0x5ed879(0x473),_0x541d29=_0x5927bc instanceof Error?_0x5927bc[_0x5ed879(0x7e9)]:typeof _0x5927bc==_0x5ed879(0x22a)?JSON[_0x5ed879(0x6fe)](_0x5927bc):_0x5927bc,_0xed04b6=_0x2106b1+':\x20'+_0x541d29;throw this[_0x5ed879(0x598)]['error'](this['instanceName']+'\x20('+this[_0x5ed879(0x4fb)]['wuid']+_0x5ed879(0x344)+_0xed04b6),new I(_0xed04b6);}}async['groupSetting'](_0x512a7d){const _0x477b71=a0_0x236793;try{return await this['client'][_0x477b71(0x521)](_0x512a7d['groupJid'],_0x512a7d[_0x477b71(0x52d)]),{'update':_0x477b71(0x6fd)};}catch(_0x2b27e9){let _0x41f87b=_0x477b71(0x4cb),_0x5c9310=_0x2b27e9 instanceof Error?_0x2b27e9['message']:typeof _0x2b27e9=='object'?JSON['stringify'](_0x2b27e9):_0x2b27e9,_0x50b439=_0x41f87b+':\x20'+_0x5c9310;throw this[_0x477b71(0x598)][_0x477b71(0x1a3)](this[_0x477b71(0x5a5)]+'\x20('+this[_0x477b71(0x4fb)][_0x477b71(0x7dd)]+_0x477b71(0x344)+_0x50b439),new I(_0x50b439);}}async['groupBetterSetting'](_0x35ab20){const _0x394374=a0_0x236793;try{if(_0x35ab20[_0x394374(0x5b3)]===!0x0&&await this[_0x394374(0x5f0)][_0x394374(0x521)](_0x35ab20[_0x394374(0x72f)],_0x394374(0x52e)),_0x35ab20[_0x394374(0x5b3)]===!0x1&&await this['client'][_0x394374(0x521)](_0x35ab20[_0x394374(0x72f)],_0x394374(0x5af)),_0x35ab20[_0x394374(0x3a6)]===!0x0&&await this[_0x394374(0x5f0)]['groupSettingUpdate'](_0x35ab20[_0x394374(0x72f)],'announcement'),_0x35ab20[_0x394374(0x3a6)]===!0x1&&await this['client'][_0x394374(0x521)](_0x35ab20[_0x394374(0x72f)],'not_announcement'),_0x35ab20[_0x394374(0x3e6)]===!0x0&&await this['client']['groupMemberAddMode'](_0x35ab20[_0x394374(0x72f)],_0x394374(0x282)),_0x35ab20[_0x394374(0x3e6)]===!0x1&&await this[_0x394374(0x5f0)][_0x394374(0x714)](_0x35ab20[_0x394374(0x72f)],_0x394374(0x3ba)),_0x35ab20[_0x394374(0x2c2)]===!0x0&&await this[_0x394374(0x5f0)][_0x394374(0x4de)](_0x35ab20[_0x394374(0x72f)],'on'),_0x35ab20[_0x394374(0x2c2)]===!0x1&&await this[_0x394374(0x5f0)][_0x394374(0x4de)](_0x35ab20[_0x394374(0x72f)],_0x394374(0x53b)),typeof _0x35ab20[_0x394374(0x5ac)]<'u'&&_0x35ab20['expiration']!==null&&await this[_0x394374(0x5f0)][_0x394374(0x78c)](_0x35ab20['groupJid'],_0x35ab20[_0x394374(0x5ac)]),_0x35ab20[_0x394374(0x7bd)]&&await this['client']['groupUpdateSubject'](_0x35ab20['groupJid'],_0x35ab20[_0x394374(0x7bd)]),_0x35ab20['description']&&await this[_0x394374(0x5f0)][_0x394374(0x2f8)](_0x35ab20[_0x394374(0x72f)],_0x35ab20[_0x394374(0x509)]),_0x35ab20['image']){let _0x4acb86;if((0x0,P[_0x394374(0x6f3)])(_0x35ab20[_0x394374(0x3bc)])){let _0x204c0c=new Date()[_0x394374(0x45a)](),_0x477466=_0x35ab20['image']+'?timestamp='+_0x204c0c;_0x4acb86=(await K['default'][_0x394374(0x253)](_0x477466,{'responseType':_0x394374(0x366)}))[_0x394374(0x69f)];}else{if((0x0,P[_0x394374(0x4fe)])(_0x35ab20[_0x394374(0x3bc)]))_0x4acb86=Buffer[_0x394374(0x727)](_0x35ab20[_0x394374(0x3bc)],_0x394374(0x647));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x394374(0x5f0)]['updateProfilePicture'](_0x35ab20[_0x394374(0x72f)],_0x4acb86);}return await this['findGroup']({'groupJid':_0x35ab20[_0x394374(0x72f)]});}catch(_0x449575){let _0x315397=_0x394374(0x549),_0x491973=_0x449575 instanceof Error?_0x449575[_0x394374(0x7e9)]:typeof _0x449575==_0x394374(0x22a)?JSON[_0x394374(0x6fe)](_0x449575):_0x449575,_0x47a072=_0x315397+':\x20'+_0x491973;throw this[_0x394374(0x598)]['error'](this[_0x394374(0x5a5)]+'\x20('+this[_0x394374(0x4fb)]['wuid']+_0x394374(0x344)+_0x47a072),new I(_0x47a072);}}async['updateGParticipant'](_0x4b60d4){const _0x19f1ad=a0_0x236793;try{if(_0x4b60d4['action']==='approve'||_0x4b60d4[_0x19f1ad(0x54b)]===_0x19f1ad(0x2af)){let _0x4a79d6=_0x4b60d4[_0x19f1ad(0x4ea)]['map'](_0x167345=>this[_0x19f1ad(0x204)](_0x167345));await this[_0x19f1ad(0x5f0)]['groupRequestParticipantsUpdate'](_0x4b60d4[_0x19f1ad(0x72f)],_0x4a79d6,_0x4b60d4[_0x19f1ad(0x54b)]);}else{if(_0x4b60d4[_0x19f1ad(0x54b)]===_0x19f1ad(0x6b3)){let _0x34035b=(await this[_0x19f1ad(0x43b)]({'numbers':_0x4b60d4[_0x19f1ad(0x4ea)]}))[_0x19f1ad(0x504)](_0x12a70d=>_0x12a70d[_0x19f1ad(0x816)])[_0x19f1ad(0x405)](_0x176c25=>this[_0x19f1ad(0x204)](_0x176c25[_0x19f1ad(0x79e)]));if(_0x34035b[_0x19f1ad(0x5a8)]===0x0)throw new m(_0x19f1ad(0x244));await this[_0x19f1ad(0x5f0)][_0x19f1ad(0x421)](_0x4b60d4[_0x19f1ad(0x72f)],_0x34035b,_0x19f1ad(0x6b3));}else{let _0x41732f=_0x4b60d4['participants'][_0x19f1ad(0x405)](_0x1b699a=>this[_0x19f1ad(0x204)](_0x1b699a));await this['client']['groupParticipantsUpdate'](_0x4b60d4[_0x19f1ad(0x72f)],_0x41732f,_0x4b60d4['action']);}}return await this[_0x19f1ad(0x5ff)]({'groupJid':_0x4b60d4[_0x19f1ad(0x72f)]});}catch(_0x525429){let _0x171ec5=_0x19f1ad(0x3c5),_0x183e2f=_0x525429 instanceof Error?_0x525429[_0x19f1ad(0x7e9)]:typeof _0x525429==_0x19f1ad(0x22a)?JSON['stringify'](_0x525429):_0x525429,_0x2126b0=_0x171ec5+':\x20'+_0x183e2f;throw this[_0x19f1ad(0x598)][_0x19f1ad(0x1a3)](this[_0x19f1ad(0x5a5)]+'\x20('+this[_0x19f1ad(0x4fb)]['wuid']+'):\x20'+_0x2126b0),new m(_0x2126b0);}}async[a0_0x236793(0x24a)](_0x4e6986){const _0x966bf6=a0_0x236793;try{return await this['client'][_0x966bf6(0x24a)](_0x4e6986[_0x966bf6(0x524)]);}catch(_0x38fc11){let _0x5529cb='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x5283b7=_0x38fc11 instanceof Error?_0x38fc11[_0x966bf6(0x7e9)]:typeof _0x38fc11=='object'?JSON[_0x966bf6(0x6fe)](_0x38fc11):_0x38fc11,_0x39fd86=_0x5529cb+':\x20'+_0x5283b7;throw this[_0x966bf6(0x598)][_0x966bf6(0x1a3)](this[_0x966bf6(0x5a5)]+'\x20('+this[_0x966bf6(0x4fb)][_0x966bf6(0x7dd)]+_0x966bf6(0x344)+_0x39fd86),new m(_0x39fd86);}}async['findGroup'](_0x4b8479,_0x5ca3b3='out'){const _0x10f638=a0_0x236793;try{let _0x34db01=await this[_0x10f638(0x520)]['chat'][_0x10f638(0x542)]({'where':{'_id':_0x4b8479[_0x10f638(0x72f)]}},this['instance'][_0x10f638(0x7dd)]),_0x59ed14=_0x34db01?_0x34db01[_0x10f638(0x41c)]:null,_0x3dd7f9=0x18*0x3c*0x3c*0x3e8;if(!_0x59ed14||_0x59ed14[_0x10f638(0x441)]&&Date['now']()-_0x59ed14[_0x10f638(0x441)]>_0x3dd7f9){let _0x509957=await this[_0x10f638(0x5f0)][_0x10f638(0x485)](_0x4b8479['groupJid']);if(_0x509957[_0x10f638(0x3c3)]=_0x509957?.[_0x10f638(0x3c3)]&&_0x509957['subjectTime']['toString']()[_0x10f638(0x5a8)]<0xd?_0x509957?.[_0x10f638(0x3c3)]*0x3e8:_0x509957?.[_0x10f638(0x3c3)]||null,_0x509957[_0x10f638(0x29d)]=_0x509957?.['creation']&&_0x509957[_0x10f638(0x29d)][_0x10f638(0x6eb)]()['length']<0xd?_0x509957?.[_0x10f638(0x29d)]*0x3e8:_0x509957?.[_0x10f638(0x29d)]||null,_0x59ed14={..._0x509957,'lastUpdate':Date[_0x10f638(0x1e6)]()},!_0x509957)return;}let _0x4b7bf2=_0x59ed14[_0x10f638(0x4ea)]['some'](_0x444d27=>_0x444d27['id']===this['instance']['wuid']+_0x10f638(0x49b)&&_0x444d27[_0x10f638(0x668)]!=null);!_0x59ed14[_0x10f638(0x524)]&&_0x4b7bf2&&(_0x59ed14[_0x10f638(0x524)]=(await this[_0x10f638(0x524)](_0x4b8479,!0x1))[_0x10f638(0x7d0)]);let _0x352ab2=(!_0x59ed14[_0x10f638(0x3a6)]||_0x4b7bf2)&&(!_0x59ed14[_0x10f638(0x28a)]||_0x59ed14[_0x10f638(0x28a)]&&_0x59ed14[_0x10f638(0x389)]&&_0x4b7bf2);_0x59ed14['isAdmin']=_0x4b7bf2,_0x59ed14['canSendMessage']=_0x352ab2;let _0x2c4dc3=[];if(_0x4b7bf2&&_0x59ed14['joinApprovalMode'])try{_0x2c4dc3=await this[_0x10f638(0x5f0)]['groupRequestParticipantsList'](_0x4b8479[_0x10f638(0x72f)]),_0x59ed14[_0x10f638(0x5aa)]=Date[_0x10f638(0x1e6)]();}catch(_0x4102d0){this[_0x10f638(0x598)][_0x10f638(0x461)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x10f638(0x810)+_0x4b8479[_0x10f638(0x72f)]+':\x20'+(_0x4102d0 instanceof Error?_0x4102d0[_0x10f638(0x7e9)]:JSON[_0x10f638(0x6fe)](_0x4102d0,null,0x2)));}try{_0x59ed14[_0x10f638(0x3bc)]=(await this[_0x10f638(0x771)](_0x4b8479[_0x10f638(0x72f)],null,!0x0))['cachedContact'][_0x10f638(0x86c)];}catch(_0x3820cd){this[_0x10f638(0x598)][_0x10f638(0x461)](this['instanceName']+'\x20('+this['instance'][_0x10f638(0x7dd)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x4b8479[_0x10f638(0x72f)]+':\x20'+(_0x3820cd instanceof Error?_0x3820cd[_0x10f638(0x7e9)]:JSON[_0x10f638(0x6fe)](_0x3820cd,null,0x2)));}let _0x6bb411=_0x59ed14['participants']['map'](_0x102a5e=>_0x102a5e['id']),_0x1de739=_0x2c4dc3[_0x10f638(0x405)](_0x432f4a=>_0x432f4a[_0x10f638(0x79e)]),_0x28a77e=await this[_0x10f638(0x520)][_0x10f638(0x3a3)][_0x10f638(0x1cc)]([..._0x6bb411,..._0x1de739]);_0x59ed14[_0x10f638(0x4ea)]=_0x59ed14[_0x10f638(0x4ea)]['map'](_0x43dde1=>{const _0xe63b73=_0x10f638;let _0x4051bc=_0x28a77e[_0xe63b73(0x75d)](_0x12d1da=>_0x12d1da[_0xe63b73(0x3c4)]===_0x43dde1['id']);return{'id':_0x43dde1['id'],'isAdmin':[_0xe63b73(0x668),_0xe63b73(0x5cb)][_0xe63b73(0x256)](_0x43dde1[_0xe63b73(0x668)]),'admin':_0x43dde1[_0xe63b73(0x668)],'pushName':_0x4051bc?.['name'],'profilePictureUrl':_0x4051bc?.[_0xe63b73(0x86c)]};}),_0x59ed14[_0x10f638(0x64c)]=_0x2c4dc3['map'](_0x3c091c=>{const _0x2bd87f=_0x10f638;let _0x5c7df6=_0x28a77e[_0x2bd87f(0x75d)](_0x240d34=>_0x240d34[_0x2bd87f(0x3c4)]===_0x3c091c['jid']);return{'id':_0x3c091c[_0x2bd87f(0x79e)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x5c7df6?.['name'],'profilePictureUrl':_0x5c7df6?.[_0x2bd87f(0x86c)],'request_method':_0x3c091c[_0x2bd87f(0x42b)],'request_time':_0x3c091c['request_time']};});let _0x21874f=await this[_0x10f638(0x520)]['chat'][_0x10f638(0x1e2)]({'where':{'_id':_0x4b8479[_0x10f638(0x72f)]}},{'imagechat':_0x59ed14['image'],'name':_0x59ed14[_0x10f638(0x1eb)],'lastcache':Date[_0x10f638(0x1e6)](),'groupdata':_0x59ed14},this[_0x10f638(0x4fb)][_0x10f638(0x7dd)]);return J(this['instanceName'],'chats',{'chat':_0x21874f}),{'metadata':_0x59ed14};}catch(_0x4941ac){if(_0x5ca3b3===_0x10f638(0x401))return;throw new U(_0x10f638(0x3c8),_0x4941ac[_0x10f638(0x7e9)][_0x10f638(0x6eb)]());}}async['findGroups'](){const _0x305f4b=a0_0x236793;try{let _0x49d025=[],_0x9e0d55=await this[_0x305f4b(0x5f0)][_0x305f4b(0x20e)](),_0xd0128=Object[_0x305f4b(0x268)](_0x9e0d55),_0x3dc9ac=_0xd0128[_0x305f4b(0x504)](_0x239f15=>(0x0,f[_0x305f4b(0x607)])(_0x239f15?.['id']))[_0x305f4b(0x405)](async _0x5ff2d0=>{const _0x2a9c66=_0x305f4b;try{return await this[_0x2a9c66(0x5f0)][_0x2a9c66(0x872)](_0x5ff2d0['id'],'preview');}catch(_0x2a0d04){return this[_0x2a9c66(0x598)][_0x2a9c66(0x461)](this[_0x2a9c66(0x5a5)]+'\x20('+this[_0x2a9c66(0x4fb)][_0x2a9c66(0x7dd)]+_0x2a9c66(0x27c)+_0x5ff2d0['id']+':\x20'+(_0x2a0d04 instanceof Error?_0x2a0d04[_0x2a9c66(0x7e9)]:JSON[_0x2a9c66(0x6fe)](_0x2a0d04,null,0x2))),null;}}),_0x3e226c=await Promise[_0x305f4b(0x4a7)](_0x3dc9ac);for(let _0x1e423c=0x0;_0x1e423c<_0xd0128[_0x305f4b(0x5a8)];_0x1e423c++){let _0x189b78=_0xd0128[_0x1e423c];(0x0,f[_0x305f4b(0x607)])(_0x189b78?.['id'])&&(_0x49d025[_0x305f4b(0x4a9)]({'groupJid':_0x189b78?.['id'],'subject':_0x189b78?.[_0x305f4b(0x1eb)],'subjectOwner':_0x189b78?.[_0x305f4b(0x1bf)]?.[_0x305f4b(0x6ec)]('@')[0x0],'subjectTime':_0x189b78?.[_0x305f4b(0x3c3)],'creation':_0x189b78?.[_0x305f4b(0x29d)],'size':_0x189b78?.[_0x305f4b(0x4ea)]?.[_0x305f4b(0x5a8)],'owner':_0x189b78?.[_0x305f4b(0x217)]?.[_0x305f4b(0x6ec)]('@')[0x0],'desc':_0x189b78?.['desc'],'restrict':_0x189b78?.[_0x305f4b(0x5b3)],'announce':_0x189b78?.[_0x305f4b(0x3a6)],'image':_0x3e226c[_0x1e423c],'isCommunity':_0x189b78?.[_0x305f4b(0x28a)],'joinApprovalMode':_0x189b78?.[_0x305f4b(0x2c2)],'memberCanAddParticipant':_0x189b78?.[_0x305f4b(0x3e6)],'participants':_0x189b78?.[_0x305f4b(0x4ea)],'descOwner':_0x189b78?.[_0x305f4b(0x88b)],'descId':_0x189b78?.[_0x305f4b(0x462)],'memberAddMode':_0x189b78?.['memberAddMode'],'isCommunityAnnounce':_0x189b78?.[_0x305f4b(0x389)],'ephemeralDuration':_0x189b78?.[_0x305f4b(0x286)]||0x0,'author':_0x189b78?.['author']}),this[_0x305f4b(0x2e0)](_0xd0128[_0x1e423c]));}return _0x49d025;}catch(_0x1f5373){let _0x3991cd=_0x305f4b(0x700),_0x444b34=_0x1f5373 instanceof Error?_0x1f5373['message']:typeof _0x1f5373==_0x305f4b(0x22a)?JSON[_0x305f4b(0x6fe)](_0x1f5373):_0x1f5373,_0x33f3db=_0x3991cd+':\x20'+_0x444b34;throw this[_0x305f4b(0x598)]['error'](this['instanceName']+'\x20('+this[_0x305f4b(0x4fb)]['wuid']+_0x305f4b(0x344)+_0x33f3db),new U(_0x33f3db);}}async['updateChatGroupData'](_0x430af1){const _0x347e77=a0_0x236793;let _0x26927f=await this[_0x347e77(0x520)][_0x347e77(0x3bb)]['findOne']({'where':{'_id':_0x430af1['id']}},this[_0x347e77(0x4fb)][_0x347e77(0x7dd)]);_0x430af1['subjectTime']=_0x430af1?.[_0x347e77(0x3c3)]&&_0x430af1['subjectTime'][_0x347e77(0x6eb)]()[_0x347e77(0x5a8)]<0xd?_0x430af1?.[_0x347e77(0x3c3)]*0x3e8:_0x430af1?.['subjectTime']||null,_0x430af1[_0x347e77(0x29d)]=_0x430af1?.['creation']&&_0x430af1[_0x347e77(0x29d)]['toString']()[_0x347e77(0x5a8)]<0xd?_0x430af1?.[_0x347e77(0x29d)]*0x3e8:_0x430af1?.['creation']||null;let _0x38f675=_0x26927f?.[_0x347e77(0x41c)]?.[_0x347e77(0x64c)]||[],_0x204a02=_0x26927f?.['groupdata']?.[_0x347e77(0x5aa)],_0x3920eb=_0x430af1[_0x347e77(0x4ea)][_0x347e77(0x405)](_0x98f593=>{const _0x51fd79=_0x347e77;let _0x5bf281=_0x26927f?.['groupdata']?.[_0x51fd79(0x4ea)]['find'](_0x26945c=>_0x26945c['id']===_0x98f593['id']);return{..._0x98f593,'isAdmin':[_0x51fd79(0x668),'superadmin']['includes'](_0x98f593['admin']),'admin':_0x98f593['admin'],'name':_0x5bf281?.['name']||_0x98f593[_0x51fd79(0x7bd)],'imgUrl':_0x5bf281?.[_0x51fd79(0x35b)]||_0x98f593[_0x51fd79(0x35b)]};}),_0x5496dc=_0x3920eb['some'](_0x16191f=>_0x16191f['id']===this[_0x347e77(0x4fb)][_0x347e77(0x7dd)]+_0x347e77(0x49b)&&_0x16191f['isAdmin']),_0x38b747=(!_0x430af1[_0x347e77(0x3a6)]||_0x5496dc)&&(!_0x430af1[_0x347e77(0x28a)]||_0x430af1[_0x347e77(0x28a)]&&_0x430af1[_0x347e77(0x389)]&&_0x5496dc),_0x25fefa={..._0x430af1,'participants':_0x3920eb,'awaitingApproval':_0x38f675,'lastFetchAwaitingApproval':_0x204a02,'isAdmin':_0x5496dc,'canSendMessage':_0x38b747,'lastUpdate':Date['now']()};await this[_0x347e77(0x520)][_0x347e77(0x3bb)]['updateOne']({'where':{'_id':_0x430af1['id']}},{'name':_0x430af1[_0x347e77(0x1eb)],'group':!0x0,'groupdata':_0x25fefa,'lastcache':Date[_0x347e77(0x1e6)]()},this[_0x347e77(0x4fb)][_0x347e77(0x7dd)]),J(this[_0x347e77(0x5a5)],_0x347e77(0x2a1),{'chat':_0x430af1});}async[a0_0x236793(0x235)](_0x6573ad){const _0xc846f8=a0_0x236793;let _0x5bbbfe=await this[_0xc846f8(0x520)][_0xc846f8(0x3bb)]['findOne']({'where':{'_id':_0x6573ad['id']}},this[_0xc846f8(0x4fb)]['wuid']);_0x6573ad[_0xc846f8(0x3c3)]=_0x6573ad?.[_0xc846f8(0x3c3)]&&_0x6573ad[_0xc846f8(0x3c3)][_0xc846f8(0x6eb)]()['length']<0xd?_0x6573ad?.[_0xc846f8(0x3c3)]*0x3e8:_0x6573ad?.['subjectTime']||null,_0x6573ad[_0xc846f8(0x29d)]=_0x6573ad?.['creation']&&_0x6573ad[_0xc846f8(0x29d)][_0xc846f8(0x6eb)]()[_0xc846f8(0x5a8)]<0xd?_0x6573ad?.['creation']*0x3e8:_0x6573ad?.[_0xc846f8(0x29d)]||null,_0x6573ad[_0xc846f8(0x524)]&&(_0x6573ad[_0xc846f8(0x524)]=_0xc846f8(0x213)+_0x6573ad['inviteCode']);let _0x2a923e=_0x5bbbfe?.['groupdata']?{..._0x5bbbfe['groupdata']}:{};Object[_0xc846f8(0x75c)](_0x6573ad)[_0xc846f8(0x595)](_0x45e211=>{_0x45e211!=='id'&&(_0x2a923e[_0x45e211]=_0x6573ad[_0x45e211]);});let _0x57717f=_0x2a923e[_0xc846f8(0x4ea)]?.[_0xc846f8(0x88f)](_0x27699a=>_0x27699a['id']===this[_0xc846f8(0x4fb)][_0xc846f8(0x7dd)]+_0xc846f8(0x49b)&&_0x27699a[_0xc846f8(0x49a)])||!0x1;_0x2a923e[_0xc846f8(0x49a)]=_0x57717f;let _0x1f3a30=(!_0x2a923e[_0xc846f8(0x3a6)]||_0x57717f)&&(!_0x2a923e[_0xc846f8(0x28a)]||_0x2a923e[_0xc846f8(0x28a)]&&_0x2a923e[_0xc846f8(0x389)]&&_0x57717f);_0x2a923e[_0xc846f8(0x713)]=_0x1f3a30;let _0x922fbd={'group':!0x0,'groupdata':_0x2a923e};_0x6573ad[_0xc846f8(0x1eb)]&&(_0x922fbd[_0xc846f8(0x7bd)]=_0x6573ad[_0xc846f8(0x1eb)]),await this['repository'][_0xc846f8(0x3bb)][_0xc846f8(0x1e2)]({'where':{'_id':_0x6573ad['id']}},_0x922fbd,this[_0xc846f8(0x4fb)][_0xc846f8(0x7dd)],{'upsert':!0x0}),J(this[_0xc846f8(0x5a5)],_0xc846f8(0x2a1),{'chat':_0x922fbd});}async[a0_0x236793(0x7ae)](_0x525179){const _0x5921e2=a0_0x236793;let _0x2ba1a9=await this[_0x5921e2(0x520)][_0x5921e2(0x3bb)][_0x5921e2(0x542)]({'where':{'_id':_0x525179['id']}},this[_0x5921e2(0x4fb)][_0x5921e2(0x7dd)]);if(!_0x2ba1a9||!_0x2ba1a9[_0x5921e2(0x41c)]){console[_0x5921e2(0x7e7)](_0x5921e2(0x1cd),_0x525179['id']);return;}let _0x339690=await this[_0x5921e2(0x520)][_0x5921e2(0x3a3)][_0x5921e2(0x1cc)](_0x525179['participants']),_0x242889=[..._0x2ba1a9[_0x5921e2(0x41c)]?.[_0x5921e2(0x4ea)]];switch(_0x525179[_0x5921e2(0x54b)]){case _0x5921e2(0x6b3):let _0xb5a0e4=_0x339690[_0x5921e2(0x405)](_0x4f68a0=>({'id':_0x4f68a0[_0x5921e2(0x3c4)],'isAdmin':!0x1,'name':_0x4f68a0[_0x5921e2(0x7bd)],'imgUrl':_0x4f68a0['pictureUrl']}));_0x242889=[..._0x242889,..._0xb5a0e4];break;case _0x5921e2(0x82e):_0x242889=_0x242889[_0x5921e2(0x504)](_0x3f7fc5=>!_0x525179[_0x5921e2(0x4ea)]['includes'](_0x3f7fc5['id']));break;case _0x5921e2(0x4dd):case _0x5921e2(0x242):_0x242889=_0x242889['map'](_0x5cb3bd=>_0x525179['participants'][_0x5921e2(0x256)](_0x5cb3bd['id'])?{..._0x5cb3bd,'isAdmin':_0x525179['action']==='promote'}:_0x5cb3bd);break;}let _0x21456e=_0x242889['length'],_0x3364bb=_0x242889[_0x5921e2(0x88f)](_0x4f881b=>_0x4f881b['id']===this[_0x5921e2(0x4fb)]['wuid']+'@s.whatsapp.net'),_0x105c65=_0x3364bb&&_0x242889[_0x5921e2(0x88f)](_0x49b3ae=>_0x49b3ae['id']===this['instance'][_0x5921e2(0x7dd)]+_0x5921e2(0x49b)&&_0x49b3ae[_0x5921e2(0x49a)]),_0x1db4ec=_0x3364bb&&(!_0x2ba1a9[_0x5921e2(0x41c)][_0x5921e2(0x3a6)]||_0x105c65)&&(!_0x2ba1a9[_0x5921e2(0x41c)][_0x5921e2(0x28a)]||_0x2ba1a9[_0x5921e2(0x41c)]['isCommunity']&&_0x105c65);await this[_0x5921e2(0x520)]['chat'][_0x5921e2(0x1e2)]({'where':{'_id':_0x525179['id']}},{'groupdata':{..._0x2ba1a9[_0x5921e2(0x41c)],'participants':_0x242889,'size':_0x21456e,'isAdmin':_0x105c65,'canSendMessage':_0x1db4ec}},this[_0x5921e2(0x4fb)]['wuid']),console[_0x5921e2(0x7e7)](_0x5921e2(0x51d)+_0x525179['id']+_0x5921e2(0x230)+_0x525179[_0x5921e2(0x54b)]+_0x5921e2(0x1d2)+_0x21456e+',\x20isAdmin:\x20'+_0x105c65+_0x5921e2(0x4c2)+_0x1db4ec);}async[a0_0x236793(0x524)](_0xe02f6f,_0x4ac32c=!0x0){const _0x1f21a3=a0_0x236793;try{let _0x79d2f4=await this[_0x1f21a3(0x5f0)][_0x1f21a3(0x778)](_0xe02f6f['groupJid']),_0x2c814f={'groupdata.inviteCode':_0x1f21a3(0x213)+_0x79d2f4};if(_0x4ac32c){let _0x5a42c1=await this[_0x1f21a3(0x520)][_0x1f21a3(0x3bb)]['updateOne']({'where':{'_id':_0xe02f6f[_0x1f21a3(0x72f)]}},_0x2c814f,this['instance']['wuid']);}return{'inviteUrl':_0x1f21a3(0x213)+_0x79d2f4,'inviteCode':_0x79d2f4};}catch(_0x2f4979){let _0x92d89b='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x237a04=_0x2f4979 instanceof Error?_0x2f4979[_0x1f21a3(0x7e9)]:typeof _0x2f4979=='object'?JSON[_0x1f21a3(0x6fe)](_0x2f4979):_0x2f4979,_0x5b19d4=_0x92d89b+':\x20'+_0x237a04;throw this[_0x1f21a3(0x598)][_0x1f21a3(0x1a3)](this['instanceName']+'\x20('+this[_0x1f21a3(0x4fb)][_0x1f21a3(0x7dd)]+_0x1f21a3(0x344)+_0x5b19d4),new U(_0x5b19d4);}}async[a0_0x236793(0x2e2)](_0x5e319d){const _0x401eca=a0_0x236793;try{let _0x1007ec=await this['client'][_0x401eca(0x1f8)](_0x5e319d[_0x401eca(0x72f)]);return{'revoked':!0x0,'inviteUrl':_0x401eca(0x213)+_0x1007ec,'inviteCode':_0x1007ec};}catch(_0x2313f4){let _0x12c6f7='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x53b60e=_0x2313f4 instanceof Error?_0x2313f4[_0x401eca(0x7e9)]:typeof _0x2313f4=='object'?JSON[_0x401eca(0x6fe)](_0x2313f4):_0x2313f4,_0x3acff6=_0x12c6f7+':\x20'+_0x53b60e;throw this['logger'][_0x401eca(0x1a3)](this[_0x401eca(0x5a5)]+'\x20('+this[_0x401eca(0x4fb)]['wuid']+_0x401eca(0x344)+_0x3acff6),new U(_0x3acff6);}}async['joinGroup'](_0x37fa5a){const _0x2c6f39=a0_0x236793;try{if((0x0,P[_0x2c6f39(0x6f3)])(_0x37fa5a[_0x2c6f39(0x524)]))var _0x42010b=_0x37fa5a['inviteCode'][_0x2c6f39(0x6ec)]('/')[0x3];else var _0x42010b=_0x37fa5a[_0x2c6f39(0x524)];let _0x2d7699=await this[_0x2c6f39(0x5f0)][_0x2c6f39(0x39b)](_0x42010b);return this['logger'][_0x2c6f39(0x461)](this['instanceName']+'\x20('+this[_0x2c6f39(0x4fb)][_0x2c6f39(0x7dd)]+_0x2c6f39(0x344)+_0x2d7699),{'join':!0x0,'inviteCode':_0x42010b,'groupJid':_0x2d7699};}catch(_0x27951c){let _0x21f54f='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x150645=_0x27951c instanceof Error?_0x27951c[_0x2c6f39(0x7e9)]:typeof _0x27951c==_0x2c6f39(0x22a)?JSON['stringify'](_0x27951c):_0x27951c,_0x3c9a08=_0x21f54f+':\x20'+_0x150645;throw this[_0x2c6f39(0x598)][_0x2c6f39(0x1a3)](this['instanceName']+'\x20('+this[_0x2c6f39(0x4fb)]['wuid']+_0x2c6f39(0x344)+_0x3c9a08),new U(_0x3c9a08);}}async[a0_0x236793(0x660)](_0x2e8b45){const _0x1c0e86=a0_0x236793;try{return{'participants':(await this[_0x1c0e86(0x5f0)]['groupMetadata'](_0x2e8b45[_0x1c0e86(0x72f)]))[_0x1c0e86(0x4ea)]};}catch(_0x3f7ec9){let _0x3012a9=_0x1c0e86(0x7f5),_0xdf4159=_0x3f7ec9 instanceof Error?_0x3f7ec9[_0x1c0e86(0x7e9)]:typeof _0x3f7ec9==_0x1c0e86(0x22a)?JSON[_0x1c0e86(0x6fe)](_0x3f7ec9):_0x3f7ec9,_0x5bff6d=_0x3012a9+':\x20'+_0xdf4159;throw this[_0x1c0e86(0x598)][_0x1c0e86(0x1a3)](this['instanceName']+'\x20('+this[_0x1c0e86(0x4fb)][_0x1c0e86(0x7dd)]+_0x1c0e86(0x344)+_0x5bff6d),new U(_0x5bff6d);}}async[a0_0x236793(0x32c)](_0x4ab077){const _0x53d2a7=a0_0x236793;try{return await this[_0x53d2a7(0x5f0)][_0x53d2a7(0x1fb)](_0x4ab077[_0x53d2a7(0x72f)]),{'groupJid':_0x4ab077[_0x53d2a7(0x72f)],'leave':!0x0};}catch(_0x33fb65){let _0x38b0a0=_0x53d2a7(0x32b),_0x44b516=_0x33fb65 instanceof Error?_0x33fb65['message']:typeof _0x33fb65==_0x53d2a7(0x22a)?JSON['stringify'](_0x33fb65):_0x33fb65,_0x3a5c5d=_0x38b0a0+':\x20'+_0x44b516;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x53d2a7(0x7dd)]+'):\x20'+_0x3a5c5d),new m(_0x3a5c5d);}}async[a0_0x236793(0x863)](_0x24e598){const _0x1f755b=a0_0x236793;return await this[_0x1f755b(0x88a)](_0x24e598['number'],{'poll':{'name':_0x24e598[_0x1f755b(0x863)]?.[_0x1f755b(0x7bd)],'selectableCount':_0x24e598[_0x1f755b(0x863)]['selectableCount'],'values':_0x24e598[_0x1f755b(0x863)][_0x1f755b(0x268)]}},_0x24e598?.[_0x1f755b(0x6c7)]);}async[a0_0x236793(0x3d9)](_0x579649){const _0x2e5e96=a0_0x236793;return await this[_0x2e5e96(0x88a)](_0x579649[_0x2e5e96(0x488)],{'listMessage':{'title':_0x579649[_0x2e5e96(0x3d9)][_0x2e5e96(0x4eb)],'description':_0x579649[_0x2e5e96(0x3d9)][_0x2e5e96(0x509)],'buttonText':_0x579649[_0x2e5e96(0x3d9)]?.['buttonText'],'footerText':_0x579649['listMessage']?.[_0x2e5e96(0x391)],'sections':_0x579649['listMessage'][_0x2e5e96(0x4f5)],'listType':0x2}},_0x579649?.[_0x2e5e96(0x6c7)]);}async['menuMessage'](_0xded51c){const _0x3e156c=a0_0x236793;let _0x3412dc;if(_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x787)]===_0x3e156c(0x71d)){let _0xb14159=_0xded51c['menuMessage'][_0x3e156c(0x4a3)][_0x3e156c(0x2a4)]('\x0a'),_0x150357='',_0x1d4c98='';_0xb14159!==-0x1?(_0x150357=_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x4a3)][_0x3e156c(0x420)](0x0,_0xb14159)[_0x3e156c(0x76e)](),_0x1d4c98=_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x4a3)][_0x3e156c(0x420)](_0xb14159+0x1)):_0x1d4c98=_0xded51c['menuMessage'][_0x3e156c(0x4a3)];let _0x33dc76=_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x7be)][_0x3e156c(0x504)](_0xbd88f2=>_0xbd88f2[_0x3e156c(0x76e)]()!==''),_0x42b5d3=this['createSectionsFromValues'](_0x33dc76);_0x3412dc={'listMessage':{'title':_0x150357,'description':_0x1d4c98,'buttonText':_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x1b8)]||'Selecione','footerText':_0xded51c['menuMessage'][_0x3e156c(0x391)],'sections':_0x42b5d3,'listType':0x2}};}else{if(_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x787)]===_0x3e156c(0x7c4)){let _0x1c1352=_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x7be)][_0x3e156c(0x504)](_0x149634=>!(_0x149634[_0x3e156c(0x66d)]('[')&&_0x149634['endsWith'](']'))&&_0x149634[_0x3e156c(0x76e)]()!=='')[_0x3e156c(0x405)](_0x34fac6=>_0x34fac6['split']('\x0a')[0x0]);_0x3412dc={'poll':{'name':_0xded51c['menuMessage'][_0x3e156c(0x4a3)],'selectableCount':_0xded51c[_0x3e156c(0x7fd)][_0x3e156c(0x1e4)]||0x1,'values':_0x1c1352}};}}return await this['sendMessageWithTyping'](_0xded51c[_0x3e156c(0x488)],_0x3412dc,_0xded51c?.[_0x3e156c(0x6c7)]);}[a0_0x236793(0x876)](_0x31e8bf){const _0x130d09=a0_0x236793;let _0x106800=[],_0x330399={'rows':[]};return _0x31e8bf[_0x130d09(0x595)](_0x353849=>{const _0x1a3e7b=_0x130d09;if(_0x353849['startsWith']('[')&&_0x353849[_0x1a3e7b(0x724)](']'))_0x330399[_0x1a3e7b(0x2f7)][_0x1a3e7b(0x5a8)]>0x0&&_0x106800['push'](_0x330399),_0x330399={'title':_0x353849[_0x1a3e7b(0x271)](0x1,-0x1),'rows':[]};else{let _0x53d404=_0x353849[_0x1a3e7b(0x6ec)]('\x0a')['map'](_0x12e981=>_0x12e981[_0x1a3e7b(0x76e)]()),_0x5ac024=_0x53d404[0x0],_0xa892f3=_0x53d404[0x1]||null,_0x32739c=_0x53d404[0x2]||_0x5ac024;_0x330399[_0x1a3e7b(0x2f7)]['push']({'title':_0x5ac024,'description':_0xa892f3,'rowId':_0x32739c});}}),_0x330399[_0x130d09(0x2f7)]['length']>0x0&&_0x106800[_0x130d09(0x4a9)](_0x330399),_0x106800;}async[a0_0x236793(0x251)](_0x107d7a,_0x72800f){const _0x188be9=a0_0x236793;if(await this[_0x188be9(0x5b7)](_0x107d7a,!0x0)){let _0x236201={'where':{'_id':_0x107d7a['id']}},_0x378876={'status':[_0x72800f[_0x188be9(0x464)]][0x0]};try{let _0x481278=await this[_0x188be9(0x520)]['message']['update'](_0x236201,_0x378876,this[_0x188be9(0x4fb)]['wuid']);_0x481278&&J(this[_0x188be9(0x5a5)],_0x188be9(0x487),{'message':_0x481278});}catch{}}}[a0_0x236793(0x23a)](_0x49a5f0){const _0x3983dd=a0_0x236793;let _0x4df7e6=[];return _0x49a5f0['forEach'](_0x1d065a=>{const _0x42e75d=a0_0x57a5;_0x1d065a[_0x42e75d(0x4eb)]&&_0x4df7e6[_0x42e75d(0x4a9)]('['+_0x1d065a[_0x42e75d(0x4eb)]+']'),_0x1d065a[_0x42e75d(0x2f7)][_0x42e75d(0x595)](_0x1d19bc=>{const _0x3cc99c=_0x42e75d;_0x4df7e6[_0x3cc99c(0x4a9)](_0x1d19bc[_0x3cc99c(0x4eb)]);});}),_0x4df7e6[_0x3983dd(0x279)]('|');}[a0_0x236793(0x741)](_0x3e7bad){const _0x721e08=a0_0x236793;let _0xfe2ec2=_0x3e7bad['replace'](/\\n/g,'\x0a')[_0x721e08(0x6ec)]('\x0a')[_0x721e08(0x504)](_0x148738=>_0x148738['includes'](_0x721e08(0x6af))||_0x148738[_0x721e08(0x256)](_0x721e08(0x4c3))),_0x59c61e='';return _0xfe2ec2[_0x721e08(0x595)](_0x447672=>{const _0x36edb2=_0x721e08;let _0x56c3b8=/TEL(?:.*):(.+)/,_0x2c9571=/EMAIL(?:.*):(.+)/,_0xffe33d=_0x447672[_0x36edb2(0x71f)](_0x56c3b8),_0x8398b=_0x447672[_0x36edb2(0x71f)](_0x2c9571);if(_0xffe33d){let _0xe1c54e=_0xffe33d[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x36edb2(0x76e)]();_0x59c61e+=_0x36edb2(0x320)+_0xe1c54e+'\x0a';}else{if(_0x8398b){let _0xaa0d41=_0x8398b[0x1][_0x36edb2(0x76e)]();_0x59c61e+=_0x36edb2(0x3cf)+_0xaa0d41+'\x0a';}}}),_0x59c61e[_0x721e08(0x76e)]();}async[a0_0x236793(0x539)](_0x5a8a60,_0x1a524c,_0x42c701,_0x2ec714=null){const _0x650728=a0_0x236793;if(!_0x5a8a60['ENABLED'])return;let _0x523a17=_0x1a524c[_0x650728(0x533)][_0x650728(0x2f9)][_0x650728(0x517)](/:\d{1,2}@/g,'@'),_0x213850=_0x1a524c['key'][_0x650728(0x644)],_0x1b05da=_0x523a17['endsWith']('@g.us'),_0x419e68=_0x1a524c[_0x650728(0x7a0)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x3dd469=_0x1a524c[_0x650728(0x25f)]?.[_0x650728(0x4a3)]||_0x1a524c[_0x650728(0x25f)]?.[_0x650728(0x7fa)]||_0x1a524c[_0x650728(0x25f)]?.[_0x650728(0x6e9)]||_0x1a524c[_0x650728(0x25f)]?.[_0x650728(0x7bd)],_0x4eaba1={'_id':_0x1a524c[_0x650728(0x3c4)],'remoteJid':_0x213850?this[_0x650728(0x4fb)][_0x650728(0x7dd)]:_0x1b05da?_0x419e68:_0x523a17,'pushName':_0x213850?this[_0x650728(0x4fb)][_0x650728(0x792)]||'Eu':_0x1a524c[_0x650728(0x5e3)],'text':_0x3dd469,'type':_0x1a524c[_0x650728(0x796)],'when':_0x1a524c['messageTimestamp']||Date['now']()};_0x2ec714||(_0x2ec714=await this[_0x650728(0x520)][_0x650728(0x3bb)][_0x650728(0x542)]({'where':{'_id':_0x523a17}},this['instance'][_0x650728(0x7dd)]));let _0x20c950=_0x2ec714?_0x213850?_0x2ec714[_0x650728(0x481)]:(_0x2ec714[_0x650728(0x481)]||0x0)+0x1:_0x213850?0x0:0x1,_0x1c35ab={'lastmsg':_0x1a524c[_0x650728(0x23b)]||Date[_0x650728(0x1e6)](),'ephemeralExpiration':_0x1a524c['expiration'],'lastMessage':_0x4eaba1,'unreadcount':_0x20c950,..._0x213850||_0x1b05da?{}:{'name':_0x1a524c['pushName']},..._0x1b05da?{'group':_0x1b05da}:{},...!_0x213850&&!_0x1b05da&&_0x1a524c['profilePictureUrl']?{'imagechat':_0x1a524c[_0x650728(0x872)]}:{}};if(!_0x1b05da&&(!_0x2ec714?.[_0x650728(0x64f)]||!_0x2ec714[_0x650728(0x64f)][_0x650728(0x337)])&&_0x1a524c['pushName']&&!_0x213850&&(_0x1c35ab={..._0x1c35ab,'leadInfo.nome':_0x1a524c['pushName']}),_0x2ec714?.[_0x650728(0x64f)]['etiquetas']||(_0x1c35ab={..._0x1c35ab,'leadInfo.etiquetas':[]}),_0x2ec714?.[_0x650728(0x64f)][_0x650728(0x249)]||(_0x1c35ab={..._0x1c35ab,'leadInfo.customFields':[]}),_0x2ec714?.['leadInfo']['tags']||(_0x1c35ab={..._0x1c35ab,'leadInfo.tags':[]}),_0x2ec714&&_0x2ec714?.[_0x650728(0x4cd)]){let _0x2e5c2e=await this['repository']['label'][_0x650728(0x75d)]({'where':{}},this['instance']['wuid']),_0x1de7f4=new Set(_0x2e5c2e[_0x650728(0x405)](_0x3f41ec=>_0x3f41ec['_id'])),_0x92ebfb=(_0x2ec714[_0x650728(0x64f)]?.[_0x650728(0x5d1)]||[])[_0x650728(0x504)](_0x32c54d=>_0x1de7f4[_0x650728(0x51e)](_0x32c54d));_0x1c35ab={..._0x1c35ab,'imported':!0x1,'leadInfo.etiquetas':_0x92ebfb};for(let _0x5c5c12 of _0x92ebfb)await this[_0x650728(0x739)](_0x5c5c12,_0x523a17);}if(_0x42c701===_0x650728(0x43e)&&_0x213850&&this[_0x650728(0x6d8)]?.['flowConfig'][_0x650728(0x209)]&&!_0x3dd469[_0x650728(0x66d)](this['AutomateSystem']?.[_0x650728(0x862)][_0x650728(0x75f)])){let _0x1fe547=(this['AutomateSystem']?.[_0x650728(0x862)][_0x650728(0x59c)]||0x5)*0xea60,_0x37b338=Date[_0x650728(0x1e6)]()+_0x1fe547;_0x2ec714?.['leadInfo']?.[_0x650728(0x794)]===0x0||(_0x1c35ab={..._0x1c35ab,'leadInfo.desativadoFluxoAte':_0x37b338},this[_0x650728(0x598)][_0x650728(0x461)](this[_0x650728(0x5a5)]+'\x20('+this['instance'][_0x650728(0x7dd)]+_0x650728(0x47a)+_0x37b338+'.'));}if(console[_0x650728(0x7e7)](_0x1c35ab),_0x2ec714=await this[_0x650728(0x520)][_0x650728(0x3bb)][_0x650728(0x1e2)]({'where':{'_id':_0x523a17}},_0x1c35ab,this[_0x650728(0x4fb)][_0x650728(0x7dd)],{'new':!0x0,'upsert':!0x0}),_0x2ec714)J(this[_0x650728(0x5a5)],'chats',{'chat':_0x2ec714});else{this[_0x650728(0x598)][_0x650728(0x1a3)](this[_0x650728(0x5a5)]+'\x20('+this[_0x650728(0x4fb)][_0x650728(0x7dd)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this['AutomateSystem']?.['flowConfig']['enabled'])return this['logger']['verbose'](this[_0x650728(0x5a5)]+'\x20('+this[_0x650728(0x4fb)]['wuid']+_0x650728(0x33a)),null;if(_0x2ec714[_0x650728(0x3c4)][_0x650728(0x256)](_0x650728(0x333))&&this[_0x650728(0x6d8)]?.[_0x650728(0x862)][_0x650728(0x343)]===!0x0)return this[_0x650728(0x598)][_0x650728(0x461)](this[_0x650728(0x5a5)]+'\x20('+this[_0x650728(0x4fb)][_0x650728(0x7dd)]+_0x650728(0x7cf)),null;if(_0x2ec714[_0x650728(0x64f)]){if(_0x2ec714['leadInfo'][_0x650728(0x794)]===0x0||_0x2ec714['leadInfo'][_0x650728(0x4b5)])return this[_0x650728(0x598)][_0x650728(0x461)](this[_0x650728(0x5a5)]+'\x20('+this[_0x650728(0x4fb)][_0x650728(0x7dd)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x523a17+_0x650728(0x52b)),null;if(_0x2ec714[_0x650728(0x64f)][_0x650728(0x794)]>Date[_0x650728(0x1e6)]()&&!_0x1a524c[_0x650728(0x25f)]?.[_0x650728(0x6e9)])return this[_0x650728(0x598)][_0x650728(0x461)](this[_0x650728(0x5a5)]+'\x20('+this[_0x650728(0x4fb)][_0x650728(0x7dd)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x2ec714[_0x650728(0x64f)][_0x650728(0x794)])[_0x650728(0x47c)]()+',\x20saindo.'),null;}this[_0x650728(0x598)][_0x650728(0x461)](this[_0x650728(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x650728(0x846)](_0x42c701,_0x1a524c);}async['upsertChats'](_0x514652,_0xd9c19e){const _0x5173af=a0_0x236793;if(_0xd9c19e['ENABLED']){let _0x17489a=_0x514652['map'](async _0x476e5f=>{const _0x10b6f7=a0_0x57a5;try{let _0x4fb83a={'_id':_0x476e5f[_0x10b6f7(0x3c4)],'owner':_0x476e5f[_0x10b6f7(0x217)],'lastcache':0x0};if(Object[_0x10b6f7(0x75c)](_0x476e5f)[_0x10b6f7(0x595)](_0x2025ec=>{_0x476e5f[_0x2025ec]!==null&&(_0x4fb83a[_0x2025ec]=_0x476e5f[_0x2025ec]);}),_0x4fb83a['imagechat']===null&&(_0x4fb83a[_0x10b6f7(0x4a6)]=_0x10b6f7(0x2bf)),Object[_0x10b6f7(0x75c)](_0x4fb83a)[_0x10b6f7(0x5a8)]>0x0)return await this[_0x10b6f7(0x520)][_0x10b6f7(0x3bb)][_0x10b6f7(0x1e2)]({'where':{'_id':_0x476e5f[_0x10b6f7(0x3c4)]}},_0x4fb83a,this[_0x10b6f7(0x4fb)][_0x10b6f7(0x7dd)]);}catch(_0x535809){let _0x9d958=_0x10b6f7(0x618)+_0x476e5f['_id'],_0x262c7a=_0x535809 instanceof Error?_0x535809[_0x10b6f7(0x7e9)]:typeof _0x535809==_0x10b6f7(0x22a)?JSON['stringify'](_0x535809):_0x535809,_0x47166f=_0x9d958+':\x20'+_0x262c7a;return this[_0x10b6f7(0x598)]['error'](this[_0x10b6f7(0x5a5)]+'\x20('+this[_0x10b6f7(0x4fb)]['wuid']+_0x10b6f7(0x344)+_0x47166f),null;}}),_0x48dee3=(await Promise[_0x5173af(0x4a7)](_0x17489a))[_0x5173af(0x504)](_0x9fe892=>_0x9fe892!==null)['length'];this['logger']['verbose'](this[_0x5173af(0x5a5)]+'\x20('+this[_0x5173af(0x4fb)][_0x5173af(0x7dd)]+_0x5173af(0x344)+_0x48dee3+_0x5173af(0x53f)+this[_0x5173af(0x4fb)][_0x5173af(0x7dd)]+_0x5173af(0x570));}}async['readMessageBot'](_0x45cefe){const _0x54965e=a0_0x236793;this[_0x54965e(0x598)][_0x54965e(0x461)](this[_0x54965e(0x5a5)]+'\x20('+this[_0x54965e(0x4fb)][_0x54965e(0x7dd)]+'):\x20Ler\x20mensagem');let _0x2591e8={'readMessages':[{'remoteJid':_0x45cefe['chatLog'][_0x54965e(0x86f)][_0x54965e(0x533)][_0x54965e(0x2f9)],'fromMe':_0x45cefe[_0x54965e(0x498)][_0x54965e(0x86f)]['key']['fromMe'],'id':_0x45cefe[_0x54965e(0x498)][_0x54965e(0x86f)][_0x54965e(0x533)]['id']}]};await this['markMessageAsRead'](_0x2591e8);}async[a0_0x236793(0x846)](_0x27843c,_0xc2fcbd){const _0x30104f=a0_0x236793;try{let {key:_0x49bf54,message_normalized:_0x38609a}=_0xc2fcbd,_0x4b8f08=_0x38609a,_0x1b3e04=_0x38609a[_0x30104f(0x4a3)]||_0x38609a['caption']||_0x38609a[_0x30104f(0x6e9)]||_0x38609a[_0x30104f(0x7bd)],_0x5d9ab5=_0x49bf54[_0x30104f(0x2f9)],_0x10efae;if(_0x4b8f08[_0x30104f(0x533)]['fromMe']&&_0x1b3e04[_0x30104f(0x76e)]()!==this['AutomateSystem']?.[_0x30104f(0x862)][_0x30104f(0x669)][_0x30104f(0x76e)]())return this[_0x30104f(0x598)][_0x30104f(0x461)](this[_0x30104f(0x5a5)]+'\x20('+this[_0x30104f(0x4fb)][_0x30104f(0x7dd)]+_0x30104f(0x350)),null;if(_0x4b8f08[_0x30104f(0x533)][_0x30104f(0x644)]&&_0x1b3e04['trim']()===this[_0x30104f(0x6d8)]?.[_0x30104f(0x862)]['stopConversation'][_0x30104f(0x76e)]()){this[_0x30104f(0x598)][_0x30104f(0x461)](this[_0x30104f(0x5a5)]+'\x20('+this[_0x30104f(0x4fb)][_0x30104f(0x7dd)]+_0x30104f(0x712));let _0xa1fc8=await this['repository']['flowConversation'][_0x30104f(0x75d)]({'remoteJid':_0x5d9ab5,'status':_0x30104f(0x664)},this['instance']['wuid']);this[_0x30104f(0x598)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x30104f(0x529)+_0xa1fc8);let _0x2b3782=Date[_0x30104f(0x1e6)](),_0xc57ed;return this['AutomateSystem']?.[_0x30104f(0x862)]['stopMinutes']===0x0?_0xc57ed={'stoppedUntil':_0x2b3782+0x7591f6200}:_0xc57ed={'stoppedUntil':_0x2b3782+this[_0x30104f(0x6d8)]?.[_0x30104f(0x862)][_0x30104f(0x3d3)]*0x3c*0x3e8},this[_0x30104f(0x598)][_0x30104f(0x461)](this[_0x30104f(0x5a5)]+'\x20('+this[_0x30104f(0x4fb)][_0x30104f(0x7dd)]+_0x30104f(0x444)+_0xc57ed),this[_0x30104f(0x76b)](_0x10efae,_0xc57ed['stoppedUntil']),null;}if(_0x1b3e04&&_0x1b3e04[_0x30104f(0x66d)](this[_0x30104f(0x6d8)]?.[_0x30104f(0x862)]['prefixCommand'])&&_0x1b3e04[_0x30104f(0x5a8)]>0x4){let _0xac3c64=await this['repository'][_0x30104f(0x671)][_0x30104f(0x542)]({'where':{'startCommandWord':_0x1b3e04}},this[_0x30104f(0x4fb)][_0x30104f(0x7dd)]);if(this[_0x30104f(0x598)][_0x30104f(0x461)](this[_0x30104f(0x5a5)]+'\x20('+this[_0x30104f(0x4fb)][_0x30104f(0x7dd)]+_0x30104f(0x632)),_0xac3c64)_0x10efae=await this[_0x30104f(0x356)](_0xac3c64,_0x4b8f08[_0x30104f(0x533)],_0x4b8f08);else return this[_0x30104f(0x598)][_0x30104f(0x461)](this[_0x30104f(0x5a5)]+'\x20('+this['instance'][_0x30104f(0x7dd)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x10efae=await this['findConversation'](_0x5d9ab5,_0x4b8f08);if(_0x10efae){this['logger'][_0x30104f(0x461)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x30104f(0x5be)),!_0x49bf54[_0x30104f(0x644)]&&_0x10efae['readMessages']&&this['readMessageBot'](_0x10efae);let _0x41ff03=await this[_0x30104f(0x27f)](_0x10efae);_0x41ff03&&await this[_0x30104f(0x2a0)](_0x10efae,_0x41ff03);}}catch(_0x28b32c){this['logger']['error'](this[_0x30104f(0x5a5)]+'\x20('+this[_0x30104f(0x4fb)][_0x30104f(0x7dd)]+_0x30104f(0x263)+(_0x28b32c instanceof Error?_0x28b32c['message']:JSON[_0x30104f(0x6fe)](_0x28b32c,null,0x2)));}}[a0_0x236793(0x1fc)](_0x54da46,_0x871759='',_0x3eb488={}){const _0x9df3af=a0_0x236793;return typeof _0x54da46!=_0x9df3af(0x22a)||_0x54da46===null?(_0x871759&&(_0x3eb488[_0x871759]=_0x54da46),_0x3eb488):(Object[_0x9df3af(0x6fc)](_0x54da46)['forEach'](([_0xf8363,_0x19b542])=>{const _0x14915c=_0x9df3af;let _0x53de9e=_0x871759?_0x871759+'.'+_0xf8363:'_'+_0xf8363;Array[_0x14915c(0x603)](_0x19b542)?_0x19b542[_0x14915c(0x595)]((_0x29775e,_0x5f547e)=>{this['flattenObject'](_0x29775e,_0x53de9e+'['+_0x5f547e+']',_0x3eb488);}):typeof _0x19b542==_0x14915c(0x22a)&&_0x19b542!==null?this[_0x14915c(0x1fc)](_0x19b542,_0x53de9e,_0x3eb488):_0x3eb488[_0x53de9e]=String(_0x19b542);}),console['log'](_0x9df3af(0x535),_0x3eb488),_0x3eb488);}[a0_0x236793(0x6f0)](_0x78ea8e){const _0x6bbdf2=a0_0x236793;let _0x494766={};for(let _0x29aa54 of _0x78ea8e)typeof _0x29aa54[_0x6bbdf2(0x7bd)]=='string'&&typeof _0x29aa54['value']=='string'&&(_0x494766[_0x29aa54[_0x6bbdf2(0x7bd)]]=_0x29aa54['value']);return _0x494766;}async[a0_0x236793(0x27f)](_0x1d4653){const _0x1b6266=a0_0x236793;if(!this[_0x1b6266(0x6d8)]?.[_0x1b6266(0x862)][_0x1b6266(0x209)]||_0x1d4653[_0x1b6266(0x464)]!==_0x1b6266(0x664)&&_0x1d4653[_0x1b6266(0x5a1)]==='')return null;let _0x557c5c=_0x1d4653['chatLog']['lastBlockId']||_0x1b6266(0x5ad);typeof _0x1d4653['chatLog'][_0x1b6266(0x34c)]>'u'&&(_0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x34c)]=!0x0);let _0xb935ae=_0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x34c)];this['logger'][_0x1b6266(0x461)](this[_0x1b6266(0x5a5)]+'\x20('+this[_0x1b6266(0x4fb)]['wuid']+_0x1b6266(0x394)+_0x557c5c+_0x1b6266(0x747)+_0xb935ae);let _0x4137d=_0x557c5c===_0x1b6266(0x5ad)?_0x1d4653[_0x1b6266(0x301)][_0x1b6266(0x75d)](_0x5919bc=>_0x5919bc[_0x1b6266(0x787)]==='start'):_0x1d4653[_0x1b6266(0x301)][_0x1b6266(0x75d)](_0x5f4626=>_0x5f4626['_id'][_0x1b6266(0x6eb)]()===_0x557c5c['toString']());if(!_0x4137d)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x1b6266(0x4fb)][_0x1b6266(0x7dd)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x557c5c),null;let _0x5d6804={'_pushName':_0x1d4653['chatLog'][_0x1b6266(0x86f)][_0x1b6266(0x5e3)],..._0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x248)]},_0x32917b=null;if(_0x1d4653[_0x1b6266(0x5a1)]){let _0x194561=_0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x86f)][_0x1b6266(0x6e9)],_0x252e51=_0x1d4653[_0x1b6266(0x781)]['find'](_0x5d8f42=>_0x5d8f42[_0x1b6266(0x830)]===_0x194561);if(_0x252e51){let _0x2a046e=_0x252e51[_0x1b6266(0x370)];if(_0x32917b=_0x1d4653['blocks']['find'](_0x3f9e81=>_0x3f9e81[_0x1b6266(0x3cd)]===_0x2a046e&&_0x3f9e81[_0x1b6266(0x831)]===0x1),_0x4137d[_0x1b6266(0x471)][_0x1b6266(0x83d)]){let _0x3c61b9={'id':_0x1d4653[_0x1b6266(0x5a1)],'remoteJid':_0x1d4653[_0x1b6266(0x2f9)],'fromMe':!0x0};await this[_0x1b6266(0x878)](_0x3c61b9);}if(_0x4137d[_0x1b6266(0x471)]['pollOnReplyDelete']&&_0x4137d['uazapi']['pollMessageOnDelete']&&_0x4137d[_0x1b6266(0x471)][_0x1b6266(0x5c1)]===_0x1b6266(0x7c4)){let _0xf2886b={'number':_0x1d4653[_0x1b6266(0x2f9)],'options':{'delay':0x0},'textMessage':{'text':_0x1b6266(0x583)+_0x1d4653['waitingMenu_text']+_0x1b6266(0x3e9)+_0x194561}};await this[_0x1b6266(0x289)](_0xf2886b);}_0x1d4653['status']=_0x1b6266(0x664),_0x1d4653[_0x1b6266(0x5a1)]='',_0x1d4653[_0x1b6266(0x41b)]='',_0x1d4653['waitingMenu_replyOptions']=[];}else{this[_0x1b6266(0x598)][_0x1b6266(0x461)](this[_0x1b6266(0x5a5)]+'\x20('+this['instance'][_0x1b6266(0x7dd)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x4ad0b7={'activatedCount':_0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x3a4)][_0x1b6266(0x504)](_0x54ed50=>String(_0x54ed50[_0x1b6266(0x46f)])===String(_0x557c5c))[_0x1b6266(0x5a8)],'moreLogs':[_0x1b6266(0x49d)]};if(_0x4137d[_0x1b6266(0x471)][_0x1b6266(0x7c2)]){let _0x3f83f0={'number':_0x1d4653[_0x1b6266(0x2f9)],'options':{'delay':0x0},'textMessage':{'text':_0x4137d[_0x1b6266(0x471)][_0x1b6266(0x7c2)]}};await this['textMessage'](_0x3f83f0);}if(_0x4137d[_0x1b6266(0x4e1)]!==void 0x0&&_0x4ad0b7[_0x1b6266(0x25e)]>=_0x4137d[_0x1b6266(0x4e1)]){let _0x48db81=Date[_0x1b6266(0x1e6)](),_0x273d48=_0x4137d[_0x1b6266(0x466)]??0xa;isNaN(_0x273d48)&&(_0x273d48=0xa);let _0x5c5b9d=_0x48db81+_0x273d48*0x3c*0x3e8;_0x4ad0b7[_0x1b6266(0x46e)]=_0x5c5b9d,_0x4ad0b7[_0x1b6266(0x4b2)][_0x1b6266(0x4a9)](_0x1b6266(0x28b)),this[_0x1b6266(0x76b)](_0x1d4653,_0x5c5b9d),_0x1d4653[_0x1b6266(0x5a1)]='',_0x1d4653[_0x1b6266(0x41b)]='',_0x1d4653['waitingMenu_replyOptions']=[];}return this[_0x1b6266(0x543)](_0x1d4653,_0x4137d,_0x4ad0b7,!0x0),null;}}if(_0xb935ae&&_0x4137d[_0x1b6266(0x370)]&&!_0x1d4653[_0x1b6266(0x5a1)]){let _0x1865f6=_0x1d4653['blocks'][_0x1b6266(0x504)](_0x5be6d8=>_0x5be6d8[_0x1b6266(0x3cd)][_0x1b6266(0x6eb)]()===_0x4137d[_0x1b6266(0x370)][_0x1b6266(0x6eb)]())['sort']((_0x1e300c,_0x4225d6)=>_0x1e300c[_0x1b6266(0x831)]-_0x4225d6[_0x1b6266(0x831)]);_0x1865f6[_0x1b6266(0x5a8)]>0x0&&(_0x32917b=_0x1865f6[0x0]);}if(!_0x32917b){let _0x370e22=_0x4137d[_0x1b6266(0x3cd)],_0xb77287=_0x1d4653[_0x1b6266(0x301)][_0x1b6266(0x504)](_0x3442c9=>_0x3442c9[_0x1b6266(0x3cd)]===_0x370e22&&_0x3442c9[_0x1b6266(0x831)]>_0x4137d[_0x1b6266(0x831)])[_0x1b6266(0x69a)]((_0xc0484d,_0x4fb22a)=>_0xc0484d[_0x1b6266(0x831)]-_0x4fb22a[_0x1b6266(0x831)]);_0xb77287['length']>0x0&&(_0x32917b=_0xb77287[0x0]);}if(!_0x32917b)return _0x1d4653[_0x1b6266(0x464)]='closed',null;_0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x248)]=_0x5d6804;let _0x169bc3=JSON[_0x1b6266(0x36f)](JSON[_0x1b6266(0x6fe)](_0x32917b));return this[_0x1b6266(0x3b7)](_0x169bc3,_0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x248)]),_0x1d4653[_0x1b6266(0x498)][_0x1b6266(0x53e)]=_0x169bc3[_0x1b6266(0x3c4)],_0x1d4653['chatLog'][_0x1b6266(0x34c)]=!0x0,_0x169bc3;}[a0_0x236793(0x82d)](_0x1781ea,_0x577de0){const _0x2e33e6=a0_0x236793;return _0x1781ea[_0x2e33e6(0x517)](/\{\{([^}]+)\}\}/g,(_0x4288be,_0x33123f)=>_0x577de0[_0x33123f]||'');}['replaceVariablesInObject'](_0x8f4441,_0x1f8809){const _0x106640=a0_0x236793;for(let _0x1f9a49 in _0x8f4441)typeof _0x8f4441[_0x1f9a49]==_0x106640(0x4ca)?_0x8f4441[_0x1f9a49]=this[_0x106640(0x82d)](_0x8f4441[_0x1f9a49],_0x1f8809):typeof _0x8f4441[_0x1f9a49]==_0x106640(0x22a)&&this[_0x106640(0x3b7)](_0x8f4441[_0x1f9a49],_0x1f8809);}async[a0_0x236793(0x427)](_0x3747f5,_0x1ea0a3){const _0x32ce6a=a0_0x236793;let _0x1c7734=_0x1ea0a3[_0x32ce6a(0x3c4)];if(_0x3747f5[_0x32ce6a(0x498)]&&_0x3747f5['chatLog'][_0x32ce6a(0x3a4)]){let _0x3ede92=_0x3747f5[_0x32ce6a(0x498)][_0x32ce6a(0x3a4)]['filter'](_0x26b3f1=>String(_0x26b3f1[_0x32ce6a(0x46f)])===String(_0x1c7734))[_0x32ce6a(0x87d)]();if(_0x3ede92&&_0x3ede92[_0x32ce6a(0x1a3)]&&_0x1ea0a3[_0x32ce6a(0x205)])return _0x3747f5['status']=_0x32ce6a(0x507),await this[_0x32ce6a(0x80f)](_0x3747f5),null;}if(_0x1ea0a3[_0x32ce6a(0x787)]==='uazapi'&&_0x1ea0a3[_0x32ce6a(0x471)][_0x32ce6a(0x3bd)]===_0x32ce6a(0x28e)&&_0x3747f5['waitingMenu_id'])return _0x3747f5[_0x32ce6a(0x498)][_0x32ce6a(0x53e)]=_0x1c7734,await this[_0x32ce6a(0x80f)](_0x3747f5),null;let _0xac174f=await this[_0x32ce6a(0x27f)](_0x3747f5);if(_0x3747f5[_0x32ce6a(0x498)]&&_0x3747f5[_0x32ce6a(0x498)]['blockLogs']){let _0x575599=_0x3747f5[_0x32ce6a(0x498)][_0x32ce6a(0x3a4)][_0x32ce6a(0x504)](_0x3ea52b=>String(_0x3ea52b[_0x32ce6a(0x46f)])===String(_0x1c7734))['length'];if(_0x1ea0a3[_0x32ce6a(0x4e1)]!==void 0x0&&_0x575599>=_0x1ea0a3[_0x32ce6a(0x4e1)]){let _0x435ac4=Date[_0x32ce6a(0x1e6)](),_0x22d00c=_0x1ea0a3[_0x32ce6a(0x466)]??0xa;isNaN(_0x22d00c)&&(_0x22d00c=0xa);let _0x2a3577=_0x435ac4+_0x22d00c*0x3c*0x3e8,_0x110be2={'newStoppedUntil':_0x2a3577};return this['updateStopChat'](_0x3747f5,_0x2a3577),this['updateConversation'](_0x3747f5,_0x1ea0a3,_0x110be2,!0x0),null;}}_0xac174f&&_0xac174f[_0x32ce6a(0x787)]!==_0x32ce6a(0x71e)&&await this[_0x32ce6a(0x2a0)](_0x3747f5,_0xac174f),_0xac174f||await this['saveConversationToDatabase'](_0x3747f5),_0xac174f&&_0xac174f['type']==='save'&&(_0x3747f5[_0x32ce6a(0x498)][_0x32ce6a(0x53e)]=_0x1c7734,await this[_0x32ce6a(0x80f)](_0x3747f5));}async[a0_0x236793(0x2a0)](_0x3edca7,_0x21f305){const _0x5afa1a=a0_0x236793;try{let _0x25ff9f=_0x21f305['type'];this[_0x5afa1a(0x598)]['verbose'](this[_0x5afa1a(0x5a5)]+'\x20('+this['instance'][_0x5afa1a(0x7dd)]+'):\x20Going\x20to\x20'+_0x25ff9f);let _0x3265c1={'uazapi':()=>this[_0x5afa1a(0x5a3)](_0x3edca7,_0x21f305),'save':()=>this[_0x5afa1a(0x445)](_0x3edca7,_0x21f305),'stop':()=>this[_0x5afa1a(0x669)](_0x3edca7,_0x21f305),'condition':()=>this[_0x5afa1a(0x2bb)](_0x3edca7,_0x21f305),'varedit':()=>this['processvaredits'](_0x3edca7,_0x21f305),'apirequest':()=>this[_0x5afa1a(0x425)](_0x3edca7,_0x21f305),'goToFlow':()=>this['processgoToFlow'](_0x3edca7,_0x21f305),'awaitSeconds':()=>this[_0x5afa1a(0x457)](_0x3edca7,_0x21f305),'clearVariables':()=>this[_0x5afa1a(0x62b)](_0x3edca7,_0x21f305)}[_0x25ff9f];_0x3265c1&&await _0x3265c1();}catch(_0x5ab1a2){this[_0x5afa1a(0x598)][_0x5afa1a(0x1a3)](this[_0x5afa1a(0x5a5)]+'\x20('+this[_0x5afa1a(0x4fb)]['wuid']+_0x5afa1a(0x68c)+(_0x5ab1a2 instanceof Error?_0x5ab1a2['message']:JSON[_0x5afa1a(0x6fe)](_0x5ab1a2,null,0x2)));}}async[a0_0x236793(0x457)](_0x485623,_0x528aa8){const _0x3dfb3d=a0_0x236793;if(this[_0x3dfb3d(0x598)][_0x3dfb3d(0x461)](this['instanceName']+'\x20('+this[_0x3dfb3d(0x4fb)][_0x3dfb3d(0x7dd)]+_0x3dfb3d(0x7c7)),!_0x485623||!_0x528aa8)return this[_0x3dfb3d(0x598)][_0x3dfb3d(0x1a3)](this['instanceName']+'\x20('+this[_0x3dfb3d(0x4fb)][_0x3dfb3d(0x7dd)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0xd86a41=+_0x528aa8[_0x3dfb3d(0x21b)];isNaN(_0xd86a41)&&(_0xd86a41=0x0),_0xd86a41=Math[_0x3dfb3d(0x652)](_0xd86a41,0x3c),await(0x0,f[_0x3dfb3d(0x55f)])(_0xd86a41*0x3e8);let _0x4745aa={'moreLogs':[_0x3dfb3d(0x2ee)+_0xd86a41+_0x3dfb3d(0x3a1)]};return await this[_0x3dfb3d(0x543)](_0x485623,_0x528aa8,_0x4745aa),_0xd86a41;}async[a0_0x236793(0x62b)](_0x4b787c,_0x53cc3e){const _0x440ac4=a0_0x236793;if(this['logger'][_0x440ac4(0x461)](this[_0x440ac4(0x5a5)]+'\x20('+this['instance']['wuid']+_0x440ac4(0x1b3)),!_0x4b787c||!_0x53cc3e)return this[_0x440ac4(0x598)][_0x440ac4(0x1a3)](this['instanceName']+'\x20('+this['instance'][_0x440ac4(0x7dd)]+_0x440ac4(0x2b3)),null;let _0x145956=[];if(_0x53cc3e['clearVariables']['trim']()===_0x440ac4(0x5e2)){let _0x40a21a=[_0x440ac4(0x5a9),_0x440ac4(0x870),'_activedCount',_0x440ac4(0x680),_0x440ac4(0x3c4),_0x440ac4(0x404)];_0x145956=Object['keys'](_0x4b787c['chatLog'][_0x440ac4(0x248)])[_0x440ac4(0x504)](_0x5122f0=>_0x5122f0['startsWith']('_')&&!_0x40a21a['includes'](_0x5122f0));}else _0x145956=_0x53cc3e[_0x440ac4(0x717)][_0x440ac4(0x6ec)]('|')['map'](_0x13b374=>(_0x13b374=_0x13b374[_0x440ac4(0x517)](/[{}]/g,'')[_0x440ac4(0x76e)](),_0x13b374['startsWith']('_')?_0x13b374:'_'+_0x13b374));let _0x3f79db=[];_0x145956[_0x440ac4(0x595)](_0x5cab16=>{const _0x4861e3=_0x440ac4;_0x5cab16 in _0x4b787c['chatLog'][_0x4861e3(0x248)]&&(delete _0x4b787c[_0x4861e3(0x498)]['realVariables'][_0x5cab16],_0x3f79db['push'](_0x5cab16));}),_0x3f79db[_0x440ac4(0x5a8)]>0x0?this[_0x440ac4(0x598)][_0x440ac4(0x461)](this[_0x440ac4(0x5a5)]+'\x20('+this[_0x440ac4(0x4fb)][_0x440ac4(0x7dd)]+_0x440ac4(0x4e7)+_0x3f79db['join'](',\x20')):this[_0x440ac4(0x598)][_0x440ac4(0x461)](this[_0x440ac4(0x5a5)]+'\x20('+this['instance'][_0x440ac4(0x7dd)]+_0x440ac4(0x29c));let _0x2e8678={'moreLogs':[_0x440ac4(0x1b1)+_0x3f79db[_0x440ac4(0x279)](',\x20')]};return await this[_0x440ac4(0x543)](_0x4b787c,_0x53cc3e,_0x2e8678),null;}async[a0_0x236793(0x5f8)](_0xe4512a,_0x59702f){const _0x188f61=a0_0x236793;if(this['logger'][_0x188f61(0x461)](this[_0x188f61(0x5a5)]+'\x20('+this['instance'][_0x188f61(0x7dd)]+_0x188f61(0x7f7)),!_0xe4512a||!_0x59702f)return this[_0x188f61(0x598)]['error'](this[_0x188f61(0x5a5)]+'\x20('+this[_0x188f61(0x4fb)][_0x188f61(0x7dd)]+_0x188f61(0x2b3)),null;await this['updateConversation'](_0xe4512a,_0x59702f,{},!0x0,!0x0),console[_0x188f61(0x7e7)]('nextBlock:'),console['log'](_0x59702f);let _0x35aa57=_0x59702f[_0x188f61(0x31c)];console[_0x188f61(0x7e7)](_0x188f61(0x24e),_0x35aa57),_0xe4512a=await this['createConversationforgoToFlow'](_0x35aa57,_0xe4512a[_0x188f61(0x2f9)],_0xe4512a['chatLog']['realVariables']),this[_0x188f61(0x598)][_0x188f61(0x461)](this[_0x188f61(0x5a5)]+'\x20('+this[_0x188f61(0x4fb)][_0x188f61(0x7dd)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x462af3=await this[_0x188f61(0x27f)](_0xe4512a);_0x462af3&&await this[_0x188f61(0x2a0)](_0xe4512a,_0x462af3);}async['createConversationforgoToFlow'](_0x31f529,_0x3edfd4,_0xdb9781){const _0x2c0056=a0_0x236793;this[_0x2c0056(0x598)][_0x2c0056(0x461)](this['instanceName']+'\x20('+this[_0x2c0056(0x4fb)][_0x2c0056(0x7dd)]+_0x2c0056(0x291));try{if(_0x31f529=await this[_0x2c0056(0x520)][_0x2c0056(0x671)][_0x2c0056(0x542)]({'where':{'name':_0x31f529}},this[_0x2c0056(0x4fb)][_0x2c0056(0x7dd)]),!_0x31f529)return this['logger'][_0x2c0056(0x1a3)](this[_0x2c0056(0x5a5)]+'\x20('+this[_0x2c0056(0x4fb)][_0x2c0056(0x7dd)]+_0x2c0056(0x201)),null;let _0x3a7b44=require(_0x2c0056(0x74b))[_0x2c0056(0x231)],_0x4741fa=Date[_0x2c0056(0x1e6)](),_0x25fbb3=_0x2c0056(0x5ad),_0x315a8c={},_0x359498={},_0x141a0d={..._0x31f529,'chatLog':null},_0x16a097={'lastReceivedMessage':_0x315a8c,'lastSendMessage':_0x359498,'lastBlockId':_0x25fbb3,'lastCondition':!0x0,'realVariables':_0xdb9781};_0x141a0d[_0x2c0056(0x498)]=_0x16a097,_0x141a0d[_0x2c0056(0x498)][_0x2c0056(0x248)]={..._0xdb9781},delete _0x141a0d[_0x2c0056(0x3c4)],_0x141a0d['_id']=new _0x3a7b44(),_0x141a0d['lastInteraction']=_0x4741fa,_0x141a0d[_0x2c0056(0x464)]=_0x2c0056(0x664),_0x141a0d[_0x2c0056(0x2f9)]=_0x3edfd4;let _0x115d52=await this[_0x2c0056(0x520)]['flowConversation'][_0x2c0056(0x1e2)](_0x141a0d['_id'],_0x141a0d,this[_0x2c0056(0x4fb)]['wuid']);return this[_0x2c0056(0x598)]['verbose'](this[_0x2c0056(0x5a5)]+'\x20('+this[_0x2c0056(0x4fb)][_0x2c0056(0x7dd)]+_0x2c0056(0x81c)),_0x115d52?_0x141a0d:null;}catch(_0x4b52d2){let _0x4b8c58=_0x2c0056(0x2b4),_0x599dfa=_0x4b52d2 instanceof Error?_0x4b52d2[_0x2c0056(0x7e9)]:typeof _0x4b52d2==_0x2c0056(0x22a)?JSON[_0x2c0056(0x6fe)](_0x4b52d2):_0x4b52d2,_0x286656=_0x4b8c58+':\x20'+_0x599dfa;throw this[_0x2c0056(0x598)]['error'](this['instanceName']+'\x20('+this[_0x2c0056(0x4fb)]['wuid']+'):\x20'+_0x286656),new m(_0x286656);}}async[a0_0x236793(0x425)](_0x4009f7,_0x2ed979){const _0x903988=a0_0x236793;let _0x560eeb,_0x1990d0;try{let _0x3cb557=_0x2ed979[_0x903988(0x587)];if(!_0x3cb557||!_0x3cb557[_0x903988(0x855)]||!_0x3cb557['method'])throw new Error(_0x903988(0x1fd));let _0x36cd4f;([_0x903988(0x3d2),_0x903988(0x50a),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x903988(0x88f)](_0x53b811=>_0x3cb557[_0x903988(0x855)][_0x903988(0x256)](_0x53b811))||_0x3cb557[_0x903988(0x6f8)])&&(_0x36cd4f=_0x903988(0x366));let _0x897ac3='\u205f',_0x605f9b;try{_0x605f9b=JSON[_0x903988(0x36f)](_0x3cb557[_0x903988(0x3fb)][_0x903988(0x517)](new RegExp(_0x897ac3,'g'),''));}catch(_0x464522){throw _0x464522;}let _0x27a957={'method':_0x3cb557[_0x903988(0x3a2)],'url':_0x3cb557[_0x903988(0x855)],'headers':_0x3cb557[_0x903988(0x4ec)]||{},..._0x3cb557[_0x903988(0x3a2)][_0x903988(0x5d7)]()!=='GET'&&_0x3cb557[_0x903988(0x3fb)]?{'data':JSON['parse'](_0x3cb557[_0x903988(0x3fb)][_0x903988(0x517)](new RegExp(_0x897ac3,'g'),''))}:{},..._0x36cd4f&&{'responseType':_0x36cd4f}},_0x241776=await(0x0,K[_0x903988(0x4d1)])(_0x27a957),_0x446c1a=_0x241776[_0x903988(0x5ca)][_0x903988(0x247)];if(_0x446c1a&&_0x446c1a['includes']('application/json')||typeof _0x241776[_0x903988(0x69f)]==_0x903988(0x4ca)){if(typeof _0x241776['data']==_0x903988(0x4ca)){let _0x465290=_0x241776[_0x903988(0x69f)][_0x903988(0x517)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x903988(0x76e)]();try{_0x560eeb=JSON['parse'](_0x465290);}catch(_0x1ac487){console['error'](_0x903988(0x7c8)+_0x1ac487[_0x903988(0x7e9)]),_0x560eeb={'_apiResponse':_0x241776[_0x903988(0x69f)]};}}else _0x560eeb=_0x241776[_0x903988(0x69f)];let _0x49b347=_0x4009f7[_0x903988(0x498)]['realVariables'],_0x14af0c=this['flattenObject'](_0x560eeb);return Object[_0x903988(0x887)](_0x49b347,_0x14af0c),_0x4009f7['chatLog']['realVariables']=_0x49b347,_0x1990d0={'error':!0x1,'apiResponse':_0x560eeb},this['updateConversation'](_0x4009f7,_0x2ed979,_0x1990d0),_0x560eeb;}if(_0x446c1a&&(_0x446c1a[_0x903988(0x256)](_0x903988(0x6f9))||_0x446c1a[_0x903988(0x256)](_0x903988(0x3bc))||_0x446c1a['includes'](_0x903988(0x4f3))||_0x446c1a['includes'](_0x903988(0x6b2)))){this[_0x903988(0x598)][_0x903988(0x461)](this[_0x903988(0x5a5)]+'\x20('+this[_0x903988(0x4fb)][_0x903988(0x7dd)]+_0x903988(0x2dd)+_0x446c1a);let _0x5a6ab4=(0x0,jt['v4'])(),_0x5bb259='',_0x5d515b={'image/jpeg':_0x903988(0x4d0),'image/png':_0x903988(0x7df),'image/gif':'.gif','image/webp':_0x903988(0x709),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':_0x903988(0x5ec),'audio/wav':_0x903988(0x725),'video/mp4':_0x903988(0x2cf),'video/webm':_0x903988(0x4b8),'video/ogg':'.ogv','text/plain':_0x903988(0x261),'application/pdf':'.pdf','application/msword':_0x903988(0x277),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x903988(0x85a),'application/vnd.ms-excel':_0x903988(0x87e),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x903988(0x4d6),'application/vnd.ms-powerpoint':_0x903988(0x1e8),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x5d515b[_0x446c1a]?(_0x5bb259=_0x5d515b[_0x446c1a],this[_0x903988(0x598)][_0x903988(0x461)](this[_0x903988(0x5a5)]+'\x20('+this['instance'][_0x903988(0x7dd)]+_0x903988(0x61e)+_0x5bb259)):(_0x5bb259='.error',this[_0x903988(0x598)][_0x903988(0x461)](this[_0x903988(0x5a5)]+'\x20('+this[_0x903988(0x4fb)][_0x903988(0x7dd)]+_0x903988(0x7d1)+_0x5bb259)),_0x5a6ab4+=_0x5bb259,this[_0x903988(0x598)][_0x903988(0x461)](this[_0x903988(0x5a5)]+'\x20('+this['instance'][_0x903988(0x7dd)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x5a6ab4);let _0xade2fc=this[_0x903988(0x558)][_0x903988(0x253)](_0x903988(0x6ab))[_0x903988(0x38f)];if(!_0xade2fc){let _0x357217=this[_0x903988(0x558)]['get'](_0x903988(0x63a));_0xade2fc='https://'+(_0x357217&&_0x357217['FULLCHAIN'][_0x903988(0x6ec)]('/')[0x4]);}let _0x4d1e31=Buffer['from'](_0x241776[_0x903988(0x69f)]);await this['saveMediaToFile'](_0x4d1e31,_0x5a6ab4);let _0x17f5c9='/media/'+_0x5a6ab4;_0x17f5c9=''+_0xade2fc+_0x17f5c9,_0x560eeb={'fileUrl':_0x17f5c9},_0x4009f7[_0x903988(0x498)][_0x903988(0x248)][_0x903988(0x4b4)]=_0x17f5c9;let _0x47effb=_0x4009f7[_0x903988(0x498)][_0x903988(0x248)],_0x5e9c19=this[_0x903988(0x1fc)](_0x560eeb);return Object['assign'](_0x47effb,_0x5e9c19),_0x4009f7[_0x903988(0x498)]['realVariables']=_0x47effb,_0x1990d0={'error':!0x1,'apiResponse':{'fileUrl':_0x17f5c9}},this[_0x903988(0x543)](_0x4009f7,_0x2ed979,_0x1990d0),_0x560eeb;}}catch(_0x227517){console[_0x903988(0x1a3)](_0x903988(0x78f),_0x227517[_0x903988(0x7e9)]),_0x227517[_0x903988(0x56a)]&&(_0x560eeb=_0x227517[_0x903988(0x56a)][_0x903988(0x69f)]);let _0x35907a=_0x4009f7[_0x903988(0x498)][_0x903988(0x248)],_0x3a09bf=this[_0x903988(0x1fc)](_0x560eeb);return Object[_0x903988(0x887)](_0x35907a,_0x3a09bf),_0x4009f7[_0x903988(0x498)][_0x903988(0x248)]=_0x35907a,_0x1990d0={'error':!0x0,'errorLog':_0x227517[_0x903988(0x6eb)](),'apiResponse':_0x560eeb},this[_0x903988(0x543)](_0x4009f7,_0x2ed979,_0x1990d0),{'success':!0x1};}}[a0_0x236793(0x2cb)](_0x346e2d,_0x3423ed){const _0x22452c=a0_0x236793;let _0x141ed7=_0x95bf96=>{const _0x2f7ddc=a0_0x57a5;let _0x31c963=_0x95bf96['replace'](/[^0-9.,-]/g,'')[_0x2f7ddc(0x517)](',','.'),_0x1a66e0=parseFloat(_0x31c963);return isNaN(_0x1a66e0)?null:_0x1a66e0;},_0x4fc574=_0x3423ed[_0x22452c(0x399)],_0x3949ba=_0x3423ed[_0x22452c(0x541)];typeof _0x4fc574=='string'&&(_0x4fc574=this[_0x22452c(0x82d)](_0x4fc574,_0x346e2d['chatLog'][_0x22452c(0x248)])??''),typeof _0x3949ba==_0x22452c(0x4ca)&&(_0x3949ba=this['replaceVariables'](_0x3949ba,_0x346e2d[_0x22452c(0x498)]['realVariables'])??'');let _0x156dd1=null;if(!_0x3423ed[_0x22452c(0x491)])return null;switch(this[_0x22452c(0x598)]['verbose'](this[_0x22452c(0x5a5)]+'\x20('+this[_0x22452c(0x4fb)]['wuid']+_0x22452c(0x77c)+_0x4fc574),this[_0x22452c(0x598)][_0x22452c(0x461)](this[_0x22452c(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x3949ba),_0x3423ed[_0x22452c(0x491)]){case'+':case'-':case'*':case'/':let _0x3b1346=_0x141ed7(_0x4fc574||'0'),_0xe3041d=_0x141ed7(_0x3949ba||'0');if(_0x3b1346===null)return null;switch(_0x3423ed[_0x22452c(0x491)]){case'+':_0x156dd1=_0x3b1346+(_0xe3041d??0x0);break;case'-':_0x156dd1=_0x3b1346-(_0xe3041d??0x0);break;case'*':_0x156dd1=_0x3b1346*(_0xe3041d??0x1);break;case'/':_0xe3041d!==0x0&&(_0x156dd1=_0x3b1346/(_0xe3041d??0x1));break;}break;case _0x22452c(0x658):case'findAndReplaceRegex':let _0x2f3a15=_0x3949ba,_0x4ca919=_0x3423ed['replaceValue'];if(typeof _0x4ca919==_0x22452c(0x4ca)&&(_0x4ca919=this[_0x22452c(0x82d)](_0x4ca919,_0x346e2d[_0x22452c(0x498)][_0x22452c(0x248)])??''),_0x2f3a15&&_0x4ca919!==void 0x0){let _0x49ef43=_0x3423ed[_0x22452c(0x491)]==='findAndReplace'?new RegExp(_0x2f3a15[_0x22452c(0x517)](/[-\/\\^$*+?.()|[\]{}]/g,_0x22452c(0x812)),'g'):new RegExp(_0x2f3a15,'g');_0x156dd1=_0x4fc574[_0x22452c(0x517)](_0x49ef43,_0x4ca919);}else console[_0x22452c(0x435)](_0x22452c(0x1dc));break;case _0x22452c(0x463):_0x156dd1=_0x3949ba;break;case _0x22452c(0x243):let _0x1fb038=_0x4fc574[_0x22452c(0x71f)](new RegExp(_0x3949ba||''));_0x156dd1=_0x1fb038?_0x1fb038[0x0]:'';break;case _0x22452c(0x40b):_0x156dd1=_0x4fc574[_0x22452c(0x271)](0x0,parseInt(_0x3949ba||'0'));break;case _0x22452c(0x574):let _0x4a469e=parseInt(_0x3949ba||'0');_0x156dd1=_0x4fc574[_0x22452c(0x271)](_0x4fc574['length']-_0x4a469e);break;case _0x22452c(0x850):let _0x1013f2=_0x141ed7(_0x4fc574),_0x5b76de=parseInt(_0x3949ba||'0');_0x5b76de=Math[_0x22452c(0x452)](_0x5b76de),_0x1013f2!==null?_0x156dd1=_0x1013f2[_0x22452c(0x47c)]('pt-BR',{'minimumFractionDigits':_0x5b76de,'maximumFractionDigits':_0x5b76de}):(console['warn'](_0x22452c(0x329)+_0x4fc574),_0x156dd1=null);break;case _0x22452c(0x3b4):let _0x45ffcc=_0x141ed7(_0x4fc574);_0x45ffcc!==null?_0x156dd1=_0x45ffcc['toLocaleString'](_0x22452c(0x6b0),{'style':_0x22452c(0x556),'currency':'BRL'}):(console['warn'](_0x22452c(0x37a)+_0x4fc574),_0x156dd1=null);break;case _0x22452c(0x34d):_0x156dd1=_0x4fc574[_0x22452c(0x5d7)]();break;case'lowerCase':_0x156dd1=_0x4fc574['toLowerCase']();break;case _0x22452c(0x84d):_0x156dd1=_0x4fc574['split']('\x20')['map'](_0x40e701=>_0x40e701[_0x22452c(0x666)](0x0)['toUpperCase']()+_0x40e701[_0x22452c(0x271)](0x1)[_0x22452c(0x4d4)]())[_0x22452c(0x279)]('\x20');break;case'trimmed':_0x156dd1=_0x4fc574[_0x22452c(0x76e)]();break;default:_0x156dd1=_0x4fc574;}return _0x156dd1!==null?_0x156dd1[_0x22452c(0x6eb)]():null;}async[a0_0x236793(0x5f7)](_0x4a8e56,_0x13965d){const _0x494015=a0_0x236793;try{let _0x25ff30=_0x4a8e56[_0x494015(0x765)]?.[_0x494015(0x504)](_0x506c02=>_0x506c02[_0x494015(0x46f)]===_0x13965d['_id']?.['toString']())||[],_0x403094=_0x13965d[_0x494015(0x4b3)],_0x4a43eb=null,_0x339a64=[],_0x1f8fa5=_0x4a8e56[_0x494015(0x498)][_0x494015(0x248)][_0x403094];_0x339a64[_0x494015(0x4a9)](_0x494015(0x342)+_0x1f8fa5+'\x22');for(let _0x48636c of _0x25ff30){_0x48636c[_0x494015(0x399)]=_0x1f8fa5,_0x4a43eb=_0x48636c['firstValue'];let _0xa039ce;try{_0xa039ce=this['applyvaredit'](_0x4a8e56,_0x48636c);}catch(_0x224f1e){console[_0x494015(0x1a3)](_0x494015(0x6a4)+_0x224f1e[_0x494015(0x7e9)]);continue;}if(_0xa039ce!==null){let _0x4e57be=_0x494015(0x42c)+_0x48636c[_0x494015(0x491)]+'\x22',_0x39846e=[_0x494015(0x3b4),_0x494015(0x34d),'lowerCase',_0x494015(0x84d),_0x494015(0x62d)];_0x48636c['editOperator']==='findAndReplace'||_0x48636c[_0x494015(0x491)]===_0x494015(0x75e)?_0x4e57be+=_0x494015(0x746)+_0x48636c['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x48636c[_0x494015(0x594)]+'\x22':!_0x39846e[_0x494015(0x256)](_0x48636c[_0x494015(0x491)])&&_0x48636c[_0x494015(0x541)]!==null&&_0x48636c['secondValue']!==void 0x0&&(_0x4e57be+=_0x494015(0x548)+_0x48636c[_0x494015(0x541)]+'\x22'),_0x4e57be+=_0x494015(0x454)+_0xa039ce+'.',_0x339a64[_0x494015(0x4a9)](_0x4e57be);}_0xa039ce!==null&&(_0x1f8fa5=_0xa039ce);}if(_0x4a8e56['chatLog'][_0x494015(0x248)]&&_0x13965d[_0x494015(0x4b3)]){_0x4a8e56[_0x494015(0x498)][_0x494015(0x248)][_0x13965d[_0x494015(0x4b3)]]=_0x1f8fa5;let _0x10b7b5={'variable':_0x13965d['saveVariable'],'oldValue':_0x4a43eb,'newValue':_0x1f8fa5,'moreLogs':_0x339a64};try{this[_0x494015(0x543)](_0x4a8e56,_0x13965d,_0x10b7b5);}catch(_0x48c317){console['error'](_0x494015(0x672)+_0x48c317['message']);}}return _0x403094;}catch(_0x287db5){return console[_0x494015(0x1a3)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x287db5[_0x494015(0x7e9)]),null;}}async['processConditions'](_0x176d8a,_0x1b8c66){const _0x169aee=a0_0x236793;try{let _0x5563cf=[],_0x29b9fd=_0x176d8a[_0x169aee(0x5e5)][_0x169aee(0x504)](_0x31f0f3=>_0x31f0f3['blockId']===_0x1b8c66[_0x169aee(0x3c4)]['toString']()),_0x164c95=null,_0x238cf9=!0x1;for(let _0x2f47c2 of _0x29b9fd){let _0x50c9a2=this[_0x169aee(0x719)](_0x176d8a,_0x2f47c2);_0x5563cf['push'](_0x169aee(0x439)+_0x2f47c2[_0x169aee(0x399)]+_0x169aee(0x703)+_0x2f47c2['expression']+',\x20Segundo\x20Valor:\x20'+_0x2f47c2[_0x169aee(0x541)]+_0x169aee(0x402)+_0x50c9a2),_0x164c95===null?_0x164c95=_0x50c9a2:_0x2f47c2['OrAnd']===_0x169aee(0x44c)?(_0x164c95=_0x164c95&&_0x50c9a2,_0x50c9a2||(_0x238cf9=!0x0)):_0x2f47c2[_0x169aee(0x23f)]==='or'&&(_0x238cf9||(_0x164c95=_0x164c95||_0x50c9a2));}_0x164c95===null&&(_0x164c95=!0x0);let _0x452c03={'moreLogs':_0x5563cf};_0x176d8a['chatLog'][_0x169aee(0x34c)]=_0x164c95,await this[_0x169aee(0x543)](_0x176d8a,_0x1b8c66,_0x452c03);}catch(_0x3d1e05){this[_0x169aee(0x598)][_0x169aee(0x1a3)](this[_0x169aee(0x5a5)]+'\x20('+this[_0x169aee(0x4fb)][_0x169aee(0x7dd)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x3d1e05 instanceof Error?_0x3d1e05[_0x169aee(0x7e9)]:JSON[_0x169aee(0x6fe)](_0x3d1e05,null,0x2)));}}[a0_0x236793(0x719)](_0x16aa82,_0x4e483f){const _0x5db87f=a0_0x236793;let _0x1c846d=_0x4e483f['firstValue'],_0x1e7e7c=_0x4e483f[_0x5db87f(0x541)];typeof _0x1c846d==_0x5db87f(0x4ca)&&(_0x1c846d=this[_0x5db87f(0x82d)](_0x1c846d,_0x16aa82['chatLog'][_0x5db87f(0x248)])??''),typeof _0x1e7e7c==_0x5db87f(0x4ca)&&(_0x1e7e7c=this[_0x5db87f(0x82d)](_0x1e7e7c,_0x16aa82[_0x5db87f(0x498)][_0x5db87f(0x248)])??'');try{switch(_0x4e483f['expression']){case _0x5db87f(0x44b):return _0x1c846d===_0x1e7e7c;case _0x5db87f(0x2a7):return _0x1c846d!==_0x1e7e7c;case _0x5db87f(0x751):return this['contains'](_0x1c846d,_0x1e7e7c);case'notContains':return!this[_0x5db87f(0x751)](_0x1c846d,_0x1e7e7c);case _0x5db87f(0x419):return parseFloat(_0x1c846d)>parseFloat(_0x1e7e7c);case _0x5db87f(0x26a):return parseFloat(_0x1c846d)<parseFloat(_0x1e7e7c);case _0x5db87f(0x381):return _0x1c846d!=='';case _0x5db87f(0x21f):return _0x1c846d==='';case'matchRegex':return new RegExp(_0x1e7e7c)[_0x5db87f(0x1bd)](_0x1c846d);case _0x5db87f(0x707):return!new RegExp(_0x1e7e7c)[_0x5db87f(0x1bd)](_0x1c846d);default:return!0x1;}}catch(_0xbcb3a9){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xbcb3a9),!0x1;}}[a0_0x236793(0x751)](_0x39ad7d,_0x1e2704){const _0x4b9fa2=a0_0x236793;if(_0x39ad7d===_0x1e2704&&/^\d+$/[_0x4b9fa2(0x1bd)](_0x39ad7d))return!0x0;if(this[_0x4b9fa2(0x6b1)](_0x39ad7d)&&/^\d+$/['test'](_0x1e2704)){let _0x31bf49=_0x39ad7d[_0x4b9fa2(0x6ec)](',')[_0x4b9fa2(0x405)](_0x5c48aa=>parseInt(_0x5c48aa[_0x4b9fa2(0x76e)]())),_0x966e2b=parseInt(_0x1e2704);return _0x31bf49[_0x4b9fa2(0x256)](_0x966e2b);}return _0x39ad7d[_0x4b9fa2(0x256)](_0x1e2704);}[a0_0x236793(0x6b1)](_0x2f1563){return/^\d+(,\d+)*$/['test'](_0x2f1563);}[a0_0x236793(0x1a6)](_0x3931ae){const _0x36bea5=a0_0x236793;let _0xacbbc5=!0x0,_0x48e9e6=null;for(let _0xc5476b of _0x3931ae){let _0x228f61=this['evaluateConditionTest'](_0xc5476b);if(_0x48e9e6==='or'&&_0x228f61){_0xacbbc5=!0x0;break;}if(_0x48e9e6===_0x36bea5(0x44c)&&!_0x228f61){_0xacbbc5=!0x1;break;}_0x48e9e6=_0xc5476b[_0x36bea5(0x23f)];}return _0xacbbc5;}[a0_0x236793(0x575)](_0x1deb8a){const _0x224004=a0_0x236793;let _0x43312b=_0x1deb8a[_0x224004(0x399)],_0x4cec04=_0x1deb8a['secondValue'];try{switch(_0x1deb8a[_0x224004(0x5bc)]){case _0x224004(0x44b):return String(_0x43312b)===String(_0x4cec04);case _0x224004(0x2a7):return String(_0x43312b)!==String(_0x4cec04);case _0x224004(0x751):return String(_0x43312b)[_0x224004(0x256)](String(_0x4cec04));case'notContains':return!String(_0x43312b)['includes'](String(_0x4cec04));case _0x224004(0x419):return parseFloat(String(_0x43312b))>parseFloat(String(_0x4cec04));case _0x224004(0x26a):return parseFloat(String(_0x43312b))<parseFloat(String(_0x4cec04));case _0x224004(0x381):return String(_0x43312b)!=='';case _0x224004(0x21f):return String(_0x43312b)==='';case _0x224004(0x302):return new RegExp(String(_0x4cec04))[_0x224004(0x1bd)](String(_0x43312b));case _0x224004(0x707):return!new RegExp(String(_0x4cec04))[_0x224004(0x1bd)](String(_0x43312b));default:return!0x1;}}catch(_0x1f6064){return console[_0x224004(0x1a3)](_0x224004(0x80e)+_0x1f6064),!0x1;}}async['saveTextReply'](_0x4514dd,_0xac12df){const _0x6ed067=a0_0x236793;if(this[_0x6ed067(0x598)][_0x6ed067(0x461)](this[_0x6ed067(0x5a5)]+'\x20('+this[_0x6ed067(0x4fb)][_0x6ed067(0x7dd)]+_0x6ed067(0x1b2)),!_0x4514dd||!_0xac12df)return this[_0x6ed067(0x598)][_0x6ed067(0x1a3)](this['instanceName']+'\x20('+this[_0x6ed067(0x4fb)][_0x6ed067(0x7dd)]+_0x6ed067(0x2b3)),null;let _0x547a49=_0x4514dd[_0x6ed067(0x498)][_0x6ed067(0x86f)][_0x6ed067(0x533)]['id'];this[_0x6ed067(0x598)]['verbose'](this[_0x6ed067(0x5a5)]+'\x20('+this[_0x6ed067(0x4fb)][_0x6ed067(0x7dd)]+_0x6ed067(0x38a)+_0x547a49);let _0x1577d8={'key':{'id':_0x547a49}},_0x15efba=_0xac12df[_0x6ed067(0x4b3)];_0x4514dd[_0x6ed067(0x498)][_0x6ed067(0x248)]['_'+_0x15efba+'.fileUrl']=null,_0x4514dd[_0x6ed067(0x498)][_0x6ed067(0x248)]['_'+_0x15efba+'.mimetype']=null,_0x4514dd[_0x6ed067(0x498)][_0x6ed067(0x248)]['_'+_0x15efba+_0x6ed067(0x710)]=null,_0x4514dd[_0x6ed067(0x498)]['realVariables']['_'+_0x15efba+_0x6ed067(0x1f3)]=_0x4514dd[_0x6ed067(0x498)][_0x6ed067(0x86f)][_0x6ed067(0x787)];try{let _0x16f0b1=await this[_0x6ed067(0x31e)](_0x1577d8);this['logger'][_0x6ed067(0x461)](this[_0x6ed067(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x4514dd['chatLog']['realVariables']['_'+_0x15efba+_0x6ed067(0x403)]=_0x16f0b1[_0x6ed067(0x4b4)],_0x4514dd[_0x6ed067(0x498)]['realVariables']['_'+_0x15efba+'.mimetype']=_0x16f0b1['mimetype'];let _0x361b78=_0x16f0b1[_0x6ed067(0x398)][_0x6ed067(0x71f)](/\/(\w+)$/),_0x5ac738=_0x361b78?_0x361b78[0x1]:null;_0x4514dd[_0x6ed067(0x498)][_0x6ed067(0x248)]['_'+_0x15efba+_0x6ed067(0x710)]=_0x5ac738,this[_0x6ed067(0x598)][_0x6ed067(0x461)](this[_0x6ed067(0x5a5)]+'\x20('+this[_0x6ed067(0x4fb)][_0x6ed067(0x7dd)]+_0x6ed067(0x608)+_0x15efba+'\x27.');}catch(_0x55ab28){this[_0x6ed067(0x598)][_0x6ed067(0x1a3)](this[_0x6ed067(0x5a5)]+'\x20('+this[_0x6ed067(0x4fb)][_0x6ed067(0x7dd)]+_0x6ed067(0x695)+_0x55ab28);}let _0x5338e0=_0x4514dd[_0x6ed067(0x498)]['lastReceivedMessage']['text']||_0x4514dd[_0x6ed067(0x498)]['lastReceivedMessage'][_0x6ed067(0x7fa)]||_0x4514dd[_0x6ed067(0x498)][_0x6ed067(0x86f)][_0x6ed067(0x6e9)];try{_0x4514dd['chatLog'][_0x6ed067(0x248)]||(_0x4514dd['chatLog'][_0x6ed067(0x248)]={});let _0x5f1aeb=_0x4514dd[_0x6ed067(0x498)]['realVariables'][_0x15efba];_0x4514dd[_0x6ed067(0x498)]['realVariables'][_0x15efba]=_0x5338e0;let _0x191bc2={'variable':_0x15efba,'oldValue':_0x5f1aeb,'newValue':_0x5338e0};this[_0x6ed067(0x543)](_0x4514dd,_0xac12df,_0x191bc2),this[_0x6ed067(0x598)][_0x6ed067(0x461)](this['instanceName']+'\x20('+this[_0x6ed067(0x4fb)][_0x6ed067(0x7dd)]+_0x6ed067(0x4bf));}catch(_0x175c9b){let _0x1d0f7a={'error':!0x0,'errorLog':_0x175c9b[_0x6ed067(0x6eb)]()};return this[_0x6ed067(0x543)](_0x4514dd,_0xac12df,_0x1d0f7a),this[_0x6ed067(0x598)][_0x6ed067(0x1a3)](this[_0x6ed067(0x5a5)]+'\x20('+this[_0x6ed067(0x4fb)][_0x6ed067(0x7dd)]+_0x6ed067(0x26d)+(_0x175c9b instanceof Error?_0x175c9b[_0x6ed067(0x7e9)]:JSON['stringify'](_0x175c9b,null,0x2))),null;}}async[a0_0x236793(0x669)](_0x20afbd,_0x185b1b){const _0x2799da=a0_0x236793;if(this[_0x2799da(0x598)]['verbose'](this[_0x2799da(0x5a5)]+'\x20('+this[_0x2799da(0x4fb)][_0x2799da(0x7dd)]+_0x2799da(0x571)),!_0x20afbd||!_0x185b1b)return this[_0x2799da(0x598)][_0x2799da(0x1a3)](this[_0x2799da(0x5a5)]+'\x20('+this[_0x2799da(0x4fb)][_0x2799da(0x7dd)]+_0x2799da(0x2b3)),null;let _0x311088=Date['now'](),_0x4b4b12=parseInt(_0x185b1b['stopMinutes'],0xa);if(isNaN(_0x4b4b12))return this['logger']['error'](this[_0x2799da(0x5a5)]+'\x20('+this[_0x2799da(0x4fb)]['wuid']+_0x2799da(0x847)),null;let _0x3f2a48={'newStoppedUntil':_0x311088+_0x4b4b12*0x3c*0x3e8};return await this[_0x2799da(0x543)](_0x20afbd,_0x185b1b,_0x3f2a48,!0x0),null;}async[a0_0x236793(0x5a3)](_0x4f669f,_0x331be0){const _0x2e80bd=a0_0x236793;try{switch(_0x331be0['uazapi'][_0x2e80bd(0x3bd)]){case _0x2e80bd(0x84e):await this['uazapiSendText'](_0x4f669f,_0x331be0);break;case _0x2e80bd(0x2b2):await this['uazapiSendMedia'](_0x4f669f,_0x331be0);break;case _0x2e80bd(0x5c6):await this['uazapiSendLocation'](_0x4f669f,_0x331be0);break;case _0x2e80bd(0x410):await this[_0x2e80bd(0x853)](_0x4f669f,_0x331be0);break;case'sendContact':await this[_0x2e80bd(0x2c9)](_0x4f669f,_0x331be0);break;case _0x2e80bd(0x28e):await this[_0x2e80bd(0x7f0)](_0x4f669f,_0x331be0);break;case _0x2e80bd(0x81b):await this[_0x2e80bd(0x7f0)](_0x4f669f,_0x331be0);break;case _0x2e80bd(0x878):await this[_0x2e80bd(0x411)](_0x4f669f,_0x331be0);break;default:this[_0x2e80bd(0x598)]['error'](this[_0x2e80bd(0x5a5)]+'\x20('+this['instance'][_0x2e80bd(0x7dd)]+_0x2e80bd(0x1dd)+_0x331be0['uazapi'][_0x2e80bd(0x3bd)]);}}catch(_0x2d1d3c){this[_0x2e80bd(0x598)][_0x2e80bd(0x1a3)](this[_0x2e80bd(0x5a5)]+'\x20('+this[_0x2e80bd(0x4fb)][_0x2e80bd(0x7dd)]+_0x2e80bd(0x56c)+(_0x2d1d3c instanceof Error?_0x2d1d3c[_0x2e80bd(0x7e9)]:JSON[_0x2e80bd(0x6fe)](_0x2d1d3c,null,0x2)));}}async['updateConversation'](_0x4dc941,_0x255523,_0x5ca09d,_0x377c4a=!0x1,_0x5144c3=!0x1){const _0x10d078=a0_0x236793;_0x4dc941[_0x10d078(0x498)][_0x10d078(0x3a4)]||(_0x4dc941[_0x10d078(0x498)]['blockLogs']=[]);let _0x5ca4f8=(_0x4dc941[_0x10d078(0x498)][_0x10d078(0x3a4)]?.['length']??0x0)+0x1,_0x335281=_0x4dc941['chatLog'][_0x10d078(0x3a4)]['filter'](_0x1e5cd4=>String(_0x1e5cd4[_0x10d078(0x46f)])===String(_0x255523[_0x10d078(0x3c4)]))['length']+0x1,_0x3f7e0f=_0x5ca09d?.[_0x10d078(0x4cf)]??Date[_0x10d078(0x1e6)](),_0x3b7541=_0x5ca09d?.[_0x10d078(0x1a3)]?_0x5ca09d[_0x10d078(0x706)]??_0x5ca09d[_0x10d078(0x1a3)][_0x10d078(0x6eb)]():void 0x0,_0x4653fe={'onTime':_0x3f7e0f,'blockId':_0x255523[_0x10d078(0x3c4)],'order':_0x5ca4f8,'activatedCount':_0x335281,'error':_0x5ca09d?.[_0x10d078(0x1a3)]??!0x1,'messageId':_0x5ca09d?.[_0x10d078(0x3cc)],'apiResponse':_0x5ca09d?.[_0x10d078(0x523)],'apiResponseString':_0x5ca09d?.[_0x10d078(0x523)]?JSON[_0x10d078(0x6fe)](_0x5ca09d?.['apiResponse']):void 0x0,'variable':_0x5ca09d?.[_0x10d078(0x7c6)],'oldValue':_0x5ca09d?.[_0x10d078(0x708)],'newValue':_0x5ca09d?.[_0x10d078(0x4e9)],'newStoppedUntil':_0x5ca09d?.['newStoppedUntil'],'moreLogs':_0x5ca09d?.['moreLogs'],'errorLog':_0x3b7541};if(_0x5ca09d[_0x10d078(0x4b2)]&&_0x5ca09d[_0x10d078(0x4b2)][_0x10d078(0x5a8)]>0x0){let _0x19c106=_0x5ca09d[_0x10d078(0x4b2)][_0x10d078(0x405)](_0x3d550b=>this[_0x10d078(0x58e)](_0x3d550b,_0x4dc941[_0x10d078(0x498)]['realVariables']));_0x4653fe[_0x10d078(0x4b2)]=_0x19c106;}_0x4dc941[_0x10d078(0x498)][_0x10d078(0x248)]||(_0x4dc941['chatLog'][_0x10d078(0x248)]={}),_0x4dc941[_0x10d078(0x498)][_0x10d078(0x248)][_0x10d078(0x682)]=String(_0x335281),_0x4dc941[_0x10d078(0x498)][_0x10d078(0x248)][_0x10d078(0x870)]=String(_0x5ca09d[_0x10d078(0x1a3)]??!0x1),_0x4dc941['chatLog'][_0x10d078(0x3a4)]['push'](_0x4653fe),_0x4dc941[_0x10d078(0x498)][_0x10d078(0x53e)]=_0x255523[_0x10d078(0x3c4)][_0x10d078(0x6eb)](),_0x4dc941[_0x10d078(0x498)][_0x10d078(0x7bb)]&&(_0x4dc941[_0x10d078(0x498)][_0x10d078(0x7bb)]=_0x4dc941['chatLog'][_0x10d078(0x7bb)]),_0x4dc941[_0x10d078(0x498)][_0x10d078(0x86f)]&&(_0x4dc941['chatLog'][_0x10d078(0x86f)]=_0x4dc941['chatLog']['lastReceivedMessage']),_0x4dc941[_0x10d078(0x498)][_0x10d078(0x34c)]&&(_0x4dc941['chatLog'][_0x10d078(0x34c)]=_0x4dc941['chatLog'][_0x10d078(0x34c)]),_0x5144c3&&(_0x4dc941[_0x10d078(0x464)]=_0x10d078(0x507)),_0x377c4a?this[_0x10d078(0x80f)](_0x4dc941):this[_0x10d078(0x427)](_0x4dc941,_0x255523);}[a0_0x236793(0x58e)](_0x1ff4a2,_0x3a48f7){const _0x2e9e65=a0_0x236793;return _0x1ff4a2['replace'](/\{\{([^}]+)\}\}/g,(_0x1beb2d,_0x317576)=>_0x3a48f7[_0x317576]?'{{'+_0x317576+_0x2e9e65(0x638)+_0x3a48f7[_0x317576]+'\x22':'{{'+_0x317576+_0x2e9e65(0x7db));}async[a0_0x236793(0x80f)](_0x3965eb){const _0x422114=a0_0x236793;try{let _0xa4430a=Object[_0x422114(0x6fc)](_0x3965eb['chatLog'][_0x422114(0x248)])['map'](([_0xce5d1a,_0x29d7e7])=>({'name':_0xce5d1a,'value':_0x29d7e7})),_0x55c3b6={'status':_0x3965eb[_0x422114(0x464)],'blocks':_0x3965eb[_0x422114(0x301)],'waitingMenu_id':_0x3965eb[_0x422114(0x5a1)],'waitingMenu_text':_0x3965eb['waitingMenu_text'],'waitingMenu_replyOptions':_0x3965eb[_0x422114(0x781)],'chatLog':{'lastBlockId':_0x3965eb[_0x422114(0x498)][_0x422114(0x53e)],'lastSendMessage':_0x3965eb[_0x422114(0x498)][_0x422114(0x7bb)],'lastReceivedMessage':_0x3965eb[_0x422114(0x498)][_0x422114(0x86f)],'lastCondition':_0x3965eb[_0x422114(0x498)]['lastCondition'],'chatVariables':_0xa4430a,'realVariables':_0x3965eb[_0x422114(0x498)][_0x422114(0x248)],'blockLogs':_0x3965eb['chatLog']['blockLogs']}},_0xafb83c=await this['repository'][_0x422114(0x3d7)][_0x422114(0x1e2)](_0x3965eb['_id'],_0x55c3b6,this['instance'][_0x422114(0x7dd)]);if(_0xafb83c){this['logger'][_0x422114(0x461)](this['instanceName']+'\x20('+this[_0x422114(0x4fb)][_0x422114(0x7dd)]+_0x422114(0x80b)+_0xafb83c[_0x422114(0x3c4)]);try{let _0x44e30b=[_0x422114(0x337),_0x422114(0x1be),_0x422114(0x2f3),_0x422114(0x295),'status','notas',_0x422114(0x42e),_0x422114(0x6fa),_0x422114(0x5d1)];if(!this[_0x422114(0x6d8)]&&(await this[_0x422114(0x2c1)](),!this['AutomateSystem']))throw new Error(_0x422114(0x3ad));let _0x50007e=this[_0x422114(0x6d8)]?.['customFields'][_0x422114(0x405)](_0x2c896d=>_0x2c896d[_0x422114(0x7bd)]),_0x1a2ce3={};Object['entries'](_0x3965eb[_0x422114(0x498)][_0x422114(0x248)])[_0x422114(0x595)](([_0x350f92,_0x31ca5d])=>{const _0x5238a6=_0x422114;_0x44e30b[_0x5238a6(0x256)](_0x350f92)&&(_0x350f92===_0x5238a6(0x6fa)&&typeof _0x31ca5d==_0x5238a6(0x4ca)?_0x1a2ce3[_0x350f92]=_0x31ca5d['split'](',')[_0x5238a6(0x405)](_0x43d203=>_0x43d203[_0x5238a6(0x76e)]())[_0x5238a6(0x504)](_0x740367=>_0x740367!==''):_0x350f92==='etiquetas'&&typeof _0x31ca5d==_0x5238a6(0x4ca)?_0x1a2ce3[_0x350f92]=_0x31ca5d['split'](',')[_0x5238a6(0x405)](_0x4e3698=>_0x4e3698[_0x5238a6(0x76e)]())['filter'](_0x225a6f=>_0x225a6f!==''):_0x1a2ce3[_0x350f92]=_0x31ca5d);});let _0xe711fb=_0x3965eb[_0x422114(0x498)][_0x422114(0x3a4)][_0x3965eb[_0x422114(0x498)][_0x422114(0x3a4)][_0x422114(0x5a8)]-0x1];if(_0xe711fb){let _0x143514=_0xe711fb[_0x422114(0x46e)];_0x143514!==void 0x0&&(_0x1a2ce3[_0x422114(0x794)]=_0x143514[_0x422114(0x6eb)]());}let _0xffeb79=_0xa4430a['filter'](_0x46cc6f=>_0x50007e[_0x422114(0x256)](_0x46cc6f[_0x422114(0x7bd)]));this[_0x422114(0x598)][_0x422114(0x461)](this[_0x422114(0x5a5)]+'\x20('+this[_0x422114(0x4fb)][_0x422114(0x7dd)]+_0x422114(0x2a9)),this['logger'][_0x422114(0x461)](_0x1a2ce3),this['logger'][_0x422114(0x461)](this[_0x422114(0x5a5)]+'\x20('+this['instance'][_0x422114(0x7dd)]+_0x422114(0x26b)),this[_0x422114(0x598)]['verbose'](_0xffeb79);let _0x83cbbc=_0xffeb79[_0x422114(0x405)](_0x3822c7=>{const _0x4a6145=_0x422114;let _0xde4fde=this[_0x4a6145(0x6d8)]?.[_0x4a6145(0x249)][_0x4a6145(0x75d)](_0x5c46a8=>_0x5c46a8['name']===_0x3822c7[_0x4a6145(0x7bd)]);if(!_0xde4fde)throw new Error(_0x4a6145(0x753)+_0x3822c7[_0x4a6145(0x7bd)]);return{'_id':_0xde4fde['_id'],'value':_0x3822c7['value']};});this[_0x422114(0x598)][_0x422114(0x461)](this[_0x422114(0x5a5)]+'\x20('+this[_0x422114(0x4fb)]['wuid']+_0x422114(0x537)),this[_0x422114(0x598)]['verbose'](_0x83cbbc),await this[_0x422114(0x319)](_0x3965eb[_0x422114(0x2f9)],_0x1a2ce3,_0x83cbbc);}catch(_0x12cd8e){this['logger']['error'](this[_0x422114(0x5a5)]+'\x20('+this['instance']['wuid']+_0x422114(0x2be)+(_0x12cd8e instanceof Error?_0x12cd8e[_0x422114(0x7e9)]:JSON['stringify'](_0x12cd8e,null,0x2)));}}else this['logger']['error'](this[_0x422114(0x5a5)]+'\x20('+this[_0x422114(0x4fb)][_0x422114(0x7dd)]+_0x422114(0x336));}catch(_0x1bd776){this['logger'][_0x422114(0x1a3)](this['instanceName']+'\x20('+this[_0x422114(0x4fb)][_0x422114(0x7dd)]+_0x422114(0x5d8)+(_0x1bd776 instanceof Error?_0x1bd776[_0x422114(0x7e9)]:JSON[_0x422114(0x6fe)](_0x1bd776,null,0x2)));}}async[a0_0x236793(0x319)](_0x1faba8,_0x54b527,_0x5b5fbb){const _0x3d0ca4=a0_0x236793;try{let _0x9673b5={'leadInfo.leadnome':_0x54b527[_0x3d0ca4(0x337)],'leadInfo.nomecompleto':_0x54b527[_0x3d0ca4(0x1be)],'leadInfo.email':_0x54b527['email'],'leadInfo.cpf':_0x54b527['cpf'],'leadInfo.status':_0x54b527['status'],'leadInfo.notas':_0x54b527['notas'],'leadInfo.responsavelid':_0x54b527[_0x3d0ca4(0x42e)],'leadInfo.tags':_0x54b527[_0x3d0ca4(0x6fa)],'leadInfo.etiquetas':_0x54b527['etiquetas'],'leadInfo.customFields':_0x5b5fbb},_0x10ed84=await this[_0x3d0ca4(0x520)]['chat'][_0x3d0ca4(0x542)]({'where':{'_id':_0x1faba8}},this[_0x3d0ca4(0x4fb)][_0x3d0ca4(0x7dd)]),_0x4e10c6=new Set(_0x10ed84[_0x3d0ca4(0x64f)][_0x3d0ca4(0x5d1)]||[]),_0x571811=new Set(_0x54b527['etiquetas']||[]),_0x332e78=await this[_0x3d0ca4(0x520)][_0x3d0ca4(0x30a)][_0x3d0ca4(0x75d)]({'where':{}},this[_0x3d0ca4(0x4fb)][_0x3d0ca4(0x7dd)]),_0x51f01b=new Set(_0x332e78[_0x3d0ca4(0x405)](_0x528b8c=>_0x528b8c[_0x3d0ca4(0x3c4)])),_0x523aaf=[..._0x571811][_0x3d0ca4(0x504)](_0x436e05=>!_0x4e10c6[_0x3d0ca4(0x51e)](_0x436e05)&&_0x51f01b[_0x3d0ca4(0x51e)](_0x436e05)),_0x5cbc63=[..._0x4e10c6][_0x3d0ca4(0x504)](_0x51b2b9=>!_0x571811['has'](_0x51b2b9));for(let _0x4549fe of _0x523aaf)await this[_0x3d0ca4(0x739)](_0x4549fe,_0x10ed84['_id']),_0x4e10c6[_0x3d0ca4(0x6b3)](_0x4549fe);for(let _0x4fa150 of _0x5cbc63)await this[_0x3d0ca4(0x835)](_0x4fa150,_0x10ed84[_0x3d0ca4(0x3c4)]),_0x4e10c6[_0x3d0ca4(0x29a)](_0x4fa150);if(_0x3d0ca4(0x794)in _0x54b527){let _0x4bd626=_0x54b527[_0x3d0ca4(0x794)];_0x9673b5[_0x3d0ca4(0x312)]=_0x4bd626?Number(_0x4bd626):null;}let _0xd7a127=await this[_0x3d0ca4(0x520)][_0x3d0ca4(0x3bb)][_0x3d0ca4(0x1e2)]({'where':{'_id':_0x1faba8}},_0x9673b5,this[_0x3d0ca4(0x4fb)][_0x3d0ca4(0x7dd)]);_0xd7a127?(this['logger'][_0x3d0ca4(0x461)](this[_0x3d0ca4(0x5a5)]+'\x20('+this['instance'][_0x3d0ca4(0x7dd)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0xd7a127[_0x3d0ca4(0x3c4)]),J(this[_0x3d0ca4(0x5a5)],_0x3d0ca4(0x2a1),{'chat':_0xd7a127})):this[_0x3d0ca4(0x598)]['error'](this[_0x3d0ca4(0x5a5)]+'\x20('+this[_0x3d0ca4(0x4fb)]['wuid']+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x5ead36){this[_0x3d0ca4(0x598)][_0x3d0ca4(0x1a3)](this[_0x3d0ca4(0x5a5)]+'\x20('+this[_0x3d0ca4(0x4fb)][_0x3d0ca4(0x7dd)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x5ead36 instanceof Error?_0x5ead36[_0x3d0ca4(0x7e9)]:JSON['stringify'](_0x5ead36,null,0x2)));}}async[a0_0x236793(0x76b)](_0x2e2c4c,_0x4261fd){const _0x3bbf76=a0_0x236793;this[_0x3bbf76(0x598)][_0x3bbf76(0x461)](this[_0x3bbf76(0x5a5)]+'\x20('+this[_0x3bbf76(0x4fb)][_0x3bbf76(0x7dd)]+_0x3bbf76(0x5bb)+_0x4261fd);try{let _0x29c8bc=await this['repository'][_0x3bbf76(0x3bb)][_0x3bbf76(0x1e2)]({'where':{'_id':_0x2e2c4c[_0x3bbf76(0x2f9)]}},{'leadInfo.desativadoFluxoAte':_0x4261fd},this['instance'][_0x3bbf76(0x7dd)]);this[_0x3bbf76(0x598)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3bbf76(0x7dd)]+_0x3bbf76(0x637)+_0x2e2c4c['_id']),this[_0x3bbf76(0x598)][_0x3bbf76(0x461)](this[_0x3bbf76(0x5a5)]+'\x20('+this[_0x3bbf76(0x4fb)][_0x3bbf76(0x7dd)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x29c8bc,null,0x2)),_0x29c8bc&&J(this[_0x3bbf76(0x5a5)],'chats',{'chat':_0x29c8bc});}catch(_0x3143a6){this[_0x3bbf76(0x598)]['error'](this[_0x3bbf76(0x5a5)]+'\x20('+this[_0x3bbf76(0x4fb)][_0x3bbf76(0x7dd)]+_0x3bbf76(0x1cb)+(_0x3143a6 instanceof Error?_0x3143a6['message']:JSON[_0x3bbf76(0x6fe)](_0x3143a6,null,0x2)));}}async['findFlow'](_0x31e52a){const _0x211e08=a0_0x236793;try{this['logger']['verbose'](this[_0x211e08(0x5a5)]+'\x20('+this[_0x211e08(0x4fb)][_0x211e08(0x7dd)]+'):\x20Buscando\x20flow...');let _0x163bd0=_0x31e52a[_0x211e08(0x517)](/\D/g,''),_0x55a392=await this[_0x211e08(0x520)][_0x211e08(0x671)]['findOne']({'where':{'testingWith':_0x163bd0}},this[_0x211e08(0x4fb)]['wuid']);return _0x55a392||(this['logger'][_0x211e08(0x461)](this[_0x211e08(0x5a5)]+'\x20('+this[_0x211e08(0x4fb)][_0x211e08(0x7dd)]+_0x211e08(0x4f6)),_0x55a392=await this[_0x211e08(0x520)][_0x211e08(0x671)]['findOne']({'where':{'default':!0x0}},this[_0x211e08(0x4fb)][_0x211e08(0x7dd)])),_0x55a392||(this[_0x211e08(0x598)][_0x211e08(0x461)](this[_0x211e08(0x5a5)]+'\x20('+this['instance'][_0x211e08(0x7dd)]+_0x211e08(0x776)),null);}catch(_0x6c2022){return this[_0x211e08(0x598)][_0x211e08(0x1a3)](this['instanceName']+'\x20('+this[_0x211e08(0x4fb)][_0x211e08(0x7dd)]+_0x211e08(0x76d)+(_0x6c2022 instanceof Error?_0x6c2022[_0x211e08(0x7e9)]:JSON[_0x211e08(0x6fe)](_0x6c2022,null,0x2))),null;}}async[a0_0x236793(0x4f8)](_0xb521a3,_0x36e707){const _0x2442a6=a0_0x236793;try{let _0x2dfb41=!!_0x36e707[_0x2442a6(0x6e9)],_0x97b232=_0x36e707[_0x2442a6(0x1d4)],_0x5d7b0e=null;if(this[_0x2442a6(0x598)][_0x2442a6(0x461)](this[_0x2442a6(0x5a5)]+'\x20('+this[_0x2442a6(0x4fb)][_0x2442a6(0x7dd)]+_0x2442a6(0x267)+_0x2dfb41+_0x2442a6(0x1a5)+_0x97b232),_0x2dfb41){this[_0x2442a6(0x598)][_0x2442a6(0x461)](this[_0x2442a6(0x5a5)]+'\x20('+this['instance'][_0x2442a6(0x7dd)]+_0x2442a6(0x6c2));let _0x217150={'where':{'remoteJid':_0xb521a3,'waitingMenu_id':_0x97b232}};if(_0x5d7b0e=await this[_0x2442a6(0x520)][_0x2442a6(0x3d7)][_0x2442a6(0x542)](_0x217150,this[_0x2442a6(0x4fb)][_0x2442a6(0x7dd)]),!_0x5d7b0e)return this[_0x2442a6(0x598)][_0x2442a6(0x461)](this[_0x2442a6(0x5a5)]+'\x20('+this[_0x2442a6(0x4fb)]['wuid']+_0x2442a6(0x6e4)),null;let _0x3d6fa6=Date['now'](),_0x3b53c2=_0x5d7b0e?.[_0x2442a6(0x777)]||0x0,_0xca2996=_0x3d6fa6-_0x3b53c2*0x3c*0x3e8;if(_0x5d7b0e[_0x2442a6(0x407)]<_0xca2996){this[_0x2442a6(0x598)][_0x2442a6(0x461)](this[_0x2442a6(0x5a5)]+'\x20('+this['instance'][_0x2442a6(0x7dd)]+_0x2442a6(0x82a));let _0x28ab1c={'number':_0x5d7b0e['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5d7b0e[_0x2442a6(0x3ce)]}};await this[_0x2442a6(0x289)](_0x28ab1c);let _0x7ceaca={'status':_0x2442a6(0x507),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2442a6(0x520)][_0x2442a6(0x3d7)][_0x2442a6(0x1e2)](_0x5d7b0e[_0x2442a6(0x3c4)],_0x7ceaca,this['instance']['wuid']),null;}return _0x5d7b0e['lastInteraction']=Date['now'](),_0x5d7b0e[_0x2442a6(0x498)][_0x2442a6(0x86f)]=_0x36e707,_0x5d7b0e;}else{this['logger']['verbose'](this[_0x2442a6(0x5a5)]+'\x20('+this['instance'][_0x2442a6(0x7dd)]+'):\x20'+this[_0x2442a6(0x4fb)]['wuid']+_0x2442a6(0x782)),this[_0x2442a6(0x598)]['verbose'](this[_0x2442a6(0x5a5)]+'\x20('+this[_0x2442a6(0x4fb)]['wuid']+_0x2442a6(0x28d));let _0x37bdb5={'where':{'remoteJid':_0xb521a3,'status':'open'}};if(_0x5d7b0e=await this[_0x2442a6(0x520)][_0x2442a6(0x3d7)]['findOne'](_0x37bdb5,this[_0x2442a6(0x4fb)]['wuid']),!_0x5d7b0e){let _0x4bb6c4=await this[_0x2442a6(0x809)](_0xb521a3);if(_0x4bb6c4&&(_0x5d7b0e=await this['createNewConversation'](_0x4bb6c4,_0x36e707[_0x2442a6(0x533)],_0x36e707)),!_0x5d7b0e)return null;}let _0x8080f7=Date['now'](),_0x3b5788=_0x5d7b0e?.[_0x2442a6(0x777)]||0x0,_0x5b1619=_0x8080f7-_0x3b5788*0x3c*0x3e8;if(this[_0x2442a6(0x598)][_0x2442a6(0x461)](this[_0x2442a6(0x5a5)]+'\x20('+this[_0x2442a6(0x4fb)][_0x2442a6(0x7dd)]+_0x2442a6(0x46a)+_0x8080f7+_0x2442a6(0x4c6)+_0x3b5788+_0x2442a6(0x3e8)+_0x5b1619),this[_0x2442a6(0x598)][_0x2442a6(0x461)](this[_0x2442a6(0x5a5)]+'\x20('+this['instance'][_0x2442a6(0x7dd)]+_0x2442a6(0x1cf)),this[_0x2442a6(0x598)]['verbose'](this[_0x2442a6(0x5a5)]+'\x20('+this[_0x2442a6(0x4fb)][_0x2442a6(0x7dd)]+_0x2442a6(0x79b)+_0x5d7b0e[_0x2442a6(0x407)]),this[_0x2442a6(0x598)][_0x2442a6(0x461)](this['instanceName']+'\x20('+this['instance'][_0x2442a6(0x7dd)]+_0x2442a6(0x67e)+_0x5b1619),_0x5d7b0e[_0x2442a6(0x407)]<_0x5b1619){this[_0x2442a6(0x598)]['verbose'](this[_0x2442a6(0x5a5)]+'\x20('+this['instance'][_0x2442a6(0x7dd)]+_0x2442a6(0x5a6));let _0x449507=await this[_0x2442a6(0x809)](_0xb521a3);if(_0x449507===null)return null;_0x5d7b0e&&await this['repository'][_0x2442a6(0x3d7)][_0x2442a6(0x1e2)](_0x5d7b0e[_0x2442a6(0x3c4)],{'status':_0x2442a6(0x507)},this['instance'][_0x2442a6(0x7dd)]),_0x5d7b0e=await this[_0x2442a6(0x356)](_0x449507,_0x36e707['key'],_0x36e707);}return _0x5d7b0e[_0x2442a6(0x407)]=_0x8080f7,_0x5d7b0e[_0x2442a6(0x498)][_0x2442a6(0x86f)]=_0x36e707,_0x5d7b0e;}}catch(_0x413b99){return this[_0x2442a6(0x598)][_0x2442a6(0x1a3)](this['instanceName']+'\x20('+this[_0x2442a6(0x4fb)][_0x2442a6(0x7dd)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x413b99 instanceof Error?_0x413b99[_0x2442a6(0x7e9)]:JSON[_0x2442a6(0x6fe)](_0x413b99,null,0x2))),null;}}async['createNewConversation'](_0xfc928,_0xfb9cbb,_0x126cde){const _0x48a5a5=a0_0x236793;this[_0x48a5a5(0x598)]['verbose'](this[_0x48a5a5(0x5a5)]+'\x20('+this[_0x48a5a5(0x4fb)][_0x48a5a5(0x7dd)]+_0x48a5a5(0x3ca));try{let _0x56e6eb=require('mongodb')[_0x48a5a5(0x231)],_0x580048=Date[_0x48a5a5(0x1e6)](),_0x33a9ab=_0x48a5a5(0x5ad),_0x46b02d=_0xfb9cbb['fromMe']?null:_0x126cde,_0x571ec8=_0xfb9cbb[_0x48a5a5(0x644)]?_0x126cde:null,_0x3bbdea=_0xfb9cbb[_0x48a5a5(0x2f9)];await this['closeExistingConversations'](_0x3bbdea);let _0x251618={..._0xfc928,'chatLog':null},_0x5e8c91=await this[_0x48a5a5(0x6f0)](_0x251618[_0x48a5a5(0x4fc)]),_0x27e23d=await this[_0x48a5a5(0x5b2)](_0x3bbdea),_0x10472c={..._0x5e8c91,..._0x27e23d,'_remoteJid':_0x3bbdea},_0x2ac844={'lastReceivedMessage':_0x46b02d,'lastSendMessage':_0x571ec8,'lastBlockId':_0x33a9ab,'lastCondition':!0x0,'realVariables':_0x10472c};_0x251618[_0x48a5a5(0x498)]=_0x2ac844,delete _0x251618['_id'],_0x251618['_id']=new _0x56e6eb(),_0x251618[_0x48a5a5(0x407)]=_0x580048,_0x251618[_0x48a5a5(0x464)]=_0x48a5a5(0x664),_0x251618['remoteJid']=_0x3bbdea;let _0x485ae5=await this['repository']['flowConversation'][_0x48a5a5(0x1e2)](_0x251618['_id'],_0x251618,this[_0x48a5a5(0x4fb)][_0x48a5a5(0x7dd)]);return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x48a5a5(0x81c)),_0x485ae5?_0x251618:null;}catch(_0x2eff5d){return this['logger'][_0x48a5a5(0x1a3)](this[_0x48a5a5(0x5a5)]+'\x20('+this['instance'][_0x48a5a5(0x7dd)]+_0x48a5a5(0x790)+(_0x2eff5d instanceof Error?_0x2eff5d['message']:JSON[_0x48a5a5(0x6fe)](_0x2eff5d,null,0x2))),_0x2eff5d;}}async[a0_0x236793(0x29f)](_0xfd6ded,_0x82cac6){const _0x4b8dd8=a0_0x236793;let _0x25ebaa=_0xfd6ded[_0x4b8dd8(0x2f9)];_0x82cac6['uazapi']['remoteJid']&&_0x82cac6[_0x4b8dd8(0x471)][_0x4b8dd8(0x2f9)]['trim']()!==''&&(_0x25ebaa=_0x82cac6[_0x4b8dd8(0x471)][_0x4b8dd8(0x2f9)][_0x4b8dd8(0x76e)]()),this[_0x4b8dd8(0x598)][_0x4b8dd8(0x461)](this[_0x4b8dd8(0x5a5)]+'\x20('+this[_0x4b8dd8(0x4fb)][_0x4b8dd8(0x7dd)]+_0x4b8dd8(0x3e5));let _0x4ab1a={'number':_0x25ebaa,'options':{'delay':_0x82cac6['uazapi']['delay'],'linkPreview':_0x82cac6['uazapi'][_0x4b8dd8(0x4b1)]},'textMessage':{'text':_0x82cac6[_0x4b8dd8(0x471)][_0x4b8dd8(0x4a3)]}};try{let _0x41dfd0=await this[_0x4b8dd8(0x289)](_0x4ab1a);if(_0x41dfd0){let _0x3f8f90={'_id':_0x41dfd0[_0x4b8dd8(0x533)]['id'],'_fromMe':_0x41dfd0['key'][_0x4b8dd8(0x644)],'_remoteJid':_0x41dfd0[_0x4b8dd8(0x533)][_0x4b8dd8(0x2f9)]},_0x1a5310=(0x0,f['normalizeMessageContent'])(_0x41dfd0[_0x4b8dd8(0x7e9)]),_0x58e761=(0x0,f[_0x4b8dd8(0x46b)])(_0x1a5310);_0xfd6ded[_0x4b8dd8(0x498)]['lastBlockId']=_0x82cac6[_0x4b8dd8(0x3c4)]['toString']();let {message_normalized:_0x545e47}=this['normalizeMessage'](_0x1a5310,_0x58e761,null);_0xfd6ded[_0x4b8dd8(0x498)][_0x4b8dd8(0x7bb)]=await _0x545e47;let _0x4dad92={'messageId':_0x41dfd0[_0x4b8dd8(0x533)]['id']},_0x4dade8=_0xfd6ded[_0x4b8dd8(0x498)][_0x4b8dd8(0x248)];Object[_0x4b8dd8(0x887)](_0x4dade8,_0x3f8f90),_0xfd6ded[_0x4b8dd8(0x498)]['realVariables']=_0x4dade8,this['updateConversation'](_0xfd6ded,_0x82cac6,_0x4dad92);}else{let _0x5f3b68={'error':!0x0};this['updateConversation'](_0xfd6ded,_0x82cac6,_0x5f3b68),this[_0x4b8dd8(0x598)][_0x4b8dd8(0x1a3)](this[_0x4b8dd8(0x5a5)]+'\x20('+this[_0x4b8dd8(0x4fb)][_0x4b8dd8(0x7dd)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x429951){let _0xb94f7a={'error':!0x0,'errorLog':_0x429951[_0x4b8dd8(0x6eb)]()};this[_0x4b8dd8(0x543)](_0xfd6ded,_0x82cac6,_0xb94f7a),this[_0x4b8dd8(0x598)][_0x4b8dd8(0x1a3)](this[_0x4b8dd8(0x5a5)]+'\x20('+this[_0x4b8dd8(0x4fb)]['wuid']+_0x4b8dd8(0x7ce)+(_0x429951 instanceof Error?_0x429951[_0x4b8dd8(0x7e9)]:JSON[_0x4b8dd8(0x6fe)](_0x429951,null,0x2)));}}async[a0_0x236793(0x4e6)](_0x3df27f,_0x4114ea){const _0x51e015=a0_0x236793;let _0x30ec44=_0x3df27f[_0x51e015(0x2f9)];_0x4114ea[_0x51e015(0x471)][_0x51e015(0x2f9)]&&_0x4114ea[_0x51e015(0x471)][_0x51e015(0x2f9)][_0x51e015(0x76e)]()!==''&&(_0x30ec44=_0x4114ea['uazapi'][_0x51e015(0x2f9)]['trim']()),this['logger'][_0x51e015(0x461)](this[_0x51e015(0x5a5)]+'\x20('+this[_0x51e015(0x4fb)][_0x51e015(0x7dd)]+_0x51e015(0x368));let _0x56be59={'number':_0x30ec44,'options':{'delay':_0x4114ea[_0x51e015(0x471)][_0x51e015(0x55f)],'linkPreview':_0x4114ea['uazapi'][_0x51e015(0x4b1)]},'mediaMessage':{'mediatype':_0x4114ea[_0x51e015(0x471)][_0x51e015(0x383)],'caption':_0x4114ea['uazapi'][_0x51e015(0x7fa)],'media':_0x4114ea[_0x51e015(0x471)][_0x51e015(0x2c4)],'fileName':_0x4114ea[_0x51e015(0x471)][_0x51e015(0x7a2)]}};try{let _0x2a2c96=await this[_0x51e015(0x1b9)](_0x56be59);if(_0x2a2c96){let _0x7afb4f={'_id':_0x2a2c96['key']['id'],'_fromMe':_0x2a2c96[_0x51e015(0x533)][_0x51e015(0x644)],'_remoteJid':_0x2a2c96[_0x51e015(0x533)][_0x51e015(0x2f9)]},_0x355647=(0x0,f[_0x51e015(0x6f1)])(_0x2a2c96[_0x51e015(0x7e9)]),_0x5f4906=(0x0,f[_0x51e015(0x46b)])(_0x355647);_0x3df27f[_0x51e015(0x498)][_0x51e015(0x53e)]=_0x4114ea[_0x51e015(0x3c4)][_0x51e015(0x6eb)]();let {message_normalized:_0x1e70a9}=this[_0x51e015(0x87c)](_0x355647,_0x5f4906,null);_0x3df27f[_0x51e015(0x498)][_0x51e015(0x7bb)]=await _0x1e70a9;let _0x559b30={'messageId':_0x2a2c96[_0x51e015(0x533)]['id']},_0x5730df=_0x3df27f[_0x51e015(0x498)][_0x51e015(0x248)];Object['assign'](_0x5730df,_0x7afb4f),_0x3df27f[_0x51e015(0x498)]['realVariables']=_0x5730df,this['updateConversation'](_0x3df27f,_0x4114ea,_0x559b30);}else{let _0x18d138={'error':!0x0};this['updateConversation'](_0x3df27f,_0x4114ea,_0x18d138),this[_0x51e015(0x598)]['error'](this[_0x51e015(0x5a5)]+'\x20('+this['instance'][_0x51e015(0x7dd)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x4d8161){let _0x2e5ac7={'error':!0x0,'errorLog':_0x4d8161[_0x51e015(0x6eb)]()};this[_0x51e015(0x543)](_0x3df27f,_0x4114ea,_0x2e5ac7),this[_0x51e015(0x598)][_0x51e015(0x1a3)](this['instanceName']+'\x20('+this[_0x51e015(0x4fb)][_0x51e015(0x7dd)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x4d8161 instanceof Error?_0x4d8161[_0x51e015(0x7e9)]:JSON[_0x51e015(0x6fe)](_0x4d8161,null,0x2)));}}async[a0_0x236793(0x250)](_0x26791b,_0x4bb844){const _0x5ec64d=a0_0x236793;let _0x112d04=_0x26791b[_0x5ec64d(0x2f9)];_0x4bb844[_0x5ec64d(0x471)][_0x5ec64d(0x2f9)]&&_0x4bb844[_0x5ec64d(0x471)][_0x5ec64d(0x2f9)][_0x5ec64d(0x76e)]()!==''&&(_0x112d04=_0x4bb844[_0x5ec64d(0x471)][_0x5ec64d(0x2f9)][_0x5ec64d(0x76e)]()),this['logger'][_0x5ec64d(0x461)](this[_0x5ec64d(0x5a5)]+'\x20('+this[_0x5ec64d(0x4fb)][_0x5ec64d(0x7dd)]+_0x5ec64d(0x4a4));let _0x37eb26={'number':_0x112d04,'options':{'delay':_0x4bb844['uazapi'][_0x5ec64d(0x55f)]},'locationMessage':{'name':_0x4bb844[_0x5ec64d(0x471)][_0x5ec64d(0x7bd)],'address':_0x4bb844[_0x5ec64d(0x471)][_0x5ec64d(0x49c)],'latitude':_0x4bb844['uazapi'][_0x5ec64d(0x6e2)],'longitude':_0x4bb844[_0x5ec64d(0x471)]['longitude']}};try{let _0x599375=await this['locationMessage'](_0x37eb26);if(_0x599375){let _0x413dcc={'_id':_0x599375[_0x5ec64d(0x533)]['id'],'_fromMe':_0x599375['key'][_0x5ec64d(0x644)],'_remoteJid':_0x599375[_0x5ec64d(0x533)]['remoteJid']},_0x369c97=(0x0,f[_0x5ec64d(0x6f1)])(_0x599375[_0x5ec64d(0x7e9)]),_0x599be7=(0x0,f[_0x5ec64d(0x46b)])(_0x369c97);_0x26791b['chatLog']['lastBlockId']=_0x4bb844['_id']['toString']();let {message_normalized:_0x6cb3d0}=this[_0x5ec64d(0x87c)](_0x369c97,_0x599be7,null);_0x26791b[_0x5ec64d(0x498)][_0x5ec64d(0x7bb)]=await _0x6cb3d0;let _0x2253bc={'messageId':_0x599375[_0x5ec64d(0x533)]['id']},_0x241201=_0x26791b['chatLog'][_0x5ec64d(0x248)];Object[_0x5ec64d(0x887)](_0x241201,_0x413dcc),_0x26791b[_0x5ec64d(0x498)]['realVariables']=_0x241201,this[_0x5ec64d(0x543)](_0x26791b,_0x4bb844,_0x2253bc);}else{let _0x389713={'error':!0x0};this[_0x5ec64d(0x543)](_0x26791b,_0x4bb844,_0x389713),this[_0x5ec64d(0x598)][_0x5ec64d(0x1a3)](this[_0x5ec64d(0x5a5)]+'\x20('+this['instance'][_0x5ec64d(0x7dd)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x238b25){let _0x142a79={'error':!0x0,'errorLog':_0x238b25[_0x5ec64d(0x6eb)]()};this[_0x5ec64d(0x543)](_0x26791b,_0x4bb844,_0x142a79),this[_0x5ec64d(0x598)][_0x5ec64d(0x1a3)](this[_0x5ec64d(0x5a5)]+'\x20('+this[_0x5ec64d(0x4fb)][_0x5ec64d(0x7dd)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x238b25 instanceof Error?_0x238b25[_0x5ec64d(0x7e9)]:JSON[_0x5ec64d(0x6fe)](_0x238b25,null,0x2)));}}async[a0_0x236793(0x853)](_0x291d24,_0x1673cf){const _0x34260e=a0_0x236793;let _0x1b8377=_0x291d24[_0x34260e(0x2f9)];_0x1673cf[_0x34260e(0x471)][_0x34260e(0x2f9)]&&_0x1673cf['uazapi'][_0x34260e(0x2f9)][_0x34260e(0x76e)]()!==''&&(_0x1b8377=_0x1673cf['uazapi']['remoteJid']['trim']()),this[_0x34260e(0x598)][_0x34260e(0x461)](this[_0x34260e(0x5a5)]+'\x20('+this['instance'][_0x34260e(0x7dd)]+'):\x20Enviando\x20áudio');let _0x48089d={'number':_0x1b8377,'options':{'delay':_0x1673cf[_0x34260e(0x471)][_0x34260e(0x55f)]},'audioMessage':{'audio':_0x1673cf[_0x34260e(0x471)][_0x34260e(0x4f3)]}};try{let _0x2048ee=await this['audioWhatsapp'](_0x48089d);if(_0x2048ee){let _0x2b1cd3={'_id':_0x2048ee['key']['id'],'_fromMe':_0x2048ee[_0x34260e(0x533)][_0x34260e(0x644)],'_remoteJid':_0x2048ee['key']['remoteJid']},_0xab9c5b=(0x0,f[_0x34260e(0x6f1)])(_0x2048ee[_0x34260e(0x7e9)]),_0x98575b=(0x0,f[_0x34260e(0x46b)])(_0xab9c5b);_0x291d24[_0x34260e(0x498)]['lastBlockId']=_0x1673cf[_0x34260e(0x3c4)]['toString']();let {message_normalized:_0xecc64a}=this[_0x34260e(0x87c)](_0xab9c5b,_0x98575b,null);_0x291d24['chatLog'][_0x34260e(0x7bb)]=await _0xecc64a;let _0x43f0f7={'messageId':_0x2048ee['key']['id']},_0x2ee586=_0x291d24[_0x34260e(0x498)][_0x34260e(0x248)];Object['assign'](_0x2ee586,_0x2b1cd3),_0x291d24[_0x34260e(0x498)][_0x34260e(0x248)]=_0x2ee586,this[_0x34260e(0x543)](_0x291d24,_0x1673cf,_0x43f0f7);}else{let _0x1c8614={'error':!0x0};this[_0x34260e(0x543)](_0x291d24,_0x1673cf,_0x1c8614),this[_0x34260e(0x598)][_0x34260e(0x1a3)](this[_0x34260e(0x5a5)]+'\x20('+this[_0x34260e(0x4fb)][_0x34260e(0x7dd)]+_0x34260e(0x1f4));}}catch(_0x3dc85b){let _0x43e300={'error':!0x0,'errorLog':_0x3dc85b[_0x34260e(0x6eb)]()};this[_0x34260e(0x543)](_0x291d24,_0x1673cf,_0x43e300),this[_0x34260e(0x598)][_0x34260e(0x1a3)](this[_0x34260e(0x5a5)]+'\x20('+this[_0x34260e(0x4fb)][_0x34260e(0x7dd)]+_0x34260e(0x1b7)+(_0x3dc85b instanceof Error?_0x3dc85b[_0x34260e(0x7e9)]:JSON[_0x34260e(0x6fe)](_0x3dc85b,null,0x2)));}}async['uazapiSendContact'](_0x3ebfdd,_0x5d71ec){const _0x3d8c12=a0_0x236793;let _0x44ddb1=_0x3ebfdd['remoteJid'];_0x5d71ec['uazapi'][_0x3d8c12(0x2f9)]&&_0x5d71ec[_0x3d8c12(0x471)][_0x3d8c12(0x2f9)][_0x3d8c12(0x76e)]()!==''&&(_0x44ddb1=_0x5d71ec[_0x3d8c12(0x471)][_0x3d8c12(0x2f9)][_0x3d8c12(0x76e)]()),this[_0x3d8c12(0x598)][_0x3d8c12(0x461)](this[_0x3d8c12(0x5a5)]+'\x20('+this[_0x3d8c12(0x4fb)][_0x3d8c12(0x7dd)]+_0x3d8c12(0x20d));let _0x520ef7={'number':_0x44ddb1,'options':{'delay':_0x5d71ec[_0x3d8c12(0x471)]['delay']},'contactMessage':[{'fullName':_0x5d71ec[_0x3d8c12(0x471)]['fullName'],'phoneNumber':_0x5d71ec[_0x3d8c12(0x471)][_0x3d8c12(0x689)]}]};try{let _0x21eda5=await this['contactMessage'](_0x520ef7);if(_0x21eda5){let _0x2fb8b8={'_id':_0x21eda5[_0x3d8c12(0x533)]['id'],'_fromMe':_0x21eda5[_0x3d8c12(0x533)][_0x3d8c12(0x644)],'_remoteJid':_0x21eda5['key']['remoteJid']},_0x272ead=(0x0,f[_0x3d8c12(0x6f1)])(_0x21eda5[_0x3d8c12(0x7e9)]),_0x21f1f9=(0x0,f[_0x3d8c12(0x46b)])(_0x272ead);_0x3ebfdd['chatLog'][_0x3d8c12(0x53e)]=_0x5d71ec[_0x3d8c12(0x3c4)][_0x3d8c12(0x6eb)]();let {message_normalized:_0x598536}=this[_0x3d8c12(0x87c)](_0x272ead,_0x21f1f9,null);_0x3ebfdd['chatLog'][_0x3d8c12(0x7bb)]=await _0x598536;let _0xcceb9d={'messageId':_0x21eda5['key']['id']},_0xcd66dc=_0x3ebfdd[_0x3d8c12(0x498)][_0x3d8c12(0x248)];Object['assign'](_0xcd66dc,_0x2fb8b8),_0x3ebfdd[_0x3d8c12(0x498)][_0x3d8c12(0x248)]=_0xcd66dc,this[_0x3d8c12(0x543)](_0x3ebfdd,_0x5d71ec,_0xcceb9d);}else{let _0x5c4bbd={'error':!0x0};this['updateConversation'](_0x3ebfdd,_0x5d71ec,_0x5c4bbd),this[_0x3d8c12(0x598)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3d8c12(0x7dd)]+_0x3d8c12(0x26c));}}catch(_0x434983){let _0x46d07e={'error':!0x0,'errorLog':_0x434983[_0x3d8c12(0x6eb)]()};this[_0x3d8c12(0x543)](_0x3ebfdd,_0x5d71ec,_0x46d07e),this[_0x3d8c12(0x598)][_0x3d8c12(0x1a3)](this[_0x3d8c12(0x5a5)]+'\x20('+this[_0x3d8c12(0x4fb)][_0x3d8c12(0x7dd)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x434983 instanceof Error?_0x434983[_0x3d8c12(0x7e9)]:JSON[_0x3d8c12(0x6fe)](_0x434983,null,0x2)));}}[a0_0x236793(0x379)](_0x3cf1f9,_0x3e8f9e){const _0x3cd99f=a0_0x236793;for(let _0x3eec42 of _0x3cf1f9)_0x3eec42[_0x3cd99f(0x830)]&&(_0x3eec42[_0x3cd99f(0x830)]=this[_0x3cd99f(0x82d)](_0x3eec42[_0x3cd99f(0x830)],_0x3e8f9e)),_0x3eec42['optionDescription']&&(_0x3eec42[_0x3cd99f(0x430)]=this[_0x3cd99f(0x82d)](_0x3eec42[_0x3cd99f(0x430)],_0x3e8f9e));}async[a0_0x236793(0x7f0)](_0x5e11b9,_0x95ce70){const _0x283d1a=a0_0x236793;let _0x527215=_0x5e11b9[_0x283d1a(0x2f9)];_0x95ce70['uazapi']['remoteJid']&&_0x95ce70[_0x283d1a(0x471)]['remoteJid'][_0x283d1a(0x76e)]()!==''&&(_0x527215=_0x95ce70['uazapi'][_0x283d1a(0x2f9)][_0x283d1a(0x76e)]()),this['logger']['verbose'](this[_0x283d1a(0x5a5)]+'\x20('+this[_0x283d1a(0x4fb)][_0x283d1a(0x7dd)]+'):\x20Enviando\x20enquete');let _0xebe998=_0x5e11b9[_0x283d1a(0x532)][_0x283d1a(0x504)](_0x52ed6b=>_0x52ed6b[_0x283d1a(0x46f)]===_0x95ce70['_id'])['sort']((_0x3ae742,_0xe0a877)=>_0x3ae742['order']-_0xe0a877[_0x283d1a(0x831)]);this[_0x283d1a(0x379)](_0xebe998,_0x5e11b9[_0x283d1a(0x498)][_0x283d1a(0x248)]);let _0x1bfcc1=_0xebe998[_0x283d1a(0x405)](_0x329031=>_0x329031['option']),_0x3db292={'number':_0x527215,'menuMessage':{'type':_0x95ce70[_0x283d1a(0x471)]['menuType']||_0x283d1a(0x7c4),'text':_0x95ce70['uazapi']['text']||_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x7bd)],'footerText':_0x95ce70['uazapi'][_0x283d1a(0x391)],'buttonText':_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x1b8)],'selectableCount':0x1,'choices':_0x1bfcc1},'options':{'delay':_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x55f)]}};try{let _0x5ddf82=await this[_0x283d1a(0x7fd)](_0x3db292);if(_0x5ddf82){let _0x2a3919={'_id':_0x5ddf82['key']['id'],'_fromMe':_0x5ddf82[_0x283d1a(0x533)][_0x283d1a(0x644)],'_remoteJid':_0x5ddf82[_0x283d1a(0x533)][_0x283d1a(0x2f9)]};_0x95ce70[_0x283d1a(0x471)]['menuIgnoreNonVotes']===!0x0&&(_0x5e11b9[_0x283d1a(0x464)]=_0x283d1a(0x745),this[_0x283d1a(0x598)][_0x283d1a(0x461)](this[_0x283d1a(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20conversation.status:\x20'+_0x5e11b9[_0x283d1a(0x464)])),this['logger']['verbose'](this[_0x283d1a(0x5a5)]+'\x20('+this[_0x283d1a(0x4fb)][_0x283d1a(0x7dd)]+_0x283d1a(0x1d7)+(_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x7bd)]||_0x95ce70['uazapi']['text'])),_0x5e11b9[_0x283d1a(0x5a1)]=_0x5ddf82['key']['id'],_0x5e11b9[_0x283d1a(0x41b)]=_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x7bd)]||_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x4a3)],_0x5e11b9['waitingMenu_replyOptions']=_0xebe998,_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x5c4)]&&(_0x5e11b9['waitingMenu_ExpiredMessage']=_0x95ce70[_0x283d1a(0x471)][_0x283d1a(0x5c4)]),this['logger'][_0x283d1a(0x461)](this['instanceName']+'\x20('+this[_0x283d1a(0x4fb)]['wuid']+_0x283d1a(0x728)+_0x5e11b9[_0x283d1a(0x41b)]);let _0x254643=(0x0,f[_0x283d1a(0x6f1)])(_0x5ddf82[_0x283d1a(0x7e9)]),_0x2732fc=(0x0,f['getContentType'])(_0x254643);_0x5e11b9['chatLog'][_0x283d1a(0x53e)]=_0x95ce70[_0x283d1a(0x3c4)][_0x283d1a(0x6eb)]();let {message_normalized:_0x1e2e12}=this[_0x283d1a(0x87c)](_0x254643,_0x2732fc,null);_0x5e11b9[_0x283d1a(0x498)][_0x283d1a(0x7bb)]=await _0x1e2e12;let _0x1f49f0={'messageId':_0x5ddf82[_0x283d1a(0x533)]['id']},_0x535f8b=_0x5e11b9[_0x283d1a(0x498)][_0x283d1a(0x248)];Object[_0x283d1a(0x887)](_0x535f8b,_0x2a3919),_0x5e11b9['chatLog']['realVariables']=_0x535f8b,this[_0x283d1a(0x543)](_0x5e11b9,_0x95ce70,_0x1f49f0);}else{let _0x1c7105={'error':!0x0};this[_0x283d1a(0x543)](_0x5e11b9,_0x95ce70,_0x1c7105),this['logger']['error'](this[_0x283d1a(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x1bc30e){let _0x6cd3fd={'error':!0x0,'errorLog':_0x1bc30e instanceof Error?_0x1bc30e[_0x283d1a(0x7e9)]:JSON[_0x283d1a(0x6fe)](_0x1bc30e,null,0x2)};this['updateConversation'](_0x5e11b9,_0x95ce70,_0x6cd3fd),this[_0x283d1a(0x598)][_0x283d1a(0x1a3)](this[_0x283d1a(0x5a5)]+'\x20('+this[_0x283d1a(0x4fb)][_0x283d1a(0x7dd)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x1bc30e instanceof Error?_0x1bc30e[_0x283d1a(0x7e9)]:JSON[_0x283d1a(0x6fe)](_0x1bc30e,null,0x2)));}}async['uazapiDeleteMessage'](_0x16f4da,_0x28047a){const _0xdd3934=a0_0x236793;this[_0xdd3934(0x598)][_0xdd3934(0x461)](this['instanceName']+'\x20('+this[_0xdd3934(0x4fb)][_0xdd3934(0x7dd)]+_0xdd3934(0x227));let _0x358db4=_0x16f4da[_0xdd3934(0x498)]['blockLogs'][_0xdd3934(0x75d)](_0x4f8b66=>_0x4f8b66[_0xdd3934(0x46f)][_0xdd3934(0x6eb)]()===_0x28047a[_0xdd3934(0x471)][_0xdd3934(0x46f)][_0xdd3934(0x6eb)]()),_0x255828={'id':_0x358db4[_0xdd3934(0x3cc)],'remoteJid':_0x358db4['remoteJid'],'fromMe':_0x358db4[_0xdd3934(0x644)]};try{let _0x453aea=await this[_0xdd3934(0x878)](_0x255828);if(_0x453aea){let _0x151500=(0x0,f[_0xdd3934(0x6f1)])(_0x453aea[_0xdd3934(0x7e9)]),_0x9699d8=(0x0,f[_0xdd3934(0x46b)])(_0x151500);_0x16f4da['chatLog']['lastBlockId']=_0x28047a['_id'][_0xdd3934(0x6eb)]();let {message_normalized:_0x47cfe3}=this[_0xdd3934(0x87c)](_0x151500,_0x9699d8,null);_0x16f4da[_0xdd3934(0x498)][_0xdd3934(0x7bb)]=await _0x47cfe3;let _0x11a36a={};this[_0xdd3934(0x543)](_0x16f4da,_0x28047a,_0x11a36a);}else{let _0x339355={'error':!0x0};this[_0xdd3934(0x543)](_0x16f4da,_0x28047a,_0x339355),this[_0xdd3934(0x598)][_0xdd3934(0x1a3)](this['instanceName']+'\x20('+this['instance'][_0xdd3934(0x7dd)]+_0xdd3934(0x6e8));}}catch(_0x5d5d81){let _0xa935a={'error':!0x0,'errorLog':_0x5d5d81 instanceof Error?_0x5d5d81[_0xdd3934(0x7e9)]:JSON[_0xdd3934(0x6fe)](_0x5d5d81,null,0x2)};this[_0xdd3934(0x543)](_0x16f4da,_0x28047a,_0xa935a),this[_0xdd3934(0x598)][_0xdd3934(0x1a3)](this['instanceName']+'\x20('+this[_0xdd3934(0x4fb)][_0xdd3934(0x7dd)]+_0xdd3934(0x357)+(_0x5d5d81 instanceof Error?_0x5d5d81[_0xdd3934(0x7e9)]:JSON[_0xdd3934(0x6fe)](_0x5d5d81,null,0x2)));}}async[a0_0x236793(0x740)](_0x3e2670){const _0x4adec3=a0_0x236793;if(!_0x3e2670[_0x4adec3(0x7bd)])throw new m('O\x20nome\x20do\x20fluxo\x20é\x20obrigatório');if(await this[_0x4adec3(0x520)]['flow']['findOne']({'where':{'name':_0x3e2670[_0x4adec3(0x7bd)]}},this['instance'][_0x4adec3(0x7dd)]))throw new m(_0x4adec3(0x698));return _0x4adec3(0x7bd)in _0x3e2670&&_0x4adec3(0x7b0)in _0x3e2670&&'owner'in _0x3e2670&&Object['keys'](_0x3e2670)[_0x4adec3(0x5a8)]===0x3?this[_0x4adec3(0x705)](_0x3e2670[_0x4adec3(0x217)],_0x3e2670[_0x4adec3(0x7b0)],_0x3e2670[_0x4adec3(0x7bd)]):this[_0x4adec3(0x57e)](_0x3e2670);}async[a0_0x236793(0x705)](_0x219873,_0x11d9a3,_0x21c3fe){const _0x449227=a0_0x236793;try{this[_0x449227(0x598)][_0x449227(0x461)](this['instanceName']+'\x20('+this[_0x449227(0x4fb)][_0x449227(0x7dd)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x36b89c=await this['repository'][_0x449227(0x671)]['findOne']({'where':{'name':_0x21c3fe,'sharePass':_0x11d9a3}},_0x219873);if(!_0x36b89c)throw new m(_0x449227(0x6bd));let _0x3f60f5={..._0x36b89c};return _0x3f60f5['owner']=this[_0x449227(0x4fb)][_0x449227(0x7dd)],_0x3f60f5[_0x449227(0x53a)]=Array[_0x449227(0x727)](new Set([..._0x36b89c[_0x449227(0x53a)]||[],_0x36b89c['owner'],this['instance'][_0x449227(0x7dd)]])),_0x36b89c[_0x449227(0x53a)]=_0x3f60f5['shareOwners'],await this[_0x449227(0x520)][_0x449227(0x671)][_0x449227(0x1e2)](_0x36b89c[_0x449227(0x3c4)],{'shareOwners':_0x36b89c[_0x449227(0x53a)]},_0x36b89c[_0x449227(0x217)]),_0x36b89c[_0x449227(0x4d1)]===!0x0&&await this[_0x449227(0x520)]['flow']['updateMany']({},{'default':!0x1},this[_0x449227(0x4fb)][_0x449227(0x7dd)]),await this[_0x449227(0x520)][_0x449227(0x671)][_0x449227(0x3a8)](_0x3f60f5,this['instance']['wuid']);}catch(_0x413f14){let _0x22d722=_0x449227(0x60e),_0x3d992f=_0x413f14 instanceof Error?_0x413f14[_0x449227(0x7e9)]:typeof _0x413f14=='object'?JSON[_0x449227(0x6fe)](_0x413f14):_0x413f14,_0x4639e5=_0x22d722+':\x20'+_0x3d992f;throw this[_0x449227(0x598)][_0x449227(0x1a3)](this['instanceName']+'\x20('+this[_0x449227(0x4fb)][_0x449227(0x7dd)]+'):\x20'+_0x4639e5),new m(_0x4639e5);}}async[a0_0x236793(0x57e)](_0x3614b0){const _0x316916=a0_0x236793;try{this[_0x316916(0x598)][_0x316916(0x461)](this['instanceName']+'\x20('+this[_0x316916(0x4fb)][_0x316916(0x7dd)]+_0x316916(0x5b4)),delete _0x3614b0[_0x316916(0x53a)],delete _0x3614b0[_0x316916(0x7b0)],delete _0x3614b0['owner'],_0x3614b0[_0x316916(0x4d1)]===!0x0&&await this[_0x316916(0x520)][_0x316916(0x671)][_0x316916(0x681)]({},{'default':!0x1},this[_0x316916(0x4fb)][_0x316916(0x7dd)]);let _0x300bc2=new re[(_0x316916(0x1aa))][(_0x316916(0x231))](),_0x3dadd1={'_id':_0x300bc2,'default':!0x0,'title':_0x316916(0x484),'x':0x0,'y':0x0},_0x4999ac={'_id':new re[(_0x316916(0x1aa))][(_0x316916(0x231))](),'order':0x1,'groupId':_0x300bc2[_0x316916(0x6eb)](),'type':_0x316916(0x5ad)},_0x36bb51={'_id':new re['Types'][(_0x316916(0x231))](),'owner':this[_0x316916(0x4fb)][_0x316916(0x7dd)],'name':_0x3614b0[_0x316916(0x7bd)],'groups':[_0x3dadd1],'blocks':[_0x4999ac],..._0x3614b0};return await this[_0x316916(0x520)][_0x316916(0x671)][_0x316916(0x3a8)](_0x36bb51,this[_0x316916(0x4fb)]['wuid']);}catch(_0x15374b){let _0x33cdaf=_0x316916(0x2c7),_0x507a8c=_0x15374b instanceof Error?_0x15374b[_0x316916(0x7e9)]:typeof _0x15374b==_0x316916(0x22a)?JSON[_0x316916(0x6fe)](_0x15374b):_0x15374b,_0x2735df=_0x33cdaf+':\x20'+_0x507a8c;throw this[_0x316916(0x598)][_0x316916(0x1a3)](this[_0x316916(0x5a5)]+'\x20('+this[_0x316916(0x4fb)][_0x316916(0x7dd)]+_0x316916(0x344)+_0x2735df),new m(_0x2735df);}}async[a0_0x236793(0x563)](_0x333969,_0x583c58){const _0x221012=a0_0x236793;try{let _0x522eee=await this[_0x221012(0x520)][_0x221012(0x671)][_0x221012(0x542)]({'where':{'_id':_0x333969}},_0x583c58);if(_0x522eee&&_0x522eee[_0x221012(0x53a)]){for(let _0x555105 of _0x522eee[_0x221012(0x53a)])if(_0x555105!==_0x583c58){let _0x100e55={..._0x522eee,'owner':_0x555105};await this[_0x221012(0x520)][_0x221012(0x671)][_0x221012(0x654)](_0x333969,_0x100e55,_0x555105);}}}catch(_0x22815a){this[_0x221012(0x598)]['error']('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x22815a);}}async[a0_0x236793(0x5ae)](_0x5cc6a6){const _0xeb056c=a0_0x236793;try{this[_0xeb056c(0x598)][_0xeb056c(0x461)](this[_0xeb056c(0x5a5)]+'\x20('+this['instance']['wuid']+_0xeb056c(0x6ba));let _0x3b9afa=await this['repository'][_0xeb056c(0x671)]['findOne']({'where':{'name':_0x5cc6a6}},this['instance'][_0xeb056c(0x7dd)]);if(_0x3b9afa&&_0x3b9afa[_0xeb056c(0x53a)]&&_0x3b9afa[_0xeb056c(0x53a)][_0xeb056c(0x5a8)]>0x1){for(let _0x5def8b of _0x3b9afa['shareOwners'])if(_0x5def8b!==this[_0xeb056c(0x4fb)]['wuid']){let _0x1bb21e=await this[_0xeb056c(0x520)]['flow'][_0xeb056c(0x542)]({'where':{'sharePass':_0x3b9afa[_0xeb056c(0x7b0)]}},_0x5def8b);_0x1bb21e&&(_0x1bb21e[_0xeb056c(0x53a)]=_0x1bb21e['shareOwners']['filter'](_0x219627=>_0x219627!==_0x3b9afa['owner']),await this[_0xeb056c(0x520)][_0xeb056c(0x671)][_0xeb056c(0x1e2)](_0x1bb21e[_0xeb056c(0x3c4)],{'shareOwners':_0x1bb21e['shareOwners']},_0x5def8b));}}return await this['repository']['flow'][_0xeb056c(0x4f7)]({'where':{'name':_0x5cc6a6}},this[_0xeb056c(0x4fb)]['wuid']);}catch(_0x2ec4fd){return this[_0xeb056c(0x598)]['error'](this[_0xeb056c(0x5a5)]+'\x20('+this[_0xeb056c(0x4fb)]['wuid']+_0xeb056c(0x60f)+(_0x2ec4fd instanceof Error?_0x2ec4fd['message']:JSON['stringify'](_0x2ec4fd,null,0x2))),{'message':_0xeb056c(0x7a3)+_0x2ec4fd[_0xeb056c(0x7e9)]};}}async[a0_0x236793(0x7aa)](_0x2653c6){const _0x3eca6c=a0_0x236793;try{this[_0x3eca6c(0x598)]['verbose'](this[_0x3eca6c(0x5a5)]+'\x20('+this[_0x3eca6c(0x4fb)][_0x3eca6c(0x7dd)]+_0x3eca6c(0x500));let _0x5795a0=await this['repository'][_0x3eca6c(0x671)]['findOne']({'where':{'name':_0x2653c6}},this['instance'][_0x3eca6c(0x7dd)]);if(!_0x5795a0)throw new Error(_0x3eca6c(0x5cc));if(!this[_0x3eca6c(0x6d8)]&&(await this[_0x3eca6c(0x2c1)](),!this['AutomateSystem']))return null;let _0x37f626=this[_0x3eca6c(0x6d8)]?.[_0x3eca6c(0x249)][_0x3eca6c(0x405)](_0x18356d=>_0x18356d[_0x3eca6c(0x7bd)]),_0x45c74a=[_0x3eca6c(0x337),'nomecompleto',_0x3eca6c(0x2f3),_0x3eca6c(0x295),_0x3eca6c(0x464),_0x3eca6c(0x64b),'responsavelid',_0x3eca6c(0x6fa),_0x3eca6c(0x5d1)];_0x5795a0[_0x3eca6c(0x4fc)]=_0x5795a0['variables'][_0x3eca6c(0x504)](_0x34efc5=>!(_0x34efc5['folder']===_0x3eca6c(0x64f)||_0x34efc5[_0x3eca6c(0x64f)])),_0x45c74a[_0x3eca6c(0x595)](_0x3d6fb7=>{const _0x8c885=_0x3eca6c;_0x5795a0[_0x8c885(0x4fc)][_0x8c885(0x4a9)]({'folder':_0x8c885(0x64f),'name':_0x3d6fb7,'value':'','doc':'','leadInfo':!0x0});}),_0x37f626['forEach'](_0x4e2d14=>{const _0x1332b1=_0x3eca6c;let _0x4338fb=_0x5795a0[_0x1332b1(0x4fc)][_0x1332b1(0x6a5)](_0x4a01da=>_0x4a01da['name']===_0x4e2d14);_0x4338fb===-0x1?_0x5795a0[_0x1332b1(0x4fc)]['push']({'folder':_0x1332b1(0x64f),'name':_0x4e2d14,'value':'','doc':'','leadInfo':!0x0}):(_0x5795a0[_0x1332b1(0x4fc)][_0x4338fb][_0x1332b1(0x433)]=_0x1332b1(0x64f),_0x5795a0[_0x1332b1(0x4fc)][_0x4338fb][_0x1332b1(0x64f)]=!0x0);}),_0x5795a0[_0x3eca6c(0x301)]&&_0x5795a0[_0x3eca6c(0x301)][_0x3eca6c(0x5a8)]>0x0&&_0x5795a0[_0x3eca6c(0x301)]['forEach'](_0x54a626=>{const _0x343f55=_0x3eca6c;_0x54a626[_0x343f55(0x3cd)]&&_0x54a626[_0x343f55(0x370)]&&_0x54a626[_0x343f55(0x3cd)]===_0x54a626[_0x343f55(0x370)]&&(_0x54a626[_0x343f55(0x370)]=null);});let _0x211a94=await this['repository']['flow']['updateOne'](_0x5795a0['_id'],_0x5795a0,this[_0x3eca6c(0x4fb)][_0x3eca6c(0x7dd)]);if(!_0x211a94)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x211a94;}catch(_0x3f9c15){let _0xd5ebe0=_0x3eca6c(0x6f5),_0x42f55d=_0x3f9c15 instanceof Error?_0x3f9c15['message']:typeof _0x3f9c15=='object'?JSON[_0x3eca6c(0x6fe)](_0x3f9c15):_0x3f9c15,_0x25f11c=_0xd5ebe0+':\x20'+_0x42f55d;throw this[_0x3eca6c(0x598)]['error'](this['instanceName']+'\x20('+this[_0x3eca6c(0x4fb)][_0x3eca6c(0x7dd)]+_0x3eca6c(0x344)+_0x25f11c),new m(_0x25f11c);}}async[a0_0x236793(0x2e4)](){const _0x57b08b=a0_0x236793;try{return this[_0x57b08b(0x598)][_0x57b08b(0x461)](this[_0x57b08b(0x5a5)]+'\x20('+this[_0x57b08b(0x4fb)][_0x57b08b(0x7dd)]+_0x57b08b(0x762)),await this[_0x57b08b(0x520)][_0x57b08b(0x671)][_0x57b08b(0x869)](this[_0x57b08b(0x4fb)][_0x57b08b(0x7dd)]),await this['repository'][_0x57b08b(0x671)][_0x57b08b(0x393)]({'where':{}},this[_0x57b08b(0x4fb)][_0x57b08b(0x7dd)]);}catch(_0x25ec00){return this[_0x57b08b(0x598)]['error'](this[_0x57b08b(0x5a5)]+'\x20('+this['instance'][_0x57b08b(0x7dd)]+_0x57b08b(0x3db)+(_0x25ec00 instanceof Error?_0x25ec00[_0x57b08b(0x7e9)]:JSON[_0x57b08b(0x6fe)](_0x25ec00,null,0x2))),{'message':_0x57b08b(0x296)+_0x25ec00[_0x57b08b(0x7e9)]};}}async[a0_0x236793(0x50c)](_0x310e97){const _0x142dd9=a0_0x236793;try{this[_0x142dd9(0x598)]['verbose'](this[_0x142dd9(0x5a5)]+'\x20('+this['instance']['wuid']+_0x142dd9(0x203));let _0x60c69c=await this[_0x142dd9(0x520)][_0x142dd9(0x671)][_0x142dd9(0x542)]({'where':{'name':_0x310e97['name']}},this['instance'][_0x142dd9(0x7dd)]);if(!_0x60c69c)return{'message':'Fluxo\x20não\x20encontrado'};_0x310e97[_0x142dd9(0x4d1)]===!0x0&&await this[_0x142dd9(0x520)]['flow']['updateMany']({},{'default':!0x1},this[_0x142dd9(0x4fb)]['wuid']),delete _0x310e97[_0x142dd9(0x53a)],delete _0x310e97['sharePass'];let _0x3087b9=await this['repository'][_0x142dd9(0x671)][_0x142dd9(0x1e2)](_0x60c69c['_id'],_0x310e97,this['instance']['wuid']);return _0x3087b9&&_0x3087b9['shareOwners']&&_0x3087b9[_0x142dd9(0x53a)]['length']>0x1&&this['synchronizeFlows'](_0x3087b9[_0x142dd9(0x3c4)],this[_0x142dd9(0x4fb)][_0x142dd9(0x7dd)]),_0x3087b9;}catch(_0x3f2c6d){let _0xed26e0='Erro\x20ao\x20alterar\x20fluxo',_0x355a1b=_0x3f2c6d instanceof Error?_0x3f2c6d['message']:typeof _0x3f2c6d==_0x142dd9(0x22a)?JSON[_0x142dd9(0x6fe)](_0x3f2c6d):_0x3f2c6d,_0x2106fc=_0xed26e0+':\x20'+_0x355a1b;throw this[_0x142dd9(0x598)][_0x142dd9(0x1a3)](this[_0x142dd9(0x5a5)]+'\x20('+this[_0x142dd9(0x4fb)][_0x142dd9(0x7dd)]+_0x142dd9(0x344)+_0x2106fc),new m(_0x2106fc);}}async[a0_0x236793(0x359)](_0x13bbd1){const _0x469768=a0_0x236793;try{this[_0x469768(0x598)][_0x469768(0x461)](this[_0x469768(0x5a5)]+'\x20('+this[_0x469768(0x4fb)][_0x469768(0x7dd)]+'):\x20Editando\x20bloco...');let _0x4bf3c9=await this[_0x469768(0x520)][_0x469768(0x671)][_0x469768(0x542)]({'where':{'name':_0x13bbd1[_0x469768(0x7bd)]}},this['instance']['wuid']);_0x4bf3c9||this[_0x469768(0x573)](_0x469768(0x5cc));let {block:_0x48d04a}=_0x13bbd1;_0x48d04a?.[_0x469768(0x483)]?this[_0x469768(0x643)](_0x4bf3c9,_0x13bbd1):_0x48d04a?.[_0x469768(0x29a)]?this[_0x469768(0x298)](_0x4bf3c9,_0x13bbd1):_0x48d04a[_0x469768(0x3c4)]?await this[_0x469768(0x1ad)](_0x4bf3c9,_0x13bbd1):this['addBlock'](_0x4bf3c9,_0x13bbd1);let _0x5e413d=await this[_0x469768(0x520)][_0x469768(0x671)][_0x469768(0x1e2)](_0x4bf3c9[_0x469768(0x3c4)],_0x4bf3c9,this['instance'][_0x469768(0x7dd)]);if(_0x5e413d&&_0x5e413d[_0x469768(0x53a)]&&_0x5e413d['shareOwners'][_0x469768(0x5a8)]>0x1&&this[_0x469768(0x563)](_0x5e413d['_id'],this[_0x469768(0x4fb)]['wuid']),!_0x5e413d)throw new Error(_0x469768(0x2fa));return _0x5e413d;}catch(_0x4e9780){this[_0x469768(0x573)](_0x469768(0x531)+_0x4e9780);}}async['copyBlock'](_0x17ffbe,_0x19109b){const _0x2fac48=a0_0x236793;let _0x2ffd7a=_0x19109b[_0x2fac48(0x1b6)][_0x2fac48(0x3c4)],_0x5c790c=_0x17ffbe[_0x2fac48(0x301)][_0x2fac48(0x75d)](_0x2f0b57=>_0x2f0b57[_0x2fac48(0x3c4)][_0x2fac48(0x6eb)]()===_0x2ffd7a);if(!_0x5c790c){this[_0x2fac48(0x598)][_0x2fac48(0x1a3)](this['instanceName']+'\x20('+this['instance'][_0x2fac48(0x7dd)]+_0x2fac48(0x7d8)+_0x2ffd7a+_0x2fac48(0x2b6));return;}this['logger'][_0x2fac48(0x461)](this[_0x2fac48(0x5a5)]+'\x20('+this['instance'][_0x2fac48(0x7dd)]+_0x2fac48(0x513)+JSON[_0x2fac48(0x6fe)](_0x5c790c));let _0x45d4c3=JSON['parse'](JSON[_0x2fac48(0x6fe)](_0x5c790c));_0x45d4c3[_0x2fac48(0x3c4)]=new re[(_0x2fac48(0x4d1))][(_0x2fac48(0x1aa))][(_0x2fac48(0x231))](),this[_0x2fac48(0x598)][_0x2fac48(0x461)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2fac48(0x6b7)+JSON['stringify'](_0x45d4c3)),_0x17ffbe[_0x2fac48(0x301)][_0x2fac48(0x4a9)](_0x45d4c3),this['reorderBlocks'](_0x17ffbe[_0x2fac48(0x301)],_0x45d4c3[_0x2fac48(0x3cd)]);}[a0_0x236793(0x573)](_0x16a9af){const _0x38cde7=a0_0x236793;throw this[_0x38cde7(0x598)][_0x38cde7(0x1a3)](this[_0x38cde7(0x5a5)]+'\x20('+this[_0x38cde7(0x4fb)]['wuid']+_0x38cde7(0x344)+_0x16a9af),new m(_0x16a9af);}['deleteBlock'](_0x4a067f,_0x1fb876){const _0xa95662=a0_0x236793;let {block:_0x4201a4}=_0x1fb876;if(_0x4201a4['type']===_0xa95662(0x5ad)){this[_0xa95662(0x573)](_0xa95662(0x7da));return;}if(!_0x4201a4[_0xa95662(0x3c4)]){this[_0xa95662(0x573)](_0xa95662(0x5da));return;}let _0x24c55a=_0x4a067f[_0xa95662(0x301)][_0xa95662(0x75d)](_0x94ae6f=>_0x94ae6f[_0xa95662(0x3c4)][_0xa95662(0x6eb)]()===_0x1fb876[_0xa95662(0x1b6)]['_id']['toString']());if(!_0x24c55a){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x4201a4[_0xa95662(0x3c4)]+'\x20não\x20encontrado');return;}_0x4a067f['blocks']=_0x4a067f[_0xa95662(0x301)][_0xa95662(0x504)](_0xf1b4a6=>_0xf1b4a6['_id'][_0xa95662(0x6eb)]()!==_0x1fb876[_0xa95662(0x1b6)][_0xa95662(0x3c4)]['toString']()),_0x4a067f[_0xa95662(0x5e5)]=_0x4a067f[_0xa95662(0x5e5)]['filter'](_0x369bd9=>_0x369bd9[_0xa95662(0x46f)]!==_0x4201a4[_0xa95662(0x3c4)][_0xa95662(0x6eb)]()),_0x4a067f['varedits']=_0x4a067f[_0xa95662(0x765)][_0xa95662(0x504)](_0x4ad220=>_0x4ad220[_0xa95662(0x46f)]!==_0x4201a4[_0xa95662(0x3c4)]['toString']()),_0x4a067f[_0xa95662(0x532)]=_0x4a067f[_0xa95662(0x532)][_0xa95662(0x504)](_0x3115b2=>_0x3115b2[_0xa95662(0x46f)]!==_0x4201a4[_0xa95662(0x3c4)][_0xa95662(0x6eb)]()),this[_0xa95662(0x21d)](_0x4a067f[_0xa95662(0x301)],_0x24c55a['groupId']);}async[a0_0x236793(0x1ad)](_0x4607bf,_0x72f9aa){const _0x4a0c0f=a0_0x236793;let _0x3862c1=_0x4607bf[_0x4a0c0f(0x301)][_0x4a0c0f(0x6a5)](_0x29ea90=>_0x29ea90[_0x4a0c0f(0x3c4)][_0x4a0c0f(0x6eb)]()===_0x72f9aa['block'][_0x4a0c0f(0x3c4)][_0x4a0c0f(0x6eb)]());if(this[_0x4a0c0f(0x598)][_0x4a0c0f(0x461)](this[_0x4a0c0f(0x5a5)]+'\x20('+this['instance']['wuid']+_0x4a0c0f(0x5ed)+_0x3862c1),_0x3862c1===-0x1){this[_0x4a0c0f(0x598)][_0x4a0c0f(0x461)]('Bloco\x20com\x20ID\x20'+_0x72f9aa['block']['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x4607bf['blocks'][_0x3862c1][_0x4a0c0f(0x787)]===_0x4a0c0f(0x5ad)){let _0x4cf769=Object[_0x4a0c0f(0x75c)](_0x72f9aa[_0x4a0c0f(0x1b6)]);if(_0x4cf769['length']>0x2||_0x4cf769[_0x4a0c0f(0x5a8)]===0x2&&!_0x4cf769['includes'](_0x4a0c0f(0x370))){this[_0x4a0c0f(0x573)](_0x4a0c0f(0x451));return;}}let _0x323c26=_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x3cd)];for(let _0x4e25e5 in _0x72f9aa[_0x4a0c0f(0x1b6)])_0x72f9aa[_0x4a0c0f(0x1b6)][_0x4a0c0f(0x59b)](_0x4e25e5)&&(_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4e25e5]=_0x72f9aa['block'][_0x4e25e5]);if(this[_0x4a0c0f(0x598)][_0x4a0c0f(0x461)](this[_0x4a0c0f(0x5a5)]+'\x20('+this['instance'][_0x4a0c0f(0x7dd)]+_0x4a0c0f(0x702)+JSON[_0x4a0c0f(0x6fe)](_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1])),_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)]&&'header'in _0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)]){this[_0x4a0c0f(0x598)][_0x4a0c0f(0x461)](this[_0x4a0c0f(0x5a5)]+'\x20('+this[_0x4a0c0f(0x4fb)][_0x4a0c0f(0x7dd)]+_0x4a0c0f(0x544));let _0x1ba46d=JSON[_0x4a0c0f(0x6fe)](_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1]['apirequest']['header'],null,0x1);_0x1ba46d[_0x4a0c0f(0x5a8)]>0x2&&(_0x1ba46d=_0x1ba46d[_0x4a0c0f(0x420)](0x1,_0x1ba46d[_0x4a0c0f(0x5a8)]-0x1)[_0x4a0c0f(0x76e)]()),_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)][_0x4a0c0f(0x2ec)]=_0x1ba46d;}if(_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)]&&_0x4a0c0f(0x61f)in _0x4607bf[_0x4a0c0f(0x301)][_0x3862c1]['apirequest']&&!(_0x4a0c0f(0x3fb)in _0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)])){this['logger'][_0x4a0c0f(0x461)](this[_0x4a0c0f(0x5a5)]+'\x20('+this[_0x4a0c0f(0x4fb)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x4607bf['blocks'][_0x3862c1][_0x4a0c0f(0x587)][_0x4a0c0f(0x7b9)]=!0x1;let _0x547668=JSON[_0x4a0c0f(0x6fe)](_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)][_0x4a0c0f(0x61f)],null,0x2);_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)][_0x4a0c0f(0x3fb)]=_0x547668;}if(_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1][_0x4a0c0f(0x587)]&&'bodyString'in _0x4607bf['blocks'][_0x3862c1][_0x4a0c0f(0x587)]){_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1]['apirequest'][_0x4a0c0f(0x7b9)]=!0x1;let _0x2c541a=_0x4607bf['blocks'][_0x3862c1][_0x4a0c0f(0x587)][_0x4a0c0f(0x3fb)],_0x691374=this[_0x4a0c0f(0x376)](_0x2c541a);_0x4607bf['blocks'][_0x3862c1][_0x4a0c0f(0x587)][_0x4a0c0f(0x3fb)]=_0x691374['result'],_0x4607bf['blocks'][_0x3862c1]['apirequest'][_0x4a0c0f(0x7b9)]=_0x691374[_0x4a0c0f(0x1a3)];}let _0x7fa456=_0x4607bf[_0x4a0c0f(0x301)][_0x3862c1]['groupId'];_0x323c26!==_0x7fa456?(this['reorderBlocks'](_0x4607bf[_0x4a0c0f(0x301)],_0x323c26),this['reorderBlocks'](_0x4607bf['blocks'],_0x7fa456)):this[_0x4a0c0f(0x21d)](_0x4607bf[_0x4a0c0f(0x301)],_0x323c26);}['beautifyWithPlaceholders'](_0x164e11){const _0x19f7cd=a0_0x236793;let _0xb25e46='\u205f',_0x413785=!0x1,_0x3ca292='';for(let _0x5be58b=0x0;_0x5be58b<_0x164e11[_0x19f7cd(0x5a8)];_0x5be58b++){let _0x38a590=_0x164e11[_0x5be58b];_0x38a590==='\x22'&&(_0x5be58b===0x0||_0x164e11[_0x5be58b-0x1]!=='\x5c')&&(_0x413785=!_0x413785),!(!_0x413785&&(_0x38a590==='\x0a'||_0x38a590==='\x20'||_0x38a590===_0xb25e46))&&(_0x3ca292+=_0x38a590);}let _0x14799d={},_0x41f18b=9876543210.1234,_0x5517e6=_0x3ca292[_0x19f7cd(0x517)](/\{\{([^}]+)\}\}/g,_0x56eea2=>{let _0x684563=_0x56eea2,_0x37ebd6=''+_0x41f18b;return _0x14799d[_0x37ebd6]=_0x684563,_0x41f18b+=0.0001,_0x37ebd6;}),_0x400bb7='',_0x2c9af5=!0x1;try{let _0x3c9f00=JSON[_0x19f7cd(0x36f)](_0x5517e6);_0x400bb7=JSON[_0x19f7cd(0x6fe)](_0x3c9f00,null,0x2),_0x400bb7=_0x400bb7[_0x19f7cd(0x517)](/\n( +)/g,(_0x3bedd7,_0x34ab06)=>{const _0x45727c=_0x19f7cd;let _0xdb3a28=_0x34ab06[_0x45727c(0x5a8)];return'\x0a'+_0xb25e46['repeat'](_0xdb3a28*0x2);}),_0x400bb7=_0x400bb7[_0x19f7cd(0x517)](/(\d{10,}\.\d+)/g,_0x2690e1=>_0x14799d[_0x2690e1]||_0x2690e1);}catch(_0xc65ee2){console[_0x19f7cd(0x1a3)]('Error\x20parsing\x20JSON:',_0xc65ee2),_0x400bb7=_0x164e11,_0x2c9af5=!0x0;}return{'result':_0x400bb7,'error':_0x2c9af5};}[a0_0x236793(0x341)](_0x8dc735,_0x38e351){const _0x17299a=a0_0x236793;if(_0x38e351[_0x17299a(0x1b6)][_0x17299a(0x787)]==='start'){this[_0x17299a(0x573)](_0x17299a(0x3d0));return;}if(_0x38e351[_0x17299a(0x1b6)][_0x17299a(0x587)]&&_0x17299a(0x4ec)in _0x38e351[_0x17299a(0x1b6)][_0x17299a(0x587)]){this['logger'][_0x17299a(0x461)](this['instanceName']+'\x20('+this[_0x17299a(0x4fb)][_0x17299a(0x7dd)]+_0x17299a(0x544));let _0x6b6cbc=JSON[_0x17299a(0x6fe)](_0x38e351[_0x17299a(0x1b6)][_0x17299a(0x587)]['header'],null,0x1);_0x6b6cbc['length']>0x2&&(_0x6b6cbc=_0x6b6cbc[_0x17299a(0x420)](0x1,_0x6b6cbc[_0x17299a(0x5a8)]-0x1)[_0x17299a(0x76e)]()),_0x38e351[_0x17299a(0x1b6)][_0x17299a(0x587)][_0x17299a(0x2ec)]=_0x6b6cbc;}_0x38e351[_0x17299a(0x1b6)][_0x17299a(0x587)]&&'body'in _0x38e351[_0x17299a(0x1b6)]['apirequest']&&(this[_0x17299a(0x598)][_0x17299a(0x461)](this[_0x17299a(0x5a5)]+'\x20('+this[_0x17299a(0x4fb)][_0x17299a(0x7dd)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x38e351[_0x17299a(0x1b6)][_0x17299a(0x587)][_0x17299a(0x3fb)]=JSON[_0x17299a(0x6fe)](_0x38e351[_0x17299a(0x1b6)][_0x17299a(0x587)]['body'],null,0x1)[_0x17299a(0x76e)]()),_0x8dc735['blocks']['push'](_0x38e351[_0x17299a(0x1b6)]),this[_0x17299a(0x21d)](_0x8dc735[_0x17299a(0x301)],_0x38e351['block'][_0x17299a(0x3cd)]);}[a0_0x236793(0x21d)](_0x25855f,_0x236da9){const _0x4f1dcd=a0_0x236793;let _0x3a0168=_0x25855f['filter'](_0x29c71b=>_0x29c71b[_0x4f1dcd(0x3cd)]===_0x236da9);_0x3a0168[_0x4f1dcd(0x69a)]((_0x52793c,_0x37c12e)=>_0x52793c['order']-_0x37c12e['order']),_0x3a0168['forEach']((_0x5b772a,_0x344395)=>_0x5b772a['order']=_0x344395+0x1);}async['editFlowReply'](_0x193c46){const _0x170d8a=a0_0x236793;try{if(this[_0x170d8a(0x598)][_0x170d8a(0x461)](this['instanceName']+'\x20('+this[_0x170d8a(0x4fb)][_0x170d8a(0x7dd)]+_0x170d8a(0x5e9)),!_0x193c46||!_0x193c46[_0x170d8a(0x20f)]){this[_0x170d8a(0x573)]('Data\x20inválida\x20fornecida');return;}let _0x5ee77a=await this[_0x170d8a(0x520)][_0x170d8a(0x671)][_0x170d8a(0x542)]({'where':{'name':_0x193c46[_0x170d8a(0x7bd)]}},this[_0x170d8a(0x4fb)][_0x170d8a(0x7dd)]);_0x5ee77a||this[_0x170d8a(0x573)](_0x170d8a(0x5cc));let {replyOption:_0x1a31d8}=_0x193c46;_0x1a31d8?.[_0x170d8a(0x29a)]?(this[_0x170d8a(0x5fd)](_0x5ee77a,_0x193c46),this[_0x170d8a(0x832)](_0x5ee77a['replyOptions'],_0x193c46[_0x170d8a(0x20f)]['blockId'])):_0x1a31d8['_id']?(await this[_0x170d8a(0x264)](_0x5ee77a,_0x193c46),this[_0x170d8a(0x832)](_0x5ee77a[_0x170d8a(0x532)],_0x193c46[_0x170d8a(0x20f)][_0x170d8a(0x46f)])):(this[_0x170d8a(0x731)](_0x5ee77a,_0x193c46),this[_0x170d8a(0x832)](_0x5ee77a[_0x170d8a(0x532)],_0x193c46[_0x170d8a(0x20f)][_0x170d8a(0x46f)]));let _0x557234=await this[_0x170d8a(0x520)]['flow'][_0x170d8a(0x1e2)](_0x5ee77a[_0x170d8a(0x3c4)],_0x5ee77a,this[_0x170d8a(0x4fb)]['wuid']);if(_0x557234&&_0x557234[_0x170d8a(0x53a)]&&_0x557234['shareOwners'][_0x170d8a(0x5a8)]>0x1&&this[_0x170d8a(0x563)](_0x557234[_0x170d8a(0x3c4)],this['instance'][_0x170d8a(0x7dd)]),!_0x557234)throw new Error(_0x170d8a(0x2fa));return _0x557234;}catch(_0x1411ac){this[_0x170d8a(0x573)](_0x170d8a(0x6c0)+_0x1411ac);}}['reorderReplyOptions'](_0x29a011,_0x365ce6){const _0x5329b4=a0_0x236793;console[_0x5329b4(0x7e7)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x365ce6),_0x29a011['forEach'](_0x3a0ba6=>{const _0x421754=_0x5329b4;_0x3a0ba6[_0x421754(0x46f)]===_0x365ce6&&_0x3a0ba6[_0x421754(0x831)]===void 0x0&&(_0x3a0ba6[_0x421754(0x831)]=0x270f);});let _0x5ada2c=_0x29a011['filter'](_0x1b28a7=>_0x1b28a7[_0x5329b4(0x46f)]===_0x365ce6);_0x5ada2c[_0x5329b4(0x69a)]((_0x17fc64,_0x236a38)=>_0x17fc64[_0x5329b4(0x831)]-_0x236a38[_0x5329b4(0x831)]),_0x5ada2c[_0x5329b4(0x595)]((_0x51fcda,_0x5b183b)=>{_0x51fcda['order']=_0x5b183b+0x1;}),_0x29a011[_0x5329b4(0x595)](_0x179b90=>{const _0x3b7989=_0x5329b4;if(_0x179b90[_0x3b7989(0x46f)]===_0x365ce6){let _0x556ed6=_0x5ada2c[_0x3b7989(0x75d)](_0x4ee523=>_0x4ee523[_0x3b7989(0x3c4)]&&_0x179b90[_0x3b7989(0x3c4)]&&_0x4ee523[_0x3b7989(0x3c4)]['toString']()===_0x179b90[_0x3b7989(0x3c4)][_0x3b7989(0x6eb)]());_0x556ed6&&(_0x179b90[_0x3b7989(0x831)]=_0x556ed6['order']);}}),console[_0x5329b4(0x7e7)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x29a011);}[a0_0x236793(0x5fd)](_0x13007e,_0x4b44a9){const _0x14146e=a0_0x236793;let {replyOption:_0xc0d48b}=_0x4b44a9;if(!_0xc0d48b[_0x14146e(0x3c4)]){this['throwAndLogError'](_0x14146e(0x65b));return;}if(!_0x13007e[_0x14146e(0x532)][_0x14146e(0x75d)](_0x2d5b21=>_0x2d5b21[_0x14146e(0x3c4)][_0x14146e(0x6eb)]()===_0x4b44a9['replyOption'][_0x14146e(0x3c4)]['toString']())){this[_0x14146e(0x573)](_0x14146e(0x699)+_0xc0d48b[_0x14146e(0x3c4)]+_0x14146e(0x3d4));return;}_0x13007e[_0x14146e(0x532)]=_0x13007e['replyOptions']['filter'](_0x4ac49d=>_0x4ac49d[_0x14146e(0x3c4)][_0x14146e(0x6eb)]()!==_0x4b44a9[_0x14146e(0x20f)][_0x14146e(0x3c4)]['toString']());}async[a0_0x236793(0x264)](_0x6306f,_0x59adff){const _0x557cc9=a0_0x236793;let _0x2444a1=_0x6306f['replyOptions'][_0x557cc9(0x6a5)](_0x554bbb=>_0x554bbb[_0x557cc9(0x3c4)]['toString']()===_0x59adff['replyOption'][_0x557cc9(0x3c4)][_0x557cc9(0x6eb)]());if(_0x2444a1===-0x1){this[_0x557cc9(0x573)](_0x557cc9(0x699)+_0x59adff[_0x557cc9(0x20f)][_0x557cc9(0x3c4)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x57b4df in _0x59adff[_0x557cc9(0x20f)])_0x59adff[_0x557cc9(0x20f)][_0x557cc9(0x59b)](_0x57b4df)&&(_0x6306f[_0x557cc9(0x532)][_0x2444a1][_0x57b4df]=_0x59adff[_0x557cc9(0x20f)][_0x57b4df]);}[a0_0x236793(0x731)](_0xc06490,_0x40e900){const _0x33910d=a0_0x236793;_0xc06490['replyOptions']['push'](_0x40e900[_0x33910d(0x20f)]);}async[a0_0x236793(0x1f9)](_0x5d7630){const _0x320c4f=a0_0x236793;this[_0x320c4f(0x598)][_0x320c4f(0x461)](this['instanceName']+'\x20('+this['instance'][_0x320c4f(0x7dd)]+_0x320c4f(0x4e2)+_0x5d7630);try{this[_0x320c4f(0x598)]['verbose'](this[_0x320c4f(0x5a5)]+'\x20('+this[_0x320c4f(0x4fb)][_0x320c4f(0x7dd)]+_0x320c4f(0x827));let _0xbc70c=await this[_0x320c4f(0x520)][_0x320c4f(0x671)][_0x320c4f(0x542)]({'where':{'name':_0x5d7630['name']}},this[_0x320c4f(0x4fb)][_0x320c4f(0x7dd)]);if(!_0xbc70c)throw new Error(_0x320c4f(0x5cc));if(_0x5d7630['group']&&_0x5d7630[_0x320c4f(0x219)]?.[_0x320c4f(0x29a)]===!0x0){if(this[_0x320c4f(0x598)][_0x320c4f(0x461)](this['instanceName']+'\x20('+this[_0x320c4f(0x4fb)][_0x320c4f(0x7dd)]+'):\x20delete\x20=\x20true'),_0x5d7630['group'][_0x320c4f(0x4d1)]===!0x0)return{'message':_0x320c4f(0x631)};if(_0xbc70c[_0x320c4f(0x301)][_0x320c4f(0x88f)](_0x3a5e8f=>_0x3a5e8f[_0x320c4f(0x3cd)]['toString']()===_0x5d7630[_0x320c4f(0x219)][_0x320c4f(0x3c4)]))return this['logger'][_0x320c4f(0x461)](this[_0x320c4f(0x5a5)]+'\x20('+this[_0x320c4f(0x4fb)]['wuid']+'):\x20tem\x20blocks'),{'message':_0x320c4f(0x7eb)};_0xbc70c[_0x320c4f(0x63d)]=_0xbc70c[_0x320c4f(0x63d)][_0x320c4f(0x504)](_0xf868b4=>_0xf868b4[_0x320c4f(0x3c4)][_0x320c4f(0x6eb)]()!==_0x5d7630[_0x320c4f(0x219)][_0x320c4f(0x3c4)]);}else{if(_0x5d7630[_0x320c4f(0x219)]){if(_0x5d7630[_0x320c4f(0x219)][_0x320c4f(0x4d1)]===!0x0)return{'message':_0x320c4f(0x87b)};if(_0x5d7630[_0x320c4f(0x219)][_0x320c4f(0x3c4)]){let _0x1a6e14=_0xbc70c[_0x320c4f(0x63d)][_0x320c4f(0x75d)](_0x38cae4=>_0x38cae4[_0x320c4f(0x3c4)]['toString']()===_0x5d7630['group'][_0x320c4f(0x3c4)]);_0x1a6e14&&(_0x5d7630[_0x320c4f(0x219)]['x']<0x0&&(_0x5d7630[_0x320c4f(0x219)]['x']=0x0),_0x5d7630[_0x320c4f(0x219)]['y']<0x0&&(_0x5d7630[_0x320c4f(0x219)]['y']=0x0),Object[_0x320c4f(0x887)](_0x1a6e14,_0x5d7630[_0x320c4f(0x219)]));}else _0xbc70c[_0x320c4f(0x63d)]['push'](_0x5d7630['group']);}}let _0x69746d=await this['repository']['flow'][_0x320c4f(0x1e2)](_0xbc70c[_0x320c4f(0x3c4)],_0xbc70c,this[_0x320c4f(0x4fb)][_0x320c4f(0x7dd)]);if(_0x69746d&&_0x69746d['shareOwners']&&_0x69746d[_0x320c4f(0x53a)]['length']>0x1&&this[_0x320c4f(0x563)](_0x69746d[_0x320c4f(0x3c4)],this['instance'][_0x320c4f(0x7dd)]),!_0x69746d)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x69746d;}catch(_0x3d2636){let _0x575569=_0x320c4f(0x2d5),_0xcdc1d1=_0x3d2636 instanceof Error?_0x3d2636['message']:typeof _0x3d2636==_0x320c4f(0x22a)?JSON['stringify'](_0x3d2636):_0x3d2636,_0x5a40b3=_0x575569+':\x20'+_0xcdc1d1;throw this['logger']['error'](this[_0x320c4f(0x5a5)]+'\x20('+this['instance'][_0x320c4f(0x7dd)]+'):\x20'+_0x5a40b3),new m(_0x5a40b3);}}async[a0_0x236793(0x423)](_0x42051c){const _0x1ae2ce=a0_0x236793;try{this[_0x1ae2ce(0x598)][_0x1ae2ce(0x461)](this['instanceName']+'\x20('+this[_0x1ae2ce(0x4fb)]['wuid']+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x180ea2=await this['repository']['flow'][_0x1ae2ce(0x542)]({'where':{'name':_0x42051c['name']}},this[_0x1ae2ce(0x4fb)][_0x1ae2ce(0x7dd)]);if(!_0x180ea2)throw new Error(_0x1ae2ce(0x5cc));let _0x9e6dc=!0x1;if(_0x42051c[_0x1ae2ce(0x2d6)]?.[_0x1ae2ce(0x29a)]===!0x0)_0x180ea2[_0x1ae2ce(0x5e5)]=_0x180ea2['conditions'][_0x1ae2ce(0x504)](_0x5badf8=>_0x5badf8&&_0x42051c[_0x1ae2ce(0x2d6)]&&_0x5badf8[_0x1ae2ce(0x3c4)]&&_0x42051c[_0x1ae2ce(0x2d6)][_0x1ae2ce(0x3c4)]&&_0x5badf8['_id']['toString']()!==_0x42051c[_0x1ae2ce(0x2d6)][_0x1ae2ce(0x3c4)][_0x1ae2ce(0x6eb)]()),_0x9e6dc=!0x0;else{let _0x889cbc=_0x180ea2[_0x1ae2ce(0x5e5)]['find'](_0x56a1d4=>_0x56a1d4&&_0x42051c[_0x1ae2ce(0x2d6)]&&_0x56a1d4[_0x1ae2ce(0x3c4)]&&_0x42051c['condition'][_0x1ae2ce(0x3c4)]&&_0x56a1d4['_id'][_0x1ae2ce(0x6eb)]()===_0x42051c[_0x1ae2ce(0x2d6)][_0x1ae2ce(0x3c4)][_0x1ae2ce(0x6eb)]());_0x889cbc?(_0x9e6dc=_0x889cbc[_0x1ae2ce(0x831)]!==_0x42051c[_0x1ae2ce(0x2d6)][_0x1ae2ce(0x831)],Object[_0x1ae2ce(0x887)](_0x889cbc,_0x42051c[_0x1ae2ce(0x2d6)])):(_0x180ea2[_0x1ae2ce(0x5e5)][_0x1ae2ce(0x4a9)](_0x42051c[_0x1ae2ce(0x2d6)]),_0x9e6dc=!0x0);}if(_0x9e6dc){_0x180ea2[_0x1ae2ce(0x5e5)][_0x1ae2ce(0x69a)]((_0x1707fc,_0x4875e0)=>_0x1707fc[_0x1ae2ce(0x831)]>_0x4875e0['order']?0x1:_0x4875e0[_0x1ae2ce(0x831)]>_0x1707fc[_0x1ae2ce(0x831)]?-0x1:0x0);for(let _0x1b0e19=0x0;_0x1b0e19<_0x180ea2[_0x1ae2ce(0x5e5)][_0x1ae2ce(0x5a8)];_0x1b0e19++)_0x180ea2[_0x1ae2ce(0x5e5)][_0x1b0e19][_0x1ae2ce(0x831)]=_0x1b0e19+0x1;_0x180ea2[_0x1ae2ce(0x5e5)][_0x1ae2ce(0x5a8)]>0x0&&(_0x180ea2[_0x1ae2ce(0x5e5)][0x0][_0x1ae2ce(0x23f)]=_0x1ae2ce(0x44c));}let _0x2382f9=await this[_0x1ae2ce(0x520)]['flow'][_0x1ae2ce(0x1e2)](_0x180ea2[_0x1ae2ce(0x3c4)],_0x180ea2,this[_0x1ae2ce(0x4fb)]['wuid']);if(_0x2382f9&&_0x2382f9[_0x1ae2ce(0x53a)]&&_0x2382f9[_0x1ae2ce(0x53a)][_0x1ae2ce(0x5a8)]>0x1&&this[_0x1ae2ce(0x563)](_0x2382f9['_id'],this[_0x1ae2ce(0x4fb)][_0x1ae2ce(0x7dd)]),!_0x2382f9)throw new Error(_0x1ae2ce(0x2fa));return _0x2382f9;}catch(_0xafb584){let _0x162cdf=_0x1ae2ce(0x615),_0x4be7d2=_0xafb584 instanceof Error?_0xafb584[_0x1ae2ce(0x7e9)]:typeof _0xafb584==_0x1ae2ce(0x22a)?JSON[_0x1ae2ce(0x6fe)](_0xafb584):_0xafb584,_0x1cdb3e=_0x162cdf+':\x20'+_0x4be7d2;throw this['logger'][_0x1ae2ce(0x1a3)](this[_0x1ae2ce(0x5a5)]+'\x20('+this['instance'][_0x1ae2ce(0x7dd)]+_0x1ae2ce(0x344)+_0x1cdb3e),new m(_0x1cdb3e);}}async[a0_0x236793(0x245)](_0x518d78){const _0x11bd20=a0_0x236793;try{this[_0x11bd20(0x598)]['verbose'](this['instanceName']+'\x20('+this[_0x11bd20(0x4fb)][_0x11bd20(0x7dd)]+_0x11bd20(0x7f9));let _0x38794b=await this['repository']['flow']['findOne']({'where':{'name':_0x518d78[_0x11bd20(0x7bd)]}},this[_0x11bd20(0x4fb)]['wuid']);if(!_0x38794b)throw new Error('Flow\x20não\x20encontrado');let _0x1b01e1=!0x1;if(_0x518d78[_0x11bd20(0x5d0)]?.[_0x11bd20(0x29a)]===!0x0)_0x38794b['varedits']=_0x38794b[_0x11bd20(0x765)][_0x11bd20(0x504)](_0x468ca6=>_0x468ca6&&_0x518d78[_0x11bd20(0x5d0)]&&_0x468ca6[_0x11bd20(0x3c4)]&&_0x518d78['varedit'][_0x11bd20(0x3c4)]&&_0x468ca6[_0x11bd20(0x3c4)][_0x11bd20(0x6eb)]()!==_0x518d78[_0x11bd20(0x5d0)][_0x11bd20(0x3c4)][_0x11bd20(0x6eb)]()),_0x1b01e1=!0x0;else{let _0x3b4025=_0x38794b[_0x11bd20(0x765)][_0x11bd20(0x75d)](_0x11f264=>_0x11f264&&_0x518d78[_0x11bd20(0x5d0)]&&_0x11f264[_0x11bd20(0x3c4)]&&_0x518d78[_0x11bd20(0x5d0)][_0x11bd20(0x3c4)]&&_0x11f264[_0x11bd20(0x3c4)][_0x11bd20(0x6eb)]()===_0x518d78[_0x11bd20(0x5d0)]['_id'][_0x11bd20(0x6eb)]());_0x3b4025?(_0x1b01e1=_0x3b4025[_0x11bd20(0x831)]!==_0x518d78[_0x11bd20(0x5d0)]['order'],Object[_0x11bd20(0x887)](_0x3b4025,_0x518d78[_0x11bd20(0x5d0)])):(_0x38794b[_0x11bd20(0x765)][_0x11bd20(0x4a9)](_0x518d78[_0x11bd20(0x5d0)]),_0x1b01e1=!0x0);}if(_0x1b01e1){_0x38794b['varedits'][_0x11bd20(0x69a)]((_0x4f4a11,_0x9cc943)=>_0x4f4a11[_0x11bd20(0x831)]>_0x9cc943[_0x11bd20(0x831)]?0x1:_0x9cc943[_0x11bd20(0x831)]>_0x4f4a11['order']?-0x1:0x0);for(let _0x13ff4b=0x0;_0x13ff4b<_0x38794b[_0x11bd20(0x765)][_0x11bd20(0x5a8)];_0x13ff4b++)_0x38794b[_0x11bd20(0x765)][_0x13ff4b][_0x11bd20(0x831)]=_0x13ff4b+0x1;}let _0x1bb3e0=await this[_0x11bd20(0x520)][_0x11bd20(0x671)][_0x11bd20(0x1e2)](_0x38794b['_id'],_0x38794b,this[_0x11bd20(0x4fb)][_0x11bd20(0x7dd)]);if(_0x1bb3e0&&_0x1bb3e0[_0x11bd20(0x53a)]&&_0x1bb3e0[_0x11bd20(0x53a)][_0x11bd20(0x5a8)]>0x1&&this[_0x11bd20(0x563)](_0x1bb3e0[_0x11bd20(0x3c4)],this[_0x11bd20(0x4fb)]['wuid']),!_0x1bb3e0)throw new Error(_0x11bd20(0x2fa));return _0x1bb3e0;}catch(_0x195002){let _0x4df38d='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0xacb09c=_0x195002 instanceof Error?_0x195002[_0x11bd20(0x7e9)]:typeof _0x195002==_0x11bd20(0x22a)?JSON[_0x11bd20(0x6fe)](_0x195002):_0x195002,_0x19a89f=_0x4df38d+':\x20'+_0xacb09c;throw this[_0x11bd20(0x598)][_0x11bd20(0x1a3)](this[_0x11bd20(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x19a89f),new m(_0x19a89f);}}async[a0_0x236793(0x4e4)](_0x228f67){const _0x57167b=a0_0x236793;try{this[_0x57167b(0x598)][_0x57167b(0x461)](this[_0x57167b(0x5a5)]+'\x20('+this[_0x57167b(0x4fb)][_0x57167b(0x7dd)]+_0x57167b(0x479));let _0x38ed71=await this[_0x57167b(0x520)][_0x57167b(0x671)][_0x57167b(0x542)]({'where':{'name':_0x228f67[_0x57167b(0x7bd)]}},this['instance']['wuid']);if(!_0x38ed71)throw new Error(_0x57167b(0x5cc));_0x228f67['variable'][_0x57167b(0x7bd)]=_0x228f67[_0x57167b(0x7c6)]['name'][_0x57167b(0x76e)](),_0x228f67['variable'][_0x57167b(0x7bd)]['startsWith']('_')&&(_0x228f67[_0x57167b(0x7c6)][_0x57167b(0x7bd)]=_0x228f67[_0x57167b(0x7c6)][_0x57167b(0x7bd)]['substring'](0x1)),_0x228f67[_0x57167b(0x7c6)]['name']=_0x228f67['variable'][_0x57167b(0x7bd)][_0x57167b(0x76e)]();let _0x44da3d=_0x38ed71[_0x57167b(0x4fc)][_0x57167b(0x75d)](_0x4e41ce=>_0x4e41ce[_0x57167b(0x7bd)]===_0x228f67[_0x57167b(0x7c6)]['name']);if(_0x44da3d?.[_0x57167b(0x64f)]===!0x0)throw new Error(_0x57167b(0x5d4));if(_0x228f67[_0x57167b(0x7c6)]?.[_0x57167b(0x29a)]===!0x0){if(!_0x44da3d)return{'message':'Variável\x20não\x20encontrada!'};_0x38ed71[_0x57167b(0x4fc)]=_0x38ed71[_0x57167b(0x4fc)]['filter'](_0x5ba2c2=>_0x5ba2c2[_0x57167b(0x7bd)]!==_0x228f67[_0x57167b(0x7c6)][_0x57167b(0x7bd)]);}else _0x44da3d?Object[_0x57167b(0x887)](_0x44da3d,_0x228f67[_0x57167b(0x7c6)]):_0x38ed71[_0x57167b(0x4fc)][_0x57167b(0x4a9)](_0x228f67['variable']);let _0x14c40d=await this[_0x57167b(0x520)][_0x57167b(0x671)][_0x57167b(0x1e2)](_0x38ed71[_0x57167b(0x3c4)],_0x38ed71,this[_0x57167b(0x4fb)][_0x57167b(0x7dd)]);if(_0x14c40d&&_0x14c40d[_0x57167b(0x53a)]&&_0x14c40d[_0x57167b(0x53a)][_0x57167b(0x5a8)]>0x1&&this[_0x57167b(0x563)](_0x14c40d[_0x57167b(0x3c4)],this[_0x57167b(0x4fb)][_0x57167b(0x7dd)]),!_0x14c40d)throw new Error(_0x57167b(0x2fa));return _0x14c40d;}catch(_0x45deaa){let _0x229290='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x383509=_0x45deaa instanceof Error?_0x45deaa[_0x57167b(0x7e9)]:typeof _0x45deaa=='object'?JSON[_0x57167b(0x6fe)](_0x45deaa):_0x45deaa,_0x151d72=_0x229290+':\x20'+_0x383509;throw this[_0x57167b(0x598)][_0x57167b(0x1a3)](this['instanceName']+'\x20('+this[_0x57167b(0x4fb)][_0x57167b(0x7dd)]+_0x57167b(0x344)+_0x151d72),new m(_0x151d72);}}async[a0_0x236793(0x85b)](_0x42d431){const _0x19fa02=a0_0x236793;let _0x456faf=null;try{if(!this[_0x19fa02(0x6d8)]?.[_0x19fa02(0x862)][_0x19fa02(0x209)])throw new m(_0x19fa02(0x3d5));this[_0x19fa02(0x598)][_0x19fa02(0x461)](this['instanceName']+'\x20('+this[_0x19fa02(0x4fb)]['wuid']+_0x19fa02(0x2e7));let _0x4f367f=(await this['whatsappNumber']({'numbers':[_0x42d431['remoteJid']]}))[0x0];if(!_0x4f367f[_0x19fa02(0x816)]&&!(0x0,f[_0x19fa02(0x607)])(_0x4f367f[_0x19fa02(0x79e)])&&!_0x4f367f[_0x19fa02(0x79e)][_0x19fa02(0x256)](_0x19fa02(0x6c9)))throw _0x456faf=JSON[_0x19fa02(0x6fe)](_0x4f367f,null,0x2),new m(_0x4f367f);let _0x312106=await this[_0x19fa02(0x520)][_0x19fa02(0x671)][_0x19fa02(0x542)]({'where':{'name':_0x42d431['name']}},this['instance']['wuid']);if(!_0x312106)return this[_0x19fa02(0x598)][_0x19fa02(0x1a3)](this[_0x19fa02(0x5a5)]+'\x20('+this[_0x19fa02(0x4fb)][_0x19fa02(0x7dd)]+_0x19fa02(0x201)),{'message':_0x19fa02(0x5cc)};let _0x5bd15b=await this[_0x19fa02(0x619)](_0x312106,_0x4f367f['jid'],_0x42d431[_0x19fa02(0x3d8)]);if(_0x5bd15b){this[_0x19fa02(0x598)][_0x19fa02(0x461)](this['instanceName']+'\x20('+this['instance'][_0x19fa02(0x7dd)]+_0x19fa02(0x266));let _0x3f3a46=await this['NextBlock'](_0x5bd15b);return _0x3f3a46&&await this[_0x19fa02(0x2a0)](_0x5bd15b,_0x3f3a46),{'message':_0x19fa02(0x650)+_0x42d431['remoteJid']};}}catch(_0x92d287){if(this['logger'][_0x19fa02(0x1a3)](this[_0x19fa02(0x5a5)]+'\x20('+this[_0x19fa02(0x4fb)][_0x19fa02(0x7dd)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x92d287 instanceof Error?_0x92d287[_0x19fa02(0x7e9)]:JSON[_0x19fa02(0x6fe)](_0x92d287,null,0x2))),_0x456faf=_0x92d287 instanceof Error?_0x92d287[_0x19fa02(0x7e9)]:JSON[_0x19fa02(0x6fe)](_0x92d287,null,0x2),_0x456faf)throw new m(_0x19fa02(0x2d4)+_0x456faf);}}async[a0_0x236793(0x1fe)](_0x14c5c3){const _0x2fbe93=a0_0x236793;try{let _0x1a4454={'remoteJid':_0x14c5c3,'status':_0x2fbe93(0x664)},_0x5b3354={'status':_0x2fbe93(0x507)},_0x35d50a=await this[_0x2fbe93(0x520)]['flowConversation'][_0x2fbe93(0x681)](_0x1a4454,_0x5b3354,this['instance'][_0x2fbe93(0x7dd)]);return this[_0x2fbe93(0x598)][_0x2fbe93(0x461)](this[_0x2fbe93(0x5a5)]+'\x20('+this['instance'][_0x2fbe93(0x7dd)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x35d50a;}catch(_0x1bd6d1){throw this[_0x2fbe93(0x598)][_0x2fbe93(0x1a3)](this[_0x2fbe93(0x5a5)]+'\x20('+this[_0x2fbe93(0x4fb)][_0x2fbe93(0x7dd)]+_0x2fbe93(0x73d)+_0x1bd6d1[_0x2fbe93(0x7e9)]),_0x1bd6d1;}}async[a0_0x236793(0x619)](_0x51204d,_0x2b7767,_0x1c65e4){const _0x4f2a22=a0_0x236793;this[_0x4f2a22(0x598)][_0x4f2a22(0x461)](this[_0x4f2a22(0x5a5)]+'\x20('+this[_0x4f2a22(0x4fb)][_0x4f2a22(0x7dd)]+_0x4f2a22(0x3f6)),await this['closeExistingConversations'](_0x2b7767);try{let _0x3d8508=require(_0x4f2a22(0x74b))[_0x4f2a22(0x231)],_0x3fb0ba=Date[_0x4f2a22(0x1e6)](),_0xe02661=_0x4f2a22(0x5ad),_0x5ef861={},_0x438edc={},_0xd90081={..._0x51204d,'chatLog':null},_0x17b346=await this['variablesToObject'](_0xd90081[_0x4f2a22(0x4fc)]),_0x42f045=await this[_0x4f2a22(0x5b2)](_0x2b7767),_0x5f42ba={..._0x17b346,..._0x42f045,'_remoteJid':_0x2b7767},_0x30cb8c={'lastReceivedMessage':_0x5ef861,'lastSendMessage':_0x438edc,'lastBlockId':_0xe02661,'lastCondition':!0x0,'realVariables':_0x5f42ba};_0xd90081[_0x4f2a22(0x498)]=_0x30cb8c,_0xd90081['chatLog'][_0x4f2a22(0x248)]={..._0x5f42ba,..._0x1c65e4},delete _0xd90081[_0x4f2a22(0x3c4)],_0xd90081['_id']=new _0x3d8508(),_0xd90081[_0x4f2a22(0x407)]=_0x3fb0ba,_0xd90081[_0x4f2a22(0x464)]=_0x4f2a22(0x664),_0xd90081[_0x4f2a22(0x2f9)]=_0x2b7767;let _0x1ca6fc=await this[_0x4f2a22(0x520)][_0x4f2a22(0x3d7)][_0x4f2a22(0x1e2)](_0xd90081['_id'],_0xd90081,this[_0x4f2a22(0x4fb)][_0x4f2a22(0x7dd)]);return this[_0x4f2a22(0x598)][_0x4f2a22(0x461)](this[_0x4f2a22(0x5a5)]+'\x20('+this[_0x4f2a22(0x4fb)]['wuid']+_0x4f2a22(0x81c)),_0x1ca6fc?_0xd90081:null;}catch(_0x380659){let _0x1424c8=_0x4f2a22(0x2b4),_0x3cab6c=_0x380659 instanceof Error?_0x380659[_0x4f2a22(0x7e9)]:typeof _0x380659==_0x4f2a22(0x22a)?JSON[_0x4f2a22(0x6fe)](_0x380659):_0x380659,_0x340bea=_0x1424c8+':\x20'+_0x3cab6c;throw this[_0x4f2a22(0x598)][_0x4f2a22(0x1a3)](this[_0x4f2a22(0x5a5)]+'\x20('+this['instance'][_0x4f2a22(0x7dd)]+_0x4f2a22(0x344)+_0x340bea),new m(_0x340bea);}}async[a0_0x236793(0x6c8)](_0xc4094d){const _0x4576dc=a0_0x236793;try{this[_0x4576dc(0x598)][_0x4576dc(0x461)](this[_0x4576dc(0x5a5)]+'\x20('+this['instance'][_0x4576dc(0x7dd)]+_0x4576dc(0x82b)),this['logger'][_0x4576dc(0x461)](this[_0x4576dc(0x5a5)]+'\x20('+this[_0x4576dc(0x4fb)][_0x4576dc(0x7dd)]+_0x4576dc(0x4bb)+_0xc4094d);let _0x5198e5={'where':{'_id':_0xc4094d}};return await this['repository'][_0x4576dc(0x3d7)][_0x4576dc(0x542)](_0x5198e5,this[_0x4576dc(0x4fb)][_0x4576dc(0x7dd)]);}catch(_0x137652){let _0x35a4a1=_0x4576dc(0x736),_0x583e55=_0x137652 instanceof Error?_0x137652[_0x4576dc(0x7e9)]:typeof _0x137652==_0x4576dc(0x22a)?JSON[_0x4576dc(0x6fe)](_0x137652):_0x137652,_0x55cccf=_0x35a4a1+':\x20'+_0x583e55;throw this['logger'][_0x4576dc(0x1a3)](this['instanceName']+'\x20('+this[_0x4576dc(0x4fb)]['wuid']+_0x4576dc(0x344)+_0x55cccf),new m(_0x55cccf);}}async['fetchConversation'](_0x1fb462){const _0xa7e45c=a0_0x236793;try{return this[_0xa7e45c(0x598)][_0xa7e45c(0x461)](this[_0xa7e45c(0x5a5)]+'\x20('+this[_0xa7e45c(0x4fb)][_0xa7e45c(0x7dd)]+'):\x20Buscando\x20conversas...'),await this[_0xa7e45c(0x520)][_0xa7e45c(0x3d7)]['find'](_0x1fb462,this[_0xa7e45c(0x4fb)]['wuid']);}catch(_0x548a4d){let _0x5303e0='Erro\x20ao\x20buscar\x20conversas',_0x554438=_0x548a4d instanceof Error?_0x548a4d[_0xa7e45c(0x7e9)]:typeof _0x548a4d==_0xa7e45c(0x22a)?JSON[_0xa7e45c(0x6fe)](_0x548a4d):_0x548a4d,_0x107044=_0x5303e0+':\x20'+_0x554438;throw this[_0xa7e45c(0x598)][_0xa7e45c(0x1a3)](this[_0xa7e45c(0x5a5)]+'\x20('+this[_0xa7e45c(0x4fb)][_0xa7e45c(0x7dd)]+_0xa7e45c(0x344)+_0x107044),new m(_0x107044);}}async[a0_0x236793(0x5de)](_0x2ebd30){const _0x5c65f9=a0_0x236793;try{return this['logger'][_0x5c65f9(0x461)](this[_0x5c65f9(0x5a5)]+'\x20('+this[_0x5c65f9(0x4fb)][_0x5c65f9(0x7dd)]+'):\x20Deletando\x20conversa...'),this[_0x5c65f9(0x598)][_0x5c65f9(0x461)](this[_0x5c65f9(0x5a5)]+'\x20('+this[_0x5c65f9(0x4fb)][_0x5c65f9(0x7dd)]+_0x5c65f9(0x735)+_0x2ebd30),(await this['repository'][_0x5c65f9(0x3d7)]['deleteOne']({'where':{'_id':_0x2ebd30}},this[_0x5c65f9(0x4fb)][_0x5c65f9(0x7dd)]))[_0x5c65f9(0x3ec)]===0x0?{'message':_0x5c65f9(0x6cb)}:{'message':_0x5c65f9(0x51c)};}catch(_0x3796d0){let _0x49e2f6=_0x5c65f9(0x63e),_0xc4ca5c=_0x3796d0 instanceof Error?_0x3796d0[_0x5c65f9(0x7e9)]:typeof _0x3796d0==_0x5c65f9(0x22a)?JSON[_0x5c65f9(0x6fe)](_0x3796d0):_0x3796d0,_0x2a439b=_0x49e2f6+':\x20'+_0xc4ca5c;throw this['logger'][_0x5c65f9(0x1a3)](this[_0x5c65f9(0x5a5)]+'\x20('+this[_0x5c65f9(0x4fb)][_0x5c65f9(0x7dd)]+_0x5c65f9(0x344)+_0x2a439b),new m(_0x2a439b);}}async[a0_0x236793(0x2fc)](_0x59dacd){const _0x3816a8=a0_0x236793;try{let {_id:_0x4760b,chatLog:_0x574015,status:_0x4861b6}=_0x59dacd;if(!_0x4760b)return{'message':_0x3816a8(0x2da)};let _0x3801bd={};if(_0x4861b6!==void 0x0&&(_0x3801bd[_0x3816a8(0x464)]=_0x4861b6),Object[_0x3816a8(0x75c)](_0x3801bd)[_0x3816a8(0x5a8)]===0x0)return{'message':_0x3816a8(0x61a)};let _0x526171=await this[_0x3816a8(0x520)][_0x3816a8(0x3d7)][_0x3816a8(0x1e2)](_0x4760b,_0x3801bd,this[_0x3816a8(0x4fb)][_0x3816a8(0x7dd)]);return _0x526171||{'message':_0x3816a8(0x33c)};}catch(_0x28e7d3){let _0x15e740='Erro\x20ao\x20editar\x20a\x20conversa',_0x25befb=_0x28e7d3 instanceof Error?_0x28e7d3[_0x3816a8(0x7e9)]:typeof _0x28e7d3==_0x3816a8(0x22a)?JSON['stringify'](_0x28e7d3):_0x28e7d3,_0x4c0fd3=_0x15e740+':\x20'+_0x25befb;throw this['logger'][_0x3816a8(0x1a3)](this['instanceName']+'\x20('+this[_0x3816a8(0x4fb)][_0x3816a8(0x7dd)]+_0x3816a8(0x344)+_0x4c0fd3),new m(_0x4c0fd3);}}async[a0_0x236793(0x31b)](_0x58c112){const _0x2ac903=a0_0x236793;console['log'](_0x58c112);try{_0x58c112[_0x2ac903(0x3c4)]=this['createJid'](_0x58c112[_0x2ac903(0x3c4)]);let _0x3467b2=await this[_0x2ac903(0x520)]['chat'][_0x2ac903(0x542)]({'where':{'_id':_0x58c112['_id']}},this[_0x2ac903(0x4fb)][_0x2ac903(0x7dd)]);if(!_0x3467b2)throw new m(_0x2ac903(0x390));let {_id:_0xe3465f,leadInfo:_0x2653e7}=_0x58c112;if(!_0xe3465f)throw new Error(_0x2ac903(0x33e));if(_0x58c112[_0x2ac903(0x29a)]===_0x2ac903(0x4a7))return await this[_0x2ac903(0x5d5)](_0x58c112[_0x2ac903(0x3c4)]),await this[_0x2ac903(0x520)]['chat']['delete']({'where':{'_id':_0x58c112[_0x2ac903(0x3c4)]}},this['instance']['wuid']),await this[_0x2ac903(0x520)][_0x2ac903(0x7e9)][_0x2ac903(0x29a)]({'where':{'key':{'remoteJid':_0x58c112[_0x2ac903(0x3c4)]}}},this['instance'][_0x2ac903(0x7dd)]),_0x58c112=await this[_0x2ac903(0x520)]['chat'][_0x2ac903(0x1e2)]({'where':{'_id':_0x58c112[_0x2ac903(0x3c4)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2ac903(0x4fb)][_0x2ac903(0x7dd)]),J(this[_0x2ac903(0x5a5)],'chats',{'chat':_0x58c112}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x58c112[_0x2ac903(0x29a)]===_0x2ac903(0x487))return await this[_0x2ac903(0x520)]['message'][_0x2ac903(0x29a)]({'where':{'key':{'remoteJid':_0x58c112['_id']}}},this[_0x2ac903(0x4fb)][_0x2ac903(0x7dd)]),_0x58c112=await this['repository']['chat']['updateOne']({'where':{'_id':_0x58c112[_0x2ac903(0x3c4)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2ac903(0x4fb)][_0x2ac903(0x7dd)]),J(this[_0x2ac903(0x5a5)],_0x2ac903(0x2a1),{'chat':_0x58c112}),{'message':_0x2ac903(0x45e)};let _0x335020=(_0x4ea68a,_0x215459,_0x2ef386)=>{const _0x52f374=_0x2ac903;_0x4ea68a&&_0x2ef386[_0x52f374(0x595)](_0x12dd57=>{const _0xcc3d74=_0x52f374;_0x4ea68a[_0x12dd57]!==void 0x0&&(_0x215459[_0xcc3d74(0x36a)+_0x12dd57]=_0x4ea68a[_0x12dd57]);});},_0x3bb574={};if('muteEndTime'in _0x58c112&&(this[_0x2ac903(0x598)][_0x2ac903(0x461)]('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x58c112[_0x2ac903(0x3c4)]),_0x58c112[_0x2ac903(0x272)]=_0x58c112[_0x2ac903(0x272)]===0x0?null:-0x1,await this[_0x2ac903(0x5f0)]['chatModify']({'mute':_0x58c112[_0x2ac903(0x272)]},_0x58c112[_0x2ac903(0x3c4)]),_0x3bb574['muteEndTime']=Number(_0x58c112[_0x2ac903(0x272)])),_0x2653e7&&(_0x335020(_0x2653e7,_0x3bb574,[_0x2ac903(0x337),_0x2ac903(0x1be),'email',_0x2ac903(0x295),_0x2ac903(0x464),_0x2ac903(0x64b),_0x2ac903(0x6fa),_0x2ac903(0x4b5),_0x2ac903(0x42e),_0x2ac903(0x5d1)]),Array[_0x2ac903(0x603)](_0x2653e7['customFields'])&&(_0x3bb574[_0x2ac903(0x5bf)]=_0x2653e7[_0x2ac903(0x249)][_0x2ac903(0x405)](_0x2dc4bc=>({'_id':_0x2dc4bc['_id'],'value':_0x2dc4bc['value']}))),_0x58c112['leadInfo'][_0x2ac903(0x5d1)]!==void 0x0)){let _0x5b5c07=await this[_0x2ac903(0x520)][_0x2ac903(0x30a)][_0x2ac903(0x75d)]({'where':{}},this[_0x2ac903(0x4fb)][_0x2ac903(0x7dd)]),_0x1f8f04=new Set(_0x58c112['leadInfo']['etiquetas']||[]),_0x777c4d=new Set(_0x58c112[_0x2ac903(0x64f)][_0x2ac903(0x5d1)]),_0x489ffa=new Set(_0x5b5c07['map'](_0x438889=>_0x438889[_0x2ac903(0x3c4)])),_0x423e98=[..._0x777c4d][_0x2ac903(0x504)](_0x51a354=>!_0x1f8f04[_0x2ac903(0x51e)](_0x51a354)&&_0x489ffa[_0x2ac903(0x51e)](_0x51a354)),_0x1696ac=[..._0x1f8f04][_0x2ac903(0x504)](_0x187b2c=>!_0x777c4d[_0x2ac903(0x51e)](_0x187b2c));if(_0x3bb574[_0x2ac903(0x40e)]=[..._0x1f8f04],_0x3467b2&&!_0x3467b2[_0x2ac903(0x4cd)]){for(let _0x3f612e of _0x423e98)await this[_0x2ac903(0x739)](_0x3f612e,_0x58c112[_0x2ac903(0x3c4)]),_0x1f8f04['add'](_0x3f612e);for(let _0x2143c7 of _0x1696ac)await this['RemoveChatLabel'](_0x2143c7,_0x58c112['_id']),_0x1f8f04['delete'](_0x2143c7);}}if(_0x58c112[_0x2ac903(0x481)]!==void 0x0&&(_0x3bb574['unreadcount']=Number(_0x58c112['unreadcount'])),Object[_0x2ac903(0x75c)](_0x3bb574)['length']===0x0)throw new Error(_0x2ac903(0x61a));let _0x5c2c0=await this[_0x2ac903(0x520)][_0x2ac903(0x3bb)]['updateOne']({'where':{'_id':_0x58c112[_0x2ac903(0x3c4)]}},_0x3bb574,this[_0x2ac903(0x4fb)][_0x2ac903(0x7dd)]);return _0x5c2c0&&J(this[_0x2ac903(0x5a5)],'chats',{'chat':_0x5c2c0}),_0x5c2c0?(this['logger'][_0x2ac903(0x461)](this[_0x2ac903(0x5a5)]+'\x20('+this[_0x2ac903(0x4fb)]['wuid']+_0x2ac903(0x344)+JSON['stringify'](_0x5c2c0,null,0x2)),_0x5c2c0):{'message':_0x2ac903(0x1ea)};}catch(_0x3e3250){let _0x331f2d=_0x2ac903(0x486),_0x71dac0=_0x3e3250 instanceof Error?_0x3e3250['message']:typeof _0x3e3250==_0x2ac903(0x22a)?JSON[_0x2ac903(0x6fe)](_0x3e3250):_0x3e3250,_0x3ff13b=_0x331f2d+':\x20'+_0x71dac0;throw this[_0x2ac903(0x598)][_0x2ac903(0x1a3)](this[_0x2ac903(0x5a5)]+'\x20('+this[_0x2ac903(0x4fb)]['wuid']+_0x2ac903(0x344)+_0x3ff13b),new m(_0x3ff13b);}}async[a0_0x236793(0x739)](_0x2fc3ab,_0x41989f){const _0x8f81e=a0_0x236793;try{await this[_0x8f81e(0x5f0)]['addChatLabel'](_0x41989f,_0x2fc3ab),console[_0x8f81e(0x7e7)](_0x8f81e(0x7ba)+_0x2fc3ab+'\x20adicionado\x20ao\x20chat\x20'+_0x41989f+_0x8f81e(0x822));}catch(_0x246881){console[_0x8f81e(0x1a3)](_0x8f81e(0x47b)+_0x2fc3ab+_0x8f81e(0x78a)+_0x41989f+':',_0x246881);}}async[a0_0x236793(0x835)](_0x26f446,_0x264bfa){const _0x3bf6c2=a0_0x236793;try{await this['client'][_0x3bf6c2(0x54c)](_0x264bfa,_0x26f446),console[_0x3bf6c2(0x7e7)](_0x3bf6c2(0x7ba)+_0x26f446+_0x3bf6c2(0x495)+_0x264bfa+_0x3bf6c2(0x822));}catch(_0x4198f8){console[_0x3bf6c2(0x1a3)](_0x3bf6c2(0x4f0)+_0x26f446+_0x3bf6c2(0x3e7)+_0x264bfa+':',_0x4198f8);}}async[a0_0x236793(0x6dc)](_0x146ba9){const _0x550b83=a0_0x236793;try{let _0x6136a7=await this[_0x550b83(0x520)][_0x550b83(0x2c3)][_0x550b83(0x687)](this[_0x550b83(0x4fb)][_0x550b83(0x7dd)]),_0x307b6d=_0x146ba9[_0x550b83(0x3c4)]?_0x6136a7[_0x550b83(0x255)][_0x550b83(0x6a5)](_0x4cb447=>_0x4cb447[_0x550b83(0x3c4)]===_0x146ba9['_id']):-0x1;if(_0x146ba9[_0x550b83(0x29a)]&&_0x307b6d>-0x1)_0x6136a7[_0x550b83(0x255)][_0x550b83(0x54e)](_0x307b6d,0x1);else{if(_0x307b6d>-0x1){let _0x295617=_0x6136a7['agents'][_0x307b6d];_0x146ba9[_0x550b83(0x68f)]&&(_0x295617[_0x550b83(0x68f)]=_0x146ba9[_0x550b83(0x68f)]),_0x146ba9['name']&&(_0x295617[_0x550b83(0x7bd)]=_0x146ba9[_0x550b83(0x7bd)]),_0x146ba9[_0x550b83(0x2f3)]&&(_0x295617['email']=_0x146ba9[_0x550b83(0x2f3)]),_0x146ba9[_0x550b83(0x65c)]&&(_0x295617[_0x550b83(0x65c)]=_0x146ba9[_0x550b83(0x65c)]);}else _0x6136a7[_0x550b83(0x255)][_0x550b83(0x4a9)]({'_id':_0x146ba9[_0x550b83(0x3c4)]||new re[(_0x550b83(0x4d1))][(_0x550b83(0x1aa))]['ObjectId']()[_0x550b83(0x6eb)](),'fone':_0x146ba9[_0x550b83(0x68f)],'name':_0x146ba9[_0x550b83(0x7bd)],'email':_0x146ba9[_0x550b83(0x2f3)],'role':_0x146ba9[_0x550b83(0x65c)]});}let _0x3e7fe5={'agents':_0x6136a7['agents']},_0x17174f=await this[_0x550b83(0x520)][_0x550b83(0x2c3)]['update'](_0x3e7fe5,this[_0x550b83(0x4fb)][_0x550b83(0x7dd)]);return this[_0x550b83(0x6d8)]=_0x17174f,this[_0x550b83(0x598)]['verbose'](this[_0x550b83(0x5a5)]+'\x20('+this[_0x550b83(0x4fb)][_0x550b83(0x7dd)]+_0x550b83(0x274)),this[_0x550b83(0x598)][_0x550b83(0x461)](this[_0x550b83(0x5a5)]+'\x20('+this[_0x550b83(0x4fb)][_0x550b83(0x7dd)]+_0x550b83(0x344)+this[_0x550b83(0x6d8)]),_0x17174f;}catch(_0x2801df){let _0x41d4c0=_0x550b83(0x593),_0x59b647=_0x2801df instanceof Error?_0x2801df[_0x550b83(0x7e9)]:typeof _0x2801df=='object'?JSON[_0x550b83(0x6fe)](_0x2801df):_0x2801df,_0x284350=_0x41d4c0+':\x20'+_0x59b647;throw this[_0x550b83(0x598)]['error'](this['instanceName']+'\x20('+this[_0x550b83(0x4fb)][_0x550b83(0x7dd)]+'):\x20'+_0x284350),new m(_0x284350);}}async['updateCustomFields'](_0x40a25a){const _0x424ee4=a0_0x236793;try{let _0xdaabe=await this[_0x424ee4(0x520)][_0x424ee4(0x2c3)][_0x424ee4(0x687)](this[_0x424ee4(0x4fb)]['wuid']),_0x1db2be=_0x40a25a['_id']?_0xdaabe[_0x424ee4(0x249)]['findIndex'](_0x4866b0=>_0x4866b0[_0x424ee4(0x3c4)]===_0x40a25a[_0x424ee4(0x3c4)]):-0x1,_0x5ac164=!0x1,_0x56b27c=_0xdaabe['customFields']['some'](_0xbb6399=>_0xbb6399[_0x424ee4(0x831)]===_0x40a25a[_0x424ee4(0x831)]);if(_0x40a25a[_0x424ee4(0x29a)]&&_0x1db2be>-0x1)_0xdaabe[_0x424ee4(0x249)]['splice'](_0x1db2be,0x1),_0x5ac164=!0x0;else{if(_0x1db2be>-0x1){if(_0xdaabe[_0x424ee4(0x249)][_0x424ee4(0x88f)](_0x583129=>_0x583129[_0x424ee4(0x7bd)]===_0x40a25a[_0x424ee4(0x7bd)]&&_0x583129['_id']!==_0x40a25a['_id']))throw new Error(_0x424ee4(0x2f2));let _0x5d5a22=_0xdaabe[_0x424ee4(0x249)][_0x1db2be];_0x40a25a[_0x424ee4(0x831)]&&(_0x56b27c||!Number[_0x424ee4(0x1b0)](_0x40a25a[_0x424ee4(0x831)]))&&(_0x5d5a22[_0x424ee4(0x831)]=_0x40a25a['order'],_0x5ac164=!0x0),_0x40a25a[_0x424ee4(0x7bd)]&&(_0x5d5a22['name']=_0x40a25a[_0x424ee4(0x7bd)]);}else{if(_0xdaabe[_0x424ee4(0x249)][_0x424ee4(0x88f)](_0x1f73f7=>_0x1f73f7[_0x424ee4(0x7bd)]===_0x40a25a['name']&&_0x1f73f7['_id']!==_0x40a25a['_id']))throw new Error(_0x424ee4(0x2f2));_0xdaabe[_0x424ee4(0x249)]['push']({'_id':_0x40a25a[_0x424ee4(0x3c4)]||new re[(_0x424ee4(0x4d1))][(_0x424ee4(0x1aa))][(_0x424ee4(0x231))]()[_0x424ee4(0x6eb)](),'order':_0x40a25a[_0x424ee4(0x831)],'name':_0x40a25a[_0x424ee4(0x7bd)]}),_0x5ac164=!0x0;}}if(_0x5ac164){_0xdaabe[_0x424ee4(0x249)][_0x424ee4(0x69a)]((_0x3a4169,_0x564e3c)=>_0x3a4169['order']>_0x564e3c[_0x424ee4(0x831)]?0x1:_0x564e3c[_0x424ee4(0x831)]>_0x3a4169[_0x424ee4(0x831)]?-0x1:0x0);for(let _0x507524=0x0;_0x507524<_0xdaabe[_0x424ee4(0x249)][_0x424ee4(0x5a8)];_0x507524++)_0xdaabe['customFields'][_0x507524][_0x424ee4(0x831)]=_0x507524+0x1;}let _0x3bd767=await this[_0x424ee4(0x520)][_0x424ee4(0x2c3)][_0x424ee4(0x7a6)](_0xdaabe,this['instance'][_0x424ee4(0x7dd)]);return this['AutomateSystem']=_0x3bd767,this[_0x424ee4(0x598)][_0x424ee4(0x461)](this[_0x424ee4(0x5a5)]+'\x20('+this[_0x424ee4(0x4fb)][_0x424ee4(0x7dd)]+_0x424ee4(0x766)),this['logger'][_0x424ee4(0x461)](this[_0x424ee4(0x5a5)]+'\x20('+this[_0x424ee4(0x4fb)][_0x424ee4(0x7dd)]+'):\x20'+this[_0x424ee4(0x6d8)]),_0x3bd767;}catch(_0xd001e9){let _0x5a83d9=_0x424ee4(0x4d3),_0x381259=_0xd001e9 instanceof Error?_0xd001e9[_0x424ee4(0x7e9)]:typeof _0xd001e9==_0x424ee4(0x22a)?JSON[_0x424ee4(0x6fe)](_0xd001e9):_0xd001e9,_0x2c9603=_0x5a83d9+':\x20'+_0x381259;throw this[_0x424ee4(0x598)]['error'](this[_0x424ee4(0x5a5)]+'\x20('+this['instance'][_0x424ee4(0x7dd)]+'):\x20'+_0x2c9603),new m(_0x2c9603);}}async['updateAutoCompleteMessages'](_0x3557de){const _0x161a92=a0_0x236793;try{let _0x47c73a=await this[_0x161a92(0x520)][_0x161a92(0x2c3)][_0x161a92(0x687)](this[_0x161a92(0x4fb)]['wuid']),_0x5a0c5e=_0x47c73a[_0x161a92(0x5c0)][_0x161a92(0x6a5)](_0x5620df=>_0x5620df[_0x161a92(0x3c4)]===_0x3557de['_id']);if(_0x3557de['delete'])_0x5a0c5e>-0x1&&_0x47c73a[_0x161a92(0x5c0)][_0x161a92(0x54e)](_0x5a0c5e,0x1);else{if(_0x5a0c5e>-0x1){let _0x4d6991=_0x47c73a['autoCompleteMessages'][_0x5a0c5e];_0x4d6991[_0x161a92(0x831)]=_0x3557de[_0x161a92(0x831)]||_0x4d6991[_0x161a92(0x831)],_0x4d6991[_0x161a92(0x3bd)]=_0x3557de[_0x161a92(0x3bd)]||_0x4d6991['command'],_0x4d6991[_0x161a92(0x7e9)]=_0x3557de[_0x161a92(0x7e9)]||_0x4d6991[_0x161a92(0x7e9)];}else{let _0x544911={'_id':_0x3557de[_0x161a92(0x3c4)]||new re[(_0x161a92(0x4d1))][(_0x161a92(0x1aa))][(_0x161a92(0x231))]()[_0x161a92(0x6eb)](),'order':_0x3557de[_0x161a92(0x831)],'command':_0x3557de[_0x161a92(0x3bd)],'message':_0x3557de[_0x161a92(0x7e9)]};_0x47c73a[_0x161a92(0x5c0)][_0x161a92(0x4a9)](_0x544911);}}_0x47c73a[_0x161a92(0x5c0)]['sort']((_0x315360,_0x4a092c)=>_0x315360[_0x161a92(0x831)]-_0x4a092c['order']);let _0x381e51=await this[_0x161a92(0x520)]['automateSystem'][_0x161a92(0x7a6)](_0x47c73a,this[_0x161a92(0x4fb)][_0x161a92(0x7dd)]);return this[_0x161a92(0x6d8)]=_0x381e51,this[_0x161a92(0x598)][_0x161a92(0x461)](this[_0x161a92(0x5a5)]+'\x20('+this[_0x161a92(0x4fb)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x381e51;}catch(_0x3799be){let _0x4d4aae=_0x161a92(0x2ac),_0x90a3de=_0x3799be instanceof Error?_0x3799be[_0x161a92(0x7e9)]:typeof _0x3799be=='object'?JSON[_0x161a92(0x6fe)](_0x3799be):_0x3799be,_0x4e3cf7=_0x4d4aae+':\x20'+_0x90a3de;throw this['logger']['error'](this[_0x161a92(0x5a5)]+'\x20('+this['instance'][_0x161a92(0x7dd)]+_0x161a92(0x344)+_0x4e3cf7),new m(_0x4e3cf7);}}async['updateFlowConfig'](_0x95c7b7){const _0x2f98e0=a0_0x236793;try{let _0x238259=await this['repository']['automateSystem'][_0x2f98e0(0x687)](this[_0x2f98e0(0x4fb)][_0x2f98e0(0x7dd)]);if(!_0x238259)throw new Error(_0x2f98e0(0x85e));let _0x4d7e0d={'_id':_0x238259[_0x2f98e0(0x3c4)],'flowConfig':{'enabled':_0x95c7b7['enabled']??_0x238259['flowConfig']['enabled'],'ignoreGroups':_0x95c7b7['ignoreGroups']??_0x238259[_0x2f98e0(0x862)]['ignoreGroups'],'prefixCommand':_0x95c7b7[_0x2f98e0(0x75f)]??_0x238259['flowConfig'][_0x2f98e0(0x75f)],'stopConversation':_0x95c7b7['stopConversation']??_0x238259['flowConfig']['stopConversation'],'stopMinutes':_0x95c7b7[_0x2f98e0(0x3d3)]??_0x238259[_0x2f98e0(0x862)][_0x2f98e0(0x3d3)],'stopWhenYouSendMsg':_0x95c7b7[_0x2f98e0(0x59c)]??_0x238259['flowConfig'][_0x2f98e0(0x59c)]}},_0xcdcf81=await this['repository'][_0x2f98e0(0x2c3)]['update'](_0x4d7e0d,this[_0x2f98e0(0x4fb)][_0x2f98e0(0x7dd)]);return this[_0x2f98e0(0x6d8)]=_0xcdcf81,this[_0x2f98e0(0x598)][_0x2f98e0(0x461)](this['instanceName']+'\x20('+this[_0x2f98e0(0x4fb)]['wuid']+_0x2f98e0(0x274)),this[_0x2f98e0(0x598)][_0x2f98e0(0x461)](this[_0x2f98e0(0x5a5)]+'\x20('+this[_0x2f98e0(0x4fb)]['wuid']+'):\x20'+this[_0x2f98e0(0x6d8)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0xcdcf81;}catch(_0x34b49f){let _0x4c5c2a='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x2ba406=_0x34b49f instanceof Error?_0x34b49f[_0x2f98e0(0x7e9)]:typeof _0x34b49f==_0x2f98e0(0x22a)?JSON[_0x2f98e0(0x6fe)](_0x34b49f):_0x34b49f,_0x6a67b3=_0x4c5c2a+':\x20'+_0x2ba406;throw this[_0x2f98e0(0x598)][_0x2f98e0(0x1a3)](this['instanceName']+'\x20('+this[_0x2f98e0(0x4fb)][_0x2f98e0(0x7dd)]+_0x2f98e0(0x344)+_0x6a67b3),new m(_0x6a67b3);}}async[a0_0x236793(0x2c1)](){const _0x4bb455=a0_0x236793;try{let _0x1a1f9f=await this[_0x4bb455(0x520)]['automateSystem']['findOrCreate'](this['instance'][_0x4bb455(0x7dd)]);return this[_0x4bb455(0x520)][_0x4bb455(0x2c3)][_0x4bb455(0x681)]({'autoCompleteMessages':{'$exists':!0x1}},{'autoCompleteMessages':[]}),this['AutomateSystem']=_0x1a1f9f,this[_0x4bb455(0x598)][_0x4bb455(0x461)](this[_0x4bb455(0x5a5)]+'\x20('+this[_0x4bb455(0x4fb)]['wuid']+_0x4bb455(0x66a)),this[_0x4bb455(0x598)]['verbose'](this[_0x4bb455(0x6d8)]),_0x1a1f9f;}catch(_0x2a7417){let _0x4bf6ba=_0x4bb455(0x467),_0x2c8013=_0x2a7417 instanceof Error?_0x2a7417['message']:typeof _0x2a7417=='object'?JSON[_0x4bb455(0x6fe)](_0x2a7417):_0x2a7417,_0x59cb27=_0x4bf6ba+':\x20'+_0x2c8013;throw this[_0x4bb455(0x598)][_0x4bb455(0x1a3)](this[_0x4bb455(0x5a5)]+'\x20('+this[_0x4bb455(0x4fb)][_0x4bb455(0x7dd)]+_0x4bb455(0x344)+_0x59cb27),new m(_0x59cb27);}}async['setRestartTimeout'](){const _0x26ca6a=a0_0x236793;this[_0x26ca6a(0x4fb)][_0x26ca6a(0x7b3)][_0x26ca6a(0x392)]&&clearTimeout(this[_0x26ca6a(0x4fb)]['ScheduleMessage'][_0x26ca6a(0x392)]),this[_0x26ca6a(0x4fb)][_0x26ca6a(0x7b3)]['timeout']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x55f32e=a0_0x236793;Date['now']()-this[_0x55f32e(0x4fb)][_0x55f32e(0x7b3)][_0x55f32e(0x676)]>=0x1d4c0&&(this[_0x55f32e(0x598)]['verbose'](this[_0x55f32e(0x5a5)]+'\x20('+this[_0x55f32e(0x4fb)][_0x55f32e(0x7dd)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x55f32e(0x4fb)][_0x55f32e(0x7b3)][_0x55f32e(0x27b)]=null,this[_0x55f32e(0x4fb)][_0x55f32e(0x7b3)]['lastSend']=0x0,this['instance'][_0x55f32e(0x7b3)][_0x55f32e(0x43a)]=0x0,await this[_0x55f32e(0x32f)]());}async[a0_0x236793(0x32f)](){const _0x576161=a0_0x236793;let _0x1d260c=()=>{const _0x382985=a0_0x57a5;this[_0x382985(0x598)][_0x382985(0x461)](this[_0x382985(0x5a5)]+'\x20('+this[_0x382985(0x4fb)]['wuid']+_0x382985(0x46d)+this['instance'][_0x382985(0x7b3)]['processing_id']+_0x382985(0x4d5));},_0x535289=async()=>{const _0x59bd0f=a0_0x57a5;this[_0x59bd0f(0x598)][_0x59bd0f(0x461)](this[_0x59bd0f(0x5a5)]+'\x20('+this[_0x59bd0f(0x4fb)][_0x59bd0f(0x7dd)]+_0x59bd0f(0x499));let _0x41a6ed=Date[_0x59bd0f(0x1e6)]()-0xc*0x3c*0x3c*0x3e8,_0x5669df={'where':{'status':{'$in':[_0x59bd0f(0x518),_0x59bd0f(0x3c6)]},'$or':[{'when':{'$lte':Date[_0x59bd0f(0x1e6)](),'$gte':_0x41a6ed}},{'when':0x0}]}};return await this[_0x59bd0f(0x520)][_0x59bd0f(0x572)][_0x59bd0f(0x75d)](_0x5669df,this[_0x59bd0f(0x4fb)][_0x59bd0f(0x7dd)]);},_0xb1d00b=async _0x22f87f=>{const _0x5d9ca0=a0_0x57a5;for(let _0x4c21e1 of _0x22f87f){let _0x3c1c86={'_id':_0x4c21e1[_0x5d9ca0(0x3c4)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x5d9ca0(0x1e6)]()-0x1770}}]},_0x16dd7f={'startSend':Date[_0x5d9ca0(0x1e6)]()};if(!await this[_0x5d9ca0(0x520)]['scheduleMessage']['updateOne'](_0x3c1c86,_0x16dd7f,this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]))return;if(!this['instance'][_0x5d9ca0(0x7b3)][_0x5d9ca0(0x1d6)]){this['logger'][_0x5d9ca0(0x461)](this[_0x5d9ca0(0x5a5)]+'\x20('+this['instance']['wuid']+_0x5d9ca0(0x3fa));break;}if(_0x4c21e1['type']==='flow'&&!this[_0x5d9ca0(0x6d8)]?.[_0x5d9ca0(0x862)][_0x5d9ca0(0x209)]){this[_0x5d9ca0(0x598)][_0x5d9ca0(0x1a3)](this[_0x5d9ca0(0x5a5)]+'\x20('+this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]+_0x5d9ca0(0x54d));continue;}(!_0x4c21e1[_0x5d9ca0(0x5fc)]||_0x4c21e1[_0x5d9ca0(0x5fc)]['length']===0x0)&&(_0x4c21e1=await this[_0x5d9ca0(0x520)]['scheduleMessage'][_0x5d9ca0(0x270)](_0x4c21e1[_0x5d9ca0(0x3c4)],{'status':_0x5d9ca0(0x3c6),'remoteJidsRemaining':[..._0x4c21e1[_0x5d9ca0(0x648)]]},this['instance'][_0x5d9ca0(0x7dd)]));for(let _0x2b196d of _0x4c21e1['remoteJidsRemaining']){if(await this['setRestartTimeout'](),this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7b3)][_0x5d9ca0(0x676)]=Date[_0x5d9ca0(0x1e6)](),this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7b3)]['ultimaTentativaRemoteJid']===_0x2b196d){this[_0x5d9ca0(0x598)][_0x5d9ca0(0x1a3)](this[_0x5d9ca0(0x5a5)]+'\x20('+this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]+_0x5d9ca0(0x3e0)+_0x2b196d+_0x5d9ca0(0x83b));let _0x27fc61={'$push':{'messagesSend':{'remoteJid':_0x2b196d,'error':!0x0,'id':null,'error_log':_0x5d9ca0(0x61d),'log_timestamp':Date[_0x5d9ca0(0x1e6)]()}},'$pull':{'remoteJidsRemaining':_0x2b196d}};await this[_0x5d9ca0(0x520)]['scheduleMessage']['updateOneById'](_0x4c21e1['_id'],_0x27fc61,this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]);continue;}if(this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7b3)][_0x5d9ca0(0x3a7)]=_0x2b196d,_0x4c21e1['messagesSend']['some'](_0x4927bb=>_0x4927bb[_0x5d9ca0(0x2f9)]===_0x2b196d)){this['logger'][_0x5d9ca0(0x461)](this[_0x5d9ca0(0x5a5)]+'\x20('+this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]+_0x5d9ca0(0x458)+_0x2b196d+_0x5d9ca0(0x67a));continue;}if(!this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7b3)][_0x5d9ca0(0x1d6)]){this[_0x5d9ca0(0x598)][_0x5d9ca0(0x461)](this[_0x5d9ca0(0x5a5)]+'\x20('+this['instance']['wuid']+_0x5d9ca0(0x40d));break;}if(!this['instance']['ScheduleMessage'][_0x5d9ca0(0x27b)]){this[_0x5d9ca0(0x598)][_0x5d9ca0(0x461)](this[_0x5d9ca0(0x5a5)]+'\x20('+this[_0x5d9ca0(0x4fb)]['wuid']+_0x5d9ca0(0x3b6)+_0x4c21e1[_0x5d9ca0(0x3c4)]+_0x5d9ca0(0x6ce));break;}if(_0x4c21e1[_0x5d9ca0(0x787)]===_0x5d9ca0(0x671)&&!this[_0x5d9ca0(0x6d8)]?.[_0x5d9ca0(0x862)][_0x5d9ca0(0x209)]){this['logger'][_0x5d9ca0(0x1a3)](this['instanceName']+'\x20('+this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]+_0x5d9ca0(0x54d));break;}let _0x9bdcde={'remoteJid':_0x2b196d,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x1a6eea=null;try{let _0x19e900=await this['SendScheduleMessage'](_0x2b196d,_0x4c21e1);_0x9bdcde[_0x5d9ca0(0x1a3)]=_0x19e900[_0x5d9ca0(0x1a3)],_0x9bdcde['id']=_0x19e900[_0x5d9ca0(0x1a3)]?null:_0x19e900['id'],_0x9bdcde[_0x5d9ca0(0x2cd)]=_0x19e900[_0x5d9ca0(0x1a3)]?_0x19e900[_0x5d9ca0(0x7d5)]?_0x19e900['detail'][_0x5d9ca0(0x6eb)]():'':null;let _0x516532={'$push':{'messagesSend':_0x9bdcde},'$pull':{'remoteJidsRemaining':_0x2b196d}},_0x33675b=_0x4c21e1[_0x5d9ca0(0x3c4)];if(_0x1a6eea=await this[_0x5d9ca0(0x520)][_0x5d9ca0(0x572)]['updateOneById'](_0x33675b,_0x516532,this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]),_0x19e900[_0x5d9ca0(0x1a3)])continue;let _0x585a8b=this['getDelay'](_0x4c21e1[_0x5d9ca0(0x656)],_0x4c21e1[_0x5d9ca0(0x63c)]);await this['sleep'](_0x585a8b);}catch(_0x3ed08d){this[_0x5d9ca0(0x598)][_0x5d9ca0(0x1a3)](this['instanceName']+'\x20('+this[_0x5d9ca0(0x4fb)]['wuid']+_0x5d9ca0(0x66f)+_0x2b196d+':\x20'+(_0x3ed08d instanceof Error?_0x3ed08d['message']:JSON[_0x5d9ca0(0x6fe)](_0x3ed08d,null,0x2))),_0x9bdcde[_0x5d9ca0(0x1a3)]=!0x0,_0x9bdcde[_0x5d9ca0(0x2cd)]=_0x3ed08d[_0x5d9ca0(0x7e9)];let _0x34f609={'$push':{'messagesSend':_0x9bdcde},'$pull':{'remoteJidsRemaining':_0x2b196d}},_0x29d872=_0x4c21e1[_0x5d9ca0(0x3c4)];_0x1a6eea=await this['repository'][_0x5d9ca0(0x572)]['updateOneById'](_0x29d872,_0x34f609,this[_0x5d9ca0(0x4fb)]['wuid']);}finally{if(_0x1a6eea&&_0x1a6eea[_0x5d9ca0(0x464)]===_0x5d9ca0(0x843)){this[_0x5d9ca0(0x598)][_0x5d9ca0(0x461)](this[_0x5d9ca0(0x5a5)]+'\x20('+this[_0x5d9ca0(0x4fb)][_0x5d9ca0(0x7dd)]+_0x5d9ca0(0x3b6)+_0x4c21e1[_0x5d9ca0(0x3c4)]+_0x5d9ca0(0x207));break;}}}let _0x394f4d=await this['repository'][_0x5d9ca0(0x572)][_0x5d9ca0(0x691)](_0x4c21e1[_0x5d9ca0(0x3c4)],this[_0x5d9ca0(0x4fb)]['wuid']);if(_0x394f4d[_0x5d9ca0(0x5fc)][_0x5d9ca0(0x5a8)]===0x0&&_0x394f4d['status']!==_0x5d9ca0(0x843)){this['instance']['ScheduleMessage'][_0x5d9ca0(0x3a7)]=null;let _0x5c2480={'$set':{'status':_0x5d9ca0(0x3ae)}},_0x3fbf72=_0x394f4d[_0x5d9ca0(0x3c4)];await this['repository']['scheduleMessage'][_0x5d9ca0(0x270)](_0x3fbf72,_0x5c2480,this[_0x5d9ca0(0x4fb)]['wuid']);}await new Promise(_0x398349=>setTimeout(_0x398349,0x1388));}},_0x1377c8=async()=>{const _0x3f3a16=a0_0x57a5;let _0x143446={'where':{'status':_0x3f3a16(0x518),'when':{'$gt':Date[_0x3f3a16(0x1e6)]()}}},_0x589c91=await this[_0x3f3a16(0x520)][_0x3f3a16(0x572)][_0x3f3a16(0x542)](_0x143446,this[_0x3f3a16(0x4fb)][_0x3f3a16(0x7dd)]);_0x589c91&&_0x589c91[_0x3f3a16(0x597)]-Date['now']()<=0x5265c00?this['instance'][_0x3f3a16(0x7b3)][_0x3f3a16(0x43a)]=_0x589c91['when']-Date[_0x3f3a16(0x1e6)]():this['instance'][_0x3f3a16(0x7b3)][_0x3f3a16(0x43a)]=(0x3c+Math[_0x3f3a16(0x6ff)](Math[_0x3f3a16(0x582)]()*0x3c))*0x3c*0x3e8,this[_0x3f3a16(0x4fb)][_0x3f3a16(0x7b3)][_0x3f3a16(0x43a)]=Math['max'](this[_0x3f3a16(0x4fb)][_0x3f3a16(0x7b3)][_0x3f3a16(0x43a)],0x7d0);let _0x50088d=Math[_0x3f3a16(0x51b)](this[_0x3f3a16(0x4fb)]['ScheduleMessage'][_0x3f3a16(0x43a)]/0xea60);if(_0x589c91){let _0x5986b5=new Date(_0x589c91['when'])[_0x3f3a16(0x47c)]();this[_0x3f3a16(0x598)]['verbose'](this[_0x3f3a16(0x5a5)]+'\x20('+this[_0x3f3a16(0x4fb)]['wuid']+_0x3f3a16(0x5b1)+_0x5986b5+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x50088d+'\x20minutos');}else this['logger'][_0x3f3a16(0x461)](this[_0x3f3a16(0x5a5)]+'\x20('+this[_0x3f3a16(0x4fb)][_0x3f3a16(0x7dd)]+_0x3f3a16(0x803)+_0x50088d+_0x3f3a16(0x1c1));setTimeout(()=>this[_0x3f3a16(0x32f)](),this[_0x3f3a16(0x4fb)][_0x3f3a16(0x7b3)]['delayMessage']);};if(this[_0x576161(0x4fb)][_0x576161(0x7b3)][_0x576161(0x27b)]){await this['setRestartTimeout'](),_0x1d260c();return;}if(!this[_0x576161(0x4fb)]['ScheduleMessage']['isConnected']){this[_0x576161(0x598)][_0x576161(0x461)](this[_0x576161(0x5a5)]+'\x20('+this['instance'][_0x576161(0x7dd)]+_0x576161(0x21a)),this[_0x576161(0x4fb)][_0x576161(0x7b3)][_0x576161(0x27b)]=null,this[_0x576161(0x4fb)]['ScheduleMessage'][_0x576161(0x676)]=0x0,this[_0x576161(0x4fb)][_0x576161(0x7b3)][_0x576161(0x43a)]=0x0,this[_0x576161(0x4fb)][_0x576161(0x7b3)][_0x576161(0x3a7)]=null;return;}try{let _0x31ab8e=await _0x535289();_0x31ab8e[_0x576161(0x5a8)]===0x0?this[_0x576161(0x598)]['verbose'](this[_0x576161(0x5a5)]+'\x20('+this['instance']['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x576161(0x4fb)][_0x576161(0x7b3)][_0x576161(0x27b)]=_0x31ab8e[0x0][_0x576161(0x3c4)],await _0xb1d00b(_0x31ab8e)),await _0x1377c8(),this[_0x576161(0x4fb)][_0x576161(0x7b3)]['processing_id']=null,this['instance'][_0x576161(0x7b3)][_0x576161(0x3a7)]=null;}catch(_0xdfda17){this[_0x576161(0x598)][_0x576161(0x1a3)](_0x576161(0x81f)+(_0xdfda17 instanceof Error?_0xdfda17[_0x576161(0x7e9)]:JSON[_0x576161(0x6fe)](_0xdfda17,null,0x2)));}}[a0_0x236793(0x1e1)](_0x16858e,_0x4e576a){const _0x1f0b48=a0_0x236793;return _0x16858e=Math['max'](0.5,_0x16858e),_0x4e576a=Math[_0x1f0b48(0x652)](Math[_0x1f0b48(0x4a1)](0x3,_0x4e576a),0x78),Math[_0x1f0b48(0x6ff)](Math['random']()*(_0x4e576a-_0x16858e+0x1)+_0x16858e)*0x3e8;}[a0_0x236793(0x372)](_0x1f0bf5){return new Promise(_0x4f34c9=>setTimeout(_0x4f34c9,_0x1f0bf5));}async[a0_0x236793(0x5b2)](_0x1e711a){const _0x54cb9d=a0_0x236793;if(!this[_0x54cb9d(0x6d8)]&&(await this[_0x54cb9d(0x2c1)](),!this[_0x54cb9d(0x6d8)]))return null;_0x1e711a=this[_0x54cb9d(0x204)](_0x1e711a);let _0x29a996=await this[_0x54cb9d(0x520)][_0x54cb9d(0x3bb)][_0x54cb9d(0x542)]({'where':{'_id':_0x1e711a}},this['instance'][_0x54cb9d(0x7dd)]),_0x5e75b2={};if(_0x29a996&&_0x29a996['leadInfo']){let _0x380d50=_0x29a996[_0x54cb9d(0x64f)];typeof _0x380d50[_0x54cb9d(0x337)]==_0x54cb9d(0x4ca)&&(_0x5e75b2[_0x54cb9d(0x337)]=_0x380d50[_0x54cb9d(0x337)]),typeof _0x380d50['nomecompleto']==_0x54cb9d(0x4ca)&&(_0x5e75b2[_0x54cb9d(0x1be)]=_0x380d50[_0x54cb9d(0x1be)]),typeof _0x380d50['email']=='string'&&(_0x5e75b2[_0x54cb9d(0x2f3)]=_0x380d50[_0x54cb9d(0x2f3)]),typeof _0x380d50['cpf']==_0x54cb9d(0x4ca)&&(_0x5e75b2[_0x54cb9d(0x295)]=_0x380d50[_0x54cb9d(0x295)]),typeof _0x380d50[_0x54cb9d(0x464)]=='string'&&(_0x5e75b2[_0x54cb9d(0x464)]=_0x380d50[_0x54cb9d(0x464)]),typeof _0x380d50[_0x54cb9d(0x64b)]==_0x54cb9d(0x4ca)&&(_0x5e75b2[_0x54cb9d(0x64b)]=_0x380d50['notas']),typeof _0x380d50[_0x54cb9d(0x42e)]==_0x54cb9d(0x4ca)&&(_0x5e75b2['responsavelid']=_0x380d50[_0x54cb9d(0x42e)]),Array[_0x54cb9d(0x603)](_0x380d50[_0x54cb9d(0x6fa)])&&(_0x5e75b2[_0x54cb9d(0x6fa)]=_0x380d50[_0x54cb9d(0x6fa)]['join'](',\x20')),Array['isArray'](_0x380d50[_0x54cb9d(0x5d1)])&&(_0x5e75b2[_0x54cb9d(0x5d1)]=_0x380d50['etiquetas'][_0x54cb9d(0x279)](',\x20'));}return _0x29a996&&_0x29a996['leadInfo']&&_0x29a996['leadInfo'][_0x54cb9d(0x249)]&&_0x29a996[_0x54cb9d(0x64f)][_0x54cb9d(0x249)]['forEach'](_0x50d6c7=>{const _0x53251a=_0x54cb9d;let _0x4225c8=this[_0x53251a(0x6d8)]?.[_0x53251a(0x249)][_0x53251a(0x75d)](_0x259c09=>_0x259c09[_0x53251a(0x3c4)]===_0x50d6c7[_0x53251a(0x3c4)]);_0x4225c8&&(_0x5e75b2[_0x4225c8[_0x53251a(0x7bd)]]=_0x50d6c7[_0x53251a(0x30d)]);}),_0x5e75b2;}async[a0_0x236793(0x27a)](_0x34afcb,_0x29d875){const _0x27781a=a0_0x236793;try{let _0x210bea=await this[_0x27781a(0x5b2)](_0x29d875);return this[_0x27781a(0x82d)](_0x34afcb,_0x210bea);}catch(_0x53fe98){return this[_0x27781a(0x598)][_0x27781a(0x1a3)](_0x27781a(0x560)+_0x29d875+':\x20'+_0x53fe98),_0x34afcb;}}async[a0_0x236793(0x629)](_0x17bc2b){const _0x2dd24e=a0_0x236793;try{if(this['logger'][_0x2dd24e(0x461)](this[_0x2dd24e(0x5a5)]+'\x20('+this[_0x2dd24e(0x4fb)]['wuid']+_0x2dd24e(0x3ac)),_0x17bc2b[_0x2dd24e(0x29a)]&&_0x17bc2b[_0x2dd24e(0x3c4)]){if(this[_0x2dd24e(0x4fb)][_0x2dd24e(0x7b3)][_0x2dd24e(0x27b)]===_0x17bc2b['_id']['toString']())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x3e57d6=await this['repository']['scheduleMessage'][_0x2dd24e(0x4f7)](_0x17bc2b[_0x2dd24e(0x3c4)],this['instance'][_0x2dd24e(0x7dd)]);return setTimeout(()=>this[_0x2dd24e(0x32f)](),0x7d0),_0x3e57d6;}let _0x32dfe5;if(_0x17bc2b['_id']&&(_0x32dfe5=await this[_0x2dd24e(0x520)][_0x2dd24e(0x572)]['findById'](_0x17bc2b[_0x2dd24e(0x3c4)],this['instance'][_0x2dd24e(0x7dd)])),_0x32dfe5){let _0xeb7830;if(this['instance']['ScheduleMessage'][_0x2dd24e(0x27b)]===_0x32dfe5[_0x2dd24e(0x3c4)][_0x2dd24e(0x6eb)]())_0xeb7830={'$set':{'status':_0x17bc2b[_0x2dd24e(0x464)]}};else{let {_id:_0x28e4dd,..._0x71a31b}=_0x17bc2b;_0xeb7830={'$set':_0x71a31b};}let _0x98165b=await this[_0x2dd24e(0x520)][_0x2dd24e(0x572)][_0x2dd24e(0x270)](_0x17bc2b[_0x2dd24e(0x3c4)],_0xeb7830,this[_0x2dd24e(0x4fb)][_0x2dd24e(0x7dd)]);return setTimeout(()=>this[_0x2dd24e(0x32f)](),0x7d0),_0x98165b;}else{_0x17bc2b['owner']=this[_0x2dd24e(0x4fb)]['wuid'];let _0x40a838=await this[_0x2dd24e(0x520)][_0x2dd24e(0x572)][_0x2dd24e(0x3a8)](_0x17bc2b,this['instance'][_0x2dd24e(0x7dd)]);return setTimeout(()=>this[_0x2dd24e(0x32f)](),0x7d0),_0x40a838;}}catch(_0x2bb566){let _0x4f9390='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x11ebe0=_0x2bb566 instanceof Error?_0x2bb566[_0x2dd24e(0x7e9)]:typeof _0x2bb566==_0x2dd24e(0x22a)?JSON[_0x2dd24e(0x6fe)](_0x2bb566):_0x2bb566,_0xd42957=_0x4f9390+':\x20'+_0x11ebe0;throw this[_0x2dd24e(0x598)][_0x2dd24e(0x1a3)](this[_0x2dd24e(0x5a5)]+'\x20('+this[_0x2dd24e(0x4fb)]['wuid']+_0x2dd24e(0x344)+_0xd42957),new m(_0xd42957);}}async[a0_0x236793(0x1d5)](){const _0x528bcc=a0_0x236793;try{return await this[_0x528bcc(0x520)][_0x528bcc(0x572)][_0x528bcc(0x75d)]({'where':{}},this[_0x528bcc(0x4fb)][_0x528bcc(0x7dd)]);}catch(_0x53bd5c){let _0xc6671c='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x220556=_0x53bd5c instanceof Error?_0x53bd5c[_0x528bcc(0x7e9)]:typeof _0x53bd5c==_0x528bcc(0x22a)?JSON[_0x528bcc(0x6fe)](_0x53bd5c):_0x53bd5c,_0x15bef0=_0xc6671c+':\x20'+_0x220556;throw this[_0x528bcc(0x598)][_0x528bcc(0x1a3)](this[_0x528bcc(0x5a5)]+'\x20('+this[_0x528bcc(0x4fb)][_0x528bcc(0x7dd)]+'):\x20'+_0x15bef0),new m(_0x15bef0);}}async[a0_0x236793(0x77e)](){const _0x1ff564=a0_0x236793;try{let _0x3023ca={'status':'done'},_0x3415bd=await this[_0x1ff564(0x520)][_0x1ff564(0x572)][_0x1ff564(0x218)](_0x3023ca,this['instance'][_0x1ff564(0x7dd)]);if(!_0x3415bd[_0x1ff564(0x1a3)])this[_0x1ff564(0x598)][_0x1ff564(0x461)](this['instanceName']+'\x20('+this['instance'][_0x1ff564(0x7dd)]+_0x1ff564(0x6f6));else throw new Error(_0x3415bd[_0x1ff564(0x1a3)][_0x1ff564(0x7e9)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0x3df79e){let _0x258972=_0x1ff564(0x748),_0x5667cc=_0x3df79e instanceof Error?_0x3df79e[_0x1ff564(0x7e9)]:typeof _0x3df79e==_0x1ff564(0x22a)?JSON[_0x1ff564(0x6fe)](_0x3df79e):_0x3df79e,_0x5979b7=_0x258972+':\x20'+_0x5667cc;throw this[_0x1ff564(0x598)][_0x1ff564(0x1a3)](this['instanceName']+'\x20('+this[_0x1ff564(0x4fb)][_0x1ff564(0x7dd)]+'):\x20'+_0x5979b7),new m(_0x5979b7);}}async['SendScheduleMessage'](_0xe46064,_0x58208d){const _0x4dee8b=a0_0x236793;try{if(_0x58208d[_0x4dee8b(0x787)]===_0x4dee8b(0x671)&&!this[_0x4dee8b(0x6d8)]?.['flowConfig'][_0x4dee8b(0x209)])return this[_0x4dee8b(0x598)][_0x4dee8b(0x1a3)](this[_0x4dee8b(0x5a5)]+'\x20('+this['instance'][_0x4dee8b(0x7dd)]+_0x4dee8b(0x68d)),{'error':!0x0,'detail':_0x4dee8b(0x3d5)};switch(_0x58208d[_0x4dee8b(0x787)]){case _0x4dee8b(0x4a3):return await this['scheduleSendText'](_0x58208d,_0xe46064);case _0x4dee8b(0x2c4):return await this[_0x4dee8b(0x58a)](_0x58208d,_0xe46064);case _0x4dee8b(0x4f3):return await this[_0x4dee8b(0x4be)](_0x58208d,_0xe46064);case _0x4dee8b(0x671):let _0x99e68f=new Fe();return _0x99e68f[_0x4dee8b(0x7bd)]=_0x58208d[_0x4dee8b(0x550)],_0x99e68f[_0x4dee8b(0x2f9)]=_0xe46064,await this['startFlow'](_0x99e68f);break;default:return this['logger'][_0x4dee8b(0x1a3)](this[_0x4dee8b(0x5a5)]+'\x20('+this[_0x4dee8b(0x4fb)][_0x4dee8b(0x7dd)]+'):\x20Comando\x20desconhecido:\x20'+_0x58208d[_0x4dee8b(0x787)]),{'error':!0x0,'detail':_0x4dee8b(0x7f2)};}}catch(_0x412152){return this['logger'][_0x4dee8b(0x1a3)](this[_0x4dee8b(0x5a5)]+'\x20('+this[_0x4dee8b(0x4fb)]['wuid']+_0x4dee8b(0x4e3)+(_0x412152 instanceof Error?_0x412152['message']:JSON[_0x4dee8b(0x6fe)](_0x412152,null,0x2))),{'error':!0x0,'detail':_0x412152[_0x4dee8b(0x7e9)]};}}[a0_0x236793(0x635)](_0x19775b){const _0x28e6ad=a0_0x236793;let _0x1af3bf=_0x19775b[_0x28e6ad(0x6ec)]('|'),_0x5df108=Math['floor'](Math[_0x28e6ad(0x582)]()*_0x1af3bf[_0x28e6ad(0x5a8)]);return _0x1af3bf[_0x5df108][_0x28e6ad(0x76e)]();}async['scheduleSendText'](_0x5aa50f,_0x4dfb60){const _0x2b3d53=a0_0x236793;if(this[_0x2b3d53(0x598)]['verbose'](this[_0x2b3d53(0x5a5)]+'\x20('+this[_0x2b3d53(0x4fb)]['wuid']+_0x2b3d53(0x3e5)),!_0x5aa50f[_0x2b3d53(0x7e9)][_0x2b3d53(0x4a3)]||_0x5aa50f[_0x2b3d53(0x7e9)][_0x2b3d53(0x4a3)][_0x2b3d53(0x5a8)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0xc61b38=this[_0x2b3d53(0x635)](_0x5aa50f[_0x2b3d53(0x7e9)][_0x2b3d53(0x4a3)]),_0x49851c=await this[_0x2b3d53(0x27a)](_0xc61b38,_0x4dfb60),_0x47d1ae={'number':_0x4dfb60,'options':{'delay':_0x5aa50f[_0x2b3d53(0x7e9)][_0x2b3d53(0x55f)],'linkPreview':_0x5aa50f[_0x2b3d53(0x7e9)]['linkPreview']},'textMessage':{'text':_0x49851c}},_0x50cd3c=null;try{let _0x1943b7=await this[_0x2b3d53(0x289)](_0x47d1ae);if(_0x1943b7&&_0x1943b7[_0x2b3d53(0x464)])return{'error':!0x1,'id':_0x1943b7[_0x2b3d53(0x533)]['id']};_0x50cd3c=JSON['stringify'](_0x1943b7),this[_0x2b3d53(0x598)][_0x2b3d53(0x461)](this[_0x2b3d53(0x5a5)]+'\x20('+this[_0x2b3d53(0x4fb)][_0x2b3d53(0x7dd)]+_0x2b3d53(0x344)+_0x50cd3c);}catch(_0x5080db){this[_0x2b3d53(0x598)][_0x2b3d53(0x1a3)](this[_0x2b3d53(0x5a5)]+'\x20('+this[_0x2b3d53(0x4fb)][_0x2b3d53(0x7dd)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x5080db instanceof Error?_0x5080db[_0x2b3d53(0x7e9)]:JSON[_0x2b3d53(0x6fe)](_0x5080db,null,0x2))),_0x50cd3c=_0x5080db[_0x2b3d53(0x7e9)];}if(_0x50cd3c)return{'error':!0x0,'detail':(typeof _0x50cd3c==_0x2b3d53(0x22a)?JSON[_0x2b3d53(0x6fe)](_0x50cd3c,null,0x2):_0x50cd3c)[_0x2b3d53(0x517)](/[\[\]{}\n]/g,'\x20')[_0x2b3d53(0x517)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x10916f,_0x572be7){const _0xb6677f=a0_0x236793;this[_0xb6677f(0x598)][_0xb6677f(0x461)](this['instanceName']+'\x20('+this[_0xb6677f(0x4fb)][_0xb6677f(0x7dd)]+_0xb6677f(0x368));let _0x281337;if(_0x10916f[_0xb6677f(0x7e9)][_0xb6677f(0x4a3)]&&_0x10916f['message'][_0xb6677f(0x4a3)][_0xb6677f(0x5a8)]>0x0){let _0x541b8d=this[_0xb6677f(0x635)](_0x10916f['message'][_0xb6677f(0x4a3)]);_0x281337=await this[_0xb6677f(0x27a)](_0x541b8d,_0x572be7);}let _0x56d7bc={'number':_0x572be7,'options':{'delay':_0x10916f[_0xb6677f(0x7e9)]['delay'],'linkPreview':_0x10916f['message']['linkPreview']},'mediaMessage':{'mediatype':_0x10916f[_0xb6677f(0x7e9)]['mediatype'],'caption':_0x281337,'media':_0x10916f[_0xb6677f(0x7e9)][_0xb6677f(0x260)]}},_0x778ddc=null;try{let _0x3310eb=await this['mediaMessage'](_0x56d7bc);if(_0x3310eb&&_0x3310eb['status'])return{'error':!0x1,'id':_0x3310eb['key']['id']};_0x778ddc=JSON['stringify'](_0x3310eb),this[_0xb6677f(0x598)]['verbose'](this[_0xb6677f(0x5a5)]+'\x20('+this[_0xb6677f(0x4fb)]['wuid']+_0xb6677f(0x344)+_0x778ddc);}catch(_0x40c7db){this['logger'][_0xb6677f(0x1a3)](this[_0xb6677f(0x5a5)]+'\x20('+this[_0xb6677f(0x4fb)][_0xb6677f(0x7dd)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x40c7db instanceof Error?_0x40c7db[_0xb6677f(0x7e9)]:JSON['stringify'](_0x40c7db,null,0x2))),_0x778ddc=_0x40c7db['message'];}if(_0x778ddc)return{'error':!0x0,'detail':(typeof _0x778ddc==_0xb6677f(0x22a)?JSON[_0xb6677f(0x6fe)](_0x778ddc,null,0x2):_0x778ddc)[_0xb6677f(0x517)](/[\[\]{}\n]/g,'\x20')[_0xb6677f(0x517)](/  +/g,'\x20')};}async[a0_0x236793(0x4be)](_0x53f471,_0x3c5c48){const _0xb35bbc=a0_0x236793;this[_0xb35bbc(0x598)][_0xb35bbc(0x461)](this['instanceName']+'\x20('+this[_0xb35bbc(0x4fb)]['wuid']+'):\x20Enviando\x20áudio');let _0xdd2295={'number':_0x3c5c48,'options':{'delay':_0x53f471[_0xb35bbc(0x7e9)][_0xb35bbc(0x55f)]},'audioMessage':{'audio':_0x53f471['message']['urlOrBase64']}},_0xa4f9b2=null;try{let _0x2d2aac=await this[_0xb35bbc(0x6e5)](_0xdd2295);if(_0x2d2aac&&_0x2d2aac[_0xb35bbc(0x464)])return{'error':!0x1,'id':_0x2d2aac['key']['id']};_0xa4f9b2=JSON[_0xb35bbc(0x6fe)](_0x2d2aac),this[_0xb35bbc(0x598)][_0xb35bbc(0x461)](this[_0xb35bbc(0x5a5)]+'\x20('+this[_0xb35bbc(0x4fb)]['wuid']+_0xb35bbc(0x344)+_0xa4f9b2);}catch(_0x371155){this[_0xb35bbc(0x598)]['error'](this[_0xb35bbc(0x5a5)]+'\x20('+this[_0xb35bbc(0x4fb)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x371155 instanceof Error?_0x371155[_0xb35bbc(0x7e9)]:JSON[_0xb35bbc(0x6fe)](_0x371155,null,0x2))),_0xa4f9b2=_0x371155[_0xb35bbc(0x7e9)];}if(_0xa4f9b2)return{'error':!0x0,'detail':(typeof _0xa4f9b2==_0xb35bbc(0x22a)?JSON[_0xb35bbc(0x6fe)](_0xa4f9b2,null,0x2):_0xa4f9b2)[_0xb35bbc(0x517)](/[\[\]{}\n]/g,'\x20')[_0xb35bbc(0x517)](/  +/g,'\x20')};}},Ut=class c{constructor(_0x338ab4,_0x2ce9dd,_0x4f39ba){const _0x5a8c78=a0_0x236793;this[_0x5a8c78(0x2f1)]=_0x338ab4,this[_0x5a8c78(0x558)]=_0x2ce9dd,this['repository']=_0x4f39ba,this['db']={},this[_0x5a8c78(0x35d)]={},this['logger']=new R(c[_0x5a8c78(0x7bd)]),this[_0x5a8c78(0x20c)]={},(this[_0x5a8c78(0x733)](),this[_0x5a8c78(0x4af)](),Object[_0x5a8c78(0x887)](this['db'],_0x2ce9dd['get'](_0x5a8c78(0x6d7))),Object[_0x5a8c78(0x887)](this['redis'],_0x2ce9dd[_0x5a8c78(0x253)](_0x5a8c78(0x396))),this['dbInstance']=this['db'][_0x5a8c78(0x3ea)]?this[_0x5a8c78(0x520)][_0x5a8c78(0x6dd)]?.['db'](this['db'][_0x5a8c78(0x6d3)][_0x5a8c78(0x3e3)]+_0x5a8c78(0x68b)):void 0x0,this['cache']=this[_0x5a8c78(0x35d)][_0x5a8c78(0x3ea)]?new ce(this[_0x5a8c78(0x35d)]):void 0x0);}async[a0_0x236793(0x694)](_0x31a35e){const _0x4f6f17=a0_0x236793;if(_0x31a35e&&!this[_0x4f6f17(0x20c)][_0x31a35e])throw new U('Instance\x20\x22'+_0x31a35e+'\x22\x20not\x20found');let _0x4f782d=[];for await(let [_0x456a0f,_0x1c38a4]of Object['entries'](this[_0x4f6f17(0x20c)]))if(_0x1c38a4&&_0x1c38a4[_0x4f6f17(0x60c)][_0x4f6f17(0x667)]==='open'){let _0x4fc191=await this[_0x4f6f17(0x520)][_0x4f6f17(0x807)][_0x4f6f17(0x75d)](_0x456a0f);_0x4f782d[_0x4f6f17(0x4a9)]({'instance':{'instanceName':_0x456a0f,'apikey':_0x4fc191[_0x4f6f17(0x1e5)],'owner':_0x1c38a4[_0x4f6f17(0x7dd)],'profileName':await _0x1c38a4[_0x4f6f17(0x4c9)]()||'not\x20loaded','profilePictureUrl':_0x1c38a4[_0x4f6f17(0x872)]}});}return _0x4f782d[_0x4f6f17(0x75d)](_0x22dd64=>_0x22dd64[_0x4f6f17(0x4fb)][_0x4f6f17(0x5a5)]===_0x31a35e)??_0x4f782d;}async[a0_0x236793(0x665)](_0x411e94){const _0xb36130=a0_0x236793;if(this['db'][_0xb36130(0x3ea)]&&(await this['repository']['dbServer']['connect'](),(await this['dbInstance'][_0xb36130(0x310)]())['length']>0x0&&await this[_0xb36130(0x37f)]['dropCollection'](_0x411e94)),this[_0xb36130(0x35d)][_0xb36130(0x3ea)]){this[_0xb36130(0x6b9)][_0xb36130(0x770)]=_0x411e94,await this[_0xb36130(0x6b9)][_0xb36130(0x281)]();return;}}async['loadInstance'](){const _0x33bf62=a0_0x236793;await this['InstancesAlterarTodas']();let _0x5cdde5=async _0x13a1aa=>{const _0xc07959=a0_0x57a5;let _0x5d9891=new Se(this[_0xc07959(0x558)],this[_0xc07959(0x2f1)],this['repository']);_0x5d9891['instanceName']=_0x13a1aa,await _0x5d9891['connectToWhatsapp'](),this['waInstances'][_0x13a1aa]=_0x5d9891;};try{if(this[_0x33bf62(0x35d)][_0x33bf62(0x3ea)]){let _0x23ab99=await this[_0x33bf62(0x6b9)][_0x33bf62(0x72c)]();_0x23ab99?.[_0x33bf62(0x5a8)]>0x0&&_0x23ab99[_0x33bf62(0x595)](async _0x3267cf=>await _0x5cdde5(_0x3267cf[_0x33bf62(0x6ec)](':')[0x1]));return;}if(this['db'][_0x33bf62(0x3ea)]){await this[_0x33bf62(0x520)][_0x33bf62(0x6dd)]['connect']();let _0x4bbf67=await this['dbInstance']['collections']();_0x4bbf67[_0x33bf62(0x5a8)]>0x0&&_0x4bbf67[_0x33bf62(0x595)](async _0x57d3e6=>await _0x5cdde5(_0x57d3e6[_0x33bf62(0x38d)][_0x33bf62(0x517)](/^[\w-]+\./,'')));return;}}catch(_0x51a4ba){this['logger'][_0x33bf62(0x1a3)](_0x51a4ba);}}async[a0_0x236793(0x6f7)](){const _0x2fd7e4=a0_0x236793;let _0x3bb5aa=await this[_0x2fd7e4(0x520)]['auth']['findAll'](),_0x3799e6=_0x3bb5aa[_0x2fd7e4(0x504)](_0x1e4e92=>!this[_0x2fd7e4(0x20c)][_0x1e4e92[_0x2fd7e4(0x3c4)]]&&(_0x1e4e92[_0x2fd7e4(0x2ba)]||typeof _0x1e4e92[_0x2fd7e4(0x2ba)]>'u'));_0x3799e6[_0x2fd7e4(0x5a8)]>0x0&&await Promise[_0x2fd7e4(0x4a7)](_0x3799e6[_0x2fd7e4(0x405)](async _0x586ad9=>{const _0x10618c=_0x2fd7e4;let _0x2b2560={'online':!0x1,'lastDisconnect':Date[_0x10618c(0x1e6)]()};await this['repository'][_0x10618c(0x807)][_0x10618c(0x6ed)](_0x2b2560,_0x586ad9['_id']);}));let _0x3eb9b5=Date[_0x2fd7e4(0x1e6)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x4f9378=_0x3bb5aa['filter'](_0x3620f3=>!this[_0x2fd7e4(0x20c)][_0x3620f3[_0x2fd7e4(0x3c4)]]&&typeof _0x3620f3[_0x2fd7e4(0x2b9)]<'u'&&_0x3620f3[_0x2fd7e4(0x2b9)]<_0x3eb9b5);_0x4f9378[_0x2fd7e4(0x5a8)]>0x0&&await Promise[_0x2fd7e4(0x4a7)](_0x4f9378[_0x2fd7e4(0x405)](async _0xe28a7f=>{}));}async[a0_0x236793(0x2c0)](){const _0x40176d=a0_0x236793;try{let _0x26f8bf={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x3981b9={'online':!0x1,'lastDisconnect':Date[_0x40176d(0x1e6)]()},_0x42b535=await this[_0x40176d(0x520)][_0x40176d(0x807)]['updateAll'](_0x26f8bf,_0x3981b9);console[_0x40176d(0x7e7)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x42b535[_0x40176d(0x38e)]),await this[_0x40176d(0x5c5)]();}catch(_0x33357a){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x33357a);}}async[a0_0x236793(0x5c5)](){const _0x1cf880=a0_0x236793;try{let _0x46a323={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x1cde4e=await this['repository'][_0x1cf880(0x807)][_0x1cf880(0x218)](_0x46a323);console[_0x1cf880(0x7e7)](_0x1cf880(0x358)+_0x1cde4e[_0x1cf880(0x38e)]);}catch(_0x21e40c){console['error'](_0x1cf880(0x576),_0x21e40c);}}[a0_0x236793(0x733)](){const _0x1d9691=a0_0x236793;this[_0x1d9691(0x2f1)]['on'](_0x1d9691(0x232),async _0x12e416=>{const _0x4a039c=_0x1d9691;try{this[_0x4a039c(0x20c)][_0x12e416]=void 0x0;}catch{}try{this[_0x4a039c(0x665)](_0x12e416);}finally{this['logger'][_0x4a039c(0x435)]('Instance\x20\x22'+_0x12e416+_0x4a039c(0x2b1));}});}[a0_0x236793(0x4af)](){const _0x15e407=a0_0x236793;this[_0x15e407(0x2f1)]['on'](_0x15e407(0x3fe),async _0x5c9338=>{const _0x34bcea=_0x15e407;try{this['waInstances'][_0x5c9338]=void 0x0;}catch{}try{this[_0x34bcea(0x665)](_0x5c9338);}finally{this[_0x34bcea(0x598)][_0x34bcea(0x435)](_0x34bcea(0x519)+_0x5c9338+_0x34bcea(0x612));}});}},qt=class extends x{['getChatModelForOwner'](_0x3fa29a){return Ys(_0x3fa29a);}async['insert'](_0x32c6d3){const _0x1edfc1=a0_0x236793;if(_0x32c6d3[_0x1edfc1(0x5a8)]!==0x0)try{return{'insertCount':(await this[_0x1edfc1(0x56e)](_0x32c6d3[0x0]['owner'])[_0x1edfc1(0x1c2)]([..._0x32c6d3]))[_0x1edfc1(0x5a8)]};}catch(_0x494537){return _0x494537;}}async['find'](_0x2f4fae,_0x555f2f){const _0x24b599=a0_0x236793;try{let _0x7cafec=this['getChatModelForOwner'](_0x555f2f),_0x54d532=A(_0x2f4fae['where']);return await _0x7cafec[_0x24b599(0x75d)](_0x54d532)['sort']({'lastmsg':-0x1})['limit'](_0x2f4fae?.['limit']??0x0)[_0x24b599(0x222)]();}catch{return[];}}async[a0_0x236793(0x29a)](_0x4e6b10,_0xd39b97){const _0x74f0c7=a0_0x236793;try{return{'deletedCount':(await this[_0x74f0c7(0x56e)](_0xd39b97)[_0x74f0c7(0x218)]({..._0x4e6b10[_0x74f0c7(0x1ca)]}))[_0x74f0c7(0x3ec)]};}catch(_0x69d156){return{'error':_0x69d156?.[_0x74f0c7(0x6eb)]()};}}async[a0_0x236793(0x70a)](_0x5a88a9,_0x27ba31){const _0x228434=a0_0x236793;try{return await this[_0x228434(0x56e)](_0x27ba31)[_0x228434(0x218)]({..._0x5a88a9['where']}),[];}catch(_0x28a214){return{'error':_0x28a214?.['toString']()};}}async[a0_0x236793(0x542)](_0xd263ed,_0x3cc691){const _0x26d01e=a0_0x236793;try{let _0x1f1132=this[_0x26d01e(0x56e)](_0x3cc691),_0x2dfc10=A(_0xd263ed[_0x26d01e(0x1ca)]);return await _0x1f1132[_0x26d01e(0x542)](_0x2dfc10)[_0x26d01e(0x222)]();}catch{return null;}}async[a0_0x236793(0x1e2)](_0x40f4d4,_0x3434e4,_0x41d42c,_0x5d80b9,_0x4d0ab1=a0_0x236793(0x41a)){const _0x219443=a0_0x236793;try{let _0x23e564={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5d80b9},_0x26075b=this[_0x219443(0x56e)](_0x41d42c),_0x442319=A(_0x40f4d4[_0x219443(0x1ca)]);Object[_0x219443(0x75c)](_0x3434e4)['forEach'](_0x2d8bce=>{_0x3434e4[_0x2d8bce]==null&&delete _0x3434e4[_0x2d8bce];});let _0x56da95={};return _0x56da95[_0x4d0ab1]=_0x3434e4,await _0x26075b['findOneAndUpdate'](_0x442319,_0x56da95,_0x23e564);}catch(_0x650bd){return console['error'](_0x650bd),null;}}async[a0_0x236793(0x681)](_0x8d0f0b){const _0x213573=a0_0x236793;try{let _0x20edfe=this['getChatModelForOwner'](_0x8d0f0b[0x0][_0x213573(0x808)]['where'][_0x213573(0x217)]),_0x39fedc=_0x8d0f0b[_0x213573(0x405)](_0x486601=>({'updateOne':{'filter':{..._0x486601[_0x213573(0x808)][_0x213573(0x1ca)]},'update':{'$set':_0x486601[_0x213573(0x7a6)]},'upsert':!0x0}})),_0x2c025c=await _0x20edfe[_0x213573(0x269)](_0x39fedc);return _0x2c025c[_0x213573(0x2fe)]+_0x2c025c['upsertedCount'];}catch(_0x3452fd){return console[_0x213573(0x1a3)](_0x3452fd),0x0;}}async[a0_0x236793(0x4ee)](_0x1de6e5){const _0x531f7f=a0_0x236793;try{let _0x4e2ea7={'group_isCommunity':'','group_announce':'','group_size':''},_0x31a80e={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x11fe64={'$unset':_0x4e2ea7};return(await this[_0x531f7f(0x56e)](_0x1de6e5)['updateMany'](_0x31a80e,_0x11fe64))[_0x531f7f(0x2fe)];}catch(_0x29ffa9){return console[_0x531f7f(0x1a3)](_0x531f7f(0x599),_0x29ffa9),0x0;}}async[a0_0x236793(0x3c0)](_0x49080b){const _0x34811d=a0_0x236793;try{let _0x151110=this[_0x34811d(0x56e)](_0x49080b),_0x8433d3={'leadInfo.etiquetas':{'$exists':!0x1}},_0x341c0e={'$set':{'leadInfo.etiquetas':[]}};return(await _0x151110[_0x34811d(0x681)](_0x8433d3,_0x341c0e))[_0x34811d(0x2fe)];}catch(_0xc337b4){return console[_0x34811d(0x1a3)](_0xc337b4),0x0;}}async[a0_0x236793(0x590)](_0x6174a2){const _0x418281=a0_0x236793;try{let _0x1c4322=this['getChatModelForOwner'](_0x6174a2),_0x1a7328={'leadInfo.tags':{'$exists':!0x1}},_0x8be7bb={'$set':{'leadInfo.tags':[]}};return(await _0x1c4322[_0x418281(0x681)](_0x1a7328,_0x8be7bb))[_0x418281(0x2fe)];}catch(_0x875597){return console[_0x418281(0x1a3)](_0x875597),0x0;}}async[a0_0x236793(0x734)](_0x3564a3){const _0x5dbbd3=a0_0x236793;try{let _0x5d50df=this[_0x5dbbd3(0x56e)](_0x3564a3),_0x4ac538={'leadInfo.customFields':{'$exists':!0x1}},_0x273789={'$set':{'leadInfo.customFields':[]}};return(await _0x5d50df[_0x5dbbd3(0x681)](_0x4ac538,_0x273789))[_0x5dbbd3(0x2fe)];}catch(_0x41d0e3){return console[_0x5dbbd3(0x1a3)](_0x41d0e3),0x0;}}async[a0_0x236793(0x1c2)](_0x1b7884,_0x38d23e){const _0x358fd1=a0_0x236793;if(!Array['isArray'](_0x1b7884)||_0x1b7884[_0x358fd1(0x5a8)]===0x0)throw new Error(_0x358fd1(0x5a0));try{return(await this[_0x358fd1(0x56e)](_0x38d23e)['insertMany'](_0x1b7884))['length'];}catch(_0x5525af){throw console[_0x358fd1(0x1a3)](_0x358fd1(0x216),_0x5525af),_0x5525af;}}async[a0_0x236793(0x5d5)](_0x39f162,_0xca730){const _0x2fda3b=a0_0x236793;try{await this[_0x2fda3b(0x56e)](_0xca730)['deleteOne']({'_id':_0x39f162});}catch(_0x18c9d0){throw console[_0x2fda3b(0x1a3)]('Erro\x20ao\x20deletar\x20chat:',_0x18c9d0),_0x18c9d0;}}},Vt=class extends x{constructor(_0x4c5b4d,_0x5e2456,_0x52523d){const _0x563b1f=a0_0x236793;super(_0x5e2456),this[_0x563b1f(0x677)]=_0x4c5b4d,this[_0x563b1f(0x558)]=_0x5e2456,this[_0x563b1f(0x476)]=_0x52523d;}async[a0_0x236793(0x621)](_0x33dce7){const _0x4d6adc=a0_0x236793;if(_0x33dce7[_0x4d6adc(0x5a8)]!==0x0)try{return{'insertCount':(await this[_0x4d6adc(0x677)][_0x4d6adc(0x1c2)]([..._0x33dce7]))[_0x4d6adc(0x5a8)]};}catch(_0x482595){return _0x482595;}}async['update'](_0x41e173,_0x43c90e){const _0x3ff6c9=a0_0x236793;try{let _0x4bc578=A(_0x41e173[_0x3ff6c9(0x1ca)]);return{'updatedCount':(await this[_0x3ff6c9(0x677)][_0x3ff6c9(0x681)](_0x4bc578,{'$set':_0x43c90e}))[_0x3ff6c9(0x2fe)]};}catch(_0x2bf3f5){return console[_0x3ff6c9(0x1a3)](_0x3ff6c9(0x3f9),_0x2bf3f5),{'error':_0x2bf3f5['toString']()};}}async[a0_0x236793(0x1cc)](_0x13e25b){const _0x3f98e4=a0_0x236793;try{let _0x593d11={'_id':{'$in':_0x13e25b}};return await this[_0x3f98e4(0x677)]['find'](_0x593d11)[_0x3f98e4(0x222)]();}catch(_0x2779ae){return console[_0x3f98e4(0x1a3)](_0x3f98e4(0x814),_0x2779ae),[];}}async[a0_0x236793(0x29a)](_0x26c54f){const _0x1fefaa=a0_0x236793;try{return{'deletedCount':(await this[_0x1fefaa(0x677)][_0x1fefaa(0x218)]({..._0x26c54f[_0x1fefaa(0x1ca)]}))[_0x1fefaa(0x3ec)]};}catch(_0xfccf66){return{'error':_0xfccf66?.[_0x1fefaa(0x6eb)]()};}}async[a0_0x236793(0x75d)](_0x5cb006){const _0x5dc1d3=a0_0x236793;try{let _0x137169=A(_0x5cb006[_0x5dc1d3(0x1ca)]);return await this[_0x5dc1d3(0x677)][_0x5dc1d3(0x75d)](_0x137169)[_0x5dc1d3(0x610)](_0x5cb006?.[_0x5dc1d3(0x610)]??0x0)[_0x5dc1d3(0x222)]();}catch{return[];}}async['findOne'](_0x1b9705){const _0x2a2d44=a0_0x236793;try{let _0x4a681f=A(_0x1b9705[_0x2a2d44(0x1ca)]);return await this['cacheContactModel'][_0x2a2d44(0x542)](_0x4a681f)[_0x2a2d44(0x222)]();}catch{return null;}}},Gt=class extends x{[a0_0x236793(0x6a1)](_0x503e95){return Ea(_0x503e95);}async[a0_0x236793(0x1e2)](_0x317fe9,_0xa43637,_0x4c0503,_0x60ea8c){const _0x422da6=a0_0x236793;try{let _0x22e7d3={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x60ea8c},_0x591f8f=this['getLabelModelForOwner'](_0x4c0503),_0x54df26=A(_0x317fe9[_0x422da6(0x1ca)]);return await _0x591f8f[_0x422da6(0x4b9)](_0x54df26,{'$set':_0xa43637},_0x22e7d3);}catch(_0x1719d3){return console[_0x422da6(0x1a3)](_0x1719d3),null;}}async['find'](_0x1ba75a,_0x8ef032){const _0x3886fd=a0_0x236793;try{let _0x3afa72=this[_0x3886fd(0x6a1)](_0x8ef032),_0x2fc782=A(_0x1ba75a[_0x3886fd(0x1ca)]);return await _0x3afa72['find'](_0x2fc782);}catch(_0x1e6b2c){console[_0x3886fd(0x1a3)](_0x1e6b2c);}}async[a0_0x236793(0x29a)](_0x1631e1,_0x492ec4){const _0x17174b=a0_0x236793;try{let _0x34ee4f=this[_0x17174b(0x6a1)](_0x492ec4),_0x28f8f0=A(_0x1631e1['where']);await _0x34ee4f[_0x17174b(0x218)](_0x28f8f0);}catch(_0x189cb6){console['error'](_0x189cb6);}}async[a0_0x236793(0x70a)](_0x2354e5){const _0x468a1b=a0_0x236793;try{return await this[_0x468a1b(0x6a1)](_0x2354e5)['collection'][_0x468a1b(0x82c)](),{'success':!0x0};}catch(_0x39ccd6){return console[_0x468a1b(0x1a3)](_0x39ccd6),{'success':!0x1,'error':_0x39ccd6};}}},Bt=class{constructor(_0x28453c){const _0x2639ce=a0_0x236793;this[_0x2639ce(0x874)]=_0x28453c;}async[a0_0x236793(0x31b)]({instanceName:_0x306264},_0x4266e1){const _0x7d5f2b=a0_0x236793;return await this[_0x7d5f2b(0x874)][_0x7d5f2b(0x20c)][_0x306264][_0x7d5f2b(0x31b)](_0x4266e1);}async['whatsappNumber']({instanceName:_0xd1e47a},_0x5c11cc){const _0x3afb5d=a0_0x236793;return await this[_0x3afb5d(0x874)][_0x3afb5d(0x20c)][_0xd1e47a][_0x3afb5d(0x43b)](_0x5c11cc);}async[a0_0x236793(0x7e2)]({instanceName:_0x270515},_0x27d8bc){const _0xca8324=a0_0x236793;return await this['waMonitor'][_0xca8324(0x20c)][_0x270515]['importChats'](_0x27d8bc);}async[a0_0x236793(0x31a)]({instanceName:_0x3370e9},_0x4e5d9f){const _0x514f1f=a0_0x236793;return await this[_0x514f1f(0x874)]['waInstances'][_0x3370e9][_0x514f1f(0x24b)](_0x4e5d9f);}async['archiveChat']({instanceName:_0x55fe86},_0x2658ab){const _0x203ce7=a0_0x236793;return await this[_0x203ce7(0x874)]['waInstances'][_0x55fe86][_0x203ce7(0x5f4)](_0x2658ab);}async[a0_0x236793(0x878)]({instanceName:_0x3135d5},_0x216bdf){const _0x530f2f=a0_0x236793;return await this[_0x530f2f(0x874)][_0x530f2f(0x20c)][_0x3135d5]['deleteMessage'](_0x216bdf);}async[a0_0x236793(0x338)]({instanceName:_0x106dab},_0x5eab59){const _0x3e8a85=a0_0x236793;return await this[_0x3e8a85(0x874)][_0x3e8a85(0x20c)][_0x106dab]['profilePicture'](_0x5eab59['number']);}async[a0_0x236793(0x443)]({instanceName:_0x2908fb},_0x46e485){const _0x340ecb=a0_0x236793;return await this[_0x340ecb(0x874)][_0x340ecb(0x20c)][_0x2908fb]['fetchProfile'](_0x46e485['number']);}async[a0_0x236793(0x756)]({instanceName:_0x4bc49e},_0x42357c){const _0x126f54=a0_0x236793;return await this[_0x126f54(0x874)][_0x126f54(0x20c)][_0x4bc49e]['updatePresence'](_0x42357c);}async[a0_0x236793(0x3b1)]({instanceName:_0x5ecd26},_0x1b1e65){const _0x1cfabd=a0_0x236793;return await this['waMonitor'][_0x1cfabd(0x20c)][_0x5ecd26][_0x1cfabd(0x3b1)](_0x1b1e65);}async[a0_0x236793(0x31e)]({instanceName:_0x3064a8},_0x5df7e3){const _0x2a08ec=a0_0x236793;return await this[_0x2a08ec(0x874)]['waInstances'][_0x3064a8][_0x2a08ec(0x31e)](_0x5df7e3);}async[a0_0x236793(0x6de)]({instanceName:_0x580136},_0x1447a0){const _0x5acdd4=a0_0x236793;return await this[_0x5acdd4(0x874)]['waInstances'][_0x580136][_0x5acdd4(0x6de)](_0x1447a0);}async['fetchLabels']({instanceName:_0x20ef19}){const _0x54c5fa=a0_0x236793;return await this[_0x54c5fa(0x874)][_0x54c5fa(0x20c)][_0x20ef19][_0x54c5fa(0x5e6)]();}async[a0_0x236793(0x4ad)]({instanceName:_0x5eef05}){const _0x24e597=a0_0x236793;return await this[_0x24e597(0x874)]['waInstances'][_0x5eef05][_0x24e597(0x4ad)]();}async['fetchPrivacySettings']({instanceName:_0x2f4fbe}){const _0x1afb7c=a0_0x236793;return await this['waMonitor']['waInstances'][_0x2f4fbe][_0x1afb7c(0x7a1)]();}async[a0_0x236793(0x3aa)]({instanceName:_0x12c0fc},_0x53a283){const _0x13a67d=a0_0x236793;return await this['waMonitor']['waInstances'][_0x12c0fc][_0x13a67d(0x3aa)](_0x53a283);}async[a0_0x236793(0x879)]({instanceName:_0x53d1f4},_0x5686f8){const _0x47de2d=a0_0x236793;return await this['waMonitor'][_0x47de2d(0x20c)][_0x53d1f4]['fetchBusinessProfile'](_0x5686f8[_0x47de2d(0x488)]);}async['updateProfileName']({instanceName:_0x5c26f0},_0x22f4a8){const _0x13a040=a0_0x236793;return await this[_0x13a040(0x874)]['waInstances'][_0x5c26f0][_0x13a040(0x73e)](_0x22f4a8['name']);}async['updateProfileStatus']({instanceName:_0xb71cb7},_0x2c1f9f){const _0x4211a1=a0_0x236793;return await this[_0x4211a1(0x874)]['waInstances'][_0xb71cb7][_0x4211a1(0x774)](_0x2c1f9f['status']);}async[a0_0x236793(0x2ea)]({instanceName:_0x370c58},_0x4a3725){const _0x3380c1=a0_0x236793;return await this[_0x3380c1(0x874)][_0x3380c1(0x20c)][_0x370c58]['updateProfilePicture'](_0x4a3725[_0x3380c1(0x1f5)]);}async[a0_0x236793(0x6c4)]({instanceName:_0x4f3e18},_0x32b872){const _0xaa5a44=a0_0x236793;return await this[_0xaa5a44(0x874)][_0xaa5a44(0x20c)][_0x4f3e18][_0xaa5a44(0x6c4)]();}},Ps=require(a0_0x236793(0x73a)),Wt=class c{constructor(_0x2abe52,_0x46bdcf,_0x118c69,_0x206224,_0x5cc05f){const _0x3ab348=a0_0x236793;this[_0x3ab348(0x874)]=_0x2abe52,this[_0x3ab348(0x558)]=_0x46bdcf,this['repository']=_0x118c69,this['eventEmitter']=_0x206224,this[_0x3ab348(0x67f)]=_0x5cc05f,this[_0x3ab348(0x598)]=new R(c[_0x3ab348(0x7bd)]);}async[a0_0x236793(0x259)]({instanceName:_0x2c0ea6,apikey:_0x3f0a0f,number:_0x33dc75,proxy:_0x3ba4db=!0x0}){const _0x439ff7=a0_0x236793;try{let _0x34531b=new Se(this['configService'],this[_0x439ff7(0x2f1)],this[_0x439ff7(0x520)]);_0x34531b[_0x439ff7(0x5a5)]=_0x2c0ea6,this[_0x439ff7(0x874)]['waInstances'][_0x34531b[_0x439ff7(0x5a5)]]=_0x34531b;let _0x2aaff5={};_0x3f0a0f?(await this['repository'][_0x439ff7(0x807)][_0x439ff7(0x6ed)]({'apikey':_0x3f0a0f},_0x2c0ea6),_0x2aaff5[_0x439ff7(0x1e5)]=_0x3f0a0f):_0x2aaff5=await this[_0x439ff7(0x67f)][_0x439ff7(0x6d0)]({'instanceName':_0x34531b[_0x439ff7(0x5a5)]});let _0x5e28b1;if(_0x33dc75){if(_0x5e28b1=await this[_0x439ff7(0x617)](_0x33dc75),_0x5e28b1[_0x439ff7(0x1a3)])throw new I(_0x5e28b1['error'][_0x439ff7(0x6eb)]());_0x33dc75=_0x5e28b1[_0x439ff7(0x488)];}let _0x114a53;return await _0x34531b[_0x439ff7(0x5f9)](_0x33dc75),await(0x0,Ps[_0x439ff7(0x55f)])(0x7d0),_0x114a53=_0x34531b[_0x439ff7(0x416)],{'instance':{'instanceName':_0x34531b[_0x439ff7(0x5a5)],'status':_0x439ff7(0x4ce)},'hash':_0x2aaff5,'qrcode':_0x114a53};}catch(_0x584ef8){throw this['logger'][_0x439ff7(0x1a3)](_0x584ef8),_0x584ef8;}}async['connectToWhatsappController']({instanceName:_0x37792d,number:_0x41348f=null}){const _0x5572d3=a0_0x236793;try{let _0x7fc054=this[_0x5572d3(0x874)][_0x5572d3(0x20c)][_0x37792d];switch(_0x7fc054?.['connectionStatus']?.['state']){case _0x5572d3(0x46c):return await _0x7fc054[_0x5572d3(0x5f9)](_0x41348f),await(0x0,Ps['delay'])(0x7d0),_0x7fc054[_0x5572d3(0x416)];case'connecting':return _0x7fc054[_0x5572d3(0x416)];default:return await this[_0x5572d3(0x57b)]({'instanceName':_0x37792d});}}catch(_0x259a8c){this[_0x5572d3(0x598)]['log'](_0x259a8c);}}async[a0_0x236793(0x57b)]({instanceName:_0x5641a7}){const _0x9dd27c=a0_0x236793;let _0x5982ec=this[_0x9dd27c(0x874)][_0x9dd27c(0x20c)][_0x5641a7][_0x9dd27c(0x60c)],_0x502bde=null;_0x5982ec[_0x9dd27c(0x667)]==='open'&&_0x5641a7&&(_0x502bde=await this[_0x9dd27c(0x874)][_0x9dd27c(0x694)](_0x5641a7));let _0x184a14=null;return _0x5982ec['state']===_0x9dd27c(0x2a5)&&_0x5641a7&&(_0x184a14=this[_0x9dd27c(0x874)][_0x9dd27c(0x20c)][_0x5641a7][_0x9dd27c(0x416)]),{'instance':_0x5641a7,'connectionStatus':_0x5982ec,'instanceInfo':_0x502bde,'qrcode':_0x184a14};}async[a0_0x236793(0x617)](_0x220697){const _0x4e7f66=a0_0x236793;_0x220697=_0x220697['replace'](/\D/g,'');let _0x5e0073=Object['keys'](this[_0x4e7f66(0x874)][_0x4e7f66(0x20c)])[_0x4e7f66(0x504)](_0x551a58=>{const _0x474391=_0x4e7f66;let _0x3398cd=this[_0x474391(0x874)][_0x474391(0x20c)][_0x551a58];return _0x3398cd&&_0x3398cd[_0x474391(0x60c)]&&_0x3398cd[_0x474391(0x60c)][_0x474391(0x667)]===_0x474391(0x664);});if(_0x5e0073[_0x4e7f66(0x5a8)]===0x0)return{'number':this[_0x4e7f66(0x316)](_0x220697)};let _0x3bb74b=Math['floor'](Math[_0x4e7f66(0x582)]()*_0x5e0073[_0x4e7f66(0x5a8)]),_0x1110c5=_0x5e0073[_0x3bb74b];try{let _0x5275bf=(await this['waMonitor'][_0x4e7f66(0x20c)][_0x1110c5][_0x4e7f66(0x43b)]({'numbers':[_0x220697]}))[_0x4e7f66(0x4c8)]();return _0x5275bf[_0x4e7f66(0x816)]?{'number':_0x5275bf[_0x4e7f66(0x79e)][_0x4e7f66(0x517)]('@s.whatsapp.net','')}:{'number':_0x220697,'error':_0x4e7f66(0x4aa)};}catch(_0x5f1b41){return this['logger'][_0x4e7f66(0x1a3)](_0x4e7f66(0x240)+_0x5f1b41),{'number':_0x220697,'error':_0x4e7f66(0x1c0)};}}[a0_0x236793(0x316)](_0x20929c){const _0x462a0e=a0_0x236793;let _0x5bb309=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x462a0e(0x386)](_0x20929c);if(_0x5bb309&&_0x5bb309[0x1]==='55'){let _0x528c19=_0x5bb309[0x2],_0x2b74bd=_0x5bb309[0x3],_0x4130bc=_0x5bb309[0x4];if(parseInt(_0x528c19)>=0x1f&&_0x2b74bd==='9')return _0x5bb309[0x1]+_0x528c19+_0x4130bc;}return _0x20929c;}async[a0_0x236793(0x848)]({instanceName:_0x5c0ab1}){const _0x3a8ad1=a0_0x236793;try{return this[_0x3a8ad1(0x874)][_0x3a8ad1(0x20c)][_0x5c0ab1]?.[_0x3a8ad1(0x5f0)]?.['ws']?.[_0x3a8ad1(0x46c)](),{'status':_0x3a8ad1(0x805),'error':!0x1,'response':{'message':_0x3a8ad1(0x22e)}};}catch(_0x107c86){this['logger']['error'](_0x107c86);}}async['fetchInstances']({instanceName:_0x395aac}){const _0x515d6b=a0_0x236793;return _0x395aac?this['waMonitor'][_0x515d6b(0x694)](_0x395aac):this[_0x515d6b(0x874)][_0x515d6b(0x694)]();}async[a0_0x236793(0x2a6)]({instanceName:_0x52be3}){const _0x49ccf2=a0_0x236793;try{return await this[_0x49ccf2(0x874)]['waInstances'][_0x52be3]?.['client']?.[_0x49ccf2(0x2a6)](_0x49ccf2(0x2ef)+_0x52be3),{'error':!0x1,'message':_0x49ccf2(0x54a)};}catch(_0x109b04){throw new I(_0x109b04['toString']());}}async['deleteInstance']({instanceName:_0x50014e}){const _0x3757e7=a0_0x236793;if((await this[_0x3757e7(0x57b)]({'instanceName':_0x50014e}))[_0x3757e7(0x60c)][_0x3757e7(0x667)]===_0x3757e7(0x664))throw new m([_0x3757e7(0x1e9),_0x3757e7(0x2bd)]);try{return delete this['waMonitor'][_0x3757e7(0x20c)][_0x50014e],{'error':!0x1,'message':_0x3757e7(0x7c1)};}catch(_0x3f3d7a){throw new m(_0x3f3d7a[_0x3757e7(0x6eb)]());}}},ee=require('class-validator'),zt=class{constructor(_0x197fcf){const _0x481b29=a0_0x236793;this[_0x481b29(0x874)]=_0x197fcf;}async[a0_0x236793(0x84e)]({instanceName:_0x12ad2e},_0x518a67){const _0x531d02=a0_0x236793;return await this[_0x531d02(0x874)]['waInstances'][_0x12ad2e][_0x531d02(0x289)](_0x518a67);}async['sendMenu']({instanceName:_0xbe375d},_0x1f336a){const _0x3846ab=a0_0x236793;return await this[_0x3846ab(0x874)][_0x3846ab(0x20c)][_0xbe375d][_0x3846ab(0x7fd)](_0x1f336a);}async[a0_0x236793(0x2b2)]({instanceName:_0xc7553},_0x3f6577){const _0x165d7f=a0_0x236793;if((0x0,ee[_0x165d7f(0x4fe)])(_0x3f6577?.[_0x165d7f(0x1b9)]?.[_0x165d7f(0x2c4)])&&!_0x3f6577?.[_0x165d7f(0x1b9)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ee['isURL'])(_0x3f6577?.[_0x165d7f(0x1b9)]?.[_0x165d7f(0x2c4)])||(0x0,ee['isBase64'])(_0x3f6577?.[_0x165d7f(0x1b9)]?.[_0x165d7f(0x2c4)]))return await this[_0x165d7f(0x874)][_0x165d7f(0x20c)][_0xc7553][_0x165d7f(0x1b9)](_0x3f6577);throw new m(_0x165d7f(0x567));}async[a0_0x236793(0x39d)]({instanceName:_0x825830},_0x1771e7){const _0x699e3d=a0_0x236793;if((0x0,ee[_0x699e3d(0x6f3)])(_0x1771e7[_0x699e3d(0x80c)][_0x699e3d(0x3bc)])||(0x0,ee[_0x699e3d(0x4fe)])(_0x1771e7[_0x699e3d(0x80c)][_0x699e3d(0x3bc)]))return await this[_0x699e3d(0x874)][_0x699e3d(0x20c)][_0x825830]['mediaSticker'](_0x1771e7);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x236793(0x35f)]({instanceName:_0x5de553},_0x2fd0e7){const _0x44c985=a0_0x236793;if((0x0,ee[_0x44c985(0x6f3)])(_0x2fd0e7[_0x44c985(0x3af)][_0x44c985(0x4f3)])||(0x0,ee[_0x44c985(0x4fe)])(_0x2fd0e7[_0x44c985(0x3af)][_0x44c985(0x4f3)]))return await this[_0x44c985(0x874)][_0x44c985(0x20c)][_0x5de553][_0x44c985(0x6e5)](_0x2fd0e7);throw new m(_0x44c985(0x567));}async[a0_0x236793(0x581)]({instanceName:_0x1e851c},_0x5aec1a){const _0x8f2102=a0_0x236793;if((0x0,ee[_0x8f2102(0x4fe)])(_0x5aec1a[_0x8f2102(0x22f)][_0x8f2102(0x1b9)]?.[_0x8f2102(0x2c4)])&&!_0x5aec1a[_0x8f2102(0x22f)][_0x8f2102(0x1b9)]?.['fileName'])throw new m(_0x8f2102(0x84c));return await this['waMonitor'][_0x8f2102(0x20c)][_0x1e851c][_0x8f2102(0x22f)](_0x5aec1a);}async[a0_0x236793(0x5c6)]({instanceName:_0xb05d97},_0xa7ce83){const _0x41bae1=a0_0x236793;return await this[_0x41bae1(0x874)][_0x41bae1(0x20c)][_0xb05d97][_0x41bae1(0x346)](_0xa7ce83);}async['sendPoll']({instanceName:_0x44c84a},_0x3670f0){const _0x3cafc1=a0_0x236793;return await this[_0x3cafc1(0x874)][_0x3cafc1(0x20c)][_0x44c84a][_0x3cafc1(0x863)](_0x3670f0);}async[a0_0x236793(0x1a1)]({instanceName:_0xda547c},_0x48ff5d){const _0x27cfe2=a0_0x236793;return await this['waMonitor']['waInstances'][_0xda547c][_0x27cfe2(0x3d9)](_0x48ff5d);}async['sendContact']({instanceName:_0x1b258a},_0xb32c2c){const _0x2f3c32=a0_0x236793;return await this[_0x2f3c32(0x874)][_0x2f3c32(0x20c)][_0x1b258a]['contactMessage'](_0xb32c2c);}async[a0_0x236793(0x408)]({instanceName:_0x475b52},_0x302331){const _0x15d948=a0_0x236793;if(!_0x302331[_0x15d948(0x6a2)][_0x15d948(0x6e3)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x15d948(0x874)]['waInstances'][_0x475b52][_0x15d948(0x6a2)](_0x302331);}async[a0_0x236793(0x6fb)]({instanceName:_0x24ab04},_0x5c82ad){const _0x6e8271=a0_0x236793;return await this[_0x6e8271(0x874)][_0x6e8271(0x20c)][_0x24ab04][_0x6e8271(0x409)](_0x5c82ad);}},xr=require(a0_0x236793(0x780)),ks=require(a0_0x236793(0x80d)),Ht=class c{constructor(_0x5cd099,_0x2bcc9a,_0x12975b){const _0xe5dabb=a0_0x236793;this[_0xe5dabb(0x558)]=_0x5cd099,this[_0xe5dabb(0x874)]=_0x2bcc9a,this[_0xe5dabb(0x520)]=_0x12975b,this['logger']=new R(c[_0xe5dabb(0x7bd)]);}async['jwt'](_0x2a0e36){const _0x165cf1=a0_0x236793;let _0x41e0b6=this[_0x165cf1(0x558)][_0x165cf1(0x253)](_0x165cf1(0x865))[_0x165cf1(0x75a)],_0x5be7ae=(0x0,xr[_0x165cf1(0x71a)])({'instanceName':_0x2a0e36[_0x165cf1(0x5a5)],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0x41e0b6[_0x165cf1(0x384)],{'expiresIn':_0x41e0b6['EXPIRIN_IN'],'encoding':_0x165cf1(0x1ce),'subject':_0x165cf1(0x7a9)}),_0x4bd2bd=await this[_0x165cf1(0x520)][_0x165cf1(0x807)][_0x165cf1(0x6ed)]({'jwt':_0x5be7ae},_0x2a0e36[_0x165cf1(0x5a5)]);if(_0x4bd2bd[_0x165cf1(0x1a3)])throw this[_0x165cf1(0x598)][_0x165cf1(0x1a3)]({'localError':c[_0x165cf1(0x7bd)]+_0x165cf1(0x546),'error':_0x4bd2bd['error']}),new m(_0x165cf1(0x37b),_0x4bd2bd[_0x165cf1(0x1a3)]?.[_0x165cf1(0x6eb)]());return{'jwt':_0x5be7ae};}async[a0_0x236793(0x1e5)](_0x958935){const _0x46ea51=a0_0x236793;let _0x1d3cc7=(0x0,ks['v4'])()[_0x46ea51(0x5d7)](),_0x3abc3f=await this[_0x46ea51(0x520)]['auth'][_0x46ea51(0x6ed)]({'apikey':_0x1d3cc7},_0x958935['instanceName']);if(_0x3abc3f[_0x46ea51(0x1a3)])throw this[_0x46ea51(0x598)][_0x46ea51(0x1a3)]({'localError':c['name']+'.jwt','error':_0x3abc3f[_0x46ea51(0x1a3)]}),new m('Authentication\x20error',_0x3abc3f[_0x46ea51(0x1a3)]?.[_0x46ea51(0x6eb)]());return{'apikey':_0x1d3cc7};}async[a0_0x236793(0x6d0)](_0x258067){const _0x363c11=a0_0x236793;let _0x5057bb=this[_0x363c11(0x558)][_0x363c11(0x253)](_0x363c11(0x865));return await this[_0x5057bb[_0x363c11(0x760)]](_0x258067);}},Kt=class{constructor(_0xb3509f){const _0x3800b7=a0_0x236793;this[_0x3800b7(0x874)]=_0xb3509f;}async['createGroup'](_0x188cfb,_0x1eda1e){const _0x132f5c=a0_0x236793;return await this[_0x132f5c(0x874)]['waInstances'][_0x188cfb['instanceName']]['createGroup'](_0x1eda1e);}async[a0_0x236793(0x828)](_0x2fc6e6,_0x5bcf74){const _0x4f4715=a0_0x236793;return await this['waMonitor'][_0x4f4715(0x20c)][_0x2fc6e6[_0x4f4715(0x5a5)]][_0x4f4715(0x828)](_0x5bcf74);}async[a0_0x236793(0x6ee)](_0x5928b5,_0x14844c){const _0x27f8fc=a0_0x236793;return await this[_0x27f8fc(0x874)][_0x27f8fc(0x20c)][_0x5928b5['instanceName']][_0x27f8fc(0x6ee)](_0x14844c);}async[a0_0x236793(0x2de)](_0xb0b582,_0x169185){const _0x69388a=a0_0x236793;return await this[_0x69388a(0x874)][_0x69388a(0x20c)][_0xb0b582[_0x69388a(0x5a5)]][_0x69388a(0x2de)](_0x169185);}async[a0_0x236793(0x3be)](_0x5c3812,_0x1a8bef){const _0x534b82=a0_0x236793;return await this['waMonitor'][_0x534b82(0x20c)][_0x5c3812[_0x534b82(0x5a5)]][_0x534b82(0x3be)](_0x1a8bef);}async['groupSetting'](_0x57fc61,_0x485e60){const _0x5869e2=a0_0x236793;return await this[_0x5869e2(0x874)][_0x5869e2(0x20c)][_0x57fc61[_0x5869e2(0x5a5)]][_0x5869e2(0x4ed)](_0x485e60);}async['findGroupInfo'](_0x1de87b,_0x5c2da6){const _0x20360e=a0_0x236793;return await this[_0x20360e(0x874)][_0x20360e(0x20c)][_0x1de87b[_0x20360e(0x5a5)]]['findGroup'](_0x5c2da6);}async['findGroups'](_0x5f1f17){const _0x1b4978=a0_0x236793;return await this[_0x1b4978(0x874)][_0x1b4978(0x20c)][_0x5f1f17[_0x1b4978(0x5a5)]]['findGroups']();}async[a0_0x236793(0x524)](_0x5bd3b1,_0x1248cc){const _0x415010=a0_0x236793;return await this[_0x415010(0x874)][_0x415010(0x20c)][_0x5bd3b1[_0x415010(0x5a5)]][_0x415010(0x524)](_0x1248cc);}async[a0_0x236793(0x20b)](_0x32feeb,_0x31b5f9){const _0xa86f76=a0_0x236793;return await this[_0xa86f76(0x874)][_0xa86f76(0x20c)][_0x32feeb[_0xa86f76(0x5a5)]][_0xa86f76(0x20b)](_0x31b5f9);}async[a0_0x236793(0x24a)](_0x50e36e,_0x4214e8){const _0x1b5e96=a0_0x236793;return await this[_0x1b5e96(0x874)][_0x1b5e96(0x20c)][_0x50e36e[_0x1b5e96(0x5a5)]][_0x1b5e96(0x24a)](_0x4214e8);}async[a0_0x236793(0x2e2)](_0x349b6b,_0x591391){const _0x17cb9b=a0_0x236793;return await this[_0x17cb9b(0x874)][_0x17cb9b(0x20c)][_0x349b6b[_0x17cb9b(0x5a5)]][_0x17cb9b(0x2e2)](_0x591391);}async['findParticipants'](_0x54d67f,_0x5e2959){const _0x2f2431=a0_0x236793;return await this['waMonitor'][_0x2f2431(0x20c)][_0x54d67f['instanceName']][_0x2f2431(0x660)](_0x5e2959);}async[a0_0x236793(0x34f)](_0x13f3fc,_0x690e88){const _0x313103=a0_0x236793;return await this['waMonitor'][_0x313103(0x20c)][_0x13f3fc[_0x313103(0x5a5)]][_0x313103(0x559)](_0x690e88);}async['toggleEphemeral'](_0x3b4d58,_0x1ed22e){const _0x1bdddd=a0_0x236793;return await this[_0x1bdddd(0x874)][_0x1bdddd(0x20c)][_0x3b4d58[_0x1bdddd(0x5a5)]][_0x1bdddd(0x80a)](_0x1ed22e);}async[a0_0x236793(0x32c)](_0x1e6a56,_0x19232f){const _0x554eb1=a0_0x236793;return await this[_0x554eb1(0x874)][_0x554eb1(0x20c)][_0x1e6a56[_0x554eb1(0x5a5)]]['leaveGroup'](_0x19232f);}},Qt=class{constructor(_0x8ad83d){const _0x3fdfe4=a0_0x236793;this[_0x3fdfe4(0x874)]=_0x8ad83d;}[a0_0x236793(0x6ed)](_0x3b41fb,_0x1915dd){const _0x4b85e1=a0_0x236793;return this[_0x4b85e1(0x874)][_0x4b85e1(0x20c)][_0x3b41fb['instanceName']][_0x4b85e1(0x834)](_0x1915dd);}async['find'](_0x3443dc){const _0x15b8d0=a0_0x236793;try{return await this[_0x15b8d0(0x874)][_0x15b8d0(0x20c)][_0x3443dc[_0x15b8d0(0x5a5)]][_0x15b8d0(0x6df)]();}catch{return{'enabled':null,'url':''};}}},Sp=new R(a0_0x236793(0x6da)),Yt=class{constructor(_0x240a83){const _0x231e5f=a0_0x236793;this[_0x231e5f(0x874)]=_0x240a83;}async[a0_0x236793(0x629)](_0x46cef9,_0x1cbe8c){const _0x11b4bc=a0_0x236793;return await this[_0x11b4bc(0x874)][_0x11b4bc(0x20c)][_0x46cef9[_0x11b4bc(0x5a5)]]['editScheduleMessage'](_0x1cbe8c);}async[a0_0x236793(0x1d5)](_0x4f9739){const _0x1aa37d=a0_0x236793;return await this[_0x1aa37d(0x874)][_0x1aa37d(0x20c)][_0x4f9739[_0x1aa37d(0x5a5)]][_0x1aa37d(0x1d5)]();}async['deleteDoneMessages'](_0x427a7d){const _0x3b5b46=a0_0x236793;return await this[_0x3b5b46(0x874)]['waInstances'][_0x427a7d[_0x3b5b46(0x5a5)]]['deleteDoneMessages']();}async[a0_0x236793(0x2c1)](_0x4185db){const _0x3c187a=a0_0x236793;return await this[_0x3c187a(0x874)][_0x3c187a(0x20c)][_0x4185db[_0x3c187a(0x5a5)]][_0x3c187a(0x2c1)]();}async[a0_0x236793(0x6dc)](_0x285301,_0x21223e){const _0x1fd220=a0_0x236793;return await this[_0x1fd220(0x874)][_0x1fd220(0x20c)][_0x285301[_0x1fd220(0x5a5)]]['updateAgent'](_0x21223e);}async[a0_0x236793(0x6e1)](_0x2ad7b2,_0x586fdf){const _0x58070c=a0_0x236793;return await this[_0x58070c(0x874)][_0x58070c(0x20c)][_0x2ad7b2['instanceName']][_0x58070c(0x6e1)](_0x586fdf);}async[a0_0x236793(0x1de)](_0x4db608,_0x154510){const _0x59b72b=a0_0x236793;return await this[_0x59b72b(0x874)][_0x59b72b(0x20c)][_0x4db608[_0x59b72b(0x5a5)]][_0x59b72b(0x1de)](_0x154510);}async['updateFlowConfig'](_0x5022e0,_0x585fd9){const _0x9bb8ed=a0_0x236793;return await this['waMonitor']['waInstances'][_0x5022e0['instanceName']][_0x9bb8ed(0x3f0)](_0x585fd9);}async[a0_0x236793(0x85b)](_0x12ad77,_0x3e7b22){const _0x1a31b2=a0_0x236793;return await this[_0x1a31b2(0x874)]['waInstances'][_0x12ad77[_0x1a31b2(0x5a5)]][_0x1a31b2(0x85b)](_0x3e7b22);}async['getConversation'](_0x3e8fab,_0x34180b){const _0x1ec914=a0_0x236793;return await this[_0x1ec914(0x874)]['waInstances'][_0x3e8fab[_0x1ec914(0x5a5)]]['getConversation'](_0x34180b);}async['fetchConversation'](_0x42477e,_0x647758){const _0x46e719=a0_0x236793;return await this[_0x46e719(0x874)][_0x46e719(0x20c)][_0x42477e['instanceName']]['fetchConversation'](_0x647758);}async[a0_0x236793(0x2fc)](_0x2cbdae,_0x1f640c){const _0x259255=a0_0x236793;return await this[_0x259255(0x874)][_0x259255(0x20c)][_0x2cbdae[_0x259255(0x5a5)]][_0x259255(0x2fc)](_0x1f640c);}async[a0_0x236793(0x5de)](_0x536723,_0x3117b0){const _0x111d04=a0_0x236793;return await this[_0x111d04(0x874)][_0x111d04(0x20c)][_0x536723['instanceName']][_0x111d04(0x5de)](_0x3117b0);}async[a0_0x236793(0x7aa)](_0x231f00,_0x534d16){const _0x7d4a9e=a0_0x236793;return await this[_0x7d4a9e(0x874)][_0x7d4a9e(0x20c)][_0x231f00[_0x7d4a9e(0x5a5)]][_0x7d4a9e(0x7aa)](_0x534d16['name']);}async[a0_0x236793(0x740)](_0x2f36d1,_0x41afd3){const _0x2daa41=a0_0x236793;return await this[_0x2daa41(0x874)][_0x2daa41(0x20c)][_0x2f36d1[_0x2daa41(0x5a5)]][_0x2daa41(0x740)](_0x41afd3);}async['editFlow'](_0x2f2e2d,_0x50bb3e){const _0x144e39=a0_0x236793;return await this[_0x144e39(0x874)][_0x144e39(0x20c)][_0x2f2e2d[_0x144e39(0x5a5)]][_0x144e39(0x50c)](_0x50bb3e);}async[a0_0x236793(0x359)](_0x2a8713,_0x309b59){const _0x3c538e=a0_0x236793;return await this[_0x3c538e(0x874)]['waInstances'][_0x2a8713[_0x3c538e(0x5a5)]][_0x3c538e(0x359)](_0x309b59);}async[a0_0x236793(0x829)](_0x2effbb,_0x544ffe){const _0x143eb9=a0_0x236793;return await this[_0x143eb9(0x874)][_0x143eb9(0x20c)][_0x2effbb['instanceName']][_0x143eb9(0x829)](_0x544ffe);}async[a0_0x236793(0x1f9)](_0x308d82,_0x182aa2){const _0x1c5325=a0_0x236793;return await this[_0x1c5325(0x874)][_0x1c5325(0x20c)][_0x308d82[_0x1c5325(0x5a5)]][_0x1c5325(0x1f9)](_0x182aa2);}async['editFlowCondition'](_0x389ce3,_0x157080){const _0x59b239=a0_0x236793;return await this[_0x59b239(0x874)][_0x59b239(0x20c)][_0x389ce3[_0x59b239(0x5a5)]][_0x59b239(0x423)](_0x157080);}async[a0_0x236793(0x245)](_0x3074f6,_0x32f680){const _0x4f1259=a0_0x236793;return await this[_0x4f1259(0x874)][_0x4f1259(0x20c)][_0x3074f6[_0x4f1259(0x5a5)]][_0x4f1259(0x245)](_0x32f680);}async[a0_0x236793(0x4e4)](_0x1e9a1e,_0x3c915c){const _0x5244ea=a0_0x236793;return await this[_0x5244ea(0x874)]['waInstances'][_0x1e9a1e[_0x5244ea(0x5a5)]][_0x5244ea(0x4e4)](_0x3c915c);}async[a0_0x236793(0x5ae)](_0x379665,_0x23507a){const _0x55d457=a0_0x236793;return await this['waMonitor'][_0x55d457(0x20c)][_0x379665[_0x55d457(0x5a5)]]['deleteFlow'](_0x23507a[_0x55d457(0x7bd)]);}async[a0_0x236793(0x2e4)](_0x347701){const _0x1cb0f2=a0_0x236793;return await this[_0x1cb0f2(0x874)][_0x1cb0f2(0x20c)][_0x347701['instanceName']][_0x1cb0f2(0x2e4)]();}},Xt=class{constructor(_0x11bbad){this['webhookService']=_0x11bbad;}async['createWebhook'](_0x11b0e8,_0x4265f6){const _0x57fb8d=a0_0x236793;return this[_0x57fb8d(0x73c)][_0x57fb8d(0x6ed)](_0x11b0e8,_0x4265f6);}async[a0_0x236793(0x6df)](_0x3e08fe){const _0x4912e7=a0_0x236793;return this['webhookService'][_0x4912e7(0x75d)](_0x3e08fe);}},Zt=class extends x{constructor(_0x3716c3,_0x2bdd06){const _0x558442=a0_0x236793;super(_0x2bdd06),this[_0x558442(0x6f2)]=_0x3716c3,this[_0x558442(0x558)]=_0x2bdd06;}async[a0_0x236793(0x6ed)](_0x522edb,_0x5855fd){const _0x1e30bb=a0_0x236793;try{return this[_0x1e30bb(0x440)][_0x1e30bb(0x3ea)]?{'insertCount':(await this[_0x1e30bb(0x6f2)][_0x1e30bb(0x654)]({'_id':_0x5855fd},{..._0x522edb},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x2f0da0){return _0x2f0da0;}}async[a0_0x236793(0x29a)](_0x4808dd){const _0x1f8076=a0_0x236793;try{if(this[_0x1f8076(0x440)][_0x1f8076(0x3ea)]){await this[_0x1f8076(0x6f2)]['deleteOne']({'_id':_0x4808dd});return;}}catch(_0x321d07){return{'error':_0x321d07};}}async[a0_0x236793(0x75d)](_0x25ea95){const _0x5bdf2c=a0_0x236793;try{if(this['dbSettings'][_0x5bdf2c(0x3ea)])return await this[_0x5bdf2c(0x6f2)][_0x5bdf2c(0x542)]({'_id':_0x25ea95});}catch{return{};}}},es=class extends x{constructor(_0x1f7b64,_0x5a88d3){const _0x647ecc=a0_0x236793;super(_0x5a88d3),this[_0x647ecc(0x469)]=_0x1f7b64,this[_0x647ecc(0x558)]=_0x5a88d3,this[_0x647ecc(0x807)]=_0x5a88d3['get'](_0x647ecc(0x865));}async[a0_0x236793(0x6ed)](_0x54fc50,_0x54ca24){const _0x368eda=a0_0x236793;try{if(this[_0x368eda(0x440)][_0x368eda(0x3ea)])return{'insertCount':(await this[_0x368eda(0x469)][_0x368eda(0x1e2)]({'_id':_0x54ca24},{'$set':{..._0x54fc50}},{'upsert':!0x0}))[_0x368eda(0x2fe)]};}catch(_0x417ea7){return{'error':_0x417ea7};}}async[a0_0x236793(0x71b)](_0x323c93,_0x10c1d4){const _0x4d9395=a0_0x236793;try{if(this[_0x4d9395(0x440)][_0x4d9395(0x3ea)])return{'insertCount':(await this[_0x4d9395(0x469)]['updateMany'](_0x323c93,{'$set':_0x10c1d4},{'upsert':!0x1}))[_0x4d9395(0x2fe)]};throw new Error(_0x4d9395(0x655));}catch(_0x3fcf79){return{'error':_0x3fcf79};}}async[a0_0x236793(0x218)](_0xa8e612){const _0x58f2b3=a0_0x236793;try{if(this[_0x58f2b3(0x440)][_0x58f2b3(0x3ea)])return{'insertCount':(await this[_0x58f2b3(0x469)][_0x58f2b3(0x218)](_0xa8e612))['deletedCount']};throw new Error(_0x58f2b3(0x655));}catch(_0x27cc0d){return{'error':_0x27cc0d};}}async[a0_0x236793(0x29a)](_0x52ac9c){const _0x4843ff=a0_0x236793;try{if(this[_0x4843ff(0x440)][_0x4843ff(0x3ea)]){await this['authModel']['deleteOne']({'_id':_0x52ac9c});return;}}catch(_0x1e077c){return{'error':_0x1e077c};}}async[a0_0x236793(0x75d)](_0x294c1b){const _0x5b1ddb=a0_0x236793;try{if(this[_0x5b1ddb(0x440)]['ENABLED'])return await this[_0x5b1ddb(0x469)]['findOne']({'_id':_0x294c1b});}catch{return{};}}async[a0_0x236793(0x393)](){const _0x34ef57=a0_0x236793;try{if(this['dbSettings'][_0x34ef57(0x3ea)])return await this['authModel'][_0x34ef57(0x75d)]();}catch{return[];}}},ts=class extends x{['getFlowModelForOwner'](_0x297403){return ga(_0x297403);}async[a0_0x236793(0x406)](_0x5b96d6){const _0x9fa89d=a0_0x236793;try{let _0x6ee7d4=ma,_0x440f44=this[_0x9fa89d(0x7e3)](_0x5b96d6),_0x2c15a8=await _0x6ee7d4[_0x9fa89d(0x75d)]({'owner':_0x5b96d6})['lean'](),_0x447cb9=[],_0x358ee6=[];for(let _0x7d8d4c of _0x2c15a8)await _0x440f44[_0x9fa89d(0x691)](_0x7d8d4c['_id'])[_0x9fa89d(0x222)]()||(_0x447cb9[_0x9fa89d(0x4a9)](_0x7d8d4c),_0x358ee6[_0x9fa89d(0x4a9)](_0x7d8d4c[_0x9fa89d(0x3c4)]));return _0x447cb9[_0x9fa89d(0x5a8)]>0x0&&await _0x440f44[_0x9fa89d(0x1c2)](_0x447cb9,{'ordered':!0x1}),{'success':!0x0};}catch(_0x567ebf){return console['error'](_0x9fa89d(0x2d8),_0x567ebf),{'success':!0x1,'error':_0x567ebf};}}async[a0_0x236793(0x29a)](_0x410a6d,_0x530436){const _0x12b2e6=a0_0x236793;try{let _0x286caf=this['getFlowModelForOwner'](_0x530436),_0x8c409c=A(_0x410a6d['where']);return{'deletedCount':(await _0x286caf[_0x12b2e6(0x218)](_0x8c409c))['deletedCount']};}catch(_0xf0d71e){return{'error':_0xf0d71e?.[_0x12b2e6(0x6eb)]()};}}async[a0_0x236793(0x4f7)](_0x410481,_0x2a094e){const _0x281a61=a0_0x236793;try{let _0x1008ab=this[_0x281a61(0x7e3)](_0x2a094e),_0x18c686=A(_0x410481[_0x281a61(0x1ca)]);return{'deletedCount':(await _0x1008ab[_0x281a61(0x4f7)](_0x18c686))[_0x281a61(0x3ec)]};}catch(_0x354eb2){return{'error':_0x354eb2?.['toString']()};}}async['replaceOne'](_0x4654ef,_0x570be4,_0x46d7dc){const _0x453ef9=a0_0x236793;try{let _0xd396ba=await this[_0x453ef9(0x7e3)](_0x46d7dc)['findByIdAndUpdate'](_0x4654ef,_0x570be4,{'overwrite':!0x0,'new':!0x0});return _0xd396ba||(console[_0x453ef9(0x1a3)]('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x4654ef),null);}catch(_0x1cc8ea){return console[_0x453ef9(0x1a3)](_0x453ef9(0x711),_0x1cc8ea),null;}}async[a0_0x236793(0x1e2)](_0x24ba45,_0xd6e8ea,_0x18401c){const _0x1eac47=a0_0x236793;try{let _0x395c8d=await this[_0x1eac47(0x7e3)](_0x18401c)['findById'](_0x24ba45);return _0x395c8d?(Object[_0x1eac47(0x887)](_0x395c8d,_0xd6e8ea),await _0x395c8d['save']()):(console[_0x1eac47(0x1a3)](_0x1eac47(0x502),_0x24ba45),null);}catch(_0x52d5a8){return console['error'](_0x1eac47(0x711),_0x52d5a8),null;}}async[a0_0x236793(0x869)](_0x232c9e){const _0x1b359d=a0_0x236793;try{let _0x43adf5=this[_0x1b359d(0x7e3)](_0x232c9e),_0x543107={'shareOwners':{'$exists':!0x1}},_0x53cd43={'$set':{'shareOwners':[]}};return(await _0x43adf5[_0x1b359d(0x681)](_0x543107,_0x53cd43))[_0x1b359d(0x2fe)];}catch(_0x4f2201){return console[_0x1b359d(0x1a3)](_0x4f2201),0x0;}}async[a0_0x236793(0x3a8)](_0x10deef,_0x5b7021){const _0x55c7e8=a0_0x236793;try{let _0x2d2ae6=this[_0x55c7e8(0x7e3)](_0x5b7021);return await new _0x2d2ae6(_0x10deef)['save']();}catch(_0x4bb490){return console[_0x55c7e8(0x1a3)](_0x55c7e8(0x7ca),_0x4bb490),null;}}async['updateMany'](_0x258f11,_0x4a1069,_0x47194e){const _0x2ad417=a0_0x236793;try{return{'modifiedCount':(await this[_0x2ad417(0x7e3)](_0x47194e)[_0x2ad417(0x681)](_0x258f11,{'$set':_0x4a1069}))[_0x2ad417(0x2fe)]};}catch(_0x378798){return console[_0x2ad417(0x1a3)]('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x378798),{'error':_0x378798};}}async[a0_0x236793(0x393)](_0x42a8eb,_0x1332fa){const _0x5413b4=a0_0x236793;try{let _0x41b08b=this[_0x5413b4(0x7e3)](_0x1332fa),_0x6d0442=A(_0x42a8eb[_0x5413b4(0x1ca)]);return await _0x41b08b['find'](_0x6d0442)['limit'](_0x42a8eb?.['limit']??0x0)['lean']();}catch{return[];}}async['findOne'](_0xb1b523,_0x1c3d0f){const _0x5e9559=a0_0x236793;try{let _0x39dba1=this['getFlowModelForOwner'](_0x1c3d0f),_0x25e11a=A(_0xb1b523[_0x5e9559(0x1ca)]);return await _0x39dba1['findOne'](_0x25e11a)[_0x5e9559(0x222)]();}catch{return null;}}async[a0_0x236793(0x70a)](_0x4da72a){const _0x3dffee=a0_0x236793;try{return await this['getFlowModelForOwner'](_0x4da72a)[_0x3dffee(0x670)][_0x3dffee(0x82c)](),{'success':!0x0};}catch(_0x18b270){return console['error'](_0x18b270),{'success':!0x1,'error':_0x18b270};}}},ss=class extends x{[a0_0x236793(0x1f7)](_0x275554){return wa(_0x275554);}async[a0_0x236793(0x406)](_0x3d511a){const _0x35fe47=a0_0x236793;try{let _0x1ca949=ya,_0x1d3f41=this[_0x35fe47(0x1f7)](_0x3d511a),_0x181bc8=await _0x1ca949['find']({'owner':_0x3d511a})[_0x35fe47(0x222)](),_0x297d82=[],_0x344208=[];for(let _0x1f9c7e of _0x181bc8)await _0x1d3f41[_0x35fe47(0x691)](_0x1f9c7e['_id'])[_0x35fe47(0x222)]()||(_0x297d82['push'](_0x1f9c7e),_0x344208['push'](_0x1f9c7e[_0x35fe47(0x3c4)]));return _0x297d82['length']>0x0&&await _0x1d3f41[_0x35fe47(0x1c2)](_0x297d82,{'ordered':!0x1}),{'success':!0x0};}catch(_0x76c84f){return console[_0x35fe47(0x1a3)](_0x35fe47(0x2d8),_0x76c84f),{'success':!0x1,'error':_0x76c84f};}}async[a0_0x236793(0x621)](_0x52a9a3){const _0x33f82f=a0_0x236793;if(_0x52a9a3[_0x33f82f(0x5a8)]!==0x0)try{return{'insertCount':(await this[_0x33f82f(0x1f7)](_0x52a9a3[0x0][_0x33f82f(0x217)])[_0x33f82f(0x1c2)]([..._0x52a9a3]))[_0x33f82f(0x5a8)]};}catch(_0x1e9b32){return _0x1e9b32;}}async['delete'](_0x28700f,_0x4ba769){const _0x14cc2f=a0_0x236793;try{let _0x43ba26=this['getConversationModelForOwner'](_0x4ba769),_0xf1b6ad=A(_0x28700f['where']);return{'deletedCount':(await _0x43ba26[_0x14cc2f(0x218)](_0xf1b6ad))['deletedCount']};}catch(_0x13590f){return{'error':_0x13590f?.[_0x14cc2f(0x6eb)]()};}}async['deleteOne'](_0x438e22,_0x18c20b){const _0x9eedef=a0_0x236793;try{let _0x38873a=this[_0x9eedef(0x1f7)](_0x18c20b),_0x35eae0=A(_0x438e22[_0x9eedef(0x1ca)]);return{'deletedCount':(await _0x38873a['deleteOne'](_0x35eae0))[_0x9eedef(0x3ec)]};}catch(_0x4b5e2b){return{'error':_0x4b5e2b?.['toString']()};}}async[a0_0x236793(0x7a6)](_0x2e83ed,_0x37a7a3){const _0x3ee414=a0_0x236793;try{if(_0x2e83ed[_0x3ee414(0x5a8)]===0x0)return;let _0x30e24c=this['getConversationModelForOwner'](_0x37a7a3),_0x32105e=_0x2e83ed[_0x3ee414(0x405)](_0x4e55b0=>({'updateOne':{'filter':{'name':_0x4e55b0[_0x3ee414(0x7bd)],'owner':_0x37a7a3},'update':{..._0x4e55b0}}})),{modifiedCount:_0x42f4d0}=await _0x30e24c[_0x3ee414(0x269)](_0x32105e);return{'insertCount':_0x42f4d0};}catch{return;}}async[a0_0x236793(0x681)](_0x5c16cd,_0xde1156,_0x3ffeb2){const _0x4e8bea=a0_0x236793;try{return{'modifiedCount':(await this[_0x4e8bea(0x1f7)](_0x3ffeb2)[_0x4e8bea(0x681)](_0x5c16cd,{'$set':_0xde1156}))[_0x4e8bea(0x2fe)]};}catch(_0x4a96c3){return console[_0x4e8bea(0x1a3)](_0x4e8bea(0x7fc),_0x4a96c3),{'error':_0x4a96c3};}}async['updateOne'](_0x6d5b71,_0x5306bc,_0x3f3f42){const _0x1ed057=a0_0x236793;try{return await this[_0x1ed057(0x1f7)](_0x3f3f42)['findOneAndUpdate']({'_id':_0x6d5b71},{'$set':_0x5306bc},{'new':!0x0,'upsert':!0x0})[_0x1ed057(0x222)]();}catch(_0x227ba5){return console[_0x1ed057(0x1a3)](_0x227ba5),null;}}async[a0_0x236793(0x75d)](_0x2dd3e2,_0x31b8f7){const _0x559e89=a0_0x236793;try{return await this[_0x559e89(0x1f7)](_0x31b8f7)[_0x559e89(0x75d)](_0x2dd3e2)[_0x559e89(0x69a)]({'lastInteraction':-0x1})[_0x559e89(0x222)]();}catch{return[];}}async[a0_0x236793(0x542)](_0x28be72,_0x33a7dd){const _0x2986fa=a0_0x236793;try{return await this['getConversationModelForOwner'](_0x33a7dd)[_0x2986fa(0x542)]({..._0x28be72['where']})[_0x2986fa(0x222)]();}catch{return null;}}async[a0_0x236793(0x70a)](_0x314173){const _0x46b7a9=a0_0x236793;try{return await this[_0x46b7a9(0x1f7)](_0x314173)[_0x46b7a9(0x670)][_0x46b7a9(0x82c)](),{'success':!0x0};}catch(_0x30e510){return console[_0x46b7a9(0x1a3)](_0x30e510),{'success':!0x1,'error':_0x30e510};}}},as=class extends x{['getScheduleMessageModelForOwner'](_0x3dde44){return Sa(_0x3dde44);}async[a0_0x236793(0x406)](_0x2b9c8c){const _0x1c9fb5=a0_0x236793;try{let _0x14c65f=Ma,_0x2bddc7=this[_0x1c9fb5(0x755)](_0x2b9c8c),_0x7be6a=await _0x14c65f[_0x1c9fb5(0x75d)]({'owner':_0x2b9c8c})[_0x1c9fb5(0x222)](),_0x230bb5=[],_0x5379d5=[];for(let _0x5a1436 of _0x7be6a)await _0x2bddc7[_0x1c9fb5(0x691)](_0x5a1436[_0x1c9fb5(0x3c4)])['lean']()||(_0x230bb5[_0x1c9fb5(0x4a9)](_0x5a1436),_0x5379d5[_0x1c9fb5(0x4a9)](_0x5a1436[_0x1c9fb5(0x3c4)]));return _0x230bb5[_0x1c9fb5(0x5a8)]>0x0&&await _0x2bddc7[_0x1c9fb5(0x1c2)](_0x230bb5,{'ordered':!0x1}),{'success':!0x0};}catch(_0x63fc42){return console[_0x1c9fb5(0x1a3)](_0x1c9fb5(0x2d8),_0x63fc42),{'success':!0x1,'error':_0x63fc42};}}async['createAndSave'](_0x4fb0e2,_0x5c00fc){const _0x5bc5f6=a0_0x236793;try{let _0xd7ea59=this[_0x5bc5f6(0x755)](_0x5c00fc);return await new _0xd7ea59(_0x4fb0e2)[_0x5bc5f6(0x71e)]();}catch(_0x24f583){return console[_0x5bc5f6(0x1a3)](_0x5bc5f6(0x7ca),_0x24f583),null;}}async[a0_0x236793(0x4f7)](_0x4f4299,_0x3d2e18){const _0x1941ac=a0_0x236793;try{return await this['getScheduleMessageModelForOwner'](_0x3d2e18)[_0x1941ac(0x304)](_0x4f4299),{};}catch(_0x1dd31b){return{'error':_0x1dd31b?.[_0x1941ac(0x6eb)]()};}}async['updateOne'](_0x33ea32,_0x2cb336,_0x53209c){const _0xd7a49=a0_0x236793;try{return await this['getScheduleMessageModelForOwner'](_0x53209c)['findOneAndUpdate'](_0x33ea32,{'$set':_0x2cb336},{'new':!0x0})[_0xd7a49(0x222)]();}catch(_0x523ae0){return console[_0xd7a49(0x1a3)](_0xd7a49(0x743),_0x523ae0),null;}}async[a0_0x236793(0x270)](_0x3c0332,_0x5f4758,_0x20a4ad){const _0x45e411=a0_0x236793;try{return await this[_0x45e411(0x755)](_0x20a4ad)[_0x45e411(0x662)](_0x3c0332,_0x5f4758,{'new':!0x0})[_0x45e411(0x222)]();}catch(_0x35786c){return console[_0x45e411(0x1a3)](_0x45e411(0x743),_0x35786c),null;}}async[a0_0x236793(0x75d)](_0x3c4e2a,_0x2b1f67){const _0x2af4b8=a0_0x236793;try{return await this[_0x2af4b8(0x755)](_0x2b1f67)[_0x2af4b8(0x75d)](_0x3c4e2a['where'])[_0x2af4b8(0x610)](_0x3c4e2a?.[_0x2af4b8(0x610)]??0x0)[_0x2af4b8(0x69a)]({'when':0x1})['lean']();}catch{return[];}}async['findOne'](_0x3fa2ec,_0x3933f6){const _0x42d534=a0_0x236793;try{return await this[_0x42d534(0x755)](_0x3933f6)[_0x42d534(0x542)](_0x3fa2ec[_0x42d534(0x1ca)])[_0x42d534(0x69a)]({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0x5d09bb,_0x572ea7){const _0x4f8ce0=a0_0x236793;try{return await this[_0x4f8ce0(0x755)](_0x572ea7)[_0x4f8ce0(0x691)](_0x5d09bb)[_0x4f8ce0(0x222)]();}catch{return null;}}async[a0_0x236793(0x218)](_0x45494f,_0x294bf7){const _0x3dd1a6=a0_0x236793;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x294bf7)[_0x3dd1a6(0x218)](_0x45494f))[_0x3dd1a6(0x3ec)]};}catch(_0x1a534f){return console[_0x3dd1a6(0x1a3)](_0x3dd1a6(0x449),_0x1a534f),{'error':_0x1a534f};}}async[a0_0x236793(0x70a)](_0x4b8d40){const _0x56a3bf=a0_0x236793;try{return await this[_0x56a3bf(0x755)](_0x4b8d40)[_0x56a3bf(0x670)][_0x56a3bf(0x82c)](),{'success':!0x0};}catch(_0x10f589){return console[_0x56a3bf(0x1a3)](_0x10f589),{'success':!0x1,'error':_0x10f589};}}},rs=class extends x{async[a0_0x236793(0x7a6)](_0xf8d905,_0x156953){const _0x30401a=a0_0x236793;try{if(this[_0x30401a(0x440)][_0x30401a(0x3ea)]){let _0x50ef70=await Ce[_0x30401a(0x4b9)]({'_id':_0x156953},{'$set':_0xf8d905},{'new':!0x0});return console[_0x30401a(0x7e7)](_0x30401a(0x72b),_0x50ef70),_0x50ef70;}}catch(_0x53825c){throw console['error'](_0x30401a(0x455),_0x53825c),_0x53825c;}}async['findOrCreate'](_0x4ce5f1){const _0x239b3e=a0_0x236793;try{let _0x10146a=await Ce[_0x239b3e(0x691)](_0x4ce5f1);return _0x10146a||(_0x10146a=new Ce({'_id':_0x4ce5f1,'autoCompleteMessages':[]}),await _0x10146a[_0x239b3e(0x71e)]()),_0x10146a;}catch(_0x5b21f4){return console[_0x239b3e(0x1a3)](_0x239b3e(0x1b4),_0x5b21f4),null;}}async[a0_0x236793(0x681)](_0x240642,_0x192bdc){const _0x5b040e=a0_0x236793;try{if(this[_0x5b040e(0x440)]['ENABLED']){let _0x3a5560=await Ce[_0x5b040e(0x681)](_0x240642,{'$set':_0x192bdc})['exec']();return console[_0x5b040e(0x7e7)](_0x5b040e(0x70f),_0x3a5560),{'changes':_0x3a5560[_0x5b040e(0x2fe)]};}return{'changes':0x0};}catch(_0x194a0d){throw console['error'](_0x5b040e(0x236),_0x194a0d),_0x194a0d;}}},xi=new R(a0_0x236793(0x208)),Di=new Ve(b),_i=new qt(b),Pi=new st(b),ki=new Vt(ta,b),ji=new Zt(ca,b),Li=new es(ia,b),Fi=new ts(b),Ji=new Gt(b),Ui=new ss(b),qi=new as(b),Vi=new rs(b),ue=new Ue(Di,_i,Pi,ki,ji,Li,Fi,Ui,Ji,qi,Vi,T?.[a0_0x236793(0x62f)]()),G=new Ut(us,b,ue),Gi=new Ht(b,G,ue),Bi=new Qt(G),Es=new Xt(Bi),$=new Yt(G),ne=new Wt(G,b,ue,us,Gi),B=new zt(G),_=new Bt(G),q=new Kt(G);function a0_0x57a5(_0x2da6d1,_0x1ea91d){const _0x23e434=a0_0x23e4();return a0_0x57a5=function(_0x57a59b,_0x51c683){_0x57a59b=_0x57a59b-0x1a1;let _0x1ce285=_0x23e434[_0x57a59b];return _0x1ce285;},a0_0x57a5(_0x2da6d1,_0x1ea91d);}xi[a0_0x236793(0x210)](a0_0x236793(0x327));var jh=require(a0_0x236793(0x32e)),js=require('fs'),Dr=O(require(a0_0x236793(0x438))),_r=O(require('http')),$e=class c{static #e;static set[a0_0x236793(0x2e9)](_0x470259){this.#e=_0x470259;}static get[a0_0x236793(0x438)](){const _0x493d97=a0_0x236793;let {FULLCHAIN:_0x4ac077,PRIVKEY:_0x2e8851}=b[_0x493d97(0x253)](_0x493d97(0x63a));return Dr[_0x493d97(0x472)]({'cert':(0x0,js[_0x493d97(0x71c)])(_0x4ac077),'key':(0x0,js[_0x493d97(0x71c)])(_0x2e8851)},c.#e);}static get[a0_0x236793(0x730)](){return _r['createServer'](c.#e);}},pe=O(require('fs')),Jr=O(require('ini')),Ie=O(require('axios')),De=O(require(a0_0x236793(0x228))),_e=require(a0_0x236793(0x5fa));function Wi(){const _0xb408a0=a0_0x236793;G['loadInstance']();let _0x2a1557=De['default'][_0xb408a0(0x279)](__dirname,_0xb408a0(0x566));Fr(_0x2a1557);}var Fr=_0x361d84=>{const _0x5a05ea=a0_0x236793;let _0x1cb33f=pe['default']['readdirSync'](_0x361d84),_0x334837=0xc*0x3c*0x3c*0x3e8,_0xa489cd=0x2*0x3c*0x3c*0x3e8,_0x1d6690=new Date()[_0x5a05ea(0x45a)]();_0x1cb33f[_0x5a05ea(0x595)](_0x147d4e=>{const _0xb226b8=_0x5a05ea;let _0x13bcd0=De['default']['join'](_0x361d84,_0x147d4e),_0x3e6d7a=pe[_0xb226b8(0x4d1)][_0xb226b8(0x722)](_0x13bcd0)[_0xb226b8(0x273)][_0xb226b8(0x45a)]();_0x1d6690-_0x3e6d7a>_0x334837&&(pe[_0xb226b8(0x4d1)][_0xb226b8(0x77a)](_0x13bcd0),console[_0xb226b8(0x7e7)](_0xb226b8(0x7bf)+_0x147d4e));}),setTimeout(()=>Fr(_0x361d84),_0xa489cd);};function zi(){const _0x190b5d=a0_0x236793;let _0x20e451=new R(_0x190b5d(0x6ab)),_0x10167d=(0x0,he[_0x190b5d(0x4d1)])();_0x10167d[_0x190b5d(0x58b)]((0x0,Lr[_0x190b5d(0x4d1)])({'origin'(_0x32e7e8,_0x3659e6){const _0x67e731=_0x190b5d;let {ORIGIN:_0x277ef4}=b[_0x67e731(0x253)](_0x67e731(0x65a));return _0x32e7e8||(_0x32e7e8='*'),_0x277ef4[_0x67e731(0x2a4)]('*')!==-0x1||_0x277ef4['indexOf'](_0x32e7e8)!==-0x1?_0x3659e6(null,!0x0):_0x3659e6(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x190b5d(0x253)]('CORS')[_0x190b5d(0x611)]],'credentials':b[_0x190b5d(0x253)](_0x190b5d(0x65a))[_0x190b5d(0x62a)]}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':_0x190b5d(0x836)}),(0x0,he[_0x190b5d(0x4f2)])({'limit':_0x190b5d(0x836)})),_0x10167d[_0x190b5d(0x58b)]((_0x407563,_0x399069,_0x302428)=>{const _0xd082c6=_0x190b5d;_0x407563['path'][_0xd082c6(0x66d)](_0xd082c6(0x842))?_0x302428():(0x0,jr['default'])()(_0x407563,_0x399069,_0x302428);}),_0x10167d[_0x190b5d(0x448)](_0x190b5d(0x799),_0x190b5d(0x29e)),_0x10167d[_0x190b5d(0x448)](_0x190b5d(0x35c),(0x0,Fs[_0x190b5d(0x279)])(oe,_0x190b5d(0x35c))),_0x10167d['use'](he[_0x190b5d(0x4d1)][_0x190b5d(0x2b0)]((0x0,Fs[_0x190b5d(0x279)])(oe,_0x190b5d(0x280)))),_0x10167d[_0x190b5d(0x58b)]((_0x1900b6,_0x47a944,_0x3e16e6)=>{const _0x9ae4ef=_0x190b5d;let _0xc6e9f4=_0x47a944[_0x9ae4ef(0x775)];_0x47a944['send']=function(_0x433ca7){const _0x5281ad=_0x9ae4ef;if(_0x1900b6[_0x5281ad(0x808)][_0x5281ad(0x860)]===_0x5281ad(0x4da)||_0x1900b6['headers'][_0x5281ad(0x471)]==='true'){let _0x183a07=JSON[_0x5281ad(0x36f)](_0x433ca7);_0x433ca7=JSON[_0x5281ad(0x6fe)](_0x300645(_0x183a07));}return _0xc6e9f4[_0x5281ad(0x7ec)](_0x47a944,[_0x433ca7]);},_0x3e16e6();}),_0x10167d[_0x190b5d(0x58b)]('/',$t),_0x10167d['use']((_0x3aafc7,_0x2aeed8,_0x5495cd,_0x466b18)=>{const _0x39e2db=_0x190b5d;if(_0x3aafc7)return _0x5495cd[_0x39e2db(0x464)](_0x3aafc7['status']||0x1f4)[_0x39e2db(0x4f2)](_0x3aafc7);},(_0x42b586,_0x42eea2,_0x8f5563)=>{const _0x439f2c=_0x190b5d;let {method:_0x4d09c0,url:_0x5debd2}=_0x42b586;_0x42eea2[_0x439f2c(0x464)](0x194)['json']({'status':0x194,'message':_0x439f2c(0x3e2)+_0x4d09c0[_0x439f2c(0x5d7)]()+'\x20'+_0x5debd2,'error':_0x439f2c(0x77d)}),_0x8f5563();});let _0x300645=(_0x1df358,_0x48837a=_0x190b5d(0x56d))=>{const _0x2c39b5=_0x190b5d;let _0x5a90aa=(_0x4cb29a,_0x872734=null,_0x27fa80=!0x1)=>{const _0x4bfad7=a0_0x57a5;let _0x54f775={};return Object['keys'](_0x4cb29a)[_0x4bfad7(0x595)](_0x2a6f67=>{const _0x11e58c=_0x4bfad7;let _0x1a5e4d=_0x4cb29a[_0x2a6f67],_0x585195=''+_0x48837a+_0x2a6f67;_0x872734&&!_0x27fa80&&(_0x585195=_0x872734+'.'+_0x2a6f67),!_0x1a5e4d&&_0x1a5e4d!==0x0&&_0x1a5e4d!==!0x1||typeof _0x1a5e4d>'u'?_0x54f775[_0x585195]=null:typeof _0x1a5e4d!=_0x11e58c(0x22a)&&!Array[_0x11e58c(0x603)](_0x1a5e4d)?_0x54f775[_0x585195]=_0x1a5e4d:typeof _0x1a5e4d==_0x11e58c(0x22a)&&!Array[_0x11e58c(0x603)](_0x1a5e4d)?_0x54f775=Object[_0x11e58c(0x887)](_0x54f775,_0x5a90aa(_0x1a5e4d,_0x585195)):Array['isArray'](_0x1a5e4d)&&(typeof _0x1a5e4d[0x0]==_0x11e58c(0x22a)?(_0x54f775[_0x585195]=[],_0x1a5e4d[_0x11e58c(0x595)](_0x1339e=>{const _0x510ef8=_0x11e58c;_0x54f775[_0x585195][_0x510ef8(0x4a9)](_0x5a90aa(_0x1339e,_0x585195,!0x0));})):_0x54f775[_0x585195]=_0x1a5e4d);}),_0x54f775;};return Array[_0x2c39b5(0x603)](_0x1df358)?_0x1df358['map'](_0x124d82=>_0x5a90aa(_0x124d82)):typeof _0x1df358==_0x2c39b5(0x22a)&&_0x1df358!==null?_0x5a90aa(_0x1df358):{};},_0x3d4577=b[_0x190b5d(0x253)]('SERVER');$e[_0x190b5d(0x2e9)]=_0x10167d;let _0x33a34f=$e[_0x3d4577[_0x190b5d(0x760)]],_0x13702e='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x33a34f[_0x190b5d(0x37d)](_0x3d4577['PORT'],()=>{const _0x56f5a4=_0x190b5d;_0x20e451['log'](_0x13702e),_0x20e451['log'](_0x3d4577[_0x56f5a4(0x760)][_0x56f5a4(0x5d7)]()+_0x56f5a4(0x589)+_0x3d4577[_0x56f5a4(0x59d)]);}),Wi(),Ks();}var Hi='https://github.com/uazapi/uazapi.git',Ki=De['default'][a0_0x236793(0x279)](__dirname,a0_0x236793(0x6a0)),xe=null;function Qi(){return new Promise((_0x58e763,_0x4ba082)=>{const _0x4f3be2=a0_0x57a5;pe[_0x4f3be2(0x4d1)]['readFile'](Ki,_0x4f3be2(0x2db),(_0x1fb96e,_0x32f49b)=>{const _0x5ada4d=_0x4f3be2;if(_0x1fb96e){xe=_0x1fb96e,_0x58e763();return;}Jr[_0x5ada4d(0x4d1)][_0x5ada4d(0x36f)](_0x32f49b)[_0x5ada4d(0x57f)][_0x5ada4d(0x855)]===Hi?(xe=null,_0x58e763()):(xe=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x58e763());});});}async function Yi(){const _0x1b9625=a0_0x236793;try{await Qi(),await Js();}catch(_0x337ca8){console[_0x1b9625(0x1a3)](_0x1b9625(0x44e)+_0x337ca8),process[_0x1b9625(0x6d2)](0x1);}}Yi();async function Ur(){const _0x4944bb=a0_0x236793;let _0x35d36b;try{_0x35d36b=(await Ie[_0x4944bb(0x4d1)]['get'](_0x4944bb(0x326)))[_0x4944bb(0x69f)]['ip'];}catch(_0x3d0b78){console[_0x4944bb(0x1a3)](_0x3d0b78);try{_0x35d36b=(await Ie[_0x4944bb(0x4d1)][_0x4944bb(0x253)]('https://api.ipify.org?format=json'))[_0x4944bb(0x69f)]['ip'];}catch(_0x29af7a){console['error'](_0x29af7a);try{_0x35d36b=(await Ie[_0x4944bb(0x4d1)]['get'](_0x4944bb(0x35e)))[_0x4944bb(0x69f)][_0x4944bb(0x71f)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x86b755){return console[_0x4944bb(0x1a3)](_0x86b755),!0x1;}}}return _0x35d36b;}var Pr=0x0;async function Xi(){const _0x3444e0=a0_0x236793;let _0x500924=await new ce(b[_0x3444e0(0x253)](_0x3444e0(0x396)))[_0x3444e0(0x72c)]();return console[_0x3444e0(0x7e7)](_0x3444e0(0x348),_0x500924[_0x3444e0(0x5a8)]),_0x500924[_0x3444e0(0x5a8)];}function Zi(_0x239047){const _0x365840=a0_0x236793;let _0x18e61b=_0x239047[_0x365840(0x253)](_0x365840(0x6ab))[_0x365840(0x38f)],_0x155b89=_0x239047['get'](_0x365840(0x63a)),_0x4e86fc;if(_0x18e61b){let _0x616f38=_0x18e61b['match'](/\/\/(.*?)\./);_0x616f38&&_0x616f38[0x1]&&(_0x4e86fc=_0x616f38[0x1]);}if(!_0x4e86fc&&_0x155b89&&_0x155b89['FULLCHAIN']){let _0x2ece25=_0x155b89['FULLCHAIN'][_0x365840(0x6ec)]('/'),_0x3ca8e1=_0x2ece25[_0x2ece25[_0x365840(0x5a8)]-0x2];if(_0x3ca8e1){let _0x186d92=_0x3ca8e1[_0x365840(0x6ec)]('.');_0x186d92[_0x365840(0x5a8)]>0x2&&(_0x4e86fc=_0x186d92[0x0]);}}return _0x4e86fc;}var _s=Zi(b);async function eo(){const _0x529bb2=a0_0x236793;let _0x57ce26=b[_0x529bb2(0x253)](_0x529bb2(0x396)),_0x44fa15=b[_0x529bb2(0x253)](_0x529bb2(0x865))['API_KEY'][_0x529bb2(0x4e5)],_0x436216=b[_0x529bb2(0x253)](_0x529bb2(0x63a)),_0x3740f8=await Ur(),_0x5f24f2=b[_0x529bb2(0x253)](_0x529bb2(0x6ab))['PORT'],_0x332241=b[_0x529bb2(0x253)](_0x529bb2(0x6ab))['URL'];try{let _0x2bd6ff={'ip':_0x3740f8||null,'redis_enable':_0x57ce26?.[_0x529bb2(0x3ea)]||null,'apikey':_0x44fa15||null,'ssl':_0x436216?.[_0x529bb2(0x4a0)]||null,'lastupdate':qr||null,'port':_0x5f24f2||null,'gitInstallError':xe?.[_0x529bb2(0x7e9)]||null,'url':_0x332241||null};if(console[_0x529bb2(0x7e7)](_0x529bb2(0x1c7),_0x2bd6ff['ip']),_0x57ce26&&_0x57ce26[_0x529bb2(0x3ea)]){let _0x2c1cac=await Xi();_0x2bd6ff[_0x529bb2(0x538)]=_0x2c1cac||null;}for(let _0x22a25f in _0x2bd6ff)_0x2bd6ff['hasOwnProperty'](_0x22a25f)&&_0x22a25f!=='ip'&&(_0x2bd6ff[_0x22a25f]=JSON[_0x529bb2(0x6fe)](_0x2bd6ff[_0x22a25f]));return(await Ie['default'][_0x529bb2(0x6cd)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x2bd6ff))[_0x529bb2(0x69f)];}catch(_0x5471db){return console[_0x529bb2(0x1a3)](_0x5471db),!0x1;}}var Ls=!0x1,qr=0x23d,to=0x3,kr=0x1b7740;async function Js(){const _0x382689=a0_0x236793;if(!await Ur())return console[_0x382689(0x1a3)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),'NO_IP';let _0x58d49b=await eo();if(_0x58d49b){if(_0x58d49b[_0x382689(0x56a)][_0x382689(0x6bc)]===!0x0){let _0x40a485=b[_0x382689(0x253)](_0x382689(0x63a)),_0x5422c7=b[_0x382689(0x253)](_0x382689(0x6ab))['URL'];_0x40a485&&_0x40a485?.[_0x382689(0x4a0)]?.[_0x382689(0x256)](_0x382689(0x388))&&_0x58d49b['response']['subdomain']&&!_0x5422c7&&(await ro(_0x58d49b[_0x382689(0x56a)][_0x382689(0x527)],ao),await io(_0x382689(0x788),_0x58d49b[_0x382689(0x56a)][_0x382689(0x527)]),console[_0x382689(0x7e7)](_0x382689(0x64e)),setTimeout(()=>no(),0x2710)),xe===null&&_0x58d49b[_0x382689(0x56a)][_0x382689(0x4db)]-qr>0x0&&await so(),Ls||(Ls=!0x0,zi());let _0x4f3cea=0x24*0x3c*0x3c,_0x9b147c=_0x58d49b[_0x382689(0x56a)][_0x382689(0x6ad)]>_0x4f3cea?_0x4f3cea:_0x58d49b[_0x382689(0x56a)][_0x382689(0x6ad)],_0x56dc89=Number(_0x9b147c);if(isNaN(_0x56dc89)){console[_0x382689(0x1a3)](_0x382689(0x2f0));return;}let _0x513afa=Math[_0x382689(0x6ff)](_0x56dc89/0xe10),_0x50f9ba=Math[_0x382689(0x6ff)](_0x56dc89%0xe10/0x3c),_0x741a7a=new Date(Date[_0x382689(0x1e6)]()+_0x56dc89*0x3e8);setTimeout(Js,_0x56dc89*0x3e8);let _0x532342=_0x25893b=>_0x25893b[_0x382689(0x6eb)]()[_0x382689(0x70c)](0x2,'0'),_0x1933f2=_0x382689(0x2ad)+_0x532342(_0x513afa)+_0x382689(0x4d2)+_0x532342(_0x50f9ba)+_0x382689(0x688)+_0x532342(_0x741a7a[_0x382689(0x32d)]())+':'+_0x532342(_0x741a7a[_0x382689(0x234)]())+'.';console[_0x382689(0x7e7)](_0x1933f2);}else return console[_0x382689(0x7e7)](_0x382689(0x5df)),Ls&&(console[_0x382689(0x7e7)](_0x382689(0x49f)),process[_0x382689(0x6d2)]()),_0x382689(0x434);}else{if(Pr++,Pr<to)console['log'](_0x382689(0x875)+kr/0xea60+_0x382689(0x3b5)),setTimeout(Js,kr);else return console[_0x382689(0x1a3)](_0x382689(0x866)),'SERVER_OFFLINE';}}async function so(){const _0x5ea938=a0_0x236793;console[_0x5ea938(0x7e7)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x136c13=(0x0,_e['spawn'])(_0x5ea938(0x837),{'shell':!0x0});_0x136c13[_0x5ea938(0x7b1)]['on']('data',_0x487f06=>{const _0x283476=_0x5ea938;console[_0x283476(0x7e7)]('Atualização:\x20'+_0x487f06);}),_0x136c13[_0x5ea938(0x456)]['on'](_0x5ea938(0x69f),_0x417c6a=>{const _0x1e204f=_0x5ea938;console[_0x1e204f(0x1a3)](_0x1e204f(0x758)+_0x417c6a);}),_0x136c13['on']('exit',_0x5cbe38=>{const _0x342d7a=_0x5ea938;_0x5cbe38!==0x0?console['error'](_0x342d7a(0x6d1)+_0x5cbe38):console[_0x342d7a(0x7e7)](_0x342d7a(0x36e)),console[_0x342d7a(0x7e7)](_0x342d7a(0x2a2)),setTimeout(()=>process[_0x342d7a(0x6d2)](),0x2710);});}var ao=De[a0_0x236793(0x4d1)][a0_0x236793(0x279)](__dirname,'env.yml');async function ro(_0x4641ec,_0x36db68){const _0x14e7bb=a0_0x236793;let _0x34d376=oo();_0x4641ec=_0x4641ec['replace'](_0x14e7bb(0x3de),'');try{let _0x41b601=pe[_0x14e7bb(0x4d1)][_0x14e7bb(0x71c)](_0x36db68,'utf8');_0x41b601=_0x41b601[_0x14e7bb(0x517)](/<apikey>/,_0x34d376),_0x41b601=_0x41b601['replace'](/<subdomain>/g,_0x4641ec),pe[_0x14e7bb(0x4d1)][_0x14e7bb(0x212)](_0x36db68,_0x41b601,_0x14e7bb(0x1ce)),console[_0x14e7bb(0x7e7)](_0x14e7bb(0x883));}catch(_0x3e31bb){console[_0x14e7bb(0x1a3)](_0x14e7bb(0x23d),_0x3e31bb);}}function io(_0x5f526d,_0x4448e6){return new Promise((_0x12f459,_0x4e653e)=>{const _0x1b713b=a0_0x57a5;let _0x3156a0=(0x0,_e[_0x1b713b(0x2bc)])(_0x1b713b(0x308),[_0x1b713b(0x45b),'--standalone','-m',_0x5f526d,_0x1b713b(0x88c),'-d',_0x4448e6]);_0x3156a0[_0x1b713b(0x7b1)]['on'](_0x1b713b(0x69f),_0x229bb5=>{const _0x533e07=_0x1b713b;console[_0x533e07(0x7e7)](_0x533e07(0x25d)+_0x229bb5[_0x533e07(0x6eb)]());}),_0x3156a0['stderr']['on'](_0x1b713b(0x69f),_0x415caa=>{const _0x521165=_0x1b713b;console[_0x521165(0x1a3)]('Erro\x20do\x20Certbot:\x20'+_0x415caa['toString']());}),_0x3156a0['on'](_0x1b713b(0x46c),_0x529504=>{const _0x40952a=_0x1b713b;_0x529504!==0x0?(console['error'](_0x40952a(0x3d1)+_0x529504),_0x4e653e(_0x40952a(0x3d1)+_0x529504)):(console[_0x40952a(0x7e7)](_0x40952a(0x7f1)),_0x12f459());});});}function a0_0x23e4(){const _0x48f1de=['envProcess','updateAgent','dbServer','fetchMessages','findWebhook','execSync','updateCustomFields','latitude','reaction','):\x20não\x20encontrou','audioWhatsapp','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','removed','):\x20Falha\x20ao\x20deletar\x20mensagem.','vote','defineAuthState','toString','split','create','groupDesc','request\x20received\x20in\x20deleteConversation','variablesToObject','normalizeMessageContent','webhookModel','isURL','stateConnection','Erro\x20ao\x20buscar\x20o\x20fluxo','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','InstancesAsDisconnectedX','requestFile','application/octet-stream','tags','sendStatus','entries','success','stringify','floor','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','buffer','):\x20Bloco\x20a\x20ser\x20atualizado:\x20',',\x20Comparador:\x20','\x0aFN:','createSharedFlow','errorLog','notMatchRegex','oldValue','.webp','deleteAll','port','padStart','integer','/:instanceName','Resultado\x20da\x20atualização\x20em\x20massa:','.extension','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','canSendMessage','groupMemberAddMode','\x0aitem','temp-','clearVariables','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','evaluateCondition','sign','updateAll','readFileSync','list','save','match','contacts','sendPresenceUpdate','statSync','mongoose','endsWith','.wav','@redis/client','from','):\x20conversation.waitingMenu_name','EMAIL:','updateGroupsAddPrivacy','Resultado\x20da\x20atualização:','instanceKeys','processPollUpdateMessage','request\x20received\x20in\x20scheduleMessage','groupJid','http','addReplyOption','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','removeInstance','updateMissingCustomFields','):\x20Query\x20params:','Erro\x20ao\x20buscar\x20a\x20conversa','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','updateOnlinePrivacy','AddChatLabel','@whiskeysockets/baileys','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','webhookService','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','updateProfileName','createflow','createFlow','formatVCard','readreceipts','Erro\x20ao\x20atualizar\x20uma\x20mensagem:',':\x20Tentativa\x20','waitingForReplyMenu',',\x20valor\x20a\x20encontrar:\x20\x22',',\x20lastCondition:\x20','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','DATABASE_CONNECTION_URI','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','mongodb','Erro\x20ao\x20normalizar\x20a\x20mensagem:','loadWebhook','longitude','?authSource=admin&readPreference=primary&directConnection=true','isJidUser','contains','CORS_ORIGIN','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','connectedClient','getScheduleMessageModelForOwner','updatePresence','LOG_LEVEL','Erro\x20de\x20atualização:\x20','existsSync','JWT','instance.','keys','find','findAndReplaceRegex','prefixCommand','TYPE','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','):\x20Buscando\x20todos\x20os\x20fluxos...','WARN','local_map','varedits','):\x20debug\x20alterando\x20this.AutomateSystem','Last\x20message\x20not\x20found','Hash\x20to\x20image\x20name:\x20','SERVER_ACK','prepareWAMessageMedia','updateStopChat','\x1b[34m%s\x1b[0m','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','trim','prepareMediaMessage','reference','findAndUpdateCacheContact','Instância\x20não\x20encontrada.','EXPIRIN_IN','updateProfileStatus','send','):\x20Não\x20achou\x20nenhum\x20flow','minutesToClose','groupInviteCode','creds.update','unlinkSync','write','):\x20newFirstValue\x20após\x20replaceVariables:','Not\x20Found','deleteDoneMessages','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','jsonwebtoken','waitingMenu_replyOptions','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','font','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','updateMediaMessage','flushHeaders','type','augusto.fcs@gmail.com','_Contacts','\x20ao\x20chat\x20','basename','groupToggleEphemeral','emit','/instance/connect','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Fetching\x20business\x20profile','profileName','paused','desativadoFluxoAte','GROUP_PARTICIPANTS_UPDATE','messageType','mediaSticker','/chat','view\x20engine','https://api.ipify.org?format=json','):\x20conversation.lastInteraction:\x20','cachedContact','ListType','jid','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','participant','fetchPrivacySettings','fileName','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','flush','organization','update','\x20-i\x20','Erro\x20de\x20reinicialização:\x20','g-t','getFlow','allContacts','/instance','router','updateGroupParticipantsWebhook','Error\x20in\x20chatModify\x20for\x20number\x20','sharePass','stdout','Schema','ScheduleMessage','app-state-sync-key','labels.edit','documentWithCaptionMessage','groupUpdateSubject',':\x20Erro\x20durante\x20loadproxy\x20-\x20','bodyStringErrorParse','Label\x20','lastSendMessage','store','name','choices','Deleted\x20','pollCreationMessageV3','Instance\x20deleted','pollErrorMessage','\x20instance\x20does\x20not\x20exist','poll','createClient','variable','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','buttonId','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','count','GUARD','flowIgnoreGroups','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Ignoring\x20group\x20messages.','inviteUrl','):\x20Usando\x20extensão\x20padrão:\x20',']\x20(','fullName','model','detail','hex','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Bloco\x20com\x20ID\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','}}\x20->\x20valor\x20não\x20encontrado','Enter\x20a\x20value\x20in\x20milliseconds','wuid','encoding','.png','request\x20received\x20in\x20updateFlowConfig','request\x20received\x20in\x20getAutomateSystem','importChats','getFlowModelForOwner','fetchInstances','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','getStatus','log','conversation','message','Content-Type','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','apply','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','profile','uazapiSendMenu','Certbot\x20executado\x20com\x20sucesso.','Comando\x20desconhecido','SERVER_PORT','http://icanhazip.com/','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','useMultiFileAuthState','):\x20Entrou\x20na\x20função\x20goToFlow','removeData','):\x20Editando\x20edição\x20do\x20fluxo...','caption','getAllData','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','menuMessage','mongodb://','Close\x20connection','\x1b[0m','request\x20received\x20in\x20deleteFlow','chats.delete','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','SERVER_URL','SUCCESS','Erro\x20ao\x20alterar\x20privacidade','auth','query','findFlow','toggleEphemeral','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','stickerMessage','uuid','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','saveConversationToDatabase','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','redisEnv','\x5c$&','$dbName','Error\x20finding\x20many\x20contacts:','deleteMessageForEveryone','exists','presence.update','DELETED','\x0a{\x20instance:\x20','findLabels','sendMenu','):\x20Conversa\x20inserida\x20com\x20sucesso.','#01d0e2','#ffffff','Error\x20in\x20scheduleNextCheck:\x20','variablesNotFound','group-participants.update','\x20com\x20sucesso.','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','findContacts','):\x20[messages.update]\x20group\x20ignored','editflowgroup','):\x20Editando\x20grupo\x20do\x20fluxo...','updateGroupPicture','editFlowReply','):\x20Conversa\x20está\x20expirada\x20-\x20voto','):\x20Buscando\x20conversa...','drop','replaceVariables','remove','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','option','order','reorderReplyOptions','__esModule','setWebhook','RemoveChatLabel','50mb','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','pollCreationMessage','ConversationModel','CHATS_UPSERT','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','@ffmpeg-installer/ffmpeg','pollOnReplyDelete','editflowvariable','params','Error\x20occurred\x20while\x20archiving\x20chat:\x20','SINGLE_SELECT','/events','stopped','DaysToDelete','no-cache','StartBot','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','restartInstance','https://uazapi-plugin.bubbleapps.io/','URI','saveMediaToFile','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','capitalizedWords','sendText','8630424oJSPUD','toBrazilianNumberFormat','findGroupInfo','12999OMRObP','uazapiSendAudio','\x20is\x20already\x20in\x20use.','url','pollUpdateMessage','chatHandle','STATUS_INSTANCE','Image\x20created','.docx','startFlow','messageHandle','\x1b[44m','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','optionName','convert','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','flowConfig','pollMessage','ContactsAndGroups','AUTHENTICATION','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','ON\x20-\x20dbName:\x20','updateMissingShareOwners','/wa-connection-update','Contacts\x20not\x20found','pictureUrl','/instance/connectionState','):\x20updateResult:','lastReceivedMessage','_error','Delete\x20chat','profilePictureUrl','request\x20received\x20in\x20allFlows','waMonitor','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','createSectionsFromValues','request\x20received\x20in\x20editFlowgroup','deleteMessage','fetchBusinessProfile','The\x20\x22','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','normalizeMessage','pop','.xls','\x20attempts.','put','DATABASE_CONNECTION_HOST','protocolMessage','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Validate','long','REDIS_ENABLED','assign','instances','Database\x20connection\x20closed.','sendMessageWithTyping','descOwner','--agree-tos','isLong','ContactModel','some','sendList','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','error','readMessages','\x20quoted:\x20','processConditionsTest','#fe9dfe','END:VCARD','Output\x20path:\x20','Types','Image\x20is\x20url','including\x20timestamp\x20in\x20url:\x20','updateBlock','/media/','express','isInteger','Removidas\x20as\x20variáveis:\x20','):\x20Entrou\x20na\x20função\x20saveReply','):\x20Entrou\x20na\x20função\x20clearVariables','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','username','block','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','buttonText','mediaMessage','contacts.upsert','40218cHpAcf','parseInt','test','nomecompleto','subjectOwner','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','\x20minutos','insertMany','hDel','testProxy','process','Safari','ip:\x20','hGet','announcement','where','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','findManyByIds','Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:','utf8','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','_Chats','Unauthorized',',\x20Novo\x20tamanho:\x20','FlowModel','quoted','getScheduleMessage','isConnected','):\x20nextBlock.uazapi.name','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','saveCreds','WebhookGlobal','delayChatLabel','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Comando\x20desconhecido:\x20','updateAutoCompleteMessages','Mensagem\x20não\x20suportada','document','getDelay','updateOne','src','selectableCount','apikey','now','convertToWebP','.ppt','Deletion\x20failed','Nenhum\x20chat\x20encontrado\x20para\x20editar.','subject','loadEnv','labelId','request\x20received\x20in\x20getFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','reviver','website','pollCreationMessageKey','.type','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','picture','FlowRouter','getConversationModelForOwner','groupRevokeInvite','editFlowGroup','\x20:\x20','groupLeave','flattenObject','Falta\x20informação\x20para\x20a\x20chamada\x20API','closeExistingConversations','del','/clients-info','):\x20Flow\x20não\x20encontrado','/wa-presence','):\x20Alterando\x20fluxo...','createJid','stopIfLastReturnedError','function','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','WA\x20MODULE','enabled','!cmd_','joinGroup','waInstances','):\x20Enviando\x20contato','groupFetchAllParticipating','replyOption','info','msgRetryCounterCache','writeFileSync','https://chat.whatsapp.com/','valid','editflowvaredit','Erro\x20ao\x20inserir\x20chats:','owner','deleteMany','group','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','awaitSeconds','5522BxCzsV','reorderBlocks','CONTACTS_SET','empty','/create','flowActive','lean','senderKeyDistributionMessage','_Flows','localWebhook','/config','):\x20Deletando\x20mensagem','path','statusJidList','object','toNumber','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','userDevicesCache','Instance\x20restarted','buttonMessage','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','ObjectId','remove.instance','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','getMinutes','updateGroupWebhook','Erro\x20ao\x20atualizar\x20múltiplos\x20AutomateSystem:','createGroup','GROUPS_UPDATE','audio/ogg','sectionsToString','messageTimestamp','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','array','OrAnd','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Not\x20is\x20business\x20profile','demote','extractRegex','Nenhum\x20participante\x20válido\x20encontrado.','editFlowVaredit','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','content-type','realVariables','customFields','groupGetInviteInfo','markMessageAsRead','PENDING','code','flowname:\x20','^\x5cd+','uazapiSendLocation','updateMessage','groupadd','get','#ffae04','agents','includes','format','env','createInstance','ERROR:\x20','CONECTADO\x20À\x20UAZAPI','Type\x20not\x20found','Certbot:\x20','activatedCount','message_normalized','urlOrBase64','.txt','unhandledRejection','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','updateReplyOption','viewOnceMessageV2','):\x20Criou\x20conversa\x20no\x20startFlow:','):\x20isVote:\x20','values','bulkWrite','less','):\x20customFieldVariables','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20Erro\x20durante\x20a\x20atualização:\x20','Error\x20in\x20converting\x20audio','\x1b[1m','updateOneById','slice','muteEndTime','birthtime','):\x20alterando\x20this.AutomateSystem','VERBOSE','videoMessage','.doc','contentText','join','replaceVariablesChat','processing_id','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','STORE','\x1b[36m%s\x1b[0m','NextBlock','public','delAll','all_member_add','backgroundColor','CORS_CREDENTIALS','generate','ephemeralDuration','validate','*\x0a\x0a','textMessage','isCommunity','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','#000000','):\x20Procurando\x20conversa','sendPoll','uncaughtException','#6f7bcf','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','SERVER_TYPE','URL:','qrcode.updated','cpf','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','CONTACTS_UPSERT','deleteBlock','end','delete','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','creation','hbs','uazapiSendText','processblock','chats','Parando\x20aplicação...','Read\x20messages','indexOf','connecting','logout','notEqual','Connection','):\x20leadInfoVariables','contextInfo','ListMessage','Erro\x20ao\x20tentar\x20autoCompleteMessages','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','statusCode','reject','static','\x22\x20-\x20REMOVED','sendMedia','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Erro\x20ao\x20copiar\x20o\x20documento','MAX_RECONNECT_ATTEMPTS','\x20não\x20encontrado\x20para\x20cópia','\x1b[42m','editflowblock','lastDisconnect','online','processConditions','spawn','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Imagem\x20não\x20encontrada','InstancesAlterarTodas','getAutomateSystem','joinApprovalMode','automateSystem','media','numbers','https://ipinfo.io/json','Erro\x20ao\x20criar\x20fluxo\x20regular','QRCODE_UPDATED','uazapiSendContact','Cache-Control','applyvaredit','connectToWhatsappController','error_log','delayChatLabel_MAX_RETRIES','.mp4','STORE_CONTACTS','pairingCode','sendCommand','shutdown\x20-r\x20now','Erro\x20ao\x20iniciar\x20fluxo:\x20','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','condition','generateWAMessageFromContent','Erro\x20ao\x20copiar\x20dados:','AUTHENTICATION_TYPE','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','utf-8','routerPath','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','groupName','\x1b[43m','updateChatGroupData','\x1b[40m','revokeInviteCode','CHATS_UPDATE','allFlows','makeCacheableSignalKeyStore','ms\x20(Attempt\x20','):\x20Iniciando\x20bot...','Variáveis\x20não\x20encontradas:','app','updateProfilePicture','status@broadcast','headerString','groups_ignore','Pausado\x20por\x20','Log\x20out\x20instance:\x20','interval\x20não\x20é\x20um\x20número','eventEmitter','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','email','privacySettings','@newsletter','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','rows','groupUpdateDescription','remoteJid','Erro\x20ao\x20atualizar\x20o\x20flow.','\x20e\x20ID=','editConversation','CHATS_SET','modifiedCount','extractMessageContent','events','blocks','matchRegex','not_announcement','findByIdAndDelete','binary','AUTHENTICATION_JWT_EXPIRIN_IN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','certbot','REDIS_PREFIX_KEY','label','Archiving\x20chat','listType','value','resetReconnectionVariables','Audio\x20converted\x20and\x20stored\x20in\x20cache','collections','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','leadInfo.desativadoFluxoAte','Invalid\x20format','GROUPS_UPSERT','webhook','formatBRNumber','Business\x20profile\x20fetched','messages.set','saveChatVariables','readMessage','editChat','goToFlow','unreadCount','getBase64FromMediaMessage','updateParticipant','Telefone:\x20','\x1b[31m%s\x1b[0m','LOG_COLOR','request\x20received\x20in\x20updateAgent',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','available','https://jsonip.com','Module\x20-\x20ON','hSet','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','content','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','leaveGroup','getHours','express-async-errors','scheduleNextCheck','request\x20received\x20in\x20fetchConversation','restart','dayjs','@g.us','redis://127.0.0.1:6379','importChatsAntigo','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','nome','fetchProfilePicture','.\x20Aguardando\x20antes\x20de\x20reconectar...','):\x20Flow\x20desativado','groups.upsert','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','setHeader','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','request\x20received\x20in\x20editFlowvariable','../env.yml','addBlock','Valor\x20inicial:\x20\x22','ignoreGroups','):\x20','HH:mm:ss','locationMessage','API\x20Key\x20from\x20Request:','instancias:\x20','STORE_CHATS','waUploadToServer','Selecione','lastCondition','upperCase','?timestamp=','updateGParticipate','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','send.message','jsonschema','CHATS_DELETE','#9ab6c1','createNewConversation','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','editFlowBlock','DATABASE_CONNECTION_DB_PREFIX_NAME','imgUrl','views','redis','http://checkip.dyndns.org','sendWhatsAppAudio','groupHandler','-whatsapp-api','https://uazapi-plugin.bubbleapps.io/?url=','repeat','Esse\x20fluxo\x20expirou','setContext','arraybuffer','instanceName\x20not\x20provided.','):\x20Enviando\x20mídia','Connection\x20closed\x20for\x20instance:\x20','leadInfo.','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','envYaml','authState','Sistema\x20atualizado\x20com\x20sucesso!','parse','next_groupId','dataValidate','sleep','badSession','CONNECTION_UPDATE','Error\x20while\x20deleting\x20message\x20for\x20everyone','beautifyWithPlaceholders','Instance\x20Key\x20from\x20DB:','API\x20Key\x20inválida.','replaceVariablesInReplyOptions','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Authentication\x20error','cachedData-whatsapp','listen','/message','dbInstance','Type\x20is\x20required','notEmpty','contact_blacklist','mediatype','SECRET','console','exec','chatId','<subdomain>','isCommunityAnnounce','):\x20mediaMessageInfoId\x20:\x20','groups.update:','chats.update','namespace','insertCount','URL','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','footerText','timeout','findAll','):\x20lastBlockId:\x20','Image\x20converted\x20to\x20WebP','REDIS','displayName','mimetype','firstValue','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','groupAcceptInvite','none','sendSticker','/wa-all-message','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','imageMessage','\x20segundos','method','cacheContact','blockLogs','editflowcondition','announce','ultimaTentativaRemoteJid','createAndSave','contact','updatePrivacySettings','viewOnceMessage','):\x20Edit\x20schedule\x20message...','AutomateSystem\x20não\x20foi\x20inicializado','done','audioMessage','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','fetchContacts','Instance\x20ID:','Error\x20fetching\x20and\x20updating\x20profile:\x20','toBRL','\x20minutos...','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','replaceVariablesInObject','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','padEnd','admin_add','chat','image','command','groupBetterSetting','presence','updateMissingEtiquetas','contactsArrayMessage','node-cache','subjectTime','_id','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','sending','CONTACTS_UPDATE','Error\x20fetching\x20group',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Criando\x20nova\x20conversa[createNewConversation]','HeaderType','messageId','groupId','waitingMenu_ExpiredMessage','E-mail:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','https://api.openai.com/v1/audio/speech','stopMinutes','\x20não\x20encontrado','Fluxos\x20não\x20estão\x20ativados','stanzaId','flowConversation','changeVariables','listMessage','\x1b[36m','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','7333616czzsJx','storePath','.uazapi.dev','everyOne','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','gifPlayback','Cannot\x20','DB_PREFIX_NAME','HOST','):\x20Enviando\x20texto','memberAddMode','\x20do\x20chat\x20',',\x20Expiration\x20Time:\x20','\x0a*Você\x20respondeu*:\x0a','ENABLED','\x20minutos\x20verificará\x20novas\x20mensagens','deletedCount','getflow','\x1b[33m','mediaKey','updateFlowConfig','Reinicialização\x20iniciada:\x20','contactMessage','digest','DARK','conversationTimestamp','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','creds.json','Error\x20updating\x20cache\x20contact:','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','bodyString','mkdirSync','Message','no.connection','Image\x20is\x20base64','getDevice','inner',',\x20Resultado:\x20','.url','_fromMe','map','copyDataToNewModel','lastInteraction','sendReaction','statusMessage','https://','truncatedto','contacts.update','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','leadInfo.etiquetas','Error\x20updating\x20message\x20status:','sendAudio','uazapiDeleteMessage','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','getTicketSystem','reconnectTimestamps','exports','qrCode','#ffc5c7','CacheContacts\x20database\x20connection\x20closed.','greater','$set','waitingMenu_text','groupdata','LOG','://','MESSAGES_UPDATE','substring','groupParticipantsUpdate','presenceSubscribe','editFlowCondition','Conexão\x20estabelecida','processApiRequest','getContactModelForOwner','goNextblock','oldToken','archived','notify','request_method','Operador:\x20\x22','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','responsavelid','ORG:','optionDescription','/wa-chats','\x1b[41m','folder','LICENSE_INVALID','warn','Erro\x20ao\x20arquivar\x20chat','loggedOut','https','Primeiro\x20Valor:\x20','delayMessage','whatsappNumber','proto','chats.set','MESSAGES_UPSERT','\x1b[32m','dbSettings','lastUpdate','#d8e651','fetchProfile','):\x20Campos\x20a\x20serem\x20atualizados:','saveTextReply','arrayUnique','/*.json','set','Erro\x20ao\x20deletar\x20mensagens:','connection.update','equal','and','fromObject','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','eventHandler','Logger','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','abs','creds',',\x20resultado:\x20','Erro\x20ao\x20atualizar\x20AutomateSystem:','stderr','processawaitSeconds','):\x20Mensagem\x20já\x20enviada\x20para\x20','#f64847','getTime','certonly','\x1b[31m','#dfaef0','Mensagens\x20deletadas\x20com\x20sucesso.','replacer','DEBUG','verbose','descId','setNewValue','status','\x1b[34m','stopMinutesMaxActives','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','findGroups','authModel','):\x20Current\x20Time:\x20','getContentType','close','):\x20this.processing_id:\x20','newStoppedUntil','blockId','):\x20teve\x20mudanças\x20chat.archived:\x20','uazapi','createServer','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','writeData','getMessageModelForOwner','dbConnection','^\x5cd+([-]\x5cd+)*@g.us$','release','):\x20Editando\x20variável\x20do\x20fluxo...','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Erro\x20ao\x20adicionar\x20label\x20','toLocaleString','class-validator','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','listResponseMessage','PLAYED','unreadcount','lastMessage','copy','Início','groupMetadata','Erro\x20ao\x20editar\x20o\x20chat','messages','number','Type\x20defined\x20as\x20audio','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','LabelModel','/instance/fetchInstances','approve','verifiedName','buttons','Processing\x20audio','editOperator','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Router','\x20removido\x20do\x20chat\x20','item','chatModify','chatLog','):\x20Procurando\x20mensagens\x20para\x20envio','isAdmin','@s.whatsapp.net','address','Não\x20respondeu\x20com\x20a\x20enquete.','deleted','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','PRIVKEY','max','4658935IiEgam','text','):\x20Enviando\x20localização','reconnectAttempts','imagechat','all','CLEANING_INTERVAL','push','Número\x20não\x20possui\x20WhatsApp.','Db\x20Connection','Font\x20is\x20required','fetchChats','eventemitter2','noConnection','toDataURL','linkPreview','moreLogs','saveVariable','fileUrl','atendimentoAberto','last','This\x20name\x20','.webm','findOneAndUpdate','formatStatusMessage','):\x20Query\x20params:\x20','connect','ButtonsMessage','scheduleSendAudio','):\x20Conversa\x20atualizada\x20em\x20memória','_FlowHistorico','Internal\x20Server\x20Error',',\x20canSendMessage:\x20','EMAIL','http://ifconfig.me/ip','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',',\x20Minutes\x20to\x20Close:\x20','addresss','shift','getProfileName','string','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','\x22\x20cannot\x20be\x20empty','imported','created','onTime','.jpg','default','\x20horas\x20e\x20','Erro\x20ao\x20tentar\x20updateCustomFields','toLowerCase','\x20saindo\x20da\x20função','.xlsx','deleteflow','/wa-contacts','config','true','last_update','verify','promote','groupJoinApprovalMode','ephemeralExpiration','CORS_METHODS','maxActives','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','editFlowVariable','KEY','uazapiSendMedia','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','editflow','newValue','participants','title','header','groupSetting','removeUnusedChatFields','DOCKER_ENV','Erro\x20ao\x20remover\x20label\x20','$pull','json','audio','/exit','sections','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','deleteOne','findConversation','groupValidate','group-participants.update:','instance','variables','originalUrl','isBase64','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','):\x20Buscando\x20flow...','Getting\x20image\x20from\x20url','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','scheduleMessages','filter','SEND_MESSAGE','ChatModel','closed','AppStateSyncKeyData','description','https://api.openai.com/v1/images/generations','status.instance','editFlow','dark','readData','authentication','sendDataWebhook','flowStopConversation','connectionClosed','):\x20Bloco\x20original\x20para\x20cópia:\x20','Last\x20message\x20not\x20found\x20for\x20number:','PASSWORD','Erro\x20ao\x20importar\x20chats','replace','scheduled','Instance\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','round','Conversa\x20deletada\x20com\x20sucesso.','Grupo\x20','has','1831930drQxaC','repository','groupSettingUpdate','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','apiResponse','inviteCode','fetchConversation','archive','subdomain','.X-ABLabel:Celular\x0a','):\x20Conversas\x20encontradas:','groups.update',',\x20saindo.','Subscribed\x20Events:','setting','locked','pre','Erro\x20ao\x20encerrar\x20a\x20API','Erro\x20ao\x20editar\x20o\x20bloco:\x20','replyOptions','key','PRESENCE_UPDATE','FlattenObject\x20result:','\x1b[37m%s\x1b[0m','):\x20transformedCustomFieldVariables','instanceCount','updateChatWithMessage','shareOwners','off','DELIVERY_ACK','deleteImportedChat','lastBlockId','\x20chats\x20de\x20','USER','secondValue','findOne','updateConversation','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x20contacts','.jwt','cors',',\x20valor\x20passado:\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Instance\x20logged\x20out','action','removeChatLabel','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','splice','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','flowName','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','importChatsBatch','messages.update','\x20->\x20CONFIRMADO.','boolean','currency','^\x5cd+[\x5c.@\x5cw-]+','configService','updateGParticipant','pollCreationMessageV2','finish','DATABASE_CONNECTION_USER','\x20inseridas\x20no\x20banco\x20de\x20dados...','_Labels','delay','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','beforeExit','toFile','synchronizeFlows','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','File\x20written\x20to\x20path:\x20','downloads','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','/events/:instance','groupCreate','response','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','_p_','getChatModelForOwner','loadproxy','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Entrou\x20na\x20função\x20stop','scheduleMessage','throwAndLogError','truncatedtoEnd','evaluateConditionTest','Erro\x20ao\x20remover\x20instâncias\x20antigas:','webhookMap','Image\x20path:\x20','195nttwvY','BufferJSON','connectionState','rm\x20-rf\x20','\x5cd+','createRegularFlow','remote\x20\x22origin\x22','request\x20received\x20in\x20deleteDoneMessages','sendButtons','random','*Pergunta*:\x20\x0a','audio/ogg;\x20codecs=opus','whatsappNumbers','prototype','apirequest','editflowreply','\x20-\x20ON:\x20','scheduleSendMedia','use','onWhatsApp',',\x20pairCode:\x20','replaceVariablesLogs','joinGroupValidate','updateMissingTags',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','getLastMessage','Erro\x20ao\x20editar\x20agentes','replaceValue','forEach','output','when','logger','Error\x20removing\x20unused\x20chat\x20fields:','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','hasOwnProperty','stopWhenYouSendMsg','PORT','):\x20Limpando\x20delayMessage','isRunning','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','waitingMenu_id','createConnection','processUazapi','convertedOptions','instanceName','):\x20Conversa\x20está\x20expirada','fetchProfilePictureUrl','length','_pushName','lastFetchAwaitingApproval','sha256','expiration','start','deleteFlow','unlocked','mentioned','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','getVariablesChat','restrict','):\x20Criando\x20fluxo\x20regular...','delayChatLabel_RETRY_DELAY_MS','Background\x20color\x20is\x20required','getMessage','FULLCHAIN','\x1b[47m','sendMessage','):\x20atualização\x20chat:\x20','expression','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','leadInfo.customFields','autoCompleteMessages','menuType','1266anfSbH','host','menuExpiredMessage','removeOlderDisconnectedInstances','sendLocation','call','crypto','unknown\x20operation\x20type\x20[','headers','superadmin','Flow\x20não\x20encontrado','isBusiness','API_KEY','The\x20global\x20api\x20key\x20must\x20be\x20set','varedit','etiquetas','):\x20Limpando\x20AutomateSystem','endSession','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','deleteChat','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','toUpperCase','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','/wa-message','messaging-history.set','READ','deleteConversation','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','protocol','SSL_CONF_FULLCHAIN','[all]','pushName','request\x20received\x20in\x20editFlowcondition','conditions','fetchLabels','request\x20received\x20in\x20editConversation','recebido\x20de','):\x20Editando\x20replyOption...','findMessages','contactHandle','.ogg','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','initAuthCreds','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','client','Rótulo\x20deletado:','Falha\x20ao\x20processar\x20fetchBusinessProfile','convertaudioMP3','archiveChat','getMIMEType','mentions','processvaredits','processgoToFlow','connectToWhatsapp','child_process','URL\x20limpa:\x20','remoteJidsRemaining','deleteReplyOption','AUTHENTICATION_JWT_SECRET','findGroup','Error\x20writing\x20file:\x20','$addToSet','connectionUpdate','isArray','_ScheduleMessages','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','inviteCodeDetails','isJidGroup','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','labels.association','updateProfilePicturePrivacy','composing','connectionStatus','Trying\x20to\x20get\x20business\x20profile','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','limit','METHODS','\x22\x20-\x20NOT\x20CONNECTION','188FFWfaA','bearer','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','verifyWhatsAppNumber','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','createConversationforStartFlow','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','createHash','Group\x20not\x20found','Falha\x20após\x20várias\x20tentativas.','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','body','PREFIX_KEY','insert','/media','AutomateFunctions','/instance/create','fileLength','Temp\x20image\x20deleted','):\x20[messages.upsert]\x20group\x20ignored','The\x20property\x20cannot\x20be\x20empty','editScheduleMessage','CREDENTIALS','processclearVariables','Bad\x20Request','trimmed','profilePicture','getClient','color','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','!stop','user','getRandomText','HttpsProxyAgent','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','}}\x20->\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','SSL_CONF','#9ba6ff','delaySecMax','groups','Erro\x20ao\x20deletar\x20a\x20conversa','vcard','groups.upsert:','request\x20received\x20in\x20editFlow','keep-alive','copyBlock','fromMe','/instance/delete','\x1b[46m','base64','remoteJids','editedMessage','enumerable','notas','awaitingApproval','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','leadInfo','Flow\x20iniciado\x20com\x20','/group','min','/wa-groups','replaceOne','Database\x20is\x20not\x20enabled','delaySecMin','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','findAndReplace','Falha\x20ao\x20processar\x20a\x20solicitação','CORS','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','role','js-yaml','redirect','setUpdate','findParticipants','messageStubType','findByIdAndUpdate','ERROR','open','cleaningUp','charAt','state','admin','stopConversation','):\x20Visualizando\x20AutomateSystem','.mp3','#b4ebff','startsWith','chats.upsert','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','collection','flow','Erro\x20ao\x20atualizar\x20conversa:\x20','StatusJidList\x20is\x20required','#64c4ff','/wa-qrcode','lastSend','cacheContactModel','env.KEY\x20!==\x20key','password','.\x20Pulando.','messages.upsert','TEXT','sticker','):\x20expirationTime:\x20','authService','_remoteJid','updateMany','_activatedCount','size','dbClient','cleanStore','Missing\x20global\x20api\x20key','findOrCreate','\x20minutos.\x20Será\x20às\x20','phoneNumber','isJWT','-instances','):\x20Error\x20processing\x20the\x20block:\x20','):\x20Fluxos\x20não\x20estão\x20ativados','INFO','fone','height','findById','context','cachedContacts-whatsapp','instanceInfo','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','getOwnPropertyDescriptor','text/event-stream','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','ReplyOption\x20com\x20ID\x20','sort','Converted\x20image\x20deleted',':\x20IP\x20configurado:\x20','_Messages','MessageModel','data','./.git/config','getLabelModelForOwner','reactionMessage','Desconectado,\x20parando\x20execução.','Erro\x20ao\x20aplicar\x20varedit:\x20','findIndex','requestPairingCode','STORE_CLEANING_TERMINAL','MESSAGES_SET','flowPrefixCommand','PROXY','SERVER','qrcode','segundos','Número:\x20','TEL','pt-BR','isListOfNumbers','video','add','jpegThumbnail','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','#9568cf','):\x20Bloco\x20copiado:\x20','errors','cache','):\x20Deletando\x20fluxo...','http://ipecho.net/plain','licenca','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','documentMessage','AUTHENTICATION_API_KEY','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','rowId','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','removeProfilePicture','\x20not\x20found,\x20retrying\x20in\x20','recording','options','getConversation','@broadcast','\x20-y','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Notifying\x20clients\x20for\x20chat:\x20','post','\x20foi\x20interrompido\x20pelo\x20usuário.','request\x20body:\x20','generateHash','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','exit','CONNECTION','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','\x20-\x20retornado:\x20','convertaudio','DATABASE','AutomateSystem','unavailable','FlowController'];a0_0x23e4=function(){return _0x48f1de;};return a0_0x23e4();}function oo(_0x4b76ee=0x32){const _0x52c8c8=a0_0x236793;let _0x2c4a69=_0x52c8c8(0x36b),_0x51a961='';for(let _0x223651=0x0;_0x223651<_0x4b76ee;_0x223651++)_0x51a961+=_0x2c4a69['charAt'](Math[_0x52c8c8(0x6ff)](Math['random']()*_0x2c4a69['length']));return _0x51a961;}function no(){const _0x2da037=a0_0x236793;(0x0,_e['exec'])(_0x2da037(0x2d3),(_0x4d1c70,_0x34422d,_0x2a9ac9)=>{const _0x39aacf=_0x2da037;if(_0x4d1c70){console[_0x39aacf(0x1a3)](_0x39aacf(0x311)+_0x4d1c70);return;}if(_0x2a9ac9){console[_0x39aacf(0x1a3)](_0x39aacf(0x7a8)+_0x2a9ac9);return;}console[_0x39aacf(0x7e7)](_0x39aacf(0x3f1)+_0x34422d);});}0x0&&(module[a0_0x236793(0x415)]={'subdomain':subdomain});