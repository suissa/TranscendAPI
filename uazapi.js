const a0_0x1b487a=a0_0x32d2;(function(_0x283dba,_0x2a6942){const _0x1b19ba=a0_0x32d2,_0x1b6142=_0x283dba();while(!![]){try{const _0x4d98f5=-parseInt(_0x1b19ba(0x54f))/0x1*(parseInt(_0x1b19ba(0x6e6))/0x2)+parseInt(_0x1b19ba(0x369))/0x3*(-parseInt(_0x1b19ba(0x4b4))/0x4)+-parseInt(_0x1b19ba(0x20e))/0x5+parseInt(_0x1b19ba(0x6c6))/0x6*(parseInt(_0x1b19ba(0x4ac))/0x7)+-parseInt(_0x1b19ba(0x24d))/0x8+parseInt(_0x1b19ba(0x43f))/0x9*(-parseInt(_0x1b19ba(0x9b))/0xa)+parseInt(_0x1b19ba(0x538))/0xb;if(_0x4d98f5===_0x2a6942)break;else _0x1b6142['push'](_0x1b6142['shift']());}catch(_0x12ccf9){_0x1b6142['push'](_0x1b6142['shift']());}}}(a0_0x5154,0xc61c1));var Pr=Object['create'],Ie=Object[a0_0x1b487a(0x5dc)],$r=Object[a0_0x1b487a(0x310)],kr=Object[a0_0x1b487a(0x189)],Lr=Object['getPrototypeOf'],Fr=Object[a0_0x1b487a(0x43c)][a0_0x1b487a(0x655)],jr=(_0x5b9d82,_0x47b8ec)=>{for(var _0x44d28c in _0x47b8ec)Ie(_0x5b9d82,_0x44d28c,{'get':_0x47b8ec[_0x44d28c],'enumerable':!0x0});},_s=(_0x304bb,_0x55fedb,_0x4f539e,_0x527221)=>{const _0x130dd3=a0_0x1b487a;if(_0x55fedb&&typeof _0x55fedb==_0x130dd3(0x3e2)||typeof _0x55fedb==_0x130dd3(0x149)){for(let _0x446e3e of kr(_0x55fedb))!Fr[_0x130dd3(0x501)](_0x304bb,_0x446e3e)&&_0x446e3e!==_0x4f539e&&Ie(_0x304bb,_0x446e3e,{'get':()=>_0x55fedb[_0x446e3e],'enumerable':!(_0x527221=$r(_0x55fedb,_0x446e3e))||_0x527221['enumerable']});}return _0x304bb;},T=(_0x2da0a8,_0x651773,_0x4b20bb)=>(_0x4b20bb=_0x2da0a8!=null?Pr(Lr(_0x2da0a8)):{},_s(_0x651773||!_0x2da0a8||!_0x2da0a8[a0_0x1b487a(0x645)]?Ie(_0x4b20bb,a0_0x1b487a(0x66d),{'value':_0x2da0a8,'enumerable':!0x0}):_0x4b20bb,_0x2da0a8)),Ur=_0x4792c1=>_s(Ie({},a0_0x1b487a(0x645),{'value':!0x0}),_0x4792c1),Hi={};jr(Hi,{'subdomain':()=>Rs}),module[a0_0x1b487a(0x5cf)]=Ur(Hi);var Or=T(require(a0_0x1b487a(0x449))),$s=require('fs'),ks=require(a0_0x1b487a(0x2e3)),Ls=require(a0_0x1b487a(0x60d)),xe=require(a0_0x1b487a(0x60d)),re=process[a0_0x1b487a(0x65d)](),ge=(0x0,xe[a0_0x1b487a(0xf6)])(re,'instances'),Ps=(0x0,xe['join'])(re,a0_0x1b487a(0x69)),Vo=(0x0,xe[a0_0x1b487a(0xf6)])(re,a0_0x1b487a(0x2c6),a0_0x1b487a(0x282)),es=class{constructor(){const _0x287cfd=a0_0x1b487a;this[_0x287cfd(0x3a1)]();}[a0_0x1b487a(0x348)](_0x3c1fa7){return this['env'][_0x3c1fa7];}[a0_0x1b487a(0x3a1)](){const _0x23d4b3=a0_0x1b487a;this[_0x23d4b3(0x5c3)]=process[_0x23d4b3(0x5c3)]?.[_0x23d4b3(0x38a)]!==_0x23d4b3(0x1db)?this[_0x23d4b3(0x534)]():this[_0x23d4b3(0x35a)](),process[_0x23d4b3(0x5c3)]?.['DOCKER_ENV']===_0x23d4b3(0x1db)&&(this[_0x23d4b3(0x5c3)][_0x23d4b3(0x1e9)][_0x23d4b3(0x31f)]='http',this['env'][_0x23d4b3(0x1e9)][_0x23d4b3(0x179)]=Number[_0x23d4b3(0x46d)](process[_0x23d4b3(0x5c3)]?.['SERVER_PORT']??_0x23d4b3(0x5fd)));}[a0_0x1b487a(0x534)](){const _0x49fe21=a0_0x1b487a;return(0x0,ks['load'])((0x0,$s[_0x49fe21(0x65e)])((0x0,Ls[_0x49fe21(0xf6)])(Ps,_0x49fe21(0x529)),{'encoding':'utf-8'}));}[a0_0x1b487a(0x35a)](){const _0x33b5c3=a0_0x1b487a;return{'SERVER':{'TYPE':process[_0x33b5c3(0x5c3)][_0x33b5c3(0x620)],'PORT':Number[_0x33b5c3(0x46d)](process[_0x33b5c3(0x5c3)][_0x33b5c3(0x429)]),'URL':process['env'][_0x33b5c3(0x3ad)]},'CORS':{'ORIGIN':process['env'][_0x33b5c3(0x3e4)][_0x33b5c3(0x4b1)](','),'METHODS':process['env'][_0x33b5c3(0x436)][_0x33b5c3(0x4b1)](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x33b5c3(0x651)],'FULLCHAIN':process[_0x33b5c3(0x5c3)]?.[_0x33b5c3(0x1f6)]},'STORE':{'CLEANING_INTERVAL':Number[_0x33b5c3(0x6ae)](process[_0x33b5c3(0x5c3)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x33b5c3(0x46d)](process['env'][_0x33b5c3(0x4c3)]):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0x33b5c3(0x1db),'CONTACTS':process[_0x33b5c3(0x5c3)]?.[_0x33b5c3(0x61e)]===_0x33b5c3(0x1db),'CHATS':process[_0x33b5c3(0x5c3)]?.[_0x33b5c3(0x100)]===_0x33b5c3(0x1db)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x33b5c3(0x4a0)],'PORT':Number[_0x33b5c3(0x46d)](process[_0x33b5c3(0x5c3)]?.[_0x33b5c3(0x4a0)]),'USER':process[_0x33b5c3(0x5c3)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x33b5c3(0x5c3)][_0x33b5c3(0x48a)],'URI':process[_0x33b5c3(0x5c3)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x33b5c3(0x5c3)][_0x33b5c3(0x78)]},'ENABLED':process['env']?.[_0x33b5c3(0x1fc)]===_0x33b5c3(0x1db)},'REDIS':{'ENABLED':process[_0x33b5c3(0x5c3)]?.[_0x33b5c3(0xb7)]===_0x33b5c3(0x1db),'URI':process[_0x33b5c3(0x5c3)][_0x33b5c3(0x280)]||_0x33b5c3(0x219),'PREFIX_KEY':process[_0x33b5c3(0x5c3)]['REDIS_PREFIX_KEY']||_0x33b5c3(0x647)},'LOG':{'LEVEL':process['env']?.[_0x33b5c3(0x137)]['split'](','),'COLOR':process[_0x33b5c3(0x5c3)]?.['LOG_COLOR']===_0x33b5c3(0x1db)},'PROXY':Number[_0x33b5c3(0x46d)](process[_0x33b5c3(0x5c3)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x33b5c3(0x5c3)][_0x33b5c3(0x6a5)],'API_KEY':{'KEY':process['env'][_0x33b5c3(0x1d9)]},'JWT':{'EXPIRIN_IN':Number[_0x33b5c3(0x6ae)](process['env']?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x33b5c3(0x46d)](process[_0x33b5c3(0x5c3)][_0x33b5c3(0x3d5)]):0xe10,'SECRET':process[_0x33b5c3(0x5c3)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new es(),Ar=T(require(a0_0x1b487a(0x487))),he=T(require(a0_0x1b487a(0x33e))),xs=require(a0_0x1b487a(0x60d)),ts=T(require(a0_0x1b487a(0x5de))),ss=(_0x47fad7=>(_0x47fad7[a0_0x1b487a(0x14c)]=a0_0x1b487a(0x5eb),_0x47fad7[a0_0x1b487a(0x284)]=a0_0x1b487a(0x4d6),_0x47fad7['WARN']=a0_0x1b487a(0x1eb),_0x47fad7[a0_0x1b487a(0x2cb)]='\x1b[31m',_0x47fad7['DEBUG']=a0_0x1b487a(0x318),_0x47fad7[a0_0x1b487a(0x401)]=a0_0x1b487a(0x3a0),_0x47fad7[a0_0x1b487a(0x64b)]='\x1b[30m',_0x47fad7))(ss||{}),Fs=(_0x41f91c=>(_0x41f91c[a0_0x1b487a(0x14c)]=a0_0x1b487a(0x27c),_0x41f91c[a0_0x1b487a(0x64b)]=a0_0x1b487a(0x25b),_0x41f91c[a0_0x1b487a(0x284)]=a0_0x1b487a(0x47f),_0x41f91c[a0_0x1b487a(0x42e)]=a0_0x1b487a(0x45d),_0x41f91c['ERROR']=a0_0x1b487a(0x591),_0x41f91c[a0_0x1b487a(0x2f3)]=a0_0x1b487a(0x4c1),_0x41f91c[a0_0x1b487a(0x401)]='\x1b[37m%s\x1b[0m',_0x41f91c))(Fs||{}),js=(_0x16d990=>(_0x16d990[a0_0x1b487a(0x14c)]=a0_0x1b487a(0x14c),_0x16d990['WARN']=a0_0x1b487a(0x42e),_0x16d990[a0_0x1b487a(0x284)]='INFO',_0x16d990[a0_0x1b487a(0x64b)]='DARK',_0x16d990[a0_0x1b487a(0x2cb)]=a0_0x1b487a(0x2cb),_0x16d990[a0_0x1b487a(0x2f3)]=a0_0x1b487a(0x2f3),_0x16d990[a0_0x1b487a(0x401)]='VERBOSE',_0x16d990))(js||{}),Us=(_0x5ddec3=>(_0x5ddec3[a0_0x1b487a(0x14c)]=a0_0x1b487a(0x317),_0x5ddec3[a0_0x1b487a(0x284)]=a0_0x1b487a(0x1a0),_0x5ddec3[a0_0x1b487a(0x42e)]=a0_0x1b487a(0x639),_0x5ddec3[a0_0x1b487a(0x64b)]='\x1b[40m',_0x5ddec3[a0_0x1b487a(0x2cb)]=a0_0x1b487a(0x34d),_0x5ddec3[a0_0x1b487a(0x2f3)]=a0_0x1b487a(0x24f),_0x5ddec3[a0_0x1b487a(0x401)]=a0_0x1b487a(0x322),_0x5ddec3))(Us||{}),N=class{constructor(_0x1f023a=a0_0x1b487a(0x2fc)){const _0x4149ad=a0_0x1b487a;this[_0x4149ad(0x1e1)]=_0x1f023a,this['configService']=b;}[a0_0x1b487a(0x4ad)](_0x919346){this['context']=_0x919346;}[a0_0x1b487a(0x2dc)](_0x2f04f0,_0x48b2e0){const _0x16e841=a0_0x1b487a;let _0x46a7d5=[];this[_0x16e841(0x362)][_0x16e841(0x348)](_0x16e841(0x14c))['LEVEL'][_0x16e841(0x6d9)](_0xd1757c=>_0x46a7d5[_0x16e841(0xd3)](js[_0xd1757c]));let _0x354337=typeof _0x2f04f0;_0x46a7d5['includes'](_0x48b2e0)&&(b[_0x16e841(0x348)](_0x16e841(0x14c))['COLOR']?(console['log'](_0x16e841(0x14a)+Fs[_0x48b2e0],'\x1b[1m\x1b[37m',(0x0,ts[_0x16e841(0x66d)])()['format']('DD/MM\x20HH:mm:ss'),'\x1b[0m',ss[_0x48b2e0]+Us[_0x48b2e0]+_0x16e841(0x14a),_0x48b2e0+'\x20\x1b[0m',_0x16e841(0x26a),this[_0x16e841(0x1e1)]+'\x1b[0m',ss[_0x48b2e0],_0x354337!==_0x16e841(0x3e2)?_0x2f04f0:'',_0x16e841(0x4b9)),_0x354337===_0x16e841(0x3e2)&&console[_0x16e841(0x18d)](_0x2f04f0,'\x0a')):console['log']((0x0,ts['default'])()['format'](_0x16e841(0x2de)),_0x48b2e0+'\x20',''+this[_0x16e841(0x1e1)],_0x2f04f0));}[a0_0x1b487a(0x18d)](_0x1774b1){const _0x4d05cb=a0_0x1b487a;this[_0x4d05cb(0x2dc)](_0x1774b1,'LOG');}['info'](_0x184f88){const _0x324e52=a0_0x1b487a;this[_0x324e52(0x2dc)](_0x184f88,'INFO');}[a0_0x1b487a(0x3d4)](_0x4af5bb){const _0x25c6e9=a0_0x1b487a;this[_0x25c6e9(0x2dc)](_0x4af5bb,_0x25c6e9(0x42e));}[a0_0x1b487a(0x519)](_0x28e944){const _0x113f0f=a0_0x1b487a;this[_0x113f0f(0x2dc)](_0x28e944,'ERROR');}['verbose'](_0x571280){const _0xeee319=a0_0x1b487a;this[_0xeee319(0x2dc)](_0x571280,_0xeee319(0x401));}[a0_0x1b487a(0x57c)](_0x17ca31){const _0xa5f76f=a0_0x1b487a;this['console'](_0x17ca31,_0xa5f76f(0x2f3));}[a0_0x1b487a(0x164)](_0x303a44){const _0x370fb1=a0_0x1b487a;this[_0x370fb1(0x2dc)](_0x303a44,'DARK');}};function qs(){const _0x18d8f7=a0_0x1b487a;process['on']('uncaughtException',(_0x9c92d4,_0x300874)=>{const _0x5ebdb4=a0_0x32d2;new N(_0x5ebdb4(0x2e1))[_0x5ebdb4(0x519)]({'origin':_0x300874,'stderr':process[_0x5ebdb4(0x3fe)]['fd'],'error':_0x9c92d4});}),process['on'](_0x18d8f7(0x4f7),(_0x17785d,_0x1d7618)=>{const _0xacf20f=_0x18d8f7;new N('unhandledRejection')[_0xacf20f(0x519)]({'origin':_0x1d7618,'stderr':process['stderr']['fd'],'error':_0x17785d});});}var Js=T(require(a0_0x1b487a(0x3c7))),as=new Js[(a0_0x1b487a(0x66d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x1b487a(0x2e8)),rs=T(require(a0_0x1b487a(0x2e8))),qr=new N(a0_0x1b487a(0x5fa)),J=b[a0_0x1b487a(0x348)](a0_0x1b487a(0x4a5)),R=J['ENABLED']?J[a0_0x1b487a(0x7f)][a0_0x1b487a(0x671)]?rs[a0_0x1b487a(0x66d)][a0_0x1b487a(0x666)](J[a0_0x1b487a(0x7f)][a0_0x1b487a(0x671)],{'dbName':J[a0_0x1b487a(0x7f)][a0_0x1b487a(0x6d1)]+a0_0x1b487a(0x6b5)}):rs[a0_0x1b487a(0x66d)][a0_0x1b487a(0x666)](a0_0x1b487a(0x22b)+J['CONNECTION'][a0_0x1b487a(0x423)]+':'+J[a0_0x1b487a(0x7f)]['PORT']+a0_0x1b487a(0x23c),{'user':J[a0_0x1b487a(0x7f)][a0_0x1b487a(0x51c)],'pass':J['CONNECTION'][a0_0x1b487a(0x6e2)],'dbName':J[a0_0x1b487a(0x7f)][a0_0x1b487a(0x6d1)]+a0_0x1b487a(0x6b5)}):null;J[a0_0x1b487a(0x5ba)]&&qr[a0_0x1b487a(0x642)](a0_0x1b487a(0x222)+R['$dbName']);var Jr=new De[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x155805=>{const _0x1e246f=a0_0x1b487a;let _0x4907ef='z_'+_0x155805+_0x1e246f(0x4ee);return R?.[_0x1e246f(0x43a)](_0x1e246f(0x3c6),Br,_0x4907ef);},Bs=require(a0_0x1b487a(0x2e8)),Gr=new Bs[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x468b3e=>{const _0x13a835=a0_0x1b487a;let _0x57084a='z_'+_0x468b3e+'_Contacts';return R?.[_0x13a835(0x43a)](_0x13a835(0x52a),Gr,_0x57084a);},Ws=require(a0_0x1b487a(0x2e8)),Wr=new Ws[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0x2caaa6=>{const _0x1c7c4d=a0_0x1b487a;let _0x4f8e70='z_'+_0x2caaa6+_0x1c7c4d(0x1a4);return R?.[_0x1c7c4d(0x43a)](_0x1c7c4d(0x251),Wr,_0x4f8e70);},Hs=require(a0_0x1b487a(0x2e8)),is=class{},zr=new Hs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=R?.[a0_0x1b487a(0x43a)](is['name'],zr,a0_0x1b487a(0x45b)),Qs=require(a0_0x1b487a(0x2e8)),os=class{},Ys=new Qs[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ys[a0_0x1b487a(0x2d3)](a0_0x1b487a(0x6a3),function(_0x58aef9){const _0x23baaf=a0_0x1b487a;delete this[_0x23baaf(0x48c)],delete this[_0x23baaf(0x596)],delete this[_0x23baaf(0xf9)],delete this[_0x23baaf(0x6fb)],delete this[_0x23baaf(0x61c)],_0x58aef9();});var Xs=R?.[a0_0x1b487a(0x43a)](os[a0_0x1b487a(0x69e)],Ys,'webhook'),P=require('mongoose'),Zs=require(a0_0x1b487a(0x6b4)),_e=class{},ea=new P[(a0_0x1b487a(0x52b))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1b487a(0x14d)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1b487a(0x586)},'pollErrorMessage':{'type':String,'default':a0_0x1b487a(0x58b)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ta=new P[(a0_0x1b487a(0x52b))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P[(a0_0x1b487a(0x52b))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P[(a0_0x1b487a(0x52b))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),sa=new P[(a0_0x1b487a(0x52b))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x1b487a(0x52b))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),aa=new P[(a0_0x1b487a(0x52b))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Zs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2f86f9=a0_0x1b487a;return _0x2f86f9(0x403)+Math[_0x2f86f9(0x3c1)]()[_0x2f86f9(0x601)](0x24)[_0x2f86f9(0x240)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x1b487a(0x2d3)]('save',function(_0x1a374e){const _0x21504e=a0_0x1b487a;let _0x219e12=new Set(),_0x3f5d2a=new Set(this['variables']?.[_0x21504e(0x381)](_0x5ed623=>_0x5ed623[_0x21504e(0x69e)])),_0x4660ff=JSON[_0x21504e(0x11e)](this),_0x4b7d8c=/{{(?!_)([^}]*)}}/g,_0x36922f;for(;(_0x36922f=_0x4b7d8c[_0x21504e(0x2b6)](_0x4660ff))!==null;)_0x3f5d2a['has'](_0x36922f[0x1])||_0x219e12['add'](_0x36922f[0x1]);_0x219e12[_0x21504e(0x6e7)]>0x0?(console[_0x21504e(0x3d4)](_0x21504e(0x3b4),Array[_0x21504e(0x530)](_0x219e12)),this[_0x21504e(0x6f6)]=Array[_0x21504e(0x530)](_0x219e12)):this[_0x21504e(0x6f6)]=[],_0x1a374e();}),Pe[a0_0x1b487a(0x2d3)](a0_0x1b487a(0x684),function(_0x3001cd){const _0x506b73=a0_0x1b487a;let _0x3740b9=this[_0x506b73(0x1ec)]();if(_0x3740b9&&typeof _0x3740b9==_0x506b73(0x3e2)&&'$set'in _0x3740b9){let _0x5b03e3=_0x3740b9['$set'];if(_0x5b03e3){let _0x52feb8=new Set(),_0x47a4fe=new Set(_0x5b03e3[_0x506b73(0x224)]?.[_0x506b73(0x381)](_0x5f0a60=>_0x5f0a60[_0x506b73(0x69e)])),_0x1592de=JSON[_0x506b73(0x11e)](_0x5b03e3),_0x53e162=/{{(?!_)([^}]*)}}/g,_0x223dde;for(;(_0x223dde=_0x53e162[_0x506b73(0x2b6)](_0x1592de))!==null;)_0x47a4fe['has'](_0x223dde[0x1])||_0x52feb8['add'](_0x223dde[0x1]);_0x52feb8[_0x506b73(0x6e7)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x506b73(0x530)](_0x52feb8)),_0x5b03e3[_0x506b73(0x6f6)]=Array[_0x506b73(0x530)](_0x52feb8)):_0x5b03e3[_0x506b73(0x6f6)]=[],this[_0x506b73(0x62d)]({'$set':_0x5b03e3});}}_0x3001cd();});var ra=_0x12202d=>{const _0x1f0c07=a0_0x1b487a;let _0x5ae0fc='z_'+_0x12202d+_0x1f0c07(0x567);return R?.[_0x1f0c07(0x43a)](_0x1f0c07(0x607),Pe,_0x5ae0fc);},ia=R?.[a0_0x1b487a(0x43a)](cs[a0_0x1b487a(0x69e)],Pe,a0_0x1b487a(0x3c5)),Yr=new P[(a0_0x1b487a(0x52b))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},oa=new P[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1b487a(0x2fd)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1b487a(0x586)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),na=_0x5b4545=>{const _0xc20202=a0_0x1b487a;let _0x3287c8='z_'+_0x5b4545+'_FlowHistorico';return R?.[_0xc20202(0x43a)]('ConversationModel',oa,_0x3287c8);},ca=R?.[a0_0x1b487a(0x43a)](ls[a0_0x1b487a(0x69e)],oa,a0_0x1b487a(0x571)),us=class{},Xr=new P[(a0_0x1b487a(0x52b))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x1b487a(0x52b))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),la=new P[(a0_0x1b487a(0x52b))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x1b487a(0x63a)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ua=_0x274f6e=>{const _0x396fed=a0_0x1b487a;let _0x20b633='z_'+_0x274f6e+_0x396fed(0x2bc);return R?.[_0x396fed(0x43a)]('ScheduleMessageModel',la,_0x20b633);},da=R?.[a0_0x1b487a(0x43a)](us[a0_0x1b487a(0x69e)],la,'scheduleMessages'),ds=class{},ei=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P[(a0_0x1b487a(0x52b))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x1b487a(0x43a)](ds[a0_0x1b487a(0x69e)],ai,a0_0x1b487a(0x5a9)),pa=require(a0_0x1b487a(0x2e8)),ri=new pa[(a0_0x1b487a(0x52b))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ha=_0x53a7a4=>{const _0x358b91=a0_0x1b487a;let _0x264011='z_'+_0x53a7a4+_0x358b91(0x5d4);return R?.[_0x358b91(0x43a)]('LabelModel',ri,_0x264011);},D=class{constructor(_0x7eeeae){const _0x37e985=a0_0x1b487a;this[_0x37e985(0x54a)]=_0x7eeeae[_0x37e985(0x348)](_0x37e985(0x4a5));}};function A(_0x23a080){const _0x580e03=a0_0x1b487a;let _0x5bed4e={};for(let [_0x3c145b,_0x277a8e]of Object[_0x580e03(0x636)](_0x23a080))if(typeof _0x277a8e==_0x580e03(0x3e2)&&!Array['isArray'](_0x277a8e)){for(let [_0x3dd816,_0x5a71b0]of Object[_0x580e03(0x636)](_0x277a8e))_0x5bed4e[_0x3c145b+'.'+_0x3dd816]=_0x5a71b0;}else _0x5bed4e[_0x3c145b]=_0x277a8e;return _0x5bed4e;}var ke=class{constructor(_0x26f013,_0x5be3d5,_0x23ed21,_0x1f32ee,_0x3387dc,_0x2431d7,_0x482a37,_0x5ea17d,_0x3c9dc0,_0xf7bd68,_0x17ff37){const _0x42da5d=a0_0x1b487a;this[_0x42da5d(0x531)]=_0x26f013,this[_0x42da5d(0x23d)]=_0x5be3d5,this[_0x42da5d(0x1ed)]=_0x23ed21,this[_0x42da5d(0x581)]=_0x1f32ee,this[_0x42da5d(0x282)]=_0x3387dc,this[_0x42da5d(0x3c5)]=_0x2431d7,this[_0x42da5d(0x571)]=_0x482a37,this[_0x42da5d(0xa1)]=_0x5ea17d,this['scheduleMessage']=_0x3c9dc0,this[_0x42da5d(0x2f0)]=_0xf7bd68,this[_0x42da5d(0x426)]=_0x17ff37;}get[a0_0x1b487a(0x562)](){const _0x1c5ba9=a0_0x1b487a;return this[_0x1c5ba9(0x426)];}},Le=class{},Fe=class extends D{['getMessageModelForOwner'](_0x44306f){return zs(_0x44306f);}async[a0_0x1b487a(0x24c)](_0x10d3b6,_0x557877){const _0x26dd54=a0_0x1b487a;if(_0x10d3b6['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x26dd54(0x283)](_0x557877)['insertMany']([..._0x10d3b6]))[_0x26dd54(0x573)]};}catch(_0x398963){return _0x398963;}}async[a0_0x1b487a(0x3a8)](_0x492ff7,_0x1d0a8f){const _0x4ef4e6=a0_0x1b487a;try{let _0x146bb5=this['getMessageModelForOwner'](_0x1d0a8f),_0x508b82=A(_0x492ff7[_0x4ef4e6(0x85)]);return await _0x146bb5[_0x4ef4e6(0x3a8)](_0x508b82)[_0x4ef4e6(0x50f)]({'messageTimestamp':-0x1})['limit'](_0x492ff7?.[_0x4ef4e6(0x2bf)]??0x0)[_0x4ef4e6(0x3dd)]();}catch{return[];}}async['delete'](_0x567520,_0x583acc){const _0x504de1=a0_0x1b487a;try{let _0x53c25f=this[_0x504de1(0x283)](_0x583acc),_0x380869=A(_0x567520['where']);await _0x53c25f[_0x504de1(0x359)](_0x380869);}catch(_0x50490c){console[_0x504de1(0x519)](_0x50490c);}}async['update'](_0x1ca0a2,_0xeb887,_0x55c167){const _0x32ffab=a0_0x1b487a;try{let _0x16519f=this[_0x32ffab(0x283)](_0x55c167),_0x5a72d5=A(_0x1ca0a2[_0x32ffab(0x85)]);return await _0x16519f['findOneAndUpdate'](_0x5a72d5,{'$set':_0xeb887},{'new':!0x0});}catch(_0x310662){throw console[_0x32ffab(0x519)](_0x310662),_0x310662;}}async[a0_0x1b487a(0x68f)](_0x142e2e,_0x42a556){const _0x5b8c24=a0_0x1b487a;if(_0x142e2e['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5b8c24(0x283)](_0x42a556)[_0x5b8c24(0x68f)]([..._0x142e2e]))[_0x5b8c24(0x573)]};}catch(_0x1eae01){return console[_0x5b8c24(0x18d)](_0x5b8c24(0x622),_0x1eae01),_0x1eae01;}}async[a0_0x1b487a(0x687)](_0x8a7edf){const _0x1bae22=a0_0x1b487a;try{return await this['getMessageModelForOwner'](_0x8a7edf)[_0x1bae22(0xce)][_0x1bae22(0x1b1)](),{'success':!0x0};}catch(_0x38c224){return console['error'](_0x38c224),{'success':!0x1,'error':_0x38c224};}}},yr=T(require(a0_0x1b487a(0x37e))),g=T(require(a0_0x1b487a(0x103))),ve=require('fs'),j=T(require('path')),se=T(require(a0_0x1b487a(0x3ac))),br=require(a0_0x1b487a(0x6b4)),Sr=T(require(a0_0x1b487a(0x256))),Er=T(require(a0_0x1b487a(0x540))),ga=['imageMessage','documentMessage',a0_0x1b487a(0x335),a0_0x1b487a(0x36b),'stickerMessage'],ma=['ephemeralMessage',a0_0x1b487a(0x57d),a0_0x1b487a(0xe2),a0_0x1b487a(0x106)],Es=require('os'),It=T(require(a0_0x1b487a(0x198))),Pt=require(a0_0x1b487a(0x658)),xt=require('node-mime-types'),ce=T(require(a0_0x1b487a(0x2e8))),$=require(a0_0x1b487a(0x39b)),me=class{constructor(_0x555e1a,_0x3bb5e2,_0x1578e2){const _0x5b88a7=a0_0x1b487a;this['jid']=_0x555e1a,this[_0x5b88a7(0x1be)]=_0x3bb5e2,this[_0x5b88a7(0x69e)]=_0x1578e2;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require(a0_0x1b487a(0x33e))),fa=require('fs'),wa=require(a0_0x1b487a(0x60d));async function ze(_0x18cea6){const _0x364ed2=a0_0x1b487a;let _0x120ada=V[_0x364ed2(0x2b3)][_0x18cea6];if(J[_0x364ed2(0x5ba)]){let _0xe7ae0e=R['getClient']()['db'](J[_0x364ed2(0x7f)][_0x364ed2(0x6d1)]+_0x364ed2(0x3e8))[_0x364ed2(0xce)](_0x18cea6);return _0x120ada||(await _0xe7ae0e[_0x364ed2(0x3a8)]({})[_0x364ed2(0x28f)]())['length']>0x0;}return _0x120ada||(0x0,fa['existsSync'])((0x0,wa[_0x364ed2(0xf6)])(ge,_0x18cea6));}async function ya(_0x15b8fe,_0x30910f,_0x37cdab){const _0x5db998=a0_0x1b487a;if(_0x15b8fe[_0x5db998(0x29f)]['includes'](_0x5db998(0x6cd))||_0x15b8fe[_0x5db998(0x29f)][_0x5db998(0x56d)](_0x5db998(0x458))||_0x15b8fe[_0x5db998(0x29f)][_0x5db998(0x56d)](_0x5db998(0xa8))||_0x15b8fe[_0x5db998(0x29f)][_0x5db998(0x56d)](_0x5db998(0x407))||_0x15b8fe[_0x5db998(0x29f)][_0x5db998(0x56d)](_0x5db998(0x332))||_0x15b8fe[_0x5db998(0x29f)][_0x5db998(0x56d)](_0x5db998(0xe5))||_0x15b8fe[_0x5db998(0x29f)][_0x5db998(0x56d)](_0x5db998(0x61a)))return _0x37cdab();let _0x5d3919=_0x15b8fe[_0x5db998(0x7c)];if(!_0x5d3919?.[_0x5db998(0x39e)])throw new w(_0x5db998(0x2ef));if(!await ze(_0x5d3919[_0x5db998(0x39e)]))throw new k(_0x5db998(0x259)+_0x5d3919[_0x5db998(0x39e)]+_0x5db998(0x157));_0x37cdab();}async function ba(_0x1d4f0f,_0x3a0d42,_0x15acda){const _0x40848f=a0_0x1b487a;if(_0x1d4f0f['originalUrl'][_0x40848f(0x56d)](_0x40848f(0x6cd))){let _0x352bc1=_0x1d4f0f[_0x40848f(0x5dd)];if(await ze(_0x352bc1['instanceName']))throw new H('This\x20name\x20'+_0x352bc1[_0x40848f(0x39e)]+_0x40848f(0x5f4));V[_0x40848f(0x2b3)][_0x352bc1['instanceName']]&&delete V['waInstances'][_0x352bc1[_0x40848f(0x39e)]];}_0x15acda();}var Sa=require(a0_0x1b487a(0x39b)),Ea=T(require(a0_0x1b487a(0x3a2))),He=a0_0x1b487a(0x647),oi=new N(a0_0x1b487a(0x333));async function ni(_0x19baf2,_0x19c387,_0x3cb62e){const _0x241680=a0_0x1b487a;let _0x3448fe=_0x19baf2[_0x241680(0x348)](_0x241680(0x9c));if(_0x3448fe&&b['get']('AUTHENTICATION')['API_KEY'][_0x241680(0x5e9)]!==_0x3448fe)throw new Z();if(b['get'](_0x241680(0x65f))[_0x241680(0x472)]['KEY']===_0x3448fe)return _0x3cb62e();if((_0x19baf2[_0x241680(0x29f)][_0x241680(0x56d)](_0x241680(0x6cd))||_0x19baf2['originalUrl'][_0x241680(0x56d)](_0x241680(0x458)))&&!_0x3448fe)throw new H(_0x241680(0x6e1),_0x241680(0x527));let _0x4744c5=b[_0x241680(0x348)](_0x241680(0x65f))['JWT'];try{let [_0x4a34b4,_0x2d5d11]=_0x19baf2[_0x241680(0x348)](_0x241680(0x69d))[_0x241680(0x4b1)]('\x20');if(_0x4a34b4[_0x241680(0x3d2)]()!==_0x241680(0x559))throw new Z();if(!(0x0,Sa['isJWT'])(_0x2d5d11))throw new Z();let _0x5e08fb=_0x19baf2[_0x241680(0x7c)],_0x4045c7=Ea[_0x241680(0x66d)][_0x241680(0x17b)](_0x2d5d11,_0x4744c5['SECRET'],{'ignoreExpiration':_0x4744c5[_0x241680(0x69c)]===0x0});if(_0x5e08fb[_0x241680(0x39e)]!==_0x4045c7[_0x241680(0x39e)]||He!==_0x4045c7[_0x241680(0x1af)])throw new Z();return _0x3cb62e();}catch(_0x558aa5){throw oi['error'](_0x558aa5),new Z();}}async function ci(_0x24bf5e,_0x4530aa,_0x42432e){const _0x34f036=a0_0x1b487a;let _0x4ed36c=b[_0x34f036(0x348)](_0x34f036(0x65f))[_0x34f036(0x472)],_0x46ca66=_0x24bf5e[_0x34f036(0x348)](_0x34f036(0x9c));if(_0x4ed36c[_0x34f036(0x5e9)]===_0x46ca66)return _0x42432e();if(_0x24bf5e[_0x34f036(0x29f)][_0x34f036(0x56d)]('/instance/create')){let _0x2ceb0b=Ke,_0x9427ee=_0x24bf5e[_0x34f036(0x5dd)][_0x34f036(0x39e)];if(_0x2ceb0b&&_0x9427ee[_0x34f036(0x3d2)]()[_0x34f036(0x62f)](_0x2ceb0b[_0x34f036(0x3d2)]()))return _0x42432e();if(!_0x46ca66)throw new H(_0x34f036(0x6e1),_0x34f036(0x527));}if(_0x24bf5e[_0x34f036(0x29f)]['includes']('/instance/fetchInstances')&&!_0x46ca66)throw new H(_0x34f036(0x6e1),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x24bf5e['originalUrl'][_0x34f036(0x56d)]('/exit')&&!_0x46ca66)throw new H(_0x34f036(0x6e1),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x24bf5e[_0x34f036(0x29f)][_0x34f036(0x56d)](_0x34f036(0x407))&&!_0x46ca66)throw new H('Missing\x20global\x20api\x20key',_0x34f036(0x527));try{let _0x58e1af=_0x24bf5e[_0x34f036(0x7c)];if((await ue[_0x34f036(0x282)]['find'](_0x58e1af[_0x34f036(0x39e)]))[_0x34f036(0x9c)]===_0x46ca66)return _0x42432e();}catch{}throw new Z();}var Ca={'jwt':ni,'apikey':ci},sr=require(a0_0x1b487a(0x33e)),C=require(a0_0x1b487a(0x6b4)),E=(..._0x54c32d)=>{const _0x460760=a0_0x1b487a;let _0x3aea5e={};return _0x54c32d['forEach'](_0x5229ba=>_0x3aea5e[_0x5229ba]={'minLength':0x1,'description':'The\x20\x22'+_0x5229ba+_0x460760(0x2a9)}),{'if':{'propertyNames':{'enum':[..._0x54c32d]}},'then':{'properties':_0x3aea5e}};},v={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'instanceName':{'type':a0_0x1b487a(0x10a)}},...E(a0_0x1b487a(0x39e))},Qn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1b487a(0x10a)}},'required':['oldToken'],...E(a0_0x1b487a(0x347))},Yn={'properties':{'key':{'type':a0_0x1b487a(0x3e2),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1b487a(0x10a)},'fromMe':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1b487a(0x38f),a0_0x1b487a(0x19a)],...E('id',a0_0x1b487a(0x38f))},'message':{'type':'object'}}},K={'properties':{'delay':{'type':a0_0x1b487a(0x62a),'description':a0_0x1b487a(0x5f6)},'presence':{'type':'string','enum':[a0_0x1b487a(0x6c5),a0_0x1b487a(0x4ef),a0_0x1b487a(0x554),a0_0x1b487a(0x324),a0_0x1b487a(0xeb)]}}},W={'type':a0_0x1b487a(0x10a),'pattern':a0_0x1b487a(0x384),'description':'Invalid\x20format'},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'text':{'type':a0_0x1b487a(0x10a)}},'required':[a0_0x1b487a(0x2f1)],...E(a0_0x1b487a(0x2f1))}},'required':['textMessage',a0_0x1b487a(0x5f5)]},va={'type':a0_0x1b487a(0x10a),'pattern':a0_0x1b487a(0x474),'description':a0_0x1b487a(0xd8)},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'number':{...va},'options':{...K},'textMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'text':{'type':a0_0x1b487a(0x10a)}},'required':[a0_0x1b487a(0x2f1)],...E(a0_0x1b487a(0x2f1))}},'required':[a0_0x1b487a(0x6b0),'number']},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'number':{...va},'options':{...K},'mediaMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'mediatype':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0x147),a0_0x1b487a(0x5e0),a0_0x1b487a(0x116),a0_0x1b487a(0xc2)]},'media':{'type':a0_0x1b487a(0x10a)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x1b487a(0x5b6),a0_0x1b487a(0x3ea)],...E(a0_0x1b487a(0x3ec),a0_0x1b487a(0x5c2),a0_0x1b487a(0x3ea))}},'required':['mediaMessage',a0_0x1b487a(0x5f5)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x1b487a(0x10a)}},'required':['image'],...E('image')}},'required':['stickerMessage',a0_0x1b487a(0x5f5)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x1b487a(0x2f1),a0_0x1b487a(0x147),a0_0x1b487a(0xc2),a0_0x1b487a(0x116)]},'content':{'type':'string'},'caption':{'type':a0_0x1b487a(0x10a)},'backgroundColor':{'type':a0_0x1b487a(0x10a)},'font':{'type':a0_0x1b487a(0x62a),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b487a(0x10a),'pattern':a0_0x1b487a(0x2d2),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]}},'required':['type','content'],...E(a0_0x1b487a(0x337),a0_0x1b487a(0x2e0))}},'required':['statusMessage']},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0x147),a0_0x1b487a(0x5e0),a0_0x1b487a(0x116),a0_0x1b487a(0xc2)]},'media':{'type':a0_0x1b487a(0x10a)},'fileName':{'type':a0_0x1b487a(0x10a)},'caption':{'type':a0_0x1b487a(0x10a)}},'required':['mediatype',a0_0x1b487a(0x3ea)],...E('fileName','caption','media')}},'required':[a0_0x1b487a(0x65a),'number']},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'audio':{'type':'string'}},'required':[a0_0x1b487a(0xc2)],...E('audio')}},'required':[a0_0x1b487a(0x335),a0_0x1b487a(0x5f5)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'number':{...W},'pollMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'name':{'type':a0_0x1b487a(0x10a)},'selectableCount':{'type':a0_0x1b487a(0x5f5)},'values':{'type':a0_0x1b487a(0x303),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1b487a(0x69e),'selectableCount',a0_0x1b487a(0x4cf)],...E(a0_0x1b487a(0x69e),a0_0x1b487a(0xf1),'values')}},'required':[a0_0x1b487a(0x5f5),a0_0x1b487a(0x5cd)]},Ia={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x1b487a(0x10a)},'choices':{'type':a0_0x1b487a(0x303),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1b487a(0x2f1),a0_0x1b487a(0x207)],...E(a0_0x1b487a(0x2f1),a0_0x1b487a(0x207))}},'required':['number',a0_0x1b487a(0x25f)]},xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'title':{'type':a0_0x1b487a(0x10a)},'description':{'type':'string'},'footerText':{'type':a0_0x1b487a(0x10a)},'buttons':{'type':a0_0x1b487a(0x303),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x1b487a(0x10a)}},'required':['buttonText',a0_0x1b487a(0x2ad)],...E(a0_0x1b487a(0x2a3),a0_0x1b487a(0x2ad))}},'mediaMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'media':{'type':a0_0x1b487a(0x10a)},'fileName':{'type':a0_0x1b487a(0x10a)},'mediatype':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0x147),a0_0x1b487a(0x5e0),a0_0x1b487a(0x116)]}},'required':[a0_0x1b487a(0x3ea),a0_0x1b487a(0x5b6)],...E(a0_0x1b487a(0x3ea),a0_0x1b487a(0x3ec))}},'required':['title',a0_0x1b487a(0x3fd)],...E(a0_0x1b487a(0x43d),a0_0x1b487a(0x339))}},'required':[a0_0x1b487a(0x5f5),a0_0x1b487a(0x3f7)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'latitude':{'type':a0_0x1b487a(0x5f5)},'longitude':{'type':a0_0x1b487a(0x5f5)},'name':{'type':a0_0x1b487a(0x10a)},'address':{'type':a0_0x1b487a(0x10a)}},'required':['latitude',a0_0x1b487a(0x1f7)],...E(a0_0x1b487a(0x69e),'addresss')}},'required':[a0_0x1b487a(0x5f5),a0_0x1b487a(0x5e2)]},_a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'title':{'type':a0_0x1b487a(0x10a)},'description':{'type':a0_0x1b487a(0x10a)},'footerText':{'type':a0_0x1b487a(0x10a)},'buttonText':{'type':'string'},'sections':{'type':a0_0x1b487a(0x303),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b487a(0x3e2),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x1b487a(0x303),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b487a(0x3e2),'properties':{'title':{'type':a0_0x1b487a(0x10a)},'description':{'type':'string'},'rowId':{'type':a0_0x1b487a(0x10a)}},'required':[a0_0x1b487a(0x43d),a0_0x1b487a(0x1d4)],...E(a0_0x1b487a(0x43d),a0_0x1b487a(0x1d4))}}},'required':[a0_0x1b487a(0x43d),a0_0x1b487a(0x626)],...E(a0_0x1b487a(0x43d))}}},'required':[a0_0x1b487a(0x43d),a0_0x1b487a(0x339),a0_0x1b487a(0x2a3),a0_0x1b487a(0x24e)],...E(a0_0x1b487a(0x43d),a0_0x1b487a(0x339),a0_0x1b487a(0x2a3),a0_0x1b487a(0x4cc))}},'required':[a0_0x1b487a(0x5f5),a0_0x1b487a(0x321)]},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x1b487a(0x303),'items':{'type':'object','properties':{'fullName':{'type':a0_0x1b487a(0x10a)},'phoneNumber':{'type':a0_0x1b487a(0x10a),'minLength':0xa}},'required':[a0_0x1b487a(0x2be),a0_0x1b487a(0x3a7)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x1b487a(0x683)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'reactionMessage':{'type':a0_0x1b487a(0x3e2),'properties':{'key':{'type':a0_0x1b487a(0x3e2),'properties':{'id':{'type':a0_0x1b487a(0x10a)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1b487a(0x19a)],...E('id',a0_0x1b487a(0x38f))},'reaction':{'type':a0_0x1b487a(0x10a)}},'required':[a0_0x1b487a(0xff),a0_0x1b487a(0x4eb)],...E('reaction')}},'required':[a0_0x1b487a(0x65b)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'numbers':{'type':a0_0x1b487a(0x303),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b487a(0x10a),'pattern':a0_0x1b487a(0x2d2),'description':a0_0x1b487a(0x64a)}}}},La={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'readMessages':{'type':a0_0x1b487a(0x303),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1b487a(0x10a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1b487a(0x10a)}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x1b487a(0x38f))}}},'required':[a0_0x1b487a(0x568)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'privacySettings':{'type':a0_0x1b487a(0x3e2),'properties':{'readreceipts':{'type':a0_0x1b487a(0x10a),'enum':['all',a0_0x1b487a(0x5b2)]},'profile':{'type':a0_0x1b487a(0x10a),'enum':['all','contacts',a0_0x1b487a(0x3f5),a0_0x1b487a(0x5b2)]},'status':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0x656),a0_0x1b487a(0x135),a0_0x1b487a(0x3f5),a0_0x1b487a(0x5b2)]},'online':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0x656),a0_0x1b487a(0x14e)]},'last':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0x656),a0_0x1b487a(0x135),a0_0x1b487a(0x3f5),a0_0x1b487a(0x5b2)]},'groupadd':{'type':'string','enum':[a0_0x1b487a(0x656),a0_0x1b487a(0x135),a0_0x1b487a(0x3f5),'none']}},'required':['readreceipts',a0_0x1b487a(0x29b),'status',a0_0x1b487a(0x51e),'last',a0_0x1b487a(0x235)],...E(a0_0x1b487a(0x509),a0_0x1b487a(0x29b),'status',a0_0x1b487a(0x51e),a0_0x1b487a(0x24b),'groupadd')}},'required':['privacySettings']},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1b487a(0x10a)},'remoteJid':{'type':a0_0x1b487a(0x10a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1b487a(0x19a),a0_0x1b487a(0x38f)],...E('id',a0_0x1b487a(0x38f))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...E(a0_0x1b487a(0x122))},'archive':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]}},'required':[a0_0x1b487a(0x3bf),a0_0x1b487a(0x507)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1b487a(0x10a)},'participant':{'type':a0_0x1b487a(0x10a)}},'required':['id',a0_0x1b487a(0x19a),a0_0x1b487a(0x38f)],...E('id',a0_0x1b487a(0x38f),a0_0x1b487a(0x93))},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'where':{'type':a0_0x1b487a(0x3e2),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x1b487a(0x127),'id',a0_0x1b487a(0x327))}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'name':{'type':a0_0x1b487a(0x10a)}},...E(a0_0x1b487a(0x69e))},Va={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'status':{'type':a0_0x1b487a(0x10a)}},...E(a0_0x1b487a(0x14f))},Se={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':a0_0x1b487a(0x10a)}}},Ba={'type':a0_0x1b487a(0x3e2),'properties':{'wuid':{'type':a0_0x1b487a(0x10a)},'name':{'type':a0_0x1b487a(0x10a)},'picture':{'type':a0_0x1b487a(0x10a)},'status':{'type':a0_0x1b487a(0x10a)},'isBusiness':{'type':a0_0x1b487a(0x4d1)}}},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x1b487a(0x3e2),'properties':{'_id':{'type':a0_0x1b487a(0x10a),'minLength':0x1},'key':{'type':a0_0x1b487a(0x3e2),'if':{'propertyNames':{'enum':[a0_0x1b487a(0x19a),a0_0x1b487a(0x38f),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1b487a(0x10a),'minLength':0x1,'description':a0_0x1b487a(0x244)},'id':{'type':a0_0x1b487a(0x10a),'minLength':0x1,'description':a0_0x1b487a(0x244)},'fromMe':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1b487a(0x3e2)}},...E(a0_0x1b487a(0x127))},'limit':{'type':'integer'}}},ec={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'where':{'type':a0_0x1b487a(0x3e2),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':a0_0x1b487a(0x10a)},'fromMe':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1b487a(0x10a)},'status':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0x2cb),a0_0x1b487a(0xa2),a0_0x1b487a(0x253),'DELIVERY_ACK',a0_0x1b487a(0x4fa),a0_0x1b487a(0x6c7)]}},...E(a0_0x1b487a(0x127),a0_0x1b487a(0x38f),'id',a0_0x1b487a(0x14f))},'limit':{'type':'integer'}}},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'number':{...W},'presence':{'type':'string','enum':[a0_0x1b487a(0x6c5),a0_0x1b487a(0x4ef),a0_0x1b487a(0x554),a0_0x1b487a(0x324),a0_0x1b487a(0xeb)]}},'required':[a0_0x1b487a(0x2bd),'number']},za={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'subject':{'type':a0_0x1b487a(0x10a)},'description':{'type':a0_0x1b487a(0x10a)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x1b487a(0x303),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b487a(0x10a),'minLength':0xa,'pattern':a0_0x1b487a(0x132),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x1b487a(0x5b5),a0_0x1b487a(0x129)],...E('subject',a0_0x1b487a(0x339),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'groupJid':{'type':a0_0x1b487a(0x10a),'pattern':a0_0x1b487a(0x504)}},'required':[a0_0x1b487a(0x44c)],...E('groupJid')},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x1b487a(0x3f9),a0_0x1b487a(0x353),a0_0x1b487a(0x26e),a0_0x1b487a(0x49a)]},'participants':{'type':a0_0x1b487a(0x303),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1b487a(0x10a),'minLength':0xa,'pattern':a0_0x1b487a(0x132),'description':a0_0x1b487a(0x123)}}},'required':[a0_0x1b487a(0x44c),a0_0x1b487a(0x3c3),a0_0x1b487a(0x129)],...E(a0_0x1b487a(0x44c),'action')},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x1b487a(0x5f5),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1b487a(0x44c),a0_0x1b487a(0x195)],...E(a0_0x1b487a(0x44c),a0_0x1b487a(0x195))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'groupJid':{'type':a0_0x1b487a(0x10a)},'image':{'type':'string'}},'required':[a0_0x1b487a(0x44c),a0_0x1b487a(0x147)],...E(a0_0x1b487a(0x44c),a0_0x1b487a(0x147))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'groupJid':{'type':a0_0x1b487a(0x10a)},'description':{'type':'string'}},'required':[a0_0x1b487a(0x44c),a0_0x1b487a(0x339)],...E(a0_0x1b487a(0x44c),a0_0x1b487a(0x339))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x1b487a(0x10a)}},'required':[a0_0x1b487a(0x44c),a0_0x1b487a(0x69e)],...E(a0_0x1b487a(0x44c),'name')},Za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1b487a(0x10a)},'setting':{'type':a0_0x1b487a(0x10a),'enum':[a0_0x1b487a(0xf3),a0_0x1b487a(0x36f),a0_0x1b487a(0x63b),a0_0x1b487a(0x5d9)]}},'required':[a0_0x1b487a(0x44c),a0_0x1b487a(0x5b8)],...E(a0_0x1b487a(0x44c),a0_0x1b487a(0x5b8))},er={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'inviteCode':{'type':a0_0x1b487a(0x10a)}},'required':[a0_0x1b487a(0x6da)],...E(a0_0x1b487a(0x6da))},tr={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'url':{'type':a0_0x1b487a(0x10a)},'enabled':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]}},'required':['url','enabled']},tc={'$id':(0x0,C['v4'])(),'type':a0_0x1b487a(0x3e2),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1b487a(0x4d1),'enum':[!0x0,!0x1]}},'required':[a0_0x1b487a(0x4e9),a0_0x1b487a(0x68e),a0_0x1b487a(0x523),a0_0x1b487a(0x4b5),a0_0x1b487a(0x434),a0_0x1b487a(0x3ee),a0_0x1b487a(0x55e),a0_0x1b487a(0x35c),a0_0x1b487a(0x55c),a0_0x1b487a(0xe3),a0_0x1b487a(0x88),a0_0x1b487a(0x442),'CHATS_UPSERT',a0_0x1b487a(0x60b),a0_0x1b487a(0x10b),a0_0x1b487a(0x1d0),a0_0x1b487a(0x4f2),a0_0x1b487a(0x5d6),a0_0x1b487a(0x5b9)],...E(a0_0x1b487a(0x4e9),'STATUS_INSTANCE',a0_0x1b487a(0x523),a0_0x1b487a(0x4b5),a0_0x1b487a(0x434),a0_0x1b487a(0x3ee),a0_0x1b487a(0x55e),a0_0x1b487a(0x35c),a0_0x1b487a(0x55c),a0_0x1b487a(0xe3),'PRESENCE_UPDATE',a0_0x1b487a(0x442),'CHATS_UPSERT',a0_0x1b487a(0x60b),a0_0x1b487a(0x10b),a0_0x1b487a(0x1d0),a0_0x1b487a(0x4f2),a0_0x1b487a(0x5d6),a0_0x1b487a(0x5b9))},Qe=class{},Ye=class extends D{[a0_0x1b487a(0x1ae)](_0x3e7205){return Gs(_0x3e7205);}async[a0_0x1b487a(0x24c)](_0x3f808e){const _0x5a46ee=a0_0x1b487a;if(_0x3f808e[_0x5a46ee(0x573)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x3f808e[0x0][_0x5a46ee(0x648)])[_0x5a46ee(0x68f)]([..._0x3f808e]))['length']};}catch(_0x56b53b){return _0x56b53b;}}async[a0_0x1b487a(0x522)](_0x4d70a9,_0x1a7fe9){const _0x405a49=a0_0x1b487a;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x1a7fe9)[_0x405a49(0x359)]({..._0x4d70a9[_0x405a49(0x85)]}))[_0x405a49(0x5f7)]};}catch(_0x18063b){return{'error':_0x18063b?.[_0x405a49(0x601)]()};}}async['update'](_0xd4c7ff,_0x37baf9){const _0x4c3836=a0_0x1b487a;try{if(_0xd4c7ff[_0x4c3836(0x573)]===0x0)return;let _0x357c46=this[_0x4c3836(0x1ae)](_0x37baf9),_0x69355e=_0xd4c7ff['map'](_0xb55e0b=>({'updateOne':{'filter':{'_id':_0xb55e0b[_0x4c3836(0x127)],'owner':_0x37baf9},'update':{..._0xb55e0b}}})),{modifiedCount:_0x477ffd}=await _0x357c46[_0x4c3836(0x229)](_0x69355e);return{'insertCount':_0x477ffd};}catch{return;}}async['find'](_0x38a2e4,_0x30606c){const _0x2d119a=a0_0x1b487a;try{let _0x5cc45d=this[_0x2d119a(0x1ae)](_0x30606c),_0xde3eb6=A(_0x38a2e4[_0x2d119a(0x85)]);return await _0x5cc45d[_0x2d119a(0x3a8)](_0xde3eb6)['limit'](_0x38a2e4?.['limit']??0x0)[_0x2d119a(0x3dd)]();}catch{return[];}}async['findOne'](_0x4646bf,_0x53e7f5){const _0x13991d=a0_0x1b487a;try{let _0x16454f=this['getContactModelForOwner'](_0x53e7f5),_0x34540b=A(_0x4646bf['where']);return await _0x16454f[_0x13991d(0x547)](_0x34540b)[_0x13991d(0x3dd)]();}catch{return null;}}async[a0_0x1b487a(0x687)](_0x185b3f){const _0x24b2b5=a0_0x1b487a;try{return await this[_0x24b2b5(0x1ae)](_0x185b3f)[_0x24b2b5(0xce)][_0x24b2b5(0x1b1)](),{'success':!0x0};}catch(_0x32329a){return console[_0x24b2b5(0x519)](_0x32329a),{'success':!0x1,'error':_0x32329a};}}},Xe=require(a0_0x1b487a(0x5c5)),uc=require(a0_0x1b487a(0x51f)),hs=new N('Validate'),U=class{[a0_0x1b487a(0xa5)](_0xf2a31,_0x443c5a=!0x0){const _0x8ea8b7=a0_0x1b487a;let _0x26e1ca='/'+_0xf2a31;return _0x443c5a&&(_0x26e1ca+=_0x8ea8b7(0x492)),_0x26e1ca;}async[a0_0x1b487a(0x1e4)](_0x19b4d3){const _0xaa7b34=a0_0x1b487a;let {request:_0x15e41a,schema:_0xa5361,ClassRef:_0x5c59e0,execute:_0x3890a8}=_0x19b4d3,_0x331ece=new _0x5c59e0(),_0x5144c5=_0x15e41a['body'],_0x5592e6=_0x15e41a[_0xaa7b34(0x7c)];_0x15e41a?.[_0xaa7b34(0x440)]&&Object['keys'](_0x15e41a[_0xaa7b34(0x440)])[_0xaa7b34(0x573)]>0x0&&Object[_0xaa7b34(0x4bc)](_0x5592e6,_0x15e41a[_0xaa7b34(0x440)]),_0x15e41a['originalUrl'][_0xaa7b34(0x56d)](_0xaa7b34(0x6cd))&&Object[_0xaa7b34(0x4bc)](_0x5592e6,_0x5144c5),Object[_0xaa7b34(0x4bc)](_0x331ece,_0x5144c5);let _0x40b611=_0xa5361?(0x0,Xe[_0xaa7b34(0x60a)])(_0x331ece,_0xa5361):{'valid':!0x0,'errors':[]};if(!_0x40b611[_0xaa7b34(0x526)]){let _0x2a8cce=_0x40b611[_0xaa7b34(0x1ee)]['map'](({property:_0x10d6fe,stack:_0x2b0a0e,schema:_0x4c6542})=>{const _0x2ae2cb=_0xaa7b34;let _0x2f887b;return _0x4c6542[_0x2ae2cb(0x339)]?_0x2f887b=_0x4c6542[_0x2ae2cb(0x339)]:_0x2f887b=_0x2b0a0e[_0x2ae2cb(0x168)](_0x2ae2cb(0x16a),''),{'property':_0x10d6fe[_0x2ae2cb(0x168)](_0x2ae2cb(0x16a),''),'message':_0x2f887b};});throw hs[_0xaa7b34(0x519)]([..._0x2a8cce]),new w(..._0x2a8cce);}return await _0x3890a8(_0x5592e6,_0x331ece);}async[a0_0x1b487a(0x27b)](_0x500e08){const _0x335760=a0_0x1b487a;let {request:_0x7554bd,ClassRef:_0x489222,schema:_0x141f60,execute:_0x5159cf}=_0x500e08,_0x2a24b6=_0x7554bd['query'];if(!_0x2a24b6?.['groupJid'])throw new w('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ex:\x20\x22groupJid=120362@g.us\x22');let _0x27239e=_0x7554bd[_0x335760(0x7c)],_0x298706=_0x7554bd['body'],_0x1e4c0a=new _0x489222();Object[_0x335760(0x4bc)](_0x298706,_0x2a24b6),Object[_0x335760(0x4bc)](_0x1e4c0a,_0x298706);let _0x4b1ef0=(0x0,Xe[_0x335760(0x60a)])(_0x1e4c0a,_0x141f60);if(!_0x4b1ef0[_0x335760(0x526)]){let _0x3b5429=_0x4b1ef0[_0x335760(0x1ee)]['map'](({property:_0x46cf67,stack:_0x26a9cc,schema:_0x2a4f80})=>{const _0x28fcd4=_0x335760;let _0x2fba35;return _0x2a4f80[_0x28fcd4(0x339)]?_0x2fba35=_0x2a4f80['description']:_0x2fba35=_0x26a9cc[_0x28fcd4(0x168)](_0x28fcd4(0x16a),''),{'property':_0x46cf67['replace'](_0x28fcd4(0x16a),''),'message':_0x2fba35};});throw hs['error']([..._0x3b5429]),new w(..._0x3b5429);}return await _0x5159cf(_0x27239e,_0x1e4c0a);}async[a0_0x1b487a(0x641)](_0x38fc73){const _0x1016fd=a0_0x1b487a;let {request:_0x3eece2,ClassRef:_0x5ba5c1,schema:_0x4d16db,execute:_0x585f9e}=_0x38fc73,_0x2ff361=_0x3eece2[_0x1016fd(0x5dd)];if(!_0x2ff361?.[_0x1016fd(0x6da)])throw new w(_0x1016fd(0x47a),_0x1016fd(0x1d8));let _0x2ed9f9=_0x3eece2[_0x1016fd(0x7c)],_0x427ebb=_0x3eece2['body'],_0x496fb4=new _0x5ba5c1();Object[_0x1016fd(0x4bc)](_0x427ebb,_0x2ff361),Object['assign'](_0x496fb4,_0x427ebb);let _0x50b13b=(0x0,Xe['validate'])(_0x496fb4,_0x4d16db);if(!_0x50b13b['valid']){let _0x3431c2=_0x50b13b[_0x1016fd(0x1ee)][_0x1016fd(0x381)](({property:_0x429761,stack:_0x445639,schema:_0x4007e6})=>{const _0x11dcbf=_0x1016fd;let _0x2ec770;return _0x4007e6[_0x11dcbf(0x339)]?_0x2ec770=_0x4007e6[_0x11dcbf(0x339)]:_0x2ec770=_0x445639[_0x11dcbf(0x168)](_0x11dcbf(0x16a),''),{'property':_0x429761['replace'](_0x11dcbf(0x16a),''),'message':_0x2ec770};});throw hs[_0x1016fd(0x519)]([..._0x3431c2]),new w(..._0x3431c2);}return await _0x585f9e(_0x2ed9f9,_0x496fb4);}},S=class{},Nc=new N(a0_0x1b487a(0x286)),Ze=class extends U{constructor(..._0x43cbe7){const _0x162bb2=a0_0x1b487a;super(),this[_0x162bb2(0x190)]=(0x0,sr['Router'])(),this[_0x162bb2(0x190)]['post'](this[_0x162bb2(0xa5)]('updatePresence'),..._0x43cbe7,async(_0x349ec9,_0x1283c3)=>{const _0x1e3fd5=_0x162bb2;let _0x3279b0=await this[_0x1e3fd5(0x1e4)]({'request':_0x349ec9,'schema':Wa,'ClassRef':je,'execute':(_0x3851f1,_0x1fc433)=>_[_0x1e3fd5(0x375)](_0x3851f1,_0x1fc433)});return _0x1283c3['status'](0xc9)['json'](_0x3279b0);})['post'](this[_0x162bb2(0xa5)]('whatsappNumbers'),..._0x43cbe7,async(_0x51a781,_0x1220f2)=>{const _0x5bc01e=_0x162bb2;let _0x53e3fa=await this['dataValidate']({'request':_0x51a781,'schema':ka,'ClassRef':Ue,'execute':(_0x11ef04,_0x514bda)=>_[_0x5bc01e(0x212)](_0x11ef04,_0x514bda)});return _0x1220f2[_0x5bc01e(0x14f)](0xc9)[_0x5bc01e(0x1c1)](_0x53e3fa);})[_0x162bb2(0x690)](this[_0x162bb2(0xa5)](_0x162bb2(0x6c9)),..._0x43cbe7,async(_0x54ae1c,_0x2d92f9)=>{const _0xb73125=_0x162bb2;let _0x28dcb3=await this[_0xb73125(0x1e4)]({'request':_0x54ae1c,'schema':v,'ClassRef':S,'execute':(_0x49dcdd,_0x3df847)=>_[_0xb73125(0x6c9)](_0x49dcdd,_0x3df847)});return _0x2d92f9['status'](0xc9)[_0xb73125(0x1c1)](_0x28dcb3);})[_0x162bb2(0x387)](this[_0x162bb2(0xa5)]('markMessageAsRead'),..._0x43cbe7,async(_0x10cf9d,_0xae5878)=>{const _0x5e0c2f=_0x162bb2;let _0x312987=await this[_0x5e0c2f(0x1e4)]({'request':_0x10cf9d,'schema':La,'ClassRef':Ve,'execute':(_0x5389e0,_0x3e5ec3)=>_[_0x5e0c2f(0x26f)](_0x5389e0,_0x3e5ec3)});return _0xae5878['status'](0xc9)[_0x5e0c2f(0x1c1)](_0x312987);})[_0x162bb2(0x387)](this[_0x162bb2(0xa5)](_0x162bb2(0x98)),..._0x43cbe7,async(_0x48de4b,_0x508851)=>{const _0x1ee040=_0x162bb2;let _0x5a77f4=await this['dataValidate']({'request':_0x48de4b,'schema':ja,'ClassRef':Be,'execute':(_0x1b3bbe,_0x46c95e)=>_[_0x1ee040(0x98)](_0x1b3bbe,_0x46c95e)});return _0x508851[_0x1ee040(0x14f)](0xc9)['json'](_0x5a77f4);})[_0x162bb2(0x522)](this[_0x162bb2(0xa5)](_0x162bb2(0x6ba)),..._0x43cbe7,async(_0x1c6b45,_0x4c74b4)=>{const _0x85d55=_0x162bb2;let _0x2ca4aa=await this['dataValidate']({'request':_0x1c6b45,'schema':Ua,'ClassRef':We,'execute':(_0x245a93,_0x778c39)=>_[_0x85d55(0x38c)](_0x245a93,_0x778c39)});return _0x4c74b4[_0x85d55(0x14f)](0xc9)[_0x85d55(0x1c1)](_0x2ca4aa);})[_0x162bb2(0x690)](this[_0x162bb2(0xa5)](_0x162bb2(0x5f1)),..._0x43cbe7,async(_0x7652c7,_0x281bea)=>{const _0x453581=_0x162bb2;let _0x3d25f2=await this[_0x453581(0x1e4)]({'request':_0x7652c7,'schema':Se,'ClassRef':be,'execute':(_0x1f1f11,_0x10a654)=>_[_0x453581(0x218)](_0x1f1f11,_0x10a654)});return _0x281bea['status'](0xc8)[_0x453581(0x1c1)](_0x3d25f2);})[_0x162bb2(0x690)](this[_0x162bb2(0xa5)](_0x162bb2(0x3df)),..._0x43cbe7,async(_0x230eb3,_0x2c3b7c)=>{const _0x5962e9=_0x162bb2;let _0x1faf0a=await this['dataValidate']({'request':_0x230eb3,'schema':Ba,'ClassRef':be,'execute':(_0x27a341,_0x389157)=>_[_0x5962e9(0x3df)](_0x27a341,_0x389157)});return _0x2c3b7c[_0x5962e9(0x14f)](0xc8)[_0x5962e9(0x1c1)](_0x1faf0a);})[_0x162bb2(0x690)](this['routerPath'](_0x162bb2(0x600)),..._0x43cbe7,async(_0x312567,_0x1c2a5c)=>{const _0x26bceb=_0x162bb2;let _0x19601a=await this['dataValidate']({'request':_0x312567,'schema':qa,'ClassRef':Qe,'execute':(_0x47e089,_0x45073b)=>_[_0x26bceb(0x490)](_0x47e089,_0x45073b)});return _0x1c2a5c['status'](0xc8)['json'](_0x19601a);})[_0x162bb2(0x690)](this[_0x162bb2(0xa5)](_0x162bb2(0x6bf)),..._0x43cbe7,async(_0x3afc7a,_0x13c0ae)=>{const _0xebd9a3=_0x162bb2;let _0x216d76=await this[_0xebd9a3(0x1e4)]({'request':_0x3afc7a,'schema':null,'ClassRef':Object,'execute':(_0x46bfc4,_0x4a710b)=>_[_0xebd9a3(0x6bf)](_0x46bfc4,_0x4a710b)});return _0x13c0ae[_0xebd9a3(0x14f)](0xc9)[_0xebd9a3(0x1c1)](_0x216d76);})['post'](this['routerPath']('findMessages'),..._0x43cbe7,async(_0x76be5,_0x5a52ed)=>{const _0x49f3f0=_0x162bb2;let _0x116e8f=await this[_0x49f3f0(0x1e4)]({'request':_0x76be5,'schema':Ga,'ClassRef':Le,'execute':(_0x585775,_0x1f90c6)=>_[_0x49f3f0(0x19d)](_0x585775,_0x1f90c6)});return _0x5a52ed[_0x49f3f0(0x14f)](0xc8)[_0x49f3f0(0x1c1)](_0x116e8f);})[_0x162bb2(0x348)](this['routerPath'](_0x162bb2(0x258)),..._0x43cbe7,async(_0x101238,_0x2303f1)=>{const _0xd23a6d=_0x162bb2;let _0x24c319=await this[_0xd23a6d(0x1e4)]({'request':_0x101238,'schema':null,'ClassRef':S,'execute':_0x4c68df=>_['fetchChats'](_0x4c68df)});return _0x2303f1[_0xd23a6d(0x14f)](0xc8)[_0xd23a6d(0x1c1)](_0x24c319);})[_0x162bb2(0x348)](this[_0x162bb2(0xa5)](_0x162bb2(0x1f1)),..._0x43cbe7,async(_0x55f7aa,_0x104101)=>{const _0x3afb1f=_0x162bb2;let _0x264878=await this[_0x3afb1f(0x1e4)]({'request':_0x55f7aa,'schema':null,'ClassRef':S,'execute':_0x46f3f6=>_['fetchLabels'](_0x46f3f6)});return _0x104101[_0x3afb1f(0x14f)](0xc8)['json'](_0x264878);})[_0x162bb2(0x387)](this[_0x162bb2(0xa5)](_0x162bb2(0x3cc)),..._0x43cbe7,async(_0x30d627,_0x37e2cf)=>{const _0x4c87d5=_0x162bb2;let _0x477d9b=await this[_0x4c87d5(0x1e4)]({'request':_0x30d627,'schema':null,'ClassRef':Array,'execute':(_0x352491,_0x2bafc3)=>_[_0x4c87d5(0x3cc)](_0x352491,_0x2bafc3)});return _0x37e2cf['status'](0xc8)[_0x4c87d5(0x1c1)](_0x477d9b);})['get'](this[_0x162bb2(0xa5)](_0x162bb2(0x4d7)),..._0x43cbe7,async(_0x1f8dcd,_0x1d5824)=>{const _0x1cf69b=_0x162bb2;let _0x44abde=await this[_0x1cf69b(0x1e4)]({'request':_0x1f8dcd,'schema':null,'ClassRef':S,'execute':_0x161ec6=>_[_0x1cf69b(0x4d7)](_0x161ec6)});return _0x1d5824[_0x1cf69b(0x14f)](0xc8)[_0x1cf69b(0x1c1)](_0x44abde);})[_0x162bb2(0x387)](this[_0x162bb2(0xa5)](_0x162bb2(0xb3)),..._0x43cbe7,async(_0x41cac4,_0x382e45)=>{const _0x12cd5c=_0x162bb2;let _0x327639=await this[_0x12cd5c(0x1e4)]({'request':_0x41cac4,'schema':Fa,'ClassRef':Ge,'execute':(_0xfab0c,_0x1c21ab)=>_['updatePrivacySettings'](_0xfab0c,_0x1c21ab)});return _0x382e45[_0x12cd5c(0x14f)](0xc9)[_0x12cd5c(0x1c1)](_0x327639);})[_0x162bb2(0x690)](this[_0x162bb2(0xa5)]('fetchBusinessProfile'),..._0x43cbe7,async(_0x2dd7ae,_0x104fc5)=>{const _0x121cdf=_0x162bb2;let _0x289b86=await this[_0x121cdf(0x1e4)]({'request':_0x2dd7ae,'schema':Se,'ClassRef':fe,'execute':(_0x43a2eb,_0x4cef82)=>_[_0x121cdf(0x2ac)](_0x43a2eb,_0x4cef82)});return _0x104fc5[_0x121cdf(0x14f)](0xc8)[_0x121cdf(0x1c1)](_0x289b86);})[_0x162bb2(0x690)](this['routerPath'](_0x162bb2(0x32f)),..._0x43cbe7,async(_0x31cc09,_0x2b5e37)=>{const _0x3e3651=_0x162bb2;let _0xd7611b=await this[_0x3e3651(0x1e4)]({'request':_0x31cc09,'schema':Ja,'ClassRef':qe,'execute':(_0x299484,_0x186172)=>_[_0x3e3651(0x32f)](_0x299484,_0x186172)});return _0x2b5e37[_0x3e3651(0x14f)](0xc8)['json'](_0xd7611b);})['post'](this['routerPath'](_0x162bb2(0x26d)),..._0x43cbe7,async(_0x42a3ec,_0x2de4f9)=>{const _0x5140d2=_0x162bb2;let _0xf0042c=await this[_0x5140d2(0x1e4)]({'request':_0x42a3ec,'schema':Va,'ClassRef':Je,'execute':(_0x2140c3,_0x1d519b)=>_[_0x5140d2(0x26d)](_0x2140c3,_0x1d519b)});return _0x2de4f9[_0x5140d2(0x14f)](0xc8)[_0x5140d2(0x1c1)](_0xf0042c);})[_0x162bb2(0x387)](this[_0x162bb2(0xa5)](_0x162bb2(0x63f)),..._0x43cbe7,async(_0x32bf83,_0x4b4103)=>{let _0x21d626=await this['dataValidate']({'request':_0x32bf83,'schema':Se,'ClassRef':fe,'execute':(_0x239651,_0x3c017d)=>_['updateProfilePicture'](_0x239651,_0x3c017d)});return _0x4b4103['status'](0xc8)['json'](_0x21d626);})[_0x162bb2(0x522)](this[_0x162bb2(0xa5)](_0x162bb2(0x119)),..._0x43cbe7,async(_0x1f6a15,_0x2cc1a1)=>{const _0x62f779=_0x162bb2;let _0x646f4b=await this[_0x62f779(0x1e4)]({'request':_0x1f6a15,'schema':Se,'ClassRef':fe,'execute':(_0x54b860,_0x43b8e9)=>_[_0x62f779(0x119)](_0x54b860,_0x43b8e9)});return _0x2cc1a1['status'](0xc8)['json'](_0x646f4b);});}},ar=require(a0_0x1b487a(0x33e)),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x146692){const _0xc39b30=a0_0x1b487a;super(),this['router']=(0x0,ar[_0xc39b30(0x263)])(),this[_0xc39b30(0x190)][_0xc39b30(0x690)](this['routerPath'](_0xc39b30(0x1ea)),..._0x146692,async(_0x9cfcb6,_0x2058f4)=>{const _0x4aec6a=_0xc39b30;let _0x2183d8=await this[_0x4aec6a(0x1e4)]({'request':_0x9cfcb6,'schema':za,'ClassRef':et,'execute':(_0x207353,_0x197029)=>F[_0x4aec6a(0x6cc)](_0x207353,_0x197029)});_0x2058f4[_0x4aec6a(0x14f)](0xc9)['json'](_0x2183d8);})[_0xc39b30(0x387)](this['routerPath']('updateGroupPicture'),..._0x146692,async(_0x571422,_0x16d64e)=>{const _0x2ca7ca=_0xc39b30;let _0x84d447=await this[_0x2ca7ca(0x27b)]({'request':_0x571422,'schema':Qa,'ClassRef':tt,'execute':(_0x3e22c7,_0x48a6e0)=>F[_0x2ca7ca(0x264)](_0x3e22c7,_0x48a6e0)});_0x16d64e['status'](0xc9)[_0x2ca7ca(0x1c1)](_0x84d447);})[_0xc39b30(0x387)](this[_0xc39b30(0xa5)](_0xc39b30(0x4f0)),..._0x146692,async(_0x1c7614,_0x196b47)=>{const _0x338afc=_0xc39b30;let _0x34ce97=await this[_0x338afc(0x27b)]({'request':_0x1c7614,'schema':Ya,'ClassRef':st,'execute':(_0x92827c,_0x452e87)=>F[_0x338afc(0x4f0)](_0x92827c,_0x452e87)});_0x196b47[_0x338afc(0x14f)](0xc9)[_0x338afc(0x1c1)](_0x34ce97);})[_0xc39b30(0x387)](this['routerPath'](_0xc39b30(0x511)),..._0x146692,async(_0x2b9da9,_0x48b183)=>{const _0x18b897=_0xc39b30;let _0x4c6935=await this[_0x18b897(0x27b)]({'request':_0x2b9da9,'schema':Xa,'ClassRef':at,'execute':(_0x27cc4e,_0x3c1b91)=>F['groupName'](_0x27cc4e,_0x3c1b91)});_0x48b183['status'](0xc9)[_0x18b897(0x1c1)](_0x4c6935);})[_0xc39b30(0x387)](this[_0xc39b30(0xa5)](_0xc39b30(0x4ff)),..._0x146692,async(_0x3e118d,_0x26b0fb)=>{const _0x4b3cad=_0xc39b30;let _0x474942=await this[_0x4b3cad(0x27b)]({'request':_0x3e118d,'schema':Za,'ClassRef':rt,'execute':(_0x194017,_0x4d81fb)=>F[_0x4b3cad(0x4ff)](_0x194017,_0x4d81fb)});_0x26b0fb['status'](0xc9)[_0x4b3cad(0x1c1)](_0x474942);})[_0xc39b30(0x387)](this[_0xc39b30(0xa5)](_0xc39b30(0x40b)),..._0x146692,async(_0x3223a8,_0x4d9c43)=>{const _0x9040c5=_0xc39b30;let _0x9c1724=await this[_0x9040c5(0x27b)]({'request':_0x3223a8,'schema':Ka,'ClassRef':nt,'execute':(_0x56f6c5,_0xfea7ba)=>F['toggleEphemeral'](_0x56f6c5,_0xfea7ba)});_0x4d9c43[_0x9040c5(0x14f)](0xc9)[_0x9040c5(0x1c1)](_0x9c1724);})[_0xc39b30(0x348)](this[_0xc39b30(0xa5)]('findGroupInfos'),..._0x146692,async(_0x415d0c,_0x28301d)=>{const _0x3df080=_0xc39b30;let _0x9a78b5=await this[_0x3df080(0x27b)]({'request':_0x415d0c,'schema':Ee,'ClassRef':Q,'execute':(_0x18c59c,_0x586024)=>F[_0x3df080(0xcd)](_0x18c59c,_0x586024)});_0x28301d[_0x3df080(0x14f)](0xc8)['json'](_0x9a78b5);})[_0xc39b30(0x348)](this[_0xc39b30(0xa5)]('findGroups'),..._0x146692,async(_0x27b528,_0x15df2b)=>{const _0x2228fa=_0xc39b30;let _0x20c452=await this[_0x2228fa(0x1e4)]({'request':_0x27b528,'schema':v,'ClassRef':S,'execute':_0x95ec32=>F[_0x2228fa(0x6de)](_0x95ec32)});_0x15df2b[_0x2228fa(0x14f)](0xc8)[_0x2228fa(0x1c1)](_0x20c452);})['get'](this[_0xc39b30(0xa5)]('participants'),..._0x146692,async(_0x3845f1,_0x310fae)=>{const _0x41b3b7=_0xc39b30;let _0x3ed0e5=await this[_0x41b3b7(0x27b)]({'request':_0x3845f1,'schema':Ee,'ClassRef':Q,'execute':(_0x513cd3,_0x53ee26)=>F[_0x41b3b7(0x305)](_0x513cd3,_0x53ee26)});_0x310fae[_0x41b3b7(0x14f)](0xc8)[_0x41b3b7(0x1c1)](_0x3ed0e5);})[_0xc39b30(0x348)](this[_0xc39b30(0xa5)]('inviteCode'),..._0x146692,async(_0x19a401,_0x1d511e)=>{const _0x239fd6=_0xc39b30;let _0x19bdbb=await this[_0x239fd6(0x27b)]({'request':_0x19a401,'schema':Ee,'ClassRef':Q,'execute':(_0xd83ac8,_0x59358d)=>F[_0x239fd6(0x6da)](_0xd83ac8,_0x59358d)});_0x1d511e[_0x239fd6(0x14f)](0xc8)['json'](_0x19bdbb);})[_0xc39b30(0x387)](this['routerPath'](_0xc39b30(0x1e6)),..._0x146692,async(_0x50d919,_0x300672)=>{const _0x4405a8=_0xc39b30;let _0x51dd7f=await this[_0x4405a8(0x641)]({'request':_0x50d919,'schema':er,'ClassRef':it,'execute':(_0x3df4ae,_0x93ddfc)=>F[_0x4405a8(0x1e6)](_0x3df4ae,_0x93ddfc)});_0x300672[_0x4405a8(0x14f)](0xc9)[_0x4405a8(0x1c1)](_0x51dd7f);})[_0xc39b30(0x387)](this[_0xc39b30(0xa5)](_0xc39b30(0x63c)),..._0x146692,async(_0x574f67,_0x260e7c)=>{const _0x2797cd=_0xc39b30;let _0x3ae072=await this[_0x2797cd(0x27b)]({'request':_0x574f67,'schema':Ee,'ClassRef':Q,'execute':(_0xd3d73c,_0x427789)=>F[_0x2797cd(0x63c)](_0xd3d73c,_0x427789)});_0x260e7c[_0x2797cd(0x14f)](0xc9)[_0x2797cd(0x1c1)](_0x3ae072);})['put'](this['routerPath'](_0xc39b30(0x331)),..._0x146692,async(_0x2c1fec,_0x39f1bd)=>{const _0x2bba72=_0xc39b30;let _0x1a31a2=await this[_0x2bba72(0x27b)]({'request':_0x2c1fec,'schema':Ha,'ClassRef':ot,'execute':(_0x578f72,_0xf928d1)=>F['updateGParticipate'](_0x578f72,_0xf928d1)});_0x39f1bd['status'](0xc9)[_0x2bba72(0x1c1)](_0x1a31a2);})[_0xc39b30(0x522)](this[_0xc39b30(0xa5)](_0xc39b30(0x272)),..._0x146692,async(_0x5dd1c0,_0x464363)=>{const _0x54dcb1=_0xc39b30;let _0x580f9f=await this['groupValidate']({'request':_0x5dd1c0,'schema':{},'ClassRef':Q,'execute':(_0x5ae54b,_0x1a1d47)=>F[_0x54dcb1(0x272)](_0x5ae54b,_0x1a1d47)});_0x464363['status'](0xc8)[_0x54dcb1(0x1c1)](_0x580f9f);});}},rr=require('express'),lt=class extends U{constructor(_0xe17af6,..._0x239b8b){const _0x93a651=a0_0x1b487a;super(),this['configService']=_0xe17af6,this[_0x93a651(0x190)]=(0x0,rr['Router'])();let _0x4e0af6=_0xe17af6['get'](_0x93a651(0x65f));this['router'][_0x93a651(0x690)](_0x93a651(0xad),..._0x239b8b,async(_0x11dde4,_0x57abcb)=>{const _0x1000a9=_0x93a651;let {instanceName:_0x4fc648,apikey:_0x5cabc4,number:_0x4fbdb4}=_0x11dde4[_0x1000a9(0x5dd)],_0x244285=await ie['createInstance']({'instanceName':_0x4fc648,'apikey':_0x5cabc4,'number':_0x4fbdb4});return _0x57abcb[_0x1000a9(0x14f)](0xc9)[_0x1000a9(0x1c1)](_0x244285);})[_0x93a651(0x387)](this[_0x93a651(0xa5)]('restart'),..._0x239b8b,async(_0x1926c8,_0x39ae1f)=>{const _0x1106c7=_0x93a651;let _0x429bef=await this['dataValidate']({'request':_0x1926c8,'schema':v,'ClassRef':S,'execute':_0x4e06ca=>ie[_0x1106c7(0x257)](_0x4e06ca)});return _0x39ae1f['status'](0xc8)['json'](_0x429bef);})[_0x93a651(0x348)](this[_0x93a651(0xa5)](_0x93a651(0x1d3)),..._0x239b8b,async(_0x3a1af5,_0x1b9d03)=>{const _0x2b3113=_0x93a651;let _0x2b0e48=await this['dataValidate']({'request':_0x3a1af5,'schema':v,'ClassRef':S,'execute':_0x6bfd90=>ie['connectToWhatsappController'](_0x6bfd90)});return _0x1b9d03[_0x2b3113(0x14f)](0xc8)['json'](_0x2b0e48);})['get'](this['routerPath'](_0x93a651(0x441)),..._0x239b8b,async(_0x2a7260,_0x3645a3)=>{const _0x477eb2=_0x93a651;let _0x35a5a5=await this[_0x477eb2(0x1e4)]({'request':_0x2a7260,'schema':v,'ClassRef':S,'execute':_0x1ce8c5=>ie[_0x477eb2(0x441)](_0x1ce8c5)});return _0x3645a3[_0x477eb2(0x14f)](0xc8)[_0x477eb2(0x1c1)](_0x35a5a5);})[_0x93a651(0x348)](this[_0x93a651(0xa5)](_0x93a651(0x542),!0x1),..._0x239b8b,async(_0x237b01,_0x105278)=>{const _0x1ded9a=_0x93a651;let _0x385f9f=await this[_0x1ded9a(0x1e4)]({'request':_0x237b01,'schema':null,'ClassRef':S,'execute':_0x501b08=>ie[_0x1ded9a(0x542)](_0x501b08)});return _0x105278[_0x1ded9a(0x14f)](0xc8)['json'](_0x385f9f);})[_0x93a651(0x522)](this['routerPath']('logout'),..._0x239b8b,async(_0x3f67f4,_0x219ba1)=>{const _0x3c6131=_0x93a651;let _0xe937e5=await this[_0x3c6131(0x1e4)]({'request':_0x3f67f4,'schema':v,'ClassRef':S,'execute':_0x51a918=>ie[_0x3c6131(0x638)](_0x51a918)});return _0x219ba1[_0x3c6131(0x14f)](0xc8)[_0x3c6131(0x1c1)](_0xe937e5);})[_0x93a651(0x522)](this['routerPath'](_0x93a651(0x522)),..._0x239b8b,async(_0x15ecda,_0x409a74)=>{const _0x52be05=_0x93a651;let _0x390d14=await this['dataValidate']({'request':_0x15ecda,'schema':v,'ClassRef':S,'execute':_0x4a58ae=>ie[_0x52be05(0x60f)](_0x4a58ae)});return _0x409a74[_0x52be05(0x14f)](0xc8)[_0x52be05(0x1c1)](_0x390d14);});}},ir=require(a0_0x1b487a(0x33e)),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Ce=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x4eb6ec){const _0x1bdbfd=a0_0x1b487a;super(),this[_0x1bdbfd(0x190)]=(0x0,ir[_0x1bdbfd(0x263)])(),this[_0x1bdbfd(0x190)][_0x1bdbfd(0x690)](this['routerPath'](_0x1bdbfd(0x36c)),..._0x4eb6ec,async(_0x3513fe,_0xace4a9)=>{const _0x51bdfb=_0x1bdbfd;let _0x1ab27d=await this[_0x51bdfb(0x1e4)]({'request':_0x3513fe,'schema':Ma,'ClassRef':ut,'execute':(_0x244678,_0x24487b)=>B[_0x51bdfb(0x36c)](_0x244678,_0x24487b)});return _0xace4a9['status'](0xc9)[_0x51bdfb(0x1c1)](_0x1ab27d);})[_0x1bdbfd(0x690)](this[_0x1bdbfd(0xa5)](_0x1bdbfd(0x223)),..._0x4eb6ec,async(_0x435335,_0x3510d9)=>{const _0x2362f8=_0x1bdbfd;let _0x280c71=await this[_0x2362f8(0x1e4)]({'request':_0x435335,'schema':Ta,'ClassRef':Ce,'execute':(_0x450c14,_0x75bfc2)=>B[_0x2362f8(0x223)](_0x450c14,_0x75bfc2)});return _0x3510d9[_0x2362f8(0x14f)](0xc9)[_0x2362f8(0x1c1)](_0x280c71);})[_0x1bdbfd(0x690)](this['routerPath'](_0x1bdbfd(0xef)),..._0x4eb6ec,async(_0x5b507c,_0x519e23)=>{const _0x35646d=_0x1bdbfd;let _0x439661=await this[_0x35646d(0x1e4)]({'request':_0x5b507c,'schema':Ia,'ClassRef':ht,'execute':(_0x43e50f,_0x480281)=>B[_0x35646d(0xef)](_0x43e50f,_0x480281)});return _0x519e23[_0x35646d(0x14f)](0xc9)[_0x35646d(0x1c1)](_0x439661);})['post'](this[_0x1bdbfd(0xa5)]('sendWhatsAppAudio'),..._0x4eb6ec,async(_0x3510ca,_0x29c3a2)=>{const _0x3c0ee2=_0x1bdbfd;let _0x1d75a3=await this[_0x3c0ee2(0x1e4)]({'request':_0x3510ca,'schema':Oa,'ClassRef':Ce,'execute':(_0x234af6,_0x14f8c1)=>B['sendWhatsAppAudio'](_0x234af6,_0x14f8c1)});return _0x29c3a2[_0x3c0ee2(0x14f)](0xc9)[_0x3c0ee2(0x1c1)](_0x1d75a3);})[_0x1bdbfd(0x690)](this[_0x1bdbfd(0xa5)](_0x1bdbfd(0xca)),..._0x4eb6ec,async(_0x2d897f,_0x56d9cd)=>{const _0x27ae43=_0x1bdbfd;let _0x4d7254=await this[_0x27ae43(0x1e4)]({'request':_0x2d897f,'schema':xa,'ClassRef':mt,'execute':(_0x200fb5,_0x479c26)=>B[_0x27ae43(0xca)](_0x200fb5,_0x479c26)});return _0x56d9cd['status'](0xc9)['json'](_0x4d7254);})[_0x1bdbfd(0x690)](this[_0x1bdbfd(0xa5)](_0x1bdbfd(0x681)),..._0x4eb6ec,async(_0x33639f,_0x2d6735)=>{const _0x4f85df=_0x1bdbfd;let _0x2dede5=await this[_0x4f85df(0x1e4)]({'request':_0x33639f,'schema':Da,'ClassRef':ft,'execute':(_0x201708,_0x415e20)=>B[_0x4f85df(0x681)](_0x201708,_0x415e20)});return _0x2d6735[_0x4f85df(0x14f)](0xc9)[_0x4f85df(0x1c1)](_0x2dede5);})[_0x1bdbfd(0x690)](this['routerPath'](_0x1bdbfd(0x5ff)),..._0x4eb6ec,async(_0x4474f7,_0xfb2d2d)=>{const _0x1947db=_0x1bdbfd;let _0x64dd43=await this[_0x1947db(0x1e4)]({'request':_0x4474f7,'schema':_a,'ClassRef':wt,'execute':(_0x517c90,_0x5b86ae)=>B['sendList'](_0x517c90,_0x5b86ae)});return _0xfb2d2d[_0x1947db(0x14f)](0xc9)[_0x1947db(0x1c1)](_0x64dd43);})[_0x1bdbfd(0x690)](this['routerPath'](_0x1bdbfd(0x6f1)),..._0x4eb6ec,async(_0x4c3725,_0xbda65d)=>{const _0x5a0d26=_0x1bdbfd;let _0x16336f=await this[_0x5a0d26(0x1e4)]({'request':_0x4c3725,'schema':Pa,'ClassRef':yt,'execute':(_0x6dbf57,_0x3903c1)=>B['sendContact'](_0x6dbf57,_0x3903c1)});return _0xbda65d[_0x5a0d26(0x14f)](0xc9)[_0x5a0d26(0x1c1)](_0x16336f);})['post'](this[_0x1bdbfd(0xa5)]('sendReaction'),..._0x4eb6ec,async(_0x4ea61e,_0x359fc3)=>{const _0x1a0c28=_0x1bdbfd;let _0x5241b0=await this['dataValidate']({'request':_0x4ea61e,'schema':$a,'ClassRef':bt,'execute':(_0x5ec8c4,_0x4022ad)=>B[_0x1a0c28(0x402)](_0x5ec8c4,_0x4022ad)});return _0x359fc3[_0x1a0c28(0x14f)](0xc9)[_0x1a0c28(0x1c1)](_0x5241b0);})[_0x1bdbfd(0x690)](this['routerPath'](_0x1bdbfd(0x67f)),..._0x4eb6ec,async(_0x7d4811,_0x1ef9e6)=>{const _0xa231b0=_0x1bdbfd;let _0x4ca6e7=await this['dataValidate']({'request':_0x7d4811,'schema':Aa,'ClassRef':pt,'execute':(_0x124953,_0x547a88)=>B[_0xa231b0(0x67f)](_0x124953,_0x547a88)});return _0x1ef9e6[_0xa231b0(0x14f)](0xc9)[_0xa231b0(0x1c1)](_0x4ca6e7);})[_0x1bdbfd(0x690)](this['routerPath'](_0x1bdbfd(0xf0)),..._0x4eb6ec,async(_0x456b32,_0x46e630)=>{const _0x40bcd2=_0x1bdbfd;let _0x5de05f=await this['dataValidate']({'request':_0x456b32,'schema':Ra,'ClassRef':dt,'execute':(_0x17ae4c,_0x51ecc9)=>B[_0x40bcd2(0xf0)](_0x17ae4c,_0x51ecc9)});return _0x46e630[_0x40bcd2(0x14f)](0xc9)[_0x40bcd2(0x1c1)](_0x5de05f);})[_0x1bdbfd(0x690)](this[_0x1bdbfd(0xa5)](_0x1bdbfd(0x6ac)),..._0x4eb6ec,async(_0x54b2a0,_0x325fe6)=>{const _0x387b97=_0x1bdbfd;let _0x26b604=await this['dataValidate']({'request':_0x54b2a0,'schema':Na,'ClassRef':gt,'execute':(_0x228350,_0x24cf30)=>B['sendSticker'](_0x228350,_0x24cf30)});return _0x325fe6['status'](0xc9)[_0x387b97(0x1c1)](_0x26b604);});}},or=require(a0_0x1b487a(0x33e)),Et=class{},Ct=class extends U{constructor(..._0x578cc9){const _0x4fbe7b=a0_0x1b487a;super(),this[_0x4fbe7b(0x190)]=(0x0,or[_0x4fbe7b(0x263)])(),this['router'][_0x4fbe7b(0x690)](this[_0x4fbe7b(0xa5)](_0x4fbe7b(0x414)),..._0x578cc9,async(_0x546c8d,_0xb0cfe0)=>{const _0x348c95=_0x4fbe7b;let _0x16a57e=await this[_0x348c95(0x1e4)]({'request':_0x546c8d,'schema':tr,'ClassRef':Et,'execute':(_0x20bbc6,_0x3f6474)=>ms['createWebhook'](_0x20bbc6,_0x3f6474)});_0xb0cfe0[_0x348c95(0x14f)](0xc9)[_0x348c95(0x1c1)](_0x16a57e);})[_0x4fbe7b(0x348)](this[_0x4fbe7b(0xa5)](_0x4fbe7b(0x3a8)),..._0x578cc9,async(_0x582757,_0x1f5010)=>{const _0x546e1b=_0x4fbe7b;let _0x5e4aa6=await this[_0x546e1b(0x1e4)]({'request':_0x582757,'schema':v,'ClassRef':S,'execute':_0x920d24=>ms[_0x546e1b(0x595)](_0x920d24)});_0x1f5010[_0x546e1b(0x14f)](0xc8)[_0x546e1b(0x1c1)](_0x5e4aa6);});}},nr=require(a0_0x1b487a(0x33e)),y=new N(a0_0x1b487a(0x340)),Mt=class extends U{constructor(..._0x162840){const _0x449d4e=a0_0x1b487a;super(),this[_0x449d4e(0x190)]=(0x0,nr[_0x449d4e(0x263)])(),this[_0x449d4e(0x190)][_0x449d4e(0x690)](this[_0x449d4e(0xa5)]('scheduleMessage'),..._0x162840,async(_0x112455,_0x8c5926)=>{const _0x76df20=_0x449d4e;let _0x38298a=_0x112455[_0x76df20(0x5dd)];y[_0x76df20(0x49b)](_0x76df20(0x565)),y[_0x76df20(0x49b)](_0x76df20(0x546)),y[_0x76df20(0x49b)](_0x112455[_0x76df20(0x5dd)]);let _0x2f8518=await this[_0x76df20(0x1e4)]({'request':_0x112455,'schema':v,'ClassRef':S,'execute':_0x410aa7=>O['editScheduleMessage'](_0x410aa7,_0x38298a)});_0x8c5926[_0x76df20(0x14f)](0xc8)['json'](_0x2f8518);})['get'](this['routerPath'](_0x449d4e(0x49c)),..._0x162840,async(_0xe70ff9,_0x47f3bf)=>{const _0x581ab7=_0x449d4e;let _0x198204=await this[_0x581ab7(0x1e4)]({'request':_0xe70ff9,'schema':v,'ClassRef':S,'execute':_0x5a2a41=>O[_0x581ab7(0x236)](_0x5a2a41)});_0x47f3bf[_0x581ab7(0x14f)](0xc8)[_0x581ab7(0x1c1)](_0x198204);})['delete'](this[_0x449d4e(0xa5)]('deleteDoneMessages'),..._0x162840,async(_0x33fd0f,_0xd39529)=>{const _0x5eae10=_0x449d4e;y[_0x5eae10(0x49b)]('request\x20received\x20in\x20deleteDoneMessages');let _0x38aae9=await this[_0x5eae10(0x1e4)]({'request':_0x33fd0f,'schema':v,'ClassRef':S,'execute':_0x5a37d3=>O[_0x5eae10(0x30f)](_0x5a37d3)});_0xd39529[_0x5eae10(0x14f)](0xc8)[_0x5eae10(0x1c1)](_0x38aae9);})['post'](this[_0x449d4e(0xa5)](_0x449d4e(0x413)),..._0x162840,async(_0x168e1e,_0x50424e)=>{const _0x26ebb6=_0x449d4e;let _0x2e4f9c=_0x168e1e[_0x26ebb6(0x5dd)];y['verbose'](_0x26ebb6(0x411)),y['verbose'](_0x26ebb6(0x546)),y[_0x26ebb6(0x49b)](_0x168e1e[_0x26ebb6(0x5dd)]);let _0x2d6dd2=await this[_0x26ebb6(0x1e4)]({'request':_0x168e1e,'schema':v,'ClassRef':S,'execute':_0x2ea0dd=>O[_0x26ebb6(0x413)](_0x2ea0dd,_0x2e4f9c)});_0x50424e[_0x26ebb6(0x14f)](0xc8)[_0x26ebb6(0x1c1)](_0x2d6dd2);})[_0x449d4e(0x348)](this['routerPath'](_0x449d4e(0x2fe)),..._0x162840,async(_0x5ea3f5,_0x2a1f7d)=>{const _0x1bd447=_0x449d4e;y[_0x1bd447(0x49b)](_0x1bd447(0x6e9));let _0x2cbcae=await this[_0x1bd447(0x1e4)]({'request':_0x5ea3f5,'schema':v,'ClassRef':S,'execute':_0x3ca155=>O[_0x1bd447(0x2fe)](_0x3ca155)});_0x2a1f7d[_0x1bd447(0x14f)](0xc8)[_0x1bd447(0x1c1)](_0x2cbcae);})['get'](this['routerPath'](_0x449d4e(0x483)),..._0x162840,async(_0x22bac9,_0x3d272d)=>{const _0x2c8415=_0x449d4e;y[_0x2c8415(0x49b)](_0x2c8415(0x5d1));let _0x3626f4=await this[_0x2c8415(0x1e4)]({'request':_0x22bac9,'schema':v,'ClassRef':S,'execute':_0x41162e=>O['getAutomateSystem'](_0x41162e)});_0x3d272d['status'](0xc8)['json'](_0x3626f4);})[_0x449d4e(0x690)](this['routerPath'](_0x449d4e(0x5bd)),..._0x162840,async(_0x64c033,_0x10553b)=>{const _0x643ed9=_0x449d4e;let _0x528d2f=_0x64c033[_0x643ed9(0x5dd)];y[_0x643ed9(0x49b)](_0x643ed9(0x6b1)),y[_0x643ed9(0x49b)](_0x643ed9(0x546)),y[_0x643ed9(0x49b)](_0x64c033[_0x643ed9(0x5dd)]);let _0x57d643=await this[_0x643ed9(0x1e4)]({'request':_0x64c033,'schema':v,'ClassRef':S,'execute':_0x1d98d8=>O[_0x643ed9(0x5bd)](_0x1d98d8,_0x528d2f)});_0x10553b['status'](0xc8)[_0x643ed9(0x1c1)](_0x57d643);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x5d0)),..._0x162840,async(_0x50299b,_0x59caf5)=>{const _0x9ab826=_0x449d4e;let _0x548608=_0x50299b[_0x9ab826(0x5dd)];y[_0x9ab826(0x49b)](_0x9ab826(0x627)),y['verbose'](_0x9ab826(0x546)),y[_0x9ab826(0x49b)](_0x50299b[_0x9ab826(0x5dd)]);let _0x68dedd=await this[_0x9ab826(0x1e4)]({'request':_0x50299b,'schema':v,'ClassRef':S,'execute':_0x924c14=>O[_0x9ab826(0x5d0)](_0x924c14,_0x548608)});_0x59caf5[_0x9ab826(0x14f)](0xc8)['json'](_0x68dedd);})['post'](this[_0x449d4e(0xa5)](_0x449d4e(0x469)),..._0x162840,async(_0x1a6ea5,_0x26c3d4)=>{const _0x231a31=_0x449d4e;let _0x46134c=_0x1a6ea5[_0x231a31(0x5dd)];y[_0x231a31(0x49b)](_0x231a31(0xb6)),y['verbose'](_0x231a31(0x546)),y[_0x231a31(0x49b)](_0x1a6ea5[_0x231a31(0x5dd)]);let _0x5c9569=await this['dataValidate']({'request':_0x1a6ea5,'schema':v,'ClassRef':S,'execute':_0x4a2eb5=>O['updateFlowConfig'](_0x4a2eb5,_0x46134c)});_0x26c3d4['status'](0xc8)[_0x231a31(0x1c1)](_0x5c9569);})['post'](this['routerPath'](_0x449d4e(0x616)),..._0x162840,async(_0x411211,_0x1fac3a)=>{const _0x3698c5=_0x449d4e;let _0x591923=_0x411211[_0x3698c5(0x5dd)];y[_0x3698c5(0x49b)](_0x3698c5(0x163)),y[_0x3698c5(0x49b)](_0x3698c5(0x546)),y[_0x3698c5(0x49b)](_0x411211[_0x3698c5(0x5dd)]);let _0x563582=await this[_0x3698c5(0x1e4)]({'request':_0x411211,'schema':v,'ClassRef':S,'execute':_0xa32f2e=>O[_0x3698c5(0x616)](_0xa32f2e,_0x591923)});_0x1fac3a[_0x3698c5(0x14f)](0xc8)[_0x3698c5(0x1c1)](_0x563582);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x232)),..._0x162840,async(_0x2bda80,_0x56ba00)=>{const _0x2f9579=_0x449d4e;let _0x3f2c60=_0x2bda80['body'];y[_0x2f9579(0x49b)]('request\x20received\x20in\x20fetchConversation'),y['verbose'](_0x2f9579(0x546)),y['verbose'](_0x2bda80[_0x2f9579(0x5dd)]);let _0x47193b=await this[_0x2f9579(0x1e4)]({'request':_0x2bda80,'schema':v,'ClassRef':S,'execute':_0xef0445=>O['fetchConversation'](_0xef0445,_0x3f2c60)});_0x56ba00[_0x2f9579(0x14f)](0xc8)[_0x2f9579(0x1c1)](_0x47193b);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x471)),..._0x162840,async(_0x46802e,_0x2ac47a)=>{const _0x4761a3=_0x449d4e;let _0x49a87d=_0x46802e[_0x4761a3(0x5dd)];y[_0x4761a3(0x49b)](_0x4761a3(0x674)),y[_0x4761a3(0x49b)](_0x4761a3(0x546)),y[_0x4761a3(0x49b)](_0x46802e['body']);let _0x542f99=await this[_0x4761a3(0x1e4)]({'request':_0x46802e,'schema':v,'ClassRef':S,'execute':_0x5b30c5=>O['editConversation'](_0x5b30c5,_0x49a87d)});_0x2ac47a[_0x4761a3(0x14f)](0xc8)[_0x4761a3(0x1c1)](_0x542f99);})[_0x449d4e(0x522)](this[_0x449d4e(0xa5)](_0x449d4e(0x84)),..._0x162840,async(_0x26fe6f,_0x24c4fd)=>{const _0xb59dcf=_0x449d4e;let _0x2cac6e=_0x26fe6f[_0xb59dcf(0x5dd)];y[_0xb59dcf(0x49b)](_0xb59dcf(0x697)),y['verbose'](_0xb59dcf(0x546)),y[_0xb59dcf(0x49b)](_0x26fe6f[_0xb59dcf(0x5dd)]);let _0x42b103=await this[_0xb59dcf(0x1e4)]({'request':_0x26fe6f,'schema':v,'ClassRef':S,'execute':_0x2e8de6=>O[_0xb59dcf(0x84)](_0x2e8de6,_0x2cac6e)});_0x24c4fd[_0xb59dcf(0x14f)](0xc8)[_0xb59dcf(0x1c1)](_0x42b103);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x161)),..._0x162840,async(_0x1a3fc1,_0x5843c4)=>{const _0x30c615=_0x449d4e;let _0x3b2f8a=_0x1a3fc1[_0x30c615(0x5dd)];y['verbose'](_0x30c615(0x5a1)),y['verbose'](_0x30c615(0x546)),y[_0x30c615(0x49b)](_0x1a3fc1['body']);let _0x337124=await this[_0x30c615(0x1e4)]({'request':_0x1a3fc1,'schema':v,'ClassRef':S,'execute':_0x16a035=>O[_0x30c615(0x1c9)](_0x16a035,_0x3b2f8a)});_0x5843c4[_0x30c615(0x14f)](0xc8)['json'](_0x337124);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x61f)),..._0x162840,async(_0x56ccda,_0x3ae7e9)=>{const _0x1dd463=_0x449d4e;let _0x2a09c1=_0x56ccda[_0x1dd463(0x5dd)];y[_0x1dd463(0x49b)](_0x1dd463(0x503)),y[_0x1dd463(0x49b)](_0x1dd463(0x546)),y[_0x1dd463(0x49b)](_0x56ccda[_0x1dd463(0x5dd)]),delete _0x2a09c1[_0x1dd463(0x9e)],delete _0x2a09c1[_0x1dd463(0x224)],delete _0x2a09c1[_0x1dd463(0x576)],delete _0x2a09c1[_0x1dd463(0x4a1)];let _0x2fd39f=await this[_0x1dd463(0x1e4)]({'request':_0x56ccda,'schema':v,'ClassRef':S,'execute':_0x29a8c8=>O[_0x1dd463(0x28c)](_0x29a8c8,_0x2a09c1)});_0x3ae7e9[_0x1dd463(0x14f)](0xc8)[_0x1dd463(0x1c1)](_0x2fd39f);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x579)),..._0x162840,async(_0x465695,_0x355d81)=>{const _0x432adc=_0x449d4e;let _0x339781=_0x465695[_0x432adc(0x5dd)];y[_0x432adc(0x49b)](_0x432adc(0x503)),y[_0x432adc(0x49b)](_0x432adc(0x546)),y[_0x432adc(0x49b)](_0x465695['body']);let _0x5eb9c3=await this[_0x432adc(0x1e4)]({'request':_0x465695,'schema':v,'ClassRef':S,'execute':_0x54fc20=>O[_0x432adc(0x4da)](_0x54fc20,_0x339781)});_0x355d81[_0x432adc(0x14f)](0xc8)[_0x432adc(0x1c1)](_0x5eb9c3);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x35d)),..._0x162840,async(_0x21b62e,_0x35a51c)=>{const _0xa9a6c=_0x449d4e;let _0x446b90=_0x21b62e[_0xa9a6c(0x5dd)];y['verbose']('request\x20received\x20in\x20editFlow'),y['verbose'](_0xa9a6c(0x546)),y[_0xa9a6c(0x49b)](_0x21b62e[_0xa9a6c(0x5dd)]);let _0x2720b1=await this['dataValidate']({'request':_0x21b62e,'schema':v,'ClassRef':S,'execute':_0x57c058=>O[_0xa9a6c(0x211)](_0x57c058,_0x446b90)});_0x35a51c[_0xa9a6c(0x14f)](0xc8)[_0xa9a6c(0x1c1)](_0x2720b1);})['post'](this[_0x449d4e(0xa5)](_0x449d4e(0x300)),..._0x162840,async(_0x2b10f0,_0x3b2752)=>{const _0x49c020=_0x449d4e;let _0x951565=_0x2b10f0[_0x49c020(0x5dd)];y[_0x49c020(0x49b)]('request\x20received\x20in\x20editFlow'),y[_0x49c020(0x49b)](_0x49c020(0x546)),y['verbose'](_0x2b10f0[_0x49c020(0x5dd)]);let _0x4faa11=await this[_0x49c020(0x1e4)]({'request':_0x2b10f0,'schema':v,'ClassRef':S,'execute':_0x4e7bf3=>O['editFlowVaredit'](_0x4e7bf3,_0x951565)});_0x3b2752[_0x49c020(0x14f)](0xc8)['json'](_0x4faa11);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0x1d5)),..._0x162840,async(_0x4ba57c,_0x3d2c2b)=>{const _0x380eda=_0x449d4e;let _0x202d8d=_0x4ba57c['body'];y['verbose']('request\x20received\x20in\x20editFlowgroup'),y['verbose'](_0x380eda(0x546)),y[_0x380eda(0x49b)](_0x4ba57c[_0x380eda(0x5dd)]);let _0x1da274=await this[_0x380eda(0x1e4)]({'request':_0x4ba57c,'schema':v,'ClassRef':S,'execute':_0x48233e=>O[_0x380eda(0x6f8)](_0x48233e,_0x202d8d)});_0x3d2c2b[_0x380eda(0x14f)](0xc8)[_0x380eda(0x1c1)](_0x1da274);})['post'](this[_0x449d4e(0xa5)](_0x449d4e(0x59b)),..._0x162840,async(_0x7feb51,_0x3adf54)=>{const _0x36489e=_0x449d4e;let _0x50a0fe=_0x7feb51[_0x36489e(0x5dd)];y['verbose'](_0x36489e(0x6a0)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x7feb51[_0x36489e(0x5dd)]);let _0x2b200d=await this[_0x36489e(0x1e4)]({'request':_0x7feb51,'schema':v,'ClassRef':S,'execute':_0x14c83a=>O[_0x36489e(0x4b3)](_0x14c83a,_0x50a0fe)});_0x3adf54[_0x36489e(0x14f)](0xc8)[_0x36489e(0x1c1)](_0x2b200d);})[_0x449d4e(0x690)](this['routerPath'](_0x449d4e(0x2ce)),..._0x162840,async(_0x3b4605,_0x4bb403)=>{const _0x3b4001=_0x449d4e;let _0x5a5fb0=_0x3b4605[_0x3b4001(0x5dd)];y[_0x3b4001(0x49b)]('request\x20received\x20in\x20editFlowvariable'),y['verbose'](_0x3b4001(0x546)),y[_0x3b4001(0x49b)](_0x3b4605[_0x3b4001(0x5dd)]);let _0x5bae8d=await this[_0x3b4001(0x1e4)]({'request':_0x3b4605,'schema':v,'ClassRef':S,'execute':_0x4a97c0=>O[_0x3b4001(0x44e)](_0x4a97c0,_0x5a5fb0)});_0x4bb403[_0x3b4001(0x14f)](0xc8)[_0x3b4001(0x1c1)](_0x5bae8d);})[_0x449d4e(0x690)](this[_0x449d4e(0xa5)](_0x449d4e(0xac)),..._0x162840,async(_0x4db217,_0x539530)=>{const _0x2edd8a=_0x449d4e;let _0x296a2f=_0x4db217[_0x2edd8a(0x5dd)];y['verbose']('request\x20received\x20in\x20getFlow'),y['verbose'](_0x2edd8a(0x546)),y[_0x2edd8a(0x49b)](_0x4db217['body']);let _0x3a96d1=await this[_0x2edd8a(0x1e4)]({'request':_0x4db217,'schema':v,'ClassRef':S,'execute':_0x5563da=>O[_0x2edd8a(0x134)](_0x5563da,_0x296a2f)});_0x539530[_0x2edd8a(0x14f)](0xc8)[_0x2edd8a(0x1c1)](_0x3a96d1);})[_0x449d4e(0x522)](this[_0x449d4e(0xa5)]('deleteflow'),..._0x162840,async(_0x44b17a,_0x363b92)=>{const _0x5e4279=_0x449d4e;let _0x50c603=_0x44b17a['body'];y['verbose'](_0x5e4279(0x199)),y[_0x5e4279(0x49b)](_0x5e4279(0x546)),y[_0x5e4279(0x49b)](_0x44b17a[_0x5e4279(0x5dd)]);let _0xfbe7f5=await this[_0x5e4279(0x1e4)]({'request':_0x44b17a,'schema':v,'ClassRef':S,'execute':_0x21f12a=>O[_0x5e4279(0x549)](_0x21f12a,_0x50c603)});_0x363b92[_0x5e4279(0x14f)](0xc8)[_0x5e4279(0x1c1)](_0xfbe7f5);})[_0x449d4e(0x348)](this['routerPath'](_0x449d4e(0x53b)),..._0x162840,async(_0x2c3624,_0xbb0651)=>{const _0x5df2c2=_0x449d4e;y['verbose'](_0x5df2c2(0x278));let _0x3ae616=await this['dataValidate']({'request':_0x2c3624,'schema':v,'ClassRef':S,'execute':_0x4a2971=>O[_0x5df2c2(0x39f)](_0x4a2971)});_0xbb0651[_0x5df2c2(0x14f)](0xc8)[_0x5df2c2(0x1c1)](_0x3ae616);});}},dr=T(require('path')),Y={};function cr(_0x430780,_0xd0346,_0x1c87e0,_0x4e0cf1){Y[_0x430780]||(Y[_0x430780]={}),Y[_0x430780][_0xd0346]={'id':_0xd0346,'response':_0x1c87e0,'events':_0x4e0cf1};}function a0_0x32d2(_0x36a242,_0x242b96){const _0x5154e6=a0_0x5154();return a0_0x32d2=function(_0x32d2d4,_0x2a354c){_0x32d2d4=_0x32d2d4-0x69;let _0xd86f9=_0x5154e6[_0x32d2d4];return _0xd86f9;},a0_0x32d2(_0x36a242,_0x242b96);}function a0_0x5154(){const _0x18368b=['hex','website','):\x20Fluxos\x20não\x20estão\x20ativados','bearer','varedit','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','CONTACTS_UPSERT',':\x20Tentativa\x20','SEND_MESSAGE','content-type','No\x20participants','initAuthCreds','dbServer','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','port','request\x20received\x20in\x20scheduleMessage','shutdown\x20-r\x20now','_Flows','readMessages','Message','getFlowModelForOwner','fetchChats','waitingMenu_id','includes','findGroup','ReplyOption\x20com\x20ID\x20','loadproxy','flowConversation','https://api.openai.com/v1/images/generations','length','Image\x20path:\x20','statusJidList','groups',',\x20Segundo\x20Valor:\x20','uazapiSendText','editflowblock','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','updateReplyOption','debug','documentWithCaptionMessage','Erro\x20ao\x20editar\x20agentes:\x20',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','Rótulo\x20inválido\x20ou\x20sem\x20ID.','webhook','removeChatLabel','instancias:\x20','connectToWhatsappController',',\x20Minutes\x20to\x20Close:\x20','Esse\x20fluxo\x20expirou','Erro\x20ao\x20buscar\x20conversa:\x20','remoteJidsRemaining','/webhook','dbInstance','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','AppStateSyncKeyData','list','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','findAndReplaceRegex','condition','\x1b[31m%s\x1b[0m','\x20tentativas:\x20remotejid=','stopWhenYouSendMsg','replaceVariablesInObject','findWebhook','flowIgnoreGroups','group-participants.update','eventEmitter','getScheduleMessageModelForOwner','messageType','editflowcondition','):\x20Error\x20processing\x20the\x20block:\x20','Unauthorized','collections','Image\x20is\x20url','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','request\x20received\x20in\x20createFlow','):\x20Conversa\x20inserida\x20com\x20sucesso.','Instance\x20\x22','updateMany','CREDENTIALS','licenca','isJidGroup','Chat\x20com\x20ID\x20','AutomateSystem','groupRevokeInvite','getVariablesChat','https://api.openai.com/v1/audio/speech','application/octet-stream','Erro\x20inesperado\x20em\x20processvaredits:\x20',':\x20IP\x20funcionando!','Archiving\x20chat','groupSettingUpdate','none','https://chat.whatsapp.com/','Cached\x20audio\x20found,\x20returning\x20existing\x20file','subject','mediatype','groupFetchAllParticipating','setting','GROUP_PARTICIPANTS_UPDATE','ENABLED','Error\x20writing\x20file:\x20','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','updateAgent','hGet','\x20não\x20encontrado','sendCommand','Fluxo\x20não\x20encontrado','caption','env','DELIVERY_ACK','jsonschema','):\x20Edit\x20schedule\x20message...','notas','):\x20Query\x20params:\x20','imported','listType','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','ultimaTentativaRemoteJid','pollMessage','scheduleSendText','exports','updateCustomFields','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','_Labels','Erro\x20ao\x20remover\x20label\x20','GROUPS_UPDATE','redirect','replaceVariablesChat','locked','--agree-tos','close','defineProperty','body','dayjs','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','document','processConditionsTest','locationMessage','\x0aitem','modifiedCount','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','reference','equal','defineAuthState','KEY','mediaSticker','\x1b[32m','groupId','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Error\x20creating\x20group','redisEnv','output','fetchProfilePictureUrl','reviver','):\x20[messages.upsert]\x20group\x20ignored','\x20is\x20already\x20in\x20use.','number','Enter\x20a\x20value\x20in\x20milliseconds','deletedCount','groupUpdateDescription','\x5c$&','Db\x20Connection','contactHandle','Getting\x20profile\x20info','8080','findByIdAndDelete','sendList','findContacts','toString','Last\x20message\x20not\x20found\x20for\x20number:','):\x20conversation.waitingMenu_name','addBlock','<subdomain>','StartBot','FlowModel','RECONNECT_TIME_FRAME','):\x20alterando\x20this.AutomateSystem','validate','CHATS_UPDATE','updateMediaMessage','path','Conexão\x20estabelecida','deleteInstance','Error\x20updating\x20profile\x20name','*Pergunta*:\x20\x0a','capitalizedWords','updateLastSeenPrivacy','toDataURL','uazapiSendLocation','getConversation','flowname:\x20','updateReadReceiptsPrivacy','https-proxy-agent','/instance/delete','requestPairingCode','flowStopMinutes','updateMessage','STORE_CONTACTS','editflow','SERVER_TYPE','Safari\x20(MacOS)','ERROR:\x20','execSync','ini','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','rows','request\x20received\x20in\x20updateCustomFields','pollCreationMessage','ids','integer','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','creds','setUpdate','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','startsWith','\x20não\x20encontrado\x20para\x20atualização.','presence.update','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','pop','contacts.upsert','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','entries','$pull','logout','\x1b[43m','scheduled','unlocked','revokeInviteCode','mentions','removeData','updateProfilePicture','):\x20[messages.update]\x20group\x20ignored','joinGroupValidate','info','g-t','saveChatVariables','__esModule','splice','uazapi','owner','instanceKeys','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','DARK','toFile','remote\x20\x22origin\x22','Erro\x20ao\x20copiar\x20dados:','upperCase','.ogg','SSL_CONF_PRIVKEY','writeFile','/message','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','hasOwnProperty','all','updateOneById','child_process','http://myexternalip.com/raw','mediaMessage','reactionMessage','Desconectado,\x20parando\x20execução.','cwd','readFileSync','AUTHENTICATION','some','$addToSet','view\x20engine','pollCreationMessageV3','isBase64','):\x20Editando\x20grupo\x20do\x20fluxo...','createConnection','responsavelid','webp','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','success','menuIgnoreNonVotes','default','\x20e\x20ID=','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','statusCode','URI','createWebhook','reorderReplyOptions','request\x20received\x20in\x20editConversation','Background\x20color\x20is\x20required','optionDescription','markMessageAsRead','editFlowVaredit','WebhookGlobal','):\x20Erro\x20durante\x20a\x20atualização:\x20','DaysToDelete','authModel','findFlow','requestFile','sendPoll','updateMissingShareOwners','sendLocation','goNextblock','contactMessage','findOneAndUpdate','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','processUazapi','deleteAll','flattenObject','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','sha256','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','value','exit','STATUS_INSTANCE','insertMany','post','loadWebhook','throwAndLogError','match','mentioned','height','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','request\x20received\x20in\x20deleteConversation','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','notContains','send','EXPIRIN_IN','authorization','name','substring','request\x20received\x20in\x20editFlowcondition','Internal\x20Server\x20Error','Início','save','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','AUTHENTICATION_TYPE','Fetching\x20business\x20profile','/wa-contacts','.webp','sharePass','Error\x20in\x20chatModify\x20for\x20number\x20','unreadCount','sendSticker','replyOptions','isInteger','SERVER_OFFLINE','textMessage','request\x20received\x20in\x20updateAgent','):\x20Enviando\x20localização','secondValue','uuid','-whatsapp-api','):\x20','Authentication\x20error','.docx','):\x20Buscando\x20flow...','deleteMessageForEveryone','.png','.jpg','.svg','badSession','getBase64FromMediaMessage','pollErrorMessage',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','URL:','stopped','Error\x20updating\x20message\x20status:','unavailable','16386uBSHWc','PLAYED','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','editChat','public','extractRegex','createGroup','/instance/create','delayChatLabel','createAndSave','lowerCase','DB_PREFIX_NAME','_error','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','METHODS','Erro\x20ao\x20editar\x20a\x20conversa:\x20','EMAIL:','Flow\x20não\x20encontrado','forEach','inviteCode','end','):\x20leadInfoVariables','.gif','findGroups','updateGParticipant','createConversationforStartFlow','Missing\x20global\x20api\x20key','PASSWORD','instance','closed','getLastMessage','2454618rbJdSe','size','@redis/client','request\x20received\x20in\x20getAutomateSystem','Error\x20occurred\x20while\x20archiving\x20chat:\x20','updateChatWithMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','Error\x20updating\x20setting','Converted\x20image\x20deleted','pollCreationMessageKey','decryptPollVote','sendContact','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','checkAndRestartProcess','writeData','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','variablesNotFound','ORG:','editFlowGroup','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','://','flowStopConversation','@newsletter','processvaredits','src','https','leadInfo.desativadoFluxoAte','command','Deleted\x20','Erro\x20ao\x20editar\x20o\x20chat:\x20','now','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','activatedCount','isBusiness','E-mail:\x20','static','folder','replaceOne','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','DATABASE_CONNECTION_DB_PREFIX_NAME','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','params','arraybuffer','):\x20newFirstValue\x20após\x20replaceVariables:','CONNECTION','Erro\x20ao\x20adicionar\x20label\x20','findByIdAndUpdate','Atualização:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','deleteConversation','where','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','repeat','PRESENCE_UPDATE','lastInteraction','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','.webm','#92ceac','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','charAt','uazapiSendMedia','$set','userDevicesCache','participant','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','NextBlock','):\x20Deletando\x20conversa...','STORE','archiveChat','replaceValue','):\x20Criando\x20fluxo\x20regular...','700zakGHT','apikey','password','blocks','\x20}\x0a','conversationTimestamp','label','PENDING','/media/','Tentando\x20reconectar...','routerPath','/wa-connection-update','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','/exit','Not\x20allowed\x20by\x20CORS','groupParticipantsUpdate','.TEL;waid=','getflow','/create','.xls','updateStatusPrivacy','app','):\x20Visualizando\x20AutomateSystem','changeVariables','updatePrivacySettings','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','request\x20received\x20in\x20updateFlowConfig','REDIS_ENABLED','lastReceivedMessage','waitingMenu_text','#fed428','mongodb','\x20-y','writeFileSync','):\x20Falha\x20ao\x20deletar\x20mensagem.','chatId','findIndex','groups.update','audio','replaceVariablesInReplyOptions','saveConversationToDatabase','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Instance\x20deleted','contentText','min','sendButtons','finish','\x20não\x20encontrado\x20para\x20cópia','findGroupInfo','collection','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','notMatchRegex','webhookService','profilePicture','push','Erro\x20ao\x20importar\x20chats:','username','updateProfilePicturePrivacy','):\x20Query\x20params:','Invalid\x20format','padEnd','prepareMediaMessage','BufferJSON','ignoreGroups','Flow\x20iniciado\x20com\x20','readMessageBot','https://api.elevenlabs.io/v1/text-to-speech/','lastSendMessage','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','viewOnceMessage','CONTACTS_UPDATE','poll','/instance/connectionState','width','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Valor\x20inicial:\x20\x22','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','createRegularFlow','paused','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Error\x20change\x20group\x20name','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','sendMenu','sendStatus','selectableCount','groupAcceptInvite','announcement','#b4ebff','Error\x20updating\x20participants','join','PROXY','findAndReplace','flowPrefixCommand','/*.json','copyDataToNewModel','):\x20Editando\x20replyOption...','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','key','STORE_CHATS','done','getMinutes','@whiskeysockets/baileys','Group\x20not\x20found','chats','viewOnceMessageV2','addReplyOption','reconnectTimestamps','formatBRNumber','string','CHATS_DELETE','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','getStatus','Error\x20updating\x20profile\x20status','instanceInfo','.mp3','mediaKey','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','generateHash','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Variável\x20não\x20encontrada!','video','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','crypto','removeProfilePicture','contactsArrayMessage','updateMissingCustomFields','deleted','toLocaleString','stringify','cache','Parando\x20aplicação,\x20atualização\x20recebida','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','messageTimestamp','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x0a{\x20instance:\x20','deleteChat','Error\x20in\x20converting\x20audio','_id','labels.edit','participants','delay','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','refused','):\x20transformedCustomFieldVariables','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','chats.delete','tags','authService','\x5cd+','code','getFlow','contacts','.\x20Aguardando\x20antes\x20de\x20reconectar...','LOG_LEVEL','\x22\x20-\x20NOT\x20CONNECTION','Erro\x20ao\x20encerrar\x20a\x20API','customFields','.\x20Pulando.','.pdf','DELETED','toUpperCase','isLong','ms\x20(Attempt\x20','flushHeaders','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','groupHandler','item','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','image','):\x20Procurando\x20mensagens\x20para\x20envio','function','\x1b[1m','chats.update','LOG','Selecione','match_last_seen','status','saveCreds','fromObject','SINGLE_SELECT','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','maxActives','quotedMessage','urlOrBase64','\x20instance\x20does\x20not\x20exist','):\x20Bloco\x20copiado:\x20','):\x20customFieldVariables','readData','WA\x20MODULE','#dfaef0','chatModify','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','creation','sendWhatsAppAudio','createflow','Type\x20not\x20found','request\x20received\x20in\x20getConversation','dark','selectedOptions','host','.jwt','replace','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','instance.','Número:\x20','reconnectAttempts','):\x20enviado\x20para\x20[','findConversation','displayName','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','indexOf','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','processblock','webhookMap','chatHandle','updateStopChat','):\x20não\x20encontrou','setHeader','PORT','enabled','verify','saveTextReply','organization','Error\x20fetching\x20and\x20updating\x20profile:\x20','URL','):\x20Enviando\x20mídia','Error\x20updating\x20profile\x20picture','insertCount','/media','messageContextInfo','updateOnlinePrivacy','stopMinutes','stoppedUntil','API\x20Key\x20inválida.','getOwnPropertyNames','deleteReplyOption','setNewValue','No\x20join\x20group\x20invite\x20code\x20or\x20url','log','labelId','process','router','OrAnd','#ffae04','firstValue','test','expiration','notEmpty','replyOption','pino','request\x20received\x20in\x20deleteFlow','fromMe','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','fetchMessages','generate','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','\x1b[44m','#64c4ff','):\x20Criou\x20conversa\x20no\x20startFlow:','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','_Messages','Types','getMIMEType','stanzaId','StatusJidList\x20is\x20required','Converting\x20image\x20to\x20WebP\x20to\x20sticker','authState','\x20saindo\x20da\x20função','messages.update','):\x20teve\x20mudanças\x20chat.archived:\x20','getContactModelForOwner','apiName','privacySettings','drop','createClient','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','./.git/config','temp-','Audio\x20converted\x20and\x20stored\x20in\x20cache','vcard','FULLCHAIN','groupInviteCode','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','connectionUpdate','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20',',\x20Comparador:\x20','exists','Label\x20','#fe9dfe','json','Business\x20profile\x20fetched','minutesToClose','delayChatLabel_RETRY_DELAY_MS','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','groups_ignore','leadInfo.','getClient','createFlow','blockLogs','Operador:\x20\x22','Error\x20in\x20markMessageAsRead:','headers','leadInfo','Database\x20is\x20not\x20enabled','CONNECTION_UPDATE','picture','\x20minutos','connect','rowId','editflowgroup','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','findById','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','AUTHENTICATION_API_KEY','headerString','true','encoding','#d3a91f','getDelay','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','connection.update','context','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','goToFlow','dataValidate','release','joinGroup','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','senderKeyDistributionMessage','SERVER','create','\x1b[33m','getUpdate','contact','errors','pollUpdateMessage','downloadMediaMessage','findLabels','isArray','Reinicialização\x20iniciada:\x20','_p_','contactname','SSL_CONF_FULLCHAIN','longitude','):\x20Bloco\x20com\x20ID\x20','Module\x20-\x20ON','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','fetchLatestBaileysVersion','DATABASE_ENABLED','waMonitor','group','loadInstance','https://github.com/uazapi/uazapi.git','out','creds.update','Error\x20update\x20group\x20picture','instanceCount','long','emit','choices','trimmed','Certbot\x20executado\x20com\x20sucesso.','#6f7bcf','presenceSubscribe','unreadcount','/instance','7343765AGOZOP','http','):\x20Entrou\x20na\x20função\x20stop','editFlowReply','whatsappNumber','logger','delAll','messages','synchronizeFlows','http://ip-api.com/json','fetchProfilePicture','redis://127.0.0.1:6379',',\x20lastCondition:\x20','utf-8','):\x20Campos\x20a\x20serem\x20atualizados:','messageHandle','Chat\x20','onTime','upsertChats','isConnected','ON\x20-\x20dbName:\x20','sendMedia','variables','getProfileName','ButtonsMessage','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Not\x20is\x20business\x20profile','bulkWrite','existsSync','mongodb://','saveMediaToFile','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','Erro\x20de\x20reinicialização:\x20','connectionStatus','Instance\x20ID:','role','fetchConversation','Instância:\x20','EMAIL','groupadd','getScheduleMessage','mkdirSync','Temp\x20image\x20deleted','findOrCreate','birthtime','updateGroupsAddPrivacy','?authSource=admin&readPreference=primary&directConnection=true','chat','text/event-stream','cleaningUp','slice','url','groupCreate','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','The\x20property\x20cannot\x20be\x20empty','DisconnectReason','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','stdout','https://uazapi-plugin.bubbleapps.io/','HeaderType','moreLogs','last','insert','4327496EPAtFy','sections','\x1b[46m','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','MessageModel','endSession','SERVER_ACK','fetchProfile2','allContacts','qrcode','restartInstance','findChats','The\x20','):\x20Usando\x20extensão\x20padrão:\x20','\x1b[30m%s\x1b[0m','):\x20conversation.lastInteraction:\x20','):\x20Buscando\x20conversas...','):\x20Comando\x20desconhecido:\x20','menuMessage','@s.whatsapp.net','Valor\x20de\x20find\x20ou\x20replace\x20ausente','sticker','Router','updateGroupPicture','Fluxos\x20não\x20estão\x20ativados','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','\x20-\x20ON:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','editedMessage','\x1b[33m\x1b[1m','https://ipinfo.io/json','cpf','updateProfileStatus','promote','readMessage','replacer','CLEANING_INTERVAL','leaveGroup','):\x20nextBlock.uazapi.name','):\x20Limpando\x20delayMessage','InstancesAlterarTodas','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Buscando\x20conversa...','request\x20received\x20in\x20allFlows','remove.instance','.X-ABLabel:Celular\x0a','groupValidate','\x1b[32m%s\x1b[0m','closeExistingConversations','resetReconnectionVariables','pt-BR','REDIS_URI','matchRegex','auth','getMessageModelForOwner','INFO','Erro\x20ao\x20normalizar\x20a\x20mensagem:','ChatRouter','removed','http://checkip.dyndns.org','archived','removeInstance','lastBlockId','editFlow','):\x20conversation.status:\x20','latitude','toArray','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Não\x20achou\x20nenhum\x20flow','.error','removeOlderDisconnectedInstances',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','updateMissingTags','CONECTADO\x20À\x20UAZAPI','Bloco\x20com\x20ID\x20','status@broadcast','File\x20written\x20to\x20path:\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','profile','/events/:instance','#00a1f2','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','originalUrl','setWebhook','sendMessageWithTyping','Primeiro\x20Valor:\x20','buttonText','\x20com\x20sucesso.','keys','stopIfLastReturnedError','PRIVKEY','\x20removido\x20do\x20chat\x20','\x22\x20cannot\x20be\x20empty','createInstance','Instância\x20não\x20encontrada.','fetchBusinessProfile','buttonId','\x20minutos...','write','Erro\x20ao\x20aplicar\x20varedit:\x20','Instance\x20restarted','redis','waInstances','utf8','waUploadToServer','exec','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Read\x20messages','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','apiResponse','setRestartTimer','_ScheduleMessages','presence','fullName','limit','oldValue','has','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Ler\x20mensagem','onWhatsApp','pollCreationMessageV2','store','labels.association','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','protocol','certbot','ERROR','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','http://ipecho.net/plain','editflowvariable','https://jsonip.com','processingScheduleMessageId','):\x20Ignoring\x20group\x20messages.','^\x5cd+','pre','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','groupMetadata','):\x20Entrou\x20na\x20função\x20goToFlow','CORS','realVariables','Not\x20Found','lastmsg','):\x20lastBlockId:\x20','console','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','HH:mm:ss','font','content','uncaughtException','qrCode','js-yaml','preview','waitingMenu_replyOptions','deleteOne','augusto.fcs@gmail.com','mongoose','createConversationforgoToFlow','waitingMenu_ExpiredMessage','getDevice','isListOfNumbers','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','last_update','instanceName\x20not\x20provided.','automateSystem','text','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','DEBUG','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','delaySecMin','CHATS_UPSERT','scheduleSendAudio','expression','convertToWebP','\x20after\x20','Logger','open','getAutomateSystem','listen','editflowvaredit','sectionsToString','/chat','array','\x20-\x20retornado:\x20','findParticipants','method','no.connection','contacts.update','Error\x20in\x20scheduleNextCheck:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','extractMessageContent','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','message_normalized','deleteDoneMessages','getOwnPropertyDescriptor',',\x20Resultado:\x20','\x20not\x20found,\x20retrying\x20in\x20','END:VCARD','LICENSE_INVALID','jpegThumbnail','MAX_RECONNECT_ATTEMPTS','\x1b[42m','\x1b[36m','newValue','Nenhum\x20chat\x20encontrado\x20para\x20editar.','user','messageStubType','response','SendScheduleMessage','TYPE','getChatModelForOwner','listMessage','\x1b[47m','parse','recording','isRunning','isURL','pushName','trim','chatLog','processConditions','fetchLabels','Profile\x20not\x20found','Cannot\x20','base64','updateProfileName','createJid','updateParticipant','/instance/connect','GUARD','nomecompleto','audioMessage','views','type','Cache-Control','description','FlowController','\x20ao\x20chat\x20','ip:\x20','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','express','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','FlowRouter','pairingCode','Image\x20created',']\x20(','next_groupId','app-state-sync-key','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','oldToken','get','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','contains','localWebhook','.ogv','\x1b[41m','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','HttpsProxyAgent','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','messages.upsert','remove','flowName','#56ccb4','menuExpiredMessage','All_Instances_Config','variable','deleteMany','envProcess','remoteJids','CONTACTS_SET','editflowreply','storePath','/wa-chats','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Content\x20is\x20required','configService','Erro\x20ao\x20sincronizar\x20fluxos:\x20','bodyString','):\x20atualização\x20chat:\x20','\x20->\x20NÃO\x20CORRESPONDE.','client','readFile','426mbFwyL','agents','videoMessage','sendText','variablesToObject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','not_announcement','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','count','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','\x20attempts.','Hash\x20to\x20image\x20name:\x20','updatePresence','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20Limpando\x20AutomateSystem','segundos','SSL_CONF','stateConnection','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','BRL','--standalone','@ffmpeg-installer/ffmpeg','jid','config','map','lastCondition','Type\x20is\x20required','^\x5cd+[\x5c.@\x5cw-]+','desativadoFluxoAte','Error\x20change\x20group\x20setting','put','Getting\x20profile\x20with\x20jid:\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','DOCKER_ENV','#000000','deleteMessage','order','http://icanhazip.com/','remoteJid',':\x20Erro\x20durante\x20loadproxy\x20-\x20','blockId','toBRL','\x20minutos.\x20Será\x20às\x20','proto','):\x20Iniciando\x20bot...','hbs','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','/wa-groups','buffer','dropCollection','class-validator','):\x20Flow\x20não\x20encontrado','color','instanceName','allFlows','\x1b[37m','loadEnv','jsonwebtoken','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','SUCCESS','phoneNumber','find','http://ifconfig.me/ip','varedits','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','axios','SERVER_URL','chats.upsert','addChatLabel','):\x20Criando\x20fluxo\x20compartilhado...','@broadcast','and','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Variáveis\x20não\x20encontradas:','Processing\x20audio','connectedName','wuid','stopMinutesMaxActives','eventHandler','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','verifiedName','updateMissingLabels','No\x20invite\x20code','lastMessage','convertedOptions','random','\x20de\x20conectar\x20com\x20IP\x20extra.','action','):\x20newSecondValue\x20após\x20replaceVariables:','flow','ChatModel','eventemitter2','generateWAMessageFromContent','mimetype','when','recebido\x20de','importChats','bateu\x20events','noConnection','arrayUnique','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','.wav','toLowerCase','Forbidden','warn','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20ao\x20atualizar\x20o\x20flow.','downloads','#ffc5c7','listResponseMessage','data','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','contextInfo','lean','sendPresenceUpdate','fetchProfile','options','interval\x20não\x20é\x20um\x20número','object','delayChatLabel_MAX_RETRIES','CORS_ORIGIN','.mp4','cleanStore','processPollUpdateMessage','-instances','editScheduleMessage','media','option','fileName','updateConversation','MESSAGES_UPSERT','Falha\x20após\x20várias\x20tentativas.','@g.us','Unable\x20to\x20leave\x20the\x20group','Mensagem\x20não\x20suportada','/wa-message','.ppt','contact_blacklist','creds.json','buttonMessage','empty','add','Instance\x20Key\x20from\x20DB:','stopConversation','updateBlock','buttons','stderr','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20updateResult:','VERBOSE','sendReaction','!cmd_','checkAndUpdateChatStatus','getConversationModelForOwner','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','/config','Erro\x20ao\x20buscar\x20conversas:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','toggleEphemeral','namespace','ObjectId','findAll','):\x20Editando\x20condição\x20do\x20fluxo...','scheduleSendMedia','request\x20received\x20in\x20starFlow','abs','startFlow','set','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','groups.upsert','header','}}\x20->\x20valor\x20não\x20encontrado','getContentType','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','max','send.message','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','sendMessage','ListMessage','lastSend','timerId','/wa-qrcode','HOST','detail','audioWhatsapp','dbClient','formatVCard',':\x20IP\x20configurado:\x20','SERVER_PORT','\x22\x20not\x20found','?timestamp=','block','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','WARN','node-cache','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','\x20contacts','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','isJidBroadcast','MESSAGES_UPDATE','conversation','CORS_METHODS','createServer','PREFIX_KEY','createNewConversation','model','desc','prototype','title','convertaudio','176463aBdcMp','query','connectionState','CHATS_SET','Notifying\x20clients\x20for\x20chat:\x20','normalizeMessage','copy','numbers','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','compression','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20delete\x20=\x20true','groupJid','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','editFlowVariable','\x20horas\x20e\x20','#ffffff','AutomateSystem\x20não\x20foi\x20inicializado','formatStatusMessage','uazapiSendContact','flowConfig','Type\x20defined\x20as\x20audio','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','/instance/fetchInstances','connectToWhatsapp','testProxy','authentication','chats.set','\x1b[33m%s\x1b[0m','greater','binary','linkPreview','replaceVariablesLogs','menuType','hDel','ephemeralExpiration','.xlsx','uazapiSendMenu','audio/mpeg','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','updateFlowConfig','newStoppedUntil','getTime','connecting','parseInt','_activatedCount','msgRetryCounterCache','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','editConversation','API_KEY','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20Deletando\x20fluxo...','events','floor','editOperator','delayMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20teve\x20mudanças\x20chat.displayName:\x20','importChatsBatch','evaluateCondition','messageId','\x1b[34m%s\x1b[0m','uazapiSendAudio','deleteBlock','https://uazapi-plugin.bubbleapps.io/?url=','getTicketSystem','saveVariable','prefixCommand','Last\x20message\x20not\x20found','cors','state','):\x20Erro\x20ao\x20editar\x20agentes:\x20','DATABASE_CONNECTION_PASSWORD','gifPlayback','flowActive','stickerMessage','atendimentoAberto','silent','fetchContacts','normalizeMessageContent','/:instanceName',',\x20fará\x20nova\x20verificação\x20em\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','use','nome','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','vote','demote','verbose','scheduleMessage','Button\x20texts\x20cannot\x20be\x20repeated','Error\x20change\x20group\x20description','AddChatLabel','DATABASE_CONNECTION_HOST','conditions','):\x20Deletando\x20mensagem','isJidUser','ListType','DATABASE',',\x20qrcodeCount:\x20','readdirSync','getRandomText','protocolMessage','\x20do\x20chat\x20','filter','2807RNnjOH','setContext','PRODUCT_LIST','profilePictureUrl','replaceVariables','split','Deletion\x20failed','editFlowCondition','30984PlQilG','MESSAGES_SET','REDIS','start','prepareWAMessageMedia','\x1b[0m','TEXT','round','assign','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','scheduleNextCheck','updateOne','Close\x20connection','\x1b[36m%s\x1b[0m','apply','STORE_CLEANING_TERMINAL','jwt','enviado\x20para','truncatedto','apirequest','#9568cf','AutomateFunctions','sleep','Chrome','footerText','):\x20Procurando\x20conversa','uazapiDeleteMessage','values','quoted','boolean','email','messaging-history.set','connectedClient','sem\x20texto\x20na\x20mensagem','\x1b[34m','fetchPrivacySettings','repository','inner','editFlowBlock','spawn','processApiRequest','/automate','):\x20expirationTime:\x20','):\x20Going\x20to\x20','flush','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','lastDisconnect','):\x20Conversas\x20encontradas:','getMessage','notEqual','importChatsAntigo','label_jid','pollOnReplyDelete','local_map','subdomain','reaction','everyOne','sendAudio','_Chats','available','groupDesc','evaluateConditionTest','GROUPS_UPSERT','imagechat','copyBlock','update','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','unhandledRejection','Log\x20out\x20instance:\x20','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','READ','updateAll','g.us','Error\x20fetching\x20group','sending','groupSetting','):\x20Conversa\x20está\x20expirada','call','RemoveChatLabel','request\x20received\x20in\x20editFlow','^\x5cd+([-]\x5cd+)*@g.us$','getLabelModelForOwner','\x0a*Você\x20respondeu*:\x0a','archive','Erro\x20ao\x20atualizar\x20o\x20fluxo:','readreceipts','):\x20Enviando\x20texto','):\x20Conversa\x20está\x20expirada\x20-\x20voto','applyvaredit','createSectionsFromValues','status.instance','sort','fone','groupName','createHash',',\x20saindo.','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','#f64847','Erro\x20ao\x20atualizar\x20AutomateSystem:','Revoke\x20error','Trying\x20to\x20get\x20business\x20profile','error','Connection\x20closed\x20for\x20instance:\x20','endsWith','USER','#83e421','online','express-async-errors','application/json','statusMessage','delete','QRCODE_UPDATED','updateGParticipate','hGetAll','valid','The\x20global\x20api\x20key\x20must\x20be\x20set','shareOwners','../env.yml','ContactModel','Schema','shift','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Erro\x20ao\x20inserir\x20chats:','Content-Type','from','message','etiquetas','Erro\x20ao\x20deletar\x20mensagens:','envYaml','useMultiFileAuthState','data:\x20','currency','59683217hWVtnN','SECRET','metadata','allflows','backgroundColor','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Enviando\x20áudio',',\x20valor\x20passado:\x20\x22','qrcode-terminal','errorLog','fetchInstances','Erro\x20do\x20Certbot:\x20','50mb',',\x20Expiration\x20Time:\x20','request\x20body:\x20','findOne','qrcode.updated','deleteFlow','dbSettings','):\x20Erro\x20ao\x20buscar\x20conversas\x20','Erro:','sendDataWebhook','\x22\x20-\x20REMOVED','1MyKxEW',',\x20pairCode:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','reorderBlocks','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','composing','error_log'];a0_0x5154=function(){return _0x18368b;};return a0_0x5154();}function lr(_0x2d4cd1,_0x4361ff){!Y[_0x2d4cd1]||!Y[_0x2d4cd1][_0x4361ff]||delete Y[_0x2d4cd1][_0x4361ff];}function q(_0x42f649,_0x2cc160,_0x396789){const _0x1ccd66=a0_0x1b487a;if(!Y[_0x42f649])return;let _0x2229c1=_0x1ccd66(0x536)+JSON['stringify'](_0x396789)+'\x0a\x0a';Object[_0x1ccd66(0x4cf)](Y[_0x42f649])[_0x1ccd66(0x6d9)](_0x519b67=>{const _0xa89a44=_0x1ccd66;_0x519b67[_0xa89a44(0x476)][_0xa89a44(0x56d)](_0x2cc160)&&_0x519b67[_0xa89a44(0x31d)][_0xa89a44(0x2af)](_0x2229c1);});}function ur(){const _0x548341=a0_0x1b487a;let _0x353e3f={};for(let _0x3c88eb in Y)_0x353e3f[_0x3c88eb]=Object[_0x548341(0x4cf)](Y[_0x3c88eb])[_0x548341(0x381)](_0x38011d=>({'id':_0x38011d['id'],'events':_0x38011d[_0x548341(0x476)]}));return _0x353e3f;}var pr=require(a0_0x1b487a(0x6b4)),ws=require(a0_0x1b487a(0x2e8)),fs=class{},li=new ws[(a0_0x1b487a(0x52b))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x1b487a(0x52b))]({'_id':{'type':String,'default':a0_0x1b487a(0x380)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.['model'](fs[a0_0x1b487a(0x69e)],ui,a0_0x1b487a(0x357)),di=dr[a0_0x1b487a(0x66d)][a0_0x1b487a(0xf6)](__dirname,a0_0x1b487a(0x3d7)),Nt=(0x0,vt[a0_0x1b487a(0x263)])(),pi=b['get'](a0_0x1b487a(0x65f))[a0_0x1b487a(0x31f)],ee=[ya,ba,Ca[pi]];Nt[a0_0x1b487a(0x496)](a0_0x1b487a(0x183),vt[a0_0x1b487a(0x66d)][a0_0x1b487a(0x74)](di))[a0_0x1b487a(0x348)](a0_0x1b487a(0x29c),async(_0x58cb68,_0x3659af)=>{const _0x48b1d9=a0_0x1b487a;console[_0x48b1d9(0x18d)](_0x48b1d9(0x3cd));let _0x595bb9=_0x58cb68[_0x48b1d9(0x7c)][_0x48b1d9(0x6e3)],_0x490d70=(_0x58cb68[_0x48b1d9(0x440)][_0x48b1d9(0x476)]||'')['split'](','),_0x1e2e3a=(0x0,pr['v4'])();console[_0x48b1d9(0x18d)](_0x48b1d9(0x230),_0x595bb9),console[_0x48b1d9(0x18d)]('Subscribed\x20Events:',_0x490d70);let _0x2ecfbe=b[_0x48b1d9(0x348)](_0x48b1d9(0x65f))[_0x48b1d9(0x472)],_0x263111=_0x58cb68[_0x48b1d9(0x440)]['apikey'];if(console[_0x48b1d9(0x18d)]('API\x20Key\x20from\x20Request:',_0x263111),_0x2ecfbe[_0x48b1d9(0x5e9)]!==_0x263111){console[_0x48b1d9(0x18d)]('env.KEY\x20!==\x20key');try{let _0x175d33=await ue[_0x48b1d9(0x282)]['find'](_0x595bb9);if(console['log'](_0x48b1d9(0x3fa),_0x175d33),!_0x175d33||_0x175d33[_0x48b1d9(0x9c)]!==_0x263111)return console[_0x48b1d9(0x18d)](_0x48b1d9(0x5a0)),_0x3659af[_0x48b1d9(0x14f)](0x191)['send'](_0x48b1d9(0x188));}catch(_0x2cc64a){return console[_0x48b1d9(0x519)](_0x48b1d9(0x473),_0x2cc64a),_0x3659af[_0x48b1d9(0x14f)](0x191)[_0x48b1d9(0x69b)](_0x48b1d9(0x432));}}if(!await ze(_0x595bb9))return _0x3659af[_0x48b1d9(0x14f)](0x194)['send'](_0x48b1d9(0x2ab));_0x3659af[_0x48b1d9(0x178)](_0x48b1d9(0x52f),_0x48b1d9(0x23e)),_0x3659af['setHeader'](_0x48b1d9(0x338),'no-cache'),_0x3659af['setHeader']('Connection','keep-alive'),_0x3659af[_0x48b1d9(0x141)]();let _0x512acf=_0x48b1d9(0x536)+JSON[_0x48b1d9(0x11e)]({'info':_0x48b1d9(0x60e)})+'\x0a\x0a';_0x3659af['write'](_0x512acf),cr(_0x595bb9,_0x1e2e3a,_0x3659af,_0x490d70),_0x58cb68['on']('close',()=>{const _0x24e1a4=_0x48b1d9;console[_0x24e1a4(0x18d)](_0x24e1a4(0x51a)+_0x595bb9),lr(_0x595bb9,_0x1e2e3a);});}),Nt[a0_0x1b487a(0x348)]('/clients-info',(_0x4d1ec0,_0x14d0a7)=>{const _0x5de3a8=a0_0x1b487a;let _0x36bf3c=ur();_0x14d0a7[_0x5de3a8(0x1c1)](_0x36bf3c);})[a0_0x1b487a(0x348)]('/',(_0x14f668,_0x4e296c)=>{const _0x1080c0=a0_0x1b487a;let _0x4a9a79=b[_0x1080c0(0x348)](_0x1080c0(0x1e9))[_0x1080c0(0x17f)];if(_0x4a9a79){let _0x2f9609=encodeURIComponent(''+_0x4a9a79);_0x4e296c[_0x1080c0(0x5d7)](_0x1080c0(0x482)+_0x2f9609);return;}let _0x38b660=b['get'](_0x1080c0(0x379)),_0x15b3b7=_0x38b660&&_0x38b660[_0x1080c0(0x1b8)][_0x1080c0(0x4b1)]('/')[0x4];if(_0x15b3b7){let _0x3d7e67=encodeURIComponent('https://'+_0x15b3b7);_0x4e296c['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x3d7e67);}else _0x4e296c['redirect'](_0x1080c0(0x248));})[a0_0x1b487a(0x387)]('/exit',...ee,async(_0x24b673,_0x1bfd76)=>{const _0xda477a=a0_0x1b487a;try{console[_0xda477a(0x18d)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x1bfd76[_0xda477a(0x14f)](0xc8)[_0xda477a(0x1c1)]({'message':_0xda477a(0x689)}),_0x1bfd76['on'](_0xda477a(0xcb),()=>process[_0xda477a(0x68d)](0x0));}catch(_0x411a01){console[_0xda477a(0x519)](_0xda477a(0xe9),_0x411a01),_0x1bfd76[_0xda477a(0x14f)](0x1f4)[_0xda477a(0x1c1)]({'message':_0xda477a(0x139)});}})['put'](a0_0x1b487a(0x407),...ee,async(_0x15cf20,_0x4e764b)=>{const _0x50e8ed=a0_0x1b487a;try{let _0x4cc249=_0x15cf20[_0x50e8ed(0x5dd)];await we[_0x50e8ed(0x4bf)]({},{'$set':_0x4cc249},{'upsert':!0x0});let _0x18f943=await we[_0x50e8ed(0x547)]();_0x4e764b[_0x50e8ed(0x1c1)](_0x18f943);}catch(_0x13ca26){_0x4e764b[_0x50e8ed(0x14f)](0x190)['send'](_0x13ca26[_0x50e8ed(0x531)]);}})['get'](a0_0x1b487a(0x407),...ee,async(_0x10268f,_0x192a6a)=>{const _0xd9cdac=a0_0x1b487a;try{let _0x103a22=await we['findOne']();if(!_0x103a22)return _0x192a6a[_0xd9cdac(0x1c1)]({});_0x192a6a['json'](_0x103a22);}catch(_0x2970b7){_0x192a6a[_0xd9cdac(0x14f)](0x1f4)[_0xd9cdac(0x69b)](_0x2970b7[_0xd9cdac(0x531)]);}})['use'](a0_0x1b487a(0x20d),new lt(b,...ee)[a0_0x1b487a(0x190)])[a0_0x1b487a(0x496)](a0_0x1b487a(0x653),new St(...ee)['router'])[a0_0x1b487a(0x496)](a0_0x1b487a(0x302),new Ze(...ee)[a0_0x1b487a(0x190)])[a0_0x1b487a(0x496)]('/group',new ct(...ee)[a0_0x1b487a(0x190)])['use'](a0_0x1b487a(0x589),new Ct(...ee)['router'])[a0_0x1b487a(0x496)](a0_0x1b487a(0x4dd),new Mt(...ee)[a0_0x1b487a(0x190)]);var w=class{constructor(..._0x4e878b){const _0x51779a=a0_0x1b487a;throw{'status':0x190,'error':'Bad\x20Request','message':_0x4e878b[_0x51779a(0x573)]>0x0?_0x4e878b:void 0x0};}},Z=class{constructor(..._0x31a187){const _0x237ab9=a0_0x1b487a;throw{'status':0x191,'error':_0x237ab9(0x59d),'message':_0x31a187[_0x237ab9(0x573)]>0x0?_0x31a187:void 0x0};}},H=class{constructor(..._0x47fb99){const _0x517c46=a0_0x1b487a;throw{'status':0x193,'error':_0x517c46(0x3d3),'message':_0x47fb99[_0x517c46(0x573)]>0x0?_0x47fb99:void 0x0};}},k=class{constructor(..._0x4f845e){throw{'status':0x194,'error':'Not\x20Found','message':_0x4f845e['length']>0x0?_0x4f845e:void 0x0};}},I=class{constructor(..._0x49ed51){const _0x411657=a0_0x1b487a;throw{'status':0x1f4,'error':_0x411657(0x6a1),'message':_0x49ed51['length']>0x0?_0x49ed51:void 0x0};}},de=require(a0_0x1b487a(0x103));async function ys(_0x3ea982){const _0x1b417e=a0_0x1b487a;let _0x5bde83=new N(ys[_0x1b417e(0x69e)]),_0x35cb73=R[_0x1b417e(0x1c8)](),_0x3acf34=_0x35cb73['db'](b[_0x1b417e(0x348)](_0x1b417e(0x4a5))[_0x1b417e(0x7f)]['DB_PREFIX_NAME']+_0x1b417e(0x3e8))[_0x1b417e(0xce)](_0x3ea982),_0x463c0e=async(_0x419b43,_0x168e07)=>{const _0x539fd8=_0x1b417e;try{return await _0x35cb73[_0x539fd8(0x1d3)](),await _0x3acf34[_0x539fd8(0x76)]({'_id':_0x168e07},JSON['parse'](JSON[_0x539fd8(0x11e)](_0x419b43,de[_0x539fd8(0xdb)][_0x539fd8(0x270)])),{'upsert':!0x0});}catch{}},_0xebf38=async _0x15dd00=>{const _0x299e4f=_0x1b417e;try{await _0x35cb73[_0x299e4f(0x1d3)]();let _0x3b4d1f=await _0x3acf34[_0x299e4f(0x547)]({'_id':_0x15dd00}),_0xb431c=JSON[_0x299e4f(0x11e)](_0x3b4d1f);return JSON[_0x299e4f(0x323)](_0xb431c,de['BufferJSON'][_0x299e4f(0x5f2)]);}catch{}},_0x5163e6=async _0x2908e4=>{const _0xa57b44=_0x1b417e;try{return await _0x35cb73['connect'](),await _0x3acf34[_0xa57b44(0x2e6)]({'_id':_0x2908e4});}catch{}},_0x2e3c44=await _0xebf38('creds')||(0x0,de[_0x1b417e(0x561)])();return{'state':{'creds':_0x2e3c44,'keys':{'get':async(_0x55f4d7,_0x216319)=>{const _0x303066=_0x1b417e;let _0x48c022={};return await Promise[_0x303066(0x656)](_0x216319['map'](async _0x4ed414=>{const _0x31215f=_0x303066;let _0x285c5f=await _0xebf38(_0x55f4d7+'-'+_0x4ed414);_0x55f4d7==='app-state-sync-key'&&_0x285c5f&&(_0x285c5f=de[_0x31215f(0x394)][_0x31215f(0x569)][_0x31215f(0x58c)][_0x31215f(0x151)](_0x285c5f)),_0x48c022[_0x4ed414]=_0x285c5f;})),_0x48c022;},'set':async _0x2510dc=>{const _0x51bc1d=_0x1b417e;let _0x36b078=[];for(let _0x1b0a9e in _0x2510dc)for(let _0xbe67d in _0x2510dc[_0x1b0a9e]){let _0x312ca9=_0x2510dc[_0x1b0a9e][_0xbe67d],_0x365b31=_0x1b0a9e+'-'+_0xbe67d;_0x36b078[_0x51bc1d(0xd3)](_0x312ca9?_0x463c0e(_0x312ca9,_0x365b31):_0x5163e6(_0x365b31));}await Promise['all'](_0x36b078);}}},'saveCreds':async()=>_0x463c0e(_0x2e3c44,_0x1b417e(0x62c))};}var Cs=T(require(a0_0x1b487a(0x205))),Ms=T(require(a0_0x1b487a(0x42f))),Ot=require(a0_0x1b487a(0x103)),hr=require(a0_0x1b487a(0x6e8)),Tt=require(a0_0x1b487a(0x103)),Rt;function hi(_0x1e218b){const _0x39e2e2=a0_0x1b487a;return Rt||(Rt=(0x0,hr[_0x39e2e2(0x1b2)])({'url':_0x1e218b[_0x39e2e2(0x671)]}),Rt[_0x39e2e2(0x1d3)]()),Rt;}var oe=class c{constructor(_0x52f1e0,_0x45557e){const _0x5a3628=a0_0x1b487a;this[_0x5a3628(0x5ef)]=_0x52f1e0,this['instanceName']=_0x45557e,this[_0x5a3628(0x213)]=new N(c[_0x5a3628(0x69e)]),this[_0x5a3628(0x367)]=hi(_0x52f1e0);}set[a0_0x1b487a(0x5e6)](_0x3d09a2){this['instanceName']=_0x3d09a2;}async[a0_0x1b487a(0x649)](){const _0x527c7e=a0_0x1b487a;try{return await this[_0x527c7e(0x367)][_0x527c7e(0x5c0)]([_0x527c7e(0x2a5),this[_0x527c7e(0x5ef)][_0x527c7e(0x438)]+':*']);}catch(_0x5257ca){this[_0x527c7e(0x213)][_0x527c7e(0x519)](_0x5257ca);}}async['writeData'](_0x211eb8,_0x2eccf3){const _0x204221=a0_0x1b487a;try{let _0x208c17=JSON[_0x204221(0x11e)](_0x2eccf3,Tt[_0x204221(0xdb)]['replacer']);return await this[_0x204221(0x367)]['hSet'](this[_0x204221(0x5ef)][_0x204221(0x438)]+':'+this[_0x204221(0x39e)],_0x211eb8,_0x208c17);}catch(_0x1bfc5a){this['logger']['error'](_0x1bfc5a);}}async['getAllData'](){const _0x232815=a0_0x1b487a;try{let _0xca8cbb=await this[_0x232815(0x367)][_0x232815(0x525)](this[_0x232815(0x5ef)][_0x232815(0x438)]+':'+this[_0x232815(0x39e)]);if(_0xca8cbb){for(let _0x112467 in _0xca8cbb)Object[_0x232815(0x43c)]['hasOwnProperty'][_0x232815(0x501)](_0xca8cbb,_0x112467)&&(_0xca8cbb[_0x112467]=JSON[_0x232815(0x323)](_0xca8cbb[_0x112467],Tt[_0x232815(0xdb)]['reviver']));return _0xca8cbb;}}catch(_0x13581f){this[_0x232815(0x213)][_0x232815(0x519)](_0x13581f);}}async['readData'](_0x2bdf91){const _0x7612a7=a0_0x1b487a;try{let _0x548e96=await this[_0x7612a7(0x367)][_0x7612a7(0x5be)](this[_0x7612a7(0x5ef)][_0x7612a7(0x438)]+':'+this[_0x7612a7(0x39e)],_0x2bdf91);if(_0x548e96)return JSON['parse'](_0x548e96,Tt[_0x7612a7(0xdb)][_0x7612a7(0x5f2)]);}catch(_0x3da081){this[_0x7612a7(0x213)]['error'](_0x3da081);}}async[a0_0x1b487a(0x63e)](_0x24e5d4){const _0x45f274=a0_0x1b487a;try{return await this['client'][_0x45f274(0x463)](this[_0x45f274(0x5ef)]['PREFIX_KEY']+':'+this[_0x45f274(0x39e)],_0x24e5d4);}catch(_0x5b24f4){this[_0x45f274(0x213)][_0x45f274(0x519)](_0x5b24f4);}}async[a0_0x1b487a(0x214)](_0x50772d){const _0x4503a3=a0_0x1b487a;try{return await this['client']['del'](_0x50772d||this[_0x4503a3(0x5ef)][_0x4503a3(0x438)]+':'+this[_0x4503a3(0x39e)]);}catch(_0x5a1e62){this[_0x4503a3(0x213)]['error'](_0x5a1e62);}}};async function bs(_0x36b066,_0x1ea9a9){const _0x1d374b=a0_0x1b487a;let _0x398a08=new N(bs[_0x1d374b(0x69e)]),_0x1a4922=new oe(_0x36b066,_0x1ea9a9),_0x5c9aa1=async(_0x2bd720,_0x312ffd)=>{const _0x15f461=_0x1d374b;try{return await _0x1a4922[_0x15f461(0x6f4)](_0x312ffd,_0x2bd720);}catch(_0x53c5e8){return _0x398a08[_0x15f461(0x519)]({'localError':'writeData','error':_0x53c5e8});}},_0x47e5d1=async _0x1e1e20=>{const _0x3d64e4=_0x1d374b;try{return await _0x1a4922[_0x3d64e4(0x15a)](_0x1e1e20);}catch(_0x23abfc){_0x398a08[_0x3d64e4(0x519)]({'readData':_0x3d64e4(0x6f4),'error':_0x23abfc});return;}},_0x198f67=async _0x1859c8=>{const _0x2e3bc0=_0x1d374b;try{return await _0x1a4922['removeData'](_0x1859c8);}catch(_0xe5737e){_0x398a08['error']({'readData':_0x2e3bc0(0x63e),'error':_0xe5737e});}},_0xa9c6a4=await _0x47e5d1(_0x1d374b(0x62c))||(0x0,Ot[_0x1d374b(0x561)])();return{'state':{'creds':_0xa9c6a4,'keys':{'get':async(_0x246c87,_0x98d6f8)=>{const _0x2f1acc=_0x1d374b;let _0x2f8b30={};return await Promise[_0x2f1acc(0x656)](_0x98d6f8[_0x2f1acc(0x381)](async _0xa095bd=>{const _0x42ed91=_0x2f1acc;let _0x26a766=await _0x47e5d1(_0x246c87+'-'+_0xa095bd);_0x246c87===_0x42ed91(0x345)&&_0x26a766&&(_0x26a766=Ot['proto'][_0x42ed91(0x569)][_0x42ed91(0x58c)][_0x42ed91(0x151)](_0x26a766)),_0x2f8b30[_0xa095bd]=_0x26a766;})),_0x2f8b30;},'set':async _0x43c16f=>{const _0x4cf802=_0x1d374b;let _0x20ab94=[];for(let _0x1953c4 in _0x43c16f)for(let _0x2b4f8c in _0x43c16f[_0x1953c4]){let _0x40b1c3=_0x43c16f[_0x1953c4][_0x2b4f8c],_0xaff88e=_0x1953c4+'-'+_0x2b4f8c;_0x20ab94[_0x4cf802(0xd3)](_0x40b1c3?await _0x5c9aa1(_0x40b1c3,_0xaff88e):await _0x198f67(_0xaff88e));}await Promise['all'](_0x20ab94);}}},'saveCreds':async()=>await _0x5c9aa1(_0xa9c6a4,'creds')};}var L=T(require('fs')),Me=require(a0_0x1b487a(0x6b4)),Dt=T(require('sharp')),_t=require(a0_0x1b487a(0x619)),gi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x1b487a(0x328)](),At=gi[a0_0x1b487a(0x4b1)]('\x0a')[a0_0x1b487a(0x381)](_0x5045b3=>{const _0x50901a=a0_0x1b487a;let _0x48b652=_0x5045b3['split'](':'),_0xd92ab9={'host':_0x48b652[0x0],'port':_0x48b652[0x1],'protocol':_0x50901a(0x20f)};return _0x48b652[_0x50901a(0x573)]===0x4&&(_0xd92ab9['username']=_0x48b652[0x2],_0xd92ab9[_0x50901a(0x9d)]=_0x48b652[0x3]),_0xd92ab9;});function gr(_0x3f7d39){const _0x3a4f84=a0_0x1b487a;return At[_0x3a4f84(0x3a8)](_0x16bc56=>_0x16bc56[_0x3a4f84(0x166)]===_0x3f7d39)||null;}function mr(){const _0x1758a7=a0_0x1b487a;if(At[_0x1758a7(0x573)]===0x0)return null;let _0x12da19=Math[_0x1758a7(0x477)](Math[_0x1758a7(0x3c1)]()*At['length']);return At[_0x12da19];}function Ss(_0x2af1df){const _0x3f5482=a0_0x1b487a;let _0x32e668=_0x33e2d8=>typeof _0x33e2d8==_0x3f5482(0x10a)&&_0x33e2d8[_0x3f5482(0x573)]>0x0,_0x1f852b=_0x536090=>{let _0x590195=parseInt(_0x536090,0xa);return!isNaN(_0x590195)&&_0x590195>0x0&&_0x590195<=0xffff;},_0x575f65=_0x3c6a50=>typeof _0x3c6a50==_0x3f5482(0x10a)&&_0x3c6a50[_0x3f5482(0x573)]>0x0;return _0x2af1df&&_0x32e668(_0x2af1df[_0x3f5482(0x166)])&&_0x1f852b(_0x2af1df[_0x3f5482(0x564)])&&(!_0x2af1df[_0x3f5482(0xd5)]||_0x575f65(_0x2af1df[_0x3f5482(0xd5)]))&&(!_0x2af1df[_0x3f5482(0x9d)]||_0x575f65(_0x2af1df[_0x3f5482(0x9d)]))&&(_0x2af1df[_0x3f5482(0x2c9)]===_0x3f5482(0x20f)||_0x2af1df['protocol']==='https');}var vs=require(a0_0x1b487a(0x118)),Cr=a0_0x1b487a(0x621),Ns,ne=null,fr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x84e129=a0_0x1b487a;let _0x5aeeaf=await we['findOne']();ne=_0x5aeeaf?.[_0x84e129(0x679)]??null,fi=_0x5aeeaf?.[_0x84e129(0x67b)]??null,Cr=_0x5aeeaf?.[_0x84e129(0x4d4)]??_0x84e129(0x4cb),Ns=_0x5aeeaf?.[_0x84e129(0x3b6)]??Rs??_0x84e129(0x647),console[_0x84e129(0x18d)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x84e129(0x18d)](_0x5aeeaf);}async function yi(){await wi();}yi();var wr={},te={},ye=class c{constructor(_0x5b7411,_0x40fdc9,_0x92ed85){const _0x19eb70=a0_0x1b487a;this[_0x19eb70(0x362)]=_0x5b7411,this[_0x19eb70(0x598)]=_0x40fdc9,this['repository']=_0x92ed85,this[_0x19eb70(0x5a9)]=null,this['logger']=new N(c[_0x19eb70(0x69e)]),this['instance']={},this['localWebhook']={},this['stateConnection']={'state':_0x19eb70(0x5db)},this[_0x19eb70(0x35e)]=(0x0,j[_0x19eb70(0xf6)])(re,_0x19eb70(0x3d7)),this[_0x19eb70(0x46f)]=new Ms[(_0x19eb70(0x66d))](),this[_0x19eb70(0x92)]=new Ms['default'](),this[_0x19eb70(0x252)]=!0x1,this[_0x19eb70(0x174)]={'status.instance':_0x19eb70(0xa6),'qrcode.updated':_0x19eb70(0x422),'messages.upsert':'/wa-message','messages.update':'/wa-message-update','send.message':'/wa-message','group.upsert':_0x19eb70(0x398),'group.update':_0x19eb70(0x398),'group-participants.update':_0x19eb70(0x398),'connection.update':_0x19eb70(0xa6),'messages.set':_0x19eb70(0x3f3),'contacts.set':_0x19eb70(0x6a7),'contacts.upsert':'/wa-contacts','contacts.update':_0x19eb70(0x6a7),'presence.update':'/wa-presence','chats.set':_0x19eb70(0x35f),'chats.update':_0x19eb70(0x35f),'chats.upsert':_0x19eb70(0x35f),'chats.delete':_0x19eb70(0x35f)},this[_0x19eb70(0x16c)]=0x0,this['reconnectTimestamps']=[],this[_0x19eb70(0x316)]=0xa,this[_0x19eb70(0x608)]=0xea60,this[_0x19eb70(0x325)]=!0x1,this[_0x19eb70(0x175)]={'chats.upsert':async(_0x54d302,_0x329a3d)=>{const _0x198d8d=_0x19eb70;let _0x40581d=[];for await(let _0x4a1e52 of _0x54d302)_0x40581d['push']({'_id':_0x4a1e52['id'],'owner':this[_0x198d8d(0x6e3)][_0x198d8d(0x3b7)],'group':_0x4a1e52['id']['endsWith']('@g.us'),'name':_0x4a1e52[_0x198d8d(0x69e)]||_0x4a1e52[_0x198d8d(0x16f)]||null,'contactname':null,'lastmsg':_0x4a1e52['conversationTimestamp']&&_0x4a1e52[_0x198d8d(0xa0)][_0x198d8d(0x601)]()[_0x198d8d(0x573)]<0xd?_0x4a1e52['conversationTimestamp']*0x3e8:_0x4a1e52['conversationTimestamp']||null,'archived':_0x4a1e52[_0x198d8d(0x289)]||!0x1,'unreadcount':_0x4a1e52[_0x198d8d(0x6ab)]||0x0});this[_0x198d8d(0x54d)]('chats.upsert',_0x40581d);},'chats.update':async(_0x1a52fa,_0x461bbd)=>{const _0x1a16d6=_0x19eb70;for(let _0x372034 of _0x1a52fa){let _0x549e56={'_id':_0x372034['id'],'owner':this['instance'][_0x1a16d6(0x3b7)],'group':_0x372034['id'][_0x1a16d6(0x51b)](_0x1a16d6(0x3f0)),'name':_0x372034[_0x1a16d6(0x69e)]||_0x372034[_0x1a16d6(0x16f)],'archived':_0x372034[_0x1a16d6(0x289)],'ephemeralExpiration':_0x372034[_0x1a16d6(0x464)]},_0xde7ac=!0x1,_0x253edb={};_0x549e56[_0x1a16d6(0x289)]!=null&&(this[_0x1a16d6(0x213)][_0x1a16d6(0x49b)](this['instanceName']+'\x20('+this[_0x1a16d6(0x6e3)]['wuid']+_0x1a16d6(0x1ad)+_0x372034['archived']),_0xde7ac=!0x0,_0x253edb[_0x1a16d6(0x289)]=_0x372034['archived']),_0x372034[_0x1a16d6(0x69e)]!=null&&(this[_0x1a16d6(0x213)][_0x1a16d6(0x49b)](this[_0x1a16d6(0x39e)]+'\x20('+this[_0x1a16d6(0x6e3)][_0x1a16d6(0x3b7)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x372034[_0x1a16d6(0x69e)]),_0xde7ac=!0x0,_0x253edb[_0x1a16d6(0x69e)]=_0x372034[_0x1a16d6(0x69e)]),_0x372034[_0x1a16d6(0x16f)]!=null&&(this[_0x1a16d6(0x213)][_0x1a16d6(0x49b)](this[_0x1a16d6(0x39e)]+'\x20('+this['instance'][_0x1a16d6(0x3b7)]+_0x1a16d6(0x47b)+_0x372034[_0x1a16d6(0x16f)]),_0xde7ac=!0x0,_0x253edb[_0x1a16d6(0x69e)]=_0x372034[_0x1a16d6(0x16f)]);let _0x1e6f45;_0xde7ac&&(_0x1e6f45=await this[_0x1a16d6(0x4d8)][_0x1a16d6(0x23d)]['updateOne']({'where':{'_id':_0x372034['id']}},_0x253edb,this['instance'][_0x1a16d6(0x3b7)])),_0x1e6f45&&q(this[_0x1a16d6(0x39e)],_0x1a16d6(0x105),{'chat':_0x1e6f45});}},'chats.delete':async _0x449169=>{const _0x3d3796=_0x19eb70;this[_0x3d3796(0x54d)](_0x3d3796(0x12f),[..._0x449169]);}},this[_0x19eb70(0x5fb)]={'contacts.upsert':async(_0x39a694,_0x1154d6)=>{const _0xa3b006=_0x19eb70;let _0x26293f=await this[_0xa3b006(0x4d8)]['contact'][_0xa3b006(0x3a8)]({'where':{}},this[_0xa3b006(0x6e3)][_0xa3b006(0x3b7)]),_0x582989=[];for await(let _0x2c11e6 of _0x39a694)_0x26293f[_0xa3b006(0x3a8)](_0x4dde43=>_0x4dde43[_0xa3b006(0x127)]===_0x2c11e6['id'])||_0x582989['push']({'_id':_0x2c11e6['id'],'pushName':_0x2c11e6?.['name']||_0x2c11e6?.[_0xa3b006(0x3bc)],'owner':this[_0xa3b006(0x6e3)][_0xa3b006(0x3b7)]});this[_0xa3b006(0x54d)](_0xa3b006(0x634),_0x582989),await this['repository'][_0xa3b006(0x1ed)]['insert'](_0x582989);},'contacts.update':async(_0x29999d,_0x370878)=>{const _0x276f91=_0x19eb70;let _0x11f88f=[];for await(let _0x120250 of _0x29999d)_0x11f88f['push']({'_id':_0x120250['id'],'pushName':_0x120250?.[_0x276f91(0x69e)]??_0x120250?.[_0x276f91(0x3bc)],'owner':this[_0x276f91(0x6e3)][_0x276f91(0x3b7)]});this[_0x276f91(0x54d)](_0x276f91(0x308),_0x11f88f);}},this[_0x19eb70(0x21d)]={'messaging-history.set':async({messages:_0x3f15a6,chats:_0x4b6fd8,isLatest:_0x231b1e},_0x3796cd)=>{const _0x1347f5=_0x19eb70;if(_0x231b1e){let _0x242fb0=await Promise[_0x1347f5(0x656)](_0x4b6fd8['map'](async _0x5d754d=>({'_id':_0x5d754d['id'],'owner':this[_0x1347f5(0x6e3)][_0x1347f5(0x3b7)],'group':_0x5d754d['id']['endsWith'](_0x1347f5(0x3f0)),'name':_0x5d754d['name']||_0x5d754d[_0x1347f5(0x16f)]||null,'contactname':null,'lastmsg':_0x5d754d[_0x1347f5(0xa0)]&&_0x5d754d[_0x1347f5(0xa0)][_0x1347f5(0x601)]()['length']<0xd?_0x5d754d[_0x1347f5(0xa0)]*0x3e8:_0x5d754d['conversationTimestamp']||null,'archived':_0x5d754d['archived']||!0x1,'unreadcount':_0x5d754d[_0x1347f5(0x6ab)]||0x0})));this[_0x1347f5(0x54d)](_0x1347f5(0x45c),_0x242fb0),await this[_0x1347f5(0x220)](_0x242fb0,_0x3796cd);}let _0x5d3470=[],_0x15fb7b=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3841ca]of Object[_0x1347f5(0x636)](_0x3f15a6)){if(_0x3841ca[_0x1347f5(0x531)]?.['protocolMessage']||_0x3841ca['message']?.['senderKeyDistributionMessage']||!_0x3841ca['message']||_0x3841ca['key'][_0x1347f5(0x38f)]===_0x1347f5(0x298)||(Cs[_0x1347f5(0x66d)][_0x1347f5(0x13f)](_0x3841ca?.[_0x1347f5(0x122)])&&(_0x3841ca[_0x1347f5(0x122)]=_0x3841ca[_0x1347f5(0x122)]?.['toNumber']()),_0x3841ca[_0x1347f5(0x122)]&&_0x3841ca[_0x1347f5(0x122)][_0x1347f5(0x601)]()[_0x1347f5(0x573)]<0xd&&(_0x3841ca[_0x1347f5(0x122)]=_0x3841ca[_0x1347f5(0x122)]*0x3e8),_0x3841ca[_0x1347f5(0x122)]<_0x15fb7b))continue;let _0x5884d3=(0x0,g[_0x1347f5(0x491)])(_0x3841ca['message']),_0x5b5f80=(0x0,g[_0x1347f5(0x419)])(_0x5884d3),{message_normalized:_0x105c75}=this[_0x1347f5(0x444)](_0x5884d3,_0x5b5f80,null);Object['keys'](_0x105c75)[_0x1347f5(0x573)]>0x0&&_0x5d3470[_0x1347f5(0xd3)]({'_id':_0x3841ca['key']['id'],'key':_0x3841ca[_0x1347f5(0xff)],'pushName':_0x3841ca['pushName'],'participant':_0x3841ca[_0x1347f5(0x93)],'message':_0x5884d3,'messageType':_0x5b5f80,'message_normalized':{'key':_0x3841ca['key'],'pushName':_0x3841ca[_0x1347f5(0x327)],'messageTimestamp':_0x3841ca[_0x1347f5(0x122)],..._0x105c75},'messageTimestamp':_0x3841ca[_0x1347f5(0x122)],'owner':this['instance']['wuid']});}_0x3796cd[_0x1347f5(0x5ba)]&&_0x5d3470[_0x1347f5(0x573)]>0x0&&(this[_0x1347f5(0x213)]['verbose'](this[_0x1347f5(0x39e)]+'\x20('+this[_0x1347f5(0x6e3)][_0x1347f5(0x3b7)]+'):\x20'+_0x5d3470[_0x1347f5(0x573)]+'\x20mensagens\x20de\x20'+this[_0x1347f5(0x6e3)][_0x1347f5(0x3b7)]+_0x1347f5(0x447)),await this[_0x1347f5(0x4d8)]['message'][_0x1347f5(0x24c)]([..._0x5d3470],this['instance'][_0x1347f5(0x3b7)])),this['sendDataWebhook']('messages.set',[..._0x5d3470]),_0x3f15a6=void 0x0;},'messages.upsert':async({messages:_0x1db2cd,type:_0x6bc5a1},_0x540f2a)=>{const _0x157d00=_0x19eb70;let _0x4fe219=_0x1db2cd[0x0],_0x4c6e71=_0x4fe219[_0x157d00(0xff)]['id'],_0x173c24=_0x4fe219[_0x157d00(0x31c)]===0x2,_0x4fb577=0x6;if(this[_0x157d00(0x34b)]?.[_0x157d00(0x1c6)]&&_0x4fe219[_0x157d00(0xff)][_0x157d00(0x38f)]['includes'](_0x157d00(0x3f0))){this[_0x157d00(0x213)][_0x157d00(0x49b)](this[_0x157d00(0x39e)]+'\x20('+this[_0x157d00(0x6e3)][_0x157d00(0x3b7)]+_0x157d00(0x5f3));return;}if(_0x173c24){if(te[_0x4c6e71]||(te[_0x4c6e71]=0x0),te[_0x4c6e71]++,this['logger'][_0x157d00(0x519)](this[_0x157d00(0x39e)]+'\x20('+this[_0x157d00(0x6e3)][_0x157d00(0x3b7)]+_0x157d00(0x19b)+_0x4fe219[_0x157d00(0xff)]['remoteJid']+_0x157d00(0x66e)+_0x4c6e71+':\x20'+te[_0x4c6e71]+'/'+_0x4fb577),te[_0x4c6e71]>=_0x4fb577){this[_0x157d00(0x213)][_0x157d00(0x519)](this[_0x157d00(0x39e)]+'\x20('+this[_0x157d00(0x6e3)]['wuid']+_0x157d00(0x397)+_0x4fe219['key']['remoteJid']+_0x157d00(0x66e)+_0x4c6e71+'.');let _0x2f474c={'key':{..._0x4fe219[_0x157d00(0xff)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x4c6e71+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};_0x4fe219['key'][_0x157d00(0x38f)][_0x157d00(0x56d)](_0x157d00(0x260))&&this[_0x157d00(0x367)]['ev'][_0x157d00(0x206)]('messages.upsert',{'messages':[_0x2f474c],'type':'notify'}),delete te[_0x4c6e71];}}else te[_0x4c6e71]&&(this[_0x157d00(0x213)]['warn'](_0x157d00(0x1bc)+te[_0x4c6e71]+_0x157d00(0x592)+_0x4fe219[_0x157d00(0xff)]['remoteJid']+_0x157d00(0x66e)+_0x4c6e71),delete te[_0x4c6e71]);if(_0x6bc5a1!=='notify'||!_0x4fe219?.[_0x157d00(0x531)]||_0x4fe219[_0x157d00(0x531)]?.[_0x157d00(0x4a9)]||_0x4fe219[_0x157d00(0x531)][_0x157d00(0x1e8)]||_0x4fe219[_0x157d00(0xff)][_0x157d00(0x38f)]===_0x157d00(0x298))return;let _0x5e2da8=null,_0xb42b31=null;try{_0x5e2da8=await this[_0x157d00(0x3e7)](_0x4fe219),_0xb42b31=_0x5e2da8?_0x5e2da8['join'](','):null;}catch(_0x4935a4){this[_0x157d00(0x213)]['verbose'](this[_0x157d00(0x39e)]+'\x20('+this[_0x157d00(0x6e3)][_0x157d00(0x3b7)]+'):\x20'+(_0x4935a4 instanceof Error?_0x4935a4[_0x157d00(0x531)]:JSON['stringify'](_0x4935a4,null,0x2))),_0xb42b31='error\x20get\x20vote';}this[_0x157d00(0x367)][_0x157d00(0x3de)](_0x157d00(0x6c5)),Cs[_0x157d00(0x66d)][_0x157d00(0x13f)](_0x4fe219['messageTimestamp'])&&(_0x4fe219[_0x157d00(0x122)]=_0x4fe219[_0x157d00(0x122)]?.['toNumber']()),_0x4fe219[_0x157d00(0x122)]&&_0x4fe219['messageTimestamp'][_0x157d00(0x601)]()['length']<0xd&&(_0x4fe219[_0x157d00(0x122)]=_0x4fe219[_0x157d00(0x122)]*0x3e8);let _0x13cf4b=_0x4fe219['message'],_0x46f619=(0x0,g[_0x157d00(0x491)])(_0x13cf4b),_0x14caef=(0x0,g['getContentType'])(_0x46f619),{messageContent:_0x41c6d6,message_normalized:_0x110608}=this[_0x157d00(0x444)](_0x46f619,_0x14caef,_0xb42b31);_0x14caef===_0x157d00(0x4a9)&&_0x41c6d6?.['editedMessage']&&(_0x14caef=_0x157d00(0x269));let _0xdc18cd={'_id':_0x4fe219['key']['id'],'key':_0x4fe219['key'],'pushName':_0x4fe219['pushName'],'message':_0x46f619,'messageType':_0x14caef,'message_normalized':{'key':_0x4fe219['key'],'pushName':_0x4fe219[_0x157d00(0x327)],'messageTimestamp':_0x4fe219['messageTimestamp'],'source':(0x0,g[_0x157d00(0x2eb)])(_0x4fe219[_0x157d00(0xff)]['id']),..._0x110608},'messageTimestamp':_0x4fe219['messageTimestamp'],'owner':this['instance'][_0x157d00(0x3b7)],'source':(0x0,g[_0x157d00(0x2eb)])(_0x4fe219[_0x157d00(0xff)]['id'])};_0x41c6d6||(console[_0x157d00(0x519)](_0x157d00(0x3f2)),this[_0x157d00(0x213)][_0x157d00(0x519)](_0xdc18cd)),this[_0x157d00(0x213)][_0x157d00(0x18d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x157d00(0x6b6)+(_0xdc18cd[_0x157d00(0xff)]?.[_0x157d00(0x19a)]?_0x157d00(0x4c5):_0x157d00(0x3cb))+'\x20['+_0xdc18cd[_0x157d00(0xff)]?.[_0x157d00(0x38f)][_0x157d00(0x168)](_0x157d00(0x260),'')+_0x157d00(0x343)+_0xdc18cd[_0x157d00(0x59a)]+')'),_0xdc18cd['message_normalized']?.['text']&&this[_0x157d00(0x213)][_0x157d00(0x18d)](_0x4c6e71+':\x20'+_0xdc18cd[_0x157d00(0x30e)]?.[_0x157d00(0x2f1)]),await this['repository'][_0x157d00(0x531)][_0x157d00(0x24c)]([_0xdc18cd],this['instance'][_0x157d00(0x3b7)]),this[_0x157d00(0x54d)]('messages.upsert',_0xdc18cd),q(this[_0x157d00(0x39e)],_0x157d00(0x215),{'message':_0xdc18cd}),_0x4fe219[_0x157d00(0xff)][_0x157d00(0x38f)]!==_0x157d00(0x298)&&await this[_0x157d00(0x6eb)](_0x540f2a,_0xdc18cd,'MESSAGES_UPSERT');},'messages.update':async(_0x113564,_0x4ec8c2)=>{const _0x40f915=_0x19eb70;let _0x251161={0x0:_0x40f915(0x2cb),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x40f915(0x5c4),0x4:_0x40f915(0x4fa),0x5:_0x40f915(0x6c7)};for await(let {key:_0x363b37,update:_0x4aaddf}of _0x113564){if(this[_0x40f915(0x34b)]?.[_0x40f915(0x1c6)]&&_0x363b37[_0x40f915(0x38f)][_0x40f915(0x56d)](_0x40f915(0x3f0))){this[_0x40f915(0x213)][_0x40f915(0x49b)](this[_0x40f915(0x39e)]+'\x20('+this[_0x40f915(0x6e3)][_0x40f915(0x3b7)]+_0x40f915(0x640));return;}if(_0x363b37[_0x40f915(0x38f)]!==_0x40f915(0x298)){let _0x107da3=Date[_0x40f915(0x6f)](),_0x30fc29;_0x4aaddf[_0x40f915(0x531)]===null&&_0x4aaddf['status']===void 0x0?_0x30fc29=_0x40f915(0x13d):_0x30fc29=_0x251161[_0x4aaddf[_0x40f915(0x14f)]];let _0x2f2f63=_0x363b37[_0x40f915(0x38f)][_0x40f915(0x168)](/:\d{1,2}@/g,'@'),_0x476252={..._0x363b37,'remoteJid':_0x2f2f63,'status':_0x30fc29,'datetime':_0x107da3,'owner':this[_0x40f915(0x6e3)][_0x40f915(0x3b7)]};this[_0x40f915(0x54d)](_0x40f915(0x1ac),_0x476252),await this['updateMessage'](_0x363b37,_0x476252);}}},'labels.association':async({type:_0x46c7a3,association:_0x35b6a5})=>{const _0x553cf7=_0x19eb70;if(_0x35b6a5[_0x553cf7(0x337)]===_0x553cf7(0x4e7)){let _0xcbdaad,_0x5ee0a6=0x0;for(;!_0xcbdaad&&_0x5ee0a6<this[_0x553cf7(0x3e3)];)_0xcbdaad=await this['repository'][_0x553cf7(0x23d)][_0x553cf7(0x547)]({'where':{'_id':_0x35b6a5['chatId']}},this[_0x553cf7(0x6e3)][_0x553cf7(0x3b7)]),_0xcbdaad||(_0x5ee0a6++,console[_0x553cf7(0x18d)](_0x553cf7(0x21e)+_0x35b6a5['chatId']+_0x553cf7(0x312)+this[_0x553cf7(0x1c4)]+_0x553cf7(0x140)+_0x5ee0a6+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x553cf7(0x6ce)](this[_0x553cf7(0x1c4)]));if(!_0xcbdaad){console[_0x553cf7(0x519)]('Failed\x20to\x20find\x20chat\x20'+_0x35b6a5[_0x553cf7(0xbf)]+_0x553cf7(0x2fb)+this[_0x553cf7(0x3e3)]+_0x553cf7(0x373));return;}switch(_0x46c7a3){case _0x553cf7(0x3f9):console[_0x553cf7(0x18d)](_0x35b6a5),await this[_0x553cf7(0x4d8)][_0x553cf7(0x23d)][_0x553cf7(0x4bf)]({'where':{'_id':_0x35b6a5[_0x553cf7(0xbf)]}},{'leadInfo.etiquetas':_0x35b6a5[_0x553cf7(0x18e)]},this[_0x553cf7(0x6e3)][_0x553cf7(0x3b7)],void 0x0,_0x553cf7(0x661));break;case _0x553cf7(0x353):console['log'](_0x35b6a5),await this[_0x553cf7(0x4d8)][_0x553cf7(0x23d)][_0x553cf7(0x4bf)]({'where':{'_id':_0x35b6a5[_0x553cf7(0xbf)]}},{'leadInfo.etiquetas':_0x35b6a5[_0x553cf7(0x18e)]},this['instance']['wuid'],void 0x0,_0x553cf7(0x637));break;default:console['error']('unknown\x20operation\x20type\x20['+_0x46c7a3+']');}}},'labels.edit':async _0x37088e=>{const _0x22ac27=_0x19eb70;if(!_0x37088e||!_0x37088e['id']){console[_0x22ac27(0x519)](_0x22ac27(0x580));return;}if(!_0x37088e[_0x22ac27(0x11c)]){let _0x54ce2b=['#ff9484',_0x22ac27(0x1a1),_0x22ac27(0xba),_0x22ac27(0x15c),'#9ab6c1',_0x22ac27(0x355),_0x22ac27(0x1c0),_0x22ac27(0x1dd),_0x22ac27(0x20a),'#d8e651','#01d0e2',_0x22ac27(0x3d8),_0x22ac27(0x8d),_0x22ac27(0x515),_0x22ac27(0x29d),_0x22ac27(0x51d),_0x22ac27(0x192),_0x22ac27(0xf4),'#9ba6ff',_0x22ac27(0x4c8)],_0x3f97fc;typeof _0x37088e[_0x22ac27(0x39d)]==_0x22ac27(0x5f5)&&_0x37088e[_0x22ac27(0x39d)]>=0x0&&_0x37088e['color']<_0x54ce2b[_0x22ac27(0x573)]?_0x3f97fc=_0x54ce2b[_0x37088e[_0x22ac27(0x39d)]]:(console[_0x22ac27(0x519)](_0x22ac27(0x5bc),_0x37088e[_0x22ac27(0x39d)]),_0x3f97fc=_0x22ac27(0x38b));let _0xe80176={'_id':_0x37088e['id'],'colorHex':_0x3f97fc,'color':_0x37088e?.[_0x22ac27(0x39d)],'name':_0x37088e?.[_0x22ac27(0x69e)],'owner':this[_0x22ac27(0x6e3)]['wuid']};await this[_0x22ac27(0x4d8)]['label'][_0x22ac27(0x4bf)]({'where':{'_id':_0x37088e['id']}},_0xe80176,this[_0x22ac27(0x6e3)][_0x22ac27(0x3b7)]),console[_0x22ac27(0x18d)]('Rótulo\x20atualizado:',_0x37088e);}_0x37088e[_0x22ac27(0x11c)]&&(await this[_0x22ac27(0x4d8)][_0x22ac27(0xa1)]['delete']({'where':{'_id':_0x37088e['id']}},this[_0x22ac27(0x6e3)][_0x22ac27(0x3b7)]),console['log']('Rótulo\x20deletado:',_0x37088e['id']));}},this[_0x19eb70(0x144)]={'groups.upsert':_0x1bdbf0=>{const _0x1e4ac3=_0x19eb70;this['sendDataWebhook'](_0x1e4ac3(0x416),_0x1bdbf0);},'groups.update':_0x293b71=>{const _0x1d8d79=_0x19eb70;this[_0x1d8d79(0x54d)](_0x1d8d79(0xc1),_0x293b71);},'group-participants.update':_0x2ef7a0=>{const _0x57efec=_0x19eb70;this['sendDataWebhook'](_0x57efec(0x597),_0x2ef7a0);}},this[_0x19eb70(0x3e3)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x19eb70(0x3e7)]=async _0xb582e4=>{const _0x4534df=_0x19eb70;if(_0xb582e4['message']?.[_0x4534df(0x1ef)]){let _0x4276ce=await this[_0x4534df(0x4e4)](_0xb582e4['message'][_0x4534df(0x1ef)][_0x4534df(0x6ef)],!0x0);if(_0x4276ce){let _0x4ec6f5=_0x4276ce['key']['fromMe']?this[_0x4534df(0x6e3)]['wuid']+_0x4534df(0x260):_0x4276ce[_0x4534df(0xff)]['participant']||_0x4276ce['key'][_0x4534df(0x38f)],_0x32586a=_0x4276ce[_0x4534df(0xff)]['id'],_0x1ad7b4=_0x4276ce[_0x4534df(0x531)],_0x1b6cb3=Buffer[_0x4534df(0x530)](_0x1ad7b4[_0x4534df(0x184)]['messageSecret'][_0x4534df(0x601)](_0x4534df(0x556)),'hex'),_0x497eb4=(0x0,g[_0x4534df(0x6f0)])(_0xb582e4[_0x4534df(0x531)]['pollUpdateMessage'][_0x4534df(0x499)],{'pollCreatorJid':_0x4ec6f5,'pollMsgId':_0x32586a,'pollEncKey':_0x1b6cb3,'voterJid':_0xb582e4[_0x4534df(0xff)][_0x4534df(0x19a)]?this[_0x4534df(0x6e3)][_0x4534df(0x3b7)]+_0x4534df(0x260):_0xb582e4['key'][_0x4534df(0x38f)][_0x4534df(0x51b)](_0x4534df(0x4fc))?_0xb582e4[_0x4534df(0xff)][_0x4534df(0x93)]:_0xb582e4[_0x4534df(0xff)]['remoteJid']}),_0x188335=[],_0x13dc0a=_0x497eb4[_0x4534df(0x165)][_0x4534df(0x381)](_0x55f803=>Buffer[_0x4534df(0x530)](_0x55f803)[_0x4534df(0x601)](_0x4534df(0x556)));for(let {optionName:_0x4c7809}of _0x1ad7b4[_0x4534df(0x628)]?.['options']||_0x1ad7b4[_0x4534df(0x663)]?.['options']||_0x1ad7b4[_0x4534df(0x2c5)]?.[_0x4534df(0x3e0)])_0x13dc0a[_0x4534df(0x171)]((0x0,g['sha256'])(Buffer[_0x4534df(0x530)](_0x4c7809))[_0x4534df(0x601)](_0x4534df(0x556)))>-0x1&&_0x188335[_0x4534df(0xd3)](_0x4c7809);return _0x188335;}}return null;},this[_0x19eb70(0x444)]=(_0x32282f,_0x2997da,_0x48e2e4)=>{const _0x29acb2=_0x19eb70;try{let _0x3f003e=_0x32282f?(0x0,g[_0x29acb2(0x30c)])(_0x32282f)[_0x2997da]:void 0x0,_0x3dcc78={},_0x4a3e9a=null,_0x4ba5ee=null,_0x102af5=null;_0x2997da===_0x29acb2(0x4a9)&&_0x3f003e?.[_0x29acb2(0x269)]&&(_0x2997da=(0x0,g[_0x29acb2(0x419)])(_0x3f003e[_0x29acb2(0x269)]),_0x4a3e9a=_0x32282f['protocolMessage'][_0x29acb2(0xff)]['id'],_0x3f003e=_0x32282f[_0x29acb2(0x4a9)]['editedMessage'][_0x2997da]),_0x32282f[_0x2997da]?.['contextInfo']?.[_0x29acb2(0x1a7)]&&_0x32282f[_0x2997da]?.[_0x29acb2(0x3dc)]?.[_0x29acb2(0x155)]&&(_0x4ba5ee=_0x32282f[_0x2997da]['contextInfo'][_0x29acb2(0x1a7)]),_0x32282f[_0x29acb2(0x65b)]&&(_0x102af5=_0x32282f[_0x29acb2(0x65b)][_0x29acb2(0xff)]['id']);let _0xe2c028;if(_0x3f003e&&typeof _0x3f003e==_0x29acb2(0x3e2)&&'pollCreationMessageKey'in _0x3f003e&&({pollCreationMessageKey:_0xe2c028}=_0x3f003e),_0x2997da===_0x29acb2(0x628)||_0x2997da===_0x29acb2(0x2c5)||_0x2997da===_0x29acb2(0x663)){let _0x10c9ae=_0x3f003e[_0x29acb2(0x3e0)][_0x29acb2(0x381)](_0xbd71b=>_0xbd71b['optionName'])[_0x29acb2(0xf6)]('|');_0x3dcc78[_0x29acb2(0x3c0)]=_0x10c9ae;}let _0x47de75='';if(_0x3f003e&&(_0x47de75+=_0x3f003e[_0x29acb2(0x69e)]?_0x3f003e[_0x29acb2(0x69e)]:'',_0x47de75+=_0x3f003e[_0x29acb2(0x5c2)]?'\x20'+_0x3f003e[_0x29acb2(0x5c2)]:'',_0x47de75+=_0x3f003e[_0x29acb2(0x435)]?'\x20'+_0x3f003e[_0x29acb2(0x435)]:'',_0x47de75+=_0x3f003e[_0x29acb2(0x16f)]?'\x20'+_0x3f003e[_0x29acb2(0x16f)]:''),_0x2997da==='listMessage'){_0x47de75=(_0x3f003e[_0x29acb2(0x43d)]||'')+'\x0a'+(_0x3f003e[_0x29acb2(0x339)]||'')+'\x0a'+(_0x3f003e[_0x29acb2(0x4cc)]||'');let _0x5f50e8=this[_0x29acb2(0x301)](_0x3f003e[_0x29acb2(0x24e)]);_0x3dcc78[_0x29acb2(0x3c0)]=_0x5f50e8;}if(_0x2997da===_0x29acb2(0x3d9)&&(_0x48e2e4=_0x3f003e[_0x29acb2(0x43d)]),_0x3f003e&&_0x3f003e[_0x29acb2(0x1b7)]){let _0x1d5ebc=this[_0x29acb2(0x427)](JSON['stringify'](_0x3f003e[_0x29acb2(0x1b7)],null,0x2));_0x47de75=_0x47de75+'\x0a'+_0x1d5ebc;}if(_0x3f003e){let {sections:_0x1dbedf,listType:_0x22cb3c,displayName:_0x3c4613,vcard:_0x40a724,contactVcard:_0x28841d,name:_0x1d89b6,caption:_0x1f6b0d,conversation:_0x256840,pollCreationMessageKey:_0x227182,footerText:_0x33b7d5,contentText:_0x127fc1,pageCount:_0xfea212,headerType:_0x40c6e0,isAvatar:_0x599603,isAnimated:_0x4a3693,fallbackLc:_0x22a95a,fallbackLg:_0x3b56c3,namespace:_0x566f3,elementName:_0x1c5876,localizableParams:_0x227e67,viewOnce:_0x1d266c,height:_0x2d4226,width:_0x157086,key:_0x292c4e,firstScanLength:_0x5e6a9a,firstScanSidecar:_0x2a946b,gifPlayback:_0x579d09,gifAttribution:_0x52887e,midQualityFileSha256:_0x3ce28f,scansSidecar:_0x4fc5ed,streamingSidecar:_0x14c89f,thumbnailHeight:_0x2909fc,thumbnailWidth:_0x45618c,thumbnailEncSha256:_0xe30cd2,thumbnailDirectPath:_0x240b86,canonicalUrl:_0x3bf48c,matchedText:_0x479178,previewType:_0x553101,thumbnailSha256:_0x11df4d,deviceListMetadataVersion:_0x2c3e8f,inviteLinkGroupTypeV2:_0x1ddcad,interactiveAnnotations:_0xbe86a2,scanLengths:_0x5d7010,jpegThumbnail:_0x15a1bb,url:_0x499964,mediaKeyTimestamp:_0x936995,waveform:_0x54c8a2,stickerSentTs:_0x290e79,firstFrameLength:_0x54c34a,fileEncSha256:_0x66cd89,contextInfo:_0x3945cd,firstFrameSidecar:_0x33b1b3,directPath:_0x5d09aa,fileSha256:_0xec6700,mediaKey:_0x35ede3,senderTimestampMs:_0x1a30e4,..._0x397b68}=_0x3f003e;(_0x2997da===_0x29acb2(0x321)||_0x2997da===_0x29acb2(0x3d9))&&(delete _0x397b68[_0x29acb2(0x43d)],delete _0x397b68[_0x29acb2(0x339)]),typeof _0x3f003e==_0x29acb2(0x10a)?_0x3dcc78={'text':_0x3f003e,'type':_0x2997da||_0x29acb2(0x435),..._0x4a3e9a&&{'edited':_0x4a3e9a},..._0x4ba5ee&&{'quoted':_0x4ba5ee},..._0x102af5&&{'reaction':_0x102af5}}:_0x3dcc78={'text':_0x47de75,..._0x397b68,..._0x2997da==='pollUpdateMessage'?{'poll_id':_0x3f003e[_0x29acb2(0x6ef)]['id'],'quoted':_0x3f003e[_0x29acb2(0x6ef)]['id'],'vote':_0x48e2e4}:{},..._0x2997da==='listResponseMessage'?{'vote':_0x48e2e4}:{},'type':_0x2997da,..._0x4a3e9a&&{'edited':_0x4a3e9a},..._0x4ba5ee&&{'quoted':_0x4ba5ee},..._0x102af5&&{'reaction':_0x102af5},...(_0x2997da===_0x29acb2(0x628)||_0x2997da===_0x29acb2(0x2c5)||_0x2997da===_0x29acb2(0x663)||_0x2997da==='listMessage')&&{'convertedOptions':_0x3dcc78[_0x29acb2(0x3c0)]}};}return{'messageType':_0x2997da,'messageContent':_0x3f003e,'message_normalized':_0x3dcc78};}catch(_0x159ced){return console[_0x29acb2(0x519)](_0x29acb2(0x285),_0x159ced),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x19eb70(0x2d0)]=null,this['lastSend']=0x0,this['timerId']=null,this[_0x19eb70(0x5cc)]=null,(this[_0x19eb70(0x3e6)](),this[_0x19eb70(0x6e3)][_0x19eb70(0x256)]={'count':0x0});}set[a0_0x1b487a(0x39e)](_0x4b2bba){const _0x147aaf=a0_0x1b487a;if(!_0x4b2bba){this[_0x147aaf(0x6e3)][_0x147aaf(0x69e)]=(0x0,br['v4'])();return;}this[_0x147aaf(0x6e3)][_0x147aaf(0x69e)]=_0x4b2bba,this[_0x147aaf(0x54d)](_0x147aaf(0x50e),{'instance':this[_0x147aaf(0x6e3)][_0x147aaf(0x69e)],'status':'created'});}get['instanceName'](){const _0x1cc79a=a0_0x1b487a;return this[_0x1cc79a(0x6e3)]['name'];}get[a0_0x1b487a(0x3b7)](){const _0x3ad095=a0_0x1b487a;return this[_0x3ad095(0x6e3)][_0x3ad095(0x3b7)];}async[a0_0x1b487a(0x225)](){const _0xbcf30=a0_0x1b487a;let _0x28f076=this[_0xbcf30(0x367)][_0xbcf30(0x31b)]?.[_0xbcf30(0x69e)]??this['client'][_0xbcf30(0x31b)]?.[_0xbcf30(0x3bc)];if(!_0x28f076){if(this[_0xbcf30(0x362)][_0xbcf30(0x348)]('DATABASE')['ENABLED']){let _0x524908=await R[_0xbcf30(0x1c8)]()['db'](this[_0xbcf30(0x362)][_0xbcf30(0x348)](_0xbcf30(0x4a5))[_0xbcf30(0x7f)]['DB_PREFIX_NAME']+'-instances')[_0xbcf30(0xce)](this[_0xbcf30(0x39e)])[_0xbcf30(0x547)]({'_id':_0xbcf30(0x62c)});if(_0x524908){let _0x58c39e=JSON['parse'](JSON[_0xbcf30(0x11e)](_0x524908),g[_0xbcf30(0xdb)][_0xbcf30(0x5f2)]);_0x28f076=_0x58c39e['me']?.[_0xbcf30(0x69e)]||_0x58c39e['me']?.[_0xbcf30(0x3bc)];}}else{if((0x0,ve[_0xbcf30(0x22a)])((0x0,j[_0xbcf30(0xf6)])(ge,this[_0xbcf30(0x39e)],_0xbcf30(0x3f6)))){let _0x2a65b6=JSON[_0xbcf30(0x323)]((0x0,ve[_0xbcf30(0x65e)])((0x0,j['join'])(ge,this['instanceName'],_0xbcf30(0x3f6)),{'encoding':_0xbcf30(0x21b)}));_0x28f076=_0x2a65b6['me']?.['name']||_0x2a65b6['me']?.[_0xbcf30(0x3bc)];}}}return _0x28f076;}get[a0_0x1b487a(0x4af)](){const _0x5f35b7=a0_0x1b487a;return this[_0x5f35b7(0x6e3)][_0x5f35b7(0x4af)];}get[a0_0x1b487a(0x2e2)](){const _0x3eebd6=a0_0x1b487a;return{'pairingCode':this[_0x3eebd6(0x6e3)][_0x3eebd6(0x256)]?.[_0x3eebd6(0x341)],'code':this[_0x3eebd6(0x6e3)][_0x3eebd6(0x256)]?.[_0x3eebd6(0x133)],'base64':this[_0x3eebd6(0x6e3)][_0x3eebd6(0x256)]?.[_0x3eebd6(0x32e)]};}async[a0_0x1b487a(0x691)](){const _0x13e006=a0_0x1b487a;let _0x197f38=await this[_0x13e006(0x4d8)][_0x13e006(0x581)][_0x13e006(0x3a8)](this[_0x13e006(0x39e)]);this[_0x13e006(0x34b)][_0x13e006(0x241)]=_0x197f38?.[_0x13e006(0x241)],this[_0x13e006(0x34b)][_0x13e006(0x17a)]=_0x197f38?.['enabled'],this[_0x13e006(0x34b)][_0x13e006(0x4e9)]=_0x197f38?.[_0x13e006(0x4e9)],this[_0x13e006(0x34b)]['STATUS_INSTANCE']=_0x197f38?.['STATUS_INSTANCE'],this[_0x13e006(0x34b)][_0x13e006(0x523)]=_0x197f38?.[_0x13e006(0x523)],this[_0x13e006(0x34b)]['SEND_MESSAGE']=_0x197f38?.['SEND_MESSAGE'],this[_0x13e006(0x34b)][_0x13e006(0x3ee)]=_0x197f38?.[_0x13e006(0x3ee)],this[_0x13e006(0x34b)][_0x13e006(0x434)]=_0x197f38?.[_0x13e006(0x434)],this[_0x13e006(0x34b)]['GROUPS_UPSERT']=_0x197f38?.[_0x13e006(0x4f2)],this[_0x13e006(0x34b)]['GROUPS_UPDATE']=_0x197f38?.[_0x13e006(0x5d6)],this[_0x13e006(0x34b)]['GROUP_PARTICIPANTS_UPDATE']=_0x197f38?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook'][_0x13e006(0x442)]=_0x197f38?.[_0x13e006(0x442)],this[_0x13e006(0x34b)][_0x13e006(0x2f7)]=_0x197f38?.['CHATS_UPSERT'],this['localWebhook'][_0x13e006(0x60b)]=_0x197f38?.['CHATS_UPDATE'],this['localWebhook'][_0x13e006(0x10b)]=_0x197f38?.[_0x13e006(0x10b)],this[_0x13e006(0x34b)][_0x13e006(0x35c)]=_0x197f38?.['CONTACTS_SET'],this[_0x13e006(0x34b)][_0x13e006(0x55c)]=_0x197f38?.['CONTACTS_UPSERT'],this['localWebhook'][_0x13e006(0xe3)]=_0x197f38?.[_0x13e006(0xe3)],this['localWebhook'][_0x13e006(0x88)]=_0x197f38?.[_0x13e006(0x88)],this['localWebhook'][_0x13e006(0x4b5)]=_0x197f38?.['MESSAGES_SET'],this['localWebhook'][_0x13e006(0x1d0)]=_0x197f38?.[_0x13e006(0x1d0)],this[_0x13e006(0x34b)][_0x13e006(0x1c6)]=_0x197f38?.[_0x13e006(0x1c6)];}async['setWebhook'](_0x46a515){const _0x47acb3=a0_0x1b487a;let _0x20f2e7=['_id',_0x47acb3(0x241),_0x47acb3(0x17a),_0x47acb3(0x4e9),_0x47acb3(0x68e),'QRCODE_UPDATED',_0x47acb3(0x434),_0x47acb3(0x3ee),_0x47acb3(0x55e),'GROUPS_UPSERT','GROUPS_UPDATE',_0x47acb3(0x5b9),_0x47acb3(0x442),_0x47acb3(0x2f7),'CHATS_UPDATE',_0x47acb3(0x10b),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',_0x47acb3(0x88),_0x47acb3(0x4b5),_0x47acb3(0x1d0),_0x47acb3(0x1c6)],_0x196889={};return _0x20f2e7[_0x47acb3(0x6d9)](_0x1a5210=>{_0x46a515[_0x1a5210]!==void 0x0&&(_0x196889[_0x1a5210]=_0x46a515[_0x1a5210]);}),await this[_0x47acb3(0x4d8)][_0x47acb3(0x581)][_0x47acb3(0x1ea)](_0x196889,this['instanceName']),Object[_0x47acb3(0x4bc)](this['localWebhook'],_0x196889),await this[_0x47acb3(0x4d8)]['webhook'][_0x47acb3(0x3a8)](this[_0x47acb3(0x39e)]);}async[a0_0x1b487a(0x595)](){const _0x3783a3=a0_0x1b487a;return await this[_0x3783a3(0x4d8)]['webhook'][_0x3783a3(0x3a8)](this[_0x3783a3(0x39e)]);}async['sendDataWebhook'](_0x28e91c,_0x4e2af1){const _0x4ab99f=a0_0x1b487a;let _0x77cc4b=_0x28e91c[_0x4ab99f(0x168)](/[\.-]/gm,'_')[_0x4ab99f(0x13e)](),_0x2fe02d=this[_0x4ab99f(0x34b)][_0x4ab99f(0x17a)]&&(0x0,$[_0x4ab99f(0x326)])(this[_0x4ab99f(0x34b)][_0x4ab99f(0x241)])?this[_0x4ab99f(0x34b)][_0x4ab99f(0x241)]+(this[_0x4ab99f(0x34b)][_0x4ab99f(0x4e9)]?this[_0x4ab99f(0x174)][_0x28e91c]:''):null,_0x33fc2e=this[_0x4ab99f(0x34b)][_0x77cc4b],_0x54794d=ne&&ne[_0x4ab99f(0x17a)]&&(0x0,$[_0x4ab99f(0x326)])(ne[_0x4ab99f(0x241)])?ne[_0x4ab99f(0x241)]+(ne[_0x4ab99f(0x4e9)]?this['webhookMap'][_0x28e91c]:''):null,_0x3e7344=ne?ne[_0x77cc4b]:null;if(_0x33fc2e&&_0x2fe02d)try{await se[_0x4ab99f(0x66d)][_0x4ab99f(0x1ea)]({'baseURL':_0x2fe02d})[_0x4ab99f(0x690)]('',{'event':_0x28e91c,'instance':this['instance'][_0x4ab99f(0x69e)],'apikey':this[_0x4ab99f(0x6e3)][_0x4ab99f(0x9c)],'data':_0x4e2af1}),this['logger'][_0x4ab99f(0x18d)](this[_0x4ab99f(0x39e)]+'\x20('+this[_0x4ab99f(0x6e3)][_0x4ab99f(0x3b7)]+_0x4ab99f(0x8b)+_0x28e91c+':\x20'+_0x2fe02d);}catch{this['logger'][_0x4ab99f(0x519)](this[_0x4ab99f(0x39e)]+'\x20('+this[_0x4ab99f(0x6e3)][_0x4ab99f(0x3b7)]+_0x4ab99f(0x376)+_0x28e91c+':\x20'+_0x2fe02d);}if(_0x3e7344&&_0x54794d)try{await se[_0x4ab99f(0x66d)][_0x4ab99f(0x1ea)]({'baseURL':_0x54794d})[_0x4ab99f(0x690)]('',{'event':_0x28e91c,'instance':this[_0x4ab99f(0x6e3)]['name'],'apikey':this['instance'][_0x4ab99f(0x9c)],'data':_0x4e2af1}),this[_0x4ab99f(0x213)][_0x4ab99f(0x18d)](this[_0x4ab99f(0x39e)]+'\x20('+this[_0x4ab99f(0x6e3)][_0x4ab99f(0x3b7)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x28e91c+':\x20'+_0x54794d);}catch{this[_0x4ab99f(0x213)][_0x4ab99f(0x519)](this[_0x4ab99f(0x39e)]+'\x20('+this['instance'][_0x4ab99f(0x3b7)]+_0x4ab99f(0x227)+_0x28e91c+':\x20'+_0x54794d);}}async[a0_0x1b487a(0x1bb)]({qr:_0x3b790b,connection:_0x3f7a52,lastDisconnect:_0x2190ff}){const _0x28e056=a0_0x1b487a;if(_0x3b790b){if(this[_0x28e056(0x6e3)][_0x28e056(0x256)][_0x28e056(0x371)]===mi)return this[_0x28e056(0x54d)](_0x28e056(0x548),{'message':_0x28e056(0x2ed),'statusCode':g['DisconnectReason'][_0x28e056(0x6be)]}),this[_0x28e056(0x37a)]={'state':_0x28e056(0x12c),'statusReason':g[_0x28e056(0x245)]['connectionClosed']},this[_0x28e056(0x54d)]('connection.update',{'instance':this[_0x28e056(0x6e3)][_0x28e056(0x69e)],...this[_0x28e056(0x37a)]}),this[_0x28e056(0x54d)](_0x28e056(0x50e),{'instance':this[_0x28e056(0x6e3)][_0x28e056(0x69e)],'status':_0x28e056(0x287)}),this[_0x28e056(0x4d8)][_0x28e056(0x282)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x28e056(0x6e3)][_0x28e056(0x69e)]),this[_0x28e056(0x252)]=!0x0,this[_0x28e056(0x598)][_0x28e056(0x206)](_0x28e056(0x307),this[_0x28e056(0x6e3)][_0x28e056(0x69e)]);this[_0x28e056(0x6e3)][_0x28e056(0x256)][_0x28e056(0x371)]++;let _0x4a34b3={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x28e056(0x450),'dark':_0x28e056(0x38b)}};Sr['default'][_0x28e056(0x614)](_0x3b790b,_0x4a34b3,(_0x240a53,_0xc35a88)=>{const _0x11110f=_0x28e056;if(_0x240a53){this[_0x11110f(0x213)]['error'](this[_0x11110f(0x39e)]+'\x20('+this[_0x11110f(0x6e3)][_0x11110f(0x3b7)]+_0x11110f(0x3db)+(_0x240a53 instanceof Error?_0x240a53[_0x11110f(0x531)]:JSON[_0x11110f(0x11e)](_0x240a53,null,0x2)));return;}this[_0x11110f(0x6e3)][_0x11110f(0x256)][_0x11110f(0x32e)]=_0xc35a88,this[_0x11110f(0x6e3)][_0x11110f(0x256)][_0x11110f(0x133)]=_0x3b790b,this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0x11110f(0x6e3)][_0x11110f(0x69e)],'pairingCode':this[_0x11110f(0x6e3)][_0x11110f(0x256)][_0x11110f(0x341)],'code':_0x3b790b,'base64':_0xc35a88}});}),this[_0x28e056(0x3a7)]?(await(0x0,g['delay'])(0x7d0),this[_0x28e056(0x6e3)][_0x28e056(0x256)]['pairingCode']=await this[_0x28e056(0x367)][_0x28e056(0x61b)](this[_0x28e056(0x3a7)])):this['instance'][_0x28e056(0x256)][_0x28e056(0x341)]=null,Er['default'][_0x28e056(0x19e)](_0x3b790b,{'small':!0x0},_0x5f500d=>this[_0x28e056(0x213)]['log'](_0x28e056(0x124)+this[_0x28e056(0x6e3)]['name']+_0x28e056(0x4a6)+this['instance'][_0x28e056(0x256)][_0x28e056(0x371)]+_0x28e056(0x550)+this[_0x28e056(0x6e3)][_0x28e056(0x256)]['pairingCode']+_0x28e056(0x9f)+_0x5f500d));}if(_0x3f7a52&&(this['stateConnection']={'state':_0x3f7a52,'statusReason':_0x2190ff?.[_0x28e056(0x519)]?.[_0x28e056(0x5f0)]?.[_0x28e056(0x670)]??0xc8},this[_0x28e056(0x54d)]('connection.update',{'instance':this['instance'][_0x28e056(0x69e)],...this[_0x28e056(0x37a)]})),_0x3f7a52===_0x28e056(0x5db)){if(this['reconnectAttempts']++,this[_0x28e056(0x108)][_0x28e056(0xd3)](Date['now']()),this[_0x28e056(0x108)]=this[_0x28e056(0x108)]['filter'](_0x2b766b=>Date['now']()-_0x2b766b<this[_0x28e056(0x608)]),_0x2190ff[_0x28e056(0x519)]?.[_0x28e056(0x5f0)]?.[_0x28e056(0x670)]!==g[_0x28e056(0x245)]['loggedOut']&&this[_0x28e056(0x108)][_0x28e056(0x573)]<=this['MAX_RECONNECT_ATTEMPTS'])console[_0x28e056(0x18d)](this[_0x28e056(0x39e)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x28e056(0x16c)]+'/'+this[_0x28e056(0x316)]+_0x28e056(0x136)),console['log'](_0x28e056(0xa4)),await this[_0x28e056(0x459)]();else{this[_0x28e056(0x54d)](_0x28e056(0x50e),{'instance':this[_0x28e056(0x6e3)][_0x28e056(0x69e)],'status':_0x28e056(0x287)}),this[_0x28e056(0x221)]=!0x1,this[_0x28e056(0x4d8)][_0x28e056(0x581)][_0x28e056(0x522)](this[_0x28e056(0x39e)]),this['repository'][_0x28e056(0x282)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x28e056(0x6f)]()},this['instance'][_0x28e056(0x69e)]);try{this[_0x28e056(0x213)][_0x28e056(0x49b)](this[_0x28e056(0x39e)]+'\x20('+this['instance'][_0x28e056(0x3b7)]+_0x28e056(0x3a4));let _0x462b7b=await this[_0x28e056(0x4d8)][_0x28e056(0x531)][_0x28e056(0x687)](this[_0x28e056(0x6e3)][_0x28e056(0x3b7)]);_0x462b7b[_0x28e056(0x66b)]?this['logger']['verbose'](this[_0x28e056(0x39e)]+'\x20('+this[_0x28e056(0x6e3)][_0x28e056(0x3b7)]+_0x28e056(0x55b)):console[_0x28e056(0x519)](_0x28e056(0x3ab),_0x462b7b['error']);}catch(_0x1c41f3){console[_0x28e056(0x519)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x1c41f3);}this[_0x28e056(0x479)]!==null&&(this[_0x28e056(0x213)][_0x28e056(0x49b)](this[_0x28e056(0x39e)]+'\x20('+this['instance']['wuid']+_0x28e056(0x274)),clearInterval(this['delayMessage']),this['delayMessage']=null),this['logger'][_0x28e056(0x49b)](this[_0x28e056(0x39e)]+'\x20('+this[_0x28e056(0x6e3)][_0x28e056(0x3b7)]+_0x28e056(0x377)),this['AutomateSystem']=null,this['eventEmitter'][_0x28e056(0x206)]('remove.instance',this[_0x28e056(0x6e3)]['name'],_0x28e056(0x4d9)),this[_0x28e056(0x367)]?.['ws']?.['close'](),this[_0x28e056(0x367)][_0x28e056(0x6db)](new Error(_0x28e056(0x4c0)));}}if(_0x3f7a52===_0x28e056(0x2fd)){this['client']['ev'][_0x28e056(0x4e0)](),this[_0x28e056(0x27e)],this[_0x28e056(0x6e3)][_0x28e056(0x3b7)]=this['client'][_0x28e056(0x31b)]['id'][_0x28e056(0x168)](/:\d+/,'')[_0x28e056(0x168)]('@s.whatsapp.net',''),this[_0x28e056(0x6e3)][_0x28e056(0x4af)]=(await this[_0x28e056(0xd2)](this[_0x28e056(0x6e3)][_0x28e056(0x3b7)]+_0x28e056(0x260)))['profilePictureUrl'],this[_0x28e056(0x4d8)]['auth']['create']({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x28e056(0x6e3)][_0x28e056(0x69e)]);let _0xb0faf9=_0x28e056(0x16b)+this[_0x28e056(0x6e3)]['wuid'],_0xa54e7d=0x28,_0x55bb9e=Math['floor']((_0xa54e7d-_0xb0faf9[_0x28e056(0x573)])/0x2),_0x43dac5='\x20'[_0x28e056(0x87)](_0x55bb9e),_0x1cd823=_0x28e056(0x296),_0x2ad04e=_0x28e056(0x233)+this[_0x28e056(0x6e3)][_0x28e056(0x69e)],_0x337141=(''+_0x43dac5+_0xb0faf9+_0x43dac5)[_0x28e056(0xd9)](_0xa54e7d,'\x20'),_0x2f96bb=(''+_0x43dac5+_0x1cd823+_0x43dac5)['padEnd'](_0xa54e7d,'\x20'),_0x4377cb=(''+_0x43dac5+_0x2ad04e+_0x43dac5)[_0x28e056(0xd9)](_0xa54e7d,'\x20'),_0x376756=Math[_0x28e056(0x41b)](_0x337141['length'],_0x2f96bb[_0x28e056(0x573)],_0x4377cb[_0x28e056(0x573)]),_0x382a24=_0x337141[_0x28e056(0xd9)](_0x376756,'\x20'),_0x5bd77d=_0x2f96bb[_0x28e056(0xd9)](_0x376756,'\x20'),_0x239d08=_0x4377cb[_0x28e056(0xd9)](_0x376756,'\x20');this[_0x28e056(0x213)][_0x28e056(0x642)]((_0x28e056(0x6ec)+'─'[_0x28e056(0x87)](_0x376756)+_0x28e056(0x3d0)+_0x5bd77d+_0x28e056(0x44a)+_0x239d08+_0x28e056(0x44a)+_0x382a24+_0x28e056(0x669)+'─'['repeat'](_0x376756)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x53ae2c=a0_0x1b487a;this[_0x53ae2c(0x16c)]=0x0,this[_0x53ae2c(0x108)]=[];}async[a0_0x1b487a(0x4e4)](_0x311554,_0x3b3a6b=!0x1){const _0xbb85b5=a0_0x1b487a;try{let _0x1603da=await this[_0xbb85b5(0x4d8)][_0xbb85b5(0x531)][_0xbb85b5(0x3a8)]({'where':{'_id':_0x311554['id']}},this[_0xbb85b5(0x6e3)][_0xbb85b5(0x3b7)]);return _0x3b3a6b?_0x1603da[0x0]:_0x1603da[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x1b487a(0x3e6)](){const _0x7e5bc9=a0_0x1b487a;let _0x557dca=this[_0x7e5bc9(0x362)][_0x7e5bc9(0x348)](_0x7e5bc9(0x97)),_0x1ca4e9=this['configService']['get']('DATABASE');_0x557dca?.[_0x7e5bc9(0x271)]&&!_0x1ca4e9[_0x7e5bc9(0x5ba)]&&setInterval(()=>{const _0x1c9e6e=_0x7e5bc9;try{for(let [_0x3c385c,_0x1c59a7]of Object['entries'](_0x557dca))_0x1c59a7===!0x0&&(0x0,Pt[_0x1c9e6e(0x623)])('rm\x20-rf\x20'+(0x0,j[_0x1c9e6e(0xf6)])(this[_0x1c9e6e(0x35e)],_0x3c385c[_0x1c9e6e(0x3d2)](),this[_0x1c9e6e(0x6e3)][_0x1c9e6e(0x3b7)])+_0x1c9e6e(0xfa));}catch{}},(_0x557dca?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x1b487a(0x5e8)](){const _0x146f8e=a0_0x1b487a;let _0x979473=this['configService'][_0x146f8e(0x348)]('DATABASE'),_0x4ccbe4=this[_0x146f8e(0x362)]['get'](_0x146f8e(0x4b6));return _0x4ccbe4?.[_0x146f8e(0x5ba)]?await bs(_0x4ccbe4,this[_0x146f8e(0x6e3)]['name']):_0x979473[_0x146f8e(0x5ba)]?await ys(this[_0x146f8e(0x6e3)]['name']):await(0x0,g[_0x146f8e(0x535)])((0x0,j['join'])(ge,this[_0x146f8e(0x6e3)]['name']));}async[a0_0x1b487a(0x4c9)](){const _0x4b456b=a0_0x1b487a;let _0xb96d2e=()=>Math[_0x4b456b(0x477)](Math[_0x4b456b(0x3c1)]()*0x2711)+0x7d0,_0x4f96e0=async()=>{const _0x29f01d=_0x4b456b;if(!this[_0x29f01d(0x221)]){this[_0x29f01d(0x213)][_0x29f01d(0x49b)](_0x29f01d(0x65c)),this['isRunning']=!0x1;return;}if(this[_0x29f01d(0x6e3)][_0x29f01d(0x3b7)]&&this[_0x29f01d(0x5a9)]&&this['delayMessage']!==null&&this[_0x29f01d(0x479)]!==void 0x0){let _0x41d867=Math[_0x29f01d(0x4bb)](this[_0x29f01d(0x479)]/0xea60);this[_0x29f01d(0x213)]['verbose'](this['instanceName']+'\x20('+this[_0x29f01d(0x6e3)][_0x29f01d(0x3b7)]+_0x29f01d(0x3a5)+_0x41d867+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x29f01d(0x325)]=!0x1;return;}else this[_0x29f01d(0x6e3)][_0x29f01d(0x3b7)]&&(this['logger'][_0x29f01d(0x49b)](this['instanceName']+'\x20('+this[_0x29f01d(0x6e3)][_0x29f01d(0x3b7)]+_0x29f01d(0x406)),this[_0x29f01d(0x213)]['verbose'](this[_0x29f01d(0x39e)]+'\x20('+this[_0x29f01d(0x6e3)][_0x29f01d(0x3b7)]+'):\x20Dados\x20migrados\x20com\x20sucesso'),this[_0x29f01d(0x5a9)]||await this[_0x29f01d(0x2fe)](),(this[_0x29f01d(0x479)]===null||this['delayMessage']===void 0x0)&&await this[_0x29f01d(0x4be)]());if(this[_0x29f01d(0x325)]){let _0x49f6e9=_0xb96d2e();this[_0x29f01d(0x213)][_0x29f01d(0x49b)](this[_0x29f01d(0x39e)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x49f6e9/0x3e8+'\x20segundos'),setTimeout(_0x4f96e0,_0x49f6e9);}};if(this['isRunning'])return;this[_0x4b456b(0x325)]=!0x0;let _0x24e371=_0xb96d2e();setTimeout(_0x4f96e0,_0x24e371);}async[a0_0x1b487a(0x570)](_0x9c3c43=0x0,_0x215be9=!0x1){const _0x507094=a0_0x1b487a;try{let _0x3e5d7c=this[_0x507094(0x362)]['get'](_0x507094(0xf7));if(_0x3e5d7c!==0x1||typeof _0x3e5d7c>'u'||_0x9c3c43>=0x5)return this[_0x507094(0x213)]['warn'](_0x507094(0x86)),this[_0x507094(0x4d8)]['auth']['create']({'ip':null},this[_0x507094(0x6e3)][_0x507094(0x69e)]),{};this['logger']['verbose'](this[_0x507094(0x39e)]+_0x507094(0x55d)+(_0x9c3c43+0x1)+_0x507094(0x3c2));let _0x1b16dc;if(!_0x215be9){let _0x24a8ff=await this['repository'][_0x507094(0x282)]['find'](this[_0x507094(0x39e)]);_0x24a8ff&&_0x24a8ff['ip']&&(_0x1b16dc=gr(_0x24a8ff['ip']));}if((!_0x1b16dc||!Ss(_0x1b16dc))&&(this[_0x507094(0x213)][_0x507094(0x3d4)](this[_0x507094(0x39e)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x1b16dc=mr()),_0x1b16dc&&Ss(_0x1b16dc)){let _0xcb650b=_0x1b16dc[_0x507094(0xd5)]&&_0x1b16dc[_0x507094(0x9d)]?_0x1b16dc[_0x507094(0x2c9)]+_0x507094(0x6fa)+_0x1b16dc[_0x507094(0xd5)]+':'+_0x1b16dc[_0x507094(0x9d)]+'@'+_0x1b16dc[_0x507094(0x166)]+':'+_0x1b16dc['port']:_0x1b16dc[_0x507094(0x2c9)]+_0x507094(0x6fa)+_0x1b16dc[_0x507094(0x166)]+':'+_0x1b16dc[_0x507094(0x564)];return await this['testProxy'](_0xcb650b,_0x1b16dc[_0x507094(0x166)])?(this['logger'][_0x507094(0x49b)](this[_0x507094(0x39e)]+_0x507094(0x5af)),this[_0x507094(0x4d8)]['auth']['create']({'ip':_0x1b16dc[_0x507094(0x166)]},this[_0x507094(0x6e3)]['name']),{'agent':new _t[(_0x507094(0x34f))](_0xcb650b),'fetchAgent':new _t['HttpsProxyAgent'](_0xcb650b)}):(this[_0x507094(0x213)][_0x507094(0x3d4)](this[_0x507094(0x39e)]+_0x507094(0x294)),await(0x0,g['delay'])(0xc8),this[_0x507094(0x570)](_0x9c3c43+0x1,!0x0));}else return this['logger'][_0x507094(0x3d4)](this[_0x507094(0x39e)]+_0x507094(0x57f)),await(0x0,g[_0x507094(0x12a)])(0xc8),this[_0x507094(0x570)](_0x9c3c43+0x1,!0x0);}catch(_0x4474eb){return this['logger'][_0x507094(0x519)](this['instanceName']+_0x507094(0x390)+_0x4474eb[_0x507094(0x531)]),{};}}async[a0_0x1b487a(0x45a)](_0x526eb9,_0x4adfbe){const _0x6fb35f=a0_0x1b487a;let _0xd01f4e=new _t[(_0x6fb35f(0x34f))](_0x526eb9),_0x2135a9=0x1388,_0x4b0ae2=[{'url':_0x6fb35f(0x2cf),'parse':_0xe69213=>_0xe69213['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x35421b=>_0x35421b['ip']},{'url':_0x6fb35f(0x288),'parse':_0x25c1ac=>_0x25c1ac[_0x6fb35f(0x693)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x6fb35f(0x26b),'parse':_0x522692=>_0x522692['ip']},{'url':_0x6fb35f(0x3a9),'parse':_0x27450f=>_0x27450f[_0x6fb35f(0x328)]()},{'url':_0x6fb35f(0x2cd),'parse':_0x5b66b0=>_0x5b66b0[_0x6fb35f(0x328)]()},{'url':_0x6fb35f(0x217),'parse':_0x4a765a=>_0x4a765a[_0x6fb35f(0x440)]},{'url':_0x6fb35f(0x659),'parse':_0x1b58c5=>_0x1b58c5[_0x6fb35f(0x328)]()},{'url':_0x6fb35f(0x38e),'parse':_0x55d9c7=>_0x55d9c7[_0x6fb35f(0x328)]()}],_0x53f8e2=_0x4b0ae2[Math[_0x6fb35f(0x477)](Math[_0x6fb35f(0x3c1)]()*_0x4b0ae2['length'])];try{let _0x225b59=await se[_0x6fb35f(0x66d)][_0x6fb35f(0x348)](_0x53f8e2['url'],{'httpsAgent':_0xd01f4e,'timeout':_0x2135a9}),_0x3bde90=_0x53f8e2[_0x6fb35f(0x323)](_0x225b59['data']);return _0x3bde90===_0x4adfbe?(this[_0x6fb35f(0x213)][_0x6fb35f(0x49b)](this[_0x6fb35f(0x39e)]+_0x6fb35f(0x428)+_0x4adfbe+'\x20-\x20retornado:\x20'+_0x3bde90+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x6fb35f(0x213)][_0x6fb35f(0x519)](this[_0x6fb35f(0x39e)]+_0x6fb35f(0x428)+_0x4adfbe+_0x6fb35f(0x304)+_0x3bde90+_0x6fb35f(0x366)),!0x1);}catch(_0x4c3ac1){return this[_0x6fb35f(0x213)]['error'](this[_0x6fb35f(0x39e)]+_0x6fb35f(0x6c1)+_0x53f8e2[_0x6fb35f(0x241)]+':\x20'+_0x4c3ac1[_0x6fb35f(0x531)]),!0x1;}}async[a0_0x1b487a(0x459)](_0x53ee27){const _0x4c61ee=a0_0x1b487a;try{let _0x429f08=await this[_0x4c61ee(0x570)]();this[_0x4c61ee(0x691)](),this[_0x4c61ee(0x6e3)][_0x4c61ee(0x9c)]=(await this['repository'][_0x4c61ee(0x282)][_0x4c61ee(0x3a8)](this[_0x4c61ee(0x6e3)]['name']))['apikey'],this[_0x4c61ee(0x6e3)][_0x4c61ee(0x1aa)]=await this['defineAuthState']();let {version:_0x3b333c}=await(0x0,g[_0x4c61ee(0x1fb)])(),_0x382ab7=[Ns,Cr,(0x0,Es[_0x4c61ee(0x1e5)])()],_0x55388a={..._0x429f08,'auth':{'creds':this[_0x4c61ee(0x6e3)]['authState'][_0x4c61ee(0x488)][_0x4c61ee(0x62c)],'keys':(0x0,g['makeCacheableSignalKeyStore'])(this['instance'][_0x4c61ee(0x1aa)][_0x4c61ee(0x488)][_0x4c61ee(0x2a5)],(0x0,It[_0x4c61ee(0x66d)])({'level':_0x4c61ee(0x519)}))},'logger':(0x0,It[_0x4c61ee(0x66d)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x53ee27?[_0x4c61ee(0x621),Ns,(0x0,Es[_0x4c61ee(0x1e5)])()]:_0x382ab7,'version':_0x3b333c,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x1c6822=>{const _0x2d073b=_0x4c61ee;let _0x5d2aee=_0x1c6822[_0x2d073b(0x51b)](_0x2d073b(0x6fc)),_0x461a63=this[_0x2d073b(0x34b)]?.['groups_ignore']&&_0x1c6822[_0x2d073b(0x51b)](_0x2d073b(0x3f0));return _0x5d2aee||(0x0,g[_0x2d073b(0x433)])(_0x1c6822)||_0x461a63;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x3e662b=>await this[_0x4c61ee(0x4e4)](_0x3e662b),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x4c61ee(0x92)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x2d76c6=>(_0x2d76c6[_0x4c61ee(0x321)]?.['listType']==g[_0x4c61ee(0x394)][_0x4c61ee(0x569)][_0x4c61ee(0x41f)][_0x4c61ee(0x4a4)][_0x4c61ee(0x4ae)]&&(_0x2d76c6=JSON[_0x4c61ee(0x323)](JSON[_0x4c61ee(0x11e)](_0x2d76c6)),_0x2d76c6[_0x4c61ee(0x321)][_0x4c61ee(0x5ca)]=g[_0x4c61ee(0x394)][_0x4c61ee(0x569)][_0x4c61ee(0x41f)][_0x4c61ee(0x4a4)][_0x4c61ee(0x152)]),_0x2d76c6)};return this[_0x4c61ee(0x252)]=!0x1,this['client']=(0x0,g[_0x4c61ee(0x66d)])(_0x55388a),this[_0x4c61ee(0x3b9)](),this[_0x4c61ee(0x3a7)]=_0x53ee27,this[_0x4c61ee(0x367)];}catch(_0x15dbcd){throw this[_0x4c61ee(0x213)][_0x4c61ee(0x519)](this[_0x4c61ee(0x39e)]+'\x20('+this[_0x4c61ee(0x6e3)][_0x4c61ee(0x3b7)]+_0x4c61ee(0x6b6)+(_0x15dbcd instanceof Error?_0x15dbcd[_0x4c61ee(0x531)]:JSON[_0x4c61ee(0x11e)](_0x15dbcd,null,0x2))),new I(_0x15dbcd?.[_0x4c61ee(0x601)]());}}[a0_0x1b487a(0x3b9)](){const _0x14ea84=a0_0x1b487a;this['client']['ev'][_0x14ea84(0x18f)](_0x16e3e2=>{const _0x2366b1=_0x14ea84;if(!this[_0x2366b1(0x252)]){let _0x86afd1=this[_0x2366b1(0x362)][_0x2366b1(0x348)](_0x2366b1(0x4a5));if(_0x16e3e2[_0x2366b1(0x128)]){let _0x268925=_0x16e3e2[_0x2366b1(0x128)];this[_0x2366b1(0x21d)][_0x2366b1(0x128)](_0x268925);}if(_0x16e3e2[_0x2366b1(0x2c7)]){let _0xf3ffbc=_0x16e3e2[_0x2366b1(0x2c7)];this[_0x2366b1(0x21d)][_0x2366b1(0x2c7)](_0xf3ffbc);}if(_0x16e3e2[_0x2366b1(0x1e0)]&&this[_0x2366b1(0x1bb)](_0x16e3e2['connection.update']),_0x16e3e2[_0x2366b1(0x202)]&&this[_0x2366b1(0x6e3)][_0x2366b1(0x1aa)][_0x2366b1(0x150)](),_0x16e3e2[_0x2366b1(0x4d3)]){let _0x36c793=_0x16e3e2['messaging-history.set'];this[_0x2366b1(0x21d)]['messaging-history.set'](_0x36c793,_0x86afd1);}if(_0x16e3e2[_0x2366b1(0x352)]){let _0x1b5804=_0x16e3e2['messages.upsert'];this[_0x2366b1(0x21d)][_0x2366b1(0x352)](_0x1b5804,_0x86afd1);}if(_0x16e3e2[_0x2366b1(0x1ac)]){let _0x19cb0d=_0x16e3e2[_0x2366b1(0x1ac)];_0x19cb0d['forEach'](_0x2cd382=>{const _0x344463=_0x2366b1;if(wr[_0x2cd382['key']['id']]){this[_0x344463(0x367)]['ev'][_0x344463(0x206)](_0x344463(0x352),{'messages':[_0x2cd382],'type':'notify'}),delete wr[_0x2cd382[_0x344463(0xff)]['id']];return;}}),this[_0x2366b1(0x21d)][_0x2366b1(0x1ac)](_0x19cb0d,_0x86afd1);}if(_0x16e3e2[_0x2366b1(0x631)]){let _0x504c12=_0x16e3e2[_0x2366b1(0x631)];if(this[_0x2366b1(0x34b)]?.[_0x2366b1(0x1c6)]&&_0x504c12['id'][_0x2366b1(0x56d)](_0x2366b1(0x3f0)))return;this[_0x2366b1(0x54d)](_0x2366b1(0x631),_0x504c12);}if(!this[_0x2366b1(0x34b)]?.['groups_ignore']){if(_0x16e3e2[_0x2366b1(0x416)]){let _0x5653c5=_0x16e3e2[_0x2366b1(0x416)];this[_0x2366b1(0x144)][_0x2366b1(0x416)](_0x5653c5);}if(_0x16e3e2[_0x2366b1(0xc1)]){let _0x480706=_0x16e3e2['groups.update'];this[_0x2366b1(0x144)][_0x2366b1(0xc1)](_0x480706);}if(_0x16e3e2[_0x2366b1(0x597)]){let _0x469d33=_0x16e3e2[_0x2366b1(0x597)];this['groupHandler'][_0x2366b1(0x597)](_0x469d33);}}if(_0x16e3e2['chats.upsert']){let _0x2b61d1=_0x16e3e2['chats.upsert'];this[_0x2366b1(0x175)][_0x2366b1(0x3ae)](_0x2b61d1,_0x86afd1);}if(_0x16e3e2['chats.update']){let _0x1cc823=_0x16e3e2[_0x2366b1(0x14b)];this[_0x2366b1(0x175)][_0x2366b1(0x14b)](_0x1cc823,_0x86afd1);}if(_0x16e3e2[_0x2366b1(0x12f)]){let _0x102161=_0x16e3e2['chats.delete'];this['chatHandle']['chats.delete'](_0x102161);}if(_0x16e3e2[_0x2366b1(0x634)]){let _0x1e11b3=_0x16e3e2[_0x2366b1(0x634)];this['contactHandle'][_0x2366b1(0x634)](_0x1e11b3,_0x86afd1);}if(_0x16e3e2[_0x2366b1(0x308)]){let _0xd3a0f3=_0x16e3e2['contacts.update'];this[_0x2366b1(0x5fb)][_0x2366b1(0x308)](_0xd3a0f3,_0x86afd1);}}});}[a0_0x1b487a(0x6ce)](_0x49f50a){return new Promise(_0x3d3ec1=>setTimeout(_0x3d3ec1,_0x49f50a));}[a0_0x1b487a(0x109)](_0x3eb91f){const _0x4dbbb2=a0_0x1b487a;let _0x4961ea=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4dbbb2(0x2b6)](_0x3eb91f);if(_0x4961ea&&_0x4961ea[0x1]==='55'){let _0x33a2da=_0x4961ea[0x2],_0x31df2c=_0x4961ea[0x3],_0x480514=_0x4961ea[0x4];if(_0x33a2da>='31'&&_0x31df2c==='9')return _0x4961ea[0x1]+_0x33a2da+_0x480514;}return _0x3eb91f;}[a0_0x1b487a(0x330)](_0xe7e91e){const _0x48e15e=a0_0x1b487a;return _0xe7e91e['includes'](_0x48e15e(0x3f0))||_0xe7e91e[_0x48e15e(0x56d)](_0x48e15e(0x260))||_0xe7e91e[_0x48e15e(0x56d)](_0x48e15e(0x3b1))?_0xe7e91e:(_0xe7e91e=_0xe7e91e?.[_0x48e15e(0x168)](/\s/g,'')[_0x48e15e(0x168)](/\+/g,'')['replace'](/\(/g,'')[_0x48e15e(0x168)](/\)/g,'')[_0x48e15e(0x4b1)](/\:/)[0x0][_0x48e15e(0x4b1)]('@')[0x0],_0xe7e91e['length']>=0x12?(_0xe7e91e=_0xe7e91e[_0x48e15e(0x168)](/[^\d-]/g,''),_0xe7e91e+_0x48e15e(0x3f0)):(_0xe7e91e=_0xe7e91e[_0x48e15e(0x168)](/\D/g,''),_0xe7e91e+_0x48e15e(0x260)));}async[a0_0x1b487a(0x375)](_0x2950fe){const _0x4a2641=a0_0x1b487a;let _0x1cb969=this[_0x4a2641(0x330)](_0x2950fe['number']),_0x2803f1=(await this[_0x4a2641(0x212)]({'numbers':[_0x1cb969]}))[0x0];if(!_0x2803f1[_0x4a2641(0x1be)]&&!(0x0,g[_0x4a2641(0x5a7)])(_0x2803f1[_0x4a2641(0x37f)]))throw new w(_0x2803f1);let _0x20649a=(0x0,g['isJidGroup'])(_0x1cb969)?_0x1cb969:_0x2803f1['jid'];if((0x0,g[_0x4a2641(0x5a7)])(_0x20649a))try{await this[_0x4a2641(0x367)][_0x4a2641(0x2d5)](_0x20649a);}catch{throw new k(_0x4a2641(0x104));}try{return await this[_0x4a2641(0x367)][_0x4a2641(0x20b)](_0x20649a),await this[_0x4a2641(0x367)][_0x4a2641(0x3de)](_0x2950fe[_0x4a2641(0x2bd)],_0x1cb969),{'status':0xc8,'presence':_0x2950fe[_0x4a2641(0x2bd)]};}catch(_0x4137be){throw new w(_0x4137be[_0x4a2641(0x601)]());}}async['profilePicture'](_0x4a1580){const _0x5cf1c7=a0_0x1b487a;let _0x1723e3=this[_0x5cf1c7(0x330)](_0x4a1580);try{return{'wuid':_0x1723e3,'profilePictureUrl':await this[_0x5cf1c7(0x367)][_0x5cf1c7(0x4af)](_0x1723e3,'image')};}catch{return{'wuid':_0x1723e3,'profilePictureUrl':null};}}async[a0_0x1b487a(0x2a1)](_0x3fcc1b,_0x55636d,_0x402cf7){const _0x4baac7=a0_0x1b487a;_0x402cf7||(_0x402cf7={});let _0x490478=(await this[_0x4baac7(0x212)]({'numbers':[_0x3fcc1b]}))[0x0];if(!_0x490478[_0x4baac7(0x1be)]&&!(0x0,g[_0x4baac7(0x5a7)])(_0x490478['jid'])&&!_0x490478[_0x4baac7(0x37f)][_0x4baac7(0x56d)]('@broadcast'))throw new w(_0x490478);let _0x4f9f56=_0x490478[_0x4baac7(0x37f)];try{_0x402cf7?.[_0x4baac7(0x12a)]&&(await this['client'][_0x4baac7(0x20b)](_0x4f9f56),await this[_0x4baac7(0x367)]['sendPresenceUpdate'](_0x402cf7?.['presence']??_0x4baac7(0x554),_0x4f9f56),await(0x0,g[_0x4baac7(0x12a)])(_0x402cf7[_0x4baac7(0x12a)]),await this[_0x4baac7(0x367)][_0x4baac7(0x3de)](_0x4baac7(0xeb),_0x4f9f56));let _0x31fa22=_0x402cf7?.[_0x4baac7(0x460)]!=!0x1?void 0x0:!0x1,_0x387410;if(_0x402cf7?.['quoted']){let _0x157d88=_0x402cf7?.[_0x4baac7(0x4d0)],_0x4f0f0d=_0x157d88?.[_0x4baac7(0x531)]?_0x157d88:await this['getMessage'](_0x157d88[_0x4baac7(0xff)],!0x0);if(!_0x4f0f0d)throw'Message\x20not\x20found';_0x387410=_0x4f0f0d;}let _0xdd95f9;if((0x0,g[_0x4baac7(0x5a7)])(_0x4f9f56))try{let _0x3716e4=await this[_0x4baac7(0x367)]['groupMetadata'](_0x4f9f56);if(!_0x3716e4)throw new k(_0x4baac7(0x104));_0x402cf7?.['mentions']&&(_0x402cf7[_0x4baac7(0x63d)]?.[_0x4baac7(0x4ec)]?_0xdd95f9=_0x3716e4[_0x4baac7(0x129)][_0x4baac7(0x381)](_0x3c8747=>_0x3c8747['id']):_0x402cf7[_0x4baac7(0x63d)]?.[_0x4baac7(0x694)]?.[_0x4baac7(0x573)]&&(_0xdd95f9=_0x402cf7[_0x4baac7(0x63d)][_0x4baac7(0x694)][_0x4baac7(0x381)](_0x5f3fe3=>{const _0x2bf4b4=_0x4baac7;let _0x3c0000=this[_0x2bf4b4(0x330)](_0x5f3fe3);return(0x0,g[_0x2bf4b4(0x5a7)])(_0x3c0000)?null:_0x3c0000;})));}catch{throw new k('Group\x20not\x20found');}let _0x276c0d=await((async()=>{const _0x323b21=_0x4baac7;let _0x2e4731={'quoted':_0x387410};if(!_0x55636d[_0x323b21(0xc2)]&&!_0x55636d[_0x323b21(0xe4)]&&!_0x55636d[_0x323b21(0x262)]&&!_0x55636d[_0x323b21(0x435)]&&_0x4f9f56!=='status@broadcast'&&!_0x55636d['audio'])return await this['client']['sendMessage'](_0x4f9f56,{'forward':{'key':{'remoteJid':this['instance'][_0x323b21(0x3b7)],'fromMe':!0x0},'message':_0x55636d},'mentions':_0xdd95f9},_0x2e4731);if(_0x55636d[_0x323b21(0x65b)])return await this[_0x323b21(0x367)][_0x323b21(0x41e)](_0x4f9f56,{'react':{'text':_0x55636d[_0x323b21(0x65b)]['text'],'key':_0x55636d[_0x323b21(0x65b)][_0x323b21(0xff)]}},_0x2e4731);if(_0x55636d[_0x323b21(0x435)]){let _0x36824d=_0x55636d['conversation'];return _0x402cf7?.[_0x323b21(0xb2)]&&(_0x36824d=await this[_0x323b21(0x5d8)](_0x36824d,_0x4f9f56)),await this[_0x323b21(0x367)][_0x323b21(0x41e)](_0x4f9f56,{'text':_0x36824d,'mentions':_0xdd95f9,'linkPreview':_0x31fa22},_0x2e4731);}return _0x4f9f56==='status@broadcast'?await this[_0x323b21(0x367)][_0x323b21(0x41e)](_0x4f9f56,_0x55636d[_0x323b21(0x14f)]['content'],{'backgroundColor':_0x55636d['status'][_0x323b21(0x3eb)][_0x323b21(0x53c)],'font':_0x55636d[_0x323b21(0x14f)]['option'][_0x323b21(0x2df)],'statusJidList':_0x55636d[_0x323b21(0x14f)][_0x323b21(0x3eb)][_0x323b21(0x575)]}):await this[_0x323b21(0x367)]['sendMessage'](_0x4f9f56,_0x55636d,_0x2e4731);})()),_0x1daec8=(0x0,g[_0x4baac7(0x491)])(_0x276c0d[_0x4baac7(0x531)]),_0x2fffa1=(0x0,g[_0x4baac7(0x419)])(_0x1daec8),{message_normalized:_0x341e96}=this['normalizeMessage'](_0x1daec8,_0x2fffa1,null),_0xf5302a={'_id':_0x276c0d[_0x4baac7(0xff)]['id'],'key':_0x276c0d[_0x4baac7(0xff)],'pushName':_0x276c0d[_0x4baac7(0x327)],'message':_0x1daec8,'messageType':_0x2fffa1,'message_normalized':{'key':_0x276c0d['key'],'pushName':_0x276c0d[_0x4baac7(0x327)],'messageTimestamp':_0x276c0d[_0x4baac7(0x122)]&&_0x276c0d[_0x4baac7(0x122)][_0x4baac7(0x601)]()[_0x4baac7(0x573)]<0xd?_0x276c0d[_0x4baac7(0x122)]*0x3e8:_0x276c0d[_0x4baac7(0x122)]||null,'source':(0x0,g[_0x4baac7(0x2eb)])(_0x276c0d[_0x4baac7(0xff)]['id']),..._0x341e96},'messageTimestamp':_0x276c0d['messageTimestamp']&&_0x276c0d[_0x4baac7(0x122)][_0x4baac7(0x601)]()['length']<0xd?_0x276c0d[_0x4baac7(0x122)]*0x3e8:_0x276c0d[_0x4baac7(0x122)]||null,'owner':this['instance']['wuid'],'source':(0x0,g[_0x4baac7(0x2eb)])(_0x276c0d[_0x4baac7(0xff)]['id'])};return this[_0x4baac7(0x213)]['warn'](this['instanceName']+'\x20('+this[_0x4baac7(0x6e3)]['wuid']+_0x4baac7(0x16d)+_0xf5302a[_0x4baac7(0xff)]?.[_0x4baac7(0x38f)][_0x4baac7(0x168)](_0x4baac7(0x260),'')+']\x20('+_0xf5302a['messageType']+')'),_0xf5302a[_0x4baac7(0x30e)]?.[_0x4baac7(0x2f1)]&&this[_0x4baac7(0x213)][_0x4baac7(0x3d4)](_0xf5302a[_0x4baac7(0x30e)]?.['text']),this[_0x4baac7(0x54d)](_0x4baac7(0x41c),_0xf5302a),q(this['instanceName'],_0x4baac7(0x215),{'message':_0xf5302a}),this[_0x4baac7(0x6eb)](this[_0x4baac7(0x362)][_0x4baac7(0x348)](_0x4baac7(0x4a5)),_0xf5302a,_0x4baac7(0x55e)),await this[_0x4baac7(0x4d8)][_0x4baac7(0x531)][_0x4baac7(0x24c)]([_0xf5302a],this[_0x4baac7(0x6e3)]['wuid']),_0x276c0d;}catch(_0x378310){throw this[_0x4baac7(0x213)]['error'](this[_0x4baac7(0x39e)]+'\x20('+this[_0x4baac7(0x6e3)]['wuid']+_0x4baac7(0x6b6)+_0x378310[_0x4baac7(0x601)]()),new w(_0x378310[_0x4baac7(0x601)]());}}get[a0_0x1b487a(0x22f)](){const _0x18a1e6=a0_0x1b487a;return this[_0x18a1e6(0x37a)];}async[a0_0x1b487a(0x6b0)](_0x23c8b2){const _0x13465c=a0_0x1b487a;let _0x1c684b=fr,_0x6028b=Ke;return _0x6028b&&this[_0x13465c(0x39e)][_0x13465c(0x3d2)]()[_0x13465c(0x56d)](_0x6028b[_0x13465c(0x3d2)]())&&(_0x23c8b2['textMessage'][_0x13465c(0x2f1)]+='\x0a\x0a'+_0x1c684b),await this[_0x13465c(0x2a1)](_0x23c8b2[_0x13465c(0x5f5)],{'conversation':_0x23c8b2['textMessage'][_0x13465c(0x2f1)]},_0x23c8b2?.[_0x13465c(0x3e0)]);}async[a0_0x1b487a(0x452)](_0x212637){const _0x7053d9=a0_0x1b487a;if(!_0x212637['type'])throw new w(_0x7053d9(0x383));if(!_0x212637[_0x7053d9(0x2e0)])throw new w(_0x7053d9(0x361));if(_0x212637[_0x7053d9(0x255)]){let _0x2b55ec=await this[_0x7053d9(0x4d8)][_0x7053d9(0x1ed)][_0x7053d9(0x3a8)]({'where':{}},this[_0x7053d9(0x6e3)][_0x7053d9(0x3b7)]);if(!_0x2b55ec['length'])throw new w('Contacts\x20not\x20found');_0x212637[_0x7053d9(0x575)]=_0x2b55ec['filter'](_0x301b83=>_0x301b83['pushName'])[_0x7053d9(0x381)](_0x181974=>_0x181974[_0x7053d9(0x127)]);}if(!_0x212637[_0x7053d9(0x575)]?.['length']&&!_0x212637[_0x7053d9(0x255)])throw new w(_0x7053d9(0x1a8));if(_0x212637[_0x7053d9(0x337)]===_0x7053d9(0x2f1)){if(!_0x212637['backgroundColor'])throw new w(_0x7053d9(0x675));if(!_0x212637[_0x7053d9(0x2df)])throw new w('Font\x20is\x20required');return{'content':{'text':_0x212637['content']},'option':{'backgroundColor':_0x212637[_0x7053d9(0x53c)],'font':_0x212637[_0x7053d9(0x2df)],'statusJidList':_0x212637[_0x7053d9(0x575)]}};}if(_0x212637[_0x7053d9(0x337)]===_0x7053d9(0x147))return{'content':{'image':{'url':_0x212637[_0x7053d9(0x2e0)]},'caption':_0x212637['caption']},'option':{'statusJidList':_0x212637[_0x7053d9(0x575)]}};if(_0x212637[_0x7053d9(0x337)]===_0x7053d9(0x116))return{'content':{'video':{'url':_0x212637['content']},'caption':_0x212637[_0x7053d9(0x5c2)]},'option':{'statusJidList':_0x212637[_0x7053d9(0x575)]}};if(_0x212637[_0x7053d9(0x337)]==='audio'){this[_0x7053d9(0x213)][_0x7053d9(0x49b)](_0x7053d9(0x455)),this[_0x7053d9(0x213)][_0x7053d9(0x49b)](_0x7053d9(0x3b5));let _0x2f85d3=await this[_0x7053d9(0x43e)](_0x212637[_0x7053d9(0x2e0)]);if(typeof _0x2f85d3==_0x7053d9(0x10a)){this['logger'][_0x7053d9(0x49b)]('Audio\x20processed');let _0x11c69c=L['readFileSync'](_0x2f85d3)['toString']('base64');return{'content':{'audio':Buffer['from'](_0x11c69c,_0x7053d9(0x32e)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x212637[_0x7053d9(0x575)]}};}else throw new I(_0x2f85d3);}throw new w(_0x7053d9(0x162));}async[a0_0x1b487a(0x521)](_0x2b8f34){const _0x394f43=a0_0x1b487a;return await this[_0x394f43(0x2a1)](_0x394f43(0x298),{'status':await this[_0x394f43(0x452)](_0x2b8f34['statusMessage'])});}async[a0_0x1b487a(0xda)](_0x3f7266){const _0x1ded80=a0_0x1b487a;try{let _0x3b42c8=await(0x0,g[_0x1ded80(0x4b8)])({[_0x3f7266['mediatype']]:(0x0,$['isURL'])(_0x3f7266[_0x1ded80(0x3ea)])?{'url':_0x3f7266[_0x1ded80(0x3ea)]}:Buffer['from'](_0x3f7266[_0x1ded80(0x3ea)],_0x1ded80(0x32e))},{'upload':this[_0x1ded80(0x367)][_0x1ded80(0x2b5)]}),_0x54ca6d=_0x3f7266['mediatype']+_0x1ded80(0x569);if(_0x3f7266[_0x1ded80(0x5b6)]===_0x1ded80(0x5e0)&&!_0x3f7266[_0x1ded80(0x3ec)]){let _0x1abe35=new RegExp(/.*\/(.+?)\./)[_0x1ded80(0x2b6)](_0x3f7266[_0x1ded80(0x3ea)]);_0x3f7266[_0x1ded80(0x3ec)]=_0x1abe35?_0x1abe35[0x1]:null;}let _0x2bc66a=(0x0,$['isURL'])(_0x3f7266[_0x1ded80(0x3ea)])?_0x3f7266['media'][_0x1ded80(0x4b1)]('?')[0x0]:_0x3f7266['media'];this[_0x1ded80(0x213)]['verbose']('URL\x20limpa:\x20'+_0x2bc66a);let _0x40297c;(0x0,$[_0x1ded80(0x326)])(_0x3f7266[_0x1ded80(0x3ea)])?_0x40297c=(0x0,xt[_0x1ded80(0x1a6)])(_0x2bc66a):_0x3f7266['fileName']&&_0x3f7266['fileName'][_0x1ded80(0x56d)]('.')?_0x40297c=(0x0,xt[_0x1ded80(0x1a6)])(_0x3f7266[_0x1ded80(0x3ec)]):_0x40297c=(0x0,xt[_0x1ded80(0x1a6)])(_0x3f7266[_0x1ded80(0x3ea)]);let _0x1838f1=fr,_0x117dc6=Ke;return _0x117dc6&&this[_0x1ded80(0x39e)][_0x1ded80(0x3d2)]()['includes'](_0x117dc6[_0x1ded80(0x3d2)]())&&(_0x3f7266[_0x1ded80(0x5c2)]+='\x0a\x0a'+_0x1838f1),_0x3b42c8[_0x54ca6d]['caption']=_0x3f7266?.[_0x1ded80(0x5c2)],_0x3b42c8[_0x54ca6d]['mimetype']=_0x40297c,_0x3b42c8[_0x54ca6d][_0x1ded80(0x3ec)]=_0x3f7266[_0x1ded80(0x3ec)],_0x3f7266['mediatype']==='video'&&(_0x3b42c8[_0x54ca6d][_0x1ded80(0x315)]=Uint8Array[_0x1ded80(0x530)]((0x0,ve[_0x1ded80(0x65e)])((0x0,j[_0x1ded80(0xf6)])(process[_0x1ded80(0x65d)](),'video-cover.png'))),_0x3b42c8[_0x54ca6d][_0x1ded80(0x48b)]=!0x1),(0x0,g[_0x1ded80(0x3c8)])('',{[_0x54ca6d]:{..._0x3b42c8[_0x54ca6d]}},{'userJid':this[_0x1ded80(0x6e3)]['wuid']});}catch(_0x45eafb){throw this[_0x1ded80(0x213)][_0x1ded80(0x519)](this[_0x1ded80(0x39e)]+'\x20('+this[_0x1ded80(0x6e3)][_0x1ded80(0x3b7)]+_0x1ded80(0x6b6)+(_0x45eafb instanceof Error?_0x45eafb['message']:JSON[_0x1ded80(0x11e)](_0x45eafb,null,0x2))),new I(_0x45eafb?.[_0x1ded80(0x601)]()||_0x45eafb);}}async[a0_0x1b487a(0x65a)](_0x409c86){const _0xe1f9cc=a0_0x1b487a;let _0x32eb0e=await this[_0xe1f9cc(0xda)](_0x409c86['mediaMessage']);return await this['sendMessageWithTyping'](_0x409c86[_0xe1f9cc(0x5f5)],{..._0x32eb0e[_0xe1f9cc(0x531)]},_0x409c86?.['options']);}async['convertToWebP'](_0x12c37d,_0x1ae2ca){const _0x1e3a18=a0_0x1b487a;try{this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)](_0x1e3a18(0x1a9));let _0x806638,_0x599c9a=_0x1ae2ca+'-'+new Date()[_0x1e3a18(0x46b)]();this[_0x1e3a18(0x213)]['verbose'](_0x1e3a18(0x374)+_0x599c9a);let _0x1dfd61=''+(0x0,j['join'])(this[_0x1e3a18(0x35e)],_0x599c9a+_0x1e3a18(0x6a8));if(this[_0x1e3a18(0x213)]['verbose']('Output\x20path:\x20'+_0x1dfd61),(0x0,$[_0x1e3a18(0x664)])(_0x12c37d)){this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)]('Image\x20is\x20base64');let _0x5b6476=_0x12c37d[_0x1e3a18(0x168)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x57f4f2=Buffer[_0x1e3a18(0x530)](_0x5b6476,'base64');_0x806638=''+(0x0,j[_0x1e3a18(0xf6)])(this[_0x1e3a18(0x35e)],_0x1e3a18(0x1b5)+_0x599c9a+_0x1e3a18(0x6bb)),this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)]('Image\x20path:\x20'+_0x806638),await(0x0,Dt['default'])(_0x57f4f2)[_0x1e3a18(0x64c)](_0x806638),this[_0x1e3a18(0x213)]['verbose']('Image\x20created');}else{this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)](_0x1e3a18(0x59f));let _0x4a3b49=new Date()[_0x1e3a18(0x46b)](),_0x24ea69=_0x12c37d+_0x1e3a18(0x42b)+_0x4a3b49;this['logger']['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x24ea69);let _0x15fabf=await se[_0x1e3a18(0x66d)][_0x1e3a18(0x348)](_0x24ea69,{'responseType':'arraybuffer'});this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)]('Getting\x20image\x20from\x20url');let _0x70350f=Buffer[_0x1e3a18(0x530)](_0x15fabf['data'],_0x1e3a18(0x45f));_0x806638=''+(0x0,j[_0x1e3a18(0xf6)])(this[_0x1e3a18(0x35e)],'temp-'+_0x599c9a+_0x1e3a18(0x6bb)),this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)](_0x1e3a18(0x574)+_0x806638),await(0x0,Dt['default'])(_0x70350f)[_0x1e3a18(0x64c)](_0x806638),this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)](_0x1e3a18(0x342));}return await(0x0,Dt[_0x1e3a18(0x66d)])(_0x806638)[_0x1e3a18(0x668)]()[_0x1e3a18(0x64c)](_0x1dfd61),this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)]('Image\x20converted\x20to\x20WebP'),L['unlinkSync'](_0x806638),this[_0x1e3a18(0x213)][_0x1e3a18(0x49b)](_0x1e3a18(0x238)),_0x1dfd61;}catch(_0x55a28f){console[_0x1e3a18(0x519)](_0x1e3a18(0x8e),_0x55a28f instanceof Error?_0x55a28f[_0x1e3a18(0x531)]:JSON['stringify'](_0x55a28f,null,0x2));}}async[a0_0x1b487a(0x5ea)](_0x21b22a){const _0x50a64a=a0_0x1b487a;let _0x4eeb5e=await this[_0x50a64a(0x2fa)](_0x21b22a['stickerMessage'][_0x50a64a(0x147)],_0x21b22a[_0x50a64a(0x5f5)]),_0x3209fa=await this['sendMessageWithTyping'](_0x21b22a[_0x50a64a(0x5f5)],{'sticker':{'url':_0x4eeb5e}},_0x21b22a?.[_0x50a64a(0x3e0)]);return L['unlinkSync'](_0x4eeb5e),this[_0x50a64a(0x213)]['verbose'](_0x50a64a(0x6ee)),_0x3209fa;}async[a0_0x1b487a(0x425)](_0x395a15){const _0x599f39=a0_0x1b487a;if(this['logger'][_0x599f39(0x49b)]('Sending\x20audio\x20whatsapp'),!_0x395a15[_0x599f39(0x3e0)]?.[_0x599f39(0x1dc)]&&_0x395a15[_0x599f39(0x3e0)]?.[_0x599f39(0x1dc)]!==!0x1&&(_0x395a15[_0x599f39(0x3e0)][_0x599f39(0x1dc)]=!0x0),_0x395a15['options']?.[_0x599f39(0x1dc)]){let _0x58eb13=await this[_0x599f39(0x43e)](_0x395a15[_0x599f39(0x335)]['audio']);if(typeof _0x58eb13==_0x599f39(0x10a)){let _0x1ccbaf=L[_0x599f39(0x65e)](_0x58eb13)[_0x599f39(0x601)](_0x599f39(0x32e));return this[_0x599f39(0x2a1)](_0x395a15['number'],{'audio':Buffer[_0x599f39(0x530)](_0x1ccbaf,_0x599f39(0x32e)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x599f39(0x324),'delay':_0x395a15?.[_0x599f39(0x3e0)]?.['delay']});}else throw new I(_0x58eb13);}return await this[_0x599f39(0x2a1)](_0x395a15[_0x599f39(0x5f5)],{'audio':(0x0,$[_0x599f39(0x326)])(_0x395a15[_0x599f39(0x335)][_0x599f39(0xc2)])?{'url':_0x395a15['audioMessage'][_0x599f39(0xc2)]}:Buffer[_0x599f39(0x530)](_0x395a15['audioMessage'][_0x599f39(0xc2)],'base64'),'ptt':!0x0,'mimetype':_0x599f39(0x467)},{'presence':_0x599f39(0x324),'delay':_0x395a15?.[_0x599f39(0x3e0)]?.[_0x599f39(0x12a)]});}async[a0_0x1b487a(0x43e)](_0x114921){const _0x25ad7b=a0_0x1b487a;this[_0x25ad7b(0x213)]['verbose'](_0x25ad7b(0x3b5));let _0x1d92c3=(0x0,$['isURL'])(_0x114921)?(0x0,vs[_0x25ad7b(0x512)])(_0x25ad7b(0x68a))[_0x25ad7b(0x4f5)](_0x114921)['digest']('hex'):(0x0,vs[_0x25ad7b(0x512)])(_0x25ad7b(0x68a))['update'](_0x114921)['digest'](_0x25ad7b(0x556)),_0x10a25c=''+(0x0,j['join'])(this[_0x25ad7b(0x35e)],_0x1d92c3+_0x25ad7b(0x3e5));if(L[_0x25ad7b(0x22a)](_0x10a25c))return this['logger'][_0x25ad7b(0x49b)](_0x25ad7b(0x5b4)),_0x10a25c;let _0x27eba2=''+(0x0,j[_0x25ad7b(0xf6)])(this[_0x25ad7b(0x35e)],_0x25ad7b(0x1b5)+(0x0,Me['v4'])()+_0x25ad7b(0x110));if((0x0,$[_0x25ad7b(0x326)])(_0x114921)){let _0x160a20=new Date()['getTime'](),_0x8f2f5a=_0x114921+_0x25ad7b(0x42b)+_0x160a20,_0x301ab1=await se[_0x25ad7b(0x66d)][_0x25ad7b(0x348)](_0x8f2f5a,{'responseType':'arraybuffer'});L[_0x25ad7b(0xbd)](_0x27eba2,_0x301ab1['data']);}else{let _0x5e2e81=Buffer['from'](_0x114921,'base64');L['writeFileSync'](_0x27eba2,_0x5e2e81);}return new Promise((_0x183170,_0xddb04c)=>{const _0x406ac3=_0x25ad7b;(0x0,Pt['exec'])(yr[_0x406ac3(0x66d)]['path']+'\x20-i\x20'+_0x27eba2+_0x406ac3(0x346)+_0x10a25c+_0x406ac3(0xbc),_0x156e94=>{const _0x33258c=_0x406ac3;if(L['unlinkSync'](_0x27eba2),_0x156e94){this[_0x33258c(0x213)][_0x33258c(0x49b)](_0x33258c(0x126)),_0xddb04c(_0x156e94);return;}this[_0x33258c(0x213)][_0x33258c(0x49b)](_0x33258c(0x1b6)),_0x183170(_0x10a25c);});});}async[a0_0x1b487a(0x3f7)](_0x592455){const _0xb31ed5=a0_0x1b487a;let _0xc7fec8={},_0x46a4be=_0xb31ed5(0x4ba);if(_0x592455[_0xb31ed5(0x3f7)]?.['mediaMessage']){_0x46a4be=_0x592455[_0xb31ed5(0x3f7)]['mediaMessage']?.[_0xb31ed5(0x5b6)][_0xb31ed5(0x13e)]()??_0xb31ed5(0x4ba),_0xc7fec8[_0xb31ed5(0x111)]=_0x46a4be['toLowerCase']()+_0xb31ed5(0x569);let _0x209c36=await this['prepareMediaMessage'](_0x592455['buttonMessage'][_0xb31ed5(0x65a)]);_0xc7fec8[_0xb31ed5(0x531)]=_0x209c36['message'][_0xc7fec8[_0xb31ed5(0x111)]],_0xc7fec8[_0xb31ed5(0xc8)]='*'+_0x592455[_0xb31ed5(0x3f7)][_0xb31ed5(0x43d)]+'*\x0a\x0a'+_0x592455[_0xb31ed5(0x3f7)]['description'];}let _0x2f9fa5={'text':_0x592455[_0xb31ed5(0x3f7)]['buttons'][_0xb31ed5(0x381)](_0x19bbc4=>_0x19bbc4[_0xb31ed5(0x2a3)]),'ids':_0x592455[_0xb31ed5(0x3f7)][_0xb31ed5(0x3fd)][_0xb31ed5(0x381)](_0x2d1c99=>_0x2d1c99['buttonId'])};if(!(0x0,$[_0xb31ed5(0x3cf)])(_0x2f9fa5[_0xb31ed5(0x2f1)])||!(0x0,$['arrayUnique'])(_0x2f9fa5[_0xb31ed5(0x629)]))throw new w(_0xb31ed5(0x49d),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0xb31ed5(0x2a1)](_0x592455[_0xb31ed5(0x5f5)],{'buttonsMessage':{'text':_0xc7fec8?.[_0xb31ed5(0x111)]?void 0x0:_0x592455[_0xb31ed5(0x3f7)]['title'],'contentText':_0xc7fec8?.['contentText']??_0x592455[_0xb31ed5(0x3f7)]['description'],'footerText':_0x592455['buttonMessage']?.[_0xb31ed5(0x4cc)],'buttons':_0x592455[_0xb31ed5(0x3f7)][_0xb31ed5(0x3fd)]['map'](_0x5ee6f1=>({'buttonText':{'displayText':_0x5ee6f1['buttonText']},'buttonId':_0x5ee6f1[_0xb31ed5(0x2ad)],'type':0x1})),'headerType':g[_0xb31ed5(0x394)][_0xb31ed5(0x569)][_0xb31ed5(0x226)][_0xb31ed5(0x249)][_0x46a4be],[_0xc7fec8?.[_0xb31ed5(0x111)]]:_0xc7fec8?.['message']}},_0x592455?.['options']);}async[a0_0x1b487a(0x5e2)](_0x527bc9){const _0x55f1f0=a0_0x1b487a;return await this[_0x55f1f0(0x2a1)](_0x527bc9[_0x55f1f0(0x5f5)],{'locationMessage':{'degreesLatitude':_0x527bc9[_0x55f1f0(0x5e2)][_0x55f1f0(0x28e)],'degreesLongitude':_0x527bc9[_0x55f1f0(0x5e2)][_0x55f1f0(0x1f7)],'name':_0x527bc9[_0x55f1f0(0x5e2)]?.[_0x55f1f0(0x69e)],'address':_0x527bc9[_0x55f1f0(0x5e2)]?.['address']}},_0x527bc9?.['options']);}async['contactMessage'](_0x5ce6b0){const _0x360e67=a0_0x1b487a;let _0x15e662={},_0x45cf47=_0xaaf421=>{const _0x2a6add=a0_0x32d2;let _0x1a802a=_0x2a6add(0x2b9)+_0xaaf421['fullName']+'\x0aFN:'+_0xaaf421[_0x2a6add(0x2be)]+'\x0a';_0xaaf421['organization']&&(_0x1a802a+=_0x2a6add(0x6f7)+_0xaaf421[_0x2a6add(0x17d)]+';\x0a'),_0xaaf421['email']&&(_0x1a802a+=_0x2a6add(0x6d7)+_0xaaf421['email']+'\x0a'),_0xaaf421['url']&&(_0x1a802a+=_0x2a6add(0x6c2)+_0xaaf421[_0x2a6add(0x241)]+'\x0a');let _0x3baffd='';return _0xaaf421['phoneNumber']&&_0xaaf421[_0x2a6add(0x3a7)][_0x2a6add(0x4b1)]('|')[_0x2a6add(0x6d9)]((_0x30cabc,_0x48ee10)=>{const _0x59ec00=_0x2a6add;let _0x111261=this[_0x59ec00(0x330)](_0x30cabc)[_0x59ec00(0x168)]('@s.whatsapp.net','');_0x3baffd+=_0x59ec00(0x145)+(_0x48ee10+0x1)+_0x59ec00(0xab)+_0x111261+':'+_0x30cabc+_0x59ec00(0x5e3)+(_0x48ee10+0x1)+_0x59ec00(0x27a);}),_0x1a802a+=_0x3baffd+_0x2a6add(0x313),_0x1a802a;};return _0x5ce6b0['contactMessage'][_0x360e67(0x573)]===0x1?_0x15e662[_0x360e67(0x683)]={'displayName':_0x5ce6b0[_0x360e67(0x683)][0x0]['fullName'],'vcard':_0x45cf47(_0x5ce6b0['contactMessage'][0x0])}:_0x15e662[_0x360e67(0x11a)]={'displayName':_0x5ce6b0[_0x360e67(0x683)][_0x360e67(0x573)]+_0x360e67(0x431),'contacts':_0x5ce6b0[_0x360e67(0x683)][_0x360e67(0x381)](_0x39858c=>({'displayName':_0x39858c['fullName'],'vcard':_0x45cf47(_0x39858c)}))},await this[_0x360e67(0x2a1)](_0x5ce6b0[_0x360e67(0x5f5)],{..._0x15e662},_0x5ce6b0?.[_0x360e67(0x3e0)]);}async[a0_0x1b487a(0x65b)](_0x475a6e){const _0x2d284a=a0_0x1b487a;return await this[_0x2d284a(0x2a1)](_0x475a6e[_0x2d284a(0x65b)][_0x2d284a(0xff)][_0x2d284a(0x38f)],{'reactionMessage':{'key':_0x475a6e[_0x2d284a(0x65b)]['key'],'text':_0x475a6e[_0x2d284a(0x65b)]['reaction']}});}async['whatsappNumber'](_0x1396f8){const _0x9e0121=a0_0x1b487a;let _0x235cfc=[];for await(let _0x5e2870 of _0x1396f8[_0x9e0121(0x446)]){let _0x5fa85c=this[_0x9e0121(0x330)](_0x5e2870),_0x675ba=!0x1;try{if((0x0,g[_0x9e0121(0x5a7)])(_0x5fa85c)){let _0x5f440b=await this['findGroup']({'groupJid':_0x5fa85c},_0x9e0121(0x4d9));_0x235cfc[_0x9e0121(0xd3)](new me(_0x5f440b[_0x9e0121(0x53a)]['id'],!!_0x5f440b?.['metadata']['id'],_0x5f440b?.[_0x9e0121(0x53a)][_0x9e0121(0x5b5)])),_0x675ba=!!_0x5f440b?.[_0x9e0121(0x53a)]['id'];}else{let _0x3f999a=(await this[_0x9e0121(0x367)][_0x9e0121(0x2c4)](_0x5fa85c))[0x0];_0x235cfc['push'](new me(_0x3f999a[_0x9e0121(0x37f)],_0x3f999a[_0x9e0121(0x1be)])),_0x675ba=_0x3f999a[_0x9e0121(0x1be)];}}catch{await this[_0x9e0121(0x404)](_0x5fa85c,_0x675ba),_0x235cfc[_0x9e0121(0xd3)](new me(_0x5e2870,!0x1));}}return _0x235cfc;}async[a0_0x1b487a(0x404)](_0x3b4a58,_0x455c36){const _0x5408cc=a0_0x1b487a;try{await this[_0x5408cc(0x4d8)][_0x5408cc(0x23d)][_0x5408cc(0x547)]({'where':{'_id':_0x3b4a58,'imported':!0x0}},this[_0x5408cc(0x6e3)][_0x5408cc(0x3b7)])&&(_0x455c36||(await this[_0x5408cc(0x4d8)][_0x5408cc(0x23d)][_0x5408cc(0x125)](_0x3b4a58,this[_0x5408cc(0x6e3)][_0x5408cc(0x3b7)]),console[_0x5408cc(0x18d)](_0x5408cc(0x5a8)+_0x3b4a58+_0x5408cc(0x33f))));}catch(_0x370c7a){console['error'](_0x5408cc(0x62b),_0x370c7a);}}async[a0_0x1b487a(0x677)](_0x9bf3ff){const _0x31261c=a0_0x1b487a;try{let _0x4acb7a=_0x9bf3ff[_0x31261c(0x568)]['filter'](_0x11310d=>(0x0,g['isJidGroup'])(_0x11310d[_0x31261c(0x38f)])||(0x0,g[_0x31261c(0x4a3)])(_0x11310d[_0x31261c(0x38f)]))[_0x31261c(0x381)](_0x1ee970=>({'remoteJid':_0x1ee970['remoteJid'],'fromMe':_0x1ee970[_0x31261c(0x19a)],'id':_0x1ee970['id']}));await this['client'][_0x31261c(0x568)](_0x4acb7a);let _0x2fed06=_0x4acb7a[_0x31261c(0x381)](_0x254ef6=>this[_0x31261c(0x61d)](_0x254ef6,{'status':_0x31261c(0x4fa),'owner':this['instance']['wuid']})),_0x1e3e22=_0x4acb7a[_0x31261c(0x381)](_0x28cf4a=>this[_0x31261c(0x4d8)][_0x31261c(0x23d)][_0x31261c(0x4bf)]({'where':{'_id':_0x28cf4a[_0x31261c(0x38f)]}},{'unreadcount':0x0},this['instance'][_0x31261c(0x3b7)])),[_0x2a1844,_0x352201]=await Promise[_0x31261c(0x656)]([Promise['all'](_0x2fed06),Promise[_0x31261c(0x656)](_0x1e3e22)]);return _0x352201[_0x31261c(0x4ab)](_0x5498d0=>_0x5498d0!==null)[_0x31261c(0x6d9)](_0x27e821=>{const _0x4d7078=_0x31261c;q(this['instanceName'],_0x4d7078(0x105),{'chat':_0x27e821});}),{'message':_0x31261c(0x2b8),'read':'success'};}catch(_0x11ec78){throw console['error'](_0x31261c(0x1cc),_0x11ec78),new I('Read\x20messages\x20fail',_0x11ec78[_0x31261c(0x601)]());}}async[a0_0x1b487a(0x6e5)](_0x4ff2f7){const _0x1c2be9=a0_0x1b487a;let _0x3cd811={'where':{'key':{'remoteJid':_0x4ff2f7}},'limit':0x1},_0x329eb4=await this[_0x1c2be9(0x19d)](_0x3cd811);return _0x329eb4||(console['error'](_0x1c2be9(0x602),_0x4ff2f7),null);}async[a0_0x1b487a(0x98)](_0x54b04c){const _0xfdda52=a0_0x1b487a;this[_0xfdda52(0x213)]['verbose'](_0xfdda52(0x5b0));try{let _0x465d30=_0x54b04c['lastMessage'],_0x575bed=_0x54b04c[_0xfdda52(0x23d)];if(!_0x465d30&&_0x575bed?_0x465d30=await this['getLastMessage'](_0x575bed):(_0x465d30=_0x54b04c[_0xfdda52(0x3bf)],_0x465d30['messageTimestamp']=_0x465d30?.['messageTimestamp']??Date[_0xfdda52(0x6f)](),_0x575bed=_0x465d30?.[_0xfdda52(0xff)]?.['remoteJid']),!_0x465d30||Object[_0xfdda52(0x2a5)](_0x465d30)['length']===0x0)throw new k(_0xfdda52(0x486));this['logger']['verbose']('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x575bed);try{await this[_0xfdda52(0x367)][_0xfdda52(0x15d)]({'archive':_0x54b04c['archive'],'lastMessages':[_0x465d30]},this[_0xfdda52(0x330)](_0x575bed));}catch(_0x566552){this[_0xfdda52(0x213)][_0xfdda52(0x519)](_0xfdda52(0x6aa)+_0x575bed+':\x20'+_0x566552[_0xfdda52(0x601)]());}this[_0xfdda52(0x213)]['verbose'](_0xfdda52(0x470)+_0x575bed);let _0x55985b=await this[_0xfdda52(0x4d8)][_0xfdda52(0x23d)]['updateOne']({'where':{'_id':_0x465d30?.[_0xfdda52(0xff)]?.[_0xfdda52(0x38f)]}},{'archived':_0x54b04c[_0xfdda52(0x507)]},this[_0xfdda52(0x6e3)][_0xfdda52(0x3b7)]);return _0x55985b?(this[_0xfdda52(0x213)][_0xfdda52(0x49b)](_0xfdda52(0x443)+JSON['stringify'](_0x55985b)),q(this[_0xfdda52(0x39e)],_0xfdda52(0x105),{'chat':_0x55985b})):this[_0xfdda52(0x213)]['error'](_0xfdda52(0xfd)+_0x575bed),{'chatId':_0x575bed,'archived':_0x54b04c['archive']};}catch(_0x3a475c){throw this['logger'][_0xfdda52(0x519)](_0xfdda52(0x6ea)+_0x3a475c[_0xfdda52(0x601)]()),new I({'archived':!0x1,'message':[_0xfdda52(0x1a3),_0x3a475c['toString']()]});}}async[a0_0x1b487a(0x38c)](_0x365f52){const _0x5a9a7a=a0_0x1b487a;try{let _0x1a7859=await this['client'][_0x5a9a7a(0x41e)](_0x365f52[_0x5a9a7a(0x38f)],{'delete':_0x365f52});try{let _0x546f5e=await this['updateMessage'](_0x365f52,{'status':_0x5a9a7a(0x13d),'owner':this['instance'][_0x5a9a7a(0x3b7)]});this[_0x5a9a7a(0x213)][_0x5a9a7a(0x49b)](this['instanceName']+'\x20('+this[_0x5a9a7a(0x6e3)][_0x5a9a7a(0x3b7)]+_0x5a9a7a(0x400)+_0x546f5e);}catch(_0x124905){console[_0x5a9a7a(0x519)](_0x5a9a7a(0x6c4),_0x124905);}return _0x1a7859;}catch(_0x5c841d){throw new I(_0x5a9a7a(0x389),_0x5c841d?.['toString']());}}async[a0_0x1b487a(0x6bf)](_0x53fd4f){const _0x2b5a29=a0_0x1b487a;try{let _0x122790=_0x53fd4f?.[_0x2b5a29(0x531)]?_0x53fd4f:await this['getMessage'](_0x53fd4f[_0x2b5a29(0xff)],!0x0);for(let _0x15d523 of ma)_0x122790[_0x2b5a29(0x531)][_0x15d523]&&(_0x122790['message']=_0x122790[_0x2b5a29(0x531)][_0x15d523][_0x2b5a29(0x531)]);let _0x2915ee,_0x4378b9;for(let _0x200608 of ga)if(_0x2915ee=_0x122790[_0x2b5a29(0x531)][_0x200608],_0x2915ee){_0x4378b9=_0x200608;break;}if(!_0x2915ee)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x2915ee[_0x2b5a29(0x111)]==_0x2b5a29(0x3e2)&&(_0x122790['message']=JSON['parse'](JSON[_0x2b5a29(0x11e)](_0x122790['message'])));let _0x3b3a11=await(0x0,g[_0x2b5a29(0x1f0)])({'key':_0x122790?.[_0x2b5a29(0xff)],'message':_0x122790?.[_0x2b5a29(0x531)]},_0x2b5a29(0x399),{},{'logger':(0x0,It['default'])({'level':_0x2b5a29(0x48f)}),'reuploadRequest':this[_0x2b5a29(0x367)][_0x2b5a29(0x60c)]});if(!(_0x3b3a11 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x393c21=this[_0x2b5a29(0x362)]['get'](_0x2b5a29(0x4a5)),_0x3e7f44,_0x15f9a5;if(_0x2915ee[_0x2b5a29(0x3ec)])_0x3e7f44=_0x2915ee[_0x2b5a29(0x3ec)];else{let _0x4254bc=_0x2915ee[_0x2b5a29(0x3c9)]?.[_0x2b5a29(0x693)](/\/(\w+)/),_0x24f695=_0x4254bc?_0x4254bc[0x1]:null;if(!_0x24f695)throw new Error(_0x2b5a29(0x266));_0x3e7f44=(0x0,Me['v4'])()+'.'+_0x24f695;}_0x4378b9===_0x2b5a29(0x335)&&_0x2915ee[_0x2b5a29(0x3c9)]==='audio/ogg'?(_0x3e7f44=(0x0,Me['v4'])()+'.ogg',_0x15f9a5=_0x2b5a29(0xa3)+await this[_0x2b5a29(0x43e)](_0x3b3a11[_0x2b5a29(0x601)]('base64'))):(await this[_0x2b5a29(0x22c)](_0x3b3a11,_0x3e7f44),_0x15f9a5='/media/'+_0x3e7f44);let _0x17e7a2=this[_0x2b5a29(0x362)]['get'](_0x2b5a29(0x1e9))[_0x2b5a29(0x17f)];if(!_0x17e7a2){let _0x4b2f9f=this['configService'][_0x2b5a29(0x348)](_0x2b5a29(0x379));_0x17e7a2='https://'+(_0x4b2f9f&&_0x4b2f9f['FULLCHAIN'][_0x2b5a29(0x4b1)]('/')[0x4]);}_0x15f9a5=''+_0x17e7a2+_0x15f9a5;let _0xbd9d0c=0xc*0x3c*0x3c*0x3e8,_0x1fe478={'where':{'_id':_0x122790[_0x2b5a29(0xff)]['id']}},_0x4211b4={'message_normalized.fileUrl':_0x15f9a5,'message_normalized.expires_fileUrl':Date['now']()+_0xbd9d0c};try{let _0x576b49=await this[_0x2b5a29(0x4d8)][_0x2b5a29(0x531)][_0x2b5a29(0x4f5)](_0x1fe478,_0x4211b4,this[_0x2b5a29(0x6e3)][_0x2b5a29(0x3b7)]);_0x576b49&&q(this['instanceName'],_0x2b5a29(0x215),{'message':_0x576b49});}catch(_0x5873c1){this['logger'][_0x2b5a29(0x519)](this[_0x2b5a29(0x39e)]+'\x20('+this['instance']['wuid']+_0x2b5a29(0x6b6)+(_0x5873c1 instanceof Error?_0x5873c1[_0x2b5a29(0x531)]:JSON[_0x2b5a29(0x11e)](_0x5873c1,null,0x2)));}return{'mediaType':_0x4378b9,'fileName':_0x2915ee[_0x2b5a29(0x3ec)],'caption':_0x2915ee[_0x2b5a29(0x5c2)],'size':{'fileLength':_0x2915ee['fileLength'],'height':_0x2915ee[_0x2b5a29(0x695)],'width':_0x2915ee[_0x2b5a29(0xe6)]},'mimetype':_0x2915ee[_0x2b5a29(0x3c9)],'base64':_0x3b3a11[_0x2b5a29(0x601)]('base64'),'fileUrl':_0x15f9a5,'expires_fileUrl':Date[_0x2b5a29(0x6f)]()+_0xbd9d0c};}catch(_0x32f9f9){throw this[_0x2b5a29(0x213)][_0x2b5a29(0x519)](this['instanceName']+'\x20('+this[_0x2b5a29(0x6e3)]['wuid']+_0x2b5a29(0x6b6)+(_0x32f9f9 instanceof Error?_0x32f9f9['message']:JSON[_0x2b5a29(0x11e)](_0x32f9f9,null,0x2))),new w(_0x32f9f9[_0x2b5a29(0x601)]());}}async[a0_0x1b487a(0x22c)](_0x5f05ec,_0x2ebf54){const _0x39a021=a0_0x1b487a;let _0x1599c2=j[_0x39a021(0x66d)][_0x39a021(0xf6)](__dirname,'downloads');L['existsSync'](_0x1599c2)||L[_0x39a021(0x237)](_0x1599c2,{'recursive':!0x0});let _0x51a68a=j['default']['join'](_0x1599c2,_0x2ebf54);return new Promise((_0x5c4bfa,_0x49685b)=>{const _0xe956a=_0x39a021;L[_0xe956a(0x652)](_0x51a68a,_0x5f05ec,_0x16caed=>{const _0x5f172f=_0xe956a;_0x16caed?(this[_0x5f172f(0x213)][_0x5f172f(0x519)](_0x5f172f(0x5bb)+(_0x16caed instanceof Error?_0x16caed[_0x5f172f(0x531)]:JSON['stringify'](_0x16caed,null,0x2))),_0x49685b(_0x16caed)):(this[_0x5f172f(0x213)][_0x5f172f(0x18d)](_0x5f172f(0x299)+_0x51a68a),_0x5c4bfa(_0x51a68a));});});}async[a0_0x1b487a(0x490)](_0x2f5100){const _0x42ef19=a0_0x1b487a;return await this[_0x42ef19(0x4d8)]['contact'][_0x42ef19(0x3a8)](_0x2f5100,this[_0x42ef19(0x6e3)]['wuid']);}async['fetchLabels'](){const _0x306265=a0_0x1b487a;return await this[_0x306265(0x4d8)][_0x306265(0xa1)][_0x306265(0x3a8)]({'where':{}},this[_0x306265(0x6e3)]['wuid']);}async[a0_0x1b487a(0x19d)](_0x2639e1){const _0x8e8da1=a0_0x1b487a;return await this['repository'][_0x8e8da1(0x531)][_0x8e8da1(0x3a8)](_0x2639e1,this[_0x8e8da1(0x6e3)][_0x8e8da1(0x3b7)]);}async['fetchChats'](){const _0xc36dcd=a0_0x1b487a;return this[_0xc36dcd(0x4d8)]['chat']['updateMissingLabels'](this[_0xc36dcd(0x6e3)][_0xc36dcd(0x3b7)]),this[_0xc36dcd(0x4d8)][_0xc36dcd(0x23d)]['updateMissingEtiquetas'](this[_0xc36dcd(0x6e3)][_0xc36dcd(0x3b7)]),this[_0xc36dcd(0x4d8)][_0xc36dcd(0x23d)]['updateMissingTags'](this['instance']['wuid']),this[_0xc36dcd(0x4d8)]['chat'][_0xc36dcd(0x11b)](this[_0xc36dcd(0x6e3)][_0xc36dcd(0x3b7)]),await this[_0xc36dcd(0x4d8)]['chat']['find']({'where':{}},this['instance'][_0xc36dcd(0x3b7)]);}async[a0_0x1b487a(0x4e6)](_0x50a8bf){const _0x3bcad8=a0_0x1b487a;try{if(!Array[_0x3bcad8(0x1f2)](_0x50a8bf)||_0x50a8bf[_0x3bcad8(0x573)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x4982be=[],_0x5ad40e=[];for(let _0x5519b0 of _0x50a8bf){if(_0x5519b0[_0x3bcad8(0x127)])_0x5519b0['_id']=this['createJid'](_0x5519b0['_id']);else continue;await this[_0x3bcad8(0x4d8)][_0x3bcad8(0x23d)]['findOne']({'where':{'_id':_0x5519b0['_id']}},this[_0x3bcad8(0x6e3)][_0x3bcad8(0x3b7)])?_0x5ad40e[_0x3bcad8(0xd3)]({'_id':_0x5519b0[_0x3bcad8(0x127)],'leadInfo':_0x5519b0[_0x3bcad8(0x1ce)],'owner':this['instance']['wuid']}):_0x4982be['push']({'_id':_0x5519b0['_id'],'owner':this[_0x3bcad8(0x6e3)][_0x3bcad8(0x3b7)],'leadInfo':_0x5519b0[_0x3bcad8(0x1ce)],'imported':!0x0});}return _0x5ad40e[_0x3bcad8(0x573)]>0x0&&await this[_0x3bcad8(0x4d8)]['chat'][_0x3bcad8(0x5a4)](_0x5ad40e[_0x3bcad8(0x381)](_0x54bc34=>({'query':{'where':{'_id':_0x54bc34['_id'],'owner':this[_0x3bcad8(0x6e3)]['wuid']}},'update':_0x54bc34}))),_0x4982be[_0x3bcad8(0x573)]>0x0&&await this[_0x3bcad8(0x4d8)][_0x3bcad8(0x23d)][_0x3bcad8(0x68f)](_0x4982be,this[_0x3bcad8(0x6e3)]['wuid']),{'updated':_0x5ad40e['length'],'inserted':_0x4982be['length']};}catch(_0xb6092a){throw console['error'](_0x3bcad8(0xd4),_0xb6092a),_0xb6092a;}}async['importChats'](_0x2eaeb4){const _0x281992=a0_0x1b487a;try{if(!Array['isArray'](_0x2eaeb4)||_0x2eaeb4['length']===0x0)throw new Error(_0x281992(0x243));let _0x14f20b=0x64,_0xb97528=0x0;for(let _0x2e1c00=0x0;_0x2e1c00<_0x2eaeb4['length'];_0x2e1c00+=_0x14f20b){let _0x517167=_0x2eaeb4[_0x281992(0x240)](_0x2e1c00,_0x2e1c00+_0x14f20b),{updated:_0x303a08}=await this[_0x281992(0x47c)](_0x517167);_0xb97528+=_0x303a08;}return{'updated':_0xb97528};}catch(_0x4cda55){throw console[_0x281992(0x519)](_0x281992(0xd4),_0x4cda55),_0x4cda55;}}async[a0_0x1b487a(0x47c)](_0x286605){const _0x3524de=a0_0x1b487a;try{let _0x46a913=await this[_0x3524de(0x4d8)][_0x3524de(0xa1)][_0x3524de(0x3a8)]({'where':{}},this[_0x3524de(0x6e3)][_0x3524de(0x3b7)]),_0x4b0ea1=new Set(_0x46a913[_0x3524de(0x381)](_0x45ee97=>_0x45ee97[_0x3524de(0x127)])),_0x621da0=[],_0x48fd20=[];for(let _0x2a4b0d of _0x286605){if(!_0x2a4b0d[_0x3524de(0x127)])continue;_0x2a4b0d[_0x3524de(0x127)]=this[_0x3524de(0x330)](_0x2a4b0d[_0x3524de(0x127)]);let _0x4736a9=await this[_0x3524de(0x4d8)][_0x3524de(0x23d)]['findOne']({'where':{'_id':_0x2a4b0d[_0x3524de(0x127)]}},this['instance'][_0x3524de(0x3b7)]),_0x1d58c9={};if(Object[_0x3524de(0x636)](_0x2a4b0d[_0x3524de(0x1ce)])['forEach'](([_0x27dd06,_0x45c239])=>{const _0x1f55db=_0x3524de;_0x1d58c9[_0x1f55db(0x1c7)+_0x27dd06]=_0x45c239;}),_0x4736a9&&!_0x4736a9[_0x3524de(0x5c9)]){let _0x172159=(_0x2a4b0d[_0x3524de(0x1ce)][_0x3524de(0x532)]||[])['filter'](_0xd7f565=>_0x4b0ea1[_0x3524de(0x2c1)](_0xd7f565)),_0x1a2308=new Set(_0x4736a9['leadInfo']['etiquetas']||[]),_0x1abefe=_0x172159['filter'](_0x457731=>!_0x1a2308[_0x3524de(0x2c1)](_0x457731)),_0x2f4ce4=[..._0x1a2308][_0x3524de(0x4ab)](_0x2e6e07=>!_0x172159[_0x3524de(0x56d)](_0x2e6e07));_0x48fd20[_0x3524de(0xd3)](..._0x1abefe[_0x3524de(0x381)](_0x46beb7=>this[_0x3524de(0x49f)](_0x46beb7,_0x2a4b0d[_0x3524de(0x127)]))),_0x48fd20[_0x3524de(0xd3)](..._0x2f4ce4['map'](_0x230650=>this['RemoveChatLabel'](_0x230650,_0x2a4b0d[_0x3524de(0x127)]))),_0x2a4b0d[_0x3524de(0x1ce)][_0x3524de(0x532)]=_0x172159,_0x621da0[_0x3524de(0xd3)]({'query':{'where':{'_id':_0x2a4b0d[_0x3524de(0x127)],'owner':this[_0x3524de(0x6e3)][_0x3524de(0x3b7)]}},'update':_0x1d58c9});}else _0x1d58c9[_0x3524de(0x5c9)]=!0x0,_0x621da0['push']({'query':{'where':{'_id':_0x2a4b0d[_0x3524de(0x127)],'owner':this[_0x3524de(0x6e3)]['wuid']}},'update':_0x1d58c9});}let _0x294c54=await this[_0x3524de(0x4d8)][_0x3524de(0x23d)][_0x3524de(0x5a4)](_0x621da0);return await Promise['all'](_0x48fd20),{'updated':_0x294c54};}catch(_0x1ac459){throw console[_0x3524de(0x519)](_0x3524de(0xd4),_0x1ac459),_0x1ac459;}}async[a0_0x1b487a(0x4d7)](){return await this['client']['fetchPrivacySettings']();}async[a0_0x1b487a(0xb3)](_0x17267f){const _0x1d30f0=a0_0x1b487a;try{return await this[_0x1d30f0(0x367)][_0x1d30f0(0x618)](_0x17267f[_0x1d30f0(0x1b0)][_0x1d30f0(0x509)]),await this[_0x1d30f0(0x367)][_0x1d30f0(0xd6)](_0x17267f['privacySettings'][_0x1d30f0(0x29b)]),await this[_0x1d30f0(0x367)][_0x1d30f0(0xaf)](_0x17267f['privacySettings']['status']),await this[_0x1d30f0(0x367)][_0x1d30f0(0x185)](_0x17267f['privacySettings'][_0x1d30f0(0x51e)]),await this['client'][_0x1d30f0(0x613)](_0x17267f[_0x1d30f0(0x1b0)][_0x1d30f0(0x24b)]),await this['client'][_0x1d30f0(0x23b)](_0x17267f[_0x1d30f0(0x1b0)][_0x1d30f0(0x235)]),this['client']?.['ws']?.[_0x1d30f0(0x5db)](),{'update':'success','data':{'readreceipts':_0x17267f[_0x1d30f0(0x1b0)][_0x1d30f0(0x509)],'profile':_0x17267f[_0x1d30f0(0x1b0)][_0x1d30f0(0x29b)],'status':_0x17267f['privacySettings']['status'],'online':_0x17267f[_0x1d30f0(0x1b0)][_0x1d30f0(0x51e)],'last':_0x17267f[_0x1d30f0(0x1b0)]['last'],'groupadd':_0x17267f[_0x1d30f0(0x1b0)]['groupadd']}};}catch(_0xe20fdb){throw new I('Error\x20updating\x20privacy\x20settings',_0xe20fdb[_0x1d30f0(0x601)]());}}async[a0_0x1b487a(0x254)](_0x44eb84){const _0x41f420=a0_0x1b487a;let _0x5d8496=_0x44eb84?this[_0x41f420(0x330)](_0x44eb84):this[_0x41f420(0x367)]?.[_0x41f420(0x31b)]?.['id'];this[_0x41f420(0x213)]['verbose'](_0x41f420(0x388)+_0x5d8496);try{if(this[_0x41f420(0x213)][_0x41f420(0x49b)](_0x41f420(0x5fc)),_0x44eb84){let _0x38ad88=(await this[_0x41f420(0x212)]({'numbers':[_0x5d8496]}))?.[_0x41f420(0x52c)](),_0x3e6758=await this[_0x41f420(0xd2)](_0x38ad88?.[_0x41f420(0x37f)]),_0x2751a5=await this[_0x41f420(0x10d)](_0x38ad88?.[_0x41f420(0x37f)]),_0x47f90b=await this[_0x41f420(0x2ac)](_0x38ad88?.[_0x41f420(0x37f)]);return{'wuid':_0x38ad88?.[_0x41f420(0x37f)]||_0x5d8496,'name':_0x38ad88?.[_0x41f420(0x69e)],'numberExists':_0x38ad88?.[_0x41f420(0x1be)],'picture':_0x3e6758?.[_0x41f420(0x4af)],'status':_0x2751a5?.[_0x41f420(0x14f)],'isBusiness':_0x47f90b[_0x41f420(0x72)],'email':_0x47f90b?.[_0x41f420(0x4d2)],'description':_0x47f90b?.[_0x41f420(0x339)],'website':_0x47f90b?.[_0x41f420(0x557)]?.['shift']()};}}catch{return this['logger'][_0x41f420(0x49b)](_0x41f420(0x32c)),{'wuid':_0x5d8496,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x4ade23){const _0x53c222=a0_0x1b487a;let _0x413d0b=(_0x4ade23?this[_0x53c222(0x330)](_0x4ade23):this[_0x53c222(0x367)]?.[_0x53c222(0x31b)]?.['id'])[_0x53c222(0x168)](/:\d{1,2}@/g,'@');this[_0x53c222(0x213)][_0x53c222(0x49b)](_0x53c222(0x4f9)+_0x413d0b);let _0x32feee=await this[_0x53c222(0x4d8)][_0x53c222(0x1ed)][_0x53c222(0x547)]({'where':{'_id':_0x413d0b}},this[_0x53c222(0x6e3)]['wuid']),_0x357900=_0x32feee?_0x32feee['pushName']:null;try{let _0x45e1dd=(await this[_0x53c222(0x212)]({'numbers':[_0x413d0b]}))?.[_0x53c222(0x52c)](),_0x198bb1=await this['profilePicture'](_0x45e1dd?.[_0x53c222(0x37f)]),_0x1c5c3f=await this['getStatus'](_0x45e1dd?.[_0x53c222(0x37f)]),_0x3d8b77=await this[_0x53c222(0x2ac)](_0x45e1dd?.['jid']),_0x10b158=await this['repository'][_0x53c222(0x23d)]['findOne']({'where':{'_id':_0x413d0b}},this[_0x53c222(0x6e3)][_0x53c222(0x3b7)]),_0x50a966={'imagechat':_0x198bb1?.['profilePictureUrl'],'contactname':_0x357900||null,'status':_0x1c5c3f?.[_0x53c222(0x14f)],'isBusiness':_0x3d8b77[_0x53c222(0x72)],'email':_0x3d8b77?.[_0x53c222(0x4d2)],'description':_0x3d8b77?.['description'],'website':_0x3d8b77?.['website']?.[_0x53c222(0x52c)](),'lastcache':Date['now'](),'imported':!_0x10b158},_0x2770fe=await this[_0x53c222(0x4d8)]['chat'][_0x53c222(0x4bf)]({'where':{'_id':_0x413d0b}},_0x50a966,this[_0x53c222(0x6e3)][_0x53c222(0x3b7)]),_0x4e9b0c={'owner':this['instance'][_0x53c222(0x3b7)],'_id':_0x413d0b,'profilePictureUrl':_0x198bb1?.[_0x53c222(0x4af)],'status':_0x1c5c3f?.[_0x53c222(0x14f)]};return this['repository'][_0x53c222(0x1ed)][_0x53c222(0x4f5)]([_0x4e9b0c],this[_0x53c222(0x6e3)]['wuid']),_0x2770fe&&q(this['instanceName'],_0x53c222(0x105),{'chat':_0x2770fe}),{'wuid':_0x45e1dd?.['jid']||_0x413d0b,'name':_0x45e1dd?.[_0x53c222(0x69e)],'numberExists':_0x45e1dd?.[_0x53c222(0x1be)],'picture':_0x198bb1?.['profilePictureUrl'],'status':_0x1c5c3f?.[_0x53c222(0x14f)],'isBusiness':_0x3d8b77['isBusiness'],'email':_0x3d8b77?.[_0x53c222(0x4d2)],'description':_0x3d8b77?.['description'],'website':_0x3d8b77?.[_0x53c222(0x557)]?.[_0x53c222(0x52c)]()};}catch(_0x1ee5b8){return this[_0x53c222(0x213)][_0x53c222(0x519)](_0x53c222(0x17e)+(_0x1ee5b8 instanceof Error?_0x1ee5b8[_0x53c222(0x531)]:JSON['stringify'](_0x1ee5b8,null,0x2))),{};}}async[a0_0x1b487a(0x2ac)](_0x2ac032){const _0x1e2e63=a0_0x1b487a;this['logger']['verbose'](_0x1e2e63(0x6a6));try{let _0x5ddcc4=_0x2ac032?this[_0x1e2e63(0x330)](_0x2ac032):this[_0x1e2e63(0x6e3)][_0x1e2e63(0x3b7)],_0x12b578=await this[_0x1e2e63(0x367)]['getBusinessProfile'](_0x5ddcc4);return this[_0x1e2e63(0x213)][_0x1e2e63(0x49b)](_0x1e2e63(0x518)),_0x12b578?(this[_0x1e2e63(0x213)][_0x1e2e63(0x49b)](_0x1e2e63(0x1c2)),{'isBusiness':!0x0,..._0x12b578}):{'isBusiness':!0x1,'message':_0x1e2e63(0x228),...(await this['whatsappNumber']({'numbers':[_0x5ddcc4]}))?.[_0x1e2e63(0x52c)]()};}catch(_0xae9f0e){throw new I(_0x1e2e63(0x610),_0xae9f0e[_0x1e2e63(0x601)]());}}async[a0_0x1b487a(0x10d)](_0xd8e7e5){const _0x3b5d01=a0_0x1b487a;let _0x5edf18=this[_0x3b5d01(0x330)](_0xd8e7e5);try{return{'wuid':_0x5edf18,'status':(await this[_0x3b5d01(0x367)]['fetchStatus'](_0x5edf18))?.[_0x3b5d01(0x14f)]};}catch{return{'wuid':_0x5edf18,'status':null};}}async['updateProfileName'](_0x4b7284){const _0x302ddb=a0_0x1b487a;try{return await this[_0x302ddb(0x367)][_0x302ddb(0x32f)](_0x4b7284),{'update':'success'};}catch(_0x389788){throw new I(_0x302ddb(0x610),_0x389788['toString']());}}async['updateProfileStatus'](_0x4c03ac){const _0x1d1d57=a0_0x1b487a;try{return await this[_0x1d1d57(0x367)][_0x1d1d57(0x26d)](_0x4c03ac),{'update':'success'};}catch(_0x3e9371){throw new I(_0x1d1d57(0x10e),_0x3e9371[_0x1d1d57(0x601)]());}}async['updateProfilePicture'](_0x4e8f9f){const _0x12e9c1=a0_0x1b487a;try{let _0x13cf1c;if((0x0,$[_0x12e9c1(0x326)])(_0x4e8f9f)){let _0x579b0a=new Date()[_0x12e9c1(0x46b)](),_0x5c1a12=_0x4e8f9f+'?timestamp='+_0x579b0a;_0x13cf1c=(await se[_0x12e9c1(0x66d)][_0x12e9c1(0x348)](_0x5c1a12,{'responseType':_0x12e9c1(0x7d)}))[_0x12e9c1(0x3da)];}else{if((0x0,$[_0x12e9c1(0x664)])(_0x4e8f9f))_0x13cf1c=Buffer[_0x12e9c1(0x530)](_0x4e8f9f,_0x12e9c1(0x32e));else throw new w(_0x12e9c1(0x6a4));}return await this['client'][_0x12e9c1(0x63f)](this[_0x12e9c1(0x6e3)]['wuid'],_0x13cf1c),{'update':_0x12e9c1(0x66b)};}catch(_0x49cb3b){throw new I(_0x12e9c1(0x181),_0x49cb3b['toString']());}}async[a0_0x1b487a(0x119)](){const _0x1f8626=a0_0x1b487a;try{return await this[_0x1f8626(0x367)][_0x1f8626(0x119)](this[_0x1f8626(0x6e3)][_0x1f8626(0x3b7)]),{'update':_0x1f8626(0x66b)};}catch(_0x19d55e){throw new I('Error\x20removing\x20profile\x20picture',_0x19d55e[_0x1f8626(0x601)]());}}async[a0_0x1b487a(0x6cc)](_0x5dc74c){const _0x53de72=a0_0x1b487a;try{let _0x44cbd8=_0x5dc74c['participants'][_0x53de72(0x381)](_0x52dba2=>this['createJid'](_0x52dba2)),{id:_0x456047}=await this[_0x53de72(0x367)][_0x53de72(0x242)](_0x5dc74c['subject'],_0x44cbd8);return _0x5dc74c?.[_0x53de72(0x339)]&&await this[_0x53de72(0x367)][_0x53de72(0x5f8)](_0x456047,_0x5dc74c['description']),{'metadata':await this['client'][_0x53de72(0x2d5)](_0x456047)};}catch(_0x1cf267){throw this[_0x53de72(0x213)][_0x53de72(0x519)](this[_0x53de72(0x39e)]+'\x20('+this['instance'][_0x53de72(0x3b7)]+'):\x20'+(_0x1cf267 instanceof Error?_0x1cf267[_0x53de72(0x531)]:JSON[_0x53de72(0x11e)](_0x1cf267,null,0x2))),new I(_0x53de72(0x5ee),_0x1cf267[_0x53de72(0x601)]());}}async[a0_0x1b487a(0x264)](_0x242f12){const _0x29b55c=a0_0x1b487a;try{let _0x29e939;if((0x0,$[_0x29b55c(0x326)])(_0x242f12['image'])){let _0xcc8b78=new Date()['getTime'](),_0x5e649a=_0x242f12[_0x29b55c(0x147)]+_0x29b55c(0x42b)+_0xcc8b78;_0x29e939=(await se['default'][_0x29b55c(0x348)](_0x5e649a,{'responseType':_0x29b55c(0x7d)}))[_0x29b55c(0x3da)];}else{if((0x0,$[_0x29b55c(0x664)])(_0x242f12[_0x29b55c(0x147)]))_0x29e939=Buffer['from'](_0x242f12[_0x29b55c(0x147)],_0x29b55c(0x32e));else throw new w(_0x29b55c(0x6a4));}return await this[_0x29b55c(0x367)][_0x29b55c(0x63f)](_0x242f12[_0x29b55c(0x44c)],_0x29e939),{'update':'success'};}catch(_0x2017a9){throw new I(_0x29b55c(0x203),_0x2017a9[_0x29b55c(0x601)]());}}async[a0_0x1b487a(0x56e)](_0x5c7423,_0xeaf174=a0_0x1b487a(0x201)){const _0x243c4a=a0_0x1b487a;try{let _0x14f3fd=await this[_0x243c4a(0x367)][_0x243c4a(0x2d5)](_0x5c7423[_0x243c4a(0x44c)]),_0x186a6f=null;try{_0x186a6f=(await this[_0x243c4a(0xd2)](_0x5c7423[_0x243c4a(0x44c)]))[_0x243c4a(0x4af)];}catch(_0x32c391){this[_0x243c4a(0x213)][_0x243c4a(0x49b)](this[_0x243c4a(0x39e)]+'\x20('+this[_0x243c4a(0x6e3)][_0x243c4a(0x3b7)]+_0x243c4a(0x448)+_0x5c7423[_0x243c4a(0x44c)]+':\x20'+(_0x32c391 instanceof Error?_0x32c391[_0x243c4a(0x531)]:JSON['stringify'](_0x32c391,null,0x2)));}let _0xfeb39a=await this[_0x243c4a(0x4d8)]['chat'][_0x243c4a(0x4bf)]({'where':{'_id':_0x5c7423['groupJid']}},{'imagechat':_0x186a6f,'name':_0x14f3fd[_0x243c4a(0x5b5)],'group_size':_0x14f3fd['size'],'group_announce':_0x14f3fd['announce'],'lastcache':Date[_0x243c4a(0x6f)]()},this[_0x243c4a(0x6e3)]['wuid']);return _0xfeb39a&&q(this[_0x243c4a(0x39e)],_0x243c4a(0x105),{'chat':_0xfeb39a}),{'metadata':_0x14f3fd,'image':_0x186a6f};}catch(_0x3039cc){if(_0xeaf174==='inner')return;throw new k(_0x243c4a(0x4fd),_0x3039cc['toString']());}}async[a0_0x1b487a(0x4f0)](_0x11438c){const _0x3e86c0=a0_0x1b487a;try{return await this['client']['groupUpdateDescription'](_0x11438c['groupJid'],_0x11438c['description']),{'update':'success'};}catch(_0x5e0f35){throw new I(_0x3e86c0(0x49e),_0x5e0f35[_0x3e86c0(0x601)]());}}async[a0_0x1b487a(0x511)](_0x357f0e){const _0x4ab0fa=a0_0x1b487a;try{return await this['client']['groupUpdateSubject'](_0x357f0e[_0x4ab0fa(0x44c)],_0x357f0e[_0x4ab0fa(0x69e)]),{'update':_0x4ab0fa(0x66b)};}catch(_0x862106){throw new I(_0x4ab0fa(0xed),_0x862106[_0x4ab0fa(0x601)]());}}async[a0_0x1b487a(0x4ff)](_0x2d5552){const _0x103dd0=a0_0x1b487a;try{return await this[_0x103dd0(0x367)][_0x103dd0(0x5b1)](_0x2d5552['groupJid'],_0x2d5552[_0x103dd0(0x5b8)]),{'update':_0x103dd0(0x66b)};}catch(_0x1d1bb4){throw new I(_0x103dd0(0x386),_0x1d1bb4[_0x103dd0(0x601)]());}}async[a0_0x1b487a(0x6de)](){const _0x16f9ad=a0_0x1b487a;try{let _0x3fdf39=[],_0x132139=await this['client'][_0x16f9ad(0x5b7)](),_0xe3029c=Object[_0x16f9ad(0x4cf)](_0x132139),_0x121741=_0xe3029c[_0x16f9ad(0x4ab)](_0xc5c089=>(0x0,g[_0x16f9ad(0x5a7)])(_0xc5c089?.['id']))[_0x16f9ad(0x381)](async _0x48245c=>{const _0x5edf1c=_0x16f9ad;try{return await this['client'][_0x5edf1c(0x4af)](_0x48245c['id'],_0x5edf1c(0x2e4));}catch(_0x838325){return this[_0x5edf1c(0x213)][_0x5edf1c(0x49b)](this[_0x5edf1c(0x39e)]+'\x20('+this[_0x5edf1c(0x6e3)][_0x5edf1c(0x3b7)]+_0x5edf1c(0x448)+_0x48245c['id']+':\x20'+(_0x838325 instanceof Error?_0x838325['message']:JSON[_0x5edf1c(0x11e)](_0x838325,null,0x2))),null;}}),_0x19c498=await Promise['all'](_0x121741);for(let _0x629058=0x0;_0x629058<_0xe3029c['length'];_0x629058++){let _0x42745e=_0xe3029c[_0x629058];(0x0,g[_0x16f9ad(0x5a7)])(_0x42745e?.['id'])&&_0x3fdf39[_0x16f9ad(0xd3)]({'groupJid':_0x42745e?.['id'],'subject':_0x42745e?.[_0x16f9ad(0x5b5)],'subjectOwner':_0x42745e?.['subjectOwner']?.[_0x16f9ad(0x4b1)]('@')[0x0],'subjectTime':_0x42745e?.['subjectTime'],'size':_0x42745e?.[_0x16f9ad(0x129)]?.[_0x16f9ad(0x573)],'owner':_0x42745e?.[_0x16f9ad(0x648)]?.[_0x16f9ad(0x4b1)]('@')[0x0],'creation':_0x42745e?.[_0x16f9ad(0x15f)],'desc':_0x42745e?.[_0x16f9ad(0x43b)],'restrict':_0x42745e?.['restrict'],'announce':_0x42745e?.['announce'],'image':_0x19c498[_0x629058]});}return _0x3fdf39;}catch(_0x5d9fa9){throw new k('Error\x20fetching\x20group',_0x5d9fa9[_0x16f9ad(0x601)]());}}async[a0_0x1b487a(0x6da)](_0xb47d9){const _0xd7fc97=a0_0x1b487a;try{let _0x211203=await this[_0xd7fc97(0x367)][_0xd7fc97(0x1b9)](_0xb47d9[_0xd7fc97(0x44c)]);return{'inviteUrl':_0xd7fc97(0x5b3)+_0x211203,'inviteCode':_0x211203};}catch(_0x5388de){throw new k(_0xd7fc97(0x3be),_0x5388de[_0xd7fc97(0x601)]());}}async[a0_0x1b487a(0x63c)](_0x4a0275){const _0x236f30=a0_0x1b487a;try{let _0x48820e=await this[_0x236f30(0x367)][_0x236f30(0x5aa)](_0x4a0275[_0x236f30(0x44c)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x48820e,'inviteCode':_0x48820e};}catch(_0x371818){throw new k(_0x236f30(0x517),_0x371818['toString']());}}async[a0_0x1b487a(0x1e6)](_0x291ac5){const _0x406cfa=a0_0x1b487a;try{if((0x0,$[_0x406cfa(0x326)])(_0x291ac5[_0x406cfa(0x6da)]))var _0x5e316b=_0x291ac5[_0x406cfa(0x6da)]['split']('/')[0x3];else var _0x5e316b=_0x291ac5[_0x406cfa(0x6da)];let _0x399b1d=await this[_0x406cfa(0x367)][_0x406cfa(0xf2)](_0x5e316b);return this[_0x406cfa(0x213)]['verbose'](this['instanceName']+'\x20('+this[_0x406cfa(0x6e3)]['wuid']+_0x406cfa(0x6b6)+_0x399b1d),{'join':!0x0,'inviteCode':_0x5e316b,'groupJid':_0x399b1d};}catch(_0x486c30){throw new k(_0x406cfa(0x18c),_0x486c30[_0x406cfa(0x601)]());}}async[a0_0x1b487a(0x305)](_0x1dc5b1){const _0x17f429=a0_0x1b487a;try{return{'participants':(await this['client'][_0x17f429(0x2d5)](_0x1dc5b1[_0x17f429(0x44c)]))[_0x17f429(0x129)]};}catch(_0x573c6d){throw new k(_0x17f429(0x560),_0x573c6d['toString']());}}async[a0_0x1b487a(0x6df)](_0x3d3890){const _0x2b2fed=a0_0x1b487a;try{let _0x57c25f=_0x3d3890[_0x2b2fed(0x129)][_0x2b2fed(0x381)](_0x22d45c=>this[_0x2b2fed(0x330)](_0x22d45c));return{'updateParticipants':await this[_0x2b2fed(0x367)][_0x2b2fed(0xaa)](_0x3d3890[_0x2b2fed(0x44c)],_0x57c25f,_0x3d3890[_0x2b2fed(0x3c3)])};}catch(_0x21416b){throw new w(_0x2b2fed(0xf5),_0x21416b[_0x2b2fed(0x601)]());}}async['toggleEphemeral'](_0xdfeae5){const _0xbfac55=a0_0x1b487a;try{let _0x3a75c3=await this[_0xbfac55(0x367)]['groupToggleEphemeral'](_0xdfeae5[_0xbfac55(0x44c)],_0xdfeae5[_0xbfac55(0x195)]);return{'success':!0x0};}catch(_0x57862d){throw new w(_0xbfac55(0x6ed),_0x57862d[_0xbfac55(0x601)]());}}async[a0_0x1b487a(0x272)](_0x1ee838){const _0x972462=a0_0x1b487a;try{return await this['client']['groupLeave'](_0x1ee838['groupJid']),{'groupJid':_0x1ee838[_0x972462(0x44c)],'leave':!0x0};}catch(_0x519aef){throw new w(_0x972462(0x3f1),_0x519aef['toString']());}}async[a0_0x1b487a(0x5cd)](_0x2696ab){const _0xbdd825=a0_0x1b487a;return await this[_0xbdd825(0x2a1)](_0x2696ab[_0xbdd825(0x5f5)],{'poll':{'name':_0x2696ab[_0xbdd825(0x5cd)]?.[_0xbdd825(0x69e)],'selectableCount':_0x2696ab[_0xbdd825(0x5cd)][_0xbdd825(0xf1)],'values':_0x2696ab['pollMessage'][_0xbdd825(0x4cf)]}},_0x2696ab?.[_0xbdd825(0x3e0)]);}async[a0_0x1b487a(0x321)](_0x47472d){const _0x235297=a0_0x1b487a;return await this[_0x235297(0x2a1)](_0x47472d[_0x235297(0x5f5)],{'listMessage':{'title':_0x47472d[_0x235297(0x321)][_0x235297(0x43d)],'description':_0x47472d[_0x235297(0x321)][_0x235297(0x339)],'buttonText':_0x47472d[_0x235297(0x321)]?.[_0x235297(0x2a3)],'footerText':_0x47472d['listMessage']?.['footerText'],'sections':_0x47472d[_0x235297(0x321)][_0x235297(0x24e)],'listType':0x2}},_0x47472d?.[_0x235297(0x3e0)]);}async[a0_0x1b487a(0x25f)](_0x49e3fb){const _0x2589f4=a0_0x1b487a;let _0x299213;if(_0x49e3fb['menuMessage'][_0x2589f4(0x337)]===_0x2589f4(0x58d)){let _0x4b9940=_0x49e3fb[_0x2589f4(0x25f)]['text'][_0x2589f4(0x171)]('\x0a'),_0x23890d='',_0x595b56='';_0x4b9940!==-0x1?(_0x23890d=_0x49e3fb[_0x2589f4(0x25f)][_0x2589f4(0x2f1)][_0x2589f4(0x69f)](0x0,_0x4b9940)[_0x2589f4(0x328)](),_0x595b56=_0x49e3fb[_0x2589f4(0x25f)][_0x2589f4(0x2f1)][_0x2589f4(0x69f)](_0x4b9940+0x1)):_0x595b56=_0x49e3fb['menuMessage'][_0x2589f4(0x2f1)];let _0x38f2e6=_0x49e3fb[_0x2589f4(0x25f)]['choices'][_0x2589f4(0x4ab)](_0x4f6e6e=>_0x4f6e6e['trim']()!==''),_0x21ac18=this[_0x2589f4(0x50d)](_0x38f2e6);_0x299213={'listMessage':{'title':_0x23890d,'description':_0x595b56,'buttonText':_0x49e3fb[_0x2589f4(0x25f)]['buttonText']||_0x2589f4(0x14d),'footerText':_0x49e3fb['menuMessage'][_0x2589f4(0x4cc)],'sections':_0x21ac18,'listType':0x2}};}else{if(_0x49e3fb[_0x2589f4(0x25f)][_0x2589f4(0x337)]==='poll'){let _0x40b0b7=_0x49e3fb[_0x2589f4(0x25f)]['choices'][_0x2589f4(0x4ab)](_0x512810=>!(_0x512810['startsWith']('[')&&_0x512810[_0x2589f4(0x51b)](']'))&&_0x512810[_0x2589f4(0x328)]()!=='')['map'](_0x588fd3=>_0x588fd3[_0x2589f4(0x4b1)]('\x0a')[0x0]);_0x299213={'poll':{'name':_0x49e3fb['menuMessage'][_0x2589f4(0x2f1)],'selectableCount':_0x49e3fb[_0x2589f4(0x25f)][_0x2589f4(0xf1)]||0x1,'values':_0x40b0b7}};}}return await this[_0x2589f4(0x2a1)](_0x49e3fb[_0x2589f4(0x5f5)],_0x299213,_0x49e3fb?.[_0x2589f4(0x3e0)]);}[a0_0x1b487a(0x50d)](_0xececad){const _0x3055dc=a0_0x1b487a;let _0x4dbede=[],_0x3d26a3={'rows':[]};return _0xececad['forEach'](_0x1f8762=>{const _0xbe32c5=a0_0x32d2;if(_0x1f8762[_0xbe32c5(0x62f)]('[')&&_0x1f8762['endsWith'](']'))_0x3d26a3[_0xbe32c5(0x626)][_0xbe32c5(0x573)]>0x0&&_0x4dbede['push'](_0x3d26a3),_0x3d26a3={'title':_0x1f8762[_0xbe32c5(0x240)](0x1,-0x1),'rows':[]};else{let _0x3a85e1=_0x1f8762[_0xbe32c5(0x4b1)]('\x0a')[_0xbe32c5(0x381)](_0x2ac33c=>_0x2ac33c[_0xbe32c5(0x328)]()),_0x2491e6=_0x3a85e1[0x0],_0x20c386=_0x3a85e1[0x1]||null,_0x1c0ad6=_0x3a85e1[0x2]||_0x2491e6;_0x3d26a3['rows'][_0xbe32c5(0xd3)]({'title':_0x2491e6,'description':_0x20c386,'rowId':_0x1c0ad6});}}),_0x3d26a3[_0x3055dc(0x626)][_0x3055dc(0x573)]>0x0&&_0x4dbede['push'](_0x3d26a3),_0x4dbede;}async[a0_0x1b487a(0x61d)](_0x525d3f,_0x19676e){const _0x3e2557=a0_0x1b487a;if(await this[_0x3e2557(0x4e4)](_0x525d3f,!0x0)){let _0xc40e9={'where':{'_id':_0x525d3f['id']}},_0x2de1ef={'status':[_0x19676e[_0x3e2557(0x14f)]][0x0]};try{let _0x380bf4=await this[_0x3e2557(0x4d8)]['message'][_0x3e2557(0x4f5)](_0xc40e9,_0x2de1ef,this[_0x3e2557(0x6e3)][_0x3e2557(0x3b7)]);_0x380bf4&&q(this[_0x3e2557(0x39e)],_0x3e2557(0x215),{'message':_0x380bf4});}catch{}}}['sectionsToString'](_0x3e63be){const _0x50d2bb=a0_0x1b487a;let _0x2ebded=[];return _0x3e63be[_0x50d2bb(0x6d9)](_0x5d38f8=>{const _0x4646d8=_0x50d2bb;_0x5d38f8[_0x4646d8(0x43d)]&&_0x2ebded[_0x4646d8(0xd3)]('['+_0x5d38f8[_0x4646d8(0x43d)]+']'),_0x5d38f8['rows'][_0x4646d8(0x6d9)](_0x1e47e0=>{const _0x1de4f2=_0x4646d8;_0x2ebded[_0x1de4f2(0xd3)](_0x1e47e0[_0x1de4f2(0x43d)]);});}),_0x2ebded['join']('|');}[a0_0x1b487a(0x427)](_0x38ef4f){const _0x248723=a0_0x1b487a;let _0x1f3c1c=_0x38ef4f[_0x248723(0x168)](/\\n/g,'\x0a')[_0x248723(0x4b1)]('\x0a')['filter'](_0x1f053a=>_0x1f053a[_0x248723(0x56d)]('TEL')||_0x1f053a[_0x248723(0x56d)](_0x248723(0x234))),_0x38c9b9='';return _0x1f3c1c['forEach'](_0x475e6d=>{const _0x5ca194=_0x248723;let _0x1f8917=/TEL(?:.*):(.+)/,_0xdaae0c=/EMAIL(?:.*):(.+)/,_0x53cf8c=_0x475e6d['match'](_0x1f8917),_0x25dd91=_0x475e6d[_0x5ca194(0x693)](_0xdaae0c);if(_0x53cf8c){let _0x555394=_0x53cf8c[0x1][_0x5ca194(0x168)](/-| |\+|\(|\)/g,'')[_0x5ca194(0x328)]();_0x38c9b9+='Telefone:\x20'+_0x555394+'\x0a';}else{if(_0x25dd91){let _0x3c8884=_0x25dd91[0x1]['trim']();_0x38c9b9+=_0x5ca194(0x73)+_0x3c8884+'\x0a';}}}),_0x38c9b9['trim']();}async[a0_0x1b487a(0x6eb)](_0x4dab50,_0x2edfa0,_0x243d25){const _0x1eedc4=a0_0x1b487a;if(!_0x4dab50[_0x1eedc4(0x5ba)])return;let _0x4e254e=_0x2edfa0[_0x1eedc4(0xff)][_0x1eedc4(0x38f)][_0x1eedc4(0x168)](/:\d{1,2}@/g,'@'),_0x28f906=_0x2edfa0[_0x1eedc4(0xff)][_0x1eedc4(0x19a)],_0x43577b=_0x4e254e['endsWith']('@g.us'),_0x214f81=_0x2edfa0[_0x1eedc4(0x30e)]?.[_0x1eedc4(0x2f1)]||_0x2edfa0[_0x1eedc4(0x30e)]?.[_0x1eedc4(0x5c2)]||_0x2edfa0[_0x1eedc4(0x30e)]?.[_0x1eedc4(0x499)]||_0x2edfa0[_0x1eedc4(0x30e)]?.[_0x1eedc4(0x69e)],_0x4891f6={'lastmsg':_0x2edfa0[_0x1eedc4(0x122)]||Date[_0x1eedc4(0x6f)](),'unreadcount':_0x28f906?0x0:0x1,..._0x28f906||_0x43577b?{}:{'name':_0x2edfa0['pushName']},..._0x43577b?{'group':_0x43577b}:{}},_0xa17d9=await this['repository'][_0x1eedc4(0x23d)][_0x1eedc4(0x4bf)]({'where':{'_id':_0x4e254e}},_0x4891f6,this['instance'][_0x1eedc4(0x3b7)],{'new':!0x0,'upsert':!0x0});if(_0xa17d9['imported']){let _0x4c0368=await this[_0x1eedc4(0x4d8)]['label'][_0x1eedc4(0x3a8)]({'where':{}},this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]),_0x4b1cca=new Set(_0x4c0368[_0x1eedc4(0x381)](_0x488099=>_0x488099[_0x1eedc4(0x127)])),_0xbb212d=(_0xa17d9[_0x1eedc4(0x1ce)]?.[_0x1eedc4(0x532)]||[])[_0x1eedc4(0x4ab)](_0x14b0b6=>_0x4b1cca[_0x1eedc4(0x2c1)](_0x14b0b6)),_0x203b15={'leadInfo.etiquetas':_0xbb212d,'imported':!0x1};_0xa17d9=await this['repository'][_0x1eedc4(0x23d)]['updateOne']({'where':{'_id':_0x4e254e}},_0x203b15,this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]);for(let _0x5cb718 of _0xbb212d)await this[_0x1eedc4(0x49f)](_0x5cb718,_0x4e254e);}if(!_0x43577b&&(!_0xa17d9?.[_0x1eedc4(0x1ce)]||!_0xa17d9[_0x1eedc4(0x1ce)][_0x1eedc4(0x497)])&&_0x2edfa0[_0x1eedc4(0x327)]&&!_0x28f906&&(_0xa17d9=await this[_0x1eedc4(0x4d8)][_0x1eedc4(0x23d)][_0x1eedc4(0x4bf)]({'where':{'_id':_0x4e254e}},{'leadInfo.nome':_0x2edfa0['pushName']},this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)],{'new':!0x0,'upsert':!0x0})),_0x243d25===_0x1eedc4(0x3ee)&&_0x28f906&&this[_0x1eedc4(0x5a9)]?.['flowConfig'][_0x1eedc4(0x17a)]&&!_0x214f81[_0x1eedc4(0x62f)](this[_0x1eedc4(0x5a9)]?.[_0x1eedc4(0x454)][_0x1eedc4(0x485)])){let _0x239a89=(this[_0x1eedc4(0x5a9)]?.['flowConfig']['stopWhenYouSendMsg']||0x5)*0xea60,_0x51a1df=Date[_0x1eedc4(0x6f)]()+_0x239a89;_0xa17d9?.[_0x1eedc4(0x1ce)]?.[_0x1eedc4(0x385)]===0x0||(await this[_0x1eedc4(0x4d8)][_0x1eedc4(0x23d)]['updateOne']({'where':{'_id':_0x4e254e}},{'leadInfo.desativadoFluxoAte':_0x51a1df},this[_0x1eedc4(0x6e3)]['wuid'],{'new':!0x0,'upsert':!0x1}),this[_0x1eedc4(0x213)]['verbose'](this[_0x1eedc4(0x39e)]+'\x20('+this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]+_0x1eedc4(0x3ff)+_0x51a1df+'.'));}if(_0xa17d9)q(this['instanceName'],'chats',{'chat':_0xa17d9});else{this[_0x1eedc4(0x213)]['error'](this[_0x1eedc4(0x39e)]+'\x20('+this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x1eedc4(0x5a9)]?.[_0x1eedc4(0x454)]['enabled'])return this[_0x1eedc4(0x213)][_0x1eedc4(0x49b)](this[_0x1eedc4(0x39e)]+'\x20('+this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]+'):\x20Flow\x20desativado'),null;if(_0xa17d9[_0x1eedc4(0x127)]['includes'](_0x1eedc4(0x3f0))&&this[_0x1eedc4(0x5a9)]?.['flowConfig'][_0x1eedc4(0xdc)]===!0x0)return this[_0x1eedc4(0x213)][_0x1eedc4(0x49b)](this[_0x1eedc4(0x39e)]+'\x20('+this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]+_0x1eedc4(0x2d1)),null;if(_0xa17d9[_0x1eedc4(0x1ce)]){if(_0xa17d9[_0x1eedc4(0x1ce)][_0x1eedc4(0x385)]===0x0||_0xa17d9[_0x1eedc4(0x1ce)][_0x1eedc4(0x48e)])return this['logger'][_0x1eedc4(0x49b)](this['instanceName']+'\x20('+this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]+_0x1eedc4(0x6f2)+_0x4e254e+_0x1eedc4(0x513)),null;if(_0xa17d9[_0x1eedc4(0x1ce)]['desativadoFluxoAte']>Date[_0x1eedc4(0x6f)]()&&!_0x2edfa0['message_normalized']?.[_0x1eedc4(0x499)])return this[_0x1eedc4(0x213)][_0x1eedc4(0x49b)](this[_0x1eedc4(0x39e)]+'\x20('+this['instance'][_0x1eedc4(0x3b7)]+_0x1eedc4(0x351)+new Date(_0xa17d9[_0x1eedc4(0x1ce)]['desativadoFluxoAte'])['toLocaleString']()+_0x1eedc4(0x513)),null;}this[_0x1eedc4(0x213)][_0x1eedc4(0x49b)](this['instanceName']+'\x20('+this[_0x1eedc4(0x6e3)][_0x1eedc4(0x3b7)]+_0x1eedc4(0x6c8)),this[_0x1eedc4(0x606)](_0x243d25,_0x2edfa0);}async[a0_0x1b487a(0x220)](_0xc71352,_0x1d33f8){const _0x27d39f=a0_0x1b487a;if(_0x1d33f8['ENABLED']){let _0x388ba1=_0xc71352['map'](async _0x38496a=>{const _0x4441da=a0_0x32d2;try{let _0x373f6f={'_id':_0x38496a[_0x4441da(0x127)],'owner':_0x38496a[_0x4441da(0x648)],'lastcache':0x0};if(_0x38496a['group']!==null&&(_0x373f6f[_0x4441da(0x1fe)]=_0x38496a['group']),_0x38496a[_0x4441da(0x69e)]!==null&&(_0x373f6f['name']=_0x38496a[_0x4441da(0x69e)]),_0x38496a[_0x4441da(0x1f5)]!==null&&(_0x373f6f['contactname']=_0x38496a[_0x4441da(0x1f5)]),_0x38496a[_0x4441da(0x4f3)]!==null&&(_0x373f6f[_0x4441da(0x4f3)]=_0x38496a[_0x4441da(0x4f3)]),_0x38496a[_0x4441da(0x4f3)]===null&&(_0x373f6f['imagechat']='Imagem\x20não\x20encontrada'),_0x38496a['lastmsg']!==null&&(_0x373f6f[_0x4441da(0x2da)]=_0x38496a[_0x4441da(0x2da)]),_0x38496a[_0x4441da(0x289)]!==null&&(_0x373f6f[_0x4441da(0x289)]=_0x38496a[_0x4441da(0x289)]),_0x38496a[_0x4441da(0x20c)]!==null&&(_0x373f6f['unreadcount']=_0x38496a[_0x4441da(0x20c)]),Object[_0x4441da(0x2a5)](_0x373f6f)[_0x4441da(0x573)]>0x0)return await this[_0x4441da(0x4d8)][_0x4441da(0x23d)][_0x4441da(0x4bf)]({'where':{'_id':_0x38496a['_id']}},_0x373f6f,this['instance'][_0x4441da(0x3b7)]);}catch(_0x364187){return console[_0x4441da(0x519)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x38496a[_0x4441da(0x127)]+':',_0x364187),null;}}),_0x4d3e67=(await Promise[_0x27d39f(0x656)](_0x388ba1))[_0x27d39f(0x4ab)](_0x26b7b9=>_0x26b7b9!==null)['length'];this[_0x27d39f(0x213)][_0x27d39f(0x49b)](this['instanceName']+'\x20('+this[_0x27d39f(0x6e3)]['wuid']+'):\x20'+_0x4d3e67+'\x20chats\x20de\x20'+this[_0x27d39f(0x6e3)]['wuid']+_0x27d39f(0x8a));}}async['readMessageBot'](_0x2639a4){const _0x2b9b14=a0_0x1b487a;this[_0x2b9b14(0x213)][_0x2b9b14(0x49b)](this[_0x2b9b14(0x39e)]+'\x20('+this['instance'][_0x2b9b14(0x3b7)]+_0x2b9b14(0x2c3));let _0x36d8d8={'readMessages':[{'remoteJid':_0x2639a4[_0x2b9b14(0x329)][_0x2b9b14(0xb8)][_0x2b9b14(0xff)][_0x2b9b14(0x38f)],'fromMe':_0x2639a4[_0x2b9b14(0x329)][_0x2b9b14(0xb8)]['key'][_0x2b9b14(0x19a)],'id':_0x2639a4[_0x2b9b14(0x329)]['lastReceivedMessage'][_0x2b9b14(0xff)]['id']}]};await this[_0x2b9b14(0x677)](_0x36d8d8);}async[a0_0x1b487a(0x606)](_0x47fe54,_0x250545){const _0x10d024=a0_0x1b487a;try{let {key:_0x4bec35,message_normalized:_0x25df89}=_0x250545,_0x10b3d8=_0x25df89,_0x290c05=_0x25df89[_0x10d024(0x2f1)]||_0x25df89[_0x10d024(0x5c2)]||_0x25df89[_0x10d024(0x499)]||_0x25df89[_0x10d024(0x69e)],_0xf0a6c4=_0x4bec35[_0x10d024(0x38f)],_0x32cebd;if(_0x10b3d8['key'][_0x10d024(0x19a)]&&_0x290c05[_0x10d024(0x328)]()!==this['AutomateSystem']?.['flowConfig'][_0x10d024(0x3fb)][_0x10d024(0x328)]())return this[_0x10d024(0x213)][_0x10d024(0x49b)](this[_0x10d024(0x39e)]+'\x20('+this[_0x10d024(0x6e3)][_0x10d024(0x3b7)]+_0x10d024(0x1df)),null;if(_0x10b3d8[_0x10d024(0xff)][_0x10d024(0x19a)]&&_0x290c05[_0x10d024(0x328)]()===this['AutomateSystem']?.['flowConfig'][_0x10d024(0x3fb)][_0x10d024(0x328)]()){this[_0x10d024(0x213)]['verbose'](this[_0x10d024(0x39e)]+'\x20('+this[_0x10d024(0x6e3)][_0x10d024(0x3b7)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x32ac43=await this['repository'][_0x10d024(0x571)]['find']({'remoteJid':_0xf0a6c4,'status':_0x10d024(0x2fd)},this[_0x10d024(0x6e3)]['wuid']);this[_0x10d024(0x213)][_0x10d024(0x49b)](this[_0x10d024(0x39e)]+'\x20('+this['instance'][_0x10d024(0x3b7)]+_0x10d024(0x4e3)+_0x32ac43);let _0x23f939=Date[_0x10d024(0x6f)](),_0x330161;return this[_0x10d024(0x5a9)]?.[_0x10d024(0x454)][_0x10d024(0x186)]===0x0?_0x330161={'stoppedUntil':_0x23f939+0x7591f6200}:_0x330161={'stoppedUntil':_0x23f939+this[_0x10d024(0x5a9)]?.['flowConfig'][_0x10d024(0x186)]*0x3c*0x3e8},this[_0x10d024(0x213)]['verbose'](this['instanceName']+'\x20('+this[_0x10d024(0x6e3)][_0x10d024(0x3b7)]+_0x10d024(0x21c)+_0x330161),this[_0x10d024(0x176)](_0x32cebd,_0x330161[_0x10d024(0x187)]),null;}if(_0x290c05&&_0x290c05[_0x10d024(0x62f)](this[_0x10d024(0x5a9)]?.['flowConfig'][_0x10d024(0x485)])&&_0x290c05[_0x10d024(0x573)]>0x4){let _0x4fa0e2=await this[_0x10d024(0x4d8)][_0x10d024(0x3c5)]['findOne']({'where':{'startCommandWord':_0x290c05}},this[_0x10d024(0x6e3)]['wuid']);if(this[_0x10d024(0x213)]['verbose'](this[_0x10d024(0x39e)]+'\x20('+this[_0x10d024(0x6e3)]['wuid']+_0x10d024(0x498)),_0x4fa0e2)_0x32cebd=await this[_0x10d024(0x439)](_0x4fa0e2,_0x10b3d8['key'],_0x10b3d8);else return this[_0x10d024(0x213)][_0x10d024(0x49b)](this[_0x10d024(0x39e)]+'\x20('+this['instance'][_0x10d024(0x3b7)]+_0x10d024(0x70)),null;}else _0x32cebd=await this[_0x10d024(0x16e)](_0xf0a6c4,_0x10b3d8);if(_0x32cebd){this[_0x10d024(0x213)][_0x10d024(0x49b)](this[_0x10d024(0x39e)]+'\x20('+this[_0x10d024(0x6e3)][_0x10d024(0x3b7)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x4bec35[_0x10d024(0x19a)]&&_0x32cebd['readMessages']&&this[_0x10d024(0xde)](_0x32cebd);let _0x36f9e5=await this[_0x10d024(0x95)](_0x32cebd);_0x36f9e5&&await this[_0x10d024(0x173)](_0x32cebd,_0x36f9e5);}}catch(_0x569ff3){this[_0x10d024(0x213)]['error'](this[_0x10d024(0x39e)]+'\x20('+this['instance'][_0x10d024(0x3b7)]+_0x10d024(0x117)+(_0x569ff3 instanceof Error?_0x569ff3[_0x10d024(0x531)]:JSON[_0x10d024(0x11e)](_0x569ff3,null,0x2)));}}['flattenObject'](_0x29a804,_0x151b95='',_0x1468c9={},_0x45748e=!0x0){for(let _0x4ac852 in _0x29a804){let _0x19389d=_0x45748e?'_'+_0x4ac852:''+_0x151b95+_0x4ac852;typeof _0x29a804[_0x4ac852]=='object'&&_0x29a804[_0x4ac852]!==null?this['flattenObject'](_0x29a804[_0x4ac852],_0x19389d+'.',_0x1468c9,!0x1):_0x1468c9[_0x19389d]=String(_0x29a804[_0x4ac852]);}return _0x1468c9;}[a0_0x1b487a(0x36d)](_0x4516fd){const _0x1317b2=a0_0x1b487a;let _0x3e9e5a={};for(let _0x1e25e6 of _0x4516fd)typeof _0x1e25e6[_0x1317b2(0x69e)]==_0x1317b2(0x10a)&&typeof _0x1e25e6[_0x1317b2(0x68c)]=='string'&&(_0x3e9e5a[_0x1e25e6[_0x1317b2(0x69e)]]=_0x1e25e6['value']);return _0x3e9e5a;}async[a0_0x1b487a(0x95)](_0x21276c){const _0x5b6b67=a0_0x1b487a;if(!this[_0x5b6b67(0x5a9)]?.['flowConfig']['enabled']||_0x21276c[_0x5b6b67(0x14f)]!==_0x5b6b67(0x2fd)&&_0x21276c['waitingMenu_id']==='')return null;let _0x65d6a9=_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x28b)]||_0x5b6b67(0x4b7);typeof _0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x382)]>'u'&&(_0x21276c[_0x5b6b67(0x329)]['lastCondition']=!0x0);let _0x4835f1=_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x382)];this[_0x5b6b67(0x213)]['verbose'](this[_0x5b6b67(0x39e)]+'\x20('+this[_0x5b6b67(0x6e3)]['wuid']+_0x5b6b67(0x2db)+_0x65d6a9+_0x5b6b67(0x21a)+_0x4835f1);let _0x35fd65=_0x65d6a9==='start'?_0x21276c[_0x5b6b67(0x9e)][_0x5b6b67(0x3a8)](_0x3f639d=>_0x3f639d[_0x5b6b67(0x337)]===_0x5b6b67(0x4b7)):_0x21276c['blocks'][_0x5b6b67(0x3a8)](_0x1015cf=>_0x1015cf[_0x5b6b67(0x127)]['toString']()===_0x65d6a9[_0x5b6b67(0x601)]());if(!_0x35fd65)return this['logger'][_0x5b6b67(0x519)](this['instanceName']+'\x20('+this[_0x5b6b67(0x6e3)][_0x5b6b67(0x3b7)]+_0x5b6b67(0x514)+_0x65d6a9),null;let _0x2274a6={'_pushName':_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0xb8)][_0x5b6b67(0x327)],..._0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x2d8)]},_0x451c78=null;if(_0x21276c[_0x5b6b67(0x56c)]){let _0x17b148=_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0xb8)][_0x5b6b67(0x499)],_0x27539=_0x21276c[_0x5b6b67(0x2e5)][_0x5b6b67(0x3a8)](_0x423ab6=>_0x423ab6[_0x5b6b67(0x3eb)]===_0x17b148);if(_0x27539){let _0x28d39b=_0x27539[_0x5b6b67(0x344)];if(_0x451c78=_0x21276c[_0x5b6b67(0x9e)]['find'](_0x2c6992=>_0x2c6992[_0x5b6b67(0x5ec)]===_0x28d39b&&_0x2c6992[_0x5b6b67(0x38d)]===0x1),_0x35fd65[_0x5b6b67(0x647)]['pollOnReplyDelete']){let _0x55b5a3={'id':_0x21276c['waitingMenu_id'],'remoteJid':_0x21276c['remoteJid'],'fromMe':!0x0};await this[_0x5b6b67(0x38c)](_0x55b5a3);}if(_0x35fd65['uazapi'][_0x5b6b67(0x4e8)]&&_0x35fd65[_0x5b6b67(0x647)]['pollMessageOnDelete']&&_0x35fd65[_0x5b6b67(0x647)]['menuType']===_0x5b6b67(0xe4)){let _0x57ce64={'number':_0x21276c[_0x5b6b67(0x38f)],'options':{'delay':0x0},'textMessage':{'text':_0x5b6b67(0x611)+_0x21276c['waitingMenu_text']+_0x5b6b67(0x506)+_0x17b148}};await this[_0x5b6b67(0x6b0)](_0x57ce64);}_0x21276c[_0x5b6b67(0x14f)]='open',_0x21276c['waitingMenu_id']='',_0x21276c[_0x5b6b67(0xb9)]='',_0x21276c[_0x5b6b67(0x2e5)]=[];}else{this['logger'][_0x5b6b67(0x49b)](this['instanceName']+'\x20('+this['instance'][_0x5b6b67(0x3b7)]+_0x5b6b67(0x2f2));let _0xe68638={'activatedCount':_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x1ca)]['filter'](_0x454cd8=>String(_0x454cd8[_0x5b6b67(0x391)])===String(_0x65d6a9))[_0x5b6b67(0x573)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x35fd65[_0x5b6b67(0x647)][_0x5b6b67(0x6c0)]){let _0x1a4411={'number':_0x21276c[_0x5b6b67(0x38f)],'options':{'delay':0x0},'textMessage':{'text':_0x35fd65['uazapi'][_0x5b6b67(0x6c0)]}};await this[_0x5b6b67(0x6b0)](_0x1a4411);}if(_0x35fd65['maxActives']!==void 0x0&&_0xe68638[_0x5b6b67(0x71)]>=_0x35fd65[_0x5b6b67(0x154)]){let _0x163e78=Date[_0x5b6b67(0x6f)](),_0x57c506=_0x35fd65[_0x5b6b67(0x3b8)]??0xa;isNaN(_0x57c506)&&(_0x57c506=0xa);let _0x5e3b10=_0x163e78+_0x57c506*0x3c*0x3e8;_0xe68638[_0x5b6b67(0x46a)]=_0x5e3b10,_0xe68638[_0x5b6b67(0x24a)][_0x5b6b67(0xd3)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x21276c,_0x5e3b10),_0x21276c[_0x5b6b67(0x56c)]='',_0x21276c['waitingMenu_text']='',_0x21276c['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0x21276c,_0x35fd65,_0xe68638,!0x0),null;}}if(_0x4835f1&&_0x35fd65[_0x5b6b67(0x344)]&&!_0x21276c['waitingMenu_id']){let _0x315fc5=_0x21276c['blocks']['filter'](_0x705eac=>_0x705eac[_0x5b6b67(0x5ec)]['toString']()===_0x35fd65[_0x5b6b67(0x344)][_0x5b6b67(0x601)]())['sort']((_0x5ce3e6,_0xdd89d4)=>_0x5ce3e6['order']-_0xdd89d4['order']);_0x315fc5[_0x5b6b67(0x573)]>0x0&&(_0x451c78=_0x315fc5[0x0]);}if(!_0x451c78){let _0x257515=_0x35fd65[_0x5b6b67(0x5ec)],_0x2a73d9=_0x21276c[_0x5b6b67(0x9e)][_0x5b6b67(0x4ab)](_0x540099=>_0x540099[_0x5b6b67(0x5ec)]===_0x257515&&_0x540099['order']>_0x35fd65[_0x5b6b67(0x38d)])[_0x5b6b67(0x50f)]((_0x2ef9b3,_0x38ffde)=>_0x2ef9b3[_0x5b6b67(0x38d)]-_0x38ffde['order']);_0x2a73d9[_0x5b6b67(0x573)]>0x0&&(_0x451c78=_0x2a73d9[0x0]);}if(!_0x451c78)return _0x21276c[_0x5b6b67(0x14f)]=_0x5b6b67(0x6e4),null;_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x2d8)]=_0x2274a6;let _0x4fba7d=JSON[_0x5b6b67(0x323)](JSON['stringify'](_0x451c78));return this[_0x5b6b67(0x594)](_0x4fba7d,_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x2d8)]),_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x28b)]=_0x4fba7d[_0x5b6b67(0x127)],_0x21276c[_0x5b6b67(0x329)][_0x5b6b67(0x382)]=!0x0,_0x4fba7d;}['replaceVariables'](_0x32adf7,_0x4f099d){const _0x56f6b1=a0_0x1b487a;return _0x32adf7[_0x56f6b1(0x168)](/\{\{([^}]+)\}\}/g,(_0x12fca9,_0x3f7d56)=>_0x4f099d[_0x3f7d56]||'');}[a0_0x1b487a(0x594)](_0xb4f7dc,_0x4e88ca){const _0x500763=a0_0x1b487a;for(let _0x57c7fd in _0xb4f7dc)typeof _0xb4f7dc[_0x57c7fd]==_0x500763(0x10a)?_0xb4f7dc[_0x57c7fd]=this[_0x500763(0x4b0)](_0xb4f7dc[_0x57c7fd],_0x4e88ca):typeof _0xb4f7dc[_0x57c7fd]=='object'&&this['replaceVariablesInObject'](_0xb4f7dc[_0x57c7fd],_0x4e88ca);}async['goNextblock'](_0x2425fe,_0x47336c){const _0x424408=a0_0x1b487a;let _0x5165c2=_0x47336c['_id'];if(_0x2425fe[_0x424408(0x329)]&&_0x2425fe[_0x424408(0x329)][_0x424408(0x1ca)]){let _0x1b0323=_0x2425fe[_0x424408(0x329)][_0x424408(0x1ca)][_0x424408(0x4ab)](_0x507e1f=>String(_0x507e1f[_0x424408(0x391)])===String(_0x5165c2))[_0x424408(0x633)]();if(_0x1b0323&&_0x1b0323[_0x424408(0x519)]&&_0x47336c[_0x424408(0x2a6)])return _0x2425fe[_0x424408(0x14f)]=_0x424408(0x6e4),await this[_0x424408(0xc4)](_0x2425fe),null;}if(_0x47336c[_0x424408(0x337)]==='uazapi'&&_0x47336c[_0x424408(0x647)][_0x424408(0x6c)]===_0x424408(0x67f)&&_0x2425fe['waitingMenu_id'])return _0x2425fe[_0x424408(0x329)]['lastBlockId']=_0x5165c2,await this['saveConversationToDatabase'](_0x2425fe),null;let _0x4661cf=await this[_0x424408(0x95)](_0x2425fe);if(_0x2425fe['chatLog']&&_0x2425fe[_0x424408(0x329)][_0x424408(0x1ca)]){let _0x5e70eb=_0x2425fe['chatLog'][_0x424408(0x1ca)]['filter'](_0x88e3de=>String(_0x88e3de[_0x424408(0x391)])===String(_0x5165c2))[_0x424408(0x573)];if(_0x47336c[_0x424408(0x154)]!==void 0x0&&_0x5e70eb>=_0x47336c[_0x424408(0x154)]){let _0x4d15c1=Date[_0x424408(0x6f)](),_0x25a7b2=_0x47336c['stopMinutesMaxActives']??0xa;isNaN(_0x25a7b2)&&(_0x25a7b2=0xa);let _0x3951a4=_0x4d15c1+_0x25a7b2*0x3c*0x3e8,_0x1822c4={'newStoppedUntil':_0x3951a4};return this['updateStopChat'](_0x2425fe,_0x3951a4),this[_0x424408(0x3ed)](_0x2425fe,_0x47336c,_0x1822c4,!0x0),null;}}_0x4661cf&&_0x4661cf[_0x424408(0x337)]!==_0x424408(0x6a3)&&await this['processblock'](_0x2425fe,_0x4661cf),_0x4661cf||await this[_0x424408(0xc4)](_0x2425fe),_0x4661cf&&_0x4661cf[_0x424408(0x337)]==='save'&&(_0x2425fe[_0x424408(0x329)][_0x424408(0x28b)]=_0x5165c2,await this[_0x424408(0xc4)](_0x2425fe));}async[a0_0x1b487a(0x173)](_0x1949bb,_0x4208b2){const _0x5e6b6a=a0_0x1b487a;try{let _0xfd91c1=_0x4208b2[_0x5e6b6a(0x337)];this['logger'][_0x5e6b6a(0x49b)](this[_0x5e6b6a(0x39e)]+'\x20('+this[_0x5e6b6a(0x6e3)][_0x5e6b6a(0x3b7)]+_0x5e6b6a(0x4df)+_0xfd91c1);let _0x286eb6={'uazapi':()=>this[_0x5e6b6a(0x686)](_0x1949bb,_0x4208b2),'save':()=>this[_0x5e6b6a(0x17c)](_0x1949bb,_0x4208b2),'stop':()=>this[_0x5e6b6a(0x3fb)](_0x1949bb,_0x4208b2),'condition':()=>this[_0x5e6b6a(0x32a)](_0x1949bb,_0x4208b2),'varedit':()=>this[_0x5e6b6a(0x6fd)](_0x1949bb,_0x4208b2),'apirequest':()=>this[_0x5e6b6a(0x4dc)](_0x1949bb,_0x4208b2),'goToFlow':()=>this['processgoToFlow'](_0x1949bb,_0x4208b2)}[_0xfd91c1];_0x286eb6&&await _0x286eb6();}catch(_0x35de24){this[_0x5e6b6a(0x213)][_0x5e6b6a(0x519)](this[_0x5e6b6a(0x39e)]+'\x20('+this[_0x5e6b6a(0x6e3)][_0x5e6b6a(0x3b7)]+_0x5e6b6a(0x59c)+(_0x35de24 instanceof Error?_0x35de24[_0x5e6b6a(0x531)]:JSON[_0x5e6b6a(0x11e)](_0x35de24,null,0x2)));}}async['processgoToFlow'](_0x3a8e96,_0x19f761){const _0x5c0992=a0_0x1b487a;if(this['logger'][_0x5c0992(0x49b)](this['instanceName']+'\x20('+this['instance'][_0x5c0992(0x3b7)]+_0x5c0992(0x2d6)),!_0x3a8e96||!_0x19f761)return this[_0x5c0992(0x213)][_0x5c0992(0x519)](this[_0x5c0992(0x39e)]+'\x20('+this[_0x5c0992(0x6e3)][_0x5c0992(0x3b7)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x5c0992(0x3ed)](_0x3a8e96,_0x19f761,{},!0x0,!0x0),console[_0x5c0992(0x18d)]('nextBlock:'),console[_0x5c0992(0x18d)](_0x19f761);let _0x41364b=_0x19f761[_0x5c0992(0x1e3)];console['log'](_0x5c0992(0x617),_0x41364b),_0x3a8e96=await this[_0x5c0992(0x2e9)](_0x41364b,_0x3a8e96[_0x5c0992(0x38f)],_0x3a8e96[_0x5c0992(0x329)][_0x5c0992(0x2d8)]),this[_0x5c0992(0x213)][_0x5c0992(0x49b)](this[_0x5c0992(0x39e)]+'\x20('+this[_0x5c0992(0x6e3)]['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x2db9d8=await this[_0x5c0992(0x95)](_0x3a8e96);_0x2db9d8&&await this[_0x5c0992(0x173)](_0x3a8e96,_0x2db9d8);}async[a0_0x1b487a(0x2e9)](_0x34a5d6,_0x2ed768,_0x193437){const _0x5957dd=a0_0x1b487a;this[_0x5957dd(0x213)]['verbose'](this[_0x5957dd(0x39e)]+'\x20('+this[_0x5957dd(0x6e3)][_0x5957dd(0x3b7)]+_0x5957dd(0x2f4));try{if(_0x34a5d6=await this['repository'][_0x5957dd(0x3c5)][_0x5957dd(0x547)]({'where':{'name':_0x34a5d6}},this[_0x5957dd(0x6e3)][_0x5957dd(0x3b7)]),!_0x34a5d6)return this[_0x5957dd(0x213)][_0x5957dd(0x519)](this[_0x5957dd(0x39e)]+'\x20('+this[_0x5957dd(0x6e3)][_0x5957dd(0x3b7)]+_0x5957dd(0x39c)),null;let _0x42d330=require('mongodb')['ObjectId'],_0x18d7fe=Date[_0x5957dd(0x6f)](),_0x20cccb=_0x5957dd(0x4b7),_0x363866={},_0x4c3158={},_0x552073={..._0x34a5d6,'chatLog':null},_0x553351={'lastReceivedMessage':_0x363866,'lastSendMessage':_0x4c3158,'lastBlockId':_0x20cccb,'lastCondition':!0x0,'realVariables':_0x193437};_0x552073[_0x5957dd(0x329)]=_0x553351,_0x552073[_0x5957dd(0x329)][_0x5957dd(0x2d8)]={..._0x193437},delete _0x552073['_id'],_0x552073[_0x5957dd(0x127)]=new _0x42d330(),_0x552073[_0x5957dd(0x89)]=_0x18d7fe,_0x552073[_0x5957dd(0x14f)]='open',_0x552073['remoteJid']=_0x2ed768;let _0x16ea86=await this[_0x5957dd(0x4d8)][_0x5957dd(0x571)]['updateOne'](_0x552073['_id'],_0x552073,this['instance'][_0x5957dd(0x3b7)]);return this[_0x5957dd(0x213)][_0x5957dd(0x49b)](this[_0x5957dd(0x39e)]+'\x20('+this[_0x5957dd(0x6e3)][_0x5957dd(0x3b7)]+_0x5957dd(0x5a2)),_0x16ea86?_0x552073:null;}catch(_0x4aecca){throw this['logger'][_0x5957dd(0x519)](this[_0x5957dd(0x39e)]+'\x20('+this[_0x5957dd(0x6e3)][_0x5957dd(0x3b7)]+_0x5957dd(0xc6)+(_0x4aecca instanceof Error?_0x4aecca['message']:JSON[_0x5957dd(0x11e)](_0x4aecca,null,0x2))),new w(_0x4aecca[_0x5957dd(0x531)]);}}async[a0_0x1b487a(0x4dc)](_0x3ece9e,_0x111d91){const _0x9fbac5=a0_0x1b487a;let _0x145bc4,_0x436df7;try{let _0x1f850e=_0x111d91[_0x9fbac5(0x4c7)];if(!_0x1f850e||!_0x1f850e[_0x9fbac5(0x241)]||!_0x1f850e[_0x9fbac5(0x306)])throw new Error(_0x9fbac5(0x5d3));let _0x5c94bc;([_0x9fbac5(0x5ac),_0x9fbac5(0x572),_0x9fbac5(0xdf)][_0x9fbac5(0x660)](_0x384929=>_0x1f850e['url'][_0x9fbac5(0x56d)](_0x384929))||_0x1f850e[_0x9fbac5(0x67e)])&&(_0x5c94bc='arraybuffer');let _0x5c1a01={'method':_0x1f850e['method'],'url':_0x1f850e[_0x9fbac5(0x241)],'headers':_0x1f850e['header']||{},'data':_0x1f850e[_0x9fbac5(0x5dd)]||{},..._0x5c94bc&&{'responseType':_0x5c94bc}},_0x287179=await(0x0,se[_0x9fbac5(0x66d)])(_0x5c1a01),_0x56bdd3=_0x287179[_0x9fbac5(0x1cd)][_0x9fbac5(0x55f)];if(_0x56bdd3&&_0x56bdd3['includes'](_0x9fbac5(0x520))){_0x145bc4=_0x287179[_0x9fbac5(0x3da)];let _0x544b2f=_0x3ece9e['chatLog'][_0x9fbac5(0x2d8)],_0x4833e4=this[_0x9fbac5(0x688)](_0x145bc4);return Object['assign'](_0x544b2f,_0x4833e4),_0x3ece9e[_0x9fbac5(0x329)][_0x9fbac5(0x2d8)]=_0x544b2f,_0x436df7={'error':!0x1,'apiResponse':_0x145bc4},this[_0x9fbac5(0x3ed)](_0x3ece9e,_0x111d91,_0x436df7),_0x145bc4;}if(_0x56bdd3&&(_0x56bdd3[_0x9fbac5(0x56d)](_0x9fbac5(0x5ad))||_0x56bdd3[_0x9fbac5(0x56d)](_0x9fbac5(0x147))||_0x56bdd3['includes']('audio')||_0x56bdd3[_0x9fbac5(0x56d)]('video'))){this[_0x9fbac5(0x213)][_0x9fbac5(0x49b)](this[_0x9fbac5(0x39e)]+'\x20('+this['instance'][_0x9fbac5(0x3b7)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x56bdd3);let _0x2116d9=(0x0,Me['v4'])(),_0x477beb='',_0x1b48e6={'image/jpeg':_0x9fbac5(0x6bc),'image/png':_0x9fbac5(0x6bb),'image/gif':_0x9fbac5(0x6dd),'image/webp':_0x9fbac5(0x6a8),'image/svg+xml':_0x9fbac5(0x6bd),'audio/mpeg':'.mp3','audio/ogg':_0x9fbac5(0x650),'audio/wav':_0x9fbac5(0x3d1),'video/mp4':'.mp4','video/webm':_0x9fbac5(0x8c),'video/ogg':_0x9fbac5(0x34c),'text/plain':'.txt','application/pdf':_0x9fbac5(0x13c),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x9fbac5(0x6b8),'application/vnd.ms-excel':_0x9fbac5(0xae),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x9fbac5(0x465),'application/vnd.ms-powerpoint':_0x9fbac5(0x3f4),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x1b48e6[_0x56bdd3]?(_0x477beb=_0x1b48e6[_0x56bdd3],this['logger'][_0x9fbac5(0x49b)](this[_0x9fbac5(0x39e)]+'\x20('+this['instance'][_0x9fbac5(0x3b7)]+_0x9fbac5(0x77)+_0x477beb)):(_0x477beb=_0x9fbac5(0x292),this['logger']['verbose'](this[_0x9fbac5(0x39e)]+'\x20('+this['instance']['wuid']+_0x9fbac5(0x25a)+_0x477beb)),_0x2116d9+=_0x477beb,this['logger'][_0x9fbac5(0x49b)](this[_0x9fbac5(0x39e)]+'\x20('+this[_0x9fbac5(0x6e3)][_0x9fbac5(0x3b7)]+_0x9fbac5(0x52d)+_0x2116d9);let _0x22f050=this[_0x9fbac5(0x362)][_0x9fbac5(0x348)](_0x9fbac5(0x1e9))[_0x9fbac5(0x17f)];if(!_0x22f050){let _0x2ef640=this[_0x9fbac5(0x362)][_0x9fbac5(0x348)](_0x9fbac5(0x379));_0x22f050='https://'+(_0x2ef640&&_0x2ef640['FULLCHAIN'][_0x9fbac5(0x4b1)]('/')[0x4]);}let _0xbe336=Buffer[_0x9fbac5(0x530)](_0x287179[_0x9fbac5(0x3da)]);await this[_0x9fbac5(0x22c)](_0xbe336,_0x2116d9);let _0x80071d=_0x9fbac5(0xa3)+_0x2116d9;_0x80071d=''+_0x22f050+_0x80071d,_0x145bc4={'fileUrl':_0x80071d},_0x3ece9e[_0x9fbac5(0x329)]['realVariables']['fileUrl']=_0x80071d;let _0x4b2578=_0x3ece9e['chatLog'][_0x9fbac5(0x2d8)],_0x2a48db=this['flattenObject'](_0x145bc4);return Object[_0x9fbac5(0x4bc)](_0x4b2578,_0x2a48db),_0x3ece9e[_0x9fbac5(0x329)][_0x9fbac5(0x2d8)]=_0x4b2578,_0x436df7={'error':!0x1,'apiResponse':{'fileUrl':_0x80071d}},this['updateConversation'](_0x3ece9e,_0x111d91,_0x436df7),_0x145bc4;}}catch(_0x215440){console['error'](_0x9fbac5(0x170),_0x215440),_0x215440[_0x9fbac5(0x31d)]&&(_0x145bc4=_0x215440['response'][_0x9fbac5(0x3da)]);let _0x428f77=_0x3ece9e[_0x9fbac5(0x329)][_0x9fbac5(0x2d8)],_0x489d3f=this[_0x9fbac5(0x688)](_0x145bc4);return Object['assign'](_0x428f77,_0x489d3f),_0x3ece9e[_0x9fbac5(0x329)][_0x9fbac5(0x2d8)]=_0x428f77,_0x436df7={'error':!0x0,'errorLog':_0x215440[_0x9fbac5(0x601)](),'apiResponse':_0x145bc4},this[_0x9fbac5(0x3ed)](_0x3ece9e,_0x111d91,_0x436df7),{'success':!0x1};}}[a0_0x1b487a(0x50c)](_0x2f096d,_0xb43367){const _0x2566c6=a0_0x1b487a;let _0x379695=_0x5e4be4=>{const _0x449c84=a0_0x32d2;let _0x447d75=_0x5e4be4[_0x449c84(0x168)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x3b0269=parseFloat(_0x447d75);return isNaN(_0x3b0269)?null:_0x3b0269;},_0x553d42=_0xb43367[_0x2566c6(0x193)],_0xd7f28d=_0xb43367[_0x2566c6(0x6b3)];typeof _0x553d42==_0x2566c6(0x10a)&&(_0x553d42=this[_0x2566c6(0x4b0)](_0x553d42,_0x2f096d['chatLog'][_0x2566c6(0x2d8)])??''),typeof _0xd7f28d==_0x2566c6(0x10a)&&(_0xd7f28d=this[_0x2566c6(0x4b0)](_0xd7f28d,_0x2f096d[_0x2566c6(0x329)][_0x2566c6(0x2d8)])??'');let _0x4320d1=null;if(!_0xb43367[_0x2566c6(0x478)])return null;switch(this['logger'][_0x2566c6(0x49b)](this[_0x2566c6(0x39e)]+'\x20('+this[_0x2566c6(0x6e3)][_0x2566c6(0x3b7)]+_0x2566c6(0x7e)+_0x553d42),this['logger'][_0x2566c6(0x49b)](this[_0x2566c6(0x39e)]+'\x20('+this[_0x2566c6(0x6e3)][_0x2566c6(0x3b7)]+_0x2566c6(0x3c4)+_0xd7f28d),_0xb43367[_0x2566c6(0x478)]){case'+':case'-':case'*':case'/':let _0x58d376=_0x379695(_0x553d42||'0'),_0x105780=_0x379695(_0xd7f28d||'0');if(_0x58d376===null)return null;switch(_0xb43367['editOperator']){case'+':_0x4320d1=_0x58d376+(_0x105780??0x0);break;case'-':_0x4320d1=_0x58d376-(_0x105780??0x0);break;case'*':_0x4320d1=_0x58d376*(_0x105780??0x1);break;case'/':_0x105780!==0x0&&(_0x4320d1=_0x58d376/(_0x105780??0x1));break;}break;case _0x2566c6(0xf8):case'findAndReplaceRegex':let _0x1a3a4a=_0xd7f28d,_0x2d5c7b=_0xb43367[_0x2566c6(0x99)];if(typeof _0x2d5c7b==_0x2566c6(0x10a)&&(_0x2d5c7b=this['replaceVariables'](_0x2d5c7b,_0x2f096d[_0x2566c6(0x329)][_0x2566c6(0x2d8)])??''),_0x1a3a4a&&_0x2d5c7b!==void 0x0){let _0x2836ce=_0xb43367[_0x2566c6(0x478)]===_0x2566c6(0xf8)?new RegExp(_0x1a3a4a[_0x2566c6(0x168)](/[-\/\\^$*+?.()|[\]{}]/g,_0x2566c6(0x5f9)),'g'):new RegExp(_0x1a3a4a,'g');_0x4320d1=_0x553d42[_0x2566c6(0x168)](_0x2836ce,_0x2d5c7b);}else console[_0x2566c6(0x3d4)](_0x2566c6(0x261));break;case _0x2566c6(0x18b):_0x4320d1=_0xd7f28d;break;case _0x2566c6(0x6cb):let _0x1b40ca=_0x553d42[_0x2566c6(0x693)](new RegExp(_0xd7f28d||''));_0x4320d1=_0x1b40ca?_0x1b40ca[0x0]:'';break;case _0x2566c6(0x4c6):_0x4320d1=_0x553d42['slice'](0x0,parseInt(_0xd7f28d||'0'));break;case'truncatedtoEnd':let _0x38ebcb=parseInt(_0xd7f28d||'0');_0x4320d1=_0x553d42['slice'](_0x553d42[_0x2566c6(0x573)]-_0x38ebcb);break;case'toBrazilianNumberFormat':let _0x3961cb=_0x379695(_0x553d42),_0x4437dc=parseInt(_0xd7f28d||'0');_0x4437dc=Math[_0x2566c6(0x412)](_0x4437dc),_0x3961cb!==null?_0x4320d1=_0x3961cb['toLocaleString'](_0x2566c6(0x27f),{'minimumFractionDigits':_0x4437dc,'maximumFractionDigits':_0x4437dc}):(console[_0x2566c6(0x3d4)](_0x2566c6(0x6f9)+_0x553d42),_0x4320d1=null);break;case _0x2566c6(0x392):let _0x2ee8f4=_0x379695(_0x553d42);_0x2ee8f4!==null?_0x4320d1=_0x2ee8f4[_0x2566c6(0x11d)]('pt-BR',{'style':_0x2566c6(0x537),'currency':_0x2566c6(0x37c)}):(console[_0x2566c6(0x3d4)](_0x2566c6(0x635)+_0x553d42),_0x4320d1=null);break;case _0x2566c6(0x64f):_0x4320d1=_0x553d42['toUpperCase']();break;case _0x2566c6(0x6d0):_0x4320d1=_0x553d42['toLowerCase']();break;case _0x2566c6(0x612):_0x4320d1=_0x553d42['split']('\x20')[_0x2566c6(0x381)](_0x184909=>_0x184909['charAt'](0x0)[_0x2566c6(0x13e)]()+_0x184909[_0x2566c6(0x240)](0x1)['toLowerCase']())['join']('\x20');break;case _0x2566c6(0x208):_0x4320d1=_0x553d42['trim']();break;default:_0x4320d1=_0x553d42;}return _0x4320d1!==null?_0x4320d1[_0x2566c6(0x601)]():null;}async[a0_0x1b487a(0x6fd)](_0x2bf9ed,_0x4f4699){const _0x4a01d9=a0_0x1b487a;try{let _0x5b8a53=_0x2bf9ed[_0x4a01d9(0x3aa)]?.[_0x4a01d9(0x4ab)](_0x5891fe=>_0x5891fe[_0x4a01d9(0x391)]===_0x4f4699['_id']?.[_0x4a01d9(0x601)]())||[],_0x48e156=_0x4f4699[_0x4a01d9(0x484)],_0x3165d2=null,_0x1b0af9=[],_0x47bcd2=_0x2bf9ed[_0x4a01d9(0x329)][_0x4a01d9(0x2d8)][_0x48e156];_0x1b0af9[_0x4a01d9(0xd3)](_0x4a01d9(0xe8)+_0x47bcd2+'\x22');for(let _0x1ffd8b of _0x5b8a53){_0x1ffd8b[_0x4a01d9(0x193)]=_0x47bcd2,_0x3165d2=_0x1ffd8b[_0x4a01d9(0x193)];let _0x5e295a;try{_0x5e295a=this['applyvaredit'](_0x2bf9ed,_0x1ffd8b);}catch(_0x25b11f){console[_0x4a01d9(0x519)](_0x4a01d9(0x2b0)+_0x25b11f[_0x4a01d9(0x531)]);continue;}if(_0x5e295a!==null){let _0x107056=_0x4a01d9(0x1cb)+_0x1ffd8b[_0x4a01d9(0x478)]+'\x22',_0x5afac8=[_0x4a01d9(0x392),_0x4a01d9(0x64f),'lowerCase',_0x4a01d9(0x612),_0x4a01d9(0x208)];_0x1ffd8b[_0x4a01d9(0x478)]===_0x4a01d9(0xf8)||_0x1ffd8b[_0x4a01d9(0x478)]===_0x4a01d9(0x58f)?_0x107056+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x1ffd8b[_0x4a01d9(0x6b3)]+_0x4a01d9(0x350)+_0x1ffd8b['replaceValue']+'\x22':!_0x5afac8[_0x4a01d9(0x56d)](_0x1ffd8b[_0x4a01d9(0x478)])&&_0x1ffd8b[_0x4a01d9(0x6b3)]!==null&&_0x1ffd8b[_0x4a01d9(0x6b3)]!==void 0x0&&(_0x107056+=_0x4a01d9(0x53f)+_0x1ffd8b[_0x4a01d9(0x6b3)]+'\x22'),_0x107056+=',\x20resultado:\x20'+_0x5e295a+'.',_0x1b0af9[_0x4a01d9(0xd3)](_0x107056);}_0x5e295a!==null&&(_0x47bcd2=_0x5e295a);}if(_0x2bf9ed[_0x4a01d9(0x329)]['realVariables']&&_0x4f4699[_0x4a01d9(0x484)]){_0x2bf9ed[_0x4a01d9(0x329)]['realVariables'][_0x4f4699['saveVariable']]=_0x47bcd2;let _0x4fa33a={'variable':_0x4f4699[_0x4a01d9(0x484)],'oldValue':_0x3165d2,'newValue':_0x47bcd2,'moreLogs':_0x1b0af9};try{this['updateConversation'](_0x2bf9ed,_0x4f4699,_0x4fa33a);}catch(_0x35a615){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x35a615[_0x4a01d9(0x531)]);}}return _0x48e156;}catch(_0x22abdd){return console[_0x4a01d9(0x519)](_0x4a01d9(0x5ae)+_0x22abdd['message']),null;}}async[a0_0x1b487a(0x32a)](_0x1744bc,_0x529b7d){const _0x44202f=a0_0x1b487a;try{let _0x2982a3=[],_0x54f217=_0x1744bc[_0x44202f(0x4a1)][_0x44202f(0x4ab)](_0x5445b5=>_0x5445b5[_0x44202f(0x391)]===_0x529b7d[_0x44202f(0x127)][_0x44202f(0x601)]()),_0x5e8877=null,_0x2deb8d=!0x1;for(let _0x143975 of _0x54f217){let _0x1cd3cd=this['evaluateCondition'](_0x1744bc,_0x143975);_0x2982a3[_0x44202f(0xd3)](_0x44202f(0x2a2)+_0x143975[_0x44202f(0x193)]+_0x44202f(0x1bd)+_0x143975['expression']+_0x44202f(0x577)+_0x143975[_0x44202f(0x6b3)]+_0x44202f(0x311)+_0x1cd3cd),_0x5e8877===null?_0x5e8877=_0x1cd3cd:_0x143975[_0x44202f(0x191)]===_0x44202f(0x3b2)?(_0x5e8877=_0x5e8877&&_0x1cd3cd,_0x1cd3cd||(_0x2deb8d=!0x0)):_0x143975[_0x44202f(0x191)]==='or'&&(_0x2deb8d||(_0x5e8877=_0x5e8877||_0x1cd3cd));}_0x5e8877===null&&(_0x5e8877=!0x0);let _0x2f5f6e={'moreLogs':_0x2982a3};_0x1744bc[_0x44202f(0x329)][_0x44202f(0x382)]=_0x5e8877,await this[_0x44202f(0x3ed)](_0x1744bc,_0x529b7d,_0x2f5f6e);}catch(_0x13dd5a){this[_0x44202f(0x213)][_0x44202f(0x519)](this[_0x44202f(0x39e)]+'\x20('+this[_0x44202f(0x6e3)][_0x44202f(0x3b7)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x13dd5a instanceof Error?_0x13dd5a[_0x44202f(0x531)]:JSON[_0x44202f(0x11e)](_0x13dd5a,null,0x2)));}}[a0_0x1b487a(0x47d)](_0x2011d5,_0x1743af){const _0x30c8a4=a0_0x1b487a;let _0x5e96d4=_0x1743af[_0x30c8a4(0x193)],_0x338ebc=_0x1743af[_0x30c8a4(0x6b3)];typeof _0x5e96d4==_0x30c8a4(0x10a)&&(_0x5e96d4=this[_0x30c8a4(0x4b0)](_0x5e96d4,_0x2011d5[_0x30c8a4(0x329)][_0x30c8a4(0x2d8)])??''),typeof _0x338ebc==_0x30c8a4(0x10a)&&(_0x338ebc=this[_0x30c8a4(0x4b0)](_0x338ebc,_0x2011d5[_0x30c8a4(0x329)][_0x30c8a4(0x2d8)])??'');try{switch(_0x1743af[_0x30c8a4(0x2f9)]){case _0x30c8a4(0x5e7):return _0x5e96d4===_0x338ebc;case'notEqual':return _0x5e96d4!==_0x338ebc;case _0x30c8a4(0x34a):return this[_0x30c8a4(0x34a)](_0x5e96d4,_0x338ebc);case _0x30c8a4(0x69a):return!this['contains'](_0x5e96d4,_0x338ebc);case'greater':return parseFloat(_0x5e96d4)>parseFloat(_0x338ebc);case'less':return parseFloat(_0x5e96d4)<parseFloat(_0x338ebc);case'notEmpty':return _0x5e96d4!=='';case _0x30c8a4(0x3f8):return _0x5e96d4==='';case _0x30c8a4(0x281):return new RegExp(_0x338ebc)['test'](_0x5e96d4);case _0x30c8a4(0xd0):return!new RegExp(_0x338ebc)['test'](_0x5e96d4);default:return!0x1;}}catch(_0x394c67){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x394c67),!0x1;}}[a0_0x1b487a(0x34a)](_0x311d5d,_0x1f5899){const _0x2f0568=a0_0x1b487a;if(_0x311d5d===_0x1f5899&&/^\d+$/['test'](_0x311d5d))return!0x0;if(this[_0x2f0568(0x2ec)](_0x311d5d)&&/^\d+$/['test'](_0x1f5899)){let _0x205373=_0x311d5d[_0x2f0568(0x4b1)](',')[_0x2f0568(0x381)](_0x1e6c87=>parseInt(_0x1e6c87['trim']())),_0x238347=parseInt(_0x1f5899);return _0x205373[_0x2f0568(0x56d)](_0x238347);}return _0x311d5d[_0x2f0568(0x56d)](_0x1f5899);}[a0_0x1b487a(0x2ec)](_0x453d1e){const _0x26610f=a0_0x1b487a;return/^\d+(,\d+)*$/[_0x26610f(0x194)](_0x453d1e);}[a0_0x1b487a(0x5e1)](_0x5976e2){const _0x2c6676=a0_0x1b487a;let _0x268a00=!0x0,_0x287970=null;for(let _0x1e5bf6 of _0x5976e2){let _0x2ad103=this[_0x2c6676(0x4f1)](_0x1e5bf6);if(_0x287970==='or'&&_0x2ad103){_0x268a00=!0x0;break;}if(_0x287970===_0x2c6676(0x3b2)&&!_0x2ad103){_0x268a00=!0x1;break;}_0x287970=_0x1e5bf6['OrAnd'];}return _0x268a00;}[a0_0x1b487a(0x4f1)](_0x3159e7){const _0x3cbb6a=a0_0x1b487a;let _0x157487=_0x3159e7[_0x3cbb6a(0x193)],_0x57213e=_0x3159e7[_0x3cbb6a(0x6b3)];try{switch(_0x3159e7[_0x3cbb6a(0x2f9)]){case'equal':return String(_0x157487)===String(_0x57213e);case _0x3cbb6a(0x4e5):return String(_0x157487)!==String(_0x57213e);case _0x3cbb6a(0x34a):return String(_0x157487)[_0x3cbb6a(0x56d)](String(_0x57213e));case _0x3cbb6a(0x69a):return!String(_0x157487)['includes'](String(_0x57213e));case _0x3cbb6a(0x45e):return parseFloat(String(_0x157487))>parseFloat(String(_0x57213e));case'less':return parseFloat(String(_0x157487))<parseFloat(String(_0x57213e));case _0x3cbb6a(0x196):return String(_0x157487)!=='';case'empty':return String(_0x157487)==='';case _0x3cbb6a(0x281):return new RegExp(String(_0x57213e))[_0x3cbb6a(0x194)](String(_0x157487));case _0x3cbb6a(0xd0):return!new RegExp(String(_0x57213e))[_0x3cbb6a(0x194)](String(_0x157487));default:return!0x1;}}catch(_0x5acf6d){return console['error'](_0x3cbb6a(0x41d)+_0x5acf6d),!0x1;}}async[a0_0x1b487a(0x17c)](_0x36eda1,_0xb4d54e){const _0x2ffe45=a0_0x1b487a;if(this[_0x2ffe45(0x213)][_0x2ffe45(0x49b)](this[_0x2ffe45(0x39e)]+'\x20('+this[_0x2ffe45(0x6e3)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x36eda1||!_0xb4d54e)return this[_0x2ffe45(0x213)][_0x2ffe45(0x519)](this[_0x2ffe45(0x39e)]+'\x20('+this[_0x2ffe45(0x6e3)]['wuid']+_0x2ffe45(0xa7)),null;let _0x2f2c1c=_0xb4d54e['saveVariable'],_0xf276da=_0x36eda1[_0x2ffe45(0x329)][_0x2ffe45(0xb8)][_0x2ffe45(0x2f1)]||_0x36eda1[_0x2ffe45(0x329)][_0x2ffe45(0xb8)][_0x2ffe45(0x5c2)]||_0x36eda1[_0x2ffe45(0x329)][_0x2ffe45(0xb8)][_0x2ffe45(0x499)];try{_0x36eda1[_0x2ffe45(0x329)]['realVariables']||(_0x36eda1[_0x2ffe45(0x329)][_0x2ffe45(0x2d8)]={});let _0x3626d4=_0x36eda1['chatLog'][_0x2ffe45(0x2d8)][_0x2f2c1c];_0x36eda1['chatLog'][_0x2ffe45(0x2d8)][_0x2f2c1c]=_0xf276da;let _0x3441d5={'variable':_0x2f2c1c,'oldValue':_0x3626d4,'newValue':_0xf276da};this['updateConversation'](_0x36eda1,_0xb4d54e,_0x3441d5),this['logger'][_0x2ffe45(0x49b)](this[_0x2ffe45(0x39e)]+'\x20('+this[_0x2ffe45(0x6e3)][_0x2ffe45(0x3b7)]+_0x2ffe45(0xb4));}catch(_0x3d351b){let _0x5130aa={'error':!0x0,'errorLog':_0x3d351b[_0x2ffe45(0x601)]()};return this[_0x2ffe45(0x3ed)](_0x36eda1,_0xb4d54e,_0x5130aa),this[_0x2ffe45(0x213)][_0x2ffe45(0x519)](this[_0x2ffe45(0x39e)]+'\x20('+this['instance'][_0x2ffe45(0x3b7)]+_0x2ffe45(0x67a)+(_0x3d351b instanceof Error?_0x3d351b[_0x2ffe45(0x531)]:JSON[_0x2ffe45(0x11e)](_0x3d351b,null,0x2))),null;}}async['stopConversation'](_0x4d1089,_0x44fd8a){const _0x28e118=a0_0x1b487a;if(this['logger'][_0x28e118(0x49b)](this[_0x28e118(0x39e)]+'\x20('+this[_0x28e118(0x6e3)][_0x28e118(0x3b7)]+_0x28e118(0x210)),!_0x4d1089||!_0x44fd8a)return this['logger']['error'](this[_0x28e118(0x39e)]+'\x20('+this[_0x28e118(0x6e3)]['wuid']+_0x28e118(0xa7)),null;let _0x50feaf=Date[_0x28e118(0x6f)](),_0x33e88e=parseInt(_0x44fd8a[_0x28e118(0x186)],0xa);if(isNaN(_0x33e88e))return this[_0x28e118(0x213)][_0x28e118(0x519)](this['instanceName']+'\x20('+this[_0x28e118(0x6e3)]['wuid']+_0x28e118(0x430)),null;let _0x3c909f={'newStoppedUntil':_0x50feaf+_0x33e88e*0x3c*0x3e8};return await this['updateConversation'](_0x4d1089,_0x44fd8a,_0x3c909f,!0x0),null;}async[a0_0x1b487a(0x686)](_0x91978a,_0x23979e){const _0x302db9=a0_0x1b487a;try{switch(_0x23979e[_0x302db9(0x647)]['command']){case _0x302db9(0x36c):await this[_0x302db9(0x578)](_0x91978a,_0x23979e);break;case'sendMedia':await this[_0x302db9(0x90)](_0x91978a,_0x23979e);break;case'sendLocation':await this[_0x302db9(0x615)](_0x91978a,_0x23979e);break;case _0x302db9(0x4ed):await this[_0x302db9(0x480)](_0x91978a,_0x23979e);break;case _0x302db9(0x6f1):await this[_0x302db9(0x453)](_0x91978a,_0x23979e);break;case'sendPoll':await this['uazapiSendMenu'](_0x91978a,_0x23979e);break;case _0x302db9(0xef):await this[_0x302db9(0x466)](_0x91978a,_0x23979e);break;case _0x302db9(0x38c):await this[_0x302db9(0x4ce)](_0x91978a,_0x23979e);break;default:this[_0x302db9(0x213)][_0x302db9(0x519)](this[_0x302db9(0x39e)]+'\x20('+this['instance'][_0x302db9(0x3b7)]+_0x302db9(0x25e)+_0x23979e[_0x302db9(0x647)][_0x302db9(0x6c)]);}}catch(_0x5986d4){this[_0x302db9(0x213)][_0x302db9(0x519)](this['instanceName']+'\x20('+this[_0x302db9(0x6e3)]['wuid']+_0x302db9(0x3b3)+(_0x5986d4 instanceof Error?_0x5986d4[_0x302db9(0x531)]:JSON[_0x302db9(0x11e)](_0x5986d4,null,0x2)));}}async[a0_0x1b487a(0x3ed)](_0x2ec0a5,_0x250a8c,_0x1ec9ee,_0x201cbe=!0x1,_0x254260=!0x1){const _0x127d3f=a0_0x1b487a;_0x2ec0a5['chatLog'][_0x127d3f(0x1ca)]||(_0x2ec0a5['chatLog'][_0x127d3f(0x1ca)]=[]);let _0xc7a232=(_0x2ec0a5[_0x127d3f(0x329)]['blockLogs']?.[_0x127d3f(0x573)]??0x0)+0x1,_0x1cdc47=_0x2ec0a5['chatLog'][_0x127d3f(0x1ca)][_0x127d3f(0x4ab)](_0x223f02=>String(_0x223f02['blockId'])===String(_0x250a8c[_0x127d3f(0x127)]))[_0x127d3f(0x573)]+0x1,_0x34cdef=_0x1ec9ee?.[_0x127d3f(0x21f)]??Date[_0x127d3f(0x6f)](),_0x3e7c47=_0x1ec9ee?.[_0x127d3f(0x519)]?_0x1ec9ee[_0x127d3f(0x541)]??_0x1ec9ee[_0x127d3f(0x519)][_0x127d3f(0x601)]():void 0x0,_0x287cc3={'onTime':_0x34cdef,'blockId':_0x250a8c['_id'],'order':_0xc7a232,'activatedCount':_0x1cdc47,'error':_0x1ec9ee?.[_0x127d3f(0x519)]??!0x1,'messageId':_0x1ec9ee?.['messageId'],'apiResponse':_0x1ec9ee?.['apiResponse'],'apiResponseString':_0x1ec9ee?.[_0x127d3f(0x2ba)]?JSON[_0x127d3f(0x11e)](_0x1ec9ee?.[_0x127d3f(0x2ba)]):void 0x0,'variable':_0x1ec9ee?.[_0x127d3f(0x358)],'oldValue':_0x1ec9ee?.[_0x127d3f(0x2c0)],'newValue':_0x1ec9ee?.[_0x127d3f(0x319)],'newStoppedUntil':_0x1ec9ee?.['newStoppedUntil'],'moreLogs':_0x1ec9ee?.['moreLogs'],'errorLog':_0x3e7c47};if(_0x1ec9ee['moreLogs']&&_0x1ec9ee[_0x127d3f(0x24a)]['length']>0x0){let _0x37ce85=_0x1ec9ee[_0x127d3f(0x24a)][_0x127d3f(0x381)](_0x4cb70e=>this[_0x127d3f(0x461)](_0x4cb70e,_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0x2d8)]));_0x287cc3[_0x127d3f(0x24a)]=_0x37ce85;}_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0x2d8)]||(_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0x2d8)]={}),_0x2ec0a5[_0x127d3f(0x329)]['realVariables'][_0x127d3f(0x46e)]=String(_0x1cdc47),_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0x2d8)][_0x127d3f(0x6d2)]=String(_0x1ec9ee['error']??!0x1),_0x2ec0a5[_0x127d3f(0x329)]['blockLogs'][_0x127d3f(0xd3)](_0x287cc3),_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0x28b)]=_0x250a8c[_0x127d3f(0x127)]['toString'](),_0x2ec0a5[_0x127d3f(0x329)]['lastSendMessage']&&(_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0xe0)]=_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0xe0)]),_0x2ec0a5[_0x127d3f(0x329)]['lastReceivedMessage']&&(_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0xb8)]=_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0xb8)]),_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0x382)]&&(_0x2ec0a5[_0x127d3f(0x329)]['lastCondition']=_0x2ec0a5[_0x127d3f(0x329)][_0x127d3f(0x382)]),_0x254260&&(_0x2ec0a5['status']=_0x127d3f(0x6e4)),_0x201cbe?this[_0x127d3f(0xc4)](_0x2ec0a5):this[_0x127d3f(0x682)](_0x2ec0a5,_0x250a8c);}[a0_0x1b487a(0x461)](_0x3dd443,_0x8976bc){const _0x52dc88=a0_0x1b487a;return _0x3dd443[_0x52dc88(0x168)](/\{\{([^}]+)\}\}/g,(_0x23c2e4,_0x2a4217)=>_0x8976bc[_0x2a4217]?'{{'+_0x2a4217+'}}\x20->\x20\x22'+_0x8976bc[_0x2a4217]+'\x22':'{{'+_0x2a4217+_0x52dc88(0x418));}async[a0_0x1b487a(0xc4)](_0x4a3180){const _0x29176d=a0_0x1b487a;try{let _0x492745=Object[_0x29176d(0x636)](_0x4a3180[_0x29176d(0x329)]['realVariables'])[_0x29176d(0x381)](([_0x2f2812,_0x3699d2])=>({'name':_0x2f2812,'value':_0x3699d2})),_0x27bfff={'status':_0x4a3180[_0x29176d(0x14f)],'blocks':_0x4a3180['blocks'],'waitingMenu_id':_0x4a3180[_0x29176d(0x56c)],'waitingMenu_text':_0x4a3180[_0x29176d(0xb9)],'waitingMenu_replyOptions':_0x4a3180[_0x29176d(0x2e5)],'chatLog':{'lastBlockId':_0x4a3180[_0x29176d(0x329)][_0x29176d(0x28b)],'lastSendMessage':_0x4a3180[_0x29176d(0x329)]['lastSendMessage'],'lastReceivedMessage':_0x4a3180[_0x29176d(0x329)][_0x29176d(0xb8)],'lastCondition':_0x4a3180[_0x29176d(0x329)][_0x29176d(0x382)],'chatVariables':_0x492745,'realVariables':_0x4a3180['chatLog']['realVariables'],'blockLogs':_0x4a3180[_0x29176d(0x329)][_0x29176d(0x1ca)]}},_0x2efdd4=await this[_0x29176d(0x4d8)]['flowConversation'][_0x29176d(0x4bf)](_0x4a3180[_0x29176d(0x127)],_0x27bfff,this[_0x29176d(0x6e3)][_0x29176d(0x3b7)]);if(_0x2efdd4){this['logger'][_0x29176d(0x49b)](this[_0x29176d(0x39e)]+'\x20('+this['instance'][_0x29176d(0x3b7)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x2efdd4[_0x29176d(0x127)]);try{let _0x4e1bd6=[_0x29176d(0x497),'nomecompleto',_0x29176d(0x4d2),_0x29176d(0x26c),_0x29176d(0x14f),_0x29176d(0x5c7),_0x29176d(0x667),_0x29176d(0x130),_0x29176d(0x532)];if(!this[_0x29176d(0x5a9)]&&(await this[_0x29176d(0x2fe)](),!this['AutomateSystem']))throw new Error(_0x29176d(0x451));let _0xeb14f6=this[_0x29176d(0x5a9)]?.['customFields']['map'](_0x3270a1=>_0x3270a1['name']),_0x5285b1={};Object['entries'](_0x4a3180['chatLog'][_0x29176d(0x2d8)])[_0x29176d(0x6d9)](([_0x3a5351,_0x5b3b11])=>{const _0x18d3d6=_0x29176d;_0x4e1bd6[_0x18d3d6(0x56d)](_0x3a5351)&&(_0x3a5351==='tags'&&typeof _0x5b3b11==_0x18d3d6(0x10a)?_0x5285b1[_0x3a5351]=_0x5b3b11[_0x18d3d6(0x4b1)](',')[_0x18d3d6(0x381)](_0x535022=>_0x535022[_0x18d3d6(0x328)]())['filter'](_0x4f34f8=>_0x4f34f8!==''):_0x3a5351==='etiquetas'&&typeof _0x5b3b11==_0x18d3d6(0x10a)?_0x5285b1[_0x3a5351]=_0x5b3b11[_0x18d3d6(0x4b1)](',')['map'](_0x4b0a10=>_0x4b0a10[_0x18d3d6(0x328)]())['filter'](_0x5942f8=>_0x5942f8!==''):_0x5285b1[_0x3a5351]=_0x5b3b11);});let _0x125b25=_0x4a3180[_0x29176d(0x329)]['blockLogs'][_0x4a3180[_0x29176d(0x329)][_0x29176d(0x1ca)]['length']-0x1];if(_0x125b25){let _0x30866b=_0x125b25[_0x29176d(0x46a)];_0x30866b!==void 0x0&&(_0x5285b1[_0x29176d(0x385)]=_0x30866b[_0x29176d(0x601)]());}let _0x395e98=_0x492745['filter'](_0x4b3836=>_0xeb14f6[_0x29176d(0x56d)](_0x4b3836[_0x29176d(0x69e)]));this[_0x29176d(0x213)][_0x29176d(0x49b)](this['instanceName']+'\x20('+this[_0x29176d(0x6e3)][_0x29176d(0x3b7)]+_0x29176d(0x6dc)),this['logger']['verbose'](_0x5285b1),this['logger'][_0x29176d(0x49b)](this[_0x29176d(0x39e)]+'\x20('+this[_0x29176d(0x6e3)][_0x29176d(0x3b7)]+_0x29176d(0x159)),this['logger'][_0x29176d(0x49b)](_0x395e98);let _0x3ef82d=_0x395e98['map'](_0x336920=>{const _0xbef151=_0x29176d;let _0x51b785=this[_0xbef151(0x5a9)]?.[_0xbef151(0x13a)]['find'](_0x4452db=>_0x4452db['name']===_0x336920['name']);if(!_0x51b785)throw new Error(_0xbef151(0x553)+_0x336920[_0xbef151(0x69e)]);return{'_id':_0x51b785[_0xbef151(0x127)],'value':_0x336920[_0xbef151(0x68c)]};});this[_0x29176d(0x213)][_0x29176d(0x49b)](this['instanceName']+'\x20('+this[_0x29176d(0x6e3)][_0x29176d(0x3b7)]+_0x29176d(0x12d)),this[_0x29176d(0x213)][_0x29176d(0x49b)](_0x3ef82d),await this['saveChatVariables'](_0x4a3180[_0x29176d(0x38f)],_0x5285b1,_0x3ef82d);}catch(_0x49db8){this[_0x29176d(0x213)]['error'](this['instanceName']+'\x20('+this[_0x29176d(0x6e3)][_0x29176d(0x3b7)]+_0x29176d(0x1c5)+(_0x49db8 instanceof Error?_0x49db8[_0x29176d(0x531)]:JSON['stringify'](_0x49db8,null,0x2)));}}else this[_0x29176d(0x213)][_0x29176d(0x519)](this[_0x29176d(0x39e)]+'\x20('+this[_0x29176d(0x6e3)][_0x29176d(0x3b7)]+_0x29176d(0x68b));}catch(_0xb5f501){this[_0x29176d(0x213)]['error'](this[_0x29176d(0x39e)]+'\x20('+this[_0x29176d(0x6e3)][_0x29176d(0x3b7)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0xb5f501 instanceof Error?_0xb5f501[_0x29176d(0x531)]:JSON[_0x29176d(0x11e)](_0xb5f501,null,0x2)));}}async[a0_0x1b487a(0x644)](_0x2cd3f,_0x417fd8,_0x303796){const _0x35bcbb=a0_0x1b487a;try{let _0x3bc19a={'leadInfo.leadnome':_0x417fd8[_0x35bcbb(0x497)],'leadInfo.nomecompleto':_0x417fd8['nomecompleto'],'leadInfo.email':_0x417fd8[_0x35bcbb(0x4d2)],'leadInfo.cpf':_0x417fd8[_0x35bcbb(0x26c)],'leadInfo.status':_0x417fd8['status'],'leadInfo.notas':_0x417fd8['notas'],'leadInfo.responsavelid':_0x417fd8['responsavelid'],'leadInfo.tags':_0x417fd8[_0x35bcbb(0x130)],'leadInfo.etiquetas':_0x417fd8[_0x35bcbb(0x532)],'leadInfo.customFields':_0x303796},_0x1174e1=await this[_0x35bcbb(0x4d8)][_0x35bcbb(0x23d)][_0x35bcbb(0x547)]({'where':{'_id':_0x2cd3f}},this[_0x35bcbb(0x6e3)][_0x35bcbb(0x3b7)]),_0x6128b5=new Set(_0x1174e1[_0x35bcbb(0x1ce)][_0x35bcbb(0x532)]||[]),_0x4d2d19=new Set(_0x417fd8[_0x35bcbb(0x532)]||[]),_0x3b8baf=await this['repository'][_0x35bcbb(0xa1)]['find']({'where':{}},this['instance'][_0x35bcbb(0x3b7)]),_0x1ba5a8=new Set(_0x3b8baf[_0x35bcbb(0x381)](_0x56f8d2=>_0x56f8d2[_0x35bcbb(0x127)])),_0x295434=[..._0x4d2d19]['filter'](_0x5f5539=>!_0x6128b5['has'](_0x5f5539)&&_0x1ba5a8[_0x35bcbb(0x2c1)](_0x5f5539)),_0x4a0e4e=[..._0x6128b5][_0x35bcbb(0x4ab)](_0x135ff2=>!_0x4d2d19['has'](_0x135ff2));for(let _0x2bf62f of _0x295434)await this[_0x35bcbb(0x49f)](_0x2bf62f,_0x1174e1['_id']),_0x6128b5[_0x35bcbb(0x3f9)](_0x2bf62f);for(let _0x2d9485 of _0x4a0e4e)await this['RemoveChatLabel'](_0x2d9485,_0x1174e1[_0x35bcbb(0x127)]),_0x6128b5[_0x35bcbb(0x522)](_0x2d9485);if(_0x35bcbb(0x385)in _0x417fd8){let _0x1baf14=_0x417fd8[_0x35bcbb(0x385)];_0x3bc19a[_0x35bcbb(0x6b)]=_0x1baf14?Number(_0x1baf14):null;}let _0xe3c448=await this[_0x35bcbb(0x4d8)][_0x35bcbb(0x23d)][_0x35bcbb(0x4bf)]({'where':{'_id':_0x2cd3f}},_0x3bc19a,this[_0x35bcbb(0x6e3)][_0x35bcbb(0x3b7)]);_0xe3c448?(this[_0x35bcbb(0x213)][_0x35bcbb(0x49b)](this[_0x35bcbb(0x39e)]+'\x20('+this[_0x35bcbb(0x6e3)][_0x35bcbb(0x3b7)]+_0x35bcbb(0x29e)+_0xe3c448[_0x35bcbb(0x127)]),q(this['instanceName'],_0x35bcbb(0x105),{'chat':_0xe3c448})):this[_0x35bcbb(0x213)]['error'](this['instanceName']+'\x20('+this[_0x35bcbb(0x6e3)][_0x35bcbb(0x3b7)]+_0x35bcbb(0x3bb));}catch(_0x1fe2ba){this[_0x35bcbb(0x213)][_0x35bcbb(0x519)](this['instanceName']+'\x20('+this[_0x35bcbb(0x6e3)][_0x35bcbb(0x3b7)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x1fe2ba instanceof Error?_0x1fe2ba[_0x35bcbb(0x531)]:JSON[_0x35bcbb(0x11e)](_0x1fe2ba,null,0x2)));}}async[a0_0x1b487a(0x176)](_0x15c47f,_0x526d85){const _0x4e5a36=a0_0x1b487a;this['logger']['verbose'](this[_0x4e5a36(0x39e)]+'\x20('+this['instance'][_0x4e5a36(0x3b7)]+_0x4e5a36(0x365)+_0x526d85);try{let _0x4c4eae=await this[_0x4e5a36(0x4d8)][_0x4e5a36(0x23d)][_0x4e5a36(0x4bf)]({'where':{'_id':_0x15c47f[_0x4e5a36(0x38f)]}},{'leadInfo.desativadoFluxoAte':_0x526d85},this[_0x4e5a36(0x6e3)]['wuid']);this['logger'][_0x4e5a36(0x49b)](this['instanceName']+'\x20('+this[_0x4e5a36(0x6e3)]['wuid']+_0x4e5a36(0x40a)+_0x15c47f[_0x4e5a36(0x127)]),this[_0x4e5a36(0x213)]['verbose'](this['instanceName']+'\x20('+this[_0x4e5a36(0x6e3)][_0x4e5a36(0x3b7)]+_0x4e5a36(0x365)+JSON[_0x4e5a36(0x11e)](_0x4c4eae,null,0x2)),_0x4c4eae&&q(this[_0x4e5a36(0x39e)],_0x4e5a36(0x105),{'chat':_0x4c4eae});}catch(_0x218203){this[_0x4e5a36(0x213)]['error'](this[_0x4e5a36(0x39e)]+'\x20('+this['instance'][_0x4e5a36(0x3b7)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x218203 instanceof Error?_0x218203[_0x4e5a36(0x531)]:JSON[_0x4e5a36(0x11e)](_0x218203,null,0x2)));}}async[a0_0x1b487a(0x67d)](_0x3771ca){const _0x4ae878=a0_0x1b487a;try{this[_0x4ae878(0x213)][_0x4ae878(0x49b)](this[_0x4ae878(0x39e)]+'\x20('+this[_0x4ae878(0x6e3)]['wuid']+_0x4ae878(0x6b9));let _0x14b9d1=_0x3771ca[_0x4ae878(0x168)](/\D/g,''),_0x5a0940=await this[_0x4ae878(0x4d8)][_0x4ae878(0x3c5)]['findOne']({'where':{'testingWith':_0x14b9d1}},this[_0x4ae878(0x6e3)]['wuid']);return _0x5a0940||(this[_0x4ae878(0x213)][_0x4ae878(0x49b)](this[_0x4ae878(0x39e)]+'\x20('+this[_0x4ae878(0x6e3)][_0x4ae878(0x3b7)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x5a0940=await this[_0x4ae878(0x4d8)][_0x4ae878(0x3c5)][_0x4ae878(0x547)]({'where':{'default':!0x0}},this[_0x4ae878(0x6e3)][_0x4ae878(0x3b7)])),_0x5a0940||(this[_0x4ae878(0x213)][_0x4ae878(0x49b)](this[_0x4ae878(0x39e)]+'\x20('+this[_0x4ae878(0x6e3)][_0x4ae878(0x3b7)]+_0x4ae878(0x291)),null);}catch(_0x4dbf9e){return this['logger'][_0x4ae878(0x519)](this[_0x4ae878(0x39e)]+'\x20('+this[_0x4ae878(0x6e3)][_0x4ae878(0x3b7)]+_0x4ae878(0x34e)+(_0x4dbf9e instanceof Error?_0x4dbf9e[_0x4ae878(0x531)]:JSON[_0x4ae878(0x11e)](_0x4dbf9e,null,0x2))),null;}}async['findConversation'](_0x3e15ca,_0x11bfcd){const _0x57da6c=a0_0x1b487a;try{let _0x381ba4=!!_0x11bfcd[_0x57da6c(0x499)],_0x302c34=_0x11bfcd[_0x57da6c(0x4d0)],_0x2ffb23=null;if(this[_0x57da6c(0x213)]['verbose'](this[_0x57da6c(0x39e)]+'\x20('+this[_0x57da6c(0x6e3)][_0x57da6c(0x3b7)]+'):\x20isVote:\x20'+_0x381ba4+'\x20quoted:\x20'+_0x302c34),_0x381ba4){this[_0x57da6c(0x213)][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this[_0x57da6c(0x6e3)][_0x57da6c(0x3b7)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x41fe3c={'where':{'remoteJid':_0x3e15ca,'waitingMenu_id':_0x302c34}};if(_0x2ffb23=await this[_0x57da6c(0x4d8)][_0x57da6c(0x571)][_0x57da6c(0x547)](_0x41fe3c,this['instance'][_0x57da6c(0x3b7)]),!_0x2ffb23)return this[_0x57da6c(0x213)][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this['instance'][_0x57da6c(0x3b7)]+_0x57da6c(0x177)),null;let _0x3edb43=Date[_0x57da6c(0x6f)](),_0x56fa2a=_0x2ffb23?.[_0x57da6c(0x1c3)]||0x0,_0x413eb8=_0x3edb43-_0x56fa2a*0x3c*0x3e8;if(_0x2ffb23[_0x57da6c(0x89)]<_0x413eb8){this[_0x57da6c(0x213)][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this[_0x57da6c(0x6e3)]['wuid']+_0x57da6c(0x50b));let _0x3accae={'number':_0x2ffb23[_0x57da6c(0x38f)],'options':{'delay':0x0},'textMessage':{'text':_0x2ffb23['waitingMenu_ExpiredMessage']}};await this[_0x57da6c(0x6b0)](_0x3accae);let _0x1e91dc={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x57da6c(0x4d8)][_0x57da6c(0x571)][_0x57da6c(0x4bf)](_0x2ffb23[_0x57da6c(0x127)],_0x1e91dc,this[_0x57da6c(0x6e3)]['wuid']),null;}return _0x2ffb23['lastInteraction']=Date[_0x57da6c(0x6f)](),_0x2ffb23[_0x57da6c(0x329)][_0x57da6c(0xb8)]=_0x11bfcd,_0x2ffb23;}else{this['logger'][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this['instance'][_0x57da6c(0x3b7)]+_0x57da6c(0x6b6)+this['instance']['wuid']+_0x57da6c(0x41a)),this[_0x57da6c(0x213)][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this['instance'][_0x57da6c(0x3b7)]+_0x57da6c(0x4cd));let _0x24d79d={'where':{'remoteJid':_0x3e15ca,'status':_0x57da6c(0x2fd)}};if(_0x2ffb23=await this[_0x57da6c(0x4d8)]['flowConversation'][_0x57da6c(0x547)](_0x24d79d,this[_0x57da6c(0x6e3)][_0x57da6c(0x3b7)]),!_0x2ffb23){let _0x53ca34=await this[_0x57da6c(0x67d)](_0x3e15ca);if(_0x53ca34&&(_0x2ffb23=await this['createNewConversation'](_0x53ca34,_0x11bfcd[_0x57da6c(0xff)],_0x11bfcd)),!_0x2ffb23)return null;}let _0x187289=Date[_0x57da6c(0x6f)](),_0xdac0b4=_0x2ffb23?.['minutesToClose']||0x0,_0x30566c=_0x187289-_0xdac0b4*0x3c*0x3e8;if(this['logger'][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this['instance'][_0x57da6c(0x3b7)]+'):\x20Current\x20Time:\x20'+_0x187289+_0x57da6c(0x585)+_0xdac0b4+_0x57da6c(0x545)+_0x30566c),this[_0x57da6c(0x213)][_0x57da6c(0x49b)](this['instanceName']+'\x20('+this[_0x57da6c(0x6e3)][_0x57da6c(0x3b7)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x57da6c(0x213)][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this['instance'][_0x57da6c(0x3b7)]+_0x57da6c(0x25c)+_0x2ffb23[_0x57da6c(0x89)]),this[_0x57da6c(0x213)]['verbose'](this[_0x57da6c(0x39e)]+'\x20('+this[_0x57da6c(0x6e3)][_0x57da6c(0x3b7)]+_0x57da6c(0x4de)+_0x30566c),_0x2ffb23[_0x57da6c(0x89)]<_0x30566c){this['logger'][_0x57da6c(0x49b)](this[_0x57da6c(0x39e)]+'\x20('+this['instance'][_0x57da6c(0x3b7)]+_0x57da6c(0x500));let _0x200ef3=await this['findFlow'](_0x3e15ca);if(_0x200ef3===null)return null;_0x2ffb23&&await this['repository'][_0x57da6c(0x571)]['updateOne'](_0x2ffb23[_0x57da6c(0x127)],{'status':'closed'},this['instance']['wuid']),_0x2ffb23=await this[_0x57da6c(0x439)](_0x200ef3,_0x11bfcd[_0x57da6c(0xff)],_0x11bfcd);}return _0x2ffb23[_0x57da6c(0x89)]=_0x187289,_0x2ffb23[_0x57da6c(0x329)]['lastReceivedMessage']=_0x11bfcd,_0x2ffb23;}}catch(_0x32b387){return this[_0x57da6c(0x213)][_0x57da6c(0x519)](this[_0x57da6c(0x39e)]+'\x20('+this[_0x57da6c(0x6e3)]['wuid']+_0x57da6c(0x1b3)+(_0x32b387 instanceof Error?_0x32b387[_0x57da6c(0x531)]:JSON[_0x57da6c(0x11e)](_0x32b387,null,0x2))),null;}}async[a0_0x1b487a(0x439)](_0x1ec4eb,_0x49efa6,_0x3555cb){const _0x3ede4b=a0_0x1b487a;this['logger'][_0x3ede4b(0x49b)](this['instanceName']+'\x20('+this[_0x3ede4b(0x6e3)][_0x3ede4b(0x3b7)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x5a43b3=require(_0x3ede4b(0xbb))[_0x3ede4b(0x40d)],_0x281236=Date[_0x3ede4b(0x6f)](),_0x456253='start',_0x96e5f=_0x49efa6[_0x3ede4b(0x19a)]?null:_0x3555cb,_0x279966=_0x49efa6[_0x3ede4b(0x19a)]?_0x3555cb:null,_0x2bf3ec=_0x49efa6['remoteJid'];await this[_0x3ede4b(0x27d)](_0x2bf3ec);let _0x17197c={..._0x1ec4eb,'chatLog':null},_0x17ce61=await this[_0x3ede4b(0x36d)](_0x17197c[_0x3ede4b(0x224)]),_0xd32879=await this['getVariablesChat'](_0x2bf3ec),_0x3f0bf3={..._0x17ce61,..._0xd32879,'_remoteJid':_0x2bf3ec},_0x4b6034={'lastReceivedMessage':_0x96e5f,'lastSendMessage':_0x279966,'lastBlockId':_0x456253,'lastCondition':!0x0,'realVariables':_0x3f0bf3};_0x17197c['chatLog']=_0x4b6034,delete _0x17197c[_0x3ede4b(0x127)],_0x17197c[_0x3ede4b(0x127)]=new _0x5a43b3(),_0x17197c['lastInteraction']=_0x281236,_0x17197c[_0x3ede4b(0x14f)]=_0x3ede4b(0x2fd),_0x17197c['remoteJid']=_0x2bf3ec;let _0x2bb33c=await this[_0x3ede4b(0x4d8)][_0x3ede4b(0x571)][_0x3ede4b(0x4bf)](_0x17197c[_0x3ede4b(0x127)],_0x17197c,this[_0x3ede4b(0x6e3)]['wuid']);return this['logger'][_0x3ede4b(0x49b)](this[_0x3ede4b(0x39e)]+'\x20('+this['instance']['wuid']+_0x3ede4b(0x5a2)),_0x2bb33c?_0x17197c:null;}catch(_0x584472){return this[_0x3ede4b(0x213)][_0x3ede4b(0x519)](this[_0x3ede4b(0x39e)]+'\x20('+this[_0x3ede4b(0x6e3)][_0x3ede4b(0x3b7)]+_0x3ede4b(0xc6)+(_0x584472 instanceof Error?_0x584472[_0x3ede4b(0x531)]:JSON[_0x3ede4b(0x11e)](_0x584472,null,0x2))),_0x584472;}}async[a0_0x1b487a(0x578)](_0xd87046,_0x29ddf5){const _0x2d3db9=a0_0x1b487a;let _0x3f3f10=_0xd87046[_0x2d3db9(0x38f)];_0x29ddf5[_0x2d3db9(0x647)][_0x2d3db9(0x38f)]&&_0x29ddf5['uazapi'][_0x2d3db9(0x38f)][_0x2d3db9(0x328)]()!==''&&(_0x3f3f10=_0x29ddf5[_0x2d3db9(0x647)]['remoteJid'][_0x2d3db9(0x328)]()),this[_0x2d3db9(0x213)][_0x2d3db9(0x49b)](this[_0x2d3db9(0x39e)]+'\x20('+this['instance'][_0x2d3db9(0x3b7)]+_0x2d3db9(0x50a));let _0x3df5e6={'number':_0x3f3f10,'options':{'delay':_0x29ddf5[_0x2d3db9(0x647)]['delay']},'textMessage':{'text':_0x29ddf5[_0x2d3db9(0x647)][_0x2d3db9(0x2f1)]}};try{let _0x382c7d=await this[_0x2d3db9(0x6b0)](_0x3df5e6);if(_0x382c7d){let _0x257b6d={'_id':_0x382c7d[_0x2d3db9(0xff)]['id'],'_fromMe':_0x382c7d['key']['fromMe'],'_remoteJid':_0x382c7d[_0x2d3db9(0xff)][_0x2d3db9(0x38f)]},_0x460114=(0x0,g[_0x2d3db9(0x491)])(_0x382c7d[_0x2d3db9(0x531)]),_0x50600a=(0x0,g[_0x2d3db9(0x419)])(_0x460114);_0xd87046[_0x2d3db9(0x329)][_0x2d3db9(0x28b)]=_0x29ddf5[_0x2d3db9(0x127)][_0x2d3db9(0x601)]();let {message_normalized:_0x5decc1}=this[_0x2d3db9(0x444)](_0x460114,_0x50600a,null);_0xd87046[_0x2d3db9(0x329)][_0x2d3db9(0xe0)]=await _0x5decc1;let _0x76e459={'messageId':_0x382c7d['key']['id']},_0x33a9ab=_0xd87046[_0x2d3db9(0x329)][_0x2d3db9(0x2d8)];Object[_0x2d3db9(0x4bc)](_0x33a9ab,_0x257b6d),_0xd87046['chatLog'][_0x2d3db9(0x2d8)]=_0x33a9ab,this[_0x2d3db9(0x3ed)](_0xd87046,_0x29ddf5,_0x76e459);}else{let _0x3844b7={'error':!0x0};this[_0x2d3db9(0x3ed)](_0xd87046,_0x29ddf5,_0x3844b7),this[_0x2d3db9(0x213)]['error'](this[_0x2d3db9(0x39e)]+'\x20('+this['instance']['wuid']+_0x2d3db9(0x7b));}}catch(_0xe7b6d){let _0x2668de={'error':!0x0,'errorLog':_0xe7b6d[_0x2d3db9(0x601)]()};this[_0x2d3db9(0x3ed)](_0xd87046,_0x29ddf5,_0x2668de),this[_0x2d3db9(0x213)][_0x2d3db9(0x519)](this[_0x2d3db9(0x39e)]+'\x20('+this[_0x2d3db9(0x6e3)][_0x2d3db9(0x3b7)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0xe7b6d instanceof Error?_0xe7b6d['message']:JSON[_0x2d3db9(0x11e)](_0xe7b6d,null,0x2)));}}async[a0_0x1b487a(0x90)](_0x23b62e,_0x3621d6){const _0x20afcc=a0_0x1b487a;let _0x2ffafa=_0x23b62e[_0x20afcc(0x38f)];_0x3621d6['uazapi'][_0x20afcc(0x38f)]&&_0x3621d6[_0x20afcc(0x647)][_0x20afcc(0x38f)][_0x20afcc(0x328)]()!==''&&(_0x2ffafa=_0x3621d6[_0x20afcc(0x647)][_0x20afcc(0x38f)][_0x20afcc(0x328)]()),this[_0x20afcc(0x213)][_0x20afcc(0x49b)](this[_0x20afcc(0x39e)]+'\x20('+this[_0x20afcc(0x6e3)][_0x20afcc(0x3b7)]+_0x20afcc(0x180));let _0x5c1b5f={'number':_0x2ffafa,'options':{'delay':_0x3621d6[_0x20afcc(0x647)][_0x20afcc(0x12a)]},'mediaMessage':{'mediatype':_0x3621d6[_0x20afcc(0x647)][_0x20afcc(0x5b6)],'caption':_0x3621d6[_0x20afcc(0x647)]['caption'],'media':_0x3621d6[_0x20afcc(0x647)][_0x20afcc(0x3ea)],'fileName':_0x3621d6[_0x20afcc(0x647)][_0x20afcc(0x3ec)]}};try{let _0x22a131=await this[_0x20afcc(0x65a)](_0x5c1b5f);if(_0x22a131){let _0x2947b6={'_id':_0x22a131[_0x20afcc(0xff)]['id'],'_fromMe':_0x22a131['key'][_0x20afcc(0x19a)],'_remoteJid':_0x22a131[_0x20afcc(0xff)][_0x20afcc(0x38f)]},_0x5949ac=(0x0,g[_0x20afcc(0x491)])(_0x22a131[_0x20afcc(0x531)]),_0x1b34be=(0x0,g[_0x20afcc(0x419)])(_0x5949ac);_0x23b62e[_0x20afcc(0x329)][_0x20afcc(0x28b)]=_0x3621d6[_0x20afcc(0x127)]['toString']();let {message_normalized:_0x557f14}=this[_0x20afcc(0x444)](_0x5949ac,_0x1b34be,null);_0x23b62e[_0x20afcc(0x329)][_0x20afcc(0xe0)]=await _0x557f14;let _0x35df78={'messageId':_0x22a131[_0x20afcc(0xff)]['id']},_0x5ddab5=_0x23b62e[_0x20afcc(0x329)][_0x20afcc(0x2d8)];Object[_0x20afcc(0x4bc)](_0x5ddab5,_0x2947b6),_0x23b62e['chatLog'][_0x20afcc(0x2d8)]=_0x5ddab5,this['updateConversation'](_0x23b62e,_0x3621d6,_0x35df78);}else{let _0x1cbfd9={'error':!0x0};this[_0x20afcc(0x3ed)](_0x23b62e,_0x3621d6,_0x1cbfd9),this[_0x20afcc(0x213)][_0x20afcc(0x519)](this[_0x20afcc(0x39e)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x534d1d){let _0x1119f6={'error':!0x0,'errorLog':_0x534d1d[_0x20afcc(0x601)]()};this['updateConversation'](_0x23b62e,_0x3621d6,_0x1119f6),this[_0x20afcc(0x213)][_0x20afcc(0x519)](this[_0x20afcc(0x39e)]+'\x20('+this[_0x20afcc(0x6e3)]['wuid']+_0x20afcc(0x2cc)+(_0x534d1d instanceof Error?_0x534d1d['message']:JSON[_0x20afcc(0x11e)](_0x534d1d,null,0x2)));}}async['uazapiSendLocation'](_0x29bf66,_0x8d43ed){const _0x5c8f5c=a0_0x1b487a;let _0x52a178=_0x29bf66[_0x5c8f5c(0x38f)];_0x8d43ed[_0x5c8f5c(0x647)][_0x5c8f5c(0x38f)]&&_0x8d43ed['uazapi'][_0x5c8f5c(0x38f)][_0x5c8f5c(0x328)]()!==''&&(_0x52a178=_0x8d43ed[_0x5c8f5c(0x647)][_0x5c8f5c(0x38f)][_0x5c8f5c(0x328)]()),this[_0x5c8f5c(0x213)]['verbose'](this['instanceName']+'\x20('+this[_0x5c8f5c(0x6e3)]['wuid']+_0x5c8f5c(0x6b2));let _0x2fbfd7={'number':_0x52a178,'options':{'delay':_0x8d43ed['uazapi']['delay']},'locationMessage':{'name':_0x8d43ed[_0x5c8f5c(0x647)][_0x5c8f5c(0x69e)],'address':_0x8d43ed[_0x5c8f5c(0x647)]['address'],'latitude':_0x8d43ed['uazapi'][_0x5c8f5c(0x28e)],'longitude':_0x8d43ed['uazapi']['longitude']}};try{let _0x243a55=await this[_0x5c8f5c(0x5e2)](_0x2fbfd7);if(_0x243a55){let _0x3f0cb6={'_id':_0x243a55[_0x5c8f5c(0xff)]['id'],'_fromMe':_0x243a55[_0x5c8f5c(0xff)][_0x5c8f5c(0x19a)],'_remoteJid':_0x243a55['key'][_0x5c8f5c(0x38f)]},_0x3ba820=(0x0,g[_0x5c8f5c(0x491)])(_0x243a55[_0x5c8f5c(0x531)]),_0x3b7ca2=(0x0,g[_0x5c8f5c(0x419)])(_0x3ba820);_0x29bf66[_0x5c8f5c(0x329)][_0x5c8f5c(0x28b)]=_0x8d43ed[_0x5c8f5c(0x127)]['toString']();let {message_normalized:_0x44ee55}=this[_0x5c8f5c(0x444)](_0x3ba820,_0x3b7ca2,null);_0x29bf66[_0x5c8f5c(0x329)]['lastSendMessage']=await _0x44ee55;let _0x3b2a46={'messageId':_0x243a55['key']['id']},_0x391918=_0x29bf66[_0x5c8f5c(0x329)][_0x5c8f5c(0x2d8)];Object[_0x5c8f5c(0x4bc)](_0x391918,_0x3f0cb6),_0x29bf66[_0x5c8f5c(0x329)][_0x5c8f5c(0x2d8)]=_0x391918,this[_0x5c8f5c(0x3ed)](_0x29bf66,_0x8d43ed,_0x3b2a46);}else{let _0x2039e0={'error':!0x0};this['updateConversation'](_0x29bf66,_0x8d43ed,_0x2039e0),this[_0x5c8f5c(0x213)][_0x5c8f5c(0x519)](this[_0x5c8f5c(0x39e)]+'\x20('+this[_0x5c8f5c(0x6e3)][_0x5c8f5c(0x3b7)]+_0x5c8f5c(0x1e2));}}catch(_0x5cd4b9){let _0x4803d4={'error':!0x0,'errorLog':_0x5cd4b9['toString']()};this['updateConversation'](_0x29bf66,_0x8d43ed,_0x4803d4),this['logger'][_0x5c8f5c(0x519)](this[_0x5c8f5c(0x39e)]+'\x20('+this[_0x5c8f5c(0x6e3)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x5cd4b9 instanceof Error?_0x5cd4b9[_0x5c8f5c(0x531)]:JSON[_0x5c8f5c(0x11e)](_0x5cd4b9,null,0x2)));}}async[a0_0x1b487a(0x480)](_0x46c2b4,_0x55d325){const _0x46228e=a0_0x1b487a;let _0x4f1596=_0x46c2b4[_0x46228e(0x38f)];_0x55d325[_0x46228e(0x647)][_0x46228e(0x38f)]&&_0x55d325[_0x46228e(0x647)][_0x46228e(0x38f)][_0x46228e(0x328)]()!==''&&(_0x4f1596=_0x55d325[_0x46228e(0x647)][_0x46228e(0x38f)]['trim']()),this['logger'][_0x46228e(0x49b)](this['instanceName']+'\x20('+this[_0x46228e(0x6e3)][_0x46228e(0x3b7)]+_0x46228e(0x53e));let _0x534258={'number':_0x4f1596,'options':{'delay':_0x55d325[_0x46228e(0x647)][_0x46228e(0x12a)]},'audioMessage':{'audio':_0x55d325[_0x46228e(0x647)]['audio']}};try{let _0x53dda1=await this['audioWhatsapp'](_0x534258);if(_0x53dda1){let _0x4a3282={'_id':_0x53dda1[_0x46228e(0xff)]['id'],'_fromMe':_0x53dda1[_0x46228e(0xff)]['fromMe'],'_remoteJid':_0x53dda1[_0x46228e(0xff)][_0x46228e(0x38f)]},_0x3dfec1=(0x0,g[_0x46228e(0x491)])(_0x53dda1[_0x46228e(0x531)]),_0x17a1c2=(0x0,g['getContentType'])(_0x3dfec1);_0x46c2b4[_0x46228e(0x329)][_0x46228e(0x28b)]=_0x55d325[_0x46228e(0x127)][_0x46228e(0x601)]();let {message_normalized:_0x71c8ae}=this['normalizeMessage'](_0x3dfec1,_0x17a1c2,null);_0x46c2b4[_0x46228e(0x329)][_0x46228e(0xe0)]=await _0x71c8ae;let _0x30b143={'messageId':_0x53dda1['key']['id']},_0x38ce6f=_0x46c2b4[_0x46228e(0x329)][_0x46228e(0x2d8)];Object[_0x46228e(0x4bc)](_0x38ce6f,_0x4a3282),_0x46c2b4[_0x46228e(0x329)][_0x46228e(0x2d8)]=_0x38ce6f,this[_0x46228e(0x3ed)](_0x46c2b4,_0x55d325,_0x30b143);}else{let _0x45295a={'error':!0x0};this[_0x46228e(0x3ed)](_0x46c2b4,_0x55d325,_0x45295a),this[_0x46228e(0x213)][_0x46228e(0x519)](this[_0x46228e(0x39e)]+'\x20('+this[_0x46228e(0x6e3)][_0x46228e(0x3b7)]+_0x46228e(0x114));}}catch(_0x1c07a6){let _0x59172d={'error':!0x0,'errorLog':_0x1c07a6['toString']()};this['updateConversation'](_0x46c2b4,_0x55d325,_0x59172d),this[_0x46228e(0x213)][_0x46228e(0x519)](this[_0x46228e(0x39e)]+'\x20('+this[_0x46228e(0x6e3)]['wuid']+_0x46228e(0x36e)+(_0x1c07a6 instanceof Error?_0x1c07a6[_0x46228e(0x531)]:JSON[_0x46228e(0x11e)](_0x1c07a6,null,0x2)));}}async[a0_0x1b487a(0x453)](_0x209857,_0x180fe8){const _0x4b9776=a0_0x1b487a;let _0xa5e4d=_0x209857['remoteJid'];_0x180fe8[_0x4b9776(0x647)][_0x4b9776(0x38f)]&&_0x180fe8[_0x4b9776(0x647)][_0x4b9776(0x38f)][_0x4b9776(0x328)]()!==''&&(_0xa5e4d=_0x180fe8[_0x4b9776(0x647)]['remoteJid'][_0x4b9776(0x328)]()),this[_0x4b9776(0x213)][_0x4b9776(0x49b)](this[_0x4b9776(0x39e)]+'\x20('+this[_0x4b9776(0x6e3)][_0x4b9776(0x3b7)]+'):\x20Enviando\x20contato');let _0x25e946={'number':_0xa5e4d,'options':{'delay':_0x180fe8[_0x4b9776(0x647)]['delay']},'contactMessage':[{'fullName':_0x180fe8[_0x4b9776(0x647)][_0x4b9776(0x2be)],'phoneNumber':_0x180fe8[_0x4b9776(0x647)][_0x4b9776(0x3a7)]}]};try{let _0x54cde2=await this[_0x4b9776(0x683)](_0x25e946);if(_0x54cde2){let _0xa2c449={'_id':_0x54cde2[_0x4b9776(0xff)]['id'],'_fromMe':_0x54cde2[_0x4b9776(0xff)][_0x4b9776(0x19a)],'_remoteJid':_0x54cde2[_0x4b9776(0xff)]['remoteJid']},_0x1b0354=(0x0,g[_0x4b9776(0x491)])(_0x54cde2[_0x4b9776(0x531)]),_0x5db72c=(0x0,g[_0x4b9776(0x419)])(_0x1b0354);_0x209857[_0x4b9776(0x329)][_0x4b9776(0x28b)]=_0x180fe8[_0x4b9776(0x127)][_0x4b9776(0x601)]();let {message_normalized:_0x576b70}=this[_0x4b9776(0x444)](_0x1b0354,_0x5db72c,null);_0x209857[_0x4b9776(0x329)][_0x4b9776(0xe0)]=await _0x576b70;let _0x1b788e={'messageId':_0x54cde2[_0x4b9776(0xff)]['id']},_0x10752c=_0x209857['chatLog'][_0x4b9776(0x2d8)];Object['assign'](_0x10752c,_0xa2c449),_0x209857[_0x4b9776(0x329)][_0x4b9776(0x2d8)]=_0x10752c,this[_0x4b9776(0x3ed)](_0x209857,_0x180fe8,_0x1b788e);}else{let _0x3a4879={'error':!0x0};this[_0x4b9776(0x3ed)](_0x209857,_0x180fe8,_0x3a4879),this[_0x4b9776(0x213)][_0x4b9776(0x519)](this['instanceName']+'\x20('+this[_0x4b9776(0x6e3)][_0x4b9776(0x3b7)]+_0x4b9776(0x5ed));}}catch(_0x45d590){let _0x41ffaf={'error':!0x0,'errorLog':_0x45d590[_0x4b9776(0x601)]()};this[_0x4b9776(0x3ed)](_0x209857,_0x180fe8,_0x41ffaf),this[_0x4b9776(0x213)][_0x4b9776(0x519)](this[_0x4b9776(0x39e)]+'\x20('+this[_0x4b9776(0x6e3)][_0x4b9776(0x3b7)]+_0x4b9776(0xb5)+(_0x45d590 instanceof Error?_0x45d590['message']:JSON[_0x4b9776(0x11e)](_0x45d590,null,0x2)));}}[a0_0x1b487a(0xc3)](_0x205472,_0x842e8e){const _0x43600b=a0_0x1b487a;for(let _0x3b9055 of _0x205472)_0x3b9055['option']&&(_0x3b9055[_0x43600b(0x3eb)]=this[_0x43600b(0x4b0)](_0x3b9055['option'],_0x842e8e)),_0x3b9055[_0x43600b(0x676)]&&(_0x3b9055[_0x43600b(0x676)]=this[_0x43600b(0x4b0)](_0x3b9055[_0x43600b(0x676)],_0x842e8e));}async[a0_0x1b487a(0x466)](_0x16d21e,_0x54eebc){const _0x6d16bd=a0_0x1b487a;let _0x608d88=_0x16d21e[_0x6d16bd(0x38f)];_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x38f)]&&_0x54eebc['uazapi'][_0x6d16bd(0x38f)][_0x6d16bd(0x328)]()!==''&&(_0x608d88=_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x38f)]['trim']()),this['logger']['verbose'](this[_0x6d16bd(0x39e)]+'\x20('+this[_0x6d16bd(0x6e3)][_0x6d16bd(0x3b7)]+'):\x20Enviando\x20enquete');let _0x2c7525=_0x16d21e[_0x6d16bd(0x6ad)][_0x6d16bd(0x4ab)](_0x2873e3=>_0x2873e3[_0x6d16bd(0x391)]===_0x54eebc[_0x6d16bd(0x127)])[_0x6d16bd(0x50f)]((_0x2af3e4,_0x47ab77)=>_0x2af3e4[_0x6d16bd(0x38d)]-_0x47ab77[_0x6d16bd(0x38d)]);this[_0x6d16bd(0xc3)](_0x2c7525,_0x16d21e[_0x6d16bd(0x329)][_0x6d16bd(0x2d8)]);let _0x3d05ab=_0x2c7525[_0x6d16bd(0x381)](_0x5d0576=>_0x5d0576[_0x6d16bd(0x3eb)]),_0x1a9f34={'number':_0x608d88,'menuMessage':{'type':_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x462)]||_0x6d16bd(0xe4),'text':_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x2f1)]||_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x69e)],'footerText':_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x4cc)],'buttonText':_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x2a3)],'selectableCount':0x1,'choices':_0x3d05ab},'options':{'delay':_0x54eebc[_0x6d16bd(0x647)]['delay']}};try{let _0x569130=await this[_0x6d16bd(0x25f)](_0x1a9f34);if(_0x569130){let _0x504d88={'_id':_0x569130[_0x6d16bd(0xff)]['id'],'_fromMe':_0x569130[_0x6d16bd(0xff)]['fromMe'],'_remoteJid':_0x569130[_0x6d16bd(0xff)]['remoteJid']};_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x66c)]===!0x0&&(_0x16d21e['status']='waitingForReplyMenu',this['logger']['verbose'](this[_0x6d16bd(0x39e)]+'\x20('+this[_0x6d16bd(0x6e3)][_0x6d16bd(0x3b7)]+_0x6d16bd(0x28d)+_0x16d21e[_0x6d16bd(0x14f)])),this[_0x6d16bd(0x213)]['verbose'](this[_0x6d16bd(0x39e)]+'\x20('+this[_0x6d16bd(0x6e3)][_0x6d16bd(0x3b7)]+_0x6d16bd(0x273)+(_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x69e)]||_0x54eebc['uazapi'][_0x6d16bd(0x2f1)])),_0x16d21e[_0x6d16bd(0x56c)]=_0x569130[_0x6d16bd(0xff)]['id'],_0x16d21e[_0x6d16bd(0xb9)]=_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x69e)]||_0x54eebc['uazapi'][_0x6d16bd(0x2f1)],_0x16d21e['waitingMenu_replyOptions']=_0x2c7525,_0x54eebc[_0x6d16bd(0x647)][_0x6d16bd(0x356)]&&(_0x16d21e[_0x6d16bd(0x2ea)]=_0x54eebc['uazapi'][_0x6d16bd(0x356)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x6d16bd(0x6e3)][_0x6d16bd(0x3b7)]+_0x6d16bd(0x603)+_0x16d21e[_0x6d16bd(0xb9)]);let _0x42ba15=(0x0,g[_0x6d16bd(0x491)])(_0x569130[_0x6d16bd(0x531)]),_0x5b6238=(0x0,g['getContentType'])(_0x42ba15);_0x16d21e[_0x6d16bd(0x329)][_0x6d16bd(0x28b)]=_0x54eebc[_0x6d16bd(0x127)][_0x6d16bd(0x601)]();let {message_normalized:_0x21849c}=this['normalizeMessage'](_0x42ba15,_0x5b6238,null);_0x16d21e[_0x6d16bd(0x329)][_0x6d16bd(0xe0)]=await _0x21849c;let _0xc93338={'messageId':_0x569130[_0x6d16bd(0xff)]['id']},_0x29d1aa=_0x16d21e['chatLog'][_0x6d16bd(0x2d8)];Object[_0x6d16bd(0x4bc)](_0x29d1aa,_0x504d88),_0x16d21e[_0x6d16bd(0x329)]['realVariables']=_0x29d1aa,this[_0x6d16bd(0x3ed)](_0x16d21e,_0x54eebc,_0xc93338);}else{let _0x30509c={'error':!0x0};this['updateConversation'](_0x16d21e,_0x54eebc,_0x30509c),this['logger']['error'](this[_0x6d16bd(0x39e)]+'\x20('+this[_0x6d16bd(0x6e3)]['wuid']+_0x6d16bd(0x142));}}catch(_0x2ba5db){let _0x28b86e={'error':!0x0,'errorLog':_0x2ba5db instanceof Error?_0x2ba5db[_0x6d16bd(0x531)]:JSON[_0x6d16bd(0x11e)](_0x2ba5db,null,0x2)};this[_0x6d16bd(0x3ed)](_0x16d21e,_0x54eebc,_0x28b86e),this[_0x6d16bd(0x213)][_0x6d16bd(0x519)](this[_0x6d16bd(0x39e)]+'\x20('+this[_0x6d16bd(0x6e3)][_0x6d16bd(0x3b7)]+_0x6d16bd(0x58e)+(_0x2ba5db instanceof Error?_0x2ba5db[_0x6d16bd(0x531)]:JSON['stringify'](_0x2ba5db,null,0x2)));}}async[a0_0x1b487a(0x4ce)](_0x310397,_0x5c87a4){const _0xab8c77=a0_0x1b487a;this['logger'][_0xab8c77(0x49b)](this['instanceName']+'\x20('+this[_0xab8c77(0x6e3)][_0xab8c77(0x3b7)]+_0xab8c77(0x4a2));let _0x828d4c=_0x310397[_0xab8c77(0x329)][_0xab8c77(0x1ca)][_0xab8c77(0x3a8)](_0x2c3a30=>_0x2c3a30['blockId']['toString']()===_0x5c87a4[_0xab8c77(0x647)]['blockId'][_0xab8c77(0x601)]()),_0x4af6f6={'id':_0x828d4c[_0xab8c77(0x47e)],'remoteJid':_0x828d4c[_0xab8c77(0x38f)],'fromMe':_0x828d4c['fromMe']};try{let _0x449783=await this[_0xab8c77(0x38c)](_0x4af6f6);if(_0x449783){let _0xca557b=(0x0,g['normalizeMessageContent'])(_0x449783[_0xab8c77(0x531)]),_0x5ab16c=(0x0,g[_0xab8c77(0x419)])(_0xca557b);_0x310397['chatLog']['lastBlockId']=_0x5c87a4[_0xab8c77(0x127)][_0xab8c77(0x601)]();let {message_normalized:_0x58b014}=this['normalizeMessage'](_0xca557b,_0x5ab16c,null);_0x310397[_0xab8c77(0x329)][_0xab8c77(0xe0)]=await _0x58b014;let _0x1b1f9c={};this[_0xab8c77(0x3ed)](_0x310397,_0x5c87a4,_0x1b1f9c);}else{let _0x981091={'error':!0x0};this[_0xab8c77(0x3ed)](_0x310397,_0x5c87a4,_0x981091),this[_0xab8c77(0x213)][_0xab8c77(0x519)](this[_0xab8c77(0x39e)]+'\x20('+this[_0xab8c77(0x6e3)][_0xab8c77(0x3b7)]+_0xab8c77(0xbe));}}catch(_0x4754d6){let _0x4963fd={'error':!0x0,'errorLog':_0x4754d6 instanceof Error?_0x4754d6['message']:JSON[_0xab8c77(0x11e)](_0x4754d6,null,0x2)};this['updateConversation'](_0x310397,_0x5c87a4,_0x4963fd),this['logger'][_0xab8c77(0x519)](this[_0xab8c77(0x39e)]+'\x20('+this[_0xab8c77(0x6e3)][_0xab8c77(0x3b7)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x4754d6 instanceof Error?_0x4754d6[_0xab8c77(0x531)]:JSON[_0xab8c77(0x11e)](_0x4754d6,null,0x2)));}}async['createFlow'](_0x19ac3e){const _0x4c34c5=a0_0x1b487a;if(!_0x19ac3e[_0x4c34c5(0x69e)])throw new w('O\x20nome\x20do\x20fluxo\x20é\x20obrigatório');if(await this['repository'][_0x4c34c5(0x3c5)]['findOne']({'where':{'name':_0x19ac3e[_0x4c34c5(0x69e)]}},this[_0x4c34c5(0x6e3)]['wuid']))throw new w(_0x4c34c5(0x169));return _0x4c34c5(0x69e)in _0x19ac3e&&_0x4c34c5(0x6a9)in _0x19ac3e&&_0x4c34c5(0x648)in _0x19ac3e&&Object[_0x4c34c5(0x2a5)](_0x19ac3e)[_0x4c34c5(0x573)]===0x3?this['createSharedFlow'](_0x19ac3e[_0x4c34c5(0x648)],_0x19ac3e[_0x4c34c5(0x6a9)],_0x19ac3e[_0x4c34c5(0x69e)]):this[_0x4c34c5(0xea)](_0x19ac3e);}async['createSharedFlow'](_0x113f7d,_0x43d495,_0x2f7457){const _0x3444ae=a0_0x1b487a;try{this[_0x3444ae(0x213)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3444ae(0x3b7)]+_0x3444ae(0x3b0));let _0x1bd037=await this[_0x3444ae(0x4d8)][_0x3444ae(0x3c5)][_0x3444ae(0x547)]({'where':{'name':_0x2f7457,'sharePass':_0x43d495}},_0x113f7d);if(!_0x1bd037)throw new w(_0x3444ae(0x632));let _0xcde4a9={..._0x1bd037};return _0xcde4a9[_0x3444ae(0x648)]=this[_0x3444ae(0x6e3)][_0x3444ae(0x3b7)],_0xcde4a9[_0x3444ae(0x528)]=Array[_0x3444ae(0x530)](new Set([..._0x1bd037['shareOwners']||[],_0x1bd037[_0x3444ae(0x648)],this[_0x3444ae(0x6e3)][_0x3444ae(0x3b7)]])),_0x1bd037[_0x3444ae(0x528)]=_0xcde4a9['shareOwners'],await this[_0x3444ae(0x4d8)][_0x3444ae(0x3c5)][_0x3444ae(0x4bf)](_0x1bd037[_0x3444ae(0x127)],{'shareOwners':_0x1bd037[_0x3444ae(0x528)]},_0x1bd037[_0x3444ae(0x648)]),_0x1bd037[_0x3444ae(0x66d)]===!0x0&&await this[_0x3444ae(0x4d8)][_0x3444ae(0x3c5)]['updateMany']({},{'default':!0x1},this[_0x3444ae(0x6e3)][_0x3444ae(0x3b7)]),await this[_0x3444ae(0x4d8)][_0x3444ae(0x3c5)][_0x3444ae(0x6cf)](_0xcde4a9,this[_0x3444ae(0x6e3)][_0x3444ae(0x3b7)]);}catch(_0x1d483){throw this[_0x3444ae(0x213)][_0x3444ae(0x519)](this[_0x3444ae(0x39e)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x1d483),new w('Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x1d483);}}async[a0_0x1b487a(0xea)](_0x3f32a2){const _0x1b883a=a0_0x1b487a;try{this[_0x1b883a(0x213)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1b883a(0x3b7)]+_0x1b883a(0x9a)),delete _0x3f32a2['shareOwners'],delete _0x3f32a2[_0x1b883a(0x6a9)],delete _0x3f32a2[_0x1b883a(0x648)],_0x3f32a2['default']===!0x0&&await this[_0x1b883a(0x4d8)][_0x1b883a(0x3c5)][_0x1b883a(0x5a4)]({},{'default':!0x1},this[_0x1b883a(0x6e3)][_0x1b883a(0x3b7)]);let _0x4ff389=new ce[(_0x1b883a(0x1a5))][(_0x1b883a(0x40d))](),_0x5047b2={'_id':_0x4ff389,'default':!0x0,'title':_0x1b883a(0x6a2),'x':0x0,'y':0x0},_0x5dda3d={'_id':new ce[(_0x1b883a(0x1a5))][(_0x1b883a(0x40d))](),'order':0x1,'groupId':_0x4ff389['toString'](),'type':_0x1b883a(0x4b7)},_0x2804a5={'_id':new ce[(_0x1b883a(0x1a5))][(_0x1b883a(0x40d))](),'owner':this[_0x1b883a(0x6e3)][_0x1b883a(0x3b7)],'name':_0x3f32a2['name'],'groups':[_0x5047b2],'blocks':[_0x5dda3d],..._0x3f32a2};return await this[_0x1b883a(0x4d8)][_0x1b883a(0x3c5)]['createAndSave'](_0x2804a5,this['instance'][_0x1b883a(0x3b7)]);}catch(_0x2a8375){throw this[_0x1b883a(0x213)][_0x1b883a(0x519)](this[_0x1b883a(0x39e)]+'\x20('+this[_0x1b883a(0x6e3)]['wuid']+'):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x2a8375),new w(_0x1b883a(0x415)+_0x2a8375);}}async[a0_0x1b487a(0x216)](_0x5ad39e,_0x311f5c){const _0x5413ac=a0_0x1b487a;try{let _0x5cd96c=await this[_0x5413ac(0x4d8)][_0x5413ac(0x3c5)][_0x5413ac(0x547)]({'where':{'_id':_0x5ad39e}},_0x311f5c);if(_0x5cd96c&&_0x5cd96c[_0x5413ac(0x528)]){for(let _0x4317ce of _0x5cd96c[_0x5413ac(0x528)])if(_0x4317ce!==_0x311f5c){let _0x22be6c={..._0x5cd96c,'owner':_0x4317ce};await this[_0x5413ac(0x4d8)]['flow'][_0x5413ac(0x76)](_0x5ad39e,_0x22be6c,_0x4317ce);}}}catch(_0x2c61d1){this[_0x5413ac(0x213)][_0x5413ac(0x519)](_0x5413ac(0x363)+_0x2c61d1);}}async[a0_0x1b487a(0x549)](_0x1ac252){const _0xf05f5b=a0_0x1b487a;try{this[_0xf05f5b(0x213)][_0xf05f5b(0x49b)](this[_0xf05f5b(0x39e)]+'\x20('+this[_0xf05f5b(0x6e3)][_0xf05f5b(0x3b7)]+_0xf05f5b(0x475));let _0x140405=await this[_0xf05f5b(0x4d8)][_0xf05f5b(0x3c5)][_0xf05f5b(0x547)]({'where':{'name':_0x1ac252}},this['instance'][_0xf05f5b(0x3b7)]);if(_0x140405&&_0x140405['shareOwners']&&_0x140405['shareOwners'][_0xf05f5b(0x573)]>0x1){for(let _0x2a93a2 of _0x140405[_0xf05f5b(0x528)])if(_0x2a93a2!==this[_0xf05f5b(0x6e3)][_0xf05f5b(0x3b7)]){let _0x593600=await this['repository'][_0xf05f5b(0x3c5)][_0xf05f5b(0x547)]({'where':{'sharePass':_0x140405[_0xf05f5b(0x6a9)]}},_0x2a93a2);_0x593600&&(_0x593600[_0xf05f5b(0x528)]=_0x593600['shareOwners'][_0xf05f5b(0x4ab)](_0x4c5907=>_0x4c5907!==_0x140405['owner']),await this[_0xf05f5b(0x4d8)][_0xf05f5b(0x3c5)][_0xf05f5b(0x4bf)](_0x593600[_0xf05f5b(0x127)],{'shareOwners':_0x593600[_0xf05f5b(0x528)]},_0x2a93a2));}}return await this[_0xf05f5b(0x4d8)][_0xf05f5b(0x3c5)][_0xf05f5b(0x2e6)]({'where':{'name':_0x1ac252}},this[_0xf05f5b(0x6e3)][_0xf05f5b(0x3b7)]);}catch(_0x35c9fe){return this[_0xf05f5b(0x213)][_0xf05f5b(0x519)](this['instanceName']+'\x20('+this[_0xf05f5b(0x6e3)][_0xf05f5b(0x3b7)]+_0xf05f5b(0x276)+(_0x35c9fe instanceof Error?_0x35c9fe[_0xf05f5b(0x531)]:JSON[_0xf05f5b(0x11e)](_0x35c9fe,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x35c9fe};}}async['getFlow'](_0x226438){const _0x104ccc=a0_0x1b487a;try{this['logger'][_0x104ccc(0x49b)](this[_0x104ccc(0x39e)]+'\x20('+this[_0x104ccc(0x6e3)]['wuid']+_0x104ccc(0x6b9));let _0x115151=await this[_0x104ccc(0x4d8)][_0x104ccc(0x3c5)]['findOne']({'where':{'name':_0x226438}},this['instance'][_0x104ccc(0x3b7)]);if(!_0x115151)throw new Error(_0x104ccc(0x6d8));if(!this[_0x104ccc(0x5a9)]&&(await this[_0x104ccc(0x2fe)](),!this[_0x104ccc(0x5a9)]))return null;let _0x345ebd=this[_0x104ccc(0x5a9)]?.[_0x104ccc(0x13a)][_0x104ccc(0x381)](_0x3b762f=>_0x3b762f[_0x104ccc(0x69e)]),_0x355ae0=['nome',_0x104ccc(0x334),_0x104ccc(0x4d2),'cpf',_0x104ccc(0x14f),'notas',_0x104ccc(0x667),'tags','etiquetas'];_0x115151[_0x104ccc(0x224)]=_0x115151['variables'][_0x104ccc(0x4ab)](_0x572b54=>!(_0x572b54['folder']===_0x104ccc(0x1ce)||_0x572b54[_0x104ccc(0x1ce)])),_0x355ae0[_0x104ccc(0x6d9)](_0x332ef7=>{const _0x1f355e=_0x104ccc;_0x115151[_0x1f355e(0x224)][_0x1f355e(0xd3)]({'folder':_0x1f355e(0x1ce),'name':_0x332ef7,'value':'','doc':'','leadInfo':!0x0});}),_0x345ebd[_0x104ccc(0x6d9)](_0x1cdd41=>{const _0x1bb345=_0x104ccc;let _0xe7e1e9=_0x115151[_0x1bb345(0x224)][_0x1bb345(0xc0)](_0xcec87=>_0xcec87['name']===_0x1cdd41);_0xe7e1e9===-0x1?_0x115151[_0x1bb345(0x224)][_0x1bb345(0xd3)]({'folder':_0x1bb345(0x1ce),'name':_0x1cdd41,'value':'','doc':'','leadInfo':!0x0}):(_0x115151['variables'][_0xe7e1e9][_0x1bb345(0x75)]=_0x1bb345(0x1ce),_0x115151[_0x1bb345(0x224)][_0xe7e1e9][_0x1bb345(0x1ce)]=!0x0);}),_0x115151[_0x104ccc(0x9e)]&&_0x115151[_0x104ccc(0x9e)][_0x104ccc(0x573)]>0x0&&_0x115151[_0x104ccc(0x9e)][_0x104ccc(0x6d9)](_0x3102af=>{const _0xd11684=_0x104ccc;_0x3102af[_0xd11684(0x5ec)]&&_0x3102af[_0xd11684(0x344)]&&_0x3102af[_0xd11684(0x5ec)]===_0x3102af[_0xd11684(0x344)]&&(_0x3102af[_0xd11684(0x344)]=null);});let _0x5c4401=await this[_0x104ccc(0x4d8)][_0x104ccc(0x3c5)][_0x104ccc(0x4bf)](_0x115151['_id'],_0x115151,this[_0x104ccc(0x6e3)]['wuid']);if(!_0x5c4401)throw new Error(_0x104ccc(0x3d6));return _0x5c4401;}catch(_0x47a4cc){throw this['logger']['error'](this[_0x104ccc(0x39e)]+'\x20('+this['instance'][_0x104ccc(0x3b7)]+_0x104ccc(0x5e5)+(_0x47a4cc instanceof Error?_0x47a4cc[_0x104ccc(0x531)]:JSON[_0x104ccc(0x11e)](_0x47a4cc,null,0x2))),new w(_0x104ccc(0x3ba)+_0x47a4cc);}}async['allFlows'](){const _0x53c2d9=a0_0x1b487a;try{return this[_0x53c2d9(0x213)]['verbose'](this[_0x53c2d9(0x39e)]+'\x20('+this['instance'][_0x53c2d9(0x3b7)]+_0x53c2d9(0x2c2)),await this[_0x53c2d9(0x4d8)][_0x53c2d9(0x3c5)][_0x53c2d9(0x680)](this[_0x53c2d9(0x6e3)][_0x53c2d9(0x3b7)]),await this[_0x53c2d9(0x4d8)][_0x53c2d9(0x3c5)]['findAll']({'where':{}},this[_0x53c2d9(0x6e3)]['wuid']);}catch(_0x32b5b9){return this[_0x53c2d9(0x213)][_0x53c2d9(0x519)](this[_0x53c2d9(0x39e)]+'\x20('+this[_0x53c2d9(0x6e3)][_0x53c2d9(0x3b7)]+_0x53c2d9(0x66a)+(_0x32b5b9 instanceof Error?_0x32b5b9['message']:JSON['stringify'](_0x32b5b9,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x32b5b9};}}async[a0_0x1b487a(0x28c)](_0x4605e4){const _0x51c00b=a0_0x1b487a;try{this[_0x51c00b(0x213)]['verbose'](this[_0x51c00b(0x39e)]+'\x20('+this[_0x51c00b(0x6e3)][_0x51c00b(0x3b7)]+'):\x20Alterando\x20fluxo...');let _0x70ac73=await this[_0x51c00b(0x4d8)][_0x51c00b(0x3c5)][_0x51c00b(0x547)]({'where':{'name':_0x4605e4[_0x51c00b(0x69e)]}},this[_0x51c00b(0x6e3)]['wuid']);if(!_0x70ac73)return{'message':_0x51c00b(0x5c1)};_0x4605e4['default']===!0x0&&await this[_0x51c00b(0x4d8)][_0x51c00b(0x3c5)]['updateMany']({},{'default':!0x1},this['instance'][_0x51c00b(0x3b7)]),delete _0x4605e4[_0x51c00b(0x528)],delete _0x4605e4[_0x51c00b(0x6a9)];let _0x42663c=await this[_0x51c00b(0x4d8)][_0x51c00b(0x3c5)][_0x51c00b(0x4bf)](_0x70ac73[_0x51c00b(0x127)],_0x4605e4,this[_0x51c00b(0x6e3)]['wuid']);return _0x42663c&&_0x42663c[_0x51c00b(0x528)]&&_0x42663c[_0x51c00b(0x528)][_0x51c00b(0x573)]>0x1&&this[_0x51c00b(0x216)](_0x42663c[_0x51c00b(0x127)],this[_0x51c00b(0x6e3)][_0x51c00b(0x3b7)]),_0x42663c;}catch(_0x5defd6){throw this['logger'][_0x51c00b(0x519)](this[_0x51c00b(0x39e)]+'\x20('+this[_0x51c00b(0x6e3)][_0x51c00b(0x3b7)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x5defd6 instanceof Error?_0x5defd6[_0x51c00b(0x531)]:JSON[_0x51c00b(0x11e)](_0x5defd6,null,0x2))),new w(_0x51c00b(0x172)+(_0x5defd6 instanceof Error?_0x5defd6[_0x51c00b(0x531)]:JSON[_0x51c00b(0x11e)](_0x5defd6,null,0x2)));}}async['editFlowBlock'](_0x234445){const _0xb5cede=a0_0x1b487a;try{this[_0xb5cede(0x213)]['verbose'](this[_0xb5cede(0x39e)]+'\x20('+this[_0xb5cede(0x6e3)][_0xb5cede(0x3b7)]+'):\x20Editando\x20bloco...');let _0x444843=await this['repository'][_0xb5cede(0x3c5)]['findOne']({'where':{'name':_0x234445[_0xb5cede(0x69e)]}},this[_0xb5cede(0x6e3)][_0xb5cede(0x3b7)]);_0x444843||this['throwAndLogError']('Flow\x20não\x20encontrado');let {block:_0x19c48c}=_0x234445;_0x19c48c?.[_0xb5cede(0x445)]?this[_0xb5cede(0x4f4)](_0x444843,_0x234445):_0x19c48c?.['delete']?this[_0xb5cede(0x481)](_0x444843,_0x234445):_0x19c48c[_0xb5cede(0x127)]?await this[_0xb5cede(0x3fc)](_0x444843,_0x234445):this[_0xb5cede(0x604)](_0x444843,_0x234445);let _0x480c41=await this[_0xb5cede(0x4d8)][_0xb5cede(0x3c5)][_0xb5cede(0x4bf)](_0x444843[_0xb5cede(0x127)],_0x444843,this[_0xb5cede(0x6e3)][_0xb5cede(0x3b7)]);if(_0x480c41&&_0x480c41[_0xb5cede(0x528)]&&_0x480c41[_0xb5cede(0x528)]['length']>0x1&&this[_0xb5cede(0x216)](_0x480c41[_0xb5cede(0x127)],this[_0xb5cede(0x6e3)]['wuid']),!_0x480c41)throw new Error(_0xb5cede(0x3d6));return _0x480c41;}catch(_0x556cc6){this[_0xb5cede(0x692)](_0xb5cede(0xe7)+_0x556cc6);}}async['copyBlock'](_0x2b6bd4,_0x4f7bc3){const _0x1a3f4a=a0_0x1b487a;let _0x48fa95=_0x4f7bc3[_0x1a3f4a(0x42c)]['_id'],_0x374667=_0x2b6bd4[_0x1a3f4a(0x9e)][_0x1a3f4a(0x3a8)](_0xefb77f=>_0xefb77f[_0x1a3f4a(0x127)]['toString']()===_0x48fa95);if(!_0x374667){this['logger'][_0x1a3f4a(0x519)](this[_0x1a3f4a(0x39e)]+'\x20('+this['instance']['wuid']+_0x1a3f4a(0x1f8)+_0x48fa95+_0x1a3f4a(0xcc));return;}this[_0x1a3f4a(0x213)]['verbose'](this[_0x1a3f4a(0x39e)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x1a3f4a(0x11e)](_0x374667));let _0x5e4d2f=JSON[_0x1a3f4a(0x323)](JSON['stringify'](_0x374667));_0x5e4d2f[_0x1a3f4a(0x127)]=new ce[(_0x1a3f4a(0x66d))][(_0x1a3f4a(0x1a5))]['ObjectId'](),this[_0x1a3f4a(0x213)][_0x1a3f4a(0x49b)](this[_0x1a3f4a(0x39e)]+'\x20('+this['instance']['wuid']+_0x1a3f4a(0x158)+JSON[_0x1a3f4a(0x11e)](_0x5e4d2f)),_0x2b6bd4[_0x1a3f4a(0x9e)]['push'](_0x5e4d2f),this['reorderBlocks'](_0x2b6bd4[_0x1a3f4a(0x9e)],_0x5e4d2f['groupId']);}[a0_0x1b487a(0x692)](_0x184f7f){const _0x1443f1=a0_0x1b487a;throw this[_0x1443f1(0x213)]['error'](this['instanceName']+'\x20('+this[_0x1443f1(0x6e3)][_0x1443f1(0x3b7)]+_0x1443f1(0x6b6)+_0x184f7f),new w(_0x184f7f);}[a0_0x1b487a(0x481)](_0x56b288,_0x37b656){const _0x41902f=a0_0x1b487a;let {block:_0x33cddf}=_0x37b656;if(_0x33cddf[_0x41902f(0x337)]==='start'){this['throwAndLogError'](_0x41902f(0x30b));return;}if(!_0x33cddf[_0x41902f(0x127)]){this['throwAndLogError'](_0x41902f(0x1e7));return;}let _0x2b060d=_0x56b288[_0x41902f(0x9e)][_0x41902f(0x3a8)](_0x236a89=>_0x236a89['_id'][_0x41902f(0x601)]()===_0x37b656[_0x41902f(0x42c)][_0x41902f(0x127)]['toString']());if(!_0x2b060d){this[_0x41902f(0x692)](_0x41902f(0x297)+_0x33cddf[_0x41902f(0x127)]+_0x41902f(0x5bf));return;}_0x56b288[_0x41902f(0x9e)]=_0x56b288[_0x41902f(0x9e)][_0x41902f(0x4ab)](_0x3c4cdf=>_0x3c4cdf[_0x41902f(0x127)][_0x41902f(0x601)]()!==_0x37b656[_0x41902f(0x42c)]['_id'][_0x41902f(0x601)]()),_0x56b288[_0x41902f(0x4a1)]=_0x56b288[_0x41902f(0x4a1)][_0x41902f(0x4ab)](_0x2edf07=>_0x2edf07[_0x41902f(0x391)]!==_0x33cddf[_0x41902f(0x127)][_0x41902f(0x601)]()),_0x56b288['varedits']=_0x56b288[_0x41902f(0x3aa)][_0x41902f(0x4ab)](_0x236e3e=>_0x236e3e['blockId']!==_0x33cddf['_id'][_0x41902f(0x601)]()),_0x56b288[_0x41902f(0x6ad)]=_0x56b288[_0x41902f(0x6ad)][_0x41902f(0x4ab)](_0x158f04=>_0x158f04[_0x41902f(0x391)]!==_0x33cddf[_0x41902f(0x127)][_0x41902f(0x601)]()),this[_0x41902f(0x552)](_0x56b288[_0x41902f(0x9e)],_0x2b060d[_0x41902f(0x5ec)]);}async[a0_0x1b487a(0x3fc)](_0x4d0408,_0x287aaa){const _0x19701e=a0_0x1b487a;let _0x35bcc5=_0x4d0408[_0x19701e(0x9e)][_0x19701e(0xc0)](_0xc77cda=>_0xc77cda[_0x19701e(0x127)]['toString']()===_0x287aaa[_0x19701e(0x42c)][_0x19701e(0x127)][_0x19701e(0x601)]());if(this['logger'][_0x19701e(0x49b)](this[_0x19701e(0x39e)]+'\x20('+this[_0x19701e(0x6e3)][_0x19701e(0x3b7)]+_0x19701e(0x12b)+_0x35bcc5),_0x35bcc5===-0x1){this[_0x19701e(0x213)]['verbose'](_0x19701e(0x297)+_0x287aaa['block'][_0x19701e(0x127)]+_0x19701e(0x630));return;}if(_0x4d0408['blocks'][_0x35bcc5][_0x19701e(0x337)]==='start'){let _0x270989=Object[_0x19701e(0x2a5)](_0x287aaa[_0x19701e(0x42c)]);if(_0x270989[_0x19701e(0x573)]>0x2||_0x270989[_0x19701e(0x573)]===0x2&&!_0x270989[_0x19701e(0x56d)](_0x19701e(0x344))){this[_0x19701e(0x692)](_0x19701e(0x33d));return;}}let _0x4bcac5=_0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x19701e(0x5ec)];for(let _0x9e0764 in _0x287aaa['block'])_0x287aaa[_0x19701e(0x42c)][_0x19701e(0x655)](_0x9e0764)&&(_0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x9e0764]=_0x287aaa[_0x19701e(0x42c)][_0x9e0764]);if(this[_0x19701e(0x213)]['verbose'](this[_0x19701e(0x39e)]+'\x20('+this[_0x19701e(0x6e3)][_0x19701e(0x3b7)]+_0x19701e(0x42d)+JSON[_0x19701e(0x11e)](_0x4d0408[_0x19701e(0x9e)][_0x35bcc5])),_0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x19701e(0x4c7)]&&_0x19701e(0x417)in _0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x19701e(0x4c7)]){this['logger'][_0x19701e(0x49b)](this[_0x19701e(0x39e)]+'\x20('+this['instance'][_0x19701e(0x3b7)]+_0x19701e(0x250));let _0x4afadb=JSON['stringify'](_0x4d0408['blocks'][_0x35bcc5][_0x19701e(0x4c7)][_0x19701e(0x417)],null,0x1);_0x4afadb[_0x19701e(0x573)]>0x2&&(_0x4afadb=_0x4afadb[_0x19701e(0x69f)](0x1,_0x4afadb[_0x19701e(0x573)]-0x1)[_0x19701e(0x328)]()),_0x4d0408['blocks'][_0x35bcc5][_0x19701e(0x4c7)][_0x19701e(0x1da)]=_0x4afadb;}if(_0x4d0408['blocks'][_0x35bcc5][_0x19701e(0x4c7)]&&_0x19701e(0x5dd)in _0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x19701e(0x4c7)]){this['logger']['verbose'](this[_0x19701e(0x39e)]+'\x20('+this[_0x19701e(0x6e3)][_0x19701e(0x3b7)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x5c7155=JSON[_0x19701e(0x11e)](_0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x19701e(0x4c7)][_0x19701e(0x5dd)],null,0x1);_0x5c7155[_0x19701e(0x573)]>0x2&&(_0x5c7155=_0x5c7155['substring'](0x1,_0x5c7155[_0x19701e(0x573)]-0x1)[_0x19701e(0x328)]()),_0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x19701e(0x4c7)][_0x19701e(0x364)]=_0x5c7155;}let _0x4a72d3=_0x4d0408[_0x19701e(0x9e)][_0x35bcc5][_0x19701e(0x5ec)];_0x4bcac5!==_0x4a72d3?(this['reorderBlocks'](_0x4d0408[_0x19701e(0x9e)],_0x4bcac5),this[_0x19701e(0x552)](_0x4d0408[_0x19701e(0x9e)],_0x4a72d3)):this[_0x19701e(0x552)](_0x4d0408[_0x19701e(0x9e)],_0x4bcac5);}['addBlock'](_0x303d5c,_0x1dbe9a){const _0x11998b=a0_0x1b487a;if(_0x1dbe9a[_0x11998b(0x42c)]['type']===_0x11998b(0x4b7)){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x1dbe9a['block'][_0x11998b(0x4c7)]&&_0x11998b(0x417)in _0x1dbe9a[_0x11998b(0x42c)][_0x11998b(0x4c7)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x11998b(0x6e3)][_0x11998b(0x3b7)]+_0x11998b(0x250));let _0x291106=JSON[_0x11998b(0x11e)](_0x1dbe9a['block'][_0x11998b(0x4c7)]['header'],null,0x1);_0x291106['length']>0x2&&(_0x291106=_0x291106[_0x11998b(0x69f)](0x1,_0x291106[_0x11998b(0x573)]-0x1)[_0x11998b(0x328)]()),_0x1dbe9a['block']['apirequest']['headerString']=_0x291106;}_0x1dbe9a[_0x11998b(0x42c)][_0x11998b(0x4c7)]&&_0x11998b(0x5dd)in _0x1dbe9a['block']['apirequest']&&(this[_0x11998b(0x213)][_0x11998b(0x49b)](this[_0x11998b(0x39e)]+'\x20('+this[_0x11998b(0x6e3)]['wuid']+_0x11998b(0x30a)),_0x1dbe9a[_0x11998b(0x42c)]['apirequest']['bodyString']=JSON[_0x11998b(0x11e)](_0x1dbe9a['block'][_0x11998b(0x4c7)]['body'],null,0x1)[_0x11998b(0x328)]()),_0x303d5c['blocks'][_0x11998b(0xd3)](_0x1dbe9a[_0x11998b(0x42c)]),this['reorderBlocks'](_0x303d5c[_0x11998b(0x9e)],_0x1dbe9a['block'][_0x11998b(0x5ec)]);}[a0_0x1b487a(0x552)](_0x23460a,_0x5e0ca3){const _0x2225fd=a0_0x1b487a;let _0x412e3e=_0x23460a['filter'](_0x50916f=>_0x50916f['groupId']===_0x5e0ca3);_0x412e3e[_0x2225fd(0x50f)]((_0xd8c081,_0x5da29c)=>_0xd8c081[_0x2225fd(0x38d)]-_0x5da29c[_0x2225fd(0x38d)]),_0x412e3e[_0x2225fd(0x6d9)]((_0x415a34,_0x36b134)=>_0x415a34['order']=_0x36b134+0x1);}async[a0_0x1b487a(0x211)](_0x514722){const _0x58a7b2=a0_0x1b487a;try{if(this['logger'][_0x58a7b2(0x49b)](this['instanceName']+'\x20('+this[_0x58a7b2(0x6e3)][_0x58a7b2(0x3b7)]+_0x58a7b2(0xfc)),!_0x514722||!_0x514722['replyOption']){this['throwAndLogError']('Data\x20inválida\x20fornecida');return;}let _0x25c632=await this[_0x58a7b2(0x4d8)][_0x58a7b2(0x3c5)][_0x58a7b2(0x547)]({'where':{'name':_0x514722['name']}},this[_0x58a7b2(0x6e3)][_0x58a7b2(0x3b7)]);_0x25c632||this[_0x58a7b2(0x692)](_0x58a7b2(0x6d8));let {replyOption:_0x5c0450}=_0x514722;_0x5c0450?.[_0x58a7b2(0x522)]?(this[_0x58a7b2(0x18a)](_0x25c632,_0x514722),this[_0x58a7b2(0x673)](_0x25c632[_0x58a7b2(0x6ad)],_0x514722[_0x58a7b2(0x197)][_0x58a7b2(0x391)])):_0x5c0450['_id']?(await this[_0x58a7b2(0x57b)](_0x25c632,_0x514722),this['reorderReplyOptions'](_0x25c632['replyOptions'],_0x514722[_0x58a7b2(0x197)]['blockId'])):(this[_0x58a7b2(0x107)](_0x25c632,_0x514722),this[_0x58a7b2(0x673)](_0x25c632[_0x58a7b2(0x6ad)],_0x514722[_0x58a7b2(0x197)][_0x58a7b2(0x391)]));let _0x1621a0=await this['repository'][_0x58a7b2(0x3c5)]['updateOne'](_0x25c632[_0x58a7b2(0x127)],_0x25c632,this[_0x58a7b2(0x6e3)][_0x58a7b2(0x3b7)]);if(_0x1621a0&&_0x1621a0['shareOwners']&&_0x1621a0['shareOwners'][_0x58a7b2(0x573)]>0x1&&this[_0x58a7b2(0x216)](_0x1621a0[_0x58a7b2(0x127)],this[_0x58a7b2(0x6e3)][_0x58a7b2(0x3b7)]),!_0x1621a0)throw new Error(_0x58a7b2(0x3d6));return _0x1621a0;}catch(_0x472c47){this[_0x58a7b2(0x692)](_0x58a7b2(0xfe)+_0x472c47);}}[a0_0x1b487a(0x673)](_0x213fc6,_0x2d4ed2){const _0x1f3d3e=a0_0x1b487a;console[_0x1f3d3e(0x18d)](_0x1f3d3e(0x22d),_0x2d4ed2),_0x213fc6['forEach'](_0x3768be=>{const _0x42110a=_0x1f3d3e;_0x3768be[_0x42110a(0x391)]===_0x2d4ed2&&_0x3768be['order']===void 0x0&&(_0x3768be[_0x42110a(0x38d)]=0x270f);});let _0x24164b=_0x213fc6['filter'](_0x176470=>_0x176470['blockId']===_0x2d4ed2);_0x24164b['sort']((_0x4629a3,_0x708716)=>_0x4629a3['order']-_0x708716[_0x1f3d3e(0x38d)]),_0x24164b[_0x1f3d3e(0x6d9)]((_0x388285,_0x1dfd47)=>{const _0x37ebe9=_0x1f3d3e;_0x388285[_0x37ebe9(0x38d)]=_0x1dfd47+0x1;}),_0x213fc6[_0x1f3d3e(0x6d9)](_0x3b9e07=>{const _0x8cdeb5=_0x1f3d3e;if(_0x3b9e07[_0x8cdeb5(0x391)]===_0x2d4ed2){let _0xee9ec6=_0x24164b[_0x8cdeb5(0x3a8)](_0x286dcb=>_0x286dcb[_0x8cdeb5(0x127)]&&_0x3b9e07['_id']&&_0x286dcb['_id'][_0x8cdeb5(0x601)]()===_0x3b9e07[_0x8cdeb5(0x127)][_0x8cdeb5(0x601)]());_0xee9ec6&&(_0x3b9e07['order']=_0xee9ec6[_0x8cdeb5(0x38d)]);}}),console[_0x1f3d3e(0x18d)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x213fc6);}[a0_0x1b487a(0x18a)](_0x3eab94,_0x4fb885){const _0x2dc559=a0_0x1b487a;let {replyOption:_0x3dfdf3}=_0x4fb885;if(!_0x3dfdf3['_id']){this['throwAndLogError'](_0x2dc559(0x66f));return;}if(!_0x3eab94[_0x2dc559(0x6ad)]['find'](_0x351f73=>_0x351f73[_0x2dc559(0x127)][_0x2dc559(0x601)]()===_0x4fb885[_0x2dc559(0x197)][_0x2dc559(0x127)][_0x2dc559(0x601)]())){this['throwAndLogError'](_0x2dc559(0x56f)+_0x3dfdf3[_0x2dc559(0x127)]+_0x2dc559(0x5bf));return;}_0x3eab94[_0x2dc559(0x6ad)]=_0x3eab94[_0x2dc559(0x6ad)]['filter'](_0x5b94e2=>_0x5b94e2[_0x2dc559(0x127)]['toString']()!==_0x4fb885['replyOption'][_0x2dc559(0x127)][_0x2dc559(0x601)]());}async[a0_0x1b487a(0x57b)](_0x11e364,_0x2fb215){const _0x1b5f0a=a0_0x1b487a;let _0x2ae3fe=_0x11e364[_0x1b5f0a(0x6ad)]['findIndex'](_0x33ec33=>_0x33ec33[_0x1b5f0a(0x127)][_0x1b5f0a(0x601)]()===_0x2fb215[_0x1b5f0a(0x197)][_0x1b5f0a(0x127)]['toString']());if(_0x2ae3fe===-0x1){this['throwAndLogError'](_0x1b5f0a(0x56f)+_0x2fb215[_0x1b5f0a(0x197)][_0x1b5f0a(0x127)]+_0x1b5f0a(0x630));return;}for(let _0x178bb4 in _0x2fb215[_0x1b5f0a(0x197)])_0x2fb215[_0x1b5f0a(0x197)][_0x1b5f0a(0x655)](_0x178bb4)&&(_0x11e364[_0x1b5f0a(0x6ad)][_0x2ae3fe][_0x178bb4]=_0x2fb215[_0x1b5f0a(0x197)][_0x178bb4]);}[a0_0x1b487a(0x107)](_0x1c5418,_0x4e0813){const _0x14c4de=a0_0x1b487a;_0x1c5418[_0x14c4de(0x6ad)]['push'](_0x4e0813[_0x14c4de(0x197)]);}async[a0_0x1b487a(0x6f8)](_0x95b60a){const _0x57a0aa=a0_0x1b487a;this['logger'][_0x57a0aa(0x49b)](this[_0x57a0aa(0x39e)]+'\x20('+this[_0x57a0aa(0x6e3)]['wuid']+_0x57a0aa(0x349)+_0x95b60a);try{this[_0x57a0aa(0x213)][_0x57a0aa(0x49b)](this[_0x57a0aa(0x39e)]+'\x20('+this[_0x57a0aa(0x6e3)]['wuid']+_0x57a0aa(0x665));let _0x4b5514=await this[_0x57a0aa(0x4d8)][_0x57a0aa(0x3c5)][_0x57a0aa(0x547)]({'where':{'name':_0x95b60a['name']}},this[_0x57a0aa(0x6e3)][_0x57a0aa(0x3b7)]);if(!_0x4b5514)throw new Error(_0x57a0aa(0x6d8));if(_0x95b60a['group']&&_0x95b60a[_0x57a0aa(0x1fe)]?.[_0x57a0aa(0x522)]===!0x0){if(this[_0x57a0aa(0x213)][_0x57a0aa(0x49b)](this['instanceName']+'\x20('+this['instance'][_0x57a0aa(0x3b7)]+_0x57a0aa(0x44b)),_0x95b60a[_0x57a0aa(0x1fe)][_0x57a0aa(0x66d)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x4b5514[_0x57a0aa(0x9e)][_0x57a0aa(0x660)](_0x48ba07=>_0x48ba07[_0x57a0aa(0x5ec)][_0x57a0aa(0x601)]()===_0x95b60a['group'][_0x57a0aa(0x127)]))return this[_0x57a0aa(0x213)][_0x57a0aa(0x49b)](this['instanceName']+'\x20('+this[_0x57a0aa(0x6e3)][_0x57a0aa(0x3b7)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x4b5514[_0x57a0aa(0x576)]=_0x4b5514[_0x57a0aa(0x576)][_0x57a0aa(0x4ab)](_0x49d60d=>_0x49d60d[_0x57a0aa(0x127)][_0x57a0aa(0x601)]()!==_0x95b60a[_0x57a0aa(0x1fe)][_0x57a0aa(0x127)]);}else{if(_0x95b60a[_0x57a0aa(0x1fe)]){if(_0x95b60a[_0x57a0aa(0x1fe)][_0x57a0aa(0x66d)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x95b60a['group'][_0x57a0aa(0x127)]){let _0x2f5f8a=_0x4b5514['groups'][_0x57a0aa(0x3a8)](_0x588066=>_0x588066[_0x57a0aa(0x127)][_0x57a0aa(0x601)]()===_0x95b60a[_0x57a0aa(0x1fe)][_0x57a0aa(0x127)]);_0x2f5f8a&&(_0x95b60a[_0x57a0aa(0x1fe)]['x']<0x0&&(_0x95b60a[_0x57a0aa(0x1fe)]['x']=0x0),_0x95b60a[_0x57a0aa(0x1fe)]['y']<0x0&&(_0x95b60a[_0x57a0aa(0x1fe)]['y']=0x0),Object[_0x57a0aa(0x4bc)](_0x2f5f8a,_0x95b60a[_0x57a0aa(0x1fe)]));}else _0x4b5514[_0x57a0aa(0x576)][_0x57a0aa(0xd3)](_0x95b60a[_0x57a0aa(0x1fe)]);}}let _0x4fb1a9=await this[_0x57a0aa(0x4d8)][_0x57a0aa(0x3c5)]['updateOne'](_0x4b5514[_0x57a0aa(0x127)],_0x4b5514,this['instance']['wuid']);if(_0x4fb1a9&&_0x4fb1a9[_0x57a0aa(0x528)]&&_0x4fb1a9[_0x57a0aa(0x528)][_0x57a0aa(0x573)]>0x1&&this[_0x57a0aa(0x216)](_0x4fb1a9[_0x57a0aa(0x127)],this[_0x57a0aa(0x6e3)][_0x57a0aa(0x3b7)]),!_0x4fb1a9)throw new Error(_0x57a0aa(0x3d6));return _0x4fb1a9;}catch(_0x321ac3){throw this[_0x57a0aa(0x213)][_0x57a0aa(0x519)](this['instanceName']+'\x20('+this[_0x57a0aa(0x6e3)][_0x57a0aa(0x3b7)]+_0x57a0aa(0x5d2)+(_0x321ac3 instanceof Error?_0x321ac3[_0x57a0aa(0x531)]:JSON['stringify'](_0x321ac3,null,0x2))),new w(_0x57a0aa(0x1d6)+(_0x321ac3 instanceof Error?_0x321ac3[_0x57a0aa(0x531)]:JSON[_0x57a0aa(0x11e)](_0x321ac3,null,0x2)));}}async['editFlowCondition'](_0x3c133e){const _0x5ea9e3=a0_0x1b487a;try{this[_0x5ea9e3(0x213)]['verbose'](this[_0x5ea9e3(0x39e)]+'\x20('+this[_0x5ea9e3(0x6e3)][_0x5ea9e3(0x3b7)]+_0x5ea9e3(0x40f));let _0x27ac8a=await this[_0x5ea9e3(0x4d8)][_0x5ea9e3(0x3c5)]['findOne']({'where':{'name':_0x3c133e[_0x5ea9e3(0x69e)]}},this[_0x5ea9e3(0x6e3)]['wuid']);if(!_0x27ac8a)throw new Error(_0x5ea9e3(0x6d8));let _0x35aea7=!0x1;if(_0x3c133e['condition']?.[_0x5ea9e3(0x522)]===!0x0)_0x27ac8a[_0x5ea9e3(0x4a1)]=_0x27ac8a[_0x5ea9e3(0x4a1)][_0x5ea9e3(0x4ab)](_0x5a69b5=>_0x5a69b5&&_0x3c133e[_0x5ea9e3(0x590)]&&_0x5a69b5['_id']&&_0x3c133e[_0x5ea9e3(0x590)]['_id']&&_0x5a69b5['_id'][_0x5ea9e3(0x601)]()!==_0x3c133e['condition'][_0x5ea9e3(0x127)][_0x5ea9e3(0x601)]()),_0x35aea7=!0x0;else{let _0x57db7b=_0x27ac8a[_0x5ea9e3(0x4a1)][_0x5ea9e3(0x3a8)](_0x1aa066=>_0x1aa066&&_0x3c133e['condition']&&_0x1aa066['_id']&&_0x3c133e[_0x5ea9e3(0x590)][_0x5ea9e3(0x127)]&&_0x1aa066['_id'][_0x5ea9e3(0x601)]()===_0x3c133e[_0x5ea9e3(0x590)][_0x5ea9e3(0x127)]['toString']());_0x57db7b?(_0x35aea7=_0x57db7b[_0x5ea9e3(0x38d)]!==_0x3c133e[_0x5ea9e3(0x590)]['order'],Object[_0x5ea9e3(0x4bc)](_0x57db7b,_0x3c133e[_0x5ea9e3(0x590)])):(_0x27ac8a[_0x5ea9e3(0x4a1)][_0x5ea9e3(0xd3)](_0x3c133e[_0x5ea9e3(0x590)]),_0x35aea7=!0x0);}if(_0x35aea7){_0x27ac8a[_0x5ea9e3(0x4a1)][_0x5ea9e3(0x50f)]((_0x56387e,_0x1ddb24)=>_0x56387e['order']>_0x1ddb24[_0x5ea9e3(0x38d)]?0x1:_0x1ddb24['order']>_0x56387e[_0x5ea9e3(0x38d)]?-0x1:0x0);for(let _0x3a908b=0x0;_0x3a908b<_0x27ac8a[_0x5ea9e3(0x4a1)][_0x5ea9e3(0x573)];_0x3a908b++)_0x27ac8a[_0x5ea9e3(0x4a1)][_0x3a908b][_0x5ea9e3(0x38d)]=_0x3a908b+0x1;_0x27ac8a['conditions'][_0x5ea9e3(0x573)]>0x0&&(_0x27ac8a['conditions'][0x0]['OrAnd']=_0x5ea9e3(0x3b2));}let _0x540cfc=await this['repository'][_0x5ea9e3(0x3c5)][_0x5ea9e3(0x4bf)](_0x27ac8a[_0x5ea9e3(0x127)],_0x27ac8a,this['instance'][_0x5ea9e3(0x3b7)]);if(_0x540cfc&&_0x540cfc[_0x5ea9e3(0x528)]&&_0x540cfc['shareOwners'][_0x5ea9e3(0x573)]>0x1&&this[_0x5ea9e3(0x216)](_0x540cfc[_0x5ea9e3(0x127)],this['instance']['wuid']),!_0x540cfc)throw new Error(_0x5ea9e3(0x3d6));return _0x540cfc;}catch(_0x4ee8e4){throw this[_0x5ea9e3(0x213)][_0x5ea9e3(0x519)](this[_0x5ea9e3(0x39e)]+'\x20('+this[_0x5ea9e3(0x6e3)][_0x5ea9e3(0x3b7)]+_0x5ea9e3(0x15e)+(_0x4ee8e4 instanceof Error?_0x4ee8e4['message']:JSON[_0x5ea9e3(0x11e)](_0x4ee8e4,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x4ee8e4 instanceof Error?_0x4ee8e4[_0x5ea9e3(0x531)]:JSON['stringify'](_0x4ee8e4,null,0x2)));}}async[a0_0x1b487a(0x678)](_0x5e16cd){const _0x15f5a1=a0_0x1b487a;try{this[_0x15f5a1(0x213)][_0x15f5a1(0x49b)](this[_0x15f5a1(0x39e)]+'\x20('+this[_0x15f5a1(0x6e3)]['wuid']+_0x15f5a1(0x7a));let _0x56a537=await this[_0x15f5a1(0x4d8)][_0x15f5a1(0x3c5)][_0x15f5a1(0x547)]({'where':{'name':_0x5e16cd['name']}},this[_0x15f5a1(0x6e3)][_0x15f5a1(0x3b7)]);if(!_0x56a537)throw new Error(_0x15f5a1(0x6d8));let _0x2b9f82=!0x1;if(_0x5e16cd[_0x15f5a1(0x55a)]?.[_0x15f5a1(0x522)]===!0x0)_0x56a537[_0x15f5a1(0x3aa)]=_0x56a537['varedits'][_0x15f5a1(0x4ab)](_0x1a8230=>_0x1a8230&&_0x5e16cd['varedit']&&_0x1a8230[_0x15f5a1(0x127)]&&_0x5e16cd[_0x15f5a1(0x55a)]['_id']&&_0x1a8230[_0x15f5a1(0x127)][_0x15f5a1(0x601)]()!==_0x5e16cd['varedit'][_0x15f5a1(0x127)]['toString']()),_0x2b9f82=!0x0;else{let _0x3fdd2d=_0x56a537[_0x15f5a1(0x3aa)][_0x15f5a1(0x3a8)](_0x4f123a=>_0x4f123a&&_0x5e16cd['varedit']&&_0x4f123a[_0x15f5a1(0x127)]&&_0x5e16cd[_0x15f5a1(0x55a)]['_id']&&_0x4f123a['_id'][_0x15f5a1(0x601)]()===_0x5e16cd['varedit'][_0x15f5a1(0x127)][_0x15f5a1(0x601)]());_0x3fdd2d?(_0x2b9f82=_0x3fdd2d['order']!==_0x5e16cd[_0x15f5a1(0x55a)]['order'],Object[_0x15f5a1(0x4bc)](_0x3fdd2d,_0x5e16cd[_0x15f5a1(0x55a)])):(_0x56a537[_0x15f5a1(0x3aa)][_0x15f5a1(0xd3)](_0x5e16cd['varedit']),_0x2b9f82=!0x0);}if(_0x2b9f82){_0x56a537[_0x15f5a1(0x3aa)][_0x15f5a1(0x50f)]((_0x447ae8,_0x1ab773)=>_0x447ae8[_0x15f5a1(0x38d)]>_0x1ab773['order']?0x1:_0x1ab773[_0x15f5a1(0x38d)]>_0x447ae8['order']?-0x1:0x0);for(let _0x3911cb=0x0;_0x3911cb<_0x56a537[_0x15f5a1(0x3aa)][_0x15f5a1(0x573)];_0x3911cb++)_0x56a537['varedits'][_0x3911cb][_0x15f5a1(0x38d)]=_0x3911cb+0x1;}let _0xd93a96=await this[_0x15f5a1(0x4d8)][_0x15f5a1(0x3c5)][_0x15f5a1(0x4bf)](_0x56a537['_id'],_0x56a537,this[_0x15f5a1(0x6e3)][_0x15f5a1(0x3b7)]);if(_0xd93a96&&_0xd93a96[_0x15f5a1(0x528)]&&_0xd93a96[_0x15f5a1(0x528)][_0x15f5a1(0x573)]>0x1&&this[_0x15f5a1(0x216)](_0xd93a96[_0x15f5a1(0x127)],this['instance'][_0x15f5a1(0x3b7)]),!_0xd93a96)throw new Error(_0x15f5a1(0x3d6));return _0xd93a96;}catch(_0x44e64c){throw this[_0x15f5a1(0x213)][_0x15f5a1(0x519)](this[_0x15f5a1(0x39e)]+'\x20('+this[_0x15f5a1(0x6e3)]['wuid']+_0x15f5a1(0x15e)+(_0x44e64c instanceof Error?_0x44e64c['message']:JSON[_0x15f5a1(0x11e)](_0x44e64c,null,0x2))),new w('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x44e64c instanceof Error?_0x44e64c[_0x15f5a1(0x531)]:JSON['stringify'](_0x44e64c,null,0x2)));}}async['editFlowVariable'](_0x4c5ae0){const _0x502ba2=a0_0x1b487a;try{this['logger'][_0x502ba2(0x49b)](this[_0x502ba2(0x39e)]+'\x20('+this[_0x502ba2(0x6e3)]['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x2fbed0=await this[_0x502ba2(0x4d8)][_0x502ba2(0x3c5)][_0x502ba2(0x547)]({'where':{'name':_0x4c5ae0[_0x502ba2(0x69e)]}},this['instance'][_0x502ba2(0x3b7)]);if(!_0x2fbed0)throw new Error(_0x502ba2(0x6d8));_0x4c5ae0['variable']['name']=_0x4c5ae0['variable'][_0x502ba2(0x69e)][_0x502ba2(0x328)](),_0x4c5ae0[_0x502ba2(0x358)][_0x502ba2(0x69e)]['startsWith']('_')&&(_0x4c5ae0['variable'][_0x502ba2(0x69e)]=_0x4c5ae0['variable']['name'][_0x502ba2(0x69f)](0x1)),_0x4c5ae0[_0x502ba2(0x358)][_0x502ba2(0x69e)]=_0x4c5ae0[_0x502ba2(0x358)][_0x502ba2(0x69e)][_0x502ba2(0x328)]();let _0x5f0465=_0x2fbed0['variables'][_0x502ba2(0x3a8)](_0x417451=>_0x417451[_0x502ba2(0x69e)]===_0x4c5ae0[_0x502ba2(0x358)][_0x502ba2(0x69e)]);if(_0x5f0465?.[_0x502ba2(0x1ce)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x4c5ae0['variable']?.['delete']===!0x0){if(!_0x5f0465)return{'message':_0x502ba2(0x115)};_0x2fbed0['variables']=_0x2fbed0[_0x502ba2(0x224)][_0x502ba2(0x4ab)](_0x1e43ce=>_0x1e43ce['name']!==_0x4c5ae0[_0x502ba2(0x358)][_0x502ba2(0x69e)]);}else _0x5f0465?Object['assign'](_0x5f0465,_0x4c5ae0['variable']):_0x2fbed0[_0x502ba2(0x224)]['push'](_0x4c5ae0[_0x502ba2(0x358)]);let _0x458f66=await this[_0x502ba2(0x4d8)][_0x502ba2(0x3c5)][_0x502ba2(0x4bf)](_0x2fbed0['_id'],_0x2fbed0,this[_0x502ba2(0x6e3)][_0x502ba2(0x3b7)]);if(_0x458f66&&_0x458f66['shareOwners']&&_0x458f66[_0x502ba2(0x528)][_0x502ba2(0x573)]>0x1&&this[_0x502ba2(0x216)](_0x458f66[_0x502ba2(0x127)],this['instance']['wuid']),!_0x458f66)throw new Error(_0x502ba2(0x3d6));return _0x458f66;}catch(_0x59d3f8){throw this[_0x502ba2(0x213)][_0x502ba2(0x519)](this[_0x502ba2(0x39e)]+'\x20('+this[_0x502ba2(0x6e3)]['wuid']+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x59d3f8 instanceof Error?_0x59d3f8['message']:JSON[_0x502ba2(0x11e)](_0x59d3f8,null,0x2))),new w(_0x502ba2(0x4bd)+(_0x59d3f8 instanceof Error?_0x59d3f8[_0x502ba2(0x531)]:JSON[_0x502ba2(0x11e)](_0x59d3f8,null,0x2)));}}async['startFlow'](_0xa2aaf5){const _0x3e86ab=a0_0x1b487a;let _0x156aa6=null;try{if(!this[_0x3e86ab(0x5a9)]?.['flowConfig'][_0x3e86ab(0x17a)])throw new w(_0x3e86ab(0x265));this[_0x3e86ab(0x213)][_0x3e86ab(0x49b)](this[_0x3e86ab(0x39e)]+'\x20('+this[_0x3e86ab(0x6e3)]['wuid']+_0x3e86ab(0x395));let _0x54da33=(await this['whatsappNumber']({'numbers':[_0xa2aaf5['remoteJid']]}))[0x0];if(!_0x54da33[_0x3e86ab(0x1be)]&&!(0x0,g[_0x3e86ab(0x5a7)])(_0x54da33[_0x3e86ab(0x37f)])&&!_0x54da33[_0x3e86ab(0x37f)]['includes'](_0x3e86ab(0x3b1)))throw _0x156aa6=JSON[_0x3e86ab(0x11e)](_0x54da33,null,0x2),new w(_0x54da33);let _0x59a4e1=await this[_0x3e86ab(0x4d8)][_0x3e86ab(0x3c5)][_0x3e86ab(0x547)]({'where':{'name':_0xa2aaf5['name']}},this['instance']['wuid']);if(!_0x59a4e1)return this['logger'][_0x3e86ab(0x519)](this['instanceName']+'\x20('+this[_0x3e86ab(0x6e3)][_0x3e86ab(0x3b7)]+_0x3e86ab(0x39c)),{'message':_0x3e86ab(0x6d8)};let _0x4b2cda=await this[_0x3e86ab(0x6e0)](_0x59a4e1,_0x54da33[_0x3e86ab(0x37f)],_0xa2aaf5['changeVariables']);if(_0x4b2cda){this[_0x3e86ab(0x213)][_0x3e86ab(0x49b)](this['instanceName']+'\x20('+this['instance'][_0x3e86ab(0x3b7)]+_0x3e86ab(0x1a2));let _0x28d588=await this[_0x3e86ab(0x95)](_0x4b2cda);return _0x28d588&&await this['processblock'](_0x4b2cda,_0x28d588),{'message':_0x3e86ab(0xdd)+_0xa2aaf5[_0x3e86ab(0x38f)]};}}catch(_0x213ea2){if(this['logger'][_0x3e86ab(0x519)](this[_0x3e86ab(0x39e)]+'\x20('+this['instance'][_0x3e86ab(0x3b7)]+_0x3e86ab(0xee)+(_0x213ea2 instanceof Error?_0x213ea2['message']:JSON[_0x3e86ab(0x11e)](_0x213ea2,null,0x2))),_0x156aa6=_0x213ea2 instanceof Error?_0x213ea2[_0x3e86ab(0x531)]:JSON['stringify'](_0x213ea2,null,0x2),_0x156aa6)throw new w('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x156aa6);}}async[a0_0x1b487a(0x27d)](_0x12a454){const _0x5ab847=a0_0x1b487a;try{let _0x38a29d={'remoteJid':_0x12a454,'status':_0x5ab847(0x2fd)},_0x2a1d7d={'status':_0x5ab847(0x6e4)},_0x138cf0=await this['repository'][_0x5ab847(0x571)][_0x5ab847(0x5a4)](_0x38a29d,_0x2a1d7d,this[_0x5ab847(0x6e3)]['wuid']);return this[_0x5ab847(0x213)]['verbose'](this[_0x5ab847(0x39e)]+'\x20('+this[_0x5ab847(0x6e3)]['wuid']+_0x5ab847(0x30d)),_0x138cf0;}catch(_0x3b482a){throw this['logger'][_0x5ab847(0x519)](this[_0x5ab847(0x39e)]+'\x20('+this[_0x5ab847(0x6e3)][_0x5ab847(0x3b7)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x3b482a['message']),_0x3b482a;}}async[a0_0x1b487a(0x6e0)](_0x12b8f4,_0x50679a,_0x2c47dc){const _0x1c7632=a0_0x1b487a;this['logger'][_0x1c7632(0x49b)](this[_0x1c7632(0x39e)]+'\x20('+this[_0x1c7632(0x6e3)][_0x1c7632(0x3b7)]+_0x1c7632(0x685)),await this['closeExistingConversations'](_0x50679a);try{let _0x30c0c7=require(_0x1c7632(0xbb))[_0x1c7632(0x40d)],_0xbed638=Date[_0x1c7632(0x6f)](),_0x47e9c5=_0x1c7632(0x4b7),_0x333bd2={},_0x50dbe8={},_0x54cd45={..._0x12b8f4,'chatLog':null},_0x368a83=await this['variablesToObject'](_0x54cd45[_0x1c7632(0x224)]),_0x16ec41=await this[_0x1c7632(0x5ab)](_0x50679a),_0x46ceaa={..._0x368a83,..._0x16ec41,'_remoteJid':_0x50679a},_0x282566={'lastReceivedMessage':_0x333bd2,'lastSendMessage':_0x50dbe8,'lastBlockId':_0x47e9c5,'lastCondition':!0x0,'realVariables':_0x46ceaa};_0x54cd45[_0x1c7632(0x329)]=_0x282566,_0x54cd45[_0x1c7632(0x329)][_0x1c7632(0x2d8)]={..._0x46ceaa,..._0x2c47dc},delete _0x54cd45[_0x1c7632(0x127)],_0x54cd45[_0x1c7632(0x127)]=new _0x30c0c7(),_0x54cd45[_0x1c7632(0x89)]=_0xbed638,_0x54cd45[_0x1c7632(0x14f)]='open',_0x54cd45[_0x1c7632(0x38f)]=_0x50679a;let _0x2b373f=await this[_0x1c7632(0x4d8)][_0x1c7632(0x571)]['updateOne'](_0x54cd45[_0x1c7632(0x127)],_0x54cd45,this[_0x1c7632(0x6e3)][_0x1c7632(0x3b7)]);return this[_0x1c7632(0x213)]['verbose'](this[_0x1c7632(0x39e)]+'\x20('+this['instance']['wuid']+_0x1c7632(0x5a2)),_0x2b373f?_0x54cd45:null;}catch(_0x21fdd3){throw this[_0x1c7632(0x213)][_0x1c7632(0x519)](this[_0x1c7632(0x39e)]+'\x20('+this[_0x1c7632(0x6e3)][_0x1c7632(0x3b7)]+_0x1c7632(0xc6)+(_0x21fdd3 instanceof Error?_0x21fdd3[_0x1c7632(0x531)]:JSON['stringify'](_0x21fdd3,null,0x2))),new w(_0x21fdd3[_0x1c7632(0x531)]);}}async[a0_0x1b487a(0x616)](_0x3c7d00){const _0x3deea6=a0_0x1b487a;try{this[_0x3deea6(0x213)][_0x3deea6(0x49b)](this[_0x3deea6(0x39e)]+'\x20('+this[_0x3deea6(0x6e3)][_0x3deea6(0x3b7)]+_0x3deea6(0x277)),this[_0x3deea6(0x213)][_0x3deea6(0x49b)](this[_0x3deea6(0x39e)]+'\x20('+this['instance'][_0x3deea6(0x3b7)]+_0x3deea6(0x5c8)+_0x3c7d00);let _0xd9e810={'where':{'_id':_0x3c7d00}};return await this[_0x3deea6(0x4d8)][_0x3deea6(0x571)][_0x3deea6(0x547)](_0xd9e810,this['instance']['wuid']);}catch(_0x4e4202){throw this[_0x3deea6(0x213)][_0x3deea6(0x519)](this['instanceName']+'\x20('+this[_0x3deea6(0x6e3)][_0x3deea6(0x3b7)]+_0x3deea6(0x112)+(_0x4e4202 instanceof Error?_0x4e4202['message']:JSON[_0x3deea6(0x11e)](_0x4e4202,null,0x2))),new w(_0x3deea6(0x587)+_0x4e4202[_0x3deea6(0x531)]);}}async[a0_0x1b487a(0x232)](_0xbf3554){const _0x3119c4=a0_0x1b487a;try{return this[_0x3119c4(0x213)]['verbose'](this[_0x3119c4(0x39e)]+'\x20('+this[_0x3119c4(0x6e3)][_0x3119c4(0x3b7)]+_0x3119c4(0x25d)),await this['repository'][_0x3119c4(0x571)][_0x3119c4(0x3a8)](_0xbf3554,this[_0x3119c4(0x6e3)][_0x3119c4(0x3b7)]);}catch(_0x5ab908){throw this['logger'][_0x3119c4(0x519)](this[_0x3119c4(0x39e)]+'\x20('+this['instance'][_0x3119c4(0x3b7)]+_0x3119c4(0x54b)+(_0x5ab908 instanceof Error?_0x5ab908[_0x3119c4(0x531)]:JSON[_0x3119c4(0x11e)](_0x5ab908,null,0x2))),new w(_0x3119c4(0x408)+_0x5ab908[_0x3119c4(0x531)]);}}async[a0_0x1b487a(0x84)](_0x5375b9){const _0x228963=a0_0x1b487a;try{return this[_0x228963(0x213)][_0x228963(0x49b)](this[_0x228963(0x39e)]+'\x20('+this['instance'][_0x228963(0x3b7)]+_0x228963(0x96)),this[_0x228963(0x213)][_0x228963(0x49b)](this[_0x228963(0x39e)]+'\x20('+this['instance'][_0x228963(0x3b7)]+_0x228963(0xd7)+_0x5375b9),(await this['repository']['flowConversation'][_0x228963(0x2e6)]({'where':{'_id':_0x5375b9}},this[_0x228963(0x6e3)]['wuid']))[_0x228963(0x5f7)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x616703){throw this[_0x228963(0x213)][_0x228963(0x519)](this[_0x228963(0x39e)]+'\x20('+this[_0x228963(0x6e3)][_0x228963(0x3b7)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x616703 instanceof Error?_0x616703[_0x228963(0x531)]:JSON[_0x228963(0x11e)](_0x616703,null,0x2))),new w(_0x228963(0x19f)+_0x616703[_0x228963(0x531)]);}}async['editConversation'](_0xd06926){const _0x55ae6f=a0_0x1b487a;try{let {_id:_0x2e1607,chatLog:_0x133833,status:_0x36c5e4}=_0xd06926;if(!_0x2e1607)return{'message':_0x55ae6f(0x10c)};let _0x55c7c3={};if(_0x36c5e4!==void 0x0&&(_0x55c7c3['status']=_0x36c5e4),Object[_0x55ae6f(0x2a5)](_0x55c7c3)[_0x55ae6f(0x573)]===0x0)return{'message':_0x55ae6f(0x625)};let _0x5d76a0=await this[_0x55ae6f(0x4d8)]['flowConversation'][_0x55ae6f(0x4bf)](_0x2e1607,_0x55c7c3,this[_0x55ae6f(0x6e3)][_0x55ae6f(0x3b7)]);return _0x5d76a0||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x512ef9){throw this[_0x55ae6f(0x213)][_0x55ae6f(0x519)](this[_0x55ae6f(0x39e)]+'\x20('+this[_0x55ae6f(0x6e3)][_0x55ae6f(0x3b7)]+_0x55ae6f(0x456)+(_0x512ef9 instanceof Error?_0x512ef9[_0x55ae6f(0x531)]:JSON[_0x55ae6f(0x11e)](_0x512ef9,null,0x2))),new w(_0x55ae6f(0x6d6)+_0x512ef9[_0x55ae6f(0x531)]);}}async['editChat'](_0x560e00){const _0x4a67eb=a0_0x1b487a;let _0x204d75=await this['repository']['chat'][_0x4a67eb(0x547)]({'where':{'_id':_0x560e00['_id']}},this['instance'][_0x4a67eb(0x3b7)]);if(!_0x204d75)throw new w(_0x4a67eb(0x360));console[_0x4a67eb(0x18d)](_0x560e00);try{_0x560e00[_0x4a67eb(0x127)]=this[_0x4a67eb(0x330)](_0x560e00[_0x4a67eb(0x127)]);let {_id:_0x3cf3e3,leadInfo:_0x4d9f88}=_0x560e00;if(!_0x3cf3e3)throw new Error(_0x4a67eb(0x83));let _0x57bb58=(_0x580d42,_0x38c7f3,_0x58bf0c)=>{const _0xc1a00c=_0x4a67eb;_0x580d42&&_0x58bf0c[_0xc1a00c(0x6d9)](_0x2779a2=>{const _0x478bb6=_0xc1a00c;_0x580d42[_0x2779a2]!==void 0x0&&(_0x38c7f3[_0x478bb6(0x1c7)+_0x2779a2]=_0x580d42[_0x2779a2]);});},_0x13cea7={};if(_0x4d9f88&&(_0x57bb58(_0x4d9f88,_0x13cea7,['nome',_0x4a67eb(0x334),_0x4a67eb(0x4d2),'cpf','status',_0x4a67eb(0x5c7),_0x4a67eb(0x130),_0x4a67eb(0x48e),'responsavelid','etiquetas']),Array[_0x4a67eb(0x1f2)](_0x4d9f88[_0x4a67eb(0x13a)])&&(_0x13cea7['leadInfo.customFields']=_0x4d9f88['customFields'][_0x4a67eb(0x381)](_0xcd787f=>({'_id':_0xcd787f[_0x4a67eb(0x127)],'value':_0xcd787f[_0x4a67eb(0x68c)]}))),_0x560e00[_0x4a67eb(0x1ce)][_0x4a67eb(0x532)]!==void 0x0)){let _0x4ae82b=await this[_0x4a67eb(0x4d8)][_0x4a67eb(0xa1)]['find']({'where':{}},this[_0x4a67eb(0x6e3)]['wuid']),_0xd25241=new Set(_0x560e00[_0x4a67eb(0x1ce)]['etiquetas']||[]),_0x343b2c=new Set(_0x560e00[_0x4a67eb(0x1ce)]['etiquetas']),_0x2a4d29=new Set(_0x4ae82b[_0x4a67eb(0x381)](_0x2cf6dc=>_0x2cf6dc[_0x4a67eb(0x127)])),_0x5a9231=[..._0x343b2c][_0x4a67eb(0x4ab)](_0x4dedaa=>!_0xd25241[_0x4a67eb(0x2c1)](_0x4dedaa)&&_0x2a4d29[_0x4a67eb(0x2c1)](_0x4dedaa)),_0xc4e236=[..._0xd25241]['filter'](_0x2c68dc=>!_0x343b2c['has'](_0x2c68dc));if(_0x13cea7['leadInfo.etiquetas']=[..._0xd25241],_0x204d75&&!_0x204d75[_0x4a67eb(0x5c9)]){for(let _0x27576e of _0x5a9231)await this[_0x4a67eb(0x49f)](_0x27576e,_0x560e00['_id']),_0xd25241[_0x4a67eb(0x3f9)](_0x27576e);for(let _0x5ce492 of _0xc4e236)await this['RemoveChatLabel'](_0x5ce492,_0x560e00[_0x4a67eb(0x127)]),_0xd25241[_0x4a67eb(0x522)](_0x5ce492);}}if(_0x560e00[_0x4a67eb(0x20c)]!==void 0x0&&(_0x13cea7[_0x4a67eb(0x20c)]=Number(_0x560e00[_0x4a67eb(0x20c)])),Object[_0x4a67eb(0x2a5)](_0x13cea7)['length']===0x0)throw new Error(_0x4a67eb(0x625));let _0x1cc199=await this[_0x4a67eb(0x4d8)][_0x4a67eb(0x23d)][_0x4a67eb(0x4bf)]({'where':{'_id':_0x560e00[_0x4a67eb(0x127)]}},_0x13cea7,this[_0x4a67eb(0x6e3)][_0x4a67eb(0x3b7)]);return _0x1cc199&&q(this['instanceName'],'chats',{'chat':_0x1cc199}),_0x1cc199?(this[_0x4a67eb(0x213)][_0x4a67eb(0x49b)](this['instanceName']+'\x20('+this['instance'][_0x4a67eb(0x3b7)]+'):\x20'+JSON['stringify'](_0x1cc199,null,0x2)),_0x1cc199):{'message':_0x4a67eb(0x31a)};}catch(_0x2d39da){throw this[_0x4a67eb(0x213)][_0x4a67eb(0x519)](this[_0x4a67eb(0x39e)]+'\x20('+this['instance'][_0x4a67eb(0x3b7)]+_0x4a67eb(0x44d)+(_0x2d39da instanceof Error?_0x2d39da['message']:JSON[_0x4a67eb(0x11e)](_0x2d39da,null,0x2))),new w(_0x4a67eb(0x6e)+_0x2d39da[_0x4a67eb(0x531)]);}}async[a0_0x1b487a(0x49f)](_0x3894f0,_0x17c379){const _0x3254c0=a0_0x1b487a;try{await this[_0x3254c0(0x367)][_0x3254c0(0x3af)](_0x17c379,_0x3894f0),console[_0x3254c0(0x18d)](_0x3254c0(0x1bf)+_0x3894f0+'\x20adicionado\x20ao\x20chat\x20'+_0x17c379+_0x3254c0(0x2a4));}catch(_0x170374){console['error'](_0x3254c0(0x80)+_0x3894f0+_0x3254c0(0x33b)+_0x17c379+':',_0x170374);}}async[a0_0x1b487a(0x502)](_0x31fc0b,_0x44ed6f){const _0x55a69b=a0_0x1b487a;try{await this['client'][_0x55a69b(0x582)](_0x44ed6f,_0x31fc0b),console['log'](_0x55a69b(0x1bf)+_0x31fc0b+_0x55a69b(0x2a8)+_0x44ed6f+_0x55a69b(0x2a4));}catch(_0xe4cc8a){console['error'](_0x55a69b(0x5d5)+_0x31fc0b+_0x55a69b(0x4aa)+_0x44ed6f+':',_0xe4cc8a);}}async['updateAgent'](_0x51e8de){const _0x65e85d=a0_0x1b487a;try{let _0x1f8a89=await this[_0x65e85d(0x4d8)][_0x65e85d(0x2f0)]['findOrCreate'](this[_0x65e85d(0x6e3)]['wuid']),_0x1e7b46=_0x51e8de[_0x65e85d(0x127)]?_0x1f8a89[_0x65e85d(0x36a)]['findIndex'](_0x472473=>_0x472473['_id']===_0x51e8de[_0x65e85d(0x127)]):-0x1;if(_0x51e8de[_0x65e85d(0x522)]&&_0x1e7b46>-0x1)_0x1f8a89[_0x65e85d(0x36a)][_0x65e85d(0x646)](_0x1e7b46,0x1);else{if(_0x1e7b46>-0x1){let _0x5b5fb1=_0x1f8a89[_0x65e85d(0x36a)][_0x1e7b46];_0x51e8de[_0x65e85d(0x510)]&&(_0x5b5fb1[_0x65e85d(0x510)]=_0x51e8de[_0x65e85d(0x510)]),_0x51e8de['name']&&(_0x5b5fb1[_0x65e85d(0x69e)]=_0x51e8de['name']),_0x51e8de['email']&&(_0x5b5fb1['email']=_0x51e8de['email']),_0x51e8de[_0x65e85d(0x231)]&&(_0x5b5fb1[_0x65e85d(0x231)]=_0x51e8de['role']);}else _0x1f8a89['agents']['push']({'_id':_0x51e8de[_0x65e85d(0x127)]||new ce[(_0x65e85d(0x66d))]['Types']['ObjectId']()['toString'](),'fone':_0x51e8de[_0x65e85d(0x510)],'name':_0x51e8de[_0x65e85d(0x69e)],'email':_0x51e8de['email'],'role':_0x51e8de[_0x65e85d(0x231)]});}let _0x2d309f={'agents':_0x1f8a89[_0x65e85d(0x36a)]},_0x4e4b61=await this[_0x65e85d(0x4d8)][_0x65e85d(0x2f0)]['update'](_0x2d309f,this['instance']['wuid']);return this[_0x65e85d(0x5a9)]=_0x4e4b61,this[_0x65e85d(0x213)]['verbose'](this[_0x65e85d(0x39e)]+'\x20('+this['instance'][_0x65e85d(0x3b7)]+_0x65e85d(0x609)),this[_0x65e85d(0x213)][_0x65e85d(0x49b)](this[_0x65e85d(0x39e)]+'\x20('+this[_0x65e85d(0x6e3)][_0x65e85d(0x3b7)]+_0x65e85d(0x6b6)+this[_0x65e85d(0x5a9)]),_0x4e4b61;}catch(_0x152c56){throw this['logger'][_0x65e85d(0x519)](this['instanceName']+'\x20('+this[_0x65e85d(0x6e3)][_0x65e85d(0x3b7)]+_0x65e85d(0x489)+(_0x152c56 instanceof Error?_0x152c56['message']:JSON[_0x65e85d(0x11e)](_0x152c56,null,0x2))),new w(_0x65e85d(0x57e)+_0x152c56[_0x65e85d(0x531)]);}}async[a0_0x1b487a(0x5d0)](_0x460041){const _0x5e04ce=a0_0x1b487a;try{let _0x57938f=await this[_0x5e04ce(0x4d8)][_0x5e04ce(0x2f0)]['findOrCreate'](this[_0x5e04ce(0x6e3)][_0x5e04ce(0x3b7)]),_0x5b8dac=_0x460041['_id']?_0x57938f[_0x5e04ce(0x13a)][_0x5e04ce(0xc0)](_0x40c90e=>_0x40c90e['_id']===_0x460041['_id']):-0x1,_0xbafc24=!0x1,_0x4b2379=_0x57938f['customFields'][_0x5e04ce(0x660)](_0x4b3827=>_0x4b3827[_0x5e04ce(0x38d)]===_0x460041[_0x5e04ce(0x38d)]);if(_0x460041[_0x5e04ce(0x522)]&&_0x5b8dac>-0x1)_0x57938f[_0x5e04ce(0x13a)][_0x5e04ce(0x646)](_0x5b8dac,0x1),_0xbafc24=!0x0;else{if(_0x5b8dac>-0x1){if(_0x57938f[_0x5e04ce(0x13a)][_0x5e04ce(0x660)](_0x1e9bd4=>_0x1e9bd4[_0x5e04ce(0x69e)]===_0x460041[_0x5e04ce(0x69e)]&&_0x1e9bd4[_0x5e04ce(0x127)]!==_0x460041[_0x5e04ce(0x127)]))throw new Error(_0x5e04ce(0x551));let _0x5ec45c=_0x57938f[_0x5e04ce(0x13a)][_0x5b8dac];_0x460041[_0x5e04ce(0x38d)]&&(_0x4b2379||!Number[_0x5e04ce(0x6ae)](_0x460041[_0x5e04ce(0x38d)]))&&(_0x5ec45c['order']=_0x460041[_0x5e04ce(0x38d)],_0xbafc24=!0x0),_0x460041[_0x5e04ce(0x69e)]&&(_0x5ec45c['name']=_0x460041[_0x5e04ce(0x69e)]);}else{if(_0x57938f[_0x5e04ce(0x13a)][_0x5e04ce(0x660)](_0x9b8e7a=>_0x9b8e7a['name']===_0x460041[_0x5e04ce(0x69e)]&&_0x9b8e7a[_0x5e04ce(0x127)]!==_0x460041[_0x5e04ce(0x127)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x57938f[_0x5e04ce(0x13a)][_0x5e04ce(0xd3)]({'_id':_0x460041['_id']||new ce[(_0x5e04ce(0x66d))][(_0x5e04ce(0x1a5))][(_0x5e04ce(0x40d))]()[_0x5e04ce(0x601)](),'order':_0x460041[_0x5e04ce(0x38d)],'name':_0x460041[_0x5e04ce(0x69e)]}),_0xbafc24=!0x0;}}if(_0xbafc24){_0x57938f[_0x5e04ce(0x13a)][_0x5e04ce(0x50f)]((_0x43e52a,_0x249a8f)=>_0x43e52a['order']>_0x249a8f[_0x5e04ce(0x38d)]?0x1:_0x249a8f['order']>_0x43e52a['order']?-0x1:0x0);for(let _0xe598e3=0x0;_0xe598e3<_0x57938f['customFields'][_0x5e04ce(0x573)];_0xe598e3++)_0x57938f[_0x5e04ce(0x13a)][_0xe598e3][_0x5e04ce(0x38d)]=_0xe598e3+0x1;}let _0x479b56=await this['repository'][_0x5e04ce(0x2f0)][_0x5e04ce(0x4f5)](_0x57938f,this[_0x5e04ce(0x6e3)][_0x5e04ce(0x3b7)]);return this[_0x5e04ce(0x5a9)]=_0x479b56,this[_0x5e04ce(0x213)][_0x5e04ce(0x49b)](this[_0x5e04ce(0x39e)]+'\x20('+this[_0x5e04ce(0x6e3)]['wuid']+_0x5e04ce(0xc5)),this['logger']['verbose'](this[_0x5e04ce(0x39e)]+'\x20('+this[_0x5e04ce(0x6e3)][_0x5e04ce(0x3b7)]+'):\x20'+this['AutomateSystem']),_0x479b56;}catch(_0x3a2446){throw this['logger']['error'](this[_0x5e04ce(0x39e)]+'\x20('+this[_0x5e04ce(0x6e3)][_0x5e04ce(0x3b7)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x3a2446 instanceof Error?_0x3a2446[_0x5e04ce(0x531)]:JSON[_0x5e04ce(0x11e)](_0x3a2446,null,0x2))),new w(_0x5e04ce(0x563)+_0x3a2446[_0x5e04ce(0x531)]);}}async[a0_0x1b487a(0x469)](_0x3d3787){const _0x4be4d0=a0_0x1b487a;try{let _0x5ab343=await this[_0x4be4d0(0x4d8)][_0x4be4d0(0x2f0)]['findOrCreate'](this[_0x4be4d0(0x6e3)][_0x4be4d0(0x3b7)]);if(!_0x5ab343)throw new Error(_0x4be4d0(0x6f5));let _0x1cd9d7={'_id':_0x5ab343[_0x4be4d0(0x127)],'flowConfig':{'enabled':_0x3d3787[_0x4be4d0(0x17a)]??_0x5ab343[_0x4be4d0(0x454)]['enabled'],'ignoreGroups':_0x3d3787[_0x4be4d0(0xdc)]??_0x5ab343[_0x4be4d0(0x454)][_0x4be4d0(0xdc)],'prefixCommand':_0x3d3787[_0x4be4d0(0x485)]??_0x5ab343['flowConfig'][_0x4be4d0(0x485)],'stopConversation':_0x3d3787['stopConversation']??_0x5ab343[_0x4be4d0(0x454)][_0x4be4d0(0x3fb)],'stopMinutes':_0x3d3787[_0x4be4d0(0x186)]??_0x5ab343[_0x4be4d0(0x454)]['stopMinutes'],'stopWhenYouSendMsg':_0x3d3787['stopWhenYouSendMsg']??_0x5ab343[_0x4be4d0(0x454)][_0x4be4d0(0x593)]}},_0x12ddc8=await this[_0x4be4d0(0x4d8)]['automateSystem'][_0x4be4d0(0x4f5)](_0x1cd9d7,this[_0x4be4d0(0x6e3)][_0x4be4d0(0x3b7)]);return this[_0x4be4d0(0x5a9)]=_0x12ddc8,this[_0x4be4d0(0x213)][_0x4be4d0(0x49b)](this[_0x4be4d0(0x39e)]+'\x20('+this[_0x4be4d0(0x6e3)][_0x4be4d0(0x3b7)]+_0x4be4d0(0x609)),this['logger'][_0x4be4d0(0x49b)](this[_0x4be4d0(0x39e)]+'\x20('+this[_0x4be4d0(0x6e3)][_0x4be4d0(0x3b7)]+_0x4be4d0(0x6b6)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x12ddc8;}catch(_0x841287){throw this['logger'][_0x4be4d0(0x519)](this[_0x4be4d0(0x39e)]+'\x20('+this[_0x4be4d0(0x6e3)]['wuid']+_0x4be4d0(0x654)+(_0x841287 instanceof Error?_0x841287[_0x4be4d0(0x531)]:JSON[_0x4be4d0(0x11e)](_0x841287,null,0x2))),new w('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x841287[_0x4be4d0(0x531)]);}}async[a0_0x1b487a(0x2fe)](){const _0x46a021=a0_0x1b487a;try{let _0x4af942=await this[_0x46a021(0x4d8)][_0x46a021(0x2f0)]['findOrCreate'](this['instance'][_0x46a021(0x3b7)]);return this[_0x46a021(0x5a9)]=_0x4af942,this[_0x46a021(0x213)][_0x46a021(0x49b)](this['instanceName']+'\x20('+this[_0x46a021(0x6e3)][_0x46a021(0x3b7)]+_0x46a021(0xb1)),this[_0x46a021(0x213)][_0x46a021(0x49b)](this[_0x46a021(0x5a9)]),_0x4af942;}catch(_0x2c5e8d){throw this[_0x46a021(0x213)][_0x46a021(0x519)](this[_0x46a021(0x39e)]+'\x20('+this['instance'][_0x46a021(0x3b7)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x2c5e8d instanceof Error?_0x2c5e8d['message']:JSON[_0x46a021(0x11e)](_0x2c5e8d,null,0x2))),new w(_0x46a021(0x153)+_0x2c5e8d[_0x46a021(0x531)]);}}async[a0_0x1b487a(0x2bb)](){const _0xa4b2a0=a0_0x1b487a;this[_0xa4b2a0(0x421)]&&clearTimeout(this['timerId']),this[_0xa4b2a0(0x421)]=setTimeout(()=>{const _0x15c2cf=_0xa4b2a0;this[_0x15c2cf(0x6f3)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1b487a(0x6f3)](){const _0xd773f2=a0_0x1b487a;Date[_0xd773f2(0x6f)]()-this[_0xd773f2(0x420)]>=0x1d4c0&&(this[_0xd773f2(0x213)][_0xd773f2(0x49b)](this[_0xd773f2(0x39e)]+'\x20('+this[_0xd773f2(0x6e3)][_0xd773f2(0x3b7)]+_0xd773f2(0x468)),this[_0xd773f2(0x2d0)]=null,this['lastSend']=0x0,this[_0xd773f2(0x479)]=0x0,await this[_0xd773f2(0x4be)]());}async[a0_0x1b487a(0x4be)](){const _0xe56135=a0_0x1b487a;let _0x4cc9c7=()=>{const _0x41bb65=a0_0x32d2;this[_0x41bb65(0x213)][_0x41bb65(0x49b)](this[_0x41bb65(0x39e)]+'\x20('+this[_0x41bb65(0x6e3)][_0x41bb65(0x3b7)]+'):\x20this.processingScheduleMessageId:\x20'+this['processingScheduleMessageId']+_0x41bb65(0x1ab));},_0x49d08f=async()=>{const _0x5795b7=a0_0x32d2;this['logger'][_0x5795b7(0x49b)](this['instanceName']+'\x20('+this[_0x5795b7(0x6e3)][_0x5795b7(0x3b7)]+_0x5795b7(0x148));let _0x2c179f=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0xc687b9={'where':{'status':{'$in':[_0x5795b7(0x63a),'sending']},'$or':[{'when':{'$lte':Date[_0x5795b7(0x6f)](),'$gte':_0x2c179f}},{'when':0x0}]}};return await this['repository'][_0x5795b7(0x49c)][_0x5795b7(0x3a8)](_0xc687b9,this[_0x5795b7(0x6e3)]['wuid']);},_0x17ce25=async _0x349336=>{const _0x1707fe=a0_0x32d2;for(let _0x2be291 of _0x349336){let _0x56ae58={'_id':_0x2be291[_0x1707fe(0x127)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1707fe(0x6f)]()-0x1770}}]},_0x3313e6={'startSend':Date[_0x1707fe(0x6f)]()};if(!await this[_0x1707fe(0x4d8)][_0x1707fe(0x49c)][_0x1707fe(0x4bf)](_0x56ae58,_0x3313e6,this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]))return;if(!this['isConnected']){this['logger']['verbose'](this[_0x1707fe(0x39e)]+'\x20('+this[_0x1707fe(0x6e3)]['wuid']+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x2be291['type']===_0x1707fe(0x3c5)&&!this[_0x1707fe(0x5a9)]?.[_0x1707fe(0x454)][_0x1707fe(0x17a)]){this['logger'][_0x1707fe(0x519)](this['instanceName']+'\x20('+this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x2be291['remoteJidsRemaining']||_0x2be291[_0x1707fe(0x588)][_0x1707fe(0x573)]===0x0)&&(_0x2be291=await this['repository']['scheduleMessage'][_0x1707fe(0x657)](_0x2be291[_0x1707fe(0x127)],{'status':_0x1707fe(0x4fe),'remoteJidsRemaining':[..._0x2be291[_0x1707fe(0x35b)]]},this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]));for(let _0x49eb51 of _0x2be291[_0x1707fe(0x588)]){if(await this[_0x1707fe(0x2bb)](),this[_0x1707fe(0x420)]=Date[_0x1707fe(0x6f)](),this[_0x1707fe(0x5cc)]===_0x49eb51){this['logger'][_0x1707fe(0x519)](this[_0x1707fe(0x39e)]+'\x20('+this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]+_0x1707fe(0x12e)+_0x49eb51+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x1edce4={'$push':{'messagesSend':{'remoteJid':_0x49eb51,'error':!0x0,'id':null,'error_log':_0x1707fe(0x3ef),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x49eb51}};await this['repository']['scheduleMessage']['updateOneById'](_0x2be291['_id'],_0x1edce4,this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]);continue;}if(this[_0x1707fe(0x5cc)]=_0x49eb51,_0x2be291['messagesSend'][_0x1707fe(0x660)](_0x14c95d=>_0x14c95d[_0x1707fe(0x38f)]===_0x49eb51)){this[_0x1707fe(0x213)][_0x1707fe(0x49b)](this[_0x1707fe(0x39e)]+'\x20('+this['instance'][_0x1707fe(0x3b7)]+_0x1707fe(0x29a)+_0x49eb51+_0x1707fe(0x13b));continue;}if(!this[_0x1707fe(0x221)]){this['logger'][_0x1707fe(0x49b)](this[_0x1707fe(0x39e)]+'\x20('+this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]+_0x1707fe(0x2b7));break;}if(!this[_0x1707fe(0x2d0)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]+_0x1707fe(0x143)+_0x2be291[_0x1707fe(0x127)]+_0x1707fe(0x268));break;}if(_0x2be291['type']==='flow'&&!this[_0x1707fe(0x5a9)]?.[_0x1707fe(0x454)][_0x1707fe(0x17a)]){this['logger'][_0x1707fe(0x519)](this[_0x1707fe(0x39e)]+'\x20('+this[_0x1707fe(0x6e3)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x11bfd3={'remoteJid':_0x49eb51,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x371ad5=null;try{let _0x3667f0=await this[_0x1707fe(0x31e)](_0x49eb51,_0x2be291);_0x11bfd3[_0x1707fe(0x519)]=_0x3667f0[_0x1707fe(0x519)],_0x11bfd3['id']=_0x3667f0[_0x1707fe(0x519)]?null:_0x3667f0['id'],_0x11bfd3[_0x1707fe(0x555)]=_0x3667f0[_0x1707fe(0x519)]?_0x3667f0[_0x1707fe(0x424)]?_0x3667f0['detail']['toString']():'':null;let _0x24cc87={'$push':{'messagesSend':_0x11bfd3},'$pull':{'remoteJidsRemaining':_0x49eb51}},_0x33d90d=_0x2be291['_id'];if(_0x371ad5=await this[_0x1707fe(0x4d8)]['scheduleMessage']['updateOneById'](_0x33d90d,_0x24cc87,this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]),_0x3667f0[_0x1707fe(0x519)])continue;let _0x53a93f=this['getDelay'](_0x2be291[_0x1707fe(0x2f6)],_0x2be291['delaySecMax']);await this[_0x1707fe(0x4ca)](_0x53a93f);}catch(_0x601743){this[_0x1707fe(0x213)][_0x1707fe(0x519)](this[_0x1707fe(0x39e)]+'\x20('+this[_0x1707fe(0x6e3)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x49eb51+':\x20'+(_0x601743 instanceof Error?_0x601743['message']:JSON['stringify'](_0x601743,null,0x2))),_0x11bfd3['error']=!0x0,_0x11bfd3[_0x1707fe(0x555)]=_0x601743[_0x1707fe(0x531)];let _0x48108e={'$push':{'messagesSend':_0x11bfd3},'$pull':{'remoteJidsRemaining':_0x49eb51}},_0x372466=_0x2be291[_0x1707fe(0x127)];_0x371ad5=await this[_0x1707fe(0x4d8)][_0x1707fe(0x49c)][_0x1707fe(0x657)](_0x372466,_0x48108e,this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]);}finally{if(_0x371ad5&&_0x371ad5[_0x1707fe(0x14f)]===_0x1707fe(0x6c3)){this[_0x1707fe(0x213)][_0x1707fe(0x49b)](this[_0x1707fe(0x39e)]+'\x20('+this['instance'][_0x1707fe(0x3b7)]+_0x1707fe(0x143)+_0x2be291[_0x1707fe(0x127)]+_0x1707fe(0x5df));break;}}}let _0x340c88=await this[_0x1707fe(0x4d8)][_0x1707fe(0x49c)][_0x1707fe(0x1d7)](_0x2be291[_0x1707fe(0x127)],this[_0x1707fe(0x6e3)]['wuid']);if(_0x340c88[_0x1707fe(0x588)]['length']===0x0&&_0x340c88[_0x1707fe(0x14f)]!==_0x1707fe(0x6c3)){let _0x3c07d3={'$set':{'status':'done'}},_0x3272b0=_0x340c88['_id'];await this[_0x1707fe(0x4d8)][_0x1707fe(0x49c)]['updateOneById'](_0x3272b0,_0x3c07d3,this[_0x1707fe(0x6e3)][_0x1707fe(0x3b7)]);}await new Promise(_0x35045e=>setTimeout(_0x35045e,0x1388));}},_0xfc459=async()=>{const _0x19476f=a0_0x32d2;let _0x4aee70={'where':{'status':_0x19476f(0x63a),'when':{'$gt':Date[_0x19476f(0x6f)]()}}},_0x3b757c=await this[_0x19476f(0x4d8)]['scheduleMessage']['findOne'](_0x4aee70,this[_0x19476f(0x6e3)]['wuid']);_0x3b757c&&_0x3b757c['when']-Date[_0x19476f(0x6f)]()<=0x5265c00?this[_0x19476f(0x479)]=_0x3b757c['when']-Date[_0x19476f(0x6f)]():this[_0x19476f(0x479)]=(0x3c+Math[_0x19476f(0x477)](Math[_0x19476f(0x3c1)]()*0x3c))*0x3c*0x3e8,this[_0x19476f(0x479)]=Math[_0x19476f(0x41b)](this['delayMessage'],0x7d0);let _0x12580c=Math['round'](this[_0x19476f(0x479)]/0xea60);if(_0x3b757c){let _0x3d773f=new Date(_0x3b757c[_0x19476f(0x3ca)])[_0x19476f(0x11d)]();this[_0x19476f(0x213)][_0x19476f(0x49b)](this[_0x19476f(0x39e)]+'\x20('+this[_0x19476f(0x6e3)][_0x19476f(0x3b7)]+_0x19476f(0xe1)+_0x3d773f+_0x19476f(0x493)+_0x12580c+_0x19476f(0x1d2));}else this[_0x19476f(0x213)][_0x19476f(0x49b)](this[_0x19476f(0x39e)]+'\x20('+this[_0x19476f(0x6e3)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x12580c+_0x19476f(0x1d2));setTimeout(()=>this[_0x19476f(0x4be)](),this[_0x19476f(0x479)]);};if(this[_0xe56135(0x2d0)]){await this[_0xe56135(0x2bb)](),_0x4cc9c7();return;}if(!this[_0xe56135(0x221)]){this['logger']['verbose'](this[_0xe56135(0x39e)]+'\x20('+this['instance']['wuid']+_0xe56135(0x696)),this['processingScheduleMessageId']=null,this[_0xe56135(0x420)]=0x0,this[_0xe56135(0x479)]=0x0;return;}try{let _0x4664d2=await _0x49d08f();_0x4664d2[_0xe56135(0x573)]===0x0?this[_0xe56135(0x213)][_0xe56135(0x49b)](this['instanceName']+'\x20('+this[_0xe56135(0x6e3)][_0xe56135(0x3b7)]+_0xe56135(0x4e1)):(this[_0xe56135(0x2d0)]=_0x4664d2[0x0]['_id'],await _0x17ce25(_0x4664d2)),await _0xfc459(),this[_0xe56135(0x2d0)]=null;}catch(_0x309d66){this['logger'][_0xe56135(0x519)](_0xe56135(0x309)+(_0x309d66 instanceof Error?_0x309d66['message']:JSON[_0xe56135(0x11e)](_0x309d66,null,0x2)));}}[a0_0x1b487a(0x1de)](_0x359b2b,_0x272d04){const _0x3dc3ac=a0_0x1b487a;return _0x359b2b=Math[_0x3dc3ac(0x41b)](0.5,_0x359b2b),_0x272d04=Math[_0x3dc3ac(0xc9)](Math[_0x3dc3ac(0x41b)](0x3,_0x272d04),0x78),Math[_0x3dc3ac(0x477)](Math[_0x3dc3ac(0x3c1)]()*(_0x272d04-_0x359b2b+0x1)+_0x359b2b)*0x3e8;}[a0_0x1b487a(0x4ca)](_0x5a83c4){return new Promise(_0x46d19b=>setTimeout(_0x46d19b,_0x5a83c4));}async[a0_0x1b487a(0x5ab)](_0x5e4a82){const _0x177143=a0_0x1b487a;if(!this[_0x177143(0x5a9)]&&(await this[_0x177143(0x2fe)](),!this['AutomateSystem']))return null;_0x5e4a82=this['createJid'](_0x5e4a82);let _0x2919a4=await this[_0x177143(0x4d8)][_0x177143(0x23d)]['findOne']({'where':{'_id':_0x5e4a82}},this[_0x177143(0x6e3)][_0x177143(0x3b7)]),_0x1c4662={};if(_0x2919a4&&_0x2919a4[_0x177143(0x1ce)]){let _0x2ac2b1=_0x2919a4[_0x177143(0x1ce)];typeof _0x2ac2b1[_0x177143(0x497)]=='string'&&(_0x1c4662[_0x177143(0x497)]=_0x2ac2b1[_0x177143(0x497)]),typeof _0x2ac2b1[_0x177143(0x334)]==_0x177143(0x10a)&&(_0x1c4662[_0x177143(0x334)]=_0x2ac2b1[_0x177143(0x334)]),typeof _0x2ac2b1['email']==_0x177143(0x10a)&&(_0x1c4662['email']=_0x2ac2b1['email']),typeof _0x2ac2b1[_0x177143(0x26c)]==_0x177143(0x10a)&&(_0x1c4662['cpf']=_0x2ac2b1['cpf']),typeof _0x2ac2b1[_0x177143(0x14f)]==_0x177143(0x10a)&&(_0x1c4662[_0x177143(0x14f)]=_0x2ac2b1[_0x177143(0x14f)]),typeof _0x2ac2b1['notas']=='string'&&(_0x1c4662[_0x177143(0x5c7)]=_0x2ac2b1[_0x177143(0x5c7)]),typeof _0x2ac2b1[_0x177143(0x667)]==_0x177143(0x10a)&&(_0x1c4662[_0x177143(0x667)]=_0x2ac2b1[_0x177143(0x667)]),Array[_0x177143(0x1f2)](_0x2ac2b1[_0x177143(0x130)])&&(_0x1c4662[_0x177143(0x130)]=_0x2ac2b1[_0x177143(0x130)][_0x177143(0xf6)](',\x20')),Array[_0x177143(0x1f2)](_0x2ac2b1[_0x177143(0x532)])&&(_0x1c4662[_0x177143(0x532)]=_0x2ac2b1[_0x177143(0x532)][_0x177143(0xf6)](',\x20'));}return _0x2919a4&&_0x2919a4[_0x177143(0x1ce)]&&_0x2919a4[_0x177143(0x1ce)]['customFields']&&_0x2919a4['leadInfo'][_0x177143(0x13a)]['forEach'](_0x2b9350=>{const _0x52c00a=_0x177143;let _0x188d93=this[_0x52c00a(0x5a9)]?.['customFields'][_0x52c00a(0x3a8)](_0x2ed112=>_0x2ed112['_id']===_0x2b9350['_id']);_0x188d93&&(_0x1c4662[_0x188d93[_0x52c00a(0x69e)]]=_0x2b9350[_0x52c00a(0x68c)]);}),_0x1c4662;}async[a0_0x1b487a(0x5d8)](_0x3a77bb,_0x323461){const _0x5e2787=a0_0x1b487a;let _0x32098d=await this[_0x5e2787(0x5ab)](_0x323461);return this[_0x5e2787(0x4b0)](_0x3a77bb,_0x32098d);}async['editScheduleMessage'](_0x2a34b3){const _0x2a2dd=a0_0x1b487a;try{if(this['logger'][_0x2a2dd(0x49b)](this[_0x2a2dd(0x39e)]+'\x20('+this['instance'][_0x2a2dd(0x3b7)]+_0x2a2dd(0x5c6)),_0x2a34b3[_0x2a2dd(0x522)]&&_0x2a34b3[_0x2a2dd(0x127)]){if(this['processingScheduleMessageId']===_0x2a34b3['_id'][_0x2a2dd(0x601)]())throw new Error(_0x2a2dd(0x2dd));let _0x1d4309=await this['repository']['scheduleMessage'][_0x2a2dd(0x2e6)](_0x2a34b3['_id'],this[_0x2a2dd(0x6e3)][_0x2a2dd(0x3b7)]);return setTimeout(()=>this[_0x2a2dd(0x4be)](),0x7d0),_0x1d4309;}let _0x2f441e;if(_0x2a34b3['_id']&&(_0x2f441e=await this[_0x2a2dd(0x4d8)][_0x2a2dd(0x49c)][_0x2a2dd(0x1d7)](_0x2a34b3[_0x2a2dd(0x127)],this[_0x2a2dd(0x6e3)][_0x2a2dd(0x3b7)])),_0x2f441e){let _0x39778b;if(this[_0x2a2dd(0x2d0)]===_0x2f441e[_0x2a2dd(0x127)][_0x2a2dd(0x601)]())_0x39778b={'$set':{'status':_0x2a34b3[_0x2a2dd(0x14f)]}};else{let {_id:_0x321f22,..._0x270353}=_0x2a34b3;_0x39778b={'$set':_0x270353};}let _0x45f84d=await this[_0x2a2dd(0x4d8)]['scheduleMessage'][_0x2a2dd(0x657)](_0x2a34b3[_0x2a2dd(0x127)],_0x39778b,this[_0x2a2dd(0x6e3)][_0x2a2dd(0x3b7)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x45f84d;}else{_0x2a34b3['owner']=this[_0x2a2dd(0x6e3)][_0x2a2dd(0x3b7)];let _0x322313=await this['repository'][_0x2a2dd(0x49c)][_0x2a2dd(0x6cf)](_0x2a34b3,this[_0x2a2dd(0x6e3)]['wuid']);return setTimeout(()=>this[_0x2a2dd(0x4be)](),0x7d0),_0x322313;}}catch(_0x4c0fc1){throw this['logger'][_0x2a2dd(0x519)](this[_0x2a2dd(0x39e)]+'\x20('+this[_0x2a2dd(0x6e3)][_0x2a2dd(0x3b7)]+_0x2a2dd(0x4f6)+(_0x4c0fc1 instanceof Error?_0x4c0fc1[_0x2a2dd(0x531)]:JSON[_0x2a2dd(0x11e)](_0x4c0fc1,null,0x2))),new w(_0x2a2dd(0x54c)+_0x4c0fc1[_0x2a2dd(0x531)]);}}async[a0_0x1b487a(0x236)](){const _0x49a1da=a0_0x1b487a;try{return await this[_0x49a1da(0x4d8)][_0x49a1da(0x49c)]['find']({'where':{}},this[_0x49a1da(0x6e3)][_0x49a1da(0x3b7)]);}catch(_0x5d372d){throw this[_0x49a1da(0x213)][_0x49a1da(0x519)](this[_0x49a1da(0x39e)]+'\x20('+this[_0x49a1da(0x6e3)][_0x49a1da(0x3b7)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x5d372d instanceof Error?_0x5d372d[_0x49a1da(0x531)]:JSON[_0x49a1da(0x11e)](_0x5d372d,null,0x2))),new w(_0x49a1da(0x54c)+_0x5d372d[_0x49a1da(0x531)]);}}async[a0_0x1b487a(0x30f)](){const _0x5eba8a=a0_0x1b487a;try{let _0x395c15={'status':_0x5eba8a(0x101)},_0x32a9d2=await this[_0x5eba8a(0x4d8)][_0x5eba8a(0x49c)][_0x5eba8a(0x359)](_0x395c15,this[_0x5eba8a(0x6e3)][_0x5eba8a(0x3b7)]);if(!_0x32a9d2[_0x5eba8a(0x519)])this['logger']['verbose'](this[_0x5eba8a(0x39e)]+'\x20('+this[_0x5eba8a(0x6e3)][_0x5eba8a(0x3b7)]+_0x5eba8a(0x2f5));else throw new Error(_0x32a9d2['error'][_0x5eba8a(0x531)]||_0x5eba8a(0x1fa));return this[_0x5eba8a(0x236)]();}catch(_0x178d2c){throw this[_0x5eba8a(0x213)][_0x5eba8a(0x519)](this[_0x5eba8a(0x39e)]+'\x20('+this[_0x5eba8a(0x6e3)][_0x5eba8a(0x3b7)]+_0x5eba8a(0x698)+(_0x178d2c instanceof Error?_0x178d2c[_0x5eba8a(0x531)]:JSON['stringify'](_0x178d2c,null,0x2))),new w(_0x5eba8a(0x54c)+_0x178d2c['message']);}}async[a0_0x1b487a(0x31e)](_0x472772,_0x468da5){const _0x4389d6=a0_0x1b487a;try{if(_0x468da5[_0x4389d6(0x337)]===_0x4389d6(0x3c5)&&!this['AutomateSystem']?.['flowConfig'][_0x4389d6(0x17a)])return this[_0x4389d6(0x213)][_0x4389d6(0x519)](this[_0x4389d6(0x39e)]+'\x20('+this[_0x4389d6(0x6e3)]['wuid']+_0x4389d6(0x558)),{'error':!0x0,'detail':_0x4389d6(0x265)};switch(_0x468da5[_0x4389d6(0x337)]){case _0x4389d6(0x2f1):return await this[_0x4389d6(0x5ce)](_0x468da5,_0x472772);case _0x4389d6(0x3ea):return await this[_0x4389d6(0x410)](_0x468da5,_0x472772);case _0x4389d6(0xc2):return await this[_0x4389d6(0x2f8)](_0x468da5,_0x472772);case'flow':let _0x4e917b=new _e();return _0x4e917b['name']=_0x468da5[_0x4389d6(0x354)],_0x4e917b[_0x4389d6(0x38f)]=_0x472772,await this[_0x4389d6(0x413)](_0x4e917b);break;default:return this['logger'][_0x4389d6(0x519)](this[_0x4389d6(0x39e)]+'\x20('+this[_0x4389d6(0x6e3)][_0x4389d6(0x3b7)]+_0x4389d6(0x25e)+_0x468da5[_0x4389d6(0x337)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x489c7f){return this['logger'][_0x4389d6(0x519)](this[_0x4389d6(0x39e)]+'\x20('+this[_0x4389d6(0x6e3)]['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x489c7f instanceof Error?_0x489c7f[_0x4389d6(0x531)]:JSON[_0x4389d6(0x11e)](_0x489c7f,null,0x2))),{'error':!0x0,'detail':_0x489c7f[_0x4389d6(0x531)]};}}[a0_0x1b487a(0x4a8)](_0x1627e4){const _0x2b3c2a=a0_0x1b487a;let _0x4563e2=_0x1627e4[_0x2b3c2a(0x4b1)]('|'),_0x287390=Math[_0x2b3c2a(0x477)](Math[_0x2b3c2a(0x3c1)]()*_0x4563e2[_0x2b3c2a(0x573)]);return _0x4563e2[_0x287390][_0x2b3c2a(0x328)]();}async['scheduleSendText'](_0x54cdca,_0x11bfb7){const _0x4fad44=a0_0x1b487a;if(this[_0x4fad44(0x213)][_0x4fad44(0x49b)](this[_0x4fad44(0x39e)]+'\x20('+this[_0x4fad44(0x6e3)]['wuid']+_0x4fad44(0x50a)),!_0x54cdca['message']['text']||_0x54cdca[_0x4fad44(0x531)][_0x4fad44(0x2f1)][_0x4fad44(0x573)]===0x0)return{'error':!0x0,'detail':_0x4fad44(0x4d5)};let _0x2b0a16=this['getRandomText'](_0x54cdca['message'][_0x4fad44(0x2f1)]),_0x10c98b=await this['replaceVariablesChat'](_0x2b0a16,_0x11bfb7),_0x23322b={'number':_0x11bfb7,'options':{'delay':_0x54cdca[_0x4fad44(0x531)]['delay']},'textMessage':{'text':_0x10c98b}},_0x451d5d=null;try{let _0x31c701=await this['textMessage'](_0x23322b);if(_0x31c701&&_0x31c701[_0x4fad44(0x14f)])return{'error':!0x1,'id':_0x31c701[_0x4fad44(0xff)]['id']};_0x451d5d=JSON[_0x4fad44(0x11e)](_0x31c701),this[_0x4fad44(0x213)][_0x4fad44(0x49b)](this[_0x4fad44(0x39e)]+'\x20('+this[_0x4fad44(0x6e3)]['wuid']+_0x4fad44(0x6b6)+_0x451d5d);}catch(_0x2c5fcb){this['logger'][_0x4fad44(0x519)](this['instanceName']+'\x20('+this[_0x4fad44(0x6e3)][_0x4fad44(0x3b7)]+_0x4fad44(0x494)+(_0x2c5fcb instanceof Error?_0x2c5fcb[_0x4fad44(0x531)]:JSON[_0x4fad44(0x11e)](_0x2c5fcb,null,0x2))),_0x451d5d=_0x2c5fcb[_0x4fad44(0x531)];}if(_0x451d5d)return{'error':!0x0,'detail':(typeof _0x451d5d==_0x4fad44(0x3e2)?JSON[_0x4fad44(0x11e)](_0x451d5d,null,0x2):_0x451d5d)['replace'](/[\[\]{}\n]/g,'\x20')[_0x4fad44(0x168)](/  +/g,'\x20')};}async[a0_0x1b487a(0x410)](_0x43f71,_0x577ea8){const _0x4b87bf=a0_0x1b487a;this[_0x4b87bf(0x213)][_0x4b87bf(0x49b)](this[_0x4b87bf(0x39e)]+'\x20('+this['instance']['wuid']+_0x4b87bf(0x180));let _0x13d701;if(_0x43f71[_0x4b87bf(0x531)][_0x4b87bf(0x2f1)]&&_0x43f71[_0x4b87bf(0x531)][_0x4b87bf(0x2f1)]['length']>0x0){let _0x797dde=this['getRandomText'](_0x43f71[_0x4b87bf(0x531)][_0x4b87bf(0x2f1)]);_0x13d701=await this[_0x4b87bf(0x5d8)](_0x797dde,_0x577ea8);}let _0x340233={'number':_0x577ea8,'options':{'delay':_0x43f71[_0x4b87bf(0x531)][_0x4b87bf(0x12a)]},'mediaMessage':{'mediatype':_0x43f71[_0x4b87bf(0x531)][_0x4b87bf(0x5b6)],'caption':_0x13d701,'media':_0x43f71[_0x4b87bf(0x531)][_0x4b87bf(0x156)]}},_0x340aaf=null;try{let _0x89fc49=await this[_0x4b87bf(0x65a)](_0x340233);if(_0x89fc49&&_0x89fc49[_0x4b87bf(0x14f)])return{'error':!0x1,'id':_0x89fc49[_0x4b87bf(0xff)]['id']};_0x340aaf=JSON[_0x4b87bf(0x11e)](_0x89fc49),this[_0x4b87bf(0x213)]['verbose'](this[_0x4b87bf(0x39e)]+'\x20('+this['instance'][_0x4b87bf(0x3b7)]+_0x4b87bf(0x6b6)+_0x340aaf);}catch(_0x1b81e0){this[_0x4b87bf(0x213)][_0x4b87bf(0x519)](this[_0x4b87bf(0x39e)]+'\x20('+this[_0x4b87bf(0x6e3)]['wuid']+_0x4b87bf(0x53d)+(_0x1b81e0 instanceof Error?_0x1b81e0[_0x4b87bf(0x531)]:JSON[_0x4b87bf(0x11e)](_0x1b81e0,null,0x2))),_0x340aaf=_0x1b81e0[_0x4b87bf(0x531)];}if(_0x340aaf)return{'error':!0x0,'detail':(typeof _0x340aaf==_0x4b87bf(0x3e2)?JSON[_0x4b87bf(0x11e)](_0x340aaf,null,0x2):_0x340aaf)[_0x4b87bf(0x168)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x56356a,_0x1ae13d){const _0x1be8e6=a0_0x1b487a;this['logger'][_0x1be8e6(0x49b)](this['instanceName']+'\x20('+this[_0x1be8e6(0x6e3)][_0x1be8e6(0x3b7)]+_0x1be8e6(0x53e));let _0x6cb205={'number':_0x1ae13d,'options':{'delay':_0x56356a[_0x1be8e6(0x531)][_0x1be8e6(0x12a)]},'audioMessage':{'audio':_0x56356a[_0x1be8e6(0x531)][_0x1be8e6(0x156)]}},_0x3f7f66=null;try{let _0x432d44=await this['audioWhatsapp'](_0x6cb205);if(_0x432d44&&_0x432d44[_0x1be8e6(0x14f)])return{'error':!0x1,'id':_0x432d44[_0x1be8e6(0xff)]['id']};_0x3f7f66=JSON[_0x1be8e6(0x11e)](_0x432d44),this[_0x1be8e6(0x213)][_0x1be8e6(0x49b)](this[_0x1be8e6(0x39e)]+'\x20('+this[_0x1be8e6(0x6e3)][_0x1be8e6(0x3b7)]+'):\x20'+_0x3f7f66);}catch(_0x2d625f){this['logger'][_0x1be8e6(0x519)](this[_0x1be8e6(0x39e)]+'\x20('+this['instance'][_0x1be8e6(0x3b7)]+_0x1be8e6(0x6d3)+(_0x2d625f instanceof Error?_0x2d625f['message']:JSON[_0x1be8e6(0x11e)](_0x2d625f,null,0x2))),_0x3f7f66=_0x2d625f[_0x1be8e6(0x531)];}if(_0x3f7f66)return{'error':!0x0,'detail':(typeof _0x3f7f66==_0x1be8e6(0x3e2)?JSON[_0x1be8e6(0x11e)](_0x3f7f66,null,0x2):_0x3f7f66)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},$t=class c{constructor(_0x3860e6,_0x15506d,_0x2e6da5){const _0x5a36bc=a0_0x1b487a;this['eventEmitter']=_0x3860e6,this[_0x5a36bc(0x362)]=_0x15506d,this[_0x5a36bc(0x4d8)]=_0x2e6da5,this['db']={},this[_0x5a36bc(0x2b2)]={},this[_0x5a36bc(0x213)]=new N(c[_0x5a36bc(0x69e)]),this[_0x5a36bc(0x2b3)]={},(this[_0x5a36bc(0x28a)](),this[_0x5a36bc(0x3ce)](),Object[_0x5a36bc(0x4bc)](this['db'],_0x15506d[_0x5a36bc(0x348)](_0x5a36bc(0x4a5))),Object[_0x5a36bc(0x4bc)](this[_0x5a36bc(0x2b2)],_0x15506d[_0x5a36bc(0x348)](_0x5a36bc(0x4b6))),this[_0x5a36bc(0x58a)]=this['db'][_0x5a36bc(0x5ba)]?this['repository'][_0x5a36bc(0x562)]?.['db'](this['db'][_0x5a36bc(0x7f)]['DB_PREFIX_NAME']+_0x5a36bc(0x3e8)):void 0x0,this[_0x5a36bc(0x11f)]=this[_0x5a36bc(0x2b2)][_0x5a36bc(0x5ba)]?new oe(this[_0x5a36bc(0x2b2)]):void 0x0);}async[a0_0x1b487a(0x10f)](_0x54d710){const _0x32c159=a0_0x1b487a;if(_0x54d710&&!this[_0x32c159(0x2b3)][_0x54d710])throw new k(_0x32c159(0x5a3)+_0x54d710+_0x32c159(0x42a));let _0x34be9d=[];for await(let [_0x1d7899,_0x5de297]of Object[_0x32c159(0x636)](this[_0x32c159(0x2b3)]))if(_0x5de297&&_0x5de297[_0x32c159(0x22f)][_0x32c159(0x488)]===_0x32c159(0x2fd)){let _0x2ae266=await this[_0x32c159(0x4d8)]['auth'][_0x32c159(0x3a8)](_0x1d7899);_0x34be9d[_0x32c159(0xd3)]({'instance':{'instanceName':_0x1d7899,'apikey':_0x2ae266['apikey'],'owner':_0x5de297[_0x32c159(0x3b7)],'profileName':await _0x5de297[_0x32c159(0x225)]()||'not\x20loaded','profilePictureUrl':_0x5de297['profilePictureUrl']}});}return _0x34be9d['find'](_0x49cd2e=>_0x49cd2e[_0x32c159(0x6e3)]['instanceName']===_0x54d710)??_0x34be9d;}async[a0_0x1b487a(0x23f)](_0x221670){const _0x350be3=a0_0x1b487a;if(this['db'][_0x350be3(0x5ba)]&&(await this[_0x350be3(0x4d8)][_0x350be3(0x562)][_0x350be3(0x1d3)](),(await this['dbInstance'][_0x350be3(0x59e)]())[_0x350be3(0x573)]>0x0&&await this[_0x350be3(0x58a)][_0x350be3(0x39a)](_0x221670)),this['redis'][_0x350be3(0x5ba)]){this[_0x350be3(0x11f)][_0x350be3(0x5e6)]=_0x221670,await this[_0x350be3(0x11f)][_0x350be3(0x214)]();return;}}async[a0_0x1b487a(0x1ff)](){const _0x294876=a0_0x1b487a;await this[_0x294876(0x275)]();let _0x442a80=async _0x45e62c=>{const _0x41e8e9=_0x294876;let _0x22e7fd=new ye(this[_0x41e8e9(0x362)],this[_0x41e8e9(0x598)],this['repository']);_0x22e7fd[_0x41e8e9(0x39e)]=_0x45e62c,await _0x22e7fd[_0x41e8e9(0x459)](),this[_0x41e8e9(0x2b3)][_0x45e62c]=_0x22e7fd;};try{if(this[_0x294876(0x2b2)][_0x294876(0x5ba)]){let _0x5597e2=await this[_0x294876(0x11f)][_0x294876(0x649)]();_0x5597e2?.[_0x294876(0x573)]>0x0&&_0x5597e2['forEach'](async _0x2b952d=>await _0x442a80(_0x2b952d[_0x294876(0x4b1)](':')[0x1]));return;}if(this['db'][_0x294876(0x5ba)]){await this[_0x294876(0x4d8)][_0x294876(0x562)]['connect']();let _0x178ec3=await this[_0x294876(0x58a)][_0x294876(0x59e)]();_0x178ec3[_0x294876(0x573)]>0x0&&_0x178ec3[_0x294876(0x6d9)](async _0x147b71=>await _0x442a80(_0x147b71[_0x294876(0x40c)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x3a8152){this[_0x294876(0x213)]['error'](_0x3a8152);}}async['InstancesAsDisconnectedX'](){const _0x12f90e=a0_0x1b487a;let _0x509006=await this[_0x12f90e(0x4d8)][_0x12f90e(0x282)][_0x12f90e(0x40e)](),_0x20f109=_0x509006[_0x12f90e(0x4ab)](_0x29c2e7=>!this['waInstances'][_0x29c2e7[_0x12f90e(0x127)]]&&(_0x29c2e7[_0x12f90e(0x51e)]||typeof _0x29c2e7[_0x12f90e(0x51e)]>'u'));_0x20f109[_0x12f90e(0x573)]>0x0&&await Promise[_0x12f90e(0x656)](_0x20f109[_0x12f90e(0x381)](async _0x176f01=>{const _0x56a326=_0x12f90e;let _0x359fc5={'online':!0x1,'lastDisconnect':Date[_0x56a326(0x6f)]()};await this[_0x56a326(0x4d8)][_0x56a326(0x282)][_0x56a326(0x1ea)](_0x359fc5,_0x176f01['_id']);}));let _0x5efdba=Date[_0x12f90e(0x6f)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x46ce7c=_0x509006['filter'](_0x57e09b=>!this[_0x12f90e(0x2b3)][_0x57e09b[_0x12f90e(0x127)]]&&typeof _0x57e09b[_0x12f90e(0x4e2)]<'u'&&_0x57e09b[_0x12f90e(0x4e2)]<_0x5efdba);_0x46ce7c[_0x12f90e(0x573)]>0x0&&await Promise['all'](_0x46ce7c['map'](async _0x1d478d=>{}));}async[a0_0x1b487a(0x275)](){const _0x794431=a0_0x1b487a;try{let _0x32f49d={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5ecaf4={'online':!0x1,'lastDisconnect':Date[_0x794431(0x6f)]()},_0x1dfccb=await this[_0x794431(0x4d8)][_0x794431(0x282)]['updateAll'](_0x32f49d,_0x5ecaf4);console[_0x794431(0x18d)](_0x794431(0x121)+_0x1dfccb[_0x794431(0x182)]),await this[_0x794431(0x293)]();}catch(_0x5e875d){console['error'](_0x794431(0x372),_0x5e875d);}}async[a0_0x1b487a(0x293)](){const _0xb65831=a0_0x1b487a;try{let _0x276c53={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x324cd4=await this[_0xb65831(0x4d8)][_0xb65831(0x282)][_0xb65831(0x359)](_0x276c53);console[_0xb65831(0x18d)](_0xb65831(0x5cb)+_0x324cd4[_0xb65831(0x182)]);}catch(_0x57b707){console['error']('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x57b707);}}[a0_0x1b487a(0x28a)](){const _0x5dae4e=a0_0x1b487a;this['eventEmitter']['on'](_0x5dae4e(0x279),async _0x24c9e0=>{const _0x1fa168=_0x5dae4e;try{this[_0x1fa168(0x2b3)][_0x24c9e0]=void 0x0;}catch{}try{this['cleaningUp'](_0x24c9e0);}finally{this[_0x1fa168(0x213)][_0x1fa168(0x3d4)]('Instance\x20\x22'+_0x24c9e0+_0x1fa168(0x54e));}});}[a0_0x1b487a(0x3ce)](){const _0x54ccac=a0_0x1b487a;this[_0x54ccac(0x598)]['on'](_0x54ccac(0x307),async _0x2f2293=>{const _0x210caf=_0x54ccac;try{this[_0x210caf(0x2b3)][_0x2f2293]=void 0x0;}catch{}try{this[_0x210caf(0x23f)](_0x2f2293);}finally{this[_0x210caf(0x213)][_0x210caf(0x3d4)](_0x210caf(0x5a3)+_0x2f2293+_0x210caf(0x138));}});}},kt=class extends D{[a0_0x1b487a(0x320)](_0x35c790){return Vs(_0x35c790);}async['insert'](_0x5c9e67){const _0x26a530=a0_0x1b487a;if(_0x5c9e67[_0x26a530(0x573)]!==0x0)try{return{'insertCount':(await this[_0x26a530(0x320)](_0x5c9e67[0x0][_0x26a530(0x648)])[_0x26a530(0x68f)]([..._0x5c9e67]))[_0x26a530(0x573)]};}catch(_0x3d69e4){return _0x3d69e4;}}async[a0_0x1b487a(0x3a8)](_0x2894d1,_0x8ac226){const _0x412dc6=a0_0x1b487a;try{let _0x1eb0a4=this['getChatModelForOwner'](_0x8ac226),_0x5bba0e=A(_0x2894d1['where']);return await _0x1eb0a4[_0x412dc6(0x3a8)](_0x5bba0e)['sort']({'lastmsg':-0x1})[_0x412dc6(0x2bf)](_0x2894d1?.['limit']??0x0)[_0x412dc6(0x3dd)]();}catch{return[];}}async[a0_0x1b487a(0x687)](_0x5b699e,_0x3f4c67){const _0x5259d0=a0_0x1b487a;try{return await this[_0x5259d0(0x320)](_0x3f4c67)[_0x5259d0(0x359)]({..._0x5b699e[_0x5259d0(0x85)]}),[];}catch(_0xb00bec){return{'error':_0xb00bec?.[_0x5259d0(0x601)]()};}}async['findOne'](_0x59da89,_0x5985b2){const _0x1eeb3d=a0_0x1b487a;try{let _0x1dde46=this[_0x1eeb3d(0x320)](_0x5985b2),_0x1bd50e=A(_0x59da89[_0x1eeb3d(0x85)]);return await _0x1dde46[_0x1eeb3d(0x547)](_0x1bd50e)[_0x1eeb3d(0x3dd)]();}catch{return null;}}async['updateOne'](_0x4e2b16,_0x3e3798,_0x1b8028,_0x4648de,_0x482b5b=a0_0x1b487a(0x91)){const _0x4329f4=a0_0x1b487a;try{let _0x4febfc={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4648de},_0xb6bc6a=this[_0x4329f4(0x320)](_0x1b8028),_0x3c63ea=A(_0x4e2b16[_0x4329f4(0x85)]);Object[_0x4329f4(0x2a5)](_0x3e3798)[_0x4329f4(0x6d9)](_0x5d4910=>{_0x3e3798[_0x5d4910]==null&&delete _0x3e3798[_0x5d4910];});let _0x45de23={};return _0x45de23[_0x482b5b]=_0x3e3798,await _0xb6bc6a['findOneAndUpdate'](_0x3c63ea,_0x45de23,_0x4febfc);}catch(_0x376912){return console[_0x4329f4(0x519)](_0x376912),null;}}async[a0_0x1b487a(0x5a4)](_0x2a6549){const _0x47ac0e=a0_0x1b487a;try{let _0x3132d0=this[_0x47ac0e(0x320)](_0x2a6549[0x0]['query'][_0x47ac0e(0x85)][_0x47ac0e(0x648)]),_0x591b1a=_0x2a6549['map'](_0x2fb485=>({'updateOne':{'filter':{..._0x2fb485[_0x47ac0e(0x440)][_0x47ac0e(0x85)]},'update':{'$set':_0x2fb485['update']},'upsert':!0x0}})),_0x1c6a03=await _0x3132d0[_0x47ac0e(0x229)](_0x591b1a);return _0x1c6a03['modifiedCount']+_0x1c6a03['upsertedCount'];}catch(_0x27b047){return console[_0x47ac0e(0x519)](_0x27b047),0x0;}}async[a0_0x1b487a(0x3bd)](_0x241c93){const _0x24b596=a0_0x1b487a;try{let _0x1da735=this['getChatModelForOwner'](_0x241c93),_0x426da8={'labels':{'$exists':!0x0}},_0x507b1f={'$unset':{'labels':''}};return(await _0x1da735[_0x24b596(0x5a4)](_0x426da8,_0x507b1f))[_0x24b596(0x5e4)];}catch(_0x16356c){return console[_0x24b596(0x519)](_0x16356c),0x0;}}async['updateMissingEtiquetas'](_0x4859d8){const _0x337eeb=a0_0x1b487a;try{let _0x3374fe=this[_0x337eeb(0x320)](_0x4859d8),_0x35ed92={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3755f1={'$set':{'leadInfo.etiquetas':[]}};return(await _0x3374fe[_0x337eeb(0x5a4)](_0x35ed92,_0x3755f1))[_0x337eeb(0x5e4)];}catch(_0x2cf211){return console[_0x337eeb(0x519)](_0x2cf211),0x0;}}async[a0_0x1b487a(0x295)](_0x333f2e){const _0x32e1c7=a0_0x1b487a;try{let _0x84ad9f=this['getChatModelForOwner'](_0x333f2e),_0x3d623f={'leadInfo.tags':{'$exists':!0x1}},_0x535c5a={'$set':{'leadInfo.tags':[]}};return(await _0x84ad9f[_0x32e1c7(0x5a4)](_0x3d623f,_0x535c5a))[_0x32e1c7(0x5e4)];}catch(_0x18a01c){return console[_0x32e1c7(0x519)](_0x18a01c),0x0;}}async[a0_0x1b487a(0x11b)](_0x4a10d8){const _0xf7b6a7=a0_0x1b487a;try{let _0x51d949=this[_0xf7b6a7(0x320)](_0x4a10d8),_0x591e73={'leadInfo.customFields':{'$exists':!0x1}},_0x40ed50={'$set':{'leadInfo.customFields':[]}};return(await _0x51d949[_0xf7b6a7(0x5a4)](_0x591e73,_0x40ed50))[_0xf7b6a7(0x5e4)];}catch(_0x1789a2){return console[_0xf7b6a7(0x519)](_0x1789a2),0x0;}}async['insertMany'](_0x110b95,_0x43ea79){const _0x3d2839=a0_0x1b487a;if(!Array['isArray'](_0x110b95)||_0x110b95[_0x3d2839(0x573)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x3d2839(0x320)](_0x43ea79)[_0x3d2839(0x68f)](_0x110b95))[_0x3d2839(0x573)];}catch(_0x616bf5){throw console[_0x3d2839(0x519)](_0x3d2839(0x52e),_0x616bf5),_0x616bf5;}}async[a0_0x1b487a(0x125)](_0x22f7fb,_0x17afae){const _0x46c881=a0_0x1b487a;try{await this[_0x46c881(0x320)](_0x17afae)[_0x46c881(0x2e6)]({'_id':_0x22f7fb});}catch(_0x3a1a2f){throw console[_0x46c881(0x519)]('Erro\x20ao\x20deletar\x20chat:',_0x3a1a2f),_0x3a1a2f;}}},Lt=class extends D{['getLabelModelForOwner'](_0x2764ba){return ha(_0x2764ba);}async['updateOne'](_0x145e75,_0x234489,_0x1014b6,_0x52675d){const _0x499529=a0_0x1b487a;try{let _0x5304a5={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x52675d},_0x2b20da=this[_0x499529(0x505)](_0x1014b6),_0x30a678=A(_0x145e75[_0x499529(0x85)]);return await _0x2b20da[_0x499529(0x684)](_0x30a678,{'$set':_0x234489},_0x5304a5);}catch(_0x4a2a80){return console['error'](_0x4a2a80),null;}}async['find'](_0x5e6707,_0x28c35d){const _0x5c8535=a0_0x1b487a;try{let _0x343ba9=this[_0x5c8535(0x505)](_0x28c35d),_0x1533db=A(_0x5e6707['where']);return await _0x343ba9['find'](_0x1533db);}catch(_0x2c2d7a){console['error'](_0x2c2d7a);}}async[a0_0x1b487a(0x522)](_0x388f16,_0x2ac3dd){const _0x1d5490=a0_0x1b487a;try{let _0x165a27=this['getLabelModelForOwner'](_0x2ac3dd),_0x4c6670=A(_0x388f16[_0x1d5490(0x85)]);await _0x165a27[_0x1d5490(0x359)](_0x4c6670);}catch(_0x31afff){console[_0x1d5490(0x519)](_0x31afff);}}async[a0_0x1b487a(0x687)](_0x5f3121){const _0x5349d8=a0_0x1b487a;try{return await this[_0x5349d8(0x505)](_0x5f3121)['collection'][_0x5349d8(0x1b1)](),{'success':!0x0};}catch(_0x56d70d){return console[_0x5349d8(0x519)](_0x56d70d),{'success':!0x1,'error':_0x56d70d};}}},Ft=class{constructor(_0x5e3f02){this['waMonitor']=_0x5e3f02;}async[a0_0x1b487a(0x6c9)]({instanceName:_0xdf6359},_0x4f84ee){const _0x1cdfab=a0_0x1b487a;return await this[_0x1cdfab(0x1fd)]['waInstances'][_0xdf6359][_0x1cdfab(0x6c9)](_0x4f84ee);}async['whatsappNumber']({instanceName:_0x460ca3},_0x5e94c7){const _0x3ae441=a0_0x1b487a;return await this[_0x3ae441(0x1fd)][_0x3ae441(0x2b3)][_0x460ca3][_0x3ae441(0x212)](_0x5e94c7);}async[a0_0x1b487a(0x3cc)]({instanceName:_0x5ed3f0},_0x5438a9){const _0x2fd4ba=a0_0x1b487a;return await this[_0x2fd4ba(0x1fd)][_0x2fd4ba(0x2b3)][_0x5ed3f0]['importChats'](_0x5438a9);}async[a0_0x1b487a(0x26f)]({instanceName:_0x1bc38d},_0x1b16ca){const _0x313164=a0_0x1b487a;return await this[_0x313164(0x1fd)][_0x313164(0x2b3)][_0x1bc38d][_0x313164(0x677)](_0x1b16ca);}async[a0_0x1b487a(0x98)]({instanceName:_0x136257},_0x1c1288){const _0x312b71=a0_0x1b487a;return await this[_0x312b71(0x1fd)][_0x312b71(0x2b3)][_0x136257][_0x312b71(0x98)](_0x1c1288);}async[a0_0x1b487a(0x38c)]({instanceName:_0x24236a},_0x21f04f){const _0x1d9ca5=a0_0x1b487a;return await this[_0x1d9ca5(0x1fd)][_0x1d9ca5(0x2b3)][_0x24236a][_0x1d9ca5(0x38c)](_0x21f04f);}async['fetchProfilePicture']({instanceName:_0x3d2163},_0x2fc5a9){const _0x35ad16=a0_0x1b487a;return await this[_0x35ad16(0x1fd)][_0x35ad16(0x2b3)][_0x3d2163][_0x35ad16(0xd2)](_0x2fc5a9[_0x35ad16(0x5f5)]);}async[a0_0x1b487a(0x3df)]({instanceName:_0x154fba},_0x18c898){const _0x283830=a0_0x1b487a;return await this[_0x283830(0x1fd)][_0x283830(0x2b3)][_0x154fba][_0x283830(0x3df)](_0x18c898[_0x283830(0x5f5)]);}async['updatePresence']({instanceName:_0x397557},_0xbd5f80){const _0x55a1dc=a0_0x1b487a;return await this[_0x55a1dc(0x1fd)][_0x55a1dc(0x2b3)][_0x397557][_0x55a1dc(0x375)](_0xbd5f80);}async[a0_0x1b487a(0x490)]({instanceName:_0x2f8e93},_0x3911d1){const _0x20abdc=a0_0x1b487a;return await this[_0x20abdc(0x1fd)]['waInstances'][_0x2f8e93]['fetchContacts'](_0x3911d1);}async[a0_0x1b487a(0x6bf)]({instanceName:_0x5f2605},_0x50eb76){const _0x4cfa58=a0_0x1b487a;return await this[_0x4cfa58(0x1fd)]['waInstances'][_0x5f2605][_0x4cfa58(0x6bf)](_0x50eb76);}async[a0_0x1b487a(0x19d)]({instanceName:_0x31bc6e},_0x37264c){const _0x2b1728=a0_0x1b487a;return await this[_0x2b1728(0x1fd)][_0x2b1728(0x2b3)][_0x31bc6e][_0x2b1728(0x19d)](_0x37264c);}async[a0_0x1b487a(0x32b)]({instanceName:_0x8bb62b}){const _0x11ccb8=a0_0x1b487a;return await this['waMonitor'][_0x11ccb8(0x2b3)][_0x8bb62b][_0x11ccb8(0x32b)]();}async[a0_0x1b487a(0x56b)]({instanceName:_0x2b0efc}){const _0x15f6f5=a0_0x1b487a;return await this[_0x15f6f5(0x1fd)][_0x15f6f5(0x2b3)][_0x2b0efc][_0x15f6f5(0x56b)]();}async[a0_0x1b487a(0x4d7)]({instanceName:_0x40d482}){const _0x14fa55=a0_0x1b487a;return await this[_0x14fa55(0x1fd)][_0x14fa55(0x2b3)][_0x40d482]['fetchPrivacySettings']();}async[a0_0x1b487a(0xb3)]({instanceName:_0x2aa7d6},_0x158f8b){const _0x344ff4=a0_0x1b487a;return await this[_0x344ff4(0x1fd)][_0x344ff4(0x2b3)][_0x2aa7d6]['updatePrivacySettings'](_0x158f8b);}async[a0_0x1b487a(0x2ac)]({instanceName:_0x22adb2},_0x5f43ba){const _0x390aa1=a0_0x1b487a;return await this[_0x390aa1(0x1fd)][_0x390aa1(0x2b3)][_0x22adb2][_0x390aa1(0x2ac)](_0x5f43ba[_0x390aa1(0x5f5)]);}async[a0_0x1b487a(0x32f)]({instanceName:_0x2cd0b3},_0x4b204d){const _0x81c51f=a0_0x1b487a;return await this[_0x81c51f(0x1fd)][_0x81c51f(0x2b3)][_0x2cd0b3][_0x81c51f(0x32f)](_0x4b204d['name']);}async[a0_0x1b487a(0x26d)]({instanceName:_0x20dafc},_0x289836){const _0x444785=a0_0x1b487a;return await this[_0x444785(0x1fd)]['waInstances'][_0x20dafc][_0x444785(0x26d)](_0x289836[_0x444785(0x14f)]);}async[a0_0x1b487a(0x63f)]({instanceName:_0x1b9d29},_0x6598d2){const _0x2e35fd=a0_0x1b487a;return await this[_0x2e35fd(0x1fd)][_0x2e35fd(0x2b3)][_0x1b9d29][_0x2e35fd(0x63f)](_0x6598d2[_0x2e35fd(0x1d1)]);}async['removeProfilePicture']({instanceName:_0x217e5a},_0x34bc05){const _0x238364=a0_0x1b487a;return await this['waMonitor'][_0x238364(0x2b3)][_0x217e5a][_0x238364(0x119)]();}},Ts=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x54ae01,_0x75bb46,_0x2a24d6,_0x3152d0,_0x1e4ee6){const _0x199728=a0_0x1b487a;this[_0x199728(0x1fd)]=_0x54ae01,this[_0x199728(0x362)]=_0x75bb46,this[_0x199728(0x4d8)]=_0x2a24d6,this[_0x199728(0x598)]=_0x3152d0,this[_0x199728(0x131)]=_0x1e4ee6,this['logger']=new N(c[_0x199728(0x69e)]);}async[a0_0x1b487a(0x2aa)]({instanceName:_0x4265eb,apikey:_0x45a753,number:_0x56991a,proxy:_0x2c8322=!0x0}){const _0x51ec52=a0_0x1b487a;try{let _0xf36131=new ye(this[_0x51ec52(0x362)],this[_0x51ec52(0x598)],this['repository']);_0xf36131[_0x51ec52(0x39e)]=_0x4265eb,this['waMonitor']['waInstances'][_0xf36131[_0x51ec52(0x39e)]]=_0xf36131;let _0x4936b9={};_0x45a753?(await this[_0x51ec52(0x4d8)][_0x51ec52(0x282)][_0x51ec52(0x1ea)]({'apikey':_0x45a753},_0x4265eb),_0x4936b9[_0x51ec52(0x9c)]=_0x45a753):_0x4936b9=await this[_0x51ec52(0x131)]['generateHash']({'instanceName':_0xf36131[_0x51ec52(0x39e)]});let _0x333dec;return await _0xf36131[_0x51ec52(0x459)](_0x56991a),await(0x0,Ts[_0x51ec52(0x12a)])(0x7d0),_0x333dec=_0xf36131['qrCode'],{'instance':{'instanceName':_0xf36131[_0x51ec52(0x39e)],'status':'created'},'hash':_0x4936b9,'qrcode':_0x333dec};}catch(_0x5e79dc){this[_0x51ec52(0x213)][_0x51ec52(0x519)](_0x5e79dc);}}async[a0_0x1b487a(0x584)]({instanceName:_0x53a7a8,number:_0x38ea2c=null}){const _0x54371d=a0_0x1b487a;try{let _0x5b113b=this[_0x54371d(0x1fd)][_0x54371d(0x2b3)][_0x53a7a8];switch(_0x5b113b?.['connectionStatus']?.[_0x54371d(0x488)]){case _0x54371d(0x5db):return await _0x5b113b[_0x54371d(0x459)](_0x38ea2c),await(0x0,Ts['delay'])(0x7d0),_0x5b113b['qrCode'];case'connecting':return _0x5b113b[_0x54371d(0x2e2)];default:return await this['connectionState']({'instanceName':_0x53a7a8});}}catch(_0x40019b){this[_0x54371d(0x213)]['log'](_0x40019b);}}async[a0_0x1b487a(0x441)]({instanceName:_0x3d6f7f}){const _0x4e1cff=a0_0x1b487a;let _0x45511d=this['waMonitor'][_0x4e1cff(0x2b3)][_0x3d6f7f][_0x4e1cff(0x22f)],_0xe715a6=null;_0x45511d[_0x4e1cff(0x488)]===_0x4e1cff(0x2fd)&&_0x3d6f7f&&(_0xe715a6=await this['waMonitor']['instanceInfo'](_0x3d6f7f));let _0x255a5f=null;return _0x45511d[_0x4e1cff(0x488)]===_0x4e1cff(0x46c)&&_0x3d6f7f&&(_0x255a5f=this[_0x4e1cff(0x1fd)]['waInstances'][_0x3d6f7f]['qrCode']),{'instance':_0x3d6f7f,'connectionStatus':_0x45511d,'instanceInfo':_0xe715a6,'qrcode':_0x255a5f};}async[a0_0x1b487a(0x257)]({instanceName:_0x489ca8}){const _0x48ee9f=a0_0x1b487a;try{return this[_0x48ee9f(0x1fd)]['waInstances'][_0x489ca8]?.[_0x48ee9f(0x367)]?.['ws']?.[_0x48ee9f(0x5db)](),{'status':_0x48ee9f(0x3a6),'error':!0x1,'response':{'message':_0x48ee9f(0x2b1)}};}catch(_0x369af8){this[_0x48ee9f(0x213)]['error'](_0x369af8);}}async[a0_0x1b487a(0x542)]({instanceName:_0x583bcc}){const _0x216230=a0_0x1b487a;return _0x583bcc?this['waMonitor']['instanceInfo'](_0x583bcc):this[_0x216230(0x1fd)]['instanceInfo']();}async[a0_0x1b487a(0x638)]({instanceName:_0x1d5137}){const _0x541f2b=a0_0x1b487a;try{return await this['waMonitor']['waInstances'][_0x1d5137]?.[_0x541f2b(0x367)]?.[_0x541f2b(0x638)](_0x541f2b(0x4f8)+_0x1d5137),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x2f2e64){throw new I(_0x2f2e64['toString']());}}async[a0_0x1b487a(0x60f)]({instanceName:_0x306a55}){const _0x30da06=a0_0x1b487a;if((await this[_0x30da06(0x441)]({'instanceName':_0x306a55}))['connectionStatus']['state']==='open')throw new w([_0x30da06(0x4b2),_0x30da06(0x3a3)]);try{return delete this[_0x30da06(0x1fd)][_0x30da06(0x2b3)][_0x306a55],{'error':!0x1,'message':_0x30da06(0xc7)};}catch(_0x2ad637){throw new w(_0x2ad637[_0x30da06(0x601)]());}}},X=require(a0_0x1b487a(0x39b)),Ut=class{constructor(_0x35c66b){this['waMonitor']=_0x35c66b;}async[a0_0x1b487a(0x36c)]({instanceName:_0x459261},_0x246aab){const _0xc949b7=a0_0x1b487a;return await this[_0xc949b7(0x1fd)]['waInstances'][_0x459261][_0xc949b7(0x6b0)](_0x246aab);}async[a0_0x1b487a(0xef)]({instanceName:_0xafd619},_0x4fe941){const _0x2aaaf7=a0_0x1b487a;return await this[_0x2aaaf7(0x1fd)][_0x2aaaf7(0x2b3)][_0xafd619][_0x2aaaf7(0x25f)](_0x4fe941);}async[a0_0x1b487a(0x223)]({instanceName:_0x155ae0},_0x34194e){const _0x2651d0=a0_0x1b487a;if((0x0,X[_0x2651d0(0x664)])(_0x34194e?.[_0x2651d0(0x65a)]?.[_0x2651d0(0x3ea)])&&!_0x34194e?.[_0x2651d0(0x65a)]?.['fileName'])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,X['isURL'])(_0x34194e?.[_0x2651d0(0x65a)]?.[_0x2651d0(0x3ea)])||(0x0,X[_0x2651d0(0x664)])(_0x34194e?.['mediaMessage']?.[_0x2651d0(0x3ea)]))return await this[_0x2651d0(0x1fd)][_0x2651d0(0x2b3)][_0x155ae0][_0x2651d0(0x65a)](_0x34194e);throw new w(_0x2651d0(0x246));}async[a0_0x1b487a(0x6ac)]({instanceName:_0x2621b4},_0x4a89bd){const _0x1a3305=a0_0x1b487a;if((0x0,X[_0x1a3305(0x326)])(_0x4a89bd[_0x1a3305(0x48d)][_0x1a3305(0x147)])||(0x0,X[_0x1a3305(0x664)])(_0x4a89bd[_0x1a3305(0x48d)]['image']))return await this[_0x1a3305(0x1fd)]['waInstances'][_0x2621b4][_0x1a3305(0x5ea)](_0x4a89bd);throw new w(_0x1a3305(0x246));}async[a0_0x1b487a(0x160)]({instanceName:_0x409d45},_0x4f88b1){const _0x516230=a0_0x1b487a;if((0x0,X[_0x516230(0x326)])(_0x4f88b1[_0x516230(0x335)]['audio'])||(0x0,X[_0x516230(0x664)])(_0x4f88b1[_0x516230(0x335)]['audio']))return await this[_0x516230(0x1fd)][_0x516230(0x2b3)][_0x409d45][_0x516230(0x425)](_0x4f88b1);throw new w(_0x516230(0x246));}async[a0_0x1b487a(0xca)]({instanceName:_0x377095},_0x44218a){const _0x4f7a2e=a0_0x1b487a;if((0x0,X[_0x4f7a2e(0x664)])(_0x44218a[_0x4f7a2e(0x3f7)]['mediaMessage']?.[_0x4f7a2e(0x3ea)])&&!_0x44218a[_0x4f7a2e(0x3f7)][_0x4f7a2e(0x65a)]?.[_0x4f7a2e(0x3ec)])throw new w(_0x4f7a2e(0x457));return await this[_0x4f7a2e(0x1fd)][_0x4f7a2e(0x2b3)][_0x377095][_0x4f7a2e(0x3f7)](_0x44218a);}async[a0_0x1b487a(0x681)]({instanceName:_0x250d32},_0x24c155){const _0x148881=a0_0x1b487a;return await this[_0x148881(0x1fd)][_0x148881(0x2b3)][_0x250d32][_0x148881(0x5e2)](_0x24c155);}async['sendPoll']({instanceName:_0x2d6b91},_0x8ea527){const _0x9ceaa4=a0_0x1b487a;return await this[_0x9ceaa4(0x1fd)]['waInstances'][_0x2d6b91][_0x9ceaa4(0x5cd)](_0x8ea527);}async[a0_0x1b487a(0x5ff)]({instanceName:_0x4cde76},_0x4bd73e){const _0x2edc75=a0_0x1b487a;return await this[_0x2edc75(0x1fd)][_0x2edc75(0x2b3)][_0x4cde76][_0x2edc75(0x321)](_0x4bd73e);}async[a0_0x1b487a(0x6f1)]({instanceName:_0x4bf75f},_0x10df8f){const _0x473faa=a0_0x1b487a;return await this[_0x473faa(0x1fd)][_0x473faa(0x2b3)][_0x4bf75f][_0x473faa(0x683)](_0x10df8f);}async[a0_0x1b487a(0x402)]({instanceName:_0xae2941},_0xc29424){const _0xe7234e=a0_0x1b487a;if(!_0xc29424[_0xe7234e(0x65b)]['reaction'][_0xe7234e(0x693)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0xe7234e(0xec));return await this['waMonitor'][_0xe7234e(0x2b3)][_0xae2941][_0xe7234e(0x65b)](_0xc29424);}async[a0_0x1b487a(0xf0)]({instanceName:_0x5623d8},_0x2f8e9d){const _0x1f83e4=a0_0x1b487a;return await this[_0x1f83e4(0x1fd)][_0x1f83e4(0x2b3)][_0x5623d8][_0x1f83e4(0x521)](_0x2f8e9d);}},Mr=require('jsonwebtoken'),Os=require(a0_0x1b487a(0x6b4)),qt=class c{constructor(_0x23b976,_0x174485,_0x5a93b2){const _0x546391=a0_0x1b487a;this['configService']=_0x23b976,this[_0x546391(0x1fd)]=_0x174485,this[_0x546391(0x4d8)]=_0x5a93b2,this[_0x546391(0x213)]=new N(c[_0x546391(0x69e)]);}async[a0_0x1b487a(0x4c4)](_0x1af64b){const _0x22942e=a0_0x1b487a;let _0x1e15da=this['configService']['get']('AUTHENTICATION')['JWT'],_0x596968=(0x0,Mr['sign'])({'instanceName':_0x1af64b[_0x22942e(0x39e)],'apiName':He,'tokenId':(0x0,Os['v4'])()},_0x1e15da[_0x22942e(0x539)],{'expiresIn':_0x1e15da[_0x22942e(0x69c)],'encoding':'utf8','subject':_0x22942e(0x643)}),_0x8d67c3=await this['repository']['auth'][_0x22942e(0x1ea)]({'jwt':_0x596968},_0x1af64b[_0x22942e(0x39e)]);if(_0x8d67c3['error'])throw this['logger']['error']({'localError':c[_0x22942e(0x69e)]+_0x22942e(0x167),'error':_0x8d67c3[_0x22942e(0x519)]}),new w(_0x22942e(0x6b7),_0x8d67c3[_0x22942e(0x519)]?.['toString']());return{'jwt':_0x596968};}async['apikey'](_0xd914e0){const _0xdc02d8=a0_0x1b487a;let _0x549261=(0x0,Os['v4'])()[_0xdc02d8(0x13e)](),_0x2600fb=await this['repository']['auth'][_0xdc02d8(0x1ea)]({'apikey':_0x549261},_0xd914e0[_0xdc02d8(0x39e)]);if(_0x2600fb['error'])throw this[_0xdc02d8(0x213)][_0xdc02d8(0x519)]({'localError':c[_0xdc02d8(0x69e)]+_0xdc02d8(0x167),'error':_0x2600fb[_0xdc02d8(0x519)]}),new w(_0xdc02d8(0x6b7),_0x2600fb['error']?.[_0xdc02d8(0x601)]());return{'apikey':_0x549261};}async[a0_0x1b487a(0x113)](_0x342016){const _0x3c8500=a0_0x1b487a;let _0x271746=this[_0x3c8500(0x362)][_0x3c8500(0x348)](_0x3c8500(0x65f));return await this[_0x271746[_0x3c8500(0x31f)]](_0x342016);}},Jt=class{constructor(_0x1bbb06){const _0x1b1c04=a0_0x1b487a;this[_0x1b1c04(0x1fd)]=_0x1bbb06;}async[a0_0x1b487a(0x6cc)](_0x454d65,_0x304105){const _0x47b087=a0_0x1b487a;return await this['waMonitor'][_0x47b087(0x2b3)][_0x454d65[_0x47b087(0x39e)]][_0x47b087(0x6cc)](_0x304105);}async[a0_0x1b487a(0x264)](_0x4d22fb,_0x5cedc0){const _0x5534f4=a0_0x1b487a;return await this['waMonitor'][_0x5534f4(0x2b3)][_0x4d22fb[_0x5534f4(0x39e)]][_0x5534f4(0x264)](_0x5cedc0);}async[a0_0x1b487a(0x4f0)](_0x2af0df,_0x26e39e){const _0x1a9013=a0_0x1b487a;return await this[_0x1a9013(0x1fd)][_0x1a9013(0x2b3)][_0x2af0df[_0x1a9013(0x39e)]][_0x1a9013(0x4f0)](_0x26e39e);}async['groupName'](_0x3b1f73,_0x42db0d){const _0x49edbf=a0_0x1b487a;return await this[_0x49edbf(0x1fd)][_0x49edbf(0x2b3)][_0x3b1f73[_0x49edbf(0x39e)]]['groupName'](_0x42db0d);}async[a0_0x1b487a(0x4ff)](_0x19f67c,_0x46323f){const _0x3053a1=a0_0x1b487a;return await this[_0x3053a1(0x1fd)][_0x3053a1(0x2b3)][_0x19f67c['instanceName']][_0x3053a1(0x4ff)](_0x46323f);}async[a0_0x1b487a(0xcd)](_0x4100e9,_0x1a3c9e){const _0xb9771b=a0_0x1b487a;return await this[_0xb9771b(0x1fd)][_0xb9771b(0x2b3)][_0x4100e9[_0xb9771b(0x39e)]][_0xb9771b(0x56e)](_0x1a3c9e);}async[a0_0x1b487a(0x6de)](_0x20e6d9){const _0x2cebc0=a0_0x1b487a;return await this[_0x2cebc0(0x1fd)][_0x2cebc0(0x2b3)][_0x20e6d9[_0x2cebc0(0x39e)]][_0x2cebc0(0x6de)]();}async['inviteCode'](_0x4ce79a,_0x3248a6){const _0x162ce4=a0_0x1b487a;return await this[_0x162ce4(0x1fd)][_0x162ce4(0x2b3)][_0x4ce79a[_0x162ce4(0x39e)]]['inviteCode'](_0x3248a6);}async[a0_0x1b487a(0x1e6)](_0x2ce69a,_0x123bf6){const _0x18b470=a0_0x1b487a;return await this[_0x18b470(0x1fd)][_0x18b470(0x2b3)][_0x2ce69a[_0x18b470(0x39e)]][_0x18b470(0x1e6)](_0x123bf6);}async[a0_0x1b487a(0x63c)](_0x5b5c97,_0x20a04b){const _0x4d920f=a0_0x1b487a;return await this[_0x4d920f(0x1fd)][_0x4d920f(0x2b3)][_0x5b5c97['instanceName']][_0x4d920f(0x63c)](_0x20a04b);}async[a0_0x1b487a(0x305)](_0x1440fd,_0x35669c){const _0xa93614=a0_0x1b487a;return await this['waMonitor'][_0xa93614(0x2b3)][_0x1440fd[_0xa93614(0x39e)]]['findParticipants'](_0x35669c);}async[a0_0x1b487a(0x524)](_0xac3639,_0x274604){const _0xce8a99=a0_0x1b487a;return await this[_0xce8a99(0x1fd)]['waInstances'][_0xac3639[_0xce8a99(0x39e)]][_0xce8a99(0x6df)](_0x274604);}async[a0_0x1b487a(0x40b)](_0x2eb7b3,_0xcc6c0a){const _0x3fe390=a0_0x1b487a;return await this[_0x3fe390(0x1fd)][_0x3fe390(0x2b3)][_0x2eb7b3[_0x3fe390(0x39e)]][_0x3fe390(0x40b)](_0xcc6c0a);}async[a0_0x1b487a(0x272)](_0x27db95,_0x2108c2){const _0x3f156b=a0_0x1b487a;return await this[_0x3f156b(0x1fd)][_0x3f156b(0x2b3)][_0x27db95['instanceName']][_0x3f156b(0x272)](_0x2108c2);}},Vt=class{constructor(_0x253792){const _0x5d9839=a0_0x1b487a;this[_0x5d9839(0x1fd)]=_0x253792;}['create'](_0x280833,_0x772da2){const _0x33feee=a0_0x1b487a;return this[_0x33feee(0x1fd)][_0x33feee(0x2b3)][_0x280833[_0x33feee(0x39e)]][_0x33feee(0x2a0)](_0x772da2);}async['find'](_0x68218d){const _0x3e089b=a0_0x1b487a;try{return await this[_0x3e089b(0x1fd)][_0x3e089b(0x2b3)][_0x68218d[_0x3e089b(0x39e)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Zd=new N(a0_0x1b487a(0x33a)),Bt=class{constructor(_0x241358){const _0x777582=a0_0x1b487a;this[_0x777582(0x1fd)]=_0x241358;}async[a0_0x1b487a(0x3e9)](_0x33c981,_0x2b12b0){const _0x3245b7=a0_0x1b487a;return await this[_0x3245b7(0x1fd)][_0x3245b7(0x2b3)][_0x33c981[_0x3245b7(0x39e)]]['editScheduleMessage'](_0x2b12b0);}async[a0_0x1b487a(0x236)](_0x5f5a4d){const _0x3587b2=a0_0x1b487a;return await this[_0x3587b2(0x1fd)][_0x3587b2(0x2b3)][_0x5f5a4d['instanceName']]['getScheduleMessage']();}async['deleteDoneMessages'](_0x36d72f){const _0x2c1c7d=a0_0x1b487a;return await this[_0x2c1c7d(0x1fd)][_0x2c1c7d(0x2b3)][_0x36d72f[_0x2c1c7d(0x39e)]][_0x2c1c7d(0x30f)]();}async[a0_0x1b487a(0x2fe)](_0x403270){const _0x2dd587=a0_0x1b487a;return await this[_0x2dd587(0x1fd)][_0x2dd587(0x2b3)][_0x403270[_0x2dd587(0x39e)]][_0x2dd587(0x2fe)]();}async[a0_0x1b487a(0x5bd)](_0x18b1cd,_0xf41386){const _0xa631c9=a0_0x1b487a;return await this[_0xa631c9(0x1fd)][_0xa631c9(0x2b3)][_0x18b1cd[_0xa631c9(0x39e)]][_0xa631c9(0x5bd)](_0xf41386);}async[a0_0x1b487a(0x5d0)](_0x1219e5,_0x561b05){const _0x57937c=a0_0x1b487a;return await this[_0x57937c(0x1fd)]['waInstances'][_0x1219e5[_0x57937c(0x39e)]]['updateCustomFields'](_0x561b05);}async[a0_0x1b487a(0x469)](_0x3b91e7,_0x50da07){const _0x172a1a=a0_0x1b487a;return await this[_0x172a1a(0x1fd)]['waInstances'][_0x3b91e7[_0x172a1a(0x39e)]][_0x172a1a(0x469)](_0x50da07);}async[a0_0x1b487a(0x413)](_0x22cb07,_0x4aabd5){const _0x1f1115=a0_0x1b487a;return await this[_0x1f1115(0x1fd)]['waInstances'][_0x22cb07[_0x1f1115(0x39e)]][_0x1f1115(0x413)](_0x4aabd5);}async['getConversation'](_0xc0d0f5,_0xcf0f0d){const _0x574041=a0_0x1b487a;return await this[_0x574041(0x1fd)]['waInstances'][_0xc0d0f5[_0x574041(0x39e)]]['getConversation'](_0xcf0f0d);}async[a0_0x1b487a(0x232)](_0x31f4e2,_0x4721f8){const _0x2fde95=a0_0x1b487a;return await this[_0x2fde95(0x1fd)][_0x2fde95(0x2b3)][_0x31f4e2['instanceName']][_0x2fde95(0x232)](_0x4721f8);}async[a0_0x1b487a(0x471)](_0x5a4360,_0x1a86e7){const _0x526e1b=a0_0x1b487a;return await this[_0x526e1b(0x1fd)][_0x526e1b(0x2b3)][_0x5a4360[_0x526e1b(0x39e)]]['editConversation'](_0x1a86e7);}async[a0_0x1b487a(0x84)](_0x337767,_0x4f00fb){const _0x69dac7=a0_0x1b487a;return await this[_0x69dac7(0x1fd)][_0x69dac7(0x2b3)][_0x337767[_0x69dac7(0x39e)]][_0x69dac7(0x84)](_0x4f00fb);}async['getFlow'](_0x55a0ad,_0x464e80){const _0x21df01=a0_0x1b487a;return await this[_0x21df01(0x1fd)][_0x21df01(0x2b3)][_0x55a0ad[_0x21df01(0x39e)]]['getFlow'](_0x464e80[_0x21df01(0x69e)]);}async[a0_0x1b487a(0x1c9)](_0x29b944,_0x28665a){const _0x5d2d14=a0_0x1b487a;return await this[_0x5d2d14(0x1fd)][_0x5d2d14(0x2b3)][_0x29b944['instanceName']][_0x5d2d14(0x1c9)](_0x28665a);}async[a0_0x1b487a(0x28c)](_0x26dc38,_0x1586f9){const _0x39ee29=a0_0x1b487a;return await this[_0x39ee29(0x1fd)][_0x39ee29(0x2b3)][_0x26dc38['instanceName']][_0x39ee29(0x28c)](_0x1586f9);}async['editFlowBlock'](_0xe1b8ce,_0x2d665b){const _0x2b093e=a0_0x1b487a;return await this['waMonitor'][_0x2b093e(0x2b3)][_0xe1b8ce['instanceName']][_0x2b093e(0x4da)](_0x2d665b);}async[a0_0x1b487a(0x211)](_0x1c0c41,_0x430ae2){const _0x2ce1e9=a0_0x1b487a;return await this['waMonitor'][_0x2ce1e9(0x2b3)][_0x1c0c41[_0x2ce1e9(0x39e)]]['editFlowReply'](_0x430ae2);}async[a0_0x1b487a(0x6f8)](_0xa9fade,_0x1abe7a){const _0x580e47=a0_0x1b487a;return await this[_0x580e47(0x1fd)]['waInstances'][_0xa9fade['instanceName']][_0x580e47(0x6f8)](_0x1abe7a);}async[a0_0x1b487a(0x4b3)](_0x5e90e8,_0x1dc870){const _0x164c70=a0_0x1b487a;return await this[_0x164c70(0x1fd)]['waInstances'][_0x5e90e8[_0x164c70(0x39e)]]['editFlowCondition'](_0x1dc870);}async['editFlowVaredit'](_0x50a4a3,_0xec678d){const _0x38a550=a0_0x1b487a;return await this['waMonitor'][_0x38a550(0x2b3)][_0x50a4a3[_0x38a550(0x39e)]][_0x38a550(0x678)](_0xec678d);}async[a0_0x1b487a(0x44e)](_0x25961e,_0x4cb903){const _0x452743=a0_0x1b487a;return await this[_0x452743(0x1fd)][_0x452743(0x2b3)][_0x25961e[_0x452743(0x39e)]]['editFlowVariable'](_0x4cb903);}async[a0_0x1b487a(0x549)](_0x566e89,_0x4bde5e){const _0x25d21e=a0_0x1b487a;return await this['waMonitor'][_0x25d21e(0x2b3)][_0x566e89['instanceName']][_0x25d21e(0x549)](_0x4bde5e[_0x25d21e(0x69e)]);}async['allFlows'](_0x44b7af){const _0x260520=a0_0x1b487a;return await this[_0x260520(0x1fd)][_0x260520(0x2b3)][_0x44b7af[_0x260520(0x39e)]][_0x260520(0x39f)]();}},Gt=class{constructor(_0x5eb918){const _0x5665a1=a0_0x1b487a;this[_0x5665a1(0xd1)]=_0x5eb918;}async[a0_0x1b487a(0x672)](_0xa2068d,_0x589f8a){const _0xd71f65=a0_0x1b487a;return this['webhookService'][_0xd71f65(0x1ea)](_0xa2068d,_0x589f8a);}async[a0_0x1b487a(0x595)](_0x472839){const _0x532848=a0_0x1b487a;return this[_0x532848(0xd1)]['find'](_0x472839);}},Wt=class extends D{constructor(_0x5c6647,_0x26da44){const _0x20a753=a0_0x1b487a;super(_0x26da44),this['webhookModel']=_0x5c6647,this[_0x20a753(0x362)]=_0x26da44;}async['create'](_0x4b1682,_0x53066b){const _0x3e7781=a0_0x1b487a;try{return this[_0x3e7781(0x54a)][_0x3e7781(0x5ba)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x53066b},{..._0x4b1682},{'upsert':!0x0}))[_0x3e7781(0x5e4)]}:{'insertCount':0x1};}catch(_0x32468a){return _0x32468a;}}async['delete'](_0x5ad2fa){const _0x126459=a0_0x1b487a;try{if(this[_0x126459(0x54a)][_0x126459(0x5ba)]){await this['webhookModel']['deleteOne']({'_id':_0x5ad2fa});return;}}catch(_0x564156){return{'error':_0x564156};}}async['find'](_0x209223){const _0x22a5f2=a0_0x1b487a;try{if(this['dbSettings'][_0x22a5f2(0x5ba)])return await this['webhookModel'][_0x22a5f2(0x547)]({'_id':_0x209223});}catch{return{};}}},zt=class extends D{constructor(_0x4b4400,_0x58f1ad){const _0x204090=a0_0x1b487a;super(_0x58f1ad),this[_0x204090(0x67c)]=_0x4b4400,this[_0x204090(0x362)]=_0x58f1ad,this[_0x204090(0x282)]=_0x58f1ad[_0x204090(0x348)](_0x204090(0x65f));}async[a0_0x1b487a(0x1ea)](_0x3a2999,_0x2bf24f){const _0xc94066=a0_0x1b487a;try{if(this['dbSettings'][_0xc94066(0x5ba)])return{'insertCount':(await this[_0xc94066(0x67c)][_0xc94066(0x4bf)]({'_id':_0x2bf24f},{'$set':{..._0x3a2999}},{'upsert':!0x0}))[_0xc94066(0x5e4)]};}catch(_0xe0f242){return{'error':_0xe0f242};}}async[a0_0x1b487a(0x4fb)](_0x554984,_0xa33be6){const _0x50b211=a0_0x1b487a;try{if(this[_0x50b211(0x54a)]['ENABLED'])return{'insertCount':(await this[_0x50b211(0x67c)][_0x50b211(0x5a4)](_0x554984,{'$set':_0xa33be6},{'upsert':!0x1}))[_0x50b211(0x5e4)]};throw new Error(_0x50b211(0x1cf));}catch(_0x519180){return{'error':_0x519180};}}async['deleteMany'](_0xaafef1){const _0x4103ce=a0_0x1b487a;try{if(this[_0x4103ce(0x54a)][_0x4103ce(0x5ba)])return{'insertCount':(await this['authModel'][_0x4103ce(0x359)](_0xaafef1))['deletedCount']};throw new Error(_0x4103ce(0x1cf));}catch(_0x445de9){return{'error':_0x445de9};}}async[a0_0x1b487a(0x522)](_0x47c003){const _0x35b694=a0_0x1b487a;try{if(this[_0x35b694(0x54a)]['ENABLED']){await this[_0x35b694(0x67c)][_0x35b694(0x2e6)]({'_id':_0x47c003});return;}}catch(_0x186bfd){return{'error':_0x186bfd};}}async[a0_0x1b487a(0x3a8)](_0x45eba9){const _0x54517d=a0_0x1b487a;try{if(this[_0x54517d(0x54a)][_0x54517d(0x5ba)])return await this['authModel'][_0x54517d(0x547)]({'_id':_0x45eba9});}catch{return{};}}async['findAll'](){const _0x2bccb5=a0_0x1b487a;try{if(this['dbSettings']['ENABLED'])return await this['authModel'][_0x2bccb5(0x3a8)]();}catch{return[];}}},Ht=class extends D{[a0_0x1b487a(0x56a)](_0x4ea4c1){return ra(_0x4ea4c1);}async[a0_0x1b487a(0xfb)](_0x428097){const _0x4873c8=a0_0x1b487a;try{let _0xae136d=ia,_0x2f2c4e=this[_0x4873c8(0x56a)](_0x428097),_0x55ff59=await _0xae136d['find']({'owner':_0x428097})[_0x4873c8(0x3dd)](),_0x19324b=[],_0x204c60=[];for(let _0x2ab362 of _0x55ff59)await _0x2f2c4e[_0x4873c8(0x1d7)](_0x2ab362[_0x4873c8(0x127)])['lean']()||(_0x19324b[_0x4873c8(0xd3)](_0x2ab362),_0x204c60['push'](_0x2ab362['_id']));return _0x19324b[_0x4873c8(0x573)]>0x0&&await _0x2f2c4e[_0x4873c8(0x68f)](_0x19324b,{'ordered':!0x1}),{'success':!0x0};}catch(_0x42e78b){return console[_0x4873c8(0x519)]('Erro\x20ao\x20copiar\x20dados:',_0x42e78b),{'success':!0x1,'error':_0x42e78b};}}async[a0_0x1b487a(0x522)](_0x223ea6,_0x4c4658){const _0xe4ba5b=a0_0x1b487a;try{let _0x15cd2a=this[_0xe4ba5b(0x56a)](_0x4c4658),_0x2042f7=A(_0x223ea6[_0xe4ba5b(0x85)]);return{'deletedCount':(await _0x15cd2a[_0xe4ba5b(0x359)](_0x2042f7))['deletedCount']};}catch(_0x55f38c){return{'error':_0x55f38c?.['toString']()};}}async[a0_0x1b487a(0x2e6)](_0x4f0500,_0x1142d4){const _0x1873d8=a0_0x1b487a;try{let _0x1ff3b9=this[_0x1873d8(0x56a)](_0x1142d4),_0x587eb9=A(_0x4f0500['where']);return{'deletedCount':(await _0x1ff3b9[_0x1873d8(0x2e6)](_0x587eb9))[_0x1873d8(0x5f7)]};}catch(_0x42edb5){return{'error':_0x42edb5?.[_0x1873d8(0x601)]()};}}async['replaceOne'](_0x3b3a5c,_0x5b82f7,_0x15d5d5){const _0x42a83a=a0_0x1b487a;try{let _0x187713=await this[_0x42a83a(0x56a)](_0x15d5d5)[_0x42a83a(0x81)](_0x3b3a5c,_0x5b82f7,{'overwrite':!0x0,'new':!0x0});return _0x187713||(console['error'](_0x42a83a(0x79),_0x3b3a5c),null);}catch(_0x2e706e){return console['error'](_0x42a83a(0x508),_0x2e706e),null;}}async[a0_0x1b487a(0x4bf)](_0x5c90e8,_0x447185,_0x350d8e){const _0x3115b0=a0_0x1b487a;try{let _0x20580b=await this[_0x3115b0(0x56a)](_0x350d8e)[_0x3115b0(0x1d7)](_0x5c90e8);return _0x20580b?(Object[_0x3115b0(0x4bc)](_0x20580b,_0x447185),await _0x20580b[_0x3115b0(0x6a3)]()):(console[_0x3115b0(0x519)](_0x3115b0(0x6d4),_0x5c90e8),null);}catch(_0xaa9446){return console[_0x3115b0(0x519)](_0x3115b0(0x508),_0xaa9446),null;}}async[a0_0x1b487a(0x680)](_0x581df1){const _0x10f231=a0_0x1b487a;try{let _0x3880ec=this[_0x10f231(0x56a)](_0x581df1),_0x24a70d={'shareOwners':{'$exists':!0x1}},_0xd605fd={'$set':{'shareOwners':[]}};return(await _0x3880ec[_0x10f231(0x5a4)](_0x24a70d,_0xd605fd))[_0x10f231(0x5e4)];}catch(_0x559da5){return console[_0x10f231(0x519)](_0x559da5),0x0;}}async[a0_0x1b487a(0x6cf)](_0x146b2a,_0x18077d){const _0x402889=a0_0x1b487a;try{let _0x23639c=this[_0x402889(0x56a)](_0x18077d);return await new _0x23639c(_0x146b2a)[_0x402889(0x6a3)]();}catch(_0x444801){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x444801),null;}}async[a0_0x1b487a(0x5a4)](_0x241797,_0x3e9ba4,_0x24e882){const _0x286821=a0_0x1b487a;try{return{'modifiedCount':(await this[_0x286821(0x56a)](_0x24e882)['updateMany'](_0x241797,{'$set':_0x3e9ba4}))['modifiedCount']};}catch(_0x16c31e){return console['error']('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x16c31e),{'error':_0x16c31e};}}async[a0_0x1b487a(0x40e)](_0x1e8132,_0x3548ee){const _0x4f300c=a0_0x1b487a;try{let _0x597f07=this[_0x4f300c(0x56a)](_0x3548ee),_0x304899=A(_0x1e8132[_0x4f300c(0x85)]);return await _0x597f07[_0x4f300c(0x3a8)](_0x304899)[_0x4f300c(0x2bf)](_0x1e8132?.[_0x4f300c(0x2bf)]??0x0)['lean']();}catch{return[];}}async[a0_0x1b487a(0x547)](_0x1f1f7f,_0x160c43){const _0x835a06=a0_0x1b487a;try{let _0x182a7b=this[_0x835a06(0x56a)](_0x160c43),_0x50a8f1=A(_0x1f1f7f[_0x835a06(0x85)]);return await _0x182a7b[_0x835a06(0x547)](_0x50a8f1)[_0x835a06(0x3dd)]();}catch{return null;}}async[a0_0x1b487a(0x687)](_0x46752d){const _0x2f0912=a0_0x1b487a;try{return await this[_0x2f0912(0x56a)](_0x46752d)[_0x2f0912(0xce)]['drop'](),{'success':!0x0};}catch(_0x58d873){return console['error'](_0x58d873),{'success':!0x1,'error':_0x58d873};}}},Kt=class extends D{['getConversationModelForOwner'](_0x2983d3){return na(_0x2983d3);}async['copyDataToNewModel'](_0xdd34d0){const _0x2a355e=a0_0x1b487a;try{let _0x4b10f7=ca,_0x442a5f=this[_0x2a355e(0x405)](_0xdd34d0),_0x4fab90=await _0x4b10f7['find']({'owner':_0xdd34d0})['lean'](),_0x4c7b3d=[],_0x55b55d=[];for(let _0x1f4701 of _0x4fab90)await _0x442a5f[_0x2a355e(0x1d7)](_0x1f4701[_0x2a355e(0x127)])[_0x2a355e(0x3dd)]()||(_0x4c7b3d[_0x2a355e(0xd3)](_0x1f4701),_0x55b55d[_0x2a355e(0xd3)](_0x1f4701[_0x2a355e(0x127)]));return _0x4c7b3d[_0x2a355e(0x573)]>0x0&&await _0x442a5f[_0x2a355e(0x68f)](_0x4c7b3d,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4ea872){return console[_0x2a355e(0x519)](_0x2a355e(0x64e),_0x4ea872),{'success':!0x1,'error':_0x4ea872};}}async[a0_0x1b487a(0x24c)](_0x255d2e){const _0x4f75b7=a0_0x1b487a;if(_0x255d2e[_0x4f75b7(0x573)]!==0x0)try{return{'insertCount':(await this[_0x4f75b7(0x405)](_0x255d2e[0x0][_0x4f75b7(0x648)])['insertMany']([..._0x255d2e]))[_0x4f75b7(0x573)]};}catch(_0x1627b1){return _0x1627b1;}}async[a0_0x1b487a(0x522)](_0x4e5981,_0x549cb3){const _0x22086d=a0_0x1b487a;try{let _0x43fe54=this['getConversationModelForOwner'](_0x549cb3),_0x5b40f2=A(_0x4e5981[_0x22086d(0x85)]);return{'deletedCount':(await _0x43fe54[_0x22086d(0x359)](_0x5b40f2))['deletedCount']};}catch(_0xdf9079){return{'error':_0xdf9079?.[_0x22086d(0x601)]()};}}async[a0_0x1b487a(0x2e6)](_0x479f37,_0x55941a){const _0x1352dd=a0_0x1b487a;try{let _0x15a4c0=this[_0x1352dd(0x405)](_0x55941a),_0xb1522c=A(_0x479f37[_0x1352dd(0x85)]);return{'deletedCount':(await _0x15a4c0['deleteOne'](_0xb1522c))[_0x1352dd(0x5f7)]};}catch(_0x6597ed){return{'error':_0x6597ed?.[_0x1352dd(0x601)]()};}}async[a0_0x1b487a(0x4f5)](_0x3f2a2f,_0x281b64){const _0x262a6f=a0_0x1b487a;try{if(_0x3f2a2f['length']===0x0)return;let _0x51a177=this[_0x262a6f(0x405)](_0x281b64),_0xd28796=_0x3f2a2f['map'](_0x2878be=>({'updateOne':{'filter':{'name':_0x2878be[_0x262a6f(0x69e)],'owner':_0x281b64},'update':{..._0x2878be}}})),{modifiedCount:_0x4052a5}=await _0x51a177['bulkWrite'](_0xd28796);return{'insertCount':_0x4052a5};}catch{return;}}async[a0_0x1b487a(0x5a4)](_0x2fec42,_0xe916a2,_0x388f38){const _0x42efbf=a0_0x1b487a;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x388f38)[_0x42efbf(0x5a4)](_0x2fec42,{'$set':_0xe916a2}))[_0x42efbf(0x5e4)]};}catch(_0x5ab82d){return console[_0x42efbf(0x519)](_0x42efbf(0x409),_0x5ab82d),{'error':_0x5ab82d};}}async[a0_0x1b487a(0x4bf)](_0x30cb6b,_0xe78283,_0x20a3bc){const _0x59fb53=a0_0x1b487a;try{return await this[_0x59fb53(0x405)](_0x20a3bc)[_0x59fb53(0x684)]({'_id':_0x30cb6b},{'$set':_0xe78283},{'new':!0x0,'upsert':!0x0})[_0x59fb53(0x3dd)]();}catch(_0x558fad){return console[_0x59fb53(0x519)](_0x558fad),null;}}async[a0_0x1b487a(0x3a8)](_0x2d5743,_0x3a33e5){const _0x299417=a0_0x1b487a;try{return await this['getConversationModelForOwner'](_0x3a33e5)[_0x299417(0x3a8)](_0x2d5743)[_0x299417(0x50f)]({'lastInteraction':-0x1})[_0x299417(0x3dd)]();}catch{return[];}}async['findOne'](_0x303a18,_0x383a6a){const _0x103a11=a0_0x1b487a;try{return await this[_0x103a11(0x405)](_0x383a6a)[_0x103a11(0x547)]({..._0x303a18[_0x103a11(0x85)]})[_0x103a11(0x3dd)]();}catch{return null;}}async[a0_0x1b487a(0x687)](_0x347366){const _0x1be475=a0_0x1b487a;try{return await this[_0x1be475(0x405)](_0x347366)[_0x1be475(0xce)][_0x1be475(0x1b1)](),{'success':!0x0};}catch(_0xc9d46e){return console[_0x1be475(0x519)](_0xc9d46e),{'success':!0x1,'error':_0xc9d46e};}}},Qt=class extends D{['getScheduleMessageModelForOwner'](_0x471686){return ua(_0x471686);}async['copyDataToNewModel'](_0x3e5f6e){const _0x2fd1b4=a0_0x1b487a;try{let _0x4bd0a3=da,_0x331297=this[_0x2fd1b4(0x599)](_0x3e5f6e),_0x326781=await _0x4bd0a3[_0x2fd1b4(0x3a8)]({'owner':_0x3e5f6e})['lean'](),_0x4cfe22=[],_0x126709=[];for(let _0x3d73d6 of _0x326781)await _0x331297[_0x2fd1b4(0x1d7)](_0x3d73d6['_id'])[_0x2fd1b4(0x3dd)]()||(_0x4cfe22[_0x2fd1b4(0xd3)](_0x3d73d6),_0x126709[_0x2fd1b4(0xd3)](_0x3d73d6[_0x2fd1b4(0x127)]));return _0x4cfe22[_0x2fd1b4(0x573)]>0x0&&await _0x331297[_0x2fd1b4(0x68f)](_0x4cfe22,{'ordered':!0x1}),{'success':!0x0};}catch(_0x57cbb7){return console[_0x2fd1b4(0x519)]('Erro\x20ao\x20copiar\x20dados:',_0x57cbb7),{'success':!0x1,'error':_0x57cbb7};}}async[a0_0x1b487a(0x6cf)](_0x53bf9c,_0x5313d9){const _0x237ea5=a0_0x1b487a;try{let _0x30fbdc=this[_0x237ea5(0x599)](_0x5313d9);return await new _0x30fbdc(_0x53bf9c)[_0x237ea5(0x6a3)]();}catch(_0x2dde2b){return console['error'](_0x237ea5(0xcf),_0x2dde2b),null;}}async[a0_0x1b487a(0x2e6)](_0x9b4319,_0x4d7cc4){const _0x4af073=a0_0x1b487a;try{return await this[_0x4af073(0x599)](_0x4d7cc4)[_0x4af073(0x5fe)](_0x9b4319),{};}catch(_0x4f0963){return{'error':_0x4f0963?.[_0x4af073(0x601)]()};}}async[a0_0x1b487a(0x4bf)](_0x21dc9f,_0x3d7aef,_0x2e13d7){const _0x4c3d4c=a0_0x1b487a;try{return await this[_0x4c3d4c(0x599)](_0x2e13d7)['findOneAndUpdate'](_0x21dc9f,{'$set':_0x3d7aef},{'new':!0x0})['lean']();}catch(_0x595b63){return console[_0x4c3d4c(0x519)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x595b63),null;}}async[a0_0x1b487a(0x657)](_0x355bf6,_0x5f5ca0,_0xcf9662){const _0x282e66=a0_0x1b487a;try{return await this[_0x282e66(0x599)](_0xcf9662)[_0x282e66(0x81)](_0x355bf6,_0x5f5ca0,{'new':!0x0})[_0x282e66(0x3dd)]();}catch(_0x4f0027){return console[_0x282e66(0x519)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x4f0027),null;}}async[a0_0x1b487a(0x3a8)](_0xcdf671,_0x142469){const _0x237630=a0_0x1b487a;try{return await this[_0x237630(0x599)](_0x142469)[_0x237630(0x3a8)](_0xcdf671[_0x237630(0x85)])[_0x237630(0x2bf)](_0xcdf671?.[_0x237630(0x2bf)]??0x0)[_0x237630(0x50f)]({'when':0x1})[_0x237630(0x3dd)]();}catch{return[];}}async[a0_0x1b487a(0x547)](_0x28a85c,_0x2e4f63){const _0x2ee2d7=a0_0x1b487a;try{return await this[_0x2ee2d7(0x599)](_0x2e4f63)[_0x2ee2d7(0x547)](_0x28a85c['where'])['sort']({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0x292c5f,_0x1c80f7){const _0x49391b=a0_0x1b487a;try{return await this[_0x49391b(0x599)](_0x1c80f7)[_0x49391b(0x1d7)](_0x292c5f)['lean']();}catch{return null;}}async[a0_0x1b487a(0x359)](_0x5cfba9,_0x4c3159){const _0x1d0192=a0_0x1b487a;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x4c3159)[_0x1d0192(0x359)](_0x5cfba9))[_0x1d0192(0x5f7)]};}catch(_0x301c4b){return console['error'](_0x1d0192(0x533),_0x301c4b),{'error':_0x301c4b};}}async[a0_0x1b487a(0x687)](_0x3d6c28){const _0x25efe1=a0_0x1b487a;try{return await this[_0x25efe1(0x599)](_0x3d6c28)['collection'][_0x25efe1(0x1b1)](),{'success':!0x0};}catch(_0x5a6c66){return console['error'](_0x5a6c66),{'success':!0x1,'error':_0x5a6c66};}}},Yt=class extends D{async[a0_0x1b487a(0x4f5)](_0x31b27a,_0xbbb719){const _0x38948c=a0_0x1b487a;try{if(this[_0x38948c(0x54a)][_0x38948c(0x5ba)]){let _0x30efd2=await $e[_0x38948c(0x684)]({'_id':_0xbbb719},{'$set':_0x31b27a},{'new':!0x0});return console[_0x38948c(0x18d)]('Resultado\x20da\x20atualização:',_0x30efd2),_0x30efd2;}}catch(_0x4c1499){throw console[_0x38948c(0x519)](_0x38948c(0x516),_0x4c1499),_0x4c1499;}}async[a0_0x1b487a(0x239)](_0x36c01e){const _0x2ceb98=a0_0x1b487a;try{let _0x35a8b3=await $e[_0x2ceb98(0x1d7)](_0x36c01e);return _0x35a8b3||(_0x35a8b3=new $e({'_id':_0x36c01e}),await _0x35a8b3[_0x2ceb98(0x6a3)]()),_0x35a8b3;}catch(_0xaddc87){return console[_0x2ceb98(0x519)](_0x2ceb98(0x146),_0xaddc87),null;}}},bi=new N(a0_0x1b487a(0x15b)),Si=new Fe(b),Ei=new kt(b),Ci=new Ye(b),Mi=new Wt(Xs,b),vi=new zt(Ks,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),ue=new ke(Si,Ei,Ci,Mi,vi,Ni,Ti,Ri,Oi,Ai,R?.[a0_0x1b487a(0x1c8)]()),V=new $t(as,b,ue),Ii=new qt(b,V,ue),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ie=new jt(V,b,ue,as,Ii),B=new Ut(V),_=new Ft(V),F=new Jt(V);bi['info'](a0_0x1b487a(0x1f9));var mh=require(a0_0x1b487a(0x51f)),As=require('fs'),vr=T(require('https')),Nr=T(require(a0_0x1b487a(0x20f))),Ne=class c{static #e;static set[a0_0x1b487a(0xb0)](_0x4d17a1){this.#e=_0x4d17a1;}static get[a0_0x1b487a(0x6a)](){const _0x2a9142=a0_0x1b487a;let {FULLCHAIN:_0x3e24ae,PRIVKEY:_0x3eb785}=b[_0x2a9142(0x348)](_0x2a9142(0x379));return vr['createServer']({'cert':(0x0,As['readFileSync'])(_0x3e24ae),'key':(0x0,As[_0x2a9142(0x65e)])(_0x3eb785)},c.#e);}static get[a0_0x1b487a(0x20f)](){const _0x285191=a0_0x1b487a;return Nr[_0x285191(0x437)](c.#e);}},pe=T(require('fs')),xr=T(require(a0_0x1b487a(0x624))),Re=T(require(a0_0x1b487a(0x3ac))),Oe=T(require(a0_0x1b487a(0x60d))),Ae=require(a0_0x1b487a(0x658));function Di(){const _0x4c5ae6=a0_0x1b487a;V['loadInstance']();let _0x1d4344=Oe['default']['join'](__dirname,_0x4c5ae6(0x3d7));Ir(_0x1d4344);}var Ir=_0x459b1d=>{const _0x2821d6=a0_0x1b487a;let _0x42d8ae=pe[_0x2821d6(0x66d)][_0x2821d6(0x4a7)](_0x459b1d),_0x2d3f4f=0xc*0x3c*0x3c*0x3e8,_0x3a1548=0x2*0x3c*0x3c*0x3e8,_0x140dbc=new Date()[_0x2821d6(0x46b)]();_0x42d8ae['forEach'](_0x3dfce7=>{const _0x4d9711=_0x2821d6;let _0x3a896e=Oe[_0x4d9711(0x66d)]['join'](_0x459b1d,_0x3dfce7),_0x345e64=pe[_0x4d9711(0x66d)]['statSync'](_0x3a896e)[_0x4d9711(0x23a)][_0x4d9711(0x46b)]();_0x140dbc-_0x345e64>_0x2d3f4f&&(pe[_0x4d9711(0x66d)]['unlinkSync'](_0x3a896e),console[_0x4d9711(0x18d)](_0x4d9711(0x6d)+_0x3dfce7));}),setTimeout(()=>Ir(_0x459b1d),_0x3a1548);};function _i(){const _0x24fd0e=a0_0x1b487a;let _0x3d406d=new N(_0x24fd0e(0x1e9)),_0x455404=(0x0,he[_0x24fd0e(0x66d)])();_0x455404[_0x24fd0e(0x496)]((0x0,Ar[_0x24fd0e(0x66d)])({'origin'(_0x5f2d36,_0x74fe8a){const _0x3540c6=_0x24fd0e;let {ORIGIN:_0x449e59}=b[_0x3540c6(0x348)]('CORS');return _0x5f2d36||(_0x5f2d36='*'),_0x449e59[_0x3540c6(0x171)]('*')!==-0x1||_0x449e59[_0x3540c6(0x171)](_0x5f2d36)!==-0x1?_0x74fe8a(null,!0x0):_0x74fe8a(new Error(_0x3540c6(0xa9)));},'methods':[...b[_0x24fd0e(0x348)]('CORS')[_0x24fd0e(0x6d5)]],'credentials':b['get'](_0x24fd0e(0x2d7))[_0x24fd0e(0x5a5)]}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':'50mb'}),(0x0,he['json'])({'limit':_0x24fd0e(0x544)})),_0x455404[_0x24fd0e(0x496)]((_0x131cfa,_0x5507e0,_0x264637)=>{const _0x31c19c=_0x24fd0e;_0x131cfa[_0x31c19c(0x60d)][_0x31c19c(0x62f)]('/events')?_0x264637():(0x0,Or[_0x31c19c(0x66d)])()(_0x131cfa,_0x5507e0,_0x264637);}),_0x455404['set'](_0x24fd0e(0x662),_0x24fd0e(0x396)),_0x455404['set'](_0x24fd0e(0x336),(0x0,xs[_0x24fd0e(0xf6)])(re,_0x24fd0e(0x336))),_0x455404[_0x24fd0e(0x496)](he[_0x24fd0e(0x66d)][_0x24fd0e(0x74)]((0x0,xs[_0x24fd0e(0xf6)])(re,_0x24fd0e(0x6ca)))),_0x455404[_0x24fd0e(0x496)]((_0x454276,_0x1b7f0d,_0x30a357)=>{const _0x2f1b42=_0x24fd0e;let _0xc7d155=_0x1b7f0d[_0x2f1b42(0x69b)];_0x1b7f0d[_0x2f1b42(0x69b)]=function(_0x2ecedf){const _0x460f29=_0x2f1b42;if(_0x454276['query']['convert']===_0x460f29(0x1db)||_0x454276[_0x460f29(0x1cd)]['uazapi']==='true'){let _0x1471d9=JSON[_0x460f29(0x323)](_0x2ecedf);_0x2ecedf=JSON['stringify'](_0x162e27(_0x1471d9));}return _0xc7d155[_0x460f29(0x4c2)](_0x1b7f0d,[_0x2ecedf]);},_0x30a357();}),_0x455404[_0x24fd0e(0x496)]('/',Nt),_0x455404[_0x24fd0e(0x496)]((_0x30eb92,_0x5a95b8,_0xbc5415,_0x341779)=>{const _0x111170=_0x24fd0e;if(_0x30eb92)return _0xbc5415[_0x111170(0x14f)](_0x30eb92[_0x111170(0x14f)]||0x1f4)[_0x111170(0x1c1)](_0x30eb92);},(_0x272e2c,_0x1f9b12,_0x591612)=>{const _0x415375=_0x24fd0e;let {method:_0x88a861,url:_0x5cb17b}=_0x272e2c;_0x1f9b12[_0x415375(0x14f)](0x194)['json']({'status':0x194,'message':_0x415375(0x32d)+_0x88a861[_0x415375(0x13e)]()+'\x20'+_0x5cb17b,'error':_0x415375(0x2d9)}),_0x591612();});let _0x162e27=(_0x263e86,_0x2d28b4=_0x24fd0e(0x1f4))=>{const _0x19f6b5=_0x24fd0e;let _0x42a24c=(_0xcf9d91,_0x1f65a8=null,_0x2b77ab=!0x1)=>{const _0x3848c8=a0_0x32d2;let _0x47dd8e={};return Object[_0x3848c8(0x2a5)](_0xcf9d91)[_0x3848c8(0x6d9)](_0x3464a9=>{const _0x362e54=_0x3848c8;let _0x2f0aa4=_0xcf9d91[_0x3464a9],_0x350b5b=''+_0x2d28b4+_0x3464a9;_0x1f65a8&&!_0x2b77ab&&(_0x350b5b=_0x1f65a8+'.'+_0x3464a9),!_0x2f0aa4&&_0x2f0aa4!==0x0&&_0x2f0aa4!==!0x1||typeof _0x2f0aa4>'u'?_0x47dd8e[_0x350b5b]=null:typeof _0x2f0aa4!=_0x362e54(0x3e2)&&!Array[_0x362e54(0x1f2)](_0x2f0aa4)?_0x47dd8e[_0x350b5b]=_0x2f0aa4:typeof _0x2f0aa4==_0x362e54(0x3e2)&&!Array[_0x362e54(0x1f2)](_0x2f0aa4)?_0x47dd8e=Object[_0x362e54(0x4bc)](_0x47dd8e,_0x42a24c(_0x2f0aa4,_0x350b5b)):Array[_0x362e54(0x1f2)](_0x2f0aa4)&&(typeof _0x2f0aa4[0x0]==_0x362e54(0x3e2)?(_0x47dd8e[_0x350b5b]=[],_0x2f0aa4[_0x362e54(0x6d9)](_0x5eaa9c=>{_0x47dd8e[_0x350b5b]['push'](_0x42a24c(_0x5eaa9c,_0x350b5b,!0x0));})):_0x47dd8e[_0x350b5b]=_0x2f0aa4);}),_0x47dd8e;};return Array['isArray'](_0x263e86)?_0x263e86[_0x19f6b5(0x381)](_0x22f546=>_0x42a24c(_0x22f546)):typeof _0x263e86==_0x19f6b5(0x3e2)&&_0x263e86!==null?_0x42a24c(_0x263e86):{};},_0x44eca8=b[_0x24fd0e(0x348)]('SERVER');Ne['app']=_0x455404;let _0x3f81df=Ne[_0x44eca8[_0x24fd0e(0x31f)]],_0x15a5bc='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x3f81df[_0x24fd0e(0x2ff)](_0x44eca8[_0x24fd0e(0x179)],()=>{const _0x3f329f=_0x24fd0e;_0x3d406d[_0x3f329f(0x18d)](_0x15a5bc),_0x3d406d[_0x3f329f(0x18d)](_0x44eca8[_0x3f329f(0x31f)][_0x3f329f(0x13e)]()+_0x3f329f(0x267)+_0x44eca8[_0x3f329f(0x179)]);}),Di(),qs();}var Pi=a0_0x1b487a(0x200),$i=Oe[a0_0x1b487a(0x66d)][a0_0x1b487a(0xf6)](__dirname,a0_0x1b487a(0x1b4)),Te=null;function ki(){return new Promise((_0x29629f,_0x5be8ea)=>{const _0x4e1ff8=a0_0x32d2;pe[_0x4e1ff8(0x66d)][_0x4e1ff8(0x368)]($i,'utf-8',(_0x1b5963,_0x2f5b3e)=>{const _0x116587=_0x4e1ff8;if(_0x1b5963){Te=_0x1b5963,_0x29629f();return;}xr[_0x116587(0x66d)]['parse'](_0x2f5b3e)[_0x116587(0x64d)][_0x116587(0x241)]===Pi?(Te=null,_0x29629f()):(Te=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x29629f());});});}async function Li(){const _0x585638=a0_0x1b487a;try{await ki(),await Ds();}catch(_0x2320af){console[_0x585638(0x519)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x2320af),process[_0x585638(0x68d)](0x1);}}Li();async function Dr(){const _0x11c404=a0_0x1b487a;let _0x35b6aa;try{_0x35b6aa=(await Re[_0x11c404(0x66d)]['get'](_0x11c404(0x2cf)))[_0x11c404(0x3da)]['ip'];}catch(_0x476ccb){console[_0x11c404(0x519)](_0x476ccb);try{_0x35b6aa=(await Re[_0x11c404(0x66d)][_0x11c404(0x348)]('https://api.ipify.org?format=json'))[_0x11c404(0x3da)]['ip'];}catch(_0x1afff2){console[_0x11c404(0x519)](_0x1afff2);try{_0x35b6aa=(await Re[_0x11c404(0x66d)]['get']('http://checkip.dyndns.org'))['data'][_0x11c404(0x693)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x30d67b){return console[_0x11c404(0x519)](_0x30d67b),!0x1;}}}return _0x35b6aa;}var Rr=0x0;async function Fi(){const _0x9d605=a0_0x1b487a;let _0x4c6d2a=await new oe(b[_0x9d605(0x348)](_0x9d605(0x4b6)))[_0x9d605(0x649)]();return console['log'](_0x9d605(0x583),_0x4c6d2a[_0x9d605(0x573)]),_0x4c6d2a['length'];}function ji(_0x6d8d5e){const _0x315761=a0_0x1b487a;let _0x1c2132=_0x6d8d5e['get'](_0x315761(0x1e9))[_0x315761(0x17f)],_0x590313=_0x6d8d5e[_0x315761(0x348)]('SSL_CONF'),_0x34bc03;if(_0x1c2132){let _0x2e9cf2=_0x1c2132['match'](/\/\/(.*?)\./);_0x2e9cf2&&_0x2e9cf2[0x1]&&(_0x34bc03=_0x2e9cf2[0x1]);}if(!_0x34bc03&&_0x590313&&_0x590313[_0x315761(0x1b8)]){let _0xaed22e=_0x590313[_0x315761(0x1b8)]['split']('/'),_0x2d2ad2=_0xaed22e[_0xaed22e['length']-0x2];if(_0x2d2ad2){let _0x4b581a=_0x2d2ad2[_0x315761(0x4b1)]('.');_0x4b581a[_0x315761(0x573)]>0x2&&(_0x34bc03=_0x4b581a[0x0]);}}return _0x34bc03;}var Rs=ji(b);async function Ui(){const _0x5f817e=a0_0x1b487a;let _0x4ce6dc=b[_0x5f817e(0x348)](_0x5f817e(0x4b6)),_0x2642bc=b[_0x5f817e(0x348)](_0x5f817e(0x65f))[_0x5f817e(0x472)][_0x5f817e(0x5e9)],_0x53446f=b['get']('SSL_CONF'),_0x2c0fb3=await Dr(),_0x547bdb=b['get'](_0x5f817e(0x1e9))[_0x5f817e(0x179)],_0x1626dc=b[_0x5f817e(0x348)](_0x5f817e(0x1e9))['URL'];try{let _0x1fd986={'ip':_0x2c0fb3||null,'redis_enable':_0x4ce6dc?.[_0x5f817e(0x5ba)]||null,'apikey':_0x2642bc||null,'ssl':_0x53446f?.[_0x5f817e(0x2a7)]||null,'lastupdate':_r||null,'port':_0x547bdb||null,'gitInstallError':Te?.[_0x5f817e(0x531)]||null,'url':_0x1626dc||null};if(console[_0x5f817e(0x18d)](_0x5f817e(0x33c),_0x1fd986['ip']),_0x4ce6dc&&_0x4ce6dc[_0x5f817e(0x5ba)]){let _0x37cd97=await Fi();_0x1fd986[_0x5f817e(0x204)]=_0x37cd97||null;}for(let _0x166e4d in _0x1fd986)_0x1fd986[_0x5f817e(0x655)](_0x166e4d)&&_0x166e4d!=='ip'&&(_0x1fd986[_0x166e4d]=JSON[_0x5f817e(0x11e)](_0x1fd986[_0x166e4d]));return(await Re['default'][_0x5f817e(0x690)](_0x5f817e(0x1ba),_0x1fd986))[_0x5f817e(0x3da)];}catch(_0x3a9558){return console['error'](_0x3a9558),!0x1;}}var Is=!0x1,_r=0x22a,qi=0x3,Tr=0x1b7740;async function Ds(){const _0x53b3d0=a0_0x1b487a;if(!await Dr())return console['error']('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),'NO_IP';let _0xb6bc9d=await Ui();if(_0xb6bc9d){if(_0xb6bc9d['response'][_0x53b3d0(0x5a6)]===!0x0){let _0x2a403f=b[_0x53b3d0(0x348)]('SSL_CONF'),_0x121762=b[_0x53b3d0(0x348)](_0x53b3d0(0x1e9))[_0x53b3d0(0x17f)];_0x2a403f&&_0x2a403f?.['PRIVKEY']?.[_0x53b3d0(0x56d)](_0x53b3d0(0x605))&&_0xb6bc9d[_0x53b3d0(0x31d)]['subdomain']&&!_0x121762&&(await Bi(_0xb6bc9d[_0x53b3d0(0x31d)][_0x53b3d0(0x4ea)],Vi),await Gi(_0x53b3d0(0x2e7),_0xb6bc9d[_0x53b3d0(0x31d)][_0x53b3d0(0x4ea)]),console['log'](_0x53b3d0(0x2d4)),setTimeout(()=>zi(),0x2710)),Te===null&&_0xb6bc9d[_0x53b3d0(0x31d)][_0x53b3d0(0x2ee)]-_r>0x0&&await Ji(),Is||(Is=!0x0,_i());let _0x44251c=0x24*0x3c*0x3c,_0x34defc=_0xb6bc9d['response'][_0x53b3d0(0x378)]>_0x44251c?_0x44251c:_0xb6bc9d[_0x53b3d0(0x31d)][_0x53b3d0(0x378)],_0x4da7cf=Number(_0x34defc);if(isNaN(_0x4da7cf)){console['error'](_0x53b3d0(0x3e1));return;}let _0x5478f1=Math[_0x53b3d0(0x477)](_0x4da7cf/0xe10),_0x470954=Math[_0x53b3d0(0x477)](_0x4da7cf%0xe10/0x3c),_0x5c2c4e=new Date(Date[_0x53b3d0(0x6f)]()+_0x4da7cf*0x3e8);setTimeout(Ds,_0x4da7cf*0x3e8);let _0x3a1462=_0x1f40c5=>_0x1f40c5[_0x53b3d0(0x601)]()['padStart'](0x2,'0'),_0x4ea082=_0x53b3d0(0x37b)+_0x3a1462(_0x5478f1)+_0x53b3d0(0x44f)+_0x3a1462(_0x470954)+_0x53b3d0(0x393)+_0x3a1462(_0x5c2c4e['getHours']())+':'+_0x3a1462(_0x5c2c4e[_0x53b3d0(0x102)]())+'.';console[_0x53b3d0(0x18d)](_0x4ea082);}else return console[_0x53b3d0(0x18d)](_0x53b3d0(0x370)),Is&&(console[_0x53b3d0(0x18d)](_0x53b3d0(0x699)),process[_0x53b3d0(0x68d)]()),_0x53b3d0(0x314);}else{if(Rr++,Rr<qi)console[_0x53b3d0(0x18d)](_0x53b3d0(0x19c)+Tr/0xea60+_0x53b3d0(0x2ae)),setTimeout(Ds,Tr);else return console[_0x53b3d0(0x519)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x53b3d0(0x6af);}}async function Ji(){const _0x1ec2e8=a0_0x1b487a;console[_0x1ec2e8(0x18d)](_0x1ec2e8(0x120));let _0x164f15=(0x0,Ae[_0x1ec2e8(0x4db)])(_0x1ec2e8(0x495),{'shell':!0x0});_0x164f15[_0x1ec2e8(0x247)]['on'](_0x1ec2e8(0x3da),_0x327999=>{const _0x3c30fe=_0x1ec2e8;console[_0x3c30fe(0x18d)](_0x3c30fe(0x82)+_0x327999);}),_0x164f15[_0x1ec2e8(0x3fe)]['on'](_0x1ec2e8(0x3da),_0x3225a5=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x3225a5);}),_0x164f15['on'](_0x1ec2e8(0x68d),_0x7b4808=>{const _0x10673a=_0x1ec2e8;_0x7b4808!==0x0?console[_0x10673a(0x519)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x7b4808):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x10673a(0x68d)](),0x2710);});}var Vi=Oe[a0_0x1b487a(0x66d)]['join'](__dirname,'env.yml');async function Bi(_0x468397,_0x47e0a4){const _0x373fc0=a0_0x1b487a;let _0x7ff639=Wi();_0x468397=_0x468397[_0x373fc0(0x168)]('.uazapi.dev','');try{let _0x2d9afa=pe[_0x373fc0(0x66d)][_0x373fc0(0x65e)](_0x47e0a4,'utf8');_0x2d9afa=_0x2d9afa[_0x373fc0(0x168)](/<apikey>/,_0x7ff639),_0x2d9afa=_0x2d9afa[_0x373fc0(0x168)](/<subdomain>/g,_0x468397),pe['default'][_0x373fc0(0xbd)](_0x47e0a4,_0x2d9afa,_0x373fc0(0x2b4)),console['log'](_0x373fc0(0x62e));}catch(_0x27fcdc){console[_0x373fc0(0x519)](_0x373fc0(0x57a),_0x27fcdc);}}function Gi(_0x89ee2e,_0x432717){return new Promise((_0x44ad80,_0x16708c)=>{const _0x1dd8c9=a0_0x32d2;let _0xea45b9=(0x0,Ae[_0x1dd8c9(0x4db)])(_0x1dd8c9(0x2ca),['certonly',_0x1dd8c9(0x37d),'-m',_0x89ee2e,_0x1dd8c9(0x5da),'-d',_0x432717]);_0xea45b9[_0x1dd8c9(0x247)]['on']('data',_0x1d19f1=>{const _0x294a47=_0x1dd8c9;console['log']('Certbot:\x20'+_0x1d19f1[_0x294a47(0x601)]());}),_0xea45b9['stderr']['on'](_0x1dd8c9(0x3da),_0x58653f=>{const _0x4c4f48=_0x1dd8c9;console['error'](_0x4c4f48(0x543)+_0x58653f['toString']());}),_0xea45b9['on'](_0x1dd8c9(0x5db),_0x3d3c58=>{const _0x1cb69e=_0x1dd8c9;_0x3d3c58!==0x0?(console[_0x1cb69e(0x519)](_0x1cb69e(0x290)+_0x3d3c58),_0x16708c(_0x1cb69e(0x290)+_0x3d3c58)):(console[_0x1cb69e(0x18d)](_0x1cb69e(0x209)),_0x44ad80());});});}function Wi(_0x1843a3=0x32){const _0x1d5e67=a0_0x1b487a;let _0x12cb83=_0x1d5e67(0x94),_0x5ebcc8='';for(let _0x221719=0x0;_0x221719<_0x1843a3;_0x221719++)_0x5ebcc8+=_0x12cb83[_0x1d5e67(0x8f)](Math['floor'](Math[_0x1d5e67(0x3c1)]()*_0x12cb83[_0x1d5e67(0x573)]));return _0x5ebcc8;}function zi(){const _0x4d7db4=a0_0x1b487a;(0x0,Ae[_0x4d7db4(0x2b6)])(_0x4d7db4(0x566),(_0xc5332d,_0x5d3604,_0x55d3e6)=>{const _0x3428bd=_0x4d7db4;if(_0xc5332d){console['error'](_0x3428bd(0x2c8)+_0xc5332d);return;}if(_0x55d3e6){console[_0x3428bd(0x519)](_0x3428bd(0x22e)+_0x55d3e6);return;}console[_0x3428bd(0x18d)](_0x3428bd(0x1f3)+_0x5d3604);});}0x0&&(module['exports']={'subdomain':subdomain});