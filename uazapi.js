const a0_0x31011a=a0_0x2776;(function(_0xca3bec,_0x2b111e){const _0x36114d=a0_0x2776,_0x59dbcb=_0xca3bec();while(!![]){try{const _0x1be5b7=parseInt(_0x36114d(0x6c6))/0x1+-parseInt(_0x36114d(0x2c5))/0x2+parseInt(_0x36114d(0x325))/0x3*(-parseInt(_0x36114d(0x5c1))/0x4)+parseInt(_0x36114d(0x941))/0x5*(-parseInt(_0x36114d(0x7bf))/0x6)+parseInt(_0x36114d(0x6c7))/0x7+-parseInt(_0x36114d(0x81f))/0x8+-parseInt(_0x36114d(0x211))/0x9*(-parseInt(_0x36114d(0x5eb))/0xa);if(_0x1be5b7===_0x2b111e)break;else _0x59dbcb['push'](_0x59dbcb['shift']());}catch(_0x27701f){_0x59dbcb['push'](_0x59dbcb['shift']());}}}(a0_0x27ee,0xa1474));var Ki=Object[a0_0x31011a(0x582)],Ge=Object[a0_0x31011a(0x3e8)],Qi=Object['getOwnPropertyDescriptor'],Yi=Object['getOwnPropertyNames'],Xi=Object['getPrototypeOf'],Zi=Object[a0_0x31011a(0x563)]['hasOwnProperty'],eo=(_0x51b3e0,_0x56d76f)=>{for(var _0x483c75 in _0x56d76f)Ge(_0x51b3e0,_0x483c75,{'get':_0x56d76f[_0x483c75],'enumerable':!0x0});},Hs=(_0x3022a2,_0x159ee7,_0x473b0d,_0x14f24f)=>{const _0x4a4992=a0_0x31011a;if(_0x159ee7&&typeof _0x159ee7=='object'||typeof _0x159ee7=='function'){for(let _0x110db7 of Yi(_0x159ee7))!Zi['call'](_0x3022a2,_0x110db7)&&_0x110db7!==_0x473b0d&&Ge(_0x3022a2,_0x110db7,{'get':()=>_0x159ee7[_0x110db7],'enumerable':!(_0x14f24f=Qi(_0x159ee7,_0x110db7))||_0x14f24f[_0x4a4992(0x925)]});}return _0x3022a2;},A=(_0x29d243,_0x448e03,_0x629f74)=>(_0x629f74=_0x29d243!=null?Ki(Xi(_0x29d243)):{},Hs(_0x448e03||!_0x29d243||!_0x29d243[a0_0x31011a(0x640)]?Ge(_0x629f74,'default',{'value':_0x29d243,'enumerable':!0x0}):_0x629f74,_0x29d243)),to=_0x482b82=>Hs(Ge({},a0_0x31011a(0x640),{'value':!0x0}),_0x482b82),mr={};eo(mr,{'fullURL':()=>Ws,'subdomain':()=>X}),module[a0_0x31011a(0x71b)]=to(mr);var Vi=A(require(a0_0x31011a(0x637))),Qs=require('fs'),Ys=require('js-yaml'),Xs=require(a0_0x31011a(0x7c5)),Be=require(a0_0x31011a(0x7c5)),ce=process[a0_0x31011a(0x35e)](),Se=(0x0,Be[a0_0x31011a(0x57d)])(ce,a0_0x31011a(0x6c3)),Ks=(0x0,Be[a0_0x31011a(0x57d)])(ce,a0_0x31011a(0x7dd)),on=(0x0,Be[a0_0x31011a(0x57d)])(ce,a0_0x31011a(0x33a),a0_0x31011a(0x6e5)),ps=class{constructor(){this['loadEnv']();}[a0_0x31011a(0x67e)](_0x3eb3c5){const _0x35bf74=a0_0x31011a;return this[_0x35bf74(0x602)][_0x3eb3c5];}['loadEnv'](){const _0xe4c331=a0_0x31011a;this[_0xe4c331(0x602)]=process['env']?.['DOCKER_ENV']!==_0xe4c331(0x747)?this[_0xe4c331(0x4df)]():this[_0xe4c331(0x4ce)](),process[_0xe4c331(0x602)]?.[_0xe4c331(0x552)]==='true'&&(this[_0xe4c331(0x602)]['SERVER'][_0xe4c331(0x212)]=_0xe4c331(0x891),this[_0xe4c331(0x602)][_0xe4c331(0x333)]['PORT']=Number['parseInt'](process[_0xe4c331(0x602)]?.['SERVER_PORT']??_0xe4c331(0x87d)));}[a0_0x31011a(0x4df)](){const _0x50e1c1=a0_0x31011a;return(0x0,Ys[_0x50e1c1(0x528)])((0x0,Qs['readFileSync'])((0x0,Xs['join'])(Ks,_0x50e1c1(0x84f)),{'encoding':_0x50e1c1(0x72d)}));}['envProcess'](){const _0x35019a=a0_0x31011a;return{'SERVER':{'TYPE':process[_0x35019a(0x602)][_0x35019a(0x317)],'PORT':Number['parseInt'](process[_0x35019a(0x602)][_0x35019a(0x404)]),'URL':process[_0x35019a(0x602)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x35019a(0x602)]['CORS_ORIGIN'][_0x35019a(0x912)](','),'METHODS':process[_0x35019a(0x602)][_0x35019a(0x59c)][_0x35019a(0x912)](','),'CREDENTIALS':process[_0x35019a(0x602)]?.['CORS_CREDENTIALS']===_0x35019a(0x747)},'SSL_CONF':{'PRIVKEY':process[_0x35019a(0x602)]?.[_0x35019a(0x900)],'FULLCHAIN':process[_0x35019a(0x602)]?.[_0x35019a(0x6af)]},'STORE':{'CLEANING_INTERVAL':Number[_0x35019a(0x873)](process[_0x35019a(0x602)]?.[_0x35019a(0x3b7)])?Number['parseInt'](process['env'][_0x35019a(0x3b7)]):void 0x0,'MESSAGES':process[_0x35019a(0x602)]?.[_0x35019a(0x67a)]===_0x35019a(0x747),'CONTACTS':process[_0x35019a(0x602)]?.[_0x35019a(0x301)]==='true','CHATS':process[_0x35019a(0x602)]?.[_0x35019a(0x7fa)]===_0x35019a(0x747)},'DATABASE':{'CONNECTION':{'HOST':process[_0x35019a(0x602)]?.[_0x35019a(0x1de)],'PORT':Number[_0x35019a(0x826)](process[_0x35019a(0x602)]?.[_0x35019a(0x1de)]),'USER':process[_0x35019a(0x602)][_0x35019a(0x55f)],'PASSWORD':process['env']['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x35019a(0x602)][_0x35019a(0x451)],'DB_PREFIX_NAME':process[_0x35019a(0x602)][_0x35019a(0x439)]},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x35019a(0x747)},'REDIS':{'ENABLED':process['env']?.[_0x35019a(0x643)]===_0x35019a(0x747),'URI':process['env']['REDIS_URI']||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x35019a(0x602)][_0x35019a(0x8ea)]||_0x35019a(0x558)},'LOG':{'LEVEL':process[_0x35019a(0x602)]?.[_0x35019a(0x83a)]['split'](','),'COLOR':process[_0x35019a(0x602)]?.[_0x35019a(0x406)]===_0x35019a(0x747)},'PROXY':process[_0x35019a(0x602)]?.[_0x35019a(0x57e)]===_0x35019a(0x747),'AUTHENTICATION':{'TYPE':process[_0x35019a(0x602)][_0x35019a(0x72c)],'API_KEY':{'KEY':process[_0x35019a(0x602)][_0x35019a(0x3d9)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x35019a(0x602)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x35019a(0x826)](process[_0x35019a(0x602)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x35019a(0x602)][_0x35019a(0x8cb)]}}};}},b=new ps(),Gi=A(require(a0_0x31011a(0x453))),be=A(require(a0_0x31011a(0x269))),Gs=require(a0_0x31011a(0x7c5)),hs=A(require(a0_0x31011a(0x805))),gs=(_0x538a88=>(_0x538a88['LOG']=a0_0x31011a(0x503),_0x538a88[a0_0x31011a(0x6de)]=a0_0x31011a(0x34b),_0x538a88[a0_0x31011a(0x590)]=a0_0x31011a(0x492),_0x538a88[a0_0x31011a(0x4de)]='\x1b[31m',_0x538a88['DEBUG']=a0_0x31011a(0x6e2),_0x538a88[a0_0x31011a(0x6b8)]=a0_0x31011a(0x21a),_0x538a88[a0_0x31011a(0x4f2)]=a0_0x31011a(0x64b),_0x538a88))(gs||{}),Zs=(_0x14a14a=>(_0x14a14a[a0_0x31011a(0x506)]=a0_0x31011a(0x858),_0x14a14a[a0_0x31011a(0x4f2)]=a0_0x31011a(0x2b0),_0x14a14a[a0_0x31011a(0x6de)]=a0_0x31011a(0x2e3),_0x14a14a[a0_0x31011a(0x590)]=a0_0x31011a(0x477),_0x14a14a['ERROR']='\x1b[31m%s\x1b[0m',_0x14a14a[a0_0x31011a(0x70c)]=a0_0x31011a(0x933),_0x14a14a['VERBOSE']=a0_0x31011a(0x5af),_0x14a14a))(Zs||{}),ea=(_0x375919=>(_0x375919['LOG']=a0_0x31011a(0x506),_0x375919[a0_0x31011a(0x590)]='WARN',_0x375919[a0_0x31011a(0x6de)]=a0_0x31011a(0x6de),_0x375919[a0_0x31011a(0x4f2)]=a0_0x31011a(0x4f2),_0x375919['ERROR']=a0_0x31011a(0x4de),_0x375919[a0_0x31011a(0x70c)]='DEBUG',_0x375919[a0_0x31011a(0x6b8)]=a0_0x31011a(0x6b8),_0x375919))(ea||{}),ta=(_0x2a9470=>(_0x2a9470[a0_0x31011a(0x506)]=a0_0x31011a(0x89f),_0x2a9470[a0_0x31011a(0x6de)]=a0_0x31011a(0x411),_0x2a9470[a0_0x31011a(0x590)]='\x1b[43m',_0x2a9470[a0_0x31011a(0x4f2)]=a0_0x31011a(0x93b),_0x2a9470[a0_0x31011a(0x4de)]=a0_0x31011a(0x8ad),_0x2a9470[a0_0x31011a(0x70c)]='\x1b[46m',_0x2a9470['VERBOSE']='\x1b[47m',_0x2a9470))(ta||{}),$=class{constructor(_0x383e15=a0_0x31011a(0x8e5)){const _0x3c2ebb=a0_0x31011a;this['context']=_0x383e15,this[_0x3c2ebb(0x58e)]=b;}[a0_0x31011a(0x764)](_0x31a2f1){const _0x3aa1d2=a0_0x31011a;this[_0x3aa1d2(0x5ab)]=_0x31a2f1;}[a0_0x31011a(0x546)](_0x55930c,_0x19ec8f){const _0x2d90d0=a0_0x31011a;let _0x336dc6=[];this[_0x2d90d0(0x58e)][_0x2d90d0(0x67e)](_0x2d90d0(0x506))[_0x2d90d0(0x5ea)][_0x2d90d0(0x201)](_0x4bee98=>_0x336dc6[_0x2d90d0(0x3ec)](ea[_0x4bee98]));let _0x340ee7=typeof _0x55930c;_0x336dc6[_0x2d90d0(0x397)](_0x19ec8f)&&(b[_0x2d90d0(0x67e)](_0x2d90d0(0x506))[_0x2d90d0(0x2b1)]?(console['log'](_0x2d90d0(0x845)+Zs[_0x19ec8f],'\x1b[1m\x1b[37m',(0x0,hs[_0x2d90d0(0x20b)])()[_0x2d90d0(0x5cc)](_0x2d90d0(0x4c0)),'\x1b[0m',gs[_0x19ec8f]+ta[_0x19ec8f]+_0x2d90d0(0x845),_0x19ec8f+'\x20\x1b[0m',_0x2d90d0(0x5b3),this[_0x2d90d0(0x5ab)]+_0x2d90d0(0x4e8),gs[_0x19ec8f],_0x340ee7!=='object'?_0x55930c:'','\x1b[0m'),_0x340ee7===_0x2d90d0(0x545)&&console[_0x2d90d0(0x200)](_0x55930c,'\x0a')):console['log']((0x0,hs['default'])()['format'](_0x2d90d0(0x8ef)),_0x19ec8f+'\x20',''+this[_0x2d90d0(0x5ab)],_0x55930c));}['log'](_0x1fc1bd){const _0x1cb02b=a0_0x31011a;this[_0x1cb02b(0x546)](_0x1fc1bd,_0x1cb02b(0x506));}['info'](_0x1161a5){const _0x2a6a48=a0_0x31011a;this[_0x2a6a48(0x546)](_0x1161a5,_0x2a6a48(0x6de));}['warn'](_0x26faa8){this['console'](_0x26faa8,'WARN');}['error'](_0x2c570b){const _0x5166e5=a0_0x31011a;this[_0x5166e5(0x546)](_0x2c570b,_0x5166e5(0x4de));}[a0_0x31011a(0x45c)](_0x57853a){const _0x4fa661=a0_0x31011a;this[_0x4fa661(0x546)](_0x57853a,'VERBOSE');}[a0_0x31011a(0x669)](_0xc14163){this['console'](_0xc14163,'DEBUG');}[a0_0x31011a(0x829)](_0x1dd151){this['console'](_0x1dd151,'DARK');}};function sa(){const _0x184c93=a0_0x31011a;process['on'](_0x184c93(0x40f),(_0x53e209,_0x24ce7b)=>{const _0x283ce8=_0x184c93;new $(_0x283ce8(0x40f))[_0x283ce8(0x4e4)]({'origin':_0x24ce7b,'stderr':process[_0x283ce8(0x319)]['fd'],'error':_0x53e209});}),process['on'](_0x184c93(0x2d0),(_0x7755c1,_0x4c8aaf)=>{const _0x5573ee=_0x184c93;new $(_0x5573ee(0x2d0))['error']({'origin':_0x4c8aaf,'stderr':process[_0x5573ee(0x319)]['fd'],'error':_0x7755c1});});}var aa=A(require(a0_0x31011a(0x77c))),ms=new aa[(a0_0x31011a(0x20b))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require('mongoose'),Ae=A(require(a0_0x31011a(0x41c))),We=new $(a0_0x31011a(0x7aa)),F=b[a0_0x31011a(0x67e)](a0_0x31011a(0x578)),R=F[a0_0x31011a(0x844)]?F[a0_0x31011a(0x247)]['URI']?Ae['default'][a0_0x31011a(0x705)](F['CONNECTION'][a0_0x31011a(0x233)],{'dbName':F['CONNECTION']['DB_PREFIX_NAME']+'-whatsapp-api'}):Ae['default']['createConnection'](a0_0x31011a(0x289)+F[a0_0x31011a(0x247)]['HOST']+':'+F[a0_0x31011a(0x247)][a0_0x31011a(0x8b3)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x31011a(0x247)]['USER'],'pass':F[a0_0x31011a(0x247)][a0_0x31011a(0x2af)],'dbName':F['CONNECTION'][a0_0x31011a(0x7e4)]+'-whatsapp-api'}):null;F[a0_0x31011a(0x844)]&&We[a0_0x31011a(0x6d2)](a0_0x31011a(0x780)+R['$dbName']);function a0_0x27ee(){const _0x4a25ae=['Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','SINGLE_SELECT','waInstances','poll','isCommunity','extractPhoneNumber','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','audio/ogg','startFlowWebhook','connecting','RemoteJid:','LOG_LEVEL','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Editando\x20bloco...','telefone','notify','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','del','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','sharePass','logger','ENABLED','\x1b[1m','findGroup','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','getAllData','isValidAndUniqueIPv6','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','error_log','groupBetterSetting','hex','):\x20[messages.update]\x20group\x20ignored','../env.yml','restartInstance','CORS','message','ObjectId','sendDataWebhook','statusCode','audio/ogg;\x20codecs=opus','latitude','\x1b[32m%s\x1b[0m','color','chats','application/octet-stream','stdout','sectionsToString','isCommunityAnnounce','updateAll','vote','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','picture','PRODUCT_LIST','chats.update','\x20-i\x20','editflowvariable','Module\x20-\x20ON','/*.json','!stop','getUniqueFlowName','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','generateWAMessageFromContent','deleteMessageForEveryone','findParticipants','userDevicesCache','.webp','ephemeralMessage','IP\x20confirmed:\x20','isInteger','demote','requestPairingCode','paused','equal','):\x20','Connection\x20closed\x20for\x20instance:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','READ','dbConnection','8080','g-t','integer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','groupParticipantsUpdate','creds.json','findMessages',',\x20saindo.','The\x20\x22','delAll','onWhatsApp','sticker','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','readFileSync','connectionState','localWebhook','):\x20Entrou\x20na\x20função\x20scheduleFlow','.xlsx','deleteChat','fetchProfile','http','sendPresenceUpdate','status','dropCollection','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','updateMediaMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','deleteReplyOption','pop','ipv6Prefix','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','NextBlock','realVariables','\x1b[42m','Configured\x20IPv6:\x20','/events/:instance','exec','):Image\x20converted\x20to\x20WebP','waMonitor','RECONNECT_TIME_FRAME','editScheduleMessage','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20adicionar\x20label\x20','createFlow','shareOwners','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','updateMissingTags','\x1b[41m','msgRetryCounterCache','):\x20alterando\x20this.AutomateSystem','fetchInstances','editflowreply','webhookModel','PORT','):Notifying\x20clients\x20for\x20chat:\x20','cache','fetchContacts','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','sendSticker','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','viewOnceMessageV2','lowerCase','request\x20received\x20in\x20editFlowvariable','errors','media','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','CONTACTS_SET','API\x20Key\x20from\x20Request:','#ffc5c7','admin','Esse\x20fluxo\x20não\x20permite\x20importação.','webhookMap','iniciando\x20fluxo\x20router','flow','detectIPv6PrefixAndInterface','FlowRouter','):\x20Conversa\x20está\x20expirada','AUTHENTICATION_JWT_SECRET',',\x20global:\x20','Novo\x20IP\x20criado:\x20','ButtonsMessage','groupDesc','):\x20Criando\x20fluxo\x20compartilhado...','buttonId','Não\x20respondeu\x20com\x20a\x20enquete.','getConversation','cachedContact','*Pergunta*:\x20\x0a','beforeExit','@whiskeysockets/baileys','presence','catch','maxActives','/exit','add','online','Safari','getLastMessage','groupUpdateDescription','redis','defineAuthState','greater','deleteDoneMessages','Logger','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','website','):\x20Criando\x20nova\x20conversa[createNewConversation]','body','REDIS_PREFIX_KEY','sim','processblock','\x20horas\x20e\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','HH:mm:ss','stopMinutes','restart','sha256','):\x20Buscando\x20flow,\x20id:\x20','Missing\x20global\x20api\x20key','groupMemberAddMode','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','admin_add','messages.upsert','status@broadcast','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','connectToWhatsappController','replyOption','Subdomínio\x20final:','findGroupInfo','creds.update','SSL_CONF_PRIVKEY','endsWith','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','Operador:\x20\x22','getMinutes','#f64847','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','optionDescription','isValidIPv6Config','replacer','PRIVKEY','createServer','reorderMessages','find','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','round','entries','lastReceivedMessage','split','jpegThumbnail','BRL','lastMessage_id','instance.','findOne','Error\x20parsing\x20JSON:','width','editflow','repeat','groupAcceptInvite','lastSendMessage','FlowModel','):\x20Enviando\x20áudio','/media/','./.git/config','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','readdirSync','chat\x20não\x20encontrado','enumerable','editFlowReply','Erro\x20ao\x20atualizar\x20agendamento\x20','updateAutoCompleteMessages','replace','variablesToObject','not\x20loaded','@s.whatsapp.net','connectionStatus','protocolMessage','Instância\x20não\x20encontrada.','request\x20received\x20in\x20createFlow','collections','LabelModel','\x1b[36m%s\x1b[0m','address','upperCase','/wa-contacts','[all]','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Enviando\x20mensagem\x20para\x20','Falhou\x20ao\x20encontrar\x20chat\x20','\x1b[40m','listType','SSL_CONF','Error\x20updating\x20cache\x20contact:','proto','):\x20whoCanEdit\x20before\x20validation:\x20','1385LDuabq','https://api64.ipify.org?format=json','OrAnd','charAt','Erro\x20ao\x20iniciar\x20fluxo:\x20','ephemeralExpiration','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','messageHandle','testIPv6','locked','application/json','\x27\x20->\x20','groups.upsert','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','decryptPollVote','Subdomínio\x20não\x20encontrado','DATABASE_CONNECTION_HOST','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','leadInfo.atendimentoAberto','.wav','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','groupRequestParticipantsList','options','/message','startCommand','groupJoinApprovalMode','contacts.upsert','insertMany','startCommandWord','@redis/client','qrCode','blockLogs','findGroupInfos','updateMany','sendLocation','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Edit\x20schedule\x20message...','message_normalized','request\x20received\x20in\x20getConversation','exit','close','Erro\x20ao\x20editar\x20agentes','setHeader','):\x20Query\x20params:','keyPattern','):\x20atualização\x20chat:\x20','CHATS_SET','\x20não\x20encontrado','groups.update','log','forEach','padStart','getAutomateSystem',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','readData','content','editFlowVariable','KEY','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','label','default','autoCompleteMessages',',\x20Minutes\x20to\x20Close:\x20','bodyStringErrorParse','fetchMessages','timeout','18uHlYap','TYPE','success','addMessagesToGroup','request\x20received\x20in\x20editFlowcondition','findWebhook','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','cleanDisconnectedInstances','buttonText','\x1b[37m','hGet','set','):\x20Error\x20processing\x20conditions:\x20','groupadd','Unauthorized','Partes\x20do\x20domínio:','Falha\x20ao\x20criar\x20IPv6.','closeExistingConversations','username','fetchChats','contact','activatedCount','Valor\x20da\x20URL\x20recuperada:','variables','uazapiSendText','slice','local_map','_id','uazapiSendMedia','updateStopChat','deleteConversation','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Conversa\x20deletada\x20com\x20sucesso.','FULLCHAIN','URI','):\x20whoCanUse\x20before\x20validation:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','inviteCode','\x20ao\x20chat\x20','minutesToClose','unlinkSync','deletedCount','all_member_add','cacheInstanceRepository','conversationTimestamp','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','QRCODE_UPDATED','toLowerCase','request\x20received\x20in\x20updateFlowConfig','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','agents','nomecompleto','Button\x20texts\x20cannot\x20be\x20repeated','upsertedCount','CONNECTION','loggedOut','_Contacts','match_last_seen','/wa-chats','ORG:','mediaMessage','setting','\x20quoted:\x20','flowConfig','prepareMediaMessage','):\x20updateResult:','.TEL;waid=','Cannot\x20','\x27\x20não\x20encontrado\x20na\x20memória','Transformação\x20concluída!','pm2\x20flush','findById','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','_error','parse','count','sendMenu','deleteImportedChat','.ppt','audioWhatsapp','throwAndLogError','start','@g.us','toFile','replaceVariablesInReplyOptions','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','remove.instance','uazapiSendLocation','express','}}\x20->\x20valor\x20não\x20encontrado','match','expiration','editflowcondition','METHODS','migrateFlowsToCentralizedCollection','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','messageStubParameters','dataValidate','warn','processgoToFlow','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','next_groupId','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','getBase64FromMediaMessage','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','getConversationModelForOwner','bearer','\x20Tentativa\x20de\x20reconexão\x20','reorderBlocks','send','\x0aitem','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','configureIPv6','Erro\x20ao\x20encerrar\x20a\x20API','InstancesAlterarTodas','_sender','toNumber','client','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','mongodb://','updateReplyOption','-instances','headerString','item','):\x20enviado\x20para\x20[','):\x20Editando\x20edição\x20do\x20fluxo...','quotedMessage','profile','Fluxos\x20encontrados\x20de\x20\x27','preview','type','ChatRouter','editflowvaredit','Erro\x20ao\x20buscar\x20Schedule\x20Messages','arrayUnique','\x20:\x20','flowIgnoreGroups','silent','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Schema','Subscribed\x20Events:','chats.delete','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','groupJid','yes','finish','segundos','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','connectedClient','Instance\x20deleted','requestFile','findOrCreate','\x0a*Você\x20respondeu*:\x0a','\x20não\x20encontrado\x20para\x20atualização.','enabled','.error','creds','PASSWORD','\x1b[30m%s\x1b[0m','COLOR','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20conversation.lastInteraction:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','SendScheduleMessage','chats.upsert','leaveGroup','findConversation','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','enviado\x20para','folder','bateu\x20events','replaceValue','updateReadReceiptsPrivacy','):\x20Ler\x20mensagem','Erro\x20ao\x20remover\x20label\x20','redirect','Invalid\x20format','shareFlow','isJidGroup','820676Shoyqo','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','validate','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','/config','varedit','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','/wa-connection-update','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','open','unhandledRejection','inet6','Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleção\x20centralizada:\x20','numbers','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','HOST','flattenObject','done','ListMessage','):\x20error:\x20','detail','StartBot','createConversationforgoToFlow','/64\x20dev\x20','videoMessage','contextInfo','size','authService','state','\x1b[34m%s\x1b[0m','user','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','groupHandler','https://api.openai.com/v1/images/generations','):\x20Enviando\x20contato','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','birthtime','linkPreview','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Erro\x20ao\x20buscar\x20a\x20conversa','senderKeyDistributionMessage','groupSetting','isAdmin','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','whatsappNumber','getHours','.docx','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','this.reconnectAttempts:\x20','pictureUrl','sendList','getChatModelForOwner','announce','Variável\x20não\x20encontrada!','setUpdate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','limit','):Sending\x20audio\x20whatsapp','STORE_CONTACTS','delayChatLabel_MAX_RETRIES','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','removeProfilePicture','fileUrl','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Bloco\x20original\x20para\x20cópia:\x20','findGroups','contactHandle','write','\x20com\x20sucesso.','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','\x5cd+','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','globalShow','?timestamp=','getStatus','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','fileLength','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','SERVER_TYPE','pollMessage','stderr','findAndReplaceRegex','recording','processPollUpdateMessage','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','deleteBlock','keys','):\x20Entrou\x20na\x20função\x20clearVariables','groupSettingUpdate','editflowblock','#00a1f2','descId','3165IVyBUx','pollOnReplyDelete','pollCreationMessageV2','\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','superadmin','getMessage','toLocaleString','Erro\x20ao\x20copiar\x20o\x20documento','findAndUpdateCacheContact','fetchConversation','cachedData-whatsapp','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','Variáveis\x20não\x20encontradas:','SERVER','exists','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','deleteMessage','.\x20Pulando.','textMessage','pollErrorMessage','store','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','profilePicture','testingWith','editedMessage','groupId','available','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20',',\x20valor\x20passado:\x20\x22','REDIS','STATUS_INSTANCE','cleanStore','less','pollCreationMessage','E-mail:\x20','updatePrivacySettings','assign','\x1b[34m','):\x20transformedCustomFieldVariables','):Archiving\x20chat','https://github.com/uazapi/uazapi.git','):including\x20timestamp\x20in\x20url:\x20','request\x20received\x20in\x20updateAutoCompleteMessages','blockId','Comando\x20desconhecido','lastInteraction','extractMessageContent','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','.extension','sort','SUCCESS','PLAYED','):\x20Editando\x20condição\x20do\x20fluxo...','\x20adicionado\x20ao\x20chat\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','https','cwd','Enter\x20a\x20value\x20in\x20milliseconds','GROUPS_UPDATE','setRestartTimeout','ScheduleMessage','awaitSeconds','value','\x20não\x20encontrado\x20para\x20cópia','fetchProfilePictureUrl','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20[messages.upsert]\x20group\x20ignored','joinGroupValidate','eventEmitter','findFlow','request\x20received\x20in\x20updateCustomFields','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','from','This\x20name\x20','Database\x20connection\x20closed.','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','qrcode-terminal','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','https://api.openai.com/v1/audio/speech','ms\x20(tentativa\x20','jsonwebtoken','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','scheduleNextCheck','):\x20não\x20encontrou','request\x20received\x20in\x20deleteConversation','.txt','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','creation','Erro\x20ao\x20criar\x20fluxo','#64c4ff','jwt','addBlock','):\x20\x27Enviando\x20texto\x20para\x20\x27','presenceSubscribe','authState','@newsletter','closed','findByIdAndUpdate','fone','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','contains','):\x20Deletando\x20conversa...','contactsArrayMessage','processingGroup_id','DELIVERY_ACK','chatHandle','):\x20Conversa\x20está\x20expirada\x20-\x20voto','originalUrl','):\x20Não\x20achou\x20nenhum\x20flow','includes','\x27\x20do\x20banco\x20de\x20dados...','flowActive','flowName','Type\x20is\x20required','\x27\x20para\x20a\x20coleção\x20centralizada.','$set','createHash','messageTimestamp','execSync','createIPv6','URL','trimmed','name','IPv6\x20addresses\x20detected:\x20','Erro\x20ao\x20tentar\x20autoCompleteMessages','apply','TEXT','choices','ListType','convert','isBase64','views','_ScheduleMessages','\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','updateProfileName','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','Cache\x20instance\x20update\x20result:\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','waitingMenu_text','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','pollMessageOnDelete','STORE_CLEANING_TERMINAL',',\x20qrcodeCount:\x20','AUTHENTICATION','delayChatLabel','_p_','chat','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','delaySecMin','getScheduleMessageModelForOwner','Error\x20fetching\x20and\x20updating\x20profile:\x20','synchronizeAndMapFlows','Esse\x20fluxo\x20expirou','Data\x20inválida\x20fornecida','response','normalizeMessageContent','repository','delayChatLabel_RETRY_DELAY_MS','connect','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','#56ccb4','subject','mediaSticker','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):Error\x20in\x20converting\x20audio','scheduleMessage','\x20minutos','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','#b4ebff','findByIdAndDelete','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','remove','rowId','image','AUTHENTICATION_API_KEY','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','stopMinutesMaxActives','statusJidList','prepareWAMessageMedia','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','uazapiSendAudio','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','deleteflow','sendMessage','toDataURL','):\x20Entrou\x20na\x20função\x20processawaitSeconds','scheduleSendText','Rótulo\x20inválido\x20ou\x20sem\x20ID.','splice','defineProperty','onTime','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','@broadcast','push','document','stopIfLastReturnedError','startID','request_method','URL:','EXPIRIN_IN','Telefone:\x20','getTicketSystem','mongodb','put','last','contacts.update','isJidUser','data','order','Erro\x20na\x20função\x20updateChatWithMessage:\x20','fullName','updateMessage','PREFIX_KEY','):\x20Enviando\x20texto','base64','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','urlOrBase64','SERVER_PORT','updateProfileStatus','LOG_COLOR','Background\x20color\x20is\x20required','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','scheduleSendMedia','Not\x20allowed\x20by\x20CORS','Bloco\x20com\x20ID\x20','Instance\x20\x22','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','updatePresence','uncaughtException','namespace','\x1b[44m','):Image\x20created','/wa-all-message','menuExpiredMessage','string','):\x20Chat\x20','$addToSet','CONTACTS_UPDATE',',\x20fará\x20nova\x20verificação\x20em\x20','messageType','findAndReplace','mongoose','inviteUrl','fileName','stickerMessage','.png','findIndex','ip6eui','automateSystem','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','no-cache','storePath','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','API_KEY','):Processing\x20audio','hasOwnProperty','):\x20Falha\x20ao\x20deletar\x20mensagem.','vcard','ignoreGroups','CHATS_DELETE','):Fetching\x20business\x20profile','delay','node-mime-types','Not\x20Found','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','sleep','contact_blacklist','quoted','config','groupdata','DATABASE_CONNECTION_DB_PREFIX_NAME','Fluxo\x20não\x20encontrado\x20na\x20memória.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Nenhum\x20fluxo\x20encontrado\x20para:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','flushHeaders','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','qrcode','reaction','updateChatWithMessage','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','messages','connectedName','updateOne','sendReaction','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','trim','Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietário\x20\x27','stopWhenYouSendMsg','createConversationforStartFlow','DATABASE_CONNECTION_URI','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','cors','role','stateConnection','revokeInviteCode','archived','Mac\x20OS','delaySecMax','Primeiro\x20Valor:\x20','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','verbose','Erro\x20ao\x20importar\x20chats','toString','deleteMany','flowStopConversation','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','.gif','randomMac','cachedContacts-whatsapp','truncatedtoEnd','updateAgent','has','backgroundColor','):\x20Buscando\x20conversa...','delayMessage','.doc','modifiedCount','insert','sign','\x20and\x20data:','Forbidden','participants','updateOneById','getValidWhatsAppNumbers','.fileUrl','recebido\x20de','cpf','\x1b[33m%s\x1b[0m','inner','express-async-errors','[AUTH]\x20Database\x20is\x20not\x20enabled','):\x20mediaMessageInfoId\x20:\x20','):\x20newSecondValue\x20após\x20replaceVariables:','test','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','editFlow','authModel','sendText','height',',\x20Comparador:\x20','collection','editFlowCondition','_remoteJid','sendStatus','Erro\x20ao\x20buscar\x20conversas','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','subjectTime','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','abs','createInstance',',\x20Segundo\x20Valor:\x20','organization','imageMessage','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','\x1b[33m','fetchPrivacySettings','loadInstance','):Type\x20defined\x20as\x20audio','):\x20Enviando\x20enquete','filter','flush','MESSAGES_SET','processUazapi','longitude','removeUnusedChatFields','findAll','HeaderType','action','updateChatGroupData','fetchBusinessProfile','.svg','Database\x20is\x20not\x20enabled','createAndSave','imgUrl','imported','.url','descOwner','inviteCodeDetails','node-cache','sections','0123456789ABCDEF','Instance\x20ID:','ip\x20-6\x20addr\x20show\x20dev\x20','createWebhook',',\x20resultado:\x20','replaceOne','redisEnv','):\x20Comando\x20desconhecido:\x20','):\x20Removendo\x20\x27','error\x20get\x20vote','deleteFlow','migrateAllOwnersFlowsToCentralizedCollection','processConditionsTest','AddUserFlow','unreadcount','varedits','reorderReplyOptions','beautifyWithPlaceholders','sendContact','deleteAll','DD/MM\x20HH:mm:ss','utf8','getScheduleMessage','createGroup','Instance\x20Key\x20from\x20DB:','}}\x20->\x20\x22','\x20contacts','condition','processvaredits','Message\x20not\x20found','groupLeave','whoCanEdit','undefined','lean','envProcess','spawn','ChatModel','normalizeMessage','wuid','groups_ignore','release','listMessage','pollUpdateMessage','temp-','updateConversation','STORE','update','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','pow','request\x20received\x20in\x20deleteFlow','ERROR','envYaml','triedToSend','participant','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','long','error','getMessageModelForOwner','selectedOptions','writeFile','\x1b[0m','Deleted\x20','GROUP_PARTICIPANTS_UPDATE','isURL','statusMessage','newStoppedUntil','Nenhum\x20participante\x20válido\x20encontrado.','logout','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','groupInviteCode','DARK','errorLog','Authentication\x20error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','privacySettings','documentMessage','getflow','IP\x20mismatch:\x20configured\x20','updateGParticipate','profilePictureUrl','Network\x20interfaces\x20detected:\x20','Instance\x20Name:','PENDING','#d8e651','https://uazapi-plugin.bubbleapps.io/','call','):Output\x20path:\x20','\x1b[32m','Chat\x20com\x20ID\x20','toBRL','LOG','Types','model','Fluxos\x20transferidos\x20do\x20proprietário\x20\x27','clearVariables','Read\x20messages','):\x20isVote:\x20','createClient','\x20instance\x20does\x20not\x20exist','flowPrefixCommand','):Business\x20profile\x20fetched','request\x20body:\x20',']\x20(','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','getVariablesChat','updateGroupPicture','convertaudioMP3','updateGroupWebhook','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','#000000','sendPoll','Tentando\x20reconectar...','):\x20Going\x20to\x20','loadWebhook','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','verify','#92ceac','createSectionsFromValues','):\x20delete\x20=\x20true','MessageModel','responsavelid','ReplyOption\x20com\x20ID\x20','/instance','generateHash','load','writeData','insertCount','groupUpdateSubject','evaluateConditionTest','updateBlock','video-cover.png','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','findLabels','notEqual','/instance/create','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','Internal\x20Server\x20Error','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20leadInfoVariables','tags','Erro\x20ao\x20atualizar\x20cacheInstance:','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','DELETED','saveVariable','):\x20expirationTime:\x20','docker','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','getUpdate','newValue','):\x20tem\x20blocks','mentions','object','console','bulkWrite','Valor\x20inicial:\x20\x22','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','title','updateLastSeenPrivacy','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','/media','list','code','editMessagesInGroup','sendWhatsAppAudio','DOCKER_ENV','formatStatusMessage','processclearVariables','expression','desc','editFlowGroup','uazapi','):Audio\x20processed','readMessageBot','scheduled','GET','min','encoding','DATABASE_CONNECTION_USER','Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20','https://','memberAddMode','prototype','leadInfo',',\x20Expiration\x20Time:\x20','basename','updateProfilePicture','PRESENCE_UPDATE','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','CHATS_UPDATE','drop','instanceCount','audio','\x20foi\x20interrompido\x20pelo\x20usuário.','dbSettings','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','\x20removido\x20do\x20chat\x20','_Labels','Fluxos\x20não\x20estão\x20ativados','Last\x20message\x20not\x20found\x20for\x20number:\x20','):Image\x20path:\x20','empty','sendButtons','DATABASE','sharp','):\x20Buscando\x20conversas...','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','send.message','join','PROXY','canSendMessage','\x20-\x20ON:\x20','noConnection','create','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','deleteOne','qrcode.updated','.jpg','):\x20Criando\x20fluxo...','when','):\x20this.processingGroup_id:\x20','Error\x20finding\x20many\x20contacts:','transformScheduledMessagesByType','documentWithCaptionMessage','waUploadToServer','configService','eventHandler','WARN','IPv6\x20Prefix\x20detected:\x20','connection.update','):\x20Entrou\x20na\x20função\x20stop','apiResponse','conditions','capitalizedWords','buttons','approve','displayName','GROUPS_UPSERT','getContentType','CORS_METHODS','padEnd','https://chat.whatsapp.com/','\x27...','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','deleteDoneMessages2','hSet','request\x20received\x20in\x20editConversation','Error\x20adding\x20IPv6\x20address:\x20','rm\x20-rf\x20','url','routerPath','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20conversation.waitingMenu_name','label_jid','context','optionName','archive','endSession','\x1b[37m%s\x1b[0m','instanceName\x20not\x20provided.','arraybuffer','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','\x1b[33m\x1b[1m','Mensagem\x20não\x20suportada','):\x20sender\x20=\x20number:\x20','gifPlayback','Conexão\x20estabelecida','static','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','applyvaredit','Generated\x20IPv6:\x20','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','pino','Selecione','Atualização:\x20','1780lgdSUN','joinApprovalMode','.jwt','instanceName','\x20minutos.\x20Será\x20às\x20','\x20inseridas\x20no\x20banco\x20de\x20dados...','MESSAGES_UPSERT','method','saveTextReply','toUpperCase','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','format','variable','Erro\x20ao\x20alterar\x20privacidade','\x20segundos','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','owner','contacts','reconnectTimestamps','valid','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','created','getClient','Error\x20writing\x20file:\x20','number','replyOptions','updateGroupsAddPrivacy','AutomateFunctions','#ffffff','cacheInstanceModel','jsonschema','email','):\x20Grupo\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Error\x20removing\x20unused\x20chat\x20fields:','RemoveChatLabel','refused','flowStopMinutes','convertedOptions','sem\x20texto\x20na\x20mensagem','sendMedia','LEVEL','3840330rDrIaO','#fed428','waitingMenu_id','mentioned','instance','headers','updateStatusPrivacy','processConditions','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','/instance/fetchInstances','secondValue','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','setNewValue','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','events','option','dbServer','):Delete\x20chat','keep-alive','font','and','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','groupName','env','saveMediaToFile','request\x20received\x20in\x20deleteDoneMessages','notas','delete','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','fetchProfilePicture','Parando\x20aplicação,\x20atualização\x20recebida','remoteJids','webhookService','\x22\x20cannot\x20be\x20empty','groupValidate','):\x20Flow\x20desativado','readMessage','connectionClosed','addresss','$pull','router',',\x20canSendMessage:\x20','findManyByIds','Fluxo\x20id\x20\x27','removeIPv6','/wa-groups','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Enviando\x20mídia','50mb','description','^\x5cd+','Erro\x20ao\x20alterar\x20fluxo','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','):\x20Limpando\x20AutomateSystem','):\x20\x27Deletando\x20fluxo,\x20id:\x20','request\x20received\x20in\x20updateAgent','#ffae04','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','everyOne','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','presence.update','downloads','existsSync','writeFileSync','/chat','Usando\x20IP\x20existente:\x20','):\x20whoCanUse\x20after\x20validation:\x20','GUARD','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','boolean','lastCondition','mediaKey','findContacts','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','video','):\x20whoCanEdit\x20after\x20validation:\x20','compression','mkdirSync','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','scheduleFlow','save','):\x20\x27Enviando\x20audio\x20para\x20\x27','https://api.ipify.org?format=json','isConnected','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','__esModule','some','selectableCount','REDIS_ENABLED','moreLogs','checkAndRestartProcess','urlencoded','evaluateCondition','firstValue','caption','_Messages','\x1b[30m','text','AddChatLabel','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','child_process','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','remoteJid','isArray','startsWith','CacheContacts\x20database\x20connection\x20closed.','formatVCard','):Trying\x20to\x20get\x20business\x20profile','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','https://api.elevenlabs.io/v1/text-to-speech/','waitingMenu_replyOptions','substring','importChats','max','joinGroup','updateCustomFields','axios','output','deleted','):\x20Buscando\x20todos\x20os\x20fluxos...','fromMe','proxy:\x20','Erro\x20ao\x20editar\x20a\x20conversa','isRunning','):\x20conversation.status:\x20','ERROR:\x20','debug','pollCreationMessageKey','params','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','removeChatLabel','Database\x20update\x20result:','hGetAll','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','processawaitSeconds','Instance\x20restarted','timeInMinutes','sendMessageWithTyping','findOneAndUpdate','false','removed','STORE_MESSAGE','getContactModelForOwner','Configuração\x20SSL\x20recuperada:','matchRegex','get','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','allFlows','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','sendMessageAck','key','\x27\x20removido\x20do\x20AutomateSystem.','--------------------------------------','status.instance','):\x20Editando\x20replyOption...','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','):\x20debug\x20alterando\x20this.AutomateSystem','updateProfilePicturePrivacy','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','buttonMessage','allContacts','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','/instance/connect','Bad\x20Request','whoCanUse','USER','chatModify','group-participants.update','):\x20customFieldVariables','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','apikey','random','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','request\x20received\x20in\x20getFlow','Número:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','/wa-presence','updateMissingEtiquetas','Font\x20is\x20required','):Image\x20is\x20base64','instanceInfo','end','StartID:','All_Instances_Config','Flow\x20iniciado\x20com\x20','TEL','Instância:\x20','getFlow','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','networkInterface','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','sendAudio','Error\x20removing\x20IPv6\x20address:\x20','SSL_CONF_FULLCHAIN','):\x20Conversa\x20atualizada\x20em\x20memória','/:instanceName','pre','digest','ContactsAndGroups','):\x20Atualizando\x20status\x20da\x20mensagem\x20','groupMetadata','importChatsBatch','VERBOSE','Erro\x20ao\x20iniciar\x20o\x20fluxo.','webhook','WA\x20MODULE','):\x20Editando\x20variável\x20do\x20fluxo...','groupGetInviteInfo','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','.mp4','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','menuMessage','instances','Error\x20updating\x20message\x20status:','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','630528WolSKo','2102023ozyQFP','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','https://uazapi-plugin.bubbleapps.io/?url=','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','getLabelModelForOwner','muteEndTime','conversation','mediatype','reviver','blocks','info','app','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20Adicionando\x20\x27','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','messages.update','now','all','Error\x20while\x20deleting\x20message\x20for\x20everyone','fetchLabels','SECRET','INFO','/instance/delete','buffer','shift','\x1b[36m','setWebhook','apirequest','auth','global','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Request\x20Body:','lastMessage','):\x20teve\x20mudanças\x20chat.archived:\x20','.type','data:\x20','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','/wa-message-update','length','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','readMessages','labels.edit','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','last_update','request_time','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','groups','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','notContains','\x0aFN:','atendimentoAberto','):\x20Visualizando\x20AutomateSystem','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Falta\x20informação\x20para\x20a\x20chamada\x20API','WebhookGlobal','findMany','ContactModel','header','?authSource=admin&readPreference=primary&directConnection=true','createConnection','):\x20Limpando\x20delayMessage','promisify','values','lastBlockId','):\x20Query\x20params:\x20','):\x20Label\x20','DEBUG','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','Message','restrict','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','/events','XX:XX:XX:XX:XX:XX','Erro\x20ao\x20tentar\x20updateCustomFields','g.us','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','reconnectAttempts','createJid','locationMessage','editChat','exports','Cache-Control','removeIPv6ById','Close\x20connection','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','stringify','generateRandomIPv6','https://ifconfig.me/ip','):\x20lastBlockId:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','leadInfo.desativadoFluxoAte','contentText','pushName','replaceVariablesChat','_activatedCount','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','uazapiSendMenu','AUTHENTICATION_TYPE','utf-8','editOperator','updateMissingCustomFields','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','CONNECTION_UPDATE','groupRequestParticipantsUpdate','lastUpdate','archiveChat','text/event-stream','dbClient','reject','editScheduleMessage2','unavailable','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Erro\x20ao\x20executar\x20bulkWrite:','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','verifiedName','\x20do\x20chat\x20','Group\x20not\x20found','cleaningUp','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','https://jsonip.com','findChats','request\x20received\x20in\x20starFlow','request\x20received\x20in\x20getAutomateSystem','true','chatLog','*\x0a\x0a','saveConversationToDatabase','AutomateSystem','map','flows','LICENSE_INVALID','Log\x20out\x20instance:\x20','where','groupToggleEphemeral','pairingCode','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','editFlowBlock','stanzaId','etiquetas','awaitingApproval','hDel','_Flows','\x27\x20não\x20encontrado','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','reference','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','out','getBusinessProfile','initAuthCreds','Número\x20não\x20possui\x20WhatsApp.','cacheContactModel','notEmpty','setContext','BufferJSON','nome','Connection','):\x20Current\x20Time:\x20','#d3a91f','Content\x20is\x20required','stopConversation','upsertChats','array','fromObject','no.connection','StatusJidList\x20is\x20required','formatBRNumber','Erro\x20ao\x20atualizar\x20o\x20fluxo:','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Rótulo\x20deletado:\x27,\x20','audioMessage','):\x20Erro\x20durante\x20a\x20atualização:\x20','Last\x20message\x20not\x20found','SERVER_ACK','uuid','):\x20Fluxos\x20do\x20proprietário\x20\x27','):\x20Fluxo\x20\x27','eventemitter2','readreceipts','chatId','createNewConversation','ON\x20-\x20dbName:\x20','):\x20Deletando\x20mensagem','CONTACTS_UPSERT','updateFlowConfig','cacheContact','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','):\x20Alterando\x20fluxo...','.ogg','emit','API\x20Key\x20inválida.','/wa-message','every','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','variablesNotFound','licenca','getTime','listResponseMessage','json','not_announcement','MESSAGES_UPDATE','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','imagechat','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Editando\x20grupo\x20do\x20fluxo...','request\x20received\x20in\x20editFlow','fetchStatus','use','/wa-qrcode','isListOfNumbers','toArray','binary','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','#83e421','jid','copyBlock','removeData','deleteInstance','createflow','interval\x20não\x20é\x20um\x20número','mimetype','oldToken','author','Db\x20Connection','Pausado\x20por\x20','Flow\x20\x27','sending','#dfaef0','uazapiDeleteMessage','\x20}\x0a','badSession','vir','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','isJidBroadcast','):\x20Enviando\x20localização','CLEANING_INTERVAL','phoneNumber','block','replaceVariablesInObject','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','labelId','reactionMessage','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','content-type','2442YZlYWF','markMessageAsRead','_fromMe','/automate','getDelay','contactMessage','path','desativadoFluxoAte','):\x20Conversa\x20inserida\x20com\x20sucesso.','dropIndex','fora\x20do\x20git','ScheduleMessageModel','verifyWhatsAppNumber','replaceVariables','SEND_MESSAGE','group','Error\x20fetching\x20group','dbInstance','bodyString','waitingMenu_ExpiredMessage','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','removeInstance','.mp3','startFlow','Erro\x20ao\x20editar\x20o\x20bloco:\x20','retrySendMessage','#9ab6c1','\x20segundos\x20antes\x20de\x20reconectar...','DaysToDelete','\x20minutos...','src','saveChatVariables','instancias:\x20','toggleEphemeral','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','floor','customFields','DB_PREFIX_NAME','result','pollCreationMessageV3','flowConversation','instanceKeys','\x20inseridos\x20no\x20banco\x20de\x20dados...','composing','AppStateSyncKeyData','/startFlow/:instance/:startID','):\x20nextBlock.uazapi.name','#ff9484','getDevice','query','footerText','\x20minutos\x20verificará\x20novas\x20mensagens','menuType','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','_FlowHistorico','convertToWebP','Filtered\x20network\x20interfaces:\x20','):\x20Iniciando\x20bot...','.\x20Aguardando\x20','STORE_CHATS','resetReconnectionVariables','convertaudio','\x20saindo\x20da\x20função','uazapiSendContact','processApiRequest','\x20mensagens\x20de\x20','Content-Type','connectionUpdate','post','rows','dayjs','off','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','createOrUpdate','#01d0e2','util','.mimetype','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','leadInfo.etiquetas','groupFetchAllParticipating','class-validator','\x22\x20not\x20found','isLong','command','Type\x20not\x20found','addReplyOption','):Temp\x20image\x20deleted','pt-BR','Error\x20in\x20chatModify\x20for\x20number\x20','ip\x20-br\x20link\x20show','):\x20Procurando\x20conversa',',\x20Novo\x20tamanho:\x20','addChatLabel','indexOf','lastSend','Router','365880hSoDdR','editConversation','CHATS_UPSERT','request\x20received\x20in\x20fetchConversation','none','request\x20received\x20in\x20editFlowgroup','editFlowVaredit','parseInt','):\x20Entrou\x20na\x20função\x20saveReply','):\x20Flow\x20\x27','dark','unknown\x20operation\x20type\x20[','messaging-history.set','IPv6\x20address\x20removed:\x20','leadInfo.customFields','connectToWhatsapp'];a0_0x27ee=function(){return _0x4a25ae;};return a0_0x27ee();}var le=F[a0_0x31011a(0x844)]?F[a0_0x31011a(0x247)][a0_0x31011a(0x233)]?Ae[a0_0x31011a(0x20b)][a0_0x31011a(0x705)](F[a0_0x31011a(0x247)][a0_0x31011a(0x233)],{'dbName':a0_0x31011a(0x32f)}):Ae[a0_0x31011a(0x20b)][a0_0x31011a(0x705)](a0_0x31011a(0x289)+F[a0_0x31011a(0x247)][a0_0x31011a(0x2d5)]+':'+F[a0_0x31011a(0x247)][a0_0x31011a(0x8b3)]+a0_0x31011a(0x704),{'user':F[a0_0x31011a(0x247)][a0_0x31011a(0x692)],'pass':F[a0_0x31011a(0x247)][a0_0x31011a(0x2af)],'dbName':a0_0x31011a(0x464)}):null;le&&We[a0_0x31011a(0x6d2)](a0_0x31011a(0x780)+le['$dbName']),process['on'](a0_0x31011a(0x8d6),()=>{const _0x2cda42=a0_0x31011a;R&&R['close'](()=>{const _0x24fe6d=a0_0x2776;We[_0x24fe6d(0x6d2)](_0x24fe6d(0x372));}),le&&le[_0x2cda42(0x1f7)](()=>{const _0x4133a2=_0x2cda42;We[_0x4133a2(0x6d2)](_0x4133a2(0x654));});});var so=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),ao=new Me[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),io=new Me[(a0_0x31011a(0x29d))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),oo=new Me['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[so],'default':[]}},{'_id':!0x1}),ro=new Me[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':oo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':ao},'groupdata':{'type':io,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ia=_0x53042b=>{const _0x4dd6d=a0_0x31011a;let _0x41c28f='z_'+_0x53042b+'_Chats';return R?.[_0x4dd6d(0x508)](_0x4dd6d(0x4d0),ro,_0x41c28f);},oa=require(a0_0x31011a(0x41c)),no=new oa[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=_0x935669=>{const _0x3ae96d=a0_0x31011a;let _0x378070='z_'+_0x935669+_0x3ae96d(0x249);return R?.[_0x3ae96d(0x508)](_0x3ae96d(0x702),no,_0x378070);},na=require(a0_0x31011a(0x41c)),fs=class{},co=new na[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ca=le?.[a0_0x31011a(0x508)](fs['name'],co,a0_0x31011a(0x6b4)),la=require(a0_0x31011a(0x41c)),ws=class{},lo=new la[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),ze=le?.[a0_0x31011a(0x508)](ws['name'],lo,a0_0x31011a(0x6c3)),ua=require(a0_0x31011a(0x41c)),uo=new ua[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),da=_0x37b93d=>{const _0x57f45d=a0_0x31011a;let _0x2ad030='z_'+_0x37b93d+_0x57f45d(0x64a);return R?.[_0x57f45d(0x508)](_0x57f45d(0x523),uo,_0x2ad030);},pa=require('mongoose'),ys=class{},po=new pa['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ha=R?.[a0_0x31011a(0x508)](ys[a0_0x31011a(0x3a4)],po,'authentication'),ga=require(a0_0x31011a(0x41c)),bs=class{},ma=new ga[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ma[a0_0x31011a(0x6b2)](a0_0x31011a(0x63b),function(_0x5d5bad){const _0x551a4a=a0_0x31011a;delete this[_0x551a4a(0x399)],delete this[_0x551a4a(0x29a)],delete this[_0x551a4a(0x50f)],delete this[_0x551a4a(0x460)],delete this[_0x551a4a(0x5e6)],_0x5d5bad();});var fa=R?.[a0_0x31011a(0x508)](bs[a0_0x31011a(0x3a4)],ma,a0_0x31011a(0x6ba)),D=require(a0_0x31011a(0x41c)),Ss=require('uuid'),He=class{},ya=new D[(a0_0x31011a(0x29d))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new D[(a0_0x31011a(0x29d))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ho=new D[(a0_0x31011a(0x29d))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x31011a(0x54e)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x31011a(0x5bf)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ba=new D[(a0_0x31011a(0x29d))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),go=new D['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),mo=new D[(a0_0x31011a(0x29d))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new D['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),fo=new D['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),Sa=new D[(a0_0x31011a(0x29d))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ho},'apirequest':go,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':fo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Ma=new D['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Ns=new D[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[Sa],'groups':[ya],'conditions':[ba],'varedits':[Ma],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x320623=a0_0x31011a;return'!cmd_'+Math['random']()[_0x320623(0x45e)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x31011a(0x678)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ns[a0_0x31011a(0x6b2)](a0_0x31011a(0x677),function(_0xb71d8f){const _0x699a27=a0_0x31011a;let _0x305cd7=this[_0x699a27(0x541)]();if(_0x305cd7&&typeof _0x305cd7==_0x699a27(0x545)&&'$set'in _0x305cd7){let _0x4414af=_0x305cd7[_0x699a27(0x39d)];if(_0x4414af){let _0x5be49c=new Set(),_0xd9e2a3=new Set(_0x4414af[_0x699a27(0x228)]?.[_0x699a27(0x74c)](_0x488df6=>_0x488df6[_0x699a27(0x3a4)])),_0xf8abf1=JSON[_0x699a27(0x720)](_0x4414af),_0x1e15ed=/{{(?!_)([^}]*)}}/g,_0x4b2f22;for(;(_0x4b2f22=_0x1e15ed[_0x699a27(0x8a2)](_0xf8abf1))!==null;)_0xd9e2a3[_0x699a27(0x467)](_0x4b2f22[0x1])||_0x5be49c[_0x699a27(0x8dc)](_0x4b2f22[0x1]);_0x5be49c[_0x699a27(0x2e0)]>0x0?(console[_0x699a27(0x273)](_0x699a27(0x332),Array[_0x699a27(0x370)](_0x5be49c)),_0x4414af[_0x699a27(0x78d)]=Array[_0x699a27(0x370)](_0x5be49c)):_0x4414af['variablesNotFound']=[],this[_0x699a27(0x2fd)]({'$set':_0x4414af});}}_0xb71d8f();});var $s=_0x7b3081=>{const _0x1da689=a0_0x31011a;let _0x12151d='z_'+_0x7b3081+_0x1da689(0x759);return R?.[_0x1da689(0x508)](_0x1da689(0x91e),Ns,_0x12151d);},fe=R?.['model'](Cs['name'],Ns,a0_0x31011a(0x680)),wo=new D['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[mo]},{'_id':!0x1}),yo=new D[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[Sa],'groups':[ya],'conditions':[ba],'varedits':[Ma],'replyOptions':{'type':[Ms],'default':[]},'chatLog':wo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x31011a(0x2cf)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x31011a(0x3c2)},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ca=_0x2d16dc=>{const _0x16fdcf=a0_0x31011a;let _0xbfadd6='z_'+_0x2d16dc+_0x16fdcf(0x7f5);return R?.[_0x16fdcf(0x508)]('ConversationModel',yo,_0xbfadd6);},bo=new D[(a0_0x31011a(0x29d))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),wa=new D['Schema']({'_id':{'type':String,'id':!0x0},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),So=new D['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[wa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[bo],'default':[]},'startSend':{'type':Number},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':wa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ea=_0xfd74b8=>{const _0x285b2b=a0_0x31011a;let _0x8ff39b='z_'+_0xfd74b8+_0x285b2b(0x3ae);return R?.[_0x285b2b(0x508)](_0x285b2b(0x7ca),So,_0x8ff39b);},Es=class{},Mo=new D[(a0_0x31011a(0x29d))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Co=new D[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Eo=new D[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),vo=new D[(a0_0x31011a(0x29d))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x31011a(0x869)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),No=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),$o=new D[(a0_0x31011a(0x29d))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[No]},'customFields':{'type':[Eo]},'flowConfig':{'type':vo,'default':{}},'flows':{'type':[Co],'default':[]},'autoCompleteMessages':{'type':[Mo],'default':[]}}),Ie=R?.['model'](Es['name'],$o,a0_0x31011a(0x74b)),va=require(a0_0x31011a(0x41c)),Ro=new va[(a0_0x31011a(0x29d))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Na=_0x125915=>{const _0x35c47c=a0_0x31011a;let _0x1734e7='z_'+_0x125915+_0x35c47c(0x572);return R?.[_0x35c47c(0x508)](_0x35c47c(0x932),Ro,_0x1734e7);},_=class{constructor(_0x45c734){const _0x1223fb=a0_0x31011a;this[_0x1223fb(0x56f)]=_0x45c734[_0x1223fb(0x67e)](_0x1223fb(0x578));}};function I(_0x419562){const _0x349644=a0_0x31011a;let _0x105b32={};for(let [_0x4bc9d3,_0xee350c]of Object[_0x349644(0x910)](_0x419562))if(typeof _0xee350c==_0x349644(0x545)&&!Array[_0x349644(0x652)](_0xee350c)){for(let [_0x36bf1c,_0x2e0fd1]of Object[_0x349644(0x910)](_0xee350c))_0x105b32[_0x4bc9d3+'.'+_0x36bf1c]=_0x2e0fd1;}else _0x105b32[_0x4bc9d3]=_0xee350c;return _0x105b32;}var Ke=class{constructor(_0x5dd122,_0x3d08fa,_0x582349,_0x509c5f,_0x185a43,_0x512021,_0x41fd35,_0x1be3f4,_0x35ca7b,_0x5e47c9,_0x18bbd4,_0x3eab07,_0x1a3151){const _0x2b759f=a0_0x31011a;this[_0x2b759f(0x852)]=_0x5dd122,this[_0x2b759f(0x3bc)]=_0x3d08fa,this['contact']=_0x582349,this[_0x2b759f(0x784)]=_0x509c5f,this[_0x2b759f(0x6ba)]=_0x185a43,this[_0x2b759f(0x6e5)]=_0x512021,this[_0x2b759f(0x5ef)]=_0x41fd35,this[_0x2b759f(0x8c7)]=_0x1be3f4,this['flowConversation']=_0x35ca7b,this[_0x2b759f(0x20a)]=_0x5e47c9,this['scheduleMessage']=_0x18bbd4,this[_0x2b759f(0x423)]=_0x3eab07,this['dbClient']=_0x1a3151;}get[a0_0x31011a(0x5fb)](){const _0x385191=a0_0x31011a;return this[_0x385191(0x736)];}},Qe=class{},Ye=class extends _{[a0_0x31011a(0x4e5)](_0x219a7a){return da(_0x219a7a);}async[a0_0x31011a(0x46d)](_0x51338d,_0x2374a0){const _0x2e4a6d=a0_0x31011a;if(_0x51338d['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2e4a6d(0x4e5)](_0x2374a0)[_0x2e4a6d(0x1e9)]([..._0x51338d]))['length']};}catch(_0x36d34b){return _0x36d34b;}}async[a0_0x31011a(0x90d)](_0xb5d151,_0xb06c5d){const _0x29cfb8=a0_0x31011a;try{let _0x4ae625=this[_0x29cfb8(0x4e5)](_0xb06c5d),_0x5ee5d7=I(_0xb5d151[_0x29cfb8(0x750)]);return await _0x4ae625[_0x29cfb8(0x90d)](_0x5ee5d7)[_0x29cfb8(0x357)]({'messageTimestamp':-0x1})[_0x29cfb8(0x2ff)](_0xb5d151?.[_0x29cfb8(0x2ff)]??0x0)[_0x29cfb8(0x4cd)]();}catch{return[];}}async[a0_0x31011a(0x606)](_0x5ad2c0,_0x60e7d2){const _0x5ebd85=a0_0x31011a;try{let _0x493b3c=this[_0x5ebd85(0x4e5)](_0x60e7d2),_0x386ec8=I(_0x5ad2c0[_0x5ebd85(0x750)]);await _0x493b3c['deleteMany'](_0x386ec8);}catch(_0xca851){console[_0x5ebd85(0x4e4)](_0xca851);}}async[a0_0x31011a(0x4da)](_0x45d12c,_0x5c38ff,_0x32a785){const _0x44aa6a=a0_0x31011a;try{let _0x3a6bfd=this[_0x44aa6a(0x4e5)](_0x32a785),_0x202586=I(_0x45d12c['where']);return await _0x3a6bfd[_0x44aa6a(0x677)](_0x202586,{'$set':_0x5c38ff},{'new':!0x0});}catch(_0x3fd5c6){throw console['error'](_0x3fd5c6),_0x3fd5c6;}}async[a0_0x31011a(0x1e9)](_0x22c425,_0x26b2c7){const _0x248663=a0_0x31011a;if(_0x22c425[_0x248663(0x6f0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x248663(0x4e5)](_0x26b2c7)[_0x248663(0x1e9)]([..._0x22c425]))[_0x248663(0x6f0)]};}catch(_0x2ec3fa){return console[_0x248663(0x200)](_0x248663(0x668),_0x2ec3fa),_0x2ec3fa;}}async[a0_0x31011a(0x4bf)](_0x3d5991){const _0x32a33b=a0_0x31011a;try{return await this['getMessageModelForOwner'](_0x3d5991)[_0x32a33b(0x484)]['drop'](),{'success':!0x0};}catch(_0x2486e5){return console[_0x32a33b(0x4e4)](_0x2486e5),{'success':!0x1,'error':_0x2486e5};}}},ks=A(require('@ffmpeg-installer/ffmpeg')),w=A(require('@whiskeysockets/baileys')),Le=require('fs'),U=A(require('path')),Q=A(require(a0_0x31011a(0x65f))),_i=require('uuid'),xi=A(require(a0_0x31011a(0x443))),Di=A(require(a0_0x31011a(0x375))),$a=[a0_0x31011a(0x490),a0_0x31011a(0x4f7),a0_0x31011a(0x775),a0_0x31011a(0x2de),a0_0x31011a(0x41f)],Ra=[a0_0x31011a(0x871),a0_0x31011a(0x58c),'viewOnceMessage',a0_0x31011a(0x8ba)],Ls=require('os'),Jt=A(require(a0_0x31011a(0x5be))),Fe=require('child_process'),Pi=require(a0_0x31011a(0x431)),me=A(require(a0_0x31011a(0x41c))),k=require(a0_0x31011a(0x80f)),ue=class{constructor(_0x3c1d73,_0x4187d8,_0x155f8b){const _0x5a3faf=a0_0x31011a;this['jid']=_0x3c1d73,this[_0x5a3faf(0x334)]=_0x4187d8,this['name']=_0x155f8b;}},Xe=class{},Ze=class{},Te=class{},et=class{},tt=class{},Ce=class{},st=class{},at=class{},it=class{},ot=class{},Pt=A(require(a0_0x31011a(0x269))),Aa=require('fs'),Ia=require(a0_0x31011a(0x7c5));async function Oe(_0x331898){const _0x509fa8=a0_0x31011a;let _0x50d7b3=B['waInstances'][_0x331898];if(F[_0x509fa8(0x844)]){let _0x129326=R[_0x509fa8(0x5d7)]()['db'](F[_0x509fa8(0x247)][_0x509fa8(0x7e4)]+'-instances')[_0x509fa8(0x484)](_0x331898);return _0x50d7b3||(await _0x129326['find']({})[_0x509fa8(0x79d)]())['length']>0x0;}return _0x50d7b3||(0x0,Aa['existsSync'])((0x0,Ia[_0x509fa8(0x57d)])(Se,_0x331898));}async function Ta(_0x415eb4,_0x4ce8e0,_0x54f4c0){const _0x1e3946=a0_0x31011a;if(_0x415eb4[_0x1e3946(0x395)]['includes'](_0x1e3946(0x532))||_0x415eb4[_0x1e3946(0x395)][_0x1e3946(0x397)](_0x1e3946(0x5f4))||_0x415eb4[_0x1e3946(0x395)][_0x1e3946(0x397)](_0x1e3946(0x8db))||_0x415eb4[_0x1e3946(0x395)]['includes'](_0x1e3946(0x2c9))||_0x415eb4['originalUrl'][_0x1e3946(0x397)](_0x1e3946(0x68f))||_0x415eb4['originalUrl'][_0x1e3946(0x397)]('/instance/connectionState')||_0x415eb4[_0x1e3946(0x395)]['includes'](_0x1e3946(0x6df)))return _0x54f4c0();let _0x14fedd=_0x415eb4[_0x1e3946(0x66b)];if(!_0x14fedd?.[_0x1e3946(0x5c4)])throw new m(_0x1e3946(0x5b0));if(!await Oe(_0x14fedd[_0x1e3946(0x5c4)]))throw new J('The\x20'+_0x14fedd['instanceName']+_0x1e3946(0x50e));_0x54f4c0();}async function Oa(_0x24a597,_0x563a80,_0x33bed7){const _0x1ff12f=a0_0x31011a;if(_0x24a597[_0x1ff12f(0x395)][_0x1ff12f(0x397)]('/instance/create')){let _0x7ff6c6=_0x24a597[_0x1ff12f(0x8e9)];if(await Oe(_0x7ff6c6[_0x1ff12f(0x5c4)]))throw new Z(_0x1ff12f(0x371)+_0x7ff6c6[_0x1ff12f(0x5c4)]+'\x20is\x20already\x20in\x20use.');B[_0x1ff12f(0x831)][_0x7ff6c6[_0x1ff12f(0x5c4)]]&&delete B[_0x1ff12f(0x831)][_0x7ff6c6[_0x1ff12f(0x5c4)]];}_0x33bed7();}var _a=require(a0_0x31011a(0x80f)),xa=A(require(a0_0x31011a(0x379))),rt=a0_0x31011a(0x558),Io=new $(a0_0x31011a(0x62e));async function To(_0x3ec7fd,_0x47af02,_0x29b4fd){const _0x4d91df=a0_0x31011a;let _0x2e8653=_0x3ec7fd['get'](_0x4d91df(0x698));if(_0x2e8653&&b[_0x4d91df(0x67e)](_0x4d91df(0x3b9))['API_KEY'][_0x4d91df(0x208)]!==_0x2e8653)throw new oe();if(b['get'](_0x4d91df(0x3b9))['API_KEY'][_0x4d91df(0x208)]===_0x2e8653)return _0x29b4fd();if((_0x3ec7fd[_0x4d91df(0x395)][_0x4d91df(0x397)](_0x4d91df(0x532))||_0x3ec7fd[_0x4d91df(0x395)]['includes'](_0x4d91df(0x5f4)))&&!_0x2e8653)throw new Z(_0x4d91df(0x8f4),_0x4d91df(0x619));let _0x53aecb=b[_0x4d91df(0x67e)]('AUTHENTICATION')['JWT'];try{let [_0x50c4c7,_0x16ac32]=_0x3ec7fd[_0x4d91df(0x67e)]('authorization')[_0x4d91df(0x912)]('\x20');if(_0x50c4c7[_0x4d91df(0x240)]()!==_0x4d91df(0x27b))throw new oe();if(!(0x0,_a['isJWT'])(_0x16ac32))throw new oe();let _0x5a4734=_0x3ec7fd[_0x4d91df(0x66b)],_0x4e5622=xa[_0x4d91df(0x20b)][_0x4d91df(0x51f)](_0x16ac32,_0x53aecb[_0x4d91df(0x6dd)],{'ignoreExpiration':_0x53aecb[_0x4d91df(0x3f2)]===0x0});if(_0x5a4734[_0x4d91df(0x5c4)]!==_0x4e5622[_0x4d91df(0x5c4)]||rt!==_0x4e5622['apiName'])throw new oe();return _0x29b4fd();}catch(_0x4d2254){throw Io[_0x4d91df(0x4e4)](_0x4d2254),new oe();}}async function Oo(_0x1ac257,_0xa096b6,_0x3d2732){const _0x426371=a0_0x31011a;let _0x18397c=b['get'](_0x426371(0x3b9))['API_KEY'],_0x476cb7=_0x1ac257[_0x426371(0x67e)](_0x426371(0x698));if(_0x18397c[_0x426371(0x208)]===_0x476cb7)return _0x3d2732();if(_0x1ac257[_0x426371(0x395)][_0x426371(0x397)](_0x426371(0x532))){let _0x407dc2=Pa,_0x5b6093=_0x1ac257[_0x426371(0x8e9)][_0x426371(0x5c4)];if(_0x407dc2&&_0x5b6093['toLowerCase']()[_0x426371(0x653)](_0x407dc2['toLowerCase']()))return _0x3d2732();if(!_0x476cb7)throw new Z('Missing\x20global\x20api\x20key',_0x426371(0x619));}if(_0x1ac257['originalUrl'][_0x426371(0x397)](_0x426371(0x5f4))&&!_0x476cb7)throw new Z(_0x426371(0x8f4),_0x426371(0x619));if(_0x1ac257['originalUrl'][_0x426371(0x397)](_0x426371(0x8db))&&!_0x476cb7)throw new Z('Missing\x20global\x20api\x20key',_0x426371(0x619));if(_0x1ac257[_0x426371(0x395)][_0x426371(0x397)](_0x426371(0x2c9))&&!_0x476cb7)throw new Z(_0x426371(0x8f4),_0x426371(0x619));try{let _0x45ffda=_0x1ac257['params'],_0x4991c1=await we[_0x426371(0x6e5)][_0x426371(0x90d)](_0x45ffda[_0x426371(0x5c4)]);if(_0x4991c1&&_0x4991c1['apikey']===_0x476cb7)return _0x3d2732();}catch{}throw new oe();}var Da={'jwt':To,'apikey':Oo},mi=require(a0_0x31011a(0x269)),E=require(a0_0x31011a(0x779)),C=(..._0x6178c)=>{const _0x101ba0=a0_0x31011a;let _0xd2050={};return _0x6178c[_0x101ba0(0x201)](_0x39f56e=>_0xd2050[_0x39f56e]={'minLength':0x1,'description':_0x101ba0(0x885)+_0x39f56e+_0x101ba0(0x60c)}),{'if':{'propertyNames':{'enum':[..._0x6178c]}},'then':{'properties':_0xd2050}};},N={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'instanceName':{'type':a0_0x31011a(0x415)}},...C(a0_0x31011a(0x5c4))},wc={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x31011a(0x7a8)],...C(a0_0x31011a(0x7a8))},yc={'properties':{'key':{'type':a0_0x31011a(0x545),'properties':{'id':{'type':a0_0x31011a(0x415)},'remoteJid':{'type':a0_0x31011a(0x415)},'fromMe':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x31011a(0x663)],...C('id',a0_0x31011a(0x651))},'message':{'type':a0_0x31011a(0x545)}}},ee={'properties':{'delay':{'type':a0_0x31011a(0x87f),'description':a0_0x31011a(0x35f)},'presence':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x739),a0_0x31011a(0x340),a0_0x31011a(0x7ea),a0_0x31011a(0x31b),a0_0x31011a(0x876)]}}},H={'type':'string','description':a0_0x31011a(0x2c2)},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...ee},'textMessage':{'type':a0_0x31011a(0x545),'properties':{'text':{'type':a0_0x31011a(0x415)}},'required':[a0_0x31011a(0x64c)],...C(a0_0x31011a(0x64c))}},'required':[a0_0x31011a(0x338),a0_0x31011a(0x5d9)]},La={'type':a0_0x31011a(0x415),'pattern':a0_0x31011a(0x53b),'description':a0_0x31011a(0x2c2)},bc={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...La},'options':{...ee},'textMessage':{'type':a0_0x31011a(0x545),'properties':{'text':{'type':a0_0x31011a(0x415)}},'required':[a0_0x31011a(0x64c)],...C(a0_0x31011a(0x64c))}},'required':[a0_0x31011a(0x338),a0_0x31011a(0x5d9)]},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...La},'options':{...ee},'mediaMessage':{'type':a0_0x31011a(0x545),'properties':{'mediatype':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x3d8),a0_0x31011a(0x3ed),a0_0x31011a(0x635),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x31011a(0x415)},'caption':{'type':a0_0x31011a(0x415)}},'required':[a0_0x31011a(0x6cf),a0_0x31011a(0x8be)],...C('fileName',a0_0x31011a(0x649),'media')}},'required':[a0_0x31011a(0x24d),a0_0x31011a(0x5d9)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'options':{...ee},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x31011a(0x415)}},'required':['image'],...C('image')}},'required':['stickerMessage',a0_0x31011a(0x5d9)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'statusMessage':{'type':a0_0x31011a(0x545),'properties':{'type':{'type':'string','enum':[a0_0x31011a(0x64c),a0_0x31011a(0x3d8),a0_0x31011a(0x56d),a0_0x31011a(0x635)]},'content':{'type':a0_0x31011a(0x415)},'caption':{'type':a0_0x31011a(0x415)},'backgroundColor':{'type':a0_0x31011a(0x415)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x31011a(0x415),'pattern':a0_0x31011a(0x61d),'description':a0_0x31011a(0x23e)}},'allContacts':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]}},'required':['type',a0_0x31011a(0x206)],...C('type',a0_0x31011a(0x206))}},'required':[a0_0x31011a(0x4ec)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'options':{...ee},'mediaMessage':{'type':a0_0x31011a(0x545),'properties':{'mediatype':{'type':'string','enum':[a0_0x31011a(0x3d8),a0_0x31011a(0x3ed),'video',a0_0x31011a(0x56d)]},'media':{'type':a0_0x31011a(0x415)},'fileName':{'type':a0_0x31011a(0x415)},'caption':{'type':a0_0x31011a(0x415)}},'required':[a0_0x31011a(0x6cf),a0_0x31011a(0x8be)],...C(a0_0x31011a(0x41e),'caption',a0_0x31011a(0x8be))}},'required':[a0_0x31011a(0x24d),a0_0x31011a(0x5d9)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'options':{...ee},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x31011a(0x415)}},'required':['audio'],...C(a0_0x31011a(0x56d))}},'required':[a0_0x31011a(0x775),'number']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'pollMessage':{'type':a0_0x31011a(0x545),'properties':{'name':{'type':a0_0x31011a(0x415)},'selectableCount':{'type':a0_0x31011a(0x5d9)},'values':{'type':a0_0x31011a(0x76d),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x31011a(0x3a4),a0_0x31011a(0x642),'values'],...C(a0_0x31011a(0x3a4),'selectableCount',a0_0x31011a(0x708))}},'required':[a0_0x31011a(0x5d9),'pollMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'menuMessage':{'type':a0_0x31011a(0x545),'properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x31011a(0x64c),a0_0x31011a(0x3a9)],...C(a0_0x31011a(0x64c),a0_0x31011a(0x3a9))}},'required':[a0_0x31011a(0x5d9),a0_0x31011a(0x6c2)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'options':{...ee},'buttonMessage':{'type':a0_0x31011a(0x545),'properties':{'title':{'type':a0_0x31011a(0x415)},'description':{'type':a0_0x31011a(0x415)},'footerText':{'type':a0_0x31011a(0x415)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x31011a(0x545),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x31011a(0x8d1)],...C(a0_0x31011a(0x219),'buttonId')}},'mediaMessage':{'type':a0_0x31011a(0x545),'properties':{'media':{'type':a0_0x31011a(0x415)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x3d8),a0_0x31011a(0x3ed),'video']}},'required':[a0_0x31011a(0x8be),a0_0x31011a(0x6cf)],...C(a0_0x31011a(0x8be),a0_0x31011a(0x41e))}},'required':[a0_0x31011a(0x54a),a0_0x31011a(0x597)],...C(a0_0x31011a(0x54a),a0_0x31011a(0x61c))}},'required':[a0_0x31011a(0x5d9),a0_0x31011a(0x68c)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'options':{...ee},'locationMessage':{'type':a0_0x31011a(0x545),'properties':{'latitude':{'type':a0_0x31011a(0x5d9)},'longitude':{'type':a0_0x31011a(0x5d9)},'name':{'type':a0_0x31011a(0x415)},'address':{'type':a0_0x31011a(0x415)}},'required':[a0_0x31011a(0x857),a0_0x31011a(0x49b)],...C(a0_0x31011a(0x3a4),a0_0x31011a(0x611))}},'required':[a0_0x31011a(0x5d9),'locationMessage']},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...ee},'listMessage':{'type':a0_0x31011a(0x545),'properties':{'title':{'type':'string'},'description':{'type':a0_0x31011a(0x415)},'footerText':{'type':a0_0x31011a(0x415)},'buttonText':{'type':a0_0x31011a(0x415)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x31011a(0x545),'properties':{'title':{'type':a0_0x31011a(0x415)},'rows':{'type':a0_0x31011a(0x76d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x31011a(0x545),'properties':{'title':{'type':a0_0x31011a(0x415)},'description':{'type':a0_0x31011a(0x415)},'rowId':{'type':a0_0x31011a(0x415)}},'required':['title',a0_0x31011a(0x3d7)],...C(a0_0x31011a(0x54a),'rowId')}}},'required':[a0_0x31011a(0x54a),a0_0x31011a(0x804)],...C(a0_0x31011a(0x54a))}}},'required':[a0_0x31011a(0x54a),'description','buttonText',a0_0x31011a(0x4ab)],...C(a0_0x31011a(0x54a),a0_0x31011a(0x61c),a0_0x31011a(0x219),'footerText')}},'required':[a0_0x31011a(0x5d9),a0_0x31011a(0x4d5)]},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...ee},'contactMessage':{'type':'array','items':{'type':a0_0x31011a(0x545),'properties':{'fullName':{'type':a0_0x31011a(0x415)},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName','phoneNumber'],...C(a0_0x31011a(0x3fd))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x31011a(0x7c4)]},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x31011a(0x545),'properties':{'key':{'type':a0_0x31011a(0x545),'properties':{'id':{'type':a0_0x31011a(0x415)},'remoteJid':{'type':a0_0x31011a(0x415)},'fromMe':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]}},'required':['id',a0_0x31011a(0x651),a0_0x31011a(0x663)],...C('id',a0_0x31011a(0x651))},'reaction':{'type':a0_0x31011a(0x415)}},'required':['key',a0_0x31011a(0x444)],...C(a0_0x31011a(0x444))}},'required':[a0_0x31011a(0x7bc)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'numbers':{'type':a0_0x31011a(0x76d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x31011a(0x415),'pattern':a0_0x31011a(0x61d),'description':a0_0x31011a(0x7f4)}}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'readMessages':{'type':a0_0x31011a(0x76d),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x31011a(0x415)},'fromMe':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x31011a(0x415)}},'required':['id',a0_0x31011a(0x663),a0_0x31011a(0x651)],...C('id',a0_0x31011a(0x651))}}},'required':['readMessages']},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'privacySettings':{'type':a0_0x31011a(0x545),'properties':{'readreceipts':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x6da),a0_0x31011a(0x823)]},'profile':{'type':a0_0x31011a(0x415),'enum':['all',a0_0x31011a(0x5d2),a0_0x31011a(0x435),a0_0x31011a(0x823)]},'status':{'type':'string','enum':[a0_0x31011a(0x6da),'contacts',a0_0x31011a(0x435),a0_0x31011a(0x823)]},'online':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x6da),a0_0x31011a(0x24a)]},'last':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x6da),a0_0x31011a(0x5d2),a0_0x31011a(0x435),a0_0x31011a(0x823)]},'groupadd':{'type':a0_0x31011a(0x415),'enum':['all',a0_0x31011a(0x5d2),a0_0x31011a(0x435),a0_0x31011a(0x823)]}},'required':[a0_0x31011a(0x77d),a0_0x31011a(0x291),'status',a0_0x31011a(0x8dd),a0_0x31011a(0x3f7),'groupadd'],...C(a0_0x31011a(0x77d),a0_0x31011a(0x291),a0_0x31011a(0x893),a0_0x31011a(0x8dd),a0_0x31011a(0x3f7),a0_0x31011a(0x21e))}},'required':[a0_0x31011a(0x4f6)]},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'lastMessage':{'type':a0_0x31011a(0x545),'properties':{'key':{'type':a0_0x31011a(0x545),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x31011a(0x651)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x31011a(0x87f),'minLength':0x1}},'required':[a0_0x31011a(0x683)],...C(a0_0x31011a(0x39f))},'archive':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x31011a(0x5ad)]},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x31011a(0x415)},'fromMe':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x31011a(0x415)},'participant':{'type':a0_0x31011a(0x415)}},'required':['id','fromMe',a0_0x31011a(0x651)],...C('id',a0_0x31011a(0x651),a0_0x31011a(0x4e1))},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x31011a(0x545),'properties':{'_id':{'type':a0_0x31011a(0x415),'minLength':0x1},'pushName':{'type':a0_0x31011a(0x415),'minLength':0x1},'id':{'type':a0_0x31011a(0x415),'minLength':0x1}},...C(a0_0x31011a(0x22c),'id',a0_0x31011a(0x727))}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'name':{'type':'string'}},...C('name')},si={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'status':{'type':'string'}},...C('status')},_e={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{'type':a0_0x31011a(0x415)},'picture':{'type':a0_0x31011a(0x415)}}},ai={'type':a0_0x31011a(0x545),'properties':{'wuid':{'type':a0_0x31011a(0x415)},'name':{'type':a0_0x31011a(0x415)},'picture':{'type':a0_0x31011a(0x415)},'status':{'type':a0_0x31011a(0x415)},'isBusiness':{'type':a0_0x31011a(0x630)}}},ii={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x31011a(0x545),'properties':{'_id':{'type':a0_0x31011a(0x415),'minLength':0x1},'key':{'type':a0_0x31011a(0x545),'if':{'propertyNames':{'enum':['fromMe',a0_0x31011a(0x651),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x31011a(0x415),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C('_id')},'limit':{'type':a0_0x31011a(0x87f)}}},Mc={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'where':{'type':a0_0x31011a(0x545),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x31011a(0x415)},'id':{'type':a0_0x31011a(0x415)},'fromMe':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x31011a(0x415)},'status':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x4de),a0_0x31011a(0x4fe),a0_0x31011a(0x778),a0_0x31011a(0x392),'READ','PLAYED']}},...C(a0_0x31011a(0x22c),'remoteJid','id','status')},'limit':{'type':'integer'}}},oi={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'number':{...H},'presence':{'type':a0_0x31011a(0x415),'enum':[a0_0x31011a(0x739),'available',a0_0x31011a(0x7ea),a0_0x31011a(0x31b),a0_0x31011a(0x876)]}},'required':[a0_0x31011a(0x8d8),'number']},ri={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'subject':{'type':a0_0x31011a(0x415)},'description':{'type':'string'},'profilePicture':{'type':a0_0x31011a(0x415)},'participants':{'type':a0_0x31011a(0x76d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x31011a(0x415),'minLength':0xa,'pattern':a0_0x31011a(0x30f),'description':a0_0x31011a(0x402)}}},'required':[a0_0x31011a(0x3cb),'participants'],...C(a0_0x31011a(0x3cb),a0_0x31011a(0x61c),'profilePicture')},xe={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'groupJid':{'type':a0_0x31011a(0x415),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x31011a(0x2a1)],...C(a0_0x31011a(0x2a1))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'groupJid':{'type':a0_0x31011a(0x415)},'action':{'type':'string','enum':[a0_0x31011a(0x8dc),a0_0x31011a(0x3d6),'promote',a0_0x31011a(0x874),a0_0x31011a(0x737),a0_0x31011a(0x598)]},'participants':{'type':a0_0x31011a(0x76d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x31011a(0x415),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x31011a(0x402)}}},'required':[a0_0x31011a(0x2a1),a0_0x31011a(0x49f),a0_0x31011a(0x471)],...C(a0_0x31011a(0x2a1),a0_0x31011a(0x49f))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'groupJid':{'type':a0_0x31011a(0x415)},'expiration':{'type':a0_0x31011a(0x5d9),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x31011a(0x2a1),a0_0x31011a(0x26c)],...C(a0_0x31011a(0x2a1),'expiration')},li={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x31011a(0x2a1),a0_0x31011a(0x3d8)],...C('groupJid',a0_0x31011a(0x3d8))},ui={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'groupJid':{'type':a0_0x31011a(0x415)},'description':{'type':a0_0x31011a(0x415)}},'required':[a0_0x31011a(0x2a1),a0_0x31011a(0x61c)],...C(a0_0x31011a(0x2a1),a0_0x31011a(0x61c))},di={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x31011a(0x415)}},'required':[a0_0x31011a(0x2a1),a0_0x31011a(0x3a4)],...C(a0_0x31011a(0x2a1),a0_0x31011a(0x3a4))},pi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':['announcement',a0_0x31011a(0x792),'unlocked',a0_0x31011a(0x94a)]}},'required':[a0_0x31011a(0x2a1),a0_0x31011a(0x24e)],...C(a0_0x31011a(0x2a1),'setting')},hi={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'groupJid':{'type':a0_0x31011a(0x415)},'restrict':{'type':a0_0x31011a(0x630)},'announce':{'type':a0_0x31011a(0x630)},'memberAddMode':{'type':a0_0x31011a(0x630)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x31011a(0x87f),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x31011a(0x415)},'description':{'type':a0_0x31011a(0x415)},'image':{'type':a0_0x31011a(0x415)}}},Rs={'$id':(0x0,E['v4'])(),'type':a0_0x31011a(0x545),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x31011a(0x236)],...C(a0_0x31011a(0x236))},gi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x31011a(0x415)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x31011a(0x5a6),a0_0x31011a(0x2ac)]},Cc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x31011a(0x630),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x31011a(0x22b),a0_0x31011a(0x344),'QRCODE_UPDATED',a0_0x31011a(0x499),a0_0x31011a(0x793),a0_0x31011a(0x5c7),a0_0x31011a(0x7cd),a0_0x31011a(0x8c0),a0_0x31011a(0x782),a0_0x31011a(0x418),a0_0x31011a(0x568),'CHATS_SET',a0_0x31011a(0x821),a0_0x31011a(0x56a),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x31011a(0x59a),a0_0x31011a(0x360),a0_0x31011a(0x4ea)],...C(a0_0x31011a(0x22b),a0_0x31011a(0x344),a0_0x31011a(0x23f),a0_0x31011a(0x499),a0_0x31011a(0x793),a0_0x31011a(0x5c7),'SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT',a0_0x31011a(0x418),a0_0x31011a(0x568),a0_0x31011a(0x1fd),a0_0x31011a(0x821),a0_0x31011a(0x56a),a0_0x31011a(0x42e),a0_0x31011a(0x731),a0_0x31011a(0x59a),a0_0x31011a(0x360),a0_0x31011a(0x4ea))},nt=class{},ct=class extends _{[a0_0x31011a(0x67b)](_0x56d5dc){return ra(_0x56d5dc);}async[a0_0x31011a(0x46d)](_0x22a2d5){const _0x164ad2=a0_0x31011a;if(_0x22a2d5['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x22a2d5[0x0][_0x164ad2(0x5d1)])[_0x164ad2(0x1e9)]([..._0x22a2d5]))[_0x164ad2(0x6f0)]};}catch(_0x3175b0){return _0x3175b0;}}async[a0_0x31011a(0x606)](_0x3faeb1,_0x16e8b7){const _0x5f3b3d=a0_0x31011a;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x16e8b7)[_0x5f3b3d(0x45f)]({..._0x3faeb1[_0x5f3b3d(0x750)]}))['deletedCount']};}catch(_0x2c83c7){return{'error':_0x2c83c7?.[_0x5f3b3d(0x45e)]()};}}async['update'](_0x4a330a,_0xc4e6ff){const _0x47a527=a0_0x31011a;try{if(_0x4a330a['length']===0x0)return;let _0x427edd=this[_0x47a527(0x67b)](_0xc4e6ff),_0x5c9460=_0x4a330a[_0x47a527(0x74c)](_0x734bcf=>({'updateOne':{'filter':{'_id':_0x734bcf['_id'],'owner':_0xc4e6ff},'update':{..._0x734bcf}}})),{modifiedCount:_0x588495}=await _0x427edd[_0x47a527(0x547)](_0x5c9460);return{'insertCount':_0x588495};}catch{return;}}async[a0_0x31011a(0x90d)](_0x34824d,_0xcc6063){const _0x554d9a=a0_0x31011a;try{let _0x8556fa=this[_0x554d9a(0x67b)](_0xcc6063),_0x45778d=I(_0x34824d[_0x554d9a(0x750)]);return await _0x8556fa[_0x554d9a(0x90d)](_0x45778d)[_0x554d9a(0x2ff)](_0x34824d?.[_0x554d9a(0x2ff)]??0x0)[_0x554d9a(0x4cd)]();}catch{return[];}}async[a0_0x31011a(0x917)](_0x44b77e,_0x4fc17a){const _0x56418d=a0_0x31011a;try{let _0x56d13b=this['getContactModelForOwner'](_0x4fc17a),_0x3c6ba4=I(_0x44b77e[_0x56418d(0x750)]);return await _0x56d13b[_0x56418d(0x917)](_0x3c6ba4)[_0x56418d(0x4cd)]();}catch{return null;}}async[a0_0x31011a(0x4bf)](_0x316500){const _0x2cab1a=a0_0x31011a;try{return await this[_0x2cab1a(0x67b)](_0x316500)[_0x2cab1a(0x484)][_0x2cab1a(0x56b)](),{'success':!0x0};}catch(_0x59184a){return console[_0x2cab1a(0x4e4)](_0x59184a),{'success':!0x1,'error':_0x59184a};}}},lt=require(a0_0x31011a(0x5df)),Oc=require('express-async-errors'),As=new $('Validate'),G=class{['routerPath'](_0x3ea156,_0x4b13f8=!0x0){const _0x3df5d7=a0_0x31011a;let _0x2dc6dc='/'+_0x3ea156;return _0x4b13f8&&(_0x2dc6dc+=_0x3df5d7(0x6b1)),_0x2dc6dc;}async[a0_0x31011a(0x272)](_0x4222e0){const _0x1580db=a0_0x31011a;let {request:_0x1465a5,schema:_0x44955a,ClassRef:_0xd25549,execute:_0xeb9a6a}=_0x4222e0,_0x25c209=new _0xd25549(),_0x3b0bcc=_0x1465a5['body'],_0x581a7f=_0x1465a5[_0x1580db(0x66b)];_0x1465a5?.['query']&&Object[_0x1580db(0x31f)](_0x1465a5[_0x1580db(0x7f0)])[_0x1580db(0x6f0)]>0x0&&Object[_0x1580db(0x34a)](_0x581a7f,_0x1465a5[_0x1580db(0x7f0)]),_0x1465a5[_0x1580db(0x395)]['includes'](_0x1580db(0x532))&&Object[_0x1580db(0x34a)](_0x581a7f,_0x3b0bcc),Object[_0x1580db(0x34a)](_0x25c209,_0x3b0bcc);let _0x4b0423=_0x44955a?(0x0,lt[_0x1580db(0x2c7)])(_0x25c209,_0x44955a):{'valid':!0x0,'errors':[]};if(!_0x4b0423[_0x1580db(0x5d4)]){let _0x54e14a=_0x4b0423[_0x1580db(0x8bd)][_0x1580db(0x74c)](({property:_0x132a64,stack:_0x46a029,schema:_0x146407})=>{const _0x2f42dd=_0x1580db;let _0x4de056;return _0x146407[_0x2f42dd(0x61c)]?_0x4de056=_0x146407[_0x2f42dd(0x61c)]:_0x4de056=_0x46a029[_0x2f42dd(0x929)]('instance.',''),{'property':_0x132a64[_0x2f42dd(0x929)]('instance.',''),'message':_0x4de056};});throw As[_0x1580db(0x4e4)]([..._0x54e14a]),new m(..._0x54e14a);}return await _0xeb9a6a(_0x581a7f,_0x25c209);}async['groupValidate'](_0x37eca0){const _0x74a18c=a0_0x31011a;let {request:_0x434d6f,ClassRef:_0x1cc309,schema:_0x38553c,execute:_0x3d4c4a}=_0x37eca0,_0x5e584b=_0x434d6f['query'];if(!_0x5e584b?.[_0x74a18c(0x2a1)])throw new m(_0x74a18c(0x835),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x35f966=_0x434d6f[_0x74a18c(0x66b)],_0x822fe=_0x434d6f[_0x74a18c(0x8e9)],_0x59fddd=new _0x1cc309();Object['assign'](_0x822fe,_0x5e584b),Object[_0x74a18c(0x34a)](_0x59fddd,_0x822fe);let _0x4107e5=(0x0,lt[_0x74a18c(0x2c7)])(_0x59fddd,_0x38553c);if(!_0x4107e5[_0x74a18c(0x5d4)]){let _0x1a238b=_0x4107e5[_0x74a18c(0x8bd)][_0x74a18c(0x74c)](({property:_0x4156a1,stack:_0x5d6c82,schema:_0x127f60})=>{const _0x7f0207=_0x74a18c;let _0x118c7c;return _0x127f60[_0x7f0207(0x61c)]?_0x118c7c=_0x127f60[_0x7f0207(0x61c)]:_0x118c7c=_0x5d6c82[_0x7f0207(0x929)](_0x7f0207(0x916),''),{'property':_0x4156a1[_0x7f0207(0x929)]('instance.',''),'message':_0x118c7c};});throw As[_0x74a18c(0x4e4)]([..._0x1a238b]),new m(..._0x1a238b);}return await _0x3d4c4a(_0x35f966,_0x59fddd);}async[a0_0x31011a(0x369)](_0x1cc95c){const _0x4b76c9=a0_0x31011a;let {request:_0x10cd0f,ClassRef:_0x56369e,schema:_0x449a9b,execute:_0x2cc795}=_0x1cc95c,_0x1d425e=_0x10cd0f['body'];if(!_0x1d425e?.[_0x4b76c9(0x236)])throw new m(_0x4b76c9(0x2d4),_0x4b76c9(0x48b));let _0x330c6f=_0x10cd0f['params'],_0x1f21b4=_0x10cd0f[_0x4b76c9(0x8e9)],_0x3cc2ef=new _0x56369e();Object[_0x4b76c9(0x34a)](_0x1f21b4,_0x1d425e),Object['assign'](_0x3cc2ef,_0x1f21b4);let _0x43f495=(0x0,lt[_0x4b76c9(0x2c7)])(_0x3cc2ef,_0x449a9b);if(!_0x43f495['valid']){let _0x56561f=_0x43f495[_0x4b76c9(0x8bd)][_0x4b76c9(0x74c)](({property:_0x47d32b,stack:_0x296f27,schema:_0x708e53})=>{const _0x3740f6=_0x4b76c9;let _0x26a4ae;return _0x708e53[_0x3740f6(0x61c)]?_0x26a4ae=_0x708e53[_0x3740f6(0x61c)]:_0x26a4ae=_0x296f27[_0x3740f6(0x929)](_0x3740f6(0x916),''),{'property':_0x47d32b['replace'](_0x3740f6(0x916),''),'message':_0x26a4ae};});throw As[_0x4b76c9(0x4e4)]([..._0x56561f]),new m(..._0x56561f);}return await _0x2cc795(_0x330c6f,_0x3cc2ef);}},M=class{},Wc=new $(a0_0x31011a(0x295)),ut=class extends G{constructor(..._0x3d4650){const _0x3ef3de=a0_0x31011a;super(),this[_0x3ef3de(0x613)]=(0x0,mi['Router'])(),this['router']['post'](this[_0x3ef3de(0x5a7)]('updatePresence'),..._0x3d4650,async(_0x3f4191,_0x349c97)=>{const _0x55fbd5=_0x3ef3de;let _0x53861c=await this[_0x55fbd5(0x272)]({'request':_0x3f4191,'schema':oi,'ClassRef':Xe,'execute':(_0x2e960f,_0x1b06c5)=>P[_0x55fbd5(0x40e)](_0x2e960f,_0x1b06c5)});return _0x349c97['status'](0xc9)[_0x55fbd5(0x791)](_0x53861c);})[_0x3ef3de(0x803)](this['routerPath']('whatsappNumbers'),..._0x3d4650,async(_0x9a971b,_0x5f2e94)=>{const _0x114084=_0x3ef3de;let _0x5dd769=await this[_0x114084(0x272)]({'request':_0x9a971b,'schema':Ka,'ClassRef':Ze,'execute':(_0x1c11c0,_0x4a29e2)=>P['whatsappNumber'](_0x1c11c0,_0x4a29e2)});return _0x5f2e94[_0x114084(0x893)](0xc9)['json'](_0x5dd769);})[_0x3ef3de(0x803)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x71a)),..._0x3d4650,async(_0x5af359,_0x19c0ff)=>{const _0x198d16=_0x3ef3de;let _0x37cb3a=await this[_0x198d16(0x272)]({'request':_0x5af359,'schema':N,'ClassRef':M,'execute':(_0x3f4e80,_0x4cf90b)=>P[_0x198d16(0x71a)](_0x3f4e80,_0x4cf90b)});return _0x19c0ff[_0x198d16(0x893)](0xc9)[_0x198d16(0x791)](_0x37cb3a);})['put'](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x7c0)),..._0x3d4650,async(_0x142805,_0x5bb44e)=>{const _0x154e68=_0x3ef3de;let _0x518607=await this[_0x154e68(0x272)]({'request':_0x142805,'schema':Qa,'ClassRef':st,'execute':(_0x2675f2,_0x39373a)=>P[_0x154e68(0x60f)](_0x2675f2,_0x39373a)});return _0x5bb44e['status'](0xc9)['json'](_0x518607);})[_0x3ef3de(0x3f6)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x734)),..._0x3d4650,async(_0x3cbba2,_0x2f1108)=>{const _0x28dc83=_0x3ef3de;let _0x3a5072=await this[_0x28dc83(0x272)]({'request':_0x3cbba2,'schema':Xa,'ClassRef':at,'execute':(_0x3bd39d,_0x250fed)=>P['archiveChat'](_0x3bd39d,_0x250fed)});return _0x2f1108['status'](0xc9)[_0x28dc83(0x791)](_0x3a5072);})[_0x3ef3de(0x606)](this['routerPath'](_0x3ef3de(0x86d)),..._0x3d4650,async(_0x209a86,_0x2b80f4)=>{const _0x2148d7=_0x3ef3de;let _0x730c0b=await this['dataValidate']({'request':_0x209a86,'schema':Za,'ClassRef':ot,'execute':(_0x4b1f87,_0x5d374e)=>P['deleteMessage'](_0x4b1f87,_0x5d374e)});return _0x2b80f4[_0x2148d7(0x893)](0xc9)[_0x2148d7(0x791)](_0x730c0b);})[_0x3ef3de(0x803)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x366)),..._0x3d4650,async(_0xec6ea,_0x104161)=>{const _0x45f4df=_0x3ef3de;let _0x2fda77=await this[_0x45f4df(0x272)]({'request':_0xec6ea,'schema':_e,'ClassRef':Te,'execute':(_0x4f19e5,_0x5e17af)=>P[_0x45f4df(0x608)](_0x4f19e5,_0x5e17af)});return _0x104161['status'](0xc8)[_0x45f4df(0x791)](_0x2fda77);})[_0x3ef3de(0x803)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x890)),..._0x3d4650,async(_0x3d2f00,_0x219ef8)=>{const _0x38ba45=_0x3ef3de;let _0x3ac21a=await this[_0x38ba45(0x272)]({'request':_0x3d2f00,'schema':ai,'ClassRef':Te,'execute':(_0x262b7e,_0x119c1d)=>P[_0x38ba45(0x890)](_0x262b7e,_0x119c1d)});return _0x219ef8[_0x38ba45(0x893)](0xc8)['json'](_0x3ac21a);})['post'](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x633)),..._0x3d4650,async(_0xc1b2d1,_0x3c78dd)=>{const _0x4a025d=_0x3ef3de;let _0x1e042b=await this[_0x4a025d(0x272)]({'request':_0xc1b2d1,'schema':ei,'ClassRef':nt,'execute':(_0x42d9c1,_0x509841)=>P[_0x4a025d(0x8b6)](_0x42d9c1,_0x509841)});return _0x3c78dd[_0x4a025d(0x893)](0xc8)['json'](_0x1e042b);})['post'](this['routerPath'](_0x3ef3de(0x278)),..._0x3d4650,async(_0x3d13c1,_0x110732)=>{const _0xc4dfd4=_0x3ef3de;let _0x57a0a3=await this[_0xc4dfd4(0x272)]({'request':_0x3d13c1,'schema':null,'ClassRef':Object,'execute':(_0x1fa663,_0x2d2091)=>P['getBase64FromMediaMessage'](_0x1fa663,_0x2d2091)});return _0x110732[_0xc4dfd4(0x893)](0xc9)['json'](_0x57a0a3);})[_0x3ef3de(0x803)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x883)),..._0x3d4650,async(_0x8aae8,_0x3a472e)=>{const _0x2322da=_0x3ef3de;let _0x516f1d=await this[_0x2322da(0x272)]({'request':_0x8aae8,'schema':ii,'ClassRef':Qe,'execute':(_0x3bfbae,_0x419d6c)=>P[_0x2322da(0x20f)](_0x3bfbae,_0x419d6c)});return _0x3a472e[_0x2322da(0x893)](0xc8)[_0x2322da(0x791)](_0x516f1d);})[_0x3ef3de(0x67e)](this['routerPath'](_0x3ef3de(0x744)),..._0x3d4650,async(_0x55fbb2,_0x3e3f45)=>{const _0x2efb03=_0x3ef3de;let _0x384832=await this[_0x2efb03(0x272)]({'request':_0x55fbb2,'schema':null,'ClassRef':M,'execute':_0x3acef2=>P['fetchChats'](_0x3acef2)});return _0x3e3f45['status'](0xc8)[_0x2efb03(0x791)](_0x384832);})['get'](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x530)),..._0x3d4650,async(_0x17ccdf,_0x1b5807)=>{const _0x1d5a12=_0x3ef3de;let _0x46ae39=await this[_0x1d5a12(0x272)]({'request':_0x17ccdf,'schema':null,'ClassRef':M,'execute':_0x4374e0=>P[_0x1d5a12(0x6dc)](_0x4374e0)});return _0x1b5807[_0x1d5a12(0x893)](0xc8)['json'](_0x46ae39);})[_0x3ef3de(0x3f6)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x65b)),..._0x3d4650,async(_0x39772b,_0x361147)=>{const _0x3df88d=_0x3ef3de;let _0x481f5e=await this[_0x3df88d(0x272)]({'request':_0x39772b,'schema':null,'ClassRef':Array,'execute':(_0x1bb23d,_0xb2f81b)=>P[_0x3df88d(0x65b)](_0x1bb23d,_0xb2f81b)});return _0x361147[_0x3df88d(0x893)](0xc8)[_0x3df88d(0x791)](_0x481f5e);})['get'](this['routerPath'](_0x3ef3de(0x493)),..._0x3d4650,async(_0x128d91,_0x4dbd3f)=>{const _0x4f1802=_0x3ef3de;let _0x3a51ad=await this[_0x4f1802(0x272)]({'request':_0x128d91,'schema':null,'ClassRef':M,'execute':_0x4136cd=>P[_0x4f1802(0x493)](_0x4136cd)});return _0x4dbd3f['status'](0xc8)[_0x4f1802(0x791)](_0x3a51ad);})[_0x3ef3de(0x3f6)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x349)),..._0x3d4650,async(_0x1a136e,_0x2f5cf0)=>{const _0x211fa9=_0x3ef3de;let _0x37045b=await this[_0x211fa9(0x272)]({'request':_0x1a136e,'schema':Ya,'ClassRef':it,'execute':(_0x237b9f,_0x636713)=>P[_0x211fa9(0x349)](_0x237b9f,_0x636713)});return _0x2f5cf0[_0x211fa9(0x893)](0xc9)[_0x211fa9(0x791)](_0x37045b);})['post'](this['routerPath']('fetchBusinessProfile'),..._0x3d4650,async(_0x46d13a,_0x9cdd8c)=>{const _0x33cc46=_0x3ef3de;let _0x1be364=await this['dataValidate']({'request':_0x46d13a,'schema':_e,'ClassRef':Ce,'execute':(_0x3694e4,_0x115d97)=>P[_0x33cc46(0x4a1)](_0x3694e4,_0x115d97)});return _0x9cdd8c['status'](0xc8)[_0x33cc46(0x791)](_0x1be364);})[_0x3ef3de(0x803)](this[_0x3ef3de(0x5a7)]('updateProfileName'),..._0x3d4650,async(_0x4db8cb,_0x23a5cf)=>{const _0x6339fe=_0x3ef3de;let _0x28a034=await this[_0x6339fe(0x272)]({'request':_0x4db8cb,'schema':ti,'ClassRef':et,'execute':(_0x52b366,_0x4c134a)=>P[_0x6339fe(0x3b0)](_0x52b366,_0x4c134a)});return _0x23a5cf[_0x6339fe(0x893)](0xc8)[_0x6339fe(0x791)](_0x28a034);})[_0x3ef3de(0x803)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x405)),..._0x3d4650,async(_0xe11483,_0x50c103)=>{const _0xa472d8=_0x3ef3de;let _0x56fd42=await this[_0xa472d8(0x272)]({'request':_0xe11483,'schema':si,'ClassRef':tt,'execute':(_0x15090f,_0x451d60)=>P[_0xa472d8(0x405)](_0x15090f,_0x451d60)});return _0x50c103[_0xa472d8(0x893)](0xc8)[_0xa472d8(0x791)](_0x56fd42);})[_0x3ef3de(0x3f6)](this[_0x3ef3de(0x5a7)](_0x3ef3de(0x567)),..._0x3d4650,async(_0x47a39c,_0x29d06f)=>{const _0x1eb614=_0x3ef3de;let _0x1aea14=await this[_0x1eb614(0x272)]({'request':_0x47a39c,'schema':_e,'ClassRef':Ce,'execute':(_0x2b4566,_0x5569b7)=>P[_0x1eb614(0x567)](_0x2b4566,_0x5569b7)});return _0x29d06f['status'](0xc8)[_0x1eb614(0x791)](_0x1aea14);})['delete'](this[_0x3ef3de(0x5a7)]('removeProfilePicture'),..._0x3d4650,async(_0x1c959d,_0x12a781)=>{const _0x50744c=_0x3ef3de;let _0x1748ed=await this[_0x50744c(0x272)]({'request':_0x1c959d,'schema':_e,'ClassRef':Ce,'execute':(_0x6ab43f,_0x5420a7)=>P[_0x50744c(0x304)](_0x6ab43f,_0x5420a7)});return _0x12a781[_0x50744c(0x893)](0xc8)[_0x50744c(0x791)](_0x1748ed);});}},fi=require(a0_0x31011a(0x269)),dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},te=class{},De=class{},wt=class extends te{},yt=class extends te{},bt=class extends G{constructor(..._0x12a8bd){const _0xf5f039=a0_0x31011a;super(),this[_0xf5f039(0x613)]=(0x0,fi[_0xf5f039(0x81e)])(),this[_0xf5f039(0x613)]['post'](this['routerPath'](_0xf5f039(0x582)),..._0x12a8bd,async(_0x2fbe73,_0x2fdfac)=>{const _0x545ea7=_0xf5f039;let _0x467d18=await this[_0x545ea7(0x272)]({'request':_0x2fbe73,'schema':ri,'ClassRef':dt,'execute':(_0x286baf,_0x2e38ff)=>q[_0x545ea7(0x4c3)](_0x286baf,_0x2e38ff)});_0x2fdfac[_0x545ea7(0x893)](0xc9)[_0x545ea7(0x791)](_0x467d18);})[_0xf5f039(0x3f6)](this['routerPath'](_0xf5f039(0x515)),..._0x12a8bd,async(_0x2e034a,_0x3e7cf2)=>{const _0x5d1eb4=_0xf5f039;let _0x4244b4=await this[_0x5d1eb4(0x60d)]({'request':_0x2e034a,'schema':li,'ClassRef':pt,'execute':(_0xfba2f0,_0xa057fe)=>q[_0x5d1eb4(0x515)](_0xfba2f0,_0xa057fe)});_0x3e7cf2['status'](0xc9)[_0x5d1eb4(0x791)](_0x4244b4);})[_0xf5f039(0x3f6)](this[_0xf5f039(0x5a7)](_0xf5f039(0x8cf)),..._0x12a8bd,async(_0x3e7b97,_0x556da3)=>{const _0x55df78=_0xf5f039;let _0x2299f8=await this[_0x55df78(0x60d)]({'request':_0x3e7b97,'schema':ui,'ClassRef':ht,'execute':(_0x46a706,_0x3f8e8d)=>q[_0x55df78(0x8cf)](_0x46a706,_0x3f8e8d)});_0x556da3[_0x55df78(0x893)](0xc9)[_0x55df78(0x791)](_0x2299f8);})[_0xf5f039(0x3f6)](this[_0xf5f039(0x5a7)](_0xf5f039(0x601)),..._0x12a8bd,async(_0x25e765,_0x4e9557)=>{const _0x4d4023=_0xf5f039;let _0x1c736a=await this[_0x4d4023(0x60d)]({'request':_0x25e765,'schema':di,'ClassRef':gt,'execute':(_0x5e9151,_0x30d606)=>q[_0x4d4023(0x601)](_0x5e9151,_0x30d606)});_0x4e9557[_0x4d4023(0x893)](0xc9)[_0x4d4023(0x791)](_0x1c736a);})['put'](this[_0xf5f039(0x5a7)](_0xf5f039(0x84c)),..._0x12a8bd,async(_0x420dee,_0x494f8e)=>{let _0x56506f=await this['groupValidate']({'request':_0x420dee,'schema':hi,'ClassRef':ft,'execute':(_0x3ac6cb,_0x2154fd)=>q['groupBetterSetting'](_0x3ac6cb,_0x2154fd)});_0x494f8e['status'](0xc9)['json'](_0x56506f);})[_0xf5f039(0x3f6)](this[_0xf5f039(0x5a7)](_0xf5f039(0x2ef)),..._0x12a8bd,async(_0x4462da,_0x928329)=>{const _0x1c0892=_0xf5f039;let _0x5484b3=await this[_0x1c0892(0x60d)]({'request':_0x4462da,'schema':pi,'ClassRef':mt,'execute':(_0x336e32,_0x1fb7fc)=>q[_0x1c0892(0x2ef)](_0x336e32,_0x1fb7fc)});_0x928329[_0x1c0892(0x893)](0xc9)['json'](_0x5484b3);})[_0xf5f039(0x3f6)](this[_0xf5f039(0x5a7)]('toggleEphemeral'),..._0x12a8bd,async(_0x4fab3d,_0x517c3f)=>{const _0x5a69fb=_0xf5f039;let _0x287161=await this[_0x5a69fb(0x60d)]({'request':_0x4fab3d,'schema':ci,'ClassRef':yt,'execute':(_0xe89c01,_0x4f33f7)=>q[_0x5a69fb(0x7e0)](_0xe89c01,_0x4f33f7)});_0x517c3f[_0x5a69fb(0x893)](0xc9)['json'](_0x287161);})[_0xf5f039(0x67e)](this[_0xf5f039(0x5a7)](_0xf5f039(0x1ee)),..._0x12a8bd,async(_0x210c3c,_0x2572c1)=>{const _0xfb8c13=_0xf5f039;let _0x36534d=await this[_0xfb8c13(0x60d)]({'request':_0x210c3c,'schema':xe,'ClassRef':te,'execute':(_0x32c462,_0x4f3257)=>q[_0xfb8c13(0x8fe)](_0x32c462,_0x4f3257)});_0x2572c1[_0xfb8c13(0x893)](0xc8)[_0xfb8c13(0x791)](_0x36534d);})[_0xf5f039(0x67e)](this[_0xf5f039(0x5a7)](_0xf5f039(0x30a)),..._0x12a8bd,async(_0x1078f4,_0x17e4fc)=>{const _0x4703b3=_0xf5f039;let _0x8087bc=await this['dataValidate']({'request':_0x1078f4,'schema':N,'ClassRef':M,'execute':_0x502b1d=>q['findGroups'](_0x502b1d)});_0x17e4fc[_0x4703b3(0x893)](0xc8)['json'](_0x8087bc);})[_0xf5f039(0x67e)](this[_0xf5f039(0x5a7)](_0xf5f039(0x471)),..._0x12a8bd,async(_0x4c4750,_0x58b530)=>{const _0xd5c395=_0xf5f039;let _0xe8e959=await this[_0xd5c395(0x60d)]({'request':_0x4c4750,'schema':xe,'ClassRef':te,'execute':(_0x2ffecd,_0x299f28)=>q[_0xd5c395(0x86e)](_0x2ffecd,_0x299f28)});_0x58b530['status'](0xc8)['json'](_0xe8e959);})[_0xf5f039(0x67e)](this[_0xf5f039(0x5a7)](_0xf5f039(0x236)),..._0x12a8bd,async(_0x2ccdc2,_0x4a7a0a)=>{const _0x1d91e3=_0xf5f039;let _0x1a6b28=await this[_0x1d91e3(0x60d)]({'request':_0x2ccdc2,'schema':xe,'ClassRef':te,'execute':(_0x33638f,_0x3a8b11)=>q[_0x1d91e3(0x236)](_0x33638f,_0x3a8b11)});_0x4a7a0a[_0x1d91e3(0x893)](0xc8)['json'](_0x1a6b28);})['post'](this[_0xf5f039(0x5a7)](_0xf5f039(0x4a9)),..._0x12a8bd,async(_0xb7b5b5,_0x1df320)=>{const _0x54edd9=_0xf5f039;let _0x281ee3=await this[_0x54edd9(0x369)]({'request':_0xb7b5b5,'schema':Rs,'ClassRef':De,'execute':(_0x5e7b94,_0x3f1207)=>q[_0x54edd9(0x6bd)](_0x5e7b94,_0x3f1207)});_0x1df320[_0x54edd9(0x893)](0xc9)[_0x54edd9(0x791)](_0x281ee3);})['put'](this[_0xf5f039(0x5a7)](_0xf5f039(0x65d)),..._0x12a8bd,async(_0x1288d9,_0x587f04)=>{const _0x563ae6=_0xf5f039;let _0x9df62b=await this[_0x563ae6(0x369)]({'request':_0x1288d9,'schema':Rs,'ClassRef':De,'execute':(_0x464b89,_0x2aa4ed)=>q[_0x563ae6(0x65d)](_0x464b89,_0x2aa4ed)});_0x587f04[_0x563ae6(0x893)](0xc9)[_0x563ae6(0x791)](_0x9df62b);})[_0xf5f039(0x3f6)](this[_0xf5f039(0x5a7)]('revokeInviteCode'),..._0x12a8bd,async(_0x1bdd67,_0x2c9779)=>{const _0x488c33=_0xf5f039;let _0x207415=await this[_0x488c33(0x60d)]({'request':_0x1bdd67,'schema':xe,'ClassRef':te,'execute':(_0x2d3eac,_0xf4cac8)=>q[_0x488c33(0x456)](_0x2d3eac,_0xf4cac8)});_0x2c9779['status'](0xc9)[_0x488c33(0x791)](_0x207415);})['put'](this[_0xf5f039(0x5a7)]('updateParticipant'),..._0x12a8bd,async(_0x202ced,_0x12def3)=>{const _0x19456c=_0xf5f039;let _0x2e225c=await this[_0x19456c(0x60d)]({'request':_0x202ced,'schema':ni,'ClassRef':wt,'execute':(_0x401209,_0x55873e)=>q[_0x19456c(0x4fa)](_0x401209,_0x55873e)});_0x12def3['status'](0xc9)['json'](_0x2e225c);})[_0xf5f039(0x606)](this[_0xf5f039(0x5a7)](_0xf5f039(0x2b7)),..._0x12a8bd,async(_0x4cb25b,_0x1e97d5)=>{const _0x118993=_0xf5f039;let _0xe2bab9=await this[_0x118993(0x60d)]({'request':_0x4cb25b,'schema':{},'ClassRef':te,'execute':(_0x4ce849,_0x480dc8)=>q['leaveGroup'](_0x4ce849,_0x480dc8)});_0x1e97d5[_0x118993(0x893)](0xc8)['json'](_0xe2bab9);});}},wi=require(a0_0x31011a(0x269)),St=class extends G{constructor(_0x1109a3,..._0x283009){const _0x40b751=a0_0x31011a;super(),this[_0x40b751(0x58e)]=_0x1109a3,this[_0x40b751(0x613)]=(0x0,wi['Router'])();let _0x36977b=_0x1109a3[_0x40b751(0x67e)]('AUTHENTICATION');this[_0x40b751(0x613)][_0x40b751(0x803)]('/create',..._0x283009,async(_0x3f0f6f,_0x5649a9)=>{const _0x207b82=_0x40b751;let {instanceName:_0x48eea6,apikey:_0x2c263e,number:_0x36e993}=_0x3f0f6f[_0x207b82(0x8e9)],_0x4d74fb=await de[_0x207b82(0x48d)]({'instanceName':_0x48eea6,'apikey':_0x2c263e,'number':_0x36e993});return _0x5649a9[_0x207b82(0x893)](0xc9)['json'](_0x4d74fb);})[_0x40b751(0x3f6)](this[_0x40b751(0x5a7)](_0x40b751(0x8f1)),..._0x283009,async(_0x473eb1,_0x46516d)=>{const _0x572ebe=_0x40b751;let _0x4eca55=await this['dataValidate']({'request':_0x473eb1,'schema':N,'ClassRef':M,'execute':_0x20d974=>de[_0x572ebe(0x850)](_0x20d974)});return _0x46516d[_0x572ebe(0x893)](0xc8)[_0x572ebe(0x791)](_0x4eca55);})[_0x40b751(0x67e)](this[_0x40b751(0x5a7)]('connect'),..._0x283009,async(_0x5c1fd8,_0x26ace7)=>{const _0x4b28b2=_0x40b751;let _0x219888=await this[_0x4b28b2(0x272)]({'request':_0x5c1fd8,'schema':N,'ClassRef':M,'execute':_0x281dc3=>de[_0x4b28b2(0x8fb)](_0x281dc3)});return _0x26ace7[_0x4b28b2(0x893)](0xc8)[_0x4b28b2(0x791)](_0x219888);})[_0x40b751(0x67e)](this[_0x40b751(0x5a7)]('connectionState'),..._0x283009,async(_0x50f64f,_0x57c595)=>{const _0x581953=_0x40b751;let _0xc88c57=await this['dataValidate']({'request':_0x50f64f,'schema':N,'ClassRef':M,'execute':_0x382408=>de[_0x581953(0x88b)](_0x382408)});return _0x57c595[_0x581953(0x893)](0xc8)[_0x581953(0x791)](_0xc88c57);})[_0x40b751(0x67e)](this['routerPath'](_0x40b751(0x8b0),!0x1),..._0x283009,async(_0x4121ba,_0x23c18d)=>{const _0xf7425b=_0x40b751;let _0x4125d1=await this[_0xf7425b(0x272)]({'request':_0x4121ba,'schema':null,'ClassRef':M,'execute':_0x374f37=>de[_0xf7425b(0x8b0)](_0x374f37)});return _0x23c18d[_0xf7425b(0x893)](0xc8)[_0xf7425b(0x791)](_0x4125d1);})[_0x40b751(0x606)](this[_0x40b751(0x5a7)](_0x40b751(0x4ef)),..._0x283009,async(_0x1d9960,_0x4efec3)=>{const _0x14ff24=_0x40b751;let _0xa90db4=await this['dataValidate']({'request':_0x1d9960,'schema':N,'ClassRef':M,'execute':_0x24aa67=>de[_0x14ff24(0x4ef)](_0x24aa67)});return _0x4efec3[_0x14ff24(0x893)](0xc8)[_0x14ff24(0x791)](_0xa90db4);})[_0x40b751(0x606)](this[_0x40b751(0x5a7)](_0x40b751(0x606)),..._0x283009,async(_0x35489e,_0x4c8159)=>{const _0x5472d0=_0x40b751;let _0xde43b7=await this[_0x5472d0(0x272)]({'request':_0x35489e,'schema':N,'ClassRef':M,'execute':_0x1b8049=>de[_0x5472d0(0x7a4)](_0x1b8049)});return _0x4c8159['status'](0xc8)[_0x5472d0(0x791)](_0xde43b7);});}},yi=require('express'),Is=class{},z=class extends Is{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Pe=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class extends z{},At=class extends z{},It=class extends z{},Tt=class{},Ot=class extends G{constructor(..._0x1f04e0){const _0x4b930a=a0_0x31011a;super(),this[_0x4b930a(0x613)]=(0x0,yi[_0x4b930a(0x81e)])(),this[_0x4b930a(0x613)][_0x4b930a(0x803)](this[_0x4b930a(0x5a7)](_0x4b930a(0x481)),..._0x1f04e0,async(_0x26f8ef,_0x755464)=>{const _0x30bab2=_0x4b930a;let _0x20936b=await this[_0x30bab2(0x272)]({'request':_0x26f8ef,'schema':ka,'ClassRef':Mt,'execute':(_0x10c672,_0x402561)=>W[_0x30bab2(0x481)](_0x10c672,_0x402561)});return _0x755464[_0x30bab2(0x893)](0xc9)['json'](_0x20936b);})['post'](this[_0x4b930a(0x5a7)](_0x4b930a(0x5e9)),..._0x1f04e0,async(_0x377971,_0x15d833)=>{const _0x66206b=_0x4b930a;let _0x20828c=await this['dataValidate']({'request':_0x377971,'schema':ja,'ClassRef':Pe,'execute':(_0x39d6ca,_0x216f35)=>W[_0x66206b(0x5e9)](_0x39d6ca,_0x216f35)});return _0x15d833['status'](0xc9)[_0x66206b(0x791)](_0x20828c);})['post'](this[_0x4b930a(0x5a7)](_0x4b930a(0x25d)),..._0x1f04e0,async(_0x48f4e5,_0x399901)=>{const _0x425d73=_0x4b930a;let _0x832783=await this[_0x425d73(0x272)]({'request':_0x48f4e5,'schema':Va,'ClassRef':vt,'execute':(_0xaf3c9c,_0x2655e2)=>W[_0x425d73(0x25d)](_0xaf3c9c,_0x2655e2)});return _0x399901[_0x425d73(0x893)](0xc9)[_0x425d73(0x791)](_0x832783);})[_0x4b930a(0x803)](this[_0x4b930a(0x5a7)](_0x4b930a(0x551)),..._0x1f04e0,async(_0x16bd6d,_0x6ab440)=>{const _0x293783=_0x4b930a;let _0x2200df=await this['dataValidate']({'request':_0x16bd6d,'schema':Ja,'ClassRef':Pe,'execute':(_0x45d2d4,_0x20704c)=>W['sendWhatsAppAudio'](_0x45d2d4,_0x20704c)});return _0x6ab440[_0x293783(0x893)](0xc9)[_0x293783(0x791)](_0x2200df);})['post'](this[_0x4b930a(0x5a7)](_0x4b930a(0x577)),..._0x1f04e0,async(_0x6582f5,_0x3917b8)=>{const _0x3b74c8=_0x4b930a;let _0x120db6=await this[_0x3b74c8(0x272)]({'request':_0x6582f5,'schema':Ga,'ClassRef':$t,'execute':(_0x1bae8b,_0x57a9b4)=>W['sendButtons'](_0x1bae8b,_0x57a9b4)});return _0x3917b8[_0x3b74c8(0x893)](0xc9)[_0x3b74c8(0x791)](_0x120db6);})[_0x4b930a(0x803)](this[_0x4b930a(0x5a7)]('sendLocation'),..._0x1f04e0,async(_0x58d45f,_0x387b9d)=>{const _0x60c130=_0x4b930a;let _0x30b611=await this['dataValidate']({'request':_0x58d45f,'schema':Ba,'ClassRef':Rt,'execute':(_0x4800ec,_0xb709f8)=>W[_0x60c130(0x1f0)](_0x4800ec,_0xb709f8)});return _0x387b9d[_0x60c130(0x893)](0xc9)[_0x60c130(0x791)](_0x30b611);})['post'](this['routerPath'](_0x4b930a(0x2f9)),..._0x1f04e0,async(_0x1f1f53,_0x2e9dfe)=>{const _0x13ca00=_0x4b930a;let _0x519c81=await this['dataValidate']({'request':_0x1f1f53,'schema':Wa,'ClassRef':At,'execute':(_0x2a1f4c,_0x1b3fe1)=>W[_0x13ca00(0x2f9)](_0x2a1f4c,_0x1b3fe1)});return _0x2e9dfe['status'](0xc9)[_0x13ca00(0x791)](_0x519c81);})[_0x4b930a(0x803)](this[_0x4b930a(0x5a7)](_0x4b930a(0x4be)),..._0x1f04e0,async(_0x1a96bb,_0x1c80e1)=>{const _0x45b08f=_0x4b930a;let _0x5de42f=await this[_0x45b08f(0x272)]({'request':_0x1a96bb,'schema':za,'ClassRef':It,'execute':(_0x2db14e,_0x3ec841)=>W[_0x45b08f(0x4be)](_0x2db14e,_0x3ec841)});return _0x1c80e1[_0x45b08f(0x893)](0xc9)[_0x45b08f(0x791)](_0x5de42f);})[_0x4b930a(0x803)](this[_0x4b930a(0x5a7)](_0x4b930a(0x44a)),..._0x1f04e0,async(_0x4fac76,_0x4c31cb)=>{const _0x22f0a3=_0x4b930a;let _0x156621=await this['dataValidate']({'request':_0x4fac76,'schema':Ha,'ClassRef':Tt,'execute':(_0xc92fc5,_0x5ad111)=>W[_0x22f0a3(0x44a)](_0xc92fc5,_0x5ad111)});return _0x4c31cb[_0x22f0a3(0x893)](0xc9)[_0x22f0a3(0x791)](_0x156621);})[_0x4b930a(0x803)](this['routerPath']('sendPoll'),..._0x1f04e0,async(_0x486e80,_0x5574df)=>{const _0x155380=_0x4b930a;let _0x5f03e0=await this[_0x155380(0x272)]({'request':_0x486e80,'schema':qa,'ClassRef':Et,'execute':(_0x22f9bb,_0x5b19b8)=>W[_0x155380(0x51a)](_0x22f9bb,_0x5b19b8)});return _0x5574df[_0x155380(0x893)](0xc9)[_0x155380(0x791)](_0x5f03e0);})[_0x4b930a(0x803)](this[_0x4b930a(0x5a7)](_0x4b930a(0x487)),..._0x1f04e0,async(_0x1f3d45,_0x58e678)=>{const _0x121756=_0x4b930a;let _0x385edc=await this['dataValidate']({'request':_0x1f3d45,'schema':Ua,'ClassRef':Ct,'execute':(_0x3704ac,_0x2d9061)=>W[_0x121756(0x487)](_0x3704ac,_0x2d9061)});return _0x58e678[_0x121756(0x893)](0xc9)[_0x121756(0x791)](_0x385edc);})[_0x4b930a(0x803)](this['routerPath'](_0x4b930a(0x8b8)),..._0x1f04e0,async(_0x98835c,_0x1df1d8)=>{const _0x421192=_0x4b930a;let _0x3b68c3=await this[_0x421192(0x272)]({'request':_0x98835c,'schema':Fa,'ClassRef':Nt,'execute':(_0x518094,_0x338791)=>W[_0x421192(0x8b8)](_0x518094,_0x338791)});return _0x1df1d8['status'](0xc9)['json'](_0x3b68c3);});}},bi=require(a0_0x31011a(0x269)),_t=class{},xt=class extends G{constructor(..._0x41b58d){const _0x23fc22=a0_0x31011a;super(),this[_0x23fc22(0x613)]=(0x0,bi[_0x23fc22(0x81e)])(),this[_0x23fc22(0x613)][_0x23fc22(0x803)](this[_0x23fc22(0x5a7)](_0x23fc22(0x21c)),..._0x41b58d,async(_0x305774,_0x3fb1c3)=>{const _0x152536=_0x23fc22;let _0x4f4c1f=await this[_0x152536(0x272)]({'request':_0x305774,'schema':gi,'ClassRef':_t,'execute':(_0x156a5f,_0x409e49)=>Ts[_0x152536(0x4af)](_0x156a5f,_0x409e49)});_0x3fb1c3[_0x152536(0x893)](0xc9)[_0x152536(0x791)](_0x4f4c1f);})[_0x23fc22(0x67e)](this['routerPath'](_0x23fc22(0x90d)),..._0x41b58d,async(_0xe112b1,_0x347ec5)=>{const _0x3adc1a=_0x23fc22;let _0x39c16a=await this[_0x3adc1a(0x272)]({'request':_0xe112b1,'schema':N,'ClassRef':M,'execute':_0x267670=>Ts[_0x3adc1a(0x216)](_0x267670)});_0x347ec5[_0x3adc1a(0x893)](0xc8)[_0x3adc1a(0x791)](_0x39c16a);});}},Si=require(a0_0x31011a(0x269)),y=new $(a0_0x31011a(0x8c9)),Dt=class extends G{constructor(..._0x53ad88){const _0x43f2ba=a0_0x31011a;super(),this[_0x43f2ba(0x613)]=(0x0,Si[_0x43f2ba(0x81e)])(),this[_0x43f2ba(0x613)][_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)]('scheduleMessage'),..._0x53ad88,async(_0x52121e,_0x27e9f2)=>{const _0x1dc196=_0x43f2ba;let _0x5de128=_0x52121e['body'];y[_0x1dc196(0x45c)]('request\x20received\x20in\x20scheduleMessage'),y['verbose'](_0x1dc196(0x511)),y[_0x1dc196(0x45c)](_0x52121e[_0x1dc196(0x8e9)]);let _0x223a9e=await this[_0x1dc196(0x272)]({'request':_0x52121e,'schema':N,'ClassRef':M,'execute':_0x483fc4=>T['editScheduleMessage'](_0x483fc4,_0x5de128)});_0x27e9f2[_0x1dc196(0x893)](0xc8)['json'](_0x223a9e);})[_0x43f2ba(0x67e)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x3cf)),..._0x53ad88,async(_0x345bf3,_0x307a83)=>{const _0x4cbe6c=_0x43f2ba;let _0x2bbeb0=await this['dataValidate']({'request':_0x345bf3,'schema':N,'ClassRef':M,'execute':_0x5e7808=>T[_0x4cbe6c(0x4c2)](_0x5e7808)});_0x307a83[_0x4cbe6c(0x893)](0xc8)[_0x4cbe6c(0x791)](_0x2bbeb0);})['delete'](this[_0x43f2ba(0x5a7)]('deleteDoneMessages'),..._0x53ad88,async(_0x500f51,_0x29d3ab)=>{const _0x54d280=_0x43f2ba;y[_0x54d280(0x45c)](_0x54d280(0x604));let _0x3d6722=await this[_0x54d280(0x272)]({'request':_0x500f51,'schema':N,'ClassRef':M,'execute':_0x41a400=>T[_0x54d280(0x8e4)](_0x41a400)});_0x29d3ab[_0x54d280(0x893)](0xc8)['json'](_0x3d6722);})['post'](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x7d6)),..._0x53ad88,async(_0x532fdf,_0x2017b1)=>{const _0x5c03c5=_0x43f2ba;let _0x34a4ab=_0x532fdf[_0x5c03c5(0x8e9)];y[_0x5c03c5(0x45c)](_0x5c03c5(0x745)),y[_0x5c03c5(0x45c)](_0x5c03c5(0x511)),y[_0x5c03c5(0x45c)](_0x532fdf[_0x5c03c5(0x8e9)]);let _0x4e22cb=await this[_0x5c03c5(0x272)]({'request':_0x532fdf,'schema':N,'ClassRef':M,'execute':_0x52770a=>T[_0x5c03c5(0x7d6)](_0x52770a,_0x34a4ab)});_0x2017b1[_0x5c03c5(0x893)](0xc8)[_0x5c03c5(0x791)](_0x4e22cb);})[_0x43f2ba(0x67e)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x203)),..._0x53ad88,async(_0x2a03f5,_0xb5171c)=>{const _0x2b3feb=_0x43f2ba;y[_0x2b3feb(0x45c)](_0x2b3feb(0x746));let _0x2c2e3e=await this['dataValidate']({'request':_0x2a03f5,'schema':N,'ClassRef':M,'execute':_0x50b26b=>T[_0x2b3feb(0x203)](_0x50b26b)});_0xb5171c[_0x2b3feb(0x893)](0xc8)['json'](_0x2c2e3e);})[_0x43f2ba(0x67e)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x3f4)),..._0x53ad88,async(_0x419975,_0x49af2c)=>{const _0x1c32f7=_0x43f2ba;y['verbose'](_0x1c32f7(0x5d5));let _0x22895f=await this[_0x1c32f7(0x272)]({'request':_0x419975,'schema':N,'ClassRef':M,'execute':_0x10840c=>T[_0x1c32f7(0x203)](_0x10840c)});_0x49af2c['status'](0xc8)[_0x1c32f7(0x791)](_0x22895f);})[_0x43f2ba(0x803)](this['routerPath'](_0x43f2ba(0x466)),..._0x53ad88,async(_0x43b5f6,_0x339429)=>{const _0x4e5a9e=_0x43f2ba;let _0x46a18f=_0x43b5f6['body'];y['verbose'](_0x4e5a9e(0x622)),y[_0x4e5a9e(0x45c)](_0x4e5a9e(0x511)),y[_0x4e5a9e(0x45c)](_0x43b5f6[_0x4e5a9e(0x8e9)]);let _0x413e91=await this[_0x4e5a9e(0x272)]({'request':_0x43b5f6,'schema':N,'ClassRef':M,'execute':_0x5f4506=>T[_0x4e5a9e(0x466)](_0x5f4506,_0x46a18f)});_0x339429[_0x4e5a9e(0x893)](0xc8)[_0x4e5a9e(0x791)](_0x413e91);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x65e)),..._0x53ad88,async(_0x287379,_0x3bf898)=>{const _0x97e83f=_0x43f2ba;let _0x375cda=_0x287379['body'];y['verbose'](_0x97e83f(0x36c)),y['verbose'](_0x97e83f(0x511)),y[_0x97e83f(0x45c)](_0x287379[_0x97e83f(0x8e9)]);let _0x208729=await this['dataValidate']({'request':_0x287379,'schema':N,'ClassRef':M,'execute':_0x1c0348=>T['updateCustomFields'](_0x1c0348,_0x375cda)});_0x3bf898['status'](0xc8)[_0x97e83f(0x791)](_0x208729);})[_0x43f2ba(0x803)](this['routerPath']('updateAutoCompleteMessages'),..._0x53ad88,async(_0x19c9d4,_0x220f6d)=>{const _0x3c4a65=_0x43f2ba;let _0x25f0b0=_0x19c9d4['body'];y[_0x3c4a65(0x45c)](_0x3c4a65(0x350)),y[_0x3c4a65(0x45c)](_0x3c4a65(0x511)),y[_0x3c4a65(0x45c)](_0x19c9d4[_0x3c4a65(0x8e9)]);let _0x219a46=await this[_0x3c4a65(0x272)]({'request':_0x19c9d4,'schema':N,'ClassRef':M,'execute':_0xdacf5=>T[_0x3c4a65(0x928)](_0xdacf5,_0x25f0b0)});_0x220f6d[_0x3c4a65(0x893)](0xc8)[_0x3c4a65(0x791)](_0x219a46);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x783)),..._0x53ad88,async(_0x45c634,_0x4a8bca)=>{const _0x1e5e2f=_0x43f2ba;let _0x2984a6=_0x45c634['body'];y[_0x1e5e2f(0x45c)](_0x1e5e2f(0x241)),y[_0x1e5e2f(0x45c)](_0x1e5e2f(0x511)),y['verbose'](_0x45c634[_0x1e5e2f(0x8e9)]);let _0x415712=await this[_0x1e5e2f(0x272)]({'request':_0x45c634,'schema':N,'ClassRef':M,'execute':_0x1ad45e=>T[_0x1e5e2f(0x783)](_0x1ad45e,_0x2984a6)});_0x4a8bca[_0x1e5e2f(0x893)](0xc8)['json'](_0x415712);})['post'](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x8d3)),..._0x53ad88,async(_0x15b93b,_0x9b017b)=>{const _0x34c15=_0x43f2ba;let _0x58d76f=_0x15b93b['body'];y[_0x34c15(0x45c)](_0x34c15(0x1f5)),y[_0x34c15(0x45c)](_0x34c15(0x511)),y[_0x34c15(0x45c)](_0x15b93b[_0x34c15(0x8e9)]);let _0x33aed8=await this[_0x34c15(0x272)]({'request':_0x15b93b,'schema':N,'ClassRef':M,'execute':_0x1cae78=>T[_0x34c15(0x8d3)](_0x1cae78,_0x58d76f)});_0x9b017b[_0x34c15(0x893)](0xc8)[_0x34c15(0x791)](_0x33aed8);})['post'](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x32e)),..._0x53ad88,async(_0x5c5d8c,_0x1dab47)=>{const _0x2c9d75=_0x43f2ba;let _0x1c1cfa=_0x5c5d8c[_0x2c9d75(0x8e9)];y['verbose'](_0x2c9d75(0x822)),y[_0x2c9d75(0x45c)]('request\x20body:\x20'),y[_0x2c9d75(0x45c)](_0x5c5d8c[_0x2c9d75(0x8e9)]);let _0x2379b4=await this[_0x2c9d75(0x272)]({'request':_0x5c5d8c,'schema':N,'ClassRef':M,'execute':_0x17a853=>T[_0x2c9d75(0x32e)](_0x17a853,_0x1c1cfa)});_0x1dab47[_0x2c9d75(0x893)](0xc8)[_0x2c9d75(0x791)](_0x2379b4);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)]('editConversation'),..._0x53ad88,async(_0x23c969,_0x5e46fb)=>{const _0x1127db=_0x43f2ba;let _0x286e88=_0x23c969[_0x1127db(0x8e9)];y[_0x1127db(0x45c)](_0x1127db(0x5a3)),y[_0x1127db(0x45c)](_0x1127db(0x511)),y['verbose'](_0x23c969['body']);let _0x348940=await this[_0x1127db(0x272)]({'request':_0x23c969,'schema':N,'ClassRef':M,'execute':_0x119439=>T['editConversation'](_0x119439,_0x286e88)});_0x5e46fb['status'](0xc8)[_0x1127db(0x791)](_0x348940);})[_0x43f2ba(0x606)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x22f)),..._0x53ad88,async(_0x3a58eb,_0x2e179e)=>{const _0x502e14=_0x43f2ba;let _0x4741b7=_0x3a58eb[_0x502e14(0x8e9)];y['verbose'](_0x502e14(0x37e)),y['verbose'](_0x502e14(0x511)),y['verbose'](_0x3a58eb[_0x502e14(0x8e9)]);let _0xa8b8df=await this[_0x502e14(0x272)]({'request':_0x3a58eb,'schema':N,'ClassRef':M,'execute':_0x4b3d54=>T[_0x502e14(0x22f)](_0x4b3d54,_0x4741b7)});_0x2e179e[_0x502e14(0x893)](0xc8)['json'](_0xa8b8df);})['post'](this['routerPath'](_0x43f2ba(0x7a5)),..._0x53ad88,async(_0x4acd8b,_0x1143b6)=>{const _0x3d134f=_0x43f2ba;let _0x5df719=_0x4acd8b['body'],_0x4e1819=_0x4acd8b[_0x3d134f(0x5f0)][_0x3d134f(0x698)];y[_0x3d134f(0x45c)](_0x3d134f(0x930)),y['verbose'](_0x3d134f(0x511)),y[_0x3d134f(0x45c)](_0x4acd8b[_0x3d134f(0x8e9)]);let _0x48660d=await this[_0x3d134f(0x272)]({'request':_0x4acd8b,'schema':N,'ClassRef':M,'execute':_0x277fb0=>T[_0x3d134f(0x8a9)](_0x277fb0,_0x5df719,_0x4e1819)});_0x1143b6[_0x3d134f(0x893)](0xc8)[_0x3d134f(0x791)](_0x48660d);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x91a)),..._0x53ad88,async(_0x28d4a9,_0x2982f3)=>{const _0x1f590c=_0x43f2ba;let _0x172332=_0x28d4a9[_0x1f590c(0x8e9)],_0x4d842e=_0x28d4a9[_0x1f590c(0x5f0)][_0x1f590c(0x698)];y[_0x1f590c(0x45c)]('request\x20received\x20in\x20editFlow'),y[_0x1f590c(0x45c)](_0x1f590c(0x511)),y[_0x1f590c(0x45c)](_0x28d4a9['body']),delete _0x172332[_0x1f590c(0x6d1)],delete _0x172332['variables'],delete _0x172332[_0x1f590c(0x6f8)],delete _0x172332[_0x1f590c(0x595)];let _0x490fea=await this[_0x1f590c(0x272)]({'request':_0x28d4a9,'schema':N,'ClassRef':M,'execute':_0x5dd593=>T[_0x1f590c(0x47f)](_0x5dd593,_0x172332,_0x4d842e)});_0x2982f3[_0x1f590c(0x893)](0xc8)['json'](_0x490fea);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x322)),..._0x53ad88,async(_0x4cf5f0,_0x51417e)=>{const _0x19fae6=_0x43f2ba;let _0x29a285=_0x4cf5f0[_0x19fae6(0x8e9)];y[_0x19fae6(0x45c)](_0x19fae6(0x798)),y[_0x19fae6(0x45c)](_0x19fae6(0x511)),y['verbose'](_0x4cf5f0[_0x19fae6(0x8e9)]);let _0x3e893d=await this[_0x19fae6(0x272)]({'request':_0x4cf5f0,'schema':N,'ClassRef':M,'execute':_0x21beae=>T['editFlowBlock'](_0x21beae,_0x29a285)});_0x51417e[_0x19fae6(0x893)](0xc8)[_0x19fae6(0x791)](_0x3e893d);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x8b1)),..._0x53ad88,async(_0x4c14af,_0x1ccdd9)=>{const _0x4eec19=_0x43f2ba;let _0x51a23c=_0x4c14af[_0x4eec19(0x8e9)];y[_0x4eec19(0x45c)]('request\x20received\x20in\x20editFlow'),y[_0x4eec19(0x45c)]('request\x20body:\x20'),y['verbose'](_0x4c14af['body']);let _0x8f93da=await this['dataValidate']({'request':_0x4c14af,'schema':N,'ClassRef':M,'execute':_0x265497=>T[_0x4eec19(0x926)](_0x265497,_0x51a23c)});_0x1ccdd9[_0x4eec19(0x893)](0xc8)[_0x4eec19(0x791)](_0x8f93da);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x296)),..._0x53ad88,async(_0x240c55,_0x36dea3)=>{const _0x1dc192=_0x43f2ba;let _0x536601=_0x240c55[_0x1dc192(0x8e9)];y[_0x1dc192(0x45c)](_0x1dc192(0x798)),y[_0x1dc192(0x45c)](_0x1dc192(0x511)),y[_0x1dc192(0x45c)](_0x240c55['body']);let _0x4d8fc9=await this[_0x1dc192(0x272)]({'request':_0x240c55,'schema':N,'ClassRef':M,'execute':_0x3c51c8=>T[_0x1dc192(0x825)](_0x3c51c8,_0x536601)});_0x36dea3['status'](0xc8)[_0x1dc192(0x791)](_0x4d8fc9);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)]('editflowgroup'),..._0x53ad88,async(_0x4f8cf3,_0x763b17)=>{const _0x3fefda=_0x43f2ba;let _0x552caa=_0x4f8cf3[_0x3fefda(0x8e9)];y[_0x3fefda(0x45c)](_0x3fefda(0x824)),y['verbose'](_0x3fefda(0x511)),y['verbose'](_0x4f8cf3[_0x3fefda(0x8e9)]);let _0x251493=await this[_0x3fefda(0x272)]({'request':_0x4f8cf3,'schema':N,'ClassRef':M,'execute':_0x3db3bc=>T[_0x3fefda(0x557)](_0x3db3bc,_0x552caa)});_0x763b17[_0x3fefda(0x893)](0xc8)['json'](_0x251493);})[_0x43f2ba(0x803)](this['routerPath'](_0x43f2ba(0x26d)),..._0x53ad88,async(_0x1b4460,_0x58fb17)=>{const _0x11d782=_0x43f2ba;let _0x434c19=_0x1b4460[_0x11d782(0x8e9)];y[_0x11d782(0x45c)](_0x11d782(0x215)),y[_0x11d782(0x45c)](_0x11d782(0x511)),y[_0x11d782(0x45c)](_0x1b4460[_0x11d782(0x8e9)]);let _0x2e9770=await this['dataValidate']({'request':_0x1b4460,'schema':N,'ClassRef':M,'execute':_0x28c2c9=>T['editFlowCondition'](_0x28c2c9,_0x434c19)});_0x58fb17[_0x11d782(0x893)](0xc8)[_0x11d782(0x791)](_0x2e9770);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x866)),..._0x53ad88,async(_0x2ecc41,_0x1b49f0)=>{const _0x19d6ef=_0x43f2ba;let _0x67d457=_0x2ecc41['body'];y[_0x19d6ef(0x45c)](_0x19d6ef(0x8bc)),y[_0x19d6ef(0x45c)](_0x19d6ef(0x511)),y['verbose'](_0x2ecc41[_0x19d6ef(0x8e9)]);let _0x1348ee=await this[_0x19d6ef(0x272)]({'request':_0x2ecc41,'schema':N,'ClassRef':M,'execute':_0x3df472=>T[_0x19d6ef(0x207)](_0x3df472,_0x67d457)});_0x1b49f0[_0x19d6ef(0x893)](0xc8)[_0x19d6ef(0x791)](_0x1348ee);})[_0x43f2ba(0x803)](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x4f8)),..._0x53ad88,async(_0x171b6e,_0x549c9e)=>{const _0x341e8f=_0x43f2ba;let _0x31e29e=_0x171b6e[_0x341e8f(0x8e9)];y['verbose'](_0x341e8f(0x69b)),y[_0x341e8f(0x45c)]('request\x20body:\x20'),y[_0x341e8f(0x45c)](_0x171b6e[_0x341e8f(0x8e9)]);let _0x592c54=await this[_0x341e8f(0x272)]({'request':_0x171b6e,'schema':N,'ClassRef':M,'execute':_0x262878=>T[_0x341e8f(0x6a9)](_0x262878,_0x31e29e)});_0x549c9e['status'](0xc8)['json'](_0x592c54);})['delete'](this[_0x43f2ba(0x5a7)](_0x43f2ba(0x3e1)),..._0x53ad88,async(_0xc08ed5,_0x5e00de)=>{const _0x5b67df=_0x43f2ba;let _0x51eb68=_0xc08ed5['body'];y[_0x5b67df(0x45c)](_0x5b67df(0x4dd)),y[_0x5b67df(0x45c)](_0x5b67df(0x511)),y[_0x5b67df(0x45c)](_0xc08ed5[_0x5b67df(0x8e9)]);let _0x2f0ae8=await this[_0x5b67df(0x272)]({'request':_0xc08ed5,'schema':N,'ClassRef':M,'execute':_0x595384=>T[_0x5b67df(0x4b6)](_0x595384,_0x51eb68)});_0x5e00de[_0x5b67df(0x893)](0xc8)[_0x5b67df(0x791)](_0x2f0ae8);})[_0x43f2ba(0x67e)](this[_0x43f2ba(0x5a7)]('allflows'),..._0x53ad88,async(_0xf116f6,_0x2b08da)=>{const _0x2a1024=_0x43f2ba;y[_0x2a1024(0x45c)]('request\x20received\x20in\x20allFlows');let _0x4a39ea=await this[_0x2a1024(0x272)]({'request':_0xf116f6,'schema':N,'ClassRef':M,'execute':_0x10f959=>T[_0x2a1024(0x680)](_0x10f959)});_0x2b08da['status'](0xc8)[_0x2a1024(0x791)](_0x4a39ea);});}},vi=A(require(a0_0x31011a(0x7c5))),se={};function Mi(_0x3e2585,_0x5b3ee3,_0x53cda2,_0x4adeab){se[_0x3e2585]||(se[_0x3e2585]={}),se[_0x3e2585][_0x5b3ee3]={'id':_0x5b3ee3,'response':_0x53cda2,'events':_0x4adeab};}function Ci(_0x51fe83,_0x4d8346){!se[_0x51fe83]||!se[_0x51fe83][_0x4d8346]||delete se[_0x51fe83][_0x4d8346];}function j(_0x1056e5,_0x3382d7,_0x294306){const _0x2f4b09=a0_0x31011a;if(!se[_0x1056e5])return;let _0x291832='data:\x20'+JSON['stringify'](_0x294306)+'\x0a\x0a';Object['values'](se[_0x1056e5])[_0x2f4b09(0x201)](_0x3bf5bb=>{const _0x2cda37=_0x2f4b09;_0x3bf5bb[_0x2cda37(0x5f9)][_0x2cda37(0x397)](_0x3382d7)&&_0x3bf5bb[_0x2cda37(0x3c4)][_0x2cda37(0x30c)](_0x291832);});}function Ei(){const _0xf2f88d=a0_0x31011a;let _0x5dd713={};for(let _0x1e2a18 in se)_0x5dd713[_0x1e2a18]=Object['values'](se[_0x1e2a18])[_0xf2f88d(0x74c)](_0xa3f158=>({'id':_0xa3f158['id'],'events':_0xa3f158[_0xf2f88d(0x5f9)]}));return _0x5dd713;}var Ni=require(a0_0x31011a(0x779)),_s=require(a0_0x31011a(0x41c)),Os=class{},_o=new _s[(a0_0x31011a(0x29d))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),xo=new _s[(a0_0x31011a(0x29d))]({'_id':{'type':String,'default':a0_0x31011a(0x437)},'WebhookGlobal':{'type':_o},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.[a0_0x31011a(0x508)](Os[a0_0x31011a(0x3a4)],xo,a0_0x31011a(0x6a5)),Do=vi[a0_0x31011a(0x20b)]['join'](__dirname,a0_0x31011a(0x628)),ke=(0x0,Pt[a0_0x31011a(0x81e)])(),Po=b['get']('AUTHENTICATION')[a0_0x31011a(0x212)],re=[Ta,Oa,Da[Po]];ke[a0_0x31011a(0x79a)](a0_0x31011a(0x54d),Pt[a0_0x31011a(0x20b)]['static'](Do))['get'](a0_0x31011a(0x8a1),async(_0x5f1b28,_0x26f3a8)=>{const _0x56dcca=a0_0x31011a;console['log'](_0x56dcca(0x2bc));let _0x304050=_0x5f1b28['params'][_0x56dcca(0x5ef)],_0x4f07da=(_0x5f1b28[_0x56dcca(0x7f0)][_0x56dcca(0x5f9)]||'')[_0x56dcca(0x912)](','),_0x122c12=(0x0,Ni['v4'])();console[_0x56dcca(0x200)](_0x56dcca(0x4ad),_0x304050),console[_0x56dcca(0x200)](_0x56dcca(0x29e),_0x4f07da);let _0x1b80da=b[_0x56dcca(0x67e)](_0x56dcca(0x3b9))[_0x56dcca(0x428)],_0x470a42=_0x5f1b28[_0x56dcca(0x7f0)][_0x56dcca(0x698)];if(console[_0x56dcca(0x200)](_0x56dcca(0x8c1),_0x470a42),_0x1b80da[_0x56dcca(0x208)]!==_0x470a42){console['log']('env.KEY\x20!==\x20key');try{let _0x297e0e=await we[_0x56dcca(0x6e5)][_0x56dcca(0x90d)](_0x304050);if(console[_0x56dcca(0x200)](_0x56dcca(0x4c4),_0x297e0e),!_0x297e0e||_0x297e0e[_0x56dcca(0x698)]!==_0x470a42)return console[_0x56dcca(0x200)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x26f3a8['status'](0x191)['send'](_0x56dcca(0x789));}catch(_0x539bf2){return console[_0x56dcca(0x4e4)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x539bf2),_0x26f3a8[_0x56dcca(0x893)](0x191)[_0x56dcca(0x27e)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Oe(_0x304050))return _0x26f3a8[_0x56dcca(0x893)](0x194)[_0x56dcca(0x27e)](_0x56dcca(0x92f));_0x26f3a8[_0x56dcca(0x1f9)](_0x56dcca(0x801),_0x56dcca(0x735)),_0x26f3a8[_0x56dcca(0x1f9)](_0x56dcca(0x71c),_0x56dcca(0x425)),_0x26f3a8[_0x56dcca(0x1f9)](_0x56dcca(0x767),_0x56dcca(0x5fd)),_0x26f3a8[_0x56dcca(0x440)]();let _0x2aa7e9=_0x56dcca(0x6ed)+JSON[_0x56dcca(0x720)]({'info':_0x56dcca(0x5b7)})+'\x0a\x0a';_0x26f3a8[_0x56dcca(0x30c)](_0x2aa7e9),Mi(_0x304050,_0x122c12,_0x26f3a8,_0x4f07da),_0x5f1b28['on']('close',()=>{const _0x5b3bb4=_0x56dcca;console[_0x5b3bb4(0x200)](_0x5b3bb4(0x879)+_0x304050),Ci(_0x304050,_0x122c12);});}),ke[a0_0x31011a(0x803)](a0_0x31011a(0x7ec),async(_0x182387,_0x1862ad)=>{const _0x47758f=a0_0x31011a;console[_0x47758f(0x200)](_0x47758f(0x8c6));let _0x50585c=_0x182387[_0x47758f(0x66b)][_0x47758f(0x5ef)],_0x17971d=_0x182387['params'][_0x47758f(0x3ef)],_0x6b8d29=_0x182387[_0x47758f(0x7f0)][_0x47758f(0x651)]||'',_0x360b1a=_0x182387[_0x47758f(0x8e9)];console[_0x47758f(0x200)](_0x47758f(0x4fd),_0x50585c),console[_0x47758f(0x200)](_0x47758f(0x6a4),_0x17971d),console[_0x47758f(0x200)](_0x47758f(0x839),_0x6b8d29),console[_0x47758f(0x200)](_0x47758f(0x6e9),_0x360b1a);try{if(!await Oe(_0x50585c))return _0x1862ad[_0x47758f(0x893)](0x194)[_0x47758f(0x27e)](_0x47758f(0x92f));let _0x373a64=await T[_0x47758f(0x837)](_0x50585c,_0x17971d,_0x6b8d29,_0x360b1a);_0x1862ad['send'](_0x373a64);}catch(_0x3f66e7){console[_0x47758f(0x4e4)](_0x3f66e7),_0x1862ad[_0x47758f(0x893)](0x1f4)[_0x47758f(0x27e)](_0x47758f(0x6b9));}}),ke[a0_0x31011a(0x67e)]('/clients-info',(_0x547a90,_0x2c0b0e)=>{const _0x323139=a0_0x31011a;let _0x2565e4=Ei();_0x2c0b0e[_0x323139(0x791)](_0x2565e4);})[a0_0x31011a(0x67e)]('/',(_0x11f233,_0x2af18f)=>{const _0x59af16=a0_0x31011a;let _0x291eae=b[_0x59af16(0x67e)](_0x59af16(0x333))[_0x59af16(0x3a2)];if(_0x291eae){let _0x16ebdf=encodeURIComponent(''+_0x291eae);_0x2af18f[_0x59af16(0x2c1)](_0x59af16(0x6c9)+_0x16ebdf);return;}let _0x7fe743=b['get'](_0x59af16(0x93d)),_0x19b769=_0x7fe743&&_0x7fe743[_0x59af16(0x232)]['split']('/')[0x4];if(_0x19b769){let _0x565714=encodeURIComponent(_0x59af16(0x561)+_0x19b769);_0x2af18f['redirect'](_0x59af16(0x6c9)+_0x565714);}else _0x2af18f[_0x59af16(0x2c1)](_0x59af16(0x500));})[a0_0x31011a(0x3f6)](a0_0x31011a(0x8db),...re,async(_0x67d6bb,_0x518c9e)=>{const _0x20da7b=a0_0x31011a;try{console[_0x20da7b(0x200)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x518c9e['status'](0xc8)[_0x20da7b(0x791)]({'message':_0x20da7b(0x3b5)}),_0x518c9e['on'](_0x20da7b(0x2a3),()=>process[_0x20da7b(0x1f6)](0x0));}catch(_0x5640a5){console[_0x20da7b(0x4e4)](_0x20da7b(0x44c),_0x5640a5),_0x518c9e[_0x20da7b(0x893)](0x1f4)[_0x20da7b(0x791)]({'message':_0x20da7b(0x282)});}})['put']('/config',...re,async(_0x24e7c8,_0x98f371)=>{const _0x36b7e0=a0_0x31011a;try{let _0xf73657=_0x24e7c8[_0x36b7e0(0x8e9)];await Ee[_0x36b7e0(0x449)]({},{'$set':_0xf73657},{'upsert':!0x0});let _0xfad5af=await Ee[_0x36b7e0(0x917)]();_0x98f371[_0x36b7e0(0x791)](_0xfad5af);}catch(_0x59d049){_0x98f371[_0x36b7e0(0x893)](0x190)[_0x36b7e0(0x27e)](_0x59d049[_0x36b7e0(0x852)]);}})[a0_0x31011a(0x67e)](a0_0x31011a(0x2c9),...re,async(_0x201462,_0x3ad9d3)=>{const _0x1c5ea9=a0_0x31011a;try{let _0x384cf0=await Ee[_0x1c5ea9(0x917)]();if(!_0x384cf0)return _0x3ad9d3[_0x1c5ea9(0x791)]({});_0x3ad9d3[_0x1c5ea9(0x791)](_0x384cf0);}catch(_0x3df831){_0x3ad9d3[_0x1c5ea9(0x893)](0x1f4)[_0x1c5ea9(0x27e)](_0x3df831['message']);}})[a0_0x31011a(0x79a)](a0_0x31011a(0x526),new St(b,...re)['router'])[a0_0x31011a(0x79a)](a0_0x31011a(0x1e5),new Ot(...re)[a0_0x31011a(0x613)])[a0_0x31011a(0x79a)](a0_0x31011a(0x62b),new ut(...re)['router'])[a0_0x31011a(0x79a)]('/group',new bt(...re)[a0_0x31011a(0x613)])['use']('/webhook',new xt(...re)[a0_0x31011a(0x613)])[a0_0x31011a(0x79a)](a0_0x31011a(0x7c2),new Dt(...re)[a0_0x31011a(0x613)]);var m=class{constructor(..._0x462670){const _0x287082=a0_0x31011a;throw{'status':0x190,'error':_0x287082(0x690),'message':_0x462670[_0x287082(0x6f0)]>0x0?_0x462670:void 0x0};}},oe=class{constructor(..._0x138283){const _0x1d6e2e=a0_0x31011a;throw{'status':0x191,'error':_0x1d6e2e(0x21f),'message':_0x138283[_0x1d6e2e(0x6f0)]>0x0?_0x138283:void 0x0};}},Z=class{constructor(..._0x7e70b){const _0x4cf844=a0_0x31011a;throw{'status':0x193,'error':_0x4cf844(0x470),'message':_0x7e70b['length']>0x0?_0x7e70b:void 0x0};}},J=class{constructor(..._0x446d43){const _0x2e352e=a0_0x31011a;throw{'status':0x194,'error':_0x2e352e(0x432),'message':_0x446d43['length']>0x0?_0x446d43:void 0x0};}},x=class{constructor(..._0x5765b3){const _0x50ebf3=a0_0x31011a;throw{'status':0x1f4,'error':_0x50ebf3(0x535),'message':_0x5765b3[_0x50ebf3(0x6f0)]>0x0?_0x5765b3:void 0x0};}},ye=require('@whiskeysockets/baileys');async function xs(_0x151936){const _0x8bd131=a0_0x31011a;let _0x5c7747=new $(xs[_0x8bd131(0x3a4)]),_0x39bc24=R['getClient'](),_0x62c9b2=_0x39bc24['db'](b['get'](_0x8bd131(0x578))['CONNECTION'][_0x8bd131(0x7e4)]+'-instances')[_0x8bd131(0x484)](_0x151936),_0x2d2bb1=async(_0x1493c8,_0x3673a8)=>{const _0x5174e2=_0x8bd131;try{return await _0x39bc24['connect'](),await _0x62c9b2['replaceOne']({'_id':_0x3673a8},JSON['parse'](JSON['stringify'](_0x1493c8,ye[_0x5174e2(0x765)][_0x5174e2(0x909)])),{'upsert':!0x0});}catch{}},_0x1cc598=async _0xc9c70a=>{const _0x5cfcd8=_0x8bd131;try{await _0x39bc24[_0x5cfcd8(0x3c8)]();let _0x8db3d5=await _0x62c9b2[_0x5cfcd8(0x917)]({'_id':_0xc9c70a}),_0x5ee1c6=JSON[_0x5cfcd8(0x720)](_0x8db3d5);return JSON['parse'](_0x5ee1c6,ye[_0x5cfcd8(0x765)][_0x5cfcd8(0x6d0)]);}catch{}},_0x7fe7ea=async _0x4be3d7=>{const _0x2a376d=_0x8bd131;try{return await _0x39bc24[_0x2a376d(0x3c8)](),await _0x62c9b2['deleteOne']({'_id':_0x4be3d7});}catch{}},_0x3bc019=await _0x1cc598(_0x8bd131(0x2ae))||(0x0,ye[_0x8bd131(0x760)])();return{'state':{'creds':_0x3bc019,'keys':{'get':async(_0x6e2135,_0x522694)=>{const _0x2fe0d8=_0x8bd131;let _0x87182a={};return await Promise[_0x2fe0d8(0x6da)](_0x522694[_0x2fe0d8(0x74c)](async _0x3bccfa=>{const _0x2d99ce=_0x2fe0d8;let _0x384f4d=await _0x1cc598(_0x6e2135+'-'+_0x3bccfa);_0x6e2135==='app-state-sync-key'&&_0x384f4d&&(_0x384f4d=ye[_0x2d99ce(0x93f)][_0x2d99ce(0x70f)][_0x2d99ce(0x7eb)]['fromObject'](_0x384f4d)),_0x87182a[_0x3bccfa]=_0x384f4d;})),_0x87182a;},'set':async _0x4d9b7d=>{const _0x3425df=_0x8bd131;let _0x2b8a6f=[];for(let _0x5707f1 in _0x4d9b7d)for(let _0x5ba810 in _0x4d9b7d[_0x5707f1]){let _0x296357=_0x4d9b7d[_0x5707f1][_0x5ba810],_0x1cbbd1=_0x5707f1+'-'+_0x5ba810;_0x2b8a6f[_0x3425df(0x3ec)](_0x296357?_0x2d2bb1(_0x296357,_0x1cbbd1):_0x7fe7ea(_0x1cbbd1));}await Promise['all'](_0x2b8a6f);}}},'saveCreds':async()=>_0x2d2bb1(_0x3bc019,'creds')};}var Fs=A(require(a0_0x31011a(0x4e3))),Us=A(require(a0_0x31011a(0x4aa))),Ft=require(a0_0x31011a(0x8d7)),$i=require(a0_0x31011a(0x1eb)),Lt=require(a0_0x31011a(0x8d7)),kt;function ko(_0x2fbeab){const _0x2d04a2=a0_0x31011a;return kt||(kt=(0x0,$i[_0x2d04a2(0x50d)])({'url':_0x2fbeab[_0x2d04a2(0x233)]}),kt['connect']()),kt;}var pe=class l{constructor(_0x3767e7,_0x16e21a){const _0x4eeebb=a0_0x31011a;this[_0x4eeebb(0x4b2)]=_0x3767e7,this[_0x4eeebb(0x5c4)]=_0x16e21a,this[_0x4eeebb(0x843)]=new $(l[_0x4eeebb(0x3a4)]),this[_0x4eeebb(0x286)]=ko(_0x3767e7);}set[a0_0x31011a(0x75c)](_0x393671){this['instanceName']=_0x393671;}async[a0_0x31011a(0x7e8)](){const _0x2c4589=a0_0x31011a;try{return await this[_0x2c4589(0x286)]['sendCommand']([_0x2c4589(0x31f),this[_0x2c4589(0x4b2)][_0x2c4589(0x3ff)]+':*']);}catch(_0x763ce3){this[_0x2c4589(0x843)]['error'](_0x763ce3);}}async['writeData'](_0x51b64c,_0x3e5650){const _0x172e02=a0_0x31011a;try{let _0x590ed5=JSON[_0x172e02(0x720)](_0x3e5650,Lt['BufferJSON'][_0x172e02(0x909)]);return await this[_0x172e02(0x286)][_0x172e02(0x5a2)](this[_0x172e02(0x4b2)][_0x172e02(0x3ff)]+':'+this[_0x172e02(0x5c4)],_0x51b64c,_0x590ed5);}catch(_0x264466){this[_0x172e02(0x843)][_0x172e02(0x4e4)](_0x264466);}}async[a0_0x31011a(0x848)](){const _0x5d12db=a0_0x31011a;try{let _0x69aa90=await this[_0x5d12db(0x286)][_0x5d12db(0x66f)](this[_0x5d12db(0x4b2)]['PREFIX_KEY']+':'+this[_0x5d12db(0x5c4)]);if(_0x69aa90){for(let _0x4b41e2 in _0x69aa90)Object[_0x5d12db(0x563)][_0x5d12db(0x42a)][_0x5d12db(0x501)](_0x69aa90,_0x4b41e2)&&(_0x69aa90[_0x4b41e2]=JSON[_0x5d12db(0x25b)](_0x69aa90[_0x4b41e2],Lt['BufferJSON'][_0x5d12db(0x6d0)]));return _0x69aa90;}}catch(_0xb95b2d){this[_0x5d12db(0x843)][_0x5d12db(0x4e4)](_0xb95b2d);}}async[a0_0x31011a(0x205)](_0x225e80){const _0x1c346d=a0_0x31011a;try{let _0x4e16e6=await this[_0x1c346d(0x286)][_0x1c346d(0x21b)](this[_0x1c346d(0x4b2)][_0x1c346d(0x3ff)]+':'+this[_0x1c346d(0x5c4)],_0x225e80);if(_0x4e16e6)return JSON[_0x1c346d(0x25b)](_0x4e16e6,Lt[_0x1c346d(0x765)][_0x1c346d(0x6d0)]);}catch(_0x296986){this['logger'][_0x1c346d(0x4e4)](_0x296986);}}async[a0_0x31011a(0x7a3)](_0x5d33ac){const _0x590ea3=a0_0x31011a;try{return await this['client'][_0x590ea3(0x758)](this[_0x590ea3(0x4b2)][_0x590ea3(0x3ff)]+':'+this[_0x590ea3(0x5c4)],_0x5d33ac);}catch(_0x1bbc82){this['logger'][_0x590ea3(0x4e4)](_0x1bbc82);}}async[a0_0x31011a(0x886)](_0x2eb716){const _0x2eace9=a0_0x31011a;try{return await this[_0x2eace9(0x286)][_0x2eace9(0x840)](_0x2eb716||this[_0x2eace9(0x4b2)][_0x2eace9(0x3ff)]+':'+this[_0x2eace9(0x5c4)]);}catch(_0x44340f){this[_0x2eace9(0x843)][_0x2eace9(0x4e4)](_0x44340f);}}};async function Ds(_0x45874b,_0x36efe1){const _0x517182=a0_0x31011a;let _0x2f870c=new $(Ds['name']),_0x14ece9=new pe(_0x45874b,_0x36efe1),_0x4058ff=async(_0xe166d2,_0x5f51d8)=>{const _0x49f901=a0_0x2776;try{return await _0x14ece9[_0x49f901(0x529)](_0x5f51d8,_0xe166d2);}catch(_0x4163ee){return _0x2f870c[_0x49f901(0x4e4)]({'localError':_0x49f901(0x529),'error':_0x4163ee});}},_0x43c277=async _0x34c756=>{const _0x112136=a0_0x2776;try{return await _0x14ece9[_0x112136(0x205)](_0x34c756);}catch(_0x9bf53){_0x2f870c['error']({'readData':_0x112136(0x529),'error':_0x9bf53});return;}},_0x5612b5=async _0x1d59c9=>{const _0x5eaedb=a0_0x2776;try{return await _0x14ece9['removeData'](_0x1d59c9);}catch(_0x27d04f){_0x2f870c[_0x5eaedb(0x4e4)]({'readData':'removeData','error':_0x27d04f});}},_0x812b9a=await _0x43c277(_0x517182(0x2ae))||(0x0,Ft[_0x517182(0x760)])();return{'state':{'creds':_0x812b9a,'keys':{'get':async(_0x54cfbb,_0x1fc922)=>{const _0x484a17=_0x517182;let _0x2a400c={};return await Promise['all'](_0x1fc922[_0x484a17(0x74c)](async _0x11b0ce=>{const _0x3228fc=_0x484a17;let _0x268afe=await _0x43c277(_0x54cfbb+'-'+_0x11b0ce);_0x54cfbb==='app-state-sync-key'&&_0x268afe&&(_0x268afe=Ft[_0x3228fc(0x93f)]['Message']['AppStateSyncKeyData'][_0x3228fc(0x76e)](_0x268afe)),_0x2a400c[_0x11b0ce]=_0x268afe;})),_0x2a400c;},'set':async _0x8adddb=>{const _0x529b0a=_0x517182;let _0x329348=[];for(let _0x4b5ad0 in _0x8adddb)for(let _0x543af4 in _0x8adddb[_0x4b5ad0]){let _0x57c943=_0x8adddb[_0x4b5ad0][_0x543af4],_0x39e794=_0x4b5ad0+'-'+_0x543af4;_0x329348['push'](_0x57c943?await _0x4058ff(_0x57c943,_0x39e794):await _0x5612b5(_0x39e794));}await Promise[_0x529b0a(0x6da)](_0x329348);}}},'saveCreds':async()=>await _0x4058ff(_0x812b9a,_0x517182(0x2ae))};}var L=A(require('fs')),Y=require(a0_0x31011a(0x779)),qt=A(require(a0_0x31011a(0x579))),Vt=require('crypto'),Ri=require(a0_0x31011a(0x64f)),Ai=require(a0_0x31011a(0x80a)),Ii=A(require(a0_0x31011a(0x65f))),ve=class extends _{constructor(_0xf4a030,_0x2f7464,_0x57d90f){const _0x3c4e1a=a0_0x31011a;super(_0x2f7464),this[_0x3c4e1a(0x5de)]=_0xf4a030,this[_0x3c4e1a(0x58e)]=_0x2f7464,this[_0x3c4e1a(0x87c)]=_0x57d90f;}async[a0_0x31011a(0x808)](_0x35f909,_0x35f77f){const _0x41d4f1=a0_0x31011a;try{if(this['dbSettings'][_0x41d4f1(0x844)]){console[_0x41d4f1(0x200)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x35f77f+_0x41d4f1(0x46f),_0x35f909);let _0x4f3c1b=await this[_0x41d4f1(0x5de)][_0x41d4f1(0x677)]({'_id':_0x35f77f},{'$set':_0x35f909},{'new':!0x0,'upsert':!0x0});return console[_0x41d4f1(0x200)](_0x41d4f1(0x66e),_0x4f3c1b),_0x4f3c1b;}}catch(_0x17cec1){throw console[_0x41d4f1(0x4e4)](_0x41d4f1(0x539),_0x17cec1),_0x17cec1;}return null;}async['deleteOne'](_0x3c856a){const _0x5a2840=a0_0x31011a;try{let _0x1481c1=I(_0x3c856a[_0x5a2840(0x750)]);return{'deletedCount':(await this[_0x5a2840(0x5de)]['deleteOne'](_0x1481c1))[_0x5a2840(0x23a)]};}catch(_0x4665da){return{'error':_0x4665da?.['toString']()};}}async[a0_0x31011a(0x917)](_0x18dc49){const _0x2a5236=a0_0x31011a;try{let _0x1c1bd4=I(_0x18dc49[_0x2a5236(0x750)]);return await this[_0x2a5236(0x5de)]['findOne'](_0x1c1bd4)[_0x2a5236(0x4cd)]();}catch{return null;}}},Ut=(0x0,Ai[a0_0x31011a(0x707)])(Ri['exec']),Lo=b['get'](a0_0x31011a(0x57e)),Ps=class{constructor(){const _0x2e0d83=a0_0x31011a;this[_0x2e0d83(0x23c)]=new ve(ze,b),(!this[_0x2e0d83(0x89a)]||!this[_0x2e0d83(0x6ab)])&&Lo&&this['detectIPv6PrefixAndInterface']()['then'](()=>{const _0x5b7988=_0x2e0d83;console['log'](_0x5b7988(0x591)+this[_0x5b7988(0x89a)]),console[_0x5b7988(0x200)]('Network\x20Interface\x20detected:\x20'+this[_0x5b7988(0x6ab)]);})[_0x2e0d83(0x8d9)](_0x42617a=>{const _0x1d9969=_0x2e0d83;console[_0x1d9969(0x4e4)](_0x1d9969(0x68b)+_0x42617a[_0x1d9969(0x852)]);});}async[a0_0x31011a(0x8c8)](){const _0x2a2371=a0_0x31011a;try{let {stdout:_0x1966f3}=await Ut(_0x2a2371(0x818));console[_0x2a2371(0x200)](_0x2a2371(0x4fc)+_0x1966f3);let _0x16ad37=_0x1966f3[_0x2a2371(0x912)]('\x0a')[_0x2a2371(0x74c)](_0x5d7b80=>_0x5d7b80[_0x2a2371(0x912)]('\x20')[0x0])[_0x2a2371(0x497)](_0x4e79c9=>!_0x4e79c9[_0x2a2371(0x397)]('lo')&&!_0x4e79c9[_0x2a2371(0x397)](_0x2a2371(0x53f))&&!_0x4e79c9[_0x2a2371(0x397)](_0x2a2371(0x7b2))&&!_0x4e79c9[_0x2a2371(0x397)]('wl')&&!_0x4e79c9['includes']('@'));if(console[_0x2a2371(0x200)](_0x2a2371(0x7f7)+_0x16ad37),_0x16ad37[_0x2a2371(0x6f0)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x2a2371(0x6ab)]=_0x16ad37[0x0];let {stdout:_0x3dd884}=await Ut(_0x2a2371(0x4ae)+this[_0x2a2371(0x6ab)]);console[_0x2a2371(0x200)](_0x2a2371(0x3a5)+_0x3dd884);let _0x3b22f5=_0x3dd884[_0x2a2371(0x912)]('\x0a')['find'](_0x2a7d2f=>_0x2a7d2f[_0x2a2371(0x397)](_0x2a2371(0x2d1))&&_0x2a7d2f[_0x2a2371(0x397)](_0x2a2371(0x6e6)));if(!_0x3b22f5)throw new Error(_0x2a2371(0x7e1));let _0x590f52=_0x3b22f5[_0x2a2371(0x26b)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x590f52)throw new Error(_0x2a2371(0x570));let [_0x2f7413,_0x42f20e,_0xb61565]=_0x590f52,_0x582e00=Math['floor'](Number(_0xb61565)/0x10),_0x306374=Number(_0xb61565)%0x10,_0x44a889=_0x42f20e['split'](':')[_0x2a2371(0x22a)](0x0,_0x582e00)['join'](':');if(_0x306374>0x0){let _0x4febc7=_0x42f20e[_0x2a2371(0x912)](':')[_0x582e00],_0xbc3020=0xffff<<0x10-_0x306374&0xffff,_0x54fe0c=(parseInt(_0x4febc7,0x10)&_0xbc3020)[_0x2a2371(0x45e)](0x10)[_0x2a2371(0x202)](0x4,'0');_0x44a889+=':'+_0x54fe0c;}this[_0x2a2371(0x89a)]=_0x44a889+':';}catch(_0x2bfb9f){console[_0x2a2371(0x4e4)](_0x2a2371(0x316),_0x2bfb9f);}}async['configureIPv6'](_0x5865e1){const _0xbfbe8a=a0_0x31011a;let _0x54730f='ip\x20-6\x20addr\x20add\x20'+_0x5865e1+_0xbfbe8a(0x2dd)+this['networkInterface'];try{await Ut(_0x54730f),console['log']('IPv6\x20address\x20configured:\x20'+_0x5865e1);}catch(_0x120f5b){throw console['error'](_0xbfbe8a(0x5a4)+_0x120f5b),new Error('Error\x20adding\x20IPv6\x20address:\x20'+_0x120f5b);}}async['removeIPv6'](_0x1a06b3){const _0x5f4718=a0_0x31011a;let _0x32a431='ip\x20-6\x20addr\x20del\x20'+_0x1a06b3+'/64\x20dev\x20'+this[_0x5f4718(0x6ab)];try{await Ut(_0x32a431),console[_0x5f4718(0x200)](_0x5f4718(0x82c)+_0x1a06b3);}catch(_0x24bb6c){throw console[_0x5f4718(0x4e4)](_0x5f4718(0x6ae)+_0x24bb6c),new Error(_0x5f4718(0x6ae)+_0x24bb6c);}}[a0_0x31011a(0x463)](){const _0x21f5ab=a0_0x31011a;return _0x21f5ab(0x713)[_0x21f5ab(0x929)](/X/g,()=>_0x21f5ab(0x4ac)[_0x21f5ab(0x944)](Math[_0x21f5ab(0x7e2)](Math[_0x21f5ab(0x699)]()*0x10)));}[a0_0x31011a(0x422)](_0x5ae978,_0x2887b8){const _0xb420c2=a0_0x31011a;let _0xe40ed9=_0x2887b8[_0xb420c2(0x912)](':');return _0xe40ed9[0x0]=(parseInt(_0xe40ed9[0x0],0x10)^0x2)[_0xb420c2(0x45e)](0x10)[_0xb420c2(0x202)](0x2,'0'),''+_0x5ae978+_0xe40ed9[0x0]+_0xe40ed9[0x1]+':'+_0xe40ed9[0x2]+'ff:fe'+_0xe40ed9[0x3]+':'+_0xe40ed9[0x4]+_0xe40ed9[0x5];}[a0_0x31011a(0x721)](){const _0x4baf8a=a0_0x31011a;let _0x3fc5b1=this[_0x4baf8a(0x89a)];_0x3fc5b1[_0x4baf8a(0x901)](':')||(_0x3fc5b1+=':');let _0x5e983e=this[_0x4baf8a(0x463)]();return this[_0x4baf8a(0x422)](_0x3fc5b1,_0x5e983e);}[a0_0x31011a(0x908)](_0x4c4c23){return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')['test'](_0x4c4c23);}async[a0_0x31011a(0x949)](_0x405b5d){const _0x5bbb1e=a0_0x31011a;let _0x95c2f5=[{'url':'https://ipv6.jsonip.com','parse':_0x153276=>_0x153276['ip']},{'url':_0x5bbb1e(0x942),'parse':_0x4ae513=>_0x4ae513['ip']},{'url':_0x5bbb1e(0x722),'parse':_0xf7ebae=>_0xf7ebae[_0x5bbb1e(0x44d)]()},{'url':'https://v6.ident.me','parse':_0x4657c9=>_0x4657c9['trim']()}],_0x5bf735=_0x95c2f5[Math[_0x5bbb1e(0x7e2)](Math[_0x5bbb1e(0x699)]()*_0x95c2f5[_0x5bbb1e(0x6f0)])];try{let _0x2bc45b=await Ii[_0x5bbb1e(0x20b)]['get'](_0x5bf735[_0x5bbb1e(0x5a6)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x405b5d}}),_0x4bdf59=_0x5bf735['parse'](_0x2bc45b[_0x5bbb1e(0x3fa)]);return _0x4bdf59[_0x5bbb1e(0x240)]()===_0x405b5d[_0x5bbb1e(0x240)]()?(console[_0x5bbb1e(0x200)](_0x5bbb1e(0x872)+_0x405b5d),!0x0):(console[_0x5bbb1e(0x4e4)](_0x5bbb1e(0x4f9)+_0x405b5d+',\x20received\x20'+_0x4bdf59),!0x1);}catch(_0x38a56d){return console[_0x5bbb1e(0x4e4)]('Error\x20testing\x20IP\x20with\x20'+_0x5bf735[_0x5bbb1e(0x5a6)]+':\x20'+_0x38a56d[_0x5bbb1e(0x852)]),!0x1;}}async['createIPv6'](_0x454d9d,_0x3e4c89){const _0x175e41=a0_0x31011a;if(!this[_0x175e41(0x89a)]||!this[_0x175e41(0x6ab)])return console[_0x175e41(0x4e4)](_0x175e41(0x5bd)),null;let _0x996e33;do _0x996e33=this[_0x175e41(0x721)](),console['log'](_0x175e41(0x5bb)+_0x996e33);while(!await this[_0x175e41(0x849)](_0x996e33));await this[_0x175e41(0x281)](_0x996e33),console[_0x175e41(0x200)](_0x175e41(0x8a0)+_0x996e33);let _0x2ec43f={'_id':_0x454d9d+'-'+_0x3e4c89,'ip':_0x996e33},_0x3eeee3=await this[_0x175e41(0x23c)]['createOrUpdate'](_0x2ec43f,_0x2ec43f['_id']);return console[_0x175e41(0x200)](_0x175e41(0x3b2)+_0x3eeee3),_0x996e33;}async[a0_0x31011a(0x849)](_0x1f7ac3){const _0x4412d0=a0_0x31011a;return this[_0x4412d0(0x908)](_0x1f7ac3)?!await this[_0x4412d0(0x23c)]['findOne']({'where':{'ip':_0x1f7ac3}}):!0x1;}async[a0_0x31011a(0x71d)](_0x562b82,_0x26f3c4){const _0x51e32b=a0_0x31011a;let _0x18b3ae=_0x562b82+'-'+_0x26f3c4,_0x1e54c8=await this[_0x51e32b(0x23c)][_0x51e32b(0x917)]({'where':{'_id':_0x18b3ae}});_0x1e54c8&&_0x1e54c8['ip']&&(await this[_0x51e32b(0x617)](_0x1e54c8['ip']),await this[_0x51e32b(0x23c)][_0x51e32b(0x584)]({'where':{'_id':_0x18b3ae}}));}},Fo=new Ps(),he=Fo,js='Safari',ki,ge=null,Pa=null,Uo=0x3,jo=null,Ti=b[a0_0x31011a(0x67e)](a0_0x31011a(0x3b9))[a0_0x31011a(0x428)][a0_0x31011a(0x208)],Oi=b['get']('PROXY');async function Jo(){const _0xad3367=a0_0x31011a;let _0x33c163=await Ee['findOne']();ge=_0x33c163?.[_0xad3367(0x700)]??null,jo=_0x33c163?.[_0xad3367(0x7db)]??null,js=_0x33c163?.[_0xad3367(0x2a6)]??_0xad3367(0x8de),ki=_0x33c163?.[_0xad3367(0x448)]??X??_0xad3367(0x558);}async function qo(){await Jo();}qo();var jt={},Ne=class l{constructor(_0x3aaf15,_0x2a3047,_0x5c2cd4){const _0x8444d4=a0_0x31011a;this[_0x8444d4(0x58e)]=_0x3aaf15,this[_0x8444d4(0x36a)]=_0x2a3047,this[_0x8444d4(0x3c6)]=_0x5c2cd4,this[_0x8444d4(0x74b)]=null,this['logger']=new $(l[_0x8444d4(0x3a4)]),this[_0x8444d4(0x5ef)]={},this['localWebhook']={},this['stateConnection']={'state':_0x8444d4(0x1f7)},this[_0x8444d4(0x426)]=(0x0,U[_0x8444d4(0x57d)])(ce,_0x8444d4(0x628)),this[_0x8444d4(0x8ae)]=new Us[(_0x8444d4(0x20b))](),this['userDevicesCache']=new Us[(_0x8444d4(0x20b))](),this[_0x8444d4(0x5ae)]=!0x1,this[_0x8444d4(0x8c5)]={'status.instance':'/wa-connection-update','connection.update':_0x8444d4(0x2cd),'qrcode.updated':_0x8444d4(0x79b),'messages.upsert':_0x8444d4(0x78a),'send.message':_0x8444d4(0x78a),'messages.update':_0x8444d4(0x6ef),'group.upsert':_0x8444d4(0x618),'group.update':_0x8444d4(0x618),'group-participants.update':_0x8444d4(0x618),'messages.set':_0x8444d4(0x413),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x8444d4(0x936),'presence.update':_0x8444d4(0x69e),'chats.set':_0x8444d4(0x24b),'chats.update':'/wa-chats','chats.upsert':_0x8444d4(0x24b),'chats.delete':_0x8444d4(0x24b)},this['reconnectAttempts']=0x0,this[_0x8444d4(0x5d3)]=[],this[_0x8444d4(0x8a5)]=0xea60,this[_0x8444d4(0x666)]=!0x1,this[_0x8444d4(0x393)]={'chats.upsert':async(_0x16e9e1,_0x1e12b4)=>{const _0x34c4ee=_0x8444d4;let _0x99cdbe=[];for await(let _0x295e63 of _0x16e9e1)_0x99cdbe['push']({'_id':_0x295e63['id'],'owner':this[_0x34c4ee(0x5ef)][_0x34c4ee(0x4d2)],'group':_0x295e63['id'][_0x34c4ee(0x901)]('@g.us'),'name':_0x295e63[_0x34c4ee(0x3a4)]||_0x295e63[_0x34c4ee(0x599)]||null,'contactname':null,'lastmsg':_0x295e63[_0x34c4ee(0x23d)]&&_0x295e63[_0x34c4ee(0x23d)][_0x34c4ee(0x45e)]()[_0x34c4ee(0x6f0)]<0xd?_0x295e63[_0x34c4ee(0x23d)]*0x3e8:_0x295e63[_0x34c4ee(0x23d)]||null,'archived':_0x295e63[_0x34c4ee(0x457)]||!0x1,'unreadcount':_0x295e63['unreadCount']||0x0,'ephemeralExpiration':_0x295e63[_0x34c4ee(0x946)]||0x0});this[_0x34c4ee(0x854)]('chats.upsert',_0x99cdbe);},'chats.update':async(_0x431209,_0x441562)=>{const _0x20ba7f=_0x8444d4;for(let _0x42df9a of _0x431209){let _0x507262={'_id':_0x42df9a['id'],'owner':this[_0x20ba7f(0x5ef)]['wuid'],'archived':_0x42df9a[_0x20ba7f(0x457)],'muteEndTime':_0x42df9a['muteEndTime'],'ephemeralExpiration':_0x42df9a[_0x20ba7f(0x946)]},_0x5adc55=!0x1,_0x1c5b4f={};_0x507262[_0x20ba7f(0x457)]!=null&&(this['logger']['verbose'](this[_0x20ba7f(0x5c4)]+'\x20('+this[_0x20ba7f(0x5ef)][_0x20ba7f(0x4d2)]+_0x20ba7f(0x6eb)+_0x42df9a['id']+_0x20ba7f(0x299)+_0x42df9a[_0x20ba7f(0x457)]),_0x5adc55=!0x0,_0x1c5b4f[_0x20ba7f(0x457)]=_0x42df9a['archived']),_0x20ba7f(0x6cd)in _0x42df9a&&(this[_0x20ba7f(0x843)][_0x20ba7f(0x45c)](this[_0x20ba7f(0x5c4)]+'\x20('+this[_0x20ba7f(0x5ef)][_0x20ba7f(0x4d2)]+_0x20ba7f(0x785)+_0x42df9a['id']+_0x20ba7f(0x299)+(_0x42df9a[_0x20ba7f(0x6cd)]??'0')),_0x5adc55=!0x0,_0x1c5b4f['muteEndTime']=_0x42df9a[_0x20ba7f(0x6cd)]??0x0),_0x20ba7f(0x946)in _0x42df9a&&(this[_0x20ba7f(0x843)][_0x20ba7f(0x45c)](this[_0x20ba7f(0x5c4)]+'\x20('+this[_0x20ba7f(0x5ef)][_0x20ba7f(0x4d2)]+_0x20ba7f(0x341)+_0x42df9a['id']+'\x20:\x20'+(_0x42df9a[_0x20ba7f(0x946)]!==void 0x0?_0x42df9a[_0x20ba7f(0x946)]:_0x20ba7f(0x4cc))),_0x1c5b4f['ephemeralExpiration']=_0x42df9a['ephemeralExpiration']===null?0x0:_0x42df9a['ephemeralExpiration'],_0x5adc55=!0x0);let _0xf89d26;_0x5adc55&&(_0xf89d26=await this['repository'][_0x20ba7f(0x3bc)][_0x20ba7f(0x449)]({'where':{'_id':_0x42df9a['id']}},_0x1c5b4f,this[_0x20ba7f(0x5ef)][_0x20ba7f(0x4d2)])),_0xf89d26&&j(this[_0x20ba7f(0x5c4)],_0x20ba7f(0x85a),{'chat':_0xf89d26});}},'chats.delete':async _0x2eb39a=>{const _0x3e35ac=_0x8444d4;for(let _0x17d3fb of _0x2eb39a)if(_0x17d3fb[_0x3e35ac(0x901)](_0x3e35ac(0x263))){await this['repository'][_0x3e35ac(0x3bc)][_0x3e35ac(0x606)]({'where':{'_id':_0x17d3fb}},this['instance'][_0x3e35ac(0x4d2)]);let _0x4edf86={'where':{'key':{'remoteJid':_0x17d3fb}}};await this[_0x3e35ac(0x3c6)][_0x3e35ac(0x852)][_0x3e35ac(0x606)](_0x4edf86,this['instance']['wuid']);}else{await this[_0x3e35ac(0x3c6)][_0x3e35ac(0x3bc)][_0x3e35ac(0x449)]({'where':{'_id':_0x17d3fb}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3e35ac(0x4d2)]);let _0x45ff7e={'where':{'key':{'remoteJid':_0x17d3fb}}};await this[_0x3e35ac(0x3c6)][_0x3e35ac(0x852)][_0x3e35ac(0x606)](_0x45ff7e,this[_0x3e35ac(0x5ef)][_0x3e35ac(0x4d2)]);}this[_0x3e35ac(0x854)]('chats.delete',[..._0x2eb39a]);}},this[_0x8444d4(0x30b)]={'contacts.upsert':async(_0x4bd697,_0x45c740)=>{const _0x5e767b=_0x8444d4;let _0x5d656a=await this[_0x5e767b(0x3c6)][_0x5e767b(0x225)][_0x5e767b(0x90d)]({'where':{}},this['instance'][_0x5e767b(0x4d2)]),_0x1f7333=[];for await(let _0x2c4af4 of _0x4bd697)_0x5d656a['find'](_0x2e46cf=>_0x2e46cf[_0x5e767b(0x22c)]===_0x2c4af4['id'])||_0x1f7333[_0x5e767b(0x3ec)]({'_id':_0x2c4af4['id'],'pushName':_0x2c4af4?.[_0x5e767b(0x3a4)]||_0x2c4af4?.[_0x5e767b(0x73e)],'owner':this[_0x5e767b(0x5ef)][_0x5e767b(0x4d2)]});this[_0x5e767b(0x854)](_0x5e767b(0x1e8),_0x1f7333),await this['repository'][_0x5e767b(0x225)][_0x5e767b(0x46d)](_0x1f7333);},'contacts.update':async(_0x351338,_0x2aa742)=>{const _0x48614a=_0x8444d4;let _0xd5ab20=[];for await(let _0x1d556f of _0x351338)_0xd5ab20[_0x48614a(0x3ec)]({'_id':_0x1d556f['id'],'pushName':_0x1d556f?.[_0x48614a(0x3a4)]??_0x1d556f?.[_0x48614a(0x73e)],'owner':this[_0x48614a(0x5ef)][_0x48614a(0x4d2)]});this['sendDataWebhook'](_0x48614a(0x3f8),_0xd5ab20);}},this['messageHandle']={'messaging-history.set':async({messages:_0x358549,chats:_0x2070ea,isLatest:_0xd89c6f},_0x5328df)=>{const _0x38d15f=_0x8444d4;if(_0xd89c6f){let _0x26e926=await Promise[_0x38d15f(0x6da)](_0x2070ea[_0x38d15f(0x74c)](async _0x1cc81e=>({'_id':_0x1cc81e['id'],'owner':this[_0x38d15f(0x5ef)]['wuid'],'group':_0x1cc81e['id']['endsWith'](_0x38d15f(0x263)),'name':_0x1cc81e[_0x38d15f(0x3a4)]||_0x1cc81e[_0x38d15f(0x599)]||_0x1cc81e[_0x38d15f(0x223)]||null,'contactname':null,'lastmsg':_0x1cc81e[_0x38d15f(0x23d)]&&_0x1cc81e[_0x38d15f(0x23d)][_0x38d15f(0x45e)]()['length']<0xd?_0x1cc81e['conversationTimestamp']*0x3e8:_0x1cc81e[_0x38d15f(0x23d)]||null,'archived':_0x1cc81e['archived']||!0x1,'unreadcount':_0x1cc81e['unreadCount']||0x0,'ephemeralExpiration':_0x1cc81e[_0x38d15f(0x946)]||0x0,'muteEndTime':_0x1cc81e[_0x38d15f(0x6cd)]||0x0})));this[_0x38d15f(0x854)]('chats.set',_0x26e926),await this[_0x38d15f(0x76c)](_0x26e926,_0x5328df);}let _0x59d53f=[],_0xc692f2=Date[_0x38d15f(0x6d9)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5e4df0]of Object['entries'](_0x358549)){if(_0x5e4df0[_0x38d15f(0x852)]?.[_0x38d15f(0x92e)]||_0x5e4df0[_0x38d15f(0x852)]?.['senderKeyDistributionMessage']||!_0x5e4df0[_0x38d15f(0x852)]||_0x5e4df0[_0x38d15f(0x683)][_0x38d15f(0x651)]===_0x38d15f(0x8f9)||(Fs[_0x38d15f(0x20b)][_0x38d15f(0x811)](_0x5e4df0?.[_0x38d15f(0x39f)])&&(_0x5e4df0[_0x38d15f(0x39f)]=_0x5e4df0[_0x38d15f(0x39f)]?.['toNumber']()),_0x5e4df0[_0x38d15f(0x39f)]&&_0x5e4df0[_0x38d15f(0x39f)]['toString']()[_0x38d15f(0x6f0)]<0xd&&(_0x5e4df0[_0x38d15f(0x39f)]=_0x5e4df0['messageTimestamp']*0x3e8),_0x5e4df0[_0x38d15f(0x39f)]<_0xc692f2))continue;let _0x483f63=(0x0,w[_0x38d15f(0x3c5)])(_0x5e4df0[_0x38d15f(0x852)]),_0x52eab7=(0x0,w[_0x38d15f(0x59b)])(_0x483f63),{message_normalized:_0x8ff6cf}=this['normalizeMessage'](_0x483f63,_0x52eab7,null);Object[_0x38d15f(0x31f)](_0x8ff6cf)[_0x38d15f(0x6f0)]>0x0&&_0x59d53f[_0x38d15f(0x3ec)]({'_id':_0x5e4df0[_0x38d15f(0x683)]['id'],'key':_0x5e4df0[_0x38d15f(0x683)],'pushName':_0x5e4df0[_0x38d15f(0x727)],'participant':_0x5e4df0[_0x38d15f(0x4e1)],'message':_0x483f63,'messageType':_0x52eab7,'message_normalized':{'key':_0x5e4df0[_0x38d15f(0x683)],'pushName':_0x5e4df0[_0x38d15f(0x727)],'messageTimestamp':_0x5e4df0['messageTimestamp'],..._0x8ff6cf},'messageTimestamp':_0x5e4df0[_0x38d15f(0x39f)],'owner':this[_0x38d15f(0x5ef)][_0x38d15f(0x4d2)]});}_0x5328df[_0x38d15f(0x844)]&&_0x59d53f[_0x38d15f(0x6f0)]>0x0&&(this[_0x38d15f(0x843)][_0x38d15f(0x45c)](this[_0x38d15f(0x5c4)]+'\x20('+this['instance'][_0x38d15f(0x4d2)]+_0x38d15f(0x878)+_0x59d53f[_0x38d15f(0x6f0)]+_0x38d15f(0x800)+this[_0x38d15f(0x5ef)]['wuid']+_0x38d15f(0x5c6)),await this['repository'][_0x38d15f(0x852)][_0x38d15f(0x46d)]([..._0x59d53f],this[_0x38d15f(0x5ef)][_0x38d15f(0x4d2)])),this[_0x38d15f(0x854)]('messages.set',[..._0x59d53f]),_0x358549=void 0x0;},'messages.upsert':async({messages:_0x2522f2,type:_0x547d2c},_0x15c1f5)=>{const _0x6d9164=_0x8444d4;for(let _0x49a0b0 of _0x2522f2){if(this[_0x6d9164(0x88c)]?.[_0x6d9164(0x4d3)]&&_0x49a0b0[_0x6d9164(0x683)][_0x6d9164(0x651)][_0x6d9164(0x397)](_0x6d9164(0x263))){this[_0x6d9164(0x843)][_0x6d9164(0x45c)](this[_0x6d9164(0x5c4)]+'\x20('+this[_0x6d9164(0x5ef)]['wuid']+_0x6d9164(0x368));return;}if(_0x49a0b0[_0x6d9164(0x271)]&&_0x49a0b0[_0x6d9164(0x271)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x6d9164(0x4e4)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),jt[_0x49a0b0[_0x6d9164(0x683)]['id']]=_0x49a0b0,this[_0x6d9164(0x7d8)](_0x49a0b0,0x0);return;}if(jt[_0x49a0b0['key']['id']]&&(console[_0x6d9164(0x4e4)](_0x6d9164(0x5bc)),delete jt[_0x49a0b0[_0x6d9164(0x683)]['id']]),_0x547d2c!==_0x6d9164(0x83e)||!_0x49a0b0?.['message']||_0x49a0b0['message']?.[_0x6d9164(0x92e)]||_0x49a0b0[_0x6d9164(0x852)][_0x6d9164(0x2ee)]||_0x49a0b0[_0x6d9164(0x683)][_0x6d9164(0x651)]===_0x6d9164(0x8f9))return;let _0x2bae9c=null,_0x5ae8e7=null;try{_0x2bae9c=await this[_0x6d9164(0x31c)](_0x49a0b0),_0x5ae8e7=_0x2bae9c?_0x2bae9c['join'](','):null;}catch(_0x1e7166){this[_0x6d9164(0x843)][_0x6d9164(0x45c)](this[_0x6d9164(0x5c4)]+'\x20('+this[_0x6d9164(0x5ef)][_0x6d9164(0x4d2)]+_0x6d9164(0x878)+(_0x1e7166 instanceof Error?_0x1e7166[_0x6d9164(0x852)]:JSON[_0x6d9164(0x720)](_0x1e7166,null,0x2))),_0x5ae8e7=_0x6d9164(0x4b5);}this[_0x6d9164(0x286)][_0x6d9164(0x892)]('unavailable'),Fs['default'][_0x6d9164(0x811)](_0x49a0b0[_0x6d9164(0x39f)])&&(_0x49a0b0[_0x6d9164(0x39f)]=_0x49a0b0[_0x6d9164(0x39f)]?.[_0x6d9164(0x285)]()),_0x49a0b0[_0x6d9164(0x39f)]&&_0x49a0b0[_0x6d9164(0x39f)][_0x6d9164(0x45e)]()['length']<0xd&&(_0x49a0b0[_0x6d9164(0x39f)]=_0x49a0b0[_0x6d9164(0x39f)]*0x3e8);let _0x8af68f=_0x49a0b0[_0x6d9164(0x852)],_0x616a7=(0x0,w[_0x6d9164(0x3c5)])(_0x8af68f),_0x180e4b=(0x0,w[_0x6d9164(0x59b)])(_0x616a7),{messageContent:_0xda24b2,message_normalized:_0xab14c2}=this[_0x6d9164(0x4d1)](_0x616a7,_0x180e4b,_0x5ae8e7);_0x180e4b===_0x6d9164(0x92e)&&_0xda24b2?.[_0x6d9164(0x33e)]&&(_0x180e4b=_0x6d9164(0x33e));let _0x13ec0c,_0x1c3481=_0x49a0b0[_0x6d9164(0x683)]['remoteJid'][_0x6d9164(0x901)]('@g.us');if(_0x49a0b0[_0x6d9164(0x683)]['fromMe'])_0x13ec0c=this[_0x6d9164(0x5ef)][_0x6d9164(0x4fb)];else{let _0x302b3c=_0x1c3481?_0x49a0b0[_0x6d9164(0x683)][_0x6d9164(0x4e1)]:_0x49a0b0[_0x6d9164(0x683)]['remoteJid'];_0x13ec0c=(await this[_0x6d9164(0x32d)](_0x302b3c,_0x49a0b0[_0x6d9164(0x727)],!0x1))[_0x6d9164(0x8d4)][_0x6d9164(0x2f8)];}let _0x420794={'_id':_0x49a0b0[_0x6d9164(0x683)]['id'],'key':_0x49a0b0[_0x6d9164(0x683)],'isGroup':_0x1c3481,'profilePictureUrl':_0x13ec0c,'pushName':_0x49a0b0['pushName'],'message':_0x616a7,'messageType':_0x180e4b,'message_normalized':{'key':_0x49a0b0['key'],'pushName':_0x49a0b0[_0x6d9164(0x727)],'messageTimestamp':_0x49a0b0[_0x6d9164(0x39f)],'source':(0x0,w[_0x6d9164(0x7ef)])(_0x49a0b0[_0x6d9164(0x683)]['id']),..._0xab14c2},'messageTimestamp':_0x49a0b0['messageTimestamp'],'owner':this[_0x6d9164(0x5ef)][_0x6d9164(0x4d2)],'source':(0x0,w[_0x6d9164(0x7ef)])(_0x49a0b0[_0x6d9164(0x683)]['id']),'expiration':_0xda24b2?.[_0x6d9164(0x2df)]?.[_0x6d9164(0x26c)]||0x0};_0xda24b2||(this[_0x6d9164(0x843)]['error'](_0x6d9164(0x5b4)),this[_0x6d9164(0x843)][_0x6d9164(0x4e4)](_0x420794)),this[_0x6d9164(0x843)]['log'](this['instanceName']+'\x20('+this[_0x6d9164(0x5ef)]['wuid']+_0x6d9164(0x878)+(_0x420794[_0x6d9164(0x683)]?.[_0x6d9164(0x663)]?_0x6d9164(0x2ba):_0x6d9164(0x475))+'\x20['+_0x420794[_0x6d9164(0x683)]?.['remoteJid'][_0x6d9164(0x929)](_0x6d9164(0x92c),'')+_0x6d9164(0x512)+_0x420794[_0x6d9164(0x41a)]+')'),_0x420794[_0x6d9164(0x1f4)]?.['text']&&this[_0x6d9164(0x843)]['log'](_0x49a0b0['key']['id']+':\x20'+_0x420794[_0x6d9164(0x1f4)]?.[_0x6d9164(0x64c)]),await this['repository']['message']['insert']([_0x420794],this[_0x6d9164(0x5ef)][_0x6d9164(0x4d2)]),this[_0x6d9164(0x854)]('messages.upsert',_0x420794),j(this['instanceName'],'messages',{'message':_0x420794}),_0x49a0b0['key'][_0x6d9164(0x651)]!==_0x6d9164(0x8f9)&&await this[_0x6d9164(0x445)](_0x15c1f5,_0x420794,_0x6d9164(0x5c7));}},'messages.update':async(_0x15db74,_0x30f190)=>{const _0x3c484b=_0x8444d4;let _0x2e2a12={0x0:_0x3c484b(0x4de),0x1:_0x3c484b(0x4fe),0x2:_0x3c484b(0x778),0x3:_0x3c484b(0x392),0x4:'READ',0x5:_0x3c484b(0x359)};for await(let {key:_0x59aba0,update:_0x2615cb}of _0x15db74){if(this['localWebhook']?.[_0x3c484b(0x4d3)]&&_0x59aba0[_0x3c484b(0x651)][_0x3c484b(0x397)](_0x3c484b(0x263))){this[_0x3c484b(0x843)][_0x3c484b(0x45c)](this['instanceName']+'\x20('+this[_0x3c484b(0x5ef)][_0x3c484b(0x4d2)]+_0x3c484b(0x84e));return;}if(_0x59aba0['remoteJid']!==_0x3c484b(0x8f9)){let _0x1e2c3d=Date[_0x3c484b(0x6d9)](),_0x14032c;_0x2615cb[_0x3c484b(0x852)]===null&&_0x2615cb['status']===void 0x0?_0x14032c='DELETED':_0x14032c=_0x2e2a12[_0x2615cb['status']];let _0xb35760=_0x59aba0[_0x3c484b(0x651)][_0x3c484b(0x929)](/:\d{1,2}@/g,'@'),_0x180de6={..._0x59aba0,'remoteJid':_0xb35760,'status':_0x14032c,'datetime':_0x1e2c3d,'owner':this['instance']['wuid']};this[_0x3c484b(0x854)](_0x3c484b(0x6d8),_0x180de6),await this['updateMessage'](_0x59aba0,_0x180de6);}}},'labels.association':async({type:_0x10f9f5,association:_0x17c47a})=>{const _0x387488=_0x8444d4;if(_0x17c47a[_0x387488(0x294)]===_0x387488(0x5aa)){let _0x1ddcf9,_0x5e0408=0x0;for(;!_0x1ddcf9&&_0x5e0408<this[_0x387488(0x302)];)_0x1ddcf9=await this[_0x387488(0x3c6)][_0x387488(0x3bc)][_0x387488(0x917)]({'where':{'_id':_0x17c47a['chatId']}},this[_0x387488(0x5ef)]['wuid']),_0x1ddcf9||(_0x5e0408++,this[_0x387488(0x843)][_0x387488(0x6d2)](this[_0x387488(0x5c4)]+'\x20('+this[_0x387488(0x5ef)][_0x387488(0x4d2)]+_0x387488(0x416)+_0x17c47a[_0x387488(0x77e)]+_0x387488(0x380)+this[_0x387488(0x3c7)]+_0x387488(0x378)+_0x5e0408+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this['delayChatLabel'](this[_0x387488(0x3c7)]));if(!_0x1ddcf9){this[_0x387488(0x843)][_0x387488(0x4e4)](_0x387488(0x93a)+_0x17c47a['chatId']+'\x20depois\x20'+this['delayChatLabel_MAX_RETRIES']+'\x20tentativas.');return;}switch(_0x10f9f5){case _0x387488(0x8dc):console['log'](_0x17c47a),await this['repository'][_0x387488(0x3bc)]['updateOne']({'where':{'_id':_0x17c47a['chatId']}},{'leadInfo.etiquetas':_0x17c47a[_0x387488(0x7bb)]},this[_0x387488(0x5ef)][_0x387488(0x4d2)],void 0x0,_0x387488(0x417));break;case _0x387488(0x3d6):console[_0x387488(0x200)](_0x17c47a),await this[_0x387488(0x3c6)]['chat'][_0x387488(0x449)]({'where':{'_id':_0x17c47a[_0x387488(0x77e)]}},{'leadInfo.etiquetas':_0x17c47a[_0x387488(0x7bb)]},this[_0x387488(0x5ef)]['wuid'],void 0x0,_0x387488(0x612));break;default:this['logger']['error'](_0x387488(0x82a)+_0x10f9f5+']');}}},'labels.edit':async _0x17e5d6=>{const _0x4d20e5=_0x8444d4;if(!_0x17e5d6||!_0x17e5d6['id']){this[_0x4d20e5(0x843)][_0x4d20e5(0x4e4)](_0x4d20e5(0x3e6));return;}if(!_0x17e5d6['deleted']){let _0x1342f1=[_0x4d20e5(0x7ee),_0x4d20e5(0x383),_0x4d20e5(0x5ec),_0x4d20e5(0x7ae),_0x4d20e5(0x7d9),_0x4d20e5(0x3ca),'#fe9dfe',_0x4d20e5(0x769),'#6f7bcf',_0x4d20e5(0x4ff),_0x4d20e5(0x809),_0x4d20e5(0x8c2),_0x4d20e5(0x520),_0x4d20e5(0x905),_0x4d20e5(0x323),_0x4d20e5(0x7a0),_0x4d20e5(0x623),_0x4d20e5(0x3d3),'#9ba6ff','#9568cf'],_0x2eaac1;typeof _0x17e5d6['color']==_0x4d20e5(0x5d9)&&_0x17e5d6[_0x4d20e5(0x859)]>=0x0&&_0x17e5d6['color']<_0x1342f1[_0x4d20e5(0x6f0)]?_0x2eaac1=_0x1342f1[_0x17e5d6['color']]:(this[_0x4d20e5(0x843)][_0x4d20e5(0x4e4)](_0x4d20e5(0x53a)+_0x17e5d6[_0x4d20e5(0x859)]),_0x2eaac1='#000000');let _0x5bf7b3={'_id':_0x17e5d6['id'],'colorHex':_0x2eaac1,'color':_0x17e5d6?.['color'],'name':_0x17e5d6?.[_0x4d20e5(0x3a4)],'owner':this[_0x4d20e5(0x5ef)][_0x4d20e5(0x4d2)]};await this[_0x4d20e5(0x3c6)][_0x4d20e5(0x20a)][_0x4d20e5(0x449)]({'where':{'_id':_0x17e5d6['id']}},_0x5bf7b3,this[_0x4d20e5(0x5ef)][_0x4d20e5(0x4d2)]),this['logger'][_0x4d20e5(0x6d2)](this['instanceName']+'\x20('+this[_0x4d20e5(0x5ef)][_0x4d20e5(0x4d2)]+'):\x20Rótulo\x20atualizado:\x20'+_0x17e5d6);}_0x17e5d6[_0x4d20e5(0x661)]&&(await this[_0x4d20e5(0x3c6)][_0x4d20e5(0x20a)][_0x4d20e5(0x606)]({'where':{'_id':_0x17e5d6['id']}},this[_0x4d20e5(0x5ef)][_0x4d20e5(0x4d2)]),this['logger']['info'](_0x4d20e5(0x774)+_0x17e5d6['id']));}},this[_0x8444d4(0x2e6)]={'groups.upsert':async _0x34c425=>{const _0x5534af=_0x8444d4;this[_0x5534af(0x88c)]?.[_0x5534af(0x4d3)]||this[_0x5534af(0x854)](_0x5534af(0x94d),_0x34c425);for(let _0x16265a of _0x34c425)await this[_0x5534af(0x517)](_0x16265a);},'groups.update':async _0x34c833=>{const _0xc4b852=_0x8444d4;this[_0xc4b852(0x88c)]?.[_0xc4b852(0x4d3)]||this['sendDataWebhook']('groups.update',_0x34c833);for(let _0x4fd9d0 of _0x34c833)await this[_0xc4b852(0x517)](_0x4fd9d0);},'group-participants.update':async _0x7a39ad=>{const _0xdfe39a=_0x8444d4;this['localWebhook']?.[_0xdfe39a(0x4d3)]||this[_0xdfe39a(0x854)](_0xdfe39a(0x694),_0x7a39ad),await this['updateGroupParticipantsWebhook'](_0x7a39ad);}},this[_0x8444d4(0x302)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this['processPollUpdateMessage']=async _0x5d16f9=>{const _0x3de85a=_0x8444d4;if(_0x5d16f9[_0x3de85a(0x852)]?.[_0x3de85a(0x4d6)]){let _0x224e8e=await this[_0x3de85a(0x32a)](_0x5d16f9['message']['pollUpdateMessage'][_0x3de85a(0x66a)],!0x0);if(_0x224e8e){let _0x57bc7e=_0x224e8e['key'][_0x3de85a(0x663)]?this['instance']['wuid']+_0x3de85a(0x92c):_0x224e8e['key']['participant']||_0x224e8e[_0x3de85a(0x683)][_0x3de85a(0x651)],_0x203fba=_0x224e8e[_0x3de85a(0x683)]['id'],_0x30fcd0=_0x224e8e[_0x3de85a(0x852)],_0x2d1908=Buffer[_0x3de85a(0x370)](_0x30fcd0['messageContextInfo']['messageSecret'][_0x3de85a(0x45e)](_0x3de85a(0x84d)),_0x3de85a(0x84d)),_0x48e4f4=(0x0,w[_0x3de85a(0x94f)])(_0x5d16f9[_0x3de85a(0x852)][_0x3de85a(0x4d6)][_0x3de85a(0x860)],{'pollCreatorJid':_0x57bc7e,'pollMsgId':_0x203fba,'pollEncKey':_0x2d1908,'voterJid':_0x5d16f9[_0x3de85a(0x683)][_0x3de85a(0x663)]?this['instance']['wuid']+'@s.whatsapp.net':_0x5d16f9[_0x3de85a(0x683)][_0x3de85a(0x651)][_0x3de85a(0x901)](_0x3de85a(0x715))?_0x5d16f9[_0x3de85a(0x683)][_0x3de85a(0x4e1)]:_0x5d16f9[_0x3de85a(0x683)][_0x3de85a(0x651)]}),_0x4de23b=[],_0x22ad25=_0x48e4f4[_0x3de85a(0x4e6)]['map'](_0x148cc1=>Buffer[_0x3de85a(0x370)](_0x148cc1)[_0x3de85a(0x45e)](_0x3de85a(0x84d)));for(let {optionName:_0x26d625}of _0x30fcd0[_0x3de85a(0x347)]?.[_0x3de85a(0x1e4)]||_0x30fcd0[_0x3de85a(0x7e6)]?.['options']||_0x30fcd0['pollCreationMessageV2']?.[_0x3de85a(0x1e4)])_0x22ad25[_0x3de85a(0x81c)]((0x0,w['sha256'])(Buffer['from'](_0x26d625))[_0x3de85a(0x45e)](_0x3de85a(0x84d)))>-0x1&&_0x4de23b['push'](_0x26d625);return _0x4de23b;}}return null;},this[_0x8444d4(0x4d1)]=(_0x4f0b26,_0x2c0f30,_0x1d13a3)=>{const _0xbfb718=_0x8444d4;try{let _0x23f42f=_0x4f0b26?(0x0,w[_0xbfb718(0x354)])(_0x4f0b26)[_0x2c0f30]:void 0x0,_0x11e8f6={},_0x5a87eb=null,_0x1a3abe=null,_0x672a64=null;_0x2c0f30===_0xbfb718(0x92e)&&_0x23f42f?.[_0xbfb718(0x33e)]&&(_0x2c0f30=(0x0,w['getContentType'])(_0x23f42f[_0xbfb718(0x33e)]),_0x5a87eb=_0x4f0b26[_0xbfb718(0x92e)]['key']['id'],_0x23f42f=_0x4f0b26[_0xbfb718(0x92e)]['editedMessage'][_0x2c0f30]),_0x4f0b26[_0x2c0f30]?.['contextInfo']?.[_0xbfb718(0x755)]&&_0x4f0b26[_0x2c0f30]?.[_0xbfb718(0x2df)]?.[_0xbfb718(0x290)]&&(_0x1a3abe=_0x4f0b26[_0x2c0f30][_0xbfb718(0x2df)]['stanzaId']),_0x4f0b26['reactionMessage']&&(_0x672a64=_0x4f0b26[_0xbfb718(0x7bc)][_0xbfb718(0x683)]['id']);let _0x547ed8;if(_0x23f42f&&typeof _0x23f42f==_0xbfb718(0x545)&&_0xbfb718(0x66a)in _0x23f42f&&({pollCreationMessageKey:_0x547ed8}=_0x23f42f),_0x2c0f30===_0xbfb718(0x347)||_0x2c0f30===_0xbfb718(0x327)||_0x2c0f30==='pollCreationMessageV3'){let _0x1a5237=_0x23f42f[_0xbfb718(0x1e4)][_0xbfb718(0x74c)](_0x24179b=>_0x24179b[_0xbfb718(0x5ac)])['join']('|');_0x11e8f6['convertedOptions']=_0x1a5237;}let _0x90a8cd='';if(_0x23f42f&&(_0x90a8cd+=_0x23f42f[_0xbfb718(0x3a4)]?_0x23f42f[_0xbfb718(0x3a4)]:'',_0x90a8cd+=_0x23f42f[_0xbfb718(0x649)]?'\x20'+_0x23f42f[_0xbfb718(0x649)]:'',_0x90a8cd+=_0x23f42f[_0xbfb718(0x6ce)]?'\x20'+_0x23f42f[_0xbfb718(0x6ce)]:'',_0x90a8cd+=_0x23f42f[_0xbfb718(0x599)]?'\x20'+_0x23f42f[_0xbfb718(0x599)]:''),_0x2c0f30===_0xbfb718(0x4d5)){_0x90a8cd=(_0x23f42f[_0xbfb718(0x54a)]||'')+'\x0a'+(_0x23f42f[_0xbfb718(0x61c)]||'')+'\x0a'+(_0x23f42f[_0xbfb718(0x7f1)]||'');let _0x1bbc19=this[_0xbfb718(0x85d)](_0x23f42f['sections']);_0x11e8f6[_0xbfb718(0x5e7)]=_0x1bbc19;}if(_0x2c0f30===_0xbfb718(0x790)&&(_0x1d13a3=_0x23f42f[_0xbfb718(0x54a)]),_0x23f42f&&_0x23f42f[_0xbfb718(0x42c)]){let _0x4b660b=this[_0xbfb718(0x655)](JSON[_0xbfb718(0x720)](_0x23f42f['vcard'],null,0x2));_0x90a8cd=_0x90a8cd+'\x0a'+_0x4b660b;}if(_0x23f42f){let {sections:_0x272cda,listType:_0x3de3b,displayName:_0x1cee96,vcard:_0x24115c,contactVcard:_0x5c0e6c,name:_0x22a9db,caption:_0x380f2f,conversation:_0x5af7dd,pollCreationMessageKey:_0x294aed,footerText:_0x59d608,contentText:_0x487672,pageCount:_0x49e947,headerType:_0x327959,isAvatar:_0x4c73fe,isAnimated:_0x5770a4,fallbackLc:_0x5a93f8,fallbackLg:_0x140153,namespace:_0x2d3e92,elementName:_0x1dbedd,localizableParams:_0x403cfa,viewOnce:_0x1325c7,height:_0x587874,width:_0x1a30fb,key:_0x2086f0,firstScanLength:_0x483eb5,firstScanSidecar:_0x4eb047,gifPlayback:_0x22bb29,gifAttribution:_0x28c980,midQualityFileSha256:_0x32a6f9,scansSidecar:_0x462a8c,streamingSidecar:_0x3f5a6a,thumbnailHeight:_0x190910,thumbnailWidth:_0x8121f,thumbnailEncSha256:_0x410a98,thumbnailDirectPath:_0x9ca035,canonicalUrl:_0x28430f,matchedText:_0x1ab607,previewType:_0x5d555b,thumbnailSha256:_0x1cf642,deviceListMetadataVersion:_0x39bd71,inviteLinkGroupTypeV2:_0x1b5748,interactiveAnnotations:_0x4da727,scanLengths:_0x319024,jpegThumbnail:_0xd57553,url:_0x442cae,mediaKeyTimestamp:_0x491d72,waveform:_0x1b92de,stickerSentTs:_0x1664dd,firstFrameLength:_0x296854,fileEncSha256:_0x2b255b,contextInfo:_0xd3392c,firstFrameSidecar:_0x279caf,directPath:_0x20ce50,fileSha256:_0x329710,mediaKey:_0x1b7b81,senderTimestampMs:_0x45d737,..._0x18589e}=_0x23f42f;(_0x2c0f30===_0xbfb718(0x4d5)||_0x2c0f30==='listResponseMessage')&&(delete _0x18589e[_0xbfb718(0x54a)],delete _0x18589e['description']),typeof _0x23f42f=='string'?_0x11e8f6={'text':_0x23f42f,'type':_0x2c0f30||'conversation',..._0x5a87eb&&{'edited':_0x5a87eb},..._0x1a3abe&&{'quoted':_0x1a3abe},..._0x672a64&&{'reaction':_0x672a64}}:_0x11e8f6={'text':_0x90a8cd,..._0x18589e,..._0x2c0f30==='pollUpdateMessage'?{'poll_id':_0x23f42f[_0xbfb718(0x66a)]['id'],'quoted':_0x23f42f[_0xbfb718(0x66a)]['id'],'vote':_0x1d13a3}:{},..._0x2c0f30===_0xbfb718(0x790)?{'vote':_0x1d13a3}:{},'type':_0x2c0f30,..._0x5a87eb&&{'edited':_0x5a87eb},..._0x1a3abe&&{'quoted':_0x1a3abe},..._0x672a64&&{'reaction':_0x672a64},...(_0x2c0f30===_0xbfb718(0x347)||_0x2c0f30===_0xbfb718(0x327)||_0x2c0f30===_0xbfb718(0x7e6)||_0x2c0f30===_0xbfb718(0x4d5))&&{'convertedOptions':_0x11e8f6[_0xbfb718(0x5e7)]}};}return{'messageType':_0x2c0f30,'messageContent':_0x23f42f,'message_normalized':_0x11e8f6};}catch(_0x18068a){return this[_0xbfb718(0x843)]['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x18068a),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x8444d4(0x345)](),this[_0x8444d4(0x5ef)][_0x8444d4(0x443)]={'count':0x0},this[_0x8444d4(0x5ef)][_0x8444d4(0x362)]={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set['instanceName'](_0x255a79){const _0x27eaa1=a0_0x31011a;if(!_0x255a79){this[_0x27eaa1(0x5ef)]['name']=(0x0,_i['v4'])();return;}this[_0x27eaa1(0x5ef)][_0x27eaa1(0x3a4)]=_0x255a79,this[_0x27eaa1(0x854)](_0x27eaa1(0x686),{'instance':this[_0x27eaa1(0x5ef)][_0x27eaa1(0x3a4)],'status':'created'});}get[a0_0x31011a(0x5c4)](){const _0x3268ca=a0_0x31011a;return this[_0x3268ca(0x5ef)][_0x3268ca(0x3a4)];}get[a0_0x31011a(0x4d2)](){const _0x5350b4=a0_0x31011a;return this[_0x5350b4(0x5ef)][_0x5350b4(0x4d2)];}async['getProfileName'](){const _0x49b486=a0_0x31011a;let _0x18a53e=this['client'][_0x49b486(0x2e4)]?.['name']??this[_0x49b486(0x286)][_0x49b486(0x2e4)]?.['verifiedName'];if(!_0x18a53e){if(this[_0x49b486(0x58e)]['get'](_0x49b486(0x578))[_0x49b486(0x844)]){let _0xf4c2c7=await R[_0x49b486(0x5d7)]()['db'](this['configService'][_0x49b486(0x67e)](_0x49b486(0x578))[_0x49b486(0x247)][_0x49b486(0x7e4)]+'-instances')[_0x49b486(0x484)](this[_0x49b486(0x5c4)])[_0x49b486(0x917)]({'_id':_0x49b486(0x2ae)});if(_0xf4c2c7){let _0x3e6de=JSON[_0x49b486(0x25b)](JSON[_0x49b486(0x720)](_0xf4c2c7),w['BufferJSON'][_0x49b486(0x6d0)]);_0x18a53e=_0x3e6de['me']?.[_0x49b486(0x3a4)]||_0x3e6de['me']?.[_0x49b486(0x73e)];}}else{if((0x0,Le['existsSync'])((0x0,U['join'])(Se,this[_0x49b486(0x5c4)],_0x49b486(0x882)))){let _0xd2e3f=JSON[_0x49b486(0x25b)]((0x0,Le['readFileSync'])((0x0,U[_0x49b486(0x57d)])(Se,this[_0x49b486(0x5c4)],_0x49b486(0x882)),{'encoding':_0x49b486(0x72d)}));_0x18a53e=_0xd2e3f['me']?.[_0x49b486(0x3a4)]||_0xd2e3f['me']?.['verifiedName'];}}}return _0x18a53e;}get['profilePictureUrl'](){const _0x5f09f8=a0_0x31011a;return this['instance'][_0x5f09f8(0x4fb)];}get[a0_0x31011a(0x1ec)](){const _0x1fef3d=a0_0x31011a;return this['instance'][_0x1fef3d(0x443)]?.['pairingCode']?{'pairingCode':this['instance'][_0x1fef3d(0x443)]?.[_0x1fef3d(0x752)]}:{'code':this[_0x1fef3d(0x5ef)][_0x1fef3d(0x443)]?.[_0x1fef3d(0x54f)],'base64':this[_0x1fef3d(0x5ef)][_0x1fef3d(0x443)]?.['base64']};}async[a0_0x31011a(0x51d)](){const _0x405b5e=a0_0x31011a;let _0x3d6317=await this['repository'][_0x405b5e(0x6ba)][_0x405b5e(0x90d)](this[_0x405b5e(0x5c4)]);this[_0x405b5e(0x88c)][_0x405b5e(0x5a6)]=_0x3d6317?.[_0x405b5e(0x5a6)],this['localWebhook'][_0x405b5e(0x2ac)]=_0x3d6317?.['enabled'],this[_0x405b5e(0x88c)][_0x405b5e(0x22b)]=_0x3d6317?.[_0x405b5e(0x22b)],this[_0x405b5e(0x88c)][_0x405b5e(0x344)]=_0x3d6317?.[_0x405b5e(0x344)],this[_0x405b5e(0x88c)]['QRCODE_UPDATED']=_0x3d6317?.['QRCODE_UPDATED'],this[_0x405b5e(0x88c)][_0x405b5e(0x7cd)]=_0x3d6317?.['SEND_MESSAGE'],this['localWebhook']['MESSAGES_UPSERT']=_0x3d6317?.[_0x405b5e(0x5c7)],this[_0x405b5e(0x88c)][_0x405b5e(0x793)]=_0x3d6317?.[_0x405b5e(0x793)],this['localWebhook']['GROUPS_UPSERT']=_0x3d6317?.[_0x405b5e(0x59a)],this[_0x405b5e(0x88c)]['GROUPS_UPDATE']=_0x3d6317?.[_0x405b5e(0x360)],this['localWebhook'][_0x405b5e(0x4ea)]=_0x3d6317?.[_0x405b5e(0x4ea)],this[_0x405b5e(0x88c)]['CHATS_SET']=_0x3d6317?.[_0x405b5e(0x1fd)],this['localWebhook']['CHATS_UPSERT']=_0x3d6317?.[_0x405b5e(0x821)],this[_0x405b5e(0x88c)][_0x405b5e(0x56a)]=_0x3d6317?.[_0x405b5e(0x56a)],this['localWebhook'][_0x405b5e(0x42e)]=_0x3d6317?.[_0x405b5e(0x42e)],this[_0x405b5e(0x88c)][_0x405b5e(0x8c0)]=_0x3d6317?.[_0x405b5e(0x8c0)],this[_0x405b5e(0x88c)][_0x405b5e(0x782)]=_0x3d6317?.[_0x405b5e(0x782)],this[_0x405b5e(0x88c)][_0x405b5e(0x418)]=_0x3d6317?.['CONTACTS_UPDATE'],this[_0x405b5e(0x88c)]['PRESENCE_UPDATE']=_0x3d6317?.[_0x405b5e(0x568)],this['localWebhook'][_0x405b5e(0x499)]=_0x3d6317?.[_0x405b5e(0x499)],this['localWebhook'][_0x405b5e(0x731)]=_0x3d6317?.[_0x405b5e(0x731)],this['localWebhook'][_0x405b5e(0x4d3)]=_0x3d6317?.['groups_ignore'];}async[a0_0x31011a(0x6e3)](_0x1500ec){const _0x4ef980=a0_0x31011a;let _0x486e8b=['_id',_0x4ef980(0x5a6),_0x4ef980(0x2ac),_0x4ef980(0x22b),_0x4ef980(0x344),_0x4ef980(0x23f),_0x4ef980(0x793),_0x4ef980(0x5c7),_0x4ef980(0x7cd),_0x4ef980(0x59a),_0x4ef980(0x360),_0x4ef980(0x4ea),_0x4ef980(0x1fd),_0x4ef980(0x821),'CHATS_UPDATE','CHATS_DELETE',_0x4ef980(0x8c0),_0x4ef980(0x782),_0x4ef980(0x418),_0x4ef980(0x568),'MESSAGES_SET',_0x4ef980(0x731),_0x4ef980(0x4d3)],_0x332d57={};return _0x486e8b[_0x4ef980(0x201)](_0x48b50c=>{_0x1500ec[_0x48b50c]!==void 0x0&&(_0x332d57[_0x48b50c]=_0x1500ec[_0x48b50c]);}),_0x332d57[_0x4ef980(0x5a6)]&&(_0x332d57[_0x4ef980(0x5a6)]=_0x332d57[_0x4ef980(0x5a6)]['trim']()),await this['repository'][_0x4ef980(0x6ba)][_0x4ef980(0x582)](_0x332d57,this['instanceName']),Object['assign'](this[_0x4ef980(0x88c)],_0x332d57),await this['repository'][_0x4ef980(0x6ba)][_0x4ef980(0x90d)](this[_0x4ef980(0x5c4)]);}async[a0_0x31011a(0x216)](){const _0x512fb1=a0_0x31011a;return await this['repository']['webhook'][_0x512fb1(0x90d)](this[_0x512fb1(0x5c4)]);}async[a0_0x31011a(0x854)](_0x433ddb,_0x540de0){const _0x9f2429=a0_0x31011a;let _0x45bdd1=_0x433ddb['replace'](/[\.-]/gm,'_')[_0x9f2429(0x5ca)](),_0x3caf82=this[_0x9f2429(0x88c)][_0x9f2429(0x2ac)]&&(0x0,k[_0x9f2429(0x4eb)])(this[_0x9f2429(0x88c)]['url'])?this['localWebhook']['url']+(this[_0x9f2429(0x88c)][_0x9f2429(0x22b)]?this[_0x9f2429(0x8c5)][_0x433ddb]:''):null,_0x8e0017=this[_0x9f2429(0x88c)][_0x45bdd1],_0x5d3674=ge&&ge[_0x9f2429(0x2ac)]&&(0x0,k[_0x9f2429(0x4eb)])(ge[_0x9f2429(0x5a6)])?ge[_0x9f2429(0x5a6)]+(ge['local_map']?this[_0x9f2429(0x8c5)][_0x433ddb]:''):null,_0x35313c=ge?ge[_0x45bdd1]:null;if(_0x8e0017&&_0x3caf82)try{await Q['default'][_0x9f2429(0x582)]({'baseURL':_0x3caf82})[_0x9f2429(0x803)]('',{'event':_0x433ddb,'instance':this[_0x9f2429(0x5ef)][_0x9f2429(0x3a4)],'apikey':this[_0x9f2429(0x5ef)]['apikey'],'data':_0x540de0}),this['logger']['log'](this[_0x9f2429(0x5c4)]+'\x20('+this[_0x9f2429(0x5ef)][_0x9f2429(0x4d2)]+_0x9f2429(0x906)+_0x433ddb+':\x20'+_0x3caf82);}catch{this['logger']['error'](this[_0x9f2429(0x5c4)]+'\x20('+this['instance'][_0x9f2429(0x4d2)]+_0x9f2429(0x89c)+_0x433ddb+':\x20'+_0x3caf82);}if(_0x35313c&&_0x5d3674)try{await Q['default']['create']({'baseURL':_0x5d3674})[_0x9f2429(0x803)]('',{'event':_0x433ddb,'instance':this[_0x9f2429(0x5ef)]['name'],'apikey':this[_0x9f2429(0x5ef)][_0x9f2429(0x698)],'data':_0x540de0}),this[_0x9f2429(0x843)][_0x9f2429(0x200)](this[_0x9f2429(0x5c4)]+'\x20('+this[_0x9f2429(0x5ef)]['wuid']+_0x9f2429(0x3cd)+_0x433ddb+':\x20'+_0x5d3674);}catch{this[_0x9f2429(0x843)][_0x9f2429(0x4e4)](this[_0x9f2429(0x5c4)]+'\x20('+this['instance'][_0x9f2429(0x4d2)]+_0x9f2429(0x6cb)+_0x433ddb+':\x20'+_0x5d3674);}}async[a0_0x31011a(0x802)]({qr:_0x3e8696,connection:_0x505a4b,lastDisconnect:_0x52d594}){const _0x21b16f=a0_0x31011a;if(_0x3e8696){if(this['instance'][_0x21b16f(0x443)]['count']===Uo)return this[_0x21b16f(0x854)](_0x21b16f(0x585),{'message':_0x21b16f(0x650),'statusCode':w['DisconnectReason'][_0x21b16f(0x7b1)]}),this[_0x21b16f(0x455)]={'state':_0x21b16f(0x5e5),'statusReason':w['DisconnectReason'][_0x21b16f(0x610)]},this[_0x21b16f(0x854)](_0x21b16f(0x592),{'instance':this[_0x21b16f(0x5ef)][_0x21b16f(0x3a4)],...this['stateConnection']}),this[_0x21b16f(0x854)](_0x21b16f(0x686),{'instance':this[_0x21b16f(0x5ef)]['name'],'status':_0x21b16f(0x679)}),this['repository'][_0x21b16f(0x6e5)][_0x21b16f(0x606)](this[_0x21b16f(0x5ef)][_0x21b16f(0x3a4)]),this[_0x21b16f(0x5ae)]=!0x0,he[_0x21b16f(0x71d)](X,this['instance'][_0x21b16f(0x3a4)]),this[_0x21b16f(0x36a)]['emit'](_0x21b16f(0x76f),this[_0x21b16f(0x5ef)][_0x21b16f(0x3a4)]);this[_0x21b16f(0x5ef)][_0x21b16f(0x443)][_0x21b16f(0x25c)]++;let _0x37ab3e={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x21b16f(0x5dd),'dark':_0x21b16f(0x519)}};xi[_0x21b16f(0x20b)][_0x21b16f(0x3e3)](_0x3e8696,_0x37ab3e,(_0x395f35,_0x263fef)=>{const _0x1402ca=_0x21b16f;if(_0x395f35){this[_0x1402ca(0x843)][_0x1402ca(0x4e4)](this['instanceName']+'\x20('+this[_0x1402ca(0x5ef)][_0x1402ca(0x4d2)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x395f35 instanceof Error?_0x395f35[_0x1402ca(0x852)]:JSON['stringify'](_0x395f35,null,0x2)));return;}this[_0x1402ca(0x5ef)][_0x1402ca(0x443)][_0x1402ca(0x401)]=_0x263fef,this[_0x1402ca(0x5ef)][_0x1402ca(0x443)][_0x1402ca(0x54f)]=_0x3e8696,!this[_0x1402ca(0x7b7)]&&this[_0x1402ca(0x854)](_0x1402ca(0x585),{'qrcode':{'instance':this['instance'][_0x1402ca(0x3a4)],'pairingCode':this['instance']['qrcode']['pairingCode'],'code':_0x3e8696,'base64':_0x263fef}});}),this[_0x21b16f(0x7b7)]?this[_0x21b16f(0x5ef)][_0x21b16f(0x443)][_0x21b16f(0x752)]||(await(0x0,w[_0x21b16f(0x430)])(0x7d0),this[_0x21b16f(0x5ef)][_0x21b16f(0x443)][_0x21b16f(0x752)]=await this[_0x21b16f(0x286)][_0x21b16f(0x875)](this[_0x21b16f(0x7b7)])):this['instance'][_0x21b16f(0x443)][_0x21b16f(0x752)]=null,Di['default']['generate'](_0x3e8696,{'small':!0x0},_0x5ee037=>this[_0x21b16f(0x843)][_0x21b16f(0x200)]('\x0a{\x20instance:\x20'+this['instance'][_0x21b16f(0x3a4)]+_0x21b16f(0x3b8)+this[_0x21b16f(0x5ef)]['qrcode'][_0x21b16f(0x25c)]+',\x20pairCode:\x20'+this[_0x21b16f(0x5ef)][_0x21b16f(0x443)]['pairingCode']+_0x21b16f(0x7b0)+_0x5ee037));}if(_0x505a4b&&(this[_0x21b16f(0x455)]={'state':_0x505a4b,'statusReason':_0x52d594?.[_0x21b16f(0x4e4)]?.[_0x21b16f(0x660)]?.[_0x21b16f(0x855)]??0xc8},this[_0x21b16f(0x854)](_0x21b16f(0x592),{'instance':this['instance']['name'],...this[_0x21b16f(0x455)]})),_0x505a4b==='close'){if(this[_0x21b16f(0x717)]++,this[_0x21b16f(0x5d3)][_0x21b16f(0x3ec)](Date[_0x21b16f(0x6d9)]()),this[_0x21b16f(0x5d3)]=this['reconnectTimestamps'][_0x21b16f(0x497)](_0x5af340=>Date[_0x21b16f(0x6d9)]()-_0x5af340<this[_0x21b16f(0x8a5)]),_0x52d594[_0x21b16f(0x4e4)]?.['output']?.['statusCode']!==w['DisconnectReason'][_0x21b16f(0x248)]){let _0x16dd0b=Math[_0x21b16f(0x55d)](Math[_0x21b16f(0x4dc)](0x2,this[_0x21b16f(0x717)])*0x3e8,0x493e0);console[_0x21b16f(0x200)](this[_0x21b16f(0x5c4)]+_0x21b16f(0x27c)+this['reconnectAttempts']+_0x21b16f(0x7f9)+_0x16dd0b/0x3e8+_0x21b16f(0x7da)),await new Promise(_0x91024=>setTimeout(_0x91024,_0x16dd0b)),console[_0x21b16f(0x200)](_0x21b16f(0x51b)),await this[_0x21b16f(0x82e)]();}else{this[_0x21b16f(0x854)](_0x21b16f(0x686),{'instance':this[_0x21b16f(0x5ef)][_0x21b16f(0x3a4)],'status':'removed'}),this['instance'][_0x21b16f(0x362)][_0x21b16f(0x63e)]=!0x1,this[_0x21b16f(0x3c6)]['webhook'][_0x21b16f(0x606)](this[_0x21b16f(0x5c4)]),this['repository'][_0x21b16f(0x6e5)][_0x21b16f(0x582)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x21b16f(0x6d9)]()},this[_0x21b16f(0x5ef)][_0x21b16f(0x3a4)]),he[_0x21b16f(0x71d)](X,this[_0x21b16f(0x5ef)][_0x21b16f(0x3a4)]);try{this[_0x21b16f(0x843)][_0x21b16f(0x45c)](this[_0x21b16f(0x5c4)]+'\x20('+this['instance'][_0x21b16f(0x4d2)]+_0x21b16f(0x2c6));let _0x1b4eee=await this[_0x21b16f(0x3c6)][_0x21b16f(0x852)][_0x21b16f(0x4bf)](this[_0x21b16f(0x5ef)][_0x21b16f(0x4d2)]);_0x1b4eee[_0x21b16f(0x213)]?this[_0x21b16f(0x843)]['verbose'](this[_0x21b16f(0x5c4)]+'\x20('+this['instance'][_0x21b16f(0x4d2)]+_0x21b16f(0x861)):this[_0x21b16f(0x843)]['error'](_0x21b16f(0x549)+_0x1b4eee[_0x21b16f(0x4e4)]);}catch(_0x284ccf){this[_0x21b16f(0x843)][_0x21b16f(0x4e4)](_0x21b16f(0x40d)+_0x284ccf[_0x21b16f(0x852)]);}this[_0x21b16f(0x5ef)][_0x21b16f(0x362)][_0x21b16f(0x46a)]!==null&&(this[_0x21b16f(0x843)]['verbose'](this[_0x21b16f(0x5c4)]+'\x20('+this[_0x21b16f(0x5ef)][_0x21b16f(0x4d2)]+_0x21b16f(0x706)),clearInterval(this[_0x21b16f(0x5ef)]['ScheduleMessage'][_0x21b16f(0x46a)]),this[_0x21b16f(0x5ef)][_0x21b16f(0x362)]['delayMessage']=null),this[_0x21b16f(0x843)]['verbose'](this[_0x21b16f(0x5c4)]+'\x20('+this[_0x21b16f(0x5ef)][_0x21b16f(0x4d2)]+_0x21b16f(0x620)),this[_0x21b16f(0x74b)]=null,this[_0x21b16f(0x36a)][_0x21b16f(0x788)](_0x21b16f(0x267),this[_0x21b16f(0x5ef)]['name'],_0x21b16f(0x478)),this[_0x21b16f(0x286)]?.['ws']?.[_0x21b16f(0x1f7)](),this[_0x21b16f(0x286)][_0x21b16f(0x6a3)](new Error(_0x21b16f(0x71e)));}}if(_0x505a4b===_0x21b16f(0x2cf)){try{this[_0x21b16f(0x286)]['ev'][_0x21b16f(0x498)]();}catch(_0x3d7c7d){this[_0x21b16f(0x843)][_0x21b16f(0x4e4)](_0x3d7c7d);}this[_0x21b16f(0x7fb)],this[_0x21b16f(0x5ef)]['wuid']=this['client'][_0x21b16f(0x2e4)]['id'][_0x21b16f(0x929)](/:\d+/,'')[_0x21b16f(0x929)]('@s.whatsapp.net',''),this[_0x21b16f(0x5ef)][_0x21b16f(0x4fb)]=(await this[_0x21b16f(0x33c)](this[_0x21b16f(0x5ef)]['wuid']+_0x21b16f(0x92c)))[_0x21b16f(0x4fb)],this[_0x21b16f(0x3c6)][_0x21b16f(0x6e5)]['create']({'online':!0x0,'owner':this[_0x21b16f(0x5ef)][_0x21b16f(0x4d2)],'lastDisconnect':null},this['instance'][_0x21b16f(0x3a4)]);let _0x1e6b6f=_0x21b16f(0x69c)+this['instance'][_0x21b16f(0x4d2)],_0x42456b=0x28,_0x371cfe=Math['floor']((_0x42456b-_0x1e6b6f['length'])/0x2),_0x3047f5='\x20'[_0x21b16f(0x91b)](_0x371cfe),_0x9d4a47='CONECTADO\x20À\x20UAZAPI',_0x114d99=_0x21b16f(0x6a8)+this[_0x21b16f(0x5ef)][_0x21b16f(0x3a4)],_0x3e358d=(''+_0x3047f5+_0x1e6b6f+_0x3047f5)[_0x21b16f(0x59d)](_0x42456b,'\x20'),_0x561cd8=(''+_0x3047f5+_0x9d4a47+_0x3047f5)[_0x21b16f(0x59d)](_0x42456b,'\x20'),_0x5e67f4=(''+_0x3047f5+_0x114d99+_0x3047f5)[_0x21b16f(0x59d)](_0x42456b,'\x20'),_0x2f75d9=Math[_0x21b16f(0x65c)](_0x3e358d[_0x21b16f(0x6f0)],_0x561cd8[_0x21b16f(0x6f0)],_0x5e67f4[_0x21b16f(0x6f0)]),_0x33bc39=_0x3e358d[_0x21b16f(0x59d)](_0x2f75d9,'\x20'),_0x290bdc=_0x561cd8['padEnd'](_0x2f75d9,'\x20'),_0x1ff34b=_0x5e67f4['padEnd'](_0x2f75d9,'\x20');this[_0x21b16f(0x843)][_0x21b16f(0x6d2)]((_0x21b16f(0x4f5)+'─'[_0x21b16f(0x91b)](_0x2f75d9)+_0x21b16f(0x266)+_0x290bdc+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1ff34b+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x33bc39+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x2f75d9)+'┘')[_0x21b16f(0x929)](/^ +/gm,'\x20\x20')),this[_0x21b16f(0x5dc)](),this[_0x21b16f(0x5ef)]['ScheduleMessage'][_0x21b16f(0x63e)]=!0x0;}}[a0_0x31011a(0x7fb)](){const _0x5d2bc5=a0_0x31011a;this[_0x5d2bc5(0x717)]=0x0,this[_0x5d2bc5(0x5d3)]=[];}async['getMessage'](_0x167d0c,_0x328a40=!0x1){const _0x124234=a0_0x31011a;try{let _0x772589=await this[_0x124234(0x3c6)][_0x124234(0x852)][_0x124234(0x90d)]({'where':{'_id':_0x167d0c['id']}},this['instance']['wuid']);return _0x328a40?_0x772589[0x0]:_0x772589[0x0][_0x124234(0x852)];}catch{return{'conversation':''};}}[a0_0x31011a(0x345)](){const _0x7b5c2c=a0_0x31011a;let _0x516b86=this[_0x7b5c2c(0x58e)][_0x7b5c2c(0x67e)](_0x7b5c2c(0x4d9)),_0x2165ed=this['configService'][_0x7b5c2c(0x67e)](_0x7b5c2c(0x578));_0x516b86?.[_0x7b5c2c(0x7b6)]&&!_0x2165ed['ENABLED']&&setInterval(()=>{const _0x5dd929=_0x7b5c2c;try{for(let [_0x4adc9b,_0x4702e0]of Object[_0x5dd929(0x910)](_0x516b86))_0x4702e0===!0x0&&(0x0,Fe[_0x5dd929(0x3a0)])(_0x5dd929(0x5a5)+(0x0,U[_0x5dd929(0x57d)])(this[_0x5dd929(0x426)],_0x4adc9b[_0x5dd929(0x240)](),this[_0x5dd929(0x5ef)][_0x5dd929(0x4d2)])+_0x5dd929(0x868));}catch{}},(_0x516b86?.[_0x7b5c2c(0x7b6)]??0xe10)*0x3e8);}async[a0_0x31011a(0x8e2)](){const _0xa53f26=a0_0x31011a;let _0x5a8228=this[_0xa53f26(0x58e)][_0xa53f26(0x67e)](_0xa53f26(0x578)),_0x532e33=this[_0xa53f26(0x58e)][_0xa53f26(0x67e)]('REDIS');return _0x532e33?.[_0xa53f26(0x844)]?await Ds(_0x532e33,this[_0xa53f26(0x5ef)][_0xa53f26(0x3a4)]):_0x5a8228[_0xa53f26(0x844)]?await xs(this['instance'][_0xa53f26(0x3a4)]):await(0x0,w['useMultiFileAuthState'])((0x0,U[_0xa53f26(0x57d)])(Se,this['instance']['name']));}async[a0_0x31011a(0x5dc)](){const _0x5a2fa2=a0_0x31011a;let _0x274022=()=>Math[_0x5a2fa2(0x7e2)](Math['random']()*0x4e21)+0x7d0,_0x50e399=async()=>{const _0x4c3225=_0x5a2fa2;if(!this[_0x4c3225(0x5ef)][_0x4c3225(0x362)]['isConnected']){this[_0x4c3225(0x843)][_0x4c3225(0x45c)](this[_0x4c3225(0x5c4)]+'\x20('+this[_0x4c3225(0x5ef)][_0x4c3225(0x4d2)]+'):Desconectado,\x20parando\x20execução.'),this['isRunning']=!0x1;return;}if(this[_0x4c3225(0x5ef)][_0x4c3225(0x4d2)]&&this[_0x4c3225(0x74b)]&&this['instance'][_0x4c3225(0x362)][_0x4c3225(0x46a)]!==null&&this[_0x4c3225(0x5ef)][_0x4c3225(0x362)][_0x4c3225(0x46a)]!==void 0x0){let _0xee4810=Math[_0x4c3225(0x90f)](this[_0x4c3225(0x5ef)][_0x4c3225(0x362)]['delayMessage']/0xea60);this[_0x4c3225(0x843)]['verbose'](this[_0x4c3225(0x5c4)]+'\x20('+this[_0x4c3225(0x5ef)][_0x4c3225(0x4d2)]+_0x4c3225(0x376)+_0xee4810+_0x4c3225(0x7f2)),this[_0x4c3225(0x666)]=!0x1;return;}else this[_0x4c3225(0x5ef)][_0x4c3225(0x4d2)]&&(this[_0x4c3225(0x843)][_0x4c3225(0x45c)](this[_0x4c3225(0x5c4)]+'\x20('+this[_0x4c3225(0x5ef)][_0x4c3225(0x4d2)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||(await this[_0x4c3225(0x203)](),this[_0x4c3225(0x30a)](),this[_0x4c3225(0x3c1)]()),(this[_0x4c3225(0x5ef)][_0x4c3225(0x362)]['delayMessage']===null||this[_0x4c3225(0x5ef)]['ScheduleMessage'][_0x4c3225(0x46a)]===void 0x0)&&await this[_0x4c3225(0x37c)]());if(this[_0x4c3225(0x666)]){let _0x283ad3=_0x274022();this[_0x4c3225(0x843)][_0x4c3225(0x45c)](this[_0x4c3225(0x5c4)]+_0x4c3225(0x204)+_0x283ad3/0x3e8+_0x4c3225(0x5cf)),setTimeout(_0x50e399,_0x283ad3);}};if(this[_0x5a2fa2(0x666)])return;this[_0x5a2fa2(0x666)]=!0x0;let _0x353b2b=_0x274022();setTimeout(_0x50e399,_0x353b2b);}async[a0_0x31011a(0x3c1)](){const _0xe7a216=a0_0x31011a;let _0x4d95ca=this[_0xe7a216(0x5ef)]['wuid'];try{let _0x44d122=await this[_0xe7a216(0x3c6)][_0xe7a216(0x8c7)]['findAll']({'where':{'$or':[{'owner':_0x4d95ca},{'whoCanUse':{'$in':[_0x4d95ca]}},{'shareOwners':{'$in':[_0x4d95ca]}}]}}),_0x2dbd60=await this[_0xe7a216(0x3c6)]['flow'][_0xe7a216(0x49d)]({'where':{'$or':[{'owner':'global'},{'whoCanUse':{'$in':['global']}},{'shareOwners':{'$in':[_0xe7a216(0x6e6)]}}]}});_0x2dbd60&&_0x2dbd60[_0xe7a216(0x6f0)]>0x0?this[_0xe7a216(0x843)]['verbose'](this[_0xe7a216(0x5c4)]+'\x20('+this[_0xe7a216(0x5ef)][_0xe7a216(0x4d2)]+_0xe7a216(0x3b1)):(await this[_0xe7a216(0x3c6)][_0xe7a216(0x8c7)][_0xe7a216(0x26f)](_0xe7a216(0x6e6)),this[_0xe7a216(0x843)][_0xe7a216(0x45c)](this[_0xe7a216(0x5c4)]+'\x20('+this[_0xe7a216(0x5ef)]['wuid']+'):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.')),_0x44d122&&_0x44d122[_0xe7a216(0x6f0)]>0x0?this[_0xe7a216(0x843)][_0xe7a216(0x45c)](this[_0xe7a216(0x5c4)]+'\x20('+this[_0xe7a216(0x5ef)][_0xe7a216(0x4d2)]+_0xe7a216(0x77a)+_0x4d95ca+_0xe7a216(0x3af)):(await this[_0xe7a216(0x3c6)][_0xe7a216(0x8c7)][_0xe7a216(0x26f)](_0x4d95ca),this[_0xe7a216(0x843)][_0xe7a216(0x45c)](this[_0xe7a216(0x5c4)]+'\x20('+this[_0xe7a216(0x5ef)][_0xe7a216(0x4d2)]+_0xe7a216(0x77a)+_0x4d95ca+_0xe7a216(0x328)),_0x44d122=await this[_0xe7a216(0x3c6)][_0xe7a216(0x8c7)]['findAll']({'where':{'$or':[{'owner':_0x4d95ca},{'whoCanUse':{'$in':[_0x4d95ca]}},{'shareOwners':{'$in':[_0x4d95ca]}}]}}));let _0x3298e1=new Map(this['AutomateSystem'][_0xe7a216(0x74d)][_0xe7a216(0x74c)](_0x4d9764=>[_0x4d9764['_id'],_0x4d9764])),_0xc412de=_0x44d122[_0xe7a216(0x74c)](_0x435eb5=>{const _0xe72190=_0xe7a216;let _0x384060=_0x3298e1[_0xe72190(0x67e)](_0x435eb5['_id']?.[_0xe72190(0x45e)]());return{'_id':_0x435eb5[_0xe72190(0x22c)]?.[_0xe72190(0x45e)](),'name':_0x384060?.[_0xe72190(0x3a4)]??_0x435eb5['name'],'default':_0x384060?.[_0xe72190(0x20b)]??_0x435eb5[_0xe72190(0x20b)]??!0x1,'startCommand':_0x384060?.['startCommand']??_0x435eb5[_0xe72190(0x1ea)],'minutesToClose':_0x384060?.[_0xe72190(0x238)]??_0x435eb5[_0xe72190(0x238)]??0xa,'readMessages':_0x384060?.[_0xe72190(0x6f2)]??_0x435eb5['readMessages']??!0x1,'testingWith':_0x384060?.[_0xe72190(0x33d)]??_0x435eb5[_0xe72190(0x33d)],'canEdit':_0x435eb5[_0xe72190(0x5d1)]===_0x4d95ca||(_0x435eb5[_0xe72190(0x4cb)]??[])[_0xe72190(0x397)](_0x4d95ca),'usersCount':(_0x435eb5[_0xe72190(0x8aa)]??[])['length']??0x0};}),_0x1826c1=!0x1;_0xc412de[_0xe7a216(0x201)](_0x2d5dce=>{const _0x44cfe=_0xe7a216;_0x2d5dce[_0x44cfe(0x20b)]&&(_0x1826c1?_0x2d5dce['default']=!0x1:_0x1826c1=!0x0);}),this[_0xe7a216(0x74b)]['flows']=_0xc412de;let _0x566179={'flows':_0xc412de};return await this[_0xe7a216(0x3c6)][_0xe7a216(0x423)][_0xe7a216(0x4da)](_0x566179,_0x4d95ca),this['logger'][_0xe7a216(0x45c)](this[_0xe7a216(0x5c4)]+'\x20('+_0x4d95ca+_0xe7a216(0x259)),_0xc412de[_0xe7a216(0x6f0)];}catch(_0x3e01f7){return this['logger'][_0xe7a216(0x4e4)](this[_0xe7a216(0x5c4)]+'\x20('+_0x4d95ca+_0xe7a216(0x6f7)+(_0x3e01f7 instanceof Error?_0x3e01f7['message']:JSON['stringify'](_0x3e01f7,null,0x2))),{'message':_0xe7a216(0x8ab)+(_0x3e01f7 instanceof Error?_0x3e01f7[_0xe7a216(0x852)]:JSON[_0xe7a216(0x720)](_0x3e01f7,null,0x2))};}}async[a0_0x31011a(0x82e)](_0x4c2dde){const _0x2ccd13=a0_0x31011a;try{let _0x18d3a9=await this['repository'][_0x2ccd13(0x5ef)][_0x2ccd13(0x917)]({'where':{'_id':X+'-'+this[_0x2ccd13(0x5c4)]}}),_0x37b5cb;console['log'](_0x2ccd13(0x685)),console[_0x2ccd13(0x200)](_0x2ccd13(0x664),Oi),console[_0x2ccd13(0x200)](_0x2ccd13(0x2f7),this[_0x2ccd13(0x717)]),console[_0x2ccd13(0x200)](_0x2ccd13(0x685)),Oi&&(this[_0x2ccd13(0x717)]<0x4||!this[_0x2ccd13(0x717)])&&(!he['ipv6Prefix']||!he[_0x2ccd13(0x6ab)]?(console[_0x2ccd13(0x4e4)](_0x2ccd13(0x5bd)),_0x37b5cb=void 0x0):_0x18d3a9&&_0x18d3a9['ip']?(_0x37b5cb=_0x18d3a9['ip'],console['log'](_0x2ccd13(0x62c)+_0x37b5cb)):(_0x37b5cb=await he[_0x2ccd13(0x3a1)](X,this[_0x2ccd13(0x5ef)]['name']),_0x37b5cb?(console['log'](_0x2ccd13(0x8cd)+_0x37b5cb),await(0x0,w[_0x2ccd13(0x430)])(0x3e8)):console[_0x2ccd13(0x4e4)](_0x2ccd13(0x221)))),this[_0x2ccd13(0x51d)](),this[_0x2ccd13(0x5ef)]['apikey']=(await this[_0x2ccd13(0x3c6)][_0x2ccd13(0x6e5)][_0x2ccd13(0x90d)](this[_0x2ccd13(0x5ef)][_0x2ccd13(0x3a4)]))[_0x2ccd13(0x698)],this[_0x2ccd13(0x5ef)]['authState']=await this[_0x2ccd13(0x8e2)]();let {version:_0x150484}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x296bbe=[ki,js,(0x0,Ls[_0x2ccd13(0x4d4)])()],_0x70efbd={'localAddress':_0x37b5cb,'auth':{'creds':this[_0x2ccd13(0x5ef)][_0x2ccd13(0x388)][_0x2ccd13(0x2e2)][_0x2ccd13(0x2ae)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x2ccd13(0x5ef)][_0x2ccd13(0x388)]['state'][_0x2ccd13(0x31f)],(0x0,Jt[_0x2ccd13(0x20b)])({'level':'error'}))},'logger':(0x0,Jt[_0x2ccd13(0x20b)])({'level':_0x2ccd13(0x4e4)}),'printQRInTerminal':!0x1,'browser':_0x4c2dde?[_0x2ccd13(0x458),js,(0x0,Ls[_0x2ccd13(0x4d4)])()]:_0x296bbe,'version':_0x150484,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x135d9a=>{const _0x5c230d=_0x2ccd13;let _0x4385b2=_0x135d9a['endsWith'](_0x5c230d(0x389)),_0x3e5389=this[_0x5c230d(0x88c)]?.[_0x5c230d(0x4d3)]&&_0x135d9a['endsWith'](_0x5c230d(0x263));return _0x4385b2||(0x0,w[_0x5c230d(0x7b4)])(_0x135d9a)||_0x3e5389;},'msgRetryCounterCache':this[_0x2ccd13(0x8ae)],'getMessage':async _0x2bac70=>await this[_0x2ccd13(0x32a)](_0x2bac70),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2ccd13(0x86f)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xf01af9=>(_0xf01af9[_0x2ccd13(0x4d5)]?.['listType']==w[_0x2ccd13(0x93f)][_0x2ccd13(0x70f)]['ListMessage'][_0x2ccd13(0x3aa)][_0x2ccd13(0x863)]&&(_0xf01af9=JSON[_0x2ccd13(0x25b)](JSON[_0x2ccd13(0x720)](_0xf01af9)),_0xf01af9['listMessage'][_0x2ccd13(0x93c)]=w['proto'][_0x2ccd13(0x70f)][_0x2ccd13(0x2d8)][_0x2ccd13(0x3aa)][_0x2ccd13(0x830)]),_0xf01af9)};return this[_0x2ccd13(0x5ae)]=!0x1,this[_0x2ccd13(0x286)]=(0x0,w[_0x2ccd13(0x20b)])(_0x70efbd),this['eventHandler'](),this[_0x2ccd13(0x7b7)]=_0x4c2dde,this['client'];}catch(_0x1e17f6){let _0x46a474=_0x2ccd13(0x57b),_0x31879f=_0x1e17f6 instanceof Error?_0x1e17f6[_0x2ccd13(0x852)]:typeof _0x1e17f6==_0x2ccd13(0x545)?JSON[_0x2ccd13(0x720)](_0x1e17f6):_0x1e17f6,_0xc04280=_0x46a474+':\x20'+_0x31879f;throw this[_0x2ccd13(0x843)]['error'](this[_0x2ccd13(0x5c4)]+'\x20('+this[_0x2ccd13(0x5ef)]['wuid']+'):\x20'+_0xc04280),new x(_0xc04280);}}[a0_0x31011a(0x58f)](){const _0x4f3fb8=a0_0x31011a;this[_0x4f3fb8(0x286)]['ev']['process'](_0x25cf0d=>{const _0x3d3aed=_0x4f3fb8;if(!this[_0x3d3aed(0x5ae)]){let _0x1150c8=this[_0x3d3aed(0x58e)][_0x3d3aed(0x67e)](_0x3d3aed(0x578));if(_0x25cf0d[_0x3d3aed(0x6f3)]){let _0x4b72f9=_0x25cf0d[_0x3d3aed(0x6f3)];this[_0x3d3aed(0x948)][_0x3d3aed(0x6f3)](_0x4b72f9);}if(_0x25cf0d['labels.association']){let _0x277dcb=_0x25cf0d['labels.association'];this[_0x3d3aed(0x948)]['labels.association'](_0x277dcb);}if(_0x25cf0d[_0x3d3aed(0x592)]&&this[_0x3d3aed(0x802)](_0x25cf0d[_0x3d3aed(0x592)]),_0x25cf0d[_0x3d3aed(0x8ff)]&&this['instance'][_0x3d3aed(0x388)]['saveCreds'](),_0x25cf0d[_0x3d3aed(0x82b)]){let _0x5a0e17=_0x25cf0d[_0x3d3aed(0x82b)];this[_0x3d3aed(0x948)][_0x3d3aed(0x82b)](_0x5a0e17,_0x1150c8);}if(_0x25cf0d[_0x3d3aed(0x8f8)]){let _0x20f113=_0x25cf0d[_0x3d3aed(0x8f8)];this[_0x3d3aed(0x948)]['messages.upsert'](_0x20f113,_0x1150c8);}if(_0x25cf0d[_0x3d3aed(0x6d8)]){let _0x2fbe0f=_0x25cf0d[_0x3d3aed(0x6d8)];this[_0x3d3aed(0x948)]['messages.update'](_0x2fbe0f,_0x1150c8);}if(_0x25cf0d[_0x3d3aed(0x627)]){let _0x44bc79=_0x25cf0d[_0x3d3aed(0x627)];if(this[_0x3d3aed(0x88c)]?.[_0x3d3aed(0x4d3)]&&_0x44bc79['id']['includes']('@g.us'))return;this[_0x3d3aed(0x854)](_0x3d3aed(0x627),_0x44bc79);}if(_0x25cf0d[_0x3d3aed(0x94d)]){let _0x13b158=_0x25cf0d[_0x3d3aed(0x94d)];this[_0x3d3aed(0x2e6)][_0x3d3aed(0x94d)](_0x13b158);}if(_0x25cf0d[_0x3d3aed(0x1ff)]){let _0x502b5f=_0x25cf0d['groups.update'];this[_0x3d3aed(0x2e6)][_0x3d3aed(0x1ff)](_0x502b5f);}if(_0x25cf0d[_0x3d3aed(0x694)]){let _0x2698cc=_0x25cf0d[_0x3d3aed(0x694)];this[_0x3d3aed(0x2e6)]['group-participants.update'](_0x2698cc);}if(_0x25cf0d['chats.upsert']){let _0x34e3ab=_0x25cf0d[_0x3d3aed(0x2b6)];this[_0x3d3aed(0x393)]['chats.upsert'](_0x34e3ab,_0x1150c8);}if(_0x25cf0d['chats.update']){let _0x35fb06=_0x25cf0d['chats.update'];this[_0x3d3aed(0x393)][_0x3d3aed(0x864)](_0x35fb06,_0x1150c8);}if(_0x25cf0d[_0x3d3aed(0x29f)]){let _0x4e47b8=_0x25cf0d[_0x3d3aed(0x29f)];this[_0x3d3aed(0x393)][_0x3d3aed(0x29f)](_0x4e47b8);}if(_0x25cf0d[_0x3d3aed(0x1e8)]){let _0x39672b=_0x25cf0d[_0x3d3aed(0x1e8)];this['contactHandle']['contacts.upsert'](_0x39672b,_0x1150c8);}if(_0x25cf0d[_0x3d3aed(0x3f8)]){let _0x4b7956=_0x25cf0d[_0x3d3aed(0x3f8)];this['contactHandle'][_0x3d3aed(0x3f8)](_0x4b7956,_0x1150c8);}}});}async[a0_0x31011a(0x7d8)](_0x1fcb0b,_0x470f01){const _0x248fd1=a0_0x31011a;if(_0x470f01>=0xa){console[_0x248fd1(0x4e4)](this[_0x248fd1(0x5c4)]+'\x20('+this[_0x248fd1(0x5ef)][_0x248fd1(0x4d2)]+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete jt[_0x1fcb0b[_0x248fd1(0x683)]['id']];return;}try{console[_0x248fd1(0x4e4)](this[_0x248fd1(0x5c4)]+'\x20('+this['instance'][_0x248fd1(0x4d2)]+_0x248fd1(0x61f)+(_0x470f01+0x1)),await this[_0x248fd1(0x286)][_0x248fd1(0x682)](JSON[_0x248fd1(0x25b)](_0x1fcb0b['messageStubParameters'][0x1],w[_0x248fd1(0x765)]['reviver'])),console[_0x248fd1(0x4e4)](_0x248fd1(0x7ba));}catch(_0x3fa759){console[_0x248fd1(0x4e4)](this[_0x248fd1(0x5c4)]+'\x20('+this[_0x248fd1(0x5ef)][_0x248fd1(0x4d2)]+_0x248fd1(0x753)+_0x3fa759),setTimeout(()=>this[_0x248fd1(0x7d8)](_0x1fcb0b,_0x470f01+0x1),Math[_0x248fd1(0x4dc)](0x2,_0x470f01)*0x3e8);}}[a0_0x31011a(0x3ba)](_0x5d2288){return new Promise(_0x455f71=>setTimeout(_0x455f71,_0x5d2288));}['formatBRNumber'](_0xef0c15){const _0x46028d=a0_0x31011a;_0xef0c15=_0xef0c15[_0x46028d(0x929)](/\D/g,'');let _0x4c4fd0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x46028d(0x8a2)](_0xef0c15);if(_0x4c4fd0&&_0x4c4fd0[0x1]==='55'){let _0x4c92ac=_0x4c4fd0[0x2],_0x4f1a48=_0x4c4fd0[0x3],_0x40d6c6=_0x4c4fd0[0x4];if(parseInt(_0x4c92ac)>=0x1f&&_0x4f1a48==='9')return _0x4c4fd0[0x1]+_0x4c92ac+_0x40d6c6;}return _0xef0c15;}[a0_0x31011a(0x718)](_0x2cf8fe){const _0xa0ae0d=a0_0x31011a;return _0x2cf8fe[_0xa0ae0d(0x397)](_0xa0ae0d(0x263))||_0x2cf8fe[_0xa0ae0d(0x397)]('@s.whatsapp.net')||_0x2cf8fe[_0xa0ae0d(0x397)](_0xa0ae0d(0x3eb))?_0x2cf8fe:(_0x2cf8fe=_0x2cf8fe?.['replace'](/\s/g,'')[_0xa0ae0d(0x929)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')[_0xa0ae0d(0x912)](/\:/)[0x0][_0xa0ae0d(0x912)]('@')[0x0],_0x2cf8fe['length']>=0x12?(_0x2cf8fe=_0x2cf8fe['replace'](/[^\d-]/g,''),_0x2cf8fe+_0xa0ae0d(0x263)):(_0x2cf8fe=_0x2cf8fe[_0xa0ae0d(0x929)](/\D/g,''),_0x2cf8fe+_0xa0ae0d(0x92c)));}async['updatePresence'](_0x3ac4ae){const _0x419614=a0_0x31011a;let _0xe47aa=(await this['whatsappNumber']({'numbers':[_0x3ac4ae[_0x419614(0x5d9)]]}))[0x0];if(!_0xe47aa[_0x419614(0x334)]&&!(0x0,w[_0x419614(0x2c4)])(_0xe47aa[_0x419614(0x7a1)])&&!_0xe47aa[_0x419614(0x7a1)][_0x419614(0x397)]('@broadcast'))throw new m(_0xe47aa);let _0xdd134c=_0xe47aa[_0x419614(0x7a1)];try{return await this['client'][_0x419614(0x387)](_0xdd134c),await this['client'][_0x419614(0x892)](_0x3ac4ae['presence'],_0xdd134c),{'status':0xc8,'presence':_0x3ac4ae[_0x419614(0x8d8)]};}catch(_0x343587){let _0x4d3311=_0x419614(0x307),_0x3a65f8=_0x343587 instanceof Error?_0x343587[_0x419614(0x852)]:typeof _0x343587=='object'?JSON[_0x419614(0x720)](_0x343587):_0x343587,_0x5503f5=_0x4d3311+':\x20'+_0x3a65f8;throw this['logger'][_0x419614(0x4e4)](this[_0x419614(0x5c4)]+'\x20('+this[_0x419614(0x5ef)][_0x419614(0x4d2)]+_0x419614(0x878)+_0x5503f5),new m(_0x5503f5);}}async[a0_0x31011a(0x32d)](_0x368fd7,_0x122598,_0x299ce1,_0x2e67bc=!0x0){const _0x478cec=a0_0x31011a;let _0x4dd8b8=await this[_0x478cec(0x3c6)][_0x478cec(0x784)][_0x478cec(0x917)]({'where':{'_id':_0x368fd7}});if(!_0x4dd8b8&&!_0x2e67bc)return;let _0x373585={'lastUpdate':Date[_0x478cec(0x6d9)]()};if(_0x299ce1||!_0x4dd8b8?.[_0x478cec(0x733)]||Date[_0x478cec(0x6d9)]()-_0x4dd8b8[_0x478cec(0x733)]>0x18*0x3c*0x3c*0x3e8)try{let _0x58b5f4=(await this[_0x478cec(0x33c)](_0x368fd7))[_0x478cec(0x4fb)];_0x373585[_0x478cec(0x2f8)]=_0x58b5f4;}catch(_0x597706){let _0x2fe93c=_0x478cec(0x533),_0x54f9f3=_0x597706 instanceof Error?_0x597706[_0x478cec(0x852)]:typeof _0x597706=='object'?JSON[_0x478cec(0x720)](_0x597706):_0x597706,_0x43c5e6=_0x2fe93c+':\x20'+_0x54f9f3;throw this['logger']['error'](this[_0x478cec(0x5c4)]+'\x20('+this[_0x478cec(0x5ef)]['wuid']+_0x478cec(0x878)+_0x43c5e6),new m(_0x43c5e6);}return _0x122598&&_0x4dd8b8?.[_0x478cec(0x3a4)]!==_0x122598&&(_0x373585[_0x478cec(0x3a4)]=_0x122598),Object['keys'](_0x373585)[_0x478cec(0x6f0)]>0x1&&(_0x4dd8b8?await this['repository'][_0x478cec(0x784)]['update']({'where':{'_id':_0x368fd7}},_0x373585):await this['repository'][_0x478cec(0x784)]['insert']([{'_id':_0x368fd7,..._0x373585}]),_0x4dd8b8={..._0x4dd8b8,..._0x373585}),{'cachedContact':_0x4dd8b8};}async[a0_0x31011a(0x33c)](_0x252a64){const _0x3e835c=a0_0x31011a;let _0x4816f5=this['createJid'](_0x252a64);try{return{'wuid':_0x4816f5,'profilePictureUrl':await this[_0x3e835c(0x286)]['profilePictureUrl'](_0x4816f5,_0x3e835c(0x3d8))};}catch{return{'wuid':_0x4816f5,'profilePictureUrl':null};}}async[a0_0x31011a(0x676)](_0x3a96de,_0x2eb041,_0x37f639){const _0x372fcd=a0_0x31011a;let _0x1e9e86;try{let _0xc3624=(await this[_0x372fcd(0x2f2)]({'numbers':[_0x3a96de]}))[0x0];if(!_0xc3624[_0x372fcd(0x334)]&&!(0x0,w[_0x372fcd(0x2c4)])(_0xc3624[_0x372fcd(0x7a1)])&&!_0xc3624[_0x372fcd(0x7a1)][_0x372fcd(0x397)](_0x372fcd(0x3eb)))throw new m(_0xc3624);_0x1e9e86=_0xc3624[_0x372fcd(0x7a1)];}catch(_0x145acc){_0x1e9e86=_0x3a96de,this['logger'][_0x372fcd(0x273)](this[_0x372fcd(0x5c4)]+'\x20('+this[_0x372fcd(0x5ef)]['wuid']+_0x372fcd(0x2d9)+_0x145acc[_0x372fcd(0x852)]),this[_0x372fcd(0x843)][_0x372fcd(0x273)](this[_0x372fcd(0x5c4)]+'\x20('+this['instance'][_0x372fcd(0x4d2)]+_0x372fcd(0x5b5)+_0x1e9e86);}try{if(_0x1e9e86||(_0x1e9e86=_0x3a96de,this['logger'][_0x372fcd(0x273)](this['instanceName']+'\x20('+this[_0x372fcd(0x5ef)][_0x372fcd(0x4d2)]+_0x372fcd(0x31d)+_0x1e9e86)),_0x37f639||(_0x37f639={}),_0x37f639?.[_0x372fcd(0x430)]){await this['client']['presenceSubscribe'](_0x1e9e86),await this['client'][_0x372fcd(0x892)](_0x37f639?.[_0x372fcd(0x8d8)]??_0x372fcd(0x7ea),_0x1e9e86);let _0x1ef702=Math['min'](_0x37f639[_0x372fcd(0x430)],0x2710);await(0x0,w[_0x372fcd(0x430)])(_0x1ef702),await this[_0x372fcd(0x286)]['sendPresenceUpdate'](_0x372fcd(0x876),_0x1e9e86);}let _0x1c5134=_0x37f639?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x54d2b6;if(_0x37f639?.[_0x372fcd(0x436)]){let _0x3db074=_0x37f639?.[_0x372fcd(0x436)],_0x14fb35=_0x3db074?.['message']?_0x3db074:await this[_0x372fcd(0x32a)](_0x3db074[_0x372fcd(0x683)],!0x0);if(!_0x14fb35)throw _0x372fcd(0x4c9);_0x54d2b6=_0x14fb35;}let _0x277cd6;if((0x0,w[_0x372fcd(0x2c4)])(_0x1e9e86))try{let _0x4d862e=(await this[_0x372fcd(0x3c6)][_0x372fcd(0x3bc)][_0x372fcd(0x917)]({'where':{'_id':_0x1e9e86}},this[_0x372fcd(0x5ef)][_0x372fcd(0x4d2)]))[_0x372fcd(0x438)];if(!_0x4d862e)throw new J(_0x372fcd(0x740));_0x37f639?.['mentions']&&(_0x37f639[_0x372fcd(0x544)]?.[_0x372fcd(0x625)]?_0x277cd6=_0x4d862e[_0x372fcd(0x471)][_0x372fcd(0x74c)](_0x2e4864=>_0x2e4864['id']):_0x37f639[_0x372fcd(0x544)]?.[_0x372fcd(0x5ee)]?.[_0x372fcd(0x6f0)]&&(_0x277cd6=_0x37f639['mentions'][_0x372fcd(0x5ee)][_0x372fcd(0x74c)](_0x4f7da6=>{let _0x7f6d6b=this['createJid'](_0x4f7da6);return(0x0,w['isJidGroup'])(_0x7f6d6b)?null:_0x7f6d6b;})));}catch{throw new J(_0x372fcd(0x740));}let _0x2a8955=await this['repository'][_0x372fcd(0x3bc)][_0x372fcd(0x917)]({'where':{'_id':_0x1e9e86}},this[_0x372fcd(0x5ef)]['wuid']),_0x567acb=await((async()=>{const _0x2b8d90=_0x372fcd;let _0x779686={'quoted':_0x54d2b6,'ephemeralExpiration':_0x2a8955?.['ephemeralExpiration']??0x0};if(!_0x2eb041['audio']&&!_0x2eb041[_0x2b8d90(0x832)]&&!_0x2eb041[_0x2b8d90(0x888)]&&!_0x2eb041['conversation']&&_0x1e9e86!=='status@broadcast'&&!_0x2eb041['audio'])return await this['client'][_0x2b8d90(0x3e2)](_0x1e9e86,{'forward':{'key':{'remoteJid':this[_0x2b8d90(0x5ef)][_0x2b8d90(0x4d2)],'fromMe':!0x0},'message':_0x2eb041},'mentions':_0x277cd6},_0x779686);if(_0x2eb041[_0x2b8d90(0x7bc)])return await this[_0x2b8d90(0x286)]['sendMessage'](_0x1e9e86,{'react':{'text':_0x2eb041[_0x2b8d90(0x7bc)][_0x2b8d90(0x64c)],'key':_0x2eb041[_0x2b8d90(0x7bc)]['key']}},_0x779686);if(_0x2eb041[_0x2b8d90(0x6ce)]){let _0x113ec8=_0x2eb041['conversation'];return _0x37f639?.['changeVariables']&&(_0x113ec8=await this[_0x2b8d90(0x728)](_0x113ec8,_0x1e9e86)),await this[_0x2b8d90(0x286)][_0x2b8d90(0x3e2)](_0x1e9e86,{'text':_0x113ec8,'mentions':_0x277cd6,'linkPreview':_0x1c5134},_0x779686);}return _0x1e9e86===_0x2b8d90(0x8f9)?await this[_0x2b8d90(0x286)]['sendMessage'](_0x1e9e86,_0x2eb041['status']['content'],{'backgroundColor':_0x2eb041['status']['option']['backgroundColor'],'font':_0x2eb041['status']['option'][_0x2b8d90(0x5fe)],'statusJidList':_0x2eb041['status'][_0x2b8d90(0x5fa)][_0x2b8d90(0x3dc)]}):await this[_0x2b8d90(0x286)][_0x2b8d90(0x3e2)](_0x1e9e86,_0x2eb041,_0x779686);})()),_0x3fdb85=(0x0,w[_0x372fcd(0x3c5)])(_0x567acb[_0x372fcd(0x852)]),_0x2aa6a2=(0x0,w[_0x372fcd(0x59b)])(_0x3fdb85),{message_normalized:_0x20f002}=this[_0x372fcd(0x4d1)](_0x3fdb85,_0x2aa6a2,null),_0x370906={'_id':_0x567acb[_0x372fcd(0x683)]['id'],'key':_0x567acb[_0x372fcd(0x683)],'pushName':_0x567acb[_0x372fcd(0x727)],'isGroup':_0x567acb[_0x372fcd(0x683)][_0x372fcd(0x651)][_0x372fcd(0x901)](_0x372fcd(0x263)),'profilePictureUrl':this[_0x372fcd(0x5ef)][_0x372fcd(0x4fb)],'message':_0x3fdb85,'messageType':_0x2aa6a2,'message_normalized':{'key':_0x567acb[_0x372fcd(0x683)],'pushName':_0x567acb[_0x372fcd(0x727)],'messageTimestamp':_0x567acb['messageTimestamp']&&_0x567acb['messageTimestamp'][_0x372fcd(0x45e)]()[_0x372fcd(0x6f0)]<0xd?_0x567acb[_0x372fcd(0x39f)]*0x3e8:_0x567acb[_0x372fcd(0x39f)]||null,'source':(0x0,w[_0x372fcd(0x7ef)])(_0x567acb[_0x372fcd(0x683)]['id']),..._0x20f002},'messageTimestamp':_0x567acb[_0x372fcd(0x39f)]&&_0x567acb['messageTimestamp'][_0x372fcd(0x45e)]()[_0x372fcd(0x6f0)]<0xd?_0x567acb[_0x372fcd(0x39f)]*0x3e8:_0x567acb[_0x372fcd(0x39f)]||null,'owner':this[_0x372fcd(0x5ef)][_0x372fcd(0x4d2)],'source':(0x0,w[_0x372fcd(0x7ef)])(_0x567acb[_0x372fcd(0x683)]['id'])};return this[_0x372fcd(0x843)][_0x372fcd(0x273)](this[_0x372fcd(0x5c4)]+'\x20('+this[_0x372fcd(0x5ef)][_0x372fcd(0x4d2)]+_0x372fcd(0x28e)+_0x370906[_0x372fcd(0x683)]?.[_0x372fcd(0x651)][_0x372fcd(0x929)](_0x372fcd(0x92c),'')+_0x372fcd(0x512)+_0x370906['messageType']+')'),_0x370906[_0x372fcd(0x1f4)]?.[_0x372fcd(0x64c)]&&this[_0x372fcd(0x843)][_0x372fcd(0x273)](_0x370906[_0x372fcd(0x1f4)]?.['text']),this['sendDataWebhook'](_0x372fcd(0x57c),_0x370906),j(this[_0x372fcd(0x5c4)],_0x372fcd(0x447),{'message':_0x370906}),this['updateChatWithMessage'](this[_0x372fcd(0x58e)][_0x372fcd(0x67e)]('DATABASE'),_0x370906,_0x372fcd(0x7cd),_0x2a8955),await this[_0x372fcd(0x3c6)][_0x372fcd(0x852)][_0x372fcd(0x46d)]([_0x370906],this['instance'][_0x372fcd(0x4d2)]),_0x567acb;}catch(_0x3b9c2b){let _0x175587=_0x372fcd(0x452)+_0x1e9e86,_0x42cd40=_0x3b9c2b instanceof Error?_0x3b9c2b[_0x372fcd(0x852)]:typeof _0x3b9c2b==_0x372fcd(0x545)?JSON[_0x372fcd(0x720)](_0x3b9c2b):_0x3b9c2b,_0x5d00c9=_0x175587+':\x20'+_0x42cd40;throw this[_0x372fcd(0x843)][_0x372fcd(0x4e4)](this[_0x372fcd(0x5c4)]+'\x20('+this[_0x372fcd(0x5ef)][_0x372fcd(0x4d2)]+_0x372fcd(0x878)+_0x5d00c9),new m(_0x5d00c9);}}get[a0_0x31011a(0x92d)](){return this['stateConnection'];}async[a0_0x31011a(0x338)](_0x1d7429){const _0x44ccaa=a0_0x31011a;return await this[_0x44ccaa(0x676)](_0x1d7429[_0x44ccaa(0x5d9)],{'conversation':_0x1d7429[_0x44ccaa(0x338)][_0x44ccaa(0x64c)]},_0x1d7429?.['options']);}async[a0_0x31011a(0x553)](_0x138681){const _0x14bce9=a0_0x31011a;if(!_0x138681[_0x14bce9(0x294)])throw new m(_0x14bce9(0x39b));if(!_0x138681[_0x14bce9(0x206)])throw new m(_0x14bce9(0x76a));if(_0x138681['allContacts']){let _0x585352=await this[_0x14bce9(0x3c6)][_0x14bce9(0x225)][_0x14bce9(0x90d)]({'where':{}},this[_0x14bce9(0x5ef)][_0x14bce9(0x4d2)]);if(!_0x585352[_0x14bce9(0x6f0)])throw new m('Contacts\x20not\x20found');_0x138681[_0x14bce9(0x3dc)]=_0x585352[_0x14bce9(0x497)](_0x14aed7=>_0x14aed7[_0x14bce9(0x727)])['map'](_0x2f4a4f=>_0x2f4a4f[_0x14bce9(0x22c)]);}if(!_0x138681['statusJidList']?.[_0x14bce9(0x6f0)]&&!_0x138681[_0x14bce9(0x68d)])throw new m(_0x14bce9(0x770));if(_0x138681['type']===_0x14bce9(0x64c)){if(!_0x138681[_0x14bce9(0x468)])throw new m(_0x14bce9(0x407));if(!_0x138681[_0x14bce9(0x5fe)])throw new m(_0x14bce9(0x6a0));return{'content':{'text':_0x138681[_0x14bce9(0x206)]},'option':{'backgroundColor':_0x138681[_0x14bce9(0x468)],'font':_0x138681[_0x14bce9(0x5fe)],'statusJidList':_0x138681[_0x14bce9(0x3dc)]}};}if(_0x138681[_0x14bce9(0x294)]===_0x14bce9(0x3d8))return{'content':{'image':{'url':_0x138681[_0x14bce9(0x206)]},'caption':_0x138681[_0x14bce9(0x649)]},'option':{'statusJidList':_0x138681[_0x14bce9(0x3dc)]}};if(_0x138681[_0x14bce9(0x294)]===_0x14bce9(0x635))return{'content':{'video':{'url':_0x138681[_0x14bce9(0x206)]},'caption':_0x138681[_0x14bce9(0x649)]},'option':{'statusJidList':_0x138681[_0x14bce9(0x3dc)]}};if(_0x138681['type']===_0x14bce9(0x56d)){this[_0x14bce9(0x843)][_0x14bce9(0x45c)](this[_0x14bce9(0x5c4)]+'\x20('+this['instance'][_0x14bce9(0x4d2)]+_0x14bce9(0x495)),this[_0x14bce9(0x843)][_0x14bce9(0x45c)](this[_0x14bce9(0x5c4)]+'\x20('+this[_0x14bce9(0x5ef)]['wuid']+_0x14bce9(0x429));let _0x249c75=await this[_0x14bce9(0x7fc)](_0x138681[_0x14bce9(0x206)]);if(typeof _0x249c75==_0x14bce9(0x415)){this[_0x14bce9(0x843)]['verbose'](this[_0x14bce9(0x5c4)]+'\x20('+this[_0x14bce9(0x5ef)][_0x14bce9(0x4d2)]+_0x14bce9(0x559));let _0x2af4fb=L[_0x14bce9(0x88a)](_0x249c75)[_0x14bce9(0x45e)](_0x14bce9(0x401));return{'content':{'audio':Buffer[_0x14bce9(0x370)](_0x2af4fb,_0x14bce9(0x401)),'ptt':!0x0,'mimetype':_0x14bce9(0x836)},'option':{'statusJidList':_0x138681['statusJidList']}};}else throw new x(_0x249c75);}throw new m(_0x14bce9(0x813));}async[a0_0x31011a(0x4ec)](_0x20b7cd){const _0x2b006d=a0_0x31011a;return await this[_0x2b006d(0x676)](_0x2b006d(0x8f9),{'status':await this[_0x2b006d(0x553)](_0x20b7cd[_0x2b006d(0x4ec)])});}async[a0_0x31011a(0x251)](_0x554a0f){const _0x421544=a0_0x31011a;try{let _0x340946=await(0x0,w[_0x421544(0x3dd)])({[_0x554a0f['mediatype']]:(0x0,k[_0x421544(0x4eb)])(_0x554a0f[_0x421544(0x8be)])?{'url':_0x554a0f[_0x421544(0x8be)]}:Buffer[_0x421544(0x370)](_0x554a0f[_0x421544(0x8be)],_0x421544(0x401))},{'upload':this[_0x421544(0x286)][_0x421544(0x58d)]}),_0x1e22e2=_0x554a0f[_0x421544(0x6cf)]+_0x421544(0x70f);if(_0x554a0f[_0x421544(0x6cf)]===_0x421544(0x3ed)&&!_0x554a0f['fileName']){let _0x3507b2=new RegExp(/.*\/(.+?)\./)[_0x421544(0x8a2)](_0x554a0f['media']);_0x554a0f[_0x421544(0x41e)]=_0x3507b2?_0x3507b2[0x1]:null;}let _0x54f743;return(0x0,k[_0x421544(0x4eb)])(_0x554a0f[_0x421544(0x8be)])?_0x54f743=(await Q[_0x421544(0x20b)]['get'](_0x554a0f['media'],{'responseType':_0x421544(0x5b1)}))[_0x421544(0x5f0)][_0x421544(0x7be)]:_0x54f743=(0x0,Pi['getMIMEType'])(_0x554a0f['fileName']),_0x340946[_0x1e22e2][_0x421544(0x649)]=_0x554a0f?.[_0x421544(0x649)],_0x340946[_0x1e22e2][_0x421544(0x7a7)]=_0x54f743,_0x340946[_0x1e22e2]['fileName']=_0x554a0f['fileName'],_0x554a0f[_0x421544(0x6cf)]===_0x421544(0x635)&&(_0x340946[_0x1e22e2][_0x421544(0x913)]=Uint8Array['from']((0x0,Le['readFileSync'])((0x0,U['join'])(process[_0x421544(0x35e)](),_0x421544(0x52e)))),_0x340946[_0x1e22e2][_0x421544(0x5b6)]=!0x1),(0x0,w[_0x421544(0x86c)])('',{[_0x1e22e2]:{..._0x340946[_0x1e22e2]}},{'userJid':this[_0x421544(0x5ef)][_0x421544(0x4d2)]});}catch(_0x43bd67){let _0x5c963c=_0x421544(0x2b4),_0x4417d0=_0x43bd67 instanceof Error?_0x43bd67['message']:typeof _0x43bd67==_0x421544(0x545)?JSON[_0x421544(0x720)](_0x43bd67):_0x43bd67,_0x2ced37=_0x5c963c+':\x20'+_0x4417d0;throw this[_0x421544(0x843)]['error'](this[_0x421544(0x5c4)]+'\x20('+this[_0x421544(0x5ef)]['wuid']+'):\x20'+_0x2ced37),new x(_0x2ced37);}}async[a0_0x31011a(0x24d)](_0x9a6471){const _0x59da54=a0_0x31011a;let _0x1dbef1=await this[_0x59da54(0x251)](_0x9a6471['mediaMessage']);return await this[_0x59da54(0x676)](_0x9a6471['number'],{..._0x1dbef1[_0x59da54(0x852)]},_0x9a6471?.[_0x59da54(0x1e4)]);}async[a0_0x31011a(0x7f6)](_0x34f4a1,_0x4aa832){const _0x21e0c2=a0_0x31011a;try{this['logger']['verbose'](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)]['wuid']+_0x21e0c2(0x902));let _0x4fce07,_0x1a4d77=_0x4aa832+'-'+new Date()[_0x21e0c2(0x78f)]();this[_0x21e0c2(0x843)][_0x21e0c2(0x45c)](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+'):Hash\x20to\x20image\x20name:\x20'+_0x1a4d77);let _0x5774e0=''+(0x0,U['join'])(this[_0x21e0c2(0x426)],_0x1a4d77+'.webp');if(this['logger'][_0x21e0c2(0x45c)](this['instanceName']+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+_0x21e0c2(0x502)+_0x5774e0),(0x0,k[_0x21e0c2(0x3ac)])(_0x34f4a1)){this[_0x21e0c2(0x843)][_0x21e0c2(0x45c)](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)]['wuid']+_0x21e0c2(0x6a1));let _0x264bf1=_0x34f4a1[_0x21e0c2(0x929)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x22e8d7=Buffer[_0x21e0c2(0x370)](_0x264bf1,_0x21e0c2(0x401));_0x4fce07=''+(0x0,U[_0x21e0c2(0x57d)])(this[_0x21e0c2(0x426)],_0x21e0c2(0x4d7)+_0x1a4d77+'.png'),this[_0x21e0c2(0x843)][_0x21e0c2(0x45c)](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)]['wuid']+_0x21e0c2(0x575)+_0x4fce07),await(0x0,qt[_0x21e0c2(0x20b)])(_0x22e8d7)['toFile'](_0x4fce07),this[_0x21e0c2(0x843)][_0x21e0c2(0x45c)](this['instanceName']+'\x20('+this[_0x21e0c2(0x5ef)]['wuid']+_0x21e0c2(0x412));}else{this[_0x21e0c2(0x843)]['verbose'](this['instanceName']+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+'):Image\x20is\x20url');let _0x3b5da8=new Date()['getTime'](),_0x136e2c=_0x34f4a1+_0x21e0c2(0x312)+_0x3b5da8;this[_0x21e0c2(0x843)][_0x21e0c2(0x45c)](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+_0x21e0c2(0x34f)+_0x136e2c);let _0x3ad47c=await Q[_0x21e0c2(0x20b)][_0x21e0c2(0x67e)](_0x136e2c,{'responseType':'arraybuffer'});this['logger'][_0x21e0c2(0x45c)](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+'):Getting\x20image\x20from\x20url');let _0x4c3729=Buffer[_0x21e0c2(0x370)](_0x3ad47c[_0x21e0c2(0x3fa)],_0x21e0c2(0x79e));_0x4fce07=''+(0x0,U['join'])(this[_0x21e0c2(0x426)],_0x21e0c2(0x4d7)+_0x1a4d77+_0x21e0c2(0x420)),this['logger'][_0x21e0c2(0x45c)](this['instanceName']+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+_0x21e0c2(0x575)+_0x4fce07),await(0x0,qt[_0x21e0c2(0x20b)])(_0x4c3729)[_0x21e0c2(0x264)](_0x4fce07),this[_0x21e0c2(0x843)][_0x21e0c2(0x45c)](this['instanceName']+'\x20('+this[_0x21e0c2(0x5ef)]['wuid']+_0x21e0c2(0x412));}return await(0x0,qt[_0x21e0c2(0x20b)])(_0x4fce07)['webp']()[_0x21e0c2(0x264)](_0x5774e0),this['logger'][_0x21e0c2(0x45c)](this['instanceName']+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+_0x21e0c2(0x8a3)),L[_0x21e0c2(0x239)](_0x4fce07),this[_0x21e0c2(0x843)]['verbose'](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)]['wuid']+_0x21e0c2(0x815)),_0x5774e0;}catch(_0x3f8203){let _0x2bb0a0=_0x21e0c2(0x30e),_0x1216cd=_0x3f8203 instanceof Error?_0x3f8203[_0x21e0c2(0x852)]:typeof _0x3f8203=='object'?JSON['stringify'](_0x3f8203):_0x3f8203,_0x173ef3=_0x2bb0a0+':\x20'+_0x1216cd;this[_0x21e0c2(0x843)]['error'](this[_0x21e0c2(0x5c4)]+'\x20('+this[_0x21e0c2(0x5ef)][_0x21e0c2(0x4d2)]+_0x21e0c2(0x878)+_0x173ef3);}}async[a0_0x31011a(0x3cc)](_0x26c810){const _0x35375a=a0_0x31011a;let _0x5235bf=await this[_0x35375a(0x7f6)](_0x26c810[_0x35375a(0x41f)][_0x35375a(0x3d8)],_0x26c810['number']),_0x25c8cc=await this[_0x35375a(0x676)](_0x26c810[_0x35375a(0x5d9)],{'sticker':{'url':_0x5235bf}},_0x26c810?.[_0x35375a(0x1e4)]);return L[_0x35375a(0x239)](_0x5235bf),this[_0x35375a(0x843)]['verbose'](this[_0x35375a(0x5c4)]+'\x20('+this[_0x35375a(0x5ef)][_0x35375a(0x4d2)]+'):Converted\x20image\x20deleted'),_0x25c8cc;}async[a0_0x31011a(0x260)](_0x4458b0){const _0x4e69f0=a0_0x31011a;if(this[_0x4e69f0(0x843)][_0x4e69f0(0x45c)](this[_0x4e69f0(0x5c4)]+'\x20('+this[_0x4e69f0(0x5ef)][_0x4e69f0(0x4d2)]+_0x4e69f0(0x300)),!_0x4458b0[_0x4e69f0(0x1e4)]?.[_0x4e69f0(0x55e)]&&_0x4458b0[_0x4e69f0(0x1e4)]?.['encoding']!==!0x1&&(_0x4458b0[_0x4e69f0(0x1e4)][_0x4e69f0(0x55e)]=!0x0),_0x4458b0[_0x4e69f0(0x1e4)]?.[_0x4e69f0(0x55e)]){let _0x152f1d=await this[_0x4e69f0(0x7fc)](_0x4458b0[_0x4e69f0(0x775)][_0x4e69f0(0x56d)]);if(typeof _0x152f1d==_0x4e69f0(0x415)){let _0x5c6ddc=L[_0x4e69f0(0x88a)](_0x152f1d)[_0x4e69f0(0x45e)]('base64');return this['sendMessageWithTyping'](_0x4458b0[_0x4e69f0(0x5d9)],{'audio':Buffer['from'](_0x5c6ddc,_0x4e69f0(0x401)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x4458b0?.['options']?.['delay']});}else throw new x(_0x152f1d);}return await this[_0x4e69f0(0x676)](_0x4458b0[_0x4e69f0(0x5d9)],{'audio':(0x0,k[_0x4e69f0(0x4eb)])(_0x4458b0['audioMessage'][_0x4e69f0(0x56d)])?{'url':_0x4458b0[_0x4e69f0(0x775)][_0x4e69f0(0x56d)]}:Buffer['from'](_0x4458b0['audioMessage'][_0x4e69f0(0x56d)],_0x4e69f0(0x401)),'ptt':!0x0,'mimetype':_0x4e69f0(0x856)},{'presence':'recording','delay':_0x4458b0?.[_0x4e69f0(0x1e4)]?.[_0x4e69f0(0x430)]});}async[a0_0x31011a(0x7fc)](_0x51a4be){const _0x541e33=a0_0x31011a;this[_0x541e33(0x843)][_0x541e33(0x45c)](this[_0x541e33(0x5c4)]+'\x20('+this[_0x541e33(0x5ef)]['wuid']+_0x541e33(0x429));let _0x86b65e=(0x0,k[_0x541e33(0x4eb)])(_0x51a4be)?(0x0,Vt['createHash'])(_0x541e33(0x8f2))[_0x541e33(0x4da)](_0x51a4be)[_0x541e33(0x6b3)](_0x541e33(0x84d)):(0x0,Vt['createHash'])(_0x541e33(0x8f2))[_0x541e33(0x4da)](_0x51a4be)[_0x541e33(0x6b3)](_0x541e33(0x84d)),_0x53109b=''+(0x0,U['join'])(this[_0x541e33(0x426)],_0x86b65e+_0x541e33(0x787));if(L[_0x541e33(0x629)](_0x53109b))return this[_0x541e33(0x843)][_0x541e33(0x45c)](this[_0x541e33(0x5c4)]+'\x20('+this['instance'][_0x541e33(0x4d2)]+_0x541e33(0x6ee)),_0x53109b;let _0x11830c=''+(0x0,U[_0x541e33(0x57d)])(this[_0x541e33(0x426)],_0x541e33(0x4d7)+(0x0,Y['v4'])()+_0x541e33(0x7d5));if((0x0,k[_0x541e33(0x4eb)])(_0x51a4be)){let _0x4dd5dd=new Date()[_0x541e33(0x78f)](),_0x3f4575=_0x51a4be+_0x541e33(0x312)+_0x4dd5dd,_0x271655=await Q[_0x541e33(0x20b)][_0x541e33(0x67e)](_0x3f4575,{'responseType':_0x541e33(0x5b1)});L[_0x541e33(0x62a)](_0x11830c,_0x271655[_0x541e33(0x3fa)]);}else{let _0x4bdae5=Buffer[_0x541e33(0x370)](_0x51a4be,_0x541e33(0x401));L['writeFileSync'](_0x11830c,_0x4bdae5);}return new Promise((_0x2f103a,_0x2a0495)=>{const _0x21b359=_0x541e33;(0x0,Fe[_0x21b359(0x8a2)])(ks['default'][_0x21b359(0x7c5)]+_0x21b359(0x865)+_0x11830c+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x53109b+'\x20-y',_0x1f6f6f=>{const _0x3473b7=_0x21b359;if(L[_0x3473b7(0x239)](_0x11830c),_0x1f6f6f){this[_0x3473b7(0x843)][_0x3473b7(0x45c)](this[_0x3473b7(0x5c4)]+'\x20('+this[_0x3473b7(0x5ef)][_0x3473b7(0x4d2)]+_0x3473b7(0x3ce)),_0x2a0495(_0x1f6f6f);return;}this[_0x3473b7(0x843)][_0x3473b7(0x45c)](this['instanceName']+'\x20('+this[_0x3473b7(0x5ef)][_0x3473b7(0x4d2)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x2f103a(_0x53109b);});});}async[a0_0x31011a(0x516)](_0x5baea4){const _0x644677=a0_0x31011a;this[_0x644677(0x843)][_0x644677(0x45c)](this['instanceName']+'\x20('+this[_0x644677(0x5ef)][_0x644677(0x4d2)]+_0x644677(0x429));let _0xa136c8=(0x0,Vt[_0x644677(0x39e)])(_0x644677(0x8f2))[_0x644677(0x4da)](_0x5baea4)[_0x644677(0x6b3)](_0x644677(0x84d)),_0x155da3=''+(0x0,U[_0x644677(0x57d)])(this[_0x644677(0x426)],_0xa136c8+_0x644677(0x7d5));if(L[_0x644677(0x629)](_0x155da3))return this['logger'][_0x644677(0x45c)](this['instanceName']+'\x20('+this[_0x644677(0x5ef)][_0x644677(0x4d2)]+_0x644677(0x6ee)),U[_0x644677(0x20b)]['basename'](_0x155da3);let _0x33d046=''+(0x0,U[_0x644677(0x57d)])(this[_0x644677(0x426)],_0x644677(0x4d7)+_0xa136c8+'.ogg');if((0x0,k[_0x644677(0x4eb)])(_0x5baea4)){let _0xa8e10d=new Date()[_0x644677(0x78f)](),_0x4801bf=_0x5baea4+_0x644677(0x312)+_0xa8e10d,_0x2d6893=await Q[_0x644677(0x20b)][_0x644677(0x67e)](_0x4801bf,{'responseType':'arraybuffer'});L[_0x644677(0x62a)](_0x33d046,_0x2d6893[_0x644677(0x3fa)]);}else{let _0x137ebe=Buffer['from'](_0x5baea4,'base64');L[_0x644677(0x62a)](_0x33d046,_0x137ebe);}return new Promise((_0xaedf4b,_0x34dd06)=>{const _0x4d9271=_0x644677;(0x0,Fe[_0x4d9271(0x8a2)])(ks[_0x4d9271(0x20b)][_0x4d9271(0x7c5)]+'\x20-i\x20'+_0x33d046+_0x4d9271(0x8b9)+_0x155da3+'\x20-y',_0x25c8ce=>{const _0x2e4d77=_0x4d9271;if(L[_0x2e4d77(0x239)](_0x33d046),_0x25c8ce){this[_0x2e4d77(0x843)][_0x2e4d77(0x45c)](this[_0x2e4d77(0x5c4)]+'\x20('+this[_0x2e4d77(0x5ef)]['wuid']+_0x2e4d77(0x3ce)),_0x34dd06(_0x25c8ce);return;}this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2e4d77(0x5ef)]['wuid']+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0xaedf4b(U[_0x2e4d77(0x20b)][_0x2e4d77(0x566)](_0x155da3));});});}async[a0_0x31011a(0x68c)](_0xe03801){const _0x565b93=a0_0x31011a;let _0x3f7e99={},_0x7f1c68='TEXT';if(_0xe03801['buttonMessage']?.[_0x565b93(0x24d)]){_0x7f1c68=_0xe03801[_0x565b93(0x68c)]['mediaMessage']?.[_0x565b93(0x6cf)][_0x565b93(0x5ca)]()??_0x565b93(0x3a8),_0x3f7e99['mediaKey']=_0x7f1c68[_0x565b93(0x240)]()+_0x565b93(0x70f);let _0x42a505=await this[_0x565b93(0x251)](_0xe03801['buttonMessage']['mediaMessage']);_0x3f7e99['message']=_0x42a505[_0x565b93(0x852)][_0x3f7e99['mediaKey']],_0x3f7e99[_0x565b93(0x726)]='*'+_0xe03801[_0x565b93(0x68c)][_0x565b93(0x54a)]+_0x565b93(0x749)+_0xe03801['buttonMessage'][_0x565b93(0x61c)];}let _0x43a41b={'text':_0xe03801[_0x565b93(0x68c)]['buttons'][_0x565b93(0x74c)](_0x49639b=>_0x49639b['buttonText']),'ids':_0xe03801[_0x565b93(0x68c)]['buttons']['map'](_0x467bfb=>_0x467bfb[_0x565b93(0x8d1)])};if(!(0x0,k['arrayUnique'])(_0x43a41b[_0x565b93(0x64c)])||!(0x0,k[_0x565b93(0x298)])(_0x43a41b['ids']))throw new m(_0x565b93(0x245),_0x565b93(0x3b3));return await this[_0x565b93(0x676)](_0xe03801[_0x565b93(0x5d9)],{'buttonsMessage':{'text':_0x3f7e99?.[_0x565b93(0x632)]?void 0x0:_0xe03801[_0x565b93(0x68c)]['title'],'contentText':_0x3f7e99?.[_0x565b93(0x726)]??_0xe03801[_0x565b93(0x68c)]['description'],'footerText':_0xe03801['buttonMessage']?.[_0x565b93(0x7f1)],'buttons':_0xe03801[_0x565b93(0x68c)][_0x565b93(0x597)][_0x565b93(0x74c)](_0x4d33d3=>({'buttonText':{'displayText':_0x4d33d3['buttonText']},'buttonId':_0x4d33d3[_0x565b93(0x8d1)],'type':0x1})),'headerType':w[_0x565b93(0x93f)]['Message'][_0x565b93(0x8ce)][_0x565b93(0x49e)][_0x7f1c68],[_0x3f7e99?.[_0x565b93(0x632)]]:_0x3f7e99?.[_0x565b93(0x852)]}},_0xe03801?.['options']);}async[a0_0x31011a(0x719)](_0x421f0a){const _0x4ca689=a0_0x31011a;return await this[_0x4ca689(0x676)](_0x421f0a[_0x4ca689(0x5d9)],{'locationMessage':{'degreesLatitude':_0x421f0a['locationMessage'][_0x4ca689(0x857)],'degreesLongitude':_0x421f0a['locationMessage'][_0x4ca689(0x49b)],'name':_0x421f0a[_0x4ca689(0x719)]?.[_0x4ca689(0x3a4)],'address':_0x421f0a[_0x4ca689(0x719)]?.['address']}},_0x421f0a?.['options']);}async[a0_0x31011a(0x7c4)](_0x110c72){const _0xa4a978=a0_0x31011a;let _0x2a6db7={},_0x5a4145=async _0x18fd1b=>{const _0x279d4b=a0_0x2776;let _0x149a1d='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x18fd1b[_0x279d4b(0x3fd)]+_0x279d4b(0x6fb)+_0x18fd1b[_0x279d4b(0x3fd)]+'\x0a';_0x18fd1b[_0x279d4b(0x48f)]&&(_0x149a1d+=_0x279d4b(0x24c)+_0x18fd1b[_0x279d4b(0x48f)]+';\x0a'),_0x18fd1b[_0x279d4b(0x5e0)]&&(_0x149a1d+='EMAIL:'+_0x18fd1b[_0x279d4b(0x5e0)]+'\x0a'),_0x18fd1b[_0x279d4b(0x5a6)]&&(_0x149a1d+=_0x279d4b(0x3f1)+_0x18fd1b[_0x279d4b(0x5a6)]+'\x0a');let _0xa9bd6b='',_0x7852f8=0x1;if(_0x18fd1b[_0x279d4b(0x7b7)]){let _0x44892c=_0x18fd1b[_0x279d4b(0x7b7)][_0x279d4b(0x912)]('|');for(let _0x1e54fd of _0x44892c){let _0x41de37=await this[_0x279d4b(0x2f2)]({'numbers':[_0x1e54fd]}),_0x4cc575=(_0x41de37[_0x279d4b(0x6f0)]>0x0?_0x41de37[0x0][_0x279d4b(0x7a1)]:this[_0x279d4b(0x718)](_0x1e54fd))['replace'](_0x279d4b(0x92c),'');_0xa9bd6b+=_0x279d4b(0x28d)+_0x7852f8+_0x279d4b(0x253)+_0x4cc575+':'+_0x1e54fd+_0x279d4b(0x27f)+_0x7852f8+'.X-ABLabel:Celular\x0a',_0x7852f8++;}}return _0x149a1d+=_0xa9bd6b+'END:VCARD',_0x149a1d;};return _0x110c72['contactMessage'][_0xa4a978(0x6f0)]===0x1?_0x2a6db7[_0xa4a978(0x7c4)]={'displayName':_0x110c72[_0xa4a978(0x7c4)][0x0]['fullName'],'vcard':await _0x5a4145(_0x110c72[_0xa4a978(0x7c4)][0x0])}:_0x2a6db7[_0xa4a978(0x390)]={'displayName':_0x110c72['contactMessage'][_0xa4a978(0x6f0)]+_0xa4a978(0x4c6),'contacts':await Promise[_0xa4a978(0x6da)](_0x110c72['contactMessage'][_0xa4a978(0x74c)](async _0x4fabcb=>({'displayName':_0x4fabcb['fullName'],'vcard':await _0x5a4145(_0x4fabcb)})))},await this['sendMessageWithTyping'](_0x110c72[_0xa4a978(0x5d9)],{..._0x2a6db7},_0x110c72?.['options']);}async[a0_0x31011a(0x7bc)](_0x4f8c40){const _0xa04300=a0_0x31011a;return await this['sendMessageWithTyping'](_0x4f8c40['reactionMessage'][_0xa04300(0x683)][_0xa04300(0x651)],{'reactionMessage':{'key':_0x4f8c40[_0xa04300(0x7bc)]['key'],'text':_0x4f8c40[_0xa04300(0x7bc)][_0xa04300(0x444)]}});}async['whatsappNumber'](_0x47c9c4){const _0x33709d=a0_0x31011a;let _0x3f77fb=[];for await(let _0x44d41b of _0x47c9c4[_0x33709d(0x2d3)]){let _0x5a779a=this[_0x33709d(0x718)](_0x44d41b),_0x480904=!0x1;try{if((0x0,w[_0x33709d(0x2c4)])(_0x5a779a)){let _0xdede97=(await this[_0x33709d(0x3c6)][_0x33709d(0x3bc)]['findOne']({'where':{'_id':_0x5a779a}},this['instance'][_0x33709d(0x4d2)]))[_0x33709d(0x438)];_0xdede97?(_0x480904=!0x0,_0x3f77fb[_0x33709d(0x3ec)](new ue(_0xdede97['id'],_0x480904,_0xdede97?.[_0x33709d(0x3cb)]))):(_0xdede97=await this[_0x33709d(0x846)]({'groupJid':_0x5a779a},_0x33709d(0x478)),_0x3f77fb[_0x33709d(0x3ec)](new ue(_0xdede97['id'],!!_0xdede97?.['id'],_0xdede97?.['subject'])));}else{if(_0x5a779a['includes'](_0x33709d(0x3eb)))_0x3f77fb[_0x33709d(0x3ec)](new ue(_0x5a779a,!0x0));else{let _0x2557bb=(await this[_0x33709d(0x286)][_0x33709d(0x887)](_0x5a779a))[0x0];_0x3f77fb[_0x33709d(0x3ec)](new ue(_0x2557bb[_0x33709d(0x7a1)],_0x2557bb[_0x33709d(0x334)]));}}}catch{(0x0,w[_0x33709d(0x2c4)])(_0x5a779a)||await this[_0x33709d(0x25e)](_0x5a779a),_0x3f77fb[_0x33709d(0x3ec)](new ue(_0x44d41b,!0x1));}}return _0x3f77fb;}async[a0_0x31011a(0x25e)](_0x4ce0fb){const _0x11056a=a0_0x31011a;try{await this[_0x11056a(0x3c6)][_0x11056a(0x3bc)]['findOne']({'where':{'_id':_0x4ce0fb,'imported':!0x0}},this[_0x11056a(0x5ef)][_0x11056a(0x4d2)])&&(await this['repository'][_0x11056a(0x3bc)][_0x11056a(0x88f)](_0x4ce0fb,this[_0x11056a(0x5ef)][_0x11056a(0x4d2)]),this[_0x11056a(0x843)][_0x11056a(0x6d2)](_0x11056a(0x504)+_0x4ce0fb+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x2f8e23){let _0x268980='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x5a5955=_0x2f8e23 instanceof Error?_0x2f8e23['message']:typeof _0x2f8e23==_0x11056a(0x545)?JSON[_0x11056a(0x720)](_0x2f8e23):_0x2f8e23,_0x486fa5=_0x268980+':\x20'+_0x5a5955;this[_0x11056a(0x843)][_0x11056a(0x4e4)](this['instanceName']+'\x20('+this[_0x11056a(0x5ef)][_0x11056a(0x4d2)]+_0x11056a(0x878)+_0x486fa5);}}async[a0_0x31011a(0x7c0)](_0x2fdf7a){const _0x5a1514=a0_0x31011a;try{let _0xa90b32=_0x2fdf7a['readMessages']['filter'](_0x2dc2d7=>(0x0,w[_0x5a1514(0x2c4)])(_0x2dc2d7[_0x5a1514(0x651)])||(0x0,w[_0x5a1514(0x3f9)])(_0x2dc2d7[_0x5a1514(0x651)]))['map'](_0x42305f=>({'remoteJid':_0x42305f[_0x5a1514(0x651)],'fromMe':_0x42305f[_0x5a1514(0x663)],'id':_0x42305f['id']}));await this[_0x5a1514(0x286)][_0x5a1514(0x6f2)](_0xa90b32);let _0x202a57=_0xa90b32['map'](_0x42de05=>this['updateMessage'](_0x42de05,{'status':_0x5a1514(0x87b),'owner':this['instance'][_0x5a1514(0x4d2)]})),_0x2848a6=_0xa90b32[_0x5a1514(0x74c)](_0x4a7ff5=>this[_0x5a1514(0x3c6)]['chat'][_0x5a1514(0x449)]({'where':{'_id':_0x4a7ff5[_0x5a1514(0x651)]}},{'unreadcount':0x0},this[_0x5a1514(0x5ef)][_0x5a1514(0x4d2)])),[_0x2d949f,_0x1a8ca8]=await Promise[_0x5a1514(0x6da)]([Promise[_0x5a1514(0x6da)](_0x202a57),Promise['all'](_0x2848a6)]);return _0x1a8ca8['filter'](_0x2451d9=>_0x2451d9!==null)[_0x5a1514(0x201)](_0x277c54=>{const _0x877420=_0x5a1514;j(this[_0x877420(0x5c4)],_0x877420(0x85a),{'chat':_0x277c54});}),{'message':_0x5a1514(0x50b),'read':_0x5a1514(0x213)};}catch(_0x4035ae){let _0x2f199b=_0x5a1514(0x280),_0x5e8bb9=_0x4035ae instanceof Error?_0x4035ae[_0x5a1514(0x852)]:typeof _0x4035ae==_0x5a1514(0x545)?JSON[_0x5a1514(0x720)](_0x4035ae):_0x4035ae,_0xda9594=_0x2f199b+':\x20'+_0x5e8bb9;throw this['logger'][_0x5a1514(0x4e4)](this[_0x5a1514(0x5c4)]+'\x20('+this[_0x5a1514(0x5ef)][_0x5a1514(0x4d2)]+'):\x20'+_0xda9594),new x(_0xda9594);}}async[a0_0x31011a(0x8df)](_0x59ff20){const _0x2594c6=a0_0x31011a;let _0x162d41={'where':{'key':{'remoteJid':_0x59ff20}},'limit':0x1},_0x54334f=await this[_0x2594c6(0x20f)](_0x162d41);return _0x54334f||(this[_0x2594c6(0x843)][_0x2594c6(0x4e4)](_0x2594c6(0x574)+_0x59ff20),null);}async[a0_0x31011a(0x734)](_0x4bb0a9){const _0x1d7b39=a0_0x31011a;this['logger'][_0x1d7b39(0x45c)](this['instanceName']+'\x20('+this[_0x1d7b39(0x5ef)][_0x1d7b39(0x4d2)]+_0x1d7b39(0x34d));try{let _0x2e6c4b=_0x4bb0a9[_0x1d7b39(0x6ea)],_0x11b7c6=_0x4bb0a9['chat'];if(!_0x2e6c4b&&_0x11b7c6?_0x2e6c4b=await this[_0x1d7b39(0x8df)](_0x11b7c6):(_0x2e6c4b=_0x4bb0a9[_0x1d7b39(0x6ea)],_0x2e6c4b[_0x1d7b39(0x39f)]=_0x2e6c4b?.['messageTimestamp']??Date[_0x1d7b39(0x6d9)](),_0x11b7c6=_0x2e6c4b?.[_0x1d7b39(0x683)]?.[_0x1d7b39(0x651)]),!_0x2e6c4b||Object['keys'](_0x2e6c4b)['length']===0x0)throw new J(_0x1d7b39(0x777));this[_0x1d7b39(0x843)][_0x1d7b39(0x45c)](this['instanceName']+'\x20('+this[_0x1d7b39(0x5ef)][_0x1d7b39(0x4d2)]+_0x1d7b39(0x306)+_0x11b7c6);try{await this['client'][_0x1d7b39(0x693)]({'archive':_0x4bb0a9[_0x1d7b39(0x5ad)],'lastMessages':[_0x2e6c4b]},this[_0x1d7b39(0x718)](_0x11b7c6));}catch(_0x3a4ef2){let _0x20530d=_0x1d7b39(0x817)+_0x11b7c6,_0x52812c=_0x3a4ef2 instanceof Error?_0x3a4ef2['message']:typeof _0x3a4ef2==_0x1d7b39(0x545)?JSON[_0x1d7b39(0x720)](_0x3a4ef2):_0x3a4ef2,_0x4934ba=_0x20530d+':\x20'+_0x52812c;this[_0x1d7b39(0x843)][_0x1d7b39(0x4e4)](this[_0x1d7b39(0x5c4)]+'\x20('+this[_0x1d7b39(0x5ef)][_0x1d7b39(0x4d2)]+_0x1d7b39(0x878)+_0x4934ba);}this[_0x1d7b39(0x843)][_0x1d7b39(0x45c)](this[_0x1d7b39(0x5c4)]+'\x20('+this[_0x1d7b39(0x5ef)][_0x1d7b39(0x4d2)]+_0x1d7b39(0x2b9)+_0x11b7c6);let _0x552191=await this['repository']['chat'][_0x1d7b39(0x449)]({'where':{'_id':_0x2e6c4b?.['key']?.[_0x1d7b39(0x651)]}},{'archived':_0x4bb0a9[_0x1d7b39(0x5ad)]},this[_0x1d7b39(0x5ef)]['wuid']);return _0x552191?(this['logger'][_0x1d7b39(0x45c)](this[_0x1d7b39(0x5c4)]+'\x20('+this['instance'][_0x1d7b39(0x4d2)]+_0x1d7b39(0x8b4)+JSON[_0x1d7b39(0x720)](_0x552191)),j(this[_0x1d7b39(0x5c4)],_0x1d7b39(0x85a),{'chat':_0x552191})):this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x1d7b39(0x4d2)]+_0x1d7b39(0x408)+_0x11b7c6),{'chatId':_0x11b7c6,'archived':_0x4bb0a9[_0x1d7b39(0x5ad)]};}catch(_0x302166){let _0xc72b76='Erro\x20ao\x20arquivar\x20chat',_0x170d41=_0x302166 instanceof Error?_0x302166[_0x1d7b39(0x852)]:typeof _0x302166==_0x1d7b39(0x545)?JSON[_0x1d7b39(0x720)](_0x302166):_0x302166,_0x3a1f25=_0xc72b76+':\x20'+_0x170d41;throw this['logger'][_0x1d7b39(0x4e4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1d7b39(0x878)+_0x3a1f25),new x(_0x3a1f25);}}async[a0_0x31011a(0x88f)](_0x175cea){const _0x342f21=a0_0x31011a;this[_0x342f21(0x843)][_0x342f21(0x45c)](this['instanceName']+'\x20('+this[_0x342f21(0x5ef)][_0x342f21(0x4d2)]+_0x342f21(0x5fc));try{let _0x3dd7e3=await this['getLastMessage'](_0x175cea);if(!_0x3dd7e3||Object['keys'](_0x3dd7e3)[_0x342f21(0x6f0)]===0x0)throw new J(_0x342f21(0x777));let _0xa4493b=_0x3dd7e3[0x0];this['logger']['verbose'](this[_0x342f21(0x5c4)]+'\x20('+this[_0x342f21(0x5ef)]['wuid']+_0x342f21(0x711)+_0x175cea);try{await this[_0x342f21(0x286)][_0x342f21(0x693)]({'delete':!0x0,'lastMessages':[{'key':_0xa4493b['key'],'messageTimestamp':_0xa4493b['messageTimestamp']}]},this[_0x342f21(0x718)](_0x175cea));}catch(_0x299004){this['logger']['error'](_0x342f21(0x817)+_0x175cea+':\x20'+_0x299004[_0x342f21(0x45e)]());}this[_0x342f21(0x843)][_0x342f21(0x45c)](this[_0x342f21(0x5c4)]+'\x20('+this[_0x342f21(0x5ef)][_0x342f21(0x4d2)]+_0x342f21(0x2b9)+_0x175cea);return;}catch(_0x4b1603){throw this[_0x342f21(0x843)][_0x342f21(0x4e4)](this['instanceName']+'\x20('+this[_0x342f21(0x5ef)]['wuid']+_0x342f21(0x446)+_0x4b1603[_0x342f21(0x45e)]()),new x({'archived':!0x1,'message':[_0x342f21(0x314),_0x4b1603['toString']()]});}}async[a0_0x31011a(0x336)](_0x2b508b){const _0x484aa4=a0_0x31011a;try{let _0x3eee10=await this['client']['sendMessage'](_0x2b508b['remoteJid'],{'delete':_0x2b508b});try{let _0x4fdde6=await this['updateMessage'](_0x2b508b,{'status':_0x484aa4(0x53c),'owner':this['instance'][_0x484aa4(0x4d2)]});this[_0x484aa4(0x843)][_0x484aa4(0x45c)](this['instanceName']+'\x20('+this[_0x484aa4(0x5ef)]['wuid']+_0x484aa4(0x252)+_0x4fdde6);}catch(_0x3d000e){this[_0x484aa4(0x843)][_0x484aa4(0x4e4)](_0x484aa4(0x6c4)+_0x3d000e);}return _0x3eee10;}catch(_0x1748a2){throw new x(_0x484aa4(0x6db),_0x1748a2?.[_0x484aa4(0x45e)]());}}async['getBase64FromMediaMessage'](_0xaa8bd3){const _0x4e383f=a0_0x31011a;try{let _0x2150c7=_0xaa8bd3?.[_0x4e383f(0x852)]?_0xaa8bd3:await this[_0x4e383f(0x32a)](_0xaa8bd3[_0x4e383f(0x683)],!0x0);for(let _0x57ba81 of Ra)_0x2150c7[_0x4e383f(0x852)][_0x57ba81]&&(_0x2150c7[_0x4e383f(0x852)]=_0x2150c7[_0x4e383f(0x852)][_0x57ba81][_0x4e383f(0x852)]);let _0x22e6e3,_0x4c9624;for(let _0x439de8 of $a)if(_0x22e6e3=_0x2150c7[_0x4e383f(0x852)][_0x439de8],_0x22e6e3){_0x4c9624=_0x439de8;break;}if(!_0x22e6e3)throw _0x4e383f(0x5f6);typeof _0x22e6e3['mediaKey']==_0x4e383f(0x545)&&(_0x2150c7[_0x4e383f(0x852)]=JSON[_0x4e383f(0x25b)](JSON['stringify'](_0x2150c7[_0x4e383f(0x852)])));let _0x4be82f=await(0x0,w['downloadMediaMessage'])({'key':_0x2150c7?.['key'],'message':_0x2150c7?.[_0x4e383f(0x852)]},_0x4e383f(0x6e0),{},{'logger':(0x0,Jt[_0x4e383f(0x20b)])({'level':_0x4e383f(0x29b)}),'reuploadRequest':this[_0x4e383f(0x286)][_0x4e383f(0x896)]});if(!(_0x4be82f instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x132413=this[_0x4e383f(0x58e)][_0x4e383f(0x67e)](_0x4e383f(0x578)),_0x5805f4,_0x5cbb5b;if(_0x22e6e3[_0x4e383f(0x41e)])_0x5805f4=_0x22e6e3['fileName'];else{let _0x4f8db6=_0x22e6e3[_0x4e383f(0x7a7)]?.[_0x4e383f(0x26b)](/\/(\w+)/),_0x3cb17f=_0x4f8db6?_0x4f8db6[0x1]:null;if(!_0x3cb17f)throw new Error(_0x4e383f(0x424));_0x5805f4=(0x0,Y['v4'])()+'.'+_0x3cb17f;}_0x4c9624===_0x4e383f(0x775)?_0x5cbb5b=_0x4e383f(0x920)+await this[_0x4e383f(0x516)](_0x4be82f[_0x4e383f(0x45e)](_0x4e383f(0x401))):(await this[_0x4e383f(0x603)](_0x4be82f,_0x5805f4),_0x5cbb5b=_0x4e383f(0x920)+_0x5805f4);let _0x265674=this[_0x4e383f(0x58e)]['get'](_0x4e383f(0x333))[_0x4e383f(0x3a2)];if(!_0x265674){let _0x196e8f=this[_0x4e383f(0x58e)][_0x4e383f(0x67e)](_0x4e383f(0x93d));_0x265674=_0x4e383f(0x561)+(_0x196e8f&&_0x196e8f[_0x4e383f(0x232)][_0x4e383f(0x912)]('/')[0x4]);}_0x5cbb5b=''+_0x265674+_0x5cbb5b;let _0xcd7419=0xc*0x3c*0x3c*0x3e8,_0x1e7ce7={'where':{'_id':_0x2150c7[_0x4e383f(0x683)]['id']}},_0xa0d167={'message_normalized.fileUrl':_0x5cbb5b,'message_normalized.expires_fileUrl':Date[_0x4e383f(0x6d9)]()+_0xcd7419};try{let _0x312220=await this['repository'][_0x4e383f(0x852)][_0x4e383f(0x4da)](_0x1e7ce7,_0xa0d167,this[_0x4e383f(0x5ef)][_0x4e383f(0x4d2)]);_0x312220&&j(this[_0x4e383f(0x5c4)],_0x4e383f(0x447),{'message':_0x312220});}catch(_0x1ed2f6){let _0xa5dda3='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x58ecda=_0x1ed2f6 instanceof Error?_0x1ed2f6['message']:typeof _0x1ed2f6==_0x4e383f(0x545)?JSON[_0x4e383f(0x720)](_0x1ed2f6):_0x1ed2f6,_0x2cd69e=_0xa5dda3+':\x20'+_0x58ecda;this[_0x4e383f(0x843)][_0x4e383f(0x4e4)](this[_0x4e383f(0x5c4)]+'\x20('+this['instance'][_0x4e383f(0x4d2)]+'):\x20'+_0x2cd69e);}return{'mediaType':_0x4c9624,'fileName':_0x22e6e3[_0x4e383f(0x41e)],'caption':_0x22e6e3[_0x4e383f(0x649)],'size':{'fileLength':_0x22e6e3[_0x4e383f(0x315)],'height':_0x22e6e3[_0x4e383f(0x482)],'width':_0x22e6e3[_0x4e383f(0x919)]},'mimetype':_0x22e6e3['mimetype'],'base64':_0x4be82f[_0x4e383f(0x45e)](_0x4e383f(0x401)),'fileUrl':_0x5cbb5b,'expires_fileUrl':Date[_0x4e383f(0x6d9)]()+_0xcd7419};}catch(_0x456990){let _0x339b48='Falha\x20ao\x20processar\x20a\x20solicitação',_0x309009=_0x456990 instanceof Error?_0x456990[_0x4e383f(0x852)]:typeof _0x456990=='object'?JSON['stringify'](_0x456990):_0x456990,_0x209163=_0x339b48+':\x20'+_0x309009;throw this[_0x4e383f(0x843)][_0x4e383f(0x4e4)](this[_0x4e383f(0x5c4)]+'\x20('+this[_0x4e383f(0x5ef)]['wuid']+_0x4e383f(0x878)+_0x209163),new m(_0x209163);}}async['saveMediaToFile'](_0x2d9bb4,_0x275e38){const _0x3bcc09=a0_0x31011a;let _0x34fa0e=U[_0x3bcc09(0x20b)]['join'](__dirname,_0x3bcc09(0x628));L['existsSync'](_0x34fa0e)||L[_0x3bcc09(0x638)](_0x34fa0e,{'recursive':!0x0});let _0x3b52e9=U[_0x3bcc09(0x20b)][_0x3bcc09(0x57d)](_0x34fa0e,_0x275e38);return new Promise((_0x5bf57e,_0x3af144)=>{const _0x46197b=_0x3bcc09;L[_0x46197b(0x4e7)](_0x3b52e9,_0x2d9bb4,_0x1f5481=>{const _0x2b114d=_0x46197b;_0x1f5481?(this[_0x2b114d(0x843)][_0x2b114d(0x4e4)](_0x2b114d(0x5d8)+(_0x1f5481 instanceof Error?_0x1f5481[_0x2b114d(0x852)]:JSON[_0x2b114d(0x720)](_0x1f5481,null,0x2))),_0x3af144(_0x1f5481)):(this[_0x2b114d(0x843)][_0x2b114d(0x200)]('File\x20written\x20to\x20path:\x20'+_0x3b52e9),_0x5bf57e(_0x3b52e9));});});}async[a0_0x31011a(0x8b6)](_0x29ba16){const _0x300fc7=a0_0x31011a;return await this[_0x300fc7(0x3c6)][_0x300fc7(0x225)][_0x300fc7(0x90d)](_0x29ba16,this[_0x300fc7(0x5ef)]['wuid']);}async[a0_0x31011a(0x6dc)](){const _0x55ce64=a0_0x31011a;return await this[_0x55ce64(0x3c6)][_0x55ce64(0x20a)][_0x55ce64(0x90d)]({'where':{}},this['instance'][_0x55ce64(0x4d2)]);}async['fetchMessages'](_0x46f7b5){const _0x1f29f1=a0_0x31011a;return await this[_0x1f29f1(0x3c6)][_0x1f29f1(0x852)][_0x1f29f1(0x90d)](_0x46f7b5,this[_0x1f29f1(0x5ef)][_0x1f29f1(0x4d2)]);}async[a0_0x31011a(0x224)](){const _0x1c9c4b=a0_0x31011a;return this[_0x1c9c4b(0x3c6)][_0x1c9c4b(0x3bc)][_0x1c9c4b(0x49c)](this['instance'][_0x1c9c4b(0x4d2)]),this[_0x1c9c4b(0x3c6)]['chat'][_0x1c9c4b(0x69f)](this[_0x1c9c4b(0x5ef)][_0x1c9c4b(0x4d2)]),this[_0x1c9c4b(0x3c6)][_0x1c9c4b(0x3bc)][_0x1c9c4b(0x8ac)](this[_0x1c9c4b(0x5ef)][_0x1c9c4b(0x4d2)]),this[_0x1c9c4b(0x3c6)]['chat'][_0x1c9c4b(0x72f)](this['instance'][_0x1c9c4b(0x4d2)]),await this[_0x1c9c4b(0x3c6)][_0x1c9c4b(0x3bc)][_0x1c9c4b(0x90d)]({'where':{}},this['instance'][_0x1c9c4b(0x4d2)]);}async['importChatsAntigo'](_0x475047){const _0x4c9d92=a0_0x31011a;try{if(!Array[_0x4c9d92(0x652)](_0x475047)||_0x475047[_0x4c9d92(0x6f0)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x214633=[],_0x57329f=[];for(let _0xb78e9c of _0x475047){if(_0xb78e9c[_0x4c9d92(0x22c)])_0xb78e9c[_0x4c9d92(0x22c)]=this['createJid'](_0xb78e9c['_id']);else continue;await this[_0x4c9d92(0x3c6)]['chat']['findOne']({'where':{'_id':_0xb78e9c[_0x4c9d92(0x22c)]}},this[_0x4c9d92(0x5ef)]['wuid'])?_0x57329f['push']({'_id':_0xb78e9c['_id'],'leadInfo':_0xb78e9c[_0x4c9d92(0x564)],'owner':this[_0x4c9d92(0x5ef)][_0x4c9d92(0x4d2)]}):_0x214633['push']({'_id':_0xb78e9c['_id'],'owner':this[_0x4c9d92(0x5ef)][_0x4c9d92(0x4d2)],'leadInfo':_0xb78e9c[_0x4c9d92(0x564)],'imported':!0x0});}return _0x57329f['length']>0x0&&await this[_0x4c9d92(0x3c6)][_0x4c9d92(0x3bc)][_0x4c9d92(0x1ef)](_0x57329f[_0x4c9d92(0x74c)](_0x24952f=>({'query':{'where':{'_id':_0x24952f[_0x4c9d92(0x22c)],'owner':this[_0x4c9d92(0x5ef)][_0x4c9d92(0x4d2)]}},'update':_0x24952f}))),_0x214633['length']>0x0&&await this[_0x4c9d92(0x3c6)]['chat'][_0x4c9d92(0x1e9)](_0x214633,this[_0x4c9d92(0x5ef)][_0x4c9d92(0x4d2)]),{'updated':_0x57329f[_0x4c9d92(0x6f0)],'inserted':_0x214633['length']};}catch(_0x452673){let _0x5ee528='Erro\x20ao\x20importar\x20chats',_0x38f3ea=_0x452673 instanceof Error?_0x452673[_0x4c9d92(0x852)]:typeof _0x452673==_0x4c9d92(0x545)?JSON[_0x4c9d92(0x720)](_0x452673):_0x452673,_0x1d429c=_0x5ee528+':\x20'+_0x38f3ea;throw this[_0x4c9d92(0x843)][_0x4c9d92(0x4e4)](this['instanceName']+'\x20('+this[_0x4c9d92(0x5ef)][_0x4c9d92(0x4d2)]+_0x4c9d92(0x878)+_0x1d429c),new m(_0x1d429c);}}async[a0_0x31011a(0x65b)](_0xc11d6e){const _0x60fbe1=a0_0x31011a;try{if(!Array[_0x60fbe1(0x652)](_0xc11d6e)||_0xc11d6e[_0x60fbe1(0x6f0)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x168d1e=0x64,_0x254823=0x0;for(let _0x569fc4=0x0;_0x569fc4<_0xc11d6e['length'];_0x569fc4+=_0x168d1e){let _0x39ab60=_0xc11d6e[_0x60fbe1(0x22a)](_0x569fc4,_0x569fc4+_0x168d1e),{updated:_0x1e527d}=await this['importChatsBatch'](_0x39ab60);_0x254823+=_0x1e527d;}return{'updated':_0x254823};}catch(_0x4e0941){let _0x24998f=_0x60fbe1(0x45d),_0x52779d=_0x4e0941 instanceof Error?_0x4e0941[_0x60fbe1(0x852)]:typeof _0x4e0941=='object'?JSON[_0x60fbe1(0x720)](_0x4e0941):_0x4e0941,_0x3ad0aa=_0x24998f+':\x20'+_0x52779d;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x60fbe1(0x5ef)][_0x60fbe1(0x4d2)]+_0x60fbe1(0x878)+_0x3ad0aa),new m(_0x3ad0aa);}}async[a0_0x31011a(0x6b7)](_0x11d10e){const _0x204fcf=a0_0x31011a;try{let _0x19e806=await this['repository'][_0x204fcf(0x20a)][_0x204fcf(0x90d)]({'where':{}},this[_0x204fcf(0x5ef)]['wuid']),_0x54df79=new Set(_0x19e806[_0x204fcf(0x74c)](_0x2f11eb=>_0x2f11eb['_id'])),_0x102d1b=[],_0x5527b3=[];for(let _0x1f9859 of _0x11d10e){if(!_0x1f9859[_0x204fcf(0x22c)])continue;_0x1f9859[_0x204fcf(0x22c)]=this[_0x204fcf(0x718)](_0x1f9859[_0x204fcf(0x22c)]);let _0x4de5a0=await this[_0x204fcf(0x3c6)]['chat'][_0x204fcf(0x917)]({'where':{'_id':_0x1f9859[_0x204fcf(0x22c)]}},this[_0x204fcf(0x5ef)]['wuid']),_0x25dc5d={};if(Object[_0x204fcf(0x910)](_0x1f9859[_0x204fcf(0x564)])[_0x204fcf(0x201)](([_0x373638,_0x1d967e])=>{_0x25dc5d['leadInfo.'+_0x373638]=_0x1d967e;}),_0x4de5a0&&!_0x4de5a0[_0x204fcf(0x4a6)]){let _0x208355=(_0x1f9859[_0x204fcf(0x564)][_0x204fcf(0x756)]||[])[_0x204fcf(0x497)](_0x38fb23=>_0x54df79[_0x204fcf(0x467)](_0x38fb23)),_0x412397=new Set(_0x4de5a0[_0x204fcf(0x564)][_0x204fcf(0x756)]||[]),_0x3aa2df=_0x208355[_0x204fcf(0x497)](_0x50079c=>!_0x412397[_0x204fcf(0x467)](_0x50079c)),_0x29dd33=[..._0x412397][_0x204fcf(0x497)](_0x14b966=>!_0x208355['includes'](_0x14b966));_0x5527b3[_0x204fcf(0x3ec)](..._0x3aa2df['map'](_0x2202de=>this[_0x204fcf(0x64d)](_0x2202de,_0x1f9859[_0x204fcf(0x22c)]))),_0x5527b3[_0x204fcf(0x3ec)](..._0x29dd33[_0x204fcf(0x74c)](_0x2e86e7=>this['RemoveChatLabel'](_0x2e86e7,_0x1f9859[_0x204fcf(0x22c)]))),_0x1f9859[_0x204fcf(0x564)][_0x204fcf(0x756)]=_0x208355,_0x102d1b[_0x204fcf(0x3ec)]({'query':{'where':{'_id':_0x1f9859['_id'],'owner':this[_0x204fcf(0x5ef)]['wuid']}},'update':_0x25dc5d});}else _0x25dc5d[_0x204fcf(0x4a6)]=!0x0,_0x102d1b['push']({'query':{'where':{'_id':_0x1f9859[_0x204fcf(0x22c)],'owner':this[_0x204fcf(0x5ef)][_0x204fcf(0x4d2)]}},'update':_0x25dc5d});}let _0x1533b0=await this[_0x204fcf(0x3c6)][_0x204fcf(0x3bc)][_0x204fcf(0x1ef)](_0x102d1b);return await Promise[_0x204fcf(0x6da)](_0x5527b3),{'updated':_0x1533b0};}catch(_0x3aaf4f){let _0x6de2df=_0x204fcf(0x45d),_0x8982b5=_0x3aaf4f instanceof Error?_0x3aaf4f[_0x204fcf(0x852)]:typeof _0x3aaf4f==_0x204fcf(0x545)?JSON[_0x204fcf(0x720)](_0x3aaf4f):_0x3aaf4f,_0x25652d=_0x6de2df+':\x20'+_0x8982b5;throw this['logger'][_0x204fcf(0x4e4)](this['instanceName']+'\x20('+this[_0x204fcf(0x5ef)][_0x204fcf(0x4d2)]+_0x204fcf(0x878)+_0x25652d),new m(_0x25652d);}}async['fetchPrivacySettings'](){const _0x2e076e=a0_0x31011a;return await this[_0x2e076e(0x286)][_0x2e076e(0x493)]();}async['updatePrivacySettings'](_0x2295a1){const _0x12c8c3=a0_0x31011a;try{return await this['client'][_0x12c8c3(0x2be)](_0x2295a1[_0x12c8c3(0x4f6)][_0x12c8c3(0x77d)]),await this[_0x12c8c3(0x286)][_0x12c8c3(0x68a)](_0x2295a1[_0x12c8c3(0x4f6)][_0x12c8c3(0x291)]),await this[_0x12c8c3(0x286)][_0x12c8c3(0x5f1)](_0x2295a1[_0x12c8c3(0x4f6)]['status']),await this[_0x12c8c3(0x286)]['updateOnlinePrivacy'](_0x2295a1[_0x12c8c3(0x4f6)][_0x12c8c3(0x8dd)]),await this['client'][_0x12c8c3(0x54b)](_0x2295a1['privacySettings']['last']),await this['client'][_0x12c8c3(0x5db)](_0x2295a1['privacySettings'][_0x12c8c3(0x21e)]),this[_0x12c8c3(0x286)]?.['ws']?.[_0x12c8c3(0x1f7)](),{'update':'success','data':{'readreceipts':_0x2295a1['privacySettings'][_0x12c8c3(0x77d)],'profile':_0x2295a1['privacySettings'][_0x12c8c3(0x291)],'status':_0x2295a1[_0x12c8c3(0x4f6)][_0x12c8c3(0x893)],'online':_0x2295a1[_0x12c8c3(0x4f6)][_0x12c8c3(0x8dd)],'last':_0x2295a1[_0x12c8c3(0x4f6)][_0x12c8c3(0x3f7)],'groupadd':_0x2295a1['privacySettings'][_0x12c8c3(0x21e)]}};}catch(_0x4a8587){let _0x1dd835=_0x12c8c3(0x5ce),_0x4875db=_0x4a8587 instanceof Error?_0x4a8587[_0x12c8c3(0x852)]:typeof _0x4a8587==_0x12c8c3(0x545)?JSON['stringify'](_0x4a8587):_0x4a8587,_0x1a9702=_0x1dd835+':\x20'+_0x4875db;throw this['logger'][_0x12c8c3(0x4e4)](this[_0x12c8c3(0x5c4)]+'\x20('+this[_0x12c8c3(0x5ef)][_0x12c8c3(0x4d2)]+'):\x20'+_0x1a9702),new m(_0x1a9702);}}async[a0_0x31011a(0x890)](_0x2e7a22){const _0x3410e1=a0_0x31011a;let _0xdf20f3=(_0x2e7a22?this[_0x3410e1(0x718)](_0x2e7a22):this['client']?.[_0x3410e1(0x2e4)]?.['id'])[_0x3410e1(0x929)](/:\d{1,2}@/g,'@');this[_0x3410e1(0x843)][_0x3410e1(0x45c)](this[_0x3410e1(0x5c4)]+'\x20('+this[_0x3410e1(0x5ef)][_0x3410e1(0x4d2)]+_0x3410e1(0x6d4)+_0xdf20f3);let _0x597d57=await this[_0x3410e1(0x3c6)][_0x3410e1(0x225)]['findOne']({'where':{'_id':_0xdf20f3}},this['instance']['wuid']),_0x4eeeee=_0x597d57?_0x597d57[_0x3410e1(0x727)]:null;try{let _0x5cace2=(await this['whatsappNumber']({'numbers':[_0xdf20f3]}))?.['shift'](),_0x478488=(await this['findAndUpdateCacheContact'](_0xdf20f3,null,!0x1))[_0x3410e1(0x8d4)]['pictureUrl'],_0x400f9d=await this['getStatus'](_0x5cace2?.[_0x3410e1(0x7a1)]),_0x18660c=await this[_0x3410e1(0x4a1)](_0x5cace2?.[_0x3410e1(0x7a1)]),_0x518d14=(await this[_0x3410e1(0x32d)](_0xdf20f3,null,!0x1))['cachedContact'][_0x3410e1(0x3a4)],_0xdcd374=await this[_0x3410e1(0x3c6)][_0x3410e1(0x3bc)][_0x3410e1(0x917)]({'where':{'_id':_0xdf20f3}},this[_0x3410e1(0x5ef)][_0x3410e1(0x4d2)]),_0x556621={'imagechat':_0x478488,'contactname':_0x4eeeee||null,'pushName':_0x518d14,'status':_0x400f9d?.[_0x3410e1(0x893)],'isBusiness':_0x18660c['isBusiness'],'email':_0x18660c?.[_0x3410e1(0x5e0)],'description':_0x18660c?.[_0x3410e1(0x61c)],'website':_0x18660c?.[_0x3410e1(0x8e7)]?.[_0x3410e1(0x6e1)](),'lastcache':Date['now'](),'imported':!_0xdcd374},_0x44fa2c=await this[_0x3410e1(0x3c6)][_0x3410e1(0x3bc)][_0x3410e1(0x449)]({'where':{'_id':_0xdf20f3}},_0x556621,this[_0x3410e1(0x5ef)][_0x3410e1(0x4d2)]),_0x59ef91={'owner':this['instance'][_0x3410e1(0x4d2)],'_id':_0xdf20f3,'profilePictureUrl':_0x478488,'status':_0x400f9d?.[_0x3410e1(0x893)]};return this['repository'][_0x3410e1(0x225)][_0x3410e1(0x4da)]([_0x59ef91],this[_0x3410e1(0x5ef)][_0x3410e1(0x4d2)]),_0x44fa2c&&j(this[_0x3410e1(0x5c4)],'chats',{'chat':_0x44fa2c}),{'wuid':_0x5cace2?.[_0x3410e1(0x7a1)]||_0xdf20f3,'name':_0x5cace2?.['name'],'pushName':_0x518d14,'numberExists':_0x5cace2?.[_0x3410e1(0x334)],'picture':_0x478488,'status':_0x400f9d?.['status'],'isBusiness':_0x18660c['isBusiness'],'email':_0x18660c?.['email'],'description':_0x18660c?.['description'],'website':_0x18660c?.[_0x3410e1(0x8e7)]?.[_0x3410e1(0x6e1)]()};}catch(_0x46c2bf){return this[_0x3410e1(0x843)][_0x3410e1(0x4e4)](_0x3410e1(0x3c0)+(_0x46c2bf instanceof Error?_0x46c2bf[_0x3410e1(0x852)]:JSON[_0x3410e1(0x720)](_0x46c2bf,null,0x2))),{};}}async[a0_0x31011a(0x4a1)](_0x2eae7b){const _0x5a9522=a0_0x31011a;this[_0x5a9522(0x843)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5a9522(0x42f));try{let _0x33f587=_0x2eae7b?this[_0x5a9522(0x718)](_0x2eae7b):this['instance'][_0x5a9522(0x4d2)],_0x57a464=await this['client'][_0x5a9522(0x75f)](_0x33f587);return this[_0x5a9522(0x843)][_0x5a9522(0x45c)](this[_0x5a9522(0x5c4)]+'\x20('+this[_0x5a9522(0x5ef)][_0x5a9522(0x4d2)]+_0x5a9522(0x656)),_0x57a464?(this[_0x5a9522(0x843)][_0x5a9522(0x45c)](this['instanceName']+'\x20('+this['instance'][_0x5a9522(0x4d2)]+_0x5a9522(0x510)),{'isBusiness':!0x0,..._0x57a464}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x5a9522(0x2f2)]({'numbers':[_0x33f587]}))?.[_0x5a9522(0x6e1)]()};}catch(_0x2a7de0){let _0x3bd9dd='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x5796af=_0x2a7de0 instanceof Error?_0x2a7de0['message']:typeof _0x2a7de0==_0x5a9522(0x545)?JSON[_0x5a9522(0x720)](_0x2a7de0):_0x2a7de0,_0x1ad122=_0x3bd9dd+':\x20'+_0x5796af;throw this[_0x5a9522(0x843)][_0x5a9522(0x4e4)](this[_0x5a9522(0x5c4)]+'\x20('+this[_0x5a9522(0x5ef)][_0x5a9522(0x4d2)]+_0x5a9522(0x878)+_0x1ad122),new x(_0x1ad122);}}async[a0_0x31011a(0x313)](_0x251aa0){const _0x5db3a9=a0_0x31011a;let _0x171b92=this['createJid'](_0x251aa0);try{return{'wuid':_0x171b92,'status':(await this['client'][_0x5db3a9(0x799)](_0x171b92))?.[_0x5db3a9(0x893)]};}catch{return{'wuid':_0x171b92,'status':null};}}async[a0_0x31011a(0x3b0)](_0x4752fb){const _0x233821=a0_0x31011a;try{return await this[_0x233821(0x286)][_0x233821(0x3b0)](_0x4752fb),{'update':_0x233821(0x213)};}catch(_0x43c5c3){let _0xbb5806=_0x233821(0x8fa),_0x2831fb=_0x43c5c3 instanceof Error?_0x43c5c3[_0x233821(0x852)]:typeof _0x43c5c3=='object'?JSON[_0x233821(0x720)](_0x43c5c3):_0x43c5c3,_0xb476c=_0xbb5806+':\x20'+_0x2831fb;throw this[_0x233821(0x843)][_0x233821(0x4e4)](this[_0x233821(0x5c4)]+'\x20('+this[_0x233821(0x5ef)][_0x233821(0x4d2)]+_0x233821(0x878)+_0xb476c),new x(_0xb476c);}}async[a0_0x31011a(0x405)](_0x1c508d){const _0x431f31=a0_0x31011a;try{return await this['client'][_0x431f31(0x405)](_0x1c508d),{'update':_0x431f31(0x213)};}catch(_0xf66606){let _0x2162a4='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x43ce63=_0xf66606 instanceof Error?_0xf66606[_0x431f31(0x852)]:typeof _0xf66606=='object'?JSON[_0x431f31(0x720)](_0xf66606):_0xf66606,_0x582921=_0x2162a4+':\x20'+_0x43ce63;throw this[_0x431f31(0x843)][_0x431f31(0x4e4)](this['instanceName']+'\x20('+this[_0x431f31(0x5ef)]['wuid']+_0x431f31(0x878)+_0x582921),new x(_0x582921);}}async['updateProfilePicture'](_0x2b2496){const _0x5dc2dd=a0_0x31011a;try{let _0x532812;if((0x0,k[_0x5dc2dd(0x4eb)])(_0x2b2496)){let _0xb0d441=new Date()['getTime'](),_0xb86936=_0x2b2496+_0x5dc2dd(0x312)+_0xb0d441;_0x532812=(await Q[_0x5dc2dd(0x20b)][_0x5dc2dd(0x67e)](_0xb86936,{'responseType':_0x5dc2dd(0x5b1)}))[_0x5dc2dd(0x3fa)];}else{if((0x0,k[_0x5dc2dd(0x3ac)])(_0x2b2496))_0x532812=Buffer[_0x5dc2dd(0x370)](_0x2b2496,_0x5dc2dd(0x401));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x5dc2dd(0x567)](this['instance'][_0x5dc2dd(0x4d2)],_0x532812),{'update':_0x5dc2dd(0x213)};}catch(_0x18e602){let _0x4a4289=_0x5dc2dd(0x657),_0x596d19=_0x18e602 instanceof Error?_0x18e602[_0x5dc2dd(0x852)]:typeof _0x18e602==_0x5dc2dd(0x545)?JSON[_0x5dc2dd(0x720)](_0x18e602):_0x18e602,_0xa5ecd=_0x4a4289+':\x20'+_0x596d19;throw this[_0x5dc2dd(0x843)][_0x5dc2dd(0x4e4)](this[_0x5dc2dd(0x5c4)]+'\x20('+this[_0x5dc2dd(0x5ef)][_0x5dc2dd(0x4d2)]+_0x5dc2dd(0x878)+_0xa5ecd),new x(_0xa5ecd);}}async[a0_0x31011a(0x304)](){const _0x32406c=a0_0x31011a;try{return await this[_0x32406c(0x286)][_0x32406c(0x304)](this['instance'][_0x32406c(0x4d2)]),{'update':_0x32406c(0x213)};}catch(_0x291394){let _0x4ebc8f='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x3301f4=_0x291394 instanceof Error?_0x291394[_0x32406c(0x852)]:typeof _0x291394=='object'?JSON[_0x32406c(0x720)](_0x291394):_0x291394,_0x477b8a=_0x4ebc8f+':\x20'+_0x3301f4;throw this['logger'][_0x32406c(0x4e4)](this['instanceName']+'\x20('+this[_0x32406c(0x5ef)][_0x32406c(0x4d2)]+_0x32406c(0x878)+_0x477b8a),new x(_0x477b8a);}}async[a0_0x31011a(0x4c3)](_0x1c1124){const _0x40241e=a0_0x31011a;try{let _0x108d62=(await this[_0x40241e(0x2f2)]({'numbers':_0x1c1124[_0x40241e(0x471)]}))[_0x40241e(0x497)](_0x1a8720=>_0x1a8720[_0x40241e(0x334)])[_0x40241e(0x74c)](_0x1afc77=>_0x1afc77[_0x40241e(0x7a1)]),{id:_0x5bf083}=await this[_0x40241e(0x286)]['groupCreate'](_0x1c1124[_0x40241e(0x3cb)],_0x108d62);_0x1c1124?.[_0x40241e(0x61c)]&&await this[_0x40241e(0x286)]['groupUpdateDescription'](_0x5bf083,_0x1c1124[_0x40241e(0x61c)]);let _0x327f33=await this[_0x40241e(0x286)][_0x40241e(0x6b6)](_0x5bf083);return _0x327f33[_0x40241e(0x757)]=[],{'metadata':_0x327f33};}catch(_0x4c2ff8){let _0x68eb62='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x3e01a5=_0x4c2ff8 instanceof Error?_0x4c2ff8[_0x40241e(0x852)]:typeof _0x4c2ff8=='object'?JSON[_0x40241e(0x720)](_0x4c2ff8):_0x4c2ff8,_0x436847=_0x68eb62+':\x20'+_0x3e01a5;throw this['logger'][_0x40241e(0x4e4)](this['instanceName']+'\x20('+this['instance'][_0x40241e(0x4d2)]+_0x40241e(0x878)+_0x436847),new x(_0x436847);}}async[a0_0x31011a(0x84c)](_0x406e44){const _0x96db35=a0_0x31011a;try{if(_0x406e44[_0x96db35(0x710)]===!0x0&&await this[_0x96db35(0x286)][_0x96db35(0x321)](_0x406e44[_0x96db35(0x2a1)],_0x96db35(0x94a)),_0x406e44[_0x96db35(0x710)]===!0x1&&await this['client'][_0x96db35(0x321)](_0x406e44[_0x96db35(0x2a1)],'unlocked'),_0x406e44['announce']===!0x0&&await this[_0x96db35(0x286)][_0x96db35(0x321)](_0x406e44[_0x96db35(0x2a1)],'announcement'),_0x406e44[_0x96db35(0x2fb)]===!0x1&&await this[_0x96db35(0x286)][_0x96db35(0x321)](_0x406e44['groupJid'],_0x96db35(0x792)),_0x406e44['memberAddMode']===!0x0&&await this[_0x96db35(0x286)][_0x96db35(0x8f5)](_0x406e44[_0x96db35(0x2a1)],_0x96db35(0x23b)),_0x406e44['memberAddMode']===!0x1&&await this[_0x96db35(0x286)][_0x96db35(0x8f5)](_0x406e44['groupJid'],_0x96db35(0x8f7)),_0x406e44[_0x96db35(0x5c2)]===!0x0&&await this[_0x96db35(0x286)][_0x96db35(0x1e7)](_0x406e44[_0x96db35(0x2a1)],'on'),_0x406e44[_0x96db35(0x5c2)]===!0x1&&await this[_0x96db35(0x286)][_0x96db35(0x1e7)](_0x406e44[_0x96db35(0x2a1)],_0x96db35(0x806)),typeof _0x406e44['expiration']<'u'&&_0x406e44[_0x96db35(0x26c)]!==null&&await this[_0x96db35(0x286)][_0x96db35(0x751)](_0x406e44[_0x96db35(0x2a1)],_0x406e44[_0x96db35(0x26c)]),_0x406e44[_0x96db35(0x3a4)]&&await this[_0x96db35(0x286)][_0x96db35(0x52b)](_0x406e44[_0x96db35(0x2a1)],_0x406e44[_0x96db35(0x3a4)]),_0x406e44[_0x96db35(0x61c)]&&await this[_0x96db35(0x286)][_0x96db35(0x8e0)](_0x406e44[_0x96db35(0x2a1)],_0x406e44[_0x96db35(0x61c)]),_0x406e44[_0x96db35(0x3d8)]){let _0x3f677d;if((0x0,k['isURL'])(_0x406e44[_0x96db35(0x3d8)])){let _0x4e2fbf=new Date()[_0x96db35(0x78f)](),_0x3d5196=_0x406e44[_0x96db35(0x3d8)]+_0x96db35(0x312)+_0x4e2fbf;_0x3f677d=(await Q['default']['get'](_0x3d5196,{'responseType':_0x96db35(0x5b1)}))[_0x96db35(0x3fa)];}else{if((0x0,k[_0x96db35(0x3ac)])(_0x406e44['image']))_0x3f677d=Buffer['from'](_0x406e44[_0x96db35(0x3d8)],_0x96db35(0x401));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this['client'][_0x96db35(0x567)](_0x406e44['groupJid'],_0x3f677d);}return await this['findGroup']({'groupJid':_0x406e44[_0x96db35(0x2a1)]});}catch(_0x31b841){let _0x552bc1=_0x96db35(0x6f1),_0x2e1d7f=_0x31b841 instanceof Error?_0x31b841[_0x96db35(0x852)]:typeof _0x31b841==_0x96db35(0x545)?JSON[_0x96db35(0x720)](_0x31b841):_0x31b841,_0x3b4072=_0x552bc1+':\x20'+_0x2e1d7f;throw this[_0x96db35(0x843)][_0x96db35(0x4e4)](this['instanceName']+'\x20('+this[_0x96db35(0x5ef)][_0x96db35(0x4d2)]+_0x96db35(0x878)+_0x3b4072),new x(_0x3b4072);}}async['updateGParticipant'](_0x575081){const _0x5f0d0c=a0_0x31011a;try{if(_0x575081[_0x5f0d0c(0x49f)]===_0x5f0d0c(0x598)||_0x575081[_0x5f0d0c(0x49f)]===_0x5f0d0c(0x737)){let _0x15f67e=_0x575081[_0x5f0d0c(0x471)][_0x5f0d0c(0x74c)](_0x312d10=>this[_0x5f0d0c(0x718)](_0x312d10));await this['client'][_0x5f0d0c(0x732)](_0x575081[_0x5f0d0c(0x2a1)],_0x15f67e,_0x575081[_0x5f0d0c(0x49f)]);}else{if(_0x575081[_0x5f0d0c(0x49f)]==='add'){let _0x5a94fe=(await this[_0x5f0d0c(0x2f2)]({'numbers':_0x575081[_0x5f0d0c(0x471)]}))[_0x5f0d0c(0x497)](_0x5e5dab=>_0x5e5dab[_0x5f0d0c(0x334)])[_0x5f0d0c(0x74c)](_0x12f6fa=>this[_0x5f0d0c(0x718)](_0x12f6fa[_0x5f0d0c(0x7a1)]));if(_0x5a94fe[_0x5f0d0c(0x6f0)]===0x0)throw new m(_0x5f0d0c(0x4ee));await this['client']['groupParticipantsUpdate'](_0x575081['groupJid'],_0x5a94fe,_0x5f0d0c(0x8dc));}else{let _0x21b92a=_0x575081['participants'][_0x5f0d0c(0x74c)](_0x2e8081=>this[_0x5f0d0c(0x718)](_0x2e8081));await this[_0x5f0d0c(0x286)][_0x5f0d0c(0x881)](_0x575081[_0x5f0d0c(0x2a1)],_0x21b92a,_0x575081[_0x5f0d0c(0x49f)]);}}return await this[_0x5f0d0c(0x846)]({'groupJid':_0x575081[_0x5f0d0c(0x2a1)]});}catch(_0x3d79ef){let _0x1f79a0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x150bfb=_0x3d79ef instanceof Error?_0x3d79ef[_0x5f0d0c(0x852)]:typeof _0x3d79ef=='object'?JSON[_0x5f0d0c(0x720)](_0x3d79ef):_0x3d79ef,_0x1769b2=_0x1f79a0+':\x20'+_0x150bfb;throw this[_0x5f0d0c(0x843)][_0x5f0d0c(0x4e4)](this[_0x5f0d0c(0x5c4)]+'\x20('+this[_0x5f0d0c(0x5ef)][_0x5f0d0c(0x4d2)]+_0x5f0d0c(0x878)+_0x1769b2),new m(_0x1769b2);}}async['groupGetInviteInfo'](_0x22dd77){const _0x4563f6=a0_0x31011a;try{return await this['client']['groupGetInviteInfo'](_0x22dd77[_0x4563f6(0x236)]);}catch(_0x32cb89){let _0x16dd85='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x26ed1e=_0x32cb89 instanceof Error?_0x32cb89[_0x4563f6(0x852)]:typeof _0x32cb89=='object'?JSON[_0x4563f6(0x720)](_0x32cb89):_0x32cb89,_0x403208=_0x16dd85+':\x20'+_0x26ed1e;throw this[_0x4563f6(0x843)][_0x4563f6(0x4e4)](this[_0x4563f6(0x5c4)]+'\x20('+this['instance'][_0x4563f6(0x4d2)]+_0x4563f6(0x878)+_0x403208),new m(_0x403208);}}async[a0_0x31011a(0x846)](_0x246a15,_0x47cb88=a0_0x31011a(0x75e)){const _0x11be7c=a0_0x31011a;try{let _0x3b1c60=await this[_0x11be7c(0x3c6)]['chat'][_0x11be7c(0x917)]({'where':{'_id':_0x246a15[_0x11be7c(0x2a1)]}},this['instance']['wuid']),_0x6309f6=_0x3b1c60?_0x3b1c60['groupdata']:null,_0x57b42f=0x18*0x3c*0x3c*0x3e8;if(!_0x6309f6||_0x6309f6[_0x11be7c(0x733)]&&Date[_0x11be7c(0x6d9)]()-_0x6309f6[_0x11be7c(0x733)]>_0x57b42f){let _0x141c15=await this['client']['groupMetadata'](_0x246a15[_0x11be7c(0x2a1)]);if(_0x141c15[_0x11be7c(0x48a)]=_0x141c15?.[_0x11be7c(0x48a)]&&_0x141c15[_0x11be7c(0x48a)][_0x11be7c(0x45e)]()['length']<0xd?_0x141c15?.[_0x11be7c(0x48a)]*0x3e8:_0x141c15?.[_0x11be7c(0x48a)]||null,_0x141c15[_0x11be7c(0x381)]=_0x141c15?.[_0x11be7c(0x381)]&&_0x141c15[_0x11be7c(0x381)][_0x11be7c(0x45e)]()[_0x11be7c(0x6f0)]<0xd?_0x141c15?.[_0x11be7c(0x381)]*0x3e8:_0x141c15?.[_0x11be7c(0x381)]||null,_0x6309f6={..._0x141c15,'lastUpdate':Date[_0x11be7c(0x6d9)]()},!_0x141c15)return;}let _0x13715d=_0x6309f6[_0x11be7c(0x471)]['some'](_0x5d9546=>_0x5d9546['id']===this[_0x11be7c(0x5ef)][_0x11be7c(0x4d2)]+_0x11be7c(0x92c)&&_0x5d9546[_0x11be7c(0x8c3)]!=null);!_0x6309f6[_0x11be7c(0x236)]&&_0x13715d&&(_0x6309f6[_0x11be7c(0x236)]=(await this[_0x11be7c(0x236)](_0x246a15,!0x1))[_0x11be7c(0x41d)]);let _0x54c8e4=(!_0x6309f6[_0x11be7c(0x2fb)]||_0x13715d)&&(!_0x6309f6[_0x11be7c(0x833)]||_0x6309f6['isCommunity']&&_0x6309f6[_0x11be7c(0x85e)]&&_0x13715d);_0x6309f6[_0x11be7c(0x2f0)]=_0x13715d,_0x6309f6['canSendMessage']=_0x54c8e4;let _0x373215=[];if(_0x13715d&&_0x6309f6['joinApprovalMode'])try{_0x373215=await this[_0x11be7c(0x286)][_0x11be7c(0x1e3)](_0x246a15[_0x11be7c(0x2a1)]),_0x6309f6['lastFetchAwaitingApproval']=Date[_0x11be7c(0x6d9)]();}catch(_0x253757){this[_0x11be7c(0x843)][_0x11be7c(0x45c)](this[_0x11be7c(0x5c4)]+'\x20('+this[_0x11be7c(0x5ef)][_0x11be7c(0x4d2)]+_0x11be7c(0x78c)+_0x246a15['groupJid']+':\x20'+(_0x253757 instanceof Error?_0x253757['message']:JSON[_0x11be7c(0x720)](_0x253757,null,0x2)));}try{_0x6309f6[_0x11be7c(0x3d8)]=(await this[_0x11be7c(0x32d)](_0x246a15['groupJid'],null,!0x0))[_0x11be7c(0x8d4)][_0x11be7c(0x2f8)];}catch(_0x216a0d){this[_0x11be7c(0x843)][_0x11be7c(0x45c)](this[_0x11be7c(0x5c4)]+'\x20('+this['instance'][_0x11be7c(0x4d2)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x246a15['groupJid']+':\x20'+(_0x216a0d instanceof Error?_0x216a0d['message']:JSON['stringify'](_0x216a0d,null,0x2)));}let _0x41582c=_0x6309f6[_0x11be7c(0x471)][_0x11be7c(0x74c)](_0x16214e=>_0x16214e['id']),_0x14ab38=_0x373215['map'](_0x2df692=>_0x2df692[_0x11be7c(0x7a1)]),_0x1e3237=await this[_0x11be7c(0x3c6)][_0x11be7c(0x784)]['findManyByIds']([..._0x41582c,..._0x14ab38]);_0x6309f6[_0x11be7c(0x471)]=_0x6309f6[_0x11be7c(0x471)][_0x11be7c(0x74c)](_0x165a2e=>{const _0x4fafbf=_0x11be7c;let _0x509e33=_0x1e3237['find'](_0x27ef4f=>_0x27ef4f[_0x4fafbf(0x22c)]===_0x165a2e['id']);return{'id':_0x165a2e['id'],'isAdmin':['admin',_0x4fafbf(0x329)][_0x4fafbf(0x397)](_0x165a2e[_0x4fafbf(0x8c3)]),'admin':_0x165a2e[_0x4fafbf(0x8c3)],'pushName':_0x509e33?.[_0x4fafbf(0x3a4)],'profilePictureUrl':_0x509e33?.['pictureUrl']};}),_0x6309f6[_0x11be7c(0x757)]=_0x373215[_0x11be7c(0x74c)](_0x2485c2=>{const _0x482f3c=_0x11be7c;let _0x536450=_0x1e3237[_0x482f3c(0x90d)](_0x51ca07=>_0x51ca07['_id']===_0x2485c2[_0x482f3c(0x7a1)]);return{'id':_0x2485c2[_0x482f3c(0x7a1)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x536450?.[_0x482f3c(0x3a4)],'profilePictureUrl':_0x536450?.[_0x482f3c(0x2f8)],'request_method':_0x2485c2[_0x482f3c(0x3f0)],'request_time':_0x2485c2[_0x482f3c(0x6f6)]};});let _0x33065c=await this[_0x11be7c(0x3c6)][_0x11be7c(0x3bc)][_0x11be7c(0x449)]({'where':{'_id':_0x246a15[_0x11be7c(0x2a1)]}},{'imagechat':_0x6309f6[_0x11be7c(0x3d8)],'name':_0x6309f6['subject'],'lastcache':Date['now'](),'groupdata':_0x6309f6},this[_0x11be7c(0x5ef)][_0x11be7c(0x4d2)]);return j(this['instanceName'],_0x11be7c(0x85a),{'chat':_0x33065c}),{'metadata':_0x6309f6};}catch(_0x4e14e8){if(_0x47cb88==='inner')return;throw new J(_0x11be7c(0x7cf),_0x4e14e8[_0x11be7c(0x852)][_0x11be7c(0x45e)]());}}async[a0_0x31011a(0x30a)](){const _0x19b8da=a0_0x31011a;try{let _0x1007d3=[],_0x39aef0=await this[_0x19b8da(0x286)][_0x19b8da(0x80e)](),_0x4c44e3=Object[_0x19b8da(0x708)](_0x39aef0),_0xc4b5d0=_0x4c44e3[_0x19b8da(0x497)](_0x436ac7=>(0x0,w[_0x19b8da(0x2c4)])(_0x436ac7?.['id']))['map'](async _0x770184=>{const _0x2fa33f=_0x19b8da;try{return await this[_0x2fa33f(0x286)][_0x2fa33f(0x4fb)](_0x770184['id'],_0x2fa33f(0x293));}catch(_0x3ff320){return this['logger']['verbose'](this[_0x2fa33f(0x5c4)]+'\x20('+this[_0x2fa33f(0x5ef)][_0x2fa33f(0x4d2)]+_0x2fa33f(0x2f6)+_0x770184['id']+':\x20'+(_0x3ff320 instanceof Error?_0x3ff320[_0x2fa33f(0x852)]:JSON[_0x2fa33f(0x720)](_0x3ff320,null,0x2))),null;}}),_0x137045=await Promise[_0x19b8da(0x6da)](_0xc4b5d0);for(let _0x1278fd=0x0;_0x1278fd<_0x4c44e3[_0x19b8da(0x6f0)];_0x1278fd++){let _0x10ae7e=_0x4c44e3[_0x1278fd];(0x0,w[_0x19b8da(0x2c4)])(_0x10ae7e?.['id'])&&(_0x1007d3['push']({'groupJid':_0x10ae7e?.['id'],'subject':_0x10ae7e?.['subject'],'subjectOwner':_0x10ae7e?.['subjectOwner']?.[_0x19b8da(0x912)]('@')[0x0],'subjectTime':_0x10ae7e?.[_0x19b8da(0x48a)],'creation':_0x10ae7e?.[_0x19b8da(0x381)],'size':_0x10ae7e?.[_0x19b8da(0x471)]?.['length'],'owner':_0x10ae7e?.[_0x19b8da(0x5d1)]?.[_0x19b8da(0x912)]('@')[0x0],'desc':_0x10ae7e?.[_0x19b8da(0x556)],'restrict':_0x10ae7e?.['restrict'],'announce':_0x10ae7e?.['announce'],'image':_0x137045[_0x1278fd],'isCommunity':_0x10ae7e?.['isCommunity'],'joinApprovalMode':_0x10ae7e?.[_0x19b8da(0x5c2)],'memberCanAddParticipant':_0x10ae7e?.['memberAddMode'],'participants':_0x10ae7e?.[_0x19b8da(0x471)],'descOwner':_0x10ae7e?.[_0x19b8da(0x4a8)],'descId':_0x10ae7e?.[_0x19b8da(0x324)],'memberAddMode':_0x10ae7e?.[_0x19b8da(0x562)],'isCommunityAnnounce':_0x10ae7e?.['isCommunityAnnounce'],'ephemeralDuration':_0x10ae7e?.['ephemeralDuration']||0x0,'author':_0x10ae7e?.[_0x19b8da(0x7a9)]}),this[_0x19b8da(0x4a0)](_0x4c44e3[_0x1278fd]));}return _0x1007d3;}catch(_0x1b03f5){let _0x11b875='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x4d40ee=_0x1b03f5 instanceof Error?_0x1b03f5[_0x19b8da(0x852)]:typeof _0x1b03f5==_0x19b8da(0x545)?JSON[_0x19b8da(0x720)](_0x1b03f5):_0x1b03f5,_0xf0fecf=_0x11b875+':\x20'+_0x4d40ee;throw this[_0x19b8da(0x843)][_0x19b8da(0x4e4)](this[_0x19b8da(0x5c4)]+'\x20('+this[_0x19b8da(0x5ef)]['wuid']+_0x19b8da(0x878)+_0xf0fecf),new J(_0xf0fecf);}}async['updateChatGroupData'](_0x49f7d0){const _0x526b09=a0_0x31011a;let _0x31ffe3=await this[_0x526b09(0x3c6)][_0x526b09(0x3bc)][_0x526b09(0x917)]({'where':{'_id':_0x49f7d0['id']}},this[_0x526b09(0x5ef)][_0x526b09(0x4d2)]);_0x49f7d0[_0x526b09(0x48a)]=_0x49f7d0?.[_0x526b09(0x48a)]&&_0x49f7d0[_0x526b09(0x48a)][_0x526b09(0x45e)]()[_0x526b09(0x6f0)]<0xd?_0x49f7d0?.['subjectTime']*0x3e8:_0x49f7d0?.['subjectTime']||null,_0x49f7d0[_0x526b09(0x381)]=_0x49f7d0?.[_0x526b09(0x381)]&&_0x49f7d0[_0x526b09(0x381)][_0x526b09(0x45e)]()[_0x526b09(0x6f0)]<0xd?_0x49f7d0?.[_0x526b09(0x381)]*0x3e8:_0x49f7d0?.['creation']||null;let _0x253778=_0x31ffe3?.[_0x526b09(0x438)]?.[_0x526b09(0x757)]||[],_0x36a200=_0x31ffe3?.[_0x526b09(0x438)]?.['lastFetchAwaitingApproval'],_0x59486f=_0x49f7d0[_0x526b09(0x471)][_0x526b09(0x74c)](_0x4a405a=>{const _0x7351a3=_0x526b09;let _0x1160f9=_0x31ffe3?.['groupdata']?.['participants'][_0x7351a3(0x90d)](_0x560ea0=>_0x560ea0['id']===_0x4a405a['id']);return{..._0x4a405a,'isAdmin':['admin','superadmin'][_0x7351a3(0x397)](_0x4a405a[_0x7351a3(0x8c3)]),'admin':_0x4a405a[_0x7351a3(0x8c3)],'name':_0x1160f9?.[_0x7351a3(0x3a4)]||_0x4a405a['name'],'imgUrl':_0x1160f9?.[_0x7351a3(0x4a5)]||_0x4a405a[_0x7351a3(0x4a5)]};}),_0x2aae26=_0x59486f[_0x526b09(0x641)](_0x13cfdc=>_0x13cfdc['id']===this['instance'][_0x526b09(0x4d2)]+'@s.whatsapp.net'&&_0x13cfdc[_0x526b09(0x2f0)]),_0x36fa9c=(!_0x49f7d0[_0x526b09(0x2fb)]||_0x2aae26)&&(!_0x49f7d0[_0x526b09(0x833)]||_0x49f7d0['isCommunity']&&_0x49f7d0[_0x526b09(0x85e)]&&_0x2aae26),_0x84b34f={..._0x49f7d0,'participants':_0x59486f,'awaitingApproval':_0x253778,'lastFetchAwaitingApproval':_0x36a200,'isAdmin':_0x2aae26,'canSendMessage':_0x36fa9c,'lastUpdate':Date[_0x526b09(0x6d9)]()};await this[_0x526b09(0x3c6)][_0x526b09(0x3bc)][_0x526b09(0x449)]({'where':{'_id':_0x49f7d0['id']}},{'name':_0x49f7d0['subject'],'group':!0x0,'groupdata':_0x84b34f,'lastcache':Date[_0x526b09(0x6d9)]()},this[_0x526b09(0x5ef)][_0x526b09(0x4d2)]),j(this['instanceName'],_0x526b09(0x85a),{'chat':_0x49f7d0});}async[a0_0x31011a(0x517)](_0x4934b8){const _0xa3bf8e=a0_0x31011a;let _0x3a2bfb=await this[_0xa3bf8e(0x3c6)][_0xa3bf8e(0x3bc)][_0xa3bf8e(0x917)]({'where':{'_id':_0x4934b8['id']}},this[_0xa3bf8e(0x5ef)]['wuid']);_0x4934b8[_0xa3bf8e(0x48a)]=_0x4934b8?.['subjectTime']&&_0x4934b8[_0xa3bf8e(0x48a)]['toString']()[_0xa3bf8e(0x6f0)]<0xd?_0x4934b8?.[_0xa3bf8e(0x48a)]*0x3e8:_0x4934b8?.[_0xa3bf8e(0x48a)]||null,_0x4934b8['creation']=_0x4934b8?.[_0xa3bf8e(0x381)]&&_0x4934b8[_0xa3bf8e(0x381)][_0xa3bf8e(0x45e)]()[_0xa3bf8e(0x6f0)]<0xd?_0x4934b8?.[_0xa3bf8e(0x381)]*0x3e8:_0x4934b8?.[_0xa3bf8e(0x381)]||null,_0x4934b8[_0xa3bf8e(0x236)]&&(_0x4934b8[_0xa3bf8e(0x236)]=_0xa3bf8e(0x59e)+_0x4934b8[_0xa3bf8e(0x236)]);let _0x40247e=_0x3a2bfb?.['groupdata']?{..._0x3a2bfb['groupdata']}:{};Object[_0xa3bf8e(0x31f)](_0x4934b8)[_0xa3bf8e(0x201)](_0x1e31b8=>{_0x1e31b8!=='id'&&(_0x40247e[_0x1e31b8]=_0x4934b8[_0x1e31b8]);});let _0x4a2bec=_0x40247e['participants']?.['some'](_0x5cb971=>_0x5cb971['id']===this['instance']['wuid']+_0xa3bf8e(0x92c)&&_0x5cb971[_0xa3bf8e(0x2f0)])||!0x1;_0x40247e['isAdmin']=_0x4a2bec;let _0x4b5c8c=(!_0x40247e[_0xa3bf8e(0x2fb)]||_0x4a2bec)&&(!_0x40247e['isCommunity']||_0x40247e['isCommunity']&&_0x40247e[_0xa3bf8e(0x85e)]&&_0x4a2bec);_0x40247e[_0xa3bf8e(0x57f)]=_0x4b5c8c;let _0x2991ba={'group':!0x0,'groupdata':_0x40247e};_0x4934b8[_0xa3bf8e(0x3cb)]&&(_0x2991ba[_0xa3bf8e(0x3a4)]=_0x4934b8[_0xa3bf8e(0x3cb)]),await this['repository'][_0xa3bf8e(0x3bc)]['updateOne']({'where':{'_id':_0x4934b8['id']}},_0x2991ba,this[_0xa3bf8e(0x5ef)][_0xa3bf8e(0x4d2)],{'upsert':!0x0}),j(this['instanceName'],'chats',{'chat':_0x2991ba});}async['updateGroupParticipantsWebhook'](_0x17ce5e){const _0x494a1e=a0_0x31011a;let _0x111f03=await this[_0x494a1e(0x3c6)][_0x494a1e(0x3bc)]['findOne']({'where':{'_id':_0x17ce5e['id']}},this[_0x494a1e(0x5ef)]['wuid']);if(!_0x111f03||!_0x111f03[_0x494a1e(0x438)]){this[_0x494a1e(0x843)][_0x494a1e(0x6d2)](this[_0x494a1e(0x5c4)]+'\x20('+this[_0x494a1e(0x5ef)][_0x494a1e(0x4d2)]+_0x494a1e(0x84a)+_0x17ce5e['id']);return;}let _0x158eec=await this[_0x494a1e(0x3c6)][_0x494a1e(0x784)]['findManyByIds'](_0x17ce5e['participants']),_0x484627=[..._0x111f03[_0x494a1e(0x438)]?.['participants']];switch(_0x17ce5e['action']){case _0x494a1e(0x8dc):let _0x1d57a9=_0x158eec['map'](_0x495ff1=>({'id':_0x495ff1[_0x494a1e(0x22c)],'isAdmin':!0x1,'name':_0x495ff1[_0x494a1e(0x3a4)],'imgUrl':_0x495ff1[_0x494a1e(0x2f8)]}));_0x484627=[..._0x484627,..._0x1d57a9];break;case _0x494a1e(0x3d6):_0x484627=_0x484627[_0x494a1e(0x497)](_0x4914af=>!_0x17ce5e[_0x494a1e(0x471)][_0x494a1e(0x397)](_0x4914af['id']));break;case'promote':case'demote':_0x484627=_0x484627['map'](_0x117724=>_0x17ce5e[_0x494a1e(0x471)][_0x494a1e(0x397)](_0x117724['id'])?{..._0x117724,'isAdmin':_0x17ce5e['action']==='promote'}:_0x117724);break;}let _0x323057=_0x484627[_0x494a1e(0x6f0)],_0x24e585=_0x484627[_0x494a1e(0x641)](_0x49af4a=>_0x49af4a['id']===this[_0x494a1e(0x5ef)]['wuid']+_0x494a1e(0x92c)),_0x2af2a6=_0x24e585&&_0x484627[_0x494a1e(0x641)](_0xd64b96=>_0xd64b96['id']===this[_0x494a1e(0x5ef)][_0x494a1e(0x4d2)]+'@s.whatsapp.net'&&_0xd64b96[_0x494a1e(0x2f0)]),_0x513f33=_0x24e585&&(!_0x111f03['groupdata'][_0x494a1e(0x2fb)]||_0x2af2a6)&&(!_0x111f03[_0x494a1e(0x438)][_0x494a1e(0x833)]||_0x111f03[_0x494a1e(0x438)][_0x494a1e(0x833)]&&_0x2af2a6);await this[_0x494a1e(0x3c6)][_0x494a1e(0x3bc)][_0x494a1e(0x449)]({'where':{'_id':_0x17ce5e['id']}},{'groupdata':{..._0x111f03['groupdata'],'participants':_0x484627,'size':_0x323057,'isAdmin':_0x2af2a6,'canSendMessage':_0x513f33}},this[_0x494a1e(0x5ef)][_0x494a1e(0x4d2)]),this[_0x494a1e(0x843)][_0x494a1e(0x6d2)](this[_0x494a1e(0x5c4)]+'\x20('+this['instance'][_0x494a1e(0x4d2)]+_0x494a1e(0x5e1)+_0x17ce5e['id']+_0x494a1e(0x2c8)+_0x17ce5e[_0x494a1e(0x49f)]+_0x494a1e(0x81a)+_0x323057+',\x20isAdmin:\x20'+_0x2af2a6+_0x494a1e(0x614)+_0x513f33);}async[a0_0x31011a(0x236)](_0x553373,_0x5cb0c1=!0x0){const _0x624617=a0_0x31011a;try{let _0x4108ae=await this[_0x624617(0x286)][_0x624617(0x4f1)](_0x553373[_0x624617(0x2a1)]),_0x563008={'groupdata.inviteCode':_0x624617(0x59e)+_0x4108ae};if(_0x5cb0c1){let _0x423bb6=await this[_0x624617(0x3c6)][_0x624617(0x3bc)]['updateOne']({'where':{'_id':_0x553373[_0x624617(0x2a1)]}},_0x563008,this[_0x624617(0x5ef)][_0x624617(0x4d2)]);}return{'inviteUrl':_0x624617(0x59e)+_0x4108ae,'inviteCode':_0x4108ae};}catch(_0x221f74){let _0x32262a=_0x624617(0x442),_0x55f331=_0x221f74 instanceof Error?_0x221f74[_0x624617(0x852)]:typeof _0x221f74==_0x624617(0x545)?JSON[_0x624617(0x720)](_0x221f74):_0x221f74,_0x329c94=_0x32262a+':\x20'+_0x55f331;throw this[_0x624617(0x843)]['error'](this[_0x624617(0x5c4)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x329c94),new J(_0x329c94);}}async[a0_0x31011a(0x456)](_0x132942){const _0x3ccc93=a0_0x31011a;try{let _0x2f2399=await this[_0x3ccc93(0x286)]['groupRevokeInvite'](_0x132942[_0x3ccc93(0x2a1)]);return{'revoked':!0x0,'inviteUrl':_0x3ccc93(0x59e)+_0x2f2399,'inviteCode':_0x2f2399};}catch(_0x440661){let _0x3b17b9='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x3eedaf=_0x440661 instanceof Error?_0x440661[_0x3ccc93(0x852)]:typeof _0x440661==_0x3ccc93(0x545)?JSON[_0x3ccc93(0x720)](_0x440661):_0x440661,_0x3226bb=_0x3b17b9+':\x20'+_0x3eedaf;throw this[_0x3ccc93(0x843)][_0x3ccc93(0x4e4)](this[_0x3ccc93(0x5c4)]+'\x20('+this[_0x3ccc93(0x5ef)]['wuid']+_0x3ccc93(0x878)+_0x3226bb),new J(_0x3226bb);}}async[a0_0x31011a(0x65d)](_0x3285da){const _0x44169a=a0_0x31011a;try{if((0x0,k[_0x44169a(0x4eb)])(_0x3285da[_0x44169a(0x236)]))var _0x541eb3=_0x3285da[_0x44169a(0x236)][_0x44169a(0x912)]('/')[0x3];else var _0x541eb3=_0x3285da[_0x44169a(0x236)];let _0x251fe6=await this[_0x44169a(0x286)][_0x44169a(0x91c)](_0x541eb3);return this[_0x44169a(0x843)][_0x44169a(0x45c)](this[_0x44169a(0x5c4)]+'\x20('+this[_0x44169a(0x5ef)]['wuid']+_0x44169a(0x878)+_0x251fe6),{'join':!0x0,'inviteCode':_0x541eb3,'groupJid':_0x251fe6};}catch(_0x947457){let _0x8ae183=_0x44169a(0x54c),_0x3b7330=_0x947457 instanceof Error?_0x947457['message']:typeof _0x947457==_0x44169a(0x545)?JSON['stringify'](_0x947457):_0x947457,_0x588bc8=_0x8ae183+':\x20'+_0x3b7330;throw this[_0x44169a(0x843)][_0x44169a(0x4e4)](this['instanceName']+'\x20('+this[_0x44169a(0x5ef)]['wuid']+'):\x20'+_0x588bc8),new J(_0x588bc8);}}async[a0_0x31011a(0x86e)](_0x5c7619){const _0x3ce805=a0_0x31011a;try{return{'participants':(await this['repository'][_0x3ce805(0x3bc)]['findOne']({'where':{'_id':_0x5c7619[_0x3ce805(0x2a1)]}},this['instance'][_0x3ce805(0x4d2)]))[_0x3ce805(0x438)]['participants']};}catch(_0x566b47){let _0x4ede02=_0x3ce805(0x671),_0x389886=_0x566b47 instanceof Error?_0x566b47[_0x3ce805(0x852)]:typeof _0x566b47=='object'?JSON[_0x3ce805(0x720)](_0x566b47):_0x566b47,_0x57ab3d=_0x4ede02+':\x20'+_0x389886;throw this[_0x3ce805(0x843)]['error'](this['instanceName']+'\x20('+this[_0x3ce805(0x5ef)][_0x3ce805(0x4d2)]+_0x3ce805(0x878)+_0x57ab3d),new J(_0x57ab3d);}}async[a0_0x31011a(0x2b7)](_0x1f436c){const _0x37b8d3=a0_0x31011a;try{return await this[_0x37b8d3(0x286)][_0x37b8d3(0x4ca)](_0x1f436c['groupJid']),{'groupJid':_0x1f436c[_0x37b8d3(0x2a1)],'leave':!0x0};}catch(_0x4f9dba){let _0x3a4e75=_0x37b8d3(0x922),_0x41288f=_0x4f9dba instanceof Error?_0x4f9dba['message']:typeof _0x4f9dba==_0x37b8d3(0x545)?JSON['stringify'](_0x4f9dba):_0x4f9dba,_0x15feae=_0x3a4e75+':\x20'+_0x41288f;throw this[_0x37b8d3(0x843)]['error'](this[_0x37b8d3(0x5c4)]+'\x20('+this[_0x37b8d3(0x5ef)][_0x37b8d3(0x4d2)]+_0x37b8d3(0x878)+_0x15feae),new m(_0x15feae);}}async['pollMessage'](_0x216390){const _0x3bcbff=a0_0x31011a;return await this[_0x3bcbff(0x676)](_0x216390['number'],{'poll':{'name':_0x216390[_0x3bcbff(0x318)]?.[_0x3bcbff(0x3a4)],'selectableCount':_0x216390[_0x3bcbff(0x318)][_0x3bcbff(0x642)],'values':_0x216390[_0x3bcbff(0x318)][_0x3bcbff(0x708)]}},_0x216390?.['options']);}async['listMessage'](_0x26b29a){const _0x16e57a=a0_0x31011a;return await this[_0x16e57a(0x676)](_0x26b29a[_0x16e57a(0x5d9)],{'listMessage':{'title':_0x26b29a[_0x16e57a(0x4d5)][_0x16e57a(0x54a)],'description':_0x26b29a[_0x16e57a(0x4d5)][_0x16e57a(0x61c)],'buttonText':_0x26b29a[_0x16e57a(0x4d5)]?.['buttonText'],'footerText':_0x26b29a[_0x16e57a(0x4d5)]?.[_0x16e57a(0x7f1)],'sections':_0x26b29a[_0x16e57a(0x4d5)]['sections'],'listType':0x2}},_0x26b29a?.[_0x16e57a(0x1e4)]);}async[a0_0x31011a(0x6c2)](_0x198ada){const _0xe57002=a0_0x31011a;let _0x1a37e5;if(_0x198ada[_0xe57002(0x6c2)][_0xe57002(0x294)]===_0xe57002(0x54e)){let _0x28ec0f=_0x198ada[_0xe57002(0x6c2)][_0xe57002(0x64c)][_0xe57002(0x81c)]('\x0a'),_0x473378='',_0x222415='';_0x28ec0f!==-0x1?(_0x473378=_0x198ada['menuMessage'][_0xe57002(0x64c)]['substring'](0x0,_0x28ec0f)[_0xe57002(0x44d)](),_0x222415=_0x198ada[_0xe57002(0x6c2)][_0xe57002(0x64c)][_0xe57002(0x65a)](_0x28ec0f+0x1)):_0x222415=_0x198ada[_0xe57002(0x6c2)]['text'];let _0x1e3e6d=_0x198ada[_0xe57002(0x6c2)][_0xe57002(0x3a9)][_0xe57002(0x497)](_0x28eec9=>_0x28eec9[_0xe57002(0x44d)]()!==''),_0x3bb3e2=this[_0xe57002(0x521)](_0x1e3e6d);_0x1a37e5={'listMessage':{'title':_0x473378,'description':_0x222415,'buttonText':_0x198ada['menuMessage'][_0xe57002(0x219)]||_0xe57002(0x5bf),'footerText':_0x198ada[_0xe57002(0x6c2)][_0xe57002(0x7f1)],'sections':_0x3bb3e2,'listType':0x2}};}else{if(_0x198ada['menuMessage'][_0xe57002(0x294)]===_0xe57002(0x832)){let _0x442767=_0x198ada[_0xe57002(0x6c2)]['choices'][_0xe57002(0x497)](_0xe45dfe=>!(_0xe45dfe[_0xe57002(0x653)]('[')&&_0xe45dfe[_0xe57002(0x901)](']'))&&_0xe45dfe['trim']()!=='')[_0xe57002(0x74c)](_0x3b9591=>_0x3b9591[_0xe57002(0x912)]('\x0a')[0x0]);_0x1a37e5={'poll':{'name':_0x198ada['menuMessage'][_0xe57002(0x64c)],'selectableCount':_0x198ada[_0xe57002(0x6c2)][_0xe57002(0x642)]||0x1,'values':_0x442767}};}}return await this[_0xe57002(0x676)](_0x198ada[_0xe57002(0x5d9)],_0x1a37e5,_0x198ada?.[_0xe57002(0x1e4)]);}['createSectionsFromValues'](_0x3bf16a){const _0x3c8651=a0_0x31011a;let _0x56f33b=[],_0x160abe={'rows':[]};return _0x3bf16a[_0x3c8651(0x201)](_0x34b69b=>{const _0x5e7f8a=_0x3c8651;if(_0x34b69b[_0x5e7f8a(0x653)]('[')&&_0x34b69b[_0x5e7f8a(0x901)](']'))_0x160abe[_0x5e7f8a(0x804)][_0x5e7f8a(0x6f0)]>0x0&&_0x56f33b[_0x5e7f8a(0x3ec)](_0x160abe),_0x160abe={'title':_0x34b69b[_0x5e7f8a(0x22a)](0x1,-0x1),'rows':[]};else{let _0x2764bd=_0x34b69b['split']('\x0a')[_0x5e7f8a(0x74c)](_0xc21c2a=>_0xc21c2a[_0x5e7f8a(0x44d)]()),_0x3d3e67=_0x2764bd[0x0],_0x441fa2=_0x2764bd[0x1]||null,_0x3f5891=_0x2764bd[0x2]||_0x3d3e67;_0x160abe[_0x5e7f8a(0x804)][_0x5e7f8a(0x3ec)]({'title':_0x3d3e67,'description':_0x441fa2,'rowId':_0x3f5891});}}),_0x160abe[_0x3c8651(0x804)][_0x3c8651(0x6f0)]>0x0&&_0x56f33b['push'](_0x160abe),_0x56f33b;}async[a0_0x31011a(0x3fe)](_0x3f932f,_0x1f03fa){const _0x563da0=a0_0x31011a;if(await this[_0x563da0(0x32a)](_0x3f932f,!0x0)){let _0x5b1e6a={'where':{'_id':_0x3f932f['id']}},_0x104d5d={'status':[_0x1f03fa[_0x563da0(0x893)]][0x0]};try{let _0x2c262e=await this['repository'][_0x563da0(0x852)][_0x563da0(0x4da)](_0x5b1e6a,_0x104d5d,this[_0x563da0(0x5ef)]['wuid']);_0x2c262e&&j(this[_0x563da0(0x5c4)],'messages',{'message':_0x2c262e});}catch{}}}[a0_0x31011a(0x85d)](_0x10b65a){const _0x3055e7=a0_0x31011a;let _0x1edac3=[];return _0x10b65a[_0x3055e7(0x201)](_0x22e847=>{const _0x349d20=_0x3055e7;_0x22e847['title']&&_0x1edac3[_0x349d20(0x3ec)]('['+_0x22e847[_0x349d20(0x54a)]+']'),_0x22e847[_0x349d20(0x804)][_0x349d20(0x201)](_0x3f876f=>{const _0x471548=_0x349d20;_0x1edac3[_0x471548(0x3ec)](_0x3f876f['title']);});}),_0x1edac3[_0x3055e7(0x57d)]('|');}[a0_0x31011a(0x655)](_0x4bd2fa){const _0x47f467=a0_0x31011a;let _0x645084=_0x4bd2fa[_0x47f467(0x929)](/\\n/g,'\x0a')[_0x47f467(0x912)]('\x0a')[_0x47f467(0x497)](_0x457858=>_0x457858[_0x47f467(0x397)](_0x47f467(0x6a7))||_0x457858[_0x47f467(0x397)]('EMAIL')),_0x3b4206='';return _0x645084[_0x47f467(0x201)](_0x4d78c7=>{const _0x4bcda7=_0x47f467;let _0x189cc1=/TEL(?:.*):(.+)/,_0x2a67a0=/EMAIL(?:.*):(.+)/,_0x201336=_0x4d78c7[_0x4bcda7(0x26b)](_0x189cc1),_0x1db9e7=_0x4d78c7[_0x4bcda7(0x26b)](_0x2a67a0);if(_0x201336){let _0x1e46f5=_0x201336[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x4bcda7(0x44d)]();_0x3b4206+=_0x4bcda7(0x3f3)+_0x1e46f5+'\x0a';}else{if(_0x1db9e7){let _0x28d319=_0x1db9e7[0x1][_0x4bcda7(0x44d)]();_0x3b4206+=_0x4bcda7(0x348)+_0x28d319+'\x0a';}}}),_0x3b4206[_0x47f467(0x44d)]();}async[a0_0x31011a(0x445)](_0x1c8096,_0x577b8e,_0x5c3b0b,_0x2028c4=null){const _0x4df409=a0_0x31011a;if(_0x1c8096[_0x4df409(0x844)])try{let _0x4c57d3=_0x577b8e['key'][_0x4df409(0x651)][_0x4df409(0x929)](/:\d{1,2}@/g,'@'),_0x4a8128=_0x577b8e['key'][_0x4df409(0x663)],_0x24064e=_0x4c57d3[_0x4df409(0x901)](_0x4df409(0x263)),_0x2c27e6=_0x577b8e[_0x4df409(0x4e1)]?.[_0x4df409(0x929)](/:\d{1,2}@/g,'@')||'',_0x252feb=_0x577b8e[_0x4df409(0x1f4)]?.[_0x4df409(0x64c)]||_0x577b8e['message_normalized']?.[_0x4df409(0x649)]||_0x577b8e[_0x4df409(0x1f4)]?.['vote']||_0x577b8e[_0x4df409(0x1f4)]?.[_0x4df409(0x3a4)]||'',_0x434395={'_id':_0x577b8e[_0x4df409(0x22c)],'remoteJid':_0x4a8128?this['instance'][_0x4df409(0x4d2)]:_0x24064e?_0x2c27e6:_0x4c57d3,'pushName':_0x4a8128?this['instance']['profileName']||'Eu':_0x577b8e['pushName'],'text':_0x252feb,'type':_0x577b8e['messageType'],'when':_0x577b8e[_0x4df409(0x39f)]||Date['now']()};_0x2028c4||(_0x2028c4=await this[_0x4df409(0x3c6)][_0x4df409(0x3bc)][_0x4df409(0x917)]({'where':{'_id':_0x4c57d3}},this[_0x4df409(0x5ef)][_0x4df409(0x4d2)]));let _0x15345e=_0x2028c4?_0x4a8128?_0x2028c4['unreadcount']:(_0x2028c4[_0x4df409(0x4ba)]||0x0)+0x1:_0x4a8128?0x0:0x1,_0x5784f3={'lastmsg':_0x577b8e[_0x4df409(0x39f)]||Date['now'](),'ephemeralExpiration':_0x577b8e['expiration'],'lastMessage':_0x434395,'unreadcount':_0x15345e,..._0x4a8128||_0x24064e?{}:{'name':_0x577b8e[_0x4df409(0x727)]},..._0x24064e?{'group':_0x24064e}:{},...!_0x4a8128&&!_0x24064e&&_0x577b8e[_0x4df409(0x4fb)]?{'imagechat':_0x577b8e['profilePictureUrl']}:{}};if(!_0x24064e&&(!_0x2028c4?.[_0x4df409(0x564)]||!_0x2028c4['leadInfo']['nome'])&&_0x577b8e['pushName']&&!_0x4a8128&&(_0x5784f3={..._0x5784f3,'leadInfo.nome':_0x577b8e[_0x4df409(0x727)]}),_0x2028c4?.[_0x4df409(0x564)][_0x4df409(0x756)]||(_0x5784f3={..._0x5784f3,'leadInfo.etiquetas':[]}),_0x2028c4?.[_0x4df409(0x564)][_0x4df409(0x7e3)]||(_0x5784f3={..._0x5784f3,'leadInfo.customFields':[]}),_0x2028c4?.['leadInfo']['tags']||(_0x5784f3={..._0x5784f3,'leadInfo.tags':[]}),_0x2028c4&&_0x2028c4?.[_0x4df409(0x4a6)]){let _0x3a9643=await this[_0x4df409(0x3c6)][_0x4df409(0x20a)][_0x4df409(0x90d)]({'where':{}},this[_0x4df409(0x5ef)][_0x4df409(0x4d2)]),_0xa40615=new Set(_0x3a9643[_0x4df409(0x74c)](_0x490a17=>_0x490a17[_0x4df409(0x22c)])),_0x109b39=(_0x2028c4[_0x4df409(0x564)]?.['etiquetas']||[])['filter'](_0x2a5906=>_0xa40615[_0x4df409(0x467)](_0x2a5906));_0x5784f3={..._0x5784f3,'imported':!0x1,'leadInfo.etiquetas':_0x109b39};for(let _0x27ec51 of _0x109b39)await this['AddChatLabel'](_0x27ec51,_0x4c57d3);}if(!this[_0x4df409(0x74b)][_0x4df409(0x74d)][_0x4df409(0x90d)](_0x5a2b2d=>_0x5a2b2d[_0x4df409(0x1e6)]&&_0x252feb[_0x4df409(0x397)](_0x5a2b2d[_0x4df409(0x1e6)]))&&_0x5c3b0b==='MESSAGES_UPSERT'&&_0x4a8128&&this[_0x4df409(0x74b)]?.[_0x4df409(0x250)][_0x4df409(0x2ac)]&&_0x252feb['trim']()!==this['AutomateSystem']?.[_0x4df409(0x250)][_0x4df409(0x76b)]['trim']()){let _0xa3ba46=(this[_0x4df409(0x74b)]?.[_0x4df409(0x250)][_0x4df409(0x44f)]||0x0)*0xea60,_0x11f5f3=Date['now']()+_0xa3ba46;_0x2028c4?.[_0x4df409(0x564)]?.['desativadoFluxoAte']===0x0||(_0x5784f3={..._0x5784f3,'leadInfo.desativadoFluxoAte':_0x11f5f3},this[_0x4df409(0x843)][_0x4df409(0x45c)](this[_0x4df409(0x5c4)]+'\x20('+this[_0x4df409(0x5ef)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x11f5f3+'.'));}if(_0x252feb['trim']()===this[_0x4df409(0x74b)]?.[_0x4df409(0x250)][_0x4df409(0x76b)][_0x4df409(0x44d)]()){this[_0x4df409(0x843)]['verbose'](this[_0x4df409(0x5c4)]+'\x20('+this['instance'][_0x4df409(0x4d2)]+_0x4df409(0x688)+_0x252feb);let _0x6e702b=Date[_0x4df409(0x6d9)]();this[_0x4df409(0x74b)]?.[_0x4df409(0x250)][_0x4df409(0x8f0)]===0x0?_0x5784f3={..._0x5784f3,'leadInfo.desativadoFluxoAte':_0x6e702b+0x7591f6200}:_0x5784f3={..._0x5784f3,'leadInfo.desativadoFluxoAte':_0x6e702b+this[_0x4df409(0x74b)]?.[_0x4df409(0x250)][_0x4df409(0x8f0)]*0x3c*0x3e8};}if(_0x2028c4=await this[_0x4df409(0x3c6)][_0x4df409(0x3bc)][_0x4df409(0x449)]({'where':{'_id':_0x4c57d3}},_0x5784f3,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0}),_0x2028c4)j(this[_0x4df409(0x5c4)],_0x4df409(0x85a),{'chat':_0x2028c4});else{this['logger']['error'](this[_0x4df409(0x5c4)]+'\x20('+this[_0x4df409(0x5ef)][_0x4df409(0x4d2)]+_0x4df409(0x287));return;}if(_0x4a8128)return this[_0x4df409(0x843)][_0x4df409(0x45c)](this[_0x4df409(0x5c4)]+'\x20('+this['instance'][_0x4df409(0x4d2)]+_0x4df409(0x889)),null;if(!this['AutomateSystem']?.[_0x4df409(0x250)][_0x4df409(0x2ac)])return this[_0x4df409(0x843)][_0x4df409(0x45c)](this[_0x4df409(0x5c4)]+'\x20('+this[_0x4df409(0x5ef)][_0x4df409(0x4d2)]+_0x4df409(0x60e)),null;if(_0x2028c4[_0x4df409(0x22c)][_0x4df409(0x397)](_0x4df409(0x263))&&this['AutomateSystem']?.['flowConfig'][_0x4df409(0x42d)]===!0x0)return this[_0x4df409(0x843)]['verbose'](this[_0x4df409(0x5c4)]+'\x20('+this['instance']['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x2028c4['leadInfo']){if(_0x2028c4[_0x4df409(0x564)][_0x4df409(0x7c6)]===0x0||_0x2028c4[_0x4df409(0x564)][_0x4df409(0x6fc)])return this[_0x4df409(0x843)][_0x4df409(0x45c)](this['instanceName']+'\x20('+this[_0x4df409(0x5ef)][_0x4df409(0x4d2)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x4c57d3+_0x4df409(0x884)),null;if(_0x2028c4[_0x4df409(0x564)][_0x4df409(0x7c6)]>Date[_0x4df409(0x6d9)]()&&!_0x577b8e['message_normalized']?.['vote'])return this[_0x4df409(0x843)][_0x4df409(0x45c)](this[_0x4df409(0x5c4)]+'\x20('+this[_0x4df409(0x5ef)][_0x4df409(0x4d2)]+_0x4df409(0x51e)+new Date(_0x2028c4['leadInfo'][_0x4df409(0x7c6)])['toLocaleString']()+_0x4df409(0x884)),null;}this['logger'][_0x4df409(0x45c)](this[_0x4df409(0x5c4)]+'\x20('+this['instance'][_0x4df409(0x4d2)]+_0x4df409(0x335)),this[_0x4df409(0x2db)](_0x577b8e,_0x5c3b0b);}catch(_0x5158a8){let _0x5cd2a6=_0x4df409(0x3fc),_0x114c62=_0x5158a8 instanceof Error?_0x5158a8[_0x4df409(0x852)]:typeof _0x5158a8=='object'?JSON[_0x4df409(0x720)](_0x5158a8):_0x5158a8,_0x4a10ea=_0x5cd2a6+':\x20'+_0x114c62;return this[_0x4df409(0x843)][_0x4df409(0x4e4)](this[_0x4df409(0x5c4)]+'\x20('+this[_0x4df409(0x5ef)][_0x4df409(0x4d2)]+_0x4df409(0x878)+_0x4a10ea),null;}}async['upsertChats'](_0x2151c3,_0x3b3570){const _0x6d6362=a0_0x31011a;if(_0x3b3570[_0x6d6362(0x844)]){let _0x10c0a7=_0x2151c3[_0x6d6362(0x74c)](async _0x2eabf9=>{const _0x620d7=_0x6d6362;try{let _0x13566f={'_id':_0x2eabf9[_0x620d7(0x22c)],'owner':_0x2eabf9[_0x620d7(0x5d1)],'lastcache':0x0};if(Object[_0x620d7(0x31f)](_0x2eabf9)['forEach'](_0x213fa8=>{_0x2eabf9[_0x213fa8]!==null&&(_0x13566f[_0x213fa8]=_0x2eabf9[_0x213fa8]);}),_0x13566f[_0x620d7(0x795)]===null&&(_0x13566f[_0x620d7(0x795)]='Imagem\x20não\x20encontrada'),Object['keys'](_0x13566f)[_0x620d7(0x6f0)]>0x0)return await this[_0x620d7(0x3c6)]['chat'][_0x620d7(0x449)]({'where':{'_id':_0x2eabf9['_id']}},_0x13566f,this[_0x620d7(0x5ef)][_0x620d7(0x4d2)]);}catch(_0x65d587){let _0x21edc7=_0x620d7(0x303)+_0x2eabf9[_0x620d7(0x22c)],_0x556559=_0x65d587 instanceof Error?_0x65d587['message']:typeof _0x65d587==_0x620d7(0x545)?JSON[_0x620d7(0x720)](_0x65d587):_0x65d587,_0x44122a=_0x21edc7+':\x20'+_0x556559;return this[_0x620d7(0x843)][_0x620d7(0x4e4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x620d7(0x878)+_0x44122a),null;}}),_0x16825c=(await Promise[_0x6d6362(0x6da)](_0x10c0a7))[_0x6d6362(0x497)](_0x472e37=>_0x472e37!==null)['length'];this[_0x6d6362(0x843)][_0x6d6362(0x45c)](this[_0x6d6362(0x5c4)]+'\x20('+this[_0x6d6362(0x5ef)]['wuid']+_0x6d6362(0x878)+_0x16825c+'\x20chats\x20de\x20'+this[_0x6d6362(0x5ef)][_0x6d6362(0x4d2)]+_0x6d6362(0x7e9));}}async[a0_0x31011a(0x55a)](_0x393e62){const _0x55ddf7=a0_0x31011a;this[_0x55ddf7(0x843)][_0x55ddf7(0x45c)](this[_0x55ddf7(0x5c4)]+'\x20('+this[_0x55ddf7(0x5ef)]['wuid']+_0x55ddf7(0x2bf));let _0x5a29b3={'readMessages':[{'remoteJid':_0x393e62['chatLog']['lastReceivedMessage']['key']['remoteJid'],'fromMe':_0x393e62['chatLog'][_0x55ddf7(0x911)]['key']['fromMe'],'id':_0x393e62[_0x55ddf7(0x748)][_0x55ddf7(0x911)]['key']['id']}]};await this[_0x55ddf7(0x7c0)](_0x5a29b3);}async['StartBot'](_0x597162,_0x56578b){const _0x57fd0d=a0_0x31011a;try{let {key:_0x2796fa,message_normalized:_0x5d5558}=_0x597162,_0x3f66ac=_0x5d5558,_0x2102d7=_0x5d5558[_0x57fd0d(0x64c)]||_0x5d5558[_0x57fd0d(0x649)]||_0x5d5558[_0x57fd0d(0x860)]||_0x5d5558[_0x57fd0d(0x3a4)]||'',_0x508b4b=_0x2796fa['remoteJid'],_0x1efd69=null,_0x1cafbb=this[_0x57fd0d(0x74b)]['flows']['find'](_0x66b32b=>_0x66b32b[_0x57fd0d(0x1e6)]&&_0x2102d7[_0x57fd0d(0x397)](_0x66b32b['startCommand']));if(_0x1cafbb&&_0x56578b===_0x57fd0d(0x5c7)){let _0x179288=await this[_0x57fd0d(0x3c6)][_0x57fd0d(0x8c7)]['findOne']({'where':{'_id':_0x1cafbb[_0x57fd0d(0x22c)]}});if(this[_0x57fd0d(0x843)][_0x57fd0d(0x45c)](this[_0x57fd0d(0x5c4)]+'\x20('+this[_0x57fd0d(0x5ef)][_0x57fd0d(0x4d2)]+_0x57fd0d(0x513)),_0x179288&&_0x179288['whoCanUse']?.['includes'](this['instance'][_0x57fd0d(0x4d2)]))_0x1efd69=await this[_0x57fd0d(0x77f)](_0x179288,_0x2796fa,_0x3f66ac);else return this[_0x57fd0d(0x843)][_0x57fd0d(0x45c)](this['instanceName']+'\x20('+this[_0x57fd0d(0x5ef)][_0x57fd0d(0x4d2)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this['logger'][_0x57fd0d(0x45c)](this[_0x57fd0d(0x5c4)]+'\x20('+this['instance'][_0x57fd0d(0x4d2)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x1efd69=await this[_0x57fd0d(0x2b8)](_0x508b4b,_0x3f66ac),_0x1efd69){this[_0x57fd0d(0x843)][_0x57fd0d(0x45c)](this[_0x57fd0d(0x5c4)]+'\x20('+this['instance'][_0x57fd0d(0x4d2)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x2796fa[_0x57fd0d(0x663)]&&_0x1efd69[_0x57fd0d(0x6f2)]&&this[_0x57fd0d(0x55a)](_0x1efd69);let _0x22b572=await this['NextBlock'](_0x1efd69);_0x22b572&&await this['processblock'](_0x1efd69,_0x22b572);}}catch(_0x2c1c0f){this[_0x57fd0d(0x843)]['error'](this[_0x57fd0d(0x5c4)]+'\x20('+this['instance']['wuid']+_0x57fd0d(0x44b)+(_0x2c1c0f instanceof Error?_0x2c1c0f[_0x57fd0d(0x852)]:JSON[_0x57fd0d(0x720)](_0x2c1c0f,null,0x2)));}}[a0_0x31011a(0x2d6)](_0x37183d,_0x5a337f='',_0x321691={}){const _0x3a44ca=a0_0x31011a;return typeof _0x37183d!=_0x3a44ca(0x545)||_0x37183d===null?(_0x5a337f&&(_0x321691[_0x5a337f]=_0x37183d),_0x321691):(Object['entries'](_0x37183d)[_0x3a44ca(0x201)](([_0x587edd,_0x230001])=>{const _0x2a4ea4=_0x3a44ca;let _0x349eb5=_0x5a337f?_0x5a337f+'.'+_0x587edd:'_'+_0x587edd;Array['isArray'](_0x230001)?_0x230001['forEach']((_0x414e0f,_0x12b031)=>{const _0x5008a1=a0_0x2776;this[_0x5008a1(0x2d6)](_0x414e0f,_0x349eb5+'['+_0x12b031+']',_0x321691);}):typeof _0x230001==_0x2a4ea4(0x545)&&_0x230001!==null?this[_0x2a4ea4(0x2d6)](_0x230001,_0x349eb5,_0x321691):_0x321691[_0x349eb5]=String(_0x230001);}),_0x321691);}[a0_0x31011a(0x92a)](_0x1fce03){const _0x10d28c=a0_0x31011a;let _0x42933d={};for(let _0x3f3568 of _0x1fce03)typeof _0x3f3568[_0x10d28c(0x3a4)]=='string'&&typeof _0x3f3568[_0x10d28c(0x364)]==_0x10d28c(0x415)&&(_0x42933d[_0x3f3568[_0x10d28c(0x3a4)]]=_0x3f3568['value']);return _0x42933d;}async[a0_0x31011a(0x89d)](_0x4632dd){const _0x3194f4=a0_0x31011a;if(!this[_0x3194f4(0x74b)]?.['flowConfig'][_0x3194f4(0x2ac)]||_0x4632dd[_0x3194f4(0x893)]!==_0x3194f4(0x2cf)&&_0x4632dd[_0x3194f4(0x5ed)]==='')return null;let _0x27a8c4=_0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x709)]||_0x3194f4(0x262);typeof _0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x631)]>'u'&&(_0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x631)]=!0x0);let _0x2b4df7=_0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x631)];this[_0x3194f4(0x843)][_0x3194f4(0x45c)](this[_0x3194f4(0x5c4)]+'\x20('+this[_0x3194f4(0x5ef)][_0x3194f4(0x4d2)]+_0x3194f4(0x723)+_0x27a8c4+',\x20lastCondition:\x20'+_0x2b4df7);let _0x1aa0ce=_0x27a8c4==='start'?_0x4632dd[_0x3194f4(0x6d1)][_0x3194f4(0x90d)](_0x161ed4=>_0x161ed4[_0x3194f4(0x294)]===_0x3194f4(0x262)):_0x4632dd[_0x3194f4(0x6d1)][_0x3194f4(0x90d)](_0x342e33=>_0x342e33[_0x3194f4(0x22c)][_0x3194f4(0x45e)]()===_0x27a8c4[_0x3194f4(0x45e)]());if(!_0x1aa0ce)return this[_0x3194f4(0x843)]['error'](this['instanceName']+'\x20('+this[_0x3194f4(0x5ef)]['wuid']+_0x3194f4(0x69a)+_0x27a8c4),null;let _0x5801b6={'_pushName':_0x4632dd?.[_0x3194f4(0x748)]?.[_0x3194f4(0x911)]?.[_0x3194f4(0x727)]||'','_sender':this[_0x3194f4(0x5ef)][_0x3194f4(0x4d2)]||'',..._0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x89e)]},_0x3a8b50=null;if(_0x4632dd['waitingMenu_id']){let _0x26ef59=_0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x911)][_0x3194f4(0x860)],_0x1324f1=_0x4632dd[_0x3194f4(0x659)][_0x3194f4(0x90d)](_0xba561f=>_0xba561f[_0x3194f4(0x5fa)]===_0x26ef59);if(_0x1324f1){let _0x1c7549=_0x1324f1[_0x3194f4(0x276)];if(_0x3a8b50=_0x4632dd[_0x3194f4(0x6d1)][_0x3194f4(0x90d)](_0x55343e=>_0x55343e[_0x3194f4(0x33f)]===_0x1c7549&&_0x55343e[_0x3194f4(0x3fb)]===0x1),_0x1aa0ce[_0x3194f4(0x558)][_0x3194f4(0x326)]){let _0x106288={'id':_0x4632dd[_0x3194f4(0x5ed)],'remoteJid':_0x4632dd[_0x3194f4(0x651)],'fromMe':!0x0};await this[_0x3194f4(0x336)](_0x106288);}if(_0x1aa0ce[_0x3194f4(0x558)][_0x3194f4(0x326)]&&_0x1aa0ce[_0x3194f4(0x558)][_0x3194f4(0x3b6)]&&_0x1aa0ce[_0x3194f4(0x558)][_0x3194f4(0x7f3)]===_0x3194f4(0x832)){let _0x29c2bb={'number':_0x4632dd[_0x3194f4(0x651)],'options':{'delay':0x0},'textMessage':{'text':_0x3194f4(0x8d5)+_0x4632dd[_0x3194f4(0x3b4)]+_0x3194f4(0x2aa)+_0x26ef59}};await this[_0x3194f4(0x338)](_0x29c2bb);}_0x4632dd[_0x3194f4(0x893)]='open',_0x4632dd[_0x3194f4(0x5ed)]='',_0x4632dd[_0x3194f4(0x3b4)]='',_0x4632dd[_0x3194f4(0x659)]=[];}else{this['logger']['verbose'](this[_0x3194f4(0x5c4)]+'\x20('+this[_0x3194f4(0x5ef)]['wuid']+_0x3194f4(0x441));let _0x5d68af={'activatedCount':_0x4632dd[_0x3194f4(0x748)]['blockLogs'][_0x3194f4(0x497)](_0x485c73=>String(_0x485c73[_0x3194f4(0x351)])===String(_0x27a8c4))[_0x3194f4(0x6f0)],'moreLogs':[_0x3194f4(0x8d2)]};if(_0x1aa0ce[_0x3194f4(0x558)][_0x3194f4(0x339)]){let _0x2b982e={'number':_0x4632dd[_0x3194f4(0x651)],'options':{'delay':0x0},'textMessage':{'text':_0x1aa0ce[_0x3194f4(0x558)][_0x3194f4(0x339)]}};await this[_0x3194f4(0x338)](_0x2b982e);}if(_0x1aa0ce[_0x3194f4(0x8da)]!==void 0x0&&_0x5d68af[_0x3194f4(0x226)]>=_0x1aa0ce[_0x3194f4(0x8da)]){let _0x1b2f48=Date[_0x3194f4(0x6d9)](),_0x23dc3b=_0x1aa0ce[_0x3194f4(0x3db)]??0xa;isNaN(_0x23dc3b)&&(_0x23dc3b=0xa);let _0x2877ba=_0x1b2f48+_0x23dc3b*0x3c*0x3e8;_0x5d68af[_0x3194f4(0x4ed)]=_0x2877ba,_0x5d68af['moreLogs'][_0x3194f4(0x3ec)](_0x3194f4(0x3bd)),this[_0x3194f4(0x22e)](_0x4632dd,_0x2877ba),_0x4632dd[_0x3194f4(0x5ed)]='',_0x4632dd['waitingMenu_text']='',_0x4632dd['waitingMenu_replyOptions']=[];}return this[_0x3194f4(0x4d8)](_0x4632dd,_0x1aa0ce,_0x5d68af,!0x0),null;}}if(_0x2b4df7&&_0x1aa0ce['next_groupId']&&!_0x4632dd[_0x3194f4(0x5ed)]){let _0x1bd51c=_0x4632dd[_0x3194f4(0x6d1)][_0x3194f4(0x497)](_0x260f70=>_0x260f70['groupId'][_0x3194f4(0x45e)]()===_0x1aa0ce['next_groupId']['toString']())[_0x3194f4(0x357)]((_0x440c4c,_0x4a4f8b)=>_0x440c4c['order']-_0x4a4f8b[_0x3194f4(0x3fb)]);_0x1bd51c[_0x3194f4(0x6f0)]>0x0&&(_0x3a8b50=_0x1bd51c[0x0]);}if(!_0x3a8b50){let _0x38c641=_0x1aa0ce[_0x3194f4(0x33f)],_0x22bc1c=_0x4632dd[_0x3194f4(0x6d1)]['filter'](_0x483cb3=>_0x483cb3[_0x3194f4(0x33f)]===_0x38c641&&_0x483cb3[_0x3194f4(0x3fb)]>_0x1aa0ce[_0x3194f4(0x3fb)])[_0x3194f4(0x357)]((_0x1bf2ca,_0x297f44)=>_0x1bf2ca[_0x3194f4(0x3fb)]-_0x297f44['order']);_0x22bc1c[_0x3194f4(0x6f0)]>0x0&&(_0x3a8b50=_0x22bc1c[0x0]);}if(!_0x3a8b50)return _0x4632dd[_0x3194f4(0x893)]=_0x3194f4(0x38a),null;_0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x89e)]=_0x5801b6;let _0x36c98f=JSON[_0x3194f4(0x25b)](JSON[_0x3194f4(0x720)](_0x3a8b50));return this[_0x3194f4(0x7b9)](_0x36c98f,_0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x89e)]),_0x4632dd['chatLog'][_0x3194f4(0x709)]=_0x36c98f[_0x3194f4(0x22c)],_0x4632dd[_0x3194f4(0x748)][_0x3194f4(0x631)]=!0x0,_0x36c98f;}['replaceVariables'](_0x200b6d,_0xc52a7){return _0x200b6d['replace'](/\{\{([^}]+)\}\}/g,(_0x5d7b70,_0x30d154)=>_0xc52a7[_0x30d154]||'');}[a0_0x31011a(0x7b9)](_0x22f7dd,_0x58b1ad){const _0x383329=a0_0x31011a;for(let _0x4fb72c in _0x22f7dd)typeof _0x22f7dd[_0x4fb72c]=='string'?_0x22f7dd[_0x4fb72c]=this['replaceVariables'](_0x22f7dd[_0x4fb72c],_0x58b1ad):typeof _0x22f7dd[_0x4fb72c]==_0x383329(0x545)&&this[_0x383329(0x7b9)](_0x22f7dd[_0x4fb72c],_0x58b1ad);}async['goNextblock'](_0x470528,_0x15caaa){const _0x6698c6=a0_0x31011a;let _0x47f08a=_0x15caaa[_0x6698c6(0x22c)];if(_0x470528[_0x6698c6(0x748)]&&_0x470528[_0x6698c6(0x748)]['blockLogs']){let _0x2fb22a=_0x470528[_0x6698c6(0x748)][_0x6698c6(0x1ed)][_0x6698c6(0x497)](_0xe4661f=>String(_0xe4661f[_0x6698c6(0x351)])===String(_0x47f08a))[_0x6698c6(0x899)]();if(_0x2fb22a&&_0x2fb22a[_0x6698c6(0x4e4)]&&_0x15caaa[_0x6698c6(0x3ee)])return _0x470528[_0x6698c6(0x893)]=_0x6698c6(0x38a),await this['saveConversationToDatabase'](_0x470528),null;}if(_0x15caaa['type']===_0x6698c6(0x558)&&_0x15caaa[_0x6698c6(0x558)][_0x6698c6(0x812)]===_0x6698c6(0x51a)&&_0x470528[_0x6698c6(0x5ed)])return _0x470528[_0x6698c6(0x748)]['lastBlockId']=_0x47f08a,await this[_0x6698c6(0x74a)](_0x470528),null;let _0x38ea11=await this[_0x6698c6(0x89d)](_0x470528);if(_0x470528[_0x6698c6(0x748)]&&_0x470528[_0x6698c6(0x748)][_0x6698c6(0x1ed)]){let _0x4a3215=_0x470528[_0x6698c6(0x748)]['blockLogs'][_0x6698c6(0x497)](_0x555135=>String(_0x555135[_0x6698c6(0x351)])===String(_0x47f08a))[_0x6698c6(0x6f0)];if(_0x15caaa[_0x6698c6(0x8da)]!==void 0x0&&_0x4a3215>=_0x15caaa[_0x6698c6(0x8da)]){let _0x3aeb03=Date[_0x6698c6(0x6d9)](),_0xc47c84=_0x15caaa[_0x6698c6(0x3db)]??0xa;isNaN(_0xc47c84)&&(_0xc47c84=0xa);let _0x47b32e=_0x3aeb03+_0xc47c84*0x3c*0x3e8,_0x1c8a0e={'newStoppedUntil':_0x47b32e};return this[_0x6698c6(0x22e)](_0x470528,_0x47b32e),this[_0x6698c6(0x4d8)](_0x470528,_0x15caaa,_0x1c8a0e,!0x0),null;}}_0x38ea11&&_0x38ea11[_0x6698c6(0x294)]!==_0x6698c6(0x63b)&&await this[_0x6698c6(0x8ec)](_0x470528,_0x38ea11),_0x38ea11||await this[_0x6698c6(0x74a)](_0x470528),_0x38ea11&&_0x38ea11[_0x6698c6(0x294)]===_0x6698c6(0x63b)&&(_0x470528[_0x6698c6(0x748)]['lastBlockId']=_0x47f08a,await this['saveConversationToDatabase'](_0x470528));}async[a0_0x31011a(0x8ec)](_0x3e31a7,_0x2c0e0e){const _0x4ed2bd=a0_0x31011a;try{let _0x399a65=_0x2c0e0e['type'];this['logger'][_0x4ed2bd(0x45c)](this[_0x4ed2bd(0x5c4)]+'\x20('+this[_0x4ed2bd(0x5ef)][_0x4ed2bd(0x4d2)]+_0x4ed2bd(0x51c)+_0x399a65);let _0x4c7cdf={'uazapi':()=>this[_0x4ed2bd(0x49a)](_0x3e31a7,_0x2c0e0e),'save':()=>this[_0x4ed2bd(0x5c9)](_0x3e31a7,_0x2c0e0e),'stop':()=>this[_0x4ed2bd(0x76b)](_0x3e31a7,_0x2c0e0e),'condition':()=>this[_0x4ed2bd(0x5f2)](_0x3e31a7,_0x2c0e0e),'varedit':()=>this[_0x4ed2bd(0x4c8)](_0x3e31a7,_0x2c0e0e),'apirequest':()=>this[_0x4ed2bd(0x7ff)](_0x3e31a7,_0x2c0e0e),'goToFlow':()=>this[_0x4ed2bd(0x274)](_0x3e31a7,_0x2c0e0e),'scheduleFlow':()=>this['processScheduleFlow'](_0x3e31a7,_0x2c0e0e),'awaitSeconds':()=>this[_0x4ed2bd(0x673)](_0x3e31a7,_0x2c0e0e),'clearVariables':()=>this[_0x4ed2bd(0x554)](_0x3e31a7,_0x2c0e0e)}[_0x399a65];_0x4c7cdf&&await _0x4c7cdf();}catch(_0x423829){this[_0x4ed2bd(0x843)][_0x4ed2bd(0x4e4)](this[_0x4ed2bd(0x5c4)]+'\x20('+this[_0x4ed2bd(0x5ef)][_0x4ed2bd(0x4d2)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x423829 instanceof Error?_0x423829['message']:JSON[_0x4ed2bd(0x720)](_0x423829,null,0x2)));}}async[a0_0x31011a(0x673)](_0x5718e6,_0x28d351){const _0x19dcd1=a0_0x31011a;if(this[_0x19dcd1(0x843)][_0x19dcd1(0x45c)](this['instanceName']+'\x20('+this[_0x19dcd1(0x5ef)][_0x19dcd1(0x4d2)]+_0x19dcd1(0x3e4)),!_0x5718e6||!_0x28d351)return this[_0x19dcd1(0x843)]['error'](this['instanceName']+'\x20('+this[_0x19dcd1(0x5ef)][_0x19dcd1(0x4d2)]+_0x19dcd1(0x841)),null;let _0x2ab3fc=+_0x28d351[_0x19dcd1(0x363)];isNaN(_0x2ab3fc)&&(_0x2ab3fc=0x0),_0x2ab3fc=Math[_0x19dcd1(0x55d)](_0x2ab3fc,0x3c),await(0x0,w[_0x19dcd1(0x430)])(_0x2ab3fc*0x3e8);let _0x371b1a={'moreLogs':[_0x19dcd1(0x7ab)+_0x2ab3fc+_0x19dcd1(0x5cf)]};return await this[_0x19dcd1(0x4d8)](_0x5718e6,_0x28d351,_0x371b1a),_0x2ab3fc;}async['processclearVariables'](_0x14ae25,_0x361395){const _0x416627=a0_0x31011a;if(this[_0x416627(0x843)][_0x416627(0x45c)](this[_0x416627(0x5c4)]+'\x20('+this[_0x416627(0x5ef)][_0x416627(0x4d2)]+_0x416627(0x320)),!_0x14ae25||!_0x361395)return this[_0x416627(0x843)]['error'](this[_0x416627(0x5c4)]+'\x20('+this['instance']['wuid']+_0x416627(0x841)),null;let _0x222200=[];if(_0x361395[_0x416627(0x50a)]['trim']()===_0x416627(0x937)){let _0x134209=[_0x416627(0x284),'_pushName',_0x416627(0x25a),'_activedCount',_0x416627(0x486),_0x416627(0x22c),_0x416627(0x7c1)];_0x222200=Object[_0x416627(0x31f)](_0x14ae25[_0x416627(0x748)][_0x416627(0x89e)])[_0x416627(0x497)](_0x1827e0=>_0x1827e0[_0x416627(0x653)]('_')&&!_0x134209[_0x416627(0x397)](_0x1827e0));}else _0x222200=_0x361395[_0x416627(0x50a)]['split']('|')[_0x416627(0x74c)](_0x486feb=>(_0x486feb=_0x486feb[_0x416627(0x929)](/[{}]/g,'')[_0x416627(0x44d)](),_0x486feb[_0x416627(0x653)]('_')?_0x486feb:'_'+_0x486feb));let _0x40f31d=[];_0x222200[_0x416627(0x201)](_0x283383=>{const _0xea9b40=_0x416627;_0x283383 in _0x14ae25[_0xea9b40(0x748)][_0xea9b40(0x89e)]&&(delete _0x14ae25[_0xea9b40(0x748)]['realVariables'][_0x283383],_0x40f31d[_0xea9b40(0x3ec)](_0x283383));}),_0x40f31d[_0x416627(0x6f0)]>0x0?this[_0x416627(0x843)][_0x416627(0x45c)](this[_0x416627(0x5c4)]+'\x20('+this[_0x416627(0x5ef)][_0x416627(0x4d2)]+_0x416627(0x433)+_0x40f31d['join'](',\x20')):this[_0x416627(0x843)][_0x416627(0x45c)](this[_0x416627(0x5c4)]+'\x20('+this['instance'][_0x416627(0x4d2)]+_0x416627(0x310));let _0x376222={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x40f31d[_0x416627(0x57d)](',\x20')]};return await this[_0x416627(0x4d8)](_0x14ae25,_0x361395,_0x376222),null;}async['processScheduleFlow'](_0x48f5cf,_0x48d67f){const _0x83d933=a0_0x31011a;if(this[_0x83d933(0x843)][_0x83d933(0x45c)](this['instanceName']+'\x20('+this[_0x83d933(0x5ef)][_0x83d933(0x4d2)]+_0x83d933(0x88d)),!_0x48f5cf||!_0x48d67f)return this[_0x83d933(0x843)]['error'](this['instanceName']+'\x20('+this[_0x83d933(0x5ef)]['wuid']+_0x83d933(0x841)),null;let _0x8e3a2a=_0x48f5cf[_0x83d933(0x651)];_0x48d67f[_0x83d933(0x63a)][_0x83d933(0x651)]&&_0x48d67f[_0x83d933(0x63a)][_0x83d933(0x651)]['trim']()!==''&&(_0x8e3a2a=_0x48d67f[_0x83d933(0x558)][_0x83d933(0x651)][_0x83d933(0x44d)]());let _0x1c4067=_0x48d67f[_0x83d933(0x63a)][_0x83d933(0x675)]*0xea60,_0x32ecf4=Date[_0x83d933(0x6d9)]()+_0x1c4067,_0x36ba1a={'status':_0x83d933(0x55b),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x48f5cf[_0x83d933(0x3a4)],'remoteJids':[_0x8e3a2a],'when':_0x32ecf4,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x83d933(0x8c7),'flowName':_0x48d67f[_0x83d933(0x63a)][_0x83d933(0x39a)]};this['editScheduleMessage'](_0x36ba1a);let _0x18cf8b=await this['NextBlock'](_0x48f5cf);_0x18cf8b&&await this['processblock'](_0x48f5cf,_0x18cf8b);}async['processgoToFlow'](_0x5cd786,_0x41bb1a){const _0x1a5e39=a0_0x31011a;if(this[_0x1a5e39(0x843)][_0x1a5e39(0x45c)](this['instanceName']+'\x20('+this[_0x1a5e39(0x5ef)][_0x1a5e39(0x4d2)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x5cd786||!_0x41bb1a)return this[_0x1a5e39(0x843)][_0x1a5e39(0x4e4)](this[_0x1a5e39(0x5c4)]+'\x20('+this['instance'][_0x1a5e39(0x4d2)]+_0x1a5e39(0x841)),null;await this[_0x1a5e39(0x4d8)](_0x5cd786,_0x41bb1a,{},!0x0,!0x0);let _0x1ecfff=_0x41bb1a['goToFlow'];_0x5cd786=await this[_0x1a5e39(0x2dc)](_0x1ecfff,_0x5cd786[_0x1a5e39(0x651)],_0x5cd786[_0x1a5e39(0x748)]['realVariables']);let _0x3dcdfb=await this[_0x1a5e39(0x89d)](_0x5cd786);_0x3dcdfb&&await this[_0x1a5e39(0x8ec)](_0x5cd786,_0x3dcdfb);}async[a0_0x31011a(0x2dc)](_0x5f2e75,_0x46b344,_0x20e1e6){const _0x27b31a=a0_0x31011a;this['logger']['verbose'](this[_0x27b31a(0x5c4)]+'\x20('+this[_0x27b31a(0x5ef)][_0x27b31a(0x4d2)]+_0x27b31a(0x8bf));try{let _0x58dbe7=this[_0x27b31a(0x74b)][_0x27b31a(0x74d)][_0x27b31a(0x90d)](_0x28a166=>_0x28a166[_0x27b31a(0x22c)]===_0x5f2e75);_0x58dbe7||this[_0x27b31a(0x843)][_0x27b31a(0x4e4)](this['instanceName']+'\x20('+this['instance'][_0x27b31a(0x4d2)]+_0x27b31a(0x828)+_0x5f2e75+_0x27b31a(0x255));let _0x123530=await this[_0x27b31a(0x3c6)][_0x27b31a(0x8c7)][_0x27b31a(0x917)]({'where':{'_id':_0x58dbe7[_0x27b31a(0x22c)]}});if(!_0x123530||!_0x123530[_0x27b31a(0x691)]?.[_0x27b31a(0x397)](this['instance'][_0x27b31a(0x4d2)]))throw this['logger'][_0x27b31a(0x4e4)](this['instanceName']+'\x20('+this[_0x27b31a(0x5ef)][_0x27b31a(0x4d2)]+'):\x20Flow\x20\x27'+_0x5f2e75+_0x27b31a(0x52f)),new m('Flow\x20\x27'+_0x5f2e75+_0x27b31a(0x52f));let _0x15ff90=require(_0x27b31a(0x3f5))[_0x27b31a(0x853)],_0x10d68d=Date[_0x27b31a(0x6d9)](),_0x46cc49='start',_0x317983={},_0x39a3f7={},_0x2dbe88=this[_0x27b31a(0x74b)][_0x27b31a(0x74d)]['find'](_0x5c6cd4=>_0x5c6cd4[_0x27b31a(0x22c)]===_0x123530[_0x27b31a(0x22c)]?.['toString']()),_0x3533a2=_0x2dbe88?.[_0x27b31a(0x238)]??_0x123530[_0x27b31a(0x238)]??0x0,_0x55a659=_0x2dbe88?.[_0x27b31a(0x6f2)]??_0x123530['readMessages']??!0x1,_0x58558c={'flowId':_0x58dbe7[_0x27b31a(0x22c)],'readMessages':_0x58dbe7[_0x27b31a(0x6f2)],..._0x123530,'chatLog':null},_0x325745={'lastReceivedMessage':_0x317983,'lastSendMessage':_0x39a3f7,'lastBlockId':_0x46cc49,'lastCondition':!0x0,'realVariables':_0x20e1e6};_0x58558c[_0x27b31a(0x748)]=_0x325745,_0x58558c[_0x27b31a(0x748)]['realVariables']={..._0x20e1e6},delete _0x58558c['_id'],_0x58558c[_0x27b31a(0x22c)]=new _0x15ff90(),_0x58558c[_0x27b31a(0x353)]=_0x10d68d,_0x58558c[_0x27b31a(0x893)]='open',_0x58558c[_0x27b31a(0x651)]=_0x46b344,_0x58558c[_0x27b31a(0x238)]=_0x3533a2,_0x58558c[_0x27b31a(0x6f2)]=_0x55a659;let _0x1dd97a=await this[_0x27b31a(0x3c6)][_0x27b31a(0x7e7)]['updateOne'](_0x58558c[_0x27b31a(0x22c)],_0x58558c,this[_0x27b31a(0x5ef)]['wuid']);return this[_0x27b31a(0x843)][_0x27b31a(0x45c)](this[_0x27b31a(0x5c4)]+'\x20('+this[_0x27b31a(0x5ef)][_0x27b31a(0x4d2)]+_0x27b31a(0x7c7)),_0x1dd97a?_0x58558c:null;}catch(_0x233588){let _0x7b224c=_0x27b31a(0x32c),_0x23f508=_0x233588 instanceof Error?_0x233588[_0x27b31a(0x852)]:typeof _0x233588==_0x27b31a(0x545)?JSON['stringify'](_0x233588):_0x233588,_0x2e4ca2=_0x7b224c+':\x20'+_0x23f508;throw this[_0x27b31a(0x843)][_0x27b31a(0x4e4)](this[_0x27b31a(0x5c4)]+'\x20('+this['instance'][_0x27b31a(0x4d2)]+_0x27b31a(0x878)+_0x2e4ca2),new m(_0x2e4ca2);}}async[a0_0x31011a(0x7ff)](_0x4772fe,_0x224d29){const _0xf0d783=a0_0x31011a;let _0x48ba5e,_0xb16d01;try{let _0x8875b0=_0x224d29[_0xf0d783(0x6e4)];if(!_0x8875b0||!_0x8875b0[_0xf0d783(0x5a6)]||!_0x8875b0[_0xf0d783(0x5c8)])throw new Error(_0xf0d783(0x6ff));let _0x19f63a;([_0xf0d783(0x377),_0xf0d783(0x2e7),_0xf0d783(0x658)][_0xf0d783(0x641)](_0x22e183=>_0x8875b0[_0xf0d783(0x5a6)][_0xf0d783(0x397)](_0x22e183))||_0x8875b0[_0xf0d783(0x2a8)])&&(_0x19f63a=_0xf0d783(0x5b1));let _0x58c61c='\u205f',_0x486c04;try{_0x486c04=JSON[_0xf0d783(0x25b)](_0x8875b0['bodyString']['replace'](new RegExp(_0x58c61c,'g'),''));}catch(_0x4eaada){throw _0x4eaada;}let _0x17c098={'method':_0x8875b0['method'],'url':_0x8875b0[_0xf0d783(0x5a6)],'headers':_0x8875b0[_0xf0d783(0x703)]||{},..._0x8875b0[_0xf0d783(0x5c8)]['toUpperCase']()!==_0xf0d783(0x55c)&&_0x8875b0[_0xf0d783(0x7d1)]?{'data':JSON[_0xf0d783(0x25b)](_0x8875b0['bodyString'][_0xf0d783(0x929)](new RegExp(_0x58c61c,'g'),''))}:{},..._0x19f63a&&{'responseType':_0x19f63a}},_0x2a5fe9=await(0x0,Q[_0xf0d783(0x20b)])(_0x17c098),_0x4c6a94=_0x2a5fe9[_0xf0d783(0x5f0)][_0xf0d783(0x7be)];if(_0x4c6a94&&_0x4c6a94['includes'](_0xf0d783(0x94b))||typeof _0x2a5fe9[_0xf0d783(0x3fa)]==_0xf0d783(0x415)){if(typeof _0x2a5fe9[_0xf0d783(0x3fa)]==_0xf0d783(0x415)){let _0x454832=_0x2a5fe9[_0xf0d783(0x3fa)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x48ba5e=JSON[_0xf0d783(0x25b)](_0x454832);}catch(_0x3bc17d){this[_0xf0d783(0x843)][_0xf0d783(0x4e4)](_0xf0d783(0x2a0)+_0x3bc17d['message']),_0x48ba5e={'_apiResponse':_0x2a5fe9[_0xf0d783(0x3fa)]};}}else _0x48ba5e=_0x2a5fe9[_0xf0d783(0x3fa)];let _0x4467be=_0x4772fe[_0xf0d783(0x748)]['realVariables'],_0x5d8c12=this[_0xf0d783(0x2d6)](_0x48ba5e);return Object['assign'](_0x4467be,_0x5d8c12),_0x4772fe['chatLog']['realVariables']=_0x4467be,_0xb16d01={'error':!0x1,'apiResponse':_0x48ba5e},this[_0xf0d783(0x4d8)](_0x4772fe,_0x224d29,_0xb16d01),_0x48ba5e;}if(_0x4c6a94&&(_0x4c6a94[_0xf0d783(0x397)](_0xf0d783(0x85b))||_0x4c6a94[_0xf0d783(0x397)](_0xf0d783(0x3d8))||_0x4c6a94[_0xf0d783(0x397)]('audio')||_0x4c6a94[_0xf0d783(0x397)](_0xf0d783(0x635)))){this[_0xf0d783(0x843)][_0xf0d783(0x45c)](this[_0xf0d783(0x5c4)]+'\x20('+this[_0xf0d783(0x5ef)][_0xf0d783(0x4d2)]+_0xf0d783(0x6c8)+_0x4c6a94);let _0x5d0b1f=(0x0,Y['v4'])(),_0xd0d258='',_0x365489={'image/jpeg':_0xf0d783(0x586),'image/png':'.png','image/gif':_0xf0d783(0x462),'image/webp':_0xf0d783(0x870),'image/svg+xml':_0xf0d783(0x4a2),'audio/mpeg':_0xf0d783(0x7d5),'audio/ogg':_0xf0d783(0x787),'audio/wav':_0xf0d783(0x1e1),'video/mp4':_0xf0d783(0x6c0),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0xf0d783(0x37f),'application/pdf':'.pdf','application/msword':_0xf0d783(0x46b),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0xf0d783(0x2f4),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0xf0d783(0x88e),'application/vnd.ms-powerpoint':_0xf0d783(0x25f),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x365489[_0x4c6a94]?(_0xd0d258=_0x365489[_0x4c6a94],this[_0xf0d783(0x843)]['verbose'](this[_0xf0d783(0x5c4)]+'\x20('+this[_0xf0d783(0x5ef)][_0xf0d783(0x4d2)]+_0xf0d783(0x270)+_0xd0d258)):(_0xd0d258=_0xf0d783(0x2ad),this[_0xf0d783(0x843)]['verbose'](this['instanceName']+'\x20('+this[_0xf0d783(0x5ef)][_0xf0d783(0x4d2)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0xd0d258)),_0x5d0b1f+=_0xd0d258,this[_0xf0d783(0x843)]['verbose'](this[_0xf0d783(0x5c4)]+'\x20('+this[_0xf0d783(0x5ef)][_0xf0d783(0x4d2)]+_0xf0d783(0x6e8)+_0x5d0b1f);let _0x135258=this[_0xf0d783(0x58e)][_0xf0d783(0x67e)]('SERVER')[_0xf0d783(0x3a2)];if(!_0x135258){let _0x5697d3=this[_0xf0d783(0x58e)][_0xf0d783(0x67e)](_0xf0d783(0x93d));_0x135258=_0xf0d783(0x561)+(_0x5697d3&&_0x5697d3['FULLCHAIN']['split']('/')[0x4]);}let _0x3f16b9=Buffer[_0xf0d783(0x370)](_0x2a5fe9[_0xf0d783(0x3fa)]);await this['saveMediaToFile'](_0x3f16b9,_0x5d0b1f);let _0x282e50='/media/'+_0x5d0b1f;_0x282e50=''+_0x135258+_0x282e50,_0x48ba5e={'fileUrl':_0x282e50},_0x4772fe[_0xf0d783(0x748)][_0xf0d783(0x89e)][_0xf0d783(0x305)]=_0x282e50;let _0x2d83b6=_0x4772fe['chatLog'][_0xf0d783(0x89e)],_0x5c5676=this[_0xf0d783(0x2d6)](_0x48ba5e);return Object[_0xf0d783(0x34a)](_0x2d83b6,_0x5c5676),_0x4772fe[_0xf0d783(0x748)][_0xf0d783(0x89e)]=_0x2d83b6,_0xb16d01={'error':!0x1,'apiResponse':{'fileUrl':_0x282e50}},this[_0xf0d783(0x4d8)](_0x4772fe,_0x224d29,_0xb16d01),_0x48ba5e;}}catch(_0x344cf6){this[_0xf0d783(0x843)][_0xf0d783(0x4e4)](_0xf0d783(0x7bd)+_0x344cf6['message']),_0x344cf6[_0xf0d783(0x3c4)]&&(_0x48ba5e=_0x344cf6[_0xf0d783(0x3c4)][_0xf0d783(0x3fa)]);let _0x118bd5=_0x4772fe[_0xf0d783(0x748)][_0xf0d783(0x89e)],_0x42da95=this[_0xf0d783(0x2d6)](_0x48ba5e);return Object[_0xf0d783(0x34a)](_0x118bd5,_0x42da95),_0x4772fe[_0xf0d783(0x748)][_0xf0d783(0x89e)]=_0x118bd5,_0xb16d01={'error':!0x0,'errorLog':_0x344cf6[_0xf0d783(0x45e)](),'apiResponse':_0x48ba5e},this[_0xf0d783(0x4d8)](_0x4772fe,_0x224d29,_0xb16d01),{'success':!0x1};}}[a0_0x31011a(0x5ba)](_0x55a0f8,_0x23d1c9){const _0x38aad9=a0_0x31011a;let _0x5c0d07=_0x29bc6b=>{const _0x10d4e9=a0_0x2776;let _0x34054c=_0x29bc6b[_0x10d4e9(0x929)](/[^0-9.,-]/g,'')[_0x10d4e9(0x929)](',','.'),_0x1bfd36=parseFloat(_0x34054c);return isNaN(_0x1bfd36)?null:_0x1bfd36;},_0xcec6f9=_0x23d1c9[_0x38aad9(0x648)],_0x184f40=_0x23d1c9[_0x38aad9(0x5f5)];typeof _0xcec6f9==_0x38aad9(0x415)&&(_0xcec6f9=this['replaceVariables'](_0xcec6f9,_0x55a0f8['chatLog'][_0x38aad9(0x89e)])??''),typeof _0x184f40==_0x38aad9(0x415)&&(_0x184f40=this[_0x38aad9(0x7cc)](_0x184f40,_0x55a0f8[_0x38aad9(0x748)][_0x38aad9(0x89e)])??'');let _0x81a3f=null;if(!_0x23d1c9[_0x38aad9(0x72e)])return null;switch(this[_0x38aad9(0x843)][_0x38aad9(0x45c)](this[_0x38aad9(0x5c4)]+'\x20('+this[_0x38aad9(0x5ef)][_0x38aad9(0x4d2)]+_0x38aad9(0x36e)+_0xcec6f9),this['logger'][_0x38aad9(0x45c)](this[_0x38aad9(0x5c4)]+'\x20('+this[_0x38aad9(0x5ef)]['wuid']+_0x38aad9(0x47c)+_0x184f40),_0x23d1c9['editOperator']){case'+':case'-':case'*':case'/':let _0x33f113=_0x5c0d07(_0xcec6f9||'0'),_0x2d80fd=_0x5c0d07(_0x184f40||'0');if(_0x33f113===null)return null;switch(_0x23d1c9[_0x38aad9(0x72e)]){case'+':_0x81a3f=_0x33f113+(_0x2d80fd??0x0);break;case'-':_0x81a3f=_0x33f113-(_0x2d80fd??0x0);break;case'*':_0x81a3f=_0x33f113*(_0x2d80fd??0x1);break;case'/':_0x2d80fd!==0x0&&(_0x81a3f=_0x33f113/(_0x2d80fd??0x1));break;}break;case _0x38aad9(0x41b):case _0x38aad9(0x31a):let _0x16969f=_0x184f40,_0x2dde1e=_0x23d1c9[_0x38aad9(0x2bd)];if(typeof _0x2dde1e==_0x38aad9(0x415)&&(_0x2dde1e=this[_0x38aad9(0x7cc)](_0x2dde1e,_0x55a0f8[_0x38aad9(0x748)][_0x38aad9(0x89e)])??''),_0x16969f&&_0x2dde1e!==void 0x0){let _0x1c5056=_0x23d1c9['editOperator']===_0x38aad9(0x41b)?new RegExp(_0x16969f[_0x38aad9(0x929)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x16969f,'g');_0x81a3f=_0xcec6f9[_0x38aad9(0x929)](_0x1c5056,_0x2dde1e);}else console[_0x38aad9(0x273)](_0x38aad9(0x230));break;case _0x38aad9(0x5f7):_0x81a3f=_0x184f40;break;case'extractRegex':let _0x90342e=_0xcec6f9[_0x38aad9(0x26b)](new RegExp(_0x184f40||''));_0x81a3f=_0x90342e?_0x90342e[0x0]:'';break;case'truncatedto':_0x81a3f=_0xcec6f9[_0x38aad9(0x22a)](0x0,parseInt(_0x184f40||'0'));break;case _0x38aad9(0x465):let _0x154a09=parseInt(_0x184f40||'0');_0x81a3f=_0xcec6f9[_0x38aad9(0x22a)](_0xcec6f9[_0x38aad9(0x6f0)]-_0x154a09);break;case'toBrazilianNumberFormat':let _0x3665ef=_0x5c0d07(_0xcec6f9),_0xd43448=parseInt(_0x184f40||'0');_0xd43448=Math[_0x38aad9(0x48c)](_0xd43448),_0x3665ef!==null?_0x81a3f=_0x3665ef['toLocaleString'](_0x38aad9(0x816),{'minimumFractionDigits':_0xd43448,'maximumFractionDigits':_0xd43448}):(console[_0x38aad9(0x273)](_0x38aad9(0x37a)+_0xcec6f9),_0x81a3f=null);break;case _0x38aad9(0x505):let _0xd723f6=_0x5c0d07(_0xcec6f9);_0xd723f6!==null?_0x81a3f=_0xd723f6[_0x38aad9(0x32b)](_0x38aad9(0x816),{'style':'currency','currency':_0x38aad9(0x914)}):(console[_0x38aad9(0x273)](_0x38aad9(0x6d7)+_0xcec6f9),_0x81a3f=null);break;case _0x38aad9(0x935):_0x81a3f=_0xcec6f9['toUpperCase']();break;case _0x38aad9(0x8bb):_0x81a3f=_0xcec6f9[_0x38aad9(0x240)]();break;case'capitalizedWords':_0x81a3f=_0xcec6f9['split']('\x20')[_0x38aad9(0x74c)](_0x49378e=>_0x49378e['charAt'](0x0)['toUpperCase']()+_0x49378e[_0x38aad9(0x22a)](0x1)[_0x38aad9(0x240)]())[_0x38aad9(0x57d)]('\x20');break;case _0x38aad9(0x3a3):_0x81a3f=_0xcec6f9['trim']();break;default:_0x81a3f=_0xcec6f9;}return _0x81a3f!==null?_0x81a3f[_0x38aad9(0x45e)]():null;}async[a0_0x31011a(0x4c8)](_0x3ddee6,_0x517270){const _0x2fe992=a0_0x31011a;try{let _0x2fb7fc=_0x3ddee6[_0x2fe992(0x4bb)]?.['filter'](_0x115b83=>_0x115b83[_0x2fe992(0x351)]===_0x517270[_0x2fe992(0x22c)]?.[_0x2fe992(0x45e)]())||[],_0x22a6df=_0x517270['saveVariable'],_0x2e34c3=null,_0x13445e=[],_0x380613=_0x3ddee6[_0x2fe992(0x748)][_0x2fe992(0x89e)][_0x22a6df];_0x13445e[_0x2fe992(0x3ec)](_0x2fe992(0x548)+_0x380613+'\x22');for(let _0x2c05eb of _0x2fb7fc){_0x2c05eb[_0x2fe992(0x648)]=_0x380613,_0x2e34c3=_0x2c05eb[_0x2fe992(0x648)];let _0x49d7dc;try{_0x49d7dc=this[_0x2fe992(0x5ba)](_0x3ddee6,_0x2c05eb);}catch(_0x167957){this['logger'][_0x2fe992(0x4e4)](_0x2fe992(0x2f5)+_0x167957[_0x2fe992(0x852)]);continue;}if(_0x49d7dc!==null){let _0x22814b=_0x2fe992(0x903)+_0x2c05eb[_0x2fe992(0x72e)]+'\x22',_0x5297d4=[_0x2fe992(0x505),_0x2fe992(0x935),_0x2fe992(0x8bb),_0x2fe992(0x596),_0x2fe992(0x3a3)];_0x2c05eb[_0x2fe992(0x72e)]===_0x2fe992(0x41b)||_0x2c05eb[_0x2fe992(0x72e)]===_0x2fe992(0x31a)?_0x22814b+=_0x2fe992(0x87a)+_0x2c05eb[_0x2fe992(0x5f5)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x2c05eb['replaceValue']+'\x22':!_0x5297d4[_0x2fe992(0x397)](_0x2c05eb[_0x2fe992(0x72e)])&&_0x2c05eb['secondValue']!==null&&_0x2c05eb[_0x2fe992(0x5f5)]!==void 0x0&&(_0x22814b+=_0x2fe992(0x342)+_0x2c05eb['secondValue']+'\x22'),_0x22814b+=_0x2fe992(0x4b0)+_0x49d7dc+'.',_0x13445e[_0x2fe992(0x3ec)](_0x22814b);}_0x49d7dc!==null&&(_0x380613=_0x49d7dc);}if(_0x3ddee6['chatLog'][_0x2fe992(0x89e)]&&_0x517270[_0x2fe992(0x53d)]){_0x3ddee6[_0x2fe992(0x748)][_0x2fe992(0x89e)][_0x517270[_0x2fe992(0x53d)]]=_0x380613;let _0x20e9b8={'variable':_0x517270[_0x2fe992(0x53d)],'oldValue':_0x2e34c3,'newValue':_0x380613,'moreLogs':_0x13445e};try{this['updateConversation'](_0x3ddee6,_0x517270,_0x20e9b8);}catch(_0x263b9b){this['logger']['error'](_0x2fe992(0x6ca)+_0x263b9b[_0x2fe992(0x852)]);}}return _0x22a6df;}catch(_0x388478){return this['logger'][_0x2fe992(0x4e4)](_0x2fe992(0x8ee)+_0x388478[_0x2fe992(0x852)]),null;}}async['processConditions'](_0x2b2c77,_0xbbd470){const _0x296457=a0_0x31011a;try{let _0x11fe17=[],_0x2870f7=_0x2b2c77[_0x296457(0x595)][_0x296457(0x497)](_0x195e69=>_0x195e69[_0x296457(0x351)]===_0xbbd470['_id'][_0x296457(0x45e)]()),_0x35f4d=null,_0x3da2b3=!0x1;for(let _0x347b73 of _0x2870f7){let _0x243b01=this[_0x296457(0x647)](_0x2b2c77,_0x347b73);_0x11fe17['push'](_0x296457(0x45a)+_0x347b73['firstValue']+_0x296457(0x483)+_0x347b73[_0x296457(0x555)]+_0x296457(0x48e)+_0x347b73[_0x296457(0x5f5)]+',\x20Resultado:\x20'+_0x243b01),_0x35f4d===null?_0x35f4d=_0x243b01:_0x347b73[_0x296457(0x943)]===_0x296457(0x5ff)?(_0x35f4d=_0x35f4d&&_0x243b01,_0x243b01||(_0x3da2b3=!0x0)):_0x347b73[_0x296457(0x943)]==='or'&&(_0x3da2b3||(_0x35f4d=_0x35f4d||_0x243b01));}_0x35f4d===null&&(_0x35f4d=!0x0);let _0x314b57={'moreLogs':_0x11fe17};_0x2b2c77[_0x296457(0x748)]['lastCondition']=_0x35f4d,await this[_0x296457(0x4d8)](_0x2b2c77,_0xbbd470,_0x314b57);}catch(_0x4a70b3){this[_0x296457(0x843)][_0x296457(0x4e4)](this[_0x296457(0x5c4)]+'\x20('+this[_0x296457(0x5ef)][_0x296457(0x4d2)]+_0x296457(0x21d)+(_0x4a70b3 instanceof Error?_0x4a70b3['message']:JSON[_0x296457(0x720)](_0x4a70b3,null,0x2)));}}[a0_0x31011a(0x647)](_0x1ecc61,_0x225179){const _0x3df85c=a0_0x31011a;let _0x321ae0=_0x225179[_0x3df85c(0x648)],_0x3e69f0=_0x225179['secondValue'];typeof _0x321ae0==_0x3df85c(0x415)&&(_0x321ae0=this[_0x3df85c(0x7cc)](_0x321ae0,_0x1ecc61['chatLog'][_0x3df85c(0x89e)])??''),typeof _0x3e69f0==_0x3df85c(0x415)&&(_0x3e69f0=this[_0x3df85c(0x7cc)](_0x3e69f0,_0x1ecc61['chatLog']['realVariables'])??'');try{switch(_0x225179[_0x3df85c(0x555)]){case _0x3df85c(0x877):return _0x321ae0===_0x3e69f0;case _0x3df85c(0x531):return _0x321ae0!==_0x3e69f0;case _0x3df85c(0x38e):return this[_0x3df85c(0x38e)](_0x321ae0,_0x3e69f0);case _0x3df85c(0x6fa):return!this[_0x3df85c(0x38e)](_0x321ae0,_0x3e69f0);case _0x3df85c(0x8e3):return parseFloat(_0x321ae0)>parseFloat(_0x3e69f0);case _0x3df85c(0x346):return parseFloat(_0x321ae0)<parseFloat(_0x3e69f0);case'notEmpty':return _0x321ae0!=='';case _0x3df85c(0x576):return _0x321ae0==='';case _0x3df85c(0x67d):return new RegExp(_0x3e69f0)[_0x3df85c(0x47d)](_0x321ae0);case'notMatchRegex':return!new RegExp(_0x3e69f0)['test'](_0x321ae0);default:return!0x1;}}catch(_0x308792){return this[_0x3df85c(0x843)]['error'](_0x3df85c(0x43b)+_0x308792),!0x1;}}[a0_0x31011a(0x38e)](_0x29f2bd,_0x188a46){const _0x485503=a0_0x31011a;if(_0x29f2bd===_0x188a46&&/^\d+$/[_0x485503(0x47d)](_0x29f2bd))return!0x0;if(this[_0x485503(0x79c)](_0x29f2bd)&&/^\d+$/[_0x485503(0x47d)](_0x188a46)){let _0x351bff=_0x29f2bd[_0x485503(0x912)](',')['map'](_0x1fc1b3=>parseInt(_0x1fc1b3[_0x485503(0x44d)]())),_0x269ae0=parseInt(_0x188a46);return _0x351bff[_0x485503(0x397)](_0x269ae0);}return _0x29f2bd[_0x485503(0x397)](_0x188a46);}[a0_0x31011a(0x79c)](_0x1886c1){return/^\d+(,\d+)*$/['test'](_0x1886c1);}[a0_0x31011a(0x4b8)](_0x69132a){const _0x47406a=a0_0x31011a;let _0xfaad63=!0x0,_0x38ddde=null;for(let _0x1a306f of _0x69132a){let _0x2f2bd7=this[_0x47406a(0x52c)](_0x1a306f);if(_0x38ddde==='or'&&_0x2f2bd7){_0xfaad63=!0x0;break;}if(_0x38ddde===_0x47406a(0x5ff)&&!_0x2f2bd7){_0xfaad63=!0x1;break;}_0x38ddde=_0x1a306f[_0x47406a(0x943)];}return _0xfaad63;}[a0_0x31011a(0x52c)](_0x16bb83){const _0x1010ba=a0_0x31011a;let _0x40c451=_0x16bb83[_0x1010ba(0x648)],_0x1329ab=_0x16bb83[_0x1010ba(0x5f5)];try{switch(_0x16bb83['expression']){case _0x1010ba(0x877):return String(_0x40c451)===String(_0x1329ab);case _0x1010ba(0x531):return String(_0x40c451)!==String(_0x1329ab);case _0x1010ba(0x38e):return String(_0x40c451)['includes'](String(_0x1329ab));case'notContains':return!String(_0x40c451)[_0x1010ba(0x397)](String(_0x1329ab));case'greater':return parseFloat(String(_0x40c451))>parseFloat(String(_0x1329ab));case _0x1010ba(0x346):return parseFloat(String(_0x40c451))<parseFloat(String(_0x1329ab));case _0x1010ba(0x763):return String(_0x40c451)!=='';case _0x1010ba(0x576):return String(_0x40c451)==='';case _0x1010ba(0x67d):return new RegExp(String(_0x1329ab))[_0x1010ba(0x47d)](String(_0x40c451));case'notMatchRegex':return!new RegExp(String(_0x1329ab))['test'](String(_0x40c451));default:return!0x1;}}catch(_0x376d08){return this[_0x1010ba(0x843)][_0x1010ba(0x4e4)](_0x1010ba(0x43b)+_0x376d08),!0x1;}}async[a0_0x31011a(0x5c9)](_0x8c7eb9,_0x1fc4fd){const _0x501fe2=a0_0x31011a;if(this['logger'][_0x501fe2(0x45c)](this[_0x501fe2(0x5c4)]+'\x20('+this[_0x501fe2(0x5ef)][_0x501fe2(0x4d2)]+_0x501fe2(0x827)),!_0x8c7eb9||!_0x1fc4fd)return this[_0x501fe2(0x843)][_0x501fe2(0x4e4)](this[_0x501fe2(0x5c4)]+'\x20('+this[_0x501fe2(0x5ef)]['wuid']+_0x501fe2(0x841)),null;let _0x5d403b=_0x8c7eb9[_0x501fe2(0x748)][_0x501fe2(0x911)][_0x501fe2(0x683)]['id'];this[_0x501fe2(0x843)][_0x501fe2(0x45c)](this[_0x501fe2(0x5c4)]+'\x20('+this['instance'][_0x501fe2(0x4d2)]+_0x501fe2(0x47b)+_0x5d403b);let _0x21ccea={'key':{'id':_0x5d403b}},_0x5e1313=_0x1fc4fd[_0x501fe2(0x53d)];_0x8c7eb9[_0x501fe2(0x748)]['realVariables']['_'+_0x5e1313+_0x501fe2(0x474)]=null,_0x8c7eb9[_0x501fe2(0x748)][_0x501fe2(0x89e)]['_'+_0x5e1313+_0x501fe2(0x80b)]=null,_0x8c7eb9[_0x501fe2(0x748)][_0x501fe2(0x89e)]['_'+_0x5e1313+_0x501fe2(0x356)]=null,_0x8c7eb9[_0x501fe2(0x748)]['realVariables']['_'+_0x5e1313+_0x501fe2(0x6ec)]=_0x8c7eb9[_0x501fe2(0x748)]['lastReceivedMessage'][_0x501fe2(0x294)];try{let _0x4eb325=await this[_0x501fe2(0x278)](_0x21ccea);this[_0x501fe2(0x843)][_0x501fe2(0x45c)](this[_0x501fe2(0x5c4)]+'\x20('+this[_0x501fe2(0x5ef)][_0x501fe2(0x4d2)]+_0x501fe2(0x73d)),_0x8c7eb9[_0x501fe2(0x748)][_0x501fe2(0x89e)]['_'+_0x5e1313+_0x501fe2(0x4a7)]=_0x4eb325[_0x501fe2(0x305)],_0x8c7eb9['chatLog'][_0x501fe2(0x89e)]['_'+_0x5e1313+_0x501fe2(0x80b)]=_0x4eb325[_0x501fe2(0x7a7)];let _0x514c6c=_0x4eb325[_0x501fe2(0x7a7)]['match'](/\/(\w+)$/),_0x11f1c2=_0x514c6c?_0x514c6c[0x1]:null;_0x8c7eb9[_0x501fe2(0x748)][_0x501fe2(0x89e)]['_'+_0x5e1313+_0x501fe2(0x356)]=_0x11f1c2,this[_0x501fe2(0x843)][_0x501fe2(0x45c)](this[_0x501fe2(0x5c4)]+'\x20('+this[_0x501fe2(0x5ef)][_0x501fe2(0x4d2)]+_0x501fe2(0x8a7)+_0x5e1313+'\x27.');}catch(_0x43b6ce){this[_0x501fe2(0x843)]['error'](this[_0x501fe2(0x5c4)]+'\x20('+this[_0x501fe2(0x5ef)][_0x501fe2(0x4d2)]+_0x501fe2(0x75d)+_0x43b6ce[_0x501fe2(0x852)]);}let _0x1976ca=_0x8c7eb9[_0x501fe2(0x748)]['lastReceivedMessage'][_0x501fe2(0x64c)]||_0x8c7eb9[_0x501fe2(0x748)][_0x501fe2(0x911)][_0x501fe2(0x649)]||_0x8c7eb9[_0x501fe2(0x748)]['lastReceivedMessage'][_0x501fe2(0x860)];try{_0x8c7eb9[_0x501fe2(0x748)][_0x501fe2(0x89e)]||(_0x8c7eb9['chatLog'][_0x501fe2(0x89e)]={});let _0x7a165c=_0x8c7eb9[_0x501fe2(0x748)]['realVariables'][_0x5e1313];_0x8c7eb9[_0x501fe2(0x748)]['realVariables'][_0x5e1313]=_0x1976ca;let _0x28e1ee={'variable':_0x5e1313,'oldValue':_0x7a165c,'newValue':_0x1976ca};this['updateConversation'](_0x8c7eb9,_0x1fc4fd,_0x28e1ee),this[_0x501fe2(0x843)]['verbose'](this[_0x501fe2(0x5c4)]+'\x20('+this['instance'][_0x501fe2(0x4d2)]+_0x501fe2(0x6b0));}catch(_0xeb7137){let _0x187092={'error':!0x0,'errorLog':_0xeb7137[_0x501fe2(0x45e)]()};return this[_0x501fe2(0x4d8)](_0x8c7eb9,_0x1fc4fd,_0x187092),this[_0x501fe2(0x843)][_0x501fe2(0x4e4)](this[_0x501fe2(0x5c4)]+'\x20('+this[_0x501fe2(0x5ef)]['wuid']+_0x501fe2(0x776)+(_0xeb7137 instanceof Error?_0xeb7137[_0x501fe2(0x852)]:JSON['stringify'](_0xeb7137,null,0x2))),null;}}async[a0_0x31011a(0x76b)](_0xc2ae0f,_0x55af98){const _0x4c6028=a0_0x31011a;if(this[_0x4c6028(0x843)][_0x4c6028(0x45c)](this[_0x4c6028(0x5c4)]+'\x20('+this[_0x4c6028(0x5ef)][_0x4c6028(0x4d2)]+_0x4c6028(0x593)),!_0xc2ae0f||!_0x55af98)return this[_0x4c6028(0x843)][_0x4c6028(0x4e4)](this[_0x4c6028(0x5c4)]+'\x20('+this[_0x4c6028(0x5ef)]['wuid']+_0x4c6028(0x841)),null;let _0x1b1525=Date[_0x4c6028(0x6d9)](),_0x19ad58=parseInt(_0x55af98[_0x4c6028(0x8f0)],0xa);if(isNaN(_0x19ad58))return this[_0x4c6028(0x843)][_0x4c6028(0x4e4)](this[_0x4c6028(0x5c4)]+'\x20('+this['instance'][_0x4c6028(0x4d2)]+_0x4c6028(0x8b7)),null;let _0x1af2aa={'newStoppedUntil':_0x1b1525+_0x19ad58*0x3c*0x3e8};return await this['updateConversation'](_0xc2ae0f,_0x55af98,_0x1af2aa,!0x0),null;}async['processUazapi'](_0x31906e,_0x565b0a){const _0x182b82=a0_0x31011a;try{switch(_0x565b0a[_0x182b82(0x558)][_0x182b82(0x812)]){case _0x182b82(0x481):await this[_0x182b82(0x229)](_0x31906e,_0x565b0a);break;case _0x182b82(0x5e9):await this[_0x182b82(0x22d)](_0x31906e,_0x565b0a);break;case _0x182b82(0x1f0):await this[_0x182b82(0x268)](_0x31906e,_0x565b0a);break;case _0x182b82(0x6ad):await this[_0x182b82(0x3df)](_0x31906e,_0x565b0a);break;case _0x182b82(0x4be):await this['uazapiSendContact'](_0x31906e,_0x565b0a);break;case'sendPoll':await this[_0x182b82(0x72b)](_0x31906e,_0x565b0a);break;case _0x182b82(0x25d):await this[_0x182b82(0x72b)](_0x31906e,_0x565b0a);break;case'deleteMessage':await this[_0x182b82(0x7af)](_0x31906e,_0x565b0a);break;default:this[_0x182b82(0x843)][_0x182b82(0x4e4)](this['instanceName']+'\x20('+this[_0x182b82(0x5ef)][_0x182b82(0x4d2)]+'):\x20Comando\x20desconhecido:\x20'+_0x565b0a[_0x182b82(0x558)][_0x182b82(0x812)]);}}catch(_0x3d1b14){this[_0x182b82(0x843)][_0x182b82(0x4e4)](this[_0x182b82(0x5c4)]+'\x20('+this[_0x182b82(0x5ef)][_0x182b82(0x4d2)]+_0x182b82(0x681)+(_0x3d1b14 instanceof Error?_0x3d1b14[_0x182b82(0x852)]:JSON[_0x182b82(0x720)](_0x3d1b14,null,0x2)));}}async[a0_0x31011a(0x4d8)](_0x13999e,_0x8ea94d,_0x1076de,_0x5e2b82=!0x1,_0x7b8bdc=!0x1){const _0x19982f=a0_0x31011a;_0x13999e[_0x19982f(0x748)][_0x19982f(0x1ed)]||(_0x13999e[_0x19982f(0x748)][_0x19982f(0x1ed)]=[]);let _0xc7cb6d=(_0x13999e[_0x19982f(0x748)][_0x19982f(0x1ed)]?.[_0x19982f(0x6f0)]??0x0)+0x1,_0x6273d8=_0x13999e[_0x19982f(0x748)][_0x19982f(0x1ed)][_0x19982f(0x497)](_0x3e5bf6=>String(_0x3e5bf6[_0x19982f(0x351)])===String(_0x8ea94d['_id']))['length']+0x1,_0x345f06=_0x1076de?.[_0x19982f(0x3e9)]??Date[_0x19982f(0x6d9)](),_0x5e5cf6=_0x1076de?.[_0x19982f(0x4e4)]?_0x1076de[_0x19982f(0x4f3)]??_0x1076de['error']['toString']():void 0x0,_0x36cb48={'onTime':_0x345f06,'blockId':_0x8ea94d[_0x19982f(0x22c)],'order':_0xc7cb6d,'activatedCount':_0x6273d8,'error':_0x1076de?.['error']??!0x1,'messageId':_0x1076de?.['messageId'],'apiResponse':_0x1076de?.['apiResponse'],'apiResponseString':_0x1076de?.[_0x19982f(0x594)]?JSON[_0x19982f(0x720)](_0x1076de?.[_0x19982f(0x594)]):void 0x0,'variable':_0x1076de?.[_0x19982f(0x5cd)],'oldValue':_0x1076de?.['oldValue'],'newValue':_0x1076de?.[_0x19982f(0x542)],'newStoppedUntil':_0x1076de?.['newStoppedUntil'],'moreLogs':_0x1076de?.[_0x19982f(0x644)],'errorLog':_0x5e5cf6};if(_0x1076de[_0x19982f(0x644)]&&_0x1076de[_0x19982f(0x644)][_0x19982f(0x6f0)]>0x0){let _0x1f6c4d=_0x1076de[_0x19982f(0x644)][_0x19982f(0x74c)](_0x5dcf11=>this['replaceVariablesLogs'](_0x5dcf11,_0x13999e[_0x19982f(0x748)][_0x19982f(0x89e)]));_0x36cb48[_0x19982f(0x644)]=_0x1f6c4d;}if(_0x13999e['chatLog'][_0x19982f(0x89e)]||(_0x13999e['chatLog']['realVariables']={}),_0x13999e[_0x19982f(0x748)][_0x19982f(0x89e)][_0x19982f(0x729)]=String(_0x6273d8),_0x13999e[_0x19982f(0x748)]['realVariables']['_error']=String(_0x1076de[_0x19982f(0x4e4)]??!0x1),_0x13999e[_0x19982f(0x748)][_0x19982f(0x1ed)][_0x19982f(0x3ec)](_0x36cb48),_0x13999e['chatLog'][_0x19982f(0x89e)][_0x19982f(0x83d)]&&_0x13999e[_0x19982f(0x748)]['realVariables']['telefone']!==_0x13999e['remoteJid']){let _0x462b0e=(await this['whatsappNumber']({'numbers':[_0x13999e[_0x19982f(0x748)][_0x19982f(0x89e)][_0x19982f(0x83d)]]}))[0x0][_0x19982f(0x7a1)];_0x13999e['chatLog'][_0x19982f(0x89e)][_0x19982f(0x83d)]=_0x462b0e,_0x13999e['remoteJid']=_0x462b0e;try{let _0x15a739={'_id':{'$ne':_0x13999e['_id']},'remoteJid':_0x462b0e,'status':_0x19982f(0x2cf)},_0x5f1e39={'status':_0x19982f(0x38a)};await this[_0x19982f(0x3c6)][_0x19982f(0x7e7)]['updateMany'](_0x15a739,_0x5f1e39,this['instance'][_0x19982f(0x4d2)]),this[_0x19982f(0x843)][_0x19982f(0x45c)](this[_0x19982f(0x5c4)]+'\x20('+this[_0x19982f(0x5ef)][_0x19982f(0x4d2)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x4f5885){this[_0x19982f(0x843)][_0x19982f(0x4e4)](this[_0x19982f(0x5c4)]+'\x20('+this['instance'][_0x19982f(0x4d2)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x4f5885['message']);}try{let _0x216d14=_0x13999e[_0x19982f(0x748)][_0x19982f(0x89e)],_0x1e81ef=await this[_0x19982f(0x514)](_0x462b0e),_0x3ceff5={..._0x216d14,..._0x1e81ef,'_remoteJid':_0x462b0e};_0x13999e['chatLog'][_0x19982f(0x89e)]=_0x3ceff5;}catch(_0xde8622){this['logger']['error'](this[_0x19982f(0x5c4)]+'\x20('+this[_0x19982f(0x5ef)]['wuid']+_0x19982f(0x639)+_0xde8622['message']);}}_0x13999e[_0x19982f(0x748)][_0x19982f(0x709)]=_0x8ea94d[_0x19982f(0x22c)][_0x19982f(0x45e)](),_0x13999e['chatLog'][_0x19982f(0x91d)]&&(_0x13999e[_0x19982f(0x748)][_0x19982f(0x91d)]=_0x13999e[_0x19982f(0x748)][_0x19982f(0x91d)]),_0x13999e[_0x19982f(0x748)][_0x19982f(0x911)]&&(_0x13999e['chatLog']['lastReceivedMessage']=_0x13999e[_0x19982f(0x748)]['lastReceivedMessage']),_0x13999e[_0x19982f(0x748)][_0x19982f(0x631)]&&(_0x13999e[_0x19982f(0x748)][_0x19982f(0x631)]=_0x13999e[_0x19982f(0x748)][_0x19982f(0x631)]),_0x7b8bdc&&(_0x13999e[_0x19982f(0x893)]=_0x19982f(0x38a)),_0x5e2b82?this[_0x19982f(0x74a)](_0x13999e):this['goNextblock'](_0x13999e,_0x8ea94d);}['replaceVariablesLogs'](_0x750d9e,_0x773f58){const _0x18ed67=a0_0x31011a;return _0x750d9e[_0x18ed67(0x929)](/\{\{([^}]+)\}\}/g,(_0x4e5a80,_0x109e4a)=>_0x773f58[_0x109e4a]?'{{'+_0x109e4a+_0x18ed67(0x4c5)+_0x773f58[_0x109e4a]+'\x22':'{{'+_0x109e4a+_0x18ed67(0x26a));}async[a0_0x31011a(0x74a)](_0x119ea3){const _0x24aea3=a0_0x31011a;try{let _0x26e92c=Object[_0x24aea3(0x910)](_0x119ea3[_0x24aea3(0x748)]['realVariables'])[_0x24aea3(0x74c)](([_0x560cc8,_0x4a0b2d])=>({'name':_0x560cc8,'value':_0x4a0b2d})),_0x49dca1={'status':_0x119ea3[_0x24aea3(0x893)],'remoteJid':_0x119ea3[_0x24aea3(0x651)],'blocks':_0x119ea3['blocks'],'waitingMenu_id':_0x119ea3[_0x24aea3(0x5ed)],'waitingMenu_text':_0x119ea3['waitingMenu_text'],'waitingMenu_replyOptions':_0x119ea3['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x119ea3[_0x24aea3(0x748)][_0x24aea3(0x709)],'lastSendMessage':_0x119ea3['chatLog'][_0x24aea3(0x91d)],'lastReceivedMessage':_0x119ea3[_0x24aea3(0x748)][_0x24aea3(0x911)],'lastCondition':_0x119ea3[_0x24aea3(0x748)]['lastCondition'],'chatVariables':_0x26e92c,'realVariables':_0x119ea3['chatLog'][_0x24aea3(0x89e)],'blockLogs':_0x119ea3[_0x24aea3(0x748)]['blockLogs']}},_0x264774=await this[_0x24aea3(0x3c6)][_0x24aea3(0x7e7)][_0x24aea3(0x449)](_0x119ea3[_0x24aea3(0x22c)],_0x49dca1,this['instance']['wuid']);if(_0x264774){this[_0x24aea3(0x843)][_0x24aea3(0x45c)](this[_0x24aea3(0x5c4)]+'\x20('+this[_0x24aea3(0x5ef)]['wuid']+_0x24aea3(0x83f)+_0x264774[_0x24aea3(0x22c)]);try{let _0x32333c=[_0x24aea3(0x766),_0x24aea3(0x244),'email',_0x24aea3(0x476),'status',_0x24aea3(0x605),_0x24aea3(0x524),_0x24aea3(0x538),_0x24aea3(0x756),_0x24aea3(0x6fc)];if(!this[_0x24aea3(0x74b)]&&(await this[_0x24aea3(0x203)](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x21ee21=this['AutomateSystem']?.[_0x24aea3(0x7e3)][_0x24aea3(0x74c)](_0x4203ee=>_0x4203ee[_0x24aea3(0x3a4)]),_0x393d11={};Object['entries'](_0x119ea3['chatLog'][_0x24aea3(0x89e)])[_0x24aea3(0x201)](([_0x387603,_0xee92d7])=>{const _0x44b51e=_0x24aea3;_0x32333c['includes'](_0x387603)&&(_0x387603===_0x44b51e(0x538)&&typeof _0xee92d7==_0x44b51e(0x415)?_0x393d11[_0x387603]=_0xee92d7[_0x44b51e(0x912)](',')[_0x44b51e(0x74c)](_0x3208b2=>_0x3208b2[_0x44b51e(0x44d)]())[_0x44b51e(0x497)](_0x24df9f=>_0x24df9f!==''):_0x387603===_0x44b51e(0x756)&&typeof _0xee92d7==_0x44b51e(0x415)?_0x393d11[_0x387603]=_0xee92d7[_0x44b51e(0x912)](',')[_0x44b51e(0x74c)](_0x5ac28b=>_0x5ac28b['trim']())['filter'](_0x2a7690=>_0x2a7690!==''):_0x393d11[_0x387603]=_0xee92d7);});let _0x1b703d=_0x119ea3[_0x24aea3(0x748)][_0x24aea3(0x1ed)][_0x119ea3[_0x24aea3(0x748)][_0x24aea3(0x1ed)][_0x24aea3(0x6f0)]-0x1];if(_0x1b703d){let _0x29ed48=_0x1b703d['newStoppedUntil'];_0x29ed48!==void 0x0&&(_0x393d11['desativadoFluxoAte']=_0x29ed48[_0x24aea3(0x45e)]());}let _0x5cd9af=_0x26e92c[_0x24aea3(0x497)](_0x15dad9=>_0x21ee21[_0x24aea3(0x397)](_0x15dad9[_0x24aea3(0x3a4)]));this[_0x24aea3(0x843)][_0x24aea3(0x45c)](this['instanceName']+'\x20('+this[_0x24aea3(0x5ef)]['wuid']+_0x24aea3(0x537)),this['logger'][_0x24aea3(0x45c)](_0x393d11),this[_0x24aea3(0x843)][_0x24aea3(0x45c)](this[_0x24aea3(0x5c4)]+'\x20('+this['instance'][_0x24aea3(0x4d2)]+_0x24aea3(0x695)),this[_0x24aea3(0x843)][_0x24aea3(0x45c)](_0x5cd9af);let _0x3a098e=_0x5cd9af[_0x24aea3(0x74c)](_0x41af1d=>{const _0xac4e56=_0x24aea3;let _0x451661=this['AutomateSystem']?.[_0xac4e56(0x7e3)][_0xac4e56(0x90d)](_0x5bb368=>_0x5bb368[_0xac4e56(0x3a4)]===_0x41af1d['name']);if(!_0x451661)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x41af1d['name']);return{'_id':_0x451661[_0xac4e56(0x22c)],'value':_0x41af1d[_0xac4e56(0x364)]};});this[_0x24aea3(0x843)][_0x24aea3(0x45c)](this[_0x24aea3(0x5c4)]+'\x20('+this['instance'][_0x24aea3(0x4d2)]+_0x24aea3(0x34c)),this[_0x24aea3(0x843)][_0x24aea3(0x45c)](_0x3a098e),await this[_0x24aea3(0x7de)](_0x119ea3['remoteJid'],_0x393d11,_0x3a098e);}catch(_0x2f0a58){this[_0x24aea3(0x843)][_0x24aea3(0x4e4)](this[_0x24aea3(0x5c4)]+'\x20('+this[_0x24aea3(0x5ef)][_0x24aea3(0x4d2)]+_0x24aea3(0x670)+(_0x2f0a58 instanceof Error?_0x2f0a58[_0x24aea3(0x852)]:JSON[_0x24aea3(0x720)](_0x2f0a58,null,0x2)));}}else this[_0x24aea3(0x843)][_0x24aea3(0x4e4)](this['instanceName']+'\x20('+this[_0x24aea3(0x5ef)][_0x24aea3(0x4d2)]+_0x24aea3(0x2f1));}catch(_0x346513){this[_0x24aea3(0x843)][_0x24aea3(0x4e4)](this['instanceName']+'\x20('+this[_0x24aea3(0x5ef)]['wuid']+_0x24aea3(0x4e2)+(_0x346513 instanceof Error?_0x346513[_0x24aea3(0x852)]:JSON[_0x24aea3(0x720)](_0x346513,null,0x2)));}}async[a0_0x31011a(0x7de)](_0x5b292a,_0x253bed,_0x2c0552){const _0x2bae1d=a0_0x31011a;try{let _0x59e476={'leadInfo.leadnome':_0x253bed[_0x2bae1d(0x766)],'leadInfo.nomecompleto':_0x253bed[_0x2bae1d(0x244)],'leadInfo.email':_0x253bed['email'],'leadInfo.cpf':_0x253bed['cpf'],'leadInfo.status':_0x253bed[_0x2bae1d(0x893)],'leadInfo.notas':_0x253bed[_0x2bae1d(0x605)],'leadInfo.responsavelid':_0x253bed[_0x2bae1d(0x524)],'leadInfo.tags':_0x253bed['tags'],'leadInfo.etiquetas':_0x253bed[_0x2bae1d(0x756)],'leadInfo.customFields':_0x2c0552,'leadInfo.atendimentoAberto':_0x253bed[_0x2bae1d(0x6fc)]},_0x4da227=await this[_0x2bae1d(0x3c6)][_0x2bae1d(0x3bc)][_0x2bae1d(0x917)]({'where':{'_id':_0x5b292a}},this['instance'][_0x2bae1d(0x4d2)]);if(!_0x4da227)return _0x2bae1d(0x924);let _0x5d05d1=new Set(_0x4da227[_0x2bae1d(0x564)][_0x2bae1d(0x756)]||[]),_0x330cbd=new Set(_0x253bed[_0x2bae1d(0x756)]||[]),_0x3f148c=await this[_0x2bae1d(0x3c6)][_0x2bae1d(0x20a)][_0x2bae1d(0x90d)]({'where':{}},this[_0x2bae1d(0x5ef)]['wuid']),_0x33e865=new Set(_0x3f148c[_0x2bae1d(0x74c)](_0x1fe405=>_0x1fe405['_id'])),_0xcd7d33=[..._0x330cbd][_0x2bae1d(0x497)](_0x291868=>!_0x5d05d1[_0x2bae1d(0x467)](_0x291868)&&_0x33e865[_0x2bae1d(0x467)](_0x291868)),_0x5973f5=[..._0x5d05d1][_0x2bae1d(0x497)](_0x426d0a=>!_0x330cbd['has'](_0x426d0a));for(let _0x3833c1 of _0xcd7d33)await this[_0x2bae1d(0x64d)](_0x3833c1,_0x4da227[_0x2bae1d(0x22c)]),_0x5d05d1[_0x2bae1d(0x8dc)](_0x3833c1);for(let _0x31661f of _0x5973f5)await this[_0x2bae1d(0x5e4)](_0x31661f,_0x4da227['_id']),_0x5d05d1[_0x2bae1d(0x606)](_0x31661f);if(_0x2bae1d(0x7c6)in _0x253bed){let _0x148f84=_0x253bed['desativadoFluxoAte'];_0x59e476[_0x2bae1d(0x725)]=_0x148f84?Number(_0x148f84):null;}if(_0x2bae1d(0x6fc)in _0x253bed){let _0x4ffe6a=_0x253bed[_0x2bae1d(0x6fc)][_0x2bae1d(0x240)]();_0x59e476[_0x2bae1d(0x1e0)]=_0x4ffe6a===_0x2bae1d(0x747)||_0x4ffe6a==='1'||_0x4ffe6a===_0x2bae1d(0x2a2)||_0x4ffe6a===_0x2bae1d(0x8eb);}let _0x321206=await this[_0x2bae1d(0x3c6)][_0x2bae1d(0x3bc)][_0x2bae1d(0x449)]({'where':{'_id':_0x5b292a}},_0x59e476,this['instance'][_0x2bae1d(0x4d2)]);_0x321206?(this['logger'][_0x2bae1d(0x45c)](this[_0x2bae1d(0x5c4)]+'\x20('+this['instance'][_0x2bae1d(0x4d2)]+_0x2bae1d(0x73a)+_0x321206['_id']),j(this['instanceName'],_0x2bae1d(0x85a),{'chat':_0x321206})):this[_0x2bae1d(0x843)]['error'](this[_0x2bae1d(0x5c4)]+'\x20('+this[_0x2bae1d(0x5ef)][_0x2bae1d(0x4d2)]+_0x2bae1d(0x73c));}catch(_0x2baf05){this[_0x2bae1d(0x843)][_0x2bae1d(0x4e4)](this['instanceName']+'\x20('+this[_0x2bae1d(0x5ef)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x2baf05 instanceof Error?_0x2baf05['message']:JSON[_0x2bae1d(0x720)](_0x2baf05,null,0x2)));}}async[a0_0x31011a(0x22e)](_0x51e13c,_0x20e547){const _0x4656ed=a0_0x31011a;this[_0x4656ed(0x843)]['verbose'](this[_0x4656ed(0x5c4)]+'\x20('+this[_0x4656ed(0x5ef)][_0x4656ed(0x4d2)]+_0x4656ed(0x1fc)+_0x20e547);try{let _0x46f805=await this[_0x4656ed(0x3c6)][_0x4656ed(0x3bc)]['updateOne']({'where':{'_id':_0x51e13c[_0x4656ed(0x651)]}},{'leadInfo.desativadoFluxoAte':_0x20e547},this[_0x4656ed(0x5ef)][_0x4656ed(0x4d2)]);this['logger'][_0x4656ed(0x45c)](this[_0x4656ed(0x5c4)]+'\x20('+this[_0x4656ed(0x5ef)][_0x4656ed(0x4d2)]+_0x4656ed(0x5b2)+_0x51e13c[_0x4656ed(0x22c)]),this[_0x4656ed(0x843)][_0x4656ed(0x45c)](this[_0x4656ed(0x5c4)]+'\x20('+this[_0x4656ed(0x5ef)][_0x4656ed(0x4d2)]+_0x4656ed(0x1fc)+JSON[_0x4656ed(0x720)](_0x46f805,null,0x2)),_0x46f805&&j(this['instanceName'],_0x4656ed(0x85a),{'chat':_0x46f805});}catch(_0x331401){this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4656ed(0x8e6)+(_0x331401 instanceof Error?_0x331401[_0x4656ed(0x852)]:JSON[_0x4656ed(0x720)](_0x331401,null,0x2)));}}async[a0_0x31011a(0x36b)](_0x2c9ac8){const _0x50b643=a0_0x31011a;try{this[_0x50b643(0x843)][_0x50b643(0x45c)](this[_0x50b643(0x5c4)]+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20flow...');let _0x58b6f1=_0x2c9ac8['replace'](/\D/g,''),_0x576314=this[_0x50b643(0x74b)][_0x50b643(0x74d)][_0x50b643(0x90d)](_0x503da5=>_0x503da5['testingWith']===_0x58b6f1);if(_0x576314||(this[_0x50b643(0x843)][_0x50b643(0x45c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x50b643(0x80c)),_0x576314=this['AutomateSystem'][_0x50b643(0x74d)][_0x50b643(0x90d)](_0x6d3571=>_0x6d3571[_0x50b643(0x20b)]===!0x0)),!_0x576314)return this['logger'][_0x50b643(0x45c)](this[_0x50b643(0x5c4)]+'\x20('+this[_0x50b643(0x5ef)][_0x50b643(0x4d2)]+_0x50b643(0x396)),null;let _0x556ead=await this[_0x50b643(0x3c6)][_0x50b643(0x8c7)][_0x50b643(0x917)]({'where':{'_id':_0x576314[_0x50b643(0x22c)]}});if(!_0x556ead||!_0x556ead['whoCanUse']?.[_0x50b643(0x397)](this['instance'][_0x50b643(0x4d2)]))throw this[_0x50b643(0x843)][_0x50b643(0x4e4)](this[_0x50b643(0x5c4)]+'\x20('+this[_0x50b643(0x5ef)][_0x50b643(0x4d2)]+_0x50b643(0x828)+_0x556ead['_id']+_0x50b643(0x52f)),new m(_0x50b643(0x7ac)+_0x556ead[_0x50b643(0x22c)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x556ead;}catch(_0x70f64c){return this['logger'][_0x50b643(0x4e4)](this[_0x50b643(0x5c4)]+'\x20('+this['instance']['wuid']+_0x50b643(0x5f3)+(_0x70f64c instanceof Error?_0x70f64c[_0x50b643(0x852)]:JSON[_0x50b643(0x720)](_0x70f64c,null,0x2))),null;}}async[a0_0x31011a(0x2b8)](_0x1d6ce8,_0x7b264b){const _0x329de2=a0_0x31011a;try{let _0x1d4ba2=!!_0x7b264b[_0x329de2(0x860)],_0x24f318=_0x7b264b['quoted'],_0x4a0925=null;if(this[_0x329de2(0x843)]['verbose'](this[_0x329de2(0x5c4)]+'\x20('+this[_0x329de2(0x5ef)]['wuid']+_0x329de2(0x50c)+_0x1d4ba2+_0x329de2(0x24f)+_0x24f318),_0x1d4ba2){this[_0x329de2(0x843)][_0x329de2(0x45c)](this[_0x329de2(0x5c4)]+'\x20('+this['instance'][_0x329de2(0x4d2)]+_0x329de2(0x2e5));let _0x8f8179={'where':{'remoteJid':_0x1d6ce8,'waitingMenu_id':_0x24f318}};if(_0x4a0925=await this[_0x329de2(0x3c6)][_0x329de2(0x7e7)]['findOne'](_0x8f8179,this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]),!_0x4a0925)return this[_0x329de2(0x843)][_0x329de2(0x45c)](this[_0x329de2(0x5c4)]+'\x20('+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+_0x329de2(0x37d)),null;let _0x180d41=Date[_0x329de2(0x6d9)](),_0x260d5e=_0x4a0925?.[_0x329de2(0x238)]||0x0,_0x40fd35=_0x180d41-_0x260d5e*0x3c*0x3e8;if(_0x4a0925['lastInteraction']<_0x40fd35){this[_0x329de2(0x843)][_0x329de2(0x45c)](this[_0x329de2(0x5c4)]+'\x20('+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+_0x329de2(0x394));let _0x2e5220={'number':_0x4a0925[_0x329de2(0x651)],'options':{'delay':0x0},'textMessage':{'text':_0x4a0925[_0x329de2(0x7d2)]}};await this[_0x329de2(0x338)](_0x2e5220);let _0x5aca6d={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x329de2(0x7e7)][_0x329de2(0x449)](_0x4a0925[_0x329de2(0x22c)],_0x5aca6d,this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]),null;}return _0x4a0925[_0x329de2(0x353)]=Date[_0x329de2(0x6d9)](),_0x4a0925[_0x329de2(0x748)][_0x329de2(0x911)]=_0x7b264b,_0x4a0925;}else{this[_0x329de2(0x843)][_0x329de2(0x45c)](this[_0x329de2(0x5c4)]+'\x20('+this['instance']['wuid']+_0x329de2(0x878)+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger']['verbose'](this[_0x329de2(0x5c4)]+'\x20('+this[_0x329de2(0x5ef)]['wuid']+_0x329de2(0x819));let _0x7a1d7e={'where':{'remoteJid':_0x1d6ce8,'status':_0x329de2(0x2cf)}};if(_0x4a0925=await this[_0x329de2(0x3c6)][_0x329de2(0x7e7)][_0x329de2(0x917)](_0x7a1d7e,this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]),!_0x4a0925){let _0x5964da=await this['findFlow'](_0x1d6ce8);if(_0x5964da&&(_0x4a0925=await this[_0x329de2(0x77f)](_0x5964da,_0x7b264b[_0x329de2(0x683)],_0x7b264b)),!_0x4a0925)return null;}let _0x3e2c3c=Date[_0x329de2(0x6d9)](),_0x293f5a=_0x4a0925?.[_0x329de2(0x238)]||0x0,_0x40d88b=_0x3e2c3c-_0x293f5a*0x3c*0x3e8;if(this[_0x329de2(0x843)]['verbose'](this['instanceName']+'\x20('+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+_0x329de2(0x768)+_0x3e2c3c+_0x329de2(0x20d)+_0x293f5a+_0x329de2(0x565)+_0x40d88b),this[_0x329de2(0x843)]['verbose'](this[_0x329de2(0x5c4)]+'\x20('+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+_0x329de2(0x626)),this[_0x329de2(0x843)][_0x329de2(0x45c)](this[_0x329de2(0x5c4)]+'\x20('+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+_0x329de2(0x2b3)+_0x4a0925[_0x329de2(0x353)]),this[_0x329de2(0x843)]['verbose'](this[_0x329de2(0x5c4)]+'\x20('+this['instance']['wuid']+_0x329de2(0x53e)+_0x40d88b),_0x4a0925['lastInteraction']<_0x40d88b){this[_0x329de2(0x843)][_0x329de2(0x45c)](this[_0x329de2(0x5c4)]+'\x20('+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+_0x329de2(0x8ca));let _0x18fa1b=await this[_0x329de2(0x36b)](_0x1d6ce8);if(_0x18fa1b===null)return null;_0x4a0925&&await this[_0x329de2(0x3c6)][_0x329de2(0x7e7)][_0x329de2(0x449)](_0x4a0925[_0x329de2(0x22c)],{'status':'closed'},this['instance'][_0x329de2(0x4d2)]),_0x4a0925=await this[_0x329de2(0x77f)](_0x18fa1b,_0x7b264b[_0x329de2(0x683)],_0x7b264b);}return _0x4a0925[_0x329de2(0x353)]=_0x3e2c3c,_0x4a0925[_0x329de2(0x748)]['lastReceivedMessage']=_0x7b264b,_0x4a0925;}}catch(_0x3a3e30){return this['logger'][_0x329de2(0x4e4)](this['instanceName']+'\x20('+this[_0x329de2(0x5ef)][_0x329de2(0x4d2)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x3a3e30 instanceof Error?_0x3a3e30['message']:JSON['stringify'](_0x3a3e30,null,0x2))),null;}}async[a0_0x31011a(0x77f)](_0x5b4f8f,_0x4c4431,_0x30e9be){const _0x428114=a0_0x31011a;this[_0x428114(0x843)][_0x428114(0x45c)](this['instanceName']+'\x20('+this[_0x428114(0x5ef)]['wuid']+_0x428114(0x8e8));try{let _0x137dac=require(_0x428114(0x3f5))[_0x428114(0x853)],_0x11d584=Date[_0x428114(0x6d9)](),_0x3ddb8d=_0x428114(0x262),_0xae75d3=_0x4c4431[_0x428114(0x663)]?null:_0x30e9be,_0x1fd173=_0x4c4431[_0x428114(0x663)]?_0x30e9be:null,_0x44a465=_0x4c4431[_0x428114(0x651)],_0x4cbae5=this[_0x428114(0x74b)]['flows'][_0x428114(0x90d)](_0x3d73ad=>_0x3d73ad[_0x428114(0x22c)]===_0x5b4f8f[_0x428114(0x22c)]?.[_0x428114(0x45e)]()),_0xcd52e4=_0x4cbae5?.[_0x428114(0x238)]??_0x5b4f8f['minutesToClose']??0x0,_0x5d53f0=_0x4cbae5?.['readMessages']??_0x5b4f8f[_0x428114(0x6f2)]??!0x1;await this[_0x428114(0x222)](_0x44a465);let _0x3e2103={'flowId':_0x5b4f8f[_0x428114(0x22c)],..._0x5b4f8f,'chatLog':null},_0x6d913a=await this['variablesToObject'](_0x3e2103[_0x428114(0x228)]),_0x451694=await this[_0x428114(0x514)](_0x44a465),_0x167a45={..._0x6d913a,..._0x451694,'_remoteJid':_0x44a465},_0x5bcb1e={'lastReceivedMessage':_0xae75d3,'lastSendMessage':_0x1fd173,'lastBlockId':_0x3ddb8d,'lastCondition':!0x0,'realVariables':_0x167a45};_0x3e2103[_0x428114(0x748)]=_0x5bcb1e,delete _0x3e2103[_0x428114(0x22c)],_0x3e2103[_0x428114(0x22c)]=new _0x137dac(),_0x3e2103[_0x428114(0x353)]=_0x11d584,_0x3e2103[_0x428114(0x893)]=_0x428114(0x2cf),_0x3e2103['remoteJid']=_0x44a465,_0x3e2103['minutesToClose']=_0xcd52e4,_0x3e2103['readMessages']=_0x5d53f0;let _0x49b688=await this[_0x428114(0x3c6)][_0x428114(0x7e7)][_0x428114(0x449)](_0x3e2103[_0x428114(0x22c)],_0x3e2103,this['instance'][_0x428114(0x4d2)]);return this['logger'][_0x428114(0x45c)](this[_0x428114(0x5c4)]+'\x20('+this[_0x428114(0x5ef)][_0x428114(0x4d2)]+_0x428114(0x7c7)),_0x49b688?_0x3e2103:null;}catch(_0x1a09a1){return this[_0x428114(0x843)][_0x428114(0x4e4)](this['instanceName']+'\x20('+this[_0x428114(0x5ef)][_0x428114(0x4d2)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x1a09a1 instanceof Error?_0x1a09a1['message']:JSON['stringify'](_0x1a09a1,null,0x2))),_0x1a09a1;}}async['uazapiSendText'](_0x2ee9e8,_0x7b035d){const _0x242a9b=a0_0x31011a;let _0x41ed7e=_0x2ee9e8[_0x242a9b(0x651)];_0x7b035d[_0x242a9b(0x558)][_0x242a9b(0x651)]&&_0x7b035d[_0x242a9b(0x558)][_0x242a9b(0x651)][_0x242a9b(0x44d)]()!==''&&(_0x41ed7e=_0x7b035d[_0x242a9b(0x558)][_0x242a9b(0x651)][_0x242a9b(0x44d)]()),this[_0x242a9b(0x843)][_0x242a9b(0x45c)](this[_0x242a9b(0x5c4)]+'\x20('+this[_0x242a9b(0x5ef)][_0x242a9b(0x4d2)]+_0x242a9b(0x400));let _0x4ed242={'number':_0x41ed7e,'options':{'delay':_0x7b035d[_0x242a9b(0x558)][_0x242a9b(0x430)],'linkPreview':_0x7b035d['uazapi'][_0x242a9b(0x2eb)]},'textMessage':{'text':_0x7b035d[_0x242a9b(0x558)][_0x242a9b(0x64c)]}};try{let _0x56500a=await this[_0x242a9b(0x338)](_0x4ed242);if(_0x56500a){let _0x478dce={'_id':_0x56500a[_0x242a9b(0x683)]['id'],'_fromMe':_0x56500a[_0x242a9b(0x683)][_0x242a9b(0x663)],'_remoteJid':_0x56500a[_0x242a9b(0x683)][_0x242a9b(0x651)]},_0x9cd216=(0x0,w[_0x242a9b(0x3c5)])(_0x56500a['message']),_0x5e2e87=(0x0,w[_0x242a9b(0x59b)])(_0x9cd216);_0x2ee9e8[_0x242a9b(0x748)][_0x242a9b(0x709)]=_0x7b035d['_id'][_0x242a9b(0x45e)]();let {message_normalized:_0x58b999}=this[_0x242a9b(0x4d1)](_0x9cd216,_0x5e2e87,null);_0x2ee9e8[_0x242a9b(0x748)]['lastSendMessage']=await _0x58b999;let _0x1fd95d={'messageId':_0x56500a[_0x242a9b(0x683)]['id']},_0x342b08=_0x2ee9e8[_0x242a9b(0x748)][_0x242a9b(0x89e)];Object[_0x242a9b(0x34a)](_0x342b08,_0x478dce),_0x2ee9e8[_0x242a9b(0x748)][_0x242a9b(0x89e)]=_0x342b08,this[_0x242a9b(0x4d8)](_0x2ee9e8,_0x7b035d,_0x1fd95d);}else{let _0x9d434e={'error':!0x0};this[_0x242a9b(0x4d8)](_0x2ee9e8,_0x7b035d,_0x9d434e),this[_0x242a9b(0x843)][_0x242a9b(0x4e4)](this[_0x242a9b(0x5c4)]+'\x20('+this[_0x242a9b(0x5ef)][_0x242a9b(0x4d2)]+_0x242a9b(0x63f));}}catch(_0x249a67){let _0x15e08c={'error':!0x0,'errorLog':_0x249a67[_0x242a9b(0x45e)]()};this[_0x242a9b(0x4d8)](_0x2ee9e8,_0x7b035d,_0x15e08c),this[_0x242a9b(0x843)]['error'](this[_0x242a9b(0x5c4)]+'\x20('+this[_0x242a9b(0x5ef)][_0x242a9b(0x4d2)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x249a67 instanceof Error?_0x249a67['message']:JSON['stringify'](_0x249a67,null,0x2)));}}async[a0_0x31011a(0x22d)](_0x438164,_0x233e89){const _0x588700=a0_0x31011a;let _0x39b4dc=_0x438164[_0x588700(0x651)];_0x233e89[_0x588700(0x558)][_0x588700(0x651)]&&_0x233e89[_0x588700(0x558)][_0x588700(0x651)]['trim']()!==''&&(_0x39b4dc=_0x233e89[_0x588700(0x558)][_0x588700(0x651)][_0x588700(0x44d)]()),this[_0x588700(0x843)][_0x588700(0x45c)](this[_0x588700(0x5c4)]+'\x20('+this[_0x588700(0x5ef)][_0x588700(0x4d2)]+_0x588700(0x61a));let _0xdf38aa={'number':_0x39b4dc,'options':{'delay':_0x233e89['uazapi']['delay'],'linkPreview':_0x233e89['uazapi']['linkPreview']},'mediaMessage':{'mediatype':_0x233e89[_0x588700(0x558)][_0x588700(0x6cf)],'caption':_0x233e89[_0x588700(0x558)]['caption'],'media':_0x233e89['uazapi'][_0x588700(0x8be)],'fileName':_0x233e89[_0x588700(0x558)][_0x588700(0x41e)]}};try{let _0x15b09c=await this[_0x588700(0x24d)](_0xdf38aa);if(_0x15b09c){let _0x12dc1e={'_id':_0x15b09c[_0x588700(0x683)]['id'],'_fromMe':_0x15b09c['key'][_0x588700(0x663)],'_remoteJid':_0x15b09c[_0x588700(0x683)][_0x588700(0x651)]},_0x4e141d=(0x0,w[_0x588700(0x3c5)])(_0x15b09c[_0x588700(0x852)]),_0x594c92=(0x0,w[_0x588700(0x59b)])(_0x4e141d);_0x438164['chatLog'][_0x588700(0x709)]=_0x233e89[_0x588700(0x22c)][_0x588700(0x45e)]();let {message_normalized:_0x544c20}=this[_0x588700(0x4d1)](_0x4e141d,_0x594c92,null);_0x438164['chatLog']['lastSendMessage']=await _0x544c20;let _0xd2b173={'messageId':_0x15b09c[_0x588700(0x683)]['id']},_0x5016c9=_0x438164[_0x588700(0x748)][_0x588700(0x89e)];Object[_0x588700(0x34a)](_0x5016c9,_0x12dc1e),_0x438164[_0x588700(0x748)]['realVariables']=_0x5016c9,this[_0x588700(0x4d8)](_0x438164,_0x233e89,_0xd2b173);}else{let _0x10ef2c={'error':!0x0};this[_0x588700(0x4d8)](_0x438164,_0x233e89,_0x10ef2c),this[_0x588700(0x843)][_0x588700(0x4e4)](this[_0x588700(0x5c4)]+'\x20('+this[_0x588700(0x5ef)][_0x588700(0x4d2)]+_0x588700(0x880));}}catch(_0x536f96){let _0x54ae4f={'error':!0x0,'errorLog':_0x536f96[_0x588700(0x45e)]()};this[_0x588700(0x4d8)](_0x438164,_0x233e89,_0x54ae4f),this[_0x588700(0x843)]['error'](this['instanceName']+'\x20('+this[_0x588700(0x5ef)][_0x588700(0x4d2)]+_0x588700(0x72a)+(_0x536f96 instanceof Error?_0x536f96[_0x588700(0x852)]:JSON[_0x588700(0x720)](_0x536f96,null,0x2)));}}async['uazapiSendLocation'](_0x44d53b,_0x24d595){const _0x276598=a0_0x31011a;let _0x1bdeb5=_0x44d53b[_0x276598(0x651)];_0x24d595[_0x276598(0x558)][_0x276598(0x651)]&&_0x24d595['uazapi']['remoteJid'][_0x276598(0x44d)]()!==''&&(_0x1bdeb5=_0x24d595[_0x276598(0x558)][_0x276598(0x651)][_0x276598(0x44d)]()),this[_0x276598(0x843)]['verbose'](this[_0x276598(0x5c4)]+'\x20('+this[_0x276598(0x5ef)][_0x276598(0x4d2)]+_0x276598(0x7b5));let _0x9b1038={'number':_0x1bdeb5,'options':{'delay':_0x24d595['uazapi']['delay']},'locationMessage':{'name':_0x24d595[_0x276598(0x558)]['name'],'address':_0x24d595[_0x276598(0x558)][_0x276598(0x934)],'latitude':_0x24d595[_0x276598(0x558)][_0x276598(0x857)],'longitude':_0x24d595[_0x276598(0x558)]['longitude']}};try{let _0x53446c=await this['locationMessage'](_0x9b1038);if(_0x53446c){let _0x32bcba={'_id':_0x53446c['key']['id'],'_fromMe':_0x53446c[_0x276598(0x683)][_0x276598(0x663)],'_remoteJid':_0x53446c[_0x276598(0x683)][_0x276598(0x651)]},_0x29bbe6=(0x0,w['normalizeMessageContent'])(_0x53446c[_0x276598(0x852)]),_0x1731c6=(0x0,w[_0x276598(0x59b)])(_0x29bbe6);_0x44d53b['chatLog'][_0x276598(0x709)]=_0x24d595['_id'][_0x276598(0x45e)]();let {message_normalized:_0x238e5d}=this['normalizeMessage'](_0x29bbe6,_0x1731c6,null);_0x44d53b[_0x276598(0x748)][_0x276598(0x91d)]=await _0x238e5d;let _0x4f7c73={'messageId':_0x53446c['key']['id']},_0x403812=_0x44d53b[_0x276598(0x748)]['realVariables'];Object[_0x276598(0x34a)](_0x403812,_0x32bcba),_0x44d53b[_0x276598(0x748)]['realVariables']=_0x403812,this['updateConversation'](_0x44d53b,_0x24d595,_0x4f7c73);}else{let _0x886068={'error':!0x0};this['updateConversation'](_0x44d53b,_0x24d595,_0x886068),this[_0x276598(0x843)][_0x276598(0x4e4)](this[_0x276598(0x5c4)]+'\x20('+this[_0x276598(0x5ef)][_0x276598(0x4d2)]+_0x276598(0x36f));}}catch(_0x279a83){let _0x3f5f25={'error':!0x0,'errorLog':_0x279a83[_0x276598(0x45e)]()};this[_0x276598(0x4d8)](_0x44d53b,_0x24d595,_0x3f5f25),this[_0x276598(0x843)]['error'](this[_0x276598(0x5c4)]+'\x20('+this[_0x276598(0x5ef)]['wuid']+_0x276598(0x5cb)+(_0x279a83 instanceof Error?_0x279a83[_0x276598(0x852)]:JSON['stringify'](_0x279a83,null,0x2)));}}async[a0_0x31011a(0x3df)](_0x3e500b,_0x113343){const _0xad37bf=a0_0x31011a;let _0x2c5153=_0x3e500b[_0xad37bf(0x651)];_0x113343[_0xad37bf(0x558)][_0xad37bf(0x651)]&&_0x113343['uazapi'][_0xad37bf(0x651)]['trim']()!==''&&(_0x2c5153=_0x113343[_0xad37bf(0x558)][_0xad37bf(0x651)][_0xad37bf(0x44d)]()),this[_0xad37bf(0x843)][_0xad37bf(0x45c)](this[_0xad37bf(0x5c4)]+'\x20('+this[_0xad37bf(0x5ef)]['wuid']+_0xad37bf(0x91f));let _0x521b49={'number':_0x2c5153,'options':{'delay':_0x113343['uazapi'][_0xad37bf(0x430)]},'audioMessage':{'audio':_0x113343[_0xad37bf(0x558)]['audio']}};try{let _0x198746=await this['audioWhatsapp'](_0x521b49);if(_0x198746){let _0x5b2182={'_id':_0x198746[_0xad37bf(0x683)]['id'],'_fromMe':_0x198746[_0xad37bf(0x683)][_0xad37bf(0x663)],'_remoteJid':_0x198746[_0xad37bf(0x683)]['remoteJid']},_0x426290=(0x0,w[_0xad37bf(0x3c5)])(_0x198746[_0xad37bf(0x852)]),_0x46726b=(0x0,w[_0xad37bf(0x59b)])(_0x426290);_0x3e500b[_0xad37bf(0x748)][_0xad37bf(0x709)]=_0x113343[_0xad37bf(0x22c)]['toString']();let {message_normalized:_0x3e57ad}=this[_0xad37bf(0x4d1)](_0x426290,_0x46726b,null);_0x3e500b[_0xad37bf(0x748)]['lastSendMessage']=await _0x3e57ad;let _0x3150b2={'messageId':_0x198746[_0xad37bf(0x683)]['id']},_0x4af4ad=_0x3e500b['chatLog'][_0xad37bf(0x89e)];Object[_0xad37bf(0x34a)](_0x4af4ad,_0x5b2182),_0x3e500b[_0xad37bf(0x748)][_0xad37bf(0x89e)]=_0x4af4ad,this[_0xad37bf(0x4d8)](_0x3e500b,_0x113343,_0x3150b2);}else{let _0x38b03e={'error':!0x0};this['updateConversation'](_0x3e500b,_0x113343,_0x38b03e),this[_0xad37bf(0x843)][_0xad37bf(0x4e4)](this[_0xad37bf(0x5c4)]+'\x20('+this[_0xad37bf(0x5ef)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x272f0c){let _0x3d1119={'error':!0x0,'errorLog':_0x272f0c[_0xad37bf(0x45e)]()};this[_0xad37bf(0x4d8)](_0x3e500b,_0x113343,_0x3d1119),this[_0xad37bf(0x843)][_0xad37bf(0x4e4)](this[_0xad37bf(0x5c4)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x272f0c instanceof Error?_0x272f0c['message']:JSON[_0xad37bf(0x720)](_0x272f0c,null,0x2)));}}async[a0_0x31011a(0x7fe)](_0x166914,_0x5ef083){const _0x578fd4=a0_0x31011a;let _0x5e8b8b=_0x166914[_0x578fd4(0x651)];_0x5ef083[_0x578fd4(0x558)][_0x578fd4(0x651)]&&_0x5ef083[_0x578fd4(0x558)][_0x578fd4(0x651)][_0x578fd4(0x44d)]()!==''&&(_0x5e8b8b=_0x5ef083[_0x578fd4(0x558)][_0x578fd4(0x651)][_0x578fd4(0x44d)]()),this[_0x578fd4(0x843)]['verbose'](this[_0x578fd4(0x5c4)]+'\x20('+this['instance'][_0x578fd4(0x4d2)]+_0x578fd4(0x2e8));let _0x507923={'number':_0x5e8b8b,'options':{'delay':_0x5ef083[_0x578fd4(0x558)][_0x578fd4(0x430)]},'contactMessage':[{'fullName':_0x5ef083[_0x578fd4(0x558)][_0x578fd4(0x3fd)],'phoneNumber':_0x5ef083[_0x578fd4(0x558)]['phoneNumber']}]};try{let _0x2ac61f=await this['contactMessage'](_0x507923);if(_0x2ac61f){let _0x151fc5={'_id':_0x2ac61f[_0x578fd4(0x683)]['id'],'_fromMe':_0x2ac61f[_0x578fd4(0x683)][_0x578fd4(0x663)],'_remoteJid':_0x2ac61f[_0x578fd4(0x683)][_0x578fd4(0x651)]},_0x5f3ce8=(0x0,w[_0x578fd4(0x3c5)])(_0x2ac61f[_0x578fd4(0x852)]),_0x33475e=(0x0,w[_0x578fd4(0x59b)])(_0x5f3ce8);_0x166914[_0x578fd4(0x748)][_0x578fd4(0x709)]=_0x5ef083[_0x578fd4(0x22c)]['toString']();let {message_normalized:_0x583a32}=this[_0x578fd4(0x4d1)](_0x5f3ce8,_0x33475e,null);_0x166914['chatLog'][_0x578fd4(0x91d)]=await _0x583a32;let _0x349afa={'messageId':_0x2ac61f[_0x578fd4(0x683)]['id']},_0x4d4d44=_0x166914[_0x578fd4(0x748)]['realVariables'];Object[_0x578fd4(0x34a)](_0x4d4d44,_0x151fc5),_0x166914[_0x578fd4(0x748)][_0x578fd4(0x89e)]=_0x4d4d44,this[_0x578fd4(0x4d8)](_0x166914,_0x5ef083,_0x349afa);}else{let _0x1475e3={'error':!0x0};this[_0x578fd4(0x4d8)](_0x166914,_0x5ef083,_0x1475e3),this['logger'][_0x578fd4(0x4e4)](this[_0x578fd4(0x5c4)]+'\x20('+this[_0x578fd4(0x5ef)][_0x578fd4(0x4d2)]+_0x578fd4(0x2fe));}}catch(_0x12ef88){let _0x2a98b9={'error':!0x0,'errorLog':_0x12ef88['toString']()};this[_0x578fd4(0x4d8)](_0x166914,_0x5ef083,_0x2a98b9),this[_0x578fd4(0x843)][_0x578fd4(0x4e4)](this['instanceName']+'\x20('+this[_0x578fd4(0x5ef)][_0x578fd4(0x4d2)]+_0x578fd4(0x69d)+(_0x12ef88 instanceof Error?_0x12ef88[_0x578fd4(0x852)]:JSON['stringify'](_0x12ef88,null,0x2)));}}[a0_0x31011a(0x265)](_0x4b0d99,_0x16a0d2){const _0x3ae4c7=a0_0x31011a;for(let _0x118d81 of _0x4b0d99)_0x118d81[_0x3ae4c7(0x5fa)]&&(_0x118d81[_0x3ae4c7(0x5fa)]=this[_0x3ae4c7(0x7cc)](_0x118d81[_0x3ae4c7(0x5fa)],_0x16a0d2)),_0x118d81[_0x3ae4c7(0x907)]&&(_0x118d81[_0x3ae4c7(0x907)]=this[_0x3ae4c7(0x7cc)](_0x118d81['optionDescription'],_0x16a0d2));}async[a0_0x31011a(0x72b)](_0x5aa953,_0xda49ac){const _0x3d34fb=a0_0x31011a;let _0x53818a=_0x5aa953['remoteJid'];_0xda49ac['uazapi'][_0x3d34fb(0x651)]&&_0xda49ac[_0x3d34fb(0x558)]['remoteJid'][_0x3d34fb(0x44d)]()!==''&&(_0x53818a=_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x651)][_0x3d34fb(0x44d)]()),this['logger'][_0x3d34fb(0x45c)](this[_0x3d34fb(0x5c4)]+'\x20('+this['instance'][_0x3d34fb(0x4d2)]+_0x3d34fb(0x496));let _0x5efaea=_0x5aa953[_0x3d34fb(0x5da)][_0x3d34fb(0x497)](_0x51a6c1=>_0x51a6c1[_0x3d34fb(0x351)]===_0xda49ac[_0x3d34fb(0x22c)])[_0x3d34fb(0x357)]((_0x5122b1,_0x11b7be)=>_0x5122b1[_0x3d34fb(0x3fb)]-_0x11b7be['order']);this[_0x3d34fb(0x265)](_0x5efaea,_0x5aa953[_0x3d34fb(0x748)][_0x3d34fb(0x89e)]);let _0x42be2d=_0x5efaea['map'](_0x5136c8=>_0x5136c8[_0x3d34fb(0x5fa)]),_0x4a182f={'number':_0x53818a,'menuMessage':{'type':_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x7f3)]||_0x3d34fb(0x832),'text':_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x64c)]||_0xda49ac['uazapi'][_0x3d34fb(0x3a4)],'footerText':_0xda49ac[_0x3d34fb(0x558)]['footerText'],'buttonText':_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x219)],'selectableCount':0x1,'choices':_0x42be2d},'options':{'delay':_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x430)]}};try{let _0x7e6f52=await this[_0x3d34fb(0x6c2)](_0x4a182f);if(_0x7e6f52){let _0x2f09de={'_id':_0x7e6f52[_0x3d34fb(0x683)]['id'],'_fromMe':_0x7e6f52['key'][_0x3d34fb(0x663)],'_remoteJid':_0x7e6f52['key'][_0x3d34fb(0x651)]};_0xda49ac['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x5aa953[_0x3d34fb(0x893)]='waitingForReplyMenu',this[_0x3d34fb(0x843)][_0x3d34fb(0x45c)](this[_0x3d34fb(0x5c4)]+'\x20('+this['instance'][_0x3d34fb(0x4d2)]+_0x3d34fb(0x667)+_0x5aa953[_0x3d34fb(0x893)])),this[_0x3d34fb(0x843)]['verbose'](this[_0x3d34fb(0x5c4)]+'\x20('+this['instance']['wuid']+_0x3d34fb(0x7ed)+(_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x3a4)]||_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x64c)])),_0x5aa953[_0x3d34fb(0x5ed)]=_0x7e6f52[_0x3d34fb(0x683)]['id'],_0x5aa953[_0x3d34fb(0x3b4)]=_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x3a4)]||_0xda49ac[_0x3d34fb(0x558)]['text'],_0x5aa953['waitingMenu_replyOptions']=_0x5efaea,_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x414)]&&(_0x5aa953[_0x3d34fb(0x7d2)]=_0xda49ac[_0x3d34fb(0x558)][_0x3d34fb(0x414)]),this[_0x3d34fb(0x843)][_0x3d34fb(0x45c)](this[_0x3d34fb(0x5c4)]+'\x20('+this[_0x3d34fb(0x5ef)][_0x3d34fb(0x4d2)]+_0x3d34fb(0x5a9)+_0x5aa953[_0x3d34fb(0x3b4)]);let _0xd06cc=(0x0,w[_0x3d34fb(0x3c5)])(_0x7e6f52[_0x3d34fb(0x852)]),_0x157005=(0x0,w['getContentType'])(_0xd06cc);_0x5aa953['chatLog'][_0x3d34fb(0x709)]=_0xda49ac[_0x3d34fb(0x22c)][_0x3d34fb(0x45e)]();let {message_normalized:_0xbbec94}=this[_0x3d34fb(0x4d1)](_0xd06cc,_0x157005,null);_0x5aa953['chatLog']['lastSendMessage']=await _0xbbec94;let _0x51196f={'messageId':_0x7e6f52[_0x3d34fb(0x683)]['id']},_0x2aec2a=_0x5aa953[_0x3d34fb(0x748)][_0x3d34fb(0x89e)];Object[_0x3d34fb(0x34a)](_0x2aec2a,_0x2f09de),_0x5aa953[_0x3d34fb(0x748)][_0x3d34fb(0x89e)]=_0x2aec2a,this[_0x3d34fb(0x4d8)](_0x5aa953,_0xda49ac,_0x51196f);}else{let _0x455b66={'error':!0x0};this[_0x3d34fb(0x4d8)](_0x5aa953,_0xda49ac,_0x455b66),this[_0x3d34fb(0x843)]['error'](this[_0x3d34fb(0x5c4)]+'\x20('+this['instance'][_0x3d34fb(0x4d2)]+_0x3d34fb(0x897));}}catch(_0x53f24f){let _0x3a3aa3={'error':!0x0,'errorLog':_0x53f24f instanceof Error?_0x53f24f[_0x3d34fb(0x852)]:JSON['stringify'](_0x53f24f,null,0x2)};this[_0x3d34fb(0x4d8)](_0x5aa953,_0xda49ac,_0x3a3aa3),this[_0x3d34fb(0x843)][_0x3d34fb(0x4e4)](this[_0x3d34fb(0x5c4)]+'\x20('+this[_0x3d34fb(0x5ef)]['wuid']+_0x3d34fb(0x242)+(_0x53f24f instanceof Error?_0x53f24f[_0x3d34fb(0x852)]:JSON[_0x3d34fb(0x720)](_0x53f24f,null,0x2)));}}async[a0_0x31011a(0x7af)](_0x5bf6ae,_0x69ffe5){const _0x40158e=a0_0x31011a;this[_0x40158e(0x843)][_0x40158e(0x45c)](this[_0x40158e(0x5c4)]+'\x20('+this['instance']['wuid']+_0x40158e(0x781));let _0xdfdf58=_0x5bf6ae[_0x40158e(0x748)]['blockLogs']['find'](_0x35c7c6=>_0x35c7c6[_0x40158e(0x351)][_0x40158e(0x45e)]()===_0x69ffe5[_0x40158e(0x558)][_0x40158e(0x351)]['toString']()),_0x2bdc45={'id':_0xdfdf58['messageId'],'remoteJid':_0xdfdf58[_0x40158e(0x651)],'fromMe':_0xdfdf58[_0x40158e(0x663)]};try{let _0x3a9fdc=await this[_0x40158e(0x336)](_0x2bdc45);if(_0x3a9fdc){let _0x156cbe=(0x0,w[_0x40158e(0x3c5)])(_0x3a9fdc[_0x40158e(0x852)]),_0x370c26=(0x0,w[_0x40158e(0x59b)])(_0x156cbe);_0x5bf6ae[_0x40158e(0x748)][_0x40158e(0x709)]=_0x69ffe5[_0x40158e(0x22c)][_0x40158e(0x45e)]();let {message_normalized:_0x212c78}=this[_0x40158e(0x4d1)](_0x156cbe,_0x370c26,null);_0x5bf6ae[_0x40158e(0x748)][_0x40158e(0x91d)]=await _0x212c78;let _0x2fb1cb={};this[_0x40158e(0x4d8)](_0x5bf6ae,_0x69ffe5,_0x2fb1cb);}else{let _0x55157b={'error':!0x0};this[_0x40158e(0x4d8)](_0x5bf6ae,_0x69ffe5,_0x55157b),this[_0x40158e(0x843)][_0x40158e(0x4e4)](this[_0x40158e(0x5c4)]+'\x20('+this[_0x40158e(0x5ef)][_0x40158e(0x4d2)]+_0x40158e(0x42b));}}catch(_0x5b06bb){let _0x5b0403={'error':!0x0,'errorLog':_0x5b06bb instanceof Error?_0x5b06bb['message']:JSON[_0x40158e(0x720)](_0x5b06bb,null,0x2)};this[_0x40158e(0x4d8)](_0x5bf6ae,_0x69ffe5,_0x5b0403),this['logger'][_0x40158e(0x4e4)](this[_0x40158e(0x5c4)]+'\x20('+this[_0x40158e(0x5ef)][_0x40158e(0x4d2)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x5b06bb instanceof Error?_0x5b06bb[_0x40158e(0x852)]:JSON[_0x40158e(0x720)](_0x5b06bb,null,0x2)));}}async[a0_0x31011a(0x8a9)](_0x475284,_0x2f44d2){const _0x507506=a0_0x31011a;if(_0x475284[_0x507506(0x3a4)]||(_0x475284[_0x507506(0x3a4)]=(0x0,Y['v4'])()),_0x2f44d2!==Ti&&_0x475284?.[_0x507506(0x311)])throw new m(_0x507506(0x672));if(_0x507506(0x22c)in _0x475284&&_0x507506(0x5d1)in _0x475284)return this[_0x507506(0x4b9)](_0x475284[_0x507506(0x5d1)],_0x475284[_0x507506(0x22c)]);this['logger'][_0x507506(0x45c)](this[_0x507506(0x5c4)]+'\x20('+this[_0x507506(0x5ef)][_0x507506(0x4d2)]+_0x507506(0x587));let _0x8f11c7=this[_0x507506(0x86a)](_0x475284[_0x507506(0x3a4)]),_0x22c1aa=new me[(_0x507506(0x507))][(_0x507506(0x853))](),_0x35e894={'_id':_0x22c1aa,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x8d7308={'_id':new me['Types']['ObjectId'](),'order':0x1,'groupId':_0x22c1aa['toString'](),'type':'start'},_0x421b09=this['instance'][_0x507506(0x4d2)],_0x2b95ec={'_id':(0x0,Y['v4'])(),'owner':_0x421b09,'name':_0x8f11c7,'whoCanEdit':[_0x421b09],'whoCanUse':[_0x421b09],'groups':[_0x35e894],'blocks':[_0x8d7308],..._0x475284};try{let _0x265762=await this[_0x507506(0x3c6)][_0x507506(0x8c7)][_0x507506(0x4a4)](_0x2b95ec);return await this['synchronizeAndMapFlows'](),_0x265762;}catch(_0x4b2cba){let _0x28548b=_0x507506(0x382),_0x566dbd=_0x4b2cba instanceof Error?_0x4b2cba['message']:typeof _0x4b2cba==_0x507506(0x545)?JSON['stringify'](_0x4b2cba):_0x4b2cba,_0xd146ca=_0x28548b+':\x20'+_0x566dbd;throw this[_0x507506(0x843)][_0x507506(0x4e4)](this[_0x507506(0x5c4)]+'\x20('+this[_0x507506(0x5ef)][_0x507506(0x4d2)]+_0x507506(0x878)+_0xd146ca),new m(_0xd146ca);}}async['AddUserFlow'](_0xd3fdd0,_0x4fb19b){const _0x21cc0c=a0_0x31011a;try{this['logger']['verbose'](this[_0x21cc0c(0x5c4)]+'\x20('+this[_0x21cc0c(0x5ef)]['wuid']+_0x21cc0c(0x8d0));let _0x190f9b=await this[_0x21cc0c(0x3c6)][_0x21cc0c(0x8c7)][_0x21cc0c(0x917)]({'where':{'_id':_0x4fb19b,'owner':_0xd3fdd0}});if(!_0x190f9b)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x190f9b[_0x21cc0c(0x2c3)]===!0x1&&!_0x190f9b[_0x21cc0c(0x311)])throw new m(_0x21cc0c(0x8c4));let _0x4e8b1e=new Set(_0x190f9b[_0x21cc0c(0x691)]??[]);_0x4e8b1e[_0x21cc0c(0x8dc)](this['instance'][_0x21cc0c(0x4d2)]);let _0x1d3e0e=await this[_0x21cc0c(0x3c6)][_0x21cc0c(0x8c7)]['updateOne'](_0x4fb19b,{..._0x190f9b,'whoCanUse':Array['from'](_0x4e8b1e)});return await this[_0x21cc0c(0x3c1)](),_0x1d3e0e;}catch(_0x212273){let _0x298eb1='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x4061ff=_0x212273 instanceof Error?_0x212273['message']:typeof _0x212273=='object'?JSON[_0x21cc0c(0x720)](_0x212273):_0x212273,_0x5a1148=_0x298eb1+':\x20'+_0x4061ff;throw this['logger']['error'](this[_0x21cc0c(0x5c4)]+'\x20('+this[_0x21cc0c(0x5ef)][_0x21cc0c(0x4d2)]+_0x21cc0c(0x878)+_0x5a1148),new m(_0x5a1148);}}[a0_0x31011a(0x86a)](_0x255e16){const _0x18f843=a0_0x31011a;let _0x5ed0ab=_0x255e16,_0x36f3b9=0x1;for(;this[_0x18f843(0x74b)]['flows'][_0x18f843(0x641)](_0x3ce885=>_0x3ce885[_0x18f843(0x3a4)]===_0x5ed0ab);)_0x36f3b9++,_0x5ed0ab=_0x255e16+'\x20('+_0x36f3b9+')';return _0x5ed0ab;}async['deleteFlow'](_0x1a2834){const _0x364960=a0_0x31011a;try{if(this['logger'][_0x364960(0x45c)](this[_0x364960(0x5c4)]+'\x20('+this[_0x364960(0x5ef)][_0x364960(0x4d2)]+_0x364960(0x621)+_0x1a2834['_id']+_0x364960(0x8cc)+_0x1a2834['global']),!this['AutomateSystem']['flows'][_0x364960(0x90d)](_0x4776db=>_0x4776db[_0x364960(0x22c)]===_0x1a2834[_0x364960(0x22c)]))throw this[_0x364960(0x843)][_0x364960(0x45c)](this[_0x364960(0x5c4)]+'\x20('+this[_0x364960(0x5ef)][_0x364960(0x4d2)]+_0x364960(0x77b)+_0x1a2834['_id']+_0x364960(0x75a)),new m(_0x364960(0x43a));let _0x329161=await this[_0x364960(0x3c6)][_0x364960(0x8c7)][_0x364960(0x917)]({'where':{'_id':_0x1a2834['_id']}});if(!_0x329161)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this['instance'][_0x364960(0x4d2)]===_0x329161[_0x364960(0x5d1)]){this[_0x364960(0x843)][_0x364960(0x45c)](this[_0x364960(0x5c4)]+'\x20('+this['instance'][_0x364960(0x4d2)]+_0x364960(0x947)+_0x1a2834[_0x364960(0x22c)]+_0x364960(0x398));let _0x148427=await this['repository'][_0x364960(0x8c7)]['deleteOne']({'where':{'_id':_0x1a2834[_0x364960(0x22c)]}});return await this[_0x364960(0x3c1)](),_0x148427;}return this[_0x364960(0x843)][_0x364960(0x45c)](this['instanceName']+'\x20('+this['instance'][_0x364960(0x4d2)]+_0x364960(0x4b4)+this[_0x364960(0x5ef)][_0x364960(0x4d2)]+_0x364960(0x217)+_0x1a2834[_0x364960(0x22c)]+_0x364960(0x59f)),_0x329161[_0x364960(0x691)]=(_0x329161[_0x364960(0x691)]??[])[_0x364960(0x497)](_0x35af09=>_0x35af09!==this[_0x364960(0x5ef)]['wuid']),_0x329161['whoCanEdit']=(_0x329161['whoCanEdit']??[])[_0x364960(0x497)](_0x2c7317=>_0x2c7317!==this[_0x364960(0x5ef)]['wuid']),_0x329161[_0x364960(0x4cb)][_0x364960(0x6f0)]===0x0&&_0x329161[_0x364960(0x691)]['length']>0x0&&(_0x329161[_0x364960(0x4cb)][_0x364960(0x3ec)](_0x329161[_0x364960(0x691)][0x0]),this[_0x364960(0x843)][_0x364960(0x45c)](this[_0x364960(0x5c4)]+'\x20('+this[_0x364960(0x5ef)]['wuid']+_0x364960(0x6d6)+_0x329161[_0x364960(0x691)][0x0]+_0x364960(0x3ea)+_0x1a2834['_id']+_0x364960(0x59f))),await this['repository']['flow']['updateOne'](_0x329161[_0x364960(0x22c)],_0x329161),await this[_0x364960(0x3c1)](),{'message':'Fluxo\x20\x27'+_0x1a2834[_0x364960(0x3a4)]+_0x364960(0x684)};}catch(_0x5a57e9){return this['logger']['error'](this[_0x364960(0x5c4)]+'\x20('+this['instance'][_0x364960(0x4d2)]+_0x364960(0x5d0)+(_0x5a57e9 instanceof Error?_0x5a57e9[_0x364960(0x852)]:JSON[_0x364960(0x720)](_0x5a57e9,null,0x2))),{'message':_0x364960(0x35c)+(_0x5a57e9 instanceof Error?_0x5a57e9[_0x364960(0x852)]:JSON[_0x364960(0x720)](_0x5a57e9,null,0x2))};}}async['getFlow'](_0x4877a5){const _0x231127=a0_0x31011a;try{if(this[_0x231127(0x843)][_0x231127(0x6d2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x231127(0x8f3)+_0x4877a5),!this[_0x231127(0x74b)]&&(await this[_0x231127(0x203)](),!this[_0x231127(0x74b)]))return null;let _0x2740b9=await this['repository'][_0x231127(0x8c7)][_0x231127(0x917)]({'where':{'_id':_0x4877a5}});if(!_0x2740b9)throw new m(_0x231127(0x616)+_0x4877a5+_0x231127(0x2b2));if(!(_0x2740b9['globalShow']||_0x2740b9[_0x231127(0x691)]?.[_0x231127(0x397)](this[_0x231127(0x5ef)][_0x231127(0x4d2)])))throw new m(_0x231127(0x730)+name+'\x27');_0x2740b9[_0x231127(0x311)]&&!_0x2740b9[_0x231127(0x691)]?.['includes'](this[_0x231127(0x5ef)]['wuid'])&&(_0x2740b9[_0x231127(0x691)]=[..._0x2740b9['whoCanUse']??[],this[_0x231127(0x5ef)]['wuid']],await this[_0x231127(0x3c6)][_0x231127(0x8c7)]['updateOne'](_0x2740b9[_0x231127(0x22c)],_0x2740b9),this[_0x231127(0x3c1)]());let _0x45cd81=this[_0x231127(0x74b)]?.[_0x231127(0x7e3)]['map'](_0x9698e4=>_0x9698e4[_0x231127(0x3a4)]),_0x24bd2b=['nome',_0x231127(0x244),_0x231127(0x5e0),'cpf',_0x231127(0x893),_0x231127(0x605),_0x231127(0x524),'tags',_0x231127(0x756),_0x231127(0x83d),_0x231127(0x6fc)];_0x2740b9[_0x231127(0x228)]=_0x2740b9[_0x231127(0x228)][_0x231127(0x497)](_0x2c5514=>!(_0x2c5514[_0x231127(0x2bb)]===_0x231127(0x564)||_0x2c5514[_0x231127(0x564)])),_0x24bd2b[_0x231127(0x201)](_0x1db94b=>{const _0x326ff5=_0x231127;_0x2740b9[_0x326ff5(0x228)][_0x326ff5(0x3ec)]({'folder':_0x326ff5(0x564),'name':_0x1db94b,'value':'','doc':'','leadInfo':!0x0});}),_0x45cd81['forEach'](_0x543f10=>{const _0x19e0b0=_0x231127;let _0x1c24ec=_0x2740b9['variables']['findIndex'](_0x511be6=>_0x511be6[_0x19e0b0(0x3a4)]===_0x543f10);_0x1c24ec===-0x1?_0x2740b9['variables'][_0x19e0b0(0x3ec)]({'folder':'leadInfo','name':_0x543f10,'value':'','doc':'','leadInfo':!0x0}):(_0x2740b9['variables'][_0x1c24ec][_0x19e0b0(0x2bb)]=_0x19e0b0(0x564),_0x2740b9[_0x19e0b0(0x228)][_0x1c24ec][_0x19e0b0(0x564)]=!0x0);}),_0x2740b9[_0x231127(0x6d1)]&&_0x2740b9[_0x231127(0x6d1)]['length']>0x0&&_0x2740b9[_0x231127(0x6d1)]['forEach'](_0x5b9c70=>{const _0x33e579=_0x231127;_0x5b9c70[_0x33e579(0x33f)]&&_0x5b9c70['next_groupId']&&_0x5b9c70[_0x33e579(0x33f)]===_0x5b9c70[_0x33e579(0x276)]&&(_0x5b9c70['next_groupId']=null);});let _0x2920aa=await this[_0x231127(0x3c6)][_0x231127(0x8c7)][_0x231127(0x449)](_0x2740b9[_0x231127(0x22c)],_0x2740b9);if(!_0x2920aa)throw new Error(_0x231127(0x5a8));return _0x2920aa;}catch(_0x4621e7){let _0x5e332a='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x969dc6=_0x4621e7 instanceof Error?_0x4621e7[_0x231127(0x852)]:typeof _0x4621e7==_0x231127(0x545)?JSON[_0x231127(0x720)](_0x4621e7):_0x4621e7,_0x1b23ab=_0x5e332a+':\x20'+_0x969dc6;throw this[_0x231127(0x843)][_0x231127(0x4e4)](this[_0x231127(0x5c4)]+'\x20('+this[_0x231127(0x5ef)]['wuid']+'):\x20'+_0x1b23ab),new m(_0x1b23ab);}}async[a0_0x31011a(0x680)](){const _0x4ce833=a0_0x31011a;try{this[_0x4ce833(0x843)]['verbose'](this['instanceName']+'\x20('+this[_0x4ce833(0x5ef)][_0x4ce833(0x4d2)]+_0x4ce833(0x662)),await this[_0x4ce833(0x3c1)]();let _0x5dfced=await this[_0x4ce833(0x3c6)][_0x4ce833(0x8c7)][_0x4ce833(0x49d)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x4ce833(0x74d)],..._0x5dfced];}catch(_0x531d3b){return this[_0x4ce833(0x843)][_0x4ce833(0x4e4)](this['instanceName']+'\x20('+this[_0x4ce833(0x5ef)]['wuid']+_0x4ce833(0x355)+(_0x531d3b instanceof Error?_0x531d3b[_0x4ce833(0x852)]:JSON[_0x4ce833(0x720)](_0x531d3b,null,0x2))),{'message':_0x4ce833(0x2ec)+(_0x531d3b instanceof Error?_0x531d3b['message']:String(_0x531d3b))};}}async[a0_0x31011a(0x47f)](_0x1dc2ab,_0x46bbcb){const _0x31c54f=a0_0x31011a;try{this['logger'][_0x31c54f(0x45c)](this[_0x31c54f(0x5c4)]+'\x20('+this['instance'][_0x31c54f(0x4d2)]+_0x31c54f(0x786));let _0x38fce3=this[_0x31c54f(0x74b)][_0x31c54f(0x74d)][_0x31c54f(0x90d)](_0x9ec09=>_0x9ec09[_0x31c54f(0x22c)]===_0x1dc2ab[_0x31c54f(0x22c)]);if(!_0x38fce3)throw this['logger'][_0x31c54f(0x45c)](this['instanceName']+'\x20('+this[_0x31c54f(0x5ef)][_0x31c54f(0x4d2)]+_0x31c54f(0x77b)+_0x1dc2ab[_0x31c54f(0x22c)]+_0x31c54f(0x75a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0xb8190d=await this[_0x31c54f(0x3c6)]['flow'][_0x31c54f(0x917)]({'where':{'_id':_0x1dc2ab['_id']}});if(!_0xb8190d||!_0xb8190d[_0x31c54f(0x691)]?.[_0x31c54f(0x397)](this['instance'][_0x31c54f(0x4d2)]))throw this['logger']['error'](this[_0x31c54f(0x5c4)]+'\x20('+this[_0x31c54f(0x5ef)]['wuid']+_0x31c54f(0x828)+_0x1dc2ab[_0x31c54f(0x22c)]+_0x31c54f(0x52f)),new m('Flow\x20\x27'+_0x1dc2ab['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x24c4ad=this[_0x31c54f(0x74b)][_0x31c54f(0x74d)]['findIndex'](_0x404355=>_0x404355['_id']===_0x38fce3[_0x31c54f(0x22c)]);if(_0x24c4ad!==-0x1){let _0x362d5b=this['AutomateSystem'][_0x31c54f(0x74d)][_0x24c4ad];if(_0x362d5b[_0x31c54f(0x3a4)]=_0x1dc2ab['name']??_0x362d5b[_0x31c54f(0x3a4)],_0x362d5b[_0x31c54f(0x20b)]=_0x1dc2ab[_0x31c54f(0x20b)]??_0x362d5b[_0x31c54f(0x20b)],_0x362d5b[_0x31c54f(0x33d)]=_0x1dc2ab['testingWith']??_0x362d5b[_0x31c54f(0x33d)],_0x362d5b['startCommand']=_0x1dc2ab[_0x31c54f(0x1ea)]??_0x362d5b['startCommand'],_0x362d5b['minutesToClose']=_0x1dc2ab[_0x31c54f(0x238)]??_0x362d5b[_0x31c54f(0x238)],_0x362d5b[_0x31c54f(0x6f2)]=_0x1dc2ab[_0x31c54f(0x6f2)]??_0x362d5b[_0x31c54f(0x6f2)],_0x1dc2ab[_0x31c54f(0x20b)]&&this['AutomateSystem'][_0x31c54f(0x74d)][_0x31c54f(0x201)]((_0x230779,_0x2c904c)=>{_0x2c904c!==_0x24c4ad&&(_0x230779['default']=!0x1);}),this[_0x31c54f(0x74b)][_0x31c54f(0x74d)][_0x24c4ad]=_0x362d5b,!await this[_0x31c54f(0x3c6)]['automateSystem']['update']({'flows':this[_0x31c54f(0x74b)][_0x31c54f(0x74d)]},this[_0x31c54f(0x5ef)][_0x31c54f(0x4d2)]))throw new m(_0x31c54f(0x70e));}let _0x4b3360=['global',_0x31c54f(0x3ef),_0x31c54f(0x842),_0x31c54f(0x8aa)];for(let _0x55d3e6 of _0x4b3360)delete _0x1dc2ab[_0x55d3e6];if(_0xb8190d[_0x31c54f(0x4cb)]?.[_0x31c54f(0x397)](this[_0x31c54f(0x5ef)][_0x31c54f(0x4d2)])||(_0x1dc2ab={'_id':_0x1dc2ab['_id']}),_0x46bbcb!==Ti&&_0x1dc2ab?.[_0x31c54f(0x311)]&&!_0xb8190d?.[_0x31c54f(0x311)])throw new m(_0x31c54f(0x288));let _0x5c9e0e=new Set(_0x1dc2ab['whoCanEdit']??_0xb8190d[_0x31c54f(0x4cb)]);_0x5c9e0e[_0x31c54f(0x8dc)](_0xb8190d['owner']);let _0x54fba3=new Set(_0x1dc2ab[_0x31c54f(0x691)]??_0xb8190d['whoCanUse']??[]);_0x5c9e0e[_0x31c54f(0x201)](_0x2a3f10=>_0x54fba3['add'](_0x2a3f10)),_0x54fba3[_0x31c54f(0x8dc)](_0xb8190d[_0x31c54f(0x5d1)]),this[_0x31c54f(0x843)][_0x31c54f(0x45c)](this['instanceName']+'\x20('+this[_0x31c54f(0x5ef)][_0x31c54f(0x4d2)]+_0x31c54f(0x940)+Array[_0x31c54f(0x370)](_0x5c9e0e)),this[_0x31c54f(0x843)][_0x31c54f(0x45c)](this['instanceName']+'\x20('+this[_0x31c54f(0x5ef)][_0x31c54f(0x4d2)]+_0x31c54f(0x234)+Array[_0x31c54f(0x370)](_0x54fba3));let _0x8ff49a=await this[_0x31c54f(0x473)](Array[_0x31c54f(0x370)](_0x54fba3)),_0x16508d=Array[_0x31c54f(0x370)](_0x5c9e0e)['filter'](_0x579bc8=>_0x8ff49a[_0x31c54f(0x397)](_0x579bc8)),_0x3f31f2=Array[_0x31c54f(0x370)](_0x54fba3)[_0x31c54f(0x497)](_0x227ed0=>_0x8ff49a[_0x31c54f(0x397)](_0x227ed0));this[_0x31c54f(0x843)][_0x31c54f(0x45c)](this[_0x31c54f(0x5c4)]+'\x20('+this['instance'][_0x31c54f(0x4d2)]+_0x31c54f(0x636)+_0x16508d),this[_0x31c54f(0x843)][_0x31c54f(0x45c)](this[_0x31c54f(0x5c4)]+'\x20('+this[_0x31c54f(0x5ef)][_0x31c54f(0x4d2)]+_0x31c54f(0x62d)+_0x3f31f2);let _0x1ca1fd={..._0xb8190d,..._0x1dc2ab,'whoCanEdit':_0x16508d,'whoCanUse':_0x3f31f2},_0x613ad=await this[_0x31c54f(0x3c6)]['flow']['updateOne'](_0xb8190d[_0x31c54f(0x22c)],_0x1ca1fd);return await this['synchronizeAndMapFlows'](),_0x613ad;}catch(_0x1d87a6){let _0x250998=_0x31c54f(0x61e),_0x237130=_0x1d87a6 instanceof Error?_0x1d87a6['message']:typeof _0x1d87a6==_0x31c54f(0x545)?JSON[_0x31c54f(0x720)](_0x1d87a6):_0x1d87a6,_0x1205c6=_0x250998+':\x20'+_0x237130;throw this[_0x31c54f(0x843)][_0x31c54f(0x4e4)](this[_0x31c54f(0x5c4)]+'\x20('+this[_0x31c54f(0x5ef)][_0x31c54f(0x4d2)]+_0x31c54f(0x878)+_0x1205c6),new m(_0x1205c6);}}async['getValidWhatsAppNumbers'](_0x4556b9){const _0x627746=a0_0x31011a;let _0x2dd1b6={'numbers':_0x4556b9};return(await this[_0x627746(0x2f2)](_0x2dd1b6))[_0x627746(0x497)](_0x651b68=>_0x651b68['exists'])[_0x627746(0x74c)](_0x34defd=>_0x34defd[_0x627746(0x7a1)])[_0x627746(0x74c)](_0x3d37e4=>this[_0x627746(0x834)](_0x3d37e4));}[a0_0x31011a(0x834)](_0x1c6c7c){const _0x279ed4=a0_0x31011a;let _0x3c0bf5=_0x1c6c7c[_0x279ed4(0x26b)](/\d+/);return _0x3c0bf5?_0x3c0bf5[0x0]:'';}async[a0_0x31011a(0x754)](_0x17fefc){const _0x38d547=a0_0x31011a;try{if(this[_0x38d547(0x843)][_0x38d547(0x45c)](this[_0x38d547(0x5c4)]+'\x20('+this[_0x38d547(0x5ef)][_0x38d547(0x4d2)]+_0x38d547(0x83c)),!this[_0x38d547(0x74b)][_0x38d547(0x74d)]['find'](_0x46f6b4=>_0x46f6b4[_0x38d547(0x22c)]===_0x17fefc[_0x38d547(0x22c)]))throw this[_0x38d547(0x843)][_0x38d547(0x45c)](this[_0x38d547(0x5c4)]+'\x20('+this[_0x38d547(0x5ef)][_0x38d547(0x4d2)]+'):\x20Fluxo\x20\x27'+_0x17fefc[_0x38d547(0x22c)]+_0x38d547(0x75a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x554fdb=await this[_0x38d547(0x3c6)][_0x38d547(0x8c7)][_0x38d547(0x917)]({'where':{'_id':_0x17fefc['_id']}});if(!_0x554fdb||!_0x554fdb[_0x38d547(0x691)]?.['includes'](this[_0x38d547(0x5ef)][_0x38d547(0x4d2)]))throw this[_0x38d547(0x843)][_0x38d547(0x4e4)](this[_0x38d547(0x5c4)]+'\x20('+this[_0x38d547(0x5ef)][_0x38d547(0x4d2)]+_0x38d547(0x828)+_0x17fefc['_id']+_0x38d547(0x52f)),new m(_0x38d547(0x7ac)+_0x17fefc[_0x38d547(0x22c)]+_0x38d547(0x52f));if(!_0x554fdb[_0x38d547(0x4cb)]?.[_0x38d547(0x397)](this[_0x38d547(0x5ef)]['wuid']))throw new m(_0x38d547(0x277));let {block:_0x451ec2}=_0x17fefc;_0x451ec2?.['copy']?this[_0x38d547(0x7a2)](_0x554fdb,_0x17fefc):_0x451ec2?.[_0x38d547(0x606)]?this['deleteBlock'](_0x554fdb,_0x17fefc):_0x451ec2[_0x38d547(0x22c)]?await this[_0x38d547(0x52d)](_0x554fdb,_0x17fefc):this['addBlock'](_0x554fdb,_0x17fefc);let _0x16e22a=await this['repository'][_0x38d547(0x8c7)][_0x38d547(0x449)](_0x554fdb['_id'],_0x554fdb);if(!_0x16e22a)throw new Error(_0x38d547(0x5a8));return _0x16e22a;}catch(_0x4d2372){this[_0x38d547(0x261)](_0x38d547(0x7d7)+_0x4d2372['message']);}}async[a0_0x31011a(0x7a2)](_0x19db05,_0x5158b2){const _0x46d6bd=a0_0x31011a;let _0x2123ff=_0x5158b2['block'][_0x46d6bd(0x22c)],_0x3517dd=_0x19db05[_0x46d6bd(0x6d1)]['find'](_0x995a36=>_0x995a36[_0x46d6bd(0x22c)][_0x46d6bd(0x45e)]()===_0x2123ff);if(!_0x3517dd){this[_0x46d6bd(0x843)][_0x46d6bd(0x4e4)](this[_0x46d6bd(0x5c4)]+'\x20('+this[_0x46d6bd(0x5ef)]['wuid']+'):\x20Bloco\x20com\x20ID\x20'+_0x2123ff+_0x46d6bd(0x365));return;}this['logger']['verbose'](this[_0x46d6bd(0x5c4)]+'\x20('+this[_0x46d6bd(0x5ef)]['wuid']+_0x46d6bd(0x309)+JSON[_0x46d6bd(0x720)](_0x3517dd));let _0x528866=JSON[_0x46d6bd(0x25b)](JSON[_0x46d6bd(0x720)](_0x3517dd));_0x528866[_0x46d6bd(0x22c)]=new me[(_0x46d6bd(0x20b))][(_0x46d6bd(0x507))][(_0x46d6bd(0x853))](),this['logger'][_0x46d6bd(0x45c)](this[_0x46d6bd(0x5c4)]+'\x20('+this[_0x46d6bd(0x5ef)][_0x46d6bd(0x4d2)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x46d6bd(0x720)](_0x528866)),_0x19db05[_0x46d6bd(0x6d1)][_0x46d6bd(0x3ec)](_0x528866),this[_0x46d6bd(0x27d)](_0x19db05[_0x46d6bd(0x6d1)],_0x528866[_0x46d6bd(0x33f)]);}[a0_0x31011a(0x261)](_0x21e6ed){const _0x5871b4=a0_0x31011a;throw this['logger'][_0x5871b4(0x4e4)](this[_0x5871b4(0x5c4)]+'\x20('+this['instance'][_0x5871b4(0x4d2)]+_0x5871b4(0x878)+_0x21e6ed),new m(_0x21e6ed);}[a0_0x31011a(0x31e)](_0x4c2f9b,_0x397436){const _0x58cc14=a0_0x31011a;let {block:_0x3651ab}=_0x397436;if(_0x3651ab[_0x58cc14(0x294)]==='start'){this['throwAndLogError'](_0x58cc14(0x534));return;}if(!_0x3651ab[_0x58cc14(0x22c)]){this[_0x58cc14(0x261)](_0x58cc14(0x540));return;}let _0x56b666=_0x4c2f9b[_0x58cc14(0x6d1)][_0x58cc14(0x90d)](_0x11f3a1=>_0x11f3a1['_id'][_0x58cc14(0x45e)]()===_0x397436[_0x58cc14(0x7b8)]['_id']['toString']());if(!_0x56b666){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x3651ab['_id']+_0x58cc14(0x1fe));return;}_0x4c2f9b[_0x58cc14(0x6d1)]=_0x4c2f9b[_0x58cc14(0x6d1)][_0x58cc14(0x497)](_0x389192=>_0x389192[_0x58cc14(0x22c)][_0x58cc14(0x45e)]()!==_0x397436[_0x58cc14(0x7b8)][_0x58cc14(0x22c)]['toString']()),_0x4c2f9b[_0x58cc14(0x595)]=_0x4c2f9b[_0x58cc14(0x595)][_0x58cc14(0x497)](_0x4887b5=>_0x4887b5[_0x58cc14(0x351)]!==_0x3651ab[_0x58cc14(0x22c)][_0x58cc14(0x45e)]()),_0x4c2f9b[_0x58cc14(0x4bb)]=_0x4c2f9b['varedits'][_0x58cc14(0x497)](_0x47b0eb=>_0x47b0eb[_0x58cc14(0x351)]!==_0x3651ab[_0x58cc14(0x22c)]['toString']()),_0x4c2f9b[_0x58cc14(0x5da)]=_0x4c2f9b[_0x58cc14(0x5da)][_0x58cc14(0x497)](_0x70decc=>_0x70decc['blockId']!==_0x3651ab[_0x58cc14(0x22c)][_0x58cc14(0x45e)]()),this[_0x58cc14(0x27d)](_0x4c2f9b[_0x58cc14(0x6d1)],_0x56b666[_0x58cc14(0x33f)]);}async[a0_0x31011a(0x52d)](_0x5d8232,_0x3de686){const _0x52171d=a0_0x31011a;let _0x1a9a38=_0x5d8232['blocks'][_0x52171d(0x421)](_0x137525=>_0x137525['_id'][_0x52171d(0x45e)]()===_0x3de686[_0x52171d(0x7b8)][_0x52171d(0x22c)][_0x52171d(0x45e)]());if(this[_0x52171d(0x843)][_0x52171d(0x45c)](this['instanceName']+'\x20('+this[_0x52171d(0x5ef)][_0x52171d(0x4d2)]+_0x52171d(0x71f)+_0x1a9a38),_0x1a9a38===-0x1){this[_0x52171d(0x843)][_0x52171d(0x45c)](_0x52171d(0x40b)+_0x3de686[_0x52171d(0x7b8)][_0x52171d(0x22c)]+_0x52171d(0x2ab));return;}if(_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x294)]===_0x52171d(0x262)){let _0x477a4a=Object[_0x52171d(0x31f)](_0x3de686[_0x52171d(0x7b8)]);if(_0x477a4a[_0x52171d(0x6f0)]>0x2||_0x477a4a[_0x52171d(0x6f0)]===0x2&&!_0x477a4a['includes'](_0x52171d(0x276))){this['throwAndLogError'](_0x52171d(0x6aa));return;}}let _0x264746=_0x5d8232['blocks'][_0x1a9a38][_0x52171d(0x33f)];for(let _0x532159 in _0x3de686['block'])_0x3de686['block'][_0x52171d(0x42a)](_0x532159)&&(_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x532159]=_0x3de686['block'][_0x532159]);if(this[_0x52171d(0x843)][_0x52171d(0x45c)](this[_0x52171d(0x5c4)]+'\x20('+this[_0x52171d(0x5ef)][_0x52171d(0x4d2)]+_0x52171d(0x308)+JSON[_0x52171d(0x720)](_0x5d8232['blocks'][_0x1a9a38])),_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x6e4)]&&_0x52171d(0x703)in _0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x6e4)]){this[_0x52171d(0x843)][_0x52171d(0x45c)](this['instanceName']+'\x20('+this[_0x52171d(0x5ef)][_0x52171d(0x4d2)]+_0x52171d(0x3e0));let _0x3c1b9e=JSON[_0x52171d(0x720)](_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x6e4)][_0x52171d(0x703)],null,0x1);_0x3c1b9e[_0x52171d(0x6f0)]>0x2&&(_0x3c1b9e=_0x3c1b9e[_0x52171d(0x65a)](0x1,_0x3c1b9e[_0x52171d(0x6f0)]-0x1)[_0x52171d(0x44d)]()),_0x5d8232['blocks'][_0x1a9a38][_0x52171d(0x6e4)]['headerString']=_0x3c1b9e;}if(_0x5d8232['blocks'][_0x1a9a38][_0x52171d(0x6e4)]&&_0x52171d(0x8e9)in _0x5d8232['blocks'][_0x1a9a38][_0x52171d(0x6e4)]&&!(_0x52171d(0x7d1)in _0x5d8232['blocks'][_0x1a9a38][_0x52171d(0x6e4)])){this[_0x52171d(0x843)][_0x52171d(0x45c)](this['instanceName']+'\x20('+this['instance'][_0x52171d(0x4d2)]+_0x52171d(0x6c5)),_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x6e4)][_0x52171d(0x20e)]=!0x1;let _0x4d8e01=JSON[_0x52171d(0x720)](_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38]['apirequest'][_0x52171d(0x8e9)],null,0x2);_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x6e4)]['bodyString']=_0x4d8e01;}if(_0x5d8232['blocks'][_0x1a9a38][_0x52171d(0x6e4)]&&_0x52171d(0x7d1)in _0x5d8232['blocks'][_0x1a9a38][_0x52171d(0x6e4)]){_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x6e4)][_0x52171d(0x20e)]=!0x1;let _0x4ad504=_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38]['apirequest'][_0x52171d(0x7d1)],_0x117f09=this[_0x52171d(0x4bd)](_0x4ad504);_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38]['apirequest'][_0x52171d(0x7d1)]=_0x117f09[_0x52171d(0x7e5)],_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38][_0x52171d(0x6e4)]['bodyStringErrorParse']=_0x117f09[_0x52171d(0x4e4)];}let _0xe893f2=_0x5d8232[_0x52171d(0x6d1)][_0x1a9a38]['groupId'];_0x264746!==_0xe893f2?(this[_0x52171d(0x27d)](_0x5d8232[_0x52171d(0x6d1)],_0x264746),this[_0x52171d(0x27d)](_0x5d8232[_0x52171d(0x6d1)],_0xe893f2)):this[_0x52171d(0x27d)](_0x5d8232[_0x52171d(0x6d1)],_0x264746);}[a0_0x31011a(0x4bd)](_0x5a426a){const _0x20fd89=a0_0x31011a;let _0x26224e='\u205f',_0x1a8b2e=!0x1,_0x33631a='';for(let _0x5cac91=0x0;_0x5cac91<_0x5a426a[_0x20fd89(0x6f0)];_0x5cac91++){let _0x851e1d=_0x5a426a[_0x5cac91];_0x851e1d==='\x22'&&(_0x5cac91===0x0||_0x5a426a[_0x5cac91-0x1]!=='\x5c')&&(_0x1a8b2e=!_0x1a8b2e),!(!_0x1a8b2e&&(_0x851e1d==='\x0a'||_0x851e1d==='\x20'||_0x851e1d===_0x26224e))&&(_0x33631a+=_0x851e1d);}let _0x1065bf={},_0x43202e=9876543210.1234,_0x2083a5=_0x33631a['replace'](/\{\{([^}]+)\}\}/g,_0x148d9a=>{let _0x124b63=_0x148d9a,_0xd2c948=''+_0x43202e;return _0x1065bf[_0xd2c948]=_0x124b63,_0x43202e+=0.0001,_0xd2c948;}),_0x806677='',_0x31f480=!0x1;try{let _0x44d39a=JSON[_0x20fd89(0x25b)](_0x2083a5);_0x806677=JSON['stringify'](_0x44d39a,null,0x2),_0x806677=_0x806677['replace'](/\n( +)/g,(_0x42cd5d,_0x571a78)=>{const _0x15e2cd=_0x20fd89;let _0x4f6308=_0x571a78['length'];return'\x0a'+_0x26224e[_0x15e2cd(0x91b)](_0x4f6308*0x2);}),_0x806677=_0x806677[_0x20fd89(0x929)](/(\d{10,}\.\d+)/g,_0x2b3569=>_0x1065bf[_0x2b3569]||_0x2b3569);}catch(_0x233c13){this[_0x20fd89(0x843)]['error'](_0x20fd89(0x918)+_0x233c13),_0x806677=_0x5a426a,_0x31f480=!0x0;}return{'result':_0x806677,'error':_0x31f480};}[a0_0x31011a(0x385)](_0x285f4b,_0x29f272){const _0xbbfcb0=a0_0x31011a;if(_0x29f272[_0xbbfcb0(0x7b8)]['type']===_0xbbfcb0(0x262)){this['throwAndLogError'](_0xbbfcb0(0x569));return;}if(_0x29f272[_0xbbfcb0(0x7b8)][_0xbbfcb0(0x6e4)]&&_0xbbfcb0(0x703)in _0x29f272['block'][_0xbbfcb0(0x6e4)]){this[_0xbbfcb0(0x843)][_0xbbfcb0(0x45c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xbbfcb0(0x3e0));let _0x229fa1=JSON['stringify'](_0x29f272[_0xbbfcb0(0x7b8)][_0xbbfcb0(0x6e4)][_0xbbfcb0(0x703)],null,0x1);_0x229fa1[_0xbbfcb0(0x6f0)]>0x2&&(_0x229fa1=_0x229fa1[_0xbbfcb0(0x65a)](0x1,_0x229fa1[_0xbbfcb0(0x6f0)]-0x1)[_0xbbfcb0(0x44d)]()),_0x29f272['block'][_0xbbfcb0(0x6e4)][_0xbbfcb0(0x28c)]=_0x229fa1;}_0x29f272[_0xbbfcb0(0x7b8)][_0xbbfcb0(0x6e4)]&&_0xbbfcb0(0x8e9)in _0x29f272[_0xbbfcb0(0x7b8)][_0xbbfcb0(0x6e4)]&&(this[_0xbbfcb0(0x843)][_0xbbfcb0(0x45c)](this[_0xbbfcb0(0x5c4)]+'\x20('+this[_0xbbfcb0(0x5ef)][_0xbbfcb0(0x4d2)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x29f272[_0xbbfcb0(0x7b8)]['apirequest'][_0xbbfcb0(0x7d1)]=JSON[_0xbbfcb0(0x720)](_0x29f272['block'][_0xbbfcb0(0x6e4)][_0xbbfcb0(0x8e9)],null,0x1)[_0xbbfcb0(0x44d)]()),_0x285f4b['blocks'][_0xbbfcb0(0x3ec)](_0x29f272[_0xbbfcb0(0x7b8)]),this[_0xbbfcb0(0x27d)](_0x285f4b[_0xbbfcb0(0x6d1)],_0x29f272[_0xbbfcb0(0x7b8)][_0xbbfcb0(0x33f)]);}[a0_0x31011a(0x27d)](_0x42d59,_0xf4b6a5){const _0x287567=a0_0x31011a;let _0x925c3b=_0x42d59[_0x287567(0x497)](_0xb1bb05=>_0xb1bb05['groupId']===_0xf4b6a5);_0x925c3b[_0x287567(0x357)]((_0x11a36e,_0x287f3b)=>_0x11a36e['order']-_0x287f3b[_0x287567(0x3fb)]),_0x925c3b[_0x287567(0x201)]((_0x38c2c1,_0x518a05)=>_0x38c2c1[_0x287567(0x3fb)]=_0x518a05+0x1);}async[a0_0x31011a(0x926)](_0x90ea57){const _0x189ade=a0_0x31011a;try{if(this[_0x189ade(0x843)][_0x189ade(0x45c)](this[_0x189ade(0x5c4)]+'\x20('+this['instance'][_0x189ade(0x4d2)]+_0x189ade(0x687)),!_0x90ea57||!_0x90ea57[_0x189ade(0x8fc)]){this[_0x189ade(0x261)](_0x189ade(0x3c3));return;}if(!this['AutomateSystem'][_0x189ade(0x74d)][_0x189ade(0x90d)](_0x2d291f=>_0x2d291f[_0x189ade(0x22c)]===_0x90ea57['_id']))throw this[_0x189ade(0x843)]['verbose'](this[_0x189ade(0x5c4)]+'\x20('+this[_0x189ade(0x5ef)][_0x189ade(0x4d2)]+'):\x20Fluxo\x20\x27'+_0x90ea57[_0x189ade(0x22c)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4b0eb5=await this[_0x189ade(0x3c6)][_0x189ade(0x8c7)][_0x189ade(0x917)]({'where':{'_id':_0x90ea57[_0x189ade(0x22c)]}});if(!_0x4b0eb5||!_0x4b0eb5[_0x189ade(0x691)]?.[_0x189ade(0x397)](this[_0x189ade(0x5ef)][_0x189ade(0x4d2)]))throw this[_0x189ade(0x843)]['error'](this[_0x189ade(0x5c4)]+'\x20('+this[_0x189ade(0x5ef)]['wuid']+'):\x20Flow\x20\x27'+_0x90ea57['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x189ade(0x7ac)+_0x90ea57[_0x189ade(0x22c)]+_0x189ade(0x52f));if(!_0x4b0eb5[_0x189ade(0x4cb)]?.[_0x189ade(0x397)](this[_0x189ade(0x5ef)][_0x189ade(0x4d2)]))throw new m(_0x189ade(0x277));let {replyOption:_0x2fa8e5}=_0x90ea57;_0x2fa8e5?.[_0x189ade(0x606)]?(this[_0x189ade(0x898)](_0x4b0eb5,_0x90ea57),this[_0x189ade(0x4bc)](_0x4b0eb5['replyOptions'],_0x90ea57[_0x189ade(0x8fc)][_0x189ade(0x351)])):_0x2fa8e5[_0x189ade(0x22c)]?(await this['updateReplyOption'](_0x4b0eb5,_0x90ea57),this[_0x189ade(0x4bc)](_0x4b0eb5[_0x189ade(0x5da)],_0x90ea57[_0x189ade(0x8fc)]['blockId'])):(this[_0x189ade(0x814)](_0x4b0eb5,_0x90ea57),this[_0x189ade(0x4bc)](_0x4b0eb5[_0x189ade(0x5da)],_0x90ea57[_0x189ade(0x8fc)][_0x189ade(0x351)]));let _0x1c8021=await this[_0x189ade(0x3c6)][_0x189ade(0x8c7)][_0x189ade(0x449)](_0x4b0eb5[_0x189ade(0x22c)],_0x4b0eb5);if(!_0x1c8021)throw new Error(_0x189ade(0x5a8));return _0x1c8021;}catch(_0x2f0cdc){this[_0x189ade(0x261)](_0x189ade(0x8f6)+_0x2f0cdc);}}['reorderReplyOptions'](_0x147a34,_0x57c927){const _0x59f5e0=a0_0x31011a;_0x147a34[_0x59f5e0(0x201)](_0x3210b5=>{const _0x333e1b=_0x59f5e0;_0x3210b5[_0x333e1b(0x351)]===_0x57c927&&_0x3210b5['order']===void 0x0&&(_0x3210b5[_0x333e1b(0x3fb)]=0x270f);});let _0xc3fc61=_0x147a34['filter'](_0x158c12=>_0x158c12[_0x59f5e0(0x351)]===_0x57c927);_0xc3fc61[_0x59f5e0(0x357)]((_0xc00e85,_0x31dd9c)=>_0xc00e85[_0x59f5e0(0x3fb)]-_0x31dd9c[_0x59f5e0(0x3fb)]),_0xc3fc61[_0x59f5e0(0x201)]((_0x31b83d,_0x5eb7e1)=>{const _0x38aef2=_0x59f5e0;_0x31b83d[_0x38aef2(0x3fb)]=_0x5eb7e1+0x1;}),_0x147a34['forEach'](_0x2e5f86=>{const _0x3f62cd=_0x59f5e0;if(_0x2e5f86['blockId']===_0x57c927){let _0x2ba10a=_0xc3fc61[_0x3f62cd(0x90d)](_0xb55a52=>_0xb55a52[_0x3f62cd(0x22c)]&&_0x2e5f86['_id']&&_0xb55a52[_0x3f62cd(0x22c)][_0x3f62cd(0x45e)]()===_0x2e5f86[_0x3f62cd(0x22c)][_0x3f62cd(0x45e)]());_0x2ba10a&&(_0x2e5f86[_0x3f62cd(0x3fb)]=_0x2ba10a[_0x3f62cd(0x3fb)]);}});}[a0_0x31011a(0x898)](_0x1b42a1,_0x101872){const _0x30222d=a0_0x31011a;let {replyOption:_0x45e5d4}=_0x101872;if(!_0x45e5d4['_id']){this[_0x30222d(0x261)](_0x30222d(0x600));return;}if(!_0x1b42a1[_0x30222d(0x5da)][_0x30222d(0x90d)](_0x588e43=>_0x588e43[_0x30222d(0x22c)][_0x30222d(0x45e)]()===_0x101872[_0x30222d(0x8fc)]['_id'][_0x30222d(0x45e)]())){this[_0x30222d(0x261)](_0x30222d(0x525)+_0x45e5d4[_0x30222d(0x22c)]+_0x30222d(0x1fe));return;}_0x1b42a1['replyOptions']=_0x1b42a1['replyOptions'][_0x30222d(0x497)](_0x1a04ba=>_0x1a04ba[_0x30222d(0x22c)][_0x30222d(0x45e)]()!==_0x101872[_0x30222d(0x8fc)][_0x30222d(0x22c)][_0x30222d(0x45e)]());}async[a0_0x31011a(0x28a)](_0x2bdc77,_0x490cee){const _0x534e71=a0_0x31011a;let _0x2d751b=_0x2bdc77['replyOptions'][_0x534e71(0x421)](_0x3e3c75=>_0x3e3c75['_id'][_0x534e71(0x45e)]()===_0x490cee['replyOption'][_0x534e71(0x22c)][_0x534e71(0x45e)]());if(_0x2d751b===-0x1){this[_0x534e71(0x261)](_0x534e71(0x525)+_0x490cee[_0x534e71(0x8fc)][_0x534e71(0x22c)]+_0x534e71(0x2ab));return;}for(let _0x36b1d1 in _0x490cee['replyOption'])_0x490cee[_0x534e71(0x8fc)][_0x534e71(0x42a)](_0x36b1d1)&&(_0x2bdc77[_0x534e71(0x5da)][_0x2d751b][_0x36b1d1]=_0x490cee[_0x534e71(0x8fc)][_0x36b1d1]);}[a0_0x31011a(0x814)](_0x4796ae,_0x3a7e98){const _0x490a81=a0_0x31011a;_0x4796ae[_0x490a81(0x5da)][_0x490a81(0x3ec)](_0x3a7e98[_0x490a81(0x8fc)]);}async[a0_0x31011a(0x557)](_0x1571e5){const _0x175522=a0_0x31011a;this[_0x175522(0x843)][_0x175522(0x45c)](this[_0x175522(0x5c4)]+'\x20('+this[_0x175522(0x5ef)]['wuid']+_0x175522(0x3de)+JSON[_0x175522(0x720)](_0x1571e5,null,0x2));try{if(this[_0x175522(0x843)][_0x175522(0x45c)](this[_0x175522(0x5c4)]+'\x20('+this[_0x175522(0x5ef)]['wuid']+_0x175522(0x797)),!this['AutomateSystem'][_0x175522(0x74d)][_0x175522(0x90d)](_0x3356d1=>_0x3356d1[_0x175522(0x22c)]===_0x1571e5[_0x175522(0x22c)]))throw this[_0x175522(0x843)]['verbose'](this[_0x175522(0x5c4)]+'\x20('+this[_0x175522(0x5ef)][_0x175522(0x4d2)]+'):\x20Fluxo\x20\x27'+_0x1571e5['_id']+_0x175522(0x75a)),new m(_0x175522(0x43a));let _0x298110=await this[_0x175522(0x3c6)][_0x175522(0x8c7)][_0x175522(0x917)]({'where':{'_id':_0x1571e5[_0x175522(0x22c)]}});if(!_0x298110||!_0x298110['whoCanUse']?.['includes'](this['instance'][_0x175522(0x4d2)]))throw this['logger'][_0x175522(0x4e4)](this[_0x175522(0x5c4)]+'\x20('+this[_0x175522(0x5ef)][_0x175522(0x4d2)]+_0x175522(0x828)+_0x1571e5[_0x175522(0x22c)]+_0x175522(0x52f)),new m(_0x175522(0x7ac)+_0x1571e5[_0x175522(0x22c)]+_0x175522(0x52f));if(!_0x298110['whoCanEdit']?.[_0x175522(0x397)](this[_0x175522(0x5ef)][_0x175522(0x4d2)]))throw new m(_0x175522(0x277));if(_0x1571e5[_0x175522(0x7ce)]&&_0x1571e5[_0x175522(0x7ce)]?.[_0x175522(0x606)]===!0x0){if(this['logger'][_0x175522(0x45c)](this[_0x175522(0x5c4)]+'\x20('+this[_0x175522(0x5ef)][_0x175522(0x4d2)]+_0x175522(0x522)),_0x1571e5[_0x175522(0x7ce)]['default']===!0x0)return{'message':_0x175522(0x1df)};if(_0x298110['blocks']['some'](_0x492879=>_0x492879[_0x175522(0x33f)][_0x175522(0x45e)]()===_0x1571e5[_0x175522(0x7ce)]['_id']))return this[_0x175522(0x843)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x175522(0x4d2)]+_0x175522(0x543)),{'message':_0x175522(0x5e2)};_0x298110[_0x175522(0x6f8)]=_0x298110[_0x175522(0x6f8)][_0x175522(0x497)](_0x504bb5=>_0x504bb5[_0x175522(0x22c)][_0x175522(0x45e)]()!==_0x1571e5[_0x175522(0x7ce)][_0x175522(0x22c)]);}else{if(_0x1571e5[_0x175522(0x7ce)]){if(_0x1571e5[_0x175522(0x7ce)][_0x175522(0x20b)]===!0x0)return{'message':_0x175522(0x62f)};if(_0x1571e5[_0x175522(0x7ce)][_0x175522(0x22c)]){let _0x1876ca=_0x298110['groups'][_0x175522(0x90d)](_0x31edfd=>_0x31edfd[_0x175522(0x22c)][_0x175522(0x45e)]()===_0x1571e5[_0x175522(0x7ce)][_0x175522(0x22c)]);_0x1876ca&&(_0x1571e5[_0x175522(0x7ce)]['x']<0x0&&(_0x1571e5[_0x175522(0x7ce)]['x']=0x0),_0x1571e5[_0x175522(0x7ce)]['y']<0x0&&(_0x1571e5['group']['y']=0x0),Object[_0x175522(0x34a)](_0x1876ca,_0x1571e5['group']));}else _0x298110[_0x175522(0x6f8)][_0x175522(0x3ec)](_0x1571e5[_0x175522(0x7ce)]);}}let _0x4f3e07=await this[_0x175522(0x3c6)]['flow'][_0x175522(0x449)](_0x298110[_0x175522(0x22c)],_0x298110);if(!_0x4f3e07)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4f3e07;}catch(_0x282728){let _0x561c2b=_0x175522(0x279),_0x3f1578=_0x282728 instanceof Error?_0x282728['message']:typeof _0x282728=='object'?JSON['stringify'](_0x282728):_0x282728,_0x3ee0d6=_0x561c2b+':\x20'+_0x3f1578;throw this[_0x175522(0x843)][_0x175522(0x4e4)](this[_0x175522(0x5c4)]+'\x20('+this['instance']['wuid']+_0x175522(0x878)+_0x3ee0d6),new m(_0x3ee0d6);}}async[a0_0x31011a(0x485)](_0x35f5c7){const _0xb9f9fe=a0_0x31011a;try{if(this[_0xb9f9fe(0x843)][_0xb9f9fe(0x45c)](this[_0xb9f9fe(0x5c4)]+'\x20('+this[_0xb9f9fe(0x5ef)][_0xb9f9fe(0x4d2)]+_0xb9f9fe(0x35a)),!this[_0xb9f9fe(0x74b)][_0xb9f9fe(0x74d)][_0xb9f9fe(0x90d)](_0x124907=>_0x124907[_0xb9f9fe(0x22c)]===_0x35f5c7[_0xb9f9fe(0x22c)]))throw this[_0xb9f9fe(0x843)][_0xb9f9fe(0x45c)](this['instanceName']+'\x20('+this[_0xb9f9fe(0x5ef)]['wuid']+_0xb9f9fe(0x77b)+_0x35f5c7[_0xb9f9fe(0x22c)]+_0xb9f9fe(0x75a)),new m(_0xb9f9fe(0x43a));let _0x3c6878=await this[_0xb9f9fe(0x3c6)][_0xb9f9fe(0x8c7)]['findOne']({'where':{'_id':_0x35f5c7['_id']}});if(!_0x3c6878||!_0x3c6878[_0xb9f9fe(0x691)]?.[_0xb9f9fe(0x397)](this[_0xb9f9fe(0x5ef)][_0xb9f9fe(0x4d2)]))throw this['logger'][_0xb9f9fe(0x4e4)](this[_0xb9f9fe(0x5c4)]+'\x20('+this[_0xb9f9fe(0x5ef)][_0xb9f9fe(0x4d2)]+_0xb9f9fe(0x828)+_0x35f5c7[_0xb9f9fe(0x22c)]+_0xb9f9fe(0x52f)),new m(_0xb9f9fe(0x7ac)+_0x35f5c7[_0xb9f9fe(0x22c)]+_0xb9f9fe(0x52f));if(!_0x3c6878[_0xb9f9fe(0x4cb)]?.[_0xb9f9fe(0x397)](this[_0xb9f9fe(0x5ef)][_0xb9f9fe(0x4d2)]))throw new m(_0xb9f9fe(0x277));let _0x250ddc=!0x1;if(_0x35f5c7['condition']?.[_0xb9f9fe(0x606)]===!0x0)_0x3c6878['conditions']=_0x3c6878[_0xb9f9fe(0x595)]['filter'](_0x1a9134=>_0x1a9134&&_0x35f5c7[_0xb9f9fe(0x4c7)]&&_0x1a9134[_0xb9f9fe(0x22c)]&&_0x35f5c7[_0xb9f9fe(0x4c7)][_0xb9f9fe(0x22c)]&&_0x1a9134[_0xb9f9fe(0x22c)][_0xb9f9fe(0x45e)]()!==_0x35f5c7[_0xb9f9fe(0x4c7)]['_id']['toString']()),_0x250ddc=!0x0;else{let _0x21f1e9=_0x3c6878[_0xb9f9fe(0x595)][_0xb9f9fe(0x90d)](_0x438523=>_0x438523&&_0x35f5c7[_0xb9f9fe(0x4c7)]&&_0x438523[_0xb9f9fe(0x22c)]&&_0x35f5c7[_0xb9f9fe(0x4c7)][_0xb9f9fe(0x22c)]&&_0x438523[_0xb9f9fe(0x22c)][_0xb9f9fe(0x45e)]()===_0x35f5c7[_0xb9f9fe(0x4c7)][_0xb9f9fe(0x22c)][_0xb9f9fe(0x45e)]());_0x21f1e9?(_0x250ddc=_0x21f1e9[_0xb9f9fe(0x3fb)]!==_0x35f5c7[_0xb9f9fe(0x4c7)]['order'],Object[_0xb9f9fe(0x34a)](_0x21f1e9,_0x35f5c7[_0xb9f9fe(0x4c7)])):(_0x3c6878[_0xb9f9fe(0x595)][_0xb9f9fe(0x3ec)](_0x35f5c7[_0xb9f9fe(0x4c7)]),_0x250ddc=!0x0);}if(_0x250ddc){_0x3c6878['conditions'][_0xb9f9fe(0x357)]((_0x198429,_0x41d9b7)=>_0x198429[_0xb9f9fe(0x3fb)]>_0x41d9b7[_0xb9f9fe(0x3fb)]?0x1:_0x41d9b7[_0xb9f9fe(0x3fb)]>_0x198429['order']?-0x1:0x0);for(let _0x13f9a0=0x0;_0x13f9a0<_0x3c6878[_0xb9f9fe(0x595)]['length'];_0x13f9a0++)_0x3c6878[_0xb9f9fe(0x595)][_0x13f9a0][_0xb9f9fe(0x3fb)]=_0x13f9a0+0x1;_0x3c6878[_0xb9f9fe(0x595)][_0xb9f9fe(0x6f0)]>0x0&&(_0x3c6878[_0xb9f9fe(0x595)][0x0][_0xb9f9fe(0x943)]=_0xb9f9fe(0x5ff));}let _0x50a3a0=await this[_0xb9f9fe(0x3c6)][_0xb9f9fe(0x8c7)][_0xb9f9fe(0x449)](_0x3c6878[_0xb9f9fe(0x22c)],_0x3c6878);if(!_0x50a3a0)throw new Error(_0xb9f9fe(0x5a8));return _0x50a3a0;}catch(_0x230910){let _0x336469=_0xb9f9fe(0x697),_0x1e7749=_0x230910 instanceof Error?_0x230910[_0xb9f9fe(0x852)]:typeof _0x230910==_0xb9f9fe(0x545)?JSON[_0xb9f9fe(0x720)](_0x230910):_0x230910,_0x8cda01=_0x336469+':\x20'+_0x1e7749;throw this[_0xb9f9fe(0x843)]['error'](this['instanceName']+'\x20('+this[_0xb9f9fe(0x5ef)][_0xb9f9fe(0x4d2)]+_0xb9f9fe(0x878)+_0x8cda01),new m(_0x8cda01);}}async[a0_0x31011a(0x825)](_0x32cf7b){const _0x4ad365=a0_0x31011a;try{if(this[_0x4ad365(0x843)][_0x4ad365(0x45c)](this[_0x4ad365(0x5c4)]+'\x20('+this['instance'][_0x4ad365(0x4d2)]+_0x4ad365(0x28f)),!this[_0x4ad365(0x74b)][_0x4ad365(0x74d)][_0x4ad365(0x90d)](_0xb20b15=>_0xb20b15[_0x4ad365(0x22c)]===_0x32cf7b[_0x4ad365(0x22c)]))throw this[_0x4ad365(0x843)]['verbose'](this[_0x4ad365(0x5c4)]+'\x20('+this[_0x4ad365(0x5ef)]['wuid']+_0x4ad365(0x77b)+_0x32cf7b[_0x4ad365(0x22c)]+'\x27\x20não\x20encontrado'),new m(_0x4ad365(0x43a));let _0xd4f63e=await this[_0x4ad365(0x3c6)]['flow']['findOne']({'where':{'_id':_0x32cf7b[_0x4ad365(0x22c)]}});if(!_0xd4f63e||!_0xd4f63e[_0x4ad365(0x691)]?.[_0x4ad365(0x397)](this['instance'][_0x4ad365(0x4d2)]))throw this[_0x4ad365(0x843)][_0x4ad365(0x4e4)](this[_0x4ad365(0x5c4)]+'\x20('+this[_0x4ad365(0x5ef)][_0x4ad365(0x4d2)]+'):\x20Flow\x20\x27'+_0x32cf7b['_id']+_0x4ad365(0x52f)),new m(_0x4ad365(0x7ac)+_0x32cf7b[_0x4ad365(0x22c)]+_0x4ad365(0x52f));if(!_0xd4f63e[_0x4ad365(0x4cb)]?.[_0x4ad365(0x397)](this['instance'][_0x4ad365(0x4d2)]))throw new m(_0x4ad365(0x277));let _0x21758f=!0x1;if(_0x32cf7b[_0x4ad365(0x2ca)]?.[_0x4ad365(0x606)]===!0x0)_0xd4f63e[_0x4ad365(0x4bb)]=_0xd4f63e[_0x4ad365(0x4bb)][_0x4ad365(0x497)](_0xddd311=>_0xddd311&&_0x32cf7b[_0x4ad365(0x2ca)]&&_0xddd311['_id']&&_0x32cf7b['varedit']['_id']&&_0xddd311[_0x4ad365(0x22c)]['toString']()!==_0x32cf7b[_0x4ad365(0x2ca)][_0x4ad365(0x22c)][_0x4ad365(0x45e)]()),_0x21758f=!0x0;else{let _0x1f48d6=_0xd4f63e['varedits']['find'](_0x3402fb=>_0x3402fb&&_0x32cf7b[_0x4ad365(0x2ca)]&&_0x3402fb[_0x4ad365(0x22c)]&&_0x32cf7b[_0x4ad365(0x2ca)][_0x4ad365(0x22c)]&&_0x3402fb['_id'][_0x4ad365(0x45e)]()===_0x32cf7b['varedit'][_0x4ad365(0x22c)][_0x4ad365(0x45e)]());_0x1f48d6?(_0x21758f=_0x1f48d6[_0x4ad365(0x3fb)]!==_0x32cf7b['varedit'][_0x4ad365(0x3fb)],Object['assign'](_0x1f48d6,_0x32cf7b[_0x4ad365(0x2ca)])):(_0xd4f63e['varedits'][_0x4ad365(0x3ec)](_0x32cf7b[_0x4ad365(0x2ca)]),_0x21758f=!0x0);}if(_0x21758f){_0xd4f63e[_0x4ad365(0x4bb)][_0x4ad365(0x357)]((_0x86252d,_0x164026)=>_0x86252d['order']>_0x164026['order']?0x1:_0x164026[_0x4ad365(0x3fb)]>_0x86252d['order']?-0x1:0x0);for(let _0x5aa99e=0x0;_0x5aa99e<_0xd4f63e[_0x4ad365(0x4bb)][_0x4ad365(0x6f0)];_0x5aa99e++)_0xd4f63e['varedits'][_0x5aa99e][_0x4ad365(0x3fb)]=_0x5aa99e+0x1;}let _0x1bbd22=await this[_0x4ad365(0x3c6)][_0x4ad365(0x8c7)][_0x4ad365(0x449)](_0xd4f63e[_0x4ad365(0x22c)],_0xd4f63e);if(!_0x1bbd22)throw new Error(_0x4ad365(0x5a8));return _0x1bbd22;}catch(_0x2fc565){let _0xa5e588=_0x4ad365(0x697),_0x69baf3=_0x2fc565 instanceof Error?_0x2fc565[_0x4ad365(0x852)]:typeof _0x2fc565==_0x4ad365(0x545)?JSON['stringify'](_0x2fc565):_0x2fc565,_0x5c0e90=_0xa5e588+':\x20'+_0x69baf3;throw this[_0x4ad365(0x843)]['error'](this['instanceName']+'\x20('+this[_0x4ad365(0x5ef)][_0x4ad365(0x4d2)]+'):\x20'+_0x5c0e90),new m(_0x5c0e90);}}async[a0_0x31011a(0x207)](_0xadbdf6){const _0x3e5a10=a0_0x31011a;try{if(this[_0x3e5a10(0x843)][_0x3e5a10(0x45c)](this['instanceName']+'\x20('+this[_0x3e5a10(0x5ef)][_0x3e5a10(0x4d2)]+_0x3e5a10(0x6bc)),!this[_0x3e5a10(0x74b)][_0x3e5a10(0x74d)]['find'](_0x3fd407=>_0x3fd407[_0x3e5a10(0x22c)]===_0xadbdf6['_id']))throw this['logger'][_0x3e5a10(0x45c)](this['instanceName']+'\x20('+this[_0x3e5a10(0x5ef)]['wuid']+'):\x20Fluxo\x20\x27'+_0xadbdf6[_0x3e5a10(0x22c)]+_0x3e5a10(0x75a)),new m(_0x3e5a10(0x43a));let _0x52c4d=await this['repository'][_0x3e5a10(0x8c7)][_0x3e5a10(0x917)]({'where':{'_id':_0xadbdf6[_0x3e5a10(0x22c)]}});if(!_0x52c4d||!_0x52c4d[_0x3e5a10(0x691)]?.['includes'](this['instance'][_0x3e5a10(0x4d2)]))throw this['logger'][_0x3e5a10(0x4e4)](this[_0x3e5a10(0x5c4)]+'\x20('+this['instance'][_0x3e5a10(0x4d2)]+_0x3e5a10(0x828)+_0xadbdf6[_0x3e5a10(0x22c)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0xadbdf6[_0x3e5a10(0x22c)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x52c4d[_0x3e5a10(0x4cb)]?.[_0x3e5a10(0x397)](this[_0x3e5a10(0x5ef)]['wuid']))throw new m(_0x3e5a10(0x277));_0xadbdf6[_0x3e5a10(0x5cd)][_0x3e5a10(0x3a4)]=_0xadbdf6[_0x3e5a10(0x5cd)][_0x3e5a10(0x3a4)][_0x3e5a10(0x44d)](),_0xadbdf6['variable'][_0x3e5a10(0x3a4)][_0x3e5a10(0x653)]('_')&&(_0xadbdf6[_0x3e5a10(0x5cd)][_0x3e5a10(0x3a4)]=_0xadbdf6[_0x3e5a10(0x5cd)][_0x3e5a10(0x3a4)][_0x3e5a10(0x65a)](0x1)),_0xadbdf6['variable']['name']=_0xadbdf6[_0x3e5a10(0x5cd)][_0x3e5a10(0x3a4)][_0x3e5a10(0x44d)]();let _0x31a287=_0x52c4d['variables'][_0x3e5a10(0x90d)](_0x1f67b8=>_0x1f67b8['name']===_0xadbdf6[_0x3e5a10(0x5cd)]['name']);if(_0x31a287?.[_0x3e5a10(0x564)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0xadbdf6[_0x3e5a10(0x5cd)]?.[_0x3e5a10(0x606)]===!0x0){if(!_0x31a287)return{'message':_0x3e5a10(0x2fc)};_0x52c4d['variables']=_0x52c4d['variables'][_0x3e5a10(0x497)](_0x84ca92=>_0x84ca92[_0x3e5a10(0x3a4)]!==_0xadbdf6[_0x3e5a10(0x5cd)][_0x3e5a10(0x3a4)]);}else _0x31a287?Object['assign'](_0x31a287,_0xadbdf6[_0x3e5a10(0x5cd)]):_0x52c4d['variables'][_0x3e5a10(0x3ec)](_0xadbdf6['variable']);let _0x71a7a6=await this[_0x3e5a10(0x3c6)][_0x3e5a10(0x8c7)][_0x3e5a10(0x449)](_0x52c4d[_0x3e5a10(0x22c)],_0x52c4d);if(!_0x71a7a6)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x71a7a6;}catch(_0x3d7ea8){let _0xcf79f7=_0x3e5a10(0x374),_0x415cc9=_0x3d7ea8 instanceof Error?_0x3d7ea8[_0x3e5a10(0x852)]:typeof _0x3d7ea8==_0x3e5a10(0x545)?JSON[_0x3e5a10(0x720)](_0x3d7ea8):_0x3d7ea8,_0x4dd350=_0xcf79f7+':\x20'+_0x415cc9;throw this[_0x3e5a10(0x843)][_0x3e5a10(0x4e4)](this['instanceName']+'\x20('+this[_0x3e5a10(0x5ef)][_0x3e5a10(0x4d2)]+_0x3e5a10(0x878)+_0x4dd350),new m(_0x4dd350);}}async['startFlow'](_0x5ba9d5){const _0x309405=a0_0x31011a;let _0x381432=null;try{if(!this[_0x309405(0x74b)]?.[_0x309405(0x250)][_0x309405(0x2ac)])throw new m(_0x309405(0x573));this[_0x309405(0x843)][_0x309405(0x45c)](this[_0x309405(0x5c4)]+'\x20('+this['instance']['wuid']+_0x309405(0x7f8));let _0x13dc73=(await this[_0x309405(0x2f2)]({'numbers':[_0x5ba9d5[_0x309405(0x651)]]}))[0x0];if(!_0x13dc73[_0x309405(0x334)]&&!(0x0,w[_0x309405(0x2c4)])(_0x13dc73[_0x309405(0x7a1)])&&!_0x13dc73['jid'][_0x309405(0x397)]('@broadcast'))throw _0x381432=JSON[_0x309405(0x720)](_0x13dc73,null,0x2),new m(_0x13dc73);let _0x41dbb6;if(_0x5ba9d5[_0x309405(0x3a4)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x309405(0x47d)](_0x5ba9d5[_0x309405(0x3a4)])?_0x41dbb6=this['AutomateSystem'][_0x309405(0x74d)][_0x309405(0x90d)](_0x2f9250=>_0x2f9250[_0x309405(0x22c)]===_0x5ba9d5[_0x309405(0x3a4)]):_0x41dbb6=this[_0x309405(0x74b)]['flows']['find'](_0x34ef83=>_0x34ef83['name']===_0x5ba9d5[_0x309405(0x3a4)]),!_0x41dbb6)throw this[_0x309405(0x843)]['verbose'](this[_0x309405(0x5c4)]+'\x20('+this[_0x309405(0x5ef)]['wuid']+'):\x20Fluxo\x20\x27'+_0x5ba9d5[_0x309405(0x3a4)]+_0x309405(0x75a)),new m(_0x309405(0x43a));let _0x396dff=await this[_0x309405(0x3c6)][_0x309405(0x8c7)][_0x309405(0x917)]({'where':{'_id':_0x41dbb6[_0x309405(0x22c)]}});if(!_0x396dff||!_0x396dff[_0x309405(0x691)]?.[_0x309405(0x397)](this[_0x309405(0x5ef)][_0x309405(0x4d2)]))throw this[_0x309405(0x843)][_0x309405(0x4e4)](this['instanceName']+'\x20('+this['instance'][_0x309405(0x4d2)]+_0x309405(0x828)+_0x41dbb6['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x381432=_0x309405(0x7ac)+_0x41dbb6['_id']+_0x309405(0x52f),new m(_0x381432);let _0x199e03=await this[_0x309405(0x450)](_0x396dff,_0x13dc73[_0x309405(0x7a1)],_0x5ba9d5['changeVariables']);if(_0x199e03){this[_0x309405(0x843)]['verbose'](this['instanceName']+'\x20('+this[_0x309405(0x5ef)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x491e2d=await this[_0x309405(0x89d)](_0x199e03);return _0x491e2d&&await this[_0x309405(0x8ec)](_0x199e03,_0x491e2d),{'message':_0x309405(0x6a6)+_0x5ba9d5['remoteJid']};}}catch(_0x3ea0a2){if(this['logger'][_0x309405(0x4e4)](this[_0x309405(0x5c4)]+'\x20('+this['instance'][_0x309405(0x4d2)]+_0x309405(0x43c)+(_0x3ea0a2 instanceof Error?_0x3ea0a2[_0x309405(0x852)]:JSON[_0x309405(0x720)](_0x3ea0a2,null,0x2))),_0x381432=_0x3ea0a2 instanceof Error?_0x3ea0a2[_0x309405(0x852)]:JSON[_0x309405(0x720)](_0x3ea0a2,null,0x2),_0x381432)throw new m(_0x309405(0x945)+_0x381432);}}async[a0_0x31011a(0x837)](_0x466a42,_0x3bdbd7,_0x49b4e3){const _0x4e8cdc=a0_0x31011a;let _0x36c7af=null;try{if(!this[_0x4e8cdc(0x74b)]?.[_0x4e8cdc(0x250)][_0x4e8cdc(0x2ac)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x4e8cdc(0x843)]['verbose'](this[_0x4e8cdc(0x5c4)]+'\x20('+this['instance'][_0x4e8cdc(0x4d2)]+_0x4e8cdc(0x7f8)),_0x3bdbd7){let _0x27e06b=(await this[_0x4e8cdc(0x2f2)]({'numbers':[_0x3bdbd7]}))[0x0];if(!_0x27e06b[_0x4e8cdc(0x334)]&&!(0x0,w[_0x4e8cdc(0x2c4)])(_0x27e06b[_0x4e8cdc(0x7a1)])&&!_0x27e06b['jid']['includes'](_0x4e8cdc(0x3eb)))throw _0x36c7af=JSON[_0x4e8cdc(0x720)](_0x27e06b,null,0x2),new m(_0x27e06b);_0x3bdbd7=_0x27e06b[_0x4e8cdc(0x7a1)];}else _0x3bdbd7||(_0x3bdbd7=(0x0,Y['v4'])());let _0x43ece9=await this[_0x4e8cdc(0x3c6)][_0x4e8cdc(0x8c7)][_0x4e8cdc(0x917)]({'where':{'_id':_0x466a42}});if(!_0x43ece9||!_0x43ece9[_0x4e8cdc(0x691)]?.[_0x4e8cdc(0x397)](this['instance']['wuid']))throw this[_0x4e8cdc(0x843)][_0x4e8cdc(0x4e4)](this[_0x4e8cdc(0x5c4)]+'\x20('+this[_0x4e8cdc(0x5ef)][_0x4e8cdc(0x4d2)]+_0x4e8cdc(0x828)+_0x466a42+_0x4e8cdc(0x52f)),new m('Flow\x20\x27'+_0x466a42+_0x4e8cdc(0x52f));let _0x374e88=await this[_0x4e8cdc(0x450)](_0x43ece9,_0x3bdbd7,null);if(_0x374e88){this['logger'][_0x4e8cdc(0x45c)](this[_0x4e8cdc(0x5c4)]+'\x20('+this[_0x4e8cdc(0x5ef)][_0x4e8cdc(0x4d2)]+_0x4e8cdc(0x209));let _0x24d9ef;if(_0x49b4e3){let _0x2e7e77=_0x374e88['chatLog'][_0x4e8cdc(0x89e)],_0x4522cf=this[_0x4e8cdc(0x2d6)](_0x49b4e3);Object[_0x4e8cdc(0x34a)](_0x2e7e77,_0x4522cf),_0x374e88['chatLog'][_0x4e8cdc(0x89e)]=_0x2e7e77,_0x24d9ef={'error':!0x1,'apiResponse':_0x49b4e3};}let _0x2a6da5=await this[_0x4e8cdc(0x89d)](_0x374e88);return _0x2a6da5&&await this[_0x4e8cdc(0x8ec)](_0x374e88,_0x2a6da5),{'message':'Flow\x20iniciado'};}}catch(_0x4ea901){if(this['logger']['error'](this[_0x4e8cdc(0x5c4)]+'\x20('+this[_0x4e8cdc(0x5ef)]['wuid']+_0x4e8cdc(0x43c)+(_0x4ea901 instanceof Error?_0x4ea901[_0x4e8cdc(0x852)]:JSON[_0x4e8cdc(0x720)](_0x4ea901,null,0x2))),_0x36c7af=_0x4ea901 instanceof Error?_0x4ea901['message']:JSON[_0x4e8cdc(0x720)](_0x4ea901,null,0x2),_0x36c7af)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x36c7af);}}async[a0_0x31011a(0x222)](_0x32fc0c){const _0x50ae25=a0_0x31011a;try{let _0x47bbcb={'remoteJid':_0x32fc0c,'status':_0x50ae25(0x2cf)},_0x28c667={'status':_0x50ae25(0x38a)},_0x136de8=await this['repository'][_0x50ae25(0x7e7)][_0x50ae25(0x1ef)](_0x47bbcb,_0x28c667,this['instance'][_0x50ae25(0x4d2)]);return this[_0x50ae25(0x843)][_0x50ae25(0x45c)](this['instanceName']+'\x20('+this[_0x50ae25(0x5ef)]['wuid']+_0x50ae25(0x6d5)),_0x136de8;}catch(_0x5daac2){throw this[_0x50ae25(0x843)][_0x50ae25(0x4e4)](this[_0x50ae25(0x5c4)]+'\x20('+this[_0x50ae25(0x5ef)][_0x50ae25(0x4d2)]+_0x50ae25(0x47e)+_0x5daac2['message']),_0x5daac2;}}async[a0_0x31011a(0x450)](_0x38193e,_0x3ceda5,_0x1e3b5a){const _0x201528=a0_0x31011a;this[_0x201528(0x843)][_0x201528(0x45c)](this[_0x201528(0x5c4)]+'\x20('+this[_0x201528(0x5ef)][_0x201528(0x4d2)]+_0x201528(0x37b)),await this[_0x201528(0x222)](_0x3ceda5);try{let _0x154de6=require(_0x201528(0x3f5))[_0x201528(0x853)],_0x4138c1=Date['now'](),_0xd1f98b=_0x201528(0x262),_0x7f9f89={},_0x4c3a03={},_0x501cb6=this[_0x201528(0x74b)][_0x201528(0x74d)][_0x201528(0x90d)](_0x83d0fd=>_0x83d0fd[_0x201528(0x22c)]===_0x38193e[_0x201528(0x22c)]?.[_0x201528(0x45e)]()),_0x5b749f=_0x501cb6?.['minutesToClose']??_0x38193e[_0x201528(0x238)]??0x0,_0x15e3e2=_0x501cb6?.[_0x201528(0x6f2)]??_0x38193e[_0x201528(0x6f2)]??!0x1,_0x1eac89={'flowId':_0x38193e[_0x201528(0x22c)],..._0x38193e,'chatLog':null},_0xa6cc5f=await this[_0x201528(0x92a)](_0x1eac89[_0x201528(0x228)]),_0x1a584f=await this[_0x201528(0x514)](_0x3ceda5),_0x3fe5e4={..._0xa6cc5f,..._0x1a584f,'_remoteJid':_0x3ceda5},_0x41daae={'lastReceivedMessage':_0x7f9f89,'lastSendMessage':_0x4c3a03,'lastBlockId':_0xd1f98b,'lastCondition':!0x0,'realVariables':_0x3fe5e4};_0x1eac89[_0x201528(0x748)]=_0x41daae,_0x1eac89[_0x201528(0x748)][_0x201528(0x89e)]={..._0x3fe5e4,..._0x1e3b5a},delete _0x1eac89[_0x201528(0x22c)],_0x1eac89['_id']=new _0x154de6(),_0x1eac89[_0x201528(0x353)]=_0x4138c1,_0x1eac89[_0x201528(0x893)]=_0x201528(0x2cf),_0x1eac89['remoteJid']=_0x3ceda5,_0x1eac89['minutesToClose']=_0x5b749f,_0x1eac89[_0x201528(0x6f2)]=_0x15e3e2,_0x1eac89['_id']=_0x38193e[_0x201528(0x22c)];let _0x39a1c4=await this['repository'][_0x201528(0x7e7)][_0x201528(0x449)](_0x1eac89[_0x201528(0x22c)],_0x1eac89,this['instance']['wuid']);return this[_0x201528(0x843)][_0x201528(0x45c)](this[_0x201528(0x5c4)]+'\x20('+this[_0x201528(0x5ef)][_0x201528(0x4d2)]+_0x201528(0x7c7)),_0x39a1c4?_0x1eac89:null;}catch(_0x5ee37d){let _0x1a2d24='Erro\x20ao\x20copiar\x20o\x20documento',_0x36f84d=_0x5ee37d instanceof Error?_0x5ee37d['message']:typeof _0x5ee37d==_0x201528(0x545)?JSON['stringify'](_0x5ee37d):_0x5ee37d,_0x5706de=_0x1a2d24+':\x20'+_0x36f84d;throw this[_0x201528(0x843)][_0x201528(0x4e4)](this[_0x201528(0x5c4)]+'\x20('+this[_0x201528(0x5ef)]['wuid']+_0x201528(0x878)+_0x5706de),new m(_0x5706de);}}async['getConversation'](_0xff3297){const _0x2f76e9=a0_0x31011a;try{this[_0x2f76e9(0x843)]['verbose'](this[_0x2f76e9(0x5c4)]+'\x20('+this[_0x2f76e9(0x5ef)][_0x2f76e9(0x4d2)]+_0x2f76e9(0x469)),this['logger'][_0x2f76e9(0x45c)](this[_0x2f76e9(0x5c4)]+'\x20('+this['instance'][_0x2f76e9(0x4d2)]+_0x2f76e9(0x70a)+_0xff3297);let _0x3575e2={'where':{'_id':_0xff3297}};return await this[_0x2f76e9(0x3c6)][_0x2f76e9(0x7e7)][_0x2f76e9(0x917)](_0x3575e2,this[_0x2f76e9(0x5ef)][_0x2f76e9(0x4d2)]);}catch(_0x1bd236){let _0x322df8=_0x2f76e9(0x2ed),_0x148f1f=_0x1bd236 instanceof Error?_0x1bd236[_0x2f76e9(0x852)]:typeof _0x1bd236=='object'?JSON[_0x2f76e9(0x720)](_0x1bd236):_0x1bd236,_0x19f16e=_0x322df8+':\x20'+_0x148f1f;throw this[_0x2f76e9(0x843)][_0x2f76e9(0x4e4)](this['instanceName']+'\x20('+this[_0x2f76e9(0x5ef)]['wuid']+_0x2f76e9(0x878)+_0x19f16e),new m(_0x19f16e);}}async[a0_0x31011a(0x32e)](_0x11ab5c){const _0x1fd84b=a0_0x31011a;try{return this['logger'][_0x1fd84b(0x45c)](this[_0x1fd84b(0x5c4)]+'\x20('+this[_0x1fd84b(0x5ef)][_0x1fd84b(0x4d2)]+_0x1fd84b(0x57a)),await this[_0x1fd84b(0x3c6)][_0x1fd84b(0x7e7)][_0x1fd84b(0x90d)](_0x11ab5c,this['instance'][_0x1fd84b(0x4d2)]);}catch(_0x1645ff){let _0x1066e6=_0x1fd84b(0x488),_0x1b2176=_0x1645ff instanceof Error?_0x1645ff['message']:typeof _0x1645ff==_0x1fd84b(0x545)?JSON[_0x1fd84b(0x720)](_0x1645ff):_0x1645ff,_0x589178=_0x1066e6+':\x20'+_0x1b2176;throw this['logger'][_0x1fd84b(0x4e4)](this['instanceName']+'\x20('+this[_0x1fd84b(0x5ef)][_0x1fd84b(0x4d2)]+_0x1fd84b(0x878)+_0x589178),new m(_0x589178);}}async[a0_0x31011a(0x22f)](_0x421651){const _0x5f5100=a0_0x31011a;try{return this['logger']['verbose'](this[_0x5f5100(0x5c4)]+'\x20('+this[_0x5f5100(0x5ef)][_0x5f5100(0x4d2)]+_0x5f5100(0x38f)),this['logger']['verbose'](this[_0x5f5100(0x5c4)]+'\x20('+this['instance']['wuid']+_0x5f5100(0x1fa)+_0x421651),(await this[_0x5f5100(0x3c6)][_0x5f5100(0x7e7)][_0x5f5100(0x584)]({'where':{'_id':_0x421651[_0x5f5100(0x22c)]}},this[_0x5f5100(0x5ef)][_0x5f5100(0x4d2)]))['deletedCount']===0x0?{'message':_0x5f5100(0x330)}:{'message':_0x5f5100(0x231)};}catch(_0x254b00){let _0x95027f='Erro\x20ao\x20deletar\x20a\x20conversa',_0xd2da7c=_0x254b00 instanceof Error?_0x254b00['message']:typeof _0x254b00=='object'?JSON[_0x5f5100(0x720)](_0x254b00):_0x254b00,_0x5cf71b=_0x95027f+':\x20'+_0xd2da7c;throw this[_0x5f5100(0x843)][_0x5f5100(0x4e4)](this[_0x5f5100(0x5c4)]+'\x20('+this['instance'][_0x5f5100(0x4d2)]+_0x5f5100(0x878)+_0x5cf71b),new m(_0x5cf71b);}}async[a0_0x31011a(0x820)](_0x352f5f){const _0x4de355=a0_0x31011a;try{let {_id:_0x1eb258,chatLog:_0x3b5e26,status:_0x446412}=_0x352f5f;if(!_0x1eb258)return{'message':_0x4de355(0x6e7)};let _0x4e5331={};if(_0x446412!==void 0x0&&(_0x4e5331['status']=_0x446412),Object['keys'](_0x4e5331)[_0x4de355(0x6f0)]===0x0)return{'message':_0x4de355(0x38d)};let _0x3ff4a1=await this[_0x4de355(0x3c6)][_0x4de355(0x7e7)][_0x4de355(0x449)](_0x1eb258,_0x4e5331,this[_0x4de355(0x5ef)][_0x4de355(0x4d2)]);return _0x3ff4a1||{'message':_0x4de355(0x4db)};}catch(_0x337eac){let _0x35e1ba=_0x4de355(0x665),_0x12a3e3=_0x337eac instanceof Error?_0x337eac['message']:typeof _0x337eac==_0x4de355(0x545)?JSON[_0x4de355(0x720)](_0x337eac):_0x337eac,_0x549a0a=_0x35e1ba+':\x20'+_0x12a3e3;throw this[_0x4de355(0x843)]['error'](this[_0x4de355(0x5c4)]+'\x20('+this[_0x4de355(0x5ef)][_0x4de355(0x4d2)]+_0x4de355(0x878)+_0x549a0a),new m(_0x549a0a);}}async['editChat'](_0x161edf){const _0x4aa3de=a0_0x31011a;try{_0x161edf[_0x4aa3de(0x22c)]=this['createJid'](_0x161edf[_0x4aa3de(0x22c)]);let _0x107d84=await this[_0x4aa3de(0x3c6)]['chat']['findOne']({'where':{'_id':_0x161edf[_0x4aa3de(0x22c)]}},this[_0x4aa3de(0x5ef)][_0x4aa3de(0x4d2)]);if(!_0x107d84)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x5cb567,leadInfo:_0x41c492}=_0x161edf;if(!_0x5cb567)throw new Error(_0x4aa3de(0x773));if(_0x161edf[_0x4aa3de(0x606)]===_0x4aa3de(0x6da))return await this[_0x4aa3de(0x88f)](_0x161edf[_0x4aa3de(0x22c)]),await this['repository'][_0x4aa3de(0x3bc)][_0x4aa3de(0x606)]({'where':{'_id':_0x161edf['_id']}},this[_0x4aa3de(0x5ef)]['wuid']),await this[_0x4aa3de(0x3c6)][_0x4aa3de(0x852)]['delete']({'where':{'key':{'remoteJid':_0x161edf[_0x4aa3de(0x22c)]}}},this['instance']['wuid']),_0x161edf=await this['repository'][_0x4aa3de(0x3bc)][_0x4aa3de(0x449)]({'where':{'_id':_0x161edf[_0x4aa3de(0x22c)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4aa3de(0x5ef)][_0x4aa3de(0x4d2)]),j(this[_0x4aa3de(0x5c4)],_0x4aa3de(0x85a),{'chat':_0x161edf}),{'message':_0x4aa3de(0x331)};if(_0x161edf[_0x4aa3de(0x606)]==='messages')return await this[_0x4aa3de(0x3c6)][_0x4aa3de(0x852)]['delete']({'where':{'key':{'remoteJid':_0x161edf[_0x4aa3de(0x22c)]}}},this[_0x4aa3de(0x5ef)][_0x4aa3de(0x4d2)]),_0x161edf=await this[_0x4aa3de(0x3c6)][_0x4aa3de(0x3bc)][_0x4aa3de(0x449)]({'where':{'_id':_0x161edf[_0x4aa3de(0x22c)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4aa3de(0x5ef)]['wuid']),j(this[_0x4aa3de(0x5c4)],_0x4aa3de(0x85a),{'chat':_0x161edf}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x5f46e6=(_0x59c45d,_0x33d369,_0x5d39ba)=>{const _0x5e6013=_0x4aa3de;_0x59c45d&&_0x5d39ba[_0x5e6013(0x201)](_0x1a3f14=>{_0x59c45d[_0x1a3f14]!==void 0x0&&(_0x33d369['leadInfo.'+_0x1a3f14]=_0x59c45d[_0x1a3f14]);});},_0x5450d6={};if(_0x4aa3de(0x6cd)in _0x161edf&&(this[_0x4aa3de(0x843)][_0x4aa3de(0x45c)](this[_0x4aa3de(0x5c4)]+'\x20('+this['instance']['wuid']+_0x4aa3de(0x1f1)+_0x161edf[_0x4aa3de(0x22c)]),_0x161edf[_0x4aa3de(0x6cd)]=_0x161edf[_0x4aa3de(0x6cd)]===0x0?null:-0x1,await this['client']['chatModify']({'mute':_0x161edf[_0x4aa3de(0x6cd)]},_0x161edf[_0x4aa3de(0x22c)]),_0x5450d6[_0x4aa3de(0x6cd)]=Number(_0x161edf['muteEndTime'])),_0x41c492&&(_0x5f46e6(_0x41c492,_0x5450d6,['nome',_0x4aa3de(0x244),_0x4aa3de(0x5e0),'cpf',_0x4aa3de(0x893),_0x4aa3de(0x605),_0x4aa3de(0x538),_0x4aa3de(0x6fc),_0x4aa3de(0x524),_0x4aa3de(0x756),_0x4aa3de(0x7c6)]),Array[_0x4aa3de(0x652)](_0x41c492[_0x4aa3de(0x7e3)])&&(_0x5450d6[_0x4aa3de(0x82d)]=_0x41c492[_0x4aa3de(0x7e3)][_0x4aa3de(0x74c)](_0x6a73b2=>({'_id':_0x6a73b2[_0x4aa3de(0x22c)],'value':_0x6a73b2['value']}))),_0x161edf['leadInfo'][_0x4aa3de(0x756)]!==void 0x0)){let _0x5bae15=await this[_0x4aa3de(0x3c6)]['label'][_0x4aa3de(0x90d)]({'where':{}},this[_0x4aa3de(0x5ef)][_0x4aa3de(0x4d2)]),_0x29b17b=new Set(_0x161edf['leadInfo'][_0x4aa3de(0x756)]||[]),_0x152de8=new Set(_0x161edf[_0x4aa3de(0x564)][_0x4aa3de(0x756)]),_0x5a7431=new Set(_0x5bae15['map'](_0x5f1c16=>_0x5f1c16['_id'])),_0x4f9976=[..._0x152de8]['filter'](_0x4e4e3e=>!_0x29b17b[_0x4aa3de(0x467)](_0x4e4e3e)&&_0x5a7431[_0x4aa3de(0x467)](_0x4e4e3e)),_0x4f2ff2=[..._0x29b17b][_0x4aa3de(0x497)](_0x255449=>!_0x152de8[_0x4aa3de(0x467)](_0x255449));if(_0x5450d6[_0x4aa3de(0x80d)]=[..._0x29b17b],_0x107d84&&!_0x107d84[_0x4aa3de(0x4a6)]){for(let _0x2094d0 of _0x4f9976)await this[_0x4aa3de(0x64d)](_0x2094d0,_0x161edf[_0x4aa3de(0x22c)]),_0x29b17b[_0x4aa3de(0x8dc)](_0x2094d0);for(let _0x14a5e5 of _0x4f2ff2)await this[_0x4aa3de(0x5e4)](_0x14a5e5,_0x161edf[_0x4aa3de(0x22c)]),_0x29b17b[_0x4aa3de(0x606)](_0x14a5e5);}}if(_0x161edf['unreadcount']!==void 0x0&&(_0x5450d6[_0x4aa3de(0x4ba)]=Number(_0x161edf[_0x4aa3de(0x4ba)])),Object['keys'](_0x5450d6)[_0x4aa3de(0x6f0)]===0x0)throw new Error(_0x4aa3de(0x38d));let _0x508a4a=await this['repository']['chat'][_0x4aa3de(0x449)]({'where':{'_id':_0x161edf['_id']}},_0x5450d6,this['instance'][_0x4aa3de(0x4d2)]);return _0x508a4a&&j(this['instanceName'],_0x4aa3de(0x85a),{'chat':_0x508a4a}),_0x508a4a?(this['logger']['verbose'](this[_0x4aa3de(0x5c4)]+'\x20('+this['instance'][_0x4aa3de(0x4d2)]+_0x4aa3de(0x878)+JSON['stringify'](_0x508a4a,null,0x2)),_0x508a4a):{'message':_0x4aa3de(0x938)};}catch(_0x31a803){let _0x579ce8='Erro\x20ao\x20editar\x20o\x20chat',_0xa5f0d7=_0x31a803 instanceof Error?_0x31a803[_0x4aa3de(0x852)]:typeof _0x31a803=='object'?JSON[_0x4aa3de(0x720)](_0x31a803):_0x31a803,_0x392535=_0x579ce8+':\x20'+_0xa5f0d7;throw this[_0x4aa3de(0x843)][_0x4aa3de(0x4e4)](this['instanceName']+'\x20('+this[_0x4aa3de(0x5ef)]['wuid']+_0x4aa3de(0x878)+_0x392535),new m(_0x392535);}}async[a0_0x31011a(0x64d)](_0x3f363a,_0x43fee4){const _0x2ac014=a0_0x31011a;try{await this[_0x2ac014(0x286)][_0x2ac014(0x81b)](_0x43fee4,_0x3f363a),this[_0x2ac014(0x843)]['info'](this[_0x2ac014(0x5c4)]+'\x20('+this['instance'][_0x2ac014(0x4d2)]+_0x2ac014(0x70b)+_0x3f363a+_0x2ac014(0x35b)+_0x43fee4+_0x2ac014(0x30d));}catch(_0x461393){this[_0x2ac014(0x843)][_0x2ac014(0x4e4)](_0x2ac014(0x8a8)+_0x3f363a+_0x2ac014(0x237)+_0x43fee4+':\x20'+_0x461393);}}async[a0_0x31011a(0x5e4)](_0x3da78b,_0x40971c){const _0x5a24e5=a0_0x31011a;try{await this[_0x5a24e5(0x286)][_0x5a24e5(0x66d)](_0x40971c,_0x3da78b),this[_0x5a24e5(0x843)]['info'](this['instanceName']+'\x20('+this[_0x5a24e5(0x5ef)][_0x5a24e5(0x4d2)]+_0x5a24e5(0x70b)+_0x3da78b+_0x5a24e5(0x571)+_0x40971c+_0x5a24e5(0x30d));}catch(_0x590563){this[_0x5a24e5(0x843)][_0x5a24e5(0x4e4)](_0x5a24e5(0x2c0)+_0x3da78b+_0x5a24e5(0x73f)+_0x40971c+':\x20'+_0x590563);}}async[a0_0x31011a(0x466)](_0xe298a3){const _0xf60b60=a0_0x31011a;try{let _0xe9ed76=await this[_0xf60b60(0x3c6)]['automateSystem'][_0xf60b60(0x2a9)](this['instance'][_0xf60b60(0x4d2)]),_0x580121=_0xe298a3['_id']?_0xe9ed76['agents']['findIndex'](_0x1849d9=>_0x1849d9[_0xf60b60(0x22c)]===_0xe298a3[_0xf60b60(0x22c)]):-0x1;if(_0xe298a3[_0xf60b60(0x606)]&&_0x580121>-0x1)_0xe9ed76['agents'][_0xf60b60(0x3e7)](_0x580121,0x1);else{if(_0x580121>-0x1){let _0x3a6dc8=_0xe9ed76[_0xf60b60(0x243)][_0x580121];_0xe298a3[_0xf60b60(0x38c)]&&(_0x3a6dc8['fone']=_0xe298a3[_0xf60b60(0x38c)]),_0xe298a3[_0xf60b60(0x3a4)]&&(_0x3a6dc8[_0xf60b60(0x3a4)]=_0xe298a3[_0xf60b60(0x3a4)]),_0xe298a3[_0xf60b60(0x5e0)]&&(_0x3a6dc8[_0xf60b60(0x5e0)]=_0xe298a3[_0xf60b60(0x5e0)]),_0xe298a3[_0xf60b60(0x454)]&&(_0x3a6dc8[_0xf60b60(0x454)]=_0xe298a3[_0xf60b60(0x454)]);}else _0xe9ed76['agents'][_0xf60b60(0x3ec)]({'_id':_0xe298a3[_0xf60b60(0x22c)]||new me[(_0xf60b60(0x20b))][(_0xf60b60(0x507))]['ObjectId']()[_0xf60b60(0x45e)](),'fone':_0xe298a3[_0xf60b60(0x38c)],'name':_0xe298a3['name'],'email':_0xe298a3[_0xf60b60(0x5e0)],'role':_0xe298a3[_0xf60b60(0x454)]});}let _0x40a239={'agents':_0xe9ed76[_0xf60b60(0x243)]},_0x5a575a=await this[_0xf60b60(0x3c6)][_0xf60b60(0x423)][_0xf60b60(0x4da)](_0x40a239,this[_0xf60b60(0x5ef)][_0xf60b60(0x4d2)]);return this['AutomateSystem']=_0x5a575a,this[_0xf60b60(0x843)][_0xf60b60(0x45c)](this[_0xf60b60(0x5c4)]+'\x20('+this[_0xf60b60(0x5ef)][_0xf60b60(0x4d2)]+_0xf60b60(0x8af)),this['logger'][_0xf60b60(0x45c)](this['instanceName']+'\x20('+this[_0xf60b60(0x5ef)][_0xf60b60(0x4d2)]+_0xf60b60(0x878)+this[_0xf60b60(0x74b)]),_0x5a575a;}catch(_0x2e995d){let _0x570b6b=_0xf60b60(0x1f8),_0x4df962=_0x2e995d instanceof Error?_0x2e995d[_0xf60b60(0x852)]:typeof _0x2e995d==_0xf60b60(0x545)?JSON[_0xf60b60(0x720)](_0x2e995d):_0x2e995d,_0x1bee8a=_0x570b6b+':\x20'+_0x4df962;throw this[_0xf60b60(0x843)]['error'](this['instanceName']+'\x20('+this[_0xf60b60(0x5ef)][_0xf60b60(0x4d2)]+_0xf60b60(0x878)+_0x1bee8a),new m(_0x1bee8a);}}async['updateCustomFields'](_0x322b43){const _0x550536=a0_0x31011a;try{let _0x54507d=await this[_0x550536(0x3c6)][_0x550536(0x423)][_0x550536(0x2a9)](this[_0x550536(0x5ef)]['wuid']),_0x3e66f8=_0x322b43['_id']?_0x54507d[_0x550536(0x7e3)]['findIndex'](_0x22c1c6=>_0x22c1c6[_0x550536(0x22c)]===_0x322b43[_0x550536(0x22c)]):-0x1,_0x3b520d=!0x1,_0xeaf291=_0x54507d['customFields'][_0x550536(0x641)](_0x549659=>_0x549659['order']===_0x322b43[_0x550536(0x3fb)]);if(_0x322b43[_0x550536(0x606)]&&_0x3e66f8>-0x1)_0x54507d[_0x550536(0x7e3)]['splice'](_0x3e66f8,0x1),_0x3b520d=!0x0;else{if(_0x3e66f8>-0x1){if(_0x54507d[_0x550536(0x7e3)][_0x550536(0x641)](_0x2c4aeb=>_0x2c4aeb['name']===_0x322b43[_0x550536(0x3a4)]&&_0x2c4aeb[_0x550536(0x22c)]!==_0x322b43[_0x550536(0x22c)]))throw new Error(_0x550536(0x3d2));let _0x1f5e69=_0x54507d[_0x550536(0x7e3)][_0x3e66f8];_0x322b43['order']&&(_0xeaf291||!Number[_0x550536(0x873)](_0x322b43[_0x550536(0x3fb)]))&&(_0x1f5e69[_0x550536(0x3fb)]=_0x322b43[_0x550536(0x3fb)],_0x3b520d=!0x0),_0x322b43[_0x550536(0x3a4)]&&(_0x1f5e69[_0x550536(0x3a4)]=_0x322b43['name']);}else{if(_0x54507d[_0x550536(0x7e3)][_0x550536(0x641)](_0x2e4f6a=>_0x2e4f6a[_0x550536(0x3a4)]===_0x322b43[_0x550536(0x3a4)]&&_0x2e4f6a['_id']!==_0x322b43[_0x550536(0x22c)]))throw new Error(_0x550536(0x3d2));_0x54507d[_0x550536(0x7e3)]['push']({'_id':_0x322b43['_id']||new me['default'][(_0x550536(0x507))]['ObjectId']()[_0x550536(0x45e)](),'order':_0x322b43[_0x550536(0x3fb)],'name':_0x322b43['name']}),_0x3b520d=!0x0;}}if(_0x3b520d){_0x54507d[_0x550536(0x7e3)]['sort']((_0x143ee5,_0x25f286)=>_0x143ee5[_0x550536(0x3fb)]>_0x25f286[_0x550536(0x3fb)]?0x1:_0x25f286[_0x550536(0x3fb)]>_0x143ee5['order']?-0x1:0x0);for(let _0x4bd30b=0x0;_0x4bd30b<_0x54507d['customFields']['length'];_0x4bd30b++)_0x54507d[_0x550536(0x7e3)][_0x4bd30b][_0x550536(0x3fb)]=_0x4bd30b+0x1;}let _0x5a9e7a=await this[_0x550536(0x3c6)][_0x550536(0x423)][_0x550536(0x4da)](_0x54507d,this['instance'][_0x550536(0x4d2)]);return this[_0x550536(0x74b)]=_0x5a9e7a,this['logger'][_0x550536(0x45c)](this[_0x550536(0x5c4)]+'\x20('+this[_0x550536(0x5ef)]['wuid']+_0x550536(0x689)),this[_0x550536(0x843)][_0x550536(0x45c)](this['instanceName']+'\x20('+this[_0x550536(0x5ef)]['wuid']+_0x550536(0x878)+this['AutomateSystem']),_0x5a9e7a;}catch(_0x5cf85c){let _0x515dc7=_0x550536(0x714),_0x254002=_0x5cf85c instanceof Error?_0x5cf85c[_0x550536(0x852)]:typeof _0x5cf85c==_0x550536(0x545)?JSON[_0x550536(0x720)](_0x5cf85c):_0x5cf85c,_0x5dc14d=_0x515dc7+':\x20'+_0x254002;throw this[_0x550536(0x843)][_0x550536(0x4e4)](this[_0x550536(0x5c4)]+'\x20('+this[_0x550536(0x5ef)][_0x550536(0x4d2)]+_0x550536(0x878)+_0x5dc14d),new m(_0x5dc14d);}}async['updateAutoCompleteMessages'](_0x25e9ec){const _0x76ede3=a0_0x31011a;try{let _0x4f8ef1=await this['repository'][_0x76ede3(0x423)]['findOrCreate'](this[_0x76ede3(0x5ef)]['wuid']),_0x5a82ba=_0x4f8ef1?.['autoCompleteMessages']?.[_0x76ede3(0x421)](_0x469783=>_0x469783[_0x76ede3(0x22c)]===_0x25e9ec?.['_id']);if(_0x25e9ec?.['delete'])_0x5a82ba>-0x1&&_0x4f8ef1?.[_0x76ede3(0x20c)]?.['splice'](_0x5a82ba,0x1);else{if(_0x5a82ba>-0x1){let _0x477372=_0x4f8ef1['autoCompleteMessages'][_0x5a82ba];_0x477372[_0x76ede3(0x3fb)]=_0x25e9ec?.[_0x76ede3(0x3fb)]||_0x477372[_0x76ede3(0x3fb)],_0x477372[_0x76ede3(0x812)]=_0x25e9ec?.[_0x76ede3(0x812)]||_0x477372[_0x76ede3(0x812)],_0x477372[_0x76ede3(0x852)]=_0x25e9ec?.[_0x76ede3(0x852)]||_0x477372[_0x76ede3(0x852)];}else{let _0x129e7a={'_id':_0x25e9ec?.[_0x76ede3(0x22c)]||new me['default']['Types'][(_0x76ede3(0x853))]()[_0x76ede3(0x45e)](),'order':_0x25e9ec?.[_0x76ede3(0x3fb)],'command':_0x25e9ec?.[_0x76ede3(0x812)],'message':_0x25e9ec?.[_0x76ede3(0x852)]};_0x4f8ef1?.[_0x76ede3(0x20c)]?.[_0x76ede3(0x3ec)](_0x129e7a);}}_0x4f8ef1?.['autoCompleteMessages']?.[_0x76ede3(0x357)]((_0x17c602,_0x4d829b)=>_0x17c602['order']-_0x4d829b[_0x76ede3(0x3fb)]);let _0x19f186=await this[_0x76ede3(0x3c6)][_0x76ede3(0x423)][_0x76ede3(0x4da)](_0x4f8ef1,this['instance'][_0x76ede3(0x4d2)]);return this[_0x76ede3(0x74b)]=_0x19f186,this['logger'][_0x76ede3(0x45c)](this[_0x76ede3(0x5c4)]+'\x20('+this[_0x76ede3(0x5ef)]['wuid']+_0x76ede3(0x689)),_0x19f186;}catch(_0x24b511){let _0x5c2b4c=_0x76ede3(0x3a6),_0x3b4eb1=_0x24b511 instanceof Error?_0x24b511['message']:typeof _0x24b511=='object'?JSON[_0x76ede3(0x720)](_0x24b511):_0x24b511,_0x3a949e=_0x5c2b4c+':\x20'+_0x3b4eb1;throw this['logger'][_0x76ede3(0x4e4)](this[_0x76ede3(0x5c4)]+'\x20('+this['instance'][_0x76ede3(0x4d2)]+_0x76ede3(0x878)+_0x3a949e),new m(_0x3a949e);}}async[a0_0x31011a(0x783)](_0x55f372){const _0x11f9a1=a0_0x31011a;try{let _0x5f20a2=await this['repository']['automateSystem'][_0x11f9a1(0x2a9)](this[_0x11f9a1(0x5ef)][_0x11f9a1(0x4d2)]);if(!_0x5f20a2)throw new Error(_0x11f9a1(0x742));let _0x1f1bdf={'_id':_0x5f20a2[_0x11f9a1(0x22c)],'flowConfig':{'enabled':_0x55f372[_0x11f9a1(0x2ac)]??_0x5f20a2['flowConfig'][_0x11f9a1(0x2ac)],'ignoreGroups':_0x55f372[_0x11f9a1(0x42d)]??_0x5f20a2[_0x11f9a1(0x250)]['ignoreGroups'],'stopConversation':_0x55f372[_0x11f9a1(0x76b)][_0x11f9a1(0x44d)]()??_0x5f20a2[_0x11f9a1(0x250)]['stopConversation'][_0x11f9a1(0x44d)](),'stopMinutes':_0x55f372[_0x11f9a1(0x8f0)]??_0x5f20a2['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x55f372[_0x11f9a1(0x44f)]??_0x5f20a2[_0x11f9a1(0x250)][_0x11f9a1(0x44f)]}},_0x23999a=await this[_0x11f9a1(0x3c6)][_0x11f9a1(0x423)][_0x11f9a1(0x4da)](_0x1f1bdf,this[_0x11f9a1(0x5ef)]['wuid']);return this[_0x11f9a1(0x74b)]=_0x23999a,this[_0x11f9a1(0x843)]['verbose'](this[_0x11f9a1(0x5c4)]+'\x20('+this['instance'][_0x11f9a1(0x4d2)]+_0x11f9a1(0x8af)),this[_0x11f9a1(0x843)]['verbose'](this[_0x11f9a1(0x5c4)]+'\x20('+this[_0x11f9a1(0x5ef)][_0x11f9a1(0x4d2)]+_0x11f9a1(0x878)+this['AutomateSystem']),setTimeout(()=>this[_0x11f9a1(0x37c)](),0x7d0),_0x23999a;}catch(_0x308ddf){let _0x3c6d28=_0x11f9a1(0x4f0),_0x516cfe=_0x308ddf instanceof Error?_0x308ddf['message']:typeof _0x308ddf==_0x11f9a1(0x545)?JSON[_0x11f9a1(0x720)](_0x308ddf):_0x308ddf,_0x4201dd=_0x3c6d28+':\x20'+_0x516cfe;throw this[_0x11f9a1(0x843)][_0x11f9a1(0x4e4)](this[_0x11f9a1(0x5c4)]+'\x20('+this[_0x11f9a1(0x5ef)][_0x11f9a1(0x4d2)]+_0x11f9a1(0x878)+_0x4201dd),new m(_0x4201dd);}}async[a0_0x31011a(0x203)](){const _0x304289=a0_0x31011a;try{let _0x20614b=await this[_0x304289(0x3c6)][_0x304289(0x423)][_0x304289(0x2a9)](this[_0x304289(0x5ef)]['wuid']);return this['AutomateSystem']=_0x20614b,this[_0x304289(0x843)][_0x304289(0x45c)](this['instanceName']+'\x20('+this[_0x304289(0x5ef)]['wuid']+_0x304289(0x6fd)),this['logger'][_0x304289(0x45c)](this[_0x304289(0x74b)]),_0x20614b;}catch(_0x17b208){let _0x162ff3='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x56c3ee=_0x17b208 instanceof Error?_0x17b208[_0x304289(0x852)]:typeof _0x17b208==_0x304289(0x545)?JSON[_0x304289(0x720)](_0x17b208):_0x17b208,_0x1e7cf4=_0x162ff3+':\x20'+_0x56c3ee;throw this['logger'][_0x304289(0x4e4)](this[_0x304289(0x5c4)]+'\x20('+this['instance'][_0x304289(0x4d2)]+_0x304289(0x878)+_0x1e7cf4),new m(_0x1e7cf4);}}async['setRestartTimeout'](){const _0x4f529f=a0_0x31011a;this[_0x4f529f(0x5ef)]['ScheduleMessage'][_0x4f529f(0x210)]&&clearTimeout(this[_0x4f529f(0x5ef)]['ScheduleMessage'][_0x4f529f(0x210)]),this['instance'][_0x4f529f(0x362)][_0x4f529f(0x210)]=setTimeout(()=>{const _0x3554c2=_0x4f529f;this[_0x3554c2(0x645)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x31011a(0x645)](){const _0x5c106e=a0_0x31011a;Date[_0x5c106e(0x6d9)]()-this[_0x5c106e(0x5ef)][_0x5c106e(0x362)][_0x5c106e(0x81d)]>=0x1d4c0&&(this[_0x5c106e(0x843)][_0x5c106e(0x45c)](this['instanceName']+'\x20('+this[_0x5c106e(0x5ef)][_0x5c106e(0x4d2)]+_0x5c106e(0x1e2)),this[_0x5c106e(0x5ef)][_0x5c106e(0x362)][_0x5c106e(0x391)]=null,this[_0x5c106e(0x5ef)]['ScheduleMessage'][_0x5c106e(0x81d)]=0x0,this[_0x5c106e(0x5ef)][_0x5c106e(0x362)][_0x5c106e(0x46a)]=0x0,await this['scheduleNextCheck']());}async[a0_0x31011a(0x37c)](){const _0x26eb34=a0_0x31011a;await this[_0x26eb34(0x58b)]();let _0x2ef73f=()=>{const _0x499804=_0x26eb34;this[_0x499804(0x843)][_0x499804(0x45c)](this[_0x499804(0x5c4)]+'\x20('+this[_0x499804(0x5ef)]['wuid']+_0x499804(0x589)+this[_0x499804(0x5ef)][_0x499804(0x362)][_0x499804(0x391)]+_0x499804(0x7fd));},_0x1384e=async()=>{const _0x5ad906=_0x26eb34;this[_0x5ad906(0x843)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x14f3de=Date[_0x5ad906(0x6d9)]()-0xc*0x3c*0x3c*0x3e8,_0xe58e6e={'where':{'status':{'$in':[_0x5ad906(0x55b),_0x5ad906(0x7ad)]},'$or':[{'when':{'$lte':Date[_0x5ad906(0x6d9)](),'$gte':_0x14f3de}},{'when':0x0}]}};return await this[_0x5ad906(0x3c6)]['scheduleMessage']['find'](_0xe58e6e,this[_0x5ad906(0x5ef)][_0x5ad906(0x4d2)]);},_0x37a69a=async _0x48aa10=>{const _0x42350a=_0x26eb34;let _0x11e044=Math[_0x42350a(0x7e2)](Math['random']()*0x1389)+0xbb8;for(let _0x2ba88f of _0x48aa10){let _0xc0c327={'_id':_0x2ba88f[_0x42350a(0x22c)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x2710}}]},_0x5c47c6={'startSend':Date[_0x42350a(0x6d9)]()};if(!await this[_0x42350a(0x3c6)]['scheduleMessage']['updateOne'](_0xc0c327,_0x5c47c6,this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]))return;if(!this['instance']['ScheduleMessage']['isConnected']){this[_0x42350a(0x843)][_0x42350a(0x45c)](this[_0x42350a(0x5c4)]+'\x20('+this['instance'][_0x42350a(0x4d2)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}let _0x256bc4=(_0x2ba88f[_0x42350a(0x447)]||[])[_0x42350a(0x357)]((_0x3123b0,_0x32f37c)=>(_0x3123b0[_0x42350a(0x3fb)]??0x0)-(_0x32f37c[_0x42350a(0x3fb)]??0x0));for(let _0x51ed87 of _0x256bc4){if(await this[_0x42350a(0x361)](),this[_0x42350a(0x5ef)][_0x42350a(0x362)]['lastSend']=Date[_0x42350a(0x6d9)](),this['instance']['ScheduleMessage'][_0x42350a(0x915)]===_0x51ed87[_0x42350a(0x22c)]){this[_0x42350a(0x843)]['error'](this[_0x42350a(0x5c4)]+'\x20('+this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x51ed87['_id']+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');continue;}if(this['instance'][_0x42350a(0x362)][_0x42350a(0x915)]=_0x51ed87[_0x42350a(0x22c)],_0x51ed87[_0x42350a(0x4e0)]){this[_0x42350a(0x843)][_0x42350a(0x45c)](this[_0x42350a(0x5c4)]+'\x20('+this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x51ed87[_0x42350a(0x651)]+_0x42350a(0x337));continue;}if(!this['instance']['ScheduleMessage'][_0x42350a(0x63e)]){this[_0x42350a(0x843)][_0x42350a(0x45c)](this['instanceName']+'\x20('+this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x42350a(0x5ef)][_0x42350a(0x362)][_0x42350a(0x391)]){this[_0x42350a(0x843)][_0x42350a(0x45c)](this['instanceName']+'\x20('+this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]+_0x42350a(0x3da)+_0x2ba88f['_id']+_0x42350a(0x56e));break;}if(_0x51ed87[_0x42350a(0x294)]===_0x42350a(0x8c7)&&!this['AutomateSystem']?.[_0x42350a(0x250)][_0x42350a(0x2ac)]){this[_0x42350a(0x843)][_0x42350a(0x4e4)](this[_0x42350a(0x5c4)]+'\x20('+this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]+_0x42350a(0x6fe));break;}let _0x827b4a={'idControl':_0x51ed87[_0x42350a(0x22c)],'remoteJid':_0x51ed87[_0x42350a(0x651)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x42350a(0x6d9)]()},_0x18c6db=null;try{this[_0x42350a(0x843)]['verbose'](this['instanceName']+'\x20('+this[_0x42350a(0x5ef)]['wuid']+_0x42350a(0x939)+_0x51ed87[_0x42350a(0x651)]);let _0x2e5996=await this[_0x42350a(0x2b5)](_0x51ed87[_0x42350a(0x651)],_0x51ed87);_0x827b4a['error']=_0x2e5996[_0x42350a(0x4e4)],_0x827b4a['id']=_0x2e5996[_0x42350a(0x4e4)]?null:_0x2e5996['id'],_0x827b4a['error_log']=_0x2e5996[_0x42350a(0x4e4)]?_0x2e5996['detail']?_0x2e5996[_0x42350a(0x2da)][_0x42350a(0x45e)]():'':null;let _0x4da9ef=_0x2ba88f[_0x42350a(0x447)]['findIndex'](_0x54ed30=>_0x54ed30[_0x42350a(0x22c)]===_0x51ed87[_0x42350a(0x22c)]);_0x4da9ef!==-0x1&&(_0x2ba88f[_0x42350a(0x447)][_0x4da9ef][_0x42350a(0x4e0)]=!0x0);let _0x4a0935={'$push':{'messagesSend':_0x827b4a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xd972e3=[{'elem._id':_0x51ed87[_0x42350a(0x22c)]}];if(this[_0x42350a(0x843)][_0x42350a(0x45c)](this[_0x42350a(0x5c4)]+'\x20('+this[_0x42350a(0x5ef)]['wuid']+_0x42350a(0x6b5)+_0x51ed87[_0x42350a(0x22c)]),_0x18c6db=await this[_0x42350a(0x3c6)][_0x42350a(0x3cf)][_0x42350a(0x449)]({'_id':_0x2ba88f[_0x42350a(0x22c)]},_0x4a0935,this[_0x42350a(0x5ef)][_0x42350a(0x4d2)],{'arrayFilters':_0xd972e3}),_0x2e5996[_0x42350a(0x4e4)]){this[_0x42350a(0x843)][_0x42350a(0x4e4)](this[_0x42350a(0x5c4)]+'\x20('+this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]+_0x42350a(0x43f)+_0x2e5996[_0x42350a(0x2da)]);continue;}let _0x190ea0=this['getDelay'](_0x2ba88f[_0x42350a(0x3be)],_0x2ba88f[_0x42350a(0x459)]);await this['sleep'](_0x190ea0);}catch(_0x1b1780){this['logger'][_0x42350a(0x4e4)](this[_0x42350a(0x5c4)]+'\x20('+this[_0x42350a(0x5ef)]['wuid']+_0x42350a(0x6f4)+_0x51ed87[_0x42350a(0x651)]+':\x20'+(_0x1b1780 instanceof Error?_0x1b1780[_0x42350a(0x852)]:JSON[_0x42350a(0x720)](_0x1b1780,null,0x2))),_0x827b4a[_0x42350a(0x4e4)]=!0x0,_0x827b4a[_0x42350a(0x84b)]=_0x1b1780[_0x42350a(0x852)];let _0x31afee=_0x2ba88f['messages'][_0x42350a(0x421)](_0x36c6fc=>_0x36c6fc['_id']===_0x51ed87['_id']);_0x31afee!==-0x1&&(_0x2ba88f[_0x42350a(0x447)][_0x31afee]['triedToSend']=!0x0);let _0x1b2488={'$push':{'messagesSend':_0x827b4a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x201de6=[{'elem._id':_0x51ed87[_0x42350a(0x22c)]}];this[_0x42350a(0x843)][_0x42350a(0x45c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x42350a(0x2a5)+_0x51ed87['_id']),_0x18c6db=await this[_0x42350a(0x3c6)][_0x42350a(0x3cf)][_0x42350a(0x449)]({'_id':_0x2ba88f[_0x42350a(0x22c)]},_0x1b2488,this[_0x42350a(0x5ef)][_0x42350a(0x4d2)],{'arrayFilters':_0x201de6});}}let _0x3ec8f7=await this[_0x42350a(0x3c6)]['scheduleMessage']['findById'](_0x2ba88f[_0x42350a(0x22c)],this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]);if(_0x3ec8f7['messages'][_0x42350a(0x78b)](_0x2ea224=>_0x2ea224['triedToSend'])&&_0x3ec8f7['status']!=='stopped'){this[_0x42350a(0x5ef)][_0x42350a(0x362)][_0x42350a(0x915)]=null;let _0x5d37ad={'$set':{'status':_0x42350a(0x2d7)}};await this['repository'][_0x42350a(0x3cf)][_0x42350a(0x472)](_0x3ec8f7[_0x42350a(0x22c)],_0x5d37ad,this[_0x42350a(0x5ef)][_0x42350a(0x4d2)]);}await new Promise(_0x1fa303=>setTimeout(_0x1fa303,_0x11e044));}},_0x3822eb=async()=>{const _0x43a3b6=_0x26eb34;let _0x1d2cf9={'where':{'status':_0x43a3b6(0x55b),'when':{'$gt':Date[_0x43a3b6(0x6d9)]()}}},_0x774fba=await this['repository'][_0x43a3b6(0x3cf)][_0x43a3b6(0x917)](_0x1d2cf9,this[_0x43a3b6(0x5ef)][_0x43a3b6(0x4d2)]);_0x774fba&&_0x774fba[_0x43a3b6(0x588)]-Date[_0x43a3b6(0x6d9)]()<=0x5265c00?this['instance'][_0x43a3b6(0x362)][_0x43a3b6(0x46a)]=_0x774fba[_0x43a3b6(0x588)]-Date[_0x43a3b6(0x6d9)]():this['instance']['ScheduleMessage']['delayMessage']=(0x3c+Math[_0x43a3b6(0x7e2)](Math[_0x43a3b6(0x699)]()*0x3c))*0x3c*0x3e8,this[_0x43a3b6(0x5ef)][_0x43a3b6(0x362)][_0x43a3b6(0x46a)]=Math['max'](this['instance']['ScheduleMessage']['delayMessage'],0x1*0x2*0x3e8);let _0x5e943f=Math['round'](this[_0x43a3b6(0x5ef)][_0x43a3b6(0x362)][_0x43a3b6(0x46a)]/0xea60);if(_0x774fba){let _0x4d8178=new Date(_0x774fba[_0x43a3b6(0x588)])[_0x43a3b6(0x32b)]();this[_0x43a3b6(0x843)][_0x43a3b6(0x45c)](this[_0x43a3b6(0x5c4)]+'\x20('+this['instance'][_0x43a3b6(0x4d2)]+_0x43a3b6(0x83b)+_0x4d8178+_0x43a3b6(0x419)+_0x5e943f+_0x43a3b6(0x3d0));}else this['logger'][_0x43a3b6(0x45c)](this['instanceName']+'\x20('+this[_0x43a3b6(0x5ef)]['wuid']+_0x43a3b6(0x275)+_0x5e943f+'\x20minutos');setTimeout(()=>this[_0x43a3b6(0x37c)](),this[_0x43a3b6(0x5ef)][_0x43a3b6(0x362)][_0x43a3b6(0x46a)]);};if(this[_0x26eb34(0x5ef)][_0x26eb34(0x362)][_0x26eb34(0x391)]){await this[_0x26eb34(0x361)](),_0x2ef73f();return;}if(!this[_0x26eb34(0x5ef)]['ScheduleMessage']['isConnected']){this[_0x26eb34(0x843)][_0x26eb34(0x45c)](this[_0x26eb34(0x5c4)]+'\x20('+this['instance'][_0x26eb34(0x4d2)]+_0x26eb34(0x2e9)),this['instance'][_0x26eb34(0x362)][_0x26eb34(0x391)]=null,this[_0x26eb34(0x5ef)]['ScheduleMessage'][_0x26eb34(0x81d)]=0x0,this[_0x26eb34(0x5ef)]['ScheduleMessage']['delayMessage']=0x0,this['instance']['ScheduleMessage'][_0x26eb34(0x915)]=null;return;}try{let _0x2b2199=await _0x1384e();_0x2b2199['length']===0x0?this[_0x26eb34(0x843)]['verbose'](this[_0x26eb34(0x5c4)]+'\x20('+this[_0x26eb34(0x5ef)][_0x26eb34(0x4d2)]+_0x26eb34(0x807)):(this[_0x26eb34(0x5ef)][_0x26eb34(0x362)][_0x26eb34(0x391)]=_0x2b2199[0x0][_0x26eb34(0x22c)],await _0x37a69a(_0x2b2199)),await _0x3822eb(),this[_0x26eb34(0x5ef)]['ScheduleMessage'][_0x26eb34(0x391)]=null,this[_0x26eb34(0x5ef)][_0x26eb34(0x362)][_0x26eb34(0x915)]=null;}catch(_0x2dd058){this['logger'][_0x26eb34(0x4e4)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x2dd058 instanceof Error?_0x2dd058[_0x26eb34(0x852)]:JSON['stringify'](_0x2dd058,null,0x2)));}}[a0_0x31011a(0x7c3)](_0x34d00f,_0x30e7c9){const _0x3fbf60=a0_0x31011a;return _0x34d00f=Math['max'](0.5,_0x34d00f),_0x30e7c9=Math[_0x3fbf60(0x55d)](Math[_0x3fbf60(0x65c)](0x3,_0x30e7c9),0x78),Math[_0x3fbf60(0x7e2)](Math[_0x3fbf60(0x699)]()*(_0x30e7c9-_0x34d00f+0x1)+_0x34d00f)*0x3e8;}[a0_0x31011a(0x434)](_0xbf8dd5){return new Promise(_0x5e5fde=>setTimeout(_0x5e5fde,_0xbf8dd5));}async['getVariablesChat'](_0x145e5b){const _0x1072c9=a0_0x31011a;if(!this['AutomateSystem']&&(await this[_0x1072c9(0x203)](),!this[_0x1072c9(0x74b)]))return null;_0x145e5b=this[_0x1072c9(0x718)](_0x145e5b);let _0x172df7=await this[_0x1072c9(0x3c6)][_0x1072c9(0x3bc)][_0x1072c9(0x917)]({'where':{'_id':_0x145e5b}},this[_0x1072c9(0x5ef)][_0x1072c9(0x4d2)]),_0x2bda32={};if(_0x172df7&&_0x172df7[_0x1072c9(0x564)]){let _0x5140e5=_0x172df7[_0x1072c9(0x564)];typeof _0x5140e5[_0x1072c9(0x766)]==_0x1072c9(0x415)&&(_0x2bda32[_0x1072c9(0x766)]=_0x5140e5[_0x1072c9(0x766)]),typeof _0x5140e5[_0x1072c9(0x244)]==_0x1072c9(0x415)&&(_0x2bda32['nomecompleto']=_0x5140e5[_0x1072c9(0x244)]),typeof _0x5140e5[_0x1072c9(0x5e0)]==_0x1072c9(0x415)&&(_0x2bda32[_0x1072c9(0x5e0)]=_0x5140e5[_0x1072c9(0x5e0)]),typeof _0x5140e5[_0x1072c9(0x476)]==_0x1072c9(0x415)&&(_0x2bda32[_0x1072c9(0x476)]=_0x5140e5['cpf']),typeof _0x5140e5[_0x1072c9(0x893)]==_0x1072c9(0x415)&&(_0x2bda32[_0x1072c9(0x893)]=_0x5140e5[_0x1072c9(0x893)]),typeof _0x5140e5['notas']=='string'&&(_0x2bda32[_0x1072c9(0x605)]=_0x5140e5['notas']),typeof _0x5140e5['responsavelid']==_0x1072c9(0x415)&&(_0x2bda32['responsavelid']=_0x5140e5[_0x1072c9(0x524)]),Array[_0x1072c9(0x652)](_0x5140e5['tags'])&&(_0x2bda32['tags']=_0x5140e5[_0x1072c9(0x538)][_0x1072c9(0x57d)](',\x20')),Array[_0x1072c9(0x652)](_0x5140e5[_0x1072c9(0x756)])&&(_0x2bda32['etiquetas']=_0x5140e5['etiquetas'][_0x1072c9(0x57d)](',\x20'));}return _0x172df7&&_0x172df7['leadInfo']&&_0x172df7[_0x1072c9(0x564)][_0x1072c9(0x7e3)]&&_0x172df7[_0x1072c9(0x564)][_0x1072c9(0x7e3)][_0x1072c9(0x201)](_0x53b7e7=>{const _0x38a087=_0x1072c9;let _0xaf05e4=this[_0x38a087(0x74b)]?.[_0x38a087(0x7e3)][_0x38a087(0x90d)](_0x528356=>_0x528356[_0x38a087(0x22c)]===_0x53b7e7[_0x38a087(0x22c)]);_0xaf05e4&&(_0x2bda32[_0xaf05e4[_0x38a087(0x3a4)]]=_0x53b7e7['value']);}),_0x2bda32;}async[a0_0x31011a(0x728)](_0x518e72,_0x3bc093){const _0x15e0e3=a0_0x31011a;try{let _0x2f5f3d=await this[_0x15e0e3(0x514)](_0x3bc093);return this[_0x15e0e3(0x7cc)](_0x518e72,_0x2f5f3d);}catch(_0x348cd1){return this[_0x15e0e3(0x843)][_0x15e0e3(0x4e4)](_0x15e0e3(0x847)+_0x3bc093+':\x20'+_0x348cd1),_0x518e72;}}async[a0_0x31011a(0x58b)](){const _0x2f8f25=a0_0x31011a;let _0x309f62=async(_0x21d110,_0x45a582)=>{const _0x4535ec=a0_0x2776;let _0x548218=(await this['repository'][_0x4535ec(0x3cf)][_0x4535ec(0x90d)]({'where':{'type':_0x21d110}},this[_0x4535ec(0x5ef)][_0x4535ec(0x4d2)]))['map'](async _0xae2935=>{const _0x3a8649=_0x4535ec;let _0x21362d=_0x45a582(_0xae2935),_0x494e43=_0xae2935[_0x3a8649(0x60a)][_0x3a8649(0x74c)](_0x14db81=>({'_id':(0x0,Y['v4'])(),'type':_0x21362d,'remoteJid':_0x14db81,'flow':_0xae2935['flowName'],'text':_0xae2935[_0x3a8649(0x852)]?.[_0x3a8649(0x64c)],'delay':_0xae2935[_0x3a8649(0x852)]?.['delay'],'urlOrBase64':_0xae2935[_0x3a8649(0x852)]?.[_0x3a8649(0x403)],'linkPreview':_0xae2935[_0x3a8649(0x852)]?.[_0x3a8649(0x2eb)],'fileName':_0xae2935[_0x3a8649(0x852)]?.[_0x3a8649(0x41e)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x3a8649(0x3c6)][_0x3a8649(0x3cf)][_0x3a8649(0x472)](_0xae2935[_0x3a8649(0x22c)],{'$set':{'messages':_0x494e43},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x3a8649(0x5ef)][_0x3a8649(0x4d2)]);}catch(_0x28c2d3){console[_0x3a8649(0x4e4)](_0x3a8649(0x927)+_0xae2935[_0x3a8649(0x22c)]+':',_0x28c2d3);}});await Promise[_0x4535ec(0x6da)](_0x548218);};await _0x309f62(_0x2f8f25(0x64c),_0x451360=>'text'),await _0x309f62(_0x2f8f25(0x8be),_0x3c1860=>_0x3c1860['message']?.[_0x2f8f25(0x6cf)]||_0x2f8f25(0x8be)),await _0x309f62('audio',_0xe1791b=>_0x2f8f25(0x56d)),await _0x309f62('flow',_0x945230=>_0x2f8f25(0x8c7)),await _0x309f62('image',_0x12fc2d=>_0x2f8f25(0x3d8)),await _0x309f62(_0x2f8f25(0x635),_0x170835=>_0x2f8f25(0x635)),await _0x309f62(_0x2f8f25(0x3ed),_0x699f1b=>_0x2f8f25(0x3ed)),console[_0x2f8f25(0x200)](_0x2f8f25(0x256));}async['editScheduleMessage'](_0x36f169){const _0x2f5097=a0_0x31011a;try{if(this[_0x2f5097(0x843)][_0x2f5097(0x45c)](this[_0x2f5097(0x5c4)]+'\x20('+this['instance'][_0x2f5097(0x4d2)]+_0x2f5097(0x70d)),_0x36f169[_0x2f5097(0x22c)]||(_0x36f169[_0x2f5097(0x22c)]=(0x0,Y['v4'])()),this['instance'][_0x2f5097(0x362)][_0x2f5097(0x391)]===_0x36f169[_0x2f5097(0x22c)]?.['toString']()&&_0x36f169['status']!=='stopped')throw new Error(_0x2f5097(0x491));if(_0x36f169[_0x2f5097(0x606)]&&_0x36f169[_0x2f5097(0x22c)]){let _0x210374=await this['repository'][_0x2f5097(0x3cf)]['deleteOne'](_0x36f169[_0x2f5097(0x22c)],this[_0x2f5097(0x5ef)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x210374;}let _0x41cd12=null;if(_0x36f169[_0x2f5097(0x22c)]&&(_0x41cd12=await this[_0x2f5097(0x3c6)][_0x2f5097(0x3cf)]['findById'](_0x36f169[_0x2f5097(0x22c)],this[_0x2f5097(0x5ef)][_0x2f5097(0x4d2)])),_0x41cd12){let {_id:_0x54e9ac,owner:_0x111831,messages:_0x51c5e4,..._0x321f25}=_0x36f169;if(_0x51c5e4){let _0x512d15=_0x51c5e4[_0x2f5097(0x497)](_0x4b89ff=>!_0x4b89ff[_0x2f5097(0x22c)]),_0x4df7a6=_0x51c5e4[_0x2f5097(0x497)](_0x34dc53=>_0x34dc53['_id']&&!_0x34dc53[_0x2f5097(0x606)]),_0x47b87c=_0x51c5e4[_0x2f5097(0x497)](_0x5c269a=>_0x5c269a[_0x2f5097(0x22c)]&&_0x5c269a[_0x2f5097(0x606)]);if(_0x512d15[_0x2f5097(0x6f0)]>0x0&&await this[_0x2f5097(0x214)](_0x36f169[_0x2f5097(0x22c)],_0x512d15),_0x4df7a6[_0x2f5097(0x6f0)]>0x0&&await this['editMessagesInGroup']({'_id':_0x36f169['_id'],'messages':_0x4df7a6}),_0x47b87c[_0x2f5097(0x6f0)]>0x0){let _0x22e30a=_0x47b87c['map'](_0x49fc5a=>({'updateOne':{'filter':{'_id':_0x36f169[_0x2f5097(0x22c)]},'update':{'$pull':{'messages':{'_id':_0x49fc5a[_0x2f5097(0x22c)]}}}}}));await this[_0x2f5097(0x3c6)][_0x2f5097(0x3cf)][_0x2f5097(0x547)](_0x22e30a,this['instance'][_0x2f5097(0x4d2)]);}}let _0x328532={'$set':_0x321f25},_0xaf8362=await this[_0x2f5097(0x3c6)]['scheduleMessage'][_0x2f5097(0x472)](_0x36f169['_id'],_0x328532,this['instance'][_0x2f5097(0x4d2)]);return _0xaf8362&&(this['reorderMessages'](_0xaf8362['messages']),await this['repository'][_0x2f5097(0x3cf)][_0x2f5097(0x472)](_0xaf8362[_0x2f5097(0x22c)],{'$set':{'messages':_0xaf8362['messages']}},this[_0x2f5097(0x5ef)][_0x2f5097(0x4d2)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this['transformScheduledMessagesByType'](),_0xaf8362;}else{_0x36f169['owner']=this[_0x2f5097(0x5ef)]['wuid'],_0x36f169[_0x2f5097(0x447)]&&_0x36f169['messages'][_0x2f5097(0x201)](_0x546c06=>{const _0x26992c=_0x2f5097;_0x546c06[_0x26992c(0x22c)]||(_0x546c06[_0x26992c(0x22c)]=(0x0,Y['v4'])()),delete _0x546c06[_0x26992c(0x4e0)];});let _0x320ef5=await this[_0x2f5097(0x3c6)][_0x2f5097(0x3cf)][_0x2f5097(0x4a4)](_0x36f169,this[_0x2f5097(0x5ef)][_0x2f5097(0x4d2)]);return _0x320ef5&&(this['reorderMessages'](_0x320ef5[_0x2f5097(0x447)]),await this[_0x2f5097(0x3c6)]['scheduleMessage'][_0x2f5097(0x472)](_0x320ef5['_id'],{'$set':{'messages':_0x320ef5[_0x2f5097(0x447)]}},this[_0x2f5097(0x5ef)][_0x2f5097(0x4d2)])),setTimeout(()=>this[_0x2f5097(0x37c)](),0x7d0),_0x320ef5;}}catch(_0x294540){let _0x142160=_0x2f5097(0x696),_0xa7ec7d=_0x294540 instanceof Error?_0x294540[_0x2f5097(0x852)]:typeof _0x294540==_0x2f5097(0x545)?JSON[_0x2f5097(0x720)](_0x294540):_0x294540,_0x572898=_0x142160+':\x20'+_0xa7ec7d;throw this['logger'][_0x2f5097(0x4e4)](this['instanceName']+'\x20('+this[_0x2f5097(0x5ef)][_0x2f5097(0x4d2)]+_0x2f5097(0x878)+_0x572898),new m(_0x572898);}}async[a0_0x31011a(0x214)](_0x4caf38,_0xd80c6e){const _0xb59e4b=a0_0x31011a;try{this[_0xb59e4b(0x843)]['verbose'](this[_0xb59e4b(0x5c4)]+'\x20('+this[_0xb59e4b(0x5ef)][_0xb59e4b(0x4d2)]+_0xb59e4b(0x75b)),_0xd80c6e['forEach'](_0x2b0811=>{const _0x214ae5=_0xb59e4b;_0x2b0811[_0x214ae5(0x22c)]||(_0x2b0811[_0x214ae5(0x22c)]=(0x0,Y['v4'])()),delete _0x2b0811[_0x214ae5(0x4e0)];});let _0x44c756={'$push':{'messages':{'$each':_0xd80c6e}}},_0x27677e=await this['repository'][_0xb59e4b(0x3cf)][_0xb59e4b(0x472)](_0x4caf38,_0x44c756,this[_0xb59e4b(0x5ef)][_0xb59e4b(0x4d2)]);return _0x27677e&&(this[_0xb59e4b(0x90c)](_0x27677e[_0xb59e4b(0x447)]),await this[_0xb59e4b(0x3c6)][_0xb59e4b(0x3cf)][_0xb59e4b(0x472)](_0x27677e[_0xb59e4b(0x22c)],{'$set':{'messages':_0x27677e[_0xb59e4b(0x447)]}},this['instance'][_0xb59e4b(0x4d2)])),_0x27677e;}catch(_0x363e5a){let _0x2d4536='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x228bed=_0x363e5a instanceof Error?_0x363e5a[_0xb59e4b(0x852)]:typeof _0x363e5a=='object'?JSON['stringify'](_0x363e5a):_0x363e5a,_0x29a0c2=_0x2d4536+':\x20'+_0x228bed;throw this[_0xb59e4b(0x843)]['error'](this[_0xb59e4b(0x5c4)]+'\x20('+this[_0xb59e4b(0x5ef)][_0xb59e4b(0x4d2)]+'):\x20'+_0x29a0c2),new m(_0x29a0c2);}}async[a0_0x31011a(0x550)](_0x3188b9){const _0x303411=a0_0x31011a;try{if(this[_0x303411(0x843)][_0x303411(0x45c)](this['instanceName']+'\x20('+this[_0x303411(0x5ef)][_0x303411(0x4d2)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x3188b9[_0x303411(0x22c)]||!_0x3188b9['messages'])throw new Error(_0x303411(0x6f9));let _0x527301=_0x3188b9[_0x303411(0x22c)],_0x21b4ca=_0x3188b9[_0x303411(0x447)],_0x3509bc=_0x21b4ca[_0x303411(0x497)](_0x44b773=>!_0x44b773['delete'])[_0x303411(0x74c)](_0x507dbe=>{const _0x147b3d=_0x303411;let _0x5ecb71=_0x507dbe[_0x147b3d(0x22c)];if(!_0x5ecb71)throw new Error(_0x147b3d(0x82f));return delete _0x507dbe[_0x147b3d(0x4e0)],{'updateOne':{'filter':{'_id':_0x527301,'messages._id':_0x5ecb71},'update':{'$set':{'messages.$[elem]':_0x507dbe}},'arrayFilters':[{'elem._id':_0x5ecb71}]}};}),_0xfa6826=_0x21b4ca[_0x303411(0x497)](_0x1854c2=>_0x1854c2['delete'])[_0x303411(0x74c)](_0x14f3d3=>{const _0x449662=_0x303411;let _0x2ab09f=_0x14f3d3[_0x449662(0x22c)];if(!_0x2ab09f)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x527301},'update':{'$pull':{'messages':{'_id':_0x2ab09f}}}}};}),_0x2a6fc9=[..._0x3509bc,..._0xfa6826],_0x118270=await this[_0x303411(0x3c6)][_0x303411(0x3cf)]['bulkWrite'](_0x2a6fc9,this[_0x303411(0x5ef)]['wuid']),_0x26892d=await this[_0x303411(0x3c6)][_0x303411(0x3cf)][_0x303411(0x258)](_0x527301,this[_0x303411(0x5ef)][_0x303411(0x4d2)]);return _0x26892d&&(this[_0x303411(0x90c)](_0x26892d[_0x303411(0x447)]),await this['repository'][_0x303411(0x3cf)][_0x303411(0x472)](_0x26892d['_id'],{'$set':{'messages':_0x26892d[_0x303411(0x447)]}},this['instance'][_0x303411(0x4d2)])),_0x26892d;}catch(_0x7d1215){let _0x539d2d=_0x303411(0x33b),_0x451d8f=_0x7d1215 instanceof Error?_0x7d1215['message']:typeof _0x7d1215==_0x303411(0x545)?JSON[_0x303411(0x720)](_0x7d1215):_0x7d1215,_0x58b469=_0x539d2d+':\x20'+_0x451d8f;throw this[_0x303411(0x843)]['error'](this[_0x303411(0x5c4)]+'\x20('+this[_0x303411(0x5ef)][_0x303411(0x4d2)]+'):\x20'+_0x58b469),new m(_0x58b469);}}async[a0_0x31011a(0x8e4)](){const _0x4a9d7c=a0_0x31011a;try{let _0x5875c5={'status':_0x4a9d7c(0x2d7)},_0x1cab8c=await this[_0x4a9d7c(0x3c6)][_0x4a9d7c(0x3cf)]['deleteMany'](_0x5875c5,this[_0x4a9d7c(0x5ef)][_0x4a9d7c(0x4d2)]);if(!_0x1cab8c['error'])this['logger'][_0x4a9d7c(0x45c)](this[_0x4a9d7c(0x5c4)]+'\x20('+this['instance'][_0x4a9d7c(0x4d2)]+_0x4a9d7c(0x5a0));else throw new Error(_0x1cab8c[_0x4a9d7c(0x4e4)]['message']||_0x4a9d7c(0x89b));return this[_0x4a9d7c(0x4c2)]();}catch(_0x258cea){let _0x6d7693='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done',_0x441024=_0x258cea instanceof Error?_0x258cea[_0x4a9d7c(0x852)]:typeof _0x258cea==_0x4a9d7c(0x545)?JSON[_0x4a9d7c(0x720)](_0x258cea):_0x258cea,_0x330e03=_0x6d7693+':\x20'+_0x441024;throw this[_0x4a9d7c(0x843)][_0x4a9d7c(0x4e4)](this[_0x4a9d7c(0x5c4)]+'\x20('+this[_0x4a9d7c(0x5ef)][_0x4a9d7c(0x4d2)]+_0x4a9d7c(0x878)+_0x330e03),new m(_0x330e03);}}async[a0_0x31011a(0x4c2)](){const _0x1fe0d3=a0_0x31011a;try{return await this[_0x1fe0d3(0x3c6)]['scheduleMessage'][_0x1fe0d3(0x90d)]({'where':{}},this[_0x1fe0d3(0x5ef)][_0x1fe0d3(0x4d2)]);}catch(_0x5cf465){let _0x579eae=_0x1fe0d3(0x297),_0x51e480=_0x5cf465 instanceof Error?_0x5cf465[_0x1fe0d3(0x852)]:typeof _0x5cf465==_0x1fe0d3(0x545)?JSON[_0x1fe0d3(0x720)](_0x5cf465):_0x5cf465,_0x598bd7=_0x579eae+':\x20'+_0x51e480;throw this[_0x1fe0d3(0x843)][_0x1fe0d3(0x4e4)](this[_0x1fe0d3(0x5c4)]+'\x20('+this[_0x1fe0d3(0x5ef)][_0x1fe0d3(0x4d2)]+_0x1fe0d3(0x878)+_0x598bd7),new m(_0x598bd7);}}['reorderMessages'](_0x301178){const _0x64d80=a0_0x31011a;_0x301178[_0x64d80(0x357)]((_0x178a06,_0x158259)=>_0x178a06[_0x64d80(0x3fb)]-_0x158259[_0x64d80(0x3fb)]),_0x301178['forEach']((_0x4f44aa,_0x2d17d8)=>{const _0x25f7e4=_0x64d80;_0x4f44aa[_0x25f7e4(0x3fb)]=_0x2d17d8+0x1;});}async[a0_0x31011a(0x738)](_0x11ded6){const _0x46526b=a0_0x31011a;try{if(this['logger']['verbose'](this[_0x46526b(0x5c4)]+'\x20('+this[_0x46526b(0x5ef)][_0x46526b(0x4d2)]+_0x46526b(0x1f3)),_0x11ded6['delete']&&_0x11ded6[_0x46526b(0x22c)]){if(this[_0x46526b(0x5ef)][_0x46526b(0x362)][_0x46526b(0x391)]===_0x11ded6[_0x46526b(0x22c)][_0x46526b(0x45e)]())throw new Error(_0x46526b(0x67f));let _0x1e416c=await this[_0x46526b(0x3c6)][_0x46526b(0x3cf)][_0x46526b(0x584)](_0x11ded6[_0x46526b(0x22c)],this[_0x46526b(0x5ef)][_0x46526b(0x4d2)]);return setTimeout(()=>this[_0x46526b(0x37c)](),0x7d0),_0x1e416c;}let _0x5906e8;if(_0x11ded6[_0x46526b(0x22c)]&&(_0x5906e8=await this[_0x46526b(0x3c6)][_0x46526b(0x3cf)]['findById'](_0x11ded6[_0x46526b(0x22c)],this['instance'][_0x46526b(0x4d2)])),_0x5906e8){let _0x12adf6;if(this['instance'][_0x46526b(0x362)][_0x46526b(0x391)]===_0x5906e8['_id']['toString']())_0x12adf6={'$set':{'status':_0x11ded6[_0x46526b(0x893)]}};else{let {_id:_0xeec964,..._0x2660f1}=_0x11ded6;_0x12adf6={'$set':_0x2660f1};}let _0x5d6fcd=await this[_0x46526b(0x3c6)]['scheduleMessage'][_0x46526b(0x472)](_0x11ded6['_id'],_0x12adf6,this['instance'][_0x46526b(0x4d2)]);return setTimeout(()=>this[_0x46526b(0x37c)](),0x7d0),_0x5d6fcd;}else{_0x11ded6[_0x46526b(0x5d1)]=this[_0x46526b(0x5ef)][_0x46526b(0x4d2)];let _0x2d21da=await this[_0x46526b(0x3c6)][_0x46526b(0x3cf)][_0x46526b(0x4a4)](_0x11ded6,this[_0x46526b(0x5ef)]['wuid']);return setTimeout(()=>this[_0x46526b(0x37c)](),0x7d0),_0x2d21da;}}catch(_0x3063e9){let _0xd440fc=_0x46526b(0x36d),_0x5376ee=_0x3063e9 instanceof Error?_0x3063e9['message']:typeof _0x3063e9==_0x46526b(0x545)?JSON[_0x46526b(0x720)](_0x3063e9):_0x3063e9,_0x59d5a8=_0xd440fc+':\x20'+_0x5376ee;throw this[_0x46526b(0x843)][_0x46526b(0x4e4)](this['instanceName']+'\x20('+this[_0x46526b(0x5ef)]['wuid']+_0x46526b(0x878)+_0x59d5a8),new m(_0x59d5a8);}}async[a0_0x31011a(0x5a1)](){const _0x53837c=a0_0x31011a;try{let _0x2faed6={'status':_0x53837c(0x2d7)},_0x513f38=await this['repository'][_0x53837c(0x3cf)][_0x53837c(0x45f)](_0x2faed6,this[_0x53837c(0x5ef)][_0x53837c(0x4d2)]);if(!_0x513f38[_0x53837c(0x4e4)])this['logger']['verbose'](this[_0x53837c(0x5c4)]+'\x20('+this[_0x53837c(0x5ef)][_0x53837c(0x4d2)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x513f38[_0x53837c(0x4e4)][_0x53837c(0x852)]||_0x53837c(0x716));return this[_0x53837c(0x4c2)]();}catch(_0x2a6a82){let _0x5e82fb=_0x53837c(0x5f8),_0x3c9b27=_0x2a6a82 instanceof Error?_0x2a6a82[_0x53837c(0x852)]:typeof _0x2a6a82==_0x53837c(0x545)?JSON[_0x53837c(0x720)](_0x2a6a82):_0x2a6a82,_0x4efc85=_0x5e82fb+':\x20'+_0x3c9b27;throw this[_0x53837c(0x843)][_0x53837c(0x4e4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x53837c(0x878)+_0x4efc85),new m(_0x4efc85);}}async[a0_0x31011a(0x2b5)](_0x46d712,_0x253ad5){const _0x4e2089=a0_0x31011a;try{if(!_0x253ad5)return this['logger'][_0x4e2089(0x4e4)](this[_0x4e2089(0x5c4)]+'\x20('+this['instance'][_0x4e2089(0x4d2)]+_0x4e2089(0x895)),{'error':!0x0,'detail':_0x4e2089(0x3d5)};if(_0x253ad5[_0x4e2089(0x294)]==='flow'&&!this[_0x4e2089(0x74b)]?.[_0x4e2089(0x250)][_0x4e2089(0x2ac)])return this[_0x4e2089(0x843)][_0x4e2089(0x4e4)](this[_0x4e2089(0x5c4)]+'\x20('+this[_0x4e2089(0x5ef)][_0x4e2089(0x4d2)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x4e2089(0x573)};switch(_0x253ad5['type']){case _0x4e2089(0x64c):return await this[_0x4e2089(0x3e5)](_0x253ad5,_0x46d712);case _0x4e2089(0x635):case _0x4e2089(0x3d8):case'document':return await this[_0x4e2089(0x409)](_0x253ad5,_0x46d712);case _0x4e2089(0x56d):return await this['scheduleSendAudio'](_0x253ad5,_0x46d712);case _0x4e2089(0x8c7):let _0xd8f408=new He();return _0xd8f408['name']=_0x253ad5[_0x4e2089(0x8c7)],_0xd8f408['remoteJid']=_0x46d712,await this[_0x4e2089(0x7d6)](_0xd8f408);default:return this[_0x4e2089(0x843)][_0x4e2089(0x4e4)](this[_0x4e2089(0x5c4)]+'\x20('+this[_0x4e2089(0x5ef)][_0x4e2089(0x4d2)]+_0x4e2089(0x4b3)+_0x253ad5[_0x4e2089(0x294)]),{'error':!0x0,'detail':_0x4e2089(0x352)};}}catch(_0x4489cd){return this[_0x4e2089(0x843)]['error'](this[_0x4e2089(0x5c4)]+'\x20('+this[_0x4e2089(0x5ef)][_0x4e2089(0x4d2)]+_0x4e2089(0x583)+(_0x4489cd instanceof Error?_0x4489cd[_0x4e2089(0x852)]:JSON[_0x4e2089(0x720)](_0x4489cd,null,0x2))),{'error':!0x0,'detail':_0x4489cd[_0x4e2089(0x852)]};}}async[a0_0x31011a(0x3e5)](_0xc04b02,_0x196313){const _0x136f90=a0_0x31011a;if(this[_0x136f90(0x843)][_0x136f90(0x45c)](this[_0x136f90(0x5c4)]+'\x20('+this['instance']['wuid']+_0x136f90(0x386)+_0x196313+'\x27'),!_0xc04b02[_0x136f90(0x64c)]||_0xc04b02[_0x136f90(0x64c)][_0x136f90(0x6f0)]===0x0)return{'error':!0x0,'detail':_0x136f90(0x5e8)};let _0x7bc902=await this[_0x136f90(0x728)](_0xc04b02[_0x136f90(0x64c)],_0x196313),_0x5f52ca={'number':_0x196313,'options':{'delay':_0xc04b02[_0x136f90(0x430)],'linkPreview':_0xc04b02[_0x136f90(0x2eb)]},'textMessage':{'text':_0x7bc902}},_0x4ab9be=null;try{let _0x21783c=await this[_0x136f90(0x338)](_0x5f52ca);if(_0x21783c&&_0x21783c[_0x136f90(0x893)])return{'error':!0x1,'id':_0x21783c[_0x136f90(0x683)]['id']};_0x4ab9be=JSON[_0x136f90(0x720)](_0x21783c),this[_0x136f90(0x843)][_0x136f90(0x45c)](this['instanceName']+'\x20('+this[_0x136f90(0x5ef)][_0x136f90(0x4d2)]+_0x136f90(0x878)+_0x4ab9be);}catch(_0x5113c7){this[_0x136f90(0x843)][_0x136f90(0x4e4)](this[_0x136f90(0x5c4)]+'\x20('+this[_0x136f90(0x5ef)][_0x136f90(0x4d2)]+_0x136f90(0x427)+(_0x5113c7 instanceof Error?_0x5113c7[_0x136f90(0x852)]:JSON[_0x136f90(0x720)](_0x5113c7,null,0x2))),_0x4ab9be=_0x5113c7[_0x136f90(0x852)];}if(_0x4ab9be)return{'error':!0x0,'detail':(typeof _0x4ab9be==_0x136f90(0x545)?JSON[_0x136f90(0x720)](_0x4ab9be,null,0x2):_0x4ab9be)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x31011a(0x409)](_0x549b81,_0x10db92){const _0x47867a=a0_0x31011a;this[_0x47867a(0x843)][_0x47867a(0x45c)](this[_0x47867a(0x5c4)]+'\x20('+this[_0x47867a(0x5ef)][_0x47867a(0x4d2)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x10db92+'\x27');let _0x1308ae;_0x549b81[_0x47867a(0x64c)]&&_0x549b81[_0x47867a(0x64c)][_0x47867a(0x6f0)]>0x0&&(_0x1308ae=await this[_0x47867a(0x728)](_0x549b81[_0x47867a(0x64c)],_0x10db92));let _0x552113={'number':_0x10db92,'options':{'delay':_0x549b81[_0x47867a(0x430)],'linkPreview':_0x549b81[_0x47867a(0x2eb)]},'mediaMessage':{'mediatype':_0x549b81['type'],'caption':_0x1308ae,'media':_0x549b81[_0x47867a(0x403)]}},_0x2f99bf=null;try{let _0x4d6470=await this[_0x47867a(0x24d)](_0x552113);if(_0x4d6470&&_0x4d6470[_0x47867a(0x893)])return{'error':!0x1,'id':_0x4d6470[_0x47867a(0x683)]['id']};_0x2f99bf=JSON[_0x47867a(0x720)](_0x4d6470),this['logger'][_0x47867a(0x45c)](this['instanceName']+'\x20('+this[_0x47867a(0x5ef)][_0x47867a(0x4d2)]+_0x47867a(0x878)+_0x2f99bf);}catch(_0x1d410f){this['logger']['error'](this[_0x47867a(0x5c4)]+'\x20('+this[_0x47867a(0x5ef)][_0x47867a(0x4d2)]+_0x47867a(0x3d1)+(_0x1d410f instanceof Error?_0x1d410f[_0x47867a(0x852)]:JSON[_0x47867a(0x720)](_0x1d410f,null,0x2))),_0x2f99bf=_0x1d410f[_0x47867a(0x852)];}if(_0x2f99bf)return{'error':!0x0,'detail':(typeof _0x2f99bf==_0x47867a(0x545)?JSON[_0x47867a(0x720)](_0x2f99bf,null,0x2):_0x2f99bf)[_0x47867a(0x929)](/[\[\]{}\n]/g,'\x20')[_0x47867a(0x929)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x443ae3,_0x19e600){const _0x23947b=a0_0x31011a;this[_0x23947b(0x843)][_0x23947b(0x45c)](this[_0x23947b(0x5c4)]+'\x20('+this[_0x23947b(0x5ef)][_0x23947b(0x4d2)]+_0x23947b(0x63c)+_0x19e600+'\x27');let _0x19a343={'number':_0x19e600,'options':{'delay':_0x443ae3[_0x23947b(0x430)]},'audioMessage':{'audio':_0x443ae3[_0x23947b(0x403)]}},_0x56a199=null;try{let _0x233afc=await this['audioWhatsapp'](_0x19a343);if(_0x233afc&&_0x233afc[_0x23947b(0x893)])return{'error':!0x1,'id':_0x233afc[_0x23947b(0x683)]['id']};_0x56a199=JSON[_0x23947b(0x720)](_0x233afc),this[_0x23947b(0x843)][_0x23947b(0x45c)](this['instanceName']+'\x20('+this[_0x23947b(0x5ef)]['wuid']+_0x23947b(0x878)+_0x56a199);}catch(_0x15cd88){this[_0x23947b(0x843)][_0x23947b(0x4e4)](this[_0x23947b(0x5c4)]+'\x20('+this['instance'][_0x23947b(0x4d2)]+_0x23947b(0x43e)+(_0x15cd88 instanceof Error?_0x15cd88[_0x23947b(0x852)]:JSON[_0x23947b(0x720)](_0x15cd88,null,0x2))),_0x56a199=_0x15cd88[_0x23947b(0x852)];}if(_0x56a199)return{'error':!0x0,'detail':(typeof _0x56a199=='object'?JSON[_0x23947b(0x720)](_0x56a199,null,0x2):_0x56a199)[_0x23947b(0x929)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x31011a(0x8cf)](_0x3e0b64){const _0x2aab21=a0_0x31011a;try{return await this[_0x2aab21(0x286)][_0x2aab21(0x8e0)](_0x3e0b64[_0x2aab21(0x2a1)],_0x3e0b64[_0x2aab21(0x61c)]),{'update':'success'};}catch(_0x3ccf91){let _0x14ffe2='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x455c10=_0x3ccf91 instanceof Error?_0x3ccf91[_0x2aab21(0x852)]:typeof _0x3ccf91==_0x2aab21(0x545)?JSON[_0x2aab21(0x720)](_0x3ccf91):_0x3ccf91,_0x4bd822=_0x14ffe2+':\x20'+_0x455c10;throw this[_0x2aab21(0x843)][_0x2aab21(0x4e4)](this[_0x2aab21(0x5c4)]+'\x20('+this[_0x2aab21(0x5ef)][_0x2aab21(0x4d2)]+'):\x20'+_0x4bd822),new x(_0x4bd822);}}async[a0_0x31011a(0x601)](_0x219fcd){const _0x3fe480=a0_0x31011a;try{return await this[_0x3fe480(0x286)]['groupUpdateSubject'](_0x219fcd[_0x3fe480(0x2a1)],_0x219fcd[_0x3fe480(0x3a4)]),{'update':'success'};}catch(_0x5dfaa9){let _0x299522=_0x3fe480(0x6c1),_0x5be6de=_0x5dfaa9 instanceof Error?_0x5dfaa9[_0x3fe480(0x852)]:typeof _0x5dfaa9==_0x3fe480(0x545)?JSON[_0x3fe480(0x720)](_0x5dfaa9):_0x5dfaa9,_0x1c6fff=_0x299522+':\x20'+_0x5be6de;throw this[_0x3fe480(0x843)][_0x3fe480(0x4e4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3fe480(0x878)+_0x1c6fff),new x(_0x1c6fff);}}async[a0_0x31011a(0x7e0)](_0x69a237){const _0x332fe1=a0_0x31011a;try{let _0x3c31ef=await this[_0x332fe1(0x286)][_0x332fe1(0x751)](_0x69a237[_0x332fe1(0x2a1)],_0x69a237[_0x332fe1(0x26c)]);return{'success':!0x0};}catch(_0xf8f313){let _0x249979=_0x332fe1(0x373),_0x12b859=_0xf8f313 instanceof Error?_0xf8f313[_0x332fe1(0x852)]:typeof _0xf8f313==_0x332fe1(0x545)?JSON['stringify'](_0xf8f313):_0xf8f313,_0x312a2c=_0x249979+':\x20'+_0x12b859;throw this[_0x332fe1(0x843)][_0x332fe1(0x4e4)](this[_0x332fe1(0x5c4)]+'\x20('+this['instance'][_0x332fe1(0x4d2)]+_0x332fe1(0x878)+_0x312a2c),new x(_0x312a2c);}}async[a0_0x31011a(0x2ef)](_0x29e5ef){const _0x241384=a0_0x31011a;try{return await this[_0x241384(0x286)][_0x241384(0x321)](_0x29e5ef['groupJid'],_0x29e5ef[_0x241384(0x24e)]),{'update':_0x241384(0x213)};}catch(_0x21afbf){let _0x5d40f5=_0x241384(0x90e),_0x45382f=_0x21afbf instanceof Error?_0x21afbf[_0x241384(0x852)]:typeof _0x21afbf==_0x241384(0x545)?JSON[_0x241384(0x720)](_0x21afbf):_0x21afbf,_0x644f2d=_0x5d40f5+':\x20'+_0x45382f;throw this['logger'][_0x241384(0x4e4)](this[_0x241384(0x5c4)]+'\x20('+this[_0x241384(0x5ef)]['wuid']+'):\x20'+_0x644f2d),new x(_0x644f2d);}}async[a0_0x31011a(0x515)](_0x9f8ae3){const _0x437110=a0_0x31011a;try{let _0x2d8f6f;if((0x0,k['isURL'])(_0x9f8ae3[_0x437110(0x3d8)])){let _0x1e7702=new Date()[_0x437110(0x78f)](),_0x150269=_0x9f8ae3[_0x437110(0x3d8)]+_0x437110(0x312)+_0x1e7702;_0x2d8f6f=(await Q[_0x437110(0x20b)][_0x437110(0x67e)](_0x150269,{'responseType':'arraybuffer'}))[_0x437110(0x3fa)];}else{if((0x0,k[_0x437110(0x3ac)])(_0x9f8ae3[_0x437110(0x3d8)]))_0x2d8f6f=Buffer['from'](_0x9f8ae3[_0x437110(0x3d8)],_0x437110(0x401));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x437110(0x286)][_0x437110(0x567)](_0x9f8ae3[_0x437110(0x2a1)],_0x2d8f6f),{'update':_0x437110(0x213)};}catch(_0x44133c){let _0x4637da=_0x437110(0x2ce),_0xe2ce26=_0x44133c instanceof Error?_0x44133c[_0x437110(0x852)]:typeof _0x44133c=='object'?JSON[_0x437110(0x720)](_0x44133c):_0x44133c,_0x3fa7a4=_0x4637da+':\x20'+_0xe2ce26;throw this[_0x437110(0x843)][_0x437110(0x4e4)](this[_0x437110(0x5c4)]+'\x20('+this[_0x437110(0x5ef)][_0x437110(0x4d2)]+_0x437110(0x878)+_0x3fa7a4),new x(_0x3fa7a4);}}},Gt=class l{constructor(_0x117e93,_0xe30ed8,_0x3cc758){const _0x337e8b=a0_0x31011a;this[_0x337e8b(0x36a)]=_0x117e93,this[_0x337e8b(0x58e)]=_0xe30ed8,this[_0x337e8b(0x3c6)]=_0x3cc758,this['db']={},this[_0x337e8b(0x8e1)]={},this[_0x337e8b(0x843)]=new $(l['name']),this[_0x337e8b(0x831)]={},(this['removeInstance'](),this[_0x337e8b(0x581)](),Object['assign'](this['db'],_0xe30ed8['get'](_0x337e8b(0x578))),Object['assign'](this[_0x337e8b(0x8e1)],_0xe30ed8[_0x337e8b(0x67e)](_0x337e8b(0x343))),this[_0x337e8b(0x7d0)]=this['db'][_0x337e8b(0x844)]?this[_0x337e8b(0x3c6)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x337e8b(0x7e4)]+_0x337e8b(0x28b)):void 0x0,this[_0x337e8b(0x8b5)]=this[_0x337e8b(0x8e1)][_0x337e8b(0x844)]?new pe(this[_0x337e8b(0x8e1)]):void 0x0);}async[a0_0x31011a(0x6a2)](_0x2153fd){const _0x51bcad=a0_0x31011a;if(_0x2153fd&&!this[_0x51bcad(0x831)][_0x2153fd])throw new J(_0x51bcad(0x40c)+_0x2153fd+_0x51bcad(0x810));let _0x4c16f3=[];for await(let [_0x4a6f49,_0x155b68]of Object[_0x51bcad(0x910)](this['waInstances']))if(_0x155b68&&_0x155b68[_0x51bcad(0x92d)][_0x51bcad(0x2e2)]===_0x51bcad(0x2cf)){let _0x276cce=await this[_0x51bcad(0x3c6)][_0x51bcad(0x6e5)][_0x51bcad(0x90d)](_0x4a6f49);_0x4c16f3[_0x51bcad(0x3ec)]({'instance':{'instanceName':_0x4a6f49,'apikey':_0x276cce[_0x51bcad(0x698)],'owner':_0x155b68['wuid'],'profileName':await _0x155b68['getProfileName']()||_0x51bcad(0x92b),'profilePictureUrl':_0x155b68[_0x51bcad(0x4fb)]}});}return _0x4c16f3[_0x51bcad(0x90d)](_0x2d6908=>_0x2d6908[_0x51bcad(0x5ef)][_0x51bcad(0x5c4)]===_0x2153fd)??_0x4c16f3;}async[a0_0x31011a(0x741)](_0x1f5a83){const _0x18e3d3=a0_0x31011a;if(this['db'][_0x18e3d3(0x844)]&&(await this[_0x18e3d3(0x3c6)][_0x18e3d3(0x5fb)][_0x18e3d3(0x3c8)](),(await this['dbInstance'][_0x18e3d3(0x931)]())[_0x18e3d3(0x6f0)]>0x0&&await this[_0x18e3d3(0x7d0)][_0x18e3d3(0x894)](_0x1f5a83)),this[_0x18e3d3(0x8e1)][_0x18e3d3(0x844)]){this[_0x18e3d3(0x8b5)][_0x18e3d3(0x75c)]=_0x1f5a83,await this[_0x18e3d3(0x8b5)][_0x18e3d3(0x886)]();return;}}async['loadInstance'](){const _0x3cb99b=a0_0x31011a;await this['InstancesAlterarTodas']();let _0x4f738d=async _0x4fc2ba=>{const _0x3a3ad3=a0_0x2776;let _0x287795=new Ne(this['configService'],this[_0x3a3ad3(0x36a)],this['repository']);_0x287795[_0x3a3ad3(0x5c4)]=_0x4fc2ba,await _0x287795[_0x3a3ad3(0x82e)](),this[_0x3a3ad3(0x831)][_0x4fc2ba]=_0x287795;};try{if(this[_0x3cb99b(0x8e1)][_0x3cb99b(0x844)]){let _0xe802ec=await this[_0x3cb99b(0x8b5)][_0x3cb99b(0x7e8)]();_0xe802ec?.['length']>0x0&&_0xe802ec[_0x3cb99b(0x201)](async _0x3536b5=>await _0x4f738d(_0x3536b5[_0x3cb99b(0x912)](':')[0x1]));return;}if(this['db'][_0x3cb99b(0x844)]){await this[_0x3cb99b(0x3c6)]['dbServer'][_0x3cb99b(0x3c8)]();let _0x314ffd=await this['dbInstance'][_0x3cb99b(0x931)]();_0x314ffd[_0x3cb99b(0x6f0)]>0x0&&_0x314ffd[_0x3cb99b(0x201)](async _0x4da6f7=>await _0x4f738d(_0x4da6f7[_0x3cb99b(0x410)][_0x3cb99b(0x929)](/^[\w-]+\./,'')));return;}}catch(_0x321593){this[_0x3cb99b(0x843)]['error'](_0x321593);}}async[a0_0x31011a(0x218)](){const _0x5ef46e=a0_0x31011a;try{let _0x2a45fe=await this[_0x5ef46e(0x3c6)][_0x5ef46e(0x6e5)][_0x5ef46e(0x701)]({'online':!0x1});for(let _0x51cec9 of _0x2a45fe){let _0x1f5bb6=_0x51cec9[_0x5ef46e(0x22c)];await he[_0x5ef46e(0x71d)](X,_0x1f5bb6);}console['log'](_0x5ef46e(0x518)+_0x2a45fe[_0x5ef46e(0x6f0)]);let _0x558f67={'online':!0x1},_0x25c52f=await this['repository'][_0x5ef46e(0x6e5)][_0x5ef46e(0x45f)](_0x558f67);console[_0x5ef46e(0x200)]('Instâncias\x20removidas:\x20'+_0x25c52f[_0x5ef46e(0x52a)]);}catch(_0x513030){console[_0x5ef46e(0x4e4)](_0x5ef46e(0x5b9),_0x513030);}}async[a0_0x31011a(0x283)](){const _0x107408=a0_0x31011a;try{let _0x47f691={'online':!0x1},_0x5b99fe={'online':!0x1,'lastDisconnect':Date[_0x107408(0x6d9)]()},_0x2ac6cf=await this['repository']['auth'][_0x107408(0x85f)](_0x47f691,_0x5b99fe);await this['cleanDisconnectedInstances']();}catch(_0x370fa8){console[_0x107408(0x4e4)](_0x107408(0x6ac),_0x370fa8);}}[a0_0x31011a(0x7d4)](){const _0x571f83=a0_0x31011a;this[_0x571f83(0x36a)]['on']('remove.instance',async _0x285702=>{const _0x1cd8d7=_0x571f83;try{this[_0x1cd8d7(0x831)][_0x285702]=void 0x0;}catch{}try{this['cleaningUp'](_0x285702);}finally{this[_0x1cd8d7(0x843)][_0x1cd8d7(0x273)](_0x1cd8d7(0x40c)+_0x285702+'\x22\x20-\x20REMOVED');}});}[a0_0x31011a(0x581)](){const _0x2dcf1b=a0_0x31011a;this[_0x2dcf1b(0x36a)]['on'](_0x2dcf1b(0x76f),async _0x3c2c9d=>{const _0x3eeff2=_0x2dcf1b;try{this[_0x3eeff2(0x831)][_0x3c2c9d]=void 0x0;}catch{}try{this[_0x3eeff2(0x741)](_0x3c2c9d);}finally{this[_0x3eeff2(0x843)][_0x3eeff2(0x273)](_0x3eeff2(0x40c)+_0x3c2c9d+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Bt=class extends _{['getChatModelForOwner'](_0x336c8f){return ia(_0x336c8f);}async['insert'](_0x1ba854){const _0x2155be=a0_0x31011a;if(_0x1ba854[_0x2155be(0x6f0)]!==0x0)try{return{'insertCount':(await this[_0x2155be(0x2fa)](_0x1ba854[0x0][_0x2155be(0x5d1)])[_0x2155be(0x1e9)]([..._0x1ba854]))[_0x2155be(0x6f0)]};}catch(_0x48848c){return _0x48848c;}}async[a0_0x31011a(0x90d)](_0xf71e42,_0x13cc53){const _0x2fd97b=a0_0x31011a;try{let _0x32493e=this['getChatModelForOwner'](_0x13cc53),_0x11cf01=I(_0xf71e42[_0x2fd97b(0x750)]);return await _0x32493e['find'](_0x11cf01)[_0x2fd97b(0x357)]({'lastmsg':-0x1})['limit'](_0xf71e42?.[_0x2fd97b(0x2ff)]??0x0)['lean']();}catch{return[];}}async[a0_0x31011a(0x606)](_0x56720a,_0xb839f9){const _0x4795bc=a0_0x31011a;try{return{'deletedCount':(await this[_0x4795bc(0x2fa)](_0xb839f9)[_0x4795bc(0x45f)]({..._0x56720a[_0x4795bc(0x750)]}))[_0x4795bc(0x23a)]};}catch(_0x22b4ae){return{'error':_0x22b4ae?.[_0x4795bc(0x45e)]()};}}async[a0_0x31011a(0x4bf)](_0xe6617d,_0x795cf7){const _0x381cb1=a0_0x31011a;try{return await this[_0x381cb1(0x2fa)](_0x795cf7)[_0x381cb1(0x45f)]({..._0xe6617d[_0x381cb1(0x750)]}),[];}catch(_0x4e1593){return{'error':_0x4e1593?.[_0x381cb1(0x45e)]()};}}async['findOne'](_0x480e83,_0x3f4cee){const _0x340bb2=a0_0x31011a;try{let _0x1cac5a=this['getChatModelForOwner'](_0x3f4cee),_0x4260f0=I(_0x480e83[_0x340bb2(0x750)]);return await _0x1cac5a['findOne'](_0x4260f0)[_0x340bb2(0x4cd)]();}catch{return null;}}async[a0_0x31011a(0x449)](_0x5e1924,_0xb1a284,_0x58aeec,_0x14de73,_0x5cb573=a0_0x31011a(0x39d)){const _0x6cc621=a0_0x31011a;try{let _0x57c061={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x14de73},_0x5f3602=this[_0x6cc621(0x2fa)](_0x58aeec),_0x3fc447=I(_0x5e1924[_0x6cc621(0x750)]);Object['keys'](_0xb1a284)[_0x6cc621(0x201)](_0x684ba2=>{_0xb1a284[_0x684ba2]==null&&delete _0xb1a284[_0x684ba2];});let _0x26dbb6={};return _0x26dbb6[_0x5cb573]=_0xb1a284,await _0x5f3602[_0x6cc621(0x677)](_0x3fc447,_0x26dbb6,_0x57c061);}catch(_0x204c38){return console['error'](_0x204c38),null;}}async[a0_0x31011a(0x1ef)](_0x406ed9){const _0x19b0a=a0_0x31011a;try{let _0x4dbbf6=this[_0x19b0a(0x2fa)](_0x406ed9[0x0]['query']['where']['owner']),_0x3519ff=_0x406ed9['map'](_0xb44b77=>({'updateOne':{'filter':{..._0xb44b77[_0x19b0a(0x7f0)][_0x19b0a(0x750)]},'update':{'$set':_0xb44b77[_0x19b0a(0x4da)]},'upsert':!0x0}})),_0x5dc2c9=await _0x4dbbf6[_0x19b0a(0x547)](_0x3519ff);return _0x5dc2c9[_0x19b0a(0x46c)]+_0x5dc2c9[_0x19b0a(0x246)];}catch(_0x2697dc){return console['error'](_0x2697dc),0x0;}}async[a0_0x31011a(0x49c)](_0x3c0372){const _0x23289d=a0_0x31011a;try{let _0x370ce6={'group_isCommunity':'','group_announce':'','group_size':''},_0x1a826c={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x53fa0a={'$unset':_0x370ce6};return(await this[_0x23289d(0x2fa)](_0x3c0372)[_0x23289d(0x1ef)](_0x1a826c,_0x53fa0a))[_0x23289d(0x46c)];}catch(_0xc1c5d7){return console[_0x23289d(0x4e4)](_0x23289d(0x5e3),_0xc1c5d7),0x0;}}async[a0_0x31011a(0x69f)](_0x3bd4c1){const _0x4aceb6=a0_0x31011a;try{let _0x578c78=this['getChatModelForOwner'](_0x3bd4c1),_0xd6ec55={'leadInfo.etiquetas':{'$exists':!0x1}},_0xa77c40={'$set':{'leadInfo.etiquetas':[]}};return(await _0x578c78['updateMany'](_0xd6ec55,_0xa77c40))[_0x4aceb6(0x46c)];}catch(_0x220998){return console['error'](_0x220998),0x0;}}async[a0_0x31011a(0x8ac)](_0x4e75f1){const _0x533537=a0_0x31011a;try{let _0x27052f=this[_0x533537(0x2fa)](_0x4e75f1),_0x241249={'leadInfo.tags':{'$exists':!0x1}},_0x3c121b={'$set':{'leadInfo.tags':[]}};return(await _0x27052f[_0x533537(0x1ef)](_0x241249,_0x3c121b))[_0x533537(0x46c)];}catch(_0x286f1a){return console[_0x533537(0x4e4)](_0x286f1a),0x0;}}async[a0_0x31011a(0x72f)](_0xf5697b){const _0x328be8=a0_0x31011a;try{let _0x15cbcc=this['getChatModelForOwner'](_0xf5697b),_0x3a1c99={'leadInfo.customFields':{'$exists':!0x1}},_0x50144c={'$set':{'leadInfo.customFields':[]}};return(await _0x15cbcc[_0x328be8(0x1ef)](_0x3a1c99,_0x50144c))[_0x328be8(0x46c)];}catch(_0x2c2e78){return console[_0x328be8(0x4e4)](_0x2c2e78),0x0;}}async[a0_0x31011a(0x1e9)](_0xb5f5f8,_0x4a64b1){const _0x42239a=a0_0x31011a;if(!Array['isArray'](_0xb5f5f8)||_0xb5f5f8[_0x42239a(0x6f0)]===0x0)throw new Error(_0x42239a(0x634));try{return(await this[_0x42239a(0x2fa)](_0x4a64b1)[_0x42239a(0x1e9)](_0xb5f5f8))[_0x42239a(0x6f0)];}catch(_0x315df0){throw console['error']('Erro\x20ao\x20inserir\x20chats:',_0x315df0),_0x315df0;}}async[a0_0x31011a(0x88f)](_0x192bce,_0x223cad){const _0x423680=a0_0x31011a;try{await this[_0x423680(0x2fa)](_0x223cad)[_0x423680(0x584)]({'_id':_0x192bce});}catch(_0x3042bf){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x3042bf),_0x3042bf;}}},Wt=class extends _{constructor(_0x51ed28,_0xae8144,_0x27fced){const _0x5ad6f6=a0_0x31011a;super(_0xae8144),this[_0x5ad6f6(0x762)]=_0x51ed28,this['configService']=_0xae8144,this[_0x5ad6f6(0x87c)]=_0x27fced;}async[a0_0x31011a(0x46d)](_0x2016ec){const _0x3fedeb=a0_0x31011a;if(_0x2016ec[_0x3fedeb(0x6f0)]!==0x0)try{return{'insertCount':(await this['cacheContactModel']['insertMany']([..._0x2016ec]))[_0x3fedeb(0x6f0)]};}catch(_0x51f111){return _0x51f111;}}async[a0_0x31011a(0x4da)](_0x483915,_0x533b96){const _0x8b3a3c=a0_0x31011a;try{let _0x55b127=I(_0x483915['where']);return{'updatedCount':(await this[_0x8b3a3c(0x762)][_0x8b3a3c(0x1ef)](_0x55b127,{'$set':_0x533b96}))[_0x8b3a3c(0x46c)]};}catch(_0x59d83f){return console[_0x8b3a3c(0x4e4)](_0x8b3a3c(0x93e),_0x59d83f),{'error':_0x59d83f[_0x8b3a3c(0x45e)]()};}}async[a0_0x31011a(0x615)](_0x21663e){const _0x42c2fa=a0_0x31011a;try{let _0x1fefa9={'_id':{'$in':_0x21663e}};return await this[_0x42c2fa(0x762)]['find'](_0x1fefa9)['lean']();}catch(_0x184190){return console[_0x42c2fa(0x4e4)](_0x42c2fa(0x58a),_0x184190),[];}}async['delete'](_0x58a3b8){const _0x4ccc73=a0_0x31011a;try{return{'deletedCount':(await this[_0x4ccc73(0x762)][_0x4ccc73(0x45f)]({..._0x58a3b8['where']}))[_0x4ccc73(0x23a)]};}catch(_0x37f060){return{'error':_0x37f060?.[_0x4ccc73(0x45e)]()};}}async[a0_0x31011a(0x90d)](_0x2380f1){const _0x50ad45=a0_0x31011a;try{let _0x49f5ff=I(_0x2380f1[_0x50ad45(0x750)]);return await this[_0x50ad45(0x762)][_0x50ad45(0x90d)](_0x49f5ff)['limit'](_0x2380f1?.[_0x50ad45(0x2ff)]??0x0)[_0x50ad45(0x4cd)]();}catch{return[];}}async[a0_0x31011a(0x917)](_0x2c1d12){const _0x198dec=a0_0x31011a;try{let _0xfd9364=I(_0x2c1d12[_0x198dec(0x750)]);return await this[_0x198dec(0x762)][_0x198dec(0x917)](_0xfd9364)[_0x198dec(0x4cd)]();}catch{return null;}}},zt=class extends _{[a0_0x31011a(0x6cc)](_0xecda78){return Na(_0xecda78);}async[a0_0x31011a(0x449)](_0x2887d9,_0x510155,_0x2a2ee1,_0x97debb){const _0x266d64=a0_0x31011a;try{let _0x5c9d34={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x97debb},_0x1d5bb=this[_0x266d64(0x6cc)](_0x2a2ee1),_0x1e5023=I(_0x2887d9[_0x266d64(0x750)]);return await _0x1d5bb[_0x266d64(0x677)](_0x1e5023,{'$set':_0x510155},_0x5c9d34);}catch(_0xfeb450){return console[_0x266d64(0x4e4)](_0xfeb450),null;}}async['find'](_0x5d8850,_0x32b1c1){const _0x3cd978=a0_0x31011a;try{let _0x401830=this[_0x3cd978(0x6cc)](_0x32b1c1),_0x1e75cf=I(_0x5d8850['where']);return await _0x401830[_0x3cd978(0x90d)](_0x1e75cf);}catch(_0x198653){console[_0x3cd978(0x4e4)](_0x198653);}}async[a0_0x31011a(0x606)](_0x4024cf,_0x1fd533){const _0x10131d=a0_0x31011a;try{let _0x2b2f2b=this['getLabelModelForOwner'](_0x1fd533),_0x748609=I(_0x4024cf[_0x10131d(0x750)]);await _0x2b2f2b['deleteMany'](_0x748609);}catch(_0xc9fbf5){console[_0x10131d(0x4e4)](_0xc9fbf5);}}async['deleteAll'](_0x1bab12){const _0x298dd1=a0_0x31011a;try{return await this[_0x298dd1(0x6cc)](_0x1bab12)['collection'][_0x298dd1(0x56b)](),{'success':!0x0};}catch(_0x12c55c){return console[_0x298dd1(0x4e4)](_0x12c55c),{'success':!0x1,'error':_0x12c55c};}}},Ht=class{constructor(_0x48e48f){const _0x5df7f4=a0_0x31011a;this[_0x5df7f4(0x8a4)]=_0x48e48f;}async[a0_0x31011a(0x71a)]({instanceName:_0x1e935c},_0x1ca5cc){const _0x1fb5d6=a0_0x31011a;return await this[_0x1fb5d6(0x8a4)]['waInstances'][_0x1e935c][_0x1fb5d6(0x71a)](_0x1ca5cc);}async[a0_0x31011a(0x2f2)]({instanceName:_0x4a0510},_0x4d9657){const _0x12a096=a0_0x31011a;return await this[_0x12a096(0x8a4)][_0x12a096(0x831)][_0x4a0510][_0x12a096(0x2f2)](_0x4d9657);}async['importChats']({instanceName:_0x51a1a4},_0x5b5fc0){const _0x53f97c=a0_0x31011a;return await this[_0x53f97c(0x8a4)][_0x53f97c(0x831)][_0x51a1a4][_0x53f97c(0x65b)](_0x5b5fc0);}async['readMessage']({instanceName:_0x54421e},_0x4a345c){const _0x22b43e=a0_0x31011a;return await this[_0x22b43e(0x8a4)]['waInstances'][_0x54421e]['markMessageAsRead'](_0x4a345c);}async[a0_0x31011a(0x734)]({instanceName:_0x383f42},_0x547dd0){const _0x660a1=a0_0x31011a;return await this['waMonitor']['waInstances'][_0x383f42][_0x660a1(0x734)](_0x547dd0);}async[a0_0x31011a(0x336)]({instanceName:_0x38ddd9},_0x40e446){const _0x4b9f50=a0_0x31011a;return await this[_0x4b9f50(0x8a4)][_0x4b9f50(0x831)][_0x38ddd9]['deleteMessage'](_0x40e446);}async[a0_0x31011a(0x608)]({instanceName:_0x12cbb8},_0x25e98b){const _0x183fe8=a0_0x31011a;return await this['waMonitor'][_0x183fe8(0x831)][_0x12cbb8]['profilePicture'](_0x25e98b[_0x183fe8(0x5d9)]);}async[a0_0x31011a(0x890)]({instanceName:_0x24c145},_0x141376){const _0xda32fd=a0_0x31011a;return await this[_0xda32fd(0x8a4)][_0xda32fd(0x831)][_0x24c145][_0xda32fd(0x890)](_0x141376[_0xda32fd(0x5d9)]);}async['updatePresence']({instanceName:_0x333e86},_0x4e5ae2){const _0x5da3b1=a0_0x31011a;return await this[_0x5da3b1(0x8a4)]['waInstances'][_0x333e86]['updatePresence'](_0x4e5ae2);}async[a0_0x31011a(0x8b6)]({instanceName:_0xe5ef49},_0x45aace){const _0x3439fb=a0_0x31011a;return await this[_0x3439fb(0x8a4)][_0x3439fb(0x831)][_0xe5ef49]['fetchContacts'](_0x45aace);}async['getBase64FromMediaMessage']({instanceName:_0x382eb4},_0x5e884d){const _0x157863=a0_0x31011a;return await this[_0x157863(0x8a4)]['waInstances'][_0x382eb4][_0x157863(0x278)](_0x5e884d);}async[a0_0x31011a(0x20f)]({instanceName:_0x365a22},_0x1c6358){const _0x41ff36=a0_0x31011a;return await this[_0x41ff36(0x8a4)]['waInstances'][_0x365a22][_0x41ff36(0x20f)](_0x1c6358);}async[a0_0x31011a(0x6dc)]({instanceName:_0x52df08}){const _0x2a7aa7=a0_0x31011a;return await this[_0x2a7aa7(0x8a4)][_0x2a7aa7(0x831)][_0x52df08][_0x2a7aa7(0x6dc)]();}async[a0_0x31011a(0x224)]({instanceName:_0x3ba57d}){const _0x540f18=a0_0x31011a;return await this[_0x540f18(0x8a4)][_0x540f18(0x831)][_0x3ba57d][_0x540f18(0x224)]();}async[a0_0x31011a(0x493)]({instanceName:_0x378bb0}){const _0x28909f=a0_0x31011a;return await this[_0x28909f(0x8a4)][_0x28909f(0x831)][_0x378bb0]['fetchPrivacySettings']();}async[a0_0x31011a(0x349)]({instanceName:_0x1cc540},_0x38e4a7){const _0x206813=a0_0x31011a;return await this[_0x206813(0x8a4)][_0x206813(0x831)][_0x1cc540][_0x206813(0x349)](_0x38e4a7);}async['fetchBusinessProfile']({instanceName:_0x23f08f},_0x548537){const _0x4ad1f4=a0_0x31011a;return await this['waMonitor'][_0x4ad1f4(0x831)][_0x23f08f]['fetchBusinessProfile'](_0x548537['number']);}async['updateProfileName']({instanceName:_0x5dd26d},_0x17c940){const _0x5508d9=a0_0x31011a;return await this[_0x5508d9(0x8a4)]['waInstances'][_0x5dd26d][_0x5508d9(0x3b0)](_0x17c940['name']);}async[a0_0x31011a(0x405)]({instanceName:_0x27618a},_0x2c6832){const _0x56e196=a0_0x31011a;return await this[_0x56e196(0x8a4)]['waInstances'][_0x27618a][_0x56e196(0x405)](_0x2c6832['status']);}async[a0_0x31011a(0x567)]({instanceName:_0x3e4432},_0x1b4ce1){const _0x34b2bc=a0_0x31011a;return await this['waMonitor'][_0x34b2bc(0x831)][_0x3e4432][_0x34b2bc(0x567)](_0x1b4ce1[_0x34b2bc(0x862)]);}async[a0_0x31011a(0x304)]({instanceName:_0x44a57f},_0x36ae14){const _0x23b5e5=a0_0x31011a;return await this[_0x23b5e5(0x8a4)][_0x23b5e5(0x831)][_0x44a57f][_0x23b5e5(0x304)]();}},Kt=require(a0_0x31011a(0x8d7)),Qt=class l{constructor(_0xeb2e52,_0x5ddb38,_0x2d3d5b,_0x103f3c,_0x49f378){const _0x52dcb1=a0_0x31011a;this[_0x52dcb1(0x8a4)]=_0xeb2e52,this[_0x52dcb1(0x58e)]=_0x5ddb38,this[_0x52dcb1(0x3c6)]=_0x2d3d5b,this[_0x52dcb1(0x36a)]=_0x103f3c,this[_0x52dcb1(0x2e1)]=_0x49f378,this[_0x52dcb1(0x843)]=new $(l['name']);}async[a0_0x31011a(0x48d)]({instanceName:_0x94bce0,apikey:_0x58c26a,number:_0x417e02,proxy:_0x8cc36=!0x0}){const _0x35d675=a0_0x31011a;try{let _0x49fd7b=new Ne(this[_0x35d675(0x58e)],this[_0x35d675(0x36a)],this[_0x35d675(0x3c6)]);_0x49fd7b[_0x35d675(0x5c4)]=_0x94bce0,this[_0x35d675(0x8a4)][_0x35d675(0x831)][_0x49fd7b[_0x35d675(0x5c4)]]=_0x49fd7b;let _0x21c372={};_0x58c26a?(await this[_0x35d675(0x3c6)]['auth']['create']({'apikey':_0x58c26a},_0x94bce0),_0x21c372[_0x35d675(0x698)]=_0x58c26a):_0x21c372=await this[_0x35d675(0x2e1)]['generateHash']({'instanceName':_0x49fd7b[_0x35d675(0x5c4)]});let _0x3e0d5c;if(_0x417e02){if(_0x3e0d5c=await this['verifyWhatsAppNumber'](_0x417e02),_0x3e0d5c['error'])throw new x(_0x3e0d5c[_0x35d675(0x4e4)]['toString']());_0x417e02=_0x3e0d5c[_0x35d675(0x5d9)];}let _0x3aeabb;return await _0x49fd7b[_0x35d675(0x82e)](_0x417e02),await(0x0,Kt[_0x35d675(0x430)])(0xfa0),_0x417e02&&await(0x0,Kt[_0x35d675(0x430)])(0xbb8),_0x3aeabb=_0x49fd7b[_0x35d675(0x1ec)],{'instance':{'instanceName':_0x49fd7b[_0x35d675(0x5c4)],'status':_0x35d675(0x5d6)},'hash':_0x21c372,'qrcode':_0x3aeabb};}catch(_0x14136f){throw this['logger'][_0x35d675(0x4e4)](_0x14136f),_0x14136f;}}async[a0_0x31011a(0x8fb)]({instanceName:_0x543692,number:_0xf5d3d4=null}){const _0x4809e2=a0_0x31011a;try{let _0x3e431b=this[_0x4809e2(0x8a4)][_0x4809e2(0x831)][_0x543692];switch(_0x3e431b?.[_0x4809e2(0x92d)]?.[_0x4809e2(0x2e2)]){case _0x4809e2(0x1f7):return await _0x3e431b[_0x4809e2(0x82e)](_0xf5d3d4),await(0x0,Kt[_0x4809e2(0x430)])(0x7d0),_0x3e431b[_0x4809e2(0x1ec)];case _0x4809e2(0x838):return _0x3e431b[_0x4809e2(0x1ec)];default:return await this[_0x4809e2(0x88b)]({'instanceName':_0x543692});}}catch(_0x2d9b03){this[_0x4809e2(0x843)]['log'](_0x2d9b03);}}async[a0_0x31011a(0x88b)]({instanceName:_0x213882}){const _0x352df3=a0_0x31011a;let _0x1158c5=this[_0x352df3(0x8a4)][_0x352df3(0x831)][_0x213882][_0x352df3(0x92d)],_0x909803=null;_0x1158c5[_0x352df3(0x2e2)]==='open'&&_0x213882&&(_0x909803=await this[_0x352df3(0x8a4)][_0x352df3(0x6a2)](_0x213882));let _0x4ff06b=null;return _0x1158c5[_0x352df3(0x2e2)]==='connecting'&&_0x213882&&(_0x4ff06b=this['waMonitor'][_0x352df3(0x831)][_0x213882][_0x352df3(0x1ec)]),{'instance':_0x213882,'connectionStatus':_0x1158c5,'instanceInfo':_0x909803,'qrcode':_0x4ff06b};}async[a0_0x31011a(0x7cb)](_0x587e6c){const _0x5032ba=a0_0x31011a;_0x587e6c=_0x587e6c[_0x5032ba(0x929)](/\D/g,'');let _0x3d5d5d=Object[_0x5032ba(0x31f)](this[_0x5032ba(0x8a4)]['waInstances'])[_0x5032ba(0x497)](_0x1d73a6=>{const _0x51027e=_0x5032ba;let _0x1dc20a=this[_0x51027e(0x8a4)][_0x51027e(0x831)][_0x1d73a6];return _0x1dc20a&&_0x1dc20a[_0x51027e(0x92d)]&&_0x1dc20a[_0x51027e(0x92d)]['state']===_0x51027e(0x2cf);});if(_0x3d5d5d[_0x5032ba(0x6f0)]===0x0)return{'number':this[_0x5032ba(0x771)](_0x587e6c)};let _0x46c689=Math['floor'](Math['random']()*_0x3d5d5d[_0x5032ba(0x6f0)]),_0x1fa852=_0x3d5d5d[_0x46c689];try{let _0x3dd5cd=(await this[_0x5032ba(0x8a4)][_0x5032ba(0x831)][_0x1fa852][_0x5032ba(0x2f2)]({'numbers':[_0x587e6c]}))[_0x5032ba(0x6e1)]();return _0x3dd5cd[_0x5032ba(0x334)]?{'number':_0x3dd5cd[_0x5032ba(0x7a1)]['replace']('@s.whatsapp.net','')}:{'number':_0x587e6c,'error':_0x5032ba(0x761)};}catch(_0x3cfccd){return this[_0x5032ba(0x843)][_0x5032ba(0x4e4)](_0x5032ba(0x724)+_0x3cfccd),{'number':_0x587e6c,'error':_0x5032ba(0x489)};}}[a0_0x31011a(0x771)](_0x12cfcf){let _0x274481=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x12cfcf);if(_0x274481&&_0x274481[0x1]==='55'){let _0x34b4a1=_0x274481[0x2],_0x413d65=_0x274481[0x3],_0x493fa1=_0x274481[0x4];if(parseInt(_0x34b4a1)>=0x1f&&_0x413d65==='9')return _0x274481[0x1]+_0x34b4a1+_0x493fa1;}return _0x12cfcf;}async[a0_0x31011a(0x850)]({instanceName:_0x413a3a}){const _0x5a4fe5=a0_0x31011a;try{return this[_0x5a4fe5(0x8a4)][_0x5a4fe5(0x831)][_0x413a3a]?.[_0x5a4fe5(0x286)]?.['ws']?.[_0x5a4fe5(0x1f7)](),{'status':_0x5a4fe5(0x358),'error':!0x1,'response':{'message':_0x5a4fe5(0x674)}};}catch(_0x1729e6){this[_0x5a4fe5(0x843)][_0x5a4fe5(0x4e4)](_0x1729e6);}}async['fetchInstances']({instanceName:_0x3ee332}){const _0x58fc69=a0_0x31011a;return _0x3ee332?this['waMonitor'][_0x58fc69(0x6a2)](_0x3ee332):this['waMonitor']['instanceInfo']();}async[a0_0x31011a(0x4ef)]({instanceName:_0x11c72d}){const _0x12e5c3=a0_0x31011a;try{return await this[_0x12e5c3(0x8a4)][_0x12e5c3(0x831)][_0x11c72d]?.['client']?.[_0x12e5c3(0x4ef)](_0x12e5c3(0x74f)+_0x11c72d),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x4cfeaf){throw new x(_0x4cfeaf[_0x12e5c3(0x45e)]());}}async['deleteInstance']({instanceName:_0x1dc432}){const _0x26b5d2=a0_0x31011a;if((await this[_0x26b5d2(0x88b)]({'instanceName':_0x1dc432}))[_0x26b5d2(0x92d)]['state']===_0x26b5d2(0x2cf))throw new m(['Deletion\x20failed',_0x26b5d2(0x536)]);try{return delete this[_0x26b5d2(0x8a4)][_0x26b5d2(0x831)][_0x1dc432],{'error':!0x1,'message':_0x26b5d2(0x2a7)};}catch(_0x50e404){throw new m(_0x50e404[_0x26b5d2(0x45e)]());}}},ae=require(a0_0x31011a(0x80f)),Yt=class{constructor(_0x4832e1){const _0x914de=a0_0x31011a;this[_0x914de(0x8a4)]=_0x4832e1;}async[a0_0x31011a(0x481)]({instanceName:_0x2bb4d7},_0x5a3126){const _0x13daa5=a0_0x31011a;return await this[_0x13daa5(0x8a4)]['waInstances'][_0x2bb4d7]['textMessage'](_0x5a3126);}async[a0_0x31011a(0x25d)]({instanceName:_0xf8a53a},_0x222ef6){const _0x3f5190=a0_0x31011a;return await this[_0x3f5190(0x8a4)]['waInstances'][_0xf8a53a][_0x3f5190(0x6c2)](_0x222ef6);}async[a0_0x31011a(0x5e9)]({instanceName:_0xab9b81},_0x142f97){const _0x4dfc6a=a0_0x31011a;if((0x0,ae[_0x4dfc6a(0x3ac)])(_0x142f97?.['mediaMessage']?.[_0x4dfc6a(0x8be)])&&!_0x142f97?.[_0x4dfc6a(0x24d)]?.[_0x4dfc6a(0x41e)])throw new m(_0x4dfc6a(0x64e));if((0x0,ae[_0x4dfc6a(0x4eb)])(_0x142f97?.[_0x4dfc6a(0x24d)]?.[_0x4dfc6a(0x8be)])||(0x0,ae[_0x4dfc6a(0x3ac)])(_0x142f97?.[_0x4dfc6a(0x24d)]?.[_0x4dfc6a(0x8be)]))return await this[_0x4dfc6a(0x8a4)]['waInstances'][_0xab9b81][_0x4dfc6a(0x24d)](_0x142f97);throw new m(_0x4dfc6a(0x79f));}async[a0_0x31011a(0x8b8)]({instanceName:_0x1d539d},_0x78303f){const _0x5520e0=a0_0x31011a;if((0x0,ae[_0x5520e0(0x4eb)])(_0x78303f[_0x5520e0(0x41f)][_0x5520e0(0x3d8)])||(0x0,ae['isBase64'])(_0x78303f[_0x5520e0(0x41f)][_0x5520e0(0x3d8)]))return await this[_0x5520e0(0x8a4)][_0x5520e0(0x831)][_0x1d539d][_0x5520e0(0x3cc)](_0x78303f);throw new m(_0x5520e0(0x79f));}async['sendWhatsAppAudio']({instanceName:_0x3c47c5},_0x1a7b74){const _0x2c5e3c=a0_0x31011a;if((0x0,ae[_0x2c5e3c(0x4eb)])(_0x1a7b74['audioMessage']['audio'])||(0x0,ae[_0x2c5e3c(0x3ac)])(_0x1a7b74[_0x2c5e3c(0x775)]['audio']))return await this[_0x2c5e3c(0x8a4)][_0x2c5e3c(0x831)][_0x3c47c5][_0x2c5e3c(0x260)](_0x1a7b74);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x31011a(0x577)]({instanceName:_0x1ce31b},_0x4a72d8){const _0x4793f0=a0_0x31011a;if((0x0,ae[_0x4793f0(0x3ac)])(_0x4a72d8[_0x4793f0(0x68c)][_0x4793f0(0x24d)]?.[_0x4793f0(0x8be)])&&!_0x4a72d8[_0x4793f0(0x68c)][_0x4793f0(0x24d)]?.[_0x4793f0(0x41e)])throw new m(_0x4793f0(0x64e));return await this['waMonitor']['waInstances'][_0x1ce31b][_0x4793f0(0x68c)](_0x4a72d8);}async['sendLocation']({instanceName:_0x172c79},_0x45c44c){const _0x1b5a41=a0_0x31011a;return await this['waMonitor'][_0x1b5a41(0x831)][_0x172c79]['locationMessage'](_0x45c44c);}async[a0_0x31011a(0x51a)]({instanceName:_0x298876},_0x481443){const _0x533f43=a0_0x31011a;return await this[_0x533f43(0x8a4)]['waInstances'][_0x298876]['pollMessage'](_0x481443);}async['sendList']({instanceName:_0x50fe1f},_0x1bf1ff){const _0x48ac29=a0_0x31011a;return await this[_0x48ac29(0x8a4)][_0x48ac29(0x831)][_0x50fe1f][_0x48ac29(0x4d5)](_0x1bf1ff);}async['sendContact']({instanceName:_0x4ade06},_0x1c298f){const _0x8001db=a0_0x31011a;return await this[_0x8001db(0x8a4)]['waInstances'][_0x4ade06][_0x8001db(0x7c4)](_0x1c298f);}async['sendReaction']({instanceName:_0x3a512b},_0x5dfd95){const _0x527a46=a0_0x31011a;if(!_0x5dfd95[_0x527a46(0x7bc)][_0x527a46(0x444)][_0x527a46(0x26b)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x527a46(0x8a4)]['waInstances'][_0x3a512b][_0x527a46(0x7bc)](_0x5dfd95);}async[a0_0x31011a(0x487)]({instanceName:_0x4c8ab2},_0x20f8f0){const _0x3f7327=a0_0x31011a;return await this[_0x3f7327(0x8a4)][_0x3f7327(0x831)][_0x4c8ab2]['statusMessage'](_0x20f8f0);}},Li=require('jsonwebtoken'),Js=require('uuid'),Xt=class l{constructor(_0x182592,_0x584438,_0xf9a12e){const _0x31f35=a0_0x31011a;this['configService']=_0x182592,this[_0x31f35(0x8a4)]=_0x584438,this['repository']=_0xf9a12e,this[_0x31f35(0x843)]=new $(l[_0x31f35(0x3a4)]);}async[a0_0x31011a(0x384)](_0x5120f4){const _0x4baec8=a0_0x31011a;let _0x46b558=this[_0x4baec8(0x58e)][_0x4baec8(0x67e)](_0x4baec8(0x3b9))['JWT'],_0x4a7a90=(0x0,Li[_0x4baec8(0x46e)])({'instanceName':_0x5120f4['instanceName'],'apiName':rt,'tokenId':(0x0,Js['v4'])()},_0x46b558[_0x4baec8(0x6dd)],{'expiresIn':_0x46b558[_0x4baec8(0x3f2)],'encoding':_0x4baec8(0x4c1),'subject':_0x4baec8(0x87e)}),_0x1c48b0=await this['repository'][_0x4baec8(0x6e5)][_0x4baec8(0x582)]({'jwt':_0x4a7a90},_0x5120f4['instanceName']);if(_0x1c48b0[_0x4baec8(0x4e4)])throw this[_0x4baec8(0x843)][_0x4baec8(0x4e4)]({'localError':l[_0x4baec8(0x3a4)]+_0x4baec8(0x5c3),'error':_0x1c48b0[_0x4baec8(0x4e4)]}),new m(_0x4baec8(0x4f4),_0x1c48b0[_0x4baec8(0x4e4)]?.[_0x4baec8(0x45e)]());return{'jwt':_0x4a7a90};}async['apikey'](_0x3b3a76){const _0x34391e=a0_0x31011a;let _0x2819ee=(0x0,Js['v4'])()['toUpperCase'](),_0x334a1a=await this[_0x34391e(0x3c6)][_0x34391e(0x6e5)][_0x34391e(0x582)]({'apikey':_0x2819ee},_0x3b3a76[_0x34391e(0x5c4)]);if(_0x334a1a[_0x34391e(0x4e4)])throw this['logger'][_0x34391e(0x4e4)]({'localError':l['name']+'.jwt','error':_0x334a1a[_0x34391e(0x4e4)]}),new m(_0x34391e(0x4f4),_0x334a1a['error']?.[_0x34391e(0x45e)]());return{'apikey':_0x2819ee};}async[a0_0x31011a(0x527)](_0x5942ea){const _0x143c83=a0_0x31011a;let _0x466158=this['configService'][_0x143c83(0x67e)](_0x143c83(0x3b9));return await this[_0x466158[_0x143c83(0x212)]](_0x5942ea);}},Zt=class{constructor(_0x1e6563){const _0x59aa1f=a0_0x31011a;this[_0x59aa1f(0x8a4)]=_0x1e6563;}async[a0_0x31011a(0x4c3)](_0x3cdd59,_0x3a522d){const _0x3c0b45=a0_0x31011a;return await this[_0x3c0b45(0x8a4)][_0x3c0b45(0x831)][_0x3cdd59[_0x3c0b45(0x5c4)]][_0x3c0b45(0x4c3)](_0x3a522d);}async['updateGroupPicture'](_0x468c6a,_0xfa61ba){const _0x7fd855=a0_0x31011a;return await this[_0x7fd855(0x8a4)][_0x7fd855(0x831)][_0x468c6a[_0x7fd855(0x5c4)]][_0x7fd855(0x515)](_0xfa61ba);}async[a0_0x31011a(0x8cf)](_0xba4397,_0x3bb114){const _0x55a9fb=a0_0x31011a;return await this[_0x55a9fb(0x8a4)]['waInstances'][_0xba4397[_0x55a9fb(0x5c4)]]['groupDesc'](_0x3bb114);}async['groupName'](_0x23bbcb,_0x27f6f6){const _0x3f2581=a0_0x31011a;return await this[_0x3f2581(0x8a4)][_0x3f2581(0x831)][_0x23bbcb[_0x3f2581(0x5c4)]][_0x3f2581(0x601)](_0x27f6f6);}async[a0_0x31011a(0x84c)](_0x35f4de,_0x2fd530){const _0x15dca7=a0_0x31011a;return await this['waMonitor']['waInstances'][_0x35f4de[_0x15dca7(0x5c4)]]['groupBetterSetting'](_0x2fd530);}async[a0_0x31011a(0x2ef)](_0xb80350,_0x249b1d){const _0x171570=a0_0x31011a;return await this[_0x171570(0x8a4)][_0x171570(0x831)][_0xb80350[_0x171570(0x5c4)]][_0x171570(0x2ef)](_0x249b1d);}async[a0_0x31011a(0x8fe)](_0x2c19c6,_0x5615f5){const _0x26a822=a0_0x31011a;return await this[_0x26a822(0x8a4)][_0x26a822(0x831)][_0x2c19c6[_0x26a822(0x5c4)]][_0x26a822(0x846)](_0x5615f5);}async[a0_0x31011a(0x30a)](_0x156c33){const _0x3d1650=a0_0x31011a;return await this['waMonitor']['waInstances'][_0x156c33[_0x3d1650(0x5c4)]][_0x3d1650(0x30a)]();}async[a0_0x31011a(0x236)](_0x2374f2,_0x2557e3){const _0x2e2ea6=a0_0x31011a;return await this[_0x2e2ea6(0x8a4)][_0x2e2ea6(0x831)][_0x2374f2['instanceName']][_0x2e2ea6(0x236)](_0x2557e3);}async[a0_0x31011a(0x65d)](_0x46f39f,_0x3f897d){const _0x44bd7e=a0_0x31011a;return await this[_0x44bd7e(0x8a4)][_0x44bd7e(0x831)][_0x46f39f[_0x44bd7e(0x5c4)]]['joinGroup'](_0x3f897d);}async['groupGetInviteInfo'](_0x409a2e,_0x3e7a39){const _0x5187f7=a0_0x31011a;return await this[_0x5187f7(0x8a4)][_0x5187f7(0x831)][_0x409a2e[_0x5187f7(0x5c4)]][_0x5187f7(0x6bd)](_0x3e7a39);}async[a0_0x31011a(0x456)](_0x1fcc29,_0xf8fd81){const _0x3a733b=a0_0x31011a;return await this[_0x3a733b(0x8a4)][_0x3a733b(0x831)][_0x1fcc29[_0x3a733b(0x5c4)]][_0x3a733b(0x456)](_0xf8fd81);}async[a0_0x31011a(0x86e)](_0x5844af,_0x1a7165){const _0x390c2a=a0_0x31011a;return await this[_0x390c2a(0x8a4)][_0x390c2a(0x831)][_0x5844af[_0x390c2a(0x5c4)]][_0x390c2a(0x86e)](_0x1a7165);}async['updateGParticipate'](_0x36f03c,_0xbe0ca1){const _0x431031=a0_0x31011a;return await this[_0x431031(0x8a4)][_0x431031(0x831)][_0x36f03c[_0x431031(0x5c4)]]['updateGParticipant'](_0xbe0ca1);}async[a0_0x31011a(0x7e0)](_0x5a1966,_0x315e42){const _0x514c26=a0_0x31011a;return await this['waMonitor'][_0x514c26(0x831)][_0x5a1966['instanceName']][_0x514c26(0x7e0)](_0x315e42);}async[a0_0x31011a(0x2b7)](_0x3e1b71,_0x89a8a1){const _0x21d1e6=a0_0x31011a;return await this[_0x21d1e6(0x8a4)][_0x21d1e6(0x831)][_0x3e1b71[_0x21d1e6(0x5c4)]][_0x21d1e6(0x2b7)](_0x89a8a1);}},es=class{constructor(_0x5edf50){this['waMonitor']=_0x5edf50;}[a0_0x31011a(0x582)](_0x58cd3b,_0x4608fb){const _0x21a2b3=a0_0x31011a;return this[_0x21a2b3(0x8a4)][_0x21a2b3(0x831)][_0x58cd3b['instanceName']][_0x21a2b3(0x6e3)](_0x4608fb);}async[a0_0x31011a(0x90d)](_0x36ef43){const _0x59d9e=a0_0x31011a;try{return await this[_0x59d9e(0x8a4)][_0x59d9e(0x831)][_0x36ef43['instanceName']][_0x59d9e(0x216)]();}catch{return{'enabled':null,'url':''};}}},Wp=new $('FlowController'),ts=class{constructor(_0x2d0b2b){const _0x8254c0=a0_0x31011a;this[_0x8254c0(0x8a4)]=_0x2d0b2b;}async[a0_0x31011a(0x8a6)](_0x337b2f,_0x1d2858){const _0x4d7177=a0_0x31011a;return await this[_0x4d7177(0x8a4)][_0x4d7177(0x831)][_0x337b2f[_0x4d7177(0x5c4)]][_0x4d7177(0x8a6)](_0x1d2858);}async[a0_0x31011a(0x4c2)](_0x9b97a1){const _0x23cf9c=a0_0x31011a;return await this[_0x23cf9c(0x8a4)]['waInstances'][_0x9b97a1['instanceName']][_0x23cf9c(0x4c2)]();}async[a0_0x31011a(0x8e4)](_0x4b495b){const _0x560055=a0_0x31011a;return await this['waMonitor']['waInstances'][_0x4b495b[_0x560055(0x5c4)]]['deleteDoneMessages']();}async['getAutomateSystem'](_0x538ef4){const _0x649d9=a0_0x31011a;return await this[_0x649d9(0x8a4)]['waInstances'][_0x538ef4[_0x649d9(0x5c4)]][_0x649d9(0x203)]();}async[a0_0x31011a(0x466)](_0x9e4b08,_0x360394){const _0x4bda34=a0_0x31011a;return await this[_0x4bda34(0x8a4)]['waInstances'][_0x9e4b08[_0x4bda34(0x5c4)]][_0x4bda34(0x466)](_0x360394);}async[a0_0x31011a(0x65e)](_0x47064e,_0x4b07b6){const _0x54710b=a0_0x31011a;return await this['waMonitor'][_0x54710b(0x831)][_0x47064e[_0x54710b(0x5c4)]][_0x54710b(0x65e)](_0x4b07b6);}async[a0_0x31011a(0x928)](_0x287624,_0x12a96b){const _0x55d40e=a0_0x31011a;return await this[_0x55d40e(0x8a4)][_0x55d40e(0x831)][_0x287624[_0x55d40e(0x5c4)]][_0x55d40e(0x928)](_0x12a96b);}async[a0_0x31011a(0x783)](_0x1e075a,_0x58f19b){const _0x7dc223=a0_0x31011a;return await this[_0x7dc223(0x8a4)][_0x7dc223(0x831)][_0x1e075a['instanceName']]['updateFlowConfig'](_0x58f19b);}async[a0_0x31011a(0x7d6)](_0x8f136b,_0x510e91){const _0x1ea144=a0_0x31011a;return await this[_0x1ea144(0x8a4)][_0x1ea144(0x831)][_0x8f136b[_0x1ea144(0x5c4)]]['startFlow'](_0x510e91);}async[a0_0x31011a(0x837)](_0x3defc7,_0x18d4ed,_0x47bf61,_0x16fe18){return await this['waMonitor']['waInstances'][_0x3defc7]['startFlowWebhook'](_0x18d4ed,_0x47bf61,_0x16fe18);}async[a0_0x31011a(0x8d3)](_0xe7ae34,_0x3d1474){const _0x32658c=a0_0x31011a;return await this[_0x32658c(0x8a4)][_0x32658c(0x831)][_0xe7ae34[_0x32658c(0x5c4)]][_0x32658c(0x8d3)](_0x3d1474);}async[a0_0x31011a(0x32e)](_0x5978d0,_0x54d159){const _0x28aff9=a0_0x31011a;return await this[_0x28aff9(0x8a4)][_0x28aff9(0x831)][_0x5978d0[_0x28aff9(0x5c4)]][_0x28aff9(0x32e)](_0x54d159);}async[a0_0x31011a(0x820)](_0xb8e222,_0x58475c){const _0x2d0c20=a0_0x31011a;return await this[_0x2d0c20(0x8a4)][_0x2d0c20(0x831)][_0xb8e222['instanceName']][_0x2d0c20(0x820)](_0x58475c);}async[a0_0x31011a(0x22f)](_0xc59000,_0xe36e0a){const _0x3cea86=a0_0x31011a;return await this[_0x3cea86(0x8a4)][_0x3cea86(0x831)][_0xc59000[_0x3cea86(0x5c4)]]['deleteConversation'](_0xe36e0a);}async['getFlow'](_0x14146a,_0x155463){const _0x4169b4=a0_0x31011a;return await this[_0x4169b4(0x8a4)]['waInstances'][_0x14146a['instanceName']][_0x4169b4(0x6a9)](_0x155463[_0x4169b4(0x22c)]);}async[a0_0x31011a(0x8a9)](_0x33b1f9,_0x3c00d7,_0x32ea6b){const _0x43d5b1=a0_0x31011a;return await this['waMonitor'][_0x43d5b1(0x831)][_0x33b1f9['instanceName']][_0x43d5b1(0x8a9)](_0x3c00d7,_0x32ea6b);}async[a0_0x31011a(0x47f)](_0xff5491,_0x4d74be,_0x152802){const _0x31d901=a0_0x31011a;return await this[_0x31d901(0x8a4)]['waInstances'][_0xff5491['instanceName']]['editFlow'](_0x4d74be,_0x152802);}async[a0_0x31011a(0x754)](_0x179a5d,_0x5b5b85){const _0x29b31f=a0_0x31011a;return await this[_0x29b31f(0x8a4)][_0x29b31f(0x831)][_0x179a5d[_0x29b31f(0x5c4)]][_0x29b31f(0x754)](_0x5b5b85);}async['editFlowReply'](_0x15688d,_0x4843fc){const _0x5e9349=a0_0x31011a;return await this[_0x5e9349(0x8a4)]['waInstances'][_0x15688d[_0x5e9349(0x5c4)]][_0x5e9349(0x926)](_0x4843fc);}async[a0_0x31011a(0x557)](_0x325ccc,_0x5a330a){const _0xe521ac=a0_0x31011a;return await this[_0xe521ac(0x8a4)][_0xe521ac(0x831)][_0x325ccc['instanceName']][_0xe521ac(0x557)](_0x5a330a);}async[a0_0x31011a(0x485)](_0x25df30,_0x1b461b){const _0x2ad9a9=a0_0x31011a;return await this[_0x2ad9a9(0x8a4)]['waInstances'][_0x25df30[_0x2ad9a9(0x5c4)]][_0x2ad9a9(0x485)](_0x1b461b);}async[a0_0x31011a(0x825)](_0x5b5bd5,_0x5866d5){const _0x17d047=a0_0x31011a;return await this['waMonitor'][_0x17d047(0x831)][_0x5b5bd5[_0x17d047(0x5c4)]][_0x17d047(0x825)](_0x5866d5);}async[a0_0x31011a(0x207)](_0x3e1543,_0x420a1e){const _0x2f8efe=a0_0x31011a;return await this[_0x2f8efe(0x8a4)][_0x2f8efe(0x831)][_0x3e1543['instanceName']]['editFlowVariable'](_0x420a1e);}async[a0_0x31011a(0x4b6)](_0x50c862,_0x38e2bf){const _0x37822c=a0_0x31011a;return await this['waMonitor']['waInstances'][_0x50c862['instanceName']][_0x37822c(0x4b6)](_0x38e2bf);}async[a0_0x31011a(0x680)](_0x4899d5){const _0x1bd69f=a0_0x31011a;return await this['waMonitor'][_0x1bd69f(0x831)][_0x4899d5['instanceName']][_0x1bd69f(0x680)]();}},ss=class{constructor(_0x1a6442){const _0x326e3d=a0_0x31011a;this[_0x326e3d(0x60b)]=_0x1a6442;}async['createWebhook'](_0x74809b,_0x50564c){const _0x2d2c7c=a0_0x31011a;return this[_0x2d2c7c(0x60b)][_0x2d2c7c(0x582)](_0x74809b,_0x50564c);}async['findWebhook'](_0x1e81a6){return this['webhookService']['find'](_0x1e81a6);}},as=class extends _{constructor(_0x422fcf,_0x3d483c){const _0x448faf=a0_0x31011a;super(_0x3d483c),this[_0x448faf(0x8b2)]=_0x422fcf,this[_0x448faf(0x58e)]=_0x3d483c;}async[a0_0x31011a(0x582)](_0x3e9fb5,_0xbf503a){const _0x1743bd=a0_0x31011a;try{return this[_0x1743bd(0x56f)][_0x1743bd(0x844)]?{'insertCount':(await this[_0x1743bd(0x8b2)][_0x1743bd(0x4b1)]({'_id':_0xbf503a},{..._0x3e9fb5},{'upsert':!0x0}))[_0x1743bd(0x46c)]}:{'insertCount':0x1};}catch(_0x4c770c){return _0x4c770c;}}async[a0_0x31011a(0x606)](_0x134e91){const _0x400ff6=a0_0x31011a;try{if(this['dbSettings']['ENABLED']){await this[_0x400ff6(0x8b2)][_0x400ff6(0x584)]({'_id':_0x134e91});return;}}catch(_0x396c09){return{'error':_0x396c09};}}async[a0_0x31011a(0x90d)](_0x4c5c6f){const _0x4b54d7=a0_0x31011a;try{if(this[_0x4b54d7(0x56f)][_0x4b54d7(0x844)])return await this['webhookModel']['findOne']({'_id':_0x4c5c6f});}catch{return{};}}},is=class extends _{constructor(_0xb17ca0,_0x49bb22){const _0x1e911c=a0_0x31011a;super(_0x49bb22),this[_0x1e911c(0x480)]=_0xb17ca0,this[_0x1e911c(0x58e)]=_0x49bb22,this[_0x1e911c(0x6e5)]=_0x49bb22[_0x1e911c(0x67e)](_0x1e911c(0x3b9));}async[a0_0x31011a(0x582)](_0x27be97,_0x9f48dd){const _0x7e0aef=a0_0x31011a;try{if(this[_0x7e0aef(0x56f)][_0x7e0aef(0x844)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x9f48dd},{'$set':{..._0x27be97}},{'upsert':!0x0}))[_0x7e0aef(0x46c)]};}catch(_0xa250fb){return{'error':_0xa250fb};}}async[a0_0x31011a(0x85f)](_0x1ca195,_0x1db1d1){const _0x12f3ef=a0_0x31011a;try{if(this['dbSettings'][_0x12f3ef(0x844)])return{'insertCount':(await this['authModel'][_0x12f3ef(0x1ef)](_0x1ca195,{'$set':_0x1db1d1},{'upsert':!0x1}))[_0x12f3ef(0x46c)]};throw new Error(_0x12f3ef(0x4a3));}catch(_0x144e9d){return{'error':_0x144e9d};}}async[a0_0x31011a(0x45f)](_0x33903c){const _0x3c2dd6=a0_0x31011a;try{if(this['dbSettings'][_0x3c2dd6(0x844)])return{'insertCount':(await this[_0x3c2dd6(0x480)][_0x3c2dd6(0x45f)](_0x33903c))[_0x3c2dd6(0x23a)]};throw new Error(_0x3c2dd6(0x47a));}catch(_0x54b5b7){return{'error':_0x54b5b7};}}async[a0_0x31011a(0x606)](_0xa3a2cf){const _0x25a86a=a0_0x31011a;try{if(this[_0x25a86a(0x56f)]['ENABLED']){await this[_0x25a86a(0x480)][_0x25a86a(0x584)]({'_id':_0xa3a2cf});return;}}catch(_0x2a5e8c){return{'error':_0x2a5e8c};}}async[a0_0x31011a(0x90d)](_0xe9730a){const _0x3deac0=a0_0x31011a;try{if(this[_0x3deac0(0x56f)][_0x3deac0(0x844)])return await this[_0x3deac0(0x480)][_0x3deac0(0x917)]({'_id':_0xe9730a});}catch{return{};}}async[a0_0x31011a(0x49d)](){const _0xc83afe=a0_0x31011a;try{if(this[_0xc83afe(0x56f)][_0xc83afe(0x844)])return await this[_0xc83afe(0x480)]['find']();}catch{return[];}}async[a0_0x31011a(0x701)](_0x2097c3){const _0x5d241c=a0_0x31011a;try{if(this[_0x5d241c(0x56f)]['ENABLED'])return await this[_0x5d241c(0x480)]['find'](_0x2097c3);}catch{return[];}}},Fi=require(a0_0x31011a(0x779)),os=class extends _{async[a0_0x31011a(0x584)](_0x32cbd8){const _0x32fe06=a0_0x31011a;try{let _0x817d3a=I(_0x32cbd8[_0x32fe06(0x750)]);return{'deletedCount':(await fe[_0x32fe06(0x584)](_0x817d3a))['deletedCount']};}catch(_0x9779ab){return{'error':_0x9779ab?.['toString']()};}}async[a0_0x31011a(0x449)](_0x641e4a,_0xb6d2d4){const _0x52f9c1=a0_0x31011a;try{let _0xfce71c=await fe[_0x52f9c1(0x258)](_0x641e4a);return _0xfce71c?(Object[_0x52f9c1(0x34a)](_0xfce71c,_0xb6d2d4),await _0xfce71c['save']()):(console[_0x52f9c1(0x4e4)](_0x52f9c1(0x29c),_0x641e4a),null);}catch(_0x4722e1){return console[_0x52f9c1(0x4e4)](_0x52f9c1(0x772),_0x4722e1),null;}}async[a0_0x31011a(0x4a4)](_0x280628){const _0x2a320b=a0_0x31011a;try{return await new fe(_0x280628)[_0x2a320b(0x63b)]();}catch(_0x39e0d6){return console['error'](_0x2a320b(0x68e),_0x39e0d6),null;}}async['findAll'](_0x50ac73){const _0x48cdcc=a0_0x31011a;try{let _0x39eaaa=_0x50ac73['where']??{};return await fe[_0x48cdcc(0x90d)](_0x39eaaa)[_0x48cdcc(0x2ff)](_0x50ac73['limit']??0x0)[_0x48cdcc(0x4cd)]();}catch(_0x542476){return console[_0x48cdcc(0x4e4)]('Erro\x20ao\x20buscar\x20fluxos:',_0x542476),[];}}async['findOne'](_0x36198c){const _0x29043e=a0_0x31011a;try{let _0x4d91d1=I(_0x36198c[_0x29043e(0x750)]);return await fe['findOne'](_0x4d91d1)['lean']();}catch{return null;}}async[a0_0x31011a(0x4bf)](_0x2fa7b7){const _0x5e4894=a0_0x31011a;try{let _0x2d79d5=$s(_0x2fa7b7);if(!_0x2d79d5){let _0x402a9b=_0x5e4894(0x560)+_0x2fa7b7;return console[_0x5e4894(0x4e4)](_0x402a9b),{'success':!0x1,'error':new Error(_0x402a9b)};}return await _0x2d79d5[_0x5e4894(0x484)][_0x5e4894(0x56b)](),{'success':!0x0};}catch(_0x323281){return console[_0x5e4894(0x4e4)](_0x323281),{'success':!0x1,'error':_0x323281 instanceof Error?_0x323281:new Error(String(_0x323281))};}}async[a0_0x31011a(0x26f)](_0x4a8eb6){const _0x2cdfbb=a0_0x31011a;try{let _0x5e1ce6=$s(_0x4a8eb6);if(!_0x5e1ce6)return console['error'](_0x2cdfbb(0x560)+_0x4a8eb6),0x0;let _0x56c18e=await _0x5e1ce6[_0x2cdfbb(0x90d)]({})[_0x2cdfbb(0x4cd)]();if(console[_0x2cdfbb(0x200)](_0x2cdfbb(0x292)+_0x4a8eb6+_0x2cdfbb(0x94c)+_0x56c18e['length']),!_0x56c18e||_0x56c18e[_0x2cdfbb(0x6f0)]===0x0)return console[_0x2cdfbb(0x200)](_0x2cdfbb(0x43d)+_0x4a8eb6),0x0;let _0x2df7e7=_0x56c18e[_0x2cdfbb(0x74c)](_0x1ddee6=>{const _0x435ddc=_0x2cdfbb;let {global:_0x19f8f1,startID:_0x412c55,sharePass:_0x313bfe,shareOwners:_0x18ae65,minutesToClose:_0xc7dc8d,readMessages:_0x511e16,testingWith:_0x779b43,startCommandWord:_0xf87d38,default:_0x17c293,..._0x44d2e6}=_0x1ddee6,_0x26c289=Array[_0x435ddc(0x370)](new Set([..._0x18ae65,_0x4a8eb6])),_0x3e1d29=Array[_0x435ddc(0x370)](new Set([..._0x18ae65,_0x4a8eb6]));return{..._0x44d2e6,'_id':(0x0,Fi['v4'])(),'owner':_0x4a8eb6,'globalShow':_0x1ddee6[_0x435ddc(0x6e6)]===_0x435ddc(0x747),'whoCanEdit':_0x26c289,'whoCanUse':_0x3e1d29};});return await fe[_0x2cdfbb(0x1e9)](_0x2df7e7),await _0x5e1ce6[_0x2cdfbb(0x484)][_0x2cdfbb(0x56b)](),console[_0x2cdfbb(0x200)](_0x2cdfbb(0x509)+_0x4a8eb6+_0x2cdfbb(0x39c)),_0x2df7e7[_0x2cdfbb(0x6f0)];}catch(_0x265d45){return console[_0x2cdfbb(0x4e4)](_0x2cdfbb(0x44e)+_0x4a8eb6+'\x27:',_0x265d45),0x0;}}async[a0_0x31011a(0x4b7)](_0x4c1697){const _0x4b0943=a0_0x31011a;let _0x14feb1=0x0;for(let _0x28113d of _0x4c1697){let _0x1ee0c2=await this['migrateFlowsToCentralizedCollection'](_0x28113d);_0x14feb1+=_0x1ee0c2;}return console[_0x4b0943(0x200)](_0x4b0943(0x2d2)+_0x14feb1),_0x14feb1;}},rs=class extends _{['getConversationModelForOwner'](_0x328e89){return Ca(_0x328e89);}async[a0_0x31011a(0x46d)](_0x4d8107){const _0x5f501d=a0_0x31011a;if(_0x4d8107[_0x5f501d(0x6f0)]!==0x0)try{return{'insertCount':(await this[_0x5f501d(0x27a)](_0x4d8107[0x0][_0x5f501d(0x5d1)])[_0x5f501d(0x1e9)]([..._0x4d8107]))[_0x5f501d(0x6f0)]};}catch(_0x228686){return _0x228686;}}async[a0_0x31011a(0x606)](_0x56ffeb,_0x333bac){const _0x4fc088=a0_0x31011a;try{let _0x2125d5=this[_0x4fc088(0x27a)](_0x333bac),_0x3105a7=I(_0x56ffeb['where']);return{'deletedCount':(await _0x2125d5[_0x4fc088(0x45f)](_0x3105a7))['deletedCount']};}catch(_0x108a8c){return{'error':_0x108a8c?.['toString']()};}}async[a0_0x31011a(0x584)](_0x5952c9,_0x155872){const _0xa6c89=a0_0x31011a;try{let _0x2e4a7c=this[_0xa6c89(0x27a)](_0x155872),_0x3cea73=I(_0x5952c9[_0xa6c89(0x750)]);return{'deletedCount':(await _0x2e4a7c[_0xa6c89(0x584)](_0x3cea73))[_0xa6c89(0x23a)]};}catch(_0xf4d2c4){return{'error':_0xf4d2c4?.[_0xa6c89(0x45e)]()};}}async[a0_0x31011a(0x4da)](_0x5ef071,_0x544653){const _0x4edf90=a0_0x31011a;try{if(_0x5ef071[_0x4edf90(0x6f0)]===0x0)return;let _0x3263b0=this[_0x4edf90(0x27a)](_0x544653),_0x18b028=_0x5ef071[_0x4edf90(0x74c)](_0x3858c4=>({'updateOne':{'filter':{'name':_0x3858c4[_0x4edf90(0x3a4)],'owner':_0x544653},'update':{..._0x3858c4}}})),{modifiedCount:_0x26fdc9}=await _0x3263b0[_0x4edf90(0x547)](_0x18b028);return{'insertCount':_0x26fdc9};}catch{return;}}async[a0_0x31011a(0x1ef)](_0x3aa56c,_0x4db04a,_0x2867e5){const _0x242bfb=a0_0x31011a;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x2867e5)['updateMany'](_0x3aa56c,{'$set':_0x4db04a})['exec']())[_0x242bfb(0x46c)]};}catch(_0x484f45){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x484f45),{'error':_0x484f45};}}async[a0_0x31011a(0x449)](_0x119055,_0x1a389c,_0x536438){const _0x51de1d=a0_0x31011a;try{return await this[_0x51de1d(0x27a)](_0x536438)['findOneAndUpdate']({'_id':_0x119055},{'$set':_0x1a389c},{'new':!0x0,'upsert':!0x0})[_0x51de1d(0x4cd)]();}catch(_0x105529){return console[_0x51de1d(0x4e4)](_0x105529),null;}}async[a0_0x31011a(0x90d)](_0x1f716c,_0x37fe23){const _0x283f92=a0_0x31011a;try{return await this[_0x283f92(0x27a)](_0x37fe23)[_0x283f92(0x90d)](_0x1f716c)[_0x283f92(0x357)]({'lastInteraction':-0x1})[_0x283f92(0x4cd)]();}catch{return[];}}async[a0_0x31011a(0x917)](_0xbdab9b,_0x235195){const _0x1f00a6=a0_0x31011a;try{return await this[_0x1f00a6(0x27a)](_0x235195)[_0x1f00a6(0x917)]({..._0xbdab9b[_0x1f00a6(0x750)]})[_0x1f00a6(0x4cd)]();}catch{return null;}}async['deleteAll'](_0x4d0fbb){const _0x1d2b97=a0_0x31011a;try{return await this[_0x1d2b97(0x27a)](_0x4d0fbb)['collection']['drop'](),{'success':!0x0};}catch(_0x83ee12){return console['error'](_0x83ee12),{'success':!0x1,'error':_0x83ee12};}}},ns=class extends _{[a0_0x31011a(0x3bf)](_0x3d4e0d){return Ea(_0x3d4e0d);}async['bulkWrite'](_0x38296d,_0x2cc7ba){const _0x508768=a0_0x31011a;try{return await this['getScheduleMessageModelForOwner'](_0x2cc7ba)['bulkWrite'](_0x38296d);}catch(_0x1702f8){return console[_0x508768(0x4e4)](_0x508768(0x73b),_0x1702f8),null;}}async[a0_0x31011a(0x4a4)](_0x1e102f,_0x39edfe){const _0x205927=a0_0x31011a;try{let _0x2b70b1=this[_0x205927(0x3bf)](_0x39edfe);return await new _0x2b70b1(_0x1e102f)[_0x205927(0x63b)]();}catch(_0x59e95c){return console['error'](_0x205927(0x3c9),_0x59e95c),null;}}async[a0_0x31011a(0x584)](_0x3f4865,_0x415aab){const _0x1692f9=a0_0x31011a;try{return await this['getScheduleMessageModelForOwner'](_0x415aab)[_0x1692f9(0x3d4)](_0x3f4865),{};}catch(_0x25b70b){return{'error':_0x25b70b?.[_0x1692f9(0x45e)]()};}}async[a0_0x31011a(0x449)](_0x343657,_0x11a888,_0x58e603,_0x5a36e7={}){const _0x411cd4=a0_0x31011a;try{return await this[_0x411cd4(0x3bf)](_0x58e603)[_0x411cd4(0x677)](_0x343657,_0x11a888,{..._0x5a36e7,'new':!0x0})[_0x411cd4(0x4cd)]();}catch(_0x450758){return console[_0x411cd4(0x4e4)](_0x411cd4(0x6be),_0x450758),null;}}async[a0_0x31011a(0x472)](_0x2ea749,_0x2d9580,_0x556962){const _0x3301b8=a0_0x31011a;try{return await this[_0x3301b8(0x3bf)](_0x556962)[_0x3301b8(0x38b)](_0x2ea749,_0x2d9580,{'new':!0x0})[_0x3301b8(0x4cd)]();}catch(_0xfaf535){return console[_0x3301b8(0x4e4)](_0x3301b8(0x6be),_0xfaf535),null;}}async[a0_0x31011a(0x90d)](_0x146b75,_0x16ab05){const _0x4e4f31=a0_0x31011a;try{return await this['getScheduleMessageModelForOwner'](_0x16ab05)[_0x4e4f31(0x90d)](_0x146b75['where'])['limit'](_0x146b75?.[_0x4e4f31(0x2ff)]??0x0)['sort']({'when':0x1})[_0x4e4f31(0x4cd)]();}catch{return[];}}async[a0_0x31011a(0x917)](_0xbb6667,_0x1adc67){const _0x2a7cea=a0_0x31011a;try{return await this[_0x2a7cea(0x3bf)](_0x1adc67)[_0x2a7cea(0x917)](_0xbb6667['where'])[_0x2a7cea(0x357)]({'when':0x1})[_0x2a7cea(0x4cd)]();}catch{return null;}}async[a0_0x31011a(0x258)](_0x3796d1,_0x10f654){const _0x4ea723=a0_0x31011a;try{return await this[_0x4ea723(0x3bf)](_0x10f654)[_0x4ea723(0x258)](_0x3796d1)[_0x4ea723(0x4cd)]();}catch{return null;}}async[a0_0x31011a(0x45f)](_0x4ac5c0,_0x5be39a){const _0x3a3c2e=a0_0x31011a;try{return{'deletedCount':(await this[_0x3a3c2e(0x3bf)](_0x5be39a)[_0x3a3c2e(0x45f)](_0x4ac5c0))['deletedCount']};}catch(_0x6cbed4){return console[_0x3a3c2e(0x4e4)]('Erro\x20ao\x20deletar\x20mensagens:',_0x6cbed4),{'error':_0x6cbed4};}}async['deleteAll'](_0x32b999){const _0x1c369f=a0_0x31011a;try{return await this['getScheduleMessageModelForOwner'](_0x32b999)[_0x1c369f(0x484)][_0x1c369f(0x56b)](),{'success':!0x0};}catch(_0x2493d3){return console[_0x1c369f(0x4e4)](_0x2493d3),{'success':!0x1,'error':_0x2493d3};}}},cs=class extends _{async['update'](_0x2bb7a0,_0x390eec){const _0x54418b=a0_0x31011a;try{if(this['dbSettings']['ENABLED'])return await Ie[_0x54418b(0x677)]({'_id':_0x390eec},{'$set':_0x2bb7a0},{'new':!0x0});}catch(_0x4f9077){throw console[_0x54418b(0x4e4)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x4f9077),_0x4f9077;}}async[a0_0x31011a(0x2a9)](_0x5627dd){const _0x542618=a0_0x31011a;try{let _0x10bef1=await Ie[_0x542618(0x258)](_0x5627dd);return _0x10bef1?_0x10bef1['autoCompleteMessages']||(_0x10bef1['autoCompleteMessages']=[],await _0x10bef1['save']()):(_0x10bef1=new Ie({'_id':_0x5627dd,'autoCompleteMessages':[]}),await _0x10bef1[_0x542618(0x63b)]()),_0x10bef1;}catch(_0xf5e720){return _0xf5e720[_0x542618(0x54f)]===0x2af8&&_0xf5e720[_0x542618(0x1fb)]&&_0xf5e720[_0x542618(0x1fb)]['autoCompleteMessages.command']?(console['error'](_0x542618(0x461)),await Ie['collection'][_0x542618(0x7c8)]('autoCompleteMessages.command_1'),null):(console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0xf5e720),null);}}},Vo=new $(a0_0x31011a(0x6bb)),Go=new Ye(b),Bo=new Bt(b),Wo=new ct(b),zo=new Wt(ca,b),Ho=new as(fa,b),Ko=new is(ha,b),Qo=new ve(ze,b),Yo=new os(b),Xo=new zt(b),Zo=new rs(b),er=new ns(b),tr=new cs(b),we=new Ke(Go,Bo,Wo,zo,Ho,Ko,Qo,Yo,Zo,Xo,er,tr,R?.[a0_0x31011a(0x5d7)]()),B=new Gt(ms,b,we),sr=new Xt(b,B,we),ar=new es(B),Ts=new ss(ar),T=new ts(B),de=new Qt(B,b,we,ms,sr),W=new Yt(B),P=new Ht(B),q=new Zt(B);Vo[a0_0x31011a(0x6d2)](a0_0x31011a(0x867));var lg=require(a0_0x31011a(0x479)),qs=require('fs'),Ui=A(require(a0_0x31011a(0x35d))),ji=A(require(a0_0x31011a(0x891))),Ue=class l{static #e;static set[a0_0x31011a(0x6d3)](_0x75e8f5){this.#e=_0x75e8f5;}static get[a0_0x31011a(0x35d)](){const _0x5cc3a5=a0_0x31011a;let {FULLCHAIN:_0x38754d,PRIVKEY:_0x4a1a71}=b[_0x5cc3a5(0x67e)]('SSL_CONF');return Ui['createServer']({'cert':(0x0,qs[_0x5cc3a5(0x88a)])(_0x38754d),'key':(0x0,qs[_0x5cc3a5(0x88a)])(_0x4a1a71)},l.#e);}static get[a0_0x31011a(0x891)](){const _0x51235b=a0_0x31011a;return ji[_0x51235b(0x90b)](l.#e);}},je=A(require('fs')),Wi=A(require('ini')),Je=A(require('axios')),us=A(require(a0_0x31011a(0x7c5))),ls=require(a0_0x31011a(0x64f));function ir(){const _0x1e51fd=a0_0x31011a;B[_0x1e51fd(0x494)]();let _0x16936d=us[_0x1e51fd(0x20b)][_0x1e51fd(0x57d)](__dirname,'downloads');Bi(_0x16936d);}var Bi=_0x40218a=>{const _0xa6daf7=a0_0x31011a;let _0x3f7a09=je[_0xa6daf7(0x20b)][_0xa6daf7(0x923)](_0x40218a),_0x13ebb4=0xc*0x3c*0x3c*0x3e8,_0x139564=0x2*0x3c*0x3c*0x3e8,_0x18b1ba=new Date()[_0xa6daf7(0x78f)]();_0x3f7a09[_0xa6daf7(0x201)](_0x5e0cf6=>{const _0x3a4b5e=_0xa6daf7;let _0x3279a4=us[_0x3a4b5e(0x20b)]['join'](_0x40218a,_0x5e0cf6),_0x27a10a=je['default']['statSync'](_0x3279a4)[_0x3a4b5e(0x2ea)]['getTime']();_0x18b1ba-_0x27a10a>_0x13ebb4&&(je['default'][_0x3a4b5e(0x239)](_0x3279a4),console[_0x3a4b5e(0x200)](_0x3a4b5e(0x4e9)+_0x5e0cf6));}),setTimeout(()=>Bi(_0x40218a),_0x139564);};function or(){const _0x50f2d0=a0_0x31011a;let _0x3435c2=new $(_0x50f2d0(0x333)),_0x1647b7=(0x0,be['default'])();_0x1647b7[_0x50f2d0(0x79a)]((0x0,Gi[_0x50f2d0(0x20b)])({'origin'(_0x37beb8,_0x5b35b4){const _0x4021fb=_0x50f2d0;let {ORIGIN:_0x2f0c83}=b['get'](_0x4021fb(0x851));return _0x37beb8||(_0x37beb8='*'),_0x2f0c83[_0x4021fb(0x81c)]('*')!==-0x1||_0x2f0c83[_0x4021fb(0x81c)](_0x37beb8)!==-0x1?_0x5b35b4(null,!0x0):_0x5b35b4(new Error(_0x4021fb(0x40a)));},'methods':[...b[_0x50f2d0(0x67e)](_0x50f2d0(0x851))[_0x50f2d0(0x26e)]],'credentials':b['get'](_0x50f2d0(0x851))['CREDENTIALS']}),(0x0,be[_0x50f2d0(0x646)])({'extended':!0x0,'limit':_0x50f2d0(0x61b)}),(0x0,be[_0x50f2d0(0x791)])({'limit':_0x50f2d0(0x61b)})),_0x1647b7[_0x50f2d0(0x79a)]((_0x3d26fe,_0x413c16,_0x5a113c)=>{const _0x57cc39=_0x50f2d0;_0x3d26fe[_0x57cc39(0x7c5)]['startsWith'](_0x57cc39(0x712))?_0x5a113c():(0x0,Vi['default'])()(_0x3d26fe,_0x413c16,_0x5a113c);}),_0x1647b7[_0x50f2d0(0x21c)]('view\x20engine','hbs'),_0x1647b7[_0x50f2d0(0x21c)](_0x50f2d0(0x3ad),(0x0,Gs[_0x50f2d0(0x57d)])(ce,_0x50f2d0(0x3ad))),_0x1647b7[_0x50f2d0(0x79a)](be[_0x50f2d0(0x20b)][_0x50f2d0(0x5b8)]((0x0,Gs[_0x50f2d0(0x57d)])(ce,'public'))),_0x1647b7['use']((_0x45919b,_0x3a0a05,_0x176886)=>{const _0x29cc16=_0x50f2d0;let _0x2fec91=_0x3a0a05['send'];_0x3a0a05[_0x29cc16(0x27e)]=function(_0x154547){const _0x48250d=_0x29cc16;if(_0x45919b['query'][_0x48250d(0x3ab)]==='true'||_0x45919b[_0x48250d(0x5f0)]['uazapi']===_0x48250d(0x747)){let _0x23f7b6=JSON['parse'](_0x154547);_0x154547=JSON[_0x48250d(0x720)](_0x340f0a(_0x23f7b6));}return _0x2fec91[_0x48250d(0x3a7)](_0x3a0a05,[_0x154547]);},_0x176886();}),_0x1647b7[_0x50f2d0(0x79a)]('/',ke),_0x1647b7[_0x50f2d0(0x79a)]((_0x4b4da5,_0x4ff09f,_0x2e7ff9,_0x325dc8)=>{const _0xc9c158=_0x50f2d0;if(_0x4b4da5)return _0x2e7ff9[_0xc9c158(0x893)](_0x4b4da5[_0xc9c158(0x893)]||0x1f4)['json'](_0x4b4da5);},(_0x108bd1,_0x2731b9,_0x2dcba4)=>{const _0x141f8a=_0x50f2d0;let {method:_0x6ea52d,url:_0x193ffb}=_0x108bd1;_0x2731b9[_0x141f8a(0x893)](0x194)['json']({'status':0x194,'message':_0x141f8a(0x254)+_0x6ea52d[_0x141f8a(0x5ca)]()+'\x20'+_0x193ffb,'error':_0x141f8a(0x432)}),_0x2dcba4();});let _0x340f0a=(_0x126f21,_0x50476e=_0x50f2d0(0x3bb))=>{const _0x2b15d9=_0x50f2d0;let _0x43c705=(_0x51c081,_0x139713=null,_0x507275=!0x1)=>{const _0x3f4119=a0_0x2776;let _0x18283e={};return Object[_0x3f4119(0x31f)](_0x51c081)['forEach'](_0x35b08a=>{const _0x41d25d=_0x3f4119;let _0x458652=_0x51c081[_0x35b08a],_0x5832e7=''+_0x50476e+_0x35b08a;_0x139713&&!_0x507275&&(_0x5832e7=_0x139713+'.'+_0x35b08a),!_0x458652&&_0x458652!==0x0&&_0x458652!==!0x1||typeof _0x458652>'u'?_0x18283e[_0x5832e7]=null:typeof _0x458652!=_0x41d25d(0x545)&&!Array[_0x41d25d(0x652)](_0x458652)?_0x18283e[_0x5832e7]=_0x458652:typeof _0x458652==_0x41d25d(0x545)&&!Array[_0x41d25d(0x652)](_0x458652)?_0x18283e=Object[_0x41d25d(0x34a)](_0x18283e,_0x43c705(_0x458652,_0x5832e7)):Array[_0x41d25d(0x652)](_0x458652)&&(typeof _0x458652[0x0]==_0x41d25d(0x545)?(_0x18283e[_0x5832e7]=[],_0x458652['forEach'](_0x52aea7=>{const _0x3192b8=_0x41d25d;_0x18283e[_0x5832e7][_0x3192b8(0x3ec)](_0x43c705(_0x52aea7,_0x5832e7,!0x0));})):_0x18283e[_0x5832e7]=_0x458652);}),_0x18283e;};return Array['isArray'](_0x126f21)?_0x126f21[_0x2b15d9(0x74c)](_0x1231a0=>_0x43c705(_0x1231a0)):typeof _0x126f21==_0x2b15d9(0x545)&&_0x126f21!==null?_0x43c705(_0x126f21):{};},_0x3e5ce6=b[_0x50f2d0(0x67e)]('SERVER');Ue['app']=_0x1647b7;let _0x864a3a=Ue[_0x3e5ce6[_0x50f2d0(0x212)]],_0x5a25a8=_0x50f2d0(0x794);_0x864a3a['listen'](_0x3e5ce6[_0x50f2d0(0x8b3)],()=>{const _0x59584b=_0x50f2d0;_0x3435c2['log'](_0x5a25a8),_0x3435c2[_0x59584b(0x200)](_0x3e5ce6[_0x59584b(0x212)][_0x59584b(0x5ca)]()+_0x59584b(0x580)+_0x3e5ce6[_0x59584b(0x8b3)]);}),ir(),sa();}var rr=a0_0x31011a(0x34e),nr=us[a0_0x31011a(0x20b)][a0_0x31011a(0x57d)](__dirname,a0_0x31011a(0x921)),$e=null;function cr(){return new Promise((_0x3c777c,_0xb6ad3)=>{const _0x566da5=a0_0x2776;je[_0x566da5(0x20b)]['readFile'](nr,_0x566da5(0x72d),(_0x218c31,_0x51881c)=>{const _0x46cafe=_0x566da5;if(_0x218c31){$e=_0x218c31,_0x3c777c();return;}Wi['default'][_0x46cafe(0x25b)](_0x51881c)['remote\x20\x22origin\x22'][_0x46cafe(0x5a6)]===rr?($e=null,_0x3c777c()):($e=new Error(_0x46cafe(0x66c)),_0x3c777c());});});}async function lr(){const _0x4c88c6=a0_0x31011a;try{await cr(),await Bs();}catch(_0xd0c1a1){console[_0x4c88c6(0x4e4)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0xd0c1a1),process[_0x4c88c6(0x1f6)](0x1);}}lr();async function zi(){const _0x26ac41=a0_0x31011a;let _0x4fd2ec;try{_0x4fd2ec=(await Je[_0x26ac41(0x20b)][_0x26ac41(0x67e)](_0x26ac41(0x743)))[_0x26ac41(0x3fa)]['ip'];}catch(_0x4e2fe6){console[_0x26ac41(0x4e4)](_0x4e2fe6);try{_0x4fd2ec=(await Je['default'][_0x26ac41(0x67e)](_0x26ac41(0x63d)))['data']['ip'];}catch(_0x3658cf){console[_0x26ac41(0x4e4)](_0x3658cf);try{_0x4fd2ec=(await Je[_0x26ac41(0x20b)][_0x26ac41(0x67e)]('http://checkip.dyndns.org'))[_0x26ac41(0x3fa)][_0x26ac41(0x26b)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xf5a893){return console[_0x26ac41(0x4e4)](_0xf5a893),!0x1;}}}return _0x4fd2ec;}var Ji=0x0;async function ur(){const _0xbbd536=a0_0x31011a;let _0x1ed32c=await new pe(b[_0xbbd536(0x67e)](_0xbbd536(0x343)))[_0xbbd536(0x7e8)]();return console[_0xbbd536(0x200)](_0xbbd536(0x7df),_0x1ed32c['length']),_0x1ed32c[_0xbbd536(0x6f0)];}function a0_0x2776(_0x44a0f6,_0x49fe62){const _0x27eeff=a0_0x27ee();return a0_0x2776=function(_0x277648,_0x4ea2ab){_0x277648=_0x277648-0x1dd;let _0x504873=_0x27eeff[_0x277648];return _0x504873;},a0_0x2776(_0x44a0f6,_0x49fe62);}function dr(_0x5cf4e0){const _0x2b2dfa=a0_0x31011a;let _0x343818=_0x5cf4e0['get'](_0x2b2dfa(0x333))['URL'],_0x4e1271=_0x5cf4e0[_0x2b2dfa(0x67e)]('SSL_CONF');console[_0x2b2dfa(0x200)](_0x2b2dfa(0x227),_0x343818),console[_0x2b2dfa(0x200)](_0x2b2dfa(0x67c),_0x4e1271);let _0x209c68='',_0x28f1a3=_0x343818||'';if(_0x343818){let _0x4c11b5=_0x343818['match'](/\/\/(.*?)\./);console[_0x2b2dfa(0x200)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x4c11b5),_0x4c11b5&&_0x4c11b5[0x1]&&(_0x209c68=_0x4c11b5[0x1],console[_0x2b2dfa(0x200)]('Subdomínio\x20extraído\x20da\x20URL:',_0x209c68));}if(!_0x209c68&&_0x4e1271&&_0x4e1271[_0x2b2dfa(0x232)]){let _0x3094ae=_0x4e1271[_0x2b2dfa(0x232)][_0x2b2dfa(0x912)]('/');console[_0x2b2dfa(0x200)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x3094ae);let _0x1c7b1d=_0x3094ae[_0x3094ae['length']-0x2];if(console[_0x2b2dfa(0x200)](_0x2b2dfa(0x2cb),_0x1c7b1d),_0x1c7b1d){let _0x1174fb=_0x1c7b1d[_0x2b2dfa(0x912)]('.');console['log'](_0x2b2dfa(0x220),_0x1174fb),_0x1174fb[_0x2b2dfa(0x6f0)]>0x2&&(_0x209c68=_0x1174fb[0x0],console[_0x2b2dfa(0x200)](_0x2b2dfa(0x45b),_0x209c68),_0x28f1a3=''+_0x1c7b1d);}}return{'subdomain':_0x209c68||_0x2b2dfa(0x1dd),'fullURL':_0x28f1a3||'URL\x20não\x20disponível'};}var {subdomain:X,fullURL:Ws}=dr(b);console[a0_0x31011a(0x200)](a0_0x31011a(0x8fd),X),console[a0_0x31011a(0x200)]('URL\x20completa:',Ws);async function pr(){const _0x3ff2ef=a0_0x31011a;let _0x5a2bf4=b['get'](_0x3ff2ef(0x343)),_0x4fa7a3=b['get'](_0x3ff2ef(0x3b9))['API_KEY']['KEY'],_0x5bec80=b['get']('SSL_CONF'),_0x190b19=await zi(),_0x531251=b[_0x3ff2ef(0x67e)]('SERVER')[_0x3ff2ef(0x8b3)],_0xc11bef=Ws;try{let _0x2d9922={'ip':_0x190b19||null,'redis_enable':_0x5a2bf4?.[_0x3ff2ef(0x844)]||null,'apikey':_0x4fa7a3||null,'ssl':_0x5bec80?.[_0x3ff2ef(0x90a)]||null,'lastupdate':Hi||null,'port':_0x531251||null,'gitInstallError':$e?.['message']||null,'url':_0xc11bef||null,'subdomain':X};if(console[_0x3ff2ef(0x200)]('ip:\x20',_0x2d9922['ip']),_0x5a2bf4&&_0x5a2bf4[_0x3ff2ef(0x844)]){let _0x2c25a2=await ur();_0x2d9922[_0x3ff2ef(0x56c)]=_0x2c25a2||null;}for(let _0x478ef7 in _0x2d9922)_0x2d9922[_0x3ff2ef(0x42a)](_0x478ef7)&&_0x478ef7!=='ip'&&(_0x2d9922[_0x478ef7]=JSON['stringify'](_0x2d9922[_0x478ef7]));return(await Je[_0x3ff2ef(0x20b)][_0x3ff2ef(0x803)](_0x3ff2ef(0x7d3),_0x2d9922))[_0x3ff2ef(0x3fa)];}catch(_0x44e9e6){return console['error'](_0x44e9e6),!0x1;}}var Vs=!0x1,Hi=0x254,hr=0x3,qi=0x1b7740;async function Bs(){const _0x4def4d=a0_0x31011a;let _0x231278=_0x4def4d(0x7c9);$e===null&&(_0x231278=await zi());let _0x24ac0c=await pr();if(_0x24ac0c){if(_0x24ac0c[_0x4def4d(0x3c4)][_0x4def4d(0x78e)]===!0x0){$e===null&&_0x24ac0c[_0x4def4d(0x3c4)][_0x4def4d(0x6f5)]-Hi>0x0&&await gr(),Vs||(Vs=!0x0,or());let _0x42a187=0x24*0x3c*0x3c,_0x465d8c=_0x24ac0c[_0x4def4d(0x3c4)][_0x4def4d(0x2a4)]>_0x42a187?_0x42a187:_0x24ac0c[_0x4def4d(0x3c4)][_0x4def4d(0x2a4)],_0x5b998f=Number(_0x465d8c);if(isNaN(_0x5b998f)){console['error'](_0x4def4d(0x7a6));return;}let _0x503892=Math[_0x4def4d(0x7e2)](_0x5b998f/0xe10),_0x23102b=Math[_0x4def4d(0x7e2)](_0x5b998f%0xe10/0x3c),_0x7c664a=new Date(Date[_0x4def4d(0x6d9)]()+_0x5b998f*0x3e8);setTimeout(Bs,_0x5b998f*0x3e8);let _0x18e00d=_0x309672=>_0x309672['toString']()[_0x4def4d(0x202)](0x2,'0'),_0x18a999=_0x4def4d(0x1f2)+_0x18e00d(_0x503892)+_0x4def4d(0x8ed)+_0x18e00d(_0x23102b)+_0x4def4d(0x5c5)+_0x18e00d(_0x7c664a[_0x4def4d(0x2f3)]())+':'+_0x18e00d(_0x7c664a[_0x4def4d(0x904)]())+'.';console[_0x4def4d(0x200)](_0x18a999);}else return console[_0x4def4d(0x200)](_0x4def4d(0x796)),Vs&&(console['log'](_0x4def4d(0x6bf)),process[_0x4def4d(0x1f6)]()),_0x4def4d(0x74e);}else{if(Ji++,Ji<hr)console[_0x4def4d(0x200)](_0x4def4d(0x2cc)+qi/0xea60+_0x4def4d(0x7dc)),setTimeout(Bs,qi);else return console[_0x4def4d(0x4e4)](_0x4def4d(0x7b3)),'SERVER_OFFLINE';}}async function gr(){const _0x16d475=a0_0x31011a;console[_0x16d475(0x200)](_0x16d475(0x609)),console[_0x16d475(0x200)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,ls[_0x16d475(0x4cf)])(_0x16d475(0x257),{'shell':!0x0})['on'](_0x16d475(0x1f7),_0x33d0e3=>{const _0x59c5d=_0x16d475;_0x33d0e3!==0x0?console['error'](_0x59c5d(0x607)):(console[_0x59c5d(0x200)](_0x59c5d(0x624)),console[_0x59c5d(0x200)](_0x59c5d(0x86b)),(0x0,ls[_0x59c5d(0x4cf)])(_0x59c5d(0x94e),{'shell':!0x0})['on'](_0x59c5d(0x1f7),_0x5cfc60=>{const _0x353c48=_0x59c5d;if(_0x5cfc60!==0x0)console['error'](_0x353c48(0x367));else{console[_0x353c48(0x200)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x28bc51=(0x0,ls[_0x353c48(0x4cf)])(_0x353c48(0x235),{'shell':!0x0});_0x28bc51[_0x353c48(0x85c)]['on'](_0x353c48(0x3fa),_0x47afd9=>{const _0x3e3812=_0x353c48;console[_0x3e3812(0x200)](_0x3e3812(0x5c0)+_0x47afd9);}),_0x28bc51[_0x353c48(0x319)]['on']('data',_0x130162=>{const _0x122343=_0x353c48;console[_0x122343(0x4e4)]('Erro\x20de\x20atualização:\x20'+_0x130162);}),_0x28bc51['on'](_0x353c48(0x1f6),_0x41bbc0=>{const _0x1e7d89=_0x353c48;_0x41bbc0!==0x0?console[_0x1e7d89(0x4e4)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x41bbc0):console[_0x1e7d89(0x200)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log']('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x31011a(0x71b)]={'fullURL':fullURL,'subdomain':subdomain});