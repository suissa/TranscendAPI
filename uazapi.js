const a0_0x5708fb=a0_0x3a58;(function(_0x460ced,_0x4e9eb6){const _0x45a676=a0_0x3a58,_0x3102c9=_0x460ced();while(!![]){try{const _0x4937a5=-parseInt(_0x45a676(0x74c))/0x1+parseInt(_0x45a676(0x479))/0x2+parseInt(_0x45a676(0x57e))/0x3+parseInt(_0x45a676(0x517))/0x4*(parseInt(_0x45a676(0x61c))/0x5)+parseInt(_0x45a676(0x262))/0x6+parseInt(_0x45a676(0x6e9))/0x7+parseInt(_0x45a676(0x1b9))/0x8*(-parseInt(_0x45a676(0x2cc))/0x9);if(_0x4937a5===_0x4e9eb6)break;else _0x3102c9['push'](_0x3102c9['shift']());}catch(_0x3f36d0){_0x3102c9['push'](_0x3102c9['shift']());}}}(a0_0x9fdc,0x57da4));var wo=Object['create'],Cs=Object['defineProperty'],yo=Object[a0_0x5708fb(0x477)],bo=Object[a0_0x5708fb(0x406)],So=Object[a0_0x5708fb(0x72b)],Eo=Object['prototype'][a0_0x5708fb(0x4a9)],vo=(_0x32dbe2,_0x589267,_0x4c0058,_0x34fb41)=>{if(_0x589267&&typeof _0x589267=='object'||typeof _0x589267=='function'){for(let _0xf459ab of bo(_0x589267))!Eo['call'](_0x32dbe2,_0xf459ab)&&_0xf459ab!==_0x4c0058&&Cs(_0x32dbe2,_0xf459ab,{'get':()=>_0x589267[_0xf459ab],'enumerable':!(_0x34fb41=yo(_0x589267,_0xf459ab))||_0x34fb41['enumerable']});}return _0x32dbe2;},T=(_0xd0be90,_0x3d850f,_0x25f3ee)=>(_0x25f3ee=_0xd0be90!=null?wo(So(_0xd0be90)):{},vo(_0x3d850f||!_0xd0be90||!_0xd0be90[a0_0x5708fb(0x578)]?Cs(_0x25f3ee,a0_0x5708fb(0x19f),{'value':_0xd0be90,'enumerable':!0x0}):_0x25f3ee,_0xd0be90)),lo=T(require(a0_0x5708fb(0x352))),Ts=require('fs'),Rs=require(a0_0x5708fb(0x4ac)),Ms=require(a0_0x5708fb(0x27d)),Oe=require(a0_0x5708fb(0x27d)),Q=process[a0_0x5708fb(0x5f3)](),V=(0x0,Oe[a0_0x5708fb(0x532)])(Q,'instances'),Ns=(0x0,Oe['join'])(Q,a0_0x5708fb(0x6c8)),Gt=(0x0,Oe[a0_0x5708fb(0x532)])(Q,a0_0x5708fb(0x557),'auth'),As=require(a0_0x5708fb(0x34f)),Wt=class{constructor(){const _0x1d7ee4=a0_0x5708fb;this[_0x1d7ee4(0x720)]();}[a0_0x5708fb(0x1cd)](_0x46cf76){const _0x51dea9=a0_0x5708fb;return this[_0x51dea9(0x44e)][_0x46cf76];}['loadEnv'](){const _0x44dccb=a0_0x5708fb;this['env']=process['env']?.[_0x44dccb(0x246)]!=='true'?this[_0x44dccb(0x428)]():this[_0x44dccb(0x4cd)](),this[_0x44dccb(0x44e)][_0x44dccb(0x66e)]=process['env']?.[_0x44dccb(0x343)]===_0x44dccb(0x4e9),process[_0x44dccb(0x44e)]?.[_0x44dccb(0x246)]===_0x44dccb(0x590)&&(this[_0x44dccb(0x44e)]['SERVER'][_0x44dccb(0x5ce)]=_0x44dccb(0x294),this[_0x44dccb(0x44e)][_0x44dccb(0x1d6)][_0x44dccb(0x6fd)]=Number['parseInt'](process['env']?.[_0x44dccb(0x711)]??'8080'));}['envYaml'](){const _0xcfa270=a0_0x5708fb;return(0x0,Rs[_0xcfa270(0x71f)])((0x0,Ts['readFileSync'])((0x0,Ms[_0xcfa270(0x532)])(Ns,_0xcfa270(0x3d3)),{'encoding':_0xcfa270(0x733)}));}[a0_0x5708fb(0x4cd)](){const _0xd6e21d=a0_0x5708fb;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0xd6e21d(0x59a)](process['env'][_0xd6e21d(0x711)])},'CORS':{'ORIGIN':process[_0xd6e21d(0x44e)]['CORS_ORIGIN']['split'](','),'METHODS':process[_0xd6e21d(0x44e)][_0xd6e21d(0x35e)][_0xd6e21d(0x3bd)](','),'CREDENTIALS':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x473)]===_0xd6e21d(0x590)},'SSL_CONF':{'PRIVKEY':process['env']?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x323)]},'STORE':{'CLEANING_INTERVAL':Number[_0xd6e21d(0x628)](process[_0xd6e21d(0x44e)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process[_0xd6e21d(0x44e)][_0xd6e21d(0x67e)]):void 0x0,'MESSAGES':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x694)]===_0xd6e21d(0x590),'CONTACTS':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x518)]===_0xd6e21d(0x590),'CHATS':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x39f)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x2c3)],'PORT':Number[_0xd6e21d(0x59a)](process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x2c3)]),'USER':process['env'][_0xd6e21d(0x688)],'PASSWORD':process[_0xd6e21d(0x44e)][_0xd6e21d(0x3b3)],'URI':process[_0xd6e21d(0x44e)][_0xd6e21d(0x52d)],'DB_PREFIX_NAME':process[_0xd6e21d(0x44e)][_0xd6e21d(0x715)]},'ENABLED':process[_0xd6e21d(0x44e)]?.['DATABASE_ENABLED']===_0xd6e21d(0x590)},'REDIS':{'ENABLED':process['env']?.[_0xd6e21d(0x35f)]==='true','URI':process['env'][_0xd6e21d(0x5c0)],'PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x678)][_0xd6e21d(0x3bd)](','),'COLOR':process['env']?.[_0xd6e21d(0x1b3)]===_0xd6e21d(0x590)},'DEL_INSTANCE':(0x0,As[_0xd6e21d(0x6ab)])(process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x6b1)])?process['env']['DEL_INSTANCE']===_0xd6e21d(0x590):Number['parseInt'](process['env'][_0xd6e21d(0x6b1)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0xd6e21d(0x44e)]['WEBHOOK_MAP']?process[_0xd6e21d(0x44e)][_0xd6e21d(0x461)]===_0xd6e21d(0x590):!0x1,'GLOBAL':{'URL':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x372)],'ENABLED':process['env']?.[_0xd6e21d(0x6e0)]===_0xd6e21d(0x590)},'EVENTS':{'STATUS_INSTANCE':process['env']?.['WEBHOOK_EVENTS_STATUS_INSTANCE']===_0xd6e21d(0x590),'QRCODE_UPDATED':process[_0xd6e21d(0x44e)]?.['WEBHOOK_EVENTS_QRCODE_UPDATED']===_0xd6e21d(0x590),'MESSAGES_SET':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x242)]==='true','MESSAGES_UPSERT':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x3ef)]==='true','MESSAGES_UPDATE':process[_0xd6e21d(0x44e)]?.['WEBHOOK_EVENTS_MESSAGES_UPDATE']===_0xd6e21d(0x590),'SEND_MESSAGE':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x1aa)]===_0xd6e21d(0x590),'CONTACTS_SET':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x3d6)]===_0xd6e21d(0x590),'CONTACTS_UPDATE':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x6d0)]===_0xd6e21d(0x590),'CONTACTS_UPSERT':process['env']?.[_0xd6e21d(0x1e5)]===_0xd6e21d(0x590),'PRESENCE_UPDATE':process[_0xd6e21d(0x44e)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']==='true','CHATS_SET':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x512)]==='true','CHATS_UPDATE':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x3d2)]===_0xd6e21d(0x590),'CHATS_UPSERT':process[_0xd6e21d(0x44e)]?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0xd6e21d(0x590),'CHATS_DELETE':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x57a)]==='true','CONNECTION_UPDATE':process[_0xd6e21d(0x44e)]?.['WEBHOOK_EVENTS_CONNECTION_UPDATE']===_0xd6e21d(0x590),'GROUPS_UPSERT':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x252)]===_0xd6e21d(0x590),'GROUP_UPDATE':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x361)]===_0xd6e21d(0x590),'GROUP_PARTICIPANTS_UPDATE':process['env']?.['WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE']===_0xd6e21d(0x590),'NEW_JWT_TOKEN':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x712)]===_0xd6e21d(0x590)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x6cd)]||_0xd6e21d(0x5e2),'NAME':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x42d)]||_0xd6e21d(0x24c)},'QRCODE':{'LIMIT':Number[_0xd6e21d(0x59a)](process[_0xd6e21d(0x44e)][_0xd6e21d(0x241)])||0x5},'TRIAL_AD':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x61a)],'TRIAL_INSTANCE_NAME':process[_0xd6e21d(0x44e)]?.[_0xd6e21d(0x2a4)],'AUTHENTICATION':{'TYPE':process[_0xd6e21d(0x44e)][_0xd6e21d(0x521)],'API_KEY':{'KEY':process[_0xd6e21d(0x44e)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0xd6e21d(0x628)](process['env']?.[_0xd6e21d(0x239)])?Number[_0xd6e21d(0x59a)](process['env'][_0xd6e21d(0x239)]):0xe10,'SECRET':process[_0xd6e21d(0x44e)][_0xd6e21d(0x1fc)]}}};}},S=new Wt(),uo=T(require(a0_0x5708fb(0x463))),ge=T(require(a0_0x5708fb(0x6cb))),Ss=require(a0_0x5708fb(0x27d)),Ht=T(require(a0_0x5708fb(0x31f))),Kt=(_0x292bca=>(_0x292bca[a0_0x5708fb(0x64d)]=a0_0x5708fb(0x3e0),_0x292bca[a0_0x5708fb(0x55f)]=a0_0x5708fb(0x44b),_0x292bca[a0_0x5708fb(0x445)]=a0_0x5708fb(0x228),_0x292bca[a0_0x5708fb(0x592)]=a0_0x5708fb(0x50a),_0x292bca['DEBUG']=a0_0x5708fb(0x373),_0x292bca['VERBOSE']=a0_0x5708fb(0x371),_0x292bca[a0_0x5708fb(0x447)]=a0_0x5708fb(0x700),_0x292bca))(Kt||{}),Is=(_0x597242=>(_0x597242[a0_0x5708fb(0x64d)]=a0_0x5708fb(0x3da),_0x597242[a0_0x5708fb(0x447)]=a0_0x5708fb(0x63c),_0x597242[a0_0x5708fb(0x55f)]=a0_0x5708fb(0x6d3),_0x597242[a0_0x5708fb(0x445)]='\x1b[33m%s\x1b[0m',_0x597242[a0_0x5708fb(0x592)]='\x1b[31m%s\x1b[0m',_0x597242[a0_0x5708fb(0x1b8)]=a0_0x5708fb(0x277),_0x597242[a0_0x5708fb(0x3ca)]=a0_0x5708fb(0x704),_0x597242))(Is||{}),Ds=(_0x3cb259=>(_0x3cb259[a0_0x5708fb(0x64d)]=a0_0x5708fb(0x64d),_0x3cb259[a0_0x5708fb(0x445)]=a0_0x5708fb(0x445),_0x3cb259['INFO']=a0_0x5708fb(0x55f),_0x3cb259[a0_0x5708fb(0x447)]='DARK',_0x3cb259[a0_0x5708fb(0x592)]=a0_0x5708fb(0x592),_0x3cb259[a0_0x5708fb(0x1b8)]=a0_0x5708fb(0x1b8),_0x3cb259[a0_0x5708fb(0x3ca)]=a0_0x5708fb(0x3ca),_0x3cb259))(Ds||{}),Os=(_0x456c81=>(_0x456c81[a0_0x5708fb(0x64d)]=a0_0x5708fb(0x43c),_0x456c81[a0_0x5708fb(0x55f)]=a0_0x5708fb(0x2ae),_0x456c81['WARN']=a0_0x5708fb(0x5bf),_0x456c81[a0_0x5708fb(0x447)]=a0_0x5708fb(0x631),_0x456c81[a0_0x5708fb(0x592)]=a0_0x5708fb(0x664),_0x456c81[a0_0x5708fb(0x1b8)]=a0_0x5708fb(0x33b),_0x456c81[a0_0x5708fb(0x3ca)]=a0_0x5708fb(0x409),_0x456c81))(Os||{}),N=class{constructor(_0x82cc3f='Logger'){const _0x987520=a0_0x5708fb;this[_0x987520(0x6f0)]=_0x82cc3f,this[_0x987520(0x33c)]=S;}[a0_0x5708fb(0x1a0)](_0x24552c){const _0x4f8e00=a0_0x5708fb;this[_0x4f8e00(0x6f0)]=_0x24552c;}[a0_0x5708fb(0x41b)](_0x5e0dd8,_0xcd675b){const _0x1f3352=a0_0x5708fb;let _0x252b9a=[];this['configService'][_0x1f3352(0x1cd)](_0x1f3352(0x64d))['LEVEL'][_0x1f3352(0x31e)](_0x1be3bd=>_0x252b9a[_0x1f3352(0x245)](Ds[_0x1be3bd]));let _0xea57d1=typeof _0x5e0dd8;_0x252b9a[_0x1f3352(0x3b1)](_0xcd675b)&&(S['get'](_0x1f3352(0x64d))[_0x1f3352(0x5a6)]?(console[_0x1f3352(0x525)](_0x1f3352(0x6ca)+Is[_0xcd675b],_0x1f3352(0x20c),(0x0,Ht[_0x1f3352(0x19f)])()[_0x1f3352(0x27f)](_0x1f3352(0x744)),_0x1f3352(0x230),Kt[_0xcd675b]+Os[_0xcd675b]+_0x1f3352(0x6ca),_0xcd675b+_0x1f3352(0x28e),'\x1b[33m\x1b[1m',this[_0x1f3352(0x6f0)]+'\x1b[0m',Kt[_0xcd675b],_0xea57d1!==_0x1f3352(0x279)?_0x5e0dd8:'',_0x1f3352(0x230)),_0xea57d1===_0x1f3352(0x279)&&console[_0x1f3352(0x525)](_0x5e0dd8,'\x0a')):console[_0x1f3352(0x525)]((0x0,Ht[_0x1f3352(0x19f)])()[_0x1f3352(0x27f)]('HH:mm:ss'),_0xcd675b+'\x20',''+this[_0x1f3352(0x6f0)],_0x5e0dd8));}[a0_0x5708fb(0x525)](_0x44146e){this['console'](_0x44146e,'LOG');}['info'](_0x19470f){const _0x3742ba=a0_0x5708fb;this[_0x3742ba(0x41b)](_0x19470f,_0x3742ba(0x55f));}['warn'](_0x19bd79){const _0x55a1d7=a0_0x5708fb;this[_0x55a1d7(0x41b)](_0x19bd79,_0x55a1d7(0x445));}[a0_0x5708fb(0x4aa)](_0x5e612d){const _0x2b5a10=a0_0x5708fb;this[_0x2b5a10(0x41b)](_0x5e612d,_0x2b5a10(0x592));}[a0_0x5708fb(0x60a)](_0x2ab482){const _0x1781a0=a0_0x5708fb;this[_0x1781a0(0x41b)](_0x2ab482,_0x1781a0(0x3ca));}[a0_0x5708fb(0x6c9)](_0xefdc){const _0x5e98f0=a0_0x5708fb;this[_0x5e98f0(0x41b)](_0xefdc,_0x5e98f0(0x1b8));}['dark'](_0x3e2659){const _0x1ea2db=a0_0x5708fb;this[_0x1ea2db(0x41b)](_0x3e2659,_0x1ea2db(0x447));}};function _s(){const _0xed7075=a0_0x5708fb;process['on'](_0xed7075(0x5ee),(_0x516531,_0x572504)=>{const _0x205369=_0xed7075;new N(_0x205369(0x5ee))[_0x205369(0x4aa)]({'origin':_0x572504,'stderr':process[_0x205369(0x567)]['fd'],'error':_0x516531});}),process['on'](_0xed7075(0x227),(_0x4ba3e3,_0xa044bc)=>{const _0x54addb=_0xed7075;new N(_0x54addb(0x227))[_0x54addb(0x4aa)]({'origin':_0xa044bc,'stderr':process[_0x54addb(0x567)]['fd'],'error':_0x4ba3e3});});}var Ps=T(require(a0_0x5708fb(0x30b))),zt=new Ps['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require(a0_0x5708fb(0x399)),Qt=T(require(a0_0x5708fb(0x399))),Co=new N(a0_0x5708fb(0x4c8)),J=S['get']('DATABASE'),M=J[a0_0x5708fb(0x3e7)]?J['CONNECTION']['URI']?Qt['default'][a0_0x5708fb(0x449)](J[a0_0x5708fb(0x761)][a0_0x5708fb(0x1e0)],{'dbName':J[a0_0x5708fb(0x761)][a0_0x5708fb(0x301)]+'-whatsapp-api'}):Qt[a0_0x5708fb(0x19f)][a0_0x5708fb(0x449)](a0_0x5708fb(0x76c)+J[a0_0x5708fb(0x761)][a0_0x5708fb(0x531)]+':'+J[a0_0x5708fb(0x761)][a0_0x5708fb(0x6fd)]+a0_0x5708fb(0x33f),{'user':J[a0_0x5708fb(0x761)][a0_0x5708fb(0x75f)],'pass':J[a0_0x5708fb(0x761)][a0_0x5708fb(0x25e)],'dbName':J[a0_0x5708fb(0x761)]['DB_PREFIX_NAME']+a0_0x5708fb(0x198)}):null;J[a0_0x5708fb(0x3e7)]&&Co[a0_0x5708fb(0x190)]('ON\x20-\x20dbName:\x20'+M['$dbName']);var No=new _e[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),To=new _e[(a0_0x5708fb(0x68e))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[No],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ro=new _e['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':To,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),xs=_0x1e5d83=>{const _0x5a0399=a0_0x5708fb;let _0x155936='z_'+_0x1e5d83+'_Chats';return M?.[_0x5a0399(0x4fd)]('ChatModel',Ro,_0x155936);},$s=require('mongoose'),Mo=new $s[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ks=_0x45e1bf=>{const _0xca48b1=a0_0x5708fb;let _0x1ae3f9='z_'+_0x45e1bf+_0xca48b1(0x281);return M?.[_0xca48b1(0x4fd)](_0xca48b1(0x5e3),Mo,_0x1ae3f9);},Ls=require(a0_0x5708fb(0x399)),Ao=new Ls[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x5708fb(0x555),a0_0x5708fb(0x4bc),'ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Us=_0x31e228=>{const _0x26cd03=a0_0x5708fb;let _0x2d8446='z_'+_0x31e228+_0x26cd03(0x45a);return M?.['model']('MessageModel',Ao,_0x2d8446);},Vs=require(a0_0x5708fb(0x399)),Yt=class{},Io=new Vs[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),js=M?.[a0_0x5708fb(0x4fd)](Yt['name'],Io,a0_0x5708fb(0x454)),Fs=require('mongoose'),Xt=class{},Bs=new Fs[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Bs[a0_0x5708fb(0x236)](a0_0x5708fb(0x1f1),function(_0xd5be4b){const _0x11795a=a0_0x5708fb;delete this[_0x11795a(0x3a5)],delete this[_0x11795a(0x3c5)],delete this[_0x11795a(0x43a)],delete this[_0x11795a(0x1ff)],delete this[_0x11795a(0x4ea)],_0xd5be4b();});var qs=M?.[a0_0x5708fb(0x4fd)](Xt[a0_0x5708fb(0x3a8)],Bs,'webhook'),D=require('mongoose'),Pe=class{},Js=new D['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Zt=new D[(a0_0x5708fb(0x68e))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Do=new D[(a0_0x5708fb(0x68e))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x5708fb(0x68f)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new D[(a0_0x5708fb(0x68e))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Oo=new D[(a0_0x5708fb(0x68e))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new D[(a0_0x5708fb(0x68e))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ws=new D['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Do},'apirequest':Oo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),os=new D[(a0_0x5708fb(0x68e))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Hs=new D['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),es=class{},Ks=new D[(a0_0x5708fb(0x68e))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5d536b=a0_0x5708fb;return _0x5d536b(0x455)+Math['random']()['toString'](0x24)[_0x5d536b(0x46d)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[os],'variablesNotFound':{'type':[String]},'blocks':[Ws],'groups':[Js],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]}});Ks[a0_0x5708fb(0x236)](a0_0x5708fb(0x1f1),function(_0x5caead){const _0x4dc33a=a0_0x5708fb;let _0x223c6e=new Set(),_0x334140=new Set(this[_0x4dc33a(0x5cb)]?.['map'](_0xd17f35=>_0xd17f35[_0x4dc33a(0x3a8)])),_0x3a07e1=JSON[_0x4dc33a(0x726)](this),_0x58db39=/{{(?!_)([^}]*)}}/g,_0x5b4ab1;for(;(_0x5b4ab1=_0x58db39[_0x4dc33a(0x599)](_0x3a07e1))!==null;)_0x334140[_0x4dc33a(0x55c)](_0x5b4ab1[0x1])||_0x223c6e[_0x4dc33a(0x70e)](_0x5b4ab1[0x1]);_0x223c6e[_0x4dc33a(0x1c7)]>0x0?(console[_0x4dc33a(0x3c8)]('Variáveis\x20não\x20encontradas:',Array[_0x4dc33a(0x6bc)](_0x223c6e)),this[_0x4dc33a(0x586)]=Array[_0x4dc33a(0x6bc)](_0x223c6e)):this[_0x4dc33a(0x586)]=[],_0x5caead();});var I=M?.['model'](es[a0_0x5708fb(0x3a8)],Ks,a0_0x5708fb(0x3e5)),Po=new D[(a0_0x5708fb(0x68e))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[os],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),ts=class{},xo=new D[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[os],'blocks':[Ws],'groups':[Js],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]},'chatLog':Po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5708fb(0x36f)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Zt],'default':[]}}),j=M?.[a0_0x5708fb(0x4fd)](ts[a0_0x5708fb(0x3a8)],xo,a0_0x5708fb(0x1de)),ss=class{},$o=new D[(a0_0x5708fb(0x68e))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ko=new D['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Lo=new D[(a0_0x5708fb(0x68e))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ko,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[$o],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.[a0_0x5708fb(0x4fd)](ss[a0_0x5708fb(0x3a8)],Lo,a0_0x5708fb(0x247)),as=class{},Uo=new D[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Vo=new D[(a0_0x5708fb(0x68e))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x5708fb(0x4f4)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),jo=new D[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Fo=new D[(a0_0x5708fb(0x68e))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[jo]},'customFields':{'type':[Uo]},'flowConfig':{'type':Vo,'default':{}}}),ae=M?.['model'](as[a0_0x5708fb(0x3a8)],Fo,'AutomateSystem'),me=require('fs'),is=require(a0_0x5708fb(0x27d)),W=class{constructor(_0x46aeda){const _0x315e8d=a0_0x5708fb;this['storePath']=(0x0,is['join'])(Q,_0x315e8d(0x557)),this['writeStore']=_0x3958bf=>{const _0x3a4612=_0x315e8d;(0x0,me[_0x3a4612(0x458)])(_0x3958bf[_0x3a4612(0x27d)])||(0x0,me[_0x3a4612(0x5f5)])(_0x3958bf[_0x3a4612(0x27d)],{'recursive':!0x0});try{return(0x0,me['writeFileSync'])((0x0,is['join'])(_0x3958bf[_0x3a4612(0x27d)],_0x3958bf[_0x3a4612(0x6af)]+'.json'),JSON[_0x3a4612(0x726)]({..._0x3958bf['data']}),{'encoding':_0x3a4612(0x733)}),{'message':_0x3a4612(0x6ad)};}finally{_0x3958bf[_0x3a4612(0x743)]=void 0x0;}},this[_0x315e8d(0x468)]=_0x46aeda['get'](_0x315e8d(0x18d));}[a0_0x5708fb(0x5f7)](_0x9d8961,_0x17bc88=!0x1){throw new Error('Method\x20not\x20implemented.');}[a0_0x5708fb(0x2ff)](_0x521887){const _0x48b7fa=a0_0x5708fb;throw new Error(_0x48b7fa(0x4de));}[a0_0x5708fb(0x719)](_0x45b148,_0x5b9658){throw new Error('Method\x20not\x20implemented.');}},xe=class{},$e=class extends W{constructor(_0x60f14){const _0x4f4360=a0_0x5708fb;super(_0x60f14),this[_0x4f4360(0x33c)]=_0x60f14;}[a0_0x5708fb(0x1ee)](_0x5d47ce){return Us(_0x5d47ce);}async['insert'](_0x1fe9ab){const _0x29ce84=a0_0x5708fb;if(_0x1fe9ab[_0x29ce84(0x695)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x29ce84(0x1ee)](_0x1fe9ab[0x0][_0x29ce84(0x42a)])[_0x29ce84(0x1f5)]([..._0x1fe9ab]))[_0x29ce84(0x695)]};}catch(_0x3056d0){return console[_0x29ce84(0x525)](_0x29ce84(0x742),_0x3056d0),_0x3056d0;}}async['find'](_0x3a927a){const _0x124245=a0_0x5708fb;try{let _0xf16767=this['getMessageModelForOwner'](_0x3a927a[_0x124245(0x764)]['owner']);if(_0x3a927a?.['where']?.[_0x124245(0x6b9)]){for(let [_0x1b62c5,_0x55f132]of Object[_0x124245(0x23b)](_0x3a927a['where'][_0x124245(0x6b9)]))_0x3a927a[_0x124245(0x764)]['key.'+_0x1b62c5]=_0x55f132;delete _0x3a927a?.[_0x124245(0x764)]?.['key'];}return await _0xf16767[_0x124245(0x2ff)]({..._0x3a927a[_0x124245(0x764)]})[_0x124245(0x537)]({'messageTimestamp':-0x1})[_0x124245(0x6f9)](_0x3a927a?.['limit']??0x0)[_0x124245(0x32d)]();}catch{return[];}}async[a0_0x5708fb(0x719)](_0x481c58){const _0x85bcb6=a0_0x5708fb;try{await this['getMessageModelForOwner'](_0x481c58[_0x85bcb6(0x764)][_0x85bcb6(0x42a)])[_0x85bcb6(0x1e2)]({..._0x481c58[_0x85bcb6(0x764)]});}catch(_0x347576){console[_0x85bcb6(0x4aa)](_0x347576);}}async[a0_0x5708fb(0x74b)](_0x5efbd4,_0x14763d){const _0x29701f=a0_0x5708fb;try{return await this[_0x29701f(0x1ee)](_0x5efbd4['where'][_0x29701f(0x42a)])['findOneAndUpdate']({..._0x5efbd4[_0x29701f(0x764)]},{'$set':_0x14763d},{'new':!0x0});}catch(_0x27276e){throw console['error'](_0x27276e),_0x27276e;}}async[a0_0x5708fb(0x1f5)](_0x3fddf3){const _0x55456c=a0_0x5708fb;if(_0x3fddf3[_0x55456c(0x695)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x55456c(0x1ee)](_0x3fddf3[0x0][_0x55456c(0x42a)])[_0x55456c(0x1f5)]([..._0x3fddf3]))[_0x55456c(0x695)]};}catch(_0x48b8b1){return console['log'](_0x55456c(0x742),_0x48b8b1),_0x48b8b1;}}async[a0_0x5708fb(0x5e1)](_0x291f3c){const _0xf59220=a0_0x5708fb;try{return await this[_0xf59220(0x1ee)](_0x291f3c)[_0xf59220(0x26d)][_0xf59220(0x681)](),{'success':!0x0};}catch(_0x308f7c){return console[_0xf59220(0x4aa)](_0x308f7c),{'success':!0x1,'error':_0x308f7c};}}},te=require('fs'),Xa=T(require('@ffmpeg-installer/ffmpeg')),w=T(require(a0_0x5708fb(0x56c))),Te=require('fs'),$=T(require('path')),ce=T(require(a0_0x5708fb(0x6e3))),Za=require(a0_0x5708fb(0x4cb)),eo=T(require(a0_0x5708fb(0x304))),to=T(require(a0_0x5708fb(0x41d))),zs=[a0_0x5708fb(0x6cc),a0_0x5708fb(0x19d),a0_0x5708fb(0x42c),a0_0x5708fb(0x62a),a0_0x5708fb(0x282)],Qs=[a0_0x5708fb(0x44d),a0_0x5708fb(0x56a),a0_0x5708fb(0x388),a0_0x5708fb(0x1ef)],so=require('os'),Mt=T(require('pino')),Ot=require(a0_0x5708fb(0x295)),At=require(a0_0x5708fb(0x71c)),we=T(require(a0_0x5708fb(0x399))),_=require(a0_0x5708fb(0x34f)),he=class{constructor(_0x12934a,_0x2d9b31,_0xca7b3e){const _0x287bb4=a0_0x5708fb;this[_0x287bb4(0x6d1)]=_0x12934a,this[_0x287bb4(0x4a3)]=_0x2d9b31,this[_0x287bb4(0x3a8)]=_0xca7b3e;}},ke=class{},Le=class{},Se=class{},Ue=class{},Ve=class{},fe=class{},je=class{},Fe=class{},Be=class{},qe=class{},vt=T(require('express')),Ys=require('fs'),Xs=require(a0_0x5708fb(0x27d));async function Je(_0x310710){const _0x1a9fb0=a0_0x5708fb;let _0x16a406=F['waInstances'][_0x310710];if(J['ENABLED']){let _0x134da8=M[_0x1a9fb0(0x292)]()['db'](J[_0x1a9fb0(0x761)][_0x1a9fb0(0x301)]+'-instances')[_0x1a9fb0(0x26d)](_0x310710);return _0x16a406||(await _0x134da8[_0x1a9fb0(0x2ff)]({})[_0x1a9fb0(0x4d4)]())[_0x1a9fb0(0x695)]>0x0;}return _0x16a406||(0x0,Ys[_0x1a9fb0(0x458)])((0x0,Xs[_0x1a9fb0(0x532)])(V,_0x310710));}async function rs(_0x4b4e60,_0x3eec4a,_0x3f68c5){const _0x105c21=a0_0x5708fb;if(_0x4b4e60[_0x105c21(0x1b1)][_0x105c21(0x3b1)](_0x105c21(0x4dd))||_0x4b4e60[_0x105c21(0x1b1)]['includes'](_0x105c21(0x336))||_0x4b4e60[_0x105c21(0x1b1)][_0x105c21(0x3b1)](_0x105c21(0x478)))return _0x3f68c5();let _0x2f1d90=_0x4b4e60[_0x105c21(0x333)];if(!_0x2f1d90?.[_0x105c21(0x4f0)])throw new g('instanceName\x20not\x20provided.');if(!await Je(_0x2f1d90[_0x105c21(0x4f0)]))throw new x(_0x105c21(0x363)+_0x2f1d90[_0x105c21(0x4f0)]+_0x105c21(0x4ce));_0x3f68c5();}async function Zs(_0x366187,_0x174816,_0x532862){const _0x2b8ff=a0_0x5708fb;if(_0x366187[_0x2b8ff(0x1b1)]['includes'](_0x2b8ff(0x4dd))){let _0x3dc0d9=_0x366187['body'];if(await Je(_0x3dc0d9['instanceName']))throw new oe(_0x2b8ff(0x3df)+_0x3dc0d9['instanceName']+_0x2b8ff(0x309));F[_0x2b8ff(0x5b2)][_0x3dc0d9[_0x2b8ff(0x4f0)]]&&delete F[_0x2b8ff(0x5b2)][_0x3dc0d9[_0x2b8ff(0x4f0)]];}_0x532862();}var ea=require(a0_0x5708fb(0x34f)),ta=T(require(a0_0x5708fb(0x45f))),Ge=a0_0x5708fb(0x5e2),qo=new N(a0_0x5708fb(0x24f));async function Jo(_0x54fb44,_0x306e07,_0x462bc7){const _0x21fcf5=a0_0x5708fb;let _0x284c3c=_0x54fb44['get'](_0x21fcf5(0x1b6));if(_0x284c3c&&S[_0x21fcf5(0x1cd)](_0x21fcf5(0x264))[_0x21fcf5(0x1e4)][_0x21fcf5(0x318)]!==_0x284c3c)throw new ie();if(S['get'](_0x21fcf5(0x264))[_0x21fcf5(0x1e4)][_0x21fcf5(0x318)]===_0x284c3c)return _0x462bc7();if((_0x54fb44['originalUrl'][_0x21fcf5(0x3b1)]('/instance/create')||_0x54fb44[_0x21fcf5(0x1b1)][_0x21fcf5(0x3b1)](_0x21fcf5(0x336)))&&!_0x284c3c)throw new oe(_0x21fcf5(0x434),_0x21fcf5(0x3f6));let _0x558534=S[_0x21fcf5(0x1cd)](_0x21fcf5(0x264))[_0x21fcf5(0x601)];try{let [_0x317d1d,_0x1871c8]=_0x54fb44[_0x21fcf5(0x1cd)]('authorization')[_0x21fcf5(0x3bd)]('\x20');if(_0x317d1d['toLowerCase']()!==_0x21fcf5(0x759))throw new ie();if(!(0x0,ea[_0x21fcf5(0x1ce)])(_0x1871c8))throw new ie();let _0x3ebb94=_0x54fb44[_0x21fcf5(0x333)],_0x50493c=ta[_0x21fcf5(0x19f)][_0x21fcf5(0x308)](_0x1871c8,_0x558534[_0x21fcf5(0x303)],{'ignoreExpiration':_0x558534[_0x21fcf5(0x1e8)]===0x0});if(_0x3ebb94[_0x21fcf5(0x4f0)]!==_0x50493c[_0x21fcf5(0x4f0)]||Ge!==_0x50493c[_0x21fcf5(0x5f0)])throw new ie();return _0x462bc7();}catch(_0x577df5){throw qo['error'](_0x577df5),new ie();}}async function Go(_0x444771,_0x457616,_0x2671f1){const _0x586ce9=a0_0x5708fb;let _0x1c4bc5=S[_0x586ce9(0x1cd)](_0x586ce9(0x264))[_0x586ce9(0x1e4)],_0x133583=_0x444771[_0x586ce9(0x1cd)](_0x586ce9(0x1b6));if(_0x1c4bc5['KEY']===_0x133583)return _0x2671f1();if(_0x444771['originalUrl']['includes'](_0x586ce9(0x4dd))){let _0x49c353=S['get']('TRIAL_INSTANCE_NAME'),_0x48d29b=_0x444771[_0x586ce9(0x706)][_0x586ce9(0x4f0)];if(_0x49c353&&_0x48d29b[_0x586ce9(0x684)]()[_0x586ce9(0x232)](_0x49c353[_0x586ce9(0x684)]()))return _0x2671f1();if(!_0x133583)throw new oe(_0x586ce9(0x434),_0x586ce9(0x3f6));}if(_0x444771['originalUrl']['includes']('/instance/fetchInstances')&&!_0x133583)throw new oe('Missing\x20global\x20api\x20key',_0x586ce9(0x3f6));if(_0x444771['originalUrl'][_0x586ce9(0x3b1)](_0x586ce9(0x478))&&!_0x133583)throw new oe(_0x586ce9(0x434),_0x586ce9(0x3f6));try{let _0x4e3937=_0x444771[_0x586ce9(0x333)];if((await le[_0x586ce9(0x4e1)][_0x586ce9(0x2ff)](_0x4e3937[_0x586ce9(0x4f0)]))['apikey']===_0x133583)return _0x2671f1();}catch{}throw new ie();}var sa={'jwt':Jo,'apikey':Go},ka=require(a0_0x5708fb(0x6cb)),v=require(a0_0x5708fb(0x4cb)),E=(..._0x303dc7)=>{const _0x3b93f6=a0_0x5708fb;let _0x3f8a29={};return _0x303dc7[_0x3b93f6(0x31e)](_0x1e4a0c=>_0x3f8a29[_0x1e4a0c]={'minLength':0x1,'description':_0x3b93f6(0x56f)+_0x1e4a0c+_0x3b93f6(0x3ba)}),{'if':{'propertyNames':{'enum':[..._0x303dc7]}},'then':{'properties':_0x3f8a29}};},C={'$id':(0x0,v['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x5708fb(0x4c0)}},...E(a0_0x5708fb(0x4f0))},aa={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'oldToken':{'type':'string'}},'required':['oldToken'],...E(a0_0x5708fb(0x305))},gn={'properties':{'key':{'type':a0_0x5708fb(0x279),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5708fb(0x4c0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x5708fb(0x667)],...E('id','remoteJid')},'message':{'type':a0_0x5708fb(0x279)}}},Y={'properties':{'delay':{'type':a0_0x5708fb(0x3ae),'description':a0_0x5708fb(0x528)},'presence':{'type':a0_0x5708fb(0x4c0),'enum':[a0_0x5708fb(0x671),a0_0x5708fb(0x29d),a0_0x5708fb(0x2b0),a0_0x5708fb(0x5a7),a0_0x5708fb(0x391)]}}},X={'type':a0_0x5708fb(0x4c0),'pattern':a0_0x5708fb(0x6f8),'description':a0_0x5708fb(0x6fc)},oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x5708fb(0x279),'properties':{'text':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x2ce)],...E(a0_0x5708fb(0x2ce))}},'required':[a0_0x5708fb(0x1ed),a0_0x5708fb(0x682)]},ia={'type':a0_0x5708fb(0x4c0),'pattern':a0_0x5708fb(0x216),'description':a0_0x5708fb(0x6fc)},mn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...ia},'options':{...Y},'textMessage':{'type':a0_0x5708fb(0x279),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x5708fb(0x2ce))}},'required':[a0_0x5708fb(0x1ed),a0_0x5708fb(0x682)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'number':{...ia},'options':{...Y},'mediaMessage':{'type':a0_0x5708fb(0x279),'properties':{'mediatype':{'type':'string','enum':[a0_0x5708fb(0x28b),a0_0x5708fb(0x46f),a0_0x5708fb(0x419),a0_0x5708fb(0x3f1)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x5708fb(0x4c0)}},'required':['mediatype',a0_0x5708fb(0x223)],...E(a0_0x5708fb(0x6af),a0_0x5708fb(0x45d),a0_0x5708fb(0x223))}},'required':[a0_0x5708fb(0x194),a0_0x5708fb(0x682)]},ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x5708fb(0x279),'properties':{'image':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x28b)],...E(a0_0x5708fb(0x28b))}},'required':[a0_0x5708fb(0x282),a0_0x5708fb(0x682)]},na={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'statusMessage':{'type':a0_0x5708fb(0x279),'properties':{'type':{'type':a0_0x5708fb(0x4c0),'enum':[a0_0x5708fb(0x2ce),'image',a0_0x5708fb(0x3f1),'video']},'content':{'type':'string'},'caption':{'type':a0_0x5708fb(0x4c0)},'backgroundColor':{'type':a0_0x5708fb(0x4c0)},'font':{'type':a0_0x5708fb(0x3ae),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5708fb(0x4c0),'pattern':a0_0x5708fb(0x545),'description':a0_0x5708fb(0x25c)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x5708fb(0x2af),'content'],...E('type',a0_0x5708fb(0x5eb))}},'required':[a0_0x5708fb(0x1ab)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x5708fb(0x4c0),'enum':[a0_0x5708fb(0x28b),'document',a0_0x5708fb(0x419),a0_0x5708fb(0x3f1)]},'media':{'type':a0_0x5708fb(0x4c0)},'fileName':{'type':a0_0x5708fb(0x4c0)},'caption':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x30c),a0_0x5708fb(0x223)],...E('fileName',a0_0x5708fb(0x45d),'media')}},'required':[a0_0x5708fb(0x194),a0_0x5708fb(0x682)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0x5708fb(0x279),'properties':{'audio':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x3f1)],...E(a0_0x5708fb(0x3f1))}},'required':['audioMessage',a0_0x5708fb(0x682)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'number':{...X},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x5708fb(0x4c0)},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5708fb(0x3a8),a0_0x5708fb(0x749),a0_0x5708fb(0x2c9)],...E(a0_0x5708fb(0x3a8),a0_0x5708fb(0x749),a0_0x5708fb(0x2c9))}},'required':[a0_0x5708fb(0x682),a0_0x5708fb(0x369)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x5708fb(0x279),'properties':{'title':{'type':'string'},'description':{'type':a0_0x5708fb(0x4c0)},'footerText':{'type':a0_0x5708fb(0x4c0)},'buttons':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x5708fb(0x4c0)}},'required':['buttonText','buttonId'],...E(a0_0x5708fb(0x18f),a0_0x5708fb(0x71e))}},'mediaMessage':{'type':a0_0x5708fb(0x279),'properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':a0_0x5708fb(0x4c0),'enum':['image',a0_0x5708fb(0x46f),'video']}},'required':['media',a0_0x5708fb(0x30c)],...E(a0_0x5708fb(0x223),a0_0x5708fb(0x6af))}},'required':[a0_0x5708fb(0x53f),a0_0x5708fb(0x3fa)],...E(a0_0x5708fb(0x53f),a0_0x5708fb(0x20b))}},'required':[a0_0x5708fb(0x682),'buttonMessage']},pa={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x5708fb(0x682)},'longitude':{'type':a0_0x5708fb(0x682)},'name':{'type':a0_0x5708fb(0x4c0)},'address':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x1fe),a0_0x5708fb(0x326)],...E(a0_0x5708fb(0x3a8),a0_0x5708fb(0x3ac))}},'required':['number',a0_0x5708fb(0x60b)]},ga={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'listMessage':{'type':a0_0x5708fb(0x279),'properties':{'title':{'type':a0_0x5708fb(0x4c0)},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':a0_0x5708fb(0x4c0)},'sections':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5708fb(0x279),'properties':{'title':{'type':a0_0x5708fb(0x4c0)},'rows':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5708fb(0x279),'properties':{'title':{'type':a0_0x5708fb(0x4c0)},'description':{'type':'string'},'rowId':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x53f),'description',a0_0x5708fb(0x61d)],...E(a0_0x5708fb(0x53f),a0_0x5708fb(0x20b),a0_0x5708fb(0x61d))}}},'required':['title',a0_0x5708fb(0x64c)],...E('title')}}},'required':['title',a0_0x5708fb(0x20b),a0_0x5708fb(0x18f),a0_0x5708fb(0x491)],...E(a0_0x5708fb(0x53f),'description','buttonText',a0_0x5708fb(0x364))}},'required':[a0_0x5708fb(0x682),a0_0x5708fb(0x240)]},ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':a0_0x5708fb(0x26b),'items':{'type':a0_0x5708fb(0x279),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x5708fb(0x2da),a0_0x5708fb(0x4ed)],...E(a0_0x5708fb(0x2da))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x5708fb(0x682),a0_0x5708fb(0x1bd)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'reactionMessage':{'type':a0_0x5708fb(0x279),'properties':{'key':{'type':a0_0x5708fb(0x279),'properties':{'id':{'type':a0_0x5708fb(0x4c0)},'remoteJid':{'type':a0_0x5708fb(0x4c0)},'fromMe':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5708fb(0x22b),'fromMe'],...E('id',a0_0x5708fb(0x22b))},'reaction':{'type':'string'}},'required':['key',a0_0x5708fb(0x533)],...E(a0_0x5708fb(0x533))}},'required':['reactionMessage']},fa={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'numbers':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x5708fb(0x545),'description':a0_0x5708fb(0x3b8)}}}},wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5708fb(0x4c0)},'fromMe':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x5708fb(0x667),a0_0x5708fb(0x22b)],...E('id',a0_0x5708fb(0x22b))}}},'required':[a0_0x5708fb(0x729)]},ya={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x5708fb(0x279),'properties':{'readreceipts':{'type':a0_0x5708fb(0x4c0),'enum':[a0_0x5708fb(0x5dd),a0_0x5708fb(0x1d8)]},'profile':{'type':'string','enum':[a0_0x5708fb(0x5dd),a0_0x5708fb(0x319),'contact_blacklist',a0_0x5708fb(0x1d8)]},'status':{'type':a0_0x5708fb(0x4c0),'enum':[a0_0x5708fb(0x5dd),'contacts',a0_0x5708fb(0x32b),'none']},'online':{'type':'string','enum':['all',a0_0x5708fb(0x67c)]},'last':{'type':a0_0x5708fb(0x4c0),'enum':['all',a0_0x5708fb(0x319),'contact_blacklist',a0_0x5708fb(0x1d8)]},'groupadd':{'type':a0_0x5708fb(0x4c0),'enum':['all','contacts',a0_0x5708fb(0x32b),'none']}},'required':['readreceipts',a0_0x5708fb(0x272),a0_0x5708fb(0x284),a0_0x5708fb(0x665),'last','groupadd'],...E(a0_0x5708fb(0x62e),a0_0x5708fb(0x272),'status',a0_0x5708fb(0x665),a0_0x5708fb(0x37c),'groupadd')}},'required':[a0_0x5708fb(0x362)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x5708fb(0x279),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5708fb(0x4c0)},'fromMe':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x5708fb(0x22b))},'messageTimestamp':{'type':a0_0x5708fb(0x3ae),'minLength':0x1}},'required':['key'],...E(a0_0x5708fb(0x6c0))},'archive':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x5708fb(0x4c0)},'fromMe':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id','fromMe',a0_0x5708fb(0x22b)],...E('id',a0_0x5708fb(0x22b),a0_0x5708fb(0x414))},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'where':{'type':a0_0x5708fb(0x279),'properties':{'_id':{'type':a0_0x5708fb(0x4c0),'minLength':0x1},'pushName':{'type':a0_0x5708fb(0x4c0),'minLength':0x1},'id':{'type':a0_0x5708fb(0x4c0),'minLength':0x1}},...E(a0_0x5708fb(0x1bf),'id','pushName')}}},va={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'name':{'type':a0_0x5708fb(0x4c0)}},...E(a0_0x5708fb(0x3a8))},Ca={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x5708fb(0x4c0)}},...E(a0_0x5708fb(0x284))},Ee={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Na={'type':'object','properties':{'wuid':{'type':a0_0x5708fb(0x4c0)},'name':{'type':'string'},'picture':{'type':a0_0x5708fb(0x4c0)},'status':{'type':a0_0x5708fb(0x4c0)},'isBusiness':{'type':a0_0x5708fb(0x452)}}},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'where':{'type':a0_0x5708fb(0x279),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x5708fb(0x279),'if':{'propertyNames':{'enum':['fromMe',a0_0x5708fb(0x22b),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5708fb(0x4c0),'minLength':0x1,'description':a0_0x5708fb(0x505)},'id':{'type':a0_0x5708fb(0x4c0),'minLength':0x1,'description':a0_0x5708fb(0x505)},'fromMe':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E('_id')},'limit':{'type':'integer'}}},fn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x5708fb(0x279),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x5708fb(0x4c0)},'id':{'type':a0_0x5708fb(0x4c0)},'fromMe':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5708fb(0x4c0)},'status':{'type':'string','enum':[a0_0x5708fb(0x592),a0_0x5708fb(0x296),a0_0x5708fb(0x4f3),a0_0x5708fb(0x638),a0_0x5708fb(0x4ff),'PLAYED']}},...E(a0_0x5708fb(0x1bf),'remoteJid','id',a0_0x5708fb(0x284))},'limit':{'type':a0_0x5708fb(0x3ae)}}},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'number':{...X},'presence':{'type':a0_0x5708fb(0x4c0),'enum':[a0_0x5708fb(0x671),a0_0x5708fb(0x29d),'composing','recording',a0_0x5708fb(0x391)]}},'required':[a0_0x5708fb(0x6c4),a0_0x5708fb(0x682)]},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'subject':{'type':a0_0x5708fb(0x4c0)},'description':{'type':a0_0x5708fb(0x4c0)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5708fb(0x4c0),'minLength':0xa,'pattern':a0_0x5708fb(0x48b),'description':a0_0x5708fb(0x515)}}},'required':[a0_0x5708fb(0x705),a0_0x5708fb(0x6b8)],...E('subject',a0_0x5708fb(0x20b),a0_0x5708fb(0x5ea))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5708fb(0x4c0),'pattern':a0_0x5708fb(0x6f4)}},'required':[a0_0x5708fb(0x378)],...E(a0_0x5708fb(0x378))},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'groupJid':{'type':a0_0x5708fb(0x4c0)},'action':{'type':a0_0x5708fb(0x4c0),'enum':[a0_0x5708fb(0x70e),'remove',a0_0x5708fb(0x60d),'demote']},'participants':{'type':a0_0x5708fb(0x26b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5708fb(0x4c0),'minLength':0xa,'pattern':a0_0x5708fb(0x48b),'description':a0_0x5708fb(0x515)}}},'required':[a0_0x5708fb(0x378),a0_0x5708fb(0x632),a0_0x5708fb(0x6b8)],...E(a0_0x5708fb(0x378),a0_0x5708fb(0x632))},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x5708fb(0x682),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5708fb(0x378),a0_0x5708fb(0x231)],...E(a0_0x5708fb(0x378),a0_0x5708fb(0x231))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'groupJid':{'type':a0_0x5708fb(0x4c0)},'image':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x378),'image'],...E(a0_0x5708fb(0x378),a0_0x5708fb(0x28b))},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'groupJid':{'type':a0_0x5708fb(0x4c0)},'description':{'type':a0_0x5708fb(0x4c0)}},'required':[a0_0x5708fb(0x378),a0_0x5708fb(0x20b)],...E(a0_0x5708fb(0x378),a0_0x5708fb(0x20b))},_a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5708fb(0x4c0)},'name':{'type':'string'}},'required':[a0_0x5708fb(0x378),a0_0x5708fb(0x3a8)],...E('groupJid',a0_0x5708fb(0x3a8))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'groupJid':{'type':a0_0x5708fb(0x4c0)},'setting':{'type':a0_0x5708fb(0x4c0),'enum':['announcement',a0_0x5708fb(0x60c),'unlocked',a0_0x5708fb(0x5b1)]}},'required':[a0_0x5708fb(0x378),a0_0x5708fb(0x423)],...E('groupJid',a0_0x5708fb(0x423))},xa={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'inviteCode':{'type':a0_0x5708fb(0x4c0)}},'required':['inviteCode'],...E(a0_0x5708fb(0x723))},$a={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'url':{'type':a0_0x5708fb(0x4c0)},'enabled':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]}},'required':['url','enabled']},wn={'$id':(0x0,v['v4'])(),'type':a0_0x5708fb(0x279),'properties':{'local_map':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5708fb(0x452),'enum':[!0x0,!0x1]}},'required':[a0_0x5708fb(0x63a),a0_0x5708fb(0x634),a0_0x5708fb(0x66b),a0_0x5708fb(0x2cb),a0_0x5708fb(0x314),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x5708fb(0x514),a0_0x5708fb(0x20f),a0_0x5708fb(0x746),a0_0x5708fb(0x3e8),'CHATS_SET',a0_0x5708fb(0x32f),a0_0x5708fb(0x1b0),'CHATS_DELETE',a0_0x5708fb(0x51e),a0_0x5708fb(0x616),a0_0x5708fb(0x626),a0_0x5708fb(0x627)],...E(a0_0x5708fb(0x63a),a0_0x5708fb(0x634),a0_0x5708fb(0x66b),'MESSAGES_SET',a0_0x5708fb(0x314),a0_0x5708fb(0x652),a0_0x5708fb(0x196),a0_0x5708fb(0x514),a0_0x5708fb(0x20f),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x5708fb(0x4c7),a0_0x5708fb(0x32f),a0_0x5708fb(0x1b0),a0_0x5708fb(0x73c),'CONNECTION_UPDATE',a0_0x5708fb(0x616),a0_0x5708fb(0x626),a0_0x5708fb(0x627))},We=class{},He=class extends W{constructor(_0xac4c3a){const _0x1c3231=a0_0x5708fb;super(_0xac4c3a),this[_0x1c3231(0x33c)]=_0xac4c3a;}[a0_0x5708fb(0x3f4)](_0x56483b){return ks(_0x56483b);}async[a0_0x5708fb(0x5f7)](_0x17fdff){const _0x568a44=a0_0x5708fb;if(_0x17fdff[_0x568a44(0x695)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x17fdff[0x0][_0x568a44(0x42a)])[_0x568a44(0x1f5)]([..._0x17fdff]))[_0x568a44(0x695)]};}catch(_0x47b853){return _0x47b853;}}async[a0_0x5708fb(0x719)](_0x34615b){const _0xbaddbb=a0_0x5708fb;try{return{'deletedCount':(await this[_0xbaddbb(0x3f4)](_0x34615b[_0xbaddbb(0x764)]['owner'])[_0xbaddbb(0x1e2)]({..._0x34615b[_0xbaddbb(0x764)]}))['deletedCount']};}catch(_0x17d695){return{'error':_0x17d695?.[_0xbaddbb(0x3f5)]()};}}async['update'](_0x4f023b,_0x13cb5c){const _0x3b4d7a=a0_0x5708fb;try{if(_0x4f023b[_0x3b4d7a(0x695)]===0x0)return;let _0x1b54e3=this[_0x3b4d7a(0x3f4)](_0x13cb5c),_0x172d40=_0x4f023b[_0x3b4d7a(0x2ee)](_0x191f91=>({'updateOne':{'filter':{'_id':_0x191f91[_0x3b4d7a(0x1bf)],'owner':_0x13cb5c},'update':{..._0x191f91}}})),{modifiedCount:_0x5ec8c8}=await _0x1b54e3['bulkWrite'](_0x172d40);return{'insertCount':_0x5ec8c8};}catch{return;}}async[a0_0x5708fb(0x2ff)](_0x8ebf93){const _0x4319cb=a0_0x5708fb;try{return await this[_0x4319cb(0x3f4)](_0x8ebf93[_0x4319cb(0x764)][_0x4319cb(0x42a)])[_0x4319cb(0x2ff)]({..._0x8ebf93[_0x4319cb(0x764)]})[_0x4319cb(0x6f9)](_0x8ebf93?.[_0x4319cb(0x6f9)]??0x0)['lean']();}catch{return[];}}async[a0_0x5708fb(0x5fc)](_0x27cdc9){const _0x52a385=a0_0x5708fb;try{return await this['getContactModelForOwner'](_0x27cdc9[_0x52a385(0x764)][_0x52a385(0x42a)])['findOne']({..._0x27cdc9['where']})[_0x52a385(0x32d)]();}catch{return null;}}async[a0_0x5708fb(0x5e1)](_0x4a1c6f){const _0x1773a4=a0_0x5708fb;try{return await this[_0x1773a4(0x3f4)](_0x4a1c6f)[_0x1773a4(0x26d)][_0x1773a4(0x681)](),{'success':!0x0};}catch(_0x1331fa){return console['error'](_0x1331fa),{'success':!0x1,'error':_0x1331fa};}}},Ke=require(a0_0x5708fb(0x59f)),Tn=require(a0_0x5708fb(0x33a)),ns=new N(a0_0x5708fb(0x64a)),k=class{constructor(){}[a0_0x5708fb(0x574)](_0x3f992e,_0x13b8d9=!0x0){const _0x306b07=a0_0x5708fb;let _0x5a0aeb='/'+_0x3f992e;return _0x13b8d9&&(_0x5a0aeb+=_0x306b07(0x756)),_0x5a0aeb;}async[a0_0x5708fb(0x274)](_0x44612e){const _0x41438e=a0_0x5708fb;let {request:_0x3a744c,schema:_0x2c74a0,ClassRef:_0x5da316,execute:_0x4972ba}=_0x44612e,_0x8b2e54=new _0x5da316(),_0x4da4c9=_0x3a744c[_0x41438e(0x706)],_0x455e27=_0x3a744c[_0x41438e(0x333)];_0x3a744c?.[_0x41438e(0x212)]&&Object['keys'](_0x3a744c[_0x41438e(0x212)])['length']>0x0&&Object[_0x41438e(0x73f)](_0x455e27,_0x3a744c[_0x41438e(0x212)]),_0x3a744c[_0x41438e(0x1b1)][_0x41438e(0x3b1)](_0x41438e(0x4dd))&&Object[_0x41438e(0x73f)](_0x455e27,_0x4da4c9),Object[_0x41438e(0x73f)](_0x8b2e54,_0x4da4c9);let _0x49539a=_0x2c74a0?(0x0,Ke[_0x41438e(0x2d2)])(_0x8b2e54,_0x2c74a0):{'valid':!0x0,'errors':[]};if(!_0x49539a['valid']){let _0x3496b7=_0x49539a[_0x41438e(0x5fb)][_0x41438e(0x2ee)](({property:_0x3d9831,stack:_0x2a9a83,schema:_0x3a9fad})=>{const _0x3031d3=_0x41438e;let _0x39880e;return _0x3a9fad[_0x3031d3(0x20b)]?_0x39880e=_0x3a9fad[_0x3031d3(0x20b)]:_0x39880e=_0x2a9a83[_0x3031d3(0x2be)](_0x3031d3(0x4b2),''),{'property':_0x3d9831[_0x3031d3(0x2be)](_0x3031d3(0x4b2),''),'message':_0x39880e};});throw ns[_0x41438e(0x4aa)]([..._0x3496b7]),new g(..._0x3496b7);}return await _0x4972ba(_0x455e27,_0x8b2e54);}async[a0_0x5708fb(0x6df)](_0x5f055e){const _0x1cd355=a0_0x5708fb;let {request:_0x19d1e0,ClassRef:_0x40c0b4,schema:_0x349396,execute:_0x7a23d2}=_0x5f055e,_0x1cf46b=_0x19d1e0[_0x1cd355(0x212)];if(!_0x1cf46b?.['groupJid'])throw new g(_0x1cd355(0x741),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x11eced=_0x19d1e0[_0x1cd355(0x333)],_0x1cbbb9=_0x19d1e0[_0x1cd355(0x706)],_0x553d1a=new _0x40c0b4();Object[_0x1cd355(0x73f)](_0x1cbbb9,_0x1cf46b),Object[_0x1cd355(0x73f)](_0x553d1a,_0x1cbbb9);let _0x3c797e=(0x0,Ke['validate'])(_0x553d1a,_0x349396);if(!_0x3c797e[_0x1cd355(0x220)]){let _0x4ab41a=_0x3c797e['errors'][_0x1cd355(0x2ee)](({property:_0x5c2770,stack:_0x3bab9b,schema:_0x3315ef})=>{const _0x5c678c=_0x1cd355;let _0x295d38;return _0x3315ef[_0x5c678c(0x20b)]?_0x295d38=_0x3315ef[_0x5c678c(0x20b)]:_0x295d38=_0x3bab9b[_0x5c678c(0x2be)]('instance.',''),{'property':_0x5c2770['replace']('instance.',''),'message':_0x295d38};});throw ns['error']([..._0x4ab41a]),new g(..._0x4ab41a);}return await _0x7a23d2(_0x11eced,_0x553d1a);}async[a0_0x5708fb(0x2ea)](_0x57b29f){const _0x4547d5=a0_0x5708fb;let {request:_0x2e6179,ClassRef:_0x5afc02,schema:_0x491089,execute:_0x3f57aa}=_0x57b29f,_0x597128=_0x2e6179[_0x4547d5(0x706)];if(!_0x597128?.[_0x4547d5(0x723)])throw new g(_0x4547d5(0x556),_0x4547d5(0x1e1));let _0xf3c671=_0x2e6179[_0x4547d5(0x333)],_0x44d1ed=_0x2e6179[_0x4547d5(0x706)],_0x3740cb=new _0x5afc02();Object[_0x4547d5(0x73f)](_0x44d1ed,_0x597128),Object['assign'](_0x3740cb,_0x44d1ed);let _0x4b0e2b=(0x0,Ke['validate'])(_0x3740cb,_0x491089);if(!_0x4b0e2b[_0x4547d5(0x220)]){let _0x1e725c=_0x4b0e2b[_0x4547d5(0x5fb)][_0x4547d5(0x2ee)](({property:_0x44a621,stack:_0x39b84b,schema:_0x519340})=>{const _0x3a6ef7=_0x4547d5;let _0x55ed5b;return _0x519340[_0x3a6ef7(0x20b)]?_0x55ed5b=_0x519340[_0x3a6ef7(0x20b)]:_0x55ed5b=_0x39b84b['replace'](_0x3a6ef7(0x4b2),''),{'property':_0x44a621['replace'](_0x3a6ef7(0x4b2),''),'message':_0x55ed5b};});throw ns[_0x4547d5(0x4aa)]([..._0x1e725c]),new g(..._0x1e725c);}return await _0x3f57aa(_0xf3c671,_0x3740cb);}},b=class{},ze=class extends k{constructor(..._0x2a41cf){const _0x291367=a0_0x5708fb;super(),this[_0x291367(0x5a2)]=(0x0,ka[_0x291367(0x67f)])(),this[_0x291367(0x5a2)][_0x291367(0x5b9)](this['routerPath'](_0x291367(0x640)),..._0x2a41cf,async(_0x57a0f3,_0x506c19)=>{const _0x79e11f=_0x291367;let _0x5bd300=await this['dataValidate']({'request':_0x57a0f3,'schema':Ra,'ClassRef':ke,'execute':(_0x5c54ae,_0x5eaa27)=>O[_0x79e11f(0x640)](_0x5c54ae,_0x5eaa27)});return _0x506c19[_0x79e11f(0x284)](0xc9)[_0x79e11f(0x243)](_0x5bd300);})['post'](this['routerPath'](_0x291367(0x2fa)),..._0x2a41cf,async(_0x4144ba,_0x4074b7)=>{const _0x189b75=_0x291367;let _0x10e2d4=await this[_0x189b75(0x274)]({'request':_0x4144ba,'schema':fa,'ClassRef':Le,'execute':(_0x1001e8,_0x49133b)=>O[_0x189b75(0x529)](_0x1001e8,_0x49133b)});return _0x4074b7[_0x189b75(0x284)](0xc9)[_0x189b75(0x243)](_0x10e2d4);})[_0x291367(0x5b9)](this[_0x291367(0x574)](_0x291367(0x438)),..._0x2a41cf,async(_0x313df1,_0x407ca1)=>{const _0x2a37ee=_0x291367;let _0x16f87b=await this[_0x2a37ee(0x274)]({'request':_0x313df1,'schema':C,'ClassRef':b,'execute':(_0x2fff5e,_0x3f9e19)=>O[_0x2a37ee(0x438)](_0x2fff5e,_0x3f9e19)});return _0x407ca1[_0x2a37ee(0x284)](0xc9)[_0x2a37ee(0x243)](_0x16f87b);})[_0x291367(0x345)](this[_0x291367(0x574)](_0x291367(0x49c)),..._0x2a41cf,async(_0x379021,_0x481093)=>{const _0x3080cd=_0x291367;let _0x320ed5=await this['dataValidate']({'request':_0x379021,'schema':wa,'ClassRef':je,'execute':(_0x165d94,_0x27b5a9)=>O[_0x3080cd(0x63f)](_0x165d94,_0x27b5a9)});return _0x481093[_0x3080cd(0x284)](0xc9)[_0x3080cd(0x243)](_0x320ed5);})[_0x291367(0x345)](this['routerPath'](_0x291367(0x3d9)),..._0x2a41cf,async(_0x21314a,_0x7206e4)=>{const _0x466249=_0x291367;let _0x425997=await this[_0x466249(0x274)]({'request':_0x21314a,'schema':ba,'ClassRef':Fe,'execute':(_0x438c8c,_0x4929b3)=>O['archiveChat'](_0x438c8c,_0x4929b3)});return _0x7206e4[_0x466249(0x284)](0xc9)[_0x466249(0x243)](_0x425997);})[_0x291367(0x719)](this[_0x291367(0x574)](_0x291367(0x395)),..._0x2a41cf,async(_0x3be54a,_0x28909d)=>{const _0x569aa0=_0x291367;let _0x2fda32=await this['dataValidate']({'request':_0x3be54a,'schema':Sa,'ClassRef':qe,'execute':(_0x55024f,_0x4db633)=>O[_0x569aa0(0x2f3)](_0x55024f,_0x4db633)});return _0x28909d['status'](0xc9)[_0x569aa0(0x243)](_0x2fda32);})[_0x291367(0x5b9)](this['routerPath'](_0x291367(0x2ed)),..._0x2a41cf,async(_0x2f1ba3,_0x22714f)=>{const _0xfa61f=_0x291367;let _0x5424cc=await this[_0xfa61f(0x274)]({'request':_0x2f1ba3,'schema':Ee,'ClassRef':Se,'execute':(_0xbdfebf,_0x47ac17)=>O[_0xfa61f(0x193)](_0xbdfebf,_0x47ac17)});return _0x22714f[_0xfa61f(0x284)](0xc8)[_0xfa61f(0x243)](_0x5424cc);})[_0x291367(0x5b9)](this[_0x291367(0x574)](_0x291367(0x5c5)),..._0x2a41cf,async(_0x19118c,_0x518b3a)=>{const _0x2ee2b9=_0x291367;let _0x261134=await this['dataValidate']({'request':_0x19118c,'schema':Na,'ClassRef':Se,'execute':(_0x31a5e9,_0x11199b)=>O[_0x2ee2b9(0x5c5)](_0x31a5e9,_0x11199b)});return _0x518b3a[_0x2ee2b9(0x284)](0xc8)['json'](_0x261134);})['post'](this[_0x291367(0x574)](_0x291367(0x57f)),..._0x2a41cf,async(_0x1d99d4,_0x59ff36)=>{const _0x361557=_0x291367;let _0x4b2e2a=await this[_0x361557(0x274)]({'request':_0x1d99d4,'schema':Ea,'ClassRef':We,'execute':(_0x3f97e1,_0x2cc96b)=>O[_0x361557(0x70c)](_0x3f97e1,_0x2cc96b)});return _0x59ff36[_0x361557(0x284)](0xc8)['json'](_0x4b2e2a);})[_0x291367(0x5b9)](this[_0x291367(0x574)](_0x291367(0x39b)),..._0x2a41cf,async(_0x44ff6f,_0x188c12)=>{const _0x2e9836=_0x291367;let _0x1fe78f=await this[_0x2e9836(0x274)]({'request':_0x44ff6f,'schema':null,'ClassRef':Object,'execute':(_0x5249b1,_0x2b1a7a)=>O['getBase64FromMediaMessage'](_0x5249b1,_0x2b1a7a)});return _0x188c12[_0x2e9836(0x284)](0xc9)[_0x2e9836(0x243)](_0x1fe78f);})[_0x291367(0x5b9)](this[_0x291367(0x574)]('findMessages'),..._0x2a41cf,async(_0x12c15e,_0x30c132)=>{const _0x354556=_0x291367;let _0x10b13c=await this[_0x354556(0x274)]({'request':_0x12c15e,'schema':Ta,'ClassRef':xe,'execute':(_0x3bf448,_0x1f71f2)=>O[_0x354556(0x22c)](_0x3bf448,_0x1f71f2)});return _0x30c132[_0x354556(0x284)](0xc8)['json'](_0x10b13c);})[_0x291367(0x1cd)](this[_0x291367(0x574)](_0x291367(0x435)),..._0x2a41cf,async(_0x3fa137,_0x5c554b)=>{const _0x5bdd8f=_0x291367;let _0x14449d=await this[_0x5bdd8f(0x274)]({'request':_0x3fa137,'schema':null,'ClassRef':b,'execute':_0x3c8a30=>O[_0x5bdd8f(0x374)](_0x3c8a30)});return _0x5c554b[_0x5bdd8f(0x284)](0xc8)[_0x5bdd8f(0x243)](_0x14449d);})[_0x291367(0x1cd)](this[_0x291367(0x574)](_0x291367(0x3b9)),..._0x2a41cf,async(_0x40d4d6,_0x10fef3)=>{const _0x102def=_0x291367;let _0x2f54d4=await this[_0x102def(0x274)]({'request':_0x40d4d6,'schema':null,'ClassRef':b,'execute':_0x5acd53=>O['fetchPrivacySettings'](_0x5acd53)});return _0x10fef3[_0x102def(0x284)](0xc8)[_0x102def(0x243)](_0x2f54d4);})[_0x291367(0x345)](this[_0x291367(0x574)](_0x291367(0x672)),..._0x2a41cf,async(_0xc1c594,_0x50b140)=>{const _0x14e8d8=_0x291367;let _0x30ff7b=await this[_0x14e8d8(0x274)]({'request':_0xc1c594,'schema':ya,'ClassRef':Be,'execute':(_0x548854,_0x24167e)=>O[_0x14e8d8(0x672)](_0x548854,_0x24167e)});return _0x50b140[_0x14e8d8(0x284)](0xc9)[_0x14e8d8(0x243)](_0x30ff7b);})[_0x291367(0x5b9)](this[_0x291367(0x574)](_0x291367(0x367)),..._0x2a41cf,async(_0x5d947a,_0xe24bab)=>{const _0x4762a5=_0x291367;let _0xa1f380=await this[_0x4762a5(0x274)]({'request':_0x5d947a,'schema':Ee,'ClassRef':fe,'execute':(_0x31c850,_0x6cd968)=>O[_0x4762a5(0x367)](_0x31c850,_0x6cd968)});return _0xe24bab[_0x4762a5(0x284)](0xc8)['json'](_0xa1f380);})[_0x291367(0x5b9)](this['routerPath'](_0x291367(0x544)),..._0x2a41cf,async(_0x2b183a,_0x45207e)=>{const _0x20bc06=_0x291367;let _0x21ad7d=await this[_0x20bc06(0x274)]({'request':_0x2b183a,'schema':va,'ClassRef':Ue,'execute':(_0x38876c,_0x21cb45)=>O[_0x20bc06(0x544)](_0x38876c,_0x21cb45)});return _0x45207e[_0x20bc06(0x284)](0xc8)[_0x20bc06(0x243)](_0x21ad7d);})[_0x291367(0x5b9)](this[_0x291367(0x574)](_0x291367(0x275)),..._0x2a41cf,async(_0x3cfca5,_0x1fdd1c)=>{const _0x155a99=_0x291367;let _0x10ed34=await this[_0x155a99(0x274)]({'request':_0x3cfca5,'schema':Ca,'ClassRef':Ve,'execute':(_0x39c390,_0x430fd8)=>O[_0x155a99(0x275)](_0x39c390,_0x430fd8)});return _0x1fdd1c['status'](0xc8)[_0x155a99(0x243)](_0x10ed34);})[_0x291367(0x345)](this['routerPath']('updateProfilePicture'),..._0x2a41cf,async(_0x304e9a,_0x55be11)=>{const _0x2b660b=_0x291367;let _0x1e6095=await this['dataValidate']({'request':_0x304e9a,'schema':Ee,'ClassRef':fe,'execute':(_0x427aa4,_0x383835)=>O['updateProfilePicture'](_0x427aa4,_0x383835)});return _0x55be11[_0x2b660b(0x284)](0xc8)[_0x2b660b(0x243)](_0x1e6095);})[_0x291367(0x719)](this[_0x291367(0x574)](_0x291367(0x42f)),..._0x2a41cf,async(_0x5dc243,_0xa46c4)=>{const _0x9ff625=_0x291367;let _0xaf7261=await this[_0x9ff625(0x274)]({'request':_0x5dc243,'schema':Ee,'ClassRef':fe,'execute':(_0x36960b,_0x26056b)=>O[_0x9ff625(0x42f)](_0x36960b,_0x26056b)});return _0xa46c4[_0x9ff625(0x284)](0xc8)[_0x9ff625(0x243)](_0xaf7261);});}},La=require(a0_0x5708fb(0x6cb)),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},ot=class extends k{constructor(..._0x5b508a){const _0x471507=a0_0x5708fb;super(),this[_0x471507(0x5a2)]=(0x0,La[_0x471507(0x67f)])(),this['router'][_0x471507(0x5b9)](this[_0x471507(0x574)](_0x471507(0x770)),..._0x5b508a,async(_0x432f3f,_0x3dde49)=>{const _0x144718=_0x471507;let _0x2e32d3=await this[_0x144718(0x274)]({'request':_0x432f3f,'schema':Ma,'ClassRef':Qe,'execute':(_0x64efef,_0x4de6f4)=>U[_0x144718(0x73a)](_0x64efef,_0x4de6f4)});_0x3dde49['status'](0xc9)[_0x144718(0x243)](_0x2e32d3);})[_0x471507(0x345)](this['routerPath']('updateGroupPicture'),..._0x5b508a,async(_0x5d689f,_0x479b64)=>{const _0x25439c=_0x471507;let _0x3a72b9=await this[_0x25439c(0x6df)]({'request':_0x5d689f,'schema':Da,'ClassRef':Ye,'execute':(_0x92b753,_0x909622)=>U['updateGroupPicture'](_0x92b753,_0x909622)});_0x479b64[_0x25439c(0x284)](0xc9)[_0x25439c(0x243)](_0x3a72b9);})[_0x471507(0x345)](this[_0x471507(0x574)](_0x471507(0x214)),..._0x5b508a,async(_0x4fd911,_0x5ce646)=>{const _0x2f4c5a=_0x471507;let _0x5838bd=await this[_0x2f4c5a(0x6df)]({'request':_0x4fd911,'schema':Oa,'ClassRef':Xe,'execute':(_0x328c1d,_0xdd519c)=>U['groupDesc'](_0x328c1d,_0xdd519c)});_0x5ce646[_0x2f4c5a(0x284)](0xc9)[_0x2f4c5a(0x243)](_0x5838bd);})[_0x471507(0x345)](this['routerPath'](_0x471507(0x5db)),..._0x5b508a,async(_0x5b2031,_0x5de70d)=>{const _0x28f4b5=_0x471507;let _0x1d6355=await this[_0x28f4b5(0x6df)]({'request':_0x5b2031,'schema':_a,'ClassRef':Ze,'execute':(_0x28056e,_0x14e9eb)=>U[_0x28f4b5(0x5db)](_0x28056e,_0x14e9eb)});_0x5de70d[_0x28f4b5(0x284)](0xc9)[_0x28f4b5(0x243)](_0x1d6355);})[_0x471507(0x345)](this[_0x471507(0x574)]('groupSetting'),..._0x5b508a,async(_0x6d01d4,_0x5adadf)=>{const _0x27a065=_0x471507;let _0x2c9e40=await this[_0x27a065(0x6df)]({'request':_0x6d01d4,'schema':Pa,'ClassRef':et,'execute':(_0x256b00,_0x194740)=>U[_0x27a065(0x1e9)](_0x256b00,_0x194740)});_0x5adadf[_0x27a065(0x284)](0xc9)[_0x27a065(0x243)](_0x2c9e40);})[_0x471507(0x345)](this[_0x471507(0x574)](_0x471507(0x6a4)),..._0x5b508a,async(_0x3d6c55,_0x430dc9)=>{const _0x3c79f0=_0x471507;let _0x663f78=await this[_0x3c79f0(0x6df)]({'request':_0x3d6c55,'schema':Ia,'ClassRef':at,'execute':(_0x1c0f23,_0xd8c409)=>U['toggleEphemeral'](_0x1c0f23,_0xd8c409)});_0x430dc9[_0x3c79f0(0x284)](0xc9)[_0x3c79f0(0x243)](_0x663f78);})[_0x471507(0x1cd)](this['routerPath'](_0x471507(0x441)),..._0x5b508a,async(_0x4345c3,_0x2b7098)=>{const _0x3866ba=_0x471507;let _0x4b99e9=await this[_0x3866ba(0x6df)]({'request':_0x4345c3,'schema':ve,'ClassRef':Z,'execute':(_0x4ecb0d,_0x210b95)=>U[_0x3866ba(0x6e7)](_0x4ecb0d,_0x210b95)});_0x2b7098['status'](0xc8)[_0x3866ba(0x243)](_0x4b99e9);})['get'](this[_0x471507(0x574)](_0x471507(0x674)),..._0x5b508a,async(_0x167717,_0x509e2d)=>{const _0x463780=_0x471507;let _0x391fbb=await this[_0x463780(0x274)]({'request':_0x167717,'schema':C,'ClassRef':b,'execute':_0x5bd00f=>U[_0x463780(0x674)](_0x5bd00f)});_0x509e2d[_0x463780(0x284)](0xc8)[_0x463780(0x243)](_0x391fbb);})[_0x471507(0x1cd)](this['routerPath'](_0x471507(0x6b8)),..._0x5b508a,async(_0x4b1ec7,_0x2e52e2)=>{const _0x389325=_0x471507;let _0x553f1d=await this[_0x389325(0x6df)]({'request':_0x4b1ec7,'schema':ve,'ClassRef':Z,'execute':(_0x10a564,_0x4e8c30)=>U[_0x389325(0x5de)](_0x10a564,_0x4e8c30)});_0x2e52e2['status'](0xc8)['json'](_0x553f1d);})[_0x471507(0x1cd)](this[_0x471507(0x574)]('inviteCode'),..._0x5b508a,async(_0x4c8f6e,_0x10f78c)=>{const _0x58102d=_0x471507;let _0x4370e4=await this[_0x58102d(0x6df)]({'request':_0x4c8f6e,'schema':ve,'ClassRef':Z,'execute':(_0x2ee9b1,_0x52f8ab)=>U[_0x58102d(0x723)](_0x2ee9b1,_0x52f8ab)});_0x10f78c['status'](0xc8)['json'](_0x4370e4);})[_0x471507(0x345)](this[_0x471507(0x574)](_0x471507(0x3e1)),..._0x5b508a,async(_0x3d0396,_0xd2c626)=>{const _0x359e1b=_0x471507;let _0xf30034=await this[_0x359e1b(0x2ea)]({'request':_0x3d0396,'schema':xa,'ClassRef':tt,'execute':(_0x397fd8,_0x33dbae)=>U[_0x359e1b(0x3e1)](_0x397fd8,_0x33dbae)});_0xd2c626[_0x359e1b(0x284)](0xc9)[_0x359e1b(0x243)](_0xf30034);})[_0x471507(0x345)](this[_0x471507(0x574)]('revokeInviteCode'),..._0x5b508a,async(_0x2a07c8,_0x1ce013)=>{const _0xb671b1=_0x471507;let _0xadf9ba=await this[_0xb671b1(0x6df)]({'request':_0x2a07c8,'schema':ve,'ClassRef':Z,'execute':(_0x1ff320,_0x48e1ba)=>U['revokeInviteCode'](_0x1ff320,_0x48e1ba)});_0x1ce013[_0xb671b1(0x284)](0xc9)[_0xb671b1(0x243)](_0xadf9ba);})[_0x471507(0x345)](this[_0x471507(0x574)](_0x471507(0x370)),..._0x5b508a,async(_0x30f3f6,_0xdf6d96)=>{const _0x4c903b=_0x471507;let _0x4b5d3f=await this[_0x4c903b(0x6df)]({'request':_0x30f3f6,'schema':Aa,'ClassRef':st,'execute':(_0x345d53,_0x34a2c4)=>U['updateGParticipate'](_0x345d53,_0x34a2c4)});_0xdf6d96[_0x4c903b(0x284)](0xc9)[_0x4c903b(0x243)](_0x4b5d3f);})[_0x471507(0x719)](this[_0x471507(0x574)](_0x471507(0x5a1)),..._0x5b508a,async(_0x5f01cb,_0x13fb15)=>{const _0x5434a=_0x471507;let _0x353418=await this['groupValidate']({'request':_0x5f01cb,'schema':{},'ClassRef':Z,'execute':(_0x2abc53,_0x262b4a)=>U[_0x5434a(0x5a1)](_0x2abc53,_0x262b4a)});_0x13fb15[_0x5434a(0x284)](0xc8)[_0x5434a(0x243)](_0x353418);});}},ja=require(a0_0x5708fb(0x6cb)),Ce=require(a0_0x5708fb(0x45f)),cs=require(a0_0x5708fb(0x4cb)),Ua=require('class-validator'),Va=T(require('axios')),it=class{},rt=class c{constructor(_0x4c47b8,_0x5f0947,_0x3f1309){const _0x446d3a=a0_0x5708fb;this[_0x446d3a(0x33c)]=_0x4c47b8,this[_0x446d3a(0x2ab)]=_0x5f0947,this[_0x446d3a(0x3ed)]=_0x3f1309,this['logger']=new N(c['name']);}async[a0_0x5708fb(0x6c5)](_0x24bcbe){const _0xa8ad9c=a0_0x5708fb;let _0x2f3b78=this[_0xa8ad9c(0x33c)][_0xa8ad9c(0x1cd)](_0xa8ad9c(0x264))[_0xa8ad9c(0x601)],_0x2e3604=(0x0,Ce['sign'])({'instanceName':_0x24bcbe[_0xa8ad9c(0x4f0)],'apiName':Ge,'tokenId':(0x0,cs['v4'])()},_0x2f3b78[_0xa8ad9c(0x303)],{'expiresIn':_0x2f3b78['EXPIRIN_IN'],'encoding':_0xa8ad9c(0x38e),'subject':_0xa8ad9c(0x707)}),_0x5e4f44=await this[_0xa8ad9c(0x3ed)][_0xa8ad9c(0x4e1)][_0xa8ad9c(0x770)]({'jwt':_0x2e3604},_0x24bcbe[_0xa8ad9c(0x4f0)]);if(_0x5e4f44[_0xa8ad9c(0x4aa)])throw this[_0xa8ad9c(0x45b)]['error']({'localError':c[_0xa8ad9c(0x3a8)]+_0xa8ad9c(0x1c4),'error':_0x5e4f44['error']}),new g(_0xa8ad9c(0x36b),_0x5e4f44[_0xa8ad9c(0x4aa)]?.[_0xa8ad9c(0x3f5)]());return{'jwt':_0x2e3604};}async[a0_0x5708fb(0x1b6)](_0x265678){const _0x37d402=a0_0x5708fb;let _0x2b3796=(0x0,cs['v4'])()[_0x37d402(0x4eb)](),_0x2181c2=await this['repository'][_0x37d402(0x4e1)][_0x37d402(0x770)]({'apikey':_0x2b3796},_0x265678['instanceName']);if(_0x2181c2[_0x37d402(0x4aa)])throw this['logger'][_0x37d402(0x4aa)]({'localError':c[_0x37d402(0x3a8)]+'.jwt','error':_0x2181c2['error']}),new g('Authentication\x20error',_0x2181c2[_0x37d402(0x4aa)]?.['toString']());return{'apikey':_0x2b3796};}async[a0_0x5708fb(0x30f)](_0x431a1d){const _0x22a5fd=a0_0x5708fb;let _0x249bb9=this[_0x22a5fd(0x33c)][_0x22a5fd(0x1cd)](_0x22a5fd(0x264));return await this[_0x249bb9[_0x22a5fd(0x5ce)]](_0x431a1d);}async[a0_0x5708fb(0x359)]({oldToken:_0x23b8a1}){const _0x313f03=a0_0x5708fb;if(!(0x0,Ua['isJWT'])(_0x23b8a1))throw new g('Invalid\x20\x22oldToken\x22');try{let _0x1fd006=this[_0x313f03(0x33c)][_0x313f03(0x1cd)]('AUTHENTICATION')[_0x313f03(0x601)],_0x5cb93f=(0x0,Ce[_0x313f03(0x308)])(_0x23b8a1,_0x1fd006[_0x313f03(0x303)],{'ignoreExpiration':!0x0}),_0x4efa8f=await this[_0x313f03(0x3ed)][_0x313f03(0x4e1)][_0x313f03(0x2ff)](_0x5cb93f[_0x313f03(0x4f0)]),_0x14b4f4=(0x0,Ce['verify'])(_0x4efa8f[_0x313f03(0x6c5)],_0x1fd006[_0x313f03(0x303)],{'ignoreExpiration':!0x0});if(_0x5cb93f['tokenId']!==_0x14b4f4[_0x313f03(0x341)])throw new g('Invalid\x20\x22oldToken\x22');let _0x30f1b0={'jwt':(await this[_0x313f03(0x6c5)]({'instanceName':_0x5cb93f[_0x313f03(0x4f0)]}))[_0x313f03(0x6c5)],'instanceName':_0x5cb93f[_0x313f03(0x4f0)]};try{let _0x1aadcb=await this[_0x313f03(0x3ed)][_0x313f03(0x3d7)][_0x313f03(0x2ff)](_0x5cb93f['instanceName']);_0x1aadcb?.[_0x313f03(0x506)]&&this['configService'][_0x313f03(0x1cd)](_0x313f03(0x315))['EVENTS'][_0x313f03(0x2e8)]&&await Va[_0x313f03(0x19f)][_0x313f03(0x770)]({'baseURL':_0x1aadcb[_0x313f03(0x6b6)]})['post']('',{'event':_0x313f03(0x287),'instance':_0x5cb93f[_0x313f03(0x4f0)],'data':_0x30f1b0},{'params':{'owner':this['waMonitor']['waInstances'][_0x5cb93f['instanceName']][_0x313f03(0x2d3)]}});}catch(_0x175487){this[_0x313f03(0x45b)]['error'](_0x175487);}return _0x30f1b0;}catch(_0x1ee845){throw this[_0x313f03(0x45b)][_0x313f03(0x4aa)]({'localError':c[_0x313f03(0x3a8)]+_0x313f03(0x265),'error':_0x1ee845}),new g('Invalid\x20\x22oldToken\x22');}}},nt=class extends k{constructor(_0x2d10d9,..._0x18f178){const _0x5f1d41=a0_0x5708fb;super(),this['configService']=_0x2d10d9,this['router']=(0x0,ja['Router'])();let _0x88fb2=_0x2d10d9[_0x5f1d41(0x1cd)](_0x5f1d41(0x264));this[_0x5f1d41(0x5a2)][_0x5f1d41(0x5b9)](_0x5f1d41(0x213),..._0x18f178,async(_0x399ccd,_0x1c0f64)=>{const _0x3826d3=_0x5f1d41;let {instanceName:_0x2c46fb,apikey:_0x220980}=_0x399ccd[_0x3826d3(0x706)],_0x130f4f=await re[_0x3826d3(0x5c4)]({'instanceName':_0x2c46fb,'apikey':_0x220980});return _0x1c0f64[_0x3826d3(0x284)](0xc9)[_0x3826d3(0x243)](_0x130f4f);})[_0x5f1d41(0x345)](this[_0x5f1d41(0x574)](_0x5f1d41(0x4f6)),..._0x18f178,async(_0x7a07b,_0x4dc5e6)=>{const _0x3a1ba6=_0x5f1d41;let _0x4f897a=await this[_0x3a1ba6(0x274)]({'request':_0x7a07b,'schema':C,'ClassRef':b,'execute':_0x5bfe99=>re['restartInstance'](_0x5bfe99)});return _0x4dc5e6[_0x3a1ba6(0x284)](0xc8)['json'](_0x4f897a);})[_0x5f1d41(0x1cd)](this['routerPath'](_0x5f1d41(0x5a9)),..._0x18f178,async(_0x31f4c6,_0xc52ad8)=>{const _0x48f6d2=_0x5f1d41;let _0x479798=await this[_0x48f6d2(0x274)]({'request':_0x31f4c6,'schema':C,'ClassRef':b,'execute':_0x119043=>re[_0x48f6d2(0x47b)](_0x119043)});return _0xc52ad8[_0x48f6d2(0x284)](0xc8)[_0x48f6d2(0x243)](_0x479798);})['get'](this['routerPath']('connectionState'),..._0x18f178,async(_0x19334b,_0x603a77)=>{const _0x43f2ad=_0x5f1d41;let _0x40f8ac=await this[_0x43f2ad(0x274)]({'request':_0x19334b,'schema':C,'ClassRef':b,'execute':_0x270612=>re['connectionState'](_0x270612)});return _0x603a77['status'](0xc8)[_0x43f2ad(0x243)](_0x40f8ac);})[_0x5f1d41(0x1cd)](this['routerPath'](_0x5f1d41(0x4f5),!0x1),..._0x18f178,async(_0x4e442c,_0x56f413)=>{const _0x443cf0=_0x5f1d41;let _0x427876=await this[_0x443cf0(0x274)]({'request':_0x4e442c,'schema':null,'ClassRef':b,'execute':_0x56c1f9=>re[_0x443cf0(0x4f5)](_0x56c1f9)});return _0x56f413[_0x443cf0(0x284)](0xc8)[_0x443cf0(0x243)](_0x427876);})[_0x5f1d41(0x719)](this[_0x5f1d41(0x574)]('logout'),..._0x18f178,async(_0x40ee65,_0x1f0e4c)=>{const _0xce1dc6=_0x5f1d41;let _0x3506b6=await this[_0xce1dc6(0x274)]({'request':_0x40ee65,'schema':C,'ClassRef':b,'execute':_0x3287a5=>re[_0xce1dc6(0x6cf)](_0x3287a5)});return _0x1f0e4c['status'](0xc8)['json'](_0x3506b6);})[_0x5f1d41(0x719)](this[_0x5f1d41(0x574)](_0x5f1d41(0x719)),..._0x18f178,async(_0x1089d0,_0x16adbf)=>{const _0x4c5a20=_0x5f1d41;let _0x18f634=await this[_0x4c5a20(0x274)]({'request':_0x1089d0,'schema':C,'ClassRef':b,'execute':_0x19e961=>re[_0x4c5a20(0x2f1)](_0x19e961)});return _0x16adbf['status'](0xc8)[_0x4c5a20(0x243)](_0x18f634);}),_0x88fb2[_0x5f1d41(0x5ce)]===_0x5f1d41(0x6c5)&&this[_0x5f1d41(0x5a2)]['put'](_0x5f1d41(0x276),async(_0x3001a8,_0xe711fa)=>{const _0x2e02a1=_0x5f1d41;let _0x5ce1a1=await this[_0x2e02a1(0x274)]({'request':_0x3001a8,'schema':aa,'ClassRef':it,'execute':(_0x5af909,_0x5bad6c)=>re['refreshToken'](_0x5af909,_0x5bad6c)});return _0xe711fa[_0x2e02a1(0x284)](0xc9)[_0x2e02a1(0x243)](_0x5ce1a1);});}},Fa=require('express'),ls=class{},z=class extends ls{},ct=class extends z{},lt=class extends z{},ut=class extends z{},Ne=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class extends z{},ft=class{},wt=class extends k{constructor(..._0x32d5ea){const _0x3345f6=a0_0x5708fb;super(),this['router']=(0x0,Fa[_0x3345f6(0x67f)])(),this[_0x3345f6(0x5a2)][_0x3345f6(0x5b9)](this['routerPath'](_0x3345f6(0x564)),..._0x32d5ea,async(_0x154367,_0x497b1b)=>{const _0x5d671f=_0x3345f6;let _0x270a38=await this[_0x5d671f(0x274)]({'request':_0x154367,'schema':oa,'ClassRef':ct,'execute':(_0x55e883,_0x21ce16)=>K[_0x5d671f(0x564)](_0x55e883,_0x21ce16)});return _0x497b1b['status'](0xc9)[_0x5d671f(0x243)](_0x270a38);})[_0x3345f6(0x5b9)](this[_0x3345f6(0x574)]('sendMedia'),..._0x32d5ea,async(_0x3ad1b9,_0x5ab39c)=>{const _0x470ac1=_0x3345f6;let _0x1ec385=await this[_0x470ac1(0x274)]({'request':_0x3ad1b9,'schema':ca,'ClassRef':Ne,'execute':(_0x1691ce,_0x374d69)=>K[_0x470ac1(0x54a)](_0x1691ce,_0x374d69)});return _0x5ab39c[_0x470ac1(0x284)](0xc9)[_0x470ac1(0x243)](_0x1ec385);})[_0x3345f6(0x5b9)](this[_0x3345f6(0x574)](_0x3345f6(0x40e)),..._0x32d5ea,async(_0x57fe12,_0x20726f)=>{const _0x10bdf0=_0x3345f6;let _0x1012c6=await this[_0x10bdf0(0x274)]({'request':_0x57fe12,'schema':la,'ClassRef':Ne,'execute':(_0x26fce3,_0x5aa21c)=>K[_0x10bdf0(0x40e)](_0x26fce3,_0x5aa21c)});return _0x20726f['status'](0xc9)[_0x10bdf0(0x243)](_0x1012c6);})['post'](this[_0x3345f6(0x574)]('sendButtons'),..._0x32d5ea,async(_0x58b439,_0x547c7d)=>{const _0x1c421c=_0x3345f6;let _0x4047ec=await this['dataValidate']({'request':_0x58b439,'schema':da,'ClassRef':pt,'execute':(_0x3c1ce8,_0x19b80a)=>K[_0x1c421c(0x41e)](_0x3c1ce8,_0x19b80a)});return _0x547c7d['status'](0xc9)[_0x1c421c(0x243)](_0x4047ec);})[_0x3345f6(0x5b9)](this[_0x3345f6(0x574)](_0x3345f6(0x58f)),..._0x32d5ea,async(_0x1ba6e3,_0x3b7baa)=>{const _0x15c422=_0x3345f6;let _0x33f36e=await this[_0x15c422(0x274)]({'request':_0x1ba6e3,'schema':pa,'ClassRef':gt,'execute':(_0x2440a4,_0x1a1955)=>K[_0x15c422(0x58f)](_0x2440a4,_0x1a1955)});return _0x3b7baa[_0x15c422(0x284)](0xc9)[_0x15c422(0x243)](_0x33f36e);})[_0x3345f6(0x5b9)](this[_0x3345f6(0x574)](_0x3345f6(0x6d7)),..._0x32d5ea,async(_0x1994db,_0x36cb03)=>{const _0x306340=_0x3345f6;let _0xfe716a=await this[_0x306340(0x274)]({'request':_0x1994db,'schema':ga,'ClassRef':mt,'execute':(_0x37d9ff,_0x2e142b)=>K['sendList'](_0x37d9ff,_0x2e142b)});return _0x36cb03[_0x306340(0x284)](0xc9)[_0x306340(0x243)](_0xfe716a);})[_0x3345f6(0x5b9)](this['routerPath'](_0x3345f6(0x2d0)),..._0x32d5ea,async(_0x37d030,_0x18f049)=>{const _0x53d387=_0x3345f6;let _0x27c0fc=await this[_0x53d387(0x274)]({'request':_0x37d030,'schema':ma,'ClassRef':ht,'execute':(_0x28802a,_0x2167fc)=>K[_0x53d387(0x2d0)](_0x28802a,_0x2167fc)});return _0x18f049[_0x53d387(0x284)](0xc9)[_0x53d387(0x243)](_0x27c0fc);})[_0x3345f6(0x5b9)](this[_0x3345f6(0x574)]('sendReaction'),..._0x32d5ea,async(_0x23ae63,_0x3fbbcf)=>{const _0xa9560c=_0x3345f6;let _0x4f74b0=await this[_0xa9560c(0x274)]({'request':_0x23ae63,'schema':ha,'ClassRef':ft,'execute':(_0x433993,_0x265038)=>K['sendReaction'](_0x433993,_0x265038)});return _0x3fbbcf[_0xa9560c(0x284)](0xc9)[_0xa9560c(0x243)](_0x4f74b0);})[_0x3345f6(0x5b9)](this[_0x3345f6(0x574)]('sendPoll'),..._0x32d5ea,async(_0x4c83b0,_0x169a8c)=>{const _0x241b07=_0x3345f6;let _0x8f5a34=await this[_0x241b07(0x274)]({'request':_0x4c83b0,'schema':ua,'ClassRef':ut,'execute':(_0x1990f4,_0x175ba1)=>K[_0x241b07(0x427)](_0x1990f4,_0x175ba1)});return _0x169a8c['status'](0xc9)[_0x241b07(0x243)](_0x8f5a34);})['post'](this[_0x3345f6(0x574)](_0x3345f6(0x4c3)),..._0x32d5ea,async(_0x389a75,_0x128479)=>{const _0xc55eee=_0x3345f6;let _0x27f0a6=await this[_0xc55eee(0x274)]({'request':_0x389a75,'schema':na,'ClassRef':lt,'execute':(_0x227c3a,_0x360f57)=>K[_0xc55eee(0x4c3)](_0x227c3a,_0x360f57)});return _0x128479[_0xc55eee(0x284)](0xc9)[_0xc55eee(0x243)](_0x27f0a6);})[_0x3345f6(0x5b9)](this[_0x3345f6(0x574)](_0x3345f6(0x2f9)),..._0x32d5ea,async(_0x1408f9,_0x3eef82)=>{const _0x1ffbb6=_0x3345f6;let _0x1cfb8e=await this[_0x1ffbb6(0x274)]({'request':_0x1408f9,'schema':ra,'ClassRef':dt,'execute':(_0x2949fb,_0x38f240)=>K[_0x1ffbb6(0x2f9)](_0x2949fb,_0x38f240)});return _0x3eef82[_0x1ffbb6(0x284)](0xc9)[_0x1ffbb6(0x243)](_0x1cfb8e);});}},Ba=require(a0_0x5708fb(0x6cb)),yt=class extends k{constructor(..._0x4a862c){const _0x52de3a=a0_0x5708fb;super(),this[_0x52de3a(0x5a2)]=(0x0,Ba[_0x52de3a(0x67f)])(),this[_0x52de3a(0x5a2)]['get'](this[_0x52de3a(0x574)]('qrcode'),..._0x4a862c,(_0x32112b,_0xf03b53)=>qa[_0x52de3a(0x304)](_0x32112b,_0xf03b53));}},Ja=require('express'),bt=class{},St=class extends k{constructor(..._0x418b7b){const _0x5b0098=a0_0x5708fb;super(),this[_0x5b0098(0x5a2)]=(0x0,Ja[_0x5b0098(0x67f)])(),this[_0x5b0098(0x5a2)][_0x5b0098(0x5b9)](this['routerPath']('set'),..._0x418b7b,async(_0x1f4693,_0x5a429c)=>{const _0x33dd8a=_0x5b0098;let _0x4b8163=await this['dataValidate']({'request':_0x1f4693,'schema':$a,'ClassRef':bt,'execute':(_0x14b0c7,_0xa8be2c)=>us[_0x33dd8a(0x768)](_0x14b0c7,_0xa8be2c)});_0x5a429c[_0x33dd8a(0x284)](0xc9)[_0x33dd8a(0x243)](_0x4b8163);})['get'](this[_0x5b0098(0x574)](_0x5b0098(0x2ff)),..._0x418b7b,async(_0x30d03d,_0x21a05a)=>{const _0x4fcd42=_0x5b0098;let _0x404c36=await this[_0x4fcd42(0x274)]({'request':_0x30d03d,'schema':C,'ClassRef':b,'execute':_0x42bb73=>us[_0x4fcd42(0x543)](_0x42bb73)});_0x21a05a['status'](0xc8)[_0x4fcd42(0x243)](_0x404c36);});}},Ga=require(a0_0x5708fb(0x6cb)),h=new N('FlowRouter'),Et=class extends k{constructor(..._0x16b402){const _0xc608b6=a0_0x5708fb;super(),this[_0xc608b6(0x5a2)]=(0x0,Ga[_0xc608b6(0x67f)])(),this['router'][_0xc608b6(0x5b9)](this['routerPath'](_0xc608b6(0x2f0)),..._0x16b402,async(_0x2f1ed1,_0x2cde2c)=>{const _0x4f2b47=_0xc608b6;let _0x11c34c=_0x2f1ed1[_0x4f2b47(0x706)];h[_0x4f2b47(0x60a)](_0x4f2b47(0x5ae)),h[_0x4f2b47(0x60a)](_0x4f2b47(0x5d9)),h[_0x4f2b47(0x60a)](_0x2f1ed1[_0x4f2b47(0x706)]);let _0x244567=await this[_0x4f2b47(0x274)]({'request':_0x2f1ed1,'schema':C,'ClassRef':b,'execute':_0x34c691=>R['editScheduleMessage'](_0x34c691,_0x11c34c)});_0x2cde2c[_0x4f2b47(0x284)](0xc8)['json'](_0x244567);})[_0xc608b6(0x1cd)](this[_0xc608b6(0x574)]('scheduleMessage'),..._0x16b402,async(_0xd3dc6a,_0x3d5478)=>{const _0x6590d6=_0xc608b6;let _0xaa4b2f=await this[_0x6590d6(0x274)]({'request':_0xd3dc6a,'schema':C,'ClassRef':b,'execute':_0x46c35a=>R[_0x6590d6(0x5cc)](_0x46c35a)});_0x3d5478[_0x6590d6(0x284)](0xc8)['json'](_0xaa4b2f);})[_0xc608b6(0x719)](this[_0xc608b6(0x574)]('deleteDoneMessages'),..._0x16b402,async(_0x1d7161,_0x4bf236)=>{const _0x249d55=_0xc608b6;h[_0x249d55(0x60a)]('request\x20received\x20in\x20deleteDoneMessages');let _0x5398b9=await this[_0x249d55(0x274)]({'request':_0x1d7161,'schema':C,'ClassRef':b,'execute':_0x45a32d=>R[_0x249d55(0x4ee)](_0x45a32d)});_0x4bf236[_0x249d55(0x284)](0xc8)[_0x249d55(0x243)](_0x5398b9);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x32c)),..._0x16b402,async(_0x3f0832,_0x5e710d)=>{const _0x2fdde0=_0xc608b6;let _0x1f18ca=_0x3f0832[_0x2fdde0(0x706)];h[_0x2fdde0(0x60a)](_0x2fdde0(0x1cc)),h[_0x2fdde0(0x60a)](_0x2fdde0(0x5d9)),h[_0x2fdde0(0x60a)](_0x3f0832[_0x2fdde0(0x706)]);let _0x4e4525=await this[_0x2fdde0(0x274)]({'request':_0x3f0832,'schema':C,'ClassRef':b,'execute':_0x13e50f=>R[_0x2fdde0(0x32c)](_0x13e50f,_0x1f18ca)});_0x5e710d[_0x2fdde0(0x284)](0xc8)[_0x2fdde0(0x243)](_0x4e4525);})[_0xc608b6(0x1cd)](this['routerPath'](_0xc608b6(0x6ef)),..._0x16b402,async(_0x47bcf5,_0x43b969)=>{const _0x10bb4a=_0xc608b6;h[_0x10bb4a(0x60a)](_0x10bb4a(0x4bb));let _0x1083e4=await this['dataValidate']({'request':_0x47bcf5,'schema':C,'ClassRef':b,'execute':_0x27bd01=>R[_0x10bb4a(0x6ef)](_0x27bd01)});_0x43b969[_0x10bb4a(0x284)](0xc8)[_0x10bb4a(0x243)](_0x1083e4);})[_0xc608b6(0x1cd)](this[_0xc608b6(0x574)]('getTicketSystem'),..._0x16b402,async(_0xeecb5a,_0x110e6d)=>{const _0x133b3c=_0xc608b6;h[_0x133b3c(0x60a)](_0x133b3c(0x6aa));let _0x4044e4=await this[_0x133b3c(0x274)]({'request':_0xeecb5a,'schema':C,'ClassRef':b,'execute':_0x1de3b7=>R[_0x133b3c(0x6ef)](_0x1de3b7)});_0x110e6d[_0x133b3c(0x284)](0xc8)[_0x133b3c(0x243)](_0x4044e4);})['post'](this['routerPath']('updateAgent'),..._0x16b402,async(_0x20436d,_0x383e4e)=>{const _0x4fda73=_0xc608b6;let _0x30916e=_0x20436d[_0x4fda73(0x706)];h[_0x4fda73(0x60a)]('request\x20received\x20in\x20updateAgent'),h[_0x4fda73(0x60a)](_0x4fda73(0x5d9)),h[_0x4fda73(0x60a)](_0x20436d['body']);let _0x574b3a=await this[_0x4fda73(0x274)]({'request':_0x20436d,'schema':C,'ClassRef':b,'execute':_0x303d04=>R[_0x4fda73(0x288)](_0x303d04,_0x30916e)});_0x383e4e[_0x4fda73(0x284)](0xc8)['json'](_0x574b3a);})[_0xc608b6(0x5b9)](this['routerPath'](_0xc608b6(0x469)),..._0x16b402,async(_0x138f8b,_0x53a263)=>{const _0x36b974=_0xc608b6;let _0x33f0cd=_0x138f8b[_0x36b974(0x706)];h[_0x36b974(0x60a)]('request\x20received\x20in\x20updateCustomFields'),h[_0x36b974(0x60a)](_0x36b974(0x5d9)),h[_0x36b974(0x60a)](_0x138f8b[_0x36b974(0x706)]);let _0x6ce023=await this[_0x36b974(0x274)]({'request':_0x138f8b,'schema':C,'ClassRef':b,'execute':_0xce2e10=>R[_0x36b974(0x469)](_0xce2e10,_0x33f0cd)});_0x53a263[_0x36b974(0x284)](0xc8)[_0x36b974(0x243)](_0x6ce023);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)]('updateFlowConfig'),..._0x16b402,async(_0x5383e0,_0x580f5e)=>{const _0x527334=_0xc608b6;let _0x57f00e=_0x5383e0['body'];h[_0x527334(0x60a)](_0x527334(0x51c)),h['verbose'](_0x527334(0x5d9)),h[_0x527334(0x60a)](_0x5383e0['body']);let _0x1b8719=await this[_0x527334(0x274)]({'request':_0x5383e0,'schema':C,'ClassRef':b,'execute':_0x386523=>R['updateFlowConfig'](_0x386523,_0x57f00e)});_0x580f5e[_0x527334(0x284)](0xc8)[_0x527334(0x243)](_0x1b8719);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x621)),..._0x16b402,async(_0x37f263,_0x108fe6)=>{const _0x145729=_0xc608b6;let _0x1f48c9=_0x37f263[_0x145729(0x706)];h[_0x145729(0x60a)](_0x145729(0x73e)),h[_0x145729(0x60a)](_0x145729(0x5d9)),h[_0x145729(0x60a)](_0x37f263[_0x145729(0x706)]);let _0x44b7b6=await this['dataValidate']({'request':_0x37f263,'schema':C,'ClassRef':b,'execute':_0x4899f4=>R[_0x145729(0x621)](_0x4899f4,_0x1f48c9)});_0x108fe6[_0x145729(0x284)](0xc8)[_0x145729(0x243)](_0x44b7b6);})['post'](this[_0xc608b6(0x574)](_0xc608b6(0x594)),..._0x16b402,async(_0x5dc235,_0x3afa72)=>{const _0x5699da=_0xc608b6;let _0x2b3eac=_0x5dc235[_0x5699da(0x706)];h[_0x5699da(0x60a)](_0x5699da(0x5bd)),h[_0x5699da(0x60a)]('request\x20body:\x20'),h[_0x5699da(0x60a)](_0x5dc235[_0x5699da(0x706)]);let _0x173093=await this[_0x5699da(0x274)]({'request':_0x5dc235,'schema':C,'ClassRef':b,'execute':_0x511727=>R[_0x5699da(0x594)](_0x511727,_0x2b3eac)});_0x3afa72['status'](0xc8)['json'](_0x173093);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)]('editConversation'),..._0x16b402,async(_0x53c304,_0x562589)=>{const _0x1c0642=_0xc608b6;let _0x1eab57=_0x53c304[_0x1c0642(0x706)];h[_0x1c0642(0x60a)](_0x1c0642(0x510)),h[_0x1c0642(0x60a)](_0x1c0642(0x5d9)),h[_0x1c0642(0x60a)](_0x53c304[_0x1c0642(0x706)]);let _0x42b414=await this['dataValidate']({'request':_0x53c304,'schema':C,'ClassRef':b,'execute':_0x3e59c1=>R[_0x1c0642(0x5c6)](_0x3e59c1,_0x1eab57)});_0x562589['status'](0xc8)[_0x1c0642(0x243)](_0x42b414);})[_0xc608b6(0x719)](this[_0xc608b6(0x574)]('deleteConversation'),..._0x16b402,async(_0x1d44d8,_0xbbfe73)=>{const _0x1f9149=_0xc608b6;let _0x544014=_0x1d44d8['body'];h[_0x1f9149(0x60a)]('request\x20received\x20in\x20deleteConversation'),h[_0x1f9149(0x60a)]('request\x20body:\x20'),h[_0x1f9149(0x60a)](_0x1d44d8[_0x1f9149(0x706)]);let _0x2e08fc=await this['dataValidate']({'request':_0x1d44d8,'schema':C,'ClassRef':b,'execute':_0x40b2a9=>R[_0x1f9149(0x484)](_0x40b2a9,_0x544014)});_0xbbfe73['status'](0xc8)[_0x1f9149(0x243)](_0x2e08fc);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x35b)),..._0x16b402,async(_0x3c0f85,_0x126d09)=>{const _0xa75843=_0xc608b6;let _0x3f2d24=_0x3c0f85[_0xa75843(0x706)];h[_0xa75843(0x60a)](_0xa75843(0x691)),h[_0xa75843(0x60a)]('request\x20body:\x20'),h[_0xa75843(0x60a)](_0x3c0f85[_0xa75843(0x706)]);let _0x56b7e1=await this['dataValidate']({'request':_0x3c0f85,'schema':C,'ClassRef':b,'execute':_0x360007=>R[_0xa75843(0x28c)](_0x360007,_0x3f2d24)});_0x126d09[_0xa75843(0x284)](0xc8)['json'](_0x56b7e1);})['post'](this[_0xc608b6(0x574)](_0xc608b6(0x311)),..._0x16b402,async(_0x361d88,_0x4cf1af)=>{const _0x1726eb=_0xc608b6;let _0x160b4f=_0x361d88[_0x1726eb(0x706)];h[_0x1726eb(0x60a)](_0x1726eb(0x18e)),h[_0x1726eb(0x60a)](_0x1726eb(0x5d9)),h[_0x1726eb(0x60a)](_0x361d88[_0x1726eb(0x706)]),delete _0x160b4f[_0x1726eb(0x660)],delete _0x160b4f[_0x1726eb(0x5cb)],delete _0x160b4f[_0x1726eb(0x403)],delete _0x160b4f[_0x1726eb(0x350)];let _0x570a19=await this[_0x1726eb(0x274)]({'request':_0x361d88,'schema':C,'ClassRef':b,'execute':_0x1476be=>R[_0x1726eb(0x74a)](_0x1476be,_0x160b4f)});_0x4cf1af[_0x1726eb(0x284)](0xc8)[_0x1726eb(0x243)](_0x570a19);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x5b8)),..._0x16b402,async(_0x6df139,_0x5c1587)=>{const _0x383bf9=_0xc608b6;let _0x2e62fe=_0x6df139[_0x383bf9(0x706)];h[_0x383bf9(0x60a)](_0x383bf9(0x18e)),h['verbose'](_0x383bf9(0x5d9)),h['verbose'](_0x6df139[_0x383bf9(0x706)]);let _0x3a2baf=await this[_0x383bf9(0x274)]({'request':_0x6df139,'schema':C,'ClassRef':b,'execute':_0x434732=>R['editFlowBlock'](_0x434732,_0x2e62fe)});_0x5c1587['status'](0xc8)[_0x383bf9(0x243)](_0x3a2baf);})[_0xc608b6(0x5b9)](this['routerPath']('editflowreply'),..._0x16b402,async(_0x5257e8,_0x106f00)=>{const _0x3dcbe0=_0xc608b6;let _0x40ead9=_0x5257e8[_0x3dcbe0(0x706)];h[_0x3dcbe0(0x60a)](_0x3dcbe0(0x18e)),h[_0x3dcbe0(0x60a)]('request\x20body:\x20'),h['verbose'](_0x5257e8[_0x3dcbe0(0x706)]);let _0x2be650=await this[_0x3dcbe0(0x274)]({'request':_0x5257e8,'schema':C,'ClassRef':b,'execute':_0x1ee60e=>R[_0x3dcbe0(0x49b)](_0x1ee60e,_0x40ead9)});_0x106f00[_0x3dcbe0(0x284)](0xc8)['json'](_0x2be650);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x2f6)),..._0x16b402,async(_0x7ce316,_0x18244f)=>{const _0x50ddf7=_0xc608b6;let _0x41001e=_0x7ce316[_0x50ddf7(0x706)];h['verbose']('request\x20received\x20in\x20editFlow'),h[_0x50ddf7(0x60a)](_0x50ddf7(0x5d9)),h[_0x50ddf7(0x60a)](_0x7ce316[_0x50ddf7(0x706)]);let _0x3e8a1a=await this[_0x50ddf7(0x274)]({'request':_0x7ce316,'schema':C,'ClassRef':b,'execute':_0x300a23=>R['editFlowVaredit'](_0x300a23,_0x41001e)});_0x18244f[_0x50ddf7(0x284)](0xc8)[_0x50ddf7(0x243)](_0x3e8a1a);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x551)),..._0x16b402,async(_0x19f86d,_0x1c1d6a)=>{const _0x17bd16=_0xc608b6;let _0x27e2bc=_0x19f86d[_0x17bd16(0x706)];h[_0x17bd16(0x60a)]('request\x20received\x20in\x20editFlowgroup'),h[_0x17bd16(0x60a)](_0x17bd16(0x5d9)),h[_0x17bd16(0x60a)](_0x19f86d[_0x17bd16(0x706)]);let _0x3ccc3c=await this[_0x17bd16(0x274)]({'request':_0x19f86d,'schema':C,'ClassRef':b,'execute':_0x1f7e0d=>R[_0x17bd16(0x254)](_0x1f7e0d,_0x27e2bc)});_0x1c1d6a[_0x17bd16(0x284)](0xc8)['json'](_0x3ccc3c);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x19b)),..._0x16b402,async(_0x101da0,_0x489fbc)=>{const _0x2071f7=_0xc608b6;let _0x1c69f4=_0x101da0[_0x2071f7(0x706)];h[_0x2071f7(0x60a)](_0x2071f7(0x6ff)),h[_0x2071f7(0x60a)](_0x2071f7(0x5d9)),h[_0x2071f7(0x60a)](_0x101da0[_0x2071f7(0x706)]);let _0x361291=await this[_0x2071f7(0x274)]({'request':_0x101da0,'schema':C,'ClassRef':b,'execute':_0x26e5ee=>R[_0x2071f7(0x25b)](_0x26e5ee,_0x1c69f4)});_0x489fbc['status'](0xc8)[_0x2071f7(0x243)](_0x361291);})[_0xc608b6(0x5b9)](this['routerPath'](_0xc608b6(0x413)),..._0x16b402,async(_0x16b804,_0x2602fb)=>{const _0x30f23a=_0xc608b6;let _0x2849e5=_0x16b804[_0x30f23a(0x706)];h[_0x30f23a(0x60a)](_0x30f23a(0x584)),h['verbose'](_0x30f23a(0x5d9)),h[_0x30f23a(0x60a)](_0x16b804[_0x30f23a(0x706)]);let _0x34e45c=await this['dataValidate']({'request':_0x16b804,'schema':C,'ClassRef':b,'execute':_0x323753=>R[_0x30f23a(0x43d)](_0x323753,_0x2849e5)});_0x2602fb[_0x30f23a(0x284)](0xc8)[_0x30f23a(0x243)](_0x34e45c);})[_0xc608b6(0x5b9)](this[_0xc608b6(0x574)](_0xc608b6(0x19c)),..._0x16b402,async(_0x207267,_0x4d04ce)=>{const _0x3cbb92=_0xc608b6;let _0x278757=_0x207267['body'];h[_0x3cbb92(0x60a)](_0x3cbb92(0x327)),h[_0x3cbb92(0x60a)](_0x3cbb92(0x5d9)),h[_0x3cbb92(0x60a)](_0x207267['body']);let _0x1d2fdb=await this[_0x3cbb92(0x274)]({'request':_0x207267,'schema':C,'ClassRef':b,'execute':_0x1cf6a3=>R[_0x3cbb92(0x40f)](_0x1cf6a3,_0x278757)});_0x4d04ce[_0x3cbb92(0x284)](0xc8)[_0x3cbb92(0x243)](_0x1d2fdb);})[_0xc608b6(0x719)](this['routerPath'](_0xc608b6(0x6fa)),..._0x16b402,async(_0x373f77,_0x58f78c)=>{const _0x490c6b=_0xc608b6;let _0x3b786d=_0x373f77[_0x490c6b(0x706)];h['verbose']('request\x20received\x20in\x20createFlow'),h['verbose'](_0x490c6b(0x5d9)),h[_0x490c6b(0x60a)](_0x373f77['body']);let _0x554392=await this[_0x490c6b(0x274)]({'request':_0x373f77,'schema':C,'ClassRef':b,'execute':_0x1aef67=>R['deleteFlow'](_0x1aef67,_0x3b786d)});_0x58f78c['status'](0xc8)[_0x490c6b(0x243)](_0x554392);})[_0xc608b6(0x1cd)](this[_0xc608b6(0x574)](_0xc608b6(0x591)),..._0x16b402,async(_0x4d08c1,_0xbff940)=>{const _0x1ffbfa=_0xc608b6;h[_0x1ffbfa(0x60a)]('request\x20received\x20in\x20allFlows');let _0x5d2cb1=await this[_0x1ffbfa(0x274)]({'request':_0x4d08c1,'schema':C,'ClassRef':b,'execute':_0x302bef=>R[_0x1ffbfa(0x221)](_0x302bef)});_0xbff940[_0x1ffbfa(0x284)](0xc8)[_0x1ffbfa(0x243)](_0x5d2cb1);});}},za=T(require(a0_0x5708fb(0x27d))),ee={};function Wa(_0x9b41c,_0xa00536,_0x5ab7e5,_0x3df9bd){ee[_0x9b41c]||(ee[_0x9b41c]={}),ee[_0x9b41c][_0xa00536]={'id':_0xa00536,'response':_0x5ab7e5,'events':_0x3df9bd};}function Ha(_0x210905,_0x20e144){!ee[_0x210905]||!ee[_0x210905][_0x20e144]||delete ee[_0x210905][_0x20e144];}function B(_0x448d86,_0x36ca56,_0x21aa2c){const _0x5ce303=a0_0x5708fb;if(!ee[_0x448d86])return;let _0x5ea0f6=_0x5ce303(0x4b0)+JSON[_0x5ce303(0x726)](_0x21aa2c)+'\x0a\x0a';Object['values'](ee[_0x448d86])[_0x5ce303(0x31e)](_0x4c9fa6=>{const _0x365b16=_0x5ce303;_0x4c9fa6[_0x365b16(0x48a)]['includes'](_0x36ca56)&&_0x4c9fa6['response'][_0x365b16(0x6a6)](_0x5ea0f6);});}function Ka(){const _0x503ef1=a0_0x5708fb;let _0x50b8c1={};for(let _0x27973b in ee)_0x50b8c1[_0x27973b]=Object['values'](ee[_0x27973b])[_0x503ef1(0x2ee)](_0x202b41=>({'id':_0x202b41['id'],'events':_0x202b41[_0x503ef1(0x48a)]}));return _0x50b8c1;}var Qa=require(a0_0x5708fb(0x4cb)),Wo=za[a0_0x5708fb(0x19f)][a0_0x5708fb(0x532)](__dirname,'downloads'),Ct=(0x0,vt[a0_0x5708fb(0x67f)])(),Ho=S[a0_0x5708fb(0x1cd)](a0_0x5708fb(0x264))['TYPE'],ue=[rs,Zs,sa[Ho]];Ct[a0_0x5708fb(0x253)]('/media',vt[a0_0x5708fb(0x19f)][a0_0x5708fb(0x539)](Wo))[a0_0x5708fb(0x1cd)](a0_0x5708fb(0x5f8),async(_0x1d009a,_0x1adcf8)=>{const _0x4cd4be=a0_0x5708fb;console[_0x4cd4be(0x525)](_0x4cd4be(0x739));let _0x4552e4=_0x1d009a[_0x4cd4be(0x333)][_0x4cd4be(0x411)],_0x2d9bc7=(_0x1d009a[_0x4cd4be(0x212)][_0x4cd4be(0x48a)]||'')[_0x4cd4be(0x3bd)](','),_0x28c062=(0x0,Qa['v4'])();console[_0x4cd4be(0x525)]('Instance\x20ID:',_0x4552e4),console[_0x4cd4be(0x525)]('Subscribed\x20Events:',_0x2d9bc7);let _0x1c5329=S[_0x4cd4be(0x1cd)]('AUTHENTICATION')[_0x4cd4be(0x1e4)],_0x22c57b=_0x1d009a[_0x4cd4be(0x212)][_0x4cd4be(0x1b6)];if(console[_0x4cd4be(0x525)](_0x4cd4be(0x401),_0x22c57b),_0x1c5329[_0x4cd4be(0x318)]!==_0x22c57b){console[_0x4cd4be(0x525)](_0x4cd4be(0x3cd));try{let _0x3b478f=await le[_0x4cd4be(0x4e1)][_0x4cd4be(0x2ff)](_0x4552e4);if(console['log'](_0x4cd4be(0x340),_0x3b478f),!_0x3b478f||_0x3b478f[_0x4cd4be(0x1b6)]!==_0x22c57b)return console[_0x4cd4be(0x525)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x1adcf8['status'](0x191)[_0x4cd4be(0x25a)](_0x4cd4be(0x1df));}catch(_0x32e254){return console[_0x4cd4be(0x4aa)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x32e254),_0x1adcf8[_0x4cd4be(0x284)](0x191)[_0x4cd4be(0x25a)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Je(_0x4552e4))return _0x1adcf8[_0x4cd4be(0x284)](0x194)[_0x4cd4be(0x25a)](_0x4cd4be(0x57b));_0x1adcf8[_0x4cd4be(0x1a6)]('Content-Type',_0x4cd4be(0x224)),_0x1adcf8['setHeader'](_0x4cd4be(0x29f),'no-cache'),_0x1adcf8[_0x4cd4be(0x1a6)](_0x4cd4be(0x329),_0x4cd4be(0x1c3)),_0x1adcf8['flushHeaders']();let _0x50af40=_0x4cd4be(0x4b0)+JSON['stringify']({'info':_0x4cd4be(0x5d0)})+'\x0a\x0a';_0x1adcf8['write'](_0x50af40),Wa(_0x4552e4,_0x28c062,_0x1adcf8,_0x2d9bc7),_0x1d009a['on']('close',()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x4552e4),Ha(_0x4552e4,_0x28c062);});}),Ct['get'](a0_0x5708fb(0x661),(_0x58761e,_0x16eef9)=>{const _0x452d61=a0_0x5708fb;let _0x11f21b=Ka();_0x16eef9[_0x452d61(0x243)](_0x11f21b);})[a0_0x5708fb(0x1cd)]('/',(_0x303378,_0x3fe96e)=>{const _0x5b101e=a0_0x5708fb;let _0x2913c0=S['get'](_0x5b101e(0x20e)),_0x139694=_0x2913c0&&_0x2913c0['FULLCHAIN'][_0x5b101e(0x3bd)]('/')[0x4];if(_0x139694){let _0x5e9291=encodeURIComponent(_0x5b101e(0x31b)+_0x139694);_0x3fe96e[_0x5b101e(0x66d)](_0x5b101e(0x4a8)+_0x5e9291);}else _0x3fe96e[_0x5b101e(0x66d)](_0x5b101e(0x4b8));})[a0_0x5708fb(0x345)]('/exit',...ue,async(_0x324d5a,_0x47640b)=>{const _0x3966ad=a0_0x5708fb;try{console[_0x3966ad(0x525)](_0x3966ad(0x669)),_0x47640b['status'](0xc8)['json']({'message':_0x3966ad(0x300)}),_0x47640b['on']('finish',()=>process[_0x3966ad(0x2ef)](0x0));}catch(_0x21ba8b){console[_0x3966ad(0x4aa)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x21ba8b),_0x47640b[_0x3966ad(0x284)](0x1f4)[_0x3966ad(0x243)]({'message':_0x3966ad(0x716)});}})[a0_0x5708fb(0x253)]('/instance',new nt(S,...ue)[a0_0x5708fb(0x5a2)],new yt(rs)['router'])['use']('/message',new wt(...ue)[a0_0x5708fb(0x5a2)])[a0_0x5708fb(0x253)](a0_0x5708fb(0x490),new ze(...ue)[a0_0x5708fb(0x5a2)])['use'](a0_0x5708fb(0x75d),new ot(...ue)[a0_0x5708fb(0x5a2)])[a0_0x5708fb(0x253)]('/webhook',new St(...ue)[a0_0x5708fb(0x5a2)])[a0_0x5708fb(0x253)](a0_0x5708fb(0x1d0),new Et(...ue)['router']);var g=class{constructor(..._0xb530d9){const _0x132cc0=a0_0x5708fb;throw{'status':0x190,'error':_0x132cc0(0x1e3),'message':_0xb530d9[_0x132cc0(0x695)]>0x0?_0xb530d9:void 0x0};}},ie=class{constructor(..._0x25ec85){const _0x742f2a=a0_0x5708fb;throw{'status':0x191,'error':_0x742f2a(0x58b),'message':_0x25ec85[_0x742f2a(0x695)]>0x0?_0x25ec85:void 0x0};}},oe=class{constructor(..._0x39f4e4){throw{'status':0x193,'error':'Forbidden','message':_0x39f4e4['length']>0x0?_0x39f4e4:void 0x0};}},x=class{constructor(..._0x3d9626){const _0x1fc1f0=a0_0x5708fb;throw{'status':0x194,'error':_0x1fc1f0(0x271),'message':_0x3d9626[_0x1fc1f0(0x695)]>0x0?_0x3d9626:void 0x0};}},A=class{constructor(..._0x5867d5){const _0x3015ae=a0_0x5708fb;throw{'status':0x1f4,'error':_0x3015ae(0x6d9),'message':_0x5867d5[_0x3015ae(0x695)]>0x0?_0x5867d5:void 0x0};}},de=require('@whiskeysockets/baileys');async function ds(_0x3069b6){const _0x2d6ae9=a0_0x5708fb;let _0x276dd2=new N(ds[_0x2d6ae9(0x3a8)]),_0x373f44=M[_0x2d6ae9(0x292)](),_0x322a69=_0x373f44['db'](S[_0x2d6ae9(0x1cd)]('DATABASE')[_0x2d6ae9(0x761)][_0x2d6ae9(0x301)]+_0x2d6ae9(0x266))[_0x2d6ae9(0x26d)](_0x3069b6),_0x17f155=async(_0x202f17,_0x47bf28)=>{const _0x2b084b=_0x2d6ae9;try{return await _0x373f44[_0x2b084b(0x5a9)](),await _0x322a69[_0x2b084b(0x4bd)]({'_id':_0x47bf28},JSON['parse'](JSON[_0x2b084b(0x726)](_0x202f17,de[_0x2b084b(0x3ff)][_0x2b084b(0x46b)])),{'upsert':!0x0});}catch{}},_0x53d3e0=async _0x10e621=>{const _0x3a4036=_0x2d6ae9;try{await _0x373f44[_0x3a4036(0x5a9)]();let _0x1c2f12=await _0x322a69[_0x3a4036(0x5fc)]({'_id':_0x10e621}),_0x442aff=JSON['stringify'](_0x1c2f12);return JSON[_0x3a4036(0x233)](_0x442aff,de[_0x3a4036(0x3ff)][_0x3a4036(0x1dd)]);}catch{}},_0x229e0c=async _0x3f7fac=>{const _0x423a6b=_0x2d6ae9;try{return await _0x373f44[_0x423a6b(0x5a9)](),await _0x322a69[_0x423a6b(0x3d4)]({'_id':_0x3f7fac});}catch{}},_0x979d83=await _0x53d3e0(_0x2d6ae9(0x6ba))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x979d83,'keys':{'get':async(_0x44ec0d,_0xe0a8)=>{const _0x55e143=_0x2d6ae9;let _0x324773={};return await Promise[_0x55e143(0x5dd)](_0xe0a8[_0x55e143(0x2ee)](async _0x10d4cc=>{const _0x31ea83=_0x55e143;let _0xbb18f4=await _0x53d3e0(_0x44ec0d+'-'+_0x10d4cc);_0x44ec0d===_0x31ea83(0x520)&&_0xbb18f4&&(_0xbb18f4=de[_0x31ea83(0x1e6)][_0x31ea83(0x18c)][_0x31ea83(0x46c)]['fromObject'](_0xbb18f4)),_0x324773[_0x10d4cc]=_0xbb18f4;})),_0x324773;},'set':async _0x413923=>{const _0x4f7345=_0x2d6ae9;let _0x1acb51=[];for(let _0x304a6f in _0x413923)for(let _0x412094 in _0x413923[_0x304a6f]){let _0x18d5b9=_0x413923[_0x304a6f][_0x412094],_0x490d8c=_0x304a6f+'-'+_0x412094;_0x1acb51['push'](_0x18d5b9?_0x17f155(_0x18d5b9,_0x490d8c):_0x229e0c(_0x490d8c));}await Promise[_0x4f7345(0x5dd)](_0x1acb51);}}},'saveCreds':async()=>_0x17f155(_0x979d83,_0x2d6ae9(0x6ba))};}var gs=T(require('long')),ms=T(require(a0_0x5708fb(0x22f))),Rt=require(a0_0x5708fb(0x56c)),Ya=require('@redis/client'),Tt=require(a0_0x5708fb(0x56c)),Nt;function Ko(_0x407f96){const _0x44d884=a0_0x5708fb;return Nt||(Nt=(0x0,Ya[_0x44d884(0x4c6)])({'url':_0x407f96[_0x44d884(0x1e0)]}),Nt[_0x44d884(0x5a9)]()),Nt;}var ne=class c{constructor(_0x7ad3ee,_0x188cac){const _0x634697=a0_0x5708fb;this[_0x634697(0x21a)]=_0x7ad3ee,this[_0x634697(0x4f0)]=_0x188cac,this['logger']=new N(c[_0x634697(0x3a8)]),this[_0x634697(0x698)]=Ko(_0x7ad3ee);}set['reference'](_0x123887){const _0x3b211f=a0_0x5708fb;this[_0x3b211f(0x4f0)]=_0x123887;}async[a0_0x5708fb(0x696)](){const _0x4abc96=a0_0x5708fb;try{return await this[_0x4abc96(0x698)][_0x4abc96(0x325)]([_0x4abc96(0x27b),this[_0x4abc96(0x21a)][_0x4abc96(0x3bb)]+':*']);}catch(_0x4abd76){this[_0x4abc96(0x45b)][_0x4abc96(0x4aa)](_0x4abd76);}}async[a0_0x5708fb(0x50c)](_0x230059,_0x2f0215){const _0x20fe81=a0_0x5708fb;try{let _0x268ba7=JSON[_0x20fe81(0x726)](_0x2f0215,Tt['BufferJSON'][_0x20fe81(0x46b)]);return await this[_0x20fe81(0x698)][_0x20fe81(0x330)](this[_0x20fe81(0x21a)][_0x20fe81(0x3bb)]+':'+this[_0x20fe81(0x4f0)],_0x230059,_0x268ba7);}catch(_0x3289d4){this[_0x20fe81(0x45b)][_0x20fe81(0x4aa)](_0x3289d4);}}async[a0_0x5708fb(0x1a2)](){const _0xc9b5de=a0_0x5708fb;try{let _0x10a06d=await this[_0xc9b5de(0x698)][_0xc9b5de(0x637)](this['redisEnv'][_0xc9b5de(0x3bb)]+':'+this[_0xc9b5de(0x4f0)]);if(_0x10a06d){for(let _0x1e8374 in _0x10a06d)Object[_0xc9b5de(0x465)][_0xc9b5de(0x4a9)]['call'](_0x10a06d,_0x1e8374)&&(_0x10a06d[_0x1e8374]=JSON[_0xc9b5de(0x233)](_0x10a06d[_0x1e8374],Tt[_0xc9b5de(0x3ff)][_0xc9b5de(0x1dd)]));return _0x10a06d;}}catch(_0x46a7a2){this[_0xc9b5de(0x45b)][_0xc9b5de(0x4aa)](_0x46a7a2);}}async[a0_0x5708fb(0x23d)](_0xdced64){const _0xdf5af4=a0_0x5708fb;try{let _0x139644=await this[_0xdf5af4(0x698)][_0xdf5af4(0x66a)](this[_0xdf5af4(0x21a)][_0xdf5af4(0x3bb)]+':'+this[_0xdf5af4(0x4f0)],_0xdced64);if(_0x139644)return JSON['parse'](_0x139644,Tt[_0xdf5af4(0x3ff)][_0xdf5af4(0x1dd)]);}catch(_0x487223){this[_0xdf5af4(0x45b)][_0xdf5af4(0x4aa)](_0x487223);}}async[a0_0x5708fb(0x62f)](_0x57264b){const _0x401318=a0_0x5708fb;try{return await this['client'][_0x401318(0x440)](this['redisEnv'][_0x401318(0x3bb)]+':'+this[_0x401318(0x4f0)],_0x57264b);}catch(_0x3cd0ba){this[_0x401318(0x45b)]['error'](_0x3cd0ba);}}async[a0_0x5708fb(0x6d8)](_0x3f53ce){const _0x4fe6c3=a0_0x5708fb;try{return await this[_0x4fe6c3(0x698)]['del'](_0x3f53ce||this['redisEnv'][_0x4fe6c3(0x3bb)]+':'+this[_0x4fe6c3(0x4f0)]);}catch(_0x4567eb){this[_0x4fe6c3(0x45b)][_0x4fe6c3(0x4aa)](_0x4567eb);}}};async function ps(_0x16387d,_0x509f13){const _0x47ddfc=a0_0x5708fb;let _0x3ac3c6=new N(ps[_0x47ddfc(0x3a8)]),_0x2e7ffd=new ne(_0x16387d,_0x509f13),_0x2799a2=async(_0x358a35,_0x9063f0)=>{const _0x39ca5e=_0x47ddfc;try{return await _0x2e7ffd['writeData'](_0x9063f0,_0x358a35);}catch(_0x43fe27){return _0x3ac3c6[_0x39ca5e(0x4aa)]({'localError':_0x39ca5e(0x50c),'error':_0x43fe27});}},_0x2f5c62=async _0x238249=>{const _0x1e917d=_0x47ddfc;try{return await _0x2e7ffd['readData'](_0x238249);}catch(_0x18c6c2){_0x3ac3c6['error']({'readData':_0x1e917d(0x50c),'error':_0x18c6c2});return;}},_0x124045=async _0x1f3af1=>{const _0x3a7cde=_0x47ddfc;try{return await _0x2e7ffd['removeData'](_0x1f3af1);}catch(_0x2e2709){_0x3ac3c6[_0x3a7cde(0x4aa)]({'readData':_0x3a7cde(0x62f),'error':_0x2e2709});}},_0x54fc50=await _0x2f5c62(_0x47ddfc(0x6ba))||(0x0,Rt[_0x47ddfc(0x2c7)])();return{'state':{'creds':_0x54fc50,'keys':{'get':async(_0x48d6e7,_0x1b22c2)=>{const _0x4937a6=_0x47ddfc;let _0x7d054d={};return await Promise[_0x4937a6(0x5dd)](_0x1b22c2['map'](async _0x1c4245=>{const _0x5d0cbb=_0x4937a6;let _0x162e0d=await _0x2f5c62(_0x48d6e7+'-'+_0x1c4245);_0x48d6e7==='app-state-sync-key'&&_0x162e0d&&(_0x162e0d=Rt[_0x5d0cbb(0x1e6)][_0x5d0cbb(0x18c)][_0x5d0cbb(0x46c)][_0x5d0cbb(0x3b7)](_0x162e0d)),_0x7d054d[_0x1c4245]=_0x162e0d;})),_0x7d054d;},'set':async _0x1e5626=>{const _0x492142=_0x47ddfc;let _0x365507=[];for(let _0x4f7024 in _0x1e5626)for(let _0x2364ef in _0x1e5626[_0x4f7024]){let _0x3f2c92=_0x1e5626[_0x4f7024][_0x2364ef],_0x35c7c5=_0x4f7024+'-'+_0x2364ef;_0x365507[_0x492142(0x245)](_0x3f2c92?await _0x2799a2(_0x3f2c92,_0x35c7c5):await _0x124045(_0x35c7c5));}await Promise[_0x492142(0x5dd)](_0x365507);}}},'saveCreds':async()=>await _0x2799a2(_0x54fc50,_0x47ddfc(0x6ba))};}var P=T(require('fs')),It=require('uuid'),Dt=T(require(a0_0x5708fb(0x730)));function G(_0xd2f3db){const _0x4b4815=a0_0x5708fb;if(_0xd2f3db[_0x4b4815(0x388)]||_0xd2f3db['viewOnceMessageV2']){let _0x3f8ccd=_0xd2f3db[_0x4b4815(0x388)]?_0xd2f3db[_0x4b4815(0x388)][_0x4b4815(0x460)]:_0xd2f3db['viewOnceMessageV2'][_0x4b4815(0x460)];return(0x0,w['getContentType'])(_0x3f8ccd);}return _0xd2f3db[_0x4b4815(0x4fa)]?_0x4b4815(0x4fa):_0xd2f3db[_0x4b4815(0x736)]?_0x4b4815(0x736):(0x0,w[_0x4b4815(0x2f8)])(_0xd2f3db);}var ye=class c{constructor(_0x19e8fb,_0x465d15,_0x12a840){const _0x2d844a=a0_0x5708fb;this[_0x2d844a(0x33c)]=_0x19e8fb,this[_0x2d844a(0x709)]=_0x465d15,this['repository']=_0x12a840,this['AutomateSystem']=null,this[_0x2d844a(0x45b)]=new N(c[_0x2d844a(0x3a8)]),this[_0x2d844a(0x411)]={},this[_0x2d844a(0x4ae)]={},this[_0x2d844a(0x3c4)]={'state':'close'},this[_0x2d844a(0x250)]=(0x0,$[_0x2d844a(0x532)])(Q,_0x2d844a(0x249)),this['msgRetryCounterCache']=new ms[(_0x2d844a(0x19f))](),this[_0x2d844a(0x1c2)]=new ms['default'](),this[_0x2d844a(0x44c)]=!0x1,this['webhookMap']={'status.instance':_0x2d844a(0x4a2),'qrcode.updated':_0x2d844a(0x4c2),'messages.upsert':_0x2d844a(0x34e),'messages.update':_0x2d844a(0x2c0),'send.message':_0x2d844a(0x34e),'group.upsert':'/wa-groups','group.update':_0x2d844a(0x650),'group-participants.update':_0x2d844a(0x650),'connection.update':_0x2d844a(0x4a2),'messages.set':_0x2d844a(0x34e),'contacts.set':'/wa-contacts','contacts.upsert':_0x2d844a(0x3ab),'contacts.update':_0x2d844a(0x3ab),'presence.update':_0x2d844a(0x2bf),'chats.set':_0x2d844a(0x624),'chats.update':'/wa-chats','chats.upsert':_0x2d844a(0x624),'chats.delete':_0x2d844a(0x624)},this[_0x2d844a(0x286)]=0x0,this['reconnectTimestamps']=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x2d844a(0x679)]=0x7530,this['isRunning']=!0x1,this[_0x2d844a(0x762)]={'chats.upsert':async(_0x80e80d,_0x60ca15)=>{const _0x12a68e=_0x2d844a;let _0x2e7561=[];for await(let _0x5980ec of _0x80e80d)_0x2e7561[_0x12a68e(0x245)]({'_id':_0x5980ec['id'],'owner':this[_0x12a68e(0x411)][_0x12a68e(0x2d3)],'group':_0x5980ec['id'][_0x12a68e(0x59d)]('@g.us'),'name':_0x5980ec[_0x12a68e(0x3a8)]||_0x5980ec[_0x12a68e(0x4f1)]||null,'contactname':null,'lastmsg':_0x5980ec[_0x12a68e(0x27e)]&&_0x5980ec[_0x12a68e(0x27e)][_0x12a68e(0x3f5)]()[_0x12a68e(0x695)]<0xd?_0x5980ec['conversationTimestamp']*0x3e8:_0x5980ec[_0x12a68e(0x27e)]||null,'archived':_0x5980ec[_0x12a68e(0x50d)]||!0x1,'unreadcount':_0x5980ec[_0x12a68e(0x4a4)]||0x0});await this[_0x12a68e(0x2d4)](_0x12a68e(0x4d2),_0x2e7561);},'chats.update':async(_0x4a1543,_0x49cb18)=>{const _0x144ff9=_0x2d844a;for(let _0x463464 of _0x4a1543){let _0x3a0474={'_id':_0x463464['id'],'owner':this[_0x144ff9(0x411)]['wuid'],'group':_0x463464['id'][_0x144ff9(0x59d)](_0x144ff9(0x767)),'name':_0x463464['name']||_0x463464[_0x144ff9(0x4f1)],'archived':_0x463464[_0x144ff9(0x50d)]},_0x43964e=!0x1,_0x40544a={};_0x3a0474[_0x144ff9(0x50d)]!=null&&(this[_0x144ff9(0x45b)][_0x144ff9(0x60a)](this[_0x144ff9(0x4f0)]+'\x20('+this[_0x144ff9(0x411)][_0x144ff9(0x2d3)]+_0x144ff9(0x2b4)+_0x463464[_0x144ff9(0x50d)]),_0x43964e=!0x0,_0x40544a[_0x144ff9(0x50d)]=_0x463464[_0x144ff9(0x50d)]),_0x463464[_0x144ff9(0x3a8)]!=null&&(this[_0x144ff9(0x45b)][_0x144ff9(0x60a)](this[_0x144ff9(0x4f0)]+'\x20('+this['instance'][_0x144ff9(0x2d3)]+_0x144ff9(0x270)+_0x463464['name']),_0x43964e=!0x0,_0x40544a[_0x144ff9(0x3a8)]=_0x463464['name']),_0x463464[_0x144ff9(0x4f1)]!=null&&(this['logger'][_0x144ff9(0x60a)](this[_0x144ff9(0x4f0)]+'\x20('+this['instance'][_0x144ff9(0x2d3)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x463464['displayName']),_0x43964e=!0x0,_0x40544a[_0x144ff9(0x3a8)]=_0x463464[_0x144ff9(0x4f1)]);let _0x19ea72;_0x43964e&&(_0x19ea72=await this[_0x144ff9(0x3ed)][_0x144ff9(0x2e9)][_0x144ff9(0x28f)]({'where':{'_id':_0x463464['id'],'owner':this[_0x144ff9(0x411)]['wuid']}},_0x40544a)),_0x19ea72&&B(this['instanceName'],_0x144ff9(0x307),{'chat':_0x19ea72});}},'chats.delete':async _0x6cc44=>{const _0xd753c2=_0x2d844a;await this[_0xd753c2(0x2d4)](_0xd753c2(0x5e8),[..._0x6cc44]);}},this['contactHandle']={'contacts.upsert':async(_0x18b156,_0x12332a)=>{const _0x2c55e4=_0x2d844a;let _0x18fc1f=await this[_0x2c55e4(0x3ed)]['contact'][_0x2c55e4(0x2ff)]({'where':{'owner':this['instance'][_0x2c55e4(0x2d3)]}}),_0x20d24a=[];for await(let _0x42d9b9 of _0x18b156)_0x18fc1f[_0x2c55e4(0x2ff)](_0xa9aa27=>_0xa9aa27[_0x2c55e4(0x1bf)]===_0x42d9b9['id'])||_0x20d24a[_0x2c55e4(0x245)]({'_id':_0x42d9b9['id'],'pushName':_0x42d9b9?.[_0x2c55e4(0x3a8)]||_0x42d9b9?.[_0x2c55e4(0x55d)],'owner':this[_0x2c55e4(0x411)]['wuid']});await this[_0x2c55e4(0x2d4)](_0x2c55e4(0x2cd),_0x20d24a),await this['repository'][_0x2c55e4(0x29e)][_0x2c55e4(0x5f7)](_0x20d24a);},'contacts.update':async(_0x3aca7f,_0x44d064)=>{const _0x4e3b64=_0x2d844a;let _0x4c0e1a=[];for await(let _0xb64bb8 of _0x3aca7f)_0x4c0e1a[_0x4e3b64(0x245)]({'_id':_0xb64bb8['id'],'pushName':_0xb64bb8?.[_0x4e3b64(0x3a8)]??_0xb64bb8?.[_0x4e3b64(0x55d)],'owner':this[_0x4e3b64(0x411)][_0x4e3b64(0x2d3)]});await this[_0x4e3b64(0x2d4)]('contacts.update',_0x4c0e1a);}},this[_0x2d844a(0x561)]={'messaging-history.set':async({messages:_0x1f019a,chats:_0x148c4e,isLatest:_0x5d0d15},_0xd16d99)=>{const _0x5bf986=_0x2d844a;if(_0x5d0d15){let _0x2a7594=await Promise[_0x5bf986(0x5dd)](_0x148c4e[_0x5bf986(0x2ee)](async _0x541dd4=>({'_id':_0x541dd4['id'],'owner':this[_0x5bf986(0x411)][_0x5bf986(0x2d3)],'group':_0x541dd4['id'][_0x5bf986(0x59d)](_0x5bf986(0x767)),'name':_0x541dd4[_0x5bf986(0x3a8)]||_0x541dd4['displayName']||null,'contactname':null,'lastmsg':_0x541dd4['conversationTimestamp']&&_0x541dd4[_0x5bf986(0x27e)]['toString']()[_0x5bf986(0x695)]<0xd?_0x541dd4[_0x5bf986(0x27e)]*0x3e8:_0x541dd4[_0x5bf986(0x27e)]||null,'archived':_0x541dd4[_0x5bf986(0x50d)]||!0x1,'unreadcount':_0x541dd4[_0x5bf986(0x4a4)]||0x0})));await this[_0x5bf986(0x2d4)](_0x5bf986(0x3dc),_0x2a7594),await this[_0x5bf986(0x52a)](_0x2a7594,_0xd16d99);}let _0x1da89a=[],_0x3cfa79=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3f50ee]of Object['entries'](_0x1f019a)){if(_0x3f50ee['message']?.[_0x5bf986(0x3b2)]||_0x3f50ee[_0x5bf986(0x460)]?.[_0x5bf986(0x666)]||!_0x3f50ee[_0x5bf986(0x460)]||_0x3f50ee[_0x5bf986(0x6b9)][_0x5bf986(0x22b)]===_0x5bf986(0x34d)||(gs[_0x5bf986(0x19f)][_0x5bf986(0x76a)](_0x3f50ee?.[_0x5bf986(0x6c0)])&&(_0x3f50ee[_0x5bf986(0x6c0)]=_0x3f50ee['messageTimestamp']?.[_0x5bf986(0x192)]()),_0x3f50ee[_0x5bf986(0x6c0)]&&_0x3f50ee['messageTimestamp']['toString']()[_0x5bf986(0x695)]<0xd&&(_0x3f50ee[_0x5bf986(0x6c0)]=_0x3f50ee[_0x5bf986(0x6c0)]*0x3e8),_0x3f50ee[_0x5bf986(0x6c0)]<_0x3cfa79))continue;let {message_normalized:_0x325ea0}=this[_0x5bf986(0x524)](_0x3f50ee[_0x5bf986(0x460)],G(_0x3f50ee[_0x5bf986(0x460)]),null);Object['keys'](_0x325ea0)[_0x5bf986(0x695)]>0x0&&_0x1da89a[_0x5bf986(0x245)]({'_id':_0x3f50ee[_0x5bf986(0x6b9)]['id'],'key':_0x3f50ee[_0x5bf986(0x6b9)],'pushName':_0x3f50ee[_0x5bf986(0x404)],'participant':_0x3f50ee[_0x5bf986(0x414)],'message':{..._0x3f50ee[_0x5bf986(0x460)]},'messageType':G(_0x3f50ee[_0x5bf986(0x460)]),'message_normalized':{'key':_0x3f50ee['key'],'pushName':_0x3f50ee[_0x5bf986(0x404)],'messageTimestamp':_0x3f50ee[_0x5bf986(0x6c0)],..._0x325ea0},'messageTimestamp':_0x3f50ee['messageTimestamp'],'owner':this[_0x5bf986(0x411)][_0x5bf986(0x2d3)]});}_0xd16d99[_0x5bf986(0x3e7)]&&_0x1da89a[_0x5bf986(0x695)]>0x0&&(this[_0x5bf986(0x45b)][_0x5bf986(0x60a)](this[_0x5bf986(0x4f0)]+'\x20('+this['instance'][_0x5bf986(0x2d3)]+_0x5bf986(0x2d5)+_0x1da89a[_0x5bf986(0x695)]+'\x20mensagens\x20de\x20'+this[_0x5bf986(0x411)][_0x5bf986(0x2d3)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x5bf986(0x3ed)][_0x5bf986(0x460)]['insert']([..._0x1da89a])),this['sendDataWebhook'](_0x5bf986(0x481),[..._0x1da89a]),_0x1f019a=void 0x0;},'messages.upsert':async({messages:_0x2c6d2b,type:_0x39b159},_0x47993d)=>{const _0x3ce17f=_0x2d844a;let _0x5ad6bf=_0x2c6d2b[0x0];if(_0x39b159!==_0x3ce17f(0x51f)||!_0x5ad6bf?.[_0x3ce17f(0x460)]||_0x5ad6bf['message']?.[_0x3ce17f(0x3b2)]||_0x5ad6bf[_0x3ce17f(0x460)][_0x3ce17f(0x666)]||_0x5ad6bf[_0x3ce17f(0x6b9)][_0x3ce17f(0x22b)]===_0x3ce17f(0x34d))return;let _0x1b9fb6=null,_0x379ea0=null;try{_0x1b9fb6=await this[_0x3ce17f(0x6d5)](_0x5ad6bf),_0x379ea0=_0x1b9fb6?_0x1b9fb6['join'](','):null;}catch(_0x416380){this[_0x3ce17f(0x45b)][_0x3ce17f(0x60a)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x416380[_0x3ce17f(0x460)]),_0x379ea0=_0x3ce17f(0x2d6);}if(this['client'][_0x3ce17f(0x1f8)](_0x3ce17f(0x671)),gs[_0x3ce17f(0x19f)][_0x3ce17f(0x76a)](_0x5ad6bf[_0x3ce17f(0x6c0)])&&(_0x5ad6bf[_0x3ce17f(0x6c0)]=_0x5ad6bf['messageTimestamp']?.[_0x3ce17f(0x192)]()),this[_0x3ce17f(0x4ae)]?.[_0x3ce17f(0x421)]&&_0x5ad6bf[_0x3ce17f(0x6b9)][_0x3ce17f(0x22b)][_0x3ce17f(0x3b1)]('@g.us')){this[_0x3ce17f(0x45b)][_0x3ce17f(0x60a)](_0x3ce17f(0x4cf));return;}_0x5ad6bf[_0x3ce17f(0x6c0)]&&_0x5ad6bf['messageTimestamp'][_0x3ce17f(0x3f5)]()[_0x3ce17f(0x695)]<0xd&&(_0x5ad6bf['messageTimestamp']=_0x5ad6bf[_0x3ce17f(0x6c0)]*0x3e8);let _0x41be3f=_0x5ad6bf[_0x3ce17f(0x460)],{messageContent:_0x4d6d91,message_normalized:_0x9a9817}=this[_0x3ce17f(0x524)](_0x41be3f,G(_0x5ad6bf[_0x3ce17f(0x460)]),_0x379ea0);_0x4d6d91||console['error'](_0x3ce17f(0x331));let _0x289874={'_id':_0x5ad6bf[_0x3ce17f(0x6b9)]['id'],'key':_0x5ad6bf[_0x3ce17f(0x6b9)],'pushName':_0x5ad6bf[_0x3ce17f(0x404)],'message':{..._0x5ad6bf[_0x3ce17f(0x460)]},'messageType':G(_0x5ad6bf[_0x3ce17f(0x460)]),'message_normalized':{'key':_0x5ad6bf[_0x3ce17f(0x6b9)],'pushName':_0x5ad6bf[_0x3ce17f(0x404)],'messageTimestamp':_0x5ad6bf['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x5ad6bf[_0x3ce17f(0x6b9)]['id']),..._0x9a9817},'messageTimestamp':_0x5ad6bf[_0x3ce17f(0x6c0)],'owner':this[_0x3ce17f(0x411)][_0x3ce17f(0x2d3)]};this['logger'][_0x3ce17f(0x525)](_0x289874),await this['repository'][_0x3ce17f(0x460)]['insert']([_0x289874]),await this[_0x3ce17f(0x2d4)](_0x3ce17f(0x49e),_0x289874),B(this[_0x3ce17f(0x4f0)],_0x3ce17f(0x740),{'message':_0x289874}),_0x5ad6bf['key']['remoteJid']!==_0x3ce17f(0x34d)&&await this[_0x3ce17f(0x206)](_0x47993d,_0x289874,'MESSAGES_UPSERT');},'messages.update':async(_0x3bbb5f,_0x4b9b01)=>{const _0x11a44f=_0x2d844a;let _0x4850ce={0x0:'ERROR',0x1:_0x11a44f(0x296),0x2:_0x11a44f(0x4f3),0x3:_0x11a44f(0x638),0x4:_0x11a44f(0x4ff),0x5:_0x11a44f(0x54d)};for await(let {key:_0x197955,update:_0x46755b}of _0x3bbb5f){if(this[_0x11a44f(0x4ae)]?.[_0x11a44f(0x421)]&&_0x197955[_0x11a44f(0x22b)][_0x11a44f(0x3b1)](_0x11a44f(0x767))){this['logger'][_0x11a44f(0x60a)]('group\x20ignored');return;}if(_0x197955[_0x11a44f(0x22b)]!=='status@broadcast'){let _0x2abda8=Date['now'](),_0x71dae;_0x46755b['message']===null&&_0x46755b[_0x11a44f(0x284)]===void 0x0?_0x71dae=_0x11a44f(0x593):_0x71dae=_0x4850ce[_0x46755b[_0x11a44f(0x284)]];let _0x5b5761=_0x197955[_0x11a44f(0x22b)][_0x11a44f(0x2be)](/:\d{1,2}@/g,'@'),_0x547466={..._0x197955,'remoteJid':_0x5b5761,'status':_0x71dae,'datetime':_0x2abda8,'owner':this['instance']['wuid']};await this['sendDataWebhook'](_0x11a44f(0x63d),_0x547466),await this[_0x11a44f(0x273)](_0x197955,_0x5b5761,_0x547466);}}}},this[_0x2d844a(0x49a)]={'groups.upsert':_0x33da40=>{const _0x2d0309=_0x2d844a;this[_0x2d0309(0x2d4)](_0x2d0309(0x738),_0x33da40);},'groups.update':_0x68d70a=>{const _0xb2a7f0=_0x2d844a;this['sendDataWebhook'](_0xb2a7f0(0x63e),_0x68d70a);},'group-participants.update':_0x2568f2=>{const _0x16e91f=_0x2d844a;this[_0x16e91f(0x2d4)]('group-participants.update',_0x2568f2);}},this[_0x2d844a(0x6d5)]=async _0x293f07=>{const _0x5c61ae=_0x2d844a;if(_0x293f07[_0x5c61ae(0x460)]?.[_0x5c61ae(0x210)]){let _0x5e5a07=await this['getMessage'](_0x293f07[_0x5c61ae(0x460)]['pollUpdateMessage'][_0x5c61ae(0x1af)],!0x0);if(_0x5e5a07){let _0x51d707=_0x5e5a07[_0x5c61ae(0x6b9)][_0x5c61ae(0x667)]?this[_0x5c61ae(0x411)]['wuid']+_0x5c61ae(0x1ba):_0x5e5a07[_0x5c61ae(0x6b9)][_0x5c61ae(0x414)]||_0x5e5a07[_0x5c61ae(0x6b9)][_0x5c61ae(0x22b)],_0x142f7d=_0x5e5a07[_0x5c61ae(0x6b9)]['id'],_0x546766=_0x5e5a07[_0x5c61ae(0x460)],_0x3eee1a=Buffer[_0x5c61ae(0x6bc)](_0x546766['messageContextInfo']['messageSecret'][_0x5c61ae(0x3f5)](_0x5c61ae(0x69b)),_0x5c61ae(0x69b)),_0xd0fa8d=(0x0,w[_0x5c61ae(0x4c5)])(_0x293f07[_0x5c61ae(0x460)][_0x5c61ae(0x210)][_0x5c61ae(0x21f)],{'pollCreatorJid':_0x51d707,'pollMsgId':_0x142f7d,'pollEncKey':_0x3eee1a,'voterJid':_0x293f07['key'][_0x5c61ae(0x667)]?this[_0x5c61ae(0x411)]['wuid']+_0x5c61ae(0x1ba):_0x293f07['key']['remoteJid']['endsWith']('g.us')?_0x293f07[_0x5c61ae(0x6b9)][_0x5c61ae(0x414)]:_0x293f07[_0x5c61ae(0x6b9)]['remoteJid']}),_0x59586f=[],_0x157635=_0xd0fa8d[_0x5c61ae(0x3eb)][_0x5c61ae(0x2ee)](_0x66b423=>Buffer[_0x5c61ae(0x6bc)](_0x66b423)[_0x5c61ae(0x3f5)]('hex'));for(let {optionName:_0x2c49dd}of _0x546766['pollCreationMessage']?.[_0x5c61ae(0x436)]||_0x546766['pollCreationMessageV3']?.[_0x5c61ae(0x436)]||_0x546766[_0x5c61ae(0x736)]?.[_0x5c61ae(0x436)])_0x157635[_0x5c61ae(0x1b2)]((0x0,w[_0x5c61ae(0x76d)])(Buffer[_0x5c61ae(0x6bc)](_0x2c49dd))[_0x5c61ae(0x3f5)](_0x5c61ae(0x69b)))>-0x1&&_0x59586f['push'](_0x2c49dd);return _0x59586f;}}return null;},this[_0x2d844a(0x524)]=(_0x30c552,_0x2bdc6f,_0x4be597)=>{const _0x1294cb=_0x2d844a;let _0x10cf0=_0x2bdc6f?_0x30c552[_0x2bdc6f]:void 0x0,_0x372d64={},_0x5278b8=null,_0x54432b=null,_0x2af0a8=null;if(_0x30c552[_0x1294cb(0x1ef)]?_0x10cf0=_0x30c552[_0x1294cb(0x1ef)][_0x1294cb(0x460)][_0x2bdc6f]:_0x30c552[_0x1294cb(0x388)]?_0x10cf0=_0x30c552[_0x1294cb(0x388)][_0x1294cb(0x460)][_0x2bdc6f]:_0x30c552[_0x1294cb(0x44d)]?_0x10cf0=_0x30c552[_0x1294cb(0x44d)][_0x1294cb(0x460)][_0x2bdc6f]:_0x30c552[_0x1294cb(0x6db)]?.[_0x1294cb(0x460)]?.['protocolMessage']?.['editedMessage']?(_0x5278b8=_0x30c552[_0x1294cb(0x6db)]['message'][_0x1294cb(0x3b2)][_0x1294cb(0x6b9)]['id'],_0x30c552[_0x1294cb(0x6db)]['message'][_0x1294cb(0x3b2)][_0x1294cb(0x6db)][_0x1294cb(0x2ca)]?_0x10cf0=_0x30c552[_0x1294cb(0x6db)][_0x1294cb(0x460)][_0x1294cb(0x3b2)]['editedMessage'][_0x1294cb(0x2ca)]:_0x30c552[_0x1294cb(0x6db)][_0x1294cb(0x460)]['protocolMessage'][_0x1294cb(0x6db)][_0x1294cb(0x6cc)]?_0x10cf0=_0x30c552[_0x1294cb(0x6db)]['message'][_0x1294cb(0x3b2)][_0x1294cb(0x6db)][_0x1294cb(0x6cc)][_0x1294cb(0x45d)]:_0x30c552[_0x1294cb(0x6db)][_0x1294cb(0x460)][_0x1294cb(0x3b2)]['editedMessage'][_0x1294cb(0x62a)]?_0x10cf0=_0x30c552[_0x1294cb(0x6db)]['message']['protocolMessage'][_0x1294cb(0x6db)][_0x1294cb(0x62a)][_0x1294cb(0x45d)]:_0x30c552[_0x1294cb(0x6db)][_0x1294cb(0x460)][_0x1294cb(0x3b2)][_0x1294cb(0x6db)][_0x1294cb(0x56a)]?_0x10cf0=_0x30c552['editedMessage']['message'][_0x1294cb(0x3b2)][_0x1294cb(0x6db)]['documentWithCaptionMessage'][_0x1294cb(0x460)]['documentMessage'][_0x1294cb(0x45d)]:_0x10cf0=_0x30c552[_0x1294cb(0x6db)][_0x1294cb(0x460)][_0x1294cb(0x3b2)][_0x1294cb(0x6db)]):_0x10cf0=_0x30c552[_0x2bdc6f],!_0x2bdc6f||!_0x10cf0)return console['error'](_0x1294cb(0x55b),_0x30c552),{'messageType':_0x2bdc6f,'messageContent':_0x10cf0,'message_normalized':{}};_0x30c552[_0x2bdc6f]?.[_0x1294cb(0x5ec)]?.[_0x1294cb(0x256)]&&_0x30c552[_0x2bdc6f]?.['contextInfo']?.['quotedMessage']&&(_0x54432b=_0x30c552[_0x2bdc6f][_0x1294cb(0x5ec)][_0x1294cb(0x256)]),_0x30c552[_0x1294cb(0x257)]&&(_0x2af0a8=_0x30c552[_0x1294cb(0x257)][_0x1294cb(0x6b9)]['id']);let _0x3e89cc;if(_0x10cf0&&typeof _0x10cf0==_0x1294cb(0x279)&&_0x1294cb(0x1af)in _0x10cf0&&({pollCreationMessageKey:_0x3e89cc}=_0x10cf0),_0x2bdc6f===_0x1294cb(0x56a)){let _0x39a00a=_0x10cf0?.[_0x1294cb(0x460)]?.['documentMessage'];_0x39a00a&&(_0x10cf0=_0x39a00a);}if(_0x2bdc6f===_0x1294cb(0x1ea)||_0x2bdc6f===_0x1294cb(0x736)||_0x2bdc6f==='pollCreationMessageV3'){let _0x1f044a=_0x10cf0[_0x1294cb(0x436)][_0x1294cb(0x2ee)](_0x1b35be=>_0x1b35be[_0x1294cb(0x73d)])[_0x1294cb(0x532)]('|');_0x372d64[_0x1294cb(0x61b)]=_0x1f044a;}let _0x2e7aff=_0x10cf0[_0x1294cb(0x3a8)]||_0x10cf0[_0x1294cb(0x45d)]||_0x10cf0[_0x1294cb(0x2ca)]||_0x10cf0[_0x1294cb(0x4f1)];if(_0x10cf0[_0x1294cb(0x639)]){let _0x4e811b=this[_0x1294cb(0x424)](JSON['stringify'](_0x10cf0[_0x1294cb(0x639)],null,0x2));_0x2e7aff=_0x2e7aff+'\x0a'+_0x4e811b;}if(_0x10cf0){let {displayName:_0x197a69,vcard:_0x35c35d,contactVcard:_0x34a87b,name:_0xe6bbe0,caption:_0x5a5979,conversation:_0x3fc7c4,pollCreationMessageKey:_0x238361,footerText:_0x480d6b,contentText:_0x5ecd94,pageCount:_0x16cb96,headerType:_0x1e135f,isAvatar:_0x15f247,isAnimated:_0x9edc3b,fallbackLc:_0x581d63,fallbackLg:_0x3fa0e8,namespace:_0x2b2673,elementName:_0x2a5758,localizableParams:_0x39c115,viewOnce:_0x16234a,height:_0x3770b1,width:_0x46a797,key:_0x5e8463,firstScanLength:_0x30a009,firstScanSidecar:_0x372c4e,gifPlayback:_0x13ec91,gifAttribution:_0x23bc3c,midQualityFileSha256:_0xc3eaac,scansSidecar:_0x3c2425,streamingSidecar:_0x2fae4b,thumbnailHeight:_0x2f59dd,thumbnailWidth:_0x45fe6d,thumbnailEncSha256:_0x24e7c9,thumbnailDirectPath:_0x46358b,canonicalUrl:_0x5c7561,matchedText:_0xd5bcd9,previewType:_0x2cc5ce,thumbnailSha256:_0x57a409,deviceListMetadataVersion:_0x50dc69,inviteLinkGroupTypeV2:_0x437b93,interactiveAnnotations:_0x1edfe6,scanLengths:_0x4d4c01,jpegThumbnail:_0x5299c3,url:_0x414fb8,mediaKeyTimestamp:_0x2cdd8c,waveform:_0x51abf0,stickerSentTs:_0x5f2888,firstFrameLength:_0xe7bf76,fileEncSha256:_0x20b621,contextInfo:_0x2e82da,firstFrameSidecar:_0x1eeb00,directPath:_0x586cc3,fileSha256:_0x21d03a,mediaKey:_0x5b36db,senderTimestampMs:_0x182683,..._0x130933}=_0x10cf0;typeof _0x10cf0==_0x1294cb(0x4c0)?_0x372d64={'text':_0x10cf0,'type':_0x2bdc6f||_0x1294cb(0x2ca),..._0x5278b8&&{'edited':_0x5278b8},..._0x54432b&&{'quoted':_0x54432b},..._0x2af0a8&&{'reaction':_0x2af0a8}}:_0x372d64={'text':_0x2e7aff,..._0x130933,..._0x2bdc6f===_0x1294cb(0x210)?{'poll_id':_0x10cf0[_0x1294cb(0x1af)]['id'],'vote':_0x4be597}:{},'type':_0x2bdc6f,..._0x5278b8&&{'edited':_0x5278b8},..._0x54432b&&{'quoted':_0x54432b},..._0x2af0a8&&{'reaction':_0x2af0a8},...(_0x2bdc6f==='pollCreationMessage'||_0x2bdc6f===_0x1294cb(0x736)||_0x2bdc6f===_0x1294cb(0x4fa))&&{'convertedOptions':_0x372d64['convertedOptions']}};}return{'messageType':_0x2bdc6f,'messageContent':_0x10cf0,'message_normalized':_0x372d64};},this[_0x2d844a(0x335)]=null,this['lastSend']=0x0,this[_0x2d844a(0x4df)]=null,(this[_0x2d844a(0x755)](),this[_0x2d844a(0x411)][_0x2d844a(0x304)]={'count':0x0});}set['instanceName'](_0x511fc8){const _0x255585=a0_0x5708fb;if(!_0x511fc8){this[_0x255585(0x411)][_0x255585(0x3a8)]=(0x0,Za['v4'])();return;}this[_0x255585(0x411)][_0x255585(0x3a8)]=_0x511fc8,this[_0x255585(0x2d4)](_0x255585(0x6c3),{'instance':this['instance'][_0x255585(0x3a8)],'status':_0x255585(0x376)});}get[a0_0x5708fb(0x4f0)](){const _0x4d72c1=a0_0x5708fb;return this[_0x4d72c1(0x411)][_0x4d72c1(0x3a8)];}get['wuid'](){const _0x1341ba=a0_0x5708fb;return this[_0x1341ba(0x411)][_0x1341ba(0x2d3)];}async[a0_0x5708fb(0x35a)](){const _0x45c9e0=a0_0x5708fb;let _0x443fec=this[_0x45c9e0(0x698)]['user']?.[_0x45c9e0(0x3a8)]??this[_0x45c9e0(0x698)][_0x45c9e0(0x2d7)]?.[_0x45c9e0(0x55d)];if(!_0x443fec){if(this['configService'][_0x45c9e0(0x1cd)](_0x45c9e0(0x18d))[_0x45c9e0(0x3e7)]){let _0x373693=await M[_0x45c9e0(0x292)]()['db'](this[_0x45c9e0(0x33c)]['get'](_0x45c9e0(0x18d))[_0x45c9e0(0x761)][_0x45c9e0(0x301)]+_0x45c9e0(0x266))[_0x45c9e0(0x26d)](this[_0x45c9e0(0x4f0)])[_0x45c9e0(0x5fc)]({'_id':_0x45c9e0(0x6ba)});if(_0x373693){let _0x3d6dde=JSON[_0x45c9e0(0x233)](JSON[_0x45c9e0(0x726)](_0x373693),w[_0x45c9e0(0x3ff)][_0x45c9e0(0x1dd)]);_0x443fec=_0x3d6dde['me']?.[_0x45c9e0(0x3a8)]||_0x3d6dde['me']?.['verifiedName'];}}else{if((0x0,Te[_0x45c9e0(0x458)])((0x0,$['join'])(V,this[_0x45c9e0(0x4f0)],_0x45c9e0(0x72c)))){let _0x16c924=JSON[_0x45c9e0(0x233)]((0x0,Te[_0x45c9e0(0x2a8)])((0x0,$['join'])(V,this['instanceName'],_0x45c9e0(0x72c)),{'encoding':_0x45c9e0(0x733)}));_0x443fec=_0x16c924['me']?.[_0x45c9e0(0x3a8)]||_0x16c924['me']?.[_0x45c9e0(0x55d)];}}}return _0x443fec;}get[a0_0x5708fb(0x5f9)](){const _0x4ef5ab=a0_0x5708fb;return this['instance'][_0x4ef5ab(0x5f9)];}get[a0_0x5708fb(0x656)](){const _0x1210a2=a0_0x5708fb;return{'code':this[_0x1210a2(0x411)]['qrcode']?.['code'],'base64':this['instance'][_0x1210a2(0x304)]?.[_0x1210a2(0x322)]};}async[a0_0x5708fb(0x426)](){const _0x1520a3=a0_0x5708fb;let _0x3391b7=await this[_0x1520a3(0x3ed)][_0x1520a3(0x3d7)]['find'](this[_0x1520a3(0x4f0)]);this['localWebhook']['url']=_0x3391b7?.[_0x1520a3(0x6b6)],this['localWebhook'][_0x1520a3(0x506)]=_0x3391b7?.[_0x1520a3(0x506)],this[_0x1520a3(0x4ae)][_0x1520a3(0x63a)]=_0x3391b7?.[_0x1520a3(0x63a)],this['localWebhook'][_0x1520a3(0x634)]=_0x3391b7?.[_0x1520a3(0x634)],this[_0x1520a3(0x4ae)]['QRCODE_UPDATED']=_0x3391b7?.[_0x1520a3(0x66b)],this[_0x1520a3(0x4ae)]['SEND_MESSAGE']=_0x3391b7?.['SEND_MESSAGE'],this[_0x1520a3(0x4ae)][_0x1520a3(0x652)]=_0x3391b7?.[_0x1520a3(0x652)],this[_0x1520a3(0x4ae)][_0x1520a3(0x314)]=_0x3391b7?.[_0x1520a3(0x314)],this[_0x1520a3(0x4ae)][_0x1520a3(0x616)]=_0x3391b7?.['GROUPS_UPSERT'],this[_0x1520a3(0x4ae)][_0x1520a3(0x626)]=_0x3391b7?.['GROUPS_UPDATE'],this['localWebhook'][_0x1520a3(0x627)]=_0x3391b7?.[_0x1520a3(0x627)],this['localWebhook'][_0x1520a3(0x4c7)]=_0x3391b7?.[_0x1520a3(0x4c7)],this['localWebhook'][_0x1520a3(0x32f)]=_0x3391b7?.[_0x1520a3(0x32f)],this[_0x1520a3(0x4ae)][_0x1520a3(0x1b0)]=_0x3391b7?.[_0x1520a3(0x1b0)],this['localWebhook'][_0x1520a3(0x73c)]=_0x3391b7?.[_0x1520a3(0x73c)],this[_0x1520a3(0x4ae)][_0x1520a3(0x514)]=_0x3391b7?.[_0x1520a3(0x514)],this[_0x1520a3(0x4ae)][_0x1520a3(0x20f)]=_0x3391b7?.['CONTACTS_UPSERT'],this['localWebhook'][_0x1520a3(0x746)]=_0x3391b7?.[_0x1520a3(0x746)],this[_0x1520a3(0x4ae)][_0x1520a3(0x3e8)]=_0x3391b7?.['PRESENCE_UPDATE'],this[_0x1520a3(0x4ae)][_0x1520a3(0x2cb)]=_0x3391b7?.[_0x1520a3(0x2cb)],this['localWebhook'][_0x1520a3(0x51e)]=_0x3391b7?.[_0x1520a3(0x51e)],this['localWebhook'][_0x1520a3(0x421)]=_0x3391b7?.[_0x1520a3(0x421)];}async['setWebhook'](_0x1b582f){const _0x21703d=a0_0x5708fb;let _0x2d6f91=[_0x21703d(0x1bf),_0x21703d(0x6b6),_0x21703d(0x506),_0x21703d(0x63a),_0x21703d(0x634),'QRCODE_UPDATED','MESSAGES_UPDATE',_0x21703d(0x652),_0x21703d(0x196),_0x21703d(0x616),_0x21703d(0x626),_0x21703d(0x627),_0x21703d(0x4c7),'CHATS_UPSERT',_0x21703d(0x1b0),_0x21703d(0x73c),_0x21703d(0x514),_0x21703d(0x20f),'CONTACTS_UPDATE',_0x21703d(0x3e8),_0x21703d(0x2cb),_0x21703d(0x51e),_0x21703d(0x421)],_0x2153c4={};return _0x2d6f91[_0x21703d(0x31e)](_0x4f49de=>{_0x1b582f[_0x4f49de]!==void 0x0&&(_0x2153c4[_0x4f49de]=_0x1b582f[_0x4f49de]);}),await this['repository']['webhook'][_0x21703d(0x770)](_0x2153c4,this[_0x21703d(0x4f0)]),Object[_0x21703d(0x73f)](this[_0x21703d(0x4ae)],_0x2153c4),await this['repository'][_0x21703d(0x3d7)][_0x21703d(0x2ff)](this[_0x21703d(0x4f0)]);}async[a0_0x5708fb(0x543)](){const _0x2759a8=a0_0x5708fb;return await this[_0x2759a8(0x3ed)][_0x2759a8(0x3d7)][_0x2759a8(0x2ff)](this['instanceName']);}async[a0_0x5708fb(0x2d4)](_0x4f5191,_0x134752){const _0x132fe6=a0_0x5708fb;let _0x1af408=this[_0x132fe6(0x33c)][_0x132fe6(0x1cd)](_0x132fe6(0x315)),_0x4195fb=_0x4f5191[_0x132fe6(0x2be)](/[\.-]/gm,'_')[_0x132fe6(0x4eb)](),_0x3cc47d=this[_0x132fe6(0x4ae)]['enabled']&&(0x0,_[_0x132fe6(0x3ce)])(this['localWebhook'][_0x132fe6(0x6b6)])?this[_0x132fe6(0x4ae)][_0x132fe6(0x6b6)]+(this[_0x132fe6(0x4ae)][_0x132fe6(0x63a)]?this[_0x132fe6(0x5e0)][_0x4f5191]:''):null,_0x523944=_0x1af408?.[_0x132fe6(0x3a2)],_0x1ab616=_0x523944&&_0x523944?.[_0x132fe6(0x3e7)]&&(0x0,_['isURL'])(_0x523944[_0x132fe6(0x651)])?_0x523944[_0x132fe6(0x651)]+(_0x1af408['WEBHOOK_MAP']?this[_0x132fe6(0x5e0)][_0x4f5191]:''):null,_0x2e7d47=this[_0x132fe6(0x4ae)][_0x4195fb],_0x2193e0=_0x1af408?.['EVENTS']?.[_0x4195fb];if(_0x2e7d47&&_0x3cc47d)try{await ce[_0x132fe6(0x19f)][_0x132fe6(0x770)]({'baseURL':_0x3cc47d})[_0x132fe6(0x5b9)]('',{'event':_0x4f5191,'instance':this['instance'][_0x132fe6(0x3a8)],'data':_0x134752}),this[_0x132fe6(0x45b)][_0x132fe6(0x525)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x4f5191+':\x20'+_0x3cc47d);}catch(_0x417cd4){this[_0x132fe6(0x45b)][_0x132fe6(0x4aa)](this[_0x132fe6(0x4f0)]+'\x20('+this[_0x132fe6(0x411)]['wuid']+_0x132fe6(0x2d5)+{'local':c['name']+_0x132fe6(0x417),'message':_0x417cd4?.['message'],'hostName':_0x417cd4?.[_0x132fe6(0x1bb)],'syscall':_0x417cd4?.[_0x132fe6(0x5e5)],'code':_0x417cd4?.[_0x132fe6(0x4ef)],'error':_0x417cd4?.[_0x132fe6(0x4cc)],'stack':_0x417cd4?.['stack'],'name':_0x417cd4?.[_0x132fe6(0x3a8)]});}if(_0x2193e0&&_0x1ab616)try{await ce[_0x132fe6(0x19f)]['create']({'baseURL':_0x1ab616})[_0x132fe6(0x5b9)]('',{'event':_0x4f5191,'instance':this['instance']['name'],'data':_0x134752}),this[_0x132fe6(0x45b)]['log'](_0x132fe6(0x2a6)+_0x4f5191+':\x20'+_0x1ab616);}catch(_0x75985b){this[_0x132fe6(0x45b)][_0x132fe6(0x4aa)](this[_0x132fe6(0x4f0)]+'\x20('+this[_0x132fe6(0x411)][_0x132fe6(0x2d3)]+'):\x20'+{'local':c[_0x132fe6(0x3a8)]+_0x132fe6(0x3c2),'message':_0x75985b?.[_0x132fe6(0x460)],'hostName':_0x75985b?.[_0x132fe6(0x1bb)],'syscall':_0x75985b?.[_0x132fe6(0x5e5)],'code':_0x75985b?.[_0x132fe6(0x4ef)],'error':_0x75985b?.[_0x132fe6(0x4cc)],'stack':_0x75985b?.[_0x132fe6(0x65e)],'name':_0x75985b?.[_0x132fe6(0x3a8)]});}}async[a0_0x5708fb(0x6d6)]({qr:_0x430383,connection:_0x42e275,lastDisconnect:_0x4d54e6}){const _0x533afb=a0_0x5708fb;if(_0x430383){if(this[_0x533afb(0x411)]['qrcode'][_0x533afb(0x3af)]===this[_0x533afb(0x33c)][_0x533afb(0x1cd)](_0x533afb(0x5e4))[_0x533afb(0x3dd)])return this[_0x533afb(0x2d4)](_0x533afb(0x324),{'message':_0x533afb(0x3c0),'statusCode':w[_0x533afb(0x552)][_0x533afb(0x581)]}),this[_0x533afb(0x2d4)](_0x533afb(0x5a8),{'instance':this['instance'][_0x533afb(0x3a8)],'state':_0x533afb(0x415),'statusReason':w[_0x533afb(0x552)]['connectionClosed']}),this['sendDataWebhook'](_0x533afb(0x6c3),{'instance':this[_0x533afb(0x411)]['name'],'status':'removed'}),this[_0x533afb(0x44c)]=!0x0,this[_0x533afb(0x709)]['emit'](_0x533afb(0x474),this[_0x533afb(0x411)][_0x533afb(0x3a8)]);this['instance']['qrcode'][_0x533afb(0x3af)]++;let _0x1a3414={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x533afb(0x3e6),'dark':_0x533afb(0x1b5)}};eo[_0x533afb(0x19f)]['toDataURL'](_0x430383,_0x1a3414,(_0x3211c,_0x40bf57)=>{const _0x164a18=_0x533afb;if(_0x3211c){this[_0x164a18(0x45b)]['error'](this[_0x164a18(0x4f0)]+'\x20('+this['instance'][_0x164a18(0x2d3)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+_0x3211c[_0x164a18(0x3f5)]());return;}this['instance'][_0x164a18(0x304)]['base64']=_0x40bf57,this[_0x164a18(0x411)][_0x164a18(0x304)]['code']=_0x430383,this['sendDataWebhook'](_0x164a18(0x324),{'qrcode':{'instance':this[_0x164a18(0x411)][_0x164a18(0x3a8)],'code':_0x430383,'base64':_0x40bf57}});}),to['default'][_0x533afb(0x646)](_0x430383,{'small':!0x0},_0x2113cf=>this['logger']['log'](_0x533afb(0x487)+this[_0x533afb(0x411)][_0x533afb(0x3a8)]+',\x20qrcodeCount:\x20'+this['instance']['qrcode'][_0x533afb(0x3af)]+_0x533afb(0x5c3)+_0x2113cf));}if(_0x42e275&&(this[_0x533afb(0x3c4)]={'state':_0x42e275,'statusReason':_0x4d54e6?.[_0x533afb(0x4aa)]?.[_0x533afb(0x724)]?.['statusCode']??0xc8},this[_0x533afb(0x2d4)](_0x533afb(0x5a8),{'instance':this['instance'][_0x533afb(0x3a8)],...this[_0x533afb(0x3c4)]})),_0x42e275===_0x533afb(0x222)){if(this[_0x533afb(0x286)]++,this[_0x533afb(0x358)]['push'](Date[_0x533afb(0x70a)]()),this[_0x533afb(0x358)]=this[_0x533afb(0x358)][_0x533afb(0x498)](_0x340ad4=>Date[_0x533afb(0x70a)]()-_0x340ad4<this[_0x533afb(0x679)]),_0x4d54e6[_0x533afb(0x4aa)]?.[_0x533afb(0x724)]?.[_0x533afb(0x2ec)]!==w[_0x533afb(0x552)][_0x533afb(0x59b)]&&this[_0x533afb(0x358)]['length']<=this[_0x533afb(0x72e)])await this[_0x533afb(0x47b)]();else{this[_0x533afb(0x2d4)](_0x533afb(0x6c3),{'instance':this[_0x533afb(0x411)][_0x533afb(0x3a8)],'status':_0x533afb(0x1f6)}),this[_0x533afb(0x63b)]=!0x1;try{this[_0x533afb(0x45b)][_0x533afb(0x60a)](this[_0x533afb(0x4f0)]+'\x20('+this['instance']['wuid']+_0x533afb(0x689));let _0x1836d1=await this[_0x533afb(0x3ed)][_0x533afb(0x460)]['deleteAll'](this[_0x533afb(0x411)][_0x533afb(0x2d3)]);_0x1836d1[_0x533afb(0x535)]?this[_0x533afb(0x45b)]['verbose'](this[_0x533afb(0x4f0)]+'\x20('+this[_0x533afb(0x411)]['wuid']+_0x533afb(0x57d)):console[_0x533afb(0x4aa)](_0x533afb(0x69d),_0x1836d1[_0x533afb(0x4aa)]);}catch(_0x436ff0){console[_0x533afb(0x4aa)](_0x533afb(0x2cf),_0x436ff0);}this[_0x533afb(0x5f1)]!==null&&(this[_0x533afb(0x45b)][_0x533afb(0x60a)](this[_0x533afb(0x4f0)]+'\x20('+this['instance']['wuid']+_0x533afb(0x35d)),clearInterval(this['delayMessage']),this[_0x533afb(0x5f1)]=null),this[_0x533afb(0x45b)]['verbose'](this[_0x533afb(0x4f0)]+'\x20('+this[_0x533afb(0x411)][_0x533afb(0x2d3)]+_0x533afb(0x5d7)),this['AutomateSystem']=null,this[_0x533afb(0x709)][_0x533afb(0x5e9)]('remove.instance',this['instance']['name'],_0x533afb(0x471)),this[_0x533afb(0x698)]?.['ws']?.[_0x533afb(0x222)](),this['client'][_0x533afb(0x4b6)](new Error(_0x533afb(0x248)));}}if(_0x42e275===_0x533afb(0x36f)){this[_0x533afb(0x6e6)],this[_0x533afb(0x411)][_0x533afb(0x2d3)]=this[_0x533afb(0x698)][_0x533afb(0x2d7)]['id'][_0x533afb(0x2be)](/:\d+/,'')['replace'](_0x533afb(0x1ba),''),this[_0x533afb(0x411)]['profilePictureUrl']=(await this['profilePicture'](this['instance'][_0x533afb(0x2d3)]+_0x533afb(0x1ba)))[_0x533afb(0x5f9)];let _0x2bb810=_0x533afb(0x2a5)+this[_0x533afb(0x411)]['wuid'],_0x2e7dbe=0x28,_0x17c74c=Math[_0x533afb(0x748)]((_0x2e7dbe-_0x2bb810[_0x533afb(0x695)])/0x2),_0x947c1b='\x20'['repeat'](_0x17c74c),_0x4ddd3e=_0x533afb(0x6ae),_0x50993c=_0x533afb(0x5a0)+this[_0x533afb(0x411)][_0x533afb(0x3a8)],_0x5e7d17=(''+_0x947c1b+_0x2bb810+_0x947c1b)[_0x533afb(0x1ae)](_0x2e7dbe,'\x20'),_0x13cb17=(''+_0x947c1b+_0x4ddd3e+_0x947c1b)['padEnd'](_0x2e7dbe,'\x20'),_0x4ef58b=(''+_0x947c1b+_0x50993c+_0x947c1b)[_0x533afb(0x1ae)](_0x2e7dbe,'\x20'),_0x50a299=Math[_0x533afb(0x1a3)](_0x5e7d17[_0x533afb(0x695)],_0x13cb17['length'],_0x4ef58b[_0x533afb(0x695)]),_0x269e5b=_0x5e7d17['padEnd'](_0x50a299,'\x20'),_0x52c8a9=_0x13cb17[_0x533afb(0x1ae)](_0x50a299,'\x20'),_0x1f9b8b=_0x4ef58b[_0x533afb(0x1ae)](_0x50a299,'\x20');this[_0x533afb(0x45b)][_0x533afb(0x190)]((_0x533afb(0x22e)+'─'['repeat'](_0x50a299)+_0x533afb(0x4a6)+_0x52c8a9+_0x533afb(0x5c1)+_0x1f9b8b+_0x533afb(0x5c1)+_0x269e5b+_0x533afb(0x408)+'─'[_0x533afb(0x321)](_0x50a299)+'┘')[_0x533afb(0x2be)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x533afb(0x63b)]=!0x0;}}['resetReconnectionVariables'](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async['getMessage'](_0x4da005,_0x41876f=!0x1){const _0x565d15=a0_0x5708fb;try{let _0x576ee9=await this[_0x565d15(0x3ed)][_0x565d15(0x460)][_0x565d15(0x2ff)]({'where':{'owner':this['instance'][_0x565d15(0x2d3)],'_id':_0x4da005['id']}});return _0x41876f?_0x576ee9[0x0]:_0x576ee9[0x0][_0x565d15(0x460)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x5525cb=a0_0x5708fb;let _0x24f835=this['configService'][_0x5525cb(0x1cd)](_0x5525cb(0x771)),_0x59d68d=this['configService'][_0x5525cb(0x1cd)](_0x5525cb(0x18d));_0x24f835?.['CLEANING_INTERVAL']&&!_0x59d68d[_0x5525cb(0x3e7)]&&setInterval(()=>{const _0x1d25cc=_0x5525cb;try{for(let [_0x443c1b,_0x49afd3]of Object[_0x1d25cc(0x23b)](_0x24f835))_0x49afd3===!0x0&&(0x0,Ot['execSync'])('rm\x20-rf\x20'+(0x0,$[_0x1d25cc(0x532)])(this['storePath'],_0x443c1b[_0x1d25cc(0x684)](),this['instance'][_0x1d25cc(0x2d3)])+_0x1d25cc(0x4b7));}catch{}},(_0x24f835?.[_0x5525cb(0x6c7)]??0xe10)*0x3e8);}async[a0_0x5708fb(0x2ac)](){const _0x577546=a0_0x5708fb;let _0xcece30=this[_0x577546(0x33c)]['get'](_0x577546(0x18d)),_0x57e4a0=this['configService'][_0x577546(0x1cd)](_0x577546(0x2b8));return _0x57e4a0?.[_0x577546(0x3e7)]?await ps(_0x57e4a0,this['instance'][_0x577546(0x3a8)]):_0xcece30['ENABLED']?await ds(this['instance'][_0x577546(0x3a8)]):await(0x0,w[_0x577546(0x42e)])((0x0,$[_0x577546(0x532)])(V,this['instance']['name']));}async[a0_0x5708fb(0x560)](){const _0x2a3be8=a0_0x5708fb;let _0x508df1=()=>Math[_0x2a3be8(0x748)](Math[_0x2a3be8(0x4fc)]()*0x2711)+0x7d0,_0x711c4b=async()=>{const _0x73d3ec=_0x2a3be8;if(!this['isConnected']){this[_0x73d3ec(0x45b)][_0x73d3ec(0x60a)](_0x73d3ec(0x3d1)),this[_0x73d3ec(0x65c)]=!0x1;return;}if(this[_0x73d3ec(0x411)][_0x73d3ec(0x2d3)]&&this[_0x73d3ec(0x76e)]&&this[_0x73d3ec(0x5f1)]!==null&&this[_0x73d3ec(0x5f1)]!==void 0x0){let _0x218a62=Math[_0x73d3ec(0x680)](this[_0x73d3ec(0x5f1)]/0xea60);this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x73d3ec(0x2d3)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x218a62+_0x73d3ec(0x45e)),this['isRunning']=!0x1;return;}else this[_0x73d3ec(0x411)][_0x73d3ec(0x2d3)]&&(this[_0x73d3ec(0x45b)][_0x73d3ec(0x60a)](this['instanceName']+'\x20('+this[_0x73d3ec(0x411)]['wuid']+_0x73d3ec(0x380)),this[_0x73d3ec(0x76e)]||await this[_0x73d3ec(0x6ef)](),(this['delayMessage']===null||this[_0x73d3ec(0x5f1)]===void 0x0)&&await this[_0x73d3ec(0x53c)]());if(this[_0x73d3ec(0x65c)]){let _0x323343=_0x508df1();this['logger'][_0x73d3ec(0x60a)](this['instanceName']+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x323343/0x3e8+_0x73d3ec(0x492)),setTimeout(_0x711c4b,_0x323343);}};if(this[_0x2a3be8(0x65c)])return;this[_0x2a3be8(0x65c)]=!0x0;let _0x1066f5=_0x508df1();setTimeout(_0x711c4b,_0x1066f5);}async[a0_0x5708fb(0x47b)](){const _0x449f78=a0_0x5708fb;try{this['loadWebhook'](),this[_0x449f78(0x411)]['authState']=await this[_0x449f78(0x2ac)]();let {version:_0x401ba9}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x1b7f97=this['configService'][_0x449f78(0x1cd)](_0x449f78(0x642)),_0x4ebc70=[_0x1b7f97['CLIENT'],_0x1b7f97[_0x449f78(0x69e)],(0x0,so[_0x449f78(0x37a)])()],_0x2ac73e={'auth':{'creds':this[_0x449f78(0x411)][_0x449f78(0x692)]['state'][_0x449f78(0x6ba)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x449f78(0x411)][_0x449f78(0x692)][_0x449f78(0x2f7)][_0x449f78(0x27b)],(0x0,Mt[_0x449f78(0x19f)])({'level':'error'}))},'logger':(0x0,Mt[_0x449f78(0x19f)])({'level':_0x449f78(0x4aa)}),'printQRInTerminal':!0x1,'browser':_0x4ebc70,'version':_0x401ba9,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x2eb85b=>await this[_0x449f78(0x751)](_0x2eb85b),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x449f78(0x1c2)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x527cf4=>(!!(_0x527cf4['buttonsMessage']||_0x527cf4[_0x449f78(0x240)])&&(_0x527cf4={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x527cf4}}}),_0x527cf4)};return this['endSession']=!0x1,this[_0x449f78(0x698)]=(0x0,w['default'])(_0x2ac73e),this['eventHandler'](),this[_0x449f78(0x698)];}catch(_0x53f3e9){throw this[_0x449f78(0x45b)][_0x449f78(0x4aa)](this[_0x449f78(0x4f0)]+'\x20('+this['instance'][_0x449f78(0x2d3)]+_0x449f78(0x2d5)+_0x53f3e9),new A(_0x53f3e9?.['toString']());}}[a0_0x5708fb(0x3f7)](){const _0x1c5caf=a0_0x5708fb;this[_0x1c5caf(0x698)]['ev'][_0x1c5caf(0x459)](_0xf5760e=>{const _0x5d538f=_0x1c5caf;if(!this['endSession']){let _0x515fdc=this[_0x5d538f(0x33c)][_0x5d538f(0x1cd)](_0x5d538f(0x18d));if(_0xf5760e[_0x5d538f(0x5a8)]&&this[_0x5d538f(0x6d6)](_0xf5760e[_0x5d538f(0x5a8)]),_0xf5760e[_0x5d538f(0x219)]&&this[_0x5d538f(0x411)][_0x5d538f(0x692)][_0x5d538f(0x251)](),_0xf5760e[_0x5d538f(0x754)]){let _0x165913=_0xf5760e[_0x5d538f(0x754)];this['messageHandle']['messaging-history.set'](_0x165913,_0x515fdc);}if(_0xf5760e[_0x5d538f(0x49e)]){let _0x11b90a=_0xf5760e[_0x5d538f(0x49e)];this['messageHandle'][_0x5d538f(0x49e)](_0x11b90a,_0x515fdc);}if(_0xf5760e['messages.update']){let _0x3c423c=_0xf5760e[_0x5d538f(0x63d)];this[_0x5d538f(0x561)][_0x5d538f(0x63d)](_0x3c423c,_0x515fdc);}if(_0xf5760e[_0x5d538f(0x35c)]){let _0x3ed661=_0xf5760e[_0x5d538f(0x35c)];if(this[_0x5d538f(0x4ae)]?.['groups_ignore']&&_0x3ed661['id'][_0x5d538f(0x3b1)](_0x5d538f(0x767)))return;this[_0x5d538f(0x2d4)](_0x5d538f(0x35c),_0x3ed661);}if(!this['localWebhook']?.[_0x5d538f(0x421)]){if(_0xf5760e['groups.upsert']){let _0x1bb6b2=_0xf5760e[_0x5d538f(0x738)];this['groupHandler'][_0x5d538f(0x738)](_0x1bb6b2);}if(_0xf5760e['groups.update']){let _0x5f357f=_0xf5760e[_0x5d538f(0x63e)];this[_0x5d538f(0x49a)][_0x5d538f(0x63e)](_0x5f357f);}if(_0xf5760e[_0x5d538f(0x2d8)]){let _0x57a601=_0xf5760e[_0x5d538f(0x2d8)];this['groupHandler'][_0x5d538f(0x2d8)](_0x57a601);}}if(_0xf5760e[_0x5d538f(0x4d2)]){let _0x533558=_0xf5760e[_0x5d538f(0x4d2)];this[_0x5d538f(0x762)][_0x5d538f(0x4d2)](_0x533558,_0x515fdc);}if(_0xf5760e[_0x5d538f(0x643)]){let _0x43bb37=_0xf5760e[_0x5d538f(0x643)];this['chatHandle']['chats.update'](_0x43bb37,_0x515fdc);}if(_0xf5760e[_0x5d538f(0x5e8)]){let _0x3e7c90=_0xf5760e[_0x5d538f(0x5e8)];this[_0x5d538f(0x762)][_0x5d538f(0x5e8)](_0x3e7c90);}if(_0xf5760e[_0x5d538f(0x2cd)]){let _0x15d3b3=_0xf5760e['contacts.upsert'];this[_0x5d538f(0x398)]['contacts.upsert'](_0x15d3b3,_0x515fdc);}if(_0xf5760e[_0x5d538f(0x48c)]){let _0x196164=_0xf5760e[_0x5d538f(0x48c)];this['contactHandle'][_0x5d538f(0x48c)](_0x196164,_0x515fdc);}}});}[a0_0x5708fb(0x47a)](_0x573a83){const _0x201097=a0_0x5708fb;let _0x176049=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x201097(0x599)](_0x573a83);if(_0x176049&&_0x176049[0x1]==='55'){let _0x291971=_0x176049[0x2],_0x136885=_0x176049[0x3],_0x352256=_0x176049[0x4];if(_0x291971>='31'&&_0x136885==='9')return _0x176049[0x1]+_0x291971+_0x352256;}return _0x573a83;}[a0_0x5708fb(0x433)](_0x4f0099){const _0x8ee9d8=a0_0x5708fb;return _0x4f0099[_0x8ee9d8(0x3b1)](_0x8ee9d8(0x767))||_0x4f0099['includes'](_0x8ee9d8(0x1ba))||_0x4f0099[_0x8ee9d8(0x3b1)](_0x8ee9d8(0x32a))?_0x4f0099:(_0x4f0099=_0x4f0099?.[_0x8ee9d8(0x2be)](/\s/g,'')[_0x8ee9d8(0x2be)](/\+/g,'')[_0x8ee9d8(0x2be)](/\(/g,'')[_0x8ee9d8(0x2be)](/\)/g,'')['split'](/\:/)[0x0][_0x8ee9d8(0x3bd)]('@')[0x0],_0x4f0099[_0x8ee9d8(0x695)]>=0x12?(_0x4f0099=_0x4f0099[_0x8ee9d8(0x2be)](/[^\d-]/g,''),_0x4f0099+'@g.us'):(_0x4f0099=_0x4f0099[_0x8ee9d8(0x2be)](/\D/g,''),this[_0x8ee9d8(0x47a)](_0x4f0099)+_0x8ee9d8(0x1ba)));}async[a0_0x5708fb(0x640)](_0x2d2bff){const _0x2fe909=a0_0x5708fb;let _0x28fad1=this['createJid'](_0x2d2bff[_0x2fe909(0x682)]),_0x6c32c=(await this['whatsappNumber']({'numbers':[_0x28fad1]}))[0x0];if(!_0x6c32c[_0x2fe909(0x4a3)]&&!(0x0,w[_0x2fe909(0x72d)])(_0x6c32c[_0x2fe909(0x6d1)]))throw new g(_0x6c32c);let _0x5d87d8=(0x0,w[_0x2fe909(0x72d)])(_0x28fad1)?_0x28fad1:_0x6c32c['jid'];if((0x0,w[_0x2fe909(0x72d)])(_0x5d87d8))try{await this[_0x2fe909(0x698)]['groupMetadata'](_0x5d87d8);}catch{throw new x(_0x2fe909(0x5f2));}try{return await this['client']['presenceSubscribe'](_0x5d87d8),await this[_0x2fe909(0x698)][_0x2fe909(0x1f8)](_0x2d2bff[_0x2fe909(0x6c4)],_0x28fad1),{'status':0xc8,'presence':_0x2d2bff['presence']};}catch(_0x2d1a4d){throw new g(_0x2d1a4d[_0x2fe909(0x3f5)]());}}async[a0_0x5708fb(0x5ea)](_0x3eea58){const _0x384a49=a0_0x5708fb;let _0x3e1571=this[_0x384a49(0x433)](_0x3eea58);try{return{'wuid':_0x3e1571,'profilePictureUrl':await this[_0x384a49(0x698)][_0x384a49(0x5f9)](_0x3e1571,_0x384a49(0x28b))};}catch{return{'wuid':_0x3e1571,'profilePictureUrl':null};}}async[a0_0x5708fb(0x6ec)](_0x55864a,_0x11ca0a,_0x373260){const _0x401e63=a0_0x5708fb;let _0x48c910=(await this['whatsappNumber']({'numbers':[_0x55864a]}))[0x0];if(!_0x48c910[_0x401e63(0x4a3)]&&!(0x0,w['isJidGroup'])(_0x48c910[_0x401e63(0x6d1)])&&!_0x48c910[_0x401e63(0x6d1)][_0x401e63(0x3b1)]('@broadcast'))throw new g(_0x48c910);let _0x234ed1=_0x48c910[_0x401e63(0x6d1)];try{_0x373260?.['delay']&&(await this['client'][_0x401e63(0x5fa)](_0x234ed1),await this[_0x401e63(0x698)]['sendPresenceUpdate'](_0x373260?.[_0x401e63(0x6c4)]??'composing',_0x234ed1),await(0x0,w['delay'])(_0x373260[_0x401e63(0x2e0)]),await this[_0x401e63(0x698)][_0x401e63(0x1f8)](_0x401e63(0x391),_0x234ed1));let _0x1f50e1=_0x373260?.[_0x401e63(0x291)]!=!0x1?void 0x0:!0x1,_0x26580c;if(_0x373260?.[_0x401e63(0x64e)]){let _0x374c3d=_0x373260?.[_0x401e63(0x64e)],_0x5860ec=_0x374c3d?.[_0x401e63(0x460)]?_0x374c3d:await this['getMessage'](_0x374c3d['key'],!0x0);if(!_0x5860ec)throw _0x401e63(0x553);_0x26580c=_0x5860ec;}let _0x28335b;if((0x0,w[_0x401e63(0x72d)])(_0x234ed1))try{let _0x384618=await this[_0x401e63(0x698)][_0x401e63(0x649)](_0x234ed1);if(!_0x384618)throw new x(_0x401e63(0x5f2));_0x373260?.[_0x401e63(0x43e)]&&(_0x373260[_0x401e63(0x43e)]?.[_0x401e63(0x448)]?_0x28335b=_0x384618[_0x401e63(0x6b8)]['map'](_0x47b6e7=>_0x47b6e7['id']):_0x373260['mentions']?.['mentioned']?.[_0x401e63(0x695)]&&(_0x28335b=_0x373260[_0x401e63(0x43e)]['mentioned'][_0x401e63(0x2ee)](_0x18ff94=>{const _0x208923=_0x401e63;let _0x452f02=this[_0x208923(0x433)](_0x18ff94);return(0x0,w[_0x208923(0x72d)])(_0x452f02)?null:_0x452f02;})));}catch{throw new x(_0x401e63(0x5f2));}let _0x3d2a4d=await((async()=>{const _0x29c193=_0x401e63;let _0x18818c={'quoted':_0x26580c};if(!_0x11ca0a[_0x29c193(0x3f1)]&&!_0x11ca0a[_0x29c193(0x53a)]&&!_0x11ca0a[_0x29c193(0x1e7)]&&!_0x11ca0a[_0x29c193(0x2ca)]&&_0x234ed1!==_0x29c193(0x34d)&&!_0x11ca0a[_0x29c193(0x3f1)])return await this[_0x29c193(0x698)][_0x29c193(0x5be)](_0x234ed1,{'forward':{'key':{'remoteJid':this[_0x29c193(0x411)]['wuid'],'fromMe':!0x0},'message':_0x11ca0a},'mentions':_0x28335b},_0x18818c);if(_0x11ca0a[_0x29c193(0x2ca)]){let _0x2f3147=_0x11ca0a[_0x29c193(0x2ca)];return _0x373260?.['changeVariables']&&(_0x2f3147=await this[_0x29c193(0x1c1)](_0x2f3147,_0x234ed1)),await this['client'][_0x29c193(0x5be)](_0x234ed1,{'text':_0x2f3147,'mentions':_0x28335b,'linkPreview':_0x1f50e1},_0x18818c);}return _0x234ed1===_0x29c193(0x34d)?await this[_0x29c193(0x698)][_0x29c193(0x5be)](_0x234ed1,_0x11ca0a['status'][_0x29c193(0x5eb)],{'backgroundColor':_0x11ca0a[_0x29c193(0x284)][_0x29c193(0x722)]['backgroundColor'],'font':_0x11ca0a[_0x29c193(0x284)]['option'][_0x29c193(0x353)],'statusJidList':_0x11ca0a[_0x29c193(0x284)][_0x29c193(0x722)][_0x29c193(0x43f)]}):await this[_0x29c193(0x698)]['sendMessage'](_0x234ed1,_0x11ca0a,_0x18818c);})()),{message_normalized:_0x33275d}=this[_0x401e63(0x524)](_0x3d2a4d[_0x401e63(0x460)],G(_0x3d2a4d[_0x401e63(0x460)]),null),_0x17d14f={'_id':_0x3d2a4d[_0x401e63(0x6b9)]['id'],'key':_0x3d2a4d[_0x401e63(0x6b9)],'pushName':_0x3d2a4d[_0x401e63(0x404)],'message':{..._0x3d2a4d[_0x401e63(0x460)]},'messageType':G(_0x3d2a4d[_0x401e63(0x460)]),'message_normalized':{'key':_0x3d2a4d['key'],'pushName':_0x3d2a4d[_0x401e63(0x404)],'messageTimestamp':_0x3d2a4d[_0x401e63(0x6c0)]&&_0x3d2a4d['messageTimestamp'][_0x401e63(0x3f5)]()[_0x401e63(0x695)]<0xd?_0x3d2a4d['messageTimestamp']*0x3e8:_0x3d2a4d[_0x401e63(0x6c0)]||null,'source':(0x0,w[_0x401e63(0x5ba)])(_0x3d2a4d[_0x401e63(0x6b9)]['id']),..._0x33275d},'messageTimestamp':_0x3d2a4d[_0x401e63(0x6c0)]&&_0x3d2a4d['messageTimestamp'][_0x401e63(0x3f5)]()['length']<0xd?_0x3d2a4d[_0x401e63(0x6c0)]*0x3e8:_0x3d2a4d[_0x401e63(0x6c0)]||null,'owner':this[_0x401e63(0x411)][_0x401e63(0x2d3)],'source':(0x0,w[_0x401e63(0x5ba)])(_0x3d2a4d[_0x401e63(0x6b9)]['id'])};return this[_0x401e63(0x45b)]['log'](_0x17d14f),await this[_0x401e63(0x2d4)](_0x401e63(0x3aa),_0x17d14f),B(this[_0x401e63(0x4f0)],_0x401e63(0x740),{'message':_0x17d14f}),this['updateChatWithMessage'](this['configService']['get'](_0x401e63(0x18d)),_0x17d14f,_0x401e63(0x196)),await this[_0x401e63(0x3ed)][_0x401e63(0x460)][_0x401e63(0x5f7)]([_0x17d14f]),_0x3d2a4d;}catch(_0x48c34d){throw this[_0x401e63(0x45b)][_0x401e63(0x4aa)](this['instanceName']+'\x20('+this[_0x401e63(0x411)][_0x401e63(0x2d3)]+_0x401e63(0x2d5)+_0x48c34d['toString']()),new g(_0x48c34d[_0x401e63(0x3f5)]());}}get[a0_0x5708fb(0x540)](){const _0x2de493=a0_0x5708fb;return this[_0x2de493(0x3c4)];}async[a0_0x5708fb(0x1ed)](_0x52dbdf){const _0x20f6b2=a0_0x5708fb;let _0x6c53a8=this[_0x20f6b2(0x33c)][_0x20f6b2(0x1cd)]('TRIAL_AD'),_0x3dcead=this[_0x20f6b2(0x33c)][_0x20f6b2(0x1cd)](_0x20f6b2(0x2a4));return _0x3dcead&&this[_0x20f6b2(0x4f0)][_0x20f6b2(0x684)]()['includes'](_0x3dcead[_0x20f6b2(0x684)]())&&(_0x52dbdf['textMessage'][_0x20f6b2(0x2ce)]+='\x0a\x0a'+_0x6c53a8),await this['sendMessageWithTyping'](_0x52dbdf[_0x20f6b2(0x682)],{'conversation':_0x52dbdf[_0x20f6b2(0x1ed)][_0x20f6b2(0x2ce)]},_0x52dbdf?.[_0x20f6b2(0x436)]);}async[a0_0x5708fb(0x766)](_0x38eaf4){const _0x4c2937=a0_0x5708fb;if(!_0x38eaf4['type'])throw new g(_0x4c2937(0x504));if(!_0x38eaf4[_0x4c2937(0x5eb)])throw new g(_0x4c2937(0x65d));if(_0x38eaf4[_0x4c2937(0x339)]){let _0x29f1a5=await this[_0x4c2937(0x3ed)]['contact'][_0x4c2937(0x2ff)]({'where':{'owner':this['instance']['wuid']}});if(!_0x29f1a5[_0x4c2937(0x695)])throw new g(_0x4c2937(0x42b));_0x38eaf4[_0x4c2937(0x43f)]=_0x29f1a5[_0x4c2937(0x498)](_0xf20e40=>_0xf20e40[_0x4c2937(0x404)])[_0x4c2937(0x2ee)](_0x3ba1db=>_0x3ba1db[_0x4c2937(0x1bf)]);}if(!_0x38eaf4[_0x4c2937(0x43f)]?.['length']&&!_0x38eaf4['allContacts'])throw new g(_0x4c2937(0x456));if(_0x38eaf4[_0x4c2937(0x2af)]===_0x4c2937(0x2ce)){if(!_0x38eaf4[_0x4c2937(0x22d)])throw new g(_0x4c2937(0x2e3));if(!_0x38eaf4['font'])throw new g(_0x4c2937(0x5b0));return{'content':{'text':_0x38eaf4[_0x4c2937(0x5eb)]},'option':{'backgroundColor':_0x38eaf4[_0x4c2937(0x22d)],'font':_0x38eaf4[_0x4c2937(0x353)],'statusJidList':_0x38eaf4[_0x4c2937(0x43f)]}};}if(_0x38eaf4[_0x4c2937(0x2af)]===_0x4c2937(0x28b))return{'content':{'image':{'url':_0x38eaf4[_0x4c2937(0x5eb)]},'caption':_0x38eaf4[_0x4c2937(0x45d)]},'option':{'statusJidList':_0x38eaf4[_0x4c2937(0x43f)]}};if(_0x38eaf4[_0x4c2937(0x2af)]==='video')return{'content':{'video':{'url':_0x38eaf4[_0x4c2937(0x5eb)]},'caption':_0x38eaf4[_0x4c2937(0x45d)]},'option':{'statusJidList':_0x38eaf4[_0x4c2937(0x43f)]}};if(_0x38eaf4[_0x4c2937(0x2af)]===_0x4c2937(0x3f1)){this[_0x4c2937(0x45b)]['verbose'](_0x4c2937(0x502)),this[_0x4c2937(0x45b)][_0x4c2937(0x60a)](_0x4c2937(0x52f));let _0x315770=await this['convertaudio'](_0x38eaf4['content']);if(typeof _0x315770=='string'){this['logger']['verbose']('Audio\x20processed');let _0x30d0e1=P[_0x4c2937(0x2a8)](_0x315770)['toString'](_0x4c2937(0x322)),_0xd5d7e6={'content':{'audio':Buffer[_0x4c2937(0x6bc)](_0x30d0e1,_0x4c2937(0x322)),'ptt':!0x0,'mimetype':_0x4c2937(0x31d)},'option':{'statusJidList':_0x38eaf4[_0x4c2937(0x43f)]}};return P[_0x4c2937(0x2a9)](_0x315770),_0xd5d7e6;}else throw new A(_0x315770);}throw new g(_0x4c2937(0x26e));}async[a0_0x5708fb(0x1ab)](_0x30a79b){const _0x5114c7=a0_0x5708fb;return await this[_0x5114c7(0x6ec)]('status@broadcast',{'status':await this[_0x5114c7(0x766)](_0x30a79b[_0x5114c7(0x1ab)])});}async[a0_0x5708fb(0x21b)](_0x328e58){const _0x7c9ee7=a0_0x5708fb;try{let _0x1df5d2=await(0x0,w['prepareWAMessageMedia'])({[_0x328e58[_0x7c9ee7(0x30c)]]:(0x0,_['isURL'])(_0x328e58[_0x7c9ee7(0x223)])?{'url':_0x328e58[_0x7c9ee7(0x223)]}:Buffer[_0x7c9ee7(0x6bc)](_0x328e58[_0x7c9ee7(0x223)],_0x7c9ee7(0x322))},{'upload':this[_0x7c9ee7(0x698)][_0x7c9ee7(0x489)]}),_0x1ef00b=_0x328e58[_0x7c9ee7(0x30c)]+'Message';if(_0x328e58[_0x7c9ee7(0x30c)]===_0x7c9ee7(0x46f)&&!_0x328e58[_0x7c9ee7(0x6af)]){let _0x409b0b=new RegExp(/.*\/(.+?)\./)[_0x7c9ee7(0x599)](_0x328e58[_0x7c9ee7(0x223)]);_0x328e58[_0x7c9ee7(0x6af)]=_0x409b0b?_0x409b0b[0x1]:null;}let _0x142e8b=(0x0,_['isURL'])(_0x328e58[_0x7c9ee7(0x223)])?_0x328e58['media']['split']('?')[0x0]:_0x328e58['media'];this[_0x7c9ee7(0x45b)][_0x7c9ee7(0x60a)]('URL\x20limpa:\x20'+_0x142e8b);let _0x6928b7;_0x328e58[_0x7c9ee7(0x6af)]?_0x6928b7=(0x0,At[_0x7c9ee7(0x3c7)])(_0x328e58[_0x7c9ee7(0x6af)]):(0x0,_[_0x7c9ee7(0x3ce)])(_0x328e58[_0x7c9ee7(0x223)])?_0x6928b7=(0x0,At['getMIMEType'])(_0x142e8b):_0x6928b7=(0x0,At['getMIMEType'])(_0x328e58[_0x7c9ee7(0x223)]);let _0x231c74=this[_0x7c9ee7(0x33c)][_0x7c9ee7(0x1cd)](_0x7c9ee7(0x61a)),_0x57523f=this[_0x7c9ee7(0x33c)][_0x7c9ee7(0x1cd)]('TRIAL_INSTANCE_NAME');return _0x57523f&&this[_0x7c9ee7(0x4f0)][_0x7c9ee7(0x684)]()[_0x7c9ee7(0x3b1)](_0x57523f[_0x7c9ee7(0x684)]())&&(_0x328e58[_0x7c9ee7(0x45d)]+='\x0a\x0a'+_0x231c74),_0x1df5d2[_0x1ef00b][_0x7c9ee7(0x45d)]=_0x328e58?.[_0x7c9ee7(0x45d)],_0x1df5d2[_0x1ef00b][_0x7c9ee7(0x606)]=_0x6928b7,_0x1df5d2[_0x1ef00b][_0x7c9ee7(0x6af)]=_0x328e58['fileName'],_0x328e58[_0x7c9ee7(0x30c)]===_0x7c9ee7(0x419)&&(_0x1df5d2[_0x1ef00b][_0x7c9ee7(0x6b7)]=Uint8Array[_0x7c9ee7(0x6bc)]((0x0,Te[_0x7c9ee7(0x2a8)])((0x0,$[_0x7c9ee7(0x532)])(process['cwd'](),'video-cover.png'))),_0x1df5d2[_0x1ef00b][_0x7c9ee7(0x4fe)]=!0x1),(0x0,w[_0x7c9ee7(0x261)])('',{[_0x1ef00b]:{..._0x1df5d2[_0x1ef00b]}},{'userJid':this[_0x7c9ee7(0x411)][_0x7c9ee7(0x2d3)]});}catch(_0x1a361a){throw this[_0x7c9ee7(0x45b)][_0x7c9ee7(0x4aa)](this[_0x7c9ee7(0x4f0)]+'\x20('+this[_0x7c9ee7(0x411)][_0x7c9ee7(0x2d3)]+_0x7c9ee7(0x2d5)+_0x1a361a),new A(_0x1a361a?.['toString']()||_0x1a361a);}}async['mediaMessage'](_0x500136){const _0x288b20=a0_0x5708fb;let _0x27805b=await this[_0x288b20(0x21b)](_0x500136[_0x288b20(0x194)]);return await this['sendMessageWithTyping'](_0x500136['number'],{..._0x27805b[_0x288b20(0x460)]},_0x500136?.['options']);}async[a0_0x5708fb(0x38c)](_0x56aaad,_0x42dda){const _0x3db467=a0_0x5708fb;try{this[_0x3db467(0x45b)][_0x3db467(0x60a)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x51862f,_0x1de6dc=_0x42dda+'-'+new Date()['getTime']();this[_0x3db467(0x45b)][_0x3db467(0x60a)]('Hash\x20to\x20image\x20name:\x20'+_0x1de6dc);let _0xed6780=''+(0x0,$[_0x3db467(0x532)])(this[_0x3db467(0x250)],_0x1de6dc+_0x3db467(0x5e7));if(this['logger']['verbose']('Output\x20path:\x20'+_0xed6780),(0x0,_[_0x3db467(0x365)])(_0x56aaad)){this['logger'][_0x3db467(0x60a)](_0x3db467(0x558));let _0x41fc43=_0x56aaad[_0x3db467(0x2be)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x17e82d=Buffer['from'](_0x41fc43,_0x3db467(0x322));_0x51862f=''+(0x0,$[_0x3db467(0x532)])(this['storePath'],_0x3db467(0x753)+_0x1de6dc+_0x3db467(0x654)),this[_0x3db467(0x45b)][_0x3db467(0x60a)](_0x3db467(0x1c8)+_0x51862f),await(0x0,Dt['default'])(_0x17e82d)[_0x3db467(0x229)](_0x51862f),this[_0x3db467(0x45b)]['verbose'](_0x3db467(0x6c6));}else{this['logger'][_0x3db467(0x60a)](_0x3db467(0x686));let _0x5204ea=new Date()[_0x3db467(0x425)](),_0x2877ad=_0x56aaad+_0x3db467(0x2b5)+_0x5204ea;this['logger']['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x2877ad);let _0x51db24=await ce['default'][_0x3db467(0x1cd)](_0x2877ad,{'responseType':_0x3db467(0x718)});this[_0x3db467(0x45b)][_0x3db467(0x60a)](_0x3db467(0x6e1));let _0x58750f=Buffer[_0x3db467(0x6bc)](_0x51db24[_0x3db467(0x743)],_0x3db467(0x612));_0x51862f=''+(0x0,$['join'])(this['storePath'],_0x3db467(0x753)+_0x1de6dc+'.png'),this[_0x3db467(0x45b)][_0x3db467(0x60a)](_0x3db467(0x1c8)+_0x51862f),await(0x0,Dt['default'])(_0x58750f)[_0x3db467(0x229)](_0x51862f),this[_0x3db467(0x45b)][_0x3db467(0x60a)](_0x3db467(0x6c6));}return await(0x0,Dt['default'])(_0x51862f)[_0x3db467(0x24d)]()['toFile'](_0xed6780),this[_0x3db467(0x45b)][_0x3db467(0x60a)](_0x3db467(0x6dd)),P[_0x3db467(0x2a9)](_0x51862f),this[_0x3db467(0x45b)][_0x3db467(0x60a)](_0x3db467(0x342)),_0xed6780;}catch(_0x1ce4f8){console[_0x3db467(0x4aa)](_0x3db467(0x607),_0x1ce4f8);}}async['mediaSticker'](_0x114565){const _0x24da8a=a0_0x5708fb;let _0x428691=await this[_0x24da8a(0x38c)](_0x114565['stickerMessage'][_0x24da8a(0x28b)],_0x114565[_0x24da8a(0x682)]),_0x1a6e5c=await this[_0x24da8a(0x6ec)](_0x114565[_0x24da8a(0x682)],{'sticker':{'url':_0x428691}},_0x114565?.[_0x24da8a(0x436)]);return P[_0x24da8a(0x2a9)](_0x428691),this['logger']['verbose'](_0x24da8a(0x629)),_0x1a6e5c;}async[a0_0x5708fb(0x5ab)](_0x5bda41){const _0x20fd0b=a0_0x5708fb;if(this[_0x20fd0b(0x45b)][_0x20fd0b(0x60a)]('Sending\x20audio\x20whatsapp'),!_0x5bda41[_0x20fd0b(0x436)]?.['encoding']&&_0x5bda41['options']?.['encoding']!==!0x1&&(_0x5bda41[_0x20fd0b(0x436)]['encoding']=!0x0),_0x5bda41['options']?.[_0x20fd0b(0x659)]){let _0x188058=await this[_0x20fd0b(0x6a3)](_0x5bda41[_0x20fd0b(0x42c)][_0x20fd0b(0x3f1)]);if(typeof _0x188058==_0x20fd0b(0x4c0)){let _0x464dbe=P['readFileSync'](_0x188058)[_0x20fd0b(0x3f5)]('base64'),_0x433ca8=this['sendMessageWithTyping'](_0x5bda41[_0x20fd0b(0x682)],{'audio':Buffer[_0x20fd0b(0x6bc)](_0x464dbe,_0x20fd0b(0x322)),'ptt':!0x0,'mimetype':_0x20fd0b(0x31d)},{'presence':_0x20fd0b(0x5a7),'delay':_0x5bda41?.[_0x20fd0b(0x436)]?.[_0x20fd0b(0x2e0)]});return P[_0x20fd0b(0x2a9)](_0x188058),this[_0x20fd0b(0x45b)][_0x20fd0b(0x60a)](_0x20fd0b(0x6f5)),_0x433ca8;}else throw new A(_0x188058);}return await this['sendMessageWithTyping'](_0x5bda41[_0x20fd0b(0x682)],{'audio':(0x0,_[_0x20fd0b(0x3ce)])(_0x5bda41[_0x20fd0b(0x42c)][_0x20fd0b(0x3f1)])?{'url':_0x5bda41[_0x20fd0b(0x42c)][_0x20fd0b(0x3f1)]}:Buffer[_0x20fd0b(0x6bc)](_0x5bda41[_0x20fd0b(0x42c)]['audio'],_0x20fd0b(0x322)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x20fd0b(0x5a7),'delay':_0x5bda41?.[_0x20fd0b(0x436)]?.[_0x20fd0b(0x2e0)]});}async[a0_0x5708fb(0x6a3)](_0x33ede9){const _0x367abe=a0_0x5708fb;this['logger'][_0x367abe(0x60a)](_0x367abe(0x52f));let _0xcc9f35,_0x5c3809,_0x2adbdb=(0x0,It['v4'])();if(this[_0x367abe(0x45b)][_0x367abe(0x60a)](_0x367abe(0x6e5)+_0x2adbdb),(0x0,_[_0x367abe(0x3ce)])(_0x33ede9)){this['logger'][_0x367abe(0x60a)](_0x367abe(0x2e2)),_0x5c3809=''+(0x0,$[_0x367abe(0x532)])(this[_0x367abe(0x250)],_0x2adbdb+'.mp4'),_0xcc9f35=''+(0x0,$[_0x367abe(0x532)])(this[_0x367abe(0x250)],_0x367abe(0x753)+_0x2adbdb+_0x367abe(0x5aa)),this[_0x367abe(0x45b)]['verbose'](_0x367abe(0x21c)+_0x5c3809),this[_0x367abe(0x45b)][_0x367abe(0x60a)](_0x367abe(0x653)+_0xcc9f35);let _0x2dd72e=new Date()[_0x367abe(0x425)](),_0x4b544b=_0x33ede9+_0x367abe(0x2b5)+_0x2dd72e;this[_0x367abe(0x45b)][_0x367abe(0x60a)]('Including\x20timestamp\x20in\x20url:\x20'+_0x4b544b);let _0x4b4976=await ce[_0x367abe(0x19f)]['get'](_0x4b544b,{'responseType':_0x367abe(0x718)});this[_0x367abe(0x45b)][_0x367abe(0x60a)](_0x367abe(0x714)),P['writeFileSync'](_0xcc9f35,_0x4b4976[_0x367abe(0x743)]);}else{this[_0x367abe(0x45b)][_0x367abe(0x60a)](_0x367abe(0x4a0)),_0x5c3809=''+(0x0,$[_0x367abe(0x532)])(this['storePath'],_0x2adbdb+_0x367abe(0x5d2)),_0xcc9f35=''+(0x0,$[_0x367abe(0x532)])(this[_0x367abe(0x250)],_0x367abe(0x753)+_0x2adbdb+'.mp3'),this[_0x367abe(0x45b)][_0x367abe(0x60a)](_0x367abe(0x21c)+_0x5c3809),this[_0x367abe(0x45b)][_0x367abe(0x60a)](_0x367abe(0x653)+_0xcc9f35);let _0x59b01d=Buffer['from'](_0x33ede9,'base64');P[_0x367abe(0x348)](_0xcc9f35,_0x59b01d),this['logger'][_0x367abe(0x60a)](_0x367abe(0x693));}return this[_0x367abe(0x45b)]['verbose'](_0x367abe(0x580)),new Promise((_0x1599bd,_0x2b9b02)=>{const _0x273fbb=_0x367abe;(0x0,Ot[_0x273fbb(0x599)])(Xa[_0x273fbb(0x19f)][_0x273fbb(0x27d)]+_0x273fbb(0x23a)+_0xcc9f35+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x5c3809+_0x273fbb(0x2fd),_0x1d076e=>{const _0x392b55=_0x273fbb;P[_0x392b55(0x2a9)](_0xcc9f35),this[_0x392b55(0x45b)][_0x392b55(0x60a)](_0x392b55(0x3e2)),_0x1d076e&&_0x2b9b02(_0x1d076e),this[_0x392b55(0x45b)][_0x392b55(0x60a)](_0x392b55(0x1f7)),_0x1599bd(_0x5c3809);});});}async[a0_0x5708fb(0x516)](_0x54bd35){const _0x156027=a0_0x5708fb;let _0x2b573c={},_0x658364='TEXT';if(_0x54bd35[_0x156027(0x516)]?.[_0x156027(0x194)]){_0x658364=_0x54bd35[_0x156027(0x516)][_0x156027(0x194)]?.[_0x156027(0x30c)][_0x156027(0x4eb)]()??_0x156027(0x1d1),_0x2b573c['mediaKey']=_0x658364[_0x156027(0x684)]()+_0x156027(0x18c);let _0x47031c=await this['prepareMediaMessage'](_0x54bd35[_0x156027(0x516)][_0x156027(0x194)]);_0x2b573c[_0x156027(0x460)]=_0x47031c[_0x156027(0x460)][_0x2b573c[_0x156027(0x402)]],_0x2b573c[_0x156027(0x6bf)]='*'+_0x54bd35[_0x156027(0x516)][_0x156027(0x53f)]+_0x156027(0x1cf)+_0x54bd35[_0x156027(0x516)][_0x156027(0x20b)];}let _0x11d9ae={'text':_0x54bd35[_0x156027(0x516)][_0x156027(0x3fa)]['map'](_0x89daa1=>_0x89daa1[_0x156027(0x18f)]),'ids':_0x54bd35['buttonMessage'][_0x156027(0x3fa)][_0x156027(0x2ee)](_0x5cb99a=>_0x5cb99a[_0x156027(0x71e)])};if(!(0x0,_[_0x156027(0x483)])(_0x11d9ae[_0x156027(0x2ce)])||!(0x0,_[_0x156027(0x483)])(_0x11d9ae[_0x156027(0x289)]))throw new g(_0x156027(0x72f),_0x156027(0x5ed));return await this[_0x156027(0x6ec)](_0x54bd35[_0x156027(0x682)],{'buttonsMessage':{'text':_0x2b573c?.[_0x156027(0x402)]?void 0x0:_0x54bd35[_0x156027(0x516)][_0x156027(0x53f)],'contentText':_0x2b573c?.[_0x156027(0x6bf)]??_0x54bd35[_0x156027(0x516)][_0x156027(0x20b)],'footerText':_0x54bd35['buttonMessage']?.['footerText'],'buttons':_0x54bd35[_0x156027(0x516)][_0x156027(0x3fa)]['map'](_0x318a0d=>({'buttonText':{'displayText':_0x318a0d[_0x156027(0x18f)]},'buttonId':_0x318a0d['buttonId'],'type':0x1})),'headerType':w[_0x156027(0x1e6)][_0x156027(0x18c)][_0x156027(0x23f)][_0x156027(0x2e5)][_0x658364],[_0x2b573c?.[_0x156027(0x402)]]:_0x2b573c?.['message']}},_0x54bd35?.[_0x156027(0x436)]);}async[a0_0x5708fb(0x60b)](_0x4541b3){const _0x30697d=a0_0x5708fb;return await this['sendMessageWithTyping'](_0x4541b3[_0x30697d(0x682)],{'locationMessage':{'degreesLatitude':_0x4541b3['locationMessage'][_0x30697d(0x1fe)],'degreesLongitude':_0x4541b3['locationMessage']['longitude'],'name':_0x4541b3['locationMessage']?.[_0x30697d(0x3a8)],'address':_0x4541b3[_0x30697d(0x60b)]?.[_0x30697d(0x61e)]}},_0x4541b3?.[_0x30697d(0x436)]);}async['listMessage'](_0x3e99bb){const _0x17903b=a0_0x5708fb;return await this['sendMessageWithTyping'](_0x3e99bb[_0x17903b(0x682)],{'listMessage':{'title':_0x3e99bb[_0x17903b(0x240)][_0x17903b(0x53f)],'description':_0x3e99bb[_0x17903b(0x240)][_0x17903b(0x20b)],'buttonText':_0x3e99bb[_0x17903b(0x240)]?.['buttonText'],'footerText':_0x3e99bb[_0x17903b(0x240)]?.[_0x17903b(0x364)],'sections':_0x3e99bb[_0x17903b(0x240)]['sections'],'listType':0x1}},_0x3e99bb?.[_0x17903b(0x436)]);}async[a0_0x5708fb(0x1bd)](_0x1cc92d){const _0x470b4e=a0_0x5708fb;let _0x27acb5={},_0x264f8a=_0x120cb2=>{const _0x40af41=a0_0x3a58;let _0x55f555=_0x40af41(0x4e4)+_0x120cb2['fullName']+_0x40af41(0x703)+_0x120cb2[_0x40af41(0x2da)]+'\x0a';_0x120cb2['organization']&&(_0x55f555+='ORG:'+_0x120cb2[_0x40af41(0x3a1)]+';\x0a'),_0x120cb2[_0x40af41(0x3d0)]&&(_0x55f555+=_0x40af41(0x394)+_0x120cb2[_0x40af41(0x3d0)]+'\x0a'),_0x120cb2[_0x40af41(0x6b6)]&&(_0x55f555+=_0x40af41(0x52c)+_0x120cb2[_0x40af41(0x6b6)]+'\x0a');let _0x1aed3b='';return _0x120cb2[_0x40af41(0x4ed)]&&_0x120cb2['phoneNumber'][_0x40af41(0x3bd)]('|')[_0x40af41(0x31e)]((_0xd7ece4,_0x5074c8)=>{const _0x57ed4f=_0x40af41;let _0x51dbf5=this['createJid'](_0xd7ece4)[_0x57ed4f(0x2be)](_0x57ed4f(0x1ba),'');_0x1aed3b+=_0x57ed4f(0x737)+(_0x5074c8+0x1)+_0x57ed4f(0x2e6)+_0x51dbf5+':'+_0xd7ece4+'\x0aitem'+(_0x5074c8+0x1)+_0x57ed4f(0x3ea);}),_0x55f555+=_0x1aed3b+'END:VCARD',_0x55f555;};return _0x1cc92d[_0x470b4e(0x1bd)]['length']===0x1?_0x27acb5['contactMessage']={'displayName':_0x1cc92d['contactMessage'][0x0]['fullName'],'vcard':_0x264f8a(_0x1cc92d['contactMessage'][0x0])}:_0x27acb5['contactsArrayMessage']={'displayName':_0x1cc92d[_0x470b4e(0x1bd)][_0x470b4e(0x695)]+_0x470b4e(0x51a),'contacts':_0x1cc92d[_0x470b4e(0x1bd)]['map'](_0x290d08=>({'displayName':_0x290d08[_0x470b4e(0x2da)],'vcard':_0x264f8a(_0x290d08)}))},await this[_0x470b4e(0x6ec)](_0x1cc92d[_0x470b4e(0x682)],{..._0x27acb5},_0x1cc92d?.['options']);}async['reactionMessage'](_0xea033f){const _0x2756e2=a0_0x5708fb;return await this[_0x2756e2(0x6ec)](_0xea033f[_0x2756e2(0x257)][_0x2756e2(0x6b9)][_0x2756e2(0x22b)],{'reactionMessage':{'key':_0xea033f['reactionMessage'][_0x2756e2(0x6b9)],'text':_0xea033f['reactionMessage'][_0x2756e2(0x533)]}});}async[a0_0x5708fb(0x529)](_0x2a36d9){const _0x334460=a0_0x5708fb;let _0x45e5a4=[];for await(let _0x53de3f of _0x2a36d9['numbers']){let _0x1edf3e=this[_0x334460(0x433)](_0x53de3f);if((0x0,w[_0x334460(0x72d)])(_0x1edf3e)){let _0x4792f3=await this[_0x334460(0x255)]({'groupJid':_0x1edf3e},_0x334460(0x471));_0x45e5a4[_0x334460(0x245)](new he(_0x4792f3[_0x334460(0x62d)]['id'],!!_0x4792f3?.[_0x334460(0x62d)]['id'],_0x4792f3?.[_0x334460(0x62d)]['subject']));}else try{let _0x38ed51=(await this[_0x334460(0x698)][_0x334460(0x644)](_0x1edf3e))[0x0];_0x45e5a4[_0x334460(0x245)](new he(_0x38ed51[_0x334460(0x6d1)],_0x38ed51['exists']));}catch{_0x45e5a4[_0x334460(0x245)](new he(_0x53de3f,!0x1));}}return _0x45e5a4;}async[a0_0x5708fb(0x49c)](_0x2364c6){const _0xd3edc4=a0_0x5708fb;try{let _0x555def=_0x2364c6[_0xd3edc4(0x729)]['filter'](_0x15527d=>(0x0,w['isJidGroup'])(_0x15527d[_0xd3edc4(0x22b)])||(0x0,w['isJidUser'])(_0x15527d['remoteJid']))['map'](_0x7079e=>({'remoteJid':_0x7079e['remoteJid'],'fromMe':_0x7079e['fromMe'],'id':_0x7079e['id']}));await this['client'][_0xd3edc4(0x729)](_0x555def);let _0x345959=_0x555def[_0xd3edc4(0x2ee)](_0x489ff5=>this['updateMessage'](_0x489ff5,_0x489ff5[_0xd3edc4(0x22b)],{'status':_0xd3edc4(0x4ff),'owner':this[_0xd3edc4(0x411)][_0xd3edc4(0x2d3)]})),_0x3ff66d=_0x555def[_0xd3edc4(0x2ee)](_0x4ee48e=>this[_0xd3edc4(0x3ed)][_0xd3edc4(0x2e9)][_0xd3edc4(0x28f)]({'where':{'_id':_0x4ee48e[_0xd3edc4(0x22b)],'owner':this[_0xd3edc4(0x411)][_0xd3edc4(0x2d3)]}},{'unreadcount':0x0})),[_0x2f5ea8,_0x4a4c36]=await Promise[_0xd3edc4(0x5dd)]([Promise['all'](_0x345959),Promise[_0xd3edc4(0x5dd)](_0x3ff66d)]);return _0x4a4c36[_0xd3edc4(0x498)](_0x4bdb11=>_0x4bdb11!==null)[_0xd3edc4(0x31e)](_0x1ae206=>{const _0x15f568=_0xd3edc4;B(this[_0x15f568(0x4f0)],_0x15f568(0x307),{'chat':_0x1ae206});}),{'message':_0xd3edc4(0x4c1),'read':_0xd3edc4(0x535)};}catch(_0x42f882){throw console[_0xd3edc4(0x4aa)]('Error\x20in\x20markMessageAsRead:',_0x42f882),new A(_0xd3edc4(0x71b),_0x42f882[_0xd3edc4(0x3f5)]());}}async[a0_0x5708fb(0x6a8)](_0x13b667){const _0x37f2ba=a0_0x5708fb;let _0x35379b=await this[_0x37f2ba(0x22c)]({'where':{'key':{'remoteJid':_0x13b667},'owner':this['instance'][_0x37f2ba(0x3a8)]}}),_0x225b57=_0x35379b['pop']();for(let _0x32cc3d of _0x35379b)_0x32cc3d[_0x37f2ba(0x6c0)]>=_0x225b57[_0x37f2ba(0x6c0)]&&(_0x225b57=_0x32cc3d);return _0x225b57;}async[a0_0x5708fb(0x3d9)](_0x9945f9){const _0x26522c=a0_0x5708fb;this[_0x26522c(0x45b)][_0x26522c(0x60a)](_0x26522c(0x58a));try{let _0x47b974=_0x9945f9[_0x26522c(0x238)],_0x590008=_0x9945f9['chat'];if(!_0x47b974&&_0x590008?_0x47b974=await this[_0x26522c(0x6a8)](_0x590008):(_0x47b974=_0x9945f9[_0x26522c(0x238)],_0x47b974['messageTimestamp']=_0x47b974?.[_0x26522c(0x6c0)]??Date[_0x26522c(0x70a)](),_0x590008=_0x47b974?.[_0x26522c(0x6b9)]?.[_0x26522c(0x22b)]),!_0x47b974||Object[_0x26522c(0x27b)](_0x47b974)[_0x26522c(0x695)]===0x0)throw new x('Last\x20message\x20not\x20found');await this[_0x26522c(0x698)][_0x26522c(0x728)]({'archive':_0x9945f9[_0x26522c(0x3a3)],'lastMessages':[_0x47b974]},this[_0x26522c(0x433)](_0x590008));let _0x1dfbb8=await this[_0x26522c(0x3ed)][_0x26522c(0x2e9)]['updateOne']({'where':{'_id':_0x47b974?.['key']?.[_0x26522c(0x22b)],'owner':this[_0x26522c(0x411)][_0x26522c(0x2d3)]}},{'archived':_0x9945f9['archive']});return _0x1dfbb8&&B(this[_0x26522c(0x4f0)],_0x26522c(0x307),{'chat':_0x1dfbb8}),{'chatId':_0x590008,'archived':_0x9945f9[_0x26522c(0x3a3)]};}catch(_0x44ddce){throw new A({'archived':!0x1,'message':[_0x26522c(0x72a),_0x44ddce[_0x26522c(0x3f5)]()]});}}async['deleteMessage'](_0x3becb8){const _0x407e44=a0_0x5708fb;try{let _0x2de0f0=await this[_0x407e44(0x698)][_0x407e44(0x5be)](_0x3becb8[_0x407e44(0x22b)],{'delete':_0x3becb8});try{let _0x3c913d=await this['updateMessage'](_0x3becb8,_0x3becb8['remoteJid'],{'status':'DELETED','owner':this[_0x407e44(0x411)][_0x407e44(0x2d3)]});this[_0x407e44(0x45b)][_0x407e44(0x60a)](this[_0x407e44(0x4f0)]+'\x20('+this[_0x407e44(0x411)][_0x407e44(0x2d3)]+_0x407e44(0x611)+_0x3c913d);}catch(_0x512853){console['error'](_0x407e44(0x476),_0x512853);}return _0x2de0f0;}catch(_0x1ad6e7){throw new A(_0x407e44(0x2aa),_0x1ad6e7?.[_0x407e44(0x3f5)]());}}async[a0_0x5708fb(0x39b)](_0x2b07a9){const _0x39fa80=a0_0x5708fb;try{let _0x5bf749=_0x2b07a9?.[_0x39fa80(0x460)]?_0x2b07a9:await this[_0x39fa80(0x751)](_0x2b07a9['key'],!0x0);for(let _0x5d22c2 of Qs)_0x5bf749['message'][_0x5d22c2]&&(_0x5bf749[_0x39fa80(0x460)]=_0x5bf749[_0x39fa80(0x460)][_0x5d22c2][_0x39fa80(0x460)]);let _0x2d5056,_0x350b10;for(let _0x156e6b of zs)if(_0x2d5056=_0x5bf749['message'][_0x156e6b],_0x2d5056){_0x350b10=_0x156e6b;break;}if(!_0x2d5056)throw _0x39fa80(0x70f);typeof _0x2d5056[_0x39fa80(0x402)]==_0x39fa80(0x279)&&(_0x5bf749['message']=JSON['parse'](JSON[_0x39fa80(0x726)](_0x5bf749[_0x39fa80(0x460)])));let _0xdf4044=await(0x0,w[_0x39fa80(0x25d)])({'key':_0x5bf749?.['key'],'message':_0x5bf749?.[_0x39fa80(0x460)]},_0x39fa80(0x29b),{},{'logger':(0x0,Mt[_0x39fa80(0x19f)])({'level':_0x39fa80(0x4aa)}),'reuploadRequest':this[_0x39fa80(0x698)][_0x39fa80(0x5f6)]});if(!(_0xdf4044 instanceof Buffer))throw new Error(_0x39fa80(0x4f9));let _0x25c4ab=this[_0x39fa80(0x33c)][_0x39fa80(0x1cd)](_0x39fa80(0x18d)),_0xba4da7,_0xfb5bdb;if(_0x2d5056[_0x39fa80(0x6af)])_0xba4da7=_0x2d5056[_0x39fa80(0x6af)];else{let _0x4de739=_0x2d5056[_0x39fa80(0x606)]?.[_0x39fa80(0x356)](/\/(\w+)/),_0xdfbedc=_0x4de739?_0x4de739[0x1]:null;if(!_0xdfbedc)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0xba4da7=(0x0,It['v4'])()+'.'+_0xdfbedc;}_0x350b10===_0x39fa80(0x42c)&&_0x2d5056[_0x39fa80(0x606)]===_0x39fa80(0x647)?(_0xba4da7=(0x0,It['v4'])()+'.ogg',_0xfb5bdb=_0x39fa80(0x50f)+await this[_0x39fa80(0x6a3)](_0xdf4044[_0x39fa80(0x3f5)](_0x39fa80(0x322)))):(await this['saveMediaToFile'](_0xdf4044,_0xba4da7),_0xfb5bdb=_0x39fa80(0x50f)+_0xba4da7);let _0x1afd8d=this[_0x39fa80(0x33c)][_0x39fa80(0x1cd)](_0x39fa80(0x20e)),_0x37c321=this[_0x39fa80(0x33c)][_0x39fa80(0x1cd)](_0x39fa80(0x1d6))[_0x39fa80(0x6fd)],_0x57743e=_0x1afd8d&&_0x1afd8d[_0x39fa80(0x244)][_0x39fa80(0x3bd)]('/')[0x4];_0x37c321===0x1bb&&(_0xfb5bdb=''+('https://'+_0x57743e)+_0xfb5bdb);let _0x295557=0xc*0x3c*0x3c*0x3e8,_0x153389={'where':{'_id':_0x5bf749[_0x39fa80(0x6b9)]['id'],'owner':this[_0x39fa80(0x411)]['wuid']}};_0x5bf749[_0x39fa80(0x6b9)][_0x39fa80(0x22b)][_0x39fa80(0x59d)](_0x39fa80(0x767))&&(_0x153389[_0x39fa80(0x764)][_0x39fa80(0x6b9)][_0x39fa80(0x414)]=_0x5bf749[_0x39fa80(0x6b9)][_0x39fa80(0x414)]);let _0x25c842={'message_normalized.fileUrl':_0xfb5bdb,'message_normalized.expires_fileUrl':Date['now']()+_0x295557};try{let _0xf923be=await this[_0x39fa80(0x3ed)][_0x39fa80(0x460)][_0x39fa80(0x74b)](_0x153389,_0x25c842);_0xf923be&&B(this['instanceName'],_0x39fa80(0x740),{'message':_0xf923be});}catch{}return{'mediaType':_0x350b10,'fileName':_0x2d5056[_0x39fa80(0x6af)],'caption':_0x2d5056[_0x39fa80(0x45d)],'size':{'fileLength':_0x2d5056[_0x39fa80(0x559)],'height':_0x2d5056[_0x39fa80(0x2b2)],'width':_0x2d5056[_0x39fa80(0x225)]},'mimetype':_0x2d5056['mimetype'],'base64':_0xdf4044['toString'](_0x39fa80(0x322)),'fileUrl':_0xfb5bdb,'expires_fileUrl':Date['now']()+_0x295557};}catch(_0x48b189){throw this[_0x39fa80(0x45b)][_0x39fa80(0x4aa)](this['instanceName']+'\x20('+this['instance'][_0x39fa80(0x2d3)]+_0x39fa80(0x2d5)+_0x48b189),new g(_0x48b189[_0x39fa80(0x3f5)]());}}async[a0_0x5708fb(0x5e6)](_0xa5779f,_0x29856f){const _0x506864=a0_0x5708fb;console[_0x506864(0x525)]('Initial\x20__dirname:',__dirname),console[_0x506864(0x525)]('Original\x20filename:',_0x29856f);let _0x2ea01b=$['default'][_0x506864(0x532)](__dirname,_0x506864(0x249));console[_0x506864(0x525)]('Media\x20folder\x20path:',_0x2ea01b),P[_0x506864(0x458)](_0x2ea01b)||(this['logger']['log'](_0x506864(0x5d3)),P['mkdirSync'](_0x2ea01b,{'recursive':!0x0}));let _0x737808=$[_0x506864(0x19f)][_0x506864(0x532)](_0x2ea01b,_0x29856f);return console['log'](_0x506864(0x33d),_0x737808),new Promise((_0x5e0bcb,_0x42608e)=>{const _0x61efea=_0x506864;P[_0x61efea(0x51b)](_0x737808,_0xa5779f,_0x148df5=>{const _0x587670=_0x61efea;_0x148df5?(this[_0x587670(0x45b)][_0x587670(0x4aa)](_0x587670(0x475)+_0x148df5[_0x587670(0x460)]),_0x42608e(_0x148df5)):(this[_0x587670(0x45b)]['log']('File\x20written\x20to\x20path:\x20'+_0x737808),_0x5e0bcb(_0x737808));});});}async[a0_0x5708fb(0x70c)](_0x18ad45){const _0x44ede7=a0_0x5708fb;return _0x18ad45?.['where']?_0x18ad45[_0x44ede7(0x764)]['owner']=this[_0x44ede7(0x411)][_0x44ede7(0x2d3)]:_0x18ad45={'where':{'owner':this[_0x44ede7(0x411)]['wuid']}},await this[_0x44ede7(0x3ed)][_0x44ede7(0x29e)][_0x44ede7(0x2ff)](_0x18ad45);}async[a0_0x5708fb(0x22c)](_0x2fd955){const _0xb9b858=a0_0x5708fb;return _0x2fd955?.[_0xb9b858(0x764)]?_0x2fd955['where']['owner']=this[_0xb9b858(0x411)][_0xb9b858(0x2d3)]:_0x2fd955={'where':{'owner':this[_0xb9b858(0x411)][_0xb9b858(0x2d3)]},'limit':_0x2fd955?.[_0xb9b858(0x6f9)]},await this['repository']['message']['find'](_0x2fd955);}async[a0_0x5708fb(0x374)](){const _0x827d49=a0_0x5708fb;let _0x273077=[{'query':{'where':{'owner':this[_0x827d49(0x411)]['wuid'],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x827d49(0x411)]['wuid'],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this['repository']['chat'][_0x827d49(0x204)](_0x273077),await this[_0x827d49(0x3ed)][_0x827d49(0x2e9)][_0x827d49(0x2ff)]({'where':{'owner':this[_0x827d49(0x411)][_0x827d49(0x2d3)]}});}async[a0_0x5708fb(0x3b9)](){const _0xf4d282=a0_0x5708fb;return await this[_0xf4d282(0x698)][_0xf4d282(0x3b9)]();}async[a0_0x5708fb(0x672)](_0x162278){const _0x1e92f0=a0_0x5708fb;try{return await this[_0x1e92f0(0x698)][_0x1e92f0(0x58c)](_0x162278[_0x1e92f0(0x362)][_0x1e92f0(0x62e)]),await this[_0x1e92f0(0x698)][_0x1e92f0(0x56d)](_0x162278[_0x1e92f0(0x362)][_0x1e92f0(0x272)]),await this['client'][_0x1e92f0(0x432)](_0x162278[_0x1e92f0(0x362)][_0x1e92f0(0x284)]),await this['client'][_0x1e92f0(0x495)](_0x162278[_0x1e92f0(0x362)][_0x1e92f0(0x665)]),await this[_0x1e92f0(0x698)]['updateLastSeenPrivacy'](_0x162278[_0x1e92f0(0x362)]['last']),await this[_0x1e92f0(0x698)][_0x1e92f0(0x708)](_0x162278['privacySettings']['groupadd']),this[_0x1e92f0(0x698)]?.['ws']?.[_0x1e92f0(0x222)](),{'update':'success','data':{'readreceipts':_0x162278[_0x1e92f0(0x362)]['readreceipts'],'profile':_0x162278[_0x1e92f0(0x362)][_0x1e92f0(0x272)],'status':_0x162278['privacySettings']['status'],'online':_0x162278['privacySettings'][_0x1e92f0(0x665)],'last':_0x162278['privacySettings'][_0x1e92f0(0x37c)],'groupadd':_0x162278[_0x1e92f0(0x362)][_0x1e92f0(0x6d4)]}};}catch(_0x32dfa4){throw new A(_0x1e92f0(0x67d),_0x32dfa4[_0x1e92f0(0x3f5)]());}}async[a0_0x5708fb(0x4db)](_0x2e67d1){const _0x36d946=a0_0x5708fb;let _0x512dc0=_0x2e67d1?this[_0x36d946(0x433)](_0x2e67d1):this[_0x36d946(0x698)]?.[_0x36d946(0x2d7)]?.['id'];this[_0x36d946(0x45b)][_0x36d946(0x60a)](_0x36d946(0x3fc)+_0x512dc0);try{if(this[_0x36d946(0x45b)]['verbose'](_0x36d946(0x2d1)),_0x2e67d1){let _0xe28816=(await this[_0x36d946(0x529)]({'numbers':[_0x512dc0]}))?.['shift'](),_0x5d6e7b=await this[_0x36d946(0x5ea)](_0xe28816?.[_0x36d946(0x6d1)]),_0x3fb2d2=await this['getStatus'](_0xe28816?.['jid']),_0x3e4fcf=await this[_0x36d946(0x367)](_0xe28816?.[_0x36d946(0x6d1)]);return{'wuid':_0xe28816?.[_0x36d946(0x6d1)]||_0x512dc0,'name':_0xe28816?.['name'],'numberExists':_0xe28816?.[_0x36d946(0x4a3)],'picture':_0x5d6e7b?.[_0x36d946(0x5f9)],'status':_0x3fb2d2?.[_0x36d946(0x284)],'isBusiness':_0x3e4fcf['isBusiness'],'email':_0x3e4fcf?.[_0x36d946(0x3d0)],'description':_0x3e4fcf?.[_0x36d946(0x20b)],'website':_0x3e4fcf?.[_0x36d946(0x760)]?.[_0x36d946(0x457)]()};}}catch{return this[_0x36d946(0x45b)]['verbose'](_0x36d946(0x3a6)),{'wuid':_0x512dc0,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x5708fb(0x5c5)](_0x46dc6f){const _0x2e7338=a0_0x5708fb;let _0x2e9c7d=(_0x46dc6f?this[_0x2e7338(0x433)](_0x46dc6f):this['client']?.[_0x2e7338(0x2d7)]?.['id'])[_0x2e7338(0x2be)](/:\d{1,2}@/g,'@');this[_0x2e7338(0x45b)]['verbose'](_0x2e7338(0x5c9)+_0x2e9c7d);let _0x592fd0=await this['repository']['contact'][_0x2e7338(0x5fc)]({'where':{'_id':_0x2e9c7d,'owner':this[_0x2e7338(0x411)][_0x2e7338(0x2d3)]}}),_0x35d144=_0x592fd0?_0x592fd0[_0x2e7338(0x404)]:null;try{let _0x5bdc2c=(await this[_0x2e7338(0x529)]({'numbers':[_0x2e9c7d]}))?.[_0x2e7338(0x457)](),_0x25a163=await this[_0x2e7338(0x5ea)](_0x5bdc2c?.[_0x2e7338(0x6d1)]),_0x578aba=await this[_0x2e7338(0x486)](_0x5bdc2c?.['jid']),_0x13495b=await this[_0x2e7338(0x367)](_0x5bdc2c?.[_0x2e7338(0x6d1)]),_0x4ca1f7={'imagechat':_0x25a163?.[_0x2e7338(0x5f9)],'contactname':_0x35d144||null,'status':_0x578aba?.[_0x2e7338(0x284)],'isBusiness':_0x13495b[_0x2e7338(0x615)],'email':_0x13495b?.[_0x2e7338(0x3d0)],'description':_0x13495b?.[_0x2e7338(0x20b)],'website':_0x13495b?.[_0x2e7338(0x760)]?.[_0x2e7338(0x457)](),'lastcache':Date[_0x2e7338(0x70a)]()},_0x541f12=await this[_0x2e7338(0x3ed)][_0x2e7338(0x2e9)][_0x2e7338(0x28f)]({'where':{'_id':_0x2e9c7d,'owner':this[_0x2e7338(0x411)][_0x2e7338(0x2d3)]}},_0x4ca1f7),_0x111afc={'owner':this[_0x2e7338(0x411)]['wuid'],'_id':_0x2e9c7d,'profilePictureUrl':_0x25a163?.[_0x2e7338(0x5f9)],'status':_0x578aba?.[_0x2e7338(0x284)]};return this['repository'][_0x2e7338(0x29e)]['update']([_0x111afc],this['instance']['wuid']),_0x541f12&&B(this[_0x2e7338(0x4f0)],_0x2e7338(0x307),{'chat':_0x541f12}),{'wuid':_0x5bdc2c?.[_0x2e7338(0x6d1)]||_0x2e9c7d,'name':_0x5bdc2c?.[_0x2e7338(0x3a8)],'numberExists':_0x5bdc2c?.[_0x2e7338(0x4a3)],'picture':_0x25a163?.[_0x2e7338(0x5f9)],'status':_0x578aba?.[_0x2e7338(0x284)],'isBusiness':_0x13495b['isBusiness'],'email':_0x13495b?.[_0x2e7338(0x3d0)],'description':_0x13495b?.[_0x2e7338(0x20b)],'website':_0x13495b?.['website']?.[_0x2e7338(0x457)]()};}catch(_0x6dd36a){return this[_0x2e7338(0x45b)][_0x2e7338(0x4aa)](_0x2e7338(0x444)+_0x6dd36a),{};}}async['fetchBusinessProfile'](_0x3b623e){const _0x18de13=a0_0x5708fb;this[_0x18de13(0x45b)][_0x18de13(0x60a)](_0x18de13(0x3ee));try{let _0x320025=_0x3b623e?this[_0x18de13(0x433)](_0x3b623e):this[_0x18de13(0x411)][_0x18de13(0x2d3)],_0x475c52=await this['client'][_0x18de13(0x608)](_0x320025);return this['logger'][_0x18de13(0x60a)](_0x18de13(0x5d5)),_0x475c52?(this[_0x18de13(0x45b)]['verbose'](_0x18de13(0x74f)),{'isBusiness':!0x0,..._0x475c52}):{'isBusiness':!0x1,'message':_0x18de13(0x44a),...(await this[_0x18de13(0x529)]({'numbers':[_0x320025]}))?.[_0x18de13(0x457)]()};}catch(_0x4e089){throw new A(_0x18de13(0x387),_0x4e089[_0x18de13(0x3f5)]());}}async[a0_0x5708fb(0x486)](_0x490489){const _0x34f401=a0_0x5708fb;let _0x480b42=this[_0x34f401(0x433)](_0x490489);try{return{'wuid':_0x480b42,'status':(await this[_0x34f401(0x698)][_0x34f401(0x234)](_0x480b42))?.[_0x34f401(0x284)]};}catch{return{'wuid':_0x480b42,'status':null};}}async[a0_0x5708fb(0x544)](_0x41e13c){const _0x129ed2=a0_0x5708fb;try{return await this[_0x129ed2(0x698)][_0x129ed2(0x544)](_0x41e13c),{'update':'success'};}catch(_0x348881){throw new A('Error\x20updating\x20profile\x20name',_0x348881[_0x129ed2(0x3f5)]());}}async['updateProfileStatus'](_0x218146){const _0x3360ed=a0_0x5708fb;try{return await this[_0x3360ed(0x698)]['updateProfileStatus'](_0x218146),{'update':_0x3360ed(0x535)};}catch(_0x2cb925){throw new A('Error\x20updating\x20profile\x20status',_0x2cb925[_0x3360ed(0x3f5)]());}}async[a0_0x5708fb(0x47d)](_0x5c84d1){const _0x26241e=a0_0x5708fb;try{let _0x5196ce;if((0x0,_[_0x26241e(0x3ce)])(_0x5c84d1)){let _0x403471=new Date()['getTime'](),_0x5be570=_0x5c84d1+_0x26241e(0x2b5)+_0x403471;_0x5196ce=(await ce['default'][_0x26241e(0x1cd)](_0x5be570,{'responseType':_0x26241e(0x718)}))[_0x26241e(0x743)];}else{if((0x0,_[_0x26241e(0x365)])(_0x5c84d1))_0x5196ce=Buffer[_0x26241e(0x6bc)](_0x5c84d1,'base64');else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x26241e(0x698)]['updateProfilePicture'](this['instance'][_0x26241e(0x2d3)],_0x5196ce),{'update':_0x26241e(0x535)};}catch(_0x53bac7){throw new A(_0x26241e(0x6f7),_0x53bac7[_0x26241e(0x3f5)]());}}async[a0_0x5708fb(0x42f)](){const _0x502b4b=a0_0x5708fb;try{return await this[_0x502b4b(0x698)]['removeProfilePicture'](this[_0x502b4b(0x411)][_0x502b4b(0x2d3)]),{'update':_0x502b4b(0x535)};}catch(_0x3a8689){throw new A(_0x502b4b(0x750),_0x3a8689[_0x502b4b(0x3f5)]());}}async[a0_0x5708fb(0x73a)](_0x59e47f){const _0x4aee53=a0_0x5708fb;try{let _0x3422ba=_0x59e47f['participants'][_0x4aee53(0x2ee)](_0x291456=>this['createJid'](_0x291456)),{id:_0x5a20ba}=await this['client']['groupCreate'](_0x59e47f[_0x4aee53(0x705)],_0x3422ba);return _0x59e47f?.[_0x4aee53(0x20b)]&&await this[_0x4aee53(0x698)][_0x4aee53(0x328)](_0x5a20ba,_0x59e47f[_0x4aee53(0x20b)]),{'metadata':await this['client']['groupMetadata'](_0x5a20ba)};}catch(_0xed3301){throw this[_0x4aee53(0x45b)][_0x4aee53(0x4aa)](this[_0x4aee53(0x4f0)]+'\x20('+this['instance'][_0x4aee53(0x2d3)]+_0x4aee53(0x2d5)+_0xed3301),new A(_0x4aee53(0x462),_0xed3301[_0x4aee53(0x3f5)]());}}async['updateGroupPicture'](_0x2ea71c){const _0x5d6d0a=a0_0x5708fb;try{let _0x33a8f3;if((0x0,_[_0x5d6d0a(0x3ce)])(_0x2ea71c[_0x5d6d0a(0x28b)])){let _0x12abbd=new Date()[_0x5d6d0a(0x425)](),_0x580bde=_0x2ea71c[_0x5d6d0a(0x28b)]+'?timestamp='+_0x12abbd;_0x33a8f3=(await ce[_0x5d6d0a(0x19f)][_0x5d6d0a(0x1cd)](_0x580bde,{'responseType':_0x5d6d0a(0x718)}))[_0x5d6d0a(0x743)];}else{if((0x0,_[_0x5d6d0a(0x365)])(_0x2ea71c[_0x5d6d0a(0x28b)]))_0x33a8f3=Buffer['from'](_0x2ea71c[_0x5d6d0a(0x28b)],_0x5d6d0a(0x322));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5d6d0a(0x698)][_0x5d6d0a(0x47d)](_0x2ea71c[_0x5d6d0a(0x378)],_0x33a8f3),{'update':_0x5d6d0a(0x535)};}catch(_0x34cedb){throw new A('Error\x20update\x20group\x20picture',_0x34cedb[_0x5d6d0a(0x3f5)]());}}async[a0_0x5708fb(0x255)](_0x42e8b6,_0x1e0295=a0_0x5708fb(0x37f)){const _0x2111bf=a0_0x5708fb;try{let _0x303df6=await this[_0x2111bf(0x698)][_0x2111bf(0x649)](_0x42e8b6[_0x2111bf(0x378)]),_0x2f70a3=null;try{_0x2f70a3=(await this[_0x2111bf(0x5ea)](_0x42e8b6['groupJid']))[_0x2111bf(0x5f9)];}catch(_0x2898de){this[_0x2111bf(0x45b)][_0x2111bf(0x60a)](this['instanceName']+'\x20('+this['instance'][_0x2111bf(0x2d3)]+_0x2111bf(0x618)+_0x42e8b6[_0x2111bf(0x378)]+':\x20'+_0x2898de[_0x2111bf(0x3f5)]());}let _0x2a474e=await this[_0x2111bf(0x3ed)][_0x2111bf(0x2e9)][_0x2111bf(0x28f)]({'where':{'_id':_0x42e8b6['groupJid'],'owner':this[_0x2111bf(0x411)][_0x2111bf(0x2d3)]}},{'imagechat':_0x2f70a3,'name':_0x303df6['subject'],'group_size':_0x303df6['size'],'group_announce':_0x303df6[_0x2111bf(0x207)],'lastcache':Date[_0x2111bf(0x70a)]()});return _0x2a474e&&B(this[_0x2111bf(0x4f0)],'chats',{'chat':_0x2a474e}),{'metadata':_0x303df6,'image':_0x2f70a3};}catch(_0x52083d){if(_0x1e0295===_0x2111bf(0x471))return;throw new x(_0x2111bf(0x4d3),_0x52083d['toString']());}}async['groupDesc'](_0x1f9251){const _0x34c5e0=a0_0x5708fb;try{return await this['client'][_0x34c5e0(0x328)](_0x1f9251[_0x34c5e0(0x378)],_0x1f9251[_0x34c5e0(0x20b)]),{'update':_0x34c5e0(0x535)};}catch(_0x112477){throw new A(_0x34c5e0(0x5f4),_0x112477[_0x34c5e0(0x3f5)]());}}async[a0_0x5708fb(0x5db)](_0x25e94f){const _0x206536=a0_0x5708fb;try{return await this[_0x206536(0x698)][_0x206536(0x3ec)](_0x25e94f[_0x206536(0x378)],_0x25e94f[_0x206536(0x3a8)]),{'update':_0x206536(0x535)};}catch(_0x9d8d35){throw new A(_0x206536(0x1c5),_0x9d8d35[_0x206536(0x3f5)]());}}async[a0_0x5708fb(0x1e9)](_0xe369da){const _0x7e5b47=a0_0x5708fb;try{return await this['client'][_0x7e5b47(0x630)](_0xe369da[_0x7e5b47(0x378)],_0xe369da[_0x7e5b47(0x423)]),{'update':_0x7e5b47(0x535)};}catch(_0x1fc709){throw new A(_0x7e5b47(0x2df),_0x1fc709[_0x7e5b47(0x3f5)]());}}async[a0_0x5708fb(0x674)](){const _0xb42867=a0_0x5708fb;try{let _0x35ffa1=[],_0x57255f=await this[_0xb42867(0x698)][_0xb42867(0x1d9)](),_0xddcfe5=Object['values'](_0x57255f),_0xbea77d=_0xddcfe5[_0xb42867(0x498)](_0x1f8f3f=>(0x0,w['isJidGroup'])(_0x1f8f3f?.['id']))[_0xb42867(0x2ee)](async _0x473c1e=>{const _0x1eb11f=_0xb42867;try{return await this[_0x1eb11f(0x698)][_0x1eb11f(0x5f9)](_0x473c1e['id'],'preview');}catch(_0x8bff54){return this[_0x1eb11f(0x45b)][_0x1eb11f(0x60a)](this[_0x1eb11f(0x4f0)]+'\x20('+this[_0x1eb11f(0x411)][_0x1eb11f(0x2d3)]+_0x1eb11f(0x618)+_0x473c1e['id']+':\x20'+_0x8bff54['toString']()),null;}}),_0x30fbaa=await Promise[_0xb42867(0x5dd)](_0xbea77d);for(let _0x4c4793=0x0;_0x4c4793<_0xddcfe5['length'];_0x4c4793++){let _0x1cd2b8=_0xddcfe5[_0x4c4793];(0x0,w[_0xb42867(0x72d)])(_0x1cd2b8?.['id'])&&_0x35ffa1['push']({'groupJid':_0x1cd2b8?.['id'],'subject':_0x1cd2b8?.[_0xb42867(0x705)],'subjectOwner':_0x1cd2b8?.[_0xb42867(0x3cc)]?.[_0xb42867(0x3bd)]('@')[0x0],'subjectTime':_0x1cd2b8?.[_0xb42867(0x392)],'size':_0x1cd2b8?.[_0xb42867(0x6b8)]?.[_0xb42867(0x695)],'owner':_0x1cd2b8?.[_0xb42867(0x42a)]?.['split']('@')[0x0],'creation':_0x1cd2b8?.[_0xb42867(0x4f2)],'desc':_0x1cd2b8?.[_0xb42867(0x3a0)],'restrict':_0x1cd2b8?.[_0xb42867(0x2c5)],'announce':_0x1cd2b8?.[_0xb42867(0x207)],'image':_0x30fbaa[_0x4c4793]});}return _0x35ffa1;}catch(_0x34cafe){throw new x(_0xb42867(0x4d3),_0x34cafe[_0xb42867(0x3f5)]());}}async['inviteCode'](_0x5daf50){const _0x1f7c78=a0_0x5708fb;try{let _0x197a87=await this[_0x1f7c78(0x698)][_0x1f7c78(0x29a)](_0x5daf50['groupJid']);return{'inviteUrl':_0x1f7c78(0x2ad)+_0x197a87,'inviteCode':_0x197a87};}catch(_0x30045f){throw new x('No\x20invite\x20code',_0x30045f[_0x1f7c78(0x3f5)]());}}async[a0_0x5708fb(0x573)](_0x5bb58c){const _0x9c54f0=a0_0x5708fb;try{let _0x29fcce=await this['client']['groupRevokeInvite'](_0x5bb58c[_0x9c54f0(0x378)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x29fcce,'inviteCode':_0x29fcce};}catch(_0x3bdebb){throw new x(_0x9c54f0(0x450),_0x3bdebb[_0x9c54f0(0x3f5)]());}}async[a0_0x5708fb(0x3e1)](_0x4a1947){const _0x50d0c6=a0_0x5708fb;try{if((0x0,_[_0x50d0c6(0x3ce)])(_0x4a1947[_0x50d0c6(0x723)]))var _0x2e1e64=_0x4a1947['inviteCode'][_0x50d0c6(0x3bd)]('/')[0x3];else var _0x2e1e64=_0x4a1947[_0x50d0c6(0x723)];let _0x18baae=await this['client'][_0x50d0c6(0x200)](_0x2e1e64);return this[_0x50d0c6(0x45b)][_0x50d0c6(0x60a)](this['instanceName']+'\x20('+this['instance'][_0x50d0c6(0x2d3)]+_0x50d0c6(0x2d5)+_0x18baae),{'join':!0x0,'inviteCode':_0x2e1e64,'groupJid':_0x18baae};}catch(_0x3c16f1){throw new x(_0x50d0c6(0x3e9),_0x3c16f1['toString']());}}async[a0_0x5708fb(0x5de)](_0x522d01){const _0x4d7030=a0_0x5708fb;try{return{'participants':(await this[_0x4d7030(0x698)][_0x4d7030(0x649)](_0x522d01[_0x4d7030(0x378)]))['participants']};}catch(_0x1c5c0a){throw new x('No\x20participants',_0x1c5c0a[_0x4d7030(0x3f5)]());}}async[a0_0x5708fb(0x6ee)](_0x233799){const _0x88d6e9=a0_0x5708fb;try{let _0x12c150=_0x233799[_0x88d6e9(0x6b8)][_0x88d6e9(0x2ee)](_0x20d23f=>this[_0x88d6e9(0x433)](_0x20d23f));return{'updateParticipants':await this[_0x88d6e9(0x698)][_0x88d6e9(0x3ad)](_0x233799[_0x88d6e9(0x378)],_0x12c150,_0x233799['action'])};}catch(_0x5bbeee){throw new g(_0x88d6e9(0x226),_0x5bbeee[_0x88d6e9(0x3f5)]());}}async[a0_0x5708fb(0x6a4)](_0x321ce3){const _0x58b633=a0_0x5708fb;try{let _0x433785=await this[_0x58b633(0x698)][_0x58b633(0x58e)](_0x321ce3[_0x58b633(0x378)],_0x321ce3[_0x58b633(0x231)]);return{'success':!0x0};}catch(_0x200cab){throw new g(_0x58b633(0x519),_0x200cab[_0x58b633(0x3f5)]());}}async['leaveGroup'](_0x5d3f16){const _0x57b74e=a0_0x5708fb;try{return await this['client'][_0x57b74e(0x20a)](_0x5d3f16['groupJid']),{'groupJid':_0x5d3f16[_0x57b74e(0x378)],'leave':!0x0};}catch(_0x5ab690){throw new g(_0x57b74e(0x485),_0x5ab690[_0x57b74e(0x3f5)]());}}async[a0_0x5708fb(0x369)](_0x582f38){const _0x13af62=a0_0x5708fb;return await this['sendMessageWithTyping'](_0x582f38[_0x13af62(0x682)],{'poll':{'name':_0x582f38[_0x13af62(0x369)]?.['name'],'selectableCount':_0x582f38['pollMessage']['selectableCount'],'values':_0x582f38[_0x13af62(0x369)][_0x13af62(0x2c9)]}},_0x582f38?.[_0x13af62(0x436)]);}async['updateMessage'](_0xa815b7,_0x34d49b,_0x210449){const _0x166c4f=a0_0x5708fb;if(await this[_0x166c4f(0x751)](_0xa815b7,!0x0)){let _0xe7c8bd={'where':{'_id':_0xa815b7['id'],'owner':this['instance'][_0x166c4f(0x2d3)]}},_0x3c19aa={'status':[_0x210449[_0x166c4f(0x284)]][0x0]};try{let _0x239fe4=await this[_0x166c4f(0x3ed)]['message'][_0x166c4f(0x74b)](_0xe7c8bd,_0x3c19aa);_0x239fe4&&B(this['instanceName'],'messages',{'message':_0x239fe4});}catch{}}}[a0_0x5708fb(0x424)](_0x9831b5){const _0x2a5afd=a0_0x5708fb;let _0x222c44=_0x9831b5[_0x2a5afd(0x2be)](/\\n/g,'\x0a')['split']('\x0a')[_0x2a5afd(0x498)](_0x20aff1=>_0x20aff1['includes']('TEL')||_0x20aff1[_0x2a5afd(0x3b1)](_0x2a5afd(0x1b7))),_0x21cbcd='';return _0x222c44[_0x2a5afd(0x31e)](_0x4d99d3=>{const _0x3bc0d0=_0x2a5afd;let _0x2d6667=/TEL(?:.*):(.+)/,_0x909080=/EMAIL(?:.*):(.+)/,_0x5210d6=_0x4d99d3[_0x3bc0d0(0x356)](_0x2d6667),_0x1e50a2=_0x4d99d3[_0x3bc0d0(0x356)](_0x909080);if(_0x5210d6){let _0x2c2516=_0x5210d6[0x1][_0x3bc0d0(0x2be)](/-| |\+|\(|\)/g,'')[_0x3bc0d0(0x3f3)]();_0x21cbcd+=_0x3bc0d0(0x65b)+_0x2c2516+'\x0a';}else{if(_0x1e50a2){let _0x4632b2=_0x1e50a2[0x1][_0x3bc0d0(0x3f3)]();_0x21cbcd+='E-mail:\x20'+_0x4632b2+'\x0a';}}}),_0x21cbcd[_0x2a5afd(0x3f3)]();}async[a0_0x5708fb(0x206)](_0x1006e4,_0xca9408,_0x45c374){const _0x2ac2d9=a0_0x5708fb;let _0x3b98bf=_0xca9408['key']['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x1badbc=_0xca9408[_0x2ac2d9(0x6b9)][_0x2ac2d9(0x667)],_0x40a012=_0x3b98bf[_0x2ac2d9(0x59d)]('@g.us');if(!_0x1006e4[_0x2ac2d9(0x3e7)])return;let _0x1377be={'lastmsg':_0xca9408[_0x2ac2d9(0x6c0)]||Date[_0x2ac2d9(0x70a)](),'unreadcount':_0x1badbc?0x0:0x1,..._0x1badbc||_0x40a012?{}:{'name':_0xca9408['pushName']},..._0x40a012?{'group':_0x40a012}:{}},_0x5c3c23=await this[_0x2ac2d9(0x3ed)][_0x2ac2d9(0x2e9)][_0x2ac2d9(0x28f)]({'where':{'_id':_0x3b98bf,'owner':this[_0x2ac2d9(0x411)][_0x2ac2d9(0x2d3)]}},_0x1377be,{'new':!0x0,'upsert':!0x0});if(!_0x40a012&&(!_0x5c3c23?.['leadInfo']||!_0x5c3c23['leadInfo'][_0x2ac2d9(0x269)])&&_0xca9408[_0x2ac2d9(0x404)]&&!_0x1badbc&&await this[_0x2ac2d9(0x3ed)]['chat'][_0x2ac2d9(0x28f)]({'where':{'_id':_0x3b98bf,'owner':this['instance'][_0x2ac2d9(0x2d3)]}},{'leadInfo.nome':_0xca9408[_0x2ac2d9(0x404)]},{'new':!0x0,'upsert':!0x1}),_0x5c3c23)B(this['instanceName'],_0x2ac2d9(0x307),{'chat':_0x5c3c23});else{this['logger'][_0x2ac2d9(0x4aa)](this[_0x2ac2d9(0x4f0)]+'\x20('+this[_0x2ac2d9(0x411)]['wuid']+_0x2ac2d9(0x522));return;}if(!this[_0x2ac2d9(0x76e)]?.[_0x2ac2d9(0x2b7)][_0x2ac2d9(0x506)])return this['logger']['verbose'](this[_0x2ac2d9(0x4f0)]+'\x20('+this['instance'][_0x2ac2d9(0x2d3)]+_0x2ac2d9(0x5b5)),null;if(_0x5c3c23['_id'][_0x2ac2d9(0x3b1)]('@g.us')&&this[_0x2ac2d9(0x76e)]?.[_0x2ac2d9(0x2b7)][_0x2ac2d9(0x658)]===!0x0)return this[_0x2ac2d9(0x45b)][_0x2ac2d9(0x60a)](this['instanceName']+'\x20('+this[_0x2ac2d9(0x411)][_0x2ac2d9(0x2d3)]+_0x2ac2d9(0x5df)),null;if(_0x5c3c23[_0x2ac2d9(0x3f0)]){if(_0x5c3c23[_0x2ac2d9(0x3f0)]['desativadoFluxoAte']===0x0||_0x5c3c23['leadInfo'][_0x2ac2d9(0x1fa)])return this[_0x2ac2d9(0x45b)][_0x2ac2d9(0x60a)](this[_0x2ac2d9(0x4f0)]+'\x20('+this[_0x2ac2d9(0x411)]['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x3b98bf+',\x20saindo.'),null;if(_0x5c3c23[_0x2ac2d9(0x3f0)]['desativadoFluxoAte']>Date[_0x2ac2d9(0x70a)]())return this['logger'][_0x2ac2d9(0x60a)](this[_0x2ac2d9(0x4f0)]+'\x20('+this[_0x2ac2d9(0x411)][_0x2ac2d9(0x2d3)]+_0x2ac2d9(0x405)+new Date(_0x5c3c23[_0x2ac2d9(0x3f0)][_0x2ac2d9(0x67b)])[_0x2ac2d9(0x61f)]()+_0x2ac2d9(0x569)),null;}this[_0x2ac2d9(0x45b)]['verbose'](this[_0x2ac2d9(0x4f0)]+'\x20('+this['instance']['wuid']+_0x2ac2d9(0x687)),this['StartBot'](_0x45c374,_0xca9408,this[_0x2ac2d9(0x411)][_0x2ac2d9(0x2d3)]);}async[a0_0x5708fb(0x52a)](_0x35f0f1,_0xc0d0f6){const _0x28bc54=a0_0x5708fb;if(_0xc0d0f6['ENABLED']){let _0x3877e3=_0x35f0f1[_0x28bc54(0x2ee)](async _0x530fae=>{const _0x2eb135=_0x28bc54;try{let _0x9e8926={'_id':_0x530fae['_id'],'owner':_0x530fae[_0x2eb135(0x42a)],'lastcache':0x0};if(_0x530fae['group']!==null&&(_0x9e8926[_0x2eb135(0x4af)]=_0x530fae['group']),_0x530fae[_0x2eb135(0x3a8)]!==null&&(_0x9e8926['name']=_0x530fae['name']),_0x530fae[_0x2eb135(0x467)]!==null&&(_0x9e8926[_0x2eb135(0x467)]=_0x530fae[_0x2eb135(0x467)]),_0x530fae[_0x2eb135(0x51d)]!==null&&(_0x9e8926['imagechat']=_0x530fae['imagechat']),_0x530fae[_0x2eb135(0x51d)]===null&&(_0x9e8926['imagechat']=_0x2eb135(0x605)),_0x530fae[_0x2eb135(0x5d6)]!==null&&(_0x9e8926[_0x2eb135(0x5d6)]=_0x530fae['lastmsg']),_0x530fae[_0x2eb135(0x50d)]!==null&&(_0x9e8926[_0x2eb135(0x50d)]=_0x530fae[_0x2eb135(0x50d)]),_0x530fae['unreadcount']!==null&&(_0x9e8926[_0x2eb135(0x3f8)]=_0x530fae['unreadcount']),Object['keys'](_0x9e8926)['length']>0x0)return await this['repository'][_0x2eb135(0x2e9)][_0x2eb135(0x28f)]({'where':{'_id':_0x530fae[_0x2eb135(0x1bf)],'owner':_0x530fae[_0x2eb135(0x42a)]}},_0x9e8926);}catch(_0x2dc39e){return console[_0x2eb135(0x4aa)](_0x2eb135(0x4c9)+_0x530fae[_0x2eb135(0x1bf)]+':',_0x2dc39e),null;}}),_0x1028fb=(await Promise[_0x28bc54(0x5dd)](_0x3877e3))[_0x28bc54(0x498)](_0x4ae3db=>_0x4ae3db!==null)[_0x28bc54(0x695)];this[_0x28bc54(0x45b)][_0x28bc54(0x60a)](this[_0x28bc54(0x4f0)]+'\x20('+this[_0x28bc54(0x411)][_0x28bc54(0x2d3)]+_0x28bc54(0x2d5)+_0x1028fb+_0x28bc54(0x2b1)+this[_0x28bc54(0x411)][_0x28bc54(0x2d3)]+_0x28bc54(0x58d));}}async[a0_0x5708fb(0x75c)](_0x50ccf8){const _0x32dabc=a0_0x5708fb;this[_0x32dabc(0x45b)][_0x32dabc(0x60a)](this[_0x32dabc(0x4f0)]+'\x20('+this[_0x32dabc(0x411)]['wuid']+_0x32dabc(0x56b));let _0x2c5e65={'readMessages':[{'remoteJid':_0x50ccf8['chatLog'][_0x32dabc(0x6b0)][_0x32dabc(0x6b9)]['remoteJid'],'fromMe':_0x50ccf8['chatLog'][_0x32dabc(0x6b0)][_0x32dabc(0x6b9)][_0x32dabc(0x667)],'id':_0x50ccf8['chatLog'][_0x32dabc(0x6b0)]['key']['id']}]};await this[_0x32dabc(0x49c)](_0x2c5e65);}async[a0_0x5708fb(0x597)](_0x5535da,_0x40b947,_0x2a30c1){const _0x279add=a0_0x5708fb;try{let {key:_0x136e9c,message_normalized:_0xfd060e}=_0x40b947,_0x500795=_0xfd060e,_0x5e6cd0=_0xfd060e[_0x279add(0x2ce)]||_0xfd060e[_0x279add(0x45d)]||_0xfd060e[_0x279add(0x21f)]||_0xfd060e[_0x279add(0x3a8)],_0x10dfeb=_0x136e9c[_0x279add(0x22b)],_0x464ed0;if(_0x500795[_0x279add(0x6b9)][_0x279add(0x667)]&&_0x5e6cd0[_0x279add(0x3f3)]()!==this['AutomateSystem']?.[_0x279add(0x2b7)][_0x279add(0x3fe)][_0x279add(0x3f3)]())return this['logger'][_0x279add(0x60a)](this[_0x279add(0x4f0)]+'\x20('+this[_0x279add(0x411)][_0x279add(0x2d3)]+_0x279add(0x566)),null;if(_0x500795[_0x279add(0x6b9)][_0x279add(0x667)]&&_0x5e6cd0['trim']()===this[_0x279add(0x76e)]?.['flowConfig']['stopConversation'][_0x279add(0x3f3)]()){this[_0x279add(0x45b)][_0x279add(0x60a)](this[_0x279add(0x4f0)]+'\x20('+this['instance'][_0x279add(0x2d3)]+_0x279add(0x2f2));let _0x448a5b=await j[_0x279add(0x2ff)]({'owner':_0x2a30c1,'remoteJid':_0x10dfeb,'status':_0x279add(0x36f)});this[_0x279add(0x45b)][_0x279add(0x60a)](this[_0x279add(0x4f0)]+'\x20('+this[_0x279add(0x411)][_0x279add(0x2d3)]+_0x279add(0x541)+_0x448a5b);let _0x5ab852=Date['now'](),_0x3e80b9;return this[_0x279add(0x76e)]?.[_0x279add(0x2b7)][_0x279add(0x40b)]===0x0?_0x3e80b9={'stoppedUntil':_0x5ab852+0x7591f6200}:_0x3e80b9={'stoppedUntil':_0x5ab852+this[_0x279add(0x76e)]?.[_0x279add(0x2b7)][_0x279add(0x40b)]*0x3c*0x3e8},this[_0x279add(0x45b)][_0x279add(0x60a)](this[_0x279add(0x4f0)]+'\x20('+this[_0x279add(0x411)]['wuid']+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x3e80b9),this['updateStopChat'](_0x464ed0,_0x3e80b9['stoppedUntil']),null;}if(_0x5e6cd0&&_0x5e6cd0[_0x279add(0x232)](this[_0x279add(0x76e)]?.[_0x279add(0x2b7)][_0x279add(0x66f)])&&_0x5e6cd0[_0x279add(0x695)]>0x4){let _0x222266=await I[_0x279add(0x5fc)]({'owner':_0x2a30c1,'startCommandWord':_0x5e6cd0});if(this['logger'][_0x279add(0x60a)](this[_0x279add(0x4f0)]+'\x20('+this[_0x279add(0x411)][_0x279add(0x2d3)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x222266)_0x464ed0=await this[_0x279add(0x65f)](_0x222266,_0x500795[_0x279add(0x6b9)],_0x500795);else return this[_0x279add(0x45b)][_0x279add(0x60a)](this[_0x279add(0x4f0)]+'\x20('+this[_0x279add(0x411)]['wuid']+_0x279add(0x37b)),null;}else _0x464ed0=await this['findConversation'](_0x2a30c1,_0x10dfeb,_0x500795);if(_0x464ed0){this[_0x279add(0x45b)][_0x279add(0x60a)](this[_0x279add(0x4f0)]+'\x20('+this[_0x279add(0x411)][_0x279add(0x2d3)]+_0x279add(0x298)),!_0x136e9c[_0x279add(0x667)]&&_0x464ed0[_0x279add(0x729)]&&this['readMessageBot'](_0x464ed0);let _0x2fc23b=await this[_0x279add(0x6c2)](_0x464ed0);_0x2fc23b&&await this['processblock'](_0x464ed0,_0x2fc23b,_0x464ed0['remoteJid']);}}catch(_0x159684){this[_0x279add(0x45b)][_0x279add(0x4aa)](this[_0x279add(0x4f0)]+'\x20('+this[_0x279add(0x411)][_0x279add(0x2d3)]+_0x279add(0x3e3)+_0x159684);}}[a0_0x5708fb(0x598)](_0x34b449,_0x5ed371='',_0x32e681={},_0x1295af=!0x0){const _0xd5437c=a0_0x5708fb;for(let _0xa59a72 in _0x34b449){let _0x79bbeb=_0x1295af?'_'+_0xa59a72:''+_0x5ed371+_0xa59a72;typeof _0x34b449[_0xa59a72]==_0xd5437c(0x279)&&_0x34b449[_0xa59a72]!==null?this[_0xd5437c(0x598)](_0x34b449[_0xa59a72],_0x79bbeb+'.',_0x32e681,!0x1):_0x32e681[_0x79bbeb]=String(_0x34b449[_0xa59a72]);}return _0x32e681;}[a0_0x5708fb(0x442)](_0x587e81){const _0x4ab021=a0_0x5708fb;let _0x1cb290={};for(let _0x365a19 of _0x587e81)typeof _0x365a19[_0x4ab021(0x3a8)]=='string'&&typeof _0x365a19['value']=='string'&&(_0x1cb290[_0x365a19[_0x4ab021(0x3a8)]]=_0x365a19['value']);return _0x1cb290;}async[a0_0x5708fb(0x6c2)](_0x42fef8){const _0x457241=a0_0x5708fb;if(!this[_0x457241(0x76e)]?.[_0x457241(0x2b7)][_0x457241(0x506)]||_0x42fef8['status']!=='open'&&_0x42fef8[_0x457241(0x1f3)]==='')return null;let _0x506686=_0x42fef8[_0x457241(0x1fb)][_0x457241(0x201)]||_0x457241(0x26c);typeof _0x42fef8[_0x457241(0x1fb)][_0x457241(0x527)]>'u'&&(_0x42fef8[_0x457241(0x1fb)][_0x457241(0x527)]=!0x0);let _0xf71088=_0x42fef8[_0x457241(0x1fb)][_0x457241(0x527)];this[_0x457241(0x45b)][_0x457241(0x60a)](this[_0x457241(0x4f0)]+'\x20('+this[_0x457241(0x411)][_0x457241(0x2d3)]+_0x457241(0x2dd)+_0x506686+',\x20lastCondition:\x20'+_0xf71088);let _0x4483eb=_0x506686===_0x457241(0x26c)?_0x42fef8[_0x457241(0x660)]['find'](_0x397f5c=>_0x397f5c[_0x457241(0x2af)]===_0x457241(0x26c)):_0x42fef8['blocks'][_0x457241(0x2ff)](_0x48d492=>_0x48d492[_0x457241(0x1bf)][_0x457241(0x3f5)]()===_0x506686[_0x457241(0x3f5)]());if(!_0x4483eb)return this[_0x457241(0x45b)][_0x457241(0x4aa)](this[_0x457241(0x4f0)]+'\x20('+this[_0x457241(0x411)]['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x506686),null;let _0xfa8999={'_pushName':_0x42fef8[_0x457241(0x1fb)]['lastReceivedMessage'][_0x457241(0x404)],..._0x42fef8['chatLog'][_0x457241(0x1a5)]},_0x49eb8b=null;if(_0x42fef8[_0x457241(0x1f3)]){let _0x39fa3b=_0x42fef8[_0x457241(0x1fb)][_0x457241(0x6b0)]['vote'],_0x525647=_0x42fef8[_0x457241(0x3bf)][_0x457241(0x2ff)](_0x440236=>_0x440236[_0x457241(0x722)]===_0x39fa3b);if(_0x525647){let _0x1f51e9=_0x525647[_0x457241(0x5a4)];if(_0x49eb8b=_0x42fef8['blocks'][_0x457241(0x2ff)](_0x4b52bc=>_0x4b52bc['groupId']===_0x1f51e9&&_0x4b52bc['order']===0x1),_0x4483eb[_0x457241(0x5e2)]['pollOnReplyDelete']){let _0x5a552b={'id':_0x42fef8['waitingPoll_id'],'remoteJid':_0x42fef8['remoteJid'],'fromMe':!0x0};await this[_0x457241(0x2f3)](_0x5a552b);}if(_0x4483eb[_0x457241(0x5e2)][_0x457241(0x2fc)]&&_0x4483eb['uazapi'][_0x457241(0x3e4)]){let _0x1e1610={'number':_0x42fef8['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x42fef8[_0x457241(0x6e8)]+_0x457241(0x600)+_0x39fa3b}};await this['textMessage'](_0x1e1610);}_0x42fef8[_0x457241(0x284)]=_0x457241(0x36f),_0x42fef8[_0x457241(0x1f3)]='',_0x42fef8[_0x457241(0x6e8)]='',_0x42fef8[_0x457241(0x3bf)]=[];}else{this['logger'][_0x457241(0x60a)](this[_0x457241(0x4f0)]+'\x20('+this[_0x457241(0x411)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x4e9e4b={'activatedCount':_0x42fef8[_0x457241(0x1fb)][_0x457241(0x670)]['filter'](_0x3f3775=>String(_0x3f3775[_0x457241(0x218)])===String(_0x506686))['length'],'moreLogs':[_0x457241(0x668)]};if(_0x4483eb[_0x457241(0x5e2)][_0x457241(0x199)]){let _0x55392f={'number':_0x42fef8['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4483eb['uazapi'][_0x457241(0x199)]}};await this[_0x457241(0x1ed)](_0x55392f);}if(_0x4483eb[_0x457241(0x268)]!==void 0x0&&_0x4e9e4b['activatedCount']>=_0x4483eb['maxActives']){let _0x19695d=Date[_0x457241(0x70a)](),_0x11f1cc=_0x4483eb[_0x457241(0x734)]??0xa;isNaN(_0x11f1cc)&&(_0x11f1cc=0xa);let _0x4fc729=_0x19695d+_0x11f1cc*0x3c*0x3e8;_0x4e9e4b['newStoppedUntil']=_0x4fc729,_0x4e9e4b[_0x457241(0x29c)][_0x457241(0x245)](_0x457241(0x22a)),this['updateStopChat'](_0x42fef8,_0x4fc729),_0x42fef8[_0x457241(0x1f3)]='',_0x42fef8[_0x457241(0x6e8)]='',_0x42fef8[_0x457241(0x3bf)]=[];}return this['updateConversation'](_0x42fef8,_0x4483eb,_0x4e9e4b,!0x0),null;}}if(_0xf71088&&_0x4483eb[_0x457241(0x5a4)]&&!_0x42fef8['waitingPoll_id']){let _0x4a3ed4=_0x42fef8[_0x457241(0x660)][_0x457241(0x498)](_0x562bee=>_0x562bee['groupId'][_0x457241(0x3f5)]()===_0x4483eb[_0x457241(0x5a4)]['toString']())[_0x457241(0x537)]((_0x1abe4d,_0x4dc08e)=>_0x1abe4d[_0x457241(0x2d9)]-_0x4dc08e[_0x457241(0x2d9)]);_0x4a3ed4['length']>0x0&&(_0x49eb8b=_0x4a3ed4[0x0]);}if(!_0x49eb8b){let _0x3d0b7b=_0x4483eb[_0x457241(0x4ab)],_0x229dd6=_0x42fef8[_0x457241(0x660)][_0x457241(0x498)](_0x13f77c=>_0x13f77c[_0x457241(0x4ab)]===_0x3d0b7b&&_0x13f77c['order']>_0x4483eb['order'])[_0x457241(0x537)]((_0x19022e,_0x39d4f6)=>_0x19022e[_0x457241(0x2d9)]-_0x39d4f6[_0x457241(0x2d9)]);_0x229dd6[_0x457241(0x695)]>0x0&&(_0x49eb8b=_0x229dd6[0x0]);}if(!_0x49eb8b)return _0x42fef8[_0x457241(0x284)]=_0x457241(0x5ac),null;_0x42fef8[_0x457241(0x1fb)][_0x457241(0x1a5)]=_0xfa8999;let _0x1124e7=JSON[_0x457241(0x233)](JSON[_0x457241(0x726)](_0x49eb8b));return this['replaceVariablesInObject'](_0x1124e7,_0x42fef8['chatLog']['realVariables']),_0x42fef8[_0x457241(0x1fb)]['lastBlockId']=_0x1124e7[_0x457241(0x1bf)],_0x42fef8[_0x457241(0x1fb)][_0x457241(0x527)]=!0x0,_0x1124e7;}[a0_0x5708fb(0x677)](_0xb7d8fa,_0x38fcfd){return _0xb7d8fa['replace'](/\{\{([^}]+)\}\}/g,(_0x119c84,_0x38ac88)=>_0x38fcfd[_0x38ac88]||'');}[a0_0x5708fb(0x619)](_0x408b1e,_0x2cc3b8){const _0x182fba=a0_0x5708fb;for(let _0xa54333 in _0x408b1e)typeof _0x408b1e[_0xa54333]=='string'?_0x408b1e[_0xa54333]=this['replaceVariables'](_0x408b1e[_0xa54333],_0x2cc3b8):typeof _0x408b1e[_0xa54333]==_0x182fba(0x279)&&this[_0x182fba(0x619)](_0x408b1e[_0xa54333],_0x2cc3b8);}async['goNextblock'](_0x19990c,_0x317a0f){const _0x231845=a0_0x5708fb;let _0x4fed5e=_0x317a0f[_0x231845(0x1bf)];if(_0x19990c[_0x231845(0x1fb)]&&_0x19990c[_0x231845(0x1fb)]['blockLogs']){let _0xc9d56b=_0x19990c[_0x231845(0x1fb)][_0x231845(0x670)][_0x231845(0x498)](_0x3a86ef=>String(_0x3a86ef[_0x231845(0x218)])===String(_0x4fed5e))[_0x231845(0x641)]();if(_0xc9d56b&&_0xc9d56b['error']&&_0x317a0f[_0x231845(0x5da)])return _0x19990c[_0x231845(0x284)]='closed',await this[_0x231845(0x3b4)](_0x19990c),null;}if(_0x317a0f['type']==='uazapi'&&_0x317a0f['uazapi']['command']===_0x231845(0x427)&&_0x19990c[_0x231845(0x1f3)])return _0x19990c[_0x231845(0x1fb)][_0x231845(0x201)]=_0x4fed5e,await this['saveConversationToDatabase'](_0x19990c),null;let _0x42b6cc=await this[_0x231845(0x6c2)](_0x19990c);if(_0x19990c[_0x231845(0x1fb)]&&_0x19990c[_0x231845(0x1fb)]['blockLogs']){let _0x2a4242=_0x19990c[_0x231845(0x1fb)]['blockLogs'][_0x231845(0x498)](_0x3d7d05=>String(_0x3d7d05[_0x231845(0x218)])===String(_0x4fed5e))[_0x231845(0x695)];if(_0x317a0f[_0x231845(0x268)]!==void 0x0&&_0x2a4242>=_0x317a0f[_0x231845(0x268)]){let _0x2b524d=Date[_0x231845(0x70a)](),_0x4cd00b=_0x317a0f['stopMinutesMaxActives']??0xa;isNaN(_0x4cd00b)&&(_0x4cd00b=0xa);let _0x249c9e=_0x2b524d+_0x4cd00b*0x3c*0x3e8,_0x567ecc={'newStoppedUntil':_0x249c9e};return this[_0x231845(0x412)](_0x19990c,_0x249c9e),this['updateConversation'](_0x19990c,_0x317a0f,_0x567ecc,!0x0),null;}}_0x42b6cc&&_0x42b6cc[_0x231845(0x2af)]!==_0x231845(0x1f1)&&await this['processblock'](_0x19990c,_0x42b6cc,_0x19990c[_0x231845(0x22b)]),_0x42b6cc||await this['saveConversationToDatabase'](_0x19990c),_0x42b6cc&&_0x42b6cc['type']===_0x231845(0x1f1)&&(_0x19990c[_0x231845(0x1fb)][_0x231845(0x201)]=_0x4fed5e,await this[_0x231845(0x3b4)](_0x19990c));}async[a0_0x5708fb(0x662)](_0x3698c2,_0x3036b3,_0x50c27e){const _0x2808b1=a0_0x5708fb;try{let _0x1bd781=_0x3036b3[_0x2808b1(0x2af)];this[_0x2808b1(0x45b)][_0x2808b1(0x60a)](this[_0x2808b1(0x4f0)]+'\x20('+this['instance'][_0x2808b1(0x2d3)]+_0x2808b1(0x472)+_0x1bd781);let _0x90fc6c={'uazapi':()=>this[_0x2808b1(0x397)](_0x3698c2,_0x3036b3,_0x50c27e),'save':()=>this[_0x2808b1(0x32e)](_0x3698c2,_0x3036b3),'stop':()=>this[_0x2808b1(0x3fe)](_0x3698c2,_0x3036b3),'condition':()=>this[_0x2808b1(0x2bb)](_0x3698c2,_0x3036b3),'varedit':()=>this[_0x2808b1(0x41a)](_0x3698c2,_0x3036b3),'apirequest':()=>this['processApiRequest'](_0x3698c2,_0x3036b3),'goToFlow':()=>this[_0x2808b1(0x725)](_0x3698c2,_0x3036b3)}[_0x1bd781];_0x90fc6c&&await _0x90fc6c();}catch(_0x392f2c){this[_0x2808b1(0x45b)][_0x2808b1(0x4aa)](this[_0x2808b1(0x4f0)]+'\x20('+this[_0x2808b1(0x411)][_0x2808b1(0x2d3)]+'):\x20Error\x20processing\x20the\x20block:\x20'+_0x392f2c);}}async[a0_0x5708fb(0x725)](_0x674ac1,_0x21968c){const _0x5ddcee=a0_0x5708fb;if(this[_0x5ddcee(0x45b)][_0x5ddcee(0x60a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5ddcee(0x572)),!_0x674ac1||!_0x21968c)return this[_0x5ddcee(0x45b)][_0x5ddcee(0x4aa)](this['instanceName']+'\x20('+this['instance'][_0x5ddcee(0x2d3)]+_0x5ddcee(0x1d3)),null;await this[_0x5ddcee(0x396)](_0x674ac1,_0x21968c,{},!0x0,!0x0),console[_0x5ddcee(0x525)](_0x5ddcee(0x731)),console[_0x5ddcee(0x525)](_0x21968c);let _0x2e9ad6=_0x21968c[_0x5ddcee(0x400)];console[_0x5ddcee(0x525)](_0x5ddcee(0x3a7),_0x2e9ad6),_0x674ac1=await this[_0x5ddcee(0x55e)](_0x2e9ad6,_0x674ac1[_0x5ddcee(0x22b)],_0x674ac1[_0x5ddcee(0x1fb)][_0x5ddcee(0x1a5)]),this[_0x5ddcee(0x45b)]['verbose'](this[_0x5ddcee(0x4f0)]+'\x20('+this[_0x5ddcee(0x411)][_0x5ddcee(0x2d3)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x5b6b42=await this[_0x5ddcee(0x6c2)](_0x674ac1);_0x5b6b42&&await this[_0x5ddcee(0x662)](_0x674ac1,_0x5b6b42,_0x674ac1[_0x5ddcee(0x22b)]);}async[a0_0x5708fb(0x55e)](_0x257487,_0x56b149,_0x3bb5b2){const _0x550e69=a0_0x5708fb;this[_0x550e69(0x45b)][_0x550e69(0x60a)](this[_0x550e69(0x4f0)]+'\x20('+this[_0x550e69(0x411)]['wuid']+_0x550e69(0x6f6));try{if(_0x257487=await I[_0x550e69(0x5fc)]({'owner':this['instance'][_0x550e69(0x2d3)],'name':_0x257487}),!_0x257487)return this[_0x550e69(0x45b)][_0x550e69(0x4aa)](this[_0x550e69(0x4f0)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x5f60e4=require(_0x550e69(0x3db))[_0x550e69(0x6bd)],_0x351c80=Date[_0x550e69(0x70a)](),_0x18d9d0=_0x550e69(0x26c),_0x455223={},_0x211f90={},_0xc6ca6c={..._0x257487[_0x550e69(0x2a1)],'chatLog':null},_0x1d7f63={'lastReceivedMessage':_0x455223,'lastSendMessage':_0x211f90,'lastBlockId':_0x18d9d0,'lastCondition':!0x0,'realVariables':_0x3bb5b2};_0xc6ca6c[_0x550e69(0x1fb)]=_0x1d7f63,_0xc6ca6c[_0x550e69(0x1fb)][_0x550e69(0x1a5)]={..._0x3bb5b2},delete _0xc6ca6c['_id'],_0xc6ca6c['_id']=new _0x5f60e4(),_0xc6ca6c[_0x550e69(0x6a7)]=_0x351c80,_0xc6ca6c[_0x550e69(0x284)]='open',_0xc6ca6c[_0x550e69(0x22b)]=_0x56b149;let _0x10345c=await j[_0x550e69(0x770)](_0xc6ca6c);return this[_0x550e69(0x45b)][_0x550e69(0x60a)](this[_0x550e69(0x4f0)]+'\x20('+this[_0x550e69(0x411)][_0x550e69(0x2d3)]+_0x550e69(0x217)),_0x10345c?_0xc6ca6c:null;}catch(_0xcfe36b){throw this[_0x550e69(0x45b)][_0x550e69(0x4aa)](this['instanceName']+'\x20('+this['instance'][_0x550e69(0x2d3)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0xcfe36b),new g(_0xcfe36b[_0x550e69(0x460)]);}}async[a0_0x5708fb(0x64f)](_0x16c14f,_0x130c0b){const _0x1450c0=a0_0x5708fb;let _0x5da7fc,_0x32f55e;try{let _0x345104=_0x130c0b[_0x1450c0(0x430)];if(!_0x345104||!_0x345104[_0x1450c0(0x6b6)]||!_0x345104[_0x1450c0(0x260)])throw new Error(_0x1450c0(0x429));let _0x34039e={'method':_0x345104['method'],'url':_0x345104[_0x1450c0(0x6b6)],'headers':_0x345104[_0x1450c0(0x3c6)]||{},'data':_0x345104['body']||{}};_0x5da7fc=(await(0x0,ce[_0x1450c0(0x19f)])(_0x34039e))[_0x1450c0(0x743)];let _0x2adc3e=_0x16c14f[_0x1450c0(0x1fb)][_0x1450c0(0x1a5)],_0x59b3a7=this[_0x1450c0(0x598)](_0x5da7fc);return Object[_0x1450c0(0x73f)](_0x2adc3e,_0x59b3a7),_0x16c14f[_0x1450c0(0x1fb)][_0x1450c0(0x1a5)]=_0x2adc3e,_0x32f55e={'error':!0x1,'apiResponse':_0x5da7fc},this[_0x1450c0(0x396)](_0x16c14f,_0x130c0b,_0x32f55e),_0x5da7fc;}catch(_0x582f18){console[_0x1450c0(0x4aa)](_0x1450c0(0x6e4),_0x582f18),_0x582f18[_0x1450c0(0x70d)]&&(_0x5da7fc=_0x582f18[_0x1450c0(0x70d)][_0x1450c0(0x743)]);let _0x348194=_0x16c14f['chatLog'][_0x1450c0(0x1a5)],_0x3169b7=this[_0x1450c0(0x598)](_0x5da7fc);return Object[_0x1450c0(0x73f)](_0x348194,_0x3169b7),_0x16c14f[_0x1450c0(0x1fb)][_0x1450c0(0x1a5)]=_0x348194,_0x32f55e={'error':!0x0,'errorLog':_0x582f18[_0x1450c0(0x3f5)](),'apiResponse':_0x5da7fc},this[_0x1450c0(0x396)](_0x16c14f,_0x130c0b,_0x32f55e),{'success':!0x1};}}[a0_0x5708fb(0x26f)](_0x13aa3c,_0x37d581){const _0x3f455d=a0_0x5708fb;let _0xc6cf81=_0x2b91e0=>{const _0x20f056=a0_0x3a58;let _0x275768=_0x2b91e0[_0x20f056(0x2be)](/[^0-9.,-]/g,'')[_0x20f056(0x2be)](',','.'),_0x325b78=parseFloat(_0x275768);return isNaN(_0x325b78)?null:_0x325b78;},_0x214462=_0x37d581['firstValue'],_0x58ee0a=_0x37d581[_0x3f455d(0x383)];typeof _0x214462==_0x3f455d(0x4c0)&&(_0x214462=this[_0x3f455d(0x677)](_0x214462,_0x13aa3c[_0x3f455d(0x1fb)]['realVariables'])??''),typeof _0x58ee0a==_0x3f455d(0x4c0)&&(_0x58ee0a=this[_0x3f455d(0x677)](_0x58ee0a,_0x13aa3c[_0x3f455d(0x1fb)][_0x3f455d(0x1a5)])??'');let _0x413d00=null;if(!_0x214462||!_0x37d581[_0x3f455d(0x4d6)])return null;switch(this['logger'][_0x3f455d(0x60a)](this[_0x3f455d(0x4f0)]+'\x20('+this[_0x3f455d(0x411)]['wuid']+_0x3f455d(0x1a4)+_0x214462),this[_0x3f455d(0x45b)][_0x3f455d(0x60a)](this[_0x3f455d(0x4f0)]+'\x20('+this[_0x3f455d(0x411)][_0x3f455d(0x2d3)]+_0x3f455d(0x5b6)+_0x58ee0a),_0x37d581[_0x3f455d(0x4d6)]){case'+':case'-':case'*':case'/':let _0x58eee1=_0xc6cf81(_0x214462),_0x16a08e=_0xc6cf81(_0x58ee0a||'0');if(_0x58eee1===null)return null;switch(_0x37d581[_0x3f455d(0x4d6)]){case'+':_0x413d00=_0x58eee1+(_0x16a08e??0x0);break;case'-':_0x413d00=_0x58eee1-(_0x16a08e??0x0);break;case'*':_0x413d00=_0x58eee1*(_0x16a08e??0x1);break;case'/':_0x16a08e!==0x0&&(_0x413d00=_0x58eee1/(_0x16a08e??0x1));break;}break;case _0x3f455d(0x66c):case _0x3f455d(0x1f2):let _0x2fcde0=_0x58ee0a,_0x307f65=_0x37d581[_0x3f455d(0x5ca)];if(typeof _0x307f65==_0x3f455d(0x4c0)&&(_0x307f65=this['replaceVariables'](_0x307f65,_0x13aa3c[_0x3f455d(0x1fb)][_0x3f455d(0x1a5)])??''),_0x2fcde0&&_0x307f65!==void 0x0){let _0x537b83=_0x37d581[_0x3f455d(0x4d6)]===_0x3f455d(0x66c)?new RegExp(_0x2fcde0[_0x3f455d(0x2be)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3f455d(0x349)),'g'):new RegExp(_0x2fcde0,'g');_0x413d00=_0x214462[_0x3f455d(0x2be)](_0x537b83,_0x307f65);}else console['warn'](_0x3f455d(0x74e));break;case _0x3f455d(0x648):_0x413d00=_0x58ee0a;break;case _0x3f455d(0x45c):let _0x4ee235=_0x214462[_0x3f455d(0x356)](new RegExp(_0x58ee0a||''));_0x413d00=_0x4ee235?_0x4ee235[0x0]:'';break;case _0x3f455d(0x620):_0x413d00=_0x214462[_0x3f455d(0x46d)](0x0,parseInt(_0x58ee0a||'0'));break;case _0x3f455d(0x3cf):let _0x23d6de=parseInt(_0x58ee0a||'0');_0x413d00=_0x214462['slice'](_0x214462[_0x3f455d(0x695)]-_0x23d6de);break;case'toBrazilianNumberFormat':let _0x138f8e=_0xc6cf81(_0x214462),_0x42b209=parseInt(_0x58ee0a||'0');_0x42b209=Math[_0x3f455d(0x211)](_0x42b209),_0x138f8e!==null?_0x413d00=_0x138f8e[_0x3f455d(0x61f)]('pt-BR',{'minimumFractionDigits':_0x42b209,'maximumFractionDigits':_0x42b209}):(console['warn'](_0x3f455d(0x501)+_0x214462),_0x413d00=null);break;case _0x3f455d(0x68d):let _0x3c75ad=_0xc6cf81(_0x214462);_0x3c75ad!==null?_0x413d00=_0x3c75ad[_0x3f455d(0x61f)]('pt-BR',{'style':_0x3f455d(0x375),'currency':_0x3f455d(0x499)}):(console[_0x3f455d(0x3c8)](_0x3f455d(0x43b)+_0x214462),_0x413d00=null);break;case _0x3f455d(0x2c1):_0x413d00=_0x214462[_0x3f455d(0x4eb)]();break;case _0x3f455d(0x699):_0x413d00=_0x214462[_0x3f455d(0x684)]();break;case _0x3f455d(0x54c):_0x413d00=_0x214462[_0x3f455d(0x3bd)]('\x20')[_0x3f455d(0x2ee)](_0x403110=>_0x403110[_0x3f455d(0x1f0)](0x0)['toUpperCase']()+_0x403110['slice'](0x1)['toLowerCase']())[_0x3f455d(0x532)]('\x20');break;case _0x3f455d(0x2dc):_0x413d00=_0x214462[_0x3f455d(0x3f3)]();break;default:_0x413d00=_0x214462;}return _0x413d00!==null?_0x413d00[_0x3f455d(0x3f5)]():null;}async['processvaredits'](_0x58a9c5,_0x11ffff){const _0x39616c=a0_0x5708fb;try{let _0x240bcd=_0x58a9c5[_0x39616c(0x56e)]?.[_0x39616c(0x498)](_0x3486a7=>_0x3486a7['blockId']===_0x11ffff[_0x39616c(0x1bf)]?.[_0x39616c(0x3f5)]())||[],_0x25b65b=_0x11ffff['saveVariable'],_0x37bbd7=null,_0x3e7826=[],_0x8e7fe4=_0x58a9c5[_0x39616c(0x1fb)][_0x39616c(0x1a5)][_0x25b65b];_0x3e7826[_0x39616c(0x245)]('Valor\x20inicial:\x20\x22'+_0x8e7fe4+'\x22');for(let _0x4ca9c7 of _0x240bcd){_0x4ca9c7[_0x39616c(0x75e)]=_0x8e7fe4,_0x37bbd7=_0x4ca9c7[_0x39616c(0x75e)];let _0x99e078;try{_0x99e078=this[_0x39616c(0x26f)](_0x58a9c5,_0x4ca9c7);}catch(_0x8260a9){console[_0x39616c(0x4aa)](_0x39616c(0x4d0)+_0x8260a9[_0x39616c(0x460)]);continue;}if(_0x99e078!==null){let _0x26d9f4=_0x39616c(0x673)+_0x4ca9c7[_0x39616c(0x4d6)]+'\x22',_0x21050f=['toBRL',_0x39616c(0x2c1),'lowerCase',_0x39616c(0x54c),'trimmed'];_0x4ca9c7[_0x39616c(0x4d6)]==='findAndReplace'||_0x4ca9c7[_0x39616c(0x4d6)]==='findAndReplaceRegex'?_0x26d9f4+=_0x39616c(0x19a)+_0x4ca9c7[_0x39616c(0x383)]+_0x39616c(0x4e7)+_0x4ca9c7[_0x39616c(0x5ca)]+'\x22':!_0x21050f['includes'](_0x4ca9c7[_0x39616c(0x4d6)])&&_0x4ca9c7['secondValue']!==null&&_0x4ca9c7[_0x39616c(0x383)]!==void 0x0&&(_0x26d9f4+=_0x39616c(0x368)+_0x4ca9c7[_0x39616c(0x383)]+'\x22'),_0x26d9f4+=_0x39616c(0x4e2)+_0x99e078+'.',_0x3e7826[_0x39616c(0x245)](_0x26d9f4);}_0x99e078!==null&&(_0x8e7fe4=_0x99e078);}if(_0x58a9c5['chatLog'][_0x39616c(0x1a5)]&&_0x11ffff[_0x39616c(0x4a1)]){_0x58a9c5[_0x39616c(0x1fb)][_0x39616c(0x1a5)][_0x11ffff[_0x39616c(0x4a1)]]=_0x8e7fe4;let _0x3b9cc5={'variable':_0x11ffff[_0x39616c(0x4a1)],'oldValue':_0x37bbd7,'newValue':_0x8e7fe4,'moreLogs':_0x3e7826};try{this[_0x39616c(0x396)](_0x58a9c5,_0x11ffff,_0x3b9cc5);}catch(_0x3f6817){console[_0x39616c(0x4aa)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x3f6817[_0x39616c(0x460)]);}}return _0x25b65b;}catch(_0x4bfa25){return console[_0x39616c(0x4aa)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x4bfa25[_0x39616c(0x460)]),null;}}async[a0_0x5708fb(0x2bb)](_0x553326,_0x57b967){const _0x24553d=a0_0x5708fb;try{let _0x1c4a9f=[],_0x4a3f0b=_0x553326[_0x24553d(0x350)][_0x24553d(0x498)](_0x23148c=>_0x23148c['blockId']===_0x57b967[_0x24553d(0x1bf)][_0x24553d(0x3f5)]()),_0x9b327b=null,_0x4d0930=!0x1;for(let _0x32ce53 of _0x4a3f0b){let _0x1b92ce=this[_0x24553d(0x50b)](_0x553326,_0x32ce53);_0x1c4a9f[_0x24553d(0x245)](_0x24553d(0x470)+_0x32ce53[_0x24553d(0x75e)]+_0x24553d(0x76b)+_0x32ce53[_0x24553d(0x67a)]+_0x24553d(0x453)+_0x32ce53[_0x24553d(0x383)]+',\x20Resultado:\x20'+_0x1b92ce),_0x9b327b===null?_0x9b327b=_0x1b92ce:_0x32ce53[_0x24553d(0x732)]===_0x24553d(0x6e2)?(_0x9b327b=_0x9b327b&&_0x1b92ce,_0x1b92ce||(_0x4d0930=!0x0)):_0x32ce53[_0x24553d(0x732)]==='or'&&(_0x4d0930||(_0x9b327b=_0x9b327b||_0x1b92ce));}_0x9b327b===null&&(_0x9b327b=!0x0);let _0x5354e7={'moreLogs':_0x1c4a9f};_0x553326[_0x24553d(0x1fb)][_0x24553d(0x527)]=_0x9b327b,await this['updateConversation'](_0x553326,_0x57b967,_0x5354e7);}catch(_0x4f090f){this[_0x24553d(0x45b)][_0x24553d(0x4aa)](this['instanceName']+'\x20('+this[_0x24553d(0x411)][_0x24553d(0x2d3)]+'):\x20Error\x20processing\x20conditions:\x20'+_0x4f090f);}}[a0_0x5708fb(0x50b)](_0x4ba7e3,_0x85eaba){const _0x5c6473=a0_0x5708fb;let _0xef9932=_0x85eaba[_0x5c6473(0x75e)],_0x53c356=_0x85eaba[_0x5c6473(0x383)];typeof _0xef9932==_0x5c6473(0x4c0)&&(_0xef9932=this[_0x5c6473(0x677)](_0xef9932,_0x4ba7e3[_0x5c6473(0x1fb)]['realVariables'])??''),typeof _0x53c356==_0x5c6473(0x4c0)&&(_0x53c356=this[_0x5c6473(0x677)](_0x53c356,_0x4ba7e3['chatLog'][_0x5c6473(0x1a5)])??'');try{switch(_0x85eaba[_0x5c6473(0x67a)]){case'equal':return _0xef9932===_0x53c356;case _0x5c6473(0x4a7):return _0xef9932!==_0x53c356;case'contains':return _0xef9932[_0x5c6473(0x3b1)](_0x53c356);case _0x5c6473(0x625):return!_0xef9932[_0x5c6473(0x3b1)](_0x53c356);case'greater':return parseFloat(_0xef9932)>parseFloat(_0x53c356);case _0x5c6473(0x500):return parseFloat(_0xef9932)<parseFloat(_0x53c356);case _0x5c6473(0x317):return _0xef9932!=='';case _0x5c6473(0x2ba):return _0xef9932==='';case _0x5c6473(0x420):return new RegExp(_0x53c356)[_0x5c6473(0x2c8)](_0xef9932);case _0x5c6473(0x1d4):return!new RegExp(_0x53c356)[_0x5c6473(0x2c8)](_0xef9932);default:return!0x1;}}catch(_0x25e315){return console[_0x5c6473(0x4aa)](_0x5c6473(0x2f5)+_0x25e315),!0x1;}}['processConditionsTest'](_0x3ee700){const _0x1ad734=a0_0x5708fb;let _0x22210e=!0x0,_0x260271=null;for(let _0x1cf024 of _0x3ee700){let _0x448b8f=this[_0x1ad734(0x393)](_0x1cf024);if(_0x260271==='or'&&_0x448b8f){_0x22210e=!0x0;break;}if(_0x260271===_0x1ad734(0x6e2)&&!_0x448b8f){_0x22210e=!0x1;break;}_0x260271=_0x1cf024[_0x1ad734(0x732)];}return _0x22210e;}['evaluateConditionTest'](_0x266683){const _0x34199e=a0_0x5708fb;let _0x2af412=_0x266683['firstValue'],_0x2b8141=_0x266683[_0x34199e(0x383)];try{switch(_0x266683[_0x34199e(0x67a)]){case'equal':return String(_0x2af412)===String(_0x2b8141);case'notEqual':return String(_0x2af412)!==String(_0x2b8141);case _0x34199e(0x1be):return String(_0x2af412)[_0x34199e(0x3b1)](String(_0x2b8141));case _0x34199e(0x625):return!String(_0x2af412)['includes'](String(_0x2b8141));case'greater':return parseFloat(String(_0x2af412))>parseFloat(String(_0x2b8141));case _0x34199e(0x500):return parseFloat(String(_0x2af412))<parseFloat(String(_0x2b8141));case'notEmpty':return String(_0x2af412)!=='';case _0x34199e(0x2ba):return String(_0x2af412)==='';case _0x34199e(0x420):return new RegExp(String(_0x2b8141))['test'](String(_0x2af412));case'notMatchRegex':return!new RegExp(String(_0x2b8141))['test'](String(_0x2af412));default:return!0x1;}}catch(_0x31dac9){return console[_0x34199e(0x4aa)](_0x34199e(0x2f5)+_0x31dac9),!0x1;}}async[a0_0x5708fb(0x32e)](_0x4a3bfc,_0x4ac880){const _0x13e832=a0_0x5708fb;if(this[_0x13e832(0x45b)]['verbose'](this[_0x13e832(0x4f0)]+'\x20('+this[_0x13e832(0x411)][_0x13e832(0x2d3)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x4a3bfc||!_0x4ac880)return this[_0x13e832(0x45b)]['error'](this['instanceName']+'\x20('+this[_0x13e832(0x411)][_0x13e832(0x2d3)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3b6082=_0x4ac880[_0x13e832(0x4a1)],_0x2465e9=_0x4a3bfc[_0x13e832(0x1fb)][_0x13e832(0x6b0)]['text']||_0x4a3bfc[_0x13e832(0x1fb)]['lastReceivedMessage'][_0x13e832(0x45d)]||_0x4a3bfc[_0x13e832(0x1fb)][_0x13e832(0x6b0)]['vote'];try{_0x4a3bfc[_0x13e832(0x1fb)][_0x13e832(0x1a5)]||(_0x4a3bfc[_0x13e832(0x1fb)]['realVariables']={});let _0x448edd=_0x4a3bfc['chatLog']['realVariables'][_0x3b6082];_0x4a3bfc[_0x13e832(0x1fb)][_0x13e832(0x1a5)][_0x3b6082]=_0x2465e9;let _0x5bdb5f={'variable':_0x3b6082,'oldValue':_0x448edd,'newValue':_0x2465e9};this[_0x13e832(0x396)](_0x4a3bfc,_0x4ac880,_0x5bdb5f),this[_0x13e832(0x45b)][_0x13e832(0x60a)](this[_0x13e832(0x4f0)]+'\x20('+this[_0x13e832(0x411)][_0x13e832(0x2d3)]+_0x13e832(0x347));}catch(_0x43ae1c){let _0x166013={'error':!0x0,'errorLog':_0x43ae1c[_0x13e832(0x3f5)]()};return this[_0x13e832(0x396)](_0x4a3bfc,_0x4ac880,_0x166013),this['logger'][_0x13e832(0x4aa)](this[_0x13e832(0x4f0)]+'\x20('+this[_0x13e832(0x411)][_0x13e832(0x2d3)]+_0x13e832(0x1ad)+_0x43ae1c[_0x13e832(0x460)]),null;}}async[a0_0x5708fb(0x3fe)](_0x3d6f31,_0x54e11a){const _0x13d3bd=a0_0x5708fb;if(this['logger'][_0x13d3bd(0x60a)](this['instanceName']+'\x20('+this[_0x13d3bd(0x411)]['wuid']+'):\x20Entrou\x20na\x20função\x20stop'),!_0x3d6f31||!_0x54e11a)return this[_0x13d3bd(0x45b)][_0x13d3bd(0x4aa)](this['instanceName']+'\x20('+this[_0x13d3bd(0x411)][_0x13d3bd(0x2d3)]+_0x13d3bd(0x1d3)),null;let _0x471d85=Date[_0x13d3bd(0x70a)](),_0x4149cb=parseInt(_0x54e11a[_0x13d3bd(0x40b)],0xa);if(isNaN(_0x4149cb))return this[_0x13d3bd(0x45b)][_0x13d3bd(0x4aa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x13d3bd(0x4d5)),null;let _0x568499={'newStoppedUntil':_0x471d85+_0x4149cb*0x3c*0x3e8};return await this[_0x13d3bd(0x396)](_0x3d6f31,_0x54e11a,_0x568499,!0x0),null;}async[a0_0x5708fb(0x397)](_0x313b04,_0x5162ff,_0x1c70c7){const _0x26c183=a0_0x5708fb;try{switch(_0x5162ff[_0x26c183(0x5e2)][_0x26c183(0x310)]){case _0x26c183(0x564):await this[_0x26c183(0x3d8)](_0x313b04,_0x5162ff,_0x1c70c7);break;case _0x26c183(0x54a):await this[_0x26c183(0x203)](_0x313b04,_0x5162ff,_0x1c70c7);break;case _0x26c183(0x58f):await this[_0x26c183(0x4be)](_0x313b04,_0x5162ff,_0x1c70c7);break;case _0x26c183(0x320):await this['uazapiSendAudio'](_0x313b04,_0x5162ff,_0x1c70c7);break;case _0x26c183(0x2d0):await this['uazapiSendContact'](_0x313b04,_0x5162ff,_0x1c70c7);break;case _0x26c183(0x427):await this[_0x26c183(0x2a0)](_0x313b04,_0x5162ff,_0x1c70c7);break;case _0x26c183(0x2f3):await this[_0x26c183(0x494)](_0x313b04,_0x5162ff,_0x1c70c7);break;default:this['logger']['error'](this[_0x26c183(0x4f0)]+'\x20('+this[_0x26c183(0x411)][_0x26c183(0x2d3)]+_0x26c183(0x337)+_0x5162ff[_0x26c183(0x5e2)][_0x26c183(0x310)]);}}catch(_0x14b636){this['logger'][_0x26c183(0x4aa)](this[_0x26c183(0x4f0)]+'\x20('+this['instance'][_0x26c183(0x2d3)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+_0x14b636);}}async[a0_0x5708fb(0x396)](_0x2628bc,_0x4e8883,_0x4eb3f5,_0x45fa4f=!0x1,_0x16fb84=!0x1){const _0xcd4771=a0_0x5708fb;_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x670)]||(_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x670)]=[]);let _0x5d737d=(_0x2628bc[_0xcd4771(0x1fb)]['blockLogs']?.[_0xcd4771(0x695)]??0x0)+0x1,_0x4f01a6=_0x2628bc['chatLog']['blockLogs'][_0xcd4771(0x498)](_0x4e8be2=>String(_0x4e8be2[_0xcd4771(0x218)])===String(_0x4e8883[_0xcd4771(0x1bf)]))[_0xcd4771(0x695)]+0x1,_0x1be7a7=_0x4eb3f5?.[_0xcd4771(0x603)]??Date[_0xcd4771(0x70a)](),_0x16b351=_0x4eb3f5?.[_0xcd4771(0x4aa)]?_0x4eb3f5[_0xcd4771(0x53d)]??_0x4eb3f5[_0xcd4771(0x4aa)][_0xcd4771(0x3f5)]():void 0x0,_0xb263c={'onTime':_0x1be7a7,'blockId':_0x4e8883[_0xcd4771(0x1bf)],'order':_0x5d737d,'activatedCount':_0x4f01a6,'error':_0x4eb3f5?.['error']??!0x1,'messageId':_0x4eb3f5?.[_0xcd4771(0x745)],'apiResponse':_0x4eb3f5?.['apiResponse'],'apiResponseString':_0x4eb3f5?.[_0xcd4771(0x293)]?JSON['stringify'](_0x4eb3f5?.[_0xcd4771(0x293)]):void 0x0,'variable':_0x4eb3f5?.[_0xcd4771(0x4ba)],'oldValue':_0x4eb3f5?.[_0xcd4771(0x509)],'newValue':_0x4eb3f5?.['newValue'],'newStoppedUntil':_0x4eb3f5?.[_0xcd4771(0x3b0)],'moreLogs':_0x4eb3f5?.[_0xcd4771(0x29c)],'errorLog':_0x16b351};if(_0x4eb3f5[_0xcd4771(0x29c)]&&_0x4eb3f5['moreLogs'][_0xcd4771(0x695)]>0x0){let _0xdcab2b=_0x4eb3f5[_0xcd4771(0x29c)][_0xcd4771(0x2ee)](_0x3ea65b=>this[_0xcd4771(0x752)](_0x3ea65b,_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x1a5)]));_0xb263c['moreLogs']=_0xdcab2b;}_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x1a5)]||(_0x2628bc['chatLog'][_0xcd4771(0x1a5)]={}),_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x1a5)][_0xcd4771(0x4e0)]=String(_0x4f01a6),_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x1a5)][_0xcd4771(0x482)]=String(_0x4eb3f5['error']??!0x1),_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x670)][_0xcd4771(0x245)](_0xb263c),_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x201)]=_0x4e8883['_id']['toString'](),_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x3c9)]&&(_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x3c9)]=_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x3c9)]),_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x6b0)]&&(_0x2628bc[_0xcd4771(0x1fb)]['lastReceivedMessage']=_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x6b0)]),_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x527)]&&(_0x2628bc[_0xcd4771(0x1fb)]['lastCondition']=_0x2628bc[_0xcd4771(0x1fb)][_0xcd4771(0x527)]),_0x16fb84&&(_0x2628bc['status']='closed'),_0x45fa4f?this[_0xcd4771(0x3b4)](_0x2628bc):this[_0xcd4771(0x4e8)](_0x2628bc,_0x4e8883);}[a0_0x5708fb(0x752)](_0x29c883,_0x24bb3e){const _0x2049fe=a0_0x5708fb;return _0x29c883[_0x2049fe(0x2be)](/\{\{([^}]+)\}\}/g,(_0x838c91,_0x23570a)=>_0x24bb3e[_0x23570a]?'{{'+_0x23570a+'}}\x20->\x20\x22'+_0x24bb3e[_0x23570a]+'\x22':'{{'+_0x23570a+'}}\x20->\x20valor\x20não\x20encontrado');}async['saveConversationToDatabase'](_0x38ad3c){const _0x1d6def=a0_0x5708fb;try{let _0x4127cf=Object[_0x1d6def(0x23b)](_0x38ad3c['chatLog'][_0x1d6def(0x1a5)])[_0x1d6def(0x2ee)](([_0x5ba30d,_0x844ff6])=>({'name':_0x5ba30d,'value':_0x844ff6})),_0x592b6a=await j[_0x1d6def(0x2e4)]({'_id':_0x38ad3c[_0x1d6def(0x1bf)]},{'$set':{'chatLog.lastBlockId':_0x38ad3c[_0x1d6def(0x1fb)][_0x1d6def(0x201)],'blocks':_0x38ad3c[_0x1d6def(0x660)],'chatLog.lastSendMessage':_0x38ad3c[_0x1d6def(0x1fb)][_0x1d6def(0x3c9)],'chatLog.lastReceivedMessage':_0x38ad3c[_0x1d6def(0x1fb)]['lastReceivedMessage'],'chatLog.lastCondition':_0x38ad3c['chatLog'][_0x1d6def(0x527)],'chatLog.chatVariables':_0x4127cf,'chatLog.realVariables':_0x38ad3c[_0x1d6def(0x1fb)][_0x1d6def(0x1a5)],'status':_0x38ad3c['status'],'chatLog.blockLogs':_0x38ad3c[_0x1d6def(0x1fb)][_0x1d6def(0x670)],'waitingPoll_id':_0x38ad3c[_0x1d6def(0x1f3)],'waitingPoll_name':_0x38ad3c[_0x1d6def(0x6e8)],'waitingPoll_replyOptions':_0x38ad3c[_0x1d6def(0x3bf)]}},{'new':!0x0});if(_0x592b6a){this[_0x1d6def(0x45b)][_0x1d6def(0x60a)](this[_0x1d6def(0x4f0)]+'\x20('+this[_0x1d6def(0x411)][_0x1d6def(0x2d3)]+_0x1d6def(0x4dc)+_0x592b6a[_0x1d6def(0x1bf)]);try{let _0x50eb24=[_0x1d6def(0x269),'nomecompleto','email',_0x1d6def(0x604),_0x1d6def(0x284),_0x1d6def(0x30e),'responsavelid',_0x1d6def(0x297)];if(!this[_0x1d6def(0x76e)]&&(await this[_0x1d6def(0x6ef)](),!this[_0x1d6def(0x76e)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x2edef3=this['AutomateSystem']?.['customFields'][_0x1d6def(0x2ee)](_0x34e4e2=>_0x34e4e2[_0x1d6def(0x3a8)]),_0x5744e2={};Object['entries'](_0x38ad3c[_0x1d6def(0x1fb)][_0x1d6def(0x1a5)])[_0x1d6def(0x31e)](([_0xe05997,_0x4d3785])=>{const _0x19687f=_0x1d6def;_0x50eb24[_0x19687f(0x3b1)](_0xe05997)&&(_0xe05997===_0x19687f(0x297)&&typeof _0x4d3785==_0x19687f(0x4c0)?_0x5744e2[_0xe05997]=_0x4d3785[_0x19687f(0x3bd)](',')[_0x19687f(0x2ee)](_0xf103bc=>_0xf103bc[_0x19687f(0x3f3)]())[_0x19687f(0x498)](_0x405556=>_0x405556!==''):_0x5744e2[_0xe05997]=_0x4d3785);});let _0x18d627=_0x38ad3c[_0x1d6def(0x1fb)][_0x1d6def(0x670)][_0x38ad3c[_0x1d6def(0x1fb)][_0x1d6def(0x670)]['length']-0x1];if(_0x18d627){let _0x3a191b=_0x18d627[_0x1d6def(0x3b0)];_0x3a191b!==void 0x0&&(_0x5744e2['desativadoFluxoAte']=_0x3a191b[_0x1d6def(0x3f5)]());}let _0x4b0453=_0x4127cf[_0x1d6def(0x498)](_0x42d207=>_0x2edef3[_0x1d6def(0x3b1)](_0x42d207['name']));this[_0x1d6def(0x45b)][_0x1d6def(0x60a)](this[_0x1d6def(0x4f0)]+'\x20('+this[_0x1d6def(0x411)][_0x1d6def(0x2d3)]+_0x1d6def(0x205)),this[_0x1d6def(0x45b)][_0x1d6def(0x60a)](_0x5744e2),this[_0x1d6def(0x45b)]['verbose'](this[_0x1d6def(0x4f0)]+'\x20('+this[_0x1d6def(0x411)][_0x1d6def(0x2d3)]+'):\x20customFieldVariables'),this[_0x1d6def(0x45b)]['verbose'](_0x4b0453);let _0x56daf7=_0x4b0453[_0x1d6def(0x2ee)](_0x6eac8c=>{const _0x51ec7b=_0x1d6def;let _0x1ac636=this['AutomateSystem']?.[_0x51ec7b(0x588)][_0x51ec7b(0x2ff)](_0x2f01ed=>_0x2f01ed[_0x51ec7b(0x3a8)]===_0x6eac8c[_0x51ec7b(0x3a8)]);if(!_0x1ac636)throw new Error(_0x51ec7b(0x385)+_0x6eac8c[_0x51ec7b(0x3a8)]);return{'_id':_0x1ac636[_0x51ec7b(0x1bf)],'value':_0x6eac8c[_0x51ec7b(0x377)]};});this['logger'][_0x1d6def(0x60a)](this[_0x1d6def(0x4f0)]+'\x20('+this[_0x1d6def(0x411)][_0x1d6def(0x2d3)]+_0x1d6def(0x26a)),this[_0x1d6def(0x45b)][_0x1d6def(0x60a)](_0x56daf7),await this['saveChatVariables'](_0x38ad3c[_0x1d6def(0x22b)],_0x5744e2,_0x56daf7);}catch(_0x1b9657){this[_0x1d6def(0x45b)][_0x1d6def(0x4aa)](this[_0x1d6def(0x4f0)]+'\x20('+this[_0x1d6def(0x411)][_0x1d6def(0x2d3)]+_0x1d6def(0x258)+JSON[_0x1d6def(0x726)](_0x1b9657));}}else this[_0x1d6def(0x45b)]['error'](this[_0x1d6def(0x4f0)]+'\x20('+this[_0x1d6def(0x411)][_0x1d6def(0x2d3)]+_0x1d6def(0x493));}catch(_0x4fe4f9){this[_0x1d6def(0x45b)][_0x1d6def(0x4aa)](this[_0x1d6def(0x4f0)]+'\x20('+this['instance'][_0x1d6def(0x2d3)]+_0x1d6def(0x48f)+JSON['stringify'](_0x4fe4f9));}}async[a0_0x5708fb(0x75b)](_0x2e4690,_0x23338e,_0x27212f){const _0x22ccb3=a0_0x5708fb;try{let _0x45204e={'leadInfo.leadnome':_0x23338e[_0x22ccb3(0x269)],'leadInfo.nomecompleto':_0x23338e[_0x22ccb3(0x38f)],'leadInfo.email':_0x23338e[_0x22ccb3(0x3d0)],'leadInfo.cpf':_0x23338e['cpf'],'leadInfo.status':_0x23338e[_0x22ccb3(0x284)],'leadInfo.notas':_0x23338e[_0x22ccb3(0x30e)],'leadInfo.responsavelid':_0x23338e['responsavelid'],'leadInfo.tags':_0x23338e[_0x22ccb3(0x297)],'leadInfo.customFields':_0x27212f};if('desativadoFluxoAte'in _0x23338e){let _0x28a6e8=_0x23338e['desativadoFluxoAte'];_0x45204e['leadInfo.desativadoFluxoAte']=_0x28a6e8?Number(_0x28a6e8):null;}let _0xb23d25=await this[_0x22ccb3(0x3ed)][_0x22ccb3(0x2e9)][_0x22ccb3(0x28f)]({'where':{'_id':_0x2e4690,'owner':this[_0x22ccb3(0x411)][_0x22ccb3(0x2d3)]}},_0x45204e);_0xb23d25?(this[_0x22ccb3(0x45b)]['verbose'](this[_0x22ccb3(0x4f0)]+'\x20('+this[_0x22ccb3(0x411)][_0x22ccb3(0x2d3)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0xb23d25[_0x22ccb3(0x1bf)]),B(this[_0x22ccb3(0x4f0)],_0x22ccb3(0x307),{'chat':_0xb23d25})):this[_0x22ccb3(0x45b)][_0x22ccb3(0x4aa)](this['instanceName']+'\x20('+this[_0x22ccb3(0x411)][_0x22ccb3(0x2d3)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x566de3){this['logger'][_0x22ccb3(0x4aa)](this[_0x22ccb3(0x4f0)]+'\x20('+this['instance']['wuid']+_0x22ccb3(0x4d1)+_0x566de3);}}async['updateStopChat'](_0x309deb,_0x3163c3){const _0xb869a=a0_0x5708fb;this[_0xb869a(0x45b)][_0xb869a(0x60a)](this['instanceName']+'\x20('+this[_0xb869a(0x411)][_0xb869a(0x2d3)]+_0xb869a(0x27c)+_0x3163c3);try{let _0xf0b46=await this[_0xb869a(0x3ed)][_0xb869a(0x2e9)][_0xb869a(0x28f)]({'where':{'_id':_0x309deb['remoteJid'],'owner':_0x309deb['owner']}},{'leadInfo.desativadoFluxoAte':_0x3163c3});this[_0xb869a(0x45b)][_0xb869a(0x60a)](this['instanceName']+'\x20('+this[_0xb869a(0x411)][_0xb869a(0x2d3)]+_0xb869a(0x5ad)+_0x309deb[_0xb869a(0x1bf)]),this[_0xb869a(0x45b)][_0xb869a(0x60a)](this['instanceName']+'\x20('+this[_0xb869a(0x411)]['wuid']+_0xb869a(0x27c)+JSON[_0xb869a(0x726)](_0xf0b46,null,0x2)),_0xf0b46&&B(this[_0xb869a(0x4f0)],_0xb869a(0x307),{'chat':_0xf0b46});}catch(_0x1d83fc){this[_0xb869a(0x45b)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xb869a(0x3a9)+JSON[_0xb869a(0x726)](_0x1d83fc));}}async[a0_0x5708fb(0x202)](_0x251e10,_0x22fed0){const _0x631f70=a0_0x5708fb;try{this['logger']['verbose'](this[_0x631f70(0x4f0)]+'\x20('+this[_0x631f70(0x411)]['wuid']+'):\x20Buscando\x20flow...');let _0x36b340=_0x22fed0[_0x631f70(0x2be)](/\D/g,''),_0x2a9e4d=await I[_0x631f70(0x5fc)]({'owner':_0x251e10,'testingWith':_0x36b340});return _0x2a9e4d||(this[_0x631f70(0x45b)][_0x631f70(0x60a)](this[_0x631f70(0x4f0)]+'\x20('+this[_0x631f70(0x411)]['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x2a9e4d=await I['findOne']({'owner':_0x251e10,'default':!0x0})),_0x2a9e4d||(this['logger'][_0x631f70(0x60a)](this[_0x631f70(0x4f0)]+'\x20('+this[_0x631f70(0x411)][_0x631f70(0x2d3)]+_0x631f70(0x6ac)),null);}catch(_0x5bebdc){return this[_0x631f70(0x45b)][_0x631f70(0x4aa)](this[_0x631f70(0x4f0)]+'\x20('+this['instance'][_0x631f70(0x2d3)]+_0x631f70(0x596)+_0x5bebdc),null;}}async[a0_0x5708fb(0x285)](_0x109a33,_0x4afd3c,_0x536d6f){const _0x208f22=a0_0x5708fb;try{let _0x4ce230=!!_0x536d6f[_0x208f22(0x21f)],_0x265ae8=_0x536d6f[_0x208f22(0x267)],_0x345141=null;if(this[_0x208f22(0x45b)][_0x208f22(0x60a)](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)][_0x208f22(0x2d3)]+_0x208f22(0x422)+_0x4ce230+'poll_id'+_0x265ae8),_0x4ce230)return this['logger'][_0x208f22(0x60a)](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)][_0x208f22(0x2d3)]+_0x208f22(0x3be)),_0x345141=await j[_0x208f22(0x5fc)]({'owner':_0x109a33,'remoteJid':_0x4afd3c,'waitingPoll_id':_0x265ae8}),_0x345141?(_0x345141['lastInteraction']=Date[_0x208f22(0x70a)](),_0x345141[_0x208f22(0x1fb)][_0x208f22(0x6b0)]=_0x536d6f,_0x345141):(this['logger'][_0x208f22(0x60a)](this[_0x208f22(0x4f0)]+'\x20('+this['instance'][_0x208f22(0x2d3)]+_0x208f22(0x36d)),null);{if(this[_0x208f22(0x45b)][_0x208f22(0x60a)](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)]['wuid']+_0x208f22(0x2d5)+this['instance'][_0x208f22(0x2d3)]+'não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x208f22(0x45b)]['verbose'](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)][_0x208f22(0x2d3)]+_0x208f22(0x6f3)),_0x345141=await j[_0x208f22(0x5fc)]({'owner':_0x109a33,'remoteJid':_0x4afd3c,'status':_0x208f22(0x36f)}),!_0x345141){let _0x4a3ba8=await this[_0x208f22(0x202)](_0x109a33,_0x4afd3c);if(_0x4a3ba8&&(_0x345141=await this[_0x208f22(0x65f)](_0x4a3ba8,_0x536d6f['key'],_0x536d6f)),!_0x345141)return null;}let _0x127051=Date[_0x208f22(0x70a)](),_0x151e7c=_0x345141?.['minutesToClose']||0x0,_0xf570e7=_0x127051-_0x151e7c*0x3c*0x3e8;if(this[_0x208f22(0x45b)]['verbose'](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)][_0x208f22(0x2d3)]+'):\x20Current\x20Time:\x20'+_0x127051+_0x208f22(0x565)+_0x151e7c+',\x20Expiration\x20Time:\x20'+_0xf570e7),this[_0x208f22(0x45b)][_0x208f22(0x60a)](this[_0x208f22(0x4f0)]+'\x20('+this['instance'][_0x208f22(0x2d3)]+_0x208f22(0x713)),this[_0x208f22(0x45b)][_0x208f22(0x60a)](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)][_0x208f22(0x2d3)]+_0x208f22(0x4b3)+_0x345141[_0x208f22(0x6a7)]),this[_0x208f22(0x45b)]['verbose'](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)]['wuid']+'):\x20expirationTime:\x20'+_0xf570e7),_0x345141[_0x208f22(0x6a7)]<_0xf570e7){this[_0x208f22(0x45b)][_0x208f22(0x60a)](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)]['wuid']+_0x208f22(0x52b));let _0x26c1a1=await this[_0x208f22(0x202)](_0x109a33,_0x4afd3c);if(_0x26c1a1===null)return null;_0x345141&&await j[_0x208f22(0x28f)]({'_id':_0x345141[_0x208f22(0x1bf)]},{'status':_0x208f22(0x5ac)}),_0x345141=await this[_0x208f22(0x65f)](_0x26c1a1,_0x536d6f['key'],_0x536d6f);}return _0x345141[_0x208f22(0x6a7)]=_0x127051,_0x345141[_0x208f22(0x1fb)][_0x208f22(0x6b0)]=_0x536d6f,_0x345141;}}catch(_0x312279){return this[_0x208f22(0x45b)][_0x208f22(0x4aa)](this[_0x208f22(0x4f0)]+'\x20('+this[_0x208f22(0x411)][_0x208f22(0x2d3)]+_0x208f22(0x5cd)+_0x312279),null;}}async['createNewConversation'](_0x3a8d8d,_0x23996a,_0x396040){const _0x21fb50=a0_0x5708fb;this[_0x21fb50(0x45b)][_0x21fb50(0x60a)](this[_0x21fb50(0x4f0)]+'\x20('+this['instance'][_0x21fb50(0x2d3)]+'):\x20Criando\x20nova\x20conversa');try{let _0x2744a8=require(_0x21fb50(0x3db))[_0x21fb50(0x6bd)],_0x2e122a=Date[_0x21fb50(0x70a)](),_0x381479=_0x21fb50(0x26c),_0x399759=_0x23996a[_0x21fb50(0x667)]?null:_0x396040,_0x2890fd=_0x23996a[_0x21fb50(0x667)]?_0x396040:null,_0xa495c8=_0x23996a[_0x21fb50(0x22b)];await this[_0x21fb50(0x443)](_0xa495c8);let _0x40ef10={..._0x3a8d8d['_doc'],'chatLog':null},_0x4dcb5d=await this[_0x21fb50(0x442)](_0x40ef10[_0x21fb50(0x5cb)]),_0x296830=await this['getVariablesChat'](_0xa495c8),_0x573c30={..._0x4dcb5d,..._0x296830,'_remoteJid':_0xa495c8},_0x418e15={'lastReceivedMessage':_0x399759,'lastSendMessage':_0x2890fd,'lastBlockId':_0x381479,'lastCondition':!0x0,'realVariables':_0x573c30};_0x40ef10[_0x21fb50(0x1fb)]=_0x418e15,delete _0x40ef10[_0x21fb50(0x1bf)],_0x40ef10[_0x21fb50(0x1bf)]=new _0x2744a8(),_0x40ef10[_0x21fb50(0x6a7)]=_0x2e122a,_0x40ef10[_0x21fb50(0x284)]=_0x21fb50(0x36f),_0x40ef10[_0x21fb50(0x22b)]=_0xa495c8;let _0x4fdd34=await j[_0x21fb50(0x770)](_0x40ef10);return this[_0x21fb50(0x45b)]['verbose'](this[_0x21fb50(0x4f0)]+'\x20('+this[_0x21fb50(0x411)][_0x21fb50(0x2d3)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4fdd34?_0x40ef10:null;}catch(_0x30151b){return this[_0x21fb50(0x45b)][_0x21fb50(0x4aa)](this[_0x21fb50(0x4f0)]+'\x20('+this[_0x21fb50(0x411)][_0x21fb50(0x2d3)]+_0x21fb50(0x195)+_0x30151b),_0x30151b;}}async[a0_0x5708fb(0x3d8)](_0x1cb1b0,_0x228508,_0x433a4f){const _0x4a480e=a0_0x5708fb;this[_0x4a480e(0x45b)][_0x4a480e(0x60a)](this['instanceName']+'\x20('+this['instance'][_0x4a480e(0x2d3)]+_0x4a480e(0x675));let _0x559c7f={'number':_0x433a4f,'options':{'delay':_0x228508[_0x4a480e(0x5e2)][_0x4a480e(0x2e0)]},'textMessage':{'text':_0x228508['uazapi'][_0x4a480e(0x2ce)]}};try{let _0x531802=await this[_0x4a480e(0x1ed)](_0x559c7f);if(_0x531802){let _0x171700={'_id':_0x531802['key']['id'],'_fromMe':_0x531802[_0x4a480e(0x6b9)]['fromMe'],'_remoteJid':_0x531802[_0x4a480e(0x6b9)][_0x4a480e(0x22b)]};_0x1cb1b0[_0x4a480e(0x1fb)][_0x4a480e(0x201)]=_0x228508[_0x4a480e(0x1bf)][_0x4a480e(0x3f5)]();let {message_normalized:_0x3b59e7}=this[_0x4a480e(0x524)](_0x531802[_0x4a480e(0x460)],G(_0x531802[_0x4a480e(0x460)]),null);_0x1cb1b0['chatLog']['lastSendMessage']=await _0x3b59e7;let _0x4f6f78={'messageId':_0x531802[_0x4a480e(0x6b9)]['id']},_0x2657a5=_0x1cb1b0['chatLog'][_0x4a480e(0x1a5)];Object['assign'](_0x2657a5,_0x171700),_0x1cb1b0[_0x4a480e(0x1fb)]['realVariables']=_0x2657a5,this[_0x4a480e(0x396)](_0x1cb1b0,_0x228508,_0x4f6f78);}else{let _0x3e1418={'error':!0x0};this[_0x4a480e(0x396)](_0x1cb1b0,_0x228508,_0x3e1418),this[_0x4a480e(0x45b)][_0x4a480e(0x4aa)](this['instanceName']+'\x20('+this['instance'][_0x4a480e(0x2d3)]+_0x4a480e(0x2a7));}}catch(_0x33591a){let _0x50d1c5={'error':!0x0,'errorLog':_0x33591a[_0x4a480e(0x3f5)]()};this['updateConversation'](_0x1cb1b0,_0x228508,_0x50d1c5),this[_0x4a480e(0x45b)][_0x4a480e(0x4aa)](this[_0x4a480e(0x4f0)]+'\x20('+this[_0x4a480e(0x411)][_0x4a480e(0x2d3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+_0x33591a[_0x4a480e(0x3f5)]());}}async[a0_0x5708fb(0x203)](_0x2a3e46,_0x180f2c,_0x3dbf56){const _0x26a836=a0_0x5708fb;this[_0x26a836(0x45b)][_0x26a836(0x60a)](this['instanceName']+'\x20('+this[_0x26a836(0x411)][_0x26a836(0x2d3)]+_0x26a836(0x6f2));let _0x1b8cc4={'number':_0x3dbf56,'options':{'delay':_0x180f2c[_0x26a836(0x5e2)][_0x26a836(0x2e0)]},'mediaMessage':{'mediatype':_0x180f2c[_0x26a836(0x5e2)][_0x26a836(0x30c)],'caption':_0x180f2c['uazapi'][_0x26a836(0x45d)],'media':_0x180f2c[_0x26a836(0x5e2)][_0x26a836(0x223)],'fileName':_0x180f2c[_0x26a836(0x5e2)]['fileName']}};try{let _0xd312c8=await this[_0x26a836(0x194)](_0x1b8cc4);if(_0xd312c8){let _0x3b097b={'_id':_0xd312c8[_0x26a836(0x6b9)]['id'],'_fromMe':_0xd312c8[_0x26a836(0x6b9)][_0x26a836(0x667)],'_remoteJid':_0xd312c8[_0x26a836(0x6b9)]['remoteJid']};_0x2a3e46[_0x26a836(0x1fb)][_0x26a836(0x201)]=_0x180f2c[_0x26a836(0x1bf)]['toString']();let {message_normalized:_0xbeed3b}=this[_0x26a836(0x524)](_0xd312c8[_0x26a836(0x460)],G(_0xd312c8['message']),null);_0x2a3e46[_0x26a836(0x1fb)][_0x26a836(0x3c9)]=await _0xbeed3b;let _0x2da8a5={'messageId':_0xd312c8['key']['id']},_0x3c3417=_0x2a3e46[_0x26a836(0x1fb)][_0x26a836(0x1a5)];Object[_0x26a836(0x73f)](_0x3c3417,_0x3b097b),_0x2a3e46['chatLog'][_0x26a836(0x1a5)]=_0x3c3417,this[_0x26a836(0x396)](_0x2a3e46,_0x180f2c,_0x2da8a5);}else{let _0x3aca00={'error':!0x0};this[_0x26a836(0x396)](_0x2a3e46,_0x180f2c,_0x3aca00),this[_0x26a836(0x45b)]['error'](this[_0x26a836(0x4f0)]+'\x20('+this[_0x26a836(0x411)][_0x26a836(0x2d3)]+_0x26a836(0x299));}}catch(_0x351155){let _0x3048cc={'error':!0x0,'errorLog':_0x351155['toString']()};this[_0x26a836(0x396)](_0x2a3e46,_0x180f2c,_0x3048cc),this['logger'][_0x26a836(0x4aa)](this[_0x26a836(0x4f0)]+'\x20('+this['instance'][_0x26a836(0x2d3)]+_0x26a836(0x5fe)+_0x351155[_0x26a836(0x3f5)]());}}async[a0_0x5708fb(0x4be)](_0x4b7a9f,_0x3bca9c,_0x4ef8bf){const _0x546752=a0_0x5708fb;this[_0x546752(0x45b)][_0x546752(0x60a)](this[_0x546752(0x4f0)]+'\x20('+this[_0x546752(0x411)][_0x546752(0x2d3)]+_0x546752(0x614));let _0x31c865={'number':_0x4ef8bf,'options':{'delay':_0x3bca9c[_0x546752(0x5e2)][_0x546752(0x2e0)]},'locationMessage':{'name':_0x3bca9c[_0x546752(0x5e2)][_0x546752(0x3a8)],'address':_0x3bca9c['uazapi'][_0x546752(0x61e)],'latitude':_0x3bca9c['uazapi'][_0x546752(0x1fe)],'longitude':_0x3bca9c[_0x546752(0x5e2)][_0x546752(0x326)]}};try{let _0x28f870=await this[_0x546752(0x60b)](_0x31c865);if(_0x28f870){let _0x2fd1e6={'_id':_0x28f870[_0x546752(0x6b9)]['id'],'_fromMe':_0x28f870[_0x546752(0x6b9)][_0x546752(0x667)],'_remoteJid':_0x28f870['key']['remoteJid']};_0x4b7a9f[_0x546752(0x1fb)]['lastBlockId']=_0x3bca9c[_0x546752(0x1bf)]['toString']();let {message_normalized:_0x1a7e52}=this['normalizeMessage'](_0x28f870[_0x546752(0x460)],G(_0x28f870[_0x546752(0x460)]),null);_0x4b7a9f[_0x546752(0x1fb)]['lastSendMessage']=await _0x1a7e52;let _0x3eaeef={'messageId':_0x28f870['key']['id']},_0xbd8ed5=_0x4b7a9f[_0x546752(0x1fb)][_0x546752(0x1a5)];Object[_0x546752(0x73f)](_0xbd8ed5,_0x2fd1e6),_0x4b7a9f[_0x546752(0x1fb)]['realVariables']=_0xbd8ed5,this['updateConversation'](_0x4b7a9f,_0x3bca9c,_0x3eaeef);}else{let _0x2892e8={'error':!0x0};this[_0x546752(0x396)](_0x4b7a9f,_0x3bca9c,_0x2892e8),this[_0x546752(0x45b)][_0x546752(0x4aa)](this[_0x546752(0x4f0)]+'\x20('+this[_0x546752(0x411)][_0x546752(0x2d3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x682996){let _0x12c256={'error':!0x0,'errorLog':_0x682996[_0x546752(0x3f5)]()};this[_0x546752(0x396)](_0x4b7a9f,_0x3bca9c,_0x12c256),this[_0x546752(0x45b)][_0x546752(0x4aa)](this['instanceName']+'\x20('+this['instance'][_0x546752(0x2d3)]+_0x546752(0x2c4)+_0x682996[_0x546752(0x3f5)]());}}async[a0_0x5708fb(0x3de)](_0xf85b05,_0x2b223d,_0x3147c0){const _0x283f98=a0_0x5708fb;this['logger'][_0x283f98(0x60a)](this[_0x283f98(0x4f0)]+'\x20('+this[_0x283f98(0x411)][_0x283f98(0x2d3)]+_0x283f98(0x1d2));let _0x272da2={'number':_0x3147c0,'options':{'delay':_0x2b223d[_0x283f98(0x5e2)]['delay']},'audioMessage':{'audio':_0x2b223d[_0x283f98(0x5e2)][_0x283f98(0x3f1)]}};try{let _0x37619e=await this[_0x283f98(0x5ab)](_0x272da2);if(_0x37619e){let _0x49a814={'_id':_0x37619e[_0x283f98(0x6b9)]['id'],'_fromMe':_0x37619e[_0x283f98(0x6b9)]['fromMe'],'_remoteJid':_0x37619e['key'][_0x283f98(0x22b)]};_0xf85b05[_0x283f98(0x1fb)]['lastBlockId']=_0x2b223d['_id'][_0x283f98(0x3f5)]();let {message_normalized:_0x58ba66}=this[_0x283f98(0x524)](_0x37619e[_0x283f98(0x460)],G(_0x37619e['message']),null);_0xf85b05[_0x283f98(0x1fb)][_0x283f98(0x3c9)]=await _0x58ba66;let _0x2d5b35={'messageId':_0x37619e[_0x283f98(0x6b9)]['id']},_0x3a8ac9=_0xf85b05[_0x283f98(0x1fb)]['realVariables'];Object[_0x283f98(0x73f)](_0x3a8ac9,_0x49a814),_0xf85b05[_0x283f98(0x1fb)][_0x283f98(0x1a5)]=_0x3a8ac9,this[_0x283f98(0x396)](_0xf85b05,_0x2b223d,_0x2d5b35);}else{let _0x3cac2c={'error':!0x0};this[_0x283f98(0x396)](_0xf85b05,_0x2b223d,_0x3cac2c),this[_0x283f98(0x45b)][_0x283f98(0x4aa)](this[_0x283f98(0x4f0)]+'\x20('+this[_0x283f98(0x411)]['wuid']+_0x283f98(0x2f4));}}catch(_0x474ec4){let _0x3b5b6b={'error':!0x0,'errorLog':_0x474ec4[_0x283f98(0x3f5)]()};this['updateConversation'](_0xf85b05,_0x2b223d,_0x3b5b6b),this[_0x283f98(0x45b)][_0x283f98(0x4aa)](this[_0x283f98(0x4f0)]+'\x20('+this[_0x283f98(0x411)][_0x283f98(0x2d3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+_0x474ec4[_0x283f98(0x3f5)]());}}async[a0_0x5708fb(0x215)](_0x33d38b,_0x4dc5d5,_0x531beb){const _0x58e19f=a0_0x5708fb;this[_0x58e19f(0x45b)][_0x58e19f(0x60a)](this[_0x58e19f(0x4f0)]+'\x20('+this[_0x58e19f(0x411)]['wuid']+_0x58e19f(0x60f));let _0x25200b={'number':_0x531beb,'options':{'delay':_0x4dc5d5['uazapi'][_0x58e19f(0x2e0)]},'contactMessage':[{'fullName':_0x4dc5d5[_0x58e19f(0x5e2)][_0x58e19f(0x2da)],'phoneNumber':_0x4dc5d5[_0x58e19f(0x5e2)]['phoneNumber']}]};try{let _0x2f9e25=await this[_0x58e19f(0x1bd)](_0x25200b);if(_0x2f9e25){let _0x28ea={'_id':_0x2f9e25['key']['id'],'_fromMe':_0x2f9e25[_0x58e19f(0x6b9)]['fromMe'],'_remoteJid':_0x2f9e25[_0x58e19f(0x6b9)][_0x58e19f(0x22b)]};_0x33d38b[_0x58e19f(0x1fb)][_0x58e19f(0x201)]=_0x4dc5d5[_0x58e19f(0x1bf)][_0x58e19f(0x3f5)]();let {message_normalized:_0x5bc3e0}=this['normalizeMessage'](_0x2f9e25[_0x58e19f(0x460)],G(_0x2f9e25['message']),null);_0x33d38b[_0x58e19f(0x1fb)][_0x58e19f(0x3c9)]=await _0x5bc3e0;let _0x9a520c={'messageId':_0x2f9e25[_0x58e19f(0x6b9)]['id']},_0x54e1b5=_0x33d38b[_0x58e19f(0x1fb)][_0x58e19f(0x1a5)];Object[_0x58e19f(0x73f)](_0x54e1b5,_0x28ea),_0x33d38b['chatLog'][_0x58e19f(0x1a5)]=_0x54e1b5,this[_0x58e19f(0x396)](_0x33d38b,_0x4dc5d5,_0x9a520c);}else{let _0x330387={'error':!0x0};this['updateConversation'](_0x33d38b,_0x4dc5d5,_0x330387),this[_0x58e19f(0x45b)][_0x58e19f(0x4aa)](this[_0x58e19f(0x4f0)]+'\x20('+this[_0x58e19f(0x411)][_0x58e19f(0x2d3)]+_0x58e19f(0x542));}}catch(_0x231c3a){let _0x5d4208={'error':!0x0,'errorLog':_0x231c3a[_0x58e19f(0x3f5)]()};this[_0x58e19f(0x396)](_0x33d38b,_0x4dc5d5,_0x5d4208),this['logger'][_0x58e19f(0x4aa)](this[_0x58e19f(0x4f0)]+'\x20('+this['instance'][_0x58e19f(0x2d3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+_0x231c3a['toString']());}}[a0_0x5708fb(0x635)](_0x389139,_0xd576c4){const _0x30beb0=a0_0x5708fb;for(let _0xa9b8c of _0x389139)_0xa9b8c[_0x30beb0(0x722)]&&(_0xa9b8c[_0x30beb0(0x722)]=this[_0x30beb0(0x677)](_0xa9b8c['option'],_0xd576c4)),_0xa9b8c[_0x30beb0(0x4ca)]&&(_0xa9b8c[_0x30beb0(0x4ca)]=this[_0x30beb0(0x677)](_0xa9b8c[_0x30beb0(0x4ca)],_0xd576c4));}async[a0_0x5708fb(0x2a0)](_0x2580fe,_0x25de5c,_0x5175eb){const _0x5034df=a0_0x5708fb;this['logger']['verbose'](this[_0x5034df(0x4f0)]+'\x20('+this[_0x5034df(0x411)][_0x5034df(0x2d3)]+_0x5034df(0x263));let _0x254c4f=_0x2580fe[_0x5034df(0x446)][_0x5034df(0x498)](_0x2c92ae=>_0x2c92ae[_0x5034df(0x218)]===_0x25de5c[_0x5034df(0x1bf)]);this[_0x5034df(0x635)](_0x254c4f,_0x2580fe[_0x5034df(0x1fb)][_0x5034df(0x1a5)]);let _0x49ea87=_0x254c4f['map'](_0x3b7208=>_0x3b7208[_0x5034df(0x722)]),_0x3255c0={'number':_0x5175eb,'options':{'delay':_0x25de5c[_0x5034df(0x5e2)][_0x5034df(0x2e0)]},'pollMessage':{'name':_0x25de5c[_0x5034df(0x5e2)][_0x5034df(0x3a8)],'selectableCount':0x1,'values':_0x49ea87}};try{let _0x1f51de=await this['pollMessage'](_0x3255c0);if(_0x1f51de){let _0x28620e={'_id':_0x1f51de[_0x5034df(0x6b9)]['id'],'_fromMe':_0x1f51de[_0x5034df(0x6b9)][_0x5034df(0x667)],'_remoteJid':_0x1f51de[_0x5034df(0x6b9)][_0x5034df(0x22b)]};this[_0x5034df(0x45b)]['verbose'](this['instanceName']+'\x20('+this[_0x5034df(0x411)][_0x5034df(0x2d3)]+_0x5034df(0x4f8)+_0x25de5c[_0x5034df(0x5e2)][_0x5034df(0x3a8)]),_0x2580fe[_0x5034df(0x1f3)]=_0x1f51de[_0x5034df(0x6b9)]['id'],_0x2580fe[_0x5034df(0x6e8)]=_0x25de5c[_0x5034df(0x5e2)][_0x5034df(0x3a8)],_0x2580fe[_0x5034df(0x3bf)]=_0x254c4f,this[_0x5034df(0x45b)][_0x5034df(0x60a)](this[_0x5034df(0x4f0)]+'\x20('+this['instance'][_0x5034df(0x2d3)]+_0x5034df(0x30a)+_0x2580fe[_0x5034df(0x6e8)]),_0x2580fe['chatLog']['lastBlockId']=_0x25de5c[_0x5034df(0x1bf)][_0x5034df(0x3f5)]();let {message_normalized:_0x1303b5}=this['normalizeMessage'](_0x1f51de[_0x5034df(0x460)],G(_0x1f51de['message']),null);_0x2580fe[_0x5034df(0x1fb)][_0x5034df(0x3c9)]=await _0x1303b5;let _0x45b4ff={'messageId':_0x1f51de[_0x5034df(0x6b9)]['id']},_0x12ad57=_0x2580fe[_0x5034df(0x1fb)][_0x5034df(0x1a5)];Object[_0x5034df(0x73f)](_0x12ad57,_0x28620e),_0x2580fe[_0x5034df(0x1fb)][_0x5034df(0x1a5)]=_0x12ad57,this['updateConversation'](_0x2580fe,_0x25de5c,_0x45b4ff);}else{let _0x3d5e37={'error':!0x0};this[_0x5034df(0x396)](_0x2580fe,_0x25de5c,_0x3d5e37),this['logger'][_0x5034df(0x4aa)](this[_0x5034df(0x4f0)]+'\x20('+this['instance'][_0x5034df(0x2d3)]+_0x5034df(0x76f));}}catch(_0x2b601c){let _0x2af13c={'error':!0x0,'errorLog':_0x2b601c[_0x5034df(0x3f5)]()};this[_0x5034df(0x396)](_0x2580fe,_0x25de5c,_0x2af13c),this[_0x5034df(0x45b)]['error'](this[_0x5034df(0x4f0)]+'\x20('+this[_0x5034df(0x411)][_0x5034df(0x2d3)]+_0x5034df(0x507)+_0x2b601c[_0x5034df(0x3f5)]());}}async[a0_0x5708fb(0x494)](_0x326305,_0x40f174,_0xe57d91){const _0x2d3238=a0_0x5708fb;this['logger']['verbose'](this[_0x2d3238(0x4f0)]+'\x20('+this[_0x2d3238(0x411)]['wuid']+_0x2d3238(0x710));let _0x587459=_0x326305['chatLog'][_0x2d3238(0x670)][_0x2d3238(0x2ff)](_0xca7089=>_0xca7089['blockId'][_0x2d3238(0x3f5)]()===_0x40f174[_0x2d3238(0x5e2)][_0x2d3238(0x218)]['toString']()),_0x2bc865={'id':_0x587459['messageId'],'remoteJid':_0x587459[_0x2d3238(0x22b)],'fromMe':_0x587459[_0x2d3238(0x667)]};try{let _0x156b5c=await this[_0x2d3238(0x2f3)](_0x2bc865);if(_0x156b5c){_0x326305[_0x2d3238(0x1fb)][_0x2d3238(0x201)]=_0x40f174[_0x2d3238(0x1bf)][_0x2d3238(0x3f5)]();let {message_normalized:_0x2a042d}=this[_0x2d3238(0x524)](_0x156b5c['message'],G(_0x156b5c[_0x2d3238(0x460)]),null);_0x326305[_0x2d3238(0x1fb)][_0x2d3238(0x3c9)]=await _0x2a042d;let _0x2bc723={};this['updateConversation'](_0x326305,_0x40f174,_0x2bc723);}else{let _0x3eb7df={'error':!0x0};this['updateConversation'](_0x326305,_0x40f174,_0x3eb7df),this[_0x2d3238(0x45b)][_0x2d3238(0x4aa)](this[_0x2d3238(0x4f0)]+'\x20('+this['instance'][_0x2d3238(0x2d3)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x2f2a2c){let _0x354820={'error':!0x0,'errorLog':_0x2f2a2c[_0x2d3238(0x3f5)]()};this[_0x2d3238(0x396)](_0x326305,_0x40f174,_0x354820),this['logger'][_0x2d3238(0x4aa)](this[_0x2d3238(0x4f0)]+'\x20('+this[_0x2d3238(0x411)]['wuid']+_0x2d3238(0x6a0)+_0x2f2a2c[_0x2d3238(0x3f5)]());}}async[a0_0x5708fb(0x28c)](_0x2559a4){const _0x5ef633=a0_0x5708fb;try{if(this[_0x5ef633(0x45b)][_0x5ef633(0x60a)](this[_0x5ef633(0x4f0)]+'\x20('+this[_0x5ef633(0x411)]['wuid']+_0x5ef633(0x23e)),await I['findOne']({'owner':this[_0x5ef633(0x411)][_0x5ef633(0x2d3)],'name':_0x2559a4[_0x5ef633(0x3a8)]}))return{'message':_0x5ef633(0x6a9)};_0x2559a4[_0x5ef633(0x19f)]===!0x0&&await I['updateMany']({'owner':this['instance'][_0x5ef633(0x2d3)]},{'default':!0x1});let _0x599c85=new we[(_0x5ef633(0x366))][(_0x5ef633(0x6bd))](),_0x456f7d={'_id':_0x599c85,'default':!0x0,'title':_0x5ef633(0x69a),'x':0x0,'y':0x0},_0x1806ee={'_id':new we[(_0x5ef633(0x366))][(_0x5ef633(0x6bd))](),'order':0x1,'groupId':_0x599c85[_0x5ef633(0x3f5)](),'type':_0x5ef633(0x26c)};return await I[_0x5ef633(0x770)]({'owner':this['instance'][_0x5ef633(0x2d3)],'name':_0x2559a4[_0x5ef633(0x3a8)],'groups':[_0x456f7d],'blocks':[_0x1806ee],..._0x2559a4});}catch(_0x47893e){throw this['logger'][_0x5ef633(0x4aa)](this['instanceName']+'\x20('+this[_0x5ef633(0x411)][_0x5ef633(0x2d3)]+_0x5ef633(0x587)+_0x47893e),new g(_0x5ef633(0x523)+_0x47893e);}}async[a0_0x5708fb(0x5c2)](_0x95cd61){const _0x14e9b0=a0_0x5708fb;try{return this[_0x14e9b0(0x45b)]['verbose'](this[_0x14e9b0(0x4f0)]+'\x20('+this[_0x14e9b0(0x411)][_0x14e9b0(0x2d3)]+_0x14e9b0(0x1b4)),await I[_0x14e9b0(0x3d4)]({'owner':this[_0x14e9b0(0x411)][_0x14e9b0(0x2d3)],'name':_0x95cd61});}catch(_0x168da6){return this['logger'][_0x14e9b0(0x4aa)](this[_0x14e9b0(0x4f0)]+'\x20('+this[_0x14e9b0(0x411)][_0x14e9b0(0x2d3)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+_0x168da6),{'message':_0x14e9b0(0x334)+_0x168da6};}}async[a0_0x5708fb(0x40f)](_0x4c59ad){const _0x44db36=a0_0x5708fb;try{this[_0x44db36(0x45b)][_0x44db36(0x60a)](this[_0x44db36(0x4f0)]+'\x20('+this[_0x44db36(0x411)][_0x44db36(0x2d3)]+_0x44db36(0x2bd));let _0x2e3018=await I[_0x44db36(0x5fc)]({'owner':this['instance'][_0x44db36(0x2d3)],'name':_0x4c59ad});if(!_0x2e3018)throw new Error(_0x44db36(0x685));if(!this['AutomateSystem']&&(await this[_0x44db36(0x6ef)](),!this[_0x44db36(0x76e)]))return null;let _0x5d0647=this[_0x44db36(0x76e)]?.[_0x44db36(0x588)]['map'](_0xf3b09f=>_0xf3b09f[_0x44db36(0x3a8)]),_0x5730eb=['nome',_0x44db36(0x38f),_0x44db36(0x3d0),_0x44db36(0x604),'status','notas',_0x44db36(0x332),'tags'];return _0x2e3018[_0x44db36(0x5cb)]=_0x2e3018[_0x44db36(0x5cb)][_0x44db36(0x498)](_0x18156d=>!(_0x18156d[_0x44db36(0x381)]==='leadInfo'||_0x18156d['leadInfo'])),_0x5730eb[_0x44db36(0x31e)](_0x5e0bc8=>{const _0x3ee48e=_0x44db36;_0x2e3018[_0x3ee48e(0x5cb)][_0x3ee48e(0x245)]({'folder':'leadInfo','name':_0x5e0bc8,'value':'','doc':'','leadInfo':!0x0});}),_0x5d0647[_0x44db36(0x31e)](_0x385923=>{const _0x5ad715=_0x44db36;let _0x36d64a=_0x2e3018[_0x5ad715(0x5cb)][_0x5ad715(0x390)](_0xdba5c1=>_0xdba5c1[_0x5ad715(0x3a8)]===_0x385923);_0x36d64a===-0x1?_0x2e3018[_0x5ad715(0x5cb)]['push']({'folder':_0x5ad715(0x3f0),'name':_0x385923,'value':'','doc':'','leadInfo':!0x0}):(_0x2e3018[_0x5ad715(0x5cb)][_0x36d64a][_0x5ad715(0x381)]=_0x5ad715(0x3f0),_0x2e3018[_0x5ad715(0x5cb)][_0x36d64a][_0x5ad715(0x3f0)]=!0x0);}),_0x2e3018[_0x44db36(0x660)]&&_0x2e3018[_0x44db36(0x660)][_0x44db36(0x695)]>0x0&&_0x2e3018['blocks'][_0x44db36(0x31e)](_0x3c13d4=>{const _0x187e0f=_0x44db36;_0x3c13d4[_0x187e0f(0x4ab)]&&_0x3c13d4[_0x187e0f(0x5a4)]&&_0x3c13d4[_0x187e0f(0x4ab)]===_0x3c13d4['next_groupId']&&(_0x3c13d4['next_groupId']=null);}),await _0x2e3018['save'](),_0x2e3018;}catch(_0x1c4d5a){throw this[_0x44db36(0x45b)][_0x44db36(0x4aa)](this[_0x44db36(0x4f0)]+'\x20('+this[_0x44db36(0x411)][_0x44db36(0x2d3)]+_0x44db36(0x1d5)+_0x1c4d5a),new g(_0x44db36(0x2b6)+_0x1c4d5a);}}async[a0_0x5708fb(0x221)](){const _0x4270b2=a0_0x5708fb;try{return this[_0x4270b2(0x45b)][_0x4270b2(0x60a)](this[_0x4270b2(0x4f0)]+'\x20('+this[_0x4270b2(0x411)][_0x4270b2(0x2d3)]+_0x4270b2(0x2e1)),await I[_0x4270b2(0x2ff)]({'owner':this[_0x4270b2(0x411)][_0x4270b2(0x2d3)]});}catch(_0x5b1f1c){return this[_0x4270b2(0x45b)]['error'](this[_0x4270b2(0x4f0)]+'\x20('+this['instance'][_0x4270b2(0x2d3)]+_0x4270b2(0x623)+_0x5b1f1c),{'message':_0x4270b2(0x526)+_0x5b1f1c};}}async[a0_0x5708fb(0x74a)](_0x3f5533){const _0x470d31=a0_0x5708fb;try{this[_0x470d31(0x45b)][_0x470d31(0x60a)](this['instanceName']+'\x20('+this[_0x470d31(0x411)]['wuid']+_0x470d31(0x68b));let _0x1c6da3=await I[_0x470d31(0x5fc)]({'owner':this[_0x470d31(0x411)][_0x470d31(0x2d3)],'name':_0x3f5533[_0x470d31(0x3a8)]});if(!_0x1c6da3)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x3f5533['default']===!0x0&&await I[_0x470d31(0x204)]({'owner':this[_0x470d31(0x411)][_0x470d31(0x2d3)]},{'default':!0x1}),_0x3f5533[_0x470d31(0x24e)]){if(await I[_0x470d31(0x5fc)]({'owner':this[_0x470d31(0x411)][_0x470d31(0x2d3)],'name':_0x3f5533[_0x470d31(0x24e)]}))return{'message':_0x470d31(0x3cb)};_0x3f5533[_0x470d31(0x3a8)]=_0x3f5533[_0x470d31(0x24e)],delete _0x3f5533['newName'];}return await I[_0x470d31(0x24a)](_0x1c6da3[_0x470d31(0x1bf)],{'$set':_0x3f5533},{'new':!0x0});}catch(_0x524215){throw this[_0x470d31(0x45b)][_0x470d31(0x4aa)](this[_0x470d31(0x4f0)]+'\x20('+this[_0x470d31(0x411)][_0x470d31(0x2d3)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+_0x524215),new g(_0x470d31(0x571)+_0x524215);}}async[a0_0x5708fb(0x2b3)](_0x3ba8ed){const _0xb79c1b=a0_0x5708fb;try{this[_0xb79c1b(0x45b)][_0xb79c1b(0x60a)](this[_0xb79c1b(0x4f0)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20bloco...');let _0x418606={'owner':this['instance'][_0xb79c1b(0x2d3)],'name':_0x3ba8ed[_0xb79c1b(0x3a8)]},_0x55ddd9=await I[_0xb79c1b(0x5fc)](_0x418606);_0x55ddd9||this['throwAndLogError']('Flow\x20não\x20encontrado');let {block:_0x1e3ef2}=_0x3ba8ed;return _0x1e3ef2?.['delete']?this[_0xb79c1b(0x697)](_0x55ddd9,_0x3ba8ed):_0x1e3ef2[_0xb79c1b(0x1bf)]?await this[_0xb79c1b(0x1f9)](_0x55ddd9,_0x3ba8ed):this['addBlock'](_0x55ddd9,_0x3ba8ed),await _0x55ddd9['save'](),_0x55ddd9;}catch(_0xf3fc43){this[_0xb79c1b(0x47e)](_0xb79c1b(0x6da)+_0xf3fc43);}}[a0_0x5708fb(0x47e)](_0xc80ec5){const _0x3eac54=a0_0x5708fb;throw this[_0x3eac54(0x45b)][_0x3eac54(0x4aa)](this[_0x3eac54(0x4f0)]+'\x20('+this[_0x3eac54(0x411)][_0x3eac54(0x2d3)]+_0x3eac54(0x2d5)+_0xc80ec5),new g(_0xc80ec5);}[a0_0x5708fb(0x697)](_0x37b8f8,_0x5971d2){const _0x541a9e=a0_0x5708fb;let {block:_0x3772c2}=_0x5971d2;if(_0x3772c2[_0x541a9e(0x2af)]===_0x541a9e(0x26c)){this[_0x541a9e(0x47e)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x3772c2[_0x541a9e(0x1bf)]){this[_0x541a9e(0x47e)](_0x541a9e(0x20d));return;}let _0x232ad9=_0x37b8f8['blocks']['find'](_0x3519f9=>_0x3519f9[_0x541a9e(0x1bf)][_0x541a9e(0x3f5)]()===_0x5971d2['block'][_0x541a9e(0x1bf)]['toString']());if(!_0x232ad9){this[_0x541a9e(0x47e)]('Bloco\x20com\x20ID\x20'+_0x3772c2[_0x541a9e(0x1bf)]+_0x541a9e(0x6ed));return;}_0x37b8f8[_0x541a9e(0x660)]=_0x37b8f8[_0x541a9e(0x660)][_0x541a9e(0x498)](_0x4ed72a=>_0x4ed72a[_0x541a9e(0x1bf)][_0x541a9e(0x3f5)]()!==_0x5971d2['block']['_id'][_0x541a9e(0x3f5)]()),_0x37b8f8[_0x541a9e(0x350)]=_0x37b8f8['conditions']['filter'](_0x25a321=>_0x25a321[_0x541a9e(0x218)]!==_0x3772c2[_0x541a9e(0x1bf)]['toString']()),_0x37b8f8['varedits']=_0x37b8f8['varedits'][_0x541a9e(0x498)](_0x2f86d6=>_0x2f86d6[_0x541a9e(0x218)]!==_0x3772c2[_0x541a9e(0x1bf)][_0x541a9e(0x3f5)]()),_0x37b8f8['replyOptions']=_0x37b8f8['replyOptions'][_0x541a9e(0x498)](_0x4f3456=>_0x4f3456['blockId']!==_0x3772c2[_0x541a9e(0x1bf)][_0x541a9e(0x3f5)]()),this[_0x541a9e(0x41c)](_0x37b8f8[_0x541a9e(0x660)],_0x232ad9[_0x541a9e(0x4ab)]);}async[a0_0x5708fb(0x1f9)](_0x6e42a5,_0x74f24e){const _0xa710af=a0_0x5708fb;let _0x57880c=_0x6e42a5[_0xa710af(0x660)][_0xa710af(0x390)](_0x19d160=>_0x19d160[_0xa710af(0x1bf)][_0xa710af(0x3f5)]()===_0x74f24e[_0xa710af(0x1c6)][_0xa710af(0x1bf)][_0xa710af(0x3f5)]());if(this[_0xa710af(0x45b)]['verbose'](this[_0xa710af(0x4f0)]+'\x20('+this['instance'][_0xa710af(0x2d3)]+_0xa710af(0x37d)+_0x57880c),_0x57880c===-0x1){this[_0xa710af(0x45b)]['verbose'](_0xa710af(0x3c1)+_0x74f24e[_0xa710af(0x1c6)][_0xa710af(0x1bf)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x2af)]===_0xa710af(0x26c)){let _0x3fd802=Object['keys'](_0x74f24e['block']);if(_0x3fd802[_0xa710af(0x695)]>0x2||_0x3fd802['length']===0x2&&!_0x3fd802['includes'](_0xa710af(0x5a4))){this[_0xa710af(0x47e)](_0xa710af(0x6b5));return;}}let _0x213547=_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x4ab)];for(let _0x181024 in _0x74f24e[_0xa710af(0x1c6)])_0x74f24e[_0xa710af(0x1c6)][_0xa710af(0x4a9)](_0x181024)&&(_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0x181024]=_0x74f24e[_0xa710af(0x1c6)][_0x181024]);if(this['logger'][_0xa710af(0x60a)](this[_0xa710af(0x4f0)]+'\x20('+this['instance'][_0xa710af(0x2d3)]+_0xa710af(0x25f)+JSON[_0xa710af(0x726)](_0x6e42a5[_0xa710af(0x660)][_0x57880c])),_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x430)]&&_0xa710af(0x3c6)in _0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x430)]){this[_0xa710af(0x45b)][_0xa710af(0x60a)](this[_0xa710af(0x4f0)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3fce39=JSON[_0xa710af(0x726)](_0x6e42a5[_0xa710af(0x660)][_0x57880c]['apirequest'][_0xa710af(0x3c6)],null,0x1);_0x3fce39['length']>0x2&&(_0x3fce39=_0x3fce39[_0xa710af(0x39c)](0x1,_0x3fce39[_0xa710af(0x695)]-0x1)[_0xa710af(0x3f3)]()),_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x430)]['headerString']=_0x3fce39;}if(_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x430)]&&_0xa710af(0x706)in _0x6e42a5['blocks'][_0x57880c][_0xa710af(0x430)]){this[_0xa710af(0x45b)]['verbose'](this['instanceName']+'\x20('+this[_0xa710af(0x411)][_0xa710af(0x2d3)]+_0xa710af(0x549));let _0x161c54=JSON[_0xa710af(0x726)](_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x430)][_0xa710af(0x706)],null,0x1);_0x161c54[_0xa710af(0x695)]>0x2&&(_0x161c54=_0x161c54[_0xa710af(0x39c)](0x1,_0x161c54['length']-0x1)[_0xa710af(0x3f3)]()),_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x430)][_0xa710af(0x36a)]=_0x161c54;}let _0x3caa4f=_0x6e42a5[_0xa710af(0x660)][_0x57880c][_0xa710af(0x4ab)];_0x213547!==_0x3caa4f?(this[_0xa710af(0x41c)](_0x6e42a5[_0xa710af(0x660)],_0x213547),this[_0xa710af(0x41c)](_0x6e42a5[_0xa710af(0x660)],_0x3caa4f)):this[_0xa710af(0x41c)](_0x6e42a5[_0xa710af(0x660)],_0x213547);}[a0_0x5708fb(0x5bb)](_0x2552de,_0x5f23d0){const _0x1a9df5=a0_0x5708fb;if(_0x5f23d0[_0x1a9df5(0x1c6)][_0x1a9df5(0x2af)]===_0x1a9df5(0x26c)){this[_0x1a9df5(0x47e)](_0x1a9df5(0x386));return;}if(_0x5f23d0[_0x1a9df5(0x1c6)]['apirequest']&&'header'in _0x5f23d0[_0x1a9df5(0x1c6)]['apirequest']){this[_0x1a9df5(0x45b)][_0x1a9df5(0x60a)](this[_0x1a9df5(0x4f0)]+'\x20('+this['instance'][_0x1a9df5(0x2d3)]+_0x1a9df5(0x71d));let _0x43c76d=JSON[_0x1a9df5(0x726)](_0x5f23d0[_0x1a9df5(0x1c6)][_0x1a9df5(0x430)]['header'],null,0x1);_0x43c76d[_0x1a9df5(0x695)]>0x2&&(_0x43c76d=_0x43c76d[_0x1a9df5(0x39c)](0x1,_0x43c76d[_0x1a9df5(0x695)]-0x1)[_0x1a9df5(0x3f3)]()),_0x5f23d0[_0x1a9df5(0x1c6)][_0x1a9df5(0x430)][_0x1a9df5(0x538)]=_0x43c76d;}_0x5f23d0[_0x1a9df5(0x1c6)][_0x1a9df5(0x430)]&&'body'in _0x5f23d0[_0x1a9df5(0x1c6)][_0x1a9df5(0x430)]&&(this[_0x1a9df5(0x45b)][_0x1a9df5(0x60a)](this[_0x1a9df5(0x4f0)]+'\x20('+this[_0x1a9df5(0x411)][_0x1a9df5(0x2d3)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5f23d0['block']['apirequest'][_0x1a9df5(0x36a)]=JSON[_0x1a9df5(0x726)](_0x5f23d0[_0x1a9df5(0x1c6)]['apirequest'][_0x1a9df5(0x706)],null,0x1)['trim']()),_0x2552de['blocks'][_0x1a9df5(0x245)](_0x5f23d0[_0x1a9df5(0x1c6)]),this[_0x1a9df5(0x41c)](_0x2552de['blocks'],_0x5f23d0[_0x1a9df5(0x1c6)][_0x1a9df5(0x4ab)]);}[a0_0x5708fb(0x41c)](_0x55993d,_0x44ebc9){const _0x2fdb5d=a0_0x5708fb;let _0x23ca35=_0x55993d['filter'](_0x5b1e3f=>_0x5b1e3f[_0x2fdb5d(0x4ab)]===_0x44ebc9);_0x23ca35['sort']((_0x468c8e,_0x20c5bf)=>_0x468c8e[_0x2fdb5d(0x2d9)]-_0x20c5bf[_0x2fdb5d(0x2d9)]),_0x23ca35['forEach']((_0x51673e,_0xd22a34)=>_0x51673e['order']=_0xd22a34+0x1);}async['editFlowReply'](_0x102d7a){const _0x98bb=a0_0x5708fb;try{if(this[_0x98bb(0x45b)][_0x98bb(0x60a)](this[_0x98bb(0x4f0)]+'\x20('+this[_0x98bb(0x411)][_0x98bb(0x2d3)]+_0x98bb(0x416)),!_0x102d7a||!_0x102d7a['replyOption']){this['throwAndLogError'](_0x98bb(0x3d5));return;}let _0x52c915={'owner':this['instance'][_0x98bb(0x2d3)],'name':_0x102d7a[_0x98bb(0x3a8)]},_0x9ee253=await I[_0x98bb(0x5fc)](_0x52c915);_0x9ee253||this['throwAndLogError'](_0x98bb(0x685));let {replyOption:_0x1e2e9e}=_0x102d7a;return _0x1e2e9e?.['delete']?this[_0x98bb(0x466)](_0x9ee253,_0x102d7a):_0x1e2e9e['_id']?await this[_0x98bb(0x548)](_0x9ee253,_0x102d7a):this[_0x98bb(0x4e5)](_0x9ee253,_0x102d7a),await _0x9ee253[_0x98bb(0x1f1)](),_0x9ee253;}catch(_0x376ee5){this[_0x98bb(0x47e)](_0x98bb(0x21e)+_0x376ee5);}}[a0_0x5708fb(0x466)](_0x19634e,_0x5cdb31){const _0x2c4b66=a0_0x5708fb;let {replyOption:_0x355c1c}=_0x5cdb31;if(!_0x355c1c[_0x2c4b66(0x1bf)]){this[_0x2c4b66(0x47e)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x19634e[_0x2c4b66(0x446)][_0x2c4b66(0x2ff)](_0x5685b5=>_0x5685b5[_0x2c4b66(0x1bf)]['toString']()===_0x5cdb31[_0x2c4b66(0x354)][_0x2c4b66(0x1bf)]['toString']())){this[_0x2c4b66(0x47e)](_0x2c4b66(0x568)+_0x355c1c['_id']+_0x2c4b66(0x6ed));return;}_0x19634e[_0x2c4b66(0x446)]=_0x19634e[_0x2c4b66(0x446)][_0x2c4b66(0x498)](_0x5e539e=>_0x5e539e[_0x2c4b66(0x1bf)][_0x2c4b66(0x3f5)]()!==_0x5cdb31[_0x2c4b66(0x354)][_0x2c4b66(0x1bf)][_0x2c4b66(0x3f5)]());}async[a0_0x5708fb(0x548)](_0x222db8,_0x39e8c6){const _0xe8c838=a0_0x5708fb;let _0x348e28=_0x222db8[_0xe8c838(0x446)][_0xe8c838(0x390)](_0x362022=>_0x362022['_id'][_0xe8c838(0x3f5)]()===_0x39e8c6[_0xe8c838(0x354)][_0xe8c838(0x1bf)][_0xe8c838(0x3f5)]());if(_0x348e28===-0x1){this[_0xe8c838(0x47e)](_0xe8c838(0x568)+_0x39e8c6[_0xe8c838(0x354)]['_id']+_0xe8c838(0x570));return;}for(let _0x28a6b8 in _0x39e8c6[_0xe8c838(0x354)])_0x39e8c6[_0xe8c838(0x354)][_0xe8c838(0x4a9)](_0x28a6b8)&&(_0x222db8[_0xe8c838(0x446)][_0x348e28][_0x28a6b8]=_0x39e8c6[_0xe8c838(0x354)][_0x28a6b8]);}[a0_0x5708fb(0x4e5)](_0x22ab53,_0x3c2742){const _0x1b12dd=a0_0x5708fb;_0x22ab53[_0x1b12dd(0x446)]['push'](_0x3c2742[_0x1b12dd(0x354)]);}async[a0_0x5708fb(0x254)](_0x1740e9){const _0x43c50b=a0_0x5708fb;this[_0x43c50b(0x45b)][_0x43c50b(0x60a)](this[_0x43c50b(0x4f0)]+'\x20('+this['instance']['wuid']+_0x43c50b(0x389)+_0x1740e9);try{this[_0x43c50b(0x45b)][_0x43c50b(0x60a)](this['instanceName']+'\x20('+this[_0x43c50b(0x411)][_0x43c50b(0x2d3)]+_0x43c50b(0x439));let _0x31309f={'owner':this['instance']['wuid'],'name':_0x1740e9[_0x43c50b(0x3a8)]},_0x661be8=await I[_0x43c50b(0x5fc)](_0x31309f);if(!_0x661be8)throw new Error(_0x43c50b(0x685));if(_0x1740e9[_0x43c50b(0x4af)]&&_0x1740e9[_0x43c50b(0x4af)]?.[_0x43c50b(0x719)]===!0x0){if(this[_0x43c50b(0x45b)][_0x43c50b(0x60a)](this[_0x43c50b(0x4f0)]+'\x20('+this[_0x43c50b(0x411)][_0x43c50b(0x2d3)]+_0x43c50b(0x74d)),_0x1740e9[_0x43c50b(0x4af)][_0x43c50b(0x19f)]===!0x0)return{'message':_0x43c50b(0x306)};if(_0x661be8[_0x43c50b(0x660)][_0x43c50b(0x259)](_0x40508e=>_0x40508e['groupId'][_0x43c50b(0x3f5)]()===_0x1740e9[_0x43c50b(0x4af)][_0x43c50b(0x1bf)]))return this[_0x43c50b(0x45b)][_0x43c50b(0x60a)](this[_0x43c50b(0x4f0)]+'\x20('+this[_0x43c50b(0x411)][_0x43c50b(0x2d3)]+_0x43c50b(0x313)),{'message':_0x43c50b(0x735)};_0x661be8[_0x43c50b(0x403)]=_0x661be8['groups'][_0x43c50b(0x498)](_0x9f844c=>_0x9f844c[_0x43c50b(0x1bf)][_0x43c50b(0x3f5)]()!==_0x1740e9[_0x43c50b(0x4af)]['_id']);}else{if(_0x1740e9['group']){if(_0x1740e9['group'][_0x43c50b(0x19f)]===!0x0)return{'message':_0x43c50b(0x480)};if(_0x1740e9[_0x43c50b(0x4af)][_0x43c50b(0x1bf)]){let _0x27fe03=_0x661be8['groups'][_0x43c50b(0x2ff)](_0x71fee1=>_0x71fee1[_0x43c50b(0x1bf)][_0x43c50b(0x3f5)]()===_0x1740e9[_0x43c50b(0x4af)][_0x43c50b(0x1bf)]);_0x27fe03&&(_0x1740e9[_0x43c50b(0x4af)]['x']<0x0&&(_0x1740e9[_0x43c50b(0x4af)]['x']=0x0),_0x1740e9[_0x43c50b(0x4af)]['y']<0x0&&(_0x1740e9[_0x43c50b(0x4af)]['y']=0x0),Object[_0x43c50b(0x73f)](_0x27fe03,_0x1740e9[_0x43c50b(0x4af)]));}else _0x661be8[_0x43c50b(0x403)]['push'](_0x1740e9['group']);}}return await _0x661be8[_0x43c50b(0x1f1)](),_0x661be8;}catch(_0x34fbcf){throw this[_0x43c50b(0x45b)][_0x43c50b(0x4aa)](this[_0x43c50b(0x4f0)]+'\x20('+this['instance']['wuid']+_0x43c50b(0x6f1)+_0x34fbcf),new g(_0x43c50b(0x31a)+_0x34fbcf);}}async['editFlowCondition'](_0x284f87){const _0x26d6e8=a0_0x5708fb;try{this[_0x26d6e8(0x45b)][_0x26d6e8(0x60a)](this[_0x26d6e8(0x4f0)]+'\x20('+this['instance'][_0x26d6e8(0x2d3)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x2060e8={'owner':this['instance'][_0x26d6e8(0x2d3)],'name':_0x284f87[_0x26d6e8(0x3a8)]},_0x1a1451=await I[_0x26d6e8(0x5fc)](_0x2060e8);if(!_0x1a1451)throw new Error('Flow\x20não\x20encontrado');let _0x4b2220=!0x1;if(_0x284f87[_0x26d6e8(0x496)]?.[_0x26d6e8(0x719)]===!0x0)_0x1a1451[_0x26d6e8(0x350)]=_0x1a1451['conditions'][_0x26d6e8(0x498)](_0x41a983=>_0x41a983&&_0x284f87['condition']&&_0x41a983[_0x26d6e8(0x1bf)]&&_0x284f87[_0x26d6e8(0x496)][_0x26d6e8(0x1bf)]&&_0x41a983[_0x26d6e8(0x1bf)][_0x26d6e8(0x3f5)]()!==_0x284f87[_0x26d6e8(0x496)]['_id'][_0x26d6e8(0x3f5)]()),_0x4b2220=!0x0;else{let _0x5579fc=_0x1a1451['conditions'][_0x26d6e8(0x2ff)](_0x3b92f9=>_0x3b92f9&&_0x284f87[_0x26d6e8(0x496)]&&_0x3b92f9['_id']&&_0x284f87[_0x26d6e8(0x496)][_0x26d6e8(0x1bf)]&&_0x3b92f9[_0x26d6e8(0x1bf)]['toString']()===_0x284f87[_0x26d6e8(0x496)]['_id'][_0x26d6e8(0x3f5)]());_0x5579fc?(_0x4b2220=_0x5579fc[_0x26d6e8(0x2d9)]!==_0x284f87[_0x26d6e8(0x496)][_0x26d6e8(0x2d9)],Object[_0x26d6e8(0x73f)](_0x5579fc,_0x284f87[_0x26d6e8(0x496)])):(_0x1a1451['conditions'][_0x26d6e8(0x245)](_0x284f87['condition']),_0x4b2220=!0x0);}if(_0x4b2220){_0x1a1451['conditions'][_0x26d6e8(0x537)]((_0x1c1f65,_0x2b31ae)=>_0x1c1f65[_0x26d6e8(0x2d9)]>_0x2b31ae[_0x26d6e8(0x2d9)]?0x1:_0x2b31ae[_0x26d6e8(0x2d9)]>_0x1c1f65[_0x26d6e8(0x2d9)]?-0x1:0x0);for(let _0x19d0b0=0x0;_0x19d0b0<_0x1a1451[_0x26d6e8(0x350)][_0x26d6e8(0x695)];_0x19d0b0++)_0x1a1451[_0x26d6e8(0x350)][_0x19d0b0][_0x26d6e8(0x2d9)]=_0x19d0b0+0x1;_0x1a1451[_0x26d6e8(0x350)][_0x26d6e8(0x695)]>0x0&&(_0x1a1451[_0x26d6e8(0x350)][0x0]['OrAnd']='and');}return await _0x1a1451[_0x26d6e8(0x1f1)](),_0x1a1451;}catch(_0x5479f4){throw this[_0x26d6e8(0x45b)]['error'](this[_0x26d6e8(0x4f0)]+'\x20('+this[_0x26d6e8(0x411)][_0x26d6e8(0x2d3)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x5479f4),new Error(_0x26d6e8(0x6fb)+_0x5479f4);}}async['editFlowVaredit'](_0x36f289){const _0x5cc100=a0_0x5708fb;try{this[_0x5cc100(0x45b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5cc100(0x2d3)]+_0x5cc100(0x312));let _0x441f0f={'owner':this['instance']['wuid'],'name':_0x36f289[_0x5cc100(0x3a8)]},_0x1091e9=await I[_0x5cc100(0x5fc)](_0x441f0f);if(!_0x1091e9)throw new Error(_0x5cc100(0x685));let _0x3d8362=!0x1;if(_0x36f289[_0x5cc100(0x191)]?.[_0x5cc100(0x719)]===!0x0)_0x1091e9['varedits']=_0x1091e9[_0x5cc100(0x56e)][_0x5cc100(0x498)](_0x53d190=>_0x53d190&&_0x36f289[_0x5cc100(0x191)]&&_0x53d190[_0x5cc100(0x1bf)]&&_0x36f289[_0x5cc100(0x191)][_0x5cc100(0x1bf)]&&_0x53d190[_0x5cc100(0x1bf)][_0x5cc100(0x3f5)]()!==_0x36f289[_0x5cc100(0x191)]['_id'][_0x5cc100(0x3f5)]()),_0x3d8362=!0x0;else{let _0x56dcdd=_0x1091e9[_0x5cc100(0x56e)][_0x5cc100(0x2ff)](_0x31dca1=>_0x31dca1&&_0x36f289[_0x5cc100(0x191)]&&_0x31dca1[_0x5cc100(0x1bf)]&&_0x36f289[_0x5cc100(0x191)][_0x5cc100(0x1bf)]&&_0x31dca1[_0x5cc100(0x1bf)][_0x5cc100(0x3f5)]()===_0x36f289[_0x5cc100(0x191)][_0x5cc100(0x1bf)][_0x5cc100(0x3f5)]());_0x56dcdd?(_0x3d8362=_0x56dcdd[_0x5cc100(0x2d9)]!==_0x36f289[_0x5cc100(0x191)]['order'],Object[_0x5cc100(0x73f)](_0x56dcdd,_0x36f289['varedit'])):(_0x1091e9[_0x5cc100(0x56e)]['push'](_0x36f289[_0x5cc100(0x191)]),_0x3d8362=!0x0);}if(_0x3d8362){_0x1091e9[_0x5cc100(0x56e)]['sort']((_0x2b2f8a,_0x4f9b7c)=>_0x2b2f8a[_0x5cc100(0x2d9)]>_0x4f9b7c[_0x5cc100(0x2d9)]?0x1:_0x4f9b7c[_0x5cc100(0x2d9)]>_0x2b2f8a[_0x5cc100(0x2d9)]?-0x1:0x0);for(let _0x229b9b=0x0;_0x229b9b<_0x1091e9[_0x5cc100(0x56e)]['length'];_0x229b9b++)_0x1091e9[_0x5cc100(0x56e)][_0x229b9b][_0x5cc100(0x2d9)]=_0x229b9b+0x1;}return await _0x1091e9[_0x5cc100(0x1f1)](),_0x1091e9;}catch(_0x432c67){throw this[_0x5cc100(0x45b)][_0x5cc100(0x4aa)](this[_0x5cc100(0x4f0)]+'\x20('+this['instance'][_0x5cc100(0x2d3)]+_0x5cc100(0x546)+_0x432c67),new g(_0x5cc100(0x6fb)+_0x432c67);}}async[a0_0x5708fb(0x43d)](_0x361758){const _0x2da99e=a0_0x5708fb;try{this[_0x2da99e(0x45b)][_0x2da99e(0x60a)](this['instanceName']+'\x20('+this[_0x2da99e(0x411)][_0x2da99e(0x2d3)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x267e6b={'owner':this[_0x2da99e(0x411)]['wuid'],'name':_0x361758[_0x2da99e(0x3a8)]},_0x1de20f=await I['findOne'](_0x267e6b);if(!_0x1de20f)throw new Error(_0x2da99e(0x685));_0x361758[_0x2da99e(0x4ba)]['name']=_0x361758[_0x2da99e(0x4ba)][_0x2da99e(0x3a8)][_0x2da99e(0x3f3)](),_0x361758['variable'][_0x2da99e(0x3a8)][_0x2da99e(0x232)]('_')&&(_0x361758['variable'][_0x2da99e(0x3a8)]=_0x361758['variable'][_0x2da99e(0x3a8)][_0x2da99e(0x39c)](0x1)),_0x361758[_0x2da99e(0x4ba)][_0x2da99e(0x3a8)]=_0x361758[_0x2da99e(0x4ba)][_0x2da99e(0x3a8)][_0x2da99e(0x3f3)]();let _0x1f1c10=_0x1de20f[_0x2da99e(0x5cb)][_0x2da99e(0x2ff)](_0x4d242a=>_0x4d242a[_0x2da99e(0x3a8)]===_0x361758['variable'][_0x2da99e(0x3a8)]);if(_0x1f1c10?.['leadInfo']===!0x0)throw new Error(_0x2da99e(0x3b6));if(_0x361758[_0x2da99e(0x4ba)]?.[_0x2da99e(0x719)]===!0x0){if(!_0x1f1c10)return{'message':_0x2da99e(0x4d9)};_0x1de20f[_0x2da99e(0x5cb)]=_0x1de20f[_0x2da99e(0x5cb)][_0x2da99e(0x498)](_0x59471b=>_0x59471b[_0x2da99e(0x3a8)]!==_0x361758[_0x2da99e(0x4ba)][_0x2da99e(0x3a8)]);}else _0x1f1c10?Object[_0x2da99e(0x73f)](_0x1f1c10,_0x361758[_0x2da99e(0x4ba)]):_0x1de20f['variables'][_0x2da99e(0x245)](_0x361758[_0x2da99e(0x4ba)]);return await _0x1de20f[_0x2da99e(0x1f1)](),_0x1de20f;}catch(_0x4a8533){throw this[_0x2da99e(0x45b)][_0x2da99e(0x4aa)](this[_0x2da99e(0x4f0)]+'\x20('+this[_0x2da99e(0x411)][_0x2da99e(0x2d3)]+_0x2da99e(0x69f)+_0x4a8533),new g(_0x2da99e(0x5d1)+_0x4a8533);}}async[a0_0x5708fb(0x32c)](_0x556d2b){const _0x33b6fa=a0_0x5708fb;let _0x470d96=null;try{if(!this[_0x33b6fa(0x76e)]?.[_0x33b6fa(0x2b7)][_0x33b6fa(0x506)])throw new g(_0x33b6fa(0x4d8));this[_0x33b6fa(0x45b)]['verbose'](this[_0x33b6fa(0x4f0)]+'\x20('+this[_0x33b6fa(0x411)][_0x33b6fa(0x2d3)]+'):\x20Iniciando\x20bot...');let _0x9a47eb=(await this[_0x33b6fa(0x529)]({'numbers':[_0x556d2b[_0x33b6fa(0x22b)]]}))[0x0];if(!_0x9a47eb[_0x33b6fa(0x4a3)]&&!(0x0,w[_0x33b6fa(0x72d)])(_0x9a47eb[_0x33b6fa(0x6d1)])&&!_0x9a47eb[_0x33b6fa(0x6d1)][_0x33b6fa(0x3b1)]('@broadcast'))throw _0x470d96=JSON['stringify'](_0x9a47eb,null,0x2),new g(_0x9a47eb);let _0x347a95=await I[_0x33b6fa(0x5fc)]({'owner':this[_0x33b6fa(0x411)][_0x33b6fa(0x2d3)],'name':_0x556d2b[_0x33b6fa(0x3a8)]});if(!_0x347a95)return this[_0x33b6fa(0x45b)][_0x33b6fa(0x4aa)](this[_0x33b6fa(0x4f0)]+'\x20('+this[_0x33b6fa(0x411)]['wuid']+_0x33b6fa(0x595)),{'message':'Flow\x20não\x20encontrado'};let _0x288b34=await this['createConversationforStartFlow'](_0x347a95,_0x9a47eb[_0x33b6fa(0x6d1)],_0x556d2b['changeVariables']);if(_0x288b34){this['logger'][_0x33b6fa(0x60a)](this[_0x33b6fa(0x4f0)]+'\x20('+this[_0x33b6fa(0x411)][_0x33b6fa(0x2d3)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x4fede1=await this[_0x33b6fa(0x6c2)](_0x288b34);return _0x4fede1&&await this[_0x33b6fa(0x662)](_0x288b34,_0x4fede1,_0x288b34[_0x33b6fa(0x22b)]),{'message':_0x33b6fa(0x1c0)+_0x556d2b[_0x33b6fa(0x22b)]};}}catch(_0xd5a942){if(this[_0x33b6fa(0x45b)]['error'](this['instanceName']+'\x20('+this[_0x33b6fa(0x411)]['wuid']+_0x33b6fa(0x19e)+JSON[_0x33b6fa(0x726)](_0xd5a942,null,0x2)),_0x470d96=JSON[_0x33b6fa(0x726)](_0xd5a942,null,0x2),_0x470d96)throw new g(_0x33b6fa(0x3f2)+_0x470d96);}}async[a0_0x5708fb(0x443)](_0x3ad13d){const _0x530b3e=a0_0x5708fb;let _0x42dcbd=await j['updateMany']({'owner':this[_0x530b3e(0x411)]['wuid'],'remoteJid':_0x3ad13d,'status':'open'},{'$set':{'status':_0x530b3e(0x5ac)}});return this[_0x530b3e(0x45b)][_0x530b3e(0x60a)](this[_0x530b3e(0x4f0)]+'\x20('+this[_0x530b3e(0x411)][_0x530b3e(0x2d3)]+_0x530b3e(0x747)),_0x42dcbd;}async[a0_0x5708fb(0x6a5)](_0x341412,_0x29c471,_0x336226){const _0x37a9ce=a0_0x5708fb;this[_0x37a9ce(0x45b)][_0x37a9ce(0x60a)](this[_0x37a9ce(0x4f0)]+'\x20('+this[_0x37a9ce(0x411)]['wuid']+_0x37a9ce(0x6f6)),await this[_0x37a9ce(0x443)](_0x29c471);try{let _0x17e77a=require(_0x37a9ce(0x3db))['ObjectId'],_0x10f7f4=Date[_0x37a9ce(0x70a)](),_0x2bf883=_0x37a9ce(0x26c),_0x77a242={},_0xba5679={},_0x4c20a3={..._0x341412['_doc'],'chatLog':null},_0x58a60b=await this[_0x37a9ce(0x442)](_0x4c20a3[_0x37a9ce(0x5cb)]),_0x505150=await this[_0x37a9ce(0x53e)](_0x29c471),_0x4d8f0e={..._0x58a60b,..._0x505150,'_remoteJid':_0x29c471},_0x57c7a9={'lastReceivedMessage':_0x77a242,'lastSendMessage':_0xba5679,'lastBlockId':_0x2bf883,'lastCondition':!0x0,'realVariables':_0x4d8f0e};_0x4c20a3[_0x37a9ce(0x1fb)]=_0x57c7a9,_0x4c20a3[_0x37a9ce(0x1fb)][_0x37a9ce(0x1a5)]={..._0x4d8f0e,..._0x336226},delete _0x4c20a3['_id'],_0x4c20a3[_0x37a9ce(0x1bf)]=new _0x17e77a(),_0x4c20a3[_0x37a9ce(0x6a7)]=_0x10f7f4,_0x4c20a3[_0x37a9ce(0x284)]=_0x37a9ce(0x36f),_0x4c20a3['remoteJid']=_0x29c471;let _0x4726c2=await j[_0x37a9ce(0x770)](_0x4c20a3);return this[_0x37a9ce(0x45b)]['verbose'](this[_0x37a9ce(0x4f0)]+'\x20('+this[_0x37a9ce(0x411)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4726c2?_0x4c20a3:null;}catch(_0x5ab992){throw this[_0x37a9ce(0x45b)][_0x37a9ce(0x4aa)](this['instanceName']+'\x20('+this[_0x37a9ce(0x411)]['wuid']+_0x37a9ce(0x195)+_0x5ab992),new g(_0x5ab992[_0x37a9ce(0x460)]);}}async[a0_0x5708fb(0x621)](_0x3be480){const _0x220f8c=a0_0x5708fb;try{return this[_0x220f8c(0x45b)]['verbose'](this['instanceName']+'\x20('+this[_0x220f8c(0x411)][_0x220f8c(0x2d3)]+_0x220f8c(0x4da)),this[_0x220f8c(0x45b)][_0x220f8c(0x60a)](this[_0x220f8c(0x4f0)]+'\x20('+this['instance']['wuid']+_0x220f8c(0x418)+{'owner':this[_0x220f8c(0x411)]['wuid'],'_id':_0x3be480}),await j[_0x220f8c(0x5fc)]({'owner':this['instance']['wuid'],'_id':_0x3be480});}catch(_0x5a07ac){throw this['logger'][_0x220f8c(0x4aa)](this[_0x220f8c(0x4f0)]+'\x20('+this[_0x220f8c(0x411)][_0x220f8c(0x2d3)]+_0x220f8c(0x48d)+_0x5a07ac),new g(_0x220f8c(0x4f7)+_0x5a07ac[_0x220f8c(0x460)]);}}async[a0_0x5708fb(0x594)](_0x1921b4,_0x3df393=0x64){const _0x346dc0=a0_0x5708fb;try{this[_0x346dc0(0x45b)]['verbose'](this[_0x346dc0(0x4f0)]+'\x20('+this[_0x346dc0(0x411)][_0x346dc0(0x2d3)]+_0x346dc0(0x583));let _0x4b5e1c={..._0x1921b4,'owner':this[_0x346dc0(0x411)][_0x346dc0(0x2d3)]};return this[_0x346dc0(0x45b)][_0x346dc0(0x60a)](_0x4b5e1c),await j['find'](_0x4b5e1c)[_0x346dc0(0x6f9)](_0x3df393)['sort']({'lastInteraction':-0x1});}catch(_0x4ed988){throw this[_0x346dc0(0x45b)]['error'](this[_0x346dc0(0x4f0)]+'\x20('+this['instance'][_0x346dc0(0x2d3)]+_0x346dc0(0x5ef)+_0x4ed988),new g(_0x346dc0(0x5c8)+_0x4ed988[_0x346dc0(0x460)]);}}async[a0_0x5708fb(0x484)](_0x1f2d46){const _0x1d19bc=a0_0x5708fb;try{return this['logger'][_0x1d19bc(0x60a)](this['instanceName']+'\x20('+this['instance'][_0x1d19bc(0x2d3)]+_0x1d19bc(0x683)),this['logger'][_0x1d19bc(0x60a)](this[_0x1d19bc(0x4f0)]+'\x20('+this[_0x1d19bc(0x411)][_0x1d19bc(0x2d3)]+_0x1d19bc(0x418)+{'owner':this[_0x1d19bc(0x411)][_0x1d19bc(0x2d3)],'_id':_0x1f2d46}),(await j[_0x1d19bc(0x3d4)]({'owner':this['instance'][_0x1d19bc(0x2d3)],'_id':_0x1f2d46}))[_0x1d19bc(0x4b4)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x1d19bc(0x3f9)};}catch(_0x5d4bd6){throw this[_0x1d19bc(0x45b)][_0x1d19bc(0x4aa)](this[_0x1d19bc(0x4f0)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+_0x5d4bd6),new g(_0x1d19bc(0x382)+_0x5d4bd6[_0x1d19bc(0x460)]);}}async[a0_0x5708fb(0x5c6)](_0x29f0a2){const _0x468542=a0_0x5708fb;try{let {_id:_0x52ed8d,chatLog:_0x2fab68,status:_0x59f5ef}=_0x29f0a2;if(!_0x52ed8d)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x34f660={};if(_0x59f5ef!==void 0x0&&(_0x34f660['status']=_0x59f5ef),Object[_0x468542(0x27b)](_0x34f660)[_0x468542(0x695)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x3e21f1=this[_0x468542(0x411)]['wuid'],_0x22445c=await j[_0x468542(0x2e4)]({'_id':_0x52ed8d,'owner':_0x3e21f1},{'$set':_0x34f660},{'new':!0x0});return _0x22445c||{'message':_0x468542(0x1ac)};}catch(_0x320168){throw this['logger'][_0x468542(0x4aa)](this['instanceName']+'\x20('+this[_0x468542(0x411)]['wuid']+_0x468542(0x5d8)+_0x320168),new g(_0x468542(0x46e)+_0x320168['message']);}}async[a0_0x5708fb(0x438)](_0x46a6d3){const _0x36427b=a0_0x5708fb;try{_0x46a6d3['_id']=this[_0x36427b(0x433)](_0x46a6d3['_id']);let {_id:_0x1eb00e,leadInfo:_0x395863}=_0x46a6d3;if(!_0x1eb00e)throw new Error(_0x36427b(0x1eb));let _0x3b71d5=(_0x1b0af0,_0x594b6f,_0x8a5763)=>{const _0x4d11ae=_0x36427b;_0x8a5763[_0x4d11ae(0x31e)](_0x11aba9=>{const _0x5aee6e=_0x4d11ae;_0x1b0af0[_0x11aba9]!==void 0x0&&(_0x594b6f[_0x5aee6e(0x6b4)+_0x11aba9]=_0x1b0af0[_0x11aba9]);});},_0x1a7043={};if(_0x3b71d5(_0x395863,_0x1a7043,[_0x36427b(0x269),'nomecompleto',_0x36427b(0x3d0),_0x36427b(0x604),_0x36427b(0x284),_0x36427b(0x30e),_0x36427b(0x297),_0x36427b(0x1fa),_0x36427b(0x332)]),Array['isArray'](_0x395863[_0x36427b(0x588)])&&(_0x1a7043[_0x36427b(0x5a5)]=_0x395863['customFields'][_0x36427b(0x2ee)](_0x395bf6=>({'_id':_0x395bf6[_0x36427b(0x1bf)],'value':_0x395bf6[_0x36427b(0x377)]}))),_0x46a6d3[_0x36427b(0x3f0)]['desativadoFluxoAte']!==void 0x0&&(_0x1a7043[_0x36427b(0x1a1)]=Number(_0x46a6d3[_0x36427b(0x3f0)][_0x36427b(0x67b)])),_0x46a6d3[_0x36427b(0x3f8)]!==void 0x0&&(_0x1a7043['unreadcount']=Number(_0x46a6d3['unreadcount'])),Object[_0x36427b(0x27b)](_0x1a7043)[_0x36427b(0x695)]===0x0)throw new Error(_0x36427b(0x355));let _0x23d208=this[_0x36427b(0x411)]['wuid'];if(!_0x23d208)throw new Error(_0x36427b(0x1ec));if(!await this[_0x36427b(0x3ed)]['chat']['findOne']({'where':{'_id':_0x46a6d3['_id'],'owner':_0x23d208}})){let _0x1813b0=(await this['whatsappNumber']({'numbers':[_0x46a6d3[_0x36427b(0x1bf)]]}))[0x0];if(!_0x1813b0[_0x36427b(0x4a3)]&&!(0x0,w[_0x36427b(0x72d)])(_0x1813b0[_0x36427b(0x6d1)])&&!_0x1813b0['jid'][_0x36427b(0x3b1)](_0x36427b(0x32a)))throw new g(_0x1813b0);_0x46a6d3[_0x36427b(0x1bf)]=_0x1813b0[_0x36427b(0x6d1)];}let _0x47ddb2=await this[_0x36427b(0x3ed)][_0x36427b(0x2e9)]['updateOne']({'where':{'_id':_0x46a6d3[_0x36427b(0x1bf)],'owner':_0x23d208}},_0x1a7043);return _0x47ddb2&&B(this['instanceName'],'chats',{'chat':_0x47ddb2}),_0x47ddb2?(this['logger']['verbose'](this[_0x36427b(0x4f0)]+'\x20('+this[_0x36427b(0x411)][_0x36427b(0x2d3)]+_0x36427b(0x2d5)+_0x47ddb2),_0x47ddb2):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x5e94b4){throw this[_0x36427b(0x45b)][_0x36427b(0x4aa)](this[_0x36427b(0x4f0)]+'\x20('+this[_0x36427b(0x411)]['wuid']+_0x36427b(0x21d)+_0x5e94b4),new g(_0x36427b(0x6bb)+_0x5e94b4[_0x36427b(0x460)]);}}async[a0_0x5708fb(0x288)](_0x5077cb){const _0x3c1c7d=a0_0x5708fb;let _0x42c305=this[_0x3c1c7d(0x411)][_0x3c1c7d(0x2d3)];try{let _0x73674f=await ae[_0x3c1c7d(0x1a9)](_0x42c305);_0x73674f||(_0x73674f=new ae({'_id':_0x42c305}),await _0x73674f['save']());let _0xe8eb85=_0x5077cb[_0x3c1c7d(0x1bf)]?_0x73674f['agents']['findIndex'](_0x1e7257=>_0x1e7257[_0x3c1c7d(0x1bf)]===_0x5077cb['_id']):-0x1;if(_0x5077cb[_0x3c1c7d(0x719)]&&_0xe8eb85>-0x1)_0x73674f[_0x3c1c7d(0x49d)][_0x3c1c7d(0x68a)](_0xe8eb85,0x1);else{if(_0xe8eb85>-0x1){let _0x4affd7=_0x73674f[_0x3c1c7d(0x49d)][_0xe8eb85];_0x5077cb[_0x3c1c7d(0x46a)]&&(_0x4affd7['fone']=_0x5077cb['fone']),_0x5077cb['name']&&(_0x4affd7['name']=_0x5077cb[_0x3c1c7d(0x3a8)]),_0x5077cb['email']&&(_0x4affd7[_0x3c1c7d(0x3d0)]=_0x5077cb[_0x3c1c7d(0x3d0)]),_0x5077cb[_0x3c1c7d(0x39e)]&&(_0x4affd7[_0x3c1c7d(0x39e)]=_0x5077cb[_0x3c1c7d(0x39e)]);}else _0x73674f[_0x3c1c7d(0x49d)]['push']({'_id':_0x5077cb['_id']||new we[(_0x3c1c7d(0x19f))][(_0x3c1c7d(0x366))][(_0x3c1c7d(0x6bd))]()[_0x3c1c7d(0x3f5)](),'fone':_0x5077cb['fone'],'name':_0x5077cb[_0x3c1c7d(0x3a8)],'email':_0x5077cb['email'],'role':_0x5077cb['role']});}let _0x1538d0=await _0x73674f[_0x3c1c7d(0x1f1)]();return this[_0x3c1c7d(0x76e)]=_0x1538d0,this[_0x3c1c7d(0x45b)][_0x3c1c7d(0x60a)](this[_0x3c1c7d(0x4f0)]+'\x20('+this[_0x3c1c7d(0x411)]['wuid']+_0x3c1c7d(0x3b5)),this[_0x3c1c7d(0x45b)][_0x3c1c7d(0x60a)](this[_0x3c1c7d(0x4f0)]+'\x20('+this[_0x3c1c7d(0x411)]['wuid']+_0x3c1c7d(0x2d5)+this[_0x3c1c7d(0x76e)]),_0x1538d0;}catch(_0x188487){throw this['logger']['error'](this[_0x3c1c7d(0x4f0)]+'\x20('+this[_0x3c1c7d(0x411)][_0x3c1c7d(0x2d3)]+_0x3c1c7d(0x28a)+_0x188487),new g(_0x3c1c7d(0x59c)+_0x188487[_0x3c1c7d(0x460)]);}}async['updateCustomFields'](_0x12d507){const _0x50b359=a0_0x5708fb;let _0x40b694=this[_0x50b359(0x411)][_0x50b359(0x2d3)];try{let _0xaab599=await ae[_0x50b359(0x1a9)](_0x40b694);_0xaab599||(_0xaab599=new ae({'_id':_0x40b694}),await _0xaab599[_0x50b359(0x1f1)]());let _0x5865b5=_0x12d507[_0x50b359(0x1bf)]?_0xaab599[_0x50b359(0x588)][_0x50b359(0x390)](_0x4786ed=>_0x4786ed[_0x50b359(0x1bf)]===_0x12d507[_0x50b359(0x1bf)]):-0x1,_0x1061dc=!0x1,_0x185635=_0xaab599[_0x50b359(0x588)][_0x50b359(0x259)](_0x397fce=>_0x397fce['order']===_0x12d507[_0x50b359(0x2d9)]);if(_0x12d507[_0x50b359(0x719)]&&_0x5865b5>-0x1)_0xaab599['customFields'][_0x50b359(0x68a)](_0x5865b5,0x1),_0x1061dc=!0x0;else{if(_0x5865b5>-0x1){if(_0xaab599['customFields'][_0x50b359(0x259)](_0xd4ea16=>_0xd4ea16[_0x50b359(0x3a8)]===_0x12d507['name']&&_0xd4ea16[_0x50b359(0x1bf)]!==_0x12d507[_0x50b359(0x1bf)]))throw new Error(_0x50b359(0x5fd));let _0x289249=_0xaab599['customFields'][_0x5865b5];_0x12d507['order']&&(_0x185635||!Number[_0x50b359(0x628)](_0x12d507[_0x50b359(0x2d9)]))&&(_0x289249[_0x50b359(0x2d9)]=_0x12d507[_0x50b359(0x2d9)],_0x1061dc=!0x0),_0x12d507['name']&&(_0x289249['name']=_0x12d507[_0x50b359(0x3a8)]);}else{if(_0xaab599[_0x50b359(0x588)][_0x50b359(0x259)](_0x1426ea=>_0x1426ea[_0x50b359(0x3a8)]===_0x12d507[_0x50b359(0x3a8)]&&_0x1426ea[_0x50b359(0x1bf)]!==_0x12d507['_id']))throw new Error(_0x50b359(0x5fd));_0xaab599[_0x50b359(0x588)][_0x50b359(0x245)]({'_id':_0x12d507[_0x50b359(0x1bf)]||new we[(_0x50b359(0x19f))][(_0x50b359(0x366))][(_0x50b359(0x6bd))]()[_0x50b359(0x3f5)](),'order':_0x12d507[_0x50b359(0x2d9)],'name':_0x12d507['name']}),_0x1061dc=!0x0;}}if(_0x1061dc){_0xaab599['customFields'][_0x50b359(0x537)]((_0x4d0b7b,_0x56256c)=>_0x4d0b7b[_0x50b359(0x2d9)]>_0x56256c[_0x50b359(0x2d9)]?0x1:_0x56256c[_0x50b359(0x2d9)]>_0x4d0b7b[_0x50b359(0x2d9)]?-0x1:0x0);for(let _0x44092c=0x0;_0x44092c<_0xaab599[_0x50b359(0x588)][_0x50b359(0x695)];_0x44092c++)_0xaab599['customFields'][_0x44092c][_0x50b359(0x2d9)]=_0x44092c+0x1;}let _0x3a8a1e=await _0xaab599[_0x50b359(0x1f1)]();return this[_0x50b359(0x76e)]=_0x3a8a1e,this[_0x50b359(0x45b)][_0x50b359(0x60a)](this[_0x50b359(0x4f0)]+'\x20('+this[_0x50b359(0x411)][_0x50b359(0x2d3)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x50b359(0x45b)][_0x50b359(0x60a)](this[_0x50b359(0x4f0)]+'\x20('+this['instance'][_0x50b359(0x2d3)]+_0x50b359(0x2d5)+this['AutomateSystem']),_0x3a8a1e;}catch(_0x47ee1c){throw this[_0x50b359(0x45b)]['error'](this['instanceName']+'\x20('+this[_0x50b359(0x411)]['wuid']+_0x50b359(0x2db)+_0x47ee1c),new g(_0x50b359(0x38b)+_0x47ee1c[_0x50b359(0x460)]);}}async[a0_0x5708fb(0x451)](_0x1cbf93){const _0x9c9c20=a0_0x5708fb;let _0x4897ba=this[_0x9c9c20(0x411)][_0x9c9c20(0x2d3)];try{let _0x2d7ea8=await ae[_0x9c9c20(0x1a9)](_0x4897ba);_0x2d7ea8||(_0x2d7ea8=new ae({'_id':_0x4897ba}),await _0x2d7ea8[_0x9c9c20(0x1f1)]()),_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x506)]=_0x1cbf93?.[_0x9c9c20(0x506)]!==void 0x0?_0x1cbf93?.[_0x9c9c20(0x506)]:_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x506)],_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x658)]=_0x1cbf93?.[_0x9c9c20(0x658)]!==void 0x0?_0x1cbf93?.['ignoreGroups']:_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x658)],_0x2d7ea8[_0x9c9c20(0x2b7)]['prefixCommand']=_0x1cbf93?.[_0x9c9c20(0x66f)]??_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x66f)],_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x3fe)]=_0x1cbf93?.[_0x9c9c20(0x3fe)]??_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x3fe)],_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x40b)]=_0x1cbf93?.[_0x9c9c20(0x40b)]??_0x2d7ea8[_0x9c9c20(0x2b7)][_0x9c9c20(0x40b)];let _0x58d393=await _0x2d7ea8[_0x9c9c20(0x1f1)]();return this[_0x9c9c20(0x76e)]=_0x58d393,this['logger'][_0x9c9c20(0x60a)](this['instanceName']+'\x20('+this[_0x9c9c20(0x411)][_0x9c9c20(0x2d3)]+_0x9c9c20(0x3b5)),this[_0x9c9c20(0x45b)]['verbose'](this[_0x9c9c20(0x4f0)]+'\x20('+this[_0x9c9c20(0x411)][_0x9c9c20(0x2d3)]+_0x9c9c20(0x2d5)+this[_0x9c9c20(0x76e)]),setTimeout(()=>this[_0x9c9c20(0x53c)](),0x7d0),_0x58d393;}catch(_0x3b632c){throw this[_0x9c9c20(0x45b)][_0x9c9c20(0x4aa)](this[_0x9c9c20(0x4f0)]+'\x20('+this[_0x9c9c20(0x411)][_0x9c9c20(0x2d3)]+_0x9c9c20(0x28a)+_0x3b632c),new g(_0x9c9c20(0x59c)+_0x3b632c[_0x9c9c20(0x460)]);}}async[a0_0x5708fb(0x6ef)](){const _0x39fd8c=a0_0x5708fb;let _0x2c10d=this['instance'][_0x39fd8c(0x2d3)];try{let _0x377af0=await ae[_0x39fd8c(0x1a9)](_0x2c10d);return _0x377af0||(_0x377af0=new ae({'_id':_0x2c10d})),_0x377af0[_0x39fd8c(0x2b7)]=_0x377af0[_0x39fd8c(0x2b7)]||{},_0x377af0['flowConfig'][_0x39fd8c(0x506)]===void 0x0&&(_0x377af0['flowConfig'][_0x39fd8c(0x506)]=!0x1),_0x377af0['flowConfig'][_0x39fd8c(0x658)]===void 0x0&&(_0x377af0[_0x39fd8c(0x2b7)]['ignoreGroups']=!0x0),_0x377af0[_0x39fd8c(0x2b7)][_0x39fd8c(0x66f)]===void 0x0&&(_0x377af0[_0x39fd8c(0x2b7)][_0x39fd8c(0x66f)]='!'),_0x377af0[_0x39fd8c(0x2b7)][_0x39fd8c(0x3fe)]===void 0x0&&(_0x377af0['flowConfig'][_0x39fd8c(0x3fe)]='!stop'),_0x377af0[_0x39fd8c(0x2b7)][_0x39fd8c(0x40b)]===void 0x0&&(_0x377af0[_0x39fd8c(0x2b7)][_0x39fd8c(0x40b)]=0x14),await _0x377af0[_0x39fd8c(0x1f1)](),this[_0x39fd8c(0x76e)]=_0x377af0,this[_0x39fd8c(0x45b)]['verbose'](this[_0x39fd8c(0x4f0)]+'\x20('+this[_0x39fd8c(0x411)]['wuid']+_0x39fd8c(0x717)),this['logger'][_0x39fd8c(0x60a)](this[_0x39fd8c(0x76e)]),_0x377af0;}catch(_0x5d841e){throw this[_0x39fd8c(0x45b)]['error'](this['instanceName']+'\x20('+this[_0x39fd8c(0x411)][_0x39fd8c(0x2d3)]+_0x39fd8c(0x657)+_0x5d841e[_0x39fd8c(0x460)]),new g(_0x39fd8c(0x6fe)+_0x5d841e['message']);}}async['setRestartTimer'](){const _0xb3529a=a0_0x5708fb;this[_0xb3529a(0x4df)]&&clearTimeout(this[_0xb3529a(0x4df)]),this['timerId']=setTimeout(()=>{const _0x4e60b0=_0xb3529a;this[_0x4e60b0(0x1fd)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5708fb(0x1fd)](){const _0x3becb4=a0_0x5708fb;Date['now']()-this['lastSend']>=0x1d4c0&&(this[_0x3becb4(0x45b)]['verbose'](this[_0x3becb4(0x4f0)]+'\x20('+this['instance'][_0x3becb4(0x2d3)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['processingScheduleMessageId']=null,this[_0x3becb4(0x71a)]=0x0,this[_0x3becb4(0x5f1)]=0x0,await this[_0x3becb4(0x53c)]());}async[a0_0x5708fb(0x53c)](){const _0x57875c=a0_0x5708fb;let _0x4171cc=()=>{const _0x4b867a=a0_0x3a58;this[_0x4b867a(0x45b)]['verbose'](this[_0x4b867a(0x4f0)]+'\x20('+this[_0x4b867a(0x411)][_0x4b867a(0x2d3)]+_0x4b867a(0x1db)+this['processingScheduleMessageId']+_0x4b867a(0x34a));},_0x8f69a6=async()=>{const _0x561b74=a0_0x3a58;this[_0x561b74(0x45b)][_0x561b74(0x60a)](this['instanceName']+'\x20('+this[_0x561b74(0x411)][_0x561b74(0x2d3)]+_0x561b74(0x38a));let _0xb60d3c=Date[_0x561b74(0x70a)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x561b74(0x2ff)]({'owner':this[_0x561b74(0x411)][_0x561b74(0x2d3)],'status':{'$in':['scheduled',_0x561b74(0x2a3)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0xb60d3c}},{'when':0x0}]});},_0x4bb7d0=async _0x41d3d1=>{const _0x5721a3=a0_0x3a58;for(let _0x91b282 of _0x41d3d1){if(!await L[_0x5721a3(0x2e4)]({'_id':_0x91b282[_0x5721a3(0x1bf)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date[_0x5721a3(0x70a)]()}}))return;if(!this[_0x5721a3(0x63b)]){this[_0x5721a3(0x45b)][_0x5721a3(0x60a)](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)]['wuid']+_0x5721a3(0x5cf));break;}if(_0x91b282['type']==='flow'&&!this['AutomateSystem']?.[_0x5721a3(0x2b7)][_0x5721a3(0x506)]){this[_0x5721a3(0x45b)][_0x5721a3(0x4aa)](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)][_0x5721a3(0x2d3)]+_0x5721a3(0x4ec));continue;}(!_0x91b282[_0x5721a3(0x765)]||_0x91b282[_0x5721a3(0x765)][_0x5721a3(0x695)]===0x0)&&(_0x91b282=await L['findByIdAndUpdate'](_0x91b282[_0x5721a3(0x1bf)],{'$set':{'status':_0x5721a3(0x2a3),'remoteJidsRemaining':[..._0x91b282[_0x5721a3(0x6b3)]]}},{'new':!0x0}));for(let _0x1578e5 of _0x91b282['remoteJidsRemaining']){if(await this[_0x5721a3(0x60e)](),this[_0x5721a3(0x71a)]=Date[_0x5721a3(0x70a)](),_0x91b282[_0x5721a3(0x5a3)]['some'](_0x115134=>_0x115134[_0x5721a3(0x22b)]===_0x1578e5)){this[_0x5721a3(0x45b)][_0x5721a3(0x60a)](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)][_0x5721a3(0x2d3)]+_0x5721a3(0x1ca)+_0x1578e5+'.\x20Pulando.');continue;}if(!this[_0x5721a3(0x63b)]){this['logger'][_0x5721a3(0x60a)](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)][_0x5721a3(0x2d3)]+_0x5721a3(0x2c6));break;}if(!this[_0x5721a3(0x335)]){this[_0x5721a3(0x45b)][_0x5721a3(0x60a)](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)][_0x5721a3(0x2d3)]+_0x5721a3(0x4b5)+_0x91b282[_0x5721a3(0x1bf)]+_0x5721a3(0x38d));break;}if(_0x91b282['type']===_0x5721a3(0x3e5)&&!this[_0x5721a3(0x76e)]?.[_0x5721a3(0x2b7)][_0x5721a3(0x506)]){this[_0x5721a3(0x45b)][_0x5721a3(0x4aa)](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)][_0x5721a3(0x2d3)]+_0x5721a3(0x4ec));break;}try{let _0x4946f4=await this[_0x5721a3(0x582)](_0x1578e5,_0x91b282),_0x226c04=_0x4946f4['error']===!0x0,_0x29bb43={'remoteJid':_0x1578e5,'error':_0x226c04,'id':_0x226c04?null:_0x4946f4['id'],'error_log':_0x226c04?_0x4946f4[_0x5721a3(0x57c)]?_0x4946f4[_0x5721a3(0x57c)][_0x5721a3(0x3f5)]():'':null,'log_timestamp':Date[_0x5721a3(0x70a)]()};if((await L['findByIdAndUpdate'](_0x91b282['_id'],{'$push':{'messagesSend':_0x29bb43},'$pull':{'remoteJidsRemaining':_0x1578e5}},{'new':!0x0}))[_0x5721a3(0x284)]==='stopped'){this['logger'][_0x5721a3(0x60a)](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)][_0x5721a3(0x2d3)]+_0x5721a3(0x4b5)+_0x91b282[_0x5721a3(0x1bf)]+_0x5721a3(0x721));break;}if(_0x226c04)continue;let _0x46cc7c=this[_0x5721a3(0x3fb)](_0x91b282[_0x5721a3(0x54b)],_0x91b282[_0x5721a3(0x1dc)]);await this[_0x5721a3(0x609)](_0x46cc7c);}catch(_0x10ad6a){this['logger']['error'](this[_0x5721a3(0x4f0)]+'\x20('+this[_0x5721a3(0x411)][_0x5721a3(0x2d3)]+_0x5721a3(0x47f)+_0x1578e5+':\x20'+_0x10ad6a[_0x5721a3(0x460)]);let _0x388099={'remoteJid':_0x1578e5,'error':!0x0,'id':null,'error_log':_0x10ad6a[_0x5721a3(0x460)],'log_timestamp':Date[_0x5721a3(0x70a)]()};await L[_0x5721a3(0x24a)](_0x91b282['_id'],{'$push':{'messagesSend':_0x388099},'$pull':{'remoteJidsRemaining':_0x1578e5}},{'new':!0x0});}}let _0x2ac75f=await L['findById'](_0x91b282[_0x5721a3(0x1bf)]);_0x2ac75f[_0x5721a3(0x765)][_0x5721a3(0x695)]===0x0&&_0x2ac75f[_0x5721a3(0x284)]!==_0x5721a3(0x6ce)&&await L['findByIdAndUpdate'](_0x91b282['_id'],{'$set':{'status':_0x5721a3(0x6ea)}},{'new':!0x0}),await new Promise(_0x215428=>setTimeout(_0x215428,0x1388));}},_0x4018a6=async()=>{const _0x270486=a0_0x3a58;let _0x495deb=await L['findOne']({'owner':this[_0x270486(0x411)][_0x270486(0x2d3)],'status':_0x270486(0x6d2),'when':{'$gt':Date[_0x270486(0x70a)]()}})[_0x270486(0x537)]({'when':0x1});_0x495deb&&_0x495deb[_0x270486(0x622)]-Date['now']()<=0x5265c00?this[_0x270486(0x5f1)]=_0x495deb[_0x270486(0x622)]-Date[_0x270486(0x70a)]():this[_0x270486(0x5f1)]=(0x3c+Math['floor'](Math[_0x270486(0x4fc)]()*0x3c))*0x3c*0x3e8,this[_0x270486(0x5f1)]=Math[_0x270486(0x1a3)](this[_0x270486(0x5f1)],0x7d0);let _0x1af4d8=Math[_0x270486(0x680)](this[_0x270486(0x5f1)]/0xea60);if(_0x495deb){let _0x5bc47f=new Date(_0x495deb[_0x270486(0x622)])[_0x270486(0x61f)]();this[_0x270486(0x45b)]['verbose'](this[_0x270486(0x4f0)]+'\x20('+this['instance'][_0x270486(0x2d3)]+_0x270486(0x316)+_0x5bc47f+_0x270486(0x70b)+_0x1af4d8+_0x270486(0x24b));}else this[_0x270486(0x45b)][_0x270486(0x60a)](this[_0x270486(0x4f0)]+'\x20('+this[_0x270486(0x411)][_0x270486(0x2d3)]+_0x270486(0x338)+_0x1af4d8+'\x20minutos');setTimeout(()=>this[_0x270486(0x53c)](),this[_0x270486(0x5f1)]);};if(this[_0x57875c(0x335)]){await this[_0x57875c(0x60e)](),_0x4171cc();return;}if(!this[_0x57875c(0x63b)]){this[_0x57875c(0x45b)][_0x57875c(0x60a)](this[_0x57875c(0x4f0)]+'\x20('+this[_0x57875c(0x411)][_0x57875c(0x2d3)]+_0x57875c(0x488)),this[_0x57875c(0x335)]=null,this['lastSend']=0x0,this[_0x57875c(0x5f1)]=0x0;return;}try{let _0x10c33e=await _0x8f69a6();_0x10c33e[_0x57875c(0x695)]===0x0?this[_0x57875c(0x45b)][_0x57875c(0x60a)](this[_0x57875c(0x4f0)]+'\x20('+this[_0x57875c(0x411)]['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this['processingScheduleMessageId']=_0x10c33e[0x0]['_id'],await _0x4bb7d0(_0x10c33e)),await _0x4018a6(),this[_0x57875c(0x335)]=null;}catch(_0x355f96){this[_0x57875c(0x45b)][_0x57875c(0x4aa)](_0x57875c(0x645)+_0x355f96['message']);}}[a0_0x5708fb(0x3fb)](_0x172f53,_0x40c555){const _0x222dde=a0_0x5708fb;return _0x172f53=Math['max'](0.5,_0x172f53),_0x40c555=Math[_0x222dde(0x1a3)](0x3,_0x40c555),Math[_0x222dde(0x748)](Math[_0x222dde(0x4fc)]()*(_0x40c555-_0x172f53+0x1)+_0x172f53)*0x3e8;}[a0_0x5708fb(0x609)](_0x13dd3b){return new Promise(_0x5c9f15=>setTimeout(_0x5c9f15,_0x13dd3b));}async['getVariablesChat'](_0x327cd0){const _0x103083=a0_0x5708fb;if(!this[_0x103083(0x76e)]&&(await this['getAutomateSystem'](),!this[_0x103083(0x76e)]))return null;_0x327cd0=this[_0x103083(0x433)](_0x327cd0);let _0x41a9b2=await this['repository'][_0x103083(0x2e9)][_0x103083(0x5fc)]({'where':{'_id':_0x327cd0,'owner':this[_0x103083(0x411)][_0x103083(0x2d3)]}}),_0x2fc860={};if(_0x41a9b2&&_0x41a9b2[_0x103083(0x3f0)]){let _0xad81ef=_0x41a9b2['leadInfo'];typeof _0xad81ef[_0x103083(0x269)]=='string'&&(_0x2fc860['nome']=_0xad81ef[_0x103083(0x269)]),typeof _0xad81ef['nomecompleto']==_0x103083(0x4c0)&&(_0x2fc860[_0x103083(0x38f)]=_0xad81ef[_0x103083(0x38f)]),typeof _0xad81ef['email']=='string'&&(_0x2fc860[_0x103083(0x3d0)]=_0xad81ef[_0x103083(0x3d0)]),typeof _0xad81ef[_0x103083(0x604)]==_0x103083(0x4c0)&&(_0x2fc860[_0x103083(0x604)]=_0xad81ef[_0x103083(0x604)]),typeof _0xad81ef['status']==_0x103083(0x4c0)&&(_0x2fc860[_0x103083(0x284)]=_0xad81ef[_0x103083(0x284)]),typeof _0xad81ef[_0x103083(0x30e)]==_0x103083(0x4c0)&&(_0x2fc860[_0x103083(0x30e)]=_0xad81ef['notas']),typeof _0xad81ef['responsavelid']=='string'&&(_0x2fc860[_0x103083(0x332)]=_0xad81ef['responsavelid']),Array['isArray'](_0xad81ef[_0x103083(0x297)])&&(_0x2fc860[_0x103083(0x297)]=_0xad81ef['tags'][_0x103083(0x532)](',\x20'));}return _0x41a9b2&&_0x41a9b2[_0x103083(0x3f0)]&&_0x41a9b2[_0x103083(0x3f0)]['customFields']&&_0x41a9b2[_0x103083(0x3f0)][_0x103083(0x588)][_0x103083(0x31e)](_0x25ba4f=>{const _0xb4d6e2=_0x103083;let _0xba392f=this[_0xb4d6e2(0x76e)]?.[_0xb4d6e2(0x588)]['find'](_0x2e5779=>_0x2e5779[_0xb4d6e2(0x1bf)]===_0x25ba4f['_id']);_0xba392f&&(_0x2fc860[_0xba392f[_0xb4d6e2(0x3a8)]]=_0x25ba4f[_0xb4d6e2(0x377)]);}),_0x2fc860;}async[a0_0x5708fb(0x1c1)](_0x104d78,_0x185ea2){let _0x250625=await this['getVariablesChat'](_0x185ea2);return this['replaceVariables'](_0x104d78,_0x250625);}async['editScheduleMessage'](_0x2b4257){const _0x2a4928=a0_0x5708fb;try{if(this['logger'][_0x2a4928(0x60a)](this[_0x2a4928(0x4f0)]+'\x20('+this['instance']['wuid']+_0x2a4928(0x31c)),_0x2b4257[_0x2a4928(0x719)]&&_0x2b4257[_0x2a4928(0x1bf)]){if(this[_0x2a4928(0x335)]===_0x2b4257[_0x2a4928(0x1bf)][_0x2a4928(0x3f5)]())throw new Error(_0x2a4928(0x5ff));let _0x1e7954=await L[_0x2a4928(0x769)](_0x2b4257[_0x2a4928(0x1bf)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1e7954;}let _0x97e1e8;if(_0x2b4257['_id']&&(_0x97e1e8=await L['findOne']({'owner':this[_0x2a4928(0x411)][_0x2a4928(0x2d3)],'_id':_0x2b4257[_0x2a4928(0x1bf)]})),_0x97e1e8){let _0x23c826=_0x2b4257;this[_0x2a4928(0x335)]===_0x97e1e8['_id'][_0x2a4928(0x3f5)]()&&(_0x23c826={'status':_0x2b4257[_0x2a4928(0x284)],'_id':_0x2b4257[_0x2a4928(0x1bf)]});let _0x1b678b=await L[_0x2a4928(0x24a)](_0x97e1e8[_0x2a4928(0x1bf)],{'$set':_0x23c826},{'new':!0x0});return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1b678b;}else{_0x2b4257['owner']=this[_0x2a4928(0x411)][_0x2a4928(0x2d3)];let _0x12e22d=await new L(_0x2b4257)[_0x2a4928(0x1f1)]();return setTimeout(()=>this[_0x2a4928(0x53c)](),0x7d0),_0x12e22d;}}catch(_0xa63022){throw this[_0x2a4928(0x45b)]['error'](this['instanceName']+'\x20('+this[_0x2a4928(0x411)]['wuid']+_0x2a4928(0x36e)+_0xa63022),new g(_0x2a4928(0x280)+_0xa63022[_0x2a4928(0x460)]);}}async[a0_0x5708fb(0x5cc)](){const _0xe71dc7=a0_0x5708fb;try{return await L[_0xe71dc7(0x2ff)]({'owner':this[_0xe71dc7(0x411)][_0xe71dc7(0x2d3)]})[_0xe71dc7(0x537)]({'when':0x1});}catch(_0xef3398){throw this[_0xe71dc7(0x45b)][_0xe71dc7(0x4aa)](this[_0xe71dc7(0x4f0)]+'\x20('+this[_0xe71dc7(0x411)][_0xe71dc7(0x2d3)]+_0xe71dc7(0x4c4)+_0xef3398),new g(_0xe71dc7(0x280)+_0xef3398['message']);}}async[a0_0x5708fb(0x4ee)](){const _0x5c0ca9=a0_0x5708fb;try{return await L[_0x5c0ca9(0x1e2)]({'owner':this[_0x5c0ca9(0x411)]['wuid'],'status':_0x5c0ca9(0x6ea)}),this[_0x5c0ca9(0x45b)]['verbose'](this[_0x5c0ca9(0x4f0)]+'\x20('+this[_0x5c0ca9(0x411)][_0x5c0ca9(0x2d3)]+_0x5c0ca9(0x4ad)),this['getScheduleMessage']();}catch(_0x5469a2){throw this[_0x5c0ca9(0x45b)][_0x5c0ca9(0x4aa)](this['instanceName']+'\x20('+this[_0x5c0ca9(0x411)][_0x5c0ca9(0x2d3)]+_0x5c0ca9(0x437)+_0x5469a2),new g(_0x5c0ca9(0x280)+_0x5469a2[_0x5c0ca9(0x460)]);}}async[a0_0x5708fb(0x582)](_0x5da3c6,_0x455fe3){const _0x2850a2=a0_0x5708fb;try{if(_0x455fe3[_0x2850a2(0x2af)]===_0x2850a2(0x3e5)&&!this[_0x2850a2(0x76e)]?.[_0x2850a2(0x2b7)][_0x2850a2(0x506)])return this[_0x2850a2(0x45b)][_0x2850a2(0x4aa)](this[_0x2850a2(0x4f0)]+'\x20('+this['instance']['wuid']+_0x2850a2(0x68c)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x455fe3[_0x2850a2(0x2af)]){case _0x2850a2(0x2ce):return await this[_0x2850a2(0x4e3)](_0x455fe3,_0x5da3c6);case _0x2850a2(0x223):return await this[_0x2850a2(0x4b1)](_0x455fe3,_0x5da3c6);case'audio':return await this[_0x2850a2(0x534)](_0x455fe3,_0x5da3c6);case _0x2850a2(0x3e5):let _0x4e9e0e=new Pe();return _0x4e9e0e[_0x2850a2(0x3a8)]=_0x455fe3[_0x2850a2(0x511)],_0x4e9e0e['remoteJid']=_0x5da3c6,await this[_0x2850a2(0x32c)](_0x4e9e0e);break;default:return this[_0x2850a2(0x45b)][_0x2850a2(0x4aa)](this[_0x2850a2(0x4f0)]+'\x20('+this['instance'][_0x2850a2(0x2d3)]+'):\x20Comando\x20desconhecido:\x20'+_0x455fe3[_0x2850a2(0x2af)]),{'error':!0x0,'detail':_0x2850a2(0x758)};}}catch(_0x1709ad){return this['logger'][_0x2850a2(0x4aa)](this[_0x2850a2(0x4f0)]+'\x20('+this['instance'][_0x2850a2(0x2d3)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+JSON['stringify'](_0x1709ad,null,0x2)),{'error':!0x0,'detail':_0x1709ad['message']};}}[a0_0x5708fb(0x357)](_0x4f1553){const _0x23e390=a0_0x5708fb;let _0x48fd6b=_0x4f1553[_0x23e390(0x3bd)]('|'),_0x58b941=Math[_0x23e390(0x748)](Math['random']()*_0x48fd6b[_0x23e390(0x695)]);return _0x48fd6b[_0x58b941][_0x23e390(0x3f3)]();}async[a0_0x5708fb(0x4e3)](_0x5edeaf,_0x1ab0f2){const _0x1b4666=a0_0x5708fb;if(this[_0x1b4666(0x45b)][_0x1b4666(0x60a)](this[_0x1b4666(0x4f0)]+'\x20('+this[_0x1b4666(0x411)]['wuid']+'):\x20Enviando\x20texto'),!_0x5edeaf[_0x1b4666(0x460)][_0x1b4666(0x2ce)]||_0x5edeaf[_0x1b4666(0x460)][_0x1b4666(0x2ce)][_0x1b4666(0x695)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x3aded1=this[_0x1b4666(0x357)](_0x5edeaf[_0x1b4666(0x460)][_0x1b4666(0x2ce)]),_0x4aad3c=await this['replaceVariablesChat'](_0x3aded1,_0x1ab0f2),_0x1152cb={'number':_0x1ab0f2,'options':{'delay':_0x5edeaf[_0x1b4666(0x460)][_0x1b4666(0x2e0)]},'textMessage':{'text':_0x4aad3c}},_0x532210=null;try{let _0x15ac9f=await this[_0x1b4666(0x1ed)](_0x1152cb);if(_0x15ac9f&&_0x15ac9f[_0x1b4666(0x284)])return{'error':!0x1,'id':_0x15ac9f['key']['id']};_0x532210=JSON[_0x1b4666(0x726)](_0x15ac9f),this[_0x1b4666(0x45b)][_0x1b4666(0x60a)](this['instanceName']+'\x20('+this[_0x1b4666(0x411)][_0x1b4666(0x2d3)]+_0x1b4666(0x2d5)+_0x532210);}catch(_0x36bb25){this[_0x1b4666(0x45b)][_0x1b4666(0x4aa)](this['instanceName']+'\x20('+this[_0x1b4666(0x411)][_0x1b4666(0x2d3)]+_0x1b4666(0x4fb)+JSON[_0x1b4666(0x726)](_0x36bb25,null,0x2)),_0x532210=_0x36bb25['message'];}if(_0x532210)return{'error':!0x0,'detail':(typeof _0x532210==_0x1b4666(0x279)?JSON[_0x1b4666(0x726)](_0x532210,null,0x2):_0x532210)[_0x1b4666(0x2be)](/[\[\]{}\n]/g,'\x20')[_0x1b4666(0x2be)](/  +/g,'\x20')};}async[a0_0x5708fb(0x4b1)](_0x222fbc,_0x3de1d3){const _0x31058a=a0_0x5708fb;this['logger'][_0x31058a(0x60a)](this[_0x31058a(0x4f0)]+'\x20('+this[_0x31058a(0x411)]['wuid']+_0x31058a(0x6f2));let _0x2f0c14;if(_0x222fbc['message'][_0x31058a(0x2ce)]&&_0x222fbc['message'][_0x31058a(0x2ce)][_0x31058a(0x695)]>0x0){let _0x666a5c=this['getRandomText'](_0x222fbc['message'][_0x31058a(0x2ce)]);_0x2f0c14=await this['replaceVariablesChat'](_0x666a5c,_0x3de1d3);}let _0x4f2292={'number':_0x3de1d3,'options':{'delay':_0x222fbc['message']['delay']},'mediaMessage':{'mediatype':_0x222fbc['message'][_0x31058a(0x30c)],'caption':_0x2f0c14,'media':_0x222fbc[_0x31058a(0x460)][_0x31058a(0x41f)]}},_0x2073aa=null;try{let _0x223beb=await this[_0x31058a(0x194)](_0x4f2292);if(_0x223beb&&_0x223beb[_0x31058a(0x284)])return{'error':!0x1,'id':_0x223beb[_0x31058a(0x6b9)]['id']};_0x2073aa=JSON[_0x31058a(0x726)](_0x223beb),this[_0x31058a(0x45b)]['verbose'](this[_0x31058a(0x4f0)]+'\x20('+this['instance'][_0x31058a(0x2d3)]+'):\x20'+_0x2073aa);}catch(_0x38c750){this[_0x31058a(0x45b)][_0x31058a(0x4aa)](this[_0x31058a(0x4f0)]+'\x20('+this[_0x31058a(0x411)][_0x31058a(0x2d3)]+_0x31058a(0x344)+JSON[_0x31058a(0x726)](_0x38c750,null,0x2)),_0x2073aa=_0x38c750[_0x31058a(0x460)];}if(_0x2073aa)return{'error':!0x0,'detail':(typeof _0x2073aa==_0x31058a(0x279)?JSON[_0x31058a(0x726)](_0x2073aa,null,0x2):_0x2073aa)[_0x31058a(0x2be)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x5708fb(0x534)](_0x5040bf,_0x4a47c8){const _0x1e6cfc=a0_0x5708fb;this[_0x1e6cfc(0x45b)][_0x1e6cfc(0x60a)](this[_0x1e6cfc(0x4f0)]+'\x20('+this[_0x1e6cfc(0x411)][_0x1e6cfc(0x2d3)]+_0x1e6cfc(0x1d2));let _0x4e76d2={'number':_0x4a47c8,'options':{'delay':_0x5040bf['message']['delay']},'audioMessage':{'audio':_0x5040bf[_0x1e6cfc(0x460)][_0x1e6cfc(0x41f)]}},_0x3b5567=null;try{let _0x8e1624=await this['audioWhatsapp'](_0x4e76d2);if(_0x8e1624&&_0x8e1624[_0x1e6cfc(0x284)])return{'error':!0x1,'id':_0x8e1624['key']['id']};_0x3b5567=JSON[_0x1e6cfc(0x726)](_0x8e1624),this[_0x1e6cfc(0x45b)]['verbose'](this[_0x1e6cfc(0x4f0)]+'\x20('+this[_0x1e6cfc(0x411)][_0x1e6cfc(0x2d3)]+'):\x20'+_0x3b5567);}catch(_0x95ea31){this[_0x1e6cfc(0x45b)][_0x1e6cfc(0x4aa)](this[_0x1e6cfc(0x4f0)]+'\x20('+this[_0x1e6cfc(0x411)][_0x1e6cfc(0x2d3)]+_0x1e6cfc(0x407)+JSON[_0x1e6cfc(0x726)](_0x95ea31,null,0x2)),_0x3b5567=_0x95ea31[_0x1e6cfc(0x460)];}if(_0x3b5567)return{'error':!0x0,'detail':(typeof _0x3b5567=='object'?JSON[_0x1e6cfc(0x726)](_0x3b5567,null,0x2):_0x3b5567)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1e6cfc(0x2be)](/  +/g,'\x20')};}},be=require(a0_0x5708fb(0x27d)),_t=class c{constructor(_0x5430fc,_0x5f152e,_0x3305ff){const _0x707c2a=a0_0x5708fb;this['eventEmitter']=_0x5430fc,this[_0x707c2a(0x33c)]=_0x5f152e,this[_0x707c2a(0x3ed)]=_0x3305ff,this['db']={},this[_0x707c2a(0x702)]={},this['logger']=new N(c[_0x707c2a(0x3a8)]),this[_0x707c2a(0x5b2)]={},(this[_0x707c2a(0x40d)](),this['noConnection'](),this['delInstanceFiles'](),Object[_0x707c2a(0x73f)](this['db'],_0x5f152e[_0x707c2a(0x1cd)](_0x707c2a(0x18d))),Object[_0x707c2a(0x73f)](this[_0x707c2a(0x702)],_0x5f152e['get']('REDIS')),this[_0x707c2a(0x464)]=this['db'][_0x707c2a(0x3e7)]?this['repository'][_0x707c2a(0x209)]?.['db'](this['db']['CONNECTION'][_0x707c2a(0x301)]+'-instances'):void 0x0,this[_0x707c2a(0x727)]=this[_0x707c2a(0x702)][_0x707c2a(0x3e7)]?new ne(this[_0x707c2a(0x702)]):void 0x0);}[a0_0x5708fb(0x610)](_0x385ee7){const _0x3cf891=a0_0x5708fb;let _0x447ccc=this[_0x3cf891(0x33c)][_0x3cf891(0x1cd)](_0x3cf891(0x6b1));typeof _0x447ccc==_0x3cf891(0x682)&&_0x447ccc>0x0&&setTimeout(()=>{const _0x324e68=_0x3cf891;this[_0x324e68(0x5b2)][_0x385ee7]?.['connectionStatus']?.[_0x324e68(0x2f7)]!==_0x324e68(0x36f)&&delete this['waInstances'][_0x385ee7];},0x3e8*0x3c*_0x447ccc);}async['instanceInfo'](_0xdf0b03){const _0x2a1860=a0_0x5708fb;if(_0xdf0b03&&!this[_0x2a1860(0x5b2)][_0xdf0b03])throw new x(_0x2a1860(0x36c)+_0xdf0b03+_0x2a1860(0x2a2));let _0x181109=[];for await(let [_0x55cc01,_0x13dc5c]of Object[_0x2a1860(0x23b)](this['waInstances']))if(_0x13dc5c&&_0x13dc5c[_0x2a1860(0x540)][_0x2a1860(0x2f7)]===_0x2a1860(0x36f)){let _0x56a6c5=await this[_0x2a1860(0x3ed)][_0x2a1860(0x4e1)]['find'](_0x55cc01);_0x181109[_0x2a1860(0x245)]({'instance':{'instanceName':_0x55cc01,'apikey':_0x56a6c5[_0x2a1860(0x1b6)],'owner':_0x13dc5c['wuid'],'profileName':await _0x13dc5c[_0x2a1860(0x35a)]()||_0x2a1860(0x4a5),'profilePictureUrl':_0x13dc5c['profilePictureUrl']}});}return _0x181109[_0x2a1860(0x2ff)](_0x5b4fc9=>_0x5b4fc9[_0x2a1860(0x411)][_0x2a1860(0x4f0)]===_0xdf0b03)??_0x181109;}[a0_0x5708fb(0x4d7)](){setInterval(async()=>{const _0x4d1430=a0_0x3a58;if(this['db'][_0x4d1430(0x3e7)])(await this[_0x4d1430(0x464)][_0x4d1430(0x410)]())['forEach'](async _0x1e7765=>{const _0xf9d392=_0x4d1430;let _0x2d2833=_0x1e7765[_0xf9d392(0x50e)][_0xf9d392(0x2be)](/^[\w-]+./,'');await this[_0xf9d392(0x464)][_0xf9d392(0x26d)](_0x2d2833)['deleteMany']({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x4c64eb=(0x0,te[_0x4d1430(0x701)])(V,{'encoding':'utf-8'});for await(let _0x485eff of _0x4c64eb)_0x485eff['isDirectory']()&&(0x0,te[_0x4d1430(0x577)])((0x0,be['join'])(V,_0x485eff[_0x4d1430(0x3a8)]),{'encoding':_0x4d1430(0x733)})[_0x4d1430(0x31e)](async _0x4009c0=>{const _0xf982be=_0x4d1430;(_0x4009c0[_0xf982be(0x356)](/^app.state.*/)||_0x4009c0['match'](/^session-.*/))&&(0x0,te[_0xf982be(0x5b7)])((0x0,be[_0xf982be(0x532)])(V,_0x485eff[_0xf982be(0x3a8)],_0x4009c0),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x44e6e0){const _0x3f43db=a0_0x5708fb;this['db'][_0x3f43db(0x3e7)]&&(await this[_0x3f43db(0x3ed)][_0x3f43db(0x209)][_0x3f43db(0x5a9)](),(await this[_0x3f43db(0x464)]['collections']())[_0x3f43db(0x695)]>0x0&&await this[_0x3f43db(0x464)][_0x3f43db(0x59e)](_0x44e6e0)),this[_0x3f43db(0x702)][_0x3f43db(0x3e7)]&&(this[_0x3f43db(0x727)][_0x3f43db(0x64b)]=_0x44e6e0,await this['redisCache']['delAll']()),!this['db'][_0x3f43db(0x3e7)]&&!this[_0x3f43db(0x702)]['ENABLED']&&(0x0,te[_0x3f43db(0x5b7)])((0x0,be[_0x3f43db(0x532)])(V,_0x44e6e0),{'recursive':!0x0,'force':!0x0});}async[a0_0x5708fb(0x655)](){const _0x39d62f=a0_0x5708fb;let _0x19e2f1=async _0x403e04=>{const _0xb7fa87=a0_0x3a58;let _0x1fa7aa=new ye(this[_0xb7fa87(0x33c)],this[_0xb7fa87(0x709)],this[_0xb7fa87(0x3ed)]);_0x1fa7aa[_0xb7fa87(0x4f0)]=_0x403e04,await _0x1fa7aa[_0xb7fa87(0x47b)](),this[_0xb7fa87(0x5b2)][_0x403e04]=_0x1fa7aa;};try{if(this[_0x39d62f(0x702)][_0x39d62f(0x3e7)]){let _0x456722=await this[_0x39d62f(0x727)][_0x39d62f(0x696)]();_0x456722?.[_0x39d62f(0x695)]>0x0&&_0x456722[_0x39d62f(0x31e)](async _0x5363fa=>await _0x19e2f1(_0x5363fa[_0x39d62f(0x3bd)](':')[0x1]));}if(this['db'][_0x39d62f(0x3e7)]){await this[_0x39d62f(0x3ed)]['dbServer'][_0x39d62f(0x5a9)]();let _0x3ebf49=await this['dbInstance'][_0x39d62f(0x410)]();_0x3ebf49[_0x39d62f(0x695)]>0x0&&_0x3ebf49[_0x39d62f(0x31e)](async _0x254392=>await _0x19e2f1(_0x254392[_0x39d62f(0x50e)]['replace'](/^[\w-]+\./,'')));return;}let _0x28b869=(0x0,te[_0x39d62f(0x701)])(V,{'encoding':'utf-8'});for await(let _0x279b72 of _0x28b869)if(_0x279b72['isDirectory']()){if((0x0,te['readdirSync'])((0x0,be['join'])(V,_0x279b72[_0x39d62f(0x3a8)]),{'encoding':'utf-8'})[_0x39d62f(0x695)]===0x0){(0x0,te['rmSync'])((0x0,be['join'])(V,_0x279b72[_0x39d62f(0x3a8)]),{'recursive':!0x0,'force':!0x0});break;}await _0x19e2f1(_0x279b72[_0x39d62f(0x3a8)]);}}catch(_0x4a4bc1){this[_0x39d62f(0x45b)]['error'](_0x4a4bc1);}}[a0_0x5708fb(0x40d)](){const _0x21d3d3=a0_0x5708fb;this[_0x21d3d3(0x709)]['on'](_0x21d3d3(0x2b9),async _0x499d00=>{const _0xef591b=_0x21d3d3;try{this[_0xef591b(0x5b2)][_0x499d00]=void 0x0;}catch{}try{this[_0xef591b(0x235)](_0x499d00);}finally{this['logger']['warn']('Instance\x20\x22'+_0x499d00+_0xef591b(0x1f4));}});}[a0_0x5708fb(0x636)](){const _0x43cd32=a0_0x5708fb;this[_0x43cd32(0x709)]['on']('no.connection',async _0x22ea71=>{const _0xdc1019=_0x43cd32;try{this['waInstances'][_0x22ea71]=void 0x0,this['cleaningUp'](_0x22ea71);}catch(_0x1a17ba){this[_0xdc1019(0x45b)]['error']({'localError':_0xdc1019(0x636),'warn':_0xdc1019(0x37e),'error':_0x1a17ba});}finally{this[_0xdc1019(0x45b)][_0xdc1019(0x3c8)](_0xdc1019(0x36c)+_0x22ea71+_0xdc1019(0x44f));}});}},Pt=class extends W{constructor(_0x856f95){const _0x5534b8=a0_0x5708fb;super(_0x856f95),this[_0x5534b8(0x33c)]=_0x856f95;}[a0_0x5708fb(0x2e7)](_0x34cec0){return xs(_0x34cec0);}async[a0_0x5708fb(0x5f7)](_0x3a8879){const _0x44d738=a0_0x5708fb;if(_0x3a8879['length']!==0x0)try{return{'insertCount':(await this[_0x44d738(0x2e7)](_0x3a8879[0x0]['owner'])[_0x44d738(0x1f5)]([..._0x3a8879]))[_0x44d738(0x695)]};}catch(_0x3d55ea){return _0x3d55ea;}}async[a0_0x5708fb(0x2ff)](_0x561c56){const _0x400b69=a0_0x5708fb;try{return await this[_0x400b69(0x2e7)](_0x561c56[_0x400b69(0x764)]['owner'])[_0x400b69(0x2ff)]({..._0x561c56['where']})[_0x400b69(0x537)]({'lastmsg':-0x1})[_0x400b69(0x6f9)](_0x561c56?.[_0x400b69(0x6f9)]??0x0)[_0x400b69(0x32d)]();}catch{return[];}}async[a0_0x5708fb(0x719)](_0x14aa5d){const _0x885c84=a0_0x5708fb;try{return{'deletedCount':(await this[_0x885c84(0x2e7)](_0x14aa5d[_0x885c84(0x764)][_0x885c84(0x42a)])[_0x885c84(0x1e2)]({..._0x14aa5d[_0x885c84(0x764)]}))[_0x885c84(0x4b4)]};}catch(_0x54b0b4){return{'error':_0x54b0b4?.[_0x885c84(0x3f5)]()};}}async[a0_0x5708fb(0x5e1)](_0x3ad247){const _0x48c2b8=a0_0x5708fb;try{return await this['getChatModelForOwner'](_0x3ad247[_0x48c2b8(0x764)][_0x48c2b8(0x42a)])[_0x48c2b8(0x1e2)]({..._0x3ad247['where']}),[];}catch(_0x59dbdf){return{'error':_0x59dbdf?.[_0x48c2b8(0x3f5)]()};}}async[a0_0x5708fb(0x5fc)](_0x1e23b1){const _0x186e80=a0_0x5708fb;try{return await this[_0x186e80(0x2e7)](_0x1e23b1['where'][_0x186e80(0x42a)])[_0x186e80(0x5fc)]({..._0x1e23b1[_0x186e80(0x764)]})[_0x186e80(0x32d)]();}catch{return null;}}async[a0_0x5708fb(0x28f)](_0x2c3f02,_0x44b2c7,_0x36a56a){const _0x2cde54=a0_0x5708fb;try{let _0x510b4d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x36a56a};return await this['getChatModelForOwner'](_0x2c3f02['where'][_0x2cde54(0x42a)])[_0x2cde54(0x2e4)]({..._0x2c3f02[_0x2cde54(0x764)]},{'$set':_0x44b2c7},_0x510b4d);}catch(_0x4a8e8a){return console['error'](_0x4a8e8a),null;}}async[a0_0x5708fb(0x204)](_0x2ffd5d){const _0x59a9be=a0_0x5708fb;try{let _0x4cc138=this[_0x59a9be(0x2e7)](_0x2ffd5d[0x0]['query'][_0x59a9be(0x764)][_0x59a9be(0x42a)]),_0x41cb02=_0x2ffd5d[_0x59a9be(0x2ee)](_0x305e7b=>({'updateOne':{'filter':{..._0x305e7b[_0x59a9be(0x212)][_0x59a9be(0x764)]},'update':{'$set':_0x305e7b[_0x59a9be(0x74b)]}}}));return(await _0x4cc138['bulkWrite'](_0x41cb02))['modifiedCount'];}catch(_0x53e63f){return console[_0x59a9be(0x4aa)](_0x53e63f),0x0;}}},xt=class{constructor(_0x51a0fa){this['waMonitor']=_0x51a0fa;}async['editChat']({instanceName:_0x197230},_0x534370){const _0x11de48=a0_0x5708fb;return await this[_0x11de48(0x2ab)][_0x11de48(0x5b2)][_0x197230][_0x11de48(0x438)](_0x534370);}async[a0_0x5708fb(0x529)]({instanceName:_0xe28509},_0x473505){const _0x3a89cb=a0_0x5708fb;return await this[_0x3a89cb(0x2ab)][_0x3a89cb(0x5b2)][_0xe28509][_0x3a89cb(0x529)](_0x473505);}async[a0_0x5708fb(0x63f)]({instanceName:_0x4b0298},_0xe67dc1){const _0x2eac45=a0_0x5708fb;return await this['waMonitor'][_0x2eac45(0x5b2)][_0x4b0298][_0x2eac45(0x49c)](_0xe67dc1);}async['archiveChat']({instanceName:_0x23e68c},_0x1b35f0){const _0x1eb7f3=a0_0x5708fb;return await this[_0x1eb7f3(0x2ab)][_0x1eb7f3(0x5b2)][_0x23e68c][_0x1eb7f3(0x3d9)](_0x1b35f0);}async[a0_0x5708fb(0x2f3)]({instanceName:_0x43d203},_0x472b5c){const _0x31933b=a0_0x5708fb;return await this['waMonitor'][_0x31933b(0x5b2)][_0x43d203][_0x31933b(0x2f3)](_0x472b5c);}async[a0_0x5708fb(0x193)]({instanceName:_0x10d70c},_0x53e0d0){const _0x278f0c=a0_0x5708fb;return await this['waMonitor'][_0x278f0c(0x5b2)][_0x10d70c]['profilePicture'](_0x53e0d0['number']);}async['fetchProfile']({instanceName:_0x32b0eb},_0x4634d4){const _0x228ad0=a0_0x5708fb;return await this['waMonitor']['waInstances'][_0x32b0eb][_0x228ad0(0x5c5)](_0x4634d4[_0x228ad0(0x682)]);}async['updatePresence']({instanceName:_0x47f756},_0x2b3968){const _0x32fb8c=a0_0x5708fb;return await this[_0x32fb8c(0x2ab)][_0x32fb8c(0x5b2)][_0x47f756][_0x32fb8c(0x640)](_0x2b3968);}async[a0_0x5708fb(0x70c)]({instanceName:_0x512402},_0x11af5d){const _0x4d3b10=a0_0x5708fb;return await this[_0x4d3b10(0x2ab)][_0x4d3b10(0x5b2)][_0x512402][_0x4d3b10(0x70c)](_0x11af5d);}async[a0_0x5708fb(0x39b)]({instanceName:_0x37cdbc},_0x45ec12){const _0x175b43=a0_0x5708fb;return await this[_0x175b43(0x2ab)][_0x175b43(0x5b2)][_0x37cdbc][_0x175b43(0x39b)](_0x45ec12);}async[a0_0x5708fb(0x22c)]({instanceName:_0x3bdac2},_0x3bfcf5){const _0x27f99c=a0_0x5708fb;return await this['waMonitor']['waInstances'][_0x3bdac2][_0x27f99c(0x22c)](_0x3bfcf5);}async['fetchChats']({instanceName:_0x3de94f}){const _0x3ea452=a0_0x5708fb;return await this['waMonitor']['waInstances'][_0x3de94f][_0x3ea452(0x374)]();}async[a0_0x5708fb(0x3b9)]({instanceName:_0x4038da}){const _0x333f46=a0_0x5708fb;return await this[_0x333f46(0x2ab)][_0x333f46(0x5b2)][_0x4038da][_0x333f46(0x3b9)]();}async[a0_0x5708fb(0x672)]({instanceName:_0x55eb28},_0x473eea){const _0x560bb6=a0_0x5708fb;return await this[_0x560bb6(0x2ab)][_0x560bb6(0x5b2)][_0x55eb28][_0x560bb6(0x672)](_0x473eea);}async[a0_0x5708fb(0x367)]({instanceName:_0x257f67},_0x145bbc){const _0x598bd3=a0_0x5708fb;return await this['waMonitor'][_0x598bd3(0x5b2)][_0x257f67]['fetchBusinessProfile'](_0x145bbc['number']);}async[a0_0x5708fb(0x544)]({instanceName:_0x2c835f},_0x567faa){const _0x518108=a0_0x5708fb;return await this['waMonitor'][_0x518108(0x5b2)][_0x2c835f][_0x518108(0x544)](_0x567faa[_0x518108(0x3a8)]);}async[a0_0x5708fb(0x275)]({instanceName:_0x2be483},_0x4a8426){const _0x37bd9e=a0_0x5708fb;return await this[_0x37bd9e(0x2ab)][_0x37bd9e(0x5b2)][_0x2be483][_0x37bd9e(0x275)](_0x4a8426[_0x37bd9e(0x284)]);}async[a0_0x5708fb(0x47d)]({instanceName:_0x3d743b},_0x20708a){const _0x3f6759=a0_0x5708fb;return await this[_0x3f6759(0x2ab)][_0x3f6759(0x5b2)][_0x3d743b]['updateProfilePicture'](_0x20708a['picture']);}async['removeProfilePicture']({instanceName:_0x201d55},_0x2ae755){const _0x1b5f53=a0_0x5708fb;return await this[_0x1b5f53(0x2ab)][_0x1b5f53(0x5b2)][_0x201d55][_0x1b5f53(0x42f)]();}},hs=require(a0_0x5708fb(0x56c)),$t=class c{constructor(_0x389a55,_0x45d979,_0x32d76c,_0x4d2b39,_0x4f2aac){const _0x4f2d3f=a0_0x5708fb;this['waMonitor']=_0x389a55,this[_0x4f2d3f(0x33c)]=_0x45d979,this[_0x4f2d3f(0x3ed)]=_0x32d76c,this[_0x4f2d3f(0x709)]=_0x4d2b39,this['authService']=_0x4f2aac,this['logger']=new N(c[_0x4f2d3f(0x3a8)]);}async['createInstance']({instanceName:_0x55fe69,apikey:_0x2100c5}){const _0x16d460=a0_0x5708fb;let _0x583f49=new ye(this[_0x16d460(0x33c)],this[_0x16d460(0x709)],this[_0x16d460(0x3ed)]);_0x583f49['instanceName']=_0x55fe69,this['waMonitor']['waInstances'][_0x583f49[_0x16d460(0x4f0)]]=_0x583f49,this[_0x16d460(0x2ab)][_0x16d460(0x610)](_0x583f49[_0x16d460(0x4f0)]);let _0x3c09cd={};_0x2100c5?(await this[_0x16d460(0x3ed)]['auth'][_0x16d460(0x770)]({'apikey':_0x2100c5},_0x55fe69),_0x3c09cd[_0x16d460(0x1b6)]=_0x2100c5):_0x3c09cd=await this[_0x16d460(0x278)][_0x16d460(0x30f)]({'instanceName':_0x583f49[_0x16d460(0x4f0)]});let _0x7d77cc;return await _0x583f49['connectToWhatsapp'](),await(0x0,hs[_0x16d460(0x2e0)])(0x7d0),_0x7d77cc=_0x583f49[_0x16d460(0x656)],{'instance':{'instanceName':_0x583f49[_0x16d460(0x4f0)],'status':_0x16d460(0x376)},'hash':_0x3c09cd,'qrcode':_0x7d77cc};}async['connectToWhatsapp']({instanceName:_0x27eecb}){const _0x180b33=a0_0x5708fb;try{let _0x562f15=this['waMonitor'][_0x180b33(0x5b2)][_0x27eecb];switch(_0x562f15[_0x180b33(0x540)]?.['state']){case _0x180b33(0x222):return await _0x562f15['connectToWhatsapp'](),await(0x0,hs[_0x180b33(0x2e0)])(0x7d0),_0x562f15[_0x180b33(0x656)];case _0x180b33(0x6c1):return _0x562f15[_0x180b33(0x656)];default:return await this[_0x180b33(0x663)]({'instanceName':_0x27eecb});}}catch(_0x5f0dd8){this['logger']['log'](_0x5f0dd8);}}async['connectionState']({instanceName:_0x313c4e}){const _0x5618e0=a0_0x5708fb;let _0x32ab7d=this[_0x5618e0(0x2ab)][_0x5618e0(0x5b2)][_0x313c4e][_0x5618e0(0x540)],_0x1828f9=null;_0x32ab7d['state']===_0x5618e0(0x36f)&&_0x313c4e&&(_0x1828f9=await this['waMonitor']['instanceInfo'](_0x313c4e));let _0x448095=null;return _0x32ab7d[_0x5618e0(0x2f7)]===_0x5618e0(0x6c1)&&_0x313c4e&&(_0x448095=this[_0x5618e0(0x2ab)]['waInstances'][_0x313c4e][_0x5618e0(0x656)]),{'instance':_0x313c4e,'connectionStatus':_0x32ab7d,'instanceInfo':_0x1828f9,'qrcode':_0x448095};}async[a0_0x5708fb(0x48e)]({instanceName:_0x3e4a51}){const _0x3c3350=a0_0x5708fb;try{return this['waMonitor'][_0x3c3350(0x5b2)][_0x3e4a51]?.[_0x3c3350(0x698)]?.['ws']?.[_0x3c3350(0x222)](),{'status':_0x3c3350(0x4bf),'error':!0x1,'response':{'message':_0x3c3350(0x3c3)}};}catch(_0x37403f){this[_0x3c3350(0x45b)][_0x3c3350(0x4aa)](_0x37403f);}}async['fetchInstances']({instanceName:_0x57682b}){const _0x5eeb51=a0_0x5708fb;return _0x57682b?this['waMonitor']['instanceInfo'](_0x57682b):this[_0x5eeb51(0x2ab)][_0x5eeb51(0x351)]();}async[a0_0x5708fb(0x6cf)]({instanceName:_0x3d881d}){const _0x492668=a0_0x5708fb;try{return await this[_0x492668(0x2ab)][_0x492668(0x5b2)][_0x3d881d]?.[_0x492668(0x698)]?.[_0x492668(0x6cf)](_0x492668(0x53b)+_0x3d881d),{'error':!0x1,'message':_0x492668(0x6dc)};}catch(_0x5880c0){throw new A(_0x5880c0[_0x492668(0x3f5)]());}}async['deleteInstance']({instanceName:_0x3b4787}){const _0x39b509=a0_0x5708fb;if((await this['connectionState']({'instanceName':_0x3b4787}))[_0x39b509(0x540)]['state']===_0x39b509(0x36f))throw new g([_0x39b509(0x6a1),_0x39b509(0x290)]);try{return delete this[_0x39b509(0x2ab)]['waInstances'][_0x3b4787],{'error':!0x1,'message':_0x39b509(0x690)};}catch(_0x505975){throw new g(_0x505975['toString']());}}async[a0_0x5708fb(0x359)](_0x9458cb,_0x11295d){const _0x14efdd=a0_0x5708fb;return await this[_0x14efdd(0x278)][_0x14efdd(0x359)](_0x11295d);}},se=require(a0_0x5708fb(0x34f)),kt=class{constructor(_0x23f055){const _0x1d94fd=a0_0x5708fb;this[_0x1d94fd(0x2ab)]=_0x23f055;}async[a0_0x5708fb(0x564)]({instanceName:_0x2b833b},_0x1e6722){const _0x320239=a0_0x5708fb;return await this[_0x320239(0x2ab)][_0x320239(0x5b2)][_0x2b833b][_0x320239(0x1ed)](_0x1e6722);}async[a0_0x5708fb(0x54a)]({instanceName:_0xb7c2e},_0x546825){const _0x39f4c2=a0_0x5708fb;if((0x0,se['isBase64'])(_0x546825?.[_0x39f4c2(0x194)]?.[_0x39f4c2(0x223)])&&!_0x546825?.[_0x39f4c2(0x194)]?.['fileName'])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,se[_0x39f4c2(0x3ce)])(_0x546825?.[_0x39f4c2(0x194)]?.[_0x39f4c2(0x223)])||(0x0,se['isBase64'])(_0x546825?.[_0x39f4c2(0x194)]?.[_0x39f4c2(0x223)]))return await this[_0x39f4c2(0x2ab)][_0x39f4c2(0x5b2)][_0xb7c2e][_0x39f4c2(0x194)](_0x546825);throw new g(_0x39f4c2(0x3fd));}async['sendSticker']({instanceName:_0x67fbc2},_0x2ed58d){const _0x6605d3=a0_0x5708fb;if((0x0,se[_0x6605d3(0x3ce)])(_0x2ed58d[_0x6605d3(0x282)][_0x6605d3(0x28b)])||(0x0,se['isBase64'])(_0x2ed58d[_0x6605d3(0x282)][_0x6605d3(0x28b)]))return await this[_0x6605d3(0x2ab)]['waInstances'][_0x67fbc2][_0x6605d3(0x6eb)](_0x2ed58d);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5708fb(0x40e)]({instanceName:_0x4e07da},_0x4b946e){const _0x1006f3=a0_0x5708fb;if((0x0,se[_0x1006f3(0x3ce)])(_0x4b946e[_0x1006f3(0x42c)][_0x1006f3(0x3f1)])||(0x0,se[_0x1006f3(0x365)])(_0x4b946e[_0x1006f3(0x42c)]['audio']))return await this[_0x1006f3(0x2ab)]['waInstances'][_0x4e07da]['audioWhatsapp'](_0x4b946e);throw new g(_0x1006f3(0x3fd));}async[a0_0x5708fb(0x41e)]({instanceName:_0x42bb91},_0x7c900d){const _0x51d77c=a0_0x5708fb;if((0x0,se[_0x51d77c(0x365)])(_0x7c900d[_0x51d77c(0x516)]['mediaMessage']?.[_0x51d77c(0x223)])&&!_0x7c900d[_0x51d77c(0x516)][_0x51d77c(0x194)]?.['fileName'])throw new g(_0x51d77c(0x5c7));return await this['waMonitor'][_0x51d77c(0x5b2)][_0x42bb91][_0x51d77c(0x516)](_0x7c900d);}async['sendLocation']({instanceName:_0x581e8b},_0x3cce13){const _0x432256=a0_0x5708fb;return await this[_0x432256(0x2ab)][_0x432256(0x5b2)][_0x581e8b][_0x432256(0x60b)](_0x3cce13);}async['sendPoll']({instanceName:_0x526e08},_0x123380){const _0x2f4501=a0_0x5708fb;return await this[_0x2f4501(0x2ab)][_0x2f4501(0x5b2)][_0x526e08][_0x2f4501(0x369)](_0x123380);}async[a0_0x5708fb(0x6d7)]({instanceName:_0x1d15cd},_0x59a372){const _0x50aac7=a0_0x5708fb;return await this[_0x50aac7(0x2ab)]['waInstances'][_0x1d15cd][_0x50aac7(0x240)](_0x59a372);}async[a0_0x5708fb(0x2d0)]({instanceName:_0x27d73c},_0x5f5bcb){const _0x4bc9ec=a0_0x5708fb;return await this[_0x4bc9ec(0x2ab)]['waInstances'][_0x27d73c][_0x4bc9ec(0x1bd)](_0x5f5bcb);}async[a0_0x5708fb(0x1bc)]({instanceName:_0x595afc},_0x5a6841){const _0xbc9f2b=a0_0x5708fb;if(!_0x5a6841[_0xbc9f2b(0x257)]['reaction'][_0xbc9f2b(0x356)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0xbc9f2b(0x52e));return await this[_0xbc9f2b(0x2ab)][_0xbc9f2b(0x5b2)][_0x595afc][_0xbc9f2b(0x257)](_0x5a6841);}async[a0_0x5708fb(0x4c3)]({instanceName:_0x4cce85},_0x35ff7f){const _0x3874a7=a0_0x5708fb;return await this['waMonitor'][_0x3874a7(0x5b2)][_0x4cce85]['statusMessage'](_0x35ff7f);}},Lt=class{constructor(_0x5286d2){this['waMonitor']=_0x5286d2;}async[a0_0x5708fb(0x73a)](_0x1e3f28,_0x58b706){const _0x47eed8=a0_0x5708fb;return await this['waMonitor'][_0x47eed8(0x5b2)][_0x1e3f28['instanceName']][_0x47eed8(0x73a)](_0x58b706);}async[a0_0x5708fb(0x503)](_0x5940dc,_0x4ac41c){const _0x2e7f4f=a0_0x5708fb;return await this[_0x2e7f4f(0x2ab)][_0x2e7f4f(0x5b2)][_0x5940dc[_0x2e7f4f(0x4f0)]]['updateGroupPicture'](_0x4ac41c);}async['groupDesc'](_0xb33434,_0x12816a){const _0x4ae471=a0_0x5708fb;return await this[_0x4ae471(0x2ab)][_0x4ae471(0x5b2)][_0xb33434[_0x4ae471(0x4f0)]]['groupDesc'](_0x12816a);}async[a0_0x5708fb(0x5db)](_0x35f04d,_0x392204){const _0x5f3858=a0_0x5708fb;return await this[_0x5f3858(0x2ab)][_0x5f3858(0x5b2)][_0x35f04d[_0x5f3858(0x4f0)]][_0x5f3858(0x5db)](_0x392204);}async[a0_0x5708fb(0x1e9)](_0x5cac9c,_0xaaa459){const _0x15a130=a0_0x5708fb;return await this[_0x15a130(0x2ab)][_0x15a130(0x5b2)][_0x5cac9c[_0x15a130(0x4f0)]][_0x15a130(0x1e9)](_0xaaa459);}async[a0_0x5708fb(0x6e7)](_0x3c8648,_0x41debd){const _0x3ff4f6=a0_0x5708fb;return await this[_0x3ff4f6(0x2ab)][_0x3ff4f6(0x5b2)][_0x3c8648[_0x3ff4f6(0x4f0)]][_0x3ff4f6(0x255)](_0x41debd);}async[a0_0x5708fb(0x674)](_0x528d71){const _0x1278c7=a0_0x5708fb;return await this[_0x1278c7(0x2ab)][_0x1278c7(0x5b2)][_0x528d71[_0x1278c7(0x4f0)]][_0x1278c7(0x674)]();}async[a0_0x5708fb(0x723)](_0x2c6525,_0x24c921){const _0x497995=a0_0x5708fb;return await this[_0x497995(0x2ab)][_0x497995(0x5b2)][_0x2c6525[_0x497995(0x4f0)]][_0x497995(0x723)](_0x24c921);}async[a0_0x5708fb(0x3e1)](_0x425e2c,_0x171d1b){const _0x3b5bae=a0_0x5708fb;return await this[_0x3b5bae(0x2ab)]['waInstances'][_0x425e2c[_0x3b5bae(0x4f0)]][_0x3b5bae(0x3e1)](_0x171d1b);}async['revokeInviteCode'](_0x28b887,_0x20cde4){const _0x49c683=a0_0x5708fb;return await this[_0x49c683(0x2ab)]['waInstances'][_0x28b887['instanceName']]['revokeInviteCode'](_0x20cde4);}async['findParticipants'](_0x368289,_0x311145){const _0x4bd65c=a0_0x5708fb;return await this[_0x4bd65c(0x2ab)][_0x4bd65c(0x5b2)][_0x368289[_0x4bd65c(0x4f0)]][_0x4bd65c(0x5de)](_0x311145);}async['updateGParticipate'](_0x47d1f3,_0x60bad9){const _0x45d0e5=a0_0x5708fb;return await this[_0x45d0e5(0x2ab)][_0x45d0e5(0x5b2)][_0x47d1f3['instanceName']][_0x45d0e5(0x6ee)](_0x60bad9);}async[a0_0x5708fb(0x6a4)](_0x5c82f9,_0x3da3ed){const _0x1bef52=a0_0x5708fb;return await this[_0x1bef52(0x2ab)][_0x1bef52(0x5b2)][_0x5c82f9[_0x1bef52(0x4f0)]][_0x1bef52(0x6a4)](_0x3da3ed);}async['leaveGroup'](_0x476ab0,_0xb8fa5f){const _0x1c1c28=a0_0x5708fb;return await this[_0x1c1c28(0x2ab)]['waInstances'][_0x476ab0[_0x1c1c28(0x4f0)]][_0x1c1c28(0x5a1)](_0xb8fa5f);}},Ut=class{constructor(_0x3b0456,_0x191d9e){const _0x1cddfb=a0_0x5708fb;this[_0x1cddfb(0x554)]=_0x3b0456,this[_0x1cddfb(0x33c)]=_0x191d9e;}async['qrcode'](_0x4abc06,_0x6e3da){const _0x505804=a0_0x5708fb;try{let _0xa4d428=_0x4abc06[_0x505804(0x333)];if(this['waMonit'][_0x505804(0x5b2)][_0xa4d428['instanceName']]['connectionStatus'][_0x505804(0x2f7)]==='open')throw new g(_0x505804(0x2bc));let _0x4d0ed8=this['configService']['get'](_0x505804(0x264))[_0x505804(0x5ce)];return _0x6e3da[_0x505804(0x284)](0xc8)[_0x505804(0x5b3)](_0x505804(0x304),{'type':_0x4d0ed8,..._0xa4d428});}catch(_0x27991c){console[_0x505804(0x525)]('ERROR:\x20',_0x27991c);}}},Vt=class{constructor(_0x52904f){const _0x34bf64=a0_0x5708fb;this[_0x34bf64(0x2ab)]=_0x52904f;}['create'](_0x24f33d,_0x361321){const _0x47b166=a0_0x5708fb;return this['waMonitor']['waInstances'][_0x24f33d[_0x47b166(0x4f0)]][_0x47b166(0x530)](_0x361321);}async[a0_0x5708fb(0x2ff)](_0x1cfb3d){const _0x5233f9=a0_0x5708fb;try{return await this[_0x5233f9(0x2ab)][_0x5233f9(0x5b2)][_0x1cfb3d[_0x5233f9(0x4f0)]][_0x5233f9(0x543)]();}catch{return{'enabled':null,'url':''};}}},id=new N('FlowController'),jt=class{constructor(_0x6839ac){const _0x3d87d6=a0_0x5708fb;this[_0x3d87d6(0x2ab)]=_0x6839ac;}async[a0_0x5708fb(0x23c)](_0x561bae,_0x45a35b){const _0x1c3b9d=a0_0x5708fb;return await this[_0x1c3b9d(0x2ab)]['waInstances'][_0x561bae[_0x1c3b9d(0x4f0)]][_0x1c3b9d(0x23c)](_0x45a35b);}async[a0_0x5708fb(0x5cc)](_0x1f52a0){const _0x1f2756=a0_0x5708fb;return await this[_0x1f2756(0x2ab)][_0x1f2756(0x5b2)][_0x1f52a0[_0x1f2756(0x4f0)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x1276dc){const _0x3f8da3=a0_0x5708fb;return await this[_0x3f8da3(0x2ab)][_0x3f8da3(0x5b2)][_0x1276dc[_0x3f8da3(0x4f0)]][_0x3f8da3(0x4ee)]();}async[a0_0x5708fb(0x6ef)](_0x26e517){const _0x390fde=a0_0x5708fb;return await this[_0x390fde(0x2ab)][_0x390fde(0x5b2)][_0x26e517['instanceName']][_0x390fde(0x6ef)]();}async['updateAgent'](_0x453807,_0x218fc3){const _0x586537=a0_0x5708fb;return await this[_0x586537(0x2ab)][_0x586537(0x5b2)][_0x453807[_0x586537(0x4f0)]][_0x586537(0x288)](_0x218fc3);}async['updateCustomFields'](_0x5e3d73,_0x3531bf){const _0xb9dc24=a0_0x5708fb;return await this[_0xb9dc24(0x2ab)][_0xb9dc24(0x5b2)][_0x5e3d73[_0xb9dc24(0x4f0)]][_0xb9dc24(0x469)](_0x3531bf);}async['updateFlowConfig'](_0x43ba24,_0x2814a5){const _0x15c46c=a0_0x5708fb;return await this[_0x15c46c(0x2ab)][_0x15c46c(0x5b2)][_0x43ba24['instanceName']]['updateFlowConfig'](_0x2814a5);}async[a0_0x5708fb(0x32c)](_0xb0860b,_0x3f4db3){const _0x4fb45e=a0_0x5708fb;return await this[_0x4fb45e(0x2ab)]['waInstances'][_0xb0860b['instanceName']]['startFlow'](_0x3f4db3);}async[a0_0x5708fb(0x621)](_0x26d335,_0x574c3d){const _0x1f1d0d=a0_0x5708fb;return await this['waMonitor'][_0x1f1d0d(0x5b2)][_0x26d335[_0x1f1d0d(0x4f0)]][_0x1f1d0d(0x621)](_0x574c3d);}async[a0_0x5708fb(0x594)](_0x5b3b50,_0x56dac6){const _0x51cad1=a0_0x5708fb;return await this[_0x51cad1(0x2ab)][_0x51cad1(0x5b2)][_0x5b3b50[_0x51cad1(0x4f0)]]['fetchConversation'](_0x56dac6);}async[a0_0x5708fb(0x5c6)](_0x1e4946,_0x28e644){const _0xd11547=a0_0x5708fb;return await this['waMonitor']['waInstances'][_0x1e4946[_0xd11547(0x4f0)]][_0xd11547(0x5c6)](_0x28e644);}async[a0_0x5708fb(0x484)](_0x56717f,_0x5065b0){const _0xd4329f=a0_0x5708fb;return await this[_0xd4329f(0x2ab)][_0xd4329f(0x5b2)][_0x56717f[_0xd4329f(0x4f0)]]['deleteConversation'](_0x5065b0);}async[a0_0x5708fb(0x40f)](_0x482536,_0x4cb5ae){const _0x2a65b0=a0_0x5708fb;return await this[_0x2a65b0(0x2ab)][_0x2a65b0(0x5b2)][_0x482536['instanceName']]['getFlow'](_0x4cb5ae['name']);}async[a0_0x5708fb(0x28c)](_0x5646d8,_0x39a93f){const _0x5cea1f=a0_0x5708fb;return await this[_0x5cea1f(0x2ab)][_0x5cea1f(0x5b2)][_0x5646d8[_0x5cea1f(0x4f0)]]['createFlow'](_0x39a93f);}async[a0_0x5708fb(0x74a)](_0x4f3d10,_0x505cf2){const _0x126b61=a0_0x5708fb;return await this[_0x126b61(0x2ab)][_0x126b61(0x5b2)][_0x4f3d10['instanceName']][_0x126b61(0x74a)](_0x505cf2);}async[a0_0x5708fb(0x2b3)](_0x26de60,_0x16a80c){const _0x2c4e9d=a0_0x5708fb;return await this[_0x2c4e9d(0x2ab)][_0x2c4e9d(0x5b2)][_0x26de60[_0x2c4e9d(0x4f0)]][_0x2c4e9d(0x2b3)](_0x16a80c);}async['editFlowReply'](_0x5b7e28,_0x13819d){const _0x41716f=a0_0x5708fb;return await this['waMonitor'][_0x41716f(0x5b2)][_0x5b7e28[_0x41716f(0x4f0)]]['editFlowReply'](_0x13819d);}async[a0_0x5708fb(0x254)](_0x5f4880,_0x1a4117){const _0x3c6e8b=a0_0x5708fb;return await this['waMonitor'][_0x3c6e8b(0x5b2)][_0x5f4880[_0x3c6e8b(0x4f0)]][_0x3c6e8b(0x254)](_0x1a4117);}async['editFlowCondition'](_0x22d968,_0x2271d0){const _0x338d6b=a0_0x5708fb;return await this[_0x338d6b(0x2ab)][_0x338d6b(0x5b2)][_0x22d968['instanceName']][_0x338d6b(0x25b)](_0x2271d0);}async[a0_0x5708fb(0x54e)](_0x24fe0a,_0x53eac6){const _0xab17a4=a0_0x5708fb;return await this['waMonitor'][_0xab17a4(0x5b2)][_0x24fe0a[_0xab17a4(0x4f0)]][_0xab17a4(0x54e)](_0x53eac6);}async[a0_0x5708fb(0x43d)](_0x158fd2,_0x24244a){const _0x43dcdf=a0_0x5708fb;return await this['waMonitor'][_0x43dcdf(0x5b2)][_0x158fd2[_0x43dcdf(0x4f0)]][_0x43dcdf(0x43d)](_0x24244a);}async[a0_0x5708fb(0x5c2)](_0x1e62b1,_0x28702b){const _0x58099e=a0_0x5708fb;return await this[_0x58099e(0x2ab)][_0x58099e(0x5b2)][_0x1e62b1[_0x58099e(0x4f0)]]['deleteFlow'](_0x28702b[_0x58099e(0x3a8)]);}async[a0_0x5708fb(0x221)](_0xebbf5){const _0x5219e7=a0_0x5708fb;return await this['waMonitor'][_0x5219e7(0x5b2)][_0xebbf5[_0x5219e7(0x4f0)]]['allFlows']();}},Ft=class{constructor(_0x739161){this['webhookService']=_0x739161;}async[a0_0x5708fb(0x768)](_0x2b97a8,_0x24e0bf){const _0x478601=a0_0x5708fb;return this['webhookService'][_0x478601(0x770)](_0x2b97a8,_0x24e0bf);}async[a0_0x5708fb(0x543)](_0x4e754f){const _0x18abf5=a0_0x5708fb;return this[_0x18abf5(0x5bc)][_0x18abf5(0x2ff)](_0x4e754f);}},Bt=class{constructor(_0x2aeaa1,_0x308d11,_0x3dc23c,_0x90c23c,_0x4efaf8,_0x6e1c14){const _0x2b9511=a0_0x5708fb;this[_0x2b9511(0x460)]=_0x2aeaa1,this[_0x2b9511(0x2e9)]=_0x308d11,this[_0x2b9511(0x29e)]=_0x3dc23c,this['webhook']=_0x90c23c,this['auth']=_0x4efaf8,this[_0x2b9511(0x28d)]=_0x6e1c14;}get[a0_0x5708fb(0x209)](){const _0x4f944e=a0_0x5708fb;return this[_0x4f944e(0x28d)];}},fs=require(a0_0x5708fb(0x27d)),ao=require('fs'),qt=class extends W{constructor(_0x2afa58,_0x5f18f2){const _0x57dc0c=a0_0x5708fb;super(_0x5f18f2),this[_0x57dc0c(0x2de)]=_0x2afa58,this[_0x57dc0c(0x33c)]=_0x5f18f2;}async['create'](_0x58047a,_0x10d396){const _0x131940=a0_0x5708fb;try{return this[_0x131940(0x468)]['ENABLED']?{'insertCount':(await this[_0x131940(0x2de)][_0x131940(0x4bd)]({'_id':_0x10d396},{..._0x58047a},{'upsert':!0x0}))[_0x131940(0x5d4)]}:(this[_0x131940(0x763)]({'path':(0x0,fs[_0x131940(0x532)])(this[_0x131940(0x250)],_0x131940(0x3d7)),'fileName':_0x10d396,'data':_0x58047a}),{'insertCount':0x1});}catch(_0x2815d0){return _0x2815d0;}}async['find'](_0x957c1){const _0x1343a9=a0_0x5708fb;try{return this['dbSettings'][_0x1343a9(0x3e7)]?await this[_0x1343a9(0x2de)][_0x1343a9(0x5fc)]({'_id':_0x957c1}):JSON[_0x1343a9(0x233)]((0x0,ao[_0x1343a9(0x2a8)])((0x0,fs[_0x1343a9(0x532)])(this['storePath'],_0x1343a9(0x3d7),_0x957c1+_0x1343a9(0x757)),{'encoding':_0x1343a9(0x733)}));}catch{return{};}}},ws=require('path'),oo=require('fs'),Jt=class extends W{constructor(_0x29aa29,_0x23c435){const _0x5107dc=a0_0x5708fb;super(_0x23c435),this[_0x5107dc(0x73b)]=_0x29aa29,this[_0x5107dc(0x33c)]=_0x23c435,this[_0x5107dc(0x4e1)]=_0x23c435[_0x5107dc(0x1cd)](_0x5107dc(0x264));}async[a0_0x5708fb(0x770)](_0x150d11,_0x50ca24){const _0x58b4d0=a0_0x5708fb;try{return this[_0x58b4d0(0x468)][_0x58b4d0(0x3e7)]?{'insertCount':(await this[_0x58b4d0(0x73b)][_0x58b4d0(0x4bd)]({'_id':_0x50ca24},{..._0x150d11},{'upsert':!0x0}))[_0x58b4d0(0x5d4)]}:(this[_0x58b4d0(0x763)]({'path':(0x0,ws['join'])(Gt,this[_0x58b4d0(0x4e1)][_0x58b4d0(0x5ce)]),'fileName':_0x50ca24,'data':_0x150d11}),{'insertCount':0x1});}catch(_0x36a029){return{'error':_0x36a029};}}async['find'](_0x5acdf2){const _0x351f1c=a0_0x5708fb;try{return this['dbSettings'][_0x351f1c(0x3e7)]?await this['authModel'][_0x351f1c(0x5fc)]({'_id':_0x5acdf2}):JSON[_0x351f1c(0x233)]((0x0,oo[_0x351f1c(0x2a8)])((0x0,ws[_0x351f1c(0x532)])(Gt,this[_0x351f1c(0x4e1)][_0x351f1c(0x5ce)],_0x5acdf2+_0x351f1c(0x757)),{'encoding':_0x351f1c(0x733)}));}catch{return{};}}},zo=new N(a0_0x5708fb(0x547)),Qo=new $e(S),Yo=new Pt(S),Xo=new He(S),Zo=new qt(qs,S),ei=new Jt(js,S),le=new Bt(Qo,Yo,Xo,Zo,ei,M?.[a0_0x5708fb(0x292)]()),F=new _t(zt,S,le),ti=new rt(S,F,le),si=new Vt(F),us=new Ft(si),R=new jt(F),re=new $t(F,S,le,zt,ti),qa=new Ut(F,S),K=new kt(F),O=new xt(F),U=new Lt(F);zo[a0_0x5708fb(0x190)](a0_0x5708fb(0x497));var ep=require(a0_0x5708fb(0x33a)),ys=require('fs'),io=T(require('https')),ro=T(require(a0_0x5708fb(0x294))),Re=class c{static #e;static set['app'](_0x28d09c){this.#e=_0x28d09c;}static get['https'](){const _0x3eeb4f=a0_0x5708fb;let {FULLCHAIN:_0x4227af,PRIVKEY:_0x131c06}=S[_0x3eeb4f(0x1cd)]('SSL_CONF');return io[_0x3eeb4f(0x585)]({'cert':(0x0,ys[_0x3eeb4f(0x2a8)])(_0x4227af),'key':(0x0,ys[_0x3eeb4f(0x2a8)])(_0x131c06)},c.#e);}static get[a0_0x5708fb(0x294)](){return ro['createServer'](c.#e);}},pe=T(require('fs')),go=T(require(a0_0x5708fb(0x633))),Me=T(require('axios')),Ie=T(require(a0_0x5708fb(0x27d))),De=require(a0_0x5708fb(0x295));function ai(){const _0xfab794=a0_0x5708fb;F[_0xfab794(0x655)]();let _0x34a894=Ie[_0xfab794(0x19f)][_0xfab794(0x532)](__dirname,_0xfab794(0x249));po(_0x34a894);}var po=_0x4341f5=>{const _0x1b873e=a0_0x5708fb;let _0x59c55c=pe['default']['readdirSync'](_0x4341f5),_0x1f0ecd=0xc*0x3c*0x3c*0x3e8,_0xa32e04=0x2*0x3c*0x3c*0x3e8,_0xe243e=new Date()[_0x1b873e(0x425)]();_0x59c55c[_0x1b873e(0x31e)](_0x152b4b=>{const _0x38fdd1=_0x1b873e;let _0x160f3a=Ie[_0x38fdd1(0x19f)][_0x38fdd1(0x532)](_0x4341f5,_0x152b4b),_0x9008bb=pe[_0x38fdd1(0x19f)][_0x38fdd1(0x5b4)](_0x160f3a)[_0x38fdd1(0x536)]['getTime']();_0xe243e-_0x9008bb>_0x1f0ecd&&(pe[_0x38fdd1(0x19f)][_0x38fdd1(0x2a9)](_0x160f3a),console[_0x38fdd1(0x525)](_0x38fdd1(0x54f)+_0x152b4b));}),setTimeout(()=>po(_0x4341f5),_0xa32e04);};function oi(){const _0x2e5458=a0_0x5708fb;let _0x53adbd=new N('SERVER'),_0x450e7c=(0x0,ge[_0x2e5458(0x19f)])();_0x450e7c[_0x2e5458(0x253)]((0x0,uo[_0x2e5458(0x19f)])({'origin'(_0x552ea4,_0xb4115e){const _0x19cedc=_0x2e5458;let {ORIGIN:_0x5a3ef3}=S['get'](_0x19cedc(0x39d));return _0x552ea4||(_0x552ea4='*'),_0x5a3ef3[_0x19cedc(0x1b2)]('*')!==-0x1||_0x5a3ef3['indexOf'](_0x552ea4)!==-0x1?_0xb4115e(null,!0x0):_0xb4115e(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x2e5458(0x1cd)](_0x2e5458(0x39d))['METHODS']],'credentials':S['get'](_0x2e5458(0x39d))[_0x2e5458(0x2fb)]}),(0x0,ge[_0x2e5458(0x589)])({'extended':!0x0,'limit':_0x2e5458(0x49f)}),(0x0,ge['json'])({'limit':_0x2e5458(0x49f)})),_0x450e7c[_0x2e5458(0x253)]((_0x230359,_0x3f8ff8,_0x217e20)=>{const _0x51af3b=_0x2e5458;_0x230359['path'][_0x51af3b(0x232)]('/events')?_0x217e20():(0x0,lo[_0x51af3b(0x19f)])()(_0x230359,_0x3f8ff8,_0x217e20);}),_0x450e7c['set'](_0x2e5458(0x576),_0x2e5458(0x676)),_0x450e7c['set'](_0x2e5458(0x3bc),(0x0,Ss[_0x2e5458(0x532)])(Q,_0x2e5458(0x3bc))),_0x450e7c[_0x2e5458(0x253)](ge[_0x2e5458(0x19f)][_0x2e5458(0x539)]((0x0,Ss[_0x2e5458(0x532)])(Q,_0x2e5458(0x5af)))),_0x450e7c[_0x2e5458(0x253)]((_0x5c0463,_0x47971a,_0x5ce55d)=>{const _0x428b35=_0x2e5458;let _0x1c5f05=_0x47971a[_0x428b35(0x25a)];_0x47971a[_0x428b35(0x25a)]=function(_0x522c73){const _0xf4f9e3=_0x428b35;if(_0x5c0463[_0xf4f9e3(0x212)][_0xf4f9e3(0x2fe)]===_0xf4f9e3(0x590)||_0x5c0463['headers'][_0xf4f9e3(0x5e2)]===_0xf4f9e3(0x590)){let _0x3903d5=JSON[_0xf4f9e3(0x233)](_0x522c73);_0x522c73=JSON[_0xf4f9e3(0x726)](_0x14c903(_0x3903d5));}return _0x1c5f05['apply'](_0x47971a,[_0x522c73]);},_0x5ce55d();}),_0x450e7c[_0x2e5458(0x253)]('/',Ct),_0x450e7c[_0x2e5458(0x253)]((_0xa79d5a,_0x28a493,_0x510216,_0x18911f)=>{const _0x22e1aa=_0x2e5458;if(_0xa79d5a)return _0x510216[_0x22e1aa(0x284)](_0xa79d5a[_0x22e1aa(0x284)]||0x1f4)[_0x22e1aa(0x243)](_0xa79d5a);},(_0x2a6ef6,_0x43233f,_0x4993e0)=>{const _0xfd3558=_0x2e5458;let {method:_0x588bc1,url:_0x493969}=_0x2a6ef6;_0x43233f[_0xfd3558(0x284)](0x194)['json']({'status':0x194,'message':_0xfd3558(0x69c)+_0x588bc1['toUpperCase']()+'\x20'+_0x493969,'error':_0xfd3558(0x271)}),_0x4993e0();});let _0x14c903=(_0x25a851,_0x10ee84='_p_')=>{const _0x80999=_0x2e5458;let _0x181d22=(_0x1b1bc2,_0x14b7a3=null,_0x23e911=!0x1)=>{const _0x497d95=a0_0x3a58;let _0x485fe3={};return Object[_0x497d95(0x27b)](_0x1b1bc2)[_0x497d95(0x31e)](_0x47e193=>{const _0x493186=_0x497d95;let _0x4452cb=_0x1b1bc2[_0x47e193],_0x2d0a46=''+_0x10ee84+_0x47e193;_0x14b7a3&&!_0x23e911&&(_0x2d0a46=_0x14b7a3+'.'+_0x47e193),!_0x4452cb&&_0x4452cb!==0x0&&_0x4452cb!==!0x1||typeof _0x4452cb>'u'?_0x485fe3[_0x2d0a46]=null:typeof _0x4452cb!='object'&&!Array[_0x493186(0x62b)](_0x4452cb)?_0x485fe3[_0x2d0a46]=_0x4452cb:typeof _0x4452cb==_0x493186(0x279)&&!Array[_0x493186(0x62b)](_0x4452cb)?_0x485fe3=Object[_0x493186(0x73f)](_0x485fe3,_0x181d22(_0x4452cb,_0x2d0a46)):Array[_0x493186(0x62b)](_0x4452cb)&&(typeof _0x4452cb[0x0]=='object'?(_0x485fe3[_0x2d0a46]=[],_0x4452cb['forEach'](_0x53e35d=>{const _0x2b7c16=_0x493186;_0x485fe3[_0x2d0a46][_0x2b7c16(0x245)](_0x181d22(_0x53e35d,_0x2d0a46,!0x0));})):_0x485fe3[_0x2d0a46]=_0x4452cb);}),_0x485fe3;};return Array['isArray'](_0x25a851)?_0x25a851['map'](_0x362b54=>_0x181d22(_0x362b54)):typeof _0x25a851==_0x80999(0x279)&&_0x25a851!==null?_0x181d22(_0x25a851):{};},_0x48c8fb=S[_0x2e5458(0x1cd)](_0x2e5458(0x1d6));Re[_0x2e5458(0x34b)]=_0x450e7c;let _0x4bf023=Re[_0x48c8fb[_0x2e5458(0x5ce)]],_0x2ffb3f=_0x2e5458(0x6be);_0x4bf023[_0x2e5458(0x27a)](_0x48c8fb[_0x2e5458(0x6fd)],()=>{const _0xf9c9b9=_0x2e5458;_0x53adbd[_0xf9c9b9(0x525)](_0x2ffb3f),_0x53adbd[_0xf9c9b9(0x525)](_0x48c8fb[_0xf9c9b9(0x5ce)]['toUpperCase']()+_0xf9c9b9(0x197)+_0x48c8fb[_0xf9c9b9(0x6fd)]);}),ai(),_s();}var ii='https://github.com/uazapi/uazapi.git',ri=Ie[a0_0x5708fb(0x19f)]['join'](__dirname,a0_0x5708fb(0x40c)),Ae=null;function ni(){return new Promise((_0x92155a,_0x1e761b)=>{const _0x38c5c6=a0_0x3a58;pe[_0x38c5c6(0x19f)][_0x38c5c6(0x1cb)](ri,_0x38c5c6(0x733),(_0x2be214,_0x142404)=>{const _0x2613c8=_0x38c5c6;if(_0x2be214){Ae=_0x2be214,_0x92155a();return;}go['default'][_0x2613c8(0x233)](_0x142404)[_0x2613c8(0x65a)][_0x2613c8(0x6b6)]===ii?(Ae=null,_0x92155a()):(Ae=new Error(_0x2613c8(0x30d)),_0x92155a());});});}async function ci(){const _0x25cc59=a0_0x5708fb;try{await ni(),await Es();}catch(_0x57e1ff){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x57e1ff),process[_0x25cc59(0x2ef)](0x1);}}function a0_0x9fdc(){const _0x261cef=['fileName','lastReceivedMessage','DEL_INSTANCE','SERVER_OFFLINE','remoteJids','leadInfo.','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','url','jpegThumbnail','participants','key','creds','Erro\x20ao\x20editar\x20o\x20chat:\x20','from','ObjectId','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','contentText','messageTimestamp','connecting','NextBlock','status.instance','presence','jwt','Image\x20created','CLEANING_INTERVAL','src','debug','\x1b[1m','express','imageMessage','CONFIG_SESSION_PHONE_CLIENT','stopped','logout','WEBHOOK_EVENTS_CONTACTS_UPDATE','jid','scheduled','\x1b[34m%s\x1b[0m','groupadd','processPollUpdateMessage','connectionUpdate','sendList','delAll','Internal\x20Server\x20Error','Erro\x20ao\x20editar\x20o\x20bloco:\x20','editedMessage','Instance\x20logged\x20out','Image\x20converted\x20to\x20WebP','--standalone','groupValidate','WEBHOOK_GLOBAL_ENABLED','Getting\x20image\x20from\x20url','and','axios','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Hash\x20to\x20audio\x20name:\x20','resetReconnectionVariables','findGroupInfo','waitingPoll_name','39088OTHvTR','done','mediaSticker','sendMessageWithTyping','\x20não\x20encontrado','updateGParticipant','getAutomateSystem','context','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Enviando\x20mídia','):\x20Procurando\x20conversa','^\x5cd+([-]\x5cd+)*@g.us$','Converted\x20audio\x20deleted','):\x20Criando\x20nova\x20conversa','Error\x20updating\x20profile\x20picture','^\x5cd+[\x5c.@\x5cw-]+','limit','deleteflow','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Invalid\x20format','PORT','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','request\x20received\x20in\x20editFlowcondition','\x1b[30m','opendirSync','redis','\x0aFN:','\x1b[37m%s\x1b[0m','subject','body','g-t','updateGroupsAddPrivacy','eventEmitter','now',',\x20fará\x20nova\x20verificação\x20em\x20','fetchContacts','response','add','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Deletando\x20mensagem','SERVER_PORT','WEBHOOK_EVENTS_NEW_JWT_TOKEN','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Getting\x20audio\x20from\x20url','DATABASE_CONNECTION_DB_PREFIX_NAME','Erro\x20ao\x20encerrar\x20a\x20API','):\x20Visualizando\x20AutomateSystem','arraybuffer','delete','lastSend','Read\x20messages\x20fail','node-mime-types','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','buttonId','load','loadEnv','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','option','inviteCode','output','processgoToFlow','stringify','redisCache','chatModify','readMessages','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','getPrototypeOf','creds.json','isJidGroup','MAX_RECONNECT_ATTEMPTS','Button\x20texts\x20cannot\x20be\x20repeated','sharp','nextBlock:','OrAnd','utf-8','stopMinutesMaxActives','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','pollCreationMessageV2','item','groups.upsert','bateu\x20events','createGroup','authModel','CHATS_DELETE','optionName','request\x20received\x20in\x20getConversation','assign','messages','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ERROR:\x20','data','DD/MM\x20HH:mm:ss','messageId','CONTACTS_UPDATE','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','floor','selectableCount','editFlow','update','396740scZSKm','):\x20delete\x20=\x20true','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Business\x20profile\x20fetched','Error\x20removing\x20profile\x20picture','getMessage','replaceVariablesLogs','temp-','messaging-history.set','cleanStore','/:instanceName','.json','Comando\x20desconhecido','bearer','certonly','saveChatVariables','readMessageBot','/group','firstValue','USER','website','CONNECTION','chatHandle','writeStore','where','remoteJidsRemaining','formatStatusMessage','@g.us','createWebhook','findByIdAndDelete','isLong',',\x20Comparador:\x20','mongodb://','sha256','AutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','create','STORE','Message','DATABASE','request\x20received\x20in\x20editFlow','buttonText','info','varedit','toNumber','fetchProfilePicture','mediaMessage','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','SEND_MESSAGE','\x20-\x20ON:\x20','-whatsapp-api','pollErrorMessage',',\x20valor\x20a\x20encontrar:\x20\x22','editflowcondition','getflow','documentMessage','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','default','setContext','leadInfo.desativadoFluxoAte','getAllData','max','):\x20newFirstValue\x20após\x20replaceVariables:','realVariables','setHeader','certbot','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','findById','WEBHOOK_EVENTS_SEND_MESSAGE','statusMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Erro\x20durante\x20a\x20atualização:\x20','padEnd','pollCreationMessageKey','CHATS_UPDATE','originalUrl','indexOf','LOG_COLOR','):\x20Deletando\x20fluxo...','#000000','apikey','EMAIL','DEBUG','80fWEhEY','@s.whatsapp.net','hostname','sendReaction','contactMessage','contains','_id','Flow\x20iniciado\x20com\x20','replaceVariablesChat','userDevicesCache','keep-alive','.jwt','Error\x20change\x20group\x20name','block','size','Image\x20path:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):\x20Mensagem\x20já\x20enviada\x20para\x20','readFile','request\x20received\x20in\x20starFlow','get','isJWT','*\x0a\x0a','/automate','TEXT','):\x20Enviando\x20áudio','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','notMatchRegex','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','SERVER','subdomain','none','groupFetchAllParticipating','https://api.ipify.org?format=json','):\x20this.processingScheduleMessageId:\x20','delaySecMax','reviver','flowConversation','API\x20Key\x20inválida.','URI','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','deleteMany','Bad\x20Request','API_KEY','WEBHOOK_EVENTS_CONTACTS_UPSERT','proto','sticker','EXPIRIN_IN','groupSetting','pollCreationMessage','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','textMessage','getMessageModelForOwner','viewOnceMessageV2','charAt','save','findAndReplaceRegex','waitingPoll_id','\x22\x20-\x20REMOVED','insertMany','removed','Audio\x20converted\x20to\x20mp4','sendPresenceUpdate','updateBlock','atendimentoAberto','chatLog','AUTHENTICATION_JWT_SECRET','checkAndRestartProcess','latitude','flowStopConversation','groupAcceptInvite','lastBlockId','findFlow','uazapiSendMedia','updateMany','):\x20leadInfoVariables','updateChatWithMessage','announce','licenca','dbServer','groupLeave','description','\x1b[1m\x1b[37m','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','SSL_CONF','CONTACTS_UPSERT','pollUpdateMessage','abs','query','/create','groupDesc','uazapiSendContact','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20Conversa\x20inserida\x20com\x20sucesso.','blockId','creds.update','redisEnv','prepareMediaMessage','Output\x20audio\x20path:\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','vote','valid','allFlows','close','media','text/event-stream','width','Error\x20updating\x20participants','unhandledRejection','\x1b[33m','toFile','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','remoteJid','fetchMessages','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','node-cache','\x1b[0m','expiration','startsWith','parse','fetchStatus','cleaningUp','pre','interval\x20não\x20é\x20um\x20número','lastMessage','AUTHENTICATION_JWT_EXPIRIN_IN','\x20-i\x20','entries','editScheduleMessage','readData','):\x20Criando\x20fluxo...','ButtonsMessage','listMessage','QRCODE_LIMIT','WEBHOOK_EVENTS_MESSAGES_SET','json','FULLCHAIN','push','DOCKER_ENV','scheduleMessages','Close\x20connection','downloads','findByIdAndUpdate','\x20minutos','chrome','webp','newName','GUARD','storePath','saveCreds','WEBHOOK_EVENTS_GROUPS_UPSERT','use','editFlowGroup','findGroup','stanzaId','reactionMessage','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','some','send','editFlowCondition','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','downloadMediaMessage','PASSWORD','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','method','generateWAMessageFromContent','3979902rEfcHK','):\x20Enviando\x20enquete','AUTHENTICATION','.refreshToken','-instances','poll_id','maxActives','nome','):\x20transformedCustomFieldVariables','array','start','collection','Type\x20not\x20found','applyvaredit','):\x20teve\x20mudanças\x20chat.name:\x20','Not\x20Found','profile','updateMessage','dataValidate','updateProfileStatus','/refreshToken','\x1b[36m%s\x1b[0m','authService','object','listen','keys','):\x20atualização\x20chat:\x20','path','conversationTimestamp','format','Erro:','_Contacts','stickerMessage','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','status','findConversation','reconnectAttempts','new.jwt','updateAgent','ids','):\x20Erro\x20ao\x20editar\x20agentes:\x20','image','createFlow','dbClient','\x20\x1b[0m','updateOne','The\x20instance\x20needs\x20to\x20be\x20disconnected','linkPreview','getClient','apiResponse','http','child_process','PENDING','tags','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','groupInviteCode','buffer','moreLogs','available','contact','Cache-Control','uazapiSendPoll','_doc','\x22\x20not\x20found','sending','TRIAL_INSTANCE_NAME','Número:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','readFileSync','unlinkSync','Error\x20while\x20deleting\x20message\x20for\x20everyone','waMonitor','defineAuthState','https://chat.whatsapp.com/','\x1b[44m','type','composing','\x20chats\x20de\x20','height','editFlowBlock','):\x20teve\x20mudanças\x20chat.archived:\x20','?timestamp=','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','flowConfig','REDIS','remove.instance','empty','processConditions','The\x20instance\x20is\x20already\x20connected','):\x20Buscando\x20flow...','replace','/wa-presence','/wa-message-update','upperCase','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','DATABASE_CONNECTION_HOST','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','restrict','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','initAuthCreds','test','values','conversation','MESSAGES_SET','795888wfauSq','contacts.upsert','text','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','sendContact','Getting\x20profile\x20info','validate','wuid','sendDataWebhook','):\x20','error\x20get\x20vote','user','group-participants.update','order','fullName','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','trimmed','):\x20lastBlockId:\x20','webhookModel','Error\x20change\x20group\x20setting','delay','):\x20Buscando\x20todos\x20os\x20fluxos...','Audio\x20is\x20url','Background\x20color\x20is\x20required','findOneAndUpdate','HeaderType','.TEL;waid=','getChatModelForOwner','NEW_JWT_TOKEN','chat','joinGroupValidate','Atualização:\x20','statusCode','fetchProfilePictureUrl','map','exit','scheduleMessage','deleteInstance','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','deleteMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','editflowvaredit','state','getContentType','sendSticker','whatsappNumbers','CREDENTIALS','pollOnReplyDelete','\x20-y','convert','find','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','DB_PREFIX_NAME','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','SECRET','qrcode','oldToken','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','chats','verify','\x20is\x20already\x20in\x20use.','):\x20conversation.waitingPollname','eventemitter2','mediatype','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','notas','generateHash','command','editflow','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20tem\x20blocks','MESSAGES_UPDATE','WEBHOOK','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','notEmpty','KEY','contacts','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','https://','):\x20Edit\x20schedule\x20message...','audio/mp4','forEach','dayjs','sendAudio','repeat','base64','SSL_CONF_FULLCHAIN','qrcode.updated','sendCommand','longitude','request\x20received\x20in\x20getFlow','groupUpdateDescription','Connection','@broadcast','contact_blacklist','startFlow','lean','saveTextReply','CHATS_UPSERT','hSet','Mensagem\x20não\x20suportada','responsavelid','params','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','processingScheduleMessageId','/instance/fetchInstances','):\x20Comando\x20desconhecido:\x20','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','allContacts','express-async-errors','\x1b[46m','configService','Full\x20file\x20path:','spawn','?authSource=admin&readPreference=primary&directConnection=true','Instance\x20Key\x20from\x20DB:','tokenId','Temp\x20image\x20deleted','NODE_ENV','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','put','instancias:\x20','):\x20Conversa\x20atualizada\x20em\x20memória','writeFileSync','\x5c$&','\x20saindo\x20da\x20função','app','segundos','status@broadcast','/wa-message','class-validator','conditions','instanceInfo','compression','font','replyOption','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','match','getRandomText','reconnectTimestamps','refreshToken','getProfileName','createflow','presence.update','):\x20Limpando\x20delayMessage','CORS_METHODS','REDIS_ENABLED','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','WEBHOOK_EVENTS_GROUPS_UPDATE','privacySettings','The\x20','footerText','isBase64','Types','fetchBusinessProfile',',\x20valor\x20passado:\x20\x22','pollMessage','bodyString','Authentication\x20error','Instance\x20\x22','):\x20não\x20encontrou','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','open','updateParticipant','\x1b[37m','WEBHOOK_GLOBAL_URL','\x1b[36m','fetchChats','currency','created','value','groupJid','Reinicialização\x20iniciada:\x20','release','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','last','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Error\x20deleting\x20instance\x20from\x20memory.','out','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','folder','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','secondValue','Certbot:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Error\x20updating\x20profile\x20name','viewOnceMessage','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','):\x20Procurando\x20mensagens\x20para\x20envio','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','convertToWebP','\x20foi\x20interrompido\x20pelo\x20usuário.','utf8','nomecompleto','findIndex','paused','subjectTime','evaluateConditionTest','EMAIL:','deleteMessageForEveryone','updateConversation','processUazapi','contactHandle','mongoose','Sistema\x20atualizado\x20com\x20sucesso!','getBase64FromMediaMessage','substring','CORS','role','STORE_CHATS','desc','organization','GLOBAL','archive','Erro\x20de\x20atualização:\x20','flowActive','Profile\x20not\x20found','flowname:\x20','name','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','send.message','/wa-contacts','addresss','groupParticipantsUpdate','integer','count','newStoppedUntil','includes','protocolMessage','DATABASE_CONNECTION_PASSWORD','saveConversationToDatabase','):\x20alterando\x20this.AutomateSystem','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','fromObject','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','fetchPrivacySettings','\x22\x20cannot\x20be\x20empty','PREFIX_KEY','views','split','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','waitingPoll_replyOptions','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Bloco\x20com\x20ID\x20','.sendDataWebhook-global','Instance\x20restarted','stateConnection','flowIgnoreGroups','header','getMIMEType','warn','lastSendMessage','VERBOSE','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','subjectOwner','env.KEY\x20!==\x20key','isURL','truncatedtoEnd','email','Desconectado,\x20parando\x20execução.','WEBHOOK_EVENTS_CHATS_UPDATE','../env.yml','deleteOne','Data\x20inválida\x20fornecida','WEBHOOK_EVENTS_CONTACTS_SET','webhook','uazapiSendText','archiveChat','\x1b[32m%s\x1b[0m','mongodb','chats.set','LIMIT','uazapiSendAudio','This\x20name\x20','\x1b[32m','joinGroup','Temp\x20audio\x20deleted','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','pollMessageOnDelete','flow','#ffffff','ENABLED','PRESENCE_UPDATE','No\x20join\x20group\x20invite\x20code\x20or\x20url','.X-ABLabel:Celular\x0a','selectedOptions','groupUpdateSubject','repository','Fetching\x20business\x20profile','WEBHOOK_EVENTS_MESSAGES_UPSERT','leadInfo','audio','Erro\x20ao\x20iniciar\x20fluxo:\x20','trim','getContactModelForOwner','toString','The\x20global\x20api\x20key\x20must\x20be\x20set','eventHandler','unreadcount','Conversa\x20deletada\x20com\x20sucesso.','buttons','getDelay','Getting\x20profile\x20with\x20jid:\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','stopConversation','BufferJSON','goToFlow','API\x20Key\x20from\x20Request:','mediaKey','groups','pushName','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','getOwnPropertyNames','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','\x1b[47m','stdout','stopMinutes','./.git/config','removeInstance','sendWhatsAppAudio','getFlow','collections','instance','updateStopChat','editflowvariable','participant','refused','):\x20Editando\x20replyOption...','.sendDataWebhook-local','):\x20Query\x20params:','video','processvaredits','console','reorderBlocks','qrcode-terminal','sendButtons','urlOrBase64','matchRegex','groups_ignore','):\x20isVote','setting','formatVCard','getTime','loadWebhook','sendPoll','envYaml','Falta\x20informação\x20para\x20a\x20chamada\x20API','owner','Contacts\x20not\x20found','audioMessage','CONFIG_SESSION_PHONE_NAME','useMultiFileAuthState','removeProfilePicture','apirequest','<subdomain>','updateStatusPrivacy','createJid','Missing\x20global\x20api\x20key','findChats','options','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','editChat','):\x20Editando\x20grupo\x20do\x20fluxo...','flowPrefixCommand','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','\x1b[42m','editFlowVariable','mentions','statusJidList','hDel','findGroupInfos','variablesToObject','closeExistingConversations','Error\x20fetching\x20and\x20updating\x20profile:\x20','WARN','replyOptions','DARK','everyOne','createConnection','Not\x20is\x20business\x20profile','\x1b[34m','endSession','ephemeralMessage','env','\x22\x20-\x20NOT\x20CONNECTION','Revoke\x20error','updateFlowConfig','boolean',',\x20Segundo\x20Valor:\x20','authentication','!cmd_','StatusJidList\x20is\x20required','shift','existsSync','process','_Messages','logger','extractRegex','caption','\x20minutos\x20verificará\x20novas\x20mensagens','jsonwebtoken','message','WEBHOOK_MAP','Error\x20creating\x20group','cors','dbInstance','prototype','deleteReplyOption','contactname','dbSettings','updateCustomFields','fone','replacer','AppStateSyncKeyData','slice','Erro\x20ao\x20editar\x20a\x20conversa:\x20','document','Primeiro\x20Valor:\x20','inner','):\x20Going\x20to\x20','CORS_CREDENTIALS','no.connection','Error\x20writing\x20file:\x20','Error\x20updating\x20message\x20status:','getOwnPropertyDescriptor','/exit','764334spHhSW','formatBRNumber','connectToWhatsapp','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','updateProfilePicture','throwAndLogError','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','messages.set','_error','arrayUnique','deleteConversation','Unable\x20to\x20leave\x20the\x20group','getStatus','\x0a{\x20instance:\x20','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','waUploadToServer','events','\x5cd+','contacts.update','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','restartInstance','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','/chat','sections','\x20segundos','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','uazapiDeleteMessage','updateOnlinePrivacy','condition','Module\x20-\x20ON','filter','BRL','groupHandler','editFlowReply','markMessageAsRead','agents','messages.upsert','50mb','Audio\x20is\x20base64','saveVariable','/wa-connection-update','exists','unreadCount','not\x20loaded','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','notEqual','https://uazapi-plugin.bubbleapps.io/?url=','hasOwnProperty','error','groupId','js-yaml','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','localWebhook','group','data:\x20','scheduleSendMedia','instance.','):\x20conversation.lastInteraction:\x20','deletedCount','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','end','/*.json','https://uazapi-plugin.bubbleapps.io/','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','variable','request\x20received\x20in\x20getAutomateSystem','web','replaceOne','uazapiSendLocation','SUCCESS','string','Read\x20messages','/wa-qrcode','sendStatus','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','decryptPollVote','createClient','CHATS_SET','Db\x20Connection','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','optionDescription','uuid','errno','envProcess','\x20instance\x20does\x20not\x20exist','group\x20ignored','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','chats.upsert','Error\x20fetching\x20group','toArray','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','editOperator','delInstanceFiles','Fluxos\x20não\x20estão\x20ativados','Variável\x20não\x20encontrada!','):\x20Buscando\x20conversa...','fetchProfile2','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','/instance/create','Method\x20not\x20implemented.','timerId','_activatedCount','auth',',\x20resultado:\x20','scheduleSendText','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','addReplyOption','ip:\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','goNextblock','PROD','flowStopMinutes','toUpperCase','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','phoneNumber','deleteDoneMessages','code','instanceName','displayName','creation','SERVER_ACK','!stop','fetchInstances','restart','Erro\x20ao\x20buscar\x20conversa:\x20','):\x20nextBlock.uazapi.name','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','pollCreationMessageV3','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','random','model','gifPlayback','READ','less','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Type\x20defined\x20as\x20audio','updateGroupPicture','Type\x20is\x20required','The\x20property\x20cannot\x20be\x20empty','enabled','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','--agree-tos','oldValue','\x1b[31m','evaluateCondition','writeData','archived','namespace','/media/','request\x20received\x20in\x20editConversation','flowName','WEBHOOK_EVENTS_CHATS_SET','getHours','CONTACTS_SET','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','buttonMessage','4Xjxqfe','STORE_CONTACTS','Error\x20updating\x20setting','\x20contacts','writeFile','request\x20received\x20in\x20updateFlowConfig','imagechat','CONNECTION_UPDATE','notify','app-state-sync-key','AUTHENTICATION_TYPE','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','normalizeMessage','log','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','lastCondition','Enter\x20a\x20value\x20in\x20milliseconds','whatsappNumber','upsertChats','):\x20Conversa\x20está\x20expirada','URL:','DATABASE_CONNECTION_URI','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Processing\x20audio','setWebhook','HOST','join','reaction','scheduleSendAudio','success','birthtime','sort','headerString','static','poll','Log\x20out\x20instance:\x20','scheduleNextCheck','errorLog','getVariablesChat','title','connectionStatus','):\x20Conversas\x20encontradas:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','findWebhook','updateProfileName','^\x5cd+','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','WA\x20MODULE','updateReplyOption','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','sendMedia','delaySecMin','capitalizedWords','PLAYED','editFlowVaredit','Deleted\x20','getMinutes','editflowgroup','DisconnectReason','Message\x20not\x20found','waMonit','android','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','store','Image\x20is\x20base64','fileLength','LICENSE_INVALID','Unknown\x20message\x20type\x20or\x20empty\x20message','has','verifiedName','createConversationforgoToFlow','INFO','AutomateFunctions','messageHandle','last_update','\x20horas\x20e\x20','sendText',',\x20Minutes\x20to\x20Close:\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','stderr','ReplyOption\x20com\x20ID\x20',',\x20saindo.','documentWithCaptionMessage','):\x20Ler\x20mensagem','@whiskeysockets/baileys','updateProfilePicturePrivacy','varedits','The\x20\x22','\x20não\x20encontrado\x20para\x20atualização.','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','):\x20Entrou\x20na\x20função\x20goToFlow','revokeInviteCode','routerPath','PRIVKEY','view\x20engine','readdirSync','__esModule','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','WEBHOOK_EVENTS_CHATS_DELETE','Instância\x20não\x20encontrada.','detail','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','1722207RxwcJL','findContacts','Converting\x20audio\x20to\x20mp4','badSession','SendScheduleMessage','):\x20Buscando\x20conversas...','request\x20received\x20in\x20editFlowvariable','createServer','variablesNotFound','):\x20Erro\x20ao\x20criar\x20fluxo\x20','customFields','urlencoded','Archiving\x20chat','Unauthorized','updateReadReceiptsPrivacy','\x20inseridos\x20no\x20banco\x20de\x20dados...','groupToggleEphemeral','sendLocation','true','allflows','ERROR','DELETED','fetchConversation','):\x20Flow\x20não\x20encontrado','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','StartBot','flattenObject','exec','parseInt','loggedOut','Erro\x20ao\x20editar\x20agentes:\x20','endsWith','dropCollection','jsonschema','Instância:\x20','leaveGroup','router','messagesSend','next_groupId','leadInfo.customFields','COLOR','recording','connection.update','connect','.mp3','audioWhatsapp','closed','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','request\x20received\x20in\x20scheduleMessage','public','Font\x20is\x20required','locked','waInstances','render','statSync','):\x20Flow\x20desativado','):\x20newSecondValue\x20após\x20replaceVariables:','rmSync','editflowblock','post','getDevice','addBlock','webhookService','request\x20received\x20in\x20fetchConversation','sendMessage','\x1b[43m','REDIS_URI','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','deleteFlow','\x20}\x0a','createInstance','fetchProfile','editConversation','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Erro\x20ao\x20buscar\x20conversas:\x20','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','replaceValue','variables','getScheduleMessage','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','TYPE','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Conexão\x20estabelecida','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','.mp4','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','modifiedCount','Trying\x20to\x20get\x20business\x20profile','lastmsg','):\x20Limpando\x20AutomateSystem','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','request\x20body:\x20','stopIfLastReturnedError','groupName','env.yml','all','findParticipants','):\x20Ignoring\x20group\x20messages.','webhookMap','deleteAll','uazapi','ContactModel','QRCODE','syscall','saveMediaToFile','.webp','chats.delete','emit','profilePicture','content','contextInfo','Button\x20IDs\x20cannot\x20be\x20repeated.','uncaughtException','):\x20Erro\x20ao\x20buscar\x20conversas\x20','apiName','delayMessage','Group\x20not\x20found','cwd','Error\x20change\x20group\x20description','mkdirSync','updateMediaMessage','insert','/events/:instance','profilePictureUrl','presenceSubscribe','errors','findOne','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','\x0a*Você\x20respondeu*:\x0a','JWT','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','onTime','cpf','Imagem\x20não\x20encontrada','mimetype','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','getBusinessProfile','sleep','verbose','locationMessage','not_announcement','promote','setRestartTimer','):\x20Enviando\x20contato','delInstanceTime','):\x20updateResult:','binary','https://jsonip.com','):\x20Enviando\x20localização','isBusiness','GROUPS_UPSERT','padStart','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','replaceVariablesInObject','TRIAL_AD','convertedOptions','78835eJUkmG','rowId','address','toLocaleString','truncatedto','getConversation','when','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','/wa-chats','notContains','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE','isInteger','Converted\x20image\x20deleted','videoMessage','isArray','Certbot\x20executado\x20com\x20sucesso.','metadata','readreceipts','removeData','groupSettingUpdate','\x1b[40m','action','ini','STATUS_INSTANCE','replaceVariablesInReplyOptions','noConnection','hGetAll','DELIVERY_ACK','vcard','local_map','isConnected','\x1b[30m%s\x1b[0m','messages.update','groups.update','readMessage','updatePresence','pop','CONFIG_SESSION_PHONE','chats.update','onWhatsApp','Error\x20in\x20scheduleNextCheck:\x20','generate','audio/ogg','setNewValue','groupMetadata','Validate','reference','rows','LOG','quoted','processApiRequest','/wa-groups','URL','MESSAGES_UPSERT','Temp\x20audio\x20path:\x20','.png','loadInstance','qrCode','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','ignoreGroups','encoding','remote\x20\x22origin\x22','Telefone:\x20','isRunning','Content\x20is\x20required','stack','createNewConversation','blocks','/clients-info','processblock','connectionState','\x1b[41m','online','senderKeyDistributionMessage','fromMe','Não\x20respondeu\x20com\x20a\x20enquete.','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','hGet','QRCODE_UPDATED','findAndReplace','redirect','PRODUCTION','prefixCommand','blockLogs','unavailable','updatePrivacySettings','Operador:\x20\x22','findGroups','):\x20Enviando\x20texto','hbs','replaceVariables','LOG_LEVEL','RECONNECT_TIME_FRAME','expression','desativadoFluxoAte','match_last_seen','Error\x20updating\x20privacy\x20settings','STORE_CLEANING_TERMINAL','Router','round','drop','number','):\x20Deletando\x20conversa...','toLowerCase','Flow\x20não\x20encontrado','Image\x20is\x20url','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','DATABASE_CONNECTION_USER','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','splice','):\x20Alterando\x20fluxo...','):\x20Fluxos\x20não\x20estão\x20ativados','toBRL','Schema','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Instance\x20deleted','request\x20received\x20in\x20createFlow','authState','Temp\x20audio\x20created','STORE_MESSAGE','length','instanceKeys','deleteBlock','client','lowerCase','Início','hex','Cannot\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','NAME','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Deletion\x20failed','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','convertaudio','toggleEphemeral','createConversationforStartFlow','write','lastInteraction','getLastMessage','Flow\x20already\x20exists','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','isBooleanString','):\x20Não\x20achou\x20nenhum\x20flow','create\x20-\x20success','CONECTADO\x20À\x20UAZAPI'];a0_0x9fdc=function(){return _0x261cef;};return a0_0x9fdc();}ci();async function mo(){const _0x2f1ba5=a0_0x5708fb;let _0x15dc88;try{_0x15dc88=(await Me['default']['get'](_0x2f1ba5(0x613)))[_0x2f1ba5(0x743)]['ip'];}catch(_0x2bb1c8){console[_0x2f1ba5(0x4aa)](_0x2bb1c8);try{_0x15dc88=(await Me[_0x2f1ba5(0x19f)]['get'](_0x2f1ba5(0x1da)))[_0x2f1ba5(0x743)]['ip'];}catch(_0x2735c2){console[_0x2f1ba5(0x4aa)](_0x2735c2);try{_0x15dc88=(await Me[_0x2f1ba5(0x19f)][_0x2f1ba5(0x1cd)]('http://checkip.dyndns.org'))[_0x2f1ba5(0x743)][_0x2f1ba5(0x356)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x224756){return console[_0x2f1ba5(0x4aa)](_0x224756),!0x1;}}}return _0x15dc88;}var no=0x0;async function li(){const _0x26b5f4=a0_0x5708fb;let _0x4c36a6=await new ne(S[_0x26b5f4(0x1cd)](_0x26b5f4(0x2b8)))['instanceKeys']();return console[_0x26b5f4(0x525)](_0x26b5f4(0x346),_0x4c36a6[_0x26b5f4(0x695)]),_0x4c36a6[_0x26b5f4(0x695)];}async function ui(){const _0x556bff=a0_0x5708fb;let _0x13f8e5=S[_0x556bff(0x1cd)](_0x556bff(0x2b8)),_0xb8183f=S['get'](_0x556bff(0x264))[_0x556bff(0x1e4)][_0x556bff(0x318)],_0x27f20a=S['get'](_0x556bff(0x20e)),_0x2e2c7d=await mo(),_0x36d34a=S[_0x556bff(0x1cd)](_0x556bff(0x1d6))['PORT'];try{let _0x34f473={'ip':_0x2e2c7d||null,'redis_enable':_0x13f8e5?.[_0x556bff(0x3e7)]||null,'apikey':_0xb8183f||null,'ssl':_0x27f20a?.[_0x556bff(0x575)]||null,'lastupdate':ho||null,'port':_0x36d34a||null,'gitInstallError':Ae?.[_0x556bff(0x460)]||null};if(console[_0x556bff(0x525)](_0x556bff(0x4e6),_0x34f473['ip']),_0x13f8e5&&_0x13f8e5['ENABLED']){let _0x22a46e=await li();_0x34f473['instanceCount']=_0x22a46e||null;}for(let _0x23837c in _0x34f473)_0x34f473[_0x556bff(0x4a9)](_0x23837c)&&_0x23837c!=='ip'&&(_0x34f473[_0x23837c]=JSON[_0x556bff(0x726)](_0x34f473[_0x23837c]));return(await Me[_0x556bff(0x19f)][_0x556bff(0x5b9)](_0x556bff(0x1c9),_0x34f473))[_0x556bff(0x743)];}catch(_0xa0bd75){return console[_0x556bff(0x4aa)](_0xa0bd75),!0x1;}}var bs=!0x1,ho=0x212,di=0x3,co=0x1b7740;function a0_0x3a58(_0x3ef470,_0x49657e){const _0x9fdc66=a0_0x9fdc();return a0_0x3a58=function(_0x3a5867,_0x33c038){_0x3a5867=_0x3a5867-0x18c;let _0x573232=_0x9fdc66[_0x3a5867];return _0x573232;},a0_0x3a58(_0x3ef470,_0x49657e);}async function Es(){const _0x487050=a0_0x5708fb;if(!await mo())return console[_0x487050(0x4aa)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),'NO_IP';let _0x48ffd7=await ui();if(_0x48ffd7){if(_0x48ffd7[_0x487050(0x70d)][_0x487050(0x208)]===!0x0){S[_0x487050(0x1cd)](_0x487050(0x20e))[_0x487050(0x575)][_0x487050(0x3b1)](_0x487050(0x431))&&_0x48ffd7['response'][_0x487050(0x1d7)]&&(await mi(_0x48ffd7[_0x487050(0x70d)]['subdomain'],gi),await hi('augusto.fcs@gmail.com',_0x48ffd7[_0x487050(0x70d)]['subdomain']),console[_0x487050(0x525)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>wi(),0x2710)),Ae===null&&_0x48ffd7[_0x487050(0x70d)][_0x487050(0x562)]-ho>0x0&&await pi(),bs||(bs=!0x0,oi());let _0x237dfe=0x24*0x3c*0x3c,_0x5e9bbb=_0x48ffd7['response'][_0x487050(0x34c)]>_0x237dfe?_0x237dfe:_0x48ffd7[_0x487050(0x70d)][_0x487050(0x34c)],_0x144431=Number(_0x5e9bbb);if(isNaN(_0x144431)){console[_0x487050(0x4aa)](_0x487050(0x237));return;}let _0x2bd8d6=Math[_0x487050(0x748)](_0x144431/0xe10),_0x2244f2=Math[_0x487050(0x748)](_0x144431%0xe10/0x3c),_0x26dea2=new Date(Date[_0x487050(0x70a)]()+_0x144431*0x3e8);setTimeout(Es,_0x144431*0x3e8);let _0xf0df76=_0x4c4cd5=>_0x4c4cd5[_0x487050(0x3f5)]()[_0x487050(0x617)](0x2,'0'),_0x144c0c=_0x487050(0x283)+_0xf0df76(_0x2bd8d6)+_0x487050(0x563)+_0xf0df76(_0x2244f2)+'\x20minutos.\x20Será\x20às\x20'+_0xf0df76(_0x26dea2[_0x487050(0x513)]())+':'+_0xf0df76(_0x26dea2[_0x487050(0x550)]())+'.';console[_0x487050(0x525)](_0x144c0c);}else return console[_0x487050(0x525)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),bs&&(console[_0x487050(0x525)](_0x487050(0x6a2)),process[_0x487050(0x2ef)]()),_0x487050(0x55a);}else{if(no++,no<di)console[_0x487050(0x525)](_0x487050(0x360)+co/0xea60+'\x20minutos...'),setTimeout(Es,co);else return console[_0x487050(0x4aa)](_0x487050(0x2c2)),_0x487050(0x6b2);}}async function pi(){const _0x53fb4a=a0_0x5708fb;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x1cd15a=(0x0,De['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x1cd15a[_0x53fb4a(0x40a)]['on'](_0x53fb4a(0x743),_0x4784c5=>{const _0x1af4a7=_0x53fb4a;console[_0x1af4a7(0x525)](_0x1af4a7(0x2eb)+_0x4784c5);}),_0x1cd15a[_0x53fb4a(0x567)]['on'](_0x53fb4a(0x743),_0x9b30e9=>{const _0x438fd7=_0x53fb4a;console[_0x438fd7(0x4aa)](_0x438fd7(0x3a4)+_0x9b30e9);}),_0x1cd15a['on'](_0x53fb4a(0x2ef),_0x4b9824=>{const _0x2ccc43=_0x53fb4a;_0x4b9824!==0x0?console[_0x2ccc43(0x4aa)](_0x2ccc43(0x302)+_0x4b9824):console[_0x2ccc43(0x525)](_0x2ccc43(0x39a)),console[_0x2ccc43(0x525)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x2ccc43(0x2ef)](),0x2710);});}var gi=Ie[a0_0x5708fb(0x19f)][a0_0x5708fb(0x532)](__dirname,a0_0x5708fb(0x5dc));async function mi(_0x545ced,_0x3b0b0a){const _0x32a6cc=a0_0x5708fb;let _0x235d11=fi();_0x545ced=_0x545ced[_0x32a6cc(0x2be)]('.uazapi.dev','');try{let _0x1a3fff=pe[_0x32a6cc(0x19f)]['readFileSync'](_0x3b0b0a,'utf8');_0x1a3fff=_0x1a3fff[_0x32a6cc(0x2be)](/<apikey>/,_0x235d11),_0x1a3fff=_0x1a3fff['replace'](/<subdomain>/g,_0x545ced),pe[_0x32a6cc(0x19f)][_0x32a6cc(0x348)](_0x3b0b0a,_0x1a3fff,_0x32a6cc(0x38e)),console[_0x32a6cc(0x525)](_0x32a6cc(0x47c));}catch(_0x3e0dd6){console['error'](_0x32a6cc(0x579),_0x3e0dd6);}}function hi(_0x5ab688,_0x248fce){return new Promise((_0x1ed068,_0x169406)=>{const _0x33e6a3=a0_0x3a58;let _0x1da11a=(0x0,De[_0x33e6a3(0x33e)])(_0x33e6a3(0x1a7),[_0x33e6a3(0x75a),_0x33e6a3(0x6de),'-m',_0x5ab688,_0x33e6a3(0x508),'-d',_0x248fce]);_0x1da11a[_0x33e6a3(0x40a)]['on'](_0x33e6a3(0x743),_0x5b82d1=>{const _0x8733d4=_0x33e6a3;console[_0x8733d4(0x525)](_0x8733d4(0x384)+_0x5b82d1[_0x8733d4(0x3f5)]());}),_0x1da11a[_0x33e6a3(0x567)]['on'](_0x33e6a3(0x743),_0x10eea9=>{const _0x161aed=_0x33e6a3;console[_0x161aed(0x4aa)]('Erro\x20do\x20Certbot:\x20'+_0x10eea9['toString']());}),_0x1da11a['on'](_0x33e6a3(0x222),_0x50917e=>{const _0x5e818f=_0x33e6a3;_0x50917e!==0x0?(console[_0x5e818f(0x4aa)](_0x5e818f(0x1a8)+_0x50917e),_0x169406('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x50917e)):(console[_0x5e818f(0x525)](_0x5e818f(0x62c)),_0x1ed068());});});}function fi(_0x48f91a=0x32){const _0x5dbf2e=a0_0x5708fb;let _0x1c459f=_0x5dbf2e(0x4b9),_0x3ca69c='';for(let _0x275250=0x0;_0x275250<_0x48f91a;_0x275250++)_0x3ca69c+=_0x1c459f['charAt'](Math[_0x5dbf2e(0x748)](Math['random']()*_0x1c459f['length']));return _0x3ca69c;}function wi(){const _0x541397=a0_0x5708fb;(0x0,De[_0x541397(0x599)])('shutdown\x20-r\x20now',(_0x150c57,_0x1d2d77,_0x2d895a)=>{const _0x1916df=_0x541397;if(_0x150c57){console[_0x1916df(0x4aa)](_0x1916df(0x602)+_0x150c57);return;}if(_0x2d895a){console[_0x1916df(0x4aa)]('Erro\x20de\x20reinicialização:\x20'+_0x2d895a);return;}console['log'](_0x1916df(0x379)+_0x1d2d77);});}