const a0_0x3146da=a0_0xd411;(function(_0x14224f,_0x1c3178){const _0x1cddeb=a0_0xd411,_0xd269ac=_0x14224f();while(!![]){try{const _0x1dd5ff=-parseInt(_0x1cddeb(0x302))/0x1+parseInt(_0x1cddeb(0x6ad))/0x2+parseInt(_0x1cddeb(0x304))/0x3+parseInt(_0x1cddeb(0xd6))/0x4*(parseInt(_0x1cddeb(0x68f))/0x5)+parseInt(_0x1cddeb(0x6f3))/0x6+-parseInt(_0x1cddeb(0x14c))/0x7*(parseInt(_0x1cddeb(0x497))/0x8)+-parseInt(_0x1cddeb(0x31b))/0x9;if(_0x1dd5ff===_0x1c3178)break;else _0xd269ac['push'](_0xd269ac['shift']());}catch(_0x22544c){_0xd269ac['push'](_0xd269ac['shift']());}}}(a0_0x38da,0x501d8));var _o=Object[a0_0x3146da(0x16f)],Ie=Object[a0_0x3146da(0x637)],Po=Object[a0_0x3146da(0x596)],$o=Object[a0_0x3146da(0x5fb)],ko=Object[a0_0x3146da(0x603)],Lo=Object['prototype']['hasOwnProperty'],jo=(_0x42e990,_0x40bba6)=>{for(var _0x2fba8d in _0x40bba6)Ie(_0x42e990,_0x2fba8d,{'get':_0x40bba6[_0x2fba8d],'enumerable':!0x0});},xs=(_0x1c81ca,_0x459617,_0xdd1ce7,_0x44a206)=>{const _0x1c54b1=a0_0x3146da;if(_0x459617&&typeof _0x459617==_0x1c54b1(0x4a2)||typeof _0x459617=='function'){for(let _0x47a88b of $o(_0x459617))!Lo[_0x1c54b1(0x249)](_0x1c81ca,_0x47a88b)&&_0x47a88b!==_0xdd1ce7&&Ie(_0x1c81ca,_0x47a88b,{'get':()=>_0x459617[_0x47a88b],'enumerable':!(_0x44a206=Po(_0x459617,_0x47a88b))||_0x44a206[_0x1c54b1(0x4de)]});}return _0x1c81ca;},R=(_0x4e1153,_0x2e82a3,_0x2255ec)=>(_0x2255ec=_0x4e1153!=null?_o(ko(_0x4e1153)):{},xs(_0x2e82a3||!_0x4e1153||!_0x4e1153[a0_0x3146da(0x4b4)]?Ie(_0x2255ec,'default',{'value':_0x4e1153,'enumerable':!0x0}):_0x2255ec,_0x4e1153)),Fo=_0x5c5f41=>xs(Ie({},a0_0x3146da(0x4b4),{'value':!0x0}),_0x5c5f41),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0x3146da(0x208)]=Fo(zr);var To=R(require(a0_0x3146da(0x57d))),_s=require('fs'),Ps=require(a0_0x3146da(0x144)),$s=require(a0_0x3146da(0x37e)),xe=require(a0_0x3146da(0x37e)),ae=process[a0_0x3146da(0x5b5)](),ge=(0x0,xe[a0_0x3146da(0x353)])(ae,a0_0x3146da(0x2d1)),Ds=(0x0,xe[a0_0x3146da(0x353)])(ae,'src'),Ui=(0x0,xe[a0_0x3146da(0x353)])(ae,a0_0x3146da(0x53c),a0_0x3146da(0x69f)),Zt=class{constructor(){const _0x326774=a0_0x3146da;this[_0x326774(0x1a5)]();}[a0_0x3146da(0x4ed)](_0x26f0fb){const _0x5bace0=a0_0x3146da;return this[_0x5bace0(0x166)][_0x26f0fb];}[a0_0x3146da(0x1a5)](){const _0x3560cd=a0_0x3146da;this['env']=process[_0x3560cd(0x166)]?.[_0x3560cd(0x19c)]!==_0x3560cd(0x21f)?this['envYaml']():this[_0x3560cd(0x41c)](),process[_0x3560cd(0x166)]?.[_0x3560cd(0x19c)]===_0x3560cd(0x21f)&&(this[_0x3560cd(0x166)][_0x3560cd(0x6b1)]['TYPE']=_0x3560cd(0x474),this['env'][_0x3560cd(0x6b1)][_0x3560cd(0x597)]=Number[_0x3560cd(0x193)](process[_0x3560cd(0x166)]?.['SERVER_PORT']??_0x3560cd(0x50e)));}[a0_0x3146da(0x348)](){const _0x277bb8=a0_0x3146da;return(0x0,Ps[_0x277bb8(0x352)])((0x0,_s[_0x277bb8(0x5ab)])((0x0,$s[_0x277bb8(0x353)])(Ds,'../env.yml'),{'encoding':'utf-8'}));}[a0_0x3146da(0x41c)](){const _0x295673=a0_0x3146da;return{'SERVER':{'TYPE':process[_0x295673(0x166)][_0x295673(0x33d)],'PORT':Number[_0x295673(0x193)](process[_0x295673(0x166)]['SERVER_PORT']),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x295673(0x166)][_0x295673(0x29c)][_0x295673(0x72c)](','),'METHODS':process[_0x295673(0x166)][_0x295673(0x487)][_0x295673(0x72c)](','),'CREDENTIALS':process[_0x295673(0x166)]?.[_0x295673(0x1d9)]===_0x295673(0x21f)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x295673(0x55c)],'FULLCHAIN':process[_0x295673(0x166)]?.[_0x295673(0x67b)]},'STORE':{'CLEANING_INTERVAL':Number[_0x295673(0x2ab)](process[_0x295673(0x166)]?.[_0x295673(0xce)])?Number[_0x295673(0x193)](process[_0x295673(0x166)][_0x295673(0xce)]):void 0x0,'MESSAGES':process[_0x295673(0x166)]?.[_0x295673(0x5de)]===_0x295673(0x21f),'CONTACTS':process[_0x295673(0x166)]?.['STORE_CONTACTS']===_0x295673(0x21f),'CHATS':process['env']?.[_0x295673(0x39f)]===_0x295673(0x21f)},'DATABASE':{'CONNECTION':{'HOST':process[_0x295673(0x166)]?.[_0x295673(0x678)],'PORT':Number[_0x295673(0x193)](process[_0x295673(0x166)]?.[_0x295673(0x678)]),'USER':process[_0x295673(0x166)][_0x295673(0x615)],'PASSWORD':process['env'][_0x295673(0x418)],'URI':process['env']['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x295673(0x166)][_0x295673(0x5f5)]},'ENABLED':process[_0x295673(0x166)]?.[_0x295673(0x1f3)]===_0x295673(0x21f)},'REDIS':{'ENABLED':process[_0x295673(0x166)]?.[_0x295673(0x385)]===_0x295673(0x21f),'URI':process[_0x295673(0x166)][_0x295673(0x1c4)]||_0x295673(0x54e),'PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']||_0x295673(0x416)},'LOG':{'LEVEL':process[_0x295673(0x166)]?.[_0x295673(0x58f)][_0x295673(0x72c)](','),'COLOR':process[_0x295673(0x166)]?.[_0x295673(0x410)]===_0x295673(0x21f)},'PROXY':process[_0x295673(0x166)]?.[_0x295673(0x5f6)]===_0x295673(0x21f),'AUTHENTICATION':{'TYPE':process[_0x295673(0x166)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x295673(0x37c)]},'JWT':{'EXPIRIN_IN':Number[_0x295673(0x2ab)](process[_0x295673(0x166)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x295673(0x193)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x295673(0x166)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Zt(),Ao=R(require('cors')),pe=R(require(a0_0x3146da(0x136))),Os=require(a0_0x3146da(0x37e)),es=R(require('dayjs')),ts=(_0x1fda75=>(_0x1fda75['LOG']='\x1b[32m',_0x1fda75[a0_0x3146da(0x677)]=a0_0x3146da(0x2f0),_0x1fda75['WARN']=a0_0x3146da(0xe7),_0x1fda75[a0_0x3146da(0x337)]='\x1b[31m',_0x1fda75['DEBUG']='\x1b[36m',_0x1fda75['VERBOSE']=a0_0x3146da(0xdb),_0x1fda75[a0_0x3146da(0x35c)]=a0_0x3146da(0x5c7),_0x1fda75))(ts||{}),ks=(_0x58a176=>(_0x58a176['LOG']=a0_0x3146da(0x63e),_0x58a176['DARK']=a0_0x3146da(0x558),_0x58a176[a0_0x3146da(0x677)]=a0_0x3146da(0x39b),_0x58a176[a0_0x3146da(0x121)]=a0_0x3146da(0x5fc),_0x58a176['ERROR']='\x1b[31m%s\x1b[0m',_0x58a176[a0_0x3146da(0x2a1)]=a0_0x3146da(0x6af),_0x58a176['VERBOSE']='\x1b[37m%s\x1b[0m',_0x58a176))(ks||{}),Ls=(_0x5dd90d=>(_0x5dd90d[a0_0x3146da(0x269)]='LOG',_0x5dd90d[a0_0x3146da(0x121)]='WARN',_0x5dd90d['INFO']=a0_0x3146da(0x677),_0x5dd90d['DARK']=a0_0x3146da(0x35c),_0x5dd90d[a0_0x3146da(0x337)]='ERROR',_0x5dd90d[a0_0x3146da(0x2a1)]=a0_0x3146da(0x2a1),_0x5dd90d[a0_0x3146da(0x5d4)]=a0_0x3146da(0x5d4),_0x5dd90d))(Ls||{}),js=(_0x262657=>(_0x262657[a0_0x3146da(0x269)]='\x1b[42m',_0x262657['INFO']=a0_0x3146da(0x3de),_0x262657['WARN']=a0_0x3146da(0x227),_0x262657[a0_0x3146da(0x35c)]='\x1b[40m',_0x262657[a0_0x3146da(0x337)]=a0_0x3146da(0x679),_0x262657[a0_0x3146da(0x2a1)]=a0_0x3146da(0x4ac),_0x262657['VERBOSE']=a0_0x3146da(0x46e),_0x262657))(js||{}),v=class{constructor(_0x201c61='Logger'){const _0x325e4b=a0_0x3146da;this[_0x325e4b(0x2ba)]=_0x201c61,this[_0x325e4b(0x31c)]=b;}[a0_0x3146da(0x4e6)](_0x4a33f4){const _0x26d51b=a0_0x3146da;this[_0x26d51b(0x2ba)]=_0x4a33f4;}['console'](_0x3a7ed1,_0x5675f0){const _0x1f57b8=a0_0x3146da;let _0x40bb35=[];this[_0x1f57b8(0x31c)][_0x1f57b8(0x4ed)]('LOG')[_0x1f57b8(0x24d)][_0x1f57b8(0x3d2)](_0x36ea6b=>_0x40bb35[_0x1f57b8(0x621)](Ls[_0x36ea6b]));let _0x1fd788=typeof _0x3a7ed1;_0x40bb35['includes'](_0x5675f0)&&(b[_0x1f57b8(0x4ed)](_0x1f57b8(0x269))[_0x1f57b8(0x545)]?(console[_0x1f57b8(0x5e0)](_0x1f57b8(0x26c)+ks[_0x5675f0],'\x1b[1m\x1b[37m',(0x0,es[_0x1f57b8(0x5e3)])()[_0x1f57b8(0x3a5)](_0x1f57b8(0x18e)),_0x1f57b8(0x676),ts[_0x5675f0]+js[_0x5675f0]+_0x1f57b8(0x26c),_0x5675f0+_0x1f57b8(0x576),_0x1f57b8(0x122),this['context']+_0x1f57b8(0x676),ts[_0x5675f0],_0x1fd788!==_0x1f57b8(0x4a2)?_0x3a7ed1:'',_0x1f57b8(0x676)),_0x1fd788===_0x1f57b8(0x4a2)&&console[_0x1f57b8(0x5e0)](_0x3a7ed1,'\x0a')):console[_0x1f57b8(0x5e0)]((0x0,es[_0x1f57b8(0x5e3)])()[_0x1f57b8(0x3a5)](_0x1f57b8(0x196)),_0x5675f0+'\x20',''+this[_0x1f57b8(0x2ba)],_0x3a7ed1));}[a0_0x3146da(0x5e0)](_0x5af6dc){const _0x39d46b=a0_0x3146da;this[_0x39d46b(0x5e9)](_0x5af6dc,'LOG');}['info'](_0x202961){const _0x1f93ee=a0_0x3146da;this['console'](_0x202961,_0x1f93ee(0x677));}[a0_0x3146da(0x402)](_0x51751e){const _0x38ff54=a0_0x3146da;this[_0x38ff54(0x5e9)](_0x51751e,_0x38ff54(0x121));}[a0_0x3146da(0x451)](_0x2a1f9c){const _0x37b304=a0_0x3146da;this['console'](_0x2a1f9c,_0x37b304(0x337));}[a0_0x3146da(0x19a)](_0x3d561b){const _0x2e94f5=a0_0x3146da;this[_0x2e94f5(0x5e9)](_0x3d561b,_0x2e94f5(0x5d4));}[a0_0x3146da(0x1f7)](_0x2a82d3){const _0x492ddb=a0_0x3146da;this[_0x492ddb(0x5e9)](_0x2a82d3,'DEBUG');}['dark'](_0x1c3b98){const _0x119f74=a0_0x3146da;this[_0x119f74(0x5e9)](_0x1c3b98,_0x119f74(0x35c));}};function Fs(){const _0x5681ab=a0_0x3146da;process['on'](_0x5681ab(0x1f5),(_0x5ead01,_0x25b312)=>{const _0x423f90=_0x5681ab;new v(_0x423f90(0x1f5))[_0x423f90(0x451)]({'origin':_0x25b312,'stderr':process[_0x423f90(0x210)]['fd'],'error':_0x5ead01});}),process['on'](_0x5681ab(0x60d),(_0x1d7930,_0x1cad30)=>{const _0x59cba6=_0x5681ab;new v('unhandledRejection')[_0x59cba6(0x451)]({'origin':_0x1cad30,'stderr':process['stderr']['fd'],'error':_0x1d7930});});}var qs=R(require(a0_0x3146da(0x3dc))),ss=new qs[(a0_0x3146da(0x5e3))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),as=R(require(a0_0x3146da(0x292))),qo=new v('Db\x20Connection'),V=b[a0_0x3146da(0x4ed)](a0_0x3146da(0x306)),N=V['ENABLED']?V[a0_0x3146da(0x310)][a0_0x3146da(0xfa)]?as[a0_0x3146da(0x5e3)][a0_0x3146da(0x336)](V[a0_0x3146da(0x310)]['URI'],{'dbName':V[a0_0x3146da(0x310)][a0_0x3146da(0x197)]+a0_0x3146da(0x274)}):as[a0_0x3146da(0x5e3)][a0_0x3146da(0x336)]('mongodb://'+V[a0_0x3146da(0x310)][a0_0x3146da(0x6b2)]+':'+V[a0_0x3146da(0x310)]['PORT']+a0_0x3146da(0x145),{'user':V[a0_0x3146da(0x310)][a0_0x3146da(0x36f)],'pass':V[a0_0x3146da(0x310)][a0_0x3146da(0x4be)],'dbName':V[a0_0x3146da(0x310)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;V['ENABLED']&&qo[a0_0x3146da(0x6d1)](a0_0x3146da(0x2b2)+N[a0_0x3146da(0x392)]);function a0_0x38da(){const _0x460793=['96024tZUtAQ','):\x20Procurando\x20mensagens\x20para\x20envio','\x1b[36m%s\x1b[0m','isBase64','SERVER','HOST','mentioned','processConditionsTest','uazapiSendAudio','flowname:\x20','URL\x20limpa:\x20','Notifying\x20clients\x20for\x20chat:\x20','router','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','badSession','editChat','HttpsProxyAgent','):\x20Conversa\x20atualizada\x20em\x20memória','empty','):\x20lastBlockId:\x20','tags','Processing\x20audio','authService','Telefone:\x20','pollMessageOnDelete','FlowController','E-mail:\x20','noConnection','arrayUnique','lastCondition','unlinkSync','):\x20nextBlock.uazapi.name','delete','Error\x20removing\x20profile\x20picture','info','):\x20Fluxos\x20não\x20estão\x20ativados','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20Query\x20params:','):\x20Usando\x20extensão\x20padrão:\x20','sendCommand','instanceKeys','remove.instance','formatStatusMessage','responsavelid','creds.json','capitalizedWords','groupInviteCode','dropCollection','scheduleSendAudio','deleteDoneMessages','Converted\x20image\x20deleted','leadInfo.','Erro\x20ao\x20aplicar\x20varedit:\x20','dbSettings','EMAIL','\x20-i\x20','number','importChatsBatch','):\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','and','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','groupHandler','editConversation','webhookMap','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','delAll','chats.upsert','3047814JtVbvg','axios','contextInfo','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','contactMessage','writeData','@s.whatsapp.net','valid','processgoToFlow','subject','scheduled','locked','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Contacts\x20not\x20found','Getting\x20image\x20from\x20url','editFlowGroup','groupadd','test','isBusiness','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','\x22\x20-\x20NOT\x20CONNECTION','sleep','updateGroupPicture','\x20quoted:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','readData','#fed428','unreadcount','InstancesAsDisconnectedX','hDel','nomecompleto','customFields','editFlow','\x20ao\x20chat\x20','processblock','Error\x20in\x20chatModify\x20for\x20number\x20','editFlowBlock','/instance/connect','count','caption','Authentication\x20error','blocks','):\x20Deletando\x20conversa...','-instances','condition','isLong','ReplyOption\x20com\x20ID\x20','RECONNECT_TIME_FRAME','PRODUCT_LIST','has','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','protocol','exit','stickerMessage','insert','Erro\x20ao\x20atualizar\x20AutomateSystem:','split','code','documentMessage','allFlows','STORE','node-mime-types','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','chats','isConnected','enabled','user','/instance/create','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','messages.update','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','replaceVariablesChat','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','statusCode','_FlowHistorico','qrcode-terminal','sort','qrCode','action','STORE_CLEANING_TERMINAL','sendDataWebhook','$set','findMessages','/media','\x20inseridos\x20no\x20banco\x20de\x20dados...','process','deleteReplyOption','28wpvXlG','contains','Message','state','METHODS','\x1b[37m','chatLog','startFlow','content','owner','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','group','@g.us','ms\x20(Attempt\x20','Error\x20updating\x20profile\x20picture','sendSticker','#ffc5c7','\x1b[33m','):\x20Enviando\x20mídia','editFlowCondition','API\x20Key\x20from\x20Request:','application/octet-stream','Tentando\x20reconectar...','):\x20Going\x20to\x20','findOne','notEmpty','newValue','\x20minutos...','buttonMessage','slice','replyOptions','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','hex','):\x20Editando\x20replyOption...','pollErrorMessage','updateLastSeenPrivacy','URI','):\x20Current\x20Time:\x20','getMIMEType','/instance/delete','):\x20Editando\x20condição\x20do\x20fluxo...','blockLogs','Image\x20is\x20url','https://','round','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','updateParticipant','editflow','findOrCreate','editOperator','startsWith','remote\x20\x22origin\x22','.ppt','Types','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','findOneAndUpdate','segundos','_p_','random','dbServer','prefixCommand','temp-','hGetAll','groupRevokeInvite','Erro\x20ao\x20buscar\x20conversas:\x20','local_map','update','\x5c$&','\x20segundos','sendMessageWithTyping','chat','vcard','):\x20Deletando\x20mensagem','listResponseMessage','_Chats','WARN','\x1b[33m\x1b[1m','DisconnectReason','fromObject','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','rows','CONTACTS_SET','processApiRequest','findFlow','):\x20Editando\x20edição\x20do\x20fluxo...','contacts.upsert','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','replaceVariablesLogs','choices','CHATS_SET','userDevicesCache','messages.upsert','):\x20Iniciando\x20bot...','toUpperCase','\x22\x20not\x20found','website','express','Erro:','GROUPS_UPDATE','processUazapi','max','):\x20Alterando\x20fluxo...','The\x20instance\x20needs\x20to\x20be\x20disconnected','subdomain','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','saveConversationToDatabase','scheduleSendText','mentions','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Buscando\x20flow...','js-yaml','?authSource=admin&readPreference=primary&directConnection=true','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','modifiedCount','length','truncatedto','next_groupId','instance.','7pXEuYR','imageMessage','getMinutes','\x20de\x20conectar\x20com\x20proxy.','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','upsertChats','request\x20received\x20in\x20getFlow','remoteJids','list','cleaningUp','header','fetchContacts','request\x20received\x20in\x20updateCustomFields','listType','connectedName','instanceName\x20not\x20provided.','AutomateSystem','authState','body','locationMessage','stopConversation','):\x20atualização\x20chat:\x20','contentText','varedits','copyDataToNewModel','env','updateReplyOption','Chat\x20com\x20ID\x20','getAllData','webhookModel','Reinicialização\x20iniciada:\x20','://','Instance\x20\x22','participants','create','StartBot','stopWhenYouSendMsg','oldToken','convertedOptions','Flow\x20iniciado\x20com\x20','stanzaId','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','host','instanceInfo','write','getLastMessage','min','removeInstance','created','#ffae04','replaceVariablesInObject','mediaMessage','params','all','lastDisconnect','evaluateConditionTest','.X-ABLabel:Celular\x0a','END:VCARD','done','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','variablesNotFound','_Contacts','request\x20received\x20in\x20getAutomateSystem','\x20not\x20found,\x20retrying\x20in\x20','creds','DD/MM\x20HH:mm:ss','media','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','updateGParticipate','reconnectTimestamps','parseInt','flattenObject','):\x20transformedCustomFieldVariables','HH:mm:ss','DB_PREFIX_NAME','toggleEphemeral','pollCreationMessageKey','verbose','scheduleMessages','DOCKER_ENV','.TEL;waid=','\x5cd+','toNumber','checkAndRestartProcess','protocolMessage','setNewValue','selectedOptions','array','loadEnv','deletedCount','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','updateMissingCustomFields','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','pushName','repository','deleted','):\x20newFirstValue\x20após\x20replaceVariables:','fileUrl','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.',',\x20Minutes\x20to\x20Close:\x20','CONNECTION_UPDATE','node-cache','Getting\x20profile\x20info','CORS','send','@ffmpeg-installer/ffmpeg','closed','.pdf','desativadoFluxoAte','views','Cache-Control','Valor\x20de\x20find\x20ou\x20replace\x20ausente','leaveGroup','}}\x20->\x20\x22','Deleted\x20','Erro\x20do\x20Certbot:\x20','#9568cf','REDIS_URI','updateStatusPrivacy','Last\x20message\x20not\x20found\x20for\x20number:','/:instanceName','Schema','updateCustomFields','block','remoteJidsRemaining','https','waitingMenu_id','replace','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Editando\x20bloco...','leadInfo.etiquetas','waMonitor','mediatype','):\x20Conversa\x20está\x20expirada\x20-\x20voto','getDevice','status','delay','\x22\x20cannot\x20be\x20empty','CORS_CREDENTIALS','conversationTimestamp','deleteMany','waitingMenu_text','\x20minutos\x20verificará\x20novas\x20mensagens','\x20instance\x20does\x20not\x20exist','sendWhatsAppAudio','):\x20Entrou\x20na\x20função\x20stop','lastmsg','deleteChat','createflow','app-state-sync-key','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','fetchLabels','):\x20Erro\x20ao\x20buscar\x20conversas\x20','spawn','.error','Missing\x20global\x20api\x20key','instanceName','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Hash\x20to\x20audio\x20name:\x20','fromMe','mediaSticker','waitingMenu_ExpiredMessage','command','DATABASE_ENABLED','notEqual','uncaughtException','color','debug','):\x20Edit\x20schedule\x20message...','):\x20customFieldVariables','):\x20Erro\x20ao\x20editar\x20agentes:\x20','online','):\x20Buscando\x20conversa...','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','joinGroupValidate','last','\x20after\x20','StatusJidList\x20is\x20required','exists','item','Variável\x20não\x20encontrada!','deleteBlock','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','exports','PLAYED','order','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','recording','Error\x20change\x20group\x20setting','WebhookGlobal','ConversationModel','stderr','GUARD','application/json','getContentType','Erro\x20ao\x20importar\x20chats:','\x0aFN:','folder','):\x20não\x20encontrou','\x20do\x20chat\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','uazapiSendText','findById','endSession','deleteFlow','Image\x20is\x20base64','true','chats.delete','PENDING',')\x20fromMe:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','BufferJSON','editflowvaredit','findAndReplace','\x1b[43m','mimetype','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','data','setWebhook','Conversa\x20deletada\x20com\x20sucesso.','importChats','generate','options','config','archived','@redis/client','Validate','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','editScheduleMessage','SSL_CONF','request\x20body:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','demote','SUCCESS','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','bateu\x20events','\x20minutos','):\x20conversation.waitingMenu_name','viewOnceMessageV2Extension','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Chrome','detail','/wa-groups','call','):\x20Não\x20achou\x20nenhum\x20flow','groupName','InstancesAlterarTodas','LEVEL','):\x20group\x20ignored','expiration','not\x20loaded','updateAgent','Erro\x20ao\x20deletar\x20mensagens:','):\x20Criando\x20nova\x20conversa[createNewConversation]','lastSendMessage','.webm','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','now','URL','height','profilePictureUrl','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','message','description','collection','presence','/automate','lowerCase','JWT','stopIfLastReturnedError','.svg','creation','subjectOwner','):\x20Deletando\x20fluxo...','LOG','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','emit','\x1b[1m','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20this.processingScheduleMessageId:\x20','):\x20Erro\x20ao\x20criar\x20fluxo\x20','requestFile','GROUPS_UPSERT','backgroundColor','set','-whatsapp-api','Read\x20messages\x20fail','Converting\x20audio\x20to\x20mp4','request\x20received\x20in\x20editFlow','readdirSync','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','fetchChats','listMessage','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','maxActives','_Labels','LICENSE_INVALID','class-validator','fullName','reaction','Image\x20converted\x20to\x20WebP','Unauthorized','leadInfo','Last\x20message\x20not\x20found','ButtonsMessage','leadInfo.desativadoFluxoAte','newStoppedUntil','setHeader','leadInfo.customFields','):\x20Flow\x20não\x20encontrado','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','.\x20Aguardando\x20antes\x20de\x20reconectar...','Instance\x20deleted','urlOrBase64','mongoose','groupValidate','https://uazapi-plugin.bubbleapps.io/','response','TEXT','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','/wa-message-update','getConversation','#9ba6ff','updateMissingLabels','CORS_ORIGIN','_Messages','DaysToDelete','ORG:','charAt','DEBUG','loadproxy','webhookService','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','getProfileName','updateMissingEtiquetas','Erro\x20ao\x20normalizar\x20a\x20mensagem:','sendMedia','CONECTADO\x20À\x20UAZAPI','licenca','isInteger','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','prepareMediaMessage','\x20adicionado\x20ao\x20chat\x20','jwt','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','CHATS_UPSERT','ON\x20-\x20dbName:\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','verifiedName','saveChatVariables','refused','desc','flow','Instance\x20Key\x20from\x20DB:','context','less','toDataURL','restartInstance','Revoke\x20error','automateSystem','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','buttonId','groupParticipantsUpdate','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','PRIVKEY','\x20não\x20encontrado\x20para\x20cópia','unknown\x20operation\x20type\x20[','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','jsonschema','groups.upsert','status@broadcast','removeProfilePicture','Database\x20is\x20not\x20enabled','pairingCode','etiquetas','groupAcceptInvite','hasOwnProperty','instances','readMessages','assign','url','reviver','connectedClient','request\x20received\x20in\x20getConversation','stopMinutesMaxActives','del','equal','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x20mensagens\x20de\x20','processingScheduleMessageId','findWebhook','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','fetchConversation','WA\x20MODULE','g-t','joinGroup','$addToSet','end',',\x20qrcodeCount:\x20','Group\x20not\x20found','No\x20participants','ListMessage','decryptPollVote','formatBRNumber','\x0a{\x20instance:\x20','certbot','goNextblock','\x1b[34m','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','vote','toArray','activatedCount','):\x20Ignoring\x20group\x20messages.','Parando\x20aplicação...','viewOnceMessage','updateOne','value','\x20não\x20encontrado\x20para\x20atualização.','\x0aitem','insertMany','QRCODE_UPDATED','optionDescription','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','jsonwebtoken','105076xgnruF','secondValue','262839ZWkFuy','Não\x20respondeu\x20com\x20a\x20enquete.','DATABASE',',\x20Comparador:\x20','limit','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Instance\x20restarted','allflows','getVariablesChat','whatsappNumber','group-participants.update','routerPath','CONNECTION','sendText','_Flows',',\x20fará\x20nova\x20verificação\x20em\x20','apiResponse',')\x20ENVIANDO\x20VIA\x20API\x20para\x20[','delaySecMax','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','substring','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','ContactModel','3284442KgRMeD','configService','/events/:instance','events','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','uazapiSendMedia','Parando\x20aplicação,\x20atualização\x20recebida','authorization','/media/','NextBlock','chatId','Temp\x20image\x20deleted','greater','):\x20Enviando\x20enquete','delayChatLabel','Erro\x20ao\x20editar\x20a\x20conversa:\x20','sendStatus','Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.','.ogg','atendimentoAberto','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','ip:\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','scheduleSendMedia','.mp4','composing','createConnection','ERROR','existsSync','resetReconnectionVariables','findGroup','MAX_RECONNECT_ATTEMPTS','map','SERVER_TYPE','isURL','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','remoteJid','\x20Tentativa\x20de\x20reconexão\x20','writeFileSync','getConversationModelForOwner','client','notMatchRegex','API_KEY','/wa-message','envYaml','sticker','video-cover.png','Rótulo\x20deletado:','connect','isJidGroup','error_log','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','getRandomText','load','join','Sistema\x20atualizado\x20com\x20sucesso!','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida',',\x20pairCode:\x20','flowConfig','groups','fetchMessages','splice','toFile','DARK','labels.association','dbClient','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20teve\x20mudanças\x20chat.name:\x20','\x0a*Você\x20respondeu*:\x0a','messageSecret','#d8e651',',\x20saindo.','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','onWhatsApp','processvaredits','\x20com\x20sucesso.','Instance\x20ID:','upsertedCount','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','groupMetadata','contactname','trimmed','USER','):\x20Criando\x20fluxo...','):\x20Buscando\x20conversas...','username','error\x20get\x20vote','values','replaceValue','Output\x20audio\x20path:\x20','email','findConversation','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','#9ab6c1','document','AUTHENTICATION_API_KEY','/chat','path','Not\x20is\x20business\x20profile','connectionState','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','menuType','findAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','REDIS_ENABLED','child_process','updateMediaMessage','apiName','):\x20Campos\x20a\x20serem\x20atualizados:','last_update','statusJidList','):\x20Criou\x20conversa\x20no\x20startFlow:','image','request\x20received\x20in\x20editFlowvariable','static','@newsletter','method','$dbName','Selecione','@whiskeysockets/baileys','):\x20Visualizando\x20AutomateSystem','request\x20received\x20in\x20starFlow','address','lastReceivedMessage','/create','Error\x20updating\x20profile\x20name','\x1b[34m%s\x1b[0m','https://api.openai.com/v1/images/generations','Type\x20is\x20required','SERVER_ACK','STORE_CHATS','buttons','#92ceac','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','font','blockId','format','waInstances','#64c4ff','editflowgroup','senderKeyDistributionMessage','.mp3','toBrazilianNumberFormat','Primeiro\x20Valor:\x20','shift','.xlsx','title','buttonText','stopped','groups_ignore','/wa-chats','flowStopConversation','Esse\x20fluxo\x20expirou','messageHandle','everyOne','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','ephemeralExpiration','localWebhook','fone','participant','.doc','scheduleNextCheck','sendMenu','ini','/wa-contacts','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','instanceCount','addBlock','firstValue','contacts','creds.update','Desconectado,\x20parando\x20execução.','editflowblock','messageTimestamp','CONTACTS_UPSERT','Error\x20updating\x20profile\x20status','mkdirSync','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Proxy\x20funcionando!','removed','forEach','preview','Not\x20Found','findLabels','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','findParticipants','getTime','generateWAMessageFromContent','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','bodyString','eventemitter2','waitingForReplyMenu','\x1b[44m','Getting\x20profile\x20with\x20jid:\x20','Erro\x20ao\x20editar\x20agentes:\x20','fetchProfile2','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','fetchProfilePicture','findGroups','/config','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','contact','Error\x20updating\x20setting','apikey','fileLength','):\x20newSecondValue\x20após\x20replaceVariables:','announce','qrcode','Font\x20is\x20required','findGroupInfos','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','lastSend','proto','<subdomain>','Type\x20defined\x20as\x20audio','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','replacer','groupFetchAllParticipating','findByIdAndUpdate','SERVER_OFFLINE','match','https://jsonip.com','MESSAGES_SET','AutomateSystem\x20não\x20foi\x20inicializado','\x20removido\x20do\x20chat\x20','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','warn','jid','updateChatWithMessage','#b4ebff','updateBlock','encoding','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','footerText','goToFlow','updateProfilePicturePrivacy','phoneNumber','updateMessage','.txt','Audio\x20is\x20base64','LOG_COLOR','message_normalized','put','MESSAGES_UPDATE','matchRegex','key','uazapi','connectToWhatsappController','DATABASE_CONNECTION_PASSWORD','wuid','messageContextInfo','scheduleMessage','envProcess','lastBlockId','conversation','RemoveChatLabel','Data\x20inválida\x20fornecida','ReplyOptions\x20finais\x20após\x20reordenação:','flushHeaders','model','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','deleteAll','removeChatLabel','profile','data:\x20','stopMinutes','Image\x20created','createNewConversation','/events','}}\x20->\x20valor\x20não\x20encontrado','Connection','getScheduleMessageModelForOwner','Fluxos\x20não\x20estão\x20ativados','filter','Audio\x20converted\x20to\x20mp4','createAndSave','sendAudio','instancias:\x20','):\x20delete\x20=\x20true','):\x20Bloco\x20original\x20para\x20cópia:\x20','The\x20property\x20cannot\x20be\x20empty','msgRetryCounterCache','Error\x20updating\x20message\x20status:','):\x20Entrou\x20na\x20função\x20goToFlow','isArray','statusMessage','groupUpdateSubject','/wa-connection-update','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','updateOnlinePrivacy','sendPresenceUpdate','Background\x20color\x20is\x20required','keep-alive','request\x20received\x20in\x20updateFlowConfig','authModel','Erro\x20ao\x20copiar\x20dados:','!stop','sendMessage','includes','dataValidate','imagechat','subjectTime','Fetching\x20business\x20profile','connectionUpdate','Flow\x20não\x20encontrado','error','Instância\x20não\x20encontrada.','All_Instances_Config','varedit','STATUS_INSTANCE','KEY','request\x20received\x20in\x20deleteFlow','findAndReplaceRegex','Erro\x20ao\x20inserir\x20chats:','deleteMessageForEveryone','validate','lastInteraction','express-async-errors','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','The\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','view\x20engine','Router','importChatsAntigo','Erro\x20ao\x20atualizar\x20o\x20fluxo:','release','pre','from','silent','profilePicture','chatModify','cleanStore','.docx','!cmd_','\x1b[47m','.png','getflow','saveMediaToFile','/wa-presence','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','http','bulkWrite','keys','reorderBlocks','labelId','CONTACTS_UPDATE','menuIgnoreNonVotes','agents','reorderReplyOptions','createJid','getClient','output','padEnd','PRESENCE_UPDATE','pollCreationMessage','notas','connectToWhatsapp',',\x20lastCondition:\x20','readMessage','CORS_METHODS','oldValue','entries','.jwt','):\x20Dados\x20migrados\x20com\x20sucesso','menuExpiredMessage','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','/group','pollUpdateMessage','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','pollCreationMessageV3','nome','updateFlowConfig','messages','query','):\x20Ler\x20mensagem','2852880lkovQE','):\x20Enviando\x20contato','sectionsToString','request\x20received\x20in\x20editFlowgroup','Error\x20creating\x20group','archive','updatePrivacySettings','contact_blacklist','Error\x20in\x20scheduleNextCheck:\x20','urlencoded','):\x20Procurando\x20conversa','object','Error\x20updating\x20participants','DELETED','replaceVariables','toBRL','port','Log\x20out\x20instance:\x20','when','success','findChats','\x1b[46m','nextBlock:','redirect','label_jid','\x20-y','getLabelModelForOwner','getMessageModelForOwner','statSync','__esModule','type','toLocaleString','connectionStatus','arraybuffer','loadInstance','toLowerCase','sem\x20texto\x20na\x20mensagem','headers','audioMessage','PASSWORD','inner','cache','--standalone','imported','groupSetting','pollMessage','poll','base64','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','updateMissingTags','\x20não\x20encontrado','connection.update','audio/mp4','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','markMessageAsRead','isRunning','createServer','apirequest','remove','):\x20debug\x20alterando\x20this.AutomateSystem','reactionMessage','Label\x20','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Hash\x20to\x20image\x20name:\x20','request\x20received\x20in\x20fetchConversation','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','):\x20conversation.lastInteraction:\x20','linkPreview','qrcode.updated','\x20foi\x20interrompido\x20pelo\x20usuário.','delayChatLabel_RETRY_DELAY_MS','enumerable','https://api.openai.com/v1/audio/speech','Sending\x20audio\x20whatsapp','\x22,\x20valor\x20a\x20substituir:\x20\x22','no.connection','videoMessage','Error\x20change\x20group\x20description','mongodb','setContext','Proxy\x20falhou.\x20Tentando\x20o\x20próximo...','chats.update','rm\x20-rf\x20','sendReaction','https://chat.whatsapp.com/','):\x20Bloco\x20com\x20ID\x20','get','some','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','uazapiSendContact','Configuração\x20do\x20ip:','Erro\x20ao\x20editar\x20o\x20chat:\x20','exec','ChatModel','findIndex','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','sections','/exit','open','replyOption','AUTHENTICATION','uazapiDeleteMessage','birthtime','setRestartTimer','):\x20Limpando\x20delayMessage','Bloco\x20com\x20ID\x20','/wa-qrcode','formatVCard','/instance/fetchInstances','cpf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20Flow\x20desativado','group\x20ignored','Content\x20is\x20required','audioWhatsapp','Error\x20occurred\x20while\x20archiving\x20chat:\x20','connectionClosed','testProxy','8080','Invalid\x20format','\x20horas\x20e\x20','verify','longitude','editFlowVaredit','sign','viewOnceMessageV2','chatHandle','apply','deleteOne','instance','name','editflowcondition','checkAndUpdateChatStatus','Conexão\x20estabelecida','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','getChatModelForOwner','deleteConversation','messagesSend','editFlowReply','Erro\x20ao\x20remover\x20instâncias\x20antigas:','reconnectAttempts','presence.update','):\x20updateResult:','findGroupInfo','sending','saveTextReply','Not\x20allowed\x20by\x20CORS','):\x20Conversa\x20está\x20expirada','fetchLatestBaileysVersion','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','FlowRouter','boolean','flowIgnoreGroups','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','documentWithCaptionMessage','Image\x20path:\x20','quoted','Erro\x20ao\x20atualizar\x20o\x20flow.','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','request\x20received\x20in\x20deleteDoneMessages','app','restart','@broadcast','chats.set','store','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','saveVariable','50mb','lean','EXPIRIN_IN','certonly','prototype','variablesToObject','COLOR','Comando\x20desconhecido','getMessage','role','CHATS_UPDATE',',\x20resultado:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Error\x20updating\x20privacy\x20settings','add','redis://127.0.0.1:6379','Read\x20messages','pollCreationMessageV2','where','delayChatLabel_MAX_RETRIES','convertaudio','updateProfileName','):\x20Falha\x20ao\x20deletar\x20mensagem.','readreceipts','Failed\x20to\x20find\x20chat\x20','\x1b[30m%s\x1b[0m','rowId','API\x20Key\x20inválida.','Resultado\x20da\x20atualização:','SSL_CONF_PRIVKEY','Erro\x20de\x20reinicialização:\x20','copyBlock','replaceVariablesInReplyOptions','out','promote','DELIVERY_ACK','sendContact','Fluxo\x20não\x20encontrado','createConversationforStartFlow','stateConnection','CREDENTIALS','save','lastMessage','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','messageType','Internal\x20Server\x20Error','AppStateSyncKeyData','request\x20received\x20in\x20editConversation','):\x20isVote:\x20','updateConversation','labels.edit','#ff9484','notContains','getDelay','execSync','\x20\x1b[0m','text/event-stream','updateProfileStatus','changeVariables','archiveChat','#6f7bcf','sha256','compression','uuid','updateProfilePicture','redisEnv','jpegThumbnail','flowName','minutesToClose','string','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','env.yml','password','loadWebhook','):\x20Conversas\x20encontradas:','throwAndLogError','Rótulo\x20inválido\x20ou\x20sem\x20ID.','deleteInstance','request\x20received\x20in\x20scheduleMessage','LOG_LEVEL','displayName','menuMessage','getBusinessProfile','fetchStatus','Erro\x20ao\x20remover\x20label\x20','SINGLE_SELECT','getOwnPropertyDescriptor','PORT','?timestamp=','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','delayMessage','HeaderType','OrAnd','FULLCHAIN','sendButtons','sendPoll','fetchBusinessProfile','updateStopChat','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','ex:\x20\x22groupJid=120362@g.us\x22','https://api.ipify.org?format=json','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Temp\x20audio\x20created','start','size','This\x20name\x20','reference','readFileSync','realVariables','label','applyvaredit','createInstance','json','errors','Erro\x20ao\x20adicionar\x20label\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','cwd','getStatus','uazapiSendMenu','updateOneById','allContacts','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','selectableCount','finish','evaluateCondition','AutomateFunctions','REDIS','updateMany','repeat','textMessage','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','webhook','Operador:\x20\x22','downloadMediaMessage','\x1b[30m','findByIdAndDelete','CHATS_DELETE','MESSAGES_UPSERT','drop','not_announcement','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Erro\x20ao\x20deletar\x20chat:','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','mediaKey','ephemeralMessage','stoppedUntil','VERBOSE','fileName','close','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','\x20}\x0a','getFlow','addresss','TYPE','timerId','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','STORE_MESSAGE','https://github.com/uazapi/uazapi.git','log','createConversationforgoToFlow','Cannot\x20','default','sendList','ENABLED','createFlow','Profile\x20not\x20found','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','console','variable','The\x20\x22','ObjectId','use','fetchInstances','removeOlderDisconnectedInstances','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','READ','Valor\x20inicial:\x20\x22','waUploadToServer','DATABASE_CONNECTION_DB_PREFIX_NAME','PROXY','Error\x20fetching\x20group','URL:','pt-BR','FlowModel','getOwnPropertyNames','\x1b[33m%s\x1b[0m','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','logout','dbInstance','conditions','integer','privacySettings','getPrototypeOf','endsWith','originalUrl','downloads','env.KEY\x20!==\x20key','buffer','Temp\x20audio\x20path:\x20','_id','getContactModelForOwner','presenceSubscribe','unhandledRejection','):\x20Error\x20processing\x20the\x20block:\x20','variables','):\x20Comando\x20desconhecido:\x20','option','Chat\x20','#01d0e2','onTime','DATABASE_CONNECTION_USER','Archiving\x20chat','Converted\x20audio\x20deleted','flowConversation','ListType','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','redis','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','no-cache','indexOf','getFlowModelForOwner','ids','push','metadata','):\x20Enviando\x20texto','editflowreply','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','post','binary','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','request\x20received\x20in\x20createFlow','#83e421','waitingMenu_replyOptions','notify','updateAll','#dfaef0','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','#f64847','groupId','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Instance\x20logged\x20out','\x20contacts','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):(','defineProperty','^\x5cd+','sendLocation','getScheduleMessage','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','unavailable','toString','\x1b[32m%s\x1b[0m','):\x20Enviando\x20áudio','flowPrefixCommand','Output\x20path:\x20','initAuthCreds','normalizeMessage','/*.json','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','uazapiSendLocation','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','getBase64FromMediaMessage','ScheduleMessageModel','parse','request\x20received\x20in\x20updateAgent','audio','SEND_MESSAGE','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','#00a1f2','editflowvariable','deleteMessage','none','pollOnReplyDelete','eventEmitter','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','\x22reaction\x22\x20must\x20be\x20an\x20emoji','contacts.update','#000000','expression','messages.set','setting','editFlowVariable','.pptx','insertCount','inviteCode','):\x20Buscando\x20todos\x20os\x20fluxos...','generateHash','Atualização:\x20','createWebhook','SendScheduleMessage','SECRET','closeExistingConversations','contactHandle','updatePresence','--agree-tos','Variáveis\x20não\x20encontradas:','):\x20leadInfoVariables','optionName',',\x20Segundo\x20Valor:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','processPollUpdateMessage','messaging-history.set','status.instance','fetchProfile','\x1b[0m','INFO','DATABASE_CONNECTION_HOST','\x1b[41m','CLEANING_INTERVAL','SSL_CONF_FULLCHAIN','PREFIX_KEY','groupJid','getAutomateSystem','floor','paused','):\x20alterando\x20this.AutomateSystem','AddChatLabel','editedMessage','latitude','storePath','Mensagem\x20não\x20suportada','Audio\x20is\x20url','Erro\x20ao\x20atualizar\x20conversa:\x20','convertToWebP','isListOfNumbers','readMessageBot','Error\x20fetching\x20and\x20updating\x20profile:\x20','moreLogs','No\x20invite\x20code','365130YoUMhv','groupDesc','Resposta\x20do\x20Teste\x20do\x20Proxy:','stringify','video','createSectionsFromValues','currency','createGroup','-----------------proxyUri---------------------','ChatRouter','findContacts','createClient','text','trim','):\x20teve\x20mudanças\x20chat.displayName:\x20','hbs','auth','groups.update','fetchPrivacySettings','logger','):\x20conversation.status:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','organization','augusto.fcs@gmail.com','removeData','ignoreGroups','find','GROUP_PARTICIPANTS_UPDATE','revokeInviteCode','/instance/connectionState'];a0_0x38da=function(){return _0x460793;};return a0_0x38da();}function a0_0xd411(_0x434977,_0x306e2e){const _0x38dae7=a0_0x38da();return a0_0xd411=function(_0xd4113f,_0x51019f){_0xd4113f=_0xd4113f-0xbe;let _0xf1d6f7=_0x38dae7[_0xd4113f];return _0xf1d6f7;},a0_0xd411(_0x434977,_0x306e2e);}var Uo=new De['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0x3146da(0x1c8))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x327f6e=>{const _0x7e4f6f=a0_0x3146da;let _0x3c2817='z_'+_0x327f6e+_0x7e4f6f(0x120);return N?.[_0x7e4f6f(0x423)](_0x7e4f6f(0x4f5),Vo,_0x3c2817);},Js=require(a0_0x3146da(0x292)),Bo=new Js[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x2dba02=>{const _0x46ddc8=a0_0x3146da;let _0xd67691='z_'+_0x2dba02+_0x46ddc8(0x18a);return N?.[_0x46ddc8(0x423)](_0x46ddc8(0x31a),Bo,_0xd67691);},Bs=require(a0_0x3146da(0x292)),Go=new Bs[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x53a27a=>{const _0x117ce2=a0_0x3146da;let _0x73582e='z_'+_0x53a27a+_0x117ce2(0x29d);return N?.[_0x117ce2(0x423)]('MessageModel',Go,_0x73582e);},Ws=require('mongoose'),os=class{},Wo=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0x3146da(0x423)](os[a0_0x3146da(0x51a)],Wo,'authentication'),Hs=require('mongoose'),rs=class{},Ks=new Hs[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks['pre']('save',function(_0x31ae19){const _0x3aadd3=a0_0x3146da;delete this['flowActive'],delete this[_0x3aadd3(0x530)],delete this[_0x3aadd3(0x640)],delete this[_0x3aadd3(0x3b4)],delete this['flowStopMinutes'],_0x31ae19();});var Qs=N?.['model'](rs['name'],Ks,a0_0x3146da(0x5c4)),_=require('mongoose'),_e=class{},Ys=new _[(a0_0x3146da(0x1c8))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x3146da(0x1c8))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _[(a0_0x3146da(0x1c8))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x3146da(0x155)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x3146da(0x393)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x3146da(0x3b5)},'pollErrorMessage':{'type':String,'default':a0_0x3146da(0x440)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0x3146da(0x1c8))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x3146da(0x1c8))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _[(a0_0x3146da(0x1c8))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x3146da(0x1c8))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x143380=a0_0x3146da;return _0x143380(0x46d)+Math[_0x143380(0x110)]()[_0x143380(0x63d)](0x24)[_0x143380(0xf3)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0x3146da(0x466)](a0_0x3146da(0x568),function(_0x572158){const _0xf4803d=a0_0x3146da;let _0x1c0576=new Set(),_0x2c81b9=new Set(this[_0xf4803d(0x60f)]?.[_0xf4803d(0x33c)](_0x47460c=>_0x47460c['name'])),_0x571df5=JSON[_0xf4803d(0x692)](this),_0x5db899=/{{(?!_)([^}]*)}}/g,_0x5a6888;for(;(_0x5a6888=_0x5db899['exec'](_0x571df5))!==null;)_0x2c81b9[_0xf4803d(0x725)](_0x5a6888[0x1])||_0x1c0576[_0xf4803d(0x54d)](_0x5a6888[0x1]);_0x1c0576[_0xf4803d(0x5a8)]>0x0?(console[_0xf4803d(0x402)](_0xf4803d(0x66c),Array['from'](_0x1c0576)),this[_0xf4803d(0x189)]=Array['from'](_0x1c0576)):this[_0xf4803d(0x189)]=[],_0x572158();});var ta=_0x1e595e=>{const _0xf6661a=a0_0x3146da;let _0x5c0180='z_'+_0x1e595e+_0xf6661a(0x312);return N?.['model'](_0xf6661a(0x5fa),ps,_0x5c0180);},sa=N?.[a0_0x3146da(0x423)](ns[a0_0x3146da(0x51a)],ps,'flow'),Qo=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x3146da(0x4fa)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x3146da(0x3b5)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x5c6e66=>{const _0xd714f0=a0_0x3146da;let _0x5175d3='z_'+_0x5c6e66+_0xd714f0(0xc9);return N?.['model'](_0xd714f0(0x20f),aa,_0x5175d3);},ra=N?.[a0_0x3146da(0x423)](cs['name'],aa,a0_0x3146da(0x618)),ls=class{},Yo=new _[(a0_0x3146da(0x1c8))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _[(a0_0x3146da(0x1c8))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0x3146da(0x1c8))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x3146da(0x6fd)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x22d1f8=>{const _0x1ca7ad=a0_0x3146da;let _0x3a7cdb='z_'+_0x22d1f8+'_ScheduleMessages';return N?.[_0x1ca7ad(0x423)](_0x1ca7ad(0x64b),ia,_0x3a7cdb);},ca=N?.[a0_0x3146da(0x423)](ls['name'],ia,a0_0x3146da(0x19b)),us=class{},Zo=new _[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x3146da(0x448)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0x3146da(0x423)](us[a0_0x3146da(0x51a)],sr,a0_0x3146da(0x15d)),la=require(a0_0x3146da(0x292)),ar=new la['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x3ef5cd=>{const _0x426070=a0_0x3146da;let _0x32dc44='z_'+_0x3ef5cd+_0x426070(0x27f);return N?.['model']('LabelModel',ar,_0x32dc44);},I=class{constructor(_0x1acea1){const _0x11b9f5=a0_0x3146da;this[_0x11b9f5(0x6e4)]=_0x1acea1['get']('DATABASE');}};function A(_0x10e431){const _0x30aea2=a0_0x3146da;let _0x27b5f8={};for(let [_0x50b749,_0x5fc964]of Object['entries'](_0x10e431))if(typeof _0x5fc964==_0x30aea2(0x4a2)&&!Array[_0x30aea2(0x43c)](_0x5fc964)){for(let [_0x1e30b6,_0x313228]of Object[_0x30aea2(0x489)](_0x5fc964))_0x27b5f8[_0x50b749+'.'+_0x1e30b6]=_0x313228;}else _0x27b5f8[_0x50b749]=_0x5fc964;return _0x27b5f8;}var $e=class{constructor(_0x2966fa,_0x1509a8,_0x266315,_0x4349c4,_0x19a1ab,_0x4ad66b,_0x168059,_0x247a21,_0x500e67,_0x80f57f,_0x174c1f){const _0x3ae0b1=a0_0x3146da;this['message']=_0x2966fa,this['chat']=_0x1509a8,this[_0x3ae0b1(0x3e9)]=_0x266315,this['webhook']=_0x4349c4,this[_0x3ae0b1(0x69f)]=_0x19a1ab,this[_0x3ae0b1(0x2b8)]=_0x4ad66b,this[_0x3ae0b1(0x618)]=_0x168059,this[_0x3ae0b1(0x5ad)]=_0x247a21,this[_0x3ae0b1(0x41b)]=_0x500e67,this[_0x3ae0b1(0x2bf)]=_0x80f57f,this[_0x3ae0b1(0x35e)]=_0x174c1f;}get[a0_0x3146da(0x111)](){const _0x23a15a=a0_0x3146da;return this[_0x23a15a(0x35e)];}},ke=class{},Le=class extends I{['getMessageModelForOwner'](_0x24163d){return Gs(_0x24163d);}async[a0_0x3146da(0x72a)](_0x3160db,_0x5540d7){const _0x452401=a0_0x3146da;if(_0x3160db[_0x452401(0x148)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x452401(0x4b2)](_0x5540d7)['insertMany']([..._0x3160db]))['length']};}catch(_0x396123){return _0x396123;}}async[a0_0x3146da(0x6a9)](_0x4506b2,_0x137190){const _0x498508=a0_0x3146da;try{let _0x14257f=this[_0x498508(0x4b2)](_0x137190),_0xe247df=A(_0x4506b2[_0x498508(0x551)]);return await _0x14257f[_0x498508(0x6a9)](_0xe247df)[_0x498508(0xcb)]({'messageTimestamp':-0x1})['limit'](_0x4506b2?.[_0x498508(0x308)]??0x0)[_0x498508(0x540)]();}catch{return[];}}async[a0_0x3146da(0x6cf)](_0x4b05c3,_0x36a326){const _0x45d8a2=a0_0x3146da;try{let _0x31dcb2=this[_0x45d8a2(0x4b2)](_0x36a326),_0x312695=A(_0x4b05c3[_0x45d8a2(0x551)]);await _0x31dcb2[_0x45d8a2(0x1db)](_0x312695);}catch(_0x43e2a3){console['error'](_0x43e2a3);}}async[a0_0x3146da(0x118)](_0x4c29e6,_0x52886a,_0xd255e0){const _0x506da3=a0_0x3146da;try{let _0x92324=this[_0x506da3(0x4b2)](_0xd255e0),_0x48718f=A(_0x4c29e6[_0x506da3(0x551)]);return await _0x92324['findOneAndUpdate'](_0x48718f,{'$set':_0x52886a},{'new':!0x0});}catch(_0x463766){throw console[_0x506da3(0x451)](_0x463766),_0x463766;}}async[a0_0x3146da(0x2fc)](_0x1040ad,_0x588cde){const _0xa93ddc=a0_0x3146da;if(_0x1040ad[_0xa93ddc(0x148)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xa93ddc(0x4b2)](_0x588cde)[_0xa93ddc(0x2fc)]([..._0x1040ad]))['length']};}catch(_0x1c8df6){return console['log']('ERROR:\x20',_0x1c8df6),_0x1c8df6;}}async[a0_0x3146da(0x425)](_0x4cd686){const _0x928e98=a0_0x3146da;try{return await this[_0x928e98(0x4b2)](_0x4cd686)[_0x928e98(0x25f)]['drop'](),{'success':!0x0};}catch(_0x76a47){return console[_0x928e98(0x451)](_0x76a47),{'success':!0x1,'error':_0x76a47};}}},wo=R(require(a0_0x3146da(0x1b8))),y=R(require(a0_0x3146da(0x394))),ve=require('fs'),F=R(require(a0_0x3146da(0x37e))),se=R(require(a0_0x3146da(0x6f4))),yo=require(a0_0x3146da(0x57e)),bo=R(require('qrcode')),So=R(require(a0_0x3146da(0xca))),da=[a0_0x3146da(0x14d),'documentMessage',a0_0x3146da(0x4bd),a0_0x3146da(0x4e3),a0_0x3146da(0x729)],pa=['ephemeralMessage',a0_0x3146da(0x532),a0_0x3146da(0x2f7),a0_0x3146da(0x515)],Ss=require('os'),Ot=R(require('pino')),_t=require(a0_0x3146da(0x386)),It=require(a0_0x3146da(0x731)),ie=R(require(a0_0x3146da(0x292))),k=require('class-validator'),me=class{constructor(_0x1d08e5,_0xe6099e,_0x4a1dc2){const _0x1c1de1=a0_0x3146da;this[_0x1c1de1(0x403)]=_0x1d08e5,this[_0x1c1de1(0x203)]=_0xe6099e,this[_0x1c1de1(0x51a)]=_0x4a1dc2;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x3146da(0x136))),ha=require('fs'),ga=require(a0_0x3146da(0x37e));async function We(_0xc9ea4c){const _0x4bc9c6=a0_0x3146da;let _0x4c85c9=B[_0x4bc9c6(0x3a6)][_0xc9ea4c];if(V[_0x4bc9c6(0x5e5)]){let _0x2b7a00=N[_0x4bc9c6(0x47e)]()['db'](V['CONNECTION'][_0x4bc9c6(0x197)]+_0x4bc9c6(0x71f))[_0x4bc9c6(0x25f)](_0xc9ea4c);return _0x4c85c9||(await _0x2b7a00['find']({})[_0x4bc9c6(0x2f3)]())['length']>0x0;}return _0x4c85c9||(0x0,ha['existsSync'])((0x0,ga[_0x4bc9c6(0x353)])(ge,_0xc9ea4c));}async function ma(_0x261765,_0x40cc61,_0x25dfa9){const _0x5b8aef=a0_0x3146da;if(_0x261765[_0x5b8aef(0x605)][_0x5b8aef(0x44a)](_0x5b8aef(0xc2))||_0x261765['originalUrl'][_0x5b8aef(0x44a)](_0x5b8aef(0x504))||_0x261765[_0x5b8aef(0x605)][_0x5b8aef(0x44a)](_0x5b8aef(0x4f9))||_0x261765[_0x5b8aef(0x605)]['includes'](_0x5b8aef(0x3e5))||_0x261765[_0x5b8aef(0x605)][_0x5b8aef(0x44a)](_0x5b8aef(0x719))||_0x261765[_0x5b8aef(0x605)][_0x5b8aef(0x44a)](_0x5b8aef(0x6ac))||_0x261765[_0x5b8aef(0x605)]['includes'](_0x5b8aef(0xfd)))return _0x25dfa9();let _0x1d954c=_0x261765['params'];if(!_0x1d954c?.[_0x5b8aef(0x1ec)])throw new m(_0x5b8aef(0x15c));if(!await We(_0x1d954c[_0x5b8aef(0x1ec)]))throw new j(_0x5b8aef(0x45f)+_0x1d954c[_0x5b8aef(0x1ec)]+_0x5b8aef(0x1de));_0x25dfa9();}async function fa(_0x1fc7ec,_0x711327,_0x3ac808){const _0x24cd3c=a0_0x3146da;if(_0x1fc7ec[_0x24cd3c(0x605)][_0x24cd3c(0x44a)](_0x24cd3c(0xc2))){let _0x593b99=_0x1fc7ec[_0x24cd3c(0x15f)];if(await We(_0x593b99[_0x24cd3c(0x1ec)]))throw new K(_0x24cd3c(0x5a9)+_0x593b99[_0x24cd3c(0x1ec)]+'\x20is\x20already\x20in\x20use.');B[_0x24cd3c(0x3a6)][_0x593b99[_0x24cd3c(0x1ec)]]&&delete B[_0x24cd3c(0x3a6)][_0x593b99[_0x24cd3c(0x1ec)]];}_0x3ac808();}var wa=require(a0_0x3146da(0x281)),ya=R(require(a0_0x3146da(0x301))),ze=a0_0x3146da(0x416),rr=new v(a0_0x3146da(0x211));async function ir(_0x27a6f6,_0x2239e2,_0xc5b0f7){const _0x2e14e3=a0_0x3146da;let _0x1d014c=_0x27a6f6[_0x2e14e3(0x4ed)]('apikey');if(_0x1d014c&&b[_0x2e14e3(0x4ed)](_0x2e14e3(0x4fc))[_0x2e14e3(0x346)][_0x2e14e3(0x456)]!==_0x1d014c)throw new ee();if(b[_0x2e14e3(0x4ed)](_0x2e14e3(0x4fc))[_0x2e14e3(0x346)][_0x2e14e3(0x456)]===_0x1d014c)return _0xc5b0f7();if((_0x27a6f6[_0x2e14e3(0x605)][_0x2e14e3(0x44a)](_0x2e14e3(0xc2))||_0x27a6f6[_0x2e14e3(0x605)][_0x2e14e3(0x44a)](_0x2e14e3(0x504)))&&!_0x1d014c)throw new K(_0x2e14e3(0x1eb),_0x2e14e3(0x243));let _0x2cef14=b[_0x2e14e3(0x4ed)](_0x2e14e3(0x4fc))[_0x2e14e3(0x263)];try{let [_0x37628e,_0xbac5aa]=_0x27a6f6[_0x2e14e3(0x4ed)](_0x2e14e3(0x322))[_0x2e14e3(0x72c)]('\x20');if(_0x37628e[_0x2e14e3(0x4ba)]()!=='bearer')throw new ee();if(!(0x0,wa['isJWT'])(_0xbac5aa))throw new ee();let _0x179d1c=_0x27a6f6[_0x2e14e3(0x181)],_0x41f959=ya[_0x2e14e3(0x5e3)][_0x2e14e3(0x511)](_0xbac5aa,_0x2cef14[_0x2e14e3(0x667)],{'ignoreExpiration':_0x2cef14['EXPIRIN_IN']===0x0});if(_0x179d1c[_0x2e14e3(0x1ec)]!==_0x41f959[_0x2e14e3(0x1ec)]||ze!==_0x41f959[_0x2e14e3(0x388)])throw new ee();return _0xc5b0f7();}catch(_0x55afc1){throw rr[_0x2e14e3(0x451)](_0x55afc1),new ee();}}async function nr(_0x428cc4,_0x10f42b,_0x3a8b72){const _0x208c42=a0_0x3146da;let _0x5eab13=b[_0x208c42(0x4ed)](_0x208c42(0x4fc))['API_KEY'],_0x2e016e=_0x428cc4[_0x208c42(0x4ed)]('apikey');if(_0x5eab13[_0x208c42(0x456)]===_0x2e016e)return _0x3a8b72();if(_0x428cc4['originalUrl'][_0x208c42(0x44a)]('/instance/create')){let _0x35cc56=He,_0x4bc952=_0x428cc4[_0x208c42(0x15f)][_0x208c42(0x1ec)];if(_0x35cc56&&_0x4bc952[_0x208c42(0x4ba)]()['startsWith'](_0x35cc56[_0x208c42(0x4ba)]()))return _0x3a8b72();if(!_0x2e016e)throw new K(_0x208c42(0x1eb),_0x208c42(0x243));}if(_0x428cc4['originalUrl'][_0x208c42(0x44a)]('/instance/fetchInstances')&&!_0x2e016e)throw new K(_0x208c42(0x1eb),_0x208c42(0x243));if(_0x428cc4[_0x208c42(0x605)][_0x208c42(0x44a)](_0x208c42(0x4f9))&&!_0x2e016e)throw new K('Missing\x20global\x20api\x20key',_0x208c42(0x243));if(_0x428cc4[_0x208c42(0x605)][_0x208c42(0x44a)]('/config')&&!_0x2e016e)throw new K(_0x208c42(0x1eb),_0x208c42(0x243));try{let _0x3cad08=_0x428cc4['params'];if((await ce[_0x208c42(0x69f)][_0x208c42(0x6a9)](_0x3cad08[_0x208c42(0x1ec)]))[_0x208c42(0x3eb)]===_0x2e016e)return _0x3a8b72();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0x3146da(0x136)),C=require(a0_0x3146da(0x57e)),S=(..._0x3977f0)=>{const _0x6073c5=a0_0x3146da;let _0x3389d1={};return _0x3977f0['forEach'](_0x2c0213=>_0x3389d1[_0x2c0213]={'minLength':0x1,'description':_0x6073c5(0x5eb)+_0x2c0213+_0x6073c5(0x1d8)}),{'if':{'propertyNames':{'enum':[..._0x3977f0]}},'then':{'properties':_0x3389d1}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'instanceName':{'type':a0_0x3146da(0x584)}},...S(a0_0x3146da(0x1ec))},Hn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x3146da(0x584)}},'required':['oldToken'],...S(a0_0x3146da(0x172))},Kn={'properties':{'key':{'type':a0_0x3146da(0x4a2),'properties':{'id':{'type':a0_0x3146da(0x584)},'remoteJid':{'type':a0_0x3146da(0x584)},'fromMe':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3146da(0x340),a0_0x3146da(0x1ef)],...S('id','remoteJid')},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x3146da(0x601),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':[a0_0x3146da(0x63c),'available',a0_0x3146da(0x335),a0_0x3146da(0x20c),a0_0x3146da(0x680)]}}},z={'type':a0_0x3146da(0x584),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x3146da(0x50f)},Sa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x3146da(0x4a2),'properties':{'text':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x69b)],...S(a0_0x3146da(0x69b))}},'required':[a0_0x3146da(0x5c2),'number']},Ea={'type':a0_0x3146da(0x584),'pattern':a0_0x3146da(0x23d),'description':a0_0x3146da(0x50f)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x3146da(0x4a2),'properties':{'text':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x69b)],...S(a0_0x3146da(0x69b))}},'required':[a0_0x3146da(0x5c2),a0_0x3146da(0x6e7)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x3146da(0x4a2),'properties':{'mediatype':{'type':a0_0x3146da(0x584),'enum':['image','document','video',a0_0x3146da(0x64e)]},'media':{'type':a0_0x3146da(0x584)},'fileName':{'type':'string'},'caption':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x1d3),'media'],...S('fileName',a0_0x3146da(0x71b),a0_0x3146da(0x18f))}},'required':[a0_0x3146da(0x180),'number']},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x3146da(0x4a2),'properties':{'image':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x38d)],...S(a0_0x3146da(0x38d))}},'required':[a0_0x3146da(0x729),'number']},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'statusMessage':{'type':a0_0x3146da(0x4a2),'properties':{'type':{'type':a0_0x3146da(0x584),'enum':['text',a0_0x3146da(0x38d),a0_0x3146da(0x64e),'video']},'content':{'type':a0_0x3146da(0x584)},'caption':{'type':a0_0x3146da(0x584)},'backgroundColor':{'type':a0_0x3146da(0x584)},'font':{'type':a0_0x3146da(0x601),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x3146da(0x1a4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x3146da(0x638),'description':a0_0x3146da(0x3da)}},'allContacts':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}},'required':['type','content'],...S(a0_0x3146da(0x4b5),a0_0x3146da(0xde))}},'required':[a0_0x3146da(0x43d)]},va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x3146da(0x584),'enum':['image',a0_0x3146da(0x37b),'video',a0_0x3146da(0x64e)]},'media':{'type':a0_0x3146da(0x584)},'fileName':{'type':'string'},'caption':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x1d3),'media'],...S(a0_0x3146da(0x5d5),a0_0x3146da(0x71b),a0_0x3146da(0x18f))}},'required':[a0_0x3146da(0x180),a0_0x3146da(0x6e7)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x3146da(0x4a2),'properties':{'audio':{'type':'string'}},'required':[a0_0x3146da(0x64e)],...S(a0_0x3146da(0x64e))}},'required':[a0_0x3146da(0x4bd),'number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...z},'pollMessage':{'type':a0_0x3146da(0x4a2),'properties':{'name':{'type':a0_0x3146da(0x584)},'selectableCount':{'type':a0_0x3146da(0x6e7)},'values':{'type':a0_0x3146da(0x1a4),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3146da(0x51a),'selectableCount',a0_0x3146da(0x374)],...S(a0_0x3146da(0x51a),a0_0x3146da(0x5bb),a0_0x3146da(0x374))}},'required':[a0_0x3146da(0x6e7),a0_0x3146da(0x4c4)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...z},'menuMessage':{'type':a0_0x3146da(0x4a2),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x3146da(0x1a4),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3146da(0x69b),a0_0x3146da(0x12e)],...S(a0_0x3146da(0x69b),a0_0x3146da(0x12e))}},'required':[a0_0x3146da(0x6e7),a0_0x3146da(0x591)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x3146da(0x584)},'description':{'type':'string'},'footerText':{'type':a0_0x3146da(0x584)},'buttons':{'type':a0_0x3146da(0x1a4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3146da(0x4a2),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x3146da(0x3b0),a0_0x3146da(0x2c1)],...S(a0_0x3146da(0x3b0),a0_0x3146da(0x2c1))}},'mediaMessage':{'type':a0_0x3146da(0x4a2),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x3146da(0x584)},'mediatype':{'type':a0_0x3146da(0x584),'enum':[a0_0x3146da(0x38d),a0_0x3146da(0x37b),a0_0x3146da(0x693)]}},'required':['media',a0_0x3146da(0x1d3)],...S(a0_0x3146da(0x18f),'fileName')}},'required':[a0_0x3146da(0x3af),a0_0x3146da(0x3a0)],...S('title',a0_0x3146da(0x25e))}},'required':['number',a0_0x3146da(0xf2)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x3146da(0x4a2),'properties':{'latitude':{'type':a0_0x3146da(0x6e7)},'longitude':{'type':a0_0x3146da(0x6e7)},'name':{'type':a0_0x3146da(0x584)},'address':{'type':'string'}},'required':[a0_0x3146da(0x684),a0_0x3146da(0x512)],...S(a0_0x3146da(0x51a),a0_0x3146da(0x5da))}},'required':['number',a0_0x3146da(0x160)]},Ia={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x3146da(0x584)},'description':{'type':a0_0x3146da(0x584)},'footerText':{'type':a0_0x3146da(0x584)},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x3146da(0x584)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3146da(0x4a2),'properties':{'title':{'type':a0_0x3146da(0x584)},'description':{'type':'string'},'rowId':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x3af),'rowId'],...S(a0_0x3146da(0x3af),a0_0x3146da(0x559))}}},'required':[a0_0x3146da(0x3af),'rows'],...S('title')}}},'required':[a0_0x3146da(0x3af),'description',a0_0x3146da(0x3b0),a0_0x3146da(0x4f8)],...S(a0_0x3146da(0x3af),'description',a0_0x3146da(0x3b0),'footerText')}},'required':[a0_0x3146da(0x6e7),'listMessage']},xa={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x3146da(0x1a4),'items':{'type':a0_0x3146da(0x4a2),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x3146da(0x584),'minLength':0xa}},'required':['fullName',a0_0x3146da(0x40c)],...S(a0_0x3146da(0x282))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x3146da(0x584)},'remoteJid':{'type':a0_0x3146da(0x584)},'fromMe':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3146da(0x340),a0_0x3146da(0x1ef)],...S('id',a0_0x3146da(0x340))},'reaction':{'type':a0_0x3146da(0x584)}},'required':['key',a0_0x3146da(0x283)],...S(a0_0x3146da(0x283))}},'required':['reactionMessage']},_a={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'numbers':{'type':a0_0x3146da(0x1a4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3146da(0x584),'pattern':a0_0x3146da(0x638),'description':a0_0x3146da(0x70c)}}}},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x3146da(0x1a4),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3146da(0x584)}},'required':['id',a0_0x3146da(0x1ef),a0_0x3146da(0x340)],...S('id',a0_0x3146da(0x340))}}},'required':[a0_0x3146da(0x2d2)]},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x3146da(0x584),'enum':[a0_0x3146da(0x182),a0_0x3146da(0x654)]},'profile':{'type':a0_0x3146da(0x584),'enum':['all',a0_0x3146da(0x3c7),a0_0x3146da(0x49e),a0_0x3146da(0x654)]},'status':{'type':a0_0x3146da(0x584),'enum':[a0_0x3146da(0x182),a0_0x3146da(0x3c7),a0_0x3146da(0x49e),'none']},'online':{'type':a0_0x3146da(0x584),'enum':[a0_0x3146da(0x182),'match_last_seen']},'last':{'type':a0_0x3146da(0x584),'enum':['all',a0_0x3146da(0x3c7),'contact_blacklist',a0_0x3146da(0x654)]},'groupadd':{'type':'string','enum':[a0_0x3146da(0x182),a0_0x3146da(0x3c7),a0_0x3146da(0x49e),'none']}},'required':[a0_0x3146da(0x556),a0_0x3146da(0x427),a0_0x3146da(0x1d6),'online',a0_0x3146da(0x200),a0_0x3146da(0x704)],...S(a0_0x3146da(0x556),'profile',a0_0x3146da(0x1d6),'online',a0_0x3146da(0x200),a0_0x3146da(0x704))}},'required':['privacySettings']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'lastMessage':{'type':a0_0x3146da(0x4a2),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x3146da(0x584)},'remoteJid':{'type':a0_0x3146da(0x584)},'fromMe':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3146da(0x1ef),a0_0x3146da(0x340)],...S('id','remoteJid')},'messageTimestamp':{'type':a0_0x3146da(0x601),'minLength':0x1}},'required':[a0_0x3146da(0x415)],...S('messageTimestamp')},'archive':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}},'required':[a0_0x3146da(0x569),a0_0x3146da(0x49c)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'id':{'type':a0_0x3146da(0x584)},'fromMe':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id','fromMe',a0_0x3146da(0x340)],...S('id',a0_0x3146da(0x340),'participant')},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x3146da(0x584),'minLength':0x1},'pushName':{'type':a0_0x3146da(0x584),'minLength':0x1},'id':{'type':a0_0x3146da(0x584),'minLength':0x1}},...S(a0_0x3146da(0x60a),'id',a0_0x3146da(0x1ac))}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'name':{'type':'string'}},...S('name')},qa={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'status':{'type':'string'}},...S(a0_0x3146da(0x1d6))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{'type':a0_0x3146da(0x584)},'picture':{'type':a0_0x3146da(0x584)}}},Ua={'type':a0_0x3146da(0x4a2),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x3146da(0x584)},'picture':{'type':a0_0x3146da(0x584)},'status':{'type':'string'},'isBusiness':{'type':a0_0x3146da(0x52f)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'where':{'type':a0_0x3146da(0x4a2),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x3146da(0x4a2),'if':{'propertyNames':{'enum':[a0_0x3146da(0x1ef),a0_0x3146da(0x340),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x3146da(0x584),'minLength':0x1,'description':a0_0x3146da(0x438)},'id':{'type':a0_0x3146da(0x584),'minLength':0x1,'description':a0_0x3146da(0x438)},'fromMe':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x3146da(0x4a2)}},...S(a0_0x3146da(0x60a))},'limit':{'type':a0_0x3146da(0x601)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x3146da(0x584)},'remoteJid':{'type':a0_0x3146da(0x584)},'id':{'type':a0_0x3146da(0x584)},'fromMe':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x3146da(0x584)},'status':{'type':a0_0x3146da(0x584),'enum':['ERROR',a0_0x3146da(0x221),a0_0x3146da(0x39e),a0_0x3146da(0x562),a0_0x3146da(0x5f2),a0_0x3146da(0x209)]}},...S(a0_0x3146da(0x60a),a0_0x3146da(0x340),'id','status')},'limit':{'type':a0_0x3146da(0x601)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'number':{...z},'presence':{'type':a0_0x3146da(0x584),'enum':['unavailable','available',a0_0x3146da(0x335),a0_0x3146da(0x20c),a0_0x3146da(0x680)]}},'required':[a0_0x3146da(0x260),'number']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'subject':{'type':a0_0x3146da(0x584)},'description':{'type':'string'},'profilePicture':{'type':a0_0x3146da(0x584)},'participants':{'type':a0_0x3146da(0x1a4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3146da(0x584),'minLength':0xa,'pattern':a0_0x3146da(0x19e),'description':a0_0x3146da(0x3c3)}}},'required':['subject','participants'],...S(a0_0x3146da(0x6fc),a0_0x3146da(0x25e),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x3146da(0x584),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x3146da(0x67d)],...S(a0_0x3146da(0x67d))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'groupJid':{'type':a0_0x3146da(0x584)},'action':{'type':a0_0x3146da(0x584),'enum':[a0_0x3146da(0x54d),'remove',a0_0x3146da(0x561),a0_0x3146da(0x23b)]},'participants':{'type':a0_0x3146da(0x1a4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3146da(0x584),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x3146da(0x67d),a0_0x3146da(0xcd),'participants'],...S(a0_0x3146da(0x67d),a0_0x3146da(0xcd))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'groupJid':{'type':a0_0x3146da(0x584)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x3146da(0x67d),a0_0x3146da(0x24f)],...S('groupJid',a0_0x3146da(0x24f))},za={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'groupJid':{'type':a0_0x3146da(0x584)},'image':{'type':a0_0x3146da(0x584)}},'required':['groupJid','image'],...S(a0_0x3146da(0x67d),a0_0x3146da(0x38d))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'groupJid':{'type':a0_0x3146da(0x584)},'description':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x67d),'description'],...S(a0_0x3146da(0x67d),'description')},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'groupJid':{'type':a0_0x3146da(0x584)},'name':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x67d),a0_0x3146da(0x51a)],...S(a0_0x3146da(0x67d),'name')},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'groupJid':{'type':a0_0x3146da(0x584)},'setting':{'type':a0_0x3146da(0x584),'enum':['announcement',a0_0x3146da(0x5cc),'unlocked',a0_0x3146da(0x6fe)]}},'required':[a0_0x3146da(0x67d),a0_0x3146da(0x65d)],...S('groupJid',a0_0x3146da(0x65d))},Ya={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x3146da(0x584)}},'required':[a0_0x3146da(0x661)],...S(a0_0x3146da(0x661))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'url':{'type':a0_0x3146da(0x584)},'enabled':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}},'required':['url',a0_0x3146da(0xc0)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x3146da(0x4a2),'properties':{'local_map':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x3146da(0x52f),'enum':[!0x0,!0x1]}},'required':[a0_0x3146da(0x117),a0_0x3146da(0x455),a0_0x3146da(0x2fd),a0_0x3146da(0x3fe),'MESSAGES_UPDATE',a0_0x3146da(0x5ca),a0_0x3146da(0x64f),a0_0x3146da(0x127),a0_0x3146da(0x3cc),'CONTACTS_UPDATE','PRESENCE_UPDATE','CHATS_SET',a0_0x3146da(0x2b1),'CHATS_UPDATE',a0_0x3146da(0x5c9),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x3146da(0x138),'GROUP_PARTICIPANTS_UPDATE'],...S(a0_0x3146da(0x117),a0_0x3146da(0x455),a0_0x3146da(0x2fd),'MESSAGES_SET',a0_0x3146da(0x413),'MESSAGES_UPSERT',a0_0x3146da(0x64f),a0_0x3146da(0x127),'CONTACTS_UPSERT',a0_0x3146da(0x479),a0_0x3146da(0x481),a0_0x3146da(0x12f),a0_0x3146da(0x2b1),a0_0x3146da(0x549),a0_0x3146da(0x5c9),a0_0x3146da(0x1b3),a0_0x3146da(0x271),a0_0x3146da(0x138),a0_0x3146da(0x6aa))},Ke=class{},Qe=class extends I{[a0_0x3146da(0x60b)](_0x1120e8){return Vs(_0x1120e8);}async['insert'](_0x29ccae){const _0xbd5d44=a0_0x3146da;if(_0x29ccae[_0xbd5d44(0x148)]!==0x0)try{return{'insertCount':(await this[_0xbd5d44(0x60b)](_0x29ccae[0x0][_0xbd5d44(0xdf)])[_0xbd5d44(0x2fc)]([..._0x29ccae]))['length']};}catch(_0x3ea16c){return _0x3ea16c;}}async[a0_0x3146da(0x6cf)](_0x4f8e24,_0x918a0){const _0x190865=a0_0x3146da;try{return{'deletedCount':(await this[_0x190865(0x60b)](_0x918a0)[_0x190865(0x1db)]({..._0x4f8e24[_0x190865(0x551)]}))['deletedCount']};}catch(_0xf77b1d){return{'error':_0xf77b1d?.[_0x190865(0x63d)]()};}}async[a0_0x3146da(0x118)](_0x18da8d,_0x30d909){const _0xb0143=a0_0x3146da;try{if(_0x18da8d['length']===0x0)return;let _0x1d12b0=this[_0xb0143(0x60b)](_0x30d909),_0x121e02=_0x18da8d['map'](_0xf25111=>({'updateOne':{'filter':{'_id':_0xf25111[_0xb0143(0x60a)],'owner':_0x30d909},'update':{..._0xf25111}}})),{modifiedCount:_0xc5b86d}=await _0x1d12b0[_0xb0143(0x475)](_0x121e02);return{'insertCount':_0xc5b86d};}catch{return;}}async[a0_0x3146da(0x6a9)](_0x46b079,_0xc15896){const _0x53eab2=a0_0x3146da;try{let _0x5c4620=this['getContactModelForOwner'](_0xc15896),_0x6eec22=A(_0x46b079[_0x53eab2(0x551)]);return await _0x5c4620[_0x53eab2(0x6a9)](_0x6eec22)[_0x53eab2(0x308)](_0x46b079?.[_0x53eab2(0x308)]??0x0)[_0x53eab2(0x540)]();}catch{return[];}}async[a0_0x3146da(0xee)](_0x721476,_0x15a70d){const _0x254273=a0_0x3146da;try{let _0x2f48d6=this[_0x254273(0x60b)](_0x15a70d),_0x4cd7df=A(_0x721476['where']);return await _0x2f48d6[_0x254273(0xee)](_0x4cd7df)[_0x254273(0x540)]();}catch{return null;}}async[a0_0x3146da(0x425)](_0x3b8813){const _0x175a53=a0_0x3146da;try{return await this[_0x175a53(0x60b)](_0x3b8813)[_0x175a53(0x25f)][_0x175a53(0x5cb)](),{'success':!0x0};}catch(_0xdc1f92){return console[_0x175a53(0x451)](_0xdc1f92),{'success':!0x1,'error':_0xdc1f92};}}},Ye=require(a0_0x3146da(0x2c8)),cc=require(a0_0x3146da(0x45d)),hs=new v(a0_0x3146da(0x234)),U=class{[a0_0x3146da(0x30f)](_0x1c5c53,_0x1005d0=!0x0){const _0x3ac2e5=a0_0x3146da;let _0x20fd71='/'+_0x1c5c53;return _0x1005d0&&(_0x20fd71+=_0x3ac2e5(0x1c7)),_0x20fd71;}async['dataValidate'](_0x26d39c){const _0x1aeca4=a0_0x3146da;let {request:_0x432e3c,schema:_0x286055,ClassRef:_0x4a21c5,execute:_0x99a883}=_0x26d39c,_0x454895=new _0x4a21c5(),_0x3c7b9e=_0x432e3c[_0x1aeca4(0x15f)],_0x5208c5=_0x432e3c[_0x1aeca4(0x181)];_0x432e3c?.[_0x1aeca4(0x495)]&&Object['keys'](_0x432e3c['query'])['length']>0x0&&Object['assign'](_0x5208c5,_0x432e3c[_0x1aeca4(0x495)]),_0x432e3c[_0x1aeca4(0x605)][_0x1aeca4(0x44a)](_0x1aeca4(0xc2))&&Object[_0x1aeca4(0x2d3)](_0x5208c5,_0x3c7b9e),Object[_0x1aeca4(0x2d3)](_0x454895,_0x3c7b9e);let _0x22b47c=_0x286055?(0x0,Ye[_0x1aeca4(0x45b)])(_0x454895,_0x286055):{'valid':!0x0,'errors':[]};if(!_0x22b47c['valid']){let _0x5eb200=_0x22b47c['errors'][_0x1aeca4(0x33c)](({property:_0x5a92ec,stack:_0x291894,schema:_0x19f840})=>{const _0x3dbb19=_0x1aeca4;let _0x4f4498;return _0x19f840['description']?_0x4f4498=_0x19f840[_0x3dbb19(0x25e)]:_0x4f4498=_0x291894['replace'](_0x3dbb19(0x14b),''),{'property':_0x5a92ec[_0x3dbb19(0x1ce)](_0x3dbb19(0x14b),''),'message':_0x4f4498};});throw hs[_0x1aeca4(0x451)]([..._0x5eb200]),new m(..._0x5eb200);}return await _0x99a883(_0x5208c5,_0x454895);}async[a0_0x3146da(0x293)](_0x14f9dc){const _0x8f284b=a0_0x3146da;let {request:_0x2424ee,ClassRef:_0x459992,schema:_0xbcfce3,execute:_0x55d2bd}=_0x14f9dc,_0x1d62f7=_0x2424ee[_0x8f284b(0x495)];if(!_0x1d62f7?.['groupJid'])throw new m(_0x8f284b(0x3e8),_0x8f284b(0x5a3));let _0x413b20=_0x2424ee[_0x8f284b(0x181)],_0x44e33e=_0x2424ee[_0x8f284b(0x15f)],_0x3780a3=new _0x459992();Object[_0x8f284b(0x2d3)](_0x44e33e,_0x1d62f7),Object[_0x8f284b(0x2d3)](_0x3780a3,_0x44e33e);let _0x25cd5a=(0x0,Ye[_0x8f284b(0x45b)])(_0x3780a3,_0xbcfce3);if(!_0x25cd5a[_0x8f284b(0x6fa)]){let _0x104902=_0x25cd5a[_0x8f284b(0x5b1)]['map'](({property:_0x3f0303,stack:_0x11d236,schema:_0x192cce})=>{const _0x2d43b6=_0x8f284b;let _0x58aa04;return _0x192cce[_0x2d43b6(0x25e)]?_0x58aa04=_0x192cce[_0x2d43b6(0x25e)]:_0x58aa04=_0x11d236[_0x2d43b6(0x1ce)](_0x2d43b6(0x14b),''),{'property':_0x3f0303[_0x2d43b6(0x1ce)](_0x2d43b6(0x14b),''),'message':_0x58aa04};});throw hs[_0x8f284b(0x451)]([..._0x104902]),new m(..._0x104902);}return await _0x55d2bd(_0x413b20,_0x3780a3);}async[a0_0x3146da(0x1ff)](_0x50edd2){const _0x2e7d0e=a0_0x3146da;let {request:_0x251299,ClassRef:_0xdf95d1,schema:_0x596e0,execute:_0x356b72}=_0x50edd2,_0x5bba60=_0x251299[_0x2e7d0e(0x15f)];if(!_0x5bba60?.[_0x2e7d0e(0x661)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x3bb36c=_0x251299['params'],_0x519365=_0x251299[_0x2e7d0e(0x15f)],_0x109a89=new _0xdf95d1();Object[_0x2e7d0e(0x2d3)](_0x519365,_0x5bba60),Object['assign'](_0x109a89,_0x519365);let _0x1e3842=(0x0,Ye[_0x2e7d0e(0x45b)])(_0x109a89,_0x596e0);if(!_0x1e3842['valid']){let _0x4bf25b=_0x1e3842[_0x2e7d0e(0x5b1)][_0x2e7d0e(0x33c)](({property:_0x863a51,stack:_0x2e39ab,schema:_0x277a0e})=>{const _0xe86c7a=_0x2e7d0e;let _0x5983f8;return _0x277a0e['description']?_0x5983f8=_0x277a0e[_0xe86c7a(0x25e)]:_0x5983f8=_0x2e39ab[_0xe86c7a(0x1ce)](_0xe86c7a(0x14b),''),{'property':_0x863a51[_0xe86c7a(0x1ce)](_0xe86c7a(0x14b),''),'message':_0x5983f8};});throw hs[_0x2e7d0e(0x451)]([..._0x4bf25b]),new m(..._0x4bf25b);}return await _0x356b72(_0x3bb36c,_0x109a89);}},E=class{},Mc=new v(a0_0x3146da(0x698)),Xe=class extends U{constructor(..._0x3416b0){const _0x5f1eef=a0_0x3146da;super(),this[_0x5f1eef(0x6b9)]=(0x0,Za[_0x5f1eef(0x462)])(),this[_0x5f1eef(0x6b9)][_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)](_0x5f1eef(0x66a)),..._0x3416b0,async(_0x4a5630,_0x2e57d7)=>{const _0x278624=_0x5f1eef;let _0x2fcfa5=await this['dataValidate']({'request':_0x4a5630,'schema':Va,'ClassRef':je,'execute':(_0x285dbd,_0x24a26c)=>x[_0x278624(0x66a)](_0x285dbd,_0x24a26c)});return _0x2e57d7[_0x278624(0x1d6)](0xc9)[_0x278624(0x5b0)](_0x2fcfa5);})[_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)]('whatsappNumbers'),..._0x3416b0,async(_0x2a2a52,_0x3d9823)=>{const _0x576bc2=_0x5f1eef;let _0x208362=await this[_0x576bc2(0x44b)]({'request':_0x2a2a52,'schema':_a,'ClassRef':Fe,'execute':(_0x59c495,_0x47c0e1)=>x[_0x576bc2(0x30d)](_0x59c495,_0x47c0e1)});return _0x3d9823[_0x576bc2(0x1d6)](0xc9)[_0x576bc2(0x5b0)](_0x208362);})[_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)](_0x5f1eef(0x6be)),..._0x3416b0,async(_0x1aeb12,_0x31047d)=>{const _0x461080=_0x5f1eef;let _0x2fa185=await this['dataValidate']({'request':_0x1aeb12,'schema':M,'ClassRef':E,'execute':(_0x4b3eb9,_0xd65db8)=>x[_0x461080(0x6be)](_0x4b3eb9,_0xd65db8)});return _0x31047d[_0x461080(0x1d6)](0xc9)['json'](_0x2fa185);})[_0x5f1eef(0x412)](this[_0x5f1eef(0x30f)]('markMessageAsRead'),..._0x3416b0,async(_0x180fbf,_0x593916)=>{const _0x34829f=_0x5f1eef;let _0x4a7d66=await this[_0x34829f(0x44b)]({'request':_0x180fbf,'schema':Pa,'ClassRef':Je,'execute':(_0x5e0a69,_0xd2e77c)=>x[_0x34829f(0x486)](_0x5e0a69,_0xd2e77c)});return _0x593916[_0x34829f(0x1d6)](0xc9)[_0x34829f(0x5b0)](_0x4a7d66);})['put'](this[_0x5f1eef(0x30f)](_0x5f1eef(0x57a)),..._0x3416b0,async(_0x3baa0f,_0x97c98c)=>{const _0x2d9c38=_0x5f1eef;let _0xb857cd=await this[_0x2d9c38(0x44b)]({'request':_0x3baa0f,'schema':ka,'ClassRef':Ve,'execute':(_0x5c6de1,_0x53e953)=>x[_0x2d9c38(0x57a)](_0x5c6de1,_0x53e953)});return _0x97c98c[_0x2d9c38(0x1d6)](0xc9)[_0x2d9c38(0x5b0)](_0xb857cd);})[_0x5f1eef(0x6cf)](this['routerPath'](_0x5f1eef(0x45a)),..._0x3416b0,async(_0x226093,_0x1268bb)=>{const _0x279b25=_0x5f1eef;let _0x497ce5=await this[_0x279b25(0x44b)]({'request':_0x226093,'schema':La,'ClassRef':Ge,'execute':(_0x504d2d,_0x5178e2)=>x[_0x279b25(0x653)](_0x504d2d,_0x5178e2)});return _0x1268bb[_0x279b25(0x1d6)](0xc9)['json'](_0x497ce5);})['post'](this[_0x5f1eef(0x30f)]('fetchProfilePictureUrl'),..._0x3416b0,async(_0x462458,_0x1ac8d3)=>{const _0x185fa5=_0x5f1eef;let _0x3e716f=await this[_0x185fa5(0x44b)]({'request':_0x462458,'schema':Se,'ClassRef':be,'execute':(_0x194302,_0x40c0c0)=>x[_0x185fa5(0x3e3)](_0x194302,_0x40c0c0)});return _0x1ac8d3['status'](0xc8)[_0x185fa5(0x5b0)](_0x3e716f);})[_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)](_0x5f1eef(0x675)),..._0x3416b0,async(_0x182cfe,_0x5a2acd)=>{const _0x32122d=_0x5f1eef;let _0x281bdb=await this[_0x32122d(0x44b)]({'request':_0x182cfe,'schema':Ua,'ClassRef':be,'execute':(_0x577064,_0x3038cc)=>x[_0x32122d(0x675)](_0x577064,_0x3038cc)});return _0x5a2acd[_0x32122d(0x1d6)](0xc8)[_0x32122d(0x5b0)](_0x281bdb);})[_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)](_0x5f1eef(0x699)),..._0x3416b0,async(_0xf597f6,_0x419072)=>{const _0x4bd64c=_0x5f1eef;let _0x2b3eee=await this['dataValidate']({'request':_0xf597f6,'schema':ja,'ClassRef':Ke,'execute':(_0x227d64,_0x1f05d6)=>x[_0x4bd64c(0x158)](_0x227d64,_0x1f05d6)});return _0x419072[_0x4bd64c(0x1d6)](0xc8)[_0x4bd64c(0x5b0)](_0x2b3eee);})[_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)]('getBase64FromMediaMessage'),..._0x3416b0,async(_0x5dffd0,_0x3b6c9a)=>{const _0x18648f=_0x5f1eef;let _0x193cd7=await this[_0x18648f(0x44b)]({'request':_0x5dffd0,'schema':null,'ClassRef':Object,'execute':(_0x1725c6,_0x376e62)=>x[_0x18648f(0x64a)](_0x1725c6,_0x376e62)});return _0x3b6c9a['status'](0xc9)[_0x18648f(0x5b0)](_0x193cd7);})[_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)](_0x5f1eef(0xd1)),..._0x3416b0,async(_0x38cabf,_0xe7c82b)=>{const _0x5b9bc2=_0x5f1eef;let _0x12d1c8=await this[_0x5b9bc2(0x44b)]({'request':_0x38cabf,'schema':Ja,'ClassRef':ke,'execute':(_0x5b35b8,_0x1d71aa)=>x[_0x5b9bc2(0x359)](_0x5b35b8,_0x1d71aa)});return _0xe7c82b[_0x5b9bc2(0x1d6)](0xc8)[_0x5b9bc2(0x5b0)](_0x12d1c8);})[_0x5f1eef(0x4ed)](this[_0x5f1eef(0x30f)](_0x5f1eef(0x4ab)),..._0x3416b0,async(_0x205fab,_0x14698d)=>{const _0x5e0822=_0x5f1eef;let _0x269462=await this[_0x5e0822(0x44b)]({'request':_0x205fab,'schema':null,'ClassRef':E,'execute':_0x252738=>x[_0x5e0822(0x27b)](_0x252738)});return _0x14698d['status'](0xc8)[_0x5e0822(0x5b0)](_0x269462);})[_0x5f1eef(0x4ed)](this['routerPath'](_0x5f1eef(0x3d5)),..._0x3416b0,async(_0x67d529,_0x4c90dc)=>{const _0xd22b08=_0x5f1eef;let _0x3ec9ed=await this[_0xd22b08(0x44b)]({'request':_0x67d529,'schema':null,'ClassRef':E,'execute':_0xfe6c5c=>x[_0xd22b08(0x1e7)](_0xfe6c5c)});return _0x4c90dc['status'](0xc8)['json'](_0x3ec9ed);})[_0x5f1eef(0x412)](this[_0x5f1eef(0x30f)](_0x5f1eef(0x22e)),..._0x3416b0,async(_0x33ab5f,_0x4599e5)=>{const _0x1ca1be=_0x5f1eef;let _0x48748e=await this[_0x1ca1be(0x44b)]({'request':_0x33ab5f,'schema':null,'ClassRef':Array,'execute':(_0x25a839,_0x5a219f)=>x[_0x1ca1be(0x22e)](_0x25a839,_0x5a219f)});return _0x4599e5[_0x1ca1be(0x1d6)](0xc8)[_0x1ca1be(0x5b0)](_0x48748e);})[_0x5f1eef(0x4ed)](this[_0x5f1eef(0x30f)]('fetchPrivacySettings'),..._0x3416b0,async(_0x342b89,_0x4570b2)=>{const _0x1ea0f0=_0x5f1eef;let _0x5c2179=await this[_0x1ea0f0(0x44b)]({'request':_0x342b89,'schema':null,'ClassRef':E,'execute':_0x4b1570=>x[_0x1ea0f0(0x6a1)](_0x4b1570)});return _0x4570b2[_0x1ea0f0(0x1d6)](0xc8)[_0x1ea0f0(0x5b0)](_0x5c2179);})['put'](this[_0x5f1eef(0x30f)](_0x5f1eef(0x49d)),..._0x3416b0,async(_0x217e69,_0x154864)=>{const _0x4a4ac7=_0x5f1eef;let _0x51e598=await this[_0x4a4ac7(0x44b)]({'request':_0x217e69,'schema':$a,'ClassRef':Be,'execute':(_0x14ee17,_0x14e383)=>x[_0x4a4ac7(0x49d)](_0x14ee17,_0x14e383)});return _0x154864[_0x4a4ac7(0x1d6)](0xc9)[_0x4a4ac7(0x5b0)](_0x51e598);})[_0x5f1eef(0x626)](this['routerPath'](_0x5f1eef(0x5a0)),..._0x3416b0,async(_0x2fdc20,_0x2d922e)=>{const _0x38761e=_0x5f1eef;let _0x559390=await this[_0x38761e(0x44b)]({'request':_0x2fdc20,'schema':Se,'ClassRef':fe,'execute':(_0x2ff881,_0x12ab03)=>x[_0x38761e(0x5a0)](_0x2ff881,_0x12ab03)});return _0x2d922e['status'](0xc8)[_0x38761e(0x5b0)](_0x559390);})['post'](this['routerPath'](_0x5f1eef(0x554)),..._0x3416b0,async(_0x306bc1,_0x1e0ea9)=>{const _0xe459d=_0x5f1eef;let _0x19a67e=await this['dataValidate']({'request':_0x306bc1,'schema':Fa,'ClassRef':qe,'execute':(_0x8a1a25,_0x25fdeb)=>x['updateProfileName'](_0x8a1a25,_0x25fdeb)});return _0x1e0ea9[_0xe459d(0x1d6)](0xc8)['json'](_0x19a67e);})[_0x5f1eef(0x626)](this[_0x5f1eef(0x30f)]('updateProfileStatus'),..._0x3416b0,async(_0x566326,_0x13b03c)=>{const _0xf67711=_0x5f1eef;let _0x574a6a=await this[_0xf67711(0x44b)]({'request':_0x566326,'schema':qa,'ClassRef':Ue,'execute':(_0x23ac9a,_0xca2d12)=>x[_0xf67711(0x578)](_0x23ac9a,_0xca2d12)});return _0x13b03c[_0xf67711(0x1d6)](0xc8)[_0xf67711(0x5b0)](_0x574a6a);})['put'](this[_0x5f1eef(0x30f)](_0x5f1eef(0x57f)),..._0x3416b0,async(_0x158531,_0x113de4)=>{const _0x4ce5ff=_0x5f1eef;let _0x101b92=await this[_0x4ce5ff(0x44b)]({'request':_0x158531,'schema':Se,'ClassRef':fe,'execute':(_0x50037c,_0x2743ff)=>x[_0x4ce5ff(0x57f)](_0x50037c,_0x2743ff)});return _0x113de4[_0x4ce5ff(0x1d6)](0xc8)[_0x4ce5ff(0x5b0)](_0x101b92);})['delete'](this[_0x5f1eef(0x30f)](_0x5f1eef(0x2cb)),..._0x3416b0,async(_0x329efc,_0x198923)=>{const _0x354ade=_0x5f1eef;let _0x210486=await this[_0x354ade(0x44b)]({'request':_0x329efc,'schema':Se,'ClassRef':fe,'execute':(_0x19b416,_0x41d461)=>x['removeProfilePicture'](_0x19b416,_0x41d461)});return _0x198923[_0x354ade(0x1d6)](0xc8)['json'](_0x210486);});}},eo=require(a0_0x3146da(0x136)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x829ab4){const _0x206f6e=a0_0x3146da;super(),this[_0x206f6e(0x6b9)]=(0x0,eo[_0x206f6e(0x462)])(),this[_0x206f6e(0x6b9)][_0x206f6e(0x626)](this['routerPath']('create'),..._0x829ab4,async(_0x3aec93,_0x22ef87)=>{const _0x3fc049=_0x206f6e;let _0x485564=await this[_0x3fc049(0x44b)]({'request':_0x3aec93,'schema':Ba,'ClassRef':Ze,'execute':(_0x46e085,_0x474580)=>q[_0x3fc049(0x696)](_0x46e085,_0x474580)});_0x22ef87['status'](0xc9)[_0x3fc049(0x5b0)](_0x485564);})[_0x206f6e(0x412)](this['routerPath'](_0x206f6e(0x70a)),..._0x829ab4,async(_0x9e015d,_0xeb347b)=>{const _0x367e74=_0x206f6e;let _0x46e51d=await this['groupValidate']({'request':_0x9e015d,'schema':za,'ClassRef':et,'execute':(_0x389d2f,_0x9d25e4)=>q[_0x367e74(0x70a)](_0x389d2f,_0x9d25e4)});_0xeb347b[_0x367e74(0x1d6)](0xc9)[_0x367e74(0x5b0)](_0x46e51d);})['put'](this[_0x206f6e(0x30f)](_0x206f6e(0x690)),..._0x829ab4,async(_0x1a4995,_0xfad90b)=>{const _0x364bc6=_0x206f6e;let _0x2a8146=await this[_0x364bc6(0x293)]({'request':_0x1a4995,'schema':Ha,'ClassRef':tt,'execute':(_0x5bc74b,_0xb435c9)=>q[_0x364bc6(0x690)](_0x5bc74b,_0xb435c9)});_0xfad90b[_0x364bc6(0x1d6)](0xc9)[_0x364bc6(0x5b0)](_0x2a8146);})['put'](this['routerPath']('groupName'),..._0x829ab4,async(_0x4ec568,_0x5d414a)=>{const _0x4bad39=_0x206f6e;let _0x20c318=await this['groupValidate']({'request':_0x4ec568,'schema':Ka,'ClassRef':st,'execute':(_0x4d6fc1,_0x4bf024)=>q['groupName'](_0x4d6fc1,_0x4bf024)});_0x5d414a['status'](0xc9)[_0x4bad39(0x5b0)](_0x20c318);})[_0x206f6e(0x412)](this[_0x206f6e(0x30f)]('groupSetting'),..._0x829ab4,async(_0x59a20d,_0x128315)=>{const _0x4cfc94=_0x206f6e;let _0x78348=await this[_0x4cfc94(0x293)]({'request':_0x59a20d,'schema':Qa,'ClassRef':at,'execute':(_0x17d04d,_0xfd0d54)=>q[_0x4cfc94(0x4c3)](_0x17d04d,_0xfd0d54)});_0x128315[_0x4cfc94(0x1d6)](0xc9)[_0x4cfc94(0x5b0)](_0x78348);})[_0x206f6e(0x412)](this['routerPath'](_0x206f6e(0x198)),..._0x829ab4,async(_0x5c8193,_0x91d8b4)=>{const _0x1138d=_0x206f6e;let _0x438f41=await this[_0x1138d(0x293)]({'request':_0x5c8193,'schema':Wa,'ClassRef':it,'execute':(_0x11574d,_0x4ee86d)=>q[_0x1138d(0x198)](_0x11574d,_0x4ee86d)});_0x91d8b4[_0x1138d(0x1d6)](0xc9)['json'](_0x438f41);})[_0x206f6e(0x4ed)](this[_0x206f6e(0x30f)](_0x206f6e(0x3f1)),..._0x829ab4,async(_0x3aa256,_0x2f92a8)=>{const _0x38927a=_0x206f6e;let _0x1e5f36=await this[_0x38927a(0x293)]({'request':_0x3aa256,'schema':Ee,'ClassRef':Y,'execute':(_0x29fec0,_0x5daec2)=>q[_0x38927a(0x527)](_0x29fec0,_0x5daec2)});_0x2f92a8[_0x38927a(0x1d6)](0xc8)[_0x38927a(0x5b0)](_0x1e5f36);})['get'](this[_0x206f6e(0x30f)](_0x206f6e(0x3e4)),..._0x829ab4,async(_0x437eb4,_0x50bc47)=>{const _0x2b326a=_0x206f6e;let _0x1618e2=await this[_0x2b326a(0x44b)]({'request':_0x437eb4,'schema':M,'ClassRef':E,'execute':_0x1baba8=>q[_0x2b326a(0x3e4)](_0x1baba8)});_0x50bc47['status'](0xc8)['json'](_0x1618e2);})[_0x206f6e(0x4ed)](this[_0x206f6e(0x30f)](_0x206f6e(0x16e)),..._0x829ab4,async(_0x27ede3,_0x48a52f)=>{const _0x58327d=_0x206f6e;let _0x186d04=await this[_0x58327d(0x293)]({'request':_0x27ede3,'schema':Ee,'ClassRef':Y,'execute':(_0x3bf73a,_0x5da9e7)=>q[_0x58327d(0x3d7)](_0x3bf73a,_0x5da9e7)});_0x48a52f['status'](0xc8)[_0x58327d(0x5b0)](_0x186d04);})[_0x206f6e(0x4ed)](this['routerPath']('inviteCode'),..._0x829ab4,async(_0x452174,_0x2f9500)=>{const _0x44d34c=_0x206f6e;let _0x4c1b5d=await this[_0x44d34c(0x293)]({'request':_0x452174,'schema':Ee,'ClassRef':Y,'execute':(_0x55306c,_0x4503ef)=>q[_0x44d34c(0x661)](_0x55306c,_0x4503ef)});_0x2f9500[_0x44d34c(0x1d6)](0xc8)[_0x44d34c(0x5b0)](_0x4c1b5d);})[_0x206f6e(0x412)](this[_0x206f6e(0x30f)](_0x206f6e(0x2e4)),..._0x829ab4,async(_0x3d9209,_0x42d49c)=>{const _0x1694fe=_0x206f6e;let _0x2eef87=await this[_0x1694fe(0x1ff)]({'request':_0x3d9209,'schema':Ya,'ClassRef':ot,'execute':(_0x29a3f1,_0x18288d)=>q[_0x1694fe(0x2e4)](_0x29a3f1,_0x18288d)});_0x42d49c[_0x1694fe(0x1d6)](0xc9)['json'](_0x2eef87);})['put'](this[_0x206f6e(0x30f)]('revokeInviteCode'),..._0x829ab4,async(_0x47672d,_0x27694f)=>{const _0x4411b1=_0x206f6e;let _0x52a4ac=await this[_0x4411b1(0x293)]({'request':_0x47672d,'schema':Ee,'ClassRef':Y,'execute':(_0x456df1,_0x3e913f)=>q[_0x4411b1(0x6ab)](_0x456df1,_0x3e913f)});_0x27694f[_0x4411b1(0x1d6)](0xc9)[_0x4411b1(0x5b0)](_0x52a4ac);})[_0x206f6e(0x412)](this[_0x206f6e(0x30f)](_0x206f6e(0x104)),..._0x829ab4,async(_0x24e366,_0x47e3ea)=>{const _0x225337=_0x206f6e;let _0x4f8b1e=await this[_0x225337(0x293)]({'request':_0x24e366,'schema':Ga,'ClassRef':rt,'execute':(_0x334d7f,_0x27fc87)=>q[_0x225337(0x191)](_0x334d7f,_0x27fc87)});_0x47e3ea[_0x225337(0x1d6)](0xc9)[_0x225337(0x5b0)](_0x4f8b1e);})[_0x206f6e(0x6cf)](this[_0x206f6e(0x30f)](_0x206f6e(0x1bf)),..._0x829ab4,async(_0x35912c,_0x211eb4)=>{const _0xcfe1e7=_0x206f6e;let _0x282ed1=await this[_0xcfe1e7(0x293)]({'request':_0x35912c,'schema':{},'ClassRef':Y,'execute':(_0x255db4,_0x134e20)=>q[_0xcfe1e7(0x1bf)](_0x255db4,_0x134e20)});_0x211eb4['status'](0xc8)[_0xcfe1e7(0x5b0)](_0x282ed1);});}},to=require(a0_0x3146da(0x136)),ct=class extends U{constructor(_0x311f31,..._0x169339){const _0x13ade2=a0_0x3146da;super(),this['configService']=_0x311f31,this[_0x13ade2(0x6b9)]=(0x0,to[_0x13ade2(0x462)])();let _0x5b3573=_0x311f31[_0x13ade2(0x4ed)](_0x13ade2(0x4fc));this[_0x13ade2(0x6b9)][_0x13ade2(0x626)](_0x13ade2(0x399),..._0x169339,async(_0xcaef72,_0x47dc59)=>{const _0x71d6aa=_0x13ade2;let {instanceName:_0x363116,apikey:_0x243fbf,number:_0x4f2e23}=_0xcaef72[_0x71d6aa(0x15f)],_0x16ca20=await le[_0x71d6aa(0x5af)]({'instanceName':_0x363116,'apikey':_0x243fbf,'number':_0x4f2e23});return _0x47dc59[_0x71d6aa(0x1d6)](0xc9)['json'](_0x16ca20);})[_0x13ade2(0x412)](this[_0x13ade2(0x30f)](_0x13ade2(0x539)),..._0x169339,async(_0x12eaaf,_0x303b1d)=>{const _0x424249=_0x13ade2;let _0x40823e=await this[_0x424249(0x44b)]({'request':_0x12eaaf,'schema':M,'ClassRef':E,'execute':_0x403927=>le[_0x424249(0x2bd)](_0x403927)});return _0x303b1d[_0x424249(0x1d6)](0xc8)[_0x424249(0x5b0)](_0x40823e);})['get'](this[_0x13ade2(0x30f)](_0x13ade2(0x380)),..._0x169339,async(_0x587146,_0x2b9751)=>{const _0x5d93e6=_0x13ade2;let _0x5d2f4d=await this[_0x5d93e6(0x44b)]({'request':_0x587146,'schema':M,'ClassRef':E,'execute':_0x4cf935=>le[_0x5d93e6(0x380)](_0x4cf935)});return _0x2b9751[_0x5d93e6(0x1d6)](0xc8)[_0x5d93e6(0x5b0)](_0x5d2f4d);})[_0x13ade2(0x4ed)](this['routerPath'](_0x13ade2(0x5ee),!0x1),..._0x169339,async(_0x2f1827,_0x3ebfcb)=>{const _0x400060=_0x13ade2;let _0x50aee8=await this[_0x400060(0x44b)]({'request':_0x2f1827,'schema':null,'ClassRef':E,'execute':_0x19e144=>le[_0x400060(0x5ee)](_0x19e144)});return _0x3ebfcb['status'](0xc8)[_0x400060(0x5b0)](_0x50aee8);})[_0x13ade2(0x6cf)](this['routerPath'](_0x13ade2(0x5fe)),..._0x169339,async(_0x5ee56a,_0x512fa8)=>{const _0x2585cb=_0x13ade2;let _0x350e37=await this[_0x2585cb(0x44b)]({'request':_0x5ee56a,'schema':M,'ClassRef':E,'execute':_0x5c1295=>le[_0x2585cb(0x5fe)](_0x5c1295)});return _0x512fa8[_0x2585cb(0x1d6)](0xc8)[_0x2585cb(0x5b0)](_0x350e37);})[_0x13ade2(0x6cf)](this[_0x13ade2(0x30f)](_0x13ade2(0x6cf)),..._0x169339,async(_0x269ecf,_0x2842a6)=>{const _0x4e063b=_0x13ade2;let _0x1bccd4=await this[_0x4e063b(0x44b)]({'request':_0x269ecf,'schema':M,'ClassRef':E,'execute':_0x469f85=>le[_0x4e063b(0x58d)](_0x469f85)});return _0x2842a6[_0x4e063b(0x1d6)](0xc8)[_0x4e063b(0x5b0)](_0x1bccd4);});}},so=require(a0_0x3146da(0x136)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x23d01b){const _0x1ce06a=a0_0x3146da;super(),this['router']=(0x0,so[_0x1ce06a(0x462)])(),this[_0x1ce06a(0x6b9)][_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)](_0x1ce06a(0x311)),..._0x23d01b,async(_0x1f5692,_0x558bb1)=>{const _0x353f15=_0x1ce06a;let _0x1aece6=await this[_0x353f15(0x44b)]({'request':_0x1f5692,'schema':Sa,'ClassRef':lt,'execute':(_0x4be511,_0x581dd2)=>G[_0x353f15(0x311)](_0x4be511,_0x581dd2)});return _0x558bb1[_0x353f15(0x1d6)](0xc9)[_0x353f15(0x5b0)](_0x1aece6);})[_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)](_0x1ce06a(0x2a8)),..._0x23d01b,async(_0x45b9b2,_0x7d8b08)=>{const _0x407f6d=_0x1ce06a;let _0x15695a=await this['dataValidate']({'request':_0x45b9b2,'schema':va,'ClassRef':Ce,'execute':(_0x3d5b1a,_0x566ac4)=>G[_0x407f6d(0x2a8)](_0x3d5b1a,_0x566ac4)});return _0x7d8b08['status'](0xc9)[_0x407f6d(0x5b0)](_0x15695a);})[_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)](_0x1ce06a(0x3bf)),..._0x23d01b,async(_0x31ec08,_0x45052b)=>{const _0x4ba166=_0x1ce06a;let _0x1d04c0=await this[_0x4ba166(0x44b)]({'request':_0x31ec08,'schema':Ta,'ClassRef':pt,'execute':(_0xaedc98,_0x21db74)=>G[_0x4ba166(0x3bf)](_0xaedc98,_0x21db74)});return _0x45052b['status'](0xc9)['json'](_0x1d04c0);})[_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)]('sendWhatsAppAudio'),..._0x23d01b,async(_0xc06ce6,_0x56e62c)=>{const _0x5d7f7f=_0x1ce06a;let _0x3442a0=await this[_0x5d7f7f(0x44b)]({'request':_0xc06ce6,'schema':Na,'ClassRef':Ce,'execute':(_0x1526b3,_0x476bdf)=>G[_0x5d7f7f(0x1df)](_0x1526b3,_0x476bdf)});return _0x56e62c['status'](0xc9)['json'](_0x3442a0);})['post'](this['routerPath'](_0x1ce06a(0x59e)),..._0x23d01b,async(_0x2aaf12,_0x486439)=>{const _0x4d72ba=_0x1ce06a;let _0x413d43=await this[_0x4d72ba(0x44b)]({'request':_0x2aaf12,'schema':Aa,'ClassRef':gt,'execute':(_0x1b5d68,_0x509631)=>G[_0x4d72ba(0x59e)](_0x1b5d68,_0x509631)});return _0x486439[_0x4d72ba(0x1d6)](0xc9)['json'](_0x413d43);})[_0x1ce06a(0x626)](this['routerPath'](_0x1ce06a(0x639)),..._0x23d01b,async(_0x33ae1f,_0x2840fb)=>{const _0x22d641=_0x1ce06a;let _0x21baa7=await this[_0x22d641(0x44b)]({'request':_0x33ae1f,'schema':Oa,'ClassRef':mt,'execute':(_0x4da276,_0x5dc111)=>G['sendLocation'](_0x4da276,_0x5dc111)});return _0x2840fb['status'](0xc9)[_0x22d641(0x5b0)](_0x21baa7);})[_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)](_0x1ce06a(0x5e4)),..._0x23d01b,async(_0xcb6026,_0x445caa)=>{const _0x4ef452=_0x1ce06a;let _0x4be6d4=await this[_0x4ef452(0x44b)]({'request':_0xcb6026,'schema':Ia,'ClassRef':ft,'execute':(_0x5329ad,_0xa90ef1)=>G[_0x4ef452(0x5e4)](_0x5329ad,_0xa90ef1)});return _0x445caa[_0x4ef452(0x1d6)](0xc9)[_0x4ef452(0x5b0)](_0x4be6d4);})['post'](this[_0x1ce06a(0x30f)](_0x1ce06a(0x563)),..._0x23d01b,async(_0x3a219b,_0x362a32)=>{const _0x357b6f=_0x1ce06a;let _0x41d35e=await this['dataValidate']({'request':_0x3a219b,'schema':xa,'ClassRef':wt,'execute':(_0x59b0a0,_0x2c6dc3)=>G[_0x357b6f(0x563)](_0x59b0a0,_0x2c6dc3)});return _0x362a32[_0x357b6f(0x1d6)](0xc9)[_0x357b6f(0x5b0)](_0x41d35e);})[_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)]('sendReaction'),..._0x23d01b,async(_0x4ed178,_0x5d0240)=>{const _0x5e45f0=_0x1ce06a;let _0x98350f=await this[_0x5e45f0(0x44b)]({'request':_0x4ed178,'schema':Da,'ClassRef':yt,'execute':(_0x5c91f4,_0xda8e5a)=>G['sendReaction'](_0x5c91f4,_0xda8e5a)});return _0x5d0240[_0x5e45f0(0x1d6)](0xc9)[_0x5e45f0(0x5b0)](_0x98350f);})[_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)]('sendPoll'),..._0x23d01b,async(_0x1ca494,_0x4750bb)=>{const _0xe2e42a=_0x1ce06a;let _0x44d8c1=await this['dataValidate']({'request':_0x1ca494,'schema':Ra,'ClassRef':dt,'execute':(_0x3612c1,_0x29df8e)=>G['sendPoll'](_0x3612c1,_0x29df8e)});return _0x4750bb[_0xe2e42a(0x1d6)](0xc9)['json'](_0x44d8c1);})[_0x1ce06a(0x626)](this['routerPath']('sendStatus'),..._0x23d01b,async(_0x2788ed,_0x1e2fb6)=>{const _0x54df29=_0x1ce06a;let _0x147e0e=await this[_0x54df29(0x44b)]({'request':_0x2788ed,'schema':Ma,'ClassRef':ut,'execute':(_0x4b55cf,_0x29737e)=>G['sendStatus'](_0x4b55cf,_0x29737e)});return _0x1e2fb6[_0x54df29(0x1d6)](0xc9)['json'](_0x147e0e);})[_0x1ce06a(0x626)](this[_0x1ce06a(0x30f)](_0x1ce06a(0xe5)),..._0x23d01b,async(_0x1de4ad,_0x2474e5)=>{const _0x2775c2=_0x1ce06a;let _0x38b2ac=await this['dataValidate']({'request':_0x1de4ad,'schema':Ca,'ClassRef':ht,'execute':(_0x26a9ef,_0x2d7824)=>G[_0x2775c2(0xe5)](_0x26a9ef,_0x2d7824)});return _0x2474e5[_0x2775c2(0x1d6)](0xc9)[_0x2775c2(0x5b0)](_0x38b2ac);});}},ao=require(a0_0x3146da(0x136)),St=class{},Et=class extends U{constructor(..._0x94412d){const _0x49663d=a0_0x3146da;super(),this[_0x49663d(0x6b9)]=(0x0,ao[_0x49663d(0x462)])(),this[_0x49663d(0x6b9)][_0x49663d(0x626)](this[_0x49663d(0x30f)](_0x49663d(0x273)),..._0x94412d,async(_0x5281dd,_0x456b54)=>{const _0x42d46b=_0x49663d;let _0x4ea5d3=await this[_0x42d46b(0x44b)]({'request':_0x5281dd,'schema':Xa,'ClassRef':St,'execute':(_0x680e93,_0x542893)=>ms[_0x42d46b(0x665)](_0x680e93,_0x542893)});_0x456b54[_0x42d46b(0x1d6)](0xc9)[_0x42d46b(0x5b0)](_0x4ea5d3);})[_0x49663d(0x4ed)](this['routerPath']('find'),..._0x94412d,async(_0x153456,_0x1684fa)=>{const _0x5ee3cd=_0x49663d;let _0x386daf=await this['dataValidate']({'request':_0x153456,'schema':M,'ClassRef':E,'execute':_0x19d9c1=>ms[_0x5ee3cd(0x2de)](_0x19d9c1)});_0x1684fa['status'](0xc8)[_0x5ee3cd(0x5b0)](_0x386daf);});}},oo=require(a0_0x3146da(0x136)),f=new v(a0_0x3146da(0x52e)),Ct=class extends U{constructor(..._0x1939f2){const _0x2bcfdb=a0_0x3146da;super(),this['router']=(0x0,oo['Router'])(),this[_0x2bcfdb(0x6b9)][_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x41b)),..._0x1939f2,async(_0x5d349d,_0x1b75d4)=>{const _0xc479fa=_0x2bcfdb;let _0x294073=_0x5d349d[_0xc479fa(0x15f)];f[_0xc479fa(0x19a)](_0xc479fa(0x58e)),f[_0xc479fa(0x19a)](_0xc479fa(0x238)),f[_0xc479fa(0x19a)](_0x5d349d[_0xc479fa(0x15f)]);let _0x27015a=await this[_0xc479fa(0x44b)]({'request':_0x5d349d,'schema':M,'ClassRef':E,'execute':_0x45886d=>T['editScheduleMessage'](_0x45886d,_0x294073)});_0x1b75d4[_0xc479fa(0x1d6)](0xc8)[_0xc479fa(0x5b0)](_0x27015a);})[_0x2bcfdb(0x4ed)](this[_0x2bcfdb(0x30f)]('scheduleMessage'),..._0x1939f2,async(_0x3f3752,_0x1ef0b3)=>{const _0x71601e=_0x2bcfdb;let _0x4a1d00=await this['dataValidate']({'request':_0x3f3752,'schema':M,'ClassRef':E,'execute':_0x50e1b7=>T[_0x71601e(0x63a)](_0x50e1b7)});_0x1ef0b3[_0x71601e(0x1d6)](0xc8)['json'](_0x4a1d00);})[_0x2bcfdb(0x6cf)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x6e0)),..._0x1939f2,async(_0x286e77,_0xba8fcc)=>{const _0x300957=_0x2bcfdb;f[_0x300957(0x19a)](_0x300957(0x537));let _0x5e3212=await this[_0x300957(0x44b)]({'request':_0x286e77,'schema':M,'ClassRef':E,'execute':_0x5687c5=>T[_0x300957(0x6e0)](_0x5687c5)});_0xba8fcc['status'](0xc8)[_0x300957(0x5b0)](_0x5e3212);})['post'](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0xdd)),..._0x1939f2,async(_0xf0ad0a,_0x16ef39)=>{const _0x12df67=_0x2bcfdb;let _0x865c85=_0xf0ad0a[_0x12df67(0x15f)];f[_0x12df67(0x19a)](_0x12df67(0x396)),f['verbose'](_0x12df67(0x238)),f[_0x12df67(0x19a)](_0xf0ad0a[_0x12df67(0x15f)]);let _0xc2b3c2=await this[_0x12df67(0x44b)]({'request':_0xf0ad0a,'schema':M,'ClassRef':E,'execute':_0x23b0b8=>T[_0x12df67(0xdd)](_0x23b0b8,_0x865c85)});_0x16ef39[_0x12df67(0x1d6)](0xc8)[_0x12df67(0x5b0)](_0xc2b3c2);})[_0x2bcfdb(0x4ed)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x67e)),..._0x1939f2,async(_0x7866ec,_0x4d611e)=>{const _0x99490a=_0x2bcfdb;f[_0x99490a(0x19a)](_0x99490a(0x18b));let _0x512f8c=await this[_0x99490a(0x44b)]({'request':_0x7866ec,'schema':M,'ClassRef':E,'execute':_0x3188f3=>T['getAutomateSystem'](_0x3188f3)});_0x4d611e[_0x99490a(0x1d6)](0xc8)['json'](_0x512f8c);})[_0x2bcfdb(0x4ed)](this[_0x2bcfdb(0x30f)]('getTicketSystem'),..._0x1939f2,async(_0x340ec3,_0x55dd69)=>{const _0x418f76=_0x2bcfdb;f[_0x418f76(0x19a)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0xb9eb03=await this['dataValidate']({'request':_0x340ec3,'schema':M,'ClassRef':E,'execute':_0x15aab9=>T[_0x418f76(0x67e)](_0x15aab9)});_0x55dd69[_0x418f76(0x1d6)](0xc8)[_0x418f76(0x5b0)](_0xb9eb03);})[_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x251)),..._0x1939f2,async(_0x4091da,_0x4a5711)=>{const _0x5a58f5=_0x2bcfdb;let _0x3d73b6=_0x4091da[_0x5a58f5(0x15f)];f[_0x5a58f5(0x19a)](_0x5a58f5(0x64d)),f[_0x5a58f5(0x19a)]('request\x20body:\x20'),f[_0x5a58f5(0x19a)](_0x4091da['body']);let _0x40b7fb=await this[_0x5a58f5(0x44b)]({'request':_0x4091da,'schema':M,'ClassRef':E,'execute':_0x149541=>T[_0x5a58f5(0x251)](_0x149541,_0x3d73b6)});_0x4a5711['status'](0xc8)[_0x5a58f5(0x5b0)](_0x40b7fb);})['post'](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x1c9)),..._0x1939f2,async(_0x320d3b,_0x1eb03f)=>{const _0xccc6cb=_0x2bcfdb;let _0x1dbe06=_0x320d3b['body'];f[_0xccc6cb(0x19a)](_0xccc6cb(0x159)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x320d3b['body']);let _0x467c1a=await this[_0xccc6cb(0x44b)]({'request':_0x320d3b,'schema':M,'ClassRef':E,'execute':_0x1a983e=>T[_0xccc6cb(0x1c9)](_0x1a983e,_0x1dbe06)});_0x1eb03f[_0xccc6cb(0x1d6)](0xc8)['json'](_0x467c1a);})[_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x493)),..._0x1939f2,async(_0x54f2aa,_0x313bf5)=>{const _0x46e39c=_0x2bcfdb;let _0xb78d42=_0x54f2aa['body'];f[_0x46e39c(0x19a)](_0x46e39c(0x445)),f[_0x46e39c(0x19a)](_0x46e39c(0x238)),f[_0x46e39c(0x19a)](_0x54f2aa[_0x46e39c(0x15f)]);let _0x49bcc9=await this[_0x46e39c(0x44b)]({'request':_0x54f2aa,'schema':M,'ClassRef':E,'execute':_0x4bc529=>T['updateFlowConfig'](_0x4bc529,_0xb78d42)});_0x313bf5[_0x46e39c(0x1d6)](0xc8)[_0x46e39c(0x5b0)](_0x49bcc9);})['post'](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x299)),..._0x1939f2,async(_0x3de6c2,_0x4d2fc1)=>{const _0x447cf5=_0x2bcfdb;let _0x10d074=_0x3de6c2[_0x447cf5(0x15f)];f['verbose'](_0x447cf5(0x2d7)),f[_0x447cf5(0x19a)](_0x447cf5(0x238)),f['verbose'](_0x3de6c2['body']);let _0x29098e=await this['dataValidate']({'request':_0x3de6c2,'schema':M,'ClassRef':E,'execute':_0x3f5f3e=>T[_0x447cf5(0x299)](_0x3f5f3e,_0x10d074)});_0x4d2fc1['status'](0xc8)['json'](_0x29098e);})[_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x2e1)),..._0x1939f2,async(_0x4e8cfc,_0x45f3e0)=>{const _0x10cfa8=_0x2bcfdb;let _0x335ec7=_0x4e8cfc[_0x10cfa8(0x15f)];f[_0x10cfa8(0x19a)](_0x10cfa8(0x4d7)),f[_0x10cfa8(0x19a)](_0x10cfa8(0x238)),f[_0x10cfa8(0x19a)](_0x4e8cfc[_0x10cfa8(0x15f)]);let _0x2fd917=await this[_0x10cfa8(0x44b)]({'request':_0x4e8cfc,'schema':M,'ClassRef':E,'execute':_0x2f8593=>T['fetchConversation'](_0x2f8593,_0x335ec7)});_0x45f3e0[_0x10cfa8(0x1d6)](0xc8)[_0x10cfa8(0x5b0)](_0x2fd917);})[_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x6ee)),..._0x1939f2,async(_0x457731,_0x51c6dd)=>{const _0x2ea984=_0x2bcfdb;let _0x5646cc=_0x457731[_0x2ea984(0x15f)];f[_0x2ea984(0x19a)](_0x2ea984(0x56e)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x457731['body']);let _0x11ab8a=await this[_0x2ea984(0x44b)]({'request':_0x457731,'schema':M,'ClassRef':E,'execute':_0x3fbaaa=>T[_0x2ea984(0x6ee)](_0x3fbaaa,_0x5646cc)});_0x51c6dd[_0x2ea984(0x1d6)](0xc8)['json'](_0x11ab8a);})[_0x2bcfdb(0x6cf)](this['routerPath'](_0x2bcfdb(0x520)),..._0x1939f2,async(_0x17f0ac,_0x4cb030)=>{const _0x46f68d=_0x2bcfdb;let _0x537f77=_0x17f0ac[_0x46f68d(0x15f)];f['verbose']('request\x20received\x20in\x20deleteConversation'),f[_0x46f68d(0x19a)](_0x46f68d(0x238)),f[_0x46f68d(0x19a)](_0x17f0ac['body']);let _0x175a2c=await this[_0x46f68d(0x44b)]({'request':_0x17f0ac,'schema':M,'ClassRef':E,'execute':_0x550f63=>T[_0x46f68d(0x520)](_0x550f63,_0x537f77)});_0x4cb030[_0x46f68d(0x1d6)](0xc8)[_0x46f68d(0x5b0)](_0x175a2c);})['post'](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x1e3)),..._0x1939f2,async(_0x56fae0,_0xe22977)=>{const _0x3982ce=_0x2bcfdb;let _0x5a2c04=_0x56fae0[_0x3982ce(0x15f)];f['verbose'](_0x3982ce(0x629)),f['verbose'](_0x3982ce(0x238)),f[_0x3982ce(0x19a)](_0x56fae0['body']);let _0x179121=await this['dataValidate']({'request':_0x56fae0,'schema':M,'ClassRef':E,'execute':_0x2c6a8d=>T[_0x3982ce(0x5e6)](_0x2c6a8d,_0x5a2c04)});_0xe22977[_0x3982ce(0x1d6)](0xc8)['json'](_0x179121);})['post'](this['routerPath'](_0x2bcfdb(0x105)),..._0x1939f2,async(_0x136b47,_0x30edf5)=>{const _0xf8f767=_0x2bcfdb;let _0x2d5f84=_0x136b47[_0xf8f767(0x15f)];f[_0xf8f767(0x19a)](_0xf8f767(0x277)),f['verbose'](_0xf8f767(0x238)),f[_0xf8f767(0x19a)](_0x136b47[_0xf8f767(0x15f)]),delete _0x2d5f84[_0xf8f767(0x71d)],delete _0x2d5f84[_0xf8f767(0x60f)],delete _0x2d5f84[_0xf8f767(0x358)],delete _0x2d5f84[_0xf8f767(0x600)];let _0x3ea475=await this[_0xf8f767(0x44b)]({'request':_0x136b47,'schema':M,'ClassRef':E,'execute':_0x2e954b=>T[_0xf8f767(0x714)](_0x2e954b,_0x2d5f84)});_0x30edf5[_0xf8f767(0x1d6)](0xc8)[_0xf8f767(0x5b0)](_0x3ea475);})['post'](this['routerPath'](_0x2bcfdb(0x3ca)),..._0x1939f2,async(_0x96cbcc,_0x5856fd)=>{const _0x3c52c2=_0x2bcfdb;let _0x548bf7=_0x96cbcc[_0x3c52c2(0x15f)];f[_0x3c52c2(0x19a)]('request\x20received\x20in\x20editFlow'),f[_0x3c52c2(0x19a)]('request\x20body:\x20'),f[_0x3c52c2(0x19a)](_0x96cbcc[_0x3c52c2(0x15f)]);let _0x22374a=await this[_0x3c52c2(0x44b)]({'request':_0x96cbcc,'schema':M,'ClassRef':E,'execute':_0x287623=>T[_0x3c52c2(0x718)](_0x287623,_0x548bf7)});_0x5856fd[_0x3c52c2(0x1d6)](0xc8)[_0x3c52c2(0x5b0)](_0x22374a);})['post'](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x624)),..._0x1939f2,async(_0x4a7510,_0x21dc56)=>{const _0x19714e=_0x2bcfdb;let _0x3dacff=_0x4a7510[_0x19714e(0x15f)];f['verbose'](_0x19714e(0x277)),f[_0x19714e(0x19a)](_0x19714e(0x238)),f[_0x19714e(0x19a)](_0x4a7510[_0x19714e(0x15f)]);let _0x3bf754=await this[_0x19714e(0x44b)]({'request':_0x4a7510,'schema':M,'ClassRef':E,'execute':_0x551f18=>T[_0x19714e(0x522)](_0x551f18,_0x3dacff)});_0x21dc56[_0x19714e(0x1d6)](0xc8)[_0x19714e(0x5b0)](_0x3bf754);})[_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x225)),..._0x1939f2,async(_0x4d5172,_0x1ecc63)=>{const _0x50d230=_0x2bcfdb;let _0x41a863=_0x4d5172[_0x50d230(0x15f)];f[_0x50d230(0x19a)](_0x50d230(0x277)),f[_0x50d230(0x19a)](_0x50d230(0x238)),f[_0x50d230(0x19a)](_0x4d5172[_0x50d230(0x15f)]);let _0x5918c3=await this[_0x50d230(0x44b)]({'request':_0x4d5172,'schema':M,'ClassRef':E,'execute':_0x370260=>T[_0x50d230(0x513)](_0x370260,_0x41a863)});_0x1ecc63[_0x50d230(0x1d6)](0xc8)['json'](_0x5918c3);})[_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x3a8)),..._0x1939f2,async(_0x2c3992,_0x484931)=>{const _0x4f97fd=_0x2bcfdb;let _0x4b032a=_0x2c3992[_0x4f97fd(0x15f)];f[_0x4f97fd(0x19a)](_0x4f97fd(0x49a)),f[_0x4f97fd(0x19a)](_0x4f97fd(0x238)),f['verbose'](_0x2c3992[_0x4f97fd(0x15f)]);let _0xae2bd1=await this[_0x4f97fd(0x44b)]({'request':_0x2c3992,'schema':M,'ClassRef':E,'execute':_0x2d45cd=>T[_0x4f97fd(0x703)](_0x2d45cd,_0x4b032a)});_0x484931[_0x4f97fd(0x1d6)](0xc8)['json'](_0xae2bd1);})['post'](this['routerPath'](_0x2bcfdb(0x51b)),..._0x1939f2,async(_0x4ede4a,_0x14e25b)=>{const _0x299b87=_0x2bcfdb;let _0x54b0cf=_0x4ede4a[_0x299b87(0x15f)];f['verbose']('request\x20received\x20in\x20editFlowcondition'),f[_0x299b87(0x19a)]('request\x20body:\x20'),f[_0x299b87(0x19a)](_0x4ede4a[_0x299b87(0x15f)]);let _0x4e4159=await this[_0x299b87(0x44b)]({'request':_0x4ede4a,'schema':M,'ClassRef':E,'execute':_0x3a1061=>T[_0x299b87(0xe9)](_0x3a1061,_0x54b0cf)});_0x14e25b[_0x299b87(0x1d6)](0xc8)[_0x299b87(0x5b0)](_0x4e4159);})[_0x2bcfdb(0x626)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x652)),..._0x1939f2,async(_0x3b1362,_0x12aea0)=>{const _0x40f6bb=_0x2bcfdb;let _0x2b2341=_0x3b1362[_0x40f6bb(0x15f)];f[_0x40f6bb(0x19a)](_0x40f6bb(0x38e)),f[_0x40f6bb(0x19a)](_0x40f6bb(0x238)),f[_0x40f6bb(0x19a)](_0x3b1362[_0x40f6bb(0x15f)]);let _0x2ca5d5=await this[_0x40f6bb(0x44b)]({'request':_0x3b1362,'schema':M,'ClassRef':E,'execute':_0x114418=>T['editFlowVariable'](_0x114418,_0x2b2341)});_0x12aea0[_0x40f6bb(0x1d6)](0xc8)[_0x40f6bb(0x5b0)](_0x2ca5d5);})[_0x2bcfdb(0x626)](this['routerPath'](_0x2bcfdb(0x470)),..._0x1939f2,async(_0x21ce90,_0xb59f0d)=>{const _0x49bec2=_0x2bcfdb;let _0x3e9a28=_0x21ce90[_0x49bec2(0x15f)];f[_0x49bec2(0x19a)](_0x49bec2(0x153)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x21ce90[_0x49bec2(0x15f)]);let _0xde542a=await this[_0x49bec2(0x44b)]({'request':_0x21ce90,'schema':M,'ClassRef':E,'execute':_0xa532b7=>T[_0x49bec2(0x5d9)](_0xa532b7,_0x3e9a28)});_0xb59f0d['status'](0xc8)[_0x49bec2(0x5b0)](_0xde542a);})[_0x2bcfdb(0x6cf)](this[_0x2bcfdb(0x30f)]('deleteflow'),..._0x1939f2,async(_0x466335,_0x5273d9)=>{const _0x101f2d=_0x2bcfdb;let _0x1acc39=_0x466335[_0x101f2d(0x15f)];f[_0x101f2d(0x19a)](_0x101f2d(0x457)),f['verbose'](_0x101f2d(0x238)),f['verbose'](_0x466335['body']);let _0xe8c6c6=await this[_0x101f2d(0x44b)]({'request':_0x466335,'schema':M,'ClassRef':E,'execute':_0x5172cf=>T['deleteFlow'](_0x5172cf,_0x1acc39)});_0x5273d9['status'](0xc8)['json'](_0xe8c6c6);})[_0x2bcfdb(0x4ed)](this[_0x2bcfdb(0x30f)](_0x2bcfdb(0x30b)),..._0x1939f2,async(_0x48aeaa,_0x489d58)=>{const _0xf7f984=_0x2bcfdb;f[_0xf7f984(0x19a)]('request\x20received\x20in\x20allFlows');let _0x40e28f=await this[_0xf7f984(0x44b)]({'request':_0x48aeaa,'schema':M,'ClassRef':E,'execute':_0x25aec7=>T[_0xf7f984(0x72f)](_0x25aec7)});_0x489d58[_0xf7f984(0x1d6)](0xc8)[_0xf7f984(0x5b0)](_0x40e28f);});}},co=R(require(a0_0x3146da(0x37e))),X={};function ro(_0x2c8de9,_0x40799e,_0x124449,_0x5eff17){X[_0x2c8de9]||(X[_0x2c8de9]={}),X[_0x2c8de9][_0x40799e]={'id':_0x40799e,'response':_0x124449,'events':_0x5eff17};}function io(_0x2ddd5e,_0x33f110){!X[_0x2ddd5e]||!X[_0x2ddd5e][_0x33f110]||delete X[_0x2ddd5e][_0x33f110];}function J(_0x49c449,_0x4d3973,_0x562fe7){const _0x31b357=a0_0x3146da;if(!X[_0x49c449])return;let _0x5cb058=_0x31b357(0x428)+JSON['stringify'](_0x562fe7)+'\x0a\x0a';Object['values'](X[_0x49c449])[_0x31b357(0x3d2)](_0x28b44b=>{const _0x44f69a=_0x31b357;_0x28b44b[_0x44f69a(0x31e)][_0x44f69a(0x44a)](_0x4d3973)&&_0x28b44b[_0x44f69a(0x295)][_0x44f69a(0x179)](_0x5cb058);});}function no(){const _0xf24c1a=a0_0x3146da;let _0x49eb75={};for(let _0x4a8045 in X)_0x49eb75[_0x4a8045]=Object[_0xf24c1a(0x374)](X[_0x4a8045])['map'](_0x4f2ee0=>({'id':_0x4f2ee0['id'],'events':_0x4f2ee0[_0xf24c1a(0x31e)]}));return _0x49eb75;}var lo=require(a0_0x3146da(0x57e)),ws=require(a0_0x3146da(0x292)),fs=class{},cr=new ws[(a0_0x3146da(0x1c8))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0x3146da(0x1c8))]({'_id':{'type':String,'default':a0_0x3146da(0x231)},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x3146da(0x423)](fs[a0_0x3146da(0x51a)],lr,a0_0x3146da(0x453)),ur=co[a0_0x3146da(0x5e3)][a0_0x3146da(0x353)](__dirname,a0_0x3146da(0x606)),vt=(0x0,Mt['Router'])(),dr=b[a0_0x3146da(0x4ed)]('AUTHENTICATION')[a0_0x3146da(0x5db)],te=[ma,fa,ba[dr]];vt['use'](a0_0x3146da(0xd2),Mt['default']['static'](ur))['get'](a0_0x3146da(0x31d),async(_0x1552c5,_0x352adc)=>{const _0x796459=a0_0x3146da;console[_0x796459(0x5e0)](_0x796459(0x23f));let _0x2d6cd7=_0x1552c5[_0x796459(0x181)][_0x796459(0x519)],_0x5ba599=(_0x1552c5['query']['events']||'')['split'](','),_0x3376c1=(0x0,lo['v4'])();console[_0x796459(0x5e0)](_0x796459(0x369),_0x2d6cd7),console[_0x796459(0x5e0)]('Subscribed\x20Events:',_0x5ba599);let _0x200a62=b['get'](_0x796459(0x4fc))['API_KEY'],_0x43ec9a=_0x1552c5[_0x796459(0x495)][_0x796459(0x3eb)];if(console['log'](_0x796459(0xea),_0x43ec9a),_0x200a62[_0x796459(0x456)]!==_0x43ec9a){console[_0x796459(0x5e0)](_0x796459(0x607));try{let _0x17b2a6=await ce[_0x796459(0x69f)][_0x796459(0x6a9)](_0x2d6cd7);if(console[_0x796459(0x5e0)](_0x796459(0x2b9),_0x17b2a6),!_0x17b2a6||_0x17b2a6[_0x796459(0x3eb)]!==_0x43ec9a)return console['log'](_0x796459(0xc5)),_0x352adc[_0x796459(0x1d6)](0x191)[_0x796459(0x1b7)](_0x796459(0x55a));}catch(_0x1a33de){return console[_0x796459(0x451)](_0x796459(0x20b),_0x1a33de),_0x352adc['status'](0x191)['send'](_0x796459(0x36b));}}if(!await We(_0x2d6cd7))return _0x352adc[_0x796459(0x1d6)](0x194)[_0x796459(0x1b7)](_0x796459(0x452));_0x352adc['setHeader']('Content-Type',_0x796459(0x577)),_0x352adc[_0x796459(0x28b)](_0x796459(0x1bd),_0x796459(0x61d)),_0x352adc['setHeader'](_0x796459(0x42e),_0x796459(0x444)),_0x352adc[_0x796459(0x422)]();let _0x5ad3d7='data:\x20'+JSON[_0x796459(0x692)]({'info':_0x796459(0x51d)})+'\x0a\x0a';_0x352adc['write'](_0x5ad3d7),ro(_0x2d6cd7,_0x3376c1,_0x352adc,_0x5ba599),_0x1552c5['on'](_0x796459(0x5d6),()=>{const _0x3de308=_0x796459;console[_0x3de308(0x5e0)]('Connection\x20closed\x20for\x20instance:\x20'+_0x2d6cd7),io(_0x2d6cd7,_0x3376c1);});}),vt[a0_0x3146da(0x4ed)]('/clients-info',(_0x111443,_0x50cf87)=>{const _0x3abfac=a0_0x3146da;let _0x4bc2c0=no();_0x50cf87[_0x3abfac(0x5b0)](_0x4bc2c0);})[a0_0x3146da(0x4ed)]('/',(_0x2a4527,_0x29b656)=>{const _0x4f3a73=a0_0x3146da;let _0xc7b533=b[_0x4f3a73(0x4ed)](_0x4f3a73(0x237)),_0x60042a=_0xc7b533&&_0xc7b533[_0x4f3a73(0x59d)][_0x4f3a73(0x72c)]('/')[0x4];if(_0x60042a){let _0x3b6fa2=encodeURIComponent(_0x4f3a73(0x101)+_0x60042a);_0x29b656[_0x4f3a73(0x4ae)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x3b6fa2);}else _0x29b656[_0x4f3a73(0x4ae)](_0x4f3a73(0x294));})[a0_0x3146da(0x412)](a0_0x3146da(0x4f9),...te,async(_0x160ea4,_0x5a262b)=>{const _0xd7c08c=a0_0x3146da;try{console[_0xd7c08c(0x5e0)](_0xd7c08c(0x146)),_0x5a262b[_0xd7c08c(0x1d6)](0xc8)[_0xd7c08c(0x5b0)]({'message':_0xd7c08c(0x657)}),_0x5a262b['on'](_0xd7c08c(0x5bc),()=>process[_0xd7c08c(0x728)](0x0));}catch(_0x326e2b){console[_0xd7c08c(0x451)](_0xd7c08c(0x5dd),_0x326e2b),_0x5a262b['status'](0x1f4)['json']({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x3146da(0x412)](a0_0x3146da(0x3e5),...te,async(_0x56e9a6,_0x42c05c)=>{const _0x1f9615=a0_0x3146da;try{let _0x58c140=_0x56e9a6[_0x1f9615(0x15f)];await we['updateOne']({},{'$set':_0x58c140},{'upsert':!0x0});let _0x437ea5=await we['findOne']();_0x42c05c[_0x1f9615(0x5b0)](_0x437ea5);}catch(_0x51a677){_0x42c05c[_0x1f9615(0x1d6)](0x190)[_0x1f9615(0x1b7)](_0x51a677['message']);}})[a0_0x3146da(0x4ed)]('/config',...te,async(_0x13c518,_0x4735fa)=>{const _0x3e5f2a=a0_0x3146da;try{let _0x36ccc1=await we['findOne']();if(!_0x36ccc1)return _0x4735fa[_0x3e5f2a(0x5b0)]({});_0x4735fa[_0x3e5f2a(0x5b0)](_0x36ccc1);}catch(_0x215fe2){_0x4735fa[_0x3e5f2a(0x1d6)](0x1f4)[_0x3e5f2a(0x1b7)](_0x215fe2['message']);}})[a0_0x3146da(0x5ed)]('/instance',new ct(b,...te)[a0_0x3146da(0x6b9)])[a0_0x3146da(0x5ed)]('/message',new bt(...te)[a0_0x3146da(0x6b9)])[a0_0x3146da(0x5ed)](a0_0x3146da(0x37d),new Xe(...te)['router'])[a0_0x3146da(0x5ed)](a0_0x3146da(0x48e),new nt(...te)[a0_0x3146da(0x6b9)])[a0_0x3146da(0x5ed)]('/webhook',new Et(...te)['router'])[a0_0x3146da(0x5ed)](a0_0x3146da(0x261),new Ct(...te)['router']);var m=class{constructor(..._0x11fc0d){const _0x1bae76=a0_0x3146da;throw{'status':0x190,'error':'Bad\x20Request','message':_0x11fc0d[_0x1bae76(0x148)]>0x0?_0x11fc0d:void 0x0};}},ee=class{constructor(..._0x13890a){const _0xd6518b=a0_0x3146da;throw{'status':0x191,'error':_0xd6518b(0x285),'message':_0x13890a[_0xd6518b(0x148)]>0x0?_0x13890a:void 0x0};}},K=class{constructor(..._0x24bfe4){const _0x4460fb=a0_0x3146da;throw{'status':0x193,'error':'Forbidden','message':_0x24bfe4[_0x4460fb(0x148)]>0x0?_0x24bfe4:void 0x0};}},j=class{constructor(..._0x2bd61b){const _0x2e4fb2=a0_0x3146da;throw{'status':0x194,'error':_0x2e4fb2(0x3d4),'message':_0x2bd61b['length']>0x0?_0x2bd61b:void 0x0};}},O=class{constructor(..._0x149230){const _0x3126d1=a0_0x3146da;throw{'status':0x1f4,'error':_0x3126d1(0x56c),'message':_0x149230[_0x3126d1(0x148)]>0x0?_0x149230:void 0x0};}},ue=require(a0_0x3146da(0x394));async function ys(_0x210778){const _0x19d383=a0_0x3146da;let _0x4ca3e3=new v(ys['name']),_0x3d51b9=N[_0x19d383(0x47e)](),_0x1cec11=_0x3d51b9['db'](b['get'](_0x19d383(0x306))[_0x19d383(0x310)][_0x19d383(0x197)]+'-instances')['collection'](_0x210778),_0xa8fcaf=async(_0x3691cc,_0x1a33fa)=>{const _0x41ea13=_0x19d383;try{return await _0x3d51b9['connect'](),await _0x1cec11['replaceOne']({'_id':_0x1a33fa},JSON[_0x41ea13(0x64c)](JSON['stringify'](_0x3691cc,ue['BufferJSON'][_0x41ea13(0x3f8)])),{'upsert':!0x0});}catch{}},_0x2b9fb4=async _0x3401c1=>{const _0x54d5e9=_0x19d383;try{await _0x3d51b9[_0x54d5e9(0x34c)]();let _0x4b1941=await _0x1cec11[_0x54d5e9(0xee)]({'_id':_0x3401c1}),_0x4724d4=JSON[_0x54d5e9(0x692)](_0x4b1941);return JSON[_0x54d5e9(0x64c)](_0x4724d4,ue[_0x54d5e9(0x224)]['reviver']);}catch{}},_0x189fa5=async _0x567a01=>{const _0x10a647=_0x19d383;try{return await _0x3d51b9[_0x10a647(0x34c)](),await _0x1cec11[_0x10a647(0x518)]({'_id':_0x567a01});}catch{}},_0x54af30=await _0x2b9fb4(_0x19d383(0x18d))||(0x0,ue[_0x19d383(0x642)])();return{'state':{'creds':_0x54af30,'keys':{'get':async(_0x4c11e1,_0x51d8c1)=>{const _0x2d1e26=_0x19d383;let _0x4fb9d7={};return await Promise[_0x2d1e26(0x182)](_0x51d8c1[_0x2d1e26(0x33c)](async _0x3658d7=>{const _0x4d9911=_0x2d1e26;let _0x287d34=await _0x2b9fb4(_0x4c11e1+'-'+_0x3658d7);_0x4c11e1===_0x4d9911(0x1e4)&&_0x287d34&&(_0x287d34=ue[_0x4d9911(0x3f4)]['Message'][_0x4d9911(0x56d)][_0x4d9911(0x124)](_0x287d34)),_0x4fb9d7[_0x3658d7]=_0x287d34;})),_0x4fb9d7;},'set':async _0xe04e78=>{const _0x2c9329=_0x19d383;let _0x29328f=[];for(let _0x2bda7b in _0xe04e78)for(let _0x5676b1 in _0xe04e78[_0x2bda7b]){let _0x4261cc=_0xe04e78[_0x2bda7b][_0x5676b1],_0xfbc5d6=_0x2bda7b+'-'+_0x5676b1;_0x29328f['push'](_0x4261cc?_0xa8fcaf(_0x4261cc,_0xfbc5d6):_0x189fa5(_0xfbc5d6));}await Promise[_0x2c9329(0x182)](_0x29328f);}}},'saveCreds':async()=>_0xa8fcaf(_0x54af30,_0x19d383(0x18d))};}var Es=R(require('long')),Cs=R(require(a0_0x3146da(0x1b4))),Tt=require(a0_0x3146da(0x394)),uo=require(a0_0x3146da(0x233)),Rt=require('@whiskeysockets/baileys'),Nt;function pr(_0x18e316){const _0xd85ce6=a0_0x3146da;return Nt||(Nt=(0x0,uo[_0xd85ce6(0x69a)])({'url':_0x18e316[_0xd85ce6(0xfa)]}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x3cd446,_0x1908ea){const _0x4a6c1f=a0_0x3146da;this[_0x4a6c1f(0x580)]=_0x3cd446,this[_0x4a6c1f(0x1ec)]=_0x1908ea,this[_0x4a6c1f(0x6a2)]=new v(c[_0x4a6c1f(0x51a)]),this['client']=pr(_0x3cd446);}set[a0_0x3146da(0x5aa)](_0x3156c5){const _0x17a64c=a0_0x3146da;this[_0x17a64c(0x1ec)]=_0x3156c5;}async[a0_0x3146da(0x6d7)](){const _0x31076a=a0_0x3146da;try{return await this[_0x31076a(0x344)][_0x31076a(0x6d6)]([_0x31076a(0x476),this['redisEnv']['PREFIX_KEY']+':*']);}catch(_0x4fa93d){this[_0x31076a(0x6a2)]['error'](_0x4fa93d);}}async[a0_0x3146da(0x6f8)](_0x3b016b,_0x3eb901){const _0x4f1909=a0_0x3146da;try{let _0x1d750f=JSON[_0x4f1909(0x692)](_0x3eb901,Rt['BufferJSON'][_0x4f1909(0x3f8)]);return await this[_0x4f1909(0x344)]['hSet'](this[_0x4f1909(0x580)][_0x4f1909(0x67c)]+':'+this[_0x4f1909(0x1ec)],_0x3b016b,_0x1d750f);}catch(_0x27aa95){this[_0x4f1909(0x6a2)][_0x4f1909(0x451)](_0x27aa95);}}async[a0_0x3146da(0x169)](){const _0x5c2798=a0_0x3146da;try{let _0x3fa257=await this[_0x5c2798(0x344)][_0x5c2798(0x114)](this[_0x5c2798(0x580)][_0x5c2798(0x67c)]+':'+this[_0x5c2798(0x1ec)]);if(_0x3fa257){for(let _0x1b587c in _0x3fa257)Object[_0x5c2798(0x543)]['hasOwnProperty']['call'](_0x3fa257,_0x1b587c)&&(_0x3fa257[_0x1b587c]=JSON[_0x5c2798(0x64c)](_0x3fa257[_0x1b587c],Rt[_0x5c2798(0x224)][_0x5c2798(0x2d5)]));return _0x3fa257;}}catch(_0x1e5307){this[_0x5c2798(0x6a2)][_0x5c2798(0x451)](_0x1e5307);}}async[a0_0x3146da(0x70d)](_0x7e6f09){const _0x39b8fa=a0_0x3146da;try{let _0x173cbb=await this[_0x39b8fa(0x344)]['hGet'](this[_0x39b8fa(0x580)][_0x39b8fa(0x67c)]+':'+this['instanceName'],_0x7e6f09);if(_0x173cbb)return JSON['parse'](_0x173cbb,Rt[_0x39b8fa(0x224)][_0x39b8fa(0x2d5)]);}catch(_0x1c1ad4){this[_0x39b8fa(0x6a2)]['error'](_0x1c1ad4);}}async[a0_0x3146da(0x6a7)](_0x45f887){const _0x573ac3=a0_0x3146da;try{return await this[_0x573ac3(0x344)][_0x573ac3(0x711)](this[_0x573ac3(0x580)]['PREFIX_KEY']+':'+this[_0x573ac3(0x1ec)],_0x45f887);}catch(_0x3211f4){this[_0x573ac3(0x6a2)][_0x573ac3(0x451)](_0x3211f4);}}async[a0_0x3146da(0x6f1)](_0x13cee7){const _0x5b9026=a0_0x3146da;try{return await this[_0x5b9026(0x344)][_0x5b9026(0x2d9)](_0x13cee7||this[_0x5b9026(0x580)][_0x5b9026(0x67c)]+':'+this[_0x5b9026(0x1ec)]);}catch(_0x50416a){this[_0x5b9026(0x6a2)][_0x5b9026(0x451)](_0x50416a);}}};async function bs(_0xeac6d,_0x204fc6){const _0x5c0a9e=a0_0x3146da;let _0x33d0da=new v(bs[_0x5c0a9e(0x51a)]),_0x2315f2=new oe(_0xeac6d,_0x204fc6),_0x3a6058=async(_0x6ae731,_0x245460)=>{const _0x39c54f=_0x5c0a9e;try{return await _0x2315f2[_0x39c54f(0x6f8)](_0x245460,_0x6ae731);}catch(_0x5e02f4){return _0x33d0da[_0x39c54f(0x451)]({'localError':_0x39c54f(0x6f8),'error':_0x5e02f4});}},_0x46be96=async _0x23667a=>{const _0x2e87ab=_0x5c0a9e;try{return await _0x2315f2['readData'](_0x23667a);}catch(_0x4d70ef){_0x33d0da[_0x2e87ab(0x451)]({'readData':'writeData','error':_0x4d70ef});return;}},_0x3e2218=async _0x4cd1e7=>{const _0x4ff584=_0x5c0a9e;try{return await _0x2315f2['removeData'](_0x4cd1e7);}catch(_0x579674){_0x33d0da[_0x4ff584(0x451)]({'readData':_0x4ff584(0x6a7),'error':_0x579674});}},_0x2d0ec9=await _0x46be96(_0x5c0a9e(0x18d))||(0x0,Tt[_0x5c0a9e(0x642)])();return{'state':{'creds':_0x2d0ec9,'keys':{'get':async(_0x52f1af,_0x576b52)=>{const _0x386d00=_0x5c0a9e;let _0x141658={};return await Promise[_0x386d00(0x182)](_0x576b52[_0x386d00(0x33c)](async _0x53240d=>{const _0x59f652=_0x386d00;let _0x364af6=await _0x46be96(_0x52f1af+'-'+_0x53240d);_0x52f1af===_0x59f652(0x1e4)&&_0x364af6&&(_0x364af6=Tt[_0x59f652(0x3f4)][_0x59f652(0xd8)]['AppStateSyncKeyData'][_0x59f652(0x124)](_0x364af6)),_0x141658[_0x53240d]=_0x364af6;})),_0x141658;},'set':async _0x3cdc19=>{let _0xdec78=[];for(let _0x12126b in _0x3cdc19)for(let _0x193a65 in _0x3cdc19[_0x12126b]){let _0x4cc566=_0x3cdc19[_0x12126b][_0x193a65],_0x228bad=_0x12126b+'-'+_0x193a65;_0xdec78['push'](_0x4cc566?await _0x3a6058(_0x4cc566,_0x228bad):await _0x3e2218(_0x228bad));}await Promise['all'](_0xdec78);}}},'saveCreds':async()=>await _0x3a6058(_0x2d0ec9,_0x5c0a9e(0x18d))};}var L=R(require('fs')),Me=require('uuid'),xt=R(require('sharp')),Dt=require('https-proxy-agent'),hr='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x3146da(0x69c)](),At=hr[a0_0x3146da(0x72c)]('\x0a')[a0_0x3146da(0x33c)](_0x248771=>{const _0x5f559e=a0_0x3146da;let _0x5e290a=_0x248771['split'](':');return{'host':_0x5e290a[0x0],'port':_0x5e290a[0x1],'username':_0x5e290a[0x2],'password':_0x5e290a[0x3],'protocol':_0x5f559e(0x474)};});function po(_0x5de25f){const _0x42d485=a0_0x3146da;let _0x174efc=At['find'](_0x198d40=>_0x198d40[_0x42d485(0x177)]===_0x5de25f);return _0x174efc||null;}function ho(){const _0x4d93f8=a0_0x3146da;if(At[_0x4d93f8(0x148)]===0x0)return null;let _0xb329e3=Math[_0x4d93f8(0x67f)](Math[_0x4d93f8(0x110)]()*At[_0x4d93f8(0x148)]);return At[_0xb329e3];}function go(_0xb555cf){const _0x216226=a0_0x3146da;let _0x27b784=_0x54a954=>typeof _0x54a954==_0x216226(0x584)&&_0x54a954['length']>0x0,_0x5628d5=_0x3f0102=>{let _0x2980de=parseInt(_0x3f0102,0xa);return!isNaN(_0x2980de)&&_0x2980de>0x0&&_0x2980de<=0xffff;},_0x5b2359=_0x3cb69d=>typeof _0x3cb69d==_0x216226(0x584)&&_0x3cb69d[_0x216226(0x148)]>0x0;return _0xb555cf&&_0x27b784(_0xb555cf[_0x216226(0x177)])&&_0x5628d5(_0xb555cf[_0x216226(0x4a7)])&&_0x5b2359(_0xb555cf[_0x216226(0x372)])&&_0x5b2359(_0xb555cf[_0x216226(0x588)])&&(_0xb555cf['protocol']===_0x216226(0x474)||_0xb555cf[_0x216226(0x727)]===_0x216226(0x1cc));}var Eo=a0_0x3146da(0x246),Ms,re=null,mo=null,He=null,gr=0x3,mr=null;async function fr(){const _0x513bd5=a0_0x3146da;let _0x2004d7=await we['findOne']();re=_0x2004d7?.[_0x513bd5(0x20e)]??null,mr=_0x2004d7?.[_0x513bd5(0x29e)]??null,Eo=_0x2004d7?.[_0x513bd5(0x2d6)]??'Chrome',Ms=_0x2004d7?.[_0x513bd5(0x15b)]??vs??'uazapi',console['log']('CONFIGURAÇÃO\x20GERAL:'),console['log'](_0x2004d7);}async function wr(){await fr();}wr();function $(_0x1a6888){const _0x2b041e=a0_0x3146da;if(_0x1a6888[_0x2b041e(0x2f7)]||_0x1a6888[_0x2b041e(0x515)]){let _0x230950=_0x1a6888[_0x2b041e(0x2f7)]?_0x1a6888[_0x2b041e(0x2f7)][_0x2b041e(0x25d)]:_0x1a6888['viewOnceMessageV2'][_0x2b041e(0x25d)];if(_0x230950)return(0x0,y['getContentType'])(_0x230950);}return _0x1a6888[_0x2b041e(0x491)]?_0x2b041e(0x491):_0x1a6888['pollCreationMessageV2']?_0x2b041e(0x550):_0x1a6888['viewOnceMessageV2Extension']?_0x2b041e(0x242):(0x0,y[_0x2b041e(0x213)])(_0x1a6888);}var fo={},ye=class c{constructor(_0x3c0665,_0x2d7b39,_0x1adf34){const _0x33a668=a0_0x3146da;this[_0x33a668(0x31c)]=_0x3c0665,this[_0x33a668(0x656)]=_0x2d7b39,this['repository']=_0x1adf34,this[_0x33a668(0x15d)]=null,this[_0x33a668(0x6a2)]=new v(c[_0x33a668(0x51a)]),this[_0x33a668(0x519)]={},this['localWebhook']={},this[_0x33a668(0x566)]={'state':_0x33a668(0x5d6)},this[_0x33a668(0x685)]=(0x0,F['join'])(ae,_0x33a668(0x606)),this[_0x33a668(0x439)]=new Cs['default'](),this[_0x33a668(0x130)]=new Cs[(_0x33a668(0x5e3))](),this['endSession']=!0x1,this[_0x33a668(0x6ef)]={'status.instance':_0x33a668(0x43f),'qrcode.updated':_0x33a668(0x502),'messages.upsert':_0x33a668(0x347),'messages.update':_0x33a668(0x298),'send.message':_0x33a668(0x347),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x33a668(0x248),'connection.update':_0x33a668(0x43f),'messages.set':'/wa-message','contacts.set':_0x33a668(0x3c1),'contacts.upsert':_0x33a668(0x3c1),'contacts.update':'/wa-contacts','presence.update':_0x33a668(0x472),'chats.set':_0x33a668(0x3b3),'chats.update':_0x33a668(0x3b3),'chats.upsert':_0x33a668(0x3b3),'chats.delete':'/wa-chats'},this[_0x33a668(0x524)]=0x0,this[_0x33a668(0x192)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0x33a668(0x723)]=0xea60,this['isRunning']=!0x1,this[_0x33a668(0x516)]={'chats.upsert':async(_0x1496e8,_0x1ae230)=>{const _0x4250c9=_0x33a668;let _0x208feb=[];for await(let _0x24b018 of _0x1496e8)_0x208feb[_0x4250c9(0x621)]({'_id':_0x24b018['id'],'owner':this[_0x4250c9(0x519)][_0x4250c9(0x419)],'group':_0x24b018['id'][_0x4250c9(0x604)](_0x4250c9(0xe2)),'name':_0x24b018['name']||_0x24b018['displayName']||null,'contactname':null,'lastmsg':_0x24b018[_0x4250c9(0x1da)]&&_0x24b018[_0x4250c9(0x1da)][_0x4250c9(0x63d)]()[_0x4250c9(0x148)]<0xd?_0x24b018[_0x4250c9(0x1da)]*0x3e8:_0x24b018[_0x4250c9(0x1da)]||null,'archived':_0x24b018[_0x4250c9(0x232)]||!0x1,'unreadcount':_0x24b018['unreadCount']||0x0});this[_0x4250c9(0xcf)](_0x4250c9(0x6f2),_0x208feb);},'chats.update':async(_0x547fac,_0x477059)=>{const _0x480654=_0x33a668;for(let _0x12f66e of _0x547fac){let _0xd694f0={'_id':_0x12f66e['id'],'owner':this[_0x480654(0x519)][_0x480654(0x419)],'group':_0x12f66e['id']['endsWith']('@g.us'),'name':_0x12f66e['name']||_0x12f66e[_0x480654(0x590)],'archived':_0x12f66e[_0x480654(0x232)],'ephemeralExpiration':_0x12f66e[_0x480654(0x3b9)]},_0x1a629d=!0x1,_0x17ddc3={};_0xd694f0['archived']!=null&&(this[_0x480654(0x6a2)][_0x480654(0x19a)](this['instanceName']+'\x20('+this[_0x480654(0x519)][_0x480654(0x419)]+_0x480654(0x647)+_0x12f66e['archived']),_0x1a629d=!0x0,_0x17ddc3[_0x480654(0x232)]=_0x12f66e[_0x480654(0x232)]),_0x12f66e[_0x480654(0x51a)]!=null&&(this[_0x480654(0x6a2)][_0x480654(0x19a)](this[_0x480654(0x1ec)]+'\x20('+this['instance'][_0x480654(0x419)]+_0x480654(0x360)+_0x12f66e[_0x480654(0x51a)]),_0x1a629d=!0x0,_0x17ddc3[_0x480654(0x51a)]=_0x12f66e[_0x480654(0x51a)]),_0x12f66e['displayName']!=null&&(this[_0x480654(0x6a2)][_0x480654(0x19a)](this[_0x480654(0x1ec)]+'\x20('+this['instance']['wuid']+_0x480654(0x69d)+_0x12f66e[_0x480654(0x590)]),_0x1a629d=!0x0,_0x17ddc3[_0x480654(0x51a)]=_0x12f66e[_0x480654(0x590)]);let _0x1e41b1;_0x1a629d&&(_0x1e41b1=await this[_0x480654(0x1ad)][_0x480654(0x11c)][_0x480654(0x2f8)]({'where':{'_id':_0x12f66e['id']}},_0x17ddc3,this[_0x480654(0x519)][_0x480654(0x419)])),_0x1e41b1&&J(this['instanceName'],'chats',{'chat':_0x1e41b1});}},'chats.delete':async _0x244d75=>{const _0x44ac9b=_0x33a668;this[_0x44ac9b(0xcf)]('chats.delete',[..._0x244d75]);}},this[_0x33a668(0x669)]={'contacts.upsert':async(_0x355dc2,_0x104c8c)=>{const _0xc08cfc=_0x33a668;let _0x809a10=await this[_0xc08cfc(0x1ad)][_0xc08cfc(0x3e9)][_0xc08cfc(0x6a9)]({'where':{}},this[_0xc08cfc(0x519)]['wuid']),_0x4dde6b=[];for await(let _0x40138d of _0x355dc2)_0x809a10[_0xc08cfc(0x6a9)](_0x30efbe=>_0x30efbe['_id']===_0x40138d['id'])||_0x4dde6b['push']({'_id':_0x40138d['id'],'pushName':_0x40138d?.[_0xc08cfc(0x51a)]||_0x40138d?.[_0xc08cfc(0x2b4)],'owner':this[_0xc08cfc(0x519)][_0xc08cfc(0x419)]});this[_0xc08cfc(0xcf)](_0xc08cfc(0x12b),_0x4dde6b),await this[_0xc08cfc(0x1ad)][_0xc08cfc(0x3e9)][_0xc08cfc(0x72a)](_0x4dde6b);},'contacts.update':async(_0x32c4f4,_0x3d582f)=>{const _0x2e3a6f=_0x33a668;let _0x58f21a=[];for await(let _0x5ce6f9 of _0x32c4f4)_0x58f21a[_0x2e3a6f(0x621)]({'_id':_0x5ce6f9['id'],'pushName':_0x5ce6f9?.[_0x2e3a6f(0x51a)]??_0x5ce6f9?.[_0x2e3a6f(0x2b4)],'owner':this['instance']['wuid']});this[_0x2e3a6f(0xcf)](_0x2e3a6f(0x659),_0x58f21a);}},this[_0x33a668(0x3b6)]={'messaging-history.set':async({messages:_0x17446f,chats:_0x214369,isLatest:_0xde1ad8},_0x44e50e)=>{const _0x3fa0bd=_0x33a668;if(_0xde1ad8){let _0xfdae62=await Promise[_0x3fa0bd(0x182)](_0x214369[_0x3fa0bd(0x33c)](async _0x3b0837=>({'_id':_0x3b0837['id'],'owner':this['instance']['wuid'],'group':_0x3b0837['id'][_0x3fa0bd(0x604)](_0x3fa0bd(0xe2)),'name':_0x3b0837[_0x3fa0bd(0x51a)]||_0x3b0837[_0x3fa0bd(0x590)]||null,'contactname':null,'lastmsg':_0x3b0837['conversationTimestamp']&&_0x3b0837[_0x3fa0bd(0x1da)][_0x3fa0bd(0x63d)]()[_0x3fa0bd(0x148)]<0xd?_0x3b0837[_0x3fa0bd(0x1da)]*0x3e8:_0x3b0837[_0x3fa0bd(0x1da)]||null,'archived':_0x3b0837['archived']||!0x1,'unreadcount':_0x3b0837['unreadCount']||0x0})));this[_0x3fa0bd(0xcf)](_0x3fa0bd(0x53b),_0xfdae62),await this[_0x3fa0bd(0x152)](_0xfdae62,_0x44e50e);}let _0x4515f1=[],_0x35c6c9=Date[_0x3fa0bd(0x257)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5f2208]of Object[_0x3fa0bd(0x489)](_0x17446f)){if(_0x5f2208[_0x3fa0bd(0x25d)]?.['protocolMessage']||_0x5f2208[_0x3fa0bd(0x25d)]?.[_0x3fa0bd(0x3a9)]||!_0x5f2208[_0x3fa0bd(0x25d)]||_0x5f2208[_0x3fa0bd(0x415)]['remoteJid']===_0x3fa0bd(0x2ca)||(Es['default'][_0x3fa0bd(0x721)](_0x5f2208?.[_0x3fa0bd(0x3cb)])&&(_0x5f2208[_0x3fa0bd(0x3cb)]=_0x5f2208[_0x3fa0bd(0x3cb)]?.[_0x3fa0bd(0x19f)]()),_0x5f2208[_0x3fa0bd(0x3cb)]&&_0x5f2208['messageTimestamp'][_0x3fa0bd(0x63d)]()[_0x3fa0bd(0x148)]<0xd&&(_0x5f2208[_0x3fa0bd(0x3cb)]=_0x5f2208[_0x3fa0bd(0x3cb)]*0x3e8),_0x5f2208[_0x3fa0bd(0x3cb)]<_0x35c6c9))continue;let {message_normalized:_0x105443}=this[_0x3fa0bd(0x643)](_0x5f2208[_0x3fa0bd(0x25d)],$(_0x5f2208[_0x3fa0bd(0x25d)]),null);Object[_0x3fa0bd(0x476)](_0x105443)['length']>0x0&&_0x4515f1[_0x3fa0bd(0x621)]({'_id':_0x5f2208['key']['id'],'key':_0x5f2208[_0x3fa0bd(0x415)],'pushName':_0x5f2208[_0x3fa0bd(0x1ac)],'participant':_0x5f2208['participant'],'message':{..._0x5f2208[_0x3fa0bd(0x25d)]},'messageType':$(_0x5f2208['message']),'message_normalized':{'key':_0x5f2208['key'],'pushName':_0x5f2208['pushName'],'messageTimestamp':_0x5f2208[_0x3fa0bd(0x3cb)],..._0x105443},'messageTimestamp':_0x5f2208[_0x3fa0bd(0x3cb)],'owner':this[_0x3fa0bd(0x519)][_0x3fa0bd(0x419)]});}_0x44e50e[_0x3fa0bd(0x5e5)]&&_0x4515f1[_0x3fa0bd(0x148)]>0x0&&(this[_0x3fa0bd(0x6a2)]['verbose'](this['instanceName']+'\x20('+this[_0x3fa0bd(0x519)][_0x3fa0bd(0x419)]+_0x3fa0bd(0x6e9)+_0x4515f1[_0x3fa0bd(0x148)]+_0x3fa0bd(0x2dc)+this['instance'][_0x3fa0bd(0x419)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x3fa0bd(0x1ad)][_0x3fa0bd(0x25d)][_0x3fa0bd(0x72a)]([..._0x4515f1],this[_0x3fa0bd(0x519)][_0x3fa0bd(0x419)])),this['sendDataWebhook'](_0x3fa0bd(0x65c),[..._0x4515f1]),_0x17446f=void 0x0;},'messages.upsert':async({messages:_0x594de5,type:_0x434d32},_0x598285)=>{const _0x52b383=_0x33a668;let _0xff2716=_0x594de5[0x0];if(_0x434d32!==_0x52b383(0x62c)||!_0xff2716?.[_0x52b383(0x25d)]||_0xff2716[_0x52b383(0x25d)]?.['protocolMessage']||_0xff2716[_0x52b383(0x25d)][_0x52b383(0x3a9)]||_0xff2716[_0x52b383(0x415)][_0x52b383(0x340)]==='status@broadcast')return;let _0x119ac7=null,_0x3e6255=null;try{_0x119ac7=await this['processPollUpdateMessage'](_0xff2716),_0x3e6255=_0x119ac7?_0x119ac7['join'](','):null;}catch(_0x5d3baa){this[_0x52b383(0x6a2)][_0x52b383(0x19a)](this[_0x52b383(0x1ec)]+'\x20('+this[_0x52b383(0x519)][_0x52b383(0x419)]+'):\x20'+(_0x5d3baa instanceof Error?_0x5d3baa['message']:JSON[_0x52b383(0x692)](_0x5d3baa,null,0x2))),_0x3e6255=_0x52b383(0x373);}if(this[_0x52b383(0x344)][_0x52b383(0x442)]('unavailable'),Es[_0x52b383(0x5e3)][_0x52b383(0x721)](_0xff2716[_0x52b383(0x3cb)])&&(_0xff2716[_0x52b383(0x3cb)]=_0xff2716['messageTimestamp']?.[_0x52b383(0x19f)]()),this['localWebhook']?.[_0x52b383(0x3b2)]&&_0xff2716[_0x52b383(0x415)]['remoteJid'][_0x52b383(0x44a)]('@g.us')){this[_0x52b383(0x6a2)][_0x52b383(0x19a)](this['instanceName']+'\x20('+this[_0x52b383(0x519)]['wuid']+_0x52b383(0x24e));return;}_0xff2716[_0x52b383(0x3cb)]&&_0xff2716['messageTimestamp'][_0x52b383(0x63d)]()[_0x52b383(0x148)]<0xd&&(_0xff2716[_0x52b383(0x3cb)]=_0xff2716[_0x52b383(0x3cb)]*0x3e8);let _0x2ff4df=_0xff2716[_0x52b383(0x25d)],{messageContent:_0x143078,message_normalized:_0x3bb59e}=this[_0x52b383(0x643)](_0x2ff4df,$(_0xff2716[_0x52b383(0x25d)]),_0x3e6255),_0x18dfb8={'_id':_0xff2716[_0x52b383(0x415)]['id'],'key':_0xff2716['key'],'pushName':_0xff2716[_0x52b383(0x1ac)],'message':{..._0xff2716[_0x52b383(0x25d)]},'messageType':$(_0xff2716[_0x52b383(0x25d)]),'message_normalized':{'key':_0xff2716[_0x52b383(0x415)],'pushName':_0xff2716[_0x52b383(0x1ac)],'messageTimestamp':_0xff2716[_0x52b383(0x3cb)],'source':(0x0,y[_0x52b383(0x1d5)])(_0xff2716['key']['id']),..._0x3bb59e},'messageTimestamp':_0xff2716[_0x52b383(0x3cb)],'owner':this[_0x52b383(0x519)]['wuid'],'source':(0x0,y['getDevice'])(_0xff2716[_0x52b383(0x415)]['id'])};_0x143078||(console[_0x52b383(0x451)](_0x52b383(0x686)),this['logger']['log'](_0x18dfb8)),this['logger'][_0x52b383(0x5e0)](this[_0x52b383(0x1ec)]+'\x20('+this[_0x52b383(0x519)]['wuid']+_0x52b383(0x636)+_0x18dfb8['messageType']+_0x52b383(0x222)+_0x18dfb8[_0x52b383(0x415)]?.[_0x52b383(0x1ef)]+'\x20['+_0x18dfb8['key']?.[_0x52b383(0x340)][_0x52b383(0x1ce)](_0x52b383(0x6f9),'')+']:'),_0x18dfb8[_0x52b383(0x411)]?.[_0x52b383(0x69b)]&&this[_0x52b383(0x6a2)][_0x52b383(0x5e0)](_0x18dfb8['message_normalized']?.[_0x52b383(0x69b)]),await this[_0x52b383(0x1ad)]['message'][_0x52b383(0x72a)]([_0x18dfb8],this[_0x52b383(0x519)][_0x52b383(0x419)]),this[_0x52b383(0xcf)]('messages.upsert',_0x18dfb8),J(this[_0x52b383(0x1ec)],_0x52b383(0x494),{'message':_0x18dfb8}),_0xff2716[_0x52b383(0x415)][_0x52b383(0x340)]!=='status@broadcast'&&await this[_0x52b383(0x404)](_0x598285,_0x18dfb8,_0x52b383(0x5ca));},'messages.update':async(_0x52fcee,_0x4bc109)=>{const _0x42d465=_0x33a668;let _0x4d488e={0x0:_0x42d465(0x337),0x1:_0x42d465(0x221),0x2:_0x42d465(0x39e),0x3:_0x42d465(0x562),0x4:_0x42d465(0x5f2),0x5:_0x42d465(0x209)};for await(let {key:_0x5fc597,update:_0x312aea}of _0x52fcee){if(this[_0x42d465(0x3ba)]?.[_0x42d465(0x3b2)]&&_0x5fc597[_0x42d465(0x340)]['includes']('@g.us')){this[_0x42d465(0x6a2)]['verbose'](_0x42d465(0x508));return;}if(_0x5fc597[_0x42d465(0x340)]!==_0x42d465(0x2ca)){let _0x4677d2=Date[_0x42d465(0x257)](),_0x345374;_0x312aea[_0x42d465(0x25d)]===null&&_0x312aea[_0x42d465(0x1d6)]===void 0x0?_0x345374='DELETED':_0x345374=_0x4d488e[_0x312aea['status']];let _0x449da3=_0x5fc597['remoteJid'][_0x42d465(0x1ce)](/:\d{1,2}@/g,'@'),_0x3741cd={..._0x5fc597,'remoteJid':_0x449da3,'status':_0x345374,'datetime':_0x4677d2,'owner':this[_0x42d465(0x519)][_0x42d465(0x419)]};this[_0x42d465(0xcf)](_0x42d465(0xc4),_0x3741cd),await this[_0x42d465(0x40d)](_0x5fc597,_0x3741cd);}}},'labels.association':async({type:_0x45e9ff,association:_0x85aedd})=>{const _0x431a52=_0x33a668;if(_0x85aedd['type']===_0x431a52(0x4af)){let _0xe07bf0,_0x199e78=0x0;for(;!_0xe07bf0&&_0x199e78<this[_0x431a52(0x552)];)_0xe07bf0=await this[_0x431a52(0x1ad)][_0x431a52(0x11c)][_0x431a52(0xee)]({'where':{'_id':_0x85aedd[_0x431a52(0x325)]}},this[_0x431a52(0x519)][_0x431a52(0x419)]),_0xe07bf0||(_0x199e78++,console[_0x431a52(0x5e0)](_0x431a52(0x612)+_0x85aedd['chatId']+_0x431a52(0x18c)+this[_0x431a52(0x4dd)]+_0x431a52(0xe3)+_0x199e78+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x431a52(0x329)](this[_0x431a52(0x4dd)]));if(!_0xe07bf0){console[_0x431a52(0x451)](_0x431a52(0x557)+_0x85aedd[_0x431a52(0x325)]+_0x431a52(0x201)+this[_0x431a52(0x552)]+'\x20attempts.');return;}switch(_0x45e9ff){case _0x431a52(0x54d):console['log'](_0x85aedd),await this[_0x431a52(0x1ad)]['chat'][_0x431a52(0x2f8)]({'where':{'_id':_0x85aedd[_0x431a52(0x325)]}},{'leadInfo.etiquetas':_0x85aedd[_0x431a52(0x478)]},this['instance'][_0x431a52(0x419)],void 0x0,_0x431a52(0x2e5));break;case _0x431a52(0x4d1):console[_0x431a52(0x5e0)](_0x85aedd),await this[_0x431a52(0x1ad)][_0x431a52(0x11c)][_0x431a52(0x2f8)]({'where':{'_id':_0x85aedd[_0x431a52(0x325)]}},{'leadInfo.etiquetas':_0x85aedd[_0x431a52(0x478)]},this[_0x431a52(0x519)]['wuid'],void 0x0,'$pull');break;default:console['error'](_0x431a52(0x2c6)+_0x45e9ff+']');}}},'labels.edit':async _0x55249c=>{const _0x2dc80b=_0x33a668;if(!_0x55249c||!_0x55249c['id']){console[_0x2dc80b(0x451)](_0x2dc80b(0x58c));return;}if(!_0x55249c['deleted']){let _0x19bef9=[_0x2dc80b(0x572),_0x2dc80b(0x3a7),_0x2dc80b(0x70e),_0x2dc80b(0x62e),_0x2dc80b(0x37a),'#56ccb4','#fe9dfe','#d3a91f',_0x2dc80b(0x57b),_0x2dc80b(0x363),_0x2dc80b(0x613),_0x2dc80b(0xe6),_0x2dc80b(0x3a1),_0x2dc80b(0x630),_0x2dc80b(0x651),_0x2dc80b(0x62a),_0x2dc80b(0x17e),_0x2dc80b(0x405),_0x2dc80b(0x29a),_0x2dc80b(0x1c3)],_0x176aab;typeof _0x55249c[_0x2dc80b(0x1f6)]==_0x2dc80b(0x6e7)&&_0x55249c['color']>=0x0&&_0x55249c['color']<_0x19bef9[_0x2dc80b(0x148)]?_0x176aab=_0x19bef9[_0x55249c['color']]:(console[_0x2dc80b(0x451)](_0x2dc80b(0x63b),_0x55249c[_0x2dc80b(0x1f6)]),_0x176aab='#000000');let _0x4718ec={'_id':_0x55249c['id'],'colorHex':_0x176aab,'color':_0x55249c?.['color'],'name':_0x55249c?.[_0x2dc80b(0x51a)],'owner':this['instance'][_0x2dc80b(0x419)]};await this[_0x2dc80b(0x1ad)][_0x2dc80b(0x5ad)]['updateOne']({'where':{'_id':_0x55249c['id']}},_0x4718ec,this[_0x2dc80b(0x519)]['wuid']),console[_0x2dc80b(0x5e0)]('Rótulo\x20atualizado:',_0x55249c);}_0x55249c[_0x2dc80b(0x1ae)]&&(await this[_0x2dc80b(0x1ad)][_0x2dc80b(0x5ad)][_0x2dc80b(0x6cf)]({'where':{'_id':_0x55249c['id']}},this[_0x2dc80b(0x519)][_0x2dc80b(0x419)]),console[_0x2dc80b(0x5e0)](_0x2dc80b(0x34b),_0x55249c['id']));}},this[_0x33a668(0x6ed)]={'groups.upsert':_0x10664f=>{const _0x5cc472=_0x33a668;this['sendDataWebhook'](_0x5cc472(0x2c9),_0x10664f);},'groups.update':_0x5a0437=>{const _0x3a138a=_0x33a668;this[_0x3a138a(0xcf)](_0x3a138a(0x6a0),_0x5a0437);},'group-participants.update':_0x251810=>{const _0x319269=_0x33a668;this[_0x319269(0xcf)]('group-participants.update',_0x251810);}},this[_0x33a668(0x552)]=0x5,this[_0x33a668(0x4dd)]=0x1388,this[_0x33a668(0x672)]=async _0x40587f=>{const _0x46c249=_0x33a668;if(_0x40587f[_0x46c249(0x25d)]?.['pollUpdateMessage']){let _0x140190=await this[_0x46c249(0x547)](_0x40587f['message'][_0x46c249(0x48f)]['pollCreationMessageKey'],!0x0);if(_0x140190){let _0x1a3ebc=_0x140190[_0x46c249(0x415)][_0x46c249(0x1ef)]?this[_0x46c249(0x519)]['wuid']+_0x46c249(0x6f9):_0x140190[_0x46c249(0x415)][_0x46c249(0x3bc)]||_0x140190[_0x46c249(0x415)][_0x46c249(0x340)],_0x53693e=_0x140190[_0x46c249(0x415)]['id'],_0x990414=_0x140190['message'],_0x242ace=Buffer[_0x46c249(0x467)](_0x990414[_0x46c249(0x41a)][_0x46c249(0x362)][_0x46c249(0x63d)](_0x46c249(0xf6)),'hex'),_0x4bbe7b=(0x0,y[_0x46c249(0x2eb)])(_0x40587f[_0x46c249(0x25d)][_0x46c249(0x48f)][_0x46c249(0x2f2)],{'pollCreatorJid':_0x1a3ebc,'pollMsgId':_0x53693e,'pollEncKey':_0x242ace,'voterJid':_0x40587f[_0x46c249(0x415)]['fromMe']?this[_0x46c249(0x519)]['wuid']+_0x46c249(0x6f9):_0x40587f['key'][_0x46c249(0x340)][_0x46c249(0x604)]('g.us')?_0x40587f[_0x46c249(0x415)][_0x46c249(0x3bc)]:_0x40587f[_0x46c249(0x415)][_0x46c249(0x340)]}),_0x53b360=[],_0x4ad3d0=_0x4bbe7b[_0x46c249(0x1a3)][_0x46c249(0x33c)](_0x5b3014=>Buffer[_0x46c249(0x467)](_0x5b3014)['toString']('hex'));for(let {optionName:_0x2c8a0c}of _0x990414['pollCreationMessage']?.[_0x46c249(0x230)]||_0x990414[_0x46c249(0x491)]?.[_0x46c249(0x230)]||_0x990414['pollCreationMessageV2']?.[_0x46c249(0x230)])_0x4ad3d0[_0x46c249(0x61e)]((0x0,y[_0x46c249(0x57c)])(Buffer[_0x46c249(0x467)](_0x2c8a0c))[_0x46c249(0x63d)](_0x46c249(0xf6)))>-0x1&&_0x53b360['push'](_0x2c8a0c);return _0x53b360;}}return null;},this[_0x33a668(0x643)]=(_0x106ab5,_0x36dd98,_0x1cd8a8)=>{const _0x1f17a2=_0x33a668;try{let _0x298101=_0x36dd98?_0x106ab5[_0x36dd98]:void 0x0,_0x56c54e={},_0x316c15=null,_0x5661a7=null,_0x1ecdd9=null;if(_0x106ab5[_0x1f17a2(0x515)]?(_0x36dd98=$(_0x106ab5['viewOnceMessageV2'][_0x1f17a2(0x25d)]),_0x298101=_0x106ab5['viewOnceMessageV2'][_0x1f17a2(0x25d)][_0x36dd98]):_0x106ab5[_0x1f17a2(0x242)]?(_0x36dd98=$(_0x106ab5[_0x1f17a2(0x242)][_0x1f17a2(0x25d)]),_0x298101=_0x106ab5[_0x1f17a2(0x242)]['message'][_0x36dd98]):_0x106ab5[_0x1f17a2(0x2f7)]?(_0x36dd98=$(_0x106ab5[_0x1f17a2(0x2f7)][_0x1f17a2(0x25d)]),_0x298101=_0x106ab5[_0x1f17a2(0x2f7)][_0x1f17a2(0x25d)][_0x36dd98]):_0x106ab5[_0x1f17a2(0x5d2)]?(_0x36dd98=$(_0x106ab5['message']['ephemeralMessage'][_0x1f17a2(0x25d)]),_0x298101=_0x106ab5[_0x1f17a2(0x25d)][_0x1f17a2(0x5d2)]['message'][_0x36dd98]):_0x106ab5['editedMessage']?.[_0x1f17a2(0x25d)]?.[_0x1f17a2(0x1a1)]?.[_0x1f17a2(0x683)]?(_0x36dd98=$(_0x106ab5[_0x1f17a2(0x683)][_0x1f17a2(0x25d)][_0x1f17a2(0x1a1)][_0x1f17a2(0x683)]),_0x316c15=_0x106ab5[_0x1f17a2(0x683)][_0x1f17a2(0x25d)]['protocolMessage'][_0x1f17a2(0x415)]['id'],_0x298101=_0x106ab5['editedMessage']['message'][_0x1f17a2(0x1a1)][_0x1f17a2(0x683)][_0x36dd98]):_0x298101=_0x106ab5[_0x36dd98],!_0x36dd98||!_0x298101)return console[_0x1f17a2(0x451)]('Unknown\x20message\x20type\x20or\x20empty\x20message',_0x106ab5),{'messageType':_0x36dd98,'messageContent':_0x298101,'message_normalized':{}};_0x106ab5[_0x36dd98]?.['contextInfo']?.[_0x1f17a2(0x175)]&&_0x106ab5[_0x36dd98]?.[_0x1f17a2(0x6f5)]?.['quotedMessage']&&(_0x5661a7=_0x106ab5[_0x36dd98][_0x1f17a2(0x6f5)][_0x1f17a2(0x175)]),_0x106ab5['reactionMessage']&&(_0x1ecdd9=_0x106ab5[_0x1f17a2(0x4d3)][_0x1f17a2(0x415)]['id']);let _0x28e5b7;if(_0x298101&&typeof _0x298101=='object'&&'pollCreationMessageKey'in _0x298101&&({pollCreationMessageKey:_0x28e5b7}=_0x298101),_0x36dd98===_0x1f17a2(0x532)){let _0x27ff5d=_0x298101?.['message']?.[_0x1f17a2(0x72e)];_0x27ff5d&&(_0x298101=_0x27ff5d);}if(_0x36dd98===_0x1f17a2(0x482)||_0x36dd98===_0x1f17a2(0x550)||_0x36dd98===_0x1f17a2(0x491)){let _0x2c8f65=_0x298101[_0x1f17a2(0x230)][_0x1f17a2(0x33c)](_0x4bc3c0=>_0x4bc3c0[_0x1f17a2(0x66e)])[_0x1f17a2(0x353)]('|');_0x56c54e[_0x1f17a2(0x173)]=_0x2c8f65;}let _0x4d1dfe=_0x298101['name']||_0x298101[_0x1f17a2(0x71b)]||_0x298101['conversation']||_0x298101[_0x1f17a2(0x590)];if(_0x36dd98===_0x1f17a2(0x27c)){_0x4d1dfe=(_0x298101[_0x1f17a2(0x3af)]||'')+'\x0a'+(_0x298101[_0x1f17a2(0x25e)]||'')+'\x0a'+(_0x298101[_0x1f17a2(0x409)]||'');let _0x48fce5=this[_0x1f17a2(0x499)](_0x298101[_0x1f17a2(0x4f8)]);_0x56c54e[_0x1f17a2(0x173)]=_0x48fce5;}if(_0x36dd98===_0x1f17a2(0x11f)&&(_0x1cd8a8=_0x298101[_0x1f17a2(0x3af)]),_0x298101[_0x1f17a2(0x11d)]){let _0x14f174=this[_0x1f17a2(0x503)](JSON[_0x1f17a2(0x692)](_0x298101[_0x1f17a2(0x11d)],null,0x2));_0x4d1dfe=_0x4d1dfe+'\x0a'+_0x14f174;}if(_0x298101){let {sections:_0x1bdfce,listType:_0x524411,displayName:_0x571311,vcard:_0x31e6b1,contactVcard:_0x15e757,name:_0x4e02b9,caption:_0x2d8dc0,conversation:_0x3dabab,pollCreationMessageKey:_0xab1bbf,footerText:_0x1b43b0,contentText:_0x48276c,pageCount:_0xc6f3dd,headerType:_0x14a4c8,isAvatar:_0xd47826,isAnimated:_0x88e982,fallbackLc:_0x214e9e,fallbackLg:_0x1ec8ea,namespace:_0x5c291f,elementName:_0x40a13b,localizableParams:_0x342d3d,viewOnce:_0x505f02,height:_0x4413a9,width:_0x596b61,key:_0x2c5498,firstScanLength:_0x479355,firstScanSidecar:_0x26758b,gifPlayback:_0x1cd803,gifAttribution:_0x39d9bc,midQualityFileSha256:_0xa8d138,scansSidecar:_0x360220,streamingSidecar:_0x4758f1,thumbnailHeight:_0x23b724,thumbnailWidth:_0x4bdadf,thumbnailEncSha256:_0x2c0e8f,thumbnailDirectPath:_0xecb50c,canonicalUrl:_0x1a237c,matchedText:_0x2e15d3,previewType:_0x45edb0,thumbnailSha256:_0x174b7d,deviceListMetadataVersion:_0x34099a,inviteLinkGroupTypeV2:_0x533735,interactiveAnnotations:_0x2c8ab6,scanLengths:_0x47fbd5,jpegThumbnail:_0x5e4798,url:_0x170200,mediaKeyTimestamp:_0x202229,waveform:_0x194ed7,stickerSentTs:_0x6427d0,firstFrameLength:_0x21624f,fileEncSha256:_0x540d0d,contextInfo:_0x3d4a55,firstFrameSidecar:_0x3cd2cc,directPath:_0x233515,fileSha256:_0x5b47b9,mediaKey:_0xc7e406,senderTimestampMs:_0x11b42a,..._0x44f24c}=_0x298101;(_0x36dd98===_0x1f17a2(0x27c)||_0x36dd98===_0x1f17a2(0x11f))&&(delete _0x44f24c[_0x1f17a2(0x3af)],delete _0x44f24c[_0x1f17a2(0x25e)]),typeof _0x298101==_0x1f17a2(0x584)?_0x56c54e={'text':_0x298101,'type':_0x36dd98||_0x1f17a2(0x41e),..._0x316c15&&{'edited':_0x316c15},..._0x5661a7&&{'quoted':_0x5661a7},..._0x1ecdd9&&{'reaction':_0x1ecdd9}}:_0x56c54e={'text':_0x4d1dfe,..._0x44f24c,..._0x36dd98===_0x1f17a2(0x48f)?{'poll_id':_0x298101[_0x1f17a2(0x199)]['id'],'quoted':_0x298101[_0x1f17a2(0x199)]['id'],'vote':_0x1cd8a8}:{},..._0x36dd98==='listResponseMessage'?{'vote':_0x1cd8a8}:{},'type':_0x36dd98,..._0x316c15&&{'edited':_0x316c15},..._0x5661a7&&{'quoted':_0x5661a7},..._0x1ecdd9&&{'reaction':_0x1ecdd9},...(_0x36dd98===_0x1f17a2(0x482)||_0x36dd98==='pollCreationMessageV2'||_0x36dd98==='pollCreationMessageV3'||_0x36dd98===_0x1f17a2(0x27c))&&{'convertedOptions':_0x56c54e['convertedOptions']}};}return{'messageType':_0x36dd98,'messageContent':_0x298101,'message_normalized':_0x56c54e};}catch(_0x559fa3){return console[_0x1f17a2(0x451)](_0x1f17a2(0x2a7),_0x559fa3),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x33a668(0x2dd)]=null,this[_0x33a668(0x3f3)]=0x0,this[_0x33a668(0x5dc)]=null,(this['cleanStore'](),this[_0x33a668(0x519)][_0x33a668(0x3ef)]={'count':0x0});}set[a0_0x3146da(0x1ec)](_0x51afce){const _0x4decf1=a0_0x3146da;if(!_0x51afce){this[_0x4decf1(0x519)]['name']=(0x0,yo['v4'])();return;}this['instance'][_0x4decf1(0x51a)]=_0x51afce,this[_0x4decf1(0xcf)](_0x4decf1(0x674),{'instance':this[_0x4decf1(0x519)][_0x4decf1(0x51a)],'status':'created'});}get[a0_0x3146da(0x1ec)](){const _0x364401=a0_0x3146da;return this[_0x364401(0x519)]['name'];}get['wuid'](){const _0x5c7749=a0_0x3146da;return this[_0x5c7749(0x519)]['wuid'];}async[a0_0x3146da(0x2a5)](){const _0x332bf6=a0_0x3146da;let _0x5a3a04=this[_0x332bf6(0x344)]['user']?.['name']??this[_0x332bf6(0x344)][_0x332bf6(0xc1)]?.[_0x332bf6(0x2b4)];if(!_0x5a3a04){if(this[_0x332bf6(0x31c)][_0x332bf6(0x4ed)](_0x332bf6(0x306))[_0x332bf6(0x5e5)]){let _0x352b6b=await N[_0x332bf6(0x47e)]()['db'](this[_0x332bf6(0x31c)][_0x332bf6(0x4ed)](_0x332bf6(0x306))['CONNECTION']['DB_PREFIX_NAME']+'-instances')['collection'](this[_0x332bf6(0x1ec)])[_0x332bf6(0xee)]({'_id':'creds'});if(_0x352b6b){let _0x2be4fa=JSON['parse'](JSON[_0x332bf6(0x692)](_0x352b6b),y[_0x332bf6(0x224)][_0x332bf6(0x2d5)]);_0x5a3a04=_0x2be4fa['me']?.[_0x332bf6(0x51a)]||_0x2be4fa['me']?.[_0x332bf6(0x2b4)];}}else{if((0x0,ve[_0x332bf6(0x338)])((0x0,F[_0x332bf6(0x353)])(ge,this[_0x332bf6(0x1ec)],_0x332bf6(0x6db)))){let _0x95e417=JSON[_0x332bf6(0x64c)]((0x0,ve[_0x332bf6(0x5ab)])((0x0,F[_0x332bf6(0x353)])(ge,this[_0x332bf6(0x1ec)],_0x332bf6(0x6db)),{'encoding':'utf-8'}));_0x5a3a04=_0x95e417['me']?.[_0x332bf6(0x51a)]||_0x95e417['me']?.['verifiedName'];}}}return _0x5a3a04;}get['profilePictureUrl'](){const _0x2d0fd4=a0_0x3146da;return this['instance'][_0x2d0fd4(0x25a)];}get[a0_0x3146da(0xcc)](){const _0x5f19d9=a0_0x3146da;return{'pairingCode':this['instance']['qrcode']?.[_0x5f19d9(0x2cd)],'code':this['instance'][_0x5f19d9(0x3ef)]?.[_0x5f19d9(0x72d)],'base64':this['instance']['qrcode']?.[_0x5f19d9(0x4c6)]};}async[a0_0x3146da(0x589)](){const _0x4aeee0=a0_0x3146da;let _0x255a01=await this['repository'][_0x4aeee0(0x5c4)]['find'](this[_0x4aeee0(0x1ec)]);this[_0x4aeee0(0x3ba)][_0x4aeee0(0x2d4)]=_0x255a01?.[_0x4aeee0(0x2d4)],this[_0x4aeee0(0x3ba)]['enabled']=_0x255a01?.[_0x4aeee0(0xc0)],this['localWebhook'][_0x4aeee0(0x117)]=_0x255a01?.[_0x4aeee0(0x117)],this['localWebhook'][_0x4aeee0(0x455)]=_0x255a01?.[_0x4aeee0(0x455)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x2fd)]=_0x255a01?.[_0x4aeee0(0x2fd)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x64f)]=_0x255a01?.[_0x4aeee0(0x64f)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x5ca)]=_0x255a01?.['MESSAGES_UPSERT'],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x413)]=_0x255a01?.[_0x4aeee0(0x413)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x271)]=_0x255a01?.[_0x4aeee0(0x271)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x138)]=_0x255a01?.[_0x4aeee0(0x138)],this[_0x4aeee0(0x3ba)]['GROUP_PARTICIPANTS_UPDATE']=_0x255a01?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x12f)]=_0x255a01?.[_0x4aeee0(0x12f)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x2b1)]=_0x255a01?.[_0x4aeee0(0x2b1)],this['localWebhook'][_0x4aeee0(0x549)]=_0x255a01?.[_0x4aeee0(0x549)],this['localWebhook'][_0x4aeee0(0x5c9)]=_0x255a01?.['CHATS_DELETE'],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x127)]=_0x255a01?.[_0x4aeee0(0x127)],this['localWebhook'][_0x4aeee0(0x3cc)]=_0x255a01?.['CONTACTS_UPSERT'],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x479)]=_0x255a01?.[_0x4aeee0(0x479)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x481)]=_0x255a01?.[_0x4aeee0(0x481)],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x3fe)]=_0x255a01?.['MESSAGES_SET'],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x1b3)]=_0x255a01?.['CONNECTION_UPDATE'],this[_0x4aeee0(0x3ba)][_0x4aeee0(0x3b2)]=_0x255a01?.[_0x4aeee0(0x3b2)];}async[a0_0x3146da(0x22c)](_0x42262f){const _0x3975db=a0_0x3146da;let _0x1a41ca=[_0x3975db(0x60a),_0x3975db(0x2d4),_0x3975db(0xc0),_0x3975db(0x117),_0x3975db(0x455),'QRCODE_UPDATED',_0x3975db(0x413),_0x3975db(0x5ca),_0x3975db(0x64f),'GROUPS_UPSERT',_0x3975db(0x138),_0x3975db(0x6aa),_0x3975db(0x12f),_0x3975db(0x2b1),'CHATS_UPDATE','CHATS_DELETE','CONTACTS_SET',_0x3975db(0x3cc),_0x3975db(0x479),_0x3975db(0x481),_0x3975db(0x3fe),'CONNECTION_UPDATE',_0x3975db(0x3b2)],_0x112888={};return _0x1a41ca[_0x3975db(0x3d2)](_0xb4584c=>{_0x42262f[_0xb4584c]!==void 0x0&&(_0x112888[_0xb4584c]=_0x42262f[_0xb4584c]);}),await this[_0x3975db(0x1ad)][_0x3975db(0x5c4)][_0x3975db(0x16f)](_0x112888,this[_0x3975db(0x1ec)]),Object['assign'](this[_0x3975db(0x3ba)],_0x112888),await this[_0x3975db(0x1ad)][_0x3975db(0x5c4)]['find'](this['instanceName']);}async[a0_0x3146da(0x2de)](){const _0x3a13ff=a0_0x3146da;return await this[_0x3a13ff(0x1ad)][_0x3a13ff(0x5c4)][_0x3a13ff(0x6a9)](this[_0x3a13ff(0x1ec)]);}async[a0_0x3146da(0xcf)](_0x3a0cde,_0x5dac28){const _0x132d1b=a0_0x3146da;let _0x4499ef=_0x3a0cde[_0x132d1b(0x1ce)](/[\.-]/gm,'_')[_0x132d1b(0x133)](),_0x860c7b=this[_0x132d1b(0x3ba)][_0x132d1b(0xc0)]&&(0x0,k['isURL'])(this['localWebhook'][_0x132d1b(0x2d4)])?this['localWebhook']['url']+(this[_0x132d1b(0x3ba)][_0x132d1b(0x117)]?this[_0x132d1b(0x6ef)][_0x3a0cde]:''):null,_0x38ca75=this['localWebhook'][_0x4499ef],_0x5a8cfe=re&&re['enabled']&&(0x0,k[_0x132d1b(0x33e)])(re[_0x132d1b(0x2d4)])?re[_0x132d1b(0x2d4)]+(re[_0x132d1b(0x117)]?this[_0x132d1b(0x6ef)][_0x3a0cde]:''):null,_0x207391=re?re[_0x4499ef]:null;if(_0x38ca75&&_0x860c7b)try{await se[_0x132d1b(0x5e3)][_0x132d1b(0x16f)]({'baseURL':_0x860c7b})[_0x132d1b(0x626)]('',{'event':_0x3a0cde,'instance':this[_0x132d1b(0x519)]['name'],'data':_0x5dac28}),this[_0x132d1b(0x6a2)]['log'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3a0cde+':\x20'+_0x860c7b);}catch{this[_0x132d1b(0x6a2)][_0x132d1b(0x451)](this[_0x132d1b(0x1ec)]+'\x20('+this['instance'][_0x132d1b(0x419)]+_0x132d1b(0x26d)+_0x3a0cde+':\x20'+_0x860c7b);}if(_0x207391&&_0x5a8cfe)try{await se[_0x132d1b(0x5e3)][_0x132d1b(0x16f)]({'baseURL':_0x5a8cfe})['post']('',{'event':_0x3a0cde,'instance':this[_0x132d1b(0x519)][_0x132d1b(0x51a)],'data':_0x5dac28}),this[_0x132d1b(0x6a2)][_0x132d1b(0x5e0)](this[_0x132d1b(0x1ec)]+'\x20('+this[_0x132d1b(0x519)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3a0cde+':\x20'+_0x5a8cfe);}catch{this[_0x132d1b(0x6a2)][_0x132d1b(0x451)](this['instanceName']+'\x20('+this[_0x132d1b(0x519)][_0x132d1b(0x419)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3a0cde+':\x20'+_0x5a8cfe);}}async[a0_0x3146da(0x44f)]({qr:_0x107678,connection:_0x3d6dbb,lastDisconnect:_0xfc180a}){const _0x28ee40=a0_0x3146da;if(_0x107678){if(this['instance'][_0x28ee40(0x3ef)][_0x28ee40(0x71a)]===gr)return this[_0x28ee40(0xcf)](_0x28ee40(0x4db),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':y[_0x28ee40(0x123)][_0x28ee40(0x6bd)]}),this['stateConnection']={'state':_0x28ee40(0x2b6),'statusReason':y[_0x28ee40(0x123)][_0x28ee40(0x50c)]},this[_0x28ee40(0xcf)](_0x28ee40(0x4ca),{'instance':this[_0x28ee40(0x519)][_0x28ee40(0x51a)],...this[_0x28ee40(0x566)]}),this[_0x28ee40(0xcf)](_0x28ee40(0x674),{'instance':this[_0x28ee40(0x519)][_0x28ee40(0x51a)],'status':'removed'}),this[_0x28ee40(0x1ad)][_0x28ee40(0x69f)][_0x28ee40(0x16f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x28ee40(0x257)]()},this[_0x28ee40(0x519)][_0x28ee40(0x51a)]),this[_0x28ee40(0x21c)]=!0x0,this[_0x28ee40(0x656)][_0x28ee40(0x26b)]('no.connection',this[_0x28ee40(0x519)][_0x28ee40(0x51a)]);this['instance']['qrcode'][_0x28ee40(0x71a)]++;let _0x586826={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x28ee40(0x65a)}};bo[_0x28ee40(0x5e3)][_0x28ee40(0x2bc)](_0x107678,_0x586826,(_0x28d70a,_0x5516ff)=>{const _0x11fce4=_0x28ee40;if(_0x28d70a){this[_0x11fce4(0x6a2)][_0x11fce4(0x451)](this['instanceName']+'\x20('+this[_0x11fce4(0x519)][_0x11fce4(0x419)]+_0x11fce4(0x61c)+(_0x28d70a instanceof Error?_0x28d70a['message']:JSON['stringify'](_0x28d70a,null,0x2)));return;}this['instance'][_0x11fce4(0x3ef)]['base64']=_0x5516ff,this['instance'][_0x11fce4(0x3ef)][_0x11fce4(0x72d)]=_0x107678,this[_0x11fce4(0xcf)](_0x11fce4(0x4db),{'qrcode':{'instance':this[_0x11fce4(0x519)][_0x11fce4(0x51a)],'pairingCode':this[_0x11fce4(0x519)][_0x11fce4(0x3ef)][_0x11fce4(0x2cd)],'code':_0x107678,'base64':_0x5516ff}});}),this[_0x28ee40(0x40c)]?this[_0x28ee40(0x519)]['qrcode'][_0x28ee40(0x2cd)]=await this[_0x28ee40(0x344)]['requestPairingCode'](this[_0x28ee40(0x40c)]):this[_0x28ee40(0x519)][_0x28ee40(0x3ef)][_0x28ee40(0x2cd)]=null,So[_0x28ee40(0x5e3)][_0x28ee40(0x22f)](_0x107678,{'small':!0x0},_0x2a2269=>this[_0x28ee40(0x6a2)][_0x28ee40(0x5e0)](_0x28ee40(0x2ed)+this[_0x28ee40(0x519)]['name']+_0x28ee40(0x2e7)+this[_0x28ee40(0x519)]['qrcode'][_0x28ee40(0x71a)]+_0x28ee40(0x356)+this[_0x28ee40(0x519)][_0x28ee40(0x3ef)][_0x28ee40(0x2cd)]+_0x28ee40(0x5d8)+_0x2a2269));}if(_0x3d6dbb&&(this[_0x28ee40(0x566)]={'state':_0x3d6dbb,'statusReason':_0xfc180a?.[_0x28ee40(0x451)]?.[_0x28ee40(0x47f)]?.[_0x28ee40(0xc8)]??0xc8},this[_0x28ee40(0xcf)](_0x28ee40(0x4ca),{'instance':this['instance'][_0x28ee40(0x51a)],...this[_0x28ee40(0x566)]})),_0x3d6dbb==='close'){if(this[_0x28ee40(0x524)]++,this[_0x28ee40(0x192)]['push'](Date[_0x28ee40(0x257)]()),this['reconnectTimestamps']=this[_0x28ee40(0x192)][_0x28ee40(0x431)](_0xd6a367=>Date['now']()-_0xd6a367<this['RECONNECT_TIME_FRAME']),_0xfc180a[_0x28ee40(0x451)]?.[_0x28ee40(0x47f)]?.['statusCode']!==y['DisconnectReason']['loggedOut']&&this[_0x28ee40(0x192)][_0x28ee40(0x148)]<=this[_0x28ee40(0x33b)])console[_0x28ee40(0x5e0)](this[_0x28ee40(0x1ec)]+_0x28ee40(0x341)+this[_0x28ee40(0x524)]+'/'+this[_0x28ee40(0x33b)]+_0x28ee40(0x28f)),console['log'](_0x28ee40(0xec)),await this[_0x28ee40(0x484)]();else{this[_0x28ee40(0xcf)](_0x28ee40(0x674),{'instance':this[_0x28ee40(0x519)][_0x28ee40(0x51a)],'status':_0x28ee40(0x3d1)}),this[_0x28ee40(0xbf)]=!0x1,this[_0x28ee40(0x1ad)][_0x28ee40(0x5c4)][_0x28ee40(0x6cf)](this[_0x28ee40(0x1ec)]),this[_0x28ee40(0x1ad)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x28ee40(0x257)]()},this[_0x28ee40(0x519)]['name']);try{this[_0x28ee40(0x6a2)]['verbose'](this[_0x28ee40(0x1ec)]+'\x20('+this[_0x28ee40(0x519)][_0x28ee40(0x419)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x167f32=await this['repository'][_0x28ee40(0x25d)][_0x28ee40(0x425)](this['instance'][_0x28ee40(0x419)]);_0x167f32[_0x28ee40(0x4aa)]?this[_0x28ee40(0x6a2)][_0x28ee40(0x19a)](this['instanceName']+'\x20('+this[_0x28ee40(0x519)][_0x28ee40(0x419)]+_0x28ee40(0x3b8)):console[_0x28ee40(0x451)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x167f32['error']);}catch(_0x5ccfeb){console[_0x28ee40(0x451)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x5ccfeb);}this[_0x28ee40(0x59a)]!==null&&(this['logger'][_0x28ee40(0x19a)](this[_0x28ee40(0x1ec)]+'\x20('+this[_0x28ee40(0x519)]['wuid']+_0x28ee40(0x500)),clearInterval(this[_0x28ee40(0x59a)]),this[_0x28ee40(0x59a)]=null),this[_0x28ee40(0x6a2)][_0x28ee40(0x19a)](this['instanceName']+'\x20('+this[_0x28ee40(0x519)][_0x28ee40(0x419)]+'):\x20Limpando\x20AutomateSystem'),this[_0x28ee40(0x15d)]=null,this['eventEmitter']['emit'](_0x28ee40(0x6d8),this[_0x28ee40(0x519)][_0x28ee40(0x51a)],_0x28ee40(0x4bf)),this[_0x28ee40(0x344)]?.['ws']?.[_0x28ee40(0x5d6)](),this[_0x28ee40(0x344)][_0x28ee40(0x2e6)](new Error('Close\x20connection'));}}if(_0x3d6dbb===_0x28ee40(0x4fa)){this[_0x28ee40(0x339)],this[_0x28ee40(0x519)]['wuid']=this['client']['user']['id'][_0x28ee40(0x1ce)](/:\d+/,'')[_0x28ee40(0x1ce)](_0x28ee40(0x6f9),''),this[_0x28ee40(0x519)][_0x28ee40(0x25a)]=(await this['profilePicture'](this[_0x28ee40(0x519)][_0x28ee40(0x419)]+'@s.whatsapp.net'))[_0x28ee40(0x25a)],this[_0x28ee40(0x1ad)]['auth'][_0x28ee40(0x16f)]({'online':!0x0,'owner':this['instance'][_0x28ee40(0x419)],'lastDisconnect':null},this[_0x28ee40(0x519)]['name']);let _0x12d7d3='Número:\x20'+this[_0x28ee40(0x519)]['wuid'],_0x53b558=0x28,_0x1d47b7=Math[_0x28ee40(0x67f)]((_0x53b558-_0x12d7d3[_0x28ee40(0x148)])/0x2),_0x11ad59='\x20'[_0x28ee40(0x5c1)](_0x1d47b7),_0x4e104e=_0x28ee40(0x2a9),_0x365722='Instância:\x20'+this[_0x28ee40(0x519)][_0x28ee40(0x51a)],_0x33f9d9=(''+_0x11ad59+_0x12d7d3+_0x11ad59)[_0x28ee40(0x480)](_0x53b558,'\x20'),_0x345703=(''+_0x11ad59+_0x4e104e+_0x11ad59)[_0x28ee40(0x480)](_0x53b558,'\x20'),_0x44fecb=(''+_0x11ad59+_0x365722+_0x11ad59)[_0x28ee40(0x480)](_0x53b558,'\x20'),_0x23ed10=Math[_0x28ee40(0x13a)](_0x33f9d9[_0x28ee40(0x148)],_0x345703['length'],_0x44fecb[_0x28ee40(0x148)]),_0x30c2e4=_0x33f9d9[_0x28ee40(0x480)](_0x23ed10,'\x20'),_0x5007e0=_0x345703[_0x28ee40(0x480)](_0x23ed10,'\x20'),_0xdb5ef5=_0x44fecb['padEnd'](_0x23ed10,'\x20');this[_0x28ee40(0x6a2)][_0x28ee40(0x6d1)]((_0x28ee40(0x506)+'─'[_0x28ee40(0x5c1)](_0x23ed10)+_0x28ee40(0x176)+_0x5007e0+_0x28ee40(0x317)+_0xdb5ef5+_0x28ee40(0x317)+_0x30c2e4+_0x28ee40(0x239)+'─'[_0x28ee40(0x5c1)](_0x23ed10)+'┘')[_0x28ee40(0x1ce)](/^ +/gm,'\x20\x20')),this[_0x28ee40(0x5be)](),this['isConnected']=!0x0;}}[a0_0x3146da(0x339)](){const _0x5c030d=a0_0x3146da;this[_0x5c030d(0x524)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x3146da(0x547)](_0x58eb42,_0x5b6868=!0x1){const _0x544c94=a0_0x3146da;try{let _0x16d5e8=await this['repository'][_0x544c94(0x25d)][_0x544c94(0x6a9)]({'where':{'_id':_0x58eb42['id']}},this[_0x544c94(0x519)][_0x544c94(0x419)]);return _0x5b6868?_0x16d5e8[0x0]:_0x16d5e8[0x0][_0x544c94(0x25d)];}catch{return{'conversation':''};}}[a0_0x3146da(0x46b)](){const _0x428743=a0_0x3146da;let _0x2617b3=this[_0x428743(0x31c)][_0x428743(0x4ed)](_0x428743(0x730)),_0x5c3d73=this['configService'][_0x428743(0x4ed)](_0x428743(0x306));_0x2617b3?.[_0x428743(0x67a)]&&!_0x5c3d73[_0x428743(0x5e5)]&&setInterval(()=>{const _0x37d375=_0x428743;try{for(let [_0x2e15c9,_0x2cdad3]of Object['entries'](_0x2617b3))_0x2cdad3===!0x0&&(0x0,_t[_0x37d375(0x575)])(_0x37d375(0x4e9)+(0x0,F['join'])(this[_0x37d375(0x685)],_0x2e15c9['toLowerCase'](),this[_0x37d375(0x519)]['wuid'])+_0x37d375(0x644));}catch{}},(_0x2617b3?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async['defineAuthState'](){const _0x59767a=a0_0x3146da;let _0x475e7e=this[_0x59767a(0x31c)]['get'](_0x59767a(0x306)),_0x2f6b87=this[_0x59767a(0x31c)][_0x59767a(0x4ed)](_0x59767a(0x5bf));return _0x2f6b87?.[_0x59767a(0x5e5)]?await bs(_0x2f6b87,this[_0x59767a(0x519)][_0x59767a(0x51a)]):_0x475e7e['ENABLED']?await ys(this['instance']['name']):await(0x0,y['useMultiFileAuthState'])((0x0,F[_0x59767a(0x353)])(ge,this[_0x59767a(0x519)][_0x59767a(0x51a)]));}async[a0_0x3146da(0x5be)](){const _0x2db875=a0_0x3146da;let _0x8f7dc4=()=>Math[_0x2db875(0x67f)](Math['random']()*0x2711)+0x7d0,_0x5c26bf=async()=>{const _0x5a20ed=_0x2db875;if(!this[_0x5a20ed(0xbf)]){this[_0x5a20ed(0x6a2)]['verbose'](_0x5a20ed(0x3c9)),this[_0x5a20ed(0x4ce)]=!0x1;return;}if(this['instance'][_0x5a20ed(0x419)]&&this[_0x5a20ed(0x15d)]&&this['delayMessage']!==null&&this[_0x5a20ed(0x59a)]!==void 0x0){let _0x2d05dd=Math['round'](this['delayMessage']/0xea60);this[_0x5a20ed(0x6a2)][_0x5a20ed(0x19a)](this[_0x5a20ed(0x1ec)]+'\x20('+this[_0x5a20ed(0x519)][_0x5a20ed(0x419)]+_0x5a20ed(0x125)+_0x2d05dd+_0x5a20ed(0x1dd)),this[_0x5a20ed(0x4ce)]=!0x1;return;}else this[_0x5a20ed(0x519)][_0x5a20ed(0x419)]&&(this[_0x5a20ed(0x6a2)][_0x5a20ed(0x19a)](this[_0x5a20ed(0x1ec)]+'\x20('+this['instance'][_0x5a20ed(0x419)]+_0x5a20ed(0x26a)),this[_0x5a20ed(0x6a2)][_0x5a20ed(0x19a)](this[_0x5a20ed(0x1ec)]+'\x20('+this[_0x5a20ed(0x519)][_0x5a20ed(0x419)]+_0x5a20ed(0x48b)),this[_0x5a20ed(0x15d)]||await this[_0x5a20ed(0x67e)](),(this[_0x5a20ed(0x59a)]===null||this[_0x5a20ed(0x59a)]===void 0x0)&&await this[_0x5a20ed(0x3be)]());if(this['isRunning']){let _0x266819=_0x8f7dc4();this[_0x5a20ed(0x6a2)][_0x5a20ed(0x19a)](this[_0x5a20ed(0x1ec)]+_0x5a20ed(0x23a)+_0x266819/0x3e8+_0x5a20ed(0x11a)),setTimeout(_0x5c26bf,_0x266819);}};if(this[_0x2db875(0x4ce)])return;this[_0x2db875(0x4ce)]=!0x0;let _0x330e83=_0x8f7dc4();setTimeout(_0x5c26bf,_0x330e83);}async[a0_0x3146da(0x2a2)](_0x2b320a=0x0){const _0x59e3cb=a0_0x3146da;if(!(this['configService'][_0x59e3cb(0x4ed)](_0x59e3cb(0x5f6))||!0x1)||_0x2b320a>=0x3)return this[_0x59e3cb(0x6a2)][_0x59e3cb(0x402)](_0x59e3cb(0x5cd)),this[_0x59e3cb(0x1ad)][_0x59e3cb(0x69f)][_0x59e3cb(0x16f)]({'ip':null},this['instance'][_0x59e3cb(0x51a)]),{};console['log']('Tentativa\x20'+(_0x2b320a+0x1)+_0x59e3cb(0x14f));let _0x443c7a=(await this[_0x59e3cb(0x1ad)][_0x59e3cb(0x69f)][_0x59e3cb(0x6a9)](this['instanceName']))['ip'],_0x868bba=po(_0x443c7a);if(_0x868bba||(console[_0x59e3cb(0x5e0)](_0x59e3cb(0x32c)),_0x868bba=ho()),console[_0x59e3cb(0x5e0)](_0x59e3cb(0x4f2),_0x868bba),_0x868bba&&go(_0x868bba)){let _0x1439e7=_0x868bba[_0x59e3cb(0x727)]+_0x59e3cb(0x16c)+_0x868bba[_0x59e3cb(0x372)]+':'+_0x868bba[_0x59e3cb(0x588)]+'@'+_0x868bba[_0x59e3cb(0x177)]+':'+_0x868bba[_0x59e3cb(0x4a7)];return console[_0x59e3cb(0x5e0)](_0x59e3cb(0x697)),console[_0x59e3cb(0x5e0)](_0x1439e7),await this[_0x59e3cb(0x50d)](_0x1439e7)?(console[_0x59e3cb(0x5e0)](_0x59e3cb(0x3d0)),this[_0x59e3cb(0x1ad)]['auth'][_0x59e3cb(0x16f)]({'ip':_0x868bba['host']},this[_0x59e3cb(0x519)][_0x59e3cb(0x51a)]),{'agent':new Dt['HttpsProxyAgent'](_0x1439e7),'fetchAgent':new Dt[(_0x59e3cb(0x6bf))](_0x1439e7)}):(console[_0x59e3cb(0x5e0)](_0x59e3cb(0x4e7)),this[_0x59e3cb(0x2a2)](_0x2b320a+0x1));}else return console['log']('Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...'),this[_0x59e3cb(0x2a2)](_0x2b320a+0x1);}async[a0_0x3146da(0x50d)](_0x5b7818){const _0x29f132=a0_0x3146da;let _0x4b86ca=new Dt[(_0x29f132(0x6bf))](_0x5b7818);try{let _0x5b1fe6=await se[_0x29f132(0x5e3)][_0x29f132(0x4ed)]('https://api.ipify.org?format=json',{'httpsAgent':_0x4b86ca});return console[_0x29f132(0x5e0)](_0x29f132(0x691),_0x5b1fe6[_0x29f132(0x22b)]),!0x0;}catch{return console[_0x29f132(0x451)]('Erro\x20ao\x20testar\x20o\x20proxy'),!0x1;}}async[a0_0x3146da(0x484)](_0xe2a8c){const _0x306d56=a0_0x3146da;try{let _0x2b4ca7=await this[_0x306d56(0x2a2)]();this[_0x306d56(0x589)](),this[_0x306d56(0x519)]['authState']=await this['defineAuthState']();let {version:_0x597f7c}=await(0x0,y[_0x306d56(0x52c)])(),_0x37401e=[Ms,Eo,(0x0,Ss[_0x306d56(0x465)])()],_0x564f5a={..._0x2b4ca7,'auth':{'creds':this[_0x306d56(0x519)][_0x306d56(0x15e)]['state']['creds'],'keys':(0x0,y['makeCacheableSignalKeyStore'])(this[_0x306d56(0x519)][_0x306d56(0x15e)][_0x306d56(0xd9)][_0x306d56(0x476)],(0x0,Ot[_0x306d56(0x5e3)])({'level':_0x306d56(0x451)}))},'logger':(0x0,Ot[_0x306d56(0x5e3)])({'level':_0x306d56(0x451)}),'printQRInTerminal':!0x1,'browser':_0xe2a8c?['Chrome\x20(Linux)',Ms,(0x0,Ss[_0x306d56(0x465)])()]:_0x37401e,'version':_0x597f7c,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x1542d2=>{const _0x138edd=_0x306d56;let _0xe8cbc7=_0x1542d2['endsWith'](_0x138edd(0x390)),_0x1b0f19=_0x1542d2[_0x138edd(0x604)]('@broadcast');return _0xe8cbc7||_0x1b0f19;},'msgRetryCounterCache':this[_0x306d56(0x439)],'getMessage':async _0x465f24=>await this[_0x306d56(0x547)](_0x465f24),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x306d56(0x130)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4158a3=>(_0x4158a3[_0x306d56(0x27c)]?.[_0x306d56(0x15a)]==y[_0x306d56(0x3f4)][_0x306d56(0xd8)][_0x306d56(0x2ea)][_0x306d56(0x619)][_0x306d56(0x724)]&&(_0x4158a3=JSON[_0x306d56(0x64c)](JSON[_0x306d56(0x692)](_0x4158a3)),_0x4158a3['listMessage'][_0x306d56(0x15a)]=y[_0x306d56(0x3f4)]['Message'][_0x306d56(0x2ea)]['ListType'][_0x306d56(0x595)]),_0x4158a3)};return this['endSession']=!0x1,this['client']=(0x0,y[_0x306d56(0x5e3)])(_0x564f5a),this['eventHandler'](),this[_0x306d56(0x40c)]=_0xe2a8c,this[_0x306d56(0x344)];}catch(_0x49bf44){throw this[_0x306d56(0x6a2)][_0x306d56(0x451)](this[_0x306d56(0x1ec)]+'\x20('+this[_0x306d56(0x519)]['wuid']+_0x306d56(0x6e9)+(_0x49bf44 instanceof Error?_0x49bf44[_0x306d56(0x25d)]:JSON[_0x306d56(0x692)](_0x49bf44,null,0x2))),new O(_0x49bf44?.[_0x306d56(0x63d)]());}}['eventHandler'](){const _0x120471=a0_0x3146da;this['client']['ev'][_0x120471(0xd4)](_0x90e2c2=>{const _0x41d232=_0x120471;if(!this[_0x41d232(0x21c)]){let _0x2b6a41=this[_0x41d232(0x31c)][_0x41d232(0x4ed)](_0x41d232(0x306));if(_0x90e2c2[_0x41d232(0x571)]){let _0x28ad45=_0x90e2c2['labels.edit'];this[_0x41d232(0x3b6)][_0x41d232(0x571)](_0x28ad45);}if(_0x90e2c2['labels.association']){let _0x3ca9ec=_0x90e2c2[_0x41d232(0x35d)];this[_0x41d232(0x3b6)][_0x41d232(0x35d)](_0x3ca9ec);}if(_0x90e2c2[_0x41d232(0x4ca)]&&this[_0x41d232(0x44f)](_0x90e2c2[_0x41d232(0x4ca)]),_0x90e2c2[_0x41d232(0x3c8)]&&this[_0x41d232(0x519)][_0x41d232(0x15e)]['saveCreds'](),_0x90e2c2[_0x41d232(0x673)]){let _0x2d9279=_0x90e2c2[_0x41d232(0x673)];this[_0x41d232(0x3b6)]['messaging-history.set'](_0x2d9279,_0x2b6a41);}if(_0x90e2c2['messages.upsert']){let _0x142ccd=_0x90e2c2[_0x41d232(0x131)];this['messageHandle']['messages.upsert'](_0x142ccd,_0x2b6a41);}if(_0x90e2c2[_0x41d232(0xc4)]){let _0xd2e6e2=_0x90e2c2['messages.update'];_0xd2e6e2[_0x41d232(0x3d2)](_0x394090=>{const _0x1bc6b1=_0x41d232;if(fo[_0x394090[_0x1bc6b1(0x415)]['id']]){this[_0x1bc6b1(0x344)]['ev'][_0x1bc6b1(0x26b)]('messages.upsert',{'messages':[_0x394090],'type':_0x1bc6b1(0x62c)}),delete fo[_0x394090[_0x1bc6b1(0x415)]['id']];return;}}),this['messageHandle']['messages.update'](_0xd2e6e2,_0x2b6a41);}if(_0x90e2c2[_0x41d232(0x525)]){let _0x5c5765=_0x90e2c2[_0x41d232(0x525)];if(this['localWebhook']?.[_0x41d232(0x3b2)]&&_0x5c5765['id'][_0x41d232(0x44a)](_0x41d232(0xe2)))return;this['sendDataWebhook'](_0x41d232(0x525),_0x5c5765);}if(!this[_0x41d232(0x3ba)]?.[_0x41d232(0x3b2)]){if(_0x90e2c2['groups.upsert']){let _0x5f9d99=_0x90e2c2[_0x41d232(0x2c9)];this[_0x41d232(0x6ed)]['groups.upsert'](_0x5f9d99);}if(_0x90e2c2[_0x41d232(0x6a0)]){let _0x310428=_0x90e2c2['groups.update'];this[_0x41d232(0x6ed)][_0x41d232(0x6a0)](_0x310428);}if(_0x90e2c2[_0x41d232(0x30e)]){let _0x3ff55e=_0x90e2c2[_0x41d232(0x30e)];this[_0x41d232(0x6ed)][_0x41d232(0x30e)](_0x3ff55e);}}if(_0x90e2c2[_0x41d232(0x6f2)]){let _0x48d978=_0x90e2c2['chats.upsert'];this[_0x41d232(0x516)][_0x41d232(0x6f2)](_0x48d978,_0x2b6a41);}if(_0x90e2c2[_0x41d232(0x4e8)]){let _0x4e642e=_0x90e2c2[_0x41d232(0x4e8)];this[_0x41d232(0x516)][_0x41d232(0x4e8)](_0x4e642e,_0x2b6a41);}if(_0x90e2c2['chats.delete']){let _0x546efc=_0x90e2c2[_0x41d232(0x220)];this[_0x41d232(0x516)]['chats.delete'](_0x546efc);}if(_0x90e2c2['contacts.upsert']){let _0x492af0=_0x90e2c2['contacts.upsert'];this[_0x41d232(0x669)][_0x41d232(0x12b)](_0x492af0,_0x2b6a41);}if(_0x90e2c2[_0x41d232(0x659)]){let _0x2f7c07=_0x90e2c2[_0x41d232(0x659)];this[_0x41d232(0x669)]['contacts.update'](_0x2f7c07,_0x2b6a41);}}});}['delayChatLabel'](_0x20f663){return new Promise(_0x49ab0a=>setTimeout(_0x49ab0a,_0x20f663));}['formatBRNumber'](_0x460f5c){const _0x5b6e87=a0_0x3146da;let _0x2370ab=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5b6e87(0x4f4)](_0x460f5c);if(_0x2370ab&&_0x2370ab[0x1]==='55'){let _0x412732=_0x2370ab[0x2],_0x2ccc97=_0x2370ab[0x3],_0x140aec=_0x2370ab[0x4];if(_0x412732>='31'&&_0x2ccc97==='9')return _0x2370ab[0x1]+_0x412732+_0x140aec;}return _0x460f5c;}[a0_0x3146da(0x47d)](_0xb4b583){const _0x15420e=a0_0x3146da;return _0xb4b583[_0x15420e(0x44a)](_0x15420e(0xe2))||_0xb4b583[_0x15420e(0x44a)](_0x15420e(0x6f9))||_0xb4b583[_0x15420e(0x44a)](_0x15420e(0x53a))?_0xb4b583:(_0xb4b583=_0xb4b583?.[_0x15420e(0x1ce)](/\s/g,'')[_0x15420e(0x1ce)](/\+/g,'')[_0x15420e(0x1ce)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x15420e(0x72c)]('@')[0x0],_0xb4b583[_0x15420e(0x148)]>=0x12?(_0xb4b583=_0xb4b583[_0x15420e(0x1ce)](/[^\d-]/g,''),_0xb4b583+_0x15420e(0xe2)):(_0xb4b583=_0xb4b583['replace'](/\D/g,''),this[_0x15420e(0x2ec)](_0xb4b583)+_0x15420e(0x6f9)));}async['updatePresence'](_0x2c1713){const _0x4c4c9b=a0_0x3146da;let _0x46e7f1=this[_0x4c4c9b(0x47d)](_0x2c1713['number']),_0x302572=(await this[_0x4c4c9b(0x30d)]({'numbers':[_0x46e7f1]}))[0x0];if(!_0x302572[_0x4c4c9b(0x203)]&&!(0x0,y[_0x4c4c9b(0x34d)])(_0x302572['jid']))throw new m(_0x302572);let _0x5f8511=(0x0,y[_0x4c4c9b(0x34d)])(_0x46e7f1)?_0x46e7f1:_0x302572['jid'];if((0x0,y[_0x4c4c9b(0x34d)])(_0x5f8511))try{await this['client']['groupMetadata'](_0x5f8511);}catch{throw new j(_0x4c4c9b(0x2e8));}try{return await this[_0x4c4c9b(0x344)][_0x4c4c9b(0x60c)](_0x5f8511),await this[_0x4c4c9b(0x344)][_0x4c4c9b(0x442)](_0x2c1713[_0x4c4c9b(0x260)],_0x46e7f1),{'status':0xc8,'presence':_0x2c1713[_0x4c4c9b(0x260)]};}catch(_0x3905f6){throw new m(_0x3905f6[_0x4c4c9b(0x63d)]());}}async['profilePicture'](_0x30b14d){const _0x3b7452=a0_0x3146da;let _0x5114cd=this[_0x3b7452(0x47d)](_0x30b14d);try{return{'wuid':_0x5114cd,'profilePictureUrl':await this[_0x3b7452(0x344)]['profilePictureUrl'](_0x5114cd,_0x3b7452(0x38d))};}catch{return{'wuid':_0x5114cd,'profilePictureUrl':null};}}async[a0_0x3146da(0x11b)](_0xec076f,_0x24c58d,_0x5f2c8d){const _0x4dd470=a0_0x3146da;_0x5f2c8d||(_0x5f2c8d={});let _0x263818=(await this[_0x4dd470(0x30d)]({'numbers':[_0xec076f]}))[0x0];if(!_0x263818[_0x4dd470(0x203)]&&!(0x0,y[_0x4dd470(0x34d)])(_0x263818[_0x4dd470(0x403)])&&!_0x263818[_0x4dd470(0x403)][_0x4dd470(0x44a)]('@broadcast'))throw new m(_0x263818);let _0x16a0d1=_0x263818['jid'];try{_0x5f2c8d?.[_0x4dd470(0x1d7)]&&(await this[_0x4dd470(0x344)][_0x4dd470(0x60c)](_0x16a0d1),await this[_0x4dd470(0x344)]['sendPresenceUpdate'](_0x5f2c8d?.['presence']??_0x4dd470(0x335),_0x16a0d1),await(0x0,y['delay'])(_0x5f2c8d[_0x4dd470(0x1d7)]),await this[_0x4dd470(0x344)][_0x4dd470(0x442)](_0x4dd470(0x680),_0x16a0d1));let _0x21a967=_0x5f2c8d?.[_0x4dd470(0x4da)]!=!0x1?void 0x0:!0x1,_0x3c929d;if(_0x5f2c8d?.['quoted']){let _0x57654d=_0x5f2c8d?.[_0x4dd470(0x534)],_0x1b6f2b=_0x57654d?.[_0x4dd470(0x25d)]?_0x57654d:await this[_0x4dd470(0x547)](_0x57654d[_0x4dd470(0x415)],!0x0);if(!_0x1b6f2b)throw'Message\x20not\x20found';_0x3c929d=_0x1b6f2b;}let _0x5c793f;if((0x0,y[_0x4dd470(0x34d)])(_0x16a0d1))try{let _0xc5fe00=await this['client'][_0x4dd470(0x36c)](_0x16a0d1);if(!_0xc5fe00)throw new j('Group\x20not\x20found');_0x5f2c8d?.[_0x4dd470(0x141)]&&(_0x5f2c8d[_0x4dd470(0x141)]?.[_0x4dd470(0x3b7)]?_0x5c793f=_0xc5fe00[_0x4dd470(0x16e)][_0x4dd470(0x33c)](_0x446e4a=>_0x446e4a['id']):_0x5f2c8d[_0x4dd470(0x141)]?.[_0x4dd470(0x6b3)]?.[_0x4dd470(0x148)]&&(_0x5c793f=_0x5f2c8d['mentions'][_0x4dd470(0x6b3)][_0x4dd470(0x33c)](_0x2d3377=>{const _0x32fc45=_0x4dd470;let _0x104281=this['createJid'](_0x2d3377);return(0x0,y[_0x32fc45(0x34d)])(_0x104281)?null:_0x104281;})));}catch{throw new j(_0x4dd470(0x2e8));}let _0x3d3c3f=await((async()=>{const _0x1ddfdd=_0x4dd470;let _0xd269da={'quoted':_0x3c929d};if(!_0x24c58d[_0x1ddfdd(0x64e)]&&!_0x24c58d['poll']&&!_0x24c58d[_0x1ddfdd(0x349)]&&!_0x24c58d[_0x1ddfdd(0x41e)]&&_0x16a0d1!==_0x1ddfdd(0x2ca)&&!_0x24c58d[_0x1ddfdd(0x64e)])return await this[_0x1ddfdd(0x344)]['sendMessage'](_0x16a0d1,{'forward':{'key':{'remoteJid':this[_0x1ddfdd(0x519)][_0x1ddfdd(0x419)],'fromMe':!0x0},'message':_0x24c58d},'mentions':_0x5c793f},_0xd269da);if(_0x24c58d['conversation']){let _0x4a981d=_0x24c58d[_0x1ddfdd(0x41e)];return _0x5f2c8d?.[_0x1ddfdd(0x579)]&&(_0x4a981d=await this['replaceVariablesChat'](_0x4a981d,_0x16a0d1)),await this[_0x1ddfdd(0x344)]['sendMessage'](_0x16a0d1,{'text':_0x4a981d,'mentions':_0x5c793f,'linkPreview':_0x21a967},_0xd269da);}return _0x16a0d1===_0x1ddfdd(0x2ca)?await this[_0x1ddfdd(0x344)][_0x1ddfdd(0x449)](_0x16a0d1,_0x24c58d['status'][_0x1ddfdd(0xde)],{'backgroundColor':_0x24c58d['status']['option'][_0x1ddfdd(0x272)],'font':_0x24c58d[_0x1ddfdd(0x1d6)]['option'][_0x1ddfdd(0x3a3)],'statusJidList':_0x24c58d[_0x1ddfdd(0x1d6)][_0x1ddfdd(0x611)][_0x1ddfdd(0x38b)]}):await this['client'][_0x1ddfdd(0x449)](_0x16a0d1,_0x24c58d,_0xd269da);})()),{message_normalized:_0x5d2923}=this['normalizeMessage'](_0x3d3c3f['message'],$(_0x3d3c3f['message']),null),_0x423805={'_id':_0x3d3c3f['key']['id'],'key':_0x3d3c3f[_0x4dd470(0x415)],'pushName':_0x3d3c3f[_0x4dd470(0x1ac)],'message':{..._0x3d3c3f['message']},'messageType':$(_0x3d3c3f[_0x4dd470(0x25d)]),'message_normalized':{'key':_0x3d3c3f[_0x4dd470(0x415)],'pushName':_0x3d3c3f['pushName'],'messageTimestamp':_0x3d3c3f['messageTimestamp']&&_0x3d3c3f[_0x4dd470(0x3cb)][_0x4dd470(0x63d)]()[_0x4dd470(0x148)]<0xd?_0x3d3c3f[_0x4dd470(0x3cb)]*0x3e8:_0x3d3c3f[_0x4dd470(0x3cb)]||null,'source':(0x0,y[_0x4dd470(0x1d5)])(_0x3d3c3f[_0x4dd470(0x415)]['id']),..._0x5d2923},'messageTimestamp':_0x3d3c3f[_0x4dd470(0x3cb)]&&_0x3d3c3f[_0x4dd470(0x3cb)][_0x4dd470(0x63d)]()[_0x4dd470(0x148)]<0xd?_0x3d3c3f[_0x4dd470(0x3cb)]*0x3e8:_0x3d3c3f['messageTimestamp']||null,'owner':this[_0x4dd470(0x519)][_0x4dd470(0x419)],'source':(0x0,y[_0x4dd470(0x1d5)])(_0x3d3c3f[_0x4dd470(0x415)]['id'])};return this['logger'][_0x4dd470(0x5e0)](this[_0x4dd470(0x1ec)]+'\x20('+this['instance'][_0x4dd470(0x419)]+_0x4dd470(0x636)+_0x423805[_0x4dd470(0x56b)]+_0x4dd470(0x315)+_0x423805[_0x4dd470(0x415)]?.[_0x4dd470(0x340)][_0x4dd470(0x1ce)](_0x4dd470(0x6f9),'')+']:'),_0x423805[_0x4dd470(0x411)]?.[_0x4dd470(0x69b)]&&this['logger']['log'](_0x423805[_0x4dd470(0x411)]?.[_0x4dd470(0x69b)]),this['sendDataWebhook']('send.message',_0x423805),J(this[_0x4dd470(0x1ec)],_0x4dd470(0x494),{'message':_0x423805}),this[_0x4dd470(0x404)](this['configService'][_0x4dd470(0x4ed)](_0x4dd470(0x306)),_0x423805,_0x4dd470(0x64f)),await this[_0x4dd470(0x1ad)][_0x4dd470(0x25d)][_0x4dd470(0x72a)]([_0x423805],this[_0x4dd470(0x519)][_0x4dd470(0x419)]),_0x3d3c3f;}catch(_0x58588e){throw this['logger'][_0x4dd470(0x451)](this[_0x4dd470(0x1ec)]+'\x20('+this[_0x4dd470(0x519)][_0x4dd470(0x419)]+'):\x20'+_0x58588e[_0x4dd470(0x63d)]()),new m(_0x58588e[_0x4dd470(0x63d)]());}}get['connectionStatus'](){const _0x2ad5ec=a0_0x3146da;return this[_0x2ad5ec(0x566)];}async[a0_0x3146da(0x5c2)](_0x493f36){const _0x55ca65=a0_0x3146da;let _0x58c7c4=mo,_0x2710d3=He;return _0x2710d3&&this[_0x55ca65(0x1ec)][_0x55ca65(0x4ba)]()['includes'](_0x2710d3[_0x55ca65(0x4ba)]())&&(_0x493f36['textMessage']['text']+='\x0a\x0a'+_0x58c7c4),await this[_0x55ca65(0x11b)](_0x493f36['number'],{'conversation':_0x493f36[_0x55ca65(0x5c2)][_0x55ca65(0x69b)]},_0x493f36?.['options']);}async['formatStatusMessage'](_0x419a73){const _0x6d31e6=a0_0x3146da;if(!_0x419a73[_0x6d31e6(0x4b5)])throw new m(_0x6d31e6(0x39d));if(!_0x419a73[_0x6d31e6(0xde)])throw new m(_0x6d31e6(0x509));if(_0x419a73[_0x6d31e6(0x5b9)]){let _0x4c9b5f=await this[_0x6d31e6(0x1ad)][_0x6d31e6(0x3e9)][_0x6d31e6(0x6a9)]({'where':{}},this[_0x6d31e6(0x519)]['wuid']);if(!_0x4c9b5f[_0x6d31e6(0x148)])throw new m(_0x6d31e6(0x701));_0x419a73[_0x6d31e6(0x38b)]=_0x4c9b5f[_0x6d31e6(0x431)](_0x27205a=>_0x27205a[_0x6d31e6(0x1ac)])[_0x6d31e6(0x33c)](_0x51d68b=>_0x51d68b[_0x6d31e6(0x60a)]);}if(!_0x419a73[_0x6d31e6(0x38b)]?.[_0x6d31e6(0x148)]&&!_0x419a73[_0x6d31e6(0x5b9)])throw new m(_0x6d31e6(0x202));if(_0x419a73['type']===_0x6d31e6(0x69b)){if(!_0x419a73[_0x6d31e6(0x272)])throw new m(_0x6d31e6(0x443));if(!_0x419a73[_0x6d31e6(0x3a3)])throw new m(_0x6d31e6(0x3f0));return{'content':{'text':_0x419a73[_0x6d31e6(0xde)]},'option':{'backgroundColor':_0x419a73['backgroundColor'],'font':_0x419a73['font'],'statusJidList':_0x419a73['statusJidList']}};}if(_0x419a73[_0x6d31e6(0x4b5)]===_0x6d31e6(0x38d))return{'content':{'image':{'url':_0x419a73[_0x6d31e6(0xde)]},'caption':_0x419a73[_0x6d31e6(0x71b)]},'option':{'statusJidList':_0x419a73[_0x6d31e6(0x38b)]}};if(_0x419a73['type']===_0x6d31e6(0x693))return{'content':{'video':{'url':_0x419a73[_0x6d31e6(0xde)]},'caption':_0x419a73['caption']},'option':{'statusJidList':_0x419a73[_0x6d31e6(0x38b)]}};if(_0x419a73['type']===_0x6d31e6(0x64e)){this['logger']['verbose'](_0x6d31e6(0x3f6)),this[_0x6d31e6(0x6a2)][_0x6d31e6(0x19a)]('Processing\x20audio');let _0x1adf8f=await this['convertaudio'](_0x419a73[_0x6d31e6(0xde)]);if(typeof _0x1adf8f=='string'){this[_0x6d31e6(0x6a2)][_0x6d31e6(0x19a)]('Audio\x20processed');let _0x25bc4e=L[_0x6d31e6(0x5ab)](_0x1adf8f)[_0x6d31e6(0x63d)](_0x6d31e6(0x4c6)),_0x1c8524={'content':{'audio':Buffer[_0x6d31e6(0x467)](_0x25bc4e,_0x6d31e6(0x4c6)),'ptt':!0x0,'mimetype':_0x6d31e6(0x4cb)},'option':{'statusJidList':_0x419a73['statusJidList']}};return L['unlinkSync'](_0x1adf8f),_0x1c8524;}else throw new O(_0x1adf8f);}throw new m('Type\x20not\x20found');}async[a0_0x3146da(0x43d)](_0x1d3807){const _0x22e7f6=a0_0x3146da;return await this['sendMessageWithTyping'](_0x22e7f6(0x2ca),{'status':await this[_0x22e7f6(0x6d9)](_0x1d3807['statusMessage'])});}async[a0_0x3146da(0x2ad)](_0x4785f3){const _0x2be826=a0_0x3146da;try{let _0xa0969e=await(0x0,y['prepareWAMessageMedia'])({[_0x4785f3['mediatype']]:(0x0,k['isURL'])(_0x4785f3[_0x2be826(0x18f)])?{'url':_0x4785f3[_0x2be826(0x18f)]}:Buffer['from'](_0x4785f3[_0x2be826(0x18f)],_0x2be826(0x4c6))},{'upload':this[_0x2be826(0x344)][_0x2be826(0x5f4)]}),_0x297e48=_0x4785f3[_0x2be826(0x1d3)]+_0x2be826(0xd8);if(_0x4785f3[_0x2be826(0x1d3)]===_0x2be826(0x37b)&&!_0x4785f3[_0x2be826(0x5d5)]){let _0x41a94a=new RegExp(/.*\/(.+?)\./)[_0x2be826(0x4f4)](_0x4785f3[_0x2be826(0x18f)]);_0x4785f3['fileName']=_0x41a94a?_0x41a94a[0x1]:null;}let _0x37d71e=(0x0,k['isURL'])(_0x4785f3[_0x2be826(0x18f)])?_0x4785f3[_0x2be826(0x18f)][_0x2be826(0x72c)]('?')[0x0]:_0x4785f3[_0x2be826(0x18f)];this['logger']['verbose'](_0x2be826(0x6b7)+_0x37d71e);let _0x55640e;(0x0,k[_0x2be826(0x33e)])(_0x4785f3[_0x2be826(0x18f)])?_0x55640e=(0x0,It[_0x2be826(0xfc)])(_0x37d71e):_0x4785f3[_0x2be826(0x5d5)]&&_0x4785f3[_0x2be826(0x5d5)][_0x2be826(0x44a)]('.')?_0x55640e=(0x0,It[_0x2be826(0xfc)])(_0x4785f3[_0x2be826(0x5d5)]):_0x55640e=(0x0,It[_0x2be826(0xfc)])(_0x4785f3[_0x2be826(0x18f)]);let _0x48e17e=mo,_0x2bf7ed=He;return _0x2bf7ed&&this[_0x2be826(0x1ec)][_0x2be826(0x4ba)]()['includes'](_0x2bf7ed[_0x2be826(0x4ba)]())&&(_0x4785f3['caption']+='\x0a\x0a'+_0x48e17e),_0xa0969e[_0x297e48][_0x2be826(0x71b)]=_0x4785f3?.[_0x2be826(0x71b)],_0xa0969e[_0x297e48][_0x2be826(0x228)]=_0x55640e,_0xa0969e[_0x297e48][_0x2be826(0x5d5)]=_0x4785f3['fileName'],_0x4785f3['mediatype']===_0x2be826(0x693)&&(_0xa0969e[_0x297e48][_0x2be826(0x581)]=Uint8Array[_0x2be826(0x467)]((0x0,ve['readFileSync'])((0x0,F[_0x2be826(0x353)])(process[_0x2be826(0x5b5)](),_0x2be826(0x34a)))),_0xa0969e[_0x297e48]['gifPlayback']=!0x1),(0x0,y[_0x2be826(0x3d9)])('',{[_0x297e48]:{..._0xa0969e[_0x297e48]}},{'userJid':this[_0x2be826(0x519)][_0x2be826(0x419)]});}catch(_0x2aaca1){throw this[_0x2be826(0x6a2)][_0x2be826(0x451)](this[_0x2be826(0x1ec)]+'\x20('+this['instance'][_0x2be826(0x419)]+_0x2be826(0x6e9)+(_0x2aaca1 instanceof Error?_0x2aaca1[_0x2be826(0x25d)]:JSON[_0x2be826(0x692)](_0x2aaca1,null,0x2))),new O(_0x2aaca1?.[_0x2be826(0x63d)]()||_0x2aaca1);}}async[a0_0x3146da(0x180)](_0x62a60f){const _0x5c0c4a=a0_0x3146da;let _0x22fee7=await this[_0x5c0c4a(0x2ad)](_0x62a60f[_0x5c0c4a(0x180)]);return await this[_0x5c0c4a(0x11b)](_0x62a60f['number'],{..._0x22fee7[_0x5c0c4a(0x25d)]},_0x62a60f?.[_0x5c0c4a(0x230)]);}async[a0_0x3146da(0x689)](_0x3a460b,_0x59448d){const _0x32fc54=a0_0x3146da;try{this[_0x32fc54(0x6a2)][_0x32fc54(0x19a)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x5c289a,_0x4aa7c4=_0x59448d+'-'+new Date()['getTime']();this[_0x32fc54(0x6a2)]['verbose'](_0x32fc54(0x4d6)+_0x4aa7c4);let _0x1be205=''+(0x0,F['join'])(this[_0x32fc54(0x685)],_0x4aa7c4+'.webp');if(this[_0x32fc54(0x6a2)][_0x32fc54(0x19a)](_0x32fc54(0x641)+_0x1be205),(0x0,k[_0x32fc54(0x6b0)])(_0x3a460b)){this[_0x32fc54(0x6a2)][_0x32fc54(0x19a)](_0x32fc54(0x21e));let _0x48500d=_0x3a460b[_0x32fc54(0x1ce)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xc0b5dd=Buffer[_0x32fc54(0x467)](_0x48500d,_0x32fc54(0x4c6));_0x5c289a=''+(0x0,F[_0x32fc54(0x353)])(this['storePath'],_0x32fc54(0x113)+_0x4aa7c4+_0x32fc54(0x46f)),this['logger'][_0x32fc54(0x19a)](_0x32fc54(0x533)+_0x5c289a),await(0x0,xt['default'])(_0xc0b5dd)['toFile'](_0x5c289a),this[_0x32fc54(0x6a2)][_0x32fc54(0x19a)](_0x32fc54(0x42a));}else{this['logger'][_0x32fc54(0x19a)](_0x32fc54(0x100));let _0x4cc762=new Date()[_0x32fc54(0x3d8)](),_0x235add=_0x3a460b+_0x32fc54(0x598)+_0x4cc762;this[_0x32fc54(0x6a2)]['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x235add);let _0x27b907=await se['default'][_0x32fc54(0x4ed)](_0x235add,{'responseType':_0x32fc54(0x4b8)});this[_0x32fc54(0x6a2)]['verbose'](_0x32fc54(0x702));let _0x524d6a=Buffer[_0x32fc54(0x467)](_0x27b907[_0x32fc54(0x22b)],_0x32fc54(0x627));_0x5c289a=''+(0x0,F['join'])(this[_0x32fc54(0x685)],_0x32fc54(0x113)+_0x4aa7c4+'.png'),this[_0x32fc54(0x6a2)][_0x32fc54(0x19a)](_0x32fc54(0x533)+_0x5c289a),await(0x0,xt['default'])(_0x524d6a)['toFile'](_0x5c289a),this[_0x32fc54(0x6a2)][_0x32fc54(0x19a)](_0x32fc54(0x42a));}return await(0x0,xt[_0x32fc54(0x5e3)])(_0x5c289a)['webp']()[_0x32fc54(0x35b)](_0x1be205),this[_0x32fc54(0x6a2)]['verbose'](_0x32fc54(0x284)),L['unlinkSync'](_0x5c289a),this['logger'][_0x32fc54(0x19a)](_0x32fc54(0x326)),_0x1be205;}catch(_0x10d38a){console[_0x32fc54(0x451)](_0x32fc54(0x62f),_0x10d38a instanceof Error?_0x10d38a[_0x32fc54(0x25d)]:JSON[_0x32fc54(0x692)](_0x10d38a,null,0x2));}}async['mediaSticker'](_0x55a750){const _0x3a438c=a0_0x3146da;let _0x3144a8=await this[_0x3a438c(0x689)](_0x55a750[_0x3a438c(0x729)]['image'],_0x55a750[_0x3a438c(0x6e7)]),_0x5b9e71=await this[_0x3a438c(0x11b)](_0x55a750['number'],{'sticker':{'url':_0x3144a8}},_0x55a750?.[_0x3a438c(0x230)]);return L[_0x3a438c(0x6cd)](_0x3144a8),this[_0x3a438c(0x6a2)][_0x3a438c(0x19a)](_0x3a438c(0x6e1)),_0x5b9e71;}async[a0_0x3146da(0x50a)](_0x4a6d54){const _0x136ae4=a0_0x3146da;if(this[_0x136ae4(0x6a2)][_0x136ae4(0x19a)](_0x136ae4(0x4e0)),!_0x4a6d54['options']?.[_0x136ae4(0x407)]&&_0x4a6d54[_0x136ae4(0x230)]?.[_0x136ae4(0x407)]!==!0x1&&(_0x4a6d54[_0x136ae4(0x230)][_0x136ae4(0x407)]=!0x0),_0x4a6d54[_0x136ae4(0x230)]?.[_0x136ae4(0x407)]){let _0x15c32f=await this[_0x136ae4(0x553)](_0x4a6d54['audioMessage']['audio']);if(typeof _0x15c32f==_0x136ae4(0x584)){let _0x3f056d=L[_0x136ae4(0x5ab)](_0x15c32f)[_0x136ae4(0x63d)](_0x136ae4(0x4c6)),_0x237c70=this['sendMessageWithTyping'](_0x4a6d54[_0x136ae4(0x6e7)],{'audio':Buffer[_0x136ae4(0x467)](_0x3f056d,'base64'),'ptt':!0x0,'mimetype':_0x136ae4(0x4cb)},{'presence':_0x136ae4(0x20c),'delay':_0x4a6d54?.[_0x136ae4(0x230)]?.[_0x136ae4(0x1d7)]});return L[_0x136ae4(0x6cd)](_0x15c32f),this[_0x136ae4(0x6a2)][_0x136ae4(0x19a)](_0x136ae4(0x617)),_0x237c70;}else throw new O(_0x15c32f);}return await this[_0x136ae4(0x11b)](_0x4a6d54[_0x136ae4(0x6e7)],{'audio':(0x0,k[_0x136ae4(0x33e)])(_0x4a6d54[_0x136ae4(0x4bd)][_0x136ae4(0x64e)])?{'url':_0x4a6d54[_0x136ae4(0x4bd)][_0x136ae4(0x64e)]}:Buffer['from'](_0x4a6d54[_0x136ae4(0x4bd)][_0x136ae4(0x64e)],_0x136ae4(0x4c6)),'ptt':!0x0,'mimetype':'audio/aac'},{'presence':_0x136ae4(0x20c),'delay':_0x4a6d54?.[_0x136ae4(0x230)]?.[_0x136ae4(0x1d7)]});}async[a0_0x3146da(0x553)](_0x13117b){const _0x453f97=a0_0x3146da;this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x6c4));let _0x29eeeb,_0x1e7ceb,_0x51e985=(0x0,Me['v4'])();if(this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x1ee)+_0x51e985),(0x0,k[_0x453f97(0x33e)])(_0x13117b)){this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x687)),_0x1e7ceb=''+(0x0,F[_0x453f97(0x353)])(this[_0x453f97(0x685)],_0x51e985+_0x453f97(0x334)),_0x29eeeb=''+(0x0,F[_0x453f97(0x353)])(this[_0x453f97(0x685)],_0x453f97(0x113)+_0x51e985+_0x453f97(0x3aa)),this['logger'][_0x453f97(0x19a)](_0x453f97(0x376)+_0x1e7ceb),this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x609)+_0x29eeeb);let _0x1510b9=new Date()['getTime'](),_0x3a7306=_0x13117b+_0x453f97(0x598)+_0x1510b9;this[_0x453f97(0x6a2)][_0x453f97(0x19a)]('Including\x20timestamp\x20in\x20url:\x20'+_0x3a7306);let _0x35d71c=await se['default']['get'](_0x3a7306,{'responseType':'arraybuffer'});this[_0x453f97(0x6a2)][_0x453f97(0x19a)]('Getting\x20audio\x20from\x20url'),L[_0x453f97(0x342)](_0x29eeeb,_0x35d71c[_0x453f97(0x22b)]);}else{this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x40f)),_0x1e7ceb=''+(0x0,F[_0x453f97(0x353)])(this[_0x453f97(0x685)],_0x51e985+_0x453f97(0x334)),_0x29eeeb=''+(0x0,F['join'])(this[_0x453f97(0x685)],_0x453f97(0x113)+_0x51e985+_0x453f97(0x3aa)),this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x376)+_0x1e7ceb),this[_0x453f97(0x6a2)]['verbose'](_0x453f97(0x609)+_0x29eeeb);let _0x357789=Buffer['from'](_0x13117b,_0x453f97(0x4c6));L[_0x453f97(0x342)](_0x29eeeb,_0x357789),this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x5a6));}return this[_0x453f97(0x6a2)][_0x453f97(0x19a)](_0x453f97(0x276)),new Promise((_0x52b6d3,_0x29419e)=>{const _0x9b46a6=_0x453f97;(0x0,_t[_0x9b46a6(0x4f4)])(wo[_0x9b46a6(0x5e3)][_0x9b46a6(0x37e)]+_0x9b46a6(0x6e6)+_0x29eeeb+_0x9b46a6(0x490)+_0x1e7ceb+_0x9b46a6(0x4b0),_0x2ca0e2=>{const _0x2e9cab=_0x9b46a6;L[_0x2e9cab(0x6cd)](_0x29eeeb),this[_0x2e9cab(0x6a2)][_0x2e9cab(0x19a)]('Temp\x20audio\x20deleted'),_0x2ca0e2&&_0x29419e(_0x2ca0e2),this[_0x2e9cab(0x6a2)][_0x2e9cab(0x19a)](_0x2e9cab(0x432)),_0x52b6d3(_0x1e7ceb);});});}async[a0_0x3146da(0xf2)](_0xf796bf){const _0x3ab29e=a0_0x3146da;let _0x4907b2={},_0x19b0fd='TEXT';if(_0xf796bf[_0x3ab29e(0xf2)]?.[_0x3ab29e(0x180)]){_0x19b0fd=_0xf796bf[_0x3ab29e(0xf2)][_0x3ab29e(0x180)]?.['mediatype'][_0x3ab29e(0x133)]()??_0x3ab29e(0x296),_0x4907b2[_0x3ab29e(0x5d1)]=_0x19b0fd[_0x3ab29e(0x4ba)]()+_0x3ab29e(0xd8);let _0x93d339=await this[_0x3ab29e(0x2ad)](_0xf796bf[_0x3ab29e(0xf2)][_0x3ab29e(0x180)]);_0x4907b2[_0x3ab29e(0x25d)]=_0x93d339[_0x3ab29e(0x25d)][_0x4907b2['mediaKey']],_0x4907b2[_0x3ab29e(0x163)]='*'+_0xf796bf[_0x3ab29e(0xf2)][_0x3ab29e(0x3af)]+'*\x0a\x0a'+_0xf796bf[_0x3ab29e(0xf2)][_0x3ab29e(0x25e)];}let _0x48cf1a={'text':_0xf796bf['buttonMessage'][_0x3ab29e(0x3a0)][_0x3ab29e(0x33c)](_0x44cc01=>_0x44cc01['buttonText']),'ids':_0xf796bf['buttonMessage'][_0x3ab29e(0x3a0)][_0x3ab29e(0x33c)](_0x4853e2=>_0x4853e2[_0x3ab29e(0x2c1)])};if(!(0x0,k[_0x3ab29e(0x6cb)])(_0x48cf1a[_0x3ab29e(0x69b)])||!(0x0,k[_0x3ab29e(0x6cb)])(_0x48cf1a[_0x3ab29e(0x620)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x3ab29e(0x11b)](_0xf796bf['number'],{'buttonsMessage':{'text':_0x4907b2?.[_0x3ab29e(0x5d1)]?void 0x0:_0xf796bf[_0x3ab29e(0xf2)][_0x3ab29e(0x3af)],'contentText':_0x4907b2?.[_0x3ab29e(0x163)]??_0xf796bf[_0x3ab29e(0xf2)][_0x3ab29e(0x25e)],'footerText':_0xf796bf[_0x3ab29e(0xf2)]?.[_0x3ab29e(0x409)],'buttons':_0xf796bf[_0x3ab29e(0xf2)][_0x3ab29e(0x3a0)][_0x3ab29e(0x33c)](_0x59dd21=>({'buttonText':{'displayText':_0x59dd21[_0x3ab29e(0x3b0)]},'buttonId':_0x59dd21[_0x3ab29e(0x2c1)],'type':0x1})),'headerType':y[_0x3ab29e(0x3f4)][_0x3ab29e(0xd8)][_0x3ab29e(0x288)][_0x3ab29e(0x59b)][_0x19b0fd],[_0x4907b2?.[_0x3ab29e(0x5d1)]]:_0x4907b2?.[_0x3ab29e(0x25d)]}},_0xf796bf?.[_0x3ab29e(0x230)]);}async[a0_0x3146da(0x160)](_0x4a11a8){const _0x3d6f53=a0_0x3146da;return await this[_0x3d6f53(0x11b)](_0x4a11a8[_0x3d6f53(0x6e7)],{'locationMessage':{'degreesLatitude':_0x4a11a8[_0x3d6f53(0x160)][_0x3d6f53(0x684)],'degreesLongitude':_0x4a11a8['locationMessage']['longitude'],'name':_0x4a11a8[_0x3d6f53(0x160)]?.[_0x3d6f53(0x51a)],'address':_0x4a11a8[_0x3d6f53(0x160)]?.[_0x3d6f53(0x397)]}},_0x4a11a8?.[_0x3d6f53(0x230)]);}async['contactMessage'](_0x347824){const _0x48b16f=a0_0x3146da;let _0xb1e499={},_0x6123f8=_0x2f8d39=>{const _0x1d2663=a0_0xd411;let _0x123d6e=_0x1d2663(0x424)+_0x2f8d39['fullName']+_0x1d2663(0x215)+_0x2f8d39[_0x1d2663(0x282)]+'\x0a';_0x2f8d39[_0x1d2663(0x6a5)]&&(_0x123d6e+=_0x1d2663(0x29f)+_0x2f8d39[_0x1d2663(0x6a5)]+';\x0a'),_0x2f8d39[_0x1d2663(0x377)]&&(_0x123d6e+='EMAIL:'+_0x2f8d39[_0x1d2663(0x377)]+'\x0a'),_0x2f8d39[_0x1d2663(0x2d4)]&&(_0x123d6e+=_0x1d2663(0x5f8)+_0x2f8d39['url']+'\x0a');let _0x191394='';return _0x2f8d39['phoneNumber']&&_0x2f8d39[_0x1d2663(0x40c)][_0x1d2663(0x72c)]('|')['forEach']((_0x12ed8a,_0x3d3b38)=>{const _0x1c0968=_0x1d2663;let _0x27d6a6=this[_0x1c0968(0x47d)](_0x12ed8a)[_0x1c0968(0x1ce)](_0x1c0968(0x6f9),'');_0x191394+=_0x1c0968(0x204)+(_0x3d3b38+0x1)+_0x1c0968(0x19d)+_0x27d6a6+':'+_0x12ed8a+_0x1c0968(0x2fb)+(_0x3d3b38+0x1)+_0x1c0968(0x185);}),_0x123d6e+=_0x191394+_0x1d2663(0x186),_0x123d6e;};return _0x347824[_0x48b16f(0x6f7)][_0x48b16f(0x148)]===0x1?_0xb1e499[_0x48b16f(0x6f7)]={'displayName':_0x347824[_0x48b16f(0x6f7)][0x0][_0x48b16f(0x282)],'vcard':_0x6123f8(_0x347824['contactMessage'][0x0])}:_0xb1e499['contactsArrayMessage']={'displayName':_0x347824[_0x48b16f(0x6f7)][_0x48b16f(0x148)]+_0x48b16f(0x634),'contacts':_0x347824[_0x48b16f(0x6f7)]['map'](_0x47acc5=>({'displayName':_0x47acc5[_0x48b16f(0x282)],'vcard':_0x6123f8(_0x47acc5)}))},await this[_0x48b16f(0x11b)](_0x347824[_0x48b16f(0x6e7)],{..._0xb1e499},_0x347824?.['options']);}async[a0_0x3146da(0x4d3)](_0x6bc20f){const _0x5f4801=a0_0x3146da;return await this[_0x5f4801(0x11b)](_0x6bc20f[_0x5f4801(0x4d3)][_0x5f4801(0x415)][_0x5f4801(0x340)],{'reactionMessage':{'key':_0x6bc20f[_0x5f4801(0x4d3)]['key'],'text':_0x6bc20f['reactionMessage'][_0x5f4801(0x283)]}});}async[a0_0x3146da(0x30d)](_0x4badf9){const _0x4f06cf=a0_0x3146da;let _0x56b87a=[];for await(let _0x2cad71 of _0x4badf9['numbers']){let _0x315805=this[_0x4f06cf(0x47d)](_0x2cad71),_0x17d210=!0x1;try{if((0x0,y[_0x4f06cf(0x34d)])(_0x315805)){let _0x3800b8=await this[_0x4f06cf(0x33a)]({'groupJid':_0x315805},'inner');_0x56b87a[_0x4f06cf(0x621)](new me(_0x3800b8[_0x4f06cf(0x622)]['id'],!!_0x3800b8?.[_0x4f06cf(0x622)]['id'],_0x3800b8?.['metadata'][_0x4f06cf(0x6fc)])),_0x17d210=!!_0x3800b8?.[_0x4f06cf(0x622)]['id'];}else{let _0x216495=(await this[_0x4f06cf(0x344)][_0x4f06cf(0x366)](_0x315805))[0x0];_0x56b87a[_0x4f06cf(0x621)](new me(_0x216495[_0x4f06cf(0x403)],_0x216495[_0x4f06cf(0x203)])),_0x17d210=_0x216495['exists'];}}catch{await this[_0x4f06cf(0x51c)](_0x315805,_0x17d210),_0x56b87a[_0x4f06cf(0x621)](new me(_0x2cad71,!0x1));}}return _0x56b87a;}async[a0_0x3146da(0x51c)](_0xd93194,_0x24c5fb){const _0x2ae552=a0_0x3146da;try{await this['repository'][_0x2ae552(0x11c)][_0x2ae552(0xee)]({'where':{'_id':_0xd93194,'imported':!0x0}},this[_0x2ae552(0x519)]['wuid'])&&(_0x24c5fb||(await this[_0x2ae552(0x1ad)]['chat']['deleteChat'](_0xd93194,this[_0x2ae552(0x519)][_0x2ae552(0x419)]),console[_0x2ae552(0x5e0)](_0x2ae552(0x168)+_0xd93194+_0x2ae552(0x10c))));}catch(_0x46b71d){console[_0x2ae552(0x451)](_0x2ae552(0x32f),_0x46b71d);}}async[a0_0x3146da(0x4cd)](_0x14bbde){const _0x5e006b=a0_0x3146da;try{let _0x2b4d31=_0x14bbde[_0x5e006b(0x2d2)]['filter'](_0x4ef25f=>(0x0,y[_0x5e006b(0x34d)])(_0x4ef25f['remoteJid'])||(0x0,y['isJidUser'])(_0x4ef25f[_0x5e006b(0x340)]))['map'](_0x278d78=>({'remoteJid':_0x278d78[_0x5e006b(0x340)],'fromMe':_0x278d78[_0x5e006b(0x1ef)],'id':_0x278d78['id']}));await this[_0x5e006b(0x344)][_0x5e006b(0x2d2)](_0x2b4d31);let _0x53834d=_0x2b4d31[_0x5e006b(0x33c)](_0x5e7ef9=>this[_0x5e006b(0x40d)](_0x5e7ef9,{'status':_0x5e006b(0x5f2),'owner':this[_0x5e006b(0x519)][_0x5e006b(0x419)]})),_0x539d03=_0x2b4d31['map'](_0x30c922=>this[_0x5e006b(0x1ad)][_0x5e006b(0x11c)][_0x5e006b(0x2f8)]({'where':{'_id':_0x30c922[_0x5e006b(0x340)]}},{'unreadcount':0x0},this[_0x5e006b(0x519)][_0x5e006b(0x419)])),[_0x5eda7e,_0x6426b1]=await Promise[_0x5e006b(0x182)]([Promise[_0x5e006b(0x182)](_0x53834d),Promise[_0x5e006b(0x182)](_0x539d03)]);return _0x6426b1[_0x5e006b(0x431)](_0x51f4ff=>_0x51f4ff!==null)[_0x5e006b(0x3d2)](_0x393f5d=>{const _0x812354=_0x5e006b;J(this[_0x812354(0x1ec)],'chats',{'chat':_0x393f5d});}),{'message':_0x5e006b(0x54f),'read':_0x5e006b(0x4aa)};}catch(_0x2758d8){throw console[_0x5e006b(0x451)]('Error\x20in\x20markMessageAsRead:',_0x2758d8),new O(_0x5e006b(0x275),_0x2758d8[_0x5e006b(0x63d)]());}}async[a0_0x3146da(0x17a)](_0x3b2a7d){const _0x4b6c44=a0_0x3146da;let _0x2a6dc8={'where':{'key':{'remoteJid':_0x3b2a7d}},'limit':0x1},_0x370287=await this[_0x4b6c44(0x359)](_0x2a6dc8);return _0x370287||(console[_0x4b6c44(0x451)](_0x4b6c44(0x1c6),_0x3b2a7d),null);}async[a0_0x3146da(0x57a)](_0x5bbefc){const _0x5c3e23=a0_0x3146da;this[_0x5c3e23(0x6a2)]['verbose'](_0x5c3e23(0x616));try{let _0x4849ba=_0x5bbefc[_0x5c3e23(0x569)],_0x2472b3=_0x5bbefc['chat'];if(!_0x4849ba&&_0x2472b3?_0x4849ba=await this[_0x5c3e23(0x17a)](_0x2472b3):(_0x4849ba=_0x5bbefc[_0x5c3e23(0x569)],_0x4849ba[_0x5c3e23(0x3cb)]=_0x4849ba?.[_0x5c3e23(0x3cb)]??Date[_0x5c3e23(0x257)](),_0x2472b3=_0x4849ba?.[_0x5c3e23(0x415)]?.['remoteJid']),!_0x4849ba||Object['keys'](_0x4849ba)['length']===0x0)throw new j(_0x5c3e23(0x287));this[_0x5c3e23(0x6a2)][_0x5c3e23(0x19a)](_0x5c3e23(0x3e2)+_0x2472b3);try{await this['client'][_0x5c3e23(0x46a)]({'archive':_0x5bbefc['archive'],'lastMessages':[_0x4849ba]},this[_0x5c3e23(0x47d)](_0x2472b3));}catch(_0x25f5cc){this['logger']['error'](_0x5c3e23(0x717)+_0x2472b3+':\x20'+_0x25f5cc[_0x5c3e23(0x63d)]());}this['logger'][_0x5c3e23(0x19a)](_0x5c3e23(0x365)+_0x2472b3);let _0x2e3224=await this[_0x5c3e23(0x1ad)][_0x5c3e23(0x11c)]['updateOne']({'where':{'_id':_0x4849ba?.['key']?.['remoteJid']}},{'archived':_0x5bbefc[_0x5c3e23(0x49c)]},this[_0x5c3e23(0x519)]['wuid']);return _0x2e3224?(this['logger'][_0x5c3e23(0x19a)](_0x5c3e23(0x6b8)+JSON[_0x5c3e23(0x692)](_0x2e3224)),J(this['instanceName'],'chats',{'chat':_0x2e3224})):this[_0x5c3e23(0x6a2)]['error'](_0x5c3e23(0x150)+_0x2472b3),{'chatId':_0x2472b3,'archived':_0x5bbefc[_0x5c3e23(0x49c)]};}catch(_0x26ad67){throw this[_0x5c3e23(0x6a2)][_0x5c3e23(0x451)](_0x5c3e23(0x50b)+_0x26ad67[_0x5c3e23(0x63d)]()),new O({'archived':!0x1,'message':[_0x5c3e23(0x48d),_0x26ad67[_0x5c3e23(0x63d)]()]});}}async['deleteMessage'](_0x1392c0){const _0x502b38=a0_0x3146da;try{let _0x5b5ad2=await this[_0x502b38(0x344)][_0x502b38(0x449)](_0x1392c0['remoteJid'],{'delete':_0x1392c0});try{let _0x1145bb=await this[_0x502b38(0x40d)](_0x1392c0,{'status':_0x502b38(0x4a4),'owner':this[_0x502b38(0x519)][_0x502b38(0x419)]});this[_0x502b38(0x6a2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x502b38(0x419)]+_0x502b38(0x526)+_0x1145bb);}catch(_0x569ac7){console['error'](_0x502b38(0x43a),_0x569ac7);}return _0x5b5ad2;}catch(_0x20e3b5){throw new O(_0x502b38(0x460),_0x20e3b5?.[_0x502b38(0x63d)]());}}async[a0_0x3146da(0x64a)](_0xc1644e){const _0x5cef14=a0_0x3146da;try{let _0x4a08b4=_0xc1644e?.[_0x5cef14(0x25d)]?_0xc1644e:await this[_0x5cef14(0x547)](_0xc1644e[_0x5cef14(0x415)],!0x0);for(let _0x11f48f of pa)_0x4a08b4[_0x5cef14(0x25d)][_0x11f48f]&&(_0x4a08b4[_0x5cef14(0x25d)]=_0x4a08b4[_0x5cef14(0x25d)][_0x11f48f][_0x5cef14(0x25d)]);let _0x3dab87,_0xa3fd36;for(let _0x58fc47 of da)if(_0x3dab87=_0x4a08b4['message'][_0x58fc47],_0x3dab87){_0xa3fd36=_0x58fc47;break;}if(!_0x3dab87)throw _0x5cef14(0x379);typeof _0x3dab87[_0x5cef14(0x5d1)]==_0x5cef14(0x4a2)&&(_0x4a08b4[_0x5cef14(0x25d)]=JSON[_0x5cef14(0x64c)](JSON[_0x5cef14(0x692)](_0x4a08b4[_0x5cef14(0x25d)])));let _0x765a2c=await(0x0,y[_0x5cef14(0x5c6)])({'key':_0x4a08b4?.['key'],'message':_0x4a08b4?.['message']},_0x5cef14(0x608),{},{'logger':(0x0,Ot[_0x5cef14(0x5e3)])({'level':_0x5cef14(0x468)}),'reuploadRequest':this[_0x5cef14(0x344)][_0x5cef14(0x387)]});if(!(_0x765a2c instanceof Buffer))throw new Error(_0x5cef14(0x1b1));let _0x4bb979=this[_0x5cef14(0x31c)]['get'](_0x5cef14(0x306)),_0x464211,_0x3e9bad;if(_0x3dab87[_0x5cef14(0x5d5)])_0x464211=_0x3dab87[_0x5cef14(0x5d5)];else{let _0x1f016e=_0x3dab87[_0x5cef14(0x228)]?.[_0x5cef14(0x3fc)](/\/(\w+)/),_0x34547e=_0x1f016e?_0x1f016e[0x1]:null;if(!_0x34547e)throw new Error(_0x5cef14(0x5b4));_0x464211=(0x0,Me['v4'])()+'.'+_0x34547e;}_0xa3fd36===_0x5cef14(0x4bd)&&_0x3dab87[_0x5cef14(0x228)]==='audio/ogg'?(_0x464211=(0x0,Me['v4'])()+_0x5cef14(0x32d),_0x3e9bad=_0x5cef14(0x323)+await this[_0x5cef14(0x553)](_0x765a2c[_0x5cef14(0x63d)](_0x5cef14(0x4c6)))):(await this[_0x5cef14(0x471)](_0x765a2c,_0x464211),_0x3e9bad=_0x5cef14(0x323)+_0x464211);let _0x556b97=this[_0x5cef14(0x31c)][_0x5cef14(0x4ed)](_0x5cef14(0x6b1))[_0x5cef14(0x258)];if(!_0x556b97){let _0x5f1ec2=this[_0x5cef14(0x31c)][_0x5cef14(0x4ed)](_0x5cef14(0x237));_0x556b97=_0x5cef14(0x101)+(_0x5f1ec2&&_0x5f1ec2[_0x5cef14(0x59d)]['split']('/')[0x4]);}_0x3e9bad=''+_0x556b97+_0x3e9bad;let _0x4e5c47=0xc*0x3c*0x3c*0x3e8,_0x15bde8={'where':{'_id':_0x4a08b4[_0x5cef14(0x415)]['id']}},_0x454655={'message_normalized.fileUrl':_0x3e9bad,'message_normalized.expires_fileUrl':Date[_0x5cef14(0x257)]()+_0x4e5c47};try{let _0x262f76=await this[_0x5cef14(0x1ad)]['message'][_0x5cef14(0x118)](_0x15bde8,_0x454655,this[_0x5cef14(0x519)][_0x5cef14(0x419)]);_0x262f76&&J(this[_0x5cef14(0x1ec)],_0x5cef14(0x494),{'message':_0x262f76});}catch(_0x469162){this[_0x5cef14(0x6a2)][_0x5cef14(0x451)](this[_0x5cef14(0x1ec)]+'\x20('+this[_0x5cef14(0x519)][_0x5cef14(0x419)]+'):\x20'+(_0x469162 instanceof Error?_0x469162[_0x5cef14(0x25d)]:JSON['stringify'](_0x469162,null,0x2)));}return{'mediaType':_0xa3fd36,'fileName':_0x3dab87[_0x5cef14(0x5d5)],'caption':_0x3dab87[_0x5cef14(0x71b)],'size':{'fileLength':_0x3dab87[_0x5cef14(0x3ec)],'height':_0x3dab87[_0x5cef14(0x259)],'width':_0x3dab87['width']},'mimetype':_0x3dab87['mimetype'],'base64':_0x765a2c[_0x5cef14(0x63d)]('base64'),'fileUrl':_0x3e9bad,'expires_fileUrl':Date['now']()+_0x4e5c47};}catch(_0x136418){throw this[_0x5cef14(0x6a2)][_0x5cef14(0x451)](this[_0x5cef14(0x1ec)]+'\x20('+this['instance'][_0x5cef14(0x419)]+_0x5cef14(0x6e9)+(_0x136418 instanceof Error?_0x136418[_0x5cef14(0x25d)]:JSON[_0x5cef14(0x692)](_0x136418,null,0x2))),new m(_0x136418[_0x5cef14(0x63d)]());}}async['saveMediaToFile'](_0x5302e8,_0x27f23d){const _0x4977c4=a0_0x3146da;let _0x1552ac=F[_0x4977c4(0x5e3)][_0x4977c4(0x353)](__dirname,_0x4977c4(0x606));L['existsSync'](_0x1552ac)||L[_0x4977c4(0x3ce)](_0x1552ac,{'recursive':!0x0});let _0x3c38ab=F['default'][_0x4977c4(0x353)](_0x1552ac,_0x27f23d);return new Promise((_0x112dbb,_0x162da7)=>{L['writeFile'](_0x3c38ab,_0x5302e8,_0x152fd7=>{const _0x2635a4=a0_0xd411;_0x152fd7?(this['logger'][_0x2635a4(0x451)]('Error\x20writing\x20file:\x20'+(_0x152fd7 instanceof Error?_0x152fd7[_0x2635a4(0x25d)]:JSON[_0x2635a4(0x692)](_0x152fd7,null,0x2))),_0x162da7(_0x152fd7)):(this[_0x2635a4(0x6a2)]['log']('File\x20written\x20to\x20path:\x20'+_0x3c38ab),_0x112dbb(_0x3c38ab));});});}async['fetchContacts'](_0x1a53d2){const _0x5ad948=a0_0x3146da;return await this[_0x5ad948(0x1ad)][_0x5ad948(0x3e9)][_0x5ad948(0x6a9)](_0x1a53d2,this['instance']['wuid']);}async[a0_0x3146da(0x1e7)](){const _0x2d081b=a0_0x3146da;return await this[_0x2d081b(0x1ad)]['label'][_0x2d081b(0x6a9)]({'where':{}},this[_0x2d081b(0x519)][_0x2d081b(0x419)]);}async[a0_0x3146da(0x359)](_0x24ebca){const _0x52ba53=a0_0x3146da;return await this[_0x52ba53(0x1ad)][_0x52ba53(0x25d)]['find'](_0x24ebca,this[_0x52ba53(0x519)][_0x52ba53(0x419)]);}async[a0_0x3146da(0x27b)](){const _0x18ad85=a0_0x3146da;return this[_0x18ad85(0x1ad)][_0x18ad85(0x11c)][_0x18ad85(0x29b)](this[_0x18ad85(0x519)][_0x18ad85(0x419)]),this[_0x18ad85(0x1ad)]['chat']['updateMissingEtiquetas'](this[_0x18ad85(0x519)][_0x18ad85(0x419)]),this[_0x18ad85(0x1ad)][_0x18ad85(0x11c)][_0x18ad85(0x4c8)](this[_0x18ad85(0x519)][_0x18ad85(0x419)]),this[_0x18ad85(0x1ad)][_0x18ad85(0x11c)][_0x18ad85(0x1a8)](this[_0x18ad85(0x519)][_0x18ad85(0x419)]),await this[_0x18ad85(0x1ad)][_0x18ad85(0x11c)][_0x18ad85(0x6a9)]({'where':{}},this[_0x18ad85(0x519)]['wuid']);}async[a0_0x3146da(0x463)](_0x44ac9f){const _0x5f330e=a0_0x3146da;try{if(!Array[_0x5f330e(0x43c)](_0x44ac9f)||_0x44ac9f[_0x5f330e(0x148)]===0x0)throw new Error(_0x5f330e(0x279));let _0x2fef8a=[],_0x4b6624=[];for(let _0x148d41 of _0x44ac9f){if(_0x148d41[_0x5f330e(0x60a)])_0x148d41[_0x5f330e(0x60a)]=this[_0x5f330e(0x47d)](_0x148d41[_0x5f330e(0x60a)]);else continue;await this[_0x5f330e(0x1ad)][_0x5f330e(0x11c)][_0x5f330e(0xee)]({'where':{'_id':_0x148d41[_0x5f330e(0x60a)]}},this['instance']['wuid'])?_0x4b6624['push']({'_id':_0x148d41[_0x5f330e(0x60a)],'leadInfo':_0x148d41['leadInfo'],'owner':this[_0x5f330e(0x519)][_0x5f330e(0x419)]}):_0x2fef8a['push']({'_id':_0x148d41[_0x5f330e(0x60a)],'owner':this[_0x5f330e(0x519)][_0x5f330e(0x419)],'leadInfo':_0x148d41['leadInfo'],'imported':!0x0});}return _0x4b6624[_0x5f330e(0x148)]>0x0&&await this[_0x5f330e(0x1ad)]['chat'][_0x5f330e(0x5c0)](_0x4b6624[_0x5f330e(0x33c)](_0x3e781e=>({'query':{'where':{'_id':_0x3e781e['_id'],'owner':this[_0x5f330e(0x519)][_0x5f330e(0x419)]}},'update':_0x3e781e}))),_0x2fef8a[_0x5f330e(0x148)]>0x0&&await this[_0x5f330e(0x1ad)]['chat'][_0x5f330e(0x2fc)](_0x2fef8a,this[_0x5f330e(0x519)][_0x5f330e(0x419)]),{'updated':_0x4b6624[_0x5f330e(0x148)],'inserted':_0x2fef8a[_0x5f330e(0x148)]};}catch(_0x3b8c14){throw console['error'](_0x5f330e(0x214),_0x3b8c14),_0x3b8c14;}}async['importChats'](_0x2dc962){const _0x46dd73=a0_0x3146da;try{if(!Array[_0x46dd73(0x43c)](_0x2dc962)||_0x2dc962[_0x46dd73(0x148)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x32b0a6=0x64,_0x42829f=0x0;for(let _0x2b40d1=0x0;_0x2b40d1<_0x2dc962[_0x46dd73(0x148)];_0x2b40d1+=_0x32b0a6){let _0x457e8e=_0x2dc962[_0x46dd73(0xf3)](_0x2b40d1,_0x2b40d1+_0x32b0a6),{updated:_0x727a92}=await this[_0x46dd73(0x6e8)](_0x457e8e);_0x42829f+=_0x727a92;}return{'updated':_0x42829f};}catch(_0x83571d){throw console[_0x46dd73(0x451)](_0x46dd73(0x214),_0x83571d),_0x83571d;}}async[a0_0x3146da(0x6e8)](_0x43e8dd){const _0x206c51=a0_0x3146da;try{let _0x3c76ed=await this[_0x206c51(0x1ad)]['label'][_0x206c51(0x6a9)]({'where':{}},this[_0x206c51(0x519)]['wuid']),_0x3c4927=new Set(_0x3c76ed[_0x206c51(0x33c)](_0x5e67f8=>_0x5e67f8[_0x206c51(0x60a)])),_0x42744c=[],_0x3a5e02=[];for(let _0xc603f2 of _0x43e8dd){if(!_0xc603f2[_0x206c51(0x60a)])continue;_0xc603f2[_0x206c51(0x60a)]=this[_0x206c51(0x47d)](_0xc603f2[_0x206c51(0x60a)]);let _0x252369=await this[_0x206c51(0x1ad)]['chat'][_0x206c51(0xee)]({'where':{'_id':_0xc603f2[_0x206c51(0x60a)]}},this['instance'][_0x206c51(0x419)]),_0x24f4f9={};if(Object['entries'](_0xc603f2['leadInfo'])[_0x206c51(0x3d2)](([_0x41dbf6,_0x7b2032])=>{_0x24f4f9['leadInfo.'+_0x41dbf6]=_0x7b2032;}),_0x252369&&!_0x252369[_0x206c51(0x4c2)]){let _0x23f76e=(_0xc603f2[_0x206c51(0x286)]['etiquetas']||[])[_0x206c51(0x431)](_0x301fe5=>_0x3c4927[_0x206c51(0x725)](_0x301fe5)),_0x3f4430=new Set(_0x252369[_0x206c51(0x286)][_0x206c51(0x2ce)]||[]),_0x3b40e4=_0x23f76e[_0x206c51(0x431)](_0x105f19=>!_0x3f4430['has'](_0x105f19)),_0x3bc30f=[..._0x3f4430][_0x206c51(0x431)](_0x29170a=>!_0x23f76e[_0x206c51(0x44a)](_0x29170a));_0x3a5e02[_0x206c51(0x621)](..._0x3b40e4['map'](_0x374362=>this[_0x206c51(0x682)](_0x374362,_0xc603f2[_0x206c51(0x60a)]))),_0x3a5e02[_0x206c51(0x621)](..._0x3bc30f[_0x206c51(0x33c)](_0x1b199d=>this[_0x206c51(0x41f)](_0x1b199d,_0xc603f2[_0x206c51(0x60a)]))),_0xc603f2[_0x206c51(0x286)][_0x206c51(0x2ce)]=_0x23f76e,_0x42744c['push']({'query':{'where':{'_id':_0xc603f2[_0x206c51(0x60a)],'owner':this[_0x206c51(0x519)]['wuid']}},'update':_0x24f4f9});}else _0x24f4f9['imported']=!0x0,_0x42744c[_0x206c51(0x621)]({'query':{'where':{'_id':_0xc603f2[_0x206c51(0x60a)],'owner':this[_0x206c51(0x519)][_0x206c51(0x419)]}},'update':_0x24f4f9});}let _0x36e53d=await this[_0x206c51(0x1ad)][_0x206c51(0x11c)][_0x206c51(0x5c0)](_0x42744c);return await Promise[_0x206c51(0x182)](_0x3a5e02),{'updated':_0x36e53d};}catch(_0x3b4d86){throw console[_0x206c51(0x451)](_0x206c51(0x214),_0x3b4d86),_0x3b4d86;}}async[a0_0x3146da(0x6a1)](){const _0x369acf=a0_0x3146da;return await this['client'][_0x369acf(0x6a1)]();}async[a0_0x3146da(0x49d)](_0x5269da){const _0xb0752c=a0_0x3146da;try{return await this[_0xb0752c(0x344)]['updateReadReceiptsPrivacy'](_0x5269da['privacySettings'][_0xb0752c(0x556)]),await this[_0xb0752c(0x344)][_0xb0752c(0x40b)](_0x5269da[_0xb0752c(0x602)][_0xb0752c(0x427)]),await this[_0xb0752c(0x344)][_0xb0752c(0x1c5)](_0x5269da['privacySettings'][_0xb0752c(0x1d6)]),await this['client'][_0xb0752c(0x441)](_0x5269da[_0xb0752c(0x602)][_0xb0752c(0x1fb)]),await this[_0xb0752c(0x344)][_0xb0752c(0xf9)](_0x5269da[_0xb0752c(0x602)]['last']),await this['client']['updateGroupsAddPrivacy'](_0x5269da[_0xb0752c(0x602)][_0xb0752c(0x704)]),this[_0xb0752c(0x344)]?.['ws']?.[_0xb0752c(0x5d6)](),{'update':_0xb0752c(0x4aa),'data':{'readreceipts':_0x5269da[_0xb0752c(0x602)][_0xb0752c(0x556)],'profile':_0x5269da[_0xb0752c(0x602)][_0xb0752c(0x427)],'status':_0x5269da[_0xb0752c(0x602)]['status'],'online':_0x5269da[_0xb0752c(0x602)][_0xb0752c(0x1fb)],'last':_0x5269da['privacySettings'][_0xb0752c(0x200)],'groupadd':_0x5269da[_0xb0752c(0x602)][_0xb0752c(0x704)]}};}catch(_0x1afaf7){throw new O(_0xb0752c(0x54c),_0x1afaf7[_0xb0752c(0x63d)]());}}async[a0_0x3146da(0x3e1)](_0x863926){const _0x225c96=a0_0x3146da;let _0x4c9afd=_0x863926?this[_0x225c96(0x47d)](_0x863926):this[_0x225c96(0x344)]?.['user']?.['id'];this[_0x225c96(0x6a2)][_0x225c96(0x19a)](_0x225c96(0x3df)+_0x4c9afd);try{if(this[_0x225c96(0x6a2)][_0x225c96(0x19a)](_0x225c96(0x1b5)),_0x863926){let _0x92d8ad=(await this[_0x225c96(0x30d)]({'numbers':[_0x4c9afd]}))?.[_0x225c96(0x3ad)](),_0x5b1e49=await this[_0x225c96(0x469)](_0x92d8ad?.[_0x225c96(0x403)]),_0xa7df37=await this[_0x225c96(0x5b6)](_0x92d8ad?.['jid']),_0x497a=await this[_0x225c96(0x5a0)](_0x92d8ad?.[_0x225c96(0x403)]);return{'wuid':_0x92d8ad?.[_0x225c96(0x403)]||_0x4c9afd,'name':_0x92d8ad?.[_0x225c96(0x51a)],'numberExists':_0x92d8ad?.[_0x225c96(0x203)],'picture':_0x5b1e49?.['profilePictureUrl'],'status':_0xa7df37?.[_0x225c96(0x1d6)],'isBusiness':_0x497a[_0x225c96(0x706)],'email':_0x497a?.[_0x225c96(0x377)],'description':_0x497a?.[_0x225c96(0x25e)],'website':_0x497a?.[_0x225c96(0x135)]?.[_0x225c96(0x3ad)]()};}}catch{return this[_0x225c96(0x6a2)][_0x225c96(0x19a)](_0x225c96(0x5e7)),{'wuid':_0x4c9afd,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x3146da(0x675)](_0x21fd51){const _0xc368b=a0_0x3146da;let _0x2b96eb=(_0x21fd51?this[_0xc368b(0x47d)](_0x21fd51):this[_0xc368b(0x344)]?.['user']?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0xc368b(0x6a2)][_0xc368b(0x19a)](_0xc368b(0x650)+_0x2b96eb);let _0x3444e4=await this[_0xc368b(0x1ad)][_0xc368b(0x3e9)][_0xc368b(0xee)]({'where':{'_id':_0x2b96eb}},this[_0xc368b(0x519)][_0xc368b(0x419)]),_0xbdd831=_0x3444e4?_0x3444e4[_0xc368b(0x1ac)]:null;try{let _0x3062dd=(await this[_0xc368b(0x30d)]({'numbers':[_0x2b96eb]}))?.[_0xc368b(0x3ad)](),_0xc606b2=await this['profilePicture'](_0x3062dd?.[_0xc368b(0x403)]),_0x58c3d1=await this[_0xc368b(0x5b6)](_0x3062dd?.[_0xc368b(0x403)]),_0x54ec30=await this[_0xc368b(0x5a0)](_0x3062dd?.[_0xc368b(0x403)]),_0x28622e=await this[_0xc368b(0x1ad)][_0xc368b(0x11c)][_0xc368b(0xee)]({'where':{'_id':_0x2b96eb}},this['instance'][_0xc368b(0x419)]),_0x106bd6={'imagechat':_0xc606b2?.['profilePictureUrl'],'contactname':_0xbdd831||null,'status':_0x58c3d1?.[_0xc368b(0x1d6)],'isBusiness':_0x54ec30['isBusiness'],'email':_0x54ec30?.[_0xc368b(0x377)],'description':_0x54ec30?.[_0xc368b(0x25e)],'website':_0x54ec30?.['website']?.[_0xc368b(0x3ad)](),'lastcache':Date[_0xc368b(0x257)](),'imported':!_0x28622e},_0x44d8be=await this['repository']['chat'][_0xc368b(0x2f8)]({'where':{'_id':_0x2b96eb}},_0x106bd6,this[_0xc368b(0x519)][_0xc368b(0x419)]),_0x5302b9={'owner':this[_0xc368b(0x519)][_0xc368b(0x419)],'_id':_0x2b96eb,'profilePictureUrl':_0xc606b2?.['profilePictureUrl'],'status':_0x58c3d1?.[_0xc368b(0x1d6)]};return this[_0xc368b(0x1ad)][_0xc368b(0x3e9)][_0xc368b(0x118)]([_0x5302b9],this[_0xc368b(0x519)][_0xc368b(0x419)]),_0x44d8be&&J(this[_0xc368b(0x1ec)],_0xc368b(0xbe),{'chat':_0x44d8be}),{'wuid':_0x3062dd?.[_0xc368b(0x403)]||_0x2b96eb,'name':_0x3062dd?.['name'],'numberExists':_0x3062dd?.[_0xc368b(0x203)],'picture':_0xc606b2?.[_0xc368b(0x25a)],'status':_0x58c3d1?.[_0xc368b(0x1d6)],'isBusiness':_0x54ec30[_0xc368b(0x706)],'email':_0x54ec30?.[_0xc368b(0x377)],'description':_0x54ec30?.['description'],'website':_0x54ec30?.[_0xc368b(0x135)]?.[_0xc368b(0x3ad)]()};}catch(_0x1616f2){return this[_0xc368b(0x6a2)]['error'](_0xc368b(0x68c)+(_0x1616f2 instanceof Error?_0x1616f2[_0xc368b(0x25d)]:JSON[_0xc368b(0x692)](_0x1616f2,null,0x2))),{};}}async[a0_0x3146da(0x5a0)](_0x20bb34){const _0x57565d=a0_0x3146da;this[_0x57565d(0x6a2)][_0x57565d(0x19a)](_0x57565d(0x44e));try{let _0x1a7115=_0x20bb34?this['createJid'](_0x20bb34):this['instance'][_0x57565d(0x419)],_0x9ed77b=await this[_0x57565d(0x344)][_0x57565d(0x592)](_0x1a7115);return this['logger']['verbose']('Trying\x20to\x20get\x20business\x20profile'),_0x9ed77b?(this[_0x57565d(0x6a2)]['verbose']('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x9ed77b}):{'isBusiness':!0x1,'message':_0x57565d(0x37f),...(await this[_0x57565d(0x30d)]({'numbers':[_0x1a7115]}))?.[_0x57565d(0x3ad)]()};}catch(_0x377aee){throw new O('Error\x20updating\x20profile\x20name',_0x377aee[_0x57565d(0x63d)]());}}async['getStatus'](_0xc9b93f){const _0x214a09=a0_0x3146da;let _0x472737=this[_0x214a09(0x47d)](_0xc9b93f);try{return{'wuid':_0x472737,'status':(await this[_0x214a09(0x344)][_0x214a09(0x593)](_0x472737))?.['status']};}catch{return{'wuid':_0x472737,'status':null};}}async[a0_0x3146da(0x554)](_0xf8a3c7){const _0x519cc3=a0_0x3146da;try{return await this[_0x519cc3(0x344)]['updateProfileName'](_0xf8a3c7),{'update':'success'};}catch(_0x268966){throw new O(_0x519cc3(0x39a),_0x268966[_0x519cc3(0x63d)]());}}async[a0_0x3146da(0x578)](_0x58e4c3){const _0x3cc272=a0_0x3146da;try{return await this[_0x3cc272(0x344)]['updateProfileStatus'](_0x58e4c3),{'update':_0x3cc272(0x4aa)};}catch(_0x26d668){throw new O(_0x3cc272(0x3cd),_0x26d668[_0x3cc272(0x63d)]());}}async[a0_0x3146da(0x57f)](_0x47a450){const _0x309aea=a0_0x3146da;try{let _0x4ad2cf;if((0x0,k[_0x309aea(0x33e)])(_0x47a450)){let _0x75e196=new Date()[_0x309aea(0x3d8)](),_0x2dbaab=_0x47a450+_0x309aea(0x598)+_0x75e196;_0x4ad2cf=(await se[_0x309aea(0x5e3)][_0x309aea(0x4ed)](_0x2dbaab,{'responseType':_0x309aea(0x4b8)}))[_0x309aea(0x22b)];}else{if((0x0,k[_0x309aea(0x6b0)])(_0x47a450))_0x4ad2cf=Buffer[_0x309aea(0x467)](_0x47a450,_0x309aea(0x4c6));else throw new m(_0x309aea(0x4ef));}return await this[_0x309aea(0x344)][_0x309aea(0x57f)](this[_0x309aea(0x519)][_0x309aea(0x419)],_0x4ad2cf),{'update':_0x309aea(0x4aa)};}catch(_0x2c4cfa){throw new O(_0x309aea(0xe4),_0x2c4cfa['toString']());}}async[a0_0x3146da(0x2cb)](){const _0x1b508c=a0_0x3146da;try{return await this[_0x1b508c(0x344)][_0x1b508c(0x2cb)](this['instance'][_0x1b508c(0x419)]),{'update':_0x1b508c(0x4aa)};}catch(_0x3fa9cc){throw new O(_0x1b508c(0x6d0),_0x3fa9cc[_0x1b508c(0x63d)]());}}async[a0_0x3146da(0x696)](_0x79c74f){const _0x3b82ba=a0_0x3146da;try{let _0x310c51=_0x79c74f[_0x3b82ba(0x16e)][_0x3b82ba(0x33c)](_0x34c971=>this[_0x3b82ba(0x47d)](_0x34c971)),{id:_0xc3c179}=await this[_0x3b82ba(0x344)]['groupCreate'](_0x79c74f[_0x3b82ba(0x6fc)],_0x310c51);return _0x79c74f?.[_0x3b82ba(0x25e)]&&await this['client']['groupUpdateDescription'](_0xc3c179,_0x79c74f[_0x3b82ba(0x25e)]),{'metadata':await this[_0x3b82ba(0x344)][_0x3b82ba(0x36c)](_0xc3c179)};}catch(_0x2a064b){throw this[_0x3b82ba(0x6a2)][_0x3b82ba(0x451)](this[_0x3b82ba(0x1ec)]+'\x20('+this[_0x3b82ba(0x519)][_0x3b82ba(0x419)]+_0x3b82ba(0x6e9)+(_0x2a064b instanceof Error?_0x2a064b['message']:JSON['stringify'](_0x2a064b,null,0x2))),new O(_0x3b82ba(0x49b),_0x2a064b['toString']());}}async[a0_0x3146da(0x70a)](_0x1bab16){const _0x180f82=a0_0x3146da;try{let _0x65daa4;if((0x0,k[_0x180f82(0x33e)])(_0x1bab16[_0x180f82(0x38d)])){let _0x41cd0a=new Date()[_0x180f82(0x3d8)](),_0x244980=_0x1bab16[_0x180f82(0x38d)]+_0x180f82(0x598)+_0x41cd0a;_0x65daa4=(await se[_0x180f82(0x5e3)][_0x180f82(0x4ed)](_0x244980,{'responseType':_0x180f82(0x4b8)}))[_0x180f82(0x22b)];}else{if((0x0,k[_0x180f82(0x6b0)])(_0x1bab16[_0x180f82(0x38d)]))_0x65daa4=Buffer['from'](_0x1bab16[_0x180f82(0x38d)],_0x180f82(0x4c6));else throw new m(_0x180f82(0x4ef));}return await this['client'][_0x180f82(0x57f)](_0x1bab16['groupJid'],_0x65daa4),{'update':'success'};}catch(_0x5a93fb){throw new O('Error\x20update\x20group\x20picture',_0x5a93fb[_0x180f82(0x63d)]());}}async['findGroup'](_0x2610fc,_0x1d4487=a0_0x3146da(0x560)){const _0x110b8d=a0_0x3146da;try{let _0x2288a0=await this[_0x110b8d(0x344)][_0x110b8d(0x36c)](_0x2610fc[_0x110b8d(0x67d)]),_0x104735=null;try{_0x104735=(await this['profilePicture'](_0x2610fc[_0x110b8d(0x67d)]))[_0x110b8d(0x25a)];}catch(_0x542c94){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x110b8d(0x519)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2610fc[_0x110b8d(0x67d)]+':\x20'+(_0x542c94 instanceof Error?_0x542c94['message']:JSON[_0x110b8d(0x692)](_0x542c94,null,0x2)));}let _0x1dba5b=await this['repository'][_0x110b8d(0x11c)]['updateOne']({'where':{'_id':_0x2610fc[_0x110b8d(0x67d)]}},{'imagechat':_0x104735,'name':_0x2288a0[_0x110b8d(0x6fc)],'group_size':_0x2288a0[_0x110b8d(0x5a8)],'group_announce':_0x2288a0[_0x110b8d(0x3ee)],'lastcache':Date[_0x110b8d(0x257)]()},this['instance']['wuid']);return _0x1dba5b&&J(this['instanceName'],_0x110b8d(0xbe),{'chat':_0x1dba5b}),{'metadata':_0x2288a0,'image':_0x104735};}catch(_0x2192a2){if(_0x1d4487===_0x110b8d(0x4bf))return;throw new j(_0x110b8d(0x5f7),_0x2192a2[_0x110b8d(0x63d)]());}}async[a0_0x3146da(0x690)](_0x2c1922){const _0x304755=a0_0x3146da;try{return await this[_0x304755(0x344)]['groupUpdateDescription'](_0x2c1922[_0x304755(0x67d)],_0x2c1922[_0x304755(0x25e)]),{'update':_0x304755(0x4aa)};}catch(_0x5c63bc){throw new O(_0x304755(0x4e4),_0x5c63bc[_0x304755(0x63d)]());}}async[a0_0x3146da(0x24b)](_0x1719e9){const _0x52affd=a0_0x3146da;try{return await this[_0x52affd(0x344)][_0x52affd(0x43e)](_0x1719e9[_0x52affd(0x67d)],_0x1719e9[_0x52affd(0x51a)]),{'update':_0x52affd(0x4aa)};}catch(_0x352f48){throw new O('Error\x20change\x20group\x20name',_0x352f48[_0x52affd(0x63d)]());}}async[a0_0x3146da(0x4c3)](_0x3b1b1d){const _0x895832=a0_0x3146da;try{return await this[_0x895832(0x344)]['groupSettingUpdate'](_0x3b1b1d[_0x895832(0x67d)],_0x3b1b1d[_0x895832(0x65d)]),{'update':_0x895832(0x4aa)};}catch(_0x1eebc6){throw new O(_0x895832(0x20d),_0x1eebc6[_0x895832(0x63d)]());}}async[a0_0x3146da(0x3e4)](){const _0x4194be=a0_0x3146da;try{let _0x441979=[],_0x291c1e=await this[_0x4194be(0x344)][_0x4194be(0x3f9)](),_0x16cbab=Object[_0x4194be(0x374)](_0x291c1e),_0x42f745=_0x16cbab[_0x4194be(0x431)](_0x367f28=>(0x0,y[_0x4194be(0x34d)])(_0x367f28?.['id']))[_0x4194be(0x33c)](async _0x508505=>{const _0x52726e=_0x4194be;try{return await this[_0x52726e(0x344)][_0x52726e(0x25a)](_0x508505['id'],_0x52726e(0x3d3));}catch(_0x2bac01){return this[_0x52726e(0x6a2)][_0x52726e(0x19a)](this['instanceName']+'\x20('+this[_0x52726e(0x519)]['wuid']+_0x52726e(0x628)+_0x508505['id']+':\x20'+(_0x2bac01 instanceof Error?_0x2bac01[_0x52726e(0x25d)]:JSON['stringify'](_0x2bac01,null,0x2))),null;}}),_0x2c6dcd=await Promise[_0x4194be(0x182)](_0x42f745);for(let _0x298f88=0x0;_0x298f88<_0x16cbab[_0x4194be(0x148)];_0x298f88++){let _0x20a71a=_0x16cbab[_0x298f88];(0x0,y[_0x4194be(0x34d)])(_0x20a71a?.['id'])&&_0x441979[_0x4194be(0x621)]({'groupJid':_0x20a71a?.['id'],'subject':_0x20a71a?.[_0x4194be(0x6fc)],'subjectOwner':_0x20a71a?.[_0x4194be(0x267)]?.['split']('@')[0x0],'subjectTime':_0x20a71a?.[_0x4194be(0x44d)],'size':_0x20a71a?.[_0x4194be(0x16e)]?.['length'],'owner':_0x20a71a?.[_0x4194be(0xdf)]?.[_0x4194be(0x72c)]('@')[0x0],'creation':_0x20a71a?.[_0x4194be(0x266)],'desc':_0x20a71a?.[_0x4194be(0x2b7)],'restrict':_0x20a71a?.['restrict'],'announce':_0x20a71a?.[_0x4194be(0x3ee)],'image':_0x2c6dcd[_0x298f88]});}return _0x441979;}catch(_0x176126){throw new j(_0x4194be(0x5f7),_0x176126['toString']());}}async['inviteCode'](_0x40faf5){const _0x27c93d=a0_0x3146da;try{let _0x38219c=await this[_0x27c93d(0x344)][_0x27c93d(0x6dd)](_0x40faf5[_0x27c93d(0x67d)]);return{'inviteUrl':_0x27c93d(0x4eb)+_0x38219c,'inviteCode':_0x38219c};}catch(_0x4088b2){throw new j(_0x27c93d(0x68e),_0x4088b2[_0x27c93d(0x63d)]());}}async[a0_0x3146da(0x6ab)](_0x37b4c6){const _0x125887=a0_0x3146da;try{let _0x28f378=await this[_0x125887(0x344)][_0x125887(0x115)](_0x37b4c6['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x125887(0x4eb)+_0x28f378,'inviteCode':_0x28f378};}catch(_0x799cec){throw new j(_0x125887(0x2be),_0x799cec[_0x125887(0x63d)]());}}async[a0_0x3146da(0x2e4)](_0x5a4ba4){const _0x4bfc7c=a0_0x3146da;try{if((0x0,k[_0x4bfc7c(0x33e)])(_0x5a4ba4[_0x4bfc7c(0x661)]))var _0x5c3326=_0x5a4ba4[_0x4bfc7c(0x661)][_0x4bfc7c(0x72c)]('/')[0x3];else var _0x5c3326=_0x5a4ba4[_0x4bfc7c(0x661)];let _0xbd3471=await this[_0x4bfc7c(0x344)][_0x4bfc7c(0x2cf)](_0x5c3326);return this[_0x4bfc7c(0x6a2)][_0x4bfc7c(0x19a)](this[_0x4bfc7c(0x1ec)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xbd3471),{'join':!0x0,'inviteCode':_0x5c3326,'groupJid':_0xbd3471};}catch(_0xf86a4b){throw new j('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0xf86a4b['toString']());}}async[a0_0x3146da(0x3d7)](_0x16a230){const _0x569b20=a0_0x3146da;try{return{'participants':(await this['client'][_0x569b20(0x36c)](_0x16a230['groupJid']))[_0x569b20(0x16e)]};}catch(_0x569d87){throw new j(_0x569b20(0x2e9),_0x569d87[_0x569b20(0x63d)]());}}async['updateGParticipant'](_0x212f20){const _0x613aa0=a0_0x3146da;try{let _0x3ebfc2=_0x212f20[_0x613aa0(0x16e)]['map'](_0x102381=>this[_0x613aa0(0x47d)](_0x102381));return{'updateParticipants':await this[_0x613aa0(0x344)][_0x613aa0(0x2c2)](_0x212f20[_0x613aa0(0x67d)],_0x3ebfc2,_0x212f20[_0x613aa0(0xcd)])};}catch(_0x3be7d8){throw new m(_0x613aa0(0x4a3),_0x3be7d8[_0x613aa0(0x63d)]());}}async[a0_0x3146da(0x198)](_0x29de49){const _0x15a8d7=a0_0x3146da;try{let _0x192200=await this[_0x15a8d7(0x344)]['groupToggleEphemeral'](_0x29de49[_0x15a8d7(0x67d)],_0x29de49[_0x15a8d7(0x24f)]);return{'success':!0x0};}catch(_0x5a1b57){throw new m(_0x15a8d7(0x3ea),_0x5a1b57[_0x15a8d7(0x63d)]());}}async[a0_0x3146da(0x1bf)](_0x64d769){const _0x4f67e6=a0_0x3146da;try{return await this[_0x4f67e6(0x344)]['groupLeave'](_0x64d769[_0x4f67e6(0x67d)]),{'groupJid':_0x64d769['groupJid'],'leave':!0x0};}catch(_0x435390){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x435390[_0x4f67e6(0x63d)]());}}async[a0_0x3146da(0x4c4)](_0x257562){const _0x1f436c=a0_0x3146da;return await this[_0x1f436c(0x11b)](_0x257562[_0x1f436c(0x6e7)],{'poll':{'name':_0x257562[_0x1f436c(0x4c4)]?.[_0x1f436c(0x51a)],'selectableCount':_0x257562[_0x1f436c(0x4c4)][_0x1f436c(0x5bb)],'values':_0x257562['pollMessage'][_0x1f436c(0x374)]}},_0x257562?.[_0x1f436c(0x230)]);}async[a0_0x3146da(0x27c)](_0x39dbe3){const _0x484aab=a0_0x3146da;return await this[_0x484aab(0x11b)](_0x39dbe3[_0x484aab(0x6e7)],{'listMessage':{'title':_0x39dbe3[_0x484aab(0x27c)][_0x484aab(0x3af)],'description':_0x39dbe3[_0x484aab(0x27c)]['description'],'buttonText':_0x39dbe3[_0x484aab(0x27c)]?.['buttonText'],'footerText':_0x39dbe3[_0x484aab(0x27c)]?.[_0x484aab(0x409)],'sections':_0x39dbe3['listMessage'][_0x484aab(0x4f8)],'listType':0x2}},_0x39dbe3?.['options']);}async[a0_0x3146da(0x591)](_0x312deb){const _0x32a643=a0_0x3146da;let _0x339ad6;if(_0x312deb[_0x32a643(0x591)][_0x32a643(0x4b5)]===_0x32a643(0x155)){let _0x29409f=_0x312deb[_0x32a643(0x591)][_0x32a643(0x69b)]['indexOf']('\x0a'),_0x4e229c='',_0x3cacaa='';_0x29409f!==-0x1?(_0x4e229c=_0x312deb[_0x32a643(0x591)][_0x32a643(0x69b)][_0x32a643(0x318)](0x0,_0x29409f)['trim'](),_0x3cacaa=_0x312deb['menuMessage']['text'][_0x32a643(0x318)](_0x29409f+0x1)):_0x3cacaa=_0x312deb[_0x32a643(0x591)]['text'];let _0x4334bf=this[_0x32a643(0x694)](_0x312deb[_0x32a643(0x591)]['choices']);_0x339ad6={'listMessage':{'title':_0x4e229c,'description':_0x3cacaa,'buttonText':_0x312deb[_0x32a643(0x591)]['buttonText']||_0x32a643(0x393),'footerText':_0x312deb['menuMessage']['footerText'],'sections':_0x4334bf,'listType':0x2}};}else{if(_0x312deb[_0x32a643(0x591)]['type']==='poll'){let _0x587234=_0x312deb['menuMessage'][_0x32a643(0x12e)][_0x32a643(0x431)](_0x5dddec=>!(_0x5dddec['startsWith']('[')&&_0x5dddec[_0x32a643(0x604)](']')))[_0x32a643(0x33c)](_0x5e7ecd=>_0x5e7ecd[_0x32a643(0x72c)]('\x0a')[0x0]);_0x339ad6={'poll':{'name':_0x312deb[_0x32a643(0x591)][_0x32a643(0x69b)],'selectableCount':_0x312deb['menuMessage']['selectableCount']||0x1,'values':_0x587234}};}}return await this[_0x32a643(0x11b)](_0x312deb[_0x32a643(0x6e7)],_0x339ad6,_0x312deb?.['options']);}['createSectionsFromValues'](_0x4c7e84){const _0x46f683=a0_0x3146da;let _0x43c2b6=[],_0x3708b7={'rows':[]};return _0x4c7e84['forEach'](_0x4c4498=>{const _0x2cc3b0=a0_0xd411;if(_0x4c4498[_0x2cc3b0(0x108)]('[')&&_0x4c4498[_0x2cc3b0(0x604)](']'))_0x3708b7[_0x2cc3b0(0x126)]['length']>0x0&&_0x43c2b6[_0x2cc3b0(0x621)](_0x3708b7),_0x3708b7={'title':_0x4c4498[_0x2cc3b0(0xf3)](0x1,-0x1),'rows':[]};else{let _0x212507=_0x4c4498[_0x2cc3b0(0x72c)]('\x0a')['map'](_0x370c12=>_0x370c12[_0x2cc3b0(0x69c)]()),_0x145cd7=_0x212507[0x0],_0x1052e0=_0x212507[0x1]||null,_0x15a860=_0x212507[0x2]||_0x145cd7;_0x3708b7[_0x2cc3b0(0x126)][_0x2cc3b0(0x621)]({'title':_0x145cd7,'description':_0x1052e0,'rowId':_0x15a860});}}),_0x3708b7['rows'][_0x46f683(0x148)]>0x0&&_0x43c2b6[_0x46f683(0x621)](_0x3708b7),_0x43c2b6;}async[a0_0x3146da(0x40d)](_0x29f4ca,_0x341b9b){const _0x551583=a0_0x3146da;if(await this[_0x551583(0x547)](_0x29f4ca,!0x0)){let _0x1740cc={'where':{'_id':_0x29f4ca['id']}},_0x98071a={'status':[_0x341b9b[_0x551583(0x1d6)]][0x0]};try{let _0x4e16fa=await this['repository'][_0x551583(0x25d)]['update'](_0x1740cc,_0x98071a,this[_0x551583(0x519)][_0x551583(0x419)]);_0x4e16fa&&J(this[_0x551583(0x1ec)],_0x551583(0x494),{'message':_0x4e16fa});}catch{}}}[a0_0x3146da(0x499)](_0x50b599){const _0xac4977=a0_0x3146da;let _0x5d79ca=[];return _0x50b599[_0xac4977(0x3d2)](_0x38e53a=>{const _0x3747a3=_0xac4977;_0x38e53a[_0x3747a3(0x3af)]&&_0x5d79ca[_0x3747a3(0x621)]('['+_0x38e53a[_0x3747a3(0x3af)]+']'),_0x38e53a[_0x3747a3(0x126)][_0x3747a3(0x3d2)](_0x145582=>{const _0x1ef035=_0x3747a3;_0x5d79ca['push'](_0x145582[_0x1ef035(0x3af)]);});}),_0x5d79ca['join']('|');}[a0_0x3146da(0x503)](_0x4527d7){const _0x23d0fb=a0_0x3146da;let _0x397e98=_0x4527d7[_0x23d0fb(0x1ce)](/\\n/g,'\x0a')[_0x23d0fb(0x72c)]('\x0a')[_0x23d0fb(0x431)](_0x2cd435=>_0x2cd435[_0x23d0fb(0x44a)]('TEL')||_0x2cd435['includes'](_0x23d0fb(0x6e5))),_0x580bf5='';return _0x397e98[_0x23d0fb(0x3d2)](_0x490e72=>{const _0x9fc2=_0x23d0fb;let _0x2084ff=/TEL(?:.*):(.+)/,_0x2a6b87=/EMAIL(?:.*):(.+)/,_0xbb3b3f=_0x490e72['match'](_0x2084ff),_0xc59c39=_0x490e72[_0x9fc2(0x3fc)](_0x2a6b87);if(_0xbb3b3f){let _0x4fbf5b=_0xbb3b3f[0x1][_0x9fc2(0x1ce)](/-| |\+|\(|\)/g,'')['trim']();_0x580bf5+=_0x9fc2(0x6c6)+_0x4fbf5b+'\x0a';}else{if(_0xc59c39){let _0x50b05c=_0xc59c39[0x1][_0x9fc2(0x69c)]();_0x580bf5+=_0x9fc2(0x6c9)+_0x50b05c+'\x0a';}}}),_0x580bf5[_0x23d0fb(0x69c)]();}async[a0_0x3146da(0x404)](_0x3436eb,_0x268da7,_0x56b3f6){const _0x37793c=a0_0x3146da;if(!_0x3436eb[_0x37793c(0x5e5)])return;let _0x313902=_0x268da7[_0x37793c(0x415)][_0x37793c(0x340)][_0x37793c(0x1ce)](/:\d{1,2}@/g,'@'),_0xe1ce31=_0x268da7[_0x37793c(0x415)][_0x37793c(0x1ef)],_0x414785=_0x313902[_0x37793c(0x604)](_0x37793c(0xe2)),_0x1d88eb=_0x268da7[_0x37793c(0x411)]?.['text']||_0x268da7[_0x37793c(0x411)]?.[_0x37793c(0x71b)]||_0x268da7[_0x37793c(0x411)]?.[_0x37793c(0x2f2)]||_0x268da7['message_normalized']?.[_0x37793c(0x51a)],_0x642856={'lastmsg':_0x268da7[_0x37793c(0x3cb)]||Date[_0x37793c(0x257)](),'unreadcount':_0xe1ce31?0x0:0x1,..._0xe1ce31||_0x414785?{}:{'name':_0x268da7[_0x37793c(0x1ac)]},..._0x414785?{'group':_0x414785}:{}},_0x3b9c45=await this[_0x37793c(0x1ad)][_0x37793c(0x11c)][_0x37793c(0x2f8)]({'where':{'_id':_0x313902}},_0x642856,this[_0x37793c(0x519)][_0x37793c(0x419)],{'new':!0x0,'upsert':!0x0});if(_0x3b9c45[_0x37793c(0x4c2)]){let _0x400c00=await this[_0x37793c(0x1ad)][_0x37793c(0x5ad)][_0x37793c(0x6a9)]({'where':{}},this[_0x37793c(0x519)][_0x37793c(0x419)]),_0x369a01=new Set(_0x400c00[_0x37793c(0x33c)](_0x1bde68=>_0x1bde68['_id'])),_0x50f295=(_0x3b9c45[_0x37793c(0x286)]?.['etiquetas']||[])[_0x37793c(0x431)](_0x3fd342=>_0x369a01[_0x37793c(0x725)](_0x3fd342)),_0x38ead7={'leadInfo.etiquetas':_0x50f295,'imported':!0x1};_0x3b9c45=await this[_0x37793c(0x1ad)]['chat'][_0x37793c(0x2f8)]({'where':{'_id':_0x313902}},_0x38ead7,this[_0x37793c(0x519)]['wuid']);for(let _0x45454f of _0x50f295)await this['AddChatLabel'](_0x45454f,_0x313902);}if(!_0x414785&&(!_0x3b9c45?.['leadInfo']||!_0x3b9c45[_0x37793c(0x286)][_0x37793c(0x492)])&&_0x268da7['pushName']&&!_0xe1ce31&&(_0x3b9c45=await this[_0x37793c(0x1ad)][_0x37793c(0x11c)]['updateOne']({'where':{'_id':_0x313902}},{'leadInfo.nome':_0x268da7[_0x37793c(0x1ac)]},this[_0x37793c(0x519)][_0x37793c(0x419)],{'new':!0x0,'upsert':!0x0})),_0x56b3f6==='MESSAGES_UPSERT'&&_0xe1ce31&&this[_0x37793c(0x15d)]?.['flowConfig'][_0x37793c(0xc0)]&&!_0x1d88eb[_0x37793c(0x108)](this[_0x37793c(0x15d)]?.[_0x37793c(0x357)][_0x37793c(0x112)])){let _0x510622=(this['AutomateSystem']?.[_0x37793c(0x357)][_0x37793c(0x171)]||0x5)*0xea60,_0x4e997c=Date[_0x37793c(0x257)]()+_0x510622;_0x3b9c45?.[_0x37793c(0x286)]?.[_0x37793c(0x1bb)]===0x0||(await this[_0x37793c(0x1ad)][_0x37793c(0x11c)][_0x37793c(0x2f8)]({'where':{'_id':_0x313902}},{'leadInfo.desativadoFluxoAte':_0x4e997c},this[_0x37793c(0x519)]['wuid'],{'new':!0x0,'upsert':!0x1}),this[_0x37793c(0x6a2)][_0x37793c(0x19a)](this[_0x37793c(0x1ec)]+'\x20('+this[_0x37793c(0x519)][_0x37793c(0x419)]+_0x37793c(0x34f)+_0x4e997c+'.'));}if(_0x3b9c45)J(this[_0x37793c(0x1ec)],_0x37793c(0xbe),{'chat':_0x3b9c45});else{this[_0x37793c(0x6a2)][_0x37793c(0x451)](this['instanceName']+'\x20('+this['instance'][_0x37793c(0x419)]+_0x37793c(0x27d));return;}if(!this[_0x37793c(0x15d)]?.[_0x37793c(0x357)][_0x37793c(0xc0)])return this[_0x37793c(0x6a2)]['verbose'](this[_0x37793c(0x1ec)]+'\x20('+this['instance'][_0x37793c(0x419)]+_0x37793c(0x507)),null;if(_0x3b9c45['_id'][_0x37793c(0x44a)](_0x37793c(0xe2))&&this[_0x37793c(0x15d)]?.['flowConfig'][_0x37793c(0x6a8)]===!0x0)return this['logger'][_0x37793c(0x19a)](this[_0x37793c(0x1ec)]+'\x20('+this[_0x37793c(0x519)][_0x37793c(0x419)]+_0x37793c(0x2f5)),null;if(_0x3b9c45[_0x37793c(0x286)]){if(_0x3b9c45[_0x37793c(0x286)]['desativadoFluxoAte']===0x0||_0x3b9c45['leadInfo'][_0x37793c(0x32e)])return this[_0x37793c(0x6a2)][_0x37793c(0x19a)](this[_0x37793c(0x1ec)]+'\x20('+this[_0x37793c(0x519)][_0x37793c(0x419)]+_0x37793c(0x52d)+_0x313902+_0x37793c(0x364)),null;if(_0x3b9c45[_0x37793c(0x286)][_0x37793c(0x1bb)]>Date[_0x37793c(0x257)]()&&!_0x268da7[_0x37793c(0x411)]?.['vote'])return this[_0x37793c(0x6a2)][_0x37793c(0x19a)](this[_0x37793c(0x1ec)]+'\x20('+this[_0x37793c(0x519)][_0x37793c(0x419)]+_0x37793c(0x3f2)+new Date(_0x3b9c45[_0x37793c(0x286)][_0x37793c(0x1bb)])['toLocaleString']()+_0x37793c(0x364)),null;}this[_0x37793c(0x6a2)]['verbose'](this['instanceName']+'\x20('+this[_0x37793c(0x519)][_0x37793c(0x419)]+_0x37793c(0x31f)),this[_0x37793c(0x170)](_0x56b3f6,_0x268da7);}async['upsertChats'](_0x2cc519,_0x5c0ed1){const _0x2ca818=a0_0x3146da;if(_0x5c0ed1[_0x2ca818(0x5e5)]){let _0x467842=_0x2cc519[_0x2ca818(0x33c)](async _0x1f6753=>{const _0x4e12b1=_0x2ca818;try{let _0x1fd7fc={'_id':_0x1f6753[_0x4e12b1(0x60a)],'owner':_0x1f6753[_0x4e12b1(0xdf)],'lastcache':0x0};if(_0x1f6753[_0x4e12b1(0xe1)]!==null&&(_0x1fd7fc[_0x4e12b1(0xe1)]=_0x1f6753[_0x4e12b1(0xe1)]),_0x1f6753[_0x4e12b1(0x51a)]!==null&&(_0x1fd7fc[_0x4e12b1(0x51a)]=_0x1f6753[_0x4e12b1(0x51a)]),_0x1f6753[_0x4e12b1(0x36d)]!==null&&(_0x1fd7fc[_0x4e12b1(0x36d)]=_0x1f6753[_0x4e12b1(0x36d)]),_0x1f6753['imagechat']!==null&&(_0x1fd7fc[_0x4e12b1(0x44c)]=_0x1f6753['imagechat']),_0x1f6753[_0x4e12b1(0x44c)]===null&&(_0x1fd7fc[_0x4e12b1(0x44c)]='Imagem\x20não\x20encontrada'),_0x1f6753[_0x4e12b1(0x1e1)]!==null&&(_0x1fd7fc['lastmsg']=_0x1f6753['lastmsg']),_0x1f6753['archived']!==null&&(_0x1fd7fc[_0x4e12b1(0x232)]=_0x1f6753[_0x4e12b1(0x232)]),_0x1f6753[_0x4e12b1(0x70f)]!==null&&(_0x1fd7fc[_0x4e12b1(0x70f)]=_0x1f6753[_0x4e12b1(0x70f)]),Object[_0x4e12b1(0x476)](_0x1fd7fc)['length']>0x0)return await this['repository'][_0x4e12b1(0x11c)][_0x4e12b1(0x2f8)]({'where':{'_id':_0x1f6753[_0x4e12b1(0x60a)]}},_0x1fd7fc,this[_0x4e12b1(0x519)]['wuid']);}catch(_0x53d936){return console[_0x4e12b1(0x451)](_0x4e12b1(0x1cf)+_0x1f6753[_0x4e12b1(0x60a)]+':',_0x53d936),null;}}),_0x284c0f=(await Promise[_0x2ca818(0x182)](_0x467842))['filter'](_0x1934a7=>_0x1934a7!==null)['length'];this[_0x2ca818(0x6a2)][_0x2ca818(0x19a)](this['instanceName']+'\x20('+this['instance'][_0x2ca818(0x419)]+_0x2ca818(0x6e9)+_0x284c0f+'\x20chats\x20de\x20'+this[_0x2ca818(0x519)][_0x2ca818(0x419)]+_0x2ca818(0xd3));}}async[a0_0x3146da(0x68b)](_0x2ddb89){const _0x24ca85=a0_0x3146da;this['logger'][_0x24ca85(0x19a)](this[_0x24ca85(0x1ec)]+'\x20('+this['instance']['wuid']+_0x24ca85(0x496));let _0x5de5c5={'readMessages':[{'remoteJid':_0x2ddb89['chatLog'][_0x24ca85(0x398)][_0x24ca85(0x415)][_0x24ca85(0x340)],'fromMe':_0x2ddb89[_0x24ca85(0xdc)][_0x24ca85(0x398)][_0x24ca85(0x415)][_0x24ca85(0x1ef)],'id':_0x2ddb89[_0x24ca85(0xdc)][_0x24ca85(0x398)][_0x24ca85(0x415)]['id']}]};await this[_0x24ca85(0x4cd)](_0x5de5c5);}async[a0_0x3146da(0x170)](_0x1e4d43,_0x8f6eb8){const _0x84601c=a0_0x3146da;try{let {key:_0x213be2,message_normalized:_0x33cd65}=_0x8f6eb8,_0x4f367a=_0x33cd65,_0x1a1165=_0x33cd65[_0x84601c(0x69b)]||_0x33cd65['caption']||_0x33cd65['vote']||_0x33cd65['name'],_0x5b1b66=_0x213be2['remoteJid'],_0x225c8c;if(_0x4f367a[_0x84601c(0x415)][_0x84601c(0x1ef)]&&_0x1a1165[_0x84601c(0x69c)]()!==this[_0x84601c(0x15d)]?.['flowConfig'][_0x84601c(0x161)]['trim']())return this[_0x84601c(0x6a2)][_0x84601c(0x19a)](this[_0x84601c(0x1ec)]+'\x20('+this['instance']['wuid']+_0x84601c(0x6bb)),null;if(_0x4f367a[_0x84601c(0x415)]['fromMe']&&_0x1a1165[_0x84601c(0x69c)]()===this[_0x84601c(0x15d)]?.['flowConfig'][_0x84601c(0x161)][_0x84601c(0x69c)]()){this[_0x84601c(0x6a2)]['verbose'](this['instanceName']+'\x20('+this[_0x84601c(0x519)][_0x84601c(0x419)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x5cba74=await this[_0x84601c(0x1ad)][_0x84601c(0x618)][_0x84601c(0x6a9)]({'remoteJid':_0x5b1b66,'status':_0x84601c(0x4fa)},this['instance']['wuid']);this[_0x84601c(0x6a2)]['verbose'](this['instanceName']+'\x20('+this[_0x84601c(0x519)][_0x84601c(0x419)]+_0x84601c(0x58a)+_0x5cba74);let _0x396e4c=Date[_0x84601c(0x257)](),_0x4b3eed;return this[_0x84601c(0x15d)]?.[_0x84601c(0x357)]['stopMinutes']===0x0?_0x4b3eed={'stoppedUntil':_0x396e4c+0x7591f6200}:_0x4b3eed={'stoppedUntil':_0x396e4c+this[_0x84601c(0x15d)]?.[_0x84601c(0x357)][_0x84601c(0x429)]*0x3c*0x3e8},this[_0x84601c(0x6a2)][_0x84601c(0x19a)](this[_0x84601c(0x1ec)]+'\x20('+this[_0x84601c(0x519)][_0x84601c(0x419)]+_0x84601c(0x389)+_0x4b3eed),this[_0x84601c(0x5a1)](_0x225c8c,_0x4b3eed[_0x84601c(0x5d3)]),null;}if(_0x1a1165&&_0x1a1165[_0x84601c(0x108)](this['AutomateSystem']?.[_0x84601c(0x357)][_0x84601c(0x112)])&&_0x1a1165[_0x84601c(0x148)]>0x4){let _0x5205da=await this[_0x84601c(0x1ad)][_0x84601c(0x2b8)]['findOne']({'where':{'startCommandWord':_0x1a1165}},this[_0x84601c(0x519)]['wuid']);if(this['logger'][_0x84601c(0x19a)](this[_0x84601c(0x1ec)]+'\x20('+this[_0x84601c(0x519)][_0x84601c(0x419)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x5205da)_0x225c8c=await this[_0x84601c(0x42b)](_0x5205da,_0x4f367a[_0x84601c(0x415)],_0x4f367a);else return this[_0x84601c(0x6a2)]['verbose'](this[_0x84601c(0x1ec)]+'\x20('+this[_0x84601c(0x519)][_0x84601c(0x419)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x225c8c=await this[_0x84601c(0x378)](_0x5b1b66,_0x4f367a);if(_0x225c8c){this[_0x84601c(0x6a2)][_0x84601c(0x19a)](this[_0x84601c(0x1ec)]+'\x20('+this[_0x84601c(0x519)]['wuid']+_0x84601c(0x244)),!_0x213be2['fromMe']&&_0x225c8c[_0x84601c(0x2d2)]&&this[_0x84601c(0x68b)](_0x225c8c);let _0x148dae=await this[_0x84601c(0x324)](_0x225c8c);_0x148dae&&await this[_0x84601c(0x716)](_0x225c8c,_0x148dae);}}catch(_0x336c76){this[_0x84601c(0x6a2)][_0x84601c(0x451)](this[_0x84601c(0x1ec)]+'\x20('+this[_0x84601c(0x519)]['wuid']+_0x84601c(0x45e)+(_0x336c76 instanceof Error?_0x336c76[_0x84601c(0x25d)]:JSON[_0x84601c(0x692)](_0x336c76,null,0x2)));}}[a0_0x3146da(0x194)](_0x1076b9,_0x251404='',_0x324b3a={},_0x2f80ee=!0x0){const _0x2449ff=a0_0x3146da;for(let _0x528000 in _0x1076b9){let _0x37655f=_0x2f80ee?'_'+_0x528000:''+_0x251404+_0x528000;typeof _0x1076b9[_0x528000]==_0x2449ff(0x4a2)&&_0x1076b9[_0x528000]!==null?this[_0x2449ff(0x194)](_0x1076b9[_0x528000],_0x37655f+'.',_0x324b3a,!0x1):_0x324b3a[_0x37655f]=String(_0x1076b9[_0x528000]);}return _0x324b3a;}['variablesToObject'](_0x554ed0){const _0x18021c=a0_0x3146da;let _0x1c5b72={};for(let _0x31525d of _0x554ed0)typeof _0x31525d[_0x18021c(0x51a)]==_0x18021c(0x584)&&typeof _0x31525d[_0x18021c(0x2f9)]==_0x18021c(0x584)&&(_0x1c5b72[_0x31525d[_0x18021c(0x51a)]]=_0x31525d['value']);return _0x1c5b72;}async[a0_0x3146da(0x324)](_0x2b4d05){const _0x3171ec=a0_0x3146da;if(!this[_0x3171ec(0x15d)]?.[_0x3171ec(0x357)]['enabled']||_0x2b4d05[_0x3171ec(0x1d6)]!==_0x3171ec(0x4fa)&&_0x2b4d05['waitingMenu_id']==='')return null;let _0x4e23b0=_0x2b4d05[_0x3171ec(0xdc)][_0x3171ec(0x41d)]||'start';typeof _0x2b4d05[_0x3171ec(0xdc)][_0x3171ec(0x6cc)]>'u'&&(_0x2b4d05[_0x3171ec(0xdc)][_0x3171ec(0x6cc)]=!0x0);let _0x283fb9=_0x2b4d05[_0x3171ec(0xdc)][_0x3171ec(0x6cc)];this[_0x3171ec(0x6a2)][_0x3171ec(0x19a)](this[_0x3171ec(0x1ec)]+'\x20('+this[_0x3171ec(0x519)][_0x3171ec(0x419)]+_0x3171ec(0x6c2)+_0x4e23b0+_0x3171ec(0x485)+_0x283fb9);let _0x86d04b=_0x4e23b0===_0x3171ec(0x5a7)?_0x2b4d05[_0x3171ec(0x71d)][_0x3171ec(0x6a9)](_0x3b35a3=>_0x3b35a3[_0x3171ec(0x4b5)]===_0x3171ec(0x5a7)):_0x2b4d05[_0x3171ec(0x71d)][_0x3171ec(0x6a9)](_0x5b1729=>_0x5b1729['_id'][_0x3171ec(0x63d)]()===_0x4e23b0[_0x3171ec(0x63d)]());if(!_0x86d04b)return this[_0x3171ec(0x6a2)]['error'](this['instanceName']+'\x20('+this[_0x3171ec(0x519)][_0x3171ec(0x419)]+_0x3171ec(0x632)+_0x4e23b0),null;let _0x27ea29={'_pushName':_0x2b4d05[_0x3171ec(0xdc)]['lastReceivedMessage'][_0x3171ec(0x1ac)],..._0x2b4d05['chatLog'][_0x3171ec(0x5ac)]},_0xa73783=null;if(_0x2b4d05['waitingMenu_id']){let _0x3677d1=_0x2b4d05[_0x3171ec(0xdc)][_0x3171ec(0x398)][_0x3171ec(0x2f2)],_0x47d7f9=_0x2b4d05[_0x3171ec(0x62b)][_0x3171ec(0x6a9)](_0x3587ad=>_0x3587ad[_0x3171ec(0x611)]===_0x3677d1);if(_0x47d7f9){let _0x58c868=_0x47d7f9[_0x3171ec(0x14a)];if(_0xa73783=_0x2b4d05['blocks'][_0x3171ec(0x6a9)](_0x216a51=>_0x216a51[_0x3171ec(0x631)]===_0x58c868&&_0x216a51[_0x3171ec(0x20a)]===0x1),_0x86d04b[_0x3171ec(0x416)][_0x3171ec(0x655)]){let _0x147a14={'id':_0x2b4d05[_0x3171ec(0x1cd)],'remoteJid':_0x2b4d05[_0x3171ec(0x340)],'fromMe':!0x0};await this[_0x3171ec(0x653)](_0x147a14);}if(_0x86d04b[_0x3171ec(0x416)][_0x3171ec(0x655)]&&_0x86d04b['uazapi'][_0x3171ec(0x6c7)]&&_0x86d04b[_0x3171ec(0x416)][_0x3171ec(0x382)]===_0x3171ec(0x4c5)){let _0x4b70b4={'number':_0x2b4d05[_0x3171ec(0x340)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x2b4d05[_0x3171ec(0x1dc)]+_0x3171ec(0x361)+_0x3677d1}};await this[_0x3171ec(0x5c2)](_0x4b70b4);}_0x2b4d05['status']=_0x3171ec(0x4fa),_0x2b4d05[_0x3171ec(0x1cd)]='',_0x2b4d05[_0x3171ec(0x1dc)]='',_0x2b4d05['waitingMenu_replyOptions']=[];}else{this[_0x3171ec(0x6a2)][_0x3171ec(0x19a)](this[_0x3171ec(0x1ec)]+'\x20('+this[_0x3171ec(0x519)]['wuid']+_0x3171ec(0x3cf));let _0x4bf792={'activatedCount':_0x2b4d05[_0x3171ec(0xdc)]['blockLogs'][_0x3171ec(0x431)](_0x39e99c=>String(_0x39e99c['blockId'])===String(_0x4e23b0))[_0x3171ec(0x148)],'moreLogs':[_0x3171ec(0x305)]};if(_0x86d04b['uazapi'][_0x3171ec(0xf8)]){let _0x194c1b={'number':_0x2b4d05[_0x3171ec(0x340)],'options':{'delay':0x0},'textMessage':{'text':_0x86d04b['uazapi'][_0x3171ec(0xf8)]}};await this['textMessage'](_0x194c1b);}if(_0x86d04b[_0x3171ec(0x27e)]!==void 0x0&&_0x4bf792[_0x3171ec(0x2f4)]>=_0x86d04b[_0x3171ec(0x27e)]){let _0x4a1436=Date[_0x3171ec(0x257)](),_0x2b4aed=_0x86d04b[_0x3171ec(0x2d8)]??0xa;isNaN(_0x2b4aed)&&(_0x2b4aed=0xa);let _0x435822=_0x4a1436+_0x2b4aed*0x3c*0x3e8;_0x4bf792[_0x3171ec(0x28a)]=_0x435822,_0x4bf792[_0x3171ec(0x68d)][_0x3171ec(0x621)](_0x3171ec(0x3a2)),this[_0x3171ec(0x5a1)](_0x2b4d05,_0x435822),_0x2b4d05[_0x3171ec(0x1cd)]='',_0x2b4d05['waitingMenu_text']='',_0x2b4d05[_0x3171ec(0x62b)]=[];}return this[_0x3171ec(0x570)](_0x2b4d05,_0x86d04b,_0x4bf792,!0x0),null;}}if(_0x283fb9&&_0x86d04b['next_groupId']&&!_0x2b4d05[_0x3171ec(0x1cd)]){let _0x403388=_0x2b4d05['blocks']['filter'](_0x4ceb90=>_0x4ceb90[_0x3171ec(0x631)][_0x3171ec(0x63d)]()===_0x86d04b['next_groupId'][_0x3171ec(0x63d)]())['sort']((_0x4faa1b,_0x2a6eab)=>_0x4faa1b[_0x3171ec(0x20a)]-_0x2a6eab[_0x3171ec(0x20a)]);_0x403388[_0x3171ec(0x148)]>0x0&&(_0xa73783=_0x403388[0x0]);}if(!_0xa73783){let _0x124f7e=_0x86d04b[_0x3171ec(0x631)],_0x23faa8=_0x2b4d05['blocks'][_0x3171ec(0x431)](_0x219d64=>_0x219d64[_0x3171ec(0x631)]===_0x124f7e&&_0x219d64[_0x3171ec(0x20a)]>_0x86d04b[_0x3171ec(0x20a)])['sort']((_0x42a6c4,_0x3a5f10)=>_0x42a6c4[_0x3171ec(0x20a)]-_0x3a5f10[_0x3171ec(0x20a)]);_0x23faa8[_0x3171ec(0x148)]>0x0&&(_0xa73783=_0x23faa8[0x0]);}if(!_0xa73783)return _0x2b4d05['status']='closed',null;_0x2b4d05[_0x3171ec(0xdc)][_0x3171ec(0x5ac)]=_0x27ea29;let _0x309e83=JSON[_0x3171ec(0x64c)](JSON[_0x3171ec(0x692)](_0xa73783));return this[_0x3171ec(0x17f)](_0x309e83,_0x2b4d05['chatLog'][_0x3171ec(0x5ac)]),_0x2b4d05[_0x3171ec(0xdc)]['lastBlockId']=_0x309e83[_0x3171ec(0x60a)],_0x2b4d05[_0x3171ec(0xdc)]['lastCondition']=!0x0,_0x309e83;}[a0_0x3146da(0x4a5)](_0x437611,_0x52f570){const _0x475aee=a0_0x3146da;return _0x437611[_0x475aee(0x1ce)](/\{\{([^}]+)\}\}/g,(_0x3642af,_0x6ea5d6)=>_0x52f570[_0x6ea5d6]||'');}[a0_0x3146da(0x17f)](_0x505658,_0x30b270){const _0x2ac69a=a0_0x3146da;for(let _0x5a9388 in _0x505658)typeof _0x505658[_0x5a9388]=='string'?_0x505658[_0x5a9388]=this[_0x2ac69a(0x4a5)](_0x505658[_0x5a9388],_0x30b270):typeof _0x505658[_0x5a9388]==_0x2ac69a(0x4a2)&&this[_0x2ac69a(0x17f)](_0x505658[_0x5a9388],_0x30b270);}async[a0_0x3146da(0x2ef)](_0x3d3c4f,_0x43ff49){const _0x4081a6=a0_0x3146da;let _0x522dbf=_0x43ff49[_0x4081a6(0x60a)];if(_0x3d3c4f[_0x4081a6(0xdc)]&&_0x3d3c4f[_0x4081a6(0xdc)]['blockLogs']){let _0x4e2688=_0x3d3c4f[_0x4081a6(0xdc)]['blockLogs'][_0x4081a6(0x431)](_0x5b3414=>String(_0x5b3414[_0x4081a6(0x3a4)])===String(_0x522dbf))['pop']();if(_0x4e2688&&_0x4e2688[_0x4081a6(0x451)]&&_0x43ff49[_0x4081a6(0x264)])return _0x3d3c4f[_0x4081a6(0x1d6)]=_0x4081a6(0x1b9),await this['saveConversationToDatabase'](_0x3d3c4f),null;}if(_0x43ff49[_0x4081a6(0x4b5)]===_0x4081a6(0x416)&&_0x43ff49['uazapi'][_0x4081a6(0x1f2)]===_0x4081a6(0x59f)&&_0x3d3c4f[_0x4081a6(0x1cd)])return _0x3d3c4f[_0x4081a6(0xdc)][_0x4081a6(0x41d)]=_0x522dbf,await this[_0x4081a6(0x13f)](_0x3d3c4f),null;let _0x4421d1=await this['NextBlock'](_0x3d3c4f);if(_0x3d3c4f['chatLog']&&_0x3d3c4f['chatLog'][_0x4081a6(0xff)]){let _0xb61aa=_0x3d3c4f[_0x4081a6(0xdc)][_0x4081a6(0xff)][_0x4081a6(0x431)](_0x4b8a64=>String(_0x4b8a64[_0x4081a6(0x3a4)])===String(_0x522dbf))[_0x4081a6(0x148)];if(_0x43ff49[_0x4081a6(0x27e)]!==void 0x0&&_0xb61aa>=_0x43ff49[_0x4081a6(0x27e)]){let _0x3da680=Date[_0x4081a6(0x257)](),_0x4a46b5=_0x43ff49[_0x4081a6(0x2d8)]??0xa;isNaN(_0x4a46b5)&&(_0x4a46b5=0xa);let _0x1ebdb6=_0x3da680+_0x4a46b5*0x3c*0x3e8,_0x4a0d2d={'newStoppedUntil':_0x1ebdb6};return this[_0x4081a6(0x5a1)](_0x3d3c4f,_0x1ebdb6),this[_0x4081a6(0x570)](_0x3d3c4f,_0x43ff49,_0x4a0d2d,!0x0),null;}}_0x4421d1&&_0x4421d1[_0x4081a6(0x4b5)]!==_0x4081a6(0x568)&&await this[_0x4081a6(0x716)](_0x3d3c4f,_0x4421d1),_0x4421d1||await this['saveConversationToDatabase'](_0x3d3c4f),_0x4421d1&&_0x4421d1[_0x4081a6(0x4b5)]===_0x4081a6(0x568)&&(_0x3d3c4f['chatLog'][_0x4081a6(0x41d)]=_0x522dbf,await this[_0x4081a6(0x13f)](_0x3d3c4f));}async['processblock'](_0x31520c,_0x4e3eed){const _0x4608c8=a0_0x3146da;try{let _0x126a16=_0x4e3eed[_0x4608c8(0x4b5)];this['logger']['verbose'](this[_0x4608c8(0x1ec)]+'\x20('+this[_0x4608c8(0x519)][_0x4608c8(0x419)]+_0x4608c8(0xed)+_0x126a16);let _0x41acf3={'uazapi':()=>this[_0x4608c8(0x139)](_0x31520c,_0x4e3eed),'save':()=>this['saveTextReply'](_0x31520c,_0x4e3eed),'stop':()=>this['stopConversation'](_0x31520c,_0x4e3eed),'condition':()=>this['processConditions'](_0x31520c,_0x4e3eed),'varedit':()=>this[_0x4608c8(0x367)](_0x31520c,_0x4e3eed),'apirequest':()=>this[_0x4608c8(0x128)](_0x31520c,_0x4e3eed),'goToFlow':()=>this[_0x4608c8(0x6fb)](_0x31520c,_0x4e3eed)}[_0x126a16];_0x41acf3&&await _0x41acf3();}catch(_0x5e24f5){this[_0x4608c8(0x6a2)][_0x4608c8(0x451)](this[_0x4608c8(0x1ec)]+'\x20('+this[_0x4608c8(0x519)]['wuid']+_0x4608c8(0x60e)+(_0x5e24f5 instanceof Error?_0x5e24f5[_0x4608c8(0x25d)]:JSON['stringify'](_0x5e24f5,null,0x2)));}}async['processgoToFlow'](_0x58e10c,_0x3923c1){const _0x593172=a0_0x3146da;if(this[_0x593172(0x6a2)][_0x593172(0x19a)](this[_0x593172(0x1ec)]+'\x20('+this[_0x593172(0x519)][_0x593172(0x419)]+_0x593172(0x43b)),!_0x58e10c||!_0x3923c1)return this[_0x593172(0x6a2)][_0x593172(0x451)](this[_0x593172(0x1ec)]+'\x20('+this['instance'][_0x593172(0x419)]+_0x593172(0x707)),null;await this[_0x593172(0x570)](_0x58e10c,_0x3923c1,{},!0x0,!0x0),console[_0x593172(0x5e0)](_0x593172(0x4ad)),console['log'](_0x3923c1);let _0x455b45=_0x3923c1[_0x593172(0x40a)];console[_0x593172(0x5e0)](_0x593172(0x6b6),_0x455b45),_0x58e10c=await this['createConversationforgoToFlow'](_0x455b45,_0x58e10c[_0x593172(0x340)],_0x58e10c[_0x593172(0xdc)]['realVariables']),this[_0x593172(0x6a2)][_0x593172(0x19a)](this[_0x593172(0x1ec)]+'\x20('+this[_0x593172(0x519)]['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x1a18da=await this[_0x593172(0x324)](_0x58e10c);_0x1a18da&&await this[_0x593172(0x716)](_0x58e10c,_0x1a18da);}async[a0_0x3146da(0x5e1)](_0x726e77,_0x12cf3f,_0x2f5dc7){const _0x453c4b=a0_0x3146da;this[_0x453c4b(0x6a2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x453c4b(0x419)]+_0x453c4b(0x6a4));try{if(_0x726e77=await this['repository'][_0x453c4b(0x2b8)][_0x453c4b(0xee)]({'where':{'name':_0x726e77}},this['instance'][_0x453c4b(0x419)]),!_0x726e77)return this['logger'][_0x453c4b(0x451)](this[_0x453c4b(0x1ec)]+'\x20('+this[_0x453c4b(0x519)][_0x453c4b(0x419)]+_0x453c4b(0x28d)),null;let _0x1128ca=require(_0x453c4b(0x4e5))[_0x453c4b(0x5ec)],_0x30005c=Date[_0x453c4b(0x257)](),_0x48fe62='start',_0x486ab9={},_0x509a4d={},_0x16e449={..._0x726e77,'chatLog':null},_0x2c2de1={'lastReceivedMessage':_0x486ab9,'lastSendMessage':_0x509a4d,'lastBlockId':_0x48fe62,'lastCondition':!0x0,'realVariables':_0x2f5dc7};_0x16e449[_0x453c4b(0xdc)]=_0x2c2de1,_0x16e449[_0x453c4b(0xdc)][_0x453c4b(0x5ac)]={..._0x2f5dc7},delete _0x16e449[_0x453c4b(0x60a)],_0x16e449[_0x453c4b(0x60a)]=new _0x1128ca(),_0x16e449[_0x453c4b(0x45c)]=_0x30005c,_0x16e449['status']='open',_0x16e449[_0x453c4b(0x340)]=_0x12cf3f;let _0x380624=await this[_0x453c4b(0x1ad)][_0x453c4b(0x618)]['updateOne'](_0x16e449['_id'],_0x16e449,this[_0x453c4b(0x519)]['wuid']);return this[_0x453c4b(0x6a2)][_0x453c4b(0x19a)](this[_0x453c4b(0x1ec)]+'\x20('+this['instance']['wuid']+_0x453c4b(0x648)),_0x380624?_0x16e449:null;}catch(_0x43a286){throw this['logger'][_0x453c4b(0x451)](this[_0x453c4b(0x1ec)]+'\x20('+this[_0x453c4b(0x519)][_0x453c4b(0x419)]+_0x453c4b(0x2c3)+(_0x43a286 instanceof Error?_0x43a286[_0x453c4b(0x25d)]:JSON[_0x453c4b(0x692)](_0x43a286,null,0x2))),new m(_0x43a286[_0x453c4b(0x25d)]);}}async[a0_0x3146da(0x128)](_0x1b34bd,_0x2bb2f1){const _0x299ca3=a0_0x3146da;let _0x4519a1,_0x3e3464;try{let _0x5dc375=_0x2bb2f1[_0x299ca3(0x4d0)];if(!_0x5dc375||!_0x5dc375[_0x299ca3(0x2d4)]||!_0x5dc375['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x4d9eba;([_0x299ca3(0x4df),_0x299ca3(0x39c),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x299ca3(0x4ee)](_0x5e3868=>_0x5dc375['url'][_0x299ca3(0x44a)](_0x5e3868))||_0x5dc375[_0x299ca3(0x270)])&&(_0x4d9eba=_0x299ca3(0x4b8));let _0x430c8b={'method':_0x5dc375[_0x299ca3(0x391)],'url':_0x5dc375[_0x299ca3(0x2d4)],'headers':_0x5dc375[_0x299ca3(0x157)]||{},'data':_0x5dc375[_0x299ca3(0x15f)]||{},..._0x4d9eba&&{'responseType':_0x4d9eba}},_0x3df815=await(0x0,se[_0x299ca3(0x5e3)])(_0x430c8b),_0x5dec4a=_0x3df815[_0x299ca3(0x4bc)]['content-type'];if(_0x5dec4a&&_0x5dec4a[_0x299ca3(0x44a)](_0x299ca3(0x212))){_0x4519a1=_0x3df815['data'];let _0x3fd486=_0x1b34bd[_0x299ca3(0xdc)][_0x299ca3(0x5ac)],_0x310ed9=this[_0x299ca3(0x194)](_0x4519a1);return Object[_0x299ca3(0x2d3)](_0x3fd486,_0x310ed9),_0x1b34bd[_0x299ca3(0xdc)][_0x299ca3(0x5ac)]=_0x3fd486,_0x3e3464={'error':!0x1,'apiResponse':_0x4519a1},this[_0x299ca3(0x570)](_0x1b34bd,_0x2bb2f1,_0x3e3464),_0x4519a1;}if(_0x5dec4a&&(_0x5dec4a[_0x299ca3(0x44a)](_0x299ca3(0xeb))||_0x5dec4a[_0x299ca3(0x44a)](_0x299ca3(0x38d))||_0x5dec4a[_0x299ca3(0x44a)](_0x299ca3(0x64e))||_0x5dec4a['includes'](_0x299ca3(0x693)))){this[_0x299ca3(0x6a2)][_0x299ca3(0x19a)](this[_0x299ca3(0x1ec)]+'\x20('+this[_0x299ca3(0x519)][_0x299ca3(0x419)]+_0x299ca3(0x2c0)+_0x5dec4a);let _0x53c886=(0x0,Me['v4'])(),_0x1330bf='',_0x57e9db={'image/jpeg':'.jpg','image/png':_0x299ca3(0x46f),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x299ca3(0x265),'audio/mpeg':_0x299ca3(0x3aa),'audio/ogg':_0x299ca3(0x32d),'audio/wav':'.wav','video/mp4':_0x299ca3(0x334),'video/webm':_0x299ca3(0x255),'video/ogg':'.ogv','text/plain':_0x299ca3(0x40e),'application/pdf':_0x299ca3(0x1ba),'application/msword':_0x299ca3(0x3bd),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x299ca3(0x46c),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x299ca3(0x3ae),'application/vnd.ms-powerpoint':_0x299ca3(0x10a),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x299ca3(0x65f)};_0x57e9db[_0x5dec4a]?(_0x1330bf=_0x57e9db[_0x5dec4a],this[_0x299ca3(0x6a2)][_0x299ca3(0x19a)](this[_0x299ca3(0x1ec)]+'\x20('+this[_0x299ca3(0x519)]['wuid']+_0x299ca3(0x645)+_0x1330bf)):(_0x1330bf=_0x299ca3(0x1ea),this['logger'][_0x299ca3(0x19a)](this[_0x299ca3(0x1ec)]+'\x20('+this[_0x299ca3(0x519)][_0x299ca3(0x419)]+_0x299ca3(0x6d5)+_0x1330bf)),_0x53c886+=_0x1330bf,this[_0x299ca3(0x6a2)][_0x299ca3(0x19a)](this[_0x299ca3(0x1ec)]+'\x20('+this[_0x299ca3(0x519)]['wuid']+_0x299ca3(0x6ba)+_0x53c886);let _0x234ad3=this['configService']['get']('SERVER')[_0x299ca3(0x258)];if(!_0x234ad3){let _0x173ed4=this[_0x299ca3(0x31c)][_0x299ca3(0x4ed)](_0x299ca3(0x237));_0x234ad3=_0x299ca3(0x101)+(_0x173ed4&&_0x173ed4[_0x299ca3(0x59d)]['split']('/')[0x4]);}let _0x36600a=Buffer[_0x299ca3(0x467)](_0x3df815[_0x299ca3(0x22b)]);await this[_0x299ca3(0x471)](_0x36600a,_0x53c886);let _0xaeea99=_0x299ca3(0x323)+_0x53c886;_0xaeea99=''+_0x234ad3+_0xaeea99,_0x4519a1={'fileUrl':_0xaeea99},_0x1b34bd[_0x299ca3(0xdc)]['realVariables'][_0x299ca3(0x1b0)]=_0xaeea99;let _0x4b38d7=_0x1b34bd[_0x299ca3(0xdc)][_0x299ca3(0x5ac)],_0x5a9840=this[_0x299ca3(0x194)](_0x4519a1);return Object[_0x299ca3(0x2d3)](_0x4b38d7,_0x5a9840),_0x1b34bd[_0x299ca3(0xdc)][_0x299ca3(0x5ac)]=_0x4b38d7,_0x3e3464={'error':!0x1,'apiResponse':{'fileUrl':_0xaeea99}},this['updateConversation'](_0x1b34bd,_0x2bb2f1,_0x3e3464),_0x4519a1;}}catch(_0x12657f){console[_0x299ca3(0x451)](_0x299ca3(0x5b3),_0x12657f),_0x12657f[_0x299ca3(0x295)]&&(_0x4519a1=_0x12657f[_0x299ca3(0x295)][_0x299ca3(0x22b)]);let _0x3ef69a=_0x1b34bd[_0x299ca3(0xdc)][_0x299ca3(0x5ac)],_0x932ed5=this[_0x299ca3(0x194)](_0x4519a1);return Object[_0x299ca3(0x2d3)](_0x3ef69a,_0x932ed5),_0x1b34bd[_0x299ca3(0xdc)][_0x299ca3(0x5ac)]=_0x3ef69a,_0x3e3464={'error':!0x0,'errorLog':_0x12657f[_0x299ca3(0x63d)](),'apiResponse':_0x4519a1},this[_0x299ca3(0x570)](_0x1b34bd,_0x2bb2f1,_0x3e3464),{'success':!0x1};}}[a0_0x3146da(0x5ae)](_0x525211,_0x5c2ce9){const _0x34a809=a0_0x3146da;let _0x2c4e5c=_0x4b96c1=>{const _0x500f73=a0_0xd411;let _0x48dc30=_0x4b96c1[_0x500f73(0x1ce)](/[^0-9.,-]/g,'')[_0x500f73(0x1ce)](',','.'),_0x30f2d0=parseFloat(_0x48dc30);return isNaN(_0x30f2d0)?null:_0x30f2d0;},_0x5668f6=_0x5c2ce9['firstValue'],_0x1f93fe=_0x5c2ce9['secondValue'];typeof _0x5668f6==_0x34a809(0x584)&&(_0x5668f6=this[_0x34a809(0x4a5)](_0x5668f6,_0x525211[_0x34a809(0xdc)][_0x34a809(0x5ac)])??''),typeof _0x1f93fe==_0x34a809(0x584)&&(_0x1f93fe=this['replaceVariables'](_0x1f93fe,_0x525211['chatLog'][_0x34a809(0x5ac)])??'');let _0x38ff2c=null;if(!_0x5c2ce9[_0x34a809(0x107)])return null;switch(this[_0x34a809(0x6a2)][_0x34a809(0x19a)](this[_0x34a809(0x1ec)]+'\x20('+this['instance'][_0x34a809(0x419)]+_0x34a809(0x1af)+_0x5668f6),this[_0x34a809(0x6a2)][_0x34a809(0x19a)](this[_0x34a809(0x1ec)]+'\x20('+this[_0x34a809(0x519)][_0x34a809(0x419)]+_0x34a809(0x3ed)+_0x1f93fe),_0x5c2ce9[_0x34a809(0x107)]){case'+':case'-':case'*':case'/':let _0x8f6916=_0x2c4e5c(_0x5668f6||'0'),_0x5d7791=_0x2c4e5c(_0x1f93fe||'0');if(_0x8f6916===null)return null;switch(_0x5c2ce9['editOperator']){case'+':_0x38ff2c=_0x8f6916+(_0x5d7791??0x0);break;case'-':_0x38ff2c=_0x8f6916-(_0x5d7791??0x0);break;case'*':_0x38ff2c=_0x8f6916*(_0x5d7791??0x1);break;case'/':_0x5d7791!==0x0&&(_0x38ff2c=_0x8f6916/(_0x5d7791??0x1));break;}break;case _0x34a809(0x226):case _0x34a809(0x458):let _0x3270fe=_0x1f93fe,_0x3fbed4=_0x5c2ce9[_0x34a809(0x375)];if(typeof _0x3fbed4=='string'&&(_0x3fbed4=this['replaceVariables'](_0x3fbed4,_0x525211['chatLog'][_0x34a809(0x5ac)])??''),_0x3270fe&&_0x3fbed4!==void 0x0){let _0x4ed1bc=_0x5c2ce9[_0x34a809(0x107)]==='findAndReplace'?new RegExp(_0x3270fe[_0x34a809(0x1ce)](/[-\/\\^$*+?.()|[\]{}]/g,_0x34a809(0x119)),'g'):new RegExp(_0x3270fe,'g');_0x38ff2c=_0x5668f6['replace'](_0x4ed1bc,_0x3fbed4);}else console['warn'](_0x34a809(0x1be));break;case _0x34a809(0x1a2):_0x38ff2c=_0x1f93fe;break;case'extractRegex':let _0x1388ba=_0x5668f6['match'](new RegExp(_0x1f93fe||''));_0x38ff2c=_0x1388ba?_0x1388ba[0x0]:'';break;case _0x34a809(0x149):_0x38ff2c=_0x5668f6['slice'](0x0,parseInt(_0x1f93fe||'0'));break;case'truncatedtoEnd':let _0x22b68b=parseInt(_0x1f93fe||'0');_0x38ff2c=_0x5668f6[_0x34a809(0xf3)](_0x5668f6[_0x34a809(0x148)]-_0x22b68b);break;case _0x34a809(0x3ab):let _0x192f02=_0x2c4e5c(_0x5668f6),_0xefa8ec=parseInt(_0x1f93fe||'0');_0xefa8ec=Math['abs'](_0xefa8ec),_0x192f02!==null?_0x38ff2c=_0x192f02[_0x34a809(0x4b6)]('pt-BR',{'minimumFractionDigits':_0xefa8ec,'maximumFractionDigits':_0xefa8ec}):(console['warn'](_0x34a809(0x6d3)+_0x5668f6),_0x38ff2c=null);break;case _0x34a809(0x4a6):let _0x18cc35=_0x2c4e5c(_0x5668f6);_0x18cc35!==null?_0x38ff2c=_0x18cc35[_0x34a809(0x4b6)](_0x34a809(0x5f9),{'style':_0x34a809(0x695),'currency':'BRL'}):(console[_0x34a809(0x402)](_0x34a809(0xc7)+_0x5668f6),_0x38ff2c=null);break;case'upperCase':_0x38ff2c=_0x5668f6[_0x34a809(0x133)]();break;case _0x34a809(0x262):_0x38ff2c=_0x5668f6[_0x34a809(0x4ba)]();break;case'capitalizedWords':_0x38ff2c=_0x5668f6[_0x34a809(0x72c)]('\x20')[_0x34a809(0x33c)](_0x5ef36c=>_0x5ef36c[_0x34a809(0x2a0)](0x0)[_0x34a809(0x133)]()+_0x5ef36c[_0x34a809(0xf3)](0x1)[_0x34a809(0x4ba)]())[_0x34a809(0x353)]('\x20');break;case _0x34a809(0x36e):_0x38ff2c=_0x5668f6['trim']();break;default:_0x38ff2c=_0x5668f6;}return _0x38ff2c!==null?_0x38ff2c['toString']():null;}async[a0_0x3146da(0x367)](_0x21fb0c,_0x50eff2){const _0x3cfac8=a0_0x3146da;try{let _0x3e561e=_0x21fb0c[_0x3cfac8(0x164)]?.[_0x3cfac8(0x431)](_0x425893=>_0x425893[_0x3cfac8(0x3a4)]===_0x50eff2['_id']?.['toString']())||[],_0x3d6726=_0x50eff2[_0x3cfac8(0x53e)],_0x21ac13=null,_0x509095=[],_0x23fe86=_0x21fb0c[_0x3cfac8(0xdc)][_0x3cfac8(0x5ac)][_0x3d6726];_0x509095[_0x3cfac8(0x621)](_0x3cfac8(0x5f3)+_0x23fe86+'\x22');for(let _0x2105a5 of _0x3e561e){_0x2105a5[_0x3cfac8(0x3c6)]=_0x23fe86,_0x21ac13=_0x2105a5[_0x3cfac8(0x3c6)];let _0x4888ee;try{_0x4888ee=this[_0x3cfac8(0x5ae)](_0x21fb0c,_0x2105a5);}catch(_0x314988){console['error'](_0x3cfac8(0x6e3)+_0x314988[_0x3cfac8(0x25d)]);continue;}if(_0x4888ee!==null){let _0x3a5784=_0x3cfac8(0x5c5)+_0x2105a5[_0x3cfac8(0x107)]+'\x22',_0x19199b=[_0x3cfac8(0x4a6),'upperCase',_0x3cfac8(0x262),_0x3cfac8(0x6dc),'trimmed'];_0x2105a5['editOperator']===_0x3cfac8(0x226)||_0x2105a5[_0x3cfac8(0x107)]==='findAndReplaceRegex'?_0x3a5784+=_0x3cfac8(0x300)+_0x2105a5[_0x3cfac8(0x303)]+_0x3cfac8(0x4e1)+_0x2105a5[_0x3cfac8(0x375)]+'\x22':!_0x19199b[_0x3cfac8(0x44a)](_0x2105a5['editOperator'])&&_0x2105a5[_0x3cfac8(0x303)]!==null&&_0x2105a5['secondValue']!==void 0x0&&(_0x3a5784+=',\x20valor\x20passado:\x20\x22'+_0x2105a5[_0x3cfac8(0x303)]+'\x22'),_0x3a5784+=_0x3cfac8(0x54a)+_0x4888ee+'.',_0x509095['push'](_0x3a5784);}_0x4888ee!==null&&(_0x23fe86=_0x4888ee);}if(_0x21fb0c[_0x3cfac8(0xdc)][_0x3cfac8(0x5ac)]&&_0x50eff2['saveVariable']){_0x21fb0c[_0x3cfac8(0xdc)][_0x3cfac8(0x5ac)][_0x50eff2[_0x3cfac8(0x53e)]]=_0x23fe86;let _0x460dd5={'variable':_0x50eff2[_0x3cfac8(0x53e)],'oldValue':_0x21ac13,'newValue':_0x23fe86,'moreLogs':_0x509095};try{this['updateConversation'](_0x21fb0c,_0x50eff2,_0x460dd5);}catch(_0x52ced6){console[_0x3cfac8(0x451)](_0x3cfac8(0x688)+_0x52ced6[_0x3cfac8(0x25d)]);}}return _0x3d6726;}catch(_0x21ea48){return console[_0x3cfac8(0x451)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x21ea48[_0x3cfac8(0x25d)]),null;}}async['processConditions'](_0x25fa8b,_0x4badac){const _0x47a4c5=a0_0x3146da;try{let _0x2c03a7=[],_0xca6fbf=_0x25fa8b[_0x47a4c5(0x600)][_0x47a4c5(0x431)](_0x5b4010=>_0x5b4010['blockId']===_0x4badac['_id']['toString']()),_0x298711=null,_0xa0fa19=!0x1;for(let _0x4692a6 of _0xca6fbf){let _0xa8d4a3=this[_0x47a4c5(0x5bd)](_0x25fa8b,_0x4692a6);_0x2c03a7[_0x47a4c5(0x621)](_0x47a4c5(0x3ac)+_0x4692a6[_0x47a4c5(0x3c6)]+_0x47a4c5(0x307)+_0x4692a6['expression']+_0x47a4c5(0x66f)+_0x4692a6['secondValue']+',\x20Resultado:\x20'+_0xa8d4a3),_0x298711===null?_0x298711=_0xa8d4a3:_0x4692a6[_0x47a4c5(0x59c)]===_0x47a4c5(0x6eb)?(_0x298711=_0x298711&&_0xa8d4a3,_0xa8d4a3||(_0xa0fa19=!0x0)):_0x4692a6[_0x47a4c5(0x59c)]==='or'&&(_0xa0fa19||(_0x298711=_0x298711||_0xa8d4a3));}_0x298711===null&&(_0x298711=!0x0);let _0x553d31={'moreLogs':_0x2c03a7};_0x25fa8b[_0x47a4c5(0xdc)][_0x47a4c5(0x6cc)]=_0x298711,await this[_0x47a4c5(0x570)](_0x25fa8b,_0x4badac,_0x553d31);}catch(_0x2a7c7b){this[_0x47a4c5(0x6a2)][_0x47a4c5(0x451)](this[_0x47a4c5(0x1ec)]+'\x20('+this[_0x47a4c5(0x519)][_0x47a4c5(0x419)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x2a7c7b instanceof Error?_0x2a7c7b[_0x47a4c5(0x25d)]:JSON[_0x47a4c5(0x692)](_0x2a7c7b,null,0x2)));}}[a0_0x3146da(0x5bd)](_0x7cb6db,_0x56abcb){const _0x59d359=a0_0x3146da;let _0x5d5570=_0x56abcb[_0x59d359(0x3c6)],_0x633809=_0x56abcb[_0x59d359(0x303)];typeof _0x5d5570=='string'&&(_0x5d5570=this[_0x59d359(0x4a5)](_0x5d5570,_0x7cb6db[_0x59d359(0xdc)][_0x59d359(0x5ac)])??''),typeof _0x633809==_0x59d359(0x584)&&(_0x633809=this['replaceVariables'](_0x633809,_0x7cb6db['chatLog'][_0x59d359(0x5ac)])??'');try{switch(_0x56abcb[_0x59d359(0x65b)]){case _0x59d359(0x2da):return _0x5d5570===_0x633809;case _0x59d359(0x1f4):return _0x5d5570!==_0x633809;case _0x59d359(0xd7):return this['contains'](_0x5d5570,_0x633809);case _0x59d359(0x573):return!this[_0x59d359(0xd7)](_0x5d5570,_0x633809);case _0x59d359(0x327):return parseFloat(_0x5d5570)>parseFloat(_0x633809);case'less':return parseFloat(_0x5d5570)<parseFloat(_0x633809);case _0x59d359(0xef):return _0x5d5570!=='';case _0x59d359(0x6c1):return _0x5d5570==='';case'matchRegex':return new RegExp(_0x633809)[_0x59d359(0x705)](_0x5d5570);case _0x59d359(0x345):return!new RegExp(_0x633809)['test'](_0x5d5570);default:return!0x1;}}catch(_0x3dec7a){return console['error'](_0x59d359(0x56a)+_0x3dec7a),!0x1;}}[a0_0x3146da(0xd7)](_0x270c98,_0x22e90f){const _0x11dff1=a0_0x3146da;if(_0x270c98===_0x22e90f&&/^\d+$/[_0x11dff1(0x705)](_0x270c98))return!0x0;if(this[_0x11dff1(0x68a)](_0x270c98)&&/^\d+$/[_0x11dff1(0x705)](_0x22e90f)){let _0x1b4aff=_0x270c98[_0x11dff1(0x72c)](',')[_0x11dff1(0x33c)](_0x2b3b92=>parseInt(_0x2b3b92[_0x11dff1(0x69c)]())),_0x25607a=parseInt(_0x22e90f);return _0x1b4aff[_0x11dff1(0x44a)](_0x25607a);}return _0x270c98[_0x11dff1(0x44a)](_0x22e90f);}['isListOfNumbers'](_0x62ba19){const _0x5cef6e=a0_0x3146da;return/^\d+(,\d+)*$/[_0x5cef6e(0x705)](_0x62ba19);}[a0_0x3146da(0x6b4)](_0xc567d4){const _0x7cc20c=a0_0x3146da;let _0x248a28=!0x0,_0x16d84f=null;for(let _0x25af79 of _0xc567d4){let _0x4ebbe9=this[_0x7cc20c(0x184)](_0x25af79);if(_0x16d84f==='or'&&_0x4ebbe9){_0x248a28=!0x0;break;}if(_0x16d84f===_0x7cc20c(0x6eb)&&!_0x4ebbe9){_0x248a28=!0x1;break;}_0x16d84f=_0x25af79['OrAnd'];}return _0x248a28;}[a0_0x3146da(0x184)](_0x551133){const _0x4955bc=a0_0x3146da;let _0x5318b8=_0x551133[_0x4955bc(0x3c6)],_0x3fd72c=_0x551133[_0x4955bc(0x303)];try{switch(_0x551133[_0x4955bc(0x65b)]){case _0x4955bc(0x2da):return String(_0x5318b8)===String(_0x3fd72c);case _0x4955bc(0x1f4):return String(_0x5318b8)!==String(_0x3fd72c);case _0x4955bc(0xd7):return String(_0x5318b8)[_0x4955bc(0x44a)](String(_0x3fd72c));case _0x4955bc(0x573):return!String(_0x5318b8)[_0x4955bc(0x44a)](String(_0x3fd72c));case _0x4955bc(0x327):return parseFloat(String(_0x5318b8))>parseFloat(String(_0x3fd72c));case _0x4955bc(0x2bb):return parseFloat(String(_0x5318b8))<parseFloat(String(_0x3fd72c));case _0x4955bc(0xef):return String(_0x5318b8)!=='';case _0x4955bc(0x6c1):return String(_0x5318b8)==='';case _0x4955bc(0x414):return new RegExp(String(_0x3fd72c))[_0x4955bc(0x705)](String(_0x5318b8));case _0x4955bc(0x345):return!new RegExp(String(_0x3fd72c))['test'](String(_0x5318b8));default:return!0x1;}}catch(_0x22ff29){return console[_0x4955bc(0x451)](_0x4955bc(0x56a)+_0x22ff29),!0x1;}}async[a0_0x3146da(0x529)](_0x141857,_0x146729){const _0x411cef=a0_0x3146da;if(this[_0x411cef(0x6a2)][_0x411cef(0x19a)](this[_0x411cef(0x1ec)]+'\x20('+this[_0x411cef(0x519)][_0x411cef(0x419)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x141857||!_0x146729)return this[_0x411cef(0x6a2)][_0x411cef(0x451)](this['instanceName']+'\x20('+this[_0x411cef(0x519)][_0x411cef(0x419)]+_0x411cef(0x707)),null;let _0xc9879=_0x146729['saveVariable'],_0x363710=_0x141857['chatLog'][_0x411cef(0x398)][_0x411cef(0x69b)]||_0x141857['chatLog'][_0x411cef(0x398)][_0x411cef(0x71b)]||_0x141857[_0x411cef(0xdc)]['lastReceivedMessage'][_0x411cef(0x2f2)];try{_0x141857[_0x411cef(0xdc)]['realVariables']||(_0x141857['chatLog'][_0x411cef(0x5ac)]={});let _0x41102e=_0x141857[_0x411cef(0xdc)][_0x411cef(0x5ac)][_0xc9879];_0x141857[_0x411cef(0xdc)][_0x411cef(0x5ac)][_0xc9879]=_0x363710;let _0x5e00e1={'variable':_0xc9879,'oldValue':_0x41102e,'newValue':_0x363710};this['updateConversation'](_0x141857,_0x146729,_0x5e00e1),this[_0x411cef(0x6a2)][_0x411cef(0x19a)](this['instanceName']+'\x20('+this[_0x411cef(0x519)][_0x411cef(0x419)]+_0x411cef(0x6c0));}catch(_0x12c724){let _0x3875b2={'error':!0x0,'errorLog':_0x12c724[_0x411cef(0x63d)]()};return this[_0x411cef(0x570)](_0x141857,_0x146729,_0x3875b2),this[_0x411cef(0x6a2)]['error'](this[_0x411cef(0x1ec)]+'\x20('+this[_0x411cef(0x519)]['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x12c724 instanceof Error?_0x12c724[_0x411cef(0x25d)]:JSON[_0x411cef(0x692)](_0x12c724,null,0x2))),null;}}async['stopConversation'](_0x23021f,_0x213529){const _0x3af8af=a0_0x3146da;if(this[_0x3af8af(0x6a2)][_0x3af8af(0x19a)](this[_0x3af8af(0x1ec)]+'\x20('+this['instance']['wuid']+_0x3af8af(0x1e0)),!_0x23021f||!_0x213529)return this[_0x3af8af(0x6a2)][_0x3af8af(0x451)](this['instanceName']+'\x20('+this[_0x3af8af(0x519)][_0x3af8af(0x419)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x55dbf0=Date[_0x3af8af(0x257)](),_0x3c6d54=parseInt(_0x213529[_0x3af8af(0x429)],0xa);if(isNaN(_0x3c6d54))return this[_0x3af8af(0x6a2)][_0x3af8af(0x451)](this['instanceName']+'\x20('+this[_0x3af8af(0x519)][_0x3af8af(0x419)]+_0x3af8af(0xc3)),null;let _0x33defb={'newStoppedUntil':_0x55dbf0+_0x3c6d54*0x3c*0x3e8};return await this[_0x3af8af(0x570)](_0x23021f,_0x213529,_0x33defb,!0x0),null;}async[a0_0x3146da(0x139)](_0x2be131,_0x18755f){const _0x2933da=a0_0x3146da;try{switch(_0x18755f[_0x2933da(0x416)][_0x2933da(0x1f2)]){case _0x2933da(0x311):await this[_0x2933da(0x21a)](_0x2be131,_0x18755f);break;case _0x2933da(0x2a8):await this[_0x2933da(0x320)](_0x2be131,_0x18755f);break;case _0x2933da(0x639):await this[_0x2933da(0x646)](_0x2be131,_0x18755f);break;case _0x2933da(0x434):await this[_0x2933da(0x6b5)](_0x2be131,_0x18755f);break;case _0x2933da(0x563):await this[_0x2933da(0x4f1)](_0x2be131,_0x18755f);break;case'sendPoll':await this[_0x2933da(0x5b7)](_0x2be131,_0x18755f);break;case _0x2933da(0x3bf):await this['uazapiSendMenu'](_0x2be131,_0x18755f);break;case _0x2933da(0x653):await this[_0x2933da(0x4fd)](_0x2be131,_0x18755f);break;default:this[_0x2933da(0x6a2)]['error'](this[_0x2933da(0x1ec)]+'\x20('+this[_0x2933da(0x519)]['wuid']+_0x2933da(0x610)+_0x18755f[_0x2933da(0x416)]['command']);}}catch(_0x6fb3cb){this[_0x2933da(0x6a2)][_0x2933da(0x451)](this['instanceName']+'\x20('+this[_0x2933da(0x519)][_0x2933da(0x419)]+_0x2933da(0x256)+(_0x6fb3cb instanceof Error?_0x6fb3cb[_0x2933da(0x25d)]:JSON[_0x2933da(0x692)](_0x6fb3cb,null,0x2)));}}async[a0_0x3146da(0x570)](_0xd8dd74,_0x1d246b,_0x48a5e9,_0x1717ae=!0x1,_0x1a8012=!0x1){const _0x339e8f=a0_0x3146da;_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0xff)]||(_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0xff)]=[]);let _0x152a66=(_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0xff)]?.[_0x339e8f(0x148)]??0x0)+0x1,_0x2ef3c1=_0xd8dd74['chatLog'][_0x339e8f(0xff)][_0x339e8f(0x431)](_0x4bd73e=>String(_0x4bd73e['blockId'])===String(_0x1d246b[_0x339e8f(0x60a)]))['length']+0x1,_0x52277b=_0x48a5e9?.[_0x339e8f(0x614)]??Date['now'](),_0x1a5cb4=_0x48a5e9?.[_0x339e8f(0x451)]?_0x48a5e9['errorLog']??_0x48a5e9[_0x339e8f(0x451)][_0x339e8f(0x63d)]():void 0x0,_0x18b8ed={'onTime':_0x52277b,'blockId':_0x1d246b[_0x339e8f(0x60a)],'order':_0x152a66,'activatedCount':_0x2ef3c1,'error':_0x48a5e9?.[_0x339e8f(0x451)]??!0x1,'messageId':_0x48a5e9?.['messageId'],'apiResponse':_0x48a5e9?.[_0x339e8f(0x314)],'apiResponseString':_0x48a5e9?.[_0x339e8f(0x314)]?JSON['stringify'](_0x48a5e9?.[_0x339e8f(0x314)]):void 0x0,'variable':_0x48a5e9?.['variable'],'oldValue':_0x48a5e9?.[_0x339e8f(0x488)],'newValue':_0x48a5e9?.[_0x339e8f(0xf0)],'newStoppedUntil':_0x48a5e9?.[_0x339e8f(0x28a)],'moreLogs':_0x48a5e9?.['moreLogs'],'errorLog':_0x1a5cb4};if(_0x48a5e9[_0x339e8f(0x68d)]&&_0x48a5e9[_0x339e8f(0x68d)]['length']>0x0){let _0x7a3bbf=_0x48a5e9[_0x339e8f(0x68d)][_0x339e8f(0x33c)](_0x5b5e9b=>this[_0x339e8f(0x12d)](_0x5b5e9b,_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0x5ac)]));_0x18b8ed[_0x339e8f(0x68d)]=_0x7a3bbf;}_0xd8dd74[_0x339e8f(0xdc)]['realVariables']||(_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0x5ac)]={}),_0xd8dd74['chatLog']['realVariables']['_activatedCount']=String(_0x2ef3c1),_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0x5ac)]['_error']=String(_0x48a5e9[_0x339e8f(0x451)]??!0x1),_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0xff)][_0x339e8f(0x621)](_0x18b8ed),_0xd8dd74['chatLog'][_0x339e8f(0x41d)]=_0x1d246b[_0x339e8f(0x60a)][_0x339e8f(0x63d)](),_0xd8dd74['chatLog'][_0x339e8f(0x254)]&&(_0xd8dd74['chatLog'][_0x339e8f(0x254)]=_0xd8dd74[_0x339e8f(0xdc)]['lastSendMessage']),_0xd8dd74['chatLog'][_0x339e8f(0x398)]&&(_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0x398)]=_0xd8dd74[_0x339e8f(0xdc)]['lastReceivedMessage']),_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0x6cc)]&&(_0xd8dd74['chatLog'][_0x339e8f(0x6cc)]=_0xd8dd74[_0x339e8f(0xdc)][_0x339e8f(0x6cc)]),_0x1a8012&&(_0xd8dd74[_0x339e8f(0x1d6)]=_0x339e8f(0x1b9)),_0x1717ae?this[_0x339e8f(0x13f)](_0xd8dd74):this[_0x339e8f(0x2ef)](_0xd8dd74,_0x1d246b);}[a0_0x3146da(0x12d)](_0x421207,_0x5707b8){const _0xba4d62=a0_0x3146da;return _0x421207[_0xba4d62(0x1ce)](/\{\{([^}]+)\}\}/g,(_0x5d7bfd,_0x4fbca6)=>_0x5707b8[_0x4fbca6]?'{{'+_0x4fbca6+_0xba4d62(0x1c0)+_0x5707b8[_0x4fbca6]+'\x22':'{{'+_0x4fbca6+_0xba4d62(0x42d));}async['saveConversationToDatabase'](_0x243d5b){const _0x448665=a0_0x3146da;try{let _0x477fd5=Object[_0x448665(0x489)](_0x243d5b[_0x448665(0xdc)][_0x448665(0x5ac)])[_0x448665(0x33c)](([_0x12d1a3,_0x3dfa7d])=>({'name':_0x12d1a3,'value':_0x3dfa7d})),_0x23ca6a={'status':_0x243d5b[_0x448665(0x1d6)],'blocks':_0x243d5b[_0x448665(0x71d)],'waitingMenu_id':_0x243d5b['waitingMenu_id'],'waitingMenu_text':_0x243d5b[_0x448665(0x1dc)],'waitingMenu_replyOptions':_0x243d5b['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x243d5b[_0x448665(0xdc)][_0x448665(0x41d)],'lastSendMessage':_0x243d5b[_0x448665(0xdc)][_0x448665(0x254)],'lastReceivedMessage':_0x243d5b['chatLog'][_0x448665(0x398)],'lastCondition':_0x243d5b[_0x448665(0xdc)][_0x448665(0x6cc)],'chatVariables':_0x477fd5,'realVariables':_0x243d5b[_0x448665(0xdc)][_0x448665(0x5ac)],'blockLogs':_0x243d5b[_0x448665(0xdc)][_0x448665(0xff)]}},_0x8c37c2=await this['repository'][_0x448665(0x618)][_0x448665(0x2f8)](_0x243d5b[_0x448665(0x60a)],_0x23ca6a,this[_0x448665(0x519)][_0x448665(0x419)]);if(_0x8c37c2){this[_0x448665(0x6a2)]['verbose'](this[_0x448665(0x1ec)]+'\x20('+this[_0x448665(0x519)][_0x448665(0x419)]+_0x448665(0x1aa)+_0x8c37c2[_0x448665(0x60a)]);try{let _0x34a05e=[_0x448665(0x492),_0x448665(0x712),'email',_0x448665(0x505),_0x448665(0x1d6),'notas',_0x448665(0x6da),'tags',_0x448665(0x2ce)];if(!this[_0x448665(0x15d)]&&(await this[_0x448665(0x67e)](),!this['AutomateSystem']))throw new Error(_0x448665(0x3ff));let _0x2712d3=this[_0x448665(0x15d)]?.['customFields']['map'](_0x28984f=>_0x28984f[_0x448665(0x51a)]),_0x92e6df={};Object[_0x448665(0x489)](_0x243d5b[_0x448665(0xdc)][_0x448665(0x5ac)])[_0x448665(0x3d2)](([_0x5340df,_0x2f5955])=>{const _0x3a04a5=_0x448665;_0x34a05e[_0x3a04a5(0x44a)](_0x5340df)&&(_0x5340df===_0x3a04a5(0x6c3)&&typeof _0x2f5955==_0x3a04a5(0x584)?_0x92e6df[_0x5340df]=_0x2f5955[_0x3a04a5(0x72c)](',')[_0x3a04a5(0x33c)](_0x570900=>_0x570900[_0x3a04a5(0x69c)]())[_0x3a04a5(0x431)](_0x1ef260=>_0x1ef260!==''):_0x5340df==='etiquetas'&&typeof _0x2f5955==_0x3a04a5(0x584)?_0x92e6df[_0x5340df]=_0x2f5955[_0x3a04a5(0x72c)](',')['map'](_0x12fc89=>_0x12fc89[_0x3a04a5(0x69c)]())[_0x3a04a5(0x431)](_0x59467a=>_0x59467a!==''):_0x92e6df[_0x5340df]=_0x2f5955);});let _0x1ea8db=_0x243d5b[_0x448665(0xdc)][_0x448665(0xff)][_0x243d5b[_0x448665(0xdc)][_0x448665(0xff)]['length']-0x1];if(_0x1ea8db){let _0x130f6c=_0x1ea8db['newStoppedUntil'];_0x130f6c!==void 0x0&&(_0x92e6df[_0x448665(0x1bb)]=_0x130f6c[_0x448665(0x63d)]());}let _0x5261be=_0x477fd5[_0x448665(0x431)](_0x295765=>_0x2712d3[_0x448665(0x44a)](_0x295765[_0x448665(0x51a)]));this[_0x448665(0x6a2)][_0x448665(0x19a)](this['instanceName']+'\x20('+this[_0x448665(0x519)][_0x448665(0x419)]+_0x448665(0x66d)),this[_0x448665(0x6a2)][_0x448665(0x19a)](_0x92e6df),this[_0x448665(0x6a2)][_0x448665(0x19a)](this[_0x448665(0x1ec)]+'\x20('+this[_0x448665(0x519)]['wuid']+_0x448665(0x1f9)),this[_0x448665(0x6a2)][_0x448665(0x19a)](_0x5261be);let _0x55a4ff=_0x5261be[_0x448665(0x33c)](_0x113e99=>{const _0x17d0df=_0x448665;let _0x280473=this[_0x17d0df(0x15d)]?.[_0x17d0df(0x713)]['find'](_0x335573=>_0x335573[_0x17d0df(0x51a)]===_0x113e99[_0x17d0df(0x51a)]);if(!_0x280473)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x113e99[_0x17d0df(0x51a)]);return{'_id':_0x280473['_id'],'value':_0x113e99[_0x17d0df(0x2f9)]};});this[_0x448665(0x6a2)][_0x448665(0x19a)](this[_0x448665(0x1ec)]+'\x20('+this[_0x448665(0x519)]['wuid']+_0x448665(0x195)),this[_0x448665(0x6a2)][_0x448665(0x19a)](_0x55a4ff),await this[_0x448665(0x2b5)](_0x243d5b[_0x448665(0x340)],_0x92e6df,_0x55a4ff);}catch(_0x309e34){this['logger']['error'](this['instanceName']+'\x20('+this[_0x448665(0x519)][_0x448665(0x419)]+_0x448665(0x151)+(_0x309e34 instanceof Error?_0x309e34[_0x448665(0x25d)]:JSON[_0x448665(0x692)](_0x309e34,null,0x2)));}}else this[_0x448665(0x6a2)][_0x448665(0x451)](this['instanceName']+'\x20('+this[_0x448665(0x519)][_0x448665(0x419)]+_0x448665(0x355));}catch(_0x1afd15){this[_0x448665(0x6a2)][_0x448665(0x451)](this[_0x448665(0x1ec)]+'\x20('+this[_0x448665(0x519)][_0x448665(0x419)]+_0x448665(0x473)+(_0x1afd15 instanceof Error?_0x1afd15[_0x448665(0x25d)]:JSON[_0x448665(0x692)](_0x1afd15,null,0x2)));}}async[a0_0x3146da(0x2b5)](_0x21ea62,_0x549a40,_0x48285e){const _0x205305=a0_0x3146da;try{let _0x1aef1b={'leadInfo.leadnome':_0x549a40['nome'],'leadInfo.nomecompleto':_0x549a40[_0x205305(0x712)],'leadInfo.email':_0x549a40['email'],'leadInfo.cpf':_0x549a40[_0x205305(0x505)],'leadInfo.status':_0x549a40['status'],'leadInfo.notas':_0x549a40[_0x205305(0x483)],'leadInfo.responsavelid':_0x549a40[_0x205305(0x6da)],'leadInfo.tags':_0x549a40['tags'],'leadInfo.etiquetas':_0x549a40['etiquetas'],'leadInfo.customFields':_0x48285e},_0x1c9467=await this[_0x205305(0x1ad)][_0x205305(0x11c)][_0x205305(0xee)]({'where':{'_id':_0x21ea62}},this[_0x205305(0x519)]['wuid']),_0x5cc22c=new Set(_0x1c9467[_0x205305(0x286)][_0x205305(0x2ce)]||[]),_0x29a796=new Set(_0x549a40[_0x205305(0x2ce)]||[]),_0x14fad4=await this[_0x205305(0x1ad)][_0x205305(0x5ad)][_0x205305(0x6a9)]({'where':{}},this[_0x205305(0x519)][_0x205305(0x419)]),_0x2768bd=new Set(_0x14fad4['map'](_0x5ef6dd=>_0x5ef6dd['_id'])),_0x11145a=[..._0x29a796][_0x205305(0x431)](_0x22f51d=>!_0x5cc22c['has'](_0x22f51d)&&_0x2768bd[_0x205305(0x725)](_0x22f51d)),_0xa558bd=[..._0x5cc22c][_0x205305(0x431)](_0x598a29=>!_0x29a796[_0x205305(0x725)](_0x598a29));for(let _0x1cbec3 of _0x11145a)await this[_0x205305(0x682)](_0x1cbec3,_0x1c9467[_0x205305(0x60a)]),_0x5cc22c[_0x205305(0x54d)](_0x1cbec3);for(let _0x265e0d of _0xa558bd)await this[_0x205305(0x41f)](_0x265e0d,_0x1c9467[_0x205305(0x60a)]),_0x5cc22c[_0x205305(0x6cf)](_0x265e0d);if(_0x205305(0x1bb)in _0x549a40){let _0x2b0e6e=_0x549a40[_0x205305(0x1bb)];_0x1aef1b[_0x205305(0x289)]=_0x2b0e6e?Number(_0x2b0e6e):null;}let _0x31a4dc=await this[_0x205305(0x1ad)]['chat'][_0x205305(0x2f8)]({'where':{'_id':_0x21ea62}},_0x1aef1b,this[_0x205305(0x519)][_0x205305(0x419)]);_0x31a4dc?(this[_0x205305(0x6a2)][_0x205305(0x19a)](this['instanceName']+'\x20('+this[_0x205305(0x519)]['wuid']+_0x205305(0x2ff)+_0x31a4dc[_0x205305(0x60a)]),J(this['instanceName'],_0x205305(0xbe),{'chat':_0x31a4dc})):this[_0x205305(0x6a2)][_0x205305(0x451)](this[_0x205305(0x1ec)]+'\x20('+this[_0x205305(0x519)]['wuid']+_0x205305(0x51e));}catch(_0x499519){this[_0x205305(0x6a2)][_0x205305(0x451)](this['instanceName']+'\x20('+this[_0x205305(0x519)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x499519 instanceof Error?_0x499519[_0x205305(0x25d)]:JSON['stringify'](_0x499519,null,0x2)));}}async[a0_0x3146da(0x5a1)](_0x312fe8,_0x108529){const _0x9d4624=a0_0x3146da;this[_0x9d4624(0x6a2)]['verbose'](this[_0x9d4624(0x1ec)]+'\x20('+this['instance']['wuid']+_0x9d4624(0x162)+_0x108529);try{let _0x114a5d=await this[_0x9d4624(0x1ad)]['chat'][_0x9d4624(0x2f8)]({'where':{'_id':_0x312fe8['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x108529},this['instance'][_0x9d4624(0x419)]);this[_0x9d4624(0x6a2)][_0x9d4624(0x19a)](this[_0x9d4624(0x1ec)]+'\x20('+this[_0x9d4624(0x519)][_0x9d4624(0x419)]+_0x9d4624(0x4d8)+_0x312fe8['_id']),this[_0x9d4624(0x6a2)][_0x9d4624(0x19a)](this[_0x9d4624(0x1ec)]+'\x20('+this['instance'][_0x9d4624(0x419)]+_0x9d4624(0x162)+JSON[_0x9d4624(0x692)](_0x114a5d,null,0x2)),_0x114a5d&&J(this[_0x9d4624(0x1ec)],_0x9d4624(0xbe),{'chat':_0x114a5d});}catch(_0xc36ded){this['logger']['error'](this['instanceName']+'\x20('+this[_0x9d4624(0x519)][_0x9d4624(0x419)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0xc36ded instanceof Error?_0xc36ded[_0x9d4624(0x25d)]:JSON[_0x9d4624(0x692)](_0xc36ded,null,0x2)));}}async[a0_0x3146da(0x129)](_0x2e6c45){const _0x311928=a0_0x3146da;try{this[_0x311928(0x6a2)][_0x311928(0x19a)](this[_0x311928(0x1ec)]+'\x20('+this[_0x311928(0x519)][_0x311928(0x419)]+_0x311928(0x143));let _0x2be73d=_0x2e6c45['replace'](/\D/g,''),_0x170c5b=await this[_0x311928(0x1ad)][_0x311928(0x2b8)][_0x311928(0xee)]({'where':{'testingWith':_0x2be73d}},this[_0x311928(0x519)][_0x311928(0x419)]);return _0x170c5b||(this[_0x311928(0x6a2)][_0x311928(0x19a)](this['instanceName']+'\x20('+this[_0x311928(0x519)][_0x311928(0x419)]+_0x311928(0x4c7)),_0x170c5b=await this[_0x311928(0x1ad)][_0x311928(0x2b8)]['findOne']({'where':{'default':!0x0}},this[_0x311928(0x519)][_0x311928(0x419)])),_0x170c5b||(this['logger'][_0x311928(0x19a)](this[_0x311928(0x1ec)]+'\x20('+this[_0x311928(0x519)][_0x311928(0x419)]+_0x311928(0x24a)),null);}catch(_0x1c63c6){return this[_0x311928(0x6a2)][_0x311928(0x451)](this[_0x311928(0x1ec)]+'\x20('+this[_0x311928(0x519)][_0x311928(0x419)]+_0x311928(0x53d)+(_0x1c63c6 instanceof Error?_0x1c63c6[_0x311928(0x25d)]:JSON[_0x311928(0x692)](_0x1c63c6,null,0x2))),null;}}async[a0_0x3146da(0x378)](_0x32816c,_0x3231c5){const _0x3beed6=a0_0x3146da;try{let _0x4bd01c=!!_0x3231c5[_0x3beed6(0x2f2)],_0xf7f00f=_0x3231c5[_0x3beed6(0x534)],_0x4e6dea=null;if(this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+_0x3beed6(0x56f)+_0x4bd01c+_0x3beed6(0x70b)+_0xf7f00f),_0x4bd01c){this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x5412df={'where':{'remoteJid':_0x32816c,'waitingMenu_id':_0xf7f00f}};if(_0x4e6dea=await this[_0x3beed6(0x1ad)]['flowConversation'][_0x3beed6(0xee)](_0x5412df,this[_0x3beed6(0x519)][_0x3beed6(0x419)]),!_0x4e6dea)return this['logger'][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+_0x3beed6(0x217)),null;let _0x540127=Date['now'](),_0x28e056=_0x4e6dea?.['minutesToClose']||0x0,_0x42cc77=_0x540127-_0x28e056*0x3c*0x3e8;if(_0x4e6dea['lastInteraction']<_0x42cc77){this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this['instanceName']+'\x20('+this['instance'][_0x3beed6(0x419)]+_0x3beed6(0x1d4));let _0x36f721={'number':_0x4e6dea[_0x3beed6(0x340)],'options':{'delay':0x0},'textMessage':{'text':_0x4e6dea[_0x3beed6(0x1f1)]}};await this[_0x3beed6(0x5c2)](_0x36f721);let _0x4f2dfa={'status':_0x3beed6(0x1b9),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3beed6(0x1ad)][_0x3beed6(0x618)][_0x3beed6(0x2f8)](_0x4e6dea[_0x3beed6(0x60a)],_0x4f2dfa,this[_0x3beed6(0x519)][_0x3beed6(0x419)]),null;}return _0x4e6dea['lastInteraction']=Date[_0x3beed6(0x257)](),_0x4e6dea[_0x3beed6(0xdc)][_0x3beed6(0x398)]=_0x3231c5,_0x4e6dea;}else{this['logger'][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+_0x3beed6(0x6e9)+this[_0x3beed6(0x519)]['wuid']+_0x3beed6(0x1a7)),this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+_0x3beed6(0x4a1));let _0x1811fd={'where':{'remoteJid':_0x32816c,'status':_0x3beed6(0x4fa)}};if(_0x4e6dea=await this[_0x3beed6(0x1ad)][_0x3beed6(0x618)][_0x3beed6(0xee)](_0x1811fd,this[_0x3beed6(0x519)][_0x3beed6(0x419)]),!_0x4e6dea){let _0x237459=await this[_0x3beed6(0x129)](_0x32816c);if(_0x237459&&(_0x4e6dea=await this[_0x3beed6(0x42b)](_0x237459,_0x3231c5['key'],_0x3231c5)),!_0x4e6dea)return null;}let _0x3f705f=Date[_0x3beed6(0x257)](),_0x1247d3=_0x4e6dea?.[_0x3beed6(0x583)]||0x0,_0x261c2c=_0x3f705f-_0x1247d3*0x3c*0x3e8;if(this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)]['wuid']+_0x3beed6(0xfb)+_0x3f705f+_0x3beed6(0x1b2)+_0x1247d3+',\x20Expiration\x20Time:\x20'+_0x261c2c),this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+_0x3beed6(0x309)),this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+_0x3beed6(0x4d9)+_0x4e6dea['lastInteraction']),this[_0x3beed6(0x6a2)]['verbose'](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+'):\x20expirationTime:\x20'+_0x261c2c),_0x4e6dea['lastInteraction']<_0x261c2c){this[_0x3beed6(0x6a2)][_0x3beed6(0x19a)](this[_0x3beed6(0x1ec)]+'\x20('+this[_0x3beed6(0x519)][_0x3beed6(0x419)]+_0x3beed6(0x52b));let _0x40733f=await this[_0x3beed6(0x129)](_0x32816c);if(_0x40733f===null)return null;_0x4e6dea&&await this[_0x3beed6(0x1ad)][_0x3beed6(0x618)][_0x3beed6(0x2f8)](_0x4e6dea[_0x3beed6(0x60a)],{'status':_0x3beed6(0x1b9)},this[_0x3beed6(0x519)][_0x3beed6(0x419)]),_0x4e6dea=await this['createNewConversation'](_0x40733f,_0x3231c5[_0x3beed6(0x415)],_0x3231c5);}return _0x4e6dea[_0x3beed6(0x45c)]=_0x3f705f,_0x4e6dea['chatLog'][_0x3beed6(0x398)]=_0x3231c5,_0x4e6dea;}}catch(_0x16c140){return this['logger'][_0x3beed6(0x451)](this[_0x3beed6(0x1ec)]+'\x20('+this['instance'][_0x3beed6(0x419)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x16c140 instanceof Error?_0x16c140[_0x3beed6(0x25d)]:JSON[_0x3beed6(0x692)](_0x16c140,null,0x2))),null;}}async[a0_0x3146da(0x42b)](_0x255898,_0x2f1d81,_0xb8bb47){const _0x58a9fe=a0_0x3146da;this[_0x58a9fe(0x6a2)]['verbose'](this[_0x58a9fe(0x1ec)]+'\x20('+this['instance']['wuid']+_0x58a9fe(0x253));try{let _0x2a401a=require(_0x58a9fe(0x4e5))[_0x58a9fe(0x5ec)],_0x4e2cfb=Date[_0x58a9fe(0x257)](),_0x121811=_0x58a9fe(0x5a7),_0xcc1942=_0x2f1d81[_0x58a9fe(0x1ef)]?null:_0xb8bb47,_0x3826fa=_0x2f1d81[_0x58a9fe(0x1ef)]?_0xb8bb47:null,_0x4b9b5f=_0x2f1d81[_0x58a9fe(0x340)];await this[_0x58a9fe(0x668)](_0x4b9b5f);let _0x13add={..._0x255898,'chatLog':null},_0x2d8e34=await this[_0x58a9fe(0x544)](_0x13add[_0x58a9fe(0x60f)]),_0x5ea291=await this[_0x58a9fe(0x30c)](_0x4b9b5f),_0x3c6105={..._0x2d8e34,..._0x5ea291,'_remoteJid':_0x4b9b5f},_0x33747e={'lastReceivedMessage':_0xcc1942,'lastSendMessage':_0x3826fa,'lastBlockId':_0x121811,'lastCondition':!0x0,'realVariables':_0x3c6105};_0x13add['chatLog']=_0x33747e,delete _0x13add[_0x58a9fe(0x60a)],_0x13add[_0x58a9fe(0x60a)]=new _0x2a401a(),_0x13add[_0x58a9fe(0x45c)]=_0x4e2cfb,_0x13add[_0x58a9fe(0x1d6)]='open',_0x13add[_0x58a9fe(0x340)]=_0x4b9b5f;let _0x5314d6=await this[_0x58a9fe(0x1ad)]['flowConversation']['updateOne'](_0x13add[_0x58a9fe(0x60a)],_0x13add,this[_0x58a9fe(0x519)][_0x58a9fe(0x419)]);return this[_0x58a9fe(0x6a2)][_0x58a9fe(0x19a)](this['instanceName']+'\x20('+this['instance'][_0x58a9fe(0x419)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5314d6?_0x13add:null;}catch(_0x3292b9){return this['logger'][_0x58a9fe(0x451)](this[_0x58a9fe(0x1ec)]+'\x20('+this[_0x58a9fe(0x519)][_0x58a9fe(0x419)]+_0x58a9fe(0x2c3)+(_0x3292b9 instanceof Error?_0x3292b9[_0x58a9fe(0x25d)]:JSON[_0x58a9fe(0x692)](_0x3292b9,null,0x2))),_0x3292b9;}}async[a0_0x3146da(0x21a)](_0x5c6f4b,_0x3f9431){const _0x53000f=a0_0x3146da;let _0x3fe949=_0x5c6f4b[_0x53000f(0x340)];_0x3f9431['uazapi']['remoteJid']&&_0x3f9431[_0x53000f(0x416)][_0x53000f(0x340)][_0x53000f(0x69c)]()!==''&&(_0x3fe949=_0x3f9431[_0x53000f(0x416)][_0x53000f(0x340)]['trim']()),this[_0x53000f(0x6a2)][_0x53000f(0x19a)](this[_0x53000f(0x1ec)]+'\x20('+this[_0x53000f(0x519)]['wuid']+'):\x20Enviando\x20texto');let _0x3530f5={'number':_0x3fe949,'options':{'delay':_0x3f9431['uazapi']['delay']},'textMessage':{'text':_0x3f9431[_0x53000f(0x416)][_0x53000f(0x69b)]}};try{let _0x1f3557=await this[_0x53000f(0x5c2)](_0x3530f5);if(_0x1f3557){let _0x1c6691={'_id':_0x1f3557[_0x53000f(0x415)]['id'],'_fromMe':_0x1f3557[_0x53000f(0x415)][_0x53000f(0x1ef)],'_remoteJid':_0x1f3557[_0x53000f(0x415)][_0x53000f(0x340)]};_0x5c6f4b[_0x53000f(0xdc)][_0x53000f(0x41d)]=_0x3f9431[_0x53000f(0x60a)][_0x53000f(0x63d)]();let {message_normalized:_0x257bc0}=this[_0x53000f(0x643)](_0x1f3557[_0x53000f(0x25d)],$(_0x1f3557[_0x53000f(0x25d)]),null);_0x5c6f4b['chatLog']['lastSendMessage']=await _0x257bc0;let _0x57fcc6={'messageId':_0x1f3557[_0x53000f(0x415)]['id']},_0x3bf1c0=_0x5c6f4b[_0x53000f(0xdc)][_0x53000f(0x5ac)];Object[_0x53000f(0x2d3)](_0x3bf1c0,_0x1c6691),_0x5c6f4b[_0x53000f(0xdc)][_0x53000f(0x5ac)]=_0x3bf1c0,this[_0x53000f(0x570)](_0x5c6f4b,_0x3f9431,_0x57fcc6);}else{let _0x5412e0={'error':!0x0};this[_0x53000f(0x570)](_0x5c6f4b,_0x3f9431,_0x5412e0),this['logger'][_0x53000f(0x451)](this[_0x53000f(0x1ec)]+'\x20('+this[_0x53000f(0x519)][_0x53000f(0x419)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x210a02){let _0x363b46={'error':!0x0,'errorLog':_0x210a02[_0x53000f(0x63d)]()};this[_0x53000f(0x570)](_0x5c6f4b,_0x3f9431,_0x363b46),this[_0x53000f(0x6a2)][_0x53000f(0x451)](this[_0x53000f(0x1ec)]+'\x20('+this[_0x53000f(0x519)][_0x53000f(0x419)]+_0x53000f(0x35f)+(_0x210a02 instanceof Error?_0x210a02['message']:JSON[_0x53000f(0x692)](_0x210a02,null,0x2)));}}async[a0_0x3146da(0x320)](_0x1f2598,_0x330554){const _0x58a21a=a0_0x3146da;let _0x27f6c1=_0x1f2598['remoteJid'];_0x330554[_0x58a21a(0x416)][_0x58a21a(0x340)]&&_0x330554[_0x58a21a(0x416)][_0x58a21a(0x340)][_0x58a21a(0x69c)]()!==''&&(_0x27f6c1=_0x330554[_0x58a21a(0x416)][_0x58a21a(0x340)][_0x58a21a(0x69c)]()),this[_0x58a21a(0x6a2)]['verbose'](this[_0x58a21a(0x1ec)]+'\x20('+this[_0x58a21a(0x519)][_0x58a21a(0x419)]+_0x58a21a(0xe8));let _0x1f27ed={'number':_0x27f6c1,'options':{'delay':_0x330554[_0x58a21a(0x416)][_0x58a21a(0x1d7)]},'mediaMessage':{'mediatype':_0x330554[_0x58a21a(0x416)][_0x58a21a(0x1d3)],'caption':_0x330554[_0x58a21a(0x416)][_0x58a21a(0x71b)],'media':_0x330554[_0x58a21a(0x416)][_0x58a21a(0x18f)],'fileName':_0x330554[_0x58a21a(0x416)][_0x58a21a(0x5d5)]}};try{let _0x790f40=await this[_0x58a21a(0x180)](_0x1f27ed);if(_0x790f40){let _0x4edd45={'_id':_0x790f40[_0x58a21a(0x415)]['id'],'_fromMe':_0x790f40['key'][_0x58a21a(0x1ef)],'_remoteJid':_0x790f40['key'][_0x58a21a(0x340)]};_0x1f2598[_0x58a21a(0xdc)][_0x58a21a(0x41d)]=_0x330554['_id']['toString']();let {message_normalized:_0x5b6857}=this[_0x58a21a(0x643)](_0x790f40[_0x58a21a(0x25d)],$(_0x790f40[_0x58a21a(0x25d)]),null);_0x1f2598[_0x58a21a(0xdc)]['lastSendMessage']=await _0x5b6857;let _0x23805a={'messageId':_0x790f40['key']['id']},_0xf985c2=_0x1f2598['chatLog'][_0x58a21a(0x5ac)];Object[_0x58a21a(0x2d3)](_0xf985c2,_0x4edd45),_0x1f2598['chatLog'][_0x58a21a(0x5ac)]=_0xf985c2,this[_0x58a21a(0x570)](_0x1f2598,_0x330554,_0x23805a);}else{let _0x2f31ff={'error':!0x0};this[_0x58a21a(0x570)](_0x1f2598,_0x330554,_0x2f31ff),this[_0x58a21a(0x6a2)][_0x58a21a(0x451)](this['instanceName']+'\x20('+this[_0x58a21a(0x519)][_0x58a21a(0x419)]+_0x58a21a(0x1ab));}}catch(_0x5b78cc){let _0x320f31={'error':!0x0,'errorLog':_0x5b78cc['toString']()};this[_0x58a21a(0x570)](_0x1f2598,_0x330554,_0x320f31),this[_0x58a21a(0x6a2)][_0x58a21a(0x451)](this[_0x58a21a(0x1ec)]+'\x20('+this[_0x58a21a(0x519)][_0x58a21a(0x419)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x5b78cc instanceof Error?_0x5b78cc[_0x58a21a(0x25d)]:JSON[_0x58a21a(0x692)](_0x5b78cc,null,0x2)));}}async[a0_0x3146da(0x646)](_0x135631,_0x4505be){const _0x135cf1=a0_0x3146da;let _0x2c4c69=_0x135631[_0x135cf1(0x340)];_0x4505be['uazapi'][_0x135cf1(0x340)]&&_0x4505be['uazapi'][_0x135cf1(0x340)][_0x135cf1(0x69c)]()!==''&&(_0x2c4c69=_0x4505be['uazapi'][_0x135cf1(0x340)][_0x135cf1(0x69c)]()),this['logger'][_0x135cf1(0x19a)](this[_0x135cf1(0x1ec)]+'\x20('+this[_0x135cf1(0x519)][_0x135cf1(0x419)]+'):\x20Enviando\x20localização');let _0x5ed199={'number':_0x2c4c69,'options':{'delay':_0x4505be[_0x135cf1(0x416)][_0x135cf1(0x1d7)]},'locationMessage':{'name':_0x4505be[_0x135cf1(0x416)][_0x135cf1(0x51a)],'address':_0x4505be[_0x135cf1(0x416)][_0x135cf1(0x397)],'latitude':_0x4505be[_0x135cf1(0x416)][_0x135cf1(0x684)],'longitude':_0x4505be[_0x135cf1(0x416)][_0x135cf1(0x512)]}};try{let _0x150649=await this[_0x135cf1(0x160)](_0x5ed199);if(_0x150649){let _0x3ac22e={'_id':_0x150649['key']['id'],'_fromMe':_0x150649[_0x135cf1(0x415)][_0x135cf1(0x1ef)],'_remoteJid':_0x150649[_0x135cf1(0x415)][_0x135cf1(0x340)]};_0x135631[_0x135cf1(0xdc)][_0x135cf1(0x41d)]=_0x4505be['_id']['toString']();let {message_normalized:_0x41e621}=this[_0x135cf1(0x643)](_0x150649[_0x135cf1(0x25d)],$(_0x150649[_0x135cf1(0x25d)]),null);_0x135631[_0x135cf1(0xdc)][_0x135cf1(0x254)]=await _0x41e621;let _0x318123={'messageId':_0x150649['key']['id']},_0x133980=_0x135631['chatLog'][_0x135cf1(0x5ac)];Object[_0x135cf1(0x2d3)](_0x133980,_0x3ac22e),_0x135631[_0x135cf1(0xdc)][_0x135cf1(0x5ac)]=_0x133980,this['updateConversation'](_0x135631,_0x4505be,_0x318123);}else{let _0x5c8ec4={'error':!0x0};this['updateConversation'](_0x135631,_0x4505be,_0x5c8ec4),this[_0x135cf1(0x6a2)][_0x135cf1(0x451)](this[_0x135cf1(0x1ec)]+'\x20('+this[_0x135cf1(0x519)][_0x135cf1(0x419)]+_0x135cf1(0x330));}}catch(_0x1c381f){let _0x67af1a={'error':!0x0,'errorLog':_0x1c381f['toString']()};this[_0x135cf1(0x570)](_0x135631,_0x4505be,_0x67af1a),this[_0x135cf1(0x6a2)][_0x135cf1(0x451)](this['instanceName']+'\x20('+this[_0x135cf1(0x519)][_0x135cf1(0x419)]+_0x135cf1(0x3d6)+(_0x1c381f instanceof Error?_0x1c381f['message']:JSON['stringify'](_0x1c381f,null,0x2)));}}async[a0_0x3146da(0x6b5)](_0x2cf4aa,_0x50fde5){const _0x35639c=a0_0x3146da;let _0x56cfd1=_0x2cf4aa['remoteJid'];_0x50fde5[_0x35639c(0x416)][_0x35639c(0x340)]&&_0x50fde5[_0x35639c(0x416)]['remoteJid'][_0x35639c(0x69c)]()!==''&&(_0x56cfd1=_0x50fde5[_0x35639c(0x416)]['remoteJid'][_0x35639c(0x69c)]()),this['logger']['verbose'](this[_0x35639c(0x1ec)]+'\x20('+this[_0x35639c(0x519)]['wuid']+_0x35639c(0x63f));let _0xe09f72={'number':_0x56cfd1,'options':{'delay':_0x50fde5[_0x35639c(0x416)]['delay']},'audioMessage':{'audio':_0x50fde5[_0x35639c(0x416)][_0x35639c(0x64e)]}};try{let _0x52f1e3=await this[_0x35639c(0x50a)](_0xe09f72);if(_0x52f1e3){let _0x3843ff={'_id':_0x52f1e3[_0x35639c(0x415)]['id'],'_fromMe':_0x52f1e3[_0x35639c(0x415)][_0x35639c(0x1ef)],'_remoteJid':_0x52f1e3[_0x35639c(0x415)][_0x35639c(0x340)]};_0x2cf4aa[_0x35639c(0xdc)]['lastBlockId']=_0x50fde5[_0x35639c(0x60a)][_0x35639c(0x63d)]();let {message_normalized:_0x3c06e9}=this[_0x35639c(0x643)](_0x52f1e3['message'],$(_0x52f1e3['message']),null);_0x2cf4aa[_0x35639c(0xdc)][_0x35639c(0x254)]=await _0x3c06e9;let _0x35d695={'messageId':_0x52f1e3[_0x35639c(0x415)]['id']},_0x3c3ddc=_0x2cf4aa[_0x35639c(0xdc)]['realVariables'];Object[_0x35639c(0x2d3)](_0x3c3ddc,_0x3843ff),_0x2cf4aa[_0x35639c(0xdc)][_0x35639c(0x5ac)]=_0x3c3ddc,this[_0x35639c(0x570)](_0x2cf4aa,_0x50fde5,_0x35d695);}else{let _0x58501e={'error':!0x0};this['updateConversation'](_0x2cf4aa,_0x50fde5,_0x58501e),this[_0x35639c(0x6a2)][_0x35639c(0x451)](this['instanceName']+'\x20('+this['instance'][_0x35639c(0x419)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x1f0ea2){let _0x39fb84={'error':!0x0,'errorLog':_0x1f0ea2[_0x35639c(0x63d)]()};this[_0x35639c(0x570)](_0x2cf4aa,_0x50fde5,_0x39fb84),this[_0x35639c(0x6a2)][_0x35639c(0x451)](this[_0x35639c(0x1ec)]+'\x20('+this[_0x35639c(0x519)][_0x35639c(0x419)]+_0x35639c(0x586)+(_0x1f0ea2 instanceof Error?_0x1f0ea2[_0x35639c(0x25d)]:JSON['stringify'](_0x1f0ea2,null,0x2)));}}async[a0_0x3146da(0x4f1)](_0xe208f0,_0x9030bb){const _0x2a702c=a0_0x3146da;let _0x11a2a8=_0xe208f0['remoteJid'];_0x9030bb[_0x2a702c(0x416)]['remoteJid']&&_0x9030bb[_0x2a702c(0x416)]['remoteJid'][_0x2a702c(0x69c)]()!==''&&(_0x11a2a8=_0x9030bb[_0x2a702c(0x416)][_0x2a702c(0x340)][_0x2a702c(0x69c)]()),this[_0x2a702c(0x6a2)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2a702c(0x498));let _0x42bfd7={'number':_0x11a2a8,'options':{'delay':_0x9030bb[_0x2a702c(0x416)][_0x2a702c(0x1d7)]},'contactMessage':[{'fullName':_0x9030bb['uazapi']['fullName'],'phoneNumber':_0x9030bb[_0x2a702c(0x416)][_0x2a702c(0x40c)]}]};try{let _0x53e27d=await this['contactMessage'](_0x42bfd7);if(_0x53e27d){let _0x3c7510={'_id':_0x53e27d['key']['id'],'_fromMe':_0x53e27d[_0x2a702c(0x415)][_0x2a702c(0x1ef)],'_remoteJid':_0x53e27d[_0x2a702c(0x415)][_0x2a702c(0x340)]};_0xe208f0[_0x2a702c(0xdc)][_0x2a702c(0x41d)]=_0x9030bb[_0x2a702c(0x60a)][_0x2a702c(0x63d)]();let {message_normalized:_0x555f51}=this[_0x2a702c(0x643)](_0x53e27d['message'],$(_0x53e27d['message']),null);_0xe208f0[_0x2a702c(0xdc)][_0x2a702c(0x254)]=await _0x555f51;let _0xe035c1={'messageId':_0x53e27d[_0x2a702c(0x415)]['id']},_0x3f637d=_0xe208f0['chatLog'][_0x2a702c(0x5ac)];Object[_0x2a702c(0x2d3)](_0x3f637d,_0x3c7510),_0xe208f0[_0x2a702c(0xdc)][_0x2a702c(0x5ac)]=_0x3f637d,this[_0x2a702c(0x570)](_0xe208f0,_0x9030bb,_0xe035c1);}else{let _0xff3f6d={'error':!0x0};this[_0x2a702c(0x570)](_0xe208f0,_0x9030bb,_0xff3f6d),this[_0x2a702c(0x6a2)][_0x2a702c(0x451)](this[_0x2a702c(0x1ec)]+'\x20('+this[_0x2a702c(0x519)][_0x2a702c(0x419)]+_0x2a702c(0x384));}}catch(_0x26f112){let _0x43d195={'error':!0x0,'errorLog':_0x26f112[_0x2a702c(0x63d)]()};this['updateConversation'](_0xe208f0,_0x9030bb,_0x43d195),this[_0x2a702c(0x6a2)][_0x2a702c(0x451)](this[_0x2a702c(0x1ec)]+'\x20('+this[_0x2a702c(0x519)][_0x2a702c(0x419)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x26f112 instanceof Error?_0x26f112[_0x2a702c(0x25d)]:JSON[_0x2a702c(0x692)](_0x26f112,null,0x2)));}}[a0_0x3146da(0x55f)](_0x1db9e9,_0x291356){const _0x2e3f18=a0_0x3146da;for(let _0x5e6de5 of _0x1db9e9)_0x5e6de5['option']&&(_0x5e6de5[_0x2e3f18(0x611)]=this[_0x2e3f18(0x4a5)](_0x5e6de5[_0x2e3f18(0x611)],_0x291356)),_0x5e6de5[_0x2e3f18(0x2fe)]&&(_0x5e6de5[_0x2e3f18(0x2fe)]=this['replaceVariables'](_0x5e6de5[_0x2e3f18(0x2fe)],_0x291356));}async['uazapiSendMenu'](_0x4e4868,_0x1a14fa){const _0x56667f=a0_0x3146da;let _0x275f0a=_0x4e4868[_0x56667f(0x340)];_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x340)]&&_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x340)][_0x56667f(0x69c)]()!==''&&(_0x275f0a=_0x1a14fa['uazapi'][_0x56667f(0x340)][_0x56667f(0x69c)]()),this[_0x56667f(0x6a2)][_0x56667f(0x19a)](this[_0x56667f(0x1ec)]+'\x20('+this['instance'][_0x56667f(0x419)]+_0x56667f(0x328));let _0x433e03=_0x4e4868[_0x56667f(0xf4)][_0x56667f(0x431)](_0x13e9de=>_0x13e9de[_0x56667f(0x3a4)]===_0x1a14fa[_0x56667f(0x60a)])[_0x56667f(0xcb)]((_0x35e0fa,_0x57008f)=>_0x35e0fa[_0x56667f(0x20a)]-_0x57008f[_0x56667f(0x20a)]);this[_0x56667f(0x55f)](_0x433e03,_0x4e4868[_0x56667f(0xdc)][_0x56667f(0x5ac)]);let _0xc10696=_0x433e03['map'](_0x5d5cd9=>_0x5d5cd9[_0x56667f(0x611)]),_0x2d2406={'number':_0x275f0a,'menuMessage':{'type':_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x382)]||_0x56667f(0x4c5),'text':_0x1a14fa[_0x56667f(0x416)]['text']||_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x51a)],'footerText':_0x1a14fa[_0x56667f(0x416)]['footerText'],'buttonText':_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x3b0)],'selectableCount':0x1,'choices':_0xc10696},'options':{'delay':_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x1d7)]}};try{let _0x37f1ea=await this['menuMessage'](_0x2d2406);if(_0x37f1ea){let _0x4f8cdc={'_id':_0x37f1ea[_0x56667f(0x415)]['id'],'_fromMe':_0x37f1ea[_0x56667f(0x415)]['fromMe'],'_remoteJid':_0x37f1ea[_0x56667f(0x415)]['remoteJid']};_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x47a)]===!0x0&&(_0x4e4868[_0x56667f(0x1d6)]=_0x56667f(0x3dd),this[_0x56667f(0x6a2)][_0x56667f(0x19a)](this[_0x56667f(0x1ec)]+'\x20('+this[_0x56667f(0x519)]['wuid']+_0x56667f(0x6a3)+_0x4e4868[_0x56667f(0x1d6)])),this['logger'][_0x56667f(0x19a)](this[_0x56667f(0x1ec)]+'\x20('+this[_0x56667f(0x519)][_0x56667f(0x419)]+_0x56667f(0x6ce)+(_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x51a)]||_0x1a14fa[_0x56667f(0x416)]['text'])),_0x4e4868[_0x56667f(0x1cd)]=_0x37f1ea['key']['id'],_0x4e4868[_0x56667f(0x1dc)]=_0x1a14fa['uazapi'][_0x56667f(0x51a)]||_0x1a14fa['uazapi']['text'],_0x4e4868[_0x56667f(0x62b)]=_0x433e03,_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x48c)]&&(_0x4e4868[_0x56667f(0x1f1)]=_0x1a14fa[_0x56667f(0x416)][_0x56667f(0x48c)]),this[_0x56667f(0x6a2)][_0x56667f(0x19a)](this[_0x56667f(0x1ec)]+'\x20('+this['instance'][_0x56667f(0x419)]+_0x56667f(0x241)+_0x4e4868['waitingMenu_text']),_0x4e4868[_0x56667f(0xdc)]['lastBlockId']=_0x1a14fa[_0x56667f(0x60a)][_0x56667f(0x63d)]();let {message_normalized:_0x29b0ef}=this['normalizeMessage'](_0x37f1ea[_0x56667f(0x25d)],$(_0x37f1ea[_0x56667f(0x25d)]),null);_0x4e4868[_0x56667f(0xdc)][_0x56667f(0x254)]=await _0x29b0ef;let _0x2b2b2b={'messageId':_0x37f1ea['key']['id']},_0x35835b=_0x4e4868[_0x56667f(0xdc)][_0x56667f(0x5ac)];Object[_0x56667f(0x2d3)](_0x35835b,_0x4f8cdc),_0x4e4868[_0x56667f(0xdc)]['realVariables']=_0x35835b,this[_0x56667f(0x570)](_0x4e4868,_0x1a14fa,_0x2b2b2b);}else{let _0x243ba={'error':!0x0};this[_0x56667f(0x570)](_0x4e4868,_0x1a14fa,_0x243ba),this[_0x56667f(0x6a2)][_0x56667f(0x451)](this[_0x56667f(0x1ec)]+'\x20('+this[_0x56667f(0x519)][_0x56667f(0x419)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x44df91){let _0x5b20e1={'error':!0x0,'errorLog':_0x44df91 instanceof Error?_0x44df91[_0x56667f(0x25d)]:JSON[_0x56667f(0x692)](_0x44df91,null,0x2)};this['updateConversation'](_0x4e4868,_0x1a14fa,_0x5b20e1),this[_0x56667f(0x6a2)]['error'](this[_0x56667f(0x1ec)]+'\x20('+this[_0x56667f(0x519)][_0x56667f(0x419)]+_0x56667f(0x2b0)+(_0x44df91 instanceof Error?_0x44df91['message']:JSON[_0x56667f(0x692)](_0x44df91,null,0x2)));}}async['uazapiDeleteMessage'](_0x321971,_0x286e2b){const _0x5c0aa7=a0_0x3146da;this['logger'][_0x5c0aa7(0x19a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5c0aa7(0x11e));let _0x201f34=_0x321971[_0x5c0aa7(0xdc)][_0x5c0aa7(0xff)][_0x5c0aa7(0x6a9)](_0x23b500=>_0x23b500[_0x5c0aa7(0x3a4)]['toString']()===_0x286e2b['uazapi'][_0x5c0aa7(0x3a4)]['toString']()),_0x4c4ab9={'id':_0x201f34['messageId'],'remoteJid':_0x201f34[_0x5c0aa7(0x340)],'fromMe':_0x201f34[_0x5c0aa7(0x1ef)]};try{let _0x408f82=await this[_0x5c0aa7(0x653)](_0x4c4ab9);if(_0x408f82){_0x321971[_0x5c0aa7(0xdc)][_0x5c0aa7(0x41d)]=_0x286e2b[_0x5c0aa7(0x60a)][_0x5c0aa7(0x63d)]();let {message_normalized:_0x3ce4a7}=this[_0x5c0aa7(0x643)](_0x408f82[_0x5c0aa7(0x25d)],$(_0x408f82[_0x5c0aa7(0x25d)]),null);_0x321971[_0x5c0aa7(0xdc)]['lastSendMessage']=await _0x3ce4a7;let _0x469c46={};this['updateConversation'](_0x321971,_0x286e2b,_0x469c46);}else{let _0x462303={'error':!0x0};this['updateConversation'](_0x321971,_0x286e2b,_0x462303),this[_0x5c0aa7(0x6a2)][_0x5c0aa7(0x451)](this['instanceName']+'\x20('+this[_0x5c0aa7(0x519)][_0x5c0aa7(0x419)]+_0x5c0aa7(0x555));}}catch(_0xf9da22){let _0x5b239f={'error':!0x0,'errorLog':_0xf9da22 instanceof Error?_0xf9da22[_0x5c0aa7(0x25d)]:JSON[_0x5c0aa7(0x692)](_0xf9da22,null,0x2)};this[_0x5c0aa7(0x570)](_0x321971,_0x286e2b,_0x5b239f),this[_0x5c0aa7(0x6a2)][_0x5c0aa7(0x451)](this[_0x5c0aa7(0x1ec)]+'\x20('+this[_0x5c0aa7(0x519)][_0x5c0aa7(0x419)]+_0x5c0aa7(0x670)+(_0xf9da22 instanceof Error?_0xf9da22[_0x5c0aa7(0x25d)]:JSON['stringify'](_0xf9da22,null,0x2)));}}async[a0_0x3146da(0x5e6)](_0x3037fb){const _0x5976fa=a0_0x3146da;try{if(this[_0x5976fa(0x6a2)][_0x5976fa(0x19a)](this[_0x5976fa(0x1ec)]+'\x20('+this[_0x5976fa(0x519)]['wuid']+_0x5976fa(0x370)),await this[_0x5976fa(0x1ad)][_0x5976fa(0x2b8)][_0x5976fa(0xee)]({'where':{'name':_0x3037fb[_0x5976fa(0x51a)]}},this[_0x5976fa(0x519)][_0x5976fa(0x419)]))return{'message':'Flow\x20already\x20exists'};_0x3037fb[_0x5976fa(0x5e3)]===!0x0&&await this[_0x5976fa(0x1ad)][_0x5976fa(0x2b8)][_0x5976fa(0x5c0)]({},{'default':!0x1},this[_0x5976fa(0x519)][_0x5976fa(0x419)]);let _0x55423c=new ie[(_0x5976fa(0x10b))][(_0x5976fa(0x5ec))](),_0x464833={'_id':_0x55423c,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x5ab145={'_id':new ie[(_0x5976fa(0x10b))][(_0x5976fa(0x5ec))](),'order':0x1,'groupId':_0x55423c[_0x5976fa(0x63d)](),'type':_0x5976fa(0x5a7)},_0x3e9645={'_id':new ie['Types'][(_0x5976fa(0x5ec))](),'owner':this[_0x5976fa(0x519)][_0x5976fa(0x419)],'name':_0x3037fb[_0x5976fa(0x51a)],'groups':[_0x464833],'blocks':[_0x5ab145],..._0x3037fb};return _0x3e9645=await this[_0x5976fa(0x1ad)][_0x5976fa(0x2b8)][_0x5976fa(0x433)](_0x3e9645,this[_0x5976fa(0x519)][_0x5976fa(0x419)]),_0x3e9645;}catch(_0x4a7131){throw this[_0x5976fa(0x6a2)]['error'](this['instanceName']+'\x20('+this[_0x5976fa(0x519)][_0x5976fa(0x419)]+_0x5976fa(0x26f)+(_0x4a7131 instanceof Error?_0x4a7131[_0x5976fa(0x25d)]:JSON[_0x5976fa(0x692)](_0x4a7131,null,0x2))),new m('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x4a7131);}}async[a0_0x3146da(0x21d)](_0x22c763){const _0x4513d1=a0_0x3146da;try{return this[_0x4513d1(0x6a2)][_0x4513d1(0x19a)](this[_0x4513d1(0x1ec)]+'\x20('+this[_0x4513d1(0x519)][_0x4513d1(0x419)]+_0x4513d1(0x268)),await this[_0x4513d1(0x1ad)][_0x4513d1(0x2b8)][_0x4513d1(0x518)]({'where':{'name':_0x22c763}},this[_0x4513d1(0x519)][_0x4513d1(0x419)]);}catch(_0x106abb){return this[_0x4513d1(0x6a2)][_0x4513d1(0x451)](this[_0x4513d1(0x1ec)]+'\x20('+this[_0x4513d1(0x519)][_0x4513d1(0x419)]+_0x4513d1(0x188)+(_0x106abb instanceof Error?_0x106abb[_0x4513d1(0x25d)]:JSON[_0x4513d1(0x692)](_0x106abb,null,0x2))),{'message':_0x4513d1(0x5d7)+_0x106abb};}}async['getFlow'](_0x42b1d8){const _0x183b5f=a0_0x3146da;try{this[_0x183b5f(0x6a2)][_0x183b5f(0x19a)](this[_0x183b5f(0x1ec)]+'\x20('+this[_0x183b5f(0x519)][_0x183b5f(0x419)]+'):\x20Buscando\x20flow...');let _0x57f928=await this[_0x183b5f(0x1ad)]['flow'][_0x183b5f(0xee)]({'where':{'name':_0x42b1d8}},this[_0x183b5f(0x519)][_0x183b5f(0x419)]);if(!_0x57f928)throw new Error(_0x183b5f(0x450));if(!this[_0x183b5f(0x15d)]&&(await this[_0x183b5f(0x67e)](),!this[_0x183b5f(0x15d)]))return null;let _0xa1b97b=this['AutomateSystem']?.[_0x183b5f(0x713)]['map'](_0x2c0063=>_0x2c0063[_0x183b5f(0x51a)]),_0x42ac28=[_0x183b5f(0x492),_0x183b5f(0x712),_0x183b5f(0x377),_0x183b5f(0x505),'status',_0x183b5f(0x483),_0x183b5f(0x6da),_0x183b5f(0x6c3),_0x183b5f(0x2ce)];_0x57f928[_0x183b5f(0x60f)]=_0x57f928[_0x183b5f(0x60f)]['filter'](_0x1bf407=>!(_0x1bf407[_0x183b5f(0x216)]===_0x183b5f(0x286)||_0x1bf407['leadInfo'])),_0x42ac28['forEach'](_0x25e979=>{const _0x26e1ba=_0x183b5f;_0x57f928['variables'][_0x26e1ba(0x621)]({'folder':_0x26e1ba(0x286),'name':_0x25e979,'value':'','doc':'','leadInfo':!0x0});}),_0xa1b97b[_0x183b5f(0x3d2)](_0x3526d6=>{const _0x56c381=_0x183b5f;let _0x3d0779=_0x57f928['variables']['findIndex'](_0x4dab3e=>_0x4dab3e['name']===_0x3526d6);_0x3d0779===-0x1?_0x57f928['variables'][_0x56c381(0x621)]({'folder':_0x56c381(0x286),'name':_0x3526d6,'value':'','doc':'','leadInfo':!0x0}):(_0x57f928[_0x56c381(0x60f)][_0x3d0779]['folder']=_0x56c381(0x286),_0x57f928[_0x56c381(0x60f)][_0x3d0779][_0x56c381(0x286)]=!0x0);}),_0x57f928[_0x183b5f(0x71d)]&&_0x57f928[_0x183b5f(0x71d)][_0x183b5f(0x148)]>0x0&&_0x57f928['blocks'][_0x183b5f(0x3d2)](_0x2791f5=>{const _0x5f4dc7=_0x183b5f;_0x2791f5[_0x5f4dc7(0x631)]&&_0x2791f5[_0x5f4dc7(0x14a)]&&_0x2791f5[_0x5f4dc7(0x631)]===_0x2791f5[_0x5f4dc7(0x14a)]&&(_0x2791f5[_0x5f4dc7(0x14a)]=null);});let _0x12e03b=await this['repository'][_0x183b5f(0x2b8)][_0x183b5f(0x2f8)](_0x57f928[_0x183b5f(0x60a)],_0x57f928,this[_0x183b5f(0x519)][_0x183b5f(0x419)]);if(!_0x12e03b)throw new Error(_0x183b5f(0x535));return _0x12e03b;}catch(_0x2a7663){throw this['logger'][_0x183b5f(0x451)](this[_0x183b5f(0x1ec)]+'\x20('+this[_0x183b5f(0x519)][_0x183b5f(0x419)]+_0x183b5f(0x6f0)+(_0x2a7663 instanceof Error?_0x2a7663[_0x183b5f(0x25d)]:JSON[_0x183b5f(0x692)](_0x2a7663,null,0x2))),new m(_0x183b5f(0x531)+_0x2a7663);}}async[a0_0x3146da(0x72f)](){const _0x471945=a0_0x3146da;try{return this['logger'][_0x471945(0x19a)](this[_0x471945(0x1ec)]+'\x20('+this[_0x471945(0x519)]['wuid']+_0x471945(0x662)),await this[_0x471945(0x1ad)][_0x471945(0x2b8)][_0x471945(0x383)]({'where':{}},this[_0x471945(0x519)][_0x471945(0x419)]);}catch(_0x5758f2){return this[_0x471945(0x6a2)][_0x471945(0x451)](this[_0x471945(0x1ec)]+'\x20('+this['instance'][_0x471945(0x419)]+_0x471945(0x408)+(_0x5758f2 instanceof Error?_0x5758f2[_0x471945(0x25d)]:JSON[_0x471945(0x692)](_0x5758f2,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x5758f2};}}async[a0_0x3146da(0x714)](_0x1da25d){const _0x726508=a0_0x3146da;try{this[_0x726508(0x6a2)][_0x726508(0x19a)](this[_0x726508(0x1ec)]+'\x20('+this[_0x726508(0x519)][_0x726508(0x419)]+_0x726508(0x13b));let _0x4f2046=await this[_0x726508(0x1ad)]['flow'][_0x726508(0xee)]({'where':{'name':_0x1da25d['name']}},this[_0x726508(0x519)]['wuid']);return _0x4f2046?(_0x1da25d[_0x726508(0x5e3)]===!0x0&&await this['repository'][_0x726508(0x2b8)][_0x726508(0x5c0)]({},{'default':!0x1},this['instance']['wuid']),await this[_0x726508(0x1ad)][_0x726508(0x2b8)][_0x726508(0x2f8)](_0x4f2046['_id'],_0x1da25d,this[_0x726508(0x519)][_0x726508(0x419)])):{'message':_0x726508(0x564)};}catch(_0x4b78c6){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x726508(0x519)]['wuid']+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x4b78c6 instanceof Error?_0x4b78c6['message']:JSON[_0x726508(0x692)](_0x4b78c6,null,0x2))),new m(_0x726508(0x401)+(_0x4b78c6 instanceof Error?_0x4b78c6[_0x726508(0x25d)]:JSON[_0x726508(0x692)](_0x4b78c6,null,0x2)));}}async[a0_0x3146da(0x718)](_0x3b51d9){const _0x1248cc=a0_0x3146da;try{this[_0x1248cc(0x6a2)]['verbose'](this[_0x1248cc(0x1ec)]+'\x20('+this[_0x1248cc(0x519)][_0x1248cc(0x419)]+_0x1248cc(0x1d0));let _0x5cee4d=await this[_0x1248cc(0x1ad)]['flow'][_0x1248cc(0xee)]({'where':{'name':_0x3b51d9['name']}},this['instance'][_0x1248cc(0x419)]);_0x5cee4d||this[_0x1248cc(0x58b)](_0x1248cc(0x450));let {block:_0x114f9a}=_0x3b51d9;_0x114f9a?.['copy']?this[_0x1248cc(0x55e)](_0x5cee4d,_0x3b51d9):_0x114f9a?.[_0x1248cc(0x6cf)]?this[_0x1248cc(0x206)](_0x5cee4d,_0x3b51d9):_0x114f9a[_0x1248cc(0x60a)]?await this[_0x1248cc(0x406)](_0x5cee4d,_0x3b51d9):this[_0x1248cc(0x3c5)](_0x5cee4d,_0x3b51d9);let _0x28e6dd=await this[_0x1248cc(0x1ad)]['flow'][_0x1248cc(0x2f8)](_0x5cee4d['_id'],_0x5cee4d,this[_0x1248cc(0x519)][_0x1248cc(0x419)]);if(!_0x28e6dd)throw new Error(_0x1248cc(0x535));return _0x28e6dd;}catch(_0x4822e1){this[_0x1248cc(0x58b)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x4822e1);}}async['copyBlock'](_0x1b5f11,_0x563b2d){const _0x242fc6=a0_0x3146da;let _0x1d15c0=_0x563b2d['block'][_0x242fc6(0x60a)],_0x1fdbca=_0x1b5f11[_0x242fc6(0x71d)][_0x242fc6(0x6a9)](_0x4bf2af=>_0x4bf2af['_id'][_0x242fc6(0x63d)]()===_0x1d15c0);if(!_0x1fdbca){this[_0x242fc6(0x6a2)]['error'](this[_0x242fc6(0x1ec)]+'\x20('+this[_0x242fc6(0x519)]['wuid']+_0x242fc6(0x4ec)+_0x1d15c0+_0x242fc6(0x2c5));return;}this['logger'][_0x242fc6(0x19a)](this[_0x242fc6(0x1ec)]+'\x20('+this[_0x242fc6(0x519)][_0x242fc6(0x419)]+_0x242fc6(0x437)+JSON[_0x242fc6(0x692)](_0x1fdbca));let _0x129cc9=JSON[_0x242fc6(0x64c)](JSON[_0x242fc6(0x692)](_0x1fdbca));_0x129cc9[_0x242fc6(0x60a)]=new ie[(_0x242fc6(0x5e3))][(_0x242fc6(0x10b))][(_0x242fc6(0x5ec))](),this[_0x242fc6(0x6a2)]['verbose'](this[_0x242fc6(0x1ec)]+'\x20('+this[_0x242fc6(0x519)]['wuid']+'):\x20Bloco\x20copiado:\x20'+JSON[_0x242fc6(0x692)](_0x129cc9)),_0x1b5f11['blocks'][_0x242fc6(0x621)](_0x129cc9),this[_0x242fc6(0x477)](_0x1b5f11[_0x242fc6(0x71d)],_0x129cc9['groupId']);}[a0_0x3146da(0x58b)](_0x2dafc7){const _0x4d494f=a0_0x3146da;throw this[_0x4d494f(0x6a2)]['error'](this[_0x4d494f(0x1ec)]+'\x20('+this['instance'][_0x4d494f(0x419)]+'):\x20'+_0x2dafc7),new m(_0x2dafc7);}[a0_0x3146da(0x206)](_0x18431f,_0xb5c71a){const _0x31090a=a0_0x3146da;let {block:_0x2807fb}=_0xb5c71a;if(_0x2807fb['type']===_0x31090a(0x5a7)){this[_0x31090a(0x58b)](_0x31090a(0x1fe));return;}if(!_0x2807fb[_0x31090a(0x60a)]){this[_0x31090a(0x58b)](_0x31090a(0x5ce));return;}let _0x11f64a=_0x18431f[_0x31090a(0x71d)]['find'](_0x14ed4d=>_0x14ed4d[_0x31090a(0x60a)][_0x31090a(0x63d)]()===_0xb5c71a[_0x31090a(0x1ca)]['_id'][_0x31090a(0x63d)]());if(!_0x11f64a){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x2807fb[_0x31090a(0x60a)]+_0x31090a(0x4c9));return;}_0x18431f[_0x31090a(0x71d)]=_0x18431f['blocks'][_0x31090a(0x431)](_0x3994cf=>_0x3994cf[_0x31090a(0x60a)][_0x31090a(0x63d)]()!==_0xb5c71a[_0x31090a(0x1ca)][_0x31090a(0x60a)][_0x31090a(0x63d)]()),_0x18431f['conditions']=_0x18431f[_0x31090a(0x600)][_0x31090a(0x431)](_0x2b1bd7=>_0x2b1bd7[_0x31090a(0x3a4)]!==_0x2807fb[_0x31090a(0x60a)]['toString']()),_0x18431f[_0x31090a(0x164)]=_0x18431f[_0x31090a(0x164)]['filter'](_0x787ecf=>_0x787ecf['blockId']!==_0x2807fb['_id'][_0x31090a(0x63d)]()),_0x18431f[_0x31090a(0xf4)]=_0x18431f[_0x31090a(0xf4)]['filter'](_0xc913e7=>_0xc913e7[_0x31090a(0x3a4)]!==_0x2807fb[_0x31090a(0x60a)][_0x31090a(0x63d)]()),this[_0x31090a(0x477)](_0x18431f[_0x31090a(0x71d)],_0x11f64a[_0x31090a(0x631)]);}async[a0_0x3146da(0x406)](_0x2b6f74,_0xcc4cf2){const _0x3b7f77=a0_0x3146da;let _0xee8765=_0x2b6f74[_0x3b7f77(0x71d)]['findIndex'](_0x3f61a4=>_0x3f61a4['_id'][_0x3b7f77(0x63d)]()===_0xcc4cf2[_0x3b7f77(0x1ca)][_0x3b7f77(0x60a)][_0x3b7f77(0x63d)]());if(this['logger']['verbose'](this[_0x3b7f77(0x1ec)]+'\x20('+this[_0x3b7f77(0x519)]['wuid']+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0xee8765),_0xee8765===-0x1){this[_0x3b7f77(0x6a2)][_0x3b7f77(0x19a)](_0x3b7f77(0x501)+_0xcc4cf2[_0x3b7f77(0x1ca)][_0x3b7f77(0x60a)]+_0x3b7f77(0x2fa));return;}if(_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x4b5)]===_0x3b7f77(0x5a7)){let _0x404deb=Object['keys'](_0xcc4cf2[_0x3b7f77(0x1ca)]);if(_0x404deb[_0x3b7f77(0x148)]>0x2||_0x404deb['length']===0x2&&!_0x404deb[_0x3b7f77(0x44a)]('next_groupId')){this[_0x3b7f77(0x58b)](_0x3b7f77(0x28e));return;}}let _0x16dbbd=_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x631)];for(let _0x41f058 in _0xcc4cf2[_0x3b7f77(0x1ca)])_0xcc4cf2['block'][_0x3b7f77(0x2d0)](_0x41f058)&&(_0x2b6f74['blocks'][_0xee8765][_0x41f058]=_0xcc4cf2[_0x3b7f77(0x1ca)][_0x41f058]);if(this[_0x3b7f77(0x6a2)]['verbose'](this[_0x3b7f77(0x1ec)]+'\x20('+this[_0x3b7f77(0x519)][_0x3b7f77(0x419)]+_0x3b7f77(0x1ed)+JSON[_0x3b7f77(0x692)](_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765])),_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x4d0)]&&'header'in _0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x4d0)]){this[_0x3b7f77(0x6a2)][_0x3b7f77(0x19a)](this[_0x3b7f77(0x1ec)]+'\x20('+this[_0x3b7f77(0x519)][_0x3b7f77(0x419)]+_0x3b7f77(0x319));let _0x4349d9=JSON[_0x3b7f77(0x692)](_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765]['apirequest'][_0x3b7f77(0x157)],null,0x1);_0x4349d9[_0x3b7f77(0x148)]>0x2&&(_0x4349d9=_0x4349d9[_0x3b7f77(0x318)](0x1,_0x4349d9[_0x3b7f77(0x148)]-0x1)[_0x3b7f77(0x69c)]()),_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x4d0)]['headerString']=_0x4349d9;}if(_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x4d0)]&&_0x3b7f77(0x15f)in _0x2b6f74['blocks'][_0xee8765][_0x3b7f77(0x4d0)]){this[_0x3b7f77(0x6a2)]['verbose'](this[_0x3b7f77(0x1ec)]+'\x20('+this[_0x3b7f77(0x519)][_0x3b7f77(0x419)]+_0x3b7f77(0x207));let _0x211bdb=JSON[_0x3b7f77(0x692)](_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x4d0)][_0x3b7f77(0x15f)],null,0x1);_0x211bdb[_0x3b7f77(0x148)]>0x2&&(_0x211bdb=_0x211bdb['substring'](0x1,_0x211bdb[_0x3b7f77(0x148)]-0x1)[_0x3b7f77(0x69c)]()),_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x4d0)][_0x3b7f77(0x3db)]=_0x211bdb;}let _0x159201=_0x2b6f74[_0x3b7f77(0x71d)][_0xee8765][_0x3b7f77(0x631)];_0x16dbbd!==_0x159201?(this[_0x3b7f77(0x477)](_0x2b6f74[_0x3b7f77(0x71d)],_0x16dbbd),this[_0x3b7f77(0x477)](_0x2b6f74[_0x3b7f77(0x71d)],_0x159201)):this[_0x3b7f77(0x477)](_0x2b6f74[_0x3b7f77(0x71d)],_0x16dbbd);}['addBlock'](_0x30f88c,_0x29ba8b){const _0x412af4=a0_0x3146da;if(_0x29ba8b[_0x412af4(0x1ca)]['type']===_0x412af4(0x5a7)){this[_0x412af4(0x58b)](_0x412af4(0x4f7));return;}if(_0x29ba8b['block'][_0x412af4(0x4d0)]&&_0x412af4(0x157)in _0x29ba8b['block']['apirequest']){this[_0x412af4(0x6a2)][_0x412af4(0x19a)](this[_0x412af4(0x1ec)]+'\x20('+this[_0x412af4(0x519)][_0x412af4(0x419)]+_0x412af4(0x319));let _0x9b3796=JSON[_0x412af4(0x692)](_0x29ba8b[_0x412af4(0x1ca)][_0x412af4(0x4d0)][_0x412af4(0x157)],null,0x1);_0x9b3796[_0x412af4(0x148)]>0x2&&(_0x9b3796=_0x9b3796[_0x412af4(0x318)](0x1,_0x9b3796[_0x412af4(0x148)]-0x1)[_0x412af4(0x69c)]()),_0x29ba8b[_0x412af4(0x1ca)][_0x412af4(0x4d0)]['headerString']=_0x9b3796;}_0x29ba8b[_0x412af4(0x1ca)][_0x412af4(0x4d0)]&&_0x412af4(0x15f)in _0x29ba8b['block']['apirequest']&&(this[_0x412af4(0x6a2)][_0x412af4(0x19a)](this[_0x412af4(0x1ec)]+'\x20('+this[_0x412af4(0x519)][_0x412af4(0x419)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x29ba8b['block'][_0x412af4(0x4d0)][_0x412af4(0x3db)]=JSON[_0x412af4(0x692)](_0x29ba8b['block']['apirequest'][_0x412af4(0x15f)],null,0x1)[_0x412af4(0x69c)]()),_0x30f88c[_0x412af4(0x71d)]['push'](_0x29ba8b[_0x412af4(0x1ca)]),this[_0x412af4(0x477)](_0x30f88c[_0x412af4(0x71d)],_0x29ba8b[_0x412af4(0x1ca)]['groupId']);}['reorderBlocks'](_0x280163,_0x6ab72d){const _0x1153ae=a0_0x3146da;let _0x1f84d4=_0x280163[_0x1153ae(0x431)](_0x4472f0=>_0x4472f0[_0x1153ae(0x631)]===_0x6ab72d);_0x1f84d4[_0x1153ae(0xcb)]((_0x54f0ca,_0x4f82d3)=>_0x54f0ca['order']-_0x4f82d3[_0x1153ae(0x20a)]),_0x1f84d4[_0x1153ae(0x3d2)]((_0x2a5115,_0x1e26e1)=>_0x2a5115['order']=_0x1e26e1+0x1);}async['editFlowReply'](_0x401306){const _0x526dfd=a0_0x3146da;try{if(this['logger'][_0x526dfd(0x19a)](this[_0x526dfd(0x1ec)]+'\x20('+this[_0x526dfd(0x519)][_0x526dfd(0x419)]+_0x526dfd(0xf7)),!_0x401306||!_0x401306[_0x526dfd(0x4fb)]){this[_0x526dfd(0x58b)](_0x526dfd(0x420));return;}let _0x325365=await this[_0x526dfd(0x1ad)][_0x526dfd(0x2b8)]['findOne']({'where':{'name':_0x401306['name']}},this[_0x526dfd(0x519)][_0x526dfd(0x419)]);_0x325365||this[_0x526dfd(0x58b)](_0x526dfd(0x450));let {replyOption:_0x4dbaba}=_0x401306;_0x4dbaba?.[_0x526dfd(0x6cf)]?(this['deleteReplyOption'](_0x325365,_0x401306),this[_0x526dfd(0x47c)](_0x325365[_0x526dfd(0xf4)],_0x401306[_0x526dfd(0x4fb)][_0x526dfd(0x3a4)])):_0x4dbaba[_0x526dfd(0x60a)]?(await this[_0x526dfd(0x167)](_0x325365,_0x401306),this['reorderReplyOptions'](_0x325365[_0x526dfd(0xf4)],_0x401306[_0x526dfd(0x4fb)][_0x526dfd(0x3a4)])):(this['addReplyOption'](_0x325365,_0x401306),this[_0x526dfd(0x47c)](_0x325365[_0x526dfd(0xf4)],_0x401306[_0x526dfd(0x4fb)][_0x526dfd(0x3a4)]));let _0x134889=await this[_0x526dfd(0x1ad)][_0x526dfd(0x2b8)][_0x526dfd(0x2f8)](_0x325365['_id'],_0x325365,this[_0x526dfd(0x519)][_0x526dfd(0x419)]);if(!_0x134889)throw new Error(_0x526dfd(0x535));return _0x134889;}catch(_0x41605d){this[_0x526dfd(0x58b)](_0x526dfd(0x54b)+_0x41605d);}}[a0_0x3146da(0x47c)](_0x43dbb3,_0x170147){const _0x21d8e9=a0_0x3146da;console[_0x21d8e9(0x5e0)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x170147),_0x43dbb3[_0x21d8e9(0x3d2)](_0x206b0d=>{const _0x58f680=_0x21d8e9;_0x206b0d[_0x58f680(0x3a4)]===_0x170147&&_0x206b0d[_0x58f680(0x20a)]===void 0x0&&(_0x206b0d[_0x58f680(0x20a)]=0x270f);});let _0x3968aa=_0x43dbb3[_0x21d8e9(0x431)](_0x16611a=>_0x16611a[_0x21d8e9(0x3a4)]===_0x170147);_0x3968aa[_0x21d8e9(0xcb)]((_0x398d34,_0x5e53db)=>_0x398d34[_0x21d8e9(0x20a)]-_0x5e53db['order']),_0x3968aa[_0x21d8e9(0x3d2)]((_0x49a339,_0xb563d6)=>{_0x49a339['order']=_0xb563d6+0x1;}),_0x43dbb3[_0x21d8e9(0x3d2)](_0x559cc3=>{const _0x4df1f1=_0x21d8e9;if(_0x559cc3['blockId']===_0x170147){let _0x45d5db=_0x3968aa[_0x4df1f1(0x6a9)](_0x22e5fc=>_0x22e5fc[_0x4df1f1(0x60a)]&&_0x559cc3[_0x4df1f1(0x60a)]&&_0x22e5fc[_0x4df1f1(0x60a)][_0x4df1f1(0x63d)]()===_0x559cc3['_id'][_0x4df1f1(0x63d)]());_0x45d5db&&(_0x559cc3[_0x4df1f1(0x20a)]=_0x45d5db[_0x4df1f1(0x20a)]);}}),console['log'](_0x21d8e9(0x421),_0x43dbb3);}[a0_0x3146da(0xd5)](_0x548c66,_0x2ad6ad){const _0x38304a=a0_0x3146da;let {replyOption:_0x3ea9d8}=_0x2ad6ad;if(!_0x3ea9d8[_0x38304a(0x60a)]){this['throwAndLogError'](_0x38304a(0x5ba));return;}if(!_0x548c66[_0x38304a(0xf4)][_0x38304a(0x6a9)](_0x107bb2=>_0x107bb2[_0x38304a(0x60a)][_0x38304a(0x63d)]()===_0x2ad6ad[_0x38304a(0x4fb)][_0x38304a(0x60a)][_0x38304a(0x63d)]())){this[_0x38304a(0x58b)](_0x38304a(0x722)+_0x3ea9d8['_id']+_0x38304a(0x4c9));return;}_0x548c66[_0x38304a(0xf4)]=_0x548c66[_0x38304a(0xf4)][_0x38304a(0x431)](_0x429d1a=>_0x429d1a['_id'][_0x38304a(0x63d)]()!==_0x2ad6ad[_0x38304a(0x4fb)]['_id'][_0x38304a(0x63d)]());}async[a0_0x3146da(0x167)](_0x2faac0,_0x18a676){const _0x132b06=a0_0x3146da;let _0x15a888=_0x2faac0[_0x132b06(0xf4)][_0x132b06(0x4f6)](_0x4879de=>_0x4879de[_0x132b06(0x60a)][_0x132b06(0x63d)]()===_0x18a676[_0x132b06(0x4fb)][_0x132b06(0x60a)][_0x132b06(0x63d)]());if(_0x15a888===-0x1){this['throwAndLogError'](_0x132b06(0x722)+_0x18a676[_0x132b06(0x4fb)][_0x132b06(0x60a)]+_0x132b06(0x2fa));return;}for(let _0x142c84 in _0x18a676[_0x132b06(0x4fb)])_0x18a676['replyOption']['hasOwnProperty'](_0x142c84)&&(_0x2faac0[_0x132b06(0xf4)][_0x15a888][_0x142c84]=_0x18a676[_0x132b06(0x4fb)][_0x142c84]);}['addReplyOption'](_0x5ac98e,_0x1e9137){const _0x2aa49d=a0_0x3146da;_0x5ac98e[_0x2aa49d(0xf4)][_0x2aa49d(0x621)](_0x1e9137[_0x2aa49d(0x4fb)]);}async[a0_0x3146da(0x703)](_0xcddbdc){const _0x46592e=a0_0x3146da;this['logger'][_0x46592e(0x19a)](this[_0x46592e(0x1ec)]+'\x20('+this[_0x46592e(0x519)]['wuid']+_0x46592e(0x61a)+_0xcddbdc);try{this[_0x46592e(0x6a2)][_0x46592e(0x19a)](this['instanceName']+'\x20('+this[_0x46592e(0x519)][_0x46592e(0x419)]+_0x46592e(0x1a9));let _0x5b2448=await this[_0x46592e(0x1ad)][_0x46592e(0x2b8)]['findOne']({'where':{'name':_0xcddbdc[_0x46592e(0x51a)]}},this[_0x46592e(0x519)][_0x46592e(0x419)]);if(!_0x5b2448)throw new Error(_0x46592e(0x450));if(_0xcddbdc[_0x46592e(0xe1)]&&_0xcddbdc['group']?.[_0x46592e(0x6cf)]===!0x0){if(this[_0x46592e(0x6a2)]['verbose'](this[_0x46592e(0x1ec)]+'\x20('+this[_0x46592e(0x519)]['wuid']+_0x46592e(0x436)),_0xcddbdc[_0x46592e(0xe1)][_0x46592e(0x5e3)]===!0x0)return{'message':_0x46592e(0x5d0)};if(_0x5b2448[_0x46592e(0x71d)][_0x46592e(0x4ee)](_0x28aa4c=>_0x28aa4c[_0x46592e(0x631)]['toString']()===_0xcddbdc[_0x46592e(0xe1)][_0x46592e(0x60a)]))return this[_0x46592e(0x6a2)][_0x46592e(0x19a)](this[_0x46592e(0x1ec)]+'\x20('+this[_0x46592e(0x519)][_0x46592e(0x419)]+'):\x20tem\x20blocks'),{'message':_0x46592e(0x1fd)};_0x5b2448[_0x46592e(0x358)]=_0x5b2448[_0x46592e(0x358)]['filter'](_0x572026=>_0x572026[_0x46592e(0x60a)][_0x46592e(0x63d)]()!==_0xcddbdc[_0x46592e(0xe1)]['_id']);}else{if(_0xcddbdc[_0x46592e(0xe1)]){if(_0xcddbdc[_0x46592e(0xe1)][_0x46592e(0x5e3)]===!0x0)return{'message':_0x46592e(0x3e7)};if(_0xcddbdc[_0x46592e(0xe1)][_0x46592e(0x60a)]){let _0x1a6d79=_0x5b2448[_0x46592e(0x358)]['find'](_0x50ef29=>_0x50ef29[_0x46592e(0x60a)]['toString']()===_0xcddbdc[_0x46592e(0xe1)][_0x46592e(0x60a)]);_0x1a6d79&&(_0xcddbdc[_0x46592e(0xe1)]['x']<0x0&&(_0xcddbdc[_0x46592e(0xe1)]['x']=0x0),_0xcddbdc[_0x46592e(0xe1)]['y']<0x0&&(_0xcddbdc[_0x46592e(0xe1)]['y']=0x0),Object['assign'](_0x1a6d79,_0xcddbdc[_0x46592e(0xe1)]));}else _0x5b2448[_0x46592e(0x358)]['push'](_0xcddbdc[_0x46592e(0xe1)]);}}let _0x209e01=await this['repository'][_0x46592e(0x2b8)]['updateOne'](_0x5b2448[_0x46592e(0x60a)],_0x5b2448,this[_0x46592e(0x519)][_0x46592e(0x419)]);if(!_0x209e01)throw new Error(_0x46592e(0x535));return _0x209e01;}catch(_0x48e149){throw this[_0x46592e(0x6a2)][_0x46592e(0x451)](this[_0x46592e(0x1ec)]+'\x20('+this['instance'][_0x46592e(0x419)]+_0x46592e(0x649)+(_0x48e149 instanceof Error?_0x48e149[_0x46592e(0x25d)]:JSON[_0x46592e(0x692)](_0x48e149,null,0x2))),new m(_0x46592e(0x5a2)+(_0x48e149 instanceof Error?_0x48e149[_0x46592e(0x25d)]:JSON[_0x46592e(0x692)](_0x48e149,null,0x2)));}}async[a0_0x3146da(0xe9)](_0x2a9b2c){const _0x448e0b=a0_0x3146da;try{this[_0x448e0b(0x6a2)][_0x448e0b(0x19a)](this[_0x448e0b(0x1ec)]+'\x20('+this[_0x448e0b(0x519)][_0x448e0b(0x419)]+_0x448e0b(0xfe));let _0x108ccb=await this['repository'][_0x448e0b(0x2b8)][_0x448e0b(0xee)]({'where':{'name':_0x2a9b2c[_0x448e0b(0x51a)]}},this[_0x448e0b(0x519)][_0x448e0b(0x419)]);if(!_0x108ccb)throw new Error(_0x448e0b(0x450));let _0x164a7e=!0x1;if(_0x2a9b2c[_0x448e0b(0x720)]?.[_0x448e0b(0x6cf)]===!0x0)_0x108ccb[_0x448e0b(0x600)]=_0x108ccb[_0x448e0b(0x600)][_0x448e0b(0x431)](_0xcfa1b0=>_0xcfa1b0&&_0x2a9b2c['condition']&&_0xcfa1b0[_0x448e0b(0x60a)]&&_0x2a9b2c[_0x448e0b(0x720)][_0x448e0b(0x60a)]&&_0xcfa1b0[_0x448e0b(0x60a)]['toString']()!==_0x2a9b2c['condition'][_0x448e0b(0x60a)][_0x448e0b(0x63d)]()),_0x164a7e=!0x0;else{let _0x3a502c=_0x108ccb[_0x448e0b(0x600)][_0x448e0b(0x6a9)](_0x3285d6=>_0x3285d6&&_0x2a9b2c[_0x448e0b(0x720)]&&_0x3285d6[_0x448e0b(0x60a)]&&_0x2a9b2c[_0x448e0b(0x720)]['_id']&&_0x3285d6[_0x448e0b(0x60a)]['toString']()===_0x2a9b2c[_0x448e0b(0x720)][_0x448e0b(0x60a)][_0x448e0b(0x63d)]());_0x3a502c?(_0x164a7e=_0x3a502c[_0x448e0b(0x20a)]!==_0x2a9b2c[_0x448e0b(0x720)][_0x448e0b(0x20a)],Object[_0x448e0b(0x2d3)](_0x3a502c,_0x2a9b2c[_0x448e0b(0x720)])):(_0x108ccb[_0x448e0b(0x600)][_0x448e0b(0x621)](_0x2a9b2c[_0x448e0b(0x720)]),_0x164a7e=!0x0);}if(_0x164a7e){_0x108ccb[_0x448e0b(0x600)][_0x448e0b(0xcb)]((_0x38923a,_0x243b26)=>_0x38923a[_0x448e0b(0x20a)]>_0x243b26[_0x448e0b(0x20a)]?0x1:_0x243b26[_0x448e0b(0x20a)]>_0x38923a[_0x448e0b(0x20a)]?-0x1:0x0);for(let _0x49fc86=0x0;_0x49fc86<_0x108ccb['conditions']['length'];_0x49fc86++)_0x108ccb[_0x448e0b(0x600)][_0x49fc86][_0x448e0b(0x20a)]=_0x49fc86+0x1;_0x108ccb[_0x448e0b(0x600)][_0x448e0b(0x148)]>0x0&&(_0x108ccb[_0x448e0b(0x600)][0x0][_0x448e0b(0x59c)]=_0x448e0b(0x6eb));}let _0x1249bb=await this[_0x448e0b(0x1ad)][_0x448e0b(0x2b8)]['updateOne'](_0x108ccb[_0x448e0b(0x60a)],_0x108ccb,this[_0x448e0b(0x519)]['wuid']);if(!_0x1249bb)throw new Error(_0x448e0b(0x535));return _0x1249bb;}catch(_0x42ce54){throw this['logger'][_0x448e0b(0x451)](this[_0x448e0b(0x1ec)]+'\x20('+this[_0x448e0b(0x519)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x42ce54 instanceof Error?_0x42ce54[_0x448e0b(0x25d)]:JSON['stringify'](_0x42ce54,null,0x2))),new Error(_0x448e0b(0x6ff)+(_0x42ce54 instanceof Error?_0x42ce54[_0x448e0b(0x25d)]:JSON[_0x448e0b(0x692)](_0x42ce54,null,0x2)));}}async['editFlowVaredit'](_0x33e37e){const _0x1f2f01=a0_0x3146da;try{this['logger'][_0x1f2f01(0x19a)](this[_0x1f2f01(0x1ec)]+'\x20('+this[_0x1f2f01(0x519)][_0x1f2f01(0x419)]+_0x1f2f01(0x12a));let _0x25f989=await this[_0x1f2f01(0x1ad)][_0x1f2f01(0x2b8)][_0x1f2f01(0xee)]({'where':{'name':_0x33e37e[_0x1f2f01(0x51a)]}},this[_0x1f2f01(0x519)]['wuid']);if(!_0x25f989)throw new Error(_0x1f2f01(0x450));let _0x444b00=!0x1;if(_0x33e37e[_0x1f2f01(0x454)]?.[_0x1f2f01(0x6cf)]===!0x0)_0x25f989[_0x1f2f01(0x164)]=_0x25f989[_0x1f2f01(0x164)][_0x1f2f01(0x431)](_0x5aa367=>_0x5aa367&&_0x33e37e['varedit']&&_0x5aa367[_0x1f2f01(0x60a)]&&_0x33e37e[_0x1f2f01(0x454)][_0x1f2f01(0x60a)]&&_0x5aa367['_id'][_0x1f2f01(0x63d)]()!==_0x33e37e[_0x1f2f01(0x454)][_0x1f2f01(0x60a)][_0x1f2f01(0x63d)]()),_0x444b00=!0x0;else{let _0x1880f0=_0x25f989[_0x1f2f01(0x164)]['find'](_0x53e700=>_0x53e700&&_0x33e37e[_0x1f2f01(0x454)]&&_0x53e700[_0x1f2f01(0x60a)]&&_0x33e37e[_0x1f2f01(0x454)][_0x1f2f01(0x60a)]&&_0x53e700[_0x1f2f01(0x60a)][_0x1f2f01(0x63d)]()===_0x33e37e[_0x1f2f01(0x454)][_0x1f2f01(0x60a)][_0x1f2f01(0x63d)]());_0x1880f0?(_0x444b00=_0x1880f0[_0x1f2f01(0x20a)]!==_0x33e37e['varedit'][_0x1f2f01(0x20a)],Object[_0x1f2f01(0x2d3)](_0x1880f0,_0x33e37e['varedit'])):(_0x25f989[_0x1f2f01(0x164)][_0x1f2f01(0x621)](_0x33e37e[_0x1f2f01(0x454)]),_0x444b00=!0x0);}if(_0x444b00){_0x25f989[_0x1f2f01(0x164)][_0x1f2f01(0xcb)]((_0x2c1798,_0x12f8b9)=>_0x2c1798[_0x1f2f01(0x20a)]>_0x12f8b9[_0x1f2f01(0x20a)]?0x1:_0x12f8b9[_0x1f2f01(0x20a)]>_0x2c1798['order']?-0x1:0x0);for(let _0x4ad21b=0x0;_0x4ad21b<_0x25f989['varedits'][_0x1f2f01(0x148)];_0x4ad21b++)_0x25f989[_0x1f2f01(0x164)][_0x4ad21b][_0x1f2f01(0x20a)]=_0x4ad21b+0x1;}let _0xf5a650=await this[_0x1f2f01(0x1ad)][_0x1f2f01(0x2b8)][_0x1f2f01(0x2f8)](_0x25f989[_0x1f2f01(0x60a)],_0x25f989,this['instance'][_0x1f2f01(0x419)]);if(!_0xf5a650)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xf5a650;}catch(_0x1d5ec9){throw this[_0x1f2f01(0x6a2)][_0x1f2f01(0x451)](this[_0x1f2f01(0x1ec)]+'\x20('+this[_0x1f2f01(0x519)][_0x1f2f01(0x419)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1d5ec9 instanceof Error?_0x1d5ec9['message']:JSON['stringify'](_0x1d5ec9,null,0x2))),new m('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1d5ec9 instanceof Error?_0x1d5ec9[_0x1f2f01(0x25d)]:JSON[_0x1f2f01(0x692)](_0x1d5ec9,null,0x2)));}}async[a0_0x3146da(0x65e)](_0x26b312){const _0x3f95d4=a0_0x3146da;try{this[_0x3f95d4(0x6a2)][_0x3f95d4(0x19a)](this[_0x3f95d4(0x1ec)]+'\x20('+this[_0x3f95d4(0x519)][_0x3f95d4(0x419)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x54a25c=await this[_0x3f95d4(0x1ad)][_0x3f95d4(0x2b8)][_0x3f95d4(0xee)]({'where':{'name':_0x26b312['name']}},this['instance']['wuid']);if(!_0x54a25c)throw new Error(_0x3f95d4(0x450));_0x26b312['variable'][_0x3f95d4(0x51a)]=_0x26b312['variable'][_0x3f95d4(0x51a)][_0x3f95d4(0x69c)](),_0x26b312['variable'][_0x3f95d4(0x51a)][_0x3f95d4(0x108)]('_')&&(_0x26b312[_0x3f95d4(0x5ea)]['name']=_0x26b312[_0x3f95d4(0x5ea)][_0x3f95d4(0x51a)][_0x3f95d4(0x318)](0x1)),_0x26b312[_0x3f95d4(0x5ea)][_0x3f95d4(0x51a)]=_0x26b312[_0x3f95d4(0x5ea)][_0x3f95d4(0x51a)][_0x3f95d4(0x69c)]();let _0x281f5e=_0x54a25c[_0x3f95d4(0x60f)]['find'](_0x3ad36d=>_0x3ad36d[_0x3f95d4(0x51a)]===_0x26b312['variable'][_0x3f95d4(0x51a)]);if(_0x281f5e?.[_0x3f95d4(0x286)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x26b312[_0x3f95d4(0x5ea)]?.[_0x3f95d4(0x6cf)]===!0x0){if(!_0x281f5e)return{'message':_0x3f95d4(0x205)};_0x54a25c['variables']=_0x54a25c['variables'][_0x3f95d4(0x431)](_0x3ac575=>_0x3ac575[_0x3f95d4(0x51a)]!==_0x26b312[_0x3f95d4(0x5ea)]['name']);}else _0x281f5e?Object['assign'](_0x281f5e,_0x26b312[_0x3f95d4(0x5ea)]):_0x54a25c[_0x3f95d4(0x60f)]['push'](_0x26b312[_0x3f95d4(0x5ea)]);let _0x148b1b=await this[_0x3f95d4(0x1ad)][_0x3f95d4(0x2b8)][_0x3f95d4(0x2f8)](_0x54a25c[_0x3f95d4(0x60a)],_0x54a25c,this['instance'][_0x3f95d4(0x419)]);if(!_0x148b1b)throw new Error(_0x3f95d4(0x535));return _0x148b1b;}catch(_0x228813){throw this[_0x3f95d4(0x6a2)][_0x3f95d4(0x451)](this['instanceName']+'\x20('+this[_0x3f95d4(0x519)][_0x3f95d4(0x419)]+_0x3f95d4(0x5fd)+(_0x228813 instanceof Error?_0x228813['message']:JSON[_0x3f95d4(0x692)](_0x228813,null,0x2))),new m('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x228813 instanceof Error?_0x228813[_0x3f95d4(0x25d)]:JSON['stringify'](_0x228813,null,0x2)));}}async[a0_0x3146da(0xdd)](_0x35ba7f){const _0x466d8b=a0_0x3146da;let _0x655fb=null;try{if(!this[_0x466d8b(0x15d)]?.[_0x466d8b(0x357)]['enabled'])throw new m(_0x466d8b(0x430));this[_0x466d8b(0x6a2)][_0x466d8b(0x19a)](this[_0x466d8b(0x1ec)]+'\x20('+this[_0x466d8b(0x519)][_0x466d8b(0x419)]+_0x466d8b(0x132));let _0x613d31=(await this[_0x466d8b(0x30d)]({'numbers':[_0x35ba7f['remoteJid']]}))[0x0];if(!_0x613d31['exists']&&!(0x0,y['isJidGroup'])(_0x613d31[_0x466d8b(0x403)])&&!_0x613d31[_0x466d8b(0x403)][_0x466d8b(0x44a)](_0x466d8b(0x53a)))throw _0x655fb=JSON[_0x466d8b(0x692)](_0x613d31,null,0x2),new m(_0x613d31);let _0x5af717=await this[_0x466d8b(0x1ad)][_0x466d8b(0x2b8)]['findOne']({'where':{'name':_0x35ba7f['name']}},this['instance'][_0x466d8b(0x419)]);if(!_0x5af717)return this[_0x466d8b(0x6a2)][_0x466d8b(0x451)](this['instanceName']+'\x20('+this[_0x466d8b(0x519)][_0x466d8b(0x419)]+_0x466d8b(0x28d)),{'message':'Flow\x20não\x20encontrado'};let _0x27735c=await this['createConversationforStartFlow'](_0x5af717,_0x613d31[_0x466d8b(0x403)],_0x35ba7f[_0x466d8b(0x579)]);if(_0x27735c){this[_0x466d8b(0x6a2)]['verbose'](this['instanceName']+'\x20('+this[_0x466d8b(0x519)][_0x466d8b(0x419)]+_0x466d8b(0x38c));let _0x534191=await this[_0x466d8b(0x324)](_0x27735c);return _0x534191&&await this['processblock'](_0x27735c,_0x534191),{'message':_0x466d8b(0x174)+_0x35ba7f[_0x466d8b(0x340)]};}}catch(_0x26496c){if(this[_0x466d8b(0x6a2)][_0x466d8b(0x451)](this[_0x466d8b(0x1ec)]+'\x20('+this['instance'][_0x466d8b(0x419)]+_0x466d8b(0x103)+(_0x26496c instanceof Error?_0x26496c[_0x466d8b(0x25d)]:JSON['stringify'](_0x26496c,null,0x2))),_0x655fb=_0x26496c instanceof Error?_0x26496c[_0x466d8b(0x25d)]:JSON['stringify'](_0x26496c,null,0x2),_0x655fb)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x655fb);}}async['closeExistingConversations'](_0x1f905c){const _0x3641c6=a0_0x3146da;try{let _0x4006d1={'remoteJid':_0x1f905c,'status':'open'},_0x217b96={'status':_0x3641c6(0x1b9)},_0xbf27ef=await this['repository'][_0x3641c6(0x618)]['updateMany'](_0x4006d1,_0x217b96,this[_0x3641c6(0x519)][_0x3641c6(0x419)]);return this[_0x3641c6(0x6a2)]['verbose'](this['instanceName']+'\x20('+this[_0x3641c6(0x519)][_0x3641c6(0x419)]+_0x3641c6(0x5c3)),_0xbf27ef;}catch(_0x2d913f){throw this[_0x3641c6(0x6a2)][_0x3641c6(0x451)](this['instanceName']+'\x20('+this['instance'][_0x3641c6(0x419)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x2d913f[_0x3641c6(0x25d)]),_0x2d913f;}}async[a0_0x3146da(0x565)](_0x235e28,_0x27aeea,_0x4dd475){const _0x1ae87d=a0_0x3146da;this['logger']['verbose'](this[_0x1ae87d(0x1ec)]+'\x20('+this[_0x1ae87d(0x519)][_0x1ae87d(0x419)]+_0x1ae87d(0x33f)),await this[_0x1ae87d(0x668)](_0x27aeea);try{let _0xb0d462=require(_0x1ae87d(0x4e5))['ObjectId'],_0x3aa73e=Date[_0x1ae87d(0x257)](),_0x150d1b=_0x1ae87d(0x5a7),_0x5c9990={},_0xa44a7b={},_0x116ac8={..._0x235e28,'chatLog':null},_0x4c2835=await this[_0x1ae87d(0x544)](_0x116ac8[_0x1ae87d(0x60f)]),_0x77f262=await this[_0x1ae87d(0x30c)](_0x27aeea),_0x3e439d={..._0x4c2835,..._0x77f262,'_remoteJid':_0x27aeea},_0x438e61={'lastReceivedMessage':_0x5c9990,'lastSendMessage':_0xa44a7b,'lastBlockId':_0x150d1b,'lastCondition':!0x0,'realVariables':_0x3e439d};_0x116ac8[_0x1ae87d(0xdc)]=_0x438e61,_0x116ac8['chatLog'][_0x1ae87d(0x5ac)]={..._0x3e439d,..._0x4dd475},delete _0x116ac8[_0x1ae87d(0x60a)],_0x116ac8['_id']=new _0xb0d462(),_0x116ac8[_0x1ae87d(0x45c)]=_0x3aa73e,_0x116ac8[_0x1ae87d(0x1d6)]=_0x1ae87d(0x4fa),_0x116ac8['remoteJid']=_0x27aeea;let _0x1fa9e2=await this[_0x1ae87d(0x1ad)][_0x1ae87d(0x618)][_0x1ae87d(0x2f8)](_0x116ac8['_id'],_0x116ac8,this[_0x1ae87d(0x519)][_0x1ae87d(0x419)]);return this['logger'][_0x1ae87d(0x19a)](this[_0x1ae87d(0x1ec)]+'\x20('+this[_0x1ae87d(0x519)][_0x1ae87d(0x419)]+_0x1ae87d(0x648)),_0x1fa9e2?_0x116ac8:null;}catch(_0x3ca69e){throw this[_0x1ae87d(0x6a2)][_0x1ae87d(0x451)](this[_0x1ae87d(0x1ec)]+'\x20('+this['instance'][_0x1ae87d(0x419)]+_0x1ae87d(0x2c3)+(_0x3ca69e instanceof Error?_0x3ca69e[_0x1ae87d(0x25d)]:JSON[_0x1ae87d(0x692)](_0x3ca69e,null,0x2))),new m(_0x3ca69e['message']);}}async[a0_0x3146da(0x299)](_0x3f0b8b){const _0x771f3a=a0_0x3146da;try{this[_0x771f3a(0x6a2)][_0x771f3a(0x19a)](this[_0x771f3a(0x1ec)]+'\x20('+this[_0x771f3a(0x519)][_0x771f3a(0x419)]+_0x771f3a(0x1fc)),this[_0x771f3a(0x6a2)][_0x771f3a(0x19a)](this['instanceName']+'\x20('+this[_0x771f3a(0x519)][_0x771f3a(0x419)]+'):\x20Query\x20params:\x20'+_0x3f0b8b);let _0x3ac10d={'where':{'_id':_0x3f0b8b}};return await this[_0x771f3a(0x1ad)][_0x771f3a(0x618)]['findOne'](_0x3ac10d,this[_0x771f3a(0x519)][_0x771f3a(0x419)]);}catch(_0x40cf36){throw this[_0x771f3a(0x6a2)]['error'](this['instanceName']+'\x20('+this[_0x771f3a(0x519)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x40cf36 instanceof Error?_0x40cf36['message']:JSON[_0x771f3a(0x692)](_0x40cf36,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x40cf36[_0x771f3a(0x25d)]);}}async['fetchConversation'](_0x413127){const _0x3c3fe3=a0_0x3146da;try{return this[_0x3c3fe3(0x6a2)]['verbose'](this['instanceName']+'\x20('+this[_0x3c3fe3(0x519)][_0x3c3fe3(0x419)]+_0x3c3fe3(0x371)),await this['repository']['flowConversation'][_0x3c3fe3(0x6a9)](_0x413127,this[_0x3c3fe3(0x519)][_0x3c3fe3(0x419)]);}catch(_0x1f3e41){throw this[_0x3c3fe3(0x6a2)]['error'](this[_0x3c3fe3(0x1ec)]+'\x20('+this[_0x3c3fe3(0x519)][_0x3c3fe3(0x419)]+_0x3c3fe3(0x1e8)+(_0x1f3e41 instanceof Error?_0x1f3e41[_0x3c3fe3(0x25d)]:JSON[_0x3c3fe3(0x692)](_0x1f3e41,null,0x2))),new m(_0x3c3fe3(0x116)+_0x1f3e41[_0x3c3fe3(0x25d)]);}}async[a0_0x3146da(0x520)](_0x299a6f){const _0x472c63=a0_0x3146da;try{return this[_0x472c63(0x6a2)][_0x472c63(0x19a)](this[_0x472c63(0x1ec)]+'\x20('+this[_0x472c63(0x519)][_0x472c63(0x419)]+_0x472c63(0x71e)),this[_0x472c63(0x6a2)]['verbose'](this[_0x472c63(0x1ec)]+'\x20('+this['instance'][_0x472c63(0x419)]+_0x472c63(0x6d4)+_0x299a6f),(await this[_0x472c63(0x1ad)][_0x472c63(0x618)][_0x472c63(0x518)]({'where':{'_id':_0x299a6f}},this[_0x472c63(0x519)]['wuid']))[_0x472c63(0x1a6)]===0x0?{'message':_0x472c63(0x4f0)}:{'message':_0x472c63(0x22d)};}catch(_0x577463){throw this[_0x472c63(0x6a2)]['error'](this['instanceName']+'\x20('+this['instance'][_0x472c63(0x419)]+_0x472c63(0x219)+(_0x577463 instanceof Error?_0x577463[_0x472c63(0x25d)]:JSON['stringify'](_0x577463,null,0x2))),new m(_0x472c63(0x2ac)+_0x577463[_0x472c63(0x25d)]);}}async[a0_0x3146da(0x6ee)](_0x655a42){const _0x3e7a5b=a0_0x3146da;try{let {_id:_0x5c87bb,chatLog:_0x19b382,status:_0x4b87f4}=_0x655a42;if(!_0x5c87bb)return{'message':_0x3e7a5b(0x1e6)};let _0x510314={};if(_0x4b87f4!==void 0x0&&(_0x510314['status']=_0x4b87f4),Object[_0x3e7a5b(0x476)](_0x510314)[_0x3e7a5b(0x148)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x4151be=await this[_0x3e7a5b(0x1ad)][_0x3e7a5b(0x618)][_0x3e7a5b(0x2f8)](_0x5c87bb,_0x510314,this['instance']['wuid']);return _0x4151be||{'message':_0x3e7a5b(0x2db)};}catch(_0x59d91a){throw this[_0x3e7a5b(0x6a2)][_0x3e7a5b(0x451)](this['instanceName']+'\x20('+this[_0x3e7a5b(0x519)][_0x3e7a5b(0x419)]+_0x3e7a5b(0x5a5)+(_0x59d91a instanceof Error?_0x59d91a[_0x3e7a5b(0x25d)]:JSON['stringify'](_0x59d91a,null,0x2))),new m(_0x3e7a5b(0x32a)+_0x59d91a[_0x3e7a5b(0x25d)]);}}async['editChat'](_0x3310ae){const _0x199074=a0_0x3146da;let _0x4e3afe=await this[_0x199074(0x1ad)]['chat'][_0x199074(0xee)]({'where':{'_id':_0x3310ae[_0x199074(0x60a)]}},this[_0x199074(0x519)]['wuid']);if(!_0x4e3afe)throw new m(_0x199074(0x3f7));console[_0x199074(0x5e0)](_0x3310ae);try{_0x3310ae[_0x199074(0x60a)]=this[_0x199074(0x47d)](_0x3310ae[_0x199074(0x60a)]);let {_id:_0x308301,leadInfo:_0x205aa6}=_0x3310ae;if(!_0x308301)throw new Error(_0x199074(0x2df));let _0x54003a=(_0x560b81,_0x321871,_0x1d0b6a)=>{const _0x5b5c64=_0x199074;_0x560b81&&_0x1d0b6a[_0x5b5c64(0x3d2)](_0x2a413d=>{const _0x423466=_0x5b5c64;_0x560b81[_0x2a413d]!==void 0x0&&(_0x321871[_0x423466(0x6e2)+_0x2a413d]=_0x560b81[_0x2a413d]);});},_0x2f6f21={};if(_0x205aa6&&(_0x54003a(_0x205aa6,_0x2f6f21,[_0x199074(0x492),_0x199074(0x712),'email','cpf',_0x199074(0x1d6),_0x199074(0x483),_0x199074(0x6c3),_0x199074(0x32e),_0x199074(0x6da),_0x199074(0x2ce)]),Array['isArray'](_0x205aa6['customFields'])&&(_0x2f6f21[_0x199074(0x28c)]=_0x205aa6[_0x199074(0x713)]['map'](_0x77f224=>({'_id':_0x77f224['_id'],'value':_0x77f224['value']}))),_0x3310ae[_0x199074(0x286)][_0x199074(0x2ce)]!==void 0x0)){let _0x58a185=await this['repository']['label'][_0x199074(0x6a9)]({'where':{}},this['instance'][_0x199074(0x419)]),_0x25b399=new Set(_0x3310ae[_0x199074(0x286)][_0x199074(0x2ce)]||[]),_0x4fdd56=new Set(_0x3310ae[_0x199074(0x286)][_0x199074(0x2ce)]),_0x3e26be=new Set(_0x58a185['map'](_0x33ddc7=>_0x33ddc7[_0x199074(0x60a)])),_0x3a2248=[..._0x4fdd56]['filter'](_0x4ec108=>!_0x25b399[_0x199074(0x725)](_0x4ec108)&&_0x3e26be[_0x199074(0x725)](_0x4ec108)),_0x38146d=[..._0x25b399][_0x199074(0x431)](_0x2f6a6e=>!_0x4fdd56[_0x199074(0x725)](_0x2f6a6e));if(_0x2f6f21[_0x199074(0x1d1)]=[..._0x25b399],_0x4e3afe&&!_0x4e3afe[_0x199074(0x4c2)]){for(let _0x5f0d2b of _0x3a2248)await this[_0x199074(0x682)](_0x5f0d2b,_0x3310ae[_0x199074(0x60a)]),_0x25b399[_0x199074(0x54d)](_0x5f0d2b);for(let _0x2a43a4 of _0x38146d)await this[_0x199074(0x41f)](_0x2a43a4,_0x3310ae[_0x199074(0x60a)]),_0x25b399[_0x199074(0x6cf)](_0x2a43a4);}}if(_0x3310ae['unreadcount']!==void 0x0&&(_0x2f6f21[_0x199074(0x70f)]=Number(_0x3310ae['unreadcount'])),Object['keys'](_0x2f6f21)[_0x199074(0x148)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x5ef0ef=await this['repository'][_0x199074(0x11c)]['updateOne']({'where':{'_id':_0x3310ae[_0x199074(0x60a)]}},_0x2f6f21,this[_0x199074(0x519)]['wuid']);return _0x5ef0ef&&J(this[_0x199074(0x1ec)],_0x199074(0xbe),{'chat':_0x5ef0ef}),_0x5ef0ef?(this['logger'][_0x199074(0x19a)](this[_0x199074(0x1ec)]+'\x20('+this[_0x199074(0x519)]['wuid']+'):\x20'+JSON[_0x199074(0x692)](_0x5ef0ef,null,0x2)),_0x5ef0ef):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x7bcbb5){throw this[_0x199074(0x6a2)][_0x199074(0x451)](this[_0x199074(0x1ec)]+'\x20('+this[_0x199074(0x519)][_0x199074(0x419)]+_0x199074(0x25c)+(_0x7bcbb5 instanceof Error?_0x7bcbb5[_0x199074(0x25d)]:JSON[_0x199074(0x692)](_0x7bcbb5,null,0x2))),new m(_0x199074(0x4f3)+_0x7bcbb5[_0x199074(0x25d)]);}}async['AddChatLabel'](_0x1486e1,_0x1b917e){const _0x3bd68e=a0_0x3146da;try{await this[_0x3bd68e(0x344)]['addChatLabel'](_0x1b917e,_0x1486e1),console[_0x3bd68e(0x5e0)](_0x3bd68e(0x4d4)+_0x1486e1+_0x3bd68e(0x2ae)+_0x1b917e+_0x3bd68e(0x368));}catch(_0x53e8e5){console[_0x3bd68e(0x451)](_0x3bd68e(0x5b2)+_0x1486e1+_0x3bd68e(0x715)+_0x1b917e+':',_0x53e8e5);}}async[a0_0x3146da(0x41f)](_0x124d63,_0x5f5d6e){const _0x590545=a0_0x3146da;try{await this[_0x590545(0x344)][_0x590545(0x426)](_0x5f5d6e,_0x124d63),console['log']('Label\x20'+_0x124d63+_0x590545(0x400)+_0x5f5d6e+_0x590545(0x368));}catch(_0x71748a){console[_0x590545(0x451)](_0x590545(0x594)+_0x124d63+_0x590545(0x218)+_0x5f5d6e+':',_0x71748a);}}async[a0_0x3146da(0x251)](_0x25f7d6){const _0x15e6bb=a0_0x3146da;try{let _0x39764a=await this['repository'][_0x15e6bb(0x2bf)][_0x15e6bb(0x106)](this['instance'][_0x15e6bb(0x419)]),_0x30010c=_0x25f7d6[_0x15e6bb(0x60a)]?_0x39764a['agents'][_0x15e6bb(0x4f6)](_0x2374b6=>_0x2374b6['_id']===_0x25f7d6['_id']):-0x1;if(_0x25f7d6['delete']&&_0x30010c>-0x1)_0x39764a[_0x15e6bb(0x47b)]['splice'](_0x30010c,0x1);else{if(_0x30010c>-0x1){let _0x5b7310=_0x39764a['agents'][_0x30010c];_0x25f7d6[_0x15e6bb(0x3bb)]&&(_0x5b7310['fone']=_0x25f7d6[_0x15e6bb(0x3bb)]),_0x25f7d6[_0x15e6bb(0x51a)]&&(_0x5b7310[_0x15e6bb(0x51a)]=_0x25f7d6[_0x15e6bb(0x51a)]),_0x25f7d6['email']&&(_0x5b7310[_0x15e6bb(0x377)]=_0x25f7d6[_0x15e6bb(0x377)]),_0x25f7d6[_0x15e6bb(0x548)]&&(_0x5b7310[_0x15e6bb(0x548)]=_0x25f7d6[_0x15e6bb(0x548)]);}else _0x39764a['agents'][_0x15e6bb(0x621)]({'_id':_0x25f7d6[_0x15e6bb(0x60a)]||new ie[(_0x15e6bb(0x5e3))][(_0x15e6bb(0x10b))][(_0x15e6bb(0x5ec))]()[_0x15e6bb(0x63d)](),'fone':_0x25f7d6[_0x15e6bb(0x3bb)],'name':_0x25f7d6['name'],'email':_0x25f7d6[_0x15e6bb(0x377)],'role':_0x25f7d6[_0x15e6bb(0x548)]});}let _0x18c95c={'agents':_0x39764a['agents']},_0x331e5a=await this[_0x15e6bb(0x1ad)][_0x15e6bb(0x2bf)][_0x15e6bb(0x118)](_0x18c95c,this[_0x15e6bb(0x519)]['wuid']);return this[_0x15e6bb(0x15d)]=_0x331e5a,this[_0x15e6bb(0x6a2)]['verbose'](this[_0x15e6bb(0x1ec)]+'\x20('+this[_0x15e6bb(0x519)][_0x15e6bb(0x419)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x15e6bb(0x19a)](this[_0x15e6bb(0x1ec)]+'\x20('+this['instance'][_0x15e6bb(0x419)]+_0x15e6bb(0x6e9)+this[_0x15e6bb(0x15d)]),_0x331e5a;}catch(_0x35c74b){throw this['logger']['error'](this[_0x15e6bb(0x1ec)]+'\x20('+this[_0x15e6bb(0x519)][_0x15e6bb(0x419)]+_0x15e6bb(0x1fa)+(_0x35c74b instanceof Error?_0x35c74b['message']:JSON['stringify'](_0x35c74b,null,0x2))),new m(_0x15e6bb(0x3e0)+_0x35c74b[_0x15e6bb(0x25d)]);}}async['updateCustomFields'](_0x5a495b){const _0x3cedda=a0_0x3146da;try{let _0x339d69=await this[_0x3cedda(0x1ad)][_0x3cedda(0x2bf)][_0x3cedda(0x106)](this['instance'][_0x3cedda(0x419)]),_0x13e625=_0x5a495b[_0x3cedda(0x60a)]?_0x339d69[_0x3cedda(0x713)][_0x3cedda(0x4f6)](_0x532ec2=>_0x532ec2[_0x3cedda(0x60a)]===_0x5a495b[_0x3cedda(0x60a)]):-0x1,_0x4861b0=!0x1,_0x1bfabf=_0x339d69[_0x3cedda(0x713)][_0x3cedda(0x4ee)](_0x21838b=>_0x21838b[_0x3cedda(0x20a)]===_0x5a495b['order']);if(_0x5a495b[_0x3cedda(0x6cf)]&&_0x13e625>-0x1)_0x339d69[_0x3cedda(0x713)][_0x3cedda(0x35a)](_0x13e625,0x1),_0x4861b0=!0x0;else{if(_0x13e625>-0x1){if(_0x339d69['customFields'][_0x3cedda(0x4ee)](_0x4a3c08=>_0x4a3c08[_0x3cedda(0x51a)]===_0x5a495b[_0x3cedda(0x51a)]&&_0x4a3c08[_0x3cedda(0x60a)]!==_0x5a495b[_0x3cedda(0x60a)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x34bbae=_0x339d69['customFields'][_0x13e625];_0x5a495b['order']&&(_0x1bfabf||!Number[_0x3cedda(0x2ab)](_0x5a495b[_0x3cedda(0x20a)]))&&(_0x34bbae[_0x3cedda(0x20a)]=_0x5a495b[_0x3cedda(0x20a)],_0x4861b0=!0x0),_0x5a495b[_0x3cedda(0x51a)]&&(_0x34bbae['name']=_0x5a495b[_0x3cedda(0x51a)]);}else{if(_0x339d69['customFields']['some'](_0x58602b=>_0x58602b[_0x3cedda(0x51a)]===_0x5a495b['name']&&_0x58602b[_0x3cedda(0x60a)]!==_0x5a495b[_0x3cedda(0x60a)]))throw new Error(_0x3cedda(0x190));_0x339d69[_0x3cedda(0x713)][_0x3cedda(0x621)]({'_id':_0x5a495b[_0x3cedda(0x60a)]||new ie['default']['Types'][(_0x3cedda(0x5ec))]()['toString'](),'order':_0x5a495b[_0x3cedda(0x20a)],'name':_0x5a495b[_0x3cedda(0x51a)]}),_0x4861b0=!0x0;}}if(_0x4861b0){_0x339d69[_0x3cedda(0x713)][_0x3cedda(0xcb)]((_0x39b0e8,_0x558d24)=>_0x39b0e8['order']>_0x558d24['order']?0x1:_0x558d24[_0x3cedda(0x20a)]>_0x39b0e8[_0x3cedda(0x20a)]?-0x1:0x0);for(let _0x25bc17=0x0;_0x25bc17<_0x339d69['customFields'][_0x3cedda(0x148)];_0x25bc17++)_0x339d69[_0x3cedda(0x713)][_0x25bc17][_0x3cedda(0x20a)]=_0x25bc17+0x1;}let _0x4a6751=await this[_0x3cedda(0x1ad)]['automateSystem'][_0x3cedda(0x118)](_0x339d69,this[_0x3cedda(0x519)][_0x3cedda(0x419)]);return this[_0x3cedda(0x15d)]=_0x4a6751,this['logger'][_0x3cedda(0x19a)](this['instanceName']+'\x20('+this['instance'][_0x3cedda(0x419)]+_0x3cedda(0x4d2)),this[_0x3cedda(0x6a2)][_0x3cedda(0x19a)](this[_0x3cedda(0x1ec)]+'\x20('+this['instance'][_0x3cedda(0x419)]+_0x3cedda(0x6e9)+this['AutomateSystem']),_0x4a6751;}catch(_0x474845){throw this[_0x3cedda(0x6a2)][_0x3cedda(0x451)](this[_0x3cedda(0x1ec)]+'\x20('+this[_0x3cedda(0x519)][_0x3cedda(0x419)]+_0x3cedda(0x235)+(_0x474845 instanceof Error?_0x474845[_0x3cedda(0x25d)]:JSON['stringify'](_0x474845,null,0x2))),new m(_0x3cedda(0x536)+_0x474845[_0x3cedda(0x25d)]);}}async['updateFlowConfig'](_0x47cea2){const _0x547ee=a0_0x3146da;try{let _0xb229da=await this['repository'][_0x547ee(0x2bf)]['findOrCreate'](this['instance'][_0x547ee(0x419)]);if(!_0xb229da)throw new Error(_0x547ee(0x700));let _0x399a61={'_id':_0xb229da['_id'],'flowConfig':{'enabled':_0x47cea2[_0x547ee(0xc0)]??_0xb229da[_0x547ee(0x357)][_0x547ee(0xc0)],'ignoreGroups':_0x47cea2[_0x547ee(0x6a8)]??_0xb229da[_0x547ee(0x357)][_0x547ee(0x6a8)],'prefixCommand':_0x47cea2['prefixCommand']??_0xb229da[_0x547ee(0x357)][_0x547ee(0x112)],'stopConversation':_0x47cea2[_0x547ee(0x161)]??_0xb229da[_0x547ee(0x357)][_0x547ee(0x161)],'stopMinutes':_0x47cea2[_0x547ee(0x429)]??_0xb229da[_0x547ee(0x357)][_0x547ee(0x429)],'stopWhenYouSendMsg':_0x47cea2[_0x547ee(0x171)]??_0xb229da[_0x547ee(0x357)]['stopWhenYouSendMsg']}},_0x34b73a=await this['repository']['automateSystem'][_0x547ee(0x118)](_0x399a61,this[_0x547ee(0x519)][_0x547ee(0x419)]);return this[_0x547ee(0x15d)]=_0x34b73a,this[_0x547ee(0x6a2)]['verbose'](this[_0x547ee(0x1ec)]+'\x20('+this[_0x547ee(0x519)]['wuid']+_0x547ee(0x681)),this[_0x547ee(0x6a2)][_0x547ee(0x19a)](this[_0x547ee(0x1ec)]+'\x20('+this[_0x547ee(0x519)][_0x547ee(0x419)]+'):\x20'+this[_0x547ee(0x15d)]),setTimeout(()=>this[_0x547ee(0x3be)](),0x7d0),_0x34b73a;}catch(_0x1dc403){throw this[_0x547ee(0x6a2)]['error'](this[_0x547ee(0x1ec)]+'\x20('+this['instance'][_0x547ee(0x419)]+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x1dc403 instanceof Error?_0x1dc403[_0x547ee(0x25d)]:JSON['stringify'](_0x1dc403,null,0x2))),new m(_0x547ee(0x2b3)+_0x1dc403['message']);}}async[a0_0x3146da(0x67e)](){const _0x3ea603=a0_0x3146da;try{let _0x52f14b=await this[_0x3ea603(0x1ad)][_0x3ea603(0x2bf)][_0x3ea603(0x106)](this[_0x3ea603(0x519)]['wuid']);return this[_0x3ea603(0x15d)]=_0x52f14b,this[_0x3ea603(0x6a2)][_0x3ea603(0x19a)](this[_0x3ea603(0x1ec)]+'\x20('+this['instance']['wuid']+_0x3ea603(0x395)),this[_0x3ea603(0x6a2)]['verbose'](this[_0x3ea603(0x15d)]),_0x52f14b;}catch(_0x3b229f){throw this[_0x3ea603(0x6a2)][_0x3ea603(0x451)](this[_0x3ea603(0x1ec)]+'\x20('+this[_0x3ea603(0x519)][_0x3ea603(0x419)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x3b229f instanceof Error?_0x3b229f['message']:JSON[_0x3ea603(0x692)](_0x3b229f,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x3b229f['message']);}}async['setRestartTimer'](){const _0x442c70=a0_0x3146da;this['timerId']&&clearTimeout(this[_0x442c70(0x5dc)]),this[_0x442c70(0x5dc)]=setTimeout(()=>{const _0x12e9a9=_0x442c70;this[_0x12e9a9(0x1a0)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x3146da(0x1a0)](){const _0x4f0391=a0_0x3146da;Date[_0x4f0391(0x257)]()-this['lastSend']>=0x1d4c0&&(this['logger'][_0x4f0391(0x19a)](this[_0x4f0391(0x1ec)]+'\x20('+this[_0x4f0391(0x519)][_0x4f0391(0x419)]+_0x4f0391(0xf5)),this['processingScheduleMessageId']=null,this[_0x4f0391(0x3f3)]=0x0,this[_0x4f0391(0x59a)]=0x0,await this['scheduleNextCheck']());}async[a0_0x3146da(0x3be)](){const _0x3709f1=a0_0x3146da;let _0x23b3ef=()=>{const _0x3d78ca=a0_0xd411;this[_0x3d78ca(0x6a2)]['verbose'](this[_0x3d78ca(0x1ec)]+'\x20('+this[_0x3d78ca(0x519)][_0x3d78ca(0x419)]+_0x3d78ca(0x26e)+this[_0x3d78ca(0x2dd)]+'\x20saindo\x20da\x20função');},_0x35e683=async()=>{const _0x557e8d=a0_0xd411;this[_0x557e8d(0x6a2)][_0x557e8d(0x19a)](this[_0x557e8d(0x1ec)]+'\x20('+this[_0x557e8d(0x519)][_0x557e8d(0x419)]+_0x557e8d(0x6ae));let _0x2eca6f=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x5c4b53={'where':{'status':{'$in':[_0x557e8d(0x6fd),_0x557e8d(0x528)]},'$or':[{'when':{'$lte':Date[_0x557e8d(0x257)](),'$gte':_0x2eca6f}},{'when':0x0}]}};return await this[_0x557e8d(0x1ad)][_0x557e8d(0x41b)][_0x557e8d(0x6a9)](_0x5c4b53,this[_0x557e8d(0x519)][_0x557e8d(0x419)]);},_0xa6a60d=async _0x6ce70=>{const _0x3c6562=a0_0xd411;for(let _0x2a410d of _0x6ce70){let _0x253b69={'_id':_0x2a410d[_0x3c6562(0x60a)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3c6562(0x257)]()-0x1770}}]},_0xd0500d={'startSend':Date[_0x3c6562(0x257)]()};if(!await this[_0x3c6562(0x1ad)]['scheduleMessage'][_0x3c6562(0x2f8)](_0x253b69,_0xd0500d,this[_0x3c6562(0x519)][_0x3c6562(0x419)]))return;if(!this[_0x3c6562(0xbf)]){this[_0x3c6562(0x6a2)][_0x3c6562(0x19a)](this[_0x3c6562(0x1ec)]+'\x20('+this['instance'][_0x3c6562(0x419)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x2a410d['type']===_0x3c6562(0x2b8)&&!this[_0x3c6562(0x15d)]?.[_0x3c6562(0x357)][_0x3c6562(0xc0)]){this[_0x3c6562(0x6a2)][_0x3c6562(0x451)](this[_0x3c6562(0x1ec)]+'\x20('+this[_0x3c6562(0x519)][_0x3c6562(0x419)]+_0x3c6562(0x245));continue;}(!_0x2a410d[_0x3c6562(0x1cb)]||_0x2a410d[_0x3c6562(0x1cb)][_0x3c6562(0x148)]===0x0)&&(_0x2a410d=await this[_0x3c6562(0x1ad)]['scheduleMessage'][_0x3c6562(0x5b8)](_0x2a410d[_0x3c6562(0x60a)],{'status':_0x3c6562(0x528),'remoteJidsRemaining':[..._0x2a410d[_0x3c6562(0x154)]]},this[_0x3c6562(0x519)]['wuid']));for(let _0x59be8c of _0x2a410d[_0x3c6562(0x1cb)]){if(await this[_0x3c6562(0x4ff)](),this[_0x3c6562(0x3f3)]=Date['now'](),_0x2a410d[_0x3c6562(0x521)][_0x3c6562(0x4ee)](_0x1c6699=>_0x1c6699[_0x3c6562(0x340)]===_0x59be8c)){this['logger'][_0x3c6562(0x19a)](this[_0x3c6562(0x1ec)]+'\x20('+this[_0x3c6562(0x519)][_0x3c6562(0x419)]+_0x3c6562(0x332)+_0x59be8c+'.\x20Pulando.');continue;}if(!this[_0x3c6562(0xbf)]){this[_0x3c6562(0x6a2)][_0x3c6562(0x19a)](this[_0x3c6562(0x1ec)]+'\x20('+this[_0x3c6562(0x519)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x3c6562(0x2dd)]){this['logger'][_0x3c6562(0x19a)](this[_0x3c6562(0x1ec)]+'\x20('+this[_0x3c6562(0x519)][_0x3c6562(0x419)]+_0x3c6562(0x350)+_0x2a410d[_0x3c6562(0x60a)]+_0x3c6562(0x4dc));break;}if(_0x2a410d[_0x3c6562(0x4b5)]===_0x3c6562(0x2b8)&&!this['AutomateSystem']?.[_0x3c6562(0x357)][_0x3c6562(0xc0)]){this[_0x3c6562(0x6a2)]['error'](this[_0x3c6562(0x1ec)]+'\x20('+this[_0x3c6562(0x519)]['wuid']+_0x3c6562(0x245));break;}let _0x2fc179={'remoteJid':_0x59be8c,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3c6562(0x257)]()},_0x1e5007=null;try{let _0x4c6d9f=await this[_0x3c6562(0x666)](_0x59be8c,_0x2a410d);_0x2fc179[_0x3c6562(0x451)]=_0x4c6d9f[_0x3c6562(0x451)],_0x2fc179['id']=_0x4c6d9f[_0x3c6562(0x451)]?null:_0x4c6d9f['id'],_0x2fc179[_0x3c6562(0x34e)]=_0x4c6d9f['error']?_0x4c6d9f['detail']?_0x4c6d9f[_0x3c6562(0x247)][_0x3c6562(0x63d)]():'':null;let _0x4397f7={'$push':{'messagesSend':_0x2fc179},'$pull':{'remoteJidsRemaining':_0x59be8c}},_0x4a4a80=_0x2a410d[_0x3c6562(0x60a)];if(_0x1e5007=await this['repository']['scheduleMessage'][_0x3c6562(0x5b8)](_0x4a4a80,_0x4397f7,this[_0x3c6562(0x519)][_0x3c6562(0x419)]),_0x4c6d9f[_0x3c6562(0x451)])continue;let _0x31bc50=this[_0x3c6562(0x574)](_0x2a410d['delaySecMin'],_0x2a410d[_0x3c6562(0x316)]);await this[_0x3c6562(0x709)](_0x31bc50);}catch(_0x49e5a7){this[_0x3c6562(0x6a2)]['error'](this[_0x3c6562(0x1ec)]+'\x20('+this[_0x3c6562(0x519)][_0x3c6562(0x419)]+_0x3c6562(0x381)+_0x59be8c+':\x20'+(_0x49e5a7 instanceof Error?_0x49e5a7[_0x3c6562(0x25d)]:JSON[_0x3c6562(0x692)](_0x49e5a7,null,0x2))),_0x2fc179['error']=!0x0,_0x2fc179[_0x3c6562(0x34e)]=_0x49e5a7['message'];let _0x37a45e={'$push':{'messagesSend':_0x2fc179},'$pull':{'remoteJidsRemaining':_0x59be8c}},_0x147582=_0x2a410d['_id'];_0x1e5007=await this[_0x3c6562(0x1ad)][_0x3c6562(0x41b)]['updateOneById'](_0x147582,_0x37a45e,this['instance']['wuid']);}finally{if(_0x1e5007&&_0x1e5007[_0x3c6562(0x1d6)]===_0x3c6562(0x3b1)){this[_0x3c6562(0x6a2)][_0x3c6562(0x19a)](this['instanceName']+'\x20('+this[_0x3c6562(0x519)][_0x3c6562(0x419)]+_0x3c6562(0x350)+_0x2a410d[_0x3c6562(0x60a)]+_0x3c6562(0x625));break;}}}let _0x3a16f5=await this[_0x3c6562(0x1ad)][_0x3c6562(0x41b)][_0x3c6562(0x21b)](_0x2a410d[_0x3c6562(0x60a)],this[_0x3c6562(0x519)][_0x3c6562(0x419)]);if(_0x3a16f5[_0x3c6562(0x1cb)][_0x3c6562(0x148)]===0x0&&_0x3a16f5['status']!=='stopped'){let _0x2ca63b={'$set':{'status':_0x3c6562(0x187)}},_0xcd7aa9=_0x3a16f5[_0x3c6562(0x60a)];await this[_0x3c6562(0x1ad)]['scheduleMessage'][_0x3c6562(0x5b8)](_0xcd7aa9,_0x2ca63b,this[_0x3c6562(0x519)][_0x3c6562(0x419)]);}await new Promise(_0x19f110=>setTimeout(_0x19f110,0x1388));}},_0x37baa9=async()=>{const _0x301a73=a0_0xd411;let _0x244278={'where':{'status':_0x301a73(0x6fd),'when':{'$gt':Date[_0x301a73(0x257)]()}}},_0x37db61=await this['repository']['scheduleMessage'][_0x301a73(0xee)](_0x244278,this['instance'][_0x301a73(0x419)]);_0x37db61&&_0x37db61[_0x301a73(0x4a9)]-Date[_0x301a73(0x257)]()<=0x5265c00?this[_0x301a73(0x59a)]=_0x37db61[_0x301a73(0x4a9)]-Date[_0x301a73(0x257)]():this['delayMessage']=(0x3c+Math[_0x301a73(0x67f)](Math[_0x301a73(0x110)]()*0x3c))*0x3c*0x3e8,this[_0x301a73(0x59a)]=Math[_0x301a73(0x13a)](this[_0x301a73(0x59a)],0x7d0);let _0x76311e=Math[_0x301a73(0x102)](this['delayMessage']/0xea60);if(_0x37db61){let _0x516da4=new Date(_0x37db61[_0x301a73(0x4a9)])[_0x301a73(0x4b6)]();this[_0x301a73(0x6a2)][_0x301a73(0x19a)](this[_0x301a73(0x1ec)]+'\x20('+this['instance'][_0x301a73(0x419)]+_0x301a73(0x142)+_0x516da4+_0x301a73(0x313)+_0x76311e+_0x301a73(0x240));}else this[_0x301a73(0x6a2)][_0x301a73(0x19a)](this['instanceName']+'\x20('+this[_0x301a73(0x519)]['wuid']+_0x301a73(0x4d5)+_0x76311e+_0x301a73(0x240));setTimeout(()=>this[_0x301a73(0x3be)](),this[_0x301a73(0x59a)]);};if(this['processingScheduleMessageId']){await this[_0x3709f1(0x4ff)](),_0x23b3ef();return;}if(!this[_0x3709f1(0xbf)]){this[_0x3709f1(0x6a2)][_0x3709f1(0x19a)](this[_0x3709f1(0x1ec)]+'\x20('+this['instance'][_0x3709f1(0x419)]+_0x3709f1(0x5f0)),this[_0x3709f1(0x2dd)]=null,this['lastSend']=0x0,this['delayMessage']=0x0;return;}try{let _0x173c66=await _0x35e683();_0x173c66[_0x3709f1(0x148)]===0x0?this['logger'][_0x3709f1(0x19a)](this[_0x3709f1(0x1ec)]+'\x20('+this[_0x3709f1(0x519)]['wuid']+_0x3709f1(0xe0)):(this[_0x3709f1(0x2dd)]=_0x173c66[0x0][_0x3709f1(0x60a)],await _0xa6a60d(_0x173c66)),await _0x37baa9(),this[_0x3709f1(0x2dd)]=null;}catch(_0xe09a4b){this[_0x3709f1(0x6a2)][_0x3709f1(0x451)](_0x3709f1(0x49f)+(_0xe09a4b instanceof Error?_0xe09a4b[_0x3709f1(0x25d)]:JSON['stringify'](_0xe09a4b,null,0x2)));}}[a0_0x3146da(0x574)](_0x147344,_0x4a09d6){const _0x495edd=a0_0x3146da;return _0x147344=Math[_0x495edd(0x13a)](0.5,_0x147344),_0x4a09d6=Math[_0x495edd(0x17b)](Math[_0x495edd(0x13a)](0x3,_0x4a09d6),0x78),Math['floor'](Math[_0x495edd(0x110)]()*(_0x4a09d6-_0x147344+0x1)+_0x147344)*0x3e8;}[a0_0x3146da(0x709)](_0x194add){return new Promise(_0x152a74=>setTimeout(_0x152a74,_0x194add));}async[a0_0x3146da(0x30c)](_0xc6a1d7){const _0x1e9950=a0_0x3146da;if(!this[_0x1e9950(0x15d)]&&(await this[_0x1e9950(0x67e)](),!this[_0x1e9950(0x15d)]))return null;_0xc6a1d7=this[_0x1e9950(0x47d)](_0xc6a1d7);let _0x34cd97=await this['repository'][_0x1e9950(0x11c)][_0x1e9950(0xee)]({'where':{'_id':_0xc6a1d7}},this['instance']['wuid']),_0x429bf2={};if(_0x34cd97&&_0x34cd97[_0x1e9950(0x286)]){let _0x482353=_0x34cd97[_0x1e9950(0x286)];typeof _0x482353['nome']==_0x1e9950(0x584)&&(_0x429bf2[_0x1e9950(0x492)]=_0x482353[_0x1e9950(0x492)]),typeof _0x482353[_0x1e9950(0x712)]==_0x1e9950(0x584)&&(_0x429bf2['nomecompleto']=_0x482353[_0x1e9950(0x712)]),typeof _0x482353[_0x1e9950(0x377)]==_0x1e9950(0x584)&&(_0x429bf2[_0x1e9950(0x377)]=_0x482353[_0x1e9950(0x377)]),typeof _0x482353[_0x1e9950(0x505)]==_0x1e9950(0x584)&&(_0x429bf2[_0x1e9950(0x505)]=_0x482353[_0x1e9950(0x505)]),typeof _0x482353[_0x1e9950(0x1d6)]=='string'&&(_0x429bf2['status']=_0x482353[_0x1e9950(0x1d6)]),typeof _0x482353[_0x1e9950(0x483)]==_0x1e9950(0x584)&&(_0x429bf2[_0x1e9950(0x483)]=_0x482353['notas']),typeof _0x482353['responsavelid']==_0x1e9950(0x584)&&(_0x429bf2[_0x1e9950(0x6da)]=_0x482353[_0x1e9950(0x6da)]),Array[_0x1e9950(0x43c)](_0x482353['tags'])&&(_0x429bf2[_0x1e9950(0x6c3)]=_0x482353[_0x1e9950(0x6c3)][_0x1e9950(0x353)](',\x20')),Array[_0x1e9950(0x43c)](_0x482353[_0x1e9950(0x2ce)])&&(_0x429bf2[_0x1e9950(0x2ce)]=_0x482353[_0x1e9950(0x2ce)][_0x1e9950(0x353)](',\x20'));}return _0x34cd97&&_0x34cd97['leadInfo']&&_0x34cd97[_0x1e9950(0x286)][_0x1e9950(0x713)]&&_0x34cd97[_0x1e9950(0x286)][_0x1e9950(0x713)]['forEach'](_0x2dab5b=>{const _0x1a150c=_0x1e9950;let _0x14dd6e=this[_0x1a150c(0x15d)]?.[_0x1a150c(0x713)][_0x1a150c(0x6a9)](_0x550f94=>_0x550f94['_id']===_0x2dab5b[_0x1a150c(0x60a)]);_0x14dd6e&&(_0x429bf2[_0x14dd6e[_0x1a150c(0x51a)]]=_0x2dab5b[_0x1a150c(0x2f9)]);}),_0x429bf2;}async[a0_0x3146da(0xc6)](_0x14881f,_0x1a4756){const _0x2f6b5e=a0_0x3146da;let _0x20c6fc=await this[_0x2f6b5e(0x30c)](_0x1a4756);return this[_0x2f6b5e(0x4a5)](_0x14881f,_0x20c6fc);}async[a0_0x3146da(0x236)](_0x19de3e){const _0x48429a=a0_0x3146da;try{if(this[_0x48429a(0x6a2)][_0x48429a(0x19a)](this[_0x48429a(0x1ec)]+'\x20('+this[_0x48429a(0x519)][_0x48429a(0x419)]+_0x48429a(0x1f8)),_0x19de3e[_0x48429a(0x6cf)]&&_0x19de3e['_id']){if(this['processingScheduleMessageId']===_0x19de3e[_0x48429a(0x60a)]['toString']())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x44c054=await this[_0x48429a(0x1ad)]['scheduleMessage']['deleteOne'](_0x19de3e[_0x48429a(0x60a)],this[_0x48429a(0x519)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x44c054;}let _0x293dca;if(_0x19de3e['_id']&&(_0x293dca=await this[_0x48429a(0x1ad)][_0x48429a(0x41b)][_0x48429a(0x21b)](_0x19de3e[_0x48429a(0x60a)],this['instance'][_0x48429a(0x419)])),_0x293dca){let _0x3c7219;if(this[_0x48429a(0x2dd)]===_0x293dca[_0x48429a(0x60a)][_0x48429a(0x63d)]())_0x3c7219={'$set':{'status':_0x19de3e[_0x48429a(0x1d6)]}};else{let {_id:_0x21833b,..._0x5cfc8b}=_0x19de3e;_0x3c7219={'$set':_0x5cfc8b};}let _0x137841=await this['repository']['scheduleMessage'][_0x48429a(0x5b8)](_0x19de3e['_id'],_0x3c7219,this[_0x48429a(0x519)][_0x48429a(0x419)]);return setTimeout(()=>this[_0x48429a(0x3be)](),0x7d0),_0x137841;}else{_0x19de3e[_0x48429a(0xdf)]=this[_0x48429a(0x519)]['wuid'];let _0x58e2d4=await this[_0x48429a(0x1ad)][_0x48429a(0x41b)][_0x48429a(0x433)](_0x19de3e,this['instance'][_0x48429a(0x419)]);return setTimeout(()=>this[_0x48429a(0x3be)](),0x7d0),_0x58e2d4;}}catch(_0x200f19){throw this[_0x48429a(0x6a2)]['error'](this[_0x48429a(0x1ec)]+'\x20('+this[_0x48429a(0x519)][_0x48429a(0x419)]+_0x48429a(0x6f6)+(_0x200f19 instanceof Error?_0x200f19[_0x48429a(0x25d)]:JSON['stringify'](_0x200f19,null,0x2))),new m(_0x48429a(0x137)+_0x200f19[_0x48429a(0x25d)]);}}async['getScheduleMessage'](){const _0x25c1b9=a0_0x3146da;try{return await this[_0x25c1b9(0x1ad)][_0x25c1b9(0x41b)][_0x25c1b9(0x6a9)]({'where':{}},this['instance'][_0x25c1b9(0x419)]);}catch(_0x48f799){throw this[_0x25c1b9(0x6a2)]['error'](this['instanceName']+'\x20('+this['instance'][_0x25c1b9(0x419)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x48f799 instanceof Error?_0x48f799[_0x25c1b9(0x25d)]:JSON[_0x25c1b9(0x692)](_0x48f799,null,0x2))),new m('Erro:'+_0x48f799[_0x25c1b9(0x25d)]);}}async[a0_0x3146da(0x6e0)](){const _0x4a838e=a0_0x3146da;try{let _0x552507={'status':_0x4a838e(0x187)},_0x1bc4dc=await this['repository'][_0x4a838e(0x41b)]['deleteMany'](_0x552507,this[_0x4a838e(0x519)]['wuid']);if(!_0x1bc4dc[_0x4a838e(0x451)])this['logger']['verbose'](this[_0x4a838e(0x1ec)]+'\x20('+this[_0x4a838e(0x519)][_0x4a838e(0x419)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x1bc4dc[_0x4a838e(0x451)][_0x4a838e(0x25d)]||_0x4a838e(0x5e8));return this[_0x4a838e(0x63a)]();}catch(_0x204387){throw this['logger'][_0x4a838e(0x451)](this[_0x4a838e(0x1ec)]+'\x20('+this[_0x4a838e(0x519)][_0x4a838e(0x419)]+_0x4a838e(0x671)+(_0x204387 instanceof Error?_0x204387[_0x4a838e(0x25d)]:JSON['stringify'](_0x204387,null,0x2))),new m('Erro:'+_0x204387['message']);}}async[a0_0x3146da(0x666)](_0x1db763,_0x5142a0){const _0x169375=a0_0x3146da;try{if(_0x5142a0['type']==='flow'&&!this[_0x169375(0x15d)]?.[_0x169375(0x357)]['enabled'])return this[_0x169375(0x6a2)][_0x169375(0x451)](this[_0x169375(0x1ec)]+'\x20('+this['instance'][_0x169375(0x419)]+_0x169375(0x6d2)),{'error':!0x0,'detail':_0x169375(0x430)};switch(_0x5142a0[_0x169375(0x4b5)]){case'text':return await this[_0x169375(0x140)](_0x5142a0,_0x1db763);case _0x169375(0x18f):return await this[_0x169375(0x333)](_0x5142a0,_0x1db763);case _0x169375(0x64e):return await this[_0x169375(0x6df)](_0x5142a0,_0x1db763);case'flow':let _0x2018c6=new _e();return _0x2018c6[_0x169375(0x51a)]=_0x5142a0[_0x169375(0x582)],_0x2018c6['remoteJid']=_0x1db763,await this['startFlow'](_0x2018c6);break;default:return this[_0x169375(0x6a2)][_0x169375(0x451)](this['instanceName']+'\x20('+this[_0x169375(0x519)][_0x169375(0x419)]+'):\x20Comando\x20desconhecido:\x20'+_0x5142a0[_0x169375(0x4b5)]),{'error':!0x0,'detail':_0x169375(0x546)};}}catch(_0x116d29){return this[_0x169375(0x6a2)][_0x169375(0x451)](this[_0x169375(0x1ec)]+'\x20('+this[_0x169375(0x519)][_0x169375(0x419)]+_0x169375(0x6bc)+(_0x116d29 instanceof Error?_0x116d29['message']:JSON['stringify'](_0x116d29,null,0x2))),{'error':!0x0,'detail':_0x116d29[_0x169375(0x25d)]};}}[a0_0x3146da(0x351)](_0x4285f1){const _0x3bb937=a0_0x3146da;let _0x57fd3d=_0x4285f1[_0x3bb937(0x72c)]('|'),_0x2a688c=Math[_0x3bb937(0x67f)](Math['random']()*_0x57fd3d[_0x3bb937(0x148)]);return _0x57fd3d[_0x2a688c][_0x3bb937(0x69c)]();}async[a0_0x3146da(0x140)](_0x2aadea,_0x44caed){const _0x1ac79c=a0_0x3146da;if(this['logger'][_0x1ac79c(0x19a)](this[_0x1ac79c(0x1ec)]+'\x20('+this[_0x1ac79c(0x519)][_0x1ac79c(0x419)]+_0x1ac79c(0x623)),!_0x2aadea['message'][_0x1ac79c(0x69b)]||_0x2aadea[_0x1ac79c(0x25d)][_0x1ac79c(0x69b)][_0x1ac79c(0x148)]===0x0)return{'error':!0x0,'detail':_0x1ac79c(0x4bb)};let _0x52c124=this['getRandomText'](_0x2aadea[_0x1ac79c(0x25d)]['text']),_0x13d34a=await this[_0x1ac79c(0xc6)](_0x52c124,_0x44caed),_0x15eb31={'number':_0x44caed,'options':{'delay':_0x2aadea[_0x1ac79c(0x25d)]['delay']},'textMessage':{'text':_0x13d34a}},_0x4c70b2=null;try{let _0x1b6ea3=await this[_0x1ac79c(0x5c2)](_0x15eb31);if(_0x1b6ea3&&_0x1b6ea3['status'])return{'error':!0x1,'id':_0x1b6ea3[_0x1ac79c(0x415)]['id']};_0x4c70b2=JSON[_0x1ac79c(0x692)](_0x1b6ea3),this[_0x1ac79c(0x6a2)][_0x1ac79c(0x19a)](this[_0x1ac79c(0x1ec)]+'\x20('+this['instance'][_0x1ac79c(0x419)]+_0x1ac79c(0x6e9)+_0x4c70b2);}catch(_0x4eac4c){this[_0x1ac79c(0x6a2)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1ac79c(0x23e)+(_0x4eac4c instanceof Error?_0x4eac4c[_0x1ac79c(0x25d)]:JSON['stringify'](_0x4eac4c,null,0x2))),_0x4c70b2=_0x4eac4c[_0x1ac79c(0x25d)];}if(_0x4c70b2)return{'error':!0x0,'detail':(typeof _0x4c70b2==_0x1ac79c(0x4a2)?JSON['stringify'](_0x4c70b2,null,0x2):_0x4c70b2)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1ac79c(0x1ce)](/  +/g,'\x20')};}async[a0_0x3146da(0x333)](_0x47a029,_0x30e2d6){const _0x258f1e=a0_0x3146da;this[_0x258f1e(0x6a2)]['verbose'](this[_0x258f1e(0x1ec)]+'\x20('+this[_0x258f1e(0x519)][_0x258f1e(0x419)]+_0x258f1e(0xe8));let _0x3c1a53;if(_0x47a029[_0x258f1e(0x25d)][_0x258f1e(0x69b)]&&_0x47a029[_0x258f1e(0x25d)][_0x258f1e(0x69b)]['length']>0x0){let _0x181f2b=this[_0x258f1e(0x351)](_0x47a029['message'][_0x258f1e(0x69b)]);_0x3c1a53=await this[_0x258f1e(0xc6)](_0x181f2b,_0x30e2d6);}let _0x3b8ab6={'number':_0x30e2d6,'options':{'delay':_0x47a029[_0x258f1e(0x25d)][_0x258f1e(0x1d7)]},'mediaMessage':{'mediatype':_0x47a029['message'][_0x258f1e(0x1d3)],'caption':_0x3c1a53,'media':_0x47a029[_0x258f1e(0x25d)][_0x258f1e(0x291)]}},_0x54cc27=null;try{let _0x4b4ad3=await this[_0x258f1e(0x180)](_0x3b8ab6);if(_0x4b4ad3&&_0x4b4ad3[_0x258f1e(0x1d6)])return{'error':!0x1,'id':_0x4b4ad3[_0x258f1e(0x415)]['id']};_0x54cc27=JSON[_0x258f1e(0x692)](_0x4b4ad3),this[_0x258f1e(0x6a2)][_0x258f1e(0x19a)](this[_0x258f1e(0x1ec)]+'\x20('+this[_0x258f1e(0x519)][_0x258f1e(0x419)]+_0x258f1e(0x6e9)+_0x54cc27);}catch(_0x46c700){this['logger'][_0x258f1e(0x451)](this[_0x258f1e(0x1ec)]+'\x20('+this['instance']['wuid']+_0x258f1e(0x12c)+(_0x46c700 instanceof Error?_0x46c700['message']:JSON['stringify'](_0x46c700,null,0x2))),_0x54cc27=_0x46c700[_0x258f1e(0x25d)];}if(_0x54cc27)return{'error':!0x0,'detail':(typeof _0x54cc27==_0x258f1e(0x4a2)?JSON[_0x258f1e(0x692)](_0x54cc27,null,0x2):_0x54cc27)[_0x258f1e(0x1ce)](/[\[\]{}\n]/g,'\x20')[_0x258f1e(0x1ce)](/  +/g,'\x20')};}async[a0_0x3146da(0x6df)](_0x182602,_0x3d847f){const _0x3af92d=a0_0x3146da;this[_0x3af92d(0x6a2)][_0x3af92d(0x19a)](this[_0x3af92d(0x1ec)]+'\x20('+this[_0x3af92d(0x519)]['wuid']+'):\x20Enviando\x20áudio');let _0x4ee2fa={'number':_0x3d847f,'options':{'delay':_0x182602[_0x3af92d(0x25d)][_0x3af92d(0x1d7)]},'audioMessage':{'audio':_0x182602['message'][_0x3af92d(0x291)]}},_0x301ac6=null;try{let _0x534b30=await this['audioWhatsapp'](_0x4ee2fa);if(_0x534b30&&_0x534b30[_0x3af92d(0x1d6)])return{'error':!0x1,'id':_0x534b30['key']['id']};_0x301ac6=JSON[_0x3af92d(0x692)](_0x534b30),this[_0x3af92d(0x6a2)][_0x3af92d(0x19a)](this[_0x3af92d(0x1ec)]+'\x20('+this[_0x3af92d(0x519)][_0x3af92d(0x419)]+_0x3af92d(0x6e9)+_0x301ac6);}catch(_0x449c39){this[_0x3af92d(0x6a2)][_0x3af92d(0x451)](this['instanceName']+'\x20('+this[_0x3af92d(0x519)][_0x3af92d(0x419)]+_0x3af92d(0x726)+(_0x449c39 instanceof Error?_0x449c39[_0x3af92d(0x25d)]:JSON[_0x3af92d(0x692)](_0x449c39,null,0x2))),_0x301ac6=_0x449c39[_0x3af92d(0x25d)];}if(_0x301ac6)return{'error':!0x0,'detail':(typeof _0x301ac6==_0x3af92d(0x4a2)?JSON[_0x3af92d(0x692)](_0x301ac6,null,0x2):_0x301ac6)[_0x3af92d(0x1ce)](/[\[\]{}\n]/g,'\x20')[_0x3af92d(0x1ce)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x405425,_0x29c12f,_0x1e72db){const _0x1ac449=a0_0x3146da;this[_0x1ac449(0x656)]=_0x405425,this['configService']=_0x29c12f,this[_0x1ac449(0x1ad)]=_0x1e72db,this['db']={},this[_0x1ac449(0x61b)]={},this['logger']=new v(c['name']),this[_0x1ac449(0x3a6)]={},(this['removeInstance'](),this['noConnection'](),Object[_0x1ac449(0x2d3)](this['db'],_0x29c12f[_0x1ac449(0x4ed)]('DATABASE')),Object[_0x1ac449(0x2d3)](this['redis'],_0x29c12f[_0x1ac449(0x4ed)](_0x1ac449(0x5bf))),this[_0x1ac449(0x5ff)]=this['db'][_0x1ac449(0x5e5)]?this[_0x1ac449(0x1ad)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x1ac449(0x197)]+_0x1ac449(0x71f)):void 0x0,this['cache']=this[_0x1ac449(0x61b)][_0x1ac449(0x5e5)]?new oe(this[_0x1ac449(0x61b)]):void 0x0);}async['instanceInfo'](_0x326885){const _0x4b2a86=a0_0x3146da;if(_0x326885&&!this['waInstances'][_0x326885])throw new j(_0x4b2a86(0x16d)+_0x326885+_0x4b2a86(0x134));let _0x1b18ec=[];for await(let [_0x36073a,_0x1465ac]of Object[_0x4b2a86(0x489)](this[_0x4b2a86(0x3a6)]))if(_0x1465ac&&_0x1465ac[_0x4b2a86(0x4b7)][_0x4b2a86(0xd9)]===_0x4b2a86(0x4fa)){let _0x21cd5c=await this[_0x4b2a86(0x1ad)]['auth'][_0x4b2a86(0x6a9)](_0x36073a);_0x1b18ec[_0x4b2a86(0x621)]({'instance':{'instanceName':_0x36073a,'apikey':_0x21cd5c[_0x4b2a86(0x3eb)],'owner':_0x1465ac[_0x4b2a86(0x419)],'profileName':await _0x1465ac[_0x4b2a86(0x2a5)]()||_0x4b2a86(0x250),'profilePictureUrl':_0x1465ac['profilePictureUrl']}});}return _0x1b18ec['find'](_0x631f8f=>_0x631f8f[_0x4b2a86(0x519)][_0x4b2a86(0x1ec)]===_0x326885)??_0x1b18ec;}async[a0_0x3146da(0x156)](_0x424eb4){const _0x4a5e81=a0_0x3146da;if(this['db'][_0x4a5e81(0x5e5)]&&(await this['repository'][_0x4a5e81(0x111)]['connect'](),(await this[_0x4a5e81(0x5ff)]['collections']())[_0x4a5e81(0x148)]>0x0&&await this[_0x4a5e81(0x5ff)][_0x4a5e81(0x6de)](_0x424eb4)),this[_0x4a5e81(0x61b)][_0x4a5e81(0x5e5)]){this[_0x4a5e81(0x4c0)][_0x4a5e81(0x5aa)]=_0x424eb4,await this['cache'][_0x4a5e81(0x6f1)]();return;}}async[a0_0x3146da(0x4b9)](){const _0x4313bc=a0_0x3146da;await this[_0x4313bc(0x24c)]();let _0x42e676=async _0x5cb500=>{const _0x598057=_0x4313bc;let _0x33b875=new ye(this[_0x598057(0x31c)],this[_0x598057(0x656)],this['repository']);_0x33b875[_0x598057(0x1ec)]=_0x5cb500,await _0x33b875[_0x598057(0x484)](),this[_0x598057(0x3a6)][_0x5cb500]=_0x33b875;};try{if(this[_0x4313bc(0x61b)][_0x4313bc(0x5e5)]){let _0xed6d50=await this[_0x4313bc(0x4c0)]['instanceKeys']();_0xed6d50?.['length']>0x0&&_0xed6d50[_0x4313bc(0x3d2)](async _0x921849=>await _0x42e676(_0x921849['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x4313bc(0x1ad)][_0x4313bc(0x111)][_0x4313bc(0x34c)]();let _0x38dc73=await this['dbInstance']['collections']();_0x38dc73[_0x4313bc(0x148)]>0x0&&_0x38dc73[_0x4313bc(0x3d2)](async _0x2b8d39=>await _0x42e676(_0x2b8d39['namespace'][_0x4313bc(0x1ce)](/^[\w-]+\./,'')));return;}}catch(_0x3091b9){this[_0x4313bc(0x6a2)]['error'](_0x3091b9);}}async[a0_0x3146da(0x710)](){const _0x58dec2=a0_0x3146da;let _0x494320=await this[_0x58dec2(0x1ad)][_0x58dec2(0x69f)]['findAll'](),_0x246630=_0x494320['filter'](_0xdbf42b=>!this['waInstances'][_0xdbf42b[_0x58dec2(0x60a)]]&&(_0xdbf42b[_0x58dec2(0x1fb)]||typeof _0xdbf42b[_0x58dec2(0x1fb)]>'u'));_0x246630[_0x58dec2(0x148)]>0x0&&await Promise[_0x58dec2(0x182)](_0x246630[_0x58dec2(0x33c)](async _0x14cec0=>{const _0x1c93c6=_0x58dec2;let _0x380171={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x1c93c6(0x1ad)][_0x1c93c6(0x69f)][_0x1c93c6(0x16f)](_0x380171,_0x14cec0[_0x1c93c6(0x60a)]);}));let _0x4f428a=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5041ba=_0x494320[_0x58dec2(0x431)](_0xdd19c4=>!this[_0x58dec2(0x3a6)][_0xdd19c4[_0x58dec2(0x60a)]]&&typeof _0xdd19c4['lastDisconnect']<'u'&&_0xdd19c4[_0x58dec2(0x183)]<_0x4f428a);_0x5041ba['length']>0x0&&await Promise[_0x58dec2(0x182)](_0x5041ba['map'](async _0x2b255a=>{}));}async[a0_0x3146da(0x24c)](){const _0x562ee3=a0_0x3146da;try{let _0x1b0041={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x288578={'online':!0x1,'lastDisconnect':Date['now']()},_0x1937ee=await this[_0x562ee3(0x1ad)]['auth'][_0x562ee3(0x62d)](_0x1b0041,_0x288578);console[_0x562ee3(0x5e0)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x1937ee[_0x562ee3(0x660)]),await this[_0x562ee3(0x5ef)]();}catch(_0x2404ea){console[_0x562ee3(0x451)](_0x562ee3(0x13e),_0x2404ea);}}async[a0_0x3146da(0x5ef)](){const _0x33f4b6=a0_0x3146da;try{let _0x5f46c8={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x418d85=await this[_0x33f4b6(0x1ad)][_0x33f4b6(0x69f)][_0x33f4b6(0x1db)](_0x5f46c8);console['log'](_0x33f4b6(0x3c2)+_0x418d85[_0x33f4b6(0x660)]);}catch(_0x1125ff){console[_0x33f4b6(0x451)](_0x33f4b6(0x523),_0x1125ff);}}[a0_0x3146da(0x17c)](){const _0x113ee3=a0_0x3146da;this[_0x113ee3(0x656)]['on'](_0x113ee3(0x6d8),async _0x4f904d=>{const _0x3fb72a=_0x113ee3;try{this[_0x3fb72a(0x3a6)][_0x4f904d]=void 0x0;}catch{}try{this[_0x3fb72a(0x156)](_0x4f904d);}finally{this[_0x3fb72a(0x6a2)][_0x3fb72a(0x402)](_0x3fb72a(0x16d)+_0x4f904d+'\x22\x20-\x20REMOVED');}});}[a0_0x3146da(0x6ca)](){const _0x3eb0dc=a0_0x3146da;this[_0x3eb0dc(0x656)]['on'](_0x3eb0dc(0x4e2),async _0x2b2bbc=>{const _0x5adf4b=_0x3eb0dc;try{this[_0x5adf4b(0x3a6)][_0x2b2bbc]=void 0x0;}catch{}try{this[_0x5adf4b(0x156)](_0x2b2bbc);}finally{this[_0x5adf4b(0x6a2)][_0x5adf4b(0x402)](_0x5adf4b(0x16d)+_0x2b2bbc+_0x5adf4b(0x708));}});}},$t=class extends I{[a0_0x3146da(0x51f)](_0x37319d){return Us(_0x37319d);}async[a0_0x3146da(0x72a)](_0x390271){const _0xfbcebd=a0_0x3146da;if(_0x390271[_0xfbcebd(0x148)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x390271[0x0][_0xfbcebd(0xdf)])[_0xfbcebd(0x2fc)]([..._0x390271]))[_0xfbcebd(0x148)]};}catch(_0x2f2832){return _0x2f2832;}}async[a0_0x3146da(0x6a9)](_0xc4781b,_0x2dc17c){const _0x918e4e=a0_0x3146da;try{let _0x43d05f=this[_0x918e4e(0x51f)](_0x2dc17c),_0x2b707f=A(_0xc4781b[_0x918e4e(0x551)]);return await _0x43d05f[_0x918e4e(0x6a9)](_0x2b707f)[_0x918e4e(0xcb)]({'lastmsg':-0x1})[_0x918e4e(0x308)](_0xc4781b?.[_0x918e4e(0x308)]??0x0)[_0x918e4e(0x540)]();}catch{return[];}}async[a0_0x3146da(0x425)](_0x4652f8,_0x5a7ecc){const _0x1b6c27=a0_0x3146da;try{return await this[_0x1b6c27(0x51f)](_0x5a7ecc)['deleteMany']({..._0x4652f8['where']}),[];}catch(_0x509b86){return{'error':_0x509b86?.[_0x1b6c27(0x63d)]()};}}async[a0_0x3146da(0xee)](_0x3cea30,_0x473cc2){const _0x3f576f=a0_0x3146da;try{let _0x532692=this[_0x3f576f(0x51f)](_0x473cc2),_0x3781be=A(_0x3cea30[_0x3f576f(0x551)]);return await _0x532692[_0x3f576f(0xee)](_0x3781be)[_0x3f576f(0x540)]();}catch{return null;}}async[a0_0x3146da(0x2f8)](_0x38dc27,_0x18f3c4,_0x5d2da8,_0xa42941,_0x4a20d8=a0_0x3146da(0xd0)){const _0xccc2e5=a0_0x3146da;try{let _0x5b0f4b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xa42941},_0x41d6a7=this[_0xccc2e5(0x51f)](_0x5d2da8),_0x2f9484=A(_0x38dc27[_0xccc2e5(0x551)]);Object[_0xccc2e5(0x476)](_0x18f3c4)['forEach'](_0x81976f=>{_0x18f3c4[_0x81976f]==null&&delete _0x18f3c4[_0x81976f];});let _0x55f316={};return _0x55f316[_0x4a20d8]=_0x18f3c4,await _0x41d6a7[_0xccc2e5(0x10d)](_0x2f9484,_0x55f316,_0x5b0f4b);}catch(_0x4e3c3e){return console[_0xccc2e5(0x451)](_0x4e3c3e),null;}}async[a0_0x3146da(0x5c0)](_0x47b617){const _0xa1bf94=a0_0x3146da;try{let _0x315fbe=this[_0xa1bf94(0x51f)](_0x47b617[0x0][_0xa1bf94(0x495)][_0xa1bf94(0x551)]['owner']),_0x4dd261=_0x47b617[_0xa1bf94(0x33c)](_0x1a4fd8=>({'updateOne':{'filter':{..._0x1a4fd8['query'][_0xa1bf94(0x551)]},'update':{'$set':_0x1a4fd8[_0xa1bf94(0x118)]},'upsert':!0x0}})),_0x41ce77=await _0x315fbe[_0xa1bf94(0x475)](_0x4dd261);return _0x41ce77[_0xa1bf94(0x147)]+_0x41ce77[_0xa1bf94(0x36a)];}catch(_0x4f06e2){return console['error'](_0x4f06e2),0x0;}}async[a0_0x3146da(0x29b)](_0x337b81){const _0x33d5ea=a0_0x3146da;try{let _0x38be5e=this[_0x33d5ea(0x51f)](_0x337b81),_0x2dfa44={'labels':{'$exists':!0x0}},_0x53d030={'$unset':{'labels':''}};return(await _0x38be5e[_0x33d5ea(0x5c0)](_0x2dfa44,_0x53d030))[_0x33d5ea(0x147)];}catch(_0x56a88c){return console[_0x33d5ea(0x451)](_0x56a88c),0x0;}}async[a0_0x3146da(0x2a6)](_0x3a8f76){const _0xe74770=a0_0x3146da;try{let _0x315b3b=this[_0xe74770(0x51f)](_0x3a8f76),_0x3619be={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1c3e69={'$set':{'leadInfo.etiquetas':[]}};return(await _0x315b3b['updateMany'](_0x3619be,_0x1c3e69))['modifiedCount'];}catch(_0x352426){return console[_0xe74770(0x451)](_0x352426),0x0;}}async[a0_0x3146da(0x4c8)](_0x2f2cba){const _0x500558=a0_0x3146da;try{let _0x1f0eea=this['getChatModelForOwner'](_0x2f2cba),_0x1a206f={'leadInfo.tags':{'$exists':!0x1}},_0x3ee103={'$set':{'leadInfo.tags':[]}};return(await _0x1f0eea[_0x500558(0x5c0)](_0x1a206f,_0x3ee103))[_0x500558(0x147)];}catch(_0x84e7b5){return console[_0x500558(0x451)](_0x84e7b5),0x0;}}async[a0_0x3146da(0x1a8)](_0x1c4d76){const _0x495c1d=a0_0x3146da;try{let _0x1126f7=this[_0x495c1d(0x51f)](_0x1c4d76),_0x2ff9db={'leadInfo.customFields':{'$exists':!0x1}},_0x245ced={'$set':{'leadInfo.customFields':[]}};return(await _0x1126f7['updateMany'](_0x2ff9db,_0x245ced))[_0x495c1d(0x147)];}catch(_0x443cc5){return console[_0x495c1d(0x451)](_0x443cc5),0x0;}}async[a0_0x3146da(0x2fc)](_0x1a5d44,_0x3387e8){const _0x47fff6=a0_0x3146da;if(!Array[_0x47fff6(0x43c)](_0x1a5d44)||_0x1a5d44[_0x47fff6(0x148)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x47fff6(0x51f)](_0x3387e8)[_0x47fff6(0x2fc)](_0x1a5d44))['length'];}catch(_0x31f69e){throw console[_0x47fff6(0x451)](_0x47fff6(0x459),_0x31f69e),_0x31f69e;}}async[a0_0x3146da(0x1e2)](_0x138de8,_0x52d7f3){const _0x527f30=a0_0x3146da;try{await this['getChatModelForOwner'](_0x52d7f3)[_0x527f30(0x518)]({'_id':_0x138de8});}catch(_0xb638ee){throw console[_0x527f30(0x451)](_0x527f30(0x5cf),_0xb638ee),_0xb638ee;}}},kt=class extends I{[a0_0x3146da(0x4b1)](_0x5b4c4f){return ua(_0x5b4c4f);}async['updateOne'](_0x229d82,_0x1a344a,_0x331fc6,_0x57b7af){const _0x59ec94=a0_0x3146da;try{let _0x4fd73f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x57b7af},_0x247939=this[_0x59ec94(0x4b1)](_0x331fc6),_0x2c673c=A(_0x229d82[_0x59ec94(0x551)]);return await _0x247939[_0x59ec94(0x10d)](_0x2c673c,{'$set':_0x1a344a},_0x4fd73f);}catch(_0x1f1995){return console[_0x59ec94(0x451)](_0x1f1995),null;}}async[a0_0x3146da(0x6a9)](_0x361ebb,_0x3de738){const _0x1946aa=a0_0x3146da;try{let _0x27eb19=this[_0x1946aa(0x4b1)](_0x3de738),_0x43407d=A(_0x361ebb[_0x1946aa(0x551)]);return await _0x27eb19[_0x1946aa(0x6a9)](_0x43407d);}catch(_0xf580ea){console[_0x1946aa(0x451)](_0xf580ea);}}async[a0_0x3146da(0x6cf)](_0x2f4727,_0x21cc0d){const _0x943f82=a0_0x3146da;try{let _0x4c5222=this[_0x943f82(0x4b1)](_0x21cc0d),_0x8e28b9=A(_0x2f4727[_0x943f82(0x551)]);await _0x4c5222[_0x943f82(0x1db)](_0x8e28b9);}catch(_0x27dafd){console['error'](_0x27dafd);}}async[a0_0x3146da(0x425)](_0x5ef1c2){const _0x2b8060=a0_0x3146da;try{return await this['getLabelModelForOwner'](_0x5ef1c2)[_0x2b8060(0x25f)][_0x2b8060(0x5cb)](),{'success':!0x0};}catch(_0x55ccd6){return console[_0x2b8060(0x451)](_0x55ccd6),{'success':!0x1,'error':_0x55ccd6};}}},Lt=class{constructor(_0x24c564){const _0x2d8a48=a0_0x3146da;this[_0x2d8a48(0x1d2)]=_0x24c564;}async[a0_0x3146da(0x6be)]({instanceName:_0x4b88cf},_0x15db10){const _0x15b20a=a0_0x3146da;return await this[_0x15b20a(0x1d2)][_0x15b20a(0x3a6)][_0x4b88cf][_0x15b20a(0x6be)](_0x15db10);}async[a0_0x3146da(0x30d)]({instanceName:_0xa9f0ef},_0x4eaef1){return await this['waMonitor']['waInstances'][_0xa9f0ef]['whatsappNumber'](_0x4eaef1);}async[a0_0x3146da(0x22e)]({instanceName:_0x4603d0},_0x1ec5fc){const _0x4eb47f=a0_0x3146da;return await this['waMonitor'][_0x4eb47f(0x3a6)][_0x4603d0][_0x4eb47f(0x22e)](_0x1ec5fc);}async[a0_0x3146da(0x486)]({instanceName:_0x4a6fa8},_0x5b2449){const _0x35cb3f=a0_0x3146da;return await this[_0x35cb3f(0x1d2)][_0x35cb3f(0x3a6)][_0x4a6fa8][_0x35cb3f(0x4cd)](_0x5b2449);}async[a0_0x3146da(0x57a)]({instanceName:_0x478173},_0x88855f){const _0x41cec9=a0_0x3146da;return await this['waMonitor'][_0x41cec9(0x3a6)][_0x478173][_0x41cec9(0x57a)](_0x88855f);}async[a0_0x3146da(0x653)]({instanceName:_0x309e22},_0x39da14){const _0x1c9a00=a0_0x3146da;return await this['waMonitor'][_0x1c9a00(0x3a6)][_0x309e22][_0x1c9a00(0x653)](_0x39da14);}async['fetchProfilePicture']({instanceName:_0x3de968},_0x19e66a){const _0x11b82d=a0_0x3146da;return await this[_0x11b82d(0x1d2)][_0x11b82d(0x3a6)][_0x3de968]['profilePicture'](_0x19e66a[_0x11b82d(0x6e7)]);}async[a0_0x3146da(0x675)]({instanceName:_0x25a0fc},_0x311df6){const _0x230630=a0_0x3146da;return await this[_0x230630(0x1d2)][_0x230630(0x3a6)][_0x25a0fc][_0x230630(0x675)](_0x311df6[_0x230630(0x6e7)]);}async['updatePresence']({instanceName:_0x39d1ab},_0x13fa05){const _0x5ee8b2=a0_0x3146da;return await this[_0x5ee8b2(0x1d2)][_0x5ee8b2(0x3a6)][_0x39d1ab][_0x5ee8b2(0x66a)](_0x13fa05);}async['fetchContacts']({instanceName:_0x45c8e6},_0x33be80){const _0x4fdd7e=a0_0x3146da;return await this[_0x4fdd7e(0x1d2)]['waInstances'][_0x45c8e6][_0x4fdd7e(0x158)](_0x33be80);}async[a0_0x3146da(0x64a)]({instanceName:_0x238719},_0x4636e0){const _0x35da83=a0_0x3146da;return await this[_0x35da83(0x1d2)][_0x35da83(0x3a6)][_0x238719][_0x35da83(0x64a)](_0x4636e0);}async['fetchMessages']({instanceName:_0x4fcfb7},_0x461e99){const _0x161b8a=a0_0x3146da;return await this['waMonitor'][_0x161b8a(0x3a6)][_0x4fcfb7][_0x161b8a(0x359)](_0x461e99);}async['fetchLabels']({instanceName:_0x2d16be}){const _0x42d245=a0_0x3146da;return await this[_0x42d245(0x1d2)]['waInstances'][_0x2d16be][_0x42d245(0x1e7)]();}async[a0_0x3146da(0x27b)]({instanceName:_0x5b205f}){const _0x5daf21=a0_0x3146da;return await this[_0x5daf21(0x1d2)][_0x5daf21(0x3a6)][_0x5b205f][_0x5daf21(0x27b)]();}async[a0_0x3146da(0x6a1)]({instanceName:_0x3ac0c4}){const _0x41e404=a0_0x3146da;return await this[_0x41e404(0x1d2)][_0x41e404(0x3a6)][_0x3ac0c4][_0x41e404(0x6a1)]();}async[a0_0x3146da(0x49d)]({instanceName:_0x2a57cc},_0x417ce5){const _0x5f4d23=a0_0x3146da;return await this['waMonitor'][_0x5f4d23(0x3a6)][_0x2a57cc][_0x5f4d23(0x49d)](_0x417ce5);}async['fetchBusinessProfile']({instanceName:_0x2cbde8},_0x3f4b5f){const _0x9666ec=a0_0x3146da;return await this['waMonitor']['waInstances'][_0x2cbde8][_0x9666ec(0x5a0)](_0x3f4b5f['number']);}async[a0_0x3146da(0x554)]({instanceName:_0x4a5f23},_0x3a4127){const _0x435fd8=a0_0x3146da;return await this[_0x435fd8(0x1d2)][_0x435fd8(0x3a6)][_0x4a5f23][_0x435fd8(0x554)](_0x3a4127[_0x435fd8(0x51a)]);}async['updateProfileStatus']({instanceName:_0x5920ae},_0x3f0b07){const _0x1f757b=a0_0x3146da;return await this[_0x1f757b(0x1d2)][_0x1f757b(0x3a6)][_0x5920ae][_0x1f757b(0x578)](_0x3f0b07[_0x1f757b(0x1d6)]);}async[a0_0x3146da(0x57f)]({instanceName:_0x1f1ae5},_0x19f8b4){const _0x4ccf32=a0_0x3146da;return await this[_0x4ccf32(0x1d2)][_0x4ccf32(0x3a6)][_0x1f1ae5][_0x4ccf32(0x57f)](_0x19f8b4['picture']);}async[a0_0x3146da(0x2cb)]({instanceName:_0x5638f6},_0x554a12){const _0xb53407=a0_0x3146da;return await this['waMonitor'][_0xb53407(0x3a6)][_0x5638f6]['removeProfilePicture']();}},Ns=require(a0_0x3146da(0x394)),jt=class c{constructor(_0x4cdd78,_0x895598,_0x4f516c,_0x34f738,_0x585c49){const _0x3ff052=a0_0x3146da;this[_0x3ff052(0x1d2)]=_0x4cdd78,this[_0x3ff052(0x31c)]=_0x895598,this[_0x3ff052(0x1ad)]=_0x4f516c,this[_0x3ff052(0x656)]=_0x34f738,this[_0x3ff052(0x6c5)]=_0x585c49,this['logger']=new v(c['name']);}async[a0_0x3146da(0x5af)]({instanceName:_0x410179,apikey:_0x4f7c3a,number:_0x5c7e16,proxy:_0x55e894=!0x0}){const _0x965d31=a0_0x3146da;try{let _0x40241b=new ye(this[_0x965d31(0x31c)],this[_0x965d31(0x656)],this[_0x965d31(0x1ad)]);_0x40241b[_0x965d31(0x1ec)]=_0x410179,this[_0x965d31(0x1d2)][_0x965d31(0x3a6)][_0x40241b[_0x965d31(0x1ec)]]=_0x40241b;let _0x4a8809={};_0x4f7c3a?(await this[_0x965d31(0x1ad)][_0x965d31(0x69f)][_0x965d31(0x16f)]({'apikey':_0x4f7c3a},_0x410179),_0x4a8809[_0x965d31(0x3eb)]=_0x4f7c3a):_0x4a8809=await this['authService'][_0x965d31(0x663)]({'instanceName':_0x40241b['instanceName']});let _0x679448;return await _0x40241b['connectToWhatsapp'](_0x5c7e16,_0x55e894),await(0x0,Ns[_0x965d31(0x1d7)])(0x7d0),_0x679448=_0x40241b[_0x965d31(0xcc)],{'instance':{'instanceName':_0x40241b[_0x965d31(0x1ec)],'status':_0x965d31(0x17d)},'hash':_0x4a8809,'qrcode':_0x679448};}catch(_0x348514){this[_0x965d31(0x6a2)]['error'](_0x348514);}}async[a0_0x3146da(0x417)]({instanceName:_0x570f52,number:_0x392c47=null,proxy:_0x3bec32=!0x0}){const _0x5f38ad=a0_0x3146da;try{let _0x30eeed=this[_0x5f38ad(0x1d2)][_0x5f38ad(0x3a6)][_0x570f52];switch(_0x30eeed?.[_0x5f38ad(0x4b7)]?.[_0x5f38ad(0xd9)]){case'close':return await _0x30eeed[_0x5f38ad(0x484)](_0x392c47,_0x3bec32),await(0x0,Ns[_0x5f38ad(0x1d7)])(0x7d0),_0x30eeed[_0x5f38ad(0xcc)];case'connecting':return _0x30eeed[_0x5f38ad(0xcc)];default:return await this['connectionState']({'instanceName':_0x570f52});}}catch(_0x37632a){this['logger'][_0x5f38ad(0x5e0)](_0x37632a);}}async[a0_0x3146da(0x380)]({instanceName:_0x34e724}){const _0x2fd673=a0_0x3146da;let _0x3ddd5e=this[_0x2fd673(0x1d2)]['waInstances'][_0x34e724]['connectionStatus'],_0x5d4504=null;_0x3ddd5e[_0x2fd673(0xd9)]===_0x2fd673(0x4fa)&&_0x34e724&&(_0x5d4504=await this[_0x2fd673(0x1d2)][_0x2fd673(0x178)](_0x34e724));let _0x30378b=null;return _0x3ddd5e[_0x2fd673(0xd9)]==='connecting'&&_0x34e724&&(_0x30378b=this[_0x2fd673(0x1d2)]['waInstances'][_0x34e724][_0x2fd673(0xcc)]),{'instance':_0x34e724,'connectionStatus':_0x3ddd5e,'instanceInfo':_0x5d4504,'qrcode':_0x30378b};}async[a0_0x3146da(0x2bd)]({instanceName:_0x3492f2}){const _0x5c6c8b=a0_0x3146da;try{return this[_0x5c6c8b(0x1d2)][_0x5c6c8b(0x3a6)][_0x3492f2]?.['client']?.['ws']?.[_0x5c6c8b(0x5d6)](),{'status':_0x5c6c8b(0x23c),'error':!0x1,'response':{'message':_0x5c6c8b(0x30a)}};}catch(_0x4aeab){this['logger']['error'](_0x4aeab);}}async[a0_0x3146da(0x5ee)]({instanceName:_0x344f63}){const _0x4d6e8f=a0_0x3146da;return _0x344f63?this[_0x4d6e8f(0x1d2)][_0x4d6e8f(0x178)](_0x344f63):this[_0x4d6e8f(0x1d2)][_0x4d6e8f(0x178)]();}async[a0_0x3146da(0x5fe)]({instanceName:_0x4d8e72}){const _0x130d41=a0_0x3146da;try{return await this[_0x130d41(0x1d2)][_0x130d41(0x3a6)][_0x4d8e72]?.['client']?.[_0x130d41(0x5fe)](_0x130d41(0x4a8)+_0x4d8e72),{'error':!0x1,'message':_0x130d41(0x633)};}catch(_0x4e66a2){throw new O(_0x4e66a2[_0x130d41(0x63d)]());}}async[a0_0x3146da(0x58d)]({instanceName:_0x35fcce}){const _0x4b3438=a0_0x3146da;if((await this['connectionState']({'instanceName':_0x35fcce}))[_0x4b3438(0x4b7)][_0x4b3438(0xd9)]===_0x4b3438(0x4fa))throw new m(['Deletion\x20failed',_0x4b3438(0x13c)]);try{return delete this[_0x4b3438(0x1d2)][_0x4b3438(0x3a6)][_0x35fcce],{'error':!0x1,'message':_0x4b3438(0x290)};}catch(_0x43b2f4){throw new m(_0x43b2f4[_0x4b3438(0x63d)]());}}},Z=require(a0_0x3146da(0x281)),Ft=class{constructor(_0x467cec){const _0x58cf4d=a0_0x3146da;this[_0x58cf4d(0x1d2)]=_0x467cec;}async['sendText']({instanceName:_0x177eb1},_0x57e873){const _0x2e5158=a0_0x3146da;return await this[_0x2e5158(0x1d2)][_0x2e5158(0x3a6)][_0x177eb1][_0x2e5158(0x5c2)](_0x57e873);}async[a0_0x3146da(0x3bf)]({instanceName:_0x17b093},_0x25be15){const _0x2417b8=a0_0x3146da;return await this[_0x2417b8(0x1d2)][_0x2417b8(0x3a6)][_0x17b093][_0x2417b8(0x591)](_0x25be15);}async[a0_0x3146da(0x2a8)]({instanceName:_0x115992},_0xca34ba){const _0x2968ff=a0_0x3146da;if((0x0,Z[_0x2968ff(0x6b0)])(_0xca34ba?.[_0x2968ff(0x180)]?.[_0x2968ff(0x18f)])&&!_0xca34ba?.['mediaMessage']?.[_0x2968ff(0x5d5)])throw new m(_0x2968ff(0x223));if((0x0,Z[_0x2968ff(0x33e)])(_0xca34ba?.[_0x2968ff(0x180)]?.['media'])||(0x0,Z[_0x2968ff(0x6b0)])(_0xca34ba?.[_0x2968ff(0x180)]?.[_0x2968ff(0x18f)]))return await this[_0x2968ff(0x1d2)][_0x2968ff(0x3a6)][_0x115992]['mediaMessage'](_0xca34ba);throw new m(_0x2968ff(0x27a));}async['sendSticker']({instanceName:_0x14cf8f},_0x165085){const _0x5a4290=a0_0x3146da;if((0x0,Z[_0x5a4290(0x33e)])(_0x165085[_0x5a4290(0x729)][_0x5a4290(0x38d)])||(0x0,Z[_0x5a4290(0x6b0)])(_0x165085[_0x5a4290(0x729)][_0x5a4290(0x38d)]))return await this['waMonitor'][_0x5a4290(0x3a6)][_0x14cf8f][_0x5a4290(0x1f0)](_0x165085);throw new m(_0x5a4290(0x27a));}async[a0_0x3146da(0x1df)]({instanceName:_0x5c8a0e},_0x37e5ce){const _0x95617e=a0_0x3146da;if((0x0,Z[_0x95617e(0x33e)])(_0x37e5ce[_0x95617e(0x4bd)][_0x95617e(0x64e)])||(0x0,Z['isBase64'])(_0x37e5ce[_0x95617e(0x4bd)]['audio']))return await this[_0x95617e(0x1d2)][_0x95617e(0x3a6)][_0x5c8a0e][_0x95617e(0x50a)](_0x37e5ce);throw new m(_0x95617e(0x27a));}async[a0_0x3146da(0x59e)]({instanceName:_0x388e66},_0x563ec5){const _0x4d628f=a0_0x3146da;if((0x0,Z[_0x4d628f(0x6b0)])(_0x563ec5['buttonMessage']['mediaMessage']?.[_0x4d628f(0x18f)])&&!_0x563ec5[_0x4d628f(0xf2)][_0x4d628f(0x180)]?.[_0x4d628f(0x5d5)])throw new m(_0x4d628f(0x223));return await this[_0x4d628f(0x1d2)][_0x4d628f(0x3a6)][_0x388e66][_0x4d628f(0xf2)](_0x563ec5);}async[a0_0x3146da(0x639)]({instanceName:_0x1a36e5},_0x2ee43c){const _0x466c65=a0_0x3146da;return await this[_0x466c65(0x1d2)][_0x466c65(0x3a6)][_0x1a36e5][_0x466c65(0x160)](_0x2ee43c);}async[a0_0x3146da(0x59f)]({instanceName:_0x2a672f},_0xa6c7ab){const _0x271f2f=a0_0x3146da;return await this[_0x271f2f(0x1d2)]['waInstances'][_0x2a672f][_0x271f2f(0x4c4)](_0xa6c7ab);}async[a0_0x3146da(0x5e4)]({instanceName:_0x54f195},_0x14ffa7){const _0xd2993f=a0_0x3146da;return await this[_0xd2993f(0x1d2)][_0xd2993f(0x3a6)][_0x54f195]['listMessage'](_0x14ffa7);}async['sendContact']({instanceName:_0x59c18},_0x4f6178){const _0x44c3d4=a0_0x3146da;return await this[_0x44c3d4(0x1d2)][_0x44c3d4(0x3a6)][_0x59c18][_0x44c3d4(0x6f7)](_0x4f6178);}async[a0_0x3146da(0x4ea)]({instanceName:_0x560883},_0x16348d){const _0x2c9e65=a0_0x3146da;if(!_0x16348d[_0x2c9e65(0x4d3)]['reaction'][_0x2c9e65(0x3fc)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x2c9e65(0x658));return await this['waMonitor']['waInstances'][_0x560883][_0x2c9e65(0x4d3)](_0x16348d);}async[a0_0x3146da(0x32b)]({instanceName:_0x44ecde},_0x34daa){const _0x270b31=a0_0x3146da;return await this[_0x270b31(0x1d2)][_0x270b31(0x3a6)][_0x44ecde][_0x270b31(0x43d)](_0x34daa);}},Co=require(a0_0x3146da(0x301)),Rs=require('uuid'),qt=class c{constructor(_0x78b281,_0x5dfd35,_0x2578de){const _0x5bd37c=a0_0x3146da;this[_0x5bd37c(0x31c)]=_0x78b281,this[_0x5bd37c(0x1d2)]=_0x5dfd35,this[_0x5bd37c(0x1ad)]=_0x2578de,this[_0x5bd37c(0x6a2)]=new v(c[_0x5bd37c(0x51a)]);}async[a0_0x3146da(0x2af)](_0x47db3b){const _0x1e55b4=a0_0x3146da;let _0x23a23a=this[_0x1e55b4(0x31c)][_0x1e55b4(0x4ed)]('AUTHENTICATION')[_0x1e55b4(0x263)],_0x537981=(0x0,Co[_0x1e55b4(0x514)])({'instanceName':_0x47db3b[_0x1e55b4(0x1ec)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x23a23a['SECRET'],{'expiresIn':_0x23a23a[_0x1e55b4(0x541)],'encoding':'utf8','subject':_0x1e55b4(0x2e3)}),_0x5727a4=await this[_0x1e55b4(0x1ad)][_0x1e55b4(0x69f)]['create']({'jwt':_0x537981},_0x47db3b[_0x1e55b4(0x1ec)]);if(_0x5727a4[_0x1e55b4(0x451)])throw this[_0x1e55b4(0x6a2)][_0x1e55b4(0x451)]({'localError':c[_0x1e55b4(0x51a)]+_0x1e55b4(0x48a),'error':_0x5727a4['error']}),new m(_0x1e55b4(0x71c),_0x5727a4['error']?.[_0x1e55b4(0x63d)]());return{'jwt':_0x537981};}async[a0_0x3146da(0x3eb)](_0x23b89f){const _0x49825d=a0_0x3146da;let _0x5c1c87=(0x0,Rs['v4'])()[_0x49825d(0x133)](),_0x16408e=await this[_0x49825d(0x1ad)]['auth']['create']({'apikey':_0x5c1c87},_0x23b89f[_0x49825d(0x1ec)]);if(_0x16408e[_0x49825d(0x451)])throw this[_0x49825d(0x6a2)][_0x49825d(0x451)]({'localError':c['name']+_0x49825d(0x48a),'error':_0x16408e['error']}),new m('Authentication\x20error',_0x16408e[_0x49825d(0x451)]?.['toString']());return{'apikey':_0x5c1c87};}async[a0_0x3146da(0x663)](_0x4d7298){const _0x5b28c2=a0_0x3146da;let _0x4a23e1=this[_0x5b28c2(0x31c)][_0x5b28c2(0x4ed)](_0x5b28c2(0x4fc));return await this[_0x4a23e1['TYPE']](_0x4d7298);}},Ut=class{constructor(_0x266c95){this['waMonitor']=_0x266c95;}async[a0_0x3146da(0x696)](_0x2293cd,_0x5eedfd){const _0x5f1824=a0_0x3146da;return await this[_0x5f1824(0x1d2)][_0x5f1824(0x3a6)][_0x2293cd[_0x5f1824(0x1ec)]][_0x5f1824(0x696)](_0x5eedfd);}async['updateGroupPicture'](_0x206ab5,_0x2067f4){const _0x417e60=a0_0x3146da;return await this[_0x417e60(0x1d2)][_0x417e60(0x3a6)][_0x206ab5[_0x417e60(0x1ec)]]['updateGroupPicture'](_0x2067f4);}async[a0_0x3146da(0x690)](_0x38ab27,_0x59e727){const _0x4b3815=a0_0x3146da;return await this[_0x4b3815(0x1d2)]['waInstances'][_0x38ab27[_0x4b3815(0x1ec)]][_0x4b3815(0x690)](_0x59e727);}async[a0_0x3146da(0x24b)](_0x4c7df0,_0x3034b9){const _0xe81f63=a0_0x3146da;return await this[_0xe81f63(0x1d2)]['waInstances'][_0x4c7df0[_0xe81f63(0x1ec)]][_0xe81f63(0x24b)](_0x3034b9);}async[a0_0x3146da(0x4c3)](_0x1f9f4d,_0x4a7a93){const _0x53eea3=a0_0x3146da;return await this[_0x53eea3(0x1d2)][_0x53eea3(0x3a6)][_0x1f9f4d[_0x53eea3(0x1ec)]]['groupSetting'](_0x4a7a93);}async[a0_0x3146da(0x527)](_0x4d529b,_0x30a41a){const _0x42c0d5=a0_0x3146da;return await this[_0x42c0d5(0x1d2)][_0x42c0d5(0x3a6)][_0x4d529b[_0x42c0d5(0x1ec)]][_0x42c0d5(0x33a)](_0x30a41a);}async[a0_0x3146da(0x3e4)](_0x3190af){const _0x3c735b=a0_0x3146da;return await this[_0x3c735b(0x1d2)]['waInstances'][_0x3190af['instanceName']][_0x3c735b(0x3e4)]();}async['inviteCode'](_0x10be47,_0x499826){const _0x567bda=a0_0x3146da;return await this[_0x567bda(0x1d2)]['waInstances'][_0x10be47[_0x567bda(0x1ec)]][_0x567bda(0x661)](_0x499826);}async['joinGroup'](_0x101e13,_0x4dac1c){const _0xff25d9=a0_0x3146da;return await this[_0xff25d9(0x1d2)][_0xff25d9(0x3a6)][_0x101e13[_0xff25d9(0x1ec)]][_0xff25d9(0x2e4)](_0x4dac1c);}async[a0_0x3146da(0x6ab)](_0x43b8e1,_0x599d2f){const _0x20ffe9=a0_0x3146da;return await this[_0x20ffe9(0x1d2)]['waInstances'][_0x43b8e1[_0x20ffe9(0x1ec)]][_0x20ffe9(0x6ab)](_0x599d2f);}async[a0_0x3146da(0x3d7)](_0x47c3c0,_0x413788){const _0x5c426b=a0_0x3146da;return await this[_0x5c426b(0x1d2)][_0x5c426b(0x3a6)][_0x47c3c0[_0x5c426b(0x1ec)]][_0x5c426b(0x3d7)](_0x413788);}async[a0_0x3146da(0x191)](_0x113178,_0x2c2b21){const _0x2341f6=a0_0x3146da;return await this[_0x2341f6(0x1d2)][_0x2341f6(0x3a6)][_0x113178[_0x2341f6(0x1ec)]]['updateGParticipant'](_0x2c2b21);}async[a0_0x3146da(0x198)](_0x168090,_0x57269a){const _0x53f1d5=a0_0x3146da;return await this[_0x53f1d5(0x1d2)][_0x53f1d5(0x3a6)][_0x168090['instanceName']]['toggleEphemeral'](_0x57269a);}async[a0_0x3146da(0x1bf)](_0x4410e8,_0x1b596f){const _0x19fdc5=a0_0x3146da;return await this['waMonitor'][_0x19fdc5(0x3a6)][_0x4410e8[_0x19fdc5(0x1ec)]]['leaveGroup'](_0x1b596f);}},Jt=class{constructor(_0x54eac7){const _0x1c60b8=a0_0x3146da;this[_0x1c60b8(0x1d2)]=_0x54eac7;}['create'](_0x273fa4,_0x1a7527){const _0x240f59=a0_0x3146da;return this[_0x240f59(0x1d2)]['waInstances'][_0x273fa4[_0x240f59(0x1ec)]][_0x240f59(0x22c)](_0x1a7527);}async[a0_0x3146da(0x6a9)](_0x445dee){const _0x41a502=a0_0x3146da;try{return await this[_0x41a502(0x1d2)]['waInstances'][_0x445dee[_0x41a502(0x1ec)]][_0x41a502(0x2de)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x3146da(0x6c8)),Vt=class{constructor(_0x56fd9f){this['waMonitor']=_0x56fd9f;}async[a0_0x3146da(0x236)](_0x240344,_0x488d4c){const _0x51697b=a0_0x3146da;return await this['waMonitor'][_0x51697b(0x3a6)][_0x240344[_0x51697b(0x1ec)]]['editScheduleMessage'](_0x488d4c);}async[a0_0x3146da(0x63a)](_0x333dc6){const _0x5bf1be=a0_0x3146da;return await this['waMonitor'][_0x5bf1be(0x3a6)][_0x333dc6[_0x5bf1be(0x1ec)]][_0x5bf1be(0x63a)]();}async[a0_0x3146da(0x6e0)](_0x497368){const _0x24e237=a0_0x3146da;return await this['waMonitor']['waInstances'][_0x497368[_0x24e237(0x1ec)]][_0x24e237(0x6e0)]();}async[a0_0x3146da(0x67e)](_0x772aed){const _0x5ad741=a0_0x3146da;return await this[_0x5ad741(0x1d2)][_0x5ad741(0x3a6)][_0x772aed[_0x5ad741(0x1ec)]][_0x5ad741(0x67e)]();}async[a0_0x3146da(0x251)](_0x457eff,_0x4c24c0){const _0x2519a9=a0_0x3146da;return await this[_0x2519a9(0x1d2)][_0x2519a9(0x3a6)][_0x457eff[_0x2519a9(0x1ec)]][_0x2519a9(0x251)](_0x4c24c0);}async[a0_0x3146da(0x1c9)](_0xde1a9e,_0x2676de){const _0x51a2a0=a0_0x3146da;return await this[_0x51a2a0(0x1d2)]['waInstances'][_0xde1a9e[_0x51a2a0(0x1ec)]][_0x51a2a0(0x1c9)](_0x2676de);}async[a0_0x3146da(0x493)](_0x54bc0e,_0xe3666a){const _0x83d797=a0_0x3146da;return await this[_0x83d797(0x1d2)][_0x83d797(0x3a6)][_0x54bc0e['instanceName']][_0x83d797(0x493)](_0xe3666a);}async[a0_0x3146da(0xdd)](_0x49ee27,_0x239ade){const _0x35082c=a0_0x3146da;return await this[_0x35082c(0x1d2)]['waInstances'][_0x49ee27[_0x35082c(0x1ec)]][_0x35082c(0xdd)](_0x239ade);}async['getConversation'](_0x3fd778,_0x4abf9e){const _0x4ebc58=a0_0x3146da;return await this[_0x4ebc58(0x1d2)][_0x4ebc58(0x3a6)][_0x3fd778[_0x4ebc58(0x1ec)]][_0x4ebc58(0x299)](_0x4abf9e);}async['fetchConversation'](_0xb3b0c0,_0x8d6def){const _0x354bdc=a0_0x3146da;return await this['waMonitor'][_0x354bdc(0x3a6)][_0xb3b0c0['instanceName']]['fetchConversation'](_0x8d6def);}async[a0_0x3146da(0x6ee)](_0x4511f2,_0x4b0e17){const _0x2d2e4a=a0_0x3146da;return await this[_0x2d2e4a(0x1d2)][_0x2d2e4a(0x3a6)][_0x4511f2[_0x2d2e4a(0x1ec)]]['editConversation'](_0x4b0e17);}async[a0_0x3146da(0x520)](_0x115a3a,_0x5bbcec){return await this['waMonitor']['waInstances'][_0x115a3a['instanceName']]['deleteConversation'](_0x5bbcec);}async[a0_0x3146da(0x5d9)](_0x52cf1d,_0x4e96c5){const _0x311ebb=a0_0x3146da;return await this[_0x311ebb(0x1d2)][_0x311ebb(0x3a6)][_0x52cf1d['instanceName']][_0x311ebb(0x5d9)](_0x4e96c5[_0x311ebb(0x51a)]);}async['createFlow'](_0x1ef755,_0x5b6ebc){const _0x400694=a0_0x3146da;return await this[_0x400694(0x1d2)][_0x400694(0x3a6)][_0x1ef755[_0x400694(0x1ec)]]['createFlow'](_0x5b6ebc);}async[a0_0x3146da(0x714)](_0x32b168,_0x3bc456){const _0x2e9e60=a0_0x3146da;return await this[_0x2e9e60(0x1d2)][_0x2e9e60(0x3a6)][_0x32b168['instanceName']][_0x2e9e60(0x714)](_0x3bc456);}async['editFlowBlock'](_0x27c490,_0xda1154){const _0x186253=a0_0x3146da;return await this[_0x186253(0x1d2)][_0x186253(0x3a6)][_0x27c490[_0x186253(0x1ec)]][_0x186253(0x718)](_0xda1154);}async[a0_0x3146da(0x522)](_0x4d6174,_0x1a4ef2){const _0x18a750=a0_0x3146da;return await this[_0x18a750(0x1d2)][_0x18a750(0x3a6)][_0x4d6174[_0x18a750(0x1ec)]][_0x18a750(0x522)](_0x1a4ef2);}async[a0_0x3146da(0x703)](_0x1152d4,_0x197541){const _0x4085ee=a0_0x3146da;return await this[_0x4085ee(0x1d2)]['waInstances'][_0x1152d4[_0x4085ee(0x1ec)]][_0x4085ee(0x703)](_0x197541);}async[a0_0x3146da(0xe9)](_0x26a1bc,_0x199e85){const _0x817639=a0_0x3146da;return await this['waMonitor'][_0x817639(0x3a6)][_0x26a1bc[_0x817639(0x1ec)]][_0x817639(0xe9)](_0x199e85);}async[a0_0x3146da(0x513)](_0x2129a9,_0x1a1f0c){const _0x3d47ed=a0_0x3146da;return await this['waMonitor']['waInstances'][_0x2129a9['instanceName']][_0x3d47ed(0x513)](_0x1a1f0c);}async[a0_0x3146da(0x65e)](_0xde927b,_0x24a815){const _0x35b59e=a0_0x3146da;return await this[_0x35b59e(0x1d2)][_0x35b59e(0x3a6)][_0xde927b[_0x35b59e(0x1ec)]]['editFlowVariable'](_0x24a815);}async[a0_0x3146da(0x21d)](_0x4aafe0,_0x5970ac){const _0x389d8b=a0_0x3146da;return await this[_0x389d8b(0x1d2)]['waInstances'][_0x4aafe0[_0x389d8b(0x1ec)]][_0x389d8b(0x21d)](_0x5970ac[_0x389d8b(0x51a)]);}async[a0_0x3146da(0x72f)](_0x5c3aba){const _0x4c9b41=a0_0x3146da;return await this[_0x4c9b41(0x1d2)][_0x4c9b41(0x3a6)][_0x5c3aba[_0x4c9b41(0x1ec)]][_0x4c9b41(0x72f)]();}},Bt=class{constructor(_0x17582a){const _0x457d4e=a0_0x3146da;this[_0x457d4e(0x2a3)]=_0x17582a;}async[a0_0x3146da(0x665)](_0x353ca3,_0x101d98){const _0x1ba67e=a0_0x3146da;return this[_0x1ba67e(0x2a3)][_0x1ba67e(0x16f)](_0x353ca3,_0x101d98);}async[a0_0x3146da(0x2de)](_0x2e4936){const _0x18e008=a0_0x3146da;return this['webhookService'][_0x18e008(0x6a9)](_0x2e4936);}},Gt=class extends I{constructor(_0x56747b,_0x13cd53){const _0x137f3a=a0_0x3146da;super(_0x13cd53),this[_0x137f3a(0x16a)]=_0x56747b,this['configService']=_0x13cd53;}async[a0_0x3146da(0x16f)](_0x2ea733,_0x51b94d){const _0xe27ff9=a0_0x3146da;try{return this[_0xe27ff9(0x6e4)][_0xe27ff9(0x5e5)]?{'insertCount':(await this[_0xe27ff9(0x16a)]['replaceOne']({'_id':_0x51b94d},{..._0x2ea733},{'upsert':!0x0}))[_0xe27ff9(0x147)]}:{'insertCount':0x1};}catch(_0x4d2968){return _0x4d2968;}}async[a0_0x3146da(0x6cf)](_0x5c1ae0){const _0x28878a=a0_0x3146da;try{if(this[_0x28878a(0x6e4)][_0x28878a(0x5e5)]){await this[_0x28878a(0x16a)][_0x28878a(0x518)]({'_id':_0x5c1ae0});return;}}catch(_0x27064c){return{'error':_0x27064c};}}async[a0_0x3146da(0x6a9)](_0x2a0f15){const _0x5a0518=a0_0x3146da;try{if(this[_0x5a0518(0x6e4)][_0x5a0518(0x5e5)])return await this[_0x5a0518(0x16a)][_0x5a0518(0xee)]({'_id':_0x2a0f15});}catch{return{};}}},Wt=class extends I{constructor(_0x19d9eb,_0x28a315){const _0x2b0e12=a0_0x3146da;super(_0x28a315),this[_0x2b0e12(0x446)]=_0x19d9eb,this[_0x2b0e12(0x31c)]=_0x28a315,this['auth']=_0x28a315[_0x2b0e12(0x4ed)](_0x2b0e12(0x4fc));}async[a0_0x3146da(0x16f)](_0x3740ff,_0x3204f4){const _0x2ccd3c=a0_0x3146da;try{if(this[_0x2ccd3c(0x6e4)][_0x2ccd3c(0x5e5)])return{'insertCount':(await this[_0x2ccd3c(0x446)]['updateOne']({'_id':_0x3204f4},{'$set':{..._0x3740ff}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x2a5f41){return{'error':_0x2a5f41};}}async[a0_0x3146da(0x62d)](_0x46f137,_0x3231cf){const _0x9998b7=a0_0x3146da;try{if(this[_0x9998b7(0x6e4)]['ENABLED'])return{'insertCount':(await this[_0x9998b7(0x446)][_0x9998b7(0x5c0)](_0x46f137,{'$set':_0x3231cf},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x9998b7(0x2cc));}catch(_0xd27173){return{'error':_0xd27173};}}async[a0_0x3146da(0x1db)](_0x32639c){const _0x4580b2=a0_0x3146da;try{if(this['dbSettings'][_0x4580b2(0x5e5)])return{'insertCount':(await this[_0x4580b2(0x446)][_0x4580b2(0x1db)](_0x32639c))['deletedCount']};throw new Error(_0x4580b2(0x2cc));}catch(_0x1b574b){return{'error':_0x1b574b};}}async[a0_0x3146da(0x6cf)](_0x1fb733){const _0x5c8b11=a0_0x3146da;try{if(this[_0x5c8b11(0x6e4)][_0x5c8b11(0x5e5)]){await this[_0x5c8b11(0x446)][_0x5c8b11(0x518)]({'_id':_0x1fb733});return;}}catch(_0x42b56e){return{'error':_0x42b56e};}}async[a0_0x3146da(0x6a9)](_0x1a4ac4){const _0x421069=a0_0x3146da;try{if(this['dbSettings'][_0x421069(0x5e5)])return await this[_0x421069(0x446)][_0x421069(0xee)]({'_id':_0x1a4ac4});}catch{return{};}}async[a0_0x3146da(0x383)](){const _0x67e1c3=a0_0x3146da;try{if(this[_0x67e1c3(0x6e4)][_0x67e1c3(0x5e5)])return await this[_0x67e1c3(0x446)][_0x67e1c3(0x6a9)]();}catch{return[];}}},zt=class extends I{[a0_0x3146da(0x61f)](_0x4a6139){return ta(_0x4a6139);}async[a0_0x3146da(0x165)](_0x3da157){const _0x4b57c0=a0_0x3146da;try{let _0x374567=sa,_0x40f505=this[_0x4b57c0(0x61f)](_0x3da157),_0x55c513=await _0x374567[_0x4b57c0(0x6a9)]({'owner':_0x3da157})[_0x4b57c0(0x540)](),_0x3722b4=[],_0x231ab2=[];for(let _0x3e39f4 of _0x55c513)await _0x40f505['findById'](_0x3e39f4['_id'])[_0x4b57c0(0x540)]()||(_0x3722b4[_0x4b57c0(0x621)](_0x3e39f4),_0x231ab2[_0x4b57c0(0x621)](_0x3e39f4[_0x4b57c0(0x60a)]));return _0x3722b4[_0x4b57c0(0x148)]>0x0&&await _0x40f505[_0x4b57c0(0x2fc)](_0x3722b4,{'ordered':!0x1}),{'success':!0x0};}catch(_0x571bb7){return console[_0x4b57c0(0x451)](_0x4b57c0(0x447),_0x571bb7),{'success':!0x1,'error':_0x571bb7};}}async[a0_0x3146da(0x6cf)](_0x3d73b2,_0x5c7569){const _0x189817=a0_0x3146da;try{let _0x442f03=this['getFlowModelForOwner'](_0x5c7569),_0x2b7778=A(_0x3d73b2[_0x189817(0x551)]);return{'deletedCount':(await _0x442f03['deleteMany'](_0x2b7778))[_0x189817(0x1a6)]};}catch(_0x5972df){return{'error':_0x5972df?.[_0x189817(0x63d)]()};}}async[a0_0x3146da(0x518)](_0x1c829d,_0x212c9d){const _0x21db6c=a0_0x3146da;try{let _0x464dca=this[_0x21db6c(0x61f)](_0x212c9d),_0x3858fa=A(_0x1c829d[_0x21db6c(0x551)]);return{'deletedCount':(await _0x464dca[_0x21db6c(0x518)](_0x3858fa))['deletedCount']};}catch(_0x395a94){return{'error':_0x395a94?.['toString']()};}}async[a0_0x3146da(0x2f8)](_0x162653,_0x49fed9,_0x5113bf){const _0x16f61a=a0_0x3146da;try{return await this[_0x16f61a(0x61f)](_0x5113bf)[_0x16f61a(0x3fa)](_0x162653,_0x49fed9,{'new':!0x0});}catch(_0x19fe27){return console[_0x16f61a(0x451)](_0x16f61a(0x464),_0x19fe27),null;}}async[a0_0x3146da(0x433)](_0x2c3cd8,_0x47f79c){const _0x3d0036=a0_0x3146da;try{let _0x45c917=this[_0x3d0036(0x61f)](_0x47f79c);return await new _0x45c917(_0x2c3cd8)[_0x3d0036(0x568)]();}catch(_0x197cf0){return console['error'](_0x3d0036(0x1e5),_0x197cf0),null;}}async[a0_0x3146da(0x5c0)](_0x4dfa21,_0xf4f4a7,_0x284853){const _0x1fbbe5=a0_0x3146da;try{return{'modifiedCount':(await this[_0x1fbbe5(0x61f)](_0x284853)['updateMany'](_0x4dfa21,{'$set':_0xf4f4a7}))['modifiedCount']};}catch(_0x10a3a8){return console[_0x1fbbe5(0x451)](_0x1fbbe5(0x732),_0x10a3a8),{'error':_0x10a3a8};}}async['findAll'](_0x52dfb7,_0x198186){const _0x5ed848=a0_0x3146da;try{let _0x4f68c4=this['getFlowModelForOwner'](_0x198186),_0x46a929=A(_0x52dfb7[_0x5ed848(0x551)]);return await _0x4f68c4[_0x5ed848(0x6a9)](_0x46a929)[_0x5ed848(0x308)](_0x52dfb7?.[_0x5ed848(0x308)]??0x0)[_0x5ed848(0x540)]();}catch{return[];}}async[a0_0x3146da(0xee)](_0x41c521,_0x593e88){const _0xe1715c=a0_0x3146da;try{let _0x588673=this[_0xe1715c(0x61f)](_0x593e88),_0x4b47eb=A(_0x41c521[_0xe1715c(0x551)]);return await _0x588673['findOne'](_0x4b47eb)['lean']();}catch{return null;}}async[a0_0x3146da(0x425)](_0x182aca){const _0x30ad27=a0_0x3146da;try{return await this[_0x30ad27(0x61f)](_0x182aca)[_0x30ad27(0x25f)][_0x30ad27(0x5cb)](),{'success':!0x0};}catch(_0x121959){return console[_0x30ad27(0x451)](_0x121959),{'success':!0x1,'error':_0x121959};}}},Ht=class extends I{[a0_0x3146da(0x343)](_0x1c8fd6){return oa(_0x1c8fd6);}async[a0_0x3146da(0x165)](_0x481601){const _0x557dac=a0_0x3146da;try{let _0x4d5788=ra,_0x2b1b34=this[_0x557dac(0x343)](_0x481601),_0x5d3123=await _0x4d5788[_0x557dac(0x6a9)]({'owner':_0x481601})[_0x557dac(0x540)](),_0x56068f=[],_0x1786a5=[];for(let _0x4ddf19 of _0x5d3123)await _0x2b1b34[_0x557dac(0x21b)](_0x4ddf19['_id'])[_0x557dac(0x540)]()||(_0x56068f['push'](_0x4ddf19),_0x1786a5['push'](_0x4ddf19[_0x557dac(0x60a)]));return _0x56068f['length']>0x0&&await _0x2b1b34[_0x557dac(0x2fc)](_0x56068f,{'ordered':!0x1}),{'success':!0x0};}catch(_0x58c56e){return console[_0x557dac(0x451)]('Erro\x20ao\x20copiar\x20dados:',_0x58c56e),{'success':!0x1,'error':_0x58c56e};}}async[a0_0x3146da(0x72a)](_0x26e46c){const _0x714428=a0_0x3146da;if(_0x26e46c[_0x714428(0x148)]!==0x0)try{return{'insertCount':(await this[_0x714428(0x343)](_0x26e46c[0x0][_0x714428(0xdf)])[_0x714428(0x2fc)]([..._0x26e46c]))['length']};}catch(_0x2ce852){return _0x2ce852;}}async['delete'](_0x15cda0,_0x11700b){const _0x100fdc=a0_0x3146da;try{let _0x3ddbad=this[_0x100fdc(0x343)](_0x11700b),_0x279b30=A(_0x15cda0[_0x100fdc(0x551)]);return{'deletedCount':(await _0x3ddbad[_0x100fdc(0x1db)](_0x279b30))['deletedCount']};}catch(_0x31e5d9){return{'error':_0x31e5d9?.[_0x100fdc(0x63d)]()};}}async[a0_0x3146da(0x518)](_0x4113a2,_0x5a44ab){const _0x591728=a0_0x3146da;try{let _0x16782b=this[_0x591728(0x343)](_0x5a44ab),_0x41201d=A(_0x4113a2['where']);return{'deletedCount':(await _0x16782b[_0x591728(0x518)](_0x41201d))[_0x591728(0x1a6)]};}catch(_0x5bc327){return{'error':_0x5bc327?.[_0x591728(0x63d)]()};}}async[a0_0x3146da(0x118)](_0x54d842,_0x20f0f9){const _0x2f51ba=a0_0x3146da;try{if(_0x54d842[_0x2f51ba(0x148)]===0x0)return;let _0x52f4f9=this[_0x2f51ba(0x343)](_0x20f0f9),_0x495e2e=_0x54d842['map'](_0x2c5580=>({'updateOne':{'filter':{'name':_0x2c5580[_0x2f51ba(0x51a)],'owner':_0x20f0f9},'update':{..._0x2c5580}}})),{modifiedCount:_0x4928a5}=await _0x52f4f9[_0x2f51ba(0x475)](_0x495e2e);return{'insertCount':_0x4928a5};}catch{return;}}async['updateMany'](_0x4b1c7b,_0x4c90fa,_0x824033){const _0x5b24af=a0_0x3146da;try{return{'modifiedCount':(await this[_0x5b24af(0x343)](_0x824033)[_0x5b24af(0x5c0)](_0x4b1c7b,{'$set':_0x4c90fa}))[_0x5b24af(0x147)]};}catch(_0x17555a){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x17555a),{'error':_0x17555a};}}async[a0_0x3146da(0x2f8)](_0x56a5a7,_0x4b4de0,_0x19f9dc){const _0x48e852=a0_0x3146da;try{return await this[_0x48e852(0x343)](_0x19f9dc)[_0x48e852(0x10d)]({'_id':_0x56a5a7},{'$set':_0x4b4de0},{'new':!0x0,'upsert':!0x0})[_0x48e852(0x540)]();}catch(_0x2773aa){return console[_0x48e852(0x451)](_0x2773aa),null;}}async[a0_0x3146da(0x6a9)](_0x3bf12a,_0x40ce7a){const _0x3c1441=a0_0x3146da;try{return await this['getConversationModelForOwner'](_0x40ce7a)[_0x3c1441(0x6a9)](_0x3bf12a)[_0x3c1441(0xcb)]({'lastInteraction':-0x1})[_0x3c1441(0x540)]();}catch{return[];}}async[a0_0x3146da(0xee)](_0x31b5f9,_0x1b374f){const _0x30de0d=a0_0x3146da;try{return await this[_0x30de0d(0x343)](_0x1b374f)[_0x30de0d(0xee)]({..._0x31b5f9[_0x30de0d(0x551)]})[_0x30de0d(0x540)]();}catch{return null;}}async[a0_0x3146da(0x425)](_0x1e5873){const _0x4a6260=a0_0x3146da;try{return await this[_0x4a6260(0x343)](_0x1e5873)[_0x4a6260(0x25f)][_0x4a6260(0x5cb)](),{'success':!0x0};}catch(_0x35fb2a){return console[_0x4a6260(0x451)](_0x35fb2a),{'success':!0x1,'error':_0x35fb2a};}}},Kt=class extends I{[a0_0x3146da(0x42f)](_0x3d4fb1){return na(_0x3d4fb1);}async[a0_0x3146da(0x165)](_0x2238f8){const _0x480773=a0_0x3146da;try{let _0x15dee2=ca,_0x4bf7e6=this[_0x480773(0x42f)](_0x2238f8),_0x3b2ee0=await _0x15dee2[_0x480773(0x6a9)]({'owner':_0x2238f8})['lean'](),_0x2acf56=[],_0x388429=[];for(let _0x4030b2 of _0x3b2ee0)await _0x4bf7e6[_0x480773(0x21b)](_0x4030b2[_0x480773(0x60a)])[_0x480773(0x540)]()||(_0x2acf56['push'](_0x4030b2),_0x388429[_0x480773(0x621)](_0x4030b2[_0x480773(0x60a)]));return _0x2acf56[_0x480773(0x148)]>0x0&&await _0x4bf7e6[_0x480773(0x2fc)](_0x2acf56,{'ordered':!0x1}),{'success':!0x0};}catch(_0x5856ba){return console[_0x480773(0x451)](_0x480773(0x447),_0x5856ba),{'success':!0x1,'error':_0x5856ba};}}async['createAndSave'](_0x4d3211,_0xe90ea0){const _0x1b782a=a0_0x3146da;try{let _0x36a7be=this['getScheduleMessageModelForOwner'](_0xe90ea0);return await new _0x36a7be(_0x4d3211)[_0x1b782a(0x568)]();}catch(_0xeb33bd){return console[_0x1b782a(0x451)](_0x1b782a(0x1e5),_0xeb33bd),null;}}async[a0_0x3146da(0x518)](_0x541618,_0x38a80d){const _0xcea11f=a0_0x3146da;try{return await this[_0xcea11f(0x42f)](_0x38a80d)[_0xcea11f(0x5c8)](_0x541618),{};}catch(_0x577d9f){return{'error':_0x577d9f?.[_0xcea11f(0x63d)]()};}}async[a0_0x3146da(0x2f8)](_0x2e4ecd,_0xc1356a,_0x3ebdf0){const _0x5290eb=a0_0x3146da;try{return await this[_0x5290eb(0x42f)](_0x3ebdf0)[_0x5290eb(0x10d)](_0x2e4ecd,{'$set':_0xc1356a},{'new':!0x0})[_0x5290eb(0x540)]();}catch(_0x374e8a){return console[_0x5290eb(0x451)](_0x5290eb(0x5f1),_0x374e8a),null;}}async['updateOneById'](_0x363d7e,_0x46e603,_0x5eabe7){const _0x37ae9e=a0_0x3146da;try{return await this[_0x37ae9e(0x42f)](_0x5eabe7)['findByIdAndUpdate'](_0x363d7e,_0x46e603,{'new':!0x0})[_0x37ae9e(0x540)]();}catch(_0x49a7f6){return console[_0x37ae9e(0x451)](_0x37ae9e(0x5f1),_0x49a7f6),null;}}async[a0_0x3146da(0x6a9)](_0x2fb0c2,_0x49c692){const _0x3948e7=a0_0x3146da;try{return await this['getScheduleMessageModelForOwner'](_0x49c692)[_0x3948e7(0x6a9)](_0x2fb0c2[_0x3948e7(0x551)])[_0x3948e7(0x308)](_0x2fb0c2?.[_0x3948e7(0x308)]??0x0)[_0x3948e7(0xcb)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x3146da(0xee)](_0x335056,_0x46bc76){const _0x2aa578=a0_0x3146da;try{return await this[_0x2aa578(0x42f)](_0x46bc76)[_0x2aa578(0xee)](_0x335056['where'])[_0x2aa578(0xcb)]({'when':0x1})[_0x2aa578(0x540)]();}catch{return null;}}async[a0_0x3146da(0x21b)](_0x31e056,_0x348133){const _0x17eb8f=a0_0x3146da;try{return await this[_0x17eb8f(0x42f)](_0x348133)[_0x17eb8f(0x21b)](_0x31e056)[_0x17eb8f(0x540)]();}catch{return null;}}async[a0_0x3146da(0x1db)](_0x14f5b7,_0x42219b){const _0x28a745=a0_0x3146da;try{return{'deletedCount':(await this[_0x28a745(0x42f)](_0x42219b)['deleteMany'](_0x14f5b7))[_0x28a745(0x1a6)]};}catch(_0x580285){return console[_0x28a745(0x451)](_0x28a745(0x252),_0x580285),{'error':_0x580285};}}async[a0_0x3146da(0x425)](_0x317619){const _0x54b010=a0_0x3146da;try{return await this[_0x54b010(0x42f)](_0x317619)[_0x54b010(0x25f)]['drop'](),{'success':!0x0};}catch(_0x3c360e){return console[_0x54b010(0x451)](_0x3c360e),{'success':!0x1,'error':_0x3c360e};}}},Qt=class extends I{async[a0_0x3146da(0x118)](_0x184083,_0x179585){const _0x499ac2=a0_0x3146da;try{if(this[_0x499ac2(0x6e4)][_0x499ac2(0x5e5)]){let _0x3e101f=await Pe['findOneAndUpdate']({'_id':_0x179585},{'$set':_0x184083},{'new':!0x0});return console['log'](_0x499ac2(0x55b),_0x3e101f),_0x3e101f;}}catch(_0x73f378){throw console[_0x499ac2(0x451)](_0x499ac2(0x72b),_0x73f378),_0x73f378;}}async[a0_0x3146da(0x106)](_0x51d9ac){const _0x5e2b87=a0_0x3146da;try{let _0x5b9ede=await Pe[_0x5e2b87(0x21b)](_0x51d9ac);return _0x5b9ede||(_0x5b9ede=new Pe({'_id':_0x51d9ac}),await _0x5b9ede[_0x5e2b87(0x568)]()),_0x5b9ede;}catch(_0x1a6f61){return console[_0x5e2b87(0x451)](_0x5e2b87(0x2f1),_0x1a6f61),null;}}},yr=new v(a0_0x3146da(0x2e2)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.['getClient']()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr['info']('Module\x20-\x20ON');var hh=require('express-async-errors'),Ts=require('fs'),Mo=R(require(a0_0x3146da(0x1cc))),vo=R(require('http')),Ne=class c{static #e;static set['app'](_0x19f656){this.#e=_0x19f656;}static get['https'](){const _0x22fb06=a0_0x3146da;let {FULLCHAIN:_0x537bd2,PRIVKEY:_0x1e1cf7}=b[_0x22fb06(0x4ed)](_0x22fb06(0x237));return Mo['createServer']({'cert':(0x0,Ts[_0x22fb06(0x5ab)])(_0x537bd2),'key':(0x0,Ts[_0x22fb06(0x5ab)])(_0x1e1cf7)},c.#e);}static get[a0_0x3146da(0x474)](){const _0x4b1f32=a0_0x3146da;return vo[_0x4b1f32(0x4cf)](c.#e);}},de=R(require('fs')),Io=R(require(a0_0x3146da(0x3c0))),Re=R(require(a0_0x3146da(0x6f4))),Ae=R(require(a0_0x3146da(0x37e))),Oe=require('child_process');function xr(){const _0x55e47d=a0_0x3146da;B[_0x55e47d(0x4b9)]();let _0x326df5=Ae[_0x55e47d(0x5e3)][_0x55e47d(0x353)](__dirname,_0x55e47d(0x606));Oo(_0x326df5);}var Oo=_0x1204ce=>{const _0x4280b2=a0_0x3146da;let _0x14d3d8=de[_0x4280b2(0x5e3)][_0x4280b2(0x278)](_0x1204ce),_0x2be83f=0xc*0x3c*0x3c*0x3e8,_0x4d6624=0x2*0x3c*0x3c*0x3e8,_0x1f87f3=new Date()[_0x4280b2(0x3d8)]();_0x14d3d8[_0x4280b2(0x3d2)](_0x116b17=>{const _0xc82abe=_0x4280b2;let _0x3a3b9a=Ae[_0xc82abe(0x5e3)]['join'](_0x1204ce,_0x116b17),_0x393b39=de['default'][_0xc82abe(0x4b3)](_0x3a3b9a)[_0xc82abe(0x4fe)][_0xc82abe(0x3d8)]();_0x1f87f3-_0x393b39>_0x2be83f&&(de[_0xc82abe(0x5e3)][_0xc82abe(0x6cd)](_0x3a3b9a),console['log'](_0xc82abe(0x1c1)+_0x116b17));}),setTimeout(()=>Oo(_0x1204ce),_0x4d6624);};function Dr(){const _0x32d727=a0_0x3146da;let _0x120485=new v(_0x32d727(0x6b1)),_0x44a552=(0x0,pe[_0x32d727(0x5e3)])();_0x44a552['use']((0x0,Ao[_0x32d727(0x5e3)])({'origin'(_0x5cfcd9,_0x4c5790){const _0x5421ef=_0x32d727;let {ORIGIN:_0x59db67}=b[_0x5421ef(0x4ed)](_0x5421ef(0x1b6));return _0x5cfcd9||(_0x5cfcd9='*'),_0x59db67[_0x5421ef(0x61e)]('*')!==-0x1||_0x59db67['indexOf'](_0x5cfcd9)!==-0x1?_0x4c5790(null,!0x0):_0x4c5790(new Error(_0x5421ef(0x52a)));},'methods':[...b[_0x32d727(0x4ed)]('CORS')[_0x32d727(0xda)]],'credentials':b[_0x32d727(0x4ed)]('CORS')[_0x32d727(0x567)]}),(0x0,pe[_0x32d727(0x4a0)])({'extended':!0x0,'limit':_0x32d727(0x53f)}),(0x0,pe[_0x32d727(0x5b0)])({'limit':'50mb'})),_0x44a552[_0x32d727(0x5ed)]((_0xe70a2d,_0x405cf4,_0x1c52ca)=>{const _0x2dad53=_0x32d727;_0xe70a2d[_0x2dad53(0x37e)][_0x2dad53(0x108)](_0x2dad53(0x42c))?_0x1c52ca():(0x0,To[_0x2dad53(0x5e3)])()(_0xe70a2d,_0x405cf4,_0x1c52ca);}),_0x44a552[_0x32d727(0x273)](_0x32d727(0x461),_0x32d727(0x69e)),_0x44a552[_0x32d727(0x273)]('views',(0x0,Os[_0x32d727(0x353)])(ae,_0x32d727(0x1bc))),_0x44a552[_0x32d727(0x5ed)](pe[_0x32d727(0x5e3)][_0x32d727(0x38f)]((0x0,Os[_0x32d727(0x353)])(ae,'public'))),_0x44a552[_0x32d727(0x5ed)]((_0x6d833d,_0x121c97,_0x179eb4)=>{const _0xcb25cc=_0x32d727;let _0x1864ed=_0x121c97[_0xcb25cc(0x1b7)];_0x121c97[_0xcb25cc(0x1b7)]=function(_0x136401){const _0x400493=_0xcb25cc;if(_0x6d833d[_0x400493(0x495)]['convert']==='true'||_0x6d833d['headers'][_0x400493(0x416)]===_0x400493(0x21f)){let _0x270950=JSON[_0x400493(0x64c)](_0x136401);_0x136401=JSON[_0x400493(0x692)](_0x22184c(_0x270950));}return _0x1864ed[_0x400493(0x517)](_0x121c97,[_0x136401]);},_0x179eb4();}),_0x44a552['use']('/',vt),_0x44a552['use']((_0x2cf301,_0x578d94,_0x27e1f4,_0x4433f9)=>{const _0x221af5=_0x32d727;if(_0x2cf301)return _0x27e1f4[_0x221af5(0x1d6)](_0x2cf301['status']||0x1f4)[_0x221af5(0x5b0)](_0x2cf301);},(_0x2f8be4,_0x5ef570,_0x48417d)=>{const _0x289f55=_0x32d727;let {method:_0x4b1a65,url:_0x32033d}=_0x2f8be4;_0x5ef570[_0x289f55(0x1d6)](0x194)[_0x289f55(0x5b0)]({'status':0x194,'message':_0x289f55(0x5e2)+_0x4b1a65['toUpperCase']()+'\x20'+_0x32033d,'error':_0x289f55(0x3d4)}),_0x48417d();});let _0x22184c=(_0xf663f9,_0x38d1ea=_0x32d727(0x10f))=>{const _0x27b6ed=_0x32d727;let _0x5c0137=(_0x5d329c,_0x4e6387=null,_0x4e3911=!0x1)=>{const _0xa33717=a0_0xd411;let _0x4638ec={};return Object[_0xa33717(0x476)](_0x5d329c)['forEach'](_0x4e03f6=>{const _0x38a51d=_0xa33717;let _0x1f47ff=_0x5d329c[_0x4e03f6],_0x450bde=''+_0x38d1ea+_0x4e03f6;_0x4e6387&&!_0x4e3911&&(_0x450bde=_0x4e6387+'.'+_0x4e03f6),!_0x1f47ff&&_0x1f47ff!==0x0&&_0x1f47ff!==!0x1||typeof _0x1f47ff>'u'?_0x4638ec[_0x450bde]=null:typeof _0x1f47ff!='object'&&!Array[_0x38a51d(0x43c)](_0x1f47ff)?_0x4638ec[_0x450bde]=_0x1f47ff:typeof _0x1f47ff=='object'&&!Array[_0x38a51d(0x43c)](_0x1f47ff)?_0x4638ec=Object[_0x38a51d(0x2d3)](_0x4638ec,_0x5c0137(_0x1f47ff,_0x450bde)):Array['isArray'](_0x1f47ff)&&(typeof _0x1f47ff[0x0]=='object'?(_0x4638ec[_0x450bde]=[],_0x1f47ff[_0x38a51d(0x3d2)](_0x4483c8=>{_0x4638ec[_0x450bde]['push'](_0x5c0137(_0x4483c8,_0x450bde,!0x0));})):_0x4638ec[_0x450bde]=_0x1f47ff);}),_0x4638ec;};return Array[_0x27b6ed(0x43c)](_0xf663f9)?_0xf663f9['map'](_0x2c6016=>_0x5c0137(_0x2c6016)):typeof _0xf663f9==_0x27b6ed(0x4a2)&&_0xf663f9!==null?_0x5c0137(_0xf663f9):{};},_0x4d4bcb=b[_0x32d727(0x4ed)](_0x32d727(0x6b1));Ne[_0x32d727(0x538)]=_0x44a552;let _0xf3fbd5=Ne[_0x4d4bcb['TYPE']],_0x5c10c8=_0x32d727(0x635);_0xf3fbd5['listen'](_0x4d4bcb[_0x32d727(0x597)],()=>{const _0x396ee1=_0x32d727;_0x120485[_0x396ee1(0x5e0)](_0x5c10c8),_0x120485[_0x396ee1(0x5e0)](_0x4d4bcb['TYPE'][_0x396ee1(0x133)]()+'\x20-\x20ON:\x20'+_0x4d4bcb[_0x396ee1(0x597)]);}),xr(),Fs();}var _r=a0_0x3146da(0x5df),Pr=Ae[a0_0x3146da(0x5e3)]['join'](__dirname,'./.git/config'),Te=null;function $r(){return new Promise((_0x3d67e7,_0x1bcf41)=>{const _0x33d6a6=a0_0xd411;de[_0x33d6a6(0x5e3)]['readFile'](Pr,'utf-8',(_0x43d4f1,_0x224ed0)=>{const _0x54df88=_0x33d6a6;if(_0x43d4f1){Te=_0x43d4f1,_0x3d67e7();return;}Io[_0x54df88(0x5e3)][_0x54df88(0x64c)](_0x224ed0)[_0x54df88(0x109)][_0x54df88(0x2d4)]===_r?(Te=null,_0x3d67e7()):(Te=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3d67e7());});});}async function kr(){const _0x4005f4=a0_0x3146da;try{await $r(),await Is();}catch(_0x18556b){console[_0x4005f4(0x451)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x18556b),process[_0x4005f4(0x728)](0x1);}}kr();async function xo(){const _0x550f76=a0_0x3146da;let _0x5258b5;try{_0x5258b5=(await Re['default'][_0x550f76(0x4ed)](_0x550f76(0x3fd)))[_0x550f76(0x22b)]['ip'];}catch(_0x5a9582){console[_0x550f76(0x451)](_0x5a9582);try{_0x5258b5=(await Re[_0x550f76(0x5e3)][_0x550f76(0x4ed)](_0x550f76(0x5a4)))[_0x550f76(0x22b)]['ip'];}catch(_0x4654d9){console['error'](_0x4654d9);try{_0x5258b5=(await Re[_0x550f76(0x5e3)][_0x550f76(0x4ed)]('http://checkip.dyndns.org'))[_0x550f76(0x22b)][_0x550f76(0x3fc)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x45756d){return console[_0x550f76(0x451)](_0x45756d),!0x1;}}}return _0x5258b5;}var No=0x0;async function Lr(){const _0x58f4f0=a0_0x3146da;let _0x338ad8=await new oe(b[_0x58f4f0(0x4ed)](_0x58f4f0(0x5bf)))[_0x58f4f0(0x6d7)]();return console[_0x58f4f0(0x5e0)](_0x58f4f0(0x435),_0x338ad8[_0x58f4f0(0x148)]),_0x338ad8[_0x58f4f0(0x148)];}function jr(_0x480a2e){const _0x23d814=a0_0x3146da;let _0x2bfc73=_0x480a2e[_0x23d814(0x4ed)](_0x23d814(0x6b1))[_0x23d814(0x258)],_0xe671e1=_0x480a2e[_0x23d814(0x4ed)](_0x23d814(0x237)),_0x4e1912;if(_0x2bfc73){let _0xa32122=_0x2bfc73[_0x23d814(0x3fc)](/\/\/(.*?)\./);_0xa32122&&_0xa32122[0x1]&&(_0x4e1912=_0xa32122[0x1]);}if(!_0x4e1912&&_0xe671e1&&_0xe671e1[_0x23d814(0x59d)]){let _0x22a815=_0xe671e1['FULLCHAIN']['split']('/'),_0x324d58=_0x22a815[_0x22a815[_0x23d814(0x148)]-0x2];if(_0x324d58){let _0x2c21aa=_0x324d58[_0x23d814(0x72c)]('.');_0x2c21aa['length']>0x2&&(_0x4e1912=_0x2c21aa[0x0]);}}return _0x4e1912;}var vs=jr(b);async function Fr(){const _0x227bbd=a0_0x3146da;let _0x547b7f=b[_0x227bbd(0x4ed)]('REDIS'),_0x43a530=b[_0x227bbd(0x4ed)](_0x227bbd(0x4fc))[_0x227bbd(0x346)][_0x227bbd(0x456)],_0x357753=b[_0x227bbd(0x4ed)]('SSL_CONF'),_0x436e8f=await xo(),_0x5993ac=b[_0x227bbd(0x4ed)](_0x227bbd(0x6b1))[_0x227bbd(0x597)],_0x3e9250=b[_0x227bbd(0x4ed)](_0x227bbd(0x6b1))['URL'];try{let _0x307f5a={'ip':_0x436e8f||null,'redis_enable':_0x547b7f?.[_0x227bbd(0x5e5)]||null,'apikey':_0x43a530||null,'ssl':_0x357753?.[_0x227bbd(0x2c4)]||null,'lastupdate':Do||null,'port':_0x5993ac||null,'gitInstallError':Te?.[_0x227bbd(0x25d)]||null,'url':_0x3e9250||null};if(console[_0x227bbd(0x5e0)](_0x227bbd(0x331),_0x307f5a['ip']),_0x547b7f&&_0x547b7f[_0x227bbd(0x5e5)]){let _0x8ca3fa=await Lr();_0x307f5a[_0x227bbd(0x3c4)]=_0x8ca3fa||null;}for(let _0x3e108e in _0x307f5a)_0x307f5a[_0x227bbd(0x2d0)](_0x3e108e)&&_0x3e108e!=='ip'&&(_0x307f5a[_0x3e108e]=JSON[_0x227bbd(0x692)](_0x307f5a[_0x3e108e]));return(await Re[_0x227bbd(0x5e3)][_0x227bbd(0x626)](_0x227bbd(0x6ea),_0x307f5a))[_0x227bbd(0x22b)];}catch(_0x379b38){return console[_0x227bbd(0x451)](_0x379b38),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x44bafc=a0_0x3146da;if(!await xo())return console[_0x44bafc(0x451)](_0x44bafc(0x2e0)),'NO_IP';let _0x2ffd44=await Fr();if(_0x2ffd44){if(_0x2ffd44[_0x44bafc(0x295)][_0x44bafc(0x2aa)]===!0x0){b['get'](_0x44bafc(0x237))[_0x44bafc(0x2c4)]['includes'](_0x44bafc(0x3f5))&&_0x2ffd44[_0x44bafc(0x295)]['subdomain']&&(await Vr(_0x2ffd44[_0x44bafc(0x295)][_0x44bafc(0x13d)],Jr),await Br(_0x44bafc(0x6a6),_0x2ffd44[_0x44bafc(0x295)][_0x44bafc(0x13d)]),console[_0x44bafc(0x5e0)](_0x44bafc(0x22a)),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x2ffd44[_0x44bafc(0x295)][_0x44bafc(0x38a)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x5d467c=0x24*0x3c*0x3c,_0x4e8940=_0x2ffd44[_0x44bafc(0x295)][_0x44bafc(0x10e)]>_0x5d467c?_0x5d467c:_0x2ffd44['response'][_0x44bafc(0x10e)],_0x550838=Number(_0x4e8940);if(isNaN(_0x550838)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x51f87e=Math[_0x44bafc(0x67f)](_0x550838/0xe10),_0xb87898=Math['floor'](_0x550838%0xe10/0x3c),_0x134fbb=new Date(Date[_0x44bafc(0x257)]()+_0x550838*0x3e8);setTimeout(Is,_0x550838*0x3e8);let _0x268bb4=_0xbbe611=>_0xbbe611['toString']()['padStart'](0x2,'0'),_0x277ade=_0x44bafc(0x229)+_0x268bb4(_0x51f87e)+_0x44bafc(0x510)+_0x268bb4(_0xb87898)+'\x20minutos.\x20Será\x20às\x20'+_0x268bb4(_0x134fbb['getHours']())+':'+_0x268bb4(_0x134fbb[_0x44bafc(0x14e)]())+'.';console['log'](_0x277ade);}else return console[_0x44bafc(0x5e0)](_0x44bafc(0x25b)),As&&(console['log'](_0x44bafc(0x6ec)),process['exit']()),_0x44bafc(0x280);}else{if(No++,No<qr)console['log'](_0x44bafc(0x599)+Ro/0xea60+_0x44bafc(0xf1)),setTimeout(Is,Ro);else return console[_0x44bafc(0x451)](_0x44bafc(0x297)),_0x44bafc(0x3fb);}}async function Ur(){const _0x55fcd3=a0_0x3146da;console['log'](_0x55fcd3(0x321));let _0x562707=(0x0,Oe[_0x55fcd3(0x1e9)])(_0x55fcd3(0x3e6),{'shell':!0x0});_0x562707['stdout']['on'](_0x55fcd3(0x22b),_0x512c4b=>{const _0x4db6a7=_0x55fcd3;console[_0x4db6a7(0x5e0)](_0x4db6a7(0x664)+_0x512c4b);}),_0x562707[_0x55fcd3(0x210)]['on']('data',_0x23fe07=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x23fe07);}),_0x562707['on'](_0x55fcd3(0x728),_0x183254=>{const _0x314895=_0x55fcd3;_0x183254!==0x0?console[_0x314895(0x451)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x183254):console[_0x314895(0x5e0)](_0x314895(0x354)),console['log'](_0x314895(0x2f6)),setTimeout(()=>process[_0x314895(0x728)](),0x2710);});}var Jr=Ae[a0_0x3146da(0x5e3)][a0_0x3146da(0x353)](__dirname,a0_0x3146da(0x587));async function Vr(_0x3f2a4f,_0x4a9a50){const _0x4e43af=a0_0x3146da;let _0x91fc94=Gr();_0x3f2a4f=_0x3f2a4f[_0x4e43af(0x1ce)]('.uazapi.dev','');try{let _0x4c9505=de['default'][_0x4e43af(0x5ab)](_0x4a9a50,'utf8');_0x4c9505=_0x4c9505[_0x4e43af(0x1ce)](/<apikey>/,_0x91fc94),_0x4c9505=_0x4c9505[_0x4e43af(0x1ce)](/<subdomain>/g,_0x3f2a4f),de[_0x4e43af(0x5e3)][_0x4e43af(0x342)](_0x4a9a50,_0x4c9505,'utf8'),console[_0x4e43af(0x5e0)](_0x4e43af(0x2c7));}catch(_0x4c0c82){console[_0x4e43af(0x451)](_0x4e43af(0x2a4),_0x4c0c82);}}function Br(_0x161827,_0x3b83e0){return new Promise((_0x29aae7,_0x4a4e51)=>{const _0x2f9511=a0_0xd411;let _0x113430=(0x0,Oe[_0x2f9511(0x1e9)])(_0x2f9511(0x2ee),[_0x2f9511(0x542),_0x2f9511(0x4c1),'-m',_0x161827,_0x2f9511(0x66b),'-d',_0x3b83e0]);_0x113430['stdout']['on'](_0x2f9511(0x22b),_0x480e02=>{const _0x4788d0=_0x2f9511;console[_0x4788d0(0x5e0)]('Certbot:\x20'+_0x480e02['toString']());}),_0x113430[_0x2f9511(0x210)]['on'](_0x2f9511(0x22b),_0x5e052e=>{const _0x2af98b=_0x2f9511;console[_0x2af98b(0x451)](_0x2af98b(0x1c2)+_0x5e052e['toString']());}),_0x113430['on'](_0x2f9511(0x5d6),_0x3a128f=>{const _0x4bf660=_0x2f9511;_0x3a128f!==0x0?(console['error'](_0x4bf660(0x585)+_0x3a128f),_0x4a4e51('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x3a128f)):(console[_0x4bf660(0x5e0)]('Certbot\x20executado\x20com\x20sucesso.'),_0x29aae7());});});}function Gr(_0x415c58=0x32){const _0x366b1=a0_0x3146da;let _0xa76d7b=_0x366b1(0x4cc),_0x177c07='';for(let _0x59b308=0x0;_0x59b308<_0x415c58;_0x59b308++)_0x177c07+=_0xa76d7b[_0x366b1(0x2a0)](Math[_0x366b1(0x67f)](Math[_0x366b1(0x110)]()*_0xa76d7b[_0x366b1(0x148)]));return _0x177c07;}function Wr(){(0x0,Oe['exec'])('shutdown\x20-r\x20now',(_0x1b14a2,_0x89d178,_0x42fb24)=>{const _0x3f79d4=a0_0xd411;if(_0x1b14a2){console[_0x3f79d4(0x451)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x1b14a2);return;}if(_0x42fb24){console[_0x3f79d4(0x451)](_0x3f79d4(0x55d)+_0x42fb24);return;}console['log'](_0x3f79d4(0x16b)+_0x89d178);});}0x0&&(module['exports']={'subdomain':subdomain});