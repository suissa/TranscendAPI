const a0_0x2f588e=a0_0x5c2a;(function(_0x39f302,_0x9bbd1e){const _0x3b31fe=a0_0x5c2a,_0x23142f=_0x39f302();while(!![]){try{const _0x78ce84=parseInt(_0x3b31fe(0x3a4))/0x1*(parseInt(_0x3b31fe(0x3a5))/0x2)+-parseInt(_0x3b31fe(0x6b7))/0x3*(parseInt(_0x3b31fe(0x4ef))/0x4)+-parseInt(_0x3b31fe(0x68a))/0x5+-parseInt(_0x3b31fe(0x22e))/0x6*(parseInt(_0x3b31fe(0x4fd))/0x7)+-parseInt(_0x3b31fe(0x33b))/0x8+parseInt(_0x3b31fe(0x1ca))/0x9+-parseInt(_0x3b31fe(0x4c2))/0xa*(-parseInt(_0x3b31fe(0x43d))/0xb);if(_0x78ce84===_0x9bbd1e)break;else _0x23142f['push'](_0x23142f['shift']());}catch(_0xf7339d){_0x23142f['push'](_0x23142f['shift']());}}}(a0_0x57c2,0xe00a5));var Hi=Object['create'],Be=Object[a0_0x2f588e(0x3bc)],Ki=Object[a0_0x2f588e(0x33c)],Qi=Object['getOwnPropertyNames'],Yi=Object[a0_0x2f588e(0x8ab)],Xi=Object[a0_0x2f588e(0x8e8)][a0_0x2f588e(0x317)],Zi=(_0x16a259,_0x266ee4)=>{for(var _0x1c24c9 in _0x266ee4)Be(_0x16a259,_0x1c24c9,{'get':_0x266ee4[_0x1c24c9],'enumerable':!0x0});},Ws=(_0x4654f3,_0x3095b9,_0x5d867a,_0x38d78c)=>{const _0x3d9c4c=a0_0x2f588e;if(_0x3095b9&&typeof _0x3095b9==_0x3d9c4c(0x57a)||typeof _0x3095b9==_0x3d9c4c(0x84a)){for(let _0x17d468 of Qi(_0x3095b9))!Xi[_0x3d9c4c(0x4d8)](_0x4654f3,_0x17d468)&&_0x17d468!==_0x5d867a&&Be(_0x4654f3,_0x17d468,{'get':()=>_0x3095b9[_0x17d468],'enumerable':!(_0x38d78c=Ki(_0x3095b9,_0x17d468))||_0x38d78c[_0x3d9c4c(0x469)]});}return _0x4654f3;},A=(_0x3024bf,_0x45df8c,_0x4ea07c)=>(_0x4ea07c=_0x3024bf!=null?Hi(Yi(_0x3024bf)):{},Ws(_0x45df8c||!_0x3024bf||!_0x3024bf[a0_0x2f588e(0x523)]?Be(_0x4ea07c,'default',{'value':_0x3024bf,'enumerable':!0x0}):_0x4ea07c,_0x3024bf)),eo=_0x1e1290=>Ws(Be({},a0_0x2f588e(0x523),{'value':!0x0}),_0x1e1290),gr={};Zi(gr,{'fullURL':()=>Gs,'subdomain':()=>Q}),module['exports']=eo(gr);var qi=A(require('compression')),Hs=require('fs'),Ks=require(a0_0x2f588e(0x67b)),Qs=require(a0_0x2f588e(0x304)),We=require('path'),de=process[a0_0x2f588e(0x84d)](),Me=(0x0,We[a0_0x2f588e(0x88b)])(de,a0_0x2f588e(0x2a5)),zs=(0x0,We[a0_0x2f588e(0x88b)])(de,a0_0x2f588e(0x301)),an=(0x0,We[a0_0x2f588e(0x88b)])(de,a0_0x2f588e(0x433),a0_0x2f588e(0x703)),ps=class{constructor(){const _0x2e0252=a0_0x2f588e;this[_0x2e0252(0x3a1)]();}['get'](_0x3f60ed){return this['env'][_0x3f60ed];}[a0_0x2f588e(0x3a1)](){const _0x1fdb76=a0_0x2f588e;this[_0x1fdb76(0x559)]=process[_0x1fdb76(0x559)]?.['DOCKER_ENV']!=='true'?this[_0x1fdb76(0x614)]():this[_0x1fdb76(0x263)](),process[_0x1fdb76(0x559)]?.[_0x1fdb76(0x1da)]===_0x1fdb76(0x4a6)&&(this['env'][_0x1fdb76(0x50e)][_0x1fdb76(0x3cc)]=_0x1fdb76(0x5c6),this[_0x1fdb76(0x559)][_0x1fdb76(0x50e)][_0x1fdb76(0x2f5)]=Number['parseInt'](process[_0x1fdb76(0x559)]?.[_0x1fdb76(0x228)]??_0x1fdb76(0x484)));}[a0_0x2f588e(0x614)](){const _0x242713=a0_0x2f588e;return(0x0,Ks[_0x242713(0x6fc)])((0x0,Hs[_0x242713(0x919)])((0x0,Qs['join'])(zs,_0x242713(0x777)),{'encoding':_0x242713(0x472)}));}['envProcess'](){const _0x47c490=a0_0x2f588e;return{'SERVER':{'TYPE':process['env'][_0x47c490(0x1d9)],'PORT':Number[_0x47c490(0x7ac)](process[_0x47c490(0x559)][_0x47c490(0x228)]),'URL':process['env'][_0x47c490(0x267)]},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN']['split'](','),'METHODS':process[_0x47c490(0x559)][_0x47c490(0x36e)][_0x47c490(0x50b)](','),'CREDENTIALS':process[_0x47c490(0x559)]?.[_0x47c490(0x35b)]===_0x47c490(0x4a6)},'SSL_CONF':{'PRIVKEY':process[_0x47c490(0x559)]?.[_0x47c490(0x819)],'FULLCHAIN':process['env']?.[_0x47c490(0x634)]},'STORE':{'CLEANING_INTERVAL':Number[_0x47c490(0x3d2)](process[_0x47c490(0x559)]?.[_0x47c490(0x578)])?Number[_0x47c490(0x7ac)](process['env'][_0x47c490(0x578)]):void 0x0,'MESSAGES':process[_0x47c490(0x559)]?.[_0x47c490(0x5ab)]===_0x47c490(0x4a6),'CONTACTS':process[_0x47c490(0x559)]?.[_0x47c490(0x1c9)]===_0x47c490(0x4a6),'CHATS':process[_0x47c490(0x559)]?.['STORE_CHATS']===_0x47c490(0x4a6)},'DATABASE':{'CONNECTION':{'HOST':process[_0x47c490(0x559)]?.[_0x47c490(0x8c0)],'PORT':Number[_0x47c490(0x7ac)](process[_0x47c490(0x559)]?.[_0x47c490(0x8c0)]),'USER':process['env'][_0x47c490(0x5dc)],'PASSWORD':process[_0x47c490(0x559)][_0x47c490(0x5f6)],'URI':process['env'][_0x47c490(0x6ae)],'DB_PREFIX_NAME':process[_0x47c490(0x559)][_0x47c490(0x809)]},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x47c490(0x4a6)},'REDIS':{'ENABLED':process['env']?.[_0x47c490(0x476)]===_0x47c490(0x4a6),'URI':process[_0x47c490(0x559)][_0x47c490(0x260)]||_0x47c490(0x58c),'PREFIX_KEY':process['env'][_0x47c490(0x912)]||_0x47c490(0x54e)},'LOG':{'LEVEL':process[_0x47c490(0x559)]?.['LOG_LEVEL']['split'](','),'COLOR':process[_0x47c490(0x559)]?.[_0x47c490(0x3f2)]===_0x47c490(0x4a6)},'PROXY':process[_0x47c490(0x559)]?.[_0x47c490(0x326)]===_0x47c490(0x4a6),'AUTHENTICATION':{'TYPE':process[_0x47c490(0x559)][_0x47c490(0x8e3)],'API_KEY':{'KEY':process[_0x47c490(0x559)][_0x47c490(0x318)]},'JWT':{'EXPIRIN_IN':Number[_0x47c490(0x3d2)](process[_0x47c490(0x559)]?.[_0x47c490(0x435)])?Number['parseInt'](process[_0x47c490(0x559)][_0x47c490(0x435)]):0xe10,'SECRET':process[_0x47c490(0x559)][_0x47c490(0x439)]}}};}},S=new ps(),Vi=A(require(a0_0x2f588e(0x760))),Se=A(require(a0_0x2f588e(0x761))),qs=require('path'),hs=A(require(a0_0x2f588e(0x249))),gs=(_0x4ef2e0=>(_0x4ef2e0[a0_0x2f588e(0x467)]='\x1b[32m',_0x4ef2e0[a0_0x2f588e(0x29a)]=a0_0x2f588e(0x572),_0x4ef2e0[a0_0x2f588e(0x1f6)]=a0_0x2f588e(0x810),_0x4ef2e0[a0_0x2f588e(0x8cf)]=a0_0x2f588e(0x1e1),_0x4ef2e0[a0_0x2f588e(0x53e)]='\x1b[36m',_0x4ef2e0[a0_0x2f588e(0x3ec)]='\x1b[37m',_0x4ef2e0[a0_0x2f588e(0x792)]='\x1b[30m',_0x4ef2e0))(gs||{}),Ys=(_0x35fb68=>(_0x35fb68[a0_0x2f588e(0x467)]=a0_0x2f588e(0x30c),_0x35fb68['DARK']='\x1b[30m%s\x1b[0m',_0x35fb68[a0_0x2f588e(0x29a)]='\x1b[34m%s\x1b[0m',_0x35fb68[a0_0x2f588e(0x1f6)]=a0_0x2f588e(0x905),_0x35fb68[a0_0x2f588e(0x8cf)]=a0_0x2f588e(0x2a6),_0x35fb68[a0_0x2f588e(0x53e)]=a0_0x2f588e(0x30b),_0x35fb68[a0_0x2f588e(0x3ec)]='\x1b[37m%s\x1b[0m',_0x35fb68))(Ys||{}),Xs=(_0x5b89b3=>(_0x5b89b3[a0_0x2f588e(0x467)]=a0_0x2f588e(0x467),_0x5b89b3[a0_0x2f588e(0x1f6)]=a0_0x2f588e(0x1f6),_0x5b89b3[a0_0x2f588e(0x29a)]=a0_0x2f588e(0x29a),_0x5b89b3[a0_0x2f588e(0x792)]=a0_0x2f588e(0x792),_0x5b89b3['ERROR']='ERROR',_0x5b89b3[a0_0x2f588e(0x53e)]=a0_0x2f588e(0x53e),_0x5b89b3[a0_0x2f588e(0x3ec)]=a0_0x2f588e(0x3ec),_0x5b89b3))(Xs||{}),Zs=(_0x584ee1=>(_0x584ee1[a0_0x2f588e(0x467)]='\x1b[42m',_0x584ee1[a0_0x2f588e(0x29a)]=a0_0x2f588e(0x7c3),_0x584ee1['WARN']=a0_0x2f588e(0x57e),_0x584ee1[a0_0x2f588e(0x792)]='\x1b[40m',_0x584ee1[a0_0x2f588e(0x8cf)]='\x1b[41m',_0x584ee1[a0_0x2f588e(0x53e)]=a0_0x2f588e(0x657),_0x584ee1['VERBOSE']=a0_0x2f588e(0x355),_0x584ee1))(Zs||{}),$=class{constructor(_0x2600ef=a0_0x2f588e(0x551)){const _0x4936cb=a0_0x2f588e;this[_0x4936cb(0x2fb)]=_0x2600ef,this[_0x4936cb(0x521)]=S;}[a0_0x2f588e(0x44f)](_0x3037c2){const _0x4425d7=a0_0x2f588e;this[_0x4425d7(0x2fb)]=_0x3037c2;}[a0_0x2f588e(0x86e)](_0x2c11f6,_0x11b41f){const _0x98a52e=a0_0x2f588e;let _0xa4371b=[];this['configService'][_0x98a52e(0x375)](_0x98a52e(0x467))['LEVEL'][_0x98a52e(0x255)](_0x476cc7=>_0xa4371b['push'](Xs[_0x476cc7]));let _0x2ea6e3=typeof _0x2c11f6;_0xa4371b[_0x98a52e(0x3e8)](_0x11b41f)&&(S['get'](_0x98a52e(0x467))[_0x98a52e(0x6ce)]?(console[_0x98a52e(0x449)](_0x98a52e(0x510)+Ys[_0x11b41f],_0x98a52e(0x59f),(0x0,hs[_0x98a52e(0x6d0)])()['format'](_0x98a52e(0x4be)),'\x1b[0m',gs[_0x11b41f]+Zs[_0x11b41f]+'\x1b[1m',_0x11b41f+_0x98a52e(0x69f),_0x98a52e(0x5b5),this['context']+_0x98a52e(0x717),gs[_0x11b41f],_0x2ea6e3!==_0x98a52e(0x57a)?_0x2c11f6:'',_0x98a52e(0x717)),_0x2ea6e3===_0x98a52e(0x57a)&&console[_0x98a52e(0x449)](_0x2c11f6,'\x0a')):console[_0x98a52e(0x449)]((0x0,hs[_0x98a52e(0x6d0)])()['format'](_0x98a52e(0x3f8)),_0x11b41f+'\x20',''+this[_0x98a52e(0x2fb)],_0x2c11f6));}[a0_0x2f588e(0x449)](_0x3f823e){const _0x42ffac=a0_0x2f588e;this[_0x42ffac(0x86e)](_0x3f823e,'LOG');}[a0_0x2f588e(0x569)](_0x2cb643){const _0x2d13e5=a0_0x2f588e;this['console'](_0x2cb643,_0x2d13e5(0x29a));}[a0_0x2f588e(0x2ae)](_0x32f07a){const _0x599cfa=a0_0x2f588e;this[_0x599cfa(0x86e)](_0x32f07a,'WARN');}[a0_0x2f588e(0x20e)](_0x28fec7){const _0x2a92c7=a0_0x2f588e;this[_0x2a92c7(0x86e)](_0x28fec7,_0x2a92c7(0x8cf));}[a0_0x2f588e(0x5ef)](_0x4dab48){const _0x5991a=a0_0x2f588e;this[_0x5991a(0x86e)](_0x4dab48,_0x5991a(0x3ec));}[a0_0x2f588e(0x8ae)](_0x79ca09){const _0x4f802f=a0_0x2f588e;this[_0x4f802f(0x86e)](_0x79ca09,_0x4f802f(0x53e));}[a0_0x2f588e(0x362)](_0x4ef976){const _0x30b878=a0_0x2f588e;this[_0x30b878(0x86e)](_0x4ef976,_0x30b878(0x792));}};function ea(){const _0xb98c48=a0_0x2f588e;process['on']('uncaughtException',(_0x47cb07,_0x1730cd)=>{const _0x567da2=a0_0x5c2a;new $('uncaughtException')[_0x567da2(0x20e)]({'origin':_0x1730cd,'stderr':process['stderr']['fd'],'error':_0x47cb07});}),process['on'](_0xb98c48(0x48d),(_0x57afd4,_0xacf741)=>{const _0x32ed29=_0xb98c48;new $('unhandledRejection')[_0x32ed29(0x20e)]({'origin':_0xacf741,'stderr':process[_0x32ed29(0x4e4)]['fd'],'error':_0x57afd4});});}var ta=A(require(a0_0x2f588e(0x448))),ms=new ta[(a0_0x2f588e(0x6d0))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0x2f588e(0x391)),Ae=A(require(a0_0x2f588e(0x391))),ze=new $(a0_0x2f588e(0x2aa)),j=S['get'](a0_0x2f588e(0x2d4)),I=j[a0_0x2f588e(0x7aa)]?j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x410)]?Ae[a0_0x2f588e(0x6d0)][a0_0x2f588e(0x3e0)](j['CONNECTION']['URI'],{'dbName':j['CONNECTION'][a0_0x2f588e(0x474)]+a0_0x2f588e(0x5c7)}):Ae['default'][a0_0x2f588e(0x3e0)](a0_0x2f588e(0x776)+j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x3eb)]+':'+j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x2f5)]+a0_0x2f588e(0x667),{'user':j['CONNECTION'][a0_0x2f588e(0x743)],'pass':j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x231)],'dbName':j[a0_0x2f588e(0x7cc)]['DB_PREFIX_NAME']+a0_0x2f588e(0x5c7)}):null;j[a0_0x2f588e(0x7aa)]&&ze[a0_0x2f588e(0x569)]('ON\x20-\x20dbName:\x20'+I['$dbName']);var pe=j[a0_0x2f588e(0x7aa)]?j['CONNECTION']['URI']?Ae['default'][a0_0x2f588e(0x3e0)](j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x410)],{'dbName':a0_0x2f588e(0x8a7)}):Ae[a0_0x2f588e(0x6d0)][a0_0x2f588e(0x3e0)](a0_0x2f588e(0x776)+j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x3eb)]+':'+j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x2f5)]+a0_0x2f588e(0x667),{'user':j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x743)],'pass':j[a0_0x2f588e(0x7cc)][a0_0x2f588e(0x231)],'dbName':a0_0x2f588e(0x707)}):null;pe&&ze['info']('ON\x20-\x20dbName:\x20'+pe[a0_0x2f588e(0x870)]),process['on'](a0_0x2f588e(0x42d),()=>{const _0x39dc75=a0_0x2f588e;I&&I[_0x39dc75(0x70a)](()=>{const _0x5beb33=_0x39dc75;ze[_0x5beb33(0x569)]('Database\x20connection\x20closed.');}),pe&&pe['close'](()=>{const _0x2de351=_0x39dc75;ze[_0x2de351(0x569)](_0x2de351(0x264));});});var to=new Ce[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0x2f588e(0x2fd))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce[(a0_0x2f588e(0x2fd))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),sa=_0x21df2f=>{const _0x1e3e27=a0_0x2f588e;let _0x4bdbe2='z_'+_0x21df2f+_0x1e3e27(0x598);return I?.['model']('ChatModel',oo,_0x4bdbe2);},aa=require('mongoose'),ro=new aa[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=_0x2aa9d8=>{const _0x30d900=a0_0x2f588e;let _0xd447ad='z_'+_0x2aa9d8+_0x30d900(0x8ff);return I?.[_0x30d900(0x309)](_0x30d900(0x6ac),ro,_0xd447ad);},oa=require(a0_0x2f588e(0x391)),fs=class{},no=new oa[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=pe?.[a0_0x2f588e(0x309)](fs[a0_0x2f588e(0x7dc)],no,'ContactsAndGroups'),na=require(a0_0x2f588e(0x391)),ws=class{},co=new na['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),He=pe?.['model'](ws[a0_0x2f588e(0x7dc)],co,'instances'),ca=require(a0_0x2f588e(0x391)),lo=new ca['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),la=_0x3d02b8=>{const _0x5234fe=a0_0x2f588e;let _0x5d80d6='z_'+_0x3d02b8+_0x5234fe(0x8ce);return I?.[_0x5234fe(0x309)](_0x5234fe(0x4e7),lo,_0x5d80d6);},ua=require(a0_0x2f588e(0x391)),ys=class{},uo=new ua['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),da=I?.[a0_0x2f588e(0x309)](ys[a0_0x2f588e(0x7dc)],uo,a0_0x2f588e(0x595)),pa=require(a0_0x2f588e(0x391)),bs=class{},ha=new pa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ha['pre']('save',function(_0x2d08e2){const _0xa4cdcc=a0_0x2f588e;delete this[_0xa4cdcc(0x8b5)],delete this[_0xa4cdcc(0x2db)],delete this[_0xa4cdcc(0x68f)],delete this['flowStopConversation'],delete this[_0xa4cdcc(0x4f7)],_0x2d08e2();});var ga=I?.[a0_0x2f588e(0x309)](bs[a0_0x2f588e(0x7dc)],ha,a0_0x2f588e(0x548)),k=require(a0_0x2f588e(0x391)),Ss=require(a0_0x2f588e(0x312)),Ke=class{},fa=new k[(a0_0x2f588e(0x2fd))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new k[(a0_0x2f588e(0x2fd))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new k[(a0_0x2f588e(0x2fd))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x2f588e(0x6b1)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x2f588e(0x49b)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x2f588e(0x353)},'pollErrorMessage':{'type':String,'default':a0_0x2f588e(0x78e)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),wa=new k[(a0_0x2f588e(0x2fd))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new k[(a0_0x2f588e(0x2fd))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new k[(a0_0x2f588e(0x2fd))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new k[(a0_0x2f588e(0x2fd))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new k['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ya=new k[(a0_0x2f588e(0x2fd))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ba=new k[(a0_0x2f588e(0x2fd))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Sa=new k[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x584316=a0_0x2f588e;return _0x584316(0x4bf)+Math['random']()[_0x584316(0x52b)](0x24)[_0x584316(0x629)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x2f588e(0x238)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});Sa[a0_0x2f588e(0x509)](a0_0x2f588e(0x378),function(_0x229f89){const _0x371002=a0_0x2f588e;let _0x232f65=this['getUpdate']();if(_0x232f65&&typeof _0x232f65==_0x371002(0x57a)&&_0x371002(0x320)in _0x232f65){let _0x136153=_0x232f65['$set'];if(_0x136153){let _0x245b6b=new Set(),_0x32d4c0=new Set(_0x136153['variables']?.[_0x371002(0x475)](_0x4507ba=>_0x4507ba['name'])),_0x2ef3dc=JSON[_0x371002(0x8f1)](_0x136153),_0x49b701=/{{(?!_)([^}]*)}}/g,_0x1865b7;for(;(_0x1865b7=_0x49b701['exec'](_0x2ef3dc))!==null;)_0x32d4c0[_0x371002(0x726)](_0x1865b7[0x1])||_0x245b6b[_0x371002(0x2fa)](_0x1865b7[0x1]);_0x245b6b['size']>0x0?(console[_0x371002(0x2ae)]('Variáveis\x20não\x20encontradas:',Array[_0x371002(0x3fe)](_0x245b6b)),_0x136153['variablesNotFound']=Array[_0x371002(0x3fe)](_0x245b6b)):_0x136153[_0x371002(0x4a5)]=[],this[_0x371002(0x55b)]({'$set':_0x136153});}}_0x229f89();});var Ee=I?.['model'](Cs[a0_0x2f588e(0x7dc)],Sa,a0_0x2f588e(0x6b6)),fo=new k['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new k[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2f588e(0x26c)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ma=_0x4b1863=>{const _0x136aa2=a0_0x2f588e;let _0x4037d9='z_'+_0x4b1863+'_FlowHistorico';return I?.[_0x136aa2(0x309)](_0x136aa2(0x8e0),wo,_0x4037d9);},yo=new k[(a0_0x2f588e(0x2fd))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ma=new k[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new k[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ma],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x2f588e(0x710)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ma,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ca=_0x5216f8=>{const _0x2b1e01=a0_0x2f588e;let _0x22d2fb='z_'+_0x5216f8+_0x2b1e01(0x61a);return I?.[_0x2b1e01(0x309)](_0x2b1e01(0x8d0),bo,_0x22d2fb);},Es=class{},So=new k['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new k['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new k[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new k[(a0_0x2f588e(0x2fd))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x2f588e(0x904)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new k[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new k[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Te=I?.[a0_0x2f588e(0x309)](Es[a0_0x2f588e(0x7dc)],No,'AutomateSystem'),Ea=require(a0_0x2f588e(0x391)),$o=new Ea[(a0_0x2f588e(0x2fd))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x51a6a7=>{const _0x575418=a0_0x2f588e;let _0xcffb1e='z_'+_0x51a6a7+'_Labels';return I?.[_0x575418(0x309)](_0x575418(0x27f),$o,_0xcffb1e);},x=class{constructor(_0x485260){const _0x254ed1=a0_0x2f588e;this[_0x254ed1(0x1f7)]=_0x485260[_0x254ed1(0x375)](_0x254ed1(0x2d4));}};function T(_0x31d003){const _0x13f50d=a0_0x2f588e;let _0x56f50a={};for(let [_0x4f84d7,_0x38e469]of Object[_0x13f50d(0x5c5)](_0x31d003))if(typeof _0x38e469==_0x13f50d(0x57a)&&!Array[_0x13f50d(0x3e5)](_0x38e469)){for(let [_0x1693cb,_0x185f6a]of Object[_0x13f50d(0x5c5)](_0x38e469))_0x56f50a[_0x4f84d7+'.'+_0x1693cb]=_0x185f6a;}else _0x56f50a[_0x4f84d7]=_0x38e469;return _0x56f50a;}var Qe=class{constructor(_0xd1c38b,_0x53b27a,_0x34025e,_0x20199c,_0x16bd05,_0x5d0cc6,_0x10e39e,_0x151c5a,_0x3c33d1,_0x249b31,_0x3c8a83,_0x48b0df,_0x6abf07){const _0x36a089=a0_0x2f588e;this['message']=_0xd1c38b,this[_0x36a089(0x40f)]=_0x53b27a,this[_0x36a089(0x61e)]=_0x34025e,this[_0x36a089(0x6f8)]=_0x20199c,this[_0x36a089(0x548)]=_0x16bd05,this[_0x36a089(0x703)]=_0x5d0cc6,this[_0x36a089(0x665)]=_0x10e39e,this[_0x36a089(0x262)]=_0x151c5a,this[_0x36a089(0x6e3)]=_0x3c33d1,this[_0x36a089(0x7b3)]=_0x249b31,this['scheduleMessage']=_0x3c8a83,this['automateSystem']=_0x48b0df,this[_0x36a089(0x8d1)]=_0x6abf07;}get[a0_0x2f588e(0x76a)](){const _0xcbaecb=a0_0x2f588e;return this[_0xcbaecb(0x8d1)];}},Ye=class{},Xe=class extends x{[a0_0x2f588e(0x4a0)](_0x59b54d){return la(_0x59b54d);}async[a0_0x2f588e(0x465)](_0x59e53c,_0x49fad7){const _0x34270=a0_0x2f588e;if(_0x59e53c['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x34270(0x4a0)](_0x49fad7)[_0x34270(0x539)]([..._0x59e53c]))['length']};}catch(_0x42343c){return _0x42343c;}}async[a0_0x2f588e(0x3b1)](_0x4e5f39,_0x52c086){const _0x385a94=a0_0x2f588e;try{let _0x44a1d3=this[_0x385a94(0x4a0)](_0x52c086),_0x2600c0=T(_0x4e5f39[_0x385a94(0x2d6)]);return await _0x44a1d3['find'](_0x2600c0)[_0x385a94(0x27a)]({'messageTimestamp':-0x1})['limit'](_0x4e5f39?.[_0x385a94(0x58e)]??0x0)[_0x385a94(0x221)]();}catch{return[];}}async[a0_0x2f588e(0x787)](_0x4da9bc,_0x46d1fb){const _0x136986=a0_0x2f588e;try{let _0x2d3238=this[_0x136986(0x4a0)](_0x46d1fb),_0x1bfc48=T(_0x4da9bc[_0x136986(0x2d6)]);await _0x2d3238[_0x136986(0x2ec)](_0x1bfc48);}catch(_0x6e0942){console[_0x136986(0x20e)](_0x6e0942);}}async['update'](_0x466ebb,_0xf35870,_0x433b81){const _0x534199=a0_0x2f588e;try{let _0x48fd50=this['getMessageModelForOwner'](_0x433b81),_0x5afe81=T(_0x466ebb[_0x534199(0x2d6)]);return await _0x48fd50['findOneAndUpdate'](_0x5afe81,{'$set':_0xf35870},{'new':!0x0});}catch(_0x227cb0){throw console[_0x534199(0x20e)](_0x227cb0),_0x227cb0;}}async['insertMany'](_0x45addb,_0x24209a){const _0x32e21c=a0_0x2f588e;if(_0x45addb[_0x32e21c(0x8b9)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x32e21c(0x4a0)](_0x24209a)[_0x32e21c(0x539)]([..._0x45addb]))[_0x32e21c(0x8b9)]};}catch(_0x5205f8){return console[_0x32e21c(0x449)](_0x32e21c(0x344),_0x5205f8),_0x5205f8;}}async[a0_0x2f588e(0x75a)](_0x1b0001){const _0x215fd5=a0_0x2f588e;try{return await this['getMessageModelForOwner'](_0x1b0001)['collection'][_0x215fd5(0x8a8)](),{'success':!0x0};}catch(_0x1a6f72){return console[_0x215fd5(0x20e)](_0x1a6f72),{'success':!0x1,'error':_0x1a6f72};}}},Ds=A(require(a0_0x2f588e(0x4c4))),w=A(require(a0_0x2f588e(0x7f3))),Fe=require('fs'),J=A(require(a0_0x2f588e(0x304))),te=A(require(a0_0x2f588e(0x4d6))),Oi=require('uuid'),xi=A(require('qrcode')),Di=A(require(a0_0x2f588e(0x79b))),Na=[a0_0x2f588e(0x908),a0_0x2f588e(0x5a9),a0_0x2f588e(0x39a),'videoMessage','stickerMessage'],$a=['ephemeralMessage',a0_0x2f588e(0x61c),a0_0x2f588e(0x404),a0_0x2f588e(0x2d7)],Ps=require('os'),Jt=A(require(a0_0x2f588e(0x771))),Ue=require(a0_0x2f588e(0x637)),Pi=require(a0_0x2f588e(0x5ec)),we=A(require(a0_0x2f588e(0x391))),F=require('class-validator'),he=class{constructor(_0x267c5c,_0x241d22,_0x5ac049){const _0x1d871e=a0_0x2f588e;this[_0x1d871e(0x3a9)]=_0x267c5c,this[_0x1d871e(0x211)]=_0x241d22,this[_0x1d871e(0x7dc)]=_0x5ac049;}},Ze=class{},et=class{},_e=class{},tt=class{},st=class{},ve=class{},at=class{},it=class{},ot=class{},rt=class{},kt=A(require(a0_0x2f588e(0x761))),Ra=require('fs'),Ia=require(a0_0x2f588e(0x304));function a0_0x5c2a(_0x10db72,_0x465f09){const _0x57c27a=a0_0x57c2();return a0_0x5c2a=function(_0x5c2a97,_0x5f2923){_0x5c2a97=_0x5c2a97-0x1c1;let _0x4ae8bb=_0x57c27a[_0x5c2a97];return _0x4ae8bb;},a0_0x5c2a(_0x10db72,_0x465f09);}async function Oe(_0x2c3732){const _0x5621f6=a0_0x2f588e;let _0x337107=H['waInstances'][_0x2c3732];if(j['ENABLED']){let _0x57bb45=I['getClient']()['db'](j[_0x5621f6(0x7cc)][_0x5621f6(0x474)]+_0x5621f6(0x3c1))[_0x5621f6(0x219)](_0x2c3732);return _0x337107||(await _0x57bb45[_0x5621f6(0x3b1)]({})[_0x5621f6(0x55d)]())[_0x5621f6(0x8b9)]>0x0;}return _0x337107||(0x0,Ra[_0x5621f6(0x23a)])((0x0,Ia['join'])(Me,_0x2c3732));}async function Aa(_0x2b4551,_0x217b89,_0x28bb25){const _0x16d774=a0_0x2f588e;if(_0x2b4551[_0x16d774(0x45a)][_0x16d774(0x3e8)]('/instance/create')||_0x2b4551[_0x16d774(0x45a)][_0x16d774(0x3e8)]('/instance/fetchInstances')||_0x2b4551[_0x16d774(0x45a)]['includes'](_0x16d774(0x40a))||_0x2b4551[_0x16d774(0x45a)][_0x16d774(0x3e8)](_0x16d774(0x546))||_0x2b4551[_0x16d774(0x45a)][_0x16d774(0x3e8)]('/instance/connect')||_0x2b4551[_0x16d774(0x45a)][_0x16d774(0x3e8)](_0x16d774(0x531))||_0x2b4551['originalUrl'][_0x16d774(0x3e8)](_0x16d774(0x23b)))return _0x28bb25();let _0x516778=_0x2b4551['params'];if(!_0x516778?.[_0x16d774(0x763)])throw new m(_0x16d774(0x573));if(!await Oe(_0x516778[_0x16d774(0x763)]))throw new V(_0x16d774(0x3ac)+_0x516778['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x28bb25();}function a0_0x57c2(){const _0x5cb085=['name','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','sectionsToString','authService','isJidGroup','trimmed','AutomateSystem','view\x20engine','replacer','PRODUCT_LIST','group','leadInfo.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Instância:\x20','Número:\x20','pollCreationMessageV3','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','uazapiSendAudio','\x20minutos.\x20Será\x20às\x20','type','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','waitingMenu_id','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','@whiskeysockets/baileys','createSectionsFromValues','updateMissingCustomFields','\x20}\x0a','editOperator','\x20depois\x20','SEND_MESSAGE','MESSAGES_UPSERT','\x22,\x20valor\x20a\x20substituir:\x20\x22','STATUS_INSTANCE','exit','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','contentText','toggleEphemeral','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','fetchConversation','updatePrivacySettings','processgoToFlow','updateOne','docker','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Fluxo\x20\x27','DATABASE_CONNECTION_DB_PREFIX_NAME','updateFlowConfig','Log\x20out\x20instance:\x20','):\x20Atualizando\x20status\x20da\x20mensagem\x20','/events','Erro\x20ao\x20copiar\x20o\x20documento','headerString','\x1b[33m','redirect','mkdirSync','\x20inseridos\x20no\x20banco\x20de\x20dados...','messageHandle','state','pairingCode','sign','findMessages','SSL_CONF_PRIVKEY','mediaKey','imagechat','groupGetInviteInfo','Data\x20inválida\x20fornecida','empty','vir','chatLog','sendMessage','joinGroupValidate','conversationTimestamp','leadInfo.atendimentoAberto','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','configureIPv6','updateProfileName','spawn','groups.update','waitingMenu_text','response','Module\x20-\x20ON','beautifyWithPlaceholders','/wa-connection-update','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','applyvaredit','editFlowReply','AddUserFlow','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','throwAndLogError','bodyStringErrorParse','env.KEY\x20!==\x20key','):including\x20timestamp\x20in\x20url:\x20','connectToWhatsapp','profile','processUazapi','connectionStatus','DELETED',',\x20valor\x20a\x20encontrar:\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','editedMessage','audioWhatsapp','connectedName','removeInstance','toLocaleString','Safari','textMessage','chatModify','\x22\x20cannot\x20be\x20empty','XX:XX:XX:XX:XX:XX','express-async-errors','function','contextInfo','creds.update','cwd','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','.wav','\x20inseridas\x20no\x20banco\x20de\x20dados...','):Notifying\x20clients\x20for\x20chat:\x20','webhookService','.\x20Pulando.','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','some','creds.json','saveVariable','editConversation',',\x20saindo.','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','dbInstance','getContactModelForOwner','deletedCount','scheduleSendMedia','put','formatStatusMessage','requestFile','fetchInstances','fullName','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','labels.edit','unlocked','request\x20received\x20in\x20editConversation','Erro\x20ao\x20atualizar\x20conversa:\x20','chatId','setWebhook','getUniqueFlowName','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','local_map','console','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','$dbName','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','updateConversation','readData','util','uazapiSendLocation','findOne','#b4ebff','apikey','deleteChat','send','QRCODE_UPDATED','STORE','buttonText','*Pergunta*:\x20\x0a','Error\x20removing\x20IPv6\x20address:\x20','Flow\x20iniciado\x20com\x20','READ','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','updateMany','convertaudio','deleteflow','remoteJids','Error\x20updating\x20message\x20status:','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','readMessages','config','join','}}\x20->\x20valor\x20não\x20encontrado','editflowblock','proto','setHeader','updateCustomFields',',\x20lastCondition:\x20','):\x20Grupo\x20','inviteUrl','iniciando\x20fluxo\x20router','inet6','@broadcast','mongodb','deleteDoneMessages','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','Erro\x20ao\x20deletar\x20mensagens:',',\x20global:\x20','authModel','Erro\x20ao\x20deletar\x20chat:','responsavelid','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x20e\x20ID=','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','contains','variables','getMessage','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','cpf','cachedData-whatsapp','drop','matchRegex','):\x20newSecondValue\x20após\x20replaceVariables:','getPrototypeOf','):Business\x20profile\x20fetched','startFlowWebhook','debug','buffer','pollUpdateMessage','/events/:instance','isRunning','SSL_CONF','):\x20this.processingGroup_id:\x20','flowActive','connecting','hex','/wa-qrcode','length','PRESENCE_UPDATE','connectionUpdate','):\x20Editando\x20condição\x20do\x20fluxo...','currency','removeChatLabel','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','DATABASE_CONNECTION_HOST','):\x20Label\x20','):\x20alterando\x20this.AutomateSystem','Error\x20adding\x20IPv6\x20address:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','writeData','.xlsx','stanzaId','paused','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','announcement','IPv6\x20addresses\x20detected:\x20','RECONNECT_TIME_FRAME','Unauthorized','_Messages','ERROR','ScheduleMessageModel','dbClient','Comando\x20desconhecido','findByIdAndDelete','participants','request\x20received\x20in\x20editFlowgroup','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','awaitSeconds','):\x20Fluxos\x20não\x20estão\x20ativados','updateMissingEtiquetas','decryptPollVote','request\x20received\x20in\x20scheduleMessage','https://github.com/uazapi/uazapi.git','updateBlock','logger','author','ConversationModel','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','AutomateSystem\x20não\x20foi\x20inicializado','AUTHENTICATION_TYPE','selectableCount','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','prototype','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','selectedOptions','Garbage\x20collection\x20não\x20está\x20disponível.','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','stopIfLastReturnedError','https://api.ipify.org?format=json','expiration','video','stringify','Error\x20while\x20deleting\x20message\x20for\x20everyone','chats.update','activatedCount','recebido\x20de','endsWith','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Network\x20interfaces\x20detected:\x20','joinApprovalMode','loadWebhook','API_KEY','off','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Erro\x20ao\x20atualizar\x20o\x20fluxo:','_Contacts','keep-alive','):\x20ev.flush\x20realizado','notas','groupRequestParticipantsUpdate','!stop','\x1b[33m%s\x1b[0m','https://v6.ident.me','updateMissingTags','imageMessage','scheduleNextCheck','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','.jpg','Not\x20allowed\x20by\x20CORS','groupAcceptInvite','every','last','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','REDIS_PREFIX_KEY','pushName','remove.instance','groupUpdateSubject','done','delayChatLabel_MAX_RETRIES','userDevicesCache','readFileSync','editFlow','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Error\x20testing\x20IP\x20with\x20','Instance\x20\x22','key','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','messaging-history.set','):\x20conversation.lastInteraction:\x20','Limpando\x20logs\x20do\x20PM2...','picture','send.message','formatBRNumber','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','STORE_CONTACTS','8784153ttexqo','apply','\x20saindo\x20da\x20função','):Archiving\x20chat','sendList','):\x20isVote:\x20','creds','Mac\x20OS','profileName','):Converted\x20image\x20deleted','.xls','firstValue','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','sendDataWebhook','etiquetas','SERVER_TYPE','DOCKER_ENV','removeUnusedChatFields','client','getBase64FromMediaMessage','newValue','replaceVariablesInReplyOptions','action','\x1b[31m','isLong','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','pm2\x20flush','):\x20Bloco\x20com\x20ID\x20','50mb','archive','validate','JWT','):\x20Detecção\x20de\x20condição\x20de\x20corrida,\x20a\x20mensagem\x20','memberAddMode','CHATS_UPSERT','sendButtons','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Authentication\x20error','caption','_error','\x20não\x20encontrado\x20para\x20atualização.','superadmin','messages.update','getConversation','WARN','dbSettings','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','\x20adicionado\x20ao\x20chat\x20','reject','Not\x20is\x20business\x20profile','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','sendMessageWithTyping','mimetype','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','binary','updateAgent',',\x20valor\x20passado:\x20\x22','):\x20Envio\x20interrompido\x20devido\x20a\x20UUID\x20de\x20processo\x20não\x20corresponder.','sleep','Valor\x20de\x20find\x20ou\x20replace\x20ausente','groupToggleEphemeral','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','unreadcount','Chat\x20com\x20ID\x20','startCommand','webhookModel','CLEANING_INTERVAL','sendMenu','error','#01d0e2','stopMinutes','exists','ChatRouter','buttons','Primeiro\x20Valor:\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20atualização\x20chat:\x20','processvaredits','Erro\x20na\x20função\x20updateChatWithMessage:\x20','collection','):\x20transformedCustomFieldVariables','):Image\x20is\x20url','MESSAGES_SET','wuid','no.connection','StatusJidList\x20is\x20required','https://ifconfig.me/ip','lean','/startFlow/:instance/:startID','getClient','indexOf','reorderMessages','readreceipts','formatVCard','SERVER_PORT','lastMessage','replyOptions',',\x20Minutes\x20to\x20Close:\x20','ListMessage','ReplyOption\x20com\x20ID\x20','3426198FlRXxf','lastBlockId','repository','PASSWORD','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','collections','tags','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','false','Forbidden','existsSync','/instance/delete','Group\x20not\x20found','request\x20received\x20in\x20deleteDoneMessages','\x20Tentativa\x20de\x20reconexão\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','stopped','):\x20conversation.waitingMenu_name','chatHandle','Erro\x20ao\x20criar\x20fluxo','text','allContacts','updateStopChat','groupJoinApprovalMode','out','dayjs','jsonschema','router','getDelay','/wa-all-message',',\x20Resultado:\x20','Erro\x20ao\x20atualizar\x20agendamento\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','request_method','createIPv6','rowId','Rótulo\x20inválido\x20ou\x20sem\x20ID.','forEach','convertaudioMP3','EMAIL:','0123456789ABCDEF','removeIPv6ById','updateChatGroupData','last_update','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','CONTACTS_UPSERT','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','CREDENTIALS','REDIS_URI','updatePresence','flow','envProcess','CacheContacts\x20database\x20connection\x20closed.','imgUrl','hGet','SERVER_URL','body','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','PLAYED','createAndSave','open','):Error\x20in\x20converting\x20audio','pictureUrl','fromObject','Erro\x20ao\x20atualizar\x20o\x20flow.','addReplyOption','):\x20leadInfoVariables','connectionState','created','not_announcement','):\x20Conversa\x20está\x20expirada','Configuração\x20SSL\x20recuperada:','\x20segundos','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','sort','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','messageType','buttonId','role','LabelModel','pollCreationMessageKey','testIPv6','):\x20Erro\x20durante\x20a\x20atualização:\x20','addresss','getLabelModelForOwner','createInstance','subject','findAll','.webm','sha256','notContains','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','data','deleteInstance','ORG:','Início','updateOneById','writeFileSync','updateOnlinePrivacy','errors','cacheInstanceModel','upperCase','color','lastSend','equal','phoneNumber','INFO','\x20não\x20é\x20a\x20esperada.','\x20and\x20data:','json','error\x20get\x20vote','_sender','\x20-y','Network\x20Interface\x20detected:\x20','):\x20Rótulo\x20atualizado:\x20','parse','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','instances','\x1b[31m%s\x1b[0m','request\x20received\x20in\x20fetchConversation','findParticipants','removeData','Db\x20Connection','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','.\x20Aguardando\x20','.fileUrl','warn','exports','findIndex','/webhook','editChat','groupName','\x27\x20do\x20banco\x20de\x20dados...','Erro\x20ao\x20remover\x20label\x20','processPollUpdateMessage','extractMessageContent','*\x0a\x0a','arraybuffer','messages','):\x20Current\x20Time:\x20','groupCreate','SUCCESS','changeVariables','sendPoll','):\x20Enviando\x20texto','):Delete\x20chat','startCommandWord','saveMediaToFile','detail','findOrCreate','lastSendMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','\x22\x20not\x20found','generateHash','processConditions','qrcode.updated','floor','webp','dropCollection','demote','mediatype','Fluxos\x20não\x20estão\x20ativados','emit','subjectTime','DATABASE','getScheduleMessageModelForOwner','where','viewOnceMessageV2','normalizeMessageContent','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','sendLocation','flowIgnoreGroups','all_member_add','width','awaitingApproval','sharePass','AppStateSyncKeyData','setRestartTimeout','writeFile','sendStatus','replaceOne','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','closed','blockLogs','chat\x20não\x20encontrado','/create','nextMessageId','instanceInfo','deleteMany','oldValue','convertedOptions','Erro\x20ao\x20editar\x20agentes','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','deleteMessageForEveryone','sendAudio','title','PORT','listResponseMessage','isJWT','description','contacts.upsert','add','context','AddChatLabel','Schema','remote\x20\x22origin\x22','Erro\x20ao\x20iniciar\x20o\x20fluxo.','):\x20Buscando\x20flow...','src','.ppt','globalShow','path','reduce','status.instance','^\x5cd+([-]\x5cd+)*@g.us$','use','model','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','\x1b[36m%s\x1b[0m','\x1b[32m%s\x1b[0m','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20whoCanEdit\x20before\x20validation:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','getMinutes','ButtonsMessage','uuid','Button\x20IDs\x20cannot\x20be\x20repeated.','eventEmitter','):\x20Query\x20params:','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','hasOwnProperty','AUTHENTICATION_API_KEY','pollCreationMessage','padEnd','font','creation','convert','noConnection','request\x20body:\x20','$set','Cannot\x20','sections','#ffffff','findGroups','application/json','PROXY','API\x20Key\x20inválida.','https://uazapi-plugin.bubbleapps.io/?url=','SERVER_ACK','secondValue','Generated\x20IPv6:\x20','Message','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','Instance\x20Name:','header','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Contacts\x20not\x20found','getTicketSystem','isCommunity','locationMessage','sendSticker','processawaitSeconds','saveTextReply','networkInterface','long','set','6818384zbZemZ','getOwnPropertyDescriptor','\x20com\x20sucesso.','toFile','integer','copyBlock','arrayUnique','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','myAppStateKeyId','ERROR:\x20','addBlock','):\x20Usando\x20extensão\x20padrão:\x20','clearVariables','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','timeout','.mimetype','media','params','):\x20Entrou\x20na\x20função\x20goToFlow','HeaderType','blockId','toBrazilianNumberFormat','):\x20delete\x20=\x20true','dataValidate','Esse\x20fluxo\x20expirou','headers','\x1b[47m','E-mail:\x20','):\x20Editando\x20variável\x20do\x20fluxo...','inner','video-cover.png','Deleted\x20','CORS_CREDENTIALS','METHODS',',\x20qrcodeCount:\x20','.extension','/instance/fetchInstances','IPv6\x20address\x20configured:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','dark','request\x20received\x20in\x20updateFlowConfig','uazapiSendText','editflowcondition','Erro\x20ao\x20encerrar\x20a\x20API','IP\x20confirmed:\x20','audio/ogg;\x20codecs=opus','readMessageBot','privacySettings','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','fetchStatus','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','CORS_METHODS','post','ListType','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','WA\x20MODULE','SendScheduleMessage','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','get','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','Rótulo\x20deletado:\x27,\x20','findOneAndUpdate','transformScheduledMessagesByType','keys','address','^\x5cd+','):\x20Enviando\x20contato','CONECTADO\x20À\x20UAZAPI','createJid','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','groupdata','/wa-message-update','findChats','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','closeExistingConversations','labelId','messageId','Type\x20not\x20found','sim','convertToWebP','profilePictureUrl','presence','g-t','varedits','Subdomínio\x20extraído\x20da\x20URL:','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','mongoose','):\x20Buscando\x20todos\x20os\x20fluxos...','Subdomínio\x20não\x20encontrado','apiName','remove','folder','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20Flow\x20\x27','cleanStore','audioMessage','Erro\x20ao\x20buscar\x20fluxos:','):Image\x20is\x20base64','options','connectToWhatsappController','Erro\x20ao\x20buscar\x20o\x20fluxo','Erro\x20ao\x20alterar\x20fluxo','loadEnv','notEmpty','replaceValue','613lmxoLF','4868ByhFVd','\x20-i\x20','save','valid','jid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','node-cache','The\x20','initAuthCreds','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','enviado\x20para','Last\x20message\x20not\x20found','find','RemoveChatLabel','whoCanEdit','splice','fetchLatestBaileysVersion','):\x20Falha\x20ao\x20deletar\x20mensagem.','.jwt','output','online','whoCanUse','):\x20Buscando\x20conversa...','defineProperty','groupBetterSetting','mentions','ip6eui','cacheInstanceRepository','-instances','presenceSubscribe','ignoreGroups','messageStubType','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','admin_add','delayChatLabel_RETRY_DELAY_MS','isConnected','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','request\x20received\x20in\x20getConversation','uazapiSendMedia','TYPE','greater','Missing\x20global\x20api\x20key','hGetAll','fetchMessages','Erro\x20ao\x20adicionar\x20label\x20','isInteger','):\x20whoCanEdit\x20after\x20validation:\x20','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','The\x20global\x20api\x20key\x20must\x20be\x20set','min','sendMedia','groupadd','Fluxo\x20agendado\x20pelo\x20fluxo\x20','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','basename','):Image\x20created','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','createConnection','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','pollMessageOnDelete','goToFlow','TEXT','isArray','bulkWrite','inviteCode','includes','triedToSend','value','HOST','VERBOSE','lastFetchAwaitingApproval','isValidAndUniqueIPv6','sharp','Valor\x20inicial:\x20\x22','request\x20received\x20in\x20editFlow','LOG_COLOR','status','Erro\x20ao\x20arquivar\x20chat','result','findConversation','revokeInviteCode','HH:mm:ss','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','saveChatVariables','_p_','groupRequestParticipantsList','$addToSet','from','Tentando\x20reconectar...','Erro\x20ao\x20tentar\x20autoCompleteMessages','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','Flow\x20iniciado','events','viewOnceMessage','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','locked','replaceVariables','Error\x20in\x20chatModify\x20for\x20number\x20','findAndReplace','/exit','statusMessage','apirequest','):Hash\x20to\x20image\x20name:\x20','verifyWhatsAppNumber','chat','URI','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Configured\x20IPv6:\x20','website','uazapiSendMenu','sending','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','pollErrorMessage','):\x20nextBlock.uazapi.name','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','/wa-presence','authState','):\x20Ignoring\x20group\x20messages.','allflows','addMessagesToGroup','sem\x20texto\x20na\x20mensagem','sendWhatsAppAudio','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','groupParticipantsUpdate','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','testingWith','importChats','getTime','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','SINGLE_SELECT','getScheduleMessage','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','removeProfilePicture','beforeExit','updateLastSeenPrivacy','\x20não\x20encontrado','array','This\x20name\x20','connectionClosed','store','groupValidate','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','deleted','AUTHENTICATION_JWT_SECRET','FlowRouter','lastMessage_id','chats.set','7491QwedKt','encoding','createServer','scheduleFlow','mediaSticker','Falha\x20ao\x20processar\x20fetchBusinessProfile','https://chat.whatsapp.com/','_activatedCount','bateu\x20events','webhookMap','FULLCHAIN','eventemitter2','log','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','menuType','groupSetting','):\x20Limpando\x20AutomateSystem','padStart','setContext','Bad\x20Request','numbers','CONTACTS_SET','notMatchRegex','generateRandomIPv6','random','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','\x27\x20não\x20encontrado','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','originalUrl','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','delayChatLabel','StartID:','status@broadcast','participant','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','_id','createHash','delAll','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','insert','):\x20sender\x20=\x20number:\x20','LOG','not\x20loaded','enumerable','getProfileName','application/octet-stream',',\x20resultado:\x20','remoteJid','flowConfig','\x20foi\x20interrompido\x20pelo\x20usuário.','deleteReplyOption','processclearVariables','utf-8','keyPattern','DB_PREFIX_NAME','map','REDIS_ENABLED','Removidas\x20as\x20variáveis:\x20','menuExpiredMessage','and','dbConnection','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','prepareWAMessageMedia','fileLength','findByIdAndUpdate','):\x20[messages.upsert]\x20group\x20ignored','bodyString','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','flushHeaders',',\x20fará\x20nova\x20verificação\x20em\x20','8080','):\x20Ler\x20mensagem','Cache-Control','$pull','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','Mensagem\x20não\x20suportada','reorderBlocks','request\x20received\x20in\x20updateAgent','processingGroup_id','unhandledRejection','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','refused','when','FlowController','):\x20Editando\x20grupo\x20do\x20fluxo...','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','saveConversationToDatabase','startID','user','synchronizeAndMapFlows','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','replace','reaction','Selecione','option','KEY','#92ceac','release','getMessageModelForOwner','fetchLabels','joinGroup','contactsArrayMessage','storePath','variablesNotFound','true','Subscribed\x20Events:','shift','error_log','reorderReplyOptions','\x20tentativas:\x20remotejid=','OrAnd','):\x20Criou\x20conversa\x20no\x20startFlow','Not\x20Found','subjectOwner','realVariables','updateGroupPicture','processScheduleFlow','makeCacheableSignalKeyStore','timeInMinutes','#64c4ff','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','):\x20Entrou\x20na\x20função\x20stop','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','redis','labels.association','leadInfo','Nenhum\x20fluxo\x20correspondente\x20encontrado.','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','DD/MM\x20HH:mm:ss','!cmd_','stopConversation','groups.upsert','38390dAEhWv','admin','@ffmpeg-installer/ffmpeg','findContacts','):Image\x20path:\x20','quoted','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','waitingForReplyMenu','randomMac','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','sendPresenceUpdate','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','):Output\x20path:\x20','substring','https://api.elevenlabs.io/v1/text-to-speech/','contacts.update','deleteConversation','updateGParticipant','lastCondition','canSendMessage','axios','app','call','msgRetryCounterCache','leaveGroup','groupDesc','groupSettingUpdate','):\x20Limpando\x20delayMessage','startsWith','findGroup','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','Erro\x20ao\x20alterar\x20privacidade','messageTimestamp','stderr','Falhou\x20ao\x20encontrar\x20chat\x20','updateProfileStatus','MessageModel','deleteMessage','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','eventHandler','updateStatusPrivacy','updateParticipant','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','4iUAucy','interval\x20não\x20é\x20um\x20número','\x20removido\x20do\x20chat\x20','nome','\x20contacts','maxActives','Instância\x20não\x20encontrada.','qrCode','flowStopMinutes','Error\x20finding\x20many\x20contacts:','delaySecMax','groups','restartInstance','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','14WwXxAo','jwt','groupMemberAddMode','extractPhoneNumber','digest','displayName','Falha\x20ao\x20criar\x20IPv6.','stopWhenYouSendMsg','):\x20Adicionando\x20\x27','Erro\x20ao\x20executar\x20bulkWrite:','_pushName','groups_ignore','pre','messageContextInfo','split','request\x20received\x20in\x20deleteFlow','):Processing\x20audio','SERVER','pollMessage','\x1b[1m','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','temp-','Erro\x20ao\x20editar\x20o\x20bloco:\x20','idSchedule','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','utf8','updateReadReceiptsPrivacy','lastReceivedMessage','truncatedto','Connection','#6f7bcf','):\x20\x27Enviando\x20mídia\x20para\x20\x27','poll','):Type\x20defined\x20as\x20audio','promote','method','configService','Erro\x20ao\x20atualizar\x20cacheInstance:','__esModule','getflow','request\x20received\x20in\x20allFlows','.url','\x0aFN:','The\x20property\x20cannot\x20be\x20empty','reference','verifiedName','toString','whatsappNumber','fileUrl','):\x20','reconnectAttempts','_fromMe','/instance/connectionState','@g.us','process','oldToken','Connection\x20closed\x20for\x20instance:\x20','.svg','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','insertMany','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','uazapiSendContact','@s.whatsapp.net','groupInviteCode','DEBUG','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.',']\x20(','segundos','redisEnv','pop','descOwner','groupFetchAllParticipating','/config','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','webhook','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','query','readdirSync','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','processUUID','uazapi','extractRegex','SECRET','Logger','messageSecret','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','choices','isListOfNumbers','groupJid','static','env','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','setUpdate','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','toArray','Types','.png','EMAIL','stickerMessage','):\x20Conversa\x20atualizada\x20em\x20memória','getBusinessProfile','hbs','trim','isJidBroadcast','instanceKeys','filter','info','this.reconnectAttempts:\x20','Erro\x20ao\x20importar\x20chats','groupMetadata','yes','ipv6Prefix','\x20minutos','del','isBusiness','\x1b[34m','instanceName\x20not\x20provided.','variable','):\x20Enviando\x20áudio','contact_blacklist','GROUPS_UPDATE','STORE_CLEANING_TERMINAL','update','object','Instâncias\x20removidas:\x20','all','lastInteraction','\x1b[43m','REDIS','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','cleaningUp','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Não\x20respondeu\x20com\x20a\x20enquete.','):\x20Comando\x20desconhecido:\x20','promisify','CORS','flows','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','evaluateCondition','redis://127.0.0.1:6379','vote','limit','email','readFile','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','/64\x20dev\x20','Novo\x20IP\x20criado:\x20','checkAndRestartProcess','authentication','footerText','getChatModelForOwner','_Chats','loadInstance','updateProfilePicture','startFlow','end','Falha\x20ao\x20recriar\x20IPv6.','createflow','\x1b[1m\x1b[37m','menuMessage','automateSystem','):\x20Entrou\x20na\x20função\x20scheduleFlow','request\x20received\x20in\x20updateAutoCompleteMessages','ex:\x20\x22groupJid=120362@g.us\x22','match','):\x20[messages.update]\x20group\x20ignored','getContentType','):\x20debug\x20alterando\x20this.AutomateSystem','documentMessage','rows','STORE_MESSAGE','longitude','menuIgnoreNonVotes','toBRL',',\x20pairCode:\x20','):\x20Editando\x20bloco...','ms\x20(tentativa\x20','replaceVariablesChat','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','profilePicture','\x1b[33m\x1b[1m','\x20chats\x20de\x20','Flow\x20\x27','EXPIRIN_IN','updateMediaMessage','findAndReplaceRegex','flowName','isAdmin','leadInfo.desativadoFluxoAte','blocks','ephemeralExpiration','ini','):\x20Flow\x20desativado','#ffc5c7','capitalizedWords','https://uazapi-plugin.bubbleapps.io/','entries','http','-whatsapp-api',',\x20received\x20','deleteBlock','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','updateChatWithMessage','less','waMonitor','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','recording','listen','notEqual','The\x20instance\x20needs\x20to\x20be\x20disconnected','urlOrBase64','ScheduleMessage','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','/instance','.mp3','views','deleteOne','AUTHENTICATION','values','DATABASE_CONNECTION_USER','unknown\x20operation\x20type\x20[','isURL','findById','upsertChats','archived','editScheduleMessage','toDataURL','Error\x20fetching\x20group','undefined','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','isBase64','label_jid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','getDevice','senderKeyDistributionMessage','node-mime-types','createFlow','createWebhook','verbose','Instance\x20deleted','):Desconectado,\x20parando\x20execução.','editflow','groupHandler','data:\x20','Router','DATABASE_CONNECTION_PASSWORD','backgroundColor','descId','#000000','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','isCommunityAnnounce','moreLogs','ip\x20-6\x20addr\x20show\x20dev\x20','flattenObject','--------------------------------------','expression','/wa-groups','CHATS_UPDATE','CONNECTION_UPDATE','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','toLowerCase','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','announce','sendContact','Read\x20messages','request\x20received\x20in\x20updateCustomFields','document','):\x20Bloco\x20copiado:\x20','fetchBusinessProfile','getAutomateSystem','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','getStatus','sendCommand','envYaml','):\x20enviado\x20para\x20[','\x22\x20-\x20REMOVED','createConversationforgoToFlow','_activedCount','/media','_ScheduleMessages','replaceVariablesLogs','documentWithCaptionMessage','ids','contact','uazapiDeleteMessage','toNumber','findFlow','protocolMessage','optionDescription','scheduleSendText','organization','StartBot','deleteImportedChat','findLabels','slice','groupLeave','Cache\x20instance\x20update\x20result:\x20','updateMessage','#f64847','createGroup','delay','listMessage','stdout','createConversationforStartFlow','markMessageAsRead','SSL_CONF_FULLCHAIN','editMessagesInGroup','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','child_process','):\x20\x27Enviando\x20texto\x20para\x20\x27','available','requestPairingCode','Resultado\x20da\x20correspondência\x20de\x20URL:','):Temp\x20image\x20deleted','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Internal\x20Server\x20Error','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','.X-ABLabel:Celular\x0a','global','waInstances','customFields','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','isValidIPv6Config','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','prepareMediaMessage','):\x20conversation.status:\x20','everyOne','normalizeMessage','?timestamp=','fetchProfile','telefone','readMessage','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','push','statusJidList','groupId','Instance\x20Key\x20from\x20DB:','start','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','\x1b[46m','editflowvariable','buttonMessage','variablesToObject','app-state-sync-key','endSession','contactMessage','createOrUpdate','):\x20error:\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','The\x20\x22','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20',',\x20isAdmin:\x20','url','instance','Erro\x20ao\x20atualizar\x20AutomateSystem:','?authSource=admin&readPreference=primary&directConnection=true','downloads','generateWAMessageFromContent','):\x20Buscando\x20conversas...','\x20mensagens\x20de\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','/wa-chats','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','generate','reviver','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','GROUP_PARTICIPANTS_UPDATE','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','):\x20Bloco\x20original\x20para\x20cópia:\x20','item','CHATS_DELETE','\x20horas\x20e\x20','linkPreview','updateGParticipate','image','js-yaml','https://jsonip.com','):Getting\x20image\x20from\x20url','conditions','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','owner','stateConnection','\x20:\x20','messages.set','Conexão\x20estabelecida','deleteFlow','desativadoFluxoAte','contacts','\x20quoted:\x20','content-type','4285385ODAzze','message','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','notify','flowPrefixCommand','findGroupInfo','autoCompleteMessages','cache','):\x20Going\x20to\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','[all]','approve','modifiedCount','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','\x0a{\x20instance:\x20','):\x20mediaMessageInfoId\x20:\x20','public','presence.update','charAt','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','\x20\x1b[0m','sendText','Erro\x20ao\x20editar\x20a\x20conversa','replaceVariablesInObject','no-cache','.gif','Last\x20message\x20not\x20found\x20for\x20number:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','vcard','findWebhook','editFlowBlock','\x20não\x20encontrado\x20para\x20cópia','ContactModel','imported','DATABASE_CONNECTION_URI','max','):\x20Error\x20processing\x20the\x20block:\x20','list','PENDING','getConversationModelForOwner','shareFlow','Parando\x20aplicação,\x20atualização\x20recebida','allFlows','3939924WfSRNR','[AUTH]\x20Database\x20is\x20not\x20enabled','):\x20Criando\x20fluxo...','CHATS_SET','Operador:\x20\x22','removed','contactHandle','none','delaySecMin','scheduleMessage','count','/media/','content','exec','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','#fed428','createNewConversation','#d3a91f','updateAutoCompleteMessages','editFlowVariable','Esse\x20fluxo\x20não\x20permite\x20importação.','\x20ao\x20chat\x20','quotedMessage','COLOR','connect','default','proxy:\x20','#d8e651','inviteCodeDetails','):Image\x20converted\x20to\x20WebP','delayMessage','Message\x20not\x20found','TEL','fileName','autoCompleteMessages.command_1','Erro\x20ao\x20editar\x20o\x20chat','apiResponse','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','cleanDisconnectedInstances','newStoppedUntil','stopMinutesMaxActives','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','findManyByIds','\x5c$&','flowConversation','muteEndTime','instance.','cachedContact','Nenhum\x20participante\x20válido\x20encontrado.','reactionMessage','#83e421','.doc','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Content\x20is\x20required','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','):\x20Deletando\x20conversa...','editflowgroup','\x27...','conversation','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','pt-BR','localWebhook','/wa-contacts','request\x20received\x20in\x20starFlow','):\x20Mensagem\x20já\x20enviada\x20para\x20','cacheContact','):\x20Criando\x20nova\x20conversa[createNewConversation]','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','https://','load','fone','NextBlock','CONTACTS_UPDATE','MAX_SAFE_INTEGER','mentioned','updateGroupWebhook','auth','authorization','):\x20Não\x20achou\x20nenhum\x20flow','request\x20received\x20in\x20createFlow','cachedContacts-whatsapp','catch','):\x20Iniciando\x20bot...','close','BufferJSON','evaluateConditionTest','then','code','fetchContacts','scheduled','editFlowCondition','command','chats.delete','Erro\x20ao\x20iniciar\x20fluxo:\x20','qrcode','):\x20Editando\x20mensagens\x20no\x20grupo...','\x1b[0m','autoCompleteMessages.command','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20customFieldVariables','ephemeralDuration','class-validator','):\x20Procurando\x20conversa','assign','now','number','unreadCount','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','logout','request\x20received\x20in\x20getFlow','#9ba6ff','has','fetchPrivacySettings','):\x20Enviando\x20mensagem\x20para\x20','fetchProfilePicture','PRIVKEY','groupUpdateDescription','create','.webp','):Trying\x20to\x20get\x20business\x20profile','Parando\x20aplicação...','boolean','group-participants.update','onTime','lastUpdate','Erro\x20ao\x20buscar\x20a\x20conversa','replyOption','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','connectedClient','text/event-stream','setting','statusCode','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','unavailable','toUpperCase','listType','updateReplyOption','downloadMediaMessage','fromMe','connection.update','USER','):\x20Enviando\x20enquete','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','IPv6\x20Prefix\x20detected:\x20','base64','Error\x20updating\x20cache\x20contact:','processblock','chats.upsert','Fluxo\x20id\x20\x27','abs','MESSAGES_UPDATE','sendReaction','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Erro\x20ao\x20deletar\x20a\x20conversa','lowerCase','scheduleSendAudio','Valor\x20da\x20URL\x20recuperada:','order','optionName','getLastMessage','):\x20Deletando\x20mensagem','ObjectId','/chat','deleteAll','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','getMIMEType','):\x20whoCanUse\x20before\x20validation:\x20','composing','getValidWhatsAppNumbers','cors','express','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','instanceName','https','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','GROUPS_UPSERT','\x20minutos\x20verificará\x20novas\x20mensagens','Usando\x20IP\x20existente:\x20','/wa-message','dbServer','agents','):\x20\x27Enviando\x20audio\x20para\x20\x27','enabled','varedit','messages.upsert','Font\x20is\x20required','pino','):\x20whoCanUse\x20after\x20validation:\x20','#fe9dfe','DisconnectReason','getFlow','mongodb://','../env.yml','/instance/create','next_groupId','):Audio\x20converted\x20and\x20stored\x20in\x20cache','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','isJidUser','chats','https://api64.ipify.org?format=json','):\x20Query\x20params:\x20','shareOwners','waitingMenu_replyOptions','importChatsBatch','atendimentoAberto','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','string','delete','pollCreationMessageV2','instancias:\x20','END:VCARD','jpegThumbnail','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','/message','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','fetchChats','waitingMenu_ExpiredMessage','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','DARK','mediaMessage','crypto','message_normalized','Fluxo\x20não\x20encontrado\x20na\x20memória.','nomecompleto','test','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','createClient','qrcode-terminal','latitude',',\x20Comparador:\x20','repeat','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','archiveChat','pow','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','\x22\x20-\x20NOT\x20CONNECTION','ip\x20-br\x20link\x20show','.TEL;waid=','.ogg','insertCount','findMany','ENABLED','success','parseInt','Subdomínio\x20final:','whatsappNumbers','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','findAndUpdateCacheContact','badSession','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','label','Erro\x20de\x20atualização:\x20','#ffae04','\x20do\x20chat\x20','.ogv','removeIPv6','):Fetching\x20business\x20profile','editFlowVaredit','routerPath','unlinkSync','getVariablesChat','):\x20\x27Deletando\x20fluxo,\x20id:\x20','Erro\x20ao\x20inserir\x20chats:','condition','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','LICENSE_INVALID','\x1b[44m','height','editFlowGroup','minutesToClose','request\x20received\x20in\x20deleteConversation','audio','.pptx','block','restrict','CONNECTION','ip\x20-6\x20addr\x20add\x20','PREFIX_KEY','@redis/client','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','):\x20Procurando\x20mensagens\x20para\x20envio','setNewValue','updateGroupParticipantsWebhook','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','Instance\x20logged\x20out','cacheContactModel','\x20minutos...','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','reconnectTimestamps','AutomateFunctions'];a0_0x57c2=function(){return _0x5cb085;};return a0_0x57c2();}async function Ta(_0x1b8294,_0x1b0174,_0x568844){const _0x4c4e08=a0_0x2f588e;if(_0x1b8294[_0x4c4e08(0x45a)][_0x4c4e08(0x3e8)](_0x4c4e08(0x778))){let _0x228ff0=_0x1b8294[_0x4c4e08(0x268)];if(await Oe(_0x228ff0[_0x4c4e08(0x763)]))throw new se(_0x4c4e08(0x431)+_0x228ff0[_0x4c4e08(0x763)]+'\x20is\x20already\x20in\x20use.');H[_0x4c4e08(0x643)][_0x228ff0[_0x4c4e08(0x763)]]&&delete H['waInstances'][_0x228ff0[_0x4c4e08(0x763)]];}_0x568844();}var _a=require(a0_0x2f588e(0x71c)),Oa=A(require('jsonwebtoken')),nt=a0_0x2f588e(0x54e),Io=new $('GUARD');async function Ao(_0x5b4c85,_0x339630,_0x1994da){const _0x15cff1=a0_0x2f588e;let _0x4a9350=_0x5b4c85[_0x15cff1(0x375)](_0x15cff1(0x878));if(_0x4a9350&&S[_0x15cff1(0x375)](_0x15cff1(0x5da))[_0x15cff1(0x8fb)][_0x15cff1(0x49d)]!==_0x4a9350)throw new ce();if(S['get'](_0x15cff1(0x5da))[_0x15cff1(0x8fb)][_0x15cff1(0x49d)]===_0x4a9350)return _0x1994da();if((_0x5b4c85[_0x15cff1(0x45a)][_0x15cff1(0x3e8)](_0x15cff1(0x778))||_0x5b4c85[_0x15cff1(0x45a)][_0x15cff1(0x3e8)](_0x15cff1(0x35f)))&&!_0x4a9350)throw new se('Missing\x20global\x20api\x20key',_0x15cff1(0x3d5));let _0x5320b1=S[_0x15cff1(0x375)](_0x15cff1(0x5da))[_0x15cff1(0x1e9)];try{let [_0x118f39,_0x2ea362]=_0x5b4c85[_0x15cff1(0x375)](_0x15cff1(0x704))[_0x15cff1(0x50b)]('\x20');if(_0x118f39[_0x15cff1(0x605)]()!=='bearer')throw new ce();if(!(0x0,_a[_0x15cff1(0x2f7)])(_0x2ea362))throw new ce();let _0x32d946=_0x5b4c85[_0x15cff1(0x34c)],_0x420b1d=Oa['default']['verify'](_0x2ea362,_0x5320b1[_0x15cff1(0x550)],{'ignoreExpiration':_0x5320b1[_0x15cff1(0x5b8)]===0x0});if(_0x32d946[_0x15cff1(0x763)]!==_0x420b1d[_0x15cff1(0x763)]||nt!==_0x420b1d[_0x15cff1(0x394)])throw new ce();return _0x1994da();}catch(_0x55f640){throw Io[_0x15cff1(0x20e)](_0x55f640),new ce();}}async function To(_0x254ba0,_0x799b20,_0x2672a4){const _0x4baafb=a0_0x2f588e;let _0x3baad2=S['get'](_0x4baafb(0x5da))[_0x4baafb(0x8fb)],_0x4c0ffb=_0x254ba0['get']('apikey');if(_0x3baad2[_0x4baafb(0x49d)]===_0x4c0ffb)return _0x2672a4();if(_0x254ba0[_0x4baafb(0x45a)]['includes'](_0x4baafb(0x778))){let _0x270f80=Da,_0x2ca2d7=_0x254ba0['body'][_0x4baafb(0x763)];if(_0x270f80&&_0x2ca2d7['toLowerCase']()['startsWith'](_0x270f80[_0x4baafb(0x605)]()))return _0x2672a4();if(!_0x4c0ffb)throw new se('Missing\x20global\x20api\x20key',_0x4baafb(0x3d5));}if(_0x254ba0[_0x4baafb(0x45a)]['includes'](_0x4baafb(0x35f))&&!_0x4c0ffb)throw new se(_0x4baafb(0x3ce),_0x4baafb(0x3d5));if(_0x254ba0[_0x4baafb(0x45a)]['includes'](_0x4baafb(0x40a))&&!_0x4c0ffb)throw new se(_0x4baafb(0x3ce),_0x4baafb(0x3d5));if(_0x254ba0[_0x4baafb(0x45a)][_0x4baafb(0x3e8)](_0x4baafb(0x546))&&!_0x4c0ffb)throw new se(_0x4baafb(0x3ce),_0x4baafb(0x3d5));try{let _0x4bb27e=_0x254ba0[_0x4baafb(0x34c)],_0x2f7343=await ye['auth'][_0x4baafb(0x3b1)](_0x4bb27e[_0x4baafb(0x763)]);if(_0x2f7343&&_0x2f7343[_0x4baafb(0x878)]===_0x4c0ffb)return _0x2672a4();}catch{}throw new ce();}var xa={'jwt':Ao,'apikey':To},gi=require(a0_0x2f588e(0x761)),v=require(a0_0x2f588e(0x312)),E=(..._0x582baf)=>{const _0x52e948=a0_0x2f588e;let _0x59d5d3={};return _0x582baf[_0x52e948(0x255)](_0x16bb13=>_0x59d5d3[_0x16bb13]={'minLength':0x1,'description':_0x52e948(0x661)+_0x16bb13+_0x52e948(0x847)}),{'if':{'propertyNames':{'enum':[..._0x582baf]}},'then':{'properties':_0x59d5d3}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'instanceName':{'type':a0_0x2f588e(0x786)}},...E('instanceName')},fc={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'oldToken':{'type':a0_0x2f588e(0x786)}},'required':['oldToken'],...E(a0_0x2f588e(0x534))},wc={'properties':{'key':{'type':a0_0x2f588e(0x57a),'properties':{'id':{'type':a0_0x2f588e(0x786)},'remoteJid':{'type':a0_0x2f588e(0x786)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x2f588e(0x46d),a0_0x2f588e(0x741)],...E('id','remoteJid')},'message':{'type':a0_0x2f588e(0x57a)}}},ae={'properties':{'delay':{'type':a0_0x2f588e(0x33f),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x2f588e(0x786),'enum':['unavailable',a0_0x2f588e(0x639),a0_0x2f588e(0x75e),a0_0x2f588e(0x5cf),'paused']}}},Z={'type':a0_0x2f588e(0x786),'description':'Invalid\x20format'},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x2f588e(0x57a),'properties':{'text':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x244)],...E(a0_0x2f588e(0x244))}},'required':['textMessage',a0_0x2f588e(0x720)]},ka={'type':'string','pattern':a0_0x2f588e(0x610),'description':'Invalid\x20format'},yc={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...ka},'options':{...ae},'textMessage':{'type':a0_0x2f588e(0x57a),'properties':{'text':{'type':'string'}},'required':[a0_0x2f588e(0x244)],...E(a0_0x2f588e(0x244))}},'required':['textMessage','number']},bc={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...ka},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x2f588e(0x786),'enum':['image',a0_0x2f588e(0x60b),a0_0x2f588e(0x8f0),a0_0x2f588e(0x7c8)]},'media':{'type':a0_0x2f588e(0x786)},'fileName':{'type':a0_0x2f588e(0x786)},'caption':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x2d0),a0_0x2f588e(0x34b)],...E(a0_0x2f588e(0x6d8),'caption',a0_0x2f588e(0x34b))}},'required':[a0_0x2f588e(0x793),a0_0x2f588e(0x720)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x2f588e(0x57a),'properties':{'image':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x67a)],...E('image')}},'required':[a0_0x2f588e(0x561),a0_0x2f588e(0x720)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'statusMessage':{'type':a0_0x2f588e(0x57a),'properties':{'type':{'type':'string','enum':[a0_0x2f588e(0x244),'image','audio','video']},'content':{'type':a0_0x2f588e(0x786)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x2f588e(0x786)},'font':{'type':a0_0x2f588e(0x33f),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2f588e(0x430),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2f588e(0x786),'pattern':a0_0x2f588e(0x37c),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]}},'required':['type',a0_0x2f588e(0x6c3)],...E(a0_0x2f588e(0x7ef),'content')}},'required':[a0_0x2f588e(0x40b)]},Ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x2f588e(0x786),'enum':['image',a0_0x2f588e(0x60b),a0_0x2f588e(0x8f0),a0_0x2f588e(0x7c8)]},'media':{'type':'string'},'fileName':{'type':a0_0x2f588e(0x786)},'caption':{'type':'string'}},'required':['mediatype',a0_0x2f588e(0x34b)],...E(a0_0x2f588e(0x6d8),'caption','media')}},'required':[a0_0x2f588e(0x793),'number']},ja={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x2f588e(0x57a),'properties':{'audio':{'type':'string'}},'required':[a0_0x2f588e(0x7c8)],...E('audio')}},'required':[a0_0x2f588e(0x39a),a0_0x2f588e(0x720)]},Ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x2f588e(0x430),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x2f588e(0x8e4),a0_0x2f588e(0x5db)],...E(a0_0x2f588e(0x7dc),a0_0x2f588e(0x8e4),a0_0x2f588e(0x5db))}},'required':['number','pollMessage']},qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Z},'menuMessage':{'type':a0_0x2f588e(0x57a),'properties':{'text':{'type':a0_0x2f588e(0x786)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2f588e(0x244),a0_0x2f588e(0x555)],...E(a0_0x2f588e(0x244),'choices')}},'required':[a0_0x2f588e(0x720),a0_0x2f588e(0x5a0)]},Va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'buttonMessage':{'type':a0_0x2f588e(0x57a),'properties':{'title':{'type':'string'},'description':{'type':a0_0x2f588e(0x786)},'footerText':{'type':a0_0x2f588e(0x786)},'buttons':{'type':a0_0x2f588e(0x430),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2f588e(0x57a),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x87d),a0_0x2f588e(0x27d)],...E(a0_0x2f588e(0x87d),'buttonId')}},'mediaMessage':{'type':a0_0x2f588e(0x57a),'properties':{'media':{'type':a0_0x2f588e(0x786)},'fileName':{'type':a0_0x2f588e(0x786)},'mediatype':{'type':a0_0x2f588e(0x786),'enum':[a0_0x2f588e(0x67a),a0_0x2f588e(0x60b),a0_0x2f588e(0x8f0)]}},'required':[a0_0x2f588e(0x34b),a0_0x2f588e(0x2d0)],...E(a0_0x2f588e(0x34b),a0_0x2f588e(0x6d8))}},'required':[a0_0x2f588e(0x2f4),a0_0x2f588e(0x213)],...E(a0_0x2f588e(0x2f4),a0_0x2f588e(0x2f8))}},'required':[a0_0x2f588e(0x720),'buttonMessage']},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x2f588e(0x720)},'longitude':{'type':a0_0x2f588e(0x720)},'name':{'type':a0_0x2f588e(0x786)},'address':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x79c),'longitude'],...E(a0_0x2f588e(0x7dc),a0_0x2f588e(0x283))}},'required':[a0_0x2f588e(0x720),a0_0x2f588e(0x334)]},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x2f588e(0x786)},'footerText':{'type':a0_0x2f588e(0x786)},'buttonText':{'type':a0_0x2f588e(0x786)},'sections':{'type':a0_0x2f588e(0x430),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2f588e(0x57a),'properties':{'title':{'type':'string'},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2f588e(0x57a),'properties':{'title':{'type':a0_0x2f588e(0x786)},'description':{'type':'string'},'rowId':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x2f4),a0_0x2f588e(0x253)],...E(a0_0x2f588e(0x2f4),a0_0x2f588e(0x253))}}},'required':[a0_0x2f588e(0x2f4),a0_0x2f588e(0x5aa)],...E('title')}}},'required':['title',a0_0x2f588e(0x2f8),'buttonText',a0_0x2f588e(0x322)],...E('title',a0_0x2f588e(0x2f8),a0_0x2f588e(0x87d),'footerText')}},'required':[a0_0x2f588e(0x720),'listMessage']},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x2f588e(0x430),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x2f588e(0x786),'minLength':0xa}},'required':['fullName','phoneNumber'],...E(a0_0x2f588e(0x863))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2f588e(0x720),a0_0x2f588e(0x65d)]},za={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x2f588e(0x57a),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x2f588e(0x786)},'fromMe':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2f588e(0x46d),a0_0x2f588e(0x741)],...E('id',a0_0x2f588e(0x46d))},'reaction':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x920),'reaction'],...E(a0_0x2f588e(0x49a))}},'required':[a0_0x2f588e(0x6e8)]},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x2f588e(0x37c),'description':a0_0x2f588e(0x28b)}}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'readMessages':{'type':a0_0x2f588e(0x430),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2f588e(0x786)},'fromMe':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2f588e(0x786)}},'required':['id',a0_0x2f588e(0x741),'remoteJid'],...E('id',a0_0x2f588e(0x46d))}}},'required':['readMessages']},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x2f588e(0x786),'enum':['all','none']},'profile':{'type':a0_0x2f588e(0x786),'enum':[a0_0x2f588e(0x57c),'contacts',a0_0x2f588e(0x576),a0_0x2f588e(0x6be)]},'status':{'type':'string','enum':[a0_0x2f588e(0x57c),a0_0x2f588e(0x687),'contact_blacklist',a0_0x2f588e(0x6be)]},'online':{'type':a0_0x2f588e(0x786),'enum':[a0_0x2f588e(0x57c),'match_last_seen']},'last':{'type':'string','enum':[a0_0x2f588e(0x57c),a0_0x2f588e(0x687),'contact_blacklist',a0_0x2f588e(0x6be)]},'groupadd':{'type':a0_0x2f588e(0x786),'enum':[a0_0x2f588e(0x57c),a0_0x2f588e(0x687),a0_0x2f588e(0x576),a0_0x2f588e(0x6be)]}},'required':[a0_0x2f588e(0x226),a0_0x2f588e(0x839),a0_0x2f588e(0x3f3),a0_0x2f588e(0x3b9),a0_0x2f588e(0x910),a0_0x2f588e(0x3d8)],...E('readreceipts','profile',a0_0x2f588e(0x3f3),a0_0x2f588e(0x3b9),'last',a0_0x2f588e(0x3d8))}},'required':[a0_0x2f588e(0x36a)]},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'lastMessage':{'type':a0_0x2f588e(0x57a),'properties':{'key':{'type':a0_0x2f588e(0x57a),'properties':{'id':{'type':a0_0x2f588e(0x786)},'remoteJid':{'type':a0_0x2f588e(0x786)},'fromMe':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x2f588e(0x46d))},'messageTimestamp':{'type':a0_0x2f588e(0x33f),'minLength':0x1}},'required':[a0_0x2f588e(0x920)],...E('messageTimestamp')},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x2f588e(0x1e7)]},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'id':{'type':a0_0x2f588e(0x786)},'fromMe':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2f588e(0x786)},'participant':{'type':a0_0x2f588e(0x786)}},'required':['id',a0_0x2f588e(0x741),a0_0x2f588e(0x46d)],...E('id',a0_0x2f588e(0x46d),a0_0x2f588e(0x45f))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'where':{'type':a0_0x2f588e(0x57a),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x2f588e(0x786),'minLength':0x1}},...E(a0_0x2f588e(0x461),'id',a0_0x2f588e(0x913))}}},ei={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'name':{'type':'string'}},...E(a0_0x2f588e(0x7dc))},ti={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'status':{'type':a0_0x2f588e(0x786)}},...E('status')},xe={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{'type':a0_0x2f588e(0x786)},'picture':{'type':a0_0x2f588e(0x786)}}},si={'type':'object','properties':{'wuid':{'type':a0_0x2f588e(0x786)},'name':{'type':a0_0x2f588e(0x786)},'picture':{'type':'string'},'status':{'type':a0_0x2f588e(0x786)},'isBusiness':{'type':a0_0x2f588e(0x730)}}},ai={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'where':{'type':a0_0x2f588e(0x57a),'properties':{'_id':{'type':a0_0x2f588e(0x786),'minLength':0x1},'key':{'type':a0_0x2f588e(0x57a),'if':{'propertyNames':{'enum':[a0_0x2f588e(0x741),a0_0x2f588e(0x46d),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2f588e(0x786),'minLength':0x1,'description':a0_0x2f588e(0x528)},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x2f588e(0x461))},'limit':{'type':a0_0x2f588e(0x33f)}}},Sc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x2f588e(0x57a),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x2f588e(0x786)},'id':{'type':'string'},'fromMe':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x2f588e(0x786)},'status':{'type':a0_0x2f588e(0x786),'enum':[a0_0x2f588e(0x8cf),'PENDING',a0_0x2f588e(0x329),'DELIVERY_ACK',a0_0x2f588e(0x881),a0_0x2f588e(0x26a)]}},...E('_id',a0_0x2f588e(0x46d),'id',a0_0x2f588e(0x3f3))},'limit':{'type':a0_0x2f588e(0x33f)}}},ii={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'number':{...Z},'presence':{'type':a0_0x2f588e(0x786),'enum':[a0_0x2f588e(0x73c),a0_0x2f588e(0x639),a0_0x2f588e(0x75e),'recording',a0_0x2f588e(0x8c8)]}},'required':[a0_0x2f588e(0x38c),a0_0x2f588e(0x720)]},oi={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'subject':{'type':a0_0x2f588e(0x786)},'description':{'type':'string'},'profilePicture':{'type':a0_0x2f588e(0x786)},'participants':{'type':a0_0x2f588e(0x430),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x2f588e(0x645)}}},'required':[a0_0x2f588e(0x286),'participants'],...E(a0_0x2f588e(0x286),a0_0x2f588e(0x2f8),'profilePicture')},De={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'groupJid':{'type':a0_0x2f588e(0x786),'pattern':a0_0x2f588e(0x307)}},'required':['groupJid'],...E(a0_0x2f588e(0x557))},ri={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':['add',a0_0x2f588e(0x395),a0_0x2f588e(0x51f),'demote',a0_0x2f588e(0x1fa),a0_0x2f588e(0x696)]},'participants':{'type':a0_0x2f588e(0x430),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2f588e(0x786),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x2f588e(0x645)}}},'required':[a0_0x2f588e(0x557),a0_0x2f588e(0x1e0),'participants'],...E('groupJid',a0_0x2f588e(0x1e0))},ni={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2f588e(0x786)},'expiration':{'type':a0_0x2f588e(0x720),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...E(a0_0x2f588e(0x557),a0_0x2f588e(0x8ef))},ci={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x2f588e(0x557),a0_0x2f588e(0x67a)],...E(a0_0x2f588e(0x557),a0_0x2f588e(0x67a))},li={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'groupJid':{'type':a0_0x2f588e(0x786)},'description':{'type':a0_0x2f588e(0x786)}},'required':['groupJid',a0_0x2f588e(0x2f8)],...E(a0_0x2f588e(0x557),'description')},ui={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':[a0_0x2f588e(0x557),a0_0x2f588e(0x7dc)],...E(a0_0x2f588e(0x557),a0_0x2f588e(0x7dc))},di={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x2f588e(0x8ca),'not_announcement',a0_0x2f588e(0x866),a0_0x2f588e(0x406)]}},'required':[a0_0x2f588e(0x557),'setting'],...E(a0_0x2f588e(0x557),'setting')},pi={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'groupJid':{'type':a0_0x2f588e(0x786)},'restrict':{'type':a0_0x2f588e(0x730)},'announce':{'type':a0_0x2f588e(0x730)},'memberAddMode':{'type':a0_0x2f588e(0x730)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x2f588e(0x33f),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x2f588e(0x786)},'description':{'type':a0_0x2f588e(0x786)},'image':{'type':a0_0x2f588e(0x786)}}},Ns={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x2f588e(0x786)}},'required':[a0_0x2f588e(0x3e7)],...E('inviteCode')},hi={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'url':{'type':a0_0x2f588e(0x786)},'enabled':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]}},'required':['url',a0_0x2f588e(0x76d)]},Mc={'$id':(0x0,v['v4'])(),'type':a0_0x2f588e(0x57a),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2f588e(0x730),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x2f588e(0x87b),a0_0x2f588e(0x21c),a0_0x2f588e(0x74d),a0_0x2f588e(0x7fa),'SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT',a0_0x2f588e(0x6ff),a0_0x2f588e(0x8ba),a0_0x2f588e(0x6ba),'CHATS_UPSERT',a0_0x2f588e(0x602),a0_0x2f588e(0x676),'CONNECTION_UPDATE',a0_0x2f588e(0x766),a0_0x2f588e(0x577),'GROUP_PARTICIPANTS_UPDATE'],...E(a0_0x2f588e(0x86d),'STATUS_INSTANCE','QRCODE_UPDATED','MESSAGES_SET',a0_0x2f588e(0x74d),a0_0x2f588e(0x7fa),a0_0x2f588e(0x7f9),a0_0x2f588e(0x452),a0_0x2f588e(0x25d),a0_0x2f588e(0x6ff),a0_0x2f588e(0x8ba),a0_0x2f588e(0x6ba),a0_0x2f588e(0x1ec),'CHATS_UPDATE','CHATS_DELETE',a0_0x2f588e(0x603),'GROUPS_UPSERT',a0_0x2f588e(0x577),a0_0x2f588e(0x672))},ct=class{},lt=class extends x{[a0_0x2f588e(0x85c)](_0x22eab5){return ia(_0x22eab5);}async['insert'](_0x51e30c){const _0x2a6de5=a0_0x2f588e;if(_0x51e30c[_0x2a6de5(0x8b9)]!==0x0)try{return{'insertCount':(await this[_0x2a6de5(0x85c)](_0x51e30c[0x0][_0x2a6de5(0x680)])[_0x2a6de5(0x539)]([..._0x51e30c]))['length']};}catch(_0x2b79da){return _0x2b79da;}}async[a0_0x2f588e(0x787)](_0x4d818c,_0x33d2ce){const _0x2f9ddc=a0_0x2f588e;try{return{'deletedCount':(await this[_0x2f9ddc(0x85c)](_0x33d2ce)[_0x2f9ddc(0x2ec)]({..._0x4d818c[_0x2f9ddc(0x2d6)]}))[_0x2f9ddc(0x85d)]};}catch(_0x1e65c4){return{'error':_0x1e65c4?.[_0x2f9ddc(0x52b)]()};}}async['update'](_0x50cc57,_0x276133){const _0x3e3cf2=a0_0x2f588e;try{if(_0x50cc57[_0x3e3cf2(0x8b9)]===0x0)return;let _0x30c7a4=this[_0x3e3cf2(0x85c)](_0x276133),_0x436b87=_0x50cc57[_0x3e3cf2(0x475)](_0x1b232c=>({'updateOne':{'filter':{'_id':_0x1b232c['_id'],'owner':_0x276133},'update':{..._0x1b232c}}})),{modifiedCount:_0x3905c3}=await _0x30c7a4[_0x3e3cf2(0x3e6)](_0x436b87);return{'insertCount':_0x3905c3};}catch{return;}}async[a0_0x2f588e(0x3b1)](_0x155474,_0x2a6db3){const _0x4e373f=a0_0x2f588e;try{let _0x4cd03c=this[_0x4e373f(0x85c)](_0x2a6db3),_0x1ef76a=T(_0x155474['where']);return await _0x4cd03c['find'](_0x1ef76a)[_0x4e373f(0x58e)](_0x155474?.['limit']??0x0)[_0x4e373f(0x221)]();}catch{return[];}}async[a0_0x2f588e(0x876)](_0x4c313f,_0x2b781b){const _0x414dba=a0_0x2f588e;try{let _0x4ab84d=this[_0x414dba(0x85c)](_0x2b781b),_0x3d066a=T(_0x4c313f[_0x414dba(0x2d6)]);return await _0x4ab84d[_0x414dba(0x876)](_0x3d066a)[_0x414dba(0x221)]();}catch{return null;}}async[a0_0x2f588e(0x75a)](_0x132c74){const _0x4f21d1=a0_0x2f588e;try{return await this[_0x4f21d1(0x85c)](_0x132c74)[_0x4f21d1(0x219)][_0x4f21d1(0x8a8)](),{'success':!0x0};}catch(_0x1dde2d){return console[_0x4f21d1(0x20e)](_0x1dde2d),{'success':!0x1,'error':_0x1dde2d};}}},ut=require(a0_0x2f588e(0x24a)),Tc=require(a0_0x2f588e(0x849)),$s=new $('Validate'),W=class{['routerPath'](_0x49b7cf,_0x2eb710=!0x0){let _0x45ac9f='/'+_0x49b7cf;return _0x2eb710&&(_0x45ac9f+='/:instanceName'),_0x45ac9f;}async['dataValidate'](_0x3aeaea){const _0x2de6a9=a0_0x2f588e;let {request:_0x30f161,schema:_0x2835db,ClassRef:_0x4621ad,execute:_0x1df70f}=_0x3aeaea,_0x45f1cb=new _0x4621ad(),_0x284f59=_0x30f161[_0x2de6a9(0x268)],_0x307646=_0x30f161[_0x2de6a9(0x34c)];_0x30f161?.[_0x2de6a9(0x54a)]&&Object['keys'](_0x30f161[_0x2de6a9(0x54a)])[_0x2de6a9(0x8b9)]>0x0&&Object[_0x2de6a9(0x71e)](_0x307646,_0x30f161['query']),_0x30f161[_0x2de6a9(0x45a)][_0x2de6a9(0x3e8)](_0x2de6a9(0x778))&&Object[_0x2de6a9(0x71e)](_0x307646,_0x284f59),Object['assign'](_0x45f1cb,_0x284f59);let _0x46211f=_0x2835db?(0x0,ut[_0x2de6a9(0x1e8)])(_0x45f1cb,_0x2835db):{'valid':!0x0,'errors':[]};if(!_0x46211f[_0x2de6a9(0x3a8)]){let _0x3c17a2=_0x46211f[_0x2de6a9(0x293)][_0x2de6a9(0x475)](({property:_0x486487,stack:_0x107ad0,schema:_0x109bd8})=>{const _0x490eb5=_0x2de6a9;let _0x444a55;return _0x109bd8[_0x490eb5(0x2f8)]?_0x444a55=_0x109bd8['description']:_0x444a55=_0x107ad0[_0x490eb5(0x499)](_0x490eb5(0x6e5),''),{'property':_0x486487['replace'](_0x490eb5(0x6e5),''),'message':_0x444a55};});throw $s[_0x2de6a9(0x20e)]([..._0x3c17a2]),new m(..._0x3c17a2);}return await _0x1df70f(_0x307646,_0x45f1cb);}async[a0_0x2f588e(0x434)](_0x32aa85){const _0x17dfd4=a0_0x2f588e;let {request:_0x391d3b,ClassRef:_0x2e6332,schema:_0x368161,execute:_0x1ff2ea}=_0x32aa85,_0x26ac73=_0x391d3b['query'];if(!_0x26ac73?.[_0x17dfd4(0x557)])throw new m(_0x17dfd4(0x6e0),_0x17dfd4(0x5a4));let _0x3b2833=_0x391d3b['params'],_0x3d944c=_0x391d3b[_0x17dfd4(0x268)],_0x46b1c3=new _0x2e6332();Object[_0x17dfd4(0x71e)](_0x3d944c,_0x26ac73),Object['assign'](_0x46b1c3,_0x3d944c);let _0x5d41f8=(0x0,ut[_0x17dfd4(0x1e8)])(_0x46b1c3,_0x368161);if(!_0x5d41f8[_0x17dfd4(0x3a8)]){let _0x4917b1=_0x5d41f8['errors'][_0x17dfd4(0x475)](({property:_0x2bc46d,stack:_0xe01e7c,schema:_0x31d674})=>{const _0x48fb82=_0x17dfd4;let _0x52c60e;return _0x31d674[_0x48fb82(0x2f8)]?_0x52c60e=_0x31d674[_0x48fb82(0x2f8)]:_0x52c60e=_0xe01e7c[_0x48fb82(0x499)]('instance.',''),{'property':_0x2bc46d[_0x48fb82(0x499)](_0x48fb82(0x6e5),''),'message':_0x52c60e};});throw $s[_0x17dfd4(0x20e)]([..._0x4917b1]),new m(..._0x4917b1);}return await _0x1ff2ea(_0x3b2833,_0x46b1c3);}async[a0_0x2f588e(0x822)](_0x28ac96){const _0x218af1=a0_0x2f588e;let {request:_0x45634b,ClassRef:_0x1cc4d1,schema:_0x1f8467,execute:_0x1f3eb7}=_0x28ac96,_0x48dec2=_0x45634b[_0x218af1(0x268)];if(!_0x48dec2?.['inviteCode'])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x218af1(0x25e));let _0x7bc38b=_0x45634b[_0x218af1(0x34c)],_0x19c525=_0x45634b['body'],_0x3d56e6=new _0x1cc4d1();Object['assign'](_0x19c525,_0x48dec2),Object[_0x218af1(0x71e)](_0x3d56e6,_0x19c525);let _0x8ac716=(0x0,ut[_0x218af1(0x1e8)])(_0x3d56e6,_0x1f8467);if(!_0x8ac716[_0x218af1(0x3a8)]){let _0x312fc7=_0x8ac716['errors'][_0x218af1(0x475)](({property:_0x78fd4d,stack:_0x49947f,schema:_0x2857be})=>{const _0x4a3b45=_0x218af1;let _0x1b3df8;return _0x2857be['description']?_0x1b3df8=_0x2857be['description']:_0x1b3df8=_0x49947f['replace'](_0x4a3b45(0x6e5),''),{'property':_0x78fd4d[_0x4a3b45(0x499)](_0x4a3b45(0x6e5),''),'message':_0x1b3df8};});throw $s[_0x218af1(0x20e)]([..._0x312fc7]),new m(..._0x312fc7);}return await _0x1f3eb7(_0x7bc38b,_0x3d56e6);}},M=class{},Bc=new $(a0_0x2f588e(0x212)),dt=class extends W{constructor(..._0x52972c){const _0x4d252c=a0_0x2f588e;super(),this['router']=(0x0,gi[_0x4d252c(0x5f5)])(),this[_0x4d252c(0x24b)][_0x4d252c(0x36f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x261)),..._0x52972c,async(_0x51186b,_0x49e761)=>{const _0x20e912=_0x4d252c;let _0xce95e4=await this[_0x20e912(0x352)]({'request':_0x51186b,'schema':ii,'ClassRef':Ze,'execute':(_0x216aa4,_0x5da975)=>L[_0x20e912(0x261)](_0x216aa4,_0x5da975)});return _0x49e761[_0x20e912(0x3f3)](0xc9)[_0x20e912(0x29d)](_0xce95e4);})['post'](this[_0x4d252c(0x7bb)](_0x4d252c(0x7ae)),..._0x52972c,async(_0x2600a9,_0x35b50c)=>{const _0x4cbb41=_0x4d252c;let _0x32e6a7=await this[_0x4cbb41(0x352)]({'request':_0x2600a9,'schema':Ha,'ClassRef':et,'execute':(_0x5916c8,_0x585936)=>L[_0x4cbb41(0x52c)](_0x5916c8,_0x585936)});return _0x35b50c[_0x4cbb41(0x3f3)](0xc9)[_0x4cbb41(0x29d)](_0x32e6a7);})[_0x4d252c(0x36f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x2b2)),..._0x52972c,async(_0x3a3035,_0x34ebc3)=>{const _0x4d9d8b=_0x4d252c;let _0x1f8876=await this[_0x4d9d8b(0x352)]({'request':_0x3a3035,'schema':N,'ClassRef':M,'execute':(_0x1f170b,_0x1e1c57)=>L[_0x4d9d8b(0x2b2)](_0x1f170b,_0x1e1c57)});return _0x34ebc3['status'](0xc9)[_0x4d9d8b(0x29d)](_0x1f8876);})[_0x4d252c(0x85f)](this[_0x4d252c(0x7bb)]('markMessageAsRead'),..._0x52972c,async(_0x82db60,_0x2acce3)=>{const _0x5141de=_0x4d252c;let _0x22b8f3=await this['dataValidate']({'request':_0x82db60,'schema':Ka,'ClassRef':at,'execute':(_0x338aa6,_0x45b16d)=>L[_0x5141de(0x64f)](_0x338aa6,_0x45b16d)});return _0x2acce3[_0x5141de(0x3f3)](0xc9)[_0x5141de(0x29d)](_0x22b8f3);})[_0x4d252c(0x85f)](this[_0x4d252c(0x7bb)]('archiveChat'),..._0x52972c,async(_0x2dbd65,_0x1f7118)=>{const _0x45ce7d=_0x4d252c;let _0x432c6a=await this[_0x45ce7d(0x352)]({'request':_0x2dbd65,'schema':Ya,'ClassRef':it,'execute':(_0x361143,_0x48a317)=>L[_0x45ce7d(0x7a1)](_0x361143,_0x48a317)});return _0x1f7118['status'](0xc9)[_0x45ce7d(0x29d)](_0x432c6a);})['delete'](this['routerPath'](_0x4d252c(0x2f2)),..._0x52972c,async(_0x300452,_0x1acbc2)=>{const _0x24840c=_0x4d252c;let _0x2d3add=await this['dataValidate']({'request':_0x300452,'schema':Xa,'ClassRef':rt,'execute':(_0x5f12aa,_0x25772b)=>L[_0x24840c(0x4e8)](_0x5f12aa,_0x25772b)});return _0x1acbc2[_0x24840c(0x3f3)](0xc9)[_0x24840c(0x29d)](_0x2d3add);})['post'](this[_0x4d252c(0x7bb)]('fetchProfilePictureUrl'),..._0x52972c,async(_0x14f3f1,_0x54930d)=>{const _0x295597=_0x4d252c;let _0x3416db=await this[_0x295597(0x352)]({'request':_0x14f3f1,'schema':xe,'ClassRef':_e,'execute':(_0x4a21a0,_0x572af9)=>L[_0x295597(0x729)](_0x4a21a0,_0x572af9)});return _0x54930d[_0x295597(0x3f3)](0xc8)['json'](_0x3416db);})[_0x4d252c(0x36f)](this['routerPath']('fetchProfile'),..._0x52972c,async(_0x1008b5,_0x202eaa)=>{const _0x49d9c7=_0x4d252c;let _0x1a4518=await this[_0x49d9c7(0x352)]({'request':_0x1008b5,'schema':si,'ClassRef':_e,'execute':(_0x46d57f,_0x2b7d6d)=>L['fetchProfile'](_0x46d57f,_0x2b7d6d)});return _0x202eaa['status'](0xc8)[_0x49d9c7(0x29d)](_0x1a4518);})['post'](this[_0x4d252c(0x7bb)](_0x4d252c(0x4c5)),..._0x52972c,async(_0xaa5524,_0x33456d)=>{const _0x4979eb=_0x4d252c;let _0x4bb8f6=await this['dataValidate']({'request':_0xaa5524,'schema':Za,'ClassRef':ct,'execute':(_0x22e79f,_0x4b0997)=>L[_0x4979eb(0x70f)](_0x22e79f,_0x4b0997)});return _0x33456d[_0x4979eb(0x3f3)](0xc8)['json'](_0x4bb8f6);})[_0x4d252c(0x36f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x1dd)),..._0x52972c,async(_0x481917,_0x137ca9)=>{const _0x2ac401=_0x4d252c;let _0x23022b=await this[_0x2ac401(0x352)]({'request':_0x481917,'schema':null,'ClassRef':Object,'execute':(_0x1e447b,_0x415137)=>L[_0x2ac401(0x1dd)](_0x1e447b,_0x415137)});return _0x137ca9['status'](0xc9)[_0x2ac401(0x29d)](_0x23022b);})['post'](this[_0x4d252c(0x7bb)](_0x4d252c(0x818)),..._0x52972c,async(_0x19c3cd,_0x338fbc)=>{const _0x3ccd17=_0x4d252c;let _0x348cca=await this['dataValidate']({'request':_0x19c3cd,'schema':ai,'ClassRef':Ye,'execute':(_0x35c87a,_0x32e724)=>L[_0x3ccd17(0x3d0)](_0x35c87a,_0x32e724)});return _0x338fbc[_0x3ccd17(0x3f3)](0xc8)[_0x3ccd17(0x29d)](_0x348cca);})[_0x4d252c(0x375)](this[_0x4d252c(0x7bb)](_0x4d252c(0x383)),..._0x52972c,async(_0x2e0ccf,_0x4d4dae)=>{const _0xeaebd9=_0x4d252c;let _0x558b41=await this[_0xeaebd9(0x352)]({'request':_0x2e0ccf,'schema':null,'ClassRef':M,'execute':_0x7f3c1b=>L[_0xeaebd9(0x78f)](_0x7f3c1b)});return _0x4d4dae[_0xeaebd9(0x3f3)](0xc8)[_0xeaebd9(0x29d)](_0x558b41);})[_0x4d252c(0x375)](this[_0x4d252c(0x7bb)](_0x4d252c(0x628)),..._0x52972c,async(_0x3c57fe,_0xcd8bb9)=>{const _0x2247cf=_0x4d252c;let _0x5ec9d0=await this['dataValidate']({'request':_0x3c57fe,'schema':null,'ClassRef':M,'execute':_0xfa26eb=>L[_0x2247cf(0x4a1)](_0xfa26eb)});return _0xcd8bb9['status'](0xc8)['json'](_0x5ec9d0);})[_0x4d252c(0x85f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x426)),..._0x52972c,async(_0x407235,_0x25fa09)=>{const _0x31915c=_0x4d252c;let _0x4cb25b=await this['dataValidate']({'request':_0x407235,'schema':null,'ClassRef':Array,'execute':(_0x376618,_0x4b2847)=>L[_0x31915c(0x426)](_0x376618,_0x4b2847)});return _0x25fa09[_0x31915c(0x3f3)](0xc8)[_0x31915c(0x29d)](_0x4cb25b);})[_0x4d252c(0x375)](this['routerPath'](_0x4d252c(0x727)),..._0x52972c,async(_0x418b74,_0x1fc544)=>{const _0x10fc24=_0x4d252c;let _0x3b8162=await this[_0x10fc24(0x352)]({'request':_0x418b74,'schema':null,'ClassRef':M,'execute':_0x919de4=>L[_0x10fc24(0x727)](_0x919de4)});return _0x1fc544[_0x10fc24(0x3f3)](0xc8)[_0x10fc24(0x29d)](_0x3b8162);})[_0x4d252c(0x85f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x803)),..._0x52972c,async(_0x504906,_0x30fd57)=>{const _0x2b5581=_0x4d252c;let _0xefdc56=await this[_0x2b5581(0x352)]({'request':_0x504906,'schema':Qa,'ClassRef':ot,'execute':(_0x43bfa5,_0x1f3260)=>L[_0x2b5581(0x803)](_0x43bfa5,_0x1f3260)});return _0x30fd57[_0x2b5581(0x3f3)](0xc9)[_0x2b5581(0x29d)](_0xefdc56);})[_0x4d252c(0x36f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x60d)),..._0x52972c,async(_0x5dcc5e,_0x31f8ae)=>{const _0x461540=_0x4d252c;let _0x22380a=await this[_0x461540(0x352)]({'request':_0x5dcc5e,'schema':xe,'ClassRef':ve,'execute':(_0x21adce,_0x57388a)=>L[_0x461540(0x60d)](_0x21adce,_0x57388a)});return _0x31f8ae[_0x461540(0x3f3)](0xc8)[_0x461540(0x29d)](_0x22380a);})['post'](this[_0x4d252c(0x7bb)]('updateProfileName'),..._0x52972c,async(_0x480954,_0x2378e1)=>{const _0x59cda7=_0x4d252c;let _0x17a783=await this[_0x59cda7(0x352)]({'request':_0x480954,'schema':ei,'ClassRef':tt,'execute':(_0x5e84e3,_0x258bea)=>L[_0x59cda7(0x827)](_0x5e84e3,_0x258bea)});return _0x2378e1[_0x59cda7(0x3f3)](0xc8)[_0x59cda7(0x29d)](_0x17a783);})[_0x4d252c(0x36f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x4e6)),..._0x52972c,async(_0x47f556,_0x9c2d0a)=>{const _0x1accb2=_0x4d252c;let _0xa62602=await this[_0x1accb2(0x352)]({'request':_0x47f556,'schema':ti,'ClassRef':st,'execute':(_0x2219b4,_0x1a9e7e)=>L[_0x1accb2(0x4e6)](_0x2219b4,_0x1a9e7e)});return _0x9c2d0a[_0x1accb2(0x3f3)](0xc8)['json'](_0xa62602);})[_0x4d252c(0x85f)](this[_0x4d252c(0x7bb)](_0x4d252c(0x59a)),..._0x52972c,async(_0x2680fb,_0x8dd874)=>{const _0x35d7b7=_0x4d252c;let _0x4ab3fd=await this[_0x35d7b7(0x352)]({'request':_0x2680fb,'schema':xe,'ClassRef':ve,'execute':(_0x3e0ae5,_0x289373)=>L[_0x35d7b7(0x59a)](_0x3e0ae5,_0x289373)});return _0x8dd874[_0x35d7b7(0x3f3)](0xc8)[_0x35d7b7(0x29d)](_0x4ab3fd);})[_0x4d252c(0x787)](this['routerPath']('removeProfilePicture'),..._0x52972c,async(_0x5b5368,_0x2126a4)=>{const _0x194b9b=_0x4d252c;let _0x358291=await this[_0x194b9b(0x352)]({'request':_0x5b5368,'schema':xe,'ClassRef':ve,'execute':(_0x20054a,_0x19af3b)=>L[_0x194b9b(0x42c)](_0x20054a,_0x19af3b)});return _0x2126a4[_0x194b9b(0x3f3)](0xc8)[_0x194b9b(0x29d)](_0x358291);});}},mi=require(a0_0x2f588e(0x761)),pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},ie=class{},Pe=class{},yt=class extends ie{},bt=class extends ie{},St=class extends W{constructor(..._0x392946){const _0x260338=a0_0x2f588e;super(),this[_0x260338(0x24b)]=(0x0,mi[_0x260338(0x5f5)])(),this['router'][_0x260338(0x36f)](this[_0x260338(0x7bb)](_0x260338(0x72c)),..._0x392946,async(_0x2c22c3,_0x560d76)=>{const _0x4e2a93=_0x260338;let _0x4286b5=await this[_0x4e2a93(0x352)]({'request':_0x2c22c3,'schema':oi,'ClassRef':pt,'execute':(_0x1a1fe5,_0x52c4a6)=>G[_0x4e2a93(0x62e)](_0x1a1fe5,_0x52c4a6)});_0x560d76[_0x4e2a93(0x3f3)](0xc9)[_0x4e2a93(0x29d)](_0x4286b5);})['put'](this['routerPath']('updateGroupPicture'),..._0x392946,async(_0x50cf35,_0x49bb81)=>{const _0x3254ae=_0x260338;let _0x5d1342=await this[_0x3254ae(0x434)]({'request':_0x50cf35,'schema':ci,'ClassRef':ht,'execute':(_0x48ddf6,_0x40bc3f)=>G['updateGroupPicture'](_0x48ddf6,_0x40bc3f)});_0x49bb81[_0x3254ae(0x3f3)](0xc9)[_0x3254ae(0x29d)](_0x5d1342);})['put'](this[_0x260338(0x7bb)](_0x260338(0x4db)),..._0x392946,async(_0x2006fc,_0x1836da)=>{const _0x36f583=_0x260338;let _0x272624=await this[_0x36f583(0x434)]({'request':_0x2006fc,'schema':li,'ClassRef':gt,'execute':(_0x104317,_0x139adf)=>G[_0x36f583(0x4db)](_0x104317,_0x139adf)});_0x1836da[_0x36f583(0x3f3)](0xc9)['json'](_0x272624);})[_0x260338(0x85f)](this[_0x260338(0x7bb)](_0x260338(0x2b3)),..._0x392946,async(_0x38a270,_0x4f685b)=>{const _0x358f64=_0x260338;let _0x5daf38=await this[_0x358f64(0x434)]({'request':_0x38a270,'schema':ui,'ClassRef':mt,'execute':(_0x302734,_0x2e3ae2)=>G['groupName'](_0x302734,_0x2e3ae2)});_0x4f685b[_0x358f64(0x3f3)](0xc9)[_0x358f64(0x29d)](_0x5daf38);})[_0x260338(0x85f)](this[_0x260338(0x7bb)]('groupBetterSetting'),..._0x392946,async(_0x4cb8ac,_0x31b6aa)=>{const _0x5986dc=_0x260338;let _0x2a2337=await this[_0x5986dc(0x434)]({'request':_0x4cb8ac,'schema':pi,'ClassRef':wt,'execute':(_0x13eef6,_0x520475)=>G['groupBetterSetting'](_0x13eef6,_0x520475)});_0x31b6aa[_0x5986dc(0x3f3)](0xc9)[_0x5986dc(0x29d)](_0x2a2337);})[_0x260338(0x85f)](this[_0x260338(0x7bb)]('groupSetting'),..._0x392946,async(_0x2ad359,_0x4b95b1)=>{const _0x2ab612=_0x260338;let _0x2ccb33=await this[_0x2ab612(0x434)]({'request':_0x2ad359,'schema':di,'ClassRef':ft,'execute':(_0x26df4a,_0x24a43d)=>G[_0x2ab612(0x44c)](_0x26df4a,_0x24a43d)});_0x4b95b1[_0x2ab612(0x3f3)](0xc9)[_0x2ab612(0x29d)](_0x2ccb33);})[_0x260338(0x85f)](this['routerPath']('toggleEphemeral'),..._0x392946,async(_0x420a29,_0x20556a)=>{const _0x4f269e=_0x260338;let _0x5a32cd=await this[_0x4f269e(0x434)]({'request':_0x420a29,'schema':ni,'ClassRef':bt,'execute':(_0x4008af,_0x26a136)=>G['toggleEphemeral'](_0x4008af,_0x26a136)});_0x20556a['status'](0xc9)[_0x4f269e(0x29d)](_0x5a32cd);})[_0x260338(0x375)](this[_0x260338(0x7bb)]('findGroupInfos'),..._0x392946,async(_0x35db64,_0x191daf)=>{const _0x4b5bf6=_0x260338;let _0x1e553d=await this[_0x4b5bf6(0x434)]({'request':_0x35db64,'schema':De,'ClassRef':ie,'execute':(_0x51b613,_0x763c4d)=>G[_0x4b5bf6(0x690)](_0x51b613,_0x763c4d)});_0x191daf['status'](0xc8)[_0x4b5bf6(0x29d)](_0x1e553d);})[_0x260338(0x375)](this[_0x260338(0x7bb)](_0x260338(0x324)),..._0x392946,async(_0x1b39a8,_0x34e810)=>{const _0x42e59f=_0x260338;let _0x2b1628=await this[_0x42e59f(0x352)]({'request':_0x1b39a8,'schema':N,'ClassRef':M,'execute':_0x3afb55=>G['findGroups'](_0x3afb55)});_0x34e810[_0x42e59f(0x3f3)](0xc8)['json'](_0x2b1628);})[_0x260338(0x375)](this[_0x260338(0x7bb)]('participants'),..._0x392946,async(_0xd1bc23,_0x431e76)=>{const _0x1cf8b4=_0x260338;let _0x5ae906=await this['groupValidate']({'request':_0xd1bc23,'schema':De,'ClassRef':ie,'execute':(_0x32b368,_0x452733)=>G[_0x1cf8b4(0x2a8)](_0x32b368,_0x452733)});_0x431e76[_0x1cf8b4(0x3f3)](0xc8)['json'](_0x5ae906);})[_0x260338(0x375)](this[_0x260338(0x7bb)]('inviteCode'),..._0x392946,async(_0x5ef3dc,_0x3e364c)=>{const _0x40fc1b=_0x260338;let _0x158d1b=await this[_0x40fc1b(0x434)]({'request':_0x5ef3dc,'schema':De,'ClassRef':ie,'execute':(_0x27bae1,_0x2f4dd8)=>G['inviteCode'](_0x27bae1,_0x2f4dd8)});_0x3e364c[_0x40fc1b(0x3f3)](0xc8)['json'](_0x158d1b);})[_0x260338(0x36f)](this['routerPath'](_0x260338(0x6d3)),..._0x392946,async(_0x4c743c,_0x1c2de4)=>{const _0x2e40ac=_0x260338;let _0x410199=await this[_0x2e40ac(0x822)]({'request':_0x4c743c,'schema':Ns,'ClassRef':Pe,'execute':(_0x36c225,_0x54e2a1)=>G['groupGetInviteInfo'](_0x36c225,_0x54e2a1)});_0x1c2de4[_0x2e40ac(0x3f3)](0xc9)[_0x2e40ac(0x29d)](_0x410199);})[_0x260338(0x85f)](this['routerPath'](_0x260338(0x4a2)),..._0x392946,async(_0x2d2dee,_0x40fe8c)=>{const _0x437297=_0x260338;let _0x39a490=await this[_0x437297(0x822)]({'request':_0x2d2dee,'schema':Ns,'ClassRef':Pe,'execute':(_0x3e8323,_0x1a70fa)=>G[_0x437297(0x4a2)](_0x3e8323,_0x1a70fa)});_0x40fe8c[_0x437297(0x3f3)](0xc9)[_0x437297(0x29d)](_0x39a490);})[_0x260338(0x85f)](this[_0x260338(0x7bb)](_0x260338(0x3f7)),..._0x392946,async(_0x2ed601,_0x4b7a1f)=>{const _0x916c65=_0x260338;let _0x41935d=await this[_0x916c65(0x434)]({'request':_0x2ed601,'schema':De,'ClassRef':ie,'execute':(_0x4af462,_0x27400f)=>G[_0x916c65(0x3f7)](_0x4af462,_0x27400f)});_0x4b7a1f[_0x916c65(0x3f3)](0xc9)[_0x916c65(0x29d)](_0x41935d);})[_0x260338(0x85f)](this['routerPath'](_0x260338(0x4ec)),..._0x392946,async(_0xf28ce3,_0x3906be)=>{const _0x57a17e=_0x260338;let _0x8d0a2f=await this[_0x57a17e(0x434)]({'request':_0xf28ce3,'schema':ri,'ClassRef':yt,'execute':(_0x5cef0d,_0x316ea7)=>G[_0x57a17e(0x679)](_0x5cef0d,_0x316ea7)});_0x3906be[_0x57a17e(0x3f3)](0xc9)[_0x57a17e(0x29d)](_0x8d0a2f);})[_0x260338(0x787)](this[_0x260338(0x7bb)](_0x260338(0x4da)),..._0x392946,async(_0x7bf4b3,_0x19cf49)=>{const _0x20086f=_0x260338;let _0x5bc136=await this[_0x20086f(0x434)]({'request':_0x7bf4b3,'schema':{},'ClassRef':ie,'execute':(_0x18ea52,_0x2e0aa3)=>G[_0x20086f(0x4da)](_0x18ea52,_0x2e0aa3)});_0x19cf49[_0x20086f(0x3f3)](0xc8)[_0x20086f(0x29d)](_0x5bc136);});}},fi=require(a0_0x2f588e(0x761)),Mt=class extends W{constructor(_0x1b37f1,..._0x46bf3a){const _0x1ed7ef=a0_0x2f588e;super(),this[_0x1ed7ef(0x521)]=_0x1b37f1,this[_0x1ed7ef(0x24b)]=(0x0,fi['Router'])();let _0x420a12=_0x1b37f1['get'](_0x1ed7ef(0x5da));this[_0x1ed7ef(0x24b)][_0x1ed7ef(0x36f)](_0x1ed7ef(0x2e9),..._0x46bf3a,async(_0x5131dd,_0x5f0f42)=>{const _0x1c04a3=_0x1ed7ef;let {instanceName:_0x240e1a,apikey:_0x1d5d60,number:_0x20d831}=_0x5131dd[_0x1c04a3(0x268)],_0x3191a8=await ge[_0x1c04a3(0x285)]({'instanceName':_0x240e1a,'apikey':_0x1d5d60,'number':_0x20d831});return _0x5f0f42[_0x1c04a3(0x3f3)](0xc9)[_0x1c04a3(0x29d)](_0x3191a8);})['put'](this[_0x1ed7ef(0x7bb)]('restart'),..._0x46bf3a,async(_0xfde48a,_0xabf8)=>{const _0x364341=_0x1ed7ef;let _0x43167a=await this[_0x364341(0x352)]({'request':_0xfde48a,'schema':N,'ClassRef':M,'execute':_0x25c652=>ge[_0x364341(0x4fb)](_0x25c652)});return _0xabf8[_0x364341(0x3f3)](0xc8)['json'](_0x43167a);})[_0x1ed7ef(0x375)](this[_0x1ed7ef(0x7bb)](_0x1ed7ef(0x6cf)),..._0x46bf3a,async(_0x326cb6,_0x27be56)=>{const _0x332398=_0x1ed7ef;let _0x24f6cd=await this[_0x332398(0x352)]({'request':_0x326cb6,'schema':N,'ClassRef':M,'execute':_0x3264c3=>ge[_0x332398(0x39e)](_0x3264c3)});return _0x27be56[_0x332398(0x3f3)](0xc8)['json'](_0x24f6cd);})['get'](this[_0x1ed7ef(0x7bb)](_0x1ed7ef(0x273)),..._0x46bf3a,async(_0x4e48b1,_0x1077a5)=>{const _0x14542a=_0x1ed7ef;let _0x1e8ec7=await this['dataValidate']({'request':_0x4e48b1,'schema':N,'ClassRef':M,'execute':_0x240db7=>ge[_0x14542a(0x273)](_0x240db7)});return _0x1077a5[_0x14542a(0x3f3)](0xc8)['json'](_0x1e8ec7);})[_0x1ed7ef(0x375)](this['routerPath']('fetchInstances',!0x1),..._0x46bf3a,async(_0x5df5e8,_0x2b7274)=>{const _0x5f1399=_0x1ed7ef;let _0x487a7b=await this['dataValidate']({'request':_0x5df5e8,'schema':null,'ClassRef':M,'execute':_0x238a73=>ge[_0x5f1399(0x862)](_0x238a73)});return _0x2b7274[_0x5f1399(0x3f3)](0xc8)['json'](_0x487a7b);})[_0x1ed7ef(0x787)](this[_0x1ed7ef(0x7bb)]('logout'),..._0x46bf3a,async(_0x117580,_0x388870)=>{const _0x510981=_0x1ed7ef;let _0x807083=await this[_0x510981(0x352)]({'request':_0x117580,'schema':N,'ClassRef':M,'execute':_0x122667=>ge[_0x510981(0x723)](_0x122667)});return _0x388870['status'](0xc8)[_0x510981(0x29d)](_0x807083);})[_0x1ed7ef(0x787)](this[_0x1ed7ef(0x7bb)](_0x1ed7ef(0x787)),..._0x46bf3a,async(_0x523aa4,_0x1cb296)=>{const _0x10a33c=_0x1ed7ef;let _0x4d11ca=await this[_0x10a33c(0x352)]({'request':_0x523aa4,'schema':N,'ClassRef':M,'execute':_0x136e88=>ge['deleteInstance'](_0x136e88)});return _0x1cb296[_0x10a33c(0x3f3)](0xc8)[_0x10a33c(0x29d)](_0x4d11ca);});}},wi=require(a0_0x2f588e(0x761)),Rs=class{},Y=class extends Rs{},Ct=class extends Y{},Et=class extends Y{},vt=class extends Y{},Nt=class extends Y{},ke=class extends Y{},$t=class extends Y{},Rt=class extends Y{},It=class extends Y{},At=class extends Y{},Tt=class extends Y{},_t=class{},Ot=class extends W{constructor(..._0x1ddc2a){const _0x381f1f=a0_0x2f588e;super(),this[_0x381f1f(0x24b)]=(0x0,wi[_0x381f1f(0x5f5)])(),this['router'][_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)](_0x381f1f(0x6a0)),..._0x1ddc2a,async(_0x2ef296,_0xbed597)=>{const _0x14c5bd=_0x381f1f;let _0x4afda8=await this[_0x14c5bd(0x352)]({'request':_0x2ef296,'schema':Pa,'ClassRef':Ct,'execute':(_0x36c906,_0x2b5cd3)=>K[_0x14c5bd(0x6a0)](_0x36c906,_0x2b5cd3)});return _0xbed597[_0x14c5bd(0x3f3)](0xc9)[_0x14c5bd(0x29d)](_0x4afda8);})[_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)](_0x381f1f(0x3d7)),..._0x1ddc2a,async(_0x8e044a,_0x1e7c36)=>{const _0xb3d7e1=_0x381f1f;let _0x24f9d7=await this['dataValidate']({'request':_0x8e044a,'schema':Ua,'ClassRef':ke,'execute':(_0x1e1dbe,_0x566c84)=>K['sendMedia'](_0x1e1dbe,_0x566c84)});return _0x1e7c36[_0xb3d7e1(0x3f3)](0xc9)[_0xb3d7e1(0x29d)](_0x24f9d7);})[_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)]('sendMenu'),..._0x1ddc2a,async(_0x22c181,_0x24d621)=>{const _0x35f083=_0x381f1f;let _0x40e16e=await this[_0x35f083(0x352)]({'request':_0x22c181,'schema':qa,'ClassRef':Nt,'execute':(_0x4c8641,_0x1a64fd)=>K[_0x35f083(0x20d)](_0x4c8641,_0x1a64fd)});return _0x24d621[_0x35f083(0x3f3)](0xc9)[_0x35f083(0x29d)](_0x40e16e);})[_0x381f1f(0x36f)](this['routerPath'](_0x381f1f(0x421)),..._0x1ddc2a,async(_0x580933,_0x2ef3cf)=>{const _0x60d334=_0x381f1f;let _0x1922b3=await this[_0x60d334(0x352)]({'request':_0x580933,'schema':ja,'ClassRef':ke,'execute':(_0xe2cae2,_0x5e955e)=>K[_0x60d334(0x421)](_0xe2cae2,_0x5e955e)});return _0x2ef3cf[_0x60d334(0x3f3)](0xc9)['json'](_0x1922b3);})['post'](this[_0x381f1f(0x7bb)](_0x381f1f(0x1ed)),..._0x1ddc2a,async(_0x69c229,_0x2ca1a9)=>{const _0x5a4253=_0x381f1f;let _0x22b938=await this[_0x5a4253(0x352)]({'request':_0x69c229,'schema':Va,'ClassRef':Rt,'execute':(_0x5c4426,_0x1e0638)=>K[_0x5a4253(0x1ed)](_0x5c4426,_0x1e0638)});return _0x2ca1a9[_0x5a4253(0x3f3)](0xc9)[_0x5a4253(0x29d)](_0x22b938);})[_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)](_0x381f1f(0x2da)),..._0x1ddc2a,async(_0x5b530a,_0x57dc4c)=>{const _0x4d244a=_0x381f1f;let _0x251c1f=await this['dataValidate']({'request':_0x5b530a,'schema':Ga,'ClassRef':It,'execute':(_0x325d1b,_0x8e7876)=>K[_0x4d244a(0x2da)](_0x325d1b,_0x8e7876)});return _0x57dc4c['status'](0xc9)[_0x4d244a(0x29d)](_0x251c1f);})['post'](this[_0x381f1f(0x7bb)]('sendList'),..._0x1ddc2a,async(_0x2bf8d1,_0x12fe92)=>{const _0x55c7cb=_0x381f1f;let _0x1c14e6=await this[_0x55c7cb(0x352)]({'request':_0x2bf8d1,'schema':Ba,'ClassRef':At,'execute':(_0x239c86,_0x4cfdeb)=>K[_0x55c7cb(0x1ce)](_0x239c86,_0x4cfdeb)});return _0x12fe92[_0x55c7cb(0x3f3)](0xc9)[_0x55c7cb(0x29d)](_0x1c14e6);})[_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)]('sendContact'),..._0x1ddc2a,async(_0x373a70,_0x462aa2)=>{const _0x21cc4b=_0x381f1f;let _0x216a86=await this[_0x21cc4b(0x352)]({'request':_0x373a70,'schema':Wa,'ClassRef':Tt,'execute':(_0x8db444,_0x9e9df1)=>K[_0x21cc4b(0x608)](_0x8db444,_0x9e9df1)});return _0x462aa2[_0x21cc4b(0x3f3)](0xc9)[_0x21cc4b(0x29d)](_0x216a86);})[_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)](_0x381f1f(0x74e)),..._0x1ddc2a,async(_0xd3bef4,_0x511147)=>{const _0x4c93f6=_0x381f1f;let _0x14fa45=await this['dataValidate']({'request':_0xd3bef4,'schema':za,'ClassRef':_t,'execute':(_0x34f925,_0x2a2d7b)=>K[_0x4c93f6(0x74e)](_0x34f925,_0x2a2d7b)});return _0x511147[_0x4c93f6(0x3f3)](0xc9)[_0x4c93f6(0x29d)](_0x14fa45);})[_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)](_0x381f1f(0x2bf)),..._0x1ddc2a,async(_0xb0e8f2,_0x37a83b)=>{const _0x24b6a5=_0x381f1f;let _0x21861f=await this[_0x24b6a5(0x352)]({'request':_0xb0e8f2,'schema':Ja,'ClassRef':vt,'execute':(_0x2b8d5f,_0x564982)=>K[_0x24b6a5(0x2bf)](_0x2b8d5f,_0x564982)});return _0x37a83b[_0x24b6a5(0x3f3)](0xc9)[_0x24b6a5(0x29d)](_0x21861f);})['post'](this['routerPath'](_0x381f1f(0x2e3)),..._0x1ddc2a,async(_0x53c65b,_0x59c94d)=>{const _0x19a2f9=_0x381f1f;let _0x15a5c7=await this[_0x19a2f9(0x352)]({'request':_0x53c65b,'schema':Fa,'ClassRef':Et,'execute':(_0xc4661a,_0x31fd61)=>K[_0x19a2f9(0x2e3)](_0xc4661a,_0x31fd61)});return _0x59c94d[_0x19a2f9(0x3f3)](0xc9)[_0x19a2f9(0x29d)](_0x15a5c7);})[_0x381f1f(0x36f)](this[_0x381f1f(0x7bb)](_0x381f1f(0x335)),..._0x1ddc2a,async(_0xa7e45b,_0x1ce8e1)=>{const _0xdb2e33=_0x381f1f;let _0x4f5edc=await this['dataValidate']({'request':_0xa7e45b,'schema':La,'ClassRef':$t,'execute':(_0x5a6d7b,_0x3c78e9)=>K[_0xdb2e33(0x335)](_0x5a6d7b,_0x3c78e9)});return _0x1ce8e1[_0xdb2e33(0x3f3)](0xc9)[_0xdb2e33(0x29d)](_0x4f5edc);});}},yi=require(a0_0x2f588e(0x761)),xt=class{},Dt=class extends W{constructor(..._0x7c716b){const _0x4e506e=a0_0x2f588e;super(),this[_0x4e506e(0x24b)]=(0x0,yi[_0x4e506e(0x5f5)])(),this[_0x4e506e(0x24b)][_0x4e506e(0x36f)](this['routerPath'](_0x4e506e(0x33a)),..._0x7c716b,async(_0x5d7845,_0x13eb8f)=>{const _0x3445db=_0x4e506e;let _0x3bb69c=await this[_0x3445db(0x352)]({'request':_0x5d7845,'schema':hi,'ClassRef':xt,'execute':(_0x2b8a1d,_0x16e5a5)=>Is[_0x3445db(0x5ee)](_0x2b8a1d,_0x16e5a5)});_0x13eb8f[_0x3445db(0x3f3)](0xc9)[_0x3445db(0x29d)](_0x3bb69c);})[_0x4e506e(0x375)](this['routerPath']('find'),..._0x7c716b,async(_0x579f23,_0x174c37)=>{const _0x10567a=_0x4e506e;let _0x56a677=await this[_0x10567a(0x352)]({'request':_0x579f23,'schema':N,'ClassRef':M,'execute':_0x576f7b=>Is[_0x10567a(0x6a9)](_0x576f7b)});_0x174c37[_0x10567a(0x3f3)](0xc8)[_0x10567a(0x29d)](_0x56a677);});}},bi=require(a0_0x2f588e(0x761)),y=new $(a0_0x2f588e(0x43a)),Pt=class extends W{constructor(..._0x50c706){const _0x16a265=a0_0x2f588e;super(),this[_0x16a265(0x24b)]=(0x0,bi[_0x16a265(0x5f5)])(),this[_0x16a265(0x24b)][_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x6c0)),..._0x50c706,async(_0xed2ed4,_0x3d1638)=>{const _0x53fb2b=_0x16a265;let _0x372d98=_0xed2ed4[_0x53fb2b(0x268)];y['verbose'](_0x53fb2b(0x8db)),y['verbose'](_0x53fb2b(0x31f)),y[_0x53fb2b(0x5ef)](_0xed2ed4['body']);let _0x57cd70=await this[_0x53fb2b(0x352)]({'request':_0xed2ed4,'schema':N,'ClassRef':M,'execute':_0x3040ce=>_[_0x53fb2b(0x5e2)](_0x3040ce,_0x372d98)});_0x3d1638[_0x53fb2b(0x3f3)](0xc8)['json'](_0x57cd70);})['get'](this[_0x16a265(0x7bb)](_0x16a265(0x6c0)),..._0x50c706,async(_0x5e30a0,_0x904987)=>{const _0x30ba14=_0x16a265;let _0x3f3a64=await this['dataValidate']({'request':_0x5e30a0,'schema':N,'ClassRef':M,'execute':_0x300cd9=>_[_0x30ba14(0x42a)](_0x300cd9)});_0x904987['status'](0xc8)[_0x30ba14(0x29d)](_0x3f3a64);})[_0x16a265(0x787)](this[_0x16a265(0x7bb)](_0x16a265(0x898)),..._0x50c706,async(_0x448f4b,_0x4b68eb)=>{const _0x5d545c=_0x16a265;y[_0x5d545c(0x5ef)](_0x5d545c(0x23d));let _0x108c2c=await this[_0x5d545c(0x352)]({'request':_0x448f4b,'schema':N,'ClassRef':M,'execute':_0x57db5f=>_[_0x5d545c(0x898)](_0x57db5f)});_0x4b68eb[_0x5d545c(0x3f3)](0xc8)[_0x5d545c(0x29d)](_0x108c2c);})[_0x16a265(0x36f)](this['routerPath']('startFlow'),..._0x50c706,async(_0x11c850,_0x1b439c)=>{const _0x3e6e5c=_0x16a265;let _0x74c3dc=_0x11c850['body'];y[_0x3e6e5c(0x5ef)](_0x3e6e5c(0x6f6)),y[_0x3e6e5c(0x5ef)](_0x3e6e5c(0x31f)),y[_0x3e6e5c(0x5ef)](_0x11c850[_0x3e6e5c(0x268)]);let _0x1f7bf5=await this['dataValidate']({'request':_0x11c850,'schema':N,'ClassRef':M,'execute':_0x535c8e=>_[_0x3e6e5c(0x59b)](_0x535c8e,_0x74c3dc)});_0x1b439c[_0x3e6e5c(0x3f3)](0xc8)[_0x3e6e5c(0x29d)](_0x1f7bf5);})[_0x16a265(0x375)](this[_0x16a265(0x7bb)](_0x16a265(0x60e)),..._0x50c706,async(_0x282f66,_0x2b6145)=>{const _0x19c557=_0x16a265;y[_0x19c557(0x5ef)]('request\x20received\x20in\x20getAutomateSystem');let _0x48222b=await this[_0x19c557(0x352)]({'request':_0x282f66,'schema':N,'ClassRef':M,'execute':_0xd70ac5=>_[_0x19c557(0x60e)](_0xd70ac5)});_0x2b6145[_0x19c557(0x3f3)](0xc8)[_0x19c557(0x29d)](_0x48222b);})[_0x16a265(0x375)](this[_0x16a265(0x7bb)](_0x16a265(0x332)),..._0x50c706,async(_0x2fdee4,_0x33205b)=>{const _0x299e5a=_0x16a265;y[_0x299e5a(0x5ef)](_0x299e5a(0x91d));let _0x105ce7=await this[_0x299e5a(0x352)]({'request':_0x2fdee4,'schema':N,'ClassRef':M,'execute':_0x1546d=>_['getAutomateSystem'](_0x1546d)});_0x33205b[_0x299e5a(0x3f3)](0xc8)['json'](_0x105ce7);})[_0x16a265(0x36f)](this['routerPath'](_0x16a265(0x201)),..._0x50c706,async(_0x324455,_0x4ae0eb)=>{const _0x4654bc=_0x16a265;let _0xac6e85=_0x324455[_0x4654bc(0x268)];y[_0x4654bc(0x5ef)](_0x4654bc(0x48b)),y[_0x4654bc(0x5ef)](_0x4654bc(0x31f)),y[_0x4654bc(0x5ef)](_0x324455[_0x4654bc(0x268)]);let _0x50348b=await this['dataValidate']({'request':_0x324455,'schema':N,'ClassRef':M,'execute':_0x513e3f=>_[_0x4654bc(0x201)](_0x513e3f,_0xac6e85)});_0x4ae0eb[_0x4654bc(0x3f3)](0xc8)['json'](_0x50348b);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x890)),..._0x50c706,async(_0x578e4d,_0x50f28e)=>{const _0x55447e=_0x16a265;let _0x49c063=_0x578e4d[_0x55447e(0x268)];y['verbose'](_0x55447e(0x60a)),y[_0x55447e(0x5ef)]('request\x20body:\x20'),y['verbose'](_0x578e4d[_0x55447e(0x268)]);let _0x751b22=await this[_0x55447e(0x352)]({'request':_0x578e4d,'schema':N,'ClassRef':M,'execute':_0x3e0551=>_['updateCustomFields'](_0x3e0551,_0x49c063)});_0x50f28e[_0x55447e(0x3f3)](0xc8)[_0x55447e(0x29d)](_0x751b22);})[_0x16a265(0x36f)](this['routerPath'](_0x16a265(0x6c9)),..._0x50c706,async(_0x4d380b,_0x3245ad)=>{const _0xf34655=_0x16a265;let _0x5d0c3c=_0x4d380b[_0xf34655(0x268)];y[_0xf34655(0x5ef)](_0xf34655(0x5a3)),y['verbose'](_0xf34655(0x31f)),y[_0xf34655(0x5ef)](_0x4d380b['body']);let _0x4ecc18=await this['dataValidate']({'request':_0x4d380b,'schema':N,'ClassRef':M,'execute':_0x473674=>_[_0xf34655(0x6c9)](_0x473674,_0x5d0c3c)});_0x3245ad[_0xf34655(0x3f3)](0xc8)[_0xf34655(0x29d)](_0x4ecc18);})[_0x16a265(0x36f)](this['routerPath'](_0x16a265(0x80a)),..._0x50c706,async(_0x45f205,_0x35b3b7)=>{const _0x2027ff=_0x16a265;let _0x3000a4=_0x45f205[_0x2027ff(0x268)];y[_0x2027ff(0x5ef)](_0x2027ff(0x363)),y[_0x2027ff(0x5ef)](_0x2027ff(0x31f)),y[_0x2027ff(0x5ef)](_0x45f205[_0x2027ff(0x268)]);let _0x119e6e=await this[_0x2027ff(0x352)]({'request':_0x45f205,'schema':N,'ClassRef':M,'execute':_0x169db9=>_['updateFlowConfig'](_0x169db9,_0x3000a4)});_0x35b3b7[_0x2027ff(0x3f3)](0xc8)[_0x2027ff(0x29d)](_0x119e6e);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x1f5)),..._0x50c706,async(_0x4af376,_0x22696c)=>{const _0x2be9b7=_0x16a265;let _0x32cc27=_0x4af376['body'];y[_0x2be9b7(0x5ef)](_0x2be9b7(0x3ca)),y[_0x2be9b7(0x5ef)]('request\x20body:\x20'),y[_0x2be9b7(0x5ef)](_0x4af376[_0x2be9b7(0x268)]);let _0x27432a=await this[_0x2be9b7(0x352)]({'request':_0x4af376,'schema':N,'ClassRef':M,'execute':_0x2606d5=>_[_0x2be9b7(0x1f5)](_0x2606d5,_0x32cc27)});_0x22696c[_0x2be9b7(0x3f3)](0xc8)['json'](_0x27432a);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x802)),..._0x50c706,async(_0xc2b0e9,_0x3a4f39)=>{const _0x35ef51=_0x16a265;let _0x48b880=_0xc2b0e9[_0x35ef51(0x268)];y[_0x35ef51(0x5ef)](_0x35ef51(0x2a7)),y[_0x35ef51(0x5ef)](_0x35ef51(0x31f)),y[_0x35ef51(0x5ef)](_0xc2b0e9[_0x35ef51(0x268)]);let _0x109a7a=await this[_0x35ef51(0x352)]({'request':_0xc2b0e9,'schema':N,'ClassRef':M,'execute':_0x41f662=>_['fetchConversation'](_0x41f662,_0x48b880)});_0x3a4f39[_0x35ef51(0x3f3)](0xc8)[_0x35ef51(0x29d)](_0x109a7a);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x858)),..._0x50c706,async(_0xf9674f,_0x473e89)=>{const _0x35ef3c=_0x16a265;let _0x491cd=_0xf9674f[_0x35ef3c(0x268)];y[_0x35ef3c(0x5ef)](_0x35ef3c(0x867)),y[_0x35ef3c(0x5ef)](_0x35ef3c(0x31f)),y[_0x35ef3c(0x5ef)](_0xf9674f[_0x35ef3c(0x268)]);let _0x54c610=await this['dataValidate']({'request':_0xf9674f,'schema':N,'ClassRef':M,'execute':_0xec619a=>_[_0x35ef3c(0x858)](_0xec619a,_0x491cd)});_0x473e89['status'](0xc8)['json'](_0x54c610);})[_0x16a265(0x787)](this['routerPath'](_0x16a265(0x4d2)),..._0x50c706,async(_0x20e0e4,_0x3a0627)=>{const _0x17baee=_0x16a265;let _0x157e67=_0x20e0e4[_0x17baee(0x268)];y[_0x17baee(0x5ef)](_0x17baee(0x7c7)),y[_0x17baee(0x5ef)]('request\x20body:\x20'),y[_0x17baee(0x5ef)](_0x20e0e4[_0x17baee(0x268)]);let _0x4c7fae=await this[_0x17baee(0x352)]({'request':_0x20e0e4,'schema':N,'ClassRef':M,'execute':_0x5a33ed=>_[_0x17baee(0x4d2)](_0x5a33ed,_0x157e67)});_0x3a0627[_0x17baee(0x3f3)](0xc8)[_0x17baee(0x29d)](_0x4c7fae);})['post'](this['routerPath'](_0x16a265(0x59e)),..._0x50c706,async(_0x11eb84,_0x2da154)=>{const _0x384517=_0x16a265;let _0x2399c2=_0x11eb84[_0x384517(0x268)],_0x44d647=_0x11eb84[_0x384517(0x354)][_0x384517(0x878)];y[_0x384517(0x5ef)](_0x384517(0x706)),y[_0x384517(0x5ef)](_0x384517(0x31f)),y[_0x384517(0x5ef)](_0x11eb84[_0x384517(0x268)]);let _0x2fc290=await this[_0x384517(0x352)]({'request':_0x11eb84,'schema':N,'ClassRef':M,'execute':_0x13cb77=>_[_0x384517(0x5ed)](_0x13cb77,_0x2399c2,_0x44d647)});_0x2da154[_0x384517(0x3f3)](0xc8)[_0x384517(0x29d)](_0x2fc290);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x5f2)),..._0x50c706,async(_0x4b6991,_0x22cb0f)=>{const _0x3c47db=_0x16a265;let _0x4bf1a2=_0x4b6991['body'],_0x173bf2=_0x4b6991['headers'][_0x3c47db(0x878)];y[_0x3c47db(0x5ef)]('request\x20received\x20in\x20editFlow'),y[_0x3c47db(0x5ef)](_0x3c47db(0x31f)),y[_0x3c47db(0x5ef)](_0x4b6991[_0x3c47db(0x268)]),delete _0x4bf1a2[_0x3c47db(0x5be)],delete _0x4bf1a2['variables'],delete _0x4bf1a2['groups'],delete _0x4bf1a2['conditions'];let _0x59ba92=await this['dataValidate']({'request':_0x4b6991,'schema':N,'ClassRef':M,'execute':_0x132456=>_[_0x3c47db(0x91a)](_0x132456,_0x4bf1a2,_0x173bf2)});_0x22cb0f['status'](0xc8)[_0x3c47db(0x29d)](_0x59ba92);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x88d)),..._0x50c706,async(_0xa874a2,_0x2a1a10)=>{const _0x1c6a82=_0x16a265;let _0x38b7ba=_0xa874a2[_0x1c6a82(0x268)];y[_0x1c6a82(0x5ef)](_0x1c6a82(0x3f1)),y[_0x1c6a82(0x5ef)]('request\x20body:\x20'),y['verbose'](_0xa874a2['body']);let _0xcb4e=await this[_0x1c6a82(0x352)]({'request':_0xa874a2,'schema':N,'ClassRef':M,'execute':_0x1596db=>_['editFlowBlock'](_0x1596db,_0x38b7ba)});_0x2a1a10[_0x1c6a82(0x3f3)](0xc8)[_0x1c6a82(0x29d)](_0xcb4e);})[_0x16a265(0x36f)](this['routerPath']('editflowreply'),..._0x50c706,async(_0x409fa7,_0x519e83)=>{const _0x18869a=_0x16a265;let _0x4cf829=_0x409fa7['body'];y[_0x18869a(0x5ef)](_0x18869a(0x3f1)),y[_0x18869a(0x5ef)](_0x18869a(0x31f)),y[_0x18869a(0x5ef)](_0x409fa7[_0x18869a(0x268)]);let _0x2f2bde=await this[_0x18869a(0x352)]({'request':_0x409fa7,'schema':N,'ClassRef':M,'execute':_0x5185b7=>_[_0x18869a(0x831)](_0x5185b7,_0x4cf829)});_0x519e83[_0x18869a(0x3f3)](0xc8)['json'](_0x2f2bde);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)]('editflowvaredit'),..._0x50c706,async(_0x4c82fe,_0x16834d)=>{const _0x566985=_0x16a265;let _0x3aedfa=_0x4c82fe[_0x566985(0x268)];y[_0x566985(0x5ef)](_0x566985(0x3f1)),y[_0x566985(0x5ef)]('request\x20body:\x20'),y[_0x566985(0x5ef)](_0x4c82fe['body']);let _0x16b939=await this[_0x566985(0x352)]({'request':_0x4c82fe,'schema':N,'ClassRef':M,'execute':_0x541198=>_[_0x566985(0x7ba)](_0x541198,_0x3aedfa)});_0x16834d['status'](0xc8)[_0x566985(0x29d)](_0x16b939);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x6ef)),..._0x50c706,async(_0x282707,_0x4f9260)=>{const _0x379bf6=_0x16a265;let _0x474186=_0x282707[_0x379bf6(0x268)];y[_0x379bf6(0x5ef)](_0x379bf6(0x8d5)),y[_0x379bf6(0x5ef)]('request\x20body:\x20'),y[_0x379bf6(0x5ef)](_0x282707['body']);let _0x3080ba=await this[_0x379bf6(0x352)]({'request':_0x282707,'schema':N,'ClassRef':M,'execute':_0x2450e9=>_['editFlowGroup'](_0x2450e9,_0x474186)});_0x4f9260[_0x379bf6(0x3f3)](0xc8)[_0x379bf6(0x29d)](_0x3080ba);})[_0x16a265(0x36f)](this[_0x16a265(0x7bb)](_0x16a265(0x365)),..._0x50c706,async(_0x218f0e,_0xd00d25)=>{const _0x3d5881=_0x16a265;let _0x4d8c4d=_0x218f0e[_0x3d5881(0x268)];y[_0x3d5881(0x5ef)]('request\x20received\x20in\x20editFlowcondition'),y[_0x3d5881(0x5ef)](_0x3d5881(0x31f)),y[_0x3d5881(0x5ef)](_0x218f0e['body']);let _0x4ab47c=await this[_0x3d5881(0x352)]({'request':_0x218f0e,'schema':N,'ClassRef':M,'execute':_0x3b9571=>_['editFlowCondition'](_0x3b9571,_0x4d8c4d)});_0xd00d25[_0x3d5881(0x3f3)](0xc8)['json'](_0x4ab47c);})[_0x16a265(0x36f)](this['routerPath'](_0x16a265(0x658)),..._0x50c706,async(_0x3a21b2,_0x5a9482)=>{const _0x30b560=_0x16a265;let _0x37c471=_0x3a21b2[_0x30b560(0x268)];y[_0x30b560(0x5ef)]('request\x20received\x20in\x20editFlowvariable'),y[_0x30b560(0x5ef)](_0x30b560(0x31f)),y['verbose'](_0x3a21b2[_0x30b560(0x268)]);let _0x476c82=await this['dataValidate']({'request':_0x3a21b2,'schema':N,'ClassRef':M,'execute':_0x3d954d=>_[_0x30b560(0x6ca)](_0x3d954d,_0x37c471)});_0x5a9482[_0x30b560(0x3f3)](0xc8)['json'](_0x476c82);})[_0x16a265(0x36f)](this['routerPath'](_0x16a265(0x524)),..._0x50c706,async(_0x43d835,_0x3c3ca9)=>{const _0x4b3cad=_0x16a265;let _0x1fb3ca=_0x43d835['body'];y['verbose'](_0x4b3cad(0x724)),y[_0x4b3cad(0x5ef)]('request\x20body:\x20'),y[_0x4b3cad(0x5ef)](_0x43d835[_0x4b3cad(0x268)]);let _0xce5e8f=await this[_0x4b3cad(0x352)]({'request':_0x43d835,'schema':N,'ClassRef':M,'execute':_0x29b41a=>_['getFlow'](_0x29b41a,_0x1fb3ca)});_0x3c3ca9[_0x4b3cad(0x3f3)](0xc8)['json'](_0xce5e8f);})[_0x16a265(0x787)](this[_0x16a265(0x7bb)](_0x16a265(0x885)),..._0x50c706,async(_0x37a8f3,_0x5b9c64)=>{const _0xdd74a4=_0x16a265;let _0x5717cd=_0x37a8f3[_0xdd74a4(0x268)];y[_0xdd74a4(0x5ef)](_0xdd74a4(0x50c)),y[_0xdd74a4(0x5ef)](_0xdd74a4(0x31f)),y[_0xdd74a4(0x5ef)](_0x37a8f3['body']);let _0x54de86=await this['dataValidate']({'request':_0x37a8f3,'schema':N,'ClassRef':M,'execute':_0x1830e1=>_[_0xdd74a4(0x685)](_0x1830e1,_0x5717cd)});_0x5b9c64[_0xdd74a4(0x3f3)](0xc8)[_0xdd74a4(0x29d)](_0x54de86);})[_0x16a265(0x375)](this['routerPath'](_0x16a265(0x41e)),..._0x50c706,async(_0x53846f,_0x121932)=>{const _0x466600=_0x16a265;y['verbose'](_0x466600(0x525));let _0x3ba005=await this[_0x466600(0x352)]({'request':_0x53846f,'schema':N,'ClassRef':M,'execute':_0x55e22e=>_[_0x466600(0x6b6)](_0x55e22e)});_0x121932[_0x466600(0x3f3)](0xc8)['json'](_0x3ba005);});}},Ei=A(require(a0_0x2f588e(0x304))),oe={};function Si(_0x3d1927,_0x406124,_0x18f2ca,_0x5246a6){oe[_0x3d1927]||(oe[_0x3d1927]={}),oe[_0x3d1927][_0x406124]={'id':_0x406124,'response':_0x18f2ca,'events':_0x5246a6};}function Mi(_0x44bd1f,_0x4cdcee){!oe[_0x44bd1f]||!oe[_0x44bd1f][_0x4cdcee]||delete oe[_0x44bd1f][_0x4cdcee];}function q(_0x25642f,_0x10d7ff,_0x15da21){const _0x399e40=a0_0x2f588e;if(!oe[_0x25642f])return;let _0x5d711d=_0x399e40(0x5f4)+JSON[_0x399e40(0x8f1)](_0x15da21)+'\x0a\x0a';Object['values'](oe[_0x25642f])[_0x399e40(0x255)](_0x39b8a5=>{const _0xc5177a=_0x399e40;_0x39b8a5[_0xc5177a(0x403)][_0xc5177a(0x3e8)](_0x10d7ff)&&_0x39b8a5[_0xc5177a(0x82b)]['write'](_0x5d711d);});}function Ci(){const _0x479e50=a0_0x2f588e;let _0x1a2358={};for(let _0x390f53 in oe)_0x1a2358[_0x390f53]=Object[_0x479e50(0x5db)](oe[_0x390f53])[_0x479e50(0x475)](_0x1560d7=>({'id':_0x1560d7['id'],'events':_0x1560d7[_0x479e50(0x403)]}));return _0x1a2358;}var vi=require(a0_0x2f588e(0x312)),Ts=require(a0_0x2f588e(0x391)),As=class{},_o=new Ts[(a0_0x2f588e(0x2fd))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Oo=new Ts[(a0_0x2f588e(0x2fd))]({'_id':{'type':String,'default':a0_0x2f588e(0x88a)},'WebhookGlobal':{'type':_o},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=I?.['model'](As['name'],Oo,'All_Instances_Config'),xo=Ei[a0_0x2f588e(0x6d0)]['join'](__dirname,a0_0x2f588e(0x668)),Le=(0x0,kt[a0_0x2f588e(0x5f5)])(),Do=S[a0_0x2f588e(0x375)]('AUTHENTICATION')[a0_0x2f588e(0x3cc)],le=[Aa,Ta,xa[Do]];Le[a0_0x2f588e(0x308)](a0_0x2f588e(0x619),kt[a0_0x2f588e(0x6d0)][a0_0x2f588e(0x558)](xo))[a0_0x2f588e(0x375)](a0_0x2f588e(0x8b1),async(_0x2e7dee,_0x584795)=>{const _0x288655=a0_0x2f588e;console[_0x288655(0x449)](_0x288655(0x445));let _0xed489c=_0x2e7dee['params']['instance'],_0x13d027=(_0x2e7dee[_0x288655(0x54a)][_0x288655(0x403)]||'')['split'](','),_0x1ac843=(0x0,vi['v4'])();console[_0x288655(0x449)]('Instance\x20ID:',_0xed489c),console[_0x288655(0x449)](_0x288655(0x4a7),_0x13d027);let _0xfc4712=S[_0x288655(0x375)]('AUTHENTICATION')[_0x288655(0x8fb)],_0x537992=_0x2e7dee['query'][_0x288655(0x878)];if(console[_0x288655(0x449)]('API\x20Key\x20from\x20Request:',_0x537992),_0xfc4712['KEY']!==_0x537992){console[_0x288655(0x449)](_0x288655(0x836));try{let _0x13f5a3=await ye[_0x288655(0x703)][_0x288655(0x3b1)](_0xed489c);if(console[_0x288655(0x449)](_0x288655(0x654),_0x13f5a3),!_0x13f5a3||_0x13f5a3['apikey']!==_0x537992)return console[_0x288655(0x449)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x584795[_0x288655(0x3f3)](0x191)['send'](_0x288655(0x327));}catch(_0x4f7f1a){return console[_0x288655(0x20e)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x4f7f1a),_0x584795['status'](0x191)[_0x288655(0x87a)](_0x288655(0x2a4));}}if(!await Oe(_0xed489c))return _0x584795[_0x288655(0x3f3)](0x194)[_0x288655(0x87a)](_0x288655(0x4f5));_0x584795[_0x288655(0x88f)]('Content-Type',_0x288655(0x738)),_0x584795[_0x288655(0x88f)](_0x288655(0x486),_0x288655(0x6a3)),_0x584795[_0x288655(0x88f)](_0x288655(0x51a),_0x288655(0x900)),_0x584795[_0x288655(0x482)]();let _0x5e01a7=_0x288655(0x5f4)+JSON[_0x288655(0x8f1)]({'info':_0x288655(0x684)})+'\x0a\x0a';_0x584795['write'](_0x5e01a7),Si(_0xed489c,_0x1ac843,_0x584795,_0x13d027),_0x2e7dee['on'](_0x288655(0x70a),()=>{const _0x2cd405=_0x288655;console[_0x2cd405(0x449)](_0x2cd405(0x535)+_0xed489c),Mi(_0xed489c,_0x1ac843);});}),Le[a0_0x2f588e(0x36f)](a0_0x2f588e(0x222),async(_0x196dc8,_0x4211fc)=>{const _0x273a96=a0_0x2f588e;console[_0x273a96(0x449)](_0x273a96(0x894));let _0xac7835=_0x196dc8[_0x273a96(0x34c)][_0x273a96(0x665)],_0x1287bf=_0x196dc8[_0x273a96(0x34c)][_0x273a96(0x495)],_0x19e521=_0x196dc8['query'][_0x273a96(0x46d)]||'',_0x171b74=_0x196dc8['body'];console[_0x273a96(0x449)](_0x273a96(0x32e),_0xac7835),console[_0x273a96(0x449)](_0x273a96(0x45d),_0x1287bf),console[_0x273a96(0x449)]('RemoteJid:',_0x19e521),console['log']('Request\x20Body:',_0x171b74);try{if(!await Oe(_0xac7835))return _0x4211fc[_0x273a96(0x3f3)](0x194)[_0x273a96(0x87a)](_0x273a96(0x4f5));let _0x144f28=await _[_0x273a96(0x8ad)](_0xac7835,_0x1287bf,_0x19e521,_0x171b74);_0x4211fc[_0x273a96(0x87a)](_0x144f28);}catch(_0x20946c){console[_0x273a96(0x20e)](_0x20946c),_0x4211fc[_0x273a96(0x3f3)](0x1f4)[_0x273a96(0x87a)](_0x273a96(0x2ff));}}),Le[a0_0x2f588e(0x375)]('/clients-info',(_0x1aa46c,_0x255763)=>{const _0xa68d=a0_0x2f588e;let _0x59a658=Ci();_0x255763[_0xa68d(0x29d)](_0x59a658);})[a0_0x2f588e(0x375)]('/',(_0x1730bd,_0x2bf4a2)=>{const _0x40dfa5=a0_0x2f588e;let _0x2ffd51=S['get']('SERVER')['URL'];if(_0x2ffd51){let _0x524e0b=encodeURIComponent(''+_0x2ffd51);_0x2bf4a2[_0x40dfa5(0x811)](_0x40dfa5(0x328)+_0x524e0b);return;}let _0x4569a0=S[_0x40dfa5(0x375)](_0x40dfa5(0x8b3)),_0x4dd571=_0x4569a0&&_0x4569a0['FULLCHAIN'][_0x40dfa5(0x50b)]('/')[0x4];if(_0x4dd571){let _0x5414b7=encodeURIComponent(_0x40dfa5(0x6fb)+_0x4dd571);_0x2bf4a2[_0x40dfa5(0x811)](_0x40dfa5(0x328)+_0x5414b7);}else _0x2bf4a2[_0x40dfa5(0x811)](_0x40dfa5(0x5c4));})[a0_0x2f588e(0x85f)](a0_0x2f588e(0x40a),...le,async(_0x5ea439,_0x29dfde)=>{const _0x18e5b8=a0_0x2f588e;try{console[_0x18e5b8(0x449)](_0x18e5b8(0x68c)),_0x29dfde[_0x18e5b8(0x3f3)](0xc8)[_0x18e5b8(0x29d)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x29dfde['on']('finish',()=>process[_0x18e5b8(0x7fd)](0x0));}catch(_0x3e5525){console['error'](_0x18e5b8(0x4ee),_0x3e5525),_0x29dfde[_0x18e5b8(0x3f3)](0x1f4)[_0x18e5b8(0x29d)]({'message':_0x18e5b8(0x366)});}})['put']('/config',...le,async(_0x362888,_0x38f3b9)=>{const _0x1e2c49=a0_0x2f588e;try{let _0x298e76=_0x362888[_0x1e2c49(0x268)];await Ne[_0x1e2c49(0x805)]({},{'$set':_0x298e76},{'upsert':!0x0});let _0x4fe97d=await Ne['findOne']();_0x38f3b9[_0x1e2c49(0x29d)](_0x4fe97d);}catch(_0x5e227d){_0x38f3b9[_0x1e2c49(0x3f3)](0x190)[_0x1e2c49(0x87a)](_0x5e227d['message']);}})['get']('/config',...le,async(_0x54e613,_0x32e6ab)=>{const _0x512b65=a0_0x2f588e;try{let _0x5d2dcf=await Ne[_0x512b65(0x876)]();if(!_0x5d2dcf)return _0x32e6ab['json']({});_0x32e6ab[_0x512b65(0x29d)](_0x5d2dcf);}catch(_0x23af3a){_0x32e6ab[_0x512b65(0x3f3)](0x1f4)['send'](_0x23af3a[_0x512b65(0x68b)]);}})[a0_0x2f588e(0x308)](a0_0x2f588e(0x5d6),new Mt(S,...le)['router'])['use'](a0_0x2f588e(0x78d),new Ot(...le)[a0_0x2f588e(0x24b)])[a0_0x2f588e(0x308)](a0_0x2f588e(0x759),new dt(...le)[a0_0x2f588e(0x24b)])[a0_0x2f588e(0x308)]('/group',new St(...le)[a0_0x2f588e(0x24b)])[a0_0x2f588e(0x308)](a0_0x2f588e(0x2b1),new Dt(...le)[a0_0x2f588e(0x24b)])[a0_0x2f588e(0x308)]('/automate',new Pt(...le)[a0_0x2f588e(0x24b)]);var m=class{constructor(..._0x2fe937){const _0x3ee7cf=a0_0x2f588e;throw{'status':0x190,'error':_0x3ee7cf(0x450),'message':_0x2fe937['length']>0x0?_0x2fe937:void 0x0};}},ce=class{constructor(..._0x56c980){const _0x4f6686=a0_0x2f588e;throw{'status':0x191,'error':_0x4f6686(0x8cd),'message':_0x56c980['length']>0x0?_0x56c980:void 0x0};}},se=class{constructor(..._0x1e0af2){const _0x300817=a0_0x2f588e;throw{'status':0x193,'error':_0x300817(0x239),'message':_0x1e0af2[_0x300817(0x8b9)]>0x0?_0x1e0af2:void 0x0};}},V=class{constructor(..._0x108cd5){const _0x21d9ae=a0_0x2f588e;throw{'status':0x194,'error':_0x21d9ae(0x4ae),'message':_0x108cd5['length']>0x0?_0x108cd5:void 0x0};}},D=class{constructor(..._0x4dbde6){const _0x374ee1=a0_0x2f588e;throw{'status':0x1f4,'error':_0x374ee1(0x63f),'message':_0x4dbde6['length']>0x0?_0x4dbde6:void 0x0};}},be=require(a0_0x2f588e(0x7f3));async function _s(_0x28e868){const _0x40c920=a0_0x2f588e;let _0x44e096=new $(_s[_0x40c920(0x7dc)]),_0x1019e5=I[_0x40c920(0x223)](),_0x12d057=_0x1019e5['db'](S[_0x40c920(0x375)](_0x40c920(0x2d4))['CONNECTION'][_0x40c920(0x474)]+_0x40c920(0x3c1))[_0x40c920(0x219)](_0x28e868),_0x57bacc=async(_0x59ebab,_0x5403cd)=>{const _0x292ccf=_0x40c920;try{return await _0x1019e5['connect'](),await _0x12d057['replaceOne']({'_id':_0x5403cd},JSON[_0x292ccf(0x2a3)](JSON[_0x292ccf(0x8f1)](_0x59ebab,be[_0x292ccf(0x70b)][_0x292ccf(0x7e4)])),{'upsert':!0x0});}catch{}},_0x5f3fca=async _0x22f1e1=>{const _0x2452f9=_0x40c920;try{await _0x1019e5['connect']();let _0x225080=await _0x12d057[_0x2452f9(0x876)]({'_id':_0x22f1e1}),_0x43130a=JSON[_0x2452f9(0x8f1)](_0x225080);return JSON[_0x2452f9(0x2a3)](_0x43130a,be['BufferJSON'][_0x2452f9(0x670)]);}catch{}},_0x576081=async _0x115dea=>{const _0x3bfcba=_0x40c920;try{return await _0x1019e5[_0x3bfcba(0x6cf)](),await _0x12d057[_0x3bfcba(0x5d9)]({'_id':_0x115dea});}catch{}},_0x591c09=await _0x5f3fca('creds')||(0x0,be[_0x40c920(0x3ad)])();return{'state':{'creds':_0x591c09,'keys':{'get':async(_0x1ec596,_0x25581f)=>{const _0x3fb996=_0x40c920;let _0xa2c124={};return await Promise[_0x3fb996(0x57c)](_0x25581f[_0x3fb996(0x475)](async _0x502f1e=>{const _0x31dd1b=_0x3fb996;let _0x5025b9=await _0x5f3fca(_0x1ec596+'-'+_0x502f1e);_0x1ec596==='app-state-sync-key'&&_0x5025b9&&(_0x5025b9=be['proto']['Message'][_0x31dd1b(0x2e0)][_0x31dd1b(0x26f)](_0x5025b9)),_0xa2c124[_0x502f1e]=_0x5025b9;})),_0xa2c124;},'set':async _0x604a3b=>{let _0x29b5f5=[];for(let _0x2dede5 in _0x604a3b)for(let _0x768d1c in _0x604a3b[_0x2dede5]){let _0x2e85c8=_0x604a3b[_0x2dede5][_0x768d1c],_0x2ce698=_0x2dede5+'-'+_0x768d1c;_0x29b5f5['push'](_0x2e85c8?_0x57bacc(_0x2e85c8,_0x2ce698):_0x576081(_0x2ce698));}await Promise['all'](_0x29b5f5);}}},'saveCreds':async()=>_0x57bacc(_0x591c09,'creds')};}var ks=A(require(a0_0x2f588e(0x339))),Ls=A(require(a0_0x2f588e(0x3ab))),Ut=require('@whiskeysockets/baileys'),Ni=require(a0_0x2f588e(0x7cf)),Ft=require(a0_0x2f588e(0x7f3)),Lt;function Po(_0x2286ba){const _0xc3abbe=a0_0x2f588e;return Lt||(Lt=(0x0,Ni[_0xc3abbe(0x79a)])({'url':_0x2286ba[_0xc3abbe(0x410)]}),Lt[_0xc3abbe(0x6cf)]()),Lt;}var me=class u{constructor(_0x3c6bc6,_0x3cf345){const _0x4d75b1=a0_0x2f588e;this[_0x4d75b1(0x542)]=_0x3c6bc6,this[_0x4d75b1(0x763)]=_0x3cf345,this[_0x4d75b1(0x8de)]=new $(u[_0x4d75b1(0x7dc)]),this[_0x4d75b1(0x1dc)]=Po(_0x3c6bc6);}set[a0_0x2f588e(0x529)](_0x35cbb9){const _0x3d8244=a0_0x2f588e;this[_0x3d8244(0x763)]=_0x35cbb9;}async[a0_0x2f588e(0x567)](){const _0x42929b=a0_0x2f588e;try{return await this['client'][_0x42929b(0x613)]([_0x42929b(0x37a),this[_0x42929b(0x542)][_0x42929b(0x7ce)]+':*']);}catch(_0x228b2e){this[_0x42929b(0x8de)][_0x42929b(0x20e)](_0x228b2e);}}async['writeData'](_0x5744b4,_0x1a1b8d){const _0x5585ff=a0_0x2f588e;try{let _0x253528=JSON[_0x5585ff(0x8f1)](_0x1a1b8d,Ft['BufferJSON'][_0x5585ff(0x7e4)]);return await this['client']['hSet'](this[_0x5585ff(0x542)][_0x5585ff(0x7ce)]+':'+this[_0x5585ff(0x763)],_0x5744b4,_0x253528);}catch(_0x4e7683){this[_0x5585ff(0x8de)][_0x5585ff(0x20e)](_0x4e7683);}}async['getAllData'](){const _0x1182dc=a0_0x2f588e;try{let _0x4ee0da=await this[_0x1182dc(0x1dc)][_0x1182dc(0x3cf)](this[_0x1182dc(0x542)][_0x1182dc(0x7ce)]+':'+this['instanceName']);if(_0x4ee0da){for(let _0x1fa47a in _0x4ee0da)Object[_0x1182dc(0x8e8)][_0x1182dc(0x317)][_0x1182dc(0x4d8)](_0x4ee0da,_0x1fa47a)&&(_0x4ee0da[_0x1fa47a]=JSON[_0x1182dc(0x2a3)](_0x4ee0da[_0x1fa47a],Ft[_0x1182dc(0x70b)]['reviver']));return _0x4ee0da;}}catch(_0x5f5997){this[_0x1182dc(0x8de)]['error'](_0x5f5997);}}async[a0_0x2f588e(0x873)](_0x6fc51c){const _0x5dbdf8=a0_0x2f588e;try{let _0x4ca849=await this[_0x5dbdf8(0x1dc)][_0x5dbdf8(0x266)](this[_0x5dbdf8(0x542)]['PREFIX_KEY']+':'+this['instanceName'],_0x6fc51c);if(_0x4ca849)return JSON[_0x5dbdf8(0x2a3)](_0x4ca849,Ft[_0x5dbdf8(0x70b)][_0x5dbdf8(0x670)]);}catch(_0x2373ee){this[_0x5dbdf8(0x8de)]['error'](_0x2373ee);}}async[a0_0x2f588e(0x2a9)](_0x5c8bff){const _0x272b0e=a0_0x2f588e;try{return await this[_0x272b0e(0x1dc)]['hDel'](this[_0x272b0e(0x542)][_0x272b0e(0x7ce)]+':'+this[_0x272b0e(0x763)],_0x5c8bff);}catch(_0x3218c1){this['logger']['error'](_0x3218c1);}}async[a0_0x2f588e(0x463)](_0x2a5b0b){const _0x303425=a0_0x2f588e;try{return await this['client'][_0x303425(0x570)](_0x2a5b0b||this[_0x303425(0x542)][_0x303425(0x7ce)]+':'+this[_0x303425(0x763)]);}catch(_0x5eb428){this[_0x303425(0x8de)][_0x303425(0x20e)](_0x5eb428);}}};async function Os(_0x3b4769,_0x566577){const _0x335a2f=a0_0x2f588e;let _0x2fbe31=new $(Os[_0x335a2f(0x7dc)]),_0x1139ce=new me(_0x3b4769,_0x566577),_0x106c70=async(_0x207148,_0x39a924)=>{const _0x3827f3=_0x335a2f;try{return await _0x1139ce[_0x3827f3(0x8c5)](_0x39a924,_0x207148);}catch(_0x12d12c){return _0x2fbe31[_0x3827f3(0x20e)]({'localError':'writeData','error':_0x12d12c});}},_0x20d7a1=async _0x477b83=>{const _0x56f8b2=_0x335a2f;try{return await _0x1139ce[_0x56f8b2(0x873)](_0x477b83);}catch(_0x9c5990){_0x2fbe31[_0x56f8b2(0x20e)]({'readData':_0x56f8b2(0x8c5),'error':_0x9c5990});return;}},_0x3b53f9=async _0x4c3184=>{const _0x481dd8=_0x335a2f;try{return await _0x1139ce['removeData'](_0x4c3184);}catch(_0x3c86b2){_0x2fbe31[_0x481dd8(0x20e)]({'readData':'removeData','error':_0x3c86b2});}},_0x580004=await _0x20d7a1(_0x335a2f(0x1d0))||(0x0,Ut['initAuthCreds'])();return{'state':{'creds':_0x580004,'keys':{'get':async(_0x224eb3,_0x401ccd)=>{const _0x44f2a5=_0x335a2f;let _0x42de7c={};return await Promise['all'](_0x401ccd[_0x44f2a5(0x475)](async _0x2e2e07=>{const _0x4c753e=_0x44f2a5;let _0x1b85a6=await _0x20d7a1(_0x224eb3+'-'+_0x2e2e07);_0x224eb3===_0x4c753e(0x65b)&&_0x1b85a6&&(_0x1b85a6=Ut[_0x4c753e(0x88e)][_0x4c753e(0x32c)][_0x4c753e(0x2e0)][_0x4c753e(0x26f)](_0x1b85a6)),_0x42de7c[_0x2e2e07]=_0x1b85a6;})),_0x42de7c;},'set':async _0x45023f=>{const _0x4b17e5=_0x335a2f;let _0x54ebde=[];for(let _0x306d69 in _0x45023f)for(let _0x2244dd in _0x45023f[_0x306d69]){let _0x1f9683=_0x45023f[_0x306d69][_0x2244dd],_0x1b3f1b=_0x306d69+'-'+_0x2244dd;_0x54ebde[_0x4b17e5(0x651)](_0x1f9683?await _0x106c70(_0x1f9683,_0x1b3f1b):await _0x3b53f9(_0x1b3f1b));}await Promise[_0x4b17e5(0x57c)](_0x54ebde);}}},'saveCreds':async()=>await _0x106c70(_0x580004,'creds')};}var U=A(require('fs')),X=require(a0_0x2f588e(0x312)),qt=A(require(a0_0x2f588e(0x3ef))),Vt=require(a0_0x2f588e(0x794)),$i=require(a0_0x2f588e(0x637)),Ri=require(a0_0x2f588e(0x874)),Ii=A(require(a0_0x2f588e(0x4d6))),$e=class extends x{constructor(_0x36a5f2,_0x5249e2,_0x522279){const _0x5ab092=a0_0x2f588e;super(_0x5249e2),this['cacheInstanceModel']=_0x36a5f2,this['configService']=_0x5249e2,this[_0x5ab092(0x47a)]=_0x522279;}async[a0_0x2f588e(0x65e)](_0x474a6f,_0x14418f){const _0x107021=a0_0x2f588e;try{if(this[_0x107021(0x1f7)]['ENABLED']){console[_0x107021(0x449)](_0x107021(0x745)+_0x14418f+_0x107021(0x29c),_0x474a6f);let _0x994ddc=await this[_0x107021(0x294)][_0x107021(0x378)]({'_id':_0x14418f},{'$set':_0x474a6f},{'new':!0x0,'upsert':!0x0});return console[_0x107021(0x449)]('Database\x20update\x20result:',_0x994ddc),_0x994ddc;}}catch(_0x154e0){throw console[_0x107021(0x20e)](_0x107021(0x522),_0x154e0),_0x154e0;}return null;}async[a0_0x2f588e(0x5d9)](_0x2b9bdc){const _0x402860=a0_0x2f588e;try{let _0x585289=T(_0x2b9bdc[_0x402860(0x2d6)]);return{'deletedCount':(await this[_0x402860(0x294)][_0x402860(0x5d9)](_0x585289))[_0x402860(0x85d)]};}catch(_0x45301a){return{'error':_0x45301a?.[_0x402860(0x52b)]()};}}async['findOne'](_0x13771a){const _0x2b08f0=a0_0x2f588e;try{let _0xd486fe=T(_0x13771a[_0x2b08f0(0x2d6)]);return await this[_0x2b08f0(0x294)][_0x2b08f0(0x876)](_0xd486fe)[_0x2b08f0(0x221)]();}catch{return null;}}},jt=(0x0,Ri[a0_0x2f588e(0x585)])($i[a0_0x2f588e(0x6c4)]),ko=S[a0_0x2f588e(0x375)](a0_0x2f588e(0x326)),xs=class{constructor(){const _0x540f4b=a0_0x2f588e;this['cacheInstanceRepository']=new $e(He,S),(!this[_0x540f4b(0x56e)]||!this['networkInterface'])&&ko&&this['detectIPv6PrefixAndInterface']()[_0x540f4b(0x70d)](()=>{const _0x206bf9=_0x540f4b;console[_0x206bf9(0x449)](_0x206bf9(0x746)+this['ipv6Prefix']),console[_0x206bf9(0x449)](_0x206bf9(0x2a1)+this[_0x206bf9(0x338)]);})[_0x540f4b(0x708)](_0x14f6a7=>{const _0x3b7879=_0x540f4b;console[_0x3b7879(0x20e)](_0x3b7879(0x493)+_0x14f6a7[_0x3b7879(0x68b)]);});}async['detectIPv6PrefixAndInterface'](){const _0x397954=a0_0x2f588e;try{let {stdout:_0x4a8569}=await jt(_0x397954(0x7a5));console[_0x397954(0x449)](_0x397954(0x8f8)+_0x4a8569);let _0xcd91e9=_0x4a8569[_0x397954(0x50b)]('\x0a')[_0x397954(0x475)](_0x52f71f=>_0x52f71f['split']('\x20')[0x0])[_0x397954(0x568)](_0xdf84f8=>!_0xdf84f8[_0x397954(0x3e8)]('lo')&&!_0xdf84f8[_0x397954(0x3e8)](_0x397954(0x806))&&!_0xdf84f8[_0x397954(0x3e8)](_0x397954(0x81f))&&!_0xdf84f8['includes']('wl')&&!_0xdf84f8['includes']('@'));if(console[_0x397954(0x449)]('Filtered\x20network\x20interfaces:\x20'+_0xcd91e9),_0xcd91e9[_0x397954(0x8b9)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x397954(0x338)]=_0xcd91e9[0x0];let {stdout:_0x54135b}=await jt(_0x397954(0x5fd)+this[_0x397954(0x338)]);console[_0x397954(0x449)](_0x397954(0x8cb)+_0x54135b);let _0x357c08=_0x54135b[_0x397954(0x50b)]('\x0a')['find'](_0x527538=>_0x527538['includes'](_0x397954(0x895))&&_0x527538[_0x397954(0x3e8)]('global'));if(!_0x357c08)throw new Error(_0x397954(0x7ec));let _0x5c0a21=_0x357c08['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x5c0a21)throw new Error(_0x397954(0x91c));let [_0x5fb163,_0x9beca4,_0x8aa391]=_0x5c0a21,_0x5ed3d8=Math['floor'](Number(_0x8aa391)/0x10),_0x11412a=Number(_0x8aa391)%0x10,_0x2a4c40=_0x9beca4['split'](':')['slice'](0x0,_0x5ed3d8)[_0x397954(0x88b)](':');if(_0x11412a>0x0){let _0x1a3c47=_0x9beca4[_0x397954(0x50b)](':')[_0x5ed3d8],_0x441ee5=0xffff<<0x10-_0x11412a&0xffff,_0x5767e7=(parseInt(_0x1a3c47,0x10)&_0x441ee5)[_0x397954(0x52b)](0x10)[_0x397954(0x44e)](0x4,'0');_0x2a4c40+=':'+_0x5767e7;}this[_0x397954(0x56e)]=_0x2a4c40+':';}catch(_0x310d79){console['error'](_0x397954(0x4c8),_0x310d79);}}async[a0_0x2f588e(0x826)](_0x1bb69c){const _0x16e12f=a0_0x2f588e;let _0xe26658=_0x16e12f(0x7cd)+_0x1bb69c+_0x16e12f(0x592)+this[_0x16e12f(0x338)];try{await jt(_0xe26658),console['log'](_0x16e12f(0x360)+_0x1bb69c);}catch(_0x126040){console[_0x16e12f(0x20e)](_0x16e12f(0x8c3)+_0x126040);}}async['removeIPv6'](_0x82a9fa){const _0xe6c71e=a0_0x2f588e;let _0x44df04='ip\x20-6\x20addr\x20del\x20'+_0x82a9fa+_0xe6c71e(0x592)+this[_0xe6c71e(0x338)];try{await jt(_0x44df04),console[_0xe6c71e(0x449)]('IPv6\x20address\x20removed:\x20'+_0x82a9fa);}catch(_0x492a9e){console[_0xe6c71e(0x20e)](_0xe6c71e(0x87f)+_0x492a9e);}}[a0_0x2f588e(0x4ca)](){const _0x23a478=a0_0x2f588e;return _0x23a478(0x848)['replace'](/X/g,()=>_0x23a478(0x258)[_0x23a478(0x69d)](Math[_0x23a478(0x2cc)](Math[_0x23a478(0x455)]()*0x10)));}[a0_0x2f588e(0x3bf)](_0x533572,_0x48850b){const _0x258df2=a0_0x2f588e;let _0x5022d3=_0x48850b[_0x258df2(0x50b)](':');return _0x5022d3[0x0]=(parseInt(_0x5022d3[0x0],0x10)^0x2)[_0x258df2(0x52b)](0x10)['padStart'](0x2,'0'),''+_0x533572+_0x5022d3[0x0]+_0x5022d3[0x1]+':'+_0x5022d3[0x2]+'ff:fe'+_0x5022d3[0x3]+':'+_0x5022d3[0x4]+_0x5022d3[0x5];}[a0_0x2f588e(0x454)](){const _0x3ba6bb=a0_0x2f588e;let _0x4ab946=this['ipv6Prefix'];_0x4ab946[_0x3ba6bb(0x8f6)](':')||(_0x4ab946+=':');let _0x3987bb=this[_0x3ba6bb(0x4ca)]();return this[_0x3ba6bb(0x3bf)](_0x4ab946,_0x3987bb);}[a0_0x2f588e(0x646)](_0x45dbeb){const _0x2fdd09=a0_0x2f588e;return new RegExp(_0x2fdd09(0x32d))['test'](_0x45dbeb);}async[a0_0x2f588e(0x281)](_0x1bb5a4){const _0x3ebe21=a0_0x2f588e;let _0x13f514=[{'url':'https://ipv6.jsonip.com','parse':_0x110726=>_0x110726['ip']},{'url':_0x3ebe21(0x77e),'parse':_0x5b5d42=>_0x5b5d42['ip']},{'url':_0x3ebe21(0x220),'parse':_0x55fc72=>_0x55fc72[_0x3ebe21(0x565)]()},{'url':_0x3ebe21(0x906),'parse':_0x27468e=>_0x27468e[_0x3ebe21(0x565)]()}],_0x2efb2a=_0x13f514[Math[_0x3ebe21(0x2cc)](Math['random']()*_0x13f514[_0x3ebe21(0x8b9)])];try{let _0x424336=await Ii['default'][_0x3ebe21(0x375)](_0x2efb2a[_0x3ebe21(0x664)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x1bb5a4}}),_0x28382e=_0x2efb2a[_0x3ebe21(0x2a3)](_0x424336[_0x3ebe21(0x28c)]);return _0x28382e[_0x3ebe21(0x605)]()===_0x1bb5a4[_0x3ebe21(0x605)]()?(console['log'](_0x3ebe21(0x367)+_0x1bb5a4),!0x0):(console[_0x3ebe21(0x20e)]('IP\x20mismatch:\x20configured\x20'+_0x1bb5a4+_0x3ebe21(0x5c8)+_0x28382e),!0x1);}catch(_0x11ea71){return console[_0x3ebe21(0x20e)](_0x3ebe21(0x91e)+_0x2efb2a[_0x3ebe21(0x664)]+':\x20'+_0x11ea71['message']),!0x1;}}async[a0_0x2f588e(0x252)](_0x588c83,_0x471c15){const _0x22ce43=a0_0x2f588e;if(!this['ipv6Prefix']||!this[_0x22ce43(0x338)])return console[_0x22ce43(0x20e)](_0x22ce43(0x53f)),null;let _0x26fca7;do _0x26fca7=this[_0x22ce43(0x454)](),console['log'](_0x22ce43(0x32b)+_0x26fca7);while(!await this['isValidAndUniqueIPv6'](_0x26fca7));await this[_0x22ce43(0x826)](_0x26fca7),console[_0x22ce43(0x449)](_0x22ce43(0x412)+_0x26fca7);let _0x39073c={'_id':_0x588c83+'-'+_0x471c15,'ip':_0x26fca7},_0x3ba04f=await this[_0x22ce43(0x3c0)]['createOrUpdate'](_0x39073c,_0x39073c['_id']);return console['log'](_0x22ce43(0x62b)+_0x3ba04f),_0x26fca7;}async[a0_0x2f588e(0x3ee)](_0x5eb80c){const _0x4064d8=a0_0x2f588e;return this[_0x4064d8(0x646)](_0x5eb80c)?!await this[_0x4064d8(0x3c0)]['findOne']({'where':{'ip':_0x5eb80c}}):!0x1;}async[a0_0x2f588e(0x259)](_0xdb1f05,_0x3bc02b){const _0x22ecab=a0_0x2f588e;let _0x36cae4=_0xdb1f05+'-'+_0x3bc02b,_0x396108=await this['cacheInstanceRepository'][_0x22ecab(0x876)]({'where':{'_id':_0x36cae4}});_0x396108&&_0x396108['ip']&&(await this[_0x22ecab(0x7b8)](_0x396108['ip']),await this['cacheInstanceRepository']['deleteOne']({'where':{'_id':_0x36cae4}}));}},Lo=new xs(),re=Lo,Fs='Safari',ki,fe=null,Da=null,Fo=0x3,Uo=null,Ai=S[a0_0x2f588e(0x375)](a0_0x2f588e(0x5da))[a0_0x2f588e(0x8fb)][a0_0x2f588e(0x49d)],Ti=S[a0_0x2f588e(0x375)](a0_0x2f588e(0x326));async function jo(){const _0x46e8d5=a0_0x2f588e;let _0x2e6723=await Ne[_0x46e8d5(0x876)]();fe=_0x2e6723?.['WebhookGlobal']??null,Uo=_0x2e6723?.['DaysToDelete']??null,Fs=_0x2e6723?.[_0x46e8d5(0x737)]??_0x46e8d5(0x844),ki=_0x2e6723?.[_0x46e8d5(0x841)]??Q??_0x46e8d5(0x54e);}async function Jo(){await jo();}Jo();var _i={},ue={},Re=class u{constructor(_0x423534,_0x54e743,_0x2561df){const _0x318420=a0_0x2f588e;this[_0x318420(0x521)]=_0x423534,this[_0x318420(0x314)]=_0x54e743,this[_0x318420(0x230)]=_0x2561df,this[_0x318420(0x7e2)]=null,this[_0x318420(0x8de)]=new $(u['name']),this[_0x318420(0x665)]={},this[_0x318420(0x6f4)]={},this[_0x318420(0x681)]={'state':_0x318420(0x70a)},this[_0x318420(0x4a4)]=(0x0,J[_0x318420(0x88b)])(de,'downloads'),this['msgRetryCounterCache']=new Ls['default'](),this[_0x318420(0x918)]=new Ls[(_0x318420(0x6d0))](),this['endSession']=!0x1,this[_0x318420(0x446)]={'status.instance':'/wa-connection-update','connection.update':_0x318420(0x82e),'qrcode.updated':_0x318420(0x8b8),'messages.upsert':_0x318420(0x769),'send.message':_0x318420(0x769),'messages.update':_0x318420(0x382),'group.upsert':_0x318420(0x601),'group.update':_0x318420(0x601),'group-participants.update':'/wa-groups','messages.set':_0x318420(0x24d),'contacts.set':'/wa-contacts','contacts.upsert':_0x318420(0x6f5),'contacts.update':_0x318420(0x6f5),'presence.update':_0x318420(0x41b),'chats.set':_0x318420(0x66d),'chats.update':_0x318420(0x66d),'chats.upsert':_0x318420(0x66d),'chats.delete':'/wa-chats'},this[_0x318420(0x52f)]=0x0,this[_0x318420(0x7da)]=[],this[_0x318420(0x8cc)]=0xea60,this[_0x318420(0x8b2)]=!0x1,this[_0x318420(0x242)]={'chats.upsert':async(_0x57214a,_0x4d405b)=>{const _0x10e3c2=_0x318420;let _0xed7a02=[];for await(let _0x1804fb of _0x57214a)_0xed7a02[_0x10e3c2(0x651)]({'_id':_0x1804fb['id'],'owner':this['instance']['wuid'],'group':_0x1804fb['id']['endsWith'](_0x10e3c2(0x532)),'name':_0x1804fb[_0x10e3c2(0x7dc)]||_0x1804fb[_0x10e3c2(0x502)]||null,'contactname':null,'lastmsg':_0x1804fb[_0x10e3c2(0x823)]&&_0x1804fb['conversationTimestamp']['toString']()[_0x10e3c2(0x8b9)]<0xd?_0x1804fb['conversationTimestamp']*0x3e8:_0x1804fb['conversationTimestamp']||null,'archived':_0x1804fb['archived']||!0x1,'unreadcount':_0x1804fb[_0x10e3c2(0x721)]||0x0,'ephemeralExpiration':_0x1804fb['ephemeralExpiration']||0x0});this[_0x10e3c2(0x1d7)]('chats.upsert',_0xed7a02);},'chats.update':async(_0x231ccf,_0x538b36)=>{const _0x294bce=_0x318420;for(let _0x2a1e01 of _0x231ccf){let _0x4970c2={'_id':_0x2a1e01['id'],'owner':this['instance']['wuid'],'archived':_0x2a1e01[_0x294bce(0x5e1)],'muteEndTime':_0x2a1e01['muteEndTime'],'ephemeralExpiration':_0x2a1e01[_0x294bce(0x5bf)]},_0x5c057e=!0x1,_0x25fc33={};_0x4970c2[_0x294bce(0x5e1)]!=null&&(this[_0x294bce(0x8de)][_0x294bce(0x5ef)](this['instanceName']+'\x20('+this[_0x294bce(0x665)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x2a1e01['id']+_0x294bce(0x682)+_0x2a1e01[_0x294bce(0x5e1)]),_0x5c057e=!0x0,_0x25fc33['archived']=_0x2a1e01[_0x294bce(0x5e1)]),'muteEndTime'in _0x2a1e01&&(this[_0x294bce(0x8de)][_0x294bce(0x5ef)](this[_0x294bce(0x763)]+'\x20('+this[_0x294bce(0x665)]['wuid']+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x2a1e01['id']+_0x294bce(0x682)+(_0x2a1e01[_0x294bce(0x6e4)]??'0')),_0x5c057e=!0x0,_0x25fc33[_0x294bce(0x6e4)]=_0x2a1e01[_0x294bce(0x6e4)]??0x0),_0x294bce(0x5bf)in _0x2a1e01&&(this[_0x294bce(0x8de)][_0x294bce(0x5ef)](this[_0x294bce(0x763)]+'\x20('+this[_0x294bce(0x665)][_0x294bce(0x21d)]+_0x294bce(0x7dd)+_0x2a1e01['id']+_0x294bce(0x682)+(_0x2a1e01[_0x294bce(0x5bf)]!==void 0x0?_0x2a1e01[_0x294bce(0x5bf)]:_0x294bce(0x5e5))),_0x25fc33[_0x294bce(0x5bf)]=_0x2a1e01[_0x294bce(0x5bf)]===null?0x0:_0x2a1e01[_0x294bce(0x5bf)],_0x5c057e=!0x0);let _0x2942e5;_0x5c057e&&(_0x2942e5=await this[_0x294bce(0x230)]['chat'][_0x294bce(0x805)]({'where':{'_id':_0x2a1e01['id']}},_0x25fc33,this[_0x294bce(0x665)][_0x294bce(0x21d)])),_0x2942e5&&q(this[_0x294bce(0x763)],_0x294bce(0x77d),{'chat':_0x2942e5});}},'chats.delete':async _0x427df4=>{const _0x130c7a=_0x318420;for(let _0x4fe48e of _0x427df4)if(_0x4fe48e[_0x130c7a(0x8f6)](_0x130c7a(0x532))){await this['repository'][_0x130c7a(0x40f)][_0x130c7a(0x787)]({'where':{'_id':_0x4fe48e}},this[_0x130c7a(0x665)]['wuid']);let _0x20ffcb={'where':{'key':{'remoteJid':_0x4fe48e}}};await this[_0x130c7a(0x230)][_0x130c7a(0x68b)][_0x130c7a(0x787)](_0x20ffcb,this[_0x130c7a(0x665)][_0x130c7a(0x21d)]);}else{await this[_0x130c7a(0x230)][_0x130c7a(0x40f)]['updateOne']({'where':{'_id':_0x4fe48e}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x130c7a(0x665)][_0x130c7a(0x21d)]);let _0x14180c={'where':{'key':{'remoteJid':_0x4fe48e}}};await this[_0x130c7a(0x230)][_0x130c7a(0x68b)]['delete'](_0x14180c,this[_0x130c7a(0x665)][_0x130c7a(0x21d)]);}this['sendDataWebhook'](_0x130c7a(0x713),[..._0x427df4]);}},this[_0x318420(0x6bd)]={'contacts.upsert':async(_0x3bee82,_0xe0844e)=>{const _0x984df7=_0x318420;let _0x21f1a2=await this['repository']['contact']['find']({'where':{}},this[_0x984df7(0x665)][_0x984df7(0x21d)]),_0x22fd60=[];for await(let _0xfe1c52 of _0x3bee82)_0x21f1a2[_0x984df7(0x3b1)](_0x1903bc=>_0x1903bc[_0x984df7(0x461)]===_0xfe1c52['id'])||_0x22fd60[_0x984df7(0x651)]({'_id':_0xfe1c52['id'],'pushName':_0xfe1c52?.[_0x984df7(0x7dc)]||_0xfe1c52?.[_0x984df7(0x52a)],'owner':this[_0x984df7(0x665)][_0x984df7(0x21d)]});this[_0x984df7(0x1d7)](_0x984df7(0x2f9),_0x22fd60),await this[_0x984df7(0x230)]['contact'][_0x984df7(0x465)](_0x22fd60);},'contacts.update':async(_0xd96cdc,_0x5b81c2)=>{const _0x5e3c31=_0x318420;let _0x13d083=[];for await(let _0x532200 of _0xd96cdc)_0x13d083[_0x5e3c31(0x651)]({'_id':_0x532200['id'],'pushName':_0x532200?.[_0x5e3c31(0x7dc)]??_0x532200?.['verifiedName'],'owner':this[_0x5e3c31(0x665)][_0x5e3c31(0x21d)]});this[_0x5e3c31(0x1d7)](_0x5e3c31(0x4d1),_0x13d083);}},this['messageHandle']={'messaging-history.set':async({messages:_0x2f216a,chats:_0x3f7394,isLatest:_0x2a47a5},_0x413034)=>{const _0x5978a9=_0x318420;if(_0x2a47a5){let _0x382c54=await Promise[_0x5978a9(0x57c)](_0x3f7394[_0x5978a9(0x475)](async _0x238264=>({'_id':_0x238264['id'],'owner':this['instance'][_0x5978a9(0x21d)],'group':_0x238264['id'][_0x5978a9(0x8f6)]('@g.us'),'name':_0x238264['name']||_0x238264[_0x5978a9(0x502)]||_0x238264['username']||null,'contactname':null,'lastmsg':_0x238264[_0x5978a9(0x823)]&&_0x238264[_0x5978a9(0x823)]['toString']()['length']<0xd?_0x238264[_0x5978a9(0x823)]*0x3e8:_0x238264['conversationTimestamp']||null,'archived':_0x238264['archived']||!0x1,'unreadcount':_0x238264[_0x5978a9(0x721)]||0x0,'ephemeralExpiration':_0x238264['ephemeralExpiration']||0x0,'muteEndTime':_0x238264['muteEndTime']||0x0})));this['sendDataWebhook'](_0x5978a9(0x43c),_0x382c54),await this[_0x5978a9(0x5e0)](_0x382c54,_0x413034);}let _0x2df77d=[],_0x4efd99=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x33b494]of Object[_0x5978a9(0x5c5)](_0x2f216a)){if(_0x33b494['message']?.['protocolMessage']||_0x33b494[_0x5978a9(0x68b)]?.[_0x5978a9(0x5eb)]||!_0x33b494[_0x5978a9(0x68b)]||_0x33b494[_0x5978a9(0x920)]['remoteJid']===_0x5978a9(0x45e)||(ks[_0x5978a9(0x6d0)][_0x5978a9(0x1e2)](_0x33b494?.[_0x5978a9(0x4e3)])&&(_0x33b494[_0x5978a9(0x4e3)]=_0x33b494[_0x5978a9(0x4e3)]?.[_0x5978a9(0x620)]()),_0x33b494[_0x5978a9(0x4e3)]&&_0x33b494[_0x5978a9(0x4e3)][_0x5978a9(0x52b)]()[_0x5978a9(0x8b9)]<0xd&&(_0x33b494[_0x5978a9(0x4e3)]=_0x33b494[_0x5978a9(0x4e3)]*0x3e8),_0x33b494['messageTimestamp']<_0x4efd99))continue;let _0x5b9884=(0x0,w[_0x5978a9(0x2d8)])(_0x33b494['message']),_0x47c2b8=(0x0,w['getContentType'])(_0x5b9884),{message_normalized:_0x494751}=this['normalizeMessage'](_0x5b9884,_0x47c2b8,null);Object['keys'](_0x494751)[_0x5978a9(0x8b9)]>0x0&&_0x2df77d['push']({'_id':_0x33b494[_0x5978a9(0x920)]['id'],'key':_0x33b494[_0x5978a9(0x920)],'pushName':_0x33b494['pushName'],'participant':_0x33b494[_0x5978a9(0x45f)],'message':_0x5b9884,'messageType':_0x47c2b8,'message_normalized':{'key':_0x33b494[_0x5978a9(0x920)],'pushName':_0x33b494[_0x5978a9(0x913)],'messageTimestamp':_0x33b494[_0x5978a9(0x4e3)],..._0x494751},'messageTimestamp':_0x33b494['messageTimestamp'],'owner':this[_0x5978a9(0x665)][_0x5978a9(0x21d)]});}_0x413034['ENABLED']&&_0x2df77d[_0x5978a9(0x8b9)]>0x0&&(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x2df77d[_0x5978a9(0x8b9)]+_0x5978a9(0x66b)+this[_0x5978a9(0x665)][_0x5978a9(0x21d)]+_0x5978a9(0x850)),await this['repository'][_0x5978a9(0x68b)]['insert']([..._0x2df77d],this[_0x5978a9(0x665)][_0x5978a9(0x21d)])),this[_0x5978a9(0x1d7)](_0x5978a9(0x683),[..._0x2df77d]),_0x2f216a=void 0x0;},'messages.upsert':async({messages:_0x33af96,type:_0x31e45a},_0x1e1dbb)=>{const _0x21af56=_0x318420;for(let _0x1bfeae of _0x33af96){if(this[_0x21af56(0x6f4)]?.['groups_ignore']&&_0x1bfeae[_0x21af56(0x920)][_0x21af56(0x46d)][_0x21af56(0x3e8)]('@g.us')){this[_0x21af56(0x8de)][_0x21af56(0x5ef)](this[_0x21af56(0x763)]+'\x20('+this[_0x21af56(0x665)][_0x21af56(0x21d)]+_0x21af56(0x47f));return;}let _0x432380=_0x1bfeae['key']['id'],_0x23a72a=_0x1bfeae[_0x21af56(0x3c4)]===0x2,_0x1ba24d=0xb;if(_0x23a72a){if(ue[_0x432380]||(ue[_0x432380]=0x0),ue[_0x432380]++,this[_0x21af56(0x8de)][_0x21af56(0x20e)](this[_0x21af56(0x763)]+'\x20('+this[_0x21af56(0x665)]['wuid']+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x1bfeae[_0x21af56(0x920)][_0x21af56(0x46d)]+'\x20e\x20ID='+_0x432380+':\x20'+ue[_0x432380]+'/'+_0x1ba24d),ue[_0x432380]>=_0x1ba24d){this['logger'][_0x21af56(0x20e)](this[_0x21af56(0x763)]+'\x20('+this['instance'][_0x21af56(0x21d)]+_0x21af56(0x44a)+_0x1bfeae[_0x21af56(0x920)]['remoteJid']+_0x21af56(0x8a0)+_0x432380+'.');let _0x2d1901={'key':{..._0x1bfeae[_0x21af56(0x920)]},'message':{'conversation':_0x21af56(0x2f1)+_0x432380+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this[_0x21af56(0x1dc)]['ev'][_0x21af56(0x2d2)](_0x21af56(0x76f),{'messages':[_0x2d1901],'type':_0x21af56(0x68e)}),delete ue[_0x432380];}}else ue[_0x432380]&&(this[_0x21af56(0x8de)][_0x21af56(0x2ae)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+ue[_0x432380]+_0x21af56(0x4ab)+_0x1bfeae[_0x21af56(0x920)][_0x21af56(0x46d)]+_0x21af56(0x8a0)+_0x432380),delete ue[_0x432380]);if(_0x31e45a!==_0x21af56(0x68e)||!_0x1bfeae?.[_0x21af56(0x68b)]||_0x1bfeae[_0x21af56(0x68b)]?.[_0x21af56(0x622)]||_0x1bfeae[_0x21af56(0x68b)]['senderKeyDistributionMessage']||_0x1bfeae['key'][_0x21af56(0x46d)]==='status@broadcast')return;let _0x487a87=null,_0x5182ba=null;try{_0x487a87=await this[_0x21af56(0x2b6)](_0x1bfeae),_0x5182ba=_0x487a87?_0x487a87[_0x21af56(0x88b)](','):null;}catch(_0x2b86fb){this[_0x21af56(0x8de)]['verbose'](this[_0x21af56(0x763)]+'\x20('+this[_0x21af56(0x665)]['wuid']+_0x21af56(0x52e)+(_0x2b86fb instanceof Error?_0x2b86fb['message']:JSON[_0x21af56(0x8f1)](_0x2b86fb,null,0x2))),_0x5182ba=_0x21af56(0x29e);}this[_0x21af56(0x1dc)][_0x21af56(0x4cc)](_0x21af56(0x73c)),ks[_0x21af56(0x6d0)]['isLong'](_0x1bfeae[_0x21af56(0x4e3)])&&(_0x1bfeae['messageTimestamp']=_0x1bfeae[_0x21af56(0x4e3)]?.['toNumber']()),_0x1bfeae[_0x21af56(0x4e3)]&&_0x1bfeae[_0x21af56(0x4e3)][_0x21af56(0x52b)]()['length']<0xd&&(_0x1bfeae['messageTimestamp']=_0x1bfeae[_0x21af56(0x4e3)]*0x3e8);let _0x5af2f2=_0x1bfeae[_0x21af56(0x68b)],_0x2a5713=(0x0,w[_0x21af56(0x2d8)])(_0x5af2f2),_0x5475e2=(0x0,w[_0x21af56(0x5a7)])(_0x2a5713),{messageContent:_0x3e3ecb,message_normalized:_0x4b9c51}=this[_0x21af56(0x64b)](_0x2a5713,_0x5475e2,_0x5182ba);_0x5475e2===_0x21af56(0x622)&&_0x3e3ecb?.[_0x21af56(0x83f)]&&(_0x5475e2=_0x21af56(0x83f));let _0xd86fed,_0x14abd4=_0x1bfeae['key']['remoteJid'][_0x21af56(0x8f6)]('@g.us');if(_0x1bfeae[_0x21af56(0x920)][_0x21af56(0x741)])_0xd86fed=this[_0x21af56(0x665)][_0x21af56(0x38b)];else{let _0xdb4f5b=_0x14abd4?_0x1bfeae['key'][_0x21af56(0x45f)]:_0x1bfeae[_0x21af56(0x920)][_0x21af56(0x46d)];_0xd86fed=(await this[_0x21af56(0x7b0)](_0xdb4f5b,_0x1bfeae[_0x21af56(0x913)],!0x1))[_0x21af56(0x6e6)][_0x21af56(0x26e)];}let _0x6dc8f0={'_id':_0x1bfeae['key']['id'],'key':_0x1bfeae[_0x21af56(0x920)],'isGroup':_0x14abd4,'profilePictureUrl':_0xd86fed,'pushName':_0x1bfeae['pushName'],'message':_0x2a5713,'messageType':_0x5475e2,'message_normalized':{'key':_0x1bfeae[_0x21af56(0x920)],'pushName':_0x1bfeae[_0x21af56(0x913)],'messageTimestamp':_0x1bfeae[_0x21af56(0x4e3)],'source':(0x0,w[_0x21af56(0x5ea)])(_0x1bfeae[_0x21af56(0x920)]['id']),..._0x4b9c51},'messageTimestamp':_0x1bfeae[_0x21af56(0x4e3)],'owner':this['instance'][_0x21af56(0x21d)],'source':(0x0,w[_0x21af56(0x5ea)])(_0x1bfeae[_0x21af56(0x920)]['id']),'expiration':_0x3e3ecb?.['contextInfo']?.['expiration']||0x0};_0x3e3ecb||(this[_0x21af56(0x8de)][_0x21af56(0x20e)](_0x21af56(0x489)),this[_0x21af56(0x8de)][_0x21af56(0x20e)](_0x6dc8f0)),this[_0x21af56(0x8de)][_0x21af56(0x449)](this['instanceName']+'\x20('+this['instance'][_0x21af56(0x21d)]+'):\x20'+(_0x6dc8f0[_0x21af56(0x920)]?.[_0x21af56(0x741)]?_0x21af56(0x3af):_0x21af56(0x8f5))+'\x20['+_0x6dc8f0[_0x21af56(0x920)]?.[_0x21af56(0x46d)][_0x21af56(0x499)](_0x21af56(0x53c),'')+_0x21af56(0x540)+_0x6dc8f0[_0x21af56(0x27c)]+')'),_0x6dc8f0[_0x21af56(0x795)]?.[_0x21af56(0x244)]&&this[_0x21af56(0x8de)][_0x21af56(0x449)](_0x1bfeae[_0x21af56(0x920)]['id']+':\x20'+_0x6dc8f0[_0x21af56(0x795)]?.[_0x21af56(0x244)]),await this[_0x21af56(0x230)]['message'][_0x21af56(0x465)]([_0x6dc8f0],this[_0x21af56(0x665)][_0x21af56(0x21d)]),this[_0x21af56(0x1d7)](_0x21af56(0x76f),_0x6dc8f0),q(this[_0x21af56(0x763)],_0x21af56(0x2ba),{'message':_0x6dc8f0}),_0x1bfeae['key'][_0x21af56(0x46d)]!==_0x21af56(0x45e)&&await this[_0x21af56(0x5cb)](_0x1e1dbb,_0x6dc8f0,_0x21af56(0x7fa));}},'messages.update':async(_0x3b15fc,_0x6f7bb)=>{const _0x5966de=_0x318420;let _0x36f928={0x0:_0x5966de(0x8cf),0x1:_0x5966de(0x6b2),0x2:_0x5966de(0x329),0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x5966de(0x26a)};for await(let {key:_0x4b8a15,update:_0x250603}of _0x3b15fc){if(this[_0x5966de(0x6f4)]?.[_0x5966de(0x508)]&&_0x4b8a15[_0x5966de(0x46d)][_0x5966de(0x3e8)](_0x5966de(0x532))){this[_0x5966de(0x8de)][_0x5966de(0x5ef)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5966de(0x5a6));return;}if(_0x4b8a15[_0x5966de(0x46d)]!==_0x5966de(0x45e)){let _0x332428=Date[_0x5966de(0x71f)](),_0x41b014;_0x250603[_0x5966de(0x68b)]===null&&_0x250603['status']===void 0x0?_0x41b014=_0x5966de(0x83c):_0x41b014=_0x36f928[_0x250603[_0x5966de(0x3f3)]];let _0x2573c4=_0x4b8a15[_0x5966de(0x46d)][_0x5966de(0x499)](/:\d{1,2}@/g,'@'),_0x34d111={..._0x4b8a15,'remoteJid':_0x2573c4,'status':_0x41b014,'datetime':_0x332428,'owner':this[_0x5966de(0x665)][_0x5966de(0x21d)]};this['sendDataWebhook'](_0x5966de(0x1f4),_0x34d111),await this[_0x5966de(0x62c)](_0x4b8a15,_0x34d111);}}},'labels.association':async({type:_0x5ecf70,association:_0x3e221d})=>{const _0x3e34d4=_0x318420;if(_0x3e221d[_0x3e34d4(0x7ef)]===_0x3e34d4(0x5e8)){let _0x44e974,_0x2f6bff=0x0;for(;!_0x44e974&&_0x2f6bff<this['delayChatLabel_MAX_RETRIES'];)_0x44e974=await this[_0x3e34d4(0x230)]['chat'][_0x3e34d4(0x876)]({'where':{'_id':_0x3e221d[_0x3e34d4(0x869)]}},this[_0x3e34d4(0x665)]['wuid']),_0x44e974||(_0x2f6bff++,this[_0x3e34d4(0x8de)][_0x3e34d4(0x569)](this[_0x3e34d4(0x763)]+'\x20('+this[_0x3e34d4(0x665)][_0x3e34d4(0x21d)]+'):\x20Chat\x20'+_0x3e221d['chatId']+_0x3e34d4(0x4e9)+this[_0x3e34d4(0x3c7)]+_0x3e34d4(0x5b1)+_0x2f6bff+'/'+this[_0x3e34d4(0x917)]+')'),await this[_0x3e34d4(0x45c)](this[_0x3e34d4(0x3c7)]));if(!_0x44e974){this[_0x3e34d4(0x8de)][_0x3e34d4(0x20e)](_0x3e34d4(0x4e5)+_0x3e221d['chatId']+_0x3e34d4(0x7f8)+this[_0x3e34d4(0x917)]+'\x20tentativas.');return;}switch(_0x5ecf70){case _0x3e34d4(0x2fa):console[_0x3e34d4(0x449)](_0x3e221d),await this[_0x3e34d4(0x230)][_0x3e34d4(0x40f)][_0x3e34d4(0x805)]({'where':{'_id':_0x3e221d[_0x3e34d4(0x869)]}},{'leadInfo.etiquetas':_0x3e221d['labelId']},this['instance'][_0x3e34d4(0x21d)],void 0x0,_0x3e34d4(0x3fd));break;case _0x3e34d4(0x395):console[_0x3e34d4(0x449)](_0x3e221d),await this[_0x3e34d4(0x230)][_0x3e34d4(0x40f)][_0x3e34d4(0x805)]({'where':{'_id':_0x3e221d['chatId']}},{'leadInfo.etiquetas':_0x3e221d[_0x3e34d4(0x386)]},this[_0x3e34d4(0x665)]['wuid'],void 0x0,_0x3e34d4(0x487));break;default:this[_0x3e34d4(0x8de)]['error'](_0x3e34d4(0x5dd)+_0x5ecf70+']');}}},'labels.edit':async _0x3f74a3=>{const _0x22ae1a=_0x318420;if(!_0x3f74a3||!_0x3f74a3['id']){this[_0x22ae1a(0x8de)][_0x22ae1a(0x20e)](_0x22ae1a(0x254));return;}if(!_0x3f74a3[_0x22ae1a(0x438)]){let _0x317215=['#ff9484',_0x22ae1a(0x4b5),_0x22ae1a(0x6c6),'#dfaef0','#9ab6c1','#56ccb4',_0x22ae1a(0x773),_0x22ae1a(0x6c8),_0x22ae1a(0x51b),_0x22ae1a(0x6d2),_0x22ae1a(0x20f),_0x22ae1a(0x5c2),_0x22ae1a(0x49e),_0x22ae1a(0x62d),'#00a1f2',_0x22ae1a(0x6e9),_0x22ae1a(0x7b5),_0x22ae1a(0x877),_0x22ae1a(0x725),'#9568cf'],_0x8a01cd;typeof _0x3f74a3[_0x22ae1a(0x296)]==_0x22ae1a(0x720)&&_0x3f74a3[_0x22ae1a(0x296)]>=0x0&&_0x3f74a3[_0x22ae1a(0x296)]<_0x317215[_0x22ae1a(0x8b9)]?_0x8a01cd=_0x317215[_0x3f74a3[_0x22ae1a(0x296)]]:(this[_0x22ae1a(0x8de)][_0x22ae1a(0x20e)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x3f74a3[_0x22ae1a(0x296)]),_0x8a01cd=_0x22ae1a(0x5f9));let _0x2d6c29={'_id':_0x3f74a3['id'],'colorHex':_0x8a01cd,'color':_0x3f74a3?.['color'],'name':_0x3f74a3?.['name'],'owner':this['instance']['wuid']};await this['repository']['label'][_0x22ae1a(0x805)]({'where':{'_id':_0x3f74a3['id']}},_0x2d6c29,this['instance'][_0x22ae1a(0x21d)]),this[_0x22ae1a(0x8de)][_0x22ae1a(0x569)](this[_0x22ae1a(0x763)]+'\x20('+this['instance'][_0x22ae1a(0x21d)]+_0x22ae1a(0x2a2)+_0x3f74a3);}_0x3f74a3['deleted']&&(await this[_0x22ae1a(0x230)][_0x22ae1a(0x7b3)]['delete']({'where':{'_id':_0x3f74a3['id']}},this[_0x22ae1a(0x665)]['wuid']),this[_0x22ae1a(0x8de)]['info'](_0x22ae1a(0x377)+_0x3f74a3['id']));}},this[_0x318420(0x5f3)]={'groups.upsert':async _0x534b11=>{const _0x2585eb=_0x318420;this[_0x2585eb(0x6f4)]?.[_0x2585eb(0x508)]||this[_0x2585eb(0x1d7)](_0x2585eb(0x4c1),_0x534b11);for(let _0x5aa779 of _0x534b11)await this[_0x2585eb(0x702)](_0x5aa779);},'groups.update':async _0x197973=>{const _0xc77587=_0x318420;this[_0xc77587(0x6f4)]?.['groups_ignore']||this['sendDataWebhook'](_0xc77587(0x829),_0x197973);for(let _0x506d92 of _0x197973)await this[_0xc77587(0x702)](_0x506d92);},'group-participants.update':async _0x3d1c63=>{const _0x10f70f=_0x318420;this[_0x10f70f(0x6f4)]?.['groups_ignore']||this[_0x10f70f(0x1d7)](_0x10f70f(0x731),_0x3d1c63),await this[_0x10f70f(0x7d3)](_0x3d1c63);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x318420(0x3c7)]=0x1388,this['processPollUpdateMessage']=async _0x45bc40=>{const _0x408f1f=_0x318420;if(_0x45bc40[_0x408f1f(0x68b)]?.[_0x408f1f(0x8b0)]){let _0x376acf=await this['getMessage'](_0x45bc40[_0x408f1f(0x68b)][_0x408f1f(0x8b0)][_0x408f1f(0x280)],!0x0);if(_0x376acf){let _0x126101=_0x376acf[_0x408f1f(0x920)]['fromMe']?this[_0x408f1f(0x665)][_0x408f1f(0x21d)]+_0x408f1f(0x53c):_0x376acf[_0x408f1f(0x920)][_0x408f1f(0x45f)]||_0x376acf[_0x408f1f(0x920)][_0x408f1f(0x46d)],_0x5b2094=_0x376acf[_0x408f1f(0x920)]['id'],_0x5d7b86=_0x376acf['message'],_0x57d983=Buffer[_0x408f1f(0x3fe)](_0x5d7b86[_0x408f1f(0x50a)][_0x408f1f(0x552)][_0x408f1f(0x52b)](_0x408f1f(0x8b7)),'hex'),_0x3ed98b=(0x0,w[_0x408f1f(0x8da)])(_0x45bc40[_0x408f1f(0x68b)][_0x408f1f(0x8b0)][_0x408f1f(0x58d)],{'pollCreatorJid':_0x126101,'pollMsgId':_0x5b2094,'pollEncKey':_0x57d983,'voterJid':_0x45bc40['key'][_0x408f1f(0x741)]?this[_0x408f1f(0x665)][_0x408f1f(0x21d)]+_0x408f1f(0x53c):_0x45bc40[_0x408f1f(0x920)][_0x408f1f(0x46d)][_0x408f1f(0x8f6)]('g.us')?_0x45bc40[_0x408f1f(0x920)][_0x408f1f(0x45f)]:_0x45bc40[_0x408f1f(0x920)]['remoteJid']}),_0x2b3484=[],_0x1a5910=_0x3ed98b[_0x408f1f(0x8ea)][_0x408f1f(0x475)](_0x4cb0e4=>Buffer['from'](_0x4cb0e4)[_0x408f1f(0x52b)](_0x408f1f(0x8b7)));for(let {optionName:_0x1f19e3}of _0x5d7b86[_0x408f1f(0x319)]?.['options']||_0x5d7b86[_0x408f1f(0x7eb)]?.['options']||_0x5d7b86['pollCreationMessageV2']?.['options'])_0x1a5910['indexOf']((0x0,w[_0x408f1f(0x289)])(Buffer[_0x408f1f(0x3fe)](_0x1f19e3))[_0x408f1f(0x52b)](_0x408f1f(0x8b7)))>-0x1&&_0x2b3484[_0x408f1f(0x651)](_0x1f19e3);return _0x2b3484;}}return null;},this[_0x318420(0x64b)]=(_0x1ddcdb,_0x20da49,_0x5638a3)=>{const _0x1c371d=_0x318420;try{let _0x10be36=_0x1ddcdb?(0x0,w[_0x1c371d(0x2b7)])(_0x1ddcdb)[_0x20da49]:void 0x0,_0x42d8d3={},_0x22f957=null,_0x3d67d2=null,_0x43c6c7=null;_0x20da49==='protocolMessage'&&_0x10be36?.[_0x1c371d(0x83f)]&&(_0x20da49=(0x0,w[_0x1c371d(0x5a7)])(_0x10be36[_0x1c371d(0x83f)]),_0x22f957=_0x1ddcdb['protocolMessage'][_0x1c371d(0x920)]['id'],_0x10be36=_0x1ddcdb[_0x1c371d(0x622)][_0x1c371d(0x83f)][_0x20da49]),_0x1ddcdb[_0x20da49]?.[_0x1c371d(0x84b)]?.[_0x1c371d(0x8c7)]&&_0x1ddcdb[_0x20da49]?.[_0x1c371d(0x84b)]?.[_0x1c371d(0x6cd)]&&(_0x3d67d2=_0x1ddcdb[_0x20da49][_0x1c371d(0x84b)][_0x1c371d(0x8c7)]),_0x1ddcdb['reactionMessage']&&(_0x43c6c7=_0x1ddcdb[_0x1c371d(0x6e8)]['key']['id']);let _0x2badde;if(_0x10be36&&typeof _0x10be36=='object'&&_0x1c371d(0x280)in _0x10be36&&({pollCreationMessageKey:_0x2badde}=_0x10be36),_0x20da49===_0x1c371d(0x319)||_0x20da49===_0x1c371d(0x788)||_0x20da49===_0x1c371d(0x7eb)){let _0x47dfab=_0x10be36[_0x1c371d(0x39d)][_0x1c371d(0x475)](_0x1af7b7=>_0x1af7b7[_0x1c371d(0x755)])['join']('|');_0x42d8d3[_0x1c371d(0x2ee)]=_0x47dfab;}let _0x213c9c='';if(_0x10be36&&(_0x213c9c+=_0x10be36[_0x1c371d(0x7dc)]?_0x10be36['name']:'',_0x213c9c+=_0x10be36[_0x1c371d(0x1f0)]?'\x20'+_0x10be36[_0x1c371d(0x1f0)]:'',_0x213c9c+=_0x10be36[_0x1c371d(0x6f1)]?'\x20'+_0x10be36[_0x1c371d(0x6f1)]:'',_0x213c9c+=_0x10be36['displayName']?'\x20'+_0x10be36['displayName']:''),_0x20da49==='listMessage'){_0x213c9c=(_0x10be36[_0x1c371d(0x2f4)]||'')+'\x0a'+(_0x10be36[_0x1c371d(0x2f8)]||'')+'\x0a'+(_0x10be36[_0x1c371d(0x596)]||'');let _0x2d8ad6=this[_0x1c371d(0x7de)](_0x10be36[_0x1c371d(0x322)]);_0x42d8d3[_0x1c371d(0x2ee)]=_0x2d8ad6;}if(_0x20da49==='listResponseMessage'&&(_0x5638a3=_0x10be36['title']),_0x10be36&&_0x10be36[_0x1c371d(0x6a8)]){let _0x6b3745=this[_0x1c371d(0x227)](JSON['stringify'](_0x10be36[_0x1c371d(0x6a8)],null,0x2));_0x213c9c=_0x213c9c+'\x0a'+_0x6b3745;}if(_0x10be36){let {sections:_0x3270a1,listType:_0x1d2189,displayName:_0xebc376,vcard:_0x42e6fb,contactVcard:_0x20550e,name:_0x4a3f4c,caption:_0x2f8394,conversation:_0x1d8b29,pollCreationMessageKey:_0x3e0def,footerText:_0x4011c8,contentText:_0x27837e,pageCount:_0x5dc57f,headerType:_0x1019b6,isAvatar:_0x35d18d,isAnimated:_0x2ef718,fallbackLc:_0x24402a,fallbackLg:_0x45edf9,namespace:_0x19da88,elementName:_0x38f3a3,localizableParams:_0x23eb5a,viewOnce:_0x9cfa86,height:_0x4f5836,width:_0x486441,key:_0x2cd651,firstScanLength:_0x5cd299,firstScanSidecar:_0x58542e,gifPlayback:_0x16106c,gifAttribution:_0x447fa3,midQualityFileSha256:_0x39ae7a,scansSidecar:_0x279173,streamingSidecar:_0x1abeba,thumbnailHeight:_0x153b5d,thumbnailWidth:_0x15cfbd,thumbnailEncSha256:_0x39a9b1,thumbnailDirectPath:_0x2f7a84,canonicalUrl:_0x30fe54,matchedText:_0x41a025,previewType:_0x93baf8,thumbnailSha256:_0x48493f,deviceListMetadataVersion:_0x47d3e8,inviteLinkGroupTypeV2:_0xedf68b,interactiveAnnotations:_0x591d68,scanLengths:_0x4f198c,jpegThumbnail:_0x57741a,url:_0x13aa07,mediaKeyTimestamp:_0x1a13aa,waveform:_0x5bdbad,stickerSentTs:_0x3f7110,firstFrameLength:_0x32ceb2,fileEncSha256:_0x5e777e,contextInfo:_0x5aefc9,firstFrameSidecar:_0x16c7f2,directPath:_0x4e0209,fileSha256:_0x33481d,mediaKey:_0x51d301,senderTimestampMs:_0x54a860,..._0x3cc0fd}=_0x10be36;(_0x20da49==='listMessage'||_0x20da49===_0x1c371d(0x2f6))&&(delete _0x3cc0fd[_0x1c371d(0x2f4)],delete _0x3cc0fd['description']),typeof _0x10be36==_0x1c371d(0x786)?_0x42d8d3={'text':_0x10be36,'type':_0x20da49||_0x1c371d(0x6f1),..._0x22f957&&{'edited':_0x22f957},..._0x3d67d2&&{'quoted':_0x3d67d2},..._0x43c6c7&&{'reaction':_0x43c6c7}}:_0x42d8d3={'text':_0x213c9c,..._0x3cc0fd,..._0x20da49===_0x1c371d(0x8b0)?{'poll_id':_0x10be36[_0x1c371d(0x280)]['id'],'quoted':_0x10be36[_0x1c371d(0x280)]['id'],'vote':_0x5638a3}:{},..._0x20da49===_0x1c371d(0x2f6)?{'vote':_0x5638a3}:{},'type':_0x20da49,..._0x22f957&&{'edited':_0x22f957},..._0x3d67d2&&{'quoted':_0x3d67d2},..._0x43c6c7&&{'reaction':_0x43c6c7},...(_0x20da49===_0x1c371d(0x319)||_0x20da49===_0x1c371d(0x788)||_0x20da49===_0x1c371d(0x7eb)||_0x20da49===_0x1c371d(0x630))&&{'convertedOptions':_0x42d8d3[_0x1c371d(0x2ee)]}};}return{'messageType':_0x20da49,'messageContent':_0x10be36,'message_normalized':_0x42d8d3};}catch(_0x2fa9e4){return this[_0x1c371d(0x8de)][_0x1c371d(0x20e)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x2fa9e4),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x318420(0x2ea)]=null,this[_0x318420(0x54d)]=null,(this[_0x318420(0x399)](),this[_0x318420(0x665)][_0x318420(0x715)]={'count':0x0},this[_0x318420(0x665)][_0x318420(0x5d4)]={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set[a0_0x2f588e(0x763)](_0xc83423){const _0x2cbe2a=a0_0x2f588e;if(!_0xc83423){this[_0x2cbe2a(0x665)][_0x2cbe2a(0x7dc)]=(0x0,Oi['v4'])();return;}this[_0x2cbe2a(0x665)]['name']=_0xc83423,this[_0x2cbe2a(0x1d7)]('status.instance',{'instance':this[_0x2cbe2a(0x665)][_0x2cbe2a(0x7dc)],'status':_0x2cbe2a(0x274)});}get['instanceName'](){const _0xd0568a=a0_0x2f588e;return this[_0xd0568a(0x665)][_0xd0568a(0x7dc)];}get[a0_0x2f588e(0x21d)](){const _0x4e1b60=a0_0x2f588e;return this[_0x4e1b60(0x665)][_0x4e1b60(0x21d)];}async[a0_0x2f588e(0x46a)](){const _0x1d5a53=a0_0x2f588e;let _0xd26b06=this['client'][_0x1d5a53(0x496)]?.[_0x1d5a53(0x7dc)]??this[_0x1d5a53(0x1dc)][_0x1d5a53(0x496)]?.[_0x1d5a53(0x52a)];if(!_0xd26b06){if(this[_0x1d5a53(0x521)][_0x1d5a53(0x375)](_0x1d5a53(0x2d4))[_0x1d5a53(0x7aa)]){let _0x2b7610=await I['getClient']()['db'](this[_0x1d5a53(0x521)]['get'](_0x1d5a53(0x2d4))[_0x1d5a53(0x7cc)][_0x1d5a53(0x474)]+_0x1d5a53(0x3c1))[_0x1d5a53(0x219)](this[_0x1d5a53(0x763)])[_0x1d5a53(0x876)]({'_id':_0x1d5a53(0x1d0)});if(_0x2b7610){let _0x44f17f=JSON['parse'](JSON[_0x1d5a53(0x8f1)](_0x2b7610),w['BufferJSON'][_0x1d5a53(0x670)]);_0xd26b06=_0x44f17f['me']?.[_0x1d5a53(0x7dc)]||_0x44f17f['me']?.[_0x1d5a53(0x52a)];}}else{if((0x0,Fe[_0x1d5a53(0x23a)])((0x0,J[_0x1d5a53(0x88b)])(Me,this['instanceName'],_0x1d5a53(0x856)))){let _0xb3d1e7=JSON[_0x1d5a53(0x2a3)]((0x0,Fe[_0x1d5a53(0x919)])((0x0,J[_0x1d5a53(0x88b)])(Me,this['instanceName'],_0x1d5a53(0x856)),{'encoding':_0x1d5a53(0x472)}));_0xd26b06=_0xb3d1e7['me']?.[_0x1d5a53(0x7dc)]||_0xb3d1e7['me']?.['verifiedName'];}}}return _0xd26b06;}get[a0_0x2f588e(0x38b)](){const _0xb6a79f=a0_0x2f588e;return this[_0xb6a79f(0x665)][_0xb6a79f(0x38b)];}get['qrCode'](){const _0x5175e4=a0_0x2f588e;return this[_0x5175e4(0x665)][_0x5175e4(0x715)]?.[_0x5175e4(0x816)]?{'pairingCode':this[_0x5175e4(0x665)][_0x5175e4(0x715)]?.[_0x5175e4(0x816)]}:{'code':this[_0x5175e4(0x665)][_0x5175e4(0x715)]?.[_0x5175e4(0x70e)],'base64':this[_0x5175e4(0x665)][_0x5175e4(0x715)]?.[_0x5175e4(0x747)]};}async['loadWebhook'](){const _0x594643=a0_0x2f588e;let _0x4c9f3a=await this[_0x594643(0x230)]['webhook']['find'](this[_0x594643(0x763)]);this['localWebhook'][_0x594643(0x664)]=_0x4c9f3a?.['url'],this[_0x594643(0x6f4)][_0x594643(0x76d)]=_0x4c9f3a?.[_0x594643(0x76d)],this['localWebhook'][_0x594643(0x86d)]=_0x4c9f3a?.[_0x594643(0x86d)],this[_0x594643(0x6f4)][_0x594643(0x7fc)]=_0x4c9f3a?.[_0x594643(0x7fc)],this[_0x594643(0x6f4)][_0x594643(0x87b)]=_0x4c9f3a?.[_0x594643(0x87b)],this[_0x594643(0x6f4)][_0x594643(0x7f9)]=_0x4c9f3a?.[_0x594643(0x7f9)],this[_0x594643(0x6f4)][_0x594643(0x7fa)]=_0x4c9f3a?.[_0x594643(0x7fa)],this['localWebhook'][_0x594643(0x74d)]=_0x4c9f3a?.[_0x594643(0x74d)],this['localWebhook']['GROUPS_UPSERT']=_0x4c9f3a?.[_0x594643(0x766)],this[_0x594643(0x6f4)][_0x594643(0x577)]=_0x4c9f3a?.[_0x594643(0x577)],this[_0x594643(0x6f4)][_0x594643(0x672)]=_0x4c9f3a?.[_0x594643(0x672)],this[_0x594643(0x6f4)][_0x594643(0x6ba)]=_0x4c9f3a?.['CHATS_SET'],this[_0x594643(0x6f4)][_0x594643(0x1ec)]=_0x4c9f3a?.[_0x594643(0x1ec)],this[_0x594643(0x6f4)][_0x594643(0x602)]=_0x4c9f3a?.[_0x594643(0x602)],this[_0x594643(0x6f4)][_0x594643(0x676)]=_0x4c9f3a?.['CHATS_DELETE'],this[_0x594643(0x6f4)]['CONTACTS_SET']=_0x4c9f3a?.['CONTACTS_SET'],this[_0x594643(0x6f4)]['CONTACTS_UPSERT']=_0x4c9f3a?.[_0x594643(0x25d)],this[_0x594643(0x6f4)][_0x594643(0x6ff)]=_0x4c9f3a?.[_0x594643(0x6ff)],this[_0x594643(0x6f4)]['PRESENCE_UPDATE']=_0x4c9f3a?.[_0x594643(0x8ba)],this[_0x594643(0x6f4)][_0x594643(0x21c)]=_0x4c9f3a?.[_0x594643(0x21c)],this[_0x594643(0x6f4)]['CONNECTION_UPDATE']=_0x4c9f3a?.[_0x594643(0x603)],this[_0x594643(0x6f4)][_0x594643(0x508)]=_0x4c9f3a?.[_0x594643(0x508)];}async[a0_0x2f588e(0x86a)](_0xf06611){const _0x6f1264=a0_0x2f588e;let _0x1ad548=[_0x6f1264(0x461),_0x6f1264(0x664),_0x6f1264(0x76d),'local_map',_0x6f1264(0x7fc),_0x6f1264(0x87b),_0x6f1264(0x74d),'MESSAGES_UPSERT','SEND_MESSAGE',_0x6f1264(0x766),_0x6f1264(0x577),_0x6f1264(0x672),_0x6f1264(0x6ba),_0x6f1264(0x1ec),_0x6f1264(0x602),_0x6f1264(0x676),_0x6f1264(0x452),_0x6f1264(0x25d),_0x6f1264(0x6ff),'PRESENCE_UPDATE',_0x6f1264(0x21c),'CONNECTION_UPDATE',_0x6f1264(0x508)],_0x29f330={};return _0x1ad548[_0x6f1264(0x255)](_0x17c1c2=>{_0xf06611[_0x17c1c2]!==void 0x0&&(_0x29f330[_0x17c1c2]=_0xf06611[_0x17c1c2]);}),_0x29f330['url']&&(_0x29f330['url']=_0x29f330[_0x6f1264(0x664)]['trim']()),await this[_0x6f1264(0x230)][_0x6f1264(0x548)][_0x6f1264(0x72c)](_0x29f330,this[_0x6f1264(0x763)]),Object['assign'](this['localWebhook'],_0x29f330),await this['repository'][_0x6f1264(0x548)][_0x6f1264(0x3b1)](this[_0x6f1264(0x763)]);}async[a0_0x2f588e(0x6a9)](){const _0x2a676a=a0_0x2f588e;return await this[_0x2a676a(0x230)][_0x2a676a(0x548)][_0x2a676a(0x3b1)](this[_0x2a676a(0x763)]);}async['sendDataWebhook'](_0x3afa6e,_0x32d343){const _0x56c568=a0_0x2f588e;let _0x202df4=_0x3afa6e[_0x56c568(0x499)](/[\.-]/gm,'_')[_0x56c568(0x73d)](),_0x561653=this[_0x56c568(0x6f4)][_0x56c568(0x76d)]&&(0x0,F['isURL'])(this[_0x56c568(0x6f4)]['url'])?this[_0x56c568(0x6f4)][_0x56c568(0x664)]+(this[_0x56c568(0x6f4)]['local_map']?this[_0x56c568(0x446)][_0x3afa6e]:''):null,_0x35d0e3=this[_0x56c568(0x6f4)][_0x202df4],_0x48a61d=fe&&fe[_0x56c568(0x76d)]&&(0x0,F['isURL'])(fe[_0x56c568(0x664)])?fe[_0x56c568(0x664)]+(fe[_0x56c568(0x86d)]?this[_0x56c568(0x446)][_0x3afa6e]:''):null,_0x5650c8=fe?fe[_0x202df4]:null;if(_0x35d0e3&&_0x561653)try{await te['default'][_0x56c568(0x72c)]({'baseURL':_0x561653})['post']('',{'event':_0x3afa6e,'instance':this['instance'][_0x56c568(0x7dc)],'apikey':this[_0x56c568(0x665)][_0x56c568(0x878)],'data':_0x32d343}),this['logger']['log'](this[_0x56c568(0x763)]+'\x20('+this[_0x56c568(0x665)][_0x56c568(0x21d)]+_0x56c568(0x5d5)+_0x3afa6e+':\x20'+_0x561653);}catch{this[_0x56c568(0x8de)][_0x56c568(0x20e)](this['instanceName']+'\x20('+this['instance'][_0x56c568(0x21d)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3afa6e+':\x20'+_0x561653);}if(_0x5650c8&&_0x48a61d)try{await te[_0x56c568(0x6d0)]['create']({'baseURL':_0x48a61d})[_0x56c568(0x36f)]('',{'event':_0x3afa6e,'instance':this[_0x56c568(0x665)][_0x56c568(0x7dc)],'apikey':this[_0x56c568(0x665)][_0x56c568(0x878)],'data':_0x32d343}),this[_0x56c568(0x8de)][_0x56c568(0x449)](this[_0x56c568(0x763)]+'\x20('+this['instance'][_0x56c568(0x21d)]+_0x56c568(0x6dc)+_0x3afa6e+':\x20'+_0x48a61d);}catch{this[_0x56c568(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x56c568(0x665)][_0x56c568(0x21d)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3afa6e+':\x20'+_0x48a61d);}}async[a0_0x2f588e(0x8bb)]({qr:_0x410f7d,connection:_0x4e035f,lastDisconnect:_0x5bb0ac,receivedPendingNotifications:_0x47075d}){const _0x399ab5=a0_0x2f588e;if(_0x410f7d){if(this['instance'][_0x399ab5(0x715)][_0x399ab5(0x6c1)]===Fo)return this[_0x399ab5(0x1d7)](_0x399ab5(0x2cb),{'message':_0x399ab5(0x30d),'statusCode':w[_0x399ab5(0x774)][_0x399ab5(0x7b1)]}),this[_0x399ab5(0x681)]={'state':_0x399ab5(0x48f),'statusReason':w[_0x399ab5(0x774)][_0x399ab5(0x432)]},this[_0x399ab5(0x1d7)](_0x399ab5(0x742),{'instance':this[_0x399ab5(0x665)]['name'],...this[_0x399ab5(0x681)]}),this[_0x399ab5(0x1d7)](_0x399ab5(0x306),{'instance':this[_0x399ab5(0x665)][_0x399ab5(0x7dc)],'status':_0x399ab5(0x6bc)}),this[_0x399ab5(0x230)][_0x399ab5(0x703)][_0x399ab5(0x787)](this[_0x399ab5(0x665)][_0x399ab5(0x7dc)]),this[_0x399ab5(0x65c)]=!0x0,re[_0x399ab5(0x259)](Q,this['instance'][_0x399ab5(0x7dc)]),this[_0x399ab5(0x314)][_0x399ab5(0x2d2)]('no.connection',this['instance'][_0x399ab5(0x7dc)]);this['instance'][_0x399ab5(0x715)][_0x399ab5(0x6c1)]++;let _0x55669e={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x399ab5(0x323),'dark':_0x399ab5(0x5f9)}};xi[_0x399ab5(0x6d0)][_0x399ab5(0x5e3)](_0x410f7d,_0x55669e,(_0x27bfb9,_0x354673)=>{const _0x221b62=_0x399ab5;if(_0x27bfb9){this[_0x221b62(0x8de)][_0x221b62(0x20e)](this[_0x221b62(0x763)]+'\x20('+this[_0x221b62(0x665)][_0x221b62(0x21d)]+_0x221b62(0x342)+(_0x27bfb9 instanceof Error?_0x27bfb9[_0x221b62(0x68b)]:JSON[_0x221b62(0x8f1)](_0x27bfb9,null,0x2)));return;}this[_0x221b62(0x665)][_0x221b62(0x715)][_0x221b62(0x747)]=_0x354673,this[_0x221b62(0x665)]['qrcode'][_0x221b62(0x70e)]=_0x410f7d,!this[_0x221b62(0x299)]&&this[_0x221b62(0x1d7)]('qrcode.updated',{'qrcode':{'instance':this[_0x221b62(0x665)]['name'],'pairingCode':this[_0x221b62(0x665)][_0x221b62(0x715)][_0x221b62(0x816)],'code':_0x410f7d,'base64':_0x354673}});}),this['phoneNumber']?this[_0x399ab5(0x665)][_0x399ab5(0x715)]['pairingCode']||(await(0x0,w[_0x399ab5(0x62f)])(0x7d0),this[_0x399ab5(0x665)]['qrcode'][_0x399ab5(0x816)]=await this[_0x399ab5(0x1dc)][_0x399ab5(0x63a)](this[_0x399ab5(0x299)])):this[_0x399ab5(0x665)]['qrcode'][_0x399ab5(0x816)]=null,Di[_0x399ab5(0x6d0)][_0x399ab5(0x66f)](_0x410f7d,{'small':!0x0},_0x231885=>this[_0x399ab5(0x8de)][_0x399ab5(0x449)](_0x399ab5(0x699)+this[_0x399ab5(0x665)]['name']+_0x399ab5(0x35d)+this[_0x399ab5(0x665)][_0x399ab5(0x715)][_0x399ab5(0x6c1)]+_0x399ab5(0x5af)+this['instance'][_0x399ab5(0x715)]['pairingCode']+_0x399ab5(0x7f6)+_0x231885));}if(_0x4e035f&&(this[_0x399ab5(0x681)]={'state':_0x4e035f,'statusReason':_0x5bb0ac?.[_0x399ab5(0x20e)]?.[_0x399ab5(0x3b8)]?.[_0x399ab5(0x73a)]??0xc8},this[_0x399ab5(0x1d7)](_0x399ab5(0x742),{'instance':this[_0x399ab5(0x665)]['name'],...this[_0x399ab5(0x681)]})),_0x4e035f===_0x399ab5(0x70a)){if(this[_0x399ab5(0x52f)]++,this[_0x399ab5(0x7da)][_0x399ab5(0x651)](Date[_0x399ab5(0x71f)]()),this[_0x399ab5(0x7da)]=this[_0x399ab5(0x7da)][_0x399ab5(0x568)](_0x291ed2=>Date[_0x399ab5(0x71f)]()-_0x291ed2<this[_0x399ab5(0x8cc)]),_0x5bb0ac[_0x399ab5(0x20e)]?.['output']?.[_0x399ab5(0x73a)]!==w[_0x399ab5(0x774)]['loggedOut']){let _0x33cfe8=this[_0x399ab5(0x52f)]<=0x1?0x0:Math['min'](Math[_0x399ab5(0x7a2)](0x2,this[_0x399ab5(0x52f)]-0x1)*0x3e8,0x493e0);console['log'](this[_0x399ab5(0x763)]+_0x399ab5(0x23e)+this[_0x399ab5(0x52f)]+_0x399ab5(0x2ac)+_0x33cfe8/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x47d1ee=>setTimeout(_0x47d1ee,_0x33cfe8)),console['log'](_0x399ab5(0x3ff)),await this['connectToWhatsapp']();}else{this[_0x399ab5(0x1d7)](_0x399ab5(0x306),{'instance':this[_0x399ab5(0x665)][_0x399ab5(0x7dc)],'status':_0x399ab5(0x6bc)}),this['instance'][_0x399ab5(0x5d4)][_0x399ab5(0x3c8)]=!0x1,this['repository'][_0x399ab5(0x548)]['delete'](this[_0x399ab5(0x763)]),this[_0x399ab5(0x230)][_0x399ab5(0x703)][_0x399ab5(0x72c)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x399ab5(0x71f)]()},this[_0x399ab5(0x665)]['name']),re[_0x399ab5(0x259)](Q,this[_0x399ab5(0x665)]['name']);try{this[_0x399ab5(0x8de)][_0x399ab5(0x5ef)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x399ab5(0x8a1));let _0x43a5f4=await this[_0x399ab5(0x230)][_0x399ab5(0x68b)]['deleteAll'](this[_0x399ab5(0x665)][_0x399ab5(0x21d)]);_0x43a5f4['success']?this[_0x399ab5(0x8de)][_0x399ab5(0x5ef)](this[_0x399ab5(0x763)]+'\x20('+this[_0x399ab5(0x665)][_0x399ab5(0x21d)]+_0x399ab5(0x390)):this[_0x399ab5(0x8de)][_0x399ab5(0x20e)](_0x399ab5(0x1ff)+_0x43a5f4['error']);}catch(_0x596949){this['logger'][_0x399ab5(0x20e)](_0x399ab5(0x3c9)+_0x596949[_0x399ab5(0x68b)]);}this['instance'][_0x399ab5(0x5d4)][_0x399ab5(0x6d5)]!==null&&(this[_0x399ab5(0x8de)]['verbose'](this[_0x399ab5(0x763)]+'\x20('+this[_0x399ab5(0x665)][_0x399ab5(0x21d)]+_0x399ab5(0x4dd)),clearInterval(this[_0x399ab5(0x665)]['ScheduleMessage'][_0x399ab5(0x6d5)]),this['instance'][_0x399ab5(0x5d4)][_0x399ab5(0x6d5)]=null),this[_0x399ab5(0x8de)][_0x399ab5(0x5ef)](this[_0x399ab5(0x763)]+'\x20('+this[_0x399ab5(0x665)][_0x399ab5(0x21d)]+_0x399ab5(0x44d)),this[_0x399ab5(0x7e2)]=null,this[_0x399ab5(0x314)][_0x399ab5(0x2d2)]('remove.instance',this['instance']['name'],_0x399ab5(0x358)),this[_0x399ab5(0x1dc)]?.['ws']?.[_0x399ab5(0x70a)](),this[_0x399ab5(0x1dc)][_0x399ab5(0x59c)](new Error('Close\x20connection'));}}if(_0x4e035f===_0x399ab5(0x26c)){this['logger'][_0x399ab5(0x2ae)](this[_0x399ab5(0x763)]+'\x20('+this['instance'][_0x399ab5(0x21d)]+_0x399ab5(0x8e7)+this[_0x399ab5(0x1dc)]['authState']['creds']?.[_0x399ab5(0x343)]),this['client'][_0x399ab5(0x41c)]['creds']?.['myAppStateKeyId']||(this['logger']['warn'](this[_0x399ab5(0x763)]+'\x20('+this[_0x399ab5(0x665)][_0x399ab5(0x21d)]+_0x399ab5(0x901)),this[_0x399ab5(0x1dc)]['ev']['flush']()),this['resetReconnectionVariables'],this['instance'][_0x399ab5(0x21d)]=this[_0x399ab5(0x1dc)][_0x399ab5(0x496)]['id'][_0x399ab5(0x499)](/:\d+/,'')[_0x399ab5(0x499)]('@s.whatsapp.net',''),this['instance']['profilePictureUrl']=(await this[_0x399ab5(0x5b4)](this[_0x399ab5(0x665)][_0x399ab5(0x21d)]+_0x399ab5(0x53c)))[_0x399ab5(0x38b)],this[_0x399ab5(0x230)][_0x399ab5(0x703)][_0x399ab5(0x72c)]({'online':!0x0,'owner':this[_0x399ab5(0x665)]['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x3bc823=_0x399ab5(0x7ea)+this['instance'][_0x399ab5(0x21d)],_0x3a208b=0x28,_0x3f4022=Math[_0x399ab5(0x2cc)]((_0x3a208b-_0x3bc823[_0x399ab5(0x8b9)])/0x2),_0x2379f7='\x20'[_0x399ab5(0x79e)](_0x3f4022),_0x54d2c0=_0x399ab5(0x37e),_0x1d6e74=_0x399ab5(0x7e9)+this['instance'][_0x399ab5(0x7dc)],_0x55a8bf=(''+_0x2379f7+_0x3bc823+_0x2379f7)['padEnd'](_0x3a208b,'\x20'),_0x30a8d0=(''+_0x2379f7+_0x54d2c0+_0x2379f7)[_0x399ab5(0x31a)](_0x3a208b,'\x20'),_0x9fec58=(''+_0x2379f7+_0x1d6e74+_0x2379f7)[_0x399ab5(0x31a)](_0x3a208b,'\x20'),_0x4f0d6e=Math[_0x399ab5(0x6af)](_0x55a8bf[_0x399ab5(0x8b9)],_0x30a8d0['length'],_0x9fec58[_0x399ab5(0x8b9)]),_0x1dc2f8=_0x55a8bf['padEnd'](_0x4f0d6e,'\x20'),_0x1c2caa=_0x30a8d0[_0x399ab5(0x31a)](_0x4f0d6e,'\x20'),_0x3ea9f3=_0x9fec58[_0x399ab5(0x31a)](_0x4f0d6e,'\x20');this['logger'][_0x399ab5(0x569)]((_0x399ab5(0x5e9)+'─'[_0x399ab5(0x79e)](_0x4f0d6e)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1c2caa+_0x399ab5(0x77b)+_0x3ea9f3+_0x399ab5(0x77b)+_0x1dc2f8+_0x399ab5(0x4ed)+'─'['repeat'](_0x4f0d6e)+'┘')[_0x399ab5(0x499)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x399ab5(0x665)]['ScheduleMessage'][_0x399ab5(0x3c8)]=!0x0;}}['resetReconnectionVariables'](){const _0x3ae30a=a0_0x2f588e;this[_0x3ae30a(0x52f)]=0x0,this[_0x3ae30a(0x7da)]=[];}async[a0_0x2f588e(0x8a4)](_0x3803ce,_0x455dac=!0x1){const _0x2afd44=a0_0x2f588e;try{let _0x264cc7=await this['repository'][_0x2afd44(0x68b)][_0x2afd44(0x3b1)]({'where':{'_id':_0x3803ce['id']}},this['instance'][_0x2afd44(0x21d)]);return _0x455dac?_0x264cc7[0x0]:_0x264cc7[0x0][_0x2afd44(0x68b)];}catch{return{'conversation':''};}}[a0_0x2f588e(0x399)](){const _0x56b552=a0_0x2f588e;let _0x792f1b=this[_0x56b552(0x521)][_0x56b552(0x375)](_0x56b552(0x87c)),_0x2bb5ef=this[_0x56b552(0x521)][_0x56b552(0x375)]('DATABASE');_0x792f1b?.[_0x56b552(0x20c)]&&!_0x2bb5ef[_0x56b552(0x7aa)]&&setInterval(()=>{const _0xdb3d68=_0x56b552;try{for(let [_0x10586b,_0x5ed462]of Object[_0xdb3d68(0x5c5)](_0x792f1b))_0x5ed462===!0x0&&(0x0,Ue['execSync'])('rm\x20-rf\x20'+(0x0,J[_0xdb3d68(0x88b)])(this[_0xdb3d68(0x4a4)],_0x10586b['toLowerCase'](),this['instance']['wuid'])+'/*.json');}catch{}},(_0x792f1b?.[_0x56b552(0x20c)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3069b=a0_0x2f588e;let _0x2a190e=this[_0x3069b(0x521)][_0x3069b(0x375)](_0x3069b(0x2d4)),_0x259aaa=this['configService'][_0x3069b(0x375)](_0x3069b(0x57f));return _0x259aaa?.['ENABLED']?await Os(_0x259aaa,this[_0x3069b(0x665)]['name']):_0x2a190e[_0x3069b(0x7aa)]?await _s(this['instance'][_0x3069b(0x7dc)]):await(0x0,w['useMultiFileAuthState'])((0x0,J[_0x3069b(0x88b)])(Me,this['instance'][_0x3069b(0x7dc)]));}async[a0_0x2f588e(0x7db)](){const _0x3934b2=a0_0x2f588e;let _0x12b4b5=()=>Math[_0x3934b2(0x2cc)](Math[_0x3934b2(0x455)]()*0x4e21)+0x7d0,_0x1d1d26=async()=>{const _0x4c62f0=_0x3934b2;if(!this['instance'][_0x4c62f0(0x5d4)]['isConnected']){this[_0x4c62f0(0x8de)][_0x4c62f0(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x4c62f0(0x21d)]+_0x4c62f0(0x5f1)),this[_0x4c62f0(0x8b2)]=!0x1;return;}if(this[_0x4c62f0(0x665)][_0x4c62f0(0x21d)]&&this['AutomateSystem']&&this[_0x4c62f0(0x665)]['ScheduleMessage']['delayMessage']!==null&&this[_0x4c62f0(0x665)][_0x4c62f0(0x5d4)][_0x4c62f0(0x6d5)]!==void 0x0){let _0x138295=Math['round'](this[_0x4c62f0(0x665)][_0x4c62f0(0x5d4)][_0x4c62f0(0x6d5)]/0xea60);this['logger']['verbose'](this[_0x4c62f0(0x763)]+'\x20('+this['instance'][_0x4c62f0(0x21d)]+_0x4c62f0(0x647)+_0x138295+_0x4c62f0(0x767)),this['isRunning']=!0x1;return;}else this[_0x4c62f0(0x665)][_0x4c62f0(0x21d)]&&(this[_0x4c62f0(0x8de)]['verbose'](this[_0x4c62f0(0x763)]+'\x20('+this[_0x4c62f0(0x665)]['wuid']+_0x4c62f0(0x3ae)),this[_0x4c62f0(0x7e2)]||(await this['getAutomateSystem'](),this[_0x4c62f0(0x324)](),this[_0x4c62f0(0x497)]()),(this['instance'][_0x4c62f0(0x5d4)]['delayMessage']===null||this[_0x4c62f0(0x665)][_0x4c62f0(0x5d4)][_0x4c62f0(0x6d5)]===void 0x0)&&await this[_0x4c62f0(0x909)]());if(this[_0x4c62f0(0x8b2)]){let _0x3680f0=_0x12b4b5();this[_0x4c62f0(0x8de)][_0x4c62f0(0x5ef)](this[_0x4c62f0(0x763)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x3680f0/0x3e8+'\x20segundos'),setTimeout(_0x1d1d26,_0x3680f0);}};if(this[_0x3934b2(0x8b2)])return;this[_0x3934b2(0x8b2)]=!0x0;let _0x4c83d2=_0x12b4b5();setTimeout(_0x1d1d26,_0x4c83d2);}async['synchronizeAndMapFlows'](){const _0x18a360=a0_0x2f588e;let _0x393b90=this[_0x18a360(0x665)][_0x18a360(0x21d)];try{let _0x481ecb=await this[_0x18a360(0x230)][_0x18a360(0x262)]['findAll']({'where':{'$or':[{'owner':_0x393b90},{'whoCanUse':{'$in':[_0x393b90]}},{'shareOwners':{'$in':[_0x393b90]}}]}}),_0x49c5c3=new Map(this[_0x18a360(0x7e2)][_0x18a360(0x587)][_0x18a360(0x475)](_0x3305a3=>[_0x3305a3['_id'],_0x3305a3])),_0x105bb8=_0x481ecb[_0x18a360(0x475)](_0x157aa7=>{const _0x52c043=_0x18a360;let _0x5c7e07=_0x49c5c3[_0x52c043(0x375)](_0x157aa7[_0x52c043(0x461)]?.[_0x52c043(0x52b)]());return{'_id':_0x157aa7['_id']?.[_0x52c043(0x52b)](),'name':_0x5c7e07?.[_0x52c043(0x7dc)]??_0x157aa7[_0x52c043(0x7dc)],'default':_0x5c7e07?.[_0x52c043(0x6d0)]??_0x157aa7[_0x52c043(0x6d0)]??!0x1,'startCommand':_0x5c7e07?.[_0x52c043(0x20a)]??_0x157aa7[_0x52c043(0x2c2)],'minutesToClose':_0x5c7e07?.['minutesToClose']??_0x157aa7[_0x52c043(0x7c6)]??0xa,'readMessages':_0x5c7e07?.['readMessages']??_0x157aa7[_0x52c043(0x889)]??!0x1,'testingWith':_0x5c7e07?.[_0x52c043(0x425)]??_0x157aa7[_0x52c043(0x425)],'canEdit':_0x157aa7[_0x52c043(0x680)]===_0x393b90||(_0x157aa7['whoCanEdit']??[])['includes'](_0x393b90),'usersCount':(_0x157aa7[_0x52c043(0x780)]??[])[_0x52c043(0x8b9)]??0x0};}),_0x2d4c76=!0x1;_0x105bb8[_0x18a360(0x255)](_0x5b43c9=>{const _0x4a98f5=_0x18a360;_0x5b43c9[_0x4a98f5(0x6d0)]&&(_0x2d4c76?_0x5b43c9['default']=!0x1:_0x2d4c76=!0x0);}),this[_0x18a360(0x7e2)]['flows']=_0x105bb8;let _0x2a5307={'flows':_0x105bb8};return await this[_0x18a360(0x230)][_0x18a360(0x5a1)][_0x18a360(0x579)](_0x2a5307,_0x393b90),this['logger']['verbose'](this[_0x18a360(0x763)]+'\x20('+_0x393b90+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x105bb8[_0x18a360(0x8b9)];}catch(_0xf0f978){return this['logger'][_0x18a360(0x20e)](this[_0x18a360(0x763)]+'\x20('+_0x393b90+_0x18a360(0x1c1)+(_0xf0f978 instanceof Error?_0xf0f978[_0x18a360(0x68b)]:JSON[_0x18a360(0x8f1)](_0xf0f978,null,0x2))),{'message':_0x18a360(0x384)+(_0xf0f978 instanceof Error?_0xf0f978['message']:JSON[_0x18a360(0x8f1)](_0xf0f978,null,0x2))};}}async[a0_0x2f588e(0x838)](_0x29fbb6){const _0x13c78a=a0_0x2f588e;try{let _0x3922de=await this[_0x13c78a(0x230)]['instance'][_0x13c78a(0x876)]({'where':{'_id':Q+'-'+this['instanceName']}}),_0x52b822,_0x3892f1=!re[_0x13c78a(0x56e)]||!re[_0x13c78a(0x338)];console[_0x13c78a(0x449)]('--------------------------------------'),console[_0x13c78a(0x449)](_0x13c78a(0x6d1),Ti),console[_0x13c78a(0x449)](_0x13c78a(0x56a),this[_0x13c78a(0x52f)]),console['log'](_0x13c78a(0x5ff)),Ti&&!_0x3892f1&&(this[_0x13c78a(0x52f)]<0x4||!this[_0x13c78a(0x52f)]?_0x3922de&&_0x3922de['ip']?(_0x52b822=_0x3922de['ip'],console[_0x13c78a(0x449)](_0x13c78a(0x768)+_0x52b822)):(_0x52b822=await re[_0x13c78a(0x252)](Q,this[_0x13c78a(0x665)]['name']),_0x52b822?(console[_0x13c78a(0x449)](_0x13c78a(0x593)+_0x52b822),await(0x0,w[_0x13c78a(0x62f)])(0x7d0)):console['error'](_0x13c78a(0x503))):this['reconnectAttempts']<0x6&&(await re[_0x13c78a(0x259)](Q,this[_0x13c78a(0x665)]['name']),console[_0x13c78a(0x449)](_0x13c78a(0x4e0)),_0x52b822=await re['createIPv6'](Q,this[_0x13c78a(0x665)][_0x13c78a(0x7dc)]),_0x52b822?(console[_0x13c78a(0x449)](_0x13c78a(0x593)+_0x52b822),await(0x0,w[_0x13c78a(0x62f)])(0x7d0)):console[_0x13c78a(0x20e)](_0x13c78a(0x59d)))),this[_0x13c78a(0x8fa)](),this[_0x13c78a(0x665)]['apikey']=(await this[_0x13c78a(0x230)][_0x13c78a(0x703)]['find'](this[_0x13c78a(0x665)][_0x13c78a(0x7dc)]))[_0x13c78a(0x878)],this[_0x13c78a(0x665)][_0x13c78a(0x41c)]=await this['defineAuthState']();let {version:_0x4e7b94}=await(0x0,w[_0x13c78a(0x3b5)])(),_0x1fe2f4=[ki,Fs,(0x0,Ps[_0x13c78a(0x49f)])()],_0x51658e={'localAddress':_0x52b822,'auth':{'creds':this[_0x13c78a(0x665)][_0x13c78a(0x41c)][_0x13c78a(0x815)][_0x13c78a(0x1d0)],'keys':(0x0,w[_0x13c78a(0x4b3)])(this['instance'][_0x13c78a(0x41c)][_0x13c78a(0x815)]['keys'],(0x0,Jt[_0x13c78a(0x6d0)])({'level':_0x13c78a(0x20e)}))},'logger':(0x0,Jt[_0x13c78a(0x6d0)])({'level':_0x13c78a(0x20e)}),'printQRInTerminal':!0x1,'browser':_0x29fbb6?[_0x13c78a(0x1d1),Fs,(0x0,Ps[_0x13c78a(0x49f)])()]:_0x1fe2f4,'version':_0x4e7b94,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x1ad17d=>{const _0x3b4e0f=_0x13c78a;let _0xbf108a=this[_0x3b4e0f(0x6f4)]?.[_0x3b4e0f(0x508)]&&(0x0,w['isJidGroup'])(_0x1ad17d);return(0x0,w[_0x3b4e0f(0x566)])(_0x1ad17d)||_0xbf108a;},'msgRetryCounterCache':this[_0x13c78a(0x4d9)],'getMessage':async _0x55af0c=>await this[_0x13c78a(0x8a4)](_0x55af0c),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x13c78a(0x918)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x5b8145=>(_0x5b8145[_0x13c78a(0x630)]?.[_0x13c78a(0x73e)]==w[_0x13c78a(0x88e)]['Message'][_0x13c78a(0x22c)][_0x13c78a(0x370)][_0x13c78a(0x7e5)]&&(_0x5b8145=JSON[_0x13c78a(0x2a3)](JSON[_0x13c78a(0x8f1)](_0x5b8145)),_0x5b8145['listMessage'][_0x13c78a(0x73e)]=w[_0x13c78a(0x88e)][_0x13c78a(0x32c)][_0x13c78a(0x22c)]['ListType'][_0x13c78a(0x429)]),_0x5b8145)};return this[_0x13c78a(0x65c)]=!0x1,this['client']=(0x0,w[_0x13c78a(0x6d0)])(_0x51658e),this[_0x13c78a(0x4ea)](),this[_0x13c78a(0x299)]=_0x29fbb6,this['client'];}catch(_0x3305ab){let _0x528db7=_0x13c78a(0x799),_0x1c21e7=_0x3305ab instanceof Error?_0x3305ab['message']:typeof _0x3305ab==_0x13c78a(0x57a)?JSON[_0x13c78a(0x8f1)](_0x3305ab):_0x3305ab,_0xef156=_0x528db7+':\x20'+_0x1c21e7;throw this[_0x13c78a(0x8de)][_0x13c78a(0x20e)](this[_0x13c78a(0x763)]+'\x20('+this[_0x13c78a(0x665)][_0x13c78a(0x21d)]+'):\x20'+_0xef156),new D(_0xef156);}}[a0_0x2f588e(0x4ea)](){const _0x4bf067=a0_0x2f588e;this['client']['ev'][_0x4bf067(0x533)](_0x5038ee=>{const _0x1d0d4a=_0x4bf067;if(!this[_0x1d0d4a(0x65c)]){let _0x15b293=this[_0x1d0d4a(0x521)]['get'](_0x1d0d4a(0x2d4));if(_0x5038ee[_0x1d0d4a(0x865)]){let _0x3998ca=_0x5038ee[_0x1d0d4a(0x865)];this['messageHandle'][_0x1d0d4a(0x865)](_0x3998ca);}if(_0x5038ee[_0x1d0d4a(0x4ba)]){let _0x160a72=_0x5038ee[_0x1d0d4a(0x4ba)];this[_0x1d0d4a(0x814)][_0x1d0d4a(0x4ba)](_0x160a72);}if(_0x5038ee[_0x1d0d4a(0x742)]&&this['connectionUpdate'](_0x5038ee[_0x1d0d4a(0x742)]),_0x5038ee[_0x1d0d4a(0x84c)]&&this[_0x1d0d4a(0x665)][_0x1d0d4a(0x41c)]['saveCreds'](),_0x5038ee[_0x1d0d4a(0x1c2)]){let _0x2b5643=_0x5038ee['messaging-history.set'];this[_0x1d0d4a(0x814)][_0x1d0d4a(0x1c2)](_0x2b5643,_0x15b293);}if(_0x5038ee[_0x1d0d4a(0x76f)]){let _0x471017=_0x5038ee['messages.upsert'];this[_0x1d0d4a(0x814)]['messages.upsert'](_0x471017,_0x15b293);}if(_0x5038ee[_0x1d0d4a(0x1f4)]){let _0x5ba540=_0x5038ee[_0x1d0d4a(0x1f4)];_0x5ba540['forEach'](_0x8e52cc=>{const _0x3472a9=_0x1d0d4a;if(_i[_0x8e52cc[_0x3472a9(0x920)]['id']]){this['client']['ev'][_0x3472a9(0x2d2)](_0x3472a9(0x76f),{'messages':[_0x8e52cc],'type':_0x3472a9(0x68e)}),delete _i[_0x8e52cc[_0x3472a9(0x920)]['id']];return;}}),this[_0x1d0d4a(0x814)]['messages.update'](_0x5ba540,_0x15b293);}if(_0x5038ee[_0x1d0d4a(0x69c)]){let _0x361fb3=_0x5038ee[_0x1d0d4a(0x69c)];if(this[_0x1d0d4a(0x6f4)]?.['groups_ignore']&&_0x361fb3['id'][_0x1d0d4a(0x3e8)](_0x1d0d4a(0x532)))return;this['sendDataWebhook']('presence.update',_0x361fb3);}if(_0x5038ee[_0x1d0d4a(0x4c1)]){let _0x23215e=_0x5038ee['groups.upsert'];this[_0x1d0d4a(0x5f3)]['groups.upsert'](_0x23215e);}if(_0x5038ee[_0x1d0d4a(0x829)]){let _0x2ded63=_0x5038ee[_0x1d0d4a(0x829)];this[_0x1d0d4a(0x5f3)]['groups.update'](_0x2ded63);}if(_0x5038ee['group-participants.update']){let _0x122c42=_0x5038ee[_0x1d0d4a(0x731)];this[_0x1d0d4a(0x5f3)]['group-participants.update'](_0x122c42);}if(_0x5038ee[_0x1d0d4a(0x74a)]){let _0x5ad007=_0x5038ee['chats.upsert'];this[_0x1d0d4a(0x242)][_0x1d0d4a(0x74a)](_0x5ad007,_0x15b293);}if(_0x5038ee[_0x1d0d4a(0x8f3)]){let _0x1abaaf=_0x5038ee[_0x1d0d4a(0x8f3)];this[_0x1d0d4a(0x242)][_0x1d0d4a(0x8f3)](_0x1abaaf,_0x15b293);}if(_0x5038ee['chats.delete']){let _0x4a7bdc=_0x5038ee['chats.delete'];this['chatHandle'][_0x1d0d4a(0x713)](_0x4a7bdc);}if(_0x5038ee[_0x1d0d4a(0x2f9)]){let _0x19fe73=_0x5038ee['contacts.upsert'];this[_0x1d0d4a(0x6bd)][_0x1d0d4a(0x2f9)](_0x19fe73,_0x15b293);}if(_0x5038ee[_0x1d0d4a(0x4d1)]){let _0x14d87d=_0x5038ee[_0x1d0d4a(0x4d1)];this[_0x1d0d4a(0x6bd)][_0x1d0d4a(0x4d1)](_0x14d87d,_0x15b293);}}});}[a0_0x2f588e(0x45c)](_0x4c0216){return new Promise(_0x453ff3=>setTimeout(_0x453ff3,_0x4c0216));}[a0_0x2f588e(0x1c7)](_0x4ad6bd){const _0x26c223=a0_0x2f588e;_0x4ad6bd=_0x4ad6bd[_0x26c223(0x499)](/\D/g,'');let _0x32f54d=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x26c223(0x6c4)](_0x4ad6bd);if(_0x32f54d&&_0x32f54d[0x1]==='55'){let _0x4aa69d=_0x32f54d[0x2],_0x1b1ee0=_0x32f54d[0x3],_0x2bd859=_0x32f54d[0x4];if(parseInt(_0x4aa69d)>=0x1f&&_0x1b1ee0==='9')return _0x32f54d[0x1]+_0x4aa69d+_0x2bd859;}return _0x4ad6bd;}[a0_0x2f588e(0x37f)](_0x30e4af){const _0x5c7d77=a0_0x2f588e;return _0x30e4af[_0x5c7d77(0x3e8)](_0x5c7d77(0x532))||_0x30e4af[_0x5c7d77(0x3e8)](_0x5c7d77(0x53c))||_0x30e4af[_0x5c7d77(0x3e8)](_0x5c7d77(0x896))?_0x30e4af:(_0x30e4af=_0x30e4af?.[_0x5c7d77(0x499)](/\s/g,'')[_0x5c7d77(0x499)](/\+/g,'')[_0x5c7d77(0x499)](/\(/g,'')['replace'](/\)/g,'')[_0x5c7d77(0x50b)](/\:/)[0x0][_0x5c7d77(0x50b)]('@')[0x0],_0x30e4af[_0x5c7d77(0x8b9)]>=0x12?(_0x30e4af=_0x30e4af[_0x5c7d77(0x499)](/[^\d-]/g,''),_0x30e4af+_0x5c7d77(0x532)):(_0x30e4af=_0x30e4af[_0x5c7d77(0x499)](/\D/g,''),_0x30e4af+_0x5c7d77(0x53c)));}async['updatePresence'](_0x525aa1){const _0x457f22=a0_0x2f588e;let _0x5afed3=(await this['whatsappNumber']({'numbers':[_0x525aa1[_0x457f22(0x720)]]}))[0x0];if(!_0x5afed3[_0x457f22(0x211)]&&!(0x0,w['isJidGroup'])(_0x5afed3[_0x457f22(0x3a9)])&&!_0x5afed3[_0x457f22(0x3a9)][_0x457f22(0x3e8)]('@broadcast'))throw new m(_0x5afed3);let _0x2d5a83=_0x5afed3[_0x457f22(0x3a9)];try{return await this[_0x457f22(0x1dc)][_0x457f22(0x3c2)](_0x2d5a83),await this[_0x457f22(0x1dc)][_0x457f22(0x4cc)](_0x525aa1[_0x457f22(0x38c)],_0x2d5a83),{'status':0xc8,'presence':_0x525aa1[_0x457f22(0x38c)]};}catch(_0x58bb07){let _0x813e43='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x2faa40=_0x58bb07 instanceof Error?_0x58bb07[_0x457f22(0x68b)]:typeof _0x58bb07==_0x457f22(0x57a)?JSON[_0x457f22(0x8f1)](_0x58bb07):_0x58bb07,_0x435f03=_0x813e43+':\x20'+_0x2faa40;throw this[_0x457f22(0x8de)][_0x457f22(0x20e)](this['instanceName']+'\x20('+this[_0x457f22(0x665)][_0x457f22(0x21d)]+'):\x20'+_0x435f03),new m(_0x435f03);}}async['findAndUpdateCacheContact'](_0x2ae5a5,_0x265006,_0x425caa,_0x457074=!0x0){const _0x5c572f=a0_0x2f588e;let _0x46fd98=await this[_0x5c572f(0x230)]['cacheContact']['findOne']({'where':{'_id':_0x2ae5a5}});if(!_0x46fd98&&!_0x457074)return;let _0x1e9e38={'lastUpdate':Date[_0x5c572f(0x71f)]()};if(_0x425caa||!_0x46fd98?.[_0x5c572f(0x733)]||Date[_0x5c572f(0x71f)]()-_0x46fd98[_0x5c572f(0x733)]>0x18*0x3c*0x3c*0x3e8)try{let _0xac6f58=(await this['profilePicture'](_0x2ae5a5))[_0x5c572f(0x38b)];_0x1e9e38[_0x5c572f(0x26e)]=_0xac6f58;}catch(_0x24b337){let _0x4846cd='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x12cce6=_0x24b337 instanceof Error?_0x24b337[_0x5c572f(0x68b)]:typeof _0x24b337==_0x5c572f(0x57a)?JSON['stringify'](_0x24b337):_0x24b337,_0x42cc88=_0x4846cd+':\x20'+_0x12cce6;throw this[_0x5c572f(0x8de)][_0x5c572f(0x20e)](this[_0x5c572f(0x763)]+'\x20('+this[_0x5c572f(0x665)][_0x5c572f(0x21d)]+_0x5c572f(0x52e)+_0x42cc88),new m(_0x42cc88);}return _0x265006&&_0x46fd98?.[_0x5c572f(0x7dc)]!==_0x265006&&(_0x1e9e38['name']=_0x265006),Object[_0x5c572f(0x37a)](_0x1e9e38)[_0x5c572f(0x8b9)]>0x1&&(_0x46fd98?await this['repository'][_0x5c572f(0x6f8)][_0x5c572f(0x579)]({'where':{'_id':_0x2ae5a5}},_0x1e9e38):await this[_0x5c572f(0x230)][_0x5c572f(0x6f8)][_0x5c572f(0x465)]([{'_id':_0x2ae5a5,..._0x1e9e38}]),_0x46fd98={..._0x46fd98,..._0x1e9e38}),{'cachedContact':_0x46fd98};}async['profilePicture'](_0xcba382){const _0xfa3e34=a0_0x2f588e;let _0x1843fd=this[_0xfa3e34(0x37f)](_0xcba382);try{return{'wuid':_0x1843fd,'profilePictureUrl':await this[_0xfa3e34(0x1dc)]['profilePictureUrl'](_0x1843fd,_0xfa3e34(0x67a))};}catch{return{'wuid':_0x1843fd,'profilePictureUrl':null};}}async[a0_0x2f588e(0x1fd)](_0x2ae1a0,_0x39950f,_0x3f6e09){const _0x1a70ea=a0_0x2f588e;let _0x4bc806;try{let _0x515b6f=(await this['whatsappNumber']({'numbers':[_0x2ae1a0]}))[0x0];if(!_0x515b6f[_0x1a70ea(0x211)]&&!(0x0,w[_0x1a70ea(0x7e0)])(_0x515b6f[_0x1a70ea(0x3a9)])&&!_0x515b6f[_0x1a70ea(0x3a9)][_0x1a70ea(0x3e8)]('@broadcast'))throw new m(_0x515b6f);_0x4bc806=_0x515b6f[_0x1a70ea(0x3a9)];}catch(_0x5c247f){_0x4bc806=_0x2ae1a0,this[_0x1a70ea(0x8de)][_0x1a70ea(0x2ae)](this[_0x1a70ea(0x763)]+'\x20('+this[_0x1a70ea(0x665)][_0x1a70ea(0x21d)]+_0x1a70ea(0x65f)+_0x5c247f[_0x1a70ea(0x68b)]),this[_0x1a70ea(0x8de)][_0x1a70ea(0x2ae)](this[_0x1a70ea(0x763)]+'\x20('+this[_0x1a70ea(0x665)][_0x1a70ea(0x21d)]+_0x1a70ea(0x466)+_0x4bc806);}try{if(_0x4bc806||(_0x4bc806=_0x2ae1a0,this[_0x1a70ea(0x8de)]['warn'](this[_0x1a70ea(0x763)]+'\x20('+this['instance'][_0x1a70ea(0x21d)]+_0x1a70ea(0x7d9)+_0x4bc806)),_0x3f6e09||(_0x3f6e09={}),_0x3f6e09?.['delay']){await this['client']['presenceSubscribe'](_0x4bc806),await this['client'][_0x1a70ea(0x4cc)](_0x3f6e09?.[_0x1a70ea(0x38c)]??_0x1a70ea(0x75e),_0x4bc806);let _0x40432e=Math[_0x1a70ea(0x3d6)](_0x3f6e09[_0x1a70ea(0x62f)],0x2710);await(0x0,w[_0x1a70ea(0x62f)])(_0x40432e),await this['client']['sendPresenceUpdate'](_0x1a70ea(0x8c8),_0x4bc806);}let _0x5445c9=_0x3f6e09?.[_0x1a70ea(0x678)]!=!0x1?void 0x0:!0x1,_0x4a4984;if(_0x3f6e09?.[_0x1a70ea(0x4c7)]){let _0x4ac41e=_0x3f6e09?.[_0x1a70ea(0x4c7)],_0x442636=_0x4ac41e?.[_0x1a70ea(0x68b)]?_0x4ac41e:await this[_0x1a70ea(0x8a4)](_0x4ac41e[_0x1a70ea(0x920)],!0x0);if(!_0x442636)throw _0x1a70ea(0x6d6);_0x4a4984=_0x442636;}let _0x3f5a31;if((0x0,w[_0x1a70ea(0x7e0)])(_0x4bc806))try{let _0x2d8efe=(await this['repository'][_0x1a70ea(0x40f)]['findOne']({'where':{'_id':_0x4bc806}},this[_0x1a70ea(0x665)][_0x1a70ea(0x21d)]))[_0x1a70ea(0x381)];if(!_0x2d8efe)throw new V(_0x1a70ea(0x23c));_0x3f6e09?.[_0x1a70ea(0x3be)]&&(_0x3f6e09[_0x1a70ea(0x3be)]?.[_0x1a70ea(0x64a)]?_0x3f5a31=_0x2d8efe[_0x1a70ea(0x8d4)]['map'](_0x4b5876=>_0x4b5876['id']):_0x3f6e09[_0x1a70ea(0x3be)]?.[_0x1a70ea(0x701)]?.['length']&&(_0x3f5a31=_0x3f6e09[_0x1a70ea(0x3be)]['mentioned'][_0x1a70ea(0x475)](_0x4e7d01=>{const _0xaad593=_0x1a70ea;let _0xca54b8=this['createJid'](_0x4e7d01);return(0x0,w[_0xaad593(0x7e0)])(_0xca54b8)?null:_0xca54b8;})));}catch{throw new V(_0x1a70ea(0x23c));}let _0x4b7dba=await this[_0x1a70ea(0x230)][_0x1a70ea(0x40f)]['findOne']({'where':{'_id':_0x4bc806}},this[_0x1a70ea(0x665)][_0x1a70ea(0x21d)]),_0x18df54=await((async()=>{const _0x1968db=_0x1a70ea;let _0x3b380d={'quoted':_0x4a4984,'ephemeralExpiration':_0x4b7dba?.[_0x1968db(0x5bf)]??0x0};if(!_0x39950f[_0x1968db(0x7c8)]&&!_0x39950f[_0x1968db(0x51d)]&&!_0x39950f['sticker']&&!_0x39950f[_0x1968db(0x6f1)]&&_0x4bc806!==_0x1968db(0x45e)&&!_0x39950f[_0x1968db(0x7c8)])return await this[_0x1968db(0x1dc)][_0x1968db(0x821)](_0x4bc806,{'forward':{'key':{'remoteJid':this[_0x1968db(0x665)][_0x1968db(0x21d)],'fromMe':!0x0},'message':_0x39950f},'mentions':_0x3f5a31},_0x3b380d);if(_0x39950f[_0x1968db(0x6e8)])return await this[_0x1968db(0x1dc)]['sendMessage'](_0x4bc806,{'react':{'text':_0x39950f['reactionMessage'][_0x1968db(0x244)],'key':_0x39950f['reactionMessage'][_0x1968db(0x920)]}},_0x3b380d);if(_0x39950f['conversation']){let _0x5e0bec=_0x39950f[_0x1968db(0x6f1)];return _0x3f6e09?.[_0x1968db(0x2be)]&&(_0x5e0bec=await this[_0x1968db(0x5b2)](_0x5e0bec,_0x4bc806)),await this[_0x1968db(0x1dc)][_0x1968db(0x821)](_0x4bc806,{'text':_0x5e0bec,'mentions':_0x3f5a31,'linkPreview':_0x5445c9},_0x3b380d);}return _0x4bc806===_0x1968db(0x45e)?await this[_0x1968db(0x1dc)][_0x1968db(0x821)](_0x4bc806,_0x39950f[_0x1968db(0x3f3)][_0x1968db(0x6c3)],{'backgroundColor':_0x39950f[_0x1968db(0x3f3)]['option'][_0x1968db(0x5f7)],'font':_0x39950f[_0x1968db(0x3f3)][_0x1968db(0x49c)][_0x1968db(0x31b)],'statusJidList':_0x39950f['status']['option'][_0x1968db(0x652)]}):await this['client'][_0x1968db(0x821)](_0x4bc806,_0x39950f,_0x3b380d);})()),_0x4b920b=(0x0,w[_0x1a70ea(0x2d8)])(_0x18df54['message']),_0x3165c3=(0x0,w[_0x1a70ea(0x5a7)])(_0x4b920b),{message_normalized:_0x1fbc19}=this['normalizeMessage'](_0x4b920b,_0x3165c3,null),_0x494e9a={'_id':_0x18df54[_0x1a70ea(0x920)]['id'],'key':_0x18df54['key'],'pushName':_0x18df54[_0x1a70ea(0x913)],'isGroup':_0x18df54[_0x1a70ea(0x920)][_0x1a70ea(0x46d)][_0x1a70ea(0x8f6)]('@g.us'),'profilePictureUrl':this[_0x1a70ea(0x665)][_0x1a70ea(0x38b)],'message':_0x4b920b,'messageType':_0x3165c3,'message_normalized':{'key':_0x18df54[_0x1a70ea(0x920)],'pushName':_0x18df54['pushName'],'messageTimestamp':_0x18df54[_0x1a70ea(0x4e3)]&&_0x18df54[_0x1a70ea(0x4e3)][_0x1a70ea(0x52b)]()['length']<0xd?_0x18df54['messageTimestamp']*0x3e8:_0x18df54[_0x1a70ea(0x4e3)]||null,'source':(0x0,w['getDevice'])(_0x18df54[_0x1a70ea(0x920)]['id']),..._0x1fbc19},'messageTimestamp':_0x18df54[_0x1a70ea(0x4e3)]&&_0x18df54[_0x1a70ea(0x4e3)][_0x1a70ea(0x52b)]()[_0x1a70ea(0x8b9)]<0xd?_0x18df54[_0x1a70ea(0x4e3)]*0x3e8:_0x18df54[_0x1a70ea(0x4e3)]||null,'owner':this[_0x1a70ea(0x665)]['wuid'],'source':(0x0,w['getDevice'])(_0x18df54[_0x1a70ea(0x920)]['id'])};return this['logger'][_0x1a70ea(0x2ae)](this[_0x1a70ea(0x763)]+'\x20('+this[_0x1a70ea(0x665)]['wuid']+_0x1a70ea(0x615)+_0x494e9a[_0x1a70ea(0x920)]?.[_0x1a70ea(0x46d)][_0x1a70ea(0x499)](_0x1a70ea(0x53c),'')+']\x20('+_0x494e9a[_0x1a70ea(0x27c)]+')'),_0x494e9a[_0x1a70ea(0x795)]?.['text']&&this[_0x1a70ea(0x8de)][_0x1a70ea(0x2ae)](_0x494e9a[_0x1a70ea(0x795)]?.[_0x1a70ea(0x244)]),this[_0x1a70ea(0x1d7)](_0x1a70ea(0x1c6),_0x494e9a),q(this[_0x1a70ea(0x763)],_0x1a70ea(0x2ba),{'message':_0x494e9a}),this[_0x1a70ea(0x5cb)](this[_0x1a70ea(0x521)][_0x1a70ea(0x375)](_0x1a70ea(0x2d4)),_0x494e9a,_0x1a70ea(0x7f9),_0x4b7dba),await this['repository'][_0x1a70ea(0x68b)][_0x1a70ea(0x465)]([_0x494e9a],this[_0x1a70ea(0x665)]['wuid']),_0x18df54;}catch(_0x1984e8){let _0xaa27d1=_0x1a70ea(0x66e)+_0x4bc806,_0x3450c4=_0x1984e8 instanceof Error?_0x1984e8[_0x1a70ea(0x68b)]:typeof _0x1984e8==_0x1a70ea(0x57a)?JSON[_0x1a70ea(0x8f1)](_0x1984e8):_0x1984e8,_0x211232=_0xaa27d1+':\x20'+_0x3450c4;throw this[_0x1a70ea(0x8de)][_0x1a70ea(0x20e)](this[_0x1a70ea(0x763)]+'\x20('+this[_0x1a70ea(0x665)]['wuid']+'):\x20'+_0x211232),new m(_0x211232);}}get['connectionStatus'](){const _0x17645f=a0_0x2f588e;return this[_0x17645f(0x681)];}async[a0_0x2f588e(0x845)](_0x5b4cc6){const _0x2dbdfa=a0_0x2f588e;return await this[_0x2dbdfa(0x1fd)](_0x5b4cc6[_0x2dbdfa(0x720)],{'conversation':_0x5b4cc6[_0x2dbdfa(0x845)][_0x2dbdfa(0x244)]},_0x5b4cc6?.[_0x2dbdfa(0x39d)]);}async['formatStatusMessage'](_0x41f4dd){const _0x14d37c=a0_0x2f588e;if(!_0x41f4dd[_0x14d37c(0x7ef)])throw new m('Type\x20is\x20required');if(!_0x41f4dd[_0x14d37c(0x6c3)])throw new m(_0x14d37c(0x6ec));if(_0x41f4dd[_0x14d37c(0x245)]){let _0x563315=await this[_0x14d37c(0x230)]['contact'][_0x14d37c(0x3b1)]({'where':{}},this[_0x14d37c(0x665)]['wuid']);if(!_0x563315[_0x14d37c(0x8b9)])throw new m(_0x14d37c(0x331));_0x41f4dd[_0x14d37c(0x652)]=_0x563315[_0x14d37c(0x568)](_0x467ee1=>_0x467ee1[_0x14d37c(0x913)])[_0x14d37c(0x475)](_0x3f879f=>_0x3f879f['_id']);}if(!_0x41f4dd[_0x14d37c(0x652)]?.[_0x14d37c(0x8b9)]&&!_0x41f4dd['allContacts'])throw new m(_0x14d37c(0x21f));if(_0x41f4dd[_0x14d37c(0x7ef)]===_0x14d37c(0x244)){if(!_0x41f4dd['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x41f4dd[_0x14d37c(0x31b)])throw new m(_0x14d37c(0x770));return{'content':{'text':_0x41f4dd[_0x14d37c(0x6c3)]},'option':{'backgroundColor':_0x41f4dd[_0x14d37c(0x5f7)],'font':_0x41f4dd[_0x14d37c(0x31b)],'statusJidList':_0x41f4dd[_0x14d37c(0x652)]}};}if(_0x41f4dd[_0x14d37c(0x7ef)]==='image')return{'content':{'image':{'url':_0x41f4dd[_0x14d37c(0x6c3)]},'caption':_0x41f4dd[_0x14d37c(0x1f0)]},'option':{'statusJidList':_0x41f4dd[_0x14d37c(0x652)]}};if(_0x41f4dd[_0x14d37c(0x7ef)]===_0x14d37c(0x8f0))return{'content':{'video':{'url':_0x41f4dd[_0x14d37c(0x6c3)]},'caption':_0x41f4dd[_0x14d37c(0x1f0)]},'option':{'statusJidList':_0x41f4dd[_0x14d37c(0x652)]}};if(_0x41f4dd[_0x14d37c(0x7ef)]===_0x14d37c(0x7c8)){this[_0x14d37c(0x8de)][_0x14d37c(0x5ef)](this[_0x14d37c(0x763)]+'\x20('+this[_0x14d37c(0x665)]['wuid']+_0x14d37c(0x51e)),this[_0x14d37c(0x8de)][_0x14d37c(0x5ef)](this[_0x14d37c(0x763)]+'\x20('+this[_0x14d37c(0x665)][_0x14d37c(0x21d)]+_0x14d37c(0x50d));let _0x3a4215=await this[_0x14d37c(0x884)](_0x41f4dd[_0x14d37c(0x6c3)]);if(typeof _0x3a4215=='string'){this[_0x14d37c(0x8de)][_0x14d37c(0x5ef)](this[_0x14d37c(0x763)]+'\x20('+this[_0x14d37c(0x665)][_0x14d37c(0x21d)]+'):Audio\x20processed');let _0xeb8e93=U[_0x14d37c(0x919)](_0x3a4215)[_0x14d37c(0x52b)](_0x14d37c(0x747));return{'content':{'audio':Buffer['from'](_0xeb8e93,_0x14d37c(0x747)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x41f4dd[_0x14d37c(0x652)]}};}else throw new D(_0x3a4215);}throw new m(_0x14d37c(0x388));}async[a0_0x2f588e(0x40b)](_0x1c977b){const _0x4015e8=a0_0x2f588e;return await this[_0x4015e8(0x1fd)]('status@broadcast',{'status':await this[_0x4015e8(0x860)](_0x1c977b[_0x4015e8(0x40b)])});}async[a0_0x2f588e(0x648)](_0x4ef02a){const _0x1f2272=a0_0x2f588e;try{let _0x4e5f94=await(0x0,w[_0x1f2272(0x47c)])({[_0x4ef02a[_0x1f2272(0x2d0)]]:(0x0,F[_0x1f2272(0x5de)])(_0x4ef02a[_0x1f2272(0x34b)])?{'url':_0x4ef02a['media']}:Buffer[_0x1f2272(0x3fe)](_0x4ef02a[_0x1f2272(0x34b)],_0x1f2272(0x747))},{'upload':this['client']['waUploadToServer']}),_0x36053b=_0x4ef02a[_0x1f2272(0x2d0)]+_0x1f2272(0x32c);if(_0x4ef02a[_0x1f2272(0x2d0)]===_0x1f2272(0x60b)&&!_0x4ef02a[_0x1f2272(0x6d8)]){let _0x4b0978=new RegExp(/.*\/(.+?)\./)[_0x1f2272(0x6c4)](_0x4ef02a['media']);_0x4ef02a[_0x1f2272(0x6d8)]=_0x4b0978?_0x4b0978[0x1]:null;}let _0x3a1693;return(0x0,F[_0x1f2272(0x5de)])(_0x4ef02a['media'])?_0x3a1693=(await te['default'][_0x1f2272(0x375)](_0x4ef02a[_0x1f2272(0x34b)],{'responseType':'arraybuffer'}))[_0x1f2272(0x354)][_0x1f2272(0x689)]:_0x3a1693=(0x0,Pi[_0x1f2272(0x75c)])(_0x4ef02a[_0x1f2272(0x6d8)]),_0x4e5f94[_0x36053b][_0x1f2272(0x1f0)]=_0x4ef02a?.[_0x1f2272(0x1f0)],_0x4e5f94[_0x36053b][_0x1f2272(0x1fe)]=_0x3a1693,_0x4e5f94[_0x36053b]['fileName']=_0x4ef02a[_0x1f2272(0x6d8)],_0x4ef02a[_0x1f2272(0x2d0)]===_0x1f2272(0x8f0)&&(_0x4e5f94[_0x36053b][_0x1f2272(0x78b)]=Uint8Array[_0x1f2272(0x3fe)]((0x0,Fe[_0x1f2272(0x919)])((0x0,J[_0x1f2272(0x88b)])(process['cwd'](),_0x1f2272(0x359)))),_0x4e5f94[_0x36053b]['gifPlayback']=!0x1),(0x0,w[_0x1f2272(0x669)])('',{[_0x36053b]:{..._0x4e5f94[_0x36053b]}},{'userJid':this[_0x1f2272(0x665)][_0x1f2272(0x21d)]});}catch(_0x1653bd){let _0x30b21a=_0x1f2272(0x7b2),_0x3413bf=_0x1653bd instanceof Error?_0x1653bd['message']:typeof _0x1653bd==_0x1f2272(0x57a)?JSON['stringify'](_0x1653bd):_0x1653bd,_0xe5058e=_0x30b21a+':\x20'+_0x3413bf;throw this[_0x1f2272(0x8de)][_0x1f2272(0x20e)](this[_0x1f2272(0x763)]+'\x20('+this[_0x1f2272(0x665)]['wuid']+_0x1f2272(0x52e)+_0xe5058e),new D(_0xe5058e);}}async[a0_0x2f588e(0x793)](_0x2ff1e4){const _0x3b9a9b=a0_0x2f588e;let _0x570c78=await this[_0x3b9a9b(0x648)](_0x2ff1e4[_0x3b9a9b(0x793)]);return await this[_0x3b9a9b(0x1fd)](_0x2ff1e4[_0x3b9a9b(0x720)],{..._0x570c78['message']},_0x2ff1e4?.['options']);}async['convertToWebP'](_0x138cde,_0x3c4934){const _0x18003e=a0_0x2f588e;try{this['logger'][_0x18003e(0x5ef)](this[_0x18003e(0x763)]+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x3c5));let _0x578c6e,_0x385745=_0x3c4934+'-'+new Date()[_0x18003e(0x427)]();this['logger']['verbose'](this[_0x18003e(0x763)]+'\x20('+this['instance'][_0x18003e(0x21d)]+_0x18003e(0x40d)+_0x385745);let _0x277d40=''+(0x0,J[_0x18003e(0x88b)])(this['storePath'],_0x385745+_0x18003e(0x72d));if(this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this[_0x18003e(0x763)]+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x4ce)+_0x277d40),(0x0,F[_0x18003e(0x5e7)])(_0x138cde)){this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this[_0x18003e(0x763)]+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x39c));let _0x1b7b25=_0x138cde[_0x18003e(0x499)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x854a82=Buffer[_0x18003e(0x3fe)](_0x1b7b25,_0x18003e(0x747));_0x578c6e=''+(0x0,J[_0x18003e(0x88b)])(this[_0x18003e(0x4a4)],_0x18003e(0x512)+_0x385745+_0x18003e(0x55f)),this[_0x18003e(0x8de)]['verbose'](this[_0x18003e(0x763)]+'\x20('+this['instance'][_0x18003e(0x21d)]+_0x18003e(0x4c6)+_0x578c6e),await(0x0,qt[_0x18003e(0x6d0)])(_0x854a82)[_0x18003e(0x33e)](_0x578c6e),this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this['instanceName']+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x3dd));}else{this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this[_0x18003e(0x763)]+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x21b));let _0x181e3e=new Date()[_0x18003e(0x427)](),_0x66f67d=_0x138cde+_0x18003e(0x64c)+_0x181e3e;this[_0x18003e(0x8de)]['verbose'](this[_0x18003e(0x763)]+'\x20('+this[_0x18003e(0x665)]['wuid']+_0x18003e(0x837)+_0x66f67d);let _0x24dcab=await te[_0x18003e(0x6d0)][_0x18003e(0x375)](_0x66f67d,{'responseType':_0x18003e(0x2b9)});this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this[_0x18003e(0x763)]+'\x20('+this['instance'][_0x18003e(0x21d)]+_0x18003e(0x67d));let _0x3e668f=Buffer[_0x18003e(0x3fe)](_0x24dcab[_0x18003e(0x28c)],_0x18003e(0x200));_0x578c6e=''+(0x0,J['join'])(this['storePath'],_0x18003e(0x512)+_0x385745+_0x18003e(0x55f)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x18003e(0x665)]['wuid']+'):Image\x20path:\x20'+_0x578c6e),await(0x0,qt[_0x18003e(0x6d0)])(_0x3e668f)['toFile'](_0x578c6e),this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this[_0x18003e(0x763)]+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x3dd));}return await(0x0,qt[_0x18003e(0x6d0)])(_0x578c6e)[_0x18003e(0x2cd)]()[_0x18003e(0x33e)](_0x277d40),this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x18003e(0x21d)]+_0x18003e(0x6d4)),U['unlinkSync'](_0x578c6e),this[_0x18003e(0x8de)][_0x18003e(0x5ef)](this['instanceName']+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x63c)),_0x277d40;}catch(_0x1741f4){let _0x4afb62='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x5ca508=_0x1741f4 instanceof Error?_0x1741f4['message']:typeof _0x1741f4==_0x18003e(0x57a)?JSON[_0x18003e(0x8f1)](_0x1741f4):_0x1741f4,_0x444f7a=_0x4afb62+':\x20'+_0x5ca508;this[_0x18003e(0x8de)][_0x18003e(0x20e)](this[_0x18003e(0x763)]+'\x20('+this[_0x18003e(0x665)][_0x18003e(0x21d)]+_0x18003e(0x52e)+_0x444f7a);}}async[a0_0x2f588e(0x441)](_0x2ed2b3){const _0x5780d0=a0_0x2f588e;let _0x8d1aa7=await this[_0x5780d0(0x38a)](_0x2ed2b3[_0x5780d0(0x561)][_0x5780d0(0x67a)],_0x2ed2b3[_0x5780d0(0x720)]),_0x5838fd=await this[_0x5780d0(0x1fd)](_0x2ed2b3[_0x5780d0(0x720)],{'sticker':{'url':_0x8d1aa7}},_0x2ed2b3?.[_0x5780d0(0x39d)]);return U[_0x5780d0(0x7bc)](_0x8d1aa7),this['logger'][_0x5780d0(0x5ef)](this[_0x5780d0(0x763)]+'\x20('+this['instance'][_0x5780d0(0x21d)]+_0x5780d0(0x1d3)),_0x5838fd;}async[a0_0x2f588e(0x840)](_0xdad1c0){const _0x5ce19b=a0_0x2f588e;if(this[_0x5ce19b(0x8de)][_0x5ce19b(0x5ef)](this[_0x5ce19b(0x763)]+'\x20('+this['instance']['wuid']+'):Sending\x20audio\x20whatsapp'),!_0xdad1c0[_0x5ce19b(0x39d)]?.[_0x5ce19b(0x43e)]&&_0xdad1c0['options']?.[_0x5ce19b(0x43e)]!==!0x1&&(_0xdad1c0['options'][_0x5ce19b(0x43e)]=!0x0),_0xdad1c0[_0x5ce19b(0x39d)]?.['encoding']){let _0x89f912=await this['convertaudio'](_0xdad1c0[_0x5ce19b(0x39a)][_0x5ce19b(0x7c8)]);if(typeof _0x89f912=='string'){let _0x4e01a7=U['readFileSync'](_0x89f912)[_0x5ce19b(0x52b)](_0x5ce19b(0x747));return this[_0x5ce19b(0x1fd)](_0xdad1c0[_0x5ce19b(0x720)],{'audio':Buffer[_0x5ce19b(0x3fe)](_0x4e01a7,_0x5ce19b(0x747)),'ptt':!0x0,'mimetype':_0x5ce19b(0x368)},{'presence':_0x5ce19b(0x5cf),'delay':_0xdad1c0?.[_0x5ce19b(0x39d)]?.[_0x5ce19b(0x62f)]});}else throw new D(_0x89f912);}return await this[_0x5ce19b(0x1fd)](_0xdad1c0[_0x5ce19b(0x720)],{'audio':(0x0,F[_0x5ce19b(0x5de)])(_0xdad1c0[_0x5ce19b(0x39a)][_0x5ce19b(0x7c8)])?{'url':_0xdad1c0['audioMessage'][_0x5ce19b(0x7c8)]}:Buffer['from'](_0xdad1c0['audioMessage'][_0x5ce19b(0x7c8)],_0x5ce19b(0x747)),'ptt':!0x0,'mimetype':_0x5ce19b(0x368)},{'presence':_0x5ce19b(0x5cf),'delay':_0xdad1c0?.[_0x5ce19b(0x39d)]?.[_0x5ce19b(0x62f)]});}async[a0_0x2f588e(0x884)](_0x2c0a89){const _0x5545cf=a0_0x2f588e;this[_0x5545cf(0x8de)][_0x5545cf(0x5ef)](this['instanceName']+'\x20('+this[_0x5545cf(0x665)][_0x5545cf(0x21d)]+'):Processing\x20audio');let _0x4ae15e=(0x0,F['isURL'])(_0x2c0a89)?(0x0,Vt[_0x5545cf(0x462)])('sha256')['update'](_0x2c0a89)[_0x5545cf(0x501)]('hex'):(0x0,Vt[_0x5545cf(0x462)])('sha256')['update'](_0x2c0a89)[_0x5545cf(0x501)](_0x5545cf(0x8b7)),_0x232fb7=''+(0x0,J['join'])(this[_0x5545cf(0x4a4)],_0x4ae15e+_0x5545cf(0x7a7));if(U[_0x5545cf(0x23a)](_0x232fb7))return this[_0x5545cf(0x8de)]['verbose'](this[_0x5545cf(0x763)]+'\x20('+this[_0x5545cf(0x665)][_0x5545cf(0x21d)]+_0x5545cf(0x8ec)),_0x232fb7;let _0x14d892=''+(0x0,J[_0x5545cf(0x88b)])(this['storePath'],_0x5545cf(0x512)+(0x0,X['v4'])()+'.mp3');if((0x0,F[_0x5545cf(0x5de)])(_0x2c0a89)){let _0x36a34d=new Date()[_0x5545cf(0x427)](),_0x4ca727=_0x2c0a89+_0x5545cf(0x64c)+_0x36a34d,_0x23407f=await te[_0x5545cf(0x6d0)][_0x5545cf(0x375)](_0x4ca727,{'responseType':_0x5545cf(0x2b9)});U[_0x5545cf(0x291)](_0x14d892,_0x23407f[_0x5545cf(0x28c)]);}else{let _0x311f9a=Buffer['from'](_0x2c0a89,'base64');U['writeFileSync'](_0x14d892,_0x311f9a);}return new Promise((_0x3a552e,_0x518b55)=>{const _0x412184=_0x5545cf;(0x0,Ue['exec'])(Ds[_0x412184(0x6d0)][_0x412184(0x304)]+'\x20-i\x20'+_0x14d892+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x232fb7+_0x412184(0x2a0),_0x49051d=>{const _0x3d6570=_0x412184;if(U[_0x3d6570(0x7bc)](_0x14d892),_0x49051d){this[_0x3d6570(0x8de)][_0x3d6570(0x5ef)](this['instanceName']+'\x20('+this[_0x3d6570(0x665)][_0x3d6570(0x21d)]+_0x3d6570(0x26d)),_0x518b55(_0x49051d);return;}this[_0x3d6570(0x8de)][_0x3d6570(0x5ef)](this['instanceName']+'\x20('+this[_0x3d6570(0x665)]['wuid']+_0x3d6570(0x77a)),_0x3a552e(_0x232fb7);});});}async[a0_0x2f588e(0x256)](_0x261e39){const _0x239a5b=a0_0x2f588e;this[_0x239a5b(0x8de)]['verbose'](this[_0x239a5b(0x763)]+'\x20('+this[_0x239a5b(0x665)][_0x239a5b(0x21d)]+'):Processing\x20audio');let _0x51e143=(0x0,Vt[_0x239a5b(0x462)])('sha256')[_0x239a5b(0x579)](_0x261e39)[_0x239a5b(0x501)](_0x239a5b(0x8b7)),_0x513155=''+(0x0,J[_0x239a5b(0x88b)])(this[_0x239a5b(0x4a4)],_0x51e143+_0x239a5b(0x5d7));if(U[_0x239a5b(0x23a)](_0x513155))return this['logger'][_0x239a5b(0x5ef)](this[_0x239a5b(0x763)]+'\x20('+this[_0x239a5b(0x665)][_0x239a5b(0x21d)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),J[_0x239a5b(0x6d0)]['basename'](_0x513155);let _0x2c475c=''+(0x0,J['join'])(this['storePath'],_0x239a5b(0x512)+_0x51e143+_0x239a5b(0x7a7));if((0x0,F[_0x239a5b(0x5de)])(_0x261e39)){let _0x8965a1=new Date()['getTime'](),_0x31af07=_0x261e39+_0x239a5b(0x64c)+_0x8965a1,_0x2b61a8=await te['default']['get'](_0x31af07,{'responseType':_0x239a5b(0x2b9)});U[_0x239a5b(0x291)](_0x2c475c,_0x2b61a8[_0x239a5b(0x28c)]);}else{let _0x2cd2b3=Buffer[_0x239a5b(0x3fe)](_0x261e39,'base64');U[_0x239a5b(0x291)](_0x2c475c,_0x2cd2b3);}return new Promise((_0x2cab8a,_0x26a4e7)=>{const _0x1303e3=_0x239a5b;(0x0,Ue['exec'])(Ds[_0x1303e3(0x6d0)][_0x1303e3(0x304)]+_0x1303e3(0x3a6)+_0x2c475c+_0x1303e3(0x864)+_0x513155+_0x1303e3(0x2a0),_0x3d3153=>{const _0x47d8c9=_0x1303e3;if(U['unlinkSync'](_0x2c475c),_0x3d3153){this[_0x47d8c9(0x8de)][_0x47d8c9(0x5ef)](this[_0x47d8c9(0x763)]+'\x20('+this[_0x47d8c9(0x665)][_0x47d8c9(0x21d)]+_0x47d8c9(0x26d)),_0x26a4e7(_0x3d3153);return;}this[_0x47d8c9(0x8de)][_0x47d8c9(0x5ef)](this[_0x47d8c9(0x763)]+'\x20('+this[_0x47d8c9(0x665)][_0x47d8c9(0x21d)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x2cab8a(J[_0x47d8c9(0x6d0)][_0x47d8c9(0x3dc)](_0x513155));});});}async[a0_0x2f588e(0x659)](_0x56d1b7){const _0x6d792f=a0_0x2f588e;let _0x5caf58={},_0xe0a32a=_0x6d792f(0x3e4);if(_0x56d1b7[_0x6d792f(0x659)]?.[_0x6d792f(0x793)]){_0xe0a32a=_0x56d1b7[_0x6d792f(0x659)][_0x6d792f(0x793)]?.[_0x6d792f(0x2d0)][_0x6d792f(0x73d)]()??_0x6d792f(0x3e4),_0x5caf58[_0x6d792f(0x81a)]=_0xe0a32a['toLowerCase']()+'Message';let _0x2b3307=await this[_0x6d792f(0x648)](_0x56d1b7[_0x6d792f(0x659)][_0x6d792f(0x793)]);_0x5caf58[_0x6d792f(0x68b)]=_0x2b3307[_0x6d792f(0x68b)][_0x5caf58[_0x6d792f(0x81a)]],_0x5caf58['contentText']='*'+_0x56d1b7[_0x6d792f(0x659)][_0x6d792f(0x2f4)]+_0x6d792f(0x2b8)+_0x56d1b7['buttonMessage']['description'];}let _0x249774={'text':_0x56d1b7[_0x6d792f(0x659)][_0x6d792f(0x213)][_0x6d792f(0x475)](_0x313129=>_0x313129[_0x6d792f(0x87d)]),'ids':_0x56d1b7[_0x6d792f(0x659)]['buttons'][_0x6d792f(0x475)](_0x2e1283=>_0x2e1283[_0x6d792f(0x27d)])};if(!(0x0,F[_0x6d792f(0x341)])(_0x249774[_0x6d792f(0x244)])||!(0x0,F['arrayUnique'])(_0x249774[_0x6d792f(0x61d)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x6d792f(0x313));return await this[_0x6d792f(0x1fd)](_0x56d1b7[_0x6d792f(0x720)],{'buttonsMessage':{'text':_0x5caf58?.[_0x6d792f(0x81a)]?void 0x0:_0x56d1b7[_0x6d792f(0x659)]['title'],'contentText':_0x5caf58?.[_0x6d792f(0x7ff)]??_0x56d1b7[_0x6d792f(0x659)][_0x6d792f(0x2f8)],'footerText':_0x56d1b7[_0x6d792f(0x659)]?.[_0x6d792f(0x596)],'buttons':_0x56d1b7['buttonMessage'][_0x6d792f(0x213)][_0x6d792f(0x475)](_0x1d4469=>({'buttonText':{'displayText':_0x1d4469[_0x6d792f(0x87d)]},'buttonId':_0x1d4469[_0x6d792f(0x27d)],'type':0x1})),'headerType':w[_0x6d792f(0x88e)][_0x6d792f(0x32c)][_0x6d792f(0x311)][_0x6d792f(0x34e)][_0xe0a32a],[_0x5caf58?.['mediaKey']]:_0x5caf58?.[_0x6d792f(0x68b)]}},_0x56d1b7?.[_0x6d792f(0x39d)]);}async['locationMessage'](_0x12b854){const _0xeb21c9=a0_0x2f588e;return await this[_0xeb21c9(0x1fd)](_0x12b854['number'],{'locationMessage':{'degreesLatitude':_0x12b854[_0xeb21c9(0x334)]['latitude'],'degreesLongitude':_0x12b854[_0xeb21c9(0x334)][_0xeb21c9(0x5ac)],'name':_0x12b854[_0xeb21c9(0x334)]?.[_0xeb21c9(0x7dc)],'address':_0x12b854[_0xeb21c9(0x334)]?.[_0xeb21c9(0x37b)]}},_0x12b854?.[_0xeb21c9(0x39d)]);}async[a0_0x2f588e(0x65d)](_0x14c945){const _0x90e136=a0_0x2f588e;let _0x146999={},_0xea67a1=async _0x5352b5=>{const _0x3612a1=a0_0x5c2a;let _0x954b14=_0x3612a1(0x361)+_0x5352b5[_0x3612a1(0x863)]+_0x3612a1(0x527)+_0x5352b5['fullName']+'\x0a';_0x5352b5[_0x3612a1(0x625)]&&(_0x954b14+=_0x3612a1(0x28e)+_0x5352b5[_0x3612a1(0x625)]+';\x0a'),_0x5352b5[_0x3612a1(0x58f)]&&(_0x954b14+=_0x3612a1(0x257)+_0x5352b5[_0x3612a1(0x58f)]+'\x0a'),_0x5352b5[_0x3612a1(0x664)]&&(_0x954b14+='URL:'+_0x5352b5[_0x3612a1(0x664)]+'\x0a');let _0x3e150e='',_0xf8a047=0x1;if(_0x5352b5[_0x3612a1(0x299)]){let _0x2192be=_0x5352b5['phoneNumber'][_0x3612a1(0x50b)]('|');for(let _0x212546 of _0x2192be){let _0x31b66b=await this[_0x3612a1(0x52c)]({'numbers':[_0x212546]}),_0x393602=(_0x31b66b[_0x3612a1(0x8b9)]>0x0?_0x31b66b[0x0][_0x3612a1(0x3a9)]:this[_0x3612a1(0x37f)](_0x212546))[_0x3612a1(0x499)](_0x3612a1(0x53c),'');_0x3e150e+=_0x3612a1(0x675)+_0xf8a047+_0x3612a1(0x7a6)+_0x393602+':'+_0x212546+'\x0aitem'+_0xf8a047+_0x3612a1(0x641),_0xf8a047++;}}return _0x954b14+=_0x3e150e+_0x3612a1(0x78a),_0x954b14;};return _0x14c945[_0x90e136(0x65d)][_0x90e136(0x8b9)]===0x1?_0x146999[_0x90e136(0x65d)]={'displayName':_0x14c945[_0x90e136(0x65d)][0x0][_0x90e136(0x863)],'vcard':await _0xea67a1(_0x14c945[_0x90e136(0x65d)][0x0])}:_0x146999[_0x90e136(0x4a3)]={'displayName':_0x14c945[_0x90e136(0x65d)]['length']+_0x90e136(0x4f3),'contacts':await Promise[_0x90e136(0x57c)](_0x14c945[_0x90e136(0x65d)][_0x90e136(0x475)](async _0x366862=>({'displayName':_0x366862['fullName'],'vcard':await _0xea67a1(_0x366862)})))},await this['sendMessageWithTyping'](_0x14c945[_0x90e136(0x720)],{..._0x146999},_0x14c945?.['options']);}async[a0_0x2f588e(0x6e8)](_0x20eadf){const _0x2c95ba=a0_0x2f588e;return await this[_0x2c95ba(0x1fd)](_0x20eadf[_0x2c95ba(0x6e8)]['key'][_0x2c95ba(0x46d)],{'reactionMessage':{'key':_0x20eadf[_0x2c95ba(0x6e8)][_0x2c95ba(0x920)],'text':_0x20eadf[_0x2c95ba(0x6e8)][_0x2c95ba(0x49a)]}});}async['whatsappNumber'](_0x49ddfc){const _0x5f4990=a0_0x2f588e;let _0x481c13=[];for await(let _0x209859 of _0x49ddfc[_0x5f4990(0x451)]){let _0x551cfb=this['createJid'](_0x209859),_0x209ecb=!0x1;try{if((0x0,w[_0x5f4990(0x7e0)])(_0x551cfb)){let _0x2be37a=(await this['repository'][_0x5f4990(0x40f)][_0x5f4990(0x876)]({'where':{'_id':_0x551cfb}},this[_0x5f4990(0x665)][_0x5f4990(0x21d)]))[_0x5f4990(0x381)];_0x2be37a?(_0x209ecb=!0x0,_0x481c13[_0x5f4990(0x651)](new he(_0x2be37a['id'],_0x209ecb,_0x2be37a?.[_0x5f4990(0x286)]))):(_0x2be37a=await this[_0x5f4990(0x4df)]({'groupJid':_0x551cfb},'inner'),_0x481c13[_0x5f4990(0x651)](new he(_0x2be37a['id'],!!_0x2be37a?.['id'],_0x2be37a?.[_0x5f4990(0x286)])));}else{if(_0x551cfb[_0x5f4990(0x3e8)]('@broadcast'))_0x481c13[_0x5f4990(0x651)](new he(_0x551cfb,!0x0));else{let _0x510cb0=(await this['client']['onWhatsApp'](_0x551cfb))[0x0];_0x481c13[_0x5f4990(0x651)](new he(_0x510cb0[_0x5f4990(0x3a9)],_0x510cb0[_0x5f4990(0x211)]));}}}catch{(0x0,w[_0x5f4990(0x7e0)])(_0x551cfb)||await this['deleteImportedChat'](_0x551cfb),_0x481c13[_0x5f4990(0x651)](new he(_0x209859,!0x1));}}return _0x481c13;}async[a0_0x2f588e(0x627)](_0x32d41e){const _0x5e9bb4=a0_0x2f588e;try{await this[_0x5e9bb4(0x230)]['chat'][_0x5e9bb4(0x876)]({'where':{'_id':_0x32d41e,'imported':!0x0}},this[_0x5e9bb4(0x665)][_0x5e9bb4(0x21d)])&&(await this[_0x5e9bb4(0x230)]['chat']['deleteChat'](_0x32d41e,this[_0x5e9bb4(0x665)][_0x5e9bb4(0x21d)]),this[_0x5e9bb4(0x8de)]['info'](_0x5e9bb4(0x209)+_0x32d41e+_0x5e9bb4(0x3e1)));}catch(_0x4030e4){let _0x37680e=_0x5e9bb4(0x722),_0x4ab666=_0x4030e4 instanceof Error?_0x4030e4[_0x5e9bb4(0x68b)]:typeof _0x4030e4==_0x5e9bb4(0x57a)?JSON['stringify'](_0x4030e4):_0x4030e4,_0xfecb49=_0x37680e+':\x20'+_0x4ab666;this[_0x5e9bb4(0x8de)][_0x5e9bb4(0x20e)](this[_0x5e9bb4(0x763)]+'\x20('+this[_0x5e9bb4(0x665)]['wuid']+_0x5e9bb4(0x52e)+_0xfecb49);}}async[a0_0x2f588e(0x633)](_0x1aecd1){const _0x47e580=a0_0x2f588e;try{let _0x51001e=_0x1aecd1[_0x47e580(0x889)][_0x47e580(0x568)](_0x2645b3=>(0x0,w[_0x47e580(0x7e0)])(_0x2645b3[_0x47e580(0x46d)])||(0x0,w[_0x47e580(0x77c)])(_0x2645b3['remoteJid']))[_0x47e580(0x475)](_0x2f978d=>({'remoteJid':_0x2f978d[_0x47e580(0x46d)],'fromMe':_0x2f978d[_0x47e580(0x741)],'id':_0x2f978d['id']}));await this['client'][_0x47e580(0x889)](_0x51001e);let _0x2115a8=_0x51001e[_0x47e580(0x475)](_0x182b59=>this[_0x47e580(0x62c)](_0x182b59,{'status':_0x47e580(0x881),'owner':this[_0x47e580(0x665)][_0x47e580(0x21d)]})),_0x1a9fce=_0x51001e[_0x47e580(0x475)](_0x13eca7=>this['repository'][_0x47e580(0x40f)][_0x47e580(0x805)]({'where':{'_id':_0x13eca7['remoteJid']}},{'unreadcount':0x0},this[_0x47e580(0x665)][_0x47e580(0x21d)])),[_0x29d9ac,_0x20c0e0]=await Promise[_0x47e580(0x57c)]([Promise['all'](_0x2115a8),Promise['all'](_0x1a9fce)]);return _0x20c0e0[_0x47e580(0x568)](_0x496eeb=>_0x496eeb!==null)[_0x47e580(0x255)](_0xcfe6f1=>{const _0x17639b=_0x47e580;q(this[_0x17639b(0x763)],_0x17639b(0x77d),{'chat':_0xcfe6f1});}),{'message':_0x47e580(0x609),'read':_0x47e580(0x7ab)};}catch(_0x42bb26){let _0x159ec0=_0x47e580(0x437),_0x4f4707=_0x42bb26 instanceof Error?_0x42bb26['message']:typeof _0x42bb26=='object'?JSON[_0x47e580(0x8f1)](_0x42bb26):_0x42bb26,_0x6b5992=_0x159ec0+':\x20'+_0x4f4707;throw this['logger'][_0x47e580(0x20e)](this[_0x47e580(0x763)]+'\x20('+this['instance']['wuid']+_0x47e580(0x52e)+_0x6b5992),new D(_0x6b5992);}}async[a0_0x2f588e(0x756)](_0x4b0c64){const _0x34f82a=a0_0x2f588e;let _0x1b7c7f={'where':{'key':{'remoteJid':_0x4b0c64}},'limit':0x1},_0x18f4a4=await this[_0x34f82a(0x3d0)](_0x1b7c7f);return _0x18f4a4||(this[_0x34f82a(0x8de)][_0x34f82a(0x20e)](_0x34f82a(0x6a5)+_0x4b0c64),null);}async[a0_0x2f588e(0x7a1)](_0x275553){const _0xd2e6e7=a0_0x2f588e;this[_0xd2e6e7(0x8de)][_0xd2e6e7(0x5ef)](this[_0xd2e6e7(0x763)]+'\x20('+this[_0xd2e6e7(0x665)][_0xd2e6e7(0x21d)]+_0xd2e6e7(0x1cd));try{let _0x55f39e=_0x275553[_0xd2e6e7(0x229)],_0x5d7ceb=_0x275553[_0xd2e6e7(0x40f)];if(!_0x55f39e&&_0x5d7ceb?_0x55f39e=await this[_0xd2e6e7(0x756)](_0x5d7ceb):(_0x55f39e=_0x275553[_0xd2e6e7(0x229)],_0x55f39e[_0xd2e6e7(0x4e3)]=_0x55f39e?.['messageTimestamp']??Date['now'](),_0x5d7ceb=_0x55f39e?.[_0xd2e6e7(0x920)]?.['remoteJid']),!_0x55f39e||Object[_0xd2e6e7(0x37a)](_0x55f39e)['length']===0x0)throw new V('Last\x20message\x20not\x20found');this[_0xd2e6e7(0x8de)]['verbose'](this[_0xd2e6e7(0x763)]+'\x20('+this[_0xd2e6e7(0x665)][_0xd2e6e7(0x21d)]+_0xd2e6e7(0x237)+_0x5d7ceb);try{await this['client'][_0xd2e6e7(0x846)]({'archive':_0x275553[_0xd2e6e7(0x1e7)],'lastMessages':[_0x55f39e]},this[_0xd2e6e7(0x37f)](_0x5d7ceb));}catch(_0x65ba88){let _0x2bbcf8=_0xd2e6e7(0x408)+_0x5d7ceb,_0x1df0f2=_0x65ba88 instanceof Error?_0x65ba88['message']:typeof _0x65ba88==_0xd2e6e7(0x57a)?JSON[_0xd2e6e7(0x8f1)](_0x65ba88):_0x65ba88,_0x21b306=_0x2bbcf8+':\x20'+_0x1df0f2;this[_0xd2e6e7(0x8de)][_0xd2e6e7(0x20e)](this['instanceName']+'\x20('+this[_0xd2e6e7(0x665)][_0xd2e6e7(0x21d)]+_0xd2e6e7(0x52e)+_0x21b306);}this[_0xd2e6e7(0x8de)][_0xd2e6e7(0x5ef)](this[_0xd2e6e7(0x763)]+'\x20('+this['instance'][_0xd2e6e7(0x21d)]+_0xd2e6e7(0x736)+_0x5d7ceb);let _0x38b8d7=await this['repository'][_0xd2e6e7(0x40f)][_0xd2e6e7(0x805)]({'where':{'_id':_0x55f39e?.['key']?.['remoteJid']}},{'archived':_0x275553[_0xd2e6e7(0x1e7)]},this[_0xd2e6e7(0x665)][_0xd2e6e7(0x21d)]);return _0x38b8d7?(this[_0xd2e6e7(0x8de)][_0xd2e6e7(0x5ef)](this[_0xd2e6e7(0x763)]+'\x20('+this['instance'][_0xd2e6e7(0x21d)]+_0xd2e6e7(0x851)+JSON[_0xd2e6e7(0x8f1)](_0x38b8d7)),q(this[_0xd2e6e7(0x763)],'chats',{'chat':_0x38b8d7})):this['logger'][_0xd2e6e7(0x20e)](this[_0xd2e6e7(0x763)]+'\x20('+this['instance'][_0xd2e6e7(0x21d)]+_0xd2e6e7(0x5e6)+_0x5d7ceb),{'chatId':_0x5d7ceb,'archived':_0x275553[_0xd2e6e7(0x1e7)]};}catch(_0x5e0b6c){let _0x56ad6d=_0xd2e6e7(0x3f4),_0x1974ff=_0x5e0b6c instanceof Error?_0x5e0b6c[_0xd2e6e7(0x68b)]:typeof _0x5e0b6c==_0xd2e6e7(0x57a)?JSON['stringify'](_0x5e0b6c):_0x5e0b6c,_0x5a86d5=_0x56ad6d+':\x20'+_0x1974ff;throw this[_0xd2e6e7(0x8de)]['error'](this[_0xd2e6e7(0x763)]+'\x20('+this[_0xd2e6e7(0x665)]['wuid']+'):\x20'+_0x5a86d5),new D(_0x5a86d5);}}async[a0_0x2f588e(0x879)](_0xda5b36){const _0x4f3111=a0_0x2f588e;this[_0x4f3111(0x8de)][_0x4f3111(0x5ef)](this[_0x4f3111(0x763)]+'\x20('+this[_0x4f3111(0x665)][_0x4f3111(0x21d)]+_0x4f3111(0x2c1));try{let _0x2acdbb=await this['getLastMessage'](_0xda5b36);if(!_0x2acdbb||Object[_0x4f3111(0x37a)](_0x2acdbb)[_0x4f3111(0x8b9)]===0x0)throw new V(_0x4f3111(0x3b0));let _0x7fa368=_0x2acdbb[0x0];this['logger'][_0x4f3111(0x5ef)](this[_0x4f3111(0x763)]+'\x20('+this['instance'][_0x4f3111(0x21d)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0xda5b36);try{await this[_0x4f3111(0x1dc)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x7fa368[_0x4f3111(0x920)],'messageTimestamp':_0x7fa368['messageTimestamp']}]},this['createJid'](_0xda5b36));}catch(_0x43bf30){this['logger'][_0x4f3111(0x20e)](_0x4f3111(0x408)+_0xda5b36+':\x20'+_0x43bf30[_0x4f3111(0x52b)]());}this[_0x4f3111(0x8de)][_0x4f3111(0x5ef)](this[_0x4f3111(0x763)]+'\x20('+this[_0x4f3111(0x665)][_0x4f3111(0x21d)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0xda5b36);return;}catch(_0x1dd40a){throw this[_0x4f3111(0x8de)][_0x4f3111(0x20e)](this[_0x4f3111(0x763)]+'\x20('+this['instance'][_0x4f3111(0x21d)]+_0x4f3111(0x8bf)+_0x1dd40a['toString']()),new D({'archived':!0x1,'message':[_0x4f3111(0x25c),_0x1dd40a['toString']()]});}}async['deleteMessage'](_0x219ca3){const _0x26a5b8=a0_0x2f588e;try{let _0x26e0fa=await this['client'][_0x26a5b8(0x821)](_0x219ca3['remoteJid'],{'delete':_0x219ca3});try{let _0x4dc4ce=await this['updateMessage'](_0x219ca3,{'status':_0x26a5b8(0x83c),'owner':this['instance']['wuid']});this[_0x26a5b8(0x8de)][_0x26a5b8(0x5ef)](this['instanceName']+'\x20('+this[_0x26a5b8(0x665)]['wuid']+'):\x20updateResult:'+_0x4dc4ce);}catch(_0x36f820){this[_0x26a5b8(0x8de)][_0x26a5b8(0x20e)](_0x26a5b8(0x887)+_0x36f820);}return _0x26e0fa;}catch(_0x3c3974){throw new D(_0x26a5b8(0x8f2),_0x3c3974?.[_0x26a5b8(0x52b)]());}}async[a0_0x2f588e(0x1dd)](_0xe4f323){const _0x562f22=a0_0x2f588e;try{let _0x2f35dc=_0xe4f323?.[_0x562f22(0x68b)]?_0xe4f323:await this[_0x562f22(0x8a4)](_0xe4f323[_0x562f22(0x920)],!0x0);for(let _0x11cdf0 of $a)_0x2f35dc[_0x562f22(0x68b)][_0x11cdf0]&&(_0x2f35dc[_0x562f22(0x68b)]=_0x2f35dc[_0x562f22(0x68b)][_0x11cdf0]['message']);let _0x4d950a,_0x39fd9b;for(let _0x15fb47 of Na)if(_0x4d950a=_0x2f35dc[_0x562f22(0x68b)][_0x15fb47],_0x4d950a){_0x39fd9b=_0x15fb47;break;}if(!_0x4d950a)throw _0x562f22(0x45b);typeof _0x4d950a[_0x562f22(0x81a)]==_0x562f22(0x57a)&&(_0x2f35dc[_0x562f22(0x68b)]=JSON[_0x562f22(0x2a3)](JSON[_0x562f22(0x8f1)](_0x2f35dc[_0x562f22(0x68b)])));let _0x278197=await(0x0,w[_0x562f22(0x740)])({'key':_0x2f35dc?.[_0x562f22(0x920)],'message':_0x2f35dc?.[_0x562f22(0x68b)]},_0x562f22(0x8af),{},{'logger':(0x0,Jt[_0x562f22(0x6d0)])({'level':'silent'}),'reuploadRequest':this['client'][_0x562f22(0x5b9)]});if(!(_0x278197 instanceof Buffer))throw new Error(_0x562f22(0x422));let _0x39823f=this[_0x562f22(0x521)][_0x562f22(0x375)]('DATABASE'),_0x17adf1,_0x4b2f28;if(_0x4d950a[_0x562f22(0x6d8)])_0x17adf1=_0x4d950a[_0x562f22(0x6d8)];else{let _0x1f3413=_0x4d950a['mimetype']?.[_0x562f22(0x5a5)](/\/(\w+)/),_0x57a1d2=_0x1f3413?_0x1f3413[0x1]:null;if(!_0x57a1d2)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x17adf1=(0x0,X['v4'])()+'.'+_0x57a1d2;}_0x39fd9b==='audioMessage'?_0x4b2f28=_0x562f22(0x6c2)+await this[_0x562f22(0x256)](_0x278197['toString']('base64')):(await this[_0x562f22(0x2c3)](_0x278197,_0x17adf1),_0x4b2f28=_0x562f22(0x6c2)+_0x17adf1);let _0x3d36f0=this[_0x562f22(0x521)][_0x562f22(0x375)](_0x562f22(0x50e))['URL'];if(!_0x3d36f0){let _0x11ebf9=this[_0x562f22(0x521)][_0x562f22(0x375)](_0x562f22(0x8b3));_0x3d36f0=_0x562f22(0x6fb)+(_0x11ebf9&&_0x11ebf9[_0x562f22(0x447)][_0x562f22(0x50b)]('/')[0x4]);}_0x4b2f28=''+_0x3d36f0+_0x4b2f28;let _0x5f0777=0xc*0x3c*0x3c*0x3e8,_0x38c6b5={'where':{'_id':_0x2f35dc['key']['id']}},_0x3b2c96={'message_normalized.fileUrl':_0x4b2f28,'message_normalized.expires_fileUrl':Date[_0x562f22(0x71f)]()+_0x5f0777};try{let _0x2c7c07=await this[_0x562f22(0x230)][_0x562f22(0x68b)][_0x562f22(0x579)](_0x38c6b5,_0x3b2c96,this['instance']['wuid']);_0x2c7c07&&q(this['instanceName'],'messages',{'message':_0x2c7c07});}catch(_0x449d46){let _0xb31766=_0x562f22(0x588),_0x3c0b44=_0x449d46 instanceof Error?_0x449d46[_0x562f22(0x68b)]:typeof _0x449d46==_0x562f22(0x57a)?JSON[_0x562f22(0x8f1)](_0x449d46):_0x449d46,_0x2d4261=_0xb31766+':\x20'+_0x3c0b44;this[_0x562f22(0x8de)][_0x562f22(0x20e)](this[_0x562f22(0x763)]+'\x20('+this[_0x562f22(0x665)][_0x562f22(0x21d)]+_0x562f22(0x52e)+_0x2d4261);}return{'mediaType':_0x39fd9b,'fileName':_0x4d950a[_0x562f22(0x6d8)],'caption':_0x4d950a[_0x562f22(0x1f0)],'size':{'fileLength':_0x4d950a[_0x562f22(0x47d)],'height':_0x4d950a[_0x562f22(0x7c4)],'width':_0x4d950a[_0x562f22(0x2dd)]},'mimetype':_0x4d950a[_0x562f22(0x1fe)],'base64':_0x278197['toString'](_0x562f22(0x747)),'fileUrl':_0x4b2f28,'expires_fileUrl':Date[_0x562f22(0x71f)]()+_0x5f0777};}catch(_0x5fceb7){let _0x56c739='Falha\x20ao\x20processar\x20a\x20solicitação',_0x291d5c=_0x5fceb7 instanceof Error?_0x5fceb7[_0x562f22(0x68b)]:typeof _0x5fceb7==_0x562f22(0x57a)?JSON[_0x562f22(0x8f1)](_0x5fceb7):_0x5fceb7,_0x393858=_0x56c739+':\x20'+_0x291d5c;throw this[_0x562f22(0x8de)][_0x562f22(0x20e)](this[_0x562f22(0x763)]+'\x20('+this[_0x562f22(0x665)][_0x562f22(0x21d)]+'):\x20'+_0x393858),new m(_0x393858);}}async[a0_0x2f588e(0x2c3)](_0x3e2182,_0x1b46d4){const _0x51e2b9=a0_0x2f588e;let _0x52d14f=J['default'][_0x51e2b9(0x88b)](__dirname,_0x51e2b9(0x668));U[_0x51e2b9(0x23a)](_0x52d14f)||U[_0x51e2b9(0x812)](_0x52d14f,{'recursive':!0x0});let _0x414350=J[_0x51e2b9(0x6d0)][_0x51e2b9(0x88b)](_0x52d14f,_0x1b46d4);return new Promise((_0x346d5e,_0x42c7bb)=>{const _0xd800bf=_0x51e2b9;U[_0xd800bf(0x2e2)](_0x414350,_0x3e2182,_0x138c0c=>{const _0x5a0f1a=_0xd800bf;_0x138c0c?(this['logger'][_0x5a0f1a(0x20e)]('Error\x20writing\x20file:\x20'+(_0x138c0c instanceof Error?_0x138c0c[_0x5a0f1a(0x68b)]:JSON['stringify'](_0x138c0c,null,0x2))),_0x42c7bb(_0x138c0c)):(this[_0x5a0f1a(0x8de)][_0x5a0f1a(0x449)]('File\x20written\x20to\x20path:\x20'+_0x414350),_0x346d5e(_0x414350));});});}async['fetchContacts'](_0x43240c){const _0x253a91=a0_0x2f588e;return await this[_0x253a91(0x230)][_0x253a91(0x61e)][_0x253a91(0x3b1)](_0x43240c,this[_0x253a91(0x665)]['wuid']);}async['fetchLabels'](){const _0x36cf06=a0_0x2f588e;return await this['repository'][_0x36cf06(0x7b3)][_0x36cf06(0x3b1)]({'where':{}},this[_0x36cf06(0x665)][_0x36cf06(0x21d)]);}async[a0_0x2f588e(0x3d0)](_0x18adc8){const _0x12e744=a0_0x2f588e;return await this['repository'][_0x12e744(0x68b)][_0x12e744(0x3b1)](_0x18adc8,this[_0x12e744(0x665)][_0x12e744(0x21d)]);}async[a0_0x2f588e(0x78f)](){const _0x4e02af=a0_0x2f588e;return this[_0x4e02af(0x230)][_0x4e02af(0x40f)][_0x4e02af(0x1db)](this['instance'][_0x4e02af(0x21d)]),this[_0x4e02af(0x230)][_0x4e02af(0x40f)]['updateMissingEtiquetas'](this[_0x4e02af(0x665)][_0x4e02af(0x21d)]),this[_0x4e02af(0x230)][_0x4e02af(0x40f)][_0x4e02af(0x907)](this[_0x4e02af(0x665)][_0x4e02af(0x21d)]),this[_0x4e02af(0x230)][_0x4e02af(0x40f)][_0x4e02af(0x7f5)](this[_0x4e02af(0x665)]['wuid']),await this[_0x4e02af(0x230)][_0x4e02af(0x40f)][_0x4e02af(0x3b1)]({'where':{}},this[_0x4e02af(0x665)][_0x4e02af(0x21d)]);}async['importChatsAntigo'](_0x27a032){const _0x196910=a0_0x2f588e;try{if(!Array['isArray'](_0x27a032)||_0x27a032[_0x196910(0x8b9)]===0x0)throw new Error(_0x196910(0x1d6));let _0x41788b=[],_0x18bc2b=[];for(let _0x398db7 of _0x27a032){if(_0x398db7[_0x196910(0x461)])_0x398db7[_0x196910(0x461)]=this[_0x196910(0x37f)](_0x398db7['_id']);else continue;await this[_0x196910(0x230)][_0x196910(0x40f)][_0x196910(0x876)]({'where':{'_id':_0x398db7[_0x196910(0x461)]}},this[_0x196910(0x665)][_0x196910(0x21d)])?_0x18bc2b['push']({'_id':_0x398db7[_0x196910(0x461)],'leadInfo':_0x398db7[_0x196910(0x4bb)],'owner':this['instance'][_0x196910(0x21d)]}):_0x41788b[_0x196910(0x651)]({'_id':_0x398db7[_0x196910(0x461)],'owner':this[_0x196910(0x665)]['wuid'],'leadInfo':_0x398db7[_0x196910(0x4bb)],'imported':!0x0});}return _0x18bc2b[_0x196910(0x8b9)]>0x0&&await this[_0x196910(0x230)][_0x196910(0x40f)][_0x196910(0x883)](_0x18bc2b[_0x196910(0x475)](_0x543b69=>({'query':{'where':{'_id':_0x543b69[_0x196910(0x461)],'owner':this[_0x196910(0x665)][_0x196910(0x21d)]}},'update':_0x543b69}))),_0x41788b[_0x196910(0x8b9)]>0x0&&await this[_0x196910(0x230)][_0x196910(0x40f)][_0x196910(0x539)](_0x41788b,this[_0x196910(0x665)][_0x196910(0x21d)]),{'updated':_0x18bc2b['length'],'inserted':_0x41788b[_0x196910(0x8b9)]};}catch(_0x3cf246){let _0x13f7e8=_0x196910(0x56b),_0x93ba82=_0x3cf246 instanceof Error?_0x3cf246[_0x196910(0x68b)]:typeof _0x3cf246==_0x196910(0x57a)?JSON[_0x196910(0x8f1)](_0x3cf246):_0x3cf246,_0x5eb754=_0x13f7e8+':\x20'+_0x93ba82;throw this[_0x196910(0x8de)][_0x196910(0x20e)](this[_0x196910(0x763)]+'\x20('+this[_0x196910(0x665)][_0x196910(0x21d)]+_0x196910(0x52e)+_0x5eb754),new m(_0x5eb754);}}async[a0_0x2f588e(0x426)](_0x98dd39){const _0x3351ba=a0_0x2f588e;try{if(!Array[_0x3351ba(0x3e5)](_0x98dd39)||_0x98dd39[_0x3351ba(0x8b9)]===0x0)throw new Error(_0x3351ba(0x1d6));let _0x381f80=0x64,_0x2d7b75=0x0;for(let _0x2a110c=0x0;_0x2a110c<_0x98dd39['length'];_0x2a110c+=_0x381f80){let _0x76f56d=_0x98dd39[_0x3351ba(0x629)](_0x2a110c,_0x2a110c+_0x381f80),{updated:_0x1e5877}=await this[_0x3351ba(0x782)](_0x76f56d);_0x2d7b75+=_0x1e5877;}return{'updated':_0x2d7b75};}catch(_0x3b7005){let _0x2a9d02=_0x3351ba(0x56b),_0x13212b=_0x3b7005 instanceof Error?_0x3b7005['message']:typeof _0x3b7005==_0x3351ba(0x57a)?JSON['stringify'](_0x3b7005):_0x3b7005,_0x3e9e20=_0x2a9d02+':\x20'+_0x13212b;throw this[_0x3351ba(0x8de)]['error'](this[_0x3351ba(0x763)]+'\x20('+this[_0x3351ba(0x665)][_0x3351ba(0x21d)]+'):\x20'+_0x3e9e20),new m(_0x3e9e20);}}async['importChatsBatch'](_0x49b22c){const _0x20edc6=a0_0x2f588e;try{let _0x144897=await this[_0x20edc6(0x230)][_0x20edc6(0x7b3)][_0x20edc6(0x3b1)]({'where':{}},this[_0x20edc6(0x665)][_0x20edc6(0x21d)]),_0x1ed762=new Set(_0x144897[_0x20edc6(0x475)](_0x463d0c=>_0x463d0c[_0x20edc6(0x461)])),_0x551e2d=[],_0x1065cf=[];for(let _0x11ad1d of _0x49b22c){if(!_0x11ad1d[_0x20edc6(0x461)])continue;_0x11ad1d['_id']=this['createJid'](_0x11ad1d[_0x20edc6(0x461)]);let _0x61ee8b=await this[_0x20edc6(0x230)][_0x20edc6(0x40f)][_0x20edc6(0x876)]({'where':{'_id':_0x11ad1d[_0x20edc6(0x461)]}},this[_0x20edc6(0x665)][_0x20edc6(0x21d)]),_0x967c={};if(Object[_0x20edc6(0x5c5)](_0x11ad1d['leadInfo'])[_0x20edc6(0x255)](([_0x37e872,_0x48fea8])=>{const _0x50905f=_0x20edc6;_0x967c[_0x50905f(0x7e7)+_0x37e872]=_0x48fea8;}),_0x61ee8b&&!_0x61ee8b[_0x20edc6(0x6ad)]){let _0x54fa35=(_0x11ad1d[_0x20edc6(0x4bb)][_0x20edc6(0x1d8)]||[])[_0x20edc6(0x568)](_0x128f89=>_0x1ed762[_0x20edc6(0x726)](_0x128f89)),_0x2fb59d=new Set(_0x61ee8b[_0x20edc6(0x4bb)][_0x20edc6(0x1d8)]||[]),_0x26c1c6=_0x54fa35[_0x20edc6(0x568)](_0x43a81c=>!_0x2fb59d['has'](_0x43a81c)),_0xa2ad2f=[..._0x2fb59d][_0x20edc6(0x568)](_0x6d97e1=>!_0x54fa35[_0x20edc6(0x3e8)](_0x6d97e1));_0x1065cf[_0x20edc6(0x651)](..._0x26c1c6['map'](_0x35d3ba=>this['AddChatLabel'](_0x35d3ba,_0x11ad1d['_id']))),_0x1065cf[_0x20edc6(0x651)](..._0xa2ad2f['map'](_0x4d005c=>this['RemoveChatLabel'](_0x4d005c,_0x11ad1d[_0x20edc6(0x461)]))),_0x11ad1d[_0x20edc6(0x4bb)][_0x20edc6(0x1d8)]=_0x54fa35,_0x551e2d[_0x20edc6(0x651)]({'query':{'where':{'_id':_0x11ad1d[_0x20edc6(0x461)],'owner':this['instance'][_0x20edc6(0x21d)]}},'update':_0x967c});}else _0x967c['imported']=!0x0,_0x551e2d['push']({'query':{'where':{'_id':_0x11ad1d[_0x20edc6(0x461)],'owner':this[_0x20edc6(0x665)]['wuid']}},'update':_0x967c});}let _0x51498b=await this[_0x20edc6(0x230)][_0x20edc6(0x40f)][_0x20edc6(0x883)](_0x551e2d);return await Promise[_0x20edc6(0x57c)](_0x1065cf),{'updated':_0x51498b};}catch(_0x4a6342){let _0x46f120=_0x20edc6(0x56b),_0x35ee31=_0x4a6342 instanceof Error?_0x4a6342[_0x20edc6(0x68b)]:typeof _0x4a6342==_0x20edc6(0x57a)?JSON['stringify'](_0x4a6342):_0x4a6342,_0x3702cb=_0x46f120+':\x20'+_0x35ee31;throw this['logger'][_0x20edc6(0x20e)](this[_0x20edc6(0x763)]+'\x20('+this[_0x20edc6(0x665)][_0x20edc6(0x21d)]+'):\x20'+_0x3702cb),new m(_0x3702cb);}}async[a0_0x2f588e(0x727)](){return await this['client']['fetchPrivacySettings']();}async[a0_0x2f588e(0x803)](_0x1b8b6a){const _0x12dd3d=a0_0x2f588e;try{return await this[_0x12dd3d(0x1dc)][_0x12dd3d(0x517)](_0x1b8b6a[_0x12dd3d(0x36a)]['readreceipts']),await this['client']['updateProfilePicturePrivacy'](_0x1b8b6a[_0x12dd3d(0x36a)][_0x12dd3d(0x839)]),await this[_0x12dd3d(0x1dc)][_0x12dd3d(0x4eb)](_0x1b8b6a[_0x12dd3d(0x36a)]['status']),await this[_0x12dd3d(0x1dc)][_0x12dd3d(0x292)](_0x1b8b6a[_0x12dd3d(0x36a)][_0x12dd3d(0x3b9)]),await this['client'][_0x12dd3d(0x42e)](_0x1b8b6a['privacySettings'][_0x12dd3d(0x910)]),await this['client']['updateGroupsAddPrivacy'](_0x1b8b6a['privacySettings'][_0x12dd3d(0x3d8)]),this[_0x12dd3d(0x1dc)]?.['ws']?.[_0x12dd3d(0x70a)](),{'update':_0x12dd3d(0x7ab),'data':{'readreceipts':_0x1b8b6a[_0x12dd3d(0x36a)][_0x12dd3d(0x226)],'profile':_0x1b8b6a[_0x12dd3d(0x36a)][_0x12dd3d(0x839)],'status':_0x1b8b6a[_0x12dd3d(0x36a)]['status'],'online':_0x1b8b6a[_0x12dd3d(0x36a)]['online'],'last':_0x1b8b6a[_0x12dd3d(0x36a)][_0x12dd3d(0x910)],'groupadd':_0x1b8b6a['privacySettings'][_0x12dd3d(0x3d8)]}};}catch(_0x1a224b){let _0x5b6cc6=_0x12dd3d(0x4e2),_0x510091=_0x1a224b instanceof Error?_0x1a224b['message']:typeof _0x1a224b==_0x12dd3d(0x57a)?JSON['stringify'](_0x1a224b):_0x1a224b,_0x2dcb09=_0x5b6cc6+':\x20'+_0x510091;throw this['logger'][_0x12dd3d(0x20e)](this[_0x12dd3d(0x763)]+'\x20('+this[_0x12dd3d(0x665)][_0x12dd3d(0x21d)]+_0x12dd3d(0x52e)+_0x2dcb09),new m(_0x2dcb09);}}async[a0_0x2f588e(0x64d)](_0x219d3a){const _0x21a27e=a0_0x2f588e;let _0x50ca1e=(_0x219d3a?this[_0x21a27e(0x37f)](_0x219d3a):this[_0x21a27e(0x1dc)]?.['user']?.['id'])[_0x21a27e(0x499)](/:\d{1,2}@/g,'@');this[_0x21a27e(0x8de)][_0x21a27e(0x5ef)](this[_0x21a27e(0x763)]+'\x20('+this[_0x21a27e(0x665)][_0x21a27e(0x21d)]+_0x21a27e(0x8d6)+_0x50ca1e);let _0x21fce4=await this['repository']['contact']['findOne']({'where':{'_id':_0x50ca1e}},this[_0x21a27e(0x665)]['wuid']),_0x5d3fa3=_0x21fce4?_0x21fce4[_0x21a27e(0x913)]:null;try{let _0x4e906d=(await this[_0x21a27e(0x52c)]({'numbers':[_0x50ca1e]}))?.['shift'](),_0x4a8bed=(await this[_0x21a27e(0x7b0)](_0x50ca1e,null,!0x1))[_0x21a27e(0x6e6)][_0x21a27e(0x26e)],_0x1c9edb=await this[_0x21a27e(0x612)](_0x4e906d?.[_0x21a27e(0x3a9)]),_0x3d9b06=await this[_0x21a27e(0x60d)](_0x4e906d?.[_0x21a27e(0x3a9)]),_0x3266b2=(await this[_0x21a27e(0x7b0)](_0x50ca1e,null,!0x1))['cachedContact'][_0x21a27e(0x7dc)],_0x4eb5cd=await this[_0x21a27e(0x230)][_0x21a27e(0x40f)][_0x21a27e(0x876)]({'where':{'_id':_0x50ca1e}},this[_0x21a27e(0x665)][_0x21a27e(0x21d)]),_0x11eef9={'imagechat':_0x4a8bed,'contactname':_0x5d3fa3||null,'pushName':_0x3266b2,'status':_0x1c9edb?.['status'],'isBusiness':_0x3d9b06[_0x21a27e(0x571)],'email':_0x3d9b06?.[_0x21a27e(0x58f)],'description':_0x3d9b06?.[_0x21a27e(0x2f8)],'website':_0x3d9b06?.[_0x21a27e(0x413)]?.['shift'](),'lastcache':Date[_0x21a27e(0x71f)](),'imported':!_0x4eb5cd},_0x38874a=await this[_0x21a27e(0x230)][_0x21a27e(0x40f)][_0x21a27e(0x805)]({'where':{'_id':_0x50ca1e}},_0x11eef9,this['instance'][_0x21a27e(0x21d)]),_0x2625e5={'owner':this[_0x21a27e(0x665)][_0x21a27e(0x21d)],'_id':_0x50ca1e,'profilePictureUrl':_0x4a8bed,'status':_0x1c9edb?.['status']};return this['repository'][_0x21a27e(0x61e)][_0x21a27e(0x579)]([_0x2625e5],this['instance'][_0x21a27e(0x21d)]),_0x38874a&&q(this['instanceName'],_0x21a27e(0x77d),{'chat':_0x38874a}),{'wuid':_0x4e906d?.[_0x21a27e(0x3a9)]||_0x50ca1e,'name':_0x4e906d?.[_0x21a27e(0x7dc)],'pushName':_0x3266b2,'numberExists':_0x4e906d?.[_0x21a27e(0x211)],'picture':_0x4a8bed,'status':_0x1c9edb?.['status'],'isBusiness':_0x3d9b06[_0x21a27e(0x571)],'email':_0x3d9b06?.[_0x21a27e(0x58f)],'description':_0x3d9b06?.[_0x21a27e(0x2f8)],'website':_0x3d9b06?.[_0x21a27e(0x413)]?.[_0x21a27e(0x4a8)]()};}catch(_0x323bec){return this[_0x21a27e(0x8de)]['error']('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x323bec instanceof Error?_0x323bec['message']:JSON[_0x21a27e(0x8f1)](_0x323bec,null,0x2))),{};}}async[a0_0x2f588e(0x60d)](_0x266ef8){const _0x47ae71=a0_0x2f588e;this[_0x47ae71(0x8de)][_0x47ae71(0x5ef)](this[_0x47ae71(0x763)]+'\x20('+this['instance']['wuid']+_0x47ae71(0x7b9));try{let _0x2dbf58=_0x266ef8?this[_0x47ae71(0x37f)](_0x266ef8):this['instance'][_0x47ae71(0x21d)],_0x8177cc=await this[_0x47ae71(0x1dc)][_0x47ae71(0x563)](_0x2dbf58);return this[_0x47ae71(0x8de)][_0x47ae71(0x5ef)](this[_0x47ae71(0x763)]+'\x20('+this['instance'][_0x47ae71(0x21d)]+_0x47ae71(0x72e)),_0x8177cc?(this[_0x47ae71(0x8de)][_0x47ae71(0x5ef)](this[_0x47ae71(0x763)]+'\x20('+this[_0x47ae71(0x665)][_0x47ae71(0x21d)]+_0x47ae71(0x8ac)),{'isBusiness':!0x0,..._0x8177cc}):{'isBusiness':!0x1,'message':_0x47ae71(0x1fb),...(await this[_0x47ae71(0x52c)]({'numbers':[_0x2dbf58]}))?.['shift']()};}catch(_0x251ee7){let _0x1d9cc3=_0x47ae71(0x442),_0xbf6842=_0x251ee7 instanceof Error?_0x251ee7['message']:typeof _0x251ee7==_0x47ae71(0x57a)?JSON[_0x47ae71(0x8f1)](_0x251ee7):_0x251ee7,_0x1adf7f=_0x1d9cc3+':\x20'+_0xbf6842;throw this['logger'][_0x47ae71(0x20e)](this[_0x47ae71(0x763)]+'\x20('+this[_0x47ae71(0x665)][_0x47ae71(0x21d)]+_0x47ae71(0x52e)+_0x1adf7f),new D(_0x1adf7f);}}async[a0_0x2f588e(0x612)](_0x405b0b){const _0x3dc4f3=a0_0x2f588e;let _0x41c1a1=this['createJid'](_0x405b0b);try{return{'wuid':_0x41c1a1,'status':(await this[_0x3dc4f3(0x1dc)][_0x3dc4f3(0x36c)](_0x41c1a1))?.[_0x3dc4f3(0x3f3)]};}catch{return{'wuid':_0x41c1a1,'status':null};}}async['updateProfileName'](_0x1bade1){const _0x35200c=a0_0x2f588e;try{return await this['client'][_0x35200c(0x827)](_0x1bade1),{'update':_0x35200c(0x7ab)};}catch(_0x2de6aa){let _0x3213c0=_0x35200c(0x23f),_0x552c04=_0x2de6aa instanceof Error?_0x2de6aa[_0x35200c(0x68b)]:typeof _0x2de6aa==_0x35200c(0x57a)?JSON['stringify'](_0x2de6aa):_0x2de6aa,_0x51bc45=_0x3213c0+':\x20'+_0x552c04;throw this[_0x35200c(0x8de)][_0x35200c(0x20e)](this[_0x35200c(0x763)]+'\x20('+this[_0x35200c(0x665)]['wuid']+_0x35200c(0x52e)+_0x51bc45),new D(_0x51bc45);}}async[a0_0x2f588e(0x4e6)](_0x2d48cb){const _0x156bf5=a0_0x2f588e;try{return await this[_0x156bf5(0x1dc)][_0x156bf5(0x4e6)](_0x2d48cb),{'update':_0x156bf5(0x7ab)};}catch(_0x565705){let _0x55dbdd=_0x156bf5(0x3df),_0x39d0b4=_0x565705 instanceof Error?_0x565705[_0x156bf5(0x68b)]:typeof _0x565705=='object'?JSON[_0x156bf5(0x8f1)](_0x565705):_0x565705,_0xfa990b=_0x55dbdd+':\x20'+_0x39d0b4;throw this['logger'][_0x156bf5(0x20e)](this[_0x156bf5(0x763)]+'\x20('+this[_0x156bf5(0x665)][_0x156bf5(0x21d)]+_0x156bf5(0x52e)+_0xfa990b),new D(_0xfa990b);}}async[a0_0x2f588e(0x59a)](_0x302e5d){const _0x40ae68=a0_0x2f588e;try{let _0x4acf77;if((0x0,F[_0x40ae68(0x5de)])(_0x302e5d)){let _0x4dc9a9=new Date()[_0x40ae68(0x427)](),_0x416824=_0x302e5d+_0x40ae68(0x64c)+_0x4dc9a9;_0x4acf77=(await te[_0x40ae68(0x6d0)][_0x40ae68(0x375)](_0x416824,{'responseType':_0x40ae68(0x2b9)}))[_0x40ae68(0x28c)];}else{if((0x0,F[_0x40ae68(0x5e7)])(_0x302e5d))_0x4acf77=Buffer[_0x40ae68(0x3fe)](_0x302e5d,_0x40ae68(0x747));else throw new m(_0x40ae68(0x36d));}return await this[_0x40ae68(0x1dc)][_0x40ae68(0x59a)](this[_0x40ae68(0x665)][_0x40ae68(0x21d)],_0x4acf77),{'update':_0x40ae68(0x7ab)};}catch(_0x181824){let _0x4e26ad=_0x40ae68(0x8e6),_0x3684f4=_0x181824 instanceof Error?_0x181824[_0x40ae68(0x68b)]:typeof _0x181824==_0x40ae68(0x57a)?JSON[_0x40ae68(0x8f1)](_0x181824):_0x181824,_0x578403=_0x4e26ad+':\x20'+_0x3684f4;throw this['logger'][_0x40ae68(0x20e)](this['instanceName']+'\x20('+this[_0x40ae68(0x665)][_0x40ae68(0x21d)]+_0x40ae68(0x52e)+_0x578403),new D(_0x578403);}}async[a0_0x2f588e(0x42c)](){const _0x3478f0=a0_0x2f588e;try{return await this[_0x3478f0(0x1dc)][_0x3478f0(0x42c)](this['instance'][_0x3478f0(0x21d)]),{'update':_0x3478f0(0x7ab)};}catch(_0x215635){let _0x54d878=_0x3478f0(0x83e),_0x5b8a1c=_0x215635 instanceof Error?_0x215635['message']:typeof _0x215635==_0x3478f0(0x57a)?JSON[_0x3478f0(0x8f1)](_0x215635):_0x215635,_0x3f1cfd=_0x54d878+':\x20'+_0x5b8a1c;throw this[_0x3478f0(0x8de)][_0x3478f0(0x20e)](this['instanceName']+'\x20('+this[_0x3478f0(0x665)][_0x3478f0(0x21d)]+_0x3478f0(0x52e)+_0x3f1cfd),new D(_0x3f1cfd);}}async[a0_0x2f588e(0x62e)](_0x562416){const _0x2b7ab6=a0_0x2f588e;try{let _0x1c949d=(await this[_0x2b7ab6(0x52c)]({'numbers':_0x562416['participants']}))['filter'](_0x3198e4=>_0x3198e4[_0x2b7ab6(0x211)])[_0x2b7ab6(0x475)](_0x321f26=>_0x321f26[_0x2b7ab6(0x3a9)]),{id:_0x150bb5}=await this[_0x2b7ab6(0x1dc)][_0x2b7ab6(0x2bc)](_0x562416[_0x2b7ab6(0x286)],_0x1c949d);_0x562416?.['description']&&await this['client'][_0x2b7ab6(0x72b)](_0x150bb5,_0x562416[_0x2b7ab6(0x2f8)]);let _0x1196bb=await this[_0x2b7ab6(0x1dc)][_0x2b7ab6(0x56c)](_0x150bb5);return _0x1196bb['awaitingApproval']=[],{'metadata':_0x1196bb};}catch(_0x5b8d18){let _0xf07273=_0x2b7ab6(0x488),_0x3aa3c8=_0x5b8d18 instanceof Error?_0x5b8d18[_0x2b7ab6(0x68b)]:typeof _0x5b8d18==_0x2b7ab6(0x57a)?JSON['stringify'](_0x5b8d18):_0x5b8d18,_0x12695b=_0xf07273+':\x20'+_0x3aa3c8;throw this[_0x2b7ab6(0x8de)][_0x2b7ab6(0x20e)](this[_0x2b7ab6(0x763)]+'\x20('+this[_0x2b7ab6(0x665)]['wuid']+_0x2b7ab6(0x52e)+_0x12695b),new D(_0x12695b);}}async['groupBetterSetting'](_0x3189d2){const _0x2129fb=a0_0x2f588e;try{if(_0x3189d2[_0x2129fb(0x7cb)]===!0x0&&await this[_0x2129fb(0x1dc)]['groupSettingUpdate'](_0x3189d2['groupJid'],_0x2129fb(0x406)),_0x3189d2[_0x2129fb(0x7cb)]===!0x1&&await this[_0x2129fb(0x1dc)]['groupSettingUpdate'](_0x3189d2[_0x2129fb(0x557)],'unlocked'),_0x3189d2[_0x2129fb(0x607)]===!0x0&&await this[_0x2129fb(0x1dc)][_0x2129fb(0x4dc)](_0x3189d2[_0x2129fb(0x557)],_0x2129fb(0x8ca)),_0x3189d2[_0x2129fb(0x607)]===!0x1&&await this[_0x2129fb(0x1dc)][_0x2129fb(0x4dc)](_0x3189d2['groupJid'],_0x2129fb(0x275)),_0x3189d2[_0x2129fb(0x1eb)]===!0x0&&await this[_0x2129fb(0x1dc)][_0x2129fb(0x4ff)](_0x3189d2[_0x2129fb(0x557)],_0x2129fb(0x2dc)),_0x3189d2['memberAddMode']===!0x1&&await this[_0x2129fb(0x1dc)][_0x2129fb(0x4ff)](_0x3189d2[_0x2129fb(0x557)],_0x2129fb(0x3c6)),_0x3189d2[_0x2129fb(0x8f9)]===!0x0&&await this['client'][_0x2129fb(0x247)](_0x3189d2[_0x2129fb(0x557)],'on'),_0x3189d2[_0x2129fb(0x8f9)]===!0x1&&await this[_0x2129fb(0x1dc)][_0x2129fb(0x247)](_0x3189d2['groupJid'],_0x2129fb(0x8fc)),typeof _0x3189d2['expiration']<'u'&&_0x3189d2[_0x2129fb(0x8ef)]!==null&&await this['client'][_0x2129fb(0x206)](_0x3189d2[_0x2129fb(0x557)],_0x3189d2['expiration']),_0x3189d2[_0x2129fb(0x7dc)]&&await this['client'][_0x2129fb(0x915)](_0x3189d2['groupJid'],_0x3189d2[_0x2129fb(0x7dc)]),_0x3189d2[_0x2129fb(0x2f8)]&&await this['client'][_0x2129fb(0x72b)](_0x3189d2['groupJid'],_0x3189d2[_0x2129fb(0x2f8)]),_0x3189d2['image']){let _0xbce449;if((0x0,F[_0x2129fb(0x5de)])(_0x3189d2[_0x2129fb(0x67a)])){let _0x29115f=new Date()[_0x2129fb(0x427)](),_0x1f4386=_0x3189d2['image']+_0x2129fb(0x64c)+_0x29115f;_0xbce449=(await te[_0x2129fb(0x6d0)][_0x2129fb(0x375)](_0x1f4386,{'responseType':_0x2129fb(0x2b9)}))[_0x2129fb(0x28c)];}else{if((0x0,F['isBase64'])(_0x3189d2['image']))_0xbce449=Buffer[_0x2129fb(0x3fe)](_0x3189d2['image'],_0x2129fb(0x747));else throw new m(_0x2129fb(0x36d));}await this[_0x2129fb(0x1dc)][_0x2129fb(0x59a)](_0x3189d2[_0x2129fb(0x557)],_0xbce449);}return await this[_0x2129fb(0x4df)]({'groupJid':_0x3189d2[_0x2129fb(0x557)]});}catch(_0x3142cc){let _0x310519=_0x2129fb(0x582),_0x1dafa6=_0x3142cc instanceof Error?_0x3142cc['message']:typeof _0x3142cc==_0x2129fb(0x57a)?JSON[_0x2129fb(0x8f1)](_0x3142cc):_0x3142cc,_0x49f6c=_0x310519+':\x20'+_0x1dafa6;throw this['logger'][_0x2129fb(0x20e)](this[_0x2129fb(0x763)]+'\x20('+this['instance'][_0x2129fb(0x21d)]+_0x2129fb(0x52e)+_0x49f6c),new D(_0x49f6c);}}async[a0_0x2f588e(0x4d3)](_0x26a474){const _0x950299=a0_0x2f588e;try{if(_0x26a474['action']===_0x950299(0x696)||_0x26a474[_0x950299(0x1e0)]===_0x950299(0x1fa)){let _0x292e56=_0x26a474[_0x950299(0x8d4)][_0x950299(0x475)](_0x3d9ca7=>this['createJid'](_0x3d9ca7));await this[_0x950299(0x1dc)][_0x950299(0x903)](_0x26a474[_0x950299(0x557)],_0x292e56,_0x26a474[_0x950299(0x1e0)]);}else{if(_0x26a474[_0x950299(0x1e0)]==='add'){let _0x3da118=(await this[_0x950299(0x52c)]({'numbers':_0x26a474['participants']}))['filter'](_0x1280ed=>_0x1280ed[_0x950299(0x211)])[_0x950299(0x475)](_0x3e0377=>this[_0x950299(0x37f)](_0x3e0377[_0x950299(0x3a9)]));if(_0x3da118[_0x950299(0x8b9)]===0x0)throw new m(_0x950299(0x6e7));await this[_0x950299(0x1dc)]['groupParticipantsUpdate'](_0x26a474[_0x950299(0x557)],_0x3da118,'add');}else{let _0xd0d57=_0x26a474['participants'][_0x950299(0x475)](_0x5b0d4b=>this['createJid'](_0x5b0d4b));await this['client'][_0x950299(0x423)](_0x26a474[_0x950299(0x557)],_0xd0d57,_0x26a474[_0x950299(0x1e0)]);}}return await this[_0x950299(0x4df)]({'groupJid':_0x26a474[_0x950299(0x557)]});}catch(_0x38fb10){let _0x39926c=_0x950299(0x63d),_0x5926ed=_0x38fb10 instanceof Error?_0x38fb10[_0x950299(0x68b)]:typeof _0x38fb10==_0x950299(0x57a)?JSON['stringify'](_0x38fb10):_0x38fb10,_0x135ef5=_0x39926c+':\x20'+_0x5926ed;throw this['logger'][_0x950299(0x20e)](this['instanceName']+'\x20('+this[_0x950299(0x665)][_0x950299(0x21d)]+'):\x20'+_0x135ef5),new m(_0x135ef5);}}async[a0_0x2f588e(0x81c)](_0x13b43d){const _0x9dd82e=a0_0x2f588e;try{return await this[_0x9dd82e(0x1dc)][_0x9dd82e(0x81c)](_0x13b43d[_0x9dd82e(0x3e7)]);}catch(_0x156a85){let _0x567aa9=_0x9dd82e(0x7a3),_0x3a9696=_0x156a85 instanceof Error?_0x156a85[_0x9dd82e(0x68b)]:typeof _0x156a85=='object'?JSON[_0x9dd82e(0x8f1)](_0x156a85):_0x156a85,_0x4a4f70=_0x567aa9+':\x20'+_0x3a9696;throw this[_0x9dd82e(0x8de)][_0x9dd82e(0x20e)](this[_0x9dd82e(0x763)]+'\x20('+this['instance'][_0x9dd82e(0x21d)]+_0x9dd82e(0x52e)+_0x4a4f70),new m(_0x4a4f70);}}async[a0_0x2f588e(0x4df)](_0x1fac77,_0x4257ce=a0_0x2f588e(0x248)){const _0x3c6942=a0_0x2f588e;try{let _0x5e828a=await this[_0x3c6942(0x230)][_0x3c6942(0x40f)][_0x3c6942(0x876)]({'where':{'_id':_0x1fac77[_0x3c6942(0x557)]}},this[_0x3c6942(0x665)][_0x3c6942(0x21d)]),_0x154e57=_0x5e828a?_0x5e828a[_0x3c6942(0x381)]:null,_0x42ce8e=0x18*0x3c*0x3c*0x3e8;if(!_0x154e57||_0x154e57[_0x3c6942(0x733)]&&Date['now']()-_0x154e57[_0x3c6942(0x733)]>_0x42ce8e){let _0x4cf51f=await this[_0x3c6942(0x1dc)][_0x3c6942(0x56c)](_0x1fac77[_0x3c6942(0x557)]);if(_0x4cf51f[_0x3c6942(0x2d3)]=_0x4cf51f?.['subjectTime']&&_0x4cf51f['subjectTime'][_0x3c6942(0x52b)]()[_0x3c6942(0x8b9)]<0xd?_0x4cf51f?.[_0x3c6942(0x2d3)]*0x3e8:_0x4cf51f?.[_0x3c6942(0x2d3)]||null,_0x4cf51f[_0x3c6942(0x31c)]=_0x4cf51f?.[_0x3c6942(0x31c)]&&_0x4cf51f[_0x3c6942(0x31c)][_0x3c6942(0x52b)]()[_0x3c6942(0x8b9)]<0xd?_0x4cf51f?.['creation']*0x3e8:_0x4cf51f?.['creation']||null,_0x154e57={..._0x4cf51f,'lastUpdate':Date[_0x3c6942(0x71f)]()},!_0x4cf51f)return;}let _0x3720d3=_0x154e57[_0x3c6942(0x8d4)][_0x3c6942(0x855)](_0x135d45=>_0x135d45['id']===this['instance'][_0x3c6942(0x21d)]+_0x3c6942(0x53c)&&_0x135d45['admin']!=null);!_0x154e57[_0x3c6942(0x3e7)]&&_0x3720d3&&(_0x154e57['inviteCode']=(await this[_0x3c6942(0x3e7)](_0x1fac77,!0x1))[_0x3c6942(0x893)]);let _0x1bcd93=(!_0x154e57[_0x3c6942(0x607)]||_0x3720d3)&&(!_0x154e57['isCommunity']||_0x154e57[_0x3c6942(0x333)]&&_0x154e57[_0x3c6942(0x5fb)]&&_0x3720d3);_0x154e57[_0x3c6942(0x5bc)]=_0x3720d3,_0x154e57[_0x3c6942(0x4d5)]=_0x1bcd93;let _0x1b7916=[];if(_0x3720d3&&_0x154e57['joinApprovalMode'])try{_0x1b7916=await this[_0x3c6942(0x1dc)][_0x3c6942(0x3fc)](_0x1fac77[_0x3c6942(0x557)]),_0x154e57[_0x3c6942(0x3ed)]=Date[_0x3c6942(0x71f)]();}catch(_0x10e7f5){this[_0x3c6942(0x8de)][_0x3c6942(0x5ef)](this[_0x3c6942(0x763)]+'\x20('+this['instance']['wuid']+_0x3c6942(0x232)+_0x1fac77[_0x3c6942(0x557)]+':\x20'+(_0x10e7f5 instanceof Error?_0x10e7f5['message']:JSON[_0x3c6942(0x8f1)](_0x10e7f5,null,0x2)));}try{_0x154e57[_0x3c6942(0x67a)]=(await this[_0x3c6942(0x7b0)](_0x1fac77[_0x3c6942(0x557)],null,!0x0))[_0x3c6942(0x6e6)]['pictureUrl'];}catch(_0x4d3ecf){this[_0x3c6942(0x8de)][_0x3c6942(0x5ef)](this['instanceName']+'\x20('+this[_0x3c6942(0x665)][_0x3c6942(0x21d)]+_0x3c6942(0x456)+_0x1fac77['groupJid']+':\x20'+(_0x4d3ecf instanceof Error?_0x4d3ecf[_0x3c6942(0x68b)]:JSON[_0x3c6942(0x8f1)](_0x4d3ecf,null,0x2)));}let _0x481fb5=_0x154e57[_0x3c6942(0x8d4)][_0x3c6942(0x475)](_0x1a31fb=>_0x1a31fb['id']),_0x57f89c=_0x1b7916['map'](_0x55d18a=>_0x55d18a['jid']),_0x24003d=await this[_0x3c6942(0x230)]['cacheContact'][_0x3c6942(0x6e1)]([..._0x481fb5,..._0x57f89c]);_0x154e57[_0x3c6942(0x8d4)]=_0x154e57[_0x3c6942(0x8d4)][_0x3c6942(0x475)](_0x393386=>{const _0x5631c2=_0x3c6942;let _0x34a7c8=_0x24003d[_0x5631c2(0x3b1)](_0x104de2=>_0x104de2[_0x5631c2(0x461)]===_0x393386['id']);return{'id':_0x393386['id'],'isAdmin':[_0x5631c2(0x4c3),'superadmin'][_0x5631c2(0x3e8)](_0x393386[_0x5631c2(0x4c3)]),'admin':_0x393386[_0x5631c2(0x4c3)],'pushName':_0x34a7c8?.[_0x5631c2(0x7dc)],'profilePictureUrl':_0x34a7c8?.[_0x5631c2(0x26e)]};}),_0x154e57[_0x3c6942(0x2de)]=_0x1b7916[_0x3c6942(0x475)](_0x1a479d=>{const _0x4c172f=_0x3c6942;let _0x42e185=_0x24003d[_0x4c172f(0x3b1)](_0x5b7182=>_0x5b7182[_0x4c172f(0x461)]===_0x1a479d[_0x4c172f(0x3a9)]);return{'id':_0x1a479d[_0x4c172f(0x3a9)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x42e185?.['name'],'profilePictureUrl':_0x42e185?.[_0x4c172f(0x26e)],'request_method':_0x1a479d[_0x4c172f(0x251)],'request_time':_0x1a479d['request_time']};});let _0x1e38c2=await this[_0x3c6942(0x230)][_0x3c6942(0x40f)][_0x3c6942(0x805)]({'where':{'_id':_0x1fac77[_0x3c6942(0x557)]}},{'imagechat':_0x154e57[_0x3c6942(0x67a)],'name':_0x154e57[_0x3c6942(0x286)],'lastcache':Date[_0x3c6942(0x71f)](),'groupdata':_0x154e57},this[_0x3c6942(0x665)][_0x3c6942(0x21d)]);return q(this[_0x3c6942(0x763)],_0x3c6942(0x77d),{'chat':_0x1e38c2}),{'metadata':_0x154e57};}catch(_0x2dcd3a){if(_0x4257ce==='inner')return;throw new V(_0x3c6942(0x5e4),_0x2dcd3a[_0x3c6942(0x68b)][_0x3c6942(0x52b)]());}}async[a0_0x2f588e(0x324)](){const _0x257dcc=a0_0x2f588e;try{let _0x147d8c=[],_0x5e140f=await this['client'][_0x257dcc(0x545)](),_0x1f96cb=Object[_0x257dcc(0x5db)](_0x5e140f),_0x4f3dd5=_0x1f96cb[_0x257dcc(0x568)](_0x1c83c5=>(0x0,w[_0x257dcc(0x7e0)])(_0x1c83c5?.['id']))[_0x257dcc(0x475)](async _0x4d05b7=>{const _0x49e1fb=_0x257dcc;try{return await this[_0x49e1fb(0x1dc)]['profilePictureUrl'](_0x4d05b7['id'],'preview');}catch(_0xfcc62){return this['logger'][_0x49e1fb(0x5ef)](this[_0x49e1fb(0x763)]+'\x20('+this[_0x49e1fb(0x665)][_0x49e1fb(0x21d)]+_0x49e1fb(0x456)+_0x4d05b7['id']+':\x20'+(_0xfcc62 instanceof Error?_0xfcc62[_0x49e1fb(0x68b)]:JSON[_0x49e1fb(0x8f1)](_0xfcc62,null,0x2))),null;}}),_0x11004a=await Promise[_0x257dcc(0x57c)](_0x4f3dd5);for(let _0x2ba673=0x0;_0x2ba673<_0x1f96cb[_0x257dcc(0x8b9)];_0x2ba673++){let _0x3fc174=_0x1f96cb[_0x2ba673];(0x0,w['isJidGroup'])(_0x3fc174?.['id'])&&(_0x147d8c['push']({'groupJid':_0x3fc174?.['id'],'subject':_0x3fc174?.['subject'],'subjectOwner':_0x3fc174?.[_0x257dcc(0x4af)]?.[_0x257dcc(0x50b)]('@')[0x0],'subjectTime':_0x3fc174?.['subjectTime'],'creation':_0x3fc174?.[_0x257dcc(0x31c)],'size':_0x3fc174?.['participants']?.['length'],'owner':_0x3fc174?.[_0x257dcc(0x680)]?.['split']('@')[0x0],'desc':_0x3fc174?.['desc'],'restrict':_0x3fc174?.['restrict'],'announce':_0x3fc174?.[_0x257dcc(0x607)],'image':_0x11004a[_0x2ba673],'isCommunity':_0x3fc174?.[_0x257dcc(0x333)],'joinApprovalMode':_0x3fc174?.[_0x257dcc(0x8f9)],'memberCanAddParticipant':_0x3fc174?.[_0x257dcc(0x1eb)],'participants':_0x3fc174?.[_0x257dcc(0x8d4)],'descOwner':_0x3fc174?.[_0x257dcc(0x544)],'descId':_0x3fc174?.[_0x257dcc(0x5f8)],'memberAddMode':_0x3fc174?.[_0x257dcc(0x1eb)],'isCommunityAnnounce':_0x3fc174?.['isCommunityAnnounce'],'ephemeralDuration':_0x3fc174?.[_0x257dcc(0x71b)]||0x0,'author':_0x3fc174?.[_0x257dcc(0x8df)]}),this[_0x257dcc(0x25a)](_0x1f96cb[_0x2ba673]));}return _0x147d8c;}catch(_0x4eec85){let _0x3ff18c=_0x257dcc(0x55a),_0x1d0b6d=_0x4eec85 instanceof Error?_0x4eec85[_0x257dcc(0x68b)]:typeof _0x4eec85==_0x257dcc(0x57a)?JSON[_0x257dcc(0x8f1)](_0x4eec85):_0x4eec85,_0x241f9a=_0x3ff18c+':\x20'+_0x1d0b6d;throw this[_0x257dcc(0x8de)][_0x257dcc(0x20e)](this[_0x257dcc(0x763)]+'\x20('+this[_0x257dcc(0x665)][_0x257dcc(0x21d)]+_0x257dcc(0x52e)+_0x241f9a),new V(_0x241f9a);}}async['updateChatGroupData'](_0x120cfb){const _0x3b020b=a0_0x2f588e;let _0x419361=await this[_0x3b020b(0x230)][_0x3b020b(0x40f)][_0x3b020b(0x876)]({'where':{'_id':_0x120cfb['id']}},this['instance'][_0x3b020b(0x21d)]);_0x120cfb[_0x3b020b(0x2d3)]=_0x120cfb?.['subjectTime']&&_0x120cfb[_0x3b020b(0x2d3)]['toString']()[_0x3b020b(0x8b9)]<0xd?_0x120cfb?.['subjectTime']*0x3e8:_0x120cfb?.[_0x3b020b(0x2d3)]||null,_0x120cfb[_0x3b020b(0x31c)]=_0x120cfb?.[_0x3b020b(0x31c)]&&_0x120cfb[_0x3b020b(0x31c)][_0x3b020b(0x52b)]()['length']<0xd?_0x120cfb?.[_0x3b020b(0x31c)]*0x3e8:_0x120cfb?.['creation']||null;let _0xfd6361=_0x419361?.[_0x3b020b(0x381)]?.[_0x3b020b(0x2de)]||[],_0x15daa7=_0x419361?.['groupdata']?.[_0x3b020b(0x3ed)],_0xed3ead=_0x120cfb[_0x3b020b(0x8d4)][_0x3b020b(0x475)](_0x55f0fe=>{const _0x26b15b=_0x3b020b;let _0x458da1=_0x419361?.[_0x26b15b(0x381)]?.[_0x26b15b(0x8d4)]['find'](_0x586098=>_0x586098['id']===_0x55f0fe['id']);return{..._0x55f0fe,'isAdmin':[_0x26b15b(0x4c3),_0x26b15b(0x1f3)][_0x26b15b(0x3e8)](_0x55f0fe[_0x26b15b(0x4c3)]),'admin':_0x55f0fe[_0x26b15b(0x4c3)],'name':_0x458da1?.['name']||_0x55f0fe[_0x26b15b(0x7dc)],'imgUrl':_0x458da1?.[_0x26b15b(0x265)]||_0x55f0fe[_0x26b15b(0x265)]};}),_0x180e1c=_0xed3ead[_0x3b020b(0x855)](_0x4d10fa=>_0x4d10fa['id']===this['instance']['wuid']+_0x3b020b(0x53c)&&_0x4d10fa[_0x3b020b(0x5bc)]),_0x2858c5=(!_0x120cfb['announce']||_0x180e1c)&&(!_0x120cfb[_0x3b020b(0x333)]||_0x120cfb[_0x3b020b(0x333)]&&_0x120cfb[_0x3b020b(0x5fb)]&&_0x180e1c),_0x3eb0fb={..._0x120cfb,'participants':_0xed3ead,'awaitingApproval':_0xfd6361,'lastFetchAwaitingApproval':_0x15daa7,'isAdmin':_0x180e1c,'canSendMessage':_0x2858c5,'lastUpdate':Date[_0x3b020b(0x71f)]()};await this[_0x3b020b(0x230)][_0x3b020b(0x40f)][_0x3b020b(0x805)]({'where':{'_id':_0x120cfb['id']}},{'name':_0x120cfb['subject'],'group':!0x0,'groupdata':_0x3eb0fb,'lastcache':Date['now']()},this[_0x3b020b(0x665)][_0x3b020b(0x21d)]),q(this['instanceName'],_0x3b020b(0x77d),{'chat':_0x120cfb});}async[a0_0x2f588e(0x702)](_0x2ab6ca){const _0x2ee742=a0_0x2f588e;let _0x4013eb=await this[_0x2ee742(0x230)][_0x2ee742(0x40f)][_0x2ee742(0x876)]({'where':{'_id':_0x2ab6ca['id']}},this[_0x2ee742(0x665)][_0x2ee742(0x21d)]);_0x2ab6ca[_0x2ee742(0x2d3)]=_0x2ab6ca?.[_0x2ee742(0x2d3)]&&_0x2ab6ca[_0x2ee742(0x2d3)][_0x2ee742(0x52b)]()[_0x2ee742(0x8b9)]<0xd?_0x2ab6ca?.['subjectTime']*0x3e8:_0x2ab6ca?.[_0x2ee742(0x2d3)]||null,_0x2ab6ca[_0x2ee742(0x31c)]=_0x2ab6ca?.[_0x2ee742(0x31c)]&&_0x2ab6ca['creation']['toString']()[_0x2ee742(0x8b9)]<0xd?_0x2ab6ca?.['creation']*0x3e8:_0x2ab6ca?.[_0x2ee742(0x31c)]||null,_0x2ab6ca[_0x2ee742(0x3e7)]&&(_0x2ab6ca['inviteCode']=_0x2ee742(0x443)+_0x2ab6ca[_0x2ee742(0x3e7)]);let _0x48e94e=_0x4013eb?.[_0x2ee742(0x381)]?{..._0x4013eb[_0x2ee742(0x381)]}:{};Object['keys'](_0x2ab6ca)['forEach'](_0x1920bc=>{_0x1920bc!=='id'&&(_0x48e94e[_0x1920bc]=_0x2ab6ca[_0x1920bc]);});let _0x385b6b=_0x48e94e[_0x2ee742(0x8d4)]?.[_0x2ee742(0x855)](_0x1cab5b=>_0x1cab5b['id']===this[_0x2ee742(0x665)][_0x2ee742(0x21d)]+'@s.whatsapp.net'&&_0x1cab5b[_0x2ee742(0x5bc)])||!0x1;_0x48e94e[_0x2ee742(0x5bc)]=_0x385b6b;let _0x349822=(!_0x48e94e[_0x2ee742(0x607)]||_0x385b6b)&&(!_0x48e94e[_0x2ee742(0x333)]||_0x48e94e[_0x2ee742(0x333)]&&_0x48e94e['isCommunityAnnounce']&&_0x385b6b);_0x48e94e[_0x2ee742(0x4d5)]=_0x349822;let _0x5f498c={'group':!0x0,'groupdata':_0x48e94e};_0x2ab6ca[_0x2ee742(0x286)]&&(_0x5f498c['name']=_0x2ab6ca['subject']),await this['repository']['chat'][_0x2ee742(0x805)]({'where':{'_id':_0x2ab6ca['id']}},_0x5f498c,this[_0x2ee742(0x665)][_0x2ee742(0x21d)],{'upsert':!0x0}),q(this[_0x2ee742(0x763)],_0x2ee742(0x77d),{'chat':_0x5f498c});}async[a0_0x2f588e(0x7d3)](_0x50775c){const _0x5d3cac=a0_0x2f588e;let _0xe3f50=await this[_0x5d3cac(0x230)][_0x5d3cac(0x40f)]['findOne']({'where':{'_id':_0x50775c['id']}},this['instance'][_0x5d3cac(0x21d)]);if(!_0xe3f50||!_0xe3f50[_0x5d3cac(0x381)]){this[_0x5d3cac(0x8de)][_0x5d3cac(0x569)](this[_0x5d3cac(0x763)]+'\x20('+this[_0x5d3cac(0x665)][_0x5d3cac(0x21d)]+_0x5d3cac(0x538)+_0x50775c['id']);return;}let _0x42ee80=await this[_0x5d3cac(0x230)]['cacheContact'][_0x5d3cac(0x6e1)](_0x50775c['participants']),_0x4b352f=[..._0xe3f50[_0x5d3cac(0x381)]?.['participants']];switch(_0x50775c[_0x5d3cac(0x1e0)]){case'add':let _0x3fe77d=_0x42ee80[_0x5d3cac(0x475)](_0x36af74=>({'id':_0x36af74['_id'],'isAdmin':!0x1,'name':_0x36af74[_0x5d3cac(0x7dc)],'imgUrl':_0x36af74[_0x5d3cac(0x26e)]}));_0x4b352f=[..._0x4b352f,..._0x3fe77d];break;case'remove':_0x4b352f=_0x4b352f[_0x5d3cac(0x568)](_0x283957=>!_0x50775c[_0x5d3cac(0x8d4)][_0x5d3cac(0x3e8)](_0x283957['id']));break;case _0x5d3cac(0x51f):case _0x5d3cac(0x2cf):_0x4b352f=_0x4b352f[_0x5d3cac(0x475)](_0x4f482a=>_0x50775c[_0x5d3cac(0x8d4)]['includes'](_0x4f482a['id'])?{..._0x4f482a,'isAdmin':_0x50775c['action']===_0x5d3cac(0x51f)}:_0x4f482a);break;}let _0xb00a9c=_0x4b352f[_0x5d3cac(0x8b9)],_0x5ac816=_0x4b352f['some'](_0x57c519=>_0x57c519['id']===this[_0x5d3cac(0x665)][_0x5d3cac(0x21d)]+_0x5d3cac(0x53c)),_0x4cd344=_0x5ac816&&_0x4b352f['some'](_0x1f301b=>_0x1f301b['id']===this[_0x5d3cac(0x665)][_0x5d3cac(0x21d)]+_0x5d3cac(0x53c)&&_0x1f301b[_0x5d3cac(0x5bc)]),_0x4f8997=_0x5ac816&&(!_0xe3f50[_0x5d3cac(0x381)][_0x5d3cac(0x607)]||_0x4cd344)&&(!_0xe3f50[_0x5d3cac(0x381)][_0x5d3cac(0x333)]||_0xe3f50[_0x5d3cac(0x381)][_0x5d3cac(0x333)]&&_0x4cd344);await this[_0x5d3cac(0x230)][_0x5d3cac(0x40f)][_0x5d3cac(0x805)]({'where':{'_id':_0x50775c['id']}},{'groupdata':{..._0xe3f50[_0x5d3cac(0x381)],'participants':_0x4b352f,'size':_0xb00a9c,'isAdmin':_0x4cd344,'canSendMessage':_0x4f8997}},this['instance'][_0x5d3cac(0x21d)]),this[_0x5d3cac(0x8de)][_0x5d3cac(0x569)](this['instanceName']+'\x20('+this[_0x5d3cac(0x665)][_0x5d3cac(0x21d)]+_0x5d3cac(0x892)+_0x50775c['id']+_0x5d3cac(0x636)+_0x50775c[_0x5d3cac(0x1e0)]+',\x20Novo\x20tamanho:\x20'+_0xb00a9c+_0x5d3cac(0x663)+_0x4cd344+',\x20canSendMessage:\x20'+_0x4f8997);}async[a0_0x2f588e(0x3e7)](_0x219f04,_0x49f5cf=!0x0){const _0x322346=a0_0x2f588e;try{let _0x1443e1=await this[_0x322346(0x1dc)][_0x322346(0x53d)](_0x219f04['groupJid']),_0x5ebeab={'groupdata.inviteCode':_0x322346(0x443)+_0x1443e1};if(_0x49f5cf){let _0x5a0a71=await this[_0x322346(0x230)][_0x322346(0x40f)]['updateOne']({'where':{'_id':_0x219f04[_0x322346(0x557)]}},_0x5ebeab,this[_0x322346(0x665)][_0x322346(0x21d)]);}return{'inviteUrl':_0x322346(0x443)+_0x1443e1,'inviteCode':_0x1443e1};}catch(_0x21b70e){let _0x130db3=_0x322346(0x459),_0x1472f7=_0x21b70e instanceof Error?_0x21b70e['message']:typeof _0x21b70e=='object'?JSON[_0x322346(0x8f1)](_0x21b70e):_0x21b70e,_0x4a7c57=_0x130db3+':\x20'+_0x1472f7;throw this[_0x322346(0x8de)][_0x322346(0x20e)](this[_0x322346(0x763)]+'\x20('+this[_0x322346(0x665)][_0x322346(0x21d)]+_0x322346(0x52e)+_0x4a7c57),new V(_0x4a7c57);}}async[a0_0x2f588e(0x3f7)](_0x1d5ca9){const _0x30a6a8=a0_0x2f588e;try{let _0x1f8b60=await this['client']['groupRevokeInvite'](_0x1d5ca9[_0x30a6a8(0x557)]);return{'revoked':!0x0,'inviteUrl':_0x30a6a8(0x443)+_0x1f8b60,'inviteCode':_0x1f8b60};}catch(_0x27c0db){let _0x96803f='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x4d9ba3=_0x27c0db instanceof Error?_0x27c0db[_0x30a6a8(0x68b)]:typeof _0x27c0db=='object'?JSON[_0x30a6a8(0x8f1)](_0x27c0db):_0x27c0db,_0x4f50a4=_0x96803f+':\x20'+_0x4d9ba3;throw this[_0x30a6a8(0x8de)][_0x30a6a8(0x20e)](this[_0x30a6a8(0x763)]+'\x20('+this[_0x30a6a8(0x665)][_0x30a6a8(0x21d)]+_0x30a6a8(0x52e)+_0x4f50a4),new V(_0x4f50a4);}}async[a0_0x2f588e(0x4a2)](_0x3da305){const _0x19e87b=a0_0x2f588e;try{if((0x0,F[_0x19e87b(0x5de)])(_0x3da305[_0x19e87b(0x3e7)]))var _0x5076d3=_0x3da305[_0x19e87b(0x3e7)][_0x19e87b(0x50b)]('/')[0x3];else var _0x5076d3=_0x3da305[_0x19e87b(0x3e7)];let _0x395110=await this[_0x19e87b(0x1dc)][_0x19e87b(0x90e)](_0x5076d3);return this[_0x19e87b(0x8de)]['verbose'](this[_0x19e87b(0x763)]+'\x20('+this[_0x19e87b(0x665)]['wuid']+_0x19e87b(0x52e)+_0x395110),{'join':!0x0,'inviteCode':_0x5076d3,'groupJid':_0x395110};}catch(_0x53c89d){let _0x536def=_0x19e87b(0x765),_0x1192c9=_0x53c89d instanceof Error?_0x53c89d[_0x19e87b(0x68b)]:typeof _0x53c89d==_0x19e87b(0x57a)?JSON[_0x19e87b(0x8f1)](_0x53c89d):_0x53c89d,_0x22af8f=_0x536def+':\x20'+_0x1192c9;throw this['logger']['error'](this[_0x19e87b(0x763)]+'\x20('+this[_0x19e87b(0x665)]['wuid']+_0x19e87b(0x52e)+_0x22af8f),new V(_0x22af8f);}}async['findParticipants'](_0xd4a3a2){const _0x18a679=a0_0x2f588e;try{return{'participants':(await this[_0x18a679(0x230)][_0x18a679(0x40f)][_0x18a679(0x876)]({'where':{'_id':_0xd4a3a2[_0x18a679(0x557)]}},this[_0x18a679(0x665)][_0x18a679(0x21d)]))['groupdata'][_0x18a679(0x8d4)]};}catch(_0x17ee90){let _0x18451f=_0x18a679(0x2c7),_0xa729cc=_0x17ee90 instanceof Error?_0x17ee90[_0x18a679(0x68b)]:typeof _0x17ee90==_0x18a679(0x57a)?JSON[_0x18a679(0x8f1)](_0x17ee90):_0x17ee90,_0x5636eb=_0x18451f+':\x20'+_0xa729cc;throw this['logger'][_0x18a679(0x20e)](this[_0x18a679(0x763)]+'\x20('+this['instance'][_0x18a679(0x21d)]+_0x18a679(0x52e)+_0x5636eb),new V(_0x5636eb);}}async['leaveGroup'](_0x372a6e){const _0x4c4c0e=a0_0x2f588e;try{return await this[_0x4c4c0e(0x1dc)][_0x4c4c0e(0x62a)](_0x372a6e[_0x4c4c0e(0x557)]),{'groupJid':_0x372a6e[_0x4c4c0e(0x557)],'leave':!0x0};}catch(_0x1feefb){let _0x50f4e2=_0x4c4c0e(0x48e),_0x28702a=_0x1feefb instanceof Error?_0x1feefb[_0x4c4c0e(0x68b)]:typeof _0x1feefb==_0x4c4c0e(0x57a)?JSON[_0x4c4c0e(0x8f1)](_0x1feefb):_0x1feefb,_0x5e938c=_0x50f4e2+':\x20'+_0x28702a;throw this[_0x4c4c0e(0x8de)][_0x4c4c0e(0x20e)](this[_0x4c4c0e(0x763)]+'\x20('+this[_0x4c4c0e(0x665)][_0x4c4c0e(0x21d)]+_0x4c4c0e(0x52e)+_0x5e938c),new m(_0x5e938c);}}async['pollMessage'](_0x15663e){const _0x258fc2=a0_0x2f588e;return await this[_0x258fc2(0x1fd)](_0x15663e[_0x258fc2(0x720)],{'poll':{'name':_0x15663e[_0x258fc2(0x50f)]?.[_0x258fc2(0x7dc)],'selectableCount':_0x15663e[_0x258fc2(0x50f)]['selectableCount'],'values':_0x15663e['pollMessage'][_0x258fc2(0x5db)]}},_0x15663e?.['options']);}async[a0_0x2f588e(0x630)](_0x4d1fb0){const _0x1e8120=a0_0x2f588e;return await this[_0x1e8120(0x1fd)](_0x4d1fb0[_0x1e8120(0x720)],{'listMessage':{'title':_0x4d1fb0[_0x1e8120(0x630)][_0x1e8120(0x2f4)],'description':_0x4d1fb0['listMessage']['description'],'buttonText':_0x4d1fb0['listMessage']?.[_0x1e8120(0x87d)],'footerText':_0x4d1fb0[_0x1e8120(0x630)]?.['footerText'],'sections':_0x4d1fb0[_0x1e8120(0x630)][_0x1e8120(0x322)],'listType':0x2}},_0x4d1fb0?.[_0x1e8120(0x39d)]);}async['menuMessage'](_0x4345d4){const _0x14d99b=a0_0x2f588e;let _0x5a4080;if(_0x4345d4[_0x14d99b(0x5a0)]['type']===_0x14d99b(0x6b1)){let _0x524824=_0x4345d4[_0x14d99b(0x5a0)]['text']['indexOf']('\x0a'),_0x53cd78='',_0x2c7856='';_0x524824!==-0x1?(_0x53cd78=_0x4345d4[_0x14d99b(0x5a0)][_0x14d99b(0x244)][_0x14d99b(0x4cf)](0x0,_0x524824)[_0x14d99b(0x565)](),_0x2c7856=_0x4345d4['menuMessage'][_0x14d99b(0x244)][_0x14d99b(0x4cf)](_0x524824+0x1)):_0x2c7856=_0x4345d4[_0x14d99b(0x5a0)][_0x14d99b(0x244)];let _0x36693e=_0x4345d4[_0x14d99b(0x5a0)][_0x14d99b(0x555)][_0x14d99b(0x568)](_0x42c393=>_0x42c393['trim']()!==''),_0x571a0c=this[_0x14d99b(0x7f4)](_0x36693e);_0x5a4080={'listMessage':{'title':_0x53cd78,'description':_0x2c7856,'buttonText':_0x4345d4['menuMessage'][_0x14d99b(0x87d)]||_0x14d99b(0x49b),'footerText':_0x4345d4['menuMessage'][_0x14d99b(0x596)],'sections':_0x571a0c,'listType':0x2}};}else{if(_0x4345d4[_0x14d99b(0x5a0)]['type']===_0x14d99b(0x51d)){let _0xc19588=_0x4345d4['menuMessage'][_0x14d99b(0x555)]['filter'](_0x4e9edd=>!(_0x4e9edd[_0x14d99b(0x4de)]('[')&&_0x4e9edd['endsWith'](']'))&&_0x4e9edd[_0x14d99b(0x565)]()!=='')['map'](_0x3a3d26=>_0x3a3d26[_0x14d99b(0x50b)]('\x0a')[0x0]);_0x5a4080={'poll':{'name':_0x4345d4[_0x14d99b(0x5a0)][_0x14d99b(0x244)],'selectableCount':_0x4345d4[_0x14d99b(0x5a0)][_0x14d99b(0x8e4)]||0x1,'values':_0xc19588}};}}return await this[_0x14d99b(0x1fd)](_0x4345d4[_0x14d99b(0x720)],_0x5a4080,_0x4345d4?.[_0x14d99b(0x39d)]);}['createSectionsFromValues'](_0x555390){const _0x37c5d7=a0_0x2f588e;let _0x552af2=[],_0x27b9aa={'rows':[]};return _0x555390[_0x37c5d7(0x255)](_0xeac21c=>{const _0x22572d=_0x37c5d7;if(_0xeac21c[_0x22572d(0x4de)]('[')&&_0xeac21c['endsWith'](']'))_0x27b9aa['rows']['length']>0x0&&_0x552af2[_0x22572d(0x651)](_0x27b9aa),_0x27b9aa={'title':_0xeac21c[_0x22572d(0x629)](0x1,-0x1),'rows':[]};else{let _0x12c8fc=_0xeac21c[_0x22572d(0x50b)]('\x0a')[_0x22572d(0x475)](_0x47c6bc=>_0x47c6bc['trim']()),_0x4989e6=_0x12c8fc[0x0],_0xbd9e9e=_0x12c8fc[0x1]||null,_0x241bf2=_0x12c8fc[0x2]||_0x4989e6;_0x27b9aa[_0x22572d(0x5aa)][_0x22572d(0x651)]({'title':_0x4989e6,'description':_0xbd9e9e,'rowId':_0x241bf2});}}),_0x27b9aa[_0x37c5d7(0x5aa)][_0x37c5d7(0x8b9)]>0x0&&_0x552af2[_0x37c5d7(0x651)](_0x27b9aa),_0x552af2;}async['updateMessage'](_0x203ea3,_0x1542a7){const _0x244cf4=a0_0x2f588e;if(await this[_0x244cf4(0x8a4)](_0x203ea3,!0x0)){let _0x25648a={'where':{'_id':_0x203ea3['id']}},_0x198496={'status':[_0x1542a7[_0x244cf4(0x3f3)]][0x0]};try{let _0x285c52=await this[_0x244cf4(0x230)]['message'][_0x244cf4(0x579)](_0x25648a,_0x198496,this[_0x244cf4(0x665)]['wuid']);_0x285c52&&q(this[_0x244cf4(0x763)],'messages',{'message':_0x285c52});}catch{}}}[a0_0x2f588e(0x7de)](_0xbbfd83){const _0x5a4455=a0_0x2f588e;let _0x307514=[];return _0xbbfd83['forEach'](_0x2b2f89=>{const _0x5d20aa=a0_0x5c2a;_0x2b2f89[_0x5d20aa(0x2f4)]&&_0x307514[_0x5d20aa(0x651)]('['+_0x2b2f89[_0x5d20aa(0x2f4)]+']'),_0x2b2f89[_0x5d20aa(0x5aa)][_0x5d20aa(0x255)](_0x2d3a87=>{const _0x3b2aea=_0x5d20aa;_0x307514['push'](_0x2d3a87[_0x3b2aea(0x2f4)]);});}),_0x307514[_0x5a4455(0x88b)]('|');}[a0_0x2f588e(0x227)](_0x3f7525){const _0xd7f7d5=a0_0x2f588e;let _0x55552a=_0x3f7525[_0xd7f7d5(0x499)](/\\n/g,'\x0a')['split']('\x0a')[_0xd7f7d5(0x568)](_0x1de31d=>_0x1de31d[_0xd7f7d5(0x3e8)](_0xd7f7d5(0x6d7))||_0x1de31d['includes'](_0xd7f7d5(0x560))),_0x56d972='';return _0x55552a[_0xd7f7d5(0x255)](_0xe75353=>{const _0x5a894b=_0xd7f7d5;let _0x470005=/TEL(?:.*):(.+)/,_0x117b75=/EMAIL(?:.*):(.+)/,_0x2ff70a=_0xe75353[_0x5a894b(0x5a5)](_0x470005),_0x11b66a=_0xe75353[_0x5a894b(0x5a5)](_0x117b75);if(_0x2ff70a){let _0x23829e=_0x2ff70a[0x1][_0x5a894b(0x499)](/-| |\+|\(|\)/g,'')[_0x5a894b(0x565)]();_0x56d972+='Telefone:\x20'+_0x23829e+'\x0a';}else{if(_0x11b66a){let _0x154ff8=_0x11b66a[0x1][_0x5a894b(0x565)]();_0x56d972+=_0x5a894b(0x356)+_0x154ff8+'\x0a';}}}),_0x56d972[_0xd7f7d5(0x565)]();}async[a0_0x2f588e(0x5cb)](_0x5154fd,_0x1e2d1d,_0x507385,_0x1ef994=null){const _0x560d45=a0_0x2f588e;if(_0x5154fd['ENABLED'])try{let _0x12568a=_0x1e2d1d[_0x560d45(0x920)][_0x560d45(0x46d)][_0x560d45(0x499)](/:\d{1,2}@/g,'@'),_0x2d8929=_0x1e2d1d[_0x560d45(0x920)][_0x560d45(0x741)],_0x511a65=_0x12568a[_0x560d45(0x8f6)](_0x560d45(0x532)),_0x3e86a6=_0x1e2d1d['participant']?.[_0x560d45(0x499)](/:\d{1,2}@/g,'@')||'',_0x3ea452=_0x1e2d1d[_0x560d45(0x795)]?.[_0x560d45(0x244)]||_0x1e2d1d['message_normalized']?.[_0x560d45(0x1f0)]||_0x1e2d1d[_0x560d45(0x795)]?.[_0x560d45(0x58d)]||_0x1e2d1d[_0x560d45(0x795)]?.[_0x560d45(0x7dc)]||'',_0x41445c={'_id':_0x1e2d1d[_0x560d45(0x461)],'remoteJid':_0x2d8929?this['instance'][_0x560d45(0x21d)]:_0x511a65?_0x3e86a6:_0x12568a,'pushName':_0x2d8929?this[_0x560d45(0x665)][_0x560d45(0x1d2)]||'Eu':_0x1e2d1d[_0x560d45(0x913)],'text':_0x3ea452,'type':_0x1e2d1d[_0x560d45(0x27c)],'when':_0x1e2d1d[_0x560d45(0x4e3)]||Date[_0x560d45(0x71f)]()};_0x1ef994||(_0x1ef994=await this[_0x560d45(0x230)][_0x560d45(0x40f)][_0x560d45(0x876)]({'where':{'_id':_0x12568a}},this[_0x560d45(0x665)][_0x560d45(0x21d)]));let _0x3e5afa=_0x1ef994?_0x2d8929?_0x1ef994['unreadcount']:(_0x1ef994[_0x560d45(0x208)]||0x0)+0x1:_0x2d8929?0x0:0x1,_0x99684e={'lastmsg':_0x1e2d1d[_0x560d45(0x4e3)]||Date[_0x560d45(0x71f)](),'ephemeralExpiration':_0x1e2d1d[_0x560d45(0x8ef)],'lastMessage':_0x41445c,'unreadcount':_0x3e5afa,..._0x2d8929||_0x511a65?{}:{'name':_0x1e2d1d[_0x560d45(0x913)]},..._0x511a65?{'group':_0x511a65}:{},...!_0x2d8929&&!_0x511a65&&_0x1e2d1d[_0x560d45(0x38b)]?{'imagechat':_0x1e2d1d['profilePictureUrl']}:{}};if(!_0x511a65&&(!_0x1ef994?.[_0x560d45(0x4bb)]||!_0x1ef994[_0x560d45(0x4bb)]['nome'])&&_0x1e2d1d[_0x560d45(0x913)]&&!_0x2d8929&&(_0x99684e={..._0x99684e,'leadInfo.nome':_0x1e2d1d['pushName']}),_0x1ef994?.[_0x560d45(0x4bb)][_0x560d45(0x1d8)]||(_0x99684e={..._0x99684e,'leadInfo.etiquetas':[]}),_0x1ef994?.[_0x560d45(0x4bb)][_0x560d45(0x644)]||(_0x99684e={..._0x99684e,'leadInfo.customFields':[]}),_0x1ef994?.[_0x560d45(0x4bb)]['tags']||(_0x99684e={..._0x99684e,'leadInfo.tags':[]}),_0x1ef994&&_0x1ef994?.['imported']){let _0x37327d=await this[_0x560d45(0x230)][_0x560d45(0x7b3)]['find']({'where':{}},this[_0x560d45(0x665)][_0x560d45(0x21d)]),_0x33bb1c=new Set(_0x37327d['map'](_0x13f37f=>_0x13f37f[_0x560d45(0x461)])),_0x4cf828=(_0x1ef994[_0x560d45(0x4bb)]?.[_0x560d45(0x1d8)]||[])[_0x560d45(0x568)](_0x4b6755=>_0x33bb1c[_0x560d45(0x726)](_0x4b6755));_0x99684e={..._0x99684e,'imported':!0x1,'leadInfo.etiquetas':_0x4cf828};for(let _0x60e540 of _0x4cf828)await this['AddChatLabel'](_0x60e540,_0x12568a);}if(!this['AutomateSystem']['flows'][_0x560d45(0x3b1)](_0xf41103=>_0xf41103[_0x560d45(0x20a)]&&_0x3ea452[_0x560d45(0x3e8)](_0xf41103[_0x560d45(0x20a)]))&&_0x507385===_0x560d45(0x7fa)&&_0x2d8929&&this[_0x560d45(0x7e2)]?.[_0x560d45(0x46e)][_0x560d45(0x76d)]&&_0x3ea452[_0x560d45(0x565)]()!==this[_0x560d45(0x7e2)]?.['flowConfig'][_0x560d45(0x4c0)][_0x560d45(0x565)]()){let _0x5d545a=(this[_0x560d45(0x7e2)]?.[_0x560d45(0x46e)][_0x560d45(0x504)]||0x0)*0xea60,_0x41c55d=Date[_0x560d45(0x71f)]()+_0x5d545a;_0x1ef994?.[_0x560d45(0x4bb)]?.[_0x560d45(0x686)]===0x0||(_0x99684e={..._0x99684e,'leadInfo.desativadoFluxoAte':_0x41c55d},this['logger'][_0x560d45(0x5ef)](this['instanceName']+'\x20('+this[_0x560d45(0x665)][_0x560d45(0x21d)]+_0x560d45(0x416)+_0x41c55d+'.'));}if(_0x3ea452[_0x560d45(0x565)]()===this[_0x560d45(0x7e2)]?.[_0x560d45(0x46e)][_0x560d45(0x4c0)][_0x560d45(0x565)]()){this[_0x560d45(0x8de)]['verbose'](this[_0x560d45(0x763)]+'\x20('+this['instance'][_0x560d45(0x21d)]+_0x560d45(0x6a7)+_0x3ea452);let _0x1ff303=Date[_0x560d45(0x71f)]();this[_0x560d45(0x7e2)]?.[_0x560d45(0x46e)][_0x560d45(0x210)]===0x0?_0x99684e={..._0x99684e,'leadInfo.desativadoFluxoAte':_0x1ff303+0x7591f6200}:_0x99684e={..._0x99684e,'leadInfo.desativadoFluxoAte':_0x1ff303+this[_0x560d45(0x7e2)]?.[_0x560d45(0x46e)][_0x560d45(0x210)]*0x3c*0x3e8};}if(_0x1ef994=await this['repository'][_0x560d45(0x40f)]['updateOne']({'where':{'_id':_0x12568a}},_0x99684e,this[_0x560d45(0x665)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x1ef994)q(this[_0x560d45(0x763)],_0x560d45(0x77d),{'chat':_0x1ef994});else{this[_0x560d45(0x8de)][_0x560d45(0x20e)](this[_0x560d45(0x763)]+'\x20('+this['instance']['wuid']+_0x560d45(0x2d9));return;}if(_0x2d8929)return this[_0x560d45(0x8de)][_0x560d45(0x5ef)](this[_0x560d45(0x763)]+'\x20('+this[_0x560d45(0x665)][_0x560d45(0x21d)]+_0x560d45(0x5b3)),null;if(!this[_0x560d45(0x7e2)]?.[_0x560d45(0x46e)][_0x560d45(0x76d)])return this[_0x560d45(0x8de)][_0x560d45(0x5ef)](this[_0x560d45(0x763)]+'\x20('+this[_0x560d45(0x665)]['wuid']+_0x560d45(0x5c1)),null;if(_0x1ef994[_0x560d45(0x461)][_0x560d45(0x3e8)](_0x560d45(0x532))&&this[_0x560d45(0x7e2)]?.[_0x560d45(0x46e)]['ignoreGroups']===!0x0)return this[_0x560d45(0x8de)][_0x560d45(0x5ef)](this[_0x560d45(0x763)]+'\x20('+this[_0x560d45(0x665)][_0x560d45(0x21d)]+_0x560d45(0x41d)),null;if(_0x1ef994['leadInfo']){if(_0x1ef994[_0x560d45(0x4bb)][_0x560d45(0x686)]===0x0||_0x1ef994[_0x560d45(0x4bb)]['atendimentoAberto'])return this[_0x560d45(0x8de)]['verbose'](this[_0x560d45(0x763)]+'\x20('+this[_0x560d45(0x665)][_0x560d45(0x21d)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x12568a+',\x20saindo.'),null;if(_0x1ef994['leadInfo'][_0x560d45(0x686)]>Date[_0x560d45(0x71f)]()&&!_0x1e2d1d[_0x560d45(0x795)]?.[_0x560d45(0x58d)])return this['logger'][_0x560d45(0x5ef)](this[_0x560d45(0x763)]+'\x20('+this['instance'][_0x560d45(0x21d)]+_0x560d45(0x785)+new Date(_0x1ef994[_0x560d45(0x4bb)][_0x560d45(0x686)])[_0x560d45(0x843)]()+_0x560d45(0x859)),null;}this[_0x560d45(0x8de)]['verbose'](this[_0x560d45(0x763)]+'\x20('+this[_0x560d45(0x665)][_0x560d45(0x21d)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x560d45(0x626)](_0x1e2d1d,_0x507385);}catch(_0x545464){let _0x1dbe74=_0x560d45(0x218),_0x355de0=_0x545464 instanceof Error?_0x545464[_0x560d45(0x68b)]:typeof _0x545464==_0x560d45(0x57a)?JSON[_0x560d45(0x8f1)](_0x545464):_0x545464,_0x5d333f=_0x1dbe74+':\x20'+_0x355de0;return this['logger'][_0x560d45(0x20e)](this[_0x560d45(0x763)]+'\x20('+this[_0x560d45(0x665)]['wuid']+_0x560d45(0x52e)+_0x5d333f),null;}}async[a0_0x2f588e(0x5e0)](_0x34b520,_0x53bab7){const _0x13ac95=a0_0x2f588e;if(_0x53bab7[_0x13ac95(0x7aa)]){let _0x452f35=_0x34b520[_0x13ac95(0x475)](async _0x1d920d=>{const _0x39f1f0=_0x13ac95;try{let _0x7ad12={'_id':_0x1d920d[_0x39f1f0(0x461)],'owner':_0x1d920d[_0x39f1f0(0x680)],'lastcache':0x0};if(Object[_0x39f1f0(0x37a)](_0x1d920d)[_0x39f1f0(0x255)](_0x34f90c=>{_0x1d920d[_0x34f90c]!==null&&(_0x7ad12[_0x34f90c]=_0x1d920d[_0x34f90c]);}),_0x7ad12['imagechat']===null&&(_0x7ad12[_0x39f1f0(0x81b)]='Imagem\x20não\x20encontrada'),Object['keys'](_0x7ad12)[_0x39f1f0(0x8b9)]>0x0)return await this['repository'][_0x39f1f0(0x40f)][_0x39f1f0(0x805)]({'where':{'_id':_0x1d920d[_0x39f1f0(0x461)]}},_0x7ad12,this[_0x39f1f0(0x665)][_0x39f1f0(0x21d)]);}catch(_0x3f56c2){let _0xcef9ef=_0x39f1f0(0x42b)+_0x1d920d[_0x39f1f0(0x461)],_0xd1cba=_0x3f56c2 instanceof Error?_0x3f56c2[_0x39f1f0(0x68b)]:typeof _0x3f56c2==_0x39f1f0(0x57a)?JSON[_0x39f1f0(0x8f1)](_0x3f56c2):_0x3f56c2,_0x41f588=_0xcef9ef+':\x20'+_0xd1cba;return this[_0x39f1f0(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x39f1f0(0x665)][_0x39f1f0(0x21d)]+_0x39f1f0(0x52e)+_0x41f588),null;}}),_0x2a06bf=(await Promise['all'](_0x452f35))['filter'](_0x3afd8b=>_0x3afd8b!==null)[_0x13ac95(0x8b9)];this[_0x13ac95(0x8de)]['verbose'](this[_0x13ac95(0x763)]+'\x20('+this[_0x13ac95(0x665)][_0x13ac95(0x21d)]+_0x13ac95(0x52e)+_0x2a06bf+_0x13ac95(0x5b6)+this[_0x13ac95(0x665)][_0x13ac95(0x21d)]+_0x13ac95(0x813));}}async['readMessageBot'](_0x1e0a45){const _0x2196c=a0_0x2f588e;this[_0x2196c(0x8de)][_0x2196c(0x5ef)](this['instanceName']+'\x20('+this[_0x2196c(0x665)][_0x2196c(0x21d)]+_0x2196c(0x485));let _0x54fa60={'readMessages':[{'remoteJid':_0x1e0a45[_0x2196c(0x820)][_0x2196c(0x518)]['key'][_0x2196c(0x46d)],'fromMe':_0x1e0a45[_0x2196c(0x820)]['lastReceivedMessage'][_0x2196c(0x920)][_0x2196c(0x741)],'id':_0x1e0a45[_0x2196c(0x820)]['lastReceivedMessage']['key']['id']}]};await this[_0x2196c(0x633)](_0x54fa60);}async[a0_0x2f588e(0x626)](_0x45bdd0,_0x2ceb6e){const _0x515577=a0_0x2f588e;try{let {key:_0x3e6250,message_normalized:_0xf25c44}=_0x45bdd0,_0xe44a38=_0xf25c44,_0x421845=_0xf25c44['text']||_0xf25c44[_0x515577(0x1f0)]||_0xf25c44['vote']||_0xf25c44[_0x515577(0x7dc)]||'',_0x2809be=_0x3e6250[_0x515577(0x46d)],_0x52113a=null,_0x140e20=this['AutomateSystem'][_0x515577(0x587)][_0x515577(0x3b1)](_0x41eddd=>_0x41eddd[_0x515577(0x20a)]&&_0x421845[_0x515577(0x3e8)](_0x41eddd[_0x515577(0x20a)]));if(_0x140e20&&_0x2ceb6e===_0x515577(0x7fa)){let _0x7c7281=await this[_0x515577(0x230)][_0x515577(0x262)]['findOne']({'where':{'_id':_0x140e20['_id']}});if(this[_0x515577(0x8de)][_0x515577(0x5ef)](this[_0x515577(0x763)]+'\x20('+this['instance']['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x7c7281&&_0x7c7281[_0x515577(0x3ba)]?.['includes'](this[_0x515577(0x665)][_0x515577(0x21d)]))_0x52113a=await this[_0x515577(0x6c7)](_0x7c7281,_0x3e6250,_0xe44a38);else return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x515577(0x665)]['wuid']+_0x515577(0x871)),null;}else this[_0x515577(0x8de)][_0x515577(0x5ef)](this['instanceName']+'\x20('+this[_0x515577(0x665)]['wuid']+_0x515577(0x47b));if(_0x52113a=await this[_0x515577(0x3f6)](_0x2809be,_0xe44a38),_0x52113a){this[_0x515577(0x8de)][_0x515577(0x5ef)](this[_0x515577(0x763)]+'\x20('+this[_0x515577(0x665)][_0x515577(0x21d)]+_0x515577(0x662)),!_0x3e6250[_0x515577(0x741)]&&_0x52113a[_0x515577(0x889)]&&this[_0x515577(0x369)](_0x52113a);let _0x5d9217=await this[_0x515577(0x6fe)](_0x52113a);_0x5d9217&&await this[_0x515577(0x749)](_0x52113a,_0x5d9217);}}catch(_0x5f2a09){this['logger'][_0x515577(0x20e)](this[_0x515577(0x763)]+'\x20('+this[_0x515577(0x665)][_0x515577(0x21d)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x5f2a09 instanceof Error?_0x5f2a09['message']:JSON[_0x515577(0x8f1)](_0x5f2a09,null,0x2)));}}[a0_0x2f588e(0x5fe)](_0x3b90bb,_0x1f0f29='',_0x5153b2={}){const _0x366a3d=a0_0x2f588e;return typeof _0x3b90bb!=_0x366a3d(0x57a)||_0x3b90bb===null?(_0x1f0f29&&(_0x5153b2[_0x1f0f29]=_0x3b90bb),_0x5153b2):(Object[_0x366a3d(0x5c5)](_0x3b90bb)['forEach'](([_0x9547b3,_0x2a2397])=>{const _0x5d519b=_0x366a3d;let _0x2db305=_0x1f0f29?_0x1f0f29+'.'+_0x9547b3:'_'+_0x9547b3;Array['isArray'](_0x2a2397)?_0x2a2397[_0x5d519b(0x255)]((_0x9639b5,_0x20bfc5)=>{this['flattenObject'](_0x9639b5,_0x2db305+'['+_0x20bfc5+']',_0x5153b2);}):typeof _0x2a2397=='object'&&_0x2a2397!==null?this[_0x5d519b(0x5fe)](_0x2a2397,_0x2db305,_0x5153b2):_0x5153b2[_0x2db305]=String(_0x2a2397);}),_0x5153b2);}['variablesToObject'](_0x2a60a5){const _0x428d62=a0_0x2f588e;let _0x5789e0={};for(let _0x3aebba of _0x2a60a5)typeof _0x3aebba[_0x428d62(0x7dc)]==_0x428d62(0x786)&&typeof _0x3aebba[_0x428d62(0x3ea)]==_0x428d62(0x786)&&(_0x5789e0[_0x3aebba[_0x428d62(0x7dc)]]=_0x3aebba['value']);return _0x5789e0;}async[a0_0x2f588e(0x6fe)](_0x2d836d){const _0x1a1f00=a0_0x2f588e;if(!this['AutomateSystem']?.['flowConfig'][_0x1a1f00(0x76d)]||_0x2d836d[_0x1a1f00(0x3f3)]!==_0x1a1f00(0x26c)&&_0x2d836d[_0x1a1f00(0x7f1)]==='')return null;let _0x49c56d=_0x2d836d[_0x1a1f00(0x820)]['lastBlockId']||_0x1a1f00(0x655);typeof _0x2d836d[_0x1a1f00(0x820)]['lastCondition']>'u'&&(_0x2d836d[_0x1a1f00(0x820)][_0x1a1f00(0x4d4)]=!0x0);let _0x54d0ca=_0x2d836d['chatLog'][_0x1a1f00(0x4d4)];this[_0x1a1f00(0x8de)][_0x1a1f00(0x5ef)](this['instanceName']+'\x20('+this[_0x1a1f00(0x665)][_0x1a1f00(0x21d)]+'):\x20lastBlockId:\x20'+_0x49c56d+_0x1a1f00(0x891)+_0x54d0ca);let _0x13b959=_0x49c56d===_0x1a1f00(0x655)?_0x2d836d[_0x1a1f00(0x5be)][_0x1a1f00(0x3b1)](_0x2f6b85=>_0x2f6b85['type']==='start'):_0x2d836d['blocks']['find'](_0x43bc11=>_0x43bc11[_0x1a1f00(0x461)][_0x1a1f00(0x52b)]()===_0x49c56d[_0x1a1f00(0x52b)]());if(!_0x13b959)return this['logger'][_0x1a1f00(0x20e)](this['instanceName']+'\x20('+this[_0x1a1f00(0x665)][_0x1a1f00(0x21d)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x49c56d),null;let _0x306dde={'_pushName':_0x2d836d?.[_0x1a1f00(0x820)]?.[_0x1a1f00(0x518)]?.[_0x1a1f00(0x913)]||'','_sender':this[_0x1a1f00(0x665)]['wuid']||'',..._0x2d836d['chatLog'][_0x1a1f00(0x4b0)]},_0x35cb0e=null;if(_0x2d836d[_0x1a1f00(0x7f1)]){let _0x28b3cc=_0x2d836d[_0x1a1f00(0x820)]['lastReceivedMessage'][_0x1a1f00(0x58d)],_0x63c2d6=_0x2d836d['waitingMenu_replyOptions']['find'](_0x2127f5=>_0x2127f5[_0x1a1f00(0x49c)]===_0x28b3cc);if(_0x63c2d6){let _0x55c2fb=_0x63c2d6[_0x1a1f00(0x779)];if(_0x35cb0e=_0x2d836d[_0x1a1f00(0x5be)]['find'](_0x4b8d92=>_0x4b8d92[_0x1a1f00(0x653)]===_0x55c2fb&&_0x4b8d92[_0x1a1f00(0x754)]===0x1),_0x13b959[_0x1a1f00(0x54e)]['pollOnReplyDelete']){let _0x2475a2={'id':_0x2d836d[_0x1a1f00(0x7f1)],'remoteJid':_0x2d836d[_0x1a1f00(0x46d)],'fromMe':!0x0};await this['deleteMessage'](_0x2475a2);}if(_0x13b959[_0x1a1f00(0x54e)]['pollOnReplyDelete']&&_0x13b959[_0x1a1f00(0x54e)][_0x1a1f00(0x3e2)]&&_0x13b959[_0x1a1f00(0x54e)][_0x1a1f00(0x44b)]==='poll'){let _0x36576d={'number':_0x2d836d[_0x1a1f00(0x46d)],'options':{'delay':0x0},'textMessage':{'text':_0x1a1f00(0x87e)+_0x2d836d[_0x1a1f00(0x82a)]+'\x0a*Você\x20respondeu*:\x0a'+_0x28b3cc}};await this[_0x1a1f00(0x845)](_0x36576d);}_0x2d836d[_0x1a1f00(0x3f3)]=_0x1a1f00(0x26c),_0x2d836d[_0x1a1f00(0x7f1)]='',_0x2d836d['waitingMenu_text']='',_0x2d836d[_0x1a1f00(0x781)]=[];}else{this[_0x1a1f00(0x8de)][_0x1a1f00(0x5ef)](this[_0x1a1f00(0x763)]+'\x20('+this[_0x1a1f00(0x665)][_0x1a1f00(0x21d)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x13af12={'activatedCount':_0x2d836d[_0x1a1f00(0x820)][_0x1a1f00(0x2e7)][_0x1a1f00(0x568)](_0x1b50e6=>String(_0x1b50e6[_0x1a1f00(0x34f)])===String(_0x49c56d))['length'],'moreLogs':[_0x1a1f00(0x583)]};if(_0x13b959['uazapi'][_0x1a1f00(0x417)]){let _0x433b33={'number':_0x2d836d['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x13b959[_0x1a1f00(0x54e)][_0x1a1f00(0x417)]}};await this[_0x1a1f00(0x845)](_0x433b33);}if(_0x13b959['maxActives']!==void 0x0&&_0x13af12[_0x1a1f00(0x8f4)]>=_0x13b959[_0x1a1f00(0x4f4)]){let _0x38aa01=Date[_0x1a1f00(0x71f)](),_0x277adc=_0x13b959[_0x1a1f00(0x6df)]??0xa;isNaN(_0x277adc)&&(_0x277adc=0xa);let _0x2cd404=_0x38aa01+_0x277adc*0x3c*0x3e8;_0x13af12[_0x1a1f00(0x6de)]=_0x2cd404,_0x13af12[_0x1a1f00(0x5fc)][_0x1a1f00(0x651)](_0x1a1f00(0x78c)),this[_0x1a1f00(0x246)](_0x2d836d,_0x2cd404),_0x2d836d[_0x1a1f00(0x7f1)]='',_0x2d836d[_0x1a1f00(0x82a)]='',_0x2d836d[_0x1a1f00(0x781)]=[];}return this[_0x1a1f00(0x872)](_0x2d836d,_0x13b959,_0x13af12,!0x0),null;}}if(_0x54d0ca&&_0x13b959[_0x1a1f00(0x779)]&&!_0x2d836d[_0x1a1f00(0x7f1)]){let _0x577d76=_0x2d836d[_0x1a1f00(0x5be)]['filter'](_0x338a02=>_0x338a02[_0x1a1f00(0x653)]['toString']()===_0x13b959[_0x1a1f00(0x779)]['toString']())['sort']((_0x806bce,_0x22504b)=>_0x806bce[_0x1a1f00(0x754)]-_0x22504b[_0x1a1f00(0x754)]);_0x577d76[_0x1a1f00(0x8b9)]>0x0&&(_0x35cb0e=_0x577d76[0x0]);}if(!_0x35cb0e){let _0x8451d0=_0x13b959[_0x1a1f00(0x653)],_0x1d5491=_0x2d836d[_0x1a1f00(0x5be)][_0x1a1f00(0x568)](_0x2f4a4e=>_0x2f4a4e[_0x1a1f00(0x653)]===_0x8451d0&&_0x2f4a4e[_0x1a1f00(0x754)]>_0x13b959[_0x1a1f00(0x754)])[_0x1a1f00(0x27a)]((_0x5b10fd,_0x4c7d94)=>_0x5b10fd[_0x1a1f00(0x754)]-_0x4c7d94['order']);_0x1d5491[_0x1a1f00(0x8b9)]>0x0&&(_0x35cb0e=_0x1d5491[0x0]);}if(!_0x35cb0e)return _0x2d836d['status']=_0x1a1f00(0x2e6),null;_0x2d836d['chatLog']['realVariables']=_0x306dde;let _0x348441=JSON[_0x1a1f00(0x2a3)](JSON[_0x1a1f00(0x8f1)](_0x35cb0e));return this[_0x1a1f00(0x6a2)](_0x348441,_0x2d836d[_0x1a1f00(0x820)]['realVariables']),_0x2d836d[_0x1a1f00(0x820)][_0x1a1f00(0x22f)]=_0x348441[_0x1a1f00(0x461)],_0x2d836d[_0x1a1f00(0x820)][_0x1a1f00(0x4d4)]=!0x0,_0x348441;}[a0_0x2f588e(0x407)](_0x150717,_0x3a73f0){const _0x52fa34=a0_0x2f588e;return _0x150717[_0x52fa34(0x499)](/\{\{([^}]+)\}\}/g,(_0x4049a2,_0x5f44fd)=>_0x3a73f0[_0x5f44fd]||'');}['replaceVariablesInObject'](_0x3af7a1,_0x5cb485){const _0x490da2=a0_0x2f588e;for(let _0x26890e in _0x3af7a1)typeof _0x3af7a1[_0x26890e]==_0x490da2(0x786)?_0x3af7a1[_0x26890e]=this[_0x490da2(0x407)](_0x3af7a1[_0x26890e],_0x5cb485):typeof _0x3af7a1[_0x26890e]==_0x490da2(0x57a)&&this[_0x490da2(0x6a2)](_0x3af7a1[_0x26890e],_0x5cb485);}async['goNextblock'](_0x18ad12,_0xe8b769){const _0x2c6b15=a0_0x2f588e;let _0x277ff1=_0xe8b769[_0x2c6b15(0x461)];if(_0x18ad12[_0x2c6b15(0x820)]&&_0x18ad12[_0x2c6b15(0x820)][_0x2c6b15(0x2e7)]){let _0x30c459=_0x18ad12[_0x2c6b15(0x820)][_0x2c6b15(0x2e7)][_0x2c6b15(0x568)](_0x31ee3f=>String(_0x31ee3f[_0x2c6b15(0x34f)])===String(_0x277ff1))[_0x2c6b15(0x543)]();if(_0x30c459&&_0x30c459['error']&&_0xe8b769[_0x2c6b15(0x8ed)])return _0x18ad12[_0x2c6b15(0x3f3)]=_0x2c6b15(0x2e6),await this['saveConversationToDatabase'](_0x18ad12),null;}if(_0xe8b769['type']===_0x2c6b15(0x54e)&&_0xe8b769[_0x2c6b15(0x54e)][_0x2c6b15(0x712)]==='sendPoll'&&_0x18ad12['waitingMenu_id'])return _0x18ad12[_0x2c6b15(0x820)][_0x2c6b15(0x22f)]=_0x277ff1,await this[_0x2c6b15(0x494)](_0x18ad12),null;let _0x630a3e=await this['NextBlock'](_0x18ad12);if(_0x18ad12[_0x2c6b15(0x820)]&&_0x18ad12[_0x2c6b15(0x820)][_0x2c6b15(0x2e7)]){let _0x5c467f=_0x18ad12[_0x2c6b15(0x820)][_0x2c6b15(0x2e7)]['filter'](_0x4c0d43=>String(_0x4c0d43[_0x2c6b15(0x34f)])===String(_0x277ff1))[_0x2c6b15(0x8b9)];if(_0xe8b769[_0x2c6b15(0x4f4)]!==void 0x0&&_0x5c467f>=_0xe8b769['maxActives']){let _0x5d742a=Date[_0x2c6b15(0x71f)](),_0x3e1633=_0xe8b769[_0x2c6b15(0x6df)]??0xa;isNaN(_0x3e1633)&&(_0x3e1633=0xa);let _0x39a18c=_0x5d742a+_0x3e1633*0x3c*0x3e8,_0x273a67={'newStoppedUntil':_0x39a18c};return this[_0x2c6b15(0x246)](_0x18ad12,_0x39a18c),this[_0x2c6b15(0x872)](_0x18ad12,_0xe8b769,_0x273a67,!0x0),null;}}_0x630a3e&&_0x630a3e[_0x2c6b15(0x7ef)]!==_0x2c6b15(0x3a7)&&await this[_0x2c6b15(0x749)](_0x18ad12,_0x630a3e),_0x630a3e||await this[_0x2c6b15(0x494)](_0x18ad12),_0x630a3e&&_0x630a3e[_0x2c6b15(0x7ef)]===_0x2c6b15(0x3a7)&&(_0x18ad12[_0x2c6b15(0x820)][_0x2c6b15(0x22f)]=_0x277ff1,await this[_0x2c6b15(0x494)](_0x18ad12));}async['processblock'](_0x4a004a,_0x21ea7a){const _0x141e85=a0_0x2f588e;try{let _0x5b4c88=_0x21ea7a[_0x141e85(0x7ef)];this[_0x141e85(0x8de)][_0x141e85(0x5ef)](this[_0x141e85(0x763)]+'\x20('+this[_0x141e85(0x665)][_0x141e85(0x21d)]+_0x141e85(0x693)+_0x5b4c88);let _0x3d591f={'uazapi':()=>this['processUazapi'](_0x4a004a,_0x21ea7a),'save':()=>this[_0x141e85(0x337)](_0x4a004a,_0x21ea7a),'stop':()=>this['stopConversation'](_0x4a004a,_0x21ea7a),'condition':()=>this[_0x141e85(0x2ca)](_0x4a004a,_0x21ea7a),'varedit':()=>this['processvaredits'](_0x4a004a,_0x21ea7a),'apirequest':()=>this['processApiRequest'](_0x4a004a,_0x21ea7a),'goToFlow':()=>this[_0x141e85(0x804)](_0x4a004a,_0x21ea7a),'scheduleFlow':()=>this[_0x141e85(0x4b2)](_0x4a004a,_0x21ea7a),'awaitSeconds':()=>this[_0x141e85(0x336)](_0x4a004a,_0x21ea7a),'clearVariables':()=>this[_0x141e85(0x471)](_0x4a004a,_0x21ea7a)}[_0x5b4c88];_0x3d591f&&await _0x3d591f();}catch(_0x5c62de){this[_0x141e85(0x8de)][_0x141e85(0x20e)](this['instanceName']+'\x20('+this[_0x141e85(0x665)][_0x141e85(0x21d)]+_0x141e85(0x6b0)+(_0x5c62de instanceof Error?_0x5c62de[_0x141e85(0x68b)]:JSON[_0x141e85(0x8f1)](_0x5c62de,null,0x2)));}}async[a0_0x2f588e(0x336)](_0x236641,_0x34d43f){const _0x38a426=a0_0x2f588e;if(this[_0x38a426(0x8de)]['verbose'](this[_0x38a426(0x763)]+'\x20('+this[_0x38a426(0x665)][_0x38a426(0x21d)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x236641||!_0x34d43f)return this[_0x38a426(0x8de)][_0x38a426(0x20e)](this[_0x38a426(0x763)]+'\x20('+this['instance'][_0x38a426(0x21d)]+_0x38a426(0x6eb)),null;let _0x2bb4c6=+_0x34d43f[_0x38a426(0x8d7)];isNaN(_0x2bb4c6)&&(_0x2bb4c6=0x0),_0x2bb4c6=Math[_0x38a426(0x3d6)](_0x2bb4c6,0x3c),await(0x0,w[_0x38a426(0x62f)])(_0x2bb4c6*0x3e8);let _0x26b4cb={'moreLogs':['Pausado\x20por\x20'+_0x2bb4c6+_0x38a426(0x278)]};return await this[_0x38a426(0x872)](_0x236641,_0x34d43f,_0x26b4cb),_0x2bb4c6;}async[a0_0x2f588e(0x471)](_0x17e076,_0x1d06a6){const _0x1c3ca2=a0_0x2f588e;if(this[_0x1c3ca2(0x8de)][_0x1c3ca2(0x5ef)](this[_0x1c3ca2(0x763)]+'\x20('+this[_0x1c3ca2(0x665)][_0x1c3ca2(0x21d)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x17e076||!_0x1d06a6)return this[_0x1c3ca2(0x8de)][_0x1c3ca2(0x20e)](this['instanceName']+'\x20('+this[_0x1c3ca2(0x665)][_0x1c3ca2(0x21d)]+_0x1c3ca2(0x6eb)),null;let _0x3e8fd7=[];if(_0x1d06a6['clearVariables'][_0x1c3ca2(0x565)]()===_0x1c3ca2(0x695)){let _0x20179f=[_0x1c3ca2(0x29f),_0x1c3ca2(0x507),_0x1c3ca2(0x1f1),_0x1c3ca2(0x618),'_remoteJid',_0x1c3ca2(0x461),_0x1c3ca2(0x530)];_0x3e8fd7=Object[_0x1c3ca2(0x37a)](_0x17e076[_0x1c3ca2(0x820)][_0x1c3ca2(0x4b0)])[_0x1c3ca2(0x568)](_0x3b3b39=>_0x3b3b39[_0x1c3ca2(0x4de)]('_')&&!_0x20179f[_0x1c3ca2(0x3e8)](_0x3b3b39));}else _0x3e8fd7=_0x1d06a6[_0x1c3ca2(0x347)][_0x1c3ca2(0x50b)]('|')[_0x1c3ca2(0x475)](_0x2d81f5=>(_0x2d81f5=_0x2d81f5[_0x1c3ca2(0x499)](/[{}]/g,'')['trim'](),_0x2d81f5['startsWith']('_')?_0x2d81f5:'_'+_0x2d81f5));let _0x5ec27a=[];_0x3e8fd7[_0x1c3ca2(0x255)](_0x652fd=>{const _0x113495=_0x1c3ca2;_0x652fd in _0x17e076[_0x113495(0x820)][_0x113495(0x4b0)]&&(delete _0x17e076[_0x113495(0x820)][_0x113495(0x4b0)][_0x652fd],_0x5ec27a[_0x113495(0x651)](_0x652fd));}),_0x5ec27a[_0x1c3ca2(0x8b9)]>0x0?this['logger']['verbose'](this[_0x1c3ca2(0x763)]+'\x20('+this[_0x1c3ca2(0x665)][_0x1c3ca2(0x21d)]+_0x1c3ca2(0x4b6)+_0x5ec27a['join'](',\x20')):this[_0x1c3ca2(0x8de)][_0x1c3ca2(0x5ef)](this[_0x1c3ca2(0x763)]+'\x20('+this['instance']['wuid']+_0x1c3ca2(0x673));let _0x3995df={'moreLogs':[_0x1c3ca2(0x477)+_0x5ec27a[_0x1c3ca2(0x88b)](',\x20')]};return await this[_0x1c3ca2(0x872)](_0x17e076,_0x1d06a6,_0x3995df),null;}async[a0_0x2f588e(0x4b2)](_0x40ae63,_0x604918){const _0x54fd1f=a0_0x2f588e;if(this['logger'][_0x54fd1f(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x54fd1f(0x21d)]+_0x54fd1f(0x5a2)),!_0x40ae63||!_0x604918)return this[_0x54fd1f(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x54fd1f(0x665)]['wuid']+_0x54fd1f(0x6eb)),null;let _0x205662=_0x40ae63[_0x54fd1f(0x46d)];_0x604918[_0x54fd1f(0x440)]['remoteJid']&&_0x604918[_0x54fd1f(0x440)][_0x54fd1f(0x46d)]['trim']()!==''&&(_0x205662=_0x604918[_0x54fd1f(0x54e)]['remoteJid']['trim']());let _0x38a302=_0x604918[_0x54fd1f(0x440)][_0x54fd1f(0x4b4)]*0xea60,_0x504384=Date[_0x54fd1f(0x71f)]()+_0x38a302,_0x5861a7={'status':_0x54fd1f(0x710),'info':_0x54fd1f(0x3d9)+_0x40ae63[_0x54fd1f(0x7dc)],'remoteJids':[_0x205662],'when':_0x504384,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x54fd1f(0x262),'flowName':_0x604918[_0x54fd1f(0x440)][_0x54fd1f(0x5bb)]};this[_0x54fd1f(0x5e2)](_0x5861a7);let _0x35a68b=await this[_0x54fd1f(0x6fe)](_0x40ae63);_0x35a68b&&await this[_0x54fd1f(0x749)](_0x40ae63,_0x35a68b);}async[a0_0x2f588e(0x804)](_0x3d0a2e,_0x5c56bd){const _0xebae76=a0_0x2f588e;if(this[_0xebae76(0x8de)][_0xebae76(0x5ef)](this[_0xebae76(0x763)]+'\x20('+this[_0xebae76(0x665)][_0xebae76(0x21d)]+_0xebae76(0x34d)),!_0x3d0a2e||!_0x5c56bd)return this[_0xebae76(0x8de)][_0xebae76(0x20e)](this['instanceName']+'\x20('+this[_0xebae76(0x665)][_0xebae76(0x21d)]+_0xebae76(0x6eb)),null;await this[_0xebae76(0x872)](_0x3d0a2e,_0x5c56bd,{},!0x0,!0x0);let _0x1dc4a5=_0x5c56bd[_0xebae76(0x3e3)];_0x3d0a2e=await this[_0xebae76(0x617)](_0x1dc4a5,_0x3d0a2e[_0xebae76(0x46d)],_0x3d0a2e['chatLog'][_0xebae76(0x4b0)]);let _0x58c291=await this[_0xebae76(0x6fe)](_0x3d0a2e);_0x58c291&&await this[_0xebae76(0x749)](_0x3d0a2e,_0x58c291);}async[a0_0x2f588e(0x617)](_0x3f1e43,_0x24761c,_0xc1416a){const _0x2838e7=a0_0x2f588e;this[_0x2838e7(0x8de)]['verbose'](this[_0x2838e7(0x763)]+'\x20('+this[_0x2838e7(0x665)]['wuid']+_0x2838e7(0x825));try{let _0x460bf6=this[_0x2838e7(0x7e2)]['flows'][_0x2838e7(0x3b1)](_0x4200e1=>_0x4200e1[_0x2838e7(0x461)]===_0x3f1e43);_0x460bf6||this['logger']['error'](this[_0x2838e7(0x763)]+'\x20('+this[_0x2838e7(0x665)][_0x2838e7(0x21d)]+_0x2838e7(0x398)+_0x3f1e43+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x2deefb=await this[_0x2838e7(0x230)]['flow'][_0x2838e7(0x876)]({'where':{'_id':_0x460bf6[_0x2838e7(0x461)]}});if(!_0x2deefb||!_0x2deefb[_0x2838e7(0x3ba)]?.['includes'](this[_0x2838e7(0x665)][_0x2838e7(0x21d)]))throw this[_0x2838e7(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x2838e7(0x665)][_0x2838e7(0x21d)]+_0x2838e7(0x398)+_0x3f1e43+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x3f1e43+_0x2838e7(0x66c));let _0x5606e0=require('mongodb')[_0x2838e7(0x758)],_0x481935=Date[_0x2838e7(0x71f)](),_0x76764c=_0x2838e7(0x655),_0x3a93a4={},_0x4b6a0b={},_0x5efc92=this[_0x2838e7(0x7e2)]['flows'][_0x2838e7(0x3b1)](_0x14d6f5=>_0x14d6f5['_id']===_0x2deefb[_0x2838e7(0x461)]?.[_0x2838e7(0x52b)]()),_0x55d84f=_0x5efc92?.[_0x2838e7(0x7c6)]??_0x2deefb[_0x2838e7(0x7c6)]??0x0,_0x1a9ae6=_0x5efc92?.[_0x2838e7(0x889)]??_0x2deefb[_0x2838e7(0x889)]??!0x1,_0x4de3cd={'flowId':_0x460bf6[_0x2838e7(0x461)],'readMessages':_0x460bf6['readMessages'],..._0x2deefb,'chatLog':null},_0x2cf7cb={'lastReceivedMessage':_0x3a93a4,'lastSendMessage':_0x4b6a0b,'lastBlockId':_0x76764c,'lastCondition':!0x0,'realVariables':_0xc1416a};_0x4de3cd['chatLog']=_0x2cf7cb,_0x4de3cd[_0x2838e7(0x820)][_0x2838e7(0x4b0)]={..._0xc1416a},delete _0x4de3cd[_0x2838e7(0x461)],_0x4de3cd[_0x2838e7(0x461)]=new _0x5606e0(),_0x4de3cd[_0x2838e7(0x57d)]=_0x481935,_0x4de3cd[_0x2838e7(0x3f3)]=_0x2838e7(0x26c),_0x4de3cd['remoteJid']=_0x24761c,_0x4de3cd['minutesToClose']=_0x55d84f,_0x4de3cd[_0x2838e7(0x889)]=_0x1a9ae6;let _0x4187f1=await this[_0x2838e7(0x230)][_0x2838e7(0x6e3)][_0x2838e7(0x805)](_0x4de3cd['_id'],_0x4de3cd,this[_0x2838e7(0x665)][_0x2838e7(0x21d)]);return this[_0x2838e7(0x8de)][_0x2838e7(0x5ef)](this[_0x2838e7(0x763)]+'\x20('+this[_0x2838e7(0x665)][_0x2838e7(0x21d)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4187f1?_0x4de3cd:null;}catch(_0x38b0d2){let _0x55094b=_0x2838e7(0x80e),_0x3527b7=_0x38b0d2 instanceof Error?_0x38b0d2[_0x2838e7(0x68b)]:typeof _0x38b0d2==_0x2838e7(0x57a)?JSON['stringify'](_0x38b0d2):_0x38b0d2,_0x5de07f=_0x55094b+':\x20'+_0x3527b7;throw this[_0x2838e7(0x8de)][_0x2838e7(0x20e)](this[_0x2838e7(0x763)]+'\x20('+this['instance'][_0x2838e7(0x21d)]+'):\x20'+_0x5de07f),new m(_0x5de07f);}}async['processApiRequest'](_0x49567b,_0x12471){const _0x56a3a6=a0_0x2f588e;let _0x2f4939,_0x54e78d;try{let _0x386dd2=_0x12471[_0x56a3a6(0x40c)];if(!_0x386dd2||!_0x386dd2[_0x56a3a6(0x664)]||!_0x386dd2[_0x56a3a6(0x520)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x32e61d;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations',_0x56a3a6(0x4d0)][_0x56a3a6(0x855)](_0x247f84=>_0x386dd2['url'][_0x56a3a6(0x3e8)](_0x247f84))||_0x386dd2[_0x56a3a6(0x861)])&&(_0x32e61d=_0x56a3a6(0x2b9));let _0x232628='\u205f',_0x479ece;try{_0x479ece=JSON['parse'](_0x386dd2[_0x56a3a6(0x480)]['replace'](new RegExp(_0x232628,'g'),''));}catch(_0x330dae){throw _0x330dae;}let _0x47743c={'method':_0x386dd2[_0x56a3a6(0x520)],'url':_0x386dd2[_0x56a3a6(0x664)],'headers':_0x386dd2[_0x56a3a6(0x32f)]||{},..._0x386dd2[_0x56a3a6(0x520)][_0x56a3a6(0x73d)]()!=='GET'&&_0x386dd2[_0x56a3a6(0x480)]?{'data':JSON[_0x56a3a6(0x2a3)](_0x386dd2[_0x56a3a6(0x480)]['replace'](new RegExp(_0x232628,'g'),''))}:{},..._0x32e61d&&{'responseType':_0x32e61d}},_0x569fb0=await(0x0,te[_0x56a3a6(0x6d0)])(_0x47743c),_0x42ec7c=_0x569fb0[_0x56a3a6(0x354)][_0x56a3a6(0x689)];if(_0x42ec7c&&_0x42ec7c[_0x56a3a6(0x3e8)](_0x56a3a6(0x325))||typeof _0x569fb0[_0x56a3a6(0x28c)]==_0x56a3a6(0x786)){if(typeof _0x569fb0[_0x56a3a6(0x28c)]==_0x56a3a6(0x786)){let _0x4ef776=_0x569fb0[_0x56a3a6(0x28c)][_0x56a3a6(0x499)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x56a3a6(0x565)]();try{_0x2f4939=JSON['parse'](_0x4ef776);}catch(_0x120476){this[_0x56a3a6(0x8de)][_0x56a3a6(0x20e)](_0x56a3a6(0x3de)+_0x120476[_0x56a3a6(0x68b)]),_0x2f4939={'_apiResponse':_0x569fb0[_0x56a3a6(0x28c)]};}}else _0x2f4939=_0x569fb0[_0x56a3a6(0x28c)];let _0x3e805f=_0x49567b[_0x56a3a6(0x820)]['realVariables'],_0x3afc35=this[_0x56a3a6(0x5fe)](_0x2f4939);return Object[_0x56a3a6(0x71e)](_0x3e805f,_0x3afc35),_0x49567b['chatLog'][_0x56a3a6(0x4b0)]=_0x3e805f,_0x54e78d={'error':!0x1,'apiResponse':_0x2f4939},this[_0x56a3a6(0x872)](_0x49567b,_0x12471,_0x54e78d),_0x2f4939;}if(_0x42ec7c&&(_0x42ec7c[_0x56a3a6(0x3e8)](_0x56a3a6(0x46b))||_0x42ec7c['includes'](_0x56a3a6(0x67a))||_0x42ec7c[_0x56a3a6(0x3e8)](_0x56a3a6(0x7c8))||_0x42ec7c['includes'](_0x56a3a6(0x8f0)))){this[_0x56a3a6(0x8de)][_0x56a3a6(0x5ef)](this[_0x56a3a6(0x763)]+'\x20('+this[_0x56a3a6(0x665)][_0x56a3a6(0x21d)]+_0x56a3a6(0x7d4)+_0x42ec7c);let _0x5af99a=(0x0,X['v4'])(),_0x1bb36e='',_0x1ad3ed={'image/jpeg':_0x56a3a6(0x90c),'image/png':_0x56a3a6(0x55f),'image/gif':_0x56a3a6(0x6a4),'image/webp':_0x56a3a6(0x72d),'image/svg+xml':_0x56a3a6(0x536),'audio/mpeg':_0x56a3a6(0x5d7),'audio/ogg':_0x56a3a6(0x7a7),'audio/wav':_0x56a3a6(0x84f),'video/mp4':'.mp4','video/webm':_0x56a3a6(0x288),'video/ogg':_0x56a3a6(0x7b7),'text/plain':'.txt','application/pdf':'.pdf','application/msword':_0x56a3a6(0x6ea),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x56a3a6(0x1d4),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x56a3a6(0x8c6),'application/vnd.ms-powerpoint':_0x56a3a6(0x302),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x56a3a6(0x7c9)};_0x1ad3ed[_0x42ec7c]?(_0x1bb36e=_0x1ad3ed[_0x42ec7c],this[_0x56a3a6(0x8de)][_0x56a3a6(0x5ef)](this[_0x56a3a6(0x763)]+'\x20('+this[_0x56a3a6(0x665)][_0x56a3a6(0x21d)]+_0x56a3a6(0x8f7)+_0x1bb36e)):(_0x1bb36e='.error',this[_0x56a3a6(0x8de)]['verbose'](this[_0x56a3a6(0x763)]+'\x20('+this[_0x56a3a6(0x665)][_0x56a3a6(0x21d)]+_0x56a3a6(0x346)+_0x1bb36e)),_0x5af99a+=_0x1bb36e,this[_0x56a3a6(0x8de)][_0x56a3a6(0x5ef)](this[_0x56a3a6(0x763)]+'\x20('+this[_0x56a3a6(0x665)][_0x56a3a6(0x21d)]+_0x56a3a6(0x537)+_0x5af99a);let _0x52872d=this[_0x56a3a6(0x521)]['get'](_0x56a3a6(0x50e))['URL'];if(!_0x52872d){let _0x32916b=this[_0x56a3a6(0x521)][_0x56a3a6(0x375)](_0x56a3a6(0x8b3));_0x52872d=_0x56a3a6(0x6fb)+(_0x32916b&&_0x32916b[_0x56a3a6(0x447)][_0x56a3a6(0x50b)]('/')[0x4]);}let _0x53575f=Buffer[_0x56a3a6(0x3fe)](_0x569fb0['data']);await this[_0x56a3a6(0x2c3)](_0x53575f,_0x5af99a);let _0x20ec8e=_0x56a3a6(0x6c2)+_0x5af99a;_0x20ec8e=''+_0x52872d+_0x20ec8e,_0x2f4939={'fileUrl':_0x20ec8e},_0x49567b['chatLog'][_0x56a3a6(0x4b0)][_0x56a3a6(0x52d)]=_0x20ec8e;let _0xcec4e2=_0x49567b['chatLog']['realVariables'],_0x28a405=this[_0x56a3a6(0x5fe)](_0x2f4939);return Object['assign'](_0xcec4e2,_0x28a405),_0x49567b[_0x56a3a6(0x820)][_0x56a3a6(0x4b0)]=_0xcec4e2,_0x54e78d={'error':!0x1,'apiResponse':{'fileUrl':_0x20ec8e}},this[_0x56a3a6(0x872)](_0x49567b,_0x12471,_0x54e78d),_0x2f4939;}}catch(_0x586211){this[_0x56a3a6(0x8de)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x586211[_0x56a3a6(0x68b)]),_0x586211[_0x56a3a6(0x82b)]&&(_0x2f4939=_0x586211['response'][_0x56a3a6(0x28c)]);let _0x30038a=_0x49567b[_0x56a3a6(0x820)]['realVariables'],_0x489d7d=this[_0x56a3a6(0x5fe)](_0x2f4939);return Object['assign'](_0x30038a,_0x489d7d),_0x49567b[_0x56a3a6(0x820)][_0x56a3a6(0x4b0)]=_0x30038a,_0x54e78d={'error':!0x0,'errorLog':_0x586211[_0x56a3a6(0x52b)](),'apiResponse':_0x2f4939},this[_0x56a3a6(0x872)](_0x49567b,_0x12471,_0x54e78d),{'success':!0x1};}}[a0_0x2f588e(0x830)](_0x1832b6,_0x4ca721){const _0x46e303=a0_0x2f588e;let _0x719e8b=_0x45e402=>{const _0x5c368b=a0_0x5c2a;let _0x343086=_0x45e402[_0x5c368b(0x499)](/[^0-9.,-]/g,'')[_0x5c368b(0x499)](',','.'),_0x21dc4d=parseFloat(_0x343086);return isNaN(_0x21dc4d)?null:_0x21dc4d;},_0x244905=_0x4ca721['firstValue'],_0x1d0f01=_0x4ca721['secondValue'];typeof _0x244905==_0x46e303(0x786)&&(_0x244905=this['replaceVariables'](_0x244905,_0x1832b6[_0x46e303(0x820)][_0x46e303(0x4b0)])??''),typeof _0x1d0f01==_0x46e303(0x786)&&(_0x1d0f01=this[_0x46e303(0x407)](_0x1d0f01,_0x1832b6[_0x46e303(0x820)][_0x46e303(0x4b0)])??'');let _0x3f3a01=null;if(!_0x4ca721['editOperator'])return null;switch(this[_0x46e303(0x8de)][_0x46e303(0x5ef)](this[_0x46e303(0x763)]+'\x20('+this['instance'][_0x46e303(0x21d)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x244905),this[_0x46e303(0x8de)]['verbose'](this[_0x46e303(0x763)]+'\x20('+this[_0x46e303(0x665)][_0x46e303(0x21d)]+_0x46e303(0x8aa)+_0x1d0f01),_0x4ca721[_0x46e303(0x7f7)]){case'+':case'-':case'*':case'/':let _0x11e8d1=_0x719e8b(_0x244905||'0'),_0xf05ee8=_0x719e8b(_0x1d0f01||'0');if(_0x11e8d1===null)return null;switch(_0x4ca721[_0x46e303(0x7f7)]){case'+':_0x3f3a01=_0x11e8d1+(_0xf05ee8??0x0);break;case'-':_0x3f3a01=_0x11e8d1-(_0xf05ee8??0x0);break;case'*':_0x3f3a01=_0x11e8d1*(_0xf05ee8??0x1);break;case'/':_0xf05ee8!==0x0&&(_0x3f3a01=_0x11e8d1/(_0xf05ee8??0x1));break;}break;case _0x46e303(0x409):case'findAndReplaceRegex':let _0x5d71ac=_0x1d0f01,_0x481ba3=_0x4ca721[_0x46e303(0x3a3)];if(typeof _0x481ba3==_0x46e303(0x786)&&(_0x481ba3=this[_0x46e303(0x407)](_0x481ba3,_0x1832b6['chatLog'][_0x46e303(0x4b0)])??''),_0x5d71ac&&_0x481ba3!==void 0x0){let _0x4ba761=_0x4ca721[_0x46e303(0x7f7)]==='findAndReplace'?new RegExp(_0x5d71ac[_0x46e303(0x499)](/[-\/\\^$*+?.()|[\]{}]/g,_0x46e303(0x6e2)),'g'):new RegExp(_0x5d71ac,'g');_0x3f3a01=_0x244905[_0x46e303(0x499)](_0x4ba761,_0x481ba3);}else console[_0x46e303(0x2ae)](_0x46e303(0x205));break;case _0x46e303(0x7d2):_0x3f3a01=_0x1d0f01;break;case _0x46e303(0x54f):let _0x2e5e5d=_0x244905[_0x46e303(0x5a5)](new RegExp(_0x1d0f01||''));_0x3f3a01=_0x2e5e5d?_0x2e5e5d[0x0]:'';break;case _0x46e303(0x519):_0x3f3a01=_0x244905['slice'](0x0,parseInt(_0x1d0f01||'0'));break;case'truncatedtoEnd':let _0x1999c3=parseInt(_0x1d0f01||'0');_0x3f3a01=_0x244905[_0x46e303(0x629)](_0x244905[_0x46e303(0x8b9)]-_0x1999c3);break;case _0x46e303(0x350):let _0x47e11d=_0x719e8b(_0x244905),_0x314813=parseInt(_0x1d0f01||'0');_0x314813=Math[_0x46e303(0x74c)](_0x314813),_0x47e11d!==null?_0x3f3a01=_0x47e11d[_0x46e303(0x843)](_0x46e303(0x6f3),{'minimumFractionDigits':_0x314813,'maximumFractionDigits':_0x314813}):(console[_0x46e303(0x2ae)](_0x46e303(0x73b)+_0x244905),_0x3f3a01=null);break;case _0x46e303(0x5ae):let _0x38d76b=_0x719e8b(_0x244905);_0x38d76b!==null?_0x3f3a01=_0x38d76b[_0x46e303(0x843)](_0x46e303(0x6f3),{'style':_0x46e303(0x8bd),'currency':'BRL'}):(console[_0x46e303(0x2ae)](_0x46e303(0x547)+_0x244905),_0x3f3a01=null);break;case _0x46e303(0x295):_0x3f3a01=_0x244905[_0x46e303(0x73d)]();break;case _0x46e303(0x751):_0x3f3a01=_0x244905['toLowerCase']();break;case _0x46e303(0x5c3):_0x3f3a01=_0x244905[_0x46e303(0x50b)]('\x20')[_0x46e303(0x475)](_0xcb45ed=>_0xcb45ed['charAt'](0x0)['toUpperCase']()+_0xcb45ed[_0x46e303(0x629)](0x1)[_0x46e303(0x605)]())['join']('\x20');break;case _0x46e303(0x7e1):_0x3f3a01=_0x244905[_0x46e303(0x565)]();break;default:_0x3f3a01=_0x244905;}return _0x3f3a01!==null?_0x3f3a01[_0x46e303(0x52b)]():null;}async[a0_0x2f588e(0x217)](_0x57e48e,_0xcf24ad){const _0xd74f61=a0_0x2f588e;try{let _0x2d6737=_0x57e48e['varedits']?.[_0xd74f61(0x568)](_0x58ad3a=>_0x58ad3a[_0xd74f61(0x34f)]===_0xcf24ad[_0xd74f61(0x461)]?.[_0xd74f61(0x52b)]())||[],_0x1ba601=_0xcf24ad['saveVariable'],_0x55dd7d=null,_0x5bca5f=[],_0x3d042d=_0x57e48e[_0xd74f61(0x820)][_0xd74f61(0x4b0)][_0x1ba601];_0x5bca5f[_0xd74f61(0x651)](_0xd74f61(0x3f0)+_0x3d042d+'\x22');for(let _0x51c091 of _0x2d6737){_0x51c091[_0xd74f61(0x1d5)]=_0x3d042d,_0x55dd7d=_0x51c091[_0xd74f61(0x1d5)];let _0x51c021;try{_0x51c021=this[_0xd74f61(0x830)](_0x57e48e,_0x51c091);}catch(_0x19b645){this[_0xd74f61(0x8de)][_0xd74f61(0x20e)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x19b645[_0xd74f61(0x68b)]);continue;}if(_0x51c021!==null){let _0x4c60ee=_0xd74f61(0x6bb)+_0x51c091[_0xd74f61(0x7f7)]+'\x22',_0x1895a3=[_0xd74f61(0x5ae),_0xd74f61(0x295),_0xd74f61(0x751),_0xd74f61(0x5c3),_0xd74f61(0x7e1)];_0x51c091[_0xd74f61(0x7f7)]===_0xd74f61(0x409)||_0x51c091['editOperator']===_0xd74f61(0x5ba)?_0x4c60ee+=_0xd74f61(0x83d)+_0x51c091[_0xd74f61(0x32a)]+_0xd74f61(0x7fb)+_0x51c091[_0xd74f61(0x3a3)]+'\x22':!_0x1895a3[_0xd74f61(0x3e8)](_0x51c091[_0xd74f61(0x7f7)])&&_0x51c091[_0xd74f61(0x32a)]!==null&&_0x51c091[_0xd74f61(0x32a)]!==void 0x0&&(_0x4c60ee+=_0xd74f61(0x202)+_0x51c091[_0xd74f61(0x32a)]+'\x22'),_0x4c60ee+=_0xd74f61(0x46c)+_0x51c021+'.',_0x5bca5f['push'](_0x4c60ee);}_0x51c021!==null&&(_0x3d042d=_0x51c021);}if(_0x57e48e[_0xd74f61(0x820)][_0xd74f61(0x4b0)]&&_0xcf24ad['saveVariable']){_0x57e48e[_0xd74f61(0x820)][_0xd74f61(0x4b0)][_0xcf24ad[_0xd74f61(0x857)]]=_0x3d042d;let _0x47edf6={'variable':_0xcf24ad['saveVariable'],'oldValue':_0x55dd7d,'newValue':_0x3d042d,'moreLogs':_0x5bca5f};try{this['updateConversation'](_0x57e48e,_0xcf24ad,_0x47edf6);}catch(_0x5cdc3d){this[_0xd74f61(0x8de)]['error'](_0xd74f61(0x868)+_0x5cdc3d['message']);}}return _0x1ba601;}catch(_0x5e290f){return this['logger']['error'](_0xd74f61(0x89f)+_0x5e290f[_0xd74f61(0x68b)]),null;}}async[a0_0x2f588e(0x2ca)](_0x5a7321,_0x318bd6){const _0x3b3395=a0_0x2f588e;try{let _0x34cb0d=[],_0x3acdb9=_0x5a7321[_0x3b3395(0x67e)][_0x3b3395(0x568)](_0x5be5fc=>_0x5be5fc[_0x3b3395(0x34f)]===_0x318bd6[_0x3b3395(0x461)][_0x3b3395(0x52b)]()),_0x5a5e49=null,_0x1d47cb=!0x1;for(let _0xbd23a1 of _0x3acdb9){let _0x348d22=this[_0x3b3395(0x58b)](_0x5a7321,_0xbd23a1);_0x34cb0d[_0x3b3395(0x651)](_0x3b3395(0x214)+_0xbd23a1[_0x3b3395(0x1d5)]+_0x3b3395(0x79d)+_0xbd23a1[_0x3b3395(0x600)]+',\x20Segundo\x20Valor:\x20'+_0xbd23a1['secondValue']+_0x3b3395(0x24e)+_0x348d22),_0x5a5e49===null?_0x5a5e49=_0x348d22:_0xbd23a1[_0x3b3395(0x4ac)]===_0x3b3395(0x479)?(_0x5a5e49=_0x5a5e49&&_0x348d22,_0x348d22||(_0x1d47cb=!0x0)):_0xbd23a1[_0x3b3395(0x4ac)]==='or'&&(_0x1d47cb||(_0x5a5e49=_0x5a5e49||_0x348d22));}_0x5a5e49===null&&(_0x5a5e49=!0x0);let _0x1fd35f={'moreLogs':_0x34cb0d};_0x5a7321[_0x3b3395(0x820)][_0x3b3395(0x4d4)]=_0x5a5e49,await this[_0x3b3395(0x872)](_0x5a7321,_0x318bd6,_0x1fd35f);}catch(_0x42728e){this[_0x3b3395(0x8de)][_0x3b3395(0x20e)](this[_0x3b3395(0x763)]+'\x20('+this[_0x3b3395(0x665)][_0x3b3395(0x21d)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x42728e instanceof Error?_0x42728e[_0x3b3395(0x68b)]:JSON[_0x3b3395(0x8f1)](_0x42728e,null,0x2)));}}[a0_0x2f588e(0x58b)](_0x1de214,_0x485bfc){const _0x3ba589=a0_0x2f588e;let _0x13f974=_0x485bfc[_0x3ba589(0x1d5)],_0xb881dd=_0x485bfc['secondValue'];typeof _0x13f974=='string'&&(_0x13f974=this[_0x3ba589(0x407)](_0x13f974,_0x1de214[_0x3ba589(0x820)]['realVariables'])??''),typeof _0xb881dd=='string'&&(_0xb881dd=this[_0x3ba589(0x407)](_0xb881dd,_0x1de214[_0x3ba589(0x820)][_0x3ba589(0x4b0)])??'');try{switch(_0x485bfc[_0x3ba589(0x600)]){case _0x3ba589(0x298):return _0x13f974===_0xb881dd;case _0x3ba589(0x5d1):return _0x13f974!==_0xb881dd;case _0x3ba589(0x8a2):return this['contains'](_0x13f974,_0xb881dd);case _0x3ba589(0x28a):return!this[_0x3ba589(0x8a2)](_0x13f974,_0xb881dd);case'greater':return parseFloat(_0x13f974)>parseFloat(_0xb881dd);case _0x3ba589(0x5cc):return parseFloat(_0x13f974)<parseFloat(_0xb881dd);case _0x3ba589(0x3a2):return _0x13f974!=='';case _0x3ba589(0x81e):return _0x13f974==='';case _0x3ba589(0x8a9):return new RegExp(_0xb881dd)[_0x3ba589(0x798)](_0x13f974);case _0x3ba589(0x453):return!new RegExp(_0xb881dd)[_0x3ba589(0x798)](_0x13f974);default:return!0x1;}}catch(_0x13ef2e){return this['logger']['error'](_0x3ba589(0x397)+_0x13ef2e),!0x1;}}[a0_0x2f588e(0x8a2)](_0x31c75e,_0x3bf26f){const _0x43a366=a0_0x2f588e;if(_0x31c75e===_0x3bf26f&&/^\d+$/[_0x43a366(0x798)](_0x31c75e))return!0x0;if(this[_0x43a366(0x556)](_0x31c75e)&&/^\d+$/[_0x43a366(0x798)](_0x3bf26f)){let _0x1a4f08=_0x31c75e[_0x43a366(0x50b)](',')[_0x43a366(0x475)](_0x105277=>parseInt(_0x105277[_0x43a366(0x565)]())),_0x4e3282=parseInt(_0x3bf26f);return _0x1a4f08[_0x43a366(0x3e8)](_0x4e3282);}return _0x31c75e[_0x43a366(0x3e8)](_0x3bf26f);}['isListOfNumbers'](_0x190b56){const _0x308907=a0_0x2f588e;return/^\d+(,\d+)*$/[_0x308907(0x798)](_0x190b56);}['processConditionsTest'](_0x18b474){const _0x4fa9fe=a0_0x2f588e;let _0x35f82b=!0x0,_0x2c2fec=null;for(let _0x43c6ee of _0x18b474){let _0x4cde29=this[_0x4fa9fe(0x70c)](_0x43c6ee);if(_0x2c2fec==='or'&&_0x4cde29){_0x35f82b=!0x0;break;}if(_0x2c2fec==='and'&&!_0x4cde29){_0x35f82b=!0x1;break;}_0x2c2fec=_0x43c6ee['OrAnd'];}return _0x35f82b;}['evaluateConditionTest'](_0x1010c2){const _0x176f8d=a0_0x2f588e;let _0xc2936a=_0x1010c2[_0x176f8d(0x1d5)],_0x5f073d=_0x1010c2['secondValue'];try{switch(_0x1010c2['expression']){case _0x176f8d(0x298):return String(_0xc2936a)===String(_0x5f073d);case _0x176f8d(0x5d1):return String(_0xc2936a)!==String(_0x5f073d);case _0x176f8d(0x8a2):return String(_0xc2936a)['includes'](String(_0x5f073d));case _0x176f8d(0x28a):return!String(_0xc2936a)[_0x176f8d(0x3e8)](String(_0x5f073d));case _0x176f8d(0x3cd):return parseFloat(String(_0xc2936a))>parseFloat(String(_0x5f073d));case _0x176f8d(0x5cc):return parseFloat(String(_0xc2936a))<parseFloat(String(_0x5f073d));case _0x176f8d(0x3a2):return String(_0xc2936a)!=='';case'empty':return String(_0xc2936a)==='';case _0x176f8d(0x8a9):return new RegExp(String(_0x5f073d))['test'](String(_0xc2936a));case'notMatchRegex':return!new RegExp(String(_0x5f073d))[_0x176f8d(0x798)](String(_0xc2936a));default:return!0x1;}}catch(_0x4de5e4){return this[_0x176f8d(0x8de)][_0x176f8d(0x20e)](_0x176f8d(0x397)+_0x4de5e4),!0x1;}}async['saveTextReply'](_0x43f185,_0x2f74a0){const _0x54764a=a0_0x2f588e;if(this['logger'][_0x54764a(0x5ef)](this[_0x54764a(0x763)]+'\x20('+this[_0x54764a(0x665)][_0x54764a(0x21d)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x43f185||!_0x2f74a0)return this[_0x54764a(0x8de)][_0x54764a(0x20e)](this[_0x54764a(0x763)]+'\x20('+this[_0x54764a(0x665)][_0x54764a(0x21d)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x291eef=_0x43f185[_0x54764a(0x820)][_0x54764a(0x518)]['key']['id'];this[_0x54764a(0x8de)][_0x54764a(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x54764a(0x21d)]+_0x54764a(0x69a)+_0x291eef);let _0x3190a4={'key':{'id':_0x291eef}},_0x21c28a=_0x2f74a0[_0x54764a(0x857)];_0x43f185['chatLog']['realVariables']['_'+_0x21c28a+_0x54764a(0x2ad)]=null,_0x43f185[_0x54764a(0x820)][_0x54764a(0x4b0)]['_'+_0x21c28a+_0x54764a(0x34a)]=null,_0x43f185[_0x54764a(0x820)][_0x54764a(0x4b0)]['_'+_0x21c28a+_0x54764a(0x35e)]=null,_0x43f185[_0x54764a(0x820)][_0x54764a(0x4b0)]['_'+_0x21c28a+'.type']=_0x43f185[_0x54764a(0x820)][_0x54764a(0x518)]['type'];try{let _0x4f2745=await this[_0x54764a(0x1dd)](_0x3190a4);this[_0x54764a(0x8de)][_0x54764a(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x54764a(0x21d)]+_0x54764a(0x436)),_0x43f185['chatLog'][_0x54764a(0x4b0)]['_'+_0x21c28a+_0x54764a(0x526)]=_0x4f2745['fileUrl'],_0x43f185[_0x54764a(0x820)][_0x54764a(0x4b0)]['_'+_0x21c28a+_0x54764a(0x34a)]=_0x4f2745[_0x54764a(0x1fe)];let _0x58dd72=_0x4f2745['mimetype'][_0x54764a(0x5a5)](/\/(\w+)$/),_0x111d04=_0x58dd72?_0x58dd72[0x1]:null;_0x43f185[_0x54764a(0x820)]['realVariables']['_'+_0x21c28a+'.extension']=_0x111d04,this['logger'][_0x54764a(0x5ef)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x54764a(0x27b)+_0x21c28a+'\x27.');}catch(_0xd3cd75){this['logger'][_0x54764a(0x20e)](this['instanceName']+'\x20('+this[_0x54764a(0x665)][_0x54764a(0x21d)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0xd3cd75[_0x54764a(0x68b)]);}let _0x331d43=_0x43f185['chatLog']['lastReceivedMessage']['text']||_0x43f185[_0x54764a(0x820)][_0x54764a(0x518)][_0x54764a(0x1f0)]||_0x43f185[_0x54764a(0x820)]['lastReceivedMessage']['vote'];try{_0x43f185[_0x54764a(0x820)][_0x54764a(0x4b0)]||(_0x43f185[_0x54764a(0x820)][_0x54764a(0x4b0)]={});let _0x58194c=_0x43f185['chatLog']['realVariables'][_0x21c28a];_0x43f185[_0x54764a(0x820)]['realVariables'][_0x21c28a]=_0x331d43;let _0xe26422={'variable':_0x21c28a,'oldValue':_0x58194c,'newValue':_0x331d43};this[_0x54764a(0x872)](_0x43f185,_0x2f74a0,_0xe26422),this[_0x54764a(0x8de)][_0x54764a(0x5ef)](this['instanceName']+'\x20('+this[_0x54764a(0x665)][_0x54764a(0x21d)]+_0x54764a(0x562));}catch(_0x41582b){let _0x1337ce={'error':!0x0,'errorLog':_0x41582b['toString']()};return this['updateConversation'](_0x43f185,_0x2f74a0,_0x1337ce),this['logger'][_0x54764a(0x20e)](this[_0x54764a(0x763)]+'\x20('+this[_0x54764a(0x665)][_0x54764a(0x21d)]+_0x54764a(0x282)+(_0x41582b instanceof Error?_0x41582b[_0x54764a(0x68b)]:JSON[_0x54764a(0x8f1)](_0x41582b,null,0x2))),null;}}async[a0_0x2f588e(0x4c0)](_0x552106,_0xdf1715){const _0x4023f1=a0_0x2f588e;if(this[_0x4023f1(0x8de)][_0x4023f1(0x5ef)](this[_0x4023f1(0x763)]+'\x20('+this['instance'][_0x4023f1(0x21d)]+_0x4023f1(0x4b7)),!_0x552106||!_0xdf1715)return this[_0x4023f1(0x8de)][_0x4023f1(0x20e)](this[_0x4023f1(0x763)]+'\x20('+this[_0x4023f1(0x665)][_0x4023f1(0x21d)]+_0x4023f1(0x6eb)),null;let _0x2fd1ea=Date['now'](),_0x17cf2b=parseInt(_0xdf1715[_0x4023f1(0x210)],0xa);if(isNaN(_0x17cf2b))return this[_0x4023f1(0x8de)]['error'](this[_0x4023f1(0x763)]+'\x20('+this[_0x4023f1(0x665)]['wuid']+_0x4023f1(0x2e5)),null;let _0x5c3592={'newStoppedUntil':_0x2fd1ea+_0x17cf2b*0x3c*0x3e8};return await this[_0x4023f1(0x872)](_0x552106,_0xdf1715,_0x5c3592,!0x0),null;}async[a0_0x2f588e(0x83a)](_0x27654b,_0x2284b4){const _0x4c7196=a0_0x2f588e;try{switch(_0x2284b4[_0x4c7196(0x54e)][_0x4c7196(0x712)]){case'sendText':await this[_0x4c7196(0x364)](_0x27654b,_0x2284b4);break;case _0x4c7196(0x3d7):await this[_0x4c7196(0x3cb)](_0x27654b,_0x2284b4);break;case _0x4c7196(0x2da):await this[_0x4c7196(0x875)](_0x27654b,_0x2284b4);break;case _0x4c7196(0x2f3):await this[_0x4c7196(0x7ed)](_0x27654b,_0x2284b4);break;case _0x4c7196(0x608):await this[_0x4c7196(0x53b)](_0x27654b,_0x2284b4);break;case _0x4c7196(0x2bf):await this['uazapiSendMenu'](_0x27654b,_0x2284b4);break;case'sendMenu':await this[_0x4c7196(0x414)](_0x27654b,_0x2284b4);break;case _0x4c7196(0x4e8):await this[_0x4c7196(0x61f)](_0x27654b,_0x2284b4);break;default:this[_0x4c7196(0x8de)][_0x4c7196(0x20e)](this['instanceName']+'\x20('+this[_0x4c7196(0x665)][_0x4c7196(0x21d)]+_0x4c7196(0x584)+_0x2284b4[_0x4c7196(0x54e)][_0x4c7196(0x712)]);}}catch(_0x3eb4e1){this['logger'][_0x4c7196(0x20e)](this[_0x4c7196(0x763)]+'\x20('+this[_0x4c7196(0x665)][_0x4c7196(0x21d)]+_0x4c7196(0x671)+(_0x3eb4e1 instanceof Error?_0x3eb4e1['message']:JSON[_0x4c7196(0x8f1)](_0x3eb4e1,null,0x2)));}}async[a0_0x2f588e(0x872)](_0x2bf8a6,_0x16c031,_0x5ef6a2,_0x205b13=!0x1,_0x397bc0=!0x1){const _0x4dbe9c=a0_0x2f588e;_0x2bf8a6['chatLog'][_0x4dbe9c(0x2e7)]||(_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x2e7)]=[]);let _0x84e44b=(_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x2e7)]?.[_0x4dbe9c(0x8b9)]??0x0)+0x1,_0x4f37ba=_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x2e7)][_0x4dbe9c(0x568)](_0x37a55a=>String(_0x37a55a[_0x4dbe9c(0x34f)])===String(_0x16c031[_0x4dbe9c(0x461)]))[_0x4dbe9c(0x8b9)]+0x1,_0x2024ea=_0x5ef6a2?.[_0x4dbe9c(0x732)]??Date['now'](),_0x549cb0=_0x5ef6a2?.[_0x4dbe9c(0x20e)]?_0x5ef6a2['errorLog']??_0x5ef6a2[_0x4dbe9c(0x20e)]['toString']():void 0x0,_0x59aa11={'onTime':_0x2024ea,'blockId':_0x16c031['_id'],'order':_0x84e44b,'activatedCount':_0x4f37ba,'error':_0x5ef6a2?.['error']??!0x1,'messageId':_0x5ef6a2?.[_0x4dbe9c(0x387)],'apiResponse':_0x5ef6a2?.[_0x4dbe9c(0x6db)],'apiResponseString':_0x5ef6a2?.[_0x4dbe9c(0x6db)]?JSON[_0x4dbe9c(0x8f1)](_0x5ef6a2?.[_0x4dbe9c(0x6db)]):void 0x0,'variable':_0x5ef6a2?.[_0x4dbe9c(0x574)],'oldValue':_0x5ef6a2?.[_0x4dbe9c(0x2ed)],'newValue':_0x5ef6a2?.[_0x4dbe9c(0x1de)],'newStoppedUntil':_0x5ef6a2?.['newStoppedUntil'],'moreLogs':_0x5ef6a2?.[_0x4dbe9c(0x5fc)],'errorLog':_0x549cb0};if(_0x5ef6a2[_0x4dbe9c(0x5fc)]&&_0x5ef6a2[_0x4dbe9c(0x5fc)][_0x4dbe9c(0x8b9)]>0x0){let _0x5adc4a=_0x5ef6a2[_0x4dbe9c(0x5fc)]['map'](_0x2de41e=>this[_0x4dbe9c(0x61b)](_0x2de41e,_0x2bf8a6['chatLog'][_0x4dbe9c(0x4b0)]));_0x59aa11[_0x4dbe9c(0x5fc)]=_0x5adc4a;}if(_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4b0)]||(_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4b0)]={}),_0x2bf8a6['chatLog'][_0x4dbe9c(0x4b0)][_0x4dbe9c(0x444)]=String(_0x4f37ba),_0x2bf8a6['chatLog'][_0x4dbe9c(0x4b0)][_0x4dbe9c(0x1f1)]=String(_0x5ef6a2[_0x4dbe9c(0x20e)]??!0x1),_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x2e7)][_0x4dbe9c(0x651)](_0x59aa11),_0x2bf8a6['chatLog'][_0x4dbe9c(0x4b0)][_0x4dbe9c(0x64e)]&&_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4b0)][_0x4dbe9c(0x64e)]!==_0x2bf8a6[_0x4dbe9c(0x46d)]){let _0x3d4cd8=(await this[_0x4dbe9c(0x52c)]({'numbers':[_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4b0)][_0x4dbe9c(0x64e)]]}))[0x0][_0x4dbe9c(0x3a9)];_0x2bf8a6[_0x4dbe9c(0x820)]['realVariables'][_0x4dbe9c(0x64e)]=_0x3d4cd8,_0x2bf8a6['remoteJid']=_0x3d4cd8;try{let _0x3fd679={'_id':{'$ne':_0x2bf8a6[_0x4dbe9c(0x461)]},'remoteJid':_0x3d4cd8,'status':'open'},_0x2d76ab={'status':'closed'};await this[_0x4dbe9c(0x230)]['flowConversation'][_0x4dbe9c(0x883)](_0x3fd679,_0x2d76ab,this[_0x4dbe9c(0x665)]['wuid']),this[_0x4dbe9c(0x8de)][_0x4dbe9c(0x5ef)](this[_0x4dbe9c(0x763)]+'\x20('+this[_0x4dbe9c(0x665)][_0x4dbe9c(0x21d)]+_0x4dbe9c(0x481));}catch(_0x530f56){this[_0x4dbe9c(0x8de)][_0x4dbe9c(0x20e)](this['instanceName']+'\x20('+this['instance'][_0x4dbe9c(0x21d)]+_0x4dbe9c(0x90b)+_0x530f56['message']);}try{let _0x1b67f7=_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4b0)],_0x557629=await this[_0x4dbe9c(0x7bd)](_0x3d4cd8),_0x2df137={..._0x1b67f7,..._0x557629,'_remoteJid':_0x3d4cd8};_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4b0)]=_0x2df137;}catch(_0x8d89a1){this[_0x4dbe9c(0x8de)][_0x4dbe9c(0x20e)](this[_0x4dbe9c(0x763)]+'\x20('+this['instance'][_0x4dbe9c(0x21d)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x8d89a1[_0x4dbe9c(0x68b)]);}}_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x22f)]=_0x16c031[_0x4dbe9c(0x461)][_0x4dbe9c(0x52b)](),_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x2c6)]&&(_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x2c6)]=_0x2bf8a6[_0x4dbe9c(0x820)]['lastSendMessage']),_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x518)]&&(_0x2bf8a6['chatLog'][_0x4dbe9c(0x518)]=_0x2bf8a6['chatLog'][_0x4dbe9c(0x518)]),_0x2bf8a6['chatLog'][_0x4dbe9c(0x4d4)]&&(_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4d4)]=_0x2bf8a6[_0x4dbe9c(0x820)][_0x4dbe9c(0x4d4)]),_0x397bc0&&(_0x2bf8a6['status']='closed'),_0x205b13?this[_0x4dbe9c(0x494)](_0x2bf8a6):this['goNextblock'](_0x2bf8a6,_0x16c031);}[a0_0x2f588e(0x61b)](_0x6ffdff,_0x26c7f2){const _0x4a051d=a0_0x2f588e;return _0x6ffdff[_0x4a051d(0x499)](/\{\{([^}]+)\}\}/g,(_0x2b7682,_0x34764c)=>_0x26c7f2[_0x34764c]?'{{'+_0x34764c+'}}\x20->\x20\x22'+_0x26c7f2[_0x34764c]+'\x22':'{{'+_0x34764c+_0x4a051d(0x88c));}async[a0_0x2f588e(0x494)](_0x55b81e){const _0x2faba1=a0_0x2f588e;try{let _0x3f730c=Object['entries'](_0x55b81e[_0x2faba1(0x820)][_0x2faba1(0x4b0)])[_0x2faba1(0x475)](([_0x2561da,_0x256062])=>({'name':_0x2561da,'value':_0x256062})),_0x3fcaa4={'status':_0x55b81e['status'],'remoteJid':_0x55b81e[_0x2faba1(0x46d)],'blocks':_0x55b81e[_0x2faba1(0x5be)],'waitingMenu_id':_0x55b81e['waitingMenu_id'],'waitingMenu_text':_0x55b81e[_0x2faba1(0x82a)],'waitingMenu_replyOptions':_0x55b81e[_0x2faba1(0x781)],'chatLog':{'lastBlockId':_0x55b81e['chatLog'][_0x2faba1(0x22f)],'lastSendMessage':_0x55b81e[_0x2faba1(0x820)][_0x2faba1(0x2c6)],'lastReceivedMessage':_0x55b81e['chatLog'][_0x2faba1(0x518)],'lastCondition':_0x55b81e[_0x2faba1(0x820)][_0x2faba1(0x4d4)],'chatVariables':_0x3f730c,'realVariables':_0x55b81e[_0x2faba1(0x820)][_0x2faba1(0x4b0)],'blockLogs':_0x55b81e[_0x2faba1(0x820)][_0x2faba1(0x2e7)]}},_0x5cf03e=await this[_0x2faba1(0x230)][_0x2faba1(0x6e3)][_0x2faba1(0x805)](_0x55b81e['_id'],_0x3fcaa4,this['instance'][_0x2faba1(0x21d)]);if(_0x5cf03e){this['logger'][_0x2faba1(0x5ef)](this[_0x2faba1(0x763)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5cf03e[_0x2faba1(0x461)]);try{let _0x3983d1=[_0x2faba1(0x4f2),_0x2faba1(0x797),_0x2faba1(0x58f),_0x2faba1(0x8a6),_0x2faba1(0x3f3),_0x2faba1(0x902),'responsavelid',_0x2faba1(0x234),_0x2faba1(0x1d8),_0x2faba1(0x783)];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x2faba1(0x7e2)]))throw new Error(_0x2faba1(0x8e2));let _0x59daf8=this[_0x2faba1(0x7e2)]?.[_0x2faba1(0x644)][_0x2faba1(0x475)](_0x972f51=>_0x972f51[_0x2faba1(0x7dc)]),_0x224c27={};Object[_0x2faba1(0x5c5)](_0x55b81e['chatLog']['realVariables'])[_0x2faba1(0x255)](([_0x560f66,_0x2b7d6c])=>{const _0xda4105=_0x2faba1;_0x3983d1['includes'](_0x560f66)&&(_0x560f66===_0xda4105(0x234)&&typeof _0x2b7d6c=='string'?_0x224c27[_0x560f66]=_0x2b7d6c['split'](',')[_0xda4105(0x475)](_0x4b4bd0=>_0x4b4bd0[_0xda4105(0x565)]())[_0xda4105(0x568)](_0x29a89b=>_0x29a89b!==''):_0x560f66===_0xda4105(0x1d8)&&typeof _0x2b7d6c==_0xda4105(0x786)?_0x224c27[_0x560f66]=_0x2b7d6c['split'](',')[_0xda4105(0x475)](_0x14257f=>_0x14257f['trim']())['filter'](_0x1bfc50=>_0x1bfc50!==''):_0x224c27[_0x560f66]=_0x2b7d6c);});let _0x5e6c3d=_0x55b81e[_0x2faba1(0x820)][_0x2faba1(0x2e7)][_0x55b81e['chatLog'][_0x2faba1(0x2e7)][_0x2faba1(0x8b9)]-0x1];if(_0x5e6c3d){let _0x1463de=_0x5e6c3d[_0x2faba1(0x6de)];_0x1463de!==void 0x0&&(_0x224c27[_0x2faba1(0x686)]=_0x1463de[_0x2faba1(0x52b)]());}let _0xa1bd0=_0x3f730c['filter'](_0x149dcd=>_0x59daf8[_0x2faba1(0x3e8)](_0x149dcd[_0x2faba1(0x7dc)]));this[_0x2faba1(0x8de)]['verbose'](this[_0x2faba1(0x763)]+'\x20('+this[_0x2faba1(0x665)][_0x2faba1(0x21d)]+_0x2faba1(0x272)),this[_0x2faba1(0x8de)][_0x2faba1(0x5ef)](_0x224c27),this[_0x2faba1(0x8de)][_0x2faba1(0x5ef)](this[_0x2faba1(0x763)]+'\x20('+this[_0x2faba1(0x665)]['wuid']+_0x2faba1(0x71a)),this[_0x2faba1(0x8de)][_0x2faba1(0x5ef)](_0xa1bd0);let _0x20355b=_0xa1bd0[_0x2faba1(0x475)](_0x6c4bb1=>{const _0x348825=_0x2faba1;let _0x5863b6=this[_0x348825(0x7e2)]?.[_0x348825(0x644)]['find'](_0x3e8159=>_0x3e8159[_0x348825(0x7dc)]===_0x6c4bb1[_0x348825(0x7dc)]);if(!_0x5863b6)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x6c4bb1[_0x348825(0x7dc)]);return{'_id':_0x5863b6[_0x348825(0x461)],'value':_0x6c4bb1[_0x348825(0x3ea)]};});this[_0x2faba1(0x8de)][_0x2faba1(0x5ef)](this['instanceName']+'\x20('+this[_0x2faba1(0x665)][_0x2faba1(0x21d)]+_0x2faba1(0x21a)),this[_0x2faba1(0x8de)][_0x2faba1(0x5ef)](_0x20355b),await this['saveChatVariables'](_0x55b81e[_0x2faba1(0x46d)],_0x224c27,_0x20355b);}catch(_0x144dcd){this[_0x2faba1(0x8de)][_0x2faba1(0x20e)](this[_0x2faba1(0x763)]+'\x20('+this[_0x2faba1(0x665)][_0x2faba1(0x21d)]+_0x2faba1(0x424)+(_0x144dcd instanceof Error?_0x144dcd[_0x2faba1(0x68b)]:JSON[_0x2faba1(0x8f1)](_0x144dcd,null,0x2)));}}else this[_0x2faba1(0x8de)]['error'](this[_0x2faba1(0x763)]+'\x20('+this[_0x2faba1(0x665)][_0x2faba1(0x21d)]+_0x2faba1(0x79f));}catch(_0x32f079){this[_0x2faba1(0x8de)][_0x2faba1(0x20e)](this[_0x2faba1(0x763)]+'\x20('+this[_0x2faba1(0x665)][_0x2faba1(0x21d)]+_0x2faba1(0x5fa)+(_0x32f079 instanceof Error?_0x32f079[_0x2faba1(0x68b)]:JSON[_0x2faba1(0x8f1)](_0x32f079,null,0x2)));}}async[a0_0x2f588e(0x3fa)](_0x3e418e,_0x5b584f,_0x30e5d7){const _0x52423f=a0_0x2f588e;try{let _0x2826ef={'leadInfo.leadnome':_0x5b584f[_0x52423f(0x4f2)],'leadInfo.nomecompleto':_0x5b584f[_0x52423f(0x797)],'leadInfo.email':_0x5b584f['email'],'leadInfo.cpf':_0x5b584f[_0x52423f(0x8a6)],'leadInfo.status':_0x5b584f[_0x52423f(0x3f3)],'leadInfo.notas':_0x5b584f[_0x52423f(0x902)],'leadInfo.responsavelid':_0x5b584f[_0x52423f(0x89e)],'leadInfo.tags':_0x5b584f[_0x52423f(0x234)],'leadInfo.etiquetas':_0x5b584f[_0x52423f(0x1d8)],'leadInfo.customFields':_0x30e5d7,'leadInfo.atendimentoAberto':_0x5b584f['atendimentoAberto']},_0x3becae=await this['repository'][_0x52423f(0x40f)][_0x52423f(0x876)]({'where':{'_id':_0x3e418e}},this[_0x52423f(0x665)]['wuid']);if(!_0x3becae)return _0x52423f(0x2e8);let _0x40b0c6=new Set(_0x3becae[_0x52423f(0x4bb)]['etiquetas']||[]),_0x2cd8cc=new Set(_0x5b584f[_0x52423f(0x1d8)]||[]),_0x35ef2e=await this[_0x52423f(0x230)][_0x52423f(0x7b3)][_0x52423f(0x3b1)]({'where':{}},this[_0x52423f(0x665)][_0x52423f(0x21d)]),_0xfd73d8=new Set(_0x35ef2e[_0x52423f(0x475)](_0x9b5771=>_0x9b5771['_id'])),_0x23ebd9=[..._0x2cd8cc]['filter'](_0x2d6a7b=>!_0x40b0c6[_0x52423f(0x726)](_0x2d6a7b)&&_0xfd73d8['has'](_0x2d6a7b)),_0x8183cc=[..._0x40b0c6][_0x52423f(0x568)](_0x5cc777=>!_0x2cd8cc[_0x52423f(0x726)](_0x5cc777));for(let _0x3e2bf2 of _0x23ebd9)await this[_0x52423f(0x2fc)](_0x3e2bf2,_0x3becae[_0x52423f(0x461)]),_0x40b0c6[_0x52423f(0x2fa)](_0x3e2bf2);for(let _0x5b08d7 of _0x8183cc)await this[_0x52423f(0x3b2)](_0x5b08d7,_0x3becae[_0x52423f(0x461)]),_0x40b0c6[_0x52423f(0x787)](_0x5b08d7);if(_0x52423f(0x686)in _0x5b584f){let _0xbf517f=_0x5b584f['desativadoFluxoAte'];_0x2826ef[_0x52423f(0x5bd)]=_0xbf517f?Number(_0xbf517f):null;}if(_0x52423f(0x783)in _0x5b584f){let _0x120c80=_0x5b584f['atendimentoAberto'][_0x52423f(0x605)]();_0x2826ef[_0x52423f(0x824)]=_0x120c80===_0x52423f(0x4a6)||_0x120c80==='1'||_0x120c80===_0x52423f(0x56d)||_0x120c80===_0x52423f(0x389);}let _0x19150c=await this['repository'][_0x52423f(0x40f)][_0x52423f(0x805)]({'where':{'_id':_0x3e418e}},_0x2826ef,this[_0x52423f(0x665)]['wuid']);_0x19150c?(this[_0x52423f(0x8de)]['verbose'](this['instanceName']+'\x20('+this[_0x52423f(0x665)][_0x52423f(0x21d)]+_0x52423f(0x4b8)+_0x19150c[_0x52423f(0x461)]),q(this[_0x52423f(0x763)],_0x52423f(0x77d),{'chat':_0x19150c})):this[_0x52423f(0x8de)][_0x52423f(0x20e)](this[_0x52423f(0x763)]+'\x20('+this[_0x52423f(0x665)]['wuid']+_0x52423f(0x411));}catch(_0x5d2754){this['logger']['error'](this[_0x52423f(0x763)]+'\x20('+this['instance'][_0x52423f(0x21d)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x5d2754 instanceof Error?_0x5d2754[_0x52423f(0x68b)]:JSON[_0x52423f(0x8f1)](_0x5d2754,null,0x2)));}}async[a0_0x2f588e(0x246)](_0x5d2480,_0x262185){const _0x238517=a0_0x2f588e;this['logger'][_0x238517(0x5ef)](this[_0x238517(0x763)]+'\x20('+this['instance'][_0x238517(0x21d)]+'):\x20atualização\x20chat:\x20'+_0x262185);try{let _0x5bdce0=await this[_0x238517(0x230)][_0x238517(0x40f)]['updateOne']({'where':{'_id':_0x5d2480[_0x238517(0x46d)]}},{'leadInfo.desativadoFluxoAte':_0x262185},this[_0x238517(0x665)][_0x238517(0x21d)]);this['logger'][_0x238517(0x5ef)](this['instanceName']+'\x20('+this[_0x238517(0x665)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x5d2480[_0x238517(0x461)]),this['logger'][_0x238517(0x5ef)](this[_0x238517(0x763)]+'\x20('+this[_0x238517(0x665)][_0x238517(0x21d)]+_0x238517(0x216)+JSON[_0x238517(0x8f1)](_0x5bdce0,null,0x2)),_0x5bdce0&&q(this['instanceName'],'chats',{'chat':_0x5bdce0});}catch(_0x17f671){this['logger'][_0x238517(0x20e)](this['instanceName']+'\x20('+this[_0x238517(0x665)][_0x238517(0x21d)]+_0x238517(0x2ab)+(_0x17f671 instanceof Error?_0x17f671[_0x238517(0x68b)]:JSON[_0x238517(0x8f1)](_0x17f671,null,0x2)));}}async[a0_0x2f588e(0x621)](_0x229c7c){const _0x48a11e=a0_0x2f588e;try{this[_0x48a11e(0x8de)][_0x48a11e(0x5ef)](this[_0x48a11e(0x763)]+'\x20('+this[_0x48a11e(0x665)][_0x48a11e(0x21d)]+_0x48a11e(0x300));let _0x5d2077=_0x229c7c[_0x48a11e(0x499)](/\D/g,''),_0x10e03f=this[_0x48a11e(0x7e2)][_0x48a11e(0x587)][_0x48a11e(0x3b1)](_0x54735a=>_0x54735a[_0x48a11e(0x425)]===_0x5d2077);if(_0x10e03f||(this[_0x48a11e(0x8de)]['verbose'](this['instanceName']+'\x20('+this[_0x48a11e(0x665)][_0x48a11e(0x21d)]+_0x48a11e(0x3db)),_0x10e03f=this[_0x48a11e(0x7e2)][_0x48a11e(0x587)][_0x48a11e(0x3b1)](_0x492894=>_0x492894['default']===!0x0)),!_0x10e03f)return this[_0x48a11e(0x8de)][_0x48a11e(0x5ef)](this[_0x48a11e(0x763)]+'\x20('+this[_0x48a11e(0x665)][_0x48a11e(0x21d)]+_0x48a11e(0x705)),null;let _0x5516a0=await this[_0x48a11e(0x230)][_0x48a11e(0x262)]['findOne']({'where':{'_id':_0x10e03f[_0x48a11e(0x461)]}});if(!_0x5516a0||!_0x5516a0[_0x48a11e(0x3ba)]?.[_0x48a11e(0x3e8)](this[_0x48a11e(0x665)][_0x48a11e(0x21d)]))throw this[_0x48a11e(0x8de)][_0x48a11e(0x20e)](this[_0x48a11e(0x763)]+'\x20('+this['instance'][_0x48a11e(0x21d)]+_0x48a11e(0x398)+_0x5516a0[_0x48a11e(0x461)]+_0x48a11e(0x66c)),new m(_0x48a11e(0x5b7)+_0x5516a0[_0x48a11e(0x461)]+_0x48a11e(0x66c));return _0x5516a0;}catch(_0x2a7624){return this['logger']['error'](this[_0x48a11e(0x763)]+'\x20('+this[_0x48a11e(0x665)][_0x48a11e(0x21d)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x2a7624 instanceof Error?_0x2a7624[_0x48a11e(0x68b)]:JSON['stringify'](_0x2a7624,null,0x2))),null;}}async[a0_0x2f588e(0x3f6)](_0x157f94,_0xc14b64){const _0x18a9ef=a0_0x2f588e;try{let _0x526bd1=!!_0xc14b64[_0x18a9ef(0x58d)],_0x2f1450=_0xc14b64[_0x18a9ef(0x4c7)],_0x112b91=null;if(this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this[_0x18a9ef(0x665)]['wuid']+_0x18a9ef(0x1cf)+_0x526bd1+_0x18a9ef(0x688)+_0x2f1450),_0x526bd1){this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this[_0x18a9ef(0x665)][_0x18a9ef(0x21d)]+_0x18a9ef(0x807));let _0x3f52e9={'where':{'remoteJid':_0x157f94,'waitingMenu_id':_0x2f1450}};if(_0x112b91=await this[_0x18a9ef(0x230)][_0x18a9ef(0x6e3)][_0x18a9ef(0x876)](_0x3f52e9,this[_0x18a9ef(0x665)][_0x18a9ef(0x21d)]),!_0x112b91)return this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this['instance'][_0x18a9ef(0x21d)]+'):\x20não\x20encontrou'),null;let _0x29cd84=Date[_0x18a9ef(0x71f)](),_0x12c7b8=_0x112b91?.['minutesToClose']||0x0,_0xa3789a=_0x29cd84-_0x12c7b8*0x3c*0x3e8;if(_0x112b91[_0x18a9ef(0x57d)]<_0xa3789a){this['logger'][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this[_0x18a9ef(0x665)][_0x18a9ef(0x21d)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x58dd84={'number':_0x112b91[_0x18a9ef(0x46d)],'options':{'delay':0x0},'textMessage':{'text':_0x112b91[_0x18a9ef(0x790)]}};await this[_0x18a9ef(0x845)](_0x58dd84);let _0x3f71e5={'status':_0x18a9ef(0x2e6),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x18a9ef(0x6e3)][_0x18a9ef(0x805)](_0x112b91[_0x18a9ef(0x461)],_0x3f71e5,this[_0x18a9ef(0x665)]['wuid']),null;}return _0x112b91[_0x18a9ef(0x57d)]=Date['now'](),_0x112b91['chatLog'][_0x18a9ef(0x518)]=_0xc14b64,_0x112b91;}else{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x18a9ef(0x21d)]+_0x18a9ef(0x52e)+this['instance'][_0x18a9ef(0x21d)]+_0x18a9ef(0x458)),this['logger'][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this['instance'][_0x18a9ef(0x21d)]+_0x18a9ef(0x71d));let _0x3ca434={'where':{'remoteJid':_0x157f94,'status':_0x18a9ef(0x26c)}};if(_0x112b91=await this['repository'][_0x18a9ef(0x6e3)][_0x18a9ef(0x876)](_0x3ca434,this[_0x18a9ef(0x665)][_0x18a9ef(0x21d)]),!_0x112b91){let _0x4af58f=await this[_0x18a9ef(0x621)](_0x157f94);if(_0x4af58f&&(_0x112b91=await this['createNewConversation'](_0x4af58f,_0xc14b64[_0x18a9ef(0x920)],_0xc14b64)),!_0x112b91)return null;}let _0x36610d=Date['now'](),_0x50edf4=_0x112b91?.[_0x18a9ef(0x7c6)]||0x0,_0x210ece=_0x36610d-_0x50edf4*0x3c*0x3e8;if(this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this['instance']['wuid']+_0x18a9ef(0x2bb)+_0x36610d+_0x18a9ef(0x22b)+_0x50edf4+',\x20Expiration\x20Time:\x20'+_0x210ece),this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x18a9ef(0x21d)]+_0x18a9ef(0x553)),this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this['instanceName']+'\x20('+this[_0x18a9ef(0x665)][_0x18a9ef(0x21d)]+_0x18a9ef(0x1c3)+_0x112b91[_0x18a9ef(0x57d)]),this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this[_0x18a9ef(0x665)]['wuid']+'):\x20expirationTime:\x20'+_0x210ece),_0x112b91[_0x18a9ef(0x57d)]<_0x210ece){this[_0x18a9ef(0x8de)][_0x18a9ef(0x5ef)](this[_0x18a9ef(0x763)]+'\x20('+this['instance']['wuid']+_0x18a9ef(0x276));let _0x12b29f=await this[_0x18a9ef(0x621)](_0x157f94);if(_0x12b29f===null)return null;_0x112b91&&await this[_0x18a9ef(0x230)]['flowConversation'][_0x18a9ef(0x805)](_0x112b91[_0x18a9ef(0x461)],{'status':'closed'},this[_0x18a9ef(0x665)][_0x18a9ef(0x21d)]),_0x112b91=await this[_0x18a9ef(0x6c7)](_0x12b29f,_0xc14b64[_0x18a9ef(0x920)],_0xc14b64);}return _0x112b91[_0x18a9ef(0x57d)]=_0x36610d,_0x112b91[_0x18a9ef(0x820)][_0x18a9ef(0x518)]=_0xc14b64,_0x112b91;}}catch(_0x216118){return this['logger'][_0x18a9ef(0x20e)](this[_0x18a9ef(0x763)]+'\x20('+this[_0x18a9ef(0x665)][_0x18a9ef(0x21d)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x216118 instanceof Error?_0x216118[_0x18a9ef(0x68b)]:JSON[_0x18a9ef(0x8f1)](_0x216118,null,0x2))),null;}}async[a0_0x2f588e(0x6c7)](_0x29809c,_0x1735a8,_0x54a57d){const _0x1635d1=a0_0x2f588e;this[_0x1635d1(0x8de)][_0x1635d1(0x5ef)](this[_0x1635d1(0x763)]+'\x20('+this[_0x1635d1(0x665)][_0x1635d1(0x21d)]+_0x1635d1(0x6f9));try{let _0x4e0783=require('mongodb')[_0x1635d1(0x758)],_0x5b8a42=Date[_0x1635d1(0x71f)](),_0x2752fd=_0x1635d1(0x655),_0x48b033=_0x1735a8[_0x1635d1(0x741)]?null:_0x54a57d,_0x20f0b2=_0x1735a8['fromMe']?_0x54a57d:null,_0x1bc553=_0x1735a8[_0x1635d1(0x46d)],_0x47f485=this['AutomateSystem'][_0x1635d1(0x587)][_0x1635d1(0x3b1)](_0x1fcd3e=>_0x1fcd3e[_0x1635d1(0x461)]===_0x29809c['_id']?.[_0x1635d1(0x52b)]()),_0x2deeee=_0x47f485?.[_0x1635d1(0x7c6)]??_0x29809c[_0x1635d1(0x7c6)]??0x0,_0x2d45c1=_0x47f485?.['readMessages']??_0x29809c['readMessages']??!0x1;await this['closeExistingConversations'](_0x1bc553);let _0x4d73c7={'flowId':_0x29809c[_0x1635d1(0x461)],..._0x29809c,'chatLog':null},_0x446f82=await this[_0x1635d1(0x65a)](_0x4d73c7[_0x1635d1(0x8a3)]),_0x507d03=await this[_0x1635d1(0x7bd)](_0x1bc553),_0x4f3c86={..._0x446f82,..._0x507d03,'_remoteJid':_0x1bc553},_0x246e3a={'lastReceivedMessage':_0x48b033,'lastSendMessage':_0x20f0b2,'lastBlockId':_0x2752fd,'lastCondition':!0x0,'realVariables':_0x4f3c86};_0x4d73c7[_0x1635d1(0x820)]=_0x246e3a,delete _0x4d73c7[_0x1635d1(0x461)],_0x4d73c7[_0x1635d1(0x461)]=new _0x4e0783(),_0x4d73c7[_0x1635d1(0x57d)]=_0x5b8a42,_0x4d73c7[_0x1635d1(0x3f3)]=_0x1635d1(0x26c),_0x4d73c7['remoteJid']=_0x1bc553,_0x4d73c7[_0x1635d1(0x7c6)]=_0x2deeee,_0x4d73c7['readMessages']=_0x2d45c1;let _0x547347=await this[_0x1635d1(0x230)][_0x1635d1(0x6e3)][_0x1635d1(0x805)](_0x4d73c7[_0x1635d1(0x461)],_0x4d73c7,this[_0x1635d1(0x665)][_0x1635d1(0x21d)]);return this['logger'][_0x1635d1(0x5ef)](this[_0x1635d1(0x763)]+'\x20('+this[_0x1635d1(0x665)][_0x1635d1(0x21d)]+_0x1635d1(0x215)),_0x547347?_0x4d73c7:null;}catch(_0x27cc2c){return this[_0x1635d1(0x8de)][_0x1635d1(0x20e)](this[_0x1635d1(0x763)]+'\x20('+this['instance']['wuid']+_0x1635d1(0x6a6)+(_0x27cc2c instanceof Error?_0x27cc2c['message']:JSON[_0x1635d1(0x8f1)](_0x27cc2c,null,0x2))),_0x27cc2c;}}async[a0_0x2f588e(0x364)](_0xb39b91,_0x3e9958){const _0x409a0d=a0_0x2f588e;let _0x3a714e=_0xb39b91[_0x409a0d(0x46d)];_0x3e9958['uazapi'][_0x409a0d(0x46d)]&&_0x3e9958[_0x409a0d(0x54e)][_0x409a0d(0x46d)][_0x409a0d(0x565)]()!==''&&(_0x3a714e=_0x3e9958['uazapi']['remoteJid'][_0x409a0d(0x565)]()),this['logger'][_0x409a0d(0x5ef)](this['instanceName']+'\x20('+this[_0x409a0d(0x665)][_0x409a0d(0x21d)]+_0x409a0d(0x2c0));let _0x85dcfd={'number':_0x3a714e,'options':{'delay':_0x3e9958[_0x409a0d(0x54e)][_0x409a0d(0x62f)],'linkPreview':_0x3e9958[_0x409a0d(0x54e)][_0x409a0d(0x678)]},'textMessage':{'text':_0x3e9958[_0x409a0d(0x54e)][_0x409a0d(0x244)]}};try{let _0x183c2b=await this[_0x409a0d(0x845)](_0x85dcfd);if(_0x183c2b){let _0x24aac1={'_id':_0x183c2b[_0x409a0d(0x920)]['id'],'_fromMe':_0x183c2b[_0x409a0d(0x920)][_0x409a0d(0x741)],'_remoteJid':_0x183c2b[_0x409a0d(0x920)][_0x409a0d(0x46d)]},_0x1c8522=(0x0,w[_0x409a0d(0x2d8)])(_0x183c2b['message']),_0x20a15d=(0x0,w[_0x409a0d(0x5a7)])(_0x1c8522);_0xb39b91[_0x409a0d(0x820)]['lastBlockId']=_0x3e9958[_0x409a0d(0x461)][_0x409a0d(0x52b)]();let {message_normalized:_0x5a2d8a}=this[_0x409a0d(0x64b)](_0x1c8522,_0x20a15d,null);_0xb39b91[_0x409a0d(0x820)][_0x409a0d(0x2c6)]=await _0x5a2d8a;let _0x45c61a={'messageId':_0x183c2b[_0x409a0d(0x920)]['id']},_0x5d6126=_0xb39b91[_0x409a0d(0x820)][_0x409a0d(0x4b0)];Object[_0x409a0d(0x71e)](_0x5d6126,_0x24aac1),_0xb39b91[_0x409a0d(0x820)][_0x409a0d(0x4b0)]=_0x5d6126,this[_0x409a0d(0x872)](_0xb39b91,_0x3e9958,_0x45c61a);}else{let _0x1b87bc={'error':!0x0};this[_0x409a0d(0x872)](_0xb39b91,_0x3e9958,_0x1b87bc),this[_0x409a0d(0x8de)]['error'](this[_0x409a0d(0x763)]+'\x20('+this[_0x409a0d(0x665)][_0x409a0d(0x21d)]+_0x409a0d(0x3aa));}}catch(_0x363c1b){let _0x188cdd={'error':!0x0,'errorLog':_0x363c1b[_0x409a0d(0x52b)]()};this['updateConversation'](_0xb39b91,_0x3e9958,_0x188cdd),this['logger'][_0x409a0d(0x20e)](this[_0x409a0d(0x763)]+'\x20('+this[_0x409a0d(0x665)][_0x409a0d(0x21d)]+_0x409a0d(0x235)+(_0x363c1b instanceof Error?_0x363c1b[_0x409a0d(0x68b)]:JSON[_0x409a0d(0x8f1)](_0x363c1b,null,0x2)));}}async['uazapiSendMedia'](_0xde4799,_0x1ae18a){const _0x96046d=a0_0x2f588e;let _0x17deb7=_0xde4799[_0x96046d(0x46d)];_0x1ae18a[_0x96046d(0x54e)][_0x96046d(0x46d)]&&_0x1ae18a[_0x96046d(0x54e)][_0x96046d(0x46d)][_0x96046d(0x565)]()!==''&&(_0x17deb7=_0x1ae18a[_0x96046d(0x54e)][_0x96046d(0x46d)]['trim']()),this[_0x96046d(0x8de)]['verbose'](this[_0x96046d(0x763)]+'\x20('+this[_0x96046d(0x665)][_0x96046d(0x21d)]+'):\x20Enviando\x20mídia');let _0x5f2d04={'number':_0x17deb7,'options':{'delay':_0x1ae18a['uazapi'][_0x96046d(0x62f)],'linkPreview':_0x1ae18a[_0x96046d(0x54e)][_0x96046d(0x678)]},'mediaMessage':{'mediatype':_0x1ae18a[_0x96046d(0x54e)][_0x96046d(0x2d0)],'caption':_0x1ae18a[_0x96046d(0x54e)][_0x96046d(0x1f0)],'media':_0x1ae18a[_0x96046d(0x54e)][_0x96046d(0x34b)],'fileName':_0x1ae18a[_0x96046d(0x54e)]['fileName']}};try{let _0x5b9974=await this[_0x96046d(0x793)](_0x5f2d04);if(_0x5b9974){let _0x5bb437={'_id':_0x5b9974[_0x96046d(0x920)]['id'],'_fromMe':_0x5b9974['key'][_0x96046d(0x741)],'_remoteJid':_0x5b9974[_0x96046d(0x920)][_0x96046d(0x46d)]},_0x292780=(0x0,w[_0x96046d(0x2d8)])(_0x5b9974[_0x96046d(0x68b)]),_0xb1073d=(0x0,w[_0x96046d(0x5a7)])(_0x292780);_0xde4799[_0x96046d(0x820)][_0x96046d(0x22f)]=_0x1ae18a[_0x96046d(0x461)][_0x96046d(0x52b)]();let {message_normalized:_0x2dbdbf}=this[_0x96046d(0x64b)](_0x292780,_0xb1073d,null);_0xde4799[_0x96046d(0x820)]['lastSendMessage']=await _0x2dbdbf;let _0x5ba2ab={'messageId':_0x5b9974[_0x96046d(0x920)]['id']},_0x29b7b5=_0xde4799[_0x96046d(0x820)][_0x96046d(0x4b0)];Object[_0x96046d(0x71e)](_0x29b7b5,_0x5bb437),_0xde4799[_0x96046d(0x820)][_0x96046d(0x4b0)]=_0x29b7b5,this[_0x96046d(0x872)](_0xde4799,_0x1ae18a,_0x5ba2ab);}else{let _0x5bc02f={'error':!0x0};this['updateConversation'](_0xde4799,_0x1ae18a,_0x5bc02f),this[_0x96046d(0x8de)][_0x96046d(0x20e)](this['instanceName']+'\x20('+this[_0x96046d(0x665)]['wuid']+_0x96046d(0x269));}}catch(_0x456288){let _0x19d54a={'error':!0x0,'errorLog':_0x456288[_0x96046d(0x52b)]()};this[_0x96046d(0x872)](_0xde4799,_0x1ae18a,_0x19d54a),this['logger'][_0x96046d(0x20e)](this[_0x96046d(0x763)]+'\x20('+this[_0x96046d(0x665)][_0x96046d(0x21d)]+_0x96046d(0x63e)+(_0x456288 instanceof Error?_0x456288[_0x96046d(0x68b)]:JSON[_0x96046d(0x8f1)](_0x456288,null,0x2)));}}async['uazapiSendLocation'](_0x1ba232,_0x35ee61){const _0x2d10a1=a0_0x2f588e;let _0x4b243f=_0x1ba232[_0x2d10a1(0x46d)];_0x35ee61[_0x2d10a1(0x54e)][_0x2d10a1(0x46d)]&&_0x35ee61[_0x2d10a1(0x54e)][_0x2d10a1(0x46d)][_0x2d10a1(0x565)]()!==''&&(_0x4b243f=_0x35ee61[_0x2d10a1(0x54e)][_0x2d10a1(0x46d)]['trim']()),this[_0x2d10a1(0x8de)][_0x2d10a1(0x5ef)](this[_0x2d10a1(0x763)]+'\x20('+this[_0x2d10a1(0x665)][_0x2d10a1(0x21d)]+'):\x20Enviando\x20localização');let _0x504638={'number':_0x4b243f,'options':{'delay':_0x35ee61[_0x2d10a1(0x54e)][_0x2d10a1(0x62f)]},'locationMessage':{'name':_0x35ee61['uazapi'][_0x2d10a1(0x7dc)],'address':_0x35ee61[_0x2d10a1(0x54e)][_0x2d10a1(0x37b)],'latitude':_0x35ee61['uazapi'][_0x2d10a1(0x79c)],'longitude':_0x35ee61[_0x2d10a1(0x54e)][_0x2d10a1(0x5ac)]}};try{let _0x10112a=await this[_0x2d10a1(0x334)](_0x504638);if(_0x10112a){let _0x3914bf={'_id':_0x10112a[_0x2d10a1(0x920)]['id'],'_fromMe':_0x10112a['key'][_0x2d10a1(0x741)],'_remoteJid':_0x10112a[_0x2d10a1(0x920)][_0x2d10a1(0x46d)]},_0xb54f6a=(0x0,w[_0x2d10a1(0x2d8)])(_0x10112a[_0x2d10a1(0x68b)]),_0x55fea0=(0x0,w['getContentType'])(_0xb54f6a);_0x1ba232[_0x2d10a1(0x820)][_0x2d10a1(0x22f)]=_0x35ee61[_0x2d10a1(0x461)][_0x2d10a1(0x52b)]();let {message_normalized:_0x248c52}=this['normalizeMessage'](_0xb54f6a,_0x55fea0,null);_0x1ba232[_0x2d10a1(0x820)][_0x2d10a1(0x2c6)]=await _0x248c52;let _0x2234b1={'messageId':_0x10112a[_0x2d10a1(0x920)]['id']},_0x477f3f=_0x1ba232[_0x2d10a1(0x820)]['realVariables'];Object[_0x2d10a1(0x71e)](_0x477f3f,_0x3914bf),_0x1ba232[_0x2d10a1(0x820)]['realVariables']=_0x477f3f,this[_0x2d10a1(0x872)](_0x1ba232,_0x35ee61,_0x2234b1);}else{let _0xcf5567={'error':!0x0};this[_0x2d10a1(0x872)](_0x1ba232,_0x35ee61,_0xcf5567),this[_0x2d10a1(0x8de)][_0x2d10a1(0x20e)](this[_0x2d10a1(0x763)]+'\x20('+this['instance'][_0x2d10a1(0x21d)]+_0x2d10a1(0x611));}}catch(_0x2aa0d4){let _0x526a45={'error':!0x0,'errorLog':_0x2aa0d4[_0x2d10a1(0x52b)]()};this['updateConversation'](_0x1ba232,_0x35ee61,_0x526a45),this[_0x2d10a1(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x2d10a1(0x665)][_0x2d10a1(0x21d)]+_0x2d10a1(0x460)+(_0x2aa0d4 instanceof Error?_0x2aa0d4['message']:JSON[_0x2d10a1(0x8f1)](_0x2aa0d4,null,0x2)));}}async['uazapiSendAudio'](_0xda969f,_0x38a1ae){const _0x1bdb0b=a0_0x2f588e;let _0x2985d0=_0xda969f[_0x1bdb0b(0x46d)];_0x38a1ae[_0x1bdb0b(0x54e)][_0x1bdb0b(0x46d)]&&_0x38a1ae[_0x1bdb0b(0x54e)][_0x1bdb0b(0x46d)]['trim']()!==''&&(_0x2985d0=_0x38a1ae['uazapi'][_0x1bdb0b(0x46d)][_0x1bdb0b(0x565)]()),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1bdb0b(0x665)][_0x1bdb0b(0x21d)]+_0x1bdb0b(0x575));let _0x36b805={'number':_0x2985d0,'options':{'delay':_0x38a1ae[_0x1bdb0b(0x54e)]['delay']},'audioMessage':{'audio':_0x38a1ae['uazapi'][_0x1bdb0b(0x7c8)]}};try{let _0x3534d9=await this[_0x1bdb0b(0x840)](_0x36b805);if(_0x3534d9){let _0x1dbca6={'_id':_0x3534d9[_0x1bdb0b(0x920)]['id'],'_fromMe':_0x3534d9['key']['fromMe'],'_remoteJid':_0x3534d9[_0x1bdb0b(0x920)][_0x1bdb0b(0x46d)]},_0x390d08=(0x0,w[_0x1bdb0b(0x2d8)])(_0x3534d9[_0x1bdb0b(0x68b)]),_0x34086a=(0x0,w[_0x1bdb0b(0x5a7)])(_0x390d08);_0xda969f[_0x1bdb0b(0x820)][_0x1bdb0b(0x22f)]=_0x38a1ae[_0x1bdb0b(0x461)][_0x1bdb0b(0x52b)]();let {message_normalized:_0x4fe36}=this[_0x1bdb0b(0x64b)](_0x390d08,_0x34086a,null);_0xda969f[_0x1bdb0b(0x820)]['lastSendMessage']=await _0x4fe36;let _0x55ee49={'messageId':_0x3534d9[_0x1bdb0b(0x920)]['id']},_0x597711=_0xda969f[_0x1bdb0b(0x820)]['realVariables'];Object[_0x1bdb0b(0x71e)](_0x597711,_0x1dbca6),_0xda969f[_0x1bdb0b(0x820)][_0x1bdb0b(0x4b0)]=_0x597711,this[_0x1bdb0b(0x872)](_0xda969f,_0x38a1ae,_0x55ee49);}else{let _0x13ecde={'error':!0x0};this[_0x1bdb0b(0x872)](_0xda969f,_0x38a1ae,_0x13ecde),this[_0x1bdb0b(0x8de)][_0x1bdb0b(0x20e)](this[_0x1bdb0b(0x763)]+'\x20('+this['instance'][_0x1bdb0b(0x21d)]+_0x1bdb0b(0x30a));}}catch(_0x3e072a){let _0x2bbdc6={'error':!0x0,'errorLog':_0x3e072a[_0x1bdb0b(0x52b)]()};this[_0x1bdb0b(0x872)](_0xda969f,_0x38a1ae,_0x2bbdc6),this[_0x1bdb0b(0x8de)]['error'](this[_0x1bdb0b(0x763)]+'\x20('+this['instance'][_0x1bdb0b(0x21d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x3e072a instanceof Error?_0x3e072a[_0x1bdb0b(0x68b)]:JSON['stringify'](_0x3e072a,null,0x2)));}}async[a0_0x2f588e(0x53b)](_0x44f11c,_0x32e8ad){const _0x25d428=a0_0x2f588e;let _0x69f73e=_0x44f11c['remoteJid'];_0x32e8ad[_0x25d428(0x54e)][_0x25d428(0x46d)]&&_0x32e8ad[_0x25d428(0x54e)][_0x25d428(0x46d)]['trim']()!==''&&(_0x69f73e=_0x32e8ad[_0x25d428(0x54e)]['remoteJid'][_0x25d428(0x565)]()),this[_0x25d428(0x8de)][_0x25d428(0x5ef)](this[_0x25d428(0x763)]+'\x20('+this[_0x25d428(0x665)][_0x25d428(0x21d)]+_0x25d428(0x37d));let _0x1ea6f1={'number':_0x69f73e,'options':{'delay':_0x32e8ad[_0x25d428(0x54e)][_0x25d428(0x62f)]},'contactMessage':[{'fullName':_0x32e8ad[_0x25d428(0x54e)][_0x25d428(0x863)],'phoneNumber':_0x32e8ad[_0x25d428(0x54e)][_0x25d428(0x299)]}]};try{let _0x2d3d25=await this[_0x25d428(0x65d)](_0x1ea6f1);if(_0x2d3d25){let _0x4df1bd={'_id':_0x2d3d25[_0x25d428(0x920)]['id'],'_fromMe':_0x2d3d25[_0x25d428(0x920)][_0x25d428(0x741)],'_remoteJid':_0x2d3d25[_0x25d428(0x920)][_0x25d428(0x46d)]},_0x34e77b=(0x0,w[_0x25d428(0x2d8)])(_0x2d3d25[_0x25d428(0x68b)]),_0x592104=(0x0,w[_0x25d428(0x5a7)])(_0x34e77b);_0x44f11c[_0x25d428(0x820)][_0x25d428(0x22f)]=_0x32e8ad['_id'][_0x25d428(0x52b)]();let {message_normalized:_0x1455f6}=this[_0x25d428(0x64b)](_0x34e77b,_0x592104,null);_0x44f11c[_0x25d428(0x820)][_0x25d428(0x2c6)]=await _0x1455f6;let _0x218bcb={'messageId':_0x2d3d25[_0x25d428(0x920)]['id']},_0x54ce51=_0x44f11c[_0x25d428(0x820)]['realVariables'];Object[_0x25d428(0x71e)](_0x54ce51,_0x4df1bd),_0x44f11c[_0x25d428(0x820)][_0x25d428(0x4b0)]=_0x54ce51,this[_0x25d428(0x872)](_0x44f11c,_0x32e8ad,_0x218bcb);}else{let _0x5cd626={'error':!0x0};this[_0x25d428(0x872)](_0x44f11c,_0x32e8ad,_0x5cd626),this[_0x25d428(0x8de)][_0x25d428(0x20e)](this['instanceName']+'\x20('+this[_0x25d428(0x665)]['wuid']+_0x25d428(0x30f));}}catch(_0x456282){let _0x5935c7={'error':!0x0,'errorLog':_0x456282['toString']()};this['updateConversation'](_0x44f11c,_0x32e8ad,_0x5935c7),this['logger']['error'](this[_0x25d428(0x763)]+'\x20('+this[_0x25d428(0x665)][_0x25d428(0x21d)]+_0x25d428(0x7f2)+(_0x456282 instanceof Error?_0x456282['message']:JSON[_0x25d428(0x8f1)](_0x456282,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x40b8d3,_0xfa2db6){const _0x3bf30d=a0_0x2f588e;for(let _0x500b8f of _0x40b8d3)_0x500b8f[_0x3bf30d(0x49c)]&&(_0x500b8f[_0x3bf30d(0x49c)]=this[_0x3bf30d(0x407)](_0x500b8f[_0x3bf30d(0x49c)],_0xfa2db6)),_0x500b8f[_0x3bf30d(0x623)]&&(_0x500b8f[_0x3bf30d(0x623)]=this['replaceVariables'](_0x500b8f['optionDescription'],_0xfa2db6));}async[a0_0x2f588e(0x414)](_0x9b9384,_0xb0cf11){const _0x1c1d8d=a0_0x2f588e;let _0x2d6aa3=_0x9b9384[_0x1c1d8d(0x46d)];_0xb0cf11['uazapi']['remoteJid']&&_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x46d)][_0x1c1d8d(0x565)]()!==''&&(_0x2d6aa3=_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x46d)][_0x1c1d8d(0x565)]()),this['logger'][_0x1c1d8d(0x5ef)](this[_0x1c1d8d(0x763)]+'\x20('+this[_0x1c1d8d(0x665)]['wuid']+_0x1c1d8d(0x744));let _0x58eb9f=_0x9b9384['replyOptions']['filter'](_0x14b9f1=>_0x14b9f1[_0x1c1d8d(0x34f)]===_0xb0cf11[_0x1c1d8d(0x461)])[_0x1c1d8d(0x27a)]((_0x553bb3,_0x1f9a9f)=>_0x553bb3[_0x1c1d8d(0x754)]-_0x1f9a9f['order']);this[_0x1c1d8d(0x1df)](_0x58eb9f,_0x9b9384[_0x1c1d8d(0x820)]['realVariables']);let _0x53d955=_0x58eb9f[_0x1c1d8d(0x475)](_0x5c3e12=>_0x5c3e12[_0x1c1d8d(0x49c)]),_0x5521d1={'number':_0x2d6aa3,'menuMessage':{'type':_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x44b)]||_0x1c1d8d(0x51d),'text':_0xb0cf11['uazapi']['text']||_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x7dc)],'footerText':_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x596)],'buttonText':_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x87d)],'selectableCount':0x1,'choices':_0x53d955},'options':{'delay':_0xb0cf11['uazapi'][_0x1c1d8d(0x62f)]}};try{let _0x5627d0=await this[_0x1c1d8d(0x5a0)](_0x5521d1);if(_0x5627d0){let _0x355db0={'_id':_0x5627d0[_0x1c1d8d(0x920)]['id'],'_fromMe':_0x5627d0[_0x1c1d8d(0x920)][_0x1c1d8d(0x741)],'_remoteJid':_0x5627d0[_0x1c1d8d(0x920)]['remoteJid']};_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x5ad)]===!0x0&&(_0x9b9384[_0x1c1d8d(0x3f3)]=_0x1c1d8d(0x4c9),this[_0x1c1d8d(0x8de)][_0x1c1d8d(0x5ef)](this[_0x1c1d8d(0x763)]+'\x20('+this['instance']['wuid']+_0x1c1d8d(0x649)+_0x9b9384[_0x1c1d8d(0x3f3)])),this[_0x1c1d8d(0x8de)][_0x1c1d8d(0x5ef)](this[_0x1c1d8d(0x763)]+'\x20('+this[_0x1c1d8d(0x665)][_0x1c1d8d(0x21d)]+_0x1c1d8d(0x418)+(_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x7dc)]||_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x244)])),_0x9b9384[_0x1c1d8d(0x7f1)]=_0x5627d0['key']['id'],_0x9b9384[_0x1c1d8d(0x82a)]=_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x7dc)]||_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x244)],_0x9b9384['waitingMenu_replyOptions']=_0x58eb9f,_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x478)]&&(_0x9b9384[_0x1c1d8d(0x790)]=_0xb0cf11[_0x1c1d8d(0x54e)][_0x1c1d8d(0x478)]),this[_0x1c1d8d(0x8de)][_0x1c1d8d(0x5ef)](this[_0x1c1d8d(0x763)]+'\x20('+this[_0x1c1d8d(0x665)][_0x1c1d8d(0x21d)]+_0x1c1d8d(0x241)+_0x9b9384[_0x1c1d8d(0x82a)]);let _0x15760c=(0x0,w['normalizeMessageContent'])(_0x5627d0[_0x1c1d8d(0x68b)]),_0x4ab1d2=(0x0,w[_0x1c1d8d(0x5a7)])(_0x15760c);_0x9b9384[_0x1c1d8d(0x820)][_0x1c1d8d(0x22f)]=_0xb0cf11[_0x1c1d8d(0x461)][_0x1c1d8d(0x52b)]();let {message_normalized:_0xa50804}=this['normalizeMessage'](_0x15760c,_0x4ab1d2,null);_0x9b9384[_0x1c1d8d(0x820)]['lastSendMessage']=await _0xa50804;let _0x285dff={'messageId':_0x5627d0['key']['id']},_0x460095=_0x9b9384['chatLog'][_0x1c1d8d(0x4b0)];Object[_0x1c1d8d(0x71e)](_0x460095,_0x355db0),_0x9b9384[_0x1c1d8d(0x820)][_0x1c1d8d(0x4b0)]=_0x460095,this[_0x1c1d8d(0x872)](_0x9b9384,_0xb0cf11,_0x285dff);}else{let _0xfcc57a={'error':!0x0};this[_0x1c1d8d(0x872)](_0x9b9384,_0xb0cf11,_0xfcc57a),this[_0x1c1d8d(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x1c1d8d(0x665)]['wuid']+_0x1c1d8d(0x1e3));}}catch(_0xe7cc63){let _0x2e00c4={'error':!0x0,'errorLog':_0xe7cc63 instanceof Error?_0xe7cc63[_0x1c1d8d(0x68b)]:JSON['stringify'](_0xe7cc63,null,0x2)};this[_0x1c1d8d(0x872)](_0x9b9384,_0xb0cf11,_0x2e00c4),this[_0x1c1d8d(0x8de)][_0x1c1d8d(0x20e)](this[_0x1c1d8d(0x763)]+'\x20('+this[_0x1c1d8d(0x665)][_0x1c1d8d(0x21d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0xe7cc63 instanceof Error?_0xe7cc63['message']:JSON[_0x1c1d8d(0x8f1)](_0xe7cc63,null,0x2)));}}async[a0_0x2f588e(0x61f)](_0x304657,_0x55e90f){const _0x4715b3=a0_0x2f588e;this[_0x4715b3(0x8de)][_0x4715b3(0x5ef)](this[_0x4715b3(0x763)]+'\x20('+this[_0x4715b3(0x665)]['wuid']+_0x4715b3(0x757));let _0x2d5894=_0x304657[_0x4715b3(0x820)]['blockLogs'][_0x4715b3(0x3b1)](_0x4848f9=>_0x4848f9[_0x4715b3(0x34f)][_0x4715b3(0x52b)]()===_0x55e90f['uazapi']['blockId']['toString']()),_0x3b1bc0={'id':_0x2d5894['messageId'],'remoteJid':_0x2d5894[_0x4715b3(0x46d)],'fromMe':_0x2d5894[_0x4715b3(0x741)]};try{let _0x41905e=await this['deleteMessage'](_0x3b1bc0);if(_0x41905e){let _0x5ebd7a=(0x0,w[_0x4715b3(0x2d8)])(_0x41905e[_0x4715b3(0x68b)]),_0x3dc419=(0x0,w['getContentType'])(_0x5ebd7a);_0x304657[_0x4715b3(0x820)][_0x4715b3(0x22f)]=_0x55e90f[_0x4715b3(0x461)][_0x4715b3(0x52b)]();let {message_normalized:_0x49330c}=this['normalizeMessage'](_0x5ebd7a,_0x3dc419,null);_0x304657[_0x4715b3(0x820)][_0x4715b3(0x2c6)]=await _0x49330c;let _0x4036a9={};this[_0x4715b3(0x872)](_0x304657,_0x55e90f,_0x4036a9);}else{let _0x4f3029={'error':!0x0};this[_0x4715b3(0x872)](_0x304657,_0x55e90f,_0x4f3029),this['logger'][_0x4715b3(0x20e)](this['instanceName']+'\x20('+this[_0x4715b3(0x665)]['wuid']+_0x4715b3(0x3b6));}}catch(_0xc8c211){let _0xbfcf38={'error':!0x0,'errorLog':_0xc8c211 instanceof Error?_0xc8c211[_0x4715b3(0x68b)]:JSON[_0x4715b3(0x8f1)](_0xc8c211,null,0x2)};this[_0x4715b3(0x872)](_0x304657,_0x55e90f,_0xbfcf38),this[_0x4715b3(0x8de)][_0x4715b3(0x20e)](this[_0x4715b3(0x763)]+'\x20('+this[_0x4715b3(0x665)][_0x4715b3(0x21d)]+_0x4715b3(0x3f9)+(_0xc8c211 instanceof Error?_0xc8c211[_0x4715b3(0x68b)]:JSON[_0x4715b3(0x8f1)](_0xc8c211,null,0x2)));}}async['createFlow'](_0x2f4db2,_0x383d39){const _0xd800af=a0_0x2f588e;if(_0x2f4db2['name']||(_0x2f4db2[_0xd800af(0x7dc)]=(0x0,X['v4'])()),_0x383d39!==Ai&&_0x2f4db2?.[_0xd800af(0x303)])throw new m(_0xd800af(0x3d4));if(_0xd800af(0x461)in _0x2f4db2&&_0xd800af(0x680)in _0x2f4db2)return this['AddUserFlow'](_0x2f4db2['owner'],_0x2f4db2['_id']);this['logger'][_0xd800af(0x5ef)](this[_0xd800af(0x763)]+'\x20('+this['instance']['wuid']+_0xd800af(0x6b9));let _0x3cc913=this[_0xd800af(0x86b)](_0x2f4db2[_0xd800af(0x7dc)]),_0x4b2c9b=new we[(_0xd800af(0x55e))]['ObjectId'](),_0x3ef629={'_id':_0x4b2c9b,'default':!0x0,'title':_0xd800af(0x28f),'x':0x0,'y':0x0},_0x585742={'_id':new we[(_0xd800af(0x55e))]['ObjectId'](),'order':0x1,'groupId':_0x4b2c9b[_0xd800af(0x52b)](),'type':'start'},_0x3abedd=this[_0xd800af(0x665)][_0xd800af(0x21d)],_0x3bd9ef={'_id':(0x0,X['v4'])(),'owner':_0x3abedd,'name':_0x3cc913,'whoCanEdit':[_0x3abedd],'whoCanUse':[_0x3abedd],'groups':[_0x3ef629],'blocks':[_0x585742],..._0x2f4db2};try{let _0x1c41ea=await this[_0xd800af(0x230)][_0xd800af(0x262)]['createAndSave'](_0x3bd9ef);return await this[_0xd800af(0x497)](),_0x1c41ea;}catch(_0x27f859){let _0x18e266=_0xd800af(0x243),_0x9c8fd7=_0x27f859 instanceof Error?_0x27f859['message']:typeof _0x27f859==_0xd800af(0x57a)?JSON['stringify'](_0x27f859):_0x27f859,_0x3dbbb5=_0x18e266+':\x20'+_0x9c8fd7;throw this['logger']['error'](this[_0xd800af(0x763)]+'\x20('+this[_0xd800af(0x665)]['wuid']+'):\x20'+_0x3dbbb5),new m(_0x3dbbb5);}}async[a0_0x2f588e(0x832)](_0x10bdb0,_0x475f6a){const _0x58f56b=a0_0x2f588e;try{this[_0x58f56b(0x8de)][_0x58f56b(0x5ef)](this[_0x58f56b(0x763)]+'\x20('+this[_0x58f56b(0x665)][_0x58f56b(0x21d)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x2521dd=await this[_0x58f56b(0x230)][_0x58f56b(0x262)][_0x58f56b(0x876)]({'where':{'_id':_0x475f6a,'owner':_0x10bdb0}});if(!_0x2521dd)throw new m(_0x58f56b(0x4bc));if(_0x2521dd[_0x58f56b(0x6b4)]===!0x1&&!_0x2521dd[_0x58f56b(0x303)])throw new m(_0x58f56b(0x6cb));let _0x2b7204=new Set(_0x2521dd[_0x58f56b(0x3ba)]??[]);_0x2b7204['add'](this[_0x58f56b(0x665)][_0x58f56b(0x21d)]);let _0x16b903=await this['repository']['flow'][_0x58f56b(0x805)](_0x475f6a,{..._0x2521dd,'whoCanUse':Array['from'](_0x2b7204)});return await this[_0x58f56b(0x497)](),_0x16b903;}catch(_0x2acc5e){let _0x56b407=_0x58f56b(0x911),_0x4308a0=_0x2acc5e instanceof Error?_0x2acc5e[_0x58f56b(0x68b)]:typeof _0x2acc5e==_0x58f56b(0x57a)?JSON[_0x58f56b(0x8f1)](_0x2acc5e):_0x2acc5e,_0x4540a3=_0x56b407+':\x20'+_0x4308a0;throw this[_0x58f56b(0x8de)][_0x58f56b(0x20e)](this[_0x58f56b(0x763)]+'\x20('+this[_0x58f56b(0x665)]['wuid']+'):\x20'+_0x4540a3),new m(_0x4540a3);}}[a0_0x2f588e(0x86b)](_0x3f2de5){const _0x259983=a0_0x2f588e;let _0x5dd27b=_0x3f2de5,_0x16fae0=0x1;for(;this[_0x259983(0x7e2)][_0x259983(0x587)][_0x259983(0x855)](_0x4d0c99=>_0x4d0c99[_0x259983(0x7dc)]===_0x5dd27b);)_0x16fae0++,_0x5dd27b=_0x3f2de5+'\x20('+_0x16fae0+')';return _0x5dd27b;}async[a0_0x2f588e(0x685)](_0xc89767){const _0x2295d4=a0_0x2f588e;try{if(this[_0x2295d4(0x8de)][_0x2295d4(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x2295d4(0x21d)]+_0x2295d4(0x7be)+_0xc89767[_0x2295d4(0x461)]+_0x2295d4(0x89b)+_0xc89767['global']),!this[_0x2295d4(0x7e2)][_0x2295d4(0x587)][_0x2295d4(0x3b1)](_0x3457f8=>_0x3457f8[_0x2295d4(0x461)]===_0xc89767[_0x2295d4(0x461)]))throw this[_0x2295d4(0x8de)][_0x2295d4(0x5ef)](this[_0x2295d4(0x763)]+'\x20('+this[_0x2295d4(0x665)][_0x2295d4(0x21d)]+_0x2295d4(0x808)+_0xc89767[_0x2295d4(0x461)]+_0x2295d4(0x457)),new m(_0x2295d4(0x796));let _0x39bc8e=await this['repository']['flow'][_0x2295d4(0x876)]({'where':{'_id':_0xc89767[_0x2295d4(0x461)]}});if(!_0x39bc8e)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x2295d4(0x665)][_0x2295d4(0x21d)]===_0x39bc8e[_0x2295d4(0x680)]){this['logger'][_0x2295d4(0x5ef)](this['instanceName']+'\x20('+this[_0x2295d4(0x665)]['wuid']+_0x2295d4(0x6f2)+_0xc89767[_0x2295d4(0x461)]+_0x2295d4(0x2b4));let _0x1be3b7=await this[_0x2295d4(0x230)]['flow'][_0x2295d4(0x5d9)]({'where':{'_id':_0xc89767[_0x2295d4(0x461)]}});return await this['synchronizeAndMapFlows'](),_0x1be3b7;}return this[_0x2295d4(0x8de)][_0x2295d4(0x5ef)](this[_0x2295d4(0x763)]+'\x20('+this[_0x2295d4(0x665)]['wuid']+'):\x20Removendo\x20\x27'+this[_0x2295d4(0x665)][_0x2295d4(0x21d)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0xc89767[_0x2295d4(0x461)]+'\x27...'),_0x39bc8e[_0x2295d4(0x3ba)]=(_0x39bc8e['whoCanUse']??[])[_0x2295d4(0x568)](_0x1668b3=>_0x1668b3!==this[_0x2295d4(0x665)][_0x2295d4(0x21d)]),_0x39bc8e[_0x2295d4(0x3b3)]=(_0x39bc8e[_0x2295d4(0x3b3)]??[])[_0x2295d4(0x568)](_0x19e6e7=>_0x19e6e7!==this['instance'][_0x2295d4(0x21d)]),_0x39bc8e['whoCanEdit'][_0x2295d4(0x8b9)]===0x0&&_0x39bc8e[_0x2295d4(0x3ba)][_0x2295d4(0x8b9)]>0x0&&(_0x39bc8e[_0x2295d4(0x3b3)]['push'](_0x39bc8e[_0x2295d4(0x3ba)][0x0]),this['logger'][_0x2295d4(0x5ef)](this['instanceName']+'\x20('+this[_0x2295d4(0x665)][_0x2295d4(0x21d)]+_0x2295d4(0x505)+_0x39bc8e[_0x2295d4(0x3ba)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0xc89767['_id']+_0x2295d4(0x6f0))),await this['repository'][_0x2295d4(0x262)][_0x2295d4(0x805)](_0x39bc8e['_id'],_0x39bc8e),await this[_0x2295d4(0x497)](),{'message':'Fluxo\x20\x27'+_0xc89767['name']+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x2c9890){return this['logger']['error'](this[_0x2295d4(0x763)]+'\x20('+this[_0x2295d4(0x665)]['wuid']+_0x2295d4(0x84e)+(_0x2c9890 instanceof Error?_0x2c9890[_0x2295d4(0x68b)]:JSON[_0x2295d4(0x8f1)](_0x2c9890,null,0x2))),{'message':_0x2295d4(0x7e8)+(_0x2c9890 instanceof Error?_0x2c9890[_0x2295d4(0x68b)]:JSON['stringify'](_0x2c9890,null,0x2))};}}async[a0_0x2f588e(0x775)](_0x4b011a){const _0x4137e0=a0_0x2f588e;try{if(this[_0x4137e0(0x8de)][_0x4137e0(0x569)](this[_0x4137e0(0x763)]+'\x20('+this[_0x4137e0(0x665)][_0x4137e0(0x21d)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x4b011a),!this[_0x4137e0(0x7e2)]&&(await this[_0x4137e0(0x60e)](),!this[_0x4137e0(0x7e2)]))return null;let _0x369fc3=await this['repository'][_0x4137e0(0x262)]['findOne']({'where':{'_id':_0x4b011a}});if(!_0x369fc3)throw new m(_0x4137e0(0x74b)+_0x4b011a+_0x4137e0(0x801));if(!(_0x369fc3['globalShow']||_0x369fc3[_0x4137e0(0x3ba)]?.[_0x4137e0(0x3e8)](this[_0x4137e0(0x665)][_0x4137e0(0x21d)])))throw new m(_0x4137e0(0x762)+name+'\x27');_0x369fc3['globalShow']&&!_0x369fc3['whoCanUse']?.[_0x4137e0(0x3e8)](this['instance'][_0x4137e0(0x21d)])&&(_0x369fc3[_0x4137e0(0x3ba)]=[..._0x369fc3[_0x4137e0(0x3ba)]??[],this[_0x4137e0(0x665)][_0x4137e0(0x21d)]],await this[_0x4137e0(0x230)][_0x4137e0(0x262)][_0x4137e0(0x805)](_0x369fc3[_0x4137e0(0x461)],_0x369fc3),this[_0x4137e0(0x497)]());let _0x3a752d=this[_0x4137e0(0x7e2)]?.[_0x4137e0(0x644)][_0x4137e0(0x475)](_0x38965a=>_0x38965a['name']),_0x235958=[_0x4137e0(0x4f2),_0x4137e0(0x797),'email',_0x4137e0(0x8a6),'status',_0x4137e0(0x902),'responsavelid','tags','etiquetas','telefone',_0x4137e0(0x783)];_0x369fc3[_0x4137e0(0x8a3)]=_0x369fc3['variables'][_0x4137e0(0x568)](_0x4c7a97=>!(_0x4c7a97[_0x4137e0(0x396)]===_0x4137e0(0x4bb)||_0x4c7a97['leadInfo'])),_0x235958['forEach'](_0x5ec236=>{const _0x194731=_0x4137e0;_0x369fc3['variables'][_0x194731(0x651)]({'folder':_0x194731(0x4bb),'name':_0x5ec236,'value':'','doc':'','leadInfo':!0x0});}),_0x3a752d[_0x4137e0(0x255)](_0x41305a=>{const _0x531248=_0x4137e0;let _0x11c1ec=_0x369fc3[_0x531248(0x8a3)]['findIndex'](_0x580bc4=>_0x580bc4[_0x531248(0x7dc)]===_0x41305a);_0x11c1ec===-0x1?_0x369fc3[_0x531248(0x8a3)]['push']({'folder':_0x531248(0x4bb),'name':_0x41305a,'value':'','doc':'','leadInfo':!0x0}):(_0x369fc3['variables'][_0x11c1ec][_0x531248(0x396)]='leadInfo',_0x369fc3[_0x531248(0x8a3)][_0x11c1ec][_0x531248(0x4bb)]=!0x0);}),_0x369fc3[_0x4137e0(0x5be)]&&_0x369fc3[_0x4137e0(0x5be)]['length']>0x0&&_0x369fc3[_0x4137e0(0x5be)][_0x4137e0(0x255)](_0x1c803f=>{const _0x4bf578=_0x4137e0;_0x1c803f[_0x4bf578(0x653)]&&_0x1c803f['next_groupId']&&_0x1c803f[_0x4bf578(0x653)]===_0x1c803f[_0x4bf578(0x779)]&&(_0x1c803f[_0x4bf578(0x779)]=null);});let _0x242463=await this[_0x4137e0(0x230)]['flow'][_0x4137e0(0x805)](_0x369fc3[_0x4137e0(0x461)],_0x369fc3);if(!_0x242463)throw new Error(_0x4137e0(0x270));return _0x242463;}catch(_0x4ce13d){let _0x471ccc=_0x4137e0(0x39f),_0x38f832=_0x4ce13d instanceof Error?_0x4ce13d[_0x4137e0(0x68b)]:typeof _0x4ce13d==_0x4137e0(0x57a)?JSON[_0x4137e0(0x8f1)](_0x4ce13d):_0x4ce13d,_0x3b7e47=_0x471ccc+':\x20'+_0x38f832;throw this[_0x4137e0(0x8de)][_0x4137e0(0x20e)](this[_0x4137e0(0x763)]+'\x20('+this['instance'][_0x4137e0(0x21d)]+_0x4137e0(0x52e)+_0x3b7e47),new m(_0x3b7e47);}}async['allFlows'](){const _0x2c6cc4=a0_0x2f588e;try{this[_0x2c6cc4(0x8de)]['verbose'](this[_0x2c6cc4(0x763)]+'\x20('+this[_0x2c6cc4(0x665)][_0x2c6cc4(0x21d)]+_0x2c6cc4(0x392)),await this[_0x2c6cc4(0x497)]();let _0x27b527=await this['repository'][_0x2c6cc4(0x262)][_0x2c6cc4(0x287)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x2c6cc4(0x587)],..._0x27b527];}catch(_0x2a8563){return this[_0x2c6cc4(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x2c6cc4(0x665)][_0x2c6cc4(0x21d)]+_0x2c6cc4(0x498)+(_0x2a8563 instanceof Error?_0x2a8563[_0x2c6cc4(0x68b)]:JSON[_0x2c6cc4(0x8f1)](_0x2a8563,null,0x2))),{'message':_0x2c6cc4(0x606)+(_0x2a8563 instanceof Error?_0x2a8563[_0x2c6cc4(0x68b)]:String(_0x2a8563))};}}async[a0_0x2f588e(0x91a)](_0x2ad28b,_0x5c5289){const _0x29410b=a0_0x2f588e;try{this['logger'][_0x29410b(0x5ef)](this['instanceName']+'\x20('+this[_0x29410b(0x665)][_0x29410b(0x21d)]+'):\x20Alterando\x20fluxo...');let _0x48e60d=this[_0x29410b(0x7e2)][_0x29410b(0x587)]['find'](_0x3da220=>_0x3da220[_0x29410b(0x461)]===_0x2ad28b[_0x29410b(0x461)]);if(!_0x48e60d)throw this[_0x29410b(0x8de)][_0x29410b(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x29410b(0x21d)]+_0x29410b(0x808)+_0x2ad28b['_id']+_0x29410b(0x457)),new m(_0x29410b(0x796));let _0x1a46f4=await this['repository']['flow'][_0x29410b(0x876)]({'where':{'_id':_0x2ad28b[_0x29410b(0x461)]}});if(!_0x1a46f4||!_0x1a46f4[_0x29410b(0x3ba)]?.['includes'](this[_0x29410b(0x665)][_0x29410b(0x21d)]))throw this[_0x29410b(0x8de)][_0x29410b(0x20e)](this['instanceName']+'\x20('+this[_0x29410b(0x665)][_0x29410b(0x21d)]+_0x29410b(0x398)+_0x2ad28b[_0x29410b(0x461)]+_0x29410b(0x66c)),new m('Flow\x20\x27'+_0x2ad28b[_0x29410b(0x461)]+_0x29410b(0x66c));let _0x5f336e=this[_0x29410b(0x7e2)][_0x29410b(0x587)]['findIndex'](_0x4b0c3e=>_0x4b0c3e['_id']===_0x48e60d[_0x29410b(0x461)]);if(_0x5f336e!==-0x1){let _0x328b60=this[_0x29410b(0x7e2)][_0x29410b(0x587)][_0x5f336e];if(_0x328b60[_0x29410b(0x7dc)]=_0x2ad28b['name']??_0x328b60[_0x29410b(0x7dc)],_0x328b60['default']=_0x2ad28b['default']??_0x328b60[_0x29410b(0x6d0)],_0x328b60['testingWith']=_0x2ad28b[_0x29410b(0x425)]??_0x328b60[_0x29410b(0x425)],_0x328b60[_0x29410b(0x20a)]=_0x2ad28b[_0x29410b(0x2c2)]??_0x328b60[_0x29410b(0x20a)],_0x328b60[_0x29410b(0x7c6)]=_0x2ad28b[_0x29410b(0x7c6)]??_0x328b60[_0x29410b(0x7c6)],_0x328b60[_0x29410b(0x889)]=_0x2ad28b[_0x29410b(0x889)]??_0x328b60[_0x29410b(0x889)],_0x2ad28b[_0x29410b(0x6d0)]&&this[_0x29410b(0x7e2)]['flows'][_0x29410b(0x255)]((_0x459e82,_0x2426c0)=>{const _0xf4676a=_0x29410b;_0x2426c0!==_0x5f336e&&(_0x459e82[_0xf4676a(0x6d0)]=!0x1);}),this['AutomateSystem'][_0x29410b(0x587)][_0x5f336e]=_0x328b60,!await this[_0x29410b(0x230)][_0x29410b(0x5a1)]['update']({'flows':this['AutomateSystem'][_0x29410b(0x587)]},this[_0x29410b(0x665)]['wuid']))throw new m(_0x29410b(0x580));}let _0x20ec19=[_0x29410b(0x642),'startID',_0x29410b(0x2df),'shareOwners'];for(let _0x514d6e of _0x20ec19)delete _0x2ad28b[_0x514d6e];if(_0x1a46f4['whoCanEdit']?.[_0x29410b(0x3e8)](this[_0x29410b(0x665)]['wuid'])||(_0x2ad28b={'_id':_0x2ad28b[_0x29410b(0x461)]}),_0x5c5289!==Ai&&_0x2ad28b?.[_0x29410b(0x303)]&&!_0x1a46f4?.['globalShow'])throw new m(_0x29410b(0x54c));let _0x180382=new Set(_0x2ad28b[_0x29410b(0x3b3)]??_0x1a46f4[_0x29410b(0x3b3)]);_0x180382['add'](_0x1a46f4[_0x29410b(0x680)]);let _0x368635=new Set(_0x2ad28b['whoCanUse']??_0x1a46f4[_0x29410b(0x3ba)]??[]);_0x180382[_0x29410b(0x255)](_0x134b9=>_0x368635[_0x29410b(0x2fa)](_0x134b9)),_0x368635[_0x29410b(0x2fa)](_0x1a46f4[_0x29410b(0x680)]),this[_0x29410b(0x8de)][_0x29410b(0x5ef)](this[_0x29410b(0x763)]+'\x20('+this[_0x29410b(0x665)][_0x29410b(0x21d)]+_0x29410b(0x30e)+Array[_0x29410b(0x3fe)](_0x180382)),this[_0x29410b(0x8de)]['verbose'](this[_0x29410b(0x763)]+'\x20('+this[_0x29410b(0x665)][_0x29410b(0x21d)]+_0x29410b(0x75d)+Array[_0x29410b(0x3fe)](_0x368635));let _0x390a36=await this[_0x29410b(0x75f)](Array['from'](_0x368635)),_0x28b79e=Array[_0x29410b(0x3fe)](_0x180382)['filter'](_0x31833d=>_0x390a36['includes'](_0x31833d)),_0xb3ed71=Array[_0x29410b(0x3fe)](_0x368635)[_0x29410b(0x568)](_0x5209ac=>_0x390a36[_0x29410b(0x3e8)](_0x5209ac));this[_0x29410b(0x8de)][_0x29410b(0x5ef)](this[_0x29410b(0x763)]+'\x20('+this[_0x29410b(0x665)][_0x29410b(0x21d)]+_0x29410b(0x3d3)+_0x28b79e),this[_0x29410b(0x8de)]['verbose'](this[_0x29410b(0x763)]+'\x20('+this['instance']['wuid']+_0x29410b(0x772)+_0xb3ed71);let _0x17a4bd={..._0x1a46f4,..._0x2ad28b,'whoCanEdit':_0x28b79e,'whoCanUse':_0xb3ed71},_0x3671f2=await this['repository']['flow'][_0x29410b(0x805)](_0x1a46f4[_0x29410b(0x461)],_0x17a4bd);return await this[_0x29410b(0x497)](),_0x3671f2;}catch(_0x3fa082){let _0x6fed0=_0x29410b(0x3a0),_0x141118=_0x3fa082 instanceof Error?_0x3fa082[_0x29410b(0x68b)]:typeof _0x3fa082==_0x29410b(0x57a)?JSON[_0x29410b(0x8f1)](_0x3fa082):_0x3fa082,_0x37fd39=_0x6fed0+':\x20'+_0x141118;throw this[_0x29410b(0x8de)][_0x29410b(0x20e)](this['instanceName']+'\x20('+this['instance'][_0x29410b(0x21d)]+_0x29410b(0x52e)+_0x37fd39),new m(_0x37fd39);}}async[a0_0x2f588e(0x75f)](_0x47678e){const _0xa34f36=a0_0x2f588e;let _0x1f640f={'numbers':_0x47678e};return(await this['whatsappNumber'](_0x1f640f))['filter'](_0x4fada=>_0x4fada[_0xa34f36(0x211)])['map'](_0x1ea2a0=>_0x1ea2a0['jid'])[_0xa34f36(0x475)](_0x5e3d0a=>this[_0xa34f36(0x500)](_0x5e3d0a));}[a0_0x2f588e(0x500)](_0x1e53af){const _0x25d8d6=a0_0x2f588e;let _0x33d898=_0x1e53af[_0x25d8d6(0x5a5)](/\d+/);return _0x33d898?_0x33d898[0x0]:'';}async[a0_0x2f588e(0x6aa)](_0x2caebd){const _0x1fbe4a=a0_0x2f588e;try{if(this[_0x1fbe4a(0x8de)][_0x1fbe4a(0x5ef)](this[_0x1fbe4a(0x763)]+'\x20('+this[_0x1fbe4a(0x665)][_0x1fbe4a(0x21d)]+_0x1fbe4a(0x5b0)),!this[_0x1fbe4a(0x7e2)]['flows'][_0x1fbe4a(0x3b1)](_0x3ff3d5=>_0x3ff3d5['_id']===_0x2caebd[_0x1fbe4a(0x461)]))throw this[_0x1fbe4a(0x8de)][_0x1fbe4a(0x5ef)](this[_0x1fbe4a(0x763)]+'\x20('+this[_0x1fbe4a(0x665)][_0x1fbe4a(0x21d)]+_0x1fbe4a(0x808)+_0x2caebd[_0x1fbe4a(0x461)]+'\x27\x20não\x20encontrado'),new m(_0x1fbe4a(0x796));let _0x1b85d0=await this[_0x1fbe4a(0x230)]['flow'][_0x1fbe4a(0x876)]({'where':{'_id':_0x2caebd[_0x1fbe4a(0x461)]}});if(!_0x1b85d0||!_0x1b85d0[_0x1fbe4a(0x3ba)]?.[_0x1fbe4a(0x3e8)](this[_0x1fbe4a(0x665)][_0x1fbe4a(0x21d)]))throw this[_0x1fbe4a(0x8de)][_0x1fbe4a(0x20e)](this[_0x1fbe4a(0x763)]+'\x20('+this[_0x1fbe4a(0x665)][_0x1fbe4a(0x21d)]+_0x1fbe4a(0x398)+_0x2caebd[_0x1fbe4a(0x461)]+_0x1fbe4a(0x66c)),new m('Flow\x20\x27'+_0x2caebd['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1b85d0[_0x1fbe4a(0x3b3)]?.[_0x1fbe4a(0x3e8)](this['instance'][_0x1fbe4a(0x21d)]))throw new m(_0x1fbe4a(0x6fa));let {block:_0xd340e6}=_0x2caebd;_0xd340e6?.['copy']?this[_0x1fbe4a(0x340)](_0x1b85d0,_0x2caebd):_0xd340e6?.[_0x1fbe4a(0x787)]?this[_0x1fbe4a(0x5c9)](_0x1b85d0,_0x2caebd):_0xd340e6['_id']?await this['updateBlock'](_0x1b85d0,_0x2caebd):this[_0x1fbe4a(0x345)](_0x1b85d0,_0x2caebd);let _0x3ab777=await this['repository'][_0x1fbe4a(0x262)][_0x1fbe4a(0x805)](_0x1b85d0[_0x1fbe4a(0x461)],_0x1b85d0);if(!_0x3ab777)throw new Error(_0x1fbe4a(0x270));return _0x3ab777;}catch(_0x4aa201){this[_0x1fbe4a(0x834)](_0x1fbe4a(0x513)+_0x4aa201[_0x1fbe4a(0x68b)]);}}async[a0_0x2f588e(0x340)](_0x53adce,_0x3ac206){const _0x841854=a0_0x2f588e;let _0x4ad5b7=_0x3ac206[_0x841854(0x7ca)][_0x841854(0x461)],_0x5363e7=_0x53adce[_0x841854(0x5be)][_0x841854(0x3b1)](_0x3b365f=>_0x3b365f['_id'][_0x841854(0x52b)]()===_0x4ad5b7);if(!_0x5363e7){this[_0x841854(0x8de)]['error'](this[_0x841854(0x763)]+'\x20('+this['instance'][_0x841854(0x21d)]+_0x841854(0x1e5)+_0x4ad5b7+_0x841854(0x6ab));return;}this[_0x841854(0x8de)]['verbose'](this[_0x841854(0x763)]+'\x20('+this['instance'][_0x841854(0x21d)]+_0x841854(0x674)+JSON['stringify'](_0x5363e7));let _0x74d404=JSON['parse'](JSON['stringify'](_0x5363e7));_0x74d404[_0x841854(0x461)]=new we['default'][(_0x841854(0x55e))][(_0x841854(0x758))](),this[_0x841854(0x8de)][_0x841854(0x5ef)](this[_0x841854(0x763)]+'\x20('+this[_0x841854(0x665)]['wuid']+_0x841854(0x60c)+JSON[_0x841854(0x8f1)](_0x74d404)),_0x53adce['blocks']['push'](_0x74d404),this[_0x841854(0x48a)](_0x53adce[_0x841854(0x5be)],_0x74d404[_0x841854(0x653)]);}[a0_0x2f588e(0x834)](_0x172053){const _0x20482f=a0_0x2f588e;throw this[_0x20482f(0x8de)][_0x20482f(0x20e)](this['instanceName']+'\x20('+this[_0x20482f(0x665)]['wuid']+_0x20482f(0x52e)+_0x172053),new m(_0x172053);}[a0_0x2f588e(0x5c9)](_0x17e897,_0x32f7af){const _0x489bf2=a0_0x2f588e;let {block:_0x4f80f4}=_0x32f7af;if(_0x4f80f4['type']===_0x489bf2(0x655)){this[_0x489bf2(0x834)](_0x489bf2(0x899));return;}if(!_0x4f80f4[_0x489bf2(0x461)]){this[_0x489bf2(0x834)](_0x489bf2(0x85a));return;}let _0x2ad695=_0x17e897[_0x489bf2(0x5be)][_0x489bf2(0x3b1)](_0x306550=>_0x306550[_0x489bf2(0x461)][_0x489bf2(0x52b)]()===_0x32f7af[_0x489bf2(0x7ca)]['_id']['toString']());if(!_0x2ad695){this[_0x489bf2(0x834)]('Bloco\x20com\x20ID\x20'+_0x4f80f4['_id']+'\x20não\x20encontrado');return;}_0x17e897['blocks']=_0x17e897['blocks'][_0x489bf2(0x568)](_0x20dd8b=>_0x20dd8b[_0x489bf2(0x461)][_0x489bf2(0x52b)]()!==_0x32f7af[_0x489bf2(0x7ca)]['_id'][_0x489bf2(0x52b)]()),_0x17e897['conditions']=_0x17e897[_0x489bf2(0x67e)][_0x489bf2(0x568)](_0x4321d3=>_0x4321d3[_0x489bf2(0x34f)]!==_0x4f80f4[_0x489bf2(0x461)][_0x489bf2(0x52b)]()),_0x17e897[_0x489bf2(0x38e)]=_0x17e897[_0x489bf2(0x38e)][_0x489bf2(0x568)](_0x3a0693=>_0x3a0693[_0x489bf2(0x34f)]!==_0x4f80f4[_0x489bf2(0x461)][_0x489bf2(0x52b)]()),_0x17e897['replyOptions']=_0x17e897['replyOptions']['filter'](_0x5ccd0b=>_0x5ccd0b['blockId']!==_0x4f80f4[_0x489bf2(0x461)][_0x489bf2(0x52b)]()),this['reorderBlocks'](_0x17e897[_0x489bf2(0x5be)],_0x2ad695[_0x489bf2(0x653)]);}async[a0_0x2f588e(0x8dd)](_0x11be03,_0x1a3fcc){const _0x45a6f1=a0_0x2f588e;let _0x3624da=_0x11be03[_0x45a6f1(0x5be)][_0x45a6f1(0x2b0)](_0x269735=>_0x269735[_0x45a6f1(0x461)]['toString']()===_0x1a3fcc[_0x45a6f1(0x7ca)][_0x45a6f1(0x461)][_0x45a6f1(0x52b)]());if(this[_0x45a6f1(0x8de)][_0x45a6f1(0x5ef)](this[_0x45a6f1(0x763)]+'\x20('+this[_0x45a6f1(0x665)][_0x45a6f1(0x21d)]+_0x45a6f1(0x419)+_0x3624da),_0x3624da===-0x1){this[_0x45a6f1(0x8de)][_0x45a6f1(0x5ef)]('Bloco\x20com\x20ID\x20'+_0x1a3fcc[_0x45a6f1(0x7ca)][_0x45a6f1(0x461)]+_0x45a6f1(0x1f2));return;}if(_0x11be03['blocks'][_0x3624da]['type']===_0x45a6f1(0x655)){let _0x290bf8=Object[_0x45a6f1(0x37a)](_0x1a3fcc['block']);if(_0x290bf8['length']>0x2||_0x290bf8[_0x45a6f1(0x8b9)]===0x2&&!_0x290bf8[_0x45a6f1(0x3e8)](_0x45a6f1(0x779))){this[_0x45a6f1(0x834)](_0x45a6f1(0x549));return;}}let _0x132ea3=_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x653)];for(let _0x5d895e in _0x1a3fcc['block'])_0x1a3fcc[_0x45a6f1(0x7ca)][_0x45a6f1(0x317)](_0x5d895e)&&(_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x5d895e]=_0x1a3fcc['block'][_0x5d895e]);if(this[_0x45a6f1(0x8de)]['verbose'](this[_0x45a6f1(0x763)]+'\x20('+this[_0x45a6f1(0x665)][_0x45a6f1(0x21d)]+_0x45a6f1(0x330)+JSON[_0x45a6f1(0x8f1)](_0x11be03['blocks'][_0x3624da])),_0x11be03[_0x45a6f1(0x5be)][_0x3624da]['apirequest']&&'header'in _0x11be03[_0x45a6f1(0x5be)][_0x3624da]['apirequest']){this['logger']['verbose'](this[_0x45a6f1(0x763)]+'\x20('+this[_0x45a6f1(0x665)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x19e099=JSON[_0x45a6f1(0x8f1)](_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)][_0x45a6f1(0x32f)],null,0x1);_0x19e099[_0x45a6f1(0x8b9)]>0x2&&(_0x19e099=_0x19e099[_0x45a6f1(0x4cf)](0x1,_0x19e099[_0x45a6f1(0x8b9)]-0x1)['trim']()),_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)][_0x45a6f1(0x80f)]=_0x19e099;}if(_0x11be03['blocks'][_0x3624da][_0x45a6f1(0x40c)]&&'body'in _0x11be03['blocks'][_0x3624da]['apirequest']&&!(_0x45a6f1(0x480)in _0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)])){this[_0x45a6f1(0x8de)]['verbose'](this[_0x45a6f1(0x763)]+'\x20('+this[_0x45a6f1(0x665)]['wuid']+_0x45a6f1(0x374)),_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)][_0x45a6f1(0x835)]=!0x1;let _0x2376c3=JSON[_0x45a6f1(0x8f1)](_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)][_0x45a6f1(0x268)],null,0x2);_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)]['bodyString']=_0x2376c3;}if(_0x11be03['blocks'][_0x3624da][_0x45a6f1(0x40c)]&&_0x45a6f1(0x480)in _0x11be03[_0x45a6f1(0x5be)][_0x3624da]['apirequest']){_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)][_0x45a6f1(0x835)]=!0x1;let _0x514580=_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x40c)][_0x45a6f1(0x480)],_0x323719=this[_0x45a6f1(0x82d)](_0x514580);_0x11be03[_0x45a6f1(0x5be)][_0x3624da]['apirequest'][_0x45a6f1(0x480)]=_0x323719[_0x45a6f1(0x3f5)],_0x11be03[_0x45a6f1(0x5be)][_0x3624da]['apirequest']['bodyStringErrorParse']=_0x323719[_0x45a6f1(0x20e)];}let _0x28dcce=_0x11be03[_0x45a6f1(0x5be)][_0x3624da][_0x45a6f1(0x653)];_0x132ea3!==_0x28dcce?(this[_0x45a6f1(0x48a)](_0x11be03[_0x45a6f1(0x5be)],_0x132ea3),this[_0x45a6f1(0x48a)](_0x11be03[_0x45a6f1(0x5be)],_0x28dcce)):this[_0x45a6f1(0x48a)](_0x11be03['blocks'],_0x132ea3);}[a0_0x2f588e(0x82d)](_0x3ae7df){const _0x35998e=a0_0x2f588e;let _0x222c95='\u205f',_0x4e9dd6=!0x1,_0x29c735='';for(let _0xa8174=0x0;_0xa8174<_0x3ae7df[_0x35998e(0x8b9)];_0xa8174++){let _0x3db4fe=_0x3ae7df[_0xa8174];_0x3db4fe==='\x22'&&(_0xa8174===0x0||_0x3ae7df[_0xa8174-0x1]!=='\x5c')&&(_0x4e9dd6=!_0x4e9dd6),!(!_0x4e9dd6&&(_0x3db4fe==='\x0a'||_0x3db4fe==='\x20'||_0x3db4fe===_0x222c95))&&(_0x29c735+=_0x3db4fe);}let _0x1f2a2f={},_0x381577=9876543210.1234,_0x317253=_0x29c735[_0x35998e(0x499)](/\{\{([^}]+)\}\}/g,_0x39fbda=>{let _0x5f0644=_0x39fbda,_0x37dfc8=''+_0x381577;return _0x1f2a2f[_0x37dfc8]=_0x5f0644,_0x381577+=0.0001,_0x37dfc8;}),_0x1e00d5='',_0x4797ce=!0x1;try{let _0x303d68=JSON[_0x35998e(0x2a3)](_0x317253);_0x1e00d5=JSON['stringify'](_0x303d68,null,0x2),_0x1e00d5=_0x1e00d5[_0x35998e(0x499)](/\n( +)/g,(_0x17351a,_0x38a2a5)=>{const _0x586afc=_0x35998e;let _0x57dc5c=_0x38a2a5[_0x586afc(0x8b9)];return'\x0a'+_0x222c95['repeat'](_0x57dc5c*0x2);}),_0x1e00d5=_0x1e00d5[_0x35998e(0x499)](/(\d{10,}\.\d+)/g,_0x4f6407=>_0x1f2a2f[_0x4f6407]||_0x4f6407);}catch(_0x272f64){this[_0x35998e(0x8de)][_0x35998e(0x20e)]('Error\x20parsing\x20JSON:'+_0x272f64),_0x1e00d5=_0x3ae7df,_0x4797ce=!0x0;}return{'result':_0x1e00d5,'error':_0x4797ce};}[a0_0x2f588e(0x345)](_0x28eec1,_0x32e8d7){const _0x67da34=a0_0x2f588e;if(_0x32e8d7[_0x67da34(0x7ca)]['type']===_0x67da34(0x655)){this['throwAndLogError'](_0x67da34(0x41a));return;}if(_0x32e8d7[_0x67da34(0x7ca)][_0x67da34(0x40c)]&&_0x67da34(0x32f)in _0x32e8d7['block'][_0x67da34(0x40c)]){this[_0x67da34(0x8de)][_0x67da34(0x5ef)](this[_0x67da34(0x763)]+'\x20('+this[_0x67da34(0x665)][_0x67da34(0x21d)]+_0x67da34(0x4fc));let _0x512363=JSON[_0x67da34(0x8f1)](_0x32e8d7[_0x67da34(0x7ca)][_0x67da34(0x40c)][_0x67da34(0x32f)],null,0x1);_0x512363['length']>0x2&&(_0x512363=_0x512363[_0x67da34(0x4cf)](0x1,_0x512363[_0x67da34(0x8b9)]-0x1)['trim']()),_0x32e8d7['block']['apirequest'][_0x67da34(0x80f)]=_0x512363;}_0x32e8d7[_0x67da34(0x7ca)]['apirequest']&&'body'in _0x32e8d7[_0x67da34(0x7ca)][_0x67da34(0x40c)]&&(this[_0x67da34(0x8de)][_0x67da34(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x67da34(0x21d)]+_0x67da34(0x374)),_0x32e8d7['block'][_0x67da34(0x40c)][_0x67da34(0x480)]=JSON[_0x67da34(0x8f1)](_0x32e8d7['block'][_0x67da34(0x40c)][_0x67da34(0x268)],null,0x1)[_0x67da34(0x565)]()),_0x28eec1[_0x67da34(0x5be)][_0x67da34(0x651)](_0x32e8d7[_0x67da34(0x7ca)]),this['reorderBlocks'](_0x28eec1[_0x67da34(0x5be)],_0x32e8d7[_0x67da34(0x7ca)][_0x67da34(0x653)]);}[a0_0x2f588e(0x48a)](_0x3d8ed0,_0x3b70c4){const _0x4bff88=a0_0x2f588e;let _0xd6c12e=_0x3d8ed0[_0x4bff88(0x568)](_0xa3b957=>_0xa3b957[_0x4bff88(0x653)]===_0x3b70c4);_0xd6c12e['sort']((_0x9c89a4,_0x556f4e)=>_0x9c89a4[_0x4bff88(0x754)]-_0x556f4e[_0x4bff88(0x754)]),_0xd6c12e[_0x4bff88(0x255)]((_0x22651b,_0x20b59b)=>_0x22651b['order']=_0x20b59b+0x1);}async[a0_0x2f588e(0x831)](_0x42e18e){const _0x471f6f=a0_0x2f588e;try{if(this[_0x471f6f(0x8de)][_0x471f6f(0x5ef)](this[_0x471f6f(0x763)]+'\x20('+this[_0x471f6f(0x665)]['wuid']+'):\x20Editando\x20replyOption...'),!_0x42e18e||!_0x42e18e[_0x471f6f(0x735)]){this[_0x471f6f(0x834)](_0x471f6f(0x81d));return;}if(!this[_0x471f6f(0x7e2)][_0x471f6f(0x587)][_0x471f6f(0x3b1)](_0x587924=>_0x587924[_0x471f6f(0x461)]===_0x42e18e[_0x471f6f(0x461)]))throw this[_0x471f6f(0x8de)][_0x471f6f(0x5ef)](this[_0x471f6f(0x763)]+'\x20('+this[_0x471f6f(0x665)][_0x471f6f(0x21d)]+_0x471f6f(0x808)+_0x42e18e['_id']+_0x471f6f(0x457)),new m(_0x471f6f(0x796));let _0x454b23=await this[_0x471f6f(0x230)]['flow'][_0x471f6f(0x876)]({'where':{'_id':_0x42e18e['_id']}});if(!_0x454b23||!_0x454b23['whoCanUse']?.['includes'](this[_0x471f6f(0x665)][_0x471f6f(0x21d)]))throw this[_0x471f6f(0x8de)][_0x471f6f(0x20e)](this[_0x471f6f(0x763)]+'\x20('+this['instance'][_0x471f6f(0x21d)]+_0x471f6f(0x398)+_0x42e18e[_0x471f6f(0x461)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x471f6f(0x5b7)+_0x42e18e[_0x471f6f(0x461)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x454b23[_0x471f6f(0x3b3)]?.['includes'](this[_0x471f6f(0x665)]['wuid']))throw new m(_0x471f6f(0x6fa));let {replyOption:_0x3311ec}=_0x42e18e;_0x3311ec?.[_0x471f6f(0x787)]?(this[_0x471f6f(0x470)](_0x454b23,_0x42e18e),this[_0x471f6f(0x4aa)](_0x454b23[_0x471f6f(0x22a)],_0x42e18e[_0x471f6f(0x735)][_0x471f6f(0x34f)])):_0x3311ec[_0x471f6f(0x461)]?(await this[_0x471f6f(0x73f)](_0x454b23,_0x42e18e),this[_0x471f6f(0x4aa)](_0x454b23['replyOptions'],_0x42e18e['replyOption'][_0x471f6f(0x34f)])):(this[_0x471f6f(0x271)](_0x454b23,_0x42e18e),this[_0x471f6f(0x4aa)](_0x454b23['replyOptions'],_0x42e18e[_0x471f6f(0x735)]['blockId']));let _0x5021f9=await this[_0x471f6f(0x230)]['flow'][_0x471f6f(0x805)](_0x454b23[_0x471f6f(0x461)],_0x454b23);if(!_0x5021f9)throw new Error(_0x471f6f(0x270));return _0x5021f9;}catch(_0xbe1ad8){this['throwAndLogError'](_0x471f6f(0x58a)+_0xbe1ad8);}}['reorderReplyOptions'](_0x531bb5,_0x32d663){const _0x207bc0=a0_0x2f588e;_0x531bb5[_0x207bc0(0x255)](_0x5332a9=>{const _0xe16bf2=_0x207bc0;_0x5332a9['blockId']===_0x32d663&&_0x5332a9['order']===void 0x0&&(_0x5332a9[_0xe16bf2(0x754)]=0x270f);});let _0x27880f=_0x531bb5[_0x207bc0(0x568)](_0x5b356c=>_0x5b356c['blockId']===_0x32d663);_0x27880f[_0x207bc0(0x27a)]((_0x59b827,_0x6c99c7)=>_0x59b827[_0x207bc0(0x754)]-_0x6c99c7[_0x207bc0(0x754)]),_0x27880f[_0x207bc0(0x255)]((_0xf38451,_0x1d2319)=>{const _0x2d976b=_0x207bc0;_0xf38451[_0x2d976b(0x754)]=_0x1d2319+0x1;}),_0x531bb5[_0x207bc0(0x255)](_0x45d6d8=>{const _0x5a8dc6=_0x207bc0;if(_0x45d6d8[_0x5a8dc6(0x34f)]===_0x32d663){let _0x3345ae=_0x27880f['find'](_0xf8c47=>_0xf8c47[_0x5a8dc6(0x461)]&&_0x45d6d8[_0x5a8dc6(0x461)]&&_0xf8c47['_id'][_0x5a8dc6(0x52b)]()===_0x45d6d8[_0x5a8dc6(0x461)]['toString']());_0x3345ae&&(_0x45d6d8[_0x5a8dc6(0x754)]=_0x3345ae['order']);}});}[a0_0x2f588e(0x470)](_0x458007,_0x435c0d){const _0x29b5ef=a0_0x2f588e;let {replyOption:_0x1aba32}=_0x435c0d;if(!_0x1aba32[_0x29b5ef(0x461)]){this[_0x29b5ef(0x834)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x458007[_0x29b5ef(0x22a)][_0x29b5ef(0x3b1)](_0x14b8b5=>_0x14b8b5[_0x29b5ef(0x461)][_0x29b5ef(0x52b)]()===_0x435c0d[_0x29b5ef(0x735)]['_id'][_0x29b5ef(0x52b)]())){this[_0x29b5ef(0x834)](_0x29b5ef(0x22d)+_0x1aba32[_0x29b5ef(0x461)]+_0x29b5ef(0x42f));return;}_0x458007[_0x29b5ef(0x22a)]=_0x458007[_0x29b5ef(0x22a)]['filter'](_0x91cb0f=>_0x91cb0f[_0x29b5ef(0x461)][_0x29b5ef(0x52b)]()!==_0x435c0d['replyOption'][_0x29b5ef(0x461)]['toString']());}async[a0_0x2f588e(0x73f)](_0x3954c0,_0x27bedd){const _0x1f0da7=a0_0x2f588e;let _0x5bf276=_0x3954c0[_0x1f0da7(0x22a)]['findIndex'](_0x2bf441=>_0x2bf441[_0x1f0da7(0x461)]['toString']()===_0x27bedd[_0x1f0da7(0x735)][_0x1f0da7(0x461)][_0x1f0da7(0x52b)]());if(_0x5bf276===-0x1){this[_0x1f0da7(0x834)](_0x1f0da7(0x22d)+_0x27bedd[_0x1f0da7(0x735)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x49930b in _0x27bedd[_0x1f0da7(0x735)])_0x27bedd[_0x1f0da7(0x735)]['hasOwnProperty'](_0x49930b)&&(_0x3954c0[_0x1f0da7(0x22a)][_0x5bf276][_0x49930b]=_0x27bedd[_0x1f0da7(0x735)][_0x49930b]);}[a0_0x2f588e(0x271)](_0x5bfa08,_0x117e28){const _0x2ae621=a0_0x2f588e;_0x5bfa08[_0x2ae621(0x22a)][_0x2ae621(0x651)](_0x117e28[_0x2ae621(0x735)]);}async[a0_0x2f588e(0x7c5)](_0x452a31){const _0x343ebc=a0_0x2f588e;this[_0x343ebc(0x8de)][_0x343ebc(0x5ef)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x343ebc(0x82f)+JSON[_0x343ebc(0x8f1)](_0x452a31,null,0x2));try{if(this[_0x343ebc(0x8de)][_0x343ebc(0x5ef)](this[_0x343ebc(0x763)]+'\x20('+this['instance'][_0x343ebc(0x21d)]+_0x343ebc(0x492)),!this['AutomateSystem'][_0x343ebc(0x587)][_0x343ebc(0x3b1)](_0xa7355a=>_0xa7355a[_0x343ebc(0x461)]===_0x452a31[_0x343ebc(0x461)]))throw this[_0x343ebc(0x8de)][_0x343ebc(0x5ef)](this[_0x343ebc(0x763)]+'\x20('+this[_0x343ebc(0x665)][_0x343ebc(0x21d)]+_0x343ebc(0x808)+_0x452a31[_0x343ebc(0x461)]+'\x27\x20não\x20encontrado'),new m(_0x343ebc(0x796));let _0x3663ef=await this['repository'][_0x343ebc(0x262)]['findOne']({'where':{'_id':_0x452a31[_0x343ebc(0x461)]}});if(!_0x3663ef||!_0x3663ef[_0x343ebc(0x3ba)]?.[_0x343ebc(0x3e8)](this[_0x343ebc(0x665)][_0x343ebc(0x21d)]))throw this[_0x343ebc(0x8de)]['error'](this[_0x343ebc(0x763)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x452a31[_0x343ebc(0x461)]+_0x343ebc(0x66c)),new m(_0x343ebc(0x5b7)+_0x452a31[_0x343ebc(0x461)]+_0x343ebc(0x66c));if(!_0x3663ef[_0x343ebc(0x3b3)]?.[_0x343ebc(0x3e8)](this[_0x343ebc(0x665)][_0x343ebc(0x21d)]))throw new m(_0x343ebc(0x6fa));if(_0x452a31['group']&&_0x452a31[_0x343ebc(0x7e6)]?.[_0x343ebc(0x787)]===!0x0){if(this[_0x343ebc(0x8de)][_0x343ebc(0x5ef)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x343ebc(0x351)),_0x452a31[_0x343ebc(0x7e6)][_0x343ebc(0x6d0)]===!0x0)return{'message':_0x343ebc(0x67f)};if(_0x3663ef[_0x343ebc(0x5be)][_0x343ebc(0x855)](_0xe4c879=>_0xe4c879[_0x343ebc(0x653)][_0x343ebc(0x52b)]()===_0x452a31[_0x343ebc(0x7e6)][_0x343ebc(0x461)]))return this[_0x343ebc(0x8de)]['verbose'](this[_0x343ebc(0x763)]+'\x20('+this[_0x343ebc(0x665)][_0x343ebc(0x21d)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x3663ef['groups']=_0x3663ef[_0x343ebc(0x4fa)]['filter'](_0x5fa2fd=>_0x5fa2fd['_id'][_0x343ebc(0x52b)]()!==_0x452a31[_0x343ebc(0x7e6)][_0x343ebc(0x461)]);}else{if(_0x452a31[_0x343ebc(0x7e6)]){if(_0x452a31[_0x343ebc(0x7e6)][_0x343ebc(0x6d0)]===!0x0)return{'message':_0x343ebc(0x5ca)};if(_0x452a31[_0x343ebc(0x7e6)][_0x343ebc(0x461)]){let _0x29659e=_0x3663ef['groups']['find'](_0x83c254=>_0x83c254[_0x343ebc(0x461)][_0x343ebc(0x52b)]()===_0x452a31[_0x343ebc(0x7e6)][_0x343ebc(0x461)]);_0x29659e&&(_0x452a31['group']['x']<0x0&&(_0x452a31[_0x343ebc(0x7e6)]['x']=0x0),_0x452a31['group']['y']<0x0&&(_0x452a31[_0x343ebc(0x7e6)]['y']=0x0),Object[_0x343ebc(0x71e)](_0x29659e,_0x452a31['group']));}else _0x3663ef[_0x343ebc(0x4fa)][_0x343ebc(0x651)](_0x452a31[_0x343ebc(0x7e6)]);}}let _0x37c15d=await this[_0x343ebc(0x230)][_0x343ebc(0x262)][_0x343ebc(0x805)](_0x3663ef[_0x343ebc(0x461)],_0x3663ef);if(!_0x37c15d)throw new Error(_0x343ebc(0x270));return _0x37c15d;}catch(_0x369018){let _0x55312e='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x1fef85=_0x369018 instanceof Error?_0x369018[_0x343ebc(0x68b)]:typeof _0x369018==_0x343ebc(0x57a)?JSON[_0x343ebc(0x8f1)](_0x369018):_0x369018,_0x5e2b1=_0x55312e+':\x20'+_0x1fef85;throw this[_0x343ebc(0x8de)][_0x343ebc(0x20e)](this['instanceName']+'\x20('+this['instance'][_0x343ebc(0x21d)]+_0x343ebc(0x52e)+_0x5e2b1),new m(_0x5e2b1);}}async['editFlowCondition'](_0x3d23e1){const _0x8932fa=a0_0x2f588e;try{if(this['logger'][_0x8932fa(0x5ef)](this[_0x8932fa(0x763)]+'\x20('+this[_0x8932fa(0x665)][_0x8932fa(0x21d)]+_0x8932fa(0x8bc)),!this[_0x8932fa(0x7e2)][_0x8932fa(0x587)][_0x8932fa(0x3b1)](_0x121842=>_0x121842[_0x8932fa(0x461)]===_0x3d23e1[_0x8932fa(0x461)]))throw this[_0x8932fa(0x8de)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x8932fa(0x21d)]+'):\x20Fluxo\x20\x27'+_0x3d23e1['_id']+_0x8932fa(0x457)),new m(_0x8932fa(0x796));let _0x8b9064=await this[_0x8932fa(0x230)][_0x8932fa(0x262)][_0x8932fa(0x876)]({'where':{'_id':_0x3d23e1[_0x8932fa(0x461)]}});if(!_0x8b9064||!_0x8b9064[_0x8932fa(0x3ba)]?.[_0x8932fa(0x3e8)](this['instance'][_0x8932fa(0x21d)]))throw this[_0x8932fa(0x8de)][_0x8932fa(0x20e)](this[_0x8932fa(0x763)]+'\x20('+this['instance'][_0x8932fa(0x21d)]+_0x8932fa(0x398)+_0x3d23e1[_0x8932fa(0x461)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x8932fa(0x5b7)+_0x3d23e1[_0x8932fa(0x461)]+_0x8932fa(0x66c));if(!_0x8b9064[_0x8932fa(0x3b3)]?.[_0x8932fa(0x3e8)](this[_0x8932fa(0x665)][_0x8932fa(0x21d)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x5d1036=!0x1;if(_0x3d23e1['condition']?.['delete']===!0x0)_0x8b9064[_0x8932fa(0x67e)]=_0x8b9064[_0x8932fa(0x67e)][_0x8932fa(0x568)](_0x1ee78b=>_0x1ee78b&&_0x3d23e1['condition']&&_0x1ee78b[_0x8932fa(0x461)]&&_0x3d23e1[_0x8932fa(0x7c0)][_0x8932fa(0x461)]&&_0x1ee78b[_0x8932fa(0x461)][_0x8932fa(0x52b)]()!==_0x3d23e1[_0x8932fa(0x7c0)]['_id']['toString']()),_0x5d1036=!0x0;else{let _0x4c90bf=_0x8b9064[_0x8932fa(0x67e)]['find'](_0x5c76f0=>_0x5c76f0&&_0x3d23e1[_0x8932fa(0x7c0)]&&_0x5c76f0[_0x8932fa(0x461)]&&_0x3d23e1[_0x8932fa(0x7c0)]['_id']&&_0x5c76f0[_0x8932fa(0x461)][_0x8932fa(0x52b)]()===_0x3d23e1[_0x8932fa(0x7c0)][_0x8932fa(0x461)]['toString']());_0x4c90bf?(_0x5d1036=_0x4c90bf[_0x8932fa(0x754)]!==_0x3d23e1['condition']['order'],Object[_0x8932fa(0x71e)](_0x4c90bf,_0x3d23e1['condition'])):(_0x8b9064['conditions']['push'](_0x3d23e1[_0x8932fa(0x7c0)]),_0x5d1036=!0x0);}if(_0x5d1036){_0x8b9064[_0x8932fa(0x67e)]['sort']((_0x311969,_0x4f9453)=>_0x311969[_0x8932fa(0x754)]>_0x4f9453[_0x8932fa(0x754)]?0x1:_0x4f9453[_0x8932fa(0x754)]>_0x311969[_0x8932fa(0x754)]?-0x1:0x0);for(let _0x21e198=0x0;_0x21e198<_0x8b9064['conditions'][_0x8932fa(0x8b9)];_0x21e198++)_0x8b9064[_0x8932fa(0x67e)][_0x21e198]['order']=_0x21e198+0x1;_0x8b9064[_0x8932fa(0x67e)]['length']>0x0&&(_0x8b9064[_0x8932fa(0x67e)][0x0][_0x8932fa(0x4ac)]=_0x8932fa(0x479));}let _0x2f8ff1=await this[_0x8932fa(0x230)][_0x8932fa(0x262)][_0x8932fa(0x805)](_0x8b9064['_id'],_0x8b9064);if(!_0x2f8ff1)throw new Error(_0x8932fa(0x270));return _0x2f8ff1;}catch(_0x25f82f){let _0x1fa6a8=_0x8932fa(0x1ee),_0x19142b=_0x25f82f instanceof Error?_0x25f82f[_0x8932fa(0x68b)]:typeof _0x25f82f==_0x8932fa(0x57a)?JSON[_0x8932fa(0x8f1)](_0x25f82f):_0x25f82f,_0x14968b=_0x1fa6a8+':\x20'+_0x19142b;throw this[_0x8932fa(0x8de)][_0x8932fa(0x20e)](this[_0x8932fa(0x763)]+'\x20('+this[_0x8932fa(0x665)][_0x8932fa(0x21d)]+_0x8932fa(0x52e)+_0x14968b),new m(_0x14968b);}}async['editFlowVaredit'](_0x45a64d){const _0x4f4ce8=a0_0x2f588e;try{if(this[_0x4f4ce8(0x8de)][_0x4f4ce8(0x5ef)](this['instanceName']+'\x20('+this[_0x4f4ce8(0x665)][_0x4f4ce8(0x21d)]+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this['AutomateSystem']['flows'][_0x4f4ce8(0x3b1)](_0x4b09ca=>_0x4b09ca[_0x4f4ce8(0x461)]===_0x45a64d[_0x4f4ce8(0x461)]))throw this[_0x4f4ce8(0x8de)]['verbose'](this[_0x4f4ce8(0x763)]+'\x20('+this[_0x4f4ce8(0x665)]['wuid']+_0x4f4ce8(0x808)+_0x45a64d[_0x4f4ce8(0x461)]+_0x4f4ce8(0x457)),new m(_0x4f4ce8(0x796));let _0x7bf5c4=await this[_0x4f4ce8(0x230)]['flow'][_0x4f4ce8(0x876)]({'where':{'_id':_0x45a64d['_id']}});if(!_0x7bf5c4||!_0x7bf5c4[_0x4f4ce8(0x3ba)]?.['includes'](this[_0x4f4ce8(0x665)][_0x4f4ce8(0x21d)]))throw this[_0x4f4ce8(0x8de)]['error'](this[_0x4f4ce8(0x763)]+'\x20('+this[_0x4f4ce8(0x665)][_0x4f4ce8(0x21d)]+_0x4f4ce8(0x398)+_0x45a64d['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x4f4ce8(0x5b7)+_0x45a64d['_id']+_0x4f4ce8(0x66c));if(!_0x7bf5c4['whoCanEdit']?.[_0x4f4ce8(0x3e8)](this[_0x4f4ce8(0x665)][_0x4f4ce8(0x21d)]))throw new m(_0x4f4ce8(0x6fa));let _0x245fee=!0x1;if(_0x45a64d[_0x4f4ce8(0x76e)]?.[_0x4f4ce8(0x787)]===!0x0)_0x7bf5c4[_0x4f4ce8(0x38e)]=_0x7bf5c4[_0x4f4ce8(0x38e)][_0x4f4ce8(0x568)](_0x3c3e5b=>_0x3c3e5b&&_0x45a64d['varedit']&&_0x3c3e5b[_0x4f4ce8(0x461)]&&_0x45a64d['varedit']['_id']&&_0x3c3e5b[_0x4f4ce8(0x461)]['toString']()!==_0x45a64d[_0x4f4ce8(0x76e)][_0x4f4ce8(0x461)][_0x4f4ce8(0x52b)]()),_0x245fee=!0x0;else{let _0x2c8be4=_0x7bf5c4[_0x4f4ce8(0x38e)]['find'](_0x2e586f=>_0x2e586f&&_0x45a64d[_0x4f4ce8(0x76e)]&&_0x2e586f['_id']&&_0x45a64d[_0x4f4ce8(0x76e)][_0x4f4ce8(0x461)]&&_0x2e586f[_0x4f4ce8(0x461)][_0x4f4ce8(0x52b)]()===_0x45a64d[_0x4f4ce8(0x76e)][_0x4f4ce8(0x461)][_0x4f4ce8(0x52b)]());_0x2c8be4?(_0x245fee=_0x2c8be4[_0x4f4ce8(0x754)]!==_0x45a64d[_0x4f4ce8(0x76e)][_0x4f4ce8(0x754)],Object[_0x4f4ce8(0x71e)](_0x2c8be4,_0x45a64d[_0x4f4ce8(0x76e)])):(_0x7bf5c4[_0x4f4ce8(0x38e)]['push'](_0x45a64d[_0x4f4ce8(0x76e)]),_0x245fee=!0x0);}if(_0x245fee){_0x7bf5c4[_0x4f4ce8(0x38e)][_0x4f4ce8(0x27a)]((_0xadbfd1,_0x211d46)=>_0xadbfd1[_0x4f4ce8(0x754)]>_0x211d46['order']?0x1:_0x211d46[_0x4f4ce8(0x754)]>_0xadbfd1[_0x4f4ce8(0x754)]?-0x1:0x0);for(let _0x260564=0x0;_0x260564<_0x7bf5c4[_0x4f4ce8(0x38e)][_0x4f4ce8(0x8b9)];_0x260564++)_0x7bf5c4[_0x4f4ce8(0x38e)][_0x260564][_0x4f4ce8(0x754)]=_0x260564+0x1;}let _0x42941d=await this[_0x4f4ce8(0x230)]['flow']['updateOne'](_0x7bf5c4[_0x4f4ce8(0x461)],_0x7bf5c4);if(!_0x42941d)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x42941d;}catch(_0x23ddb0){let _0x3d2d08=_0x4f4ce8(0x1ee),_0x2a04ca=_0x23ddb0 instanceof Error?_0x23ddb0[_0x4f4ce8(0x68b)]:typeof _0x23ddb0==_0x4f4ce8(0x57a)?JSON['stringify'](_0x23ddb0):_0x23ddb0,_0x158018=_0x3d2d08+':\x20'+_0x2a04ca;throw this['logger'][_0x4f4ce8(0x20e)](this[_0x4f4ce8(0x763)]+'\x20('+this['instance'][_0x4f4ce8(0x21d)]+'):\x20'+_0x158018),new m(_0x158018);}}async[a0_0x2f588e(0x6ca)](_0x60257e){const _0xe5ed1c=a0_0x2f588e;try{if(this['logger'][_0xe5ed1c(0x5ef)](this[_0xe5ed1c(0x763)]+'\x20('+this[_0xe5ed1c(0x665)][_0xe5ed1c(0x21d)]+_0xe5ed1c(0x357)),!this['AutomateSystem'][_0xe5ed1c(0x587)][_0xe5ed1c(0x3b1)](_0x107b9b=>_0x107b9b[_0xe5ed1c(0x461)]===_0x60257e[_0xe5ed1c(0x461)]))throw this[_0xe5ed1c(0x8de)][_0xe5ed1c(0x5ef)](this[_0xe5ed1c(0x763)]+'\x20('+this[_0xe5ed1c(0x665)][_0xe5ed1c(0x21d)]+_0xe5ed1c(0x808)+_0x60257e['_id']+_0xe5ed1c(0x457)),new m(_0xe5ed1c(0x796));let _0x4e6cc7=await this[_0xe5ed1c(0x230)][_0xe5ed1c(0x262)][_0xe5ed1c(0x876)]({'where':{'_id':_0x60257e['_id']}});if(!_0x4e6cc7||!_0x4e6cc7[_0xe5ed1c(0x3ba)]?.[_0xe5ed1c(0x3e8)](this[_0xe5ed1c(0x665)][_0xe5ed1c(0x21d)]))throw this[_0xe5ed1c(0x8de)][_0xe5ed1c(0x20e)](this[_0xe5ed1c(0x763)]+'\x20('+this[_0xe5ed1c(0x665)][_0xe5ed1c(0x21d)]+_0xe5ed1c(0x398)+_0x60257e[_0xe5ed1c(0x461)]+_0xe5ed1c(0x66c)),new m(_0xe5ed1c(0x5b7)+_0x60257e['_id']+_0xe5ed1c(0x66c));if(!_0x4e6cc7['whoCanEdit']?.[_0xe5ed1c(0x3e8)](this['instance'][_0xe5ed1c(0x21d)]))throw new m(_0xe5ed1c(0x6fa));_0x60257e[_0xe5ed1c(0x574)][_0xe5ed1c(0x7dc)]=_0x60257e['variable']['name'][_0xe5ed1c(0x565)](),_0x60257e[_0xe5ed1c(0x574)][_0xe5ed1c(0x7dc)]['startsWith']('_')&&(_0x60257e['variable'][_0xe5ed1c(0x7dc)]=_0x60257e[_0xe5ed1c(0x574)][_0xe5ed1c(0x7dc)][_0xe5ed1c(0x4cf)](0x1)),_0x60257e[_0xe5ed1c(0x574)][_0xe5ed1c(0x7dc)]=_0x60257e[_0xe5ed1c(0x574)]['name'][_0xe5ed1c(0x565)]();let _0x5e51c2=_0x4e6cc7[_0xe5ed1c(0x8a3)][_0xe5ed1c(0x3b1)](_0x2fc087=>_0x2fc087['name']===_0x60257e[_0xe5ed1c(0x574)][_0xe5ed1c(0x7dc)]);if(_0x5e51c2?.[_0xe5ed1c(0x4bb)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x60257e[_0xe5ed1c(0x574)]?.[_0xe5ed1c(0x787)]===!0x0){if(!_0x5e51c2)return{'message':'Variável\x20não\x20encontrada!'};_0x4e6cc7[_0xe5ed1c(0x8a3)]=_0x4e6cc7[_0xe5ed1c(0x8a3)][_0xe5ed1c(0x568)](_0x2c3207=>_0x2c3207[_0xe5ed1c(0x7dc)]!==_0x60257e[_0xe5ed1c(0x574)]['name']);}else _0x5e51c2?Object[_0xe5ed1c(0x71e)](_0x5e51c2,_0x60257e[_0xe5ed1c(0x574)]):_0x4e6cc7[_0xe5ed1c(0x8a3)]['push'](_0x60257e['variable']);let _0x2f4df7=await this['repository'][_0xe5ed1c(0x262)][_0xe5ed1c(0x805)](_0x4e6cc7[_0xe5ed1c(0x461)],_0x4e6cc7);if(!_0x2f4df7)throw new Error(_0xe5ed1c(0x270));return _0x2f4df7;}catch(_0x55e80c){let _0x398492=_0xe5ed1c(0x791),_0x28422f=_0x55e80c instanceof Error?_0x55e80c[_0xe5ed1c(0x68b)]:typeof _0x55e80c==_0xe5ed1c(0x57a)?JSON[_0xe5ed1c(0x8f1)](_0x55e80c):_0x55e80c,_0x5045ab=_0x398492+':\x20'+_0x28422f;throw this[_0xe5ed1c(0x8de)]['error'](this[_0xe5ed1c(0x763)]+'\x20('+this[_0xe5ed1c(0x665)][_0xe5ed1c(0x21d)]+_0xe5ed1c(0x52e)+_0x5045ab),new m(_0x5045ab);}}async[a0_0x2f588e(0x59b)](_0x25a320){const _0x1bd467=a0_0x2f588e;let _0x210d83=null;try{if(!this[_0x1bd467(0x7e2)]?.['flowConfig'][_0x1bd467(0x76d)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x1bd467(0x8de)]['verbose'](this[_0x1bd467(0x763)]+'\x20('+this[_0x1bd467(0x665)][_0x1bd467(0x21d)]+_0x1bd467(0x709));let _0x278bf5=(await this[_0x1bd467(0x52c)]({'numbers':[_0x25a320[_0x1bd467(0x46d)]]}))[0x0];if(!_0x278bf5[_0x1bd467(0x211)]&&!(0x0,w['isJidGroup'])(_0x278bf5[_0x1bd467(0x3a9)])&&!_0x278bf5['jid'][_0x1bd467(0x3e8)](_0x1bd467(0x896)))throw _0x210d83=JSON[_0x1bd467(0x8f1)](_0x278bf5,null,0x2),new m(_0x278bf5);let _0x38cb7e;if(_0x25a320[_0x1bd467(0x7dc)][_0x1bd467(0x8b9)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x1bd467(0x798)](_0x25a320['name'])?_0x38cb7e=this[_0x1bd467(0x7e2)][_0x1bd467(0x587)][_0x1bd467(0x3b1)](_0x33b4fd=>_0x33b4fd[_0x1bd467(0x461)]===_0x25a320['name']):_0x38cb7e=this[_0x1bd467(0x7e2)][_0x1bd467(0x587)]['find'](_0x1ea181=>_0x1ea181[_0x1bd467(0x7dc)]===_0x25a320['name']),!_0x38cb7e)throw this[_0x1bd467(0x8de)][_0x1bd467(0x5ef)](this[_0x1bd467(0x763)]+'\x20('+this[_0x1bd467(0x665)][_0x1bd467(0x21d)]+_0x1bd467(0x808)+_0x25a320[_0x1bd467(0x7dc)]+'\x27\x20não\x20encontrado'),new m(_0x1bd467(0x796));let _0x3d29b1=await this[_0x1bd467(0x230)][_0x1bd467(0x262)][_0x1bd467(0x876)]({'where':{'_id':_0x38cb7e[_0x1bd467(0x461)]}});if(!_0x3d29b1||!_0x3d29b1[_0x1bd467(0x3ba)]?.[_0x1bd467(0x3e8)](this[_0x1bd467(0x665)][_0x1bd467(0x21d)]))throw this[_0x1bd467(0x8de)]['error'](this[_0x1bd467(0x763)]+'\x20('+this[_0x1bd467(0x665)][_0x1bd467(0x21d)]+_0x1bd467(0x398)+_0x38cb7e[_0x1bd467(0x461)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x210d83='Flow\x20\x27'+_0x38cb7e[_0x1bd467(0x461)]+_0x1bd467(0x66c),new m(_0x210d83);let _0x1a7053=await this[_0x1bd467(0x632)](_0x3d29b1,_0x278bf5[_0x1bd467(0x3a9)],_0x25a320[_0x1bd467(0x2be)]);if(_0x1a7053){this[_0x1bd467(0x8de)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1bd467(0x21d)]+_0x1bd467(0x4ad));let _0x5c0142=await this[_0x1bd467(0x6fe)](_0x1a7053);return _0x5c0142&&await this[_0x1bd467(0x749)](_0x1a7053,_0x5c0142),{'message':_0x1bd467(0x880)+_0x25a320['remoteJid']};}}catch(_0x20548a){if(this[_0x1bd467(0x8de)][_0x1bd467(0x20e)](this['instanceName']+'\x20('+this[_0x1bd467(0x665)][_0x1bd467(0x21d)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x20548a instanceof Error?_0x20548a[_0x1bd467(0x68b)]:JSON['stringify'](_0x20548a,null,0x2))),_0x210d83=_0x20548a instanceof Error?_0x20548a['message']:JSON['stringify'](_0x20548a,null,0x2),_0x210d83)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x210d83);}}async[a0_0x2f588e(0x8ad)](_0x52b7d3,_0x2cf0e3,_0x597cab){const _0x312e7c=a0_0x2f588e;let _0x2ccdd3=null;try{if(!this['AutomateSystem']?.[_0x312e7c(0x46e)][_0x312e7c(0x76d)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x312e7c(0x8de)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x312e7c(0x21d)]+_0x312e7c(0x709)),_0x2cf0e3){let _0x3f8095=(await this[_0x312e7c(0x52c)]({'numbers':[_0x2cf0e3]}))[0x0];if(!_0x3f8095[_0x312e7c(0x211)]&&!(0x0,w['isJidGroup'])(_0x3f8095['jid'])&&!_0x3f8095['jid'][_0x312e7c(0x3e8)](_0x312e7c(0x896)))throw _0x2ccdd3=JSON[_0x312e7c(0x8f1)](_0x3f8095,null,0x2),new m(_0x3f8095);_0x2cf0e3=_0x3f8095['jid'];}else _0x2cf0e3||(_0x2cf0e3=(0x0,X['v4'])());let _0x356096=await this[_0x312e7c(0x230)]['flow'][_0x312e7c(0x876)]({'where':{'_id':_0x52b7d3}});if(!_0x356096||!_0x356096[_0x312e7c(0x3ba)]?.[_0x312e7c(0x3e8)](this[_0x312e7c(0x665)][_0x312e7c(0x21d)]))throw this[_0x312e7c(0x8de)]['error'](this[_0x312e7c(0x763)]+'\x20('+this['instance'][_0x312e7c(0x21d)]+_0x312e7c(0x398)+_0x52b7d3+_0x312e7c(0x66c)),new m('Flow\x20\x27'+_0x52b7d3+_0x312e7c(0x66c));let _0x2e0e4d=await this[_0x312e7c(0x632)](_0x356096,_0x2cf0e3,null);if(_0x2e0e4d){this['logger'][_0x312e7c(0x5ef)](this[_0x312e7c(0x763)]+'\x20('+this[_0x312e7c(0x665)][_0x312e7c(0x21d)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x15ba57;if(_0x597cab){let _0x1c544b=_0x2e0e4d[_0x312e7c(0x820)][_0x312e7c(0x4b0)],_0x18dae5=this[_0x312e7c(0x5fe)](_0x597cab);Object[_0x312e7c(0x71e)](_0x1c544b,_0x18dae5),_0x2e0e4d[_0x312e7c(0x820)][_0x312e7c(0x4b0)]=_0x1c544b,_0x15ba57={'error':!0x1,'apiResponse':_0x597cab};}let _0x58c4e7=await this[_0x312e7c(0x6fe)](_0x2e0e4d);return _0x58c4e7&&await this[_0x312e7c(0x749)](_0x2e0e4d,_0x58c4e7),{'message':_0x312e7c(0x402)};}}catch(_0xa2aaa8){if(this[_0x312e7c(0x8de)][_0x312e7c(0x20e)](this[_0x312e7c(0x763)]+'\x20('+this['instance'][_0x312e7c(0x21d)]+_0x312e7c(0x6c5)+(_0xa2aaa8 instanceof Error?_0xa2aaa8[_0x312e7c(0x68b)]:JSON[_0x312e7c(0x8f1)](_0xa2aaa8,null,0x2))),_0x2ccdd3=_0xa2aaa8 instanceof Error?_0xa2aaa8[_0x312e7c(0x68b)]:JSON[_0x312e7c(0x8f1)](_0xa2aaa8,null,0x2),_0x2ccdd3)throw new m(_0x312e7c(0x714)+_0x2ccdd3);}}async[a0_0x2f588e(0x385)](_0x20cbcd){const _0x4e60cf=a0_0x2f588e;try{let _0x320c9f={'remoteJid':_0x20cbcd,'status':_0x4e60cf(0x26c)},_0xbec299={'status':_0x4e60cf(0x2e6)},_0x28b262=await this['repository'][_0x4e60cf(0x6e3)][_0x4e60cf(0x883)](_0x320c9f,_0xbec299,this[_0x4e60cf(0x665)][_0x4e60cf(0x21d)]);return this['logger'][_0x4e60cf(0x5ef)](this['instanceName']+'\x20('+this[_0x4e60cf(0x665)][_0x4e60cf(0x21d)]+_0x4e60cf(0x481)),_0x28b262;}catch(_0x145bdf){throw this[_0x4e60cf(0x8de)][_0x4e60cf(0x20e)](this[_0x4e60cf(0x763)]+'\x20('+this[_0x4e60cf(0x665)]['wuid']+_0x4e60cf(0x90b)+_0x145bdf['message']),_0x145bdf;}}async[a0_0x2f588e(0x632)](_0x2fa0b3,_0x40c865,_0x2ae683){const _0x57a886=a0_0x2f588e;this[_0x57a886(0x8de)][_0x57a886(0x5ef)](this['instanceName']+'\x20('+this[_0x57a886(0x665)][_0x57a886(0x21d)]+_0x57a886(0x7a0)),await this[_0x57a886(0x385)](_0x40c865);try{let _0x5da014=require(_0x57a886(0x897))[_0x57a886(0x758)],_0x3e25b4=Date[_0x57a886(0x71f)](),_0x69a46d=_0x57a886(0x655),_0x313edb={},_0x499cc1={},_0x36173c=this[_0x57a886(0x7e2)]['flows'][_0x57a886(0x3b1)](_0x2618a3=>_0x2618a3[_0x57a886(0x461)]===_0x2fa0b3['_id']?.[_0x57a886(0x52b)]()),_0x54d011=_0x36173c?.[_0x57a886(0x7c6)]??_0x2fa0b3['minutesToClose']??0x0,_0x1ff7b9=_0x36173c?.[_0x57a886(0x889)]??_0x2fa0b3[_0x57a886(0x889)]??!0x1,_0x463f8a={'flowId':_0x2fa0b3[_0x57a886(0x461)],..._0x2fa0b3,'chatLog':null},_0x427894=await this['variablesToObject'](_0x463f8a[_0x57a886(0x8a3)]),_0x20a5be=await this['getVariablesChat'](_0x40c865),_0x39cd22={..._0x427894,..._0x20a5be,'_remoteJid':_0x40c865},_0x16e594={'lastReceivedMessage':_0x313edb,'lastSendMessage':_0x499cc1,'lastBlockId':_0x69a46d,'lastCondition':!0x0,'realVariables':_0x39cd22};_0x463f8a['chatLog']=_0x16e594,_0x463f8a[_0x57a886(0x820)][_0x57a886(0x4b0)]={..._0x39cd22,..._0x2ae683},delete _0x463f8a[_0x57a886(0x461)],_0x463f8a[_0x57a886(0x461)]=new _0x5da014(),_0x463f8a['lastInteraction']=_0x3e25b4,_0x463f8a[_0x57a886(0x3f3)]='open',_0x463f8a['remoteJid']=_0x40c865,_0x463f8a[_0x57a886(0x7c6)]=_0x54d011,_0x463f8a[_0x57a886(0x889)]=_0x1ff7b9,_0x463f8a[_0x57a886(0x461)]=_0x2fa0b3[_0x57a886(0x461)];let _0x4922f0=await this['repository'][_0x57a886(0x6e3)][_0x57a886(0x805)](_0x463f8a[_0x57a886(0x461)],_0x463f8a,this['instance'][_0x57a886(0x21d)]);return this['logger'][_0x57a886(0x5ef)](this[_0x57a886(0x763)]+'\x20('+this['instance']['wuid']+_0x57a886(0x215)),_0x4922f0?_0x463f8a:null;}catch(_0x39327a){let _0x430b8e=_0x57a886(0x80e),_0x1fa3ba=_0x39327a instanceof Error?_0x39327a['message']:typeof _0x39327a==_0x57a886(0x57a)?JSON['stringify'](_0x39327a):_0x39327a,_0x11f82f=_0x430b8e+':\x20'+_0x1fa3ba;throw this[_0x57a886(0x8de)][_0x57a886(0x20e)](this[_0x57a886(0x763)]+'\x20('+this[_0x57a886(0x665)]['wuid']+_0x57a886(0x52e)+_0x11f82f),new m(_0x11f82f);}}async[a0_0x2f588e(0x1f5)](_0x4e17b1){const _0x330add=a0_0x2f588e;try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x330add(0x21d)]+_0x330add(0x3bb)),this[_0x330add(0x8de)][_0x330add(0x5ef)](this['instanceName']+'\x20('+this[_0x330add(0x665)][_0x330add(0x21d)]+_0x330add(0x77f)+_0x4e17b1);let _0x4c5def={'where':{'_id':_0x4e17b1}};return await this[_0x330add(0x230)]['flowConversation']['findOne'](_0x4c5def,this['instance']['wuid']);}catch(_0x5dd50c){let _0x3dc2c3=_0x330add(0x734),_0x2da093=_0x5dd50c instanceof Error?_0x5dd50c[_0x330add(0x68b)]:typeof _0x5dd50c=='object'?JSON['stringify'](_0x5dd50c):_0x5dd50c,_0x32123b=_0x3dc2c3+':\x20'+_0x2da093;throw this[_0x330add(0x8de)][_0x330add(0x20e)](this[_0x330add(0x763)]+'\x20('+this[_0x330add(0x665)]['wuid']+_0x330add(0x52e)+_0x32123b),new m(_0x32123b);}}async[a0_0x2f588e(0x802)](_0x20f320){const _0x31e953=a0_0x2f588e;try{return this[_0x31e953(0x8de)]['verbose'](this[_0x31e953(0x763)]+'\x20('+this[_0x31e953(0x665)][_0x31e953(0x21d)]+_0x31e953(0x66a)),await this[_0x31e953(0x230)]['flowConversation'][_0x31e953(0x3b1)](_0x20f320,this[_0x31e953(0x665)]['wuid']);}catch(_0x33ae63){let _0x4095a7='Erro\x20ao\x20buscar\x20conversas',_0x10eb0b=_0x33ae63 instanceof Error?_0x33ae63['message']:typeof _0x33ae63==_0x31e953(0x57a)?JSON[_0x31e953(0x8f1)](_0x33ae63):_0x33ae63,_0x3b4629=_0x4095a7+':\x20'+_0x10eb0b;throw this[_0x31e953(0x8de)]['error'](this['instanceName']+'\x20('+this[_0x31e953(0x665)][_0x31e953(0x21d)]+_0x31e953(0x52e)+_0x3b4629),new m(_0x3b4629);}}async['deleteConversation'](_0x332dba){const _0x41c54a=a0_0x2f588e;try{return this[_0x41c54a(0x8de)][_0x41c54a(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x41c54a(0x21d)]+_0x41c54a(0x6ee)),this[_0x41c54a(0x8de)]['verbose'](this[_0x41c54a(0x763)]+'\x20('+this[_0x41c54a(0x665)][_0x41c54a(0x21d)]+_0x41c54a(0x315)+_0x332dba),(await this['repository'][_0x41c54a(0x6e3)][_0x41c54a(0x5d9)]({'where':{'_id':_0x332dba['_id']}},this[_0x41c54a(0x665)]['wuid']))['deletedCount']===0x0?{'message':_0x41c54a(0x515)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x54cd5a){let _0x30f2d7=_0x41c54a(0x750),_0x103ff8=_0x54cd5a instanceof Error?_0x54cd5a[_0x41c54a(0x68b)]:typeof _0x54cd5a==_0x41c54a(0x57a)?JSON[_0x41c54a(0x8f1)](_0x54cd5a):_0x54cd5a,_0x1046c5=_0x30f2d7+':\x20'+_0x103ff8;throw this[_0x41c54a(0x8de)]['error'](this[_0x41c54a(0x763)]+'\x20('+this['instance'][_0x41c54a(0x21d)]+_0x41c54a(0x52e)+_0x1046c5),new m(_0x1046c5);}}async['editConversation'](_0x206b0f){const _0x53be00=a0_0x2f588e;try{let {_id:_0x371214,chatLog:_0x111e57,status:_0x40bf43}=_0x206b0f;if(!_0x371214)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x26cc9a={};if(_0x40bf43!==void 0x0&&(_0x26cc9a[_0x53be00(0x3f3)]=_0x40bf43),Object[_0x53be00(0x37a)](_0x26cc9a)[_0x53be00(0x8b9)]===0x0)return{'message':_0x53be00(0x660)};let _0xcf3846=await this[_0x53be00(0x230)][_0x53be00(0x6e3)][_0x53be00(0x805)](_0x371214,_0x26cc9a,this[_0x53be00(0x665)][_0x53be00(0x21d)]);return _0xcf3846||{'message':_0x53be00(0x316)};}catch(_0xffcf64){let _0x473a2a=_0x53be00(0x6a1),_0x4555ca=_0xffcf64 instanceof Error?_0xffcf64[_0x53be00(0x68b)]:typeof _0xffcf64==_0x53be00(0x57a)?JSON['stringify'](_0xffcf64):_0xffcf64,_0x54629a=_0x473a2a+':\x20'+_0x4555ca;throw this['logger'][_0x53be00(0x20e)](this[_0x53be00(0x763)]+'\x20('+this[_0x53be00(0x665)]['wuid']+'):\x20'+_0x54629a),new m(_0x54629a);}}async[a0_0x2f588e(0x2b2)](_0x44aaff){const _0xb11539=a0_0x2f588e;try{_0x44aaff[_0xb11539(0x461)]=this['createJid'](_0x44aaff['_id']);let _0x5c3244=await this[_0xb11539(0x230)]['chat']['findOne']({'where':{'_id':_0x44aaff[_0xb11539(0x461)]}},this[_0xb11539(0x665)]['wuid']);if(!_0x5c3244)throw new m(_0xb11539(0x719));let {_id:_0x522084,leadInfo:_0x519726}=_0x44aaff;if(!_0x522084)throw new Error(_0xb11539(0x650));if(_0x44aaff[_0xb11539(0x787)]===_0xb11539(0x57c))return await this[_0xb11539(0x879)](_0x44aaff[_0xb11539(0x461)]),await this[_0xb11539(0x230)][_0xb11539(0x40f)]['delete']({'where':{'_id':_0x44aaff[_0xb11539(0x461)]}},this[_0xb11539(0x665)]['wuid']),await this['repository'][_0xb11539(0x68b)][_0xb11539(0x787)]({'where':{'key':{'remoteJid':_0x44aaff[_0xb11539(0x461)]}}},this[_0xb11539(0x665)][_0xb11539(0x21d)]),_0x44aaff=await this['repository'][_0xb11539(0x40f)][_0xb11539(0x805)]({'where':{'_id':_0x44aaff['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0xb11539(0x21d)]),q(this[_0xb11539(0x763)],_0xb11539(0x77d),{'chat':_0x44aaff}),{'message':_0xb11539(0x376)};if(_0x44aaff['delete']===_0xb11539(0x2ba))return await this[_0xb11539(0x230)][_0xb11539(0x68b)][_0xb11539(0x787)]({'where':{'key':{'remoteJid':_0x44aaff[_0xb11539(0x461)]}}},this['instance']['wuid']),_0x44aaff=await this[_0xb11539(0x230)][_0xb11539(0x40f)][_0xb11539(0x805)]({'where':{'_id':_0x44aaff['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0xb11539(0x21d)]),q(this[_0xb11539(0x763)],_0xb11539(0x77d),{'chat':_0x44aaff}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x4a3b87=(_0x3c6b5d,_0x1ea9b0,_0x215c21)=>{const _0x1b1285=_0xb11539;_0x3c6b5d&&_0x215c21[_0x1b1285(0x255)](_0x285ffb=>{const _0x28bf0a=_0x1b1285;_0x3c6b5d[_0x285ffb]!==void 0x0&&(_0x1ea9b0[_0x28bf0a(0x7e7)+_0x285ffb]=_0x3c6b5d[_0x285ffb]);});},_0x5588ef={};if(_0xb11539(0x6e4)in _0x44aaff&&(this[_0xb11539(0x8de)][_0xb11539(0x5ef)](this[_0xb11539(0x763)]+'\x20('+this[_0xb11539(0x665)][_0xb11539(0x21d)]+_0xb11539(0x1f8)+_0x44aaff[_0xb11539(0x461)]),_0x44aaff[_0xb11539(0x6e4)]=_0x44aaff[_0xb11539(0x6e4)]===0x0?null:-0x1,await this['client'][_0xb11539(0x846)]({'mute':_0x44aaff[_0xb11539(0x6e4)]},_0x44aaff[_0xb11539(0x461)]),_0x5588ef[_0xb11539(0x6e4)]=Number(_0x44aaff['muteEndTime'])),_0x519726&&(_0x4a3b87(_0x519726,_0x5588ef,[_0xb11539(0x4f2),_0xb11539(0x797),_0xb11539(0x58f),'cpf',_0xb11539(0x3f3),_0xb11539(0x902),'tags','atendimentoAberto','responsavelid',_0xb11539(0x1d8),_0xb11539(0x686)]),Array['isArray'](_0x519726[_0xb11539(0x644)])&&(_0x5588ef['leadInfo.customFields']=_0x519726[_0xb11539(0x644)][_0xb11539(0x475)](_0x521d45=>({'_id':_0x521d45[_0xb11539(0x461)],'value':_0x521d45[_0xb11539(0x3ea)]}))),_0x44aaff[_0xb11539(0x4bb)]['etiquetas']!==void 0x0)){let _0x401176=await this[_0xb11539(0x230)][_0xb11539(0x7b3)][_0xb11539(0x3b1)]({'where':{}},this[_0xb11539(0x665)][_0xb11539(0x21d)]),_0x50cfa5=new Set(_0x44aaff[_0xb11539(0x4bb)][_0xb11539(0x1d8)]||[]),_0x43ca39=new Set(_0x44aaff[_0xb11539(0x4bb)][_0xb11539(0x1d8)]),_0x255e3f=new Set(_0x401176[_0xb11539(0x475)](_0x32d104=>_0x32d104[_0xb11539(0x461)])),_0x15aa92=[..._0x43ca39][_0xb11539(0x568)](_0x1d1ee7=>!_0x50cfa5[_0xb11539(0x726)](_0x1d1ee7)&&_0x255e3f['has'](_0x1d1ee7)),_0x47d182=[..._0x50cfa5][_0xb11539(0x568)](_0x568ebd=>!_0x43ca39[_0xb11539(0x726)](_0x568ebd));if(_0x5588ef['leadInfo.etiquetas']=[..._0x50cfa5],_0x5c3244&&!_0x5c3244[_0xb11539(0x6ad)]){for(let _0xa672ad of _0x15aa92)await this[_0xb11539(0x2fc)](_0xa672ad,_0x44aaff['_id']),_0x50cfa5[_0xb11539(0x2fa)](_0xa672ad);for(let _0x39b256 of _0x47d182)await this[_0xb11539(0x3b2)](_0x39b256,_0x44aaff[_0xb11539(0x461)]),_0x50cfa5['delete'](_0x39b256);}}if(_0x44aaff[_0xb11539(0x208)]!==void 0x0&&(_0x5588ef[_0xb11539(0x208)]=Number(_0x44aaff['unreadcount'])),Object['keys'](_0x5588ef)[_0xb11539(0x8b9)]===0x0)throw new Error(_0xb11539(0x660));let _0x112ee2=await this[_0xb11539(0x230)][_0xb11539(0x40f)][_0xb11539(0x805)]({'where':{'_id':_0x44aaff[_0xb11539(0x461)]}},_0x5588ef,this[_0xb11539(0x665)][_0xb11539(0x21d)]);return _0x112ee2&&q(this[_0xb11539(0x763)],'chats',{'chat':_0x112ee2}),_0x112ee2?(this[_0xb11539(0x8de)][_0xb11539(0x5ef)](this['instanceName']+'\x20('+this[_0xb11539(0x665)][_0xb11539(0x21d)]+_0xb11539(0x52e)+JSON[_0xb11539(0x8f1)](_0x112ee2,null,0x2)),_0x112ee2):{'message':_0xb11539(0x90a)};}catch(_0x5460b4){let _0x2e4d41=_0xb11539(0x6da),_0x45cb76=_0x5460b4 instanceof Error?_0x5460b4[_0xb11539(0x68b)]:typeof _0x5460b4=='object'?JSON[_0xb11539(0x8f1)](_0x5460b4):_0x5460b4,_0x1e9974=_0x2e4d41+':\x20'+_0x45cb76;throw this['logger'][_0xb11539(0x20e)](this[_0xb11539(0x763)]+'\x20('+this[_0xb11539(0x665)][_0xb11539(0x21d)]+_0xb11539(0x52e)+_0x1e9974),new m(_0x1e9974);}}async[a0_0x2f588e(0x2fc)](_0x267726,_0x5f52d5){const _0x261d7f=a0_0x2f588e;try{await this[_0x261d7f(0x1dc)]['addChatLabel'](_0x5f52d5,_0x267726),this['logger']['info'](this[_0x261d7f(0x763)]+'\x20('+this['instance'][_0x261d7f(0x21d)]+_0x261d7f(0x8c1)+_0x267726+_0x261d7f(0x1f9)+_0x5f52d5+_0x261d7f(0x33d));}catch(_0x111e36){this[_0x261d7f(0x8de)]['error'](_0x261d7f(0x3d1)+_0x267726+_0x261d7f(0x6cc)+_0x5f52d5+':\x20'+_0x111e36);}}async[a0_0x2f588e(0x3b2)](_0x4e047d,_0x1827dc){const _0x69db0b=a0_0x2f588e;try{await this[_0x69db0b(0x1dc)][_0x69db0b(0x8be)](_0x1827dc,_0x4e047d),this['logger'][_0x69db0b(0x569)](this[_0x69db0b(0x763)]+'\x20('+this['instance'][_0x69db0b(0x21d)]+_0x69db0b(0x8c1)+_0x4e047d+_0x69db0b(0x4f1)+_0x1827dc+'\x20com\x20sucesso.');}catch(_0x14f790){this[_0x69db0b(0x8de)][_0x69db0b(0x20e)](_0x69db0b(0x2b5)+_0x4e047d+_0x69db0b(0x7b6)+_0x1827dc+':\x20'+_0x14f790);}}async[a0_0x2f588e(0x201)](_0x507f77){const _0x1f8884=a0_0x2f588e;try{let _0x321bd1=await this[_0x1f8884(0x230)][_0x1f8884(0x5a1)][_0x1f8884(0x2c5)](this[_0x1f8884(0x665)][_0x1f8884(0x21d)]),_0x259c65=_0x507f77[_0x1f8884(0x461)]?_0x321bd1[_0x1f8884(0x76b)][_0x1f8884(0x2b0)](_0x2dcac1=>_0x2dcac1[_0x1f8884(0x461)]===_0x507f77[_0x1f8884(0x461)]):-0x1;if(_0x507f77[_0x1f8884(0x787)]&&_0x259c65>-0x1)_0x321bd1[_0x1f8884(0x76b)][_0x1f8884(0x3b4)](_0x259c65,0x1);else{if(_0x259c65>-0x1){let _0x1d3fbd=_0x321bd1[_0x1f8884(0x76b)][_0x259c65];_0x507f77[_0x1f8884(0x6fd)]&&(_0x1d3fbd['fone']=_0x507f77['fone']),_0x507f77[_0x1f8884(0x7dc)]&&(_0x1d3fbd[_0x1f8884(0x7dc)]=_0x507f77['name']),_0x507f77[_0x1f8884(0x58f)]&&(_0x1d3fbd[_0x1f8884(0x58f)]=_0x507f77[_0x1f8884(0x58f)]),_0x507f77[_0x1f8884(0x27e)]&&(_0x1d3fbd[_0x1f8884(0x27e)]=_0x507f77['role']);}else _0x321bd1[_0x1f8884(0x76b)]['push']({'_id':_0x507f77[_0x1f8884(0x461)]||new we[(_0x1f8884(0x6d0))][(_0x1f8884(0x55e))]['ObjectId']()['toString'](),'fone':_0x507f77[_0x1f8884(0x6fd)],'name':_0x507f77[_0x1f8884(0x7dc)],'email':_0x507f77['email'],'role':_0x507f77[_0x1f8884(0x27e)]});}let _0x2b9da1={'agents':_0x321bd1[_0x1f8884(0x76b)]},_0xf67e9f=await this['repository'][_0x1f8884(0x5a1)][_0x1f8884(0x579)](_0x2b9da1,this['instance'][_0x1f8884(0x21d)]);return this['AutomateSystem']=_0xf67e9f,this[_0x1f8884(0x8de)][_0x1f8884(0x5ef)](this[_0x1f8884(0x763)]+'\x20('+this[_0x1f8884(0x665)][_0x1f8884(0x21d)]+_0x1f8884(0x8c2)),this[_0x1f8884(0x8de)][_0x1f8884(0x5ef)](this[_0x1f8884(0x763)]+'\x20('+this[_0x1f8884(0x665)][_0x1f8884(0x21d)]+_0x1f8884(0x52e)+this[_0x1f8884(0x7e2)]),_0xf67e9f;}catch(_0x3c0d72){let _0x1e435e=_0x1f8884(0x2ef),_0x1bbd7c=_0x3c0d72 instanceof Error?_0x3c0d72[_0x1f8884(0x68b)]:typeof _0x3c0d72==_0x1f8884(0x57a)?JSON['stringify'](_0x3c0d72):_0x3c0d72,_0x5265b0=_0x1e435e+':\x20'+_0x1bbd7c;throw this['logger'][_0x1f8884(0x20e)](this[_0x1f8884(0x763)]+'\x20('+this[_0x1f8884(0x665)]['wuid']+'):\x20'+_0x5265b0),new m(_0x5265b0);}}async[a0_0x2f588e(0x890)](_0xe86df6){const _0x10a735=a0_0x2f588e;try{let _0x176671=await this['repository'][_0x10a735(0x5a1)]['findOrCreate'](this[_0x10a735(0x665)][_0x10a735(0x21d)]),_0x27dea8=_0xe86df6[_0x10a735(0x461)]?_0x176671[_0x10a735(0x644)]['findIndex'](_0x2d370a=>_0x2d370a[_0x10a735(0x461)]===_0xe86df6[_0x10a735(0x461)]):-0x1,_0x304d50=!0x1,_0x529983=_0x176671[_0x10a735(0x644)][_0x10a735(0x855)](_0x2978c8=>_0x2978c8[_0x10a735(0x754)]===_0xe86df6[_0x10a735(0x754)]);if(_0xe86df6['delete']&&_0x27dea8>-0x1)_0x176671[_0x10a735(0x644)][_0x10a735(0x3b4)](_0x27dea8,0x1),_0x304d50=!0x0;else{if(_0x27dea8>-0x1){if(_0x176671['customFields'][_0x10a735(0x855)](_0x9ed629=>_0x9ed629['name']===_0xe86df6['name']&&_0x9ed629[_0x10a735(0x461)]!==_0xe86df6[_0x10a735(0x461)]))throw new Error(_0x10a735(0x694));let _0x49deb7=_0x176671[_0x10a735(0x644)][_0x27dea8];_0xe86df6['order']&&(_0x529983||!Number[_0x10a735(0x3d2)](_0xe86df6[_0x10a735(0x754)]))&&(_0x49deb7[_0x10a735(0x754)]=_0xe86df6[_0x10a735(0x754)],_0x304d50=!0x0),_0xe86df6[_0x10a735(0x7dc)]&&(_0x49deb7[_0x10a735(0x7dc)]=_0xe86df6[_0x10a735(0x7dc)]);}else{if(_0x176671['customFields'][_0x10a735(0x855)](_0x49b94a=>_0x49b94a['name']===_0xe86df6['name']&&_0x49b94a[_0x10a735(0x461)]!==_0xe86df6[_0x10a735(0x461)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x176671[_0x10a735(0x644)]['push']({'_id':_0xe86df6[_0x10a735(0x461)]||new we[(_0x10a735(0x6d0))][(_0x10a735(0x55e))]['ObjectId']()['toString'](),'order':_0xe86df6[_0x10a735(0x754)],'name':_0xe86df6[_0x10a735(0x7dc)]}),_0x304d50=!0x0;}}if(_0x304d50){_0x176671[_0x10a735(0x644)][_0x10a735(0x27a)]((_0x38bbf5,_0x15e84b)=>_0x38bbf5[_0x10a735(0x754)]>_0x15e84b['order']?0x1:_0x15e84b[_0x10a735(0x754)]>_0x38bbf5[_0x10a735(0x754)]?-0x1:0x0);for(let _0x271b4b=0x0;_0x271b4b<_0x176671[_0x10a735(0x644)][_0x10a735(0x8b9)];_0x271b4b++)_0x176671['customFields'][_0x271b4b][_0x10a735(0x754)]=_0x271b4b+0x1;}let _0x199073=await this[_0x10a735(0x230)][_0x10a735(0x5a1)][_0x10a735(0x579)](_0x176671,this['instance'][_0x10a735(0x21d)]);return this[_0x10a735(0x7e2)]=_0x199073,this['logger'][_0x10a735(0x5ef)](this[_0x10a735(0x763)]+'\x20('+this[_0x10a735(0x665)][_0x10a735(0x21d)]+_0x10a735(0x5a8)),this[_0x10a735(0x8de)][_0x10a735(0x5ef)](this[_0x10a735(0x763)]+'\x20('+this[_0x10a735(0x665)][_0x10a735(0x21d)]+_0x10a735(0x52e)+this[_0x10a735(0x7e2)]),_0x199073;}catch(_0x5de0ab){let _0x213979='Erro\x20ao\x20tentar\x20updateCustomFields',_0x5efb5a=_0x5de0ab instanceof Error?_0x5de0ab[_0x10a735(0x68b)]:typeof _0x5de0ab==_0x10a735(0x57a)?JSON[_0x10a735(0x8f1)](_0x5de0ab):_0x5de0ab,_0x434d70=_0x213979+':\x20'+_0x5efb5a;throw this[_0x10a735(0x8de)][_0x10a735(0x20e)](this[_0x10a735(0x763)]+'\x20('+this[_0x10a735(0x665)][_0x10a735(0x21d)]+_0x10a735(0x52e)+_0x434d70),new m(_0x434d70);}}async['updateAutoCompleteMessages'](_0x2fa6ef){const _0x15284c=a0_0x2f588e;try{let _0x47111c=await this[_0x15284c(0x230)][_0x15284c(0x5a1)][_0x15284c(0x2c5)](this[_0x15284c(0x665)]['wuid']),_0xee6681=_0x47111c?.[_0x15284c(0x691)]?.[_0x15284c(0x2b0)](_0x19654c=>_0x19654c['_id']===_0x2fa6ef?.[_0x15284c(0x461)]);if(_0x2fa6ef?.[_0x15284c(0x787)])_0xee6681>-0x1&&_0x47111c?.[_0x15284c(0x691)]?.['splice'](_0xee6681,0x1);else{if(_0xee6681>-0x1){let _0x3e8b9b=_0x47111c[_0x15284c(0x691)][_0xee6681];_0x3e8b9b['order']=_0x2fa6ef?.['order']||_0x3e8b9b[_0x15284c(0x754)],_0x3e8b9b[_0x15284c(0x712)]=_0x2fa6ef?.[_0x15284c(0x712)]||_0x3e8b9b[_0x15284c(0x712)],_0x3e8b9b[_0x15284c(0x68b)]=_0x2fa6ef?.[_0x15284c(0x68b)]||_0x3e8b9b[_0x15284c(0x68b)];}else{let _0x2a490a={'_id':_0x2fa6ef?.[_0x15284c(0x461)]||new we[(_0x15284c(0x6d0))][(_0x15284c(0x55e))][(_0x15284c(0x758))]()[_0x15284c(0x52b)](),'order':_0x2fa6ef?.[_0x15284c(0x754)],'command':_0x2fa6ef?.[_0x15284c(0x712)],'message':_0x2fa6ef?.[_0x15284c(0x68b)]};_0x47111c?.[_0x15284c(0x691)]?.['push'](_0x2a490a);}}_0x47111c?.[_0x15284c(0x691)]?.['sort']((_0x492c86,_0x35d85f)=>_0x492c86['order']-_0x35d85f['order']);let _0xc61cd3=await this[_0x15284c(0x230)][_0x15284c(0x5a1)][_0x15284c(0x579)](_0x47111c,this[_0x15284c(0x665)][_0x15284c(0x21d)]);return this['AutomateSystem']=_0xc61cd3,this[_0x15284c(0x8de)][_0x15284c(0x5ef)](this[_0x15284c(0x763)]+'\x20('+this[_0x15284c(0x665)][_0x15284c(0x21d)]+_0x15284c(0x5a8)),_0xc61cd3;}catch(_0x21b10d){let _0xed9260=_0x15284c(0x400),_0x9dd29b=_0x21b10d instanceof Error?_0x21b10d[_0x15284c(0x68b)]:typeof _0x21b10d=='object'?JSON[_0x15284c(0x8f1)](_0x21b10d):_0x21b10d,_0x31449f=_0xed9260+':\x20'+_0x9dd29b;throw this[_0x15284c(0x8de)][_0x15284c(0x20e)](this[_0x15284c(0x763)]+'\x20('+this[_0x15284c(0x665)]['wuid']+_0x15284c(0x52e)+_0x31449f),new m(_0x31449f);}}async[a0_0x2f588e(0x80a)](_0x347387){const _0x380601=a0_0x2f588e;try{let _0x5c16db=await this[_0x380601(0x230)][_0x380601(0x5a1)]['findOrCreate'](this[_0x380601(0x665)]['wuid']);if(!_0x5c16db)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x59c896={'_id':_0x5c16db['_id'],'flowConfig':{'enabled':_0x347387[_0x380601(0x76d)]??_0x5c16db[_0x380601(0x46e)][_0x380601(0x76d)],'ignoreGroups':_0x347387[_0x380601(0x3c3)]??_0x5c16db[_0x380601(0x46e)][_0x380601(0x3c3)],'stopConversation':_0x347387[_0x380601(0x4c0)][_0x380601(0x565)]()??_0x5c16db[_0x380601(0x46e)][_0x380601(0x4c0)][_0x380601(0x565)](),'stopMinutes':_0x347387[_0x380601(0x210)]??_0x5c16db[_0x380601(0x46e)][_0x380601(0x210)],'stopWhenYouSendMsg':_0x347387['stopWhenYouSendMsg']??_0x5c16db[_0x380601(0x46e)][_0x380601(0x504)]}},_0x79037=await this[_0x380601(0x230)]['automateSystem'][_0x380601(0x579)](_0x59c896,this['instance'][_0x380601(0x21d)]);return this[_0x380601(0x7e2)]=_0x79037,this[_0x380601(0x8de)][_0x380601(0x5ef)](this[_0x380601(0x763)]+'\x20('+this[_0x380601(0x665)][_0x380601(0x21d)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x380601(0x8de)][_0x380601(0x5ef)](this[_0x380601(0x763)]+'\x20('+this[_0x380601(0x665)][_0x380601(0x21d)]+_0x380601(0x52e)+this[_0x380601(0x7e2)]),setTimeout(()=>this[_0x380601(0x909)](),0x7d0),_0x79037;}catch(_0x33268b){let _0x17a763='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x4bd911=_0x33268b instanceof Error?_0x33268b[_0x380601(0x68b)]:typeof _0x33268b==_0x380601(0x57a)?JSON[_0x380601(0x8f1)](_0x33268b):_0x33268b,_0x5337fe=_0x17a763+':\x20'+_0x4bd911;throw this['logger']['error'](this[_0x380601(0x763)]+'\x20('+this[_0x380601(0x665)]['wuid']+_0x380601(0x52e)+_0x5337fe),new m(_0x5337fe);}}async[a0_0x2f588e(0x60e)](){const _0x213f10=a0_0x2f588e;try{let _0x3a7883=await this[_0x213f10(0x230)][_0x213f10(0x5a1)]['findOrCreate'](this[_0x213f10(0x665)][_0x213f10(0x21d)]);return this['AutomateSystem']=_0x3a7883,_0x3a7883;}catch(_0x162338){let _0x824b6a='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x52881c=_0x162338 instanceof Error?_0x162338['message']:typeof _0x162338==_0x213f10(0x57a)?JSON['stringify'](_0x162338):_0x162338,_0x12e6c9=_0x824b6a+':\x20'+_0x52881c;throw this[_0x213f10(0x8de)][_0x213f10(0x20e)](this[_0x213f10(0x763)]+'\x20('+this[_0x213f10(0x665)]['wuid']+_0x213f10(0x52e)+_0x12e6c9),new m(_0x12e6c9);}}async[a0_0x2f588e(0x2e1)](){const _0x3f26a0=a0_0x2f588e;this[_0x3f26a0(0x665)][_0x3f26a0(0x5d4)]['timeout']&&clearTimeout(this[_0x3f26a0(0x665)][_0x3f26a0(0x5d4)][_0x3f26a0(0x349)]),this['instance'][_0x3f26a0(0x5d4)][_0x3f26a0(0x349)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x2f588e(0x594)](){const _0x576246=a0_0x2f588e;Date[_0x576246(0x71f)]()-this['instance'][_0x576246(0x5d4)]['lastSend']>=0x1d4c0&&(this[_0x576246(0x8de)][_0x576246(0x5ef)](this['instanceName']+'\x20('+this[_0x576246(0x665)][_0x576246(0x21d)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x576246(0x665)][_0x576246(0x5d4)][_0x576246(0x48c)]=null,this[_0x576246(0x665)][_0x576246(0x5d4)]['lastSend']=0x0,this[_0x576246(0x665)][_0x576246(0x5d4)]['delayMessage']=0x0,this['nextMessageId']=null,this[_0x576246(0x54d)]=null,await this['scheduleNextCheck']());}async[a0_0x2f588e(0x909)](){const _0x1d7db2=a0_0x2f588e;let _0x5d3cf9=!0x1;this[_0x1d7db2(0x2ea)]=null,this[_0x1d7db2(0x54d)]=(0x0,X['v4'])(),await this['transformScheduledMessagesByType']();let _0x3c1428=()=>{const _0x25d8a0=_0x1d7db2;this['logger']['verbose'](this[_0x25d8a0(0x763)]+'\x20('+this[_0x25d8a0(0x665)]['wuid']+_0x25d8a0(0x8b4)+this[_0x25d8a0(0x665)][_0x25d8a0(0x5d4)][_0x25d8a0(0x48c)]+_0x25d8a0(0x1cc));},_0x2b5ea4=async()=>{const _0xce212f=_0x1d7db2;this[_0xce212f(0x8de)][_0xce212f(0x5ef)](this[_0xce212f(0x763)]+'\x20('+this[_0xce212f(0x665)][_0xce212f(0x21d)]+_0xce212f(0x7d1));let _0x5e4e09=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x47c929={'where':{'status':{'$in':[_0xce212f(0x710),_0xce212f(0x415)]},'$or':[{'when':{'$lte':Date[_0xce212f(0x71f)](),'$gte':_0x5e4e09}},{'when':0x0}]}};return await this[_0xce212f(0x230)]['scheduleMessage'][_0xce212f(0x3b1)](_0x47c929,this[_0xce212f(0x665)][_0xce212f(0x21d)]);},_0x1a13c7=async _0x7d632c=>{const _0xa5e2ff=_0x1d7db2;let _0x395d44=(await this[_0xa5e2ff(0x230)]['scheduleMessage'][_0xa5e2ff(0x5df)](_0x7d632c,this[_0xa5e2ff(0x665)][_0xa5e2ff(0x21d)]))[_0xa5e2ff(0x2ba)][_0xa5e2ff(0x568)](_0x4ce16c=>!_0x4ce16c[_0xa5e2ff(0x3e9)]);return _0x395d44[_0xa5e2ff(0x8b9)]===0x0?null:_0x395d44[_0xa5e2ff(0x305)]((_0x23643c,_0x115bb1)=>(_0x23643c[_0xa5e2ff(0x754)]??Number[_0xa5e2ff(0x700)])<(_0x115bb1[_0xa5e2ff(0x754)]??Number[_0xa5e2ff(0x700)])?_0x23643c:_0x115bb1);},_0x4342d2=async _0x2d6945=>{const _0x11cddd=_0x1d7db2;let _0x869709=Math[_0x11cddd(0x2cc)](Math['random']()*0x1389)+0xbb8;for(let _0x42fe75 of _0x2d6945){let _0x1ce3d8={'_id':_0x42fe75[_0x11cddd(0x461)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x11cddd(0x71f)]()-0x2710}}]},_0x11236a={'startSend':Date[_0x11cddd(0x71f)](),'processUUID':this[_0x11cddd(0x54d)]};if(!await this['repository']['scheduleMessage'][_0x11cddd(0x805)](_0x1ce3d8,_0x11236a,this[_0x11cddd(0x665)][_0x11cddd(0x21d)]))return;if(!this[_0x11cddd(0x665)][_0x11cddd(0x5d4)][_0x11cddd(0x3c8)]){this['logger'][_0x11cddd(0x5ef)](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+_0x11cddd(0x68d));break;}if(!this[_0x11cddd(0x2ea)]){let _0x3694fe=await _0x1a13c7(_0x42fe75[_0x11cddd(0x461)]);this['nextMessageId']=_0x3694fe?_0x3694fe[_0x11cddd(0x461)]:null,_0x5d3cf9=!this['nextMessageId'];}for(;!_0x5d3cf9;){if(await this['setRestartTimeout'](),!this[_0x11cddd(0x2ea)]){let _0x5d05ff=await _0x1a13c7(_0x42fe75['_id']);if(!_0x5d05ff){_0x5d3cf9=!0x0;break;}this[_0x11cddd(0x2ea)]=_0x5d05ff['_id'];}let _0x2fd150=_0x42fe75[_0x11cddd(0x2ba)][_0x11cddd(0x3b1)](_0xf2a107=>_0xf2a107[_0x11cddd(0x461)]===this[_0x11cddd(0x2ea)]);if(!_0x2fd150){_0x5d3cf9=!0x0;break;}if(this['nextMessageId']&&this[_0x11cddd(0x2ea)]!==_0x2fd150[_0x11cddd(0x461)]){this[_0x11cddd(0x8de)][_0x11cddd(0x5ef)](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+_0x11cddd(0x1ea)+_0x2fd150[_0x11cddd(0x461)]+_0x11cddd(0x29b));break;}if(this['instance'][_0x11cddd(0x5d4)]['lastSend']=Date[_0x11cddd(0x71f)](),this['instance'][_0x11cddd(0x5d4)][_0x11cddd(0x43b)]===_0x2fd150[_0x11cddd(0x461)]){this['logger'][_0x11cddd(0x20e)](this[_0x11cddd(0x763)]+'\x20('+this['instance']['wuid']+_0x11cddd(0x656)+_0x2fd150[_0x11cddd(0x461)]+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x1fc398=_0x42fe75[_0x11cddd(0x2ba)][_0x11cddd(0x2b0)](_0x1eb541=>_0x1eb541[_0x11cddd(0x461)]===_0x2fd150[_0x11cddd(0x461)]);_0x1fc398!==-0x1&&(_0x42fe75[_0x11cddd(0x2ba)][_0x1fc398][_0x11cddd(0x3e9)]=!0x0),this[_0x11cddd(0x2ea)]=_0x42fe75['messages'][_0x11cddd(0x8b9)]>0x0?_0x42fe75[_0x11cddd(0x2ba)][_0x11cddd(0x568)](_0x1797d0=>!_0x1797d0[_0x11cddd(0x3e9)])[_0x11cddd(0x305)]((_0x4835be,_0x17b290)=>(_0x4835be['order']??Number[_0x11cddd(0x700)])<(_0x17b290[_0x11cddd(0x754)]??Number['MAX_SAFE_INTEGER'])?_0x4835be:_0x17b290)[_0x11cddd(0x461)]:null,_0x5d3cf9=!this[_0x11cddd(0x2ea)];continue;}if(this[_0x11cddd(0x665)][_0x11cddd(0x5d4)][_0x11cddd(0x43b)]=_0x2fd150[_0x11cddd(0x461)],_0x2fd150[_0x11cddd(0x3e9)]){this['logger'][_0x11cddd(0x5ef)](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+_0x11cddd(0x6f7)+_0x2fd150['remoteJid']+_0x11cddd(0x853));continue;}if(!this[_0x11cddd(0x665)][_0x11cddd(0x5d4)][_0x11cddd(0x3c8)]){this[_0x11cddd(0x8de)][_0x11cddd(0x5ef)](this[_0x11cddd(0x763)]+'\x20('+this['instance'][_0x11cddd(0x21d)]+_0x11cddd(0x511));break;}if(!this[_0x11cddd(0x665)][_0x11cddd(0x5d4)][_0x11cddd(0x48c)]){this['logger'][_0x11cddd(0x5ef)](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+_0x11cddd(0x5ce)+_0x42fe75[_0x11cddd(0x461)]+_0x11cddd(0x46f));break;}if(_0x2fd150['type']==='flow'&&!this[_0x11cddd(0x7e2)]?.[_0x11cddd(0x46e)]['enabled']){this[_0x11cddd(0x8de)]['error'](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x33c1d2={'idControl':_0x2fd150[_0x11cddd(0x461)],'remoteJid':_0x2fd150[_0x11cddd(0x46d)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x11cddd(0x71f)]()},_0x3dcc3=null;try{this[_0x11cddd(0x8de)][_0x11cddd(0x5ef)](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+_0x11cddd(0x728)+_0x2fd150['remoteJid']);let _0x87f3be=await this[_0x11cddd(0x373)](_0x2fd150[_0x11cddd(0x46d)],_0x2fd150);_0x33c1d2[_0x11cddd(0x20e)]=_0x87f3be['error'],_0x33c1d2['id']=_0x87f3be['error']?null:_0x87f3be['id'],_0x33c1d2['error_log']=_0x87f3be[_0x11cddd(0x20e)]?_0x87f3be[_0x11cddd(0x2c4)]?_0x87f3be['detail'][_0x11cddd(0x52b)]():'':null;let _0x24ea18=_0x42fe75[_0x11cddd(0x2ba)][_0x11cddd(0x2b0)](_0x531113=>_0x531113['_id']===_0x2fd150[_0x11cddd(0x461)]);_0x24ea18!==-0x1&&(_0x42fe75[_0x11cddd(0x2ba)][_0x24ea18][_0x11cddd(0x3e9)]=!0x0);let _0x376335={'$push':{'messagesSend':_0x33c1d2},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x437ffc=[{'elem._id':_0x2fd150[_0x11cddd(0x461)]}];if(this[_0x11cddd(0x8de)]['verbose'](this[_0x11cddd(0x763)]+'\x20('+this['instance'][_0x11cddd(0x21d)]+_0x11cddd(0x80c)+_0x2fd150[_0x11cddd(0x461)]),_0x3dcc3=await this[_0x11cddd(0x230)][_0x11cddd(0x6c0)]['updateOne']({'_id':_0x42fe75[_0x11cddd(0x461)]},_0x376335,this['instance']['wuid'],{'arrayFilters':_0x437ffc}),_0x87f3be[_0x11cddd(0x20e)]){this['logger']['error'](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)]['wuid']+_0x11cddd(0x53a)+_0x87f3be[_0x11cddd(0x2c4)]);continue;}let _0x11be55=this[_0x11cddd(0x24c)](_0x42fe75[_0x11cddd(0x6bf)],_0x42fe75[_0x11cddd(0x4f9)]);await this['sleep'](_0x11be55);}catch(_0x287365){this[_0x11cddd(0x8de)][_0x11cddd(0x20e)](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+_0x11cddd(0x8c9)+_0x2fd150[_0x11cddd(0x46d)]+':\x20'+(_0x287365 instanceof Error?_0x287365['message']:JSON[_0x11cddd(0x8f1)](_0x287365,null,0x2))),_0x33c1d2[_0x11cddd(0x20e)]=!0x0,_0x33c1d2[_0x11cddd(0x4a9)]=_0x287365[_0x11cddd(0x68b)];let _0x575541=_0x42fe75[_0x11cddd(0x2ba)][_0x11cddd(0x2b0)](_0x182f7c=>_0x182f7c[_0x11cddd(0x461)]===_0x2fd150[_0x11cddd(0x461)]);_0x575541!==-0x1&&(_0x42fe75[_0x11cddd(0x2ba)][_0x575541][_0x11cddd(0x3e9)]=!0x0);let _0x458ec7={'$push':{'messagesSend':_0x33c1d2},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x478416=[{'elem._id':_0x2fd150['_id']}];this[_0x11cddd(0x8de)]['verbose'](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x2fd150[_0x11cddd(0x461)]),_0x3dcc3=await this[_0x11cddd(0x230)][_0x11cddd(0x6c0)][_0x11cddd(0x805)]({'_id':_0x42fe75[_0x11cddd(0x461)]},_0x458ec7,this[_0x11cddd(0x665)][_0x11cddd(0x21d)],{'arrayFilters':_0x478416});}finally{if(_0x3dcc3&&_0x3dcc3[_0x11cddd(0x3f3)]===_0x11cddd(0x240)){this[_0x11cddd(0x8de)][_0x11cddd(0x5ef)](this[_0x11cddd(0x763)]+'\x20('+this[_0x11cddd(0x665)][_0x11cddd(0x21d)]+_0x11cddd(0x5ce)+_0x2fd150[_0x11cddd(0x461)]+_0x11cddd(0x36b));break;}let _0x56e5be=_0x3dcc3['messages'][_0x11cddd(0x3b1)](_0x433bca=>_0x433bca[_0x11cddd(0x461)]===_0x2fd150[_0x11cddd(0x461)]);if(_0x56e5be&&!_0x56e5be['triedToSend']){let _0x4e5787={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x3b824b=[{'elem._id':_0x2fd150[_0x11cddd(0x461)]}];await this[_0x11cddd(0x230)][_0x11cddd(0x6c0)][_0x11cddd(0x805)]({'_id':_0x3dcc3[_0x11cddd(0x461)]},_0x4e5787,this[_0x11cddd(0x665)]['wuid'],{'arrayFilters':_0x3b824b});}if(this[_0x11cddd(0x2ea)]=_0x3dcc3['messages'][_0x11cddd(0x8b9)]>0x0?_0x3dcc3['messages'][_0x11cddd(0x568)](_0x13298a=>!_0x13298a[_0x11cddd(0x3e9)])[_0x11cddd(0x305)]((_0x3acec5,_0x2ac835)=>(_0x3acec5['order']??Number[_0x11cddd(0x700)])<(_0x2ac835[_0x11cddd(0x754)]??Number['MAX_SAFE_INTEGER'])?_0x3acec5:_0x2ac835)['_id']:null,_0x5d3cf9=!this[_0x11cddd(0x2ea)],_0x3dcc3[_0x11cddd(0x54d)]!==this['processUUID']){this[_0x11cddd(0x8de)][_0x11cddd(0x5ef)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x11cddd(0x203));break;}}}this[_0x11cddd(0x2ea)]=null;let _0x106574=await this[_0x11cddd(0x230)][_0x11cddd(0x6c0)][_0x11cddd(0x5df)](_0x42fe75['_id'],this['instance'][_0x11cddd(0x21d)]);if(_0x5d3cf9=_0x106574[_0x11cddd(0x2ba)][_0x11cddd(0x90f)](_0x118523=>_0x118523[_0x11cddd(0x3e9)]),_0x5d3cf9&&_0x106574['status']!==_0x11cddd(0x240)){this[_0x11cddd(0x665)][_0x11cddd(0x5d4)][_0x11cddd(0x43b)]=null;let _0x1cff8f={'$set':{'status':_0x11cddd(0x916)}};await this[_0x11cddd(0x230)]['scheduleMessage']['updateOneById'](_0x106574[_0x11cddd(0x461)],_0x1cff8f,this['instance']['wuid']);}await new Promise(_0x302cdd=>setTimeout(_0x302cdd,_0x869709)),global['gc']?global['gc']():console[_0x11cddd(0x2ae)](_0x11cddd(0x8eb));}this[_0x11cddd(0x2ea)]=null,this[_0x11cddd(0x54d)]=null;},_0x50649d=async()=>{const _0x3a4b28=_0x1d7db2;let _0x758b90={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x58fde7=await this['repository'][_0x3a4b28(0x6c0)][_0x3a4b28(0x876)](_0x758b90,this[_0x3a4b28(0x665)][_0x3a4b28(0x21d)]);_0x58fde7&&_0x58fde7[_0x3a4b28(0x490)]-Date['now']()<=0x5265c00?this['instance'][_0x3a4b28(0x5d4)][_0x3a4b28(0x6d5)]=_0x58fde7['when']-Date[_0x3a4b28(0x71f)]():this[_0x3a4b28(0x665)][_0x3a4b28(0x5d4)][_0x3a4b28(0x6d5)]=(0x3c+Math[_0x3a4b28(0x2cc)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x3a4b28(0x665)][_0x3a4b28(0x5d4)][_0x3a4b28(0x6d5)]=Math[_0x3a4b28(0x6af)](this[_0x3a4b28(0x665)][_0x3a4b28(0x5d4)][_0x3a4b28(0x6d5)],0x1*0x2*0x3e8);let _0x1b7950=Math['round'](this[_0x3a4b28(0x665)][_0x3a4b28(0x5d4)]['delayMessage']/0xea60);if(_0x58fde7){let _0x782c88=new Date(_0x58fde7['when'])[_0x3a4b28(0x843)]();this[_0x3a4b28(0x8de)]['verbose'](this[_0x3a4b28(0x763)]+'\x20('+this['instance']['wuid']+_0x3a4b28(0x2f0)+_0x782c88+_0x3a4b28(0x483)+_0x1b7950+_0x3a4b28(0x56f));}else this['logger'][_0x3a4b28(0x5ef)](this['instanceName']+'\x20('+this['instance'][_0x3a4b28(0x21d)]+_0x3a4b28(0x591)+_0x1b7950+_0x3a4b28(0x56f));setTimeout(()=>this[_0x3a4b28(0x909)](),this[_0x3a4b28(0x665)]['ScheduleMessage']['delayMessage']);};if(this[_0x1d7db2(0x665)]['ScheduleMessage'][_0x1d7db2(0x48c)]){await this['setRestartTimeout'](),_0x3c1428();return;}if(!this[_0x1d7db2(0x665)][_0x1d7db2(0x5d4)]['isConnected']){this[_0x1d7db2(0x8de)][_0x1d7db2(0x5ef)](this['instanceName']+'\x20('+this[_0x1d7db2(0x665)]['wuid']+_0x1d7db2(0x7d0)),this[_0x1d7db2(0x665)][_0x1d7db2(0x5d4)][_0x1d7db2(0x48c)]=null,this[_0x1d7db2(0x665)][_0x1d7db2(0x5d4)][_0x1d7db2(0x297)]=0x0,this[_0x1d7db2(0x665)][_0x1d7db2(0x5d4)]['delayMessage']=0x0,this['instance']['ScheduleMessage']['lastMessage_id']=null;return;}try{let _0x2c2e84=await _0x2b5ea4();_0x2c2e84[_0x1d7db2(0x8b9)]===0x0?this[_0x1d7db2(0x8de)][_0x1d7db2(0x5ef)](this[_0x1d7db2(0x763)]+'\x20('+this['instance'][_0x1d7db2(0x21d)]+_0x1d7db2(0x4cb)):(this['instance'][_0x1d7db2(0x5d4)]['processingGroup_id']=_0x2c2e84[0x0][_0x1d7db2(0x461)],await _0x4342d2(_0x2c2e84)),await _0x50649d(),this['instance'][_0x1d7db2(0x5d4)]['processingGroup_id']=null,this[_0x1d7db2(0x665)][_0x1d7db2(0x5d4)][_0x1d7db2(0x43b)]=null;}catch(_0x25e77a){this[_0x1d7db2(0x8de)][_0x1d7db2(0x20e)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x25e77a instanceof Error?_0x25e77a[_0x1d7db2(0x68b)]:JSON['stringify'](_0x25e77a,null,0x2)));}}['getDelay'](_0x276b26,_0x3f2fe6){const _0x3b9e80=a0_0x2f588e;return _0x276b26=Math['max'](0.5,_0x276b26),_0x3f2fe6=Math[_0x3b9e80(0x3d6)](Math[_0x3b9e80(0x6af)](0x3,_0x3f2fe6),0x78),Math[_0x3b9e80(0x2cc)](Math[_0x3b9e80(0x455)]()*(_0x3f2fe6-_0x276b26+0x1)+_0x276b26)*0x3e8;}[a0_0x2f588e(0x204)](_0x3565e0){return new Promise(_0x37a701=>setTimeout(_0x37a701,_0x3565e0));}async['getVariablesChat'](_0x29f7d3){const _0x44f1f1=a0_0x2f588e;if(!this[_0x44f1f1(0x7e2)]&&(await this[_0x44f1f1(0x60e)](),!this[_0x44f1f1(0x7e2)]))return null;_0x29f7d3=this[_0x44f1f1(0x37f)](_0x29f7d3);let _0x3cdee6=await this[_0x44f1f1(0x230)][_0x44f1f1(0x40f)][_0x44f1f1(0x876)]({'where':{'_id':_0x29f7d3}},this[_0x44f1f1(0x665)][_0x44f1f1(0x21d)]),_0x51254b={};if(_0x3cdee6&&_0x3cdee6[_0x44f1f1(0x4bb)]){let _0x148143=_0x3cdee6['leadInfo'];typeof _0x148143['nome']=='string'&&(_0x51254b[_0x44f1f1(0x4f2)]=_0x148143[_0x44f1f1(0x4f2)]),typeof _0x148143[_0x44f1f1(0x797)]==_0x44f1f1(0x786)&&(_0x51254b[_0x44f1f1(0x797)]=_0x148143[_0x44f1f1(0x797)]),typeof _0x148143[_0x44f1f1(0x58f)]=='string'&&(_0x51254b[_0x44f1f1(0x58f)]=_0x148143[_0x44f1f1(0x58f)]),typeof _0x148143[_0x44f1f1(0x8a6)]==_0x44f1f1(0x786)&&(_0x51254b[_0x44f1f1(0x8a6)]=_0x148143[_0x44f1f1(0x8a6)]),typeof _0x148143[_0x44f1f1(0x3f3)]==_0x44f1f1(0x786)&&(_0x51254b[_0x44f1f1(0x3f3)]=_0x148143[_0x44f1f1(0x3f3)]),typeof _0x148143[_0x44f1f1(0x902)]==_0x44f1f1(0x786)&&(_0x51254b[_0x44f1f1(0x902)]=_0x148143[_0x44f1f1(0x902)]),typeof _0x148143[_0x44f1f1(0x89e)]==_0x44f1f1(0x786)&&(_0x51254b[_0x44f1f1(0x89e)]=_0x148143[_0x44f1f1(0x89e)]),Array[_0x44f1f1(0x3e5)](_0x148143[_0x44f1f1(0x234)])&&(_0x51254b[_0x44f1f1(0x234)]=_0x148143[_0x44f1f1(0x234)][_0x44f1f1(0x88b)](',\x20')),Array['isArray'](_0x148143[_0x44f1f1(0x1d8)])&&(_0x51254b[_0x44f1f1(0x1d8)]=_0x148143[_0x44f1f1(0x1d8)]['join'](',\x20'));}return _0x3cdee6&&_0x3cdee6['leadInfo']&&_0x3cdee6[_0x44f1f1(0x4bb)][_0x44f1f1(0x644)]&&_0x3cdee6['leadInfo'][_0x44f1f1(0x644)][_0x44f1f1(0x255)](_0x1f6f2a=>{const _0xa0009a=_0x44f1f1;let _0x22b854=this['AutomateSystem']?.['customFields'][_0xa0009a(0x3b1)](_0xe922c8=>_0xe922c8[_0xa0009a(0x461)]===_0x1f6f2a[_0xa0009a(0x461)]);_0x22b854&&(_0x51254b[_0x22b854[_0xa0009a(0x7dc)]]=_0x1f6f2a[_0xa0009a(0x3ea)]);}),_0x51254b;}async[a0_0x2f588e(0x5b2)](_0x1102a6,_0x23c81d){const _0x52fdaf=a0_0x2f588e;try{let _0x4a82e5=await this['getVariablesChat'](_0x23c81d);return this[_0x52fdaf(0x407)](_0x1102a6,_0x4a82e5);}catch(_0x1b8eb1){return this['logger'][_0x52fdaf(0x20e)](_0x52fdaf(0x833)+_0x23c81d+':\x20'+_0x1b8eb1),_0x1102a6;}}async[a0_0x2f588e(0x379)](){const _0x925425=a0_0x2f588e;let _0x51cc34=async(_0x3bb8a6,_0x1045fd)=>{const _0xbd3607=a0_0x5c2a;let _0x3c1126=(await this[_0xbd3607(0x230)][_0xbd3607(0x6c0)][_0xbd3607(0x3b1)]({'where':{'type':_0x3bb8a6}},this[_0xbd3607(0x665)][_0xbd3607(0x21d)]))[_0xbd3607(0x475)](async _0x1cc462=>{const _0x14c721=_0xbd3607;let _0x1fdea7=_0x1045fd(_0x1cc462),_0x5e4c5d=_0xb3efcd=>/^\d+$/[_0x14c721(0x798)](_0xb3efcd),_0x25a1d8=_0x1cc462[_0x14c721(0x886)]['filter'](_0x35370d=>_0x35370d['endsWith']('@s.whatsapp.net')?_0x35370d['length']>0x19:_0x35370d[_0x14c721(0x8f6)](_0x14c721(0x532))?_0x35370d[_0x14c721(0x8b9)]>0xf:_0x5e4c5d(_0x35370d)?_0x35370d[_0x14c721(0x8b9)]>=0xb:!0x1)[_0x14c721(0x475)](_0x5acb25=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x1cc462['_id'],'type':_0x1fdea7,'remoteJid':_0x5acb25,'flow':_0x1cc462[_0x14c721(0x5bb)],'text':_0x1cc462[_0x14c721(0x68b)]?.[_0x14c721(0x244)],'delay':_0x1cc462[_0x14c721(0x68b)]?.['delay'],'urlOrBase64':_0x1cc462[_0x14c721(0x68b)]?.['urlOrBase64'],'linkPreview':_0x1cc462[_0x14c721(0x68b)]?.[_0x14c721(0x678)],'fileName':_0x1cc462[_0x14c721(0x68b)]?.[_0x14c721(0x6d8)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository']['scheduleMessage'][_0x14c721(0x290)](_0x1cc462[_0x14c721(0x461)],{'$set':{'messages':_0x25a1d8},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x14c721(0x665)]['wuid']);}catch(_0xaabedd){console['error'](_0x14c721(0x24f)+_0x1cc462[_0x14c721(0x461)]+':',_0xaabedd);}});await Promise[_0xbd3607(0x57c)](_0x3c1126);};await _0x51cc34(_0x925425(0x244),_0x63eea1=>_0x925425(0x244)),await _0x51cc34(_0x925425(0x34b),_0x104d65=>_0x104d65[_0x925425(0x68b)]?.['mediatype']||_0x925425(0x34b)),await _0x51cc34(_0x925425(0x7c8),_0x48a44d=>'audio'),await _0x51cc34(_0x925425(0x262),_0x10a8ae=>'flow'),await _0x51cc34('image',_0x44068b=>_0x925425(0x67a)),await _0x51cc34(_0x925425(0x8f0),_0x4e6d45=>'video'),await _0x51cc34('document',_0x5a2909=>'document'),this[_0x925425(0x8de)][_0x925425(0x5ef)](this['instanceName']+'\x20('+this[_0x925425(0x665)]['wuid']+_0x925425(0x1c8));}async[a0_0x2f588e(0x5e2)](_0x5b5214){const _0x307d58=a0_0x2f588e;try{if(this[_0x307d58(0x8de)][_0x307d58(0x5ef)](this[_0x307d58(0x763)]+'\x20('+this[_0x307d58(0x665)][_0x307d58(0x21d)]+_0x307d58(0x8e1)),_0x5b5214['_id']||(_0x5b5214[_0x307d58(0x461)]=(0x0,X['v4'])()),this[_0x307d58(0x665)][_0x307d58(0x5d4)]['processingGroup_id']===_0x5b5214['_id']?.[_0x307d58(0x52b)]()&&_0x5b5214['status']!=='stopped')throw new Error(_0x307d58(0x6ed));if(_0x5b5214[_0x307d58(0x787)]&&_0x5b5214[_0x307d58(0x461)]){let _0x466c78=await this[_0x307d58(0x230)][_0x307d58(0x6c0)]['deleteOne'](_0x5b5214[_0x307d58(0x461)],this[_0x307d58(0x665)]['wuid']);return setTimeout(()=>this[_0x307d58(0x909)](),0x7d0),_0x466c78;}let _0x8e5dff=null;if(_0x5b5214[_0x307d58(0x461)]&&(_0x8e5dff=await this[_0x307d58(0x230)][_0x307d58(0x6c0)][_0x307d58(0x5df)](_0x5b5214['_id'],this[_0x307d58(0x665)][_0x307d58(0x21d)])),_0x8e5dff){let {_id:_0x58ff1a,owner:_0x567cea,messages:_0x596c0e,status:_0x3fdda8,..._0x42d300}=_0x5b5214;if(_0x596c0e){let _0x24ea7a=_0x596c0e[_0x307d58(0x568)](_0x416c97=>!_0x416c97[_0x307d58(0x461)]),_0x573b3e=_0x596c0e[_0x307d58(0x568)](_0x23d9ea=>_0x23d9ea[_0x307d58(0x461)]&&!_0x23d9ea['delete']),_0x596816=_0x596c0e[_0x307d58(0x568)](_0x8f59aa=>_0x8f59aa[_0x307d58(0x461)]&&_0x8f59aa[_0x307d58(0x787)]);if(_0x24ea7a['length']>0x0&&await this[_0x307d58(0x41f)](_0x5b5214['_id'],_0x24ea7a),_0x573b3e[_0x307d58(0x8b9)]>0x0&&await this['editMessagesInGroup']({'_id':_0x5b5214['_id'],'messages':_0x573b3e}),_0x596816['length']>0x0){let _0x468dce=_0x596816[_0x307d58(0x475)](_0x8d2524=>({'updateOne':{'filter':{'_id':_0x5b5214[_0x307d58(0x461)]},'update':{'$pull':{'messages':{'_id':_0x8d2524[_0x307d58(0x461)]}}}}}));await this[_0x307d58(0x230)][_0x307d58(0x6c0)][_0x307d58(0x3e6)](_0x468dce,this[_0x307d58(0x665)]['wuid']);}}let _0x8c0771={'$set':_0x42d300},_0x1092d4=await this[_0x307d58(0x230)]['scheduleMessage'][_0x307d58(0x290)](_0x5b5214[_0x307d58(0x461)],_0x8c0771,this[_0x307d58(0x665)][_0x307d58(0x21d)]);return _0x1092d4&&(this[_0x307d58(0x225)](_0x1092d4['messages']),await this['repository'][_0x307d58(0x6c0)]['updateOneById'](_0x1092d4[_0x307d58(0x461)],{'$set':{'messages':_0x1092d4[_0x307d58(0x2ba)]}},this[_0x307d58(0x665)][_0x307d58(0x21d)])),setTimeout(()=>this[_0x307d58(0x909)](),0x7d0),await this[_0x307d58(0x379)](),_0x1092d4;}else{_0x5b5214[_0x307d58(0x680)]=this[_0x307d58(0x665)][_0x307d58(0x21d)],_0x5b5214[_0x307d58(0x2ba)]&&_0x5b5214[_0x307d58(0x2ba)][_0x307d58(0x255)](_0x476b60=>{const _0xf9f70a=_0x307d58;_0x476b60[_0xf9f70a(0x461)]||(_0x476b60[_0xf9f70a(0x461)]=(0x0,X['v4'])()),_0x476b60[_0xf9f70a(0x514)]||(_0x476b60[_0xf9f70a(0x514)]=_0x5b5214['_id']),delete _0x476b60['triedToSend'];});let _0x50b0a1=await this['repository'][_0x307d58(0x6c0)][_0x307d58(0x26b)](_0x5b5214,this[_0x307d58(0x665)][_0x307d58(0x21d)]);return _0x50b0a1&&(this[_0x307d58(0x225)](_0x50b0a1['messages']),await this[_0x307d58(0x230)][_0x307d58(0x6c0)][_0x307d58(0x290)](_0x50b0a1[_0x307d58(0x461)],{'$set':{'messages':_0x50b0a1['messages']}},this[_0x307d58(0x665)][_0x307d58(0x21d)])),setTimeout(()=>this[_0x307d58(0x909)](),0x7d0),_0x50b0a1;}}catch(_0x5f571a){let _0x1b3fa2=_0x307d58(0x589),_0x37101d=_0x5f571a instanceof Error?_0x5f571a['message']:typeof _0x5f571a==_0x307d58(0x57a)?JSON[_0x307d58(0x8f1)](_0x5f571a):_0x5f571a,_0x453b54=_0x1b3fa2+':\x20'+_0x37101d;throw this[_0x307d58(0x8de)][_0x307d58(0x20e)](this[_0x307d58(0x763)]+'\x20('+this[_0x307d58(0x665)][_0x307d58(0x21d)]+_0x307d58(0x52e)+_0x453b54),new m(_0x453b54);}}async[a0_0x2f588e(0x41f)](_0x3f0a0b,_0x45f332){const _0x19b569=a0_0x2f588e;try{this['logger'][_0x19b569(0x5ef)](this[_0x19b569(0x763)]+'\x20('+this['instance'][_0x19b569(0x21d)]+_0x19b569(0x7af)),_0x45f332[_0x19b569(0x255)](_0x24b273=>{const _0x7ecfe0=_0x19b569;_0x24b273[_0x7ecfe0(0x461)]||(_0x24b273[_0x7ecfe0(0x461)]=(0x0,X['v4'])()),_0x24b273[_0x7ecfe0(0x514)]||(_0x24b273[_0x7ecfe0(0x514)]=_0x3f0a0b),delete _0x24b273[_0x7ecfe0(0x3e9)];});let _0x190ed3={'$push':{'messages':{'$each':_0x45f332}}},_0x24e3f3=await this[_0x19b569(0x230)][_0x19b569(0x6c0)][_0x19b569(0x290)](_0x3f0a0b,_0x190ed3,this[_0x19b569(0x665)][_0x19b569(0x21d)]);return _0x24e3f3&&(this[_0x19b569(0x225)](_0x24e3f3['messages']),await this[_0x19b569(0x230)][_0x19b569(0x6c0)][_0x19b569(0x290)](_0x24e3f3['_id'],{'$set':{'messages':_0x24e3f3[_0x19b569(0x2ba)]}},this['instance'][_0x19b569(0x21d)])),_0x24e3f3;}catch(_0x144af2){let _0x3fed28=_0x19b569(0x428),_0x3a51d7=_0x144af2 instanceof Error?_0x144af2[_0x19b569(0x68b)]:typeof _0x144af2==_0x19b569(0x57a)?JSON['stringify'](_0x144af2):_0x144af2,_0x3b2ee2=_0x3fed28+':\x20'+_0x3a51d7;throw this[_0x19b569(0x8de)][_0x19b569(0x20e)](this[_0x19b569(0x763)]+'\x20('+this[_0x19b569(0x665)][_0x19b569(0x21d)]+_0x19b569(0x52e)+_0x3b2ee2),new m(_0x3b2ee2);}}async[a0_0x2f588e(0x635)](_0x5a6876){const _0x2ae629=a0_0x2f588e;try{if(this[_0x2ae629(0x8de)][_0x2ae629(0x5ef)](this[_0x2ae629(0x763)]+'\x20('+this[_0x2ae629(0x665)][_0x2ae629(0x21d)]+_0x2ae629(0x716)),!_0x5a6876[_0x2ae629(0x461)]||!_0x5a6876['messages'])throw new Error(_0x2ae629(0x401));let _0x413e1c=_0x5a6876['_id'],_0x4ce4b0=_0x5a6876[_0x2ae629(0x2ba)],_0x352f72=_0x4ce4b0[_0x2ae629(0x568)](_0x28bea3=>!_0x28bea3[_0x2ae629(0x787)])['map'](_0x58b157=>{const _0x3bbb0b=_0x2ae629;let _0x5494ed=_0x58b157[_0x3bbb0b(0x461)];if(!_0x5494ed)throw new Error(_0x3bbb0b(0x371));return _0x58b157[_0x3bbb0b(0x514)]||(_0x58b157[_0x3bbb0b(0x514)]=_0x413e1c),delete _0x58b157['triedToSend'],{'updateOne':{'filter':{'_id':_0x413e1c,'messages._id':_0x5494ed},'update':{'$set':{'messages.$[elem]':_0x58b157}},'arrayFilters':[{'elem._id':_0x5494ed}]}};}),_0x9cfbb9=_0x4ce4b0[_0x2ae629(0x568)](_0x501ce9=>_0x501ce9['delete'])[_0x2ae629(0x475)](_0x1efc7c=>{const _0x18ddf4=_0x2ae629;let _0x2e5330=_0x1efc7c['_id'];if(!_0x2e5330)throw new Error(_0x18ddf4(0x8e5));return{'updateOne':{'filter':{'_id':_0x413e1c},'update':{'$pull':{'messages':{'_id':_0x2e5330}}}}};}),_0x22a012=[..._0x352f72,..._0x9cfbb9],_0x1beb11=await this['repository'][_0x2ae629(0x6c0)][_0x2ae629(0x3e6)](_0x22a012,this[_0x2ae629(0x665)][_0x2ae629(0x21d)]),_0xf2c4bf=await this[_0x2ae629(0x230)]['scheduleMessage'][_0x2ae629(0x5df)](_0x413e1c,this['instance'][_0x2ae629(0x21d)]);return _0xf2c4bf&&(this[_0x2ae629(0x225)](_0xf2c4bf[_0x2ae629(0x2ba)]),await this[_0x2ae629(0x230)][_0x2ae629(0x6c0)]['updateOneById'](_0xf2c4bf[_0x2ae629(0x461)],{'$set':{'messages':_0xf2c4bf[_0x2ae629(0x2ba)]}},this[_0x2ae629(0x665)][_0x2ae629(0x21d)])),_0xf2c4bf;}catch(_0x1f2e9f){let _0x4b867d='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x5ddc43=_0x1f2e9f instanceof Error?_0x1f2e9f[_0x2ae629(0x68b)]:typeof _0x1f2e9f==_0x2ae629(0x57a)?JSON['stringify'](_0x1f2e9f):_0x1f2e9f,_0x3987ac=_0x4b867d+':\x20'+_0x5ddc43;throw this[_0x2ae629(0x8de)][_0x2ae629(0x20e)](this[_0x2ae629(0x763)]+'\x20('+this[_0x2ae629(0x665)][_0x2ae629(0x21d)]+_0x2ae629(0x52e)+_0x3987ac),new m(_0x3987ac);}}async[a0_0x2f588e(0x898)](){const _0x2743b2=a0_0x2f588e;try{let _0x1f0f90={'status':_0x2743b2(0x916)},_0x439ddc=await this[_0x2743b2(0x230)]['scheduleMessage']['deleteMany'](_0x1f0f90,this['instance']['wuid']);if(!_0x439ddc['error'])this[_0x2743b2(0x8de)][_0x2743b2(0x5ef)](this[_0x2743b2(0x763)]+'\x20('+this['instance'][_0x2743b2(0x21d)]+_0x2743b2(0x698));else throw new Error(_0x439ddc[_0x2743b2(0x20e)][_0x2743b2(0x68b)]||_0x2743b2(0x4cd));return this['getScheduleMessage']();}catch(_0x4f1822){let _0x57f85e=_0x2743b2(0x882),_0x50a1bc=_0x4f1822 instanceof Error?_0x4f1822['message']:typeof _0x4f1822==_0x2743b2(0x57a)?JSON[_0x2743b2(0x8f1)](_0x4f1822):_0x4f1822,_0x217c73=_0x57f85e+':\x20'+_0x50a1bc;throw this[_0x2743b2(0x8de)][_0x2743b2(0x20e)](this[_0x2743b2(0x763)]+'\x20('+this[_0x2743b2(0x665)][_0x2743b2(0x21d)]+_0x2743b2(0x52e)+_0x217c73),new m(_0x217c73);}}async[a0_0x2f588e(0x42a)](){const _0x5e7430=a0_0x2f588e;try{return await this[_0x5e7430(0x230)][_0x5e7430(0x6c0)]['find']({'where':{}},this['instance']['wuid']);}catch(_0x274b90){let _0x56a3f6='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x3b761f=_0x274b90 instanceof Error?_0x274b90[_0x5e7430(0x68b)]:typeof _0x274b90==_0x5e7430(0x57a)?JSON[_0x5e7430(0x8f1)](_0x274b90):_0x274b90,_0x13956b=_0x56a3f6+':\x20'+_0x3b761f;throw this['logger'][_0x5e7430(0x20e)](this[_0x5e7430(0x763)]+'\x20('+this['instance']['wuid']+_0x5e7430(0x52e)+_0x13956b),new m(_0x13956b);}}['reorderMessages'](_0x5dba0d){const _0x3c950c=a0_0x2f588e;_0x5dba0d[_0x3c950c(0x27a)]((_0x575d6b,_0x462538)=>_0x575d6b[_0x3c950c(0x754)]-_0x462538[_0x3c950c(0x754)]),_0x5dba0d[_0x3c950c(0x255)]((_0x263ce6,_0x49e275)=>{const _0x2b8fad=_0x3c950c;_0x263ce6[_0x2b8fad(0x754)]=_0x49e275+0x1;});}async[a0_0x2f588e(0x373)](_0x42bb97,_0x11649f){const _0x43373d=a0_0x2f588e;try{if(!_0x11649f)return this[_0x43373d(0x8de)][_0x43373d(0x20e)](this[_0x43373d(0x763)]+'\x20('+this[_0x43373d(0x665)][_0x43373d(0x21d)]+_0x43373d(0x7fe)),{'error':!0x0,'detail':_0x43373d(0x8a5)};if(_0x11649f[_0x43373d(0x7ef)]==='flow'&&!this['AutomateSystem']?.[_0x43373d(0x46e)]['enabled'])return this[_0x43373d(0x8de)][_0x43373d(0x20e)](this[_0x43373d(0x763)]+'\x20('+this[_0x43373d(0x665)][_0x43373d(0x21d)]+_0x43373d(0x8d8)),{'error':!0x0,'detail':_0x43373d(0x2d1)};switch(_0x11649f[_0x43373d(0x7ef)]){case _0x43373d(0x244):return await this[_0x43373d(0x624)](_0x11649f,_0x42bb97);case'video':case _0x43373d(0x67a):case _0x43373d(0x60b):return await this[_0x43373d(0x85e)](_0x11649f,_0x42bb97);case'audio':return await this['scheduleSendAudio'](_0x11649f,_0x42bb97);case _0x43373d(0x262):let _0x2a35f8=new Ke();return _0x2a35f8['name']=_0x11649f[_0x43373d(0x262)],_0x2a35f8['remoteJid']=_0x42bb97,await this[_0x43373d(0x59b)](_0x2a35f8);default:return this[_0x43373d(0x8de)][_0x43373d(0x20e)](this[_0x43373d(0x763)]+'\x20('+this[_0x43373d(0x665)][_0x43373d(0x21d)]+_0x43373d(0x584)+_0x11649f[_0x43373d(0x7ef)]),{'error':!0x0,'detail':_0x43373d(0x8d2)};}}catch(_0x57eedf){return this[_0x43373d(0x8de)]['error'](this[_0x43373d(0x763)]+'\x20('+this[_0x43373d(0x665)][_0x43373d(0x21d)]+_0x43373d(0x464)+(_0x57eedf instanceof Error?_0x57eedf[_0x43373d(0x68b)]:JSON[_0x43373d(0x8f1)](_0x57eedf,null,0x2))),{'error':!0x0,'detail':_0x57eedf['message']};}}async['scheduleSendText'](_0x3875b1,_0xc05d85){const _0x5c8c32=a0_0x2f588e;if(this[_0x5c8c32(0x8de)][_0x5c8c32(0x5ef)](this[_0x5c8c32(0x763)]+'\x20('+this[_0x5c8c32(0x665)]['wuid']+_0x5c8c32(0x638)+_0xc05d85+'\x27'),!_0x3875b1[_0x5c8c32(0x244)]||_0x3875b1['text'][_0x5c8c32(0x8b9)]===0x0)return{'error':!0x0,'detail':_0x5c8c32(0x420)};let _0x1744fd=await this[_0x5c8c32(0x5b2)](_0x3875b1[_0x5c8c32(0x244)],_0xc05d85),_0x265564={'number':_0xc05d85,'options':{'delay':_0x3875b1['delay'],'linkPreview':_0x3875b1[_0x5c8c32(0x678)]},'textMessage':{'text':_0x1744fd}},_0x3373f8=null;try{let _0x3d269a=await this[_0x5c8c32(0x845)](_0x265564);if(_0x3d269a&&_0x3d269a['status'])return{'error':!0x1,'id':_0x3d269a[_0x5c8c32(0x920)]['id']};_0x3373f8=JSON[_0x5c8c32(0x8f1)](_0x3d269a),this['logger'][_0x5c8c32(0x5ef)](this[_0x5c8c32(0x763)]+'\x20('+this[_0x5c8c32(0x665)][_0x5c8c32(0x21d)]+_0x5c8c32(0x52e)+_0x3373f8);}catch(_0x9d364b){this[_0x5c8c32(0x8de)][_0x5c8c32(0x20e)](this[_0x5c8c32(0x763)]+'\x20('+this[_0x5c8c32(0x665)][_0x5c8c32(0x21d)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x9d364b instanceof Error?_0x9d364b['message']:JSON[_0x5c8c32(0x8f1)](_0x9d364b,null,0x2))),_0x3373f8=_0x9d364b[_0x5c8c32(0x68b)];}if(_0x3373f8)return{'error':!0x0,'detail':(typeof _0x3373f8==_0x5c8c32(0x57a)?JSON[_0x5c8c32(0x8f1)](_0x3373f8,null,0x2):_0x3373f8)[_0x5c8c32(0x499)](/[\[\]{}\n]/g,'\x20')[_0x5c8c32(0x499)](/  +/g,'\x20')};}async[a0_0x2f588e(0x85e)](_0x1464c2,_0xce055f){const _0x5df87c=a0_0x2f588e;this[_0x5df87c(0x8de)][_0x5df87c(0x5ef)](this[_0x5df87c(0x763)]+'\x20('+this[_0x5df87c(0x665)]['wuid']+_0x5df87c(0x51c)+_0xce055f+'\x27');let _0x4e7429;_0x1464c2[_0x5df87c(0x244)]&&_0x1464c2[_0x5df87c(0x244)][_0x5df87c(0x8b9)]>0x0&&(_0x4e7429=await this['replaceVariablesChat'](_0x1464c2[_0x5df87c(0x244)],_0xce055f));let _0x5dd7e5={'number':_0xce055f,'options':{'delay':_0x1464c2[_0x5df87c(0x62f)],'linkPreview':_0x1464c2[_0x5df87c(0x678)]},'mediaMessage':{'mediatype':_0x1464c2['type'],'caption':_0x4e7429,'media':_0x1464c2['urlOrBase64']}},_0x52267a=null;try{let _0x5da89e=await this[_0x5df87c(0x793)](_0x5dd7e5);if(_0x5da89e&&_0x5da89e['status'])return{'error':!0x1,'id':_0x5da89e[_0x5df87c(0x920)]['id']};_0x52267a=JSON[_0x5df87c(0x8f1)](_0x5da89e),this[_0x5df87c(0x8de)][_0x5df87c(0x5ef)](this[_0x5df87c(0x763)]+'\x20('+this[_0x5df87c(0x665)][_0x5df87c(0x21d)]+_0x5df87c(0x52e)+_0x52267a);}catch(_0x4b08db){this['logger'][_0x5df87c(0x20e)](this[_0x5df87c(0x763)]+'\x20('+this[_0x5df87c(0x665)][_0x5df87c(0x21d)]+_0x5df87c(0x91b)+(_0x4b08db instanceof Error?_0x4b08db[_0x5df87c(0x68b)]:JSON['stringify'](_0x4b08db,null,0x2))),_0x52267a=_0x4b08db[_0x5df87c(0x68b)];}if(_0x52267a)return{'error':!0x0,'detail':(typeof _0x52267a==_0x5df87c(0x57a)?JSON[_0x5df87c(0x8f1)](_0x52267a,null,0x2):_0x52267a)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5df87c(0x499)](/  +/g,'\x20')};}async[a0_0x2f588e(0x752)](_0x4bafc8,_0x459461){const _0x3b6bcd=a0_0x2f588e;this[_0x3b6bcd(0x8de)][_0x3b6bcd(0x5ef)](this[_0x3b6bcd(0x763)]+'\x20('+this[_0x3b6bcd(0x665)]['wuid']+_0x3b6bcd(0x76c)+_0x459461+'\x27');let _0x1f9644={'number':_0x459461,'options':{'delay':_0x4bafc8[_0x3b6bcd(0x62f)]},'audioMessage':{'audio':_0x4bafc8[_0x3b6bcd(0x5d3)]}},_0x1d5d0d=null;try{let _0x17727e=await this[_0x3b6bcd(0x840)](_0x1f9644);if(_0x17727e&&_0x17727e[_0x3b6bcd(0x3f3)])return{'error':!0x1,'id':_0x17727e[_0x3b6bcd(0x920)]['id']};_0x1d5d0d=JSON[_0x3b6bcd(0x8f1)](_0x17727e),this[_0x3b6bcd(0x8de)][_0x3b6bcd(0x5ef)](this[_0x3b6bcd(0x763)]+'\x20('+this[_0x3b6bcd(0x665)]['wuid']+'):\x20'+_0x1d5d0d);}catch(_0xe3dea5){this['logger'][_0x3b6bcd(0x20e)](this[_0x3b6bcd(0x763)]+'\x20('+this['instance']['wuid']+_0x3b6bcd(0x7f0)+(_0xe3dea5 instanceof Error?_0xe3dea5['message']:JSON[_0x3b6bcd(0x8f1)](_0xe3dea5,null,0x2))),_0x1d5d0d=_0xe3dea5['message'];}if(_0x1d5d0d)return{'error':!0x0,'detail':(typeof _0x1d5d0d=='object'?JSON[_0x3b6bcd(0x8f1)](_0x1d5d0d,null,0x2):_0x1d5d0d)[_0x3b6bcd(0x499)](/[\[\]{}\n]/g,'\x20')[_0x3b6bcd(0x499)](/  +/g,'\x20')};}async['groupDesc'](_0x44c8d5){const _0x507b8d=a0_0x2f588e;try{return await this[_0x507b8d(0x1dc)][_0x507b8d(0x72b)](_0x44c8d5[_0x507b8d(0x557)],_0x44c8d5[_0x507b8d(0x2f8)]),{'update':_0x507b8d(0x7ab)};}catch(_0xa2b23a){let _0x3f973f=_0x507b8d(0x250),_0x30b77d=_0xa2b23a instanceof Error?_0xa2b23a[_0x507b8d(0x68b)]:typeof _0xa2b23a=='object'?JSON[_0x507b8d(0x8f1)](_0xa2b23a):_0xa2b23a,_0xed007=_0x3f973f+':\x20'+_0x30b77d;throw this['logger'][_0x507b8d(0x20e)](this[_0x507b8d(0x763)]+'\x20('+this[_0x507b8d(0x665)][_0x507b8d(0x21d)]+_0x507b8d(0x52e)+_0xed007),new D(_0xed007);}}async[a0_0x2f588e(0x2b3)](_0x35f678){const _0x70c274=a0_0x2f588e;try{return await this[_0x70c274(0x1dc)][_0x70c274(0x915)](_0x35f678['groupJid'],_0x35f678[_0x70c274(0x7dc)]),{'update':'success'};}catch(_0x152e5c){let _0x312256=_0x70c274(0x86c),_0x54d679=_0x152e5c instanceof Error?_0x152e5c[_0x70c274(0x68b)]:typeof _0x152e5c==_0x70c274(0x57a)?JSON[_0x70c274(0x8f1)](_0x152e5c):_0x152e5c,_0x2425d9=_0x312256+':\x20'+_0x54d679;throw this[_0x70c274(0x8de)][_0x70c274(0x20e)](this['instanceName']+'\x20('+this[_0x70c274(0x665)][_0x70c274(0x21d)]+_0x70c274(0x52e)+_0x2425d9),new D(_0x2425d9);}}async['toggleEphemeral'](_0x1de895){const _0x23e377=a0_0x2f588e;try{let _0x48ccb2=await this[_0x23e377(0x1dc)][_0x23e377(0x206)](_0x1de895[_0x23e377(0x557)],_0x1de895['expiration']);return{'success':!0x0};}catch(_0x2ec684){let _0x38cb78='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x2548f1=_0x2ec684 instanceof Error?_0x2ec684[_0x23e377(0x68b)]:typeof _0x2ec684==_0x23e377(0x57a)?JSON[_0x23e377(0x8f1)](_0x2ec684):_0x2ec684,_0x3ca691=_0x38cb78+':\x20'+_0x2548f1;throw this[_0x23e377(0x8de)][_0x23e377(0x20e)](this[_0x23e377(0x763)]+'\x20('+this[_0x23e377(0x665)]['wuid']+_0x23e377(0x52e)+_0x3ca691),new D(_0x3ca691);}}async[a0_0x2f588e(0x44c)](_0x501504){const _0x1b896a=a0_0x2f588e;try{return await this[_0x1b896a(0x1dc)][_0x1b896a(0x4dc)](_0x501504[_0x1b896a(0x557)],_0x501504[_0x1b896a(0x739)]),{'update':_0x1b896a(0x7ab)};}catch(_0x249b5a){let _0x286077=_0x1b896a(0x69e),_0x48d409=_0x249b5a instanceof Error?_0x249b5a[_0x1b896a(0x68b)]:typeof _0x249b5a==_0x1b896a(0x57a)?JSON['stringify'](_0x249b5a):_0x249b5a,_0x5cb860=_0x286077+':\x20'+_0x48d409;throw this[_0x1b896a(0x8de)][_0x1b896a(0x20e)](this['instanceName']+'\x20('+this[_0x1b896a(0x665)]['wuid']+_0x1b896a(0x52e)+_0x5cb860),new D(_0x5cb860);}}async[a0_0x2f588e(0x4b1)](_0x35a252){const _0x426e7a=a0_0x2f588e;try{let _0x5dfd60;if((0x0,F['isURL'])(_0x35a252['image'])){let _0x5c5705=new Date()[_0x426e7a(0x427)](),_0x2c4bdd=_0x35a252[_0x426e7a(0x67a)]+_0x426e7a(0x64c)+_0x5c5705;_0x5dfd60=(await te['default']['get'](_0x2c4bdd,{'responseType':_0x426e7a(0x2b9)}))['data'];}else{if((0x0,F['isBase64'])(_0x35a252[_0x426e7a(0x67a)]))_0x5dfd60=Buffer[_0x426e7a(0x3fe)](_0x35a252['image'],_0x426e7a(0x747));else throw new m(_0x426e7a(0x36d));}return await this['client'][_0x426e7a(0x59a)](_0x35a252[_0x426e7a(0x557)],_0x5dfd60),{'update':'success'};}catch(_0x5aec91){let _0x10f4c5='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x494af9=_0x5aec91 instanceof Error?_0x5aec91[_0x426e7a(0x68b)]:typeof _0x5aec91==_0x426e7a(0x57a)?JSON[_0x426e7a(0x8f1)](_0x5aec91):_0x5aec91,_0x35a140=_0x10f4c5+':\x20'+_0x494af9;throw this[_0x426e7a(0x8de)][_0x426e7a(0x20e)](this[_0x426e7a(0x763)]+'\x20('+this[_0x426e7a(0x665)][_0x426e7a(0x21d)]+_0x426e7a(0x52e)+_0x35a140),new D(_0x35a140);}}},Gt=class u{constructor(_0x3145a7,_0x4317de,_0x3327a0){const _0xe4bc1=a0_0x2f588e;this[_0xe4bc1(0x314)]=_0x3145a7,this[_0xe4bc1(0x521)]=_0x4317de,this[_0xe4bc1(0x230)]=_0x3327a0,this['db']={},this['redis']={},this['logger']=new $(u['name']),this['waInstances']={},(this[_0xe4bc1(0x842)](),this[_0xe4bc1(0x31e)](),Object['assign'](this['db'],_0x4317de['get'](_0xe4bc1(0x2d4))),Object[_0xe4bc1(0x71e)](this['redis'],_0x4317de[_0xe4bc1(0x375)](_0xe4bc1(0x57f))),this['dbInstance']=this['db'][_0xe4bc1(0x7aa)]?this[_0xe4bc1(0x230)][_0xe4bc1(0x76a)]?.['db'](this['db'][_0xe4bc1(0x7cc)]['DB_PREFIX_NAME']+_0xe4bc1(0x3c1)):void 0x0,this[_0xe4bc1(0x692)]=this[_0xe4bc1(0x4b9)]['ENABLED']?new me(this[_0xe4bc1(0x4b9)]):void 0x0);}async[a0_0x2f588e(0x2eb)](_0x4eda86){const _0x1003d3=a0_0x2f588e;if(_0x4eda86&&!this['waInstances'][_0x4eda86])throw new V('Instance\x20\x22'+_0x4eda86+_0x1003d3(0x2c8));let _0x1751ca=[];for await(let [_0x66cd87,_0x1ca430]of Object['entries'](this['waInstances']))if(_0x1ca430&&_0x1ca430[_0x1003d3(0x83b)][_0x1003d3(0x815)]===_0x1003d3(0x26c)){let _0x1cf20c=await this[_0x1003d3(0x230)][_0x1003d3(0x703)][_0x1003d3(0x3b1)](_0x66cd87);_0x1751ca['push']({'instance':{'instanceName':_0x66cd87,'apikey':_0x1cf20c[_0x1003d3(0x878)],'owner':_0x1ca430['wuid'],'profileName':await _0x1ca430[_0x1003d3(0x46a)]()||_0x1003d3(0x468),'profilePictureUrl':_0x1ca430[_0x1003d3(0x38b)]}});}return _0x1751ca[_0x1003d3(0x3b1)](_0x4ce805=>_0x4ce805[_0x1003d3(0x665)][_0x1003d3(0x763)]===_0x4eda86)??_0x1751ca;}async[a0_0x2f588e(0x581)](_0x55fa60){const _0x3d1147=a0_0x2f588e;if(this['db'][_0x3d1147(0x7aa)]&&(await this[_0x3d1147(0x230)][_0x3d1147(0x76a)][_0x3d1147(0x6cf)](),(await this[_0x3d1147(0x85b)][_0x3d1147(0x233)]())['length']>0x0&&await this[_0x3d1147(0x85b)][_0x3d1147(0x2ce)](_0x55fa60)),this[_0x3d1147(0x4b9)][_0x3d1147(0x7aa)]){this[_0x3d1147(0x692)][_0x3d1147(0x529)]=_0x55fa60,await this[_0x3d1147(0x692)]['delAll']();return;}}async[a0_0x2f588e(0x599)](){const _0x233243=a0_0x2f588e;await this['InstancesAlterarTodas']();let _0x8d0c02=async _0x37ed23=>{const _0x159114=a0_0x5c2a;let _0x209bc4=new Re(this['configService'],this['eventEmitter'],this['repository']);_0x209bc4[_0x159114(0x763)]=_0x37ed23,await _0x209bc4['connectToWhatsapp'](),this['waInstances'][_0x37ed23]=_0x209bc4;};try{if(this[_0x233243(0x4b9)][_0x233243(0x7aa)]){let _0x5f2212=await this[_0x233243(0x692)][_0x233243(0x567)]();_0x5f2212?.[_0x233243(0x8b9)]>0x0&&_0x5f2212['forEach'](async _0x13196f=>await _0x8d0c02(_0x13196f[_0x233243(0x50b)](':')[0x1]));return;}if(this['db'][_0x233243(0x7aa)]){await this[_0x233243(0x230)]['dbServer'][_0x233243(0x6cf)]();let _0x16835c=await this['dbInstance'][_0x233243(0x233)]();_0x16835c[_0x233243(0x8b9)]>0x0&&_0x16835c[_0x233243(0x255)](async _0x1e97d2=>await _0x8d0c02(_0x1e97d2['namespace'][_0x233243(0x499)](/^[\w-]+\./,'')));return;}}catch(_0x31d754){this[_0x233243(0x8de)]['error'](_0x31d754);}}async['cleanDisconnectedInstances'](){const _0x1c6047=a0_0x2f588e;try{let _0x9d3641=await this[_0x1c6047(0x230)]['auth'][_0x1c6047(0x7a9)]({'online':!0x1});for(let _0x4a6ea7 of _0x9d3641){let _0x18e780=_0x4a6ea7[_0x1c6047(0x461)];await re[_0x1c6047(0x259)](Q,_0x18e780);}console[_0x1c6047(0x449)](_0x1c6047(0x405)+_0x9d3641[_0x1c6047(0x8b9)]);let _0x4f962a={'online':!0x1},_0x3d5bda=await this[_0x1c6047(0x230)][_0x1c6047(0x703)][_0x1c6047(0x2ec)](_0x4f962a);console[_0x1c6047(0x449)](_0x1c6047(0x57b)+_0x3d5bda[_0x1c6047(0x7a8)]);}catch(_0x5080ab){console['error'](_0x1c6047(0x348),_0x5080ab);}}async['InstancesAlterarTodas'](){const _0x1c49a2=a0_0x2f588e;try{let _0x435a74={'online':!0x1},_0x1a85b5={'online':!0x1,'lastDisconnect':Date['now']()},_0x3fb7b4=await this[_0x1c49a2(0x230)][_0x1c49a2(0x703)]['updateAll'](_0x435a74,_0x1a85b5);await this[_0x1c49a2(0x6dd)]();}catch(_0x672b7){console['error'](_0x1c49a2(0x784),_0x672b7);}}[a0_0x2f588e(0x842)](){const _0x4aa1f6=a0_0x2f588e;this[_0x4aa1f6(0x314)]['on'](_0x4aa1f6(0x914),async _0x440ae9=>{const _0xd6a095=_0x4aa1f6;try{this[_0xd6a095(0x643)][_0x440ae9]=void 0x0;}catch{}try{this[_0xd6a095(0x581)](_0x440ae9);}finally{this[_0xd6a095(0x8de)]['warn'](_0xd6a095(0x91f)+_0x440ae9+_0xd6a095(0x616));}});}['noConnection'](){const _0x5967ea=a0_0x2f588e;this[_0x5967ea(0x314)]['on'](_0x5967ea(0x21e),async _0x34ff7d=>{const _0x3ae775=_0x5967ea;try{this[_0x3ae775(0x643)][_0x34ff7d]=void 0x0;}catch{}try{this[_0x3ae775(0x581)](_0x34ff7d);}finally{this[_0x3ae775(0x8de)][_0x3ae775(0x2ae)]('Instance\x20\x22'+_0x34ff7d+_0x3ae775(0x7a4));}});}},Bt=class extends x{[a0_0x2f588e(0x597)](_0x597e9f){return sa(_0x597e9f);}async[a0_0x2f588e(0x465)](_0x2a4ab1){const _0x555b9e=a0_0x2f588e;if(_0x2a4ab1[_0x555b9e(0x8b9)]!==0x0)try{return{'insertCount':(await this[_0x555b9e(0x597)](_0x2a4ab1[0x0][_0x555b9e(0x680)])[_0x555b9e(0x539)]([..._0x2a4ab1]))[_0x555b9e(0x8b9)]};}catch(_0x538028){return _0x538028;}}async[a0_0x2f588e(0x3b1)](_0x66210f,_0x4b45e0){const _0x449afd=a0_0x2f588e;try{let _0x991ed2=this[_0x449afd(0x597)](_0x4b45e0),_0x172d50=T(_0x66210f[_0x449afd(0x2d6)]);return await _0x991ed2[_0x449afd(0x3b1)](_0x172d50)[_0x449afd(0x27a)]({'lastmsg':-0x1})[_0x449afd(0x58e)](_0x66210f?.['limit']??0x0)[_0x449afd(0x221)]();}catch{return[];}}async[a0_0x2f588e(0x787)](_0x60b2b9,_0x50fd2d){const _0x5b7258=a0_0x2f588e;try{return{'deletedCount':(await this[_0x5b7258(0x597)](_0x50fd2d)['deleteMany']({..._0x60b2b9[_0x5b7258(0x2d6)]}))['deletedCount']};}catch(_0x49f083){return{'error':_0x49f083?.[_0x5b7258(0x52b)]()};}}async[a0_0x2f588e(0x75a)](_0x1e386f,_0x1d1f3c){const _0xdfe6ac=a0_0x2f588e;try{return await this['getChatModelForOwner'](_0x1d1f3c)[_0xdfe6ac(0x2ec)]({..._0x1e386f[_0xdfe6ac(0x2d6)]}),[];}catch(_0xdf32b7){return{'error':_0xdf32b7?.['toString']()};}}async[a0_0x2f588e(0x876)](_0x3ed49f,_0x2d05ce){const _0x4c8e7b=a0_0x2f588e;try{let _0x38c95c=this[_0x4c8e7b(0x597)](_0x2d05ce),_0x7faaa9=T(_0x3ed49f[_0x4c8e7b(0x2d6)]);return await _0x38c95c[_0x4c8e7b(0x876)](_0x7faaa9)[_0x4c8e7b(0x221)]();}catch{return null;}}async[a0_0x2f588e(0x805)](_0x4dc5eb,_0x2515b6,_0x3c1fce,_0x104bd8,_0x51cbd4=a0_0x2f588e(0x320)){const _0x9ca7e7=a0_0x2f588e;try{let _0x4b1b10={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x104bd8},_0x354fcb=this[_0x9ca7e7(0x597)](_0x3c1fce),_0x4d0f49=T(_0x4dc5eb[_0x9ca7e7(0x2d6)]);Object[_0x9ca7e7(0x37a)](_0x2515b6)[_0x9ca7e7(0x255)](_0x4fc1e9=>{_0x2515b6[_0x4fc1e9]==null&&delete _0x2515b6[_0x4fc1e9];});let _0x28250e={};return _0x28250e[_0x51cbd4]=_0x2515b6,await _0x354fcb[_0x9ca7e7(0x378)](_0x4d0f49,_0x28250e,_0x4b1b10);}catch(_0x2e17d4){return console[_0x9ca7e7(0x20e)](_0x2e17d4),null;}}async[a0_0x2f588e(0x883)](_0x2ca7e4){const _0x18e436=a0_0x2f588e;try{let _0x1a9ee6=this['getChatModelForOwner'](_0x2ca7e4[0x0][_0x18e436(0x54a)]['where'][_0x18e436(0x680)]),_0x44a293=_0x2ca7e4[_0x18e436(0x475)](_0x102a46=>({'updateOne':{'filter':{..._0x102a46[_0x18e436(0x54a)]['where']},'update':{'$set':_0x102a46[_0x18e436(0x579)]},'upsert':!0x0}})),_0x24789f=await _0x1a9ee6[_0x18e436(0x3e6)](_0x44a293);return _0x24789f[_0x18e436(0x697)]+_0x24789f['upsertedCount'];}catch(_0x2c3c77){return console['error'](_0x2c3c77),0x0;}}async[a0_0x2f588e(0x1db)](_0xa74cd7){const _0x2fc5a3=a0_0x2f588e;try{let _0x99f44d={'group_isCommunity':'','group_announce':'','group_size':''},_0x43f579={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x11c28d={'$unset':_0x99f44d};return(await this[_0x2fc5a3(0x597)](_0xa74cd7)[_0x2fc5a3(0x883)](_0x43f579,_0x11c28d))[_0x2fc5a3(0x697)];}catch(_0x546641){return console['error']('Error\x20removing\x20unused\x20chat\x20fields:',_0x546641),0x0;}}async[a0_0x2f588e(0x8d9)](_0x15b9cd){const _0x3f434b=a0_0x2f588e;try{let _0x17c514=this[_0x3f434b(0x597)](_0x15b9cd),_0x5e9187={'leadInfo.etiquetas':{'$exists':!0x1}},_0x444490={'$set':{'leadInfo.etiquetas':[]}};return(await _0x17c514[_0x3f434b(0x883)](_0x5e9187,_0x444490))[_0x3f434b(0x697)];}catch(_0x82f786){return console[_0x3f434b(0x20e)](_0x82f786),0x0;}}async[a0_0x2f588e(0x907)](_0x4aade0){const _0x4bea5=a0_0x2f588e;try{let _0x46d393=this[_0x4bea5(0x597)](_0x4aade0),_0x2c621f={'leadInfo.tags':{'$exists':!0x1}},_0x324b3e={'$set':{'leadInfo.tags':[]}};return(await _0x46d393[_0x4bea5(0x883)](_0x2c621f,_0x324b3e))[_0x4bea5(0x697)];}catch(_0xe975e5){return console[_0x4bea5(0x20e)](_0xe975e5),0x0;}}async[a0_0x2f588e(0x7f5)](_0x238a14){const _0x3b4e57=a0_0x2f588e;try{let _0x27b57c=this['getChatModelForOwner'](_0x238a14),_0x2731f1={'leadInfo.customFields':{'$exists':!0x1}},_0x3567b0={'$set':{'leadInfo.customFields':[]}};return(await _0x27b57c[_0x3b4e57(0x883)](_0x2731f1,_0x3567b0))['modifiedCount'];}catch(_0x353dc0){return console[_0x3b4e57(0x20e)](_0x353dc0),0x0;}}async[a0_0x2f588e(0x539)](_0x1d8940,_0x6ae194){const _0x4f71b0=a0_0x2f588e;if(!Array['isArray'](_0x1d8940)||_0x1d8940[_0x4f71b0(0x8b9)]===0x0)throw new Error(_0x4f71b0(0x236));try{return(await this[_0x4f71b0(0x597)](_0x6ae194)[_0x4f71b0(0x539)](_0x1d8940))[_0x4f71b0(0x8b9)];}catch(_0x5f3cb4){throw console['error'](_0x4f71b0(0x7bf),_0x5f3cb4),_0x5f3cb4;}}async[a0_0x2f588e(0x879)](_0x1ae306,_0x508a94){const _0x342dbb=a0_0x2f588e;try{await this[_0x342dbb(0x597)](_0x508a94)[_0x342dbb(0x5d9)]({'_id':_0x1ae306});}catch(_0x1c4094){throw console['error'](_0x342dbb(0x89d),_0x1c4094),_0x1c4094;}}},Wt=class extends x{constructor(_0x37e1cd,_0x3f2c69,_0xae0b68){const _0x12e97f=a0_0x2f588e;super(_0x3f2c69),this[_0x12e97f(0x7d6)]=_0x37e1cd,this['configService']=_0x3f2c69,this[_0x12e97f(0x47a)]=_0xae0b68;}async[a0_0x2f588e(0x465)](_0x3288fc){const _0x126819=a0_0x2f588e;if(_0x3288fc[_0x126819(0x8b9)]!==0x0)try{return{'insertCount':(await this[_0x126819(0x7d6)]['insertMany']([..._0x3288fc]))[_0x126819(0x8b9)]};}catch(_0x155961){return _0x155961;}}async[a0_0x2f588e(0x579)](_0x2e7828,_0x96cb9e){const _0x269c45=a0_0x2f588e;try{let _0x3acf91=T(_0x2e7828[_0x269c45(0x2d6)]);return{'updatedCount':(await this[_0x269c45(0x7d6)]['updateMany'](_0x3acf91,{'$set':_0x96cb9e}))[_0x269c45(0x697)]};}catch(_0x4ab927){return console[_0x269c45(0x20e)](_0x269c45(0x748),_0x4ab927),{'error':_0x4ab927[_0x269c45(0x52b)]()};}}async[a0_0x2f588e(0x6e1)](_0x1ec1d4){const _0x1759c7=a0_0x2f588e;try{let _0x1d03d6={'_id':{'$in':_0x1ec1d4}};return await this['cacheContactModel'][_0x1759c7(0x3b1)](_0x1d03d6)[_0x1759c7(0x221)]();}catch(_0x8e58c2){return console[_0x1759c7(0x20e)](_0x1759c7(0x4f8),_0x8e58c2),[];}}async[a0_0x2f588e(0x787)](_0x1601f9){const _0x3d1b45=a0_0x2f588e;try{return{'deletedCount':(await this[_0x3d1b45(0x7d6)]['deleteMany']({..._0x1601f9[_0x3d1b45(0x2d6)]}))['deletedCount']};}catch(_0x4e570a){return{'error':_0x4e570a?.[_0x3d1b45(0x52b)]()};}}async[a0_0x2f588e(0x3b1)](_0x3b8f6e){const _0xed941e=a0_0x2f588e;try{let _0x3ebb6b=T(_0x3b8f6e[_0xed941e(0x2d6)]);return await this[_0xed941e(0x7d6)][_0xed941e(0x3b1)](_0x3ebb6b)[_0xed941e(0x58e)](_0x3b8f6e?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x2f588e(0x876)](_0x40be58){const _0x29273b=a0_0x2f588e;try{let _0x5a21f7=T(_0x40be58[_0x29273b(0x2d6)]);return await this[_0x29273b(0x7d6)][_0x29273b(0x876)](_0x5a21f7)[_0x29273b(0x221)]();}catch{return null;}}},zt=class extends x{[a0_0x2f588e(0x284)](_0x337209){return va(_0x337209);}async[a0_0x2f588e(0x805)](_0x4f6289,_0x57826e,_0x3aaa5e,_0x1101ac){const _0x4cbba0=a0_0x2f588e;try{let _0x4ac8f6={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1101ac},_0x2a8dc8=this[_0x4cbba0(0x284)](_0x3aaa5e),_0x7b8472=T(_0x4f6289['where']);return await _0x2a8dc8[_0x4cbba0(0x378)](_0x7b8472,{'$set':_0x57826e},_0x4ac8f6);}catch(_0x1ee5bb){return console[_0x4cbba0(0x20e)](_0x1ee5bb),null;}}async[a0_0x2f588e(0x3b1)](_0x1fa5a3,_0x576fbc){const _0x106ebe=a0_0x2f588e;try{let _0x1c3e7a=this[_0x106ebe(0x284)](_0x576fbc),_0x5938c3=T(_0x1fa5a3[_0x106ebe(0x2d6)]);return await _0x1c3e7a[_0x106ebe(0x3b1)](_0x5938c3);}catch(_0x2c7450){console[_0x106ebe(0x20e)](_0x2c7450);}}async['delete'](_0x58d784,_0x3217fd){const _0x4141c9=a0_0x2f588e;try{let _0x5d3ddb=this[_0x4141c9(0x284)](_0x3217fd),_0x420208=T(_0x58d784[_0x4141c9(0x2d6)]);await _0x5d3ddb[_0x4141c9(0x2ec)](_0x420208);}catch(_0x407b11){console['error'](_0x407b11);}}async[a0_0x2f588e(0x75a)](_0x361aaa){const _0x290ecd=a0_0x2f588e;try{return await this[_0x290ecd(0x284)](_0x361aaa)['collection'][_0x290ecd(0x8a8)](),{'success':!0x0};}catch(_0x331fb4){return console[_0x290ecd(0x20e)](_0x331fb4),{'success':!0x1,'error':_0x331fb4};}}},Ht=class{constructor(_0x3e80bc){this['waMonitor']=_0x3e80bc;}async['editChat']({instanceName:_0x4fb508},_0x3a9132){const _0x10b5e2=a0_0x2f588e;return await this['waMonitor']['waInstances'][_0x4fb508][_0x10b5e2(0x2b2)](_0x3a9132);}async['whatsappNumber']({instanceName:_0xe91ace},_0x5d3fdf){const _0x335e09=a0_0x2f588e;return await this[_0x335e09(0x5cd)][_0x335e09(0x643)][_0xe91ace]['whatsappNumber'](_0x5d3fdf);}async[a0_0x2f588e(0x426)]({instanceName:_0x6c7dc5},_0x516cb2){const _0xa30c2f=a0_0x2f588e;return await this[_0xa30c2f(0x5cd)][_0xa30c2f(0x643)][_0x6c7dc5][_0xa30c2f(0x426)](_0x516cb2);}async[a0_0x2f588e(0x64f)]({instanceName:_0x2c588a},_0x391a0a){const _0x1218e5=a0_0x2f588e;return await this[_0x1218e5(0x5cd)][_0x1218e5(0x643)][_0x2c588a]['markMessageAsRead'](_0x391a0a);}async[a0_0x2f588e(0x7a1)]({instanceName:_0x374c60},_0x39f63d){const _0x37d510=a0_0x2f588e;return await this[_0x37d510(0x5cd)][_0x37d510(0x643)][_0x374c60][_0x37d510(0x7a1)](_0x39f63d);}async[a0_0x2f588e(0x4e8)]({instanceName:_0xb40f8c},_0x366407){const _0x412d92=a0_0x2f588e;return await this[_0x412d92(0x5cd)][_0x412d92(0x643)][_0xb40f8c]['deleteMessage'](_0x366407);}async[a0_0x2f588e(0x729)]({instanceName:_0xe6c444},_0x4909c2){const _0x46c3b2=a0_0x2f588e;return await this['waMonitor'][_0x46c3b2(0x643)][_0xe6c444][_0x46c3b2(0x5b4)](_0x4909c2['number']);}async['fetchProfile']({instanceName:_0x2b8e88},_0x153fc4){const _0x52f7af=a0_0x2f588e;return await this[_0x52f7af(0x5cd)]['waInstances'][_0x2b8e88]['fetchProfile'](_0x153fc4['number']);}async[a0_0x2f588e(0x261)]({instanceName:_0x5aa367},_0x20ab7d){const _0xa6530=a0_0x2f588e;return await this[_0xa6530(0x5cd)]['waInstances'][_0x5aa367][_0xa6530(0x261)](_0x20ab7d);}async['fetchContacts']({instanceName:_0x52495a},_0x436194){const _0x39e63d=a0_0x2f588e;return await this[_0x39e63d(0x5cd)][_0x39e63d(0x643)][_0x52495a][_0x39e63d(0x70f)](_0x436194);}async[a0_0x2f588e(0x1dd)]({instanceName:_0x4a773b},_0x2dbfca){const _0x2af62c=a0_0x2f588e;return await this[_0x2af62c(0x5cd)][_0x2af62c(0x643)][_0x4a773b][_0x2af62c(0x1dd)](_0x2dbfca);}async[a0_0x2f588e(0x3d0)]({instanceName:_0xd1c5f0},_0x5f39bd){const _0x12bd29=a0_0x2f588e;return await this[_0x12bd29(0x5cd)][_0x12bd29(0x643)][_0xd1c5f0][_0x12bd29(0x3d0)](_0x5f39bd);}async[a0_0x2f588e(0x4a1)]({instanceName:_0x147d34}){const _0x513082=a0_0x2f588e;return await this['waMonitor'][_0x513082(0x643)][_0x147d34][_0x513082(0x4a1)]();}async[a0_0x2f588e(0x78f)]({instanceName:_0x278854}){const _0x2a1465=a0_0x2f588e;return await this[_0x2a1465(0x5cd)][_0x2a1465(0x643)][_0x278854]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x3ba0f9}){const _0x627d58=a0_0x2f588e;return await this[_0x627d58(0x5cd)][_0x627d58(0x643)][_0x3ba0f9][_0x627d58(0x727)]();}async[a0_0x2f588e(0x803)]({instanceName:_0x47f768},_0x535746){const _0x75a765=a0_0x2f588e;return await this[_0x75a765(0x5cd)][_0x75a765(0x643)][_0x47f768]['updatePrivacySettings'](_0x535746);}async[a0_0x2f588e(0x60d)]({instanceName:_0x5eb312},_0x2d61c2){const _0x5bca3b=a0_0x2f588e;return await this['waMonitor'][_0x5bca3b(0x643)][_0x5eb312][_0x5bca3b(0x60d)](_0x2d61c2['number']);}async[a0_0x2f588e(0x827)]({instanceName:_0x1e4862},_0x1721b6){const _0x420229=a0_0x2f588e;return await this[_0x420229(0x5cd)]['waInstances'][_0x1e4862][_0x420229(0x827)](_0x1721b6[_0x420229(0x7dc)]);}async[a0_0x2f588e(0x4e6)]({instanceName:_0x8ae7e2},_0x6bbf41){const _0x1414b1=a0_0x2f588e;return await this[_0x1414b1(0x5cd)][_0x1414b1(0x643)][_0x8ae7e2][_0x1414b1(0x4e6)](_0x6bbf41[_0x1414b1(0x3f3)]);}async['updateProfilePicture']({instanceName:_0xe35d3b},_0x1df03c){const _0x996c7a=a0_0x2f588e;return await this['waMonitor'][_0x996c7a(0x643)][_0xe35d3b][_0x996c7a(0x59a)](_0x1df03c[_0x996c7a(0x1c5)]);}async['removeProfilePicture']({instanceName:_0x4a9ad2},_0x7ad12e){const _0xe0a3a0=a0_0x2f588e;return await this[_0xe0a3a0(0x5cd)]['waInstances'][_0x4a9ad2][_0xe0a3a0(0x42c)]();}},Kt=require(a0_0x2f588e(0x7f3)),Qt=class u{constructor(_0x245218,_0x269c8f,_0x5b63ab,_0x5d4d6e,_0x4352c0){const _0x5a3306=a0_0x2f588e;this['waMonitor']=_0x245218,this[_0x5a3306(0x521)]=_0x269c8f,this[_0x5a3306(0x230)]=_0x5b63ab,this[_0x5a3306(0x314)]=_0x5d4d6e,this['authService']=_0x4352c0,this[_0x5a3306(0x8de)]=new $(u[_0x5a3306(0x7dc)]);}async[a0_0x2f588e(0x285)]({instanceName:_0xc4d3ce,apikey:_0x40c4ca,number:_0x17b787,proxy:_0x5dddeb=!0x0}){const _0x468fe5=a0_0x2f588e;try{let _0xf6e216=new Re(this['configService'],this[_0x468fe5(0x314)],this[_0x468fe5(0x230)]);_0xf6e216[_0x468fe5(0x763)]=_0xc4d3ce,this['waMonitor'][_0x468fe5(0x643)][_0xf6e216[_0x468fe5(0x763)]]=_0xf6e216;let _0x342b07={};_0x40c4ca?(await this['repository'][_0x468fe5(0x703)][_0x468fe5(0x72c)]({'apikey':_0x40c4ca},_0xc4d3ce),_0x342b07[_0x468fe5(0x878)]=_0x40c4ca):_0x342b07=await this[_0x468fe5(0x7df)]['generateHash']({'instanceName':_0xf6e216[_0x468fe5(0x763)]});let _0x544c99;if(_0x17b787){if(_0x544c99=await this[_0x468fe5(0x40e)](_0x17b787),_0x544c99[_0x468fe5(0x20e)])throw new D(_0x544c99[_0x468fe5(0x20e)]['toString']());_0x17b787=_0x544c99[_0x468fe5(0x720)];}let _0x51ded9;return await _0xf6e216[_0x468fe5(0x838)](_0x17b787),await(0x0,Kt[_0x468fe5(0x62f)])(0xfa0),_0x17b787&&await(0x0,Kt[_0x468fe5(0x62f)])(0xbb8),_0x51ded9=_0xf6e216[_0x468fe5(0x4f6)],{'instance':{'instanceName':_0xf6e216[_0x468fe5(0x763)],'status':_0x468fe5(0x274)},'hash':_0x342b07,'qrcode':_0x51ded9};}catch(_0xb004cd){throw this[_0x468fe5(0x8de)][_0x468fe5(0x20e)](_0xb004cd),_0xb004cd;}}async[a0_0x2f588e(0x39e)]({instanceName:_0x282eda,number:_0x44c672=null}){const _0x18305b=a0_0x2f588e;try{let _0x4eb054=this[_0x18305b(0x5cd)][_0x18305b(0x643)][_0x282eda];switch(_0x4eb054?.[_0x18305b(0x83b)]?.[_0x18305b(0x815)]){case _0x18305b(0x70a):return await _0x4eb054[_0x18305b(0x838)](_0x44c672),await(0x0,Kt[_0x18305b(0x62f)])(0x7d0),_0x4eb054['qrCode'];case _0x18305b(0x8b6):return _0x4eb054[_0x18305b(0x4f6)];default:return await this[_0x18305b(0x273)]({'instanceName':_0x282eda});}}catch(_0x20eca2){this[_0x18305b(0x8de)]['log'](_0x20eca2);}}async[a0_0x2f588e(0x273)]({instanceName:_0x26ba60}){const _0x53cf52=a0_0x2f588e;let _0x41afbd=this['waMonitor'][_0x53cf52(0x643)][_0x26ba60]['connectionStatus'],_0x2362d8=null;_0x41afbd[_0x53cf52(0x815)]===_0x53cf52(0x26c)&&_0x26ba60&&(_0x2362d8=await this[_0x53cf52(0x5cd)][_0x53cf52(0x2eb)](_0x26ba60));let _0x4e272b=null;return _0x41afbd[_0x53cf52(0x815)]==='connecting'&&_0x26ba60&&(_0x4e272b=this[_0x53cf52(0x5cd)][_0x53cf52(0x643)][_0x26ba60]['qrCode']),{'instance':_0x26ba60,'connectionStatus':_0x41afbd,'instanceInfo':_0x2362d8,'qrcode':_0x4e272b};}async[a0_0x2f588e(0x40e)](_0x334a0b){const _0x5f0634=a0_0x2f588e;_0x334a0b=_0x334a0b[_0x5f0634(0x499)](/\D/g,'');let _0x126277=Object[_0x5f0634(0x37a)](this[_0x5f0634(0x5cd)][_0x5f0634(0x643)])[_0x5f0634(0x568)](_0x5a9e74=>{const _0x5a8808=_0x5f0634;let _0x5a73f9=this[_0x5a8808(0x5cd)]['waInstances'][_0x5a9e74];return _0x5a73f9&&_0x5a73f9['connectionStatus']&&_0x5a73f9[_0x5a8808(0x83b)][_0x5a8808(0x815)]===_0x5a8808(0x26c);});if(_0x126277[_0x5f0634(0x8b9)]===0x0)return{'number':this[_0x5f0634(0x1c7)](_0x334a0b)};let _0x5b8a52=Math[_0x5f0634(0x2cc)](Math[_0x5f0634(0x455)]()*_0x126277[_0x5f0634(0x8b9)]),_0xbd034b=_0x126277[_0x5b8a52];try{let _0x354b72=(await this[_0x5f0634(0x5cd)]['waInstances'][_0xbd034b][_0x5f0634(0x52c)]({'numbers':[_0x334a0b]}))[_0x5f0634(0x4a8)]();return _0x354b72[_0x5f0634(0x211)]?{'number':_0x354b72[_0x5f0634(0x3a9)][_0x5f0634(0x499)]('@s.whatsapp.net','')}:{'number':_0x334a0b,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0xc33d71){return this[_0x5f0634(0x8de)][_0x5f0634(0x20e)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0xc33d71),{'number':_0x334a0b,'error':_0x5f0634(0x75b)};}}[a0_0x2f588e(0x1c7)](_0x17db60){const _0x5a9178=a0_0x2f588e;let _0x12b9c9=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5a9178(0x6c4)](_0x17db60);if(_0x12b9c9&&_0x12b9c9[0x1]==='55'){let _0xaeca82=_0x12b9c9[0x2],_0x3c1ad2=_0x12b9c9[0x3],_0x246ac2=_0x12b9c9[0x4];if(parseInt(_0xaeca82)>=0x1f&&_0x3c1ad2==='9')return _0x12b9c9[0x1]+_0xaeca82+_0x246ac2;}return _0x17db60;}async[a0_0x2f588e(0x4fb)]({instanceName:_0x1bb4d8}){const _0x4e7b32=a0_0x2f588e;try{return this[_0x4e7b32(0x5cd)][_0x4e7b32(0x643)][_0x1bb4d8]?.['client']?.['ws']?.[_0x4e7b32(0x70a)](),{'status':_0x4e7b32(0x2bd),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x35a61b){this[_0x4e7b32(0x8de)][_0x4e7b32(0x20e)](_0x35a61b);}}async[a0_0x2f588e(0x862)]({instanceName:_0x589152}){const _0x1261c1=a0_0x2f588e;return _0x589152?this[_0x1261c1(0x5cd)]['instanceInfo'](_0x589152):this['waMonitor'][_0x1261c1(0x2eb)]();}async[a0_0x2f588e(0x723)]({instanceName:_0xc49883}){const _0x4e672b=a0_0x2f588e;try{return await this[_0x4e672b(0x5cd)][_0x4e672b(0x643)][_0xc49883]?.[_0x4e672b(0x1dc)]?.[_0x4e672b(0x723)](_0x4e672b(0x80b)+_0xc49883),{'error':!0x1,'message':_0x4e672b(0x7d5)};}catch(_0x18e972){throw new D(_0x18e972[_0x4e672b(0x52b)]());}}async[a0_0x2f588e(0x28d)]({instanceName:_0xdacfd5}){const _0xa5b8da=a0_0x2f588e;if((await this[_0xa5b8da(0x273)]({'instanceName':_0xdacfd5}))[_0xa5b8da(0x83b)][_0xa5b8da(0x815)]===_0xa5b8da(0x26c))throw new m(['Deletion\x20failed',_0xa5b8da(0x5d2)]);try{return delete this['waMonitor']['waInstances'][_0xdacfd5],{'error':!0x1,'message':_0xa5b8da(0x5f0)};}catch(_0x30eeba){throw new m(_0x30eeba[_0xa5b8da(0x52b)]());}}},ne=require('class-validator'),Yt=class{constructor(_0x5b043c){const _0x1f5f24=a0_0x2f588e;this[_0x1f5f24(0x5cd)]=_0x5b043c;}async[a0_0x2f588e(0x6a0)]({instanceName:_0x5a6481},_0x57b86a){const _0x141ac0=a0_0x2f588e;return await this[_0x141ac0(0x5cd)][_0x141ac0(0x643)][_0x5a6481][_0x141ac0(0x845)](_0x57b86a);}async['sendMenu']({instanceName:_0x2bfb34},_0x16f351){const _0x527234=a0_0x2f588e;return await this[_0x527234(0x5cd)][_0x527234(0x643)][_0x2bfb34][_0x527234(0x5a0)](_0x16f351);}async['sendMedia']({instanceName:_0x38a078},_0x25eda0){const _0x27246e=a0_0x2f588e;if((0x0,ne[_0x27246e(0x5e7)])(_0x25eda0?.['mediaMessage']?.[_0x27246e(0x34b)])&&!_0x25eda0?.[_0x27246e(0x793)]?.[_0x27246e(0x6d8)])throw new m(_0x27246e(0x279));if((0x0,ne[_0x27246e(0x5de)])(_0x25eda0?.[_0x27246e(0x793)]?.[_0x27246e(0x34b)])||(0x0,ne[_0x27246e(0x5e7)])(_0x25eda0?.['mediaMessage']?.[_0x27246e(0x34b)]))return await this['waMonitor'][_0x27246e(0x643)][_0x38a078][_0x27246e(0x793)](_0x25eda0);throw new m(_0x27246e(0x55c));}async[a0_0x2f588e(0x335)]({instanceName:_0x14ff07},_0x28adc4){const _0x5eab99=a0_0x2f588e;if((0x0,ne[_0x5eab99(0x5de)])(_0x28adc4[_0x5eab99(0x561)]['image'])||(0x0,ne[_0x5eab99(0x5e7)])(_0x28adc4[_0x5eab99(0x561)][_0x5eab99(0x67a)]))return await this[_0x5eab99(0x5cd)][_0x5eab99(0x643)][_0x14ff07][_0x5eab99(0x441)](_0x28adc4);throw new m(_0x5eab99(0x55c));}async[a0_0x2f588e(0x421)]({instanceName:_0x10f53e},_0x41f96c){const _0x6a33b8=a0_0x2f588e;if((0x0,ne[_0x6a33b8(0x5de)])(_0x41f96c[_0x6a33b8(0x39a)][_0x6a33b8(0x7c8)])||(0x0,ne[_0x6a33b8(0x5e7)])(_0x41f96c[_0x6a33b8(0x39a)][_0x6a33b8(0x7c8)]))return await this[_0x6a33b8(0x5cd)][_0x6a33b8(0x643)][_0x10f53e][_0x6a33b8(0x840)](_0x41f96c);throw new m(_0x6a33b8(0x55c));}async['sendButtons']({instanceName:_0x5b0a05},_0x32f113){const _0x49b21b=a0_0x2f588e;if((0x0,ne[_0x49b21b(0x5e7)])(_0x32f113['buttonMessage'][_0x49b21b(0x793)]?.[_0x49b21b(0x34b)])&&!_0x32f113[_0x49b21b(0x659)]['mediaMessage']?.['fileName'])throw new m(_0x49b21b(0x279));return await this[_0x49b21b(0x5cd)]['waInstances'][_0x5b0a05][_0x49b21b(0x659)](_0x32f113);}async[a0_0x2f588e(0x2da)]({instanceName:_0x1efeb1},_0xff3daa){const _0x5364d5=a0_0x2f588e;return await this[_0x5364d5(0x5cd)][_0x5364d5(0x643)][_0x1efeb1][_0x5364d5(0x334)](_0xff3daa);}async[a0_0x2f588e(0x2bf)]({instanceName:_0x3a9c99},_0x25b979){const _0x291742=a0_0x2f588e;return await this[_0x291742(0x5cd)][_0x291742(0x643)][_0x3a9c99][_0x291742(0x50f)](_0x25b979);}async['sendList']({instanceName:_0x1ecf70},_0x46dc2a){const _0x52ff58=a0_0x2f588e;return await this[_0x52ff58(0x5cd)][_0x52ff58(0x643)][_0x1ecf70][_0x52ff58(0x630)](_0x46dc2a);}async[a0_0x2f588e(0x608)]({instanceName:_0x362a16},_0x5e1eea){const _0x4c5d51=a0_0x2f588e;return await this[_0x4c5d51(0x5cd)][_0x4c5d51(0x643)][_0x362a16]['contactMessage'](_0x5e1eea);}async['sendReaction']({instanceName:_0x225e0f},_0x48ba8b){const _0x954bd5=a0_0x2f588e;if(!_0x48ba8b['reactionMessage'][_0x954bd5(0x49a)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x954bd5(0x5cd)][_0x954bd5(0x643)][_0x225e0f][_0x954bd5(0x6e8)](_0x48ba8b);}async[a0_0x2f588e(0x2e3)]({instanceName:_0x19d7af},_0x4936aa){const _0x505f87=a0_0x2f588e;return await this[_0x505f87(0x5cd)][_0x505f87(0x643)][_0x19d7af][_0x505f87(0x40b)](_0x4936aa);}},Li=require('jsonwebtoken'),Us=require(a0_0x2f588e(0x312)),Xt=class u{constructor(_0x26d0e3,_0x123eee,_0x5ac86a){const _0x34214e=a0_0x2f588e;this[_0x34214e(0x521)]=_0x26d0e3,this[_0x34214e(0x5cd)]=_0x123eee,this[_0x34214e(0x230)]=_0x5ac86a,this[_0x34214e(0x8de)]=new $(u[_0x34214e(0x7dc)]);}async[a0_0x2f588e(0x4fe)](_0x534e2b){const _0x10ccf7=a0_0x2f588e;let _0x17e6c1=this[_0x10ccf7(0x521)][_0x10ccf7(0x375)](_0x10ccf7(0x5da))['JWT'],_0x4fe52a=(0x0,Li[_0x10ccf7(0x817)])({'instanceName':_0x534e2b[_0x10ccf7(0x763)],'apiName':nt,'tokenId':(0x0,Us['v4'])()},_0x17e6c1['SECRET'],{'expiresIn':_0x17e6c1['EXPIRIN_IN'],'encoding':_0x10ccf7(0x516),'subject':_0x10ccf7(0x38d)}),_0x29102d=await this['repository'][_0x10ccf7(0x703)]['create']({'jwt':_0x4fe52a},_0x534e2b[_0x10ccf7(0x763)]);if(_0x29102d['error'])throw this[_0x10ccf7(0x8de)]['error']({'localError':u['name']+_0x10ccf7(0x3b7),'error':_0x29102d[_0x10ccf7(0x20e)]}),new m(_0x10ccf7(0x1ef),_0x29102d[_0x10ccf7(0x20e)]?.[_0x10ccf7(0x52b)]());return{'jwt':_0x4fe52a};}async[a0_0x2f588e(0x878)](_0x3d43a9){const _0x11a668=a0_0x2f588e;let _0x1972b6=(0x0,Us['v4'])()[_0x11a668(0x73d)](),_0xfa8500=await this[_0x11a668(0x230)][_0x11a668(0x703)][_0x11a668(0x72c)]({'apikey':_0x1972b6},_0x3d43a9[_0x11a668(0x763)]);if(_0xfa8500[_0x11a668(0x20e)])throw this[_0x11a668(0x8de)][_0x11a668(0x20e)]({'localError':u[_0x11a668(0x7dc)]+_0x11a668(0x3b7),'error':_0xfa8500[_0x11a668(0x20e)]}),new m(_0x11a668(0x1ef),_0xfa8500[_0x11a668(0x20e)]?.['toString']());return{'apikey':_0x1972b6};}async[a0_0x2f588e(0x2c9)](_0x4116b2){const _0xe414e2=a0_0x2f588e;let _0x5b58c0=this['configService'][_0xe414e2(0x375)](_0xe414e2(0x5da));return await this[_0x5b58c0[_0xe414e2(0x3cc)]](_0x4116b2);}},Zt=class{constructor(_0x229ecf){const _0x1f3392=a0_0x2f588e;this[_0x1f3392(0x5cd)]=_0x229ecf;}async[a0_0x2f588e(0x62e)](_0x53524e,_0x5afe21){const _0x51ba0c=a0_0x2f588e;return await this[_0x51ba0c(0x5cd)]['waInstances'][_0x53524e['instanceName']]['createGroup'](_0x5afe21);}async[a0_0x2f588e(0x4b1)](_0x1947a4,_0x23a9dd){const _0x414f29=a0_0x2f588e;return await this[_0x414f29(0x5cd)][_0x414f29(0x643)][_0x1947a4[_0x414f29(0x763)]][_0x414f29(0x4b1)](_0x23a9dd);}async[a0_0x2f588e(0x4db)](_0x4c57c3,_0x54b23f){const _0x45af9b=a0_0x2f588e;return await this[_0x45af9b(0x5cd)][_0x45af9b(0x643)][_0x4c57c3[_0x45af9b(0x763)]][_0x45af9b(0x4db)](_0x54b23f);}async[a0_0x2f588e(0x2b3)](_0x49bb1b,_0x2fc8c6){const _0x1ea29e=a0_0x2f588e;return await this[_0x1ea29e(0x5cd)][_0x1ea29e(0x643)][_0x49bb1b[_0x1ea29e(0x763)]][_0x1ea29e(0x2b3)](_0x2fc8c6);}async[a0_0x2f588e(0x3bd)](_0x8c6bb0,_0x1240a7){const _0x20f619=a0_0x2f588e;return await this['waMonitor'][_0x20f619(0x643)][_0x8c6bb0['instanceName']][_0x20f619(0x3bd)](_0x1240a7);}async[a0_0x2f588e(0x44c)](_0x355822,_0x295049){const _0x471dad=a0_0x2f588e;return await this[_0x471dad(0x5cd)][_0x471dad(0x643)][_0x355822[_0x471dad(0x763)]][_0x471dad(0x44c)](_0x295049);}async['findGroupInfo'](_0xc369b3,_0x35234c){const _0x2dea69=a0_0x2f588e;return await this[_0x2dea69(0x5cd)]['waInstances'][_0xc369b3[_0x2dea69(0x763)]][_0x2dea69(0x4df)](_0x35234c);}async[a0_0x2f588e(0x324)](_0x4fe141){const _0x473992=a0_0x2f588e;return await this['waMonitor'][_0x473992(0x643)][_0x4fe141[_0x473992(0x763)]]['findGroups']();}async[a0_0x2f588e(0x3e7)](_0x41c446,_0x4655b1){const _0x2f78e0=a0_0x2f588e;return await this[_0x2f78e0(0x5cd)][_0x2f78e0(0x643)][_0x41c446['instanceName']]['inviteCode'](_0x4655b1);}async['joinGroup'](_0x5477f2,_0x897e33){const _0x9870b2=a0_0x2f588e;return await this[_0x9870b2(0x5cd)][_0x9870b2(0x643)][_0x5477f2[_0x9870b2(0x763)]]['joinGroup'](_0x897e33);}async['groupGetInviteInfo'](_0x329203,_0x1c9812){const _0x59ed69=a0_0x2f588e;return await this['waMonitor'][_0x59ed69(0x643)][_0x329203[_0x59ed69(0x763)]][_0x59ed69(0x81c)](_0x1c9812);}async[a0_0x2f588e(0x3f7)](_0x44c485,_0x1dfb5e){const _0x429324=a0_0x2f588e;return await this[_0x429324(0x5cd)][_0x429324(0x643)][_0x44c485[_0x429324(0x763)]][_0x429324(0x3f7)](_0x1dfb5e);}async['findParticipants'](_0x537854,_0x1d16ad){const _0x3cecc8=a0_0x2f588e;return await this[_0x3cecc8(0x5cd)][_0x3cecc8(0x643)][_0x537854[_0x3cecc8(0x763)]][_0x3cecc8(0x2a8)](_0x1d16ad);}async[a0_0x2f588e(0x679)](_0x393e48,_0x44dc81){const _0x1f54fc=a0_0x2f588e;return await this[_0x1f54fc(0x5cd)]['waInstances'][_0x393e48[_0x1f54fc(0x763)]][_0x1f54fc(0x4d3)](_0x44dc81);}async[a0_0x2f588e(0x800)](_0x5e4241,_0x50879a){const _0x4bca74=a0_0x2f588e;return await this[_0x4bca74(0x5cd)][_0x4bca74(0x643)][_0x5e4241[_0x4bca74(0x763)]]['toggleEphemeral'](_0x50879a);}async[a0_0x2f588e(0x4da)](_0x38f63c,_0x43bfb4){const _0x3c1136=a0_0x2f588e;return await this['waMonitor'][_0x3c1136(0x643)][_0x38f63c[_0x3c1136(0x763)]][_0x3c1136(0x4da)](_0x43bfb4);}},es=class{constructor(_0x605c7){this['waMonitor']=_0x605c7;}[a0_0x2f588e(0x72c)](_0x490ae6,_0x504ddf){const _0x5d0dd8=a0_0x2f588e;return this['waMonitor']['waInstances'][_0x490ae6[_0x5d0dd8(0x763)]]['setWebhook'](_0x504ddf);}async[a0_0x2f588e(0x3b1)](_0x34258e){const _0x45b2fe=a0_0x2f588e;try{return await this[_0x45b2fe(0x5cd)][_0x45b2fe(0x643)][_0x34258e['instanceName']]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x2f588e(0x491)),ts=class{constructor(_0xbd223f){const _0x5554cc=a0_0x2f588e;this[_0x5554cc(0x5cd)]=_0xbd223f;}async[a0_0x2f588e(0x5e2)](_0x93a36a,_0x3ff41f){const _0x1f9d2b=a0_0x2f588e;return await this['waMonitor'][_0x1f9d2b(0x643)][_0x93a36a['instanceName']][_0x1f9d2b(0x5e2)](_0x3ff41f);}async[a0_0x2f588e(0x42a)](_0x1d48d1){const _0x3eae46=a0_0x2f588e;return await this['waMonitor'][_0x3eae46(0x643)][_0x1d48d1['instanceName']][_0x3eae46(0x42a)]();}async[a0_0x2f588e(0x898)](_0x170d38){const _0x41eae2=a0_0x2f588e;return await this[_0x41eae2(0x5cd)][_0x41eae2(0x643)][_0x170d38[_0x41eae2(0x763)]][_0x41eae2(0x898)]();}async['getAutomateSystem'](_0x68fa60){const _0x4ef34c=a0_0x2f588e;return await this['waMonitor']['waInstances'][_0x68fa60[_0x4ef34c(0x763)]]['getAutomateSystem']();}async[a0_0x2f588e(0x201)](_0x1d21b3,_0x257390){const _0x528d20=a0_0x2f588e;return await this[_0x528d20(0x5cd)]['waInstances'][_0x1d21b3[_0x528d20(0x763)]]['updateAgent'](_0x257390);}async[a0_0x2f588e(0x890)](_0x5ab557,_0x3afce2){const _0x518792=a0_0x2f588e;return await this[_0x518792(0x5cd)]['waInstances'][_0x5ab557[_0x518792(0x763)]][_0x518792(0x890)](_0x3afce2);}async[a0_0x2f588e(0x6c9)](_0x54e257,_0x345dd5){const _0x3bd20a=a0_0x2f588e;return await this[_0x3bd20a(0x5cd)]['waInstances'][_0x54e257['instanceName']][_0x3bd20a(0x6c9)](_0x345dd5);}async[a0_0x2f588e(0x80a)](_0x2a4bba,_0x4161b6){const _0x55aee4=a0_0x2f588e;return await this[_0x55aee4(0x5cd)][_0x55aee4(0x643)][_0x2a4bba['instanceName']][_0x55aee4(0x80a)](_0x4161b6);}async[a0_0x2f588e(0x59b)](_0x394dea,_0x24abbc){const _0x493b37=a0_0x2f588e;return await this[_0x493b37(0x5cd)][_0x493b37(0x643)][_0x394dea[_0x493b37(0x763)]][_0x493b37(0x59b)](_0x24abbc);}async[a0_0x2f588e(0x8ad)](_0x120c0f,_0x9102bb,_0x19e842,_0x3d036e){const _0x57c8fe=a0_0x2f588e;return await this['waMonitor'][_0x57c8fe(0x643)][_0x120c0f][_0x57c8fe(0x8ad)](_0x9102bb,_0x19e842,_0x3d036e);}async['getConversation'](_0x33ddf6,_0x527103){const _0x5172c7=a0_0x2f588e;return await this[_0x5172c7(0x5cd)][_0x5172c7(0x643)][_0x33ddf6['instanceName']][_0x5172c7(0x1f5)](_0x527103);}async[a0_0x2f588e(0x802)](_0x17a0c9,_0x4f0435){const _0x294962=a0_0x2f588e;return await this[_0x294962(0x5cd)]['waInstances'][_0x17a0c9[_0x294962(0x763)]][_0x294962(0x802)](_0x4f0435);}async[a0_0x2f588e(0x858)](_0x6f155e,_0x55d970){const _0x2b21e1=a0_0x2f588e;return await this[_0x2b21e1(0x5cd)][_0x2b21e1(0x643)][_0x6f155e[_0x2b21e1(0x763)]]['editConversation'](_0x55d970);}async[a0_0x2f588e(0x4d2)](_0x5cc920,_0x21f786){const _0x19e16e=a0_0x2f588e;return await this[_0x19e16e(0x5cd)]['waInstances'][_0x5cc920[_0x19e16e(0x763)]][_0x19e16e(0x4d2)](_0x21f786);}async[a0_0x2f588e(0x775)](_0x1170eb,_0x9fee92){const _0x4d35b8=a0_0x2f588e;return await this[_0x4d35b8(0x5cd)][_0x4d35b8(0x643)][_0x1170eb[_0x4d35b8(0x763)]][_0x4d35b8(0x775)](_0x9fee92[_0x4d35b8(0x461)]);}async[a0_0x2f588e(0x5ed)](_0x3de55d,_0x1bef7d,_0x2fd61c){const _0x2f0489=a0_0x2f588e;return await this[_0x2f0489(0x5cd)]['waInstances'][_0x3de55d[_0x2f0489(0x763)]][_0x2f0489(0x5ed)](_0x1bef7d,_0x2fd61c);}async[a0_0x2f588e(0x91a)](_0x595c28,_0xa98174,_0x389e64){const _0x42d3a8=a0_0x2f588e;return await this[_0x42d3a8(0x5cd)]['waInstances'][_0x595c28['instanceName']][_0x42d3a8(0x91a)](_0xa98174,_0x389e64);}async['editFlowBlock'](_0x416669,_0x245c38){const _0x580604=a0_0x2f588e;return await this[_0x580604(0x5cd)][_0x580604(0x643)][_0x416669['instanceName']]['editFlowBlock'](_0x245c38);}async[a0_0x2f588e(0x831)](_0x5b7f3d,_0x275c26){const _0x5886fc=a0_0x2f588e;return await this[_0x5886fc(0x5cd)]['waInstances'][_0x5b7f3d[_0x5886fc(0x763)]]['editFlowReply'](_0x275c26);}async[a0_0x2f588e(0x7c5)](_0x356242,_0x15d5b9){const _0x8c86a5=a0_0x2f588e;return await this[_0x8c86a5(0x5cd)][_0x8c86a5(0x643)][_0x356242[_0x8c86a5(0x763)]][_0x8c86a5(0x7c5)](_0x15d5b9);}async[a0_0x2f588e(0x711)](_0x499c9d,_0x4154a4){const _0x27e242=a0_0x2f588e;return await this[_0x27e242(0x5cd)][_0x27e242(0x643)][_0x499c9d['instanceName']][_0x27e242(0x711)](_0x4154a4);}async[a0_0x2f588e(0x7ba)](_0x19921e,_0x1af968){const _0x187b73=a0_0x2f588e;return await this[_0x187b73(0x5cd)][_0x187b73(0x643)][_0x19921e['instanceName']][_0x187b73(0x7ba)](_0x1af968);}async[a0_0x2f588e(0x6ca)](_0x275221,_0x5d534f){const _0x1586bb=a0_0x2f588e;return await this[_0x1586bb(0x5cd)]['waInstances'][_0x275221[_0x1586bb(0x763)]][_0x1586bb(0x6ca)](_0x5d534f);}async[a0_0x2f588e(0x685)](_0x56f234,_0x3c1781){const _0x22d7a4=a0_0x2f588e;return await this[_0x22d7a4(0x5cd)][_0x22d7a4(0x643)][_0x56f234[_0x22d7a4(0x763)]][_0x22d7a4(0x685)](_0x3c1781);}async[a0_0x2f588e(0x6b6)](_0x8ddcdc){const _0x2ce50c=a0_0x2f588e;return await this[_0x2ce50c(0x5cd)][_0x2ce50c(0x643)][_0x8ddcdc['instanceName']][_0x2ce50c(0x6b6)]();}},ss=class{constructor(_0x40eddc){const _0x41346f=a0_0x2f588e;this[_0x41346f(0x852)]=_0x40eddc;}async['createWebhook'](_0x2147ce,_0x162b31){const _0x2f8879=a0_0x2f588e;return this[_0x2f8879(0x852)]['create'](_0x2147ce,_0x162b31);}async['findWebhook'](_0x50e7ca){const _0x493f58=a0_0x2f588e;return this[_0x493f58(0x852)][_0x493f58(0x3b1)](_0x50e7ca);}},as=class extends x{constructor(_0x49d70a,_0xaa6e49){const _0x3e765b=a0_0x2f588e;super(_0xaa6e49),this[_0x3e765b(0x20b)]=_0x49d70a,this[_0x3e765b(0x521)]=_0xaa6e49;}async[a0_0x2f588e(0x72c)](_0x107ee5,_0x5bb065){const _0x1b2c0b=a0_0x2f588e;try{return this[_0x1b2c0b(0x1f7)]['ENABLED']?{'insertCount':(await this[_0x1b2c0b(0x20b)][_0x1b2c0b(0x2e4)]({'_id':_0x5bb065},{..._0x107ee5},{'upsert':!0x0}))[_0x1b2c0b(0x697)]}:{'insertCount':0x1};}catch(_0x2af7f5){return _0x2af7f5;}}async[a0_0x2f588e(0x787)](_0x4b3d22){const _0x248c93=a0_0x2f588e;try{if(this['dbSettings'][_0x248c93(0x7aa)]){await this[_0x248c93(0x20b)][_0x248c93(0x5d9)]({'_id':_0x4b3d22});return;}}catch(_0x4fe525){return{'error':_0x4fe525};}}async[a0_0x2f588e(0x3b1)](_0x4c767d){const _0x53cf3b=a0_0x2f588e;try{if(this[_0x53cf3b(0x1f7)]['ENABLED'])return await this[_0x53cf3b(0x20b)][_0x53cf3b(0x876)]({'_id':_0x4c767d});}catch{return{};}}},is=class extends x{constructor(_0x5218fb,_0xf1bd99){const _0x334407=a0_0x2f588e;super(_0xf1bd99),this[_0x334407(0x89c)]=_0x5218fb,this[_0x334407(0x521)]=_0xf1bd99,this[_0x334407(0x703)]=_0xf1bd99[_0x334407(0x375)]('AUTHENTICATION');}async[a0_0x2f588e(0x72c)](_0x360f4e,_0x28d6a2){const _0x4cd7e2=a0_0x2f588e;try{if(this[_0x4cd7e2(0x1f7)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x4cd7e2(0x805)]({'_id':_0x28d6a2},{'$set':{..._0x360f4e}},{'upsert':!0x0}))[_0x4cd7e2(0x697)]};}catch(_0x335b89){return{'error':_0x335b89};}}async['updateAll'](_0x346237,_0x9779a6){const _0x2be22d=a0_0x2f588e;try{if(this[_0x2be22d(0x1f7)][_0x2be22d(0x7aa)])return{'insertCount':(await this[_0x2be22d(0x89c)][_0x2be22d(0x883)](_0x346237,{'$set':_0x9779a6},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x10b56e){return{'error':_0x10b56e};}}async['deleteMany'](_0x4c633c){const _0x3bbedd=a0_0x2f588e;try{if(this[_0x3bbedd(0x1f7)]['ENABLED'])return{'insertCount':(await this[_0x3bbedd(0x89c)]['deleteMany'](_0x4c633c))[_0x3bbedd(0x85d)]};throw new Error(_0x3bbedd(0x6b8));}catch(_0x4fcd8e){return{'error':_0x4fcd8e};}}async[a0_0x2f588e(0x787)](_0x5b15d9){const _0x451a9b=a0_0x2f588e;try{if(this['dbSettings'][_0x451a9b(0x7aa)]){await this[_0x451a9b(0x89c)][_0x451a9b(0x5d9)]({'_id':_0x5b15d9});return;}}catch(_0x1a477f){return{'error':_0x1a477f};}}async[a0_0x2f588e(0x3b1)](_0xf47914){const _0x21f5de=a0_0x2f588e;try{if(this['dbSettings']['ENABLED'])return await this[_0x21f5de(0x89c)][_0x21f5de(0x876)]({'_id':_0xf47914});}catch{return{};}}async['findAll'](){const _0x3fe9e0=a0_0x2f588e;try{if(this[_0x3fe9e0(0x1f7)]['ENABLED'])return await this['authModel'][_0x3fe9e0(0x3b1)]();}catch{return[];}}async[a0_0x2f588e(0x7a9)](_0x24b458){const _0x5477bc=a0_0x2f588e;try{if(this[_0x5477bc(0x1f7)][_0x5477bc(0x7aa)])return await this[_0x5477bc(0x89c)][_0x5477bc(0x3b1)](_0x24b458);}catch{return[];}}},os=class extends x{async['deleteOne'](_0x2b6baa){const _0x1e1e8d=a0_0x2f588e;try{let _0x487356=T(_0x2b6baa[_0x1e1e8d(0x2d6)]);return{'deletedCount':(await Ee[_0x1e1e8d(0x5d9)](_0x487356))[_0x1e1e8d(0x85d)]};}catch(_0x31a119){return{'error':_0x31a119?.[_0x1e1e8d(0x52b)]()};}}async[a0_0x2f588e(0x805)](_0x50c21a,_0x30f391){const _0x4df9bb=a0_0x2f588e;try{let _0x38219b=await Ee[_0x4df9bb(0x5df)](_0x50c21a);return _0x38219b?(Object[_0x4df9bb(0x71e)](_0x38219b,_0x30f391),await _0x38219b[_0x4df9bb(0x3a7)]()):(console[_0x4df9bb(0x20e)](_0x4df9bb(0x888),_0x50c21a),null);}catch(_0x393a2b){return console[_0x4df9bb(0x20e)](_0x4df9bb(0x8fe),_0x393a2b),null;}}async[a0_0x2f588e(0x26b)](_0x281786){const _0x235967=a0_0x2f588e;try{return await new Ee(_0x281786)[_0x235967(0x3a7)]();}catch(_0x2bed7a){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x2bed7a),null;}}async[a0_0x2f588e(0x287)](_0x5de269){const _0x3474aa=a0_0x2f588e;try{let _0x5566af=_0x5de269[_0x3474aa(0x2d6)]??{};return await Ee[_0x3474aa(0x3b1)](_0x5566af)[_0x3474aa(0x58e)](_0x5de269[_0x3474aa(0x58e)]??0x0)['lean']();}catch(_0x41fbc4){return console[_0x3474aa(0x20e)](_0x3474aa(0x39b),_0x41fbc4),[];}}async[a0_0x2f588e(0x876)](_0x71f103){const _0x1a9b0b=a0_0x2f588e;try{let _0x2a316a=T(_0x71f103[_0x1a9b0b(0x2d6)]);return await Ee[_0x1a9b0b(0x876)](_0x2a316a)[_0x1a9b0b(0x221)]();}catch{return null;}}},rs=class extends x{[a0_0x2f588e(0x6b3)](_0xe35e86){return Ma(_0xe35e86);}async['insert'](_0x21d8ba){const _0x584f8f=a0_0x2f588e;if(_0x21d8ba[_0x584f8f(0x8b9)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x21d8ba[0x0][_0x584f8f(0x680)])[_0x584f8f(0x539)]([..._0x21d8ba]))[_0x584f8f(0x8b9)]};}catch(_0xc02ecd){return _0xc02ecd;}}async[a0_0x2f588e(0x787)](_0x599a2c,_0x2b6476){const _0x8fabe6=a0_0x2f588e;try{let _0x127318=this['getConversationModelForOwner'](_0x2b6476),_0x2b3b27=T(_0x599a2c[_0x8fabe6(0x2d6)]);return{'deletedCount':(await _0x127318['deleteMany'](_0x2b3b27))['deletedCount']};}catch(_0x46beff){return{'error':_0x46beff?.[_0x8fabe6(0x52b)]()};}}async['deleteOne'](_0x2cae44,_0xa49bc3){const _0x278f0a=a0_0x2f588e;try{let _0x274320=this[_0x278f0a(0x6b3)](_0xa49bc3),_0x3b0b88=T(_0x2cae44[_0x278f0a(0x2d6)]);return{'deletedCount':(await _0x274320['deleteOne'](_0x3b0b88))[_0x278f0a(0x85d)]};}catch(_0x33defa){return{'error':_0x33defa?.[_0x278f0a(0x52b)]()};}}async[a0_0x2f588e(0x579)](_0xad1866,_0x3cbf7b){const _0x2ba414=a0_0x2f588e;try{if(_0xad1866[_0x2ba414(0x8b9)]===0x0)return;let _0xeab38c=this[_0x2ba414(0x6b3)](_0x3cbf7b),_0x1e1e9c=_0xad1866[_0x2ba414(0x475)](_0x114f8b=>({'updateOne':{'filter':{'name':_0x114f8b[_0x2ba414(0x7dc)],'owner':_0x3cbf7b},'update':{..._0x114f8b}}})),{modifiedCount:_0xe7eb0d}=await _0xeab38c[_0x2ba414(0x3e6)](_0x1e1e9c);return{'insertCount':_0xe7eb0d};}catch{return;}}async[a0_0x2f588e(0x883)](_0x3c6ecb,_0x5066f5,_0x3dd03f){const _0x10fc83=a0_0x2f588e;try{return{'modifiedCount':(await this[_0x10fc83(0x6b3)](_0x3dd03f)[_0x10fc83(0x883)](_0x3c6ecb,{'$set':_0x5066f5})[_0x10fc83(0x6c4)]())[_0x10fc83(0x697)]};}catch(_0x58c513){return console[_0x10fc83(0x20e)](_0x10fc83(0x640),_0x58c513),{'error':_0x58c513};}}async[a0_0x2f588e(0x805)](_0x4c5540,_0x23f7aa,_0x2dcb68){const _0x15b8d4=a0_0x2f588e;try{return await this['getConversationModelForOwner'](_0x2dcb68)['findOneAndUpdate']({'_id':_0x4c5540},{'$set':_0x23f7aa},{'new':!0x0,'upsert':!0x0})[_0x15b8d4(0x221)]();}catch(_0x3b1def){return console[_0x15b8d4(0x20e)](_0x3b1def),null;}}async[a0_0x2f588e(0x3b1)](_0x343e34,_0x28f102){const _0x25c0ef=a0_0x2f588e;try{return await this[_0x25c0ef(0x6b3)](_0x28f102)[_0x25c0ef(0x3b1)](_0x343e34)[_0x25c0ef(0x27a)]({'lastInteraction':-0x1})[_0x25c0ef(0x221)]();}catch{return[];}}async[a0_0x2f588e(0x876)](_0xc43a60,_0xb8f52a){const _0x4c9b15=a0_0x2f588e;try{return await this[_0x4c9b15(0x6b3)](_0xb8f52a)[_0x4c9b15(0x876)]({..._0xc43a60['where']})[_0x4c9b15(0x221)]();}catch{return null;}}async[a0_0x2f588e(0x75a)](_0x4e4614){const _0x4ce09d=a0_0x2f588e;try{return await this[_0x4ce09d(0x6b3)](_0x4e4614)[_0x4ce09d(0x219)][_0x4ce09d(0x8a8)](),{'success':!0x0};}catch(_0x46482f){return console[_0x4ce09d(0x20e)](_0x46482f),{'success':!0x1,'error':_0x46482f};}}},ns=class extends x{[a0_0x2f588e(0x2d5)](_0x41a847){return Ca(_0x41a847);}async[a0_0x2f588e(0x3e6)](_0xadb201,_0x4ebb01){const _0x1f722f=a0_0x2f588e;try{return await this['getScheduleMessageModelForOwner'](_0x4ebb01)[_0x1f722f(0x3e6)](_0xadb201);}catch(_0x5600ef){return console[_0x1f722f(0x20e)](_0x1f722f(0x506),_0x5600ef),null;}}async['createAndSave'](_0x4dedd0,_0xa926ac){const _0x6fd259=a0_0x2f588e;try{let _0x32cd39=this[_0x6fd259(0x2d5)](_0xa926ac);return await new _0x32cd39(_0x4dedd0)[_0x6fd259(0x3a7)]();}catch(_0x43aada){return console[_0x6fd259(0x20e)](_0x6fd259(0x4bd),_0x43aada),null;}}async['deleteOne'](_0x36ec02,_0xf7e9fa){const _0x4a1c32=a0_0x2f588e;try{return await this[_0x4a1c32(0x2d5)](_0xf7e9fa)[_0x4a1c32(0x8d3)](_0x36ec02),{};}catch(_0x2c2d2c){return{'error':_0x2c2d2c?.[_0x4a1c32(0x52b)]()};}}async['updateOne'](_0x56156f,_0x4ca6d5,_0x1393f4,_0x1529d9={}){const _0x2b57ca=a0_0x2f588e;try{return await this[_0x2b57ca(0x2d5)](_0x1393f4)['findOneAndUpdate'](_0x56156f,_0x4ca6d5,{..._0x1529d9,'new':!0x0})[_0x2b57ca(0x221)]();}catch(_0x5903cb){return console[_0x2b57ca(0x20e)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5903cb),null;}}async['updateOneById'](_0x4aa563,_0x28c0ae,_0x73dc3){const _0x3d8fa1=a0_0x2f588e;try{return await this['getScheduleMessageModelForOwner'](_0x73dc3)[_0x3d8fa1(0x47e)](_0x4aa563,_0x28c0ae,{'new':!0x0})[_0x3d8fa1(0x221)]();}catch(_0x3aae68){return console[_0x3d8fa1(0x20e)](_0x3d8fa1(0x8c4),_0x3aae68),null;}}async['find'](_0x4a64a2,_0x1435ac){const _0x49e5d4=a0_0x2f588e;try{return await this[_0x49e5d4(0x2d5)](_0x1435ac)[_0x49e5d4(0x3b1)](_0x4a64a2[_0x49e5d4(0x2d6)])[_0x49e5d4(0x58e)](_0x4a64a2?.[_0x49e5d4(0x58e)]??0x0)[_0x49e5d4(0x27a)]({'when':0x1})[_0x49e5d4(0x221)]();}catch{return[];}}async[a0_0x2f588e(0x876)](_0x5b0e3c,_0x19eae5){const _0x3adbfc=a0_0x2f588e;try{return await this[_0x3adbfc(0x2d5)](_0x19eae5)[_0x3adbfc(0x876)](_0x5b0e3c['where'])['sort']({'when':0x1})[_0x3adbfc(0x221)]();}catch{return null;}}async['findById'](_0x5f2dfc,_0x3ef269){const _0x5bca62=a0_0x2f588e;try{return await this[_0x5bca62(0x2d5)](_0x3ef269)['findById'](_0x5f2dfc)[_0x5bca62(0x221)]();}catch{return null;}}async[a0_0x2f588e(0x2ec)](_0x1c53d7,_0x173dec){const _0x3f9a78=a0_0x2f588e;try{return{'deletedCount':(await this[_0x3f9a78(0x2d5)](_0x173dec)[_0x3f9a78(0x2ec)](_0x1c53d7))['deletedCount']};}catch(_0x564a16){return console[_0x3f9a78(0x20e)](_0x3f9a78(0x89a),_0x564a16),{'error':_0x564a16};}}async['deleteAll'](_0xc9a666){const _0xe85781=a0_0x2f588e;try{return await this['getScheduleMessageModelForOwner'](_0xc9a666)[_0xe85781(0x219)][_0xe85781(0x8a8)](),{'success':!0x0};}catch(_0x3aee88){return console[_0xe85781(0x20e)](_0x3aee88),{'success':!0x1,'error':_0x3aee88};}}},cs=class extends x{async[a0_0x2f588e(0x579)](_0x71f12b,_0x54c8bb){const _0x102623=a0_0x2f588e;try{if(this[_0x102623(0x1f7)][_0x102623(0x7aa)])return await Te['findOneAndUpdate']({'_id':_0x54c8bb},{'$set':_0x71f12b},{'new':!0x0});}catch(_0x38c3c6){throw console[_0x102623(0x20e)](_0x102623(0x666),_0x38c3c6),_0x38c3c6;}}async['findOrCreate'](_0x51aab7){const _0x38384b=a0_0x2f588e;try{let _0x294465=await Te['findById'](_0x51aab7);return _0x294465?_0x294465[_0x38384b(0x691)]||(_0x294465[_0x38384b(0x691)]=[],await _0x294465[_0x38384b(0x3a7)]()):(_0x294465=new Te({'_id':_0x51aab7,'autoCompleteMessages':[]}),await _0x294465[_0x38384b(0x3a7)]()),_0x294465;}catch(_0x41e5ef){return _0x41e5ef[_0x38384b(0x70e)]===0x2af8&&_0x41e5ef[_0x38384b(0x473)]&&_0x41e5ef[_0x38384b(0x473)][_0x38384b(0x718)]?(console[_0x38384b(0x20e)](_0x38384b(0x380)),await Te[_0x38384b(0x219)]['dropIndex'](_0x38384b(0x6d9)),null):(console[_0x38384b(0x20e)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x41e5ef),null);}}},qo=new $(a0_0x2f588e(0x372)),Vo=new Xe(S),Go=new Bt(S),Bo=new lt(S),Wo=new Wt(ra,S),zo=new as(ga,S),Ho=new is(da,S),Ko=new $e(He,S),Qo=new os(S),Yo=new zt(S),Xo=new rs(S),Zo=new ns(S),er=new cs(S),ye=new Qe(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,I?.[a0_0x2f588e(0x223)]()),H=new Gt(ms,S,ye),tr=new Xt(S,H,ye),sr=new es(H),Is=new ss(sr),_=new ts(H),ge=new Qt(H,S,ye,ms,tr),K=new Yt(H),L=new Ht(H),G=new Zt(H);qo[a0_0x2f588e(0x569)](a0_0x2f588e(0x82c));var ng=require('express-async-errors'),js=require('fs'),Fi=A(require('https')),Ui=A(require(a0_0x2f588e(0x5c6))),je=class u{static #e;static set['app'](_0x5215f8){this.#e=_0x5215f8;}static get[a0_0x2f588e(0x764)](){const _0x435efb=a0_0x2f588e;let {FULLCHAIN:_0x139e8f,PRIVKEY:_0x4d5d7c}=S[_0x435efb(0x375)](_0x435efb(0x8b3));return Fi[_0x435efb(0x43f)]({'cert':(0x0,js[_0x435efb(0x919)])(_0x139e8f),'key':(0x0,js[_0x435efb(0x919)])(_0x4d5d7c)},u.#e);}static get[a0_0x2f588e(0x5c6)](){const _0x16b0d5=a0_0x2f588e;return Ui[_0x16b0d5(0x43f)](u.#e);}},Je=A(require('fs')),Bi=A(require(a0_0x2f588e(0x5c0))),qe=A(require('axios')),us=A(require('path')),ls=require('child_process');function ar(){const _0x231ce7=a0_0x2f588e;H['loadInstance']();let _0x445b7d=us[_0x231ce7(0x6d0)]['join'](__dirname,'downloads');Gi(_0x445b7d);}var Gi=_0x26161e=>{const _0x25b49c=a0_0x2f588e;let _0x25027a=Je[_0x25b49c(0x6d0)][_0x25b49c(0x54b)](_0x26161e),_0x1e235e=0xc*0x3c*0x3c*0x3e8,_0xa80850=0x2*0x3c*0x3c*0x3e8,_0x29f31e=new Date()['getTime']();_0x25027a[_0x25b49c(0x255)](_0x42f324=>{const _0x4a3a0f=_0x25b49c;let _0x31ffb5=us['default'][_0x4a3a0f(0x88b)](_0x26161e,_0x42f324),_0x242b25=Je[_0x4a3a0f(0x6d0)]['statSync'](_0x31ffb5)['birthtime']['getTime']();_0x29f31e-_0x242b25>_0x1e235e&&(Je['default'][_0x4a3a0f(0x7bc)](_0x31ffb5),console[_0x4a3a0f(0x449)](_0x4a3a0f(0x35a)+_0x42f324));}),setTimeout(()=>Gi(_0x26161e),_0xa80850);};function ir(){const _0x1ab4a1=a0_0x2f588e;let _0x5c2d9c=new $(_0x1ab4a1(0x50e)),_0x44b9af=(0x0,Se[_0x1ab4a1(0x6d0)])();_0x44b9af[_0x1ab4a1(0x308)]((0x0,Vi['default'])({'origin'(_0x2ebb53,_0x147e53){const _0x56146d=_0x1ab4a1;let {ORIGIN:_0x42deea}=S[_0x56146d(0x375)]('CORS');return _0x2ebb53||(_0x2ebb53='*'),_0x42deea[_0x56146d(0x224)]('*')!==-0x1||_0x42deea['indexOf'](_0x2ebb53)!==-0x1?_0x147e53(null,!0x0):_0x147e53(new Error(_0x56146d(0x90d)));},'methods':[...S[_0x1ab4a1(0x375)](_0x1ab4a1(0x586))[_0x1ab4a1(0x35c)]],'credentials':S[_0x1ab4a1(0x375)]('CORS')[_0x1ab4a1(0x25f)]}),(0x0,Se['urlencoded'])({'extended':!0x0,'limit':_0x1ab4a1(0x1e6)}),(0x0,Se[_0x1ab4a1(0x29d)])({'limit':_0x1ab4a1(0x1e6)})),_0x44b9af[_0x1ab4a1(0x308)]((_0x1955a8,_0x28e81b,_0xfdae36)=>{const _0x1a5ba1=_0x1ab4a1;_0x1955a8[_0x1a5ba1(0x304)][_0x1a5ba1(0x4de)](_0x1a5ba1(0x80d))?_0xfdae36():(0x0,qi[_0x1a5ba1(0x6d0)])()(_0x1955a8,_0x28e81b,_0xfdae36);}),_0x44b9af['set'](_0x1ab4a1(0x7e3),_0x1ab4a1(0x564)),_0x44b9af[_0x1ab4a1(0x33a)](_0x1ab4a1(0x5d8),(0x0,qs[_0x1ab4a1(0x88b)])(de,_0x1ab4a1(0x5d8))),_0x44b9af['use'](Se[_0x1ab4a1(0x6d0)][_0x1ab4a1(0x558)]((0x0,qs[_0x1ab4a1(0x88b)])(de,_0x1ab4a1(0x69b)))),_0x44b9af[_0x1ab4a1(0x308)]((_0x2b8d7d,_0x4f441b,_0x513692)=>{const _0x52688a=_0x1ab4a1;let _0xe87951=_0x4f441b[_0x52688a(0x87a)];_0x4f441b[_0x52688a(0x87a)]=function(_0x340dab){const _0xb67de6=_0x52688a;if(_0x2b8d7d[_0xb67de6(0x54a)][_0xb67de6(0x31d)]==='true'||_0x2b8d7d[_0xb67de6(0x354)][_0xb67de6(0x54e)]===_0xb67de6(0x4a6)){let _0x3b6b31=JSON[_0xb67de6(0x2a3)](_0x340dab);_0x340dab=JSON['stringify'](_0x2f11df(_0x3b6b31));}return _0xe87951[_0xb67de6(0x1cb)](_0x4f441b,[_0x340dab]);},_0x513692();}),_0x44b9af[_0x1ab4a1(0x308)]('/',Le),_0x44b9af[_0x1ab4a1(0x308)]((_0x16541c,_0x25e80d,_0x301131,_0x1b6238)=>{const _0x50f92b=_0x1ab4a1;if(_0x16541c)return _0x301131[_0x50f92b(0x3f3)](_0x16541c['status']||0x1f4)['json'](_0x16541c);},(_0x446778,_0x36d381,_0x34eb5b)=>{const _0x9586ff=_0x1ab4a1;let {method:_0x21e078,url:_0x552e89}=_0x446778;_0x36d381[_0x9586ff(0x3f3)](0x194)[_0x9586ff(0x29d)]({'status':0x194,'message':_0x9586ff(0x321)+_0x21e078[_0x9586ff(0x73d)]()+'\x20'+_0x552e89,'error':_0x9586ff(0x4ae)}),_0x34eb5b();});let _0x2f11df=(_0x4e0c8a,_0x4db78e=_0x1ab4a1(0x3fb))=>{const _0x4d9cd0=_0x1ab4a1;let _0x466036=(_0x32d91c,_0x1a2310=null,_0x151dff=!0x1)=>{const _0x2a0586=a0_0x5c2a;let _0x81e2ce={};return Object[_0x2a0586(0x37a)](_0x32d91c)[_0x2a0586(0x255)](_0x459b70=>{const _0x3987e0=_0x2a0586;let _0x3dc31b=_0x32d91c[_0x459b70],_0x568ee1=''+_0x4db78e+_0x459b70;_0x1a2310&&!_0x151dff&&(_0x568ee1=_0x1a2310+'.'+_0x459b70),!_0x3dc31b&&_0x3dc31b!==0x0&&_0x3dc31b!==!0x1||typeof _0x3dc31b>'u'?_0x81e2ce[_0x568ee1]=null:typeof _0x3dc31b!=_0x3987e0(0x57a)&&!Array[_0x3987e0(0x3e5)](_0x3dc31b)?_0x81e2ce[_0x568ee1]=_0x3dc31b:typeof _0x3dc31b=='object'&&!Array['isArray'](_0x3dc31b)?_0x81e2ce=Object[_0x3987e0(0x71e)](_0x81e2ce,_0x466036(_0x3dc31b,_0x568ee1)):Array['isArray'](_0x3dc31b)&&(typeof _0x3dc31b[0x0]==_0x3987e0(0x57a)?(_0x81e2ce[_0x568ee1]=[],_0x3dc31b['forEach'](_0x33d337=>{_0x81e2ce[_0x568ee1]['push'](_0x466036(_0x33d337,_0x568ee1,!0x0));})):_0x81e2ce[_0x568ee1]=_0x3dc31b);}),_0x81e2ce;};return Array[_0x4d9cd0(0x3e5)](_0x4e0c8a)?_0x4e0c8a['map'](_0x12634d=>_0x466036(_0x12634d)):typeof _0x4e0c8a=='object'&&_0x4e0c8a!==null?_0x466036(_0x4e0c8a):{};},_0x4e8063=S[_0x1ab4a1(0x375)](_0x1ab4a1(0x50e));je[_0x1ab4a1(0x4d7)]=_0x44b9af;let _0x34a087=je[_0x4e8063[_0x1ab4a1(0x3cc)]],_0x5a50f1=_0x1ab4a1(0x854);_0x34a087[_0x1ab4a1(0x5d0)](_0x4e8063[_0x1ab4a1(0x2f5)],()=>{const _0x6cc55=_0x1ab4a1;_0x5c2d9c[_0x6cc55(0x449)](_0x5a50f1),_0x5c2d9c[_0x6cc55(0x449)](_0x4e8063[_0x6cc55(0x3cc)][_0x6cc55(0x73d)]()+'\x20-\x20ON:\x20'+_0x4e8063[_0x6cc55(0x2f5)]);}),ar(),ea();}var or=a0_0x2f588e(0x8dc),rr=us[a0_0x2f588e(0x6d0)][a0_0x2f588e(0x88b)](__dirname,'./.git/config'),Ie=null;function nr(){return new Promise((_0x46a03e,_0xc6a31e)=>{const _0x266057=a0_0x5c2a;Je[_0x266057(0x6d0)][_0x266057(0x590)](rr,_0x266057(0x472),(_0x5d006c,_0x224c65)=>{const _0x3286bf=_0x266057;if(_0x5d006c){Ie=_0x5d006c,_0x46a03e();return;}Bi[_0x3286bf(0x6d0)]['parse'](_0x224c65)[_0x3286bf(0x2fe)][_0x3286bf(0x664)]===or?(Ie=null,_0x46a03e()):(Ie=new Error(_0x3286bf(0x8e9)),_0x46a03e());});});}async function cr(){const _0x2de472=a0_0x2f588e;try{await nr(),await Vs();}catch(_0x5b0707){console[_0x2de472(0x20e)](_0x2de472(0x74f)+_0x5b0707),process[_0x2de472(0x7fd)](0x1);}}cr();async function Wi(){const _0x41625c=a0_0x2f588e;let _0x3e420f;try{_0x3e420f=(await qe[_0x41625c(0x6d0)][_0x41625c(0x375)](_0x41625c(0x67c)))[_0x41625c(0x28c)]['ip'];}catch(_0x19c81d){console[_0x41625c(0x20e)](_0x19c81d);try{_0x3e420f=(await qe[_0x41625c(0x6d0)][_0x41625c(0x375)](_0x41625c(0x8ee)))[_0x41625c(0x28c)]['ip'];}catch(_0x9cf0f4){console[_0x41625c(0x20e)](_0x9cf0f4);try{_0x3e420f=(await qe[_0x41625c(0x6d0)]['get']('http://checkip.dyndns.org'))[_0x41625c(0x28c)][_0x41625c(0x5a5)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x56e37b){return console['error'](_0x56e37b),!0x1;}}}return _0x3e420f;}var ji=0x0;async function lr(){const _0x2b1ae9=a0_0x2f588e;let _0x2280e6=await new me(S['get'](_0x2b1ae9(0x57f)))[_0x2b1ae9(0x567)]();return console[_0x2b1ae9(0x449)](_0x2b1ae9(0x789),_0x2280e6[_0x2b1ae9(0x8b9)]),_0x2280e6[_0x2b1ae9(0x8b9)];}function ur(_0x4cfdb9){const _0x3585d5=a0_0x2f588e;let _0x2e1d78=_0x4cfdb9[_0x3585d5(0x375)]('SERVER')['URL'],_0x1da10a=_0x4cfdb9[_0x3585d5(0x375)](_0x3585d5(0x8b3));console[_0x3585d5(0x449)](_0x3585d5(0x753),_0x2e1d78),console[_0x3585d5(0x449)](_0x3585d5(0x277),_0x1da10a);let _0x1030e1='',_0x371e1c=_0x2e1d78||'';if(_0x2e1d78){let _0x335ad8=_0x2e1d78[_0x3585d5(0x5a5)](/\/\/(.*?)\./);console[_0x3585d5(0x449)](_0x3585d5(0x63b),_0x335ad8),_0x335ad8&&_0x335ad8[0x1]&&(_0x1030e1=_0x335ad8[0x1],console[_0x3585d5(0x449)](_0x3585d5(0x38f),_0x1030e1));}if(!_0x1030e1&&_0x1da10a&&_0x1da10a[_0x3585d5(0x447)]){let _0x585a14=_0x1da10a[_0x3585d5(0x447)][_0x3585d5(0x50b)]('/');console[_0x3585d5(0x449)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x585a14);let _0x1b3eaf=_0x585a14[_0x585a14[_0x3585d5(0x8b9)]-0x2];if(console[_0x3585d5(0x449)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x1b3eaf),_0x1b3eaf){let _0x48635d=_0x1b3eaf[_0x3585d5(0x50b)]('.');console[_0x3585d5(0x449)]('Partes\x20do\x20domínio:',_0x48635d),_0x48635d[_0x3585d5(0x8b9)]>0x2&&(_0x1030e1=_0x48635d[0x0],console[_0x3585d5(0x449)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x1030e1),_0x371e1c=''+_0x1b3eaf);}}return{'subdomain':_0x1030e1||_0x3585d5(0x393),'fullURL':_0x371e1c||'URL\x20não\x20disponível'};}var {subdomain:Q,fullURL:Gs}=ur(S);console[a0_0x2f588e(0x449)](a0_0x2f588e(0x7ad),Q),console[a0_0x2f588e(0x449)]('URL\x20completa:',Gs);async function dr(){const _0x3fbb62=a0_0x2f588e;let _0x18a74f=S[_0x3fbb62(0x375)](_0x3fbb62(0x57f)),_0x36ff6e=S['get'](_0x3fbb62(0x5da))[_0x3fbb62(0x8fb)][_0x3fbb62(0x49d)],_0x4efe3f=S[_0x3fbb62(0x375)]('SSL_CONF'),_0x39d75a=await Wi(),_0x568f75=S[_0x3fbb62(0x375)]('SERVER')[_0x3fbb62(0x2f5)],_0xf6e54f=Gs;try{let _0x3cc145={'ip':_0x39d75a||null,'redis_enable':_0x18a74f?.[_0x3fbb62(0x7aa)]||null,'apikey':_0x36ff6e||null,'ssl':_0x4efe3f?.[_0x3fbb62(0x72a)]||null,'lastupdate':zi||null,'port':_0x568f75||null,'gitInstallError':Ie?.[_0x3fbb62(0x68b)]||null,'url':_0xf6e54f||null,'subdomain':Q};if(console[_0x3fbb62(0x449)]('ip:\x20',_0x3cc145['ip']),_0x18a74f&&_0x18a74f[_0x3fbb62(0x7aa)]){let _0x494156=await lr();_0x3cc145['instanceCount']=_0x494156||null;}for(let _0x38f783 in _0x3cc145)_0x3cc145[_0x3fbb62(0x317)](_0x38f783)&&_0x38f783!=='ip'&&(_0x3cc145[_0x38f783]=JSON[_0x3fbb62(0x8f1)](_0x3cc145[_0x38f783]));return(await qe[_0x3fbb62(0x6d0)][_0x3fbb62(0x36f)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x3cc145))[_0x3fbb62(0x28c)];}catch(_0x324a00){return console['error'](_0x324a00),!0x1;}}var Js=!0x1,zi=0x25a,pr=0x3,Ji=0x1b7740;async function Vs(){const _0x136c1e=a0_0x2f588e;let _0x37accd='fora\x20do\x20git';Ie===null&&(_0x37accd=await Wi());let _0x1bfa8f=await dr();if(_0x1bfa8f){if(_0x1bfa8f[_0x136c1e(0x82b)]['licenca']===!0x0){Ie===null&&_0x1bfa8f[_0x136c1e(0x82b)][_0x136c1e(0x25b)]-zi>0x0&&await hr(),Js||(Js=!0x0,ir());let _0x428b47=0x24*0x3c*0x3c,_0x52e89c=_0x1bfa8f[_0x136c1e(0x82b)][_0x136c1e(0x541)]>_0x428b47?_0x428b47:_0x1bfa8f['response'][_0x136c1e(0x541)],_0x6f4729=Number(_0x52e89c);if(isNaN(_0x6f4729)){console['error'](_0x136c1e(0x4f0));return;}let _0x425393=Math['floor'](_0x6f4729/0xe10),_0x3a0daa=Math[_0x136c1e(0x2cc)](_0x6f4729%0xe10/0x3c),_0x5c48e9=new Date(Date[_0x136c1e(0x71f)]()+_0x6f4729*0x3e8);setTimeout(Vs,_0x6f4729*0x3e8);let _0x1290ca=_0xbf2f49=>_0xbf2f49['toString']()[_0x136c1e(0x44e)](0x2,'0'),_0x19a6c8=_0x136c1e(0x207)+_0x1290ca(_0x425393)+_0x136c1e(0x677)+_0x1290ca(_0x3a0daa)+_0x136c1e(0x7ee)+_0x1290ca(_0x5c48e9['getHours']())+':'+_0x1290ca(_0x5c48e9[_0x136c1e(0x310)]())+'.';console[_0x136c1e(0x449)](_0x19a6c8);}else return console['log'](_0x136c1e(0x8fd)),Js&&(console['log'](_0x136c1e(0x86f)),process['exit']()),_0x136c1e(0x7c2);}else{if(ji++,ji<pr)console[_0x136c1e(0x449)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ji/0xea60+_0x136c1e(0x7d7)),setTimeout(Vs,Ji);else return console['error'](_0x136c1e(0x7d8)),'SERVER_OFFLINE';}}async function hr(){const _0x23d355=a0_0x2f588e;console['log'](_0x23d355(0x6b5)),console[_0x23d355(0x449)](_0x23d355(0x1c4)),(0x0,ls[_0x23d355(0x828)])(_0x23d355(0x1e4),{'shell':!0x0})['on']('close',_0x2f5dec=>{const _0x8c588e=_0x23d355;_0x2f5dec!==0x0?console[_0x8c588e(0x20e)](_0x8c588e(0x604)):(console[_0x8c588e(0x449)](_0x8c588e(0x7c1)),console[_0x8c588e(0x449)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,ls[_0x8c588e(0x828)])(_0x8c588e(0x60f),{'shell':!0x0})['on'](_0x8c588e(0x70a),_0x5d316a=>{const _0x1e332e=_0x8c588e;if(_0x5d316a!==0x0)console['error'](_0x1e332e(0x4e1));else{console[_0x1e332e(0x449)](_0x1e332e(0x3da));let _0x120480=(0x0,ls[_0x1e332e(0x828)])(_0x1e332e(0x1fc),{'shell':!0x0});_0x120480[_0x1e332e(0x631)]['on']('data',_0x3d9c8b=>{console['log']('Atualização:\x20'+_0x3d9c8b);}),_0x120480[_0x1e332e(0x4e4)]['on']('data',_0x5e1865=>{const _0x265533=_0x1e332e;console['error'](_0x265533(0x7b4)+_0x5e1865);}),_0x120480['on']('exit',_0x3df737=>{const _0x4dbcae=_0x1e332e;_0x3df737!==0x0?console[_0x4dbcae(0x20e)](_0x4dbcae(0x554)+_0x3df737):console[_0x4dbcae(0x449)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x4dbcae(0x449)](_0x4dbcae(0x72f)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x2f588e(0x2af)]={'fullURL':fullURL,'subdomain':subdomain});