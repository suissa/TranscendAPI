const a0_0x1ec3bd=a0_0x1c6d;(function(_0x1fd183,_0x2472a0){const _0x5de642=a0_0x1c6d,_0x33d44f=_0x1fd183();while(!![]){try{const _0x4385a8=-parseInt(_0x5de642(0x340))/0x1*(-parseInt(_0x5de642(0x129))/0x2)+parseInt(_0x5de642(0x32f))/0x3*(-parseInt(_0x5de642(0x27e))/0x4)+parseInt(_0x5de642(0xc3))/0x5+parseInt(_0x5de642(0x5d4))/0x6*(parseInt(_0x5de642(0x70c))/0x7)+-parseInt(_0x5de642(0x110))/0x8+parseInt(_0x5de642(0x75e))/0x9+parseInt(_0x5de642(0x229))/0xa*(parseInt(_0x5de642(0x5e7))/0xb);if(_0x4385a8===_0x2472a0)break;else _0x33d44f['push'](_0x33d44f['shift']());}catch(_0x146c8e){_0x33d44f['push'](_0x33d44f['shift']());}}}(a0_0x46ed,0x85d8f));var Gi=Object[a0_0x1ec3bd(0x63d)],Ue=Object[a0_0x1ec3bd(0x13c)],Bi=Object[a0_0x1ec3bd(0x5cb)],Wi=Object[a0_0x1ec3bd(0x5e8)],zi=Object['getPrototypeOf'],Hi=Object[a0_0x1ec3bd(0x31a)][a0_0x1ec3bd(0x7a0)],Ki=(_0x8f24c9,_0x3a8ebb)=>{for(var _0x56340c in _0x3a8ebb)Ue(_0x8f24c9,_0x56340c,{'get':_0x3a8ebb[_0x56340c],'enumerable':!0x0});},qs=(_0x528e98,_0x475037,_0x301557,_0x12401e)=>{const _0x5d0c50=a0_0x1ec3bd;if(_0x475037&&typeof _0x475037=='object'||typeof _0x475037==_0x5d0c50(0x30b)){for(let _0x17491c of Wi(_0x475037))!Hi[_0x5d0c50(0x29a)](_0x528e98,_0x17491c)&&_0x17491c!==_0x301557&&Ue(_0x528e98,_0x17491c,{'get':()=>_0x475037[_0x17491c],'enumerable':!(_0x12401e=Bi(_0x475037,_0x17491c))||_0x12401e[_0x5d0c50(0x426)]});}return _0x528e98;},R=(_0x41af70,_0xc52d,_0x19e24a)=>(_0x19e24a=_0x41af70!=null?Gi(zi(_0x41af70)):{},qs(_0xc52d||!_0x41af70||!_0x41af70[a0_0x1ec3bd(0x386)]?Ue(_0x19e24a,'default',{'value':_0x41af70,'enumerable':!0x0}):_0x19e24a,_0x41af70)),Qi=_0x5c8bd2=>qs(Ue({},a0_0x1ec3bd(0x386),{'value':!0x0}),_0x5c8bd2),ur={};Ki(ur,{'fullURL':()=>js,'subdomain':()=>W}),module[a0_0x1ec3bd(0x10f)]=Qi(ur);var Li=R(require('compression')),Gs=require('fs'),Bs=require('js-yaml'),Ws=require('path'),je=require(a0_0x1ec3bd(0x46e)),re=process[a0_0x1ec3bd(0x292)](),fe=(0x0,je[a0_0x1ec3bd(0x693)])(re,'instances'),Vs=(0x0,je['join'])(re,a0_0x1ec3bd(0x76d)),sn=(0x0,je[a0_0x1ec3bd(0x693)])(re,a0_0x1ec3bd(0x758),'auth'),cs=class{constructor(){this['loadEnv']();}[a0_0x1ec3bd(0x5d6)](_0x450aa3){const _0x117bbd=a0_0x1ec3bd;return this[_0x117bbd(0x74d)][_0x450aa3];}[a0_0x1ec3bd(0x297)](){const _0x202fe2=a0_0x1ec3bd;this[_0x202fe2(0x74d)]=process[_0x202fe2(0x74d)]?.[_0x202fe2(0x4eb)]!==_0x202fe2(0x410)?this[_0x202fe2(0xcb)]():this[_0x202fe2(0x2bd)](),process[_0x202fe2(0x74d)]?.[_0x202fe2(0x4eb)]==='true'&&(this[_0x202fe2(0x74d)][_0x202fe2(0x752)][_0x202fe2(0x3d8)]=_0x202fe2(0x359),this[_0x202fe2(0x74d)][_0x202fe2(0x752)][_0x202fe2(0x406)]=Number[_0x202fe2(0x13f)](process[_0x202fe2(0x74d)]?.[_0x202fe2(0x404)]??'8080'));}[a0_0x1ec3bd(0xcb)](){const _0x110279=a0_0x1ec3bd;return(0x0,Bs[_0x110279(0x78f)])((0x0,Gs[_0x110279(0x54a)])((0x0,Ws[_0x110279(0x693)])(Vs,_0x110279(0x141)),{'encoding':'utf-8'}));}[a0_0x1ec3bd(0x2bd)](){const _0x17c8f8=a0_0x1ec3bd;return{'SERVER':{'TYPE':process['env'][_0x17c8f8(0x2d3)],'PORT':Number[_0x17c8f8(0x13f)](process[_0x17c8f8(0x74d)][_0x17c8f8(0x404)]),'URL':process[_0x17c8f8(0x74d)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x17c8f8(0x74d)][_0x17c8f8(0x684)][_0x17c8f8(0x4c0)](','),'METHODS':process[_0x17c8f8(0x74d)]['CORS_METHODS'][_0x17c8f8(0x4c0)](','),'CREDENTIALS':process[_0x17c8f8(0x74d)]?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x17c8f8(0x74d)]?.[_0x17c8f8(0x18b)],'FULLCHAIN':process[_0x17c8f8(0x74d)]?.[_0x17c8f8(0x3b8)]},'STORE':{'CLEANING_INTERVAL':Number[_0x17c8f8(0x427)](process[_0x17c8f8(0x74d)]?.[_0x17c8f8(0x135)])?Number[_0x17c8f8(0x13f)](process[_0x17c8f8(0x74d)][_0x17c8f8(0x135)]):void 0x0,'MESSAGES':process[_0x17c8f8(0x74d)]?.['STORE_MESSAGE']===_0x17c8f8(0x410),'CONTACTS':process[_0x17c8f8(0x74d)]?.['STORE_CONTACTS']===_0x17c8f8(0x410),'CHATS':process[_0x17c8f8(0x74d)]?.[_0x17c8f8(0x2d5)]===_0x17c8f8(0x410)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x17c8f8(0x13f)](process[_0x17c8f8(0x74d)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x17c8f8(0x74d)][_0x17c8f8(0x454)],'PASSWORD':process['env'][_0x17c8f8(0x214)],'URI':process['env']['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x17c8f8(0x74d)][_0x17c8f8(0x6c3)]},'ENABLED':process[_0x17c8f8(0x74d)]?.['DATABASE_ENABLED']===_0x17c8f8(0x410)},'REDIS':{'ENABLED':process['env']?.[_0x17c8f8(0x79c)]===_0x17c8f8(0x410),'URI':process[_0x17c8f8(0x74d)][_0x17c8f8(0x26d)]||_0x17c8f8(0x257),'PREFIX_KEY':process[_0x17c8f8(0x74d)][_0x17c8f8(0x530)]||_0x17c8f8(0x304)},'LOG':{'LEVEL':process[_0x17c8f8(0x74d)]?.[_0x17c8f8(0x363)]['split'](','),'COLOR':process[_0x17c8f8(0x74d)]?.[_0x17c8f8(0x25c)]==='true'},'PROXY':process[_0x17c8f8(0x74d)]?.['PROXY']==='true','AUTHENTICATION':{'TYPE':process['env'][_0x17c8f8(0xf7)],'API_KEY':{'KEY':process[_0x17c8f8(0x74d)][_0x17c8f8(0x59f)]},'JWT':{'EXPIRIN_IN':Number[_0x17c8f8(0x427)](process[_0x17c8f8(0x74d)]?.[_0x17c8f8(0x261)])?Number[_0x17c8f8(0x13f)](process[_0x17c8f8(0x74d)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new cs(),Fi=R(require('cors')),me=R(require(a0_0x1ec3bd(0x1bf))),Fs=require(a0_0x1ec3bd(0x46e)),ls=R(require(a0_0x1ec3bd(0x685))),us=(_0x483bcf=>(_0x483bcf[a0_0x1ec3bd(0x6d0)]=a0_0x1ec3bd(0x4cb),_0x483bcf[a0_0x1ec3bd(0x1db)]=a0_0x1ec3bd(0x444),_0x483bcf['WARN']='\x1b[33m',_0x483bcf[a0_0x1ec3bd(0x779)]='\x1b[31m',_0x483bcf['DEBUG']=a0_0x1ec3bd(0x9c),_0x483bcf[a0_0x1ec3bd(0x79a)]=a0_0x1ec3bd(0x60d),_0x483bcf[a0_0x1ec3bd(0xf1)]=a0_0x1ec3bd(0x38b),_0x483bcf))(us||{}),zs=(_0x3df488=>(_0x3df488[a0_0x1ec3bd(0x6d0)]=a0_0x1ec3bd(0x169),_0x3df488[a0_0x1ec3bd(0xf1)]='\x1b[30m%s\x1b[0m',_0x3df488[a0_0x1ec3bd(0x1db)]=a0_0x1ec3bd(0x2e5),_0x3df488[a0_0x1ec3bd(0x76b)]='\x1b[33m%s\x1b[0m',_0x3df488[a0_0x1ec3bd(0x779)]=a0_0x1ec3bd(0x5ea),_0x3df488[a0_0x1ec3bd(0x35e)]='\x1b[36m%s\x1b[0m',_0x3df488[a0_0x1ec3bd(0x79a)]=a0_0x1ec3bd(0x2bf),_0x3df488))(zs||{}),Hs=(_0x185f0c=>(_0x185f0c['LOG']='LOG',_0x185f0c[a0_0x1ec3bd(0x76b)]=a0_0x1ec3bd(0x76b),_0x185f0c['INFO']='INFO',_0x185f0c[a0_0x1ec3bd(0xf1)]=a0_0x1ec3bd(0xf1),_0x185f0c[a0_0x1ec3bd(0x779)]=a0_0x1ec3bd(0x779),_0x185f0c[a0_0x1ec3bd(0x35e)]='DEBUG',_0x185f0c[a0_0x1ec3bd(0x79a)]=a0_0x1ec3bd(0x79a),_0x185f0c))(Hs||{}),Ks=(_0x57bc83=>(_0x57bc83['LOG']=a0_0x1ec3bd(0x6a9),_0x57bc83['INFO']=a0_0x1ec3bd(0x2aa),_0x57bc83[a0_0x1ec3bd(0x76b)]='\x1b[43m',_0x57bc83[a0_0x1ec3bd(0xf1)]=a0_0x1ec3bd(0x30f),_0x57bc83[a0_0x1ec3bd(0x779)]='\x1b[41m',_0x57bc83['DEBUG']='\x1b[46m',_0x57bc83[a0_0x1ec3bd(0x79a)]=a0_0x1ec3bd(0x52f),_0x57bc83))(Ks||{}),N=class{constructor(_0x2fab68=a0_0x1ec3bd(0x241)){const _0x214f80=a0_0x1ec3bd;this[_0x214f80(0x3a4)]=_0x2fab68,this[_0x214f80(0x6f0)]=b;}[a0_0x1ec3bd(0x6cd)](_0x168d08){const _0x37ed66=a0_0x1ec3bd;this[_0x37ed66(0x3a4)]=_0x168d08;}['console'](_0x132525,_0x4dbb5b){const _0x24dc61=a0_0x1ec3bd;let _0x2fdb5b=[];this[_0x24dc61(0x6f0)][_0x24dc61(0x5d6)](_0x24dc61(0x6d0))['LEVEL'][_0x24dc61(0x730)](_0x3433e0=>_0x2fdb5b[_0x24dc61(0x3f7)](Hs[_0x3433e0]));let _0x5c2209=typeof _0x132525;_0x2fdb5b[_0x24dc61(0x39c)](_0x4dbb5b)&&(b[_0x24dc61(0x5d6)](_0x24dc61(0x6d0))['COLOR']?(console[_0x24dc61(0x1d9)](_0x24dc61(0x57c)+zs[_0x4dbb5b],_0x24dc61(0x51a),(0x0,ls[_0x24dc61(0x442)])()['format']('DD/MM\x20HH:mm:ss'),_0x24dc61(0x4a7),us[_0x4dbb5b]+Ks[_0x4dbb5b]+_0x24dc61(0x57c),_0x4dbb5b+_0x24dc61(0x40f),_0x24dc61(0x42c),this[_0x24dc61(0x3a4)]+_0x24dc61(0x4a7),us[_0x4dbb5b],_0x5c2209!==_0x24dc61(0x2c3)?_0x132525:'',_0x24dc61(0x4a7)),_0x5c2209==='object'&&console['log'](_0x132525,'\x0a')):console['log']((0x0,ls[_0x24dc61(0x442)])()[_0x24dc61(0x3df)](_0x24dc61(0x610)),_0x4dbb5b+'\x20',''+this[_0x24dc61(0x3a4)],_0x132525));}[a0_0x1ec3bd(0x1d9)](_0x3432e3){const _0x338562=a0_0x1ec3bd;this[_0x338562(0x13a)](_0x3432e3,_0x338562(0x6d0));}[a0_0x1ec3bd(0x6eb)](_0x12e9e8){const _0x52ca20=a0_0x1ec3bd;this[_0x52ca20(0x13a)](_0x12e9e8,'INFO');}['warn'](_0x18353d){const _0x1319dd=a0_0x1ec3bd;this[_0x1319dd(0x13a)](_0x18353d,'WARN');}[a0_0x1ec3bd(0x4e6)](_0x22e154){const _0x751dee=a0_0x1ec3bd;this[_0x751dee(0x13a)](_0x22e154,_0x751dee(0x779));}[a0_0x1ec3bd(0x7ac)](_0xc42244){const _0x5991ea=a0_0x1ec3bd;this[_0x5991ea(0x13a)](_0xc42244,_0x5991ea(0x79a));}[a0_0x1ec3bd(0x286)](_0x110a4b){const _0x53bf50=a0_0x1ec3bd;this[_0x53bf50(0x13a)](_0x110a4b,_0x53bf50(0x35e));}[a0_0x1ec3bd(0x6c9)](_0xb37f5c){const _0x4edd08=a0_0x1ec3bd;this['console'](_0xb37f5c,_0x4edd08(0xf1));}};function Qs(){const _0x440b76=a0_0x1ec3bd;process['on'](_0x440b76(0xef),(_0x250cf4,_0x39b403)=>{const _0x343f8d=_0x440b76;new N(_0x343f8d(0xef))[_0x343f8d(0x4e6)]({'origin':_0x39b403,'stderr':process[_0x343f8d(0x215)]['fd'],'error':_0x250cf4});}),process['on'](_0x440b76(0x367),(_0x71e9bf,_0x47d260)=>{const _0x1137b7=_0x440b76;new N(_0x1137b7(0x367))[_0x1137b7(0x4e6)]({'origin':_0x47d260,'stderr':process[_0x1137b7(0x215)]['fd'],'error':_0x71e9bf});});}var Ys=R(require(a0_0x1ec3bd(0x4a6))),ds=new Ys['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x1ec3bd(0x59e)),Ne=R(require(a0_0x1ec3bd(0x59e))),Je=new N(a0_0x1ec3bd(0x591)),k=b['get'](a0_0x1ec3bd(0x548)),$=k[a0_0x1ec3bd(0x520)]?k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x3c5)]?Ne[a0_0x1ec3bd(0x442)][a0_0x1ec3bd(0x690)](k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x3c5)],{'dbName':k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x4b2)]+a0_0x1ec3bd(0x325)}):Ne[a0_0x1ec3bd(0x442)][a0_0x1ec3bd(0x690)](a0_0x1ec3bd(0x6e1)+k['CONNECTION']['HOST']+':'+k[a0_0x1ec3bd(0x607)]['PORT']+a0_0x1ec3bd(0x65f),{'user':k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x3bb)],'pass':k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x1ed)],'dbName':k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x4b2)]+'-whatsapp-api'}):null;k[a0_0x1ec3bd(0x520)]&&Je[a0_0x1ec3bd(0x6eb)]('ON\x20-\x20dbName:\x20'+$[a0_0x1ec3bd(0x628)]);var ne=k[a0_0x1ec3bd(0x520)]?k[a0_0x1ec3bd(0x607)]['URI']?Ne['default'][a0_0x1ec3bd(0x690)](k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x3c5)],{'dbName':'cachedData-whatsapp'}):Ne[a0_0x1ec3bd(0x442)]['createConnection'](a0_0x1ec3bd(0x6e1)+k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x29c)]+':'+k[a0_0x1ec3bd(0x607)][a0_0x1ec3bd(0x406)]+a0_0x1ec3bd(0x65f),{'user':k[a0_0x1ec3bd(0x607)]['USER'],'pass':k['CONNECTION'][a0_0x1ec3bd(0x1ed)],'dbName':a0_0x1ec3bd(0x4d4)}):null;ne&&Je[a0_0x1ec3bd(0x6eb)](a0_0x1ec3bd(0x12a)+ne[a0_0x1ec3bd(0x628)]),process['on'](a0_0x1ec3bd(0x742),()=>{const _0x4383d1=a0_0x1ec3bd;$&&$[_0x4383d1(0x2a5)](()=>{const _0x8115=_0x4383d1;Je[_0x8115(0x6eb)](_0x8115(0x604));}),ne&&ne[_0x4383d1(0x2a5)](()=>{const _0x558bb0=_0x4383d1;Je[_0x558bb0(0x6eb)](_0x558bb0(0x3e5));});});var Yi=new we[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new we['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new we[(a0_0x1ec3bd(0x1e2))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new we[(a0_0x1ec3bd(0x1e2))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new we[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Xs=_0x4f0feb=>{const _0x29312e=a0_0x1ec3bd;let _0x4841f0='z_'+_0x4f0feb+_0x29312e(0x6c0);return $?.[_0x29312e(0x1f2)](_0x29312e(0x67c),to,_0x4841f0);},Zs=require('mongoose'),so=new Zs[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=_0x322a8c=>{const _0x14a2f9=a0_0x1ec3bd;let _0x4fdd84='z_'+_0x322a8c+'_Contacts';return $?.[_0x14a2f9(0x1f2)](_0x14a2f9(0x43a),so,_0x4fdd84);},ta=require('mongoose'),ps=class{},ao=new ta[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),sa=ne?.[a0_0x1ec3bd(0x1f2)](ps['name'],ao,a0_0x1ec3bd(0x1ab)),aa=require('mongoose'),hs=class{},io=new aa[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),qe=ne?.[a0_0x1ec3bd(0x1f2)](hs['name'],io,a0_0x1ec3bd(0x69f)),ia=require(a0_0x1ec3bd(0x59e)),oo=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),oa=_0x5dd3d6=>{const _0x3d6fd8=a0_0x1ec3bd;let _0x5bcfdf='z_'+_0x5dd3d6+_0x3d6fd8(0x37f);return $?.[_0x3d6fd8(0x1f2)](_0x3d6fd8(0x187),oo,_0x5bcfdf);},ra=require('mongoose'),gs=class{},ro=new ra[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),na=$?.[a0_0x1ec3bd(0x1f2)](gs[a0_0x1ec3bd(0x6fa)],ro,a0_0x1ec3bd(0x2d6)),ca=require(a0_0x1ec3bd(0x59e)),ms=class{},la=new ca[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});la[a0_0x1ec3bd(0x6f2)]('save',function(_0x3c26aa){const _0x403668=a0_0x1ec3bd;delete this[_0x403668(0x5ac)],delete this[_0x403668(0x8f)],delete this[_0x403668(0x34a)],delete this[_0x403668(0x148)],delete this[_0x403668(0x6ab)],_0x3c26aa();});function a0_0x1c6d(_0x284d16,_0x18431d){const _0x46ed76=a0_0x46ed();return a0_0x1c6d=function(_0x1c6dcd,_0xae9f64){_0x1c6dcd=_0x1c6dcd-0x7e;let _0x4dbeaa=_0x46ed76[_0x1c6dcd];return _0x4dbeaa;},a0_0x1c6d(_0x284d16,_0x18431d);}var ua=$?.[a0_0x1ec3bd(0x1f2)](ms[a0_0x1ec3bd(0x6fa)],la,'webhook'),_=require(a0_0x1ec3bd(0x59e)),fs=require(a0_0x1ec3bd(0x202)),Ve=class{},pa=new _[(a0_0x1ec3bd(0x1e2))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ws=new _[(a0_0x1ec3bd(0x1e2))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new _[(a0_0x1ec3bd(0x1e2))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x1ec3bd(0x3b0)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1ec3bd(0x1fc)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ha=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new _[(a0_0x1ec3bd(0x1e2))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new _[(a0_0x1ec3bd(0x1e2))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ss=new _[(a0_0x1ec3bd(0x1e2))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new _['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ga=new _[(a0_0x1ec3bd(0x1e2))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ma=new _['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=class{},fa=new _[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ss],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[ws],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x346d68=a0_0x1ec3bd;return _0x346d68(0x1e0)+Math[_0x346d68(0x323)]()[_0x346d68(0x51d)](0x24)[_0x346d68(0x58a)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1ec3bd(0x209)},'startID':{'type':String,'default':()=>(0x0,fs['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,fs['v4'])()},'shareOwners':{'type':[String],'default':[]}});fa[a0_0x1ec3bd(0x6f2)](a0_0x1ec3bd(0x3af),function(_0x21bd6c){const _0x17dbd3=a0_0x1ec3bd;let _0x426af0=this[_0x17dbd3(0x622)]();if(_0x426af0&&typeof _0x426af0==_0x17dbd3(0x2c3)&&_0x17dbd3(0x50d)in _0x426af0){let _0x5a05b9=_0x426af0['$set'];if(_0x5a05b9){let _0x64cdf3=new Set(),_0xdd51ac=new Set(_0x5a05b9[_0x17dbd3(0x19f)]?.[_0x17dbd3(0x6ef)](_0x3d6e9a=>_0x3d6e9a[_0x17dbd3(0x6fa)])),_0x5c1503=JSON['stringify'](_0x5a05b9),_0x454011=/{{(?!_)([^}]*)}}/g,_0x413995;for(;(_0x413995=_0x454011['exec'](_0x5c1503))!==null;)_0xdd51ac[_0x17dbd3(0x5a1)](_0x413995[0x1])||_0x64cdf3[_0x17dbd3(0x5a3)](_0x413995[0x1]);_0x64cdf3[_0x17dbd3(0x2ab)]>0x0?(console[_0x17dbd3(0x717)](_0x17dbd3(0x179),Array[_0x17dbd3(0x4e0)](_0x64cdf3)),_0x5a05b9['variablesNotFound']=Array[_0x17dbd3(0x4e0)](_0x64cdf3)):_0x5a05b9['variablesNotFound']=[],this[_0x17dbd3(0x1de)]({'$set':_0x5a05b9});}}_0x21bd6c();});var ye=$?.[a0_0x1ec3bd(0x1f2)](ys[a0_0x1ec3bd(0x6fa)],fa,a0_0x1ec3bd(0x721)),po=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ss],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new _[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ss],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[ws],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1ec3bd(0x6e9)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1ec3bd(0x329)},'waitingMenu_replyOptions':{'type':[ws],'default':[]}}),wa=_0x147d53=>{const _0x26aedd=a0_0x1ec3bd;let _0x44ed08='z_'+_0x147d53+'_FlowHistorico';return $?.['model'](_0x26aedd(0x653),ho,_0x44ed08);},go=new _[(a0_0x1ec3bd(0x1e2))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),da=new _[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[da],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x1ec3bd(0xd7)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':da,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ya=_0x2f54b8=>{const _0x44f3e4=a0_0x1ec3bd;let _0x527b5f='z_'+_0x2f54b8+_0x44f3e4(0x445);return $?.[_0x44f3e4(0x1f2)](_0x44f3e4(0x431),mo,_0x527b5f);},bs=class{},fo=new _[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new _[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new _[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new _[(a0_0x1ec3bd(0x1e2))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x1ec3bd(0x80)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),$e=$?.[a0_0x1ec3bd(0x1f2)](bs[a0_0x1ec3bd(0x6fa)],Mo,a0_0x1ec3bd(0x1d3)),ba=require(a0_0x1ec3bd(0x59e)),Co=new ba[(a0_0x1ec3bd(0x1e2))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Sa=_0x4788c9=>{const _0x5391ee=a0_0x1ec3bd;let _0x1bb5ff='z_'+_0x4788c9+_0x5391ee(0x6b5);return $?.[_0x5391ee(0x1f2)]('LabelModel',Co,_0x1bb5ff);},T=class{constructor(_0xea763f){const _0x36f2d0=a0_0x1ec3bd;this[_0x36f2d0(0x5b1)]=_0xea763f[_0x36f2d0(0x5d6)](_0x36f2d0(0x548));}};function A(_0x3636f7){const _0x227274=a0_0x1ec3bd;let _0x4cfe85={};for(let [_0x43b146,_0xf71a6b]of Object[_0x227274(0x48b)](_0x3636f7))if(typeof _0xf71a6b=='object'&&!Array['isArray'](_0xf71a6b)){for(let [_0xdc6294,_0x5f575d]of Object['entries'](_0xf71a6b))_0x4cfe85[_0x43b146+'.'+_0xdc6294]=_0x5f575d;}else _0x4cfe85[_0x43b146]=_0xf71a6b;return _0x4cfe85;}var Ge=class{constructor(_0x2c979d,_0x34824e,_0x10dd6f,_0x220311,_0x49b98a,_0x2d8d8b,_0x4e6cf5,_0x5cb00a,_0x3f98a9,_0x2d54eb,_0x3d0a68,_0xd0b555,_0x2a3d58){const _0x5f472d=a0_0x1ec3bd;this[_0x5f472d(0x61f)]=_0x2c979d,this['chat']=_0x34824e,this[_0x5f472d(0x4e4)]=_0x10dd6f,this['cacheContact']=_0x220311,this[_0x5f472d(0x4c1)]=_0x49b98a,this[_0x5f472d(0x774)]=_0x2d8d8b,this[_0x5f472d(0x68c)]=_0x4e6cf5,this['flow']=_0x5cb00a,this[_0x5f472d(0x6a5)]=_0x3f98a9,this['label']=_0x2d54eb,this[_0x5f472d(0x4ec)]=_0x3d0a68,this[_0x5f472d(0x766)]=_0xd0b555,this[_0x5f472d(0x10b)]=_0x2a3d58;}get['dbServer'](){const _0x4df1b4=a0_0x1ec3bd;return this[_0x4df1b4(0x10b)];}},Be=class{},We=class extends T{[a0_0x1ec3bd(0x11e)](_0xfff7bf){return oa(_0xfff7bf);}async['insert'](_0x30e3ca,_0x30b45b){const _0xbcdfd1=a0_0x1ec3bd;if(_0x30e3ca[_0xbcdfd1(0x2a9)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xbcdfd1(0x11e)](_0x30b45b)[_0xbcdfd1(0x7b6)]([..._0x30e3ca]))[_0xbcdfd1(0x2a9)]};}catch(_0x1ccff8){return _0x1ccff8;}}async[a0_0x1ec3bd(0x435)](_0x8a6183,_0x5dfb5b){const _0x494b6b=a0_0x1ec3bd;try{let _0x34cfb4=this[_0x494b6b(0x11e)](_0x5dfb5b),_0x46e209=A(_0x8a6183[_0x494b6b(0x6be)]);return await _0x34cfb4['find'](_0x46e209)[_0x494b6b(0x3ba)]({'messageTimestamp':-0x1})[_0x494b6b(0x4ce)](_0x8a6183?.[_0x494b6b(0x4ce)]??0x0)['lean']();}catch{return[];}}async[a0_0x1ec3bd(0x6f4)](_0x2da72f,_0xe477c1){const _0x5ea91a=a0_0x1ec3bd;try{let _0x4d1de4=this[_0x5ea91a(0x11e)](_0xe477c1),_0x255dc6=A(_0x2da72f[_0x5ea91a(0x6be)]);await _0x4d1de4[_0x5ea91a(0x3bd)](_0x255dc6);}catch(_0xd10a59){console['error'](_0xd10a59);}}async[a0_0x1ec3bd(0x77c)](_0x256902,_0x1c8a3f,_0x176c0d){const _0x44c74b=a0_0x1ec3bd;try{let _0x17c403=this[_0x44c74b(0x11e)](_0x176c0d),_0x4b1d5e=A(_0x256902[_0x44c74b(0x6be)]);return await _0x17c403[_0x44c74b(0x3af)](_0x4b1d5e,{'$set':_0x1c8a3f},{'new':!0x0});}catch(_0x405dde){throw console[_0x44c74b(0x4e6)](_0x405dde),_0x405dde;}}async[a0_0x1ec3bd(0x7b6)](_0x266bea,_0x370c32){const _0xf09a68=a0_0x1ec3bd;if(_0x266bea['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x370c32)[_0xf09a68(0x7b6)]([..._0x266bea]))[_0xf09a68(0x2a9)]};}catch(_0x54e9da){return console[_0xf09a68(0x1d9)](_0xf09a68(0x1f9),_0x54e9da),_0x54e9da;}}async[a0_0x1ec3bd(0x677)](_0x3709f8){try{return await this['getMessageModelForOwner'](_0x3709f8)['collection']['drop'](),{'success':!0x0};}catch(_0x3c9e70){return console['error'](_0x3c9e70),{'success':!0x1,'error':_0x3c9e70};}}},Ts=R(require(a0_0x1ec3bd(0x1b9))),w=R(require(a0_0x1ec3bd(0x4f7))),De=require('fs'),L=R(require(a0_0x1ec3bd(0x46e))),Q=R(require('axios')),Ri=require(a0_0x1ec3bd(0x202)),Ai=R(require(a0_0x1ec3bd(0x4e7))),Ii=R(require(a0_0x1ec3bd(0xb7))),Ma=[a0_0x1ec3bd(0x2f3),a0_0x1ec3bd(0x674),'audioMessage','videoMessage',a0_0x1ec3bd(0x579)],Ca=[a0_0x1ec3bd(0x108),'documentWithCaptionMessage',a0_0x1ec3bd(0x6a3),a0_0x1ec3bd(0x781)],Os=require('os'),kt=R(require('pino')),Pe=require(a0_0x1ec3bd(0x65b)),Ti=require(a0_0x1ec3bd(0x7cd)),pe=R(require('mongoose')),D=require(a0_0x1ec3bd(0xc5)),ce=class{constructor(_0x204099,_0x184384,_0x1cb2d4){const _0x4179b9=a0_0x1ec3bd;this[_0x4179b9(0x4df)]=_0x204099,this[_0x4179b9(0x320)]=_0x184384,this['name']=_0x1cb2d4;}},ze=class{},He=class{},Re=class{},Ke=class{},Qe=class{},be=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Tt=R(require(a0_0x1ec3bd(0x1bf))),Ea=require('fs'),va=require(a0_0x1ec3bd(0x46e));async function Ae(_0x22a7d6){const _0x38b637=a0_0x1ec3bd;let _0x52e87e=G[_0x38b637(0x7b8)][_0x22a7d6];if(k[_0x38b637(0x520)]){let _0x251294=$[_0x38b637(0x2ad)]()['db'](k[_0x38b637(0x607)][_0x38b637(0x4b2)]+'-instances')[_0x38b637(0x48d)](_0x22a7d6);return _0x52e87e||(await _0x251294[_0x38b637(0x435)]({})[_0x38b637(0x695)]())[_0x38b637(0x2a9)]>0x0;}return _0x52e87e||(0x0,Ea[_0x38b637(0xfe)])((0x0,va['join'])(fe,_0x22a7d6));}function a0_0x46ed(){const _0x5ad2ba=['):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','testingWith','startsWith','Filtered\x20network\x20interfaces:\x20','selectableCount','}}\x20->\x20\x22','memberAddMode','replacer','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','output','setRestartTimeout','):\x20Buscando\x20todos\x20os\x20fluxos...','leadInfo','forEach','creds','$pull','text/event-stream','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','addBlock','remove','.webp','WA\x20MODULE','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','type','Cache\x20instance\x20update\x20result:\x20','startFlow','Connection\x20closed\x20for\x20instance:\x20','Instâncias\x20removidas:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','CONECTADO\x20À\x20UAZAPI','header','beforeExit','groupLeave','cacheContactModel','initAuthCreds','/media','groupUpdateSubject','#d8e651','):\x20whoCanUse\x20after\x20validation:\x20','endsWith','\x5c$&','Bad\x20Request','env','beautifyWithPlaceholders','The\x20instance\x20needs\x20to\x20be\x20disconnected','findOrCreate','status@broadcast','SERVER','digest','synchronizeAndMapFlows','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','video','store','createInstance','JWT','insertCount','maxActives','Falha\x20ao\x20processar\x20a\x20solicitação','1599714PwiDyR','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','.jwt','MESSAGES_UPDATE','https://uazapi-plugin.bubbleapps.io/?url=','\x20and\x20data:','Invalid\x20format','updateMissingCustomFields','automateSystem','all_member_add','execSync','statSync','Nenhum\x20participante\x20válido\x20encontrado.','WARN','/64\x20dev\x20','src','listResponseMessage','licenca','/instance','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','scheduleSendMedia','toUpperCase','auth','.ogv','IP\x20mismatch:\x20configured\x20','findManyByIds','writeData','ERROR','lastInteraction','#d3a91f','update','text','connecting','request\x20received\x20in\x20updateCustomFields','\x20chats\x20de\x20','viewOnceMessageV2','\x20minutos','TEXT','catch','encoding','messages.upsert','Data\x20inválida\x20fornecida','editScheduleMessage','moreLogs','video-cover.png','contacts.update','tags','displayName','release','load','\x27\x20não\x20encontrado','Router','updateMissingEtiquetas','):Trying\x20to\x20get\x20business\x20profile','convertedOptions','):\x20nextBlock.uazapi.name','/config','/events/:instance','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','exec','VERBOSE','delayChatLabel_RETRY_DELAY_MS','REDIS_ENABLED','*\x0a\x0a','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','[AUTH]\x20Database\x20is\x20not\x20enabled','hasOwnProperty','processvaredits','splice','contactsArrayMessage','findGroup','content','connectedName','imported',',\x20received\x20','restartInstance','uazapiSendMenu','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','verbose','Module\x20-\x20ON','\x20minutos\x20verificará\x20novas\x20mensagens','Error\x20while\x20deleting\x20message\x20for\x20everyone','Valor\x20da\x20URL\x20recuperada:','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','processingGroup','findContacts','):\x20leadInfoVariables','insertMany','logger','waInstances','application/json','message_normalized','buttons','getReadyToSendMessages','Erro\x20ao\x20editar\x20a\x20conversa','color','chat','Not\x20Found','unlinkSync','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20newFirstValue\x20após\x20replaceVariables:','phoneNumber','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','configureIPv6','verifiedName','replaceValue','updateFlowConfig','updateProfilePicture','groupJoinApprovalMode','Chat\x20com\x20ID\x20','node-mime-types','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Erro\x20ao\x20atualizar\x20o\x20fluxo:','!stop','inner','verify','sendStatus','readMessage','Internal\x20Server\x20Error','replyOption','delayChatLabel','/chat','pushName','MESSAGES_SET','decryptPollVote','Read\x20messages','instanceCount','pollCreationMessage','flowIgnoreGroups','audio/ogg','Bloco\x20com\x20ID\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','hDel','address','FlowController','subjectTime','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','normalizeMessage','createServer','/media/','document','\x1b[36m','buffer','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','groupRequestParticipantsList','convertToWebP','available','hGet','variablesToObject','sendLocation','deleteChat','reject','stopIfLastReturnedError','notas','command','groupUpdateDescription','global','writeFile','.ppt','editedMessage','@s.whatsapp.net','convertaudioMP3','audioMessage','Fluxo\x20id\x20\x27','Telefone:\x20','axios','generateWAMessageFromContent','https://ipv6.jsonip.com','qrcode-terminal','METHODS','generate','request\x20received\x20in\x20editFlowcondition','sendAudio','updatePresence','whoCanUse','repository','backgroundColor','blocks','createJid','errors','361035fTdtFJ','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','class-validator','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','sleep','):\x20Criando\x20fluxo\x20compartilhado...','replaceVariablesLogs','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','envYaml','delaySecMax','ipv6Prefix','getConversationModelForOwner','chats','chats.delete','mentions','Fluxo\x20não\x20encontrado\x20na\x20memória.','deleted','Request\x20Body:','Contacts\x20not\x20found','Not\x20is\x20business\x20profile','scheduled',',\x20lastCondition:\x20','local_map','getNextPendingMessage','leadInfo.etiquetas','stopConversation','getValidWhatsAppNumbers','endSession','updateOneById','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','extractMessageContent','dbConnection','cpf','uazapiSendMedia','url','getVariablesChat','editMessagesInGroup','loadInstance','Not\x20allowed\x20by\x20CORS','equal','^\x5cd+([-]\x5cd+)*@g.us$','lastCondition','matchRegex','notEqual','uncaughtException','groupValidate','DARK','padEnd','arrayUnique','PROXY','):\x20Editando\x20replyOption...','/wa-groups','AUTHENTICATION_TYPE','/wa-connection-update','clearVariables','https://chat.whatsapp.com/','profile','StartBot','formatVCard','existsSync','sha256','application/octet-stream','contextInfo','chatId','send','deleteMessage','array','match_last_seen','):\x20Fluxo\x20\x27','ephemeralMessage','GROUPS_UPDATE','deleteFlow','dbClient','upsertChats','reorderMessages','buttonText','exports','6025760ejPcAh','Erro\x20ao\x20tentar\x20updateCustomFields','config','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','_pushName','\x20segundos\x20antes\x20de\x20reconectar...','getBusinessProfile','lean','code','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','remoteJids','app-state-sync-key','groupSettingUpdate','):\x20ev.flush\x20realizado','getMessageModelForOwner','flowConfig','pollErrorMessage','expiration','Error\x20fetching\x20group','mediaMessage','createHash','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Erro\x20ao\x20editar\x20agentes','autoCompleteMessages.command','mentioned','1487722oiBaba','ON\x20-\x20dbName:\x20','width','findGroups','Erro\x20ao\x20atualizar\x20o\x20flow.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','DELETED','greater','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','updateChatGroupData','getDelay','STORE_CLEANING_TERMINAL','scheduleSendAudio','restart','Detalhes\x20do\x20erro:','editFlowReply','console','API\x20Key\x20from\x20Request:','defineProperty','ip6eui','shareFlow','parseInt','end','../env.yml','\x0a{\x20instance:\x20','promote','onTime','state','editflowvariable','instanceName','flowStopConversation','json','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','CHATS_UPDATE','authService','messageHandle','):\x20customFieldVariables',',\x20pairCode:\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','participant','notMatchRegex','connectedClient','):Processing\x20audio','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','pollMessageOnDelete','ff:fe','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','messageStubParameters','markMessageAsRead','saveTextReply','PLAYED','findFlow','):\x20Ler\x20mensagem','contains','normalizeMessageContent','/exit','scheduleFlow','BufferJSON','chats.set','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','media','\x1b[32m%s\x1b[0m','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','Erro\x20inesperado\x20em\x20processvaredits:\x20','_id','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Alterando\x20fluxo...','\x22\x20cannot\x20be\x20empty','picture','^\x5cd+','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','GROUPS_UPSERT','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','URL\x20não\x20disponível','networkInterface','/instance/fetchInstances','cleanStore','Variáveis\x20não\x20encontradas:','updateProfileStatus','remote\x20\x22origin\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','atendimentoAberto','groupId','contactHandle','):\x20Limpando\x20AutomateSystem','):\x20Iniciando\x20scheduleNextExecution.','request\x20received\x20in\x20updateAgent','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','protocolMessage','mediatype','sendText','MessageModel','activatedCount','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','\x20minutos...','SSL_CONF_PRIVKEY','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','):Getting\x20image\x20from\x20url','connectToWhatsapp','ex:\x20\x22groupJid=120362@g.us\x22','requestPairingCode','\x20não\x20encontrado\x20para\x20cópia','number','dropCollection','instanceName\x20not\x20provided.','choices','keys','p-queue','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','env.KEY\x20!==\x20key','):\x20Deletando\x20mensagem','charAt','vote','addReplyOption','variables','):\x20Conversa\x20está\x20expirada\x20-\x20voto','updateStatusPrivacy','isValidIPv6Config','events','buttonId','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','basename','abs','chatLog','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','transformScheduledMessagesByType','ContactsAndGroups','reaction','firstValue','):\x20Enviando\x20contato','creds.update','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):Sending\x20audio\x20whatsapp','request\x20received\x20in\x20deleteFlow','):\x20Criando\x20fluxo...','isBase64','profilePicture','\x20quoted:\x20','extractRegex','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','@ffmpeg-installer/ffmpeg','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','/instance/connect','delayMessage','MAX_SAFE_INTEGER','whatsappNumber','express','):\x20\x27Enviando\x20texto\x20para\x20\x27','menuExpiredMessage','startCommand','stateConnection','isURL','):\x20whoCanEdit\x20before\x20validation:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','jsonwebtoken','authorization','):\x20[messages.update]\x20group\x20ignored','):\x20\x27Deletando\x20fluxo,\x20id:\x20','startCommandWord','groupJid','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Limpando\x20logs\x20do\x20PM2...','\x20mensagens\x20de\x20','\x20instance\x20does\x20not\x20exist','URL','Configuração\x20SSL\x20recuperada:','AutomateSystem','deleteImportedChat','Retornando\x20grupos\x20SEM\x20cache','messaging-history.set','createConversationforStartFlow','Imagem\x20não\x20encontrada','log','ephemeralExpiration','INFO','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','repeat','setUpdate','hGetAll','!cmd_','indexOf','Schema','request\x20received\x20in\x20createFlow','):\x20error:\x20','):\x20sender\x20=\x20number:\x20','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','groupToggleEphemeral','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','https://','FULLCHAIN','chats.upsert','PASSWORD','\x20minutos.\x20Será\x20às\x20','statusCode','no.connection','DisconnectReason','model','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','findGroupInfo','):\x20Error\x20processing\x20conditions:\x20','groupInviteCode','ERROR:\x20','toDataURL','):\x20Enviando\x20mídia','Selecione','canSendMessage','blockId','editflowcondition','fetchStatus','findAndUpdateCacheContact','uuid','addresss','findGroupsEspecial','):\x20Chat\x20','.svg','apiResponse','-instances','false','urlOrBase64','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','#00a1f2','author','updateAll','Types','Erro\x20ao\x20editar\x20o\x20chat','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','isCommunity','\x5cd+','DATABASE_CONNECTION_PASSWORD','stderr','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','XX:XX:XX:XX:XX:XX','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Stack\x20trace:','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','stack','jpegThumbnail','responsavelid','request\x20received\x20in\x20editFlow','Log\x20out\x20instance:\x20','lastMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Pausado\x20por\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','):\x20Flow\x20desativado','muteEndTime','next_groupId','34590mOTCnl','@broadcast','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','redirect','Content\x20is\x20required','rowId','none','ReplyOption\x20com\x20ID\x20','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','sendReaction','setWebhook','everyOne','stanzaId','telefone','IPv6\x20Prefix\x20detected:\x20','RemoteJid:','_p_','webhookMap','downloads','changeVariables','):\x20Going\x20to\x20','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','done','Logger','method','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','IP\x20confirmed:\x20','addChatLabel','):\x20tem\x20blocks','padStart','mediaKey','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','when','approve','superadmin','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','spawn','mongodb','updateChatWithMessage','locationMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','saveVariable','test','redis://127.0.0.1:6379','awaitingApproval','prepareMediaMessage','shift','groupdata','LOG_COLOR','SINGLE_SELECT','generateHash','ButtonsMessage','processgoToFlow','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):including\x20timestamp\x20in\x20url:\x20','/wa-message-update','pictureUrl',',\x20fará\x20nova\x20verificação\x20em\x20','Message','updateGParticipate','CONTACTS_SET','SECRET','set','REDIS_URI','messageId','desativadoFluxoAte','Erro\x20ao\x20alterar\x20fluxo','nomecompleto','/events','archive','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','SERVER_ACK','saveMediaToFile','GUARD','online','READ','fetchProfilePicture','archived','updateMessage','Generated\x20IPv6:\x20','240012FrspLw','chats.update','allflows','Last\x20message\x20not\x20found\x20for\x20number:\x20','localWebhook','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','isJidBroadcast','quoted','debug','contact_blacklist','Erro\x20ao\x20importar\x20chats','importChatsBatch','pollUpdateMessage','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','pm2\x20flush','Fluxo\x20agendado\x20pelo\x20fluxo\x20','goNextblock','Garbage\x20collection\x20não\x20está\x20disponível.','stopWhenYouSendMsg','/wa-all-message','cwd','SUCCESS','/webhook','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','loadEnv','Subdomínio\x20extraído\x20da\x20URL:','updateGroupWebhook','call','replaceVariables','HOST','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','deleteInstance','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','saveCreds','ip\x20-6\x20addr\x20show\x20dev\x20','deleteOne','revokeInviteCode','close','):\x20Deletando\x20conversa...','sections','apply','length','\x1b[44m','size','.fileUrl','getClient','buttonMessage','SendScheduleMessage','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','menuMessage','replace','isCommunityAnnounce','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','promisify','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','Subscribed\x20Events:','unreadCount','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','jwt','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','fetchContacts','envProcess','.mp3','\x1b[37m%s\x1b[0m','last','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','customFields','object','flattenObject','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','request\x20received\x20in\x20getFlow','substring','temp-','stopped','error\x20get\x20vote','.xls','Close\x20connection','leaveGroup','this.reconnectAttempts:\x20','cacheContact','preview','reconnectAttempts','Resultado\x20da\x20correspondência\x20de\x20URL:','SERVER_TYPE','checkAndRestartProcess','STORE_CHATS','authentication','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','PRODUCT_LIST','reference','mediaSticker','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','groups','updateGParticipant','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','https','dropIndex','}}\x20->\x20valor\x20não\x20encontrado','importChatsAntigo','https://v6.ident.me','\x1b[34m%s\x1b[0m','shareOwners','readMessageBot','toLocaleString','Erro\x20ao\x20buscar\x20fluxos:','getflow','emit','cleaningUp','convert','trim','admin','Fluxos\x20não\x20estão\x20ativados','findOne','blockLogs','imageMessage','and','image','):\x20enviado\x20para\x20[','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','views','updateOne','joinApprovalMode','processConditions','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','#64c4ff','#9ab6c1','pollCreationMessageV2','username','fetchProfile','Error\x20adding\x20IPv6\x20address:\x20','\x20-i\x20','uazapi','FlowRouter','Erro\x20ao\x20deletar\x20mensagens:','option','conditions','sendMessageWithTyping','AUTHENTICATION','function','flows','parse','Início','\x1b[40m','.jpg','#fe9dfe','Erro\x20ao\x20criar\x20fluxo','ip:\x20','\x20do\x20chat\x20','connectionUpdate','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','messages.update','stopMinutes','save','prototype','getAutomateSystem','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','createFlow','optionName','RECONNECT_TIME_FRAME','exists','):\x20Buscando\x20flow,\x20id:\x20','URL:','random','getContentType','-whatsapp-api','groups.update','realVariables','pollCreationMessageKey','Esse\x20fluxo\x20expirou','statusJidList','editChat','delAll','some','waitingMenu_id','54LYHlip','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','myAppStateKeyId','ObjectId','leadInfo.atendimentoAberto','https://ifconfig.me/ip','findChats','Instance\x20deleted','menuType','conversation','fetchPrivacySettings','routerPath','):\x20Label\x20','request\x20received\x20in\x20editConversation','updateGroupPicture','1eRganS','joinGroupValidate','inet6','\x20com\x20sucesso.','API_KEY','statusMessage','conversationTimestamp','groupSetting','notContains','sending','flowPrefixCommand','Não\x20respondeu\x20com\x20a\x20enquete.','ignoreGroups','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','#83e421','redisEnv','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','fileLength','globalShow','Error\x20parsing\x20JSON:','del','flushHeaders','sendPoll','recording','createAndSave','http','Removidas\x20as\x20variáveis:\x20','group','groupGetInviteInfo','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','DEBUG','Mensagens\x20deletadas\x20com\x20sucesso.','processApiRequest','creation','chatHandle','LOG_LEVEL','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','isConnected','stopMinutesMaxActives','unhandledRejection','senderKeyDistributionMessage','Instance\x20Key\x20from\x20DB:','getLastMessage','linkPreview','subject','sendContact','/clients-info','query','presence','):\x20conversation.waitingMenu_name','notify','labelId','Parando\x20aplicação,\x20atualização\x20recebida','):Image\x20is\x20url','boolean','toBRL','Erro\x20ao\x20iniciar\x20o\x20fluxo.','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','findWebhook','authModel','updateCustomFields','getProfileName','findConversation','_Messages','truncatedtoEnd','folder','getChatModelForOwner','):Converted\x20image\x20deleted','demote','cachedContact','__esModule','https://api.openai.com/v1/images/generations','deleteDoneMessages','eventEmitter','connectToWhatsappController','\x1b[30m','eventHandler','authState','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','CLEANING_INTERVAL','reviver','Database\x20update\x20result:','client','removeIPv6','):\x20Falha\x20ao\x20deletar\x20mensagem.','waMonitor','updateGroupParticipantsWebhook','getAllData','updateMany','groupHandler','EXPIRIN_IN','groupDesc','includes','noConnection','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','enabled','presenceSubscribe','API\x20Key\x20inválida.','):\x20Editando\x20edição\x20do\x20fluxo...','notEmpty','context','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','Partes\x20do\x20domínio:','Button\x20texts\x20cannot\x20be\x20repeated','messageType','_error','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','connectionStatus','Error\x20finding\x20many\x20contacts:','loadWebhook','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','findOneAndUpdate','list','saveConversationToDatabase','$addToSet','util','toLowerCase','updateStopChat','Network\x20interfaces\x20detected:\x20','pollMessage','SSL_CONF_FULLCHAIN','Erro\x20ao\x20buscar\x20o\x20fluxo','sort','USER','\x0aitem','deleteMany','saveChatVariables','):Image\x20converted\x20to\x20WebP','_sender','Novo\x20IP\x20criado:\x20','leadInfo.desativadoFluxoAte','):\x20teve\x20mudanças\x20chat.archived:\x20','Configured\x20IPv6:\x20','URI','):\x20Enviando\x20áudio','bateu\x20events','retrySendMessage','):\x20conversation.lastInteraction:\x20','fetchLatestBaileysVersion','condition','waitingMenu_ExpiredMessage','Erro\x20ao\x20copiar\x20o\x20documento','unreadcount','fetchBusinessProfile','editflowblock','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','getDevice','sendMedia','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','textMessage','lastReceivedMessage','TYPE','):\x20Enviando\x20localização','Validate','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','height','):Audio\x20processed','pt-BR','format','deleteReplyOption','agents','fromMe','copyBlock','):\x20Conversa\x20inserida\x20com\x20sucesso.','CacheContacts\x20database\x20connection\x20closed.','request\x20received\x20in\x20scheduleMessage','sendDataWebhook','title','labels.edit','.error','HeaderType','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','messageContextInfo','sendPresenceUpdate','):\x20Ignoring\x20group\x20messages.','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Cache-Control','#6f7bcf','instancias:\x20','#f64847','push','user','item','timeInMinutes','description','formatBRNumber','Background\x20color\x20is\x20required','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','values','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','RemoveChatLabel','instanceKeys','unknown\x20operation\x20type\x20[','SERVER_PORT','rm\x20-rf\x20','PORT','testIPv6','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','findById','reduce','GET','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','createWebhook','\x20\x1b[0m','true','WebhookGlobal',',\x20isAdmin:\x20','):\x20Entrou\x20na\x20função\x20clearVariables','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','):\x20não\x20encontrou','nome','idSchedule','StatusJidList\x20is\x20required','\x20não\x20encontrado','Número:\x20','status.instance','max','minutesToClose','Falta\x20informação\x20para\x20a\x20chamada\x20API','downloadMediaMessage','lastSendMessage','validate','):Audio\x20converted\x20and\x20stored\x20in\x20cache','lastRealGroupsFetch','The\x20\x22','Usando\x20IP\x20existente:\x20','enumerable','isInteger','varedits','Valor\x20de\x20find\x20ou\x20replace\x20ausente','sim','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','\x1b[33m\x1b[1m','importChats','getFlow','all','findIndex','ScheduleMessageModel','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','filter','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','find','Type\x20is\x20required','Mac\x20OS','Erro\x20ao\x20atualizar\x20agendamento\x20','lastFetchAwaitingApproval','ContactModel','?timestamp=','insert','ip\x20-6\x20addr\x20del\x20','participants','Primeiro\x20Valor:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','body','default','):Type\x20defined\x20as\x20audio','\x1b[34m','_ScheduleMessages','sendMenu','findMany','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:',',\x20Comparador:\x20','getMessage','readData','isJidGroup','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','content-type','findAndReplaceRegex','now','removeIPv6ById','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','refused','DATABASE_CONNECTION_USER','sendMessage','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','varedit','listen','labels.association','convertaudio','composing','/create','caption','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Missing\x20global\x20api\x20key','fullName','contacts','\x20segundos','findAndReplace','createNewConversation','label_jid','updatePrivacySettings','PENDING','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','apikey','proto','removeChatLabel','toNumber','Erro\x20ao\x20inserir\x20chats:','path','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Flow\x20iniciado\x20com\x20','editFlowGroup','resetReconnectionVariables','isJWT','randomMac','loggedOut','cache','empty','round','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/wa-chats','groupFetchAllParticipating','getTime','processUazapi','remoteJid','Conexão\x20estabelecida','ms\x20(tentativa\x20','group-participants.update','replyOptions','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','useMultiFileAuthState','updateProfileName','createSectionsFromValues','proxy:\x20','SERVER_OFFLINE','post','pollCreationMessageV3','entries','Error\x20updating\x20cache\x20contact:','collection','):\x20Adicionando\x20\x27','):\x20Query\x20params:','Deleted\x20','less','iniciando\x20fluxo\x20router','PRESENCE_UPDATE','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','request\x20received\x20in\x20fetchConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','isAdmin','CORS','privacySettings','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','_activedCount','Operador:\x20\x22','CHATS_DELETE','fetchChats','\x20}\x0a','\x20:\x20','oldValue','\x20não\x20encontrado\x20para\x20atualização.','\x20ao\x20chat\x20','eventemitter2','\x1b[0m','):\x20Flow\x20\x27','originalUrl','\x27\x20removido\x20do\x20AutomateSystem.','AddChatLabel','webhookService','off','pow','silent','editFlowBlock','request_time','DB_PREFIX_NAME',',\x20Segundo\x20Valor:\x20','replaceOne','groupMetadata','\x20-y','processReadyMessages','evaluateConditionTest',',\x20Resultado:\x20','The\x20property\x20cannot\x20be\x20empty','listType','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','):\x20Query\x20params:\x20','./.git/config','hex','split','webhook','fetchLabels','reactionMessage','chatModify','connect','crypto','#9ba6ff','):\x20Iniciando\x20scheduleNextCheck.','sign','Error\x20removing\x20IPv6\x20address:\x20','\x1b[32m','):\x20updateResult:','docker','limit','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','\x22\x20-\x20NOT\x20CONNECTION','contacts.upsert','sendButtons','deleteBlock','cachedContacts-whatsapp','#ffae04','drop','):\x20alterando\x20this.AutomateSystem','success','CONNECTION_UPDATE','Esse\x20fluxo\x20não\x20permite\x20importação.','\x27\x20do\x20banco\x20de\x20dados...','#000000','key','vcard','jid','from','):\x20','):\x20Entrou\x20na\x20função\x20stop','unlocked','contact','getScheduleMessage','error','qrcode','modifiedCount','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','archiveChat','DOCKER_ENV','scheduleMessage','createflow','poll','_fromMe','whoCanEdit','):\x20Removendo\x20\x27','fetchInstances','getLabelModelForOwner','.gif','request\x20received\x20in\x20deleteDoneMessages','findAll','@whiskeysockets/baileys','50mb','CONTACTS_UPSERT','Erro\x20na\x20função\x20updateChatWithMessage:\x20','deleteConversation','reconnectTimestamps','jsonschema','timeout','status','scheduleNextExecution','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','rows','min','Erro\x20ao\x20alterar\x20privacidade','https://api.ipify.org?format=json','detail','autoCompleteMessages','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','flowName','\x20depois\x20','sendSticker','#ffffff','$set','Instância\x20não\x20encontrada.','StartID:','logout','readreceipts','TEL','groups_ignore',']\x20(','/message','public','request\x20received\x20in\x20editFlowvariable','put','write','\x1b[1m\x1b[37m','IPv6\x20addresses\x20detected:\x20','.url','toString','#fed428','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','ENABLED','REDIS','PREFIX_KEY','restrict','valid','):\x20Buscando\x20conversas...','request\x20body:\x20','CREDENTIALS','paused','errorLog','https://github.com/uazapi/uazapi.git','hSet','Falhou\x20ao\x20encontrar\x20chat\x20','ListMessage','data:\x20','\x1b[47m','REDIS_PREFIX_KEY','):\x20Enviando\x20enquete','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','count','headerString','):Archiving\x20chat','queue','isValidAndUniqueIPv6','groupadd','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','app','):\x20atualização\x20chat:\x20','SSL_CONF','):\x20Editando\x20grupo\x20do\x20fluxo...','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','isListOfNumbers','reorderReplyOptions','SEND_MESSAGE','):\x20Envio\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','findRealGroups','removeUnusedChatFields','footerText','Error\x20updating\x20message\x20status:','imagechat','DATABASE','createIPv6','readFileSync','profilePictureUrl','optionDescription','truncatedto','webhookModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','editflowvaredit','Comando\x20desconhecido','unavailable','mkdirSync','PRIVKEY','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','fone','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20\x27Enviando\x20audio\x20para\x20\x27','uazapiDeleteMessage','Rótulo\x20deletado:\x27,\x20','Conversa\x20deletada\x20com\x20sucesso.',',\x20global:\x20','CHATS_UPSERT','sectionsToString','Erro\x20ao\x20remover\x20label\x20','processblock','audio/ogg;\x20codecs=opus','cacheInstanceRepository','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas.\x20Iniciando\x20processReadyMessages.','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','chat\x20não\x20encontrado','binary','joinGroup','toggleEphemeral','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','arraybuffer','pendingMessages','ScheduleMessage','requestFile','upperCase','messageTimestamp','value','):\x20Editando\x20variável\x20do\x20fluxo...','ORG:','IPv6\x20address\x20removed:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Nenhum\x20chat\x20encontrado\x20para\x20editar.','https://jsonip.com','stickerMessage','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','options','\x1b[1m','):Delete\x20chat','sharePass','):\x20delete\x20=\x20true','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','editConversation','floor','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Parando\x20aplicação...','descOwner','data','):\x20Conversa\x20está\x20expirada','.ogg','express-async-errors','slice','reorderBlocks','Partes\x20do\x20caminho\x20FULLCHAIN:','AppStateSyncKeyData','findParticipants','.doc','\x27...','Db\x20Connection','uazapiSendAudio','getScheduleMessageModelForOwner','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','response','instanceInfo','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','dbInstance','Variável\x20não\x20encontrada!','.docx','base64','DaysToDelete','mongoose','AUTHENTICATION_API_KEY','Nenhum\x20fluxo\x20correspondente\x20encontrado.','has','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','add','flow','profileName','lastBlockId','convertToString','E-mail:\x20','integer','NextBlock','delayChatLabel_MAX_RETRIES','flowActive','):Image\x20path:\x20','setNewValue','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','):\x20lastBlockId:\x20','dbSettings','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','https://api.elevenlabs.io/v1/text-to-speech/','not_announcement','Erro\x20ao\x20encerrar\x20a\x20API','generateRandomIPv6','dataValidate','stringify','The\x20','Flow\x20\x27','match','):\x20Comando\x20desconhecido:\x20','/wa-message','Erro\x20de\x20atualização:\x20','label','.png','Instance\x20logged\x20out','defineAuthState','):Error\x20in\x20converting\x20audio','router','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','http://checkip.dyndns.org','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','utf-8','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','getOwnPropertyDescriptor','uazapiSendContact','keyPattern','getUniqueFlowName','params','msgRetryCounterCache','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Type\x20not\x20found','closed','6VAdKat','LICENSE_INVALID','get','font','long','audioWhatsapp','writeFileSync','website','deletedCount','leadInfo.','):\x20Entrou\x20na\x20função\x20goToFlow','replaceVariablesChat','updateBlock','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','scheduleNextCheck','role','\x22\x20-\x20REMOVED','):\x20Error\x20processing\x20the\x20block:\x20','2222SJoCEN','getOwnPropertyNames','enviado\x20para','\x1b[31m%s\x1b[0m','setting','goToFlow','updateAgent','latitude','sendMessageAck','isRunning','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','request\x20received\x20in\x20allFlows','):\x20[messages.upsert]\x20group\x20ignored','verifyWhatsAppNumber','variable','throwAndLogError','exit','creds.json','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','delay','replaceVariablesInReplyOptions','findByIdAndUpdate','editFlowCondition','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Limpando\x20delayMessage','):\x20Criou\x20conversa\x20no\x20startFlow','Error\x20in\x20scheduleNextCheck:\x20','request\x20received\x20in\x20getAutomateSystem','Database\x20connection\x20closed.','):\x20Entrou\x20na\x20função\x20scheduleFlow','mimetype','CONNECTION','fileName','pairingCode','Deletion\x20failed','allContacts','Database\x20is\x20not\x20enabled','\x1b[37m','owner','Erro\x20ao\x20adicionar\x20label\x20','HH:mm:ss','uazapiSendText','fetchMessages','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','applyvaredit','assign','interval\x20não\x20é\x20um\x20número','/group','#9568cf','sendList','wuid','removeProfilePicture','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','updateAutoCompleteMessages','contactMessage','message','removeInstance','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','getUpdate','organization','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','qrCode','.extension','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','$dbName','messages','.\x20Aguardando\x20','bodyStringErrorParse','contentText','toBrazilianNumberFormat','locked','deviceSentMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Erro\x20ao\x20iniciar\x20fluxo:\x20','pop','startFlowWebhook','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','block','webp','secondValue','):Business\x20profile\x20fetched','numbers','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','#56ccb4','bulkWrite','create','g-t','ini','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','Cannot\x20','view\x20engine','Group\x20not\x20found','Tentando\x20reconectar...','presence.update','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','scheduleSendText','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','isArray','):\x20Grupo\x20','headers','instance.','triedToSend','Erro\x20ao\x20aplicar\x20varedit:\x20','getStatus','):\x20Não\x20achou\x20nenhum\x20flow','Mensagem\x20não\x20suportada','ConversationModel','No\x20suitable\x20network\x20interface\x20found','updateReadReceiptsPrivacy','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','newStoppedUntil','bodyString','Falha\x20ao\x20recriar\x20IPv6.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','child_process','longitude','waitingMenu_text','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','?authSource=admin&readPreference=primary&directConnection=true','created','storePath','send.message','getBase64FromMediaMessage','editFlowVaredit','STATUS_INSTANCE','):Notifying\x20clients\x20for\x20chat:\x20','):\x20Editando\x20mensagens\x20no\x20grupo...','copy','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','Authentication\x20error','capitalizedWords','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','lastSend','groupAcceptInvite','readMessages','.pdf','userDevicesCache','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','/instance/create','documentMessage','editflowreply','ListType','deleteAll',',\x20saindo.','removeData','MESSAGES_UPSERT','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','ChatModel','action','pollOnReplyDelete','getContactModelForOwner','prepareWAMessageMedia','):\x20Rótulo\x20atualizado:\x20','setHeader','#ff9484','CORS_ORIGIN','dayjs','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','\x20contacts','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','\x20removido\x20do\x20chat\x20','groupMemberAddMode','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20envio\x20imediato.','instance','):Output\x20path:\x20','):\x20Criando\x20nova\x20conversa[createNewConversation]','):Image\x20created','createConnection','fromObject','Retornando\x20grupos\x20COM\x20cache','join','Safari','toArray','OrAnd','connection.update','bearer','Instância:\x20','/*.json',',\x20valor\x20passado:\x20\x22','cacheInstanceModel','[all]','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','instances','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','#92ceac','audio','viewOnceMessage','start','flowConversation','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','sendWhatsAppAudio','CONTACTS_UPDATE','\x1b[42m','toFile','flowStopMinutes','editOperator','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','closeExistingConversations','Atualização:\x20','QRCODE_UPDATED','):\x20Buscando\x20flow...','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','selectedOptions','addMessagesToGroup','_Labels','groupRevokeInvite','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','InstancesAlterarTodas','process','Error\x20in\x20chatModify\x20for\x20number\x20','listMessage','updateMediaMessage','where','.type','_Chats','updateConversation','AutomateSystem\x20não\x20foi\x20inicializado','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','.\x20Pulando.','fileUrl','groupName','announce','dark','etiquetas','Erro\x20ao\x20buscar\x20Schedule\x20Messages','email','setContext','request\x20received\x20in\x20editFlowgroup','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','LOG','BRL','static','Instance\x20Name:','AutomateFunctions','lowerCase','KEY','replaceVariablesInObject','getTicketSystem','createConversationforgoToFlow','order','isJidUser','newValue','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','redis','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','AddUserFlow','mongodb://','processclearVariables','editFlowVariable','connectionState','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','.webm','createGroup','open','Erro\x20ao\x20atualizar\x20cacheInstance:','info','recebido\x20de','editFlow','CHATS_SET','map','configService','readdirSync','pre','createOrUpdate','delete','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','waitingMenu_replyOptions','formatStatusMessage','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','startID','name','groupParticipantsUpdate','lastUpdate','apirequest','URL\x20completa:','sem\x20texto\x20na\x20mensagem','.mp4','request\x20received\x20in\x20updateFlowConfig','inviteCode','namespace','DELIVERY_ACK','Instance\x20\x22','Instance\x20restarted','https://uazapi-plugin.bubbleapps.io/','dbServer','collections','fetchConversation','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','4822867FOyPXc','expression','delaySecMin','--------------------------------------','@g.us','getConversation','qrcode.updated','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','groupBetterSetting','GROUP_PARTICIPANTS_UPDATE','string','warn','groupRequestParticipantsUpdate','whatsappNumbers','announcement','extractPhoneNumber','processawaitSeconds','/wa-contacts','findMessages','use','segundos','allFlows','groups.upsert'];a0_0x46ed=function(){return _0x5ad2ba;};return a0_0x46ed();}async function Na(_0x254ac2,_0x246185,_0xf9d594){const _0x3388a1=a0_0x1ec3bd;if(_0x254ac2[_0x3388a1(0x4a9)][_0x3388a1(0x39c)](_0x3388a1(0x673))||_0x254ac2['originalUrl'][_0x3388a1(0x39c)](_0x3388a1(0x177))||_0x254ac2[_0x3388a1(0x4a9)][_0x3388a1(0x39c)](_0x3388a1(0x163))||_0x254ac2[_0x3388a1(0x4a9)][_0x3388a1(0x39c)](_0x3388a1(0x796))||_0x254ac2['originalUrl']['includes'](_0x3388a1(0x1bb))||_0x254ac2['originalUrl'][_0x3388a1(0x39c)]('/instance/connectionState')||_0x254ac2[_0x3388a1(0x4a9)][_0x3388a1(0x39c)]('/instance/delete'))return _0xf9d594();let _0x4dd4e2=_0x254ac2[_0x3388a1(0x5cf)];if(!_0x4dd4e2?.['instanceName'])throw new m(_0x3388a1(0x194));if(!await Ae(_0x4dd4e2[_0x3388a1(0x147)]))throw new F(_0x3388a1(0x5ba)+_0x4dd4e2[_0x3388a1(0x147)]+_0x3388a1(0x1d0));_0xf9d594();}async function $a(_0x45c8b1,_0x439c68,_0x249712){const _0x26183e=a0_0x1ec3bd;if(_0x45c8b1[_0x26183e(0x4a9)][_0x26183e(0x39c)]('/instance/create')){let _0x964ac4=_0x45c8b1['body'];if(await Ae(_0x964ac4[_0x26183e(0x147)]))throw new X('This\x20name\x20'+_0x964ac4[_0x26183e(0x147)]+'\x20is\x20already\x20in\x20use.');G[_0x26183e(0x7b8)][_0x964ac4[_0x26183e(0x147)]]&&delete G['waInstances'][_0x964ac4['instanceName']];}_0x249712();}var Ra=require('class-validator'),Aa=R(require('jsonwebtoken')),tt=a0_0x1ec3bd(0x304),vo=new N(a0_0x1ec3bd(0x277));async function No(_0x1ad0c1,_0x5497a7,_0x4ef5a0){const _0x506c85=a0_0x1ec3bd;let _0x1a916b=_0x1ad0c1['get'](_0x506c85(0x469));if(_0x1a916b&&b['get']('AUTHENTICATION')[_0x506c85(0x344)][_0x506c85(0x6d6)]!==_0x1a916b)throw new ie();if(b['get']('AUTHENTICATION')['API_KEY']['KEY']===_0x1a916b)return _0x4ef5a0();if((_0x1ad0c1[_0x506c85(0x4a9)]['includes'](_0x506c85(0x673))||_0x1ad0c1[_0x506c85(0x4a9)][_0x506c85(0x39c)](_0x506c85(0x177)))&&!_0x1a916b)throw new X(_0x506c85(0x45f),_0x506c85(0x5ff));let _0x1e97f3=b['get'](_0x506c85(0x30a))['JWT'];try{let [_0x54a2b3,_0x10a6e2]=_0x1ad0c1['get'](_0x506c85(0x1c8))[_0x506c85(0x4c0)]('\x20');if(_0x54a2b3[_0x506c85(0x3b4)]()!==_0x506c85(0x698))throw new ie();if(!(0x0,Ra[_0x506c85(0x473)])(_0x10a6e2))throw new ie();let _0x2da4c9=_0x1ad0c1[_0x506c85(0x5cf)],_0x5aaedc=Aa[_0x506c85(0x442)][_0x506c85(0x82)](_0x10a6e2,_0x1e97f3['SECRET'],{'ignoreExpiration':_0x1e97f3[_0x506c85(0x39a)]===0x0});if(_0x2da4c9[_0x506c85(0x147)]!==_0x5aaedc[_0x506c85(0x147)]||tt!==_0x5aaedc['apiName'])throw new ie();return _0x4ef5a0();}catch(_0xa2f10){throw vo[_0x506c85(0x4e6)](_0xa2f10),new ie();}}async function $o(_0x13bbfb,_0x5ebb87,_0x40ba35){const _0x22a1c2=a0_0x1ec3bd;let _0x4a8551=b[_0x22a1c2(0x5d6)]('AUTHENTICATION')[_0x22a1c2(0x344)],_0x1c966f=_0x13bbfb[_0x22a1c2(0x5d6)]('apikey');if(_0x4a8551['KEY']===_0x1c966f)return _0x40ba35();if(_0x13bbfb[_0x22a1c2(0x4a9)][_0x22a1c2(0x39c)](_0x22a1c2(0x673))){let _0x1be28d=Ta,_0x3fdef9=_0x13bbfb[_0x22a1c2(0x441)][_0x22a1c2(0x147)];if(_0x1be28d&&_0x3fdef9[_0x22a1c2(0x3b4)]()[_0x22a1c2(0x725)](_0x1be28d[_0x22a1c2(0x3b4)]()))return _0x40ba35();if(!_0x1c966f)throw new X(_0x22a1c2(0x45f),_0x22a1c2(0x5ff));}if(_0x13bbfb[_0x22a1c2(0x4a9)][_0x22a1c2(0x39c)](_0x22a1c2(0x177))&&!_0x1c966f)throw new X(_0x22a1c2(0x45f),_0x22a1c2(0x5ff));if(_0x13bbfb['originalUrl'][_0x22a1c2(0x39c)]('/exit')&&!_0x1c966f)throw new X(_0x22a1c2(0x45f),_0x22a1c2(0x5ff));if(_0x13bbfb[_0x22a1c2(0x4a9)][_0x22a1c2(0x39c)](_0x22a1c2(0x796))&&!_0x1c966f)throw new X('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x2426c5=_0x13bbfb[_0x22a1c2(0x5cf)],_0x23e4db=await he[_0x22a1c2(0x774)][_0x22a1c2(0x435)](_0x2426c5['instanceName']);if(_0x23e4db&&_0x23e4db[_0x22a1c2(0x469)]===_0x1c966f)return _0x40ba35();}catch{}throw new ie();}var Ia={'jwt':No,'apikey':$o},ui=require(a0_0x1ec3bd(0x1bf)),E=require(a0_0x1ec3bd(0x202)),C=(..._0x3ccc78)=>{const _0x3e6997=a0_0x1ec3bd;let _0x1aaf86={};return _0x3ccc78[_0x3e6997(0x730)](_0x1b65af=>_0x1aaf86[_0x1b65af]={'minLength':0x1,'description':_0x3e6997(0x424)+_0x1b65af+_0x3e6997(0x16f)}),{'if':{'propertyNames':{'enum':[..._0x3ccc78]}},'then':{'properties':_0x1aaf86}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'instanceName':{'type':a0_0x1ec3bd(0x716)}},...C(a0_0x1ec3bd(0x147))},mc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1ec3bd(0x716)}},'required':['oldToken'],...C('oldToken')},fc={'properties':{'key':{'type':a0_0x1ec3bd(0x2c3),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1ec3bd(0x716)},'fromMe':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1ec3bd(0x47e),a0_0x1ec3bd(0x3e2)],...C('id',a0_0x1ec3bd(0x47e))},'message':{'type':'object'}}},Z={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x1ec3bd(0x716),'enum':[a0_0x1ec3bd(0x552),a0_0x1ec3bd(0xa1),a0_0x1ec3bd(0x45b),a0_0x1ec3bd(0x357),a0_0x1ec3bd(0x528)]}}},H={'type':'string','description':a0_0x1ec3bd(0x764)},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'options':{...Z},'textMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'text':{'type':a0_0x1ec3bd(0x716)}},'required':['text'],...C(a0_0x1ec3bd(0x77d))}},'required':[a0_0x1ec3bd(0x3d6),'number']},_a={'type':a0_0x1ec3bd(0x716),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1ec3bd(0x764)},wc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{..._a},'options':{...Z},'textMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'text':{'type':a0_0x1ec3bd(0x716)}},'required':[a0_0x1ec3bd(0x77d)],...C(a0_0x1ec3bd(0x77d))}},'required':[a0_0x1ec3bd(0x3d6),a0_0x1ec3bd(0x192)]},yc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{..._a},'options':{...Z},'mediaMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'mediatype':{'type':'string','enum':[a0_0x1ec3bd(0x2f5),'document',a0_0x1ec3bd(0x757),a0_0x1ec3bd(0x6a2)]},'media':{'type':a0_0x1ec3bd(0x716)},'fileName':{'type':a0_0x1ec3bd(0x716)},'caption':{'type':a0_0x1ec3bd(0x716)}},'required':['mediatype',a0_0x1ec3bd(0x168)],...C(a0_0x1ec3bd(0x608),'caption',a0_0x1ec3bd(0x168))}},'required':[a0_0x1ec3bd(0x123),a0_0x1ec3bd(0x192)]},xa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'options':{...Z},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x1ec3bd(0x716)}},'required':[a0_0x1ec3bd(0x2f5)],...C(a0_0x1ec3bd(0x2f5))}},'required':[a0_0x1ec3bd(0x579),'number']},Da={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'statusMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'type':{'type':a0_0x1ec3bd(0x716),'enum':[a0_0x1ec3bd(0x77d),a0_0x1ec3bd(0x2f5),a0_0x1ec3bd(0x6a2),a0_0x1ec3bd(0x757)]},'content':{'type':'string'},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x1ec3bd(0x716)},'font':{'type':a0_0x1ec3bd(0x5a9),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec3bd(0x716),'pattern':'^\x5cd+','description':a0_0x1ec3bd(0x555)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1ec3bd(0x73a),'content'],...C('type','content')}},'required':['statusMessage']},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'options':{...Z},'mediaMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'mediatype':{'type':a0_0x1ec3bd(0x716),'enum':[a0_0x1ec3bd(0x2f5),a0_0x1ec3bd(0x9b),a0_0x1ec3bd(0x757),a0_0x1ec3bd(0x6a2)]},'media':{'type':'string'},'fileName':{'type':a0_0x1ec3bd(0x716)},'caption':{'type':a0_0x1ec3bd(0x716)}},'required':['mediatype','media'],...C('fileName',a0_0x1ec3bd(0x45d),a0_0x1ec3bd(0x168))}},'required':['mediaMessage',a0_0x1ec3bd(0x192)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...Z},'audioMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'audio':{'type':'string'}},'required':[a0_0x1ec3bd(0x6a2)],...C(a0_0x1ec3bd(0x6a2))}},'required':[a0_0x1ec3bd(0xb1),a0_0x1ec3bd(0x192)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'pollMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'name':{'type':a0_0x1ec3bd(0x716)},'selectableCount':{'type':a0_0x1ec3bd(0x192)},'values':{'type':a0_0x1ec3bd(0x105),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1ec3bd(0x6fa),a0_0x1ec3bd(0x727),a0_0x1ec3bd(0x3ff)],...C(a0_0x1ec3bd(0x6fa),'selectableCount','values')}},'required':['number',a0_0x1ec3bd(0x3b7)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'menuMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'text':{'type':a0_0x1ec3bd(0x716)},'choices':{'type':a0_0x1ec3bd(0x105),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1ec3bd(0x77d),'choices'],...C(a0_0x1ec3bd(0x77d),a0_0x1ec3bd(0x195))}},'required':['number',a0_0x1ec3bd(0x2b1)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'options':{...Z},'buttonMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'title':{'type':a0_0x1ec3bd(0x716)},'description':{'type':a0_0x1ec3bd(0x716)},'footerText':{'type':a0_0x1ec3bd(0x716)},'buttons':{'type':a0_0x1ec3bd(0x105),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec3bd(0x2c3),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x1ec3bd(0x716)}},'required':[a0_0x1ec3bd(0x10e),a0_0x1ec3bd(0x1a4)],...C(a0_0x1ec3bd(0x10e),a0_0x1ec3bd(0x1a4))}},'mediaMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x1ec3bd(0x716)},'mediatype':{'type':'string','enum':[a0_0x1ec3bd(0x2f5),'document',a0_0x1ec3bd(0x757)]}},'required':[a0_0x1ec3bd(0x168),a0_0x1ec3bd(0x185)],...C('media',a0_0x1ec3bd(0x608))}},'required':[a0_0x1ec3bd(0x3e8),a0_0x1ec3bd(0x7bb)],...C(a0_0x1ec3bd(0x3e8),a0_0x1ec3bd(0x3fb))}},'required':[a0_0x1ec3bd(0x192),a0_0x1ec3bd(0x2ae)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'options':{...Z},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x1ec3bd(0x192)},'longitude':{'type':a0_0x1ec3bd(0x192)},'name':{'type':a0_0x1ec3bd(0x716)},'address':{'type':a0_0x1ec3bd(0x716)}},'required':[a0_0x1ec3bd(0x5ee),a0_0x1ec3bd(0x65c)],...C(a0_0x1ec3bd(0x6fa),a0_0x1ec3bd(0x203))}},'required':[a0_0x1ec3bd(0x192),a0_0x1ec3bd(0x252)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'options':{...Z},'listMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'title':{'type':a0_0x1ec3bd(0x716)},'description':{'type':a0_0x1ec3bd(0x716)},'footerText':{'type':a0_0x1ec3bd(0x716)},'buttonText':{'type':a0_0x1ec3bd(0x716)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec3bd(0x2c3),'properties':{'title':{'type':a0_0x1ec3bd(0x716)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec3bd(0x2c3),'properties':{'title':{'type':a0_0x1ec3bd(0x716)},'description':{'type':a0_0x1ec3bd(0x716)},'rowId':{'type':a0_0x1ec3bd(0x716)}},'required':['title','rowId'],...C(a0_0x1ec3bd(0x3e8),a0_0x1ec3bd(0x22e))}}},'required':[a0_0x1ec3bd(0x3e8),a0_0x1ec3bd(0x502)],...C(a0_0x1ec3bd(0x3e8))}}},'required':[a0_0x1ec3bd(0x3e8),a0_0x1ec3bd(0x3fb),'buttonText',a0_0x1ec3bd(0x2a7)],...C(a0_0x1ec3bd(0x3e8),'description',a0_0x1ec3bd(0x10e),'footerText')}},'required':[a0_0x1ec3bd(0x192),a0_0x1ec3bd(0x6bc)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{...H},'options':{...Z},'contactMessage':{'type':a0_0x1ec3bd(0x105),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x1ec3bd(0x716),'minLength':0xa}},'required':[a0_0x1ec3bd(0x460),'phoneNumber'],...C(a0_0x1ec3bd(0x460))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1ec3bd(0x192),'contactMessage']},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x1ec3bd(0x2c3),'properties':{'id':{'type':a0_0x1ec3bd(0x716)},'remoteJid':{'type':a0_0x1ec3bd(0x716)},'fromMe':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...C('id',a0_0x1ec3bd(0x47e))},'reaction':{'type':a0_0x1ec3bd(0x716)}},'required':['key',a0_0x1ec3bd(0x1ac)],...C(a0_0x1ec3bd(0x1ac))}},'required':[a0_0x1ec3bd(0x4c3)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1ec3bd(0x171),'description':a0_0x1ec3bd(0x576)}}}},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1ec3bd(0x716)},'fromMe':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1ec3bd(0x716)}},'required':['id',a0_0x1ec3bd(0x3e2),a0_0x1ec3bd(0x47e)],...C('id',a0_0x1ec3bd(0x47e))}}},'required':[a0_0x1ec3bd(0x66f)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'privacySettings':{'type':a0_0x1ec3bd(0x2c3),'properties':{'readreceipts':{'type':a0_0x1ec3bd(0x716),'enum':[a0_0x1ec3bd(0x42f),a0_0x1ec3bd(0x22f)]},'profile':{'type':'string','enum':[a0_0x1ec3bd(0x42f),'contacts','contact_blacklist',a0_0x1ec3bd(0x22f)]},'status':{'type':'string','enum':[a0_0x1ec3bd(0x42f),'contacts','contact_blacklist',a0_0x1ec3bd(0x22f)]},'online':{'type':a0_0x1ec3bd(0x716),'enum':[a0_0x1ec3bd(0x42f),a0_0x1ec3bd(0x106)]},'last':{'type':'string','enum':[a0_0x1ec3bd(0x42f),a0_0x1ec3bd(0x461),a0_0x1ec3bd(0x287),a0_0x1ec3bd(0x22f)]},'groupadd':{'type':a0_0x1ec3bd(0x716),'enum':['all','contacts',a0_0x1ec3bd(0x287),a0_0x1ec3bd(0x22f)]}},'required':[a0_0x1ec3bd(0x511),a0_0x1ec3bd(0xfb),'status',a0_0x1ec3bd(0x278),'last','groupadd'],...C(a0_0x1ec3bd(0x511),a0_0x1ec3bd(0xfb),a0_0x1ec3bd(0x4ff),a0_0x1ec3bd(0x278),a0_0x1ec3bd(0x2c0),'groupadd')}},'required':[a0_0x1ec3bd(0x49a)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'lastMessage':{'type':a0_0x1ec3bd(0x2c3),'properties':{'key':{'type':a0_0x1ec3bd(0x2c3),'properties':{'id':{'type':a0_0x1ec3bd(0x716)},'remoteJid':{'type':a0_0x1ec3bd(0x716)},'fromMe':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x1ec3bd(0x47e)],...C('id',a0_0x1ec3bd(0x47e))},'messageTimestamp':{'type':a0_0x1ec3bd(0x5a9),'minLength':0x1}},'required':[a0_0x1ec3bd(0x4dd)],...C(a0_0x1ec3bd(0x570))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1ec3bd(0x221),'archive']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'id':{'type':a0_0x1ec3bd(0x716)},'fromMe':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x1ec3bd(0x716)}},'required':['id','fromMe',a0_0x1ec3bd(0x47e)],...C('id',a0_0x1ec3bd(0x47e),'participant')},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'where':{'type':a0_0x1ec3bd(0x2c3),'properties':{'_id':{'type':a0_0x1ec3bd(0x716),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x1ec3bd(0x716),'minLength':0x1}},...C('_id','id','pushName')}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'name':{'type':a0_0x1ec3bd(0x716)}},...C(a0_0x1ec3bd(0x6fa))},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'status':{'type':'string'}},...C(a0_0x1ec3bd(0x4ff))},Ie={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'number':{'type':a0_0x1ec3bd(0x716)},'picture':{'type':'string'}}},Xa={'type':'object','properties':{'wuid':{'type':a0_0x1ec3bd(0x716)},'name':{'type':'string'},'picture':{'type':a0_0x1ec3bd(0x716)},'status':{'type':a0_0x1ec3bd(0x716)},'isBusiness':{'type':a0_0x1ec3bd(0x376)}}},Za={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'where':{'type':a0_0x1ec3bd(0x2c3),'properties':{'_id':{'type':a0_0x1ec3bd(0x716),'minLength':0x1},'key':{'type':a0_0x1ec3bd(0x2c3),'if':{'propertyNames':{'enum':[a0_0x1ec3bd(0x3e2),a0_0x1ec3bd(0x47e),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1ec3bd(0x716),'minLength':0x1,'description':a0_0x1ec3bd(0x4ba)},'id':{'type':a0_0x1ec3bd(0x716),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1ec3bd(0x2c3)}},...C('_id')},'limit':{'type':a0_0x1ec3bd(0x5a9)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'where':{'type':a0_0x1ec3bd(0x2c3),'properties':{'_id':{'type':a0_0x1ec3bd(0x716)},'remoteJid':{'type':'string'},'id':{'type':a0_0x1ec3bd(0x716)},'fromMe':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':['ERROR','PENDING',a0_0x1ec3bd(0x275),a0_0x1ec3bd(0x704),a0_0x1ec3bd(0x279),'PLAYED']}},...C(a0_0x1ec3bd(0x16c),a0_0x1ec3bd(0x47e),'id',a0_0x1ec3bd(0x4ff))},'limit':{'type':a0_0x1ec3bd(0x5a9)}}},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'presence':{'type':'string','enum':['unavailable',a0_0x1ec3bd(0xa1),'composing',a0_0x1ec3bd(0x357),a0_0x1ec3bd(0x528)]}},'required':['presence',a0_0x1ec3bd(0x192)]},ti={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x1ec3bd(0x716)},'profilePicture':{'type':a0_0x1ec3bd(0x716)},'participants':{'type':a0_0x1ec3bd(0x105),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec3bd(0x716),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject','participants'],...C(a0_0x1ec3bd(0x36c),a0_0x1ec3bd(0x3fb),'profilePicture')},Te={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'groupJid':{'type':a0_0x1ec3bd(0x716),'pattern':a0_0x1ec3bd(0xeb)}},'required':[a0_0x1ec3bd(0x1cc)],...C(a0_0x1ec3bd(0x1cc))},si={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'groupJid':{'type':a0_0x1ec3bd(0x716)},'action':{'type':a0_0x1ec3bd(0x716),'enum':[a0_0x1ec3bd(0x5a3),a0_0x1ec3bd(0x736),a0_0x1ec3bd(0x143),'demote',a0_0x1ec3bd(0xa6),'approve']},'participants':{'type':a0_0x1ec3bd(0x105),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1ec3bd(0x716),'minLength':0xa,'pattern':a0_0x1ec3bd(0x213),'description':a0_0x1ec3bd(0x6b8)}}},'required':[a0_0x1ec3bd(0x1cc),a0_0x1ec3bd(0x67d),a0_0x1ec3bd(0x43e)],...C(a0_0x1ec3bd(0x1cc),a0_0x1ec3bd(0x67d))},ai={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1ec3bd(0x716)},'expiration':{'type':a0_0x1ec3bd(0x192),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1ec3bd(0x1cc),a0_0x1ec3bd(0x121)],...C(a0_0x1ec3bd(0x1cc),'expiration')},ii={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1ec3bd(0x716)},'image':{'type':a0_0x1ec3bd(0x716)}},'required':[a0_0x1ec3bd(0x1cc),a0_0x1ec3bd(0x2f5)],...C('groupJid',a0_0x1ec3bd(0x2f5))},oi={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'groupJid':{'type':a0_0x1ec3bd(0x716)},'description':{'type':a0_0x1ec3bd(0x716)}},'required':['groupJid','description'],...C(a0_0x1ec3bd(0x1cc),a0_0x1ec3bd(0x3fb))},ri={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'groupJid':{'type':a0_0x1ec3bd(0x716)},'name':{'type':a0_0x1ec3bd(0x716)}},'required':['groupJid',a0_0x1ec3bd(0x6fa)],...C('groupJid',a0_0x1ec3bd(0x6fa))},ni={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x1ec3bd(0x716),'enum':[a0_0x1ec3bd(0x71a),'not_announcement','unlocked',a0_0x1ec3bd(0x62e)]}},'required':['groupJid',a0_0x1ec3bd(0x5eb)],...C(a0_0x1ec3bd(0x1cc),'setting')},ci={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'groupJid':{'type':a0_0x1ec3bd(0x716)},'restrict':{'type':a0_0x1ec3bd(0x376)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x1ec3bd(0x376)},'joinApprovalMode':{'type':a0_0x1ec3bd(0x376)},'expiration':{'type':a0_0x1ec3bd(0x5a9),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1ec3bd(0x716)},'description':{'type':'string'},'image':{'type':a0_0x1ec3bd(0x716)}}},Ms={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'inviteCode':{'type':a0_0x1ec3bd(0x716)}},'required':[a0_0x1ec3bd(0x702)],...C('inviteCode')},li={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'url':{'type':a0_0x1ec3bd(0x716)},'enabled':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]}},'required':[a0_0x1ec3bd(0xe5),a0_0x1ec3bd(0x39f)]},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x1ec3bd(0x2c3),'properties':{'local_map':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1ec3bd(0x376),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE','QRCODE_UPDATED',a0_0x1ec3bd(0x8a),a0_0x1ec3bd(0x761),a0_0x1ec3bd(0x67a),'SEND_MESSAGE',a0_0x1ec3bd(0x26a),'CONTACTS_UPSERT',a0_0x1ec3bd(0x6a8),a0_0x1ec3bd(0x493),a0_0x1ec3bd(0x6ee),a0_0x1ec3bd(0x55e),a0_0x1ec3bd(0x14d),a0_0x1ec3bd(0x49f),'CONNECTION_UPDATE',a0_0x1ec3bd(0x173),a0_0x1ec3bd(0x109),a0_0x1ec3bd(0x715)],...C(a0_0x1ec3bd(0xd9),a0_0x1ec3bd(0x665),a0_0x1ec3bd(0x6b0),'MESSAGES_SET','MESSAGES_UPDATE','MESSAGES_UPSERT',a0_0x1ec3bd(0x541),a0_0x1ec3bd(0x26a),a0_0x1ec3bd(0x4f9),a0_0x1ec3bd(0x6a8),a0_0x1ec3bd(0x493),a0_0x1ec3bd(0x6ee),a0_0x1ec3bd(0x55e),a0_0x1ec3bd(0x14d),'CHATS_DELETE',a0_0x1ec3bd(0x4d9),a0_0x1ec3bd(0x173),'GROUPS_UPDATE',a0_0x1ec3bd(0x715))},st=class{},at=class extends T{[a0_0x1ec3bd(0x67f)](_0xb0317b){return ea(_0xb0317b);}async[a0_0x1ec3bd(0x43c)](_0x12b72e){const _0x4344c7=a0_0x1ec3bd;if(_0x12b72e[_0x4344c7(0x2a9)]!==0x0)try{return{'insertCount':(await this[_0x4344c7(0x67f)](_0x12b72e[0x0]['owner'])[_0x4344c7(0x7b6)]([..._0x12b72e]))[_0x4344c7(0x2a9)]};}catch(_0x118b9d){return _0x118b9d;}}async[a0_0x1ec3bd(0x6f4)](_0x383726,_0x4905f1){const _0x24901f=a0_0x1ec3bd;try{return{'deletedCount':(await this[_0x24901f(0x67f)](_0x4905f1)[_0x24901f(0x3bd)]({..._0x383726['where']}))[_0x24901f(0x5dc)]};}catch(_0x1d1d5a){return{'error':_0x1d1d5a?.[_0x24901f(0x51d)]()};}}async['update'](_0x375228,_0x1267ce){const _0xb233d8=a0_0x1ec3bd;try{if(_0x375228[_0xb233d8(0x2a9)]===0x0)return;let _0x44f4ac=this['getContactModelForOwner'](_0x1267ce),_0x23c4f3=_0x375228[_0xb233d8(0x6ef)](_0x8a8388=>({'updateOne':{'filter':{'_id':_0x8a8388[_0xb233d8(0x16c)],'owner':_0x1267ce},'update':{..._0x8a8388}}})),{modifiedCount:_0x74cf2a}=await _0x44f4ac['bulkWrite'](_0x23c4f3);return{'insertCount':_0x74cf2a};}catch{return;}}async[a0_0x1ec3bd(0x435)](_0x3d546c,_0x119e8d){const _0x3ad049=a0_0x1ec3bd;try{let _0x5d67ad=this[_0x3ad049(0x67f)](_0x119e8d),_0x47423f=A(_0x3d546c[_0x3ad049(0x6be)]);return await _0x5d67ad[_0x3ad049(0x435)](_0x47423f)[_0x3ad049(0x4ce)](_0x3d546c?.['limit']??0x0)[_0x3ad049(0x117)]();}catch{return[];}}async[a0_0x1ec3bd(0x2f1)](_0x5cc86e,_0x33010e){const _0x338fca=a0_0x1ec3bd;try{let _0x591125=this['getContactModelForOwner'](_0x33010e),_0x5b949e=A(_0x5cc86e[_0x338fca(0x6be)]);return await _0x591125[_0x338fca(0x2f1)](_0x5b949e)['lean']();}catch{return null;}}async[a0_0x1ec3bd(0x677)](_0x44d085){const _0x2c9686=a0_0x1ec3bd;try{return await this[_0x2c9686(0x67f)](_0x44d085)['collection'][_0x2c9686(0x4d6)](),{'success':!0x0};}catch(_0x355926){return console[_0x2c9686(0x4e6)](_0x355926),{'success':!0x1,'error':_0x355926};}}},it=require(a0_0x1ec3bd(0x4fd)),Ic=require(a0_0x1ec3bd(0x589)),Cs=new N(a0_0x1ec3bd(0x3da)),V=class{[a0_0x1ec3bd(0x33c)](_0x17130d,_0x8e7932=!0x0){let _0x5edb42='/'+_0x17130d;return _0x8e7932&&(_0x5edb42+='/:instanceName'),_0x5edb42;}async[a0_0x1ec3bd(0x5b8)](_0x19c202){const _0x2b7ec8=a0_0x1ec3bd;let {request:_0x11799f,schema:_0x3461be,ClassRef:_0x4b6c9b,execute:_0x376960}=_0x19c202,_0x435f64=new _0x4b6c9b(),_0x1c65f0=_0x11799f['body'],_0x521604=_0x11799f[_0x2b7ec8(0x5cf)];_0x11799f?.[_0x2b7ec8(0x36f)]&&Object['keys'](_0x11799f['query'])[_0x2b7ec8(0x2a9)]>0x0&&Object[_0x2b7ec8(0x615)](_0x521604,_0x11799f[_0x2b7ec8(0x36f)]),_0x11799f['originalUrl'][_0x2b7ec8(0x39c)](_0x2b7ec8(0x673))&&Object[_0x2b7ec8(0x615)](_0x521604,_0x1c65f0),Object['assign'](_0x435f64,_0x1c65f0);let _0x3a8302=_0x3461be?(0x0,it[_0x2b7ec8(0x421)])(_0x435f64,_0x3461be):{'valid':!0x0,'errors':[]};if(!_0x3a8302[_0x2b7ec8(0x524)]){let _0x2decae=_0x3a8302[_0x2b7ec8(0xc2)][_0x2b7ec8(0x6ef)](({property:_0x41f5f6,stack:_0x1b46bc,schema:_0x2b287b})=>{const _0x585e43=_0x2b7ec8;let _0x2aacea;return _0x2b287b[_0x585e43(0x3fb)]?_0x2aacea=_0x2b287b['description']:_0x2aacea=_0x1b46bc[_0x585e43(0x2b2)](_0x585e43(0x64d),''),{'property':_0x41f5f6[_0x585e43(0x2b2)]('instance.',''),'message':_0x2aacea};});throw Cs[_0x2b7ec8(0x4e6)]([..._0x2decae]),new m(..._0x2decae);}return await _0x376960(_0x521604,_0x435f64);}async[a0_0x1ec3bd(0xf0)](_0x13214f){const _0x43079b=a0_0x1ec3bd;let {request:_0x5c51aa,ClassRef:_0x1899ee,schema:_0x28e344,execute:_0x1c3606}=_0x13214f,_0x5c2f96=_0x5c51aa[_0x43079b(0x36f)];if(!_0x5c2f96?.[_0x43079b(0x1cc)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x43079b(0x18f));let _0x15c49d=_0x5c51aa[_0x43079b(0x5cf)],_0x447870=_0x5c51aa[_0x43079b(0x441)],_0x397ebf=new _0x1899ee();Object[_0x43079b(0x615)](_0x447870,_0x5c2f96),Object[_0x43079b(0x615)](_0x397ebf,_0x447870);let _0x178c67=(0x0,it[_0x43079b(0x421)])(_0x397ebf,_0x28e344);if(!_0x178c67[_0x43079b(0x524)]){let _0x5ba863=_0x178c67[_0x43079b(0xc2)][_0x43079b(0x6ef)](({property:_0x30122c,stack:_0x7defc7,schema:_0x17ed33})=>{const _0x300f54=_0x43079b;let _0xf4645b;return _0x17ed33[_0x300f54(0x3fb)]?_0xf4645b=_0x17ed33['description']:_0xf4645b=_0x7defc7[_0x300f54(0x2b2)](_0x300f54(0x64d),''),{'property':_0x30122c[_0x300f54(0x2b2)]('instance.',''),'message':_0xf4645b};});throw Cs[_0x43079b(0x4e6)]([..._0x5ba863]),new m(..._0x5ba863);}return await _0x1c3606(_0x15c49d,_0x397ebf);}async['joinGroupValidate'](_0x477063){const _0x5ac559=a0_0x1ec3bd;let {request:_0x467e5d,ClassRef:_0x3d02b6,schema:_0x57fd09,execute:_0x45d21e}=_0x477063,_0x5c0c2b=_0x467e5d[_0x5ac559(0x441)];if(!_0x5c0c2b?.[_0x5ac559(0x702)])throw new m(_0x5ac559(0x408),_0x5ac559(0x12f));let _0x41207f=_0x467e5d[_0x5ac559(0x5cf)],_0x24fa43=_0x467e5d[_0x5ac559(0x441)],_0x567255=new _0x3d02b6();Object[_0x5ac559(0x615)](_0x24fa43,_0x5c0c2b),Object[_0x5ac559(0x615)](_0x567255,_0x24fa43);let _0x55b047=(0x0,it['validate'])(_0x567255,_0x57fd09);if(!_0x55b047[_0x5ac559(0x524)]){let _0xefbcd4=_0x55b047[_0x5ac559(0xc2)][_0x5ac559(0x6ef)](({property:_0x428cac,stack:_0x3864cd,schema:_0x806662})=>{const _0x200535=_0x5ac559;let _0x149923;return _0x806662[_0x200535(0x3fb)]?_0x149923=_0x806662[_0x200535(0x3fb)]:_0x149923=_0x3864cd[_0x200535(0x2b2)](_0x200535(0x64d),''),{'property':_0x428cac[_0x200535(0x2b2)](_0x200535(0x64d),''),'message':_0x149923};});throw Cs[_0x5ac559(0x4e6)]([..._0xefbcd4]),new m(..._0xefbcd4);}return await _0x45d21e(_0x41207f,_0x567255);}},M=class{},Gc=new N('ChatRouter'),ot=class extends V{constructor(..._0xeb05f8){const _0x5458eb=a0_0x1ec3bd;super(),this['router']=(0x0,ui['Router'])(),this[_0x5458eb(0x5c5)]['post'](this[_0x5458eb(0x33c)]('updatePresence'),..._0xeb05f8,async(_0x494f50,_0x5a8d20)=>{const _0x54a65f=_0x5458eb;let _0x5b7fa1=await this[_0x54a65f(0x5b8)]({'request':_0x494f50,'schema':ei,'ClassRef':ze,'execute':(_0x2e1b58,_0x26aaa7)=>x['updatePresence'](_0x2e1b58,_0x26aaa7)});return _0x5a8d20[_0x54a65f(0x4ff)](0xc9)[_0x54a65f(0x149)](_0x5b7fa1);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)](_0x5458eb(0x719)),..._0xeb05f8,async(_0x4bba34,_0x18ed78)=>{const _0x421999=_0x5458eb;let _0x86081a=await this[_0x421999(0x5b8)]({'request':_0x4bba34,'schema':Ga,'ClassRef':He,'execute':(_0x155b10,_0x3e7531)=>x[_0x421999(0x1be)](_0x155b10,_0x3e7531)});return _0x18ed78[_0x421999(0x4ff)](0xc9)['json'](_0x86081a);})[_0x5458eb(0x489)](this['routerPath'](_0x5458eb(0x32b)),..._0xeb05f8,async(_0x377131,_0x46f9bb)=>{const _0x49261d=_0x5458eb;let _0x593b47=await this['dataValidate']({'request':_0x377131,'schema':v,'ClassRef':M,'execute':(_0x5cec13,_0x32b8cf)=>x[_0x49261d(0x32b)](_0x5cec13,_0x32b8cf)});return _0x46f9bb[_0x49261d(0x4ff)](0xc9)[_0x49261d(0x149)](_0x593b47);})['put'](this[_0x5458eb(0x33c)](_0x5458eb(0x15c)),..._0xeb05f8,async(_0x2deeb0,_0x110733)=>{const _0x5debf7=_0x5458eb;let _0xb70809=await this[_0x5debf7(0x5b8)]({'request':_0x2deeb0,'schema':Ba,'ClassRef':Ye,'execute':(_0x1aacc6,_0x21e2e4)=>x[_0x5debf7(0x84)](_0x1aacc6,_0x21e2e4)});return _0x110733[_0x5debf7(0x4ff)](0xc9)[_0x5debf7(0x149)](_0xb70809);})[_0x5458eb(0x518)](this['routerPath'](_0x5458eb(0x4ea)),..._0xeb05f8,async(_0x4736a3,_0x435016)=>{const _0x2099f=_0x5458eb;let _0x5b2486=await this[_0x2099f(0x5b8)]({'request':_0x4736a3,'schema':za,'ClassRef':Xe,'execute':(_0x5d4039,_0x172aa3)=>x[_0x2099f(0x4ea)](_0x5d4039,_0x172aa3)});return _0x435016[_0x2099f(0x4ff)](0xc9)[_0x2099f(0x149)](_0x5b2486);})[_0x5458eb(0x6f4)](this[_0x5458eb(0x33c)]('deleteMessageForEveryone'),..._0xeb05f8,async(_0x4482dd,_0x5bfed3)=>{const _0x590a4e=_0x5458eb;let _0x4e3dbe=await this[_0x590a4e(0x5b8)]({'request':_0x4482dd,'schema':Ha,'ClassRef':et,'execute':(_0x1cfa05,_0xe38b59)=>x[_0x590a4e(0x104)](_0x1cfa05,_0xe38b59)});return _0x5bfed3['status'](0xc9)[_0x590a4e(0x149)](_0x4e3dbe);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)]('fetchProfilePictureUrl'),..._0xeb05f8,async(_0x4cd522,_0x5f38dd)=>{const _0x36b1f2=_0x5458eb;let _0x4c41d7=await this[_0x36b1f2(0x5b8)]({'request':_0x4cd522,'schema':Ie,'ClassRef':Re,'execute':(_0x58a996,_0x4a613d)=>x[_0x36b1f2(0x27a)](_0x58a996,_0x4a613d)});return _0x5f38dd[_0x36b1f2(0x4ff)](0xc8)[_0x36b1f2(0x149)](_0x4c41d7);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)](_0x5458eb(0x301)),..._0xeb05f8,async(_0x5dfd9c,_0x2d1491)=>{const _0x5e8bf2=_0x5458eb;let _0x542d8e=await this[_0x5e8bf2(0x5b8)]({'request':_0x5dfd9c,'schema':Xa,'ClassRef':Re,'execute':(_0x418014,_0x281485)=>x[_0x5e8bf2(0x301)](_0x418014,_0x281485)});return _0x2d1491[_0x5e8bf2(0x4ff)](0xc8)['json'](_0x542d8e);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)](_0x5458eb(0x7b4)),..._0xeb05f8,async(_0x4fe65e,_0xef04a2)=>{const _0x324c99=_0x5458eb;let _0x30c64b=await this[_0x324c99(0x5b8)]({'request':_0x4fe65e,'schema':Ka,'ClassRef':st,'execute':(_0x1adae2,_0x495f8d)=>x[_0x324c99(0x2bc)](_0x1adae2,_0x495f8d)});return _0xef04a2[_0x324c99(0x4ff)](0xc8)[_0x324c99(0x149)](_0x30c64b);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)](_0x5458eb(0x663)),..._0xeb05f8,async(_0x426b59,_0x4ad640)=>{const _0x2b2cca=_0x5458eb;let _0xf6058d=await this[_0x2b2cca(0x5b8)]({'request':_0x426b59,'schema':null,'ClassRef':Object,'execute':(_0x289e57,_0x349f9b)=>x[_0x2b2cca(0x663)](_0x289e57,_0x349f9b)});return _0x4ad640[_0x2b2cca(0x4ff)](0xc9)['json'](_0xf6058d);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)](_0x5458eb(0x71e)),..._0xeb05f8,async(_0xfc375c,_0x1d5992)=>{const _0xbef46f=_0x5458eb;let _0x499622=await this[_0xbef46f(0x5b8)]({'request':_0xfc375c,'schema':Za,'ClassRef':Be,'execute':(_0x19a8b9,_0x3f0c4f)=>x[_0xbef46f(0x612)](_0x19a8b9,_0x3f0c4f)});return _0x1d5992[_0xbef46f(0x4ff)](0xc8)['json'](_0x499622);})[_0x5458eb(0x5d6)](this[_0x5458eb(0x33c)](_0x5458eb(0x337)),..._0xeb05f8,async(_0x3b09fd,_0x50a18d)=>{const _0x4f93c0=_0x5458eb;let _0x1e9ee7=await this[_0x4f93c0(0x5b8)]({'request':_0x3b09fd,'schema':null,'ClassRef':M,'execute':_0x2f5729=>x[_0x4f93c0(0x4a0)](_0x2f5729)});return _0x50a18d[_0x4f93c0(0x4ff)](0xc8)[_0x4f93c0(0x149)](_0x1e9ee7);})[_0x5458eb(0x5d6)](this['routerPath']('findLabels'),..._0xeb05f8,async(_0x28fbbd,_0x4d2f3f)=>{const _0x45230c=_0x5458eb;let _0x312424=await this[_0x45230c(0x5b8)]({'request':_0x28fbbd,'schema':null,'ClassRef':M,'execute':_0x3e068d=>x[_0x45230c(0x4c2)](_0x3e068d)});return _0x4d2f3f['status'](0xc8)[_0x45230c(0x149)](_0x312424);})[_0x5458eb(0x518)](this['routerPath']('importChats'),..._0xeb05f8,async(_0x1d20a1,_0x473a59)=>{const _0xc8dfa6=_0x5458eb;let _0x395fef=await this['dataValidate']({'request':_0x1d20a1,'schema':null,'ClassRef':Array,'execute':(_0x1d7ce4,_0xe74a87)=>x[_0xc8dfa6(0x42d)](_0x1d7ce4,_0xe74a87)});return _0x473a59[_0xc8dfa6(0x4ff)](0xc8)[_0xc8dfa6(0x149)](_0x395fef);})[_0x5458eb(0x5d6)](this[_0x5458eb(0x33c)](_0x5458eb(0x33b)),..._0xeb05f8,async(_0x1eaffc,_0x2431da)=>{const _0x3607cb=_0x5458eb;let _0x13dab7=await this[_0x3607cb(0x5b8)]({'request':_0x1eaffc,'schema':null,'ClassRef':M,'execute':_0x1bf4c9=>x[_0x3607cb(0x33b)](_0x1bf4c9)});return _0x2431da['status'](0xc8)['json'](_0x13dab7);})[_0x5458eb(0x518)](this['routerPath']('updatePrivacySettings'),..._0xeb05f8,async(_0x47f910,_0x459c8d)=>{const _0x42177c=_0x5458eb;let _0x3c5028=await this['dataValidate']({'request':_0x47f910,'schema':Wa,'ClassRef':Ze,'execute':(_0x1c6832,_0x4c7300)=>x[_0x42177c(0x466)](_0x1c6832,_0x4c7300)});return _0x459c8d[_0x42177c(0x4ff)](0xc9)['json'](_0x3c5028);})[_0x5458eb(0x489)](this['routerPath'](_0x5458eb(0x3cf)),..._0xeb05f8,async(_0x27ac0b,_0x269926)=>{const _0x26aacb=_0x5458eb;let _0x515667=await this[_0x26aacb(0x5b8)]({'request':_0x27ac0b,'schema':Ie,'ClassRef':be,'execute':(_0x4c0013,_0x5aaa61)=>x[_0x26aacb(0x3cf)](_0x4c0013,_0x5aaa61)});return _0x269926[_0x26aacb(0x4ff)](0xc8)[_0x26aacb(0x149)](_0x515667);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)](_0x5458eb(0x485)),..._0xeb05f8,async(_0x399371,_0x1c4782)=>{const _0x48339e=_0x5458eb;let _0x11d728=await this['dataValidate']({'request':_0x399371,'schema':Qa,'ClassRef':Ke,'execute':(_0x411ce3,_0x53111e)=>x[_0x48339e(0x485)](_0x411ce3,_0x53111e)});return _0x1c4782[_0x48339e(0x4ff)](0xc8)[_0x48339e(0x149)](_0x11d728);})[_0x5458eb(0x489)](this[_0x5458eb(0x33c)](_0x5458eb(0x17a)),..._0xeb05f8,async(_0x1f1b3f,_0x261e3b)=>{const _0x373054=_0x5458eb;let _0x223f9d=await this[_0x373054(0x5b8)]({'request':_0x1f1b3f,'schema':Ya,'ClassRef':Qe,'execute':(_0x277d60,_0x5c5373)=>x[_0x373054(0x17a)](_0x277d60,_0x5c5373)});return _0x261e3b[_0x373054(0x4ff)](0xc8)[_0x373054(0x149)](_0x223f9d);})[_0x5458eb(0x518)](this[_0x5458eb(0x33c)](_0x5458eb(0x7ca)),..._0xeb05f8,async(_0x3adc10,_0x274019)=>{const _0x594abe=_0x5458eb;let _0xecd3a4=await this[_0x594abe(0x5b8)]({'request':_0x3adc10,'schema':Ie,'ClassRef':be,'execute':(_0x333f05,_0x42a28d)=>x[_0x594abe(0x7ca)](_0x333f05,_0x42a28d)});return _0x274019[_0x594abe(0x4ff)](0xc8)[_0x594abe(0x149)](_0xecd3a4);})[_0x5458eb(0x6f4)](this['routerPath'](_0x5458eb(0x61b)),..._0xeb05f8,async(_0x2cd978,_0x2b9b88)=>{const _0x33b961=_0x5458eb;let _0xd4997b=await this[_0x33b961(0x5b8)]({'request':_0x2cd978,'schema':Ie,'ClassRef':be,'execute':(_0x58e81a,_0x422a65)=>x[_0x33b961(0x61b)](_0x58e81a,_0x422a65)});return _0x2b9b88[_0x33b961(0x4ff)](0xc8)['json'](_0xd4997b);});}},di=require('express'),rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},ee=class{},Oe=class{},pt=class extends ee{},ht=class extends ee{},gt=class extends V{constructor(..._0x855a7e){const _0x178f59=a0_0x1ec3bd;super(),this[_0x178f59(0x5c5)]=(0x0,di[_0x178f59(0x791)])(),this[_0x178f59(0x5c5)][_0x178f59(0x489)](this[_0x178f59(0x33c)](_0x178f59(0x63d)),..._0x855a7e,async(_0x9de74,_0x19e8b3)=>{const _0x28e0d9=_0x178f59;let _0x1e1a4d=await this[_0x28e0d9(0x5b8)]({'request':_0x9de74,'schema':ti,'ClassRef':rt,'execute':(_0x5154ea,_0x181e47)=>j[_0x28e0d9(0x6e8)](_0x5154ea,_0x181e47)});_0x19e8b3['status'](0xc9)[_0x28e0d9(0x149)](_0x1e1a4d);})[_0x178f59(0x518)](this['routerPath'](_0x178f59(0x33f)),..._0x855a7e,async(_0x10a46c,_0x3a30f7)=>{const _0x3d946d=_0x178f59;let _0x30146f=await this[_0x3d946d(0xf0)]({'request':_0x10a46c,'schema':ii,'ClassRef':nt,'execute':(_0x279d4b,_0x47a04f)=>j[_0x3d946d(0x33f)](_0x279d4b,_0x47a04f)});_0x3a30f7[_0x3d946d(0x4ff)](0xc9)['json'](_0x30146f);})[_0x178f59(0x518)](this[_0x178f59(0x33c)](_0x178f59(0x39b)),..._0x855a7e,async(_0x299c2a,_0x20b36b)=>{const _0x5de195=_0x178f59;let _0x343aa3=await this[_0x5de195(0xf0)]({'request':_0x299c2a,'schema':oi,'ClassRef':ct,'execute':(_0x54a777,_0x1ceac0)=>j[_0x5de195(0x39b)](_0x54a777,_0x1ceac0)});_0x20b36b[_0x5de195(0x4ff)](0xc9)[_0x5de195(0x149)](_0x343aa3);})[_0x178f59(0x518)](this[_0x178f59(0x33c)](_0x178f59(0x6c7)),..._0x855a7e,async(_0x192d8a,_0x2b3b2a)=>{const _0x47e09e=_0x178f59;let _0x58709a=await this['groupValidate']({'request':_0x192d8a,'schema':ri,'ClassRef':lt,'execute':(_0x4d6a34,_0x1ba2fc)=>j['groupName'](_0x4d6a34,_0x1ba2fc)});_0x2b3b2a[_0x47e09e(0x4ff)](0xc9)[_0x47e09e(0x149)](_0x58709a);})['put'](this[_0x178f59(0x33c)](_0x178f59(0x714)),..._0x855a7e,async(_0x9c2d06,_0x315a47)=>{const _0x47b5e5=_0x178f59;let _0x4ca680=await this[_0x47b5e5(0xf0)]({'request':_0x9c2d06,'schema':ci,'ClassRef':dt,'execute':(_0x3ce6aa,_0x4006f0)=>j['groupBetterSetting'](_0x3ce6aa,_0x4006f0)});_0x315a47[_0x47b5e5(0x4ff)](0xc9)['json'](_0x4ca680);})[_0x178f59(0x518)](this['routerPath'](_0x178f59(0x347)),..._0x855a7e,async(_0x50669b,_0xd6e294)=>{const _0x17de8a=_0x178f59;let _0x4eefdc=await this[_0x17de8a(0xf0)]({'request':_0x50669b,'schema':ni,'ClassRef':ut,'execute':(_0x121d30,_0x37b778)=>j['groupSetting'](_0x121d30,_0x37b778)});_0xd6e294['status'](0xc9)[_0x17de8a(0x149)](_0x4eefdc);})[_0x178f59(0x518)](this['routerPath'](_0x178f59(0x569)),..._0x855a7e,async(_0x44dbca,_0x29d07d)=>{const _0x21d054=_0x178f59;let _0x1fa56a=await this[_0x21d054(0xf0)]({'request':_0x44dbca,'schema':ai,'ClassRef':ht,'execute':(_0x4a3be8,_0x41ac9c)=>j[_0x21d054(0x569)](_0x4a3be8,_0x41ac9c)});_0x29d07d[_0x21d054(0x4ff)](0xc9)[_0x21d054(0x149)](_0x1fa56a);})[_0x178f59(0x5d6)](this[_0x178f59(0x33c)]('findGroupInfos'),..._0x855a7e,async(_0x50c0da,_0x24f2bc)=>{const _0x55ba1e=_0x178f59;let _0x563246=await this[_0x55ba1e(0xf0)]({'request':_0x50c0da,'schema':Te,'ClassRef':ee,'execute':(_0x5d4d5d,_0x2f4f7a)=>j['findGroupInfo'](_0x5d4d5d,_0x2f4f7a)});_0x24f2bc[_0x55ba1e(0x4ff)](0xc8)[_0x55ba1e(0x149)](_0x563246);})[_0x178f59(0x5d6)](this['routerPath'](_0x178f59(0x12c)),..._0x855a7e,async(_0x11999c,_0x4b5541)=>{const _0x46c029=_0x178f59;let _0x423258=await this['dataValidate']({'request':_0x11999c,'schema':v,'ClassRef':M,'execute':_0x2c9e53=>j[_0x46c029(0x12c)](_0x2c9e53)});_0x4b5541[_0x46c029(0x4ff)](0xc8)[_0x46c029(0x149)](_0x423258);})['get'](this[_0x178f59(0x33c)](_0x178f59(0x43e)),..._0x855a7e,async(_0x4e366c,_0x2adbe3)=>{const _0x5352d9=_0x178f59;let _0x2df20a=await this[_0x5352d9(0xf0)]({'request':_0x4e366c,'schema':Te,'ClassRef':ee,'execute':(_0x5e7c7b,_0x278269)=>j['findParticipants'](_0x5e7c7b,_0x278269)});_0x2adbe3[_0x5352d9(0x4ff)](0xc8)[_0x5352d9(0x149)](_0x2df20a);})[_0x178f59(0x5d6)](this[_0x178f59(0x33c)](_0x178f59(0x702)),..._0x855a7e,async(_0x20bc21,_0x2dddfa)=>{const _0x313468=_0x178f59;let _0x583d3f=await this[_0x313468(0xf0)]({'request':_0x20bc21,'schema':Te,'ClassRef':ee,'execute':(_0x20c0f3,_0x1eaf57)=>j[_0x313468(0x702)](_0x20c0f3,_0x1eaf57)});_0x2dddfa[_0x313468(0x4ff)](0xc8)[_0x313468(0x149)](_0x583d3f);})[_0x178f59(0x489)](this[_0x178f59(0x33c)]('inviteCodeDetails'),..._0x855a7e,async(_0xee3d17,_0xe7bd56)=>{const _0x2ca56c=_0x178f59;let _0x42a77f=await this[_0x2ca56c(0x341)]({'request':_0xee3d17,'schema':Ms,'ClassRef':Oe,'execute':(_0x430225,_0x424e1a)=>j[_0x2ca56c(0x35c)](_0x430225,_0x424e1a)});_0xe7bd56[_0x2ca56c(0x4ff)](0xc9)[_0x2ca56c(0x149)](_0x42a77f);})[_0x178f59(0x518)](this[_0x178f59(0x33c)](_0x178f59(0x568)),..._0x855a7e,async(_0x4f667d,_0x44d683)=>{const _0x104ac4=_0x178f59;let _0x425253=await this['joinGroupValidate']({'request':_0x4f667d,'schema':Ms,'ClassRef':Oe,'execute':(_0x42aeb3,_0x9bd16e)=>j[_0x104ac4(0x568)](_0x42aeb3,_0x9bd16e)});_0x44d683[_0x104ac4(0x4ff)](0xc9)['json'](_0x425253);})[_0x178f59(0x518)](this[_0x178f59(0x33c)]('revokeInviteCode'),..._0x855a7e,async(_0x296dd1,_0x1d51a3)=>{const _0x3497e9=_0x178f59;let _0x20bee9=await this['groupValidate']({'request':_0x296dd1,'schema':Te,'ClassRef':ee,'execute':(_0x337d16,_0x21b41b)=>j[_0x3497e9(0x2a4)](_0x337d16,_0x21b41b)});_0x1d51a3['status'](0xc9)[_0x3497e9(0x149)](_0x20bee9);})[_0x178f59(0x518)](this[_0x178f59(0x33c)]('updateParticipant'),..._0x855a7e,async(_0x35dba0,_0x4c05a2)=>{const _0x9de334=_0x178f59;let _0x7691c5=await this[_0x9de334(0xf0)]({'request':_0x35dba0,'schema':si,'ClassRef':pt,'execute':(_0x3d949a,_0x530f5c)=>j['updateGParticipate'](_0x3d949a,_0x530f5c)});_0x4c05a2['status'](0xc9)[_0x9de334(0x149)](_0x7691c5);})[_0x178f59(0x6f4)](this['routerPath'](_0x178f59(0x2cd)),..._0x855a7e,async(_0x345d6b,_0xbd971c)=>{const _0x68bdd4=_0x178f59;let _0x5e05ba=await this[_0x68bdd4(0xf0)]({'request':_0x345d6b,'schema':{},'ClassRef':ee,'execute':(_0x51844f,_0x4e03e6)=>j[_0x68bdd4(0x2cd)](_0x51844f,_0x4e03e6)});_0xbd971c[_0x68bdd4(0x4ff)](0xc8)['json'](_0x5e05ba);});}},pi=require(a0_0x1ec3bd(0x1bf)),mt=class extends V{constructor(_0x1e7b39,..._0x1911b7){const _0xf907b8=a0_0x1ec3bd;super(),this[_0xf907b8(0x6f0)]=_0x1e7b39,this[_0xf907b8(0x5c5)]=(0x0,pi[_0xf907b8(0x791)])();let _0x14a6c9=_0x1e7b39['get'](_0xf907b8(0x30a));this[_0xf907b8(0x5c5)][_0xf907b8(0x489)](_0xf907b8(0x45c),..._0x1911b7,async(_0x4dcce1,_0x5c9c7a)=>{const _0x5ee785=_0xf907b8;let {instanceName:_0x5c423c,apikey:_0x2809e3,number:_0x3f3b57}=_0x4dcce1[_0x5ee785(0x441)],_0x21d809=await le[_0x5ee785(0x759)]({'instanceName':_0x5c423c,'apikey':_0x2809e3,'number':_0x3f3b57});return _0x5c9c7a[_0x5ee785(0x4ff)](0xc9)['json'](_0x21d809);})[_0xf907b8(0x518)](this[_0xf907b8(0x33c)](_0xf907b8(0x137)),..._0x1911b7,async(_0x5dda08,_0x19ea8e)=>{const _0x1ca13d=_0xf907b8;let _0x57e763=await this[_0x1ca13d(0x5b8)]({'request':_0x5dda08,'schema':v,'ClassRef':M,'execute':_0x282b29=>le[_0x1ca13d(0x7a9)](_0x282b29)});return _0x19ea8e[_0x1ca13d(0x4ff)](0xc8)[_0x1ca13d(0x149)](_0x57e763);})[_0xf907b8(0x5d6)](this[_0xf907b8(0x33c)]('connect'),..._0x1911b7,async(_0x45c491,_0x6c5572)=>{const _0x2cdf65=_0xf907b8;let _0x5e5f02=await this[_0x2cdf65(0x5b8)]({'request':_0x45c491,'schema':v,'ClassRef':M,'execute':_0x2c06e4=>le[_0x2cdf65(0x38a)](_0x2c06e4)});return _0x6c5572[_0x2cdf65(0x4ff)](0xc8)['json'](_0x5e5f02);})[_0xf907b8(0x5d6)](this[_0xf907b8(0x33c)](_0xf907b8(0x6e4)),..._0x1911b7,async(_0x101d61,_0x4db2ec)=>{const _0xa24d27=_0xf907b8;let _0x1a14f5=await this[_0xa24d27(0x5b8)]({'request':_0x101d61,'schema':v,'ClassRef':M,'execute':_0x592cc1=>le['connectionState'](_0x592cc1)});return _0x4db2ec['status'](0xc8)['json'](_0x1a14f5);})[_0xf907b8(0x5d6)](this[_0xf907b8(0x33c)](_0xf907b8(0x4f2),!0x1),..._0x1911b7,async(_0x1d4635,_0x2234f9)=>{const _0x4b9cc4=_0xf907b8;let _0x523592=await this[_0x4b9cc4(0x5b8)]({'request':_0x1d4635,'schema':null,'ClassRef':M,'execute':_0x2cd337=>le[_0x4b9cc4(0x4f2)](_0x2cd337)});return _0x2234f9['status'](0xc8)['json'](_0x523592);})['delete'](this[_0xf907b8(0x33c)](_0xf907b8(0x510)),..._0x1911b7,async(_0x3ca0db,_0x30fbb4)=>{const _0x36681e=_0xf907b8;let _0x38328d=await this[_0x36681e(0x5b8)]({'request':_0x3ca0db,'schema':v,'ClassRef':M,'execute':_0x521467=>le[_0x36681e(0x510)](_0x521467)});return _0x30fbb4[_0x36681e(0x4ff)](0xc8)[_0x36681e(0x149)](_0x38328d);})[_0xf907b8(0x6f4)](this['routerPath'](_0xf907b8(0x6f4)),..._0x1911b7,async(_0x37d6e2,_0x3260e8)=>{const _0x38c1cd=_0xf907b8;let _0x182f86=await this['dataValidate']({'request':_0x37d6e2,'schema':v,'ClassRef':M,'execute':_0x25fe11=>le['deleteInstance'](_0x25fe11)});return _0x3260e8[_0x38c1cd(0x4ff)](0xc8)[_0x38c1cd(0x149)](_0x182f86);});}},hi=require(a0_0x1ec3bd(0x1bf)),Es=class{},z=class extends Es{},ft=class extends z{},wt=class extends z{},yt=class extends z{},bt=class extends z{},_e=class extends z{},St=class extends z{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class{},$t=class extends V{constructor(..._0x20d160){const _0x275556=a0_0x1ec3bd;super(),this[_0x275556(0x5c5)]=(0x0,hi[_0x275556(0x791)])(),this[_0x275556(0x5c5)][_0x275556(0x489)](this[_0x275556(0x33c)](_0x275556(0x186)),..._0x20d160,async(_0x10f965,_0x5268e1)=>{const _0x24a3ae=_0x275556;let _0x206463=await this[_0x24a3ae(0x5b8)]({'request':_0x10f965,'schema':Oa,'ClassRef':ft,'execute':(_0x1b6aa0,_0x4f7757)=>B[_0x24a3ae(0x186)](_0x1b6aa0,_0x4f7757)});return _0x5268e1[_0x24a3ae(0x4ff)](0xc9)[_0x24a3ae(0x149)](_0x206463);})['post'](this[_0x275556(0x33c)](_0x275556(0x3d3)),..._0x20d160,async(_0x33f232,_0x5780b4)=>{const _0x412b87=_0x275556;let _0x55f9ee=await this[_0x412b87(0x5b8)]({'request':_0x33f232,'schema':Pa,'ClassRef':_e,'execute':(_0x225c2c,_0x4a35b0)=>B[_0x412b87(0x3d3)](_0x225c2c,_0x4a35b0)});return _0x5780b4[_0x412b87(0x4ff)](0xc9)[_0x412b87(0x149)](_0x55f9ee);})[_0x275556(0x489)](this[_0x275556(0x33c)](_0x275556(0x446)),..._0x20d160,async(_0x5b40a0,_0x5c23e6)=>{let _0x29d10e=await this['dataValidate']({'request':_0x5b40a0,'schema':Fa,'ClassRef':bt,'execute':(_0x164248,_0x436c8d)=>B['sendMenu'](_0x164248,_0x436c8d)});return _0x5c23e6['status'](0xc9)['json'](_0x29d10e);})[_0x275556(0x489)](this[_0x275556(0x33c)]('sendWhatsAppAudio'),..._0x20d160,async(_0x6cc58b,_0x5504cc)=>{const _0x3c889b=_0x275556;let _0x274f92=await this['dataValidate']({'request':_0x6cc58b,'schema':ka,'ClassRef':_e,'execute':(_0x297962,_0x49b786)=>B[_0x3c889b(0x6a7)](_0x297962,_0x49b786)});return _0x5504cc[_0x3c889b(0x4ff)](0xc9)['json'](_0x274f92);})['post'](this[_0x275556(0x33c)](_0x275556(0x4d2)),..._0x20d160,async(_0xe1082f,_0x3d12d2)=>{const _0x3c6661=_0x275556;let _0x182b19=await this[_0x3c6661(0x5b8)]({'request':_0xe1082f,'schema':Ua,'ClassRef':Mt,'execute':(_0x12997b,_0x2df436)=>B[_0x3c6661(0x4d2)](_0x12997b,_0x2df436)});return _0x3d12d2[_0x3c6661(0x4ff)](0xc9)[_0x3c6661(0x149)](_0x182b19);})['post'](this['routerPath'](_0x275556(0xa4)),..._0x20d160,async(_0x1ff0c1,_0xedc3c8)=>{const _0x2a09bf=_0x275556;let _0x37b295=await this[_0x2a09bf(0x5b8)]({'request':_0x1ff0c1,'schema':ja,'ClassRef':Ct,'execute':(_0x28d037,_0x530c5c)=>B[_0x2a09bf(0xa4)](_0x28d037,_0x530c5c)});return _0xedc3c8[_0x2a09bf(0x4ff)](0xc9)[_0x2a09bf(0x149)](_0x37b295);})['post'](this[_0x275556(0x33c)](_0x275556(0x619)),..._0x20d160,async(_0x484d4d,_0x3a46b6)=>{const _0x871322=_0x275556;let _0x57ed4e=await this[_0x871322(0x5b8)]({'request':_0x484d4d,'schema':Ja,'ClassRef':Et,'execute':(_0x5b8377,_0x117bc0)=>B['sendList'](_0x5b8377,_0x117bc0)});return _0x3a46b6['status'](0xc9)[_0x871322(0x149)](_0x57ed4e);})['post'](this[_0x275556(0x33c)](_0x275556(0x36d)),..._0x20d160,async(_0x5106e6,_0x10d568)=>{const _0x3236ae=_0x275556;let _0x5e8fae=await this['dataValidate']({'request':_0x5106e6,'schema':qa,'ClassRef':vt,'execute':(_0x479795,_0x1c71d3)=>B['sendContact'](_0x479795,_0x1c71d3)});return _0x10d568['status'](0xc9)[_0x3236ae(0x149)](_0x5e8fae);})[_0x275556(0x489)](this[_0x275556(0x33c)](_0x275556(0x233)),..._0x20d160,async(_0x2c052,_0x44f20e)=>{const _0x4afc1e=_0x275556;let _0x134076=await this[_0x4afc1e(0x5b8)]({'request':_0x2c052,'schema':Va,'ClassRef':Nt,'execute':(_0x14e7cf,_0x4efeed)=>B[_0x4afc1e(0x233)](_0x14e7cf,_0x4efeed)});return _0x44f20e[_0x4afc1e(0x4ff)](0xc9)[_0x4afc1e(0x149)](_0x134076);})[_0x275556(0x489)](this[_0x275556(0x33c)]('sendPoll'),..._0x20d160,async(_0x2a7e69,_0x1da445)=>{const _0x2203c7=_0x275556;let _0x2f0a0a=await this[_0x2203c7(0x5b8)]({'request':_0x2a7e69,'schema':La,'ClassRef':yt,'execute':(_0x243713,_0x5f52eb)=>B['sendPoll'](_0x243713,_0x5f52eb)});return _0x1da445[_0x2203c7(0x4ff)](0xc9)[_0x2203c7(0x149)](_0x2f0a0a);})[_0x275556(0x489)](this[_0x275556(0x33c)](_0x275556(0x83)),..._0x20d160,async(_0x46d311,_0xbd9283)=>{const _0x393b3f=_0x275556;let _0x3894d6=await this['dataValidate']({'request':_0x46d311,'schema':Da,'ClassRef':wt,'execute':(_0x1f131a,_0x66034e)=>B['sendStatus'](_0x1f131a,_0x66034e)});return _0xbd9283[_0x393b3f(0x4ff)](0xc9)[_0x393b3f(0x149)](_0x3894d6);})['post'](this[_0x275556(0x33c)](_0x275556(0x50b)),..._0x20d160,async(_0x58eaac,_0x5dcfd1)=>{const _0x491c5d=_0x275556;let _0x4dbd3f=await this[_0x491c5d(0x5b8)]({'request':_0x58eaac,'schema':xa,'ClassRef':St,'execute':(_0x2747e3,_0x4ff76b)=>B[_0x491c5d(0x50b)](_0x2747e3,_0x4ff76b)});return _0x5dcfd1[_0x491c5d(0x4ff)](0xc9)[_0x491c5d(0x149)](_0x4dbd3f);});}},gi=require(a0_0x1ec3bd(0x1bf)),Rt=class{},At=class extends V{constructor(..._0x2e8bde){const _0xbdbeca=a0_0x1ec3bd;super(),this['router']=(0x0,gi[_0xbdbeca(0x791)])(),this[_0xbdbeca(0x5c5)][_0xbdbeca(0x489)](this['routerPath'](_0xbdbeca(0x26c)),..._0x2e8bde,async(_0x4b2e0b,_0x1a5a5e)=>{const _0x22467b=_0xbdbeca;let _0x3dd64a=await this[_0x22467b(0x5b8)]({'request':_0x4b2e0b,'schema':li,'ClassRef':Rt,'execute':(_0x1d4357,_0x107d6b)=>vs[_0x22467b(0x40e)](_0x1d4357,_0x107d6b)});_0x1a5a5e[_0x22467b(0x4ff)](0xc9)[_0x22467b(0x149)](_0x3dd64a);})[_0xbdbeca(0x5d6)](this[_0xbdbeca(0x33c)](_0xbdbeca(0x435)),..._0x2e8bde,async(_0x4f4bba,_0xcce6aa)=>{const _0xeb6fd5=_0xbdbeca;let _0x3cfa17=await this[_0xeb6fd5(0x5b8)]({'request':_0x4f4bba,'schema':v,'ClassRef':M,'execute':_0xc152c4=>vs['findWebhook'](_0xc152c4)});_0xcce6aa[_0xeb6fd5(0x4ff)](0xc8)[_0xeb6fd5(0x149)](_0x3cfa17);});}},mi=require(a0_0x1ec3bd(0x1bf)),y=new N(a0_0x1ec3bd(0x305)),It=class extends V{constructor(..._0x563b5d){const _0x300d0b=a0_0x1ec3bd;super(),this['router']=(0x0,mi['Router'])(),this[_0x300d0b(0x5c5)][_0x300d0b(0x489)](this['routerPath'](_0x300d0b(0x4ec)),..._0x563b5d,async(_0x3d0099,_0x3b8ded)=>{const _0x2c73e4=_0x300d0b;let _0x248b74=_0x3d0099['body'];y[_0x2c73e4(0x7ac)](_0x2c73e4(0x3e6)),y['verbose'](_0x2c73e4(0x526)),y[_0x2c73e4(0x7ac)](_0x3d0099['body']);let _0x22897a=await this[_0x2c73e4(0x5b8)]({'request':_0x3d0099,'schema':v,'ClassRef':M,'execute':_0x5c3566=>I[_0x2c73e4(0x788)](_0x5c3566,_0x248b74)});_0x3b8ded[_0x2c73e4(0x4ff)](0xc8)[_0x2c73e4(0x149)](_0x22897a);})[_0x300d0b(0x5d6)](this[_0x300d0b(0x33c)](_0x300d0b(0x4ec)),..._0x563b5d,async(_0x658d1,_0x4efa49)=>{const _0x7e740b=_0x300d0b;let _0x522228=await this['dataValidate']({'request':_0x658d1,'schema':v,'ClassRef':M,'execute':_0x11a83d=>I[_0x7e740b(0x4e5)](_0x11a83d)});_0x4efa49[_0x7e740b(0x4ff)](0xc8)[_0x7e740b(0x149)](_0x522228);})[_0x300d0b(0x6f4)](this[_0x300d0b(0x33c)](_0x300d0b(0x388)),..._0x563b5d,async(_0x3c8b68,_0x3b5668)=>{const _0x4d6a46=_0x300d0b;y[_0x4d6a46(0x7ac)](_0x4d6a46(0x4f5));let _0xb397d=await this[_0x4d6a46(0x5b8)]({'request':_0x3c8b68,'schema':v,'ClassRef':M,'execute':_0x47d4d5=>I[_0x4d6a46(0x388)](_0x47d4d5)});_0x3b5668[_0x4d6a46(0x4ff)](0xc8)[_0x4d6a46(0x149)](_0xb397d);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x73c)),..._0x563b5d,async(_0x1716cb,_0x5d75ec)=>{const _0x47cf66=_0x300d0b;let _0xaf37ab=_0x1716cb[_0x47cf66(0x441)];y[_0x47cf66(0x7ac)]('request\x20received\x20in\x20starFlow'),y[_0x47cf66(0x7ac)]('request\x20body:\x20'),y[_0x47cf66(0x7ac)](_0x1716cb[_0x47cf66(0x441)]);let _0xf6e68=await this['dataValidate']({'request':_0x1716cb,'schema':v,'ClassRef':M,'execute':_0xe46372=>I[_0x47cf66(0x73c)](_0xe46372,_0xaf37ab)});_0x5d75ec[_0x47cf66(0x4ff)](0xc8)[_0x47cf66(0x149)](_0xf6e68);})[_0x300d0b(0x5d6)](this[_0x300d0b(0x33c)](_0x300d0b(0x31b)),..._0x563b5d,async(_0x5ecb31,_0x1e7508)=>{const _0x19aa99=_0x300d0b;y['verbose'](_0x19aa99(0x603));let _0x488b8a=await this[_0x19aa99(0x5b8)]({'request':_0x5ecb31,'schema':v,'ClassRef':M,'execute':_0x15cd40=>I['getAutomateSystem'](_0x15cd40)});_0x1e7508[_0x19aa99(0x4ff)](0xc8)['json'](_0x488b8a);})[_0x300d0b(0x5d6)](this[_0x300d0b(0x33c)](_0x300d0b(0x6d8)),..._0x563b5d,async(_0x2c929f,_0x190133)=>{const _0x1c2df5=_0x300d0b;y[_0x1c2df5(0x7ac)](_0x1c2df5(0x713));let _0x586b4b=await this[_0x1c2df5(0x5b8)]({'request':_0x2c929f,'schema':v,'ClassRef':M,'execute':_0x15bfe1=>I[_0x1c2df5(0x31b)](_0x15bfe1)});_0x190133[_0x1c2df5(0x4ff)](0xc8)[_0x1c2df5(0x149)](_0x586b4b);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x5ed)),..._0x563b5d,async(_0x592500,_0x2b6186)=>{const _0x32dc87=_0x300d0b;let _0x33d1f2=_0x592500[_0x32dc87(0x441)];y[_0x32dc87(0x7ac)](_0x32dc87(0x182)),y[_0x32dc87(0x7ac)](_0x32dc87(0x526)),y[_0x32dc87(0x7ac)](_0x592500['body']);let _0x237813=await this['dataValidate']({'request':_0x592500,'schema':v,'ClassRef':M,'execute':_0x244282=>I[_0x32dc87(0x5ed)](_0x244282,_0x33d1f2)});_0x2b6186['status'](0xc8)['json'](_0x237813);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x37c)),..._0x563b5d,async(_0x13c450,_0x16d43a)=>{const _0x559696=_0x300d0b;let _0x36d9d4=_0x13c450[_0x559696(0x441)];y[_0x559696(0x7ac)](_0x559696(0x77f)),y[_0x559696(0x7ac)](_0x559696(0x526)),y[_0x559696(0x7ac)](_0x13c450[_0x559696(0x441)]);let _0x2afc75=await this['dataValidate']({'request':_0x13c450,'schema':v,'ClassRef':M,'execute':_0x4ed831=>I[_0x559696(0x37c)](_0x4ed831,_0x36d9d4)});_0x16d43a['status'](0xc8)[_0x559696(0x149)](_0x2afc75);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x61d)),..._0x563b5d,async(_0x329586,_0x4b2463)=>{const _0x2ac13e=_0x300d0b;let _0x2eb36c=_0x329586['body'];y['verbose']('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x2ac13e(0x7ac)]('request\x20body:\x20'),y[_0x2ac13e(0x7ac)](_0x329586[_0x2ac13e(0x441)]);let _0x4b9147=await this[_0x2ac13e(0x5b8)]({'request':_0x329586,'schema':v,'ClassRef':M,'execute':_0x35cc66=>I['updateAutoCompleteMessages'](_0x35cc66,_0x2eb36c)});_0x4b2463[_0x2ac13e(0x4ff)](0xc8)[_0x2ac13e(0x149)](_0x4b9147);})['post'](this[_0x300d0b(0x33c)](_0x300d0b(0x7c9)),..._0x563b5d,async(_0x9df645,_0x432a5d)=>{const _0xc7fe43=_0x300d0b;let _0x493db2=_0x9df645[_0xc7fe43(0x441)];y['verbose'](_0xc7fe43(0x701)),y[_0xc7fe43(0x7ac)]('request\x20body:\x20'),y[_0xc7fe43(0x7ac)](_0x9df645[_0xc7fe43(0x441)]);let _0xc1f61a=await this[_0xc7fe43(0x5b8)]({'request':_0x9df645,'schema':v,'ClassRef':M,'execute':_0x4e6041=>I[_0xc7fe43(0x7c9)](_0x4e6041,_0x493db2)});_0x432a5d[_0xc7fe43(0x4ff)](0xc8)[_0xc7fe43(0x149)](_0xc1f61a);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x711)),..._0x563b5d,async(_0x36b21c,_0x5ad70e)=>{const _0x5bbe2b=_0x300d0b;let _0x2350d8=_0x36b21c[_0x5bbe2b(0x441)];y[_0x5bbe2b(0x7ac)]('request\x20received\x20in\x20getConversation'),y[_0x5bbe2b(0x7ac)]('request\x20body:\x20'),y[_0x5bbe2b(0x7ac)](_0x36b21c[_0x5bbe2b(0x441)]);let _0x59efbe=await this['dataValidate']({'request':_0x36b21c,'schema':v,'ClassRef':M,'execute':_0x25ec51=>I[_0x5bbe2b(0x711)](_0x25ec51,_0x2350d8)});_0x5ad70e['status'](0xc8)[_0x5bbe2b(0x149)](_0x59efbe);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x70a)),..._0x563b5d,async(_0x342416,_0x193f36)=>{const _0x334919=_0x300d0b;let _0x29a550=_0x342416[_0x334919(0x441)];y['verbose'](_0x334919(0x495)),y[_0x334919(0x7ac)](_0x334919(0x526)),y[_0x334919(0x7ac)](_0x342416[_0x334919(0x441)]);let _0x1a2606=await this[_0x334919(0x5b8)]({'request':_0x342416,'schema':v,'ClassRef':M,'execute':_0x2147a9=>I['fetchConversation'](_0x2147a9,_0x29a550)});_0x193f36[_0x334919(0x4ff)](0xc8)[_0x334919(0x149)](_0x1a2606);})['post'](this[_0x300d0b(0x33c)]('editConversation'),..._0x563b5d,async(_0x10bec0,_0x34fa7f)=>{const _0xed33a=_0x300d0b;let _0x103940=_0x10bec0[_0xed33a(0x441)];y[_0xed33a(0x7ac)](_0xed33a(0x33e)),y['verbose'](_0xed33a(0x526)),y[_0xed33a(0x7ac)](_0x10bec0[_0xed33a(0x441)]);let _0x281c39=await this[_0xed33a(0x5b8)]({'request':_0x10bec0,'schema':v,'ClassRef':M,'execute':_0x396722=>I['editConversation'](_0x396722,_0x103940)});_0x34fa7f['status'](0xc8)[_0xed33a(0x149)](_0x281c39);})[_0x300d0b(0x6f4)](this[_0x300d0b(0x33c)]('deleteConversation'),..._0x563b5d,async(_0x14b5de,_0x21a6db)=>{const _0x452604=_0x300d0b;let _0x491813=_0x14b5de['body'];y[_0x452604(0x7ac)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x452604(0x526)),y[_0x452604(0x7ac)](_0x14b5de[_0x452604(0x441)]);let _0x218433=await this['dataValidate']({'request':_0x14b5de,'schema':v,'ClassRef':M,'execute':_0xca04c7=>I[_0x452604(0x4fb)](_0xca04c7,_0x491813)});_0x21a6db[_0x452604(0x4ff)](0xc8)[_0x452604(0x149)](_0x218433);})['post'](this[_0x300d0b(0x33c)](_0x300d0b(0x4ed)),..._0x563b5d,async(_0x1e0ed2,_0x468168)=>{const _0x262a5d=_0x300d0b;let _0x38570e=_0x1e0ed2[_0x262a5d(0x441)],_0x459640=_0x1e0ed2[_0x262a5d(0x64c)][_0x262a5d(0x469)];y[_0x262a5d(0x7ac)](_0x262a5d(0x1e3)),y['verbose'](_0x262a5d(0x526)),y['verbose'](_0x1e0ed2[_0x262a5d(0x441)]);let _0x140f8c=await this[_0x262a5d(0x5b8)]({'request':_0x1e0ed2,'schema':v,'ClassRef':M,'execute':_0x2b82ad=>I[_0x262a5d(0x31d)](_0x2b82ad,_0x38570e,_0x459640)});_0x468168[_0x262a5d(0x4ff)](0xc8)[_0x262a5d(0x149)](_0x140f8c);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)]('editflow'),..._0x563b5d,async(_0x1cc0b4,_0x3ba0b5)=>{const _0x5b47e2=_0x300d0b;let _0x13d4c4=_0x1cc0b4[_0x5b47e2(0x441)],_0x169c0a=_0x1cc0b4[_0x5b47e2(0x64c)][_0x5b47e2(0x469)];y[_0x5b47e2(0x7ac)](_0x5b47e2(0x21f)),y['verbose'](_0x5b47e2(0x526)),y[_0x5b47e2(0x7ac)](_0x1cc0b4[_0x5b47e2(0x441)]),delete _0x13d4c4[_0x5b47e2(0xc0)],delete _0x13d4c4[_0x5b47e2(0x19f)],delete _0x13d4c4[_0x5b47e2(0x2dd)],delete _0x13d4c4[_0x5b47e2(0x308)];let _0x482317=await this[_0x5b47e2(0x5b8)]({'request':_0x1cc0b4,'schema':v,'ClassRef':M,'execute':_0x246187=>I['editFlow'](_0x246187,_0x13d4c4,_0x169c0a)});_0x3ba0b5[_0x5b47e2(0x4ff)](0xc8)[_0x5b47e2(0x149)](_0x482317);})[_0x300d0b(0x489)](this['routerPath'](_0x300d0b(0x3d0)),..._0x563b5d,async(_0x13e189,_0x1b471e)=>{const _0x36bcf7=_0x300d0b;let _0x8b2f81=_0x13e189[_0x36bcf7(0x441)];y[_0x36bcf7(0x7ac)](_0x36bcf7(0x21f)),y['verbose'](_0x36bcf7(0x526)),y[_0x36bcf7(0x7ac)](_0x13e189[_0x36bcf7(0x441)]);let _0x3f456e=await this[_0x36bcf7(0x5b8)]({'request':_0x13e189,'schema':v,'ClassRef':M,'execute':_0x3ab3d0=>I[_0x36bcf7(0x4b0)](_0x3ab3d0,_0x8b2f81)});_0x1b471e['status'](0xc8)['json'](_0x3f456e);})['post'](this[_0x300d0b(0x33c)](_0x300d0b(0x675)),..._0x563b5d,async(_0x9f478e,_0x3f6d0b)=>{const _0x3dc18b=_0x300d0b;let _0x589888=_0x9f478e[_0x3dc18b(0x441)];y['verbose']('request\x20received\x20in\x20editFlow'),y['verbose'](_0x3dc18b(0x526)),y[_0x3dc18b(0x7ac)](_0x9f478e[_0x3dc18b(0x441)]);let _0x441c7b=await this['dataValidate']({'request':_0x9f478e,'schema':v,'ClassRef':M,'execute':_0x5c6886=>I[_0x3dc18b(0x139)](_0x5c6886,_0x589888)});_0x3f6d0b['status'](0xc8)[_0x3dc18b(0x149)](_0x441c7b);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x550)),..._0x563b5d,async(_0x1eb9e9,_0x504462)=>{const _0x29aacb=_0x300d0b;let _0x175e07=_0x1eb9e9['body'];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x29aacb(0x7ac)](_0x29aacb(0x526)),y[_0x29aacb(0x7ac)](_0x1eb9e9[_0x29aacb(0x441)]);let _0x8e8536=await this['dataValidate']({'request':_0x1eb9e9,'schema':v,'ClassRef':M,'execute':_0x375012=>I['editFlowVaredit'](_0x375012,_0x175e07)});_0x504462[_0x29aacb(0x4ff)](0xc8)[_0x29aacb(0x149)](_0x8e8536);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)]('editflowgroup'),..._0x563b5d,async(_0x34d983,_0x163b09)=>{const _0x11eba8=_0x300d0b;let _0x375d7c=_0x34d983[_0x11eba8(0x441)];y[_0x11eba8(0x7ac)](_0x11eba8(0x6ce)),y[_0x11eba8(0x7ac)](_0x11eba8(0x526)),y[_0x11eba8(0x7ac)](_0x34d983['body']);let _0x539fa6=await this['dataValidate']({'request':_0x34d983,'schema':v,'ClassRef':M,'execute':_0x467570=>I[_0x11eba8(0x471)](_0x467570,_0x375d7c)});_0x163b09['status'](0xc8)[_0x11eba8(0x149)](_0x539fa6);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x1ff)),..._0x563b5d,async(_0x275cb5,_0x1e8480)=>{const _0x796bdf=_0x300d0b;let _0x2696cf=_0x275cb5[_0x796bdf(0x441)];y[_0x796bdf(0x7ac)](_0x796bdf(0xba)),y[_0x796bdf(0x7ac)](_0x796bdf(0x526)),y['verbose'](_0x275cb5[_0x796bdf(0x441)]);let _0x5d4a7d=await this[_0x796bdf(0x5b8)]({'request':_0x275cb5,'schema':v,'ClassRef':M,'execute':_0x305775=>I[_0x796bdf(0x5fd)](_0x305775,_0x2696cf)});_0x1e8480[_0x796bdf(0x4ff)](0xc8)[_0x796bdf(0x149)](_0x5d4a7d);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x146)),..._0x563b5d,async(_0x29fd8e,_0x263c87)=>{const _0x209c9d=_0x300d0b;let _0x10182e=_0x29fd8e[_0x209c9d(0x441)];y['verbose'](_0x209c9d(0x517)),y[_0x209c9d(0x7ac)](_0x209c9d(0x526)),y[_0x209c9d(0x7ac)](_0x29fd8e[_0x209c9d(0x441)]);let _0x40a7c6=await this[_0x209c9d(0x5b8)]({'request':_0x29fd8e,'schema':v,'ClassRef':M,'execute':_0x2fdd89=>I[_0x209c9d(0x6e3)](_0x2fdd89,_0x10182e)});_0x263c87['status'](0xc8)[_0x209c9d(0x149)](_0x40a7c6);})[_0x300d0b(0x489)](this[_0x300d0b(0x33c)](_0x300d0b(0x2ea)),..._0x563b5d,async(_0x5428a2,_0xeef310)=>{const _0x548a7c=_0x300d0b;let _0x2c3be9=_0x5428a2['body'];y[_0x548a7c(0x7ac)](_0x548a7c(0x2c6)),y[_0x548a7c(0x7ac)](_0x548a7c(0x526)),y['verbose'](_0x5428a2[_0x548a7c(0x441)]);let _0x53cb3b=await this['dataValidate']({'request':_0x5428a2,'schema':v,'ClassRef':M,'execute':_0xba83b6=>I[_0x548a7c(0x42e)](_0xba83b6,_0x2c3be9)});_0xeef310[_0x548a7c(0x4ff)](0xc8)[_0x548a7c(0x149)](_0x53cb3b);})[_0x300d0b(0x6f4)](this[_0x300d0b(0x33c)]('deleteflow'),..._0x563b5d,async(_0x583c9b,_0x5d906b)=>{const _0x1a452c=_0x300d0b;let _0x40d0b0=_0x583c9b[_0x1a452c(0x441)];y[_0x1a452c(0x7ac)](_0x1a452c(0x1b2)),y[_0x1a452c(0x7ac)](_0x1a452c(0x526)),y[_0x1a452c(0x7ac)](_0x583c9b[_0x1a452c(0x441)]);let _0x570f6c=await this['dataValidate']({'request':_0x583c9b,'schema':v,'ClassRef':M,'execute':_0x59c3e8=>I[_0x1a452c(0x10a)](_0x59c3e8,_0x40d0b0)});_0x5d906b[_0x1a452c(0x4ff)](0xc8)[_0x1a452c(0x149)](_0x570f6c);})[_0x300d0b(0x5d6)](this['routerPath'](_0x300d0b(0x280)),..._0x563b5d,async(_0x49a164,_0xcefeb0)=>{const _0xf76099=_0x300d0b;y[_0xf76099(0x7ac)](_0xf76099(0x5f2));let _0x468db0=await this[_0xf76099(0x5b8)]({'request':_0x49a164,'schema':v,'ClassRef':M,'execute':_0x4000d5=>I[_0xf76099(0x721)](_0x4000d5)});_0xcefeb0[_0xf76099(0x4ff)](0xc8)[_0xf76099(0x149)](_0x468db0);});}},bi=R(require('path')),te={};function fi(_0xd6d2f6,_0x49438f,_0x49d0ce,_0x4465ae){te[_0xd6d2f6]||(te[_0xd6d2f6]={}),te[_0xd6d2f6][_0x49438f]={'id':_0x49438f,'response':_0x49d0ce,'events':_0x4465ae};}function wi(_0x34ba1a,_0x3dcfb7){!te[_0x34ba1a]||!te[_0x34ba1a][_0x3dcfb7]||delete te[_0x34ba1a][_0x3dcfb7];}function U(_0x1d4e61,_0x2836ee,_0x105af9){const _0x4fb5a4=a0_0x1ec3bd;if(!te[_0x1d4e61])return;let _0x4d98b7='data:\x20'+JSON[_0x4fb5a4(0x5b9)](_0x105af9)+'\x0a\x0a';Object[_0x4fb5a4(0x3ff)](te[_0x1d4e61])[_0x4fb5a4(0x730)](_0xa4d7f2=>{const _0x5552ee=_0x4fb5a4;_0xa4d7f2[_0x5552ee(0x1a3)][_0x5552ee(0x39c)](_0x2836ee)&&_0xa4d7f2['response'][_0x5552ee(0x519)](_0x4d98b7);});}function yi(){const _0x31dbaa=a0_0x1ec3bd;let _0x44a82d={};for(let _0x3d810b in te)_0x44a82d[_0x3d810b]=Object[_0x31dbaa(0x3ff)](te[_0x3d810b])[_0x31dbaa(0x6ef)](_0x3e148f=>({'id':_0x3e148f['id'],'events':_0x3e148f[_0x31dbaa(0x1a3)]}));return _0x44a82d;}var Si=require(a0_0x1ec3bd(0x202)),$s=require(a0_0x1ec3bd(0x59e)),Ns=class{},Ro=new $s[(a0_0x1ec3bd(0x1e2))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new $s['Schema']({'_id':{'type':String,'default':a0_0x1ec3bd(0x112)},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0x1ec3bd(0x1f2)](Ns['name'],Ao,'All_Instances_Config'),Io=bi['default']['join'](__dirname,a0_0x1ec3bd(0x23c)),xe=(0x0,Tt['Router'])(),To=b[a0_0x1ec3bd(0x5d6)](a0_0x1ec3bd(0x30a))[a0_0x1ec3bd(0x3d8)],oe=[Na,$a,Ia[To]];xe[a0_0x1ec3bd(0x71f)](a0_0x1ec3bd(0x746),Tt[a0_0x1ec3bd(0x442)][a0_0x1ec3bd(0x6d2)](Io))[a0_0x1ec3bd(0x5d6)](a0_0x1ec3bd(0x797),async(_0x4d84f3,_0x1afbd1)=>{const _0x5df0f2=a0_0x1ec3bd;console['log'](_0x5df0f2(0x3c7));let _0x1d7424=_0x4d84f3['params'][_0x5df0f2(0x68c)],_0x11251b=(_0x4d84f3['query'][_0x5df0f2(0x1a3)]||'')['split'](','),_0x3e13a7=(0x0,Si['v4'])();console['log']('Instance\x20ID:',_0x1d7424),console[_0x5df0f2(0x1d9)](_0x5df0f2(0x2b7),_0x11251b);let _0xb3979e=b[_0x5df0f2(0x5d6)](_0x5df0f2(0x30a))[_0x5df0f2(0x344)],_0x4cb5c1=_0x4d84f3[_0x5df0f2(0x36f)][_0x5df0f2(0x469)];if(console[_0x5df0f2(0x1d9)](_0x5df0f2(0x13b),_0x4cb5c1),_0xb3979e[_0x5df0f2(0x6d6)]!==_0x4cb5c1){console[_0x5df0f2(0x1d9)](_0x5df0f2(0x19a));try{let _0x151467=await he['auth'][_0x5df0f2(0x435)](_0x1d7424);if(console[_0x5df0f2(0x1d9)](_0x5df0f2(0x369),_0x151467),!_0x151467||_0x151467['apikey']!==_0x4cb5c1)return console[_0x5df0f2(0x1d9)](_0x5df0f2(0x67b)),_0x1afbd1[_0x5df0f2(0x4ff)](0x191)['send'](_0x5df0f2(0x3a1));}catch(_0x3f6604){return console[_0x5df0f2(0x4e6)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x3f6604),_0x1afbd1[_0x5df0f2(0x4ff)](0x191)[_0x5df0f2(0x103)](_0x5df0f2(0x331));}}if(!await Ae(_0x1d7424))return _0x1afbd1['status'](0x194)[_0x5df0f2(0x103)](_0x5df0f2(0x50e));_0x1afbd1['setHeader']('Content-Type',_0x5df0f2(0x733)),_0x1afbd1[_0x5df0f2(0x682)](_0x5df0f2(0x3f3),'no-cache'),_0x1afbd1[_0x5df0f2(0x682)]('Connection','keep-alive'),_0x1afbd1[_0x5df0f2(0x355)]();let _0x2d9de4=_0x5df0f2(0x52e)+JSON[_0x5df0f2(0x5b9)]({'info':_0x5df0f2(0x47f)})+'\x0a\x0a';_0x1afbd1[_0x5df0f2(0x519)](_0x2d9de4),fi(_0x1d7424,_0x3e13a7,_0x1afbd1,_0x11251b),_0x4d84f3['on']('close',()=>{const _0x20c57c=_0x5df0f2;console['log'](_0x20c57c(0x73d)+_0x1d7424),wi(_0x1d7424,_0x3e13a7);});}),xe[a0_0x1ec3bd(0x489)]('/startFlow/:instance/:startID',async(_0x4d5d26,_0x2856b5)=>{const _0x34663e=a0_0x1ec3bd;console[_0x34663e(0x1d9)](_0x34663e(0x492));let _0x2d5fdc=_0x4d5d26[_0x34663e(0x5cf)]['instance'],_0x2ca31a=_0x4d5d26[_0x34663e(0x5cf)][_0x34663e(0x6f9)],_0x361316=_0x4d5d26[_0x34663e(0x36f)][_0x34663e(0x47e)]||'',_0x4e98ef=_0x4d5d26[_0x34663e(0x441)];console[_0x34663e(0x1d9)](_0x34663e(0x6d3),_0x2d5fdc),console[_0x34663e(0x1d9)](_0x34663e(0x50f),_0x2ca31a),console['log'](_0x34663e(0x239),_0x361316),console[_0x34663e(0x1d9)](_0x34663e(0xd4),_0x4e98ef);try{if(!await Ae(_0x2d5fdc))return _0x2856b5[_0x34663e(0x4ff)](0x194)[_0x34663e(0x103)](_0x34663e(0x50e));let _0x16403c=await I[_0x34663e(0x633)](_0x2d5fdc,_0x2ca31a,_0x361316,_0x4e98ef);_0x2856b5[_0x34663e(0x103)](_0x16403c);}catch(_0x216fb4){console[_0x34663e(0x4e6)](_0x216fb4),_0x2856b5[_0x34663e(0x4ff)](0x1f4)['send'](_0x34663e(0x378));}}),xe[a0_0x1ec3bd(0x5d6)](a0_0x1ec3bd(0x36e),(_0x5da136,_0x5b044f)=>{const _0x217915=a0_0x1ec3bd;let _0x34fc60=yi();_0x5b044f[_0x217915(0x149)](_0x34fc60);})[a0_0x1ec3bd(0x5d6)]('/',(_0x210383,_0x562a92)=>{const _0x1358c6=a0_0x1ec3bd;let _0x19cb67=b[_0x1358c6(0x5d6)]('SERVER')[_0x1358c6(0x1d1)];if(_0x19cb67){let _0x5d6722=encodeURIComponent(''+_0x19cb67);_0x562a92[_0x1358c6(0x22c)](_0x1358c6(0x762)+_0x5d6722);return;}let _0x1344b0=b[_0x1358c6(0x5d6)]('SSL_CONF'),_0xbd33ad=_0x1344b0&&_0x1344b0[_0x1358c6(0x1eb)][_0x1358c6(0x4c0)]('/')[0x4];if(_0xbd33ad){let _0xbfd28f=encodeURIComponent(_0x1358c6(0x1ea)+_0xbd33ad);_0x562a92['redirect'](_0x1358c6(0x762)+_0xbfd28f);}else _0x562a92[_0x1358c6(0x22c)](_0x1358c6(0x707));})['put'](a0_0x1ec3bd(0x163),...oe,async(_0x50031b,_0xde1798)=>{const _0x5ef1a8=a0_0x1ec3bd;try{console[_0x5ef1a8(0x1d9)](_0x5ef1a8(0x734)),_0xde1798[_0x5ef1a8(0x4ff)](0xc8)['json']({'message':_0x5ef1a8(0x1e6)}),_0xde1798['on']('finish',()=>process[_0x5ef1a8(0x5f7)](0x0));}catch(_0x13cc2b){console['error'](_0x5ef1a8(0x56a),_0x13cc2b),_0xde1798[_0x5ef1a8(0x4ff)](0x1f4)['json']({'message':_0x5ef1a8(0x5b6)});}})['put']('/config',...oe,async(_0xb0b8c9,_0x4e1ab0)=>{const _0x22a9f5=a0_0x1ec3bd;try{let _0x362b16=_0xb0b8c9['body'];await Se[_0x22a9f5(0x2f9)]({},{'$set':_0x362b16},{'upsert':!0x0});let _0x286648=await Se['findOne']();_0x4e1ab0[_0x22a9f5(0x149)](_0x286648);}catch(_0xe5590){_0x4e1ab0['status'](0x190)[_0x22a9f5(0x103)](_0xe5590['message']);}})['get'](a0_0x1ec3bd(0x796),...oe,async(_0x251a77,_0x557ea4)=>{const _0x4f7c55=a0_0x1ec3bd;try{let _0x6dee1d=await Se[_0x4f7c55(0x2f1)]();if(!_0x6dee1d)return _0x557ea4[_0x4f7c55(0x149)]({});_0x557ea4[_0x4f7c55(0x149)](_0x6dee1d);}catch(_0x971522){_0x557ea4[_0x4f7c55(0x4ff)](0x1f4)[_0x4f7c55(0x103)](_0x971522[_0x4f7c55(0x61f)]);}})[a0_0x1ec3bd(0x71f)](a0_0x1ec3bd(0x770),new mt(b,...oe)['router'])[a0_0x1ec3bd(0x71f)](a0_0x1ec3bd(0x515),new $t(...oe)['router'])['use'](a0_0x1ec3bd(0x88),new ot(...oe)[a0_0x1ec3bd(0x5c5)])[a0_0x1ec3bd(0x71f)](a0_0x1ec3bd(0x617),new gt(...oe)[a0_0x1ec3bd(0x5c5)])['use'](a0_0x1ec3bd(0x294),new At(...oe)[a0_0x1ec3bd(0x5c5)])['use']('/automate',new It(...oe)[a0_0x1ec3bd(0x5c5)]);var m=class{constructor(..._0x292be9){const _0x5a4bdc=a0_0x1ec3bd;throw{'status':0x190,'error':_0x5a4bdc(0x74c),'message':_0x292be9[_0x5a4bdc(0x2a9)]>0x0?_0x292be9:void 0x0};}},ie=class{constructor(..._0x860dc2){const _0x382501=a0_0x1ec3bd;throw{'status':0x191,'error':'Unauthorized','message':_0x860dc2[_0x382501(0x2a9)]>0x0?_0x860dc2:void 0x0};}},X=class{constructor(..._0x1cdc5e){const _0x1abc91=a0_0x1ec3bd;throw{'status':0x193,'error':'Forbidden','message':_0x1cdc5e[_0x1abc91(0x2a9)]>0x0?_0x1cdc5e:void 0x0};}},F=class{constructor(..._0x4a5605){const _0x10c3c1=a0_0x1ec3bd;throw{'status':0x194,'error':_0x10c3c1(0x7c0),'message':_0x4a5605[_0x10c3c1(0x2a9)]>0x0?_0x4a5605:void 0x0};}},O=class{constructor(..._0x31217b){const _0x23922c=a0_0x1ec3bd;throw{'status':0x1f4,'error':_0x23922c(0x85),'message':_0x31217b[_0x23922c(0x2a9)]>0x0?_0x31217b:void 0x0};}},ge=require(a0_0x1ec3bd(0x4f7));async function Rs(_0x4d06e5){const _0x5eb533=a0_0x1ec3bd;let _0x471970=new N(Rs[_0x5eb533(0x6fa)]),_0x4f7070=$[_0x5eb533(0x2ad)](),_0x3831d5=_0x4f7070['db'](b['get'](_0x5eb533(0x548))['CONNECTION']['DB_PREFIX_NAME']+_0x5eb533(0x208))[_0x5eb533(0x48d)](_0x4d06e5),_0x3b8bd0=async(_0x212d0b,_0x11de5e)=>{const _0x264f93=_0x5eb533;try{return await _0x4f7070['connect'](),await _0x3831d5[_0x264f93(0x4b4)]({'_id':_0x11de5e},JSON['parse'](JSON['stringify'](_0x212d0b,ge['BufferJSON'][_0x264f93(0x72a)])),{'upsert':!0x0});}catch{}},_0x2e9c64=async _0x40964e=>{const _0x3350d8=_0x5eb533;try{await _0x4f7070[_0x3350d8(0x4c5)]();let _0x4ac51b=await _0x3831d5[_0x3350d8(0x2f1)]({'_id':_0x40964e}),_0x1c5bac=JSON[_0x3350d8(0x5b9)](_0x4ac51b);return JSON[_0x3350d8(0x30d)](_0x1c5bac,ge[_0x3350d8(0x165)][_0x3350d8(0x390)]);}catch{}},_0x59fec6=async _0x930d8c=>{const _0x4c0dd4=_0x5eb533;try{return await _0x4f7070[_0x4c0dd4(0x4c5)](),await _0x3831d5[_0x4c0dd4(0x2a3)]({'_id':_0x930d8c});}catch{}},_0x3dd7fb=await _0x2e9c64('creds')||(0x0,ge[_0x5eb533(0x745)])();return{'state':{'creds':_0x3dd7fb,'keys':{'get':async(_0x166d5d,_0xcc1f16)=>{let _0x35d570={};return await Promise['all'](_0xcc1f16['map'](async _0xfdb2a5=>{const _0x315f53=a0_0x1c6d;let _0x31f63e=await _0x2e9c64(_0x166d5d+'-'+_0xfdb2a5);_0x166d5d===_0x315f53(0x11b)&&_0x31f63e&&(_0x31f63e=ge[_0x315f53(0x46a)][_0x315f53(0x268)][_0x315f53(0x58d)]['fromObject'](_0x31f63e)),_0x35d570[_0xfdb2a5]=_0x31f63e;})),_0x35d570;},'set':async _0x3c7bff=>{const _0x43b828=_0x5eb533;let _0x1d7786=[];for(let _0xd0bd52 in _0x3c7bff)for(let _0xb58ceb in _0x3c7bff[_0xd0bd52]){let _0x3e1729=_0x3c7bff[_0xd0bd52][_0xb58ceb],_0x578402=_0xd0bd52+'-'+_0xb58ceb;_0x1d7786[_0x43b828(0x3f7)](_0x3e1729?_0x3b8bd0(_0x3e1729,_0x578402):_0x59fec6(_0x578402));}await Promise[_0x43b828(0x42f)](_0x1d7786);}}},'saveCreds':async()=>_0x3b8bd0(_0x3dd7fb,_0x5eb533(0x731))};}var _s=R(require(a0_0x1ec3bd(0x5d8))),xs=R(require('node-cache')),xt=require(a0_0x1ec3bd(0x4f7)),Mi=require('@redis/client'),_t=require(a0_0x1ec3bd(0x4f7)),Ot;function Oo(_0xeb531f){const _0x53f25e=a0_0x1ec3bd;return Ot||(Ot=(0x0,Mi['createClient'])({'url':_0xeb531f[_0x53f25e(0x3c5)]}),Ot['connect']()),Ot;}var ue=class u{constructor(_0x3f1415,_0x2ae821){const _0x5125d6=a0_0x1ec3bd;this['redisEnv']=_0x3f1415,this[_0x5125d6(0x147)]=_0x2ae821,this[_0x5125d6(0x7b7)]=new N(u[_0x5125d6(0x6fa)]),this[_0x5125d6(0x392)]=Oo(_0x3f1415);}set[a0_0x1ec3bd(0x2da)](_0x579210){const _0x25d29d=a0_0x1ec3bd;this[_0x25d29d(0x147)]=_0x579210;}async[a0_0x1ec3bd(0x402)](){const _0x447e72=a0_0x1ec3bd;try{return await this[_0x447e72(0x392)]['sendCommand']([_0x447e72(0x196),this[_0x447e72(0x34f)]['PREFIX_KEY']+':*']);}catch(_0x4fbf81){this[_0x447e72(0x7b7)]['error'](_0x4fbf81);}}async[a0_0x1ec3bd(0x778)](_0xb0a3ac,_0x2dddc8){const _0x2e6302=a0_0x1ec3bd;try{let _0x378a38=JSON[_0x2e6302(0x5b9)](_0x2dddc8,_t[_0x2e6302(0x165)]['replacer']);return await this[_0x2e6302(0x392)][_0x2e6302(0x52b)](this[_0x2e6302(0x34f)][_0x2e6302(0x522)]+':'+this[_0x2e6302(0x147)],_0xb0a3ac,_0x378a38);}catch(_0x1e082c){this['logger'][_0x2e6302(0x4e6)](_0x1e082c);}}async[a0_0x1ec3bd(0x397)](){const _0x31d586=a0_0x1ec3bd;try{let _0x563e8d=await this[_0x31d586(0x392)][_0x31d586(0x1df)](this[_0x31d586(0x34f)][_0x31d586(0x522)]+':'+this[_0x31d586(0x147)]);if(_0x563e8d){for(let _0x4072ae in _0x563e8d)Object[_0x31d586(0x31a)]['hasOwnProperty'][_0x31d586(0x29a)](_0x563e8d,_0x4072ae)&&(_0x563e8d[_0x4072ae]=JSON[_0x31d586(0x30d)](_0x563e8d[_0x4072ae],_t[_0x31d586(0x165)]['reviver']));return _0x563e8d;}}catch(_0x418610){this['logger'][_0x31d586(0x4e6)](_0x418610);}}async[a0_0x1ec3bd(0x44b)](_0x32fd7d){const _0x2d08d2=a0_0x1ec3bd;try{let _0x1afe14=await this[_0x2d08d2(0x392)][_0x2d08d2(0xa2)](this[_0x2d08d2(0x34f)][_0x2d08d2(0x522)]+':'+this[_0x2d08d2(0x147)],_0x32fd7d);if(_0x1afe14)return JSON[_0x2d08d2(0x30d)](_0x1afe14,_t['BufferJSON'][_0x2d08d2(0x390)]);}catch(_0x1c115e){this[_0x2d08d2(0x7b7)][_0x2d08d2(0x4e6)](_0x1c115e);}}async[a0_0x1ec3bd(0x679)](_0x2ea6ec){const _0x35ee01=a0_0x1ec3bd;try{return await this[_0x35ee01(0x392)][_0x35ee01(0x93)](this['redisEnv'][_0x35ee01(0x522)]+':'+this[_0x35ee01(0x147)],_0x2ea6ec);}catch(_0x564e6b){this[_0x35ee01(0x7b7)][_0x35ee01(0x4e6)](_0x564e6b);}}async[a0_0x1ec3bd(0x32c)](_0x4b0c2d){const _0x4521f3=a0_0x1ec3bd;try{return await this[_0x4521f3(0x392)][_0x4521f3(0x354)](_0x4b0c2d||this[_0x4521f3(0x34f)][_0x4521f3(0x522)]+':'+this[_0x4521f3(0x147)]);}catch(_0x375f7b){this[_0x4521f3(0x7b7)][_0x4521f3(0x4e6)](_0x375f7b);}}};async function As(_0x52e3c0,_0x2f0fca){const _0x5491b=a0_0x1ec3bd;let _0x2a2f3b=new N(As[_0x5491b(0x6fa)]),_0x5f169c=new ue(_0x52e3c0,_0x2f0fca),_0x5931c5=async(_0x3db15c,_0x505023)=>{const _0x26dfe4=_0x5491b;try{return await _0x5f169c['writeData'](_0x505023,_0x3db15c);}catch(_0x499de4){return _0x2a2f3b[_0x26dfe4(0x4e6)]({'localError':_0x26dfe4(0x778),'error':_0x499de4});}},_0x1d6315=async _0xdefccd=>{const _0x4d9a2b=_0x5491b;try{return await _0x5f169c[_0x4d9a2b(0x44b)](_0xdefccd);}catch(_0x447fe2){_0x2a2f3b[_0x4d9a2b(0x4e6)]({'readData':_0x4d9a2b(0x778),'error':_0x447fe2});return;}},_0x4f7816=async _0xb4fea3=>{const _0x5e10d3=_0x5491b;try{return await _0x5f169c[_0x5e10d3(0x679)](_0xb4fea3);}catch(_0x507a20){_0x2a2f3b[_0x5e10d3(0x4e6)]({'readData':_0x5e10d3(0x679),'error':_0x507a20});}},_0x171409=await _0x1d6315(_0x5491b(0x731))||(0x0,xt[_0x5491b(0x745)])();return{'state':{'creds':_0x171409,'keys':{'get':async(_0x1f28a8,_0x2881ce)=>{const _0x5afd1b=_0x5491b;let _0x18c2c1={};return await Promise[_0x5afd1b(0x42f)](_0x2881ce[_0x5afd1b(0x6ef)](async _0x1506ea=>{const _0x4967fc=_0x5afd1b;let _0x153ae2=await _0x1d6315(_0x1f28a8+'-'+_0x1506ea);_0x1f28a8==='app-state-sync-key'&&_0x153ae2&&(_0x153ae2=xt[_0x4967fc(0x46a)][_0x4967fc(0x268)][_0x4967fc(0x58d)][_0x4967fc(0x691)](_0x153ae2)),_0x18c2c1[_0x1506ea]=_0x153ae2;})),_0x18c2c1;},'set':async _0x19f64d=>{const _0x3813c6=_0x5491b;let _0x5b94de=[];for(let _0x25f67a in _0x19f64d)for(let _0x178a50 in _0x19f64d[_0x25f67a]){let _0x403045=_0x19f64d[_0x25f67a][_0x178a50],_0x46d7ab=_0x25f67a+'-'+_0x178a50;_0x5b94de[_0x3813c6(0x3f7)](_0x403045?await _0x5931c5(_0x403045,_0x46d7ab):await _0x4f7816(_0x46d7ab));}await Promise[_0x3813c6(0x42f)](_0x5b94de);}}},'saveCreds':async()=>await _0x5931c5(_0x171409,'creds')};}var P=R(require('fs')),Y=require(a0_0x1ec3bd(0x202)),Lt=R(require('sharp')),Ft=require(a0_0x1ec3bd(0x4c6)),Ci=require(a0_0x1ec3bd(0x65b)),Ei=require(a0_0x1ec3bd(0x3b3)),vi=R(require(a0_0x1ec3bd(0xb4))),Me=class extends T{constructor(_0x2aec62,_0x788286,_0x2d5ed2){const _0xf9108f=a0_0x1ec3bd;super(_0x788286),this[_0xf9108f(0x69c)]=_0x2aec62,this[_0xf9108f(0x6f0)]=_0x788286,this[_0xf9108f(0xe2)]=_0x2d5ed2;}async[a0_0x1ec3bd(0x6f3)](_0x2f2fc5,_0x51f8bc){const _0x43de6d=a0_0x1ec3bd;try{if(this[_0x43de6d(0x5b1)][_0x43de6d(0x520)]){console['log'](_0x43de6d(0x624)+_0x51f8bc+_0x43de6d(0x763),_0x2f2fc5);let _0x55e7ca=await this['cacheInstanceModel'][_0x43de6d(0x3af)]({'_id':_0x51f8bc},{'$set':_0x2f2fc5},{'new':!0x0,'upsert':!0x0});return console[_0x43de6d(0x1d9)](_0x43de6d(0x391),_0x55e7ca),_0x55e7ca;}}catch(_0x40d98b){throw console[_0x43de6d(0x4e6)](_0x43de6d(0x6ea),_0x40d98b),_0x40d98b;}return null;}async[a0_0x1ec3bd(0x2a3)](_0x35617f){const _0x2b0c09=a0_0x1ec3bd;try{let _0x5b46bc=A(_0x35617f[_0x2b0c09(0x6be)]);return{'deletedCount':(await this[_0x2b0c09(0x69c)][_0x2b0c09(0x2a3)](_0x5b46bc))[_0x2b0c09(0x5dc)]};}catch(_0x638d5c){return{'error':_0x638d5c?.[_0x2b0c09(0x51d)]()};}}async['findOne'](_0x4b32c1){const _0x25f44b=a0_0x1ec3bd;try{let _0x5e86bf=A(_0x4b32c1[_0x25f44b(0x6be)]);return await this[_0x25f44b(0x69c)][_0x25f44b(0x2f1)](_0x5e86bf)[_0x25f44b(0x117)]();}catch{return null;}}},Dt=(0x0,Ei[a0_0x1ec3bd(0x2b5)])(Ci[a0_0x1ec3bd(0x799)]),_o=b[a0_0x1ec3bd(0x5d6)](a0_0x1ec3bd(0xf4)),Is=class{constructor(){const _0x5cb3d2=a0_0x1ec3bd;this[_0x5cb3d2(0x563)]=new Me(qe,b),(!this['ipv6Prefix']||!this[_0x5cb3d2(0x176)])&&_o&&this['detectIPv6PrefixAndInterface']()['then'](()=>{const _0x31eda0=_0x5cb3d2;console[_0x31eda0(0x1d9)](_0x31eda0(0x238)+this[_0x31eda0(0xcd)]),console['log']('Network\x20Interface\x20detected:\x20'+this[_0x31eda0(0x176)]);})[_0x5cb3d2(0x784)](_0x4079ad=>{const _0x1d3979=_0x5cb3d2;console['error'](_0x1d3979(0x5af)+_0x4079ad[_0x1d3979(0x61f)]);});}async['detectIPv6PrefixAndInterface'](){const _0x4b62cb=a0_0x1ec3bd;try{let {stdout:_0x7400ff}=await Dt('ip\x20-br\x20link\x20show');console[_0x4b62cb(0x1d9)](_0x4b62cb(0x3b6)+_0x7400ff);let _0x17a2c1=_0x7400ff[_0x4b62cb(0x4c0)]('\x0a')[_0x4b62cb(0x6ef)](_0x5477f7=>_0x5477f7['split']('\x20')[0x0])['filter'](_0x320768=>!_0x320768['includes']('lo')&&!_0x320768[_0x4b62cb(0x39c)](_0x4b62cb(0x4cd))&&!_0x320768[_0x4b62cb(0x39c)]('vir')&&!_0x320768[_0x4b62cb(0x39c)]('wl')&&!_0x320768[_0x4b62cb(0x39c)]('@'));if(console['log'](_0x4b62cb(0x726)+_0x17a2c1),_0x17a2c1[_0x4b62cb(0x2a9)]===0x0)throw new Error(_0x4b62cb(0x654));this[_0x4b62cb(0x176)]=_0x17a2c1[0x0];let {stdout:_0x4fd8b1}=await Dt(_0x4b62cb(0x2a2)+this[_0x4b62cb(0x176)]);console[_0x4b62cb(0x1d9)](_0x4b62cb(0x51b)+_0x4fd8b1);let _0xd505a5=_0x4fd8b1[_0x4b62cb(0x4c0)]('\x0a')[_0x4b62cb(0x435)](_0x1de7f4=>_0x1de7f4['includes'](_0x4b62cb(0x342))&&_0x1de7f4['includes'](_0x4b62cb(0xab)));if(!_0xd505a5)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x16e5bc=_0xd505a5[_0x4b62cb(0x5bc)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x16e5bc)throw new Error(_0x4b62cb(0x22b));let [_0x5a3917,_0x1f544e,_0x148ce7]=_0x16e5bc,_0x4aedde=Math[_0x4b62cb(0x582)](Number(_0x148ce7)/0x10),_0x12a863=Number(_0x148ce7)%0x10,_0x14ddcd=_0x1f544e[_0x4b62cb(0x4c0)](':')[_0x4b62cb(0x58a)](0x0,_0x4aedde)['join'](':');if(_0x12a863>0x0){let _0x439bfd=_0x1f544e[_0x4b62cb(0x4c0)](':')[_0x4aedde],_0x5442e9=0xffff<<0x10-_0x12a863&0xffff,_0x903484=(parseInt(_0x439bfd,0x10)&_0x5442e9)['toString'](0x10)[_0x4b62cb(0x247)](0x4,'0');_0x14ddcd+=':'+_0x903484;}this['ipv6Prefix']=_0x14ddcd+':';}catch(_0x39d99f){console[_0x4b62cb(0x4e6)](_0x4b62cb(0x4bc),_0x39d99f);}}async['configureIPv6'](_0x150ba5){const _0x3cdd72=a0_0x1ec3bd;let _0x48453e='ip\x20-6\x20addr\x20add\x20'+_0x150ba5+_0x3cdd72(0x76c)+this[_0x3cdd72(0x176)];try{await Dt(_0x48453e),console[_0x3cdd72(0x1d9)]('IPv6\x20address\x20configured:\x20'+_0x150ba5);}catch(_0x4a5731){console[_0x3cdd72(0x4e6)](_0x3cdd72(0x302)+_0x4a5731);}}async[a0_0x1ec3bd(0x393)](_0x15e86c){const _0x17244f=a0_0x1ec3bd;let _0x5caabd=_0x17244f(0x43d)+_0x15e86c+_0x17244f(0x76c)+this[_0x17244f(0x176)];try{await Dt(_0x5caabd),console['log'](_0x17244f(0x574)+_0x15e86c);}catch(_0x45558e){console[_0x17244f(0x4e6)](_0x17244f(0x4ca)+_0x45558e);}}[a0_0x1ec3bd(0x474)](){const _0x220c0a=a0_0x1ec3bd;return _0x220c0a(0x218)['replace'](/X/g,()=>'0123456789ABCDEF'[_0x220c0a(0x19c)](Math[_0x220c0a(0x582)](Math[_0x220c0a(0x323)]()*0x10)));}[a0_0x1ec3bd(0x13d)](_0x25825f,_0x20d76a){const _0x4d9960=a0_0x1ec3bd;let _0xd113ba=_0x20d76a['split'](':');return _0xd113ba[0x0]=(parseInt(_0xd113ba[0x0],0x10)^0x2)[_0x4d9960(0x51d)](0x10)[_0x4d9960(0x247)](0x2,'0'),''+_0x25825f+_0xd113ba[0x0]+_0xd113ba[0x1]+':'+_0xd113ba[0x2]+_0x4d9960(0x159)+_0xd113ba[0x3]+':'+_0xd113ba[0x4]+_0xd113ba[0x5];}[a0_0x1ec3bd(0x5b7)](){const _0x3e3d6b=a0_0x1ec3bd;let _0x14f673=this['ipv6Prefix'];_0x14f673['endsWith'](':')||(_0x14f673+=':');let _0x56b196=this[_0x3e3d6b(0x474)]();return this[_0x3e3d6b(0x13d)](_0x14f673,_0x56b196);}[a0_0x1ec3bd(0x1a2)](_0x252919){return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')['test'](_0x252919);}async[a0_0x1ec3bd(0x407)](_0x76308){const _0x378e44=a0_0x1ec3bd;let _0x16a218=[{'url':_0x378e44(0xb6),'parse':_0x42d649=>_0x42d649['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x51a1c3=>_0x51a1c3['ip']},{'url':_0x378e44(0x336),'parse':_0x1b3377=>_0x1b3377[_0x378e44(0x2ee)]()},{'url':_0x378e44(0x2e4),'parse':_0x123597=>_0x123597[_0x378e44(0x2ee)]()}],_0x553d1c=_0x16a218[Math[_0x378e44(0x582)](Math[_0x378e44(0x323)]()*_0x16a218['length'])];try{let _0x2d4222=await vi[_0x378e44(0x442)][_0x378e44(0x5d6)](_0x553d1c[_0x378e44(0xe5)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x76308}}),_0x3ea766=_0x553d1c[_0x378e44(0x30d)](_0x2d4222[_0x378e44(0x586)]);return _0x3ea766['toLowerCase']()===_0x76308[_0x378e44(0x3b4)]()?(console[_0x378e44(0x1d9)](_0x378e44(0x244)+_0x76308),!0x0):(console[_0x378e44(0x4e6)](_0x378e44(0x776)+_0x76308+_0x378e44(0x7a8)+_0x3ea766),!0x1);}catch(_0x5361c4){return console['error']('Error\x20testing\x20IP\x20with\x20'+_0x553d1c[_0x378e44(0xe5)]+':\x20'+_0x5361c4[_0x378e44(0x61f)]),!0x1;}}async[a0_0x1ec3bd(0x549)](_0x20ca21,_0x382cff){const _0x40af6f=a0_0x1ec3bd;if(!this[_0x40af6f(0xcd)]||!this[_0x40af6f(0x176)])return console[_0x40af6f(0x4e6)]('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x57c42e;do _0x57c42e=this[_0x40af6f(0x5b7)](),console[_0x40af6f(0x1d9)](_0x40af6f(0x27d)+_0x57c42e);while(!await this[_0x40af6f(0x537)](_0x57c42e));await this[_0x40af6f(0x7c6)](_0x57c42e),console['log'](_0x40af6f(0x3c4)+_0x57c42e);let _0xfdd90c={'_id':_0x20ca21+'-'+_0x382cff,'ip':_0x57c42e},_0x3befef=await this[_0x40af6f(0x563)][_0x40af6f(0x6f3)](_0xfdd90c,_0xfdd90c[_0x40af6f(0x16c)]);return console[_0x40af6f(0x1d9)](_0x40af6f(0x73b)+_0x3befef),_0x57c42e;}async['isValidAndUniqueIPv6'](_0x12a285){const _0x1437f7=a0_0x1ec3bd;return this[_0x1437f7(0x1a2)](_0x12a285)?!await this[_0x1437f7(0x563)][_0x1437f7(0x2f1)]({'where':{'ip':_0x12a285}}):!0x1;}async['removeIPv6ById'](_0x10c186,_0x440711){const _0x35fd47=a0_0x1ec3bd;let _0x424bd7=_0x10c186+'-'+_0x440711,_0x37f5f8=await this['cacheInstanceRepository'][_0x35fd47(0x2f1)]({'where':{'_id':_0x424bd7}});_0x37f5f8&&_0x37f5f8['ip']&&(await this[_0x35fd47(0x393)](_0x37f5f8['ip']),await this[_0x35fd47(0x563)][_0x35fd47(0x2a3)]({'where':{'_id':_0x424bd7}}));}},xo=new Is(),se=xo,Ds=a0_0x1ec3bd(0x694),Oi,de=null,Ta=null,Do=0x3,Po=null,Ni=b[a0_0x1ec3bd(0x5d6)]('AUTHENTICATION')[a0_0x1ec3bd(0x344)][a0_0x1ec3bd(0x6d6)],$i=b[a0_0x1ec3bd(0x5d6)](a0_0x1ec3bd(0xf4));async function ko(){const _0x3cf1fb=a0_0x1ec3bd;let _0xfc4d09=await Se[_0x3cf1fb(0x2f1)]();de=_0xfc4d09?.[_0x3cf1fb(0x411)]??null,Po=_0xfc4d09?.[_0x3cf1fb(0x59d)]??null,Ds=_0xfc4d09?.[_0x3cf1fb(0x155)]??'Safari',Oi=_0xfc4d09?.[_0x3cf1fb(0x7a6)]??W??_0x3cf1fb(0x304);}async function Lo(){await ko();}Lo();var Pt={},Ce=class u{constructor(_0x19feca,_0x2313fa,_0x26d30f){const _0x361ef9=a0_0x1ec3bd;this['configService']=_0x19feca,this[_0x361ef9(0x389)]=_0x2313fa,this['repository']=_0x26d30f,this['AutomateSystem']=null,this[_0x361ef9(0x7b7)]=new N(u[_0x361ef9(0x6fa)]),this[_0x361ef9(0x68c)]={},this[_0x361ef9(0x282)]={},this[_0x361ef9(0x1c3)]={'state':_0x361ef9(0x2a5)},this['storePath']=(0x0,L[_0x361ef9(0x693)])(re,_0x361ef9(0x23c)),this[_0x361ef9(0x5d0)]=new xs[(_0x361ef9(0x442))](),this[_0x361ef9(0x671)]=new xs[(_0x361ef9(0x442))](),this[_0x361ef9(0xde)]=!0x1,this[_0x361ef9(0x23b)]={'status.instance':_0x361ef9(0xf8),'connection.update':_0x361ef9(0xf8),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x361ef9(0x5be),'send.message':_0x361ef9(0x5be),'messages.update':_0x361ef9(0x265),'group.upsert':_0x361ef9(0xf6),'group.update':_0x361ef9(0xf6),'group-participants.update':_0x361ef9(0xf6),'messages.set':_0x361ef9(0x291),'contacts.set':_0x361ef9(0x71d),'contacts.upsert':_0x361ef9(0x71d),'contacts.update':_0x361ef9(0x71d),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x361ef9(0x47a),'chats.upsert':'/wa-chats','chats.delete':_0x361ef9(0x47a)},this[_0x361ef9(0x2d1)]=0x0,this[_0x361ef9(0x4fc)]=[],this[_0x361ef9(0x31f)]=0xea60,this[_0x361ef9(0x5f0)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x380db8,_0x20f74e)=>{const _0x188631=_0x361ef9;let _0x10848e=[];for await(let _0x2d55d6 of _0x380db8)_0x10848e[_0x188631(0x3f7)]({'_id':_0x2d55d6['id'],'owner':this[_0x188631(0x68c)][_0x188631(0x61a)],'group':_0x2d55d6['id'][_0x188631(0x74a)]('@g.us'),'name':_0x2d55d6[_0x188631(0x6fa)]||_0x2d55d6[_0x188631(0x78d)]||null,'contactname':null,'lastmsg':_0x2d55d6[_0x188631(0x346)]&&_0x2d55d6[_0x188631(0x346)]['toString']()[_0x188631(0x2a9)]<0xd?_0x2d55d6['conversationTimestamp']*0x3e8:_0x2d55d6[_0x188631(0x346)]||null,'archived':_0x2d55d6[_0x188631(0x27b)]||!0x1,'unreadcount':_0x2d55d6[_0x188631(0x2b8)]||0x0,'ephemeralExpiration':_0x2d55d6[_0x188631(0x1da)]||0x0});this[_0x188631(0x3e7)]('chats.upsert',_0x10848e);},'chats.update':async(_0x591ffb,_0x1f052e)=>{const _0x4089c0=_0x361ef9;for(let _0x488456 of _0x591ffb){let _0x56688f={'_id':_0x488456['id'],'owner':this[_0x4089c0(0x68c)][_0x4089c0(0x61a)],'archived':_0x488456['archived'],'muteEndTime':_0x488456[_0x4089c0(0x227)],'ephemeralExpiration':_0x488456['ephemeralExpiration']},_0x314cee=!0x1,_0x16cf32={};_0x56688f[_0x4089c0(0x27b)]!=null&&(this[_0x4089c0(0x7b7)][_0x4089c0(0x7ac)](this[_0x4089c0(0x147)]+'\x20('+this[_0x4089c0(0x68c)]['wuid']+_0x4089c0(0x3c3)+_0x488456['id']+'\x20:\x20'+_0x488456[_0x4089c0(0x27b)]),_0x314cee=!0x0,_0x16cf32[_0x4089c0(0x27b)]=_0x488456[_0x4089c0(0x27b)]),_0x4089c0(0x227)in _0x488456&&(this[_0x4089c0(0x7b7)][_0x4089c0(0x7ac)](this[_0x4089c0(0x147)]+'\x20('+this[_0x4089c0(0x68c)][_0x4089c0(0x61a)]+_0x4089c0(0x65a)+_0x488456['id']+_0x4089c0(0x4a2)+(_0x488456[_0x4089c0(0x227)]??'0')),_0x314cee=!0x0,_0x16cf32[_0x4089c0(0x227)]=_0x488456['muteEndTime']??0x0),_0x4089c0(0x1da)in _0x488456&&(this[_0x4089c0(0x7b7)][_0x4089c0(0x7ac)](this[_0x4089c0(0x147)]+'\x20('+this[_0x4089c0(0x68c)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x488456['id']+_0x4089c0(0x4a2)+(_0x488456['ephemeralExpiration']!==void 0x0?_0x488456[_0x4089c0(0x1da)]:'undefined')),_0x16cf32[_0x4089c0(0x1da)]=_0x488456[_0x4089c0(0x1da)]===null?0x0:_0x488456[_0x4089c0(0x1da)],_0x314cee=!0x0);let _0x327d96;_0x314cee&&(_0x327d96=await this[_0x4089c0(0xbe)][_0x4089c0(0x7bf)]['updateOne']({'where':{'_id':_0x488456['id']}},_0x16cf32,this['instance'][_0x4089c0(0x61a)])),_0x327d96&&U(this[_0x4089c0(0x147)],'chats',{'chat':_0x327d96});}},'chats.delete':async _0x5cb570=>{const _0x51cdb0=_0x361ef9;for(let _0x359afd of _0x5cb570)if(_0x359afd[_0x51cdb0(0x74a)](_0x51cdb0(0x710))){await this['repository'][_0x51cdb0(0x7bf)]['delete']({'where':{'_id':_0x359afd}},this['instance'][_0x51cdb0(0x61a)]);let _0x2dace8={'where':{'key':{'remoteJid':_0x359afd}}};await this[_0x51cdb0(0xbe)][_0x51cdb0(0x61f)][_0x51cdb0(0x6f4)](_0x2dace8,this[_0x51cdb0(0x68c)][_0x51cdb0(0x61a)]);}else{await this[_0x51cdb0(0xbe)]['chat'][_0x51cdb0(0x2f9)]({'where':{'_id':_0x359afd}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x51cdb0(0x68c)][_0x51cdb0(0x61a)]);let _0x35fa8e={'where':{'key':{'remoteJid':_0x359afd}}};await this[_0x51cdb0(0xbe)][_0x51cdb0(0x61f)][_0x51cdb0(0x6f4)](_0x35fa8e,this[_0x51cdb0(0x68c)][_0x51cdb0(0x61a)]);}this[_0x51cdb0(0x3e7)](_0x51cdb0(0xd0),[..._0x5cb570]);}},this['contactHandle']={'contacts.upsert':async(_0x1b84cc,_0x581119)=>{const _0x476341=_0x361ef9;let _0x1ceebd=await this['repository'][_0x476341(0x4e4)][_0x476341(0x435)]({'where':{}},this[_0x476341(0x68c)][_0x476341(0x61a)]),_0x3f0914=[];for await(let _0x470269 of _0x1b84cc)_0x1ceebd['find'](_0x434393=>_0x434393[_0x476341(0x16c)]===_0x470269['id'])||_0x3f0914[_0x476341(0x3f7)]({'_id':_0x470269['id'],'pushName':_0x470269?.[_0x476341(0x6fa)]||_0x470269?.['verifiedName'],'owner':this['instance']['wuid']});this[_0x476341(0x3e7)](_0x476341(0x4d1),_0x3f0914),await this['repository'][_0x476341(0x4e4)][_0x476341(0x43c)](_0x3f0914);},'contacts.update':async(_0x468512,_0x2ab8dd)=>{const _0x1c1305=_0x361ef9;let _0x208e8e=[];for await(let _0x4a5af6 of _0x468512)_0x208e8e[_0x1c1305(0x3f7)]({'_id':_0x4a5af6['id'],'pushName':_0x4a5af6?.['name']??_0x4a5af6?.[_0x1c1305(0x7c7)],'owner':this[_0x1c1305(0x68c)][_0x1c1305(0x61a)]});this[_0x1c1305(0x3e7)]('contacts.update',_0x208e8e);}},this[_0x361ef9(0x14f)]={'messaging-history.set':async({messages:_0x114641,chats:_0x529360,isLatest:_0x5a0095},_0x902bd5)=>{const _0x132d2c=_0x361ef9;if(_0x5a0095){let _0x48fd12=await Promise[_0x132d2c(0x42f)](_0x529360[_0x132d2c(0x6ef)](async _0x203c1c=>({'_id':_0x203c1c['id'],'owner':this[_0x132d2c(0x68c)]['wuid'],'group':_0x203c1c['id'][_0x132d2c(0x74a)](_0x132d2c(0x710)),'name':_0x203c1c[_0x132d2c(0x6fa)]||_0x203c1c[_0x132d2c(0x78d)]||_0x203c1c[_0x132d2c(0x300)]||null,'contactname':null,'lastmsg':_0x203c1c['conversationTimestamp']&&_0x203c1c[_0x132d2c(0x346)][_0x132d2c(0x51d)]()[_0x132d2c(0x2a9)]<0xd?_0x203c1c[_0x132d2c(0x346)]*0x3e8:_0x203c1c[_0x132d2c(0x346)]||null,'archived':_0x203c1c['archived']||!0x1,'unreadcount':_0x203c1c[_0x132d2c(0x2b8)]||0x0,'ephemeralExpiration':_0x203c1c[_0x132d2c(0x1da)]||0x0,'muteEndTime':_0x203c1c['muteEndTime']||0x0})));this[_0x132d2c(0x3e7)](_0x132d2c(0x166),_0x48fd12),await this[_0x132d2c(0x10c)](_0x48fd12,_0x902bd5);}let _0x8c8640=[],_0x36ad5d=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x243a24]of Object['entries'](_0x114641)){if(_0x243a24[_0x132d2c(0x61f)]?.[_0x132d2c(0x184)]||_0x243a24[_0x132d2c(0x61f)]?.[_0x132d2c(0x368)]||!_0x243a24[_0x132d2c(0x61f)]||_0x243a24[_0x132d2c(0x4dd)][_0x132d2c(0x47e)]===_0x132d2c(0x751)||(_s[_0x132d2c(0x442)]['isLong'](_0x243a24?.['messageTimestamp'])&&(_0x243a24[_0x132d2c(0x570)]=_0x243a24[_0x132d2c(0x570)]?.[_0x132d2c(0x46c)]()),_0x243a24['messageTimestamp']&&_0x243a24[_0x132d2c(0x570)][_0x132d2c(0x51d)]()[_0x132d2c(0x2a9)]<0xd&&(_0x243a24['messageTimestamp']=_0x243a24['messageTimestamp']*0x3e8),_0x243a24[_0x132d2c(0x570)]<_0x36ad5d))continue;let _0x2c574d=(0x0,w[_0x132d2c(0x162)])(_0x243a24[_0x132d2c(0x61f)]),_0x178246=(0x0,w[_0x132d2c(0x324)])(_0x2c574d),{message_normalized:_0x3bfdf7}=this[_0x132d2c(0x98)](_0x2c574d,_0x178246,null);Object[_0x132d2c(0x196)](_0x3bfdf7)[_0x132d2c(0x2a9)]>0x0&&_0x8c8640[_0x132d2c(0x3f7)]({'_id':_0x243a24[_0x132d2c(0x4dd)]['id'],'key':_0x243a24[_0x132d2c(0x4dd)],'pushName':_0x243a24[_0x132d2c(0x89)],'participant':_0x243a24[_0x132d2c(0x153)],'message':_0x2c574d,'messageType':_0x178246,'message_normalized':{'key':_0x243a24[_0x132d2c(0x4dd)],'pushName':_0x243a24[_0x132d2c(0x89)],'messageTimestamp':_0x243a24[_0x132d2c(0x570)],..._0x3bfdf7},'messageTimestamp':_0x243a24[_0x132d2c(0x570)],'owner':this['instance'][_0x132d2c(0x61a)]});}_0x902bd5[_0x132d2c(0x520)]&&_0x8c8640[_0x132d2c(0x2a9)]>0x0&&(this[_0x132d2c(0x7b7)]['verbose'](this[_0x132d2c(0x147)]+'\x20('+this['instance']['wuid']+_0x132d2c(0x4e1)+_0x8c8640['length']+_0x132d2c(0x1cf)+this['instance']['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x132d2c(0xbe)][_0x132d2c(0x61f)]['insert']([..._0x8c8640],this['instance'][_0x132d2c(0x61a)])),this[_0x132d2c(0x3e7)]('messages.set',[..._0x8c8640]),_0x114641=void 0x0;},'messages.upsert':async({messages:_0x1456fc,type:_0x25952f},_0x1454dd)=>{const _0x270b15=_0x361ef9;for(let _0x3dc4ef of _0x1456fc){if(this[_0x270b15(0x282)]?.[_0x270b15(0x513)]&&_0x3dc4ef['key']['remoteJid'][_0x270b15(0x39c)](_0x270b15(0x710))){this[_0x270b15(0x7b7)][_0x270b15(0x7ac)](this[_0x270b15(0x147)]+'\x20('+this['instance'][_0x270b15(0x61a)]+_0x270b15(0x5f3));return;}if(_0x25952f!==_0x270b15(0x372)||!_0x3dc4ef?.['message']||_0x3dc4ef[_0x270b15(0x61f)]?.[_0x270b15(0x184)]||_0x3dc4ef['message']['senderKeyDistributionMessage']||_0x3dc4ef['key'][_0x270b15(0x47e)]===_0x270b15(0x751))return;let _0x18225a=null,_0x55d6ff=null;if(_0x3dc4ef[_0x270b15(0x15b)]&&_0x3dc4ef[_0x270b15(0x15b)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x270b15(0x4e6)](_0x270b15(0x2a0)),Pt[_0x3dc4ef['key']['id']]=_0x3dc4ef,this[_0x270b15(0x3c8)](_0x3dc4ef,0x0);return;}Pt[_0x3dc4ef['key']['id']]&&(console[_0x270b15(0x4e6)](_0x270b15(0x283)),delete Pt[_0x3dc4ef[_0x270b15(0x4dd)]['id']]);try{_0x18225a=await this['processPollUpdateMessage'](_0x3dc4ef),_0x55d6ff=_0x18225a?_0x18225a[_0x270b15(0x693)](','):null;}catch(_0xb4c8b){this[_0x270b15(0x7b7)][_0x270b15(0x7ac)](this[_0x270b15(0x147)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0xb4c8b instanceof Error?_0xb4c8b['message']:JSON[_0x270b15(0x5b9)](_0xb4c8b,null,0x2))),_0x55d6ff=_0x270b15(0x2ca);}this[_0x270b15(0x392)][_0x270b15(0x3ee)](_0x270b15(0x552)),_s[_0x270b15(0x442)]['isLong'](_0x3dc4ef['messageTimestamp'])&&(_0x3dc4ef[_0x270b15(0x570)]=_0x3dc4ef[_0x270b15(0x570)]?.['toNumber']()),_0x3dc4ef[_0x270b15(0x570)]&&_0x3dc4ef[_0x270b15(0x570)]['toString']()[_0x270b15(0x2a9)]<0xd&&(_0x3dc4ef[_0x270b15(0x570)]=_0x3dc4ef['messageTimestamp']*0x3e8);let _0x562f7d=_0x3dc4ef[_0x270b15(0x61f)],_0x1e1bae=(0x0,w[_0x270b15(0x162)])(_0x562f7d),_0xf404f=(0x0,w[_0x270b15(0x324)])(_0x1e1bae),{messageContent:_0x33e202,message_normalized:_0xcc2b5d}=this[_0x270b15(0x98)](_0x1e1bae,_0xf404f,_0x55d6ff);_0xf404f===_0x270b15(0x184)&&_0x33e202?.[_0x270b15(0xae)]&&(_0xf404f=_0x270b15(0xae));let _0x3f8ff7,_0x31ae14=_0x3dc4ef[_0x270b15(0x4dd)][_0x270b15(0x47e)]['endsWith'](_0x270b15(0x710));if(_0x3dc4ef[_0x270b15(0x4dd)][_0x270b15(0x3e2)])_0x3f8ff7=this[_0x270b15(0x68c)][_0x270b15(0x54b)];else{let _0x18476d=_0x31ae14?_0x3dc4ef[_0x270b15(0x4dd)][_0x270b15(0x153)]:_0x3dc4ef[_0x270b15(0x4dd)][_0x270b15(0x47e)];_0x3f8ff7=(await this[_0x270b15(0x201)](_0x18476d,_0x3dc4ef[_0x270b15(0x89)],!0x1))[_0x270b15(0x385)][_0x270b15(0x266)];}let _0x2ff22b={'_id':_0x3dc4ef[_0x270b15(0x4dd)]['id'],'key':_0x3dc4ef['key'],'isGroup':_0x31ae14,'profilePictureUrl':_0x3f8ff7,'pushName':_0x3dc4ef[_0x270b15(0x89)],'message':_0x1e1bae,'messageType':_0xf404f,'message_normalized':{'key':_0x3dc4ef['key'],'pushName':_0x3dc4ef[_0x270b15(0x89)],'messageTimestamp':_0x3dc4ef[_0x270b15(0x570)],'source':(0x0,w[_0x270b15(0x3d2)])(_0x3dc4ef['key']['id']),..._0xcc2b5d},'messageTimestamp':_0x3dc4ef['messageTimestamp'],'owner':this[_0x270b15(0x68c)][_0x270b15(0x61a)],'source':(0x0,w[_0x270b15(0x3d2)])(_0x3dc4ef[_0x270b15(0x4dd)]['id']),'expiration':_0x33e202?.[_0x270b15(0x101)]?.[_0x270b15(0x121)]||0x0};_0x33e202||(this[_0x270b15(0x7b7)]['error'](_0x270b15(0x652)),this[_0x270b15(0x7b7)][_0x270b15(0x4e6)](_0x2ff22b)),this['logger'][_0x270b15(0x1d9)](this[_0x270b15(0x147)]+'\x20('+this[_0x270b15(0x68c)][_0x270b15(0x61a)]+_0x270b15(0x4e1)+(_0x2ff22b[_0x270b15(0x4dd)]?.[_0x270b15(0x3e2)]?_0x270b15(0x5e9):_0x270b15(0x6ec))+'\x20['+_0x2ff22b[_0x270b15(0x4dd)]?.[_0x270b15(0x47e)]['replace'](_0x270b15(0xaf),'')+']\x20('+_0x2ff22b[_0x270b15(0x3a8)]+')'),_0x2ff22b[_0x270b15(0x7ba)]?.[_0x270b15(0x77d)]&&this['logger'][_0x270b15(0x1d9)](_0x3dc4ef[_0x270b15(0x4dd)]['id']+':\x20'+_0x2ff22b[_0x270b15(0x7ba)]?.[_0x270b15(0x77d)]),await this[_0x270b15(0xbe)][_0x270b15(0x61f)][_0x270b15(0x43c)]([_0x2ff22b],this['instance']['wuid']),this['sendDataWebhook'](_0x270b15(0x786),_0x2ff22b),U(this[_0x270b15(0x147)],_0x270b15(0x629),{'message':_0x2ff22b}),_0x3dc4ef[_0x270b15(0x4dd)][_0x270b15(0x47e)]!==_0x270b15(0x751)&&await this['updateChatWithMessage'](_0x1454dd,_0x2ff22b,_0x270b15(0x67a));}},'messages.update':async(_0x36e26d,_0x3e1e0a)=>{const _0x2bcdfa=_0x361ef9;let _0xeece4d={0x0:_0x2bcdfa(0x779),0x1:_0x2bcdfa(0x467),0x2:_0x2bcdfa(0x275),0x3:_0x2bcdfa(0x704),0x4:_0x2bcdfa(0x279),0x5:_0x2bcdfa(0x15e)};for await(let {key:_0x3ea389,update:_0x124136}of _0x36e26d){if(this[_0x2bcdfa(0x282)]?.['groups_ignore']&&_0x3ea389[_0x2bcdfa(0x47e)]['includes'](_0x2bcdfa(0x710))){this[_0x2bcdfa(0x7b7)][_0x2bcdfa(0x7ac)](this['instanceName']+'\x20('+this[_0x2bcdfa(0x68c)][_0x2bcdfa(0x61a)]+_0x2bcdfa(0x1c9));return;}if(_0x3ea389[_0x2bcdfa(0x47e)]!==_0x2bcdfa(0x751)){let _0x123b2c=Date['now'](),_0x4046b1;_0x124136[_0x2bcdfa(0x61f)]===null&&_0x124136[_0x2bcdfa(0x4ff)]===void 0x0?_0x4046b1=_0x2bcdfa(0x130):_0x4046b1=_0xeece4d[_0x124136[_0x2bcdfa(0x4ff)]];let _0x16f9f9=_0x3ea389[_0x2bcdfa(0x47e)][_0x2bcdfa(0x2b2)](/:\d{1,2}@/g,'@'),_0x18d199={..._0x3ea389,'remoteJid':_0x16f9f9,'status':_0x4046b1,'datetime':_0x123b2c,'owner':this[_0x2bcdfa(0x68c)][_0x2bcdfa(0x61a)]};this[_0x2bcdfa(0x3e7)](_0x2bcdfa(0x317),_0x18d199),await this[_0x2bcdfa(0x27c)](_0x3ea389,_0x18d199);}}},'labels.association':async({type:_0x4fda8c,association:_0x2647a2})=>{const _0x3e9c85=_0x361ef9;if(_0x2647a2[_0x3e9c85(0x73a)]===_0x3e9c85(0x465)){let _0xf669f6,_0x5d031f=0x0;for(;!_0xf669f6&&_0x5d031f<this[_0x3e9c85(0x5ab)];)_0xf669f6=await this[_0x3e9c85(0xbe)][_0x3e9c85(0x7bf)][_0x3e9c85(0x2f1)]({'where':{'_id':_0x2647a2[_0x3e9c85(0x102)]}},this[_0x3e9c85(0x68c)][_0x3e9c85(0x61a)]),_0xf669f6||(_0x5d031f++,this['logger']['info'](this[_0x3e9c85(0x147)]+'\x20('+this[_0x3e9c85(0x68c)][_0x3e9c85(0x61a)]+_0x3e9c85(0x205)+_0x2647a2[_0x3e9c85(0x102)]+_0x3e9c85(0x5ca)+this[_0x3e9c85(0x79b)]+_0x3e9c85(0x480)+_0x5d031f+'/'+this[_0x3e9c85(0x5ab)]+')'),await this[_0x3e9c85(0x87)](this[_0x3e9c85(0x79b)]));if(!_0xf669f6){this['logger'][_0x3e9c85(0x4e6)](_0x3e9c85(0x52c)+_0x2647a2[_0x3e9c85(0x102)]+_0x3e9c85(0x50a)+this['delayChatLabel_MAX_RETRIES']+'\x20tentativas.');return;}switch(_0x4fda8c){case _0x3e9c85(0x5a3):console[_0x3e9c85(0x1d9)](_0x2647a2),await this['repository'][_0x3e9c85(0x7bf)][_0x3e9c85(0x2f9)]({'where':{'_id':_0x2647a2[_0x3e9c85(0x102)]}},{'leadInfo.etiquetas':_0x2647a2[_0x3e9c85(0x373)]},this['instance'][_0x3e9c85(0x61a)],void 0x0,_0x3e9c85(0x3b2));break;case'remove':console[_0x3e9c85(0x1d9)](_0x2647a2),await this[_0x3e9c85(0xbe)][_0x3e9c85(0x7bf)][_0x3e9c85(0x2f9)]({'where':{'_id':_0x2647a2['chatId']}},{'leadInfo.etiquetas':_0x2647a2[_0x3e9c85(0x373)]},this[_0x3e9c85(0x68c)][_0x3e9c85(0x61a)],void 0x0,_0x3e9c85(0x732));break;default:this[_0x3e9c85(0x7b7)][_0x3e9c85(0x4e6)](_0x3e9c85(0x403)+_0x4fda8c+']');}}},'labels.edit':async _0x4f2db1=>{const _0x31728b=_0x361ef9;if(!_0x4f2db1||!_0x4f2db1['id']){this['logger'][_0x31728b(0x4e6)](_0x31728b(0x583));return;}if(!_0x4f2db1[_0x31728b(0xd3)]){let _0x95b416=[_0x31728b(0x683),_0x31728b(0x2fd),_0x31728b(0x51e),'#dfaef0',_0x31728b(0x2fe),_0x31728b(0x63b),_0x31728b(0x311),_0x31728b(0x77b),_0x31728b(0x3f4),_0x31728b(0x748),'#01d0e2','#ffc5c7',_0x31728b(0x6a1),_0x31728b(0x3f6),_0x31728b(0x20c),_0x31728b(0x34e),_0x31728b(0x4d5),'#b4ebff',_0x31728b(0x4c7),_0x31728b(0x618)],_0x2a3ad5;typeof _0x4f2db1[_0x31728b(0x7be)]==_0x31728b(0x192)&&_0x4f2db1[_0x31728b(0x7be)]>=0x0&&_0x4f2db1[_0x31728b(0x7be)]<_0x95b416[_0x31728b(0x2a9)]?_0x2a3ad5=_0x95b416[_0x4f2db1[_0x31728b(0x7be)]]:(this[_0x31728b(0x7b7)]['error']('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x4f2db1[_0x31728b(0x7be)]),_0x2a3ad5=_0x31728b(0x4dc));let _0xe4b5b3={'_id':_0x4f2db1['id'],'colorHex':_0x2a3ad5,'color':_0x4f2db1?.['color'],'name':_0x4f2db1?.[_0x31728b(0x6fa)],'owner':this[_0x31728b(0x68c)][_0x31728b(0x61a)]};await this[_0x31728b(0xbe)][_0x31728b(0x5c0)][_0x31728b(0x2f9)]({'where':{'_id':_0x4f2db1['id']}},_0xe4b5b3,this['instance'][_0x31728b(0x61a)]),this[_0x31728b(0x7b7)]['info'](this[_0x31728b(0x147)]+'\x20('+this[_0x31728b(0x68c)]['wuid']+_0x31728b(0x681)+_0x4f2db1);}_0x4f2db1[_0x31728b(0xd3)]&&(await this[_0x31728b(0xbe)]['label'][_0x31728b(0x6f4)]({'where':{'_id':_0x4f2db1['id']}},this[_0x31728b(0x68c)][_0x31728b(0x61a)]),this[_0x31728b(0x7b7)][_0x31728b(0x6eb)](_0x31728b(0x55b)+_0x4f2db1['id']));}},this['groupHandler']={'groups.upsert':async _0x39aa33=>{const _0x4d8f09=_0x361ef9;this[_0x4d8f09(0x282)]?.[_0x4d8f09(0x513)]||this[_0x4d8f09(0x3e7)](_0x4d8f09(0x722),_0x39aa33);for(let _0x4a0393 of _0x39aa33)await this['updateGroupWebhook'](_0x4a0393);},'groups.update':async _0x15f7ab=>{const _0x2ab94a=_0x361ef9;this[_0x2ab94a(0x282)]?.[_0x2ab94a(0x513)]||this[_0x2ab94a(0x3e7)](_0x2ab94a(0x326),_0x15f7ab);for(let _0x54f2bf of _0x15f7ab)await this[_0x2ab94a(0x299)](_0x54f2bf);},'group-participants.update':async _0xff0c43=>{const _0x29b9eb=_0x361ef9;this['localWebhook']?.[_0x29b9eb(0x513)]||this[_0x29b9eb(0x3e7)](_0x29b9eb(0x481),_0xff0c43),await this[_0x29b9eb(0x396)](_0xff0c43);}},this[_0x361ef9(0x5ab)]=0x5,this[_0x361ef9(0x79b)]=0x1388,this['lastRealGroupsFetch']=0x0,this['processPollUpdateMessage']=async _0x6db2a3=>{const _0x388391=_0x361ef9;if(_0x6db2a3['message']?.[_0x388391(0x28a)]){let _0x24354c=await this[_0x388391(0x44a)](_0x6db2a3[_0x388391(0x61f)][_0x388391(0x28a)][_0x388391(0x328)],!0x0);if(_0x24354c){let _0xef4a2d=_0x24354c[_0x388391(0x4dd)][_0x388391(0x3e2)]?this['instance'][_0x388391(0x61a)]+'@s.whatsapp.net':_0x24354c['key'][_0x388391(0x153)]||_0x24354c[_0x388391(0x4dd)][_0x388391(0x47e)],_0x107c08=_0x24354c[_0x388391(0x4dd)]['id'],_0x4a05f6=_0x24354c['message'],_0x13091d=Buffer['from'](_0x4a05f6[_0x388391(0x3ed)]['messageSecret'][_0x388391(0x51d)](_0x388391(0x4bf)),'hex'),_0x5e122b=(0x0,w[_0x388391(0x8b)])(_0x6db2a3[_0x388391(0x61f)][_0x388391(0x28a)][_0x388391(0x19d)],{'pollCreatorJid':_0xef4a2d,'pollMsgId':_0x107c08,'pollEncKey':_0x13091d,'voterJid':_0x6db2a3[_0x388391(0x4dd)][_0x388391(0x3e2)]?this['instance']['wuid']+'@s.whatsapp.net':_0x6db2a3[_0x388391(0x4dd)]['remoteJid']['endsWith']('g.us')?_0x6db2a3[_0x388391(0x4dd)][_0x388391(0x153)]:_0x6db2a3[_0x388391(0x4dd)]['remoteJid']}),_0x5157ed=[],_0x37ca77=_0x5e122b[_0x388391(0x6b3)]['map'](_0x3b4572=>Buffer[_0x388391(0x4e0)](_0x3b4572)[_0x388391(0x51d)]('hex'));for(let {optionName:_0x52d3d9}of _0x4a05f6[_0x388391(0x8e)]?.[_0x388391(0x57b)]||_0x4a05f6[_0x388391(0x48a)]?.['options']||_0x4a05f6['pollCreationMessageV2']?.[_0x388391(0x57b)])_0x37ca77[_0x388391(0x1e1)]((0x0,w[_0x388391(0xff)])(Buffer[_0x388391(0x4e0)](_0x52d3d9))['toString']('hex'))>-0x1&&_0x5157ed[_0x388391(0x3f7)](_0x52d3d9);return _0x5157ed;}}return null;},this[_0x361ef9(0x98)]=(_0x2fae4b,_0x333bc5,_0x224b84)=>{const _0x4b505c=_0x361ef9;try{let _0x2eb998=_0x2fae4b?(0x0,w[_0x4b505c(0xe1)])(_0x2fae4b)[_0x333bc5]:void 0x0,_0x4057e4={},_0x1e9fc8=null,_0x5c0c5a=null,_0x5cc958=null;_0x333bc5==='protocolMessage'&&_0x2eb998?.[_0x4b505c(0xae)]&&(_0x333bc5=(0x0,w[_0x4b505c(0x324)])(_0x2eb998[_0x4b505c(0xae)]),_0x1e9fc8=_0x2fae4b[_0x4b505c(0x184)]['key']['id'],_0x2eb998=_0x2fae4b['protocolMessage'][_0x4b505c(0xae)][_0x333bc5]),_0x2fae4b[_0x333bc5]?.[_0x4b505c(0x101)]?.[_0x4b505c(0x236)]&&_0x2fae4b[_0x333bc5]?.[_0x4b505c(0x101)]?.['quotedMessage']&&(_0x5c0c5a=_0x2fae4b[_0x333bc5]['contextInfo'][_0x4b505c(0x236)]),_0x2fae4b[_0x4b505c(0x4c3)]&&(_0x5cc958=_0x2fae4b['reactionMessage'][_0x4b505c(0x4dd)]['id']);let _0x3ef943;if(_0x2eb998&&typeof _0x2eb998==_0x4b505c(0x2c3)&&'pollCreationMessageKey'in _0x2eb998&&({pollCreationMessageKey:_0x3ef943}=_0x2eb998),_0x333bc5==='pollCreationMessage'||_0x333bc5===_0x4b505c(0x2ff)||_0x333bc5===_0x4b505c(0x48a)){let _0x27f40e=_0x2eb998[_0x4b505c(0x57b)][_0x4b505c(0x6ef)](_0x5f101f=>_0x5f101f[_0x4b505c(0x31e)])['join']('|');_0x4057e4[_0x4b505c(0x794)]=_0x27f40e;}let _0x50a503='';if(_0x2eb998&&(_0x50a503+=_0x2eb998[_0x4b505c(0x6fa)]?_0x2eb998[_0x4b505c(0x6fa)]:'',_0x50a503+=_0x2eb998[_0x4b505c(0x45d)]?'\x20'+_0x2eb998[_0x4b505c(0x45d)]:'',_0x50a503+=_0x2eb998['conversation']?'\x20'+_0x2eb998['conversation']:'',_0x50a503+=_0x2eb998[_0x4b505c(0x78d)]?'\x20'+_0x2eb998[_0x4b505c(0x78d)]:''),_0x333bc5===_0x4b505c(0x6bc)){_0x50a503=(_0x2eb998[_0x4b505c(0x3e8)]||'')+'\x0a'+(_0x2eb998['description']||'')+'\x0a'+(_0x2eb998['footerText']||'');let _0x2bc33b=this['sectionsToString'](_0x2eb998['sections']);_0x4057e4[_0x4b505c(0x794)]=_0x2bc33b;}if(_0x333bc5==='listResponseMessage'&&(_0x224b84=_0x2eb998['title']),_0x2eb998&&_0x2eb998[_0x4b505c(0x4de)]){let _0x1d6c7f=this[_0x4b505c(0xfd)](JSON[_0x4b505c(0x5b9)](_0x2eb998[_0x4b505c(0x4de)],null,0x2));_0x50a503=_0x50a503+'\x0a'+_0x1d6c7f;}if(_0x2eb998){let {sections:_0x404e22,listType:_0x40a1b2,displayName:_0x44bcda,vcard:_0x28c4bb,contactVcard:_0x2643d1,name:_0x4d418e,caption:_0x25c7cd,conversation:_0x3357b7,pollCreationMessageKey:_0x5ca8c6,footerText:_0x30b84b,contentText:_0x2acc11,pageCount:_0x1a5a26,headerType:_0x43c4b6,isAvatar:_0x4e3e41,isAnimated:_0x540016,fallbackLc:_0x30ab69,fallbackLg:_0x1144f4,namespace:_0x58e41e,elementName:_0x330e6f,localizableParams:_0x21c76b,viewOnce:_0x2a1f6b,height:_0x59c8b0,width:_0x2a117f,key:_0x4f24ea,firstScanLength:_0x376612,firstScanSidecar:_0xe4f8a3,gifPlayback:_0x24fb10,gifAttribution:_0x541444,midQualityFileSha256:_0x315cbb,scansSidecar:_0x401a33,streamingSidecar:_0x168dd5,thumbnailHeight:_0x57ee0f,thumbnailWidth:_0x5478aa,thumbnailEncSha256:_0x4ff38c,thumbnailDirectPath:_0x463662,canonicalUrl:_0x507d3c,matchedText:_0x43ad9f,previewType:_0x136176,thumbnailSha256:_0x439d59,deviceListMetadataVersion:_0x2f19c2,inviteLinkGroupTypeV2:_0x18ba9e,interactiveAnnotations:_0x2dd735,scanLengths:_0x3f04fe,jpegThumbnail:_0x5b5bb5,url:_0x53c9db,mediaKeyTimestamp:_0x3217fe,waveform:_0xed3bdb,stickerSentTs:_0x2c8d4d,firstFrameLength:_0x3a39c2,fileEncSha256:_0x2c99a3,contextInfo:_0x3ae5fc,firstFrameSidecar:_0x16f360,directPath:_0x502a5b,fileSha256:_0x29ca3d,mediaKey:_0x2a37a4,senderTimestampMs:_0x10d29d,..._0x3fbc25}=_0x2eb998;(_0x333bc5==='listMessage'||_0x333bc5===_0x4b505c(0x76e))&&(delete _0x3fbc25['title'],delete _0x3fbc25[_0x4b505c(0x3fb)]),typeof _0x2eb998==_0x4b505c(0x716)?_0x4057e4={'text':_0x2eb998,'type':_0x333bc5||'conversation',..._0x1e9fc8&&{'edited':_0x1e9fc8},..._0x5c0c5a&&{'quoted':_0x5c0c5a},..._0x5cc958&&{'reaction':_0x5cc958}}:_0x4057e4={'text':_0x50a503,..._0x3fbc25,..._0x333bc5==='pollUpdateMessage'?{'poll_id':_0x2eb998[_0x4b505c(0x328)]['id'],'quoted':_0x2eb998['pollCreationMessageKey']['id'],'vote':_0x224b84}:{},..._0x333bc5==='listResponseMessage'?{'vote':_0x224b84}:{},'type':_0x333bc5,..._0x1e9fc8&&{'edited':_0x1e9fc8},..._0x5c0c5a&&{'quoted':_0x5c0c5a},..._0x5cc958&&{'reaction':_0x5cc958},...(_0x333bc5==='pollCreationMessage'||_0x333bc5===_0x4b505c(0x2ff)||_0x333bc5===_0x4b505c(0x48a)||_0x333bc5===_0x4b505c(0x6bc))&&{'convertedOptions':_0x4057e4[_0x4b505c(0x794)]}};}return{'messageType':_0x333bc5,'messageContent':_0x2eb998,'message_normalized':_0x4057e4};}catch(_0x5cf03b){return this['logger'][_0x4b505c(0x4e6)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x5cf03b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this[_0x361ef9(0x178)](),this['initializeQueue'](),this[_0x361ef9(0x68c)][_0x361ef9(0x4e7)]={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x1ec3bd(0x147)](_0x566bba){const _0x258ad7=a0_0x1ec3bd;if(!_0x566bba){this[_0x258ad7(0x68c)][_0x258ad7(0x6fa)]=(0x0,Ri['v4'])();return;}this[_0x258ad7(0x68c)][_0x258ad7(0x6fa)]=_0x566bba,this[_0x258ad7(0x3e7)](_0x258ad7(0x41b),{'instance':this[_0x258ad7(0x68c)][_0x258ad7(0x6fa)],'status':_0x258ad7(0x660)});}get[a0_0x1ec3bd(0x147)](){const _0x1c6d18=a0_0x1ec3bd;return this[_0x1c6d18(0x68c)][_0x1c6d18(0x6fa)];}get[a0_0x1ec3bd(0x61a)](){const _0xab1eda=a0_0x1ec3bd;return this[_0xab1eda(0x68c)]['wuid'];}async[a0_0x1ec3bd(0x37d)](){const _0x4c9edc=a0_0x1ec3bd;let _0x1fe8d3=this[_0x4c9edc(0x392)][_0x4c9edc(0x3f8)]?.[_0x4c9edc(0x6fa)]??this[_0x4c9edc(0x392)][_0x4c9edc(0x3f8)]?.[_0x4c9edc(0x7c7)];if(!_0x1fe8d3){if(this[_0x4c9edc(0x6f0)]['get'](_0x4c9edc(0x548))[_0x4c9edc(0x520)]){let _0x133e13=await $['getClient']()['db'](this[_0x4c9edc(0x6f0)][_0x4c9edc(0x5d6)](_0x4c9edc(0x548))['CONNECTION']['DB_PREFIX_NAME']+_0x4c9edc(0x208))[_0x4c9edc(0x48d)](this[_0x4c9edc(0x147)])['findOne']({'_id':_0x4c9edc(0x731)});if(_0x133e13){let _0x4ddaac=JSON['parse'](JSON[_0x4c9edc(0x5b9)](_0x133e13),w[_0x4c9edc(0x165)]['reviver']);_0x1fe8d3=_0x4ddaac['me']?.[_0x4c9edc(0x6fa)]||_0x4ddaac['me']?.['verifiedName'];}}else{if((0x0,De[_0x4c9edc(0xfe)])((0x0,L[_0x4c9edc(0x693)])(fe,this[_0x4c9edc(0x147)],'creds.json'))){let _0x44f9fb=JSON[_0x4c9edc(0x30d)]((0x0,De['readFileSync'])((0x0,L[_0x4c9edc(0x693)])(fe,this['instanceName'],_0x4c9edc(0x5f8)),{'encoding':'utf-8'}));_0x1fe8d3=_0x44f9fb['me']?.[_0x4c9edc(0x6fa)]||_0x44f9fb['me']?.[_0x4c9edc(0x7c7)];}}}return _0x1fe8d3;}get[a0_0x1ec3bd(0x54b)](){const _0x39a7c5=a0_0x1ec3bd;return this['instance'][_0x39a7c5(0x54b)];}get['qrCode'](){const _0x5cd840=a0_0x1ec3bd;return this[_0x5cd840(0x68c)][_0x5cd840(0x4e7)]?.[_0x5cd840(0x609)]?{'pairingCode':this[_0x5cd840(0x68c)][_0x5cd840(0x4e7)]?.['pairingCode']}:{'code':this[_0x5cd840(0x68c)][_0x5cd840(0x4e7)]?.[_0x5cd840(0x118)],'base64':this[_0x5cd840(0x68c)][_0x5cd840(0x4e7)]?.[_0x5cd840(0x59c)]};}async[a0_0x1ec3bd(0x3ad)](){const _0x5b1e60=a0_0x1ec3bd;let _0x154e1a=await this[_0x5b1e60(0xbe)][_0x5b1e60(0x4c1)][_0x5b1e60(0x435)](this[_0x5b1e60(0x147)]);this[_0x5b1e60(0x282)][_0x5b1e60(0xe5)]=_0x154e1a?.[_0x5b1e60(0xe5)],this['localWebhook'][_0x5b1e60(0x39f)]=_0x154e1a?.['enabled'],this[_0x5b1e60(0x282)][_0x5b1e60(0xd9)]=_0x154e1a?.[_0x5b1e60(0xd9)],this[_0x5b1e60(0x282)]['STATUS_INSTANCE']=_0x154e1a?.['STATUS_INSTANCE'],this['localWebhook'][_0x5b1e60(0x6b0)]=_0x154e1a?.[_0x5b1e60(0x6b0)],this[_0x5b1e60(0x282)]['SEND_MESSAGE']=_0x154e1a?.[_0x5b1e60(0x541)],this['localWebhook']['MESSAGES_UPSERT']=_0x154e1a?.['MESSAGES_UPSERT'],this[_0x5b1e60(0x282)][_0x5b1e60(0x761)]=_0x154e1a?.[_0x5b1e60(0x761)],this[_0x5b1e60(0x282)][_0x5b1e60(0x173)]=_0x154e1a?.['GROUPS_UPSERT'],this[_0x5b1e60(0x282)][_0x5b1e60(0x109)]=_0x154e1a?.['GROUPS_UPDATE'],this[_0x5b1e60(0x282)]['GROUP_PARTICIPANTS_UPDATE']=_0x154e1a?.[_0x5b1e60(0x715)],this[_0x5b1e60(0x282)]['CHATS_SET']=_0x154e1a?.['CHATS_SET'],this[_0x5b1e60(0x282)][_0x5b1e60(0x55e)]=_0x154e1a?.[_0x5b1e60(0x55e)],this[_0x5b1e60(0x282)][_0x5b1e60(0x14d)]=_0x154e1a?.[_0x5b1e60(0x14d)],this[_0x5b1e60(0x282)][_0x5b1e60(0x49f)]=_0x154e1a?.[_0x5b1e60(0x49f)],this[_0x5b1e60(0x282)][_0x5b1e60(0x26a)]=_0x154e1a?.[_0x5b1e60(0x26a)],this[_0x5b1e60(0x282)][_0x5b1e60(0x4f9)]=_0x154e1a?.[_0x5b1e60(0x4f9)],this[_0x5b1e60(0x282)]['CONTACTS_UPDATE']=_0x154e1a?.[_0x5b1e60(0x6a8)],this[_0x5b1e60(0x282)][_0x5b1e60(0x493)]=_0x154e1a?.[_0x5b1e60(0x493)],this['localWebhook'][_0x5b1e60(0x8a)]=_0x154e1a?.['MESSAGES_SET'],this[_0x5b1e60(0x282)][_0x5b1e60(0x4d9)]=_0x154e1a?.[_0x5b1e60(0x4d9)],this[_0x5b1e60(0x282)][_0x5b1e60(0x513)]=_0x154e1a?.[_0x5b1e60(0x513)];}async[a0_0x1ec3bd(0x234)](_0x55d7b1){const _0x3d8b5a=a0_0x1ec3bd;let _0x56b3fe=[_0x3d8b5a(0x16c),_0x3d8b5a(0xe5),_0x3d8b5a(0x39f),_0x3d8b5a(0xd9),'STATUS_INSTANCE',_0x3d8b5a(0x6b0),'MESSAGES_UPDATE',_0x3d8b5a(0x67a),_0x3d8b5a(0x541),'GROUPS_UPSERT','GROUPS_UPDATE',_0x3d8b5a(0x715),_0x3d8b5a(0x6ee),'CHATS_UPSERT',_0x3d8b5a(0x14d),_0x3d8b5a(0x49f),_0x3d8b5a(0x26a),'CONTACTS_UPSERT',_0x3d8b5a(0x6a8),_0x3d8b5a(0x493),_0x3d8b5a(0x8a),_0x3d8b5a(0x4d9),'groups_ignore'],_0x40fdf3={};return _0x56b3fe[_0x3d8b5a(0x730)](_0xaa6cc=>{_0x55d7b1[_0xaa6cc]!==void 0x0&&(_0x40fdf3[_0xaa6cc]=_0x55d7b1[_0xaa6cc]);}),_0x40fdf3[_0x3d8b5a(0xe5)]&&(_0x40fdf3['url']=_0x40fdf3['url'][_0x3d8b5a(0x2ee)]()),await this[_0x3d8b5a(0xbe)][_0x3d8b5a(0x4c1)][_0x3d8b5a(0x63d)](_0x40fdf3,this['instanceName']),Object[_0x3d8b5a(0x615)](this[_0x3d8b5a(0x282)],_0x40fdf3),await this[_0x3d8b5a(0xbe)][_0x3d8b5a(0x4c1)][_0x3d8b5a(0x435)](this[_0x3d8b5a(0x147)]);}async['findWebhook'](){const _0x226aba=a0_0x1ec3bd;return await this['repository'][_0x226aba(0x4c1)]['find'](this[_0x226aba(0x147)]);}async[a0_0x1ec3bd(0x3e7)](_0x5dbedc,_0x36aa20){const _0x40a37d=a0_0x1ec3bd;let _0x401c11=_0x5dbedc[_0x40a37d(0x2b2)](/[\.-]/gm,'_')['toUpperCase'](),_0x2e5101=this[_0x40a37d(0x282)][_0x40a37d(0x39f)]&&(0x0,D[_0x40a37d(0x1c4)])(this[_0x40a37d(0x282)][_0x40a37d(0xe5)])?this[_0x40a37d(0x282)][_0x40a37d(0xe5)]+(this[_0x40a37d(0x282)][_0x40a37d(0xd9)]?this[_0x40a37d(0x23b)][_0x5dbedc]:''):null,_0x40b3cf=this['localWebhook'][_0x401c11],_0x5aa882=de&&de[_0x40a37d(0x39f)]&&(0x0,D[_0x40a37d(0x1c4)])(de['url'])?de[_0x40a37d(0xe5)]+(de[_0x40a37d(0xd9)]?this[_0x40a37d(0x23b)][_0x5dbedc]:''):null,_0x89d3b7=de?de[_0x401c11]:null;if(_0x40b3cf&&_0x2e5101)try{await Q['default'][_0x40a37d(0x63d)]({'baseURL':_0x2e5101})[_0x40a37d(0x489)]('',{'event':_0x5dbedc,'instance':this[_0x40a37d(0x68c)][_0x40a37d(0x6fa)],'apikey':this[_0x40a37d(0x68c)][_0x40a37d(0x469)],'data':_0x36aa20}),this[_0x40a37d(0x7b7)][_0x40a37d(0x1d9)](this[_0x40a37d(0x147)]+'\x20('+this[_0x40a37d(0x68c)]['wuid']+_0x40a37d(0x594)+_0x5dbedc+':\x20'+_0x2e5101);}catch{this[_0x40a37d(0x7b7)][_0x40a37d(0x4e6)](this['instanceName']+'\x20('+this[_0x40a37d(0x68c)][_0x40a37d(0x61a)]+_0x40a37d(0x219)+_0x5dbedc+':\x20'+_0x2e5101);}if(_0x89d3b7&&_0x5aa882)try{await Q[_0x40a37d(0x442)][_0x40a37d(0x63d)]({'baseURL':_0x5aa882})[_0x40a37d(0x489)]('',{'event':_0x5dbedc,'instance':this['instance'][_0x40a37d(0x6fa)],'apikey':this[_0x40a37d(0x68c)][_0x40a37d(0x469)],'data':_0x36aa20}),this[_0x40a37d(0x7b7)]['log'](this[_0x40a37d(0x147)]+'\x20('+this[_0x40a37d(0x68c)]['wuid']+_0x40a37d(0x46f)+_0x5dbedc+':\x20'+_0x5aa882);}catch{this[_0x40a37d(0x7b7)][_0x40a37d(0x4e6)](this[_0x40a37d(0x147)]+'\x20('+this['instance'][_0x40a37d(0x61a)]+_0x40a37d(0x57a)+_0x5dbedc+':\x20'+_0x5aa882);}}async['connectionUpdate']({qr:_0x1d837d,connection:_0x547adf,lastDisconnect:_0xa939b}){const _0xcd2297=a0_0x1ec3bd;if(_0x1d837d){if(this[_0xcd2297(0x68c)]['qrcode']['count']===Do)return this[_0xcd2297(0x3e7)](_0xcd2297(0x712),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0xcd2297(0x1f1)]['badSession']}),this[_0xcd2297(0x1c3)]={'state':_0xcd2297(0x453),'statusReason':w[_0xcd2297(0x1f1)]['connectionClosed']},this['sendDataWebhook']('connection.update',{'instance':this[_0xcd2297(0x68c)]['name'],...this[_0xcd2297(0x1c3)]}),this[_0xcd2297(0x3e7)](_0xcd2297(0x41b),{'instance':this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)],'status':'removed'}),this[_0xcd2297(0xbe)][_0xcd2297(0x774)]['delete'](this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)]),this[_0xcd2297(0xde)]=!0x0,se['removeIPv6ById'](W,this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)]),this[_0xcd2297(0x389)][_0xcd2297(0x2eb)]('no.connection',this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)]);this[_0xcd2297(0x68c)]['qrcode'][_0xcd2297(0x533)]++;let _0x21c4a7={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xcd2297(0x50c),'dark':_0xcd2297(0x4dc)}};Ai[_0xcd2297(0x442)][_0xcd2297(0x1fa)](_0x1d837d,_0x21c4a7,(_0x20cbb6,_0x14f351)=>{const _0x2f22be=_0xcd2297;if(_0x20cbb6){this[_0x2f22be(0x7b7)][_0x2f22be(0x4e6)](this[_0x2f22be(0x147)]+'\x20('+this[_0x2f22be(0x68c)][_0x2f22be(0x61a)]+_0x2f22be(0x448)+(_0x20cbb6 instanceof Error?_0x20cbb6['message']:JSON['stringify'](_0x20cbb6,null,0x2)));return;}this['instance'][_0x2f22be(0x4e7)]['base64']=_0x14f351,this[_0x2f22be(0x68c)]['qrcode'][_0x2f22be(0x118)]=_0x1d837d,!this[_0x2f22be(0x7c4)]&&this[_0x2f22be(0x3e7)](_0x2f22be(0x712),{'qrcode':{'instance':this['instance'][_0x2f22be(0x6fa)],'pairingCode':this[_0x2f22be(0x68c)][_0x2f22be(0x4e7)][_0x2f22be(0x609)],'code':_0x1d837d,'base64':_0x14f351}});}),this[_0xcd2297(0x7c4)]?this[_0xcd2297(0x68c)][_0xcd2297(0x4e7)]['pairingCode']||(await(0x0,w[_0xcd2297(0x5fa)])(0x7d0),this[_0xcd2297(0x68c)]['qrcode']['pairingCode']=await this[_0xcd2297(0x392)][_0xcd2297(0x190)](this[_0xcd2297(0x7c4)])):this[_0xcd2297(0x68c)]['qrcode'][_0xcd2297(0x609)]=null,Ii[_0xcd2297(0x442)][_0xcd2297(0xb9)](_0x1d837d,{'small':!0x0},_0x40ca36=>this['logger'][_0xcd2297(0x1d9)](_0xcd2297(0x142)+this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)]+',\x20qrcodeCount:\x20'+this[_0xcd2297(0x68c)][_0xcd2297(0x4e7)]['count']+_0xcd2297(0x151)+this[_0xcd2297(0x68c)]['qrcode'][_0xcd2297(0x609)]+_0xcd2297(0x4a1)+_0x40ca36));}if(_0x547adf&&(this[_0xcd2297(0x1c3)]={'state':_0x547adf,'statusReason':_0xa939b?.[_0xcd2297(0x4e6)]?.['output']?.[_0xcd2297(0x1ef)]??0xc8},this[_0xcd2297(0x3e7)](_0xcd2297(0x697),{'instance':this[_0xcd2297(0x68c)]['name'],...this[_0xcd2297(0x1c3)]})),_0x547adf===_0xcd2297(0x2a5)){if(this[_0xcd2297(0x2d1)]++,this[_0xcd2297(0x4fc)][_0xcd2297(0x3f7)](Date[_0xcd2297(0x450)]()),this[_0xcd2297(0x4fc)]=this[_0xcd2297(0x4fc)][_0xcd2297(0x433)](_0x277cd4=>Date['now']()-_0x277cd4<this['RECONNECT_TIME_FRAME']),_0xa939b['error']?.[_0xcd2297(0x72c)]?.[_0xcd2297(0x1ef)]!==w[_0xcd2297(0x1f1)][_0xcd2297(0x475)]){let _0x13f313=this[_0xcd2297(0x2d1)]<=0x1?0x0:Math[_0xcd2297(0x503)](Math[_0xcd2297(0x4ae)](0x2,this[_0xcd2297(0x2d1)]-0x1)*0x3e8,0x493e0);console[_0xcd2297(0x1d9)](this[_0xcd2297(0x147)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0xcd2297(0x2d1)]+_0xcd2297(0x62a)+_0x13f313/0x3e8+_0xcd2297(0x115)),await new Promise(_0x7f0ce5=>setTimeout(_0x7f0ce5,_0x13f313)),console[_0xcd2297(0x1d9)](_0xcd2297(0x645)),await this['connectToWhatsapp']();}else{this[_0xcd2297(0x3e7)]('status.instance',{'instance':this[_0xcd2297(0x68c)]['name'],'status':'removed'}),this['instance']['ScheduleMessage'][_0xcd2297(0x365)]=!0x1,this['repository']['webhook'][_0xcd2297(0x6f4)](this[_0xcd2297(0x147)]),this[_0xcd2297(0xbe)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0xcd2297(0x450)]()},this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)]),se['removeIPv6ById'](W,this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)]);try{this['logger'][_0xcd2297(0x7ac)](this['instanceName']+'\x20('+this[_0xcd2297(0x68c)]['wuid']+_0xcd2297(0x72b));let _0x448d61=await this[_0xcd2297(0xbe)][_0xcd2297(0x61f)][_0xcd2297(0x677)](this[_0xcd2297(0x68c)]['wuid']);_0x448d61['success']?this['logger']['verbose'](this[_0xcd2297(0x147)]+'\x20('+this[_0xcd2297(0x68c)][_0xcd2297(0x61a)]+_0xcd2297(0x24e)):this['logger'][_0xcd2297(0x4e6)](_0xcd2297(0x174)+_0x448d61['error']);}catch(_0x390926){this['logger']['error'](_0xcd2297(0x29d)+_0x390926['message']);}this['instance']['ScheduleMessage']['delayMessage']!==null&&(this[_0xcd2297(0x7b7)][_0xcd2297(0x7ac)](this[_0xcd2297(0x147)]+'\x20('+this['instance'][_0xcd2297(0x61a)]+_0xcd2297(0x600)),clearInterval(this[_0xcd2297(0x68c)][_0xcd2297(0x56d)]['delayMessage']),this[_0xcd2297(0x68c)]['ScheduleMessage'][_0xcd2297(0x1bc)]=null),this[_0xcd2297(0x7b7)][_0xcd2297(0x7ac)](this[_0xcd2297(0x147)]+'\x20('+this['instance'][_0xcd2297(0x61a)]+_0xcd2297(0x180)),this['AutomateSystem']=null,this['eventEmitter'][_0xcd2297(0x2eb)]('remove.instance',this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)],'inner'),this[_0xcd2297(0x392)]?.['ws']?.[_0xcd2297(0x2a5)](),this[_0xcd2297(0x392)][_0xcd2297(0x140)](new Error(_0xcd2297(0x2cc)));}}if(_0x547adf===_0xcd2297(0x6e9)){this[_0xcd2297(0x7b7)][_0xcd2297(0x717)](this[_0xcd2297(0x147)]+'\x20('+this[_0xcd2297(0x68c)][_0xcd2297(0x61a)]+_0xcd2297(0x70b)+this[_0xcd2297(0x392)]['authState'][_0xcd2297(0x731)]?.[_0xcd2297(0x333)]),this[_0xcd2297(0x392)][_0xcd2297(0x38d)][_0xcd2297(0x731)]?.[_0xcd2297(0x333)]||(this[_0xcd2297(0x7b7)][_0xcd2297(0x717)](this[_0xcd2297(0x147)]+'\x20('+this[_0xcd2297(0x68c)][_0xcd2297(0x61a)]+_0xcd2297(0x11d)),this['client']['ev']['flush']()),this[_0xcd2297(0x472)],this[_0xcd2297(0x68c)]['wuid']=this[_0xcd2297(0x392)][_0xcd2297(0x3f8)]['id'][_0xcd2297(0x2b2)](/:\d+/,'')[_0xcd2297(0x2b2)]('@s.whatsapp.net',''),this[_0xcd2297(0x68c)][_0xcd2297(0x54b)]=(await this[_0xcd2297(0x1b5)](this[_0xcd2297(0x68c)][_0xcd2297(0x61a)]+_0xcd2297(0xaf)))[_0xcd2297(0x54b)],this[_0xcd2297(0xbe)]['auth'][_0xcd2297(0x63d)]({'online':!0x0,'owner':this[_0xcd2297(0x68c)][_0xcd2297(0x61a)],'lastDisconnect':null},this[_0xcd2297(0x68c)][_0xcd2297(0x6fa)]);let _0x2a7fc2=_0xcd2297(0x41a)+this[_0xcd2297(0x68c)][_0xcd2297(0x61a)],_0x552757=0x28,_0x12cad3=Math['floor']((_0x552757-_0x2a7fc2[_0xcd2297(0x2a9)])/0x2),_0x593094='\x20'[_0xcd2297(0x1dd)](_0x12cad3),_0x491252=_0xcd2297(0x740),_0x3ad980=_0xcd2297(0x699)+this[_0xcd2297(0x68c)]['name'],_0x557ab0=(''+_0x593094+_0x2a7fc2+_0x593094)[_0xcd2297(0xf2)](_0x552757,'\x20'),_0x2d669a=(''+_0x593094+_0x491252+_0x593094)['padEnd'](_0x552757,'\x20'),_0x8a7706=(''+_0x593094+_0x3ad980+_0x593094)[_0xcd2297(0xf2)](_0x552757,'\x20'),_0x6368c3=Math[_0xcd2297(0x41c)](_0x557ab0['length'],_0x2d669a[_0xcd2297(0x2a9)],_0x8a7706[_0xcd2297(0x2a9)]),_0x3e58e6=_0x557ab0['padEnd'](_0x6368c3,'\x20'),_0x58565a=_0x2d669a[_0xcd2297(0xf2)](_0x6368c3,'\x20'),_0xe9a31c=_0x8a7706[_0xcd2297(0xf2)](_0x6368c3,'\x20');this[_0xcd2297(0x7b7)][_0xcd2297(0x6eb)]((_0xcd2297(0x539)+'─'[_0xcd2297(0x1dd)](_0x6368c3)+_0xcd2297(0x3d5)+_0x58565a+_0xcd2297(0x3f2)+_0xe9a31c+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3e58e6+_0xcd2297(0x49b)+'─'[_0xcd2297(0x1dd)](_0x6368c3)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0xcd2297(0x68c)][_0xcd2297(0x56d)][_0xcd2297(0x365)]=!0x0;}}[a0_0x1ec3bd(0x472)](){const _0x2eccb0=a0_0x1ec3bd;this[_0x2eccb0(0x2d1)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x1ec3bd(0x44a)](_0x4e8ad6,_0x22f182=!0x1){const _0x11620a=a0_0x1ec3bd;try{let _0x78d151=await this[_0x11620a(0xbe)][_0x11620a(0x61f)]['find']({'where':{'_id':_0x4e8ad6['id']}},this[_0x11620a(0x68c)][_0x11620a(0x61a)]);return _0x22f182?_0x78d151[0x0]:_0x78d151[0x0][_0x11620a(0x61f)];}catch{return{'conversation':''};}}[a0_0x1ec3bd(0x178)](){const _0x5b1c5a=a0_0x1ec3bd;let _0x336c72=this[_0x5b1c5a(0x6f0)][_0x5b1c5a(0x5d6)]('STORE'),_0x4c6f6f=this[_0x5b1c5a(0x6f0)][_0x5b1c5a(0x5d6)]('DATABASE');_0x336c72?.[_0x5b1c5a(0x38f)]&&!_0x4c6f6f['ENABLED']&&setInterval(()=>{const _0x5c4189=_0x5b1c5a;try{for(let [_0x2b6695,_0x376ee2]of Object['entries'](_0x336c72))_0x376ee2===!0x0&&(0x0,Pe[_0x5c4189(0x768)])(_0x5c4189(0x405)+(0x0,L[_0x5c4189(0x693)])(this[_0x5c4189(0x661)],_0x2b6695['toLowerCase'](),this[_0x5c4189(0x68c)][_0x5c4189(0x61a)])+_0x5c4189(0x69a));}catch{}},(_0x336c72?.[_0x5b1c5a(0x38f)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4ca33b=a0_0x1ec3bd;let _0x31f60d=this[_0x4ca33b(0x6f0)][_0x4ca33b(0x5d6)](_0x4ca33b(0x548)),_0x433d4c=this[_0x4ca33b(0x6f0)]['get'](_0x4ca33b(0x521));return _0x433d4c?.[_0x4ca33b(0x520)]?await As(_0x433d4c,this[_0x4ca33b(0x68c)][_0x4ca33b(0x6fa)]):_0x31f60d['ENABLED']?await Rs(this[_0x4ca33b(0x68c)][_0x4ca33b(0x6fa)]):await(0x0,w[_0x4ca33b(0x484)])((0x0,L[_0x4ca33b(0x693)])(fe,this[_0x4ca33b(0x68c)][_0x4ca33b(0x6fa)]));}async[a0_0x1ec3bd(0x6d4)](){const _0x536814=a0_0x1ec3bd;let _0x12b27b=()=>Math[_0x536814(0x582)](Math[_0x536814(0x323)]()*0x4e21)+0x7d0,_0x1f6f3f=async()=>{const _0x1340f1=_0x536814;if(!this['instance'][_0x1340f1(0x56d)][_0x1340f1(0x365)]){this[_0x1340f1(0x7b7)][_0x1340f1(0x7ac)](this['instanceName']+'\x20('+this[_0x1340f1(0x68c)][_0x1340f1(0x61a)]+'):Desconectado,\x20parando\x20execução.'),this[_0x1340f1(0x5f0)]=!0x1;return;}if(this['instance'][_0x1340f1(0x61a)]&&this[_0x1340f1(0x1d3)]&&this[_0x1340f1(0x68c)]['ScheduleMessage'][_0x1340f1(0x1bc)]!==null&&this[_0x1340f1(0x68c)][_0x1340f1(0x56d)][_0x1340f1(0x1bc)]!==void 0x0){let _0x10196b=Math[_0x1340f1(0x478)](this['instance'][_0x1340f1(0x56d)]['delayMessage']/0xea60);this['logger'][_0x1340f1(0x7ac)](this[_0x1340f1(0x147)]+'\x20('+this[_0x1340f1(0x68c)][_0x1340f1(0x61a)]+_0x1340f1(0x1dc)+_0x10196b+_0x1340f1(0x7ae)),this[_0x1340f1(0x5f0)]=!0x1;return;}else this[_0x1340f1(0x68c)][_0x1340f1(0x61a)]&&(this[_0x1340f1(0x7b7)][_0x1340f1(0x7ac)](this[_0x1340f1(0x147)]+'\x20('+this[_0x1340f1(0x68c)][_0x1340f1(0x61a)]+_0x1340f1(0x7ce)),this['AutomateSystem']||(await this[_0x1340f1(0x31b)](),this[_0x1340f1(0x543)](),this['synchronizeAndMapFlows']()),(this[_0x1340f1(0x68c)][_0x1340f1(0x56d)][_0x1340f1(0x1bc)]===null||this[_0x1340f1(0x68c)][_0x1340f1(0x56d)]['delayMessage']===void 0x0)&&await this[_0x1340f1(0x5e3)]());if(this[_0x1340f1(0x5f0)]){let _0x422a43=_0x12b27b();this['logger'][_0x1340f1(0x7ac)](this[_0x1340f1(0x147)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x422a43/0x3e8+_0x1340f1(0x462)),setTimeout(_0x1f6f3f,_0x422a43);}};if(this[_0x536814(0x5f0)])return;this[_0x536814(0x5f0)]=!0x0;let _0x59407f=_0x12b27b();setTimeout(_0x1f6f3f,_0x59407f);}async[a0_0x1ec3bd(0x754)](){const _0x4b4da1=a0_0x1ec3bd;let _0x351229=this[_0x4b4da1(0x68c)][_0x4b4da1(0x61a)];try{let _0x5c12f3=await this[_0x4b4da1(0xbe)][_0x4b4da1(0x5a4)][_0x4b4da1(0x4f6)]({'where':{'$or':[{'owner':_0x351229},{'whoCanUse':{'$in':[_0x351229]}},{'shareOwners':{'$in':[_0x351229]}}]}}),_0x53fc3a=new Map(this[_0x4b4da1(0x1d3)][_0x4b4da1(0x30c)][_0x4b4da1(0x6ef)](_0x46b894=>[_0x46b894[_0x4b4da1(0x16c)],_0x46b894])),_0x5459b6=_0x5c12f3[_0x4b4da1(0x6ef)](_0x51fe3c=>{const _0x4b09e3=_0x4b4da1;let _0xe35843=_0x53fc3a['get'](_0x51fe3c[_0x4b09e3(0x16c)]?.[_0x4b09e3(0x51d)]());return{'_id':_0x51fe3c['_id']?.[_0x4b09e3(0x51d)](),'name':_0xe35843?.[_0x4b09e3(0x6fa)]??_0x51fe3c[_0x4b09e3(0x6fa)],'default':_0xe35843?.['default']??_0x51fe3c[_0x4b09e3(0x442)]??!0x1,'startCommand':_0xe35843?.[_0x4b09e3(0x1c2)]??_0x51fe3c[_0x4b09e3(0x1cb)],'minutesToClose':_0xe35843?.[_0x4b09e3(0x41d)]??_0x51fe3c[_0x4b09e3(0x41d)]??0xa,'readMessages':_0xe35843?.[_0x4b09e3(0x66f)]??_0x51fe3c[_0x4b09e3(0x66f)]??!0x1,'testingWith':_0xe35843?.[_0x4b09e3(0x724)]??_0x51fe3c['testingWith'],'canEdit':_0x51fe3c[_0x4b09e3(0x60e)]===_0x351229||(_0x51fe3c[_0x4b09e3(0x4f0)]??[])['includes'](_0x351229),'usersCount':(_0x51fe3c['shareOwners']??[])[_0x4b09e3(0x2a9)]??0x0};}),_0x398226=!0x1;_0x5459b6[_0x4b4da1(0x730)](_0x515e9c=>{_0x515e9c['default']&&(_0x398226?_0x515e9c['default']=!0x1:_0x398226=!0x0);}),this[_0x4b4da1(0x1d3)][_0x4b4da1(0x30c)]=_0x5459b6;let _0x190314={'flows':_0x5459b6};return await this[_0x4b4da1(0xbe)][_0x4b4da1(0x766)][_0x4b4da1(0x77c)](_0x190314,_0x351229),this[_0x4b4da1(0x7b7)][_0x4b4da1(0x7ac)](this[_0x4b4da1(0x147)]+'\x20('+_0x351229+_0x4b4da1(0xca)),_0x5459b6['length'];}catch(_0x567e10){return this['logger'][_0x4b4da1(0x4e6)](this[_0x4b4da1(0x147)]+'\x20('+_0x351229+_0x4b4da1(0x3d4)+(_0x567e10 instanceof Error?_0x567e10['message']:JSON[_0x4b4da1(0x5b9)](_0x567e10,null,0x2))),{'message':_0x4b4da1(0x641)+(_0x567e10 instanceof Error?_0x567e10[_0x4b4da1(0x61f)]:JSON[_0x4b4da1(0x5b9)](_0x567e10,null,0x2))};}}async['connectToWhatsapp'](_0x4710a9){const _0x2eda52=a0_0x1ec3bd;try{let _0x296ed2=await this['repository'][_0x2eda52(0x68c)]['findOne']({'where':{'_id':W+'-'+this[_0x2eda52(0x147)]}}),_0x1b172b,_0xd35489=!se[_0x2eda52(0xcd)]||!se[_0x2eda52(0x176)];console[_0x2eda52(0x1d9)](_0x2eda52(0x70f)),console[_0x2eda52(0x1d9)](_0x2eda52(0x487),$i),console['log'](_0x2eda52(0x2ce),this['reconnectAttempts']),console[_0x2eda52(0x1d9)](_0x2eda52(0x70f)),$i&&!_0xd35489&&(this[_0x2eda52(0x2d1)]<0x4||!this['reconnectAttempts']?_0x296ed2&&_0x296ed2['ip']?(_0x1b172b=_0x296ed2['ip'],console[_0x2eda52(0x1d9)](_0x2eda52(0x425)+_0x1b172b)):(_0x1b172b=await se['createIPv6'](W,this['instance'][_0x2eda52(0x6fa)]),_0x1b172b?(console['log'](_0x2eda52(0x3c1)+_0x1b172b),await(0x0,w[_0x2eda52(0x5fa)])(0x7d0)):console['error']('Falha\x20ao\x20criar\x20IPv6.')):this[_0x2eda52(0x2d1)]<0x6&&(await se[_0x2eda52(0x451)](W,this[_0x2eda52(0x68c)][_0x2eda52(0x6fa)]),console[_0x2eda52(0x1d9)]('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x1b172b=await se['createIPv6'](W,this[_0x2eda52(0x68c)][_0x2eda52(0x6fa)]),_0x1b172b?(console[_0x2eda52(0x1d9)](_0x2eda52(0x3c1)+_0x1b172b),await(0x0,w['delay'])(0x7d0)):console['error'](_0x2eda52(0x659)))),this[_0x2eda52(0x3ad)](),this[_0x2eda52(0x68c)]['apikey']=(await this['repository'][_0x2eda52(0x774)]['find'](this['instance'][_0x2eda52(0x6fa)]))['apikey'],this[_0x2eda52(0x68c)]['authState']=await this[_0x2eda52(0x5c3)]();let {version:_0x5736f0}=await(0x0,w[_0x2eda52(0x3ca)])(),_0x551ab7=[Oi,Ds,(0x0,Os['release'])()],_0x42faf6={'localAddress':_0x1b172b,'auth':{'creds':this[_0x2eda52(0x68c)][_0x2eda52(0x38d)][_0x2eda52(0x145)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x2eda52(0x68c)][_0x2eda52(0x38d)][_0x2eda52(0x145)][_0x2eda52(0x196)],(0x0,kt['default'])({'level':_0x2eda52(0x4e6)}))},'logger':(0x0,kt[_0x2eda52(0x442)])({'level':_0x2eda52(0x4e6)}),'printQRInTerminal':!0x1,'browser':_0x4710a9?[_0x2eda52(0x437),Ds,(0x0,Os[_0x2eda52(0x78e)])()]:_0x551ab7,'version':_0x5736f0,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x36ba94=>{const _0x16064b=_0x2eda52;let _0x20ab0e=this[_0x16064b(0x282)]?.[_0x16064b(0x513)]&&(0x0,w[_0x16064b(0x44c)])(_0x36ba94);return(0x0,w[_0x16064b(0x284)])(_0x36ba94)||_0x20ab0e;},'msgRetryCounterCache':this[_0x2eda52(0x5d0)],'getMessage':async _0x5b643c=>await this[_0x2eda52(0x44a)](_0x5b643c),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2eda52(0x671)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x50e332){const _0x4f0ad6=_0x2eda52;return _0x50e332[_0x4f0ad6(0x62f)]?.[_0x4f0ad6(0x61f)]?.[_0x4f0ad6(0x6bc)]?.[_0x4f0ad6(0x4bb)]===w[_0x4f0ad6(0x46a)][_0x4f0ad6(0x268)][_0x4f0ad6(0x52d)][_0x4f0ad6(0x676)]['PRODUCT_LIST']&&(_0x50e332=JSON[_0x4f0ad6(0x30d)](JSON[_0x4f0ad6(0x5b9)](_0x50e332)),_0x50e332['deviceSentMessage']['message'][_0x4f0ad6(0x6bc)][_0x4f0ad6(0x4bb)]=w[_0x4f0ad6(0x46a)]['Message'][_0x4f0ad6(0x52d)][_0x4f0ad6(0x676)][_0x4f0ad6(0x25d)]),_0x50e332[_0x4f0ad6(0x6bc)]?.[_0x4f0ad6(0x4bb)]==w['proto']['Message'][_0x4f0ad6(0x52d)]['ListType'][_0x4f0ad6(0x2d9)]&&(_0x50e332=JSON[_0x4f0ad6(0x30d)](JSON[_0x4f0ad6(0x5b9)](_0x50e332)),_0x50e332[_0x4f0ad6(0x6bc)]['listType']=w[_0x4f0ad6(0x46a)][_0x4f0ad6(0x268)][_0x4f0ad6(0x52d)][_0x4f0ad6(0x676)][_0x4f0ad6(0x25d)]),_0x50e332;}};return this[_0x2eda52(0xde)]=!0x1,this[_0x2eda52(0x392)]=(0x0,w[_0x2eda52(0x442)])(_0x42faf6),this['eventHandler'](),this['phoneNumber']=_0x4710a9,this[_0x2eda52(0x392)];}catch(_0x5a80e6){let _0x5fa4ef=_0x2eda52(0x332),_0x158785=_0x5a80e6 instanceof Error?_0x5a80e6[_0x2eda52(0x61f)]:typeof _0x5a80e6=='object'?JSON['stringify'](_0x5a80e6):_0x5a80e6,_0x391341=_0x5fa4ef+':\x20'+_0x158785;throw this[_0x2eda52(0x7b7)]['error'](this[_0x2eda52(0x147)]+'\x20('+this['instance'][_0x2eda52(0x61a)]+'):\x20'+_0x391341),console[_0x2eda52(0x4e6)](_0x2eda52(0x138),_0x5a80e6),_0x5a80e6 instanceof Error&&console[_0x2eda52(0x4e6)](_0x2eda52(0x21a),_0x5a80e6[_0x2eda52(0x21c)]),new O(_0x391341);}}[a0_0x1ec3bd(0x38c)](){const _0x2245ce=a0_0x1ec3bd;this[_0x2245ce(0x392)]['ev'][_0x2245ce(0x6ba)](_0x3a2d9b=>{const _0x46bf81=_0x2245ce;if(!this[_0x46bf81(0xde)]){let _0x3aeec6=this[_0x46bf81(0x6f0)][_0x46bf81(0x5d6)](_0x46bf81(0x548));if(_0x3a2d9b[_0x46bf81(0x3e9)]){let _0x5e5ea4=_0x3a2d9b['labels.edit'];this[_0x46bf81(0x14f)][_0x46bf81(0x3e9)](_0x5e5ea4);}if(_0x3a2d9b[_0x46bf81(0x459)]){let _0x34f6c2=_0x3a2d9b[_0x46bf81(0x459)];this['messageHandle']['labels.association'](_0x34f6c2);}if(_0x3a2d9b[_0x46bf81(0x697)]&&this[_0x46bf81(0x315)](_0x3a2d9b[_0x46bf81(0x697)]),_0x3a2d9b[_0x46bf81(0x1af)]&&this[_0x46bf81(0x68c)][_0x46bf81(0x38d)][_0x46bf81(0x2a1)](),_0x3a2d9b['messaging-history.set']){let _0x4848fb=_0x3a2d9b[_0x46bf81(0x1d6)];this[_0x46bf81(0x14f)]['messaging-history.set'](_0x4848fb,_0x3aeec6);}if(_0x3a2d9b[_0x46bf81(0x786)]){let _0xab853e=_0x3a2d9b[_0x46bf81(0x786)];this[_0x46bf81(0x14f)][_0x46bf81(0x786)](_0xab853e,_0x3aeec6);}if(_0x3a2d9b[_0x46bf81(0x317)]){let _0x40557e=_0x3a2d9b['messages.update'];this['messageHandle'][_0x46bf81(0x317)](_0x40557e,_0x3aeec6);}if(_0x3a2d9b['presence.update']){let _0x1fd7e6=_0x3a2d9b[_0x46bf81(0x646)];if(this['localWebhook']?.[_0x46bf81(0x513)]&&_0x1fd7e6['id']['includes'](_0x46bf81(0x710)))return;this['sendDataWebhook'](_0x46bf81(0x646),_0x1fd7e6);}if(_0x3a2d9b[_0x46bf81(0x722)]){let _0x496984=_0x3a2d9b['groups.upsert'];this[_0x46bf81(0x399)]['groups.upsert'](_0x496984);}if(_0x3a2d9b[_0x46bf81(0x326)]){let _0x288ce8=_0x3a2d9b[_0x46bf81(0x326)];this[_0x46bf81(0x399)][_0x46bf81(0x326)](_0x288ce8);}if(_0x3a2d9b[_0x46bf81(0x481)]){let _0x325b64=_0x3a2d9b['group-participants.update'];this['groupHandler'][_0x46bf81(0x481)](_0x325b64);}if(_0x3a2d9b[_0x46bf81(0x1ec)]){let _0x439f82=_0x3a2d9b[_0x46bf81(0x1ec)];this[_0x46bf81(0x362)][_0x46bf81(0x1ec)](_0x439f82,_0x3aeec6);}if(_0x3a2d9b['chats.update']){let _0x58fade=_0x3a2d9b[_0x46bf81(0x27f)];this[_0x46bf81(0x362)][_0x46bf81(0x27f)](_0x58fade,_0x3aeec6);}if(_0x3a2d9b[_0x46bf81(0xd0)]){let _0x3bb896=_0x3a2d9b['chats.delete'];this[_0x46bf81(0x362)]['chats.delete'](_0x3bb896);}if(_0x3a2d9b['contacts.upsert']){let _0x43ea9d=_0x3a2d9b['contacts.upsert'];this[_0x46bf81(0x17f)]['contacts.upsert'](_0x43ea9d,_0x3aeec6);}if(_0x3a2d9b[_0x46bf81(0x78b)]){let _0x17a968=_0x3a2d9b[_0x46bf81(0x78b)];this[_0x46bf81(0x17f)]['contacts.update'](_0x17a968,_0x3aeec6);}}});}async[a0_0x1ec3bd(0x3c8)](_0x359a47,_0x31d7ab){const _0x345c37=a0_0x1ec3bd;if(_0x31d7ab>=0xa){console[_0x345c37(0x4e6)](this['instanceName']+'\x20('+this[_0x345c37(0x68c)]['wuid']+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Pt[_0x359a47[_0x345c37(0x4dd)]['id']];return;}try{console['error'](this['instanceName']+'\x20('+this[_0x345c37(0x68c)][_0x345c37(0x61a)]+_0x345c37(0x364)+(_0x31d7ab+0x1)),await this[_0x345c37(0x392)][_0x345c37(0x5ef)](JSON['parse'](_0x359a47[_0x345c37(0x15b)][0x1],w[_0x345c37(0x165)][_0x345c37(0x390)])),console[_0x345c37(0x4e6)](_0x345c37(0x739));}catch(_0x52b639){console[_0x345c37(0x4e6)](this['instanceName']+'\x20('+this[_0x345c37(0x68c)][_0x345c37(0x61a)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x52b639),setTimeout(()=>this[_0x345c37(0x3c8)](_0x359a47,_0x31d7ab+0x1),Math['pow'](0x2,_0x31d7ab)*0x3e8);}}[a0_0x1ec3bd(0x87)](_0x2261a0){return new Promise(_0x39fa8e=>setTimeout(_0x39fa8e,_0x2261a0));}[a0_0x1ec3bd(0x3fc)](_0x2498bb){const _0x1dc532=a0_0x1ec3bd;_0x2498bb=_0x2498bb[_0x1dc532(0x2b2)](/\D/g,'');let _0x5d3a4a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1dc532(0x799)](_0x2498bb);if(_0x5d3a4a&&_0x5d3a4a[0x1]==='55'){let _0x536a8c=_0x5d3a4a[0x2],_0x143a83=_0x5d3a4a[0x3],_0x21468a=_0x5d3a4a[0x4];if(parseInt(_0x536a8c)>=0x1f&&_0x143a83==='9')return _0x5d3a4a[0x1]+_0x536a8c+_0x21468a;}return _0x2498bb;}[a0_0x1ec3bd(0xc1)](_0x9925cf){const _0x269720=a0_0x1ec3bd;return _0x9925cf[_0x269720(0x39c)](_0x269720(0x710))||_0x9925cf[_0x269720(0x39c)](_0x269720(0xaf))||_0x9925cf[_0x269720(0x39c)](_0x269720(0x22a))?_0x9925cf:(_0x9925cf=_0x9925cf?.[_0x269720(0x2b2)](/\s/g,'')[_0x269720(0x2b2)](/\+/g,'')[_0x269720(0x2b2)](/\(/g,'')[_0x269720(0x2b2)](/\)/g,'')[_0x269720(0x4c0)](/\:/)[0x0][_0x269720(0x4c0)]('@')[0x0],_0x9925cf[_0x269720(0x2a9)]>=0x12?(_0x9925cf=_0x9925cf['replace'](/[^\d-]/g,''),_0x9925cf+_0x269720(0x710)):(_0x9925cf=_0x9925cf[_0x269720(0x2b2)](/\D/g,''),_0x9925cf+_0x269720(0xaf)));}async['updatePresence'](_0x508ab3){const _0x380792=a0_0x1ec3bd;let _0x3bcf36=(await this[_0x380792(0x1be)]({'numbers':[_0x508ab3[_0x380792(0x192)]]}))[0x0];if(!_0x3bcf36[_0x380792(0x320)]&&!(0x0,w[_0x380792(0x44c)])(_0x3bcf36[_0x380792(0x4df)])&&!_0x3bcf36[_0x380792(0x4df)][_0x380792(0x39c)]('@broadcast'))throw new m(_0x3bcf36);let _0xe0cc54=_0x3bcf36[_0x380792(0x4df)];try{return await this['client'][_0x380792(0x3a0)](_0xe0cc54),await this['client'][_0x380792(0x3ee)](_0x508ab3[_0x380792(0x370)],_0xe0cc54),{'status':0xc8,'presence':_0x508ab3[_0x380792(0x370)]};}catch(_0x50a361){let _0x4dd3fc=_0x380792(0x6b7),_0x4dc56e=_0x50a361 instanceof Error?_0x50a361['message']:typeof _0x50a361=='object'?JSON[_0x380792(0x5b9)](_0x50a361):_0x50a361,_0xf65bc=_0x4dd3fc+':\x20'+_0x4dc56e;throw this[_0x380792(0x7b7)][_0x380792(0x4e6)](this[_0x380792(0x147)]+'\x20('+this['instance']['wuid']+_0x380792(0x4e1)+_0xf65bc),new m(_0xf65bc);}}async[a0_0x1ec3bd(0x201)](_0x1ce161,_0x21cea7,_0x56244d,_0x1564c0=!0x0){const _0x63f732=a0_0x1ec3bd;let _0x352313=await this['repository'][_0x63f732(0x2cf)][_0x63f732(0x2f1)]({'where':{'_id':_0x1ce161}});if(!_0x352313&&!_0x1564c0)return;let _0xde5618={'lastUpdate':Date['now']()};if(_0x56244d||!_0x352313?.[_0x63f732(0x6fc)]||Date[_0x63f732(0x450)]()-_0x352313[_0x63f732(0x6fc)]>0x18*0x3c*0x3c*0x3e8)try{let _0x562104=(await this[_0x63f732(0x1b5)](_0x1ce161))[_0x63f732(0x54b)];_0xde5618[_0x63f732(0x266)]=_0x562104;}catch(_0x10389a){let _0x191a04=_0x63f732(0x1f3),_0x211fca=_0x10389a instanceof Error?_0x10389a[_0x63f732(0x61f)]:typeof _0x10389a==_0x63f732(0x2c3)?JSON['stringify'](_0x10389a):_0x10389a,_0x33f12f=_0x191a04+':\x20'+_0x211fca;throw this[_0x63f732(0x7b7)][_0x63f732(0x4e6)](this[_0x63f732(0x147)]+'\x20('+this[_0x63f732(0x68c)][_0x63f732(0x61a)]+_0x63f732(0x4e1)+_0x33f12f),new m(_0x33f12f);}return _0x21cea7&&_0x352313?.['name']!==_0x21cea7&&(_0xde5618[_0x63f732(0x6fa)]=_0x21cea7),Object[_0x63f732(0x196)](_0xde5618)[_0x63f732(0x2a9)]>0x1&&(_0x352313?await this[_0x63f732(0xbe)][_0x63f732(0x2cf)][_0x63f732(0x77c)]({'where':{'_id':_0x1ce161}},_0xde5618):await this[_0x63f732(0xbe)][_0x63f732(0x2cf)][_0x63f732(0x43c)]([{'_id':_0x1ce161,..._0xde5618}]),_0x352313={..._0x352313,..._0xde5618}),{'cachedContact':_0x352313};}async[a0_0x1ec3bd(0x1b5)](_0x1fa566){const _0x5ed689=a0_0x1ec3bd;let _0x59df21=this[_0x5ed689(0xc1)](_0x1fa566);try{return{'wuid':_0x59df21,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x59df21,_0x5ed689(0x2f5))};}catch{return{'wuid':_0x59df21,'profilePictureUrl':null};}}async[a0_0x1ec3bd(0x309)](_0x3f1425,_0x5c31bd,_0x47258f){const _0x18b900=a0_0x1ec3bd;let _0x27c707;try{let _0x803c5=(await this[_0x18b900(0x1be)]({'numbers':[_0x3f1425]}))?.[_0x18b900(0x25a)]();if(!_0x803c5[_0x18b900(0x320)]&&!(0x0,w['isJidGroup'])(_0x803c5['jid'])&&!_0x803c5[_0x18b900(0x4df)][_0x18b900(0x39c)](_0x18b900(0x22a)))throw new m(_0x803c5);_0x27c707=_0x803c5[_0x18b900(0x4df)];}catch(_0x439817){_0x27c707=_0x3f1425,this[_0x18b900(0x7b7)]['warn'](this['instanceName']+'\x20('+this[_0x18b900(0x68c)][_0x18b900(0x61a)]+_0x18b900(0x1e4)+_0x439817[_0x18b900(0x61f)]),this['logger']['warn'](this[_0x18b900(0x147)]+'\x20('+this['instance'][_0x18b900(0x61a)]+_0x18b900(0x1e5)+_0x27c707);}try{if(_0x27c707||(_0x27c707=_0x3f1425,this[_0x18b900(0x7b7)][_0x18b900(0x717)](this[_0x18b900(0x147)]+'\x20('+this[_0x18b900(0x68c)][_0x18b900(0x61a)]+_0x18b900(0x597)+_0x27c707)),_0x47258f||(_0x47258f={}),_0x47258f?.[_0x18b900(0x5fa)]){await this[_0x18b900(0x392)][_0x18b900(0x3a0)](_0x27c707),await this[_0x18b900(0x392)]['sendPresenceUpdate'](_0x47258f?.[_0x18b900(0x370)]??_0x18b900(0x45b),_0x27c707);let _0xeaedcc=Math[_0x18b900(0x503)](_0x47258f['delay'],0x2710);await(0x0,w['delay'])(_0xeaedcc),await this[_0x18b900(0x392)]['sendPresenceUpdate'](_0x18b900(0x528),_0x27c707);}let _0x50f75f=_0x47258f?.[_0x18b900(0x36b)]!=!0x1?void 0x0:!0x1,_0x39542d;if(_0x47258f?.['quoted']){let _0x3ba5a7=_0x47258f?.[_0x18b900(0x285)],_0x2ceaba=_0x3ba5a7?.['message']?_0x3ba5a7:await this[_0x18b900(0x44a)](_0x3ba5a7[_0x18b900(0x4dd)],!0x0);_0x2ceaba&&(_0x39542d=_0x2ceaba);}let _0x266043=await this[_0x18b900(0xbe)][_0x18b900(0x7bf)][_0x18b900(0x2f1)]({'where':{'_id':_0x27c707}},this['instance']['wuid']),_0x1e8afe,_0xdcfa47=null;if((0x0,w[_0x18b900(0x44c)])(_0x27c707))try{if(_0xdcfa47=_0x266043[_0x18b900(0x25b)],!_0xdcfa47)throw new F(_0x18b900(0x644));_0x47258f?.['mentions']&&(_0x47258f[_0x18b900(0xd1)]?.[_0x18b900(0x235)]?_0x1e8afe=_0xdcfa47[_0x18b900(0x43e)][_0x18b900(0x6ef)](_0x470da0=>_0x470da0['id']):_0x47258f[_0x18b900(0xd1)]?.[_0x18b900(0x128)]?.[_0x18b900(0x2a9)]&&(_0x1e8afe=_0x47258f['mentions'][_0x18b900(0x128)]['map'](_0x47e555=>{const _0x4807dd=_0x18b900;let _0x13c9a6=this[_0x4807dd(0xc1)](_0x47e555);return(0x0,w[_0x4807dd(0x44c)])(_0x13c9a6)?null:_0x13c9a6;})));}catch{throw new F('Group\x20not\x20found');}let _0x40da80=await((async()=>{const _0x386c2e=_0x18b900;let _0x359a33={'quoted':_0x39542d,'ephemeralExpiration':_0x266043?.[_0x386c2e(0x1da)]??0x0};if(!_0x5c31bd[_0x386c2e(0x6a2)]&&!_0x5c31bd['poll']&&!_0x5c31bd['sticker']&&!_0x5c31bd['conversation']&&_0x27c707!==_0x386c2e(0x751)&&_0x5c31bd[_0x386c2e(0x4c3)])return await this[_0x386c2e(0x392)]['sendMessage'](_0x27c707,{'react':{'text':_0x5c31bd['reactionMessage']['text'],'key':_0x5c31bd['reactionMessage'][_0x386c2e(0x4dd)]}},_0x359a33);if(_0x5c31bd['conversation']){let _0x1dc5ac=_0x5c31bd[_0x386c2e(0x33a)];return _0x47258f?.[_0x386c2e(0x23d)]&&(_0x1dc5ac=await this['replaceVariablesChat'](_0x1dc5ac,_0x27c707)),await this[_0x386c2e(0x392)][_0x386c2e(0x455)](_0x27c707,{'text':_0x1dc5ac,'mentions':_0x1e8afe,'linkPreview':_0x50f75f},_0x359a33);}return!_0x5c31bd[_0x386c2e(0x6a2)]&&!_0x5c31bd[_0x386c2e(0x4ee)]&&_0x27c707!='status@broadcast'?await this[_0x386c2e(0x392)][_0x386c2e(0x455)](_0x27c707,{'forward':{'key':{'remoteJid':this[_0x386c2e(0x68c)][_0x386c2e(0x61a)],'fromMe':!0x0},'message':_0x5c31bd},'mentions':_0x1e8afe},_0x359a33):_0x27c707===_0x386c2e(0x751)?await this['client'][_0x386c2e(0x455)](_0x27c707,_0x5c31bd[_0x386c2e(0x4ff)][_0x386c2e(0x7a5)],{'backgroundColor':_0x5c31bd[_0x386c2e(0x4ff)][_0x386c2e(0x307)][_0x386c2e(0xbf)],'font':_0x5c31bd[_0x386c2e(0x4ff)][_0x386c2e(0x307)][_0x386c2e(0x5d7)],'statusJidList':_0x5c31bd[_0x386c2e(0x4ff)][_0x386c2e(0x307)][_0x386c2e(0x32a)]}):await this[_0x386c2e(0x392)][_0x386c2e(0x455)](_0x27c707,_0x5c31bd,_0x359a33);})()),_0x4d23ad=(0x0,w[_0x18b900(0x162)])(_0x40da80[_0x18b900(0x61f)]),_0x28afb7=(0x0,w[_0x18b900(0x324)])(_0x4d23ad),{message_normalized:_0xc80610}=this[_0x18b900(0x98)](_0x4d23ad,_0x28afb7,null),_0x3a5f9d={'_id':_0x40da80[_0x18b900(0x4dd)]['id'],'key':_0x40da80[_0x18b900(0x4dd)],'pushName':_0x40da80[_0x18b900(0x89)],'isGroup':_0x40da80[_0x18b900(0x4dd)][_0x18b900(0x47e)][_0x18b900(0x74a)](_0x18b900(0x710)),'profilePictureUrl':this[_0x18b900(0x68c)][_0x18b900(0x54b)],'message':_0x4d23ad,'messageType':_0x28afb7,'message_normalized':{'key':_0x40da80[_0x18b900(0x4dd)],'pushName':_0x40da80['pushName'],'messageTimestamp':_0x40da80[_0x18b900(0x570)]&&_0x40da80['messageTimestamp'][_0x18b900(0x51d)]()[_0x18b900(0x2a9)]<0xd?_0x40da80[_0x18b900(0x570)]*0x3e8:_0x40da80['messageTimestamp']||null,'source':(0x0,w[_0x18b900(0x3d2)])(_0x40da80[_0x18b900(0x4dd)]['id']),..._0xc80610},'messageTimestamp':_0x40da80['messageTimestamp']&&_0x40da80['messageTimestamp'][_0x18b900(0x51d)]()[_0x18b900(0x2a9)]<0xd?_0x40da80[_0x18b900(0x570)]*0x3e8:_0x40da80[_0x18b900(0x570)]||null,'owner':this[_0x18b900(0x68c)][_0x18b900(0x61a)],'source':(0x0,w['getDevice'])(_0x40da80['key']['id'])};return this[_0x18b900(0x7b7)][_0x18b900(0x717)](this[_0x18b900(0x147)]+'\x20('+this[_0x18b900(0x68c)][_0x18b900(0x61a)]+_0x18b900(0x2f6)+_0x3a5f9d[_0x18b900(0x4dd)]?.[_0x18b900(0x47e)][_0x18b900(0x2b2)](_0x18b900(0xaf),'')+_0x18b900(0x514)+_0x3a5f9d[_0x18b900(0x3a8)]+')'),_0x3a5f9d[_0x18b900(0x7ba)]?.[_0x18b900(0x77d)]&&this[_0x18b900(0x7b7)][_0x18b900(0x717)](_0x3a5f9d['message_normalized']?.[_0x18b900(0x77d)]),this[_0x18b900(0x3e7)](_0x18b900(0x662),_0x3a5f9d),U(this['instanceName'],'messages',{'message':_0x3a5f9d}),this['updateChatWithMessage'](this[_0x18b900(0x6f0)][_0x18b900(0x5d6)](_0x18b900(0x548)),_0x3a5f9d,'SEND_MESSAGE',_0x266043),await this[_0x18b900(0xbe)][_0x18b900(0x61f)][_0x18b900(0x43c)]([_0x3a5f9d],this[_0x18b900(0x68c)][_0x18b900(0x61a)]),_0x40da80;}catch(_0x14d6b0){let _0x43deaa='Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20'+_0x27c707,_0x143727=_0x14d6b0 instanceof Error?_0x14d6b0[_0x18b900(0x61f)]:typeof _0x14d6b0==_0x18b900(0x2c3)?JSON[_0x18b900(0x5b9)](_0x14d6b0):_0x14d6b0,_0x15acdc=_0x43deaa+':\x20'+_0x143727;throw this[_0x18b900(0x7b7)][_0x18b900(0x4e6)](this[_0x18b900(0x147)]+'\x20('+this[_0x18b900(0x68c)][_0x18b900(0x61a)]+_0x18b900(0x4e1)+_0x15acdc),new m(_0x15acdc);}}get[a0_0x1ec3bd(0x3ab)](){const _0x37d610=a0_0x1ec3bd;return this[_0x37d610(0x1c3)];}async['textMessage'](_0xedad37){const _0x11bbc2=a0_0x1ec3bd;return await this[_0x11bbc2(0x309)](_0xedad37['number'],{'conversation':_0xedad37[_0x11bbc2(0x3d6)]['text']},_0xedad37?.['options']);}async[a0_0x1ec3bd(0x6f7)](_0x58bc9a){const _0x50453f=a0_0x1ec3bd;if(!_0x58bc9a[_0x50453f(0x73a)])throw new m(_0x50453f(0x436));if(!_0x58bc9a[_0x50453f(0x7a5)])throw new m(_0x50453f(0x22d));if(_0x58bc9a['allContacts']){let _0x5d273b=await this[_0x50453f(0xbe)][_0x50453f(0x4e4)]['find']({'where':{}},this['instance'][_0x50453f(0x61a)]);if(!_0x5d273b[_0x50453f(0x2a9)])throw new m(_0x50453f(0xd5));_0x58bc9a['statusJidList']=_0x5d273b[_0x50453f(0x433)](_0x10b8d8=>_0x10b8d8[_0x50453f(0x89)])[_0x50453f(0x6ef)](_0x55b7ac=>_0x55b7ac[_0x50453f(0x16c)]);}if(!_0x58bc9a[_0x50453f(0x32a)]?.[_0x50453f(0x2a9)]&&!_0x58bc9a[_0x50453f(0x60b)])throw new m(_0x50453f(0x418));if(_0x58bc9a[_0x50453f(0x73a)]==='text'){if(!_0x58bc9a['backgroundColor'])throw new m(_0x50453f(0x3fd));if(!_0x58bc9a[_0x50453f(0x5d7)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x58bc9a['content']},'option':{'backgroundColor':_0x58bc9a[_0x50453f(0xbf)],'font':_0x58bc9a[_0x50453f(0x5d7)],'statusJidList':_0x58bc9a[_0x50453f(0x32a)]}};}if(_0x58bc9a[_0x50453f(0x73a)]===_0x50453f(0x2f5))return{'content':{'image':{'url':_0x58bc9a['content']},'caption':_0x58bc9a['caption']},'option':{'statusJidList':_0x58bc9a[_0x50453f(0x32a)]}};if(_0x58bc9a[_0x50453f(0x73a)]===_0x50453f(0x757))return{'content':{'video':{'url':_0x58bc9a[_0x50453f(0x7a5)]},'caption':_0x58bc9a[_0x50453f(0x45d)]},'option':{'statusJidList':_0x58bc9a[_0x50453f(0x32a)]}};if(_0x58bc9a[_0x50453f(0x73a)]===_0x50453f(0x6a2)){this[_0x50453f(0x7b7)][_0x50453f(0x7ac)](this[_0x50453f(0x147)]+'\x20('+this[_0x50453f(0x68c)][_0x50453f(0x61a)]+_0x50453f(0x443)),this['logger']['verbose'](this[_0x50453f(0x147)]+'\x20('+this['instance'][_0x50453f(0x61a)]+_0x50453f(0x156));let _0x41241a=await this[_0x50453f(0x45a)](_0x58bc9a[_0x50453f(0x7a5)]);if(typeof _0x41241a==_0x50453f(0x716)){this[_0x50453f(0x7b7)][_0x50453f(0x7ac)](this[_0x50453f(0x147)]+'\x20('+this[_0x50453f(0x68c)]['wuid']+_0x50453f(0x3dd));let _0x2d3796=P[_0x50453f(0x54a)](_0x41241a)['toString'](_0x50453f(0x59c));return{'content':{'audio':Buffer['from'](_0x2d3796,_0x50453f(0x59c)),'ptt':!0x0,'mimetype':_0x50453f(0x90)},'option':{'statusJidList':_0x58bc9a[_0x50453f(0x32a)]}};}else throw new O(_0x41241a);}throw new m(_0x50453f(0x5d2));}async[a0_0x1ec3bd(0x345)](_0x14d2e0){const _0x52ff58=a0_0x1ec3bd;return await this[_0x52ff58(0x309)]('status@broadcast',{'status':await this[_0x52ff58(0x6f7)](_0x14d2e0[_0x52ff58(0x345)])});}async[a0_0x1ec3bd(0x259)](_0x2e1d55){const _0x4ac081=a0_0x1ec3bd;try{let _0x2d706b=await(0x0,w[_0x4ac081(0x680)])({[_0x2e1d55[_0x4ac081(0x185)]]:(0x0,D['isURL'])(_0x2e1d55['media'])?{'url':_0x2e1d55[_0x4ac081(0x168)]}:Buffer[_0x4ac081(0x4e0)](_0x2e1d55[_0x4ac081(0x168)],_0x4ac081(0x59c))},{'upload':this['client']['waUploadToServer']}),_0x1bde22=_0x2e1d55[_0x4ac081(0x185)]+_0x4ac081(0x268);if(_0x2e1d55[_0x4ac081(0x185)]===_0x4ac081(0x9b)&&!_0x2e1d55[_0x4ac081(0x608)]){let _0xb77bcc=new RegExp(/.*\/(.+?)\./)[_0x4ac081(0x799)](_0x2e1d55[_0x4ac081(0x168)]);_0x2e1d55['fileName']=_0xb77bcc?_0xb77bcc[0x1]:null;}let _0xebdfec;return(0x0,D[_0x4ac081(0x1c4)])(_0x2e1d55[_0x4ac081(0x168)])?_0xebdfec=(await Q[_0x4ac081(0x442)][_0x4ac081(0x5d6)](_0x2e1d55[_0x4ac081(0x168)],{'responseType':_0x4ac081(0x56b)}))[_0x4ac081(0x64c)][_0x4ac081(0x44e)]:_0xebdfec=(0x0,Ti['getMIMEType'])(_0x2e1d55[_0x4ac081(0x608)]),_0x2d706b[_0x1bde22]['caption']=_0x2e1d55?.[_0x4ac081(0x45d)],_0x2d706b[_0x1bde22][_0x4ac081(0x606)]=_0xebdfec,_0x2d706b[_0x1bde22][_0x4ac081(0x608)]=_0x2e1d55[_0x4ac081(0x608)],_0x2e1d55[_0x4ac081(0x185)]===_0x4ac081(0x757)&&(_0x2d706b[_0x1bde22][_0x4ac081(0x21d)]=Uint8Array[_0x4ac081(0x4e0)]((0x0,De[_0x4ac081(0x54a)])((0x0,L[_0x4ac081(0x693)])(process[_0x4ac081(0x292)](),_0x4ac081(0x78a)))),_0x2d706b[_0x1bde22]['gifPlayback']=!0x1),(0x0,w[_0x4ac081(0xb5)])('',{[_0x1bde22]:{..._0x2d706b[_0x1bde22]}},{'userJid':this[_0x4ac081(0x68c)][_0x4ac081(0x61a)]});}catch(_0x15654e){let _0x2330de=_0x4ac081(0x771),_0x5174b4=_0x15654e instanceof Error?_0x15654e['message']:typeof _0x15654e==_0x4ac081(0x2c3)?JSON['stringify'](_0x15654e):_0x15654e,_0x392ae4=_0x2330de+':\x20'+_0x5174b4;throw this[_0x4ac081(0x7b7)][_0x4ac081(0x4e6)](this['instanceName']+'\x20('+this[_0x4ac081(0x68c)][_0x4ac081(0x61a)]+_0x4ac081(0x4e1)+_0x392ae4),new O(_0x392ae4);}}async[a0_0x1ec3bd(0x123)](_0x586240){const _0x30837f=a0_0x1ec3bd;let _0x3a28ef=await this[_0x30837f(0x259)](_0x586240[_0x30837f(0x123)]);return await this[_0x30837f(0x309)](_0x586240['number'],{..._0x3a28ef[_0x30837f(0x61f)]},_0x586240?.['options']);}async[a0_0x1ec3bd(0xa0)](_0x2bfa0d,_0x5deab6){const _0x1a52ca=a0_0x1ec3bd;try{this['logger']['verbose'](this[_0x1a52ca(0x147)]+'\x20('+this['instance'][_0x1a52ca(0x61a)]+_0x1a52ca(0x1b0));let _0x5e9f0e,_0x596d61=_0x5deab6+'-'+new Date()[_0x1a52ca(0x47c)]();this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)]['wuid']+'):Hash\x20to\x20image\x20name:\x20'+_0x596d61);let _0x6673d6=''+(0x0,L[_0x1a52ca(0x693)])(this[_0x1a52ca(0x661)],_0x596d61+_0x1a52ca(0x737));if(this['logger'][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)]['wuid']+_0x1a52ca(0x68d)+_0x6673d6),(0x0,D[_0x1a52ca(0x1b4)])(_0x2bfa0d)){this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)][_0x1a52ca(0x61a)]+'):Image\x20is\x20base64');let _0x5b989a=_0x2bfa0d[_0x1a52ca(0x2b2)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3cab0e=Buffer['from'](_0x5b989a,_0x1a52ca(0x59c));_0x5e9f0e=''+(0x0,L['join'])(this[_0x1a52ca(0x661)],_0x1a52ca(0x2c8)+_0x596d61+_0x1a52ca(0x5c1)),this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)][_0x1a52ca(0x61a)]+_0x1a52ca(0x5ad)+_0x5e9f0e),await(0x0,Lt[_0x1a52ca(0x442)])(_0x3cab0e)[_0x1a52ca(0x6aa)](_0x5e9f0e),this['logger'][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)][_0x1a52ca(0x61a)]+_0x1a52ca(0x68f));}else{this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)]['wuid']+_0x1a52ca(0x375));let _0x3b0e23=new Date()[_0x1a52ca(0x47c)](),_0x313d65=_0x2bfa0d+_0x1a52ca(0x43b)+_0x3b0e23;this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this['instanceName']+'\x20('+this[_0x1a52ca(0x68c)][_0x1a52ca(0x61a)]+_0x1a52ca(0x264)+_0x313d65);let _0x299210=await Q[_0x1a52ca(0x442)]['get'](_0x313d65,{'responseType':_0x1a52ca(0x56b)});this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)][_0x1a52ca(0x61a)]+_0x1a52ca(0x18d));let _0x5b6dda=Buffer['from'](_0x299210['data'],_0x1a52ca(0x567));_0x5e9f0e=''+(0x0,L[_0x1a52ca(0x693)])(this['storePath'],_0x1a52ca(0x2c8)+_0x596d61+_0x1a52ca(0x5c1)),this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this['instance'][_0x1a52ca(0x61a)]+_0x1a52ca(0x5ad)+_0x5e9f0e),await(0x0,Lt[_0x1a52ca(0x442)])(_0x5b6dda)[_0x1a52ca(0x6aa)](_0x5e9f0e),this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0x1a52ca(0x61a)]+'):Image\x20created');}return await(0x0,Lt[_0x1a52ca(0x442)])(_0x5e9f0e)[_0x1a52ca(0x636)]()['toFile'](_0x6673d6),this[_0x1a52ca(0x7b7)][_0x1a52ca(0x7ac)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)]['wuid']+_0x1a52ca(0x3bf)),P[_0x1a52ca(0x7c1)](_0x5e9f0e),this['logger']['verbose'](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)][_0x1a52ca(0x61a)]+'):Temp\x20image\x20deleted'),_0x6673d6;}catch(_0xec21b8){let _0x20203d='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x415234=_0xec21b8 instanceof Error?_0xec21b8[_0x1a52ca(0x61f)]:typeof _0xec21b8==_0x1a52ca(0x2c3)?JSON['stringify'](_0xec21b8):_0xec21b8,_0x3618ff=_0x20203d+':\x20'+_0x415234;this['logger'][_0x1a52ca(0x4e6)](this[_0x1a52ca(0x147)]+'\x20('+this[_0x1a52ca(0x68c)][_0x1a52ca(0x61a)]+_0x1a52ca(0x4e1)+_0x3618ff);}}async[a0_0x1ec3bd(0x2db)](_0x49e505){const _0x317b77=a0_0x1ec3bd;let _0x33fdef=await this[_0x317b77(0xa0)](_0x49e505[_0x317b77(0x579)]['image'],_0x49e505['number']),_0x523e79=await this[_0x317b77(0x309)](_0x49e505[_0x317b77(0x192)],{'sticker':{'url':_0x33fdef}},_0x49e505?.[_0x317b77(0x57b)]);return P[_0x317b77(0x7c1)](_0x33fdef),this[_0x317b77(0x7b7)][_0x317b77(0x7ac)](this[_0x317b77(0x147)]+'\x20('+this[_0x317b77(0x68c)][_0x317b77(0x61a)]+_0x317b77(0x383)),_0x523e79;}async[a0_0x1ec3bd(0x5d9)](_0x53110a){const _0x36fd14=a0_0x1ec3bd;if(this[_0x36fd14(0x7b7)][_0x36fd14(0x7ac)](this[_0x36fd14(0x147)]+'\x20('+this[_0x36fd14(0x68c)][_0x36fd14(0x61a)]+_0x36fd14(0x1b1)),!_0x53110a[_0x36fd14(0x57b)]?.['encoding']&&_0x53110a[_0x36fd14(0x57b)]?.['encoding']!==!0x1&&(_0x53110a[_0x36fd14(0x57b)][_0x36fd14(0x785)]=!0x0),_0x53110a[_0x36fd14(0x57b)]?.[_0x36fd14(0x785)]){let _0x4df2e5=await this['convertaudio'](_0x53110a[_0x36fd14(0xb1)][_0x36fd14(0x6a2)]);if(typeof _0x4df2e5==_0x36fd14(0x716)){let _0x5509f4=P[_0x36fd14(0x54a)](_0x4df2e5)['toString']('base64');return this[_0x36fd14(0x309)](_0x53110a[_0x36fd14(0x192)],{'audio':Buffer['from'](_0x5509f4,_0x36fd14(0x59c)),'ptt':!0x0,'mimetype':_0x36fd14(0x562)},{'presence':_0x36fd14(0x357),'delay':_0x53110a?.[_0x36fd14(0x57b)]?.[_0x36fd14(0x5fa)]});}else throw new O(_0x4df2e5);}return await this[_0x36fd14(0x309)](_0x53110a['number'],{'audio':(0x0,D[_0x36fd14(0x1c4)])(_0x53110a[_0x36fd14(0xb1)][_0x36fd14(0x6a2)])?{'url':_0x53110a['audioMessage']['audio']}:Buffer[_0x36fd14(0x4e0)](_0x53110a['audioMessage'][_0x36fd14(0x6a2)],_0x36fd14(0x59c)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x36fd14(0x357),'delay':_0x53110a?.[_0x36fd14(0x57b)]?.[_0x36fd14(0x5fa)]});}async[a0_0x1ec3bd(0x45a)](_0x17e7a5){const _0x19688a=a0_0x1ec3bd;this['logger'][_0x19688a(0x7ac)](this[_0x19688a(0x147)]+'\x20('+this[_0x19688a(0x68c)][_0x19688a(0x61a)]+'):Processing\x20audio');let _0x1f9814=(0x0,D[_0x19688a(0x1c4)])(_0x17e7a5)?(0x0,Ft[_0x19688a(0x124)])(_0x19688a(0xff))['update'](_0x17e7a5)[_0x19688a(0x753)]('hex'):(0x0,Ft['createHash'])(_0x19688a(0xff))['update'](_0x17e7a5)[_0x19688a(0x753)](_0x19688a(0x4bf)),_0x3f8468=''+(0x0,L[_0x19688a(0x693)])(this[_0x19688a(0x661)],_0x1f9814+_0x19688a(0x588));if(P[_0x19688a(0xfe)](_0x3f8468))return this[_0x19688a(0x7b7)][_0x19688a(0x7ac)](this['instanceName']+'\x20('+this[_0x19688a(0x68c)]['wuid']+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x3f8468;let _0x9d0ba3=''+(0x0,L[_0x19688a(0x693)])(this['storePath'],_0x19688a(0x2c8)+(0x0,Y['v4'])()+_0x19688a(0x2be));if((0x0,D[_0x19688a(0x1c4)])(_0x17e7a5)){let _0x21772e=new Date()['getTime'](),_0xb8a5cb=_0x17e7a5+_0x19688a(0x43b)+_0x21772e,_0x996480=await Q[_0x19688a(0x442)][_0x19688a(0x5d6)](_0xb8a5cb,{'responseType':_0x19688a(0x56b)});P['writeFileSync'](_0x9d0ba3,_0x996480[_0x19688a(0x586)]);}else{let _0x310e81=Buffer[_0x19688a(0x4e0)](_0x17e7a5,'base64');P[_0x19688a(0x5da)](_0x9d0ba3,_0x310e81);}return new Promise((_0x2aa129,_0x1dd256)=>{const _0x44a3f5=_0x19688a;(0x0,Pe['exec'])(Ts[_0x44a3f5(0x442)][_0x44a3f5(0x46e)]+_0x44a3f5(0x303)+_0x9d0ba3+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x3f8468+_0x44a3f5(0x4b6),_0x30f921=>{const _0x5e907a=_0x44a3f5;if(P[_0x5e907a(0x7c1)](_0x9d0ba3),_0x30f921){this[_0x5e907a(0x7b7)][_0x5e907a(0x7ac)](this[_0x5e907a(0x147)]+'\x20('+this[_0x5e907a(0x68c)]['wuid']+_0x5e907a(0x5c4)),_0x1dd256(_0x30f921);return;}this[_0x5e907a(0x7b7)][_0x5e907a(0x7ac)](this[_0x5e907a(0x147)]+'\x20('+this[_0x5e907a(0x68c)]['wuid']+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x2aa129(_0x3f8468);});});}async[a0_0x1ec3bd(0xb0)](_0x2be340){const _0x52427d=a0_0x1ec3bd;this[_0x52427d(0x7b7)][_0x52427d(0x7ac)](this[_0x52427d(0x147)]+'\x20('+this['instance'][_0x52427d(0x61a)]+'):Processing\x20audio');let _0x8c2fd0=(0x0,Ft[_0x52427d(0x124)])('sha256')['update'](_0x2be340)[_0x52427d(0x753)](_0x52427d(0x4bf)),_0x2163e4=''+(0x0,L[_0x52427d(0x693)])(this['storePath'],_0x8c2fd0+_0x52427d(0x2be));if(P['existsSync'](_0x2163e4))return this[_0x52427d(0x7b7)][_0x52427d(0x7ac)](this['instanceName']+'\x20('+this[_0x52427d(0x68c)][_0x52427d(0x61a)]+_0x52427d(0x23f)),L[_0x52427d(0x442)][_0x52427d(0x1a6)](_0x2163e4);let _0x5dfbc6=''+(0x0,L[_0x52427d(0x693)])(this['storePath'],'temp-'+_0x8c2fd0+_0x52427d(0x588));if((0x0,D['isURL'])(_0x2be340)){let _0x386347=new Date()['getTime'](),_0x57f69e=_0x2be340+_0x52427d(0x43b)+_0x386347,_0x528c9b=await Q['default'][_0x52427d(0x5d6)](_0x57f69e,{'responseType':_0x52427d(0x56b)});P[_0x52427d(0x5da)](_0x5dfbc6,_0x528c9b[_0x52427d(0x586)]);}else{let _0x29c1a1=Buffer[_0x52427d(0x4e0)](_0x2be340,_0x52427d(0x59c));P['writeFileSync'](_0x5dfbc6,_0x29c1a1);}return new Promise((_0x5bd254,_0x263531)=>{const _0x35d22f=_0x52427d;(0x0,Pe[_0x35d22f(0x799)])(Ts['default'][_0x35d22f(0x46e)]+'\x20-i\x20'+_0x5dfbc6+_0x35d22f(0x3f0)+_0x2163e4+_0x35d22f(0x4b6),_0x331663=>{const _0x343eb3=_0x35d22f;if(P['unlinkSync'](_0x5dfbc6),_0x331663){this[_0x343eb3(0x7b7)][_0x343eb3(0x7ac)](this[_0x343eb3(0x147)]+'\x20('+this[_0x343eb3(0x68c)][_0x343eb3(0x61a)]+_0x343eb3(0x5c4)),_0x263531(_0x331663);return;}this[_0x343eb3(0x7b7)][_0x343eb3(0x7ac)](this[_0x343eb3(0x147)]+'\x20('+this[_0x343eb3(0x68c)]['wuid']+_0x343eb3(0x422)),_0x5bd254(L[_0x343eb3(0x442)][_0x343eb3(0x1a6)](_0x2163e4));});});}async[a0_0x1ec3bd(0x2ae)](_0x1541e9){const _0x20ef80=a0_0x1ec3bd;let _0x392ed2={},_0x2eb086=_0x20ef80(0x783);if(_0x1541e9[_0x20ef80(0x2ae)]?.['mediaMessage']){_0x2eb086=_0x1541e9[_0x20ef80(0x2ae)]['mediaMessage']?.['mediatype'][_0x20ef80(0x773)]()??_0x20ef80(0x783),_0x392ed2[_0x20ef80(0x248)]=_0x2eb086['toLowerCase']()+_0x20ef80(0x268);let _0x8efef9=await this['prepareMediaMessage'](_0x1541e9[_0x20ef80(0x2ae)][_0x20ef80(0x123)]);_0x392ed2['message']=_0x8efef9[_0x20ef80(0x61f)][_0x392ed2[_0x20ef80(0x248)]],_0x392ed2[_0x20ef80(0x62c)]='*'+_0x1541e9[_0x20ef80(0x2ae)][_0x20ef80(0x3e8)]+_0x20ef80(0x79d)+_0x1541e9['buttonMessage']['description'];}let _0x3516ab={'text':_0x1541e9[_0x20ef80(0x2ae)][_0x20ef80(0x7bb)][_0x20ef80(0x6ef)](_0x82b0a1=>_0x82b0a1[_0x20ef80(0x10e)]),'ids':_0x1541e9['buttonMessage'][_0x20ef80(0x7bb)][_0x20ef80(0x6ef)](_0x2b70d9=>_0x2b70d9['buttonId'])};if(!(0x0,D['arrayUnique'])(_0x3516ab[_0x20ef80(0x77d)])||!(0x0,D[_0x20ef80(0xf3)])(_0x3516ab['ids']))throw new m(_0x20ef80(0x3a7),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x20ef80(0x309)](_0x1541e9[_0x20ef80(0x192)],{'buttonsMessage':{'text':_0x392ed2?.['mediaKey']?void 0x0:_0x1541e9[_0x20ef80(0x2ae)][_0x20ef80(0x3e8)],'contentText':_0x392ed2?.['contentText']??_0x1541e9[_0x20ef80(0x2ae)][_0x20ef80(0x3fb)],'footerText':_0x1541e9[_0x20ef80(0x2ae)]?.[_0x20ef80(0x545)],'buttons':_0x1541e9[_0x20ef80(0x2ae)][_0x20ef80(0x7bb)][_0x20ef80(0x6ef)](_0x438a2a=>({'buttonText':{'displayText':_0x438a2a[_0x20ef80(0x10e)]},'buttonId':_0x438a2a[_0x20ef80(0x1a4)],'type':0x1})),'headerType':w[_0x20ef80(0x46a)][_0x20ef80(0x268)][_0x20ef80(0x25f)][_0x20ef80(0x3eb)][_0x2eb086],[_0x392ed2?.[_0x20ef80(0x248)]]:_0x392ed2?.[_0x20ef80(0x61f)]}},_0x1541e9?.['options']);}async[a0_0x1ec3bd(0x252)](_0x284b88){const _0x5af0e3=a0_0x1ec3bd;return await this[_0x5af0e3(0x309)](_0x284b88[_0x5af0e3(0x192)],{'locationMessage':{'degreesLatitude':_0x284b88[_0x5af0e3(0x252)]['latitude'],'degreesLongitude':_0x284b88[_0x5af0e3(0x252)][_0x5af0e3(0x65c)],'name':_0x284b88[_0x5af0e3(0x252)]?.['name'],'address':_0x284b88[_0x5af0e3(0x252)]?.[_0x5af0e3(0x94)]}},_0x284b88?.[_0x5af0e3(0x57b)]);}async[a0_0x1ec3bd(0x61e)](_0x1ba5f1){const _0x2bfd4e=a0_0x1ec3bd;let _0x38d9f7={},_0x26948d=async _0x9ce8d8=>{const _0x598224=a0_0x1c6d;let _0xddc1='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x9ce8d8[_0x598224(0x460)]+'\x0aFN:'+_0x9ce8d8['fullName']+'\x0a';_0x9ce8d8[_0x598224(0x623)]&&(_0xddc1+=_0x598224(0x573)+_0x9ce8d8['organization']+';\x0a'),_0x9ce8d8['email']&&(_0xddc1+='EMAIL:'+_0x9ce8d8[_0x598224(0x6cc)]+'\x0a'),_0x9ce8d8[_0x598224(0xe5)]&&(_0xddc1+=_0x598224(0x322)+_0x9ce8d8[_0x598224(0xe5)]+'\x0a');let _0x5ab17d='',_0x4b7d0d=0x1;if(_0x9ce8d8[_0x598224(0x7c4)]){let _0xa89d9a=_0x9ce8d8['phoneNumber']['split']('|');for(let _0x121d53 of _0xa89d9a){let _0xe9035c=await this[_0x598224(0x1be)]({'numbers':[_0x121d53]}),_0x2596f0=(_0xe9035c[_0x598224(0x2a9)]>0x0?_0xe9035c[0x0]['jid']:this[_0x598224(0xc1)](_0x121d53))[_0x598224(0x2b2)](_0x598224(0xaf),'');_0x5ab17d+=_0x598224(0x3f9)+_0x4b7d0d+'.TEL;waid='+_0x2596f0+':'+_0x121d53+_0x598224(0x3bc)+_0x4b7d0d+'.X-ABLabel:Celular\x0a',_0x4b7d0d++;}}return _0xddc1+=_0x5ab17d+'END:VCARD',_0xddc1;};return _0x1ba5f1[_0x2bfd4e(0x61e)]['length']===0x1?_0x38d9f7[_0x2bfd4e(0x61e)]={'displayName':_0x1ba5f1[_0x2bfd4e(0x61e)][0x0]['fullName'],'vcard':await _0x26948d(_0x1ba5f1[_0x2bfd4e(0x61e)][0x0])}:_0x38d9f7[_0x2bfd4e(0x7a3)]={'displayName':_0x1ba5f1[_0x2bfd4e(0x61e)][_0x2bfd4e(0x2a9)]+_0x2bfd4e(0x687),'contacts':await Promise[_0x2bfd4e(0x42f)](_0x1ba5f1[_0x2bfd4e(0x61e)][_0x2bfd4e(0x6ef)](async _0x30d2eb=>({'displayName':_0x30d2eb[_0x2bfd4e(0x460)],'vcard':await _0x26948d(_0x30d2eb)})))},await this[_0x2bfd4e(0x309)](_0x1ba5f1[_0x2bfd4e(0x192)],{..._0x38d9f7},_0x1ba5f1?.[_0x2bfd4e(0x57b)]);}async[a0_0x1ec3bd(0x4c3)](_0xf715f7){const _0x12dc54=a0_0x1ec3bd;return await this['sendMessageWithTyping'](_0xf715f7[_0x12dc54(0x4c3)][_0x12dc54(0x4dd)][_0x12dc54(0x47e)],{'reactionMessage':{'key':_0xf715f7[_0x12dc54(0x4c3)][_0x12dc54(0x4dd)],'text':_0xf715f7['reactionMessage'][_0x12dc54(0x1ac)]}});}async[a0_0x1ec3bd(0x1be)](_0x4a4a5c){const _0x10fa6d=a0_0x1ec3bd;let _0x13e829=[];for await(let _0x5dbd00 of _0x4a4a5c[_0x10fa6d(0x639)]){let _0x348cc4=this[_0x10fa6d(0xc1)](_0x5dbd00),_0x4aa76f=!0x1;try{if((0x0,w[_0x10fa6d(0x44c)])(_0x348cc4)){let _0x5818be=(await this[_0x10fa6d(0xbe)]['chat'][_0x10fa6d(0x2f1)]({'where':{'_id':_0x348cc4}},this['instance']['wuid']))[_0x10fa6d(0x25b)];_0x5818be?(_0x4aa76f=!0x0,_0x13e829['push'](new ce(_0x5818be['id'],_0x4aa76f,_0x5818be?.[_0x10fa6d(0x36c)]))):(_0x5818be=await this[_0x10fa6d(0x7a4)]({'groupJid':_0x348cc4},_0x10fa6d(0x81)),_0x13e829[_0x10fa6d(0x3f7)](new ce(_0x5818be['id'],!!_0x5818be?.['id'],_0x5818be?.['subject'])));}else{if(_0x348cc4[_0x10fa6d(0x39c)]('@broadcast'))_0x13e829[_0x10fa6d(0x3f7)](new ce(_0x348cc4,!0x0));else{let _0x510164=(await this['client']['onWhatsApp'](_0x348cc4))[0x0];_0x13e829[_0x10fa6d(0x3f7)](new ce(_0x510164[_0x10fa6d(0x4df)],_0x510164[_0x10fa6d(0x320)]));}}}catch{(0x0,w[_0x10fa6d(0x44c)])(_0x348cc4)||await this[_0x10fa6d(0x1d4)](_0x348cc4),_0x13e829['push'](new ce(_0x5dbd00,!0x1));}}return _0x13e829;}async[a0_0x1ec3bd(0x1d4)](_0x5551c4){const _0x2661fb=a0_0x1ec3bd;try{await this[_0x2661fb(0xbe)][_0x2661fb(0x7bf)][_0x2661fb(0x2f1)]({'where':{'_id':_0x5551c4,'imported':!0x0}},this[_0x2661fb(0x68c)][_0x2661fb(0x61a)])&&(await this[_0x2661fb(0xbe)][_0x2661fb(0x7bf)][_0x2661fb(0xa5)](_0x5551c4,this[_0x2661fb(0x68c)][_0x2661fb(0x61a)]),this[_0x2661fb(0x7b7)][_0x2661fb(0x6eb)](_0x2661fb(0x7cc)+_0x5551c4+_0x2661fb(0x20b)));}catch(_0x5a2ab0){let _0x4964aa=_0x2661fb(0xc4),_0x3ef3e4=_0x5a2ab0 instanceof Error?_0x5a2ab0['message']:typeof _0x5a2ab0=='object'?JSON[_0x2661fb(0x5b9)](_0x5a2ab0):_0x5a2ab0,_0x2e5b68=_0x4964aa+':\x20'+_0x3ef3e4;this[_0x2661fb(0x7b7)][_0x2661fb(0x4e6)](this[_0x2661fb(0x147)]+'\x20('+this[_0x2661fb(0x68c)][_0x2661fb(0x61a)]+_0x2661fb(0x4e1)+_0x2e5b68);}}async[a0_0x1ec3bd(0x15c)](_0x110470){const _0x46df19=a0_0x1ec3bd;try{let _0x544ad0=_0x110470['readMessages'][_0x46df19(0x433)](_0x5cf62b=>(0x0,w[_0x46df19(0x44c)])(_0x5cf62b[_0x46df19(0x47e)])||(0x0,w[_0x46df19(0x6db)])(_0x5cf62b[_0x46df19(0x47e)]))['map'](_0x34245b=>({'remoteJid':_0x34245b[_0x46df19(0x47e)],'fromMe':_0x34245b[_0x46df19(0x3e2)],'id':_0x34245b['id']}));await this[_0x46df19(0x392)][_0x46df19(0x66f)](_0x544ad0);let _0xd43380=_0x544ad0['map'](_0x1197a5=>this[_0x46df19(0x27c)](_0x1197a5,{'status':_0x46df19(0x279),'owner':this[_0x46df19(0x68c)][_0x46df19(0x61a)]})),_0x3e12ad=_0x544ad0[_0x46df19(0x6ef)](_0x314d16=>this[_0x46df19(0xbe)][_0x46df19(0x7bf)][_0x46df19(0x2f9)]({'where':{'_id':_0x314d16['remoteJid']}},{'unreadcount':0x0},this[_0x46df19(0x68c)][_0x46df19(0x61a)])),[_0x55c718,_0x12404b]=await Promise[_0x46df19(0x42f)]([Promise['all'](_0xd43380),Promise[_0x46df19(0x42f)](_0x3e12ad)]);return _0x12404b[_0x46df19(0x433)](_0x114f4a=>_0x114f4a!==null)['forEach'](_0x4fda6c=>{const _0x428548=_0x46df19;U(this[_0x428548(0x147)],_0x428548(0xcf),{'chat':_0x4fda6c});}),{'message':_0x46df19(0x8c),'read':_0x46df19(0x4d8)};}catch(_0x4ca903){let _0x323070=_0x46df19(0x2d7),_0x13f73e=_0x4ca903 instanceof Error?_0x4ca903[_0x46df19(0x61f)]:typeof _0x4ca903==_0x46df19(0x2c3)?JSON[_0x46df19(0x5b9)](_0x4ca903):_0x4ca903,_0x427b1b=_0x323070+':\x20'+_0x13f73e;throw this['logger'][_0x46df19(0x4e6)](this[_0x46df19(0x147)]+'\x20('+this['instance']['wuid']+_0x46df19(0x4e1)+_0x427b1b),new O(_0x427b1b);}}async['getLastMessage'](_0x12e041){const _0x1d0f42=a0_0x1ec3bd;let _0x463e90={'where':{'key':{'remoteJid':_0x12e041}},'limit':0x1},_0x1ed3d5=await this[_0x1d0f42(0x612)](_0x463e90);return _0x1ed3d5||(this['logger'][_0x1d0f42(0x4e6)](_0x1d0f42(0x281)+_0x12e041),null);}async['archiveChat'](_0xca7a6b){const _0x147672=a0_0x1ec3bd;this[_0x147672(0x7b7)]['verbose'](this[_0x147672(0x147)]+'\x20('+this[_0x147672(0x68c)]['wuid']+_0x147672(0x535));try{let _0x453592=_0xca7a6b[_0x147672(0x221)],_0x5449c6=_0xca7a6b[_0x147672(0x7bf)];if(!_0x453592&&_0x5449c6?_0x453592=await this[_0x147672(0x36a)](_0x5449c6):(_0x453592=_0xca7a6b[_0x147672(0x221)],_0x453592[_0x147672(0x570)]=_0x453592?.[_0x147672(0x570)]??Date[_0x147672(0x450)](),_0x5449c6=_0x453592?.[_0x147672(0x4dd)]?.[_0x147672(0x47e)]),!_0x453592||Object[_0x147672(0x196)](_0x453592)[_0x147672(0x2a9)]===0x0)throw new F('Last\x20message\x20not\x20found');this['logger'][_0x147672(0x7ac)](this['instanceName']+'\x20('+this[_0x147672(0x68c)][_0x147672(0x61a)]+_0x147672(0x295)+_0x5449c6);try{await this[_0x147672(0x392)]['chatModify']({'archive':_0xca7a6b[_0x147672(0x273)],'lastMessages':[_0x453592]},this[_0x147672(0xc1)](_0x5449c6));}catch(_0xc81de7){let _0x800554='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x5449c6,_0x2ceeb5=_0xc81de7 instanceof Error?_0xc81de7[_0x147672(0x61f)]:typeof _0xc81de7==_0x147672(0x2c3)?JSON['stringify'](_0xc81de7):_0xc81de7,_0x1cdbb5=_0x800554+':\x20'+_0x2ceeb5;this[_0x147672(0x7b7)]['error'](this[_0x147672(0x147)]+'\x20('+this[_0x147672(0x68c)]['wuid']+_0x147672(0x4e1)+_0x1cdbb5);}this[_0x147672(0x7b7)][_0x147672(0x7ac)](this[_0x147672(0x147)]+'\x20('+this[_0x147672(0x68c)][_0x147672(0x61a)]+_0x147672(0x254)+_0x5449c6);let _0x106b49=await this[_0x147672(0xbe)]['chat']['updateOne']({'where':{'_id':_0x453592?.['key']?.['remoteJid']}},{'archived':_0xca7a6b[_0x147672(0x273)]},this[_0x147672(0x68c)][_0x147672(0x61a)]);return _0x106b49?(this[_0x147672(0x7b7)][_0x147672(0x7ac)](this['instanceName']+'\x20('+this[_0x147672(0x68c)]['wuid']+_0x147672(0x666)+JSON['stringify'](_0x106b49)),U(this[_0x147672(0x147)],'chats',{'chat':_0x106b49})):this[_0x147672(0x7b7)][_0x147672(0x4e6)](this[_0x147672(0x147)]+'\x20('+this['instance']['wuid']+_0x147672(0x1cd)+_0x5449c6),{'chatId':_0x5449c6,'archived':_0xca7a6b[_0x147672(0x273)]};}catch(_0x5934d6){let _0x19e68f='Erro\x20ao\x20arquivar\x20chat',_0x5b86a6=_0x5934d6 instanceof Error?_0x5934d6[_0x147672(0x61f)]:typeof _0x5934d6==_0x147672(0x2c3)?JSON[_0x147672(0x5b9)](_0x5934d6):_0x5934d6,_0x536a97=_0x19e68f+':\x20'+_0x5b86a6;throw this[_0x147672(0x7b7)][_0x147672(0x4e6)](this[_0x147672(0x147)]+'\x20('+this['instance'][_0x147672(0x61a)]+'):\x20'+_0x536a97),new O(_0x536a97);}}async[a0_0x1ec3bd(0xa5)](_0x3b6621){const _0x325dfd=a0_0x1ec3bd;this[_0x325dfd(0x7b7)][_0x325dfd(0x7ac)](this['instanceName']+'\x20('+this[_0x325dfd(0x68c)][_0x325dfd(0x61a)]+_0x325dfd(0x57d));try{let _0x4c3a99=await this[_0x325dfd(0x36a)](_0x3b6621);if(!_0x4c3a99||Object[_0x325dfd(0x196)](_0x4c3a99)[_0x325dfd(0x2a9)]===0x0)throw new F('Last\x20message\x20not\x20found');let _0x3401ba=_0x4c3a99[0x0];this[_0x325dfd(0x7b7)]['verbose'](this[_0x325dfd(0x147)]+'\x20('+this[_0x325dfd(0x68c)][_0x325dfd(0x61a)]+_0x325dfd(0x31c)+_0x3b6621);try{await this[_0x325dfd(0x392)][_0x325dfd(0x4c4)]({'delete':!0x0,'lastMessages':[{'key':_0x3401ba['key'],'messageTimestamp':_0x3401ba[_0x325dfd(0x570)]}]},this[_0x325dfd(0xc1)](_0x3b6621));}catch(_0x19496c){this[_0x325dfd(0x7b7)][_0x325dfd(0x4e6)](_0x325dfd(0x6bb)+_0x3b6621+':\x20'+_0x19496c[_0x325dfd(0x51d)]());}this[_0x325dfd(0x7b7)][_0x325dfd(0x7ac)](this[_0x325dfd(0x147)]+'\x20('+this[_0x325dfd(0x68c)][_0x325dfd(0x61a)]+_0x325dfd(0x254)+_0x3b6621);return;}catch(_0x2b4f84){throw this[_0x325dfd(0x7b7)][_0x325dfd(0x4e6)](this[_0x325dfd(0x147)]+'\x20('+this[_0x325dfd(0x68c)][_0x325dfd(0x61a)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x2b4f84['toString']()),new O({'archived':!0x1,'message':[_0x325dfd(0x39e),_0x2b4f84[_0x325dfd(0x51d)]()]});}}async[a0_0x1ec3bd(0x104)](_0x5c1c47){const _0x32e8bd=a0_0x1ec3bd;try{let _0x3c56a7=await this[_0x32e8bd(0x392)][_0x32e8bd(0x455)](_0x5c1c47['remoteJid'],{'delete':_0x5c1c47});try{let _0x58e4e8=await this['updateMessage'](_0x5c1c47,{'status':_0x32e8bd(0x130),'owner':this[_0x32e8bd(0x68c)][_0x32e8bd(0x61a)]});this[_0x32e8bd(0x7b7)][_0x32e8bd(0x7ac)](this[_0x32e8bd(0x147)]+'\x20('+this[_0x32e8bd(0x68c)]['wuid']+_0x32e8bd(0x4cc)+_0x58e4e8);}catch(_0x4fcb9b){this['logger'][_0x32e8bd(0x4e6)](_0x32e8bd(0x546)+_0x4fcb9b);}return _0x3c56a7;}catch(_0x106407){throw new O(_0x32e8bd(0x7af),_0x106407?.[_0x32e8bd(0x51d)]());}}async['getBase64FromMediaMessage'](_0x280257){const _0x577341=a0_0x1ec3bd;try{let _0x3c27f5=_0x280257?.[_0x577341(0x61f)]?_0x280257:await this['getMessage'](_0x280257[_0x577341(0x4dd)],!0x0);for(let _0x330c24 of Ca)_0x3c27f5[_0x577341(0x61f)][_0x330c24]&&(_0x3c27f5[_0x577341(0x61f)]=_0x3c27f5[_0x577341(0x61f)][_0x330c24][_0x577341(0x61f)]);let _0x49f65b,_0x3f4063;for(let _0x2488c of Ma)if(_0x49f65b=_0x3c27f5['message'][_0x2488c],_0x49f65b){_0x3f4063=_0x2488c;break;}if(!_0x49f65b)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x49f65b[_0x577341(0x248)]==_0x577341(0x2c3)&&(_0x3c27f5[_0x577341(0x61f)]=JSON[_0x577341(0x30d)](JSON[_0x577341(0x5b9)](_0x3c27f5['message'])));let _0x6d79ea=await(0x0,w[_0x577341(0x41f)])({'key':_0x3c27f5?.[_0x577341(0x4dd)],'message':_0x3c27f5?.['message']},_0x577341(0x9d),{},{'logger':(0x0,kt['default'])({'level':_0x577341(0x4af)}),'reuploadRequest':this['client'][_0x577341(0x6bd)]});if(!(_0x6d79ea instanceof Buffer))throw new Error(_0x577341(0x6b2));let _0x18fd35=this[_0x577341(0x6f0)][_0x577341(0x5d6)]('DATABASE'),_0x4fd04c,_0x37fa9e;if(_0x49f65b[_0x577341(0x608)])_0x4fd04c=_0x49f65b[_0x577341(0x608)];else{let _0x263601=_0x49f65b['mimetype']?.[_0x577341(0x5bc)](/\/(\w+)/),_0xc5940b=_0x263601?_0x263601[0x1]:null;if(!_0xc5940b)throw new Error(_0x577341(0x2d8));_0x4fd04c=(0x0,Y['v4'])()+'.'+_0xc5940b;}_0x3f4063===_0x577341(0xb1)?_0x37fa9e='/media/'+await this[_0x577341(0xb0)](_0x6d79ea[_0x577341(0x51d)](_0x577341(0x59c))):(await this[_0x577341(0x276)](_0x6d79ea,_0x4fd04c),_0x37fa9e=_0x577341(0x9a)+_0x4fd04c);let _0x29b2c0=this[_0x577341(0x6f0)][_0x577341(0x5d6)](_0x577341(0x752))[_0x577341(0x1d1)];if(!_0x29b2c0){let _0x5cfd0a=this[_0x577341(0x6f0)][_0x577341(0x5d6)](_0x577341(0x53c));_0x29b2c0=_0x577341(0x1ea)+(_0x5cfd0a&&_0x5cfd0a['FULLCHAIN'][_0x577341(0x4c0)]('/')[0x4]);}_0x37fa9e=''+_0x29b2c0+_0x37fa9e;let _0x1d9e62=0xc*0x3c*0x3c*0x3e8,_0x5566d7={'where':{'_id':_0x3c27f5[_0x577341(0x4dd)]['id']}},_0x4c42ee={'message_normalized.fileUrl':_0x37fa9e,'message_normalized.expires_fileUrl':Date[_0x577341(0x450)]()+_0x1d9e62};try{let _0x45e821=await this[_0x577341(0xbe)][_0x577341(0x61f)][_0x577341(0x77c)](_0x5566d7,_0x4c42ee,this[_0x577341(0x68c)][_0x577341(0x61a)]);_0x45e821&&U(this[_0x577341(0x147)],_0x577341(0x629),{'message':_0x45e821});}catch(_0x3ffd8b){let _0x3ab8f7=_0x577341(0x9e),_0x39bd2e=_0x3ffd8b instanceof Error?_0x3ffd8b['message']:typeof _0x3ffd8b==_0x577341(0x2c3)?JSON[_0x577341(0x5b9)](_0x3ffd8b):_0x3ffd8b,_0x1044a2=_0x3ab8f7+':\x20'+_0x39bd2e;this['logger'][_0x577341(0x4e6)](this[_0x577341(0x147)]+'\x20('+this[_0x577341(0x68c)][_0x577341(0x61a)]+'):\x20'+_0x1044a2);}return{'mediaType':_0x3f4063,'fileName':_0x49f65b[_0x577341(0x608)],'caption':_0x49f65b[_0x577341(0x45d)],'size':{'fileLength':_0x49f65b[_0x577341(0x351)],'height':_0x49f65b[_0x577341(0x3dc)],'width':_0x49f65b[_0x577341(0x12b)]},'mimetype':_0x49f65b[_0x577341(0x606)],'base64':_0x6d79ea['toString'](_0x577341(0x59c)),'fileUrl':_0x37fa9e,'expires_fileUrl':Date['now']()+_0x1d9e62};}catch(_0xbe0cd4){let _0x46a00d=_0x577341(0x75d),_0x140e52=_0xbe0cd4 instanceof Error?_0xbe0cd4[_0x577341(0x61f)]:typeof _0xbe0cd4==_0x577341(0x2c3)?JSON['stringify'](_0xbe0cd4):_0xbe0cd4,_0x1f7bc=_0x46a00d+':\x20'+_0x140e52;throw this[_0x577341(0x7b7)][_0x577341(0x4e6)](this['instanceName']+'\x20('+this[_0x577341(0x68c)][_0x577341(0x61a)]+'):\x20'+_0x1f7bc),new m(_0x1f7bc);}}async[a0_0x1ec3bd(0x276)](_0x40714e,_0xf7f852){const _0x68e39d=a0_0x1ec3bd;let _0x280ba6=L['default'][_0x68e39d(0x693)](__dirname,_0x68e39d(0x23c));P[_0x68e39d(0xfe)](_0x280ba6)||P[_0x68e39d(0x553)](_0x280ba6,{'recursive':!0x0});let _0x23e928=L[_0x68e39d(0x442)][_0x68e39d(0x693)](_0x280ba6,_0xf7f852);return new Promise((_0x36fadc,_0x5acddf)=>{const _0x1d7a50=_0x68e39d;P[_0x1d7a50(0xac)](_0x23e928,_0x40714e,_0x4b2936=>{const _0xd0c756=_0x1d7a50;_0x4b2936?(this[_0xd0c756(0x7b7)]['error']('Error\x20writing\x20file:\x20'+(_0x4b2936 instanceof Error?_0x4b2936[_0xd0c756(0x61f)]:JSON['stringify'](_0x4b2936,null,0x2))),_0x5acddf(_0x4b2936)):(this[_0xd0c756(0x7b7)][_0xd0c756(0x1d9)]('File\x20written\x20to\x20path:\x20'+_0x23e928),_0x36fadc(_0x23e928));});});}async[a0_0x1ec3bd(0x2bc)](_0x32e869){const _0x1f6d52=a0_0x1ec3bd;return await this['repository'][_0x1f6d52(0x4e4)]['find'](_0x32e869,this[_0x1f6d52(0x68c)][_0x1f6d52(0x61a)]);}async['fetchLabels'](){const _0x810b56=a0_0x1ec3bd;return await this['repository']['label']['find']({'where':{}},this[_0x810b56(0x68c)]['wuid']);}async[a0_0x1ec3bd(0x612)](_0x372b91){const _0xa448dd=a0_0x1ec3bd;return await this['repository'][_0xa448dd(0x61f)][_0xa448dd(0x435)](_0x372b91,this[_0xa448dd(0x68c)][_0xa448dd(0x61a)]);}async[a0_0x1ec3bd(0x4a0)](){const _0x5aebd5=a0_0x1ec3bd;return this[_0x5aebd5(0xbe)][_0x5aebd5(0x7bf)]['removeUnusedChatFields'](this[_0x5aebd5(0x68c)][_0x5aebd5(0x61a)]),this[_0x5aebd5(0xbe)][_0x5aebd5(0x7bf)][_0x5aebd5(0x792)](this['instance'][_0x5aebd5(0x61a)]),this[_0x5aebd5(0xbe)][_0x5aebd5(0x7bf)]['updateMissingTags'](this['instance'][_0x5aebd5(0x61a)]),this[_0x5aebd5(0xbe)][_0x5aebd5(0x7bf)][_0x5aebd5(0x765)](this['instance']['wuid']),await this[_0x5aebd5(0xbe)][_0x5aebd5(0x7bf)][_0x5aebd5(0x435)]({'where':{}},this['instance'][_0x5aebd5(0x61a)]);}async[a0_0x1ec3bd(0x2e3)](_0x4886cc){const _0x3f97ee=a0_0x1ec3bd;try{if(!Array['isArray'](_0x4886cc)||_0x4886cc[_0x3f97ee(0x2a9)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x64082a=[],_0x18a46f=[];for(let _0x17d8e7 of _0x4886cc){if(_0x17d8e7[_0x3f97ee(0x16c)])_0x17d8e7[_0x3f97ee(0x16c)]=this[_0x3f97ee(0xc1)](_0x17d8e7[_0x3f97ee(0x16c)]);else continue;await this['repository'][_0x3f97ee(0x7bf)][_0x3f97ee(0x2f1)]({'where':{'_id':_0x17d8e7['_id']}},this[_0x3f97ee(0x68c)][_0x3f97ee(0x61a)])?_0x18a46f[_0x3f97ee(0x3f7)]({'_id':_0x17d8e7[_0x3f97ee(0x16c)],'leadInfo':_0x17d8e7[_0x3f97ee(0x72f)],'owner':this[_0x3f97ee(0x68c)]['wuid']}):_0x64082a[_0x3f97ee(0x3f7)]({'_id':_0x17d8e7[_0x3f97ee(0x16c)],'owner':this[_0x3f97ee(0x68c)][_0x3f97ee(0x61a)],'leadInfo':_0x17d8e7[_0x3f97ee(0x72f)],'imported':!0x0});}return _0x18a46f[_0x3f97ee(0x2a9)]>0x0&&await this['repository'][_0x3f97ee(0x7bf)]['updateMany'](_0x18a46f[_0x3f97ee(0x6ef)](_0x2b62f2=>({'query':{'where':{'_id':_0x2b62f2[_0x3f97ee(0x16c)],'owner':this[_0x3f97ee(0x68c)]['wuid']}},'update':_0x2b62f2}))),_0x64082a['length']>0x0&&await this[_0x3f97ee(0xbe)][_0x3f97ee(0x7bf)][_0x3f97ee(0x7b6)](_0x64082a,this[_0x3f97ee(0x68c)][_0x3f97ee(0x61a)]),{'updated':_0x18a46f[_0x3f97ee(0x2a9)],'inserted':_0x64082a[_0x3f97ee(0x2a9)]};}catch(_0x2e9e0f){let _0x155730=_0x3f97ee(0x288),_0x5a9ddb=_0x2e9e0f instanceof Error?_0x2e9e0f[_0x3f97ee(0x61f)]:typeof _0x2e9e0f==_0x3f97ee(0x2c3)?JSON[_0x3f97ee(0x5b9)](_0x2e9e0f):_0x2e9e0f,_0x77e177=_0x155730+':\x20'+_0x5a9ddb;throw this['logger'][_0x3f97ee(0x4e6)](this[_0x3f97ee(0x147)]+'\x20('+this[_0x3f97ee(0x68c)][_0x3f97ee(0x61a)]+_0x3f97ee(0x4e1)+_0x77e177),new m(_0x77e177);}}async['importChats'](_0x520815){const _0x47f66d=a0_0x1ec3bd;try{if(!Array[_0x47f66d(0x64a)](_0x520815)||_0x520815['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x315c12=0x64,_0x31b102=0x0;for(let _0x5e7262=0x0;_0x5e7262<_0x520815['length'];_0x5e7262+=_0x315c12){let _0x1a4348=_0x520815[_0x47f66d(0x58a)](_0x5e7262,_0x5e7262+_0x315c12),{updated:_0x7908b9}=await this['importChatsBatch'](_0x1a4348);_0x31b102+=_0x7908b9;}return{'updated':_0x31b102};}catch(_0x15987e){let _0xe79410='Erro\x20ao\x20importar\x20chats',_0x12cad9=_0x15987e instanceof Error?_0x15987e['message']:typeof _0x15987e==_0x47f66d(0x2c3)?JSON['stringify'](_0x15987e):_0x15987e,_0x440e33=_0xe79410+':\x20'+_0x12cad9;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x47f66d(0x68c)]['wuid']+'):\x20'+_0x440e33),new m(_0x440e33);}}async[a0_0x1ec3bd(0x289)](_0x21cdfd){const _0x23dd7d=a0_0x1ec3bd;try{let _0x4e23d1=await this[_0x23dd7d(0xbe)]['label'][_0x23dd7d(0x435)]({'where':{}},this[_0x23dd7d(0x68c)]['wuid']),_0x40cf2c=new Set(_0x4e23d1[_0x23dd7d(0x6ef)](_0x22780a=>_0x22780a[_0x23dd7d(0x16c)])),_0x467b29=[],_0x469ede=[];for(let _0x2380f2 of _0x21cdfd){if(!_0x2380f2[_0x23dd7d(0x16c)])continue;_0x2380f2[_0x23dd7d(0x16c)]=this[_0x23dd7d(0xc1)](_0x2380f2[_0x23dd7d(0x16c)]);let _0x55ef78=await this['repository'][_0x23dd7d(0x7bf)][_0x23dd7d(0x2f1)]({'where':{'_id':_0x2380f2[_0x23dd7d(0x16c)]}},this[_0x23dd7d(0x68c)][_0x23dd7d(0x61a)]),_0x3f21ca={};if(Object[_0x23dd7d(0x48b)](_0x2380f2[_0x23dd7d(0x72f)])[_0x23dd7d(0x730)](([_0x28ceeb,_0x20e22d])=>{const _0x2eac92=_0x23dd7d;_0x3f21ca[_0x2eac92(0x5dd)+_0x28ceeb]=_0x20e22d;}),_0x55ef78&&!_0x55ef78['imported']){let _0x90e3d=(_0x2380f2[_0x23dd7d(0x72f)][_0x23dd7d(0x6ca)]||[])[_0x23dd7d(0x433)](_0x122fbd=>_0x40cf2c[_0x23dd7d(0x5a1)](_0x122fbd)),_0x4a6643=new Set(_0x55ef78['leadInfo'][_0x23dd7d(0x6ca)]||[]),_0x116ad5=_0x90e3d[_0x23dd7d(0x433)](_0x4a8d01=>!_0x4a6643['has'](_0x4a8d01)),_0x3a3559=[..._0x4a6643][_0x23dd7d(0x433)](_0x4208e6=>!_0x90e3d[_0x23dd7d(0x39c)](_0x4208e6));_0x469ede[_0x23dd7d(0x3f7)](..._0x116ad5[_0x23dd7d(0x6ef)](_0x121a4c=>this[_0x23dd7d(0x4ab)](_0x121a4c,_0x2380f2[_0x23dd7d(0x16c)]))),_0x469ede[_0x23dd7d(0x3f7)](..._0x3a3559[_0x23dd7d(0x6ef)](_0x259300=>this[_0x23dd7d(0x401)](_0x259300,_0x2380f2[_0x23dd7d(0x16c)]))),_0x2380f2[_0x23dd7d(0x72f)][_0x23dd7d(0x6ca)]=_0x90e3d,_0x467b29['push']({'query':{'where':{'_id':_0x2380f2['_id'],'owner':this['instance']['wuid']}},'update':_0x3f21ca});}else _0x3f21ca['imported']=!0x0,_0x467b29[_0x23dd7d(0x3f7)]({'query':{'where':{'_id':_0x2380f2['_id'],'owner':this['instance'][_0x23dd7d(0x61a)]}},'update':_0x3f21ca});}let _0x45ec08=await this[_0x23dd7d(0xbe)][_0x23dd7d(0x7bf)][_0x23dd7d(0x398)](_0x467b29);return await Promise[_0x23dd7d(0x42f)](_0x469ede),{'updated':_0x45ec08};}catch(_0x4b756f){let _0x33c7e6=_0x23dd7d(0x288),_0x46994c=_0x4b756f instanceof Error?_0x4b756f[_0x23dd7d(0x61f)]:typeof _0x4b756f==_0x23dd7d(0x2c3)?JSON[_0x23dd7d(0x5b9)](_0x4b756f):_0x4b756f,_0x211859=_0x33c7e6+':\x20'+_0x46994c;throw this[_0x23dd7d(0x7b7)][_0x23dd7d(0x4e6)](this[_0x23dd7d(0x147)]+'\x20('+this[_0x23dd7d(0x68c)][_0x23dd7d(0x61a)]+'):\x20'+_0x211859),new m(_0x211859);}}async[a0_0x1ec3bd(0x33b)](){const _0x124194=a0_0x1ec3bd;return await this[_0x124194(0x392)][_0x124194(0x33b)]();}async[a0_0x1ec3bd(0x466)](_0x5ea3bd){const _0x2d8f6f=a0_0x1ec3bd;try{return await this[_0x2d8f6f(0x392)][_0x2d8f6f(0x655)](_0x5ea3bd[_0x2d8f6f(0x49a)][_0x2d8f6f(0x511)]),await this[_0x2d8f6f(0x392)]['updateProfilePicturePrivacy'](_0x5ea3bd[_0x2d8f6f(0x49a)][_0x2d8f6f(0xfb)]),await this[_0x2d8f6f(0x392)][_0x2d8f6f(0x1a1)](_0x5ea3bd['privacySettings'][_0x2d8f6f(0x4ff)]),await this[_0x2d8f6f(0x392)]['updateOnlinePrivacy'](_0x5ea3bd['privacySettings'][_0x2d8f6f(0x278)]),await this['client']['updateLastSeenPrivacy'](_0x5ea3bd['privacySettings'][_0x2d8f6f(0x2c0)]),await this['client']['updateGroupsAddPrivacy'](_0x5ea3bd[_0x2d8f6f(0x49a)]['groupadd']),this[_0x2d8f6f(0x392)]?.['ws']?.[_0x2d8f6f(0x2a5)](),{'update':_0x2d8f6f(0x4d8),'data':{'readreceipts':_0x5ea3bd[_0x2d8f6f(0x49a)][_0x2d8f6f(0x511)],'profile':_0x5ea3bd[_0x2d8f6f(0x49a)][_0x2d8f6f(0xfb)],'status':_0x5ea3bd[_0x2d8f6f(0x49a)][_0x2d8f6f(0x4ff)],'online':_0x5ea3bd['privacySettings'][_0x2d8f6f(0x278)],'last':_0x5ea3bd['privacySettings'][_0x2d8f6f(0x2c0)],'groupadd':_0x5ea3bd[_0x2d8f6f(0x49a)][_0x2d8f6f(0x538)]}};}catch(_0x36fbc1){let _0x148cec=_0x2d8f6f(0x504),_0x45c34f=_0x36fbc1 instanceof Error?_0x36fbc1[_0x2d8f6f(0x61f)]:typeof _0x36fbc1=='object'?JSON[_0x2d8f6f(0x5b9)](_0x36fbc1):_0x36fbc1,_0x145e88=_0x148cec+':\x20'+_0x45c34f;throw this[_0x2d8f6f(0x7b7)][_0x2d8f6f(0x4e6)](this[_0x2d8f6f(0x147)]+'\x20('+this[_0x2d8f6f(0x68c)][_0x2d8f6f(0x61a)]+_0x2d8f6f(0x4e1)+_0x145e88),new m(_0x145e88);}}async[a0_0x1ec3bd(0x301)](_0x28a309){const _0x770c15=a0_0x1ec3bd;let _0x57b538=(_0x28a309?this[_0x770c15(0xc1)](_0x28a309):this['client']?.[_0x770c15(0x3f8)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x770c15(0x7b7)]['verbose'](this[_0x770c15(0x147)]+'\x20('+this['instance'][_0x770c15(0x61a)]+_0x770c15(0x35d)+_0x57b538);let _0x296e69=await this[_0x770c15(0xbe)]['contact'][_0x770c15(0x2f1)]({'where':{'_id':_0x57b538}},this[_0x770c15(0x68c)][_0x770c15(0x61a)]),_0x5d999e=_0x296e69?_0x296e69['pushName']:null;try{let _0x142c13=(await this[_0x770c15(0x1be)]({'numbers':[_0x57b538]}))?.[_0x770c15(0x25a)](),_0xf2d3c1=(await this[_0x770c15(0x201)](_0x57b538,null,!0x1))[_0x770c15(0x385)][_0x770c15(0x266)],_0x2f2840=await this['getStatus'](_0x142c13?.[_0x770c15(0x4df)]),_0x2c3704=await this[_0x770c15(0x3cf)](_0x142c13?.[_0x770c15(0x4df)]),_0x286bfa=(await this[_0x770c15(0x201)](_0x57b538,null,!0x1))[_0x770c15(0x385)][_0x770c15(0x6fa)],_0x163eb0=await this[_0x770c15(0xbe)][_0x770c15(0x7bf)][_0x770c15(0x2f1)]({'where':{'_id':_0x57b538}},this[_0x770c15(0x68c)][_0x770c15(0x61a)]),_0x521e86={'imagechat':_0xf2d3c1,'contactname':_0x5d999e||null,'pushName':_0x286bfa,'status':_0x2f2840?.[_0x770c15(0x4ff)],'isBusiness':_0x2c3704['isBusiness'],'email':_0x2c3704?.[_0x770c15(0x6cc)],'description':_0x2c3704?.[_0x770c15(0x3fb)],'website':_0x2c3704?.[_0x770c15(0x5db)]?.[_0x770c15(0x25a)](),'lastcache':Date[_0x770c15(0x450)](),'imported':!_0x163eb0},_0x374252=await this[_0x770c15(0xbe)][_0x770c15(0x7bf)][_0x770c15(0x2f9)]({'where':{'_id':_0x57b538}},_0x521e86,this[_0x770c15(0x68c)][_0x770c15(0x61a)]),_0x2a4014={'owner':this['instance'][_0x770c15(0x61a)],'_id':_0x57b538,'profilePictureUrl':_0xf2d3c1,'status':_0x2f2840?.[_0x770c15(0x4ff)]};return this[_0x770c15(0xbe)][_0x770c15(0x4e4)][_0x770c15(0x77c)]([_0x2a4014],this[_0x770c15(0x68c)][_0x770c15(0x61a)]),_0x374252&&U(this['instanceName'],_0x770c15(0xcf),{'chat':_0x374252}),{'wuid':_0x142c13?.[_0x770c15(0x4df)]||_0x57b538,'name':_0x142c13?.['name'],'pushName':_0x286bfa,'numberExists':_0x142c13?.[_0x770c15(0x320)],'picture':_0xf2d3c1,'status':_0x2f2840?.[_0x770c15(0x4ff)],'isBusiness':_0x2c3704['isBusiness'],'email':_0x2c3704?.['email'],'description':_0x2c3704?.[_0x770c15(0x3fb)],'website':_0x2c3704?.[_0x770c15(0x5db)]?.[_0x770c15(0x25a)]()};}catch(_0x529050){return this[_0x770c15(0x7b7)][_0x770c15(0x4e6)](_0x770c15(0x5b2)+(_0x529050 instanceof Error?_0x529050['message']:JSON['stringify'](_0x529050,null,0x2))),{};}}async['fetchBusinessProfile'](_0x1015fe){const _0x2ea4cf=a0_0x1ec3bd;this['logger'][_0x2ea4cf(0x7ac)](this[_0x2ea4cf(0x147)]+'\x20('+this[_0x2ea4cf(0x68c)][_0x2ea4cf(0x61a)]+'):Fetching\x20business\x20profile');try{let _0x1493a8=_0x1015fe?this[_0x2ea4cf(0xc1)](_0x1015fe):this['instance']['wuid'],_0x51c2c9=await this[_0x2ea4cf(0x392)][_0x2ea4cf(0x116)](_0x1493a8);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2ea4cf(0x68c)][_0x2ea4cf(0x61a)]+_0x2ea4cf(0x793)),_0x51c2c9?(this[_0x2ea4cf(0x7b7)][_0x2ea4cf(0x7ac)](this[_0x2ea4cf(0x147)]+'\x20('+this[_0x2ea4cf(0x68c)][_0x2ea4cf(0x61a)]+_0x2ea4cf(0x638)),{'isBusiness':!0x0,..._0x51c2c9}):{'isBusiness':!0x1,'message':_0x2ea4cf(0xd6),...(await this[_0x2ea4cf(0x1be)]({'numbers':[_0x1493a8]}))?.[_0x2ea4cf(0x25a)]()};}catch(_0x4350eb){let _0x36e2f9='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x5df325=_0x4350eb instanceof Error?_0x4350eb['message']:typeof _0x4350eb==_0x2ea4cf(0x2c3)?JSON[_0x2ea4cf(0x5b9)](_0x4350eb):_0x4350eb,_0x45f07f=_0x36e2f9+':\x20'+_0x5df325;throw this[_0x2ea4cf(0x7b7)][_0x2ea4cf(0x4e6)](this[_0x2ea4cf(0x147)]+'\x20('+this['instance'][_0x2ea4cf(0x61a)]+'):\x20'+_0x45f07f),new O(_0x45f07f);}}async[a0_0x1ec3bd(0x650)](_0x2f22d8){const _0x1a9dfd=a0_0x1ec3bd;let _0x2dc3db=this[_0x1a9dfd(0xc1)](_0x2f22d8);try{return{'wuid':_0x2dc3db,'status':(await this['client'][_0x1a9dfd(0x200)](_0x2dc3db))[0x0]?.[_0x1a9dfd(0x4ff)]};}catch{return{'wuid':_0x2dc3db,'status':null};}}async[a0_0x1ec3bd(0x485)](_0x26cae5){const _0x4f9df2=a0_0x1ec3bd;try{return await this['client']['updateProfileName'](_0x26cae5),{'update':_0x4f9df2(0x4d8)};}catch(_0x207cef){let _0xaeeafc=_0x4f9df2(0x3d1),_0x53cbb8=_0x207cef instanceof Error?_0x207cef[_0x4f9df2(0x61f)]:typeof _0x207cef=='object'?JSON['stringify'](_0x207cef):_0x207cef,_0x3dd52b=_0xaeeafc+':\x20'+_0x53cbb8;throw this[_0x4f9df2(0x7b7)][_0x4f9df2(0x4e6)](this[_0x4f9df2(0x147)]+'\x20('+this[_0x4f9df2(0x68c)][_0x4f9df2(0x61a)]+'):\x20'+_0x3dd52b),new O(_0x3dd52b);}}async['updateProfileStatus'](_0x445da8){const _0x112385=a0_0x1ec3bd;try{return await this['client']['updateProfileStatus'](_0x445da8),{'update':_0x112385(0x4d8)};}catch(_0x57be75){let _0x1145b9='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x410be6=_0x57be75 instanceof Error?_0x57be75['message']:typeof _0x57be75=='object'?JSON[_0x112385(0x5b9)](_0x57be75):_0x57be75,_0x486912=_0x1145b9+':\x20'+_0x410be6;throw this[_0x112385(0x7b7)]['error'](this[_0x112385(0x147)]+'\x20('+this[_0x112385(0x68c)][_0x112385(0x61a)]+_0x112385(0x4e1)+_0x486912),new O(_0x486912);}}async[a0_0x1ec3bd(0x7ca)](_0x1f1fab){const _0x2ef2c5=a0_0x1ec3bd;try{let _0x49afa1;if((0x0,D[_0x2ef2c5(0x1c4)])(_0x1f1fab)){let _0x4f2cbb=new Date()[_0x2ef2c5(0x47c)](),_0xbafcc=_0x1f1fab+_0x2ef2c5(0x43b)+_0x4f2cbb;_0x49afa1=(await Q[_0x2ef2c5(0x442)]['get'](_0xbafcc,{'responseType':'arraybuffer'}))[_0x2ef2c5(0x586)];}else{if((0x0,D[_0x2ef2c5(0x1b4)])(_0x1f1fab))_0x49afa1=Buffer[_0x2ef2c5(0x4e0)](_0x1f1fab,'base64');else throw new m(_0x2ef2c5(0x211));}return await this['client']['updateProfilePicture'](this['instance'][_0x2ef2c5(0x61a)],_0x49afa1),{'update':_0x2ef2c5(0x4d8)};}catch(_0xfadec9){let _0x42fce6=_0x2ef2c5(0x316),_0x9a0d1c=_0xfadec9 instanceof Error?_0xfadec9['message']:typeof _0xfadec9==_0x2ef2c5(0x2c3)?JSON[_0x2ef2c5(0x5b9)](_0xfadec9):_0xfadec9,_0x4db70a=_0x42fce6+':\x20'+_0x9a0d1c;throw this[_0x2ef2c5(0x7b7)][_0x2ef2c5(0x4e6)](this[_0x2ef2c5(0x147)]+'\x20('+this[_0x2ef2c5(0x68c)]['wuid']+'):\x20'+_0x4db70a),new O(_0x4db70a);}}async['removeProfilePicture'](){const _0x3c791e=a0_0x1ec3bd;try{return await this[_0x3c791e(0x392)][_0x3c791e(0x61b)](this[_0x3c791e(0x68c)][_0x3c791e(0x61a)]),{'update':'success'};}catch(_0xbc768d){let _0x47441f=_0x3c791e(0x496),_0x37e81c=_0xbc768d instanceof Error?_0xbc768d[_0x3c791e(0x61f)]:typeof _0xbc768d==_0x3c791e(0x2c3)?JSON[_0x3c791e(0x5b9)](_0xbc768d):_0xbc768d,_0x388449=_0x47441f+':\x20'+_0x37e81c;throw this['logger']['error'](this[_0x3c791e(0x147)]+'\x20('+this[_0x3c791e(0x68c)]['wuid']+_0x3c791e(0x4e1)+_0x388449),new O(_0x388449);}}async[a0_0x1ec3bd(0x6e8)](_0x100ae3){const _0x34515b=a0_0x1ec3bd;try{let _0x2527b8=(await this['whatsappNumber']({'numbers':_0x100ae3[_0x34515b(0x43e)]}))[_0x34515b(0x433)](_0x2d67ca=>_0x2d67ca['exists'])['map'](_0x156930=>_0x156930[_0x34515b(0x4df)]),{id:_0x4a00f3}=await this['client']['groupCreate'](_0x100ae3['subject'],_0x2527b8);_0x100ae3?.['description']&&await this[_0x34515b(0x392)]['groupUpdateDescription'](_0x4a00f3,_0x100ae3[_0x34515b(0x3fb)]);let _0x5ba9ae=await this[_0x34515b(0x392)][_0x34515b(0x4b5)](_0x4a00f3);return _0x5ba9ae[_0x34515b(0x258)]=[],{'metadata':_0x5ba9ae};}catch(_0x32f156){let _0x5d70a2=_0x34515b(0x2c5),_0x10ec8a=_0x32f156 instanceof Error?_0x32f156[_0x34515b(0x61f)]:typeof _0x32f156==_0x34515b(0x2c3)?JSON[_0x34515b(0x5b9)](_0x32f156):_0x32f156,_0x4976aa=_0x5d70a2+':\x20'+_0x10ec8a;throw this[_0x34515b(0x7b7)]['error'](this[_0x34515b(0x147)]+'\x20('+this[_0x34515b(0x68c)][_0x34515b(0x61a)]+_0x34515b(0x4e1)+_0x4976aa),new O(_0x4976aa);}}async['groupBetterSetting'](_0x26cec4){const _0x445291=a0_0x1ec3bd;try{if(_0x26cec4[_0x445291(0x523)]===!0x0&&await this[_0x445291(0x392)][_0x445291(0x11c)](_0x26cec4[_0x445291(0x1cc)],_0x445291(0x62e)),_0x26cec4[_0x445291(0x523)]===!0x1&&await this[_0x445291(0x392)][_0x445291(0x11c)](_0x26cec4[_0x445291(0x1cc)],_0x445291(0x4e3)),_0x26cec4[_0x445291(0x6c8)]===!0x0&&await this['client'][_0x445291(0x11c)](_0x26cec4[_0x445291(0x1cc)],_0x445291(0x71a)),_0x26cec4['announce']===!0x1&&await this[_0x445291(0x392)][_0x445291(0x11c)](_0x26cec4[_0x445291(0x1cc)],_0x445291(0x5b5)),_0x26cec4[_0x445291(0x729)]===!0x0&&await this['client'][_0x445291(0x68a)](_0x26cec4[_0x445291(0x1cc)],_0x445291(0x767)),_0x26cec4['memberAddMode']===!0x1&&await this[_0x445291(0x392)]['groupMemberAddMode'](_0x26cec4[_0x445291(0x1cc)],'admin_add'),_0x26cec4[_0x445291(0x2fa)]===!0x0&&await this[_0x445291(0x392)][_0x445291(0x7cb)](_0x26cec4[_0x445291(0x1cc)],'on'),_0x26cec4[_0x445291(0x2fa)]===!0x1&&await this['client'][_0x445291(0x7cb)](_0x26cec4[_0x445291(0x1cc)],_0x445291(0x4ad)),typeof _0x26cec4[_0x445291(0x121)]<'u'&&_0x26cec4[_0x445291(0x121)]!==null&&await this[_0x445291(0x392)]['groupToggleEphemeral'](_0x26cec4[_0x445291(0x1cc)],_0x26cec4[_0x445291(0x121)]),_0x26cec4[_0x445291(0x6fa)]&&await this[_0x445291(0x392)]['groupUpdateSubject'](_0x26cec4['groupJid'],_0x26cec4[_0x445291(0x6fa)]),_0x26cec4['description']&&await this[_0x445291(0x392)][_0x445291(0xaa)](_0x26cec4['groupJid'],_0x26cec4[_0x445291(0x3fb)]),_0x26cec4[_0x445291(0x2f5)]){let _0x1db623;if((0x0,D[_0x445291(0x1c4)])(_0x26cec4[_0x445291(0x2f5)])){let _0x33834d=new Date()['getTime'](),_0x191120=_0x26cec4[_0x445291(0x2f5)]+_0x445291(0x43b)+_0x33834d;_0x1db623=(await Q[_0x445291(0x442)]['get'](_0x191120,{'responseType':_0x445291(0x56b)}))[_0x445291(0x586)];}else{if((0x0,D['isBase64'])(_0x26cec4[_0x445291(0x2f5)]))_0x1db623=Buffer[_0x445291(0x4e0)](_0x26cec4[_0x445291(0x2f5)],_0x445291(0x59c));else throw new m(_0x445291(0x211));}await this[_0x445291(0x392)][_0x445291(0x7ca)](_0x26cec4[_0x445291(0x1cc)],_0x1db623);}return await this['findGroup']({'groupJid':_0x26cec4[_0x445291(0x1cc)]});}catch(_0x471534){let _0x382219=_0x445291(0x17c),_0x2161d0=_0x471534 instanceof Error?_0x471534[_0x445291(0x61f)]:typeof _0x471534=='object'?JSON[_0x445291(0x5b9)](_0x471534):_0x471534,_0x54cb0b=_0x382219+':\x20'+_0x2161d0;throw this['logger']['error'](this[_0x445291(0x147)]+'\x20('+this['instance'][_0x445291(0x61a)]+_0x445291(0x4e1)+_0x54cb0b),new O(_0x54cb0b);}}async['updateGParticipant'](_0x2e4a19){const _0x4b8867=a0_0x1ec3bd;try{if(_0x2e4a19[_0x4b8867(0x67d)]===_0x4b8867(0x24b)||_0x2e4a19[_0x4b8867(0x67d)]==='reject'){let _0x500db7=_0x2e4a19[_0x4b8867(0x43e)][_0x4b8867(0x6ef)](_0x6229c4=>this['createJid'](_0x6229c4));await this[_0x4b8867(0x392)][_0x4b8867(0x718)](_0x2e4a19['groupJid'],_0x500db7,_0x2e4a19[_0x4b8867(0x67d)]);}else{if(_0x2e4a19[_0x4b8867(0x67d)]===_0x4b8867(0x5a3)){let _0xe0d39b=(await this[_0x4b8867(0x1be)]({'numbers':_0x2e4a19[_0x4b8867(0x43e)]}))[_0x4b8867(0x433)](_0x386a5e=>_0x386a5e[_0x4b8867(0x320)])[_0x4b8867(0x6ef)](_0xe85920=>this[_0x4b8867(0xc1)](_0xe85920[_0x4b8867(0x4df)]));if(_0xe0d39b[_0x4b8867(0x2a9)]===0x0)throw new m(_0x4b8867(0x76a));await this['client'][_0x4b8867(0x6fb)](_0x2e4a19['groupJid'],_0xe0d39b,'add');}else{let _0x2137e3=_0x2e4a19['participants']['map'](_0x111d8f=>this[_0x4b8867(0xc1)](_0x111d8f));await this[_0x4b8867(0x392)][_0x4b8867(0x6fb)](_0x2e4a19[_0x4b8867(0x1cc)],_0x2137e3,_0x2e4a19[_0x4b8867(0x67d)]);}}return await this['findGroup']({'groupJid':_0x2e4a19[_0x4b8867(0x1cc)]});}catch(_0x211e75){let _0x386fb8=_0x4b8867(0x5fe),_0x146891=_0x211e75 instanceof Error?_0x211e75['message']:typeof _0x211e75==_0x4b8867(0x2c3)?JSON[_0x4b8867(0x5b9)](_0x211e75):_0x211e75,_0x11436f=_0x386fb8+':\x20'+_0x146891;throw this['logger'][_0x4b8867(0x4e6)](this[_0x4b8867(0x147)]+'\x20('+this[_0x4b8867(0x68c)]['wuid']+_0x4b8867(0x4e1)+_0x11436f),new m(_0x11436f);}}async[a0_0x1ec3bd(0x35c)](_0x44c60e){const _0x12bb24=a0_0x1ec3bd;try{return await this['client'][_0x12bb24(0x35c)](_0x44c60e['inviteCode']);}catch(_0x40436f){let _0x5ac5f8=_0x12bb24(0x5e1),_0x3a9adc=_0x40436f instanceof Error?_0x40436f[_0x12bb24(0x61f)]:typeof _0x40436f=='object'?JSON[_0x12bb24(0x5b9)](_0x40436f):_0x40436f,_0x4e4b54=_0x5ac5f8+':\x20'+_0x3a9adc;throw this[_0x12bb24(0x7b7)]['error'](this[_0x12bb24(0x147)]+'\x20('+this[_0x12bb24(0x68c)][_0x12bb24(0x61a)]+_0x12bb24(0x4e1)+_0x4e4b54),new m(_0x4e4b54);}}async[a0_0x1ec3bd(0x7a4)](_0x376b6c,_0x249a5a='out'){const _0x326169=a0_0x1ec3bd;try{let _0x449a38=await this[_0x326169(0xbe)]['chat'][_0x326169(0x2f1)]({'where':{'_id':_0x376b6c[_0x326169(0x1cc)]}},this['instance'][_0x326169(0x61a)]),_0x27378f=_0x449a38?_0x449a38['groupdata']:null,_0x3ef0ca=0x18*0x3c*0x3c*0x3e8;if(!_0x27378f||_0x27378f[_0x326169(0x6fc)]&&Date[_0x326169(0x450)]()-_0x27378f['lastUpdate']>_0x3ef0ca){let _0x536d19=await this['client'][_0x326169(0x4b5)](_0x376b6c['groupJid']);if(_0x536d19[_0x326169(0x96)]=_0x536d19?.[_0x326169(0x96)]&&_0x536d19[_0x326169(0x96)][_0x326169(0x51d)]()[_0x326169(0x2a9)]<0xd?_0x536d19?.[_0x326169(0x96)]*0x3e8:_0x536d19?.[_0x326169(0x96)]||null,_0x536d19[_0x326169(0x361)]=_0x536d19?.[_0x326169(0x361)]&&_0x536d19['creation'][_0x326169(0x51d)]()[_0x326169(0x2a9)]<0xd?_0x536d19?.[_0x326169(0x361)]*0x3e8:_0x536d19?.[_0x326169(0x361)]||null,_0x27378f={..._0x536d19,'lastUpdate':Date[_0x326169(0x450)]()},!_0x536d19)return;}let _0x452745=_0x27378f[_0x326169(0x43e)][_0x326169(0x32d)](_0xb94241=>_0xb94241['id']===this['instance'][_0x326169(0x61a)]+_0x326169(0xaf)&&_0xb94241['admin']!=null);!_0x27378f[_0x326169(0x702)]&&_0x452745&&(_0x27378f[_0x326169(0x702)]=(await this[_0x326169(0x702)](_0x376b6c,!0x1))['inviteUrl']);let _0x346605=(!_0x27378f['announce']||_0x452745)&&(!_0x27378f[_0x326169(0x212)]||_0x27378f['isCommunity']&&_0x27378f[_0x326169(0x2b3)]&&_0x452745);_0x27378f[_0x326169(0x498)]=_0x452745,_0x27378f[_0x326169(0x1fd)]=_0x346605;let _0x2ff093=[];if(_0x452745&&_0x27378f[_0x326169(0x2fa)])try{_0x2ff093=await this[_0x326169(0x392)][_0x326169(0x9f)](_0x376b6c[_0x326169(0x1cc)]),_0x27378f['lastFetchAwaitingApproval']=Date[_0x326169(0x450)]();}catch(_0x232aac){this['logger']['verbose'](this[_0x326169(0x147)]+'\x20('+this[_0x326169(0x68c)][_0x326169(0x61a)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x376b6c[_0x326169(0x1cc)]+':\x20'+(_0x232aac instanceof Error?_0x232aac['message']:JSON[_0x326169(0x5b9)](_0x232aac,null,0x2)));}try{_0x27378f[_0x326169(0x2f5)]=(await this[_0x326169(0x201)](_0x376b6c[_0x326169(0x1cc)],null,!0x0))[_0x326169(0x385)][_0x326169(0x266)];}catch(_0x981795){this[_0x326169(0x7b7)]['verbose'](this[_0x326169(0x147)]+'\x20('+this['instance'][_0x326169(0x61a)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x376b6c['groupJid']+':\x20'+(_0x981795 instanceof Error?_0x981795[_0x326169(0x61f)]:JSON[_0x326169(0x5b9)](_0x981795,null,0x2)));}let _0x1c0e1c=_0x27378f[_0x326169(0x43e)][_0x326169(0x6ef)](_0x19414a=>_0x19414a['id']),_0x256dbf=_0x2ff093['map'](_0xc219a4=>_0xc219a4['jid']),_0x397e00=await this[_0x326169(0xbe)][_0x326169(0x2cf)][_0x326169(0x777)]([..._0x1c0e1c,..._0x256dbf]);_0x27378f[_0x326169(0x43e)]=_0x27378f[_0x326169(0x43e)][_0x326169(0x6ef)](_0x22f286=>{const _0x38e885=_0x326169;let _0x3b14f2=_0x397e00['find'](_0x32f945=>_0x32f945[_0x38e885(0x16c)]===_0x22f286['id']);return{'id':_0x22f286['id'],'isAdmin':['admin',_0x38e885(0x24c)][_0x38e885(0x39c)](_0x22f286['admin']),'admin':_0x22f286[_0x38e885(0x2ef)],'pushName':_0x3b14f2?.['name'],'profilePictureUrl':_0x3b14f2?.[_0x38e885(0x266)]};}),_0x27378f[_0x326169(0x258)]=_0x2ff093[_0x326169(0x6ef)](_0x5ce2f8=>{const _0x9d2245=_0x326169;let _0x5d9c00=_0x397e00[_0x9d2245(0x435)](_0x17a49c=>_0x17a49c['_id']===_0x5ce2f8[_0x9d2245(0x4df)]);return{'id':_0x5ce2f8['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x5d9c00?.[_0x9d2245(0x6fa)],'profilePictureUrl':_0x5d9c00?.[_0x9d2245(0x266)],'request_method':_0x5ce2f8['request_method'],'request_time':_0x5ce2f8[_0x9d2245(0x4b1)]};});let _0x3b2e8c=await this[_0x326169(0xbe)][_0x326169(0x7bf)][_0x326169(0x2f9)]({'where':{'_id':_0x376b6c[_0x326169(0x1cc)]}},{'imagechat':_0x27378f[_0x326169(0x2f5)],'name':_0x27378f[_0x326169(0x36c)],'lastcache':Date[_0x326169(0x450)](),'groupdata':_0x27378f},this['instance'][_0x326169(0x61a)]);return U(this[_0x326169(0x147)],_0x326169(0xcf),{'chat':_0x3b2e8c}),{'metadata':_0x27378f};}catch(_0x2131e3){if(_0x249a5a===_0x326169(0x81))return;throw new F(_0x326169(0x122),_0x2131e3[_0x326169(0x61f)]['toString']());}}async[a0_0x1ec3bd(0x12c)](){const _0x1864bd=a0_0x1ec3bd;try{this[_0x1864bd(0x7b7)][_0x1864bd(0x6eb)](_0x1864bd(0x692));let _0x4b3b40=Date[_0x1864bd(0x450)](),_0x227461=0x3*0x3c*0x3c*0x3e8;return _0x4b3b40-this[_0x1864bd(0x423)]>_0x227461&&(this[_0x1864bd(0x543)](),this[_0x1864bd(0x423)]=_0x4b3b40),(await this['repository'][_0x1864bd(0x7bf)]['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x1864bd(0x68c)][_0x1864bd(0x61a)]))[_0x1864bd(0x6ef)](_0x823381=>({..._0x823381[_0x1864bd(0x25b)],'groupJid':_0x823381?.[_0x1864bd(0x16c)],'participants':_0x823381?.[_0x1864bd(0x25b)]?.[_0x1864bd(0x43e)]||[],'awaitingApproval':_0x823381?.[_0x1864bd(0x25b)]?.[_0x1864bd(0x258)]||[],'image':_0x823381?.['imagechat']}));}catch(_0x352655){let _0x1b32f6=_0x1864bd(0x1ba),_0x3d1d21=_0x352655 instanceof Error?_0x352655[_0x1864bd(0x61f)]:typeof _0x352655==_0x1864bd(0x2c3)?JSON['stringify'](_0x352655):_0x352655,_0x4ac335=_0x1b32f6+':\x20'+_0x3d1d21;throw this[_0x1864bd(0x7b7)][_0x1864bd(0x4e6)](this[_0x1864bd(0x147)]+'\x20('+this[_0x1864bd(0x68c)]['wuid']+'):\x20'+_0x4ac335),new F(_0x4ac335);}}async[a0_0x1ec3bd(0x543)](){const _0x3e9aa=a0_0x1ec3bd;try{this[_0x3e9aa(0x7b7)][_0x3e9aa(0x6eb)](_0x3e9aa(0x1d5));let _0x52ab8f=[],_0x277d8e=await this[_0x3e9aa(0x392)][_0x3e9aa(0x47b)](),_0x5a122f=Object[_0x3e9aa(0x3ff)](_0x277d8e),_0x590f62=_0x5a122f['filter'](_0x3b6d92=>(0x0,w[_0x3e9aa(0x44c)])(_0x3b6d92?.['id']))['map'](async _0x749f4=>{const _0x5a072f=_0x3e9aa;try{return await this['client'][_0x5a072f(0x54b)](_0x749f4['id'],_0x5a072f(0x2d0));}catch(_0x76f5fa){return this[_0x5a072f(0x7b7)][_0x5a072f(0x7ac)](this[_0x5a072f(0x147)]+'\x20('+this[_0x5a072f(0x68c)][_0x5a072f(0x61a)]+_0x5a072f(0x119)+_0x749f4['id']+':\x20'+(_0x76f5fa instanceof Error?_0x76f5fa[_0x5a072f(0x61f)]:JSON[_0x5a072f(0x5b9)](_0x76f5fa,null,0x2))),null;}}),_0x1a84cd=await Promise[_0x3e9aa(0x42f)](_0x590f62);for(let _0x206e70=0x0;_0x206e70<_0x5a122f['length'];_0x206e70++){let _0x1ed48a=_0x5a122f[_0x206e70];(0x0,w['isJidGroup'])(_0x1ed48a?.['id'])&&(_0x52ab8f[_0x3e9aa(0x3f7)]({'groupJid':_0x1ed48a?.['id'],'subject':_0x1ed48a?.[_0x3e9aa(0x36c)],'subjectOwner':_0x1ed48a?.['subjectOwner']?.[_0x3e9aa(0x4c0)]('@')[0x0],'subjectTime':_0x1ed48a?.[_0x3e9aa(0x96)],'creation':_0x1ed48a?.['creation'],'size':_0x1ed48a?.['participants']?.[_0x3e9aa(0x2a9)],'owner':_0x1ed48a?.['owner']?.[_0x3e9aa(0x4c0)]('@')[0x0],'desc':_0x1ed48a?.['desc'],'restrict':_0x1ed48a?.[_0x3e9aa(0x523)],'announce':_0x1ed48a?.[_0x3e9aa(0x6c8)],'image':_0x1a84cd[_0x206e70],'isCommunity':_0x1ed48a?.[_0x3e9aa(0x212)],'joinApprovalMode':_0x1ed48a?.[_0x3e9aa(0x2fa)],'memberCanAddParticipant':_0x1ed48a?.['memberAddMode'],'participants':_0x1ed48a?.[_0x3e9aa(0x43e)],'descOwner':_0x1ed48a?.[_0x3e9aa(0x585)],'descId':_0x1ed48a?.['descId'],'memberAddMode':_0x1ed48a?.['memberAddMode'],'isCommunityAnnounce':_0x1ed48a?.['isCommunityAnnounce'],'ephemeralDuration':_0x1ed48a?.['ephemeralDuration']||0x0,'author':_0x1ed48a?.[_0x3e9aa(0x20d)]}),this[_0x3e9aa(0x133)](_0x5a122f[_0x206e70]));}return _0x52ab8f;}catch(_0xd23158){let _0x10b124=_0x3e9aa(0x183),_0x33f250=_0xd23158 instanceof Error?_0xd23158[_0x3e9aa(0x61f)]:typeof _0xd23158==_0x3e9aa(0x2c3)?JSON['stringify'](_0xd23158):_0xd23158,_0x4fdf2e=_0x10b124+':\x20'+_0x33f250;throw this['logger'][_0x3e9aa(0x4e6)](this[_0x3e9aa(0x147)]+'\x20('+this[_0x3e9aa(0x68c)][_0x3e9aa(0x61a)]+'):\x20'+_0x4fdf2e),new F(_0x4fdf2e);}}async[a0_0x1ec3bd(0x133)](_0x34933d){const _0x153a43=a0_0x1ec3bd;let _0x26e443=await this[_0x153a43(0xbe)]['chat'][_0x153a43(0x2f1)]({'where':{'_id':_0x34933d['id']}},this[_0x153a43(0x68c)][_0x153a43(0x61a)]);_0x34933d[_0x153a43(0x96)]=_0x34933d?.[_0x153a43(0x96)]&&_0x34933d['subjectTime'][_0x153a43(0x51d)]()['length']<0xd?_0x34933d?.[_0x153a43(0x96)]*0x3e8:_0x34933d?.[_0x153a43(0x96)]||null,_0x34933d[_0x153a43(0x361)]=_0x34933d?.[_0x153a43(0x361)]&&_0x34933d[_0x153a43(0x361)][_0x153a43(0x51d)]()[_0x153a43(0x2a9)]<0xd?_0x34933d?.[_0x153a43(0x361)]*0x3e8:_0x34933d?.[_0x153a43(0x361)]||null;let _0xc6614d=_0x26e443?.[_0x153a43(0x25b)]?.['awaitingApproval']||[],_0x2968e1=_0x26e443?.[_0x153a43(0x25b)]?.[_0x153a43(0x439)],_0x53d690=_0x34933d[_0x153a43(0x43e)][_0x153a43(0x6ef)](_0x2c3ce0=>{const _0x2c0cf0=_0x153a43;let _0x51f68e=_0x26e443?.[_0x2c0cf0(0x25b)]?.[_0x2c0cf0(0x43e)][_0x2c0cf0(0x435)](_0x16c413=>_0x16c413['id']===_0x2c3ce0['id']);return{..._0x2c3ce0,'isAdmin':[_0x2c0cf0(0x2ef),_0x2c0cf0(0x24c)][_0x2c0cf0(0x39c)](_0x2c3ce0[_0x2c0cf0(0x2ef)]),'admin':_0x2c3ce0[_0x2c0cf0(0x2ef)],'name':_0x51f68e?.['name']||_0x2c3ce0['name'],'imgUrl':_0x51f68e?.['imgUrl']||_0x2c3ce0['imgUrl']};}),_0xe4d777=_0x53d690[_0x153a43(0x32d)](_0x5af3ec=>_0x5af3ec['id']===this['instance'][_0x153a43(0x61a)]+'@s.whatsapp.net'&&_0x5af3ec[_0x153a43(0x498)]),_0x5c79fe=(!_0x34933d[_0x153a43(0x6c8)]||_0xe4d777)&&(!_0x34933d['isCommunity']||_0x34933d[_0x153a43(0x212)]&&_0x34933d[_0x153a43(0x2b3)]&&_0xe4d777),_0xfcbbfb={..._0x34933d,'participants':_0x53d690,'awaitingApproval':_0xc6614d,'lastFetchAwaitingApproval':_0x2968e1,'isAdmin':_0xe4d777,'canSendMessage':_0x5c79fe,'lastUpdate':Date[_0x153a43(0x450)]()};await this[_0x153a43(0xbe)][_0x153a43(0x7bf)][_0x153a43(0x2f9)]({'where':{'_id':_0x34933d['id']}},{'name':_0x34933d[_0x153a43(0x36c)],'group':!0x0,'groupdata':_0xfcbbfb,'lastcache':Date[_0x153a43(0x450)]()},this[_0x153a43(0x68c)][_0x153a43(0x61a)]),U(this['instanceName'],_0x153a43(0xcf),{'chat':_0x34933d});}async[a0_0x1ec3bd(0x299)](_0x4ae038){const _0x14ba6a=a0_0x1ec3bd;let _0x138bed=await this[_0x14ba6a(0xbe)]['chat'][_0x14ba6a(0x2f1)]({'where':{'_id':_0x4ae038['id']}},this['instance'][_0x14ba6a(0x61a)]);_0x4ae038[_0x14ba6a(0x96)]=_0x4ae038?.['subjectTime']&&_0x4ae038[_0x14ba6a(0x96)]['toString']()[_0x14ba6a(0x2a9)]<0xd?_0x4ae038?.[_0x14ba6a(0x96)]*0x3e8:_0x4ae038?.[_0x14ba6a(0x96)]||null,_0x4ae038['creation']=_0x4ae038?.[_0x14ba6a(0x361)]&&_0x4ae038[_0x14ba6a(0x361)][_0x14ba6a(0x51d)]()[_0x14ba6a(0x2a9)]<0xd?_0x4ae038?.['creation']*0x3e8:_0x4ae038?.[_0x14ba6a(0x361)]||null,_0x4ae038[_0x14ba6a(0x702)]&&(_0x4ae038[_0x14ba6a(0x702)]=_0x14ba6a(0xfa)+_0x4ae038['inviteCode']);let _0x3946b7=_0x138bed?.[_0x14ba6a(0x25b)]?{..._0x138bed[_0x14ba6a(0x25b)]}:{};Object[_0x14ba6a(0x196)](_0x4ae038)[_0x14ba6a(0x730)](_0x394540=>{_0x394540!=='id'&&(_0x3946b7[_0x394540]=_0x4ae038[_0x394540]);});let _0x52e08d=_0x3946b7[_0x14ba6a(0x43e)]?.['some'](_0x584d3d=>_0x584d3d['id']===this[_0x14ba6a(0x68c)][_0x14ba6a(0x61a)]+_0x14ba6a(0xaf)&&_0x584d3d[_0x14ba6a(0x498)])||!0x1;_0x3946b7['isAdmin']=_0x52e08d;let _0x43f4c8=(!_0x3946b7[_0x14ba6a(0x6c8)]||_0x52e08d)&&(!_0x3946b7[_0x14ba6a(0x212)]||_0x3946b7[_0x14ba6a(0x212)]&&_0x3946b7['isCommunityAnnounce']&&_0x52e08d);_0x3946b7['canSendMessage']=_0x43f4c8;let _0x43202b={'group':!0x0,'groupdata':_0x3946b7};_0x4ae038[_0x14ba6a(0x36c)]&&(_0x43202b[_0x14ba6a(0x6fa)]=_0x4ae038[_0x14ba6a(0x36c)]),await this[_0x14ba6a(0xbe)][_0x14ba6a(0x7bf)]['updateOne']({'where':{'_id':_0x4ae038['id']}},_0x43202b,this['instance'][_0x14ba6a(0x61a)],{'upsert':!0x0}),U(this[_0x14ba6a(0x147)],_0x14ba6a(0xcf),{'chat':_0x43202b});}async[a0_0x1ec3bd(0x396)](_0x35a839){const _0x39d7ed=a0_0x1ec3bd;let _0x43c439=await this[_0x39d7ed(0xbe)][_0x39d7ed(0x7bf)][_0x39d7ed(0x2f1)]({'where':{'_id':_0x35a839['id']}},this[_0x39d7ed(0x68c)][_0x39d7ed(0x61a)]);if(!_0x43c439||!_0x43c439[_0x39d7ed(0x25b)]){this[_0x39d7ed(0x7b7)][_0x39d7ed(0x6eb)](this[_0x39d7ed(0x147)]+'\x20('+this['instance'][_0x39d7ed(0x61a)]+_0x39d7ed(0x42b)+_0x35a839['id']);return;}let _0x6254a4=await this['repository'][_0x39d7ed(0x2cf)][_0x39d7ed(0x777)](_0x35a839[_0x39d7ed(0x43e)]),_0x44dfc2=[..._0x43c439['groupdata']?.[_0x39d7ed(0x43e)]];switch(_0x35a839[_0x39d7ed(0x67d)]){case'add':let _0x43aa74=_0x6254a4[_0x39d7ed(0x6ef)](_0x393ada=>({'id':_0x393ada[_0x39d7ed(0x16c)],'isAdmin':!0x1,'name':_0x393ada[_0x39d7ed(0x6fa)],'imgUrl':_0x393ada['pictureUrl']}));_0x44dfc2=[..._0x44dfc2,..._0x43aa74];break;case _0x39d7ed(0x736):_0x44dfc2=_0x44dfc2[_0x39d7ed(0x433)](_0x3c950a=>!_0x35a839[_0x39d7ed(0x43e)][_0x39d7ed(0x39c)](_0x3c950a['id']));break;case _0x39d7ed(0x143):case _0x39d7ed(0x384):_0x44dfc2=_0x44dfc2[_0x39d7ed(0x6ef)](_0x5bc88c=>_0x35a839[_0x39d7ed(0x43e)][_0x39d7ed(0x39c)](_0x5bc88c['id'])?{..._0x5bc88c,'isAdmin':_0x35a839[_0x39d7ed(0x67d)]===_0x39d7ed(0x143)}:_0x5bc88c);break;}let _0x279274=_0x44dfc2[_0x39d7ed(0x2a9)],_0x8764ad=_0x44dfc2[_0x39d7ed(0x32d)](_0x5b9e54=>_0x5b9e54['id']===this[_0x39d7ed(0x68c)][_0x39d7ed(0x61a)]+'@s.whatsapp.net'),_0x353653=_0x8764ad&&_0x44dfc2[_0x39d7ed(0x32d)](_0x262167=>_0x262167['id']===this[_0x39d7ed(0x68c)][_0x39d7ed(0x61a)]+'@s.whatsapp.net'&&_0x262167[_0x39d7ed(0x498)]),_0x5b8867=_0x8764ad&&(!_0x43c439[_0x39d7ed(0x25b)][_0x39d7ed(0x6c8)]||_0x353653)&&(!_0x43c439[_0x39d7ed(0x25b)][_0x39d7ed(0x212)]||_0x43c439[_0x39d7ed(0x25b)]['isCommunity']&&_0x353653);await this[_0x39d7ed(0xbe)][_0x39d7ed(0x7bf)][_0x39d7ed(0x2f9)]({'where':{'_id':_0x35a839['id']}},{'groupdata':{..._0x43c439['groupdata'],'participants':_0x44dfc2,'size':_0x279274,'isAdmin':_0x353653,'canSendMessage':_0x5b8867}},this[_0x39d7ed(0x68c)][_0x39d7ed(0x61a)]),this[_0x39d7ed(0x7b7)]['info'](this['instanceName']+'\x20('+this[_0x39d7ed(0x68c)][_0x39d7ed(0x61a)]+_0x39d7ed(0x64b)+_0x35a839['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x35a839['action']+',\x20Novo\x20tamanho:\x20'+_0x279274+_0x39d7ed(0x412)+_0x353653+',\x20canSendMessage:\x20'+_0x5b8867);}async[a0_0x1ec3bd(0x702)](_0x16111e,_0x3dbddd=!0x0){const _0x4c9319=a0_0x1ec3bd;try{let _0x265420=await this[_0x4c9319(0x392)][_0x4c9319(0x1f8)](_0x16111e['groupJid']),_0x27b779={'groupdata.inviteCode':_0x4c9319(0xfa)+_0x265420};if(_0x3dbddd){let _0x2d1a30=await this[_0x4c9319(0xbe)][_0x4c9319(0x7bf)]['updateOne']({'where':{'_id':_0x16111e[_0x4c9319(0x1cc)]}},_0x27b779,this[_0x4c9319(0x68c)][_0x4c9319(0x61a)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x265420,'inviteCode':_0x265420};}catch(_0x71f875){let _0x34b8c4=_0x4c9319(0x274),_0x4ca492=_0x71f875 instanceof Error?_0x71f875[_0x4c9319(0x61f)]:typeof _0x71f875=='object'?JSON['stringify'](_0x71f875):_0x71f875,_0xa21acb=_0x34b8c4+':\x20'+_0x4ca492;throw this[_0x4c9319(0x7b7)][_0x4c9319(0x4e6)](this[_0x4c9319(0x147)]+'\x20('+this[_0x4c9319(0x68c)][_0x4c9319(0x61a)]+'):\x20'+_0xa21acb),new F(_0xa21acb);}}async[a0_0x1ec3bd(0x2a4)](_0x2bbe34){const _0x4de289=a0_0x1ec3bd;try{let _0x68a575=await this['client'][_0x4de289(0x6b6)](_0x2bbe34[_0x4de289(0x1cc)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x68a575,'inviteCode':_0x68a575};}catch(_0x2eab7c){let _0x2082c0=_0x4de289(0x54f),_0x5f367f=_0x2eab7c instanceof Error?_0x2eab7c[_0x4de289(0x61f)]:typeof _0x2eab7c==_0x4de289(0x2c3)?JSON['stringify'](_0x2eab7c):_0x2eab7c,_0x411486=_0x2082c0+':\x20'+_0x5f367f;throw this[_0x4de289(0x7b7)]['error'](this['instanceName']+'\x20('+this[_0x4de289(0x68c)][_0x4de289(0x61a)]+_0x4de289(0x4e1)+_0x411486),new F(_0x411486);}}async[a0_0x1ec3bd(0x568)](_0x2bf772){const _0x41c5bc=a0_0x1ec3bd;try{if((0x0,D[_0x41c5bc(0x1c4)])(_0x2bf772['inviteCode']))var _0x134597=_0x2bf772[_0x41c5bc(0x702)][_0x41c5bc(0x4c0)]('/')[0x3];else var _0x134597=_0x2bf772[_0x41c5bc(0x702)];let _0x19ba6f=await this['client'][_0x41c5bc(0x66e)](_0x134597);return this[_0x41c5bc(0x7b7)][_0x41c5bc(0x7ac)](this[_0x41c5bc(0x147)]+'\x20('+this[_0x41c5bc(0x68c)][_0x41c5bc(0x61a)]+'):\x20'+_0x19ba6f),{'join':!0x0,'inviteCode':_0x134597,'groupJid':_0x19ba6f};}catch(_0x27f574){let _0x161977=_0x41c5bc(0x400),_0x231e34=_0x27f574 instanceof Error?_0x27f574[_0x41c5bc(0x61f)]:typeof _0x27f574==_0x41c5bc(0x2c3)?JSON[_0x41c5bc(0x5b9)](_0x27f574):_0x27f574,_0x2e6154=_0x161977+':\x20'+_0x231e34;throw this['logger'][_0x41c5bc(0x4e6)](this[_0x41c5bc(0x147)]+'\x20('+this[_0x41c5bc(0x68c)][_0x41c5bc(0x61a)]+_0x41c5bc(0x4e1)+_0x2e6154),new F(_0x2e6154);}}async['findParticipants'](_0xe64b4d){const _0x3f4370=a0_0x1ec3bd;try{return{'participants':(await this[_0x3f4370(0xbe)][_0x3f4370(0x7bf)][_0x3f4370(0x2f1)]({'where':{'_id':_0xe64b4d['groupJid']}},this[_0x3f4370(0x68c)][_0x3f4370(0x61a)]))[_0x3f4370(0x25b)]['participants']};}catch(_0x4a9dd0){let _0x3dcb6c=_0x3f4370(0x14b),_0x3bbd3e=_0x4a9dd0 instanceof Error?_0x4a9dd0[_0x3f4370(0x61f)]:typeof _0x4a9dd0==_0x3f4370(0x2c3)?JSON[_0x3f4370(0x5b9)](_0x4a9dd0):_0x4a9dd0,_0x316b49=_0x3dcb6c+':\x20'+_0x3bbd3e;throw this['logger']['error'](this[_0x3f4370(0x147)]+'\x20('+this[_0x3f4370(0x68c)][_0x3f4370(0x61a)]+'):\x20'+_0x316b49),new F(_0x316b49);}}async['leaveGroup'](_0x22f39c){const _0x12169f=a0_0x1ec3bd;try{return await this['client'][_0x12169f(0x743)](_0x22f39c[_0x12169f(0x1cc)]),{'groupJid':_0x22f39c[_0x12169f(0x1cc)],'leave':!0x0};}catch(_0x20d88e){let _0x30470c=_0x12169f(0x2dc),_0x3c306e=_0x20d88e instanceof Error?_0x20d88e[_0x12169f(0x61f)]:typeof _0x20d88e==_0x12169f(0x2c3)?JSON['stringify'](_0x20d88e):_0x20d88e,_0x133df1=_0x30470c+':\x20'+_0x3c306e;throw this[_0x12169f(0x7b7)]['error'](this['instanceName']+'\x20('+this[_0x12169f(0x68c)][_0x12169f(0x61a)]+'):\x20'+_0x133df1),new m(_0x133df1);}}async[a0_0x1ec3bd(0x3b7)](_0x54da4f){const _0x252c1e=a0_0x1ec3bd;return await this[_0x252c1e(0x309)](_0x54da4f['number'],{'poll':{'name':_0x54da4f[_0x252c1e(0x3b7)]?.['name'],'selectableCount':_0x54da4f['pollMessage']['selectableCount'],'values':_0x54da4f[_0x252c1e(0x3b7)][_0x252c1e(0x3ff)]}},_0x54da4f?.['options']);}async[a0_0x1ec3bd(0x6bc)](_0x102366){const _0x22b365=a0_0x1ec3bd;return await this[_0x22b365(0x309)](_0x102366['number'],{'listMessage':{'title':_0x102366[_0x22b365(0x6bc)]['title'],'description':_0x102366[_0x22b365(0x6bc)][_0x22b365(0x3fb)],'buttonText':_0x102366[_0x22b365(0x6bc)]?.[_0x22b365(0x10e)],'footerText':_0x102366[_0x22b365(0x6bc)]?.[_0x22b365(0x545)],'sections':_0x102366[_0x22b365(0x6bc)][_0x22b365(0x2a7)],'listType':0x2}},_0x102366?.[_0x22b365(0x57b)]);}async['menuMessage'](_0x38fb17){const _0x354fdc=a0_0x1ec3bd;let _0x11cb6e;if(_0x38fb17['menuMessage']['type']==='list'){let _0x1af0a7=_0x38fb17[_0x354fdc(0x2b1)][_0x354fdc(0x77d)][_0x354fdc(0x1e1)]('\x0a'),_0x5b94ea='',_0x50ea2b='';_0x1af0a7!==-0x1?(_0x5b94ea=_0x38fb17[_0x354fdc(0x2b1)][_0x354fdc(0x77d)]['substring'](0x0,_0x1af0a7)[_0x354fdc(0x2ee)](),_0x50ea2b=_0x38fb17[_0x354fdc(0x2b1)]['text'][_0x354fdc(0x2c7)](_0x1af0a7+0x1)):_0x50ea2b=_0x38fb17['menuMessage'][_0x354fdc(0x77d)];let _0x24516a=_0x38fb17['menuMessage'][_0x354fdc(0x195)][_0x354fdc(0x433)](_0x4be2a8=>_0x4be2a8[_0x354fdc(0x2ee)]()!==''),_0x12bd3b=this[_0x354fdc(0x486)](_0x24516a);_0x11cb6e={'listMessage':{'title':_0x5b94ea,'description':_0x50ea2b,'buttonText':_0x38fb17['menuMessage']['buttonText']||'Selecione','footerText':_0x38fb17[_0x354fdc(0x2b1)][_0x354fdc(0x545)],'sections':_0x12bd3b,'listType':0x2}};}else{if(_0x38fb17['menuMessage'][_0x354fdc(0x73a)]==='poll'){let _0x18a638=_0x38fb17['menuMessage'][_0x354fdc(0x195)]['filter'](_0x4763cc=>!(_0x4763cc[_0x354fdc(0x725)]('[')&&_0x4763cc['endsWith'](']'))&&_0x4763cc[_0x354fdc(0x2ee)]()!=='')['map'](_0xe5be1=>_0xe5be1[_0x354fdc(0x4c0)]('\x0a')[0x0]);_0x11cb6e={'poll':{'name':_0x38fb17[_0x354fdc(0x2b1)][_0x354fdc(0x77d)],'selectableCount':_0x38fb17['menuMessage'][_0x354fdc(0x727)]||0x1,'values':_0x18a638}};}}return await this['sendMessageWithTyping'](_0x38fb17[_0x354fdc(0x192)],_0x11cb6e,_0x38fb17?.['options']);}['createSectionsFromValues'](_0x2036ac){const _0x3298a4=a0_0x1ec3bd;let _0x52f7b6=[],_0x492bf7={'rows':[]};return _0x2036ac[_0x3298a4(0x730)](_0x228d2c=>{const _0x39bc11=_0x3298a4;if(_0x228d2c[_0x39bc11(0x725)]('[')&&_0x228d2c['endsWith'](']'))_0x492bf7[_0x39bc11(0x502)][_0x39bc11(0x2a9)]>0x0&&_0x52f7b6[_0x39bc11(0x3f7)](_0x492bf7),_0x492bf7={'title':_0x228d2c[_0x39bc11(0x58a)](0x1,-0x1),'rows':[]};else{let _0x7bba7b=_0x228d2c[_0x39bc11(0x4c0)]('\x0a')['map'](_0x2796f3=>_0x2796f3[_0x39bc11(0x2ee)]()),_0x5624f2=_0x7bba7b[0x0],_0x157546=_0x7bba7b[0x1]||null,_0x4d8a76=_0x7bba7b[0x2]||_0x5624f2;_0x492bf7[_0x39bc11(0x502)]['push']({'title':_0x5624f2,'description':_0x157546,'rowId':_0x4d8a76});}}),_0x492bf7['rows'][_0x3298a4(0x2a9)]>0x0&&_0x52f7b6[_0x3298a4(0x3f7)](_0x492bf7),_0x52f7b6;}async['updateMessage'](_0x1fa7d5,_0x7f3c70){const _0x40a4f5=a0_0x1ec3bd;if(await this[_0x40a4f5(0x44a)](_0x1fa7d5,!0x0)){let _0x538ff6={'where':{'_id':_0x1fa7d5['id']}},_0x56ba09={'status':[_0x7f3c70[_0x40a4f5(0x4ff)]][0x0]};try{let _0x19f70b=await this[_0x40a4f5(0xbe)][_0x40a4f5(0x61f)][_0x40a4f5(0x77c)](_0x538ff6,_0x56ba09,this[_0x40a4f5(0x68c)]['wuid']);_0x19f70b&&U(this[_0x40a4f5(0x147)],_0x40a4f5(0x629),{'message':_0x19f70b});}catch{}}}[a0_0x1ec3bd(0x55f)](_0x35509c){const _0x42c13c=a0_0x1ec3bd;let _0x62a959=[];return _0x35509c[_0x42c13c(0x730)](_0x26547b=>{const _0x5b3aa7=_0x42c13c;_0x26547b[_0x5b3aa7(0x3e8)]&&_0x62a959[_0x5b3aa7(0x3f7)]('['+_0x26547b[_0x5b3aa7(0x3e8)]+']'),_0x26547b[_0x5b3aa7(0x502)][_0x5b3aa7(0x730)](_0x3db411=>{const _0x3dbabc=_0x5b3aa7;_0x62a959[_0x3dbabc(0x3f7)](_0x3db411[_0x3dbabc(0x3e8)]);});}),_0x62a959[_0x42c13c(0x693)]('|');}[a0_0x1ec3bd(0xfd)](_0x5699c9){const _0x2f7876=a0_0x1ec3bd;let _0x42e636=_0x5699c9[_0x2f7876(0x2b2)](/\\n/g,'\x0a')[_0x2f7876(0x4c0)]('\x0a')[_0x2f7876(0x433)](_0x96a6e0=>_0x96a6e0[_0x2f7876(0x39c)](_0x2f7876(0x512))||_0x96a6e0[_0x2f7876(0x39c)]('EMAIL')),_0x448c17='';return _0x42e636['forEach'](_0x42cdfc=>{const _0x1e5565=_0x2f7876;let _0x1a347d=/TEL(?:.*):(.+)/,_0x52489a=/EMAIL(?:.*):(.+)/,_0x275039=_0x42cdfc['match'](_0x1a347d),_0x10c1e5=_0x42cdfc[_0x1e5565(0x5bc)](_0x52489a);if(_0x275039){let _0x3c0137=_0x275039[0x1][_0x1e5565(0x2b2)](/-| |\+|\(|\)/g,'')['trim']();_0x448c17+=_0x1e5565(0xb3)+_0x3c0137+'\x0a';}else{if(_0x10c1e5){let _0x2e3b4b=_0x10c1e5[0x1][_0x1e5565(0x2ee)]();_0x448c17+=_0x1e5565(0x5a8)+_0x2e3b4b+'\x0a';}}}),_0x448c17['trim']();}async[a0_0x1ec3bd(0x251)](_0x525db2,_0x10117d,_0x42bda9,_0x106dbd=null){const _0x4e54aa=a0_0x1ec3bd;if(_0x525db2['ENABLED'])try{let _0x141c8e=_0x10117d[_0x4e54aa(0x4dd)][_0x4e54aa(0x47e)][_0x4e54aa(0x2b2)](/:\d{1,2}@/g,'@'),_0x5a0697=_0x10117d[_0x4e54aa(0x4dd)][_0x4e54aa(0x3e2)],_0x103f6f=_0x141c8e['endsWith'](_0x4e54aa(0x710)),_0x5d5d5e=_0x10117d[_0x4e54aa(0x153)]?.[_0x4e54aa(0x2b2)](/:\d{1,2}@/g,'@')||'',_0x47855d=_0x10117d['message_normalized']?.[_0x4e54aa(0x77d)]||_0x10117d[_0x4e54aa(0x7ba)]?.[_0x4e54aa(0x45d)]||_0x10117d[_0x4e54aa(0x7ba)]?.[_0x4e54aa(0x19d)]||_0x10117d[_0x4e54aa(0x7ba)]?.[_0x4e54aa(0x6fa)]||'',_0x3b4588={'_id':_0x10117d[_0x4e54aa(0x16c)],'remoteJid':_0x5a0697?this['instance'][_0x4e54aa(0x61a)]:_0x103f6f?_0x5d5d5e:_0x141c8e,'pushName':_0x5a0697?this[_0x4e54aa(0x68c)][_0x4e54aa(0x5a5)]||'Eu':_0x10117d[_0x4e54aa(0x89)],'text':_0x47855d,'type':_0x10117d['messageType'],'when':_0x10117d[_0x4e54aa(0x570)]||Date[_0x4e54aa(0x450)]()};_0x106dbd||(_0x106dbd=await this[_0x4e54aa(0xbe)]['chat']['findOne']({'where':{'_id':_0x141c8e}},this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]));let _0x83e403=_0x106dbd?_0x5a0697?_0x106dbd[_0x4e54aa(0x3ce)]:(_0x106dbd[_0x4e54aa(0x3ce)]||0x0)+0x1:_0x5a0697?0x0:0x1,_0xb7383e={'lastmsg':_0x10117d[_0x4e54aa(0x570)]||Date['now'](),'ephemeralExpiration':_0x10117d['expiration'],'lastMessage':_0x3b4588,'unreadcount':_0x83e403,..._0x5a0697||_0x103f6f?{}:{'name':_0x10117d[_0x4e54aa(0x89)]},..._0x103f6f?{'group':_0x103f6f}:{},...!_0x5a0697&&!_0x103f6f&&_0x10117d['profilePictureUrl']?{'imagechat':_0x10117d[_0x4e54aa(0x54b)]}:{}};if(!_0x103f6f&&(!_0x106dbd?.['leadInfo']||!_0x106dbd[_0x4e54aa(0x72f)]['nome'])&&_0x10117d[_0x4e54aa(0x89)]&&!_0x5a0697&&(_0xb7383e={..._0xb7383e,'leadInfo.nome':_0x10117d[_0x4e54aa(0x89)]}),_0x106dbd?.[_0x4e54aa(0x72f)][_0x4e54aa(0x6ca)]||(_0xb7383e={..._0xb7383e,'leadInfo.etiquetas':[]}),_0x106dbd?.['leadInfo'][_0x4e54aa(0x2c2)]||(_0xb7383e={..._0xb7383e,'leadInfo.customFields':[]}),_0x106dbd?.[_0x4e54aa(0x72f)]['tags']||(_0xb7383e={..._0xb7383e,'leadInfo.tags':[]}),_0x106dbd&&_0x106dbd?.[_0x4e54aa(0x7a7)]){let _0x398137=await this['repository'][_0x4e54aa(0x5c0)][_0x4e54aa(0x435)]({'where':{}},this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]),_0x16b002=new Set(_0x398137[_0x4e54aa(0x6ef)](_0x2037db=>_0x2037db['_id'])),_0x1b7e86=(_0x106dbd[_0x4e54aa(0x72f)]?.['etiquetas']||[])[_0x4e54aa(0x433)](_0x4e7aeb=>_0x16b002[_0x4e54aa(0x5a1)](_0x4e7aeb));_0xb7383e={..._0xb7383e,'imported':!0x1,'leadInfo.etiquetas':_0x1b7e86};for(let _0x4b3141 of _0x1b7e86)await this[_0x4e54aa(0x4ab)](_0x4b3141,_0x141c8e);}if(!this[_0x4e54aa(0x1d3)][_0x4e54aa(0x30c)][_0x4e54aa(0x435)](_0x2448c8=>_0x2448c8[_0x4e54aa(0x1c2)]&&_0x47855d[_0x4e54aa(0x39c)](_0x2448c8['startCommand']))&&_0x42bda9===_0x4e54aa(0x67a)&&_0x5a0697&&this[_0x4e54aa(0x1d3)]?.['flowConfig'][_0x4e54aa(0x39f)]&&_0x47855d[_0x4e54aa(0x2ee)]()!==this[_0x4e54aa(0x1d3)]?.[_0x4e54aa(0x11f)][_0x4e54aa(0xdc)][_0x4e54aa(0x2ee)]()){let _0x386409=(this['AutomateSystem']?.[_0x4e54aa(0x11f)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x16edc5=Date[_0x4e54aa(0x450)]()+_0x386409;_0x106dbd?.[_0x4e54aa(0x72f)]?.[_0x4e54aa(0x26f)]===0x0||(_0xb7383e={..._0xb7383e,'leadInfo.desativadoFluxoAte':_0x16edc5},this['logger'][_0x4e54aa(0x7ac)](this[_0x4e54aa(0x147)]+'\x20('+this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]+_0x4e54aa(0x494)+_0x16edc5+'.'));}if(_0x47855d[_0x4e54aa(0x2ee)]()===this[_0x4e54aa(0x1d3)]?.[_0x4e54aa(0x11f)][_0x4e54aa(0xdc)][_0x4e54aa(0x2ee)]()){this[_0x4e54aa(0x7b7)][_0x4e54aa(0x7ac)](this[_0x4e54aa(0x147)]+'\x20('+this[_0x4e54aa(0x68c)]['wuid']+_0x4e54aa(0x640)+_0x47855d);let _0x2129cc=Date[_0x4e54aa(0x450)]();this['AutomateSystem']?.[_0x4e54aa(0x11f)][_0x4e54aa(0x318)]===0x0?_0xb7383e={..._0xb7383e,'leadInfo.desativadoFluxoAte':_0x2129cc+0x7591f6200}:_0xb7383e={..._0xb7383e,'leadInfo.desativadoFluxoAte':_0x2129cc+this['AutomateSystem']?.['flowConfig'][_0x4e54aa(0x318)]*0x3c*0x3e8};}if(_0x106dbd=await this[_0x4e54aa(0xbe)][_0x4e54aa(0x7bf)][_0x4e54aa(0x2f9)]({'where':{'_id':_0x141c8e}},_0xb7383e,this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)],{'new':!0x0,'upsert':!0x0}),_0x106dbd)U(this[_0x4e54aa(0x147)],_0x4e54aa(0xcf),{'chat':_0x106dbd});else{this[_0x4e54aa(0x7b7)][_0x4e54aa(0x4e6)](this[_0x4e54aa(0x147)]+'\x20('+this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]+_0x4e54aa(0x217));return;}if(_0x5a0697)return this[_0x4e54aa(0x7b7)][_0x4e54aa(0x7ac)](this[_0x4e54aa(0x147)]+'\x20('+this['instance'][_0x4e54aa(0x61a)]+_0x4e54aa(0x7b2)),null;if(!this[_0x4e54aa(0x1d3)]?.[_0x4e54aa(0x11f)][_0x4e54aa(0x39f)])return this[_0x4e54aa(0x7b7)]['verbose'](this['instanceName']+'\x20('+this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]+_0x4e54aa(0x226)),null;if(_0x106dbd[_0x4e54aa(0x16c)][_0x4e54aa(0x39c)](_0x4e54aa(0x710))&&this[_0x4e54aa(0x1d3)]?.[_0x4e54aa(0x11f)][_0x4e54aa(0x34c)]===!0x0)return this['logger'][_0x4e54aa(0x7ac)](this['instanceName']+'\x20('+this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]+_0x4e54aa(0x3ef)),null;if(_0x106dbd[_0x4e54aa(0x72f)]){if(_0x106dbd[_0x4e54aa(0x72f)][_0x4e54aa(0x26f)]===0x0||_0x106dbd[_0x4e54aa(0x72f)][_0x4e54aa(0x17d)])return this[_0x4e54aa(0x7b7)]['verbose'](this[_0x4e54aa(0x147)]+'\x20('+this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]+_0x4e54aa(0x24d)+_0x141c8e+_0x4e54aa(0x678)),null;if(_0x106dbd[_0x4e54aa(0x72f)][_0x4e54aa(0x26f)]>Date[_0x4e54aa(0x450)]()&&!_0x10117d[_0x4e54aa(0x7ba)]?.['vote'])return this[_0x4e54aa(0x7b7)][_0x4e54aa(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0x4e54aa(0x61a)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x106dbd[_0x4e54aa(0x72f)][_0x4e54aa(0x26f)])['toLocaleString']()+_0x4e54aa(0x678)),null;}this[_0x4e54aa(0x7b7)][_0x4e54aa(0x7ac)](this[_0x4e54aa(0x147)]+'\x20('+this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]+_0x4e54aa(0x21b)),this[_0x4e54aa(0xfc)](_0x10117d,_0x42bda9);}catch(_0x20bedc){let _0x45ef3d=_0x4e54aa(0x4fa),_0x552bd0=_0x20bedc instanceof Error?_0x20bedc[_0x4e54aa(0x61f)]:typeof _0x20bedc=='object'?JSON[_0x4e54aa(0x5b9)](_0x20bedc):_0x20bedc,_0x4ff45c=_0x45ef3d+':\x20'+_0x552bd0;return this[_0x4e54aa(0x7b7)][_0x4e54aa(0x4e6)](this[_0x4e54aa(0x147)]+'\x20('+this[_0x4e54aa(0x68c)][_0x4e54aa(0x61a)]+_0x4e54aa(0x4e1)+_0x4ff45c),null;}}async[a0_0x1ec3bd(0x10c)](_0x52ebd0,_0x134581){const _0x46b1bb=a0_0x1ec3bd;if(_0x134581[_0x46b1bb(0x520)]){let _0x26b31f=_0x52ebd0['map'](async _0x21c33b=>{const _0x59439a=_0x46b1bb;try{let _0x1fdab7={'_id':_0x21c33b[_0x59439a(0x16c)],'owner':_0x21c33b['owner'],'lastcache':0x0};if(Object[_0x59439a(0x196)](_0x21c33b)[_0x59439a(0x730)](_0x56c191=>{_0x21c33b[_0x56c191]!==null&&(_0x1fdab7[_0x56c191]=_0x21c33b[_0x56c191]);}),_0x1fdab7['imagechat']===null&&(_0x1fdab7[_0x59439a(0x547)]=_0x59439a(0x1d8)),Object[_0x59439a(0x196)](_0x1fdab7)[_0x59439a(0x2a9)]>0x0)return await this[_0x59439a(0xbe)][_0x59439a(0x7bf)][_0x59439a(0x2f9)]({'where':{'_id':_0x21c33b[_0x59439a(0x16c)]}},_0x1fdab7,this['instance'][_0x59439a(0x61a)]);}catch(_0x5e6f20){let _0xd8e198='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x21c33b['_id'],_0x2daae3=_0x5e6f20 instanceof Error?_0x5e6f20[_0x59439a(0x61f)]:typeof _0x5e6f20==_0x59439a(0x2c3)?JSON['stringify'](_0x5e6f20):_0x5e6f20,_0x3de8e8=_0xd8e198+':\x20'+_0x2daae3;return this[_0x59439a(0x7b7)][_0x59439a(0x4e6)](this[_0x59439a(0x147)]+'\x20('+this[_0x59439a(0x68c)][_0x59439a(0x61a)]+_0x59439a(0x4e1)+_0x3de8e8),null;}}),_0x1dca10=(await Promise[_0x46b1bb(0x42f)](_0x26b31f))[_0x46b1bb(0x433)](_0x3b3a26=>_0x3b3a26!==null)[_0x46b1bb(0x2a9)];this[_0x46b1bb(0x7b7)]['verbose'](this[_0x46b1bb(0x147)]+'\x20('+this[_0x46b1bb(0x68c)][_0x46b1bb(0x61a)]+_0x46b1bb(0x4e1)+_0x1dca10+_0x46b1bb(0x780)+this[_0x46b1bb(0x68c)]['wuid']+_0x46b1bb(0x558));}}async[a0_0x1ec3bd(0x2e7)](_0x461d20){const _0x125c0b=a0_0x1ec3bd;this[_0x125c0b(0x7b7)][_0x125c0b(0x7ac)](this[_0x125c0b(0x147)]+'\x20('+this[_0x125c0b(0x68c)]['wuid']+_0x125c0b(0x160));let _0x5982b3={'readMessages':[{'remoteJid':_0x461d20['chatLog'][_0x125c0b(0x3d7)][_0x125c0b(0x4dd)][_0x125c0b(0x47e)],'fromMe':_0x461d20[_0x125c0b(0x1a8)]['lastReceivedMessage'][_0x125c0b(0x4dd)][_0x125c0b(0x3e2)],'id':_0x461d20['chatLog'][_0x125c0b(0x3d7)][_0x125c0b(0x4dd)]['id']}]};await this[_0x125c0b(0x15c)](_0x5982b3);}async[a0_0x1ec3bd(0xfc)](_0x29b7ed,_0x243523){const _0x19cf83=a0_0x1ec3bd;try{let {key:_0x702790,message_normalized:_0xb46d19}=_0x29b7ed,_0x18f82f=_0xb46d19,_0x251be7=_0xb46d19[_0x19cf83(0x77d)]||_0xb46d19[_0x19cf83(0x45d)]||_0xb46d19[_0x19cf83(0x19d)]||_0xb46d19[_0x19cf83(0x6fa)]||'',_0x1f8aef=_0x702790['remoteJid'],_0x30abc2=null,_0x352e8f=this['AutomateSystem'][_0x19cf83(0x30c)][_0x19cf83(0x435)](_0x5734b2=>_0x5734b2[_0x19cf83(0x1c2)]&&_0x251be7[_0x19cf83(0x39c)](_0x5734b2['startCommand']));if(_0x352e8f&&_0x243523===_0x19cf83(0x67a)){let _0x2d9ea7=await this[_0x19cf83(0xbe)][_0x19cf83(0x5a4)][_0x19cf83(0x2f1)]({'where':{'_id':_0x352e8f['_id']}});if(this[_0x19cf83(0x7b7)][_0x19cf83(0x7ac)](this[_0x19cf83(0x147)]+'\x20('+this[_0x19cf83(0x68c)][_0x19cf83(0x61a)]+_0x19cf83(0x6e6)),_0x2d9ea7&&_0x2d9ea7['whoCanUse']?.[_0x19cf83(0x39c)](this[_0x19cf83(0x68c)][_0x19cf83(0x61a)]))_0x30abc2=await this[_0x19cf83(0x464)](_0x2d9ea7,_0x702790,_0x18f82f);else return this[_0x19cf83(0x7b7)][_0x19cf83(0x7ac)](this['instanceName']+'\x20('+this[_0x19cf83(0x68c)][_0x19cf83(0x61a)]+_0x19cf83(0x672)),null;}else this[_0x19cf83(0x7b7)][_0x19cf83(0x7ac)](this[_0x19cf83(0x147)]+'\x20('+this[_0x19cf83(0x68c)][_0x19cf83(0x61a)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x30abc2=await this[_0x19cf83(0x37e)](_0x1f8aef,_0x18f82f),_0x30abc2){this[_0x19cf83(0x7b7)]['verbose'](this[_0x19cf83(0x147)]+'\x20('+this[_0x19cf83(0x68c)]['wuid']+_0x19cf83(0x497)),!_0x702790[_0x19cf83(0x3e2)]&&_0x30abc2[_0x19cf83(0x66f)]&&this['readMessageBot'](_0x30abc2);let _0x5557de=await this[_0x19cf83(0x5aa)](_0x30abc2);_0x5557de&&await this[_0x19cf83(0x561)](_0x30abc2,_0x5557de);}}catch(_0x301529){this[_0x19cf83(0x7b7)][_0x19cf83(0x4e6)](this[_0x19cf83(0x147)]+'\x20('+this['instance'][_0x19cf83(0x61a)]+_0x19cf83(0x189)+(_0x301529 instanceof Error?_0x301529[_0x19cf83(0x61f)]:JSON[_0x19cf83(0x5b9)](_0x301529,null,0x2)));}}['flattenObject'](_0xdbc464,_0xab6846='',_0x26e07d={}){const _0x44dc3a=a0_0x1ec3bd;return typeof _0xdbc464!='object'||_0xdbc464===null?(_0xab6846&&(_0x26e07d[_0xab6846]=_0xdbc464),_0x26e07d):(Object['entries'](_0xdbc464)[_0x44dc3a(0x730)](([_0x44d17c,_0x16d926])=>{const _0x4f8a27=_0x44dc3a;let _0x468ac8=_0xab6846?_0xab6846+'.'+_0x44d17c:'_'+_0x44d17c;Array[_0x4f8a27(0x64a)](_0x16d926)?_0x16d926['forEach']((_0x253d1c,_0x240295)=>{const _0x40bb6c=_0x4f8a27;this[_0x40bb6c(0x2c4)](_0x253d1c,_0x468ac8+'['+_0x240295+']',_0x26e07d);}):typeof _0x16d926==_0x4f8a27(0x2c3)&&_0x16d926!==null?this[_0x4f8a27(0x2c4)](_0x16d926,_0x468ac8,_0x26e07d):_0x26e07d[_0x468ac8]=String(_0x16d926);}),_0x26e07d);}['variablesToObject'](_0xb459c7){const _0xa166cd=a0_0x1ec3bd;let _0x1f0160={};for(let _0x5dbfb9 of _0xb459c7)typeof _0x5dbfb9[_0xa166cd(0x6fa)]==_0xa166cd(0x716)&&typeof _0x5dbfb9[_0xa166cd(0x571)]==_0xa166cd(0x716)&&(_0x1f0160[_0x5dbfb9[_0xa166cd(0x6fa)]]=_0x5dbfb9['value']);return _0x1f0160;}async[a0_0x1ec3bd(0x5aa)](_0x229eb7){const _0x550fcb=a0_0x1ec3bd;if(!this[_0x550fcb(0x1d3)]?.['flowConfig'][_0x550fcb(0x39f)]||_0x229eb7[_0x550fcb(0x4ff)]!=='open'&&_0x229eb7[_0x550fcb(0x32e)]==='')return null;let _0x19d004=_0x229eb7[_0x550fcb(0x1a8)]['lastBlockId']||_0x550fcb(0x6a4);typeof _0x229eb7[_0x550fcb(0x1a8)]['lastCondition']>'u'&&(_0x229eb7[_0x550fcb(0x1a8)][_0x550fcb(0xec)]=!0x0);let _0x291d4a=_0x229eb7[_0x550fcb(0x1a8)]['lastCondition'];this['logger'][_0x550fcb(0x7ac)](this[_0x550fcb(0x147)]+'\x20('+this[_0x550fcb(0x68c)]['wuid']+_0x550fcb(0x5b0)+_0x19d004+_0x550fcb(0xd8)+_0x291d4a);let _0x140160=_0x19d004==='start'?_0x229eb7[_0x550fcb(0xc0)]['find'](_0x21cbe9=>_0x21cbe9['type']===_0x550fcb(0x6a4)):_0x229eb7['blocks'][_0x550fcb(0x435)](_0x525897=>_0x525897[_0x550fcb(0x16c)][_0x550fcb(0x51d)]()===_0x19d004[_0x550fcb(0x51d)]());if(!_0x140160)return this['logger'][_0x550fcb(0x4e6)](this[_0x550fcb(0x147)]+'\x20('+this[_0x550fcb(0x68c)][_0x550fcb(0x61a)]+_0x550fcb(0x3fe)+_0x19d004),null;let _0x10fa42={'_pushName':_0x229eb7?.[_0x550fcb(0x1a8)]?.[_0x550fcb(0x3d7)]?.[_0x550fcb(0x89)]||'','_sender':this[_0x550fcb(0x68c)]['wuid']||'',..._0x229eb7['chatLog'][_0x550fcb(0x327)]},_0x468035=null;if(_0x229eb7['waitingMenu_id']){let _0x5d8533=_0x229eb7[_0x550fcb(0x1a8)][_0x550fcb(0x3d7)]['vote'],_0x9283cf=_0x229eb7[_0x550fcb(0x6f6)][_0x550fcb(0x435)](_0x2fb3e4=>_0x2fb3e4[_0x550fcb(0x307)]===_0x5d8533);if(_0x9283cf){let _0x52bb3b=_0x9283cf[_0x550fcb(0x228)];if(_0x468035=_0x229eb7[_0x550fcb(0xc0)][_0x550fcb(0x435)](_0x8a10b7=>_0x8a10b7['groupId']===_0x52bb3b&&_0x8a10b7[_0x550fcb(0x6da)]===0x1),_0x140160['uazapi'][_0x550fcb(0x67e)]){let _0x38adc0={'id':_0x229eb7[_0x550fcb(0x32e)],'remoteJid':_0x229eb7['remoteJid'],'fromMe':!0x0};await this[_0x550fcb(0x104)](_0x38adc0);}if(_0x140160[_0x550fcb(0x304)][_0x550fcb(0x67e)]&&_0x140160[_0x550fcb(0x304)][_0x550fcb(0x158)]&&_0x140160['uazapi'][_0x550fcb(0x339)]===_0x550fcb(0x4ee)){let _0x2bd2d6={'number':_0x229eb7[_0x550fcb(0x47e)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x229eb7[_0x550fcb(0x65d)]+'\x0a*Você\x20respondeu*:\x0a'+_0x5d8533}};await this['textMessage'](_0x2bd2d6);}_0x229eb7['status']=_0x550fcb(0x6e9),_0x229eb7[_0x550fcb(0x32e)]='',_0x229eb7['waitingMenu_text']='',_0x229eb7['waitingMenu_replyOptions']=[];}else{this[_0x550fcb(0x7b7)]['verbose'](this[_0x550fcb(0x147)]+'\x20('+this[_0x550fcb(0x68c)][_0x550fcb(0x61a)]+_0x550fcb(0xe0));let _0x55008e={'activatedCount':_0x229eb7['chatLog'][_0x550fcb(0x2f2)]['filter'](_0x275a49=>String(_0x275a49[_0x550fcb(0x1fe)])===String(_0x19d004))['length'],'moreLogs':[_0x550fcb(0x34b)]};if(_0x140160[_0x550fcb(0x304)][_0x550fcb(0x120)]){let _0x5d92b5={'number':_0x229eb7['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x140160[_0x550fcb(0x304)][_0x550fcb(0x120)]}};await this[_0x550fcb(0x3d6)](_0x5d92b5);}if(_0x140160['maxActives']!==void 0x0&&_0x55008e[_0x550fcb(0x188)]>=_0x140160[_0x550fcb(0x75c)]){let _0x240245=Date['now'](),_0x3d82ab=_0x140160[_0x550fcb(0x366)]??0xa;isNaN(_0x3d82ab)&&(_0x3d82ab=0xa);let _0x371e27=_0x240245+_0x3d82ab*0x3c*0x3e8;_0x55008e['newStoppedUntil']=_0x371e27,_0x55008e[_0x550fcb(0x789)][_0x550fcb(0x3f7)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x229eb7,_0x371e27),_0x229eb7['waitingMenu_id']='',_0x229eb7['waitingMenu_text']='',_0x229eb7[_0x550fcb(0x6f6)]=[];}return this['updateConversation'](_0x229eb7,_0x140160,_0x55008e,!0x0),null;}}if(_0x291d4a&&_0x140160[_0x550fcb(0x228)]&&!_0x229eb7['waitingMenu_id']){let _0x27d1f0=_0x229eb7['blocks'][_0x550fcb(0x433)](_0xb9f327=>_0xb9f327[_0x550fcb(0x17e)][_0x550fcb(0x51d)]()===_0x140160[_0x550fcb(0x228)]['toString']())[_0x550fcb(0x3ba)]((_0x467d26,_0x405a5d)=>_0x467d26[_0x550fcb(0x6da)]-_0x405a5d[_0x550fcb(0x6da)]);_0x27d1f0['length']>0x0&&(_0x468035=_0x27d1f0[0x0]);}if(!_0x468035){let _0x44fe2a=_0x140160[_0x550fcb(0x17e)],_0x843d3d=_0x229eb7['blocks'][_0x550fcb(0x433)](_0x189556=>_0x189556[_0x550fcb(0x17e)]===_0x44fe2a&&_0x189556[_0x550fcb(0x6da)]>_0x140160['order'])[_0x550fcb(0x3ba)]((_0x5482f6,_0x570392)=>_0x5482f6[_0x550fcb(0x6da)]-_0x570392[_0x550fcb(0x6da)]);_0x843d3d[_0x550fcb(0x2a9)]>0x0&&(_0x468035=_0x843d3d[0x0]);}if(!_0x468035)return _0x229eb7[_0x550fcb(0x4ff)]=_0x550fcb(0x5d3),null;_0x229eb7['chatLog'][_0x550fcb(0x327)]=_0x10fa42;let _0x11bbaf=JSON[_0x550fcb(0x30d)](JSON[_0x550fcb(0x5b9)](_0x468035));return this[_0x550fcb(0x6d7)](_0x11bbaf,_0x229eb7['chatLog'][_0x550fcb(0x327)]),_0x229eb7[_0x550fcb(0x1a8)][_0x550fcb(0x5a6)]=_0x11bbaf[_0x550fcb(0x16c)],_0x229eb7[_0x550fcb(0x1a8)]['lastCondition']=!0x0,_0x11bbaf;}[a0_0x1ec3bd(0x29b)](_0x2ee781,_0x1ed514){const _0x6ca97f=a0_0x1ec3bd;return _0x2ee781[_0x6ca97f(0x2b2)](/\{\{([^}]+)\}\}/g,(_0x5999c1,_0x25f5dd)=>_0x1ed514[_0x25f5dd]||'');}[a0_0x1ec3bd(0x6d7)](_0x2b6b18,_0x53d52b){const _0x3aa0ec=a0_0x1ec3bd;for(let _0x5b7e92 in _0x2b6b18)typeof _0x2b6b18[_0x5b7e92]=='string'?_0x2b6b18[_0x5b7e92]=this[_0x3aa0ec(0x29b)](_0x2b6b18[_0x5b7e92],_0x53d52b):typeof _0x2b6b18[_0x5b7e92]==_0x3aa0ec(0x2c3)&&this[_0x3aa0ec(0x6d7)](_0x2b6b18[_0x5b7e92],_0x53d52b);}async['goNextblock'](_0x39d910,_0x4d024f){const _0x5be066=a0_0x1ec3bd;let _0x202739=_0x4d024f[_0x5be066(0x16c)];if(_0x39d910[_0x5be066(0x1a8)]&&_0x39d910[_0x5be066(0x1a8)][_0x5be066(0x2f2)]){let _0x3cd4d8=_0x39d910['chatLog'][_0x5be066(0x2f2)][_0x5be066(0x433)](_0x4c8a63=>String(_0x4c8a63[_0x5be066(0x1fe)])===String(_0x202739))[_0x5be066(0x632)]();if(_0x3cd4d8&&_0x3cd4d8[_0x5be066(0x4e6)]&&_0x4d024f[_0x5be066(0xa7)])return _0x39d910[_0x5be066(0x4ff)]=_0x5be066(0x5d3),await this[_0x5be066(0x3b1)](_0x39d910),null;}if(_0x4d024f['type']===_0x5be066(0x304)&&_0x4d024f[_0x5be066(0x304)][_0x5be066(0xa9)]===_0x5be066(0x356)&&_0x39d910[_0x5be066(0x32e)])return _0x39d910[_0x5be066(0x1a8)][_0x5be066(0x5a6)]=_0x202739,await this[_0x5be066(0x3b1)](_0x39d910),null;let _0x1b6d0a=await this[_0x5be066(0x5aa)](_0x39d910);if(_0x39d910['chatLog']&&_0x39d910[_0x5be066(0x1a8)][_0x5be066(0x2f2)]){let _0x2bfcba=_0x39d910['chatLog'][_0x5be066(0x2f2)]['filter'](_0x41cfeb=>String(_0x41cfeb[_0x5be066(0x1fe)])===String(_0x202739))[_0x5be066(0x2a9)];if(_0x4d024f[_0x5be066(0x75c)]!==void 0x0&&_0x2bfcba>=_0x4d024f[_0x5be066(0x75c)]){let _0x412f70=Date[_0x5be066(0x450)](),_0x3e474d=_0x4d024f[_0x5be066(0x366)]??0xa;isNaN(_0x3e474d)&&(_0x3e474d=0xa);let _0x21f226=_0x412f70+_0x3e474d*0x3c*0x3e8,_0x45bbc1={'newStoppedUntil':_0x21f226};return this[_0x5be066(0x3b5)](_0x39d910,_0x21f226),this[_0x5be066(0x6c1)](_0x39d910,_0x4d024f,_0x45bbc1,!0x0),null;}}_0x1b6d0a&&_0x1b6d0a['type']!=='save'&&await this[_0x5be066(0x561)](_0x39d910,_0x1b6d0a),_0x1b6d0a||await this[_0x5be066(0x3b1)](_0x39d910),_0x1b6d0a&&_0x1b6d0a['type']==='save'&&(_0x39d910[_0x5be066(0x1a8)][_0x5be066(0x5a6)]=_0x202739,await this[_0x5be066(0x3b1)](_0x39d910));}async[a0_0x1ec3bd(0x561)](_0x37d024,_0x4c26c8){const _0x46a952=a0_0x1ec3bd;try{let _0x59ebbf=_0x4c26c8[_0x46a952(0x73a)];this[_0x46a952(0x7b7)][_0x46a952(0x7ac)](this['instanceName']+'\x20('+this[_0x46a952(0x68c)]['wuid']+_0x46a952(0x23e)+_0x59ebbf);let _0x2cf146={'uazapi':()=>this['processUazapi'](_0x37d024,_0x4c26c8),'save':()=>this[_0x46a952(0x15d)](_0x37d024,_0x4c26c8),'stop':()=>this[_0x46a952(0xdc)](_0x37d024,_0x4c26c8),'condition':()=>this[_0x46a952(0x2fb)](_0x37d024,_0x4c26c8),'varedit':()=>this[_0x46a952(0x7a1)](_0x37d024,_0x4c26c8),'apirequest':()=>this['processApiRequest'](_0x37d024,_0x4c26c8),'goToFlow':()=>this[_0x46a952(0x260)](_0x37d024,_0x4c26c8),'scheduleFlow':()=>this['processScheduleFlow'](_0x37d024,_0x4c26c8),'awaitSeconds':()=>this['processawaitSeconds'](_0x37d024,_0x4c26c8),'clearVariables':()=>this[_0x46a952(0x6e2)](_0x37d024,_0x4c26c8)}[_0x59ebbf];_0x2cf146&&await _0x2cf146();}catch(_0x1990d6){this[_0x46a952(0x7b7)][_0x46a952(0x4e6)](this[_0x46a952(0x147)]+'\x20('+this[_0x46a952(0x68c)]['wuid']+_0x46a952(0x5e6)+(_0x1990d6 instanceof Error?_0x1990d6[_0x46a952(0x61f)]:JSON['stringify'](_0x1990d6,null,0x2)));}}async[a0_0x1ec3bd(0x71c)](_0x27f34c,_0xb795d3){const _0x199ea4=a0_0x1ec3bd;if(this[_0x199ea4(0x7b7)][_0x199ea4(0x7ac)](this[_0x199ea4(0x147)]+'\x20('+this[_0x199ea4(0x68c)][_0x199ea4(0x61a)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x27f34c||!_0xb795d3)return this[_0x199ea4(0x7b7)][_0x199ea4(0x4e6)](this[_0x199ea4(0x147)]+'\x20('+this['instance'][_0x199ea4(0x61a)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x42906a=+_0xb795d3['awaitSeconds'];isNaN(_0x42906a)&&(_0x42906a=0x0),_0x42906a=Math[_0x199ea4(0x503)](_0x42906a,0x3c),await(0x0,w[_0x199ea4(0x5fa)])(_0x42906a*0x3e8);let _0x514837={'moreLogs':[_0x199ea4(0x223)+_0x42906a+'\x20segundos']};return await this[_0x199ea4(0x6c1)](_0x27f34c,_0xb795d3,_0x514837),_0x42906a;}async[a0_0x1ec3bd(0x6e2)](_0x347f0e,_0x49ddbc){const _0x2652da=a0_0x1ec3bd;if(this[_0x2652da(0x7b7)][_0x2652da(0x7ac)](this[_0x2652da(0x147)]+'\x20('+this['instance']['wuid']+_0x2652da(0x413)),!_0x347f0e||!_0x49ddbc)return this[_0x2652da(0x7b7)][_0x2652da(0x4e6)](this['instanceName']+'\x20('+this[_0x2652da(0x68c)][_0x2652da(0x61a)]+_0x2652da(0x75f)),null;let _0x48f63d=[];if(_0x49ddbc[_0x2652da(0xf9)][_0x2652da(0x2ee)]()===_0x2652da(0x69d)){let _0xceea39=[_0x2652da(0x3c0),_0x2652da(0x114),'_error',_0x2652da(0x49d),'_remoteJid','_id',_0x2652da(0x4ef)];_0x48f63d=Object['keys'](_0x347f0e[_0x2652da(0x1a8)][_0x2652da(0x327)])[_0x2652da(0x433)](_0x574a71=>_0x574a71['startsWith']('_')&&!_0xceea39[_0x2652da(0x39c)](_0x574a71));}else _0x48f63d=_0x49ddbc[_0x2652da(0xf9)][_0x2652da(0x4c0)]('|')[_0x2652da(0x6ef)](_0x22044b=>(_0x22044b=_0x22044b[_0x2652da(0x2b2)](/[{}]/g,'')[_0x2652da(0x2ee)](),_0x22044b[_0x2652da(0x725)]('_')?_0x22044b:'_'+_0x22044b));let _0x160eac=[];_0x48f63d[_0x2652da(0x730)](_0x40a6c2=>{const _0x2fb0d4=_0x2652da;_0x40a6c2 in _0x347f0e[_0x2fb0d4(0x1a8)][_0x2fb0d4(0x327)]&&(delete _0x347f0e[_0x2fb0d4(0x1a8)][_0x2fb0d4(0x327)][_0x40a6c2],_0x160eac[_0x2fb0d4(0x3f7)](_0x40a6c2));}),_0x160eac[_0x2652da(0x2a9)]>0x0?this[_0x2652da(0x7b7)][_0x2652da(0x7ac)](this[_0x2652da(0x147)]+'\x20('+this[_0x2652da(0x68c)][_0x2652da(0x61a)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x160eac[_0x2652da(0x693)](',\x20')):this[_0x2652da(0x7b7)][_0x2652da(0x7ac)](this[_0x2652da(0x147)]+'\x20('+this['instance'][_0x2652da(0x61a)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x47738d={'moreLogs':[_0x2652da(0x35a)+_0x160eac[_0x2652da(0x693)](',\x20')]};return await this[_0x2652da(0x6c1)](_0x347f0e,_0x49ddbc,_0x47738d),null;}async['processScheduleFlow'](_0xf29ad2,_0x3dc1e1){const _0xb9cf08=a0_0x1ec3bd;if(this['logger'][_0xb9cf08(0x7ac)](this[_0xb9cf08(0x147)]+'\x20('+this[_0xb9cf08(0x68c)][_0xb9cf08(0x61a)]+_0xb9cf08(0x605)),!_0xf29ad2||!_0x3dc1e1)return this['logger'][_0xb9cf08(0x4e6)](this[_0xb9cf08(0x147)]+'\x20('+this[_0xb9cf08(0x68c)]['wuid']+_0xb9cf08(0x75f)),null;let _0x1058e9=_0xf29ad2['remoteJid'];_0x3dc1e1[_0xb9cf08(0x164)][_0xb9cf08(0x47e)]&&_0x3dc1e1['scheduleFlow'][_0xb9cf08(0x47e)][_0xb9cf08(0x2ee)]()!==''&&(_0x1058e9=_0x3dc1e1[_0xb9cf08(0x304)]['remoteJid'][_0xb9cf08(0x2ee)]());let _0x4c9237=_0x3dc1e1[_0xb9cf08(0x164)][_0xb9cf08(0x3fa)]*0xea60,_0x4f2add=Date[_0xb9cf08(0x450)]()+_0x4c9237,_0x2d24da={'status':_0xb9cf08(0xd7),'info':_0xb9cf08(0x28d)+_0xf29ad2[_0xb9cf08(0x6fa)],'remoteJids':[_0x1058e9],'when':_0x4f2add,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x3dc1e1[_0xb9cf08(0x164)]['flowName']};this[_0xb9cf08(0x788)](_0x2d24da);let _0x2bbeee=await this[_0xb9cf08(0x5aa)](_0xf29ad2);_0x2bbeee&&await this[_0xb9cf08(0x561)](_0xf29ad2,_0x2bbeee);}async['processgoToFlow'](_0x419cee,_0x3f9dda){const _0x58a1c7=a0_0x1ec3bd;if(this[_0x58a1c7(0x7b7)][_0x58a1c7(0x7ac)](this[_0x58a1c7(0x147)]+'\x20('+this['instance'][_0x58a1c7(0x61a)]+_0x58a1c7(0x5de)),!_0x419cee||!_0x3f9dda)return this[_0x58a1c7(0x7b7)][_0x58a1c7(0x4e6)](this['instanceName']+'\x20('+this[_0x58a1c7(0x68c)][_0x58a1c7(0x61a)]+_0x58a1c7(0x75f)),null;await this[_0x58a1c7(0x6c1)](_0x419cee,_0x3f9dda,{},!0x0,!0x0);let _0x2b1e52=_0x3f9dda[_0x58a1c7(0x5ec)];_0x419cee=await this[_0x58a1c7(0x6d9)](_0x2b1e52,_0x419cee[_0x58a1c7(0x47e)],_0x419cee['chatLog']['realVariables']);let _0x1d0c2a=await this[_0x58a1c7(0x5aa)](_0x419cee);_0x1d0c2a&&await this[_0x58a1c7(0x561)](_0x419cee,_0x1d0c2a);}async['createConversationforgoToFlow'](_0xf2d9df,_0x31c0fb,_0x3c98dc){const _0x36aca5=a0_0x1ec3bd;this[_0x36aca5(0x7b7)][_0x36aca5(0x7ac)](this[_0x36aca5(0x147)]+'\x20('+this['instance'][_0x36aca5(0x61a)]+_0x36aca5(0x79e));try{let _0x2bdfc4=this[_0x36aca5(0x1d3)][_0x36aca5(0x30c)]['find'](_0x1e34ef=>_0x1e34ef['_id']===_0xf2d9df);_0x2bdfc4||this['logger'][_0x36aca5(0x4e6)](this[_0x36aca5(0x147)]+'\x20('+this['instance']['wuid']+_0x36aca5(0x4a8)+_0xf2d9df+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x230491=await this['repository'][_0x36aca5(0x5a4)][_0x36aca5(0x2f1)]({'where':{'_id':_0x2bdfc4[_0x36aca5(0x16c)]}});if(!_0x230491||!_0x230491[_0x36aca5(0xbd)]?.[_0x36aca5(0x39c)](this['instance'][_0x36aca5(0x61a)]))throw this[_0x36aca5(0x7b7)][_0x36aca5(0x4e6)](this[_0x36aca5(0x147)]+'\x20('+this['instance'][_0x36aca5(0x61a)]+_0x36aca5(0x4a8)+_0xf2d9df+_0x36aca5(0x5f1)),new m(_0x36aca5(0x5bb)+_0xf2d9df+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x23cfdc=require(_0x36aca5(0x250))[_0x36aca5(0x334)],_0x5765d7=Date[_0x36aca5(0x450)](),_0xd94f6c=_0x36aca5(0x6a4),_0x396c2a={},_0x15c71c={},_0x221502=this[_0x36aca5(0x1d3)][_0x36aca5(0x30c)]['find'](_0x1b872a=>_0x1b872a[_0x36aca5(0x16c)]===_0x230491[_0x36aca5(0x16c)]?.[_0x36aca5(0x51d)]()),_0x5825c9=_0x221502?.[_0x36aca5(0x41d)]??_0x230491[_0x36aca5(0x41d)]??0x0,_0x5828d6=_0x221502?.[_0x36aca5(0x66f)]??_0x230491[_0x36aca5(0x66f)]??!0x1,_0x4d3c00={'flowId':_0x2bdfc4[_0x36aca5(0x16c)],'readMessages':_0x2bdfc4['readMessages'],..._0x230491,'chatLog':null},_0x5e2fec={'lastReceivedMessage':_0x396c2a,'lastSendMessage':_0x15c71c,'lastBlockId':_0xd94f6c,'lastCondition':!0x0,'realVariables':_0x3c98dc};_0x4d3c00[_0x36aca5(0x1a8)]=_0x5e2fec,_0x4d3c00[_0x36aca5(0x1a8)][_0x36aca5(0x327)]={..._0x3c98dc},delete _0x4d3c00['_id'],_0x4d3c00['_id']=new _0x23cfdc(),_0x4d3c00[_0x36aca5(0x77a)]=_0x5765d7,_0x4d3c00[_0x36aca5(0x4ff)]=_0x36aca5(0x6e9),_0x4d3c00['remoteJid']=_0x31c0fb,_0x4d3c00[_0x36aca5(0x41d)]=_0x5825c9,_0x4d3c00[_0x36aca5(0x66f)]=_0x5828d6;let _0x206380=await this[_0x36aca5(0xbe)]['flowConversation']['updateOne'](_0x4d3c00[_0x36aca5(0x16c)],_0x4d3c00,this[_0x36aca5(0x68c)][_0x36aca5(0x61a)]);return this[_0x36aca5(0x7b7)][_0x36aca5(0x7ac)](this['instanceName']+'\x20('+this[_0x36aca5(0x68c)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x206380?_0x4d3c00:null;}catch(_0x326f5d){let _0xba3363=_0x36aca5(0x3cd),_0x1552ed=_0x326f5d instanceof Error?_0x326f5d[_0x36aca5(0x61f)]:typeof _0x326f5d==_0x36aca5(0x2c3)?JSON[_0x36aca5(0x5b9)](_0x326f5d):_0x326f5d,_0x2d9e57=_0xba3363+':\x20'+_0x1552ed;throw this[_0x36aca5(0x7b7)][_0x36aca5(0x4e6)](this['instanceName']+'\x20('+this[_0x36aca5(0x68c)]['wuid']+'):\x20'+_0x2d9e57),new m(_0x2d9e57);}}async[a0_0x1ec3bd(0x360)](_0x3eea54,_0x3588a8){const _0x4e0391=a0_0x1ec3bd;let _0x514731,_0x30026e;try{let _0x4ea826=_0x3588a8[_0x4e0391(0x6fd)];if(!_0x4ea826||!_0x4ea826['url']||!_0x4ea826[_0x4e0391(0x242)])throw new Error(_0x4e0391(0x41e));let _0x3dfc00;(['https://api.openai.com/v1/audio/speech',_0x4e0391(0x387),_0x4e0391(0x5b4)][_0x4e0391(0x32d)](_0xb5ecce=>_0x4ea826[_0x4e0391(0xe5)][_0x4e0391(0x39c)](_0xb5ecce))||_0x4ea826[_0x4e0391(0x56e)])&&(_0x3dfc00=_0x4e0391(0x56b));let _0x3d91e7='\u205f',_0x2b308a;try{_0x2b308a=JSON[_0x4e0391(0x30d)](_0x4ea826[_0x4e0391(0x658)][_0x4e0391(0x2b2)](new RegExp(_0x3d91e7,'g'),''));}catch(_0x60f4eb){throw _0x60f4eb;}let _0x23c71d={'method':_0x4ea826[_0x4e0391(0x242)],'url':_0x4ea826[_0x4e0391(0xe5)],'headers':_0x4ea826[_0x4e0391(0x741)]||{},..._0x4ea826[_0x4e0391(0x242)][_0x4e0391(0x773)]()!==_0x4e0391(0x40c)&&_0x4ea826[_0x4e0391(0x658)]?{'data':JSON['parse'](_0x4ea826[_0x4e0391(0x658)][_0x4e0391(0x2b2)](new RegExp(_0x3d91e7,'g'),''))}:{},..._0x3dfc00&&{'responseType':_0x3dfc00}},_0x38f511=await(0x0,Q[_0x4e0391(0x442)])(_0x23c71d),_0x101af8=_0x38f511[_0x4e0391(0x64c)]['content-type'];if(_0x101af8&&_0x101af8['includes'](_0x4e0391(0x7b9))||typeof _0x38f511[_0x4e0391(0x586)]==_0x4e0391(0x716)){if(typeof _0x38f511['data']==_0x4e0391(0x716)){let _0x4fdd5f=_0x38f511[_0x4e0391(0x586)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x514731=JSON['parse'](_0x4fdd5f);}catch(_0x1728df){this[_0x4e0391(0x7b7)][_0x4e0391(0x4e6)](_0x4e0391(0x4e9)+_0x1728df['message']),_0x514731={'_apiResponse':_0x38f511[_0x4e0391(0x586)]};}}else _0x514731=_0x38f511[_0x4e0391(0x586)];let _0x455ff2=_0x3eea54[_0x4e0391(0x1a8)][_0x4e0391(0x327)],_0x42688c=this[_0x4e0391(0x2c4)](_0x514731);return Object[_0x4e0391(0x615)](_0x455ff2,_0x42688c),_0x3eea54['chatLog'][_0x4e0391(0x327)]=_0x455ff2,_0x30026e={'error':!0x1,'apiResponse':_0x514731},this['updateConversation'](_0x3eea54,_0x3588a8,_0x30026e),_0x514731;}if(_0x101af8&&(_0x101af8[_0x4e0391(0x39c)](_0x4e0391(0x100))||_0x101af8[_0x4e0391(0x39c)]('image')||_0x101af8['includes'](_0x4e0391(0x6a2))||_0x101af8[_0x4e0391(0x39c)](_0x4e0391(0x757)))){this[_0x4e0391(0x7b7)][_0x4e0391(0x7ac)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4e0391(0x2f7)+_0x101af8);let _0x566969=(0x0,Y['v4'])(),_0x1a6a91='',_0x3a4990={'image/jpeg':_0x4e0391(0x310),'image/png':_0x4e0391(0x5c1),'image/gif':_0x4e0391(0x4f4),'image/webp':_0x4e0391(0x737),'image/svg+xml':_0x4e0391(0x206),'audio/mpeg':_0x4e0391(0x2be),'audio/ogg':'.ogg','audio/wav':'.wav','video/mp4':_0x4e0391(0x700),'video/webm':_0x4e0391(0x6e7),'video/ogg':_0x4e0391(0x775),'text/plain':'.txt','application/pdf':_0x4e0391(0x670),'application/msword':_0x4e0391(0x58f),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4e0391(0x59b),'application/vnd.ms-excel':_0x4e0391(0x2cb),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x4e0391(0xad),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x3a4990[_0x101af8]?(_0x1a6a91=_0x3a4990[_0x101af8],this[_0x4e0391(0x7b7)][_0x4e0391(0x7ac)](this[_0x4e0391(0x147)]+'\x20('+this[_0x4e0391(0x68c)][_0x4e0391(0x61a)]+_0x4e0391(0x5d1)+_0x1a6a91)):(_0x1a6a91=_0x4e0391(0x3ea),this[_0x4e0391(0x7b7)][_0x4e0391(0x7ac)](this[_0x4e0391(0x147)]+'\x20('+this[_0x4e0391(0x68c)][_0x4e0391(0x61a)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x1a6a91)),_0x566969+=_0x1a6a91,this[_0x4e0391(0x7b7)][_0x4e0391(0x7ac)](this[_0x4e0391(0x147)]+'\x20('+this['instance']['wuid']+_0x4e0391(0x224)+_0x566969);let _0x39d1bd=this[_0x4e0391(0x6f0)][_0x4e0391(0x5d6)](_0x4e0391(0x752))[_0x4e0391(0x1d1)];if(!_0x39d1bd){let _0x57334a=this[_0x4e0391(0x6f0)]['get'](_0x4e0391(0x53c));_0x39d1bd=_0x4e0391(0x1ea)+(_0x57334a&&_0x57334a[_0x4e0391(0x1eb)][_0x4e0391(0x4c0)]('/')[0x4]);}let _0x12bfcb=Buffer[_0x4e0391(0x4e0)](_0x38f511[_0x4e0391(0x586)]);await this['saveMediaToFile'](_0x12bfcb,_0x566969);let _0x1f5cda=_0x4e0391(0x9a)+_0x566969;_0x1f5cda=''+_0x39d1bd+_0x1f5cda,_0x514731={'fileUrl':_0x1f5cda},_0x3eea54[_0x4e0391(0x1a8)][_0x4e0391(0x327)][_0x4e0391(0x6c6)]=_0x1f5cda;let _0x31b055=_0x3eea54['chatLog'][_0x4e0391(0x327)],_0x13b7ef=this['flattenObject'](_0x514731);return Object['assign'](_0x31b055,_0x13b7ef),_0x3eea54['chatLog']['realVariables']=_0x31b055,_0x30026e={'error':!0x1,'apiResponse':{'fileUrl':_0x1f5cda}},this[_0x4e0391(0x6c1)](_0x3eea54,_0x3588a8,_0x30026e),_0x514731;}}catch(_0x20a127){this[_0x4e0391(0x7b7)]['error'](_0x4e0391(0x5c8)+_0x20a127[_0x4e0391(0x61f)]),_0x20a127[_0x4e0391(0x595)]&&(_0x514731=_0x20a127[_0x4e0391(0x595)]['data']);let _0xb5297c=_0x3eea54[_0x4e0391(0x1a8)]['realVariables'],_0x29baf5=this[_0x4e0391(0x2c4)](_0x514731);return Object[_0x4e0391(0x615)](_0xb5297c,_0x29baf5),_0x3eea54[_0x4e0391(0x1a8)][_0x4e0391(0x327)]=_0xb5297c,_0x30026e={'error':!0x0,'errorLog':_0x20a127[_0x4e0391(0x51d)](),'apiResponse':_0x514731},this[_0x4e0391(0x6c1)](_0x3eea54,_0x3588a8,_0x30026e),{'success':!0x1};}}[a0_0x1ec3bd(0x614)](_0x1a8211,_0xb78a01){const _0x3a513f=a0_0x1ec3bd;let _0x3eca47=_0xd7f069=>{const _0x227b08=a0_0x1c6d;let _0x1a75aa=_0xd7f069[_0x227b08(0x2b2)](/[^0-9.,-]/g,'')[_0x227b08(0x2b2)](',','.'),_0x2d2fbe=parseFloat(_0x1a75aa);return isNaN(_0x2d2fbe)?null:_0x2d2fbe;},_0x5e11ac=_0xb78a01[_0x3a513f(0x1ad)],_0x25c335=_0xb78a01[_0x3a513f(0x637)];typeof _0x5e11ac==_0x3a513f(0x716)&&(_0x5e11ac=this[_0x3a513f(0x29b)](_0x5e11ac,_0x1a8211['chatLog'][_0x3a513f(0x327)])??''),typeof _0x25c335==_0x3a513f(0x716)&&(_0x25c335=this[_0x3a513f(0x29b)](_0x25c335,_0x1a8211[_0x3a513f(0x1a8)]['realVariables'])??'');let _0x2570a0=null;if(!_0xb78a01[_0x3a513f(0x6ac)])return null;switch(this[_0x3a513f(0x7b7)][_0x3a513f(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0x3a513f(0x61a)]+_0x3a513f(0x7c3)+_0x5e11ac),this['logger'][_0x3a513f(0x7ac)](this[_0x3a513f(0x147)]+'\x20('+this[_0x3a513f(0x68c)][_0x3a513f(0x61a)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x25c335),_0xb78a01[_0x3a513f(0x6ac)]){case'+':case'-':case'*':case'/':let _0x15dc34=_0x3eca47(_0x5e11ac||'0'),_0x980a0f=_0x3eca47(_0x25c335||'0');if(_0x15dc34===null)return null;switch(_0xb78a01['editOperator']){case'+':_0x2570a0=_0x15dc34+(_0x980a0f??0x0);break;case'-':_0x2570a0=_0x15dc34-(_0x980a0f??0x0);break;case'*':_0x2570a0=_0x15dc34*(_0x980a0f??0x1);break;case'/':_0x980a0f!==0x0&&(_0x2570a0=_0x15dc34/(_0x980a0f??0x1));break;}break;case'findAndReplace':case _0x3a513f(0x44f):let _0xd9b8f3=_0x25c335,_0x426777=_0xb78a01[_0x3a513f(0x7c8)];if(typeof _0x426777==_0x3a513f(0x716)&&(_0x426777=this['replaceVariables'](_0x426777,_0x1a8211['chatLog'][_0x3a513f(0x327)])??''),_0xd9b8f3&&_0x426777!==void 0x0){let _0x53fd23=_0xb78a01[_0x3a513f(0x6ac)]===_0x3a513f(0x463)?new RegExp(_0xd9b8f3[_0x3a513f(0x2b2)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3a513f(0x74b)),'g'):new RegExp(_0xd9b8f3,'g');_0x2570a0=_0x5e11ac[_0x3a513f(0x2b2)](_0x53fd23,_0x426777);}else console[_0x3a513f(0x717)](_0x3a513f(0x429));break;case _0x3a513f(0x5ae):_0x2570a0=_0x25c335;break;case _0x3a513f(0x1b7):let _0x10081a=_0x5e11ac[_0x3a513f(0x5bc)](new RegExp(_0x25c335||''));_0x2570a0=_0x10081a?_0x10081a[0x0]:'';break;case _0x3a513f(0x54d):_0x2570a0=_0x5e11ac['slice'](0x0,parseInt(_0x25c335||'0'));break;case _0x3a513f(0x380):let _0x56a4e0=parseInt(_0x25c335||'0');_0x2570a0=_0x5e11ac[_0x3a513f(0x58a)](_0x5e11ac['length']-_0x56a4e0);break;case _0x3a513f(0x62d):let _0x2180b1=_0x3eca47(_0x5e11ac),_0x1c956f=parseInt(_0x25c335||'0');_0x1c956f=Math[_0x3a513f(0x1a7)](_0x1c956f),_0x2180b1!==null?_0x2570a0=_0x2180b1[_0x3a513f(0x2e8)](_0x3a513f(0x3de),{'minimumFractionDigits':_0x1c956f,'maximumFractionDigits':_0x1c956f}):(console[_0x3a513f(0x717)](_0x3a513f(0x7c2)+_0x5e11ac),_0x2570a0=null);break;case _0x3a513f(0x377):let _0x153e0e=_0x3eca47(_0x5e11ac);_0x153e0e!==null?_0x2570a0=_0x153e0e[_0x3a513f(0x2e8)](_0x3a513f(0x3de),{'style':'currency','currency':_0x3a513f(0x6d1)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x5e11ac),_0x2570a0=null);break;case _0x3a513f(0x56f):_0x2570a0=_0x5e11ac['toUpperCase']();break;case _0x3a513f(0x6d5):_0x2570a0=_0x5e11ac['toLowerCase']();break;case _0x3a513f(0x66b):_0x2570a0=_0x5e11ac[_0x3a513f(0x4c0)]('\x20')[_0x3a513f(0x6ef)](_0x1a0c41=>_0x1a0c41[_0x3a513f(0x19c)](0x0)[_0x3a513f(0x773)]()+_0x1a0c41['slice'](0x1)[_0x3a513f(0x3b4)]())['join']('\x20');break;case _0x3a513f(0x5a7):_0x2570a0=JSON[_0x3a513f(0x5b9)](_0x5e11ac);break;case'trimmed':_0x2570a0=_0x5e11ac[_0x3a513f(0x2ee)]();break;default:_0x2570a0=_0x5e11ac;}return _0x2570a0!==null?_0x2570a0['toString']():null;}async['processvaredits'](_0x5adc97,_0xcf8bea){const _0x252dde=a0_0x1ec3bd;try{let _0x12e510=_0x5adc97[_0x252dde(0x428)]?.[_0x252dde(0x433)](_0x2111c6=>_0x2111c6[_0x252dde(0x1fe)]===_0xcf8bea[_0x252dde(0x16c)]?.[_0x252dde(0x51d)]())||[],_0x29eb41=_0xcf8bea[_0x252dde(0x255)],_0x4ad11d=null,_0x4ee6cd=[],_0x3f43b6=_0x5adc97[_0x252dde(0x1a8)][_0x252dde(0x327)][_0x29eb41];_0x4ee6cd[_0x252dde(0x3f7)]('Valor\x20inicial:\x20\x22'+_0x3f43b6+'\x22');for(let _0x247299 of _0x12e510){_0x247299[_0x252dde(0x1ad)]=_0x3f43b6,_0x4ad11d=_0x247299['firstValue'];let _0x344574;try{_0x344574=this[_0x252dde(0x614)](_0x5adc97,_0x247299);}catch(_0x141b68){this[_0x252dde(0x7b7)][_0x252dde(0x4e6)](_0x252dde(0x64f)+_0x141b68[_0x252dde(0x61f)]);continue;}if(_0x344574!==null){let _0x36a304=_0x252dde(0x49e)+_0x247299['editOperator']+'\x22',_0x1c9e02=['toBRL',_0x252dde(0x56f),_0x252dde(0x6d5),_0x252dde(0x66b),'trimmed'];_0x247299[_0x252dde(0x6ac)]===_0x252dde(0x463)||_0x247299[_0x252dde(0x6ac)]===_0x252dde(0x44f)?_0x36a304+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x247299[_0x252dde(0x637)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x247299[_0x252dde(0x7c8)]+'\x22':!_0x1c9e02[_0x252dde(0x39c)](_0x247299[_0x252dde(0x6ac)])&&_0x247299['secondValue']!==null&&_0x247299[_0x252dde(0x637)]!==void 0x0&&(_0x36a304+=_0x252dde(0x69b)+_0x247299[_0x252dde(0x637)]+'\x22'),_0x36a304+=',\x20resultado:\x20'+_0x344574+'.',_0x4ee6cd['push'](_0x36a304);}_0x344574!==null&&(_0x3f43b6=_0x344574);}if(_0x5adc97[_0x252dde(0x1a8)][_0x252dde(0x327)]&&_0xcf8bea['saveVariable']){_0x5adc97[_0x252dde(0x1a8)][_0x252dde(0x327)][_0xcf8bea[_0x252dde(0x255)]]=_0x3f43b6;let _0x2fa6a2={'variable':_0xcf8bea[_0x252dde(0x255)],'oldValue':_0x4ad11d,'newValue':_0x3f43b6,'moreLogs':_0x4ee6cd};try{this[_0x252dde(0x6c1)](_0x5adc97,_0xcf8bea,_0x2fa6a2);}catch(_0x199aa6){this[_0x252dde(0x7b7)][_0x252dde(0x4e6)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x199aa6[_0x252dde(0x61f)]);}}return _0x29eb41;}catch(_0x2bca19){return this[_0x252dde(0x7b7)][_0x252dde(0x4e6)](_0x252dde(0x16b)+_0x2bca19[_0x252dde(0x61f)]),null;}}async[a0_0x1ec3bd(0x2fb)](_0x25c86a,_0x680c56){const _0x1ce6f3=a0_0x1ec3bd;try{let _0x502ca8=[],_0x218c10=_0x25c86a[_0x1ce6f3(0x308)][_0x1ce6f3(0x433)](_0x1e435b=>_0x1e435b[_0x1ce6f3(0x1fe)]===_0x680c56['_id']['toString']()),_0x4cacba=null,_0x78f766=!0x1;for(let _0x29d80a of _0x218c10){let _0x4b3c83=this['evaluateCondition'](_0x25c86a,_0x29d80a);_0x502ca8[_0x1ce6f3(0x3f7)](_0x1ce6f3(0x43f)+_0x29d80a[_0x1ce6f3(0x1ad)]+_0x1ce6f3(0x449)+_0x29d80a['expression']+_0x1ce6f3(0x4b3)+_0x29d80a['secondValue']+_0x1ce6f3(0x4b9)+_0x4b3c83),_0x4cacba===null?_0x4cacba=_0x4b3c83:_0x29d80a['OrAnd']==='and'?(_0x4cacba=_0x4cacba&&_0x4b3c83,_0x4b3c83||(_0x78f766=!0x0)):_0x29d80a[_0x1ce6f3(0x696)]==='or'&&(_0x78f766||(_0x4cacba=_0x4cacba||_0x4b3c83));}_0x4cacba===null&&(_0x4cacba=!0x0);let _0x4b0b58={'moreLogs':_0x502ca8};_0x25c86a[_0x1ce6f3(0x1a8)]['lastCondition']=_0x4cacba,await this[_0x1ce6f3(0x6c1)](_0x25c86a,_0x680c56,_0x4b0b58);}catch(_0x1f39ea){this[_0x1ce6f3(0x7b7)][_0x1ce6f3(0x4e6)](this[_0x1ce6f3(0x147)]+'\x20('+this[_0x1ce6f3(0x68c)][_0x1ce6f3(0x61a)]+_0x1ce6f3(0x1f7)+(_0x1f39ea instanceof Error?_0x1f39ea[_0x1ce6f3(0x61f)]:JSON['stringify'](_0x1f39ea,null,0x2)));}}['evaluateCondition'](_0x4b9843,_0x25cb51){const _0x40d9c3=a0_0x1ec3bd;let _0x12a6b6=_0x25cb51[_0x40d9c3(0x1ad)],_0x40f7a0=_0x25cb51['secondValue'];typeof _0x12a6b6=='string'&&(_0x12a6b6=this[_0x40d9c3(0x29b)](_0x12a6b6,_0x4b9843['chatLog'][_0x40d9c3(0x327)])??''),typeof _0x40f7a0=='string'&&(_0x40f7a0=this['replaceVariables'](_0x40f7a0,_0x4b9843[_0x40d9c3(0x1a8)][_0x40d9c3(0x327)])??'');try{switch(_0x25cb51[_0x40d9c3(0x70d)]){case'equal':return _0x12a6b6===_0x40f7a0;case'notEqual':return _0x12a6b6!==_0x40f7a0;case'contains':return this[_0x40d9c3(0x161)](_0x12a6b6,_0x40f7a0);case _0x40d9c3(0x348):return!this[_0x40d9c3(0x161)](_0x12a6b6,_0x40f7a0);case _0x40d9c3(0x131):return parseFloat(_0x12a6b6)>parseFloat(_0x40f7a0);case _0x40d9c3(0x491):return parseFloat(_0x12a6b6)<parseFloat(_0x40f7a0);case _0x40d9c3(0x3a3):return _0x12a6b6!=='';case _0x40d9c3(0x477):return _0x12a6b6==='';case _0x40d9c3(0xed):return new RegExp(_0x40f7a0)['test'](_0x12a6b6);case _0x40d9c3(0x154):return!new RegExp(_0x40f7a0)[_0x40d9c3(0x256)](_0x12a6b6);default:return!0x1;}}catch(_0xb51ada){return this['logger'][_0x40d9c3(0x4e6)](_0x40d9c3(0x575)+_0xb51ada),!0x1;}}[a0_0x1ec3bd(0x161)](_0xbd56ca,_0x578621){const _0x185a2b=a0_0x1ec3bd;if(_0xbd56ca===_0x578621&&/^\d+$/[_0x185a2b(0x256)](_0xbd56ca))return!0x0;if(this[_0x185a2b(0x53f)](_0xbd56ca)&&/^\d+$/[_0x185a2b(0x256)](_0x578621)){let _0x2ddc7a=_0xbd56ca['split'](',')[_0x185a2b(0x6ef)](_0x2e86c2=>parseInt(_0x2e86c2[_0x185a2b(0x2ee)]())),_0x59bac0=parseInt(_0x578621);return _0x2ddc7a[_0x185a2b(0x39c)](_0x59bac0);}return _0xbd56ca[_0x185a2b(0x39c)](_0x578621);}[a0_0x1ec3bd(0x53f)](_0x39c003){return/^\d+(,\d+)*$/['test'](_0x39c003);}['processConditionsTest'](_0x34b661){const _0x11c3ec=a0_0x1ec3bd;let _0x355af5=!0x0,_0x429e59=null;for(let _0x4d1622 of _0x34b661){let _0x563780=this[_0x11c3ec(0x4b8)](_0x4d1622);if(_0x429e59==='or'&&_0x563780){_0x355af5=!0x0;break;}if(_0x429e59===_0x11c3ec(0x2f4)&&!_0x563780){_0x355af5=!0x1;break;}_0x429e59=_0x4d1622['OrAnd'];}return _0x355af5;}[a0_0x1ec3bd(0x4b8)](_0x5e1789){const _0x16ca14=a0_0x1ec3bd;let _0x5780cc=_0x5e1789[_0x16ca14(0x1ad)],_0x3fbf7d=_0x5e1789[_0x16ca14(0x637)];try{switch(_0x5e1789[_0x16ca14(0x70d)]){case _0x16ca14(0xea):return String(_0x5780cc)===String(_0x3fbf7d);case _0x16ca14(0xee):return String(_0x5780cc)!==String(_0x3fbf7d);case _0x16ca14(0x161):return String(_0x5780cc)[_0x16ca14(0x39c)](String(_0x3fbf7d));case _0x16ca14(0x348):return!String(_0x5780cc)[_0x16ca14(0x39c)](String(_0x3fbf7d));case _0x16ca14(0x131):return parseFloat(String(_0x5780cc))>parseFloat(String(_0x3fbf7d));case _0x16ca14(0x491):return parseFloat(String(_0x5780cc))<parseFloat(String(_0x3fbf7d));case _0x16ca14(0x3a3):return String(_0x5780cc)!=='';case _0x16ca14(0x477):return String(_0x5780cc)==='';case'matchRegex':return new RegExp(String(_0x3fbf7d))[_0x16ca14(0x256)](String(_0x5780cc));case'notMatchRegex':return!new RegExp(String(_0x3fbf7d))[_0x16ca14(0x256)](String(_0x5780cc));default:return!0x1;}}catch(_0x5a834a){return this['logger'][_0x16ca14(0x4e6)](_0x16ca14(0x575)+_0x5a834a),!0x1;}}async[a0_0x1ec3bd(0x15d)](_0x499af0,_0x5838bf){const _0x111f57=a0_0x1ec3bd;if(this['logger'][_0x111f57(0x7ac)](this[_0x111f57(0x147)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x499af0||!_0x5838bf)return this[_0x111f57(0x7b7)]['error'](this['instanceName']+'\x20('+this[_0x111f57(0x68c)][_0x111f57(0x61a)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x137945=_0x499af0[_0x111f57(0x1a8)]['lastReceivedMessage']['key']['id'];this[_0x111f57(0x7b7)][_0x111f57(0x7ac)](this[_0x111f57(0x147)]+'\x20('+this['instance'][_0x111f57(0x61a)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x137945);let _0x55043e={'key':{'id':_0x137945}},_0x2fa383=_0x5838bf[_0x111f57(0x255)];_0x499af0[_0x111f57(0x1a8)][_0x111f57(0x327)]['_'+_0x2fa383+_0x111f57(0x2ac)]=null,_0x499af0['chatLog'][_0x111f57(0x327)]['_'+_0x2fa383+'.mimetype']=null,_0x499af0[_0x111f57(0x1a8)]['realVariables']['_'+_0x2fa383+_0x111f57(0x626)]=null,_0x499af0[_0x111f57(0x1a8)][_0x111f57(0x327)]['_'+_0x2fa383+_0x111f57(0x6bf)]=_0x499af0[_0x111f57(0x1a8)]['lastReceivedMessage'][_0x111f57(0x73a)];try{let _0xe74210=await this[_0x111f57(0x663)](_0x55043e);this[_0x111f57(0x7b7)][_0x111f57(0x7ac)](this[_0x111f57(0x147)]+'\x20('+this[_0x111f57(0x68c)]['wuid']+_0x111f57(0x2b0)),_0x499af0[_0x111f57(0x1a8)][_0x111f57(0x327)]['_'+_0x2fa383+_0x111f57(0x51c)]=_0xe74210[_0x111f57(0x6c6)],_0x499af0['chatLog'][_0x111f57(0x327)]['_'+_0x2fa383+'.mimetype']=_0xe74210[_0x111f57(0x606)];let _0x3216de=_0xe74210[_0x111f57(0x606)][_0x111f57(0x5bc)](/\/(\w+)$/),_0x50dd22=_0x3216de?_0x3216de[0x1]:null;_0x499af0['chatLog'][_0x111f57(0x327)]['_'+_0x2fa383+_0x111f57(0x626)]=_0x50dd22,this[_0x111f57(0x7b7)][_0x111f57(0x7ac)](this[_0x111f57(0x147)]+'\x20('+this[_0x111f57(0x68c)][_0x111f57(0x61a)]+_0x111f57(0x7b1)+_0x2fa383+'\x27.');}catch(_0x10dee0){this[_0x111f57(0x7b7)][_0x111f57(0x4e6)](this[_0x111f57(0x147)]+'\x20('+this[_0x111f57(0x68c)][_0x111f57(0x61a)]+_0x111f57(0x468)+_0x10dee0[_0x111f57(0x61f)]);}let _0x4d88db=_0x499af0[_0x111f57(0x1a8)]['lastReceivedMessage']['text']||_0x499af0['chatLog'][_0x111f57(0x3d7)][_0x111f57(0x45d)]||_0x499af0[_0x111f57(0x1a8)]['lastReceivedMessage'][_0x111f57(0x19d)];try{_0x499af0[_0x111f57(0x1a8)]['realVariables']||(_0x499af0[_0x111f57(0x1a8)]['realVariables']={});let _0x247206=_0x499af0['chatLog'][_0x111f57(0x327)][_0x2fa383];_0x499af0['chatLog'][_0x111f57(0x327)][_0x2fa383]=_0x4d88db;let _0x2309eb={'variable':_0x2fa383,'oldValue':_0x247206,'newValue':_0x4d88db};this[_0x111f57(0x6c1)](_0x499af0,_0x5838bf,_0x2309eb),this['logger'][_0x111f57(0x7ac)](this[_0x111f57(0x147)]+'\x20('+this[_0x111f57(0x68c)]['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x5d35ce){let _0x531c52={'error':!0x0,'errorLog':_0x5d35ce['toString']()};return this[_0x111f57(0x6c1)](_0x499af0,_0x5838bf,_0x531c52),this[_0x111f57(0x7b7)][_0x111f57(0x4e6)](this['instanceName']+'\x20('+this[_0x111f57(0x68c)]['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x5d35ce instanceof Error?_0x5d35ce[_0x111f57(0x61f)]:JSON[_0x111f57(0x5b9)](_0x5d35ce,null,0x2))),null;}}async['stopConversation'](_0x3a773d,_0x2e08a0){const _0x554839=a0_0x1ec3bd;if(this['logger'][_0x554839(0x7ac)](this['instanceName']+'\x20('+this[_0x554839(0x68c)][_0x554839(0x61a)]+_0x554839(0x4e2)),!_0x3a773d||!_0x2e08a0)return this['logger'][_0x554839(0x4e6)](this[_0x554839(0x147)]+'\x20('+this['instance']['wuid']+_0x554839(0x75f)),null;let _0x3edc01=Date[_0x554839(0x450)](),_0x11b6c0=parseInt(_0x2e08a0[_0x554839(0x318)],0xa);if(isNaN(_0x11b6c0))return this[_0x554839(0x7b7)]['error'](this[_0x554839(0x147)]+'\x20('+this['instance'][_0x554839(0x61a)]+_0x554839(0x5a2)),null;let _0x1f685b={'newStoppedUntil':_0x3edc01+_0x11b6c0*0x3c*0x3e8};return await this[_0x554839(0x6c1)](_0x3a773d,_0x2e08a0,_0x1f685b,!0x0),null;}async[a0_0x1ec3bd(0x47d)](_0x18be79,_0x370ca2){const _0x8f70d0=a0_0x1ec3bd;try{switch(_0x370ca2[_0x8f70d0(0x304)][_0x8f70d0(0xa9)]){case _0x8f70d0(0x186):await this[_0x8f70d0(0x611)](_0x18be79,_0x370ca2);break;case'sendMedia':await this[_0x8f70d0(0xe4)](_0x18be79,_0x370ca2);break;case'sendLocation':await this['uazapiSendLocation'](_0x18be79,_0x370ca2);break;case _0x8f70d0(0xbb):await this['uazapiSendAudio'](_0x18be79,_0x370ca2);break;case'sendContact':await this[_0x8f70d0(0x5cc)](_0x18be79,_0x370ca2);break;case _0x8f70d0(0x356):await this['uazapiSendMenu'](_0x18be79,_0x370ca2);break;case _0x8f70d0(0x446):await this[_0x8f70d0(0x7aa)](_0x18be79,_0x370ca2);break;case'deleteMessage':await this[_0x8f70d0(0x55a)](_0x18be79,_0x370ca2);break;default:this['logger'][_0x8f70d0(0x4e6)](this[_0x8f70d0(0x147)]+'\x20('+this[_0x8f70d0(0x68c)][_0x8f70d0(0x61a)]+_0x8f70d0(0x5bd)+_0x370ca2[_0x8f70d0(0x304)][_0x8f70d0(0xa9)]);}}catch(_0x450107){this[_0x8f70d0(0x7b7)][_0x8f70d0(0x4e6)](this[_0x8f70d0(0x147)]+'\x20('+this[_0x8f70d0(0x68c)][_0x8f70d0(0x61a)]+_0x8f70d0(0x198)+(_0x450107 instanceof Error?_0x450107['message']:JSON[_0x8f70d0(0x5b9)](_0x450107,null,0x2)));}}async[a0_0x1ec3bd(0x6c1)](_0x49157f,_0x2e714d,_0x1a414c,_0x3b5093=!0x1,_0x368111=!0x1){const _0x1283a7=a0_0x1ec3bd;_0x49157f[_0x1283a7(0x1a8)]['blockLogs']||(_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x2f2)]=[]);let _0xa35718=(_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x2f2)]?.[_0x1283a7(0x2a9)]??0x0)+0x1,_0x1b4de5=_0x49157f[_0x1283a7(0x1a8)]['blockLogs'][_0x1283a7(0x433)](_0xdfec3e=>String(_0xdfec3e[_0x1283a7(0x1fe)])===String(_0x2e714d['_id']))['length']+0x1,_0x52691f=_0x1a414c?.[_0x1283a7(0x144)]??Date['now'](),_0x37e738=_0x1a414c?.[_0x1283a7(0x4e6)]?_0x1a414c[_0x1283a7(0x529)]??_0x1a414c[_0x1283a7(0x4e6)][_0x1283a7(0x51d)]():void 0x0,_0x528534={'onTime':_0x52691f,'blockId':_0x2e714d[_0x1283a7(0x16c)],'order':_0xa35718,'activatedCount':_0x1b4de5,'error':_0x1a414c?.[_0x1283a7(0x4e6)]??!0x1,'messageId':_0x1a414c?.[_0x1283a7(0x26e)],'apiResponse':_0x1a414c?.[_0x1283a7(0x207)],'apiResponseString':_0x1a414c?.[_0x1283a7(0x207)]?JSON[_0x1283a7(0x5b9)](_0x1a414c?.[_0x1283a7(0x207)]):void 0x0,'variable':_0x1a414c?.[_0x1283a7(0x5f5)],'oldValue':_0x1a414c?.[_0x1283a7(0x4a3)],'newValue':_0x1a414c?.[_0x1283a7(0x6dc)],'newStoppedUntil':_0x1a414c?.[_0x1283a7(0x657)],'moreLogs':_0x1a414c?.['moreLogs'],'errorLog':_0x37e738};if(_0x1a414c[_0x1283a7(0x789)]&&_0x1a414c[_0x1283a7(0x789)][_0x1283a7(0x2a9)]>0x0){let _0x36d464=_0x1a414c[_0x1283a7(0x789)][_0x1283a7(0x6ef)](_0x4cc594=>this[_0x1283a7(0xc9)](_0x4cc594,_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x327)]));_0x528534[_0x1283a7(0x789)]=_0x36d464;}if(_0x49157f['chatLog'][_0x1283a7(0x327)]||(_0x49157f[_0x1283a7(0x1a8)]['realVariables']={}),_0x49157f['chatLog']['realVariables']['_activatedCount']=String(_0x1b4de5),_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x327)][_0x1283a7(0x3a9)]=String(_0x1a414c['error']??!0x1),_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x2f2)][_0x1283a7(0x3f7)](_0x528534),_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x327)][_0x1283a7(0x237)]&&_0x49157f['chatLog']['realVariables'][_0x1283a7(0x237)]!==_0x49157f[_0x1283a7(0x47e)]){let _0x366afb=(await this['whatsappNumber']({'numbers':[_0x49157f[_0x1283a7(0x1a8)]['realVariables']['telefone']]}))[0x0]['jid'];_0x49157f['chatLog'][_0x1283a7(0x327)][_0x1283a7(0x237)]=_0x366afb,_0x49157f[_0x1283a7(0x47e)]=_0x366afb;try{let _0x3d4849={'_id':{'$ne':_0x49157f[_0x1283a7(0x16c)]},'remoteJid':_0x366afb,'status':_0x1283a7(0x6e9)},_0x3b6300={'status':'closed'};await this[_0x1283a7(0xbe)][_0x1283a7(0x6a5)]['updateMany'](_0x3d4849,_0x3b6300,this[_0x1283a7(0x68c)][_0x1283a7(0x61a)]),this[_0x1283a7(0x7b7)]['verbose'](this[_0x1283a7(0x147)]+'\x20('+this[_0x1283a7(0x68c)][_0x1283a7(0x61a)]+_0x1283a7(0x686));}catch(_0x1b2fdf){this[_0x1283a7(0x7b7)][_0x1283a7(0x4e6)](this[_0x1283a7(0x147)]+'\x20('+this[_0x1283a7(0x68c)][_0x1283a7(0x61a)]+_0x1283a7(0x4cf)+_0x1b2fdf[_0x1283a7(0x61f)]);}try{let _0x44585e=_0x49157f['chatLog'][_0x1283a7(0x327)],_0x37a74a=await this['getVariablesChat'](_0x366afb),_0xbba5a4={..._0x44585e,..._0x37a74a,'_remoteJid':_0x366afb};_0x49157f['chatLog'][_0x1283a7(0x327)]=_0xbba5a4;}catch(_0x2e92aa){this['logger'][_0x1283a7(0x4e6)](this[_0x1283a7(0x147)]+'\x20('+this['instance'][_0x1283a7(0x61a)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x2e92aa['message']);}}_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x5a6)]=_0x2e714d[_0x1283a7(0x16c)][_0x1283a7(0x51d)](),_0x49157f['chatLog'][_0x1283a7(0x420)]&&(_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x420)]=_0x49157f[_0x1283a7(0x1a8)]['lastSendMessage']),_0x49157f[_0x1283a7(0x1a8)]['lastReceivedMessage']&&(_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x3d7)]=_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0x3d7)]),_0x49157f[_0x1283a7(0x1a8)][_0x1283a7(0xec)]&&(_0x49157f['chatLog'][_0x1283a7(0xec)]=_0x49157f['chatLog'][_0x1283a7(0xec)]),_0x368111&&(_0x49157f['status']='closed'),_0x3b5093?this[_0x1283a7(0x3b1)](_0x49157f):this[_0x1283a7(0x28e)](_0x49157f,_0x2e714d);}['replaceVariablesLogs'](_0x4f1a49,_0x2d83a7){const _0x405224=a0_0x1ec3bd;return _0x4f1a49['replace'](/\{\{([^}]+)\}\}/g,(_0x38402d,_0x518ff6)=>_0x2d83a7[_0x518ff6]?'{{'+_0x518ff6+_0x405224(0x728)+_0x2d83a7[_0x518ff6]+'\x22':'{{'+_0x518ff6+_0x405224(0x2e2));}async[a0_0x1ec3bd(0x3b1)](_0x57ee6d){const _0x1694e2=a0_0x1ec3bd;try{let _0x3d6526=Object[_0x1694e2(0x48b)](_0x57ee6d['chatLog'][_0x1694e2(0x327)])['map'](([_0x25189c,_0x8776dd])=>({'name':_0x25189c,'value':_0x8776dd})),_0x5214b4={'status':_0x57ee6d[_0x1694e2(0x4ff)],'remoteJid':_0x57ee6d[_0x1694e2(0x47e)],'blocks':_0x57ee6d[_0x1694e2(0xc0)],'waitingMenu_id':_0x57ee6d['waitingMenu_id'],'waitingMenu_text':_0x57ee6d[_0x1694e2(0x65d)],'waitingMenu_replyOptions':_0x57ee6d['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x57ee6d[_0x1694e2(0x1a8)][_0x1694e2(0x5a6)],'lastSendMessage':_0x57ee6d[_0x1694e2(0x1a8)]['lastSendMessage'],'lastReceivedMessage':_0x57ee6d[_0x1694e2(0x1a8)]['lastReceivedMessage'],'lastCondition':_0x57ee6d[_0x1694e2(0x1a8)]['lastCondition'],'chatVariables':_0x3d6526,'realVariables':_0x57ee6d[_0x1694e2(0x1a8)][_0x1694e2(0x327)],'blockLogs':_0x57ee6d[_0x1694e2(0x1a8)][_0x1694e2(0x2f2)]}},_0x4eade6=await this[_0x1694e2(0xbe)][_0x1694e2(0x6a5)]['updateOne'](_0x57ee6d[_0x1694e2(0x16c)],_0x5214b4,this[_0x1694e2(0x68c)][_0x1694e2(0x61a)]);if(_0x4eade6){this[_0x1694e2(0x7b7)][_0x1694e2(0x7ac)](this[_0x1694e2(0x147)]+'\x20('+this[_0x1694e2(0x68c)][_0x1694e2(0x61a)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x4eade6['_id']);try{let _0x2dbd80=[_0x1694e2(0x416),'nomecompleto','email',_0x1694e2(0xe3),'status','notas',_0x1694e2(0x21e),_0x1694e2(0x78c),_0x1694e2(0x6ca),'atendimentoAberto'];if(!this[_0x1694e2(0x1d3)]&&(await this['getAutomateSystem'](),!this[_0x1694e2(0x1d3)]))throw new Error(_0x1694e2(0x6c2));let _0x5b28ef=this[_0x1694e2(0x1d3)]?.[_0x1694e2(0x2c2)][_0x1694e2(0x6ef)](_0x2c9a63=>_0x2c9a63[_0x1694e2(0x6fa)]),_0x316a94={};Object[_0x1694e2(0x48b)](_0x57ee6d[_0x1694e2(0x1a8)][_0x1694e2(0x327)])[_0x1694e2(0x730)](([_0x2b855c,_0xace077])=>{const _0x4506f3=_0x1694e2;_0x2dbd80[_0x4506f3(0x39c)](_0x2b855c)&&(_0x2b855c===_0x4506f3(0x78c)&&typeof _0xace077==_0x4506f3(0x716)?_0x316a94[_0x2b855c]=_0xace077[_0x4506f3(0x4c0)](',')[_0x4506f3(0x6ef)](_0x54c78e=>_0x54c78e[_0x4506f3(0x2ee)]())[_0x4506f3(0x433)](_0x37bee1=>_0x37bee1!==''):_0x2b855c===_0x4506f3(0x6ca)&&typeof _0xace077=='string'?_0x316a94[_0x2b855c]=_0xace077[_0x4506f3(0x4c0)](',')[_0x4506f3(0x6ef)](_0x4fdb1b=>_0x4fdb1b[_0x4506f3(0x2ee)]())[_0x4506f3(0x433)](_0x428044=>_0x428044!==''):_0x316a94[_0x2b855c]=_0xace077);});let _0xcc7d5=_0x57ee6d['chatLog'][_0x1694e2(0x2f2)][_0x57ee6d[_0x1694e2(0x1a8)][_0x1694e2(0x2f2)][_0x1694e2(0x2a9)]-0x1];if(_0xcc7d5){let _0x53a1a8=_0xcc7d5[_0x1694e2(0x657)];_0x53a1a8!==void 0x0&&(_0x316a94[_0x1694e2(0x26f)]=_0x53a1a8[_0x1694e2(0x51d)]());}let _0xcb391d=_0x3d6526[_0x1694e2(0x433)](_0x359d99=>_0x5b28ef['includes'](_0x359d99[_0x1694e2(0x6fa)]));this[_0x1694e2(0x7b7)][_0x1694e2(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0x1694e2(0x61a)]+_0x1694e2(0x7b5)),this['logger'][_0x1694e2(0x7ac)](_0x316a94),this[_0x1694e2(0x7b7)][_0x1694e2(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0x1694e2(0x61a)]+_0x1694e2(0x150)),this[_0x1694e2(0x7b7)][_0x1694e2(0x7ac)](_0xcb391d);let _0x202cb6=_0xcb391d[_0x1694e2(0x6ef)](_0x4a72f4=>{const _0x2892c9=_0x1694e2;let _0x5b3b00=this['AutomateSystem']?.['customFields']['find'](_0x29f28f=>_0x29f28f[_0x2892c9(0x6fa)]===_0x4a72f4[_0x2892c9(0x6fa)]);if(!_0x5b3b00)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x4a72f4[_0x2892c9(0x6fa)]);return{'_id':_0x5b3b00[_0x2892c9(0x16c)],'value':_0x4a72f4[_0x2892c9(0x571)]};});this['logger'][_0x1694e2(0x7ac)](this[_0x1694e2(0x147)]+'\x20('+this['instance'][_0x1694e2(0x61a)]+'):\x20transformedCustomFieldVariables'),this[_0x1694e2(0x7b7)][_0x1694e2(0x7ac)](_0x202cb6),await this['saveChatVariables'](_0x57ee6d[_0x1694e2(0x47e)],_0x316a94,_0x202cb6);}catch(_0x2489fb){this['logger'][_0x1694e2(0x4e6)](this[_0x1694e2(0x147)]+'\x20('+this[_0x1694e2(0x68c)][_0x1694e2(0x61a)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x2489fb instanceof Error?_0x2489fb[_0x1694e2(0x61f)]:JSON[_0x1694e2(0x5b9)](_0x2489fb,null,0x2)));}}else this[_0x1694e2(0x7b7)]['error'](this[_0x1694e2(0x147)]+'\x20('+this[_0x1694e2(0x68c)][_0x1694e2(0x61a)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x535fdc){this[_0x1694e2(0x7b7)][_0x1694e2(0x4e6)](this['instanceName']+'\x20('+this[_0x1694e2(0x68c)][_0x1694e2(0x61a)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x535fdc instanceof Error?_0x535fdc[_0x1694e2(0x61f)]:JSON['stringify'](_0x535fdc,null,0x2)));}}async[a0_0x1ec3bd(0x3be)](_0xf765c9,_0x26eb86,_0x37322b){const _0x54cf23=a0_0x1ec3bd;try{let _0x270c29={'leadInfo.leadnome':_0x26eb86[_0x54cf23(0x416)],'leadInfo.nomecompleto':_0x26eb86['nomecompleto'],'leadInfo.email':_0x26eb86[_0x54cf23(0x6cc)],'leadInfo.cpf':_0x26eb86[_0x54cf23(0xe3)],'leadInfo.status':_0x26eb86[_0x54cf23(0x4ff)],'leadInfo.notas':_0x26eb86['notas'],'leadInfo.responsavelid':_0x26eb86[_0x54cf23(0x21e)],'leadInfo.tags':_0x26eb86[_0x54cf23(0x78c)],'leadInfo.etiquetas':_0x26eb86[_0x54cf23(0x6ca)],'leadInfo.customFields':_0x37322b,'leadInfo.atendimentoAberto':_0x26eb86[_0x54cf23(0x17d)]},_0x2549c8=await this[_0x54cf23(0xbe)][_0x54cf23(0x7bf)][_0x54cf23(0x2f1)]({'where':{'_id':_0xf765c9}},this[_0x54cf23(0x68c)]['wuid']);if(!_0x2549c8)return _0x54cf23(0x566);let _0x4d2e41=new Set(_0x2549c8[_0x54cf23(0x72f)]['etiquetas']||[]),_0xa008aa=new Set(_0x26eb86[_0x54cf23(0x6ca)]||[]),_0x5691ae=await this[_0x54cf23(0xbe)]['label']['find']({'where':{}},this[_0x54cf23(0x68c)][_0x54cf23(0x61a)]),_0x2fff35=new Set(_0x5691ae[_0x54cf23(0x6ef)](_0x251870=>_0x251870[_0x54cf23(0x16c)])),_0x2a582d=[..._0xa008aa]['filter'](_0xf1fadf=>!_0x4d2e41[_0x54cf23(0x5a1)](_0xf1fadf)&&_0x2fff35['has'](_0xf1fadf)),_0x234030=[..._0x4d2e41][_0x54cf23(0x433)](_0x174fff=>!_0xa008aa['has'](_0x174fff));for(let _0x39db45 of _0x2a582d)await this[_0x54cf23(0x4ab)](_0x39db45,_0x2549c8[_0x54cf23(0x16c)]),_0x4d2e41['add'](_0x39db45);for(let _0x274a28 of _0x234030)await this[_0x54cf23(0x401)](_0x274a28,_0x2549c8[_0x54cf23(0x16c)]),_0x4d2e41[_0x54cf23(0x6f4)](_0x274a28);if(_0x54cf23(0x26f)in _0x26eb86){let _0x15141c=_0x26eb86[_0x54cf23(0x26f)];_0x270c29[_0x54cf23(0x3c2)]=_0x15141c?Number(_0x15141c):null;}if(_0x54cf23(0x17d)in _0x26eb86){let _0x4bebec=_0x26eb86[_0x54cf23(0x17d)][_0x54cf23(0x3b4)]();_0x270c29[_0x54cf23(0x335)]=_0x4bebec===_0x54cf23(0x410)||_0x4bebec==='1'||_0x4bebec==='yes'||_0x4bebec===_0x54cf23(0x42a);}let _0x5b7b92=await this[_0x54cf23(0xbe)][_0x54cf23(0x7bf)][_0x54cf23(0x2f9)]({'where':{'_id':_0xf765c9}},_0x270c29,this[_0x54cf23(0x68c)][_0x54cf23(0x61a)]);_0x5b7b92?(this[_0x54cf23(0x7b7)][_0x54cf23(0x7ac)](this[_0x54cf23(0x147)]+'\x20('+this[_0x54cf23(0x68c)]['wuid']+_0x54cf23(0x440)+_0x5b7b92[_0x54cf23(0x16c)]),U(this[_0x54cf23(0x147)],_0x54cf23(0xcf),{'chat':_0x5b7b92})):this[_0x54cf23(0x7b7)][_0x54cf23(0x4e6)](this[_0x54cf23(0x147)]+'\x20('+this[_0x54cf23(0x68c)][_0x54cf23(0x61a)]+_0x54cf23(0x6c4));}catch(_0x5214f6){this[_0x54cf23(0x7b7)][_0x54cf23(0x4e6)](this[_0x54cf23(0x147)]+'\x20('+this[_0x54cf23(0x68c)][_0x54cf23(0x61a)]+_0x54cf23(0x613)+(_0x5214f6 instanceof Error?_0x5214f6[_0x54cf23(0x61f)]:JSON[_0x54cf23(0x5b9)](_0x5214f6,null,0x2)));}}async[a0_0x1ec3bd(0x3b5)](_0x46829c,_0xc50083){const _0x11e31a=a0_0x1ec3bd;this['logger'][_0x11e31a(0x7ac)](this['instanceName']+'\x20('+this[_0x11e31a(0x68c)]['wuid']+_0x11e31a(0x53b)+_0xc50083);try{let _0x1ca49a=await this[_0x11e31a(0xbe)][_0x11e31a(0x7bf)][_0x11e31a(0x2f9)]({'where':{'_id':_0x46829c[_0x11e31a(0x47e)]}},{'leadInfo.desativadoFluxoAte':_0xc50083},this[_0x11e31a(0x68c)][_0x11e31a(0x61a)]);this[_0x11e31a(0x7b7)][_0x11e31a(0x7ac)](this[_0x11e31a(0x147)]+'\x20('+this[_0x11e31a(0x68c)][_0x11e31a(0x61a)]+_0x11e31a(0x45e)+_0x46829c[_0x11e31a(0x16c)]),this[_0x11e31a(0x7b7)][_0x11e31a(0x7ac)](this[_0x11e31a(0x147)]+'\x20('+this['instance'][_0x11e31a(0x61a)]+_0x11e31a(0x53b)+JSON['stringify'](_0x1ca49a,null,0x2)),_0x1ca49a&&U(this['instanceName'],_0x11e31a(0xcf),{'chat':_0x1ca49a});}catch(_0x1d4de4){this['logger'][_0x11e31a(0x4e6)](this['instanceName']+'\x20('+this['instance'][_0x11e31a(0x61a)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x1d4de4 instanceof Error?_0x1d4de4['message']:JSON[_0x11e31a(0x5b9)](_0x1d4de4,null,0x2)));}}async['findFlow'](_0x4193dc){const _0x277667=a0_0x1ec3bd;try{this[_0x277667(0x7b7)]['verbose'](this[_0x277667(0x147)]+'\x20('+this['instance']['wuid']+_0x277667(0x6b1));let _0x27b919=_0x4193dc[_0x277667(0x2b2)](/\D/g,''),_0x178d77=this[_0x277667(0x1d3)][_0x277667(0x30c)][_0x277667(0x435)](_0x1a70af=>_0x1a70af['testingWith']===_0x27b919);if(_0x178d77||(this[_0x277667(0x7b7)]['verbose'](this[_0x277667(0x147)]+'\x20('+this[_0x277667(0x68c)][_0x277667(0x61a)]+_0x277667(0x132)),_0x178d77=this['AutomateSystem'][_0x277667(0x30c)][_0x277667(0x435)](_0x27a594=>_0x27a594[_0x277667(0x442)]===!0x0)),!_0x178d77)return this[_0x277667(0x7b7)]['verbose'](this[_0x277667(0x147)]+'\x20('+this['instance'][_0x277667(0x61a)]+_0x277667(0x651)),null;let _0x1ae535=await this['repository'][_0x277667(0x5a4)][_0x277667(0x2f1)]({'where':{'_id':_0x178d77[_0x277667(0x16c)]}});if(!_0x1ae535||!_0x1ae535['whoCanUse']?.[_0x277667(0x39c)](this[_0x277667(0x68c)][_0x277667(0x61a)]))throw this[_0x277667(0x7b7)][_0x277667(0x4e6)](this[_0x277667(0x147)]+'\x20('+this[_0x277667(0x68c)][_0x277667(0x61a)]+_0x277667(0x4a8)+_0x1ae535[_0x277667(0x16c)]+_0x277667(0x5f1)),new m(_0x277667(0x5bb)+_0x1ae535[_0x277667(0x16c)]+_0x277667(0x5f1));return _0x1ae535;}catch(_0xad08d5){return this[_0x277667(0x7b7)]['error'](this[_0x277667(0x147)]+'\x20('+this[_0x277667(0x68c)][_0x277667(0x61a)]+_0x277667(0x249)+(_0xad08d5 instanceof Error?_0xad08d5[_0x277667(0x61f)]:JSON[_0x277667(0x5b9)](_0xad08d5,null,0x2))),null;}}async[a0_0x1ec3bd(0x37e)](_0x45faf0,_0x4eeb11){const _0x2082f2=a0_0x1ec3bd;try{let _0x1e61c9=!!_0x4eeb11[_0x2082f2(0x19d)],_0x1ef8e6=_0x4eeb11[_0x2082f2(0x285)],_0x49458d=null;if(this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this[_0x2082f2(0x147)]+'\x20('+this[_0x2082f2(0x68c)]['wuid']+'):\x20isVote:\x20'+_0x1e61c9+_0x2082f2(0x1b6)+_0x1ef8e6),_0x1e61c9){this[_0x2082f2(0x7b7)]['verbose'](this[_0x2082f2(0x147)]+'\x20('+this[_0x2082f2(0x68c)]['wuid']+_0x2082f2(0x14c));let _0xc29f44={'where':{'remoteJid':_0x45faf0,'waitingMenu_id':_0x1ef8e6}};if(_0x49458d=await this[_0x2082f2(0xbe)][_0x2082f2(0x6a5)][_0x2082f2(0x2f1)](_0xc29f44,this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]),!_0x49458d)return this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this[_0x2082f2(0x147)]+'\x20('+this['instance']['wuid']+_0x2082f2(0x415)),null;let _0x4a9c17=Date['now'](),_0x401e3b=_0x49458d?.[_0x2082f2(0x41d)]||0x0,_0x2c7986=_0x4a9c17-_0x401e3b*0x3c*0x3e8;if(_0x49458d['lastInteraction']<_0x2c7986){this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this[_0x2082f2(0x147)]+'\x20('+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+_0x2082f2(0x1a0));let _0x43c948={'number':_0x49458d[_0x2082f2(0x47e)],'options':{'delay':0x0},'textMessage':{'text':_0x49458d[_0x2082f2(0x3cc)]}};await this['textMessage'](_0x43c948);let _0x176c97={'status':_0x2082f2(0x5d3),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2082f2(0xbe)][_0x2082f2(0x6a5)][_0x2082f2(0x2f9)](_0x49458d['_id'],_0x176c97,this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]),null;}return _0x49458d[_0x2082f2(0x77a)]=Date[_0x2082f2(0x450)](),_0x49458d[_0x2082f2(0x1a8)][_0x2082f2(0x3d7)]=_0x4eeb11,_0x49458d;}else{this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this[_0x2082f2(0x147)]+'\x20('+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+_0x2082f2(0x4e1)+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+_0x2082f2(0x216)),this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20conversa');let _0xbc178={'where':{'remoteJid':_0x45faf0,'status':'open'}};if(_0x49458d=await this[_0x2082f2(0xbe)]['flowConversation'][_0x2082f2(0x2f1)](_0xbc178,this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]),!_0x49458d){let _0x3ea9d6=await this[_0x2082f2(0x15f)](_0x45faf0);if(_0x3ea9d6&&(_0x49458d=await this['createNewConversation'](_0x3ea9d6,_0x4eeb11[_0x2082f2(0x4dd)],_0x4eeb11)),!_0x49458d)return null;}let _0xfa6f96=Date['now'](),_0x5b57db=_0x49458d?.[_0x2082f2(0x41d)]||0x0,_0x284f2f=_0xfa6f96-_0x5b57db*0x3c*0x3e8;if(this['logger'][_0x2082f2(0x7ac)](this['instanceName']+'\x20('+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+'):\x20Current\x20Time:\x20'+_0xfa6f96+',\x20Minutes\x20to\x20Close:\x20'+_0x5b57db+',\x20Expiration\x20Time:\x20'+_0x284f2f),this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this[_0x2082f2(0x147)]+'\x20('+this['instance'][_0x2082f2(0x61a)]+_0x2082f2(0x6a0)),this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this[_0x2082f2(0x147)]+'\x20('+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+_0x2082f2(0x3c9)+_0x49458d[_0x2082f2(0x77a)]),this[_0x2082f2(0x7b7)][_0x2082f2(0x7ac)](this[_0x2082f2(0x147)]+'\x20('+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+'):\x20expirationTime:\x20'+_0x284f2f),_0x49458d[_0x2082f2(0x77a)]<_0x284f2f){this['logger'][_0x2082f2(0x7ac)](this['instanceName']+'\x20('+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+_0x2082f2(0x587));let _0x26c4a1=await this[_0x2082f2(0x15f)](_0x45faf0);if(_0x26c4a1===null)return null;_0x49458d&&await this[_0x2082f2(0xbe)][_0x2082f2(0x6a5)][_0x2082f2(0x2f9)](_0x49458d[_0x2082f2(0x16c)],{'status':'closed'},this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]),_0x49458d=await this[_0x2082f2(0x464)](_0x26c4a1,_0x4eeb11[_0x2082f2(0x4dd)],_0x4eeb11);}return _0x49458d[_0x2082f2(0x77a)]=_0xfa6f96,_0x49458d[_0x2082f2(0x1a8)]['lastReceivedMessage']=_0x4eeb11,_0x49458d;}}catch(_0x271696){return this[_0x2082f2(0x7b7)][_0x2082f2(0x4e6)](this['instanceName']+'\x20('+this[_0x2082f2(0x68c)][_0x2082f2(0x61a)]+_0x2082f2(0x6e5)+(_0x271696 instanceof Error?_0x271696['message']:JSON['stringify'](_0x271696,null,0x2))),null;}}async[a0_0x1ec3bd(0x464)](_0x78be15,_0x2486fc,_0x2cd3ce){const _0xbbad19=a0_0x1ec3bd;this[_0xbbad19(0x7b7)][_0xbbad19(0x7ac)](this[_0xbbad19(0x147)]+'\x20('+this[_0xbbad19(0x68c)][_0xbbad19(0x61a)]+_0xbbad19(0x68e));try{let _0x3be5af=require('mongodb')[_0xbbad19(0x334)],_0x396a2f=Date['now'](),_0x4e6acf=_0xbbad19(0x6a4),_0x3ce42f=_0x2486fc[_0xbbad19(0x3e2)]?null:_0x2cd3ce,_0x32827c=_0x2486fc[_0xbbad19(0x3e2)]?_0x2cd3ce:null,_0x34655a=_0x2486fc['remoteJid'],_0x4dbb6f=this[_0xbbad19(0x1d3)][_0xbbad19(0x30c)][_0xbbad19(0x435)](_0x28d0bc=>_0x28d0bc['_id']===_0x78be15[_0xbbad19(0x16c)]?.['toString']()),_0x3fc4be=_0x4dbb6f?.[_0xbbad19(0x41d)]??_0x78be15['minutesToClose']??0x0,_0x3e400f=_0x4dbb6f?.[_0xbbad19(0x66f)]??_0x78be15[_0xbbad19(0x66f)]??!0x1;await this[_0xbbad19(0x6ae)](_0x34655a);let _0x45ef61={'flowId':_0x78be15[_0xbbad19(0x16c)],..._0x78be15,'chatLog':null},_0x4d869f=await this[_0xbbad19(0xa3)](_0x45ef61['variables']),_0x225f2e=await this[_0xbbad19(0xe6)](_0x34655a),_0x3badfc={..._0x4d869f,..._0x225f2e,'_remoteJid':_0x34655a},_0x3775c2={'lastReceivedMessage':_0x3ce42f,'lastSendMessage':_0x32827c,'lastBlockId':_0x4e6acf,'lastCondition':!0x0,'realVariables':_0x3badfc};_0x45ef61[_0xbbad19(0x1a8)]=_0x3775c2,delete _0x45ef61[_0xbbad19(0x16c)],_0x45ef61[_0xbbad19(0x16c)]=new _0x3be5af(),_0x45ef61[_0xbbad19(0x77a)]=_0x396a2f,_0x45ef61[_0xbbad19(0x4ff)]='open',_0x45ef61['remoteJid']=_0x34655a,_0x45ef61[_0xbbad19(0x41d)]=_0x3fc4be,_0x45ef61[_0xbbad19(0x66f)]=_0x3e400f;let _0x409e7a=await this[_0xbbad19(0xbe)][_0xbbad19(0x6a5)]['updateOne'](_0x45ef61[_0xbbad19(0x16c)],_0x45ef61,this[_0xbbad19(0x68c)]['wuid']);return this[_0xbbad19(0x7b7)][_0xbbad19(0x7ac)](this[_0xbbad19(0x147)]+'\x20('+this[_0xbbad19(0x68c)][_0xbbad19(0x61a)]+_0xbbad19(0x3e4)),_0x409e7a?_0x45ef61:null;}catch(_0x26e663){return this[_0xbbad19(0x7b7)]['error'](this[_0xbbad19(0x147)]+'\x20('+this[_0xbbad19(0x68c)][_0xbbad19(0x61a)]+_0xbbad19(0x5c6)+(_0x26e663 instanceof Error?_0x26e663[_0xbbad19(0x61f)]:JSON['stringify'](_0x26e663,null,0x2))),_0x26e663;}}async[a0_0x1ec3bd(0x611)](_0x5713b3,_0x7cd32a){const _0x3ec1cd=a0_0x1ec3bd;let _0x2eddd7=_0x5713b3[_0x3ec1cd(0x47e)];_0x7cd32a[_0x3ec1cd(0x304)][_0x3ec1cd(0x47e)]&&_0x7cd32a['uazapi']['remoteJid'][_0x3ec1cd(0x2ee)]()!==''&&(_0x2eddd7=_0x7cd32a[_0x3ec1cd(0x304)]['remoteJid'][_0x3ec1cd(0x2ee)]()),this[_0x3ec1cd(0x7b7)][_0x3ec1cd(0x7ac)](this[_0x3ec1cd(0x147)]+'\x20('+this['instance'][_0x3ec1cd(0x61a)]+'):\x20Enviando\x20texto');let _0x80eafd={'number':_0x2eddd7,'options':{'delay':_0x7cd32a[_0x3ec1cd(0x304)]['delay'],'linkPreview':_0x7cd32a[_0x3ec1cd(0x304)][_0x3ec1cd(0x36b)]},'textMessage':{'text':_0x7cd32a[_0x3ec1cd(0x304)][_0x3ec1cd(0x77d)]}};try{let _0x21616a=await this[_0x3ec1cd(0x3d6)](_0x80eafd);if(_0x21616a){let _0x3caea3={'_id':_0x21616a[_0x3ec1cd(0x4dd)]['id'],'_fromMe':_0x21616a[_0x3ec1cd(0x4dd)]['fromMe'],'_remoteJid':_0x21616a[_0x3ec1cd(0x4dd)]['remoteJid']},_0x4f8586=(0x0,w['normalizeMessageContent'])(_0x21616a[_0x3ec1cd(0x61f)]),_0x45b93f=(0x0,w[_0x3ec1cd(0x324)])(_0x4f8586);_0x5713b3[_0x3ec1cd(0x1a8)][_0x3ec1cd(0x5a6)]=_0x7cd32a['_id'][_0x3ec1cd(0x51d)]();let {message_normalized:_0x281d26}=this['normalizeMessage'](_0x4f8586,_0x45b93f,null);_0x5713b3[_0x3ec1cd(0x1a8)][_0x3ec1cd(0x420)]=await _0x281d26;let _0x304cd2={'messageId':_0x21616a[_0x3ec1cd(0x4dd)]['id']},_0x4f7cb9=_0x5713b3[_0x3ec1cd(0x1a8)]['realVariables'];Object[_0x3ec1cd(0x615)](_0x4f7cb9,_0x3caea3),_0x5713b3[_0x3ec1cd(0x1a8)][_0x3ec1cd(0x327)]=_0x4f7cb9,this[_0x3ec1cd(0x6c1)](_0x5713b3,_0x7cd32a,_0x304cd2);}else{let _0x3dd2bb={'error':!0x0};this['updateConversation'](_0x5713b3,_0x7cd32a,_0x3dd2bb),this['logger'][_0x3ec1cd(0x4e6)](this['instanceName']+'\x20('+this[_0x3ec1cd(0x68c)]['wuid']+_0x3ec1cd(0x630));}}catch(_0xb5a4ef){let _0x1d3d29={'error':!0x0,'errorLog':_0xb5a4ef[_0x3ec1cd(0x51d)]()};this[_0x3ec1cd(0x6c1)](_0x5713b3,_0x7cd32a,_0x1d3d29),this['logger'][_0x3ec1cd(0x4e6)](this[_0x3ec1cd(0x147)]+'\x20('+this[_0x3ec1cd(0x68c)][_0x3ec1cd(0x61a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0xb5a4ef instanceof Error?_0xb5a4ef[_0x3ec1cd(0x61f)]:JSON[_0x3ec1cd(0x5b9)](_0xb5a4ef,null,0x2)));}}async[a0_0x1ec3bd(0xe4)](_0x4c902c,_0x5d442c){const _0x5b03cc=a0_0x1ec3bd;let _0x383af8=_0x4c902c['remoteJid'];_0x5d442c['uazapi'][_0x5b03cc(0x47e)]&&_0x5d442c['uazapi'][_0x5b03cc(0x47e)]['trim']()!==''&&(_0x383af8=_0x5d442c['uazapi'][_0x5b03cc(0x47e)][_0x5b03cc(0x2ee)]()),this['logger'][_0x5b03cc(0x7ac)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5b03cc(0x1fb));let _0x8b2cd6={'number':_0x383af8,'options':{'delay':_0x5d442c['uazapi'][_0x5b03cc(0x5fa)],'linkPreview':_0x5d442c[_0x5b03cc(0x304)][_0x5b03cc(0x36b)]},'mediaMessage':{'mediatype':_0x5d442c[_0x5b03cc(0x304)]['mediatype'],'caption':_0x5d442c[_0x5b03cc(0x304)][_0x5b03cc(0x45d)],'media':_0x5d442c[_0x5b03cc(0x304)][_0x5b03cc(0x168)],'fileName':_0x5d442c[_0x5b03cc(0x304)][_0x5b03cc(0x608)]}};try{let _0xf44553=await this['mediaMessage'](_0x8b2cd6);if(_0xf44553){let _0x531828={'_id':_0xf44553[_0x5b03cc(0x4dd)]['id'],'_fromMe':_0xf44553[_0x5b03cc(0x4dd)][_0x5b03cc(0x3e2)],'_remoteJid':_0xf44553[_0x5b03cc(0x4dd)][_0x5b03cc(0x47e)]},_0x58b6e6=(0x0,w[_0x5b03cc(0x162)])(_0xf44553['message']),_0x3016aa=(0x0,w[_0x5b03cc(0x324)])(_0x58b6e6);_0x4c902c[_0x5b03cc(0x1a8)][_0x5b03cc(0x5a6)]=_0x5d442c[_0x5b03cc(0x16c)][_0x5b03cc(0x51d)]();let {message_normalized:_0x913ac4}=this['normalizeMessage'](_0x58b6e6,_0x3016aa,null);_0x4c902c[_0x5b03cc(0x1a8)]['lastSendMessage']=await _0x913ac4;let _0x5dc784={'messageId':_0xf44553[_0x5b03cc(0x4dd)]['id']},_0x118dff=_0x4c902c['chatLog'][_0x5b03cc(0x327)];Object[_0x5b03cc(0x615)](_0x118dff,_0x531828),_0x4c902c[_0x5b03cc(0x1a8)][_0x5b03cc(0x327)]=_0x118dff,this[_0x5b03cc(0x6c1)](_0x4c902c,_0x5d442c,_0x5dc784);}else{let _0x5ef71f={'error':!0x0};this[_0x5b03cc(0x6c1)](_0x4c902c,_0x5d442c,_0x5ef71f),this[_0x5b03cc(0x7b7)][_0x5b03cc(0x4e6)](this[_0x5b03cc(0x147)]+'\x20('+this[_0x5b03cc(0x68c)][_0x5b03cc(0x61a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x3fd92b){let _0xbd356a={'error':!0x0,'errorLog':_0x3fd92b[_0x5b03cc(0x51d)]()};this[_0x5b03cc(0x6c1)](_0x4c902c,_0x5d442c,_0xbd356a),this['logger']['error'](this[_0x5b03cc(0x147)]+'\x20('+this[_0x5b03cc(0x68c)][_0x5b03cc(0x61a)]+_0x5b03cc(0x113)+(_0x3fd92b instanceof Error?_0x3fd92b[_0x5b03cc(0x61f)]:JSON['stringify'](_0x3fd92b,null,0x2)));}}async['uazapiSendLocation'](_0x2edf03,_0x41635b){const _0x422af9=a0_0x1ec3bd;let _0x2bba5e=_0x2edf03[_0x422af9(0x47e)];_0x41635b[_0x422af9(0x304)][_0x422af9(0x47e)]&&_0x41635b[_0x422af9(0x304)][_0x422af9(0x47e)]['trim']()!==''&&(_0x2bba5e=_0x41635b[_0x422af9(0x304)][_0x422af9(0x47e)][_0x422af9(0x2ee)]()),this[_0x422af9(0x7b7)][_0x422af9(0x7ac)](this['instanceName']+'\x20('+this[_0x422af9(0x68c)][_0x422af9(0x61a)]+_0x422af9(0x3d9));let _0x51ed57={'number':_0x2bba5e,'options':{'delay':_0x41635b[_0x422af9(0x304)][_0x422af9(0x5fa)]},'locationMessage':{'name':_0x41635b[_0x422af9(0x304)]['name'],'address':_0x41635b['uazapi']['address'],'latitude':_0x41635b[_0x422af9(0x304)][_0x422af9(0x5ee)],'longitude':_0x41635b[_0x422af9(0x304)][_0x422af9(0x65c)]}};try{let _0x48545f=await this[_0x422af9(0x252)](_0x51ed57);if(_0x48545f){let _0x4f32f9={'_id':_0x48545f[_0x422af9(0x4dd)]['id'],'_fromMe':_0x48545f['key'][_0x422af9(0x3e2)],'_remoteJid':_0x48545f[_0x422af9(0x4dd)][_0x422af9(0x47e)]},_0x69d651=(0x0,w[_0x422af9(0x162)])(_0x48545f[_0x422af9(0x61f)]),_0x51fdba=(0x0,w['getContentType'])(_0x69d651);_0x2edf03[_0x422af9(0x1a8)][_0x422af9(0x5a6)]=_0x41635b[_0x422af9(0x16c)][_0x422af9(0x51d)]();let {message_normalized:_0x414f9f}=this['normalizeMessage'](_0x69d651,_0x51fdba,null);_0x2edf03[_0x422af9(0x1a8)][_0x422af9(0x420)]=await _0x414f9f;let _0x16db88={'messageId':_0x48545f[_0x422af9(0x4dd)]['id']},_0xa3b7f6=_0x2edf03['chatLog'][_0x422af9(0x327)];Object[_0x422af9(0x615)](_0xa3b7f6,_0x4f32f9),_0x2edf03[_0x422af9(0x1a8)][_0x422af9(0x327)]=_0xa3b7f6,this['updateConversation'](_0x2edf03,_0x41635b,_0x16db88);}else{let _0x5e08d1={'error':!0x0};this[_0x422af9(0x6c1)](_0x2edf03,_0x41635b,_0x5e08d1),this['logger'][_0x422af9(0x4e6)](this['instanceName']+'\x20('+this[_0x422af9(0x68c)]['wuid']+_0x422af9(0x125));}}catch(_0x30a507){let _0x5df29c={'error':!0x0,'errorLog':_0x30a507[_0x422af9(0x51d)]()};this[_0x422af9(0x6c1)](_0x2edf03,_0x41635b,_0x5df29c),this[_0x422af9(0x7b7)][_0x422af9(0x4e6)](this[_0x422af9(0x147)]+'\x20('+this[_0x422af9(0x68c)]['wuid']+_0x422af9(0x222)+(_0x30a507 instanceof Error?_0x30a507['message']:JSON['stringify'](_0x30a507,null,0x2)));}}async[a0_0x1ec3bd(0x592)](_0x5d3426,_0x3addd3){const _0x30892a=a0_0x1ec3bd;let _0xa04e3a=_0x5d3426[_0x30892a(0x47e)];_0x3addd3[_0x30892a(0x304)][_0x30892a(0x47e)]&&_0x3addd3[_0x30892a(0x304)]['remoteJid'][_0x30892a(0x2ee)]()!==''&&(_0xa04e3a=_0x3addd3[_0x30892a(0x304)][_0x30892a(0x47e)][_0x30892a(0x2ee)]()),this[_0x30892a(0x7b7)][_0x30892a(0x7ac)](this['instanceName']+'\x20('+this[_0x30892a(0x68c)]['wuid']+_0x30892a(0x3c6));let _0x263f3e={'number':_0xa04e3a,'options':{'delay':_0x3addd3[_0x30892a(0x304)][_0x30892a(0x5fa)]},'audioMessage':{'audio':_0x3addd3[_0x30892a(0x304)][_0x30892a(0x6a2)]}};try{let _0x14c65=await this[_0x30892a(0x5d9)](_0x263f3e);if(_0x14c65){let _0x34049c={'_id':_0x14c65[_0x30892a(0x4dd)]['id'],'_fromMe':_0x14c65[_0x30892a(0x4dd)][_0x30892a(0x3e2)],'_remoteJid':_0x14c65[_0x30892a(0x4dd)][_0x30892a(0x47e)]},_0x3a4c2d=(0x0,w[_0x30892a(0x162)])(_0x14c65[_0x30892a(0x61f)]),_0x1fdc8d=(0x0,w[_0x30892a(0x324)])(_0x3a4c2d);_0x5d3426['chatLog'][_0x30892a(0x5a6)]=_0x3addd3[_0x30892a(0x16c)][_0x30892a(0x51d)]();let {message_normalized:_0x2346a6}=this[_0x30892a(0x98)](_0x3a4c2d,_0x1fdc8d,null);_0x5d3426[_0x30892a(0x1a8)][_0x30892a(0x420)]=await _0x2346a6;let _0x4f5627={'messageId':_0x14c65[_0x30892a(0x4dd)]['id']},_0x41a024=_0x5d3426[_0x30892a(0x1a8)][_0x30892a(0x327)];Object[_0x30892a(0x615)](_0x41a024,_0x34049c),_0x5d3426[_0x30892a(0x1a8)][_0x30892a(0x327)]=_0x41a024,this[_0x30892a(0x6c1)](_0x5d3426,_0x3addd3,_0x4f5627);}else{let _0x16644d={'error':!0x0};this[_0x30892a(0x6c1)](_0x5d3426,_0x3addd3,_0x16644d),this[_0x30892a(0x7b7)][_0x30892a(0x4e6)](this[_0x30892a(0x147)]+'\x20('+this[_0x30892a(0x68c)][_0x30892a(0x61a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x5c428c){let _0x1f594a={'error':!0x0,'errorLog':_0x5c428c['toString']()};this[_0x30892a(0x6c1)](_0x5d3426,_0x3addd3,_0x1f594a),this[_0x30892a(0x7b7)][_0x30892a(0x4e6)](this['instanceName']+'\x20('+this[_0x30892a(0x68c)][_0x30892a(0x61a)]+_0x30892a(0x1e7)+(_0x5c428c instanceof Error?_0x5c428c[_0x30892a(0x61f)]:JSON[_0x30892a(0x5b9)](_0x5c428c,null,0x2)));}}async[a0_0x1ec3bd(0x5cc)](_0x391d8d,_0x4460e2){const _0x3fac1d=a0_0x1ec3bd;let _0x412ccf=_0x391d8d[_0x3fac1d(0x47e)];_0x4460e2[_0x3fac1d(0x304)][_0x3fac1d(0x47e)]&&_0x4460e2[_0x3fac1d(0x304)][_0x3fac1d(0x47e)][_0x3fac1d(0x2ee)]()!==''&&(_0x412ccf=_0x4460e2[_0x3fac1d(0x304)][_0x3fac1d(0x47e)][_0x3fac1d(0x2ee)]()),this[_0x3fac1d(0x7b7)][_0x3fac1d(0x7ac)](this['instanceName']+'\x20('+this[_0x3fac1d(0x68c)][_0x3fac1d(0x61a)]+_0x3fac1d(0x1ae));let _0x15d89d={'number':_0x412ccf,'options':{'delay':_0x4460e2[_0x3fac1d(0x304)][_0x3fac1d(0x5fa)]},'contactMessage':[{'fullName':_0x4460e2['uazapi'][_0x3fac1d(0x460)],'phoneNumber':_0x4460e2[_0x3fac1d(0x304)][_0x3fac1d(0x7c4)]}]};try{let _0x3a5148=await this['contactMessage'](_0x15d89d);if(_0x3a5148){let _0x54f324={'_id':_0x3a5148[_0x3fac1d(0x4dd)]['id'],'_fromMe':_0x3a5148[_0x3fac1d(0x4dd)][_0x3fac1d(0x3e2)],'_remoteJid':_0x3a5148['key'][_0x3fac1d(0x47e)]},_0x4c1945=(0x0,w[_0x3fac1d(0x162)])(_0x3a5148[_0x3fac1d(0x61f)]),_0x1f5e62=(0x0,w[_0x3fac1d(0x324)])(_0x4c1945);_0x391d8d[_0x3fac1d(0x1a8)][_0x3fac1d(0x5a6)]=_0x4460e2[_0x3fac1d(0x16c)][_0x3fac1d(0x51d)]();let {message_normalized:_0x4b52e2}=this[_0x3fac1d(0x98)](_0x4c1945,_0x1f5e62,null);_0x391d8d[_0x3fac1d(0x1a8)][_0x3fac1d(0x420)]=await _0x4b52e2;let _0x29d2bc={'messageId':_0x3a5148[_0x3fac1d(0x4dd)]['id']},_0x4aec84=_0x391d8d['chatLog'][_0x3fac1d(0x327)];Object[_0x3fac1d(0x615)](_0x4aec84,_0x54f324),_0x391d8d[_0x3fac1d(0x1a8)][_0x3fac1d(0x327)]=_0x4aec84,this[_0x3fac1d(0x6c1)](_0x391d8d,_0x4460e2,_0x29d2bc);}else{let _0x20c0ee={'error':!0x0};this[_0x3fac1d(0x6c1)](_0x391d8d,_0x4460e2,_0x20c0ee),this[_0x3fac1d(0x7b7)][_0x3fac1d(0x4e6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3fac1d(0x409));}}catch(_0x37a1a0){let _0x485566={'error':!0x0,'errorLog':_0x37a1a0[_0x3fac1d(0x51d)]()};this[_0x3fac1d(0x6c1)](_0x391d8d,_0x4460e2,_0x485566),this[_0x3fac1d(0x7b7)][_0x3fac1d(0x4e6)](this[_0x3fac1d(0x147)]+'\x20('+this['instance'][_0x3fac1d(0x61a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x37a1a0 instanceof Error?_0x37a1a0[_0x3fac1d(0x61f)]:JSON[_0x3fac1d(0x5b9)](_0x37a1a0,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x52ac05,_0x23b45b){const _0x5575ea=a0_0x1ec3bd;for(let _0x13242e of _0x52ac05)_0x13242e[_0x5575ea(0x307)]&&(_0x13242e[_0x5575ea(0x307)]=this[_0x5575ea(0x29b)](_0x13242e['option'],_0x23b45b)),_0x13242e[_0x5575ea(0x54c)]&&(_0x13242e[_0x5575ea(0x54c)]=this[_0x5575ea(0x29b)](_0x13242e['optionDescription'],_0x23b45b));}async[a0_0x1ec3bd(0x7aa)](_0x531bbf,_0x2bd1ef){const _0x16922b=a0_0x1ec3bd;let _0x97a3b9=_0x531bbf['remoteJid'];_0x2bd1ef['uazapi'][_0x16922b(0x47e)]&&_0x2bd1ef[_0x16922b(0x304)][_0x16922b(0x47e)][_0x16922b(0x2ee)]()!==''&&(_0x97a3b9=_0x2bd1ef[_0x16922b(0x304)]['remoteJid'][_0x16922b(0x2ee)]()),this['logger']['verbose'](this[_0x16922b(0x147)]+'\x20('+this['instance'][_0x16922b(0x61a)]+_0x16922b(0x531));let _0x15d327=_0x531bbf[_0x16922b(0x482)]['filter'](_0x2dad18=>_0x2dad18[_0x16922b(0x1fe)]===_0x2bd1ef['_id'])['sort']((_0xa5ea38,_0x331756)=>_0xa5ea38['order']-_0x331756[_0x16922b(0x6da)]);this[_0x16922b(0x5fb)](_0x15d327,_0x531bbf[_0x16922b(0x1a8)][_0x16922b(0x327)]);let _0x47d2fe=_0x15d327[_0x16922b(0x6ef)](_0x44200b=>_0x44200b[_0x16922b(0x307)]),_0x31ba39={'number':_0x97a3b9,'menuMessage':{'type':_0x2bd1ef['uazapi'][_0x16922b(0x339)]||_0x16922b(0x4ee),'text':_0x2bd1ef[_0x16922b(0x304)][_0x16922b(0x77d)]||_0x2bd1ef['uazapi'][_0x16922b(0x6fa)],'footerText':_0x2bd1ef['uazapi']['footerText'],'buttonText':_0x2bd1ef['uazapi'][_0x16922b(0x10e)],'selectableCount':0x1,'choices':_0x47d2fe},'options':{'delay':_0x2bd1ef['uazapi'][_0x16922b(0x5fa)]}};try{let _0x5c8f1c=await this[_0x16922b(0x2b1)](_0x31ba39);if(_0x5c8f1c){let _0x43df6c={'_id':_0x5c8f1c[_0x16922b(0x4dd)]['id'],'_fromMe':_0x5c8f1c[_0x16922b(0x4dd)][_0x16922b(0x3e2)],'_remoteJid':_0x5c8f1c[_0x16922b(0x4dd)][_0x16922b(0x47e)]};_0x2bd1ef[_0x16922b(0x304)]['menuIgnoreNonVotes']===!0x0&&(_0x531bbf['status']='waitingForReplyMenu',this['logger']['verbose'](this[_0x16922b(0x147)]+'\x20('+this['instance'][_0x16922b(0x61a)]+'):\x20conversation.status:\x20'+_0x531bbf[_0x16922b(0x4ff)])),this['logger'][_0x16922b(0x7ac)](this[_0x16922b(0x147)]+'\x20('+this[_0x16922b(0x68c)][_0x16922b(0x61a)]+_0x16922b(0x795)+(_0x2bd1ef['uazapi'][_0x16922b(0x6fa)]||_0x2bd1ef[_0x16922b(0x304)][_0x16922b(0x77d)])),_0x531bbf['waitingMenu_id']=_0x5c8f1c['key']['id'],_0x531bbf['waitingMenu_text']=_0x2bd1ef[_0x16922b(0x304)]['name']||_0x2bd1ef[_0x16922b(0x304)]['text'],_0x531bbf['waitingMenu_replyOptions']=_0x15d327,_0x2bd1ef[_0x16922b(0x304)][_0x16922b(0x1c1)]&&(_0x531bbf[_0x16922b(0x3cc)]=_0x2bd1ef[_0x16922b(0x304)]['menuExpiredMessage']),this[_0x16922b(0x7b7)][_0x16922b(0x7ac)](this[_0x16922b(0x147)]+'\x20('+this[_0x16922b(0x68c)][_0x16922b(0x61a)]+_0x16922b(0x371)+_0x531bbf[_0x16922b(0x65d)]);let _0x4fe927=(0x0,w[_0x16922b(0x162)])(_0x5c8f1c[_0x16922b(0x61f)]),_0x94e667=(0x0,w['getContentType'])(_0x4fe927);_0x531bbf[_0x16922b(0x1a8)][_0x16922b(0x5a6)]=_0x2bd1ef[_0x16922b(0x16c)][_0x16922b(0x51d)]();let {message_normalized:_0x3696a7}=this['normalizeMessage'](_0x4fe927,_0x94e667,null);_0x531bbf['chatLog'][_0x16922b(0x420)]=await _0x3696a7;let _0x2da72c={'messageId':_0x5c8f1c[_0x16922b(0x4dd)]['id']},_0x3c5bac=_0x531bbf[_0x16922b(0x1a8)][_0x16922b(0x327)];Object[_0x16922b(0x615)](_0x3c5bac,_0x43df6c),_0x531bbf['chatLog'][_0x16922b(0x327)]=_0x3c5bac,this[_0x16922b(0x6c1)](_0x531bbf,_0x2bd1ef,_0x2da72c);}else{let _0x44d734={'error':!0x0};this[_0x16922b(0x6c1)](_0x531bbf,_0x2bd1ef,_0x44d734),this[_0x16922b(0x7b7)]['error'](this[_0x16922b(0x147)]+'\x20('+this[_0x16922b(0x68c)][_0x16922b(0x61a)]+_0x16922b(0x3f1));}}catch(_0x8fd453){let _0x26b356={'error':!0x0,'errorLog':_0x8fd453 instanceof Error?_0x8fd453[_0x16922b(0x61f)]:JSON[_0x16922b(0x5b9)](_0x8fd453,null,0x2)};this[_0x16922b(0x6c1)](_0x531bbf,_0x2bd1ef,_0x26b356),this[_0x16922b(0x7b7)][_0x16922b(0x4e6)](this['instanceName']+'\x20('+this[_0x16922b(0x68c)][_0x16922b(0x61a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x8fd453 instanceof Error?_0x8fd453[_0x16922b(0x61f)]:JSON[_0x16922b(0x5b9)](_0x8fd453,null,0x2)));}}async[a0_0x1ec3bd(0x55a)](_0x3166df,_0x522d5d){const _0x3d6d6e=a0_0x1ec3bd;this[_0x3d6d6e(0x7b7)][_0x3d6d6e(0x7ac)](this[_0x3d6d6e(0x147)]+'\x20('+this[_0x3d6d6e(0x68c)][_0x3d6d6e(0x61a)]+_0x3d6d6e(0x19b));let _0x5b3980=_0x3166df[_0x3d6d6e(0x1a8)][_0x3d6d6e(0x2f2)][_0x3d6d6e(0x435)](_0x3a3818=>_0x3a3818[_0x3d6d6e(0x1fe)][_0x3d6d6e(0x51d)]()===_0x522d5d[_0x3d6d6e(0x304)][_0x3d6d6e(0x1fe)][_0x3d6d6e(0x51d)]()),_0x31dbb0={'id':_0x5b3980[_0x3d6d6e(0x26e)],'remoteJid':_0x5b3980['remoteJid'],'fromMe':_0x5b3980[_0x3d6d6e(0x3e2)]};try{let _0x2cd57b=await this[_0x3d6d6e(0x104)](_0x31dbb0);if(_0x2cd57b){let _0x41b3b5=(0x0,w[_0x3d6d6e(0x162)])(_0x2cd57b[_0x3d6d6e(0x61f)]),_0x38802c=(0x0,w[_0x3d6d6e(0x324)])(_0x41b3b5);_0x3166df['chatLog'][_0x3d6d6e(0x5a6)]=_0x522d5d['_id']['toString']();let {message_normalized:_0x43bb6a}=this['normalizeMessage'](_0x41b3b5,_0x38802c,null);_0x3166df[_0x3d6d6e(0x1a8)]['lastSendMessage']=await _0x43bb6a;let _0x409789={};this[_0x3d6d6e(0x6c1)](_0x3166df,_0x522d5d,_0x409789);}else{let _0x19b76d={'error':!0x0};this[_0x3d6d6e(0x6c1)](_0x3166df,_0x522d5d,_0x19b76d),this[_0x3d6d6e(0x7b7)][_0x3d6d6e(0x4e6)](this[_0x3d6d6e(0x147)]+'\x20('+this[_0x3d6d6e(0x68c)][_0x3d6d6e(0x61a)]+_0x3d6d6e(0x394));}}catch(_0x459506){let _0x11ce6d={'error':!0x0,'errorLog':_0x459506 instanceof Error?_0x459506[_0x3d6d6e(0x61f)]:JSON['stringify'](_0x459506,null,0x2)};this[_0x3d6d6e(0x6c1)](_0x3166df,_0x522d5d,_0x11ce6d),this[_0x3d6d6e(0x7b7)]['error'](this[_0x3d6d6e(0x147)]+'\x20('+this[_0x3d6d6e(0x68c)][_0x3d6d6e(0x61a)]+_0x3d6d6e(0x508)+(_0x459506 instanceof Error?_0x459506[_0x3d6d6e(0x61f)]:JSON[_0x3d6d6e(0x5b9)](_0x459506,null,0x2)));}}async['createFlow'](_0x3e10a9,_0x2d7518){const _0x5e7b21=a0_0x1ec3bd;if(_0x3e10a9['name']||(_0x3e10a9[_0x5e7b21(0x6fa)]=(0x0,Y['v4'])()),_0x2d7518!==Ni&&_0x3e10a9?.[_0x5e7b21(0x352)])throw new m(_0x5e7b21(0x3a5));if(_0x5e7b21(0x16c)in _0x3e10a9&&'owner'in _0x3e10a9)return this[_0x5e7b21(0x6e0)](_0x3e10a9[_0x5e7b21(0x60e)],_0x3e10a9[_0x5e7b21(0x16c)]);this[_0x5e7b21(0x7b7)][_0x5e7b21(0x7ac)](this[_0x5e7b21(0x147)]+'\x20('+this[_0x5e7b21(0x68c)][_0x5e7b21(0x61a)]+_0x5e7b21(0x1b3));let _0x66aa8b=this[_0x5e7b21(0x5ce)](_0x3e10a9[_0x5e7b21(0x6fa)]),_0x1eb849=new pe[(_0x5e7b21(0x20f))][(_0x5e7b21(0x334))](),_0x14840b={'_id':_0x1eb849,'default':!0x0,'title':_0x5e7b21(0x30e),'x':0x0,'y':0x0},_0x2d0c43={'_id':new pe[(_0x5e7b21(0x20f))]['ObjectId'](),'order':0x1,'groupId':_0x1eb849[_0x5e7b21(0x51d)](),'type':_0x5e7b21(0x6a4)},_0x472016=this['instance'][_0x5e7b21(0x61a)],_0x3dc0a2={'_id':(0x0,Y['v4'])(),'owner':_0x472016,'name':_0x66aa8b,'whoCanEdit':[_0x472016],'whoCanUse':[_0x472016],'groups':[_0x14840b],'blocks':[_0x2d0c43],..._0x3e10a9};try{let _0x36156a=await this[_0x5e7b21(0xbe)][_0x5e7b21(0x5a4)]['createAndSave'](_0x3dc0a2);return await this['synchronizeAndMapFlows'](),_0x36156a;}catch(_0x559cd0){let _0x42ca31=_0x5e7b21(0x312),_0x16587d=_0x559cd0 instanceof Error?_0x559cd0[_0x5e7b21(0x61f)]:typeof _0x559cd0==_0x5e7b21(0x2c3)?JSON[_0x5e7b21(0x5b9)](_0x559cd0):_0x559cd0,_0x76ec14=_0x42ca31+':\x20'+_0x16587d;throw this[_0x5e7b21(0x7b7)][_0x5e7b21(0x4e6)](this[_0x5e7b21(0x147)]+'\x20('+this[_0x5e7b21(0x68c)][_0x5e7b21(0x61a)]+_0x5e7b21(0x4e1)+_0x76ec14),new m(_0x76ec14);}}async[a0_0x1ec3bd(0x6e0)](_0x9436b7,_0x198cca){const _0x2e267e=a0_0x1ec3bd;try{this['logger'][_0x2e267e(0x7ac)](this[_0x2e267e(0x147)]+'\x20('+this[_0x2e267e(0x68c)][_0x2e267e(0x61a)]+_0x2e267e(0xc8));let _0x577a6d=await this['repository'][_0x2e267e(0x5a4)][_0x2e267e(0x2f1)]({'where':{'_id':_0x198cca,'owner':_0x9436b7}});if(!_0x577a6d)throw new m(_0x2e267e(0x5a0));if(_0x577a6d[_0x2e267e(0x13e)]===!0x1&&!_0x577a6d[_0x2e267e(0x352)])throw new m(_0x2e267e(0x4da));let _0x4d1c3d=new Set(_0x577a6d[_0x2e267e(0xbd)]??[]);_0x4d1c3d[_0x2e267e(0x5a3)](this[_0x2e267e(0x68c)]['wuid']);let _0x4e4fd7=await this['repository'][_0x2e267e(0x5a4)][_0x2e267e(0x2f9)](_0x198cca,{..._0x577a6d,'whoCanUse':Array[_0x2e267e(0x4e0)](_0x4d1c3d)});return await this[_0x2e267e(0x754)](),_0x4e4fd7;}catch(_0x33a597){let _0x45115f=_0x2e267e(0x6cf),_0x5dad28=_0x33a597 instanceof Error?_0x33a597[_0x2e267e(0x61f)]:typeof _0x33a597=='object'?JSON[_0x2e267e(0x5b9)](_0x33a597):_0x33a597,_0x2584d0=_0x45115f+':\x20'+_0x5dad28;throw this[_0x2e267e(0x7b7)][_0x2e267e(0x4e6)](this['instanceName']+'\x20('+this['instance'][_0x2e267e(0x61a)]+_0x2e267e(0x4e1)+_0x2584d0),new m(_0x2584d0);}}[a0_0x1ec3bd(0x5ce)](_0xdf6aab){const _0x298ead=a0_0x1ec3bd;let _0x1aea48=_0xdf6aab,_0x52544e=0x1;for(;this[_0x298ead(0x1d3)][_0x298ead(0x30c)][_0x298ead(0x32d)](_0x21f711=>_0x21f711['name']===_0x1aea48);)_0x52544e++,_0x1aea48=_0xdf6aab+'\x20('+_0x52544e+')';return _0x1aea48;}async[a0_0x1ec3bd(0x10a)](_0x1b9472){const _0xda23f0=a0_0x1ec3bd;try{if(this[_0xda23f0(0x7b7)][_0xda23f0(0x7ac)](this[_0xda23f0(0x147)]+'\x20('+this[_0xda23f0(0x68c)][_0xda23f0(0x61a)]+_0xda23f0(0x1ca)+_0x1b9472['_id']+_0xda23f0(0x55d)+_0x1b9472[_0xda23f0(0xab)]),!this['AutomateSystem'][_0xda23f0(0x30c)][_0xda23f0(0x435)](_0x594195=>_0x594195[_0xda23f0(0x16c)]===_0x1b9472[_0xda23f0(0x16c)]))throw this[_0xda23f0(0x7b7)][_0xda23f0(0x7ac)](this[_0xda23f0(0x147)]+'\x20('+this[_0xda23f0(0x68c)][_0xda23f0(0x61a)]+_0xda23f0(0x107)+_0x1b9472['_id']+_0xda23f0(0x790)),new m(_0xda23f0(0xd2));let _0x113fb5=await this['repository'][_0xda23f0(0x5a4)][_0xda23f0(0x2f1)]({'where':{'_id':_0x1b9472[_0xda23f0(0x16c)]}});if(!_0x113fb5)throw new m(_0xda23f0(0x3db));if(this['instance']['wuid']===_0x113fb5['owner']){this['logger'][_0xda23f0(0x7ac)](this[_0xda23f0(0x147)]+'\x20('+this['instance']['wuid']+_0xda23f0(0x501)+_0x1b9472[_0xda23f0(0x16c)]+_0xda23f0(0x4db));let _0x3e0a39=await this[_0xda23f0(0xbe)]['flow'][_0xda23f0(0x2a3)]({'where':{'_id':_0x1b9472[_0xda23f0(0x16c)]}});return await this[_0xda23f0(0x754)](),_0x3e0a39;}return this[_0xda23f0(0x7b7)]['verbose'](this[_0xda23f0(0x147)]+'\x20('+this[_0xda23f0(0x68c)]['wuid']+_0xda23f0(0x4f1)+this[_0xda23f0(0x68c)][_0xda23f0(0x61a)]+_0xda23f0(0x49c)+_0x1b9472['_id']+'\x27...'),_0x113fb5[_0xda23f0(0xbd)]=(_0x113fb5['whoCanUse']??[])[_0xda23f0(0x433)](_0x373375=>_0x373375!==this[_0xda23f0(0x68c)]['wuid']),_0x113fb5['whoCanEdit']=(_0x113fb5[_0xda23f0(0x4f0)]??[])[_0xda23f0(0x433)](_0x3e628d=>_0x3e628d!==this[_0xda23f0(0x68c)][_0xda23f0(0x61a)]),_0x113fb5[_0xda23f0(0x4f0)][_0xda23f0(0x2a9)]===0x0&&_0x113fb5[_0xda23f0(0xbd)][_0xda23f0(0x2a9)]>0x0&&(_0x113fb5[_0xda23f0(0x4f0)]['push'](_0x113fb5[_0xda23f0(0xbd)][0x0]),this['logger'][_0xda23f0(0x7ac)](this[_0xda23f0(0x147)]+'\x20('+this['instance'][_0xda23f0(0x61a)]+_0xda23f0(0x48e)+_0x113fb5['whoCanUse'][0x0]+_0xda23f0(0x432)+_0x1b9472[_0xda23f0(0x16c)]+_0xda23f0(0x590))),await this[_0xda23f0(0xbe)]['flow']['updateOne'](_0x113fb5['_id'],_0x113fb5),await this['synchronizeAndMapFlows'](),{'message':'Fluxo\x20\x27'+_0x1b9472[_0xda23f0(0x6fa)]+_0xda23f0(0x4aa)};}catch(_0x5e1316){return this[_0xda23f0(0x7b7)][_0xda23f0(0x4e6)](this[_0xda23f0(0x147)]+'\x20('+this[_0xda23f0(0x68c)][_0xda23f0(0x61a)]+_0xda23f0(0x253)+(_0x5e1316 instanceof Error?_0x5e1316['message']:JSON[_0xda23f0(0x5b9)](_0x5e1316,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x5e1316 instanceof Error?_0x5e1316[_0xda23f0(0x61f)]:JSON[_0xda23f0(0x5b9)](_0x5e1316,null,0x2))};}}async[a0_0x1ec3bd(0x42e)](_0x5b8ff6){const _0x384a89=a0_0x1ec3bd;try{if(this[_0x384a89(0x7b7)][_0x384a89(0x6eb)](this[_0x384a89(0x147)]+'\x20('+this[_0x384a89(0x68c)][_0x384a89(0x61a)]+_0x384a89(0x321)+_0x5b8ff6),!this[_0x384a89(0x1d3)]&&(await this[_0x384a89(0x31b)](),!this['AutomateSystem']))return null;let _0x465ff1=await this[_0x384a89(0xbe)][_0x384a89(0x5a4)][_0x384a89(0x2f1)]({'where':{'_id':_0x5b8ff6}});if(!_0x465ff1)throw new m(_0x384a89(0xb2)+_0x5b8ff6+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0x465ff1['globalShow']||_0x465ff1[_0x384a89(0xbd)]?.[_0x384a89(0x39c)](this[_0x384a89(0x68c)][_0x384a89(0x61a)])))throw new m(_0x384a89(0x296)+name+'\x27');_0x465ff1[_0x384a89(0x352)]&&!_0x465ff1[_0x384a89(0xbd)]?.['includes'](this[_0x384a89(0x68c)][_0x384a89(0x61a)])&&(_0x465ff1['whoCanUse']=[..._0x465ff1[_0x384a89(0xbd)]??[],this[_0x384a89(0x68c)]['wuid']],await this[_0x384a89(0xbe)][_0x384a89(0x5a4)][_0x384a89(0x2f9)](_0x465ff1[_0x384a89(0x16c)],_0x465ff1),this['synchronizeAndMapFlows']());let _0x2edce4=this['AutomateSystem']?.[_0x384a89(0x2c2)][_0x384a89(0x6ef)](_0x26704d=>_0x26704d[_0x384a89(0x6fa)]),_0x552cf7=[_0x384a89(0x416),_0x384a89(0x271),_0x384a89(0x6cc),_0x384a89(0xe3),'status',_0x384a89(0xa8),_0x384a89(0x21e),_0x384a89(0x78c),'etiquetas',_0x384a89(0x237),'atendimentoAberto'];_0x465ff1['variables']=_0x465ff1['variables'][_0x384a89(0x433)](_0x3ff124=>!(_0x3ff124[_0x384a89(0x381)]===_0x384a89(0x72f)||_0x3ff124[_0x384a89(0x72f)])),_0x552cf7[_0x384a89(0x730)](_0x5928c6=>{const _0x5f4101=_0x384a89;_0x465ff1[_0x5f4101(0x19f)]['push']({'folder':'leadInfo','name':_0x5928c6,'value':'','doc':'','leadInfo':!0x0});}),_0x2edce4[_0x384a89(0x730)](_0x235257=>{const _0x5f3aec=_0x384a89;let _0x56ea9b=_0x465ff1[_0x5f3aec(0x19f)][_0x5f3aec(0x430)](_0x509cbd=>_0x509cbd[_0x5f3aec(0x6fa)]===_0x235257);_0x56ea9b===-0x1?_0x465ff1[_0x5f3aec(0x19f)]['push']({'folder':'leadInfo','name':_0x235257,'value':'','doc':'','leadInfo':!0x0}):(_0x465ff1[_0x5f3aec(0x19f)][_0x56ea9b][_0x5f3aec(0x381)]=_0x5f3aec(0x72f),_0x465ff1['variables'][_0x56ea9b][_0x5f3aec(0x72f)]=!0x0);}),_0x465ff1[_0x384a89(0xc0)]&&_0x465ff1['blocks'][_0x384a89(0x2a9)]>0x0&&_0x465ff1['blocks']['forEach'](_0x5807c8=>{const _0x544ab2=_0x384a89;_0x5807c8[_0x544ab2(0x17e)]&&_0x5807c8[_0x544ab2(0x228)]&&_0x5807c8[_0x544ab2(0x17e)]===_0x5807c8[_0x544ab2(0x228)]&&(_0x5807c8[_0x544ab2(0x228)]=null);});let _0x41bf1d=await this[_0x384a89(0xbe)][_0x384a89(0x5a4)][_0x384a89(0x2f9)](_0x465ff1[_0x384a89(0x16c)],_0x465ff1);if(!_0x41bf1d)throw new Error(_0x384a89(0x12d));return _0x41bf1d;}catch(_0x4ba77f){let _0x332cf2=_0x384a89(0x3b9),_0x277f55=_0x4ba77f instanceof Error?_0x4ba77f['message']:typeof _0x4ba77f=='object'?JSON['stringify'](_0x4ba77f):_0x4ba77f,_0x311162=_0x332cf2+':\x20'+_0x277f55;throw this[_0x384a89(0x7b7)][_0x384a89(0x4e6)](this[_0x384a89(0x147)]+'\x20('+this['instance'][_0x384a89(0x61a)]+_0x384a89(0x4e1)+_0x311162),new m(_0x311162);}}async[a0_0x1ec3bd(0x721)](){const _0x3004a9=a0_0x1ec3bd;try{this[_0x3004a9(0x7b7)][_0x3004a9(0x7ac)](this[_0x3004a9(0x147)]+'\x20('+this[_0x3004a9(0x68c)][_0x3004a9(0x61a)]+_0x3004a9(0x72e)),await this['synchronizeAndMapFlows']();let _0x46b072=await this[_0x3004a9(0xbe)][_0x3004a9(0x5a4)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x3004a9(0x1d3)][_0x3004a9(0x30c)],..._0x46b072];}catch(_0x1dc9e2){return this[_0x3004a9(0x7b7)][_0x3004a9(0x4e6)](this['instanceName']+'\x20('+this['instance'][_0x3004a9(0x61a)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x1dc9e2 instanceof Error?_0x1dc9e2[_0x3004a9(0x61f)]:JSON['stringify'](_0x1dc9e2,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x1dc9e2 instanceof Error?_0x1dc9e2['message']:String(_0x1dc9e2))};}}async['editFlow'](_0x4c522e,_0x37d4cf){const _0x1447da=a0_0x1ec3bd;try{this[_0x1447da(0x7b7)][_0x1447da(0x7ac)](this[_0x1447da(0x147)]+'\x20('+this[_0x1447da(0x68c)][_0x1447da(0x61a)]+_0x1447da(0x16e));let _0x48346d=this[_0x1447da(0x1d3)][_0x1447da(0x30c)]['find'](_0x2d0ba8=>_0x2d0ba8[_0x1447da(0x16c)]===_0x4c522e[_0x1447da(0x16c)]);if(!_0x48346d)throw this['logger']['verbose'](this[_0x1447da(0x147)]+'\x20('+this['instance'][_0x1447da(0x61a)]+_0x1447da(0x107)+_0x4c522e[_0x1447da(0x16c)]+_0x1447da(0x790)),new m(_0x1447da(0xd2));let _0x2d4273=await this[_0x1447da(0xbe)]['flow']['findOne']({'where':{'_id':_0x4c522e[_0x1447da(0x16c)]}});if(!_0x2d4273||!_0x2d4273[_0x1447da(0xbd)]?.[_0x1447da(0x39c)](this[_0x1447da(0x68c)][_0x1447da(0x61a)]))throw this[_0x1447da(0x7b7)][_0x1447da(0x4e6)](this[_0x1447da(0x147)]+'\x20('+this['instance']['wuid']+_0x1447da(0x4a8)+_0x4c522e[_0x1447da(0x16c)]+_0x1447da(0x5f1)),new m('Flow\x20\x27'+_0x4c522e[_0x1447da(0x16c)]+_0x1447da(0x5f1));let _0x12ad93=this['AutomateSystem'][_0x1447da(0x30c)][_0x1447da(0x430)](_0xc56b4c=>_0xc56b4c[_0x1447da(0x16c)]===_0x48346d['_id']);if(_0x12ad93!==-0x1){let _0x3ee15d=this['AutomateSystem'][_0x1447da(0x30c)][_0x12ad93];if(_0x3ee15d['name']=_0x4c522e[_0x1447da(0x6fa)]??_0x3ee15d['name'],_0x3ee15d[_0x1447da(0x442)]=_0x4c522e[_0x1447da(0x442)]??_0x3ee15d[_0x1447da(0x442)],_0x3ee15d[_0x1447da(0x724)]=_0x4c522e[_0x1447da(0x724)]??_0x3ee15d['testingWith'],_0x3ee15d['startCommand']=_0x4c522e[_0x1447da(0x1cb)]??_0x3ee15d[_0x1447da(0x1c2)],_0x3ee15d[_0x1447da(0x41d)]=_0x4c522e[_0x1447da(0x41d)]??_0x3ee15d[_0x1447da(0x41d)],_0x3ee15d['readMessages']=_0x4c522e[_0x1447da(0x66f)]??_0x3ee15d[_0x1447da(0x66f)],_0x4c522e['default']&&this['AutomateSystem'][_0x1447da(0x30c)][_0x1447da(0x730)]((_0x1860ab,_0x44c730)=>{_0x44c730!==_0x12ad93&&(_0x1860ab['default']=!0x1);}),this[_0x1447da(0x1d3)][_0x1447da(0x30c)][_0x12ad93]=_0x3ee15d,!await this[_0x1447da(0xbe)][_0x1447da(0x766)][_0x1447da(0x77c)]({'flows':this[_0x1447da(0x1d3)][_0x1447da(0x30c)]},this[_0x1447da(0x68c)][_0x1447da(0x61a)]))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x199a0e=[_0x1447da(0xab),_0x1447da(0x6f9),_0x1447da(0x57e),_0x1447da(0x2e6)];for(let _0x1f1671 of _0x199a0e)delete _0x4c522e[_0x1f1671];if(_0x2d4273[_0x1447da(0x4f0)]?.[_0x1447da(0x39c)](this['instance'][_0x1447da(0x61a)])||(_0x4c522e={'_id':_0x4c522e[_0x1447da(0x16c)]}),_0x37d4cf!==Ni&&_0x4c522e?.['globalShow']&&!_0x2d4273?.['globalShow'])throw new m(_0x1447da(0x2b6));let _0x90aaee=new Set(_0x4c522e[_0x1447da(0x4f0)]??_0x2d4273[_0x1447da(0x4f0)]);_0x90aaee['add'](_0x2d4273[_0x1447da(0x60e)]);let _0x43df07=new Set(_0x4c522e[_0x1447da(0xbd)]??_0x2d4273[_0x1447da(0xbd)]??[]);_0x90aaee[_0x1447da(0x730)](_0x2a10b9=>_0x43df07[_0x1447da(0x5a3)](_0x2a10b9)),_0x43df07['add'](_0x2d4273['owner']),this['logger'][_0x1447da(0x7ac)](this['instanceName']+'\x20('+this[_0x1447da(0x68c)][_0x1447da(0x61a)]+_0x1447da(0x1c5)+Array[_0x1447da(0x4e0)](_0x90aaee)),this['logger'][_0x1447da(0x7ac)](this[_0x1447da(0x147)]+'\x20('+this['instance'][_0x1447da(0x61a)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x1447da(0x4e0)](_0x43df07));let _0xc0ec68=await this[_0x1447da(0xdd)](Array[_0x1447da(0x4e0)](_0x43df07)),_0x46c3db=Array[_0x1447da(0x4e0)](_0x90aaee)[_0x1447da(0x433)](_0x373023=>_0xc0ec68[_0x1447da(0x39c)](_0x373023)),_0x3a4912=Array[_0x1447da(0x4e0)](_0x43df07)[_0x1447da(0x433)](_0x128c1b=>_0xc0ec68[_0x1447da(0x39c)](_0x128c1b));this[_0x1447da(0x7b7)][_0x1447da(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0x1447da(0x61a)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x46c3db),this[_0x1447da(0x7b7)][_0x1447da(0x7ac)](this[_0x1447da(0x147)]+'\x20('+this[_0x1447da(0x68c)]['wuid']+_0x1447da(0x749)+_0x3a4912);let _0x35cacc={..._0x2d4273,..._0x4c522e,'whoCanEdit':_0x46c3db,'whoCanUse':_0x3a4912},_0x16f4e2=await this[_0x1447da(0xbe)]['flow'][_0x1447da(0x2f9)](_0x2d4273[_0x1447da(0x16c)],_0x35cacc);return await this[_0x1447da(0x754)](),_0x16f4e2;}catch(_0x2fba4b){let _0x2510a8=_0x1447da(0x270),_0x46a563=_0x2fba4b instanceof Error?_0x2fba4b[_0x1447da(0x61f)]:typeof _0x2fba4b==_0x1447da(0x2c3)?JSON['stringify'](_0x2fba4b):_0x2fba4b,_0x1d1744=_0x2510a8+':\x20'+_0x46a563;throw this[_0x1447da(0x7b7)]['error'](this[_0x1447da(0x147)]+'\x20('+this['instance'][_0x1447da(0x61a)]+_0x1447da(0x4e1)+_0x1d1744),new m(_0x1d1744);}}async[a0_0x1ec3bd(0xdd)](_0x561972){const _0x19342c=a0_0x1ec3bd;let _0x59f737={'numbers':_0x561972};return(await this[_0x19342c(0x1be)](_0x59f737))['filter'](_0x1d19dc=>_0x1d19dc[_0x19342c(0x320)])[_0x19342c(0x6ef)](_0x40627b=>_0x40627b[_0x19342c(0x4df)])[_0x19342c(0x6ef)](_0x26ca2c=>this[_0x19342c(0x71b)](_0x26ca2c));}[a0_0x1ec3bd(0x71b)](_0x22201f){const _0x46de8b=a0_0x1ec3bd;let _0x66ed37=_0x22201f[_0x46de8b(0x5bc)](/\d+/);return _0x66ed37?_0x66ed37[0x0]:'';}async[a0_0x1ec3bd(0x4b0)](_0x25106f){const _0x21b5c8=a0_0x1ec3bd;try{if(this[_0x21b5c8(0x7b7)]['verbose'](this[_0x21b5c8(0x147)]+'\x20('+this[_0x21b5c8(0x68c)][_0x21b5c8(0x61a)]+'):\x20Editando\x20bloco...'),!this[_0x21b5c8(0x1d3)][_0x21b5c8(0x30c)]['find'](_0x28a198=>_0x28a198['_id']===_0x25106f['_id']))throw this[_0x21b5c8(0x7b7)][_0x21b5c8(0x7ac)](this[_0x21b5c8(0x147)]+'\x20('+this[_0x21b5c8(0x68c)][_0x21b5c8(0x61a)]+_0x21b5c8(0x107)+_0x25106f['_id']+'\x27\x20não\x20encontrado'),new m(_0x21b5c8(0xd2));let _0xba67ca=await this['repository'][_0x21b5c8(0x5a4)][_0x21b5c8(0x2f1)]({'where':{'_id':_0x25106f[_0x21b5c8(0x16c)]}});if(!_0xba67ca||!_0xba67ca['whoCanUse']?.['includes'](this[_0x21b5c8(0x68c)][_0x21b5c8(0x61a)]))throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x21b5c8(0x68c)][_0x21b5c8(0x61a)]+'):\x20Flow\x20\x27'+_0x25106f[_0x21b5c8(0x16c)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x21b5c8(0x5bb)+_0x25106f['_id']+_0x21b5c8(0x5f1));if(!_0xba67ca[_0x21b5c8(0x4f0)]?.[_0x21b5c8(0x39c)](this[_0x21b5c8(0x68c)]['wuid']))throw new m(_0x21b5c8(0x243));let {block:_0x265834}=_0x25106f;_0x265834?.[_0x21b5c8(0x668)]?this[_0x21b5c8(0x3e3)](_0xba67ca,_0x25106f):_0x265834?.[_0x21b5c8(0x6f4)]?this[_0x21b5c8(0x4d3)](_0xba67ca,_0x25106f):_0x265834[_0x21b5c8(0x16c)]?await this[_0x21b5c8(0x5e0)](_0xba67ca,_0x25106f):this['addBlock'](_0xba67ca,_0x25106f);let _0x37684e=await this[_0x21b5c8(0xbe)][_0x21b5c8(0x5a4)][_0x21b5c8(0x2f9)](_0xba67ca[_0x21b5c8(0x16c)],_0xba67ca);if(!_0x37684e)throw new Error(_0x21b5c8(0x12d));return _0x37684e;}catch(_0x16721a){this['throwAndLogError'](_0x21b5c8(0x14a)+_0x16721a[_0x21b5c8(0x61f)]);}}async[a0_0x1ec3bd(0x3e3)](_0x46ae35,_0x502381){const _0x25376e=a0_0x1ec3bd;let _0x1a95f3=_0x502381[_0x25376e(0x635)][_0x25376e(0x16c)],_0x394691=_0x46ae35[_0x25376e(0xc0)][_0x25376e(0x435)](_0x542023=>_0x542023['_id'][_0x25376e(0x51d)]()===_0x1a95f3);if(!_0x394691){this[_0x25376e(0x7b7)][_0x25376e(0x4e6)](this[_0x25376e(0x147)]+'\x20('+this['instance'][_0x25376e(0x61a)]+'):\x20Bloco\x20com\x20ID\x20'+_0x1a95f3+_0x25376e(0x191));return;}this[_0x25376e(0x7b7)]['verbose'](this[_0x25376e(0x147)]+'\x20('+this[_0x25376e(0x68c)][_0x25376e(0x61a)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x25376e(0x5b9)](_0x394691));let _0x6c7501=JSON['parse'](JSON[_0x25376e(0x5b9)](_0x394691));_0x6c7501[_0x25376e(0x16c)]=new pe[(_0x25376e(0x442))][(_0x25376e(0x20f))][(_0x25376e(0x334))](),this[_0x25376e(0x7b7)]['verbose'](this[_0x25376e(0x147)]+'\x20('+this['instance'][_0x25376e(0x61a)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x25376e(0x5b9)](_0x6c7501)),_0x46ae35[_0x25376e(0xc0)]['push'](_0x6c7501),this[_0x25376e(0x58b)](_0x46ae35[_0x25376e(0xc0)],_0x6c7501['groupId']);}[a0_0x1ec3bd(0x5f6)](_0x2da9e9){const _0x2f44a9=a0_0x1ec3bd;throw this[_0x2f44a9(0x7b7)][_0x2f44a9(0x4e6)](this[_0x2f44a9(0x147)]+'\x20('+this['instance'][_0x2f44a9(0x61a)]+_0x2f44a9(0x4e1)+_0x2da9e9),new m(_0x2da9e9);}[a0_0x1ec3bd(0x4d3)](_0x4163da,_0x1871be){const _0x199e6e=a0_0x1ec3bd;let {block:_0x1685af}=_0x1871be;if(_0x1685af[_0x199e6e(0x73a)]==='start'){this['throwAndLogError'](_0x199e6e(0x16a));return;}if(!_0x1685af['_id']){this[_0x199e6e(0x5f6)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x2fc8b2=_0x4163da[_0x199e6e(0xc0)][_0x199e6e(0x435)](_0x3c56e1=>_0x3c56e1['_id']['toString']()===_0x1871be[_0x199e6e(0x635)]['_id'][_0x199e6e(0x51d)]());if(!_0x2fc8b2){this[_0x199e6e(0x5f6)](_0x199e6e(0x91)+_0x1685af[_0x199e6e(0x16c)]+_0x199e6e(0x419));return;}_0x4163da[_0x199e6e(0xc0)]=_0x4163da['blocks']['filter'](_0xad9de8=>_0xad9de8[_0x199e6e(0x16c)][_0x199e6e(0x51d)]()!==_0x1871be[_0x199e6e(0x635)][_0x199e6e(0x16c)][_0x199e6e(0x51d)]()),_0x4163da[_0x199e6e(0x308)]=_0x4163da[_0x199e6e(0x308)][_0x199e6e(0x433)](_0x37094f=>_0x37094f[_0x199e6e(0x1fe)]!==_0x1685af[_0x199e6e(0x16c)]['toString']()),_0x4163da['varedits']=_0x4163da[_0x199e6e(0x428)][_0x199e6e(0x433)](_0x2f2838=>_0x2f2838[_0x199e6e(0x1fe)]!==_0x1685af[_0x199e6e(0x16c)]['toString']()),_0x4163da[_0x199e6e(0x482)]=_0x4163da[_0x199e6e(0x482)][_0x199e6e(0x433)](_0x30f358=>_0x30f358[_0x199e6e(0x1fe)]!==_0x1685af[_0x199e6e(0x16c)][_0x199e6e(0x51d)]()),this[_0x199e6e(0x58b)](_0x4163da[_0x199e6e(0xc0)],_0x2fc8b2[_0x199e6e(0x17e)]);}async[a0_0x1ec3bd(0x5e0)](_0x7c6613,_0xff3223){const _0x387b70=a0_0x1ec3bd;let _0x3a0832=_0x7c6613[_0x387b70(0xc0)][_0x387b70(0x430)](_0x2d37a0=>_0x2d37a0['_id']['toString']()===_0xff3223[_0x387b70(0x635)][_0x387b70(0x16c)]['toString']());if(this[_0x387b70(0x7b7)][_0x387b70(0x7ac)](this[_0x387b70(0x147)]+'\x20('+this[_0x387b70(0x68c)][_0x387b70(0x61a)]+_0x387b70(0x1f4)+_0x3a0832),_0x3a0832===-0x1){this[_0x387b70(0x7b7)]['verbose'](_0x387b70(0x91)+_0xff3223[_0x387b70(0x635)][_0x387b70(0x16c)]+_0x387b70(0x4a4));return;}if(_0x7c6613[_0x387b70(0xc0)][_0x3a0832]['type']===_0x387b70(0x6a4)){let _0x1a22b1=Object[_0x387b70(0x196)](_0xff3223[_0x387b70(0x635)]);if(_0x1a22b1[_0x387b70(0x2a9)]>0x2||_0x1a22b1[_0x387b70(0x2a9)]===0x2&&!_0x1a22b1[_0x387b70(0x39c)](_0x387b70(0x228))){this[_0x387b70(0x5f6)](_0x387b70(0x44d));return;}}let _0x423403=_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x17e)];for(let _0x5ed72d in _0xff3223[_0x387b70(0x635)])_0xff3223['block']['hasOwnProperty'](_0x5ed72d)&&(_0x7c6613['blocks'][_0x3a0832][_0x5ed72d]=_0xff3223[_0x387b70(0x635)][_0x5ed72d]);if(this[_0x387b70(0x7b7)][_0x387b70(0x7ac)](this[_0x387b70(0x147)]+'\x20('+this['instance'][_0x387b70(0x61a)]+_0x387b70(0x231)+JSON[_0x387b70(0x5b9)](_0x7c6613['blocks'][_0x3a0832])),_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)]&&_0x387b70(0x741)in _0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)]){this[_0x387b70(0x7b7)][_0x387b70(0x7ac)](this[_0x387b70(0x147)]+'\x20('+this['instance'][_0x387b70(0x61a)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0xb6dd61=JSON[_0x387b70(0x5b9)](_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)][_0x387b70(0x741)],null,0x1);_0xb6dd61[_0x387b70(0x2a9)]>0x2&&(_0xb6dd61=_0xb6dd61[_0x387b70(0x2c7)](0x1,_0xb6dd61[_0x387b70(0x2a9)]-0x1)[_0x387b70(0x2ee)]()),_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)][_0x387b70(0x534)]=_0xb6dd61;}if(_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)]&&'body'in _0x7c6613[_0x387b70(0xc0)][_0x3a0832]['apirequest']&&!(_0x387b70(0x658)in _0x7c6613[_0x387b70(0xc0)][_0x3a0832]['apirequest'])){this['logger'][_0x387b70(0x7ac)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x387b70(0x723)),_0x7c6613['blocks'][_0x3a0832][_0x387b70(0x6fd)][_0x387b70(0x62b)]=!0x1;let _0x305d47=JSON['stringify'](_0x7c6613[_0x387b70(0xc0)][_0x3a0832]['apirequest'][_0x387b70(0x441)],null,0x2);_0x7c6613[_0x387b70(0xc0)][_0x3a0832]['apirequest'][_0x387b70(0x658)]=_0x305d47;}if(_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)]&&_0x387b70(0x658)in _0x7c6613[_0x387b70(0xc0)][_0x3a0832]['apirequest']){_0x7c6613['blocks'][_0x3a0832][_0x387b70(0x6fd)][_0x387b70(0x62b)]=!0x1;let _0x2e50f3=_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)]['bodyString'],_0x13f034=this[_0x387b70(0x74e)](_0x2e50f3);_0x7c6613[_0x387b70(0xc0)][_0x3a0832][_0x387b70(0x6fd)][_0x387b70(0x658)]=_0x13f034['result'],_0x7c6613[_0x387b70(0xc0)][_0x3a0832]['apirequest'][_0x387b70(0x62b)]=_0x13f034[_0x387b70(0x4e6)];}let _0x29fa00=_0x7c6613[_0x387b70(0xc0)][_0x3a0832]['groupId'];_0x423403!==_0x29fa00?(this[_0x387b70(0x58b)](_0x7c6613[_0x387b70(0xc0)],_0x423403),this[_0x387b70(0x58b)](_0x7c6613[_0x387b70(0xc0)],_0x29fa00)):this['reorderBlocks'](_0x7c6613[_0x387b70(0xc0)],_0x423403);}[a0_0x1ec3bd(0x74e)](_0x2a81ef){const _0x30ec2f=a0_0x1ec3bd;let _0x218a95='\u205f',_0x2834be=!0x1,_0x427c98='';for(let _0x574235=0x0;_0x574235<_0x2a81ef['length'];_0x574235++){let _0x4e7ab8=_0x2a81ef[_0x574235];_0x4e7ab8==='\x22'&&(_0x574235===0x0||_0x2a81ef[_0x574235-0x1]!=='\x5c')&&(_0x2834be=!_0x2834be),!(!_0x2834be&&(_0x4e7ab8==='\x0a'||_0x4e7ab8==='\x20'||_0x4e7ab8===_0x218a95))&&(_0x427c98+=_0x4e7ab8);}let _0x643a16={},_0x104ccd=9876543210.1234,_0x26c34f=_0x427c98[_0x30ec2f(0x2b2)](/\{\{([^}]+)\}\}/g,_0x47d70c=>{let _0xe08e0=_0x47d70c,_0x53daf2=''+_0x104ccd;return _0x643a16[_0x53daf2]=_0xe08e0,_0x104ccd+=0.0001,_0x53daf2;}),_0x43a4e9='',_0x4f6c1b=!0x1;try{let _0x13d69f=JSON['parse'](_0x26c34f);_0x43a4e9=JSON[_0x30ec2f(0x5b9)](_0x13d69f,null,0x2),_0x43a4e9=_0x43a4e9[_0x30ec2f(0x2b2)](/\n( +)/g,(_0x3b204f,_0x13da7b)=>{const _0x2ea9a9=_0x30ec2f;let _0x2ef5b7=_0x13da7b[_0x2ea9a9(0x2a9)];return'\x0a'+_0x218a95[_0x2ea9a9(0x1dd)](_0x2ef5b7*0x2);}),_0x43a4e9=_0x43a4e9[_0x30ec2f(0x2b2)](/(\d{10,}\.\d+)/g,_0x4a8793=>_0x643a16[_0x4a8793]||_0x4a8793);}catch(_0x6beafd){this[_0x30ec2f(0x7b7)][_0x30ec2f(0x4e6)](_0x30ec2f(0x353)+_0x6beafd),_0x43a4e9=_0x2a81ef,_0x4f6c1b=!0x0;}return{'result':_0x43a4e9,'error':_0x4f6c1b};}[a0_0x1ec3bd(0x735)](_0x1c3c36,_0x5cea74){const _0x494d05=a0_0x1ec3bd;if(_0x5cea74[_0x494d05(0x635)]['type']===_0x494d05(0x6a4)){this[_0x494d05(0x5f6)](_0x494d05(0x65e));return;}if(_0x5cea74[_0x494d05(0x635)]['apirequest']&&'header'in _0x5cea74[_0x494d05(0x635)]['apirequest']){this[_0x494d05(0x7b7)][_0x494d05(0x7ac)](this[_0x494d05(0x147)]+'\x20('+this[_0x494d05(0x68c)][_0x494d05(0x61a)]+_0x494d05(0x263));let _0x7601e2=JSON[_0x494d05(0x5b9)](_0x5cea74[_0x494d05(0x635)][_0x494d05(0x6fd)]['header'],null,0x1);_0x7601e2[_0x494d05(0x2a9)]>0x2&&(_0x7601e2=_0x7601e2[_0x494d05(0x2c7)](0x1,_0x7601e2[_0x494d05(0x2a9)]-0x1)['trim']()),_0x5cea74['block']['apirequest'][_0x494d05(0x534)]=_0x7601e2;}_0x5cea74[_0x494d05(0x635)][_0x494d05(0x6fd)]&&_0x494d05(0x441)in _0x5cea74[_0x494d05(0x635)][_0x494d05(0x6fd)]&&(this['logger']['verbose'](this[_0x494d05(0x147)]+'\x20('+this[_0x494d05(0x68c)][_0x494d05(0x61a)]+_0x494d05(0x723)),_0x5cea74[_0x494d05(0x635)]['apirequest'][_0x494d05(0x658)]=JSON[_0x494d05(0x5b9)](_0x5cea74['block'][_0x494d05(0x6fd)][_0x494d05(0x441)],null,0x1)['trim']()),_0x1c3c36[_0x494d05(0xc0)][_0x494d05(0x3f7)](_0x5cea74[_0x494d05(0x635)]),this[_0x494d05(0x58b)](_0x1c3c36['blocks'],_0x5cea74[_0x494d05(0x635)][_0x494d05(0x17e)]);}['reorderBlocks'](_0x1ea596,_0xecb8b9){const _0x53503c=a0_0x1ec3bd;let _0x3228d4=_0x1ea596[_0x53503c(0x433)](_0x58abc5=>_0x58abc5[_0x53503c(0x17e)]===_0xecb8b9);_0x3228d4[_0x53503c(0x3ba)]((_0x16551,_0x4981bd)=>_0x16551[_0x53503c(0x6da)]-_0x4981bd['order']),_0x3228d4['forEach']((_0x4df49a,_0x357d6b)=>_0x4df49a[_0x53503c(0x6da)]=_0x357d6b+0x1);}async['editFlowReply'](_0x447b9b){const _0xf22625=a0_0x1ec3bd;try{if(this[_0xf22625(0x7b7)][_0xf22625(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0xf22625(0x61a)]+_0xf22625(0xf5)),!_0x447b9b||!_0x447b9b[_0xf22625(0x86)]){this[_0xf22625(0x5f6)](_0xf22625(0x787));return;}if(!this[_0xf22625(0x1d3)][_0xf22625(0x30c)][_0xf22625(0x435)](_0x5d443d=>_0x5d443d[_0xf22625(0x16c)]===_0x447b9b[_0xf22625(0x16c)]))throw this[_0xf22625(0x7b7)][_0xf22625(0x7ac)](this[_0xf22625(0x147)]+'\x20('+this[_0xf22625(0x68c)][_0xf22625(0x61a)]+_0xf22625(0x107)+_0x447b9b['_id']+_0xf22625(0x790)),new m(_0xf22625(0xd2));let _0x4ba38d=await this[_0xf22625(0xbe)][_0xf22625(0x5a4)][_0xf22625(0x2f1)]({'where':{'_id':_0x447b9b[_0xf22625(0x16c)]}});if(!_0x4ba38d||!_0x4ba38d[_0xf22625(0xbd)]?.[_0xf22625(0x39c)](this[_0xf22625(0x68c)][_0xf22625(0x61a)]))throw this[_0xf22625(0x7b7)][_0xf22625(0x4e6)](this['instanceName']+'\x20('+this[_0xf22625(0x68c)][_0xf22625(0x61a)]+_0xf22625(0x4a8)+_0x447b9b[_0xf22625(0x16c)]+_0xf22625(0x5f1)),new m(_0xf22625(0x5bb)+_0x447b9b[_0xf22625(0x16c)]+_0xf22625(0x5f1));if(!_0x4ba38d[_0xf22625(0x4f0)]?.[_0xf22625(0x39c)](this[_0xf22625(0x68c)]['wuid']))throw new m(_0xf22625(0x243));let {replyOption:_0x33a770}=_0x447b9b;_0x33a770?.[_0xf22625(0x6f4)]?(this['deleteReplyOption'](_0x4ba38d,_0x447b9b),this[_0xf22625(0x540)](_0x4ba38d[_0xf22625(0x482)],_0x447b9b['replyOption'][_0xf22625(0x1fe)])):_0x33a770['_id']?(await this['updateReplyOption'](_0x4ba38d,_0x447b9b),this['reorderReplyOptions'](_0x4ba38d['replyOptions'],_0x447b9b['replyOption'][_0xf22625(0x1fe)])):(this[_0xf22625(0x19e)](_0x4ba38d,_0x447b9b),this[_0xf22625(0x540)](_0x4ba38d[_0xf22625(0x482)],_0x447b9b[_0xf22625(0x86)][_0xf22625(0x1fe)]));let _0x181d85=await this[_0xf22625(0xbe)][_0xf22625(0x5a4)][_0xf22625(0x2f9)](_0x4ba38d[_0xf22625(0x16c)],_0x4ba38d);if(!_0x181d85)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x181d85;}catch(_0x544d1b){this[_0xf22625(0x5f6)](_0xf22625(0x92)+_0x544d1b);}}[a0_0x1ec3bd(0x540)](_0xc8f219,_0x561d84){const _0x5b8028=a0_0x1ec3bd;_0xc8f219['forEach'](_0x541f40=>{const _0x403bd5=a0_0x1c6d;_0x541f40[_0x403bd5(0x1fe)]===_0x561d84&&_0x541f40['order']===void 0x0&&(_0x541f40[_0x403bd5(0x6da)]=0x270f);});let _0x5428b9=_0xc8f219[_0x5b8028(0x433)](_0x9e8e30=>_0x9e8e30[_0x5b8028(0x1fe)]===_0x561d84);_0x5428b9[_0x5b8028(0x3ba)]((_0x41287f,_0x30d1ea)=>_0x41287f[_0x5b8028(0x6da)]-_0x30d1ea['order']),_0x5428b9['forEach']((_0x54329c,_0x52c989)=>{const _0x4abf07=_0x5b8028;_0x54329c[_0x4abf07(0x6da)]=_0x52c989+0x1;}),_0xc8f219['forEach'](_0x175a61=>{const _0x4b6db0=_0x5b8028;if(_0x175a61[_0x4b6db0(0x1fe)]===_0x561d84){let _0x5b2062=_0x5428b9['find'](_0x3d1af6=>_0x3d1af6[_0x4b6db0(0x16c)]&&_0x175a61[_0x4b6db0(0x16c)]&&_0x3d1af6[_0x4b6db0(0x16c)]['toString']()===_0x175a61['_id']['toString']());_0x5b2062&&(_0x175a61[_0x4b6db0(0x6da)]=_0x5b2062[_0x4b6db0(0x6da)]);}});}[a0_0x1ec3bd(0x3e0)](_0x52b7e0,_0x21a497){const _0x46d98b=a0_0x1ec3bd;let {replyOption:_0x5bc2bd}=_0x21a497;if(!_0x5bc2bd[_0x46d98b(0x16c)]){this['throwAndLogError'](_0x46d98b(0x172));return;}if(!_0x52b7e0[_0x46d98b(0x482)]['find'](_0x46adf8=>_0x46adf8[_0x46d98b(0x16c)][_0x46d98b(0x51d)]()===_0x21a497['replyOption']['_id'][_0x46d98b(0x51d)]())){this[_0x46d98b(0x5f6)]('ReplyOption\x20com\x20ID\x20'+_0x5bc2bd['_id']+_0x46d98b(0x419));return;}_0x52b7e0[_0x46d98b(0x482)]=_0x52b7e0[_0x46d98b(0x482)][_0x46d98b(0x433)](_0x352f16=>_0x352f16['_id'][_0x46d98b(0x51d)]()!==_0x21a497[_0x46d98b(0x86)][_0x46d98b(0x16c)]['toString']());}async['updateReplyOption'](_0x5a8bbf,_0x3076a8){const _0x89e2e4=a0_0x1ec3bd;let _0x423586=_0x5a8bbf[_0x89e2e4(0x482)][_0x89e2e4(0x430)](_0x3f2a36=>_0x3f2a36[_0x89e2e4(0x16c)][_0x89e2e4(0x51d)]()===_0x3076a8[_0x89e2e4(0x86)][_0x89e2e4(0x16c)]['toString']());if(_0x423586===-0x1){this['throwAndLogError'](_0x89e2e4(0x230)+_0x3076a8[_0x89e2e4(0x86)]['_id']+_0x89e2e4(0x4a4));return;}for(let _0x4acf09 in _0x3076a8[_0x89e2e4(0x86)])_0x3076a8[_0x89e2e4(0x86)][_0x89e2e4(0x7a0)](_0x4acf09)&&(_0x5a8bbf[_0x89e2e4(0x482)][_0x423586][_0x4acf09]=_0x3076a8[_0x89e2e4(0x86)][_0x4acf09]);}[a0_0x1ec3bd(0x19e)](_0x4fb8a7,_0x2c7f8d){const _0x34f90f=a0_0x1ec3bd;_0x4fb8a7[_0x34f90f(0x482)]['push'](_0x2c7f8d['replyOption']);}async['editFlowGroup'](_0x1621dc){const _0x283353=a0_0x1ec3bd;this[_0x283353(0x7b7)][_0x283353(0x7ac)](this['instanceName']+'\x20('+this['instance'][_0x283353(0x61a)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0x283353(0x5b9)](_0x1621dc,null,0x2));try{if(this[_0x283353(0x7b7)]['verbose'](this[_0x283353(0x147)]+'\x20('+this[_0x283353(0x68c)]['wuid']+_0x283353(0x53d)),!this[_0x283353(0x1d3)][_0x283353(0x30c)][_0x283353(0x435)](_0x5873f7=>_0x5873f7['_id']===_0x1621dc['_id']))throw this['logger'][_0x283353(0x7ac)](this[_0x283353(0x147)]+'\x20('+this[_0x283353(0x68c)][_0x283353(0x61a)]+_0x283353(0x107)+_0x1621dc[_0x283353(0x16c)]+_0x283353(0x790)),new m(_0x283353(0xd2));let _0x2226c6=await this[_0x283353(0xbe)]['flow'][_0x283353(0x2f1)]({'where':{'_id':_0x1621dc[_0x283353(0x16c)]}});if(!_0x2226c6||!_0x2226c6[_0x283353(0xbd)]?.[_0x283353(0x39c)](this[_0x283353(0x68c)]['wuid']))throw this['logger'][_0x283353(0x4e6)](this[_0x283353(0x147)]+'\x20('+this[_0x283353(0x68c)][_0x283353(0x61a)]+_0x283353(0x4a8)+_0x1621dc[_0x283353(0x16c)]+_0x283353(0x5f1)),new m(_0x283353(0x5bb)+_0x1621dc['_id']+_0x283353(0x5f1));if(!_0x2226c6[_0x283353(0x4f0)]?.[_0x283353(0x39c)](this[_0x283353(0x68c)][_0x283353(0x61a)]))throw new m(_0x283353(0x243));if(_0x1621dc[_0x283353(0x35b)]&&_0x1621dc[_0x283353(0x35b)]?.[_0x283353(0x6f4)]===!0x0){if(this['logger'][_0x283353(0x7ac)](this[_0x283353(0x147)]+'\x20('+this['instance'][_0x283353(0x61a)]+_0x283353(0x57f)),_0x1621dc[_0x283353(0x35b)][_0x283353(0x442)]===!0x0)return{'message':_0x283353(0x66c)};if(_0x2226c6[_0x283353(0xc0)]['some'](_0x4d0b99=>_0x4d0b99[_0x283353(0x17e)]['toString']()===_0x1621dc['group'][_0x283353(0x16c)]))return this[_0x283353(0x7b7)]['verbose'](this[_0x283353(0x147)]+'\x20('+this['instance']['wuid']+_0x283353(0x246)),{'message':_0x283353(0x1a9)};_0x2226c6[_0x283353(0x2dd)]=_0x2226c6[_0x283353(0x2dd)][_0x283353(0x433)](_0x4f29b6=>_0x4f29b6['_id'][_0x283353(0x51d)]()!==_0x1621dc[_0x283353(0x35b)][_0x283353(0x16c)]);}else{if(_0x1621dc[_0x283353(0x35b)]){if(_0x1621dc[_0x283353(0x35b)][_0x283353(0x442)]===!0x0)return{'message':_0x283353(0x225)};if(_0x1621dc[_0x283353(0x35b)][_0x283353(0x16c)]){let _0x1ed8bf=_0x2226c6[_0x283353(0x2dd)][_0x283353(0x435)](_0xddce06=>_0xddce06[_0x283353(0x16c)][_0x283353(0x51d)]()===_0x1621dc[_0x283353(0x35b)]['_id']);_0x1ed8bf&&(_0x1621dc['group']['x']<0x0&&(_0x1621dc[_0x283353(0x35b)]['x']=0x0),_0x1621dc[_0x283353(0x35b)]['y']<0x0&&(_0x1621dc[_0x283353(0x35b)]['y']=0x0),Object[_0x283353(0x615)](_0x1ed8bf,_0x1621dc[_0x283353(0x35b)]));}else _0x2226c6[_0x283353(0x2dd)][_0x283353(0x3f7)](_0x1621dc[_0x283353(0x35b)]);}}let _0x19b63e=await this[_0x283353(0xbe)][_0x283353(0x5a4)]['updateOne'](_0x2226c6['_id'],_0x2226c6);if(!_0x19b63e)throw new Error(_0x283353(0x12d));return _0x19b63e;}catch(_0xf089ed){let _0x5187bf=_0x283353(0x167),_0x5c380d=_0xf089ed instanceof Error?_0xf089ed[_0x283353(0x61f)]:typeof _0xf089ed==_0x283353(0x2c3)?JSON['stringify'](_0xf089ed):_0xf089ed,_0x3d9f2c=_0x5187bf+':\x20'+_0x5c380d;throw this[_0x283353(0x7b7)][_0x283353(0x4e6)](this[_0x283353(0x147)]+'\x20('+this[_0x283353(0x68c)]['wuid']+_0x283353(0x4e1)+_0x3d9f2c),new m(_0x3d9f2c);}}async[a0_0x1ec3bd(0x5fd)](_0x4a33d2){const _0x410f08=a0_0x1ec3bd;try{if(this[_0x410f08(0x7b7)][_0x410f08(0x7ac)](this[_0x410f08(0x147)]+'\x20('+this[_0x410f08(0x68c)][_0x410f08(0x61a)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this[_0x410f08(0x1d3)][_0x410f08(0x30c)][_0x410f08(0x435)](_0x32fcfa=>_0x32fcfa['_id']===_0x4a33d2[_0x410f08(0x16c)]))throw this[_0x410f08(0x7b7)][_0x410f08(0x7ac)](this[_0x410f08(0x147)]+'\x20('+this['instance']['wuid']+_0x410f08(0x107)+_0x4a33d2[_0x410f08(0x16c)]+_0x410f08(0x790)),new m(_0x410f08(0xd2));let _0x1e438c=await this[_0x410f08(0xbe)]['flow']['findOne']({'where':{'_id':_0x4a33d2[_0x410f08(0x16c)]}});if(!_0x1e438c||!_0x1e438c[_0x410f08(0xbd)]?.[_0x410f08(0x39c)](this['instance']['wuid']))throw this['logger'][_0x410f08(0x4e6)](this[_0x410f08(0x147)]+'\x20('+this[_0x410f08(0x68c)][_0x410f08(0x61a)]+_0x410f08(0x4a8)+_0x4a33d2[_0x410f08(0x16c)]+_0x410f08(0x5f1)),new m(_0x410f08(0x5bb)+_0x4a33d2[_0x410f08(0x16c)]+_0x410f08(0x5f1));if(!_0x1e438c[_0x410f08(0x4f0)]?.['includes'](this['instance'][_0x410f08(0x61a)]))throw new m(_0x410f08(0x243));let _0x5cadf3=!0x1;if(_0x4a33d2['condition']?.[_0x410f08(0x6f4)]===!0x0)_0x1e438c[_0x410f08(0x308)]=_0x1e438c[_0x410f08(0x308)][_0x410f08(0x433)](_0x13a250=>_0x13a250&&_0x4a33d2['condition']&&_0x13a250['_id']&&_0x4a33d2[_0x410f08(0x3cb)][_0x410f08(0x16c)]&&_0x13a250[_0x410f08(0x16c)][_0x410f08(0x51d)]()!==_0x4a33d2['condition'][_0x410f08(0x16c)][_0x410f08(0x51d)]()),_0x5cadf3=!0x0;else{let _0x1bf4e6=_0x1e438c[_0x410f08(0x308)][_0x410f08(0x435)](_0x5ada5a=>_0x5ada5a&&_0x4a33d2[_0x410f08(0x3cb)]&&_0x5ada5a[_0x410f08(0x16c)]&&_0x4a33d2['condition'][_0x410f08(0x16c)]&&_0x5ada5a[_0x410f08(0x16c)][_0x410f08(0x51d)]()===_0x4a33d2['condition']['_id'][_0x410f08(0x51d)]());_0x1bf4e6?(_0x5cadf3=_0x1bf4e6[_0x410f08(0x6da)]!==_0x4a33d2[_0x410f08(0x3cb)][_0x410f08(0x6da)],Object[_0x410f08(0x615)](_0x1bf4e6,_0x4a33d2['condition'])):(_0x1e438c[_0x410f08(0x308)]['push'](_0x4a33d2['condition']),_0x5cadf3=!0x0);}if(_0x5cadf3){_0x1e438c[_0x410f08(0x308)][_0x410f08(0x3ba)]((_0x4d13b0,_0x37ed76)=>_0x4d13b0[_0x410f08(0x6da)]>_0x37ed76[_0x410f08(0x6da)]?0x1:_0x37ed76['order']>_0x4d13b0[_0x410f08(0x6da)]?-0x1:0x0);for(let _0x2badb1=0x0;_0x2badb1<_0x1e438c[_0x410f08(0x308)][_0x410f08(0x2a9)];_0x2badb1++)_0x1e438c['conditions'][_0x2badb1][_0x410f08(0x6da)]=_0x2badb1+0x1;_0x1e438c[_0x410f08(0x308)][_0x410f08(0x2a9)]>0x0&&(_0x1e438c[_0x410f08(0x308)][0x0][_0x410f08(0x696)]=_0x410f08(0x2f4));}let _0x405f03=await this['repository'][_0x410f08(0x5a4)][_0x410f08(0x2f9)](_0x1e438c[_0x410f08(0x16c)],_0x1e438c);if(!_0x405f03)throw new Error(_0x410f08(0x12d));return _0x405f03;}catch(_0x552329){let _0x330512=_0x410f08(0x5f9),_0x280c85=_0x552329 instanceof Error?_0x552329['message']:typeof _0x552329==_0x410f08(0x2c3)?JSON[_0x410f08(0x5b9)](_0x552329):_0x552329,_0x38e5ad=_0x330512+':\x20'+_0x280c85;throw this[_0x410f08(0x7b7)][_0x410f08(0x4e6)](this[_0x410f08(0x147)]+'\x20('+this[_0x410f08(0x68c)][_0x410f08(0x61a)]+_0x410f08(0x4e1)+_0x38e5ad),new m(_0x38e5ad);}}async[a0_0x1ec3bd(0x664)](_0x862225){const _0x163da5=a0_0x1ec3bd;try{if(this[_0x163da5(0x7b7)][_0x163da5(0x7ac)](this[_0x163da5(0x147)]+'\x20('+this[_0x163da5(0x68c)][_0x163da5(0x61a)]+_0x163da5(0x3a2)),!this[_0x163da5(0x1d3)][_0x163da5(0x30c)][_0x163da5(0x435)](_0x195c29=>_0x195c29['_id']===_0x862225[_0x163da5(0x16c)]))throw this[_0x163da5(0x7b7)]['verbose'](this[_0x163da5(0x147)]+'\x20('+this['instance']['wuid']+_0x163da5(0x107)+_0x862225[_0x163da5(0x16c)]+'\x27\x20não\x20encontrado'),new m(_0x163da5(0xd2));let _0x317960=await this[_0x163da5(0xbe)][_0x163da5(0x5a4)]['findOne']({'where':{'_id':_0x862225[_0x163da5(0x16c)]}});if(!_0x317960||!_0x317960[_0x163da5(0xbd)]?.[_0x163da5(0x39c)](this[_0x163da5(0x68c)][_0x163da5(0x61a)]))throw this[_0x163da5(0x7b7)][_0x163da5(0x4e6)](this[_0x163da5(0x147)]+'\x20('+this['instance'][_0x163da5(0x61a)]+_0x163da5(0x4a8)+_0x862225[_0x163da5(0x16c)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x163da5(0x5bb)+_0x862225['_id']+_0x163da5(0x5f1));if(!_0x317960[_0x163da5(0x4f0)]?.[_0x163da5(0x39c)](this['instance']['wuid']))throw new m(_0x163da5(0x243));let _0x37c1c2=!0x1;if(_0x862225[_0x163da5(0x457)]?.[_0x163da5(0x6f4)]===!0x0)_0x317960[_0x163da5(0x428)]=_0x317960[_0x163da5(0x428)][_0x163da5(0x433)](_0x4e03b0=>_0x4e03b0&&_0x862225[_0x163da5(0x457)]&&_0x4e03b0[_0x163da5(0x16c)]&&_0x862225['varedit'][_0x163da5(0x16c)]&&_0x4e03b0[_0x163da5(0x16c)]['toString']()!==_0x862225[_0x163da5(0x457)][_0x163da5(0x16c)][_0x163da5(0x51d)]()),_0x37c1c2=!0x0;else{let _0x390935=_0x317960[_0x163da5(0x428)][_0x163da5(0x435)](_0x273f76=>_0x273f76&&_0x862225['varedit']&&_0x273f76['_id']&&_0x862225['varedit']['_id']&&_0x273f76['_id'][_0x163da5(0x51d)]()===_0x862225['varedit'][_0x163da5(0x16c)][_0x163da5(0x51d)]());_0x390935?(_0x37c1c2=_0x390935[_0x163da5(0x6da)]!==_0x862225[_0x163da5(0x457)]['order'],Object[_0x163da5(0x615)](_0x390935,_0x862225[_0x163da5(0x457)])):(_0x317960[_0x163da5(0x428)][_0x163da5(0x3f7)](_0x862225['varedit']),_0x37c1c2=!0x0);}if(_0x37c1c2){_0x317960[_0x163da5(0x428)]['sort']((_0x5d73a5,_0x332761)=>_0x5d73a5[_0x163da5(0x6da)]>_0x332761[_0x163da5(0x6da)]?0x1:_0x332761['order']>_0x5d73a5[_0x163da5(0x6da)]?-0x1:0x0);for(let _0x11754f=0x0;_0x11754f<_0x317960[_0x163da5(0x428)][_0x163da5(0x2a9)];_0x11754f++)_0x317960[_0x163da5(0x428)][_0x11754f]['order']=_0x11754f+0x1;}let _0x102671=await this['repository'][_0x163da5(0x5a4)][_0x163da5(0x2f9)](_0x317960[_0x163da5(0x16c)],_0x317960);if(!_0x102671)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x102671;}catch(_0x3e7ba9){let _0x1baca9=_0x163da5(0x5f9),_0x5570ac=_0x3e7ba9 instanceof Error?_0x3e7ba9[_0x163da5(0x61f)]:typeof _0x3e7ba9==_0x163da5(0x2c3)?JSON[_0x163da5(0x5b9)](_0x3e7ba9):_0x3e7ba9,_0x375503=_0x1baca9+':\x20'+_0x5570ac;throw this[_0x163da5(0x7b7)]['error'](this[_0x163da5(0x147)]+'\x20('+this[_0x163da5(0x68c)][_0x163da5(0x61a)]+'):\x20'+_0x375503),new m(_0x375503);}}async['editFlowVariable'](_0x1910e1){const _0x1eabf9=a0_0x1ec3bd;try{if(this[_0x1eabf9(0x7b7)][_0x1eabf9(0x7ac)](this[_0x1eabf9(0x147)]+'\x20('+this['instance'][_0x1eabf9(0x61a)]+_0x1eabf9(0x572)),!this[_0x1eabf9(0x1d3)][_0x1eabf9(0x30c)][_0x1eabf9(0x435)](_0x4975d1=>_0x4975d1[_0x1eabf9(0x16c)]===_0x1910e1[_0x1eabf9(0x16c)]))throw this[_0x1eabf9(0x7b7)][_0x1eabf9(0x7ac)](this['instanceName']+'\x20('+this[_0x1eabf9(0x68c)][_0x1eabf9(0x61a)]+_0x1eabf9(0x107)+_0x1910e1['_id']+_0x1eabf9(0x790)),new m(_0x1eabf9(0xd2));let _0x43dde2=await this[_0x1eabf9(0xbe)][_0x1eabf9(0x5a4)][_0x1eabf9(0x2f1)]({'where':{'_id':_0x1910e1[_0x1eabf9(0x16c)]}});if(!_0x43dde2||!_0x43dde2[_0x1eabf9(0xbd)]?.[_0x1eabf9(0x39c)](this[_0x1eabf9(0x68c)][_0x1eabf9(0x61a)]))throw this['logger'][_0x1eabf9(0x4e6)](this['instanceName']+'\x20('+this[_0x1eabf9(0x68c)][_0x1eabf9(0x61a)]+_0x1eabf9(0x4a8)+_0x1910e1[_0x1eabf9(0x16c)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1eabf9(0x5bb)+_0x1910e1['_id']+_0x1eabf9(0x5f1));if(!_0x43dde2['whoCanEdit']?.['includes'](this['instance'][_0x1eabf9(0x61a)]))throw new m(_0x1eabf9(0x243));_0x1910e1[_0x1eabf9(0x5f5)]['name']=_0x1910e1['variable']['name']['trim'](),_0x1910e1[_0x1eabf9(0x5f5)][_0x1eabf9(0x6fa)][_0x1eabf9(0x725)]('_')&&(_0x1910e1[_0x1eabf9(0x5f5)][_0x1eabf9(0x6fa)]=_0x1910e1['variable'][_0x1eabf9(0x6fa)][_0x1eabf9(0x2c7)](0x1)),_0x1910e1[_0x1eabf9(0x5f5)][_0x1eabf9(0x6fa)]=_0x1910e1[_0x1eabf9(0x5f5)][_0x1eabf9(0x6fa)][_0x1eabf9(0x2ee)]();let _0x13c7a1=_0x43dde2['variables'][_0x1eabf9(0x435)](_0x52b120=>_0x52b120[_0x1eabf9(0x6fa)]===_0x1910e1['variable'][_0x1eabf9(0x6fa)]);if(_0x13c7a1?.[_0x1eabf9(0x72f)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x1910e1[_0x1eabf9(0x5f5)]?.['delete']===!0x0){if(!_0x13c7a1)return{'message':_0x1eabf9(0x59a)};_0x43dde2[_0x1eabf9(0x19f)]=_0x43dde2['variables']['filter'](_0x309330=>_0x309330[_0x1eabf9(0x6fa)]!==_0x1910e1['variable'][_0x1eabf9(0x6fa)]);}else _0x13c7a1?Object[_0x1eabf9(0x615)](_0x13c7a1,_0x1910e1['variable']):_0x43dde2[_0x1eabf9(0x19f)][_0x1eabf9(0x3f7)](_0x1910e1[_0x1eabf9(0x5f5)]);let _0x4b1a3c=await this[_0x1eabf9(0xbe)][_0x1eabf9(0x5a4)][_0x1eabf9(0x2f9)](_0x43dde2['_id'],_0x43dde2);if(!_0x4b1a3c)throw new Error(_0x1eabf9(0x12d));return _0x4b1a3c;}catch(_0x4c920){let _0x155f9c=_0x1eabf9(0x532),_0x406ccb=_0x4c920 instanceof Error?_0x4c920[_0x1eabf9(0x61f)]:typeof _0x4c920==_0x1eabf9(0x2c3)?JSON[_0x1eabf9(0x5b9)](_0x4c920):_0x4c920,_0xc925be=_0x155f9c+':\x20'+_0x406ccb;throw this[_0x1eabf9(0x7b7)][_0x1eabf9(0x4e6)](this[_0x1eabf9(0x147)]+'\x20('+this[_0x1eabf9(0x68c)][_0x1eabf9(0x61a)]+'):\x20'+_0xc925be),new m(_0xc925be);}}async[a0_0x1ec3bd(0x73c)](_0x5b0f52){const _0x342677=a0_0x1ec3bd;let _0x4eb8f3=null;try{if(!this[_0x342677(0x1d3)]?.['flowConfig'][_0x342677(0x39f)])throw new m(_0x342677(0x2f0));this['logger'][_0x342677(0x7ac)](this['instanceName']+'\x20('+this[_0x342677(0x68c)][_0x342677(0x61a)]+'):\x20Iniciando\x20bot...');let _0x10692b=(await this[_0x342677(0x1be)]({'numbers':[_0x5b0f52['remoteJid']]}))[0x0];if(!_0x10692b['exists']&&!(0x0,w[_0x342677(0x44c)])(_0x10692b[_0x342677(0x4df)])&&!_0x10692b[_0x342677(0x4df)][_0x342677(0x39c)](_0x342677(0x22a)))throw _0x4eb8f3=JSON[_0x342677(0x5b9)](_0x10692b,null,0x2),new m(_0x10692b);let _0x446565;if(_0x5b0f52[_0x342677(0x6fa)][_0x342677(0x2a9)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x342677(0x256)](_0x5b0f52[_0x342677(0x6fa)])?_0x446565=this[_0x342677(0x1d3)][_0x342677(0x30c)][_0x342677(0x435)](_0x38f3e9=>_0x38f3e9[_0x342677(0x16c)]===_0x5b0f52['name']):_0x446565=this['AutomateSystem'][_0x342677(0x30c)][_0x342677(0x435)](_0x51ff62=>_0x51ff62[_0x342677(0x6fa)]===_0x5b0f52[_0x342677(0x6fa)]),!_0x446565)throw this[_0x342677(0x7b7)][_0x342677(0x7ac)](this[_0x342677(0x147)]+'\x20('+this[_0x342677(0x68c)][_0x342677(0x61a)]+'):\x20Fluxo\x20\x27'+_0x5b0f52[_0x342677(0x6fa)]+_0x342677(0x790)),new m(_0x342677(0xd2));let _0x4aeffd=await this[_0x342677(0xbe)][_0x342677(0x5a4)][_0x342677(0x2f1)]({'where':{'_id':_0x446565[_0x342677(0x16c)]}});if(!_0x4aeffd||!_0x4aeffd[_0x342677(0xbd)]?.['includes'](this['instance'][_0x342677(0x61a)]))throw this[_0x342677(0x7b7)][_0x342677(0x4e6)](this[_0x342677(0x147)]+'\x20('+this[_0x342677(0x68c)][_0x342677(0x61a)]+'):\x20Flow\x20\x27'+_0x446565[_0x342677(0x16c)]+_0x342677(0x5f1)),_0x4eb8f3=_0x342677(0x5bb)+_0x446565['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x4eb8f3);let _0x78882b=await this[_0x342677(0x1d7)](_0x4aeffd,_0x10692b[_0x342677(0x4df)],_0x5b0f52[_0x342677(0x23d)]);if(_0x78882b){this[_0x342677(0x7b7)][_0x342677(0x7ac)](this[_0x342677(0x147)]+'\x20('+this[_0x342677(0x68c)][_0x342677(0x61a)]+_0x342677(0x601));let _0x1b5def=await this[_0x342677(0x5aa)](_0x78882b);return _0x1b5def&&await this[_0x342677(0x561)](_0x78882b,_0x1b5def),{'message':_0x342677(0x470)+_0x5b0f52['remoteJid']};}}catch(_0x1995c){if(this[_0x342677(0x7b7)][_0x342677(0x4e6)](this[_0x342677(0x147)]+'\x20('+this[_0x342677(0x68c)][_0x342677(0x61a)]+_0x342677(0x63a)+(_0x1995c instanceof Error?_0x1995c['message']:JSON[_0x342677(0x5b9)](_0x1995c,null,0x2))),_0x4eb8f3=_0x1995c instanceof Error?_0x1995c[_0x342677(0x61f)]:JSON[_0x342677(0x5b9)](_0x1995c,null,0x2),_0x4eb8f3)throw new m(_0x342677(0x631)+_0x4eb8f3);}}async[a0_0x1ec3bd(0x633)](_0x11abcb,_0x4b32b9,_0x29155c){const _0x57e249=a0_0x1ec3bd;let _0xe0d1b5=null;try{if(!this[_0x57e249(0x1d3)]?.[_0x57e249(0x11f)][_0x57e249(0x39f)])throw new m(_0x57e249(0x2f0));if(this[_0x57e249(0x7b7)][_0x57e249(0x7ac)](this[_0x57e249(0x147)]+'\x20('+this[_0x57e249(0x68c)][_0x57e249(0x61a)]+'):\x20Iniciando\x20bot...'),_0x4b32b9){let _0x511aee=(await this[_0x57e249(0x1be)]({'numbers':[_0x4b32b9]}))[0x0];if(!_0x511aee['exists']&&!(0x0,w[_0x57e249(0x44c)])(_0x511aee['jid'])&&!_0x511aee['jid'][_0x57e249(0x39c)](_0x57e249(0x22a)))throw _0xe0d1b5=JSON[_0x57e249(0x5b9)](_0x511aee,null,0x2),new m(_0x511aee);_0x4b32b9=_0x511aee[_0x57e249(0x4df)];}else _0x4b32b9||(_0x4b32b9=(0x0,Y['v4'])());let _0x11cca1=await this[_0x57e249(0xbe)][_0x57e249(0x5a4)][_0x57e249(0x2f1)]({'where':{'_id':_0x11abcb}});if(!_0x11cca1||!_0x11cca1['whoCanUse']?.[_0x57e249(0x39c)](this[_0x57e249(0x68c)][_0x57e249(0x61a)]))throw this[_0x57e249(0x7b7)][_0x57e249(0x4e6)](this[_0x57e249(0x147)]+'\x20('+this[_0x57e249(0x68c)][_0x57e249(0x61a)]+_0x57e249(0x4a8)+_0x11abcb+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x57e249(0x5bb)+_0x11abcb+_0x57e249(0x5f1));let _0x597cd0=await this[_0x57e249(0x1d7)](_0x11cca1,_0x4b32b9,null);if(_0x597cd0){this['logger'][_0x57e249(0x7ac)](this[_0x57e249(0x147)]+'\x20('+this['instance'][_0x57e249(0x61a)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x42d015;if(_0x29155c){let _0x4bdd13=_0x597cd0[_0x57e249(0x1a8)][_0x57e249(0x327)],_0x299e2a=this[_0x57e249(0x2c4)](_0x29155c);Object['assign'](_0x4bdd13,_0x299e2a),_0x597cd0[_0x57e249(0x1a8)][_0x57e249(0x327)]=_0x4bdd13,_0x42d015={'error':!0x1,'apiResponse':_0x29155c};}let _0x416416=await this[_0x57e249(0x5aa)](_0x597cd0);return _0x416416&&await this[_0x57e249(0x561)](_0x597cd0,_0x416416),{'message':'Flow\x20iniciado'};}}catch(_0x143aa7){if(this[_0x57e249(0x7b7)]['error'](this[_0x57e249(0x147)]+'\x20('+this['instance']['wuid']+_0x57e249(0x63a)+(_0x143aa7 instanceof Error?_0x143aa7['message']:JSON[_0x57e249(0x5b9)](_0x143aa7,null,0x2))),_0xe0d1b5=_0x143aa7 instanceof Error?_0x143aa7['message']:JSON[_0x57e249(0x5b9)](_0x143aa7,null,0x2),_0xe0d1b5)throw new m(_0x57e249(0x631)+_0xe0d1b5);}}async['closeExistingConversations'](_0x1e42b8){const _0x3e272d=a0_0x1ec3bd;try{let _0x56a9df={'remoteJid':_0x1e42b8,'status':'open'},_0x2e39ec={'status':_0x3e272d(0x5d3)},_0x4c87f6=await this[_0x3e272d(0xbe)]['flowConversation'][_0x3e272d(0x398)](_0x56a9df,_0x2e39ec,this['instance'][_0x3e272d(0x61a)]);return this[_0x3e272d(0x7b7)][_0x3e272d(0x7ac)](this[_0x3e272d(0x147)]+'\x20('+this[_0x3e272d(0x68c)][_0x3e272d(0x61a)]+_0x3e272d(0x686)),_0x4c87f6;}catch(_0x2915d1){throw this[_0x3e272d(0x7b7)]['error'](this[_0x3e272d(0x147)]+'\x20('+this[_0x3e272d(0x68c)][_0x3e272d(0x61a)]+_0x3e272d(0x4cf)+_0x2915d1[_0x3e272d(0x61f)]),_0x2915d1;}}async[a0_0x1ec3bd(0x1d7)](_0xedecb3,_0x51e1af,_0x12be08){const _0x39bf1a=a0_0x1ec3bd;this[_0x39bf1a(0x7b7)][_0x39bf1a(0x7ac)](this['instanceName']+'\x20('+this[_0x39bf1a(0x68c)][_0x39bf1a(0x61a)]+_0x39bf1a(0x656)),await this[_0x39bf1a(0x6ae)](_0x51e1af);try{let _0x34f1a7=require(_0x39bf1a(0x250))[_0x39bf1a(0x334)],_0x5e1476=Date[_0x39bf1a(0x450)](),_0x13e5a0=_0x39bf1a(0x6a4),_0x5e4957={},_0x2d444d={},_0x489729=this[_0x39bf1a(0x1d3)]['flows'][_0x39bf1a(0x435)](_0x44bc71=>_0x44bc71[_0x39bf1a(0x16c)]===_0xedecb3[_0x39bf1a(0x16c)]?.[_0x39bf1a(0x51d)]()),_0x1df915=_0x489729?.[_0x39bf1a(0x41d)]??_0xedecb3[_0x39bf1a(0x41d)]??0x0,_0xea2460=_0x489729?.['readMessages']??_0xedecb3[_0x39bf1a(0x66f)]??!0x1,_0x1d96b3={'flowId':_0xedecb3['_id'],..._0xedecb3,'chatLog':null},_0x39c4cc=await this[_0x39bf1a(0xa3)](_0x1d96b3['variables']),_0x1c5c28=await this[_0x39bf1a(0xe6)](_0x51e1af),_0x55a466={..._0x39c4cc,..._0x1c5c28,'_remoteJid':_0x51e1af},_0x1c52ca={'lastReceivedMessage':_0x5e4957,'lastSendMessage':_0x2d444d,'lastBlockId':_0x13e5a0,'lastCondition':!0x0,'realVariables':_0x55a466};_0x1d96b3['chatLog']=_0x1c52ca,_0x1d96b3[_0x39bf1a(0x1a8)][_0x39bf1a(0x327)]={..._0x55a466,..._0x12be08},delete _0x1d96b3[_0x39bf1a(0x16c)],_0x1d96b3['_id']=new _0x34f1a7(),_0x1d96b3[_0x39bf1a(0x77a)]=_0x5e1476,_0x1d96b3['status']=_0x39bf1a(0x6e9),_0x1d96b3[_0x39bf1a(0x47e)]=_0x51e1af,_0x1d96b3['minutesToClose']=_0x1df915,_0x1d96b3[_0x39bf1a(0x66f)]=_0xea2460,_0x1d96b3[_0x39bf1a(0x16c)]=_0xedecb3[_0x39bf1a(0x16c)];let _0x18861d=await this[_0x39bf1a(0xbe)][_0x39bf1a(0x6a5)][_0x39bf1a(0x2f9)](_0x1d96b3[_0x39bf1a(0x16c)],_0x1d96b3,this[_0x39bf1a(0x68c)][_0x39bf1a(0x61a)]);return this[_0x39bf1a(0x7b7)][_0x39bf1a(0x7ac)](this[_0x39bf1a(0x147)]+'\x20('+this['instance']['wuid']+_0x39bf1a(0x3e4)),_0x18861d?_0x1d96b3:null;}catch(_0x51eb0c){let _0x5d21e9=_0x39bf1a(0x3cd),_0x1d95e9=_0x51eb0c instanceof Error?_0x51eb0c[_0x39bf1a(0x61f)]:typeof _0x51eb0c==_0x39bf1a(0x2c3)?JSON[_0x39bf1a(0x5b9)](_0x51eb0c):_0x51eb0c,_0x4ca65c=_0x5d21e9+':\x20'+_0x1d95e9;throw this[_0x39bf1a(0x7b7)][_0x39bf1a(0x4e6)](this[_0x39bf1a(0x147)]+'\x20('+this[_0x39bf1a(0x68c)][_0x39bf1a(0x61a)]+_0x39bf1a(0x4e1)+_0x4ca65c),new m(_0x4ca65c);}}async[a0_0x1ec3bd(0x711)](_0x1d12ee){const _0x43688e=a0_0x1ec3bd;try{this['logger'][_0x43688e(0x7ac)](this[_0x43688e(0x147)]+'\x20('+this[_0x43688e(0x68c)][_0x43688e(0x61a)]+'):\x20Buscando\x20conversa...'),this[_0x43688e(0x7b7)][_0x43688e(0x7ac)](this[_0x43688e(0x147)]+'\x20('+this[_0x43688e(0x68c)][_0x43688e(0x61a)]+_0x43688e(0x4bd)+_0x1d12ee);let _0x80a18a={'where':{'_id':_0x1d12ee}};return await this['repository'][_0x43688e(0x6a5)][_0x43688e(0x2f1)](_0x80a18a,this['instance']['wuid']);}catch(_0x3c2b37){let _0x4c15c6='Erro\x20ao\x20buscar\x20a\x20conversa',_0x2e72e2=_0x3c2b37 instanceof Error?_0x3c2b37[_0x43688e(0x61f)]:typeof _0x3c2b37==_0x43688e(0x2c3)?JSON[_0x43688e(0x5b9)](_0x3c2b37):_0x3c2b37,_0x36d287=_0x4c15c6+':\x20'+_0x2e72e2;throw this[_0x43688e(0x7b7)][_0x43688e(0x4e6)](this[_0x43688e(0x147)]+'\x20('+this[_0x43688e(0x68c)][_0x43688e(0x61a)]+_0x43688e(0x4e1)+_0x36d287),new m(_0x36d287);}}async[a0_0x1ec3bd(0x70a)](_0x4a6bc3){const _0x3abd85=a0_0x1ec3bd;try{return this[_0x3abd85(0x7b7)][_0x3abd85(0x7ac)](this[_0x3abd85(0x147)]+'\x20('+this[_0x3abd85(0x68c)][_0x3abd85(0x61a)]+_0x3abd85(0x525)),await this[_0x3abd85(0xbe)][_0x3abd85(0x6a5)]['find'](_0x4a6bc3,this[_0x3abd85(0x68c)][_0x3abd85(0x61a)]);}catch(_0x595537){let _0x28a954='Erro\x20ao\x20buscar\x20conversas',_0x224f91=_0x595537 instanceof Error?_0x595537['message']:typeof _0x595537=='object'?JSON['stringify'](_0x595537):_0x595537,_0x3f4970=_0x28a954+':\x20'+_0x224f91;throw this['logger'][_0x3abd85(0x4e6)](this[_0x3abd85(0x147)]+'\x20('+this[_0x3abd85(0x68c)][_0x3abd85(0x61a)]+'):\x20'+_0x3f4970),new m(_0x3f4970);}}async[a0_0x1ec3bd(0x4fb)](_0x5e02b3){const _0x1c619d=a0_0x1ec3bd;try{return this[_0x1c619d(0x7b7)][_0x1c619d(0x7ac)](this[_0x1c619d(0x147)]+'\x20('+this[_0x1c619d(0x68c)][_0x1c619d(0x61a)]+_0x1c619d(0x2a6)),this[_0x1c619d(0x7b7)]['verbose'](this['instanceName']+'\x20('+this[_0x1c619d(0x68c)][_0x1c619d(0x61a)]+_0x1c619d(0x48f)+_0x5e02b3),(await this[_0x1c619d(0xbe)]['flowConversation']['deleteOne']({'where':{'_id':_0x5e02b3['_id']}},this[_0x1c619d(0x68c)][_0x1c619d(0x61a)]))[_0x1c619d(0x5dc)]===0x0?{'message':_0x1c619d(0x565)}:{'message':_0x1c619d(0x55c)};}catch(_0x4cdebe){let _0x311591=_0x1c619d(0x262),_0x15c3fc=_0x4cdebe instanceof Error?_0x4cdebe['message']:typeof _0x4cdebe==_0x1c619d(0x2c3)?JSON[_0x1c619d(0x5b9)](_0x4cdebe):_0x4cdebe,_0x503971=_0x311591+':\x20'+_0x15c3fc;throw this['logger'][_0x1c619d(0x4e6)](this[_0x1c619d(0x147)]+'\x20('+this['instance'][_0x1c619d(0x61a)]+_0x1c619d(0x4e1)+_0x503971),new m(_0x503971);}}async['editConversation'](_0x1fe4a1){const _0x51aa00=a0_0x1ec3bd;try{let {_id:_0x247903,chatLog:_0x54dad8,status:_0x34255c}=_0x1fe4a1;if(!_0x247903)return{'message':_0x51aa00(0x7e)};let _0x2f40ac={};if(_0x34255c!==void 0x0&&(_0x2f40ac[_0x51aa00(0x4ff)]=_0x34255c),Object[_0x51aa00(0x196)](_0x2f40ac)[_0x51aa00(0x2a9)]===0x0)return{'message':_0x51aa00(0x379)};let _0x3d3638=await this[_0x51aa00(0xbe)][_0x51aa00(0x6a5)]['updateOne'](_0x247903,_0x2f40ac,this[_0x51aa00(0x68c)][_0x51aa00(0x61a)]);return _0x3d3638||{'message':_0x51aa00(0x97)};}catch(_0x25ac8b){let _0x58c2a6=_0x51aa00(0x7bd),_0x5e23c5=_0x25ac8b instanceof Error?_0x25ac8b[_0x51aa00(0x61f)]:typeof _0x25ac8b==_0x51aa00(0x2c3)?JSON[_0x51aa00(0x5b9)](_0x25ac8b):_0x25ac8b,_0x48929d=_0x58c2a6+':\x20'+_0x5e23c5;throw this[_0x51aa00(0x7b7)][_0x51aa00(0x4e6)](this['instanceName']+'\x20('+this[_0x51aa00(0x68c)]['wuid']+'):\x20'+_0x48929d),new m(_0x48929d);}}async['editChat'](_0x5cfc77){const _0x5aac35=a0_0x1ec3bd;try{_0x5cfc77['_id']=this['createJid'](_0x5cfc77[_0x5aac35(0x16c)]);let _0x22287a=await this[_0x5aac35(0xbe)]['chat'][_0x5aac35(0x2f1)]({'where':{'_id':_0x5cfc77[_0x5aac35(0x16c)]}},this['instance'][_0x5aac35(0x61a)]);if(!_0x22287a)throw new m(_0x5aac35(0x598));let {_id:_0x1ffefb,leadInfo:_0x1212fb}=_0x5cfc77;if(!_0x1ffefb)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x5cfc77[_0x5aac35(0x6f4)]===_0x5aac35(0x42f))return await this[_0x5aac35(0xa5)](_0x5cfc77[_0x5aac35(0x16c)]),await this['repository']['chat']['delete']({'where':{'_id':_0x5cfc77[_0x5aac35(0x16c)]}},this['instance'][_0x5aac35(0x61a)]),await this[_0x5aac35(0xbe)][_0x5aac35(0x61f)][_0x5aac35(0x6f4)]({'where':{'key':{'remoteJid':_0x5cfc77[_0x5aac35(0x16c)]}}},this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]),_0x5cfc77=await this['repository']['chat'][_0x5aac35(0x2f9)]({'where':{'_id':_0x5cfc77[_0x5aac35(0x16c)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]),U(this[_0x5aac35(0x147)],_0x5aac35(0xcf),{'chat':_0x5cfc77}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x5cfc77[_0x5aac35(0x6f4)]===_0x5aac35(0x629))return await this[_0x5aac35(0xbe)][_0x5aac35(0x61f)][_0x5aac35(0x6f4)]({'where':{'key':{'remoteJid':_0x5cfc77[_0x5aac35(0x16c)]}}},this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]),_0x5cfc77=await this['repository'][_0x5aac35(0x7bf)]['updateOne']({'where':{'_id':_0x5cfc77[_0x5aac35(0x16c)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]),U(this[_0x5aac35(0x147)],_0x5aac35(0xcf),{'chat':_0x5cfc77}),{'message':_0x5aac35(0x35f)};let _0x528146=(_0x2277a4,_0x10ac9d,_0x126271)=>{const _0x40ca8b=_0x5aac35;_0x2277a4&&_0x126271[_0x40ca8b(0x730)](_0x2f64e6=>{const _0x1bcb6f=_0x40ca8b;_0x2277a4[_0x2f64e6]!==void 0x0&&(_0x10ac9d[_0x1bcb6f(0x5dd)+_0x2f64e6]=_0x2277a4[_0x2f64e6]);});},_0x1a67a6={};if('muteEndTime'in _0x5cfc77&&(this[_0x5aac35(0x7b7)][_0x5aac35(0x7ac)](this['instanceName']+'\x20('+this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x5cfc77[_0x5aac35(0x16c)]),_0x5cfc77[_0x5aac35(0x227)]=_0x5cfc77['muteEndTime']===0x0?null:-0x1,await this[_0x5aac35(0x392)][_0x5aac35(0x4c4)]({'mute':_0x5cfc77[_0x5aac35(0x227)]},_0x5cfc77[_0x5aac35(0x16c)]),_0x1a67a6[_0x5aac35(0x227)]=Number(_0x5cfc77[_0x5aac35(0x227)])),_0x1212fb&&(_0x528146(_0x1212fb,_0x1a67a6,[_0x5aac35(0x416),_0x5aac35(0x271),_0x5aac35(0x6cc),_0x5aac35(0xe3),_0x5aac35(0x4ff),_0x5aac35(0xa8),_0x5aac35(0x78c),_0x5aac35(0x17d),'responsavelid','etiquetas',_0x5aac35(0x26f)]),Array['isArray'](_0x1212fb['customFields'])&&(_0x1a67a6['leadInfo.customFields']=_0x1212fb[_0x5aac35(0x2c2)][_0x5aac35(0x6ef)](_0x4f271d=>({'_id':_0x4f271d['_id'],'value':_0x4f271d[_0x5aac35(0x571)]}))),_0x5cfc77['leadInfo'][_0x5aac35(0x6ca)]!==void 0x0)){let _0x1510ff=await this['repository'][_0x5aac35(0x5c0)][_0x5aac35(0x435)]({'where':{}},this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]),_0x3e8f39=new Set(_0x5cfc77[_0x5aac35(0x72f)][_0x5aac35(0x6ca)]||[]),_0x25e871=new Set(_0x5cfc77[_0x5aac35(0x72f)][_0x5aac35(0x6ca)]),_0x16b846=new Set(_0x1510ff[_0x5aac35(0x6ef)](_0x506d60=>_0x506d60[_0x5aac35(0x16c)])),_0x2579d9=[..._0x25e871][_0x5aac35(0x433)](_0x372ef0=>!_0x3e8f39[_0x5aac35(0x5a1)](_0x372ef0)&&_0x16b846[_0x5aac35(0x5a1)](_0x372ef0)),_0x6a9906=[..._0x3e8f39][_0x5aac35(0x433)](_0x332806=>!_0x25e871[_0x5aac35(0x5a1)](_0x332806));if(_0x1a67a6[_0x5aac35(0xdb)]=[..._0x3e8f39],_0x22287a&&!_0x22287a[_0x5aac35(0x7a7)]){for(let _0x3b6cc1 of _0x2579d9)await this['AddChatLabel'](_0x3b6cc1,_0x5cfc77[_0x5aac35(0x16c)]),_0x3e8f39['add'](_0x3b6cc1);for(let _0x2ac654 of _0x6a9906)await this[_0x5aac35(0x401)](_0x2ac654,_0x5cfc77[_0x5aac35(0x16c)]),_0x3e8f39[_0x5aac35(0x6f4)](_0x2ac654);}}if(_0x5cfc77['unreadcount']!==void 0x0&&(_0x1a67a6['unreadcount']=Number(_0x5cfc77[_0x5aac35(0x3ce)])),Object['keys'](_0x1a67a6)['length']===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x439022=await this[_0x5aac35(0xbe)][_0x5aac35(0x7bf)][_0x5aac35(0x2f9)]({'where':{'_id':_0x5cfc77[_0x5aac35(0x16c)]}},_0x1a67a6,this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]);return _0x439022&&U(this['instanceName'],_0x5aac35(0xcf),{'chat':_0x439022}),_0x439022?(this[_0x5aac35(0x7b7)][_0x5aac35(0x7ac)](this[_0x5aac35(0x147)]+'\x20('+this[_0x5aac35(0x68c)][_0x5aac35(0x61a)]+_0x5aac35(0x4e1)+JSON['stringify'](_0x439022,null,0x2)),_0x439022):{'message':_0x5aac35(0x577)};}catch(_0x2b4035){let _0x16e727=_0x5aac35(0x210),_0x5c775d=_0x2b4035 instanceof Error?_0x2b4035[_0x5aac35(0x61f)]:typeof _0x2b4035==_0x5aac35(0x2c3)?JSON[_0x5aac35(0x5b9)](_0x2b4035):_0x2b4035,_0x509a4d=_0x16e727+':\x20'+_0x5c775d;throw this['logger'][_0x5aac35(0x4e6)](this[_0x5aac35(0x147)]+'\x20('+this['instance'][_0x5aac35(0x61a)]+_0x5aac35(0x4e1)+_0x509a4d),new m(_0x509a4d);}}async[a0_0x1ec3bd(0x4ab)](_0x362387,_0x37f88f){const _0x396af6=a0_0x1ec3bd;try{await this[_0x396af6(0x392)][_0x396af6(0x245)](_0x37f88f,_0x362387),this[_0x396af6(0x7b7)][_0x396af6(0x6eb)](this[_0x396af6(0x147)]+'\x20('+this[_0x396af6(0x68c)]['wuid']+'):\x20Label\x20'+_0x362387+'\x20adicionado\x20ao\x20chat\x20'+_0x37f88f+'\x20com\x20sucesso.');}catch(_0x2986bf){this[_0x396af6(0x7b7)][_0x396af6(0x4e6)](_0x396af6(0x60f)+_0x362387+_0x396af6(0x4a5)+_0x37f88f+':\x20'+_0x2986bf);}}async[a0_0x1ec3bd(0x401)](_0x4daf74,_0x502654){const _0x19913b=a0_0x1ec3bd;try{await this[_0x19913b(0x392)][_0x19913b(0x46b)](_0x502654,_0x4daf74),this[_0x19913b(0x7b7)][_0x19913b(0x6eb)](this[_0x19913b(0x147)]+'\x20('+this[_0x19913b(0x68c)][_0x19913b(0x61a)]+_0x19913b(0x33d)+_0x4daf74+_0x19913b(0x689)+_0x502654+_0x19913b(0x343));}catch(_0x5e7ed4){this['logger'][_0x19913b(0x4e6)](_0x19913b(0x560)+_0x4daf74+_0x19913b(0x314)+_0x502654+':\x20'+_0x5e7ed4);}}async[a0_0x1ec3bd(0x5ed)](_0x5f46f8){const _0x23d33d=a0_0x1ec3bd;try{let _0x251f96=await this[_0x23d33d(0xbe)]['automateSystem'][_0x23d33d(0x750)](this[_0x23d33d(0x68c)][_0x23d33d(0x61a)]),_0x284290=_0x5f46f8[_0x23d33d(0x16c)]?_0x251f96[_0x23d33d(0x3e1)]['findIndex'](_0x2955f3=>_0x2955f3[_0x23d33d(0x16c)]===_0x5f46f8['_id']):-0x1;if(_0x5f46f8[_0x23d33d(0x6f4)]&&_0x284290>-0x1)_0x251f96[_0x23d33d(0x3e1)]['splice'](_0x284290,0x1);else{if(_0x284290>-0x1){let _0x4792aa=_0x251f96['agents'][_0x284290];_0x5f46f8[_0x23d33d(0x557)]&&(_0x4792aa[_0x23d33d(0x557)]=_0x5f46f8[_0x23d33d(0x557)]),_0x5f46f8[_0x23d33d(0x6fa)]&&(_0x4792aa[_0x23d33d(0x6fa)]=_0x5f46f8[_0x23d33d(0x6fa)]),_0x5f46f8[_0x23d33d(0x6cc)]&&(_0x4792aa[_0x23d33d(0x6cc)]=_0x5f46f8[_0x23d33d(0x6cc)]),_0x5f46f8[_0x23d33d(0x5e4)]&&(_0x4792aa[_0x23d33d(0x5e4)]=_0x5f46f8[_0x23d33d(0x5e4)]);}else _0x251f96[_0x23d33d(0x3e1)][_0x23d33d(0x3f7)]({'_id':_0x5f46f8[_0x23d33d(0x16c)]||new pe[(_0x23d33d(0x442))]['Types'][(_0x23d33d(0x334))]()[_0x23d33d(0x51d)](),'fone':_0x5f46f8['fone'],'name':_0x5f46f8[_0x23d33d(0x6fa)],'email':_0x5f46f8['email'],'role':_0x5f46f8[_0x23d33d(0x5e4)]});}let _0x19a7fd={'agents':_0x251f96[_0x23d33d(0x3e1)]},_0x504d9c=await this['repository'][_0x23d33d(0x766)][_0x23d33d(0x77c)](_0x19a7fd,this[_0x23d33d(0x68c)][_0x23d33d(0x61a)]);return this['AutomateSystem']=_0x504d9c,this['logger'][_0x23d33d(0x7ac)](this[_0x23d33d(0x147)]+'\x20('+this[_0x23d33d(0x68c)][_0x23d33d(0x61a)]+_0x23d33d(0x4d7)),this[_0x23d33d(0x7b7)]['verbose'](this[_0x23d33d(0x147)]+'\x20('+this['instance'][_0x23d33d(0x61a)]+_0x23d33d(0x4e1)+this[_0x23d33d(0x1d3)]),_0x504d9c;}catch(_0x3d187f){let _0x4b6fd7=_0x23d33d(0x126),_0x3ecef1=_0x3d187f instanceof Error?_0x3d187f[_0x23d33d(0x61f)]:typeof _0x3d187f==_0x23d33d(0x2c3)?JSON[_0x23d33d(0x5b9)](_0x3d187f):_0x3d187f,_0x7606f6=_0x4b6fd7+':\x20'+_0x3ecef1;throw this[_0x23d33d(0x7b7)][_0x23d33d(0x4e6)](this['instanceName']+'\x20('+this[_0x23d33d(0x68c)]['wuid']+_0x23d33d(0x4e1)+_0x7606f6),new m(_0x7606f6);}}async[a0_0x1ec3bd(0x37c)](_0x82cd8e){const _0x5279eb=a0_0x1ec3bd;try{let _0x40176d=await this['repository'][_0x5279eb(0x766)][_0x5279eb(0x750)](this[_0x5279eb(0x68c)]['wuid']),_0x5b6eb3=_0x82cd8e[_0x5279eb(0x16c)]?_0x40176d['customFields'][_0x5279eb(0x430)](_0x50aec6=>_0x50aec6[_0x5279eb(0x16c)]===_0x82cd8e['_id']):-0x1,_0x54c70f=!0x1,_0xe0859b=_0x40176d['customFields'][_0x5279eb(0x32d)](_0x33c3f3=>_0x33c3f3[_0x5279eb(0x6da)]===_0x82cd8e['order']);if(_0x82cd8e[_0x5279eb(0x6f4)]&&_0x5b6eb3>-0x1)_0x40176d[_0x5279eb(0x2c2)][_0x5279eb(0x7a2)](_0x5b6eb3,0x1),_0x54c70f=!0x0;else{if(_0x5b6eb3>-0x1){if(_0x40176d[_0x5279eb(0x2c2)][_0x5279eb(0x32d)](_0xe1feb9=>_0xe1feb9['name']===_0x82cd8e['name']&&_0xe1feb9[_0x5279eb(0x16c)]!==_0x82cd8e[_0x5279eb(0x16c)]))throw new Error(_0x5279eb(0x414));let _0x2ad2bc=_0x40176d[_0x5279eb(0x2c2)][_0x5b6eb3];_0x82cd8e[_0x5279eb(0x6da)]&&(_0xe0859b||!Number[_0x5279eb(0x427)](_0x82cd8e['order']))&&(_0x2ad2bc[_0x5279eb(0x6da)]=_0x82cd8e[_0x5279eb(0x6da)],_0x54c70f=!0x0),_0x82cd8e[_0x5279eb(0x6fa)]&&(_0x2ad2bc[_0x5279eb(0x6fa)]=_0x82cd8e[_0x5279eb(0x6fa)]);}else{if(_0x40176d[_0x5279eb(0x2c2)]['some'](_0x1d5a1a=>_0x1d5a1a['name']===_0x82cd8e[_0x5279eb(0x6fa)]&&_0x1d5a1a[_0x5279eb(0x16c)]!==_0x82cd8e['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x40176d[_0x5279eb(0x2c2)][_0x5279eb(0x3f7)]({'_id':_0x82cd8e[_0x5279eb(0x16c)]||new pe['default'][(_0x5279eb(0x20f))][(_0x5279eb(0x334))]()[_0x5279eb(0x51d)](),'order':_0x82cd8e[_0x5279eb(0x6da)],'name':_0x82cd8e[_0x5279eb(0x6fa)]}),_0x54c70f=!0x0;}}if(_0x54c70f){_0x40176d['customFields']['sort']((_0x107da5,_0x29f075)=>_0x107da5['order']>_0x29f075[_0x5279eb(0x6da)]?0x1:_0x29f075[_0x5279eb(0x6da)]>_0x107da5[_0x5279eb(0x6da)]?-0x1:0x0);for(let _0x2c2207=0x0;_0x2c2207<_0x40176d[_0x5279eb(0x2c2)][_0x5279eb(0x2a9)];_0x2c2207++)_0x40176d[_0x5279eb(0x2c2)][_0x2c2207]['order']=_0x2c2207+0x1;}let _0x2c8d68=await this[_0x5279eb(0xbe)]['automateSystem'][_0x5279eb(0x77c)](_0x40176d,this[_0x5279eb(0x68c)][_0x5279eb(0x61a)]);return this[_0x5279eb(0x1d3)]=_0x2c8d68,this[_0x5279eb(0x7b7)][_0x5279eb(0x7ac)](this[_0x5279eb(0x147)]+'\x20('+this['instance'][_0x5279eb(0x61a)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x5279eb(0x7b7)][_0x5279eb(0x7ac)](this[_0x5279eb(0x147)]+'\x20('+this[_0x5279eb(0x68c)][_0x5279eb(0x61a)]+_0x5279eb(0x4e1)+this[_0x5279eb(0x1d3)]),_0x2c8d68;}catch(_0x4a95f7){let _0x3ee5a5=_0x5279eb(0x111),_0x4672c9=_0x4a95f7 instanceof Error?_0x4a95f7['message']:typeof _0x4a95f7==_0x5279eb(0x2c3)?JSON['stringify'](_0x4a95f7):_0x4a95f7,_0x2b17dd=_0x3ee5a5+':\x20'+_0x4672c9;throw this['logger'][_0x5279eb(0x4e6)](this[_0x5279eb(0x147)]+'\x20('+this[_0x5279eb(0x68c)][_0x5279eb(0x61a)]+'):\x20'+_0x2b17dd),new m(_0x2b17dd);}}async[a0_0x1ec3bd(0x61d)](_0x24a345){const _0x4cecb4=a0_0x1ec3bd;try{let _0x540235=await this[_0x4cecb4(0xbe)][_0x4cecb4(0x766)][_0x4cecb4(0x750)](this[_0x4cecb4(0x68c)][_0x4cecb4(0x61a)]),_0x28720f=_0x540235?.[_0x4cecb4(0x507)]?.[_0x4cecb4(0x430)](_0x139533=>_0x139533[_0x4cecb4(0x16c)]===_0x24a345?.[_0x4cecb4(0x16c)]);if(_0x24a345?.['delete'])_0x28720f>-0x1&&_0x540235?.[_0x4cecb4(0x507)]?.[_0x4cecb4(0x7a2)](_0x28720f,0x1);else{if(_0x28720f>-0x1){let _0x352e07=_0x540235['autoCompleteMessages'][_0x28720f];_0x352e07['order']=_0x24a345?.[_0x4cecb4(0x6da)]||_0x352e07['order'],_0x352e07[_0x4cecb4(0xa9)]=_0x24a345?.[_0x4cecb4(0xa9)]||_0x352e07[_0x4cecb4(0xa9)],_0x352e07[_0x4cecb4(0x61f)]=_0x24a345?.[_0x4cecb4(0x61f)]||_0x352e07['message'];}else{let _0x4f968b={'_id':_0x24a345?.['_id']||new pe['default'][(_0x4cecb4(0x20f))][(_0x4cecb4(0x334))]()[_0x4cecb4(0x51d)](),'order':_0x24a345?.[_0x4cecb4(0x6da)],'command':_0x24a345?.[_0x4cecb4(0xa9)],'message':_0x24a345?.['message']};_0x540235?.[_0x4cecb4(0x507)]?.[_0x4cecb4(0x3f7)](_0x4f968b);}}_0x540235?.['autoCompleteMessages']?.[_0x4cecb4(0x3ba)]((_0x3ea902,_0x23bd7b)=>_0x3ea902[_0x4cecb4(0x6da)]-_0x23bd7b[_0x4cecb4(0x6da)]);let _0x18bf34=await this[_0x4cecb4(0xbe)][_0x4cecb4(0x766)][_0x4cecb4(0x77c)](_0x540235,this[_0x4cecb4(0x68c)][_0x4cecb4(0x61a)]);return this['AutomateSystem']=_0x18bf34,this['logger'][_0x4cecb4(0x7ac)](this['instanceName']+'\x20('+this[_0x4cecb4(0x68c)][_0x4cecb4(0x61a)]+_0x4cecb4(0x16d)),_0x18bf34;}catch(_0x22821a){let _0x2bcaea='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x2804fc=_0x22821a instanceof Error?_0x22821a[_0x4cecb4(0x61f)]:typeof _0x22821a==_0x4cecb4(0x2c3)?JSON[_0x4cecb4(0x5b9)](_0x22821a):_0x22821a,_0x5dd150=_0x2bcaea+':\x20'+_0x2804fc;throw this[_0x4cecb4(0x7b7)][_0x4cecb4(0x4e6)](this[_0x4cecb4(0x147)]+'\x20('+this[_0x4cecb4(0x68c)][_0x4cecb4(0x61a)]+'):\x20'+_0x5dd150),new m(_0x5dd150);}}async[a0_0x1ec3bd(0x7c9)](_0x589c02){const _0x11df0a=a0_0x1ec3bd;try{let _0x9e1f23=await this['repository'][_0x11df0a(0x766)][_0x11df0a(0x750)](this['instance'][_0x11df0a(0x61a)]);if(!_0x9e1f23)throw new Error(_0x11df0a(0x456));let _0x35cb7d={'_id':_0x9e1f23[_0x11df0a(0x16c)],'flowConfig':{'enabled':_0x589c02['enabled']??_0x9e1f23[_0x11df0a(0x11f)][_0x11df0a(0x39f)],'ignoreGroups':_0x589c02['ignoreGroups']??_0x9e1f23[_0x11df0a(0x11f)][_0x11df0a(0x34c)],'stopConversation':_0x589c02['stopConversation']['trim']()??_0x9e1f23['flowConfig'][_0x11df0a(0xdc)]['trim'](),'stopMinutes':_0x589c02[_0x11df0a(0x318)]??_0x9e1f23[_0x11df0a(0x11f)][_0x11df0a(0x318)],'stopWhenYouSendMsg':_0x589c02[_0x11df0a(0x290)]??_0x9e1f23[_0x11df0a(0x11f)][_0x11df0a(0x290)]}},_0x3b5faf=await this['repository'][_0x11df0a(0x766)][_0x11df0a(0x77c)](_0x35cb7d,this[_0x11df0a(0x68c)]['wuid']);return this['AutomateSystem']=_0x3b5faf,this[_0x11df0a(0x7b7)][_0x11df0a(0x7ac)](this[_0x11df0a(0x147)]+'\x20('+this[_0x11df0a(0x68c)][_0x11df0a(0x61a)]+_0x11df0a(0x4d7)),this['logger']['verbose'](this[_0x11df0a(0x147)]+'\x20('+this[_0x11df0a(0x68c)][_0x11df0a(0x61a)]+_0x11df0a(0x4e1)+this[_0x11df0a(0x1d3)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3b5faf;}catch(_0x18bb94){let _0x3d9b30='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x59ed50=_0x18bb94 instanceof Error?_0x18bb94['message']:typeof _0x18bb94==_0x11df0a(0x2c3)?JSON[_0x11df0a(0x5b9)](_0x18bb94):_0x18bb94,_0x2629bd=_0x3d9b30+':\x20'+_0x59ed50;throw this[_0x11df0a(0x7b7)][_0x11df0a(0x4e6)](this['instanceName']+'\x20('+this['instance'][_0x11df0a(0x61a)]+'):\x20'+_0x2629bd),new m(_0x2629bd);}}async[a0_0x1ec3bd(0x31b)](){const _0x2740a4=a0_0x1ec3bd;try{let _0x5d1120=await this[_0x2740a4(0xbe)][_0x2740a4(0x766)][_0x2740a4(0x750)](this[_0x2740a4(0x68c)][_0x2740a4(0x61a)]);return this['AutomateSystem']=_0x5d1120,_0x5d1120;}catch(_0x416ddd){let _0x4e2dbf=_0x2740a4(0x73f),_0x44edff=_0x416ddd instanceof Error?_0x416ddd[_0x2740a4(0x61f)]:typeof _0x416ddd==_0x2740a4(0x2c3)?JSON[_0x2740a4(0x5b9)](_0x416ddd):_0x416ddd,_0xa25308=_0x4e2dbf+':\x20'+_0x44edff;throw this[_0x2740a4(0x7b7)]['error'](this['instanceName']+'\x20('+this[_0x2740a4(0x68c)][_0x2740a4(0x61a)]+_0x2740a4(0x4e1)+_0xa25308),new m(_0xa25308);}}async['initializeQueue'](){const _0x36d01a=a0_0x1ec3bd;let _0x3bd553=(await import(_0x36d01a(0x197)))[_0x36d01a(0x442)];this['queue']=new _0x3bd553({'concurrency':0x1});}async[a0_0x1ec3bd(0x72d)](){const _0x4fc67d=a0_0x1ec3bd;this[_0x4fc67d(0x68c)][_0x4fc67d(0x56d)][_0x4fc67d(0x4fe)]&&clearTimeout(this[_0x4fc67d(0x68c)]['ScheduleMessage']['timeout']),this[_0x4fc67d(0x68c)][_0x4fc67d(0x56d)][_0x4fc67d(0x4fe)]=setTimeout(()=>{const _0x35fe59=_0x4fc67d;this[_0x35fe59(0x2d4)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0xcf6302=a0_0x1ec3bd;Date['now']()-this[_0xcf6302(0x68c)][_0xcf6302(0x56d)][_0xcf6302(0x66d)]>=0x1d4c0&&(this[_0xcf6302(0x7b7)][_0xcf6302(0x7ac)](this[_0xcf6302(0x147)]+'\x20('+this[_0xcf6302(0x68c)][_0xcf6302(0x61a)]+_0xcf6302(0x6a6)),this[_0xcf6302(0x68c)]['ScheduleMessage'][_0xcf6302(0x7b3)]=null,this[_0xcf6302(0x68c)][_0xcf6302(0x56d)][_0xcf6302(0x66d)]=0x0,this['instance'][_0xcf6302(0x56d)]['delayMessage']=0x0,setTimeout(()=>this[_0xcf6302(0x5e3)](),0x3e8));}async[a0_0x1ec3bd(0x4b7)](_0x54cf20){const _0xeb6645=a0_0x1ec3bd;this[_0xeb6645(0x7b7)][_0xeb6645(0x7ac)](this['instanceName']+'\x20('+this[_0xeb6645(0x68c)]['wuid']+'):\x20Iniciando\x20processReadyMessages.');let _0x4e8d6c=0xbb8,_0x2ec9e4=Math[_0xeb6645(0x582)](Math[_0xeb6645(0x323)]()*(0x1f40-_0x4e8d6c+0x1))+_0x4e8d6c;for(let _0x21636a of _0x54cf20){let _0x46c239={'startSend':Date[_0xeb6645(0x450)](),'status':_0xeb6645(0x349)};if(await this[_0xeb6645(0xbe)][_0xeb6645(0x4ec)][_0xeb6645(0x2f9)]({'_id':_0x21636a[_0xeb6645(0x16c)]},_0x46c239,this[_0xeb6645(0x68c)]['wuid'])){if(!this[_0xeb6645(0x68c)][_0xeb6645(0x56d)]['isConnected']){this[_0xeb6645(0x7b7)][_0xeb6645(0x717)](this['instanceName']+'\x20('+this[_0xeb6645(0x68c)][_0xeb6645(0x61a)]+_0xeb6645(0x6f8));break;}for(this[_0xeb6645(0x56c)]=_0x21636a['messages'][_0xeb6645(0x433)](_0x1abad5=>!_0x1abad5[_0xeb6645(0x64e)]);this[_0xeb6645(0x56c)]['length']>0x0;){await this['setRestartTimeout']();let _0x51d956=this[_0xeb6645(0xda)]();if(!_0x51d956)break;let _0x2d603a=_0x21636a[_0xeb6645(0x629)][_0xeb6645(0x435)](_0x1872de=>_0x1872de[_0xeb6645(0x16c)]===_0x51d956[_0xeb6645(0x16c)]);if(!_0x2d603a)break;if(this['instance'][_0xeb6645(0x56d)][_0xeb6645(0x66d)]=Date[_0xeb6645(0x450)](),_0x2d603a[_0xeb6645(0x64e)]){this[_0xeb6645(0x7b7)]['warn'](this[_0xeb6645(0x147)]+'\x20('+this[_0xeb6645(0x68c)][_0xeb6645(0x61a)]+_0xeb6645(0x152)+_0x2d603a['remoteJid']+_0xeb6645(0x6c5)),this[_0xeb6645(0x56c)]=this[_0xeb6645(0x56c)][_0xeb6645(0x433)](_0x4749ee=>_0x4749ee[_0xeb6645(0x16c)]!==_0x2d603a[_0xeb6645(0x16c)]);continue;}if(!this[_0xeb6645(0x68c)][_0xeb6645(0x56d)][_0xeb6645(0x365)]){this['logger']['warn'](this['instanceName']+'\x20('+this[_0xeb6645(0x68c)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(this[_0xeb6645(0x68c)][_0xeb6645(0x56d)][_0xeb6645(0x7b3)]?.[_0xeb6645(0x4ff)]===_0xeb6645(0x2c9)){this[_0xeb6645(0x7b7)][_0xeb6645(0x717)](this[_0xeb6645(0x147)]+'\x20('+this['instance'][_0xeb6645(0x61a)]+_0xeb6645(0x542)),this['instance'][_0xeb6645(0x56d)][_0xeb6645(0x7b3)]=null;break;}try{this[_0xeb6645(0x7b7)][_0xeb6645(0x717)](this['instanceName']+'\x20('+this['instance'][_0xeb6645(0x61a)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x2d603a[_0xeb6645(0x47e)]);let _0x3f844f=await this['SendScheduleMessage'](_0x2d603a[_0xeb6645(0x47e)],_0x2d603a),_0x4b987c={'$push':{'messagesSend':{'idControl':_0x2d603a[_0xeb6645(0x16c)],'remoteJid':_0x2d603a[_0xeb6645(0x47e)],'error':_0x3f844f[_0xeb6645(0x4e6)],'id':_0x3f844f['error']?null:_0x3f844f['id'],'error_log':_0x3f844f[_0xeb6645(0x4e6)]?_0x3f844f[_0xeb6645(0x506)]?_0x3f844f['detail'][_0xeb6645(0x51d)]():'':null,'log_timestamp':Date[_0xeb6645(0x450)]()}},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1e44a3=[{'elem._id':_0x2d603a['_id']}];this[_0xeb6645(0x7b7)][_0xeb6645(0x717)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x2d603a[_0xeb6645(0x16c)]);let _0x1387d8=await this[_0xeb6645(0xbe)][_0xeb6645(0x4ec)][_0xeb6645(0x2f9)]({'_id':_0x21636a['_id']},_0x4b987c,this['instance'][_0xeb6645(0x61a)],{'arrayFilters':_0x1e44a3});this[_0xeb6645(0x68c)][_0xeb6645(0x56d)][_0xeb6645(0x7b3)]=_0x1387d8,_0x3f844f[_0xeb6645(0x4e6)]&&this[_0xeb6645(0x7b7)][_0xeb6645(0x4e6)](this['instanceName']+'\x20('+this['instance'][_0xeb6645(0x61a)]+_0xeb6645(0x556)+_0x3f844f[_0xeb6645(0x506)]);let _0x8ef827=this[_0xeb6645(0x134)](_0x21636a[_0xeb6645(0x70e)],_0x21636a[_0xeb6645(0xcc)]);await this[_0xeb6645(0xc7)](_0x8ef827);}catch(_0x315b88){this[_0xeb6645(0x7b7)][_0xeb6645(0x4e6)](this[_0xeb6645(0x147)]+'\x20('+this['instance'][_0xeb6645(0x61a)]+_0xeb6645(0x157)+_0x2d603a['remoteJid']+':\x20'+(_0x315b88 instanceof Error?_0x315b88['message']:JSON[_0xeb6645(0x5b9)](_0x315b88,null,0x2)));let _0x2d2b22={'$push':{'messagesSend':{'idControl':_0x2d603a[_0xeb6645(0x16c)],'remoteJid':_0x2d603a[_0xeb6645(0x47e)],'error':!0x0,'id':null,'error_log':_0x315b88 instanceof Error?_0x315b88[_0xeb6645(0x61f)]:JSON[_0xeb6645(0x5b9)](_0x315b88,null,0x2),'log_timestamp':Date[_0xeb6645(0x450)]()}},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x20bc7b=[{'elem._id':_0x2d603a[_0xeb6645(0x16c)]}],_0x188a8b=await this[_0xeb6645(0xbe)]['scheduleMessage'][_0xeb6645(0x2f9)]({'_id':_0x21636a['_id']},_0x2d2b22,this[_0xeb6645(0x68c)][_0xeb6645(0x61a)],{'arrayFilters':_0x20bc7b});this[_0xeb6645(0x68c)][_0xeb6645(0x56d)][_0xeb6645(0x7b3)]=_0x188a8b;}finally{if(_0x2d603a[_0xeb6645(0x64e)]=!0x0,this[_0xeb6645(0x56c)]=this[_0xeb6645(0x56c)][_0xeb6645(0x433)](_0x38af35=>_0x38af35[_0xeb6645(0x16c)]!==_0x2d603a[_0xeb6645(0x16c)]),this[_0xeb6645(0x56c)]['length']===0x0&&this[_0xeb6645(0x68c)]['ScheduleMessage'][_0xeb6645(0x7b3)]?.['status']!=='stopped'){let _0x425e95={'$set':{'status':_0xeb6645(0x240)}},_0x56d35a=await this[_0xeb6645(0xbe)][_0xeb6645(0x4ec)][_0xeb6645(0xdf)](_0x21636a['_id'],_0x425e95,this['instance'][_0xeb6645(0x61a)]);this['instance']['ScheduleMessage'][_0xeb6645(0x7b3)]=_0x56d35a;}if(this['instance']['ScheduleMessage'][_0xeb6645(0x7b3)]?.[_0xeb6645(0x4ff)]===_0xeb6645(0x2c9)){this[_0xeb6645(0x7b7)][_0xeb6645(0x717)](this['instanceName']+'\x20('+this[_0xeb6645(0x68c)][_0xeb6645(0x61a)]+_0xeb6645(0x434)+_0x21636a[_0xeb6645(0x16c)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.'),this[_0xeb6645(0x68c)][_0xeb6645(0x56d)][_0xeb6645(0x7b3)]=null;break;}}}await new Promise(_0x14806c=>setTimeout(_0x14806c,_0x2ec9e4)),global['gc']?global['gc']():console['warn'](_0xeb6645(0x28f));}}this[_0xeb6645(0x68c)][_0xeb6645(0x56d)][_0xeb6645(0x7b3)]&&this[_0xeb6645(0x56c)][_0xeb6645(0x2a9)]===0x0&&(this[_0xeb6645(0x68c)][_0xeb6645(0x56d)][_0xeb6645(0x7b3)]=null);}[a0_0x1ec3bd(0xda)](){const _0x3a2347=a0_0x1ec3bd;return this[_0x3a2347(0x56c)]['length']===0x0?null:this['pendingMessages'][_0x3a2347(0x40b)]((_0x2233db,_0x36ba4f)=>(_0x2233db[_0x3a2347(0x6da)]??Number[_0x3a2347(0x1bd)])<(_0x36ba4f['order']??Number['MAX_SAFE_INTEGER'])?_0x2233db:_0x36ba4f,this[_0x3a2347(0x56c)][0x0]);}async[a0_0x1ec3bd(0x7bc)](){const _0x51a8f8=a0_0x1ec3bd;this[_0x51a8f8(0x7b7)][_0x51a8f8(0x717)](this[_0x51a8f8(0x147)]+'\x20('+this[_0x51a8f8(0x68c)][_0x51a8f8(0x61a)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x40dca0=new Date(Date[_0x51a8f8(0x450)]()-0xc*0x3c*0x3c*0x3e8),_0x5e0109={'where':{'status':{'$in':[_0x51a8f8(0xd7),'sending']},'$or':[{'when':{'$lte':new Date(),'$gte':_0x40dca0}},{'when':0x0}]}},_0x592291=await this[_0x51a8f8(0xbe)][_0x51a8f8(0x4ec)]['find'](_0x5e0109,this[_0x51a8f8(0x68c)][_0x51a8f8(0x61a)]);return this[_0x51a8f8(0x7b7)][_0x51a8f8(0x717)](this[_0x51a8f8(0x147)]+'\x20('+this[_0x51a8f8(0x68c)][_0x51a8f8(0x61a)]+_0x51a8f8(0x5b3)+_0x592291[_0x51a8f8(0x2a9)]),_0x592291;}async[a0_0x1ec3bd(0x5e3)](){const _0x2d21b4=a0_0x1ec3bd;if(this[_0x2d21b4(0x7b7)]['verbose'](this[_0x2d21b4(0x147)]+'\x20('+this[_0x2d21b4(0x68c)][_0x2d21b4(0x61a)]+_0x2d21b4(0x4c8)),!this[_0x2d21b4(0x68c)][_0x2d21b4(0x56d)][_0x2d21b4(0x365)]){this['logger']['warn'](this[_0x2d21b4(0x147)]+'\x20('+this['instance'][_0x2d21b4(0x61a)]+_0x2d21b4(0x7ab)),this[_0x2d21b4(0x68c)][_0x2d21b4(0x56d)][_0x2d21b4(0x7b3)]=null,this[_0x2d21b4(0x68c)][_0x2d21b4(0x56d)][_0x2d21b4(0x66d)]=0x0,this[_0x2d21b4(0x68c)][_0x2d21b4(0x56d)][_0x2d21b4(0x1bc)]=0x0;return;}try{await this[_0x2d21b4(0x1aa)]();let _0x5273d9=await this[_0x2d21b4(0x7bc)]();if(_0x5273d9[_0x2d21b4(0x2a9)]===0x0){this['logger'][_0x2d21b4(0x717)](this[_0x2d21b4(0x147)]+'\x20('+this[_0x2d21b4(0x68c)][_0x2d21b4(0x61a)]+_0x2d21b4(0x6dd)),await this['scheduleNextExecution']();return;}this['instance'][_0x2d21b4(0x56d)][_0x2d21b4(0x7b3)]=_0x5273d9[0x0],this[_0x2d21b4(0x7b7)][_0x2d21b4(0x7ac)](this[_0x2d21b4(0x147)]+'\x20('+this[_0x2d21b4(0x68c)]['wuid']+_0x2d21b4(0x564)),this[_0x2d21b4(0x536)][_0x2d21b4(0x5a3)](()=>this[_0x2d21b4(0x4b7)](_0x5273d9)),await this[_0x2d21b4(0x500)]();}catch(_0x351f87){this['logger'][_0x2d21b4(0x4e6)](_0x2d21b4(0x602)+(_0x351f87 instanceof Error?_0x351f87['message']:JSON[_0x2d21b4(0x5b9)](_0x351f87,null,0x2))),await this['scheduleNextExecution']();}}async[a0_0x1ec3bd(0x500)](){const _0x2522a=a0_0x1ec3bd;this['logger'][_0x2522a(0x7ac)](this[_0x2522a(0x147)]+'\x20('+this[_0x2522a(0x68c)][_0x2522a(0x61a)]+_0x2522a(0x181));let _0x5edb68=new Date(),_0x3140cb=new Date(_0x5edb68['getTime']()+0x2*0x3c*0x3c*0x3e8),_0x250c30={'where':{'status':{'$in':['scheduled',_0x2522a(0x349)]},'$or':[{'when':{'$lte':_0x3140cb,'$gte':_0x5edb68}},{'when':0x0}]}},_0x4b5514=await this[_0x2522a(0xbe)][_0x2522a(0x4ec)]['findOne'](_0x250c30,this['instance']['wuid']);_0x4b5514&&_0x4b5514[_0x2522a(0x24a)]>Date[_0x2522a(0x450)]()?this['instance'][_0x2522a(0x56d)][_0x2522a(0x1bc)]=_0x4b5514[_0x2522a(0x24a)]-Date['now']():_0x4b5514&&_0x4b5514[_0x2522a(0x24a)]<=Date[_0x2522a(0x450)]()?(this['logger'][_0x2522a(0x717)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2522a(0x68b)),this[_0x2522a(0x68c)][_0x2522a(0x56d)][_0x2522a(0x1bc)]=0x0):this[_0x2522a(0x68c)][_0x2522a(0x56d)][_0x2522a(0x1bc)]=(0x3c+Math[_0x2522a(0x582)](Math[_0x2522a(0x323)]()*0x3c))*0x3c*0x3e8,this[_0x2522a(0x68c)]['ScheduleMessage'][_0x2522a(0x1bc)]=Math[_0x2522a(0x41c)](this[_0x2522a(0x68c)][_0x2522a(0x56d)][_0x2522a(0x1bc)],0x2*0x3e8);let _0x416f94=Math[_0x2522a(0x478)](this['instance']['ScheduleMessage'][_0x2522a(0x1bc)]/0xea60);if(_0x4b5514){let _0x589804=new Date(_0x4b5514[_0x2522a(0x24a)])['toLocaleString']();this[_0x2522a(0x7b7)]['warn'](this[_0x2522a(0x147)]+'\x20('+this[_0x2522a(0x68c)][_0x2522a(0x61a)]+_0x2522a(0x2fc)+_0x589804+_0x2522a(0x267)+_0x416f94+'\x20minutos');}else this[_0x2522a(0x7b7)][_0x2522a(0x717)](this['instanceName']+'\x20('+this[_0x2522a(0x68c)]['wuid']+_0x2522a(0x5e2)+_0x416f94+_0x2522a(0x782));setTimeout(()=>this[_0x2522a(0x5e3)](),this[_0x2522a(0x68c)][_0x2522a(0x56d)][_0x2522a(0x1bc)]+0x3e8);}['getDelay'](_0x2f7cd5,_0x44d92c){const _0x1423ca=a0_0x1ec3bd;return _0x2f7cd5=Math['max'](0.5,_0x2f7cd5),_0x44d92c=Math[_0x1423ca(0x503)](Math[_0x1423ca(0x41c)](0x3,_0x44d92c),0x78),Math[_0x1423ca(0x582)](Math['random']()*(_0x44d92c-_0x2f7cd5+0x1)+_0x2f7cd5)*0x3e8;}['sleep'](_0x10d4f0){return new Promise(_0x3d4200=>setTimeout(_0x3d4200,_0x10d4f0));}async[a0_0x1ec3bd(0xe6)](_0x46c710){const _0x2010c2=a0_0x1ec3bd;if(!this[_0x2010c2(0x1d3)]&&(await this[_0x2010c2(0x31b)](),!this['AutomateSystem']))return null;_0x46c710=this[_0x2010c2(0xc1)](_0x46c710);let _0x466326=await this[_0x2010c2(0xbe)]['chat'][_0x2010c2(0x2f1)]({'where':{'_id':_0x46c710}},this['instance'][_0x2010c2(0x61a)]),_0x283318={};if(_0x466326&&_0x466326[_0x2010c2(0x72f)]){let _0x598e8d=_0x466326[_0x2010c2(0x72f)];typeof _0x598e8d[_0x2010c2(0x416)]==_0x2010c2(0x716)&&(_0x283318[_0x2010c2(0x416)]=_0x598e8d[_0x2010c2(0x416)]),typeof _0x598e8d['nomecompleto']==_0x2010c2(0x716)&&(_0x283318['nomecompleto']=_0x598e8d[_0x2010c2(0x271)]),typeof _0x598e8d[_0x2010c2(0x6cc)]==_0x2010c2(0x716)&&(_0x283318[_0x2010c2(0x6cc)]=_0x598e8d[_0x2010c2(0x6cc)]),typeof _0x598e8d[_0x2010c2(0xe3)]==_0x2010c2(0x716)&&(_0x283318[_0x2010c2(0xe3)]=_0x598e8d[_0x2010c2(0xe3)]),typeof _0x598e8d[_0x2010c2(0x4ff)]==_0x2010c2(0x716)&&(_0x283318[_0x2010c2(0x4ff)]=_0x598e8d[_0x2010c2(0x4ff)]),typeof _0x598e8d[_0x2010c2(0xa8)]==_0x2010c2(0x716)&&(_0x283318[_0x2010c2(0xa8)]=_0x598e8d[_0x2010c2(0xa8)]),typeof _0x598e8d[_0x2010c2(0x21e)]==_0x2010c2(0x716)&&(_0x283318['responsavelid']=_0x598e8d[_0x2010c2(0x21e)]),Array[_0x2010c2(0x64a)](_0x598e8d['tags'])&&(_0x283318['tags']=_0x598e8d[_0x2010c2(0x78c)][_0x2010c2(0x693)](',\x20')),Array[_0x2010c2(0x64a)](_0x598e8d['etiquetas'])&&(_0x283318[_0x2010c2(0x6ca)]=_0x598e8d[_0x2010c2(0x6ca)][_0x2010c2(0x693)](',\x20'));}return _0x466326&&_0x466326[_0x2010c2(0x72f)]&&_0x466326['leadInfo'][_0x2010c2(0x2c2)]&&_0x466326[_0x2010c2(0x72f)][_0x2010c2(0x2c2)][_0x2010c2(0x730)](_0x118b5b=>{const _0x6738cd=_0x2010c2;let _0x102aff=this[_0x6738cd(0x1d3)]?.[_0x6738cd(0x2c2)][_0x6738cd(0x435)](_0x120d36=>_0x120d36[_0x6738cd(0x16c)]===_0x118b5b[_0x6738cd(0x16c)]);_0x102aff&&(_0x283318[_0x102aff[_0x6738cd(0x6fa)]]=_0x118b5b[_0x6738cd(0x571)]);}),_0x283318;}async[a0_0x1ec3bd(0x5df)](_0x2a4453,_0x184b36){const _0x5b8385=a0_0x1ec3bd;try{let _0x5940df=await this['getVariablesChat'](_0x184b36);return this[_0x5b8385(0x29b)](_0x2a4453,_0x5940df);}catch(_0x107e9c){return this[_0x5b8385(0x7b7)][_0x5b8385(0x4e6)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x184b36+':\x20'+_0x107e9c),_0x2a4453;}}async['transformScheduledMessagesByType'](){const _0x6ee87d=a0_0x1ec3bd;let _0x3e2c89=async(_0x5ac098,_0x373f66)=>{const _0x166857=a0_0x1c6d;let _0x54ed64=(await this[_0x166857(0xbe)][_0x166857(0x4ec)][_0x166857(0x435)]({'where':{'type':_0x5ac098}},this[_0x166857(0x68c)]['wuid']))[_0x166857(0x6ef)](async _0x32e687=>{const _0x1598a0=_0x166857;let _0x98fec8=_0x373f66(_0x32e687),_0x5cd0a9=_0x3cd856=>/^\d+$/[_0x1598a0(0x256)](_0x3cd856),_0x27a3b2=_0x32e687[_0x1598a0(0x11a)]['filter'](_0x443f2a=>_0x443f2a['endsWith']('@s.whatsapp.net')?_0x443f2a[_0x1598a0(0x2a9)]>0x19:_0x443f2a[_0x1598a0(0x74a)](_0x1598a0(0x710))?_0x443f2a[_0x1598a0(0x2a9)]>0xf:_0x5cd0a9(_0x443f2a)?_0x443f2a[_0x1598a0(0x2a9)]>=0xb:!0x1)[_0x1598a0(0x6ef)](_0xaeee6b=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x32e687[_0x1598a0(0x16c)],'type':_0x98fec8,'remoteJid':_0xaeee6b,'flow':_0x32e687[_0x1598a0(0x509)],'text':_0x32e687[_0x1598a0(0x61f)]?.[_0x1598a0(0x77d)],'delay':_0x32e687[_0x1598a0(0x61f)]?.['delay'],'urlOrBase64':_0x32e687[_0x1598a0(0x61f)]?.[_0x1598a0(0x20a)],'linkPreview':_0x32e687[_0x1598a0(0x61f)]?.[_0x1598a0(0x36b)],'fileName':_0x32e687['message']?.[_0x1598a0(0x608)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x1598a0(0x4ec)][_0x1598a0(0xdf)](_0x32e687[_0x1598a0(0x16c)],{'$set':{'messages':_0x27a3b2},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x1598a0(0x68c)][_0x1598a0(0x61a)]);}catch(_0x1241c1){console['error'](_0x1598a0(0x438)+_0x32e687[_0x1598a0(0x16c)]+':',_0x1241c1);}});await Promise[_0x166857(0x42f)](_0x54ed64);};await _0x3e2c89(_0x6ee87d(0x77d),_0xcf4999=>'text'),await _0x3e2c89(_0x6ee87d(0x168),_0x564cfd=>_0x564cfd['message']?.[_0x6ee87d(0x185)]||_0x6ee87d(0x168)),await _0x3e2c89(_0x6ee87d(0x6a2),_0x525980=>_0x6ee87d(0x6a2)),await _0x3e2c89(_0x6ee87d(0x5a4),_0xf16a89=>_0x6ee87d(0x5a4)),await _0x3e2c89('image',_0xb45028=>'image'),await _0x3e2c89(_0x6ee87d(0x757),_0x3f09b1=>'video'),await _0x3e2c89(_0x6ee87d(0x9b),_0x4299e6=>'document'),this['logger'][_0x6ee87d(0x717)](this['instanceName']+'\x20('+this[_0x6ee87d(0x68c)][_0x6ee87d(0x61a)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0x1ec3bd(0x788)](_0x30341e){const _0x57b0e8=a0_0x1ec3bd;try{if(this[_0x57b0e8(0x7b7)][_0x57b0e8(0x717)](this['instanceName']+'\x20('+this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x30341e[_0x57b0e8(0x16c)]||(_0x30341e[_0x57b0e8(0x16c)]=(0x0,Y['v4'])()),this['instance'][_0x57b0e8(0x56d)][_0x57b0e8(0x7b3)]?.[_0x57b0e8(0x16c)]===_0x30341e[_0x57b0e8(0x16c)]?.[_0x57b0e8(0x51d)]()){if(_0x30341e[_0x57b0e8(0x4ff)]===_0x57b0e8(0x2c9))this[_0x57b0e8(0x68c)][_0x57b0e8(0x56d)][_0x57b0e8(0x7b3)]=null;else throw new Error(_0x57b0e8(0x669));}if(_0x30341e[_0x57b0e8(0x6f4)]&&_0x30341e[_0x57b0e8(0x16c)]){let _0x3fdb8f=await this[_0x57b0e8(0xbe)][_0x57b0e8(0x4ec)][_0x57b0e8(0x2a3)](_0x30341e[_0x57b0e8(0x16c)],this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)]);return setTimeout(()=>this[_0x57b0e8(0x5e3)](),0x7d0),_0x3fdb8f;}let _0x59142b=null;if(_0x30341e[_0x57b0e8(0x16c)]&&(_0x59142b=await this[_0x57b0e8(0xbe)]['scheduleMessage']['findById'](_0x30341e[_0x57b0e8(0x16c)],this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)])),_0x59142b){let {_id:_0x4d51c9,owner:_0x5aa50b,messages:_0x5eb6fc,..._0x4d2aa9}=_0x30341e;if(_0x5eb6fc){let _0x437f87=_0x5eb6fc[_0x57b0e8(0x433)](_0x6fa379=>!_0x6fa379[_0x57b0e8(0x16c)]),_0x1b47c5=_0x5eb6fc['filter'](_0x5444af=>_0x5444af[_0x57b0e8(0x16c)]&&!_0x5444af['delete']),_0x1b7214=_0x5eb6fc[_0x57b0e8(0x433)](_0x4353e6=>_0x4353e6[_0x57b0e8(0x16c)]&&_0x4353e6[_0x57b0e8(0x6f4)]);if(_0x437f87[_0x57b0e8(0x2a9)]>0x0&&await this[_0x57b0e8(0x6b4)](_0x30341e[_0x57b0e8(0x16c)],_0x437f87),_0x1b47c5[_0x57b0e8(0x2a9)]>0x0&&await this[_0x57b0e8(0xe7)]({'_id':_0x30341e[_0x57b0e8(0x16c)],'messages':_0x1b47c5}),_0x1b7214[_0x57b0e8(0x2a9)]>0x0){let _0x53e97f=_0x1b7214[_0x57b0e8(0x6ef)](_0x54831b=>({'updateOne':{'filter':{'_id':_0x30341e['_id']},'update':{'$pull':{'messages':{'_id':_0x54831b[_0x57b0e8(0x16c)]}}}}}));await this[_0x57b0e8(0xbe)][_0x57b0e8(0x4ec)][_0x57b0e8(0x63c)](_0x53e97f,this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)]);}}let _0x4dc43c={'$set':{..._0x4d2aa9,'status':_0x30341e[_0x57b0e8(0x4ff)]||_0x59142b[_0x57b0e8(0x4ff)]}},_0x3ada34=await this[_0x57b0e8(0xbe)][_0x57b0e8(0x4ec)][_0x57b0e8(0xdf)](_0x30341e[_0x57b0e8(0x16c)],_0x4dc43c,this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)]);return _0x3ada34&&(this[_0x57b0e8(0x10d)](_0x3ada34[_0x57b0e8(0x629)]),await this[_0x57b0e8(0xbe)][_0x57b0e8(0x4ec)][_0x57b0e8(0xdf)](_0x3ada34['_id'],{'$set':{'messages':_0x3ada34[_0x57b0e8(0x629)]}},this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)])),setTimeout(()=>this[_0x57b0e8(0x5e3)](),0x7d0),await this[_0x57b0e8(0x1aa)](),_0x3ada34;}else{_0x30341e[_0x57b0e8(0x60e)]=this[_0x57b0e8(0x68c)]['wuid'],_0x30341e[_0x57b0e8(0x629)]&&_0x30341e['messages'][_0x57b0e8(0x730)](_0x4d742a=>{const _0x1ebcb9=_0x57b0e8;_0x4d742a[_0x1ebcb9(0x16c)]||(_0x4d742a[_0x1ebcb9(0x16c)]=(0x0,Y['v4'])()),_0x4d742a[_0x1ebcb9(0x417)]||(_0x4d742a[_0x1ebcb9(0x417)]=_0x30341e[_0x1ebcb9(0x16c)]),delete _0x4d742a[_0x1ebcb9(0x64e)];});let _0x4a4dbe=await this['repository'][_0x57b0e8(0x4ec)]['createAndSave'](_0x30341e,this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)]);return _0x4a4dbe&&(this[_0x57b0e8(0x10d)](_0x4a4dbe[_0x57b0e8(0x629)]),await this[_0x57b0e8(0xbe)][_0x57b0e8(0x4ec)]['updateOneById'](_0x4a4dbe['_id'],{'$set':{'messages':_0x4a4dbe['messages']}},this[_0x57b0e8(0x68c)]['wuid'])),setTimeout(()=>this[_0x57b0e8(0x5e3)](),0x7d0),_0x4a4dbe;}}catch(_0x66df2e){let _0x1e7123=_0x57b0e8(0x580),_0x1d1174=_0x66df2e instanceof Error?_0x66df2e[_0x57b0e8(0x61f)]:typeof _0x66df2e==_0x57b0e8(0x2c3)?JSON[_0x57b0e8(0x5b9)](_0x66df2e):_0x66df2e,_0x11c3c0=_0x1e7123+':\x20'+_0x1d1174;throw this[_0x57b0e8(0x7b7)][_0x57b0e8(0x4e6)](this[_0x57b0e8(0x147)]+'\x20('+this[_0x57b0e8(0x68c)][_0x57b0e8(0x61a)]+_0x57b0e8(0x4e1)+_0x11c3c0),new m(_0x11c3c0);}}async[a0_0x1ec3bd(0x6b4)](_0x41d131,_0x390976){const _0x2dccea=a0_0x1ec3bd;try{this[_0x2dccea(0x7b7)][_0x2dccea(0x7ac)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2dccea(0x28b)),_0x390976[_0x2dccea(0x730)](_0x4ca432=>{const _0x1f5d63=_0x2dccea;_0x4ca432['_id']||(_0x4ca432[_0x1f5d63(0x16c)]=(0x0,Y['v4'])()),_0x4ca432[_0x1f5d63(0x417)]||(_0x4ca432[_0x1f5d63(0x417)]=_0x41d131),delete _0x4ca432[_0x1f5d63(0x64e)];});let _0x259b55={'$push':{'messages':{'$each':_0x390976}}},_0x3c2968=await this['repository'][_0x2dccea(0x4ec)]['updateOneById'](_0x41d131,_0x259b55,this[_0x2dccea(0x68c)][_0x2dccea(0x61a)]);return _0x3c2968&&(this[_0x2dccea(0x10d)](_0x3c2968[_0x2dccea(0x629)]),await this[_0x2dccea(0xbe)]['scheduleMessage']['updateOneById'](_0x3c2968[_0x2dccea(0x16c)],{'$set':{'messages':_0x3c2968[_0x2dccea(0x629)]}},this[_0x2dccea(0x68c)]['wuid'])),_0x3c2968;}catch(_0xb12035){let _0xc55325=_0x2dccea(0x29e),_0x51c072=_0xb12035 instanceof Error?_0xb12035[_0x2dccea(0x61f)]:typeof _0xb12035==_0x2dccea(0x2c3)?JSON['stringify'](_0xb12035):_0xb12035,_0x417230=_0xc55325+':\x20'+_0x51c072;throw this[_0x2dccea(0x7b7)]['error'](this[_0x2dccea(0x147)]+'\x20('+this[_0x2dccea(0x68c)][_0x2dccea(0x61a)]+_0x2dccea(0x4e1)+_0x417230),new m(_0x417230);}}async[a0_0x1ec3bd(0xe7)](_0x186e2a){const _0x539ae8=a0_0x1ec3bd;try{if(this[_0x539ae8(0x7b7)][_0x539ae8(0x7ac)](this[_0x539ae8(0x147)]+'\x20('+this['instance'][_0x539ae8(0x61a)]+_0x539ae8(0x667)),!_0x186e2a[_0x539ae8(0x16c)]||!_0x186e2a['messages'])throw new Error(_0x539ae8(0x634));let _0x29336b=_0x186e2a[_0x539ae8(0x16c)],_0x2bb785=_0x186e2a[_0x539ae8(0x629)],_0x39df12=_0x2bb785[_0x539ae8(0x433)](_0x15c741=>!_0x15c741[_0x539ae8(0x6f4)])[_0x539ae8(0x6ef)](_0x3eb5a2=>{const _0x529ff4=_0x539ae8;let _0x103bac=_0x3eb5a2[_0x529ff4(0x16c)];if(!_0x103bac)throw new Error(_0x529ff4(0x61c));return _0x3eb5a2['idSchedule']||(_0x3eb5a2[_0x529ff4(0x417)]=_0x29336b),delete _0x3eb5a2[_0x529ff4(0x64e)],{'updateOne':{'filter':{'_id':_0x29336b,'messages._id':_0x103bac},'update':{'$set':{'messages.$[elem]':_0x3eb5a2}},'arrayFilters':[{'elem._id':_0x103bac}]}};}),_0x4b2f5e=_0x2bb785[_0x539ae8(0x433)](_0xb8b600=>_0xb8b600[_0x539ae8(0x6f4)])[_0x539ae8(0x6ef)](_0x5024c7=>{const _0x469d4e=_0x539ae8;let _0x3932a5=_0x5024c7['_id'];if(!_0x3932a5)throw new Error(_0x469d4e(0x6df));return{'updateOne':{'filter':{'_id':_0x29336b},'update':{'$pull':{'messages':{'_id':_0x3932a5}}}}};}),_0x2ca91a=[..._0x39df12,..._0x4b2f5e],_0x292cef=await this[_0x539ae8(0xbe)][_0x539ae8(0x4ec)][_0x539ae8(0x63c)](_0x2ca91a,this[_0x539ae8(0x68c)][_0x539ae8(0x61a)]),_0x54d758=await this[_0x539ae8(0xbe)][_0x539ae8(0x4ec)][_0x539ae8(0x40a)](_0x29336b,this[_0x539ae8(0x68c)][_0x539ae8(0x61a)]);return _0x54d758&&(this[_0x539ae8(0x10d)](_0x54d758[_0x539ae8(0x629)]),await this[_0x539ae8(0xbe)]['scheduleMessage'][_0x539ae8(0xdf)](_0x54d758['_id'],{'$set':{'messages':_0x54d758['messages']}},this[_0x539ae8(0x68c)][_0x539ae8(0x61a)])),_0x54d758;}catch(_0x51c595){let _0x175982=_0x539ae8(0x452),_0xe07478=_0x51c595 instanceof Error?_0x51c595[_0x539ae8(0x61f)]:typeof _0x51c595==_0x539ae8(0x2c3)?JSON[_0x539ae8(0x5b9)](_0x51c595):_0x51c595,_0x5b59ee=_0x175982+':\x20'+_0xe07478;throw this[_0x539ae8(0x7b7)][_0x539ae8(0x4e6)](this['instanceName']+'\x20('+this[_0x539ae8(0x68c)]['wuid']+_0x539ae8(0x4e1)+_0x5b59ee),new m(_0x5b59ee);}}async[a0_0x1ec3bd(0x388)](){const _0x57600e=a0_0x1ec3bd;try{let _0x506fa6={'status':_0x57600e(0x240)},_0x152a80=await this[_0x57600e(0xbe)]['scheduleMessage'][_0x57600e(0x3bd)](_0x506fa6,this['instance'][_0x57600e(0x61a)]);if(!_0x152a80[_0x57600e(0x4e6)])this[_0x57600e(0x7b7)][_0x57600e(0x7ac)](this[_0x57600e(0x147)]+'\x20('+this[_0x57600e(0x68c)][_0x57600e(0x61a)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x152a80[_0x57600e(0x4e6)]['message']||_0x57600e(0x15a));return this[_0x57600e(0x4e5)]();}catch(_0x2cd89d){let _0x293a66=_0x57600e(0x627),_0x4641ea=_0x2cd89d instanceof Error?_0x2cd89d['message']:typeof _0x2cd89d==_0x57600e(0x2c3)?JSON['stringify'](_0x2cd89d):_0x2cd89d,_0x4cb3f=_0x293a66+':\x20'+_0x4641ea;throw this[_0x57600e(0x7b7)][_0x57600e(0x4e6)](this[_0x57600e(0x147)]+'\x20('+this[_0x57600e(0x68c)]['wuid']+_0x57600e(0x4e1)+_0x4cb3f),new m(_0x4cb3f);}}async[a0_0x1ec3bd(0x4e5)](){const _0x3a5a7e=a0_0x1ec3bd;try{return await this['repository']['scheduleMessage'][_0x3a5a7e(0x435)]({'where':{}},this[_0x3a5a7e(0x68c)]['wuid']);}catch(_0x2ce9f0){let _0x50f049=_0x3a5a7e(0x6cb),_0x44ccf1=_0x2ce9f0 instanceof Error?_0x2ce9f0['message']:typeof _0x2ce9f0==_0x3a5a7e(0x2c3)?JSON[_0x3a5a7e(0x5b9)](_0x2ce9f0):_0x2ce9f0,_0x15a916=_0x50f049+':\x20'+_0x44ccf1;throw this[_0x3a5a7e(0x7b7)][_0x3a5a7e(0x4e6)](this[_0x3a5a7e(0x147)]+'\x20('+this['instance'][_0x3a5a7e(0x61a)]+_0x3a5a7e(0x4e1)+_0x15a916),new m(_0x15a916);}}[a0_0x1ec3bd(0x10d)](_0x2a11f5){const _0x4d0a97=a0_0x1ec3bd;_0x2a11f5[_0x4d0a97(0x3ba)]((_0x1ab908,_0x242d70)=>_0x1ab908[_0x4d0a97(0x6da)]-_0x242d70[_0x4d0a97(0x6da)]),_0x2a11f5[_0x4d0a97(0x730)]((_0x565601,_0x3c9224)=>{const _0x4d9ffa=_0x4d0a97;_0x565601[_0x4d9ffa(0x6da)]=_0x3c9224+0x1;});}async[a0_0x1ec3bd(0x2af)](_0xe8dc44,_0x44aa5b){const _0x47a8c8=a0_0x1ec3bd;try{if(!_0x44aa5b)return this[_0x47a8c8(0x7b7)][_0x47a8c8(0x4e6)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x47a8c8(0x330)};if(_0x44aa5b[_0x47a8c8(0x73a)]==='flow'&&!this[_0x47a8c8(0x1d3)]?.[_0x47a8c8(0x11f)][_0x47a8c8(0x39f)])return this[_0x47a8c8(0x7b7)][_0x47a8c8(0x4e6)](this[_0x47a8c8(0x147)]+'\x20('+this['instance']['wuid']+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x47a8c8(0x2f0)};switch(_0x44aa5b[_0x47a8c8(0x73a)]){case _0x47a8c8(0x77d):return await this[_0x47a8c8(0x648)](_0x44aa5b,_0xe8dc44);case _0x47a8c8(0x757):case'image':case'document':return await this[_0x47a8c8(0x772)](_0x44aa5b,_0xe8dc44);case _0x47a8c8(0x6a2):return await this[_0x47a8c8(0x136)](_0x44aa5b,_0xe8dc44);case'flow':let _0x379f39=new Ve();return _0x379f39[_0x47a8c8(0x6fa)]=_0x44aa5b[_0x47a8c8(0x5a4)],_0x379f39[_0x47a8c8(0x47e)]=_0xe8dc44,await this['startFlow'](_0x379f39);default:return this[_0x47a8c8(0x7b7)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x47a8c8(0x5bd)+_0x44aa5b[_0x47a8c8(0x73a)]),{'error':!0x0,'detail':_0x47a8c8(0x551)};}}catch(_0x94791b){return this[_0x47a8c8(0x7b7)][_0x47a8c8(0x4e6)](this[_0x47a8c8(0x147)]+'\x20('+this[_0x47a8c8(0x68c)][_0x47a8c8(0x61a)]+_0x47a8c8(0x3ec)+(_0x94791b instanceof Error?_0x94791b[_0x47a8c8(0x61f)]:JSON[_0x47a8c8(0x5b9)](_0x94791b,null,0x2))),{'error':!0x0,'detail':_0x94791b[_0x47a8c8(0x61f)]};}}async['scheduleSendText'](_0x3b7786,_0x48cbf2){const _0x48be34=a0_0x1ec3bd;if(this[_0x48be34(0x7b7)][_0x48be34(0x7ac)](this[_0x48be34(0x147)]+'\x20('+this[_0x48be34(0x68c)]['wuid']+_0x48be34(0x1c0)+_0x48cbf2+'\x27'),!_0x3b7786['text']||_0x3b7786[_0x48be34(0x77d)]['length']===0x0)return{'error':!0x0,'detail':_0x48be34(0x6ff)};let _0x54c697=await this['replaceVariablesChat'](_0x3b7786[_0x48be34(0x77d)],_0x48cbf2),_0x212031={'number':_0x48cbf2,'options':{'delay':_0x3b7786[_0x48be34(0x5fa)],'linkPreview':_0x3b7786[_0x48be34(0x36b)]},'textMessage':{'text':_0x54c697}},_0x223f17=null;try{let _0x52cf23=await this[_0x48be34(0x3d6)](_0x212031);if(_0x52cf23&&_0x52cf23['status'])return{'error':!0x1,'id':_0x52cf23[_0x48be34(0x4dd)]['id']};_0x223f17=JSON[_0x48be34(0x5b9)](_0x52cf23),this[_0x48be34(0x7b7)]['verbose'](this['instanceName']+'\x20('+this[_0x48be34(0x68c)][_0x48be34(0x61a)]+_0x48be34(0x4e1)+_0x223f17);}catch(_0x2d1160){this[_0x48be34(0x7b7)][_0x48be34(0x4e6)](this[_0x48be34(0x147)]+'\x20('+this['instance'][_0x48be34(0x61a)]+_0x48be34(0x479)+(_0x2d1160 instanceof Error?_0x2d1160[_0x48be34(0x61f)]:JSON[_0x48be34(0x5b9)](_0x2d1160,null,0x2))),_0x223f17=_0x2d1160[_0x48be34(0x61f)];}if(_0x223f17)return{'error':!0x0,'detail':(typeof _0x223f17=='object'?JSON['stringify'](_0x223f17,null,0x2):_0x223f17)[_0x48be34(0x2b2)](/[\[\]{}\n]/g,'\x20')[_0x48be34(0x2b2)](/  +/g,'\x20')};}async[a0_0x1ec3bd(0x772)](_0x3f28f6,_0x1ab283){const _0x17d8ed=a0_0x1ec3bd;this['logger'][_0x17d8ed(0x7ac)](this['instanceName']+'\x20('+this[_0x17d8ed(0x68c)][_0x17d8ed(0x61a)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x1ab283+'\x27');let _0x1fbd08;_0x3f28f6[_0x17d8ed(0x77d)]&&_0x3f28f6['text'][_0x17d8ed(0x2a9)]>0x0&&(_0x1fbd08=await this[_0x17d8ed(0x5df)](_0x3f28f6[_0x17d8ed(0x77d)],_0x1ab283));let _0x3c4f87={'number':_0x1ab283,'options':{'delay':_0x3f28f6['delay'],'linkPreview':_0x3f28f6[_0x17d8ed(0x36b)]},'mediaMessage':{'mediatype':_0x3f28f6['type'],'caption':_0x1fbd08,'media':_0x3f28f6[_0x17d8ed(0x20a)]}},_0x519bbc=null;try{let _0x525159=await this[_0x17d8ed(0x123)](_0x3c4f87);if(_0x525159&&_0x525159[_0x17d8ed(0x4ff)])return{'error':!0x1,'id':_0x525159[_0x17d8ed(0x4dd)]['id']};_0x519bbc=JSON[_0x17d8ed(0x5b9)](_0x525159),this[_0x17d8ed(0x7b7)][_0x17d8ed(0x7ac)](this[_0x17d8ed(0x147)]+'\x20('+this[_0x17d8ed(0x68c)][_0x17d8ed(0x61a)]+_0x17d8ed(0x4e1)+_0x519bbc);}catch(_0x1cb43b){this[_0x17d8ed(0x7b7)]['error'](this[_0x17d8ed(0x147)]+'\x20('+this[_0x17d8ed(0x68c)][_0x17d8ed(0x61a)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x1cb43b instanceof Error?_0x1cb43b[_0x17d8ed(0x61f)]:JSON[_0x17d8ed(0x5b9)](_0x1cb43b,null,0x2))),_0x519bbc=_0x1cb43b[_0x17d8ed(0x61f)];}if(_0x519bbc)return{'error':!0x0,'detail':(typeof _0x519bbc==_0x17d8ed(0x2c3)?JSON['stringify'](_0x519bbc,null,0x2):_0x519bbc)[_0x17d8ed(0x2b2)](/[\[\]{}\n]/g,'\x20')[_0x17d8ed(0x2b2)](/  +/g,'\x20')};}async[a0_0x1ec3bd(0x136)](_0x18155a,_0x3020b9){const _0x2a0346=a0_0x1ec3bd;this[_0x2a0346(0x7b7)][_0x2a0346(0x7ac)](this[_0x2a0346(0x147)]+'\x20('+this[_0x2a0346(0x68c)]['wuid']+_0x2a0346(0x559)+_0x3020b9+'\x27');let _0x3176fd={'number':_0x3020b9,'options':{'delay':_0x18155a[_0x2a0346(0x5fa)]},'audioMessage':{'audio':_0x18155a['urlOrBase64']}},_0x588e6a=null;try{let _0x4c6bf7=await this[_0x2a0346(0x5d9)](_0x3176fd);if(_0x4c6bf7&&_0x4c6bf7[_0x2a0346(0x4ff)])return{'error':!0x1,'id':_0x4c6bf7[_0x2a0346(0x4dd)]['id']};_0x588e6a=JSON[_0x2a0346(0x5b9)](_0x4c6bf7),this[_0x2a0346(0x7b7)]['verbose'](this[_0x2a0346(0x147)]+'\x20('+this['instance'][_0x2a0346(0x61a)]+_0x2a0346(0x4e1)+_0x588e6a);}catch(_0x239df2){this[_0x2a0346(0x7b7)][_0x2a0346(0x4e6)](this[_0x2a0346(0x147)]+'\x20('+this[_0x2a0346(0x68c)][_0x2a0346(0x61a)]+_0x2a0346(0x2c1)+(_0x239df2 instanceof Error?_0x239df2[_0x2a0346(0x61f)]:JSON[_0x2a0346(0x5b9)](_0x239df2,null,0x2))),_0x588e6a=_0x239df2[_0x2a0346(0x61f)];}if(_0x588e6a)return{'error':!0x0,'detail':(typeof _0x588e6a==_0x2a0346(0x2c3)?JSON[_0x2a0346(0x5b9)](_0x588e6a,null,0x2):_0x588e6a)[_0x2a0346(0x2b2)](/[\[\]{}\n]/g,'\x20')[_0x2a0346(0x2b2)](/  +/g,'\x20')};}async[a0_0x1ec3bd(0x39b)](_0x36bce1){const _0x5d8231=a0_0x1ec3bd;try{return await this[_0x5d8231(0x392)]['groupUpdateDescription'](_0x36bce1[_0x5d8231(0x1cc)],_0x36bce1['description']),{'update':_0x5d8231(0x4d8)};}catch(_0x1ee45c){let _0x42ac99=_0x5d8231(0x1e9),_0x3407e5=_0x1ee45c instanceof Error?_0x1ee45c[_0x5d8231(0x61f)]:typeof _0x1ee45c==_0x5d8231(0x2c3)?JSON[_0x5d8231(0x5b9)](_0x1ee45c):_0x1ee45c,_0x498839=_0x42ac99+':\x20'+_0x3407e5;throw this['logger'][_0x5d8231(0x4e6)](this['instanceName']+'\x20('+this['instance'][_0x5d8231(0x61a)]+'):\x20'+_0x498839),new O(_0x498839);}}async[a0_0x1ec3bd(0x6c7)](_0x151216){const _0x52bf11=a0_0x1ec3bd;try{return await this[_0x52bf11(0x392)][_0x52bf11(0x747)](_0x151216[_0x52bf11(0x1cc)],_0x151216[_0x52bf11(0x6fa)]),{'update':_0x52bf11(0x4d8)};}catch(_0x45b44e){let _0x1ec1dc=_0x52bf11(0x483),_0x237dbd=_0x45b44e instanceof Error?_0x45b44e[_0x52bf11(0x61f)]:typeof _0x45b44e==_0x52bf11(0x2c3)?JSON[_0x52bf11(0x5b9)](_0x45b44e):_0x45b44e,_0x37fe53=_0x1ec1dc+':\x20'+_0x237dbd;throw this[_0x52bf11(0x7b7)]['error'](this[_0x52bf11(0x147)]+'\x20('+this[_0x52bf11(0x68c)][_0x52bf11(0x61a)]+_0x52bf11(0x4e1)+_0x37fe53),new O(_0x37fe53);}}async[a0_0x1ec3bd(0x569)](_0x366151){const _0x502ac4=a0_0x1ec3bd;try{let _0x448034=await this['client'][_0x502ac4(0x1e8)](_0x366151['groupJid'],_0x366151['expiration']);return{'success':!0x0};}catch(_0x3701c9){let _0x1de52e='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x210fb3=_0x3701c9 instanceof Error?_0x3701c9['message']:typeof _0x3701c9=='object'?JSON[_0x502ac4(0x5b9)](_0x3701c9):_0x3701c9,_0xb7702a=_0x1de52e+':\x20'+_0x210fb3;throw this[_0x502ac4(0x7b7)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x502ac4(0x4e1)+_0xb7702a),new O(_0xb7702a);}}async['groupSetting'](_0x224bb6){const _0x44419b=a0_0x1ec3bd;try{return await this[_0x44419b(0x392)]['groupSettingUpdate'](_0x224bb6[_0x44419b(0x1cc)],_0x224bb6[_0x44419b(0x5eb)]),{'update':_0x44419b(0x4d8)};}catch(_0x1c0c31){let _0xe836a0='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x1412b9=_0x1c0c31 instanceof Error?_0x1c0c31[_0x44419b(0x61f)]:typeof _0x1c0c31==_0x44419b(0x2c3)?JSON[_0x44419b(0x5b9)](_0x1c0c31):_0x1c0c31,_0x543af0=_0xe836a0+':\x20'+_0x1412b9;throw this[_0x44419b(0x7b7)][_0x44419b(0x4e6)](this[_0x44419b(0x147)]+'\x20('+this['instance'][_0x44419b(0x61a)]+_0x44419b(0x4e1)+_0x543af0),new O(_0x543af0);}}async[a0_0x1ec3bd(0x33f)](_0x5e6520){const _0x3d3f5d=a0_0x1ec3bd;try{let _0x249601;if((0x0,D[_0x3d3f5d(0x1c4)])(_0x5e6520[_0x3d3f5d(0x2f5)])){let _0x48b1f3=new Date()['getTime'](),_0x22aecb=_0x5e6520['image']+'?timestamp='+_0x48b1f3;_0x249601=(await Q[_0x3d3f5d(0x442)][_0x3d3f5d(0x5d6)](_0x22aecb,{'responseType':_0x3d3f5d(0x56b)}))['data'];}else{if((0x0,D[_0x3d3f5d(0x1b4)])(_0x5e6520['image']))_0x249601=Buffer[_0x3d3f5d(0x4e0)](_0x5e6520[_0x3d3f5d(0x2f5)],'base64');else throw new m(_0x3d3f5d(0x211));}return await this[_0x3d3f5d(0x392)]['updateProfilePicture'](_0x5e6520[_0x3d3f5d(0x1cc)],_0x249601),{'update':_0x3d3f5d(0x4d8)};}catch(_0x221499){let _0x4d795e=_0x3d3f5d(0x350),_0x1fec95=_0x221499 instanceof Error?_0x221499[_0x3d3f5d(0x61f)]:typeof _0x221499==_0x3d3f5d(0x2c3)?JSON[_0x3d3f5d(0x5b9)](_0x221499):_0x221499,_0xf262b2=_0x4d795e+':\x20'+_0x1fec95;throw this[_0x3d3f5d(0x7b7)][_0x3d3f5d(0x4e6)](this[_0x3d3f5d(0x147)]+'\x20('+this[_0x3d3f5d(0x68c)][_0x3d3f5d(0x61a)]+_0x3d3f5d(0x4e1)+_0xf262b2),new O(_0xf262b2);}}},Ut=class u{constructor(_0x300719,_0x1f3a7e,_0x1c08bf){const _0x5b276e=a0_0x1ec3bd;this[_0x5b276e(0x389)]=_0x300719,this[_0x5b276e(0x6f0)]=_0x1f3a7e,this[_0x5b276e(0xbe)]=_0x1c08bf,this['db']={},this['redis']={},this[_0x5b276e(0x7b7)]=new N(u[_0x5b276e(0x6fa)]),this['waInstances']={},(this[_0x5b276e(0x620)](),this['noConnection'](),Object[_0x5b276e(0x615)](this['db'],_0x1f3a7e[_0x5b276e(0x5d6)](_0x5b276e(0x548))),Object['assign'](this[_0x5b276e(0x6de)],_0x1f3a7e[_0x5b276e(0x5d6)](_0x5b276e(0x521))),this[_0x5b276e(0x599)]=this['db'][_0x5b276e(0x520)]?this[_0x5b276e(0xbe)]['dbServer']?.['db'](this['db'][_0x5b276e(0x607)][_0x5b276e(0x4b2)]+_0x5b276e(0x208)):void 0x0,this[_0x5b276e(0x476)]=this[_0x5b276e(0x6de)][_0x5b276e(0x520)]?new ue(this[_0x5b276e(0x6de)]):void 0x0);}async[a0_0x1ec3bd(0x596)](_0x4db9df){const _0x3dc52a=a0_0x1ec3bd;if(_0x4db9df&&!this[_0x3dc52a(0x7b8)][_0x4db9df])throw new F('Instance\x20\x22'+_0x4db9df+'\x22\x20not\x20found');let _0x17c0ce=[];for await(let [_0x381a52,_0x5f47a2]of Object[_0x3dc52a(0x48b)](this[_0x3dc52a(0x7b8)]))if(_0x5f47a2&&_0x5f47a2['connectionStatus'][_0x3dc52a(0x145)]===_0x3dc52a(0x6e9)){let _0x46f05a=await this[_0x3dc52a(0xbe)][_0x3dc52a(0x774)][_0x3dc52a(0x435)](_0x381a52);_0x17c0ce['push']({'instance':{'instanceName':_0x381a52,'apikey':_0x46f05a[_0x3dc52a(0x469)],'owner':_0x5f47a2[_0x3dc52a(0x61a)],'profileName':await _0x5f47a2[_0x3dc52a(0x37d)]()||'not\x20loaded','profilePictureUrl':_0x5f47a2[_0x3dc52a(0x54b)]}});}return _0x17c0ce[_0x3dc52a(0x435)](_0x1e2655=>_0x1e2655[_0x3dc52a(0x68c)]['instanceName']===_0x4db9df)??_0x17c0ce;}async[a0_0x1ec3bd(0x2ec)](_0x4c5607){const _0x56fc57=a0_0x1ec3bd;if(this['db'][_0x56fc57(0x520)]&&(await this[_0x56fc57(0xbe)][_0x56fc57(0x708)][_0x56fc57(0x4c5)](),(await this['dbInstance']['collections']())[_0x56fc57(0x2a9)]>0x0&&await this[_0x56fc57(0x599)][_0x56fc57(0x193)](_0x4c5607)),this[_0x56fc57(0x6de)][_0x56fc57(0x520)]){this['cache'][_0x56fc57(0x2da)]=_0x4c5607,await this['cache']['delAll']();return;}}async['loadInstance'](){const _0x2fac64=a0_0x1ec3bd;await this[_0x2fac64(0x6b9)]();let _0x24aa4f=async _0x4c4a91=>{const _0x134635=_0x2fac64;let _0x1532fb=new Ce(this[_0x134635(0x6f0)],this['eventEmitter'],this[_0x134635(0xbe)]);_0x1532fb[_0x134635(0x147)]=_0x4c4a91,await _0x1532fb['connectToWhatsapp'](),this['waInstances'][_0x4c4a91]=_0x1532fb;};try{if(this[_0x2fac64(0x6de)][_0x2fac64(0x520)]){let _0x2e6195=await this[_0x2fac64(0x476)][_0x2fac64(0x402)]();_0x2e6195?.[_0x2fac64(0x2a9)]>0x0&&_0x2e6195[_0x2fac64(0x730)](async _0x3b1d86=>await _0x24aa4f(_0x3b1d86['split'](':')[0x1]));return;}if(this['db'][_0x2fac64(0x520)]){await this['repository'][_0x2fac64(0x708)][_0x2fac64(0x4c5)]();let _0x59239d=await this[_0x2fac64(0x599)][_0x2fac64(0x709)]();_0x59239d[_0x2fac64(0x2a9)]>0x0&&_0x59239d[_0x2fac64(0x730)](async _0x9472ae=>await _0x24aa4f(_0x9472ae[_0x2fac64(0x703)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x571395){this['logger'][_0x2fac64(0x4e6)](_0x571395);}}async['cleanDisconnectedInstances'](){const _0x140881=a0_0x1ec3bd;try{let _0x2942ab=await this['repository'][_0x140881(0x774)][_0x140881(0x447)]({'online':!0x1});for(let _0x51da75 of _0x2942ab){let _0x323c1b=_0x51da75[_0x140881(0x16c)];await se[_0x140881(0x451)](W,_0x323c1b);}console[_0x140881(0x1d9)]('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x2942ab['length']);let _0x284946={'online':!0x1},_0x225cc2=await this[_0x140881(0xbe)][_0x140881(0x774)]['deleteMany'](_0x284946);console['log'](_0x140881(0x73e)+_0x225cc2[_0x140881(0x75b)]);}catch(_0x348442){console[_0x140881(0x4e6)](_0x140881(0x1a5),_0x348442);}}async[a0_0x1ec3bd(0x6b9)](){const _0xb4aa93=a0_0x1ec3bd;try{let _0x170ead={'online':!0x1},_0x432643={'online':!0x1,'lastDisconnect':Date['now']()},_0x396589=await this[_0xb4aa93(0xbe)][_0xb4aa93(0x774)][_0xb4aa93(0x20e)](_0x170ead,_0x432643);await this['cleanDisconnectedInstances']();}catch(_0x4b3eb0){console[_0xb4aa93(0x4e6)](_0xb4aa93(0x2df),_0x4b3eb0);}}[a0_0x1ec3bd(0x620)](){this['eventEmitter']['on']('remove.instance',async _0x4401d1=>{const _0x289fe6=a0_0x1c6d;try{this['waInstances'][_0x4401d1]=void 0x0;}catch{}try{this[_0x289fe6(0x2ec)](_0x4401d1);}finally{this[_0x289fe6(0x7b7)][_0x289fe6(0x717)](_0x289fe6(0x705)+_0x4401d1+_0x289fe6(0x5e5));}});}[a0_0x1ec3bd(0x39d)](){const _0x252f29=a0_0x1ec3bd;this[_0x252f29(0x389)]['on'](_0x252f29(0x1f0),async _0xea3b93=>{const _0x1042ee=_0x252f29;try{this['waInstances'][_0xea3b93]=void 0x0;}catch{}try{this['cleaningUp'](_0xea3b93);}finally{this['logger'][_0x1042ee(0x717)](_0x1042ee(0x705)+_0xea3b93+_0x1042ee(0x4d0));}});}},jt=class extends T{[a0_0x1ec3bd(0x382)](_0x6b5ef1){return Xs(_0x6b5ef1);}async['insert'](_0x26e2a2){const _0x359a6c=a0_0x1ec3bd;if(_0x26e2a2[_0x359a6c(0x2a9)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x26e2a2[0x0][_0x359a6c(0x60e)])['insertMany']([..._0x26e2a2]))['length']};}catch(_0x17c430){return _0x17c430;}}async['find'](_0x3aa4fe,_0x4cd34f){const _0x12a23e=a0_0x1ec3bd;try{let _0x4d7686=this[_0x12a23e(0x382)](_0x4cd34f),_0x2df427=A(_0x3aa4fe[_0x12a23e(0x6be)]);return await _0x4d7686['find'](_0x2df427)['sort']({'lastmsg':-0x1})[_0x12a23e(0x4ce)](_0x3aa4fe?.[_0x12a23e(0x4ce)]??0x0)[_0x12a23e(0x117)]();}catch{return[];}}async[a0_0x1ec3bd(0x204)](_0x87a988,_0x21b1ef){const _0x4247a0=a0_0x1ec3bd;try{let _0x1f78d9=this[_0x4247a0(0x382)](_0x21b1ef),_0x16c24c=A(_0x87a988[_0x4247a0(0x6be)]);return _0x16c24c['groupdata.participants']={'$ne':[]},await _0x1f78d9[_0x4247a0(0x435)](_0x16c24c)[_0x4247a0(0x3ba)]({'lastmsg':-0x1})['limit'](_0x87a988?.[_0x4247a0(0x4ce)]??0x0)[_0x4247a0(0x117)]();}catch{return[];}}async[a0_0x1ec3bd(0x6f4)](_0xd7c526,_0x1b1c15){const _0x503b6f=a0_0x1ec3bd;try{return{'deletedCount':(await this[_0x503b6f(0x382)](_0x1b1c15)[_0x503b6f(0x3bd)]({..._0xd7c526[_0x503b6f(0x6be)]}))['deletedCount']};}catch(_0xea0ca4){return{'error':_0xea0ca4?.[_0x503b6f(0x51d)]()};}}async['deleteAll'](_0x3f479c,_0x336344){const _0x3ff99c=a0_0x1ec3bd;try{return await this[_0x3ff99c(0x382)](_0x336344)[_0x3ff99c(0x3bd)]({..._0x3f479c['where']}),[];}catch(_0x395e9d){return{'error':_0x395e9d?.[_0x3ff99c(0x51d)]()};}}async[a0_0x1ec3bd(0x2f1)](_0x46ddcd,_0xfe4c02){const _0x27f876=a0_0x1ec3bd;try{let _0x454588=this[_0x27f876(0x382)](_0xfe4c02),_0x3ee8bf=A(_0x46ddcd[_0x27f876(0x6be)]);return await _0x454588[_0x27f876(0x2f1)](_0x3ee8bf)[_0x27f876(0x117)]();}catch{return null;}}async['updateOne'](_0x5497a4,_0x441058,_0x1723d5,_0x2f6c57,_0x1cd95d=a0_0x1ec3bd(0x50d)){const _0x5a2e91=a0_0x1ec3bd;try{let _0x1adbd9={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2f6c57},_0xc4681f=this[_0x5a2e91(0x382)](_0x1723d5),_0x11586c=A(_0x5497a4['where']);Object['keys'](_0x441058)[_0x5a2e91(0x730)](_0x37315a=>{_0x441058[_0x37315a]==null&&delete _0x441058[_0x37315a];});let _0x227683={};return _0x227683[_0x1cd95d]=_0x441058,await _0xc4681f[_0x5a2e91(0x3af)](_0x11586c,_0x227683,_0x1adbd9);}catch(_0x225a10){return console[_0x5a2e91(0x4e6)](_0x225a10),null;}}async['updateMany'](_0x3cba8d){const _0x19cbdb=a0_0x1ec3bd;try{let _0x3e8800=this[_0x19cbdb(0x382)](_0x3cba8d[0x0][_0x19cbdb(0x36f)][_0x19cbdb(0x6be)][_0x19cbdb(0x60e)]),_0x806623=_0x3cba8d[_0x19cbdb(0x6ef)](_0x53d904=>({'updateOne':{'filter':{..._0x53d904['query'][_0x19cbdb(0x6be)]},'update':{'$set':_0x53d904[_0x19cbdb(0x77c)]},'upsert':!0x0}})),_0x209d7c=await _0x3e8800['bulkWrite'](_0x806623);return _0x209d7c[_0x19cbdb(0x4e8)]+_0x209d7c['upsertedCount'];}catch(_0x42a00a){return console[_0x19cbdb(0x4e6)](_0x42a00a),0x0;}}async[a0_0x1ec3bd(0x544)](_0x550296){const _0x5c7198=a0_0x1ec3bd;try{let _0x32b34d={'group_isCommunity':'','group_announce':'','group_size':''},_0xa2110f={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x105abf={'$unset':_0x32b34d};return(await this['getChatModelForOwner'](_0x550296)[_0x5c7198(0x398)](_0xa2110f,_0x105abf))[_0x5c7198(0x4e8)];}catch(_0x232094){return console[_0x5c7198(0x4e6)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x232094),0x0;}}async['updateMissingEtiquetas'](_0x1b064a){const _0x251621=a0_0x1ec3bd;try{let _0x422648=this[_0x251621(0x382)](_0x1b064a),_0x90a3b={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3a0483={'$set':{'leadInfo.etiquetas':[]}};return(await _0x422648[_0x251621(0x398)](_0x90a3b,_0x3a0483))[_0x251621(0x4e8)];}catch(_0x4457eb){return console[_0x251621(0x4e6)](_0x4457eb),0x0;}}async['updateMissingTags'](_0x3900dc){const _0x35692c=a0_0x1ec3bd;try{let _0x5b1e72=this['getChatModelForOwner'](_0x3900dc),_0xadf9eb={'leadInfo.tags':{'$exists':!0x1}},_0x4aa7c8={'$set':{'leadInfo.tags':[]}};return(await _0x5b1e72[_0x35692c(0x398)](_0xadf9eb,_0x4aa7c8))[_0x35692c(0x4e8)];}catch(_0x334a97){return console[_0x35692c(0x4e6)](_0x334a97),0x0;}}async[a0_0x1ec3bd(0x765)](_0xc4a5c4){const _0x376abe=a0_0x1ec3bd;try{let _0x28688e=this[_0x376abe(0x382)](_0xc4a5c4),_0x2173a8={'leadInfo.customFields':{'$exists':!0x1}},_0x246e3b={'$set':{'leadInfo.customFields':[]}};return(await _0x28688e[_0x376abe(0x398)](_0x2173a8,_0x246e3b))['modifiedCount'];}catch(_0x4b35bf){return console['error'](_0x4b35bf),0x0;}}async[a0_0x1ec3bd(0x7b6)](_0x15faff,_0x26d7d7){const _0x2a6665=a0_0x1ec3bd;if(!Array[_0x2a6665(0x64a)](_0x15faff)||_0x15faff[_0x2a6665(0x2a9)]===0x0)throw new Error(_0x2a6665(0x6ad));try{return(await this[_0x2a6665(0x382)](_0x26d7d7)[_0x2a6665(0x7b6)](_0x15faff))[_0x2a6665(0x2a9)];}catch(_0x39016b){throw console['error'](_0x2a6665(0x46d),_0x39016b),_0x39016b;}}async[a0_0x1ec3bd(0xa5)](_0x1691ce,_0x412b45){const _0x479c8f=a0_0x1ec3bd;try{await this[_0x479c8f(0x382)](_0x412b45)[_0x479c8f(0x2a3)]({'_id':_0x1691ce});}catch(_0x49b0ac){throw console[_0x479c8f(0x4e6)]('Erro\x20ao\x20deletar\x20chat:',_0x49b0ac),_0x49b0ac;}}},Jt=class extends T{constructor(_0xd9870d,_0x52d8fb,_0x17a4c4){const _0x4ff0a7=a0_0x1ec3bd;super(_0x52d8fb),this[_0x4ff0a7(0x744)]=_0xd9870d,this['configService']=_0x52d8fb,this[_0x4ff0a7(0xe2)]=_0x17a4c4;}async[a0_0x1ec3bd(0x43c)](_0x5ebc56){const _0x51a3f9=a0_0x1ec3bd;if(_0x5ebc56[_0x51a3f9(0x2a9)]!==0x0)try{return{'insertCount':(await this[_0x51a3f9(0x744)]['insertMany']([..._0x5ebc56]))[_0x51a3f9(0x2a9)]};}catch(_0x34228a){return _0x34228a;}}async[a0_0x1ec3bd(0x77c)](_0x314847,_0xec64cf){const _0x38ea3b=a0_0x1ec3bd;try{let _0x5e6c46=A(_0x314847[_0x38ea3b(0x6be)]);return{'updatedCount':(await this[_0x38ea3b(0x744)]['updateMany'](_0x5e6c46,{'$set':_0xec64cf}))[_0x38ea3b(0x4e8)]};}catch(_0x48300c){return console['error'](_0x38ea3b(0x48c),_0x48300c),{'error':_0x48300c[_0x38ea3b(0x51d)]()};}}async['findManyByIds'](_0x190718){const _0x4a2f8b=a0_0x1ec3bd;try{let _0x3749d0={'_id':{'$in':_0x190718}};return await this[_0x4a2f8b(0x744)][_0x4a2f8b(0x435)](_0x3749d0)['lean']();}catch(_0x30ed43){return console['error'](_0x4a2f8b(0x3ac),_0x30ed43),[];}}async[a0_0x1ec3bd(0x6f4)](_0x1fb37d){const _0x239e9f=a0_0x1ec3bd;try{return{'deletedCount':(await this['cacheContactModel'][_0x239e9f(0x3bd)]({..._0x1fb37d[_0x239e9f(0x6be)]}))[_0x239e9f(0x5dc)]};}catch(_0x904f8){return{'error':_0x904f8?.[_0x239e9f(0x51d)]()};}}async[a0_0x1ec3bd(0x435)](_0x595a84){const _0x98698=a0_0x1ec3bd;try{let _0x321a7e=A(_0x595a84[_0x98698(0x6be)]);return await this[_0x98698(0x744)][_0x98698(0x435)](_0x321a7e)['limit'](_0x595a84?.[_0x98698(0x4ce)]??0x0)[_0x98698(0x117)]();}catch{return[];}}async[a0_0x1ec3bd(0x2f1)](_0x3602ea){const _0x4cc03e=a0_0x1ec3bd;try{let _0x398c22=A(_0x3602ea[_0x4cc03e(0x6be)]);return await this['cacheContactModel'][_0x4cc03e(0x2f1)](_0x398c22)['lean']();}catch{return null;}}},qt=class extends T{['getLabelModelForOwner'](_0x32919b){return Sa(_0x32919b);}async[a0_0x1ec3bd(0x2f9)](_0x33af94,_0x1ab53b,_0x14c0b1,_0x53bbdf){const _0x3d33e4=a0_0x1ec3bd;try{let _0x1133c1={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x53bbdf},_0x409ca8=this['getLabelModelForOwner'](_0x14c0b1),_0x451b35=A(_0x33af94[_0x3d33e4(0x6be)]);return await _0x409ca8[_0x3d33e4(0x3af)](_0x451b35,{'$set':_0x1ab53b},_0x1133c1);}catch(_0x2930a4){return console[_0x3d33e4(0x4e6)](_0x2930a4),null;}}async['find'](_0x4f4c38,_0x4301e5){const _0x2659ff=a0_0x1ec3bd;try{let _0x1c0664=this[_0x2659ff(0x4f3)](_0x4301e5),_0x456855=A(_0x4f4c38[_0x2659ff(0x6be)]);return await _0x1c0664[_0x2659ff(0x435)](_0x456855);}catch(_0x248ba1){console['error'](_0x248ba1);}}async[a0_0x1ec3bd(0x6f4)](_0x1607ff,_0x3f6e1d){const _0x3bd5ff=a0_0x1ec3bd;try{let _0x247770=this[_0x3bd5ff(0x4f3)](_0x3f6e1d),_0x3c424c=A(_0x1607ff[_0x3bd5ff(0x6be)]);await _0x247770['deleteMany'](_0x3c424c);}catch(_0x531eb6){console['error'](_0x531eb6);}}async[a0_0x1ec3bd(0x677)](_0x5da40f){const _0x36e9f0=a0_0x1ec3bd;try{return await this[_0x36e9f0(0x4f3)](_0x5da40f)[_0x36e9f0(0x48d)][_0x36e9f0(0x4d6)](),{'success':!0x0};}catch(_0x2585fc){return console['error'](_0x2585fc),{'success':!0x1,'error':_0x2585fc};}}},Vt=class{constructor(_0x3badd7){this['waMonitor']=_0x3badd7;}async[a0_0x1ec3bd(0x32b)]({instanceName:_0x17769a},_0x17ef0f){const _0x2eeea5=a0_0x1ec3bd;return await this[_0x2eeea5(0x395)][_0x2eeea5(0x7b8)][_0x17769a]['editChat'](_0x17ef0f);}async[a0_0x1ec3bd(0x1be)]({instanceName:_0x212eb3},_0x481fc7){const _0x19cd06=a0_0x1ec3bd;return await this['waMonitor'][_0x19cd06(0x7b8)][_0x212eb3][_0x19cd06(0x1be)](_0x481fc7);}async[a0_0x1ec3bd(0x42d)]({instanceName:_0x2e28b9},_0x200133){const _0x128ce0=a0_0x1ec3bd;return await this[_0x128ce0(0x395)][_0x128ce0(0x7b8)][_0x2e28b9][_0x128ce0(0x42d)](_0x200133);}async[a0_0x1ec3bd(0x84)]({instanceName:_0x1b3b5e},_0x5ac2a5){const _0x5c6672=a0_0x1ec3bd;return await this[_0x5c6672(0x395)][_0x5c6672(0x7b8)][_0x1b3b5e][_0x5c6672(0x15c)](_0x5ac2a5);}async[a0_0x1ec3bd(0x4ea)]({instanceName:_0x493cfd},_0x448e14){const _0x2782c3=a0_0x1ec3bd;return await this[_0x2782c3(0x395)][_0x2782c3(0x7b8)][_0x493cfd]['archiveChat'](_0x448e14);}async['deleteMessage']({instanceName:_0x22a63d},_0x5ba9a5){const _0xf2ccae=a0_0x1ec3bd;return await this[_0xf2ccae(0x395)][_0xf2ccae(0x7b8)][_0x22a63d][_0xf2ccae(0x104)](_0x5ba9a5);}async[a0_0x1ec3bd(0x27a)]({instanceName:_0x11516b},_0x28c2b4){const _0x4ef521=a0_0x1ec3bd;return await this[_0x4ef521(0x395)]['waInstances'][_0x11516b]['profilePicture'](_0x28c2b4[_0x4ef521(0x192)]);}async[a0_0x1ec3bd(0x301)]({instanceName:_0x3e2086},_0x412371){const _0x711f88=a0_0x1ec3bd;return await this[_0x711f88(0x395)][_0x711f88(0x7b8)][_0x3e2086]['fetchProfile'](_0x412371[_0x711f88(0x192)]);}async[a0_0x1ec3bd(0xbc)]({instanceName:_0x409d93},_0x82c6bb){const _0xf983b9=a0_0x1ec3bd;return await this[_0xf983b9(0x395)][_0xf983b9(0x7b8)][_0x409d93][_0xf983b9(0xbc)](_0x82c6bb);}async['fetchContacts']({instanceName:_0xecda9d},_0x342827){const _0x221fb3=a0_0x1ec3bd;return await this[_0x221fb3(0x395)][_0x221fb3(0x7b8)][_0xecda9d][_0x221fb3(0x2bc)](_0x342827);}async[a0_0x1ec3bd(0x663)]({instanceName:_0x432674},_0x5792da){const _0x5dba67=a0_0x1ec3bd;return await this[_0x5dba67(0x395)][_0x5dba67(0x7b8)][_0x432674][_0x5dba67(0x663)](_0x5792da);}async[a0_0x1ec3bd(0x612)]({instanceName:_0x17c687},_0x360bbd){const _0x305b47=a0_0x1ec3bd;return await this[_0x305b47(0x395)][_0x305b47(0x7b8)][_0x17c687][_0x305b47(0x612)](_0x360bbd);}async['fetchLabels']({instanceName:_0x47dae5}){const _0x5d8eb7=a0_0x1ec3bd;return await this[_0x5d8eb7(0x395)][_0x5d8eb7(0x7b8)][_0x47dae5][_0x5d8eb7(0x4c2)]();}async[a0_0x1ec3bd(0x4a0)]({instanceName:_0x20f464}){const _0x3bc55a=a0_0x1ec3bd;return await this[_0x3bc55a(0x395)][_0x3bc55a(0x7b8)][_0x20f464][_0x3bc55a(0x4a0)]();}async[a0_0x1ec3bd(0x33b)]({instanceName:_0x5f01e6}){const _0x2b6fc5=a0_0x1ec3bd;return await this[_0x2b6fc5(0x395)][_0x2b6fc5(0x7b8)][_0x5f01e6][_0x2b6fc5(0x33b)]();}async['updatePrivacySettings']({instanceName:_0x14746b},_0x3e0c4c){const _0xd3be43=a0_0x1ec3bd;return await this[_0xd3be43(0x395)][_0xd3be43(0x7b8)][_0x14746b][_0xd3be43(0x466)](_0x3e0c4c);}async[a0_0x1ec3bd(0x3cf)]({instanceName:_0x538232},_0x4c613c){const _0x12dbc7=a0_0x1ec3bd;return await this[_0x12dbc7(0x395)]['waInstances'][_0x538232][_0x12dbc7(0x3cf)](_0x4c613c[_0x12dbc7(0x192)]);}async[a0_0x1ec3bd(0x485)]({instanceName:_0x1e6601},_0xbea536){const _0x4cddf4=a0_0x1ec3bd;return await this[_0x4cddf4(0x395)]['waInstances'][_0x1e6601][_0x4cddf4(0x485)](_0xbea536[_0x4cddf4(0x6fa)]);}async['updateProfileStatus']({instanceName:_0x34a542},_0x503426){const _0x12bacc=a0_0x1ec3bd;return await this[_0x12bacc(0x395)][_0x12bacc(0x7b8)][_0x34a542][_0x12bacc(0x17a)](_0x503426[_0x12bacc(0x4ff)]);}async[a0_0x1ec3bd(0x7ca)]({instanceName:_0x28994c},_0x1d1a88){const _0x2c16e5=a0_0x1ec3bd;return await this['waMonitor'][_0x2c16e5(0x7b8)][_0x28994c][_0x2c16e5(0x7ca)](_0x1d1a88[_0x2c16e5(0x170)]);}async[a0_0x1ec3bd(0x61b)]({instanceName:_0x29baac},_0x497cac){const _0x406829=a0_0x1ec3bd;return await this[_0x406829(0x395)][_0x406829(0x7b8)][_0x29baac][_0x406829(0x61b)]();}},Gt=require(a0_0x1ec3bd(0x4f7)),Bt=class u{constructor(_0xa55db8,_0x451142,_0x15192f,_0x423434,_0x592396){const _0x2c0701=a0_0x1ec3bd;this['waMonitor']=_0xa55db8,this['configService']=_0x451142,this['repository']=_0x15192f,this['eventEmitter']=_0x423434,this[_0x2c0701(0x14e)]=_0x592396,this['logger']=new N(u[_0x2c0701(0x6fa)]);}async['createInstance']({instanceName:_0x4e41d4,apikey:_0x2f26e4,number:_0x4b2560,proxy:_0x4d227c=!0x0}){const _0x27abca=a0_0x1ec3bd;try{let _0x49707a=new Ce(this[_0x27abca(0x6f0)],this['eventEmitter'],this[_0x27abca(0xbe)]);_0x49707a['instanceName']=_0x4e41d4,this[_0x27abca(0x395)][_0x27abca(0x7b8)][_0x49707a[_0x27abca(0x147)]]=_0x49707a;let _0x5ded44={};_0x2f26e4?(await this[_0x27abca(0xbe)]['auth'][_0x27abca(0x63d)]({'apikey':_0x2f26e4},_0x4e41d4),_0x5ded44['apikey']=_0x2f26e4):_0x5ded44=await this[_0x27abca(0x14e)][_0x27abca(0x25e)]({'instanceName':_0x49707a[_0x27abca(0x147)]});let _0x36182b;if(_0x4b2560){if(_0x36182b=await this[_0x27abca(0x5f4)](_0x4b2560),_0x36182b[_0x27abca(0x4e6)])throw new O(_0x36182b[_0x27abca(0x4e6)][_0x27abca(0x51d)]());_0x4b2560=_0x36182b[_0x27abca(0x192)];}let _0x56241a;return await _0x49707a[_0x27abca(0x18e)](_0x4b2560),await(0x0,Gt[_0x27abca(0x5fa)])(0xfa0),_0x4b2560&&await(0x0,Gt[_0x27abca(0x5fa)])(0xbb8),_0x56241a=_0x49707a[_0x27abca(0x625)],{'instance':{'instanceName':_0x49707a[_0x27abca(0x147)],'status':_0x27abca(0x660)},'hash':_0x5ded44,'qrcode':_0x56241a};}catch(_0xb1d9f0){throw this[_0x27abca(0x7b7)][_0x27abca(0x4e6)](_0xb1d9f0),_0xb1d9f0;}}async[a0_0x1ec3bd(0x38a)]({instanceName:_0x1916fb,number:_0x4a55b6=null}){const _0x10c8ed=a0_0x1ec3bd;try{let _0x5c1e3b=this[_0x10c8ed(0x395)][_0x10c8ed(0x7b8)][_0x1916fb];switch(_0x5c1e3b?.['connectionStatus']?.['state']){case _0x10c8ed(0x2a5):return await _0x5c1e3b['connectToWhatsapp'](_0x4a55b6),await(0x0,Gt['delay'])(0x7d0),_0x5c1e3b[_0x10c8ed(0x625)];case _0x10c8ed(0x77e):return _0x5c1e3b[_0x10c8ed(0x625)];default:return await this[_0x10c8ed(0x6e4)]({'instanceName':_0x1916fb});}}catch(_0x461c15){this[_0x10c8ed(0x7b7)]['log'](_0x461c15);}}async['connectionState']({instanceName:_0x4fbc6d}){const _0x66fe82=a0_0x1ec3bd;let _0x3b33ee=this[_0x66fe82(0x395)][_0x66fe82(0x7b8)][_0x4fbc6d]['connectionStatus'],_0x500380=null;_0x3b33ee[_0x66fe82(0x145)]===_0x66fe82(0x6e9)&&_0x4fbc6d&&(_0x500380=await this[_0x66fe82(0x395)]['instanceInfo'](_0x4fbc6d));let _0x47ab8b=null;return _0x3b33ee[_0x66fe82(0x145)]==='connecting'&&_0x4fbc6d&&(_0x47ab8b=this[_0x66fe82(0x395)]['waInstances'][_0x4fbc6d][_0x66fe82(0x625)]),{'instance':_0x4fbc6d,'connectionStatus':_0x3b33ee,'instanceInfo':_0x500380,'qrcode':_0x47ab8b};}async[a0_0x1ec3bd(0x5f4)](_0x3397c0){const _0x278735=a0_0x1ec3bd;_0x3397c0=_0x3397c0[_0x278735(0x2b2)](/\D/g,'');let _0x14a8f1=Object['keys'](this[_0x278735(0x395)]['waInstances'])[_0x278735(0x433)](_0x4bc33c=>{const _0x12058f=_0x278735;let _0x1991b3=this[_0x12058f(0x395)][_0x12058f(0x7b8)][_0x4bc33c];return _0x1991b3&&_0x1991b3['connectionStatus']&&_0x1991b3[_0x12058f(0x3ab)]['state']===_0x12058f(0x6e9);});if(_0x14a8f1[_0x278735(0x2a9)]===0x0)return{'number':this[_0x278735(0x3fc)](_0x3397c0)};let _0x32a845=Math['floor'](Math['random']()*_0x14a8f1[_0x278735(0x2a9)]),_0x2c95ac=_0x14a8f1[_0x32a845];try{let _0x4f9a34=(await this[_0x278735(0x395)][_0x278735(0x7b8)][_0x2c95ac][_0x278735(0x1be)]({'numbers':[_0x3397c0]}))[_0x278735(0x25a)]();return _0x4f9a34[_0x278735(0x320)]?{'number':_0x4f9a34[_0x278735(0x4df)][_0x278735(0x2b2)]('@s.whatsapp.net','')}:{'number':_0x3397c0,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x33cb7a){return this['logger']['error'](_0x278735(0x6f5)+_0x33cb7a),{'number':_0x3397c0,'error':_0x278735(0x1c6)};}}[a0_0x1ec3bd(0x3fc)](_0x1c5527){let _0x57f356=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x1c5527);if(_0x57f356&&_0x57f356[0x1]==='55'){let _0x36d196=_0x57f356[0x2],_0x5d02bd=_0x57f356[0x3],_0x462545=_0x57f356[0x4];if(parseInt(_0x36d196)>=0x1f&&_0x5d02bd==='9')return _0x57f356[0x1]+_0x36d196+_0x462545;}return _0x1c5527;}async[a0_0x1ec3bd(0x7a9)]({instanceName:_0x508867}){const _0x4062eb=a0_0x1ec3bd;try{return this[_0x4062eb(0x395)][_0x4062eb(0x7b8)][_0x508867]?.[_0x4062eb(0x392)]?.['ws']?.[_0x4062eb(0x2a5)](),{'status':_0x4062eb(0x293),'error':!0x1,'response':{'message':_0x4062eb(0x706)}};}catch(_0x253872){this[_0x4062eb(0x7b7)][_0x4062eb(0x4e6)](_0x253872);}}async['fetchInstances']({instanceName:_0x4df66c}){const _0x1c8df0=a0_0x1ec3bd;return _0x4df66c?this[_0x1c8df0(0x395)]['instanceInfo'](_0x4df66c):this[_0x1c8df0(0x395)]['instanceInfo']();}async[a0_0x1ec3bd(0x510)]({instanceName:_0x30f04c}){const _0x180c81=a0_0x1ec3bd;try{return await this[_0x180c81(0x395)]['waInstances'][_0x30f04c]?.[_0x180c81(0x392)]?.['logout'](_0x180c81(0x220)+_0x30f04c),{'error':!0x1,'message':_0x180c81(0x5c2)};}catch(_0x3f7899){throw new O(_0x3f7899[_0x180c81(0x51d)]());}}async[a0_0x1ec3bd(0x29f)]({instanceName:_0x40dc70}){const _0x115111=a0_0x1ec3bd;if((await this[_0x115111(0x6e4)]({'instanceName':_0x40dc70}))['connectionStatus']['state']===_0x115111(0x6e9))throw new m([_0x115111(0x60a),_0x115111(0x74f)]);try{return delete this[_0x115111(0x395)]['waInstances'][_0x40dc70],{'error':!0x1,'message':_0x115111(0x338)};}catch(_0x3b9bd9){throw new m(_0x3b9bd9[_0x115111(0x51d)]());}}},ae=require(a0_0x1ec3bd(0xc5)),Wt=class{constructor(_0x1fadcd){this['waMonitor']=_0x1fadcd;}async[a0_0x1ec3bd(0x186)]({instanceName:_0x4ba01e},_0x47e3b4){const _0xe2358c=a0_0x1ec3bd;return await this[_0xe2358c(0x395)][_0xe2358c(0x7b8)][_0x4ba01e][_0xe2358c(0x3d6)](_0x47e3b4);}async[a0_0x1ec3bd(0x446)]({instanceName:_0x598ffe},_0x25fbab){const _0x2254fe=a0_0x1ec3bd;return await this['waMonitor'][_0x2254fe(0x7b8)][_0x598ffe][_0x2254fe(0x2b1)](_0x25fbab);}async[a0_0x1ec3bd(0x3d3)]({instanceName:_0x25e734},_0x48ddd0){const _0x2e2894=a0_0x1ec3bd;if((0x0,ae['isBase64'])(_0x48ddd0?.['mediaMessage']?.[_0x2e2894(0x168)])&&!_0x48ddd0?.['mediaMessage']?.[_0x2e2894(0x608)])throw new m(_0x2e2894(0x53e));if((0x0,ae[_0x2e2894(0x1c4)])(_0x48ddd0?.[_0x2e2894(0x123)]?.[_0x2e2894(0x168)])||(0x0,ae[_0x2e2894(0x1b4)])(_0x48ddd0?.[_0x2e2894(0x123)]?.['media']))return await this[_0x2e2894(0x395)][_0x2e2894(0x7b8)][_0x25e734]['mediaMessage'](_0x48ddd0);throw new m(_0x2e2894(0x12e));}async[a0_0x1ec3bd(0x50b)]({instanceName:_0x435688},_0x270735){const _0x3b9e8f=a0_0x1ec3bd;if((0x0,ae[_0x3b9e8f(0x1c4)])(_0x270735[_0x3b9e8f(0x579)][_0x3b9e8f(0x2f5)])||(0x0,ae[_0x3b9e8f(0x1b4)])(_0x270735[_0x3b9e8f(0x579)][_0x3b9e8f(0x2f5)]))return await this[_0x3b9e8f(0x395)][_0x3b9e8f(0x7b8)][_0x435688][_0x3b9e8f(0x2db)](_0x270735);throw new m(_0x3b9e8f(0x12e));}async[a0_0x1ec3bd(0x6a7)]({instanceName:_0x5ad5c0},_0x3f46de){const _0x1c6154=a0_0x1ec3bd;if((0x0,ae[_0x1c6154(0x1c4)])(_0x3f46de[_0x1c6154(0xb1)][_0x1c6154(0x6a2)])||(0x0,ae[_0x1c6154(0x1b4)])(_0x3f46de['audioMessage'][_0x1c6154(0x6a2)]))return await this[_0x1c6154(0x395)][_0x1c6154(0x7b8)][_0x5ad5c0][_0x1c6154(0x5d9)](_0x3f46de);throw new m(_0x1c6154(0x12e));}async[a0_0x1ec3bd(0x4d2)]({instanceName:_0x219c50},_0x2a0e36){const _0x99e73e=a0_0x1ec3bd;if((0x0,ae[_0x99e73e(0x1b4)])(_0x2a0e36[_0x99e73e(0x2ae)]['mediaMessage']?.[_0x99e73e(0x168)])&&!_0x2a0e36[_0x99e73e(0x2ae)][_0x99e73e(0x123)]?.['fileName'])throw new m(_0x99e73e(0x53e));return await this[_0x99e73e(0x395)]['waInstances'][_0x219c50][_0x99e73e(0x2ae)](_0x2a0e36);}async[a0_0x1ec3bd(0xa4)]({instanceName:_0x32883e},_0x3fa02c){const _0x1dec7e=a0_0x1ec3bd;return await this[_0x1dec7e(0x395)][_0x1dec7e(0x7b8)][_0x32883e]['locationMessage'](_0x3fa02c);}async[a0_0x1ec3bd(0x356)]({instanceName:_0x1b6c28},_0x2e3574){const _0x195435=a0_0x1ec3bd;return await this[_0x195435(0x395)][_0x195435(0x7b8)][_0x1b6c28][_0x195435(0x3b7)](_0x2e3574);}async['sendList']({instanceName:_0x3a0c02},_0x2176c6){const _0x16bb4e=a0_0x1ec3bd;return await this[_0x16bb4e(0x395)][_0x16bb4e(0x7b8)][_0x3a0c02][_0x16bb4e(0x6bc)](_0x2176c6);}async[a0_0x1ec3bd(0x36d)]({instanceName:_0x579c11},_0x9f1f36){const _0x546602=a0_0x1ec3bd;return await this['waMonitor'][_0x546602(0x7b8)][_0x579c11][_0x546602(0x61e)](_0x9f1f36);}async['sendReaction']({instanceName:_0x5bb383},_0x6a6bf9){const _0xccfc57=a0_0x1ec3bd;if(!_0x6a6bf9[_0xccfc57(0x4c3)][_0xccfc57(0x1ac)][_0xccfc57(0x5bc)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0xccfc57(0x232));return await this[_0xccfc57(0x395)][_0xccfc57(0x7b8)][_0x5bb383]['reactionMessage'](_0x6a6bf9);}async[a0_0x1ec3bd(0x83)]({instanceName:_0x2e5f7b},_0x2fdd8b){const _0x44b1ae=a0_0x1ec3bd;return await this[_0x44b1ae(0x395)]['waInstances'][_0x2e5f7b][_0x44b1ae(0x345)](_0x2fdd8b);}},_i=require(a0_0x1ec3bd(0x1c7)),Ps=require(a0_0x1ec3bd(0x202)),zt=class u{constructor(_0x4637b3,_0x48482a,_0x571843){const _0x20b250=a0_0x1ec3bd;this['configService']=_0x4637b3,this[_0x20b250(0x395)]=_0x48482a,this[_0x20b250(0xbe)]=_0x571843,this['logger']=new N(u[_0x20b250(0x6fa)]);}async[a0_0x1ec3bd(0x2ba)](_0x33c266){const _0x33274f=a0_0x1ec3bd;let _0x1328db=this[_0x33274f(0x6f0)][_0x33274f(0x5d6)]('AUTHENTICATION')[_0x33274f(0x75a)],_0x1d47a5=(0x0,_i[_0x33274f(0x4c9)])({'instanceName':_0x33c266[_0x33274f(0x147)],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x1328db[_0x33274f(0x26b)],{'expiresIn':_0x1328db[_0x33274f(0x39a)],'encoding':'utf8','subject':_0x33274f(0x63e)}),_0x3f870e=await this['repository'][_0x33274f(0x774)][_0x33274f(0x63d)]({'jwt':_0x1d47a5},_0x33c266[_0x33274f(0x147)]);if(_0x3f870e[_0x33274f(0x4e6)])throw this[_0x33274f(0x7b7)]['error']({'localError':u['name']+'.jwt','error':_0x3f870e[_0x33274f(0x4e6)]}),new m(_0x33274f(0x66a),_0x3f870e[_0x33274f(0x4e6)]?.['toString']());return{'jwt':_0x1d47a5};}async[a0_0x1ec3bd(0x469)](_0x3453de){const _0x36d50c=a0_0x1ec3bd;let _0x30819a=(0x0,Ps['v4'])()['toUpperCase'](),_0x3e7ee6=await this[_0x36d50c(0xbe)][_0x36d50c(0x774)][_0x36d50c(0x63d)]({'apikey':_0x30819a},_0x3453de[_0x36d50c(0x147)]);if(_0x3e7ee6['error'])throw this[_0x36d50c(0x7b7)][_0x36d50c(0x4e6)]({'localError':u[_0x36d50c(0x6fa)]+_0x36d50c(0x760),'error':_0x3e7ee6[_0x36d50c(0x4e6)]}),new m(_0x36d50c(0x66a),_0x3e7ee6['error']?.[_0x36d50c(0x51d)]());return{'apikey':_0x30819a};}async[a0_0x1ec3bd(0x25e)](_0x169fa5){const _0x51c297=a0_0x1ec3bd;let _0x55fe43=this[_0x51c297(0x6f0)]['get'](_0x51c297(0x30a));return await this[_0x55fe43[_0x51c297(0x3d8)]](_0x169fa5);}},Ht=class{constructor(_0x3c045a){this['waMonitor']=_0x3c045a;}async[a0_0x1ec3bd(0x6e8)](_0x415231,_0x31a392){const _0x49537f=a0_0x1ec3bd;return await this[_0x49537f(0x395)][_0x49537f(0x7b8)][_0x415231['instanceName']][_0x49537f(0x6e8)](_0x31a392);}async['updateGroupPicture'](_0x13a91c,_0x147aef){const _0x446a5d=a0_0x1ec3bd;return await this[_0x446a5d(0x395)][_0x446a5d(0x7b8)][_0x13a91c[_0x446a5d(0x147)]][_0x446a5d(0x33f)](_0x147aef);}async[a0_0x1ec3bd(0x39b)](_0x4bed1a,_0x55765a){const _0x50bc40=a0_0x1ec3bd;return await this[_0x50bc40(0x395)][_0x50bc40(0x7b8)][_0x4bed1a[_0x50bc40(0x147)]]['groupDesc'](_0x55765a);}async[a0_0x1ec3bd(0x6c7)](_0x2bee8c,_0x571314){const _0x3209ee=a0_0x1ec3bd;return await this['waMonitor'][_0x3209ee(0x7b8)][_0x2bee8c['instanceName']]['groupName'](_0x571314);}async[a0_0x1ec3bd(0x714)](_0x269261,_0x1f393d){const _0x385903=a0_0x1ec3bd;return await this['waMonitor'][_0x385903(0x7b8)][_0x269261[_0x385903(0x147)]]['groupBetterSetting'](_0x1f393d);}async['groupSetting'](_0x5aab55,_0xbcbb4b){const _0x1c48e7=a0_0x1ec3bd;return await this[_0x1c48e7(0x395)][_0x1c48e7(0x7b8)][_0x5aab55[_0x1c48e7(0x147)]][_0x1c48e7(0x347)](_0xbcbb4b);}async[a0_0x1ec3bd(0x1f6)](_0xa7e5df,_0x168fd9){const _0x23d77a=a0_0x1ec3bd;return await this[_0x23d77a(0x395)]['waInstances'][_0xa7e5df[_0x23d77a(0x147)]][_0x23d77a(0x7a4)](_0x168fd9);}async[a0_0x1ec3bd(0x12c)](_0x29b041){const _0x438cb8=a0_0x1ec3bd;return await this[_0x438cb8(0x395)][_0x438cb8(0x7b8)][_0x29b041[_0x438cb8(0x147)]][_0x438cb8(0x12c)]();}async[a0_0x1ec3bd(0x702)](_0x536f48,_0x2113dc){const _0x16eb8f=a0_0x1ec3bd;return await this['waMonitor'][_0x16eb8f(0x7b8)][_0x536f48[_0x16eb8f(0x147)]][_0x16eb8f(0x702)](_0x2113dc);}async[a0_0x1ec3bd(0x568)](_0x2273fe,_0x2c2eb7){const _0x4eb4ac=a0_0x1ec3bd;return await this[_0x4eb4ac(0x395)][_0x4eb4ac(0x7b8)][_0x2273fe['instanceName']][_0x4eb4ac(0x568)](_0x2c2eb7);}async['groupGetInviteInfo'](_0x381cf4,_0x336cd6){const _0xb060c5=a0_0x1ec3bd;return await this['waMonitor'][_0xb060c5(0x7b8)][_0x381cf4[_0xb060c5(0x147)]]['groupGetInviteInfo'](_0x336cd6);}async[a0_0x1ec3bd(0x2a4)](_0x1ec159,_0x3cb2d4){const _0x3ecdd5=a0_0x1ec3bd;return await this['waMonitor'][_0x3ecdd5(0x7b8)][_0x1ec159[_0x3ecdd5(0x147)]][_0x3ecdd5(0x2a4)](_0x3cb2d4);}async[a0_0x1ec3bd(0x58e)](_0xa249ce,_0x45bb8f){const _0x1b8533=a0_0x1ec3bd;return await this['waMonitor'][_0x1b8533(0x7b8)][_0xa249ce[_0x1b8533(0x147)]][_0x1b8533(0x58e)](_0x45bb8f);}async[a0_0x1ec3bd(0x269)](_0x119cc7,_0x5ac96d){const _0x37c4cb=a0_0x1ec3bd;return await this[_0x37c4cb(0x395)]['waInstances'][_0x119cc7[_0x37c4cb(0x147)]][_0x37c4cb(0x2de)](_0x5ac96d);}async['toggleEphemeral'](_0x2b5d3d,_0x489ea3){const _0x299930=a0_0x1ec3bd;return await this['waMonitor'][_0x299930(0x7b8)][_0x2b5d3d[_0x299930(0x147)]][_0x299930(0x569)](_0x489ea3);}async[a0_0x1ec3bd(0x2cd)](_0x2c28ef,_0x1d4c59){const _0x42293c=a0_0x1ec3bd;return await this[_0x42293c(0x395)][_0x42293c(0x7b8)][_0x2c28ef[_0x42293c(0x147)]][_0x42293c(0x2cd)](_0x1d4c59);}},Kt=class{constructor(_0x467e1b){const _0xc4ac40=a0_0x1ec3bd;this[_0xc4ac40(0x395)]=_0x467e1b;}[a0_0x1ec3bd(0x63d)](_0x117408,_0xc8f832){const _0x1f88b1=a0_0x1ec3bd;return this[_0x1f88b1(0x395)][_0x1f88b1(0x7b8)][_0x117408[_0x1f88b1(0x147)]][_0x1f88b1(0x234)](_0xc8f832);}async['find'](_0x14113b){const _0x339d01=a0_0x1ec3bd;try{return await this['waMonitor'][_0x339d01(0x7b8)][_0x14113b['instanceName']][_0x339d01(0x37a)]();}catch{return{'enabled':null,'url':''};}}},Gp=new N(a0_0x1ec3bd(0x95)),Qt=class{constructor(_0x4ecda8){this['waMonitor']=_0x4ecda8;}async['editScheduleMessage'](_0x28dd1f,_0x38b0b3){const _0x257785=a0_0x1ec3bd;return await this[_0x257785(0x395)][_0x257785(0x7b8)][_0x28dd1f[_0x257785(0x147)]][_0x257785(0x788)](_0x38b0b3);}async[a0_0x1ec3bd(0x4e5)](_0x165e7a){const _0x25ef96=a0_0x1ec3bd;return await this[_0x25ef96(0x395)][_0x25ef96(0x7b8)][_0x165e7a[_0x25ef96(0x147)]][_0x25ef96(0x4e5)]();}async[a0_0x1ec3bd(0x388)](_0x19e409){const _0x55eca6=a0_0x1ec3bd;return await this['waMonitor']['waInstances'][_0x19e409[_0x55eca6(0x147)]]['deleteDoneMessages']();}async[a0_0x1ec3bd(0x31b)](_0x5f04db){const _0x3b695c=a0_0x1ec3bd;return await this[_0x3b695c(0x395)][_0x3b695c(0x7b8)][_0x5f04db['instanceName']][_0x3b695c(0x31b)]();}async[a0_0x1ec3bd(0x5ed)](_0x4399d4,_0xcf83ea){const _0x590d6e=a0_0x1ec3bd;return await this[_0x590d6e(0x395)]['waInstances'][_0x4399d4[_0x590d6e(0x147)]][_0x590d6e(0x5ed)](_0xcf83ea);}async[a0_0x1ec3bd(0x37c)](_0xb50379,_0xd5cdf){const _0x1b43fc=a0_0x1ec3bd;return await this['waMonitor'][_0x1b43fc(0x7b8)][_0xb50379[_0x1b43fc(0x147)]]['updateCustomFields'](_0xd5cdf);}async[a0_0x1ec3bd(0x61d)](_0xfd8005,_0x51c950){const _0xd04ae4=a0_0x1ec3bd;return await this['waMonitor'][_0xd04ae4(0x7b8)][_0xfd8005[_0xd04ae4(0x147)]][_0xd04ae4(0x61d)](_0x51c950);}async[a0_0x1ec3bd(0x7c9)](_0x233907,_0x2f3281){const _0xe97193=a0_0x1ec3bd;return await this[_0xe97193(0x395)][_0xe97193(0x7b8)][_0x233907[_0xe97193(0x147)]][_0xe97193(0x7c9)](_0x2f3281);}async[a0_0x1ec3bd(0x73c)](_0x5cba6a,_0x488593){const _0x1465c2=a0_0x1ec3bd;return await this[_0x1465c2(0x395)][_0x1465c2(0x7b8)][_0x5cba6a[_0x1465c2(0x147)]]['startFlow'](_0x488593);}async[a0_0x1ec3bd(0x633)](_0x19d8eb,_0x3b79be,_0x57bb07,_0x176b50){const _0x4e7f70=a0_0x1ec3bd;return await this[_0x4e7f70(0x395)][_0x4e7f70(0x7b8)][_0x19d8eb][_0x4e7f70(0x633)](_0x3b79be,_0x57bb07,_0x176b50);}async[a0_0x1ec3bd(0x711)](_0x48add3,_0x544a0b){const _0x1641f9=a0_0x1ec3bd;return await this[_0x1641f9(0x395)][_0x1641f9(0x7b8)][_0x48add3[_0x1641f9(0x147)]]['getConversation'](_0x544a0b);}async[a0_0x1ec3bd(0x70a)](_0x3d5fd2,_0x52b8f8){const _0x30927b=a0_0x1ec3bd;return await this[_0x30927b(0x395)][_0x30927b(0x7b8)][_0x3d5fd2['instanceName']][_0x30927b(0x70a)](_0x52b8f8);}async['editConversation'](_0xfb1cc0,_0x2175fe){const _0x745d66=a0_0x1ec3bd;return await this[_0x745d66(0x395)][_0x745d66(0x7b8)][_0xfb1cc0['instanceName']][_0x745d66(0x581)](_0x2175fe);}async[a0_0x1ec3bd(0x4fb)](_0x10cb70,_0x2e2ff2){const _0xd40b5e=a0_0x1ec3bd;return await this['waMonitor']['waInstances'][_0x10cb70['instanceName']][_0xd40b5e(0x4fb)](_0x2e2ff2);}async[a0_0x1ec3bd(0x42e)](_0x2010dd,_0x1044a0){const _0x4fd6d6=a0_0x1ec3bd;return await this[_0x4fd6d6(0x395)]['waInstances'][_0x2010dd[_0x4fd6d6(0x147)]][_0x4fd6d6(0x42e)](_0x1044a0[_0x4fd6d6(0x16c)]);}async[a0_0x1ec3bd(0x31d)](_0x133f0b,_0x57dce7,_0x4260c6){const _0x468751=a0_0x1ec3bd;return await this[_0x468751(0x395)][_0x468751(0x7b8)][_0x133f0b[_0x468751(0x147)]][_0x468751(0x31d)](_0x57dce7,_0x4260c6);}async[a0_0x1ec3bd(0x6ed)](_0x30d1b0,_0x4ab336,_0x41f34f){const _0x5e061a=a0_0x1ec3bd;return await this[_0x5e061a(0x395)][_0x5e061a(0x7b8)][_0x30d1b0['instanceName']][_0x5e061a(0x6ed)](_0x4ab336,_0x41f34f);}async[a0_0x1ec3bd(0x4b0)](_0x32b85d,_0x4b26e4){const _0x3f5d91=a0_0x1ec3bd;return await this[_0x3f5d91(0x395)][_0x3f5d91(0x7b8)][_0x32b85d['instanceName']][_0x3f5d91(0x4b0)](_0x4b26e4);}async[a0_0x1ec3bd(0x139)](_0x442541,_0x40645f){const _0x192758=a0_0x1ec3bd;return await this[_0x192758(0x395)][_0x192758(0x7b8)][_0x442541[_0x192758(0x147)]][_0x192758(0x139)](_0x40645f);}async[a0_0x1ec3bd(0x471)](_0x32b14e,_0x2a6639){const _0x1d3b89=a0_0x1ec3bd;return await this[_0x1d3b89(0x395)]['waInstances'][_0x32b14e['instanceName']][_0x1d3b89(0x471)](_0x2a6639);}async[a0_0x1ec3bd(0x5fd)](_0x4d4a0e,_0x27b992){const _0x3620b6=a0_0x1ec3bd;return await this[_0x3620b6(0x395)][_0x3620b6(0x7b8)][_0x4d4a0e[_0x3620b6(0x147)]][_0x3620b6(0x5fd)](_0x27b992);}async[a0_0x1ec3bd(0x664)](_0x398f0c,_0x270321){const _0x1e2261=a0_0x1ec3bd;return await this[_0x1e2261(0x395)]['waInstances'][_0x398f0c['instanceName']][_0x1e2261(0x664)](_0x270321);}async[a0_0x1ec3bd(0x6e3)](_0x299852,_0x81a528){const _0x45803f=a0_0x1ec3bd;return await this[_0x45803f(0x395)][_0x45803f(0x7b8)][_0x299852[_0x45803f(0x147)]][_0x45803f(0x6e3)](_0x81a528);}async['deleteFlow'](_0x2f48f3,_0x1f7189){const _0x5be089=a0_0x1ec3bd;return await this[_0x5be089(0x395)][_0x5be089(0x7b8)][_0x2f48f3['instanceName']][_0x5be089(0x10a)](_0x1f7189);}async[a0_0x1ec3bd(0x721)](_0x56f399){const _0x1f78bf=a0_0x1ec3bd;return await this[_0x1f78bf(0x395)]['waInstances'][_0x56f399[_0x1f78bf(0x147)]]['allFlows']();}},Yt=class{constructor(_0x2bee45){this['webhookService']=_0x2bee45;}async[a0_0x1ec3bd(0x40e)](_0x1c9184,_0x54d00c){const _0x314a87=a0_0x1ec3bd;return this[_0x314a87(0x4ac)][_0x314a87(0x63d)](_0x1c9184,_0x54d00c);}async[a0_0x1ec3bd(0x37a)](_0x2619e6){const _0x405cd7=a0_0x1ec3bd;return this['webhookService'][_0x405cd7(0x435)](_0x2619e6);}},Xt=class extends T{constructor(_0x4ef1f2,_0x5c8d2f){const _0x436a41=a0_0x1ec3bd;super(_0x5c8d2f),this['webhookModel']=_0x4ef1f2,this[_0x436a41(0x6f0)]=_0x5c8d2f;}async[a0_0x1ec3bd(0x63d)](_0x4b60f1,_0x306bce){const _0x11ff0a=a0_0x1ec3bd;try{return this[_0x11ff0a(0x5b1)][_0x11ff0a(0x520)]?{'insertCount':(await this[_0x11ff0a(0x54e)][_0x11ff0a(0x4b4)]({'_id':_0x306bce},{..._0x4b60f1},{'upsert':!0x0}))[_0x11ff0a(0x4e8)]}:{'insertCount':0x1};}catch(_0x3d245f){return _0x3d245f;}}async[a0_0x1ec3bd(0x6f4)](_0x2dfcb7){const _0x39abc1=a0_0x1ec3bd;try{if(this[_0x39abc1(0x5b1)][_0x39abc1(0x520)]){await this[_0x39abc1(0x54e)][_0x39abc1(0x2a3)]({'_id':_0x2dfcb7});return;}}catch(_0x31e330){return{'error':_0x31e330};}}async[a0_0x1ec3bd(0x435)](_0x5c116e){const _0x3c4b70=a0_0x1ec3bd;try{if(this[_0x3c4b70(0x5b1)]['ENABLED'])return await this[_0x3c4b70(0x54e)]['findOne']({'_id':_0x5c116e});}catch{return{};}}},Zt=class extends T{constructor(_0x47a01a,_0x525f86){const _0xedca6f=a0_0x1ec3bd;super(_0x525f86),this[_0xedca6f(0x37b)]=_0x47a01a,this[_0xedca6f(0x6f0)]=_0x525f86,this[_0xedca6f(0x774)]=_0x525f86[_0xedca6f(0x5d6)](_0xedca6f(0x30a));}async[a0_0x1ec3bd(0x63d)](_0x30ad1c,_0x12472a){const _0x1d121c=a0_0x1ec3bd;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x1d121c(0x37b)][_0x1d121c(0x2f9)]({'_id':_0x12472a},{'$set':{..._0x30ad1c}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x510dfc){return{'error':_0x510dfc};}}async[a0_0x1ec3bd(0x20e)](_0xbd2145,_0x47d957){const _0x3f37f9=a0_0x1ec3bd;try{if(this[_0x3f37f9(0x5b1)][_0x3f37f9(0x520)])return{'insertCount':(await this['authModel'][_0x3f37f9(0x398)](_0xbd2145,{'$set':_0x47d957},{'upsert':!0x1}))[_0x3f37f9(0x4e8)]};throw new Error(_0x3f37f9(0x60c));}catch(_0x4affae){return{'error':_0x4affae};}}async[a0_0x1ec3bd(0x3bd)](_0x957d89){const _0x1d2bab=a0_0x1ec3bd;try{if(this['dbSettings'][_0x1d2bab(0x520)])return{'insertCount':(await this[_0x1d2bab(0x37b)][_0x1d2bab(0x3bd)](_0x957d89))[_0x1d2bab(0x5dc)]};throw new Error(_0x1d2bab(0x79f));}catch(_0x559200){return{'error':_0x559200};}}async[a0_0x1ec3bd(0x6f4)](_0x28f3bc){const _0x3fc2d8=a0_0x1ec3bd;try{if(this[_0x3fc2d8(0x5b1)][_0x3fc2d8(0x520)]){await this[_0x3fc2d8(0x37b)][_0x3fc2d8(0x2a3)]({'_id':_0x28f3bc});return;}}catch(_0x43c99b){return{'error':_0x43c99b};}}async[a0_0x1ec3bd(0x435)](_0x18b175){const _0x3b0f6e=a0_0x1ec3bd;try{if(this[_0x3b0f6e(0x5b1)]['ENABLED'])return await this[_0x3b0f6e(0x37b)][_0x3b0f6e(0x2f1)]({'_id':_0x18b175});}catch{return{};}}async['findAll'](){const _0x239888=a0_0x1ec3bd;try{if(this['dbSettings'][_0x239888(0x520)])return await this[_0x239888(0x37b)][_0x239888(0x435)]();}catch{return[];}}async['findMany'](_0x50875f){const _0x3a9470=a0_0x1ec3bd;try{if(this['dbSettings'][_0x3a9470(0x520)])return await this[_0x3a9470(0x37b)][_0x3a9470(0x435)](_0x50875f);}catch{return[];}}},es=class extends T{async[a0_0x1ec3bd(0x2a3)](_0x418ed2){const _0x4de772=a0_0x1ec3bd;try{let _0x1276ad=A(_0x418ed2[_0x4de772(0x6be)]);return{'deletedCount':(await ye[_0x4de772(0x2a3)](_0x1276ad))[_0x4de772(0x5dc)]};}catch(_0x35e1a0){return{'error':_0x35e1a0?.[_0x4de772(0x51d)]()};}}async['updateOne'](_0x4f9e7b,_0x160076){const _0x3a2add=a0_0x1ec3bd;try{let _0x8fb2c7=await ye['findById'](_0x4f9e7b);return _0x8fb2c7?(Object['assign'](_0x8fb2c7,_0x160076),await _0x8fb2c7[_0x3a2add(0x319)]()):(console[_0x3a2add(0x4e6)](_0x3a2add(0x647),_0x4f9e7b),null);}catch(_0x47acfb){return console['error'](_0x3a2add(0x7f),_0x47acfb),null;}}async[a0_0x1ec3bd(0x358)](_0x1e6be8){const _0x14cfe9=a0_0x1ec3bd;try{return await new ye(_0x1e6be8)['save']();}catch(_0x327b89){return console[_0x14cfe9(0x4e6)](_0x14cfe9(0x199),_0x327b89),null;}}async[a0_0x1ec3bd(0x4f6)](_0x507ab0){const _0x323eb9=a0_0x1ec3bd;try{let _0x57b72c=_0x507ab0[_0x323eb9(0x6be)]??{};return await ye['find'](_0x57b72c)[_0x323eb9(0x4ce)](_0x507ab0[_0x323eb9(0x4ce)]??0x0)[_0x323eb9(0x117)]();}catch(_0x26a0f0){return console[_0x323eb9(0x4e6)](_0x323eb9(0x2e9),_0x26a0f0),[];}}async['findOne'](_0x3b41b8){const _0x55d584=a0_0x1ec3bd;try{let _0x4189a7=A(_0x3b41b8['where']);return await ye[_0x55d584(0x2f1)](_0x4189a7)['lean']();}catch{return null;}}},ts=class extends T{[a0_0x1ec3bd(0xce)](_0x4c949d){return wa(_0x4c949d);}async['insert'](_0x24bc4c){const _0x120691=a0_0x1ec3bd;if(_0x24bc4c[_0x120691(0x2a9)]!==0x0)try{return{'insertCount':(await this[_0x120691(0xce)](_0x24bc4c[0x0][_0x120691(0x60e)])['insertMany']([..._0x24bc4c]))[_0x120691(0x2a9)]};}catch(_0x243bed){return _0x243bed;}}async[a0_0x1ec3bd(0x6f4)](_0x4b496,_0x3f54b2){const _0x1de636=a0_0x1ec3bd;try{let _0x4d5385=this['getConversationModelForOwner'](_0x3f54b2),_0x5b2627=A(_0x4b496[_0x1de636(0x6be)]);return{'deletedCount':(await _0x4d5385[_0x1de636(0x3bd)](_0x5b2627))['deletedCount']};}catch(_0x59d4ec){return{'error':_0x59d4ec?.[_0x1de636(0x51d)]()};}}async[a0_0x1ec3bd(0x2a3)](_0x3863d3,_0x28432a){const _0x68aeb5=a0_0x1ec3bd;try{let _0x5f5424=this[_0x68aeb5(0xce)](_0x28432a),_0x468860=A(_0x3863d3['where']);return{'deletedCount':(await _0x5f5424[_0x68aeb5(0x2a3)](_0x468860))[_0x68aeb5(0x5dc)]};}catch(_0x38495c){return{'error':_0x38495c?.[_0x68aeb5(0x51d)]()};}}async[a0_0x1ec3bd(0x77c)](_0x59f185,_0x4cf151){const _0x4aab8f=a0_0x1ec3bd;try{if(_0x59f185['length']===0x0)return;let _0x5562ba=this[_0x4aab8f(0xce)](_0x4cf151),_0x319cc7=_0x59f185[_0x4aab8f(0x6ef)](_0x35cf95=>({'updateOne':{'filter':{'name':_0x35cf95['name'],'owner':_0x4cf151},'update':{..._0x35cf95}}})),{modifiedCount:_0x2da939}=await _0x5562ba[_0x4aab8f(0x63c)](_0x319cc7);return{'insertCount':_0x2da939};}catch{return;}}async[a0_0x1ec3bd(0x398)](_0x4eede7,_0x29e2aa,_0x493927){const _0x2eb767=a0_0x1ec3bd;try{return{'modifiedCount':(await this[_0x2eb767(0xce)](_0x493927)[_0x2eb767(0x398)](_0x4eede7,{'$set':_0x29e2aa})[_0x2eb767(0x799)]())[_0x2eb767(0x4e8)]};}catch(_0x58884c){return console[_0x2eb767(0x4e6)](_0x2eb767(0x2bb),_0x58884c),{'error':_0x58884c};}}async['updateOne'](_0x90eb61,_0x329329,_0x2f4570){const _0x3d1167=a0_0x1ec3bd;try{return await this[_0x3d1167(0xce)](_0x2f4570)[_0x3d1167(0x3af)]({'_id':_0x90eb61},{'$set':_0x329329},{'new':!0x0,'upsert':!0x0})[_0x3d1167(0x117)]();}catch(_0x115e11){return console[_0x3d1167(0x4e6)](_0x115e11),null;}}async['find'](_0x59e2c6,_0x4fc852){const _0x8aa16f=a0_0x1ec3bd;try{return await this['getConversationModelForOwner'](_0x4fc852)[_0x8aa16f(0x435)](_0x59e2c6)['sort']({'lastInteraction':-0x1})[_0x8aa16f(0x117)]();}catch{return[];}}async[a0_0x1ec3bd(0x2f1)](_0x445703,_0x1c4338){const _0x41992e=a0_0x1ec3bd;try{return await this[_0x41992e(0xce)](_0x1c4338)[_0x41992e(0x2f1)]({..._0x445703[_0x41992e(0x6be)]})[_0x41992e(0x117)]();}catch{return null;}}async[a0_0x1ec3bd(0x677)](_0x2ea949){const _0x25a3b3=a0_0x1ec3bd;try{return await this[_0x25a3b3(0xce)](_0x2ea949)[_0x25a3b3(0x48d)][_0x25a3b3(0x4d6)](),{'success':!0x0};}catch(_0x4eed30){return console[_0x25a3b3(0x4e6)](_0x4eed30),{'success':!0x1,'error':_0x4eed30};}}},ss=class extends T{['getScheduleMessageModelForOwner'](_0x121569){return ya(_0x121569);}async[a0_0x1ec3bd(0x63c)](_0x4a87d0,_0x2a1d0a){const _0x21400f=a0_0x1ec3bd;try{return await this[_0x21400f(0x593)](_0x2a1d0a)['bulkWrite'](_0x4a87d0);}catch(_0x2e8a37){return console[_0x21400f(0x4e6)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x2e8a37),null;}}async[a0_0x1ec3bd(0x358)](_0x43c30a,_0x2bb732){const _0x539b27=a0_0x1ec3bd;try{let _0x2e39a5=this[_0x539b27(0x593)](_0x2bb732);return await new _0x2e39a5(_0x43c30a)['save']();}catch(_0x10e69f){return console[_0x539b27(0x4e6)](_0x539b27(0x1b8),_0x10e69f),null;}}async[a0_0x1ec3bd(0x2a3)](_0x3db26b,_0x5d8c73){const _0x185276=a0_0x1ec3bd;try{return await this['getScheduleMessageModelForOwner'](_0x5d8c73)['findByIdAndDelete'](_0x3db26b),{};}catch(_0x13e874){return{'error':_0x13e874?.[_0x185276(0x51d)]()};}}async['updateOne'](_0x3f1529,_0x27ded3,_0x3f8fa5,_0x3e1c3d={}){const _0x412664=a0_0x1ec3bd;try{return await this[_0x412664(0x593)](_0x3f8fa5)[_0x412664(0x3af)](_0x3f1529,_0x27ded3,{..._0x3e1c3d,'new':!0x0})[_0x412664(0x117)]();}catch(_0x534f01){return console['error'](_0x412664(0x688),_0x534f01),null;}}async[a0_0x1ec3bd(0xdf)](_0xce6ffb,_0x3ef7aa,_0x43c704){const _0x3833c5=a0_0x1ec3bd;try{return await this[_0x3833c5(0x593)](_0x43c704)[_0x3833c5(0x5fc)](_0xce6ffb,_0x3ef7aa,{'new':!0x0})[_0x3833c5(0x117)]();}catch(_0x3ab3bd){return console[_0x3833c5(0x4e6)](_0x3833c5(0x688),_0x3ab3bd),null;}}async[a0_0x1ec3bd(0x435)](_0x5ee48c,_0x484c1d){const _0x3d15d2=a0_0x1ec3bd;try{return await this['getScheduleMessageModelForOwner'](_0x484c1d)[_0x3d15d2(0x435)](_0x5ee48c['where'])[_0x3d15d2(0x4ce)](_0x5ee48c?.[_0x3d15d2(0x4ce)]??0x0)[_0x3d15d2(0x3ba)]({'when':0x1})[_0x3d15d2(0x117)]();}catch{return[];}}async[a0_0x1ec3bd(0x2f1)](_0x258c58,_0x59f8d3){const _0x5937f6=a0_0x1ec3bd;try{return await this[_0x5937f6(0x593)](_0x59f8d3)['findOne'](_0x258c58[_0x5937f6(0x6be)])['sort']({'when':0x1})['lean']();}catch{return null;}}async[a0_0x1ec3bd(0x40a)](_0x4a9b19,_0x4e0971){const _0x20662b=a0_0x1ec3bd;try{return await this[_0x20662b(0x593)](_0x4e0971)[_0x20662b(0x40a)](_0x4a9b19)[_0x20662b(0x117)]();}catch{return null;}}async[a0_0x1ec3bd(0x3bd)](_0x11b820,_0x4f8ed0){const _0x1d856=a0_0x1ec3bd;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x4f8ed0)[_0x1d856(0x3bd)](_0x11b820))['deletedCount']};}catch(_0x152b9d){return console[_0x1d856(0x4e6)](_0x1d856(0x306),_0x152b9d),{'error':_0x152b9d};}}async['deleteAll'](_0x1d13d5){const _0x55a782=a0_0x1ec3bd;try{return await this[_0x55a782(0x593)](_0x1d13d5)[_0x55a782(0x48d)]['drop'](),{'success':!0x0};}catch(_0x230a41){return console['error'](_0x230a41),{'success':!0x1,'error':_0x230a41};}}},as=class extends T{async[a0_0x1ec3bd(0x77c)](_0x5ecaf9,_0x19b2f9){const _0x81f358=a0_0x1ec3bd;try{if(this['dbSettings'][_0x81f358(0x520)])return await $e[_0x81f358(0x3af)]({'_id':_0x19b2f9},{'$set':_0x5ecaf9},{'new':!0x0});}catch(_0x5867a8){throw console[_0x81f358(0x4e6)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x5867a8),_0x5867a8;}}async['findOrCreate'](_0x16e52a){const _0x3e57b6=a0_0x1ec3bd;try{let _0x5c476e=await $e[_0x3e57b6(0x40a)](_0x16e52a);return _0x5c476e?_0x5c476e['autoCompleteMessages']||(_0x5c476e['autoCompleteMessages']=[],await _0x5c476e[_0x3e57b6(0x319)]()):(_0x5c476e=new $e({'_id':_0x16e52a,'autoCompleteMessages':[]}),await _0x5c476e['save']()),_0x5c476e;}catch(_0x48471c){return _0x48471c[_0x3e57b6(0x118)]===0x2af8&&_0x48471c[_0x3e57b6(0x5cd)]&&_0x48471c[_0x3e57b6(0x5cd)][_0x3e57b6(0x127)]?(console['error'](_0x3e57b6(0x18c)),await $e[_0x3e57b6(0x48d)][_0x3e57b6(0x2e1)]('autoCompleteMessages.command_1'),null):(console['error'](_0x3e57b6(0x755),_0x48471c),null);}}},Fo=new N(a0_0x1ec3bd(0x738)),Uo=new We(b),jo=new jt(b),Jo=new at(b),qo=new Jt(sa,b),Vo=new Xt(ua,b),Go=new Zt(na,b),Bo=new Me(qe,b),Wo=new es(b),zo=new qt(b),Ho=new ts(b),Ko=new ss(b),Qo=new as(b),he=new Ge(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,$?.[a0_0x1ec3bd(0x2ad)]()),G=new Ut(ds,b,he),Yo=new zt(b,G,he),Xo=new Kt(G),vs=new Yt(Xo),I=new Qt(G),le=new Bt(G,b,he,ds,Yo),B=new Wt(G),x=new Vt(G),j=new Ht(G);Fo[a0_0x1ec3bd(0x6eb)](a0_0x1ec3bd(0x7ad));var ng=require(a0_0x1ec3bd(0x589)),ks=require('fs'),xi=R(require(a0_0x1ec3bd(0x2e0))),Di=R(require(a0_0x1ec3bd(0x359))),ke=class u{static #e;static set['app'](_0x1054b1){this.#e=_0x1054b1;}static get[a0_0x1ec3bd(0x2e0)](){const _0x148874=a0_0x1ec3bd;let {FULLCHAIN:_0x3421fb,PRIVKEY:_0x3e8c78}=b['get'](_0x148874(0x53c));return xi[_0x148874(0x99)]({'cert':(0x0,ks[_0x148874(0x54a)])(_0x3421fb),'key':(0x0,ks['readFileSync'])(_0x3e8c78)},u.#e);}static get[a0_0x1ec3bd(0x359)](){const _0x128178=a0_0x1ec3bd;return Di[_0x128178(0x99)](u.#e);}},Le=R(require('fs')),ji=R(require(a0_0x1ec3bd(0x63f))),Fe=R(require(a0_0x1ec3bd(0xb4))),os=R(require(a0_0x1ec3bd(0x46e))),is=require(a0_0x1ec3bd(0x65b));function Zo(){const _0x403dd1=a0_0x1ec3bd;G[_0x403dd1(0xe8)]();let _0x5ce619=os[_0x403dd1(0x442)]['join'](__dirname,'downloads');Ui(_0x5ce619);}var Ui=_0x2b5338=>{const _0x171a63=a0_0x1ec3bd;let _0x44ce07=Le['default'][_0x171a63(0x6f1)](_0x2b5338),_0x5c78f8=0xc*0x3c*0x3c*0x3e8,_0x12d002=0x2*0x3c*0x3c*0x3e8,_0x33f216=new Date()[_0x171a63(0x47c)]();_0x44ce07[_0x171a63(0x730)](_0x3fab5f=>{const _0x2e7513=_0x171a63;let _0x17040d=os['default']['join'](_0x2b5338,_0x3fab5f),_0x540d0d=Le[_0x2e7513(0x442)][_0x2e7513(0x769)](_0x17040d)['birthtime'][_0x2e7513(0x47c)]();_0x33f216-_0x540d0d>_0x5c78f8&&(Le[_0x2e7513(0x442)][_0x2e7513(0x7c1)](_0x17040d),console[_0x2e7513(0x1d9)](_0x2e7513(0x490)+_0x3fab5f));}),setTimeout(()=>Ui(_0x2b5338),_0x12d002);};function er(){const _0x7f1278=a0_0x1ec3bd;let _0x41f29f=new N(_0x7f1278(0x752)),_0x53b705=(0x0,me[_0x7f1278(0x442)])();_0x53b705[_0x7f1278(0x71f)]((0x0,Fi[_0x7f1278(0x442)])({'origin'(_0x3a3983,_0x12eb28){const _0x2172ca=_0x7f1278;let {ORIGIN:_0x498dc8}=b['get']('CORS');return _0x3a3983||(_0x3a3983='*'),_0x498dc8[_0x2172ca(0x1e1)]('*')!==-0x1||_0x498dc8[_0x2172ca(0x1e1)](_0x3a3983)!==-0x1?_0x12eb28(null,!0x0):_0x12eb28(new Error(_0x2172ca(0xe9)));},'methods':[...b['get']('CORS')[_0x7f1278(0xb8)]],'credentials':b[_0x7f1278(0x5d6)](_0x7f1278(0x499))[_0x7f1278(0x527)]}),(0x0,me['urlencoded'])({'extended':!0x0,'limit':_0x7f1278(0x4f8)}),(0x0,me[_0x7f1278(0x149)])({'limit':_0x7f1278(0x4f8)})),_0x53b705['use']((_0x36ab98,_0x40eeaa,_0x48c091)=>{const _0x578359=_0x7f1278;_0x36ab98['path'][_0x578359(0x725)](_0x578359(0x272))?_0x48c091():(0x0,Li['default'])()(_0x36ab98,_0x40eeaa,_0x48c091);}),_0x53b705[_0x7f1278(0x26c)](_0x7f1278(0x643),'hbs'),_0x53b705['set']('views',(0x0,Fs['join'])(re,_0x7f1278(0x2f8))),_0x53b705[_0x7f1278(0x71f)](me[_0x7f1278(0x442)][_0x7f1278(0x6d2)]((0x0,Fs[_0x7f1278(0x693)])(re,_0x7f1278(0x516)))),_0x53b705['use']((_0x28f905,_0x4c397,_0x328a60)=>{const _0x1b348d=_0x7f1278;let _0x29ba90=_0x4c397[_0x1b348d(0x103)];_0x4c397[_0x1b348d(0x103)]=function(_0x3ed17c){const _0x113733=_0x1b348d;if(_0x28f905[_0x113733(0x36f)][_0x113733(0x2ed)]==='true'||_0x28f905[_0x113733(0x64c)][_0x113733(0x304)]===_0x113733(0x410)){let _0x46442d=JSON[_0x113733(0x30d)](_0x3ed17c);_0x3ed17c=JSON[_0x113733(0x5b9)](_0x1fb3a9(_0x46442d));}return _0x29ba90[_0x113733(0x2a8)](_0x4c397,[_0x3ed17c]);},_0x328a60();}),_0x53b705[_0x7f1278(0x71f)]('/',xe),_0x53b705[_0x7f1278(0x71f)]((_0xf8230e,_0x2e2117,_0x100377,_0x4959eb)=>{const _0x1a3422=_0x7f1278;if(_0xf8230e)return _0x100377[_0x1a3422(0x4ff)](_0xf8230e[_0x1a3422(0x4ff)]||0x1f4)[_0x1a3422(0x149)](_0xf8230e);},(_0x5b25c6,_0x1e5010,_0x3a3b5e)=>{const _0x485df4=_0x7f1278;let {method:_0x14e11c,url:_0x4909b0}=_0x5b25c6;_0x1e5010[_0x485df4(0x4ff)](0x194)[_0x485df4(0x149)]({'status':0x194,'message':_0x485df4(0x642)+_0x14e11c['toUpperCase']()+'\x20'+_0x4909b0,'error':_0x485df4(0x7c0)}),_0x3a3b5e();});let _0x1fb3a9=(_0x55b5d4,_0xc18112=_0x7f1278(0x23a))=>{const _0x5d140e=_0x7f1278;let _0x3948ca=(_0x4e4642,_0x3420a3=null,_0x953d7c=!0x1)=>{const _0x40712d=a0_0x1c6d;let _0x36be28={};return Object[_0x40712d(0x196)](_0x4e4642)['forEach'](_0x2ab5ce=>{const _0x5b910c=_0x40712d;let _0xd5656b=_0x4e4642[_0x2ab5ce],_0x9fb2f7=''+_0xc18112+_0x2ab5ce;_0x3420a3&&!_0x953d7c&&(_0x9fb2f7=_0x3420a3+'.'+_0x2ab5ce),!_0xd5656b&&_0xd5656b!==0x0&&_0xd5656b!==!0x1||typeof _0xd5656b>'u'?_0x36be28[_0x9fb2f7]=null:typeof _0xd5656b!=_0x5b910c(0x2c3)&&!Array[_0x5b910c(0x64a)](_0xd5656b)?_0x36be28[_0x9fb2f7]=_0xd5656b:typeof _0xd5656b==_0x5b910c(0x2c3)&&!Array[_0x5b910c(0x64a)](_0xd5656b)?_0x36be28=Object[_0x5b910c(0x615)](_0x36be28,_0x3948ca(_0xd5656b,_0x9fb2f7)):Array['isArray'](_0xd5656b)&&(typeof _0xd5656b[0x0]=='object'?(_0x36be28[_0x9fb2f7]=[],_0xd5656b['forEach'](_0x1bf495=>{_0x36be28[_0x9fb2f7]['push'](_0x3948ca(_0x1bf495,_0x9fb2f7,!0x0));})):_0x36be28[_0x9fb2f7]=_0xd5656b);}),_0x36be28;};return Array['isArray'](_0x55b5d4)?_0x55b5d4[_0x5d140e(0x6ef)](_0x397222=>_0x3948ca(_0x397222)):typeof _0x55b5d4==_0x5d140e(0x2c3)&&_0x55b5d4!==null?_0x3948ca(_0x55b5d4):{};},_0x184625=b[_0x7f1278(0x5d6)](_0x7f1278(0x752));ke[_0x7f1278(0x53a)]=_0x53b705;let _0x5057ab=ke[_0x184625[_0x7f1278(0x3d8)]],_0x5c650e=_0x7f1278(0x38e);_0x5057ab[_0x7f1278(0x458)](_0x184625['PORT'],()=>{const _0x74e14f=_0x7f1278;_0x41f29f['log'](_0x5c650e),_0x41f29f[_0x74e14f(0x1d9)](_0x184625[_0x74e14f(0x3d8)][_0x74e14f(0x773)]()+'\x20-\x20ON:\x20'+_0x184625[_0x74e14f(0x406)]);}),Zo(),Qs();}var tr=a0_0x1ec3bd(0x52a),sr=os[a0_0x1ec3bd(0x442)][a0_0x1ec3bd(0x693)](__dirname,a0_0x1ec3bd(0x4be)),Ee=null;function ar(){return new Promise((_0x120dcb,_0x588647)=>{const _0x244a59=a0_0x1c6d;Le[_0x244a59(0x442)]['readFile'](sr,_0x244a59(0x5c9),(_0x225481,_0x545053)=>{const _0x341a72=_0x244a59;if(_0x225481){Ee=_0x225481,_0x120dcb();return;}ji['default'][_0x341a72(0x30d)](_0x545053)[_0x341a72(0x17b)]['url']===tr?(Ee=null,_0x120dcb()):(Ee=new Error(_0x341a72(0x649)),_0x120dcb());});});}async function ir(){const _0x20cb6e=a0_0x1ec3bd;try{await ar(),await Us();}catch(_0x1c3213){console[_0x20cb6e(0x4e6)](_0x20cb6e(0x1f5)+_0x1c3213),process[_0x20cb6e(0x5f7)](0x1);}}ir();async function Ji(){const _0x31955e=a0_0x1ec3bd;let _0xf71b9a;try{_0xf71b9a=(await Fe[_0x31955e(0x442)][_0x31955e(0x5d6)](_0x31955e(0x578)))[_0x31955e(0x586)]['ip'];}catch(_0x1f24ee){console[_0x31955e(0x4e6)](_0x1f24ee);try{_0xf71b9a=(await Fe[_0x31955e(0x442)]['get'](_0x31955e(0x505)))[_0x31955e(0x586)]['ip'];}catch(_0x38c2ad){console[_0x31955e(0x4e6)](_0x38c2ad);try{_0xf71b9a=(await Fe[_0x31955e(0x442)][_0x31955e(0x5d6)](_0x31955e(0x5c7)))[_0x31955e(0x586)][_0x31955e(0x5bc)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xd7115c){return console[_0x31955e(0x4e6)](_0xd7115c),!0x1;}}}return _0xf71b9a;}var Pi=0x0;async function or(){const _0x3a9cfd=a0_0x1ec3bd;let _0x37a0a9=await new ue(b[_0x3a9cfd(0x5d6)](_0x3a9cfd(0x521)))[_0x3a9cfd(0x402)]();return console['log'](_0x3a9cfd(0x3f5),_0x37a0a9[_0x3a9cfd(0x2a9)]),_0x37a0a9[_0x3a9cfd(0x2a9)];}function rr(_0x274bf0){const _0x520e59=a0_0x1ec3bd;let _0x181335=_0x274bf0[_0x520e59(0x5d6)](_0x520e59(0x752))[_0x520e59(0x1d1)],_0x406730=_0x274bf0[_0x520e59(0x5d6)]('SSL_CONF');console['log'](_0x520e59(0x7b0),_0x181335),console[_0x520e59(0x1d9)](_0x520e59(0x1d2),_0x406730);let _0x5378d3='',_0x33d3aa=_0x181335||'';if(_0x181335){let _0x81c925=_0x181335[_0x520e59(0x5bc)](/\/\/(.*?)\./);console[_0x520e59(0x1d9)](_0x520e59(0x2d2),_0x81c925),_0x81c925&&_0x81c925[0x1]&&(_0x5378d3=_0x81c925[0x1],console[_0x520e59(0x1d9)](_0x520e59(0x298),_0x5378d3));}if(!_0x5378d3&&_0x406730&&_0x406730[_0x520e59(0x1eb)]){let _0x3fac75=_0x406730['FULLCHAIN'][_0x520e59(0x4c0)]('/');console[_0x520e59(0x1d9)](_0x520e59(0x58c),_0x3fac75);let _0x28f52e=_0x3fac75[_0x3fac75['length']-0x2];if(console[_0x520e59(0x1d9)](_0x520e59(0x34d),_0x28f52e),_0x28f52e){let _0x4aaa7a=_0x28f52e[_0x520e59(0x4c0)]('.');console[_0x520e59(0x1d9)](_0x520e59(0x3a6),_0x4aaa7a),_0x4aaa7a[_0x520e59(0x2a9)]>0x2&&(_0x5378d3=_0x4aaa7a[0x0],console[_0x520e59(0x1d9)](_0x520e59(0x798),_0x5378d3),_0x33d3aa=''+_0x28f52e);}}return{'subdomain':_0x5378d3||'Subdomínio\x20não\x20encontrado','fullURL':_0x33d3aa||_0x520e59(0x175)};}var {subdomain:W,fullURL:js}=rr(b);console[a0_0x1ec3bd(0x1d9)]('Subdomínio\x20final:',W),console[a0_0x1ec3bd(0x1d9)](a0_0x1ec3bd(0x6fe),js);async function nr(){const _0x34c4e0=a0_0x1ec3bd;let _0x1906f1=b['get'](_0x34c4e0(0x521)),_0x26c563=b[_0x34c4e0(0x5d6)](_0x34c4e0(0x30a))[_0x34c4e0(0x344)]['KEY'],_0x2382ab=b[_0x34c4e0(0x5d6)](_0x34c4e0(0x53c)),_0xcafea=await Ji(),_0x3b6cdc=b['get'](_0x34c4e0(0x752))[_0x34c4e0(0x406)],_0x3ac5a1=js;try{let _0x5e3ce0={'ip':_0xcafea||null,'redis_enable':_0x1906f1?.[_0x34c4e0(0x520)]||null,'apikey':_0x26c563||null,'ssl':_0x2382ab?.[_0x34c4e0(0x554)]||null,'lastupdate':qi||null,'port':_0x3b6cdc||null,'gitInstallError':Ee?.[_0x34c4e0(0x61f)]||null,'url':_0x3ac5a1||null,'subdomain':W};if(console[_0x34c4e0(0x1d9)](_0x34c4e0(0x313),_0x5e3ce0['ip']),_0x1906f1&&_0x1906f1['ENABLED']){let _0x456e7e=await or();_0x5e3ce0[_0x34c4e0(0x8d)]=_0x456e7e||null;}for(let _0x162838 in _0x5e3ce0)_0x5e3ce0[_0x34c4e0(0x7a0)](_0x162838)&&_0x162838!=='ip'&&(_0x5e3ce0[_0x162838]=JSON[_0x34c4e0(0x5b9)](_0x5e3ce0[_0x162838]));return(await Fe['default'][_0x34c4e0(0x489)](_0x34c4e0(0x2b9),_0x5e3ce0))[_0x34c4e0(0x586)];}catch(_0x481e13){return console[_0x34c4e0(0x4e6)](_0x481e13),!0x1;}}var Ls=!0x1,qi=0x261,cr=0x3,ki=0x1b7740;async function Us(){const _0x968188=a0_0x1ec3bd;let _0x58a1ba='fora\x20do\x20git';Ee===null&&(_0x58a1ba=await Ji());let _0x8276a9=await nr();if(_0x8276a9){if(_0x8276a9[_0x968188(0x595)][_0x968188(0x76f)]===!0x0){Ee===null&&_0x8276a9['response']['last_update']-qi>0x0&&await lr(),Ls||(Ls=!0x0,er());let _0x67188b=0x24*0x3c*0x3c,_0x388e16=_0x8276a9['response'][_0x968188(0x720)]>_0x67188b?_0x67188b:_0x8276a9[_0x968188(0x595)][_0x968188(0x720)],_0x5d1b76=Number(_0x388e16);if(isNaN(_0x5d1b76)){console[_0x968188(0x4e6)](_0x968188(0x616));return;}let _0x1dc31f=Math['floor'](_0x5d1b76/0xe10),_0x1c20f7=Math[_0x968188(0x582)](_0x5d1b76%0xe10/0x3c),_0x322ebc=new Date(Date[_0x968188(0x450)]()+_0x5d1b76*0x3e8);setTimeout(Us,_0x5d1b76*0x3e8);let _0x454a62=_0x126b25=>_0x126b25[_0x968188(0x51d)]()[_0x968188(0x247)](0x2,'0'),_0x482dbb=_0x968188(0x69e)+_0x454a62(_0x1dc31f)+'\x20horas\x20e\x20'+_0x454a62(_0x1c20f7)+_0x968188(0x1ee)+_0x454a62(_0x322ebc['getHours']())+':'+_0x454a62(_0x322ebc['getMinutes']())+'.';console[_0x968188(0x1d9)](_0x482dbb);}else return console['log'](_0x968188(0xc6)),Ls&&(console['log'](_0x968188(0x51f)),process[_0x968188(0x5f7)]()),_0x968188(0x5d5);}else{if(Pi++,Pi<cr)console[_0x968188(0x1d9)](_0x968188(0x7c5)+ki/0xea60+_0x968188(0x18a)),setTimeout(Us,ki);else return console[_0x968188(0x4e6)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x968188(0x488);}}async function lr(){const _0x2fce21=a0_0x1ec3bd;console[_0x2fce21(0x1d9)](_0x2fce21(0x374)),console[_0x2fce21(0x1d9)](_0x2fce21(0x1ce)),(0x0,is['spawn'])(_0x2fce21(0x28c),{'shell':!0x0})['on']('close',_0x563f1a=>{const _0x534132=_0x2fce21;_0x563f1a!==0x0?console[_0x534132(0x4e6)](_0x534132(0x756)):(console[_0x534132(0x1d9)](_0x534132(0x40d)),console[_0x534132(0x1d9)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,is[_0x534132(0x24f)])(_0x534132(0x3aa),{'shell':!0x0})['on'](_0x534132(0x2a5),_0x1a96b0=>{const _0x2d5158=_0x534132;if(_0x1a96b0!==0x0)console[_0x2d5158(0x4e6)](_0x2d5158(0x621));else{console[_0x2d5158(0x1d9)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0xe95085=(0x0,is[_0x2d5158(0x24f)])(_0x2d5158(0x3ae),{'shell':!0x0});_0xe95085['stdout']['on'](_0x2d5158(0x586),_0x2f0d3c=>{const _0x2a589a=_0x2d5158;console[_0x2a589a(0x1d9)](_0x2a589a(0x6af)+_0x2f0d3c);}),_0xe95085['stderr']['on'](_0x2d5158(0x586),_0x5e7fff=>{const _0xaa299a=_0x2d5158;console['error'](_0xaa299a(0x5bf)+_0x5e7fff);}),_0xe95085['on']('exit',_0x33d1d6=>{const _0x59f6a5=_0x2d5158;_0x33d1d6!==0x0?console[_0x59f6a5(0x4e6)](_0x59f6a5(0x2b4)+_0x33d1d6):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x59f6a5(0x584)),setTimeout(()=>process[_0x59f6a5(0x5f7)](),0x2710);});}}));});}0x0&&(module[a0_0x1ec3bd(0x10f)]={'fullURL':fullURL,'subdomain':subdomain});