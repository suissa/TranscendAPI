const a0_0x401cf8=a0_0x1c0b;(function(_0x5d72fb,_0x289be2){const _0x669a32=a0_0x1c0b,_0x1df01a=_0x5d72fb();while(!![]){try{const _0x4fd248=parseInt(_0x669a32(0x6af))/0x1+-parseInt(_0x669a32(0x668))/0x2+parseInt(_0x669a32(0x1eb))/0x3+parseInt(_0x669a32(0x61f))/0x4+-parseInt(_0x669a32(0x68f))/0x5*(-parseInt(_0x669a32(0x37c))/0x6)+-parseInt(_0x669a32(0x666))/0x7+-parseInt(_0x669a32(0x506))/0x8;if(_0x4fd248===_0x289be2)break;else _0x1df01a['push'](_0x1df01a['shift']());}catch(_0x57fade){_0x1df01a['push'](_0x1df01a['shift']());}}}(a0_0x5ab0,0xd0637));var Ir=Object[a0_0x401cf8(0x368)],Ae=Object[a0_0x401cf8(0x753)],Dr=Object[a0_0x401cf8(0x586)],xr=Object['getOwnPropertyNames'],_r=Object[a0_0x401cf8(0x38b)],Pr=Object[a0_0x401cf8(0x528)]['hasOwnProperty'],$r=(_0x4dd039,_0x41512a)=>{for(var _0x2d6e9f in _0x41512a)Ae(_0x4dd039,_0x2d6e9f,{'get':_0x41512a[_0x2d6e9f],'enumerable':!0x0});},Os=(_0x3ddb2d,_0x32366f,_0x288840,_0x1d389b)=>{const _0x26df1c=a0_0x401cf8;if(_0x32366f&&typeof _0x32366f==_0x26df1c(0x618)||typeof _0x32366f==_0x26df1c(0x3d9)){for(let _0x306fbb of xr(_0x32366f))!Pr[_0x26df1c(0x69c)](_0x3ddb2d,_0x306fbb)&&_0x306fbb!==_0x288840&&Ae(_0x3ddb2d,_0x306fbb,{'get':()=>_0x32366f[_0x306fbb],'enumerable':!(_0x1d389b=Dr(_0x32366f,_0x306fbb))||_0x1d389b[_0x26df1c(0x64b)]});}return _0x3ddb2d;},R=(_0x35453c,_0x59eb97,_0x7dcd12)=>(_0x7dcd12=_0x35453c!=null?Ir(_r(_0x35453c)):{},Os(_0x59eb97||!_0x35453c||!_0x35453c['__esModule']?Ae(_0x7dcd12,a0_0x401cf8(0x787),{'value':_0x35453c,'enumerable':!0x0}):_0x7dcd12,_0x35453c)),kr=_0x1360d9=>Os(Ae({},a0_0x401cf8(0x291),{'value':!0x0}),_0x1360d9),Go={};function a0_0x1c0b(_0x4c13e5,_0x1c360f){const _0x5ab0cc=a0_0x5ab0();return a0_0x1c0b=function(_0x1c0bed,_0x288ab3){_0x1c0bed=_0x1c0bed-0x1c8;let _0x3136c3=_0x5ab0cc[_0x1c0bed];return _0x3136c3;},a0_0x1c0b(_0x4c13e5,_0x1c360f);}$r(Go,{'subdomain':()=>Es}),module[a0_0x401cf8(0x362)]=kr(Go);var vr=R(require('compression')),Ds=require('fs'),xs=require(a0_0x401cf8(0x41d)),_s=require(a0_0x401cf8(0x5d3)),Oe=require('path'),se=process['cwd'](),de=(0x0,Oe[a0_0x401cf8(0x6fa)])(se,a0_0x401cf8(0x6ed)),Is=(0x0,Oe[a0_0x401cf8(0x6fa)])(se,a0_0x401cf8(0x72e)),ji=(0x0,Oe[a0_0x401cf8(0x6fa)])(se,a0_0x401cf8(0x3e1),a0_0x401cf8(0x60c)),Ht=class{constructor(){const _0x3d5acc=a0_0x401cf8;this[_0x3d5acc(0x681)]();}[a0_0x401cf8(0x626)](_0x480f4f){return this['env'][_0x480f4f];}[a0_0x401cf8(0x681)](){const _0x57d6cf=a0_0x401cf8;this[_0x57d6cf(0x5f4)]=process[_0x57d6cf(0x5f4)]?.['DOCKER_ENV']!==_0x57d6cf(0x2b9)?this['envYaml']():this[_0x57d6cf(0x5b9)](),process['env']?.[_0x57d6cf(0x39c)]===_0x57d6cf(0x2b9)&&(this[_0x57d6cf(0x5f4)][_0x57d6cf(0x225)][_0x57d6cf(0x1cb)]=_0x57d6cf(0x247),this['env'][_0x57d6cf(0x225)][_0x57d6cf(0x5fc)]=Number[_0x57d6cf(0x7b6)](process['env']?.[_0x57d6cf(0x2ff)]??_0x57d6cf(0x3f3)));}[a0_0x401cf8(0x405)](){const _0x16d385=a0_0x401cf8;return(0x0,xs[_0x16d385(0x481)])((0x0,Ds[_0x16d385(0x5f9)])((0x0,_s['join'])(Is,_0x16d385(0x49a)),{'encoding':_0x16d385(0x307)}));}['envProcess'](){const _0x4549ad=a0_0x401cf8;return{'SERVER':{'TYPE':process['env'][_0x4549ad(0x4d1)],'PORT':Number[_0x4549ad(0x7b6)](process[_0x4549ad(0x5f4)]['SERVER_PORT']),'URL':process[_0x4549ad(0x5f4)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x4549ad(0x5f4)][_0x4549ad(0x80d)][_0x4549ad(0x54f)](','),'METHODS':process[_0x4549ad(0x5f4)][_0x4549ad(0x32d)][_0x4549ad(0x54f)](','),'CREDENTIALS':process['env']?.[_0x4549ad(0x65d)]===_0x4549ad(0x2b9)},'SSL_CONF':{'PRIVKEY':process[_0x4549ad(0x5f4)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x365)]},'STORE':{'CLEANING_INTERVAL':Number[_0x4549ad(0x437)](process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x69f)])?Number[_0x4549ad(0x7b6)](process[_0x4549ad(0x5f4)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0x4549ad(0x2b9),'CONTACTS':process['env']?.[_0x4549ad(0x422)]===_0x4549ad(0x2b9),'CHATS':process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x510)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x6ac)],'PORT':Number['parseInt'](process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x6ac)]),'USER':process[_0x4549ad(0x5f4)][_0x4549ad(0x29e)],'PASSWORD':process[_0x4549ad(0x5f4)][_0x4549ad(0x3c1)],'URI':process[_0x4549ad(0x5f4)][_0x4549ad(0x7ec)],'DB_PREFIX_NAME':process['env'][_0x4549ad(0x3eb)]},'ENABLED':process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x6e7)]==='true'},'REDIS':{'ENABLED':process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x3a1)]===_0x4549ad(0x2b9),'URI':process['env'][_0x4549ad(0x707)]||_0x4549ad(0x54d),'PREFIX_KEY':process[_0x4549ad(0x5f4)]['REDIS_PREFIX_KEY']||'uazapi'},'LOG':{'LEVEL':process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x457)][_0x4549ad(0x54f)](','),'COLOR':process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x202)]===_0x4549ad(0x2b9)},'AUTHENTICATION':{'TYPE':process[_0x4549ad(0x5f4)][_0x4549ad(0x3f9)],'API_KEY':{'KEY':process[_0x4549ad(0x5f4)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x4549ad(0x437)](process[_0x4549ad(0x5f4)]?.[_0x4549ad(0x631)])?Number['parseInt'](process[_0x4549ad(0x5f4)][_0x4549ad(0x631)]):0xe10,'SECRET':process[_0x4549ad(0x5f4)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Ht(),Nr=R(require(a0_0x401cf8(0x1f5))),ue=R(require(a0_0x401cf8(0x5eb))),Rs=require(a0_0x401cf8(0x5d3)),Kt=R(require(a0_0x401cf8(0x328))),Qt=(_0x495a48=>(_0x495a48[a0_0x401cf8(0x6d4)]=a0_0x401cf8(0x349),_0x495a48[a0_0x401cf8(0x5aa)]=a0_0x401cf8(0x699),_0x495a48[a0_0x401cf8(0x399)]=a0_0x401cf8(0x7ed),_0x495a48[a0_0x401cf8(0x64d)]='\x1b[31m',_0x495a48[a0_0x401cf8(0x2a2)]='\x1b[36m',_0x495a48['VERBOSE']=a0_0x401cf8(0x59c),_0x495a48['DARK']=a0_0x401cf8(0x420),_0x495a48))(Qt||{}),Ps=(_0x478254=>(_0x478254[a0_0x401cf8(0x6d4)]=a0_0x401cf8(0x588),_0x478254[a0_0x401cf8(0x421)]=a0_0x401cf8(0x710),_0x478254[a0_0x401cf8(0x5aa)]=a0_0x401cf8(0x1ee),_0x478254[a0_0x401cf8(0x399)]=a0_0x401cf8(0x7ca),_0x478254[a0_0x401cf8(0x64d)]=a0_0x401cf8(0x565),_0x478254[a0_0x401cf8(0x2a2)]='\x1b[36m%s\x1b[0m',_0x478254[a0_0x401cf8(0x59b)]=a0_0x401cf8(0x712),_0x478254))(Ps||{}),$s=(_0x491dfc=>(_0x491dfc[a0_0x401cf8(0x6d4)]=a0_0x401cf8(0x6d4),_0x491dfc[a0_0x401cf8(0x399)]=a0_0x401cf8(0x399),_0x491dfc['INFO']=a0_0x401cf8(0x5aa),_0x491dfc[a0_0x401cf8(0x421)]=a0_0x401cf8(0x421),_0x491dfc[a0_0x401cf8(0x64d)]='ERROR',_0x491dfc[a0_0x401cf8(0x2a2)]=a0_0x401cf8(0x2a2),_0x491dfc['VERBOSE']='VERBOSE',_0x491dfc))($s||{}),ks=(_0x9441a7=>(_0x9441a7[a0_0x401cf8(0x6d4)]=a0_0x401cf8(0x5af),_0x9441a7[a0_0x401cf8(0x5aa)]='\x1b[44m',_0x9441a7[a0_0x401cf8(0x399)]=a0_0x401cf8(0x61e),_0x9441a7[a0_0x401cf8(0x421)]=a0_0x401cf8(0x5b4),_0x9441a7[a0_0x401cf8(0x64d)]=a0_0x401cf8(0x680),_0x9441a7[a0_0x401cf8(0x2a2)]='\x1b[46m',_0x9441a7[a0_0x401cf8(0x59b)]=a0_0x401cf8(0x5f0),_0x9441a7))(ks||{}),v=class{constructor(_0x2cb00e=a0_0x401cf8(0x63b)){const _0x9ef0b7=a0_0x401cf8;this[_0x9ef0b7(0x501)]=_0x2cb00e,this[_0x9ef0b7(0x3e3)]=b;}[a0_0x401cf8(0x658)](_0x36a1e3){this['context']=_0x36a1e3;}['console'](_0x3fed5d,_0x5f0976){const _0x4bf0bd=a0_0x401cf8;let _0x3b43ab=[];this[_0x4bf0bd(0x3e3)][_0x4bf0bd(0x626)](_0x4bf0bd(0x6d4))[_0x4bf0bd(0x638)]['forEach'](_0x4534fc=>_0x3b43ab['push']($s[_0x4534fc]));let _0x48fba8=typeof _0x3fed5d;_0x3b43ab['includes'](_0x5f0976)&&(b[_0x4bf0bd(0x626)]('LOG')[_0x4bf0bd(0x267)]?(console[_0x4bf0bd(0x743)](_0x4bf0bd(0x278)+Ps[_0x5f0976],_0x4bf0bd(0x378),(0x0,Kt[_0x4bf0bd(0x787)])()['format']('DD/MM\x20HH:mm:ss'),'\x1b[0m',Qt[_0x5f0976]+ks[_0x5f0976]+'\x1b[1m',_0x5f0976+_0x4bf0bd(0x76e),_0x4bf0bd(0x78f),this[_0x4bf0bd(0x501)]+_0x4bf0bd(0x72d),Qt[_0x5f0976],_0x48fba8!==_0x4bf0bd(0x618)?_0x3fed5d:'','\x1b[0m'),_0x48fba8===_0x4bf0bd(0x618)&&console[_0x4bf0bd(0x743)](_0x3fed5d,'\x0a')):console[_0x4bf0bd(0x743)]((0x0,Kt['default'])()[_0x4bf0bd(0x656)](_0x4bf0bd(0x77a)),_0x5f0976+'\x20',''+this['context'],_0x3fed5d));}[a0_0x401cf8(0x743)](_0x3b2afc){const _0x6012fa=a0_0x401cf8;this['console'](_0x3b2afc,_0x6012fa(0x6d4));}[a0_0x401cf8(0x3ee)](_0x3e2bb8){const _0x1f60d2=a0_0x401cf8;this[_0x1f60d2(0x43e)](_0x3e2bb8,_0x1f60d2(0x5aa));}[a0_0x401cf8(0x62b)](_0x27ce41){const _0x1f31f8=a0_0x401cf8;this[_0x1f31f8(0x43e)](_0x27ce41,_0x1f31f8(0x399));}[a0_0x401cf8(0x654)](_0x13f3da){const _0x333dbf=a0_0x401cf8;this[_0x333dbf(0x43e)](_0x13f3da,'ERROR');}[a0_0x401cf8(0x2fa)](_0x4b5cfa){const _0x2a8049=a0_0x401cf8;this[_0x2a8049(0x43e)](_0x4b5cfa,'VERBOSE');}['debug'](_0x3e986b){const _0x3b144d=a0_0x401cf8;this['console'](_0x3e986b,_0x3b144d(0x2a2));}[a0_0x401cf8(0x744)](_0x4600c9){const _0x21da15=a0_0x401cf8;this['console'](_0x4600c9,_0x21da15(0x421));}};function Ls(){process['on']('uncaughtException',(_0x4f3be9,_0x21035f)=>{const _0x3f7702=a0_0x1c0b;new v(_0x3f7702(0x5db))[_0x3f7702(0x654)]({'origin':_0x21035f,'stderr':process[_0x3f7702(0x331)]['fd'],'error':_0x4f3be9});}),process['on']('unhandledRejection',(_0x327bb7,_0x3e9bea)=>{const _0x49530e=a0_0x1c0b;new v(_0x49530e(0x7ba))[_0x49530e(0x654)]({'origin':_0x3e9bea,'stderr':process['stderr']['fd'],'error':_0x327bb7});});}var Fs=R(require(a0_0x401cf8(0x30a))),Yt=new Fs[(a0_0x401cf8(0x787))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ie=require(a0_0x401cf8(0x557)),Xt=R(require('mongoose')),Lr=new v(a0_0x401cf8(0x20f)),q=b[a0_0x401cf8(0x626)]('DATABASE'),N=q['ENABLED']?q['CONNECTION']['URI']?Xt[a0_0x401cf8(0x787)][a0_0x401cf8(0x52e)](q[a0_0x401cf8(0x367)]['URI'],{'dbName':q[a0_0x401cf8(0x367)][a0_0x401cf8(0x6e9)]+a0_0x401cf8(0x43d)}):Xt[a0_0x401cf8(0x787)][a0_0x401cf8(0x52e)]('mongodb://'+q['CONNECTION']['HOST']+':'+q[a0_0x401cf8(0x367)][a0_0x401cf8(0x5fc)]+a0_0x401cf8(0x7d4),{'user':q[a0_0x401cf8(0x367)][a0_0x401cf8(0x6f0)],'pass':q[a0_0x401cf8(0x367)][a0_0x401cf8(0x2f1)],'dbName':q[a0_0x401cf8(0x367)][a0_0x401cf8(0x6e9)]+'-whatsapp-api'}):null;q[a0_0x401cf8(0x516)]&&Lr['info'](a0_0x401cf8(0x430)+N[a0_0x401cf8(0x731)]);var Fr=new Ie['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),Ur=new Ie[(a0_0x401cf8(0x2df))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Fr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Jr=new Ie[(a0_0x401cf8(0x2df))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ur,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),Us=_0x57d63c=>{const _0x3ae0dc=a0_0x401cf8;let _0x4a727a='z_'+_0x57d63c+_0x3ae0dc(0x44d);return N?.[_0x3ae0dc(0x4c1)](_0x3ae0dc(0x486),Jr,_0x4a727a);},Js=require('mongoose'),jr=new Js['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),js=_0x4e52d0=>{const _0x47c4fb=a0_0x401cf8;let _0x67221d='z_'+_0x4e52d0+_0x47c4fb(0x20e);return N?.[_0x47c4fb(0x4c1)]('ContactModel',jr,_0x67221d);},qs=require(a0_0x401cf8(0x557)),qr=new qs[(a0_0x401cf8(0x2df))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android','web','ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Vs=_0x578541=>{const _0x5d1ab4=a0_0x401cf8;let _0x4809ce='z_'+_0x578541+_0x5d1ab4(0x3b7);return N?.['model'](_0x5d1ab4(0x329),qr,_0x4809ce);},Bs=require(a0_0x401cf8(0x557)),Zt=class{},Vr=new Bs[(a0_0x401cf8(0x2df))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),Gs=N?.[a0_0x401cf8(0x4c1)](Zt[a0_0x401cf8(0x5f2)],Vr,a0_0x401cf8(0x215)),Ws=require('mongoose'),es=class{},zs=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});zs[a0_0x401cf8(0x5c7)](a0_0x401cf8(0x4f5),function(_0x736a4d){const _0x4958e0=a0_0x401cf8;delete this[_0x4958e0(0x6ce)],delete this[_0x4958e0(0x4c8)],delete this[_0x4958e0(0x77e)],delete this['flowStopConversation'],delete this[_0x4958e0(0x258)],_0x736a4d();});var Hs=N?.[a0_0x401cf8(0x4c1)](es[a0_0x401cf8(0x5f2)],zs,a0_0x401cf8(0x6f1)),x=require(a0_0x401cf8(0x557)),De=class{},Ks=new x[(a0_0x401cf8(0x2df))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ts=new x[(a0_0x401cf8(0x2df))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Br=new x['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x401cf8(0x4b9)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x401cf8(0x6fd)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Qs=new x[(a0_0x401cf8(0x2df))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Gr=new x['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Wr=new x[(a0_0x401cf8(0x2df))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ys=new x[(a0_0x401cf8(0x2df))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Br},'apirequest':Gr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),is=new x[(a0_0x401cf8(0x2df))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Xs=new x['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ss=class{},ns=new x[(a0_0x401cf8(0x2df))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x31f9aa=a0_0x401cf8;return'!cmd_'+Math[_0x31f9aa(0x2b3)]()[_0x31f9aa(0x596)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[is],'variablesNotFound':{'type':[String]},'blocks':[Ys],'groups':[Ks],'conditions':[Qs],'varedits':[Xs],'replyOptions':{'type':[ts],'default':[]}});ns[a0_0x401cf8(0x5c7)](a0_0x401cf8(0x4f5),function(_0x56d285){const _0x17121d=a0_0x401cf8;let _0x4294a8=new Set(),_0x64a0ed=new Set(this[_0x17121d(0x2c8)]?.[_0x17121d(0x515)](_0x380656=>_0x380656[_0x17121d(0x5f2)])),_0xbbddfb=JSON[_0x17121d(0x75b)](this),_0x4185a6=/{{(?!_)([^}]*)}}/g,_0x4712d5;for(;(_0x4712d5=_0x4185a6['exec'](_0xbbddfb))!==null;)_0x64a0ed[_0x17121d(0x1d4)](_0x4712d5[0x1])||_0x4294a8[_0x17121d(0x212)](_0x4712d5[0x1]);_0x4294a8['size']>0x0?(console['warn'](_0x17121d(0x30e),Array[_0x17121d(0x525)](_0x4294a8)),this[_0x17121d(0x61d)]=Array[_0x17121d(0x525)](_0x4294a8)):this[_0x17121d(0x61d)]=[],_0x56d285();});var Zs=_0x5543c5=>{const _0x19c2ac=a0_0x401cf8;let _0x58e28c='z_'+_0x5543c5+_0x19c2ac(0x621);return N?.[_0x19c2ac(0x4c1)](_0x19c2ac(0x26e),ns,_0x58e28c);},ea=N?.[a0_0x401cf8(0x4c1)](ss[a0_0x401cf8(0x5f2)],ns,a0_0x401cf8(0x2aa)),zr=new x['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[is],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Wr]},{'_id':!0x1}),as=class{},ta=new x[(a0_0x401cf8(0x2df))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[is],'blocks':[Ys],'groups':[Ks],'conditions':[Qs],'varedits':[Xs],'replyOptions':{'type':[ts],'default':[]},'chatLog':zr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x401cf8(0x5a0)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x401cf8(0x57a)},'waitingMenu_replyOptions':{'type':[ts],'default':[]}}),sa=_0xf10cd9=>{const _0x480edc=a0_0x401cf8;let _0x1e4c2e='z_'+_0xf10cd9+_0x480edc(0x42f);return N?.[_0x480edc(0x4c1)](_0x480edc(0x5dd),ta,_0x1e4c2e);},aa=N?.['model'](as[a0_0x401cf8(0x5f2)],ta,a0_0x401cf8(0x242)),rs=class{},Hr=new x[(a0_0x401cf8(0x2df))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Kr=new x[(a0_0x401cf8(0x2df))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ra=new x[(a0_0x401cf8(0x2df))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x401cf8(0x6bc)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Kr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Hr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),oa=_0x3f187c=>{const _0x4fdcb4=a0_0x401cf8;let _0x108689='z_'+_0x3f187c+_0x4fdcb4(0x6db);return N?.[_0x4fdcb4(0x4c1)](_0x4fdcb4(0x330),ra,_0x108689);},ia=N?.[a0_0x401cf8(0x4c1)](rs[a0_0x401cf8(0x5f2)],ra,a0_0x401cf8(0x5ac)),os=class{},Qr=new x['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Yr=new x['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x401cf8(0x3c6)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),Xr=new x[(a0_0x401cf8(0x2df))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Zr=new x[(a0_0x401cf8(0x2df))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Xr]},'customFields':{'type':[Qr]},'flowConfig':{'type':Yr,'default':{}}}),xe=N?.[a0_0x401cf8(0x4c1)](os['name'],Zr,a0_0x401cf8(0x78c)),na=require(a0_0x401cf8(0x557)),eo=new na['Schema']({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ca=_0x490da7=>{const _0x3127f2=a0_0x401cf8;let _0xabaf4a='z_'+_0x490da7+'_Labels';return N?.[_0x3127f2(0x4c1)](_0x3127f2(0x7d6),eo,_0xabaf4a);},I=class{constructor(_0x2d27dd){const _0x53e1d3=a0_0x401cf8;this['dbSettings']=_0x2d27dd[_0x53e1d3(0x626)]('DATABASE');}};function T(_0x267ddf){const _0x591735=a0_0x401cf8;let _0x1c6fa5={};for(let [_0xc79a37,_0x5c7bdd]of Object['entries'](_0x267ddf))if(typeof _0x5c7bdd=='object'&&!Array[_0x591735(0x2f0)](_0x5c7bdd)){for(let [_0x501a0e,_0x57a7d4]of Object[_0x591735(0x34c)](_0x5c7bdd))_0x1c6fa5[_0xc79a37+'.'+_0x501a0e]=_0x57a7d4;}else _0x1c6fa5[_0xc79a37]=_0x5c7bdd;return _0x1c6fa5;}var _e=class{constructor(_0x5aba1e,_0x1ded25,_0x46e7bc,_0x4220ea,_0x2506f5,_0x387750,_0x87c406,_0x395c01,_0x21d568,_0x461a26,_0x1b7b13){const _0x1cca46=a0_0x401cf8;this[_0x1cca46(0x295)]=_0x5aba1e,this['chat']=_0x1ded25,this['contact']=_0x46e7bc,this['webhook']=_0x4220ea,this[_0x1cca46(0x60c)]=_0x2506f5,this[_0x1cca46(0x2aa)]=_0x387750,this['flowConversation']=_0x87c406,this[_0x1cca46(0x456)]=_0x395c01,this[_0x1cca46(0x747)]=_0x21d568,this[_0x1cca46(0x4a5)]=_0x461a26,this[_0x1cca46(0x77b)]=_0x1b7b13;}get['dbServer'](){const _0x26117e=a0_0x401cf8;return this[_0x26117e(0x77b)];}},Pe=class{},$e=class extends I{[a0_0x401cf8(0x3fe)](_0x39336e){return Vs(_0x39336e);}async[a0_0x401cf8(0x5a4)](_0x270ab8,_0x352e85){const _0x1a31a6=a0_0x401cf8;if(_0x270ab8['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1a31a6(0x3fe)](_0x352e85)['insertMany']([..._0x270ab8]))[_0x1a31a6(0x24f)]};}catch(_0x1cccee){return console[_0x1a31a6(0x743)](_0x1a31a6(0x348),_0x1cccee),_0x1cccee;}}async[a0_0x401cf8(0x7d2)](_0x56f8a7,_0x305c2d){const _0xcedad1=a0_0x401cf8;try{let _0x82d699=this[_0xcedad1(0x3fe)](_0x305c2d),_0x3efa06=T(_0x56f8a7['where']);return await _0x82d699[_0xcedad1(0x7d2)](_0x3efa06)['sort']({'messageTimestamp':-0x1})[_0xcedad1(0x6c7)](_0x56f8a7?.[_0xcedad1(0x6c7)]??0x0)[_0xcedad1(0x366)]();}catch{return[];}}async['delete'](_0x523f7e,_0x3cc140){const _0x425ffd=a0_0x401cf8;try{let _0x2881e7=this[_0x425ffd(0x3fe)](_0x3cc140),_0x126d24=T(_0x523f7e[_0x425ffd(0x620)]);await _0x2881e7[_0x425ffd(0x28f)](_0x126d24);}catch(_0x501438){console[_0x425ffd(0x654)](_0x501438);}}async[a0_0x401cf8(0x4b1)](_0x51f3b7,_0x5cd119,_0x232e0e){const _0x4a373c=a0_0x401cf8;try{let _0x519300=this[_0x4a373c(0x3fe)](_0x232e0e),_0x48a931=T(_0x51f3b7[_0x4a373c(0x620)]);return await _0x519300[_0x4a373c(0x1c9)](_0x48a931,{'$set':_0x5cd119},{'new':!0x0});}catch(_0x238c2f){throw console['error'](_0x238c2f),_0x238c2f;}}async['insertMany'](_0x20c519,_0x145390){const _0x444275=a0_0x401cf8;if(_0x20c519[_0x444275(0x24f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x145390)['insertMany']([..._0x20c519]))[_0x444275(0x24f)]};}catch(_0xe8e452){return console['log'](_0x444275(0x348),_0xe8e452),_0xe8e452;}}async[a0_0x401cf8(0x1d3)](_0x5c7bcc){const _0x4e944d=a0_0x401cf8;try{return await this['getMessageModelForOwner'](_0x5c7bcc)[_0x4e944d(0x230)][_0x4e944d(0x3d6)](),{'success':!0x0};}catch(_0x3697c2){return console[_0x4e944d(0x654)](_0x3697c2),{'success':!0x1,'error':_0x3697c2};}}},pr=R(require(a0_0x401cf8(0x412))),w=R(require('@whiskeysockets/baileys')),Ee=require('fs'),P=R(require(a0_0x401cf8(0x5d3))),te=R(require(a0_0x401cf8(0x62e))),gr=require(a0_0x401cf8(0x749)),hr=R(require(a0_0x401cf8(0x6f2))),mr=R(require(a0_0x401cf8(0x7a3))),la=[a0_0x401cf8(0x414),'documentMessage',a0_0x401cf8(0x488),a0_0x401cf8(0x599),'stickerMessage'],ua=[a0_0x401cf8(0x79e),a0_0x401cf8(0x7e4),a0_0x401cf8(0x4e9),'viewOnceMessageV2'],ys=require('os'),Rt=R(require(a0_0x401cf8(0x31c))),Ot=require('child_process'),Tt=require(a0_0x401cf8(0x1fc)),ie=R(require('mongoose')),$=require(a0_0x401cf8(0x4c6)),pe=class{constructor(_0x16dcd8,_0x1322c5,_0x1fcf34){const _0x4328d8=a0_0x401cf8;this[_0x4328d8(0x700)]=_0x16dcd8,this['exists']=_0x1322c5,this[_0x4328d8(0x5f2)]=_0x1fcf34;}},ke=class{},Le=class{},ye=class{},Fe=class{},Ue=class{},ge=class{},Je=class{},je=class{},qe=class{},Ve=class{},Et=R(require(a0_0x401cf8(0x5eb))),da=require('fs'),pa=require('path');async function Be(_0x1a5125){const _0x533b1d=a0_0x401cf8;let _0x1f7faa=V[_0x533b1d(0x5c2)][_0x1a5125];if(q[_0x533b1d(0x516)]){let _0x397583=N[_0x533b1d(0x7f9)]()['db'](q['CONNECTION']['DB_PREFIX_NAME']+_0x533b1d(0x7c9))[_0x533b1d(0x230)](_0x1a5125);return _0x1f7faa||(await _0x397583[_0x533b1d(0x7d2)]({})['toArray']())[_0x533b1d(0x24f)]>0x0;}return _0x1f7faa||(0x0,da[_0x533b1d(0x33a)])((0x0,pa['join'])(de,_0x1a5125));}async function ga(_0x114370,_0x20d129,_0x3342f3){const _0x2541e5=a0_0x401cf8;if(_0x114370[_0x2541e5(0x1d9)]['includes']('/instance/create')||_0x114370[_0x2541e5(0x1d9)][_0x2541e5(0x23b)](_0x2541e5(0x5e6))||_0x114370[_0x2541e5(0x1d9)]['includes']('/exit')||_0x114370[_0x2541e5(0x1d9)][_0x2541e5(0x23b)](_0x2541e5(0x371))||_0x114370[_0x2541e5(0x1d9)][_0x2541e5(0x23b)](_0x2541e5(0x7df))||_0x114370[_0x2541e5(0x1d9)]['includes']('/instance/connectionState')||_0x114370['originalUrl'][_0x2541e5(0x23b)]('/instance/delete'))return _0x3342f3();let _0x4ddc19=_0x114370[_0x2541e5(0x2bd)];if(!_0x4ddc19?.[_0x2541e5(0x6a3)])throw new h(_0x2541e5(0x221));if(!await Be(_0x4ddc19['instanceName']))throw new L('The\x20'+_0x4ddc19[_0x2541e5(0x6a3)]+'\x20instance\x20does\x20not\x20exist');_0x3342f3();}async function ha(_0x375552,_0x2c44c5,_0xaeac1b){const _0x1d66c0=a0_0x401cf8;if(_0x375552[_0x1d66c0(0x1d9)][_0x1d66c0(0x23b)](_0x1d66c0(0x33b))){let _0x56a8f9=_0x375552[_0x1d66c0(0x40b)];if(await Be(_0x56a8f9[_0x1d66c0(0x6a3)]))throw new H(_0x1d66c0(0x51b)+_0x56a8f9[_0x1d66c0(0x6a3)]+_0x1d66c0(0x722));V[_0x1d66c0(0x5c2)][_0x56a8f9[_0x1d66c0(0x6a3)]]&&delete V['waInstances'][_0x56a8f9[_0x1d66c0(0x6a3)]];}_0xaeac1b();}var ma=require(a0_0x401cf8(0x4c6)),fa=R(require(a0_0x401cf8(0x237))),Ge=a0_0x401cf8(0x1d7),so=new v(a0_0x401cf8(0x499));async function ao(_0x4570a6,_0x68d0d,_0x1201d9){const _0x14af6c=a0_0x401cf8;let _0x366320=_0x4570a6[_0x14af6c(0x626)](_0x14af6c(0x688));if(_0x366320&&b['get'](_0x14af6c(0x469))[_0x14af6c(0x746)][_0x14af6c(0x1d0)]!==_0x366320)throw new Z();if(b['get'](_0x14af6c(0x469))[_0x14af6c(0x746)][_0x14af6c(0x1d0)]===_0x366320)return _0x1201d9();if((_0x4570a6[_0x14af6c(0x1d9)][_0x14af6c(0x23b)]('/instance/create')||_0x4570a6[_0x14af6c(0x1d9)][_0x14af6c(0x23b)](_0x14af6c(0x5e6)))&&!_0x366320)throw new H(_0x14af6c(0x6b8),_0x14af6c(0x4fd));let _0x2c6ab1=b[_0x14af6c(0x626)](_0x14af6c(0x469))[_0x14af6c(0x2a6)];try{let [_0x44a265,_0x4b68c5]=_0x4570a6[_0x14af6c(0x626)](_0x14af6c(0x60b))[_0x14af6c(0x54f)]('\x20');if(_0x44a265[_0x14af6c(0x6cd)]()!==_0x14af6c(0x250))throw new Z();if(!(0x0,ma[_0x14af6c(0x4d7)])(_0x4b68c5))throw new Z();let _0x4ca607=_0x4570a6['params'],_0x51b3f9=fa['default'][_0x14af6c(0x4e0)](_0x4b68c5,_0x2c6ab1[_0x14af6c(0x2c1)],{'ignoreExpiration':_0x2c6ab1[_0x14af6c(0x59d)]===0x0});if(_0x4ca607[_0x14af6c(0x6a3)]!==_0x51b3f9[_0x14af6c(0x6a3)]||Ge!==_0x51b3f9[_0x14af6c(0x41c)])throw new Z();return _0x1201d9();}catch(_0x433edf){throw so[_0x14af6c(0x654)](_0x433edf),new Z();}}async function ro(_0x4bfbd0,_0x1244a8,_0x2f4bb9){const _0x5ea0d2=a0_0x401cf8;let _0x42d259=b[_0x5ea0d2(0x626)]('AUTHENTICATION')[_0x5ea0d2(0x746)],_0x175d5b=_0x4bfbd0['get'](_0x5ea0d2(0x688));if(_0x42d259[_0x5ea0d2(0x1d0)]===_0x175d5b)return _0x2f4bb9();if(_0x4bfbd0[_0x5ea0d2(0x1d9)][_0x5ea0d2(0x23b)](_0x5ea0d2(0x33b))){let _0x2b7ab6=We,_0x4f9129=_0x4bfbd0[_0x5ea0d2(0x40b)][_0x5ea0d2(0x6a3)];if(_0x2b7ab6&&_0x4f9129[_0x5ea0d2(0x6cd)]()[_0x5ea0d2(0x595)](_0x2b7ab6[_0x5ea0d2(0x6cd)]()))return _0x2f4bb9();if(!_0x175d5b)throw new H('Missing\x20global\x20api\x20key',_0x5ea0d2(0x4fd));}if(_0x4bfbd0[_0x5ea0d2(0x1d9)]['includes'](_0x5ea0d2(0x5e6))&&!_0x175d5b)throw new H(_0x5ea0d2(0x6b8),_0x5ea0d2(0x4fd));if(_0x4bfbd0[_0x5ea0d2(0x1d9)][_0x5ea0d2(0x23b)](_0x5ea0d2(0x7e7))&&!_0x175d5b)throw new H(_0x5ea0d2(0x6b8),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4bfbd0[_0x5ea0d2(0x1d9)][_0x5ea0d2(0x23b)](_0x5ea0d2(0x371))&&!_0x175d5b)throw new H(_0x5ea0d2(0x6b8),_0x5ea0d2(0x4fd));try{let _0x41dbdf=_0x4bfbd0[_0x5ea0d2(0x2bd)];if((await ne[_0x5ea0d2(0x60c)][_0x5ea0d2(0x7d2)](_0x41dbdf[_0x5ea0d2(0x6a3)]))['apikey']===_0x175d5b)return _0x2f4bb9();}catch{}throw new Z();}var ya={'jwt':ao,'apikey':ro},Ya=require(a0_0x401cf8(0x5eb)),C=require(a0_0x401cf8(0x749)),E=(..._0x530497)=>{const _0x1a9496=a0_0x401cf8;let _0x3612fa={};return _0x530497[_0x1a9496(0x306)](_0x79e662=>_0x3612fa[_0x79e662]={'minLength':0x1,'description':_0x1a9496(0x70f)+_0x79e662+_0x1a9496(0x380)}),{'if':{'propertyNames':{'enum':[..._0x530497]}},'then':{'properties':_0x3612fa}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'instanceName':{'type':a0_0x401cf8(0x219)}},...E(a0_0x401cf8(0x6a3))},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'oldToken':{'type':a0_0x401cf8(0x219)}},'required':[a0_0x401cf8(0x287)],...E('oldToken')},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x401cf8(0x219)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x401cf8(0x6e5),'fromMe'],...E('id',a0_0x401cf8(0x6e5))},'message':{'type':a0_0x401cf8(0x618)}}},K={'properties':{'delay':{'type':a0_0x401cf8(0x3b1),'description':a0_0x401cf8(0x739)},'presence':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x3ba),a0_0x401cf8(0x32a),a0_0x401cf8(0x689),a0_0x401cf8(0x6e8),a0_0x401cf8(0x6d5)]}}},W={'type':'string','pattern':a0_0x401cf8(0x4f6),'description':a0_0x401cf8(0x788)},wa={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x401cf8(0x618),'properties':{'text':{'type':a0_0x401cf8(0x219)}},'required':['text'],...E('text')}},'required':['textMessage','number']},ba={'type':a0_0x401cf8(0x219),'pattern':a0_0x401cf8(0x373),'description':a0_0x401cf8(0x788)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...ba},'options':{...K},'textMessage':{'type':a0_0x401cf8(0x618),'properties':{'text':{'type':a0_0x401cf8(0x219)}},'required':[a0_0x401cf8(0x3e6)],...E(a0_0x401cf8(0x3e6))}},'required':[a0_0x401cf8(0x32c),a0_0x401cf8(0x534)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...ba},'options':{...K},'mediaMessage':{'type':a0_0x401cf8(0x618),'properties':{'mediatype':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x2b6),'document',a0_0x401cf8(0x447),a0_0x401cf8(0x35f)]},'media':{'type':a0_0x401cf8(0x219)},'fileName':{'type':a0_0x401cf8(0x219)},'caption':{'type':'string'}},'required':[a0_0x401cf8(0x6ee),a0_0x401cf8(0x3de)],...E('fileName','caption','media')}},'required':[a0_0x401cf8(0x3ac),a0_0x401cf8(0x534)]},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x401cf8(0x618),'properties':{'image':{'type':a0_0x401cf8(0x219)}},'required':[a0_0x401cf8(0x2b6)],...E(a0_0x401cf8(0x2b6))}},'required':['stickerMessage',a0_0x401cf8(0x534)]},Ea={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'statusMessage':{'type':a0_0x401cf8(0x618),'properties':{'type':{'type':'string','enum':[a0_0x401cf8(0x3e6),'image',a0_0x401cf8(0x35f),a0_0x401cf8(0x447)]},'content':{'type':'string'},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x401cf8(0x219)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x401cf8(0x219),'pattern':a0_0x401cf8(0x261),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]}},'required':[a0_0x401cf8(0x6ef),'content'],...E('type',a0_0x401cf8(0x69b))}},'required':[a0_0x401cf8(0x4ae)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x401cf8(0x618),'properties':{'mediatype':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x2b6),a0_0x401cf8(0x5f6),'video',a0_0x401cf8(0x35f)]},'media':{'type':a0_0x401cf8(0x219)},'fileName':{'type':a0_0x401cf8(0x219)},'caption':{'type':'string'}},'required':[a0_0x401cf8(0x6ee),a0_0x401cf8(0x3de)],...E(a0_0x401cf8(0x72f),a0_0x401cf8(0x53f),a0_0x401cf8(0x3de))}},'required':[a0_0x401cf8(0x3ac),'number']},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x401cf8(0x219)}},'required':[a0_0x401cf8(0x35f)],...E('audio')}},'required':[a0_0x401cf8(0x488),a0_0x401cf8(0x534)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'pollMessage':{'type':a0_0x401cf8(0x618),'properties':{'name':{'type':a0_0x401cf8(0x219)},'selectableCount':{'type':a0_0x401cf8(0x534)},'values':{'type':a0_0x401cf8(0x205),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x401cf8(0x5f2),a0_0x401cf8(0x6f5),'values'],...E(a0_0x401cf8(0x5f2),a0_0x401cf8(0x6f5),'values')}},'required':[a0_0x401cf8(0x534),a0_0x401cf8(0x42d)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'menuMessage':{'type':a0_0x401cf8(0x618),'properties':{'text':{'type':a0_0x401cf8(0x219)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x401cf8(0x3e6),a0_0x401cf8(0x47a)],...E('text','choices')}},'required':[a0_0x401cf8(0x534),a0_0x401cf8(0x6e4)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x401cf8(0x219)},'description':{'type':a0_0x401cf8(0x219)},'footerText':{'type':'string'},'buttons':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x401cf8(0x618),'properties':{'buttonText':{'type':a0_0x401cf8(0x219)},'buttonId':{'type':a0_0x401cf8(0x219)}},'required':['buttonText',a0_0x401cf8(0x2e6)],...E(a0_0x401cf8(0x390),a0_0x401cf8(0x2e6))}},'mediaMessage':{'type':a0_0x401cf8(0x618),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x401cf8(0x219)},'mediatype':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x2b6),a0_0x401cf8(0x5f6),'video']}},'required':[a0_0x401cf8(0x3de),a0_0x401cf8(0x6ee)],...E('media',a0_0x401cf8(0x72f))}},'required':[a0_0x401cf8(0x765),a0_0x401cf8(0x3ea)],...E(a0_0x401cf8(0x765),a0_0x401cf8(0x789))}},'required':[a0_0x401cf8(0x534),a0_0x401cf8(0x27f)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x401cf8(0x618),'properties':{'latitude':{'type':a0_0x401cf8(0x534)},'longitude':{'type':a0_0x401cf8(0x534)},'name':{'type':a0_0x401cf8(0x219)},'address':{'type':'string'}},'required':['latitude','longitude'],...E(a0_0x401cf8(0x5f2),'addresss')}},'required':['number','locationMessage']},Aa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x401cf8(0x618),'properties':{'title':{'type':a0_0x401cf8(0x219)},'description':{'type':a0_0x401cf8(0x219)},'footerText':{'type':a0_0x401cf8(0x219)},'buttonText':{'type':a0_0x401cf8(0x219)},'sections':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x401cf8(0x618),'properties':{'title':{'type':a0_0x401cf8(0x219)},'rows':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x401cf8(0x618),'properties':{'title':{'type':a0_0x401cf8(0x219)},'description':{'type':a0_0x401cf8(0x219)},'rowId':{'type':'string'}},'required':['title',a0_0x401cf8(0x495)],...E(a0_0x401cf8(0x765),a0_0x401cf8(0x495))}}},'required':['title','rows'],...E(a0_0x401cf8(0x765))}}},'required':[a0_0x401cf8(0x765),a0_0x401cf8(0x789),a0_0x401cf8(0x390),a0_0x401cf8(0x4c3)],...E(a0_0x401cf8(0x765),a0_0x401cf8(0x789),a0_0x401cf8(0x390),a0_0x401cf8(0x55a))}},'required':['number',a0_0x401cf8(0x7c5)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x401cf8(0x205),'items':{'type':a0_0x401cf8(0x618),'properties':{'fullName':{'type':a0_0x401cf8(0x219)},'phoneNumber':{'type':a0_0x401cf8(0x219),'minLength':0xa}},'required':[a0_0x401cf8(0x65a),'phoneNumber'],...E(a0_0x401cf8(0x65a))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x401cf8(0x534),a0_0x401cf8(0x47b)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'reactionMessage':{'type':a0_0x401cf8(0x618),'properties':{'key':{'type':a0_0x401cf8(0x618),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x401cf8(0x219)},'fromMe':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x401cf8(0x797)],...E('id',a0_0x401cf8(0x6e5))},'reaction':{'type':a0_0x401cf8(0x219)}},'required':[a0_0x401cf8(0x7e9),a0_0x401cf8(0x735)],...E(a0_0x401cf8(0x735))}},'required':[a0_0x401cf8(0x3c5)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'numbers':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x401cf8(0x1e9)}}}},xa={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'readMessages':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x401cf8(0x219)}},'required':['id',a0_0x401cf8(0x797),a0_0x401cf8(0x6e5)],...E('id',a0_0x401cf8(0x6e5))}}},'required':['readMessages']},_a={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'privacySettings':{'type':a0_0x401cf8(0x618),'properties':{'readreceipts':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x7dd),a0_0x401cf8(0x761)]},'profile':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x7dd),a0_0x401cf8(0x396),a0_0x401cf8(0x2f8),a0_0x401cf8(0x761)]},'status':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x7dd),'contacts',a0_0x401cf8(0x2f8),'none']},'online':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x7dd),a0_0x401cf8(0x2e8)]},'last':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x7dd),a0_0x401cf8(0x396),a0_0x401cf8(0x2f8),a0_0x401cf8(0x761)]},'groupadd':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x7dd),a0_0x401cf8(0x396),a0_0x401cf8(0x2f8),'none']}},'required':[a0_0x401cf8(0x2c7),a0_0x401cf8(0x690),a0_0x401cf8(0x776),a0_0x401cf8(0x423),'last',a0_0x401cf8(0x560)],...E(a0_0x401cf8(0x2c7),'profile',a0_0x401cf8(0x776),'online','last',a0_0x401cf8(0x560))}},'required':[a0_0x401cf8(0x804)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x401cf8(0x618),'properties':{'id':{'type':a0_0x401cf8(0x219)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]}},'required':['id',a0_0x401cf8(0x797),a0_0x401cf8(0x6e5)],...E('id',a0_0x401cf8(0x6e5))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x401cf8(0x7e9)],...E('messageTimestamp')},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x401cf8(0x2a9),a0_0x401cf8(0x402)]},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x401cf8(0x219)},'fromMe':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x401cf8(0x219)}},'required':['id','fromMe',a0_0x401cf8(0x6e5)],...E('id',a0_0x401cf8(0x6e5),a0_0x401cf8(0x77d))},ka={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'where':{'type':a0_0x401cf8(0x618),'properties':{'_id':{'type':a0_0x401cf8(0x219),'minLength':0x1},'pushName':{'type':a0_0x401cf8(0x219),'minLength':0x1},'id':{'type':a0_0x401cf8(0x219),'minLength':0x1}},...E(a0_0x401cf8(0x1ce),'id',a0_0x401cf8(0x6ad))}}},La={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'name':{'type':'string'}},...E(a0_0x401cf8(0x5f2))},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'status':{'type':a0_0x401cf8(0x219)}},...E('status')},we={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{'type':a0_0x401cf8(0x219)},'picture':{'type':a0_0x401cf8(0x219)}}},Ua={'type':a0_0x401cf8(0x618),'properties':{'wuid':{'type':a0_0x401cf8(0x219)},'name':{'type':a0_0x401cf8(0x219)},'picture':{'type':a0_0x401cf8(0x219)},'status':{'type':'string'},'isBusiness':{'type':a0_0x401cf8(0x3bf)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'where':{'type':a0_0x401cf8(0x618),'properties':{'_id':{'type':a0_0x401cf8(0x219),'minLength':0x1},'key':{'type':a0_0x401cf8(0x618),'if':{'propertyNames':{'enum':[a0_0x401cf8(0x797),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x401cf8(0x219),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x401cf8(0x219),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x401cf8(0x1ce))},'limit':{'type':a0_0x401cf8(0x3b1)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'where':{'type':a0_0x401cf8(0x618),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x401cf8(0x219)},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x401cf8(0x219)},'status':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x64d),a0_0x401cf8(0x2cd),a0_0x401cf8(0x80b),a0_0x401cf8(0x200),'READ',a0_0x401cf8(0x71d)]}},...E(a0_0x401cf8(0x1ce),a0_0x401cf8(0x6e5),'id','status')},'limit':{'type':a0_0x401cf8(0x3b1)}}},ja={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'number':{...W},'presence':{'type':'string','enum':[a0_0x401cf8(0x3ba),a0_0x401cf8(0x32a),a0_0x401cf8(0x689),'recording',a0_0x401cf8(0x6d5)]}},'required':['presence',a0_0x401cf8(0x534)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'subject':{'type':a0_0x401cf8(0x219)},'description':{'type':a0_0x401cf8(0x219)},'profilePicture':{'type':a0_0x401cf8(0x219)},'participants':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x401cf8(0x219),'minLength':0xa,'pattern':a0_0x401cf8(0x615),'description':a0_0x401cf8(0x25f)}}},'required':['subject',a0_0x401cf8(0x3c8)],...E(a0_0x401cf8(0x745),a0_0x401cf8(0x789),a0_0x401cf8(0x313))},be={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'groupJid':{'type':a0_0x401cf8(0x219),'pattern':a0_0x401cf8(0x388)}},'required':['groupJid'],...E('groupJid')},Va={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x401cf8(0x212),a0_0x401cf8(0x3b6),a0_0x401cf8(0x509),'demote']},'participants':{'type':a0_0x401cf8(0x205),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x401cf8(0x615),'description':a0_0x401cf8(0x25f)}}},'required':[a0_0x401cf8(0x3c0),'action','participants'],...E('groupJid',a0_0x401cf8(0x31d))},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'groupJid':{'type':a0_0x401cf8(0x219)},'expiration':{'type':a0_0x401cf8(0x534),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x401cf8(0x3c0),a0_0x401cf8(0x2c4)],...E(a0_0x401cf8(0x3c0),a0_0x401cf8(0x2c4))},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x401cf8(0x219)},'image':{'type':'string'}},'required':['groupJid',a0_0x401cf8(0x2b6)],...E('groupJid',a0_0x401cf8(0x2b6))},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x401cf8(0x219)}},'required':[a0_0x401cf8(0x3c0),a0_0x401cf8(0x789)],...E('groupJid','description')},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x401cf8(0x219)},'name':{'type':a0_0x401cf8(0x219)}},'required':['groupJid',a0_0x401cf8(0x5f2)],...E(a0_0x401cf8(0x3c0),a0_0x401cf8(0x5f2))},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x401cf8(0x219),'enum':[a0_0x401cf8(0x5ff),'not_announcement','unlocked',a0_0x401cf8(0x63d)]}},'required':[a0_0x401cf8(0x3c0),a0_0x401cf8(0x24d)],...E('groupJid',a0_0x401cf8(0x24d))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'inviteCode':{'type':a0_0x401cf8(0x219)}},'required':['inviteCode'],...E(a0_0x401cf8(0x65c))},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x401cf8(0x219)},'enabled':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]}},'required':[a0_0x401cf8(0x410),'enabled']},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x401cf8(0x618),'properties':{'local_map':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x401cf8(0x3bf),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x401cf8(0x444),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x401cf8(0x228),a0_0x401cf8(0x779),a0_0x401cf8(0x34a),a0_0x401cf8(0x5d7),a0_0x401cf8(0x206),a0_0x401cf8(0x3ef),a0_0x401cf8(0x7f0),a0_0x401cf8(0x736),a0_0x401cf8(0x37a),a0_0x401cf8(0x7d5),'CHATS_UPDATE',a0_0x401cf8(0x777),a0_0x401cf8(0x3bb),a0_0x401cf8(0x733),'GROUPS_UPDATE',a0_0x401cf8(0x2e9)],...E(a0_0x401cf8(0x444),a0_0x401cf8(0x754),a0_0x401cf8(0x3d2),'MESSAGES_SET',a0_0x401cf8(0x779),'MESSAGES_UPSERT',a0_0x401cf8(0x5d7),a0_0x401cf8(0x206),a0_0x401cf8(0x3ef),'CONTACTS_UPDATE',a0_0x401cf8(0x736),a0_0x401cf8(0x37a),'CHATS_UPSERT',a0_0x401cf8(0x466),a0_0x401cf8(0x777),a0_0x401cf8(0x3bb),a0_0x401cf8(0x733),a0_0x401cf8(0x6ab),'GROUP_PARTICIPANTS_UPDATE')},ze=class{},He=class extends I{['getContactModelForOwner'](_0x499dd0){return js(_0x499dd0);}async[a0_0x401cf8(0x5a4)](_0x51a7f6){const _0x5cfcba=a0_0x401cf8;if(_0x51a7f6[_0x5cfcba(0x24f)]!==0x0)try{return{'insertCount':(await this[_0x5cfcba(0x211)](_0x51a7f6[0x0][_0x5cfcba(0x81e)])['insertMany']([..._0x51a7f6]))[_0x5cfcba(0x24f)]};}catch(_0x4c7059){return _0x4c7059;}}async['delete'](_0x400e95,_0x3024dc){const _0x53a0e2=a0_0x401cf8;try{return{'deletedCount':(await this[_0x53a0e2(0x211)](_0x3024dc)['deleteMany']({..._0x400e95['where']}))[_0x53a0e2(0x336)]};}catch(_0x162910){return{'error':_0x162910?.[_0x53a0e2(0x596)]()};}}async[a0_0x401cf8(0x4b1)](_0x46c180,_0x27d3cb){const _0x5dfe78=a0_0x401cf8;try{if(_0x46c180[_0x5dfe78(0x24f)]===0x0)return;let _0x6eacfb=this[_0x5dfe78(0x211)](_0x27d3cb),_0x23004d=_0x46c180[_0x5dfe78(0x515)](_0x3ddef0=>({'updateOne':{'filter':{'_id':_0x3ddef0['_id'],'owner':_0x27d3cb},'update':{..._0x3ddef0}}})),{modifiedCount:_0x4eee3a}=await _0x6eacfb[_0x5dfe78(0x644)](_0x23004d);return{'insertCount':_0x4eee3a};}catch{return;}}async[a0_0x401cf8(0x7d2)](_0x240d8a,_0x4b9a91){const _0x25c2e4=a0_0x401cf8;try{let _0xd361df=this[_0x25c2e4(0x211)](_0x4b9a91),_0x80b00c=T(_0x240d8a[_0x25c2e4(0x620)]);return await _0xd361df[_0x25c2e4(0x7d2)](_0x80b00c)[_0x25c2e4(0x6c7)](_0x240d8a?.[_0x25c2e4(0x6c7)]??0x0)[_0x25c2e4(0x366)]();}catch{return[];}}async[a0_0x401cf8(0x4d8)](_0x3133f2,_0x390127){const _0xdf3f05=a0_0x401cf8;try{let _0x3ff0d4=this['getContactModelForOwner'](_0x390127),_0x5b68f3=T(_0x3133f2[_0xdf3f05(0x620)]);return await _0x3ff0d4[_0xdf3f05(0x4d8)](_0x5b68f3)[_0xdf3f05(0x366)]();}catch{return null;}}async[a0_0x401cf8(0x1d3)](_0x102134){const _0x4cd1a9=a0_0x401cf8;try{return await this[_0x4cd1a9(0x211)](_0x102134)['collection'][_0x4cd1a9(0x3d6)](),{'success':!0x0};}catch(_0x33f42d){return console[_0x4cd1a9(0x654)](_0x33f42d),{'success':!0x1,'error':_0x33f42d};}}},Ke=require(a0_0x401cf8(0x24a)),cc=require(a0_0x401cf8(0x375)),cs=new v('Validate'),J=class{['routerPath'](_0x563d32,_0x39f029=!0x0){const _0x41e818=a0_0x401cf8;let _0x405e7d='/'+_0x563d32;return _0x39f029&&(_0x405e7d+=_0x41e818(0x203)),_0x405e7d;}async[a0_0x401cf8(0x806)](_0x2fed21){const _0xed1345=a0_0x401cf8;let {request:_0x58caff,schema:_0x2775b2,ClassRef:_0x387a75,execute:_0x527d20}=_0x2fed21,_0x408c18=new _0x387a75(),_0x793ed4=_0x58caff['body'],_0x4398ad=_0x58caff[_0xed1345(0x2bd)];_0x58caff?.[_0xed1345(0x6f7)]&&Object['keys'](_0x58caff['query'])[_0xed1345(0x24f)]>0x0&&Object[_0xed1345(0x540)](_0x4398ad,_0x58caff[_0xed1345(0x6f7)]),_0x58caff[_0xed1345(0x1d9)][_0xed1345(0x23b)](_0xed1345(0x33b))&&Object[_0xed1345(0x540)](_0x4398ad,_0x793ed4),Object['assign'](_0x408c18,_0x793ed4);let _0x2b70e1=_0x2775b2?(0x0,Ke[_0xed1345(0x7ac)])(_0x408c18,_0x2775b2):{'valid':!0x0,'errors':[]};if(!_0x2b70e1[_0xed1345(0x484)]){let _0x3cd394=_0x2b70e1['errors'][_0xed1345(0x515)](({property:_0x2584c7,stack:_0x4d5247,schema:_0x4c471f})=>{const _0x3b0c67=_0xed1345;let _0x1db027;return _0x4c471f[_0x3b0c67(0x789)]?_0x1db027=_0x4c471f[_0x3b0c67(0x789)]:_0x1db027=_0x4d5247[_0x3b0c67(0x4e1)](_0x3b0c67(0x61a),''),{'property':_0x2584c7['replace'](_0x3b0c67(0x61a),''),'message':_0x1db027};});throw cs['error']([..._0x3cd394]),new h(..._0x3cd394);}return await _0x527d20(_0x4398ad,_0x408c18);}async[a0_0x401cf8(0x780)](_0x48b1f9){const _0x154ba8=a0_0x401cf8;let {request:_0x51653a,ClassRef:_0x537525,schema:_0x2d6fde,execute:_0x538c60}=_0x48b1f9,_0x2a4e48=_0x51653a[_0x154ba8(0x6f7)];if(!_0x2a4e48?.[_0x154ba8(0x3c0)])throw new h(_0x154ba8(0x47e),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x3f0797=_0x51653a[_0x154ba8(0x2bd)],_0x30a2ef=_0x51653a[_0x154ba8(0x40b)],_0x538411=new _0x537525();Object[_0x154ba8(0x540)](_0x30a2ef,_0x2a4e48),Object['assign'](_0x538411,_0x30a2ef);let _0x20b3ad=(0x0,Ke['validate'])(_0x538411,_0x2d6fde);if(!_0x20b3ad[_0x154ba8(0x484)]){let _0x2f68de=_0x20b3ad[_0x154ba8(0x386)][_0x154ba8(0x515)](({property:_0x120a7d,stack:_0x5cc95e,schema:_0x58b924})=>{const _0x4a6c04=_0x154ba8;let _0x15688b;return _0x58b924[_0x4a6c04(0x789)]?_0x15688b=_0x58b924[_0x4a6c04(0x789)]:_0x15688b=_0x5cc95e[_0x4a6c04(0x4e1)](_0x4a6c04(0x61a),''),{'property':_0x120a7d['replace'](_0x4a6c04(0x61a),''),'message':_0x15688b};});throw cs[_0x154ba8(0x654)]([..._0x2f68de]),new h(..._0x2f68de);}return await _0x538c60(_0x3f0797,_0x538411);}async['joinGroupValidate'](_0x3873bd){const _0x2c3d9d=a0_0x401cf8;let {request:_0x57312f,ClassRef:_0x2ac2ca,schema:_0xe906cc,execute:_0x170174}=_0x3873bd,_0x3efcc5=_0x57312f[_0x2c3d9d(0x40b)];if(!_0x3efcc5?.[_0x2c3d9d(0x65c)])throw new h('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x2c3d9d(0x605));let _0x2f32b8=_0x57312f['params'],_0xb264bf=_0x57312f['body'],_0x1d9165=new _0x2ac2ca();Object[_0x2c3d9d(0x540)](_0xb264bf,_0x3efcc5),Object[_0x2c3d9d(0x540)](_0x1d9165,_0xb264bf);let _0xc8ca17=(0x0,Ke[_0x2c3d9d(0x7ac)])(_0x1d9165,_0xe906cc);if(!_0xc8ca17['valid']){let _0x2a174b=_0xc8ca17['errors'][_0x2c3d9d(0x515)](({property:_0x111401,stack:_0x52d1f0,schema:_0x223dee})=>{const _0x14cd72=_0x2c3d9d;let _0x17b8f1;return _0x223dee[_0x14cd72(0x789)]?_0x17b8f1=_0x223dee[_0x14cd72(0x789)]:_0x17b8f1=_0x52d1f0['replace'](_0x14cd72(0x61a),''),{'property':_0x111401[_0x14cd72(0x4e1)]('instance.',''),'message':_0x17b8f1};});throw cs[_0x2c3d9d(0x654)]([..._0x2a174b]),new h(..._0x2a174b);}return await _0x170174(_0x2f32b8,_0x1d9165);}},S=class{},Mc=new v(a0_0x401cf8(0x57b)),Qe=class extends J{constructor(..._0x5e2567){const _0x5568c3=a0_0x401cf8;super(),this[_0x5568c3(0x2f9)]=(0x0,Ya[_0x5568c3(0x7af)])(),this[_0x5568c3(0x2f9)][_0x5568c3(0x78b)](this[_0x5568c3(0x6f9)](_0x5568c3(0x79c)),..._0x5e2567,async(_0x49f196,_0x462278)=>{const _0x1a8cd8=_0x5568c3;let _0x2e5d26=await this[_0x1a8cd8(0x806)]({'request':_0x49f196,'schema':ja,'ClassRef':ke,'execute':(_0x309bf2,_0x489706)=>D[_0x1a8cd8(0x79c)](_0x309bf2,_0x489706)});return _0x462278[_0x1a8cd8(0x776)](0xc9)[_0x1a8cd8(0x1e6)](_0x2e5d26);})[_0x5568c3(0x78b)](this[_0x5568c3(0x6f9)](_0x5568c3(0x5e5)),..._0x5e2567,async(_0x4cbd5c,_0x12bde6)=>{const _0x55216e=_0x5568c3;let _0xcb654a=await this[_0x55216e(0x806)]({'request':_0x4cbd5c,'schema':Da,'ClassRef':Le,'execute':(_0x5f41d3,_0x24b051)=>D[_0x55216e(0x2e5)](_0x5f41d3,_0x24b051)});return _0x12bde6['status'](0xc9)['json'](_0xcb654a);})[_0x5568c3(0x78b)](this['routerPath']('editChat'),..._0x5e2567,async(_0x55e6d2,_0x2de6a7)=>{const _0x3655b7=_0x5568c3;let _0x514885=await this[_0x3655b7(0x806)]({'request':_0x55e6d2,'schema':M,'ClassRef':S,'execute':(_0x397b8c,_0x6d90f5)=>D[_0x3655b7(0x445)](_0x397b8c,_0x6d90f5)});return _0x2de6a7[_0x3655b7(0x776)](0xc9)[_0x3655b7(0x1e6)](_0x514885);})[_0x5568c3(0x62a)](this['routerPath'](_0x5568c3(0x7f6)),..._0x5e2567,async(_0x1612d0,_0x99e35b)=>{const _0x4835b5=_0x5568c3;let _0x2fe21c=await this[_0x4835b5(0x806)]({'request':_0x1612d0,'schema':xa,'ClassRef':Je,'execute':(_0x4ecd2a,_0xfb0b28)=>D[_0x4835b5(0x257)](_0x4ecd2a,_0xfb0b28)});return _0x99e35b[_0x4835b5(0x776)](0xc9)[_0x4835b5(0x1e6)](_0x2fe21c);})[_0x5568c3(0x62a)](this[_0x5568c3(0x6f9)]('archiveChat'),..._0x5e2567,async(_0x1bf838,_0x5db7bf)=>{const _0x5cfb17=_0x5568c3;let _0x462d8f=await this[_0x5cfb17(0x806)]({'request':_0x1bf838,'schema':Pa,'ClassRef':je,'execute':(_0x26a7b7,_0x3f3490)=>D[_0x5cfb17(0x33f)](_0x26a7b7,_0x3f3490)});return _0x5db7bf[_0x5cfb17(0x776)](0xc9)[_0x5cfb17(0x1e6)](_0x462d8f);})[_0x5568c3(0x46c)](this[_0x5568c3(0x6f9)](_0x5568c3(0x440)),..._0x5e2567,async(_0x39985f,_0x26cf4b)=>{const _0x363075=_0x5568c3;let _0x556f70=await this['dataValidate']({'request':_0x39985f,'schema':$a,'ClassRef':Ve,'execute':(_0x5e5be9,_0x4486e6)=>D['deleteMessage'](_0x5e5be9,_0x4486e6)});return _0x26cf4b[_0x363075(0x776)](0xc9)[_0x363075(0x1e6)](_0x556f70);})[_0x5568c3(0x78b)](this['routerPath'](_0x5568c3(0x485)),..._0x5e2567,async(_0x220cec,_0x1fc5c9)=>{const _0x9cc6a0=_0x5568c3;let _0x3940b8=await this[_0x9cc6a0(0x806)]({'request':_0x220cec,'schema':we,'ClassRef':ye,'execute':(_0x524091,_0x3355fa)=>D['fetchProfilePicture'](_0x524091,_0x3355fa)});return _0x1fc5c9[_0x9cc6a0(0x776)](0xc8)['json'](_0x3940b8);})['post'](this[_0x5568c3(0x6f9)](_0x5568c3(0x2a5)),..._0x5e2567,async(_0x285240,_0x310775)=>{const _0xa49369=_0x5568c3;let _0x1953e9=await this[_0xa49369(0x806)]({'request':_0x285240,'schema':Ua,'ClassRef':ye,'execute':(_0x1f097c,_0x44c0fc)=>D[_0xa49369(0x2a5)](_0x1f097c,_0x44c0fc)});return _0x310775[_0xa49369(0x776)](0xc8)[_0xa49369(0x1e6)](_0x1953e9);})[_0x5568c3(0x78b)](this['routerPath']('findContacts'),..._0x5e2567,async(_0x58457d,_0x1b9332)=>{const _0x319096=_0x5568c3;let _0x47bc64=await this[_0x319096(0x806)]({'request':_0x58457d,'schema':ka,'ClassRef':ze,'execute':(_0xad7268,_0x2580c1)=>D[_0x319096(0x5e7)](_0xad7268,_0x2580c1)});return _0x1b9332[_0x319096(0x776)](0xc8)[_0x319096(0x1e6)](_0x47bc64);})['post'](this[_0x5568c3(0x6f9)]('getBase64FromMediaMessage'),..._0x5e2567,async(_0x2f1f6e,_0x2558f4)=>{const _0x34e00d=_0x5568c3;let _0xededc4=await this['dataValidate']({'request':_0x2f1f6e,'schema':null,'ClassRef':Object,'execute':(_0x243423,_0x3349fa)=>D[_0x34e00d(0x6d6)](_0x243423,_0x3349fa)});return _0x2558f4[_0x34e00d(0x776)](0xc9)['json'](_0xededc4);})[_0x5568c3(0x78b)](this[_0x5568c3(0x6f9)](_0x5568c3(0x317)),..._0x5e2567,async(_0x402893,_0x1c4de9)=>{const _0x4df0fb=_0x5568c3;let _0x51a57d=await this[_0x4df0fb(0x806)]({'request':_0x402893,'schema':Ja,'ClassRef':Pe,'execute':(_0x3a605b,_0x1daa8b)=>D['fetchMessages'](_0x3a605b,_0x1daa8b)});return _0x1c4de9[_0x4df0fb(0x776)](0xc8)[_0x4df0fb(0x1e6)](_0x51a57d);})['get'](this[_0x5568c3(0x6f9)](_0x5568c3(0x3e4)),..._0x5e2567,async(_0x5c4c3c,_0x37653b)=>{const _0x2b9d55=_0x5568c3;let _0x428f27=await this[_0x2b9d55(0x806)]({'request':_0x5c4c3c,'schema':null,'ClassRef':S,'execute':_0x561759=>D[_0x2b9d55(0x7b1)](_0x561759)});return _0x37653b[_0x2b9d55(0x776)](0xc8)['json'](_0x428f27);})['get'](this[_0x5568c3(0x6f9)](_0x5568c3(0x2d3)),..._0x5e2567,async(_0x54ee04,_0x337cc3)=>{const _0x157990=_0x5568c3;let _0x4b950e=await this[_0x157990(0x806)]({'request':_0x54ee04,'schema':null,'ClassRef':S,'execute':_0x16b8e9=>D[_0x157990(0x382)](_0x16b8e9)});return _0x337cc3['status'](0xc8)[_0x157990(0x1e6)](_0x4b950e);})[_0x5568c3(0x62a)](this[_0x5568c3(0x6f9)]('importChats'),..._0x5e2567,async(_0x5cbb55,_0x5e45da)=>{const _0x58cf83=_0x5568c3;let _0x53087d=await this['dataValidate']({'request':_0x5cbb55,'schema':null,'ClassRef':Array,'execute':(_0x56206c,_0x276ca9)=>D[_0x58cf83(0x298)](_0x56206c,_0x276ca9)});return _0x5e45da[_0x58cf83(0x776)](0xc8)[_0x58cf83(0x1e6)](_0x53087d);})[_0x5568c3(0x626)](this[_0x5568c3(0x6f9)](_0x5568c3(0x6c9)),..._0x5e2567,async(_0x1a4345,_0x2b0551)=>{const _0x2c6e59=_0x5568c3;let _0x813628=await this[_0x2c6e59(0x806)]({'request':_0x1a4345,'schema':null,'ClassRef':S,'execute':_0x491917=>D[_0x2c6e59(0x6c9)](_0x491917)});return _0x2b0551['status'](0xc8)[_0x2c6e59(0x1e6)](_0x813628);})[_0x5568c3(0x62a)](this[_0x5568c3(0x6f9)](_0x5568c3(0x29a)),..._0x5e2567,async(_0x3d7b95,_0x178fb4)=>{const _0x179aa0=_0x5568c3;let _0x527368=await this[_0x179aa0(0x806)]({'request':_0x3d7b95,'schema':_a,'ClassRef':qe,'execute':(_0x31dd0e,_0x40c642)=>D[_0x179aa0(0x29a)](_0x31dd0e,_0x40c642)});return _0x178fb4[_0x179aa0(0x776)](0xc9)[_0x179aa0(0x1e6)](_0x527368);})[_0x5568c3(0x78b)](this[_0x5568c3(0x6f9)](_0x5568c3(0x323)),..._0x5e2567,async(_0x1f64a1,_0x2fb1ca)=>{const _0x213c90=_0x5568c3;let _0x1f67d2=await this[_0x213c90(0x806)]({'request':_0x1f64a1,'schema':we,'ClassRef':ge,'execute':(_0x2e76ea,_0x204f5a)=>D[_0x213c90(0x323)](_0x2e76ea,_0x204f5a)});return _0x2fb1ca[_0x213c90(0x776)](0xc8)[_0x213c90(0x1e6)](_0x1f67d2);})['post'](this[_0x5568c3(0x6f9)](_0x5568c3(0x439)),..._0x5e2567,async(_0x1ff614,_0x333396)=>{const _0x27b195=_0x5568c3;let _0xe484e8=await this[_0x27b195(0x806)]({'request':_0x1ff614,'schema':La,'ClassRef':Fe,'execute':(_0x220298,_0x5c8eab)=>D[_0x27b195(0x439)](_0x220298,_0x5c8eab)});return _0x333396[_0x27b195(0x776)](0xc8)[_0x27b195(0x1e6)](_0xe484e8);})[_0x5568c3(0x78b)](this['routerPath'](_0x5568c3(0x6aa)),..._0x5e2567,async(_0x471143,_0x38d22e)=>{const _0x360fb3=_0x5568c3;let _0x16e1b1=await this[_0x360fb3(0x806)]({'request':_0x471143,'schema':Fa,'ClassRef':Ue,'execute':(_0x3eee95,_0x13924d)=>D[_0x360fb3(0x6aa)](_0x3eee95,_0x13924d)});return _0x38d22e[_0x360fb3(0x776)](0xc8)[_0x360fb3(0x1e6)](_0x16e1b1);})[_0x5568c3(0x62a)](this['routerPath']('updateProfilePicture'),..._0x5e2567,async(_0x4732fa,_0x54906d)=>{const _0xc4012a=_0x5568c3;let _0x14794f=await this[_0xc4012a(0x806)]({'request':_0x4732fa,'schema':we,'ClassRef':ge,'execute':(_0x126aa4,_0x8aa50b)=>D[_0xc4012a(0x274)](_0x126aa4,_0x8aa50b)});return _0x54906d[_0xc4012a(0x776)](0xc8)['json'](_0x14794f);})[_0x5568c3(0x46c)](this[_0x5568c3(0x6f9)](_0x5568c3(0x40a)),..._0x5e2567,async(_0x4c4969,_0x4a9200)=>{const _0xa9c141=_0x5568c3;let _0x404f72=await this[_0xa9c141(0x806)]({'request':_0x4c4969,'schema':we,'ClassRef':ge,'execute':(_0x1ae8cd,_0x376742)=>D[_0xa9c141(0x40a)](_0x1ae8cd,_0x376742)});return _0x4a9200[_0xa9c141(0x776)](0xc8)[_0xa9c141(0x1e6)](_0x404f72);});}},Xa=require(a0_0x401cf8(0x5eb)),Ye=class{},Xe=class{},Ze=class{},et=class{},tt=class{},Q=class{},st=class{},at=class extends Q{},rt=class extends Q{},ot=class extends J{constructor(..._0x18297d){const _0x4e0d61=a0_0x401cf8;super(),this[_0x4e0d61(0x2f9)]=(0x0,Xa[_0x4e0d61(0x7af)])(),this[_0x4e0d61(0x2f9)][_0x4e0d61(0x78b)](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x368)),..._0x18297d,async(_0x3e2a18,_0x44b894)=>{const _0x13769c=_0x4e0d61;let _0xc84127=await this[_0x13769c(0x806)]({'request':_0x3e2a18,'schema':qa,'ClassRef':Ye,'execute':(_0xbb0012,_0x34f77c)=>U['createGroup'](_0xbb0012,_0x34f77c)});_0x44b894[_0x13769c(0x776)](0xc9)['json'](_0xc84127);})[_0x4e0d61(0x62a)](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x5ae)),..._0x18297d,async(_0x55e1cd,_0x4de4b0)=>{const _0x1ca67a=_0x4e0d61;let _0x50a49d=await this[_0x1ca67a(0x780)]({'request':_0x55e1cd,'schema':Ga,'ClassRef':Xe,'execute':(_0x3e6512,_0x1da948)=>U[_0x1ca67a(0x5ae)](_0x3e6512,_0x1da948)});_0x4de4b0[_0x1ca67a(0x776)](0xc9)[_0x1ca67a(0x1e6)](_0x50a49d);})[_0x4e0d61(0x62a)](this[_0x4e0d61(0x6f9)]('groupDesc'),..._0x18297d,async(_0x25d702,_0x175211)=>{const _0x12c5de=_0x4e0d61;let _0x3b9ef7=await this[_0x12c5de(0x780)]({'request':_0x25d702,'schema':Wa,'ClassRef':Ze,'execute':(_0x18e091,_0x3ddba3)=>U['groupDesc'](_0x18e091,_0x3ddba3)});_0x175211[_0x12c5de(0x776)](0xc9)[_0x12c5de(0x1e6)](_0x3b9ef7);})[_0x4e0d61(0x62a)](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x1e1)),..._0x18297d,async(_0x2078a0,_0x26d532)=>{const _0x5634f2=_0x4e0d61;let _0x49e86e=await this['groupValidate']({'request':_0x2078a0,'schema':za,'ClassRef':et,'execute':(_0x16c7a2,_0x552984)=>U[_0x5634f2(0x1e1)](_0x16c7a2,_0x552984)});_0x26d532[_0x5634f2(0x776)](0xc9)['json'](_0x49e86e);})[_0x4e0d61(0x62a)](this['routerPath']('groupSetting'),..._0x18297d,async(_0x112eb1,_0x10d799)=>{const _0x258e30=_0x4e0d61;let _0x1a4c03=await this[_0x258e30(0x780)]({'request':_0x112eb1,'schema':Ha,'ClassRef':tt,'execute':(_0x4452a9,_0x3f328f)=>U[_0x258e30(0x50d)](_0x4452a9,_0x3f328f)});_0x10d799[_0x258e30(0x776)](0xc9)[_0x258e30(0x1e6)](_0x1a4c03);})[_0x4e0d61(0x62a)](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x41b)),..._0x18297d,async(_0x3dc0a8,_0x21a9d7)=>{const _0x5e4c20=_0x4e0d61;let _0x79f75f=await this[_0x5e4c20(0x780)]({'request':_0x3dc0a8,'schema':Ba,'ClassRef':rt,'execute':(_0x3763ce,_0x499264)=>U[_0x5e4c20(0x41b)](_0x3763ce,_0x499264)});_0x21a9d7[_0x5e4c20(0x776)](0xc9)['json'](_0x79f75f);})['get'](this['routerPath'](_0x4e0d61(0x601)),..._0x18297d,async(_0x486bb6,_0x30e2d5)=>{const _0x2b45d9=_0x4e0d61;let _0x54ce0a=await this[_0x2b45d9(0x780)]({'request':_0x486bb6,'schema':be,'ClassRef':Q,'execute':(_0x2a4267,_0x29cdcd)=>U[_0x2b45d9(0x265)](_0x2a4267,_0x29cdcd)});_0x30e2d5['status'](0xc8)['json'](_0x54ce0a);})['get'](this[_0x4e0d61(0x6f9)]('findGroups'),..._0x18297d,async(_0x65f74d,_0x4f8306)=>{const _0x4b0bb5=_0x4e0d61;let _0x52f97c=await this[_0x4b0bb5(0x806)]({'request':_0x65f74d,'schema':M,'ClassRef':S,'execute':_0x52930d=>U[_0x4b0bb5(0x341)](_0x52930d)});_0x4f8306[_0x4b0bb5(0x776)](0xc8)[_0x4b0bb5(0x1e6)](_0x52f97c);})[_0x4e0d61(0x626)](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x3c8)),..._0x18297d,async(_0x5a667c,_0x3d1e65)=>{const _0x133e6c=_0x4e0d61;let _0x1a7b21=await this[_0x133e6c(0x780)]({'request':_0x5a667c,'schema':be,'ClassRef':Q,'execute':(_0x5f2630,_0x17eca9)=>U['findParticipants'](_0x5f2630,_0x17eca9)});_0x3d1e65['status'](0xc8)[_0x133e6c(0x1e6)](_0x1a7b21);})[_0x4e0d61(0x626)](this['routerPath'](_0x4e0d61(0x65c)),..._0x18297d,async(_0x45c815,_0x1226cb)=>{const _0x5d8b98=_0x4e0d61;let _0x15f1ad=await this[_0x5d8b98(0x780)]({'request':_0x45c815,'schema':be,'ClassRef':Q,'execute':(_0xba5cd2,_0x248830)=>U[_0x5d8b98(0x65c)](_0xba5cd2,_0x248830)});_0x1226cb[_0x5d8b98(0x776)](0xc8)[_0x5d8b98(0x1e6)](_0x15f1ad);})[_0x4e0d61(0x62a)](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x719)),..._0x18297d,async(_0x3d870f,_0x1cc940)=>{const _0x3e12f6=_0x4e0d61;let _0x3dffe4=await this[_0x3e12f6(0x6de)]({'request':_0x3d870f,'schema':Ka,'ClassRef':st,'execute':(_0x1721e1,_0xd4edf2)=>U[_0x3e12f6(0x719)](_0x1721e1,_0xd4edf2)});_0x1cc940[_0x3e12f6(0x776)](0xc9)[_0x3e12f6(0x1e6)](_0x3dffe4);})[_0x4e0d61(0x62a)](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x356)),..._0x18297d,async(_0x123479,_0x35c188)=>{const _0x823ce8=_0x4e0d61;let _0x4588a2=await this[_0x823ce8(0x780)]({'request':_0x123479,'schema':be,'ClassRef':Q,'execute':(_0x332fdf,_0x53231e)=>U[_0x823ce8(0x356)](_0x332fdf,_0x53231e)});_0x35c188['status'](0xc9)[_0x823ce8(0x1e6)](_0x4588a2);})['put'](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x79a)),..._0x18297d,async(_0x1023d2,_0x4fa7a1)=>{const _0x2496b9=_0x4e0d61;let _0x957c30=await this[_0x2496b9(0x780)]({'request':_0x1023d2,'schema':Va,'ClassRef':at,'execute':(_0x4745fc,_0x1a4322)=>U['updateGParticipate'](_0x4745fc,_0x1a4322)});_0x4fa7a1[_0x2496b9(0x776)](0xc9)[_0x2496b9(0x1e6)](_0x957c30);})['delete'](this[_0x4e0d61(0x6f9)](_0x4e0d61(0x78a)),..._0x18297d,async(_0x225709,_0x22ae4e)=>{const _0x3d7200=_0x4e0d61;let _0x4dc7b4=await this[_0x3d7200(0x780)]({'request':_0x225709,'schema':{},'ClassRef':Q,'execute':(_0x27ece9,_0x3f08f1)=>U['leaveGroup'](_0x27ece9,_0x3f08f1)});_0x22ae4e[_0x3d7200(0x776)](0xc8)[_0x3d7200(0x1e6)](_0x4dc7b4);});}},Za=require('express'),it=class extends J{constructor(_0x4aa75d,..._0xfaa15a){const _0x4e18c6=a0_0x401cf8;super(),this[_0x4e18c6(0x3e3)]=_0x4aa75d,this['router']=(0x0,Za[_0x4e18c6(0x7af)])();let _0x1bb83d=_0x4aa75d[_0x4e18c6(0x626)](_0x4e18c6(0x469));this[_0x4e18c6(0x2f9)][_0x4e18c6(0x78b)](_0x4e18c6(0x49c),..._0xfaa15a,async(_0x296207,_0x297b74)=>{const _0x3c3bdf=_0x4e18c6;let {instanceName:_0x26190a,apikey:_0x47e2dd,number:_0x3b3c02}=_0x296207[_0x3c3bdf(0x40b)],_0x2b1eb5=await ae[_0x3c3bdf(0x46b)]({'instanceName':_0x26190a,'apikey':_0x47e2dd,'number':_0x3b3c02});return _0x297b74[_0x3c3bdf(0x776)](0xc9)['json'](_0x2b1eb5);})['put'](this[_0x4e18c6(0x6f9)](_0x4e18c6(0x4b5)),..._0xfaa15a,async(_0x4df8b0,_0x126bc5)=>{const _0xd81f28=_0x4e18c6;let _0x85c829=await this[_0xd81f28(0x806)]({'request':_0x4df8b0,'schema':M,'ClassRef':S,'execute':_0x5187c7=>ae['restartInstance'](_0x5187c7)});return _0x126bc5[_0xd81f28(0x776)](0xc8)[_0xd81f28(0x1e6)](_0x85c829);})[_0x4e18c6(0x78b)](this[_0x4e18c6(0x6f9)](_0x4e18c6(0x36a)),..._0xfaa15a,async(_0x2e441d,_0xd7f4c6)=>{const _0x18ff82=_0x4e18c6;let _0x1aae8b=await this[_0x18ff82(0x806)]({'request':_0x2e441d,'schema':M,'ClassRef':S,'execute':_0x1528f7=>ae['connectToWhatsappController'](_0x1528f7)});return _0xd7f4c6[_0x18ff82(0x776)](0xc8)[_0x18ff82(0x1e6)](_0x1aae8b);})[_0x4e18c6(0x626)](this['routerPath'](_0x4e18c6(0x545)),..._0xfaa15a,async(_0x4272f7,_0x413f4e)=>{const _0x1e91cf=_0x4e18c6;let _0x4b9fae=await this[_0x1e91cf(0x806)]({'request':_0x4272f7,'schema':M,'ClassRef':S,'execute':_0x68d75a=>ae[_0x1e91cf(0x545)](_0x68d75a)});return _0x413f4e[_0x1e91cf(0x776)](0xc8)[_0x1e91cf(0x1e6)](_0x4b9fae);})[_0x4e18c6(0x626)](this[_0x4e18c6(0x6f9)](_0x4e18c6(0x766),!0x1),..._0xfaa15a,async(_0x126530,_0x1ff2fc)=>{const _0x19df1a=_0x4e18c6;let _0x52c5a4=await this['dataValidate']({'request':_0x126530,'schema':null,'ClassRef':S,'execute':_0x5eb5ff=>ae[_0x19df1a(0x766)](_0x5eb5ff)});return _0x1ff2fc['status'](0xc8)[_0x19df1a(0x1e6)](_0x52c5a4);})[_0x4e18c6(0x46c)](this[_0x4e18c6(0x6f9)](_0x4e18c6(0x5a2)),..._0xfaa15a,async(_0x1d550b,_0x56ec5f)=>{const _0x162181=_0x4e18c6;let _0x3da900=await this['dataValidate']({'request':_0x1d550b,'schema':M,'ClassRef':S,'execute':_0x3e8740=>ae[_0x162181(0x5a2)](_0x3e8740)});return _0x56ec5f[_0x162181(0x776)](0xc8)[_0x162181(0x1e6)](_0x3da900);})['delete'](this[_0x4e18c6(0x6f9)](_0x4e18c6(0x46c)),..._0xfaa15a,async(_0x2d38f3,_0x23c023)=>{const _0xbcde58=_0x4e18c6;let _0x8516c2=await this[_0xbcde58(0x806)]({'request':_0x2d38f3,'schema':M,'ClassRef':S,'execute':_0x2636bd=>ae[_0xbcde58(0x737)](_0x2636bd)});return _0x23c023[_0xbcde58(0x776)](0xc8)[_0xbcde58(0x1e6)](_0x8516c2);});}},er=require('express'),ls=class{},G=class extends ls{},nt=class extends G{},ct=class extends G{},lt=class extends G{},ut=class extends G{},Se=class extends G{},dt=class extends G{},pt=class extends G{},gt=class extends G{},ht=class extends G{},mt=class extends G{},ft=class{},yt=class extends J{constructor(..._0x1eee25){const _0x4ec8e2=a0_0x401cf8;super(),this['router']=(0x0,er[_0x4ec8e2(0x7af)])(),this['router'][_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)](_0x4ec8e2(0x398)),..._0x1eee25,async(_0x20ff80,_0x560b3d)=>{const _0x380d55=_0x4ec8e2;let _0x10f6d7=await this['dataValidate']({'request':_0x20ff80,'schema':wa,'ClassRef':nt,'execute':(_0x37e538,_0x32b897)=>B[_0x380d55(0x398)](_0x37e538,_0x32b897)});return _0x560b3d[_0x380d55(0x776)](0xc9)[_0x380d55(0x1e6)](_0x10f6d7);})[_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)](_0x4ec8e2(0x2a4)),..._0x1eee25,async(_0xad3708,_0x53863a)=>{const _0xcf2cbd=_0x4ec8e2;let _0x28032e=await this[_0xcf2cbd(0x806)]({'request':_0xad3708,'schema':Ca,'ClassRef':Se,'execute':(_0x2c7f26,_0x56783d)=>B[_0xcf2cbd(0x2a4)](_0x2c7f26,_0x56783d)});return _0x53863a[_0xcf2cbd(0x776)](0xc9)[_0xcf2cbd(0x1e6)](_0x28032e);})[_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)]('sendMenu'),..._0x1eee25,async(_0x20bd07,_0x455464)=>{const _0x265ca8=_0x4ec8e2;let _0x2a10cc=await this['dataValidate']({'request':_0x20bd07,'schema':Na,'ClassRef':ut,'execute':(_0x3c2908,_0x4a8340)=>B[_0x265ca8(0x6e6)](_0x3c2908,_0x4a8340)});return _0x455464[_0x265ca8(0x776)](0xc9)[_0x265ca8(0x1e6)](_0x2a10cc);})[_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)](_0x4ec8e2(0x465)),..._0x1eee25,async(_0xd2f0ad,_0x31e073)=>{const _0x29915a=_0x4ec8e2;let _0x13d4ed=await this[_0x29915a(0x806)]({'request':_0xd2f0ad,'schema':Ma,'ClassRef':Se,'execute':(_0x470b5d,_0x29a3e6)=>B[_0x29915a(0x465)](_0x470b5d,_0x29a3e6)});return _0x31e073[_0x29915a(0x776)](0xc9)['json'](_0x13d4ed);})[_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)](_0x4ec8e2(0x590)),..._0x1eee25,async(_0x3fceee,_0x4b5ed1)=>{const _0x2c0e29=_0x4ec8e2;let _0x25d403=await this[_0x2c0e29(0x806)]({'request':_0x3fceee,'schema':Ra,'ClassRef':pt,'execute':(_0x171ee1,_0x54e9a8)=>B['sendButtons'](_0x171ee1,_0x54e9a8)});return _0x4b5ed1[_0x2c0e29(0x776)](0xc9)[_0x2c0e29(0x1e6)](_0x25d403);})[_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)](_0x4ec8e2(0x1c8)),..._0x1eee25,async(_0x2e0f31,_0x2d5088)=>{const _0x38ead2=_0x4ec8e2;let _0x5d8565=await this[_0x38ead2(0x806)]({'request':_0x2e0f31,'schema':Ta,'ClassRef':gt,'execute':(_0x11eba7,_0xd3c33d)=>B[_0x38ead2(0x1c8)](_0x11eba7,_0xd3c33d)});return _0x2d5088[_0x38ead2(0x776)](0xc9)[_0x38ead2(0x1e6)](_0x5d8565);})[_0x4ec8e2(0x78b)](this['routerPath'](_0x4ec8e2(0x2e0)),..._0x1eee25,async(_0x435c0f,_0x34401e)=>{const _0xb1d391=_0x4ec8e2;let _0x422188=await this[_0xb1d391(0x806)]({'request':_0x435c0f,'schema':Aa,'ClassRef':ht,'execute':(_0xdc3646,_0x506836)=>B[_0xb1d391(0x2e0)](_0xdc3646,_0x506836)});return _0x34401e[_0xb1d391(0x776)](0xc9)[_0xb1d391(0x1e6)](_0x422188);})[_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)]('sendContact'),..._0x1eee25,async(_0xc35dd8,_0x4d057d)=>{const _0xcf6b70=_0x4ec8e2;let _0x42178f=await this[_0xcf6b70(0x806)]({'request':_0xc35dd8,'schema':Oa,'ClassRef':mt,'execute':(_0x52ceea,_0x4fa6d7)=>B[_0xcf6b70(0x5a3)](_0x52ceea,_0x4fa6d7)});return _0x4d057d['status'](0xc9)[_0xcf6b70(0x1e6)](_0x42178f);})['post'](this[_0x4ec8e2(0x6f9)](_0x4ec8e2(0x418)),..._0x1eee25,async(_0x407dd4,_0xbe024b)=>{const _0x3b4ff3=_0x4ec8e2;let _0x5da129=await this['dataValidate']({'request':_0x407dd4,'schema':Ia,'ClassRef':ft,'execute':(_0x284060,_0x453504)=>B[_0x3b4ff3(0x418)](_0x284060,_0x453504)});return _0xbe024b[_0x3b4ff3(0x776)](0xc9)['json'](_0x5da129);})[_0x4ec8e2(0x78b)](this['routerPath'](_0x4ec8e2(0x216)),..._0x1eee25,async(_0x310354,_0xbaee54)=>{const _0x338a82=_0x4ec8e2;let _0x5eb5ea=await this[_0x338a82(0x806)]({'request':_0x310354,'schema':va,'ClassRef':lt,'execute':(_0x28c579,_0x1a7d25)=>B[_0x338a82(0x216)](_0x28c579,_0x1a7d25)});return _0xbaee54[_0x338a82(0x776)](0xc9)[_0x338a82(0x1e6)](_0x5eb5ea);})[_0x4ec8e2(0x78b)](this[_0x4ec8e2(0x6f9)](_0x4ec8e2(0x2d0)),..._0x1eee25,async(_0x4d9345,_0x1cf31a)=>{const _0x2b8265=_0x4ec8e2;let _0x239383=await this['dataValidate']({'request':_0x4d9345,'schema':Ea,'ClassRef':ct,'execute':(_0x4deca1,_0x198c41)=>B[_0x2b8265(0x2d0)](_0x4deca1,_0x198c41)});return _0x1cf31a[_0x2b8265(0x776)](0xc9)[_0x2b8265(0x1e6)](_0x239383);})[_0x4ec8e2(0x78b)](this['routerPath'](_0x4ec8e2(0x614)),..._0x1eee25,async(_0x4aa475,_0x2eded5)=>{const _0x2b3114=_0x4ec8e2;let _0x3eae30=await this[_0x2b3114(0x806)]({'request':_0x4aa475,'schema':Sa,'ClassRef':dt,'execute':(_0x59249f,_0x354378)=>B['sendSticker'](_0x59249f,_0x354378)});return _0x2eded5[_0x2b3114(0x776)](0xc9)[_0x2b3114(0x1e6)](_0x3eae30);});}},tr=require(a0_0x401cf8(0x5eb)),wt=class{},bt=class extends J{constructor(..._0x5c9422){const _0x4c111c=a0_0x401cf8;super(),this[_0x4c111c(0x2f9)]=(0x0,tr[_0x4c111c(0x7af)])(),this['router'][_0x4c111c(0x78b)](this['routerPath'](_0x4c111c(0x555)),..._0x5c9422,async(_0xe6ec79,_0x252cc2)=>{const _0x59ab50=_0x4c111c;let _0x350009=await this['dataValidate']({'request':_0xe6ec79,'schema':Qa,'ClassRef':wt,'execute':(_0x18f41e,_0x48c653)=>us['createWebhook'](_0x18f41e,_0x48c653)});_0x252cc2[_0x59ab50(0x776)](0xc9)[_0x59ab50(0x1e6)](_0x350009);})['get'](this[_0x4c111c(0x6f9)](_0x4c111c(0x7d2)),..._0x5c9422,async(_0x5f1e3e,_0x447804)=>{const _0x48edce=_0x4c111c;let _0x2779f3=await this[_0x48edce(0x806)]({'request':_0x5f1e3e,'schema':M,'ClassRef':S,'execute':_0x40f683=>us[_0x48edce(0x2b1)](_0x40f683)});_0x447804[_0x48edce(0x776)](0xc8)['json'](_0x2779f3);});}},sr=require(a0_0x401cf8(0x5eb)),f=new v('FlowRouter'),St=class extends J{constructor(..._0x31a01f){const _0x10ed79=a0_0x401cf8;super(),this['router']=(0x0,sr[_0x10ed79(0x7af)])(),this[_0x10ed79(0x2f9)][_0x10ed79(0x78b)](this['routerPath'](_0x10ed79(0x747)),..._0x31a01f,async(_0xbb090f,_0x48e12f)=>{const _0x2aa8ce=_0x10ed79;let _0x102c4c=_0xbb090f['body'];f[_0x2aa8ce(0x2fa)](_0x2aa8ce(0x28b)),f[_0x2aa8ce(0x2fa)]('request\x20body:\x20'),f[_0x2aa8ce(0x2fa)](_0xbb090f['body']);let _0x2caac6=await this[_0x2aa8ce(0x806)]({'request':_0xbb090f,'schema':M,'ClassRef':S,'execute':_0x25423c=>A[_0x2aa8ce(0x286)](_0x25423c,_0x102c4c)});_0x48e12f[_0x2aa8ce(0x776)](0xc8)[_0x2aa8ce(0x1e6)](_0x2caac6);})[_0x10ed79(0x626)](this[_0x10ed79(0x6f9)](_0x10ed79(0x747)),..._0x31a01f,async(_0x398944,_0x4c7ccf)=>{const _0x108568=_0x10ed79;let _0x1b1eaf=await this['dataValidate']({'request':_0x398944,'schema':M,'ClassRef':S,'execute':_0xacb340=>A[_0x108568(0x709)](_0xacb340)});_0x4c7ccf[_0x108568(0x776)](0xc8)['json'](_0x1b1eaf);})[_0x10ed79(0x46c)](this[_0x10ed79(0x6f9)]('deleteDoneMessages'),..._0x31a01f,async(_0xfffc3a,_0x3f872c)=>{const _0x72ecac=_0x10ed79;f[_0x72ecac(0x2fa)](_0x72ecac(0x3fa));let _0x2bafb1=await this[_0x72ecac(0x806)]({'request':_0xfffc3a,'schema':M,'ClassRef':S,'execute':_0x4d0cd0=>A[_0x72ecac(0x2ce)](_0x4d0cd0)});_0x3f872c[_0x72ecac(0x776)](0xc8)[_0x72ecac(0x1e6)](_0x2bafb1);})['post'](this[_0x10ed79(0x6f9)](_0x10ed79(0x68d)),..._0x31a01f,async(_0x581435,_0x349f4c)=>{const _0x230ec6=_0x10ed79;let _0x4ea968=_0x581435['body'];f[_0x230ec6(0x2fa)](_0x230ec6(0x2d9)),f[_0x230ec6(0x2fa)](_0x230ec6(0x4bb)),f['verbose'](_0x581435[_0x230ec6(0x40b)]);let _0x4e1865=await this['dataValidate']({'request':_0x581435,'schema':M,'ClassRef':S,'execute':_0x1291a1=>A[_0x230ec6(0x68d)](_0x1291a1,_0x4ea968)});_0x349f4c[_0x230ec6(0x776)](0xc8)[_0x230ec6(0x1e6)](_0x4e1865);})[_0x10ed79(0x626)](this[_0x10ed79(0x6f9)](_0x10ed79(0x81c)),..._0x31a01f,async(_0x2bc467,_0x1aa9ab)=>{const _0x25b21c=_0x10ed79;f[_0x25b21c(0x2fa)](_0x25b21c(0x7e3));let _0x464c6e=await this[_0x25b21c(0x806)]({'request':_0x2bc467,'schema':M,'ClassRef':S,'execute':_0x315e02=>A[_0x25b21c(0x81c)](_0x315e02)});_0x1aa9ab[_0x25b21c(0x776)](0xc8)[_0x25b21c(0x1e6)](_0x464c6e);})[_0x10ed79(0x626)](this['routerPath'](_0x10ed79(0x6ae)),..._0x31a01f,async(_0x52f33b,_0x5d7a75)=>{const _0x1c4971=_0x10ed79;f[_0x1c4971(0x2fa)](_0x1c4971(0x7a5));let _0x391643=await this[_0x1c4971(0x806)]({'request':_0x52f33b,'schema':M,'ClassRef':S,'execute':_0x8e06ce=>A[_0x1c4971(0x81c)](_0x8e06ce)});_0x5d7a75[_0x1c4971(0x776)](0xc8)[_0x1c4971(0x1e6)](_0x391643);})[_0x10ed79(0x78b)](this['routerPath'](_0x10ed79(0x345)),..._0x31a01f,async(_0x59ea13,_0x27fdf0)=>{const _0x5923fb=_0x10ed79;let _0x2fcd6c=_0x59ea13[_0x5923fb(0x40b)];f[_0x5923fb(0x2fa)](_0x5923fb(0x7f5)),f[_0x5923fb(0x2fa)]('request\x20body:\x20'),f[_0x5923fb(0x2fa)](_0x59ea13[_0x5923fb(0x40b)]);let _0x338d38=await this[_0x5923fb(0x806)]({'request':_0x59ea13,'schema':M,'ClassRef':S,'execute':_0xbec9dc=>A[_0x5923fb(0x345)](_0xbec9dc,_0x2fcd6c)});_0x27fdf0[_0x5923fb(0x776)](0xc8)[_0x5923fb(0x1e6)](_0x338d38);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)](_0x10ed79(0x417)),..._0x31a01f,async(_0x4b9818,_0x4d521d)=>{const _0x2215f4=_0x10ed79;let _0x158e9e=_0x4b9818[_0x2215f4(0x40b)];f['verbose']('request\x20received\x20in\x20updateCustomFields'),f[_0x2215f4(0x2fa)](_0x2215f4(0x4bb)),f[_0x2215f4(0x2fa)](_0x4b9818[_0x2215f4(0x40b)]);let _0xfb96e7=await this['dataValidate']({'request':_0x4b9818,'schema':M,'ClassRef':S,'execute':_0x54eebc=>A[_0x2215f4(0x417)](_0x54eebc,_0x158e9e)});_0x4d521d[_0x2215f4(0x776)](0xc8)['json'](_0xfb96e7);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)](_0x10ed79(0x34f)),..._0x31a01f,async(_0x9f7158,_0x4ba85c)=>{const _0x16f386=_0x10ed79;let _0x4f2332=_0x9f7158['body'];f[_0x16f386(0x2fa)](_0x16f386(0x657)),f['verbose'](_0x16f386(0x4bb)),f['verbose'](_0x9f7158[_0x16f386(0x40b)]);let _0x43f556=await this['dataValidate']({'request':_0x9f7158,'schema':M,'ClassRef':S,'execute':_0x32fd6a=>A['updateFlowConfig'](_0x32fd6a,_0x4f2332)});_0x4ba85c[_0x16f386(0x776)](0xc8)['json'](_0x43f556);})['post'](this[_0x10ed79(0x6f9)](_0x10ed79(0x52d)),..._0x31a01f,async(_0x2ef29b,_0x3d0fc4)=>{const _0x4f4267=_0x10ed79;let _0x1bad57=_0x2ef29b[_0x4f4267(0x40b)];f[_0x4f4267(0x2fa)](_0x4f4267(0x2c3)),f[_0x4f4267(0x2fa)]('request\x20body:\x20'),f[_0x4f4267(0x2fa)](_0x2ef29b[_0x4f4267(0x40b)]);let _0x5daab6=await this[_0x4f4267(0x806)]({'request':_0x2ef29b,'schema':M,'ClassRef':S,'execute':_0x3da789=>A[_0x4f4267(0x52d)](_0x3da789,_0x1bad57)});_0x3d0fc4[_0x4f4267(0x776)](0xc8)[_0x4f4267(0x1e6)](_0x5daab6);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)]('fetchConversation'),..._0x31a01f,async(_0x4882e6,_0x37759d)=>{const _0x29f83f=_0x10ed79;let _0x3d0a62=_0x4882e6[_0x29f83f(0x40b)];f[_0x29f83f(0x2fa)]('request\x20received\x20in\x20fetchConversation'),f[_0x29f83f(0x2fa)](_0x29f83f(0x4bb)),f[_0x29f83f(0x2fa)](_0x4882e6[_0x29f83f(0x40b)]);let _0xb35906=await this[_0x29f83f(0x806)]({'request':_0x4882e6,'schema':M,'ClassRef':S,'execute':_0xcb58da=>A[_0x29f83f(0x6b6)](_0xcb58da,_0x3d0a62)});_0x37759d['status'](0xc8)[_0x29f83f(0x1e6)](_0xb35906);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)](_0x10ed79(0x397)),..._0x31a01f,async(_0x1db115,_0x5645bc)=>{const _0x6e830f=_0x10ed79;let _0x41922b=_0x1db115['body'];f['verbose'](_0x6e830f(0x376)),f[_0x6e830f(0x2fa)]('request\x20body:\x20'),f[_0x6e830f(0x2fa)](_0x1db115['body']);let _0x42e183=await this[_0x6e830f(0x806)]({'request':_0x1db115,'schema':M,'ClassRef':S,'execute':_0x790aba=>A['editConversation'](_0x790aba,_0x41922b)});_0x5645bc[_0x6e830f(0x776)](0xc8)[_0x6e830f(0x1e6)](_0x42e183);})[_0x10ed79(0x46c)](this[_0x10ed79(0x6f9)](_0x10ed79(0x3fd)),..._0x31a01f,async(_0x167651,_0x278e16)=>{const _0x440f6b=_0x10ed79;let _0x38afb5=_0x167651[_0x440f6b(0x40b)];f[_0x440f6b(0x2fa)]('request\x20received\x20in\x20deleteConversation'),f[_0x440f6b(0x2fa)]('request\x20body:\x20'),f['verbose'](_0x167651[_0x440f6b(0x40b)]);let _0x374b2a=await this[_0x440f6b(0x806)]({'request':_0x167651,'schema':M,'ClassRef':S,'execute':_0x55dd05=>A[_0x440f6b(0x3fd)](_0x55dd05,_0x38afb5)});_0x278e16['status'](0xc8)[_0x440f6b(0x1e6)](_0x374b2a);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)]('createflow'),..._0x31a01f,async(_0x30d727,_0x430cb6)=>{const _0x248329=_0x10ed79;let _0x3608b1=_0x30d727['body'];f[_0x248329(0x2fa)](_0x248329(0x39e)),f['verbose'](_0x248329(0x4bb)),f[_0x248329(0x2fa)](_0x30d727[_0x248329(0x40b)]);let _0x263f0f=await this[_0x248329(0x806)]({'request':_0x30d727,'schema':M,'ClassRef':S,'execute':_0x2a6369=>A[_0x248329(0x490)](_0x2a6369,_0x3608b1)});_0x430cb6[_0x248329(0x776)](0xc8)[_0x248329(0x1e6)](_0x263f0f);})['post'](this[_0x10ed79(0x6f9)](_0x10ed79(0x7c7)),..._0x31a01f,async(_0x5452ed,_0x5d9af5)=>{const _0x513a11=_0x10ed79;let _0x540522=_0x5452ed[_0x513a11(0x40b)];f[_0x513a11(0x2fa)](_0x513a11(0x3d5)),f['verbose'](_0x513a11(0x4bb)),f['verbose'](_0x5452ed[_0x513a11(0x40b)]),delete _0x540522[_0x513a11(0x275)],delete _0x540522['variables'],delete _0x540522[_0x513a11(0x7a0)],delete _0x540522[_0x513a11(0x73b)];let _0x4d4c84=await this['dataValidate']({'request':_0x5452ed,'schema':M,'ClassRef':S,'execute':_0x15f012=>A[_0x513a11(0x2d1)](_0x15f012,_0x540522)});_0x5d9af5[_0x513a11(0x776)](0xc8)[_0x513a11(0x1e6)](_0x4d4c84);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)](_0x10ed79(0x7f1)),..._0x31a01f,async(_0xde6c8d,_0x38dca9)=>{const _0x4e52d4=_0x10ed79;let _0x6cd9ed=_0xde6c8d[_0x4e52d4(0x40b)];f['verbose']('request\x20received\x20in\x20editFlow'),f[_0x4e52d4(0x2fa)]('request\x20body:\x20'),f[_0x4e52d4(0x2fa)](_0xde6c8d[_0x4e52d4(0x40b)]);let _0x21f40a=await this[_0x4e52d4(0x806)]({'request':_0xde6c8d,'schema':M,'ClassRef':S,'execute':_0x3ba7c7=>A[_0x4e52d4(0x443)](_0x3ba7c7,_0x6cd9ed)});_0x38dca9[_0x4e52d4(0x776)](0xc8)[_0x4e52d4(0x1e6)](_0x21f40a);})[_0x10ed79(0x78b)](this['routerPath'](_0x10ed79(0x679)),..._0x31a01f,async(_0x5a88a7,_0x53802b)=>{const _0x413bf8=_0x10ed79;let _0x4b6c5e=_0x5a88a7[_0x413bf8(0x40b)];f[_0x413bf8(0x2fa)](_0x413bf8(0x3d5)),f[_0x413bf8(0x2fa)]('request\x20body:\x20'),f[_0x413bf8(0x2fa)](_0x5a88a7[_0x413bf8(0x40b)]);let _0x4a43b3=await this['dataValidate']({'request':_0x5a88a7,'schema':M,'ClassRef':S,'execute':_0x288c40=>A[_0x413bf8(0x426)](_0x288c40,_0x4b6c5e)});_0x53802b['status'](0xc8)[_0x413bf8(0x1e6)](_0x4a43b3);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)](_0x10ed79(0x2a8)),..._0x31a01f,async(_0x419b19,_0x1da8ad)=>{const _0x1bd82e=_0x10ed79;let _0x400855=_0x419b19[_0x1bd82e(0x40b)];f[_0x1bd82e(0x2fa)](_0x1bd82e(0x3d5)),f[_0x1bd82e(0x2fa)]('request\x20body:\x20'),f[_0x1bd82e(0x2fa)](_0x419b19[_0x1bd82e(0x40b)]);let _0x436f5f=await this[_0x1bd82e(0x806)]({'request':_0x419b19,'schema':M,'ClassRef':S,'execute':_0x52ad60=>A[_0x1bd82e(0x6d3)](_0x52ad60,_0x400855)});_0x1da8ad[_0x1bd82e(0x776)](0xc8)['json'](_0x436f5f);})['post'](this[_0x10ed79(0x6f9)](_0x10ed79(0x54a)),..._0x31a01f,async(_0x3ef3fb,_0x276d21)=>{const _0x3c8135=_0x10ed79;let _0x3be383=_0x3ef3fb[_0x3c8135(0x40b)];f[_0x3c8135(0x2fa)](_0x3c8135(0x532)),f[_0x3c8135(0x2fa)](_0x3c8135(0x4bb)),f['verbose'](_0x3ef3fb[_0x3c8135(0x40b)]);let _0x21a0a8=await this[_0x3c8135(0x806)]({'request':_0x3ef3fb,'schema':M,'ClassRef':S,'execute':_0x279989=>A[_0x3c8135(0x239)](_0x279989,_0x3be383)});_0x276d21[_0x3c8135(0x776)](0xc8)[_0x3c8135(0x1e6)](_0x21a0a8);})[_0x10ed79(0x78b)](this['routerPath'](_0x10ed79(0x31b)),..._0x31a01f,async(_0x5f8263,_0x20b16c)=>{const _0xb8aa37=_0x10ed79;let _0x12c178=_0x5f8263['body'];f[_0xb8aa37(0x2fa)](_0xb8aa37(0x436)),f[_0xb8aa37(0x2fa)](_0xb8aa37(0x4bb)),f['verbose'](_0x5f8263[_0xb8aa37(0x40b)]);let _0x3755e1=await this[_0xb8aa37(0x806)]({'request':_0x5f8263,'schema':M,'ClassRef':S,'execute':_0x498060=>A[_0xb8aa37(0x24b)](_0x498060,_0x12c178)});_0x20b16c[_0xb8aa37(0x776)](0xc8)[_0xb8aa37(0x1e6)](_0x3755e1);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)](_0x10ed79(0x29c)),..._0x31a01f,async(_0x20cfda,_0x4ad80c)=>{const _0x23164=_0x10ed79;let _0x1afb0b=_0x20cfda[_0x23164(0x40b)];f[_0x23164(0x2fa)](_0x23164(0x4b0)),f[_0x23164(0x2fa)](_0x23164(0x4bb)),f[_0x23164(0x2fa)](_0x20cfda['body']);let _0x235ccd=await this['dataValidate']({'request':_0x20cfda,'schema':M,'ClassRef':S,'execute':_0x2f6ec4=>A[_0x23164(0x3d7)](_0x2f6ec4,_0x1afb0b)});_0x4ad80c[_0x23164(0x776)](0xc8)[_0x23164(0x1e6)](_0x235ccd);})[_0x10ed79(0x78b)](this[_0x10ed79(0x6f9)](_0x10ed79(0x608)),..._0x31a01f,async(_0xd0dbdc,_0x90fc42)=>{const _0x5234cc=_0x10ed79;let _0x172061=_0xd0dbdc[_0x5234cc(0x40b)];f[_0x5234cc(0x2fa)](_0x5234cc(0x45c)),f[_0x5234cc(0x2fa)](_0x5234cc(0x4bb)),f[_0x5234cc(0x2fa)](_0xd0dbdc['body']);let _0x34fac6=await this['dataValidate']({'request':_0xd0dbdc,'schema':M,'ClassRef':S,'execute':_0x29c985=>A[_0x5234cc(0x3a4)](_0x29c985,_0x172061)});_0x90fc42['status'](0xc8)[_0x5234cc(0x1e6)](_0x34fac6);})[_0x10ed79(0x46c)](this[_0x10ed79(0x6f9)](_0x10ed79(0x48a)),..._0x31a01f,async(_0x67f7d2,_0xcff6c4)=>{const _0x1a07e1=_0x10ed79;let _0x86ebb7=_0x67f7d2[_0x1a07e1(0x40b)];f[_0x1a07e1(0x2fa)](_0x1a07e1(0x667)),f[_0x1a07e1(0x2fa)]('request\x20body:\x20'),f['verbose'](_0x67f7d2[_0x1a07e1(0x40b)]);let _0x446e5c=await this['dataValidate']({'request':_0x67f7d2,'schema':M,'ClassRef':S,'execute':_0x2c6c4b=>A[_0x1a07e1(0x344)](_0x2c6c4b,_0x86ebb7)});_0xcff6c4[_0x1a07e1(0x776)](0xc8)[_0x1a07e1(0x1e6)](_0x446e5c);})[_0x10ed79(0x626)](this[_0x10ed79(0x6f9)](_0x10ed79(0x494)),..._0x31a01f,async(_0xcbc476,_0x1c951d)=>{const _0x49143e=_0x10ed79;f['verbose'](_0x49143e(0x42e));let _0x509cf3=await this[_0x49143e(0x806)]({'request':_0xcbc476,'schema':M,'ClassRef':S,'execute':_0x43e572=>A[_0x49143e(0x454)](_0x43e572)});_0x1c951d['status'](0xc8)['json'](_0x509cf3);});}},ir=R(require(a0_0x401cf8(0x5d3))),Y={};function ar(_0x248620,_0x59c123,_0x556815,_0x784adc){Y[_0x248620]||(Y[_0x248620]={}),Y[_0x248620][_0x59c123]={'id':_0x59c123,'response':_0x556815,'events':_0x784adc};}function rr(_0x2b15cd,_0x5052ff){!Y[_0x2b15cd]||!Y[_0x2b15cd][_0x5052ff]||delete Y[_0x2b15cd][_0x5052ff];}function j(_0x1134fb,_0x350b4d,_0x53116a){const _0x4d9a16=a0_0x401cf8;if(!Y[_0x1134fb])return;let _0x4156b9=_0x4d9a16(0x6b2)+JSON[_0x4d9a16(0x75b)](_0x53116a)+'\x0a\x0a';Object[_0x4d9a16(0x7fc)](Y[_0x1134fb])[_0x4d9a16(0x306)](_0x3f4966=>{const _0x18f12d=_0x4d9a16;_0x3f4966[_0x18f12d(0x554)][_0x18f12d(0x23b)](_0x350b4d)&&_0x3f4966[_0x18f12d(0x774)][_0x18f12d(0x21c)](_0x4156b9);});}function or(){const _0x14a889=a0_0x401cf8;let _0x57bf9a={};for(let _0x3e19a5 in Y)_0x57bf9a[_0x3e19a5]=Object['values'](Y[_0x3e19a5])[_0x14a889(0x515)](_0x5d499c=>({'id':_0x5d499c['id'],'events':_0x5d499c['events']}));return _0x57bf9a;}var nr=require(a0_0x401cf8(0x749)),ps=require(a0_0x401cf8(0x557)),ds=class{},oo=new ps['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),io=new ps['Schema']({'_id':{'type':String,'default':a0_0x401cf8(0x38c)},'WebhookGlobal':{'type':oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),he=N?.['model'](ds[a0_0x401cf8(0x5f2)],io,'All_Instances_Config'),no=ir[a0_0x401cf8(0x787)][a0_0x401cf8(0x6fa)](__dirname,a0_0x401cf8(0x5ad)),Ct=(0x0,Et[a0_0x401cf8(0x7af)])(),co=b[a0_0x401cf8(0x626)]('AUTHENTICATION')['TYPE'],ee=[ga,ha,ya[co]];Ct[a0_0x401cf8(0x74e)](a0_0x401cf8(0x675),Et['default'][a0_0x401cf8(0x5c3)](no))[a0_0x401cf8(0x626)]('/events/:instance',async(_0x29ccd0,_0x4cf7d9)=>{const _0x51d8b8=a0_0x401cf8;console['log'](_0x51d8b8(0x1cc));let _0x2f4c76=_0x29ccd0[_0x51d8b8(0x2bd)][_0x51d8b8(0x2e2)],_0x399f30=(_0x29ccd0[_0x51d8b8(0x6f7)][_0x51d8b8(0x554)]||'')[_0x51d8b8(0x54f)](','),_0x4af14f=(0x0,nr['v4'])();console[_0x51d8b8(0x743)](_0x51d8b8(0x20b),_0x2f4c76),console[_0x51d8b8(0x743)](_0x51d8b8(0x3b3),_0x399f30);let _0x578cdf=b['get'](_0x51d8b8(0x469))[_0x51d8b8(0x746)],_0xa935cf=_0x29ccd0[_0x51d8b8(0x6f7)][_0x51d8b8(0x688)];if(console[_0x51d8b8(0x743)](_0x51d8b8(0x471),_0xa935cf),_0x578cdf[_0x51d8b8(0x1d0)]!==_0xa935cf){console[_0x51d8b8(0x743)](_0x51d8b8(0x507));try{let _0x154908=await ne[_0x51d8b8(0x60c)][_0x51d8b8(0x7d2)](_0x2f4c76);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x154908),!_0x154908||_0x154908['apikey']!==_0xa935cf)return console[_0x51d8b8(0x743)](_0x51d8b8(0x2b7)),_0x4cf7d9[_0x51d8b8(0x776)](0x191)[_0x51d8b8(0x783)](_0x51d8b8(0x5d0));}catch(_0x51ec32){return console[_0x51d8b8(0x654)](_0x51d8b8(0x4e2),_0x51ec32),_0x4cf7d9[_0x51d8b8(0x776)](0x191)['send'](_0x51d8b8(0x57f));}}if(!await Be(_0x2f4c76))return _0x4cf7d9[_0x51d8b8(0x776)](0x194)[_0x51d8b8(0x783)](_0x51d8b8(0x21f));_0x4cf7d9[_0x51d8b8(0x56c)]('Content-Type','text/event-stream'),_0x4cf7d9[_0x51d8b8(0x56c)](_0x51d8b8(0x4d3),_0x51d8b8(0x60a)),_0x4cf7d9['setHeader'](_0x51d8b8(0x7cf),_0x51d8b8(0x648)),_0x4cf7d9[_0x51d8b8(0x20a)]();let _0x1a689e=_0x51d8b8(0x6b2)+JSON[_0x51d8b8(0x75b)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x4cf7d9['write'](_0x1a689e),ar(_0x2f4c76,_0x4af14f,_0x4cf7d9,_0x399f30),_0x29ccd0['on'](_0x51d8b8(0x613),()=>{const _0x30d419=_0x51d8b8;console[_0x30d419(0x743)](_0x30d419(0x4af)+_0x2f4c76),rr(_0x2f4c76,_0x4af14f);});}),Ct[a0_0x401cf8(0x626)](a0_0x401cf8(0x4b8),(_0x2a9bf7,_0x5bf18e)=>{let _0x1d747d=or();_0x5bf18e['json'](_0x1d747d);})[a0_0x401cf8(0x626)]('/',(_0x2298ee,_0xa7d219)=>{const _0x2f42f2=a0_0x401cf8;let _0x3c4107=b[_0x2f42f2(0x626)]('SSL_CONF'),_0x3a79b2=_0x3c4107&&_0x3c4107[_0x2f42f2(0x6fb)][_0x2f42f2(0x54f)]('/')[0x4];if(_0x3a79b2){let _0x4551a5=encodeURIComponent(_0x2f42f2(0x2d8)+_0x3a79b2);_0xa7d219[_0x2f42f2(0x5c0)](_0x2f42f2(0x625)+_0x4551a5);}else _0xa7d219['redirect']('https://uazapi-plugin.bubbleapps.io/');})[a0_0x401cf8(0x62a)](a0_0x401cf8(0x7e7),...ee,async(_0x4ddabb,_0x246288)=>{const _0x216889=a0_0x401cf8;try{console[_0x216889(0x743)](_0x216889(0x2fb)),_0x246288[_0x216889(0x776)](0xc8)[_0x216889(0x1e6)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x246288['on']('finish',()=>process[_0x216889(0x5f3)](0x0));}catch(_0x70a436){console[_0x216889(0x654)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x70a436),_0x246288['status'](0x1f4)[_0x216889(0x1e6)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x401cf8(0x62a)]('/config',...ee,async(_0xa378b6,_0x5aa06b)=>{const _0x45c7ce=a0_0x401cf8;try{let _0x4341e5=_0xa378b6['body'];await he[_0x45c7ce(0x6c6)]({},{'$set':_0x4341e5},{'upsert':!0x0});let _0x5894e6=await he['findOne']();_0x5aa06b[_0x45c7ce(0x1e6)](_0x5894e6);}catch(_0x1aff46){_0x5aa06b['status'](0x190)['send'](_0x1aff46['message']);}})[a0_0x401cf8(0x626)](a0_0x401cf8(0x371),...ee,async(_0x1e7d5d,_0x328a11)=>{const _0x51ff59=a0_0x401cf8;try{let _0x35df17=await he[_0x51ff59(0x4d8)]();if(!_0x35df17)return _0x328a11[_0x51ff59(0x1e6)]({});_0x328a11['json'](_0x35df17);}catch(_0x16a9a4){_0x328a11[_0x51ff59(0x776)](0x1f4)['send'](_0x16a9a4[_0x51ff59(0x295)]);}})[a0_0x401cf8(0x74e)]('/instance',new it(b,...ee)[a0_0x401cf8(0x2f9)])['use']('/message',new yt(...ee)['router'])[a0_0x401cf8(0x74e)]('/chat',new Qe(...ee)[a0_0x401cf8(0x2f9)])[a0_0x401cf8(0x74e)](a0_0x401cf8(0x3b0),new ot(...ee)[a0_0x401cf8(0x2f9)])[a0_0x401cf8(0x74e)]('/webhook',new bt(...ee)[a0_0x401cf8(0x2f9)])['use'](a0_0x401cf8(0x571),new St(...ee)[a0_0x401cf8(0x2f9)]);var h=class{constructor(..._0x2255af){const _0x4d92bd=a0_0x401cf8;throw{'status':0x190,'error':_0x4d92bd(0x1e3),'message':_0x2255af[_0x4d92bd(0x24f)]>0x0?_0x2255af:void 0x0};}},Z=class{constructor(..._0x34a747){const _0x136b38=a0_0x401cf8;throw{'status':0x191,'error':_0x136b38(0x4ee),'message':_0x34a747['length']>0x0?_0x34a747:void 0x0};}},H=class{constructor(..._0x4457de){const _0x162776=a0_0x401cf8;throw{'status':0x193,'error':_0x162776(0x305),'message':_0x4457de['length']>0x0?_0x4457de:void 0x0};}},L=class{constructor(..._0x42b930){const _0x267128=a0_0x401cf8;throw{'status':0x194,'error':_0x267128(0x76b),'message':_0x42b930[_0x267128(0x24f)]>0x0?_0x42b930:void 0x0};}},O=class{constructor(..._0xcb7f6d){const _0xa1479f=a0_0x401cf8;throw{'status':0x1f4,'error':_0xa1479f(0x2fd),'message':_0xcb7f6d[_0xa1479f(0x24f)]>0x0?_0xcb7f6d:void 0x0};}},ce=require(a0_0x401cf8(0x650));async function gs(_0x2791ed){const _0x59b766=a0_0x401cf8;let _0x588aea=new v(gs['name']),_0x63be86=N[_0x59b766(0x7f9)](),_0x1062db=_0x63be86['db'](b['get']('DATABASE')[_0x59b766(0x367)]['DB_PREFIX_NAME']+'-instances')[_0x59b766(0x230)](_0x2791ed),_0x91dc59=async(_0x51ebfe,_0x386d14)=>{const _0x41b4c9=_0x59b766;try{return await _0x63be86[_0x41b4c9(0x36a)](),await _0x1062db[_0x41b4c9(0x5a5)]({'_id':_0x386d14},JSON[_0x41b4c9(0x359)](JSON[_0x41b4c9(0x75b)](_0x51ebfe,ce[_0x41b4c9(0x1df)][_0x41b4c9(0x7be)])),{'upsert':!0x0});}catch{}},_0x36fb69=async _0x59031f=>{const _0x55bf93=_0x59b766;try{await _0x63be86[_0x55bf93(0x36a)]();let _0x5997ad=await _0x1062db[_0x55bf93(0x4d8)]({'_id':_0x59031f}),_0xce6e7e=JSON['stringify'](_0x5997ad);return JSON[_0x55bf93(0x359)](_0xce6e7e,ce[_0x55bf93(0x1df)]['reviver']);}catch{}},_0x17e740=async _0x2b1cdd=>{const _0x1cb090=_0x59b766;try{return await _0x63be86[_0x1cb090(0x36a)](),await _0x1062db[_0x1cb090(0x71c)]({'_id':_0x2b1cdd});}catch{}},_0x417b05=await _0x36fb69(_0x59b766(0x3f7))||(0x0,ce[_0x59b766(0x3e9)])();return{'state':{'creds':_0x417b05,'keys':{'get':async(_0x599504,_0x4938e8)=>{let _0x1e88f2={};return await Promise['all'](_0x4938e8['map'](async _0x40f0b2=>{const _0x3eff08=a0_0x1c0b;let _0x53aff7=await _0x36fb69(_0x599504+'-'+_0x40f0b2);_0x599504===_0x3eff08(0x363)&&_0x53aff7&&(_0x53aff7=ce[_0x3eff08(0x758)][_0x3eff08(0x77f)][_0x3eff08(0x4de)]['fromObject'](_0x53aff7)),_0x1e88f2[_0x40f0b2]=_0x53aff7;})),_0x1e88f2;},'set':async _0x5f5cdd=>{const _0xf6dc65=_0x59b766;let _0x327a66=[];for(let _0x1792cc in _0x5f5cdd)for(let _0x5ebeed in _0x5f5cdd[_0x1792cc]){let _0x184e41=_0x5f5cdd[_0x1792cc][_0x5ebeed],_0x4b0a3d=_0x1792cc+'-'+_0x5ebeed;_0x327a66[_0xf6dc65(0x5c5)](_0x184e41?_0x91dc59(_0x184e41,_0x4b0a3d):_0x17e740(_0x4b0a3d));}await Promise[_0xf6dc65(0x7dd)](_0x327a66);}}},'saveCreds':async()=>_0x91dc59(_0x417b05,'creds')};}var ws=R(require(a0_0x401cf8(0x75f))),bs=R(require(a0_0x401cf8(0x659))),Nt=require(a0_0x401cf8(0x650)),cr=require(a0_0x401cf8(0x653)),vt=require(a0_0x401cf8(0x650)),Mt;function lo(_0x157d8d){const _0x1d0a49=a0_0x401cf8;return Mt||(Mt=(0x0,cr[_0x1d0a49(0x5e0)])({'url':_0x157d8d[_0x1d0a49(0x425)]}),Mt['connect']()),Mt;}var re=class c{constructor(_0x3edafe,_0x498452){const _0x3ca112=a0_0x401cf8;this[_0x3ca112(0x70c)]=_0x3edafe,this[_0x3ca112(0x6a3)]=_0x498452,this[_0x3ca112(0x2c2)]=new v(c[_0x3ca112(0x5f2)]),this[_0x3ca112(0x45f)]=lo(_0x3edafe);}set[a0_0x401cf8(0x2dd)](_0x4b7059){const _0x22feb0=a0_0x401cf8;this[_0x22feb0(0x6a3)]=_0x4b7059;}async[a0_0x401cf8(0x677)](){const _0x5a49c5=a0_0x401cf8;try{return await this[_0x5a49c5(0x45f)]['sendCommand']([_0x5a49c5(0x4ea),this[_0x5a49c5(0x70c)][_0x5a49c5(0x3c7)]+':*']);}catch(_0x129dd9){this[_0x5a49c5(0x2c2)][_0x5a49c5(0x654)](_0x129dd9);}}async[a0_0x401cf8(0x3cd)](_0x5f4150,_0x56645c){const _0x3bb7bf=a0_0x401cf8;try{let _0x17b16f=JSON['stringify'](_0x56645c,vt[_0x3bb7bf(0x1df)][_0x3bb7bf(0x7be)]);return await this[_0x3bb7bf(0x45f)][_0x3bb7bf(0x523)](this[_0x3bb7bf(0x70c)][_0x3bb7bf(0x3c7)]+':'+this[_0x3bb7bf(0x6a3)],_0x5f4150,_0x17b16f);}catch(_0xff2cc2){this[_0x3bb7bf(0x2c2)][_0x3bb7bf(0x654)](_0xff2cc2);}}async['getAllData'](){const _0x2fb3a2=a0_0x401cf8;try{let _0x598f05=await this[_0x2fb3a2(0x45f)]['hGetAll'](this[_0x2fb3a2(0x70c)][_0x2fb3a2(0x3c7)]+':'+this[_0x2fb3a2(0x6a3)]);if(_0x598f05){for(let _0x2aed19 in _0x598f05)Object[_0x2fb3a2(0x528)]['hasOwnProperty']['call'](_0x598f05,_0x2aed19)&&(_0x598f05[_0x2aed19]=JSON['parse'](_0x598f05[_0x2aed19],vt[_0x2fb3a2(0x1df)][_0x2fb3a2(0x381)]));return _0x598f05;}}catch(_0x213f30){this[_0x2fb3a2(0x2c2)][_0x2fb3a2(0x654)](_0x213f30);}}async['readData'](_0x560592){const _0x15ff1e=a0_0x401cf8;try{let _0x5a55a4=await this[_0x15ff1e(0x45f)][_0x15ff1e(0x531)](this[_0x15ff1e(0x70c)][_0x15ff1e(0x3c7)]+':'+this[_0x15ff1e(0x6a3)],_0x560592);if(_0x5a55a4)return JSON['parse'](_0x5a55a4,vt[_0x15ff1e(0x1df)][_0x15ff1e(0x381)]);}catch(_0x44ddcf){this[_0x15ff1e(0x2c2)][_0x15ff1e(0x654)](_0x44ddcf);}}async[a0_0x401cf8(0x7bb)](_0x3814b9){const _0x136036=a0_0x401cf8;try{return await this[_0x136036(0x45f)][_0x136036(0x781)](this[_0x136036(0x70c)][_0x136036(0x3c7)]+':'+this['instanceName'],_0x3814b9);}catch(_0x3aec5b){this[_0x136036(0x2c2)][_0x136036(0x654)](_0x3aec5b);}}async['delAll'](_0x44ea7d){const _0x3f021a=a0_0x401cf8;try{return await this[_0x3f021a(0x45f)][_0x3f021a(0x4b6)](_0x44ea7d||this[_0x3f021a(0x70c)][_0x3f021a(0x3c7)]+':'+this['instanceName']);}catch(_0x2b9f58){this[_0x3f021a(0x2c2)][_0x3f021a(0x654)](_0x2b9f58);}}};async function hs(_0x52b15f,_0x4381b3){const _0x29ec7d=a0_0x401cf8;let _0x2d8c4a=new v(hs[_0x29ec7d(0x5f2)]),_0x5e8dfe=new re(_0x52b15f,_0x4381b3),_0x2e2054=async(_0x11b91b,_0x1a317b)=>{const _0x30a677=_0x29ec7d;try{return await _0x5e8dfe[_0x30a677(0x3cd)](_0x1a317b,_0x11b91b);}catch(_0x44efe1){return _0x2d8c4a[_0x30a677(0x654)]({'localError':_0x30a677(0x3cd),'error':_0x44efe1});}},_0x174fe1=async _0x59a349=>{const _0xcd95b0=_0x29ec7d;try{return await _0x5e8dfe[_0xcd95b0(0x639)](_0x59a349);}catch(_0x3d5546){_0x2d8c4a['error']({'readData':'writeData','error':_0x3d5546});return;}},_0x56586a=async _0x30fe7d=>{const _0x1885cb=_0x29ec7d;try{return await _0x5e8dfe[_0x1885cb(0x7bb)](_0x30fe7d);}catch(_0x5291a8){_0x2d8c4a[_0x1885cb(0x654)]({'readData':'removeData','error':_0x5291a8});}},_0x251346=await _0x174fe1(_0x29ec7d(0x3f7))||(0x0,Nt['initAuthCreds'])();return{'state':{'creds':_0x251346,'keys':{'get':async(_0x257f36,_0x53d220)=>{const _0x2184a6=_0x29ec7d;let _0x3036d6={};return await Promise['all'](_0x53d220[_0x2184a6(0x515)](async _0x2a9636=>{const _0x5b6a06=_0x2184a6;let _0x5ba84c=await _0x174fe1(_0x257f36+'-'+_0x2a9636);_0x257f36==='app-state-sync-key'&&_0x5ba84c&&(_0x5ba84c=Nt[_0x5b6a06(0x758)]['Message'][_0x5b6a06(0x4de)]['fromObject'](_0x5ba84c)),_0x3036d6[_0x2a9636]=_0x5ba84c;})),_0x3036d6;},'set':async _0x3e3354=>{const _0x4f2fd9=_0x29ec7d;let _0x477d8a=[];for(let _0x221a4d in _0x3e3354)for(let _0x435084 in _0x3e3354[_0x221a4d]){let _0x52a7b1=_0x3e3354[_0x221a4d][_0x435084],_0x190d4f=_0x221a4d+'-'+_0x435084;_0x477d8a[_0x4f2fd9(0x5c5)](_0x52a7b1?await _0x2e2054(_0x52a7b1,_0x190d4f):await _0x56586a(_0x190d4f));}await Promise['all'](_0x477d8a);}}},'saveCreds':async()=>await _0x2e2054(_0x251346,_0x29ec7d(0x3f7))};}var k=R(require('fs')),me=require(a0_0x401cf8(0x749)),At=R(require(a0_0x401cf8(0x764))),fr=require(a0_0x401cf8(0x46a)),uo=a0_0x401cf8(0x814)[a0_0x401cf8(0x2fc)](),ms=uo[a0_0x401cf8(0x54f)]('\x0a')[a0_0x401cf8(0x515)](_0x301141=>{const _0x16fe19=a0_0x401cf8;let _0x5b1fed=_0x301141[_0x16fe19(0x54f)](':');return{'host':_0x5b1fed[0x0],'port':_0x5b1fed[0x1],'username':_0x5b1fed[0x2],'password':_0x5b1fed[0x3],'protocol':_0x16fe19(0x247)};});function lr(){const _0x125ad1=a0_0x401cf8;if(ms[_0x125ad1(0x24f)]===0x0)return null;let _0x183cd4=Math['floor'](Math[_0x125ad1(0x2b3)]()*ms[_0x125ad1(0x24f)]);return ms[_0x183cd4];}function fs(_0x9f1b44){const _0x36c4f8=a0_0x401cf8;return _0x9f1b44&&_0x9f1b44[_0x36c4f8(0x255)]&&_0x9f1b44[_0x36c4f8(0x5d8)]&&_0x9f1b44['username']&&_0x9f1b44['password'];}var yr=a0_0x401cf8(0x1f6),Ss,oe=null,ur=null,We=null,po=0x3,go=null,wr=!0x1;async function ho(){const _0x3244c1=a0_0x401cf8;let _0x2f66c4=await he[_0x3244c1(0x4d8)]();oe=_0x2f66c4?.[_0x3244c1(0x7db)]??null,go=_0x2f66c4?.[_0x3244c1(0x3ad)]??null,yr=_0x2f66c4?.[_0x3244c1(0x7e0)]??_0x3244c1(0x1f6),Ss=_0x2f66c4?.[_0x3244c1(0x284)]??Es??_0x3244c1(0x1d7),wr=_0x2f66c4?.[_0x3244c1(0x292)]??!0x1,console[_0x3244c1(0x743)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x3244c1(0x743)](_0x2f66c4);}async function mo(){await ho();}mo();function _(_0x14a0b5){const _0x4ae245=a0_0x401cf8;if(_0x14a0b5[_0x4ae245(0x4e9)]||_0x14a0b5['viewOnceMessageV2']){let _0x5442fd=_0x14a0b5[_0x4ae245(0x4e9)]?_0x14a0b5[_0x4ae245(0x4e9)][_0x4ae245(0x295)]:_0x14a0b5[_0x4ae245(0x594)][_0x4ae245(0x295)];return(0x0,w['getContentType'])(_0x5442fd);}return _0x14a0b5[_0x4ae245(0x582)]?_0x4ae245(0x582):_0x14a0b5[_0x4ae245(0x3a8)]?_0x4ae245(0x3a8):_0x14a0b5[_0x4ae245(0x20c)]?_0x4ae245(0x20c):(0x0,w[_0x4ae245(0x694)])(_0x14a0b5);}var dr={},fe=class c{constructor(_0x56cc85,_0x2879c5,_0x18fdb7){const _0x39d470=a0_0x401cf8;this[_0x39d470(0x3e3)]=_0x56cc85,this['eventEmitter']=_0x2879c5,this[_0x39d470(0x552)]=_0x18fdb7,this[_0x39d470(0x78c)]=null,this[_0x39d470(0x2c2)]=new v(c[_0x39d470(0x5f2)]),this[_0x39d470(0x2e2)]={},this[_0x39d470(0x4b2)]={},this[_0x39d470(0x53b)]={'state':_0x39d470(0x613)},this['storePath']=(0x0,P['join'])(se,_0x39d470(0x5ad)),this['msgRetryCounterCache']=new bs[(_0x39d470(0x787))](),this[_0x39d470(0x464)]=new bs[(_0x39d470(0x787))](),this[_0x39d470(0x52b)]=!0x1,this['webhookMap']={'status.instance':_0x39d470(0x339),'qrcode.updated':_0x39d470(0x1cd),'messages.upsert':_0x39d470(0x320),'messages.update':_0x39d470(0x81a),'send.message':_0x39d470(0x320),'group.upsert':_0x39d470(0x21a),'group.update':_0x39d470(0x21a),'group-participants.update':_0x39d470(0x21a),'connection.update':'/wa-connection-update','messages.set':_0x39d470(0x320),'contacts.set':'/wa-contacts','contacts.upsert':_0x39d470(0x259),'contacts.update':'/wa-contacts','presence.update':_0x39d470(0x42b),'chats.set':_0x39d470(0x7f2),'chats.update':_0x39d470(0x7f2),'chats.upsert':_0x39d470(0x7f2),'chats.delete':_0x39d470(0x7f2)},this[_0x39d470(0x642)]=0x0,this[_0x39d470(0x651)]=[],this[_0x39d470(0x7b4)]=0xf,this[_0x39d470(0x6eb)]=0x7530,this[_0x39d470(0x3d3)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x1a4d70,_0x1d3c83)=>{const _0x2f07e8=_0x39d470;let _0x15cf9b=[];for await(let _0xcbf83 of _0x1a4d70)_0x15cf9b['push']({'_id':_0xcbf83['id'],'owner':this[_0x2f07e8(0x2e2)]['wuid'],'group':_0xcbf83['id'][_0x2f07e8(0x5bf)](_0x2f07e8(0x7fd)),'name':_0xcbf83[_0x2f07e8(0x5f2)]||_0xcbf83['displayName']||null,'contactname':null,'lastmsg':_0xcbf83['conversationTimestamp']&&_0xcbf83[_0x2f07e8(0x263)][_0x2f07e8(0x596)]()[_0x2f07e8(0x24f)]<0xd?_0xcbf83[_0x2f07e8(0x263)]*0x3e8:_0xcbf83[_0x2f07e8(0x263)]||null,'archived':_0xcbf83[_0x2f07e8(0x1ed)]||!0x1,'unreadcount':_0xcbf83['unreadCount']||0x0});this[_0x2f07e8(0x236)]('chats.upsert',_0x15cf9b);},'chats.update':async(_0x38aa48,_0x92b396)=>{const _0x47ca99=_0x39d470;for(let _0x551a36 of _0x38aa48){let _0x348565={'_id':_0x551a36['id'],'owner':this[_0x47ca99(0x2e2)][_0x47ca99(0x2b8)],'group':_0x551a36['id'][_0x47ca99(0x5bf)](_0x47ca99(0x7fd)),'name':_0x551a36['name']||_0x551a36[_0x47ca99(0x7aa)],'archived':_0x551a36[_0x47ca99(0x1ed)],'ephemeralExpiration':_0x551a36[_0x47ca99(0x2a7)]},_0x4e2b07=!0x1,_0x24996d={};_0x348565['archived']!=null&&(this[_0x47ca99(0x2c2)][_0x47ca99(0x2fa)](this[_0x47ca99(0x6a3)]+'\x20('+this[_0x47ca99(0x2e2)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x551a36[_0x47ca99(0x1ed)]),_0x4e2b07=!0x0,_0x24996d[_0x47ca99(0x1ed)]=_0x551a36[_0x47ca99(0x1ed)]),_0x551a36[_0x47ca99(0x5f2)]!=null&&(this[_0x47ca99(0x2c2)][_0x47ca99(0x2fa)](this[_0x47ca99(0x6a3)]+'\x20('+this['instance'][_0x47ca99(0x2b8)]+_0x47ca99(0x23a)+_0x551a36[_0x47ca99(0x5f2)]),_0x4e2b07=!0x0,_0x24996d['name']=_0x551a36['name']),_0x551a36['displayName']!=null&&(this[_0x47ca99(0x2c2)][_0x47ca99(0x2fa)](this[_0x47ca99(0x6a3)]+'\x20('+this[_0x47ca99(0x2e2)]['wuid']+_0x47ca99(0x483)+_0x551a36['displayName']),_0x4e2b07=!0x0,_0x24996d[_0x47ca99(0x5f2)]=_0x551a36[_0x47ca99(0x7aa)]),_0x551a36[_0x47ca99(0x2a7)]!=null&&(this[_0x47ca99(0x2c2)][_0x47ca99(0x2fa)](this['instanceName']+'\x20('+this[_0x47ca99(0x2e2)][_0x47ca99(0x2b8)]+_0x47ca99(0x483)+_0x551a36['ephemeralExpiration']),_0x4e2b07=!0x0,_0x24996d[_0x47ca99(0x2a7)]=_0x551a36[_0x47ca99(0x2a7)]);let _0x4f53ad;_0x4e2b07&&(_0x4f53ad=await this['repository']['chat'][_0x47ca99(0x6c6)]({'where':{'_id':_0x551a36['id']}},_0x24996d,this[_0x47ca99(0x2e2)][_0x47ca99(0x2b8)])),_0x4f53ad&&j(this[_0x47ca99(0x6a3)],_0x47ca99(0x47f),{'chat':_0x4f53ad});}},'chats.delete':async _0x5d8367=>{const _0x20740a=_0x39d470;this[_0x20740a(0x236)](_0x20740a(0x272),[..._0x5d8367]);}},this['contactHandle']={'contacts.upsert':async(_0x386925,_0x254cfd)=>{const _0x32d2e9=_0x39d470;let _0x1f959d=await this[_0x32d2e9(0x552)]['contact'][_0x32d2e9(0x7d2)]({'where':{}},this[_0x32d2e9(0x2e2)][_0x32d2e9(0x2b8)]),_0x2ce640=[];for await(let _0x428dee of _0x386925)_0x1f959d['find'](_0x11d32b=>_0x11d32b[_0x32d2e9(0x1ce)]===_0x428dee['id'])||_0x2ce640['push']({'_id':_0x428dee['id'],'pushName':_0x428dee?.[_0x32d2e9(0x5f2)]||_0x428dee?.[_0x32d2e9(0x640)],'owner':this['instance'][_0x32d2e9(0x2b8)]});this[_0x32d2e9(0x236)](_0x32d2e9(0x2d5),_0x2ce640),await this[_0x32d2e9(0x552)][_0x32d2e9(0x394)]['insert'](_0x2ce640);},'contacts.update':async(_0x11402f,_0x4887b0)=>{const _0x2e6c91=_0x39d470;let _0x3f44bc=[];for await(let _0x4fe5ea of _0x11402f)_0x3f44bc[_0x2e6c91(0x5c5)]({'_id':_0x4fe5ea['id'],'pushName':_0x4fe5ea?.[_0x2e6c91(0x5f2)]??_0x4fe5ea?.['verifiedName'],'owner':this[_0x2e6c91(0x2e2)][_0x2e6c91(0x2b8)]});this[_0x2e6c91(0x236)](_0x2e6c91(0x811),_0x3f44bc);}},this[_0x39d470(0x692)]={'messaging-history.set':async({messages:_0x4dc144,chats:_0x21cdf8,isLatest:_0x570e78},_0x2cffdb)=>{const _0x4456f2=_0x39d470;if(_0x570e78){let _0x47f9ac=await Promise[_0x4456f2(0x7dd)](_0x21cdf8[_0x4456f2(0x515)](async _0xc9d2f1=>({'_id':_0xc9d2f1['id'],'owner':this[_0x4456f2(0x2e2)][_0x4456f2(0x2b8)],'group':_0xc9d2f1['id'][_0x4456f2(0x5bf)](_0x4456f2(0x7fd)),'name':_0xc9d2f1[_0x4456f2(0x5f2)]||_0xc9d2f1[_0x4456f2(0x7aa)]||null,'contactname':null,'lastmsg':_0xc9d2f1[_0x4456f2(0x263)]&&_0xc9d2f1[_0x4456f2(0x263)]['toString']()[_0x4456f2(0x24f)]<0xd?_0xc9d2f1[_0x4456f2(0x263)]*0x3e8:_0xc9d2f1[_0x4456f2(0x263)]||null,'archived':_0xc9d2f1[_0x4456f2(0x1ed)]||!0x1,'unreadcount':_0xc9d2f1[_0x4456f2(0x384)]||0x0})));this[_0x4456f2(0x236)]('chats.set',_0x47f9ac),await this[_0x4456f2(0x72a)](_0x47f9ac,_0x2cffdb);}let _0x281974=[],_0x43b027=Date[_0x4456f2(0x7f7)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5eebb5]of Object[_0x4456f2(0x34c)](_0x4dc144)){if(_0x5eebb5['message']?.[_0x4456f2(0x3dd)]||_0x5eebb5[_0x4456f2(0x295)]?.['senderKeyDistributionMessage']||!_0x5eebb5[_0x4456f2(0x295)]||_0x5eebb5['key'][_0x4456f2(0x6e5)]===_0x4456f2(0x372)||(ws[_0x4456f2(0x787)]['isLong'](_0x5eebb5?.['messageTimestamp'])&&(_0x5eebb5[_0x4456f2(0x38d)]=_0x5eebb5[_0x4456f2(0x38d)]?.[_0x4456f2(0x213)]()),_0x5eebb5['messageTimestamp']&&_0x5eebb5[_0x4456f2(0x38d)][_0x4456f2(0x596)]()['length']<0xd&&(_0x5eebb5[_0x4456f2(0x38d)]=_0x5eebb5[_0x4456f2(0x38d)]*0x3e8),_0x5eebb5[_0x4456f2(0x38d)]<_0x43b027))continue;let {message_normalized:_0x3f57e4}=this[_0x4456f2(0x393)](_0x5eebb5[_0x4456f2(0x295)],_(_0x5eebb5[_0x4456f2(0x295)]),null);Object['keys'](_0x3f57e4)['length']>0x0&&_0x281974[_0x4456f2(0x5c5)]({'_id':_0x5eebb5[_0x4456f2(0x7e9)]['id'],'key':_0x5eebb5[_0x4456f2(0x7e9)],'pushName':_0x5eebb5['pushName'],'participant':_0x5eebb5[_0x4456f2(0x77d)],'message':{..._0x5eebb5['message']},'messageType':_(_0x5eebb5[_0x4456f2(0x295)]),'message_normalized':{'key':_0x5eebb5[_0x4456f2(0x7e9)],'pushName':_0x5eebb5[_0x4456f2(0x6ad)],'messageTimestamp':_0x5eebb5[_0x4456f2(0x38d)],..._0x3f57e4},'messageTimestamp':_0x5eebb5['messageTimestamp'],'owner':this[_0x4456f2(0x2e2)][_0x4456f2(0x2b8)]});}_0x2cffdb[_0x4456f2(0x516)]&&_0x281974[_0x4456f2(0x24f)]>0x0&&(this[_0x4456f2(0x2c2)][_0x4456f2(0x2fa)](this[_0x4456f2(0x6a3)]+'\x20('+this[_0x4456f2(0x2e2)][_0x4456f2(0x2b8)]+_0x4456f2(0x73f)+_0x281974['length']+_0x4456f2(0x26c)+this[_0x4456f2(0x2e2)][_0x4456f2(0x2b8)]+_0x4456f2(0x48f)),await this['repository']['message'][_0x4456f2(0x5a4)]([..._0x281974],this[_0x4456f2(0x2e2)]['wuid'])),this[_0x4456f2(0x236)](_0x4456f2(0x392),[..._0x281974]),_0x4dc144=void 0x0;},'messages.upsert':async({messages:_0x57e7fe,type:_0x5261e2},_0x453cc6)=>{const _0x548b01=_0x39d470;let _0x195f30=_0x57e7fe[0x0];if(_0x5261e2!==_0x548b01(0x24e)||!_0x195f30?.[_0x548b01(0x295)]||_0x195f30[_0x548b01(0x295)]?.[_0x548b01(0x3dd)]||_0x195f30['message'][_0x548b01(0x7f4)]||_0x195f30[_0x548b01(0x7e9)]['remoteJid']===_0x548b01(0x372))return;let _0x374be9=null,_0x1ed562=null;try{_0x374be9=await this[_0x548b01(0x31f)](_0x195f30),_0x1ed562=_0x374be9?_0x374be9[_0x548b01(0x6fa)](','):null;}catch(_0x47f69f){this[_0x548b01(0x2c2)][_0x548b01(0x2fa)](this[_0x548b01(0x6a3)]+'\x20('+this[_0x548b01(0x2e2)][_0x548b01(0x2b8)]+_0x548b01(0x73f)+(_0x47f69f instanceof Error?_0x47f69f[_0x548b01(0x295)]:JSON[_0x548b01(0x75b)](_0x47f69f,null,0x2))),_0x1ed562=_0x548b01(0x500);}if(this[_0x548b01(0x45f)][_0x548b01(0x431)](_0x548b01(0x3ba)),ws[_0x548b01(0x787)][_0x548b01(0x6c2)](_0x195f30[_0x548b01(0x38d)])&&(_0x195f30[_0x548b01(0x38d)]=_0x195f30[_0x548b01(0x38d)]?.['toNumber']()),this[_0x548b01(0x4b2)]?.[_0x548b01(0x521)]&&_0x195f30[_0x548b01(0x7e9)][_0x548b01(0x6e5)][_0x548b01(0x23b)]('@g.us')){this[_0x548b01(0x2c2)]['verbose'](_0x548b01(0x2bf));return;}_0x195f30['messageTimestamp']&&_0x195f30[_0x548b01(0x38d)][_0x548b01(0x596)]()[_0x548b01(0x24f)]<0xd&&(_0x195f30[_0x548b01(0x38d)]=_0x195f30[_0x548b01(0x38d)]*0x3e8);let _0x3eb68f=_0x195f30['message'],{messageContent:_0x544516,message_normalized:_0x40a39b}=this[_0x548b01(0x393)](_0x3eb68f,_(_0x195f30[_0x548b01(0x295)]),_0x1ed562);_0x544516||console[_0x548b01(0x654)]('Mensagem\x20não\x20suportada');let _0x4356aa={'_id':_0x195f30[_0x548b01(0x7e9)]['id'],'key':_0x195f30[_0x548b01(0x7e9)],'pushName':_0x195f30['pushName'],'message':{..._0x195f30[_0x548b01(0x295)]},'messageType':_(_0x195f30[_0x548b01(0x295)]),'message_normalized':{'key':_0x195f30[_0x548b01(0x7e9)],'pushName':_0x195f30[_0x548b01(0x6ad)],'messageTimestamp':_0x195f30['messageTimestamp'],'source':(0x0,w[_0x548b01(0x7b3)])(_0x195f30['key']['id']),..._0x40a39b},'messageTimestamp':_0x195f30[_0x548b01(0x38d)],'owner':this[_0x548b01(0x2e2)][_0x548b01(0x2b8)]};this['logger'][_0x548b01(0x743)](_0x4356aa),await this['repository'][_0x548b01(0x295)][_0x548b01(0x5a4)]([_0x4356aa],this['instance'][_0x548b01(0x2b8)]),this[_0x548b01(0x236)]('messages.upsert',_0x4356aa),j(this[_0x548b01(0x6a3)],_0x548b01(0x27a),{'message':_0x4356aa}),_0x195f30[_0x548b01(0x7e9)][_0x548b01(0x6e5)]!==_0x548b01(0x372)&&await this[_0x548b01(0x772)](_0x453cc6,_0x4356aa,'MESSAGES_UPSERT');},'messages.update':async(_0x56a575,_0x29ffd3)=>{const _0x13f217=_0x39d470;let _0x70f048={0x0:'ERROR',0x1:_0x13f217(0x2cd),0x2:_0x13f217(0x80b),0x3:_0x13f217(0x200),0x4:_0x13f217(0x3ec),0x5:'PLAYED'};for await(let {key:_0x2c293,update:_0x321fc8}of _0x56a575){if(this[_0x13f217(0x4b2)]?.[_0x13f217(0x521)]&&_0x2c293['remoteJid']['includes'](_0x13f217(0x7fd))){this[_0x13f217(0x2c2)][_0x13f217(0x2fa)](_0x13f217(0x2bf));return;}if(_0x2c293[_0x13f217(0x6e5)]!==_0x13f217(0x372)){let _0x1b574e=Date[_0x13f217(0x7f7)](),_0x1cd82f;_0x321fc8[_0x13f217(0x295)]===null&&_0x321fc8[_0x13f217(0x776)]===void 0x0?_0x1cd82f=_0x13f217(0x3e5):_0x1cd82f=_0x70f048[_0x321fc8['status']];let _0x593e46=_0x2c293['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x3534aa={..._0x2c293,'remoteJid':_0x593e46,'status':_0x1cd82f,'datetime':_0x1b574e,'owner':this[_0x13f217(0x2e2)][_0x13f217(0x2b8)]};this[_0x13f217(0x236)](_0x13f217(0x1e0),_0x3534aa),await this[_0x13f217(0x5ce)](_0x2c293,_0x3534aa);}}},'labels.association':async({type:_0xfebe61,association:_0x38ed96})=>{const _0x3e87ac=_0x39d470;if(_0x38ed96[_0x3e87ac(0x6ef)]===_0x3e87ac(0x2f2))switch(_0xfebe61){case'add':console[_0x3e87ac(0x743)](_0x3e87ac(0x38f)),console['log'](_0x38ed96),await this[_0x3e87ac(0x552)][_0x3e87ac(0x5e1)][_0x3e87ac(0x6c6)]({'where':{'_id':_0x38ed96[_0x3e87ac(0x556)]}},{'labels':_0x38ed96[_0x3e87ac(0x676)]},this[_0x3e87ac(0x2e2)][_0x3e87ac(0x2b8)],void 0x0,_0x3e87ac(0x37f));break;case _0x3e87ac(0x3b6):console[_0x3e87ac(0x743)](_0x3e87ac(0x476)),console[_0x3e87ac(0x743)](_0x38ed96),await this[_0x3e87ac(0x552)]['chat'][_0x3e87ac(0x6c6)]({'where':{'_id':_0x38ed96[_0x3e87ac(0x556)]}},{'labels':_0x38ed96[_0x3e87ac(0x676)]},this[_0x3e87ac(0x2e2)][_0x3e87ac(0x2b8)],void 0x0,_0x3e87ac(0x802));break;default:console[_0x3e87ac(0x654)](_0x3e87ac(0x2e7)+_0xfebe61+']');}},'labels.edit':async _0x36962b=>{const _0x28fc74=_0x39d470;if(!_0x36962b||!_0x36962b['id']){console['error'](_0x28fc74(0x74a));return;}let _0x29df5b={'_id':_0x36962b['id'],'color':_0x36962b?.[_0x28fc74(0x273)],'name':_0x36962b?.[_0x28fc74(0x5f2)],'owner':this[_0x28fc74(0x2e2)][_0x28fc74(0x2b8)]};await this[_0x28fc74(0x552)]['label']['updateOne']({'where':{'_id':_0x36962b['id']}},_0x29df5b,this[_0x28fc74(0x2e2)][_0x28fc74(0x2b8)]),console[_0x28fc74(0x743)](_0x28fc74(0x542),_0x36962b),_0x36962b[_0x28fc74(0x2db)]&&(await this[_0x28fc74(0x552)][_0x28fc74(0x456)][_0x28fc74(0x46c)]({'where':{'_id':_0x36962b['id']}},this[_0x28fc74(0x2e2)][_0x28fc74(0x2b8)]),console[_0x28fc74(0x743)](_0x28fc74(0x304),_0x36962b['id']));}},this[_0x39d470(0x309)]={'groups.upsert':_0x5795ff=>{const _0x30293e=_0x39d470;this['sendDataWebhook'](_0x30293e(0x314),_0x5795ff);},'groups.update':_0x2a4706=>{const _0x194c60=_0x39d470;this['sendDataWebhook'](_0x194c60(0x34b),_0x2a4706);},'group-participants.update':_0x3355fd=>{const _0x26cc4c=_0x39d470;this[_0x26cc4c(0x236)](_0x26cc4c(0x254),_0x3355fd);}},this[_0x39d470(0x31f)]=async _0x45f858=>{const _0x3ee1b6=_0x39d470;if(_0x45f858[_0x3ee1b6(0x295)]?.['pollUpdateMessage']){let _0x42c737=await this[_0x3ee1b6(0x4d4)](_0x45f858[_0x3ee1b6(0x295)]['pollUpdateMessage'][_0x3ee1b6(0x358)],!0x0);if(_0x42c737){let _0x3efff1=_0x42c737[_0x3ee1b6(0x7e9)][_0x3ee1b6(0x797)]?this[_0x3ee1b6(0x2e2)][_0x3ee1b6(0x2b8)]+_0x3ee1b6(0x20d):_0x42c737[_0x3ee1b6(0x7e9)][_0x3ee1b6(0x77d)]||_0x42c737['key'][_0x3ee1b6(0x6e5)],_0x2dc5d3=_0x42c737[_0x3ee1b6(0x7e9)]['id'],_0x8bc976=_0x42c737['message'],_0x5ca350=Buffer[_0x3ee1b6(0x525)](_0x8bc976[_0x3ee1b6(0x44c)][_0x3ee1b6(0x817)][_0x3ee1b6(0x596)](_0x3ee1b6(0x474)),_0x3ee1b6(0x474)),_0xf8c87f=(0x0,w['decryptPollVote'])(_0x45f858['message'][_0x3ee1b6(0x25a)]['vote'],{'pollCreatorJid':_0x3efff1,'pollMsgId':_0x2dc5d3,'pollEncKey':_0x5ca350,'voterJid':_0x45f858[_0x3ee1b6(0x7e9)][_0x3ee1b6(0x797)]?this[_0x3ee1b6(0x2e2)]['wuid']+'@s.whatsapp.net':_0x45f858[_0x3ee1b6(0x7e9)][_0x3ee1b6(0x6e5)][_0x3ee1b6(0x5bf)]('g.us')?_0x45f858[_0x3ee1b6(0x7e9)][_0x3ee1b6(0x77d)]:_0x45f858['key'][_0x3ee1b6(0x6e5)]}),_0x253622=[],_0x36d826=_0xf8c87f['selectedOptions'][_0x3ee1b6(0x515)](_0x471eda=>Buffer[_0x3ee1b6(0x525)](_0x471eda)['toString'](_0x3ee1b6(0x474)));for(let {optionName:_0x754071}of _0x8bc976[_0x3ee1b6(0x452)]?.[_0x3ee1b6(0x23d)]||_0x8bc976[_0x3ee1b6(0x582)]?.[_0x3ee1b6(0x23d)]||_0x8bc976[_0x3ee1b6(0x3a8)]?.[_0x3ee1b6(0x23d)])_0x36d826[_0x3ee1b6(0x508)]((0x0,w['sha256'])(Buffer[_0x3ee1b6(0x525)](_0x754071))[_0x3ee1b6(0x596)](_0x3ee1b6(0x474)))>-0x1&&_0x253622[_0x3ee1b6(0x5c5)](_0x754071);return _0x253622;}}return null;},this[_0x39d470(0x393)]=(_0x25dfcd,_0x1e371f,_0x5c99a2)=>{const _0x53cfa1=_0x39d470;try{let _0x15afa3=_0x1e371f?_0x25dfcd[_0x1e371f]:void 0x0,_0x583da0={},_0x37a453=null,_0x325706=null,_0x378ef8=null;if(_0x25dfcd['viewOnceMessageV2']?(_0x1e371f=_(_0x25dfcd[_0x53cfa1(0x594)][_0x53cfa1(0x295)]),_0x15afa3=_0x25dfcd[_0x53cfa1(0x594)][_0x53cfa1(0x295)][_0x1e371f]):_0x25dfcd[_0x53cfa1(0x20c)]?(_0x1e371f=_(_0x25dfcd[_0x53cfa1(0x20c)][_0x53cfa1(0x295)]),_0x15afa3=_0x25dfcd[_0x53cfa1(0x20c)][_0x53cfa1(0x295)][_0x1e371f]):_0x25dfcd['viewOnceMessage']?(_0x1e371f=_(_0x25dfcd[_0x53cfa1(0x4e9)][_0x53cfa1(0x295)]),_0x15afa3=_0x25dfcd[_0x53cfa1(0x4e9)]['message'][_0x1e371f]):_0x25dfcd[_0x53cfa1(0x79e)]?(_0x1e371f=_(_0x25dfcd['message'][_0x53cfa1(0x79e)][_0x53cfa1(0x295)]),_0x15afa3=_0x25dfcd[_0x53cfa1(0x295)][_0x53cfa1(0x79e)]['message'][_0x1e371f]):_0x25dfcd[_0x53cfa1(0x3f2)]?.[_0x53cfa1(0x295)]?.[_0x53cfa1(0x3dd)]?.['editedMessage']?(_0x1e371f=_(_0x25dfcd['editedMessage'][_0x53cfa1(0x295)][_0x53cfa1(0x3dd)][_0x53cfa1(0x3f2)]),_0x37a453=_0x25dfcd[_0x53cfa1(0x3f2)]['message'][_0x53cfa1(0x3dd)][_0x53cfa1(0x7e9)]['id'],_0x15afa3=_0x25dfcd['editedMessage'][_0x53cfa1(0x295)][_0x53cfa1(0x3dd)]['editedMessage'][_0x1e371f]):_0x15afa3=_0x25dfcd[_0x1e371f],!_0x1e371f||!_0x15afa3)return console[_0x53cfa1(0x654)](_0x53cfa1(0x517),_0x25dfcd),{'messageType':_0x1e371f,'messageContent':_0x15afa3,'message_normalized':{}};_0x25dfcd[_0x1e371f]?.[_0x53cfa1(0x637)]?.[_0x53cfa1(0x81d)]&&_0x25dfcd[_0x1e371f]?.['contextInfo']?.[_0x53cfa1(0x4d9)]&&(_0x325706=_0x25dfcd[_0x1e371f][_0x53cfa1(0x637)][_0x53cfa1(0x81d)]),_0x25dfcd[_0x53cfa1(0x3c5)]&&(_0x378ef8=_0x25dfcd[_0x53cfa1(0x3c5)][_0x53cfa1(0x7e9)]['id']);let _0x1934c9;if(_0x15afa3&&typeof _0x15afa3==_0x53cfa1(0x618)&&_0x53cfa1(0x358)in _0x15afa3&&({pollCreationMessageKey:_0x1934c9}=_0x15afa3),_0x1e371f===_0x53cfa1(0x7e4)){let _0x17b5c2=_0x15afa3?.[_0x53cfa1(0x295)]?.['documentMessage'];_0x17b5c2&&(_0x15afa3=_0x17b5c2);}if(_0x1e371f==='pollCreationMessage'||_0x1e371f===_0x53cfa1(0x3a8)||_0x1e371f===_0x53cfa1(0x582)){let _0x134e2d=_0x15afa3[_0x53cfa1(0x23d)][_0x53cfa1(0x515)](_0x349b98=>_0x349b98[_0x53cfa1(0x6f8)])[_0x53cfa1(0x6fa)]('|');_0x583da0[_0x53cfa1(0x282)]=_0x134e2d;}let _0x117cbf=_0x15afa3[_0x53cfa1(0x5f2)]||_0x15afa3[_0x53cfa1(0x53f)]||_0x15afa3[_0x53cfa1(0x385)]||_0x15afa3['displayName'];if(_0x1e371f===_0x53cfa1(0x7c5)){_0x117cbf=(_0x15afa3[_0x53cfa1(0x765)]||'')+'\x0a'+(_0x15afa3[_0x53cfa1(0x789)]||'')+'\x0a'+(_0x15afa3[_0x53cfa1(0x55a)]||'');let _0x20c0e3=this[_0x53cfa1(0x7a2)](_0x15afa3[_0x53cfa1(0x4c3)]);_0x583da0['convertedOptions']=_0x20c0e3;}if(_0x1e371f===_0x53cfa1(0x419)&&(_0x5c99a2=_0x15afa3[_0x53cfa1(0x765)]),_0x15afa3[_0x53cfa1(0x81b)]){let _0x4d77de=this[_0x53cfa1(0x300)](JSON[_0x53cfa1(0x75b)](_0x15afa3[_0x53cfa1(0x81b)],null,0x2));_0x117cbf=_0x117cbf+'\x0a'+_0x4d77de;}if(_0x15afa3){let {sections:_0x3cf5b3,listType:_0x2c12b3,displayName:_0x167f45,vcard:_0x375068,contactVcard:_0x2cbc9e,name:_0x21566b,caption:_0x48eb3c,conversation:_0x37400b,pollCreationMessageKey:_0x5c0691,footerText:_0x112353,contentText:_0x527463,pageCount:_0x385b3a,headerType:_0x24b851,isAvatar:_0x43ca74,isAnimated:_0x514a05,fallbackLc:_0x215b0a,fallbackLg:_0xe2332d,namespace:_0x57d0ea,elementName:_0x2ed4b6,localizableParams:_0x3da166,viewOnce:_0x33f4f8,height:_0x10531a,width:_0x3f744f,key:_0x2c9672,firstScanLength:_0x3040d6,firstScanSidecar:_0x225d7,gifPlayback:_0x34eac3,gifAttribution:_0x1d7fa8,midQualityFileSha256:_0x37c659,scansSidecar:_0x1f7d53,streamingSidecar:_0x221f81,thumbnailHeight:_0x923e27,thumbnailWidth:_0x362502,thumbnailEncSha256:_0x3f5d7c,thumbnailDirectPath:_0x999e14,canonicalUrl:_0x57b7ed,matchedText:_0x47896e,previewType:_0x45e1d9,thumbnailSha256:_0x2ee80a,deviceListMetadataVersion:_0x8d5610,inviteLinkGroupTypeV2:_0x24814c,interactiveAnnotations:_0x2a5060,scanLengths:_0x43d695,jpegThumbnail:_0x5c721b,url:_0x5e1929,mediaKeyTimestamp:_0x3bfd84,waveform:_0x565e3f,stickerSentTs:_0x319275,firstFrameLength:_0x107f9f,fileEncSha256:_0x14af4f,contextInfo:_0x34a43b,firstFrameSidecar:_0x4e7460,directPath:_0x59458e,fileSha256:_0x1efe63,mediaKey:_0x688330,senderTimestampMs:_0x55f7a8,..._0x574cd8}=_0x15afa3;(_0x1e371f===_0x53cfa1(0x7c5)||_0x1e371f===_0x53cfa1(0x419))&&(delete _0x574cd8[_0x53cfa1(0x765)],delete _0x574cd8['description']),typeof _0x15afa3==_0x53cfa1(0x219)?_0x583da0={'text':_0x15afa3,'type':_0x1e371f||'conversation',..._0x37a453&&{'edited':_0x37a453},..._0x325706&&{'quoted':_0x325706},..._0x378ef8&&{'reaction':_0x378ef8}}:_0x583da0={'text':_0x117cbf,..._0x574cd8,..._0x1e371f==='pollUpdateMessage'?{'poll_id':_0x15afa3[_0x53cfa1(0x358)]['id'],'quoted':_0x15afa3[_0x53cfa1(0x358)]['id'],'vote':_0x5c99a2}:{},..._0x1e371f===_0x53cfa1(0x419)?{'vote':_0x5c99a2}:{},'type':_0x1e371f,..._0x37a453&&{'edited':_0x37a453},..._0x325706&&{'quoted':_0x325706},..._0x378ef8&&{'reaction':_0x378ef8},...(_0x1e371f===_0x53cfa1(0x452)||_0x1e371f===_0x53cfa1(0x3a8)||_0x1e371f===_0x53cfa1(0x582)||_0x1e371f===_0x53cfa1(0x7c5))&&{'convertedOptions':_0x583da0[_0x53cfa1(0x282)]}};}return{'messageType':_0x1e371f,'messageContent':_0x15afa3,'message_normalized':_0x583da0};}catch(_0x2f89dc){console[_0x53cfa1(0x654)](_0x53cfa1(0x649),_0x2f89dc);}},this[_0x39d470(0x561)]=null,this[_0x39d470(0x7d3)]=0x0,this['timerId']=null,(this[_0x39d470(0x251)](),this[_0x39d470(0x2e2)][_0x39d470(0x6f2)]={'count':0x0});}set[a0_0x401cf8(0x6a3)](_0x297fd0){const _0x555fb5=a0_0x401cf8;if(!_0x297fd0){this[_0x555fb5(0x2e2)][_0x555fb5(0x5f2)]=(0x0,gr['v4'])();return;}this[_0x555fb5(0x2e2)]['name']=_0x297fd0,this[_0x555fb5(0x236)](_0x555fb5(0x2ba),{'instance':this[_0x555fb5(0x2e2)][_0x555fb5(0x5f2)],'status':_0x555fb5(0x587)});}get[a0_0x401cf8(0x6a3)](){const _0x23010d=a0_0x401cf8;return this[_0x23010d(0x2e2)]['name'];}get['wuid'](){const _0x5917e4=a0_0x401cf8;return this['instance'][_0x5917e4(0x2b8)];}async[a0_0x401cf8(0x279)](){const _0x47b996=a0_0x401cf8;let _0x159b24=this[_0x47b996(0x45f)][_0x47b996(0x670)]?.['name']??this[_0x47b996(0x45f)][_0x47b996(0x670)]?.[_0x47b996(0x640)];if(!_0x159b24){if(this[_0x47b996(0x3e3)][_0x47b996(0x626)]('DATABASE')[_0x47b996(0x516)]){let _0xc0668a=await N['getClient']()['db'](this[_0x47b996(0x3e3)][_0x47b996(0x626)](_0x47b996(0x316))[_0x47b996(0x367)]['DB_PREFIX_NAME']+_0x47b996(0x7c9))['collection'](this[_0x47b996(0x6a3)])[_0x47b996(0x4d8)]({'_id':_0x47b996(0x3f7)});if(_0xc0668a){let _0x4e0dd2=JSON[_0x47b996(0x359)](JSON[_0x47b996(0x75b)](_0xc0668a),w['BufferJSON'][_0x47b996(0x381)]);_0x159b24=_0x4e0dd2['me']?.['name']||_0x4e0dd2['me']?.[_0x47b996(0x640)];}}else{if((0x0,Ee['existsSync'])((0x0,P['join'])(de,this['instanceName'],_0x47b996(0x5be)))){let _0x102aff=JSON[_0x47b996(0x359)]((0x0,Ee[_0x47b996(0x5f9)])((0x0,P['join'])(de,this[_0x47b996(0x6a3)],_0x47b996(0x5be)),{'encoding':_0x47b996(0x307)}));_0x159b24=_0x102aff['me']?.['name']||_0x102aff['me']?.[_0x47b996(0x640)];}}}return _0x159b24;}get[a0_0x401cf8(0x29d)](){const _0x578a1d=a0_0x401cf8;return this[_0x578a1d(0x2e2)][_0x578a1d(0x29d)];}get[a0_0x401cf8(0x479)](){const _0x135a76=a0_0x401cf8;return{'pairingCode':this[_0x135a76(0x2e2)][_0x135a76(0x6f2)]?.[_0x135a76(0x355)],'code':this['instance'][_0x135a76(0x6f2)]?.['code'],'base64':this[_0x135a76(0x2e2)][_0x135a76(0x6f2)]?.[_0x135a76(0x81f)]};}async[a0_0x401cf8(0x65f)](){const _0x4892ea=a0_0x401cf8;let _0x1f2bbb=await this[_0x4892ea(0x552)][_0x4892ea(0x6f1)][_0x4892ea(0x7d2)](this[_0x4892ea(0x6a3)]);this[_0x4892ea(0x4b2)][_0x4892ea(0x410)]=_0x1f2bbb?.[_0x4892ea(0x410)],this[_0x4892ea(0x4b2)][_0x4892ea(0x6e3)]=_0x1f2bbb?.[_0x4892ea(0x6e3)],this[_0x4892ea(0x4b2)][_0x4892ea(0x444)]=_0x1f2bbb?.[_0x4892ea(0x444)],this[_0x4892ea(0x4b2)]['STATUS_INSTANCE']=_0x1f2bbb?.['STATUS_INSTANCE'],this[_0x4892ea(0x4b2)]['QRCODE_UPDATED']=_0x1f2bbb?.[_0x4892ea(0x3d2)],this[_0x4892ea(0x4b2)][_0x4892ea(0x5d7)]=_0x1f2bbb?.[_0x4892ea(0x5d7)],this[_0x4892ea(0x4b2)][_0x4892ea(0x34a)]=_0x1f2bbb?.[_0x4892ea(0x34a)],this[_0x4892ea(0x4b2)][_0x4892ea(0x779)]=_0x1f2bbb?.[_0x4892ea(0x779)],this[_0x4892ea(0x4b2)]['GROUPS_UPSERT']=_0x1f2bbb?.['GROUPS_UPSERT'],this[_0x4892ea(0x4b2)][_0x4892ea(0x6ab)]=_0x1f2bbb?.[_0x4892ea(0x6ab)],this[_0x4892ea(0x4b2)][_0x4892ea(0x2e9)]=_0x1f2bbb?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook'][_0x4892ea(0x37a)]=_0x1f2bbb?.[_0x4892ea(0x37a)],this[_0x4892ea(0x4b2)][_0x4892ea(0x7d5)]=_0x1f2bbb?.[_0x4892ea(0x7d5)],this[_0x4892ea(0x4b2)][_0x4892ea(0x466)]=_0x1f2bbb?.[_0x4892ea(0x466)],this[_0x4892ea(0x4b2)][_0x4892ea(0x777)]=_0x1f2bbb?.['CHATS_DELETE'],this[_0x4892ea(0x4b2)][_0x4892ea(0x206)]=_0x1f2bbb?.[_0x4892ea(0x206)],this[_0x4892ea(0x4b2)][_0x4892ea(0x3ef)]=_0x1f2bbb?.['CONTACTS_UPSERT'],this['localWebhook'][_0x4892ea(0x7f0)]=_0x1f2bbb?.['CONTACTS_UPDATE'],this[_0x4892ea(0x4b2)][_0x4892ea(0x736)]=_0x1f2bbb?.[_0x4892ea(0x736)],this[_0x4892ea(0x4b2)]['MESSAGES_SET']=_0x1f2bbb?.['MESSAGES_SET'],this[_0x4892ea(0x4b2)][_0x4892ea(0x3bb)]=_0x1f2bbb?.['CONNECTION_UPDATE'],this[_0x4892ea(0x4b2)]['groups_ignore']=_0x1f2bbb?.[_0x4892ea(0x521)];}async[a0_0x401cf8(0x75d)](_0x31ca70){const _0x4d9a93=a0_0x401cf8;let _0x5580ff=[_0x4d9a93(0x1ce),_0x4d9a93(0x410),_0x4d9a93(0x6e3),'local_map',_0x4d9a93(0x754),_0x4d9a93(0x3d2),_0x4d9a93(0x779),'MESSAGES_UPSERT',_0x4d9a93(0x5d7),_0x4d9a93(0x733),_0x4d9a93(0x6ab),_0x4d9a93(0x2e9),_0x4d9a93(0x37a),'CHATS_UPSERT',_0x4d9a93(0x466),_0x4d9a93(0x777),_0x4d9a93(0x206),_0x4d9a93(0x3ef),_0x4d9a93(0x7f0),'PRESENCE_UPDATE',_0x4d9a93(0x228),_0x4d9a93(0x3bb),'groups_ignore'],_0x3d87ad={};return _0x5580ff[_0x4d9a93(0x306)](_0x2a632d=>{_0x31ca70[_0x2a632d]!==void 0x0&&(_0x3d87ad[_0x2a632d]=_0x31ca70[_0x2a632d]);}),await this[_0x4d9a93(0x552)][_0x4d9a93(0x6f1)][_0x4d9a93(0x368)](_0x3d87ad,this[_0x4d9a93(0x6a3)]),Object[_0x4d9a93(0x540)](this['localWebhook'],_0x3d87ad),await this[_0x4d9a93(0x552)][_0x4d9a93(0x6f1)][_0x4d9a93(0x7d2)](this[_0x4d9a93(0x6a3)]);}async[a0_0x401cf8(0x2b1)](){const _0x10be1a=a0_0x401cf8;return await this[_0x10be1a(0x552)][_0x10be1a(0x6f1)][_0x10be1a(0x7d2)](this[_0x10be1a(0x6a3)]);}async[a0_0x401cf8(0x236)](_0x49df0b,_0x5c03ab){const _0x1d827d=a0_0x401cf8;let _0x5bc54a=_0x49df0b[_0x1d827d(0x4e1)](/[\.-]/gm,'_')[_0x1d827d(0x296)](),_0x38e06b=this[_0x1d827d(0x4b2)][_0x1d827d(0x6e3)]&&(0x0,$[_0x1d827d(0x79b)])(this[_0x1d827d(0x4b2)][_0x1d827d(0x410)])?this[_0x1d827d(0x4b2)]['url']+(this[_0x1d827d(0x4b2)]['local_map']?this[_0x1d827d(0x4e7)][_0x49df0b]:''):null,_0x5bda21=this[_0x1d827d(0x4b2)][_0x5bc54a],_0x57beee=oe&&oe[_0x1d827d(0x6e3)]&&(0x0,$[_0x1d827d(0x79b)])(oe[_0x1d827d(0x410)])?oe['url']+(oe[_0x1d827d(0x444)]?this[_0x1d827d(0x4e7)][_0x49df0b]:''):null,_0x3f13f7=oe?oe[_0x5bc54a]:null;if(_0x5bda21&&_0x38e06b)try{await te['default'][_0x1d827d(0x368)]({'baseURL':_0x38e06b})['post']('',{'event':_0x49df0b,'instance':this[_0x1d827d(0x2e2)][_0x1d827d(0x5f2)],'data':_0x5c03ab}),this[_0x1d827d(0x2c2)][_0x1d827d(0x743)](_0x1d827d(0x524)+_0x49df0b+':\x20'+_0x38e06b);}catch(_0xa2cfc6){this[_0x1d827d(0x2c2)][_0x1d827d(0x654)](this[_0x1d827d(0x6a3)]+'\x20('+this[_0x1d827d(0x2e2)]['wuid']+_0x1d827d(0x73f)+{'local':c['name']+_0x1d827d(0x51c),'message':_0xa2cfc6?.[_0x1d827d(0x295)],'hostName':_0xa2cfc6?.[_0x1d827d(0x220)],'syscall':_0xa2cfc6?.[_0x1d827d(0x5de)],'code':_0xa2cfc6?.['code'],'error':_0xa2cfc6?.[_0x1d827d(0x46f)],'stack':_0xa2cfc6?.[_0x1d827d(0x61b)],'name':_0xa2cfc6?.[_0x1d827d(0x5f2)]});}if(_0x3f13f7&&_0x57beee)try{await te[_0x1d827d(0x787)][_0x1d827d(0x368)]({'baseURL':_0x57beee})['post']('',{'event':_0x49df0b,'instance':this[_0x1d827d(0x2e2)]['name'],'data':_0x5c03ab}),this[_0x1d827d(0x2c2)][_0x1d827d(0x743)](_0x1d827d(0x5c4)+_0x49df0b+':\x20'+_0x57beee);}catch(_0x99f961){this['logger']['error'](this[_0x1d827d(0x6a3)]+'\x20('+this[_0x1d827d(0x2e2)][_0x1d827d(0x2b8)]+_0x1d827d(0x73f)+{'local':c['name']+'.sendDataWebhook-global','message':_0x99f961?.[_0x1d827d(0x295)],'hostName':_0x99f961?.[_0x1d827d(0x220)],'syscall':_0x99f961?.[_0x1d827d(0x5de)],'code':_0x99f961?.[_0x1d827d(0x562)],'error':_0x99f961?.['errno'],'stack':_0x99f961?.[_0x1d827d(0x61b)],'name':_0x99f961?.[_0x1d827d(0x5f2)]});}}async['connectionUpdate']({qr:_0x7d0d9,connection:_0x39689b,lastDisconnect:_0x37f4b3}){const _0x162f60=a0_0x401cf8;if(_0x7d0d9){if(this[_0x162f60(0x2e2)][_0x162f60(0x6f2)][_0x162f60(0x65e)]===po)return this[_0x162f60(0x236)](_0x162f60(0x3e2),{'message':_0x162f60(0x2d6),'statusCode':w[_0x162f60(0x2f4)]['badSession']}),this[_0x162f60(0x53b)]={'state':_0x162f60(0x7c0),'statusReason':w[_0x162f60(0x2f4)]['connectionClosed']},this['sendDataWebhook'](_0x162f60(0x2ed),{'instance':this['instance'][_0x162f60(0x5f2)],...this[_0x162f60(0x53b)]}),this[_0x162f60(0x236)](_0x162f60(0x2ba),{'instance':this[_0x162f60(0x2e2)][_0x162f60(0x5f2)],'status':_0x162f60(0x75c)}),this[_0x162f60(0x552)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x162f60(0x2e2)][_0x162f60(0x5f2)]),this[_0x162f60(0x52b)]=!0x0,this[_0x162f60(0x5b3)][_0x162f60(0x660)]('no.connection',this[_0x162f60(0x2e2)][_0x162f60(0x5f2)]);this[_0x162f60(0x2e2)][_0x162f60(0x6f2)][_0x162f60(0x65e)]++;let _0x40c819={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x162f60(0x2b5),'dark':_0x162f60(0x533)}};hr[_0x162f60(0x787)][_0x162f60(0x5d2)](_0x7d0d9,_0x40c819,(_0x158525,_0x51095a)=>{const _0x20b62f=_0x162f60;if(_0x158525){this[_0x20b62f(0x2c2)]['error'](this[_0x20b62f(0x6a3)]+'\x20('+this[_0x20b62f(0x2e2)]['wuid']+_0x20b62f(0x74c)+(_0x158525 instanceof Error?_0x158525['message']:JSON['stringify'](_0x158525,null,0x2)));return;}this[_0x20b62f(0x2e2)][_0x20b62f(0x6f2)]['base64']=_0x51095a,this[_0x20b62f(0x2e2)][_0x20b62f(0x6f2)]['code']=_0x7d0d9,this[_0x20b62f(0x236)](_0x20b62f(0x3e2),{'qrcode':{'instance':this[_0x20b62f(0x2e2)][_0x20b62f(0x5f2)],'pairingCode':this[_0x20b62f(0x2e2)]['qrcode'][_0x20b62f(0x355)],'code':_0x7d0d9,'base64':_0x51095a}});}),this[_0x162f60(0x819)]?this[_0x162f60(0x2e2)][_0x162f60(0x6f2)]['pairingCode']=await this[_0x162f60(0x45f)][_0x162f60(0x226)](this[_0x162f60(0x819)]):this[_0x162f60(0x2e2)][_0x162f60(0x6f2)]['pairingCode']=null,mr['default']['generate'](_0x7d0d9,{'small':!0x0},_0x3bad8c=>this[_0x162f60(0x2c2)][_0x162f60(0x743)](_0x162f60(0x518)+this[_0x162f60(0x2e2)]['name']+',\x20qrcodeCount:\x20'+this['instance']['qrcode'][_0x162f60(0x65e)]+',\x20pairCode:\x20'+this[_0x162f60(0x2e2)][_0x162f60(0x6f2)][_0x162f60(0x355)]+_0x162f60(0x585)+_0x3bad8c));}if(_0x39689b&&(this[_0x162f60(0x53b)]={'state':_0x39689b,'statusReason':_0x37f4b3?.['error']?.[_0x162f60(0x1d6)]?.[_0x162f60(0x643)]??0xc8},this[_0x162f60(0x236)]('connection.update',{'instance':this[_0x162f60(0x2e2)][_0x162f60(0x5f2)],...this[_0x162f60(0x53b)]})),_0x39689b==='close'){if(this['reconnectAttempts']++,this[_0x162f60(0x651)][_0x162f60(0x5c5)](Date[_0x162f60(0x7f7)]()),this['reconnectTimestamps']=this[_0x162f60(0x651)][_0x162f60(0x56b)](_0x28f42d=>Date['now']()-_0x28f42d<this[_0x162f60(0x6eb)]),_0x37f4b3[_0x162f60(0x654)]?.['output']?.[_0x162f60(0x643)]!==w['DisconnectReason'][_0x162f60(0x718)]&&this['reconnectTimestamps']['length']<=this['MAX_RECONNECT_ATTEMPTS'])await this['connectToWhatsapp']();else{this[_0x162f60(0x236)]('status.instance',{'instance':this[_0x162f60(0x2e2)]['name'],'status':_0x162f60(0x75c)}),this['isConnected']=!0x1,this['repository'][_0x162f60(0x6f1)][_0x162f60(0x46c)](this[_0x162f60(0x6a3)]),this['repository'][_0x162f60(0x60c)][_0x162f60(0x368)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x162f60(0x7f7)]()},this[_0x162f60(0x2e2)][_0x162f60(0x5f2)]);try{this[_0x162f60(0x2c2)][_0x162f60(0x2fa)](this[_0x162f60(0x6a3)]+'\x20('+this[_0x162f60(0x2e2)][_0x162f60(0x2b8)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x9e21dc=await this[_0x162f60(0x552)]['message']['deleteAll'](this[_0x162f60(0x2e2)][_0x162f60(0x2b8)]);_0x9e21dc[_0x162f60(0x36f)]?this[_0x162f60(0x2c2)][_0x162f60(0x2fa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x162f60(0x5ca)):console[_0x162f60(0x654)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x9e21dc['error']);}catch(_0x71775e){console[_0x162f60(0x654)](_0x162f60(0x238),_0x71775e);}this['delayMessage']!==null&&(this[_0x162f60(0x2c2)][_0x162f60(0x2fa)](this[_0x162f60(0x6a3)]+'\x20('+this[_0x162f60(0x2e2)][_0x162f60(0x2b8)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x162f60(0x7c2)]),this[_0x162f60(0x7c2)]=null),this[_0x162f60(0x2c2)][_0x162f60(0x2fa)](this[_0x162f60(0x6a3)]+'\x20('+this[_0x162f60(0x2e2)][_0x162f60(0x2b8)]+_0x162f60(0x773)),this[_0x162f60(0x78c)]=null,this[_0x162f60(0x5b3)]['emit'](_0x162f60(0x7ee),this[_0x162f60(0x2e2)]['name'],_0x162f60(0x310)),this[_0x162f60(0x45f)]?.['ws']?.[_0x162f60(0x613)](),this[_0x162f60(0x45f)][_0x162f60(0x5a8)](new Error(_0x162f60(0x717)));}}if(_0x39689b===_0x162f60(0x5a0)){this[_0x162f60(0x61c)],this[_0x162f60(0x2e2)][_0x162f60(0x2b8)]=this[_0x162f60(0x45f)]['user']['id']['replace'](/:\d+/,'')['replace'](_0x162f60(0x20d),''),this['instance'][_0x162f60(0x29d)]=(await this['profilePicture'](this['instance']['wuid']+'@s.whatsapp.net'))[_0x162f60(0x29d)],this[_0x162f60(0x552)][_0x162f60(0x60c)]['create']({'online':!0x0,'owner':this[_0x162f60(0x2e2)][_0x162f60(0x2b8)],'lastDisconnect':null},this['instance'][_0x162f60(0x5f2)]);let _0x516bed=_0x162f60(0x6cf)+this[_0x162f60(0x2e2)][_0x162f60(0x2b8)],_0x17c053=0x28,_0x43c59a=Math[_0x162f60(0x42c)]((_0x17c053-_0x516bed[_0x162f60(0x24f)])/0x2),_0x1fedf9='\x20'[_0x162f60(0x771)](_0x43c59a),_0x107ca9=_0x162f60(0x80a),_0x212ded=_0x162f60(0x7dc)+this['instance']['name'],_0x44f997=(''+_0x1fedf9+_0x516bed+_0x1fedf9)['padEnd'](_0x17c053,'\x20'),_0x51fed4=(''+_0x1fedf9+_0x107ca9+_0x1fedf9)[_0x162f60(0x597)](_0x17c053,'\x20'),_0x5a2001=(''+_0x1fedf9+_0x212ded+_0x1fedf9)[_0x162f60(0x597)](_0x17c053,'\x20'),_0x498a6c=Math[_0x162f60(0x55b)](_0x44f997['length'],_0x51fed4[_0x162f60(0x24f)],_0x5a2001[_0x162f60(0x24f)]),_0x4da930=_0x44f997[_0x162f60(0x597)](_0x498a6c,'\x20'),_0xc092d=_0x51fed4['padEnd'](_0x498a6c,'\x20'),_0x5cec16=_0x5a2001[_0x162f60(0x597)](_0x498a6c,'\x20');this[_0x162f60(0x2c2)]['info']((_0x162f60(0x34d)+'─'[_0x162f60(0x771)](_0x498a6c)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xc092d+_0x162f60(0x7a1)+_0x5cec16+_0x162f60(0x7a1)+_0x4da930+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x498a6c)+'┘')[_0x162f60(0x4e1)](/^ +/gm,'\x20\x20')),this[_0x162f60(0x45e)](),this[_0x162f60(0x7e2)]=!0x0;}}[a0_0x401cf8(0x61c)](){const _0x1b9830=a0_0x401cf8;this[_0x1b9830(0x642)]=0x0,this[_0x1b9830(0x651)]=[];}async[a0_0x401cf8(0x4d4)](_0x512cbc,_0x1f80b1=!0x1){const _0x45f42d=a0_0x401cf8;try{let _0x27658c=await this[_0x45f42d(0x552)][_0x45f42d(0x295)][_0x45f42d(0x7d2)]({'where':{'_id':_0x512cbc['id']}},this[_0x45f42d(0x2e2)]['wuid']);return _0x1f80b1?_0x27658c[0x0]:_0x27658c[0x0][_0x45f42d(0x295)];}catch{return{'conversation':''};}}[a0_0x401cf8(0x251)](){const _0x38ab37=a0_0x401cf8;let _0x1d204d=this[_0x38ab37(0x3e3)]['get'](_0x38ab37(0x2ab)),_0x282164=this[_0x38ab37(0x3e3)]['get'](_0x38ab37(0x316));_0x1d204d?.[_0x38ab37(0x39d)]&&!_0x282164[_0x38ab37(0x516)]&&setInterval(()=>{const _0x5b0cfe=_0x38ab37;try{for(let [_0x342b14,_0x1ab407]of Object['entries'](_0x1d204d))_0x1ab407===!0x0&&(0x0,Ot['execSync'])(_0x5b0cfe(0x2b2)+(0x0,P[_0x5b0cfe(0x6fa)])(this['storePath'],_0x342b14['toLowerCase'](),this[_0x5b0cfe(0x2e2)][_0x5b0cfe(0x2b8)])+_0x5b0cfe(0x401));}catch{}},(_0x1d204d?.[_0x38ab37(0x39d)]??0xe10)*0x3e8);}async[a0_0x401cf8(0x30f)](){const _0x9513b9=a0_0x401cf8;let _0x2a05b4=this['configService'][_0x9513b9(0x626)]('DATABASE'),_0x1b4069=this[_0x9513b9(0x3e3)][_0x9513b9(0x626)](_0x9513b9(0x354));return _0x1b4069?.['ENABLED']?await hs(_0x1b4069,this[_0x9513b9(0x2e2)][_0x9513b9(0x5f2)]):_0x2a05b4[_0x9513b9(0x516)]?await gs(this[_0x9513b9(0x2e2)]['name']):await(0x0,w[_0x9513b9(0x39a)])((0x0,P[_0x9513b9(0x6fa)])(de,this[_0x9513b9(0x2e2)][_0x9513b9(0x5f2)]));}async['AutomateFunctions'](){const _0x391db7=a0_0x401cf8;let _0x16af7e=()=>Math[_0x391db7(0x42c)](Math[_0x391db7(0x2b3)]()*0x2711)+0x7d0,_0x5109f8=async()=>{const _0x402a6c=_0x391db7;if(!this[_0x402a6c(0x7e2)]){this[_0x402a6c(0x2c2)][_0x402a6c(0x2fa)](_0x402a6c(0x7ae)),this['isRunning']=!0x1;return;}if(this[_0x402a6c(0x2e2)]['wuid']&&this['AutomateSystem']&&this[_0x402a6c(0x7c2)]!==null&&this[_0x402a6c(0x7c2)]!==void 0x0){let _0x3956ec=Math[_0x402a6c(0x391)](this[_0x402a6c(0x7c2)]/0xea60);this[_0x402a6c(0x2c2)][_0x402a6c(0x2fa)](this[_0x402a6c(0x6a3)]+'\x20('+this[_0x402a6c(0x2e2)][_0x402a6c(0x2b8)]+_0x402a6c(0x409)+_0x3956ec+_0x402a6c(0x4f7)),this[_0x402a6c(0x3d3)]=!0x1;return;}else this[_0x402a6c(0x2e2)][_0x402a6c(0x2b8)]&&(this[_0x402a6c(0x2c2)][_0x402a6c(0x2fa)](this[_0x402a6c(0x6a3)]+'\x20('+this[_0x402a6c(0x2e2)][_0x402a6c(0x2b8)]+_0x402a6c(0x370)),await this[_0x402a6c(0x552)][_0x402a6c(0x242)][_0x402a6c(0x809)](this[_0x402a6c(0x2e2)]['wuid']),await this['repository']['flow'][_0x402a6c(0x809)](this[_0x402a6c(0x2e2)][_0x402a6c(0x2b8)]),await this[_0x402a6c(0x552)][_0x402a6c(0x747)]['copyDataToNewModel'](this[_0x402a6c(0x2e2)]['wuid']),this[_0x402a6c(0x2c2)]['verbose'](this[_0x402a6c(0x6a3)]+'\x20('+this['instance'][_0x402a6c(0x2b8)]+_0x402a6c(0x6bf)),this[_0x402a6c(0x78c)]||await this[_0x402a6c(0x81c)](),(this[_0x402a6c(0x7c2)]===null||this[_0x402a6c(0x7c2)]===void 0x0)&&await this[_0x402a6c(0x2b0)]());if(this[_0x402a6c(0x3d3)]){let _0x561740=_0x16af7e();this[_0x402a6c(0x2c2)][_0x402a6c(0x2fa)](this[_0x402a6c(0x6a3)]+_0x402a6c(0x603)+_0x561740/0x3e8+'\x20segundos'),setTimeout(_0x5109f8,_0x561740);}};if(this[_0x391db7(0x3d3)])return;this[_0x391db7(0x3d3)]=!0x0;let _0x25467c=_0x16af7e();setTimeout(_0x5109f8,_0x25467c);}async[a0_0x401cf8(0x1e5)](_0x56b3ad,_0x56ff4c,_0x23e063,_0x324005,_0x5333b6){const _0x2d460c=a0_0x401cf8;this[_0x2d460c(0x2c2)][_0x2d460c(0x2fa)](_0x2d460c(0x757));try{let _0x3bf6b0={'host':_0x56b3ad,'port':parseInt(_0x56ff4c),'protocol':_0x23e063};_0x324005&&_0x5333b6&&(_0x3bf6b0={..._0x3bf6b0,'auth':{'username':_0x324005,'password':_0x5333b6}});let _0x400edf=[_0x2d460c(0x53d),_0x2d460c(0x241),_0x2d460c(0x4ba)];for(let _0x50e584 of _0x400edf)try{let _0x1ae532=await te[_0x2d460c(0x787)][_0x2d460c(0x626)](_0x50e584,{'proxy':_0x3bf6b0}),_0x44fe06;return _0x50e584['includes'](_0x2d460c(0x66f))||_0x50e584[_0x2d460c(0x23b)](_0x2d460c(0x6fc))?_0x44fe06=_0x1ae532[_0x2d460c(0x573)]['ip']:_0x50e584[_0x2d460c(0x23b)](_0x2d460c(0x78e))&&(_0x44fe06=_0x1ae532['data'][_0x2d460c(0x72c)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0x2d460c(0x2c2)][_0x2d460c(0x2fa)](_0x2d460c(0x3f4)+_0x50e584+':\x20'+_0x44fe06),!0x0;}catch(_0x10b05d){this[_0x2d460c(0x2c2)][_0x2d460c(0x654)](_0x2d460c(0x664)+_0x50e584+_0x2d460c(0x3df)+_0x10b05d);}return!0x1;}catch(_0x473530){return this[_0x2d460c(0x2c2)][_0x2d460c(0x654)](_0x2d460c(0x3fb)+_0x473530),_0x473530['response']?(this[_0x2d460c(0x2c2)][_0x2d460c(0x654)](_0x2d460c(0x290)+_0x473530['response'][_0x2d460c(0x573)]),this['logger']['error'](_0x2d460c(0x4fe)+_0x473530['response']['status']),this['logger'][_0x2d460c(0x654)](_0x2d460c(0x529)+_0x473530[_0x2d460c(0x774)][_0x2d460c(0x785)])):_0x473530['request']?this[_0x2d460c(0x2c2)]['error'](_0x2d460c(0x53a)+_0x473530['request']):this[_0x2d460c(0x2c2)][_0x2d460c(0x654)](_0x2d460c(0x364)+_0x473530[_0x2d460c(0x295)]),!0x1;}}async[a0_0x401cf8(0x22d)](_0x3566a){const _0x240a2b=a0_0x401cf8;if(console['log'](_0x240a2b(0x22d)),await this[_0x240a2b(0x1e5)](_0x3566a[_0x240a2b(0x255)],_0x3566a[_0x240a2b(0x5d8)],_0x3566a['protocol'],_0x3566a[_0x240a2b(0x5d1)],_0x3566a[_0x240a2b(0x67f)])){console[_0x240a2b(0x743)](_0x240a2b(0x43f));let _0x1582c1=_0x3566a[_0x240a2b(0x537)]+_0x240a2b(0x32e)+_0x3566a[_0x240a2b(0x255)]+':'+_0x3566a['port'];return _0x3566a[_0x240a2b(0x5d1)]&&_0x3566a[_0x240a2b(0x67f)]&&(_0x1582c1=_0x3566a['username']+':'+_0x3566a['password']+'@'+_0x1582c1),this['repository'][_0x240a2b(0x60c)][_0x240a2b(0x368)]({'proxy':_0x1582c1},this[_0x240a2b(0x2e2)][_0x240a2b(0x5f2)]),{'agent':new fr[(_0x240a2b(0x76a))](_0x1582c1)};}return null;}['createProxyConfig'](_0x13b771){const _0x590791=a0_0x401cf8;let _0x49c388=_0x13b771[_0x590791(0x54f)](':');if(_0x49c388[_0x590791(0x24f)]!==0x4)throw new Error(_0x590791(0x628));return{'host':_0x49c388[0x0],'port':_0x49c388[0x1],'username':_0x49c388[0x2],'password':_0x49c388[0x3],'protocol':_0x590791(0x247)};}async['connectToWhatsapp'](_0x483f14,_0x1e4144=!0x0){const _0x581588=a0_0x401cf8;try{let _0x199eef={},_0x39258e=0x0;if(wr&&_0x1e4144){let _0x315bab;try{let _0x272c28=(await this['repository']['auth'][_0x581588(0x7d2)](this['instanceName']))['proxy'];for(_0x272c28&&(_0x315bab=this[_0x581588(0x36c)](_0x272c28)),_0x272c28&&fs(_0x315bab)&&(_0x199eef=await this[_0x581588(0x22d)](_0x315bab),_0x199eef&&_0x39258e++);!_0x199eef&&_0x39258e<0x3;){let _0x10fa5f=lr();if(_0x10fa5f){if(_0x315bab=this[_0x581588(0x36c)](_0x10fa5f[_0x581588(0x255)]+':'+_0x10fa5f['port']+':'+_0x10fa5f[_0x581588(0x5d1)]+':'+_0x10fa5f[_0x581588(0x67f)]),fs(_0x315bab)){if(_0x199eef=await this[_0x581588(0x22d)](_0x315bab),_0x199eef)break;}else this[_0x581588(0x2c2)][_0x581588(0x654)](_0x581588(0x6ec));}_0x39258e++;}}catch(_0x1bc0f1){this[_0x581588(0x2c2)][_0x581588(0x654)](_0x581588(0x678)+_0x1bc0f1),_0x199eef={};}!_0x199eef&&_0x39258e>=0x3&&(this[_0x581588(0x2c2)]['warn']('Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.'),_0x199eef={});}this[_0x581588(0x65f)](),this[_0x581588(0x2e2)][_0x581588(0x3a9)]=await this[_0x581588(0x30f)]();let {version:_0x339b0c}=await(0x0,w[_0x581588(0x66e)])(),_0x587779=[Ss,yr,(0x0,ys['release'])()];console[_0x581588(0x743)](_0x581588(0x23d)),console[_0x581588(0x743)](_0x199eef);let _0x378194={..._0x199eef,'auth':{'creds':this[_0x581588(0x2e2)][_0x581588(0x3a9)][_0x581588(0x268)][_0x581588(0x3f7)],'keys':(0x0,w[_0x581588(0x33e)])(this[_0x581588(0x2e2)][_0x581588(0x3a9)]['state'][_0x581588(0x4ea)],(0x0,Rt[_0x581588(0x787)])({'level':_0x581588(0x654)}))},'logger':(0x0,Rt[_0x581588(0x787)])({'level':_0x581588(0x654)}),'printQRInTerminal':!0x1,'browser':_0x483f14?[_0x581588(0x6a4),Ss,(0x0,ys[_0x581588(0x3a0)])()]:_0x587779,'version':_0x339b0c,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x581588(0x43c)],'getMessage':async _0x5701f1=>await this['getMessage'](_0x5701f1),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x581588(0x464)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x5764ac=>(_0x5764ac[_0x581588(0x7c5)]?.['listType']==w['proto']['Message'][_0x581588(0x49d)]['ListType'][_0x581588(0x32f)]&&(_0x5764ac=JSON[_0x581588(0x359)](JSON[_0x581588(0x75b)](_0x5764ac)),_0x5764ac['listMessage'][_0x581588(0x795)]=w[_0x581588(0x758)][_0x581588(0x77f)]['ListMessage'][_0x581588(0x54e)][_0x581588(0x3ff)]),_0x5764ac)};return this[_0x581588(0x52b)]=!0x1,this[_0x581588(0x45f)]=(0x0,w[_0x581588(0x787)])(_0x378194),this['eventHandler'](),this[_0x581588(0x819)]=_0x483f14,this[_0x581588(0x45f)];}catch(_0x43c108){throw this[_0x581588(0x2c2)][_0x581588(0x654)](this[_0x581588(0x6a3)]+'\x20('+this[_0x581588(0x2e2)]['wuid']+'):\x20'+(_0x43c108 instanceof Error?_0x43c108[_0x581588(0x295)]:JSON['stringify'](_0x43c108,null,0x2))),new O(_0x43c108?.[_0x581588(0x596)]());}}['eventHandler'](){const _0x1df466=a0_0x401cf8;this[_0x1df466(0x45f)]['ev']['process'](_0xf19a10=>{const _0x4a8e11=_0x1df466;if(!this[_0x4a8e11(0x52b)]){let _0x2707a0=this['configService']['get'](_0x4a8e11(0x316));if(_0xf19a10['labels.edit']){let _0xebf2d4=_0xf19a10['labels.edit'];this[_0x4a8e11(0x692)]['labels.edit'](_0xebf2d4);}if(_0xf19a10[_0x4a8e11(0x389)]){let _0x38053=_0xf19a10[_0x4a8e11(0x389)];this[_0x4a8e11(0x692)][_0x4a8e11(0x389)](_0x38053);}if(_0xf19a10[_0x4a8e11(0x2ed)]&&this['connectionUpdate'](_0xf19a10['connection.update']),_0xf19a10['creds.update']&&this[_0x4a8e11(0x2e2)]['authState'][_0x4a8e11(0x3f6)](),_0xf19a10['messaging-history.set']){let _0xddf571=_0xf19a10[_0x4a8e11(0x76c)];this[_0x4a8e11(0x692)][_0x4a8e11(0x76c)](_0xddf571,_0x2707a0);}if(_0xf19a10['messages.upsert']){let _0x225b99=_0xf19a10[_0x4a8e11(0x231)];this[_0x4a8e11(0x692)][_0x4a8e11(0x231)](_0x225b99,_0x2707a0);}if(_0xf19a10[_0x4a8e11(0x1e0)]){let _0x4c7b31=_0xf19a10[_0x4a8e11(0x1e0)];_0x4c7b31[_0x4a8e11(0x306)](_0x545f44=>{const _0x31e36e=_0x4a8e11;if(dr[_0x545f44['key']['id']]){this[_0x31e36e(0x45f)]['ev'][_0x31e36e(0x660)](_0x31e36e(0x231),{'messages':[_0x545f44],'type':_0x31e36e(0x24e)}),delete dr[_0x545f44[_0x31e36e(0x7e9)]['id']];return;}}),this['messageHandle'][_0x4a8e11(0x1e0)](_0x4c7b31,_0x2707a0);}if(_0xf19a10['presence.update']){let _0x2b231a=_0xf19a10[_0x4a8e11(0x234)];if(this[_0x4a8e11(0x4b2)]?.[_0x4a8e11(0x521)]&&_0x2b231a['id'][_0x4a8e11(0x23b)](_0x4a8e11(0x7fd)))return;this[_0x4a8e11(0x236)](_0x4a8e11(0x234),_0x2b231a);}if(!this['localWebhook']?.[_0x4a8e11(0x521)]){if(_0xf19a10[_0x4a8e11(0x314)]){let _0x237064=_0xf19a10[_0x4a8e11(0x314)];this['groupHandler']['groups.upsert'](_0x237064);}if(_0xf19a10['groups.update']){let _0x4dcc96=_0xf19a10[_0x4a8e11(0x34b)];this[_0x4a8e11(0x309)]['groups.update'](_0x4dcc96);}if(_0xf19a10[_0x4a8e11(0x254)]){let _0xee34f7=_0xf19a10['group-participants.update'];this[_0x4a8e11(0x309)]['group-participants.update'](_0xee34f7);}}if(_0xf19a10[_0x4a8e11(0x7e1)]){let _0x5e4de9=_0xf19a10[_0x4a8e11(0x7e1)];this['chatHandle']['chats.upsert'](_0x5e4de9,_0x2707a0);}if(_0xf19a10[_0x4a8e11(0x47d)]){let _0x61140b=_0xf19a10[_0x4a8e11(0x47d)];this[_0x4a8e11(0x756)]['chats.update'](_0x61140b,_0x2707a0);}if(_0xf19a10[_0x4a8e11(0x272)]){let _0x539b87=_0xf19a10[_0x4a8e11(0x272)];this[_0x4a8e11(0x756)][_0x4a8e11(0x272)](_0x539b87);}if(_0xf19a10['contacts.upsert']){let _0x5d381c=_0xf19a10['contacts.upsert'];this[_0x4a8e11(0x1d2)][_0x4a8e11(0x2d5)](_0x5d381c,_0x2707a0);}if(_0xf19a10[_0x4a8e11(0x811)]){let _0x32ad59=_0xf19a10[_0x4a8e11(0x811)];this[_0x4a8e11(0x1d2)][_0x4a8e11(0x811)](_0x32ad59,_0x2707a0);}}});}[a0_0x401cf8(0x321)](_0x2127de){const _0x85ef18=a0_0x401cf8;let _0x5666b2=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x85ef18(0x522)](_0x2127de);if(_0x5666b2&&_0x5666b2[0x1]==='55'){let _0xb4a911=_0x5666b2[0x2],_0x39949b=_0x5666b2[0x3],_0x31567e=_0x5666b2[0x4];if(_0xb4a911>='31'&&_0x39949b==='9')return _0x5666b2[0x1]+_0xb4a911+_0x31567e;}return _0x2127de;}[a0_0x401cf8(0x519)](_0x39e738){const _0x434dc0=a0_0x401cf8;return _0x39e738[_0x434dc0(0x23b)]('@g.us')||_0x39e738[_0x434dc0(0x23b)](_0x434dc0(0x20d))||_0x39e738[_0x434dc0(0x23b)](_0x434dc0(0x70a))?_0x39e738:(_0x39e738=_0x39e738?.[_0x434dc0(0x4e1)](/\s/g,'')[_0x434dc0(0x4e1)](/\+/g,'')[_0x434dc0(0x4e1)](/\(/g,'')[_0x434dc0(0x4e1)](/\)/g,'')[_0x434dc0(0x54f)](/\:/)[0x0]['split']('@')[0x0],_0x39e738['length']>=0x12?(_0x39e738=_0x39e738[_0x434dc0(0x4e1)](/[^\d-]/g,''),_0x39e738+_0x434dc0(0x7fd)):(_0x39e738=_0x39e738['replace'](/\D/g,''),this[_0x434dc0(0x321)](_0x39e738)+_0x434dc0(0x20d)));}async[a0_0x401cf8(0x79c)](_0x5e7dcf){const _0x3be150=a0_0x401cf8;let _0x258088=this[_0x3be150(0x519)](_0x5e7dcf['number']),_0x27d44c=(await this[_0x3be150(0x2e5)]({'numbers':[_0x258088]}))[0x0];if(!_0x27d44c[_0x3be150(0x633)]&&!(0x0,w[_0x3be150(0x2d4)])(_0x27d44c[_0x3be150(0x700)]))throw new h(_0x27d44c);let _0x295584=(0x0,w[_0x3be150(0x2d4)])(_0x258088)?_0x258088:_0x27d44c['jid'];if((0x0,w[_0x3be150(0x2d4)])(_0x295584))try{await this['client'][_0x3be150(0x2be)](_0x295584);}catch{throw new L(_0x3be150(0x493));}try{return await this[_0x3be150(0x45f)]['presenceSubscribe'](_0x295584),await this[_0x3be150(0x45f)][_0x3be150(0x431)](_0x5e7dcf[_0x3be150(0x1f3)],_0x258088),{'status':0xc8,'presence':_0x5e7dcf[_0x3be150(0x1f3)]};}catch(_0x1dff17){throw new h(_0x1dff17[_0x3be150(0x596)]());}}async[a0_0x401cf8(0x313)](_0x405e90){const _0x32b808=a0_0x401cf8;let _0x4b9f10=this[_0x32b808(0x519)](_0x405e90);try{return{'wuid':_0x4b9f10,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x4b9f10,_0x32b808(0x2b6))};}catch{return{'wuid':_0x4b9f10,'profilePictureUrl':null};}}async[a0_0x401cf8(0x2ee)](_0x206666,_0x1900c5,_0x342ce7){const _0x2c7ff8=a0_0x401cf8;_0x342ce7||(_0x342ce7={});let _0x316583=(await this[_0x2c7ff8(0x2e5)]({'numbers':[_0x206666]}))[0x0];if(!_0x316583[_0x2c7ff8(0x633)]&&!(0x0,w[_0x2c7ff8(0x2d4)])(_0x316583[_0x2c7ff8(0x700)])&&!_0x316583[_0x2c7ff8(0x700)]['includes'](_0x2c7ff8(0x70a)))throw new h(_0x316583);let _0x102d8e=_0x316583[_0x2c7ff8(0x700)];try{_0x342ce7?.['delay']&&(await this[_0x2c7ff8(0x45f)][_0x2c7ff8(0x7a7)](_0x102d8e),await this[_0x2c7ff8(0x45f)]['sendPresenceUpdate'](_0x342ce7?.[_0x2c7ff8(0x1f3)]??_0x2c7ff8(0x689),_0x102d8e),await(0x0,w[_0x2c7ff8(0x784)])(_0x342ce7[_0x2c7ff8(0x784)]),await this[_0x2c7ff8(0x45f)]['sendPresenceUpdate'](_0x2c7ff8(0x6d5),_0x102d8e));let _0x473bcc=_0x342ce7?.[_0x2c7ff8(0x451)]!=!0x1?void 0x0:!0x1,_0x21d5e9;if(_0x342ce7?.[_0x2c7ff8(0x2d2)]){let _0x4ce924=_0x342ce7?.[_0x2c7ff8(0x2d2)],_0x573df3=_0x4ce924?.['message']?_0x4ce924:await this[_0x2c7ff8(0x4d4)](_0x4ce924[_0x2c7ff8(0x7e9)],!0x0);if(!_0x573df3)throw _0x2c7ff8(0x69d);_0x21d5e9=_0x573df3;}let _0xf6a771;if((0x0,w['isJidGroup'])(_0x102d8e))try{let _0x2fa3c2=await this[_0x2c7ff8(0x45f)][_0x2c7ff8(0x2be)](_0x102d8e);if(!_0x2fa3c2)throw new L('Group\x20not\x20found');_0x342ce7?.['mentions']&&(_0x342ce7[_0x2c7ff8(0x4ac)]?.['everyOne']?_0xf6a771=_0x2fa3c2[_0x2c7ff8(0x3c8)][_0x2c7ff8(0x515)](_0x535b88=>_0x535b88['id']):_0x342ce7[_0x2c7ff8(0x4ac)]?.[_0x2c7ff8(0x4ad)]?.[_0x2c7ff8(0x24f)]&&(_0xf6a771=_0x342ce7['mentions'][_0x2c7ff8(0x4ad)][_0x2c7ff8(0x515)](_0x565122=>{const _0x5bda54=_0x2c7ff8;let _0x40756d=this[_0x5bda54(0x519)](_0x565122);return(0x0,w[_0x5bda54(0x2d4)])(_0x40756d)?null:_0x40756d;})));}catch{throw new L(_0x2c7ff8(0x493));}let _0x12acc9=await((async()=>{const _0x10efbc=_0x2c7ff8;let _0xce5148={'quoted':_0x21d5e9};if(!_0x1900c5[_0x10efbc(0x35f)]&&!_0x1900c5[_0x10efbc(0x30c)]&&!_0x1900c5[_0x10efbc(0x6d7)]&&!_0x1900c5[_0x10efbc(0x385)]&&_0x102d8e!=='status@broadcast'&&!_0x1900c5['audio'])return await this[_0x10efbc(0x45f)][_0x10efbc(0x541)](_0x102d8e,{'forward':{'key':{'remoteJid':this[_0x10efbc(0x2e2)][_0x10efbc(0x2b8)],'fromMe':!0x0},'message':_0x1900c5},'mentions':_0xf6a771},_0xce5148);if(_0x1900c5[_0x10efbc(0x385)]){let _0x2f3576=_0x1900c5[_0x10efbc(0x385)];return _0x342ce7?.[_0x10efbc(0x319)]&&(_0x2f3576=await this[_0x10efbc(0x768)](_0x2f3576,_0x102d8e)),await this['client'][_0x10efbc(0x541)](_0x102d8e,{'text':_0x2f3576,'mentions':_0xf6a771,'linkPreview':_0x473bcc},_0xce5148);}return _0x102d8e===_0x10efbc(0x372)?await this[_0x10efbc(0x45f)][_0x10efbc(0x541)](_0x102d8e,_0x1900c5['status'][_0x10efbc(0x69b)],{'backgroundColor':_0x1900c5['status'][_0x10efbc(0x411)][_0x10efbc(0x685)],'font':_0x1900c5[_0x10efbc(0x776)][_0x10efbc(0x411)][_0x10efbc(0x63e)],'statusJidList':_0x1900c5['status'][_0x10efbc(0x411)]['statusJidList']}):await this[_0x10efbc(0x45f)][_0x10efbc(0x541)](_0x102d8e,_0x1900c5,_0xce5148);})()),{message_normalized:_0x1b127b}=this['normalizeMessage'](_0x12acc9[_0x2c7ff8(0x295)],_(_0x12acc9['message']),null),_0x1d12e5={'_id':_0x12acc9[_0x2c7ff8(0x7e9)]['id'],'key':_0x12acc9['key'],'pushName':_0x12acc9[_0x2c7ff8(0x6ad)],'message':{..._0x12acc9['message']},'messageType':_(_0x12acc9[_0x2c7ff8(0x295)]),'message_normalized':{'key':_0x12acc9['key'],'pushName':_0x12acc9[_0x2c7ff8(0x6ad)],'messageTimestamp':_0x12acc9[_0x2c7ff8(0x38d)]&&_0x12acc9['messageTimestamp'][_0x2c7ff8(0x596)]()['length']<0xd?_0x12acc9[_0x2c7ff8(0x38d)]*0x3e8:_0x12acc9['messageTimestamp']||null,'source':(0x0,w[_0x2c7ff8(0x7b3)])(_0x12acc9['key']['id']),..._0x1b127b},'messageTimestamp':_0x12acc9['messageTimestamp']&&_0x12acc9[_0x2c7ff8(0x38d)][_0x2c7ff8(0x596)]()[_0x2c7ff8(0x24f)]<0xd?_0x12acc9['messageTimestamp']*0x3e8:_0x12acc9[_0x2c7ff8(0x38d)]||null,'owner':this[_0x2c7ff8(0x2e2)][_0x2c7ff8(0x2b8)],'source':(0x0,w['getDevice'])(_0x12acc9[_0x2c7ff8(0x7e9)]['id'])};return this['logger'][_0x2c7ff8(0x743)](_0x1d12e5),this['sendDataWebhook'](_0x2c7ff8(0x4b4),_0x1d12e5),j(this['instanceName'],_0x2c7ff8(0x27a),{'message':_0x1d12e5}),this[_0x2c7ff8(0x772)](this[_0x2c7ff8(0x3e3)]['get'](_0x2c7ff8(0x316)),_0x1d12e5,_0x2c7ff8(0x5d7)),await this[_0x2c7ff8(0x552)][_0x2c7ff8(0x295)][_0x2c7ff8(0x5a4)]([_0x1d12e5],this['instance'][_0x2c7ff8(0x2b8)]),_0x12acc9;}catch(_0x4330cc){throw this[_0x2c7ff8(0x2c2)][_0x2c7ff8(0x654)](this[_0x2c7ff8(0x6a3)]+'\x20('+this['instance'][_0x2c7ff8(0x2b8)]+_0x2c7ff8(0x73f)+_0x4330cc['toString']()),new h(_0x4330cc[_0x2c7ff8(0x596)]());}}get['connectionStatus'](){const _0x30fd58=a0_0x401cf8;return this[_0x30fd58(0x53b)];}async[a0_0x401cf8(0x32c)](_0x4d15ac){const _0x2bbc4f=a0_0x401cf8;let _0x1047bb=ur,_0x2e8800=We;return _0x2e8800&&this[_0x2bbc4f(0x6a3)]['toLowerCase']()['includes'](_0x2e8800[_0x2bbc4f(0x6cd)]())&&(_0x4d15ac[_0x2bbc4f(0x32c)][_0x2bbc4f(0x3e6)]+='\x0a\x0a'+_0x1047bb),await this[_0x2bbc4f(0x2ee)](_0x4d15ac['number'],{'conversation':_0x4d15ac['textMessage'][_0x2bbc4f(0x3e6)]},_0x4d15ac?.['options']);}async[a0_0x401cf8(0x807)](_0x2358fb){const _0x1a26da=a0_0x401cf8;if(!_0x2358fb[_0x1a26da(0x6ef)])throw new h(_0x1a26da(0x6e0));if(!_0x2358fb[_0x1a26da(0x69b)])throw new h('Content\x20is\x20required');if(_0x2358fb['allContacts']){let _0x527dbb=await this[_0x1a26da(0x552)]['contact'][_0x1a26da(0x7d2)]({'where':{}},this['instance'][_0x1a26da(0x2b8)]);if(!_0x527dbb['length'])throw new h('Contacts\x20not\x20found');_0x2358fb[_0x1a26da(0x727)]=_0x527dbb[_0x1a26da(0x56b)](_0x1736aa=>_0x1736aa[_0x1a26da(0x6ad)])[_0x1a26da(0x515)](_0x3fcc7d=>_0x3fcc7d[_0x1a26da(0x1ce)]);}if(!_0x2358fb['statusJidList']?.[_0x1a26da(0x24f)]&&!_0x2358fb[_0x1a26da(0x1e8)])throw new h('StatusJidList\x20is\x20required');if(_0x2358fb[_0x1a26da(0x6ef)]===_0x1a26da(0x3e6)){if(!_0x2358fb['backgroundColor'])throw new h(_0x1a26da(0x730));if(!_0x2358fb[_0x1a26da(0x63e)])throw new h(_0x1a26da(0x563));return{'content':{'text':_0x2358fb['content']},'option':{'backgroundColor':_0x2358fb[_0x1a26da(0x685)],'font':_0x2358fb['font'],'statusJidList':_0x2358fb[_0x1a26da(0x727)]}};}if(_0x2358fb[_0x1a26da(0x6ef)]===_0x1a26da(0x2b6))return{'content':{'image':{'url':_0x2358fb[_0x1a26da(0x69b)]},'caption':_0x2358fb[_0x1a26da(0x53f)]},'option':{'statusJidList':_0x2358fb[_0x1a26da(0x727)]}};if(_0x2358fb[_0x1a26da(0x6ef)]===_0x1a26da(0x447))return{'content':{'video':{'url':_0x2358fb[_0x1a26da(0x69b)]},'caption':_0x2358fb['caption']},'option':{'statusJidList':_0x2358fb[_0x1a26da(0x727)]}};if(_0x2358fb[_0x1a26da(0x6ef)]===_0x1a26da(0x35f)){this[_0x1a26da(0x2c2)][_0x1a26da(0x2fa)](_0x1a26da(0x249)),this['logger'][_0x1a26da(0x2fa)]('Processing\x20audio');let _0x3399b3=await this[_0x1a26da(0x5a7)](_0x2358fb[_0x1a26da(0x69b)]);if(typeof _0x3399b3==_0x1a26da(0x219)){this['logger'][_0x1a26da(0x2fa)](_0x1a26da(0x512));let _0x4c9507=k['readFileSync'](_0x3399b3)[_0x1a26da(0x596)]('base64'),_0x5b537a={'content':{'audio':Buffer[_0x1a26da(0x525)](_0x4c9507,'base64'),'ptt':!0x0,'mimetype':_0x1a26da(0x796)},'option':{'statusJidList':_0x2358fb['statusJidList']}};return k[_0x1a26da(0x5cb)](_0x3399b3),_0x5b537a;}else throw new O(_0x3399b3);}throw new h(_0x1a26da(0x4a4));}async[a0_0x401cf8(0x4ae)](_0x100ba7){const _0xe2234e=a0_0x401cf8;return await this[_0xe2234e(0x2ee)](_0xe2234e(0x372),{'status':await this[_0xe2234e(0x807)](_0x100ba7[_0xe2234e(0x4ae)])});}async[a0_0x401cf8(0x5c6)](_0x374073){const _0x796fee=a0_0x401cf8;try{let _0x2b97bf=await(0x0,w[_0x796fee(0x3b8)])({[_0x374073[_0x796fee(0x6ee)]]:(0x0,$[_0x796fee(0x79b)])(_0x374073[_0x796fee(0x3de)])?{'url':_0x374073[_0x796fee(0x3de)]}:Buffer[_0x796fee(0x525)](_0x374073[_0x796fee(0x3de)],_0x796fee(0x81f))},{'upload':this[_0x796fee(0x45f)]['waUploadToServer']}),_0x45bd47=_0x374073[_0x796fee(0x6ee)]+'Message';if(_0x374073['mediatype']===_0x796fee(0x5f6)&&!_0x374073['fileName']){let _0xac1d82=new RegExp(/.*\/(.+?)\./)[_0x796fee(0x522)](_0x374073[_0x796fee(0x3de)]);_0x374073[_0x796fee(0x72f)]=_0xac1d82?_0xac1d82[0x1]:null;}let _0x205581=(0x0,$[_0x796fee(0x79b)])(_0x374073[_0x796fee(0x3de)])?_0x374073[_0x796fee(0x3de)]['split']('?')[0x0]:_0x374073[_0x796fee(0x3de)];this['logger'][_0x796fee(0x2fa)](_0x796fee(0x661)+_0x205581);let _0xd21586;(0x0,$['isURL'])(_0x374073[_0x796fee(0x3de)])?_0xd21586=(0x0,Tt['getMIMEType'])(_0x205581):_0x374073[_0x796fee(0x72f)]&&_0x374073[_0x796fee(0x72f)][_0x796fee(0x23b)]('.')?_0xd21586=(0x0,Tt[_0x796fee(0x201)])(_0x374073['fileName']):_0xd21586=(0x0,Tt[_0x796fee(0x201)])(_0x374073[_0x796fee(0x3de)]);let _0x4df174=ur,_0x37dc16=We;return _0x37dc16&&this[_0x796fee(0x6a3)][_0x796fee(0x6cd)]()['includes'](_0x37dc16[_0x796fee(0x6cd)]())&&(_0x374073[_0x796fee(0x53f)]+='\x0a\x0a'+_0x4df174),_0x2b97bf[_0x45bd47]['caption']=_0x374073?.[_0x796fee(0x53f)],_0x2b97bf[_0x45bd47][_0x796fee(0x318)]=_0xd21586,_0x2b97bf[_0x45bd47][_0x796fee(0x72f)]=_0x374073['fileName'],_0x374073[_0x796fee(0x6ee)]===_0x796fee(0x447)&&(_0x2b97bf[_0x45bd47][_0x796fee(0x35c)]=Uint8Array[_0x796fee(0x525)]((0x0,Ee[_0x796fee(0x5f9)])((0x0,P[_0x796fee(0x6fa)])(process[_0x796fee(0x6ba)](),_0x796fee(0x3e7)))),_0x2b97bf[_0x45bd47][_0x796fee(0x65b)]=!0x1),(0x0,w[_0x796fee(0x6b3)])('',{[_0x45bd47]:{..._0x2b97bf[_0x45bd47]}},{'userJid':this[_0x796fee(0x2e2)][_0x796fee(0x2b8)]});}catch(_0x532a18){throw this[_0x796fee(0x2c2)][_0x796fee(0x654)](this['instanceName']+'\x20('+this[_0x796fee(0x2e2)][_0x796fee(0x2b8)]+_0x796fee(0x73f)+(_0x532a18 instanceof Error?_0x532a18[_0x796fee(0x295)]:JSON[_0x796fee(0x75b)](_0x532a18,null,0x2))),new O(_0x532a18?.[_0x796fee(0x596)]()||_0x532a18);}}async['mediaMessage'](_0x309395){const _0x246f13=a0_0x401cf8;let _0x5e5cf6=await this[_0x246f13(0x5c6)](_0x309395['mediaMessage']);return await this[_0x246f13(0x2ee)](_0x309395[_0x246f13(0x534)],{..._0x5e5cf6[_0x246f13(0x295)]},_0x309395?.[_0x246f13(0x23d)]);}async[a0_0x401cf8(0x655)](_0x1c4cf8,_0x32e455){const _0x2f7989=a0_0x401cf8;try{this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x283308,_0x2d9147=_0x32e455+'-'+new Date()[_0x2f7989(0x308)]();this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)](_0x2f7989(0x3af)+_0x2d9147);let _0x3fc918=''+(0x0,P[_0x2f7989(0x6fa)])(this[_0x2f7989(0x6c8)],_0x2d9147+_0x2f7989(0x6d9));if(this['logger']['verbose'](_0x2f7989(0x49e)+_0x3fc918),(0x0,$[_0x2f7989(0x713)])(_0x1c4cf8)){this['logger'][_0x2f7989(0x2fa)](_0x2f7989(0x432));let _0x3f982f=_0x1c4cf8[_0x2f7989(0x4e1)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x79ff28=Buffer['from'](_0x3f982f,'base64');_0x283308=''+(0x0,P[_0x2f7989(0x6fa)])(this['storePath'],_0x2f7989(0x4d0)+_0x2d9147+_0x2f7989(0x48b)),this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)](_0x2f7989(0x342)+_0x283308),await(0x0,At[_0x2f7989(0x787)])(_0x79ff28)[_0x2f7989(0x80c)](_0x283308),this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)]('Image\x20created');}else{this['logger'][_0x2f7989(0x2fa)](_0x2f7989(0x748));let _0x447dcc=new Date()[_0x2f7989(0x308)](),_0x27c6c1=_0x1c4cf8+_0x2f7989(0x5b2)+_0x447dcc;this['logger'][_0x2f7989(0x2fa)]('including\x20timestamp\x20in\x20url:\x20'+_0x27c6c1);let _0x3e8ca8=await te[_0x2f7989(0x787)][_0x2f7989(0x626)](_0x27c6c1,{'responseType':'arraybuffer'});this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)](_0x2f7989(0x470));let _0xa8a387=Buffer[_0x2f7989(0x525)](_0x3e8ca8[_0x2f7989(0x573)],_0x2f7989(0x4aa));_0x283308=''+(0x0,P['join'])(this[_0x2f7989(0x6c8)],_0x2f7989(0x4d0)+_0x2d9147+_0x2f7989(0x48b)),this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)]('Image\x20path:\x20'+_0x283308),await(0x0,At[_0x2f7989(0x787)])(_0xa8a387)[_0x2f7989(0x80c)](_0x283308),this[_0x2f7989(0x2c2)]['verbose']('Image\x20created');}return await(0x0,At[_0x2f7989(0x787)])(_0x283308)[_0x2f7989(0x27e)]()[_0x2f7989(0x80c)](_0x3fc918),this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)]('Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x283308),this[_0x2f7989(0x2c2)][_0x2f7989(0x2fa)](_0x2f7989(0x57e)),_0x3fc918;}catch(_0x2d610c){console['error'](_0x2f7989(0x646),_0x2d610c instanceof Error?_0x2d610c[_0x2f7989(0x295)]:JSON[_0x2f7989(0x75b)](_0x2d610c,null,0x2));}}async[a0_0x401cf8(0x39f)](_0x12df67){const _0x5e104f=a0_0x401cf8;let _0x5463c2=await this[_0x5e104f(0x655)](_0x12df67['stickerMessage'][_0x5e104f(0x2b6)],_0x12df67['number']),_0x569503=await this[_0x5e104f(0x2ee)](_0x12df67[_0x5e104f(0x534)],{'sticker':{'url':_0x5463c2}},_0x12df67?.[_0x5e104f(0x23d)]);return k[_0x5e104f(0x5cb)](_0x5463c2),this['logger'][_0x5e104f(0x2fa)]('Converted\x20image\x20deleted'),_0x569503;}async[a0_0x401cf8(0x51d)](_0x4064a7){const _0x21e775=a0_0x401cf8;if(this[_0x21e775(0x2c2)][_0x21e775(0x2fa)](_0x21e775(0x21d)),!_0x4064a7[_0x21e775(0x23d)]?.['encoding']&&_0x4064a7['options']?.[_0x21e775(0x5ab)]!==!0x1&&(_0x4064a7[_0x21e775(0x23d)][_0x21e775(0x5ab)]=!0x0),_0x4064a7[_0x21e775(0x23d)]?.['encoding']){let _0x2925ab=await this['convertaudio'](_0x4064a7['audioMessage'][_0x21e775(0x35f)]);if(typeof _0x2925ab==_0x21e775(0x219)){let _0x33e3ac=k[_0x21e775(0x5f9)](_0x2925ab)['toString']('base64'),_0x160222=this[_0x21e775(0x2ee)](_0x4064a7[_0x21e775(0x534)],{'audio':Buffer[_0x21e775(0x525)](_0x33e3ac,_0x21e775(0x81f)),'ptt':!0x0,'mimetype':_0x21e775(0x796)},{'presence':_0x21e775(0x6e8),'delay':_0x4064a7?.['options']?.[_0x21e775(0x784)]});return k[_0x21e775(0x5cb)](_0x2925ab),this[_0x21e775(0x2c2)][_0x21e775(0x2fa)](_0x21e775(0x4e8)),_0x160222;}else throw new O(_0x2925ab);}return await this[_0x21e775(0x2ee)](_0x4064a7[_0x21e775(0x534)],{'audio':(0x0,$[_0x21e775(0x79b)])(_0x4064a7[_0x21e775(0x488)][_0x21e775(0x35f)])?{'url':_0x4064a7[_0x21e775(0x488)][_0x21e775(0x35f)]}:Buffer[_0x21e775(0x525)](_0x4064a7[_0x21e775(0x488)][_0x21e775(0x35f)],_0x21e775(0x81f)),'ptt':!0x0,'mimetype':_0x21e775(0x379)},{'presence':'recording','delay':_0x4064a7?.['options']?.[_0x21e775(0x784)]});}async[a0_0x401cf8(0x5a7)](_0x15ab7f){const _0x47dbba=a0_0x401cf8;this['logger']['verbose'](_0x47dbba(0x652));let _0x1f73dc,_0x29d8e9,_0x568fe8=(0x0,me['v4'])();if(this[_0x47dbba(0x2c2)]['verbose']('Hash\x20to\x20audio\x20name:\x20'+_0x568fe8),(0x0,$['isURL'])(_0x15ab7f)){this['logger']['verbose'](_0x47dbba(0x704)),_0x29d8e9=''+(0x0,P[_0x47dbba(0x6fa)])(this[_0x47dbba(0x6c8)],_0x568fe8+_0x47dbba(0x7bc)),_0x1f73dc=''+(0x0,P['join'])(this['storePath'],_0x47dbba(0x4d0)+_0x568fe8+_0x47dbba(0x59e)),this[_0x47dbba(0x2c2)][_0x47dbba(0x2fa)](_0x47dbba(0x25d)+_0x29d8e9),this[_0x47dbba(0x2c2)]['verbose'](_0x47dbba(0x7fb)+_0x1f73dc);let _0x34feb0=new Date()[_0x47dbba(0x308)](),_0xe34b8d=_0x15ab7f+_0x47dbba(0x5b2)+_0x34feb0;this['logger'][_0x47dbba(0x2fa)](_0x47dbba(0x71a)+_0xe34b8d);let _0x49d04c=await te['default'][_0x47dbba(0x626)](_0xe34b8d,{'responseType':_0x47dbba(0x570)});this[_0x47dbba(0x2c2)][_0x47dbba(0x2fa)]('Getting\x20audio\x20from\x20url'),k['writeFileSync'](_0x1f73dc,_0x49d04c['data']);}else{this[_0x47dbba(0x2c2)]['verbose'](_0x47dbba(0x2a3)),_0x29d8e9=''+(0x0,P[_0x47dbba(0x6fa)])(this['storePath'],_0x568fe8+'.mp4'),_0x1f73dc=''+(0x0,P[_0x47dbba(0x6fa)])(this['storePath'],'temp-'+_0x568fe8+_0x47dbba(0x59e)),this[_0x47dbba(0x2c2)]['verbose'](_0x47dbba(0x25d)+_0x29d8e9),this[_0x47dbba(0x2c2)]['verbose'](_0x47dbba(0x7fb)+_0x1f73dc);let _0x24c763=Buffer[_0x47dbba(0x525)](_0x15ab7f,'base64');k[_0x47dbba(0x1f0)](_0x1f73dc,_0x24c763),this[_0x47dbba(0x2c2)][_0x47dbba(0x2fa)](_0x47dbba(0x31e));}return this[_0x47dbba(0x2c2)]['verbose']('Converting\x20audio\x20to\x20mp4'),new Promise((_0x2c2715,_0x273e95)=>{const _0x1fedb0=_0x47dbba;(0x0,Ot[_0x1fedb0(0x522)])(pr['default']['path']+'\x20-i\x20'+_0x1f73dc+_0x1fedb0(0x520)+_0x29d8e9+'\x20-y',_0x21a64d=>{const _0x2d9df7=_0x1fedb0;k[_0x2d9df7(0x5cb)](_0x1f73dc),this[_0x2d9df7(0x2c2)][_0x2d9df7(0x2fa)](_0x2d9df7(0x7d0)),_0x21a64d&&_0x273e95(_0x21a64d),this[_0x2d9df7(0x2c2)][_0x2d9df7(0x2fa)](_0x2d9df7(0x53e)),_0x2c2715(_0x29d8e9);});});}async[a0_0x401cf8(0x27f)](_0x146d5c){const _0x1d50a7=a0_0x401cf8;let _0xa424a2={},_0x3e45a1=_0x1d50a7(0x462);if(_0x146d5c[_0x1d50a7(0x27f)]?.[_0x1d50a7(0x3ac)]){_0x3e45a1=_0x146d5c['buttonMessage'][_0x1d50a7(0x3ac)]?.[_0x1d50a7(0x6ee)][_0x1d50a7(0x296)]()??_0x1d50a7(0x462),_0xa424a2[_0x1d50a7(0x3dc)]=_0x3e45a1[_0x1d50a7(0x6cd)]()+_0x1d50a7(0x77f);let _0x44df70=await this['prepareMediaMessage'](_0x146d5c[_0x1d50a7(0x27f)][_0x1d50a7(0x3ac)]);_0xa424a2[_0x1d50a7(0x295)]=_0x44df70['message'][_0xa424a2[_0x1d50a7(0x3dc)]],_0xa424a2[_0x1d50a7(0x5c8)]='*'+_0x146d5c[_0x1d50a7(0x27f)]['title']+_0x1d50a7(0x2ea)+_0x146d5c[_0x1d50a7(0x27f)][_0x1d50a7(0x789)];}let _0x22ed22={'text':_0x146d5c[_0x1d50a7(0x27f)]['buttons'][_0x1d50a7(0x515)](_0x4c74f3=>_0x4c74f3[_0x1d50a7(0x390)]),'ids':_0x146d5c['buttonMessage'][_0x1d50a7(0x3ea)]['map'](_0x3fa16a=>_0x3fa16a[_0x1d50a7(0x2e6)])};if(!(0x0,$[_0x1d50a7(0x752)])(_0x22ed22['text'])||!(0x0,$[_0x1d50a7(0x752)])(_0x22ed22['ids']))throw new h(_0x1d50a7(0x54b),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x1d50a7(0x2ee)](_0x146d5c[_0x1d50a7(0x534)],{'buttonsMessage':{'text':_0xa424a2?.[_0x1d50a7(0x3dc)]?void 0x0:_0x146d5c[_0x1d50a7(0x27f)][_0x1d50a7(0x765)],'contentText':_0xa424a2?.[_0x1d50a7(0x5c8)]??_0x146d5c[_0x1d50a7(0x27f)][_0x1d50a7(0x789)],'footerText':_0x146d5c[_0x1d50a7(0x27f)]?.[_0x1d50a7(0x55a)],'buttons':_0x146d5c['buttonMessage'][_0x1d50a7(0x3ea)][_0x1d50a7(0x515)](_0x39b2ee=>({'buttonText':{'displayText':_0x39b2ee[_0x1d50a7(0x390)]},'buttonId':_0x39b2ee[_0x1d50a7(0x2e6)],'type':0x1})),'headerType':w['proto'][_0x1d50a7(0x77f)][_0x1d50a7(0x27d)]['HeaderType'][_0x3e45a1],[_0xa424a2?.[_0x1d50a7(0x3dc)]]:_0xa424a2?.['message']}},_0x146d5c?.[_0x1d50a7(0x23d)]);}async[a0_0x401cf8(0x472)](_0x24d63c){const _0x5893e0=a0_0x401cf8;return await this[_0x5893e0(0x2ee)](_0x24d63c[_0x5893e0(0x534)],{'locationMessage':{'degreesLatitude':_0x24d63c[_0x5893e0(0x472)][_0x5893e0(0x5e8)],'degreesLongitude':_0x24d63c[_0x5893e0(0x472)][_0x5893e0(0x641)],'name':_0x24d63c['locationMessage']?.[_0x5893e0(0x5f2)],'address':_0x24d63c[_0x5893e0(0x472)]?.[_0x5893e0(0x6a8)]}},_0x24d63c?.['options']);}async['contactMessage'](_0x1e0318){const _0x33fec1=a0_0x401cf8;let _0x4ac6fd={},_0x1d5ce8=_0x16fa30=>{const _0x400150=a0_0x1c0b;let _0x1f6598=_0x400150(0x6ca)+_0x16fa30[_0x400150(0x65a)]+_0x400150(0x762)+_0x16fa30[_0x400150(0x65a)]+'\x0a';_0x16fa30['organization']&&(_0x1f6598+=_0x400150(0x6d8)+_0x16fa30[_0x400150(0x3f5)]+';\x0a'),_0x16fa30[_0x400150(0x706)]&&(_0x1f6598+=_0x400150(0x25e)+_0x16fa30[_0x400150(0x706)]+'\x0a'),_0x16fa30[_0x400150(0x410)]&&(_0x1f6598+=_0x400150(0x4ff)+_0x16fa30[_0x400150(0x410)]+'\x0a');let _0x5e4ce4='';return _0x16fa30[_0x400150(0x819)]&&_0x16fa30['phoneNumber'][_0x400150(0x54f)]('|')[_0x400150(0x306)]((_0x5cb55a,_0x5d7b70)=>{const _0xd2ee73=_0x400150;let _0x7d902=this['createJid'](_0x5cb55a)[_0xd2ee73(0x4e1)]('@s.whatsapp.net','');_0x5e4ce4+='item'+(_0x5d7b70+0x1)+'.TEL;waid='+_0x7d902+':'+_0x5cb55a+'\x0aitem'+(_0x5d7b70+0x1)+_0xd2ee73(0x4ce);}),_0x1f6598+=_0x5e4ce4+_0x400150(0x43b),_0x1f6598;};return _0x1e0318['contactMessage'][_0x33fec1(0x24f)]===0x1?_0x4ac6fd['contactMessage']={'displayName':_0x1e0318[_0x33fec1(0x47b)][0x0][_0x33fec1(0x65a)],'vcard':_0x1d5ce8(_0x1e0318[_0x33fec1(0x47b)][0x0])}:_0x4ac6fd[_0x33fec1(0x22f)]={'displayName':_0x1e0318[_0x33fec1(0x47b)]['length']+_0x33fec1(0x715),'contacts':_0x1e0318[_0x33fec1(0x47b)][_0x33fec1(0x515)](_0x2078ed=>({'displayName':_0x2078ed['fullName'],'vcard':_0x1d5ce8(_0x2078ed)}))},await this[_0x33fec1(0x2ee)](_0x1e0318[_0x33fec1(0x534)],{..._0x4ac6fd},_0x1e0318?.[_0x33fec1(0x23d)]);}async[a0_0x401cf8(0x3c5)](_0x2e831e){const _0x451881=a0_0x401cf8;return await this['sendMessageWithTyping'](_0x2e831e['reactionMessage'][_0x451881(0x7e9)][_0x451881(0x6e5)],{'reactionMessage':{'key':_0x2e831e[_0x451881(0x3c5)]['key'],'text':_0x2e831e[_0x451881(0x3c5)]['reaction']}});}async[a0_0x401cf8(0x2e5)](_0x185205){const _0x2ac4a3=a0_0x401cf8;let _0x3bd804=[];for await(let _0x298a19 of _0x185205[_0x2ac4a3(0x687)]){let _0x370285=this['createJid'](_0x298a19),_0x259824=!0x1;try{if((0x0,w[_0x2ac4a3(0x2d4)])(_0x370285)){let _0x8ae97a=await this[_0x2ac4a3(0x4a1)]({'groupJid':_0x370285},_0x2ac4a3(0x310));_0x3bd804[_0x2ac4a3(0x5c5)](new pe(_0x8ae97a['metadata']['id'],!!_0x8ae97a?.[_0x2ac4a3(0x64e)]['id'],_0x8ae97a?.[_0x2ac4a3(0x64e)][_0x2ac4a3(0x745)])),_0x259824=!!_0x8ae97a?.[_0x2ac4a3(0x64e)]['id'];}else{let _0x3ec1de=(await this[_0x2ac4a3(0x45f)][_0x2ac4a3(0x76f)](_0x370285))[0x0];_0x3bd804[_0x2ac4a3(0x5c5)](new pe(_0x3ec1de['jid'],_0x3ec1de['exists'])),_0x259824=_0x3ec1de[_0x2ac4a3(0x633)];}}catch{_0x3bd804[_0x2ac4a3(0x5c5)](new pe(_0x298a19,!0x1));}finally{await this[_0x2ac4a3(0x592)](_0x370285,_0x259824);}}return _0x3bd804;}async[a0_0x401cf8(0x592)](_0x26b08e,_0x43f65f){const _0x4802f6=a0_0x401cf8;try{await this[_0x4802f6(0x552)]['chat'][_0x4802f6(0x4d8)]({'where':{'_id':_0x26b08e,'imported':!0x0}},this[_0x4802f6(0x2e2)][_0x4802f6(0x2b8)])&&(_0x43f65f?await this[_0x4802f6(0x552)][_0x4802f6(0x5e1)][_0x4802f6(0x6c6)]({'where':{'_id':_0x26b08e}},{'imported':!0x1},this[_0x4802f6(0x2e2)][_0x4802f6(0x2b8)],void 0x0,_0x4802f6(0x357)):(await this[_0x4802f6(0x552)][_0x4802f6(0x5e1)][_0x4802f6(0x62d)](_0x26b08e,this[_0x4802f6(0x2e2)][_0x4802f6(0x2b8)]),console['log'](_0x4802f6(0x574)+_0x26b08e+_0x4802f6(0x7c4))));}catch(_0x3401d9){console['error'](_0x4802f6(0x7d9),_0x3401d9);}}async[a0_0x401cf8(0x7f6)](_0x4e445a){const _0x3ed0bb=a0_0x401cf8;try{let _0x2f3eff=_0x4e445a[_0x3ed0bb(0x5cf)]['filter'](_0xcfb695=>(0x0,w['isJidGroup'])(_0xcfb695['remoteJid'])||(0x0,w['isJidUser'])(_0xcfb695[_0x3ed0bb(0x6e5)]))['map'](_0x58da8a=>({'remoteJid':_0x58da8a[_0x3ed0bb(0x6e5)],'fromMe':_0x58da8a[_0x3ed0bb(0x797)],'id':_0x58da8a['id']}));await this['client'][_0x3ed0bb(0x5cf)](_0x2f3eff);let _0x2007e3=_0x2f3eff[_0x3ed0bb(0x515)](_0x2c41cc=>this[_0x3ed0bb(0x5ce)](_0x2c41cc,{'status':'READ','owner':this['instance'][_0x3ed0bb(0x2b8)]})),_0x29628b=_0x2f3eff[_0x3ed0bb(0x515)](_0x3c8128=>this[_0x3ed0bb(0x552)][_0x3ed0bb(0x5e1)][_0x3ed0bb(0x6c6)]({'where':{'_id':_0x3c8128[_0x3ed0bb(0x6e5)]}},{'unreadcount':0x0},this[_0x3ed0bb(0x2e2)][_0x3ed0bb(0x2b8)])),[_0xc38a78,_0x506c83]=await Promise[_0x3ed0bb(0x7dd)]([Promise[_0x3ed0bb(0x7dd)](_0x2007e3),Promise[_0x3ed0bb(0x7dd)](_0x29628b)]);return _0x506c83['filter'](_0x4ed6dc=>_0x4ed6dc!==null)['forEach'](_0x53a4ea=>{const _0x347c86=_0x3ed0bb;j(this[_0x347c86(0x6a3)],_0x347c86(0x47f),{'chat':_0x53a4ea});}),{'message':_0x3ed0bb(0x46d),'read':_0x3ed0bb(0x36f)};}catch(_0x43ae79){throw console['error'](_0x3ed0bb(0x7f8),_0x43ae79),new O('Read\x20messages\x20fail',_0x43ae79[_0x3ed0bb(0x596)]());}}async[a0_0x401cf8(0x1f1)](_0x25fc2a){const _0x319e55=a0_0x401cf8;let _0x4f8cd2=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x25fc2a}}}),_0x3f9c1f=_0x4f8cd2['pop']();for(let _0x56163c of _0x4f8cd2)_0x56163c[_0x319e55(0x38d)]>=_0x3f9c1f[_0x319e55(0x38d)]&&(_0x3f9c1f=_0x56163c);return _0x3f9c1f;}async[a0_0x401cf8(0x33f)](_0x63460a){const _0x390a77=a0_0x401cf8;this[_0x390a77(0x2c2)]['verbose'](_0x390a77(0x6ff));try{let _0x1c7d09=_0x63460a[_0x390a77(0x2a9)],_0x2bb13e=_0x63460a[_0x390a77(0x5e1)];if(!_0x1c7d09&&_0x2bb13e?_0x1c7d09=await this[_0x390a77(0x1f1)](_0x2bb13e):(_0x1c7d09=_0x63460a[_0x390a77(0x2a9)],_0x1c7d09[_0x390a77(0x38d)]=_0x1c7d09?.['messageTimestamp']??Date['now'](),_0x2bb13e=_0x1c7d09?.['key']?.[_0x390a77(0x6e5)]),!_0x1c7d09||Object[_0x390a77(0x4ea)](_0x1c7d09)['length']===0x0)throw new L(_0x390a77(0x4ec));await this[_0x390a77(0x45f)][_0x390a77(0x548)]({'archive':_0x63460a[_0x390a77(0x402)],'lastMessages':[_0x1c7d09]},this[_0x390a77(0x519)](_0x2bb13e));let _0x4c61a4=await this[_0x390a77(0x552)]['chat'][_0x390a77(0x6c6)]({'where':{'_id':_0x1c7d09?.[_0x390a77(0x7e9)]?.[_0x390a77(0x6e5)]}},{'archived':_0x63460a[_0x390a77(0x402)]},this[_0x390a77(0x2e2)][_0x390a77(0x2b8)]);return _0x4c61a4&&j(this[_0x390a77(0x6a3)],_0x390a77(0x47f),{'chat':_0x4c61a4}),{'chatId':_0x2bb13e,'archived':_0x63460a[_0x390a77(0x402)]};}catch(_0x3a43de){throw new O({'archived':!0x1,'message':[_0x390a77(0x591),_0x3a43de['toString']()]});}}async[a0_0x401cf8(0x475)](_0x311089){const _0x3754a9=a0_0x401cf8;try{let _0x4a34d0=await this[_0x3754a9(0x45f)][_0x3754a9(0x541)](_0x311089[_0x3754a9(0x6e5)],{'delete':_0x311089});try{let _0x612756=await this[_0x3754a9(0x5ce)](_0x311089,{'status':_0x3754a9(0x3e5),'owner':this['instance'][_0x3754a9(0x2b8)]});this[_0x3754a9(0x2c2)]['verbose'](this[_0x3754a9(0x6a3)]+'\x20('+this['instance']['wuid']+_0x3754a9(0x576)+_0x612756);}catch(_0x396280){console[_0x3754a9(0x654)](_0x3754a9(0x4b3),_0x396280);}return _0x4a34d0;}catch(_0x171820){throw new O(_0x3754a9(0x7d1),_0x171820?.[_0x3754a9(0x596)]());}}async['getBase64FromMediaMessage'](_0x247498){const _0x299641=a0_0x401cf8;try{let _0x1c2cec=_0x247498?.[_0x299641(0x295)]?_0x247498:await this[_0x299641(0x4d4)](_0x247498[_0x299641(0x7e9)],!0x0);for(let _0x4fe022 of ua)_0x1c2cec[_0x299641(0x295)][_0x4fe022]&&(_0x1c2cec['message']=_0x1c2cec[_0x299641(0x295)][_0x4fe022]['message']);let _0x4da70a,_0xff273a;for(let _0xc2dbe2 of la)if(_0x4da70a=_0x1c2cec[_0x299641(0x295)][_0xc2dbe2],_0x4da70a){_0xff273a=_0xc2dbe2;break;}if(!_0x4da70a)throw _0x299641(0x7bd);typeof _0x4da70a[_0x299641(0x3dc)]=='object'&&(_0x1c2cec[_0x299641(0x295)]=JSON[_0x299641(0x359)](JSON[_0x299641(0x75b)](_0x1c2cec['message'])));let _0x3bdab1=await(0x0,w[_0x299641(0x716)])({'key':_0x1c2cec?.[_0x299641(0x7e9)],'message':_0x1c2cec?.[_0x299641(0x295)]},_0x299641(0x71f),{},{'logger':(0x0,Rt['default'])({'level':_0x299641(0x207)}),'reuploadRequest':this[_0x299641(0x45f)][_0x299641(0x3da)]});if(!(_0x3bdab1 instanceof Buffer))throw new Error(_0x299641(0x498));let _0x5856d5=this[_0x299641(0x3e3)]['get'](_0x299641(0x316)),_0x496b7e,_0x4cd43d;if(_0x4da70a['fileName'])_0x496b7e=_0x4da70a[_0x299641(0x72f)];else{let _0x20cdcc=_0x4da70a['mimetype']?.[_0x299641(0x72c)](/\/(\w+)/),_0xcda683=_0x20cdcc?_0x20cdcc[0x1]:null;if(!_0xcda683)throw new Error(_0x299641(0x461));_0x496b7e=(0x0,me['v4'])()+'.'+_0xcda683;}_0xff273a===_0x299641(0x488)&&_0x4da70a[_0x299641(0x318)]===_0x299641(0x428)?(_0x496b7e=(0x0,me['v4'])()+_0x299641(0x6fe),_0x4cd43d='/media/'+await this[_0x299641(0x5a7)](_0x3bdab1[_0x299641(0x596)](_0x299641(0x81f)))):(await this[_0x299641(0x624)](_0x3bdab1,_0x496b7e),_0x4cd43d=_0x299641(0x686)+_0x496b7e);let _0x2205ce=this[_0x299641(0x3e3)]['get'](_0x299641(0x225))['URL'];if(!_0x2205ce){let _0x21ecfe=this[_0x299641(0x3e3)][_0x299641(0x626)]('SSL_CONF');_0x2205ce=_0x299641(0x2d8)+(_0x21ecfe&&_0x21ecfe['FULLCHAIN']['split']('/')[0x4]);}_0x4cd43d=''+_0x2205ce+_0x4cd43d;let _0x2f7949=0xc*0x3c*0x3c*0x3e8,_0x3611ba={'where':{'_id':_0x1c2cec[_0x299641(0x7e9)]['id']}},_0x3e9719={'message_normalized.fileUrl':_0x4cd43d,'message_normalized.expires_fileUrl':Date[_0x299641(0x7f7)]()+_0x2f7949};try{let _0x1f64b7=await this[_0x299641(0x552)]['message'][_0x299641(0x4b1)](_0x3611ba,_0x3e9719,this[_0x299641(0x2e2)][_0x299641(0x2b8)]);_0x1f64b7&&j(this[_0x299641(0x6a3)],_0x299641(0x27a),{'message':_0x1f64b7});}catch(_0x507b4e){this['logger'][_0x299641(0x654)](this[_0x299641(0x6a3)]+'\x20('+this[_0x299641(0x2e2)][_0x299641(0x2b8)]+'):\x20'+(_0x507b4e instanceof Error?_0x507b4e[_0x299641(0x295)]:JSON[_0x299641(0x75b)](_0x507b4e,null,0x2)));}return{'mediaType':_0xff273a,'fileName':_0x4da70a[_0x299641(0x72f)],'caption':_0x4da70a[_0x299641(0x53f)],'size':{'fileLength':_0x4da70a[_0x299641(0x58c)],'height':_0x4da70a[_0x299641(0x606)],'width':_0x4da70a[_0x299641(0x60f)]},'mimetype':_0x4da70a['mimetype'],'base64':_0x3bdab1[_0x299641(0x596)](_0x299641(0x81f)),'fileUrl':_0x4cd43d,'expires_fileUrl':Date[_0x299641(0x7f7)]()+_0x2f7949};}catch(_0x499250){throw this[_0x299641(0x2c2)][_0x299641(0x654)](this[_0x299641(0x6a3)]+'\x20('+this['instance'][_0x299641(0x2b8)]+_0x299641(0x73f)+(_0x499250 instanceof Error?_0x499250['message']:JSON[_0x299641(0x75b)](_0x499250,null,0x2))),new h(_0x499250['toString']());}}async[a0_0x401cf8(0x624)](_0x2c181f,_0x41a43b){const _0x464aef=a0_0x401cf8;console['log'](_0x464aef(0x7d8),__dirname),console[_0x464aef(0x743)](_0x464aef(0x7b5),_0x41a43b);let _0x537cc1=P['default'][_0x464aef(0x6fa)](__dirname,'downloads');console[_0x464aef(0x743)](_0x464aef(0x71b),_0x537cc1),k[_0x464aef(0x33a)](_0x537cc1)||(this[_0x464aef(0x2c2)]['log']('Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...'),k[_0x464aef(0x58a)](_0x537cc1,{'recursive':!0x0}));let _0x249030=P[_0x464aef(0x787)]['join'](_0x537cc1,_0x41a43b);return console[_0x464aef(0x743)](_0x464aef(0x502),_0x249030),new Promise((_0x153628,_0x3baccd)=>{const _0x6eab33=_0x464aef;k[_0x6eab33(0x5d9)](_0x249030,_0x2c181f,_0x4e9bd9=>{const _0x37109d=_0x6eab33;_0x4e9bd9?(this[_0x37109d(0x2c2)]['error']('Error\x20writing\x20file:\x20'+(_0x4e9bd9 instanceof Error?_0x4e9bd9[_0x37109d(0x295)]:JSON[_0x37109d(0x75b)](_0x4e9bd9,null,0x2))),_0x3baccd(_0x4e9bd9)):(this['logger']['log'](_0x37109d(0x438)+_0x249030),_0x153628(_0x249030));});});}async[a0_0x401cf8(0x5e7)](_0x246948){const _0x18c932=a0_0x401cf8;return await this[_0x18c932(0x552)][_0x18c932(0x394)][_0x18c932(0x7d2)](_0x246948,this[_0x18c932(0x2e2)][_0x18c932(0x2b8)]);}async[a0_0x401cf8(0x382)](){const _0x44ab5a=a0_0x401cf8;return await this[_0x44ab5a(0x552)][_0x44ab5a(0x456)][_0x44ab5a(0x7d2)]({'where':{}},this[_0x44ab5a(0x2e2)][_0x44ab5a(0x2b8)]);}async[a0_0x401cf8(0x5a6)](_0x44804a){const _0xdc1ad4=a0_0x401cf8;return await this['repository'][_0xdc1ad4(0x295)][_0xdc1ad4(0x7d2)](_0x44804a,this[_0xdc1ad4(0x2e2)][_0xdc1ad4(0x2b8)]);}async[a0_0x401cf8(0x7b1)](){const _0x512e6d=a0_0x401cf8;let _0x35bb51=[{'query':{'where':{'owner':this[_0x512e6d(0x2e2)][_0x512e6d(0x2b8)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this['instance']['wuid'],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this['repository'][_0x512e6d(0x5e1)][_0x512e6d(0x243)](_0x35bb51),this[_0x512e6d(0x799)](),await this[_0x512e6d(0x552)][_0x512e6d(0x5e1)][_0x512e6d(0x7d2)]({'where':{}},this[_0x512e6d(0x2e2)][_0x512e6d(0x2b8)]);}async[a0_0x401cf8(0x799)](){const _0x11ec68=a0_0x401cf8;let _0xd7782d=await this['repository']['chat'][_0x11ec68(0x7d2)]({'where':{}},this[_0x11ec68(0x2e2)][_0x11ec68(0x2b8)]);for(let _0x42160e of _0xd7782d)for(let _0x46cb34=0x0;_0x46cb34<_0x42160e['leadInfo'][_0x11ec68(0x6da)]['length'];_0x46cb34++)if(!_0x42160e[_0x11ec68(0x450)]['customFields'][_0x46cb34][_0x11ec68(0x556)]){let _0x123545={'where':{'_id':_0x42160e['_id']}},_0x5721f9={[_0x11ec68(0x5ef)+_0x46cb34+'.chatId']:_0x42160e[_0x11ec68(0x1ce)]};await this[_0x11ec68(0x552)]['chat'][_0x11ec68(0x6c6)](_0x123545,_0x5721f9,this[_0x11ec68(0x2e2)]['wuid']);}}async['importChats'](_0x5c0774){const _0x593392=a0_0x401cf8;console[_0x593392(0x743)]('entrou\x20na\x20função\x20importChats2'),console[_0x593392(0x743)]('----------------------------'),console[_0x593392(0x743)](_0x5c0774),console[_0x593392(0x743)]('----------------------------');try{if(!Array[_0x593392(0x2f0)](_0x5c0774)||_0x5c0774[_0x593392(0x24f)]===0x0)throw new Error(_0x593392(0x767));let _0x523ac3=[],_0x34534d=[];for(let _0x270a60 of _0x5c0774){if(_0x270a60[_0x593392(0x1ce)])_0x270a60[_0x593392(0x1ce)]=this['createJid'](_0x270a60[_0x593392(0x1ce)]);else continue;await this[_0x593392(0x552)][_0x593392(0x5e1)]['findOne']({'where':{'_id':_0x270a60['_id']}},this[_0x593392(0x2e2)][_0x593392(0x2b8)])?_0x34534d['push']({'_id':_0x270a60['_id'],'leadInfo':_0x270a60[_0x593392(0x450)],'owner':this[_0x593392(0x2e2)][_0x593392(0x2b8)]}):_0x523ac3[_0x593392(0x5c5)]({'_id':_0x270a60[_0x593392(0x1ce)],'owner':this[_0x593392(0x2e2)][_0x593392(0x2b8)],'leadInfo':_0x270a60[_0x593392(0x450)]});}return _0x34534d['length']>0x0&&await this['repository'][_0x593392(0x5e1)][_0x593392(0x243)](_0x34534d[_0x593392(0x515)](_0x5ed971=>({'query':{'where':{'_id':_0x5ed971['_id'],'owner':this[_0x593392(0x2e2)][_0x593392(0x2b8)]}},'update':_0x5ed971}))),_0x523ac3[_0x593392(0x24f)]>0x0&&await this[_0x593392(0x552)][_0x593392(0x5e1)]['insertMany'](_0x523ac3,this[_0x593392(0x2e2)][_0x593392(0x2b8)]),{'updated':_0x34534d[_0x593392(0x24f)],'inserted':_0x523ac3[_0x593392(0x24f)]};}catch(_0x42e232){throw console[_0x593392(0x654)]('Erro\x20ao\x20importar\x20chats:',_0x42e232),_0x42e232;}}async[a0_0x401cf8(0x6c9)](){const _0x5ac0c3=a0_0x401cf8;return await this[_0x5ac0c3(0x45f)][_0x5ac0c3(0x6c9)]();}async[a0_0x401cf8(0x29a)](_0x2050a8){const _0x4effe8=a0_0x401cf8;try{return await this[_0x4effe8(0x45f)][_0x4effe8(0x224)](_0x2050a8[_0x4effe8(0x804)][_0x4effe8(0x2c7)]),await this[_0x4effe8(0x45f)]['updateProfilePicturePrivacy'](_0x2050a8['privacySettings']['profile']),await this[_0x4effe8(0x45f)]['updateStatusPrivacy'](_0x2050a8[_0x4effe8(0x804)]['status']),await this[_0x4effe8(0x45f)][_0x4effe8(0x73e)](_0x2050a8['privacySettings'][_0x4effe8(0x423)]),await this[_0x4effe8(0x45f)][_0x4effe8(0x276)](_0x2050a8[_0x4effe8(0x804)][_0x4effe8(0x7b8)]),await this[_0x4effe8(0x45f)][_0x4effe8(0x4a8)](_0x2050a8[_0x4effe8(0x804)][_0x4effe8(0x560)]),this[_0x4effe8(0x45f)]?.['ws']?.[_0x4effe8(0x613)](),{'update':_0x4effe8(0x36f),'data':{'readreceipts':_0x2050a8[_0x4effe8(0x804)][_0x4effe8(0x2c7)],'profile':_0x2050a8['privacySettings'][_0x4effe8(0x690)],'status':_0x2050a8[_0x4effe8(0x804)][_0x4effe8(0x776)],'online':_0x2050a8[_0x4effe8(0x804)]['online'],'last':_0x2050a8['privacySettings'][_0x4effe8(0x7b8)],'groupadd':_0x2050a8[_0x4effe8(0x804)][_0x4effe8(0x560)]}};}catch(_0x3c9add){throw new O(_0x4effe8(0x775),_0x3c9add[_0x4effe8(0x596)]());}}async[a0_0x401cf8(0x36e)](_0x3c6e5b){const _0x35657b=a0_0x401cf8;let _0x2d90e9=_0x3c6e5b?this[_0x35657b(0x519)](_0x3c6e5b):this[_0x35657b(0x45f)]?.[_0x35657b(0x670)]?.['id'];this['logger'][_0x35657b(0x2fa)](_0x35657b(0x340)+_0x2d90e9);try{if(this[_0x35657b(0x2c2)][_0x35657b(0x2fa)](_0x35657b(0x79d)),_0x3c6e5b){let _0x59265c=(await this[_0x35657b(0x2e5)]({'numbers':[_0x2d90e9]}))?.[_0x35657b(0x1ef)](),_0x3e2cc7=await this[_0x35657b(0x313)](_0x59265c?.[_0x35657b(0x700)]),_0x37b718=await this['getStatus'](_0x59265c?.['jid']),_0x71d694=await this[_0x35657b(0x323)](_0x59265c?.[_0x35657b(0x700)]);return{'wuid':_0x59265c?.[_0x35657b(0x700)]||_0x2d90e9,'name':_0x59265c?.[_0x35657b(0x5f2)],'numberExists':_0x59265c?.[_0x35657b(0x633)],'picture':_0x3e2cc7?.[_0x35657b(0x29d)],'status':_0x37b718?.['status'],'isBusiness':_0x71d694[_0x35657b(0x701)],'email':_0x71d694?.[_0x35657b(0x706)],'description':_0x71d694?.[_0x35657b(0x789)],'website':_0x71d694?.['website']?.[_0x35657b(0x1ef)]()};}}catch{return this[_0x35657b(0x2c2)]['verbose'](_0x35657b(0x74b)),{'wuid':_0x2d90e9,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x401cf8(0x2a5)](_0x1a8772){const _0x27f2c7=a0_0x401cf8;let _0x3e1217=(_0x1a8772?this[_0x27f2c7(0x519)](_0x1a8772):this[_0x27f2c7(0x45f)]?.[_0x27f2c7(0x670)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x27f2c7(0x2c2)][_0x27f2c7(0x2fa)](_0x27f2c7(0x634)+_0x3e1217);let _0x9e5bab=await this['repository'][_0x27f2c7(0x394)][_0x27f2c7(0x4d8)]({'where':{'_id':_0x3e1217}},this[_0x27f2c7(0x2e2)][_0x27f2c7(0x2b8)]),_0x405120=_0x9e5bab?_0x9e5bab[_0x27f2c7(0x6ad)]:null;try{let _0xaad3b4=(await this[_0x27f2c7(0x2e5)]({'numbers':[_0x3e1217]}))?.[_0x27f2c7(0x1ef)](),_0x1416a9=await this[_0x27f2c7(0x313)](_0xaad3b4?.[_0x27f2c7(0x700)]),_0x200d8b=await this[_0x27f2c7(0x1f7)](_0xaad3b4?.['jid']),_0x45bc4d=await this[_0x27f2c7(0x323)](_0xaad3b4?.[_0x27f2c7(0x700)]),_0x414bbf={'imagechat':_0x1416a9?.[_0x27f2c7(0x29d)],'contactname':_0x405120||null,'status':_0x200d8b?.[_0x27f2c7(0x776)],'isBusiness':_0x45bc4d[_0x27f2c7(0x701)],'email':_0x45bc4d?.[_0x27f2c7(0x706)],'description':_0x45bc4d?.[_0x27f2c7(0x789)],'website':_0x45bc4d?.[_0x27f2c7(0x5fa)]?.[_0x27f2c7(0x1ef)](),'lastcache':Date[_0x27f2c7(0x7f7)]()},_0x4d223b=await this[_0x27f2c7(0x552)][_0x27f2c7(0x5e1)]['updateOne']({'where':{'_id':_0x3e1217}},_0x414bbf,this[_0x27f2c7(0x2e2)][_0x27f2c7(0x2b8)]),_0x52dcfc={'owner':this[_0x27f2c7(0x2e2)]['wuid'],'_id':_0x3e1217,'profilePictureUrl':_0x1416a9?.[_0x27f2c7(0x29d)],'status':_0x200d8b?.[_0x27f2c7(0x776)]};return this[_0x27f2c7(0x552)][_0x27f2c7(0x394)][_0x27f2c7(0x4b1)]([_0x52dcfc],this['instance'][_0x27f2c7(0x2b8)]),_0x4d223b&&j(this['instanceName'],'chats',{'chat':_0x4d223b}),{'wuid':_0xaad3b4?.[_0x27f2c7(0x700)]||_0x3e1217,'name':_0xaad3b4?.[_0x27f2c7(0x5f2)],'numberExists':_0xaad3b4?.[_0x27f2c7(0x633)],'picture':_0x1416a9?.[_0x27f2c7(0x29d)],'status':_0x200d8b?.[_0x27f2c7(0x776)],'isBusiness':_0x45bc4d[_0x27f2c7(0x701)],'email':_0x45bc4d?.['email'],'description':_0x45bc4d?.['description'],'website':_0x45bc4d?.[_0x27f2c7(0x5fa)]?.['shift']()};}catch(_0x5e80bc){return this[_0x27f2c7(0x2c2)][_0x27f2c7(0x654)](_0x27f2c7(0x6d0)+(_0x5e80bc instanceof Error?_0x5e80bc[_0x27f2c7(0x295)]:JSON[_0x27f2c7(0x75b)](_0x5e80bc,null,0x2))),{};}}async[a0_0x401cf8(0x323)](_0x5c4e9){const _0x303359=a0_0x401cf8;this[_0x303359(0x2c2)][_0x303359(0x2fa)](_0x303359(0x303));try{let _0x466587=_0x5c4e9?this['createJid'](_0x5c4e9):this['instance'][_0x303359(0x2b8)],_0x27f599=await this[_0x303359(0x45f)]['getBusinessProfile'](_0x466587);return this[_0x303359(0x2c2)][_0x303359(0x2fa)](_0x303359(0x44f)),_0x27f599?(this[_0x303359(0x2c2)][_0x303359(0x2fa)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x27f599}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x303359(0x2e5)]({'numbers':[_0x466587]}))?.[_0x303359(0x1ef)]()};}catch(_0x2533fc){throw new O('Error\x20updating\x20profile\x20name',_0x2533fc[_0x303359(0x596)]());}}async[a0_0x401cf8(0x1f7)](_0x1a66bd){const _0x29c406=a0_0x401cf8;let _0x273268=this[_0x29c406(0x519)](_0x1a66bd);try{return{'wuid':_0x273268,'status':(await this[_0x29c406(0x45f)][_0x29c406(0x455)](_0x273268))?.[_0x29c406(0x776)]};}catch{return{'wuid':_0x273268,'status':null};}}async[a0_0x401cf8(0x439)](_0x6ccc07){const _0x49420a=a0_0x401cf8;try{return await this[_0x49420a(0x45f)][_0x49420a(0x439)](_0x6ccc07),{'update':'success'};}catch(_0x17345b){throw new O('Error\x20updating\x20profile\x20name',_0x17345b['toString']());}}async[a0_0x401cf8(0x6aa)](_0x55be59){const _0xe13133=a0_0x401cf8;try{return await this[_0xe13133(0x45f)][_0xe13133(0x6aa)](_0x55be59),{'update':_0xe13133(0x36f)};}catch(_0x2b9952){throw new O(_0xe13133(0x818),_0x2b9952[_0xe13133(0x596)]());}}async[a0_0x401cf8(0x274)](_0x53165c){const _0x2ededf=a0_0x401cf8;try{let _0x17a458;if((0x0,$[_0x2ededf(0x79b)])(_0x53165c)){let _0x374422=new Date()[_0x2ededf(0x308)](),_0x2b757c=_0x53165c+_0x2ededf(0x5b2)+_0x374422;_0x17a458=(await te[_0x2ededf(0x787)][_0x2ededf(0x626)](_0x2b757c,{'responseType':_0x2ededf(0x570)}))[_0x2ededf(0x573)];}else{if((0x0,$[_0x2ededf(0x713)])(_0x53165c))_0x17a458=Buffer[_0x2ededf(0x525)](_0x53165c,'base64');else throw new h('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x2ededf(0x274)](this[_0x2ededf(0x2e2)][_0x2ededf(0x2b8)],_0x17a458),{'update':'success'};}catch(_0x2ae4d1){throw new O(_0x2ededf(0x720),_0x2ae4d1['toString']());}}async[a0_0x401cf8(0x40a)](){const _0x429556=a0_0x401cf8;try{return await this['client'][_0x429556(0x40a)](this[_0x429556(0x2e2)][_0x429556(0x2b8)]),{'update':_0x429556(0x36f)};}catch(_0x40bd27){throw new O(_0x429556(0x75a),_0x40bd27[_0x429556(0x596)]());}}async[a0_0x401cf8(0x41e)](_0x128094){const _0x3dc847=a0_0x401cf8;try{let _0x251545=_0x128094[_0x3dc847(0x3c8)][_0x3dc847(0x515)](_0x14d68c=>this[_0x3dc847(0x519)](_0x14d68c)),{id:_0x2c729e}=await this[_0x3dc847(0x45f)][_0x3dc847(0x6e1)](_0x128094[_0x3dc847(0x745)],_0x251545);return _0x128094?.[_0x3dc847(0x789)]&&await this['client'][_0x3dc847(0x3b2)](_0x2c729e,_0x128094['description']),{'metadata':await this[_0x3dc847(0x45f)][_0x3dc847(0x2be)](_0x2c729e)};}catch(_0x4c3eb8){throw this['logger'][_0x3dc847(0x654)](this[_0x3dc847(0x6a3)]+'\x20('+this[_0x3dc847(0x2e2)][_0x3dc847(0x2b8)]+_0x3dc847(0x73f)+(_0x4c3eb8 instanceof Error?_0x4c3eb8[_0x3dc847(0x295)]:JSON[_0x3dc847(0x75b)](_0x4c3eb8,null,0x2))),new O(_0x3dc847(0x4a2),_0x4c3eb8[_0x3dc847(0x596)]());}}async[a0_0x401cf8(0x5ae)](_0x16c6e5){const _0x530323=a0_0x401cf8;try{let _0x484676;if((0x0,$['isURL'])(_0x16c6e5[_0x530323(0x2b6)])){let _0x544083=new Date()[_0x530323(0x308)](),_0x2a8c2c=_0x16c6e5[_0x530323(0x2b6)]+_0x530323(0x5b2)+_0x544083;_0x484676=(await te[_0x530323(0x787)]['get'](_0x2a8c2c,{'responseType':_0x530323(0x570)}))[_0x530323(0x573)];}else{if((0x0,$['isBase64'])(_0x16c6e5[_0x530323(0x2b6)]))_0x484676=Buffer[_0x530323(0x525)](_0x16c6e5[_0x530323(0x2b6)],_0x530323(0x81f));else throw new h(_0x530323(0x361));}return await this['client'][_0x530323(0x274)](_0x16c6e5[_0x530323(0x3c0)],_0x484676),{'update':'success'};}catch(_0x520583){throw new O('Error\x20update\x20group\x20picture',_0x520583[_0x530323(0x596)]());}}async[a0_0x401cf8(0x4a1)](_0x5a55f9,_0x5d68e8='out'){const _0x20a359=a0_0x401cf8;try{let _0x60d5b3=await this[_0x20a359(0x45f)][_0x20a359(0x2be)](_0x5a55f9['groupJid']),_0x2bdf1e=null;try{_0x2bdf1e=(await this[_0x20a359(0x313)](_0x5a55f9[_0x20a359(0x3c0)]))['profilePictureUrl'];}catch(_0x38d429){this[_0x20a359(0x2c2)]['verbose'](this[_0x20a359(0x6a3)]+'\x20('+this['instance']['wuid']+_0x20a359(0x683)+_0x5a55f9[_0x20a359(0x3c0)]+':\x20'+(_0x38d429 instanceof Error?_0x38d429['message']:JSON[_0x20a359(0x75b)](_0x38d429,null,0x2)));}let _0x137ccf=await this['repository'][_0x20a359(0x5e1)][_0x20a359(0x6c6)]({'where':{'_id':_0x5a55f9[_0x20a359(0x3c0)]}},{'imagechat':_0x2bdf1e,'name':_0x60d5b3[_0x20a359(0x745)],'group_size':_0x60d5b3[_0x20a359(0x2b4)],'group_announce':_0x60d5b3[_0x20a359(0x559)],'lastcache':Date[_0x20a359(0x7f7)]()},this[_0x20a359(0x2e2)]['wuid']);return _0x137ccf&&j(this[_0x20a359(0x6a3)],'chats',{'chat':_0x137ccf}),{'metadata':_0x60d5b3,'image':_0x2bdf1e};}catch(_0x9802b2){if(_0x5d68e8===_0x20a359(0x310))return;throw new L('Error\x20fetching\x20group',_0x9802b2[_0x20a359(0x596)]());}}async['groupDesc'](_0x4c5d6a){const _0x42d09a=a0_0x401cf8;try{return await this[_0x42d09a(0x45f)][_0x42d09a(0x3b2)](_0x4c5d6a[_0x42d09a(0x3c0)],_0x4c5d6a[_0x42d09a(0x789)]),{'update':_0x42d09a(0x36f)};}catch(_0x38e07f){throw new O(_0x42d09a(0x233),_0x38e07f[_0x42d09a(0x596)]());}}async['groupName'](_0x28eaca){const _0x325b64=a0_0x401cf8;try{return await this['client'][_0x325b64(0x810)](_0x28eaca[_0x325b64(0x3c0)],_0x28eaca[_0x325b64(0x5f2)]),{'update':_0x325b64(0x36f)};}catch(_0x52be63){throw new O(_0x325b64(0x7fe),_0x52be63[_0x325b64(0x596)]());}}async[a0_0x401cf8(0x50d)](_0xda98ef){const _0x3486b2=a0_0x401cf8;try{return await this[_0x3486b2(0x45f)][_0x3486b2(0x4b7)](_0xda98ef[_0x3486b2(0x3c0)],_0xda98ef['setting']),{'update':_0x3486b2(0x36f)};}catch(_0x6c415a){throw new O(_0x3486b2(0x325),_0x6c415a[_0x3486b2(0x596)]());}}async[a0_0x401cf8(0x341)](){const _0x3875fe=a0_0x401cf8;try{let _0x55ef70=[],_0x3a2946=await this[_0x3875fe(0x45f)][_0x3875fe(0x696)](),_0x3553af=Object['values'](_0x3a2946),_0x4ecf50=_0x3553af['filter'](_0x257b6a=>(0x0,w[_0x3875fe(0x2d4)])(_0x257b6a?.['id']))[_0x3875fe(0x515)](async _0x3515c4=>{const _0x2690d0=_0x3875fe;try{return await this[_0x2690d0(0x45f)][_0x2690d0(0x29d)](_0x3515c4['id'],_0x2690d0(0x40e));}catch(_0x55d7cb){return this['logger'][_0x2690d0(0x2fa)](this[_0x2690d0(0x6a3)]+'\x20('+this['instance']['wuid']+_0x2690d0(0x683)+_0x3515c4['id']+':\x20'+(_0x55d7cb instanceof Error?_0x55d7cb[_0x2690d0(0x295)]:JSON[_0x2690d0(0x75b)](_0x55d7cb,null,0x2))),null;}}),_0x5b8a17=await Promise[_0x3875fe(0x7dd)](_0x4ecf50);for(let _0x2b0f77=0x0;_0x2b0f77<_0x3553af[_0x3875fe(0x24f)];_0x2b0f77++){let _0x1b9372=_0x3553af[_0x2b0f77];(0x0,w[_0x3875fe(0x2d4)])(_0x1b9372?.['id'])&&_0x55ef70[_0x3875fe(0x5c5)]({'groupJid':_0x1b9372?.['id'],'subject':_0x1b9372?.['subject'],'subjectOwner':_0x1b9372?.[_0x3875fe(0x738)]?.[_0x3875fe(0x54f)]('@')[0x0],'subjectTime':_0x1b9372?.[_0x3875fe(0x6bb)],'size':_0x1b9372?.[_0x3875fe(0x3c8)]?.['length'],'owner':_0x1b9372?.[_0x3875fe(0x81e)]?.[_0x3875fe(0x54f)]('@')[0x0],'creation':_0x1b9372?.[_0x3875fe(0x536)],'desc':_0x1b9372?.[_0x3875fe(0x7a6)],'restrict':_0x1b9372?.[_0x3875fe(0x40c)],'announce':_0x1b9372?.[_0x3875fe(0x559)],'image':_0x5b8a17[_0x2b0f77]});}return _0x55ef70;}catch(_0x195c62){throw new L(_0x3875fe(0x400),_0x195c62['toString']());}}async[a0_0x401cf8(0x65c)](_0x312b3d){const _0x43ad26=a0_0x401cf8;try{let _0x1158c1=await this[_0x43ad26(0x45f)]['groupInviteCode'](_0x312b3d[_0x43ad26(0x3c0)]);return{'inviteUrl':_0x43ad26(0x3ae)+_0x1158c1,'inviteCode':_0x1158c1};}catch(_0x4cbe4c){throw new L('No\x20invite\x20code',_0x4cbe4c['toString']());}}async['revokeInviteCode'](_0x18686a){const _0x426b9f=a0_0x401cf8;try{let _0x291054=await this['client'][_0x426b9f(0x622)](_0x18686a[_0x426b9f(0x3c0)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x291054,'inviteCode':_0x291054};}catch(_0x2ae0f2){throw new L(_0x426b9f(0x458),_0x2ae0f2[_0x426b9f(0x596)]());}}async[a0_0x401cf8(0x719)](_0x2f2ccd){const _0x3734af=a0_0x401cf8;try{if((0x0,$[_0x3734af(0x79b)])(_0x2f2ccd[_0x3734af(0x65c)]))var _0x4c5376=_0x2f2ccd[_0x3734af(0x65c)]['split']('/')[0x3];else var _0x4c5376=_0x2f2ccd['inviteCode'];let _0x5847fc=await this['client']['groupAcceptInvite'](_0x4c5376);return this[_0x3734af(0x2c2)][_0x3734af(0x2fa)](this[_0x3734af(0x6a3)]+'\x20('+this[_0x3734af(0x2e2)][_0x3734af(0x2b8)]+_0x3734af(0x73f)+_0x5847fc),{'join':!0x0,'inviteCode':_0x4c5376,'groupJid':_0x5847fc};}catch(_0x18b1a5){throw new L(_0x3734af(0x3d1),_0x18b1a5[_0x3734af(0x596)]());}}async[a0_0x401cf8(0x808)](_0x52b49b){const _0x5f0eae=a0_0x401cf8;try{return{'participants':(await this['client']['groupMetadata'](_0x52b49b[_0x5f0eae(0x3c0)]))[_0x5f0eae(0x3c8)]};}catch(_0x2180fd){throw new L(_0x5f0eae(0x612),_0x2180fd[_0x5f0eae(0x596)]());}}async[a0_0x401cf8(0x3e8)](_0x592408){const _0x4006cb=a0_0x401cf8;try{let _0x46fe67=_0x592408[_0x4006cb(0x3c8)][_0x4006cb(0x515)](_0x253e84=>this[_0x4006cb(0x519)](_0x253e84));return{'updateParticipants':await this[_0x4006cb(0x45f)][_0x4006cb(0x297)](_0x592408[_0x4006cb(0x3c0)],_0x46fe67,_0x592408['action'])};}catch(_0x4736ec){throw new h(_0x4006cb(0x6d2),_0x4736ec['toString']());}}async[a0_0x401cf8(0x41b)](_0xd3105){const _0x15ed04=a0_0x401cf8;try{let _0x2b555a=await this[_0x15ed04(0x45f)][_0x15ed04(0x222)](_0xd3105[_0x15ed04(0x3c0)],_0xd3105['expiration']);return{'success':!0x0};}catch(_0x31ddcc){throw new h(_0x15ed04(0x812),_0x31ddcc[_0x15ed04(0x596)]());}}async[a0_0x401cf8(0x78a)](_0x282098){const _0x515ab3=a0_0x401cf8;try{return await this['client'][_0x515ab3(0x28e)](_0x282098[_0x515ab3(0x3c0)]),{'groupJid':_0x282098['groupJid'],'leave':!0x0};}catch(_0x21fc84){throw new h(_0x515ab3(0x383),_0x21fc84['toString']());}}async[a0_0x401cf8(0x42d)](_0x487494){const _0x47d61c=a0_0x401cf8;return await this[_0x47d61c(0x2ee)](_0x487494[_0x47d61c(0x534)],{'poll':{'name':_0x487494[_0x47d61c(0x42d)]?.[_0x47d61c(0x5f2)],'selectableCount':_0x487494['pollMessage'][_0x47d61c(0x6f5)],'values':_0x487494['pollMessage'][_0x47d61c(0x7fc)]}},_0x487494?.['options']);}async[a0_0x401cf8(0x7c5)](_0x342920){const _0x35f57d=a0_0x401cf8;return await this[_0x35f57d(0x2ee)](_0x342920[_0x35f57d(0x534)],{'listMessage':{'title':_0x342920[_0x35f57d(0x7c5)][_0x35f57d(0x765)],'description':_0x342920[_0x35f57d(0x7c5)][_0x35f57d(0x789)],'buttonText':_0x342920[_0x35f57d(0x7c5)]?.['buttonText'],'footerText':_0x342920[_0x35f57d(0x7c5)]?.[_0x35f57d(0x55a)],'sections':_0x342920['listMessage'][_0x35f57d(0x4c3)],'listType':0x2}},_0x342920?.[_0x35f57d(0x23d)]);}async[a0_0x401cf8(0x6e4)](_0x258e6b){const _0x3e60e7=a0_0x401cf8;let _0x11f9e6;if(_0x258e6b['menuMessage'][_0x3e60e7(0x6ef)]===_0x3e60e7(0x4b9)){let _0x5353a1=_0x258e6b[_0x3e60e7(0x6e4)]['text'][_0x3e60e7(0x508)]('\x0a'),_0x23991d='',_0x3dbce1='';_0x5353a1!==-0x1?(_0x23991d=_0x258e6b[_0x3e60e7(0x6e4)][_0x3e60e7(0x3e6)][_0x3e60e7(0x22a)](0x0,_0x5353a1)[_0x3e60e7(0x2fc)](),_0x3dbce1=_0x258e6b[_0x3e60e7(0x6e4)][_0x3e60e7(0x3e6)]['substring'](_0x5353a1+0x1)):_0x3dbce1=_0x258e6b[_0x3e60e7(0x6e4)][_0x3e60e7(0x3e6)];let _0x3aff65=this[_0x3e60e7(0x665)](_0x258e6b[_0x3e60e7(0x6e4)][_0x3e60e7(0x47a)]);_0x11f9e6={'listMessage':{'title':_0x23991d,'description':_0x3dbce1,'buttonText':_0x258e6b[_0x3e60e7(0x6e4)][_0x3e60e7(0x390)]||'Selecione','footerText':_0x258e6b[_0x3e60e7(0x6e4)]['footerText'],'sections':_0x3aff65,'listType':0x2}};}else{if(_0x258e6b[_0x3e60e7(0x6e4)][_0x3e60e7(0x6ef)]===_0x3e60e7(0x30c)){let _0x585ccc=_0x258e6b[_0x3e60e7(0x6e4)]['choices'][_0x3e60e7(0x56b)](_0x41fa67=>!(_0x41fa67[_0x3e60e7(0x595)]('[')&&_0x41fa67['endsWith'](']')))[_0x3e60e7(0x515)](_0xf47b93=>_0xf47b93[_0x3e60e7(0x54f)]('\x0a')[0x0]);_0x11f9e6={'poll':{'name':_0x258e6b['menuMessage'][_0x3e60e7(0x3e6)],'selectableCount':_0x258e6b[_0x3e60e7(0x6e4)][_0x3e60e7(0x6f5)]||0x1,'values':_0x585ccc}};}}return await this['sendMessageWithTyping'](_0x258e6b[_0x3e60e7(0x534)],_0x11f9e6,_0x258e6b?.['options']);}['createSectionsFromValues'](_0x5ecc55){const _0x2f8a8c=a0_0x401cf8;let _0x250237=[],_0x5b42c3={'rows':[]};return _0x5ecc55['forEach'](_0x1beb12=>{const _0x12afed=a0_0x1c0b;if(_0x1beb12[_0x12afed(0x595)]('[')&&_0x1beb12[_0x12afed(0x5bf)](']'))_0x5b42c3[_0x12afed(0x427)]['length']>0x0&&_0x250237[_0x12afed(0x5c5)](_0x5b42c3),_0x5b42c3={'title':_0x1beb12[_0x12afed(0x4a3)](0x1,-0x1),'rows':[]};else{let _0x16d5be=_0x1beb12['split']('\x0a')[_0x12afed(0x515)](_0x3041ef=>_0x3041ef[_0x12afed(0x2fc)]()),_0x418470=_0x16d5be[0x0],_0x533e15=_0x16d5be[0x1]||null,_0x4f6535=_0x16d5be[0x2]||_0x418470;_0x5b42c3['rows'][_0x12afed(0x5c5)]({'title':_0x418470,'description':_0x533e15,'rowId':_0x4f6535});}}),_0x5b42c3[_0x2f8a8c(0x427)]['length']>0x0&&_0x250237['push'](_0x5b42c3),_0x250237;}async[a0_0x401cf8(0x5ce)](_0x466e9e,_0x5b587b){const _0x4d3d63=a0_0x401cf8;if(await this['getMessage'](_0x466e9e,!0x0)){let _0x25a881={'where':{'_id':_0x466e9e['id']}},_0x5c6dc3={'status':[_0x5b587b[_0x4d3d63(0x776)]][0x0]};try{let _0x8e4541=await this['repository']['message'][_0x4d3d63(0x4b1)](_0x25a881,_0x5c6dc3,this[_0x4d3d63(0x2e2)][_0x4d3d63(0x2b8)]);_0x8e4541&&j(this[_0x4d3d63(0x6a3)],_0x4d3d63(0x27a),{'message':_0x8e4541});}catch{}}}[a0_0x401cf8(0x7a2)](_0x2ff4f8){const _0x532c13=a0_0x401cf8;let _0x27c774=[];return _0x2ff4f8[_0x532c13(0x306)](_0x3bf9f5=>{const _0x26f1e7=_0x532c13;_0x3bf9f5[_0x26f1e7(0x765)]&&_0x27c774[_0x26f1e7(0x5c5)]('['+_0x3bf9f5[_0x26f1e7(0x765)]+']'),_0x3bf9f5[_0x26f1e7(0x427)][_0x26f1e7(0x306)](_0x3e34d9=>{const _0x45c6ed=_0x26f1e7;let _0x4778fe=_0x3e34d9[_0x45c6ed(0x765)];_0x3e34d9[_0x45c6ed(0x789)]&&(_0x4778fe+='\x0a'+_0x3e34d9[_0x45c6ed(0x789)]),_0x4778fe+='\x0a'+_0x3e34d9[_0x45c6ed(0x495)],_0x27c774[_0x45c6ed(0x5c5)](_0x4778fe);});}),_0x27c774[_0x532c13(0x6fa)]('|');}[a0_0x401cf8(0x300)](_0x59a57b){const _0x3f39ab=a0_0x401cf8;let _0x220ec4=_0x59a57b['replace'](/\\n/g,'\x0a')[_0x3f39ab(0x54f)]('\x0a')[_0x3f39ab(0x56b)](_0x4605bc=>_0x4605bc['includes']('TEL')||_0x4605bc[_0x3f39ab(0x23b)]('EMAIL')),_0x10adc2='';return _0x220ec4[_0x3f39ab(0x306)](_0x566b59=>{const _0x198080=_0x3f39ab;let _0x4f2842=/TEL(?:.*):(.+)/,_0x281de3=/EMAIL(?:.*):(.+)/,_0x7762ce=_0x566b59[_0x198080(0x72c)](_0x4f2842),_0x5c41b7=_0x566b59[_0x198080(0x72c)](_0x281de3);if(_0x7762ce){let _0x3d6e45=_0x7762ce[0x1][_0x198080(0x4e1)](/-| |\+|\(|\)/g,'')[_0x198080(0x2fc)]();_0x10adc2+=_0x198080(0x51f)+_0x3d6e45+'\x0a';}else{if(_0x5c41b7){let _0x12a3ad=_0x5c41b7[0x1]['trim']();_0x10adc2+='E-mail:\x20'+_0x12a3ad+'\x0a';}}}),_0x10adc2[_0x3f39ab(0x2fc)]();}async['updateChatWithMessage'](_0x41cf6d,_0x13717b,_0x5a54ed){const _0x16546c=a0_0x401cf8;if(!_0x41cf6d[_0x16546c(0x516)])return;let _0x8fd642=_0x13717b[_0x16546c(0x7e9)][_0x16546c(0x6e5)]['replace'](/:\d{1,2}@/g,'@'),_0x3b5743=_0x13717b[_0x16546c(0x7e9)][_0x16546c(0x797)],_0x2797e5=_0x8fd642[_0x16546c(0x5bf)](_0x16546c(0x7fd)),_0x2c65f6=_0x13717b[_0x16546c(0x726)]?.[_0x16546c(0x3e6)]||_0x13717b[_0x16546c(0x726)]?.[_0x16546c(0x53f)]||_0x13717b[_0x16546c(0x726)]?.[_0x16546c(0x264)]||_0x13717b['message_normalized']?.['name'],_0x2e4bf1={'lastmsg':_0x13717b[_0x16546c(0x38d)]||Date['now'](),'unreadcount':_0x3b5743?0x0:0x1,..._0x3b5743||_0x2797e5?{}:{'name':_0x13717b[_0x16546c(0x6ad)]},..._0x2797e5?{'group':_0x2797e5}:{}};if(_0x5a54ed==='MESSAGES_UPSERT'&&_0x3b5743&&this[_0x16546c(0x78c)]?.[_0x16546c(0x43a)][_0x16546c(0x6e3)]&&!_0x2c65f6['startsWith'](this['AutomateSystem']?.[_0x16546c(0x43a)][_0x16546c(0x5b7)])){let _0x5253ad=(this['AutomateSystem']?.[_0x16546c(0x43a)]['stopWhenYouSendMsg']||0x5)*0xea60,_0xbe0cf1=Date[_0x16546c(0x7f7)]()+_0x5253ad;_0x2e4bf1[_0x16546c(0x1d5)]=_0xbe0cf1,this[_0x16546c(0x2c2)]['verbose'](this[_0x16546c(0x6a3)]+'\x20('+this['instance'][_0x16546c(0x2b8)]+_0x16546c(0x5b1)+_0xbe0cf1+'.');}let _0x544930=await this[_0x16546c(0x552)]['chat'][_0x16546c(0x6c6)]({'where':{'_id':_0x8fd642}},_0x2e4bf1,this[_0x16546c(0x2e2)][_0x16546c(0x2b8)],{'new':!0x0,'upsert':!0x0});if(!_0x2797e5&&(!_0x544930?.['leadInfo']||!_0x544930['leadInfo']['nome'])&&_0x13717b[_0x16546c(0x6ad)]&&!_0x3b5743&&await this['repository'][_0x16546c(0x5e1)][_0x16546c(0x6c6)]({'where':{'_id':_0x8fd642}},{'leadInfo':{'nome':_0x13717b['pushName']}},this['instance'][_0x16546c(0x2b8)],{'new':!0x0,'upsert':!0x1}),_0x544930)j(this[_0x16546c(0x6a3)],'chats',{'chat':_0x544930});else{this[_0x16546c(0x2c2)][_0x16546c(0x654)](this['instanceName']+'\x20('+this[_0x16546c(0x2e2)][_0x16546c(0x2b8)]+_0x16546c(0x794));return;}if(!this[_0x16546c(0x78c)]?.[_0x16546c(0x43a)]['enabled'])return this[_0x16546c(0x2c2)][_0x16546c(0x2fa)](this[_0x16546c(0x6a3)]+'\x20('+this[_0x16546c(0x2e2)]['wuid']+_0x16546c(0x3e0)),null;if(_0x544930[_0x16546c(0x1ce)]['includes'](_0x16546c(0x7fd))&&this[_0x16546c(0x78c)]?.[_0x16546c(0x43a)][_0x16546c(0x467)]===!0x0)return this['logger'][_0x16546c(0x2fa)](this[_0x16546c(0x6a3)]+'\x20('+this[_0x16546c(0x2e2)][_0x16546c(0x2b8)]+_0x16546c(0x3a3)),null;if(_0x544930['leadInfo']){if(_0x544930[_0x16546c(0x450)][_0x16546c(0x724)]===0x0||_0x544930['leadInfo'][_0x16546c(0x7c6)])return this[_0x16546c(0x2c2)]['verbose'](this[_0x16546c(0x6a3)]+'\x20('+this[_0x16546c(0x2e2)][_0x16546c(0x2b8)]+_0x16546c(0x7b9)+_0x8fd642+_0x16546c(0x6f6)),null;if(_0x544930[_0x16546c(0x450)][_0x16546c(0x724)]>Date[_0x16546c(0x7f7)]()&&!_0x13717b[_0x16546c(0x726)]?.[_0x16546c(0x264)])return this[_0x16546c(0x2c2)][_0x16546c(0x2fa)](this[_0x16546c(0x6a3)]+'\x20('+this[_0x16546c(0x2e2)]['wuid']+_0x16546c(0x218)+new Date(_0x544930[_0x16546c(0x450)][_0x16546c(0x724)])['toLocaleString']()+',\x20saindo.'),null;}this[_0x16546c(0x2c2)][_0x16546c(0x2fa)](this['instanceName']+'\x20('+this['instance'][_0x16546c(0x2b8)]+_0x16546c(0x798)),this['StartBot'](_0x5a54ed,_0x13717b);}async[a0_0x401cf8(0x72a)](_0x46bd98,_0x4e580d){const _0x5932db=a0_0x401cf8;if(_0x4e580d[_0x5932db(0x516)]){let _0x6c1663=_0x46bd98[_0x5932db(0x515)](async _0x134b06=>{const _0xfb1aca=_0x5932db;try{let _0x29503a={'_id':_0x134b06[_0xfb1aca(0x1ce)],'owner':_0x134b06[_0xfb1aca(0x81e)],'lastcache':0x0};if(_0x134b06[_0xfb1aca(0x6f3)]!==null&&(_0x29503a[_0xfb1aca(0x6f3)]=_0x134b06[_0xfb1aca(0x6f3)]),_0x134b06[_0xfb1aca(0x5f2)]!==null&&(_0x29503a[_0xfb1aca(0x5f2)]=_0x134b06['name']),_0x134b06[_0xfb1aca(0x338)]!==null&&(_0x29503a['contactname']=_0x134b06[_0xfb1aca(0x338)]),_0x134b06[_0xfb1aca(0x6c4)]!==null&&(_0x29503a[_0xfb1aca(0x6c4)]=_0x134b06[_0xfb1aca(0x6c4)]),_0x134b06['imagechat']===null&&(_0x29503a[_0xfb1aca(0x6c4)]='Imagem\x20não\x20encontrada'),_0x134b06[_0xfb1aca(0x49f)]!==null&&(_0x29503a[_0xfb1aca(0x49f)]=_0x134b06['lastmsg']),_0x134b06[_0xfb1aca(0x1ed)]!==null&&(_0x29503a[_0xfb1aca(0x1ed)]=_0x134b06[_0xfb1aca(0x1ed)]),_0x134b06[_0xfb1aca(0x5ed)]!==null&&(_0x29503a[_0xfb1aca(0x5ed)]=_0x134b06[_0xfb1aca(0x5ed)]),Object[_0xfb1aca(0x4ea)](_0x29503a)[_0xfb1aca(0x24f)]>0x0)return await this['repository'][_0xfb1aca(0x5e1)][_0xfb1aca(0x6c6)]({'where':{'_id':_0x134b06['_id']}},_0x29503a,this['instance'][_0xfb1aca(0x2b8)]);}catch(_0x567f7d){return console[_0xfb1aca(0x654)](_0xfb1aca(0x7a4)+_0x134b06[_0xfb1aca(0x1ce)]+':',_0x567f7d),null;}}),_0x6e576e=(await Promise['all'](_0x6c1663))[_0x5932db(0x56b)](_0x9ed293=>_0x9ed293!==null)[_0x5932db(0x24f)];this[_0x5932db(0x2c2)][_0x5932db(0x2fa)](this[_0x5932db(0x6a3)]+'\x20('+this['instance'][_0x5932db(0x2b8)]+_0x5932db(0x73f)+_0x6e576e+_0x5932db(0x750)+this[_0x5932db(0x2e2)][_0x5932db(0x2b8)]+_0x5932db(0x6c1));}}async[a0_0x401cf8(0x755)](_0x102275){const _0x39c8e6=a0_0x401cf8;this[_0x39c8e6(0x2c2)]['verbose'](this[_0x39c8e6(0x6a3)]+'\x20('+this[_0x39c8e6(0x2e2)][_0x39c8e6(0x2b8)]+_0x39c8e6(0x75e));let _0x46fee6={'readMessages':[{'remoteJid':_0x102275[_0x39c8e6(0x630)]['lastReceivedMessage'][_0x39c8e6(0x7e9)]['remoteJid'],'fromMe':_0x102275[_0x39c8e6(0x630)][_0x39c8e6(0x7bf)][_0x39c8e6(0x7e9)][_0x39c8e6(0x797)],'id':_0x102275[_0x39c8e6(0x630)][_0x39c8e6(0x7bf)][_0x39c8e6(0x7e9)]['id']}]};await this['markMessageAsRead'](_0x46fee6);}async[a0_0x401cf8(0x805)](_0x2f8a68,_0x7fe13c){const _0x1a735d=a0_0x401cf8;try{let {key:_0x5c200e,message_normalized:_0x225c97}=_0x7fe13c,_0x404b2d=_0x225c97,_0x1e7a84=_0x225c97['text']||_0x225c97[_0x1a735d(0x53f)]||_0x225c97[_0x1a735d(0x264)]||_0x225c97[_0x1a735d(0x5f2)],_0x42205c=_0x5c200e['remoteJid'],_0x1ea8a2;if(_0x404b2d['key'][_0x1a735d(0x797)]&&_0x1e7a84[_0x1a735d(0x2fc)]()!==this[_0x1a735d(0x78c)]?.['flowConfig'][_0x1a735d(0x4e3)]['trim']())return this[_0x1a735d(0x2c2)][_0x1a735d(0x2fa)](this[_0x1a735d(0x6a3)]+'\x20('+this[_0x1a735d(0x2e2)][_0x1a735d(0x2b8)]+_0x1a735d(0x584)),null;if(_0x404b2d[_0x1a735d(0x7e9)][_0x1a735d(0x797)]&&_0x1e7a84[_0x1a735d(0x2fc)]()===this[_0x1a735d(0x78c)]?.[_0x1a735d(0x43a)][_0x1a735d(0x4e3)][_0x1a735d(0x2fc)]()){this[_0x1a735d(0x2c2)][_0x1a735d(0x2fa)](this[_0x1a735d(0x6a3)]+'\x20('+this[_0x1a735d(0x2e2)]['wuid']+_0x1a735d(0x343));let _0x4ff224=await this['repository'][_0x1a735d(0x242)]['find']({'where':{'remoteJid':_0x42205c,'status':_0x1a735d(0x5a0)}},this[_0x1a735d(0x2e2)][_0x1a735d(0x2b8)]);this[_0x1a735d(0x2c2)]['verbose'](this[_0x1a735d(0x6a3)]+'\x20('+this[_0x1a735d(0x2e2)][_0x1a735d(0x2b8)]+_0x1a735d(0x3c4)+_0x4ff224);let _0x51a86e=Date['now'](),_0x540292;return this[_0x1a735d(0x78c)]?.[_0x1a735d(0x43a)][_0x1a735d(0x2cc)]===0x0?_0x540292={'stoppedUntil':_0x51a86e+0x7591f6200}:_0x540292={'stoppedUntil':_0x51a86e+this[_0x1a735d(0x78c)]?.[_0x1a735d(0x43a)][_0x1a735d(0x2cc)]*0x3c*0x3e8},this['logger'][_0x1a735d(0x2fa)](this[_0x1a735d(0x6a3)]+'\x20('+this['instance'][_0x1a735d(0x2b8)]+_0x1a735d(0x589)+_0x540292),this['updateStopChat'](_0x1ea8a2,_0x540292[_0x1a735d(0x232)]),null;}if(_0x1e7a84&&_0x1e7a84[_0x1a735d(0x595)](this[_0x1a735d(0x78c)]?.[_0x1a735d(0x43a)][_0x1a735d(0x5b7)])&&_0x1e7a84[_0x1a735d(0x24f)]>0x4){let _0x16dae0=await this[_0x1a735d(0x552)][_0x1a735d(0x2aa)][_0x1a735d(0x4d8)]({'where':{'startCommandWord':_0x1e7a84}},this[_0x1a735d(0x2e2)][_0x1a735d(0x2b8)]);if(this[_0x1a735d(0x2c2)][_0x1a735d(0x2fa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1a735d(0x40d)),_0x16dae0)_0x1ea8a2=await this[_0x1a735d(0x4ab)](_0x16dae0,_0x404b2d['key'],_0x404b2d);else return this[_0x1a735d(0x2c2)]['verbose'](this[_0x1a735d(0x6a3)]+'\x20('+this['instance']['wuid']+_0x1a735d(0x1cf)),null;}else _0x1ea8a2=await this[_0x1a735d(0x4f0)](_0x42205c,_0x404b2d);if(_0x1ea8a2){this[_0x1a735d(0x2c2)][_0x1a735d(0x2fa)](this['instanceName']+'\x20('+this[_0x1a735d(0x2e2)][_0x1a735d(0x2b8)]+_0x1a735d(0x5ee)),!_0x5c200e['fromMe']&&_0x1ea8a2[_0x1a735d(0x5cf)]&&this[_0x1a735d(0x755)](_0x1ea8a2);let _0x3a9ef7=await this['NextBlock'](_0x1ea8a2);_0x3a9ef7&&await this[_0x1a735d(0x3d0)](_0x1ea8a2,_0x3a9ef7);}}catch(_0x179b32){this[_0x1a735d(0x2c2)][_0x1a735d(0x654)](this['instanceName']+'\x20('+this[_0x1a735d(0x2e2)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x179b32 instanceof Error?_0x179b32['message']:JSON['stringify'](_0x179b32,null,0x2)));}}[a0_0x401cf8(0x209)](_0x48fa2b,_0x3a844a='',_0xe46b41={},_0x5d0a39=!0x0){const _0x4a40c9=a0_0x401cf8;for(let _0x52588a in _0x48fa2b){let _0x37ead4=_0x5d0a39?'_'+_0x52588a:''+_0x3a844a+_0x52588a;typeof _0x48fa2b[_0x52588a]==_0x4a40c9(0x618)&&_0x48fa2b[_0x52588a]!==null?this['flattenObject'](_0x48fa2b[_0x52588a],_0x37ead4+'.',_0xe46b41,!0x1):_0xe46b41[_0x37ead4]=String(_0x48fa2b[_0x52588a]);}return _0xe46b41;}[a0_0x401cf8(0x4bd)](_0x205e36){const _0x499a09=a0_0x401cf8;let _0x113633={};for(let _0x160a78 of _0x205e36)typeof _0x160a78[_0x499a09(0x5f2)]==_0x499a09(0x219)&&typeof _0x160a78[_0x499a09(0x2a1)]=='string'&&(_0x113633[_0x160a78[_0x499a09(0x5f2)]]=_0x160a78[_0x499a09(0x2a1)]);return _0x113633;}async[a0_0x401cf8(0x7c8)](_0x309118){const _0x46a91f=a0_0x401cf8;if(!this['AutomateSystem']?.[_0x46a91f(0x43a)][_0x46a91f(0x6e3)]||_0x309118[_0x46a91f(0x776)]!==_0x46a91f(0x5a0)&&_0x309118[_0x46a91f(0x3c2)]==='')return null;let _0x243737=_0x309118['chatLog'][_0x46a91f(0x315)]||_0x46a91f(0x503);typeof _0x309118[_0x46a91f(0x630)][_0x46a91f(0x6f4)]>'u'&&(_0x309118[_0x46a91f(0x630)][_0x46a91f(0x6f4)]=!0x0);let _0x1f0cd6=_0x309118[_0x46a91f(0x630)][_0x46a91f(0x6f4)];this['logger'][_0x46a91f(0x2fa)](this[_0x46a91f(0x6a3)]+'\x20('+this[_0x46a91f(0x2e2)][_0x46a91f(0x2b8)]+_0x46a91f(0x2f3)+_0x243737+_0x46a91f(0x21b)+_0x1f0cd6);let _0x3857a2=_0x243737===_0x46a91f(0x503)?_0x309118[_0x46a91f(0x275)][_0x46a91f(0x7d2)](_0xf18e85=>_0xf18e85[_0x46a91f(0x6ef)]===_0x46a91f(0x503)):_0x309118['blocks']['find'](_0x47ace0=>_0x47ace0[_0x46a91f(0x1ce)][_0x46a91f(0x596)]()===_0x243737[_0x46a91f(0x596)]());if(!_0x3857a2)return this[_0x46a91f(0x2c2)][_0x46a91f(0x654)](this[_0x46a91f(0x6a3)]+'\x20('+this[_0x46a91f(0x2e2)][_0x46a91f(0x2b8)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x243737),null;let _0x1efd33={'_pushName':_0x309118['chatLog']['lastReceivedMessage'][_0x46a91f(0x6ad)],..._0x309118[_0x46a91f(0x630)]['realVariables']},_0x41b841=null;if(_0x309118[_0x46a91f(0x3c2)]){let _0x58c74c=_0x309118['chatLog'][_0x46a91f(0x7bf)]['vote'],_0x54cb94=_0x309118[_0x46a91f(0x3bc)][_0x46a91f(0x7d2)](_0x40f6c6=>_0x40f6c6['option']===_0x58c74c);if(_0x54cb94){let _0x17ac44=_0x54cb94[_0x46a91f(0x579)];if(_0x41b841=_0x309118[_0x46a91f(0x275)][_0x46a91f(0x7d2)](_0x4e1094=>_0x4e1094[_0x46a91f(0x5a1)]===_0x17ac44&&_0x4e1094[_0x46a91f(0x527)]===0x1),_0x3857a2[_0x46a91f(0x1d7)][_0x46a91f(0x293)]){let _0x2e6e99={'id':_0x309118[_0x46a91f(0x3c2)],'remoteJid':_0x309118[_0x46a91f(0x6e5)],'fromMe':!0x0};await this['deleteMessage'](_0x2e6e99);}if(_0x3857a2[_0x46a91f(0x1d7)]['pollOnReplyDelete']&&_0x3857a2[_0x46a91f(0x1d7)][_0x46a91f(0x663)]&&_0x3857a2[_0x46a91f(0x1d7)][_0x46a91f(0x684)]===_0x46a91f(0x30c)){let _0x357b85={'number':_0x309118[_0x46a91f(0x6e5)],'options':{'delay':0x0},'textMessage':{'text':_0x46a91f(0x711)+_0x309118[_0x46a91f(0x4f3)]+_0x46a91f(0x1fe)+_0x58c74c}};await this['textMessage'](_0x357b85);}_0x309118[_0x46a91f(0x776)]=_0x46a91f(0x5a0),_0x309118[_0x46a91f(0x3c2)]='',_0x309118['waitingMenu_text']='',_0x309118[_0x46a91f(0x3bc)]=[];}else{this[_0x46a91f(0x2c2)]['verbose'](this[_0x46a91f(0x6a3)]+'\x20('+this['instance'][_0x46a91f(0x2b8)]+_0x46a91f(0x70e));let _0x55a6f5={'activatedCount':_0x309118[_0x46a91f(0x630)]['blockLogs'][_0x46a91f(0x56b)](_0x184ace=>String(_0x184ace[_0x46a91f(0x269)])===String(_0x243737))[_0x46a91f(0x24f)],'moreLogs':[_0x46a91f(0x6a5)]};if(_0x3857a2[_0x46a91f(0x1d7)][_0x46a91f(0x350)]){let _0x281b30={'number':_0x309118[_0x46a91f(0x6e5)],'options':{'delay':0x0},'textMessage':{'text':_0x3857a2[_0x46a91f(0x1d7)][_0x46a91f(0x350)]}};await this['textMessage'](_0x281b30);}if(_0x3857a2[_0x46a91f(0x6b7)]!==void 0x0&&_0x55a6f5[_0x46a91f(0x6cb)]>=_0x3857a2[_0x46a91f(0x6b7)]){let _0x19d9b9=Date['now'](),_0x59a8f9=_0x3857a2['stopMinutesMaxActives']??0xa;isNaN(_0x59a8f9)&&(_0x59a8f9=0xa);let _0x3c5be3=_0x19d9b9+_0x59a8f9*0x3c*0x3e8;_0x55a6f5[_0x46a91f(0x56d)]=_0x3c5be3,_0x55a6f5[_0x46a91f(0x41f)][_0x46a91f(0x5c5)](_0x46a91f(0x214)),this['updateStopChat'](_0x309118,_0x3c5be3),_0x309118['waitingMenu_id']='',_0x309118[_0x46a91f(0x4f3)]='',_0x309118['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0x309118,_0x3857a2,_0x55a6f5,!0x0),null;}}if(_0x1f0cd6&&_0x3857a2[_0x46a91f(0x579)]&&!_0x309118['waitingMenu_id']){let _0x319a3f=_0x309118[_0x46a91f(0x275)][_0x46a91f(0x56b)](_0x12226c=>_0x12226c[_0x46a91f(0x5a1)]['toString']()===_0x3857a2[_0x46a91f(0x579)]['toString']())['sort']((_0x3018d0,_0x361680)=>_0x3018d0['order']-_0x361680[_0x46a91f(0x527)]);_0x319a3f['length']>0x0&&(_0x41b841=_0x319a3f[0x0]);}if(!_0x41b841){let _0x5f290f=_0x3857a2[_0x46a91f(0x5a1)],_0x26a48f=_0x309118[_0x46a91f(0x275)]['filter'](_0x439485=>_0x439485[_0x46a91f(0x5a1)]===_0x5f290f&&_0x439485[_0x46a91f(0x527)]>_0x3857a2[_0x46a91f(0x527)])[_0x46a91f(0x3cc)]((_0x5b5704,_0x1afe69)=>_0x5b5704[_0x46a91f(0x527)]-_0x1afe69[_0x46a91f(0x527)]);_0x26a48f['length']>0x0&&(_0x41b841=_0x26a48f[0x0]);}if(!_0x41b841)return _0x309118[_0x46a91f(0x776)]=_0x46a91f(0x4c4),null;_0x309118['chatLog'][_0x46a91f(0x44b)]=_0x1efd33;let _0x24bc01=JSON['parse'](JSON[_0x46a91f(0x75b)](_0x41b841));return this[_0x46a91f(0x473)](_0x24bc01,_0x309118[_0x46a91f(0x630)][_0x46a91f(0x44b)]),_0x309118[_0x46a91f(0x630)][_0x46a91f(0x315)]=_0x24bc01[_0x46a91f(0x1ce)],_0x309118['chatLog'][_0x46a91f(0x6f4)]=!0x0,_0x24bc01;}[a0_0x401cf8(0x4c5)](_0x10929f,_0x1a89b8){return _0x10929f['replace'](/\{\{([^}]+)\}\}/g,(_0x3f736f,_0x209d8b)=>_0x1a89b8[_0x209d8b]||'');}[a0_0x401cf8(0x473)](_0x223a42,_0x52e9b5){const _0xe333fd=a0_0x401cf8;for(let _0x5c7b74 in _0x223a42)typeof _0x223a42[_0x5c7b74]==_0xe333fd(0x219)?_0x223a42[_0x5c7b74]=this[_0xe333fd(0x4c5)](_0x223a42[_0x5c7b74],_0x52e9b5):typeof _0x223a42[_0x5c7b74]==_0xe333fd(0x618)&&this['replaceVariablesInObject'](_0x223a42[_0x5c7b74],_0x52e9b5);}async[a0_0x401cf8(0x568)](_0x439dc6,_0x2696ec){const _0x2a3db5=a0_0x401cf8;let _0x30aa4d=_0x2696ec['_id'];if(_0x439dc6[_0x2a3db5(0x630)]&&_0x439dc6['chatLog']['blockLogs']){let _0x3da44a=_0x439dc6[_0x2a3db5(0x630)][_0x2a3db5(0x778)]['filter'](_0x526a10=>String(_0x526a10[_0x2a3db5(0x269)])===String(_0x30aa4d))[_0x2a3db5(0x611)]();if(_0x3da44a&&_0x3da44a[_0x2a3db5(0x654)]&&_0x2696ec[_0x2a3db5(0x7b2)])return _0x439dc6[_0x2a3db5(0x776)]=_0x2a3db5(0x4c4),await this[_0x2a3db5(0x5d5)](_0x439dc6),null;}if(_0x2696ec[_0x2a3db5(0x6ef)]===_0x2a3db5(0x1d7)&&_0x2696ec['uazapi'][_0x2a3db5(0x2bc)]===_0x2a3db5(0x216)&&_0x439dc6[_0x2a3db5(0x3c2)])return _0x439dc6[_0x2a3db5(0x630)][_0x2a3db5(0x315)]=_0x30aa4d,await this['saveConversationToDatabase'](_0x439dc6),null;let _0x33b225=await this[_0x2a3db5(0x7c8)](_0x439dc6);if(_0x439dc6[_0x2a3db5(0x630)]&&_0x439dc6[_0x2a3db5(0x630)][_0x2a3db5(0x778)]){let _0x7dd6bb=_0x439dc6['chatLog']['blockLogs']['filter'](_0x374012=>String(_0x374012[_0x2a3db5(0x269)])===String(_0x30aa4d))[_0x2a3db5(0x24f)];if(_0x2696ec[_0x2a3db5(0x6b7)]!==void 0x0&&_0x7dd6bb>=_0x2696ec[_0x2a3db5(0x6b7)]){let _0xe2e118=Date['now'](),_0x2c502d=_0x2696ec[_0x2a3db5(0x2c9)]??0xa;isNaN(_0x2c502d)&&(_0x2c502d=0xa);let _0x433ff8=_0xe2e118+_0x2c502d*0x3c*0x3e8,_0x46ee88={'newStoppedUntil':_0x433ff8};return this['updateStopChat'](_0x439dc6,_0x433ff8),this['updateConversation'](_0x439dc6,_0x2696ec,_0x46ee88,!0x0),null;}}_0x33b225&&_0x33b225[_0x2a3db5(0x6ef)]!==_0x2a3db5(0x4f5)&&await this[_0x2a3db5(0x3d0)](_0x439dc6,_0x33b225),_0x33b225||await this[_0x2a3db5(0x5d5)](_0x439dc6),_0x33b225&&_0x33b225['type']===_0x2a3db5(0x4f5)&&(_0x439dc6[_0x2a3db5(0x630)][_0x2a3db5(0x315)]=_0x30aa4d,await this[_0x2a3db5(0x5d5)](_0x439dc6));}async['processblock'](_0x2dc1e4,_0x26eaee){const _0xfd19ae=a0_0x401cf8;try{let _0x1bca00=_0x26eaee[_0xfd19ae(0x6ef)];this['logger'][_0xfd19ae(0x2fa)](this['instanceName']+'\x20('+this['instance'][_0xfd19ae(0x2b8)]+_0xfd19ae(0x627)+_0x1bca00);let _0x4ad503={'uazapi':()=>this[_0xfd19ae(0x374)](_0x2dc1e4,_0x26eaee),'save':()=>this[_0xfd19ae(0x387)](_0x2dc1e4,_0x26eaee),'stop':()=>this[_0xfd19ae(0x4e3)](_0x2dc1e4,_0x26eaee),'condition':()=>this[_0xfd19ae(0x41a)](_0x2dc1e4,_0x26eaee),'varedit':()=>this[_0xfd19ae(0x770)](_0x2dc1e4,_0x26eaee),'apirequest':()=>this[_0xfd19ae(0x2f6)](_0x2dc1e4,_0x26eaee),'goToFlow':()=>this[_0xfd19ae(0x1f2)](_0x2dc1e4,_0x26eaee)}[_0x1bca00];_0x4ad503&&await _0x4ad503();}catch(_0x162aca){this[_0xfd19ae(0x2c2)][_0xfd19ae(0x654)](this['instanceName']+'\x20('+this[_0xfd19ae(0x2e2)]['wuid']+_0xfd19ae(0x610)+(_0x162aca instanceof Error?_0x162aca[_0xfd19ae(0x295)]:JSON[_0xfd19ae(0x75b)](_0x162aca,null,0x2)));}}async[a0_0x401cf8(0x1f2)](_0x2a0801,_0xf81699){const _0x1780e5=a0_0x401cf8;if(this[_0x1780e5(0x2c2)][_0x1780e5(0x2fa)](this['instanceName']+'\x20('+this['instance'][_0x1780e5(0x2b8)]+_0x1780e5(0x5dc)),!_0x2a0801||!_0xf81699)return this[_0x1780e5(0x2c2)][_0x1780e5(0x654)](this[_0x1780e5(0x6a3)]+'\x20('+this[_0x1780e5(0x2e2)]['wuid']+_0x1780e5(0x732)),null;await this[_0x1780e5(0x50a)](_0x2a0801,_0xf81699,{},!0x0,!0x0),console[_0x1780e5(0x743)]('nextBlock:'),console[_0x1780e5(0x743)](_0xf81699);let _0x1e4e29=_0xf81699[_0x1780e5(0x3ce)];console[_0x1780e5(0x743)]('flowname:\x20',_0x1e4e29),_0x2a0801=await this[_0x1780e5(0x505)](_0x1e4e29,_0x2a0801[_0x1780e5(0x6e5)],_0x2a0801[_0x1780e5(0x630)]['realVariables']),this[_0x1780e5(0x2c2)][_0x1780e5(0x2fa)](this[_0x1780e5(0x6a3)]+'\x20('+this[_0x1780e5(0x2e2)][_0x1780e5(0x2b8)]+_0x1780e5(0x4cc));let _0x1007a4=await this[_0x1780e5(0x7c8)](_0x2a0801);_0x1007a4&&await this[_0x1780e5(0x3d0)](_0x2a0801,_0x1007a4);}async[a0_0x401cf8(0x505)](_0xf4da5c,_0x27f42a,_0x366300){const _0x1d4ade=a0_0x401cf8;this[_0x1d4ade(0x2c2)]['verbose'](this['instanceName']+'\x20('+this[_0x1d4ade(0x2e2)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0xf4da5c=await this[_0x1d4ade(0x552)][_0x1d4ade(0x2aa)][_0x1d4ade(0x4d8)]({'where':{'name':_0xf4da5c}},this['instance'][_0x1d4ade(0x2b8)]),!_0xf4da5c)return this[_0x1d4ade(0x2c2)][_0x1d4ade(0x654)](this[_0x1d4ade(0x6a3)]+'\x20('+this[_0x1d4ade(0x2e2)][_0x1d4ade(0x2b8)]+_0x1d4ade(0x25c)),null;let _0x5b589a=require(_0x1d4ade(0x3c9))[_0x1d4ade(0x3a6)],_0x157923=Date[_0x1d4ade(0x7f7)](),_0x276964=_0x1d4ade(0x503),_0x378e48={},_0x3b6b9d={},_0xbaac12={..._0xf4da5c,'chatLog':null},_0x8fc85b={'lastReceivedMessage':_0x378e48,'lastSendMessage':_0x3b6b9d,'lastBlockId':_0x276964,'lastCondition':!0x0,'realVariables':_0x366300};_0xbaac12[_0x1d4ade(0x630)]=_0x8fc85b,_0xbaac12[_0x1d4ade(0x630)][_0x1d4ade(0x44b)]={..._0x366300},delete _0xbaac12[_0x1d4ade(0x1ce)],_0xbaac12[_0x1d4ade(0x1ce)]=new _0x5b589a(),_0xbaac12[_0x1d4ade(0x1fb)]=_0x157923,_0xbaac12[_0x1d4ade(0x776)]=_0x1d4ade(0x5a0),_0xbaac12[_0x1d4ade(0x6e5)]=_0x27f42a;let _0x3d8dd8=await this['repository']['flowConversation'][_0x1d4ade(0x6c6)](_0xbaac12['_id'],_0xbaac12,this[_0x1d4ade(0x2e2)][_0x1d4ade(0x2b8)]);return this[_0x1d4ade(0x2c2)]['verbose'](this[_0x1d4ade(0x6a3)]+'\x20('+this['instance'][_0x1d4ade(0x2b8)]+_0x1d4ade(0x5ba)),_0x3d8dd8?_0xbaac12:null;}catch(_0xcc4da4){throw this[_0x1d4ade(0x2c2)]['error'](this[_0x1d4ade(0x6a3)]+'\x20('+this[_0x1d4ade(0x2e2)]['wuid']+_0x1d4ade(0x7f3)+(_0xcc4da4 instanceof Error?_0xcc4da4['message']:JSON[_0x1d4ade(0x75b)](_0xcc4da4,null,0x2))),new h(_0xcc4da4[_0x1d4ade(0x295)]);}}async[a0_0x401cf8(0x2f6)](_0x34f8a8,_0x308073){const _0x5a1109=a0_0x401cf8;let _0x59210f,_0x9af6d;try{let _0x55a29a=_0x308073[_0x5a1109(0x4fa)];if(!_0x55a29a||!_0x55a29a[_0x5a1109(0x410)]||!_0x55a29a[_0x5a1109(0x1da)])throw new Error(_0x5a1109(0x52c));let _0x520c52={'method':_0x55a29a[_0x5a1109(0x1da)],'url':_0x55a29a[_0x5a1109(0x410)],'headers':_0x55a29a[_0x5a1109(0x674)]||{},'data':_0x55a29a[_0x5a1109(0x40b)]||{}},_0x13b677=await(0x0,te[_0x5a1109(0x787)])(_0x520c52),_0x5be709=_0x13b677[_0x5a1109(0x785)]['content-type'];if(_0x5be709&&_0x5be709['includes']('application/json')){_0x59210f=_0x13b677[_0x5a1109(0x573)];let _0x13f1f6=_0x34f8a8[_0x5a1109(0x630)][_0x5a1109(0x44b)],_0x34466a=this[_0x5a1109(0x209)](_0x59210f);return Object[_0x5a1109(0x540)](_0x13f1f6,_0x34466a),_0x34f8a8['chatLog'][_0x5a1109(0x44b)]=_0x13f1f6,_0x9af6d={'error':!0x1,'apiResponse':_0x59210f},this[_0x5a1109(0x50a)](_0x34f8a8,_0x308073,_0x9af6d),_0x59210f;}else{if(_0x5be709&&(_0x5be709[_0x5a1109(0x23b)](_0x5a1109(0x72b))||_0x5be709[_0x5a1109(0x23b)](_0x5a1109(0x2b6))||_0x5be709[_0x5a1109(0x23b)](_0x5a1109(0x35f))||_0x5be709[_0x5a1109(0x23b)](_0x5a1109(0x447)))){let _0x4e2583=''+(0x0,me['v4'])(),_0x3b42ee=_0x13b677['headers'][_0x5a1109(0x45a)];if(_0x3b42ee){let _0x5272ed=_0x3b42ee[_0x5a1109(0x72c)](/filename="?(.+)"?/);if(_0x5272ed&&_0x5272ed[0x1]){let _0x21535e=_0x5272ed[0x1],_0x1a80ac=P[_0x5a1109(0x787)]['extname'](_0x21535e);_0x4e2583=''+(0x0,me['v4'])()+_0x1a80ac;}}let _0x5e5856=this[_0x5a1109(0x3e3)][_0x5a1109(0x626)]('SERVER')['URL'];if(!_0x5e5856){let _0x11c4e0=this[_0x5a1109(0x3e3)]['get'](_0x5a1109(0x57c));_0x5e5856='https://'+(_0x11c4e0&&_0x11c4e0[_0x5a1109(0x6fb)][_0x5a1109(0x54f)]('/')[0x4]);}let _0x2628d2=Buffer[_0x5a1109(0x525)](_0x13b677['data']);await this[_0x5a1109(0x624)](_0x2628d2,_0x4e2583);let _0x5bc16d=_0x5a1109(0x686)+_0x4e2583;return _0x5bc16d=''+_0x5e5856+_0x5bc16d,_0x59210f={'fileUrl':_0x5bc16d},_0x34f8a8[_0x5a1109(0x630)]['realVariables'][_0x5a1109(0x35a)]=_0x5bc16d,_0x9af6d={'error':!0x1,'apiResponse':{'fileUrl':_0x5bc16d}},this[_0x5a1109(0x50a)](_0x34f8a8,_0x308073,_0x9af6d),_0x59210f;}}}catch(_0x3ac01){console[_0x5a1109(0x654)](_0x5a1109(0x7de),_0x3ac01),_0x3ac01['response']&&(_0x59210f=_0x3ac01[_0x5a1109(0x774)][_0x5a1109(0x573)]);let _0x38b0cf=_0x34f8a8[_0x5a1109(0x630)][_0x5a1109(0x44b)],_0x3804a4=this['flattenObject'](_0x59210f);return Object[_0x5a1109(0x540)](_0x38b0cf,_0x3804a4),_0x34f8a8[_0x5a1109(0x630)][_0x5a1109(0x44b)]=_0x38b0cf,_0x9af6d={'error':!0x0,'errorLog':_0x3ac01[_0x5a1109(0x596)](),'apiResponse':_0x59210f},this['updateConversation'](_0x34f8a8,_0x308073,_0x9af6d),{'success':!0x1};}}[a0_0x401cf8(0x56a)](_0x123ff8,_0x405901){const _0xec59d5=a0_0x401cf8;let _0x1872c8=_0x1afa91=>{const _0x502e4b=a0_0x1c0b;let _0x17f05c=_0x1afa91[_0x502e4b(0x4e1)](/[^0-9.,-]/g,'')[_0x502e4b(0x4e1)](',','.'),_0x24c06b=parseFloat(_0x17f05c);return isNaN(_0x24c06b)?null:_0x24c06b;},_0x24dc5c=_0x405901[_0xec59d5(0x5ea)],_0x59fe1e=_0x405901[_0xec59d5(0x5b0)];typeof _0x24dc5c==_0xec59d5(0x219)&&(_0x24dc5c=this[_0xec59d5(0x4c5)](_0x24dc5c,_0x123ff8['chatLog'][_0xec59d5(0x44b)])??''),typeof _0x59fe1e==_0xec59d5(0x219)&&(_0x59fe1e=this['replaceVariables'](_0x59fe1e,_0x123ff8[_0xec59d5(0x630)][_0xec59d5(0x44b)])??'');let _0x33c18a=null;if(!_0x405901[_0xec59d5(0x791)])return null;switch(this[_0xec59d5(0x2c2)]['verbose'](this['instanceName']+'\x20('+this[_0xec59d5(0x2e2)]['wuid']+_0xec59d5(0x285)+_0x24dc5c),this[_0xec59d5(0x2c2)][_0xec59d5(0x2fa)](this[_0xec59d5(0x6a3)]+'\x20('+this[_0xec59d5(0x2e2)][_0xec59d5(0x2b8)]+_0xec59d5(0x769)+_0x59fe1e),_0x405901['editOperator']){case'+':case'-':case'*':case'/':let _0x558779=_0x1872c8(_0x24dc5c||'0'),_0x19d6f7=_0x1872c8(_0x59fe1e||'0');if(_0x558779===null)return null;switch(_0x405901['editOperator']){case'+':_0x33c18a=_0x558779+(_0x19d6f7??0x0);break;case'-':_0x33c18a=_0x558779-(_0x19d6f7??0x0);break;case'*':_0x33c18a=_0x558779*(_0x19d6f7??0x1);break;case'/':_0x19d6f7!==0x0&&(_0x33c18a=_0x558779/(_0x19d6f7??0x1));break;}break;case _0xec59d5(0x673):case _0xec59d5(0x26a):let _0x16636a=_0x59fe1e,_0x1f4cbc=_0x405901[_0xec59d5(0x56e)];if(typeof _0x1f4cbc==_0xec59d5(0x219)&&(_0x1f4cbc=this[_0xec59d5(0x4c5)](_0x1f4cbc,_0x123ff8[_0xec59d5(0x630)][_0xec59d5(0x44b)])??''),_0x16636a&&_0x1f4cbc!==void 0x0){let _0xd225dc=_0x405901[_0xec59d5(0x791)]==='findAndReplace'?new RegExp(_0x16636a['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x16636a,'g');_0x33c18a=_0x24dc5c[_0xec59d5(0x4e1)](_0xd225dc,_0x1f4cbc);}else console[_0xec59d5(0x62b)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0xec59d5(0x79f):_0x33c18a=_0x59fe1e;break;case'extractRegex':let _0x173adc=_0x24dc5c['match'](new RegExp(_0x59fe1e||''));_0x33c18a=_0x173adc?_0x173adc[0x0]:'';break;case _0xec59d5(0x705):_0x33c18a=_0x24dc5c['slice'](0x0,parseInt(_0x59fe1e||'0'));break;case _0xec59d5(0x5d6):let _0x17ae61=parseInt(_0x59fe1e||'0');_0x33c18a=_0x24dc5c[_0xec59d5(0x4a3)](_0x24dc5c[_0xec59d5(0x24f)]-_0x17ae61);break;case'toBrazilianNumberFormat':let _0x14d604=_0x1872c8(_0x24dc5c),_0x2e6c94=parseInt(_0x59fe1e||'0');_0x2e6c94=Math[_0xec59d5(0x497)](_0x2e6c94),_0x14d604!==null?_0x33c18a=_0x14d604[_0xec59d5(0x3aa)]('pt-BR',{'minimumFractionDigits':_0x2e6c94,'maximumFractionDigits':_0x2e6c94}):(console[_0xec59d5(0x62b)](_0xec59d5(0x5fe)+_0x24dc5c),_0x33c18a=null);break;case'toBRL':let _0xf44009=_0x1872c8(_0x24dc5c);_0xf44009!==null?_0x33c18a=_0xf44009[_0xec59d5(0x3aa)](_0xec59d5(0x7fa),{'style':_0xec59d5(0x815),'currency':_0xec59d5(0x4a9)}):(console[_0xec59d5(0x62b)](_0xec59d5(0x6ea)+_0x24dc5c),_0x33c18a=null);break;case _0xec59d5(0x3b4):_0x33c18a=_0x24dc5c['toUpperCase']();break;case _0xec59d5(0x4a7):_0x33c18a=_0x24dc5c[_0xec59d5(0x6cd)]();break;case'capitalizedWords':_0x33c18a=_0x24dc5c[_0xec59d5(0x54f)]('\x20')[_0xec59d5(0x515)](_0x1647e1=>_0x1647e1[_0xec59d5(0x2ac)](0x0)['toUpperCase']()+_0x1647e1[_0xec59d5(0x4a3)](0x1)[_0xec59d5(0x6cd)]())[_0xec59d5(0x6fa)]('\x20');break;case _0xec59d5(0x725):_0x33c18a=_0x24dc5c[_0xec59d5(0x2fc)]();break;default:_0x33c18a=_0x24dc5c;}return _0x33c18a!==null?_0x33c18a[_0xec59d5(0x596)]():null;}async[a0_0x401cf8(0x770)](_0xc0c8ee,_0x479718){const _0x4391f6=a0_0x401cf8;try{let _0xd69dca=_0xc0c8ee[_0x4391f6(0x360)]?.['filter'](_0x502299=>_0x502299['blockId']===_0x479718['_id']?.['toString']())||[],_0x10f497=_0x479718['saveVariable'],_0x25cdeb=null,_0x25df2d=[],_0x5b4efd=_0xc0c8ee[_0x4391f6(0x630)][_0x4391f6(0x44b)][_0x10f497];_0x25df2d[_0x4391f6(0x5c5)]('Valor\x20inicial:\x20\x22'+_0x5b4efd+'\x22');for(let _0x3911fd of _0xd69dca){_0x3911fd['firstValue']=_0x5b4efd,_0x25cdeb=_0x3911fd['firstValue'];let _0x48544d;try{_0x48544d=this[_0x4391f6(0x56a)](_0xc0c8ee,_0x3911fd);}catch(_0xd65b9c){console[_0x4391f6(0x654)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0xd65b9c[_0x4391f6(0x295)]);continue;}if(_0x48544d!==null){let _0x3dc871=_0x4391f6(0x76d)+_0x3911fd[_0x4391f6(0x791)]+'\x22',_0x5bb9bb=['toBRL','upperCase','lowerCase',_0x4391f6(0x602),_0x4391f6(0x725)];_0x3911fd[_0x4391f6(0x791)]==='findAndReplace'||_0x3911fd[_0x4391f6(0x791)]==='findAndReplaceRegex'?_0x3dc871+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x3911fd[_0x4391f6(0x5b0)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x3911fd[_0x4391f6(0x56e)]+'\x22':!_0x5bb9bb['includes'](_0x3911fd['editOperator'])&&_0x3911fd['secondValue']!==null&&_0x3911fd[_0x4391f6(0x5b0)]!==void 0x0&&(_0x3dc871+=_0x4391f6(0x492)+_0x3911fd['secondValue']+'\x22'),_0x3dc871+=_0x4391f6(0x549)+_0x48544d+'.',_0x25df2d['push'](_0x3dc871);}_0x48544d!==null&&(_0x5b4efd=_0x48544d);}if(_0xc0c8ee[_0x4391f6(0x630)]['realVariables']&&_0x479718[_0x4391f6(0x46e)]){_0xc0c8ee[_0x4391f6(0x630)][_0x4391f6(0x44b)][_0x479718[_0x4391f6(0x46e)]]=_0x5b4efd;let _0x4f0439={'variable':_0x479718[_0x4391f6(0x46e)],'oldValue':_0x25cdeb,'newValue':_0x5b4efd,'moreLogs':_0x25df2d};try{this[_0x4391f6(0x50a)](_0xc0c8ee,_0x479718,_0x4f0439);}catch(_0x3bacdf){console[_0x4391f6(0x654)](_0x4391f6(0x600)+_0x3bacdf['message']);}}return _0x10f497;}catch(_0x58fcbd){return console[_0x4391f6(0x654)](_0x4391f6(0x544)+_0x58fcbd['message']),null;}}async[a0_0x401cf8(0x41a)](_0x2862ac,_0x534dce){const _0x16113d=a0_0x401cf8;try{let _0x24ae3a=[],_0x2efe8e=_0x2862ac[_0x16113d(0x73b)][_0x16113d(0x56b)](_0x4c42d5=>_0x4c42d5[_0x16113d(0x269)]===_0x534dce[_0x16113d(0x1ce)][_0x16113d(0x596)]()),_0x2f4a0c=null,_0x9336a8=!0x1;for(let _0x34166e of _0x2efe8e){let _0x13fabf=this[_0x16113d(0x632)](_0x2862ac,_0x34166e);_0x24ae3a['push'](_0x16113d(0x2c6)+_0x34166e[_0x16113d(0x5ea)]+_0x16113d(0x6dc)+_0x34166e[_0x16113d(0x62c)]+_0x16113d(0x702)+_0x34166e['secondValue']+_0x16113d(0x23c)+_0x13fabf),_0x2f4a0c===null?_0x2f4a0c=_0x13fabf:_0x34166e[_0x16113d(0x2cf)]===_0x16113d(0x35b)?(_0x2f4a0c=_0x2f4a0c&&_0x13fabf,_0x13fabf||(_0x9336a8=!0x0)):_0x34166e[_0x16113d(0x2cf)]==='or'&&(_0x9336a8||(_0x2f4a0c=_0x2f4a0c||_0x13fabf));}_0x2f4a0c===null&&(_0x2f4a0c=!0x0);let _0x4041b6={'moreLogs':_0x24ae3a};_0x2862ac['chatLog'][_0x16113d(0x6f4)]=_0x2f4a0c,await this[_0x16113d(0x50a)](_0x2862ac,_0x534dce,_0x4041b6);}catch(_0x5e737e){this[_0x16113d(0x2c2)][_0x16113d(0x654)](this[_0x16113d(0x6a3)]+'\x20('+this[_0x16113d(0x2e2)][_0x16113d(0x2b8)]+_0x16113d(0x60d)+(_0x5e737e instanceof Error?_0x5e737e[_0x16113d(0x295)]:JSON[_0x16113d(0x75b)](_0x5e737e,null,0x2)));}}[a0_0x401cf8(0x632)](_0x2940eb,_0x1c48f8){const _0x4780df=a0_0x401cf8;let _0x47d93a=_0x1c48f8[_0x4780df(0x5ea)],_0x3272d9=_0x1c48f8[_0x4780df(0x5b0)];typeof _0x47d93a==_0x4780df(0x219)&&(_0x47d93a=this[_0x4780df(0x4c5)](_0x47d93a,_0x2940eb[_0x4780df(0x630)][_0x4780df(0x44b)])??''),typeof _0x3272d9==_0x4780df(0x219)&&(_0x3272d9=this[_0x4780df(0x4c5)](_0x3272d9,_0x2940eb['chatLog'][_0x4780df(0x44b)])??'');try{switch(_0x1c48f8[_0x4780df(0x62c)]){case _0x4780df(0x7b0):return _0x47d93a===_0x3272d9;case _0x4780df(0x299):return _0x47d93a!==_0x3272d9;case'contains':return _0x47d93a[_0x4780df(0x23b)](_0x3272d9);case _0x4780df(0x1e4):return!_0x47d93a[_0x4780df(0x23b)](_0x3272d9);case _0x4780df(0x581):return parseFloat(_0x47d93a)>parseFloat(_0x3272d9);case _0x4780df(0x51e):return parseFloat(_0x47d93a)<parseFloat(_0x3272d9);case _0x4780df(0x73d):return _0x47d93a!=='';case'empty':return _0x47d93a==='';case _0x4780df(0x3be):return new RegExp(_0x3272d9)['test'](_0x47d93a);case'notMatchRegex':return!new RegExp(_0x3272d9)[_0x4780df(0x7e8)](_0x47d93a);default:return!0x1;}}catch(_0x109246){return console[_0x4780df(0x654)](_0x4780df(0x714)+_0x109246),!0x1;}}[a0_0x401cf8(0x26d)](_0x396b5b){const _0x15a8b9=a0_0x401cf8;let _0x579603=!0x0,_0x160b40=null;for(let _0x580423 of _0x396b5b){let _0x2280bd=this[_0x15a8b9(0x3d4)](_0x580423);if(_0x160b40==='or'&&_0x2280bd){_0x579603=!0x0;break;}if(_0x160b40===_0x15a8b9(0x35b)&&!_0x2280bd){_0x579603=!0x1;break;}_0x160b40=_0x580423['OrAnd'];}return _0x579603;}['evaluateConditionTest'](_0xede01c){const _0x244529=a0_0x401cf8;let _0x452dbc=_0xede01c[_0x244529(0x5ea)],_0x45290a=_0xede01c[_0x244529(0x5b0)];try{switch(_0xede01c[_0x244529(0x62c)]){case'equal':return String(_0x452dbc)===String(_0x45290a);case _0x244529(0x299):return String(_0x452dbc)!==String(_0x45290a);case _0x244529(0x1dc):return String(_0x452dbc)[_0x244529(0x23b)](String(_0x45290a));case'notContains':return!String(_0x452dbc)[_0x244529(0x23b)](String(_0x45290a));case _0x244529(0x581):return parseFloat(String(_0x452dbc))>parseFloat(String(_0x45290a));case _0x244529(0x51e):return parseFloat(String(_0x452dbc))<parseFloat(String(_0x45290a));case _0x244529(0x73d):return String(_0x452dbc)!=='';case _0x244529(0x3fc):return String(_0x452dbc)==='';case'matchRegex':return new RegExp(String(_0x45290a))['test'](String(_0x452dbc));case _0x244529(0x55e):return!new RegExp(String(_0x45290a))[_0x244529(0x7e8)](String(_0x452dbc));default:return!0x1;}}catch(_0x190e8f){return console[_0x244529(0x654)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x190e8f),!0x1;}}async['saveTextReply'](_0x58d431,_0x4bbbd1){const _0x121a8b=a0_0x401cf8;if(this[_0x121a8b(0x2c2)][_0x121a8b(0x2fa)](this[_0x121a8b(0x6a3)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x58d431||!_0x4bbbd1)return this['logger'][_0x121a8b(0x654)](this['instanceName']+'\x20('+this[_0x121a8b(0x2e2)]['wuid']+_0x121a8b(0x732)),null;let _0x5b42b9=_0x4bbbd1[_0x121a8b(0x46e)],_0x13e5db=_0x58d431[_0x121a8b(0x630)]['lastReceivedMessage']['text']||_0x58d431[_0x121a8b(0x630)]['lastReceivedMessage'][_0x121a8b(0x53f)]||_0x58d431[_0x121a8b(0x630)]['lastReceivedMessage'][_0x121a8b(0x264)];try{_0x58d431[_0x121a8b(0x630)]['realVariables']||(_0x58d431['chatLog'][_0x121a8b(0x44b)]={});let _0x24b25f=_0x58d431[_0x121a8b(0x630)][_0x121a8b(0x44b)][_0x5b42b9];_0x58d431[_0x121a8b(0x630)][_0x121a8b(0x44b)][_0x5b42b9]=_0x13e5db;let _0x1b4089={'variable':_0x5b42b9,'oldValue':_0x24b25f,'newValue':_0x13e5db};this[_0x121a8b(0x50a)](_0x58d431,_0x4bbbd1,_0x1b4089),this[_0x121a8b(0x2c2)][_0x121a8b(0x2fa)](this['instanceName']+'\x20('+this[_0x121a8b(0x2e2)][_0x121a8b(0x2b8)]+_0x121a8b(0x3b5));}catch(_0x3e20b7){let _0x2323df={'error':!0x0,'errorLog':_0x3e20b7[_0x121a8b(0x596)]()};return this[_0x121a8b(0x50a)](_0x58d431,_0x4bbbd1,_0x2323df),this['logger']['error'](this[_0x121a8b(0x6a3)]+'\x20('+this[_0x121a8b(0x2e2)][_0x121a8b(0x2b8)]+_0x121a8b(0x6a7)+(_0x3e20b7 instanceof Error?_0x3e20b7[_0x121a8b(0x295)]:JSON[_0x121a8b(0x75b)](_0x3e20b7,null,0x2))),null;}}async[a0_0x401cf8(0x4e3)](_0x51f12b,_0x555d38){const _0x129254=a0_0x401cf8;if(this[_0x129254(0x2c2)][_0x129254(0x2fa)](this[_0x129254(0x6a3)]+'\x20('+this['instance'][_0x129254(0x2b8)]+_0x129254(0x535)),!_0x51f12b||!_0x555d38)return this[_0x129254(0x2c2)][_0x129254(0x654)](this['instanceName']+'\x20('+this['instance'][_0x129254(0x2b8)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x85a453=Date[_0x129254(0x7f7)](),_0x360f6e=parseInt(_0x555d38['stopMinutes'],0xa);if(isNaN(_0x360f6e))return this[_0x129254(0x2c2)][_0x129254(0x654)](this['instanceName']+'\x20('+this[_0x129254(0x2e2)]['wuid']+_0x129254(0x5fb)),null;let _0x41645d={'newStoppedUntil':_0x85a453+_0x360f6e*0x3c*0x3e8};return await this[_0x129254(0x50a)](_0x51f12b,_0x555d38,_0x41645d,!0x0),null;}async[a0_0x401cf8(0x374)](_0x44afc7,_0x1d2fd4){const _0x3286c5=a0_0x401cf8;try{switch(_0x1d2fd4[_0x3286c5(0x1d7)][_0x3286c5(0x2bc)]){case _0x3286c5(0x398):await this['uazapiSendText'](_0x44afc7,_0x1d2fd4);break;case _0x3286c5(0x2a4):await this[_0x3286c5(0x5df)](_0x44afc7,_0x1d2fd4);break;case _0x3286c5(0x1c8):await this[_0x3286c5(0x346)](_0x44afc7,_0x1d2fd4);break;case'sendAudio':await this[_0x3286c5(0x240)](_0x44afc7,_0x1d2fd4);break;case'sendContact':await this[_0x3286c5(0x6c5)](_0x44afc7,_0x1d2fd4);break;case _0x3286c5(0x216):await this['uazapiSendMenu'](_0x44afc7,_0x1d2fd4);break;case _0x3286c5(0x6e6):await this['uazapiSendMenu'](_0x44afc7,_0x1d2fd4);break;case _0x3286c5(0x475):await this[_0x3286c5(0x23e)](_0x44afc7,_0x1d2fd4);break;default:this[_0x3286c5(0x2c2)]['error'](this[_0x3286c5(0x6a3)]+'\x20('+this[_0x3286c5(0x2e2)][_0x3286c5(0x2b8)]+'):\x20Comando\x20desconhecido:\x20'+_0x1d2fd4[_0x3286c5(0x1d7)][_0x3286c5(0x2bc)]);}}catch(_0x451520){this['logger'][_0x3286c5(0x654)](this[_0x3286c5(0x6a3)]+'\x20('+this[_0x3286c5(0x2e2)]['wuid']+_0x3286c5(0x277)+(_0x451520 instanceof Error?_0x451520[_0x3286c5(0x295)]:JSON[_0x3286c5(0x75b)](_0x451520,null,0x2)));}}async[a0_0x401cf8(0x50a)](_0x2eb7b4,_0x542e01,_0x322c9c,_0x22e90a=!0x1,_0x1e7155=!0x1){const _0x584d70=a0_0x401cf8;_0x2eb7b4[_0x584d70(0x630)]['blockLogs']||(_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x778)]=[]);let _0x3f4a2f=(_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x778)]?.[_0x584d70(0x24f)]??0x0)+0x1,_0x2b72eb=_0x2eb7b4['chatLog'][_0x584d70(0x778)][_0x584d70(0x56b)](_0x41324a=>String(_0x41324a[_0x584d70(0x269)])===String(_0x542e01[_0x584d70(0x1ce)]))[_0x584d70(0x24f)]+0x1,_0x180f6f=_0x322c9c?.[_0x584d70(0x1db)]??Date[_0x584d70(0x7f7)](),_0x18f6b3=_0x322c9c?.[_0x584d70(0x654)]?_0x322c9c[_0x584d70(0x741)]??_0x322c9c['error']['toString']():void 0x0,_0x3644e2={'onTime':_0x180f6f,'blockId':_0x542e01[_0x584d70(0x1ce)],'order':_0x3f4a2f,'activatedCount':_0x2b72eb,'error':_0x322c9c?.['error']??!0x1,'messageId':_0x322c9c?.[_0x584d70(0x63c)],'apiResponse':_0x322c9c?.[_0x584d70(0x609)],'apiResponseString':_0x322c9c?.[_0x584d70(0x609)]?JSON[_0x584d70(0x75b)](_0x322c9c?.[_0x584d70(0x609)]):void 0x0,'variable':_0x322c9c?.['variable'],'oldValue':_0x322c9c?.[_0x584d70(0x44a)],'newValue':_0x322c9c?.[_0x584d70(0x526)],'newStoppedUntil':_0x322c9c?.[_0x584d70(0x56d)],'moreLogs':_0x322c9c?.[_0x584d70(0x41f)],'errorLog':_0x18f6b3};if(_0x322c9c[_0x584d70(0x41f)]&&_0x322c9c['moreLogs'][_0x584d70(0x24f)]>0x0){let _0x45c59f=_0x322c9c[_0x584d70(0x41f)][_0x584d70(0x515)](_0x3062e2=>this['replaceVariablesLogs'](_0x3062e2,_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x44b)]));_0x3644e2[_0x584d70(0x41f)]=_0x45c59f;}_0x2eb7b4[_0x584d70(0x630)]['realVariables']||(_0x2eb7b4['chatLog'][_0x584d70(0x44b)]={}),_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x44b)][_0x584d70(0x69e)]=String(_0x2b72eb),_0x2eb7b4[_0x584d70(0x630)]['realVariables'][_0x584d70(0x682)]=String(_0x322c9c[_0x584d70(0x654)]??!0x1),_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x778)][_0x584d70(0x5c5)](_0x3644e2),_0x2eb7b4['chatLog'][_0x584d70(0x315)]=_0x542e01[_0x584d70(0x1ce)]['toString'](),_0x2eb7b4['chatLog'][_0x584d70(0x429)]&&(_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x429)]=_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x429)]),_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x7bf)]&&(_0x2eb7b4[_0x584d70(0x630)]['lastReceivedMessage']=_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x7bf)]),_0x2eb7b4[_0x584d70(0x630)]['lastCondition']&&(_0x2eb7b4[_0x584d70(0x630)][_0x584d70(0x6f4)]=_0x2eb7b4[_0x584d70(0x630)]['lastCondition']),_0x1e7155&&(_0x2eb7b4[_0x584d70(0x776)]=_0x584d70(0x4c4)),_0x22e90a?this[_0x584d70(0x5d5)](_0x2eb7b4):this[_0x584d70(0x568)](_0x2eb7b4,_0x542e01);}['replaceVariablesLogs'](_0x245090,_0x4cdbe2){const _0x477bbf=a0_0x401cf8;return _0x245090[_0x477bbf(0x4e1)](/\{\{([^}]+)\}\}/g,(_0x87e5da,_0x28857b)=>_0x4cdbe2[_0x28857b]?'{{'+_0x28857b+'}}\x20->\x20\x22'+_0x4cdbe2[_0x28857b]+'\x22':'{{'+_0x28857b+_0x477bbf(0x48e));}async['saveConversationToDatabase'](_0x2bb7f6){const _0x51362f=a0_0x401cf8;try{let _0x33bdd4=Object[_0x51362f(0x34c)](_0x2bb7f6[_0x51362f(0x630)][_0x51362f(0x44b)])[_0x51362f(0x515)](([_0x4a299a,_0x367d05])=>({'name':_0x4a299a,'value':_0x367d05})),_0x430c37={'status':_0x2bb7f6[_0x51362f(0x776)],'blocks':_0x2bb7f6[_0x51362f(0x275)],'waitingMenu_id':_0x2bb7f6['waitingMenu_id'],'waitingMenu_text':_0x2bb7f6['waitingMenu_text'],'waitingMenu_replyOptions':_0x2bb7f6[_0x51362f(0x3bc)],'chatLog':{'lastBlockId':_0x2bb7f6[_0x51362f(0x630)][_0x51362f(0x315)],'lastSendMessage':_0x2bb7f6[_0x51362f(0x630)]['lastSendMessage'],'lastReceivedMessage':_0x2bb7f6['chatLog'][_0x51362f(0x7bf)],'lastCondition':_0x2bb7f6['chatLog']['lastCondition'],'chatVariables':_0x33bdd4,'realVariables':_0x2bb7f6['chatLog'][_0x51362f(0x44b)],'blockLogs':_0x2bb7f6['chatLog'][_0x51362f(0x778)]}},_0x38c1a8=await this[_0x51362f(0x552)]['flowConversation'][_0x51362f(0x6c6)](_0x2bb7f6[_0x51362f(0x1ce)],_0x430c37,this[_0x51362f(0x2e2)][_0x51362f(0x2b8)]);if(_0x38c1a8){this[_0x51362f(0x2c2)][_0x51362f(0x2fa)](this[_0x51362f(0x6a3)]+'\x20('+this[_0x51362f(0x2e2)]['wuid']+_0x51362f(0x288)+_0x38c1a8[_0x51362f(0x1ce)]);try{let _0x1b3751=[_0x51362f(0x583),'nomecompleto',_0x51362f(0x706),_0x51362f(0x3a5),'status',_0x51362f(0x6a6),_0x51362f(0x69a),_0x51362f(0x4cf)];if(!this[_0x51362f(0x78c)]&&(await this[_0x51362f(0x81c)](),!this[_0x51362f(0x78c)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x1fb4d9=this[_0x51362f(0x78c)]?.[_0x51362f(0x6da)][_0x51362f(0x515)](_0x38383c=>_0x38383c['name']),_0x455334={};Object[_0x51362f(0x34c)](_0x2bb7f6[_0x51362f(0x630)][_0x51362f(0x44b)])['forEach'](([_0x2d8348,_0x15bc98])=>{const _0x5a6ed9=_0x51362f;_0x1b3751['includes'](_0x2d8348)&&(_0x2d8348==='tags'&&typeof _0x15bc98==_0x5a6ed9(0x219)?_0x455334[_0x2d8348]=_0x15bc98[_0x5a6ed9(0x54f)](',')[_0x5a6ed9(0x515)](_0x4d2708=>_0x4d2708[_0x5a6ed9(0x2fc)]())[_0x5a6ed9(0x56b)](_0x4f145d=>_0x4f145d!==''):_0x455334[_0x2d8348]=_0x15bc98);});let _0x2b71a2=_0x2bb7f6[_0x51362f(0x630)][_0x51362f(0x778)][_0x2bb7f6[_0x51362f(0x630)][_0x51362f(0x778)]['length']-0x1];if(_0x2b71a2){let _0x398874=_0x2b71a2['newStoppedUntil'];_0x398874!==void 0x0&&(_0x455334[_0x51362f(0x724)]=_0x398874[_0x51362f(0x596)]());}let _0x110a3e=_0x33bdd4[_0x51362f(0x56b)](_0x2a1140=>_0x1fb4d9[_0x51362f(0x23b)](_0x2a1140[_0x51362f(0x5f2)]));this['logger'][_0x51362f(0x2fa)](this[_0x51362f(0x6a3)]+'\x20('+this[_0x51362f(0x2e2)]['wuid']+'):\x20leadInfoVariables'),this['logger'][_0x51362f(0x2fa)](_0x455334),this[_0x51362f(0x2c2)][_0x51362f(0x2fa)](this[_0x51362f(0x6a3)]+'\x20('+this['instance']['wuid']+_0x51362f(0x6e2)),this[_0x51362f(0x2c2)][_0x51362f(0x2fa)](_0x110a3e);let _0x46f41c=_0x110a3e[_0x51362f(0x515)](_0x24444d=>{const _0x3b6b17=_0x51362f;let _0x5740ca=this['AutomateSystem']?.[_0x3b6b17(0x6da)][_0x3b6b17(0x7d2)](_0x5770aa=>_0x5770aa['name']===_0x24444d[_0x3b6b17(0x5f2)]);if(!_0x5740ca)throw new Error(_0x3b6b17(0x7b7)+_0x24444d[_0x3b6b17(0x5f2)]);return{'_id':_0x5740ca['_id'],'value':_0x24444d['value']};});this['logger'][_0x51362f(0x2fa)](this[_0x51362f(0x6a3)]+'\x20('+this[_0x51362f(0x2e2)][_0x51362f(0x2b8)]+_0x51362f(0x67d)),this[_0x51362f(0x2c2)][_0x51362f(0x2fa)](_0x46f41c),await this[_0x51362f(0x4e4)](_0x2bb7f6[_0x51362f(0x6e5)],_0x455334,_0x46f41c);}catch(_0x232ccf){this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x51362f(0x35e)+(_0x232ccf instanceof Error?_0x232ccf['message']:JSON[_0x51362f(0x75b)](_0x232ccf,null,0x2)));}}else this[_0x51362f(0x2c2)][_0x51362f(0x654)](this['instanceName']+'\x20('+this['instance'][_0x51362f(0x2b8)]+_0x51362f(0x4ed));}catch(_0x436821){this[_0x51362f(0x2c2)]['error'](this['instanceName']+'\x20('+this[_0x51362f(0x2e2)][_0x51362f(0x2b8)]+_0x51362f(0x2ca)+(_0x436821 instanceof Error?_0x436821[_0x51362f(0x295)]:JSON['stringify'](_0x436821,null,0x2)));}}async['saveChatVariables'](_0x39fc96,_0x35a562,_0x11b92d){const _0x488b80=a0_0x401cf8;try{let _0x1de56b={'leadInfo.leadnome':_0x35a562['nome'],'leadInfo.nomecompleto':_0x35a562[_0x488b80(0x2c0)],'leadInfo.email':_0x35a562[_0x488b80(0x706)],'leadInfo.cpf':_0x35a562[_0x488b80(0x3a5)],'leadInfo.status':_0x35a562[_0x488b80(0x776)],'leadInfo.notas':_0x35a562[_0x488b80(0x6a6)],'leadInfo.responsavelid':_0x35a562[_0x488b80(0x69a)],'leadInfo.tags':_0x35a562[_0x488b80(0x4cf)],'leadInfo.customFields':_0x11b92d};if('desativadoFluxoAte'in _0x35a562){let _0x26219f=_0x35a562[_0x488b80(0x724)];_0x1de56b[_0x488b80(0x1d5)]=_0x26219f?Number(_0x26219f):null;}let _0xb7fec1=await this[_0x488b80(0x552)][_0x488b80(0x5e1)][_0x488b80(0x6c6)]({'where':{'_id':_0x39fc96}},_0x1de56b,this['instance']['wuid']);_0xb7fec1?(this['logger'][_0x488b80(0x2fa)](this[_0x488b80(0x6a3)]+'\x20('+this[_0x488b80(0x2e2)][_0x488b80(0x2b8)]+_0x488b80(0x593)+_0xb7fec1[_0x488b80(0x1ce)]),j(this[_0x488b80(0x6a3)],_0x488b80(0x47f),{'chat':_0xb7fec1})):this[_0x488b80(0x2c2)]['error'](this[_0x488b80(0x6a3)]+'\x20('+this[_0x488b80(0x2e2)][_0x488b80(0x2b8)]+_0x488b80(0x48d));}catch(_0x5386dd){this['logger'][_0x488b80(0x654)](this[_0x488b80(0x6a3)]+'\x20('+this[_0x488b80(0x2e2)][_0x488b80(0x2b8)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x5386dd instanceof Error?_0x5386dd[_0x488b80(0x295)]:JSON[_0x488b80(0x75b)](_0x5386dd,null,0x2)));}}async[a0_0x401cf8(0x453)](_0x55fb32,_0x2c3c3d){const _0x40cb46=a0_0x401cf8;this[_0x40cb46(0x2c2)][_0x40cb46(0x2fa)](this[_0x40cb46(0x6a3)]+'\x20('+this['instance']['wuid']+_0x40cb46(0x60e)+_0x2c3c3d);try{let _0x180a94=await this[_0x40cb46(0x552)][_0x40cb46(0x5e1)][_0x40cb46(0x6c6)]({'where':{'_id':_0x55fb32[_0x40cb46(0x6e5)]}},{'leadInfo.desativadoFluxoAte':_0x2c3c3d},this[_0x40cb46(0x2e2)][_0x40cb46(0x2b8)]);this[_0x40cb46(0x2c2)][_0x40cb46(0x2fa)](this[_0x40cb46(0x6a3)]+'\x20('+this[_0x40cb46(0x2e2)][_0x40cb46(0x2b8)]+_0x40cb46(0x4d5)+_0x55fb32[_0x40cb46(0x1ce)]),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x40cb46(0x60e)+JSON[_0x40cb46(0x75b)](_0x180a94,null,0x2)),_0x180a94&&j(this[_0x40cb46(0x6a3)],_0x40cb46(0x47f),{'chat':_0x180a94});}catch(_0x5ae7f4){this['logger']['error'](this[_0x40cb46(0x6a3)]+'\x20('+this[_0x40cb46(0x2e2)][_0x40cb46(0x2b8)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x5ae7f4 instanceof Error?_0x5ae7f4[_0x40cb46(0x295)]:JSON[_0x40cb46(0x75b)](_0x5ae7f4,null,0x2)));}}async[a0_0x401cf8(0x7ea)](_0x13b978){const _0x48b215=a0_0x401cf8;try{this[_0x48b215(0x2c2)][_0x48b215(0x2fa)](this[_0x48b215(0x6a3)]+'\x20('+this[_0x48b215(0x2e2)][_0x48b215(0x2b8)]+_0x48b215(0x7e5));let _0xb5e3a3=_0x13b978[_0x48b215(0x4e1)](/\D/g,''),_0x120f0d=await this[_0x48b215(0x552)]['flow'][_0x48b215(0x4d8)]({'where':{'testingWith':_0xb5e3a3}},this['instance'][_0x48b215(0x2b8)]);return _0x120f0d||(this[_0x48b215(0x2c2)]['verbose'](this[_0x48b215(0x6a3)]+'\x20('+this['instance'][_0x48b215(0x2b8)]+_0x48b215(0x468)),_0x120f0d=await this[_0x48b215(0x552)][_0x48b215(0x2aa)][_0x48b215(0x4d8)]({'where':{'default':!0x0}},this[_0x48b215(0x2e2)]['wuid'])),_0x120f0d||(this[_0x48b215(0x2c2)][_0x48b215(0x2fa)](this[_0x48b215(0x6a3)]+'\x20('+this[_0x48b215(0x2e2)][_0x48b215(0x2b8)]+_0x48b215(0x1dd)),null);}catch(_0x4c64ad){return this['logger'][_0x48b215(0x654)](this[_0x48b215(0x6a3)]+'\x20('+this['instance']['wuid']+_0x48b215(0x4c9)+(_0x4c64ad instanceof Error?_0x4c64ad[_0x48b215(0x295)]:JSON[_0x48b215(0x75b)](_0x4c64ad,null,0x2))),null;}}async['findConversation'](_0xe19c07,_0x1b9a9a){const _0x553138=a0_0x401cf8;try{let _0x44bce2=!!_0x1b9a9a[_0x553138(0x264)],_0x288ad2=_0x1b9a9a[_0x553138(0x2d2)],_0x1038e2=null;if(this['logger'][_0x553138(0x2fa)](this['instanceName']+'\x20('+this[_0x553138(0x2e2)]['wuid']+_0x553138(0x28d)+_0x44bce2+_0x553138(0x64c)+_0x288ad2),_0x44bce2){this[_0x553138(0x2c2)][_0x553138(0x2fa)](this[_0x553138(0x6a3)]+'\x20('+this[_0x553138(0x2e2)][_0x553138(0x2b8)]+_0x553138(0x1f4));let _0x58eb74={'where':{'remoteJid':_0xe19c07,'waitingMenu_id':_0x288ad2}};if(_0x1038e2=await this[_0x553138(0x552)][_0x553138(0x242)][_0x553138(0x4d8)](_0x58eb74,this[_0x553138(0x2e2)][_0x553138(0x2b8)]),!_0x1038e2)return this[_0x553138(0x2c2)]['verbose'](this[_0x553138(0x6a3)]+'\x20('+this[_0x553138(0x2e2)]['wuid']+'):\x20não\x20encontrou'),null;let _0xd5b863=Date[_0x553138(0x7f7)](),_0x14ca97=_0x1038e2?.[_0x553138(0x280)]||0x0,_0x37af49=_0xd5b863-_0x14ca97*0x3c*0x3e8;if(_0x1038e2[_0x553138(0x1fb)]<_0x37af49){this['logger'][_0x553138(0x2fa)](this['instanceName']+'\x20('+this['instance'][_0x553138(0x2b8)]+_0x553138(0x619));let _0x2354db={'number':_0x1038e2[_0x553138(0x6e5)],'options':{'delay':0x0},'textMessage':{'text':_0x1038e2['waitingMenu_ExpiredMessage']}};await this[_0x553138(0x32c)](_0x2354db);let _0x42f97c={'status':_0x553138(0x4c4),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x553138(0x552)]['flowConversation'][_0x553138(0x6c6)](_0x1038e2[_0x553138(0x1ce)],_0x42f97c,this[_0x553138(0x2e2)]['wuid']),null;}return _0x1038e2['lastInteraction']=Date[_0x553138(0x7f7)](),_0x1038e2[_0x553138(0x630)][_0x553138(0x7bf)]=_0x1b9a9a,_0x1038e2;}else{this[_0x553138(0x2c2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x553138(0x2b8)]+_0x553138(0x73f)+this['instance']['wuid']+_0x553138(0x322)),this[_0x553138(0x2c2)][_0x553138(0x2fa)](this[_0x553138(0x6a3)]+'\x20('+this[_0x553138(0x2e2)]['wuid']+_0x553138(0x63f));let _0x2f8784={'where':{'remoteJid':_0xe19c07,'status':_0x553138(0x5a0)}};if(_0x1038e2=await this['repository']['flowConversation'][_0x553138(0x4d8)](_0x2f8784,this[_0x553138(0x2e2)][_0x553138(0x2b8)]),!_0x1038e2){let _0x3bed22=await this[_0x553138(0x7ea)](_0xe19c07);if(_0x3bed22&&(_0x1038e2=await this[_0x553138(0x4ab)](_0x3bed22,_0x1b9a9a[_0x553138(0x7e9)],_0x1b9a9a)),!_0x1038e2)return null;}let _0x168696=Date[_0x553138(0x7f7)](),_0x3b2dba=_0x1038e2?.[_0x553138(0x280)]||0x0,_0x2621df=_0x168696-_0x3b2dba*0x3c*0x3e8;if(this[_0x553138(0x2c2)]['verbose'](this[_0x553138(0x6a3)]+'\x20('+this['instance'][_0x553138(0x2b8)]+_0x553138(0x567)+_0x168696+_0x553138(0x2de)+_0x3b2dba+',\x20Expiration\x20Time:\x20'+_0x2621df),this[_0x553138(0x2c2)]['verbose'](this[_0x553138(0x6a3)]+'\x20('+this['instance']['wuid']+_0x553138(0x616)),this[_0x553138(0x2c2)]['verbose'](this['instanceName']+'\x20('+this[_0x553138(0x2e2)][_0x553138(0x2b8)]+_0x553138(0x5c1)+_0x1038e2['lastInteraction']),this[_0x553138(0x2c2)][_0x553138(0x2fa)](this[_0x553138(0x6a3)]+'\x20('+this[_0x553138(0x2e2)]['wuid']+_0x553138(0x4f8)+_0x2621df),_0x1038e2['lastInteraction']<_0x2621df){this['logger'][_0x553138(0x2fa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x553138(0x2af));let _0x4e1c74=await this[_0x553138(0x7ea)](_0xe19c07);if(_0x4e1c74===null)return null;_0x1038e2&&await this[_0x553138(0x552)][_0x553138(0x242)]['updateOne'](_0x1038e2['_id'],{'status':_0x553138(0x4c4)},this[_0x553138(0x2e2)]['wuid']),_0x1038e2=await this[_0x553138(0x4ab)](_0x4e1c74,_0x1b9a9a[_0x553138(0x7e9)],_0x1b9a9a);}return _0x1038e2[_0x553138(0x1fb)]=_0x168696,_0x1038e2[_0x553138(0x630)][_0x553138(0x7bf)]=_0x1b9a9a,_0x1038e2;}}catch(_0x2d4216){return this['logger'][_0x553138(0x654)](this[_0x553138(0x6a3)]+'\x20('+this[_0x553138(0x2e2)][_0x553138(0x2b8)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x2d4216 instanceof Error?_0x2d4216[_0x553138(0x295)]:JSON[_0x553138(0x75b)](_0x2d4216,null,0x2))),null;}}async[a0_0x401cf8(0x4ab)](_0x1ede0d,_0x2c3dca,_0x4f0c09){const _0x5d80de=a0_0x401cf8;this[_0x5d80de(0x2c2)][_0x5d80de(0x2fa)](this['instanceName']+'\x20('+this[_0x5d80de(0x2e2)][_0x5d80de(0x2b8)]+_0x5d80de(0x5f5));try{let _0x380435=require('mongodb')[_0x5d80de(0x3a6)],_0x2c9dcc=Date['now'](),_0x28a71a=_0x5d80de(0x503),_0x5cf19c=_0x2c3dca['fromMe']?null:_0x4f0c09,_0x459777=_0x2c3dca[_0x5d80de(0x797)]?_0x4f0c09:null,_0x2d5dc3=_0x2c3dca[_0x5d80de(0x6e5)];await this['closeExistingConversations'](_0x2d5dc3);let _0x52415f={..._0x1ede0d,'chatLog':null},_0x3306f8=await this['variablesToObject'](_0x52415f['variables']),_0x361225=await this[_0x5d80de(0x1ea)](_0x2d5dc3),_0x37342c={..._0x3306f8,..._0x361225,'_remoteJid':_0x2d5dc3},_0x4879cc={'lastReceivedMessage':_0x5cf19c,'lastSendMessage':_0x459777,'lastBlockId':_0x28a71a,'lastCondition':!0x0,'realVariables':_0x37342c};_0x52415f['chatLog']=_0x4879cc,delete _0x52415f[_0x5d80de(0x1ce)],_0x52415f[_0x5d80de(0x1ce)]=new _0x380435(),_0x52415f[_0x5d80de(0x1fb)]=_0x2c9dcc,_0x52415f[_0x5d80de(0x776)]=_0x5d80de(0x5a0),_0x52415f[_0x5d80de(0x6e5)]=_0x2d5dc3;let _0xc54160=await this[_0x5d80de(0x552)][_0x5d80de(0x242)][_0x5d80de(0x6c6)](_0x52415f['_id'],_0x52415f,this[_0x5d80de(0x2e2)][_0x5d80de(0x2b8)]);return this[_0x5d80de(0x2c2)][_0x5d80de(0x2fa)](this[_0x5d80de(0x6a3)]+'\x20('+this['instance']['wuid']+_0x5d80de(0x5ba)),_0xc54160?_0x52415f:null;}catch(_0xf24f33){return this[_0x5d80de(0x2c2)]['error'](this[_0x5d80de(0x6a3)]+'\x20('+this[_0x5d80de(0x2e2)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0xf24f33 instanceof Error?_0xf24f33['message']:JSON[_0x5d80de(0x75b)](_0xf24f33,null,0x2))),_0xf24f33;}}async[a0_0x401cf8(0x504)](_0x219942,_0x158811){const _0x9b1f4e=a0_0x401cf8;let _0x2bddec=_0x219942[_0x9b1f4e(0x6e5)];_0x158811[_0x9b1f4e(0x1d7)][_0x9b1f4e(0x6e5)]&&_0x158811[_0x9b1f4e(0x1d7)]['remoteJid'][_0x9b1f4e(0x2fc)]()!==''&&(_0x2bddec=_0x158811[_0x9b1f4e(0x1d7)][_0x9b1f4e(0x6e5)][_0x9b1f4e(0x2fc)]()),this[_0x9b1f4e(0x2c2)][_0x9b1f4e(0x2fa)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9b1f4e(0x28a));let _0xc2fc50={'number':_0x2bddec,'options':{'delay':_0x158811[_0x9b1f4e(0x1d7)][_0x9b1f4e(0x784)]},'textMessage':{'text':_0x158811[_0x9b1f4e(0x1d7)][_0x9b1f4e(0x3e6)]}};try{let _0x891a4c=await this[_0x9b1f4e(0x32c)](_0xc2fc50);if(_0x891a4c){let _0x1ddf11={'_id':_0x891a4c['key']['id'],'_fromMe':_0x891a4c[_0x9b1f4e(0x7e9)][_0x9b1f4e(0x797)],'_remoteJid':_0x891a4c[_0x9b1f4e(0x7e9)][_0x9b1f4e(0x6e5)]};_0x219942['chatLog'][_0x9b1f4e(0x315)]=_0x158811[_0x9b1f4e(0x1ce)][_0x9b1f4e(0x596)]();let {message_normalized:_0x10bc5e}=this[_0x9b1f4e(0x393)](_0x891a4c[_0x9b1f4e(0x295)],_(_0x891a4c[_0x9b1f4e(0x295)]),null);_0x219942[_0x9b1f4e(0x630)][_0x9b1f4e(0x429)]=await _0x10bc5e;let _0x5589c1={'messageId':_0x891a4c['key']['id']},_0xbf8652=_0x219942['chatLog'][_0x9b1f4e(0x44b)];Object[_0x9b1f4e(0x540)](_0xbf8652,_0x1ddf11),_0x219942[_0x9b1f4e(0x630)][_0x9b1f4e(0x44b)]=_0xbf8652,this['updateConversation'](_0x219942,_0x158811,_0x5589c1);}else{let _0x28a27a={'error':!0x0};this[_0x9b1f4e(0x50a)](_0x219942,_0x158811,_0x28a27a),this[_0x9b1f4e(0x2c2)]['error'](this[_0x9b1f4e(0x6a3)]+'\x20('+this[_0x9b1f4e(0x2e2)][_0x9b1f4e(0x2b8)]+_0x9b1f4e(0x266));}}catch(_0x44bc5d){let _0x4a24dd={'error':!0x0,'errorLog':_0x44bc5d[_0x9b1f4e(0x596)]()};this['updateConversation'](_0x219942,_0x158811,_0x4a24dd),this[_0x9b1f4e(0x2c2)][_0x9b1f4e(0x654)](this[_0x9b1f4e(0x6a3)]+'\x20('+this[_0x9b1f4e(0x2e2)][_0x9b1f4e(0x2b8)]+_0x9b1f4e(0x395)+(_0x44bc5d instanceof Error?_0x44bc5d['message']:JSON[_0x9b1f4e(0x75b)](_0x44bc5d,null,0x2)));}}async[a0_0x401cf8(0x5df)](_0x16087f,_0x4de0ef){const _0xa968fe=a0_0x401cf8;let _0x20e08f=_0x16087f['remoteJid'];_0x4de0ef['uazapi'][_0xa968fe(0x6e5)]&&_0x4de0ef['uazapi'][_0xa968fe(0x6e5)][_0xa968fe(0x2fc)]()!==''&&(_0x20e08f=_0x4de0ef[_0xa968fe(0x1d7)]['remoteJid'][_0xa968fe(0x2fc)]()),this[_0xa968fe(0x2c2)]['verbose'](this[_0xa968fe(0x6a3)]+'\x20('+this[_0xa968fe(0x2e2)][_0xa968fe(0x2b8)]+'):\x20Enviando\x20mídia');let _0x1983e7={'number':_0x20e08f,'options':{'delay':_0x4de0ef[_0xa968fe(0x1d7)]['delay']},'mediaMessage':{'mediatype':_0x4de0ef[_0xa968fe(0x1d7)][_0xa968fe(0x6ee)],'caption':_0x4de0ef['uazapi'][_0xa968fe(0x53f)],'media':_0x4de0ef[_0xa968fe(0x1d7)][_0xa968fe(0x3de)],'fileName':_0x4de0ef['uazapi']['fileName']}};try{let _0x41bf77=await this[_0xa968fe(0x3ac)](_0x1983e7);if(_0x41bf77){let _0x54494c={'_id':_0x41bf77[_0xa968fe(0x7e9)]['id'],'_fromMe':_0x41bf77['key'][_0xa968fe(0x797)],'_remoteJid':_0x41bf77[_0xa968fe(0x7e9)][_0xa968fe(0x6e5)]};_0x16087f[_0xa968fe(0x630)][_0xa968fe(0x315)]=_0x4de0ef[_0xa968fe(0x1ce)][_0xa968fe(0x596)]();let {message_normalized:_0x16ef5a}=this[_0xa968fe(0x393)](_0x41bf77['message'],_(_0x41bf77[_0xa968fe(0x295)]),null);_0x16087f[_0xa968fe(0x630)]['lastSendMessage']=await _0x16ef5a;let _0x3a4e0c={'messageId':_0x41bf77[_0xa968fe(0x7e9)]['id']},_0x43801d=_0x16087f['chatLog'][_0xa968fe(0x44b)];Object[_0xa968fe(0x540)](_0x43801d,_0x54494c),_0x16087f[_0xa968fe(0x630)][_0xa968fe(0x44b)]=_0x43801d,this[_0xa968fe(0x50a)](_0x16087f,_0x4de0ef,_0x3a4e0c);}else{let _0x4f1baf={'error':!0x0};this[_0xa968fe(0x50a)](_0x16087f,_0x4de0ef,_0x4f1baf),this[_0xa968fe(0x2c2)][_0xa968fe(0x654)](this[_0xa968fe(0x6a3)]+'\x20('+this[_0xa968fe(0x2e2)][_0xa968fe(0x2b8)]+_0xa968fe(0x550));}}catch(_0x5da2b6){let _0x319a93={'error':!0x0,'errorLog':_0x5da2b6[_0xa968fe(0x596)]()};this['updateConversation'](_0x16087f,_0x4de0ef,_0x319a93),this[_0xa968fe(0x2c2)][_0xa968fe(0x654)](this[_0xa968fe(0x6a3)]+'\x20('+this[_0xa968fe(0x2e2)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x5da2b6 instanceof Error?_0x5da2b6[_0xa968fe(0x295)]:JSON[_0xa968fe(0x75b)](_0x5da2b6,null,0x2)));}}async[a0_0x401cf8(0x346)](_0x52bfb5,_0x319a8c){const _0x581e21=a0_0x401cf8;let _0x57532c=_0x52bfb5[_0x581e21(0x6e5)];_0x319a8c[_0x581e21(0x1d7)]['remoteJid']&&_0x319a8c[_0x581e21(0x1d7)][_0x581e21(0x6e5)][_0x581e21(0x2fc)]()!==''&&(_0x57532c=_0x319a8c[_0x581e21(0x1d7)][_0x581e21(0x6e5)]['trim']()),this[_0x581e21(0x2c2)][_0x581e21(0x2fa)](this[_0x581e21(0x6a3)]+'\x20('+this[_0x581e21(0x2e2)][_0x581e21(0x2b8)]+_0x581e21(0x530));let _0x469002={'number':_0x57532c,'options':{'delay':_0x319a8c[_0x581e21(0x1d7)][_0x581e21(0x784)]},'locationMessage':{'name':_0x319a8c[_0x581e21(0x1d7)]['name'],'address':_0x319a8c[_0x581e21(0x1d7)][_0x581e21(0x6a8)],'latitude':_0x319a8c['uazapi'][_0x581e21(0x5e8)],'longitude':_0x319a8c[_0x581e21(0x1d7)][_0x581e21(0x641)]}};try{let _0x30a74c=await this[_0x581e21(0x472)](_0x469002);if(_0x30a74c){let _0x338da4={'_id':_0x30a74c[_0x581e21(0x7e9)]['id'],'_fromMe':_0x30a74c[_0x581e21(0x7e9)][_0x581e21(0x797)],'_remoteJid':_0x30a74c['key'][_0x581e21(0x6e5)]};_0x52bfb5[_0x581e21(0x630)]['lastBlockId']=_0x319a8c[_0x581e21(0x1ce)]['toString']();let {message_normalized:_0x1ac909}=this[_0x581e21(0x393)](_0x30a74c[_0x581e21(0x295)],_(_0x30a74c['message']),null);_0x52bfb5[_0x581e21(0x630)][_0x581e21(0x429)]=await _0x1ac909;let _0x15fee5={'messageId':_0x30a74c['key']['id']},_0x401c9b=_0x52bfb5[_0x581e21(0x630)][_0x581e21(0x44b)];Object['assign'](_0x401c9b,_0x338da4),_0x52bfb5[_0x581e21(0x630)][_0x581e21(0x44b)]=_0x401c9b,this[_0x581e21(0x50a)](_0x52bfb5,_0x319a8c,_0x15fee5);}else{let _0x128629={'error':!0x0};this[_0x581e21(0x50a)](_0x52bfb5,_0x319a8c,_0x128629),this[_0x581e21(0x2c2)][_0x581e21(0x654)](this[_0x581e21(0x6a3)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x9f9447){let _0x58ec17={'error':!0x0,'errorLog':_0x9f9447[_0x581e21(0x596)]()};this[_0x581e21(0x50a)](_0x52bfb5,_0x319a8c,_0x58ec17),this[_0x581e21(0x2c2)][_0x581e21(0x654)](this[_0x581e21(0x6a3)]+'\x20('+this[_0x581e21(0x2e2)][_0x581e21(0x2b8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x9f9447 instanceof Error?_0x9f9447['message']:JSON[_0x581e21(0x75b)](_0x9f9447,null,0x2)));}}async[a0_0x401cf8(0x240)](_0x13a04b,_0x144f5b){const _0x110cc1=a0_0x401cf8;let _0x551309=_0x13a04b[_0x110cc1(0x6e5)];_0x144f5b[_0x110cc1(0x1d7)][_0x110cc1(0x6e5)]&&_0x144f5b[_0x110cc1(0x1d7)]['remoteJid']['trim']()!==''&&(_0x551309=_0x144f5b['uazapi'][_0x110cc1(0x6e5)]['trim']()),this['logger'][_0x110cc1(0x2fa)](this[_0x110cc1(0x6a3)]+'\x20('+this['instance']['wuid']+_0x110cc1(0x2bb));let _0x53baf3={'number':_0x551309,'options':{'delay':_0x144f5b[_0x110cc1(0x1d7)][_0x110cc1(0x784)]},'audioMessage':{'audio':_0x144f5b[_0x110cc1(0x1d7)]['audio']}};try{let _0x162786=await this[_0x110cc1(0x51d)](_0x53baf3);if(_0x162786){let _0x1b986f={'_id':_0x162786['key']['id'],'_fromMe':_0x162786[_0x110cc1(0x7e9)]['fromMe'],'_remoteJid':_0x162786[_0x110cc1(0x7e9)][_0x110cc1(0x6e5)]};_0x13a04b[_0x110cc1(0x630)][_0x110cc1(0x315)]=_0x144f5b[_0x110cc1(0x1ce)][_0x110cc1(0x596)]();let {message_normalized:_0x8c8a3b}=this['normalizeMessage'](_0x162786[_0x110cc1(0x295)],_(_0x162786[_0x110cc1(0x295)]),null);_0x13a04b[_0x110cc1(0x630)]['lastSendMessage']=await _0x8c8a3b;let _0x5d95ac={'messageId':_0x162786[_0x110cc1(0x7e9)]['id']},_0x44ec48=_0x13a04b[_0x110cc1(0x630)][_0x110cc1(0x44b)];Object[_0x110cc1(0x540)](_0x44ec48,_0x1b986f),_0x13a04b[_0x110cc1(0x630)]['realVariables']=_0x44ec48,this[_0x110cc1(0x50a)](_0x13a04b,_0x144f5b,_0x5d95ac);}else{let _0x40eab4={'error':!0x0};this[_0x110cc1(0x50a)](_0x13a04b,_0x144f5b,_0x40eab4),this[_0x110cc1(0x2c2)][_0x110cc1(0x654)](this[_0x110cc1(0x6a3)]+'\x20('+this['instance']['wuid']+_0x110cc1(0x248));}}catch(_0x15ab65){let _0x3f5c56={'error':!0x0,'errorLog':_0x15ab65[_0x110cc1(0x596)]()};this[_0x110cc1(0x50a)](_0x13a04b,_0x144f5b,_0x3f5c56),this[_0x110cc1(0x2c2)][_0x110cc1(0x654)](this[_0x110cc1(0x6a3)]+'\x20('+this[_0x110cc1(0x2e2)][_0x110cc1(0x2b8)]+_0x110cc1(0x698)+(_0x15ab65 instanceof Error?_0x15ab65[_0x110cc1(0x295)]:JSON['stringify'](_0x15ab65,null,0x2)));}}async['uazapiSendContact'](_0x2eb80f,_0x148674){const _0x5bbd12=a0_0x401cf8;let _0x56c898=_0x2eb80f[_0x5bbd12(0x6e5)];_0x148674['uazapi'][_0x5bbd12(0x6e5)]&&_0x148674[_0x5bbd12(0x1d7)][_0x5bbd12(0x6e5)][_0x5bbd12(0x2fc)]()!==''&&(_0x56c898=_0x148674[_0x5bbd12(0x1d7)][_0x5bbd12(0x6e5)]['trim']()),this[_0x5bbd12(0x2c2)][_0x5bbd12(0x2fa)](this[_0x5bbd12(0x6a3)]+'\x20('+this[_0x5bbd12(0x2e2)]['wuid']+'):\x20Enviando\x20contato');let _0x154569={'number':_0x56c898,'options':{'delay':_0x148674[_0x5bbd12(0x1d7)][_0x5bbd12(0x784)]},'contactMessage':[{'fullName':_0x148674[_0x5bbd12(0x1d7)][_0x5bbd12(0x65a)],'phoneNumber':_0x148674[_0x5bbd12(0x1d7)][_0x5bbd12(0x819)]}]};try{let _0x38ce3c=await this[_0x5bbd12(0x47b)](_0x154569);if(_0x38ce3c){let _0x6aa0e1={'_id':_0x38ce3c[_0x5bbd12(0x7e9)]['id'],'_fromMe':_0x38ce3c[_0x5bbd12(0x7e9)][_0x5bbd12(0x797)],'_remoteJid':_0x38ce3c[_0x5bbd12(0x7e9)][_0x5bbd12(0x6e5)]};_0x2eb80f['chatLog'][_0x5bbd12(0x315)]=_0x148674[_0x5bbd12(0x1ce)][_0x5bbd12(0x596)]();let {message_normalized:_0x238f88}=this[_0x5bbd12(0x393)](_0x38ce3c[_0x5bbd12(0x295)],_(_0x38ce3c[_0x5bbd12(0x295)]),null);_0x2eb80f[_0x5bbd12(0x630)][_0x5bbd12(0x429)]=await _0x238f88;let _0x5b5eb2={'messageId':_0x38ce3c[_0x5bbd12(0x7e9)]['id']},_0x1fd971=_0x2eb80f['chatLog'][_0x5bbd12(0x44b)];Object[_0x5bbd12(0x540)](_0x1fd971,_0x6aa0e1),_0x2eb80f[_0x5bbd12(0x630)]['realVariables']=_0x1fd971,this['updateConversation'](_0x2eb80f,_0x148674,_0x5b5eb2);}else{let _0x40ae34={'error':!0x0};this[_0x5bbd12(0x50a)](_0x2eb80f,_0x148674,_0x40ae34),this[_0x5bbd12(0x2c2)][_0x5bbd12(0x654)](this['instanceName']+'\x20('+this[_0x5bbd12(0x2e2)][_0x5bbd12(0x2b8)]+_0x5bbd12(0x760));}}catch(_0x3028ed){let _0x451c4a={'error':!0x0,'errorLog':_0x3028ed[_0x5bbd12(0x596)]()};this[_0x5bbd12(0x50a)](_0x2eb80f,_0x148674,_0x451c4a),this[_0x5bbd12(0x2c2)][_0x5bbd12(0x654)](this[_0x5bbd12(0x6a3)]+'\x20('+this['instance'][_0x5bbd12(0x2b8)]+_0x5bbd12(0x5e4)+(_0x3028ed instanceof Error?_0x3028ed['message']:JSON['stringify'](_0x3028ed,null,0x2)));}}[a0_0x401cf8(0x50f)](_0x412816,_0x574841){const _0x5686ad=a0_0x401cf8;for(let _0x515e2e of _0x412816)_0x515e2e[_0x5686ad(0x411)]&&(_0x515e2e[_0x5686ad(0x411)]=this[_0x5686ad(0x4c5)](_0x515e2e[_0x5686ad(0x411)],_0x574841)),_0x515e2e['optionDescription']&&(_0x515e2e['optionDescription']=this[_0x5686ad(0x4c5)](_0x515e2e[_0x5686ad(0x52a)],_0x574841));}async[a0_0x401cf8(0x58e)](_0x4c33d2,_0x4307f2){const _0x169394=a0_0x401cf8;let _0xd1f61=_0x4c33d2[_0x169394(0x6e5)];_0x4307f2[_0x169394(0x1d7)][_0x169394(0x6e5)]&&_0x4307f2[_0x169394(0x1d7)]['remoteJid'][_0x169394(0x2fc)]()!==''&&(_0xd1f61=_0x4307f2['uazapi'][_0x169394(0x6e5)][_0x169394(0x2fc)]()),this[_0x169394(0x2c2)][_0x169394(0x2fa)](this[_0x169394(0x6a3)]+'\x20('+this[_0x169394(0x2e2)][_0x169394(0x2b8)]+'):\x20Enviando\x20enquete');let _0x520f96=_0x4c33d2[_0x169394(0x59f)][_0x169394(0x56b)](_0x2dee2a=>_0x2dee2a[_0x169394(0x269)]===_0x4307f2['_id'])[_0x169394(0x3cc)]((_0xf466fb,_0x4709f3)=>_0xf466fb[_0x169394(0x527)]-_0x4709f3[_0x169394(0x527)]);this[_0x169394(0x50f)](_0x520f96,_0x4c33d2[_0x169394(0x630)][_0x169394(0x44b)]);let _0x18f504=_0x520f96[_0x169394(0x515)](_0x198cd4=>_0x198cd4[_0x169394(0x411)]),_0x1c22a5={'number':_0xd1f61,'menuMessage':{'type':_0x4307f2[_0x169394(0x1d7)]['menuType']||_0x169394(0x30c),'text':_0x4307f2['uazapi'][_0x169394(0x3e6)]||_0x4307f2[_0x169394(0x1d7)]['name'],'footerText':_0x4307f2[_0x169394(0x1d7)][_0x169394(0x55a)],'buttonText':_0x4307f2[_0x169394(0x1d7)][_0x169394(0x390)],'selectableCount':0x1,'choices':_0x18f504},'options':{'delay':_0x4307f2[_0x169394(0x1d7)][_0x169394(0x784)]}};try{let _0x39c12b=await this[_0x169394(0x6e4)](_0x1c22a5);if(_0x39c12b){let _0x166cc7={'_id':_0x39c12b[_0x169394(0x7e9)]['id'],'_fromMe':_0x39c12b[_0x169394(0x7e9)][_0x169394(0x797)],'_remoteJid':_0x39c12b[_0x169394(0x7e9)][_0x169394(0x6e5)]};_0x4307f2[_0x169394(0x1d7)][_0x169394(0x1de)]===!0x0&&(_0x4c33d2['status']=_0x169394(0x24c),this[_0x169394(0x2c2)][_0x169394(0x2fa)](this[_0x169394(0x6a3)]+'\x20('+this[_0x169394(0x2e2)][_0x169394(0x2b8)]+_0x169394(0x67a)+_0x4c33d2[_0x169394(0x776)])),this[_0x169394(0x2c2)][_0x169394(0x2fa)](this[_0x169394(0x6a3)]+'\x20('+this['instance'][_0x169394(0x2b8)]+_0x169394(0x42a)+(_0x4307f2['uazapi'][_0x169394(0x5f2)]||_0x4307f2['uazapi'][_0x169394(0x3e6)])),_0x4c33d2['waitingMenu_id']=_0x39c12b[_0x169394(0x7e9)]['id'],_0x4c33d2[_0x169394(0x4f3)]=_0x4307f2['uazapi']['name']||_0x4307f2[_0x169394(0x1d7)][_0x169394(0x3e6)],_0x4c33d2[_0x169394(0x3bc)]=_0x520f96,_0x4307f2[_0x169394(0x1d7)][_0x169394(0x6b4)]&&(_0x4c33d2['waitingMenu_ExpiredMessage']=_0x4307f2[_0x169394(0x1d7)][_0x169394(0x6b4)]),this['logger'][_0x169394(0x2fa)](this['instanceName']+'\x20('+this['instance'][_0x169394(0x2b8)]+_0x169394(0x4f4)+_0x4c33d2[_0x169394(0x4f3)]),_0x4c33d2['chatLog']['lastBlockId']=_0x4307f2[_0x169394(0x1ce)][_0x169394(0x596)]();let {message_normalized:_0x5f57bd}=this[_0x169394(0x393)](_0x39c12b[_0x169394(0x295)],_(_0x39c12b[_0x169394(0x295)]),null);_0x4c33d2[_0x169394(0x630)]['lastSendMessage']=await _0x5f57bd;let _0x10e4e6={'messageId':_0x39c12b['key']['id']},_0x47e34e=_0x4c33d2[_0x169394(0x630)][_0x169394(0x44b)];Object[_0x169394(0x540)](_0x47e34e,_0x166cc7),_0x4c33d2[_0x169394(0x630)][_0x169394(0x44b)]=_0x47e34e,this[_0x169394(0x50a)](_0x4c33d2,_0x4307f2,_0x10e4e6);}else{let _0x21b071={'error':!0x0};this[_0x169394(0x50a)](_0x4c33d2,_0x4307f2,_0x21b071),this[_0x169394(0x2c2)][_0x169394(0x654)](this[_0x169394(0x6a3)]+'\x20('+this[_0x169394(0x2e2)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x472384){let _0x1d5317={'error':!0x0,'errorLog':_0x472384 instanceof Error?_0x472384['message']:JSON[_0x169394(0x75b)](_0x472384,null,0x2)};this[_0x169394(0x50a)](_0x4c33d2,_0x4307f2,_0x1d5317),this[_0x169394(0x2c2)][_0x169394(0x654)](this['instanceName']+'\x20('+this[_0x169394(0x2e2)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x472384 instanceof Error?_0x472384[_0x169394(0x295)]:JSON[_0x169394(0x75b)](_0x472384,null,0x2)));}}async['uazapiDeleteMessage'](_0x509809,_0x3def14){const _0xc31969=a0_0x401cf8;this[_0xc31969(0x2c2)][_0xc31969(0x2fa)](this['instanceName']+'\x20('+this[_0xc31969(0x2e2)][_0xc31969(0x2b8)]+'):\x20Deletando\x20mensagem');let _0x2534b1=_0x509809[_0xc31969(0x630)][_0xc31969(0x778)]['find'](_0x2b6d72=>_0x2b6d72['blockId']['toString']()===_0x3def14[_0xc31969(0x1d7)][_0xc31969(0x269)][_0xc31969(0x596)]()),_0x892568={'id':_0x2534b1['messageId'],'remoteJid':_0x2534b1[_0xc31969(0x6e5)],'fromMe':_0x2534b1[_0xc31969(0x797)]};try{let _0x43adfc=await this[_0xc31969(0x475)](_0x892568);if(_0x43adfc){_0x509809['chatLog'][_0xc31969(0x315)]=_0x3def14[_0xc31969(0x1ce)]['toString']();let {message_normalized:_0x18794d}=this[_0xc31969(0x393)](_0x43adfc[_0xc31969(0x295)],_(_0x43adfc[_0xc31969(0x295)]),null);_0x509809['chatLog'][_0xc31969(0x429)]=await _0x18794d;let _0x445150={};this[_0xc31969(0x50a)](_0x509809,_0x3def14,_0x445150);}else{let _0x2cab1c={'error':!0x0};this[_0xc31969(0x50a)](_0x509809,_0x3def14,_0x2cab1c),this[_0xc31969(0x2c2)][_0xc31969(0x654)](this[_0xc31969(0x6a3)]+'\x20('+this['instance'][_0xc31969(0x2b8)]+_0xc31969(0x5ec));}}catch(_0x7196d6){let _0x12bb13={'error':!0x0,'errorLog':_0x7196d6 instanceof Error?_0x7196d6[_0xc31969(0x295)]:JSON[_0xc31969(0x75b)](_0x7196d6,null,0x2)};this[_0xc31969(0x50a)](_0x509809,_0x3def14,_0x12bb13),this['logger'][_0xc31969(0x654)](this[_0xc31969(0x6a3)]+'\x20('+this[_0xc31969(0x2e2)][_0xc31969(0x2b8)]+_0xc31969(0x244)+(_0x7196d6 instanceof Error?_0x7196d6[_0xc31969(0x295)]:JSON[_0xc31969(0x75b)](_0x7196d6,null,0x2)));}}async[a0_0x401cf8(0x490)](_0x4be8ef){const _0xfffb37=a0_0x401cf8;try{if(this['logger'][_0xfffb37(0x2fa)](this[_0xfffb37(0x6a3)]+'\x20('+this[_0xfffb37(0x2e2)][_0xfffb37(0x2b8)]+'):\x20Criando\x20fluxo...'),await this[_0xfffb37(0x552)][_0xfffb37(0x2aa)][_0xfffb37(0x4d8)]({'where':{'name':_0x4be8ef[_0xfffb37(0x5f2)]}},this[_0xfffb37(0x2e2)][_0xfffb37(0x2b8)]))return{'message':_0xfffb37(0x49b)};_0x4be8ef['default']===!0x0&&await this[_0xfffb37(0x552)]['flow']['updateMany']({},{'default':!0x1},this[_0xfffb37(0x2e2)]['wuid']);let _0x1d48b0=new ie[(_0xfffb37(0x3c3))][(_0xfffb37(0x3a6))](),_0x1dc814={'_id':_0x1d48b0,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x553cd2={'_id':new ie[(_0xfffb37(0x3c3))][(_0xfffb37(0x3a6))](),'order':0x1,'groupId':_0x1d48b0[_0xfffb37(0x596)](),'type':_0xfffb37(0x503)},_0x5ef56b={'_id':new ie['Types'][(_0xfffb37(0x3a6))](),'owner':this[_0xfffb37(0x2e2)][_0xfffb37(0x2b8)],'name':_0x4be8ef[_0xfffb37(0x5f2)],'groups':[_0x1dc814],'blocks':[_0x553cd2],..._0x4be8ef};return _0x5ef56b=await this[_0xfffb37(0x552)]['flow'][_0xfffb37(0x66b)](_0x5ef56b,this['instance'][_0xfffb37(0x2b8)]),_0x5ef56b;}catch(_0x23b8dc){throw this[_0xfffb37(0x2c2)]['error'](this['instanceName']+'\x20('+this[_0xfffb37(0x2e2)]['wuid']+_0xfffb37(0x441)+(_0x23b8dc instanceof Error?_0x23b8dc[_0xfffb37(0x295)]:JSON[_0xfffb37(0x75b)](_0x23b8dc,null,0x2))),new h(_0xfffb37(0x260)+_0x23b8dc);}}async[a0_0x401cf8(0x344)](_0x2d2996){const _0x472ff8=a0_0x401cf8;try{return this[_0x472ff8(0x2c2)]['verbose'](this['instanceName']+'\x20('+this[_0x472ff8(0x2e2)][_0x472ff8(0x2b8)]+_0x472ff8(0x73a)),await this[_0x472ff8(0x552)]['flow'][_0x472ff8(0x71c)]({'where':{'name':_0x2d2996}},this['instance'][_0x472ff8(0x2b8)]);}catch(_0x2ca303){return this[_0x472ff8(0x2c2)][_0x472ff8(0x654)](this[_0x472ff8(0x6a3)]+'\x20('+this[_0x472ff8(0x2e2)]['wuid']+_0x472ff8(0x740)+(_0x2ca303 instanceof Error?_0x2ca303[_0x472ff8(0x295)]:JSON[_0x472ff8(0x75b)](_0x2ca303,null,0x2))),{'message':_0x472ff8(0x647)+_0x2ca303};}}async[a0_0x401cf8(0x3a4)](_0x48675a){const _0x23304e=a0_0x401cf8;try{this[_0x23304e(0x2c2)][_0x23304e(0x2fa)](this[_0x23304e(0x6a3)]+'\x20('+this[_0x23304e(0x2e2)][_0x23304e(0x2b8)]+_0x23304e(0x7e5));let _0x41f299=await this['repository'][_0x23304e(0x2aa)][_0x23304e(0x4d8)]({'where':{'name':_0x48675a}},this['instance'][_0x23304e(0x2b8)]);if(!_0x41f299)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x23304e(0x78c)]&&(await this[_0x23304e(0x81c)](),!this['AutomateSystem']))return null;let _0x46259e=this[_0x23304e(0x78c)]?.[_0x23304e(0x6da)][_0x23304e(0x515)](_0x29ba7d=>_0x29ba7d[_0x23304e(0x5f2)]),_0x4bff02=[_0x23304e(0x583),_0x23304e(0x2c0),_0x23304e(0x706),_0x23304e(0x3a5),_0x23304e(0x776),'notas',_0x23304e(0x69a),_0x23304e(0x4cf)];_0x41f299[_0x23304e(0x2c8)]=_0x41f299['variables'][_0x23304e(0x56b)](_0xf2db9=>!(_0xf2db9['folder']===_0x23304e(0x450)||_0xf2db9[_0x23304e(0x450)])),_0x4bff02[_0x23304e(0x306)](_0x36df60=>{const _0x2201a5=_0x23304e;_0x41f299['variables'][_0x2201a5(0x5c5)]({'folder':'leadInfo','name':_0x36df60,'value':'','doc':'','leadInfo':!0x0});}),_0x46259e['forEach'](_0xf578f3=>{const _0x1f049e=_0x23304e;let _0x1c879e=_0x41f299[_0x1f049e(0x2c8)]['findIndex'](_0x47c835=>_0x47c835['name']===_0xf578f3);_0x1c879e===-0x1?_0x41f299[_0x1f049e(0x2c8)][_0x1f049e(0x5c5)]({'folder':_0x1f049e(0x450),'name':_0xf578f3,'value':'','doc':'','leadInfo':!0x0}):(_0x41f299[_0x1f049e(0x2c8)][_0x1c879e]['folder']=_0x1f049e(0x450),_0x41f299[_0x1f049e(0x2c8)][_0x1c879e][_0x1f049e(0x450)]=!0x0);}),_0x41f299['blocks']&&_0x41f299[_0x23304e(0x275)][_0x23304e(0x24f)]>0x0&&_0x41f299[_0x23304e(0x275)][_0x23304e(0x306)](_0x42a5c9=>{const _0x20258b=_0x23304e;_0x42a5c9[_0x20258b(0x5a1)]&&_0x42a5c9[_0x20258b(0x579)]&&_0x42a5c9[_0x20258b(0x5a1)]===_0x42a5c9[_0x20258b(0x579)]&&(_0x42a5c9[_0x20258b(0x579)]=null);});let _0x1adb03=await this[_0x23304e(0x552)][_0x23304e(0x2aa)][_0x23304e(0x6c6)](_0x41f299[_0x23304e(0x1ce)],_0x41f299,this[_0x23304e(0x2e2)][_0x23304e(0x2b8)]);if(!_0x1adb03)throw new Error(_0x23304e(0x66a));return _0x1adb03;}catch(_0x2338b7){throw this['logger'][_0x23304e(0x654)](this[_0x23304e(0x6a3)]+'\x20('+this[_0x23304e(0x2e2)]['wuid']+_0x23304e(0x553)+(_0x2338b7 instanceof Error?_0x2338b7['message']:JSON[_0x23304e(0x75b)](_0x2338b7,null,0x2))),new h(_0x23304e(0x5da)+_0x2338b7);}}async['allFlows'](){const _0x40603b=a0_0x401cf8;try{return this[_0x40603b(0x2c2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x40603b(0x2b8)]+_0x40603b(0x3a2)),await this[_0x40603b(0x552)][_0x40603b(0x2aa)]['findAll']({'where':{}},this['instance'][_0x40603b(0x2b8)]);}catch(_0x9bba6e){return this[_0x40603b(0x2c2)][_0x40603b(0x654)](this[_0x40603b(0x6a3)]+'\x20('+this['instance'][_0x40603b(0x2b8)]+_0x40603b(0x406)+(_0x9bba6e instanceof Error?_0x9bba6e[_0x40603b(0x295)]:JSON[_0x40603b(0x75b)](_0x9bba6e,null,0x2))),{'message':_0x40603b(0x4db)+_0x9bba6e};}}async[a0_0x401cf8(0x2d1)](_0x1f8176){const _0x4a1d3e=a0_0x401cf8;try{this['logger'][_0x4a1d3e(0x2fa)](this[_0x4a1d3e(0x6a3)]+'\x20('+this['instance'][_0x4a1d3e(0x2b8)]+_0x4a1d3e(0x47c));let _0x2dfb36=await this[_0x4a1d3e(0x552)][_0x4a1d3e(0x2aa)]['findOne']({'where':{'name':_0x1f8176['name']}},this['instance']['wuid']);return _0x2dfb36?(_0x1f8176[_0x4a1d3e(0x787)]===!0x0&&await this[_0x4a1d3e(0x552)][_0x4a1d3e(0x2aa)][_0x4a1d3e(0x243)]({},{'default':!0x1},this[_0x4a1d3e(0x2e2)]['wuid']),await this[_0x4a1d3e(0x552)][_0x4a1d3e(0x2aa)][_0x4a1d3e(0x6c6)](_0x2dfb36[_0x4a1d3e(0x1ce)],_0x1f8176,this[_0x4a1d3e(0x2e2)][_0x4a1d3e(0x2b8)])):{'message':_0x4a1d3e(0x7cc)};}catch(_0x194c54){throw this[_0x4a1d3e(0x2c2)][_0x4a1d3e(0x654)](this[_0x4a1d3e(0x6a3)]+'\x20('+this[_0x4a1d3e(0x2e2)][_0x4a1d3e(0x2b8)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x194c54 instanceof Error?_0x194c54['message']:JSON[_0x4a1d3e(0x75b)](_0x194c54,null,0x2))),new h('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x194c54 instanceof Error?_0x194c54['message']:JSON[_0x4a1d3e(0x75b)](_0x194c54,null,0x2)));}}async[a0_0x401cf8(0x443)](_0x58f0b5){const _0x4e199d=a0_0x401cf8;try{this[_0x4e199d(0x2c2)][_0x4e199d(0x2fa)](this[_0x4e199d(0x6a3)]+'\x20('+this[_0x4e199d(0x2e2)][_0x4e199d(0x2b8)]+_0x4e199d(0x5bb));let _0x1ca9c5=await this[_0x4e199d(0x552)]['flow'][_0x4e199d(0x4d8)]({'where':{'name':_0x58f0b5[_0x4e199d(0x5f2)]}},this[_0x4e199d(0x2e2)]['wuid']);_0x1ca9c5||this[_0x4e199d(0x4fb)](_0x4e199d(0x2a0));let {block:_0xcbb915}=_0x58f0b5;_0xcbb915?.['copy']?this['copyBlock'](_0x1ca9c5,_0x58f0b5):_0xcbb915?.[_0x4e199d(0x46c)]?this[_0x4e199d(0x5f1)](_0x1ca9c5,_0x58f0b5):_0xcbb915[_0x4e199d(0x1ce)]?await this[_0x4e199d(0x7ad)](_0x1ca9c5,_0x58f0b5):this['addBlock'](_0x1ca9c5,_0x58f0b5);let _0x24de64=await this[_0x4e199d(0x552)][_0x4e199d(0x2aa)][_0x4e199d(0x6c6)](_0x1ca9c5[_0x4e199d(0x1ce)],_0x1ca9c5,this[_0x4e199d(0x2e2)][_0x4e199d(0x2b8)]);if(!_0x24de64)throw new Error(_0x4e199d(0x66a));return _0x24de64;}catch(_0x428c3a){this[_0x4e199d(0x4fb)](_0x4e199d(0x48c)+_0x428c3a);}}async[a0_0x401cf8(0x302)](_0x58a685,_0x2dd079){const _0x52b075=a0_0x401cf8;let _0x23c14b=_0x2dd079[_0x52b075(0x6b5)][_0x52b075(0x1ce)],_0xbf237c=_0x58a685['blocks'][_0x52b075(0x7d2)](_0x14d29d=>_0x14d29d['_id'][_0x52b075(0x596)]()===_0x23c14b);if(!_0xbf237c){this['logger'][_0x52b075(0x654)](this[_0x52b075(0x6a3)]+'\x20('+this[_0x52b075(0x2e2)]['wuid']+_0x52b075(0x7d7)+_0x23c14b+_0x52b075(0x66d));return;}this['logger'][_0x52b075(0x2fa)](this[_0x52b075(0x6a3)]+'\x20('+this['instance'][_0x52b075(0x2b8)]+_0x52b075(0x4f1)+JSON[_0x52b075(0x75b)](_0xbf237c));let _0x39a77f=JSON[_0x52b075(0x359)](JSON[_0x52b075(0x75b)](_0xbf237c));_0x39a77f['_id']=new ie[(_0x52b075(0x787))]['Types'][(_0x52b075(0x3a6))](),this['logger'][_0x52b075(0x2fa)](this['instanceName']+'\x20('+this[_0x52b075(0x2e2)]['wuid']+_0x52b075(0x40f)+JSON[_0x52b075(0x75b)](_0x39a77f)),_0x58a685['blocks']['push'](_0x39a77f),this[_0x52b075(0x30b)](_0x58a685[_0x52b075(0x275)],_0x39a77f[_0x52b075(0x5a1)]);}['throwAndLogError'](_0x1a947c){const _0xa7383e=a0_0x401cf8;throw this[_0xa7383e(0x2c2)][_0xa7383e(0x654)](this[_0xa7383e(0x6a3)]+'\x20('+this[_0xa7383e(0x2e2)][_0xa7383e(0x2b8)]+_0xa7383e(0x73f)+_0x1a947c),new h(_0x1a947c);}[a0_0x401cf8(0x5f1)](_0xcf2315,_0x2cb75d){const _0x412436=a0_0x401cf8;let {block:_0x46826d}=_0x2cb75d;if(_0x46826d[_0x412436(0x6ef)]===_0x412436(0x503)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x46826d[_0x412436(0x1ce)]){this[_0x412436(0x4fb)](_0x412436(0x6b0));return;}let _0x1330db=_0xcf2315[_0x412436(0x275)][_0x412436(0x7d2)](_0x595b09=>_0x595b09[_0x412436(0x1ce)][_0x412436(0x596)]()===_0x2cb75d['block']['_id'][_0x412436(0x596)]());if(!_0x1330db){this[_0x412436(0x4fb)](_0x412436(0x5bd)+_0x46826d[_0x412436(0x1ce)]+_0x412436(0x22b));return;}_0xcf2315[_0x412436(0x275)]=_0xcf2315['blocks'][_0x412436(0x56b)](_0x448f3b=>_0x448f3b[_0x412436(0x1ce)][_0x412436(0x596)]()!==_0x2cb75d[_0x412436(0x6b5)][_0x412436(0x1ce)][_0x412436(0x596)]()),_0xcf2315[_0x412436(0x73b)]=_0xcf2315[_0x412436(0x73b)][_0x412436(0x56b)](_0x3a95bb=>_0x3a95bb[_0x412436(0x269)]!==_0x46826d[_0x412436(0x1ce)][_0x412436(0x596)]()),_0xcf2315['varedits']=_0xcf2315[_0x412436(0x360)][_0x412436(0x56b)](_0x19229a=>_0x19229a[_0x412436(0x269)]!==_0x46826d[_0x412436(0x1ce)][_0x412436(0x596)]()),_0xcf2315['replyOptions']=_0xcf2315[_0x412436(0x59f)][_0x412436(0x56b)](_0x1d1d58=>_0x1d1d58[_0x412436(0x269)]!==_0x46826d[_0x412436(0x1ce)][_0x412436(0x596)]()),this[_0x412436(0x30b)](_0xcf2315[_0x412436(0x275)],_0x1330db[_0x412436(0x5a1)]);}async[a0_0x401cf8(0x7ad)](_0x70fb71,_0x18290b){const _0x39db4b=a0_0x401cf8;let _0x4ad23d=_0x70fb71[_0x39db4b(0x275)][_0x39db4b(0x353)](_0x342294=>_0x342294['_id']['toString']()===_0x18290b[_0x39db4b(0x6b5)][_0x39db4b(0x1ce)][_0x39db4b(0x596)]());if(this[_0x39db4b(0x2c2)][_0x39db4b(0x2fa)](this[_0x39db4b(0x6a3)]+'\x20('+this[_0x39db4b(0x2e2)][_0x39db4b(0x2b8)]+_0x39db4b(0x575)+_0x4ad23d),_0x4ad23d===-0x1){this['logger'][_0x39db4b(0x2fa)](_0x39db4b(0x5bd)+_0x18290b[_0x39db4b(0x6b5)][_0x39db4b(0x1ce)]+_0x39db4b(0x435));return;}if(_0x70fb71[_0x39db4b(0x275)][_0x4ad23d]['type']===_0x39db4b(0x503)){let _0x5594be=Object[_0x39db4b(0x4ea)](_0x18290b[_0x39db4b(0x6b5)]);if(_0x5594be[_0x39db4b(0x24f)]>0x2||_0x5594be['length']===0x2&&!_0x5594be[_0x39db4b(0x23b)]('next_groupId')){this['throwAndLogError']('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x1610be=_0x70fb71['blocks'][_0x4ad23d][_0x39db4b(0x5a1)];for(let _0x3180d2 in _0x18290b[_0x39db4b(0x6b5)])_0x18290b['block'][_0x39db4b(0x235)](_0x3180d2)&&(_0x70fb71[_0x39db4b(0x275)][_0x4ad23d][_0x3180d2]=_0x18290b[_0x39db4b(0x6b5)][_0x3180d2]);if(this[_0x39db4b(0x2c2)][_0x39db4b(0x2fa)](this[_0x39db4b(0x6a3)]+'\x20('+this[_0x39db4b(0x2e2)][_0x39db4b(0x2b8)]+_0x39db4b(0x73c)+JSON[_0x39db4b(0x75b)](_0x70fb71['blocks'][_0x4ad23d])),_0x70fb71['blocks'][_0x4ad23d][_0x39db4b(0x4fa)]&&_0x39db4b(0x674)in _0x70fb71[_0x39db4b(0x275)][_0x4ad23d][_0x39db4b(0x4fa)]){this[_0x39db4b(0x2c2)][_0x39db4b(0x2fa)](this[_0x39db4b(0x6a3)]+'\x20('+this[_0x39db4b(0x2e2)][_0x39db4b(0x2b8)]+_0x39db4b(0x44e));let _0x187e60=JSON[_0x39db4b(0x75b)](_0x70fb71[_0x39db4b(0x275)][_0x4ad23d][_0x39db4b(0x4fa)][_0x39db4b(0x674)],null,0x1);_0x187e60['length']>0x2&&(_0x187e60=_0x187e60[_0x39db4b(0x22a)](0x1,_0x187e60['length']-0x1)[_0x39db4b(0x2fc)]()),_0x70fb71['blocks'][_0x4ad23d]['apirequest'][_0x39db4b(0x2ec)]=_0x187e60;}if(_0x70fb71[_0x39db4b(0x275)][_0x4ad23d][_0x39db4b(0x4fa)]&&_0x39db4b(0x40b)in _0x70fb71[_0x39db4b(0x275)][_0x4ad23d][_0x39db4b(0x4fa)]){this[_0x39db4b(0x2c2)][_0x39db4b(0x2fa)](this['instanceName']+'\x20('+this[_0x39db4b(0x2e2)][_0x39db4b(0x2b8)]+_0x39db4b(0x50c));let _0x15aa8a=JSON[_0x39db4b(0x75b)](_0x70fb71[_0x39db4b(0x275)][_0x4ad23d][_0x39db4b(0x4fa)][_0x39db4b(0x40b)],null,0x1);_0x15aa8a[_0x39db4b(0x24f)]>0x2&&(_0x15aa8a=_0x15aa8a[_0x39db4b(0x22a)](0x1,_0x15aa8a['length']-0x1)['trim']()),_0x70fb71['blocks'][_0x4ad23d][_0x39db4b(0x4fa)][_0x39db4b(0x6a1)]=_0x15aa8a;}let _0x18f107=_0x70fb71[_0x39db4b(0x275)][_0x4ad23d][_0x39db4b(0x5a1)];_0x1610be!==_0x18f107?(this[_0x39db4b(0x30b)](_0x70fb71[_0x39db4b(0x275)],_0x1610be),this['reorderBlocks'](_0x70fb71['blocks'],_0x18f107)):this[_0x39db4b(0x30b)](_0x70fb71['blocks'],_0x1610be);}[a0_0x401cf8(0x415)](_0x2d964c,_0x5f097b){const _0x1e3a9a=a0_0x401cf8;if(_0x5f097b['block'][_0x1e3a9a(0x6ef)]===_0x1e3a9a(0x503)){this[_0x1e3a9a(0x4fb)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x5f097b[_0x1e3a9a(0x6b5)][_0x1e3a9a(0x4fa)]&&_0x1e3a9a(0x674)in _0x5f097b[_0x1e3a9a(0x6b5)][_0x1e3a9a(0x4fa)]){this['logger'][_0x1e3a9a(0x2fa)](this['instanceName']+'\x20('+this['instance'][_0x1e3a9a(0x2b8)]+_0x1e3a9a(0x44e));let _0x2842ea=JSON[_0x1e3a9a(0x75b)](_0x5f097b[_0x1e3a9a(0x6b5)]['apirequest'][_0x1e3a9a(0x674)],null,0x1);_0x2842ea[_0x1e3a9a(0x24f)]>0x2&&(_0x2842ea=_0x2842ea[_0x1e3a9a(0x22a)](0x1,_0x2842ea[_0x1e3a9a(0x24f)]-0x1)[_0x1e3a9a(0x2fc)]()),_0x5f097b[_0x1e3a9a(0x6b5)]['apirequest'][_0x1e3a9a(0x2ec)]=_0x2842ea;}_0x5f097b[_0x1e3a9a(0x6b5)]['apirequest']&&'body'in _0x5f097b[_0x1e3a9a(0x6b5)][_0x1e3a9a(0x4fa)]&&(this[_0x1e3a9a(0x2c2)][_0x1e3a9a(0x2fa)](this['instanceName']+'\x20('+this[_0x1e3a9a(0x2e2)][_0x1e3a9a(0x2b8)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5f097b[_0x1e3a9a(0x6b5)][_0x1e3a9a(0x4fa)]['bodyString']=JSON['stringify'](_0x5f097b['block'][_0x1e3a9a(0x4fa)][_0x1e3a9a(0x40b)],null,0x1)[_0x1e3a9a(0x2fc)]()),_0x2d964c['blocks']['push'](_0x5f097b['block']),this[_0x1e3a9a(0x30b)](_0x2d964c[_0x1e3a9a(0x275)],_0x5f097b[_0x1e3a9a(0x6b5)][_0x1e3a9a(0x5a1)]);}[a0_0x401cf8(0x30b)](_0x2eefbc,_0x479051){const _0x27fed3=a0_0x401cf8;let _0x1de865=_0x2eefbc[_0x27fed3(0x56b)](_0x2ab995=>_0x2ab995[_0x27fed3(0x5a1)]===_0x479051);_0x1de865['sort']((_0xead596,_0x155f27)=>_0xead596[_0x27fed3(0x527)]-_0x155f27[_0x27fed3(0x527)]),_0x1de865[_0x27fed3(0x306)]((_0x35fc07,_0x4b9c6c)=>_0x35fc07[_0x27fed3(0x527)]=_0x4b9c6c+0x1);}async[a0_0x401cf8(0x426)](_0x316cf8){const _0x21b6e9=a0_0x401cf8;try{if(this[_0x21b6e9(0x2c2)][_0x21b6e9(0x2fa)](this[_0x21b6e9(0x6a3)]+'\x20('+this[_0x21b6e9(0x2e2)][_0x21b6e9(0x2b8)]+_0x21b6e9(0x37b)),!_0x316cf8||!_0x316cf8[_0x21b6e9(0x312)]){this[_0x21b6e9(0x4fb)](_0x21b6e9(0x5bc));return;}let _0x2d857d=await this['repository'][_0x21b6e9(0x2aa)][_0x21b6e9(0x4d8)]({'where':{'name':_0x316cf8['name']}},this[_0x21b6e9(0x2e2)][_0x21b6e9(0x2b8)]);_0x2d857d||this[_0x21b6e9(0x4fb)](_0x21b6e9(0x2a0));let {replyOption:_0x15767d}=_0x316cf8;_0x15767d?.['delete']?(this[_0x21b6e9(0x2cb)](_0x2d857d,_0x316cf8),this[_0x21b6e9(0x408)](_0x2d857d[_0x21b6e9(0x59f)],_0x316cf8[_0x21b6e9(0x312)][_0x21b6e9(0x269)])):_0x15767d[_0x21b6e9(0x1ce)]?(await this[_0x21b6e9(0x227)](_0x2d857d,_0x316cf8),this[_0x21b6e9(0x408)](_0x2d857d[_0x21b6e9(0x59f)],_0x316cf8['replyOption']['blockId'])):(this[_0x21b6e9(0x7c1)](_0x2d857d,_0x316cf8),this['reorderReplyOptions'](_0x2d857d['replyOptions'],_0x316cf8[_0x21b6e9(0x312)]['blockId']));let _0x32155c=await this['repository']['flow']['updateOne'](_0x2d857d[_0x21b6e9(0x1ce)],_0x2d857d,this['instance']['wuid']);if(!_0x32155c)throw new Error(_0x21b6e9(0x66a));return _0x32155c;}catch(_0x1e037a){this[_0x21b6e9(0x4fb)](_0x21b6e9(0x2ef)+_0x1e037a);}}[a0_0x401cf8(0x408)](_0x3d4a47,_0x449fa4){const _0x26eb91=a0_0x401cf8;console[_0x26eb91(0x743)](_0x26eb91(0x496),_0x449fa4),_0x3d4a47[_0x26eb91(0x306)](_0x3c2138=>{const _0x4fadf0=_0x26eb91;_0x3c2138[_0x4fadf0(0x269)]===_0x449fa4&&_0x3c2138['order']===void 0x0&&(_0x3c2138[_0x4fadf0(0x527)]=0x270f);});let _0x408ded=_0x3d4a47[_0x26eb91(0x56b)](_0xf181c7=>_0xf181c7['blockId']===_0x449fa4);_0x408ded[_0x26eb91(0x3cc)]((_0x2a3846,_0x5300bb)=>_0x2a3846[_0x26eb91(0x527)]-_0x5300bb['order']),_0x408ded[_0x26eb91(0x306)]((_0x8ef4c,_0x7676d7)=>{const _0x315f16=_0x26eb91;_0x8ef4c[_0x315f16(0x527)]=_0x7676d7+0x1;}),_0x3d4a47[_0x26eb91(0x306)](_0x18465c=>{const _0x6c8d46=_0x26eb91;if(_0x18465c[_0x6c8d46(0x269)]===_0x449fa4){let _0x41db17=_0x408ded[_0x6c8d46(0x7d2)](_0xd56fdb=>_0xd56fdb[_0x6c8d46(0x1ce)][_0x6c8d46(0x596)]()===_0x18465c[_0x6c8d46(0x1ce)][_0x6c8d46(0x596)]());_0x41db17&&(_0x18465c[_0x6c8d46(0x527)]=_0x41db17[_0x6c8d46(0x527)]);}}),console[_0x26eb91(0x743)](_0x26eb91(0x6dd),_0x3d4a47);}[a0_0x401cf8(0x2cb)](_0x4bdcd6,_0x177eb5){const _0x5556f4=a0_0x401cf8;let {replyOption:_0x5b7b6c}=_0x177eb5;if(!_0x5b7b6c['_id']){this[_0x5556f4(0x4fb)](_0x5556f4(0x4c7));return;}if(!_0x4bdcd6[_0x5556f4(0x59f)][_0x5556f4(0x7d2)](_0x15af4b=>_0x15af4b[_0x5556f4(0x1ce)][_0x5556f4(0x596)]()===_0x177eb5[_0x5556f4(0x312)]['_id']['toString']())){this[_0x5556f4(0x4fb)](_0x5556f4(0x29b)+_0x5b7b6c[_0x5556f4(0x1ce)]+_0x5556f4(0x22b));return;}_0x4bdcd6['replyOptions']=_0x4bdcd6['replyOptions'][_0x5556f4(0x56b)](_0x4c41b1=>_0x4c41b1[_0x5556f4(0x1ce)][_0x5556f4(0x596)]()!==_0x177eb5['replyOption'][_0x5556f4(0x1ce)][_0x5556f4(0x596)]());}async[a0_0x401cf8(0x227)](_0x33b2fc,_0x10f54f){const _0x4790d0=a0_0x401cf8;let _0x391eca=_0x33b2fc[_0x4790d0(0x59f)][_0x4790d0(0x353)](_0x42c9f0=>_0x42c9f0[_0x4790d0(0x1ce)]['toString']()===_0x10f54f[_0x4790d0(0x312)][_0x4790d0(0x1ce)]['toString']());if(_0x391eca===-0x1){this[_0x4790d0(0x4fb)](_0x4790d0(0x29b)+_0x10f54f[_0x4790d0(0x312)][_0x4790d0(0x1ce)]+_0x4790d0(0x435));return;}for(let _0x323fa1 in _0x10f54f[_0x4790d0(0x312)])_0x10f54f[_0x4790d0(0x312)][_0x4790d0(0x235)](_0x323fa1)&&(_0x33b2fc['replyOptions'][_0x391eca][_0x323fa1]=_0x10f54f[_0x4790d0(0x312)][_0x323fa1]);}[a0_0x401cf8(0x7c1)](_0x146111,_0x8b3dd3){const _0x5c3e28=a0_0x401cf8;_0x146111[_0x5c3e28(0x59f)][_0x5c3e28(0x5c5)](_0x8b3dd3[_0x5c3e28(0x312)]);}async[a0_0x401cf8(0x239)](_0x365244){const _0x51a96d=a0_0x401cf8;this[_0x51a96d(0x2c2)][_0x51a96d(0x2fa)](this[_0x51a96d(0x6a3)]+'\x20('+this['instance'][_0x51a96d(0x2b8)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x365244);try{this['logger'][_0x51a96d(0x2fa)](this[_0x51a96d(0x6a3)]+'\x20('+this['instance'][_0x51a96d(0x2b8)]+_0x51a96d(0x29f));let _0x1a22a0=await this[_0x51a96d(0x552)][_0x51a96d(0x2aa)][_0x51a96d(0x4d8)]({'where':{'name':_0x365244['name']}},this[_0x51a96d(0x2e2)][_0x51a96d(0x2b8)]);if(!_0x1a22a0)throw new Error('Flow\x20não\x20encontrado');if(_0x365244[_0x51a96d(0x6f3)]&&_0x365244[_0x51a96d(0x6f3)]?.[_0x51a96d(0x46c)]===!0x0){if(this[_0x51a96d(0x2c2)][_0x51a96d(0x2fa)](this[_0x51a96d(0x6a3)]+'\x20('+this['instance'][_0x51a96d(0x2b8)]+_0x51a96d(0x34e)),_0x365244['group']['default']===!0x0)return{'message':_0x51a96d(0x577)};if(_0x1a22a0[_0x51a96d(0x275)][_0x51a96d(0x4e5)](_0xbce589=>_0xbce589[_0x51a96d(0x5a1)][_0x51a96d(0x596)]()===_0x365244['group'][_0x51a96d(0x1ce)]))return this[_0x51a96d(0x2c2)][_0x51a96d(0x2fa)](this[_0x51a96d(0x6a3)]+'\x20('+this[_0x51a96d(0x2e2)][_0x51a96d(0x2b8)]+_0x51a96d(0x77c)),{'message':_0x51a96d(0x4dc)};_0x1a22a0[_0x51a96d(0x7a0)]=_0x1a22a0[_0x51a96d(0x7a0)][_0x51a96d(0x56b)](_0x2c18dc=>_0x2c18dc[_0x51a96d(0x1ce)][_0x51a96d(0x596)]()!==_0x365244[_0x51a96d(0x6f3)]['_id']);}else{if(_0x365244[_0x51a96d(0x6f3)]){if(_0x365244['group'][_0x51a96d(0x787)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x365244[_0x51a96d(0x6f3)][_0x51a96d(0x1ce)]){let _0x4ebaad=_0x1a22a0[_0x51a96d(0x7a0)][_0x51a96d(0x7d2)](_0x544a0c=>_0x544a0c[_0x51a96d(0x1ce)][_0x51a96d(0x596)]()===_0x365244[_0x51a96d(0x6f3)][_0x51a96d(0x1ce)]);_0x4ebaad&&(_0x365244[_0x51a96d(0x6f3)]['x']<0x0&&(_0x365244[_0x51a96d(0x6f3)]['x']=0x0),_0x365244[_0x51a96d(0x6f3)]['y']<0x0&&(_0x365244[_0x51a96d(0x6f3)]['y']=0x0),Object['assign'](_0x4ebaad,_0x365244[_0x51a96d(0x6f3)]));}else _0x1a22a0['groups']['push'](_0x365244[_0x51a96d(0x6f3)]);}}let _0x3dcd92=await this['repository'][_0x51a96d(0x2aa)][_0x51a96d(0x6c6)](_0x1a22a0['_id'],_0x1a22a0,this['instance'][_0x51a96d(0x2b8)]);if(!_0x3dcd92)throw new Error(_0x51a96d(0x66a));return _0x3dcd92;}catch(_0x302695){throw this[_0x51a96d(0x2c2)][_0x51a96d(0x654)](this['instanceName']+'\x20('+this[_0x51a96d(0x2e2)][_0x51a96d(0x2b8)]+_0x51a96d(0x551)+(_0x302695 instanceof Error?_0x302695[_0x51a96d(0x295)]:JSON[_0x51a96d(0x75b)](_0x302695,null,0x2))),new h(_0x51a96d(0x7a8)+(_0x302695 instanceof Error?_0x302695[_0x51a96d(0x295)]:JSON[_0x51a96d(0x75b)](_0x302695,null,0x2)));}}async['editFlowCondition'](_0x338f36){const _0x320f95=a0_0x401cf8;try{this[_0x320f95(0x2c2)][_0x320f95(0x2fa)](this[_0x320f95(0x6a3)]+'\x20('+this['instance']['wuid']+_0x320f95(0x66c));let _0x41f010=await this[_0x320f95(0x552)][_0x320f95(0x2aa)]['findOne']({'where':{'name':_0x338f36[_0x320f95(0x5f2)]}},this[_0x320f95(0x2e2)][_0x320f95(0x2b8)]);if(!_0x41f010)throw new Error('Flow\x20não\x20encontrado');let _0x2c596f=!0x1;if(_0x338f36[_0x320f95(0x2f7)]?.[_0x320f95(0x46c)]===!0x0)_0x41f010[_0x320f95(0x73b)]=_0x41f010['conditions'][_0x320f95(0x56b)](_0x51237d=>_0x51237d&&_0x338f36[_0x320f95(0x2f7)]&&_0x51237d[_0x320f95(0x1ce)]&&_0x338f36[_0x320f95(0x2f7)][_0x320f95(0x1ce)]&&_0x51237d['_id']['toString']()!==_0x338f36[_0x320f95(0x2f7)][_0x320f95(0x1ce)][_0x320f95(0x596)]()),_0x2c596f=!0x0;else{let _0x5969d6=_0x41f010[_0x320f95(0x73b)]['find'](_0x19b5c2=>_0x19b5c2&&_0x338f36[_0x320f95(0x2f7)]&&_0x19b5c2['_id']&&_0x338f36[_0x320f95(0x2f7)][_0x320f95(0x1ce)]&&_0x19b5c2[_0x320f95(0x1ce)][_0x320f95(0x596)]()===_0x338f36[_0x320f95(0x2f7)][_0x320f95(0x1ce)][_0x320f95(0x596)]());_0x5969d6?(_0x2c596f=_0x5969d6[_0x320f95(0x527)]!==_0x338f36['condition'][_0x320f95(0x527)],Object[_0x320f95(0x540)](_0x5969d6,_0x338f36[_0x320f95(0x2f7)])):(_0x41f010[_0x320f95(0x73b)][_0x320f95(0x5c5)](_0x338f36[_0x320f95(0x2f7)]),_0x2c596f=!0x0);}if(_0x2c596f){_0x41f010['conditions'][_0x320f95(0x3cc)]((_0x42fc69,_0x4fe609)=>_0x42fc69['order']>_0x4fe609[_0x320f95(0x527)]?0x1:_0x4fe609[_0x320f95(0x527)]>_0x42fc69[_0x320f95(0x527)]?-0x1:0x0);for(let _0x85bd9b=0x0;_0x85bd9b<_0x41f010['conditions'][_0x320f95(0x24f)];_0x85bd9b++)_0x41f010[_0x320f95(0x73b)][_0x85bd9b][_0x320f95(0x527)]=_0x85bd9b+0x1;_0x41f010[_0x320f95(0x73b)][_0x320f95(0x24f)]>0x0&&(_0x41f010[_0x320f95(0x73b)][0x0][_0x320f95(0x2cf)]='and');}let _0x376809=await this[_0x320f95(0x552)][_0x320f95(0x2aa)][_0x320f95(0x6c6)](_0x41f010[_0x320f95(0x1ce)],_0x41f010,this[_0x320f95(0x2e2)]['wuid']);if(!_0x376809)throw new Error(_0x320f95(0x66a));return _0x376809;}catch(_0x100867){throw this[_0x320f95(0x2c2)][_0x320f95(0x654)](this[_0x320f95(0x6a3)]+'\x20('+this[_0x320f95(0x2e2)][_0x320f95(0x2b8)]+_0x320f95(0x271)+(_0x100867 instanceof Error?_0x100867['message']:JSON[_0x320f95(0x75b)](_0x100867,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x100867 instanceof Error?_0x100867[_0x320f95(0x295)]:JSON[_0x320f95(0x75b)](_0x100867,null,0x2)));}}async[a0_0x401cf8(0x6d3)](_0x4a9301){const _0x1a97e9=a0_0x401cf8;try{this['logger'][_0x1a97e9(0x2fa)](this[_0x1a97e9(0x6a3)]+'\x20('+this[_0x1a97e9(0x2e2)]['wuid']+_0x1a97e9(0x26b));let _0x2f86f6=await this[_0x1a97e9(0x552)][_0x1a97e9(0x2aa)][_0x1a97e9(0x4d8)]({'where':{'name':_0x4a9301[_0x1a97e9(0x5f2)]}},this[_0x1a97e9(0x2e2)][_0x1a97e9(0x2b8)]);if(!_0x2f86f6)throw new Error(_0x1a97e9(0x2a0));let _0x1d37df=!0x1;if(_0x4a9301[_0x1a97e9(0x3ca)]?.['delete']===!0x0)_0x2f86f6[_0x1a97e9(0x360)]=_0x2f86f6['varedits'][_0x1a97e9(0x56b)](_0x392282=>_0x392282&&_0x4a9301['varedit']&&_0x392282['_id']&&_0x4a9301[_0x1a97e9(0x3ca)]['_id']&&_0x392282[_0x1a97e9(0x1ce)][_0x1a97e9(0x596)]()!==_0x4a9301['varedit'][_0x1a97e9(0x1ce)][_0x1a97e9(0x596)]()),_0x1d37df=!0x0;else{let _0xc7322d=_0x2f86f6['varedits'][_0x1a97e9(0x7d2)](_0x1de46a=>_0x1de46a&&_0x4a9301['varedit']&&_0x1de46a['_id']&&_0x4a9301[_0x1a97e9(0x3ca)][_0x1a97e9(0x1ce)]&&_0x1de46a[_0x1a97e9(0x1ce)]['toString']()===_0x4a9301['varedit'][_0x1a97e9(0x1ce)]['toString']());_0xc7322d?(_0x1d37df=_0xc7322d[_0x1a97e9(0x527)]!==_0x4a9301['varedit'][_0x1a97e9(0x527)],Object[_0x1a97e9(0x540)](_0xc7322d,_0x4a9301[_0x1a97e9(0x3ca)])):(_0x2f86f6['varedits'][_0x1a97e9(0x5c5)](_0x4a9301[_0x1a97e9(0x3ca)]),_0x1d37df=!0x0);}if(_0x1d37df){_0x2f86f6['varedits'][_0x1a97e9(0x3cc)]((_0x7735cb,_0x5b83c5)=>_0x7735cb[_0x1a97e9(0x527)]>_0x5b83c5[_0x1a97e9(0x527)]?0x1:_0x5b83c5[_0x1a97e9(0x527)]>_0x7735cb[_0x1a97e9(0x527)]?-0x1:0x0);for(let _0x455680=0x0;_0x455680<_0x2f86f6[_0x1a97e9(0x360)][_0x1a97e9(0x24f)];_0x455680++)_0x2f86f6[_0x1a97e9(0x360)][_0x455680][_0x1a97e9(0x527)]=_0x455680+0x1;}let _0x599121=await this[_0x1a97e9(0x552)][_0x1a97e9(0x2aa)][_0x1a97e9(0x6c6)](_0x2f86f6[_0x1a97e9(0x1ce)],_0x2f86f6,this['instance'][_0x1a97e9(0x2b8)]);if(!_0x599121)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x599121;}catch(_0x47e3ab){throw this[_0x1a97e9(0x2c2)][_0x1a97e9(0x654)](this[_0x1a97e9(0x6a3)]+'\x20('+this['instance'][_0x1a97e9(0x2b8)]+_0x1a97e9(0x271)+(_0x47e3ab instanceof Error?_0x47e3ab[_0x1a97e9(0x295)]:JSON[_0x1a97e9(0x75b)](_0x47e3ab,null,0x2))),new h(_0x1a97e9(0x74d)+(_0x47e3ab instanceof Error?_0x47e3ab[_0x1a97e9(0x295)]:JSON[_0x1a97e9(0x75b)](_0x47e3ab,null,0x2)));}}async['editFlowVariable'](_0x10d7e3){const _0x2b5384=a0_0x401cf8;try{this[_0x2b5384(0x2c2)][_0x2b5384(0x2fa)](this[_0x2b5384(0x6a3)]+'\x20('+this[_0x2b5384(0x2e2)]['wuid']+_0x2b5384(0x729));let _0xa56c57=await this[_0x2b5384(0x552)][_0x2b5384(0x2aa)][_0x2b5384(0x4d8)]({'where':{'name':_0x10d7e3[_0x2b5384(0x5f2)]}},this[_0x2b5384(0x2e2)][_0x2b5384(0x2b8)]);if(!_0xa56c57)throw new Error(_0x2b5384(0x2a0));_0x10d7e3[_0x2b5384(0x511)][_0x2b5384(0x5f2)]=_0x10d7e3[_0x2b5384(0x511)][_0x2b5384(0x5f2)][_0x2b5384(0x2fc)](),_0x10d7e3[_0x2b5384(0x511)]['name'][_0x2b5384(0x595)]('_')&&(_0x10d7e3[_0x2b5384(0x511)]['name']=_0x10d7e3[_0x2b5384(0x511)][_0x2b5384(0x5f2)][_0x2b5384(0x22a)](0x1)),_0x10d7e3[_0x2b5384(0x511)]['name']=_0x10d7e3['variable'][_0x2b5384(0x5f2)]['trim']();let _0x4841e7=_0xa56c57['variables'][_0x2b5384(0x7d2)](_0xb74c56=>_0xb74c56['name']===_0x10d7e3[_0x2b5384(0x511)]['name']);if(_0x4841e7?.[_0x2b5384(0x450)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x10d7e3[_0x2b5384(0x511)]?.[_0x2b5384(0x46c)]===!0x0){if(!_0x4841e7)return{'message':_0x2b5384(0x693)};_0xa56c57[_0x2b5384(0x2c8)]=_0xa56c57[_0x2b5384(0x2c8)][_0x2b5384(0x56b)](_0x4a97b6=>_0x4a97b6[_0x2b5384(0x5f2)]!==_0x10d7e3[_0x2b5384(0x511)][_0x2b5384(0x5f2)]);}else _0x4841e7?Object[_0x2b5384(0x540)](_0x4841e7,_0x10d7e3[_0x2b5384(0x511)]):_0xa56c57[_0x2b5384(0x2c8)][_0x2b5384(0x5c5)](_0x10d7e3['variable']);let _0x297a07=await this['repository'][_0x2b5384(0x2aa)][_0x2b5384(0x6c6)](_0xa56c57[_0x2b5384(0x1ce)],_0xa56c57,this['instance'][_0x2b5384(0x2b8)]);if(!_0x297a07)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x297a07;}catch(_0x3dc750){throw this[_0x2b5384(0x2c2)]['error'](this[_0x2b5384(0x6a3)]+'\x20('+this[_0x2b5384(0x2e2)][_0x2b5384(0x2b8)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x3dc750 instanceof Error?_0x3dc750[_0x2b5384(0x295)]:JSON[_0x2b5384(0x75b)](_0x3dc750,null,0x2))),new h('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x3dc750 instanceof Error?_0x3dc750[_0x2b5384(0x295)]:JSON[_0x2b5384(0x75b)](_0x3dc750,null,0x2)));}}async['startFlow'](_0x11b47f){const _0x24b746=a0_0x401cf8;let _0x1e1ef9=null;try{if(!this[_0x24b746(0x78c)]?.['flowConfig'][_0x24b746(0x6e3)])throw new h(_0x24b746(0x558));this[_0x24b746(0x2c2)][_0x24b746(0x2fa)](this[_0x24b746(0x6a3)]+'\x20('+this[_0x24b746(0x2e2)]['wuid']+_0x24b746(0x4c2));let _0x2480de=(await this['whatsappNumber']({'numbers':[_0x11b47f['remoteJid']]}))[0x0];if(!_0x2480de['exists']&&!(0x0,w[_0x24b746(0x2d4)])(_0x2480de[_0x24b746(0x700)])&&!_0x2480de[_0x24b746(0x700)]['includes'](_0x24b746(0x70a)))throw _0x1e1ef9=JSON['stringify'](_0x2480de,null,0x2),new h(_0x2480de);let _0x388d0c=await this[_0x24b746(0x552)][_0x24b746(0x2aa)][_0x24b746(0x4d8)]({'where':{'name':_0x11b47f[_0x24b746(0x5f2)]}},this[_0x24b746(0x2e2)][_0x24b746(0x2b8)]);if(!_0x388d0c)return this[_0x24b746(0x2c2)][_0x24b746(0x654)](this['instanceName']+'\x20('+this['instance'][_0x24b746(0x2b8)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x24b746(0x2a0)};let _0x358853=await this[_0x24b746(0x703)](_0x388d0c,_0x2480de[_0x24b746(0x700)],_0x11b47f[_0x24b746(0x319)]);if(_0x358853){this[_0x24b746(0x2c2)][_0x24b746(0x2fa)](this[_0x24b746(0x6a3)]+'\x20('+this[_0x24b746(0x2e2)][_0x24b746(0x2b8)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x532cfa=await this[_0x24b746(0x7c8)](_0x358853);return _0x532cfa&&await this[_0x24b746(0x3d0)](_0x358853,_0x532cfa),{'message':_0x24b746(0x5a9)+_0x11b47f[_0x24b746(0x6e5)]};}}catch(_0xbcdebb){if(this[_0x24b746(0x2c2)][_0x24b746(0x654)](this[_0x24b746(0x6a3)]+'\x20('+this[_0x24b746(0x2e2)]['wuid']+_0x24b746(0x6bd)+(_0xbcdebb instanceof Error?_0xbcdebb[_0x24b746(0x295)]:JSON[_0x24b746(0x75b)](_0xbcdebb,null,0x2))),_0x1e1ef9=_0xbcdebb instanceof Error?_0xbcdebb['message']:JSON[_0x24b746(0x75b)](_0xbcdebb,null,0x2),_0x1e1ef9)throw new h(_0x24b746(0x5b5)+_0x1e1ef9);}}async['closeExistingConversations'](_0x491790){const _0x311734=a0_0x401cf8;try{let _0x428cd7={'remoteJid':_0x491790,'status':_0x311734(0x5a0)},_0x199dac={'status':_0x311734(0x4c4)},_0x2a8d1d=await this[_0x311734(0x552)][_0x311734(0x242)][_0x311734(0x243)](_0x428cd7,_0x199dac,this['instance']['wuid']);return this[_0x311734(0x2c2)]['verbose'](this[_0x311734(0x6a3)]+'\x20('+this[_0x311734(0x2e2)][_0x311734(0x2b8)]+_0x311734(0x572)),_0x2a8d1d;}catch(_0x2e7f97){throw this[_0x311734(0x2c2)][_0x311734(0x654)](this['instanceName']+'\x20('+this['instance'][_0x311734(0x2b8)]+_0x311734(0x57d)+_0x2e7f97[_0x311734(0x295)]),_0x2e7f97;}}async[a0_0x401cf8(0x703)](_0x50d9b7,_0x4d6970,_0x4033d6){const _0x204ed4=a0_0x401cf8;this[_0x204ed4(0x2c2)][_0x204ed4(0x2fa)](this['instanceName']+'\x20('+this['instance'][_0x204ed4(0x2b8)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x204ed4(0x59a)](_0x4d6970);try{let _0x5ee77d=require('mongodb')[_0x204ed4(0x3a6)],_0x25fcad=Date['now'](),_0x5624d7=_0x204ed4(0x503),_0x3ac828={},_0xa45d79={},_0x1f990f={..._0x50d9b7,'chatLog':null},_0xf659a4=await this['variablesToObject'](_0x1f990f[_0x204ed4(0x2c8)]),_0x39c402=await this[_0x204ed4(0x1ea)](_0x4d6970),_0x28e55e={..._0xf659a4,..._0x39c402,'_remoteJid':_0x4d6970},_0x148534={'lastReceivedMessage':_0x3ac828,'lastSendMessage':_0xa45d79,'lastBlockId':_0x5624d7,'lastCondition':!0x0,'realVariables':_0x28e55e};_0x1f990f[_0x204ed4(0x630)]=_0x148534,_0x1f990f[_0x204ed4(0x630)]['realVariables']={..._0x28e55e,..._0x4033d6},delete _0x1f990f[_0x204ed4(0x1ce)],_0x1f990f[_0x204ed4(0x1ce)]=new _0x5ee77d(),_0x1f990f[_0x204ed4(0x1fb)]=_0x25fcad,_0x1f990f[_0x204ed4(0x776)]=_0x204ed4(0x5a0),_0x1f990f[_0x204ed4(0x6e5)]=_0x4d6970;let _0x313c96=await this[_0x204ed4(0x552)][_0x204ed4(0x242)]['updateOne'](_0x1f990f[_0x204ed4(0x1ce)],_0x1f990f,this['instance'][_0x204ed4(0x2b8)]);return this[_0x204ed4(0x2c2)]['verbose'](this['instanceName']+'\x20('+this[_0x204ed4(0x2e2)]['wuid']+_0x204ed4(0x5ba)),_0x313c96?_0x1f990f:null;}catch(_0x1306b5){throw this[_0x204ed4(0x2c2)]['error'](this[_0x204ed4(0x6a3)]+'\x20('+this[_0x204ed4(0x2e2)]['wuid']+_0x204ed4(0x7f3)+(_0x1306b5 instanceof Error?_0x1306b5[_0x204ed4(0x295)]:JSON[_0x204ed4(0x75b)](_0x1306b5,null,0x2))),new h(_0x1306b5[_0x204ed4(0x295)]);}}async[a0_0x401cf8(0x52d)](_0x39fed7){const _0x2da0be=a0_0x401cf8;try{this[_0x2da0be(0x2c2)]['verbose'](this[_0x2da0be(0x6a3)]+'\x20('+this[_0x2da0be(0x2e2)][_0x2da0be(0x2b8)]+_0x2da0be(0x78d)),this[_0x2da0be(0x2c2)]['verbose'](this[_0x2da0be(0x6a3)]+'\x20('+this[_0x2da0be(0x2e2)]['wuid']+_0x2da0be(0x3b9)+_0x39fed7);let _0x2fd70b={'where':{'_id':_0x39fed7}};return await this[_0x2da0be(0x552)][_0x2da0be(0x242)][_0x2da0be(0x4d8)](_0x2fd70b,this[_0x2da0be(0x2e2)][_0x2da0be(0x2b8)]);}catch(_0xecf07b){throw this[_0x2da0be(0x2c2)][_0x2da0be(0x654)](this['instanceName']+'\x20('+this[_0x2da0be(0x2e2)][_0x2da0be(0x2b8)]+_0x2da0be(0x4f2)+(_0xecf07b instanceof Error?_0xecf07b[_0x2da0be(0x295)]:JSON[_0x2da0be(0x75b)](_0xecf07b,null,0x2))),new h(_0x2da0be(0x229)+_0xecf07b[_0x2da0be(0x295)]);}}async[a0_0x401cf8(0x6b6)](_0x5e672c,_0x4778d1=0x64){const _0x1925f9=a0_0x401cf8;try{return this['logger'][_0x1925f9(0x2fa)](this[_0x1925f9(0x6a3)]+'\x20('+this[_0x1925f9(0x2e2)][_0x1925f9(0x2b8)]+_0x1925f9(0x538)),await this[_0x1925f9(0x552)][_0x1925f9(0x242)]['find'](_0x5e672c,this[_0x1925f9(0x2e2)][_0x1925f9(0x2b8)]);}catch(_0x3dda07){throw this['logger'][_0x1925f9(0x654)](this[_0x1925f9(0x6a3)]+'\x20('+this['instance'][_0x1925f9(0x2b8)]+_0x1925f9(0x51a)+(_0x3dda07 instanceof Error?_0x3dda07[_0x1925f9(0x295)]:JSON[_0x1925f9(0x75b)](_0x3dda07,null,0x2))),new h(_0x1925f9(0x3ab)+_0x3dda07[_0x1925f9(0x295)]);}}async[a0_0x401cf8(0x3fd)](_0x2c00d8){const _0x420443=a0_0x401cf8;try{return this[_0x420443(0x2c2)][_0x420443(0x2fa)](this[_0x420443(0x6a3)]+'\x20('+this[_0x420443(0x2e2)][_0x420443(0x2b8)]+_0x420443(0x5cd)),this[_0x420443(0x2c2)][_0x420443(0x2fa)](this[_0x420443(0x6a3)]+'\x20('+this[_0x420443(0x2e2)][_0x420443(0x2b8)]+_0x420443(0x2eb)+_0x2c00d8),(await this[_0x420443(0x552)][_0x420443(0x242)]['deleteOne']({'where':{'_id':_0x2c00d8}},this[_0x420443(0x2e2)][_0x420443(0x2b8)]))['deletedCount']===0x0?{'message':_0x420443(0x5b6)}:{'message':_0x420443(0x763)};}catch(_0x18c23e){throw this[_0x420443(0x2c2)][_0x420443(0x654)](this[_0x420443(0x6a3)]+'\x20('+this[_0x420443(0x2e2)][_0x420443(0x2b8)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x18c23e instanceof Error?_0x18c23e[_0x420443(0x295)]:JSON['stringify'](_0x18c23e,null,0x2))),new h(_0x420443(0x1e2)+_0x18c23e['message']);}}async[a0_0x401cf8(0x397)](_0x9c8944){const _0xf4e997=a0_0x401cf8;try{let {_id:_0x1ebe52,chatLog:_0x57841c,status:_0x42cd00}=_0x9c8944;if(!_0x1ebe52)return{'message':_0xf4e997(0x68a)};let _0x31d069={};if(_0x42cd00!==void 0x0&&(_0x31d069[_0xf4e997(0x776)]=_0x42cd00),Object['keys'](_0x31d069)[_0xf4e997(0x24f)]===0x0)return{'message':_0xf4e997(0x7ab)};let _0x2b3f35=await this[_0xf4e997(0x552)]['flowConversation'][_0xf4e997(0x6c6)](_0x1ebe52,_0x31d069,this[_0xf4e997(0x2e2)][_0xf4e997(0x2b8)]);return _0x2b3f35||{'message':_0xf4e997(0x564)};}catch(_0x3b120f){throw this[_0xf4e997(0x2c2)][_0xf4e997(0x654)](this[_0xf4e997(0x6a3)]+'\x20('+this[_0xf4e997(0x2e2)][_0xf4e997(0x2b8)]+_0xf4e997(0x333)+(_0x3b120f instanceof Error?_0x3b120f[_0xf4e997(0x295)]:JSON[_0xf4e997(0x75b)](_0x3b120f,null,0x2))),new h('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x3b120f[_0xf4e997(0x295)]);}}async[a0_0x401cf8(0x445)](_0x1e20b4){const _0x1be1b8=a0_0x401cf8;try{_0x1e20b4[_0x1be1b8(0x1ce)]=this[_0x1be1b8(0x519)](_0x1e20b4[_0x1be1b8(0x1ce)]);let {_id:_0x72fa90,leadInfo:_0x51760d}=_0x1e20b4;if(!_0x72fa90)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x35a43c=(_0x542c12,_0x410160,_0x2303ba)=>{_0x2303ba['forEach'](_0x5df873=>{const _0x2c95e7=a0_0x1c0b;_0x542c12[_0x5df873]!==void 0x0&&(_0x410160[_0x2c95e7(0x369)+_0x5df873]=_0x542c12[_0x5df873]);});},_0x1b4e74={};if(_0x35a43c(_0x51760d,_0x1b4e74,['nome','nomecompleto',_0x1be1b8(0x706),'cpf',_0x1be1b8(0x776),_0x1be1b8(0x6a6),_0x1be1b8(0x4cf),_0x1be1b8(0x7c6),_0x1be1b8(0x69a)]),Array[_0x1be1b8(0x2f0)](_0x51760d['customFields'])&&(_0x1b4e74[_0x1be1b8(0x5b8)]=_0x51760d[_0x1be1b8(0x6da)]['map'](_0x12135c=>({'_id':_0x12135c[_0x1be1b8(0x1ce)],'value':_0x12135c[_0x1be1b8(0x2a1)]}))),_0x1e20b4['leadInfo'][_0x1be1b8(0x724)]!==void 0x0&&(_0x1b4e74[_0x1be1b8(0x1d5)]=Number(_0x1e20b4['leadInfo'][_0x1be1b8(0x724)])),_0x1e20b4[_0x1be1b8(0x5ed)]!==void 0x0&&(_0x1b4e74[_0x1be1b8(0x5ed)]=Number(_0x1e20b4[_0x1be1b8(0x5ed)])),Object['keys'](_0x1b4e74)[_0x1be1b8(0x24f)]===0x0)throw new Error(_0x1be1b8(0x7ab));let _0x5c88be=await this[_0x1be1b8(0x552)][_0x1be1b8(0x5e1)][_0x1be1b8(0x4d8)]({'where':{'_id':_0x1e20b4[_0x1be1b8(0x1ce)]}},this['instance'][_0x1be1b8(0x2b8)]);if(!_0x5c88be){let _0x2c4dd1=(await this[_0x1be1b8(0x2e5)]({'numbers':[_0x1e20b4[_0x1be1b8(0x1ce)]]}))[0x0];if(!_0x2c4dd1[_0x1be1b8(0x633)]&&!(0x0,w['isJidGroup'])(_0x2c4dd1[_0x1be1b8(0x700)])&&!_0x2c4dd1[_0x1be1b8(0x700)]['includes'](_0x1be1b8(0x70a)))throw new h(_0x2c4dd1);_0x1e20b4[_0x1be1b8(0x1ce)]=_0x2c4dd1['jid'];}if(_0x1e20b4[_0x1be1b8(0x813)]!==void 0x0){let _0x3e8bb0=await this['repository'][_0x1be1b8(0x456)][_0x1be1b8(0x7d2)]({'where':{}},this['instance'][_0x1be1b8(0x2b8)]),_0x6d792=new Set(_0x5c88be['labels']||[]),_0x3b41ca=new Set(_0x1e20b4[_0x1be1b8(0x813)]),_0x3edf73=new Set(_0x3e8bb0[_0x1be1b8(0x515)](_0x5c3091=>_0x5c3091[_0x1be1b8(0x1ce)])),_0x49535e=[..._0x3b41ca]['filter'](_0x287db6=>!_0x6d792[_0x1be1b8(0x1d4)](_0x287db6)&&_0x3edf73[_0x1be1b8(0x1d4)](_0x287db6)),_0x337cc4=[..._0x6d792][_0x1be1b8(0x56b)](_0x2713de=>!_0x3b41ca[_0x1be1b8(0x1d4)](_0x2713de));for(let _0x3723ff of _0x49535e)await this[_0x1be1b8(0x80e)](_0x3723ff,_0x1e20b4[_0x1be1b8(0x1ce)]),_0x6d792['add'](_0x3723ff);for(let _0x458be0 of _0x337cc4)await this[_0x1be1b8(0x7eb)](_0x458be0,_0x1e20b4[_0x1be1b8(0x1ce)]),_0x6d792[_0x1be1b8(0x46c)](_0x458be0);_0x1b4e74['labels']=[..._0x6d792];}let _0x5eb682=await this['repository'][_0x1be1b8(0x5e1)][_0x1be1b8(0x6c6)]({'where':{'_id':_0x1e20b4[_0x1be1b8(0x1ce)]}},_0x1b4e74,this['instance'][_0x1be1b8(0x2b8)]);return _0x5eb682&&j(this['instanceName'],_0x1be1b8(0x47f),{'chat':_0x5eb682}),_0x5eb682?(this[_0x1be1b8(0x2c2)]['verbose'](this[_0x1be1b8(0x6a3)]+'\x20('+this['instance'][_0x1be1b8(0x2b8)]+'):\x20'+JSON['stringify'](_0x5eb682,null,0x2)),_0x5eb682):{'message':_0x1be1b8(0x3a7)};}catch(_0x27e9f3){throw this[_0x1be1b8(0x2c2)][_0x1be1b8(0x654)](this[_0x1be1b8(0x6a3)]+'\x20('+this[_0x1be1b8(0x2e2)][_0x1be1b8(0x2b8)]+_0x1be1b8(0x691)+(_0x27e9f3 instanceof Error?_0x27e9f3[_0x1be1b8(0x295)]:JSON['stringify'](_0x27e9f3,null,0x2))),new h(_0x1be1b8(0x262)+_0x27e9f3[_0x1be1b8(0x295)]);}}async[a0_0x401cf8(0x80e)](_0x5b64ba,_0x201da0){const _0x521e1e=a0_0x401cf8;try{await this[_0x521e1e(0x45f)][_0x521e1e(0x246)](_0x201da0,_0x5b64ba),console[_0x521e1e(0x743)](_0x521e1e(0x68b)+_0x5b64ba+'\x20adicionado\x20ao\x20chat\x20'+_0x201da0+'\x20com\x20sucesso.');}catch(_0x29158d){console[_0x521e1e(0x654)](_0x521e1e(0x6d1)+_0x5b64ba+_0x521e1e(0x1ec)+_0x201da0+':',_0x29158d);}}async[a0_0x401cf8(0x7eb)](_0x524b85,_0x403a90){const _0x13d4c7=a0_0x401cf8;try{await this[_0x13d4c7(0x45f)][_0x13d4c7(0x56f)](_0x403a90,_0x524b85),console['log'](_0x13d4c7(0x68b)+_0x524b85+_0x13d4c7(0x80f)+_0x403a90+'\x20com\x20sucesso.');}catch(_0x46ec53){console['error']('Erro\x20ao\x20remover\x20label\x20'+_0x524b85+_0x13d4c7(0x327)+_0x403a90+':',_0x46ec53);}}async[a0_0x401cf8(0x345)](_0x4f0d0d){const _0x482a2a=a0_0x401cf8;try{let _0x3cac40=await this[_0x482a2a(0x552)]['automateSystem'][_0x482a2a(0x566)](this[_0x482a2a(0x2e2)][_0x482a2a(0x2b8)]),_0x36e4ec=_0x4f0d0d[_0x482a2a(0x1ce)]?_0x3cac40['agents'][_0x482a2a(0x353)](_0x1fc614=>_0x1fc614['_id']===_0x4f0d0d[_0x482a2a(0x1ce)]):-0x1;if(_0x4f0d0d['delete']&&_0x36e4ec>-0x1)_0x3cac40[_0x482a2a(0x697)][_0x482a2a(0x7cd)](_0x36e4ec,0x1);else{if(_0x36e4ec>-0x1){let _0x71d624=_0x3cac40['agents'][_0x36e4ec];_0x4f0d0d['fone']&&(_0x71d624['fone']=_0x4f0d0d[_0x482a2a(0x1f8)]),_0x4f0d0d[_0x482a2a(0x5f2)]&&(_0x71d624[_0x482a2a(0x5f2)]=_0x4f0d0d['name']),_0x4f0d0d['email']&&(_0x71d624['email']=_0x4f0d0d[_0x482a2a(0x706)]),_0x4f0d0d[_0x482a2a(0x623)]&&(_0x71d624['role']=_0x4f0d0d[_0x482a2a(0x623)]);}else _0x3cac40[_0x482a2a(0x697)][_0x482a2a(0x5c5)]({'_id':_0x4f0d0d[_0x482a2a(0x1ce)]||new ie[(_0x482a2a(0x787))][(_0x482a2a(0x3c3))][(_0x482a2a(0x3a6))]()[_0x482a2a(0x596)](),'fone':_0x4f0d0d[_0x482a2a(0x1f8)],'name':_0x4f0d0d[_0x482a2a(0x5f2)],'email':_0x4f0d0d[_0x482a2a(0x706)],'role':_0x4f0d0d['role']});}let _0x90aacd={'agents':_0x3cac40[_0x482a2a(0x697)]},_0x75ce75=await this[_0x482a2a(0x552)]['automateSystem'][_0x482a2a(0x4b1)](_0x90aacd,this[_0x482a2a(0x2e2)][_0x482a2a(0x2b8)]);return this[_0x482a2a(0x78c)]=_0x75ce75,this['logger'][_0x482a2a(0x2fa)](this[_0x482a2a(0x6a3)]+'\x20('+this[_0x482a2a(0x2e2)][_0x482a2a(0x2b8)]+_0x482a2a(0x301)),this[_0x482a2a(0x2c2)]['verbose'](this[_0x482a2a(0x6a3)]+'\x20('+this[_0x482a2a(0x2e2)][_0x482a2a(0x2b8)]+_0x482a2a(0x73f)+this['AutomateSystem']),_0x75ce75;}catch(_0x2e27de){throw this[_0x482a2a(0x2c2)]['error'](this[_0x482a2a(0x6a3)]+'\x20('+this['instance'][_0x482a2a(0x2b8)]+_0x482a2a(0x6b9)+(_0x2e27de instanceof Error?_0x2e27de[_0x482a2a(0x295)]:JSON[_0x482a2a(0x75b)](_0x2e27de,null,0x2))),new h(_0x482a2a(0x6cc)+_0x2e27de[_0x482a2a(0x295)]);}}async[a0_0x401cf8(0x417)](_0x3c343d){const _0x10aceb=a0_0x401cf8;try{let _0x35f69c=await this['repository'][_0x10aceb(0x4a5)][_0x10aceb(0x566)](this[_0x10aceb(0x2e2)]['wuid']),_0x162204=_0x3c343d[_0x10aceb(0x1ce)]?_0x35f69c[_0x10aceb(0x6da)][_0x10aceb(0x353)](_0x559211=>_0x559211[_0x10aceb(0x1ce)]===_0x3c343d[_0x10aceb(0x1ce)]):-0x1,_0x3c1eb2=!0x1,_0xc32b62=_0x35f69c[_0x10aceb(0x6da)][_0x10aceb(0x4e5)](_0x490784=>_0x490784[_0x10aceb(0x527)]===_0x3c343d[_0x10aceb(0x527)]);if(_0x3c343d[_0x10aceb(0x46c)]&&_0x162204>-0x1)_0x35f69c[_0x10aceb(0x6da)][_0x10aceb(0x7cd)](_0x162204,0x1),_0x3c1eb2=!0x0;else{if(_0x162204>-0x1){if(_0x35f69c[_0x10aceb(0x6da)][_0x10aceb(0x4e5)](_0x3b1ecc=>_0x3b1ecc['name']===_0x3c343d[_0x10aceb(0x5f2)]&&_0x3b1ecc[_0x10aceb(0x1ce)]!==_0x3c343d[_0x10aceb(0x1ce)]))throw new Error(_0x10aceb(0x539));let _0x4a204d=_0x35f69c['customFields'][_0x162204];_0x3c343d['order']&&(_0xc32b62||!Number[_0x10aceb(0x437)](_0x3c343d[_0x10aceb(0x527)]))&&(_0x4a204d[_0x10aceb(0x527)]=_0x3c343d[_0x10aceb(0x527)],_0x3c1eb2=!0x0),_0x3c343d[_0x10aceb(0x5f2)]&&(_0x4a204d[_0x10aceb(0x5f2)]=_0x3c343d['name']);}else{if(_0x35f69c[_0x10aceb(0x6da)][_0x10aceb(0x4e5)](_0x1790ec=>_0x1790ec[_0x10aceb(0x5f2)]===_0x3c343d['name']&&_0x1790ec[_0x10aceb(0x1ce)]!==_0x3c343d['_id']))throw new Error(_0x10aceb(0x539));_0x35f69c['customFields']['push']({'_id':_0x3c343d[_0x10aceb(0x1ce)]||new ie[(_0x10aceb(0x787))][(_0x10aceb(0x3c3))]['ObjectId']()['toString'](),'order':_0x3c343d['order'],'name':_0x3c343d['name']}),_0x3c1eb2=!0x0;}}if(_0x3c1eb2){_0x35f69c[_0x10aceb(0x6da)]['sort']((_0x4ea792,_0x25a198)=>_0x4ea792[_0x10aceb(0x527)]>_0x25a198[_0x10aceb(0x527)]?0x1:_0x25a198[_0x10aceb(0x527)]>_0x4ea792[_0x10aceb(0x527)]?-0x1:0x0);for(let _0xe43af7=0x0;_0xe43af7<_0x35f69c[_0x10aceb(0x6da)][_0x10aceb(0x24f)];_0xe43af7++)_0x35f69c['customFields'][_0xe43af7][_0x10aceb(0x527)]=_0xe43af7+0x1;}let _0x316ccf=await this['repository'][_0x10aceb(0x4a5)][_0x10aceb(0x4b1)](_0x35f69c,this[_0x10aceb(0x2e2)][_0x10aceb(0x2b8)]);return this[_0x10aceb(0x78c)]=_0x316ccf,this[_0x10aceb(0x2c2)][_0x10aceb(0x2fa)](this['instanceName']+'\x20('+this[_0x10aceb(0x2e2)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x10aceb(0x2c2)][_0x10aceb(0x2fa)](this[_0x10aceb(0x6a3)]+'\x20('+this[_0x10aceb(0x2e2)][_0x10aceb(0x2b8)]+_0x10aceb(0x73f)+this[_0x10aceb(0x78c)]),_0x316ccf;}catch(_0x248612){throw this[_0x10aceb(0x2c2)][_0x10aceb(0x654)](this[_0x10aceb(0x6a3)]+'\x20('+this[_0x10aceb(0x2e2)][_0x10aceb(0x2b8)]+_0x10aceb(0x800)+(_0x248612 instanceof Error?_0x248612[_0x10aceb(0x295)]:JSON[_0x10aceb(0x75b)](_0x248612,null,0x2))),new h(_0x10aceb(0x695)+_0x248612[_0x10aceb(0x295)]);}}async['updateFlowConfig'](_0x115da8){const _0x12b12c=a0_0x401cf8;try{let _0x11aa1d=await this[_0x12b12c(0x552)]['automateSystem'][_0x12b12c(0x566)](this[_0x12b12c(0x2e2)][_0x12b12c(0x2b8)]);if(!_0x11aa1d)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x225661={'_id':_0x11aa1d[_0x12b12c(0x1ce)],'flowConfig':{'enabled':_0x115da8['enabled']??_0x11aa1d[_0x12b12c(0x43a)][_0x12b12c(0x6e3)],'ignoreGroups':_0x115da8[_0x12b12c(0x467)]??_0x11aa1d[_0x12b12c(0x43a)]['ignoreGroups'],'prefixCommand':_0x115da8[_0x12b12c(0x5b7)]??_0x11aa1d['flowConfig'][_0x12b12c(0x5b7)],'stopConversation':_0x115da8[_0x12b12c(0x4e3)]??_0x11aa1d['flowConfig'][_0x12b12c(0x4e3)],'stopMinutes':_0x115da8[_0x12b12c(0x2cc)]??_0x11aa1d[_0x12b12c(0x43a)]['stopMinutes'],'stopWhenYouSendMsg':_0x115da8['stopWhenYouSendMsg']??_0x11aa1d[_0x12b12c(0x43a)][_0x12b12c(0x2f5)]}},_0x235922=await this[_0x12b12c(0x552)][_0x12b12c(0x4a5)][_0x12b12c(0x4b1)](_0x225661,this[_0x12b12c(0x2e2)][_0x12b12c(0x2b8)]);return this[_0x12b12c(0x78c)]=_0x235922,this[_0x12b12c(0x2c2)]['verbose'](this['instanceName']+'\x20('+this[_0x12b12c(0x2e2)][_0x12b12c(0x2b8)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x12b12c(0x2c2)][_0x12b12c(0x2fa)](this[_0x12b12c(0x6a3)]+'\x20('+this['instance'][_0x12b12c(0x2b8)]+_0x12b12c(0x73f)+this[_0x12b12c(0x78c)]),setTimeout(()=>this[_0x12b12c(0x2b0)](),0x7d0),_0x235922;}catch(_0x11b948){throw this['logger'][_0x12b12c(0x654)](this[_0x12b12c(0x6a3)]+'\x20('+this[_0x12b12c(0x2e2)]['wuid']+_0x12b12c(0x62f)+(_0x11b948 instanceof Error?_0x11b948['message']:JSON[_0x12b12c(0x75b)](_0x11b948,null,0x2))),new h('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x11b948[_0x12b12c(0x295)]);}}async['getAutomateSystem'](){const _0x1392f0=a0_0x401cf8;try{let _0x52a70d=await this[_0x1392f0(0x552)][_0x1392f0(0x4a5)][_0x1392f0(0x566)](this[_0x1392f0(0x2e2)]['wuid']);return this[_0x1392f0(0x78c)]=_0x52a70d,this[_0x1392f0(0x2c2)][_0x1392f0(0x2fa)](this[_0x1392f0(0x6a3)]+'\x20('+this['instance'][_0x1392f0(0x2b8)]+'):\x20Visualizando\x20AutomateSystem'),this['logger'][_0x1392f0(0x2fa)](this[_0x1392f0(0x78c)]),_0x52a70d;}catch(_0x2816e9){throw this['logger'][_0x1392f0(0x654)](this['instanceName']+'\x20('+this[_0x1392f0(0x2e2)][_0x1392f0(0x2b8)]+_0x1392f0(0x6df)+(_0x2816e9 instanceof Error?_0x2816e9[_0x1392f0(0x295)]:JSON[_0x1392f0(0x75b)](_0x2816e9,null,0x2))),new h('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x2816e9[_0x1392f0(0x295)]);}}async['setRestartTimer'](){const _0x2083e7=a0_0x401cf8;this[_0x2083e7(0x7ce)]&&clearTimeout(this[_0x2083e7(0x7ce)]),this[_0x2083e7(0x7ce)]=setTimeout(()=>{const _0x4e9c51=_0x2083e7;this[_0x4e9c51(0x1fa)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x401cf8(0x1fa)](){const _0x2c4d32=a0_0x401cf8;Date[_0x2c4d32(0x7f7)]()-this[_0x2c4d32(0x7d3)]>=0x1d4c0&&(this[_0x2c4d32(0x2c2)]['verbose'](this[_0x2c4d32(0x6a3)]+'\x20('+this[_0x2c4d32(0x2e2)][_0x2c4d32(0x2b8)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x2c4d32(0x561)]=null,this[_0x2c4d32(0x7d3)]=0x0,this['delayMessage']=0x0,await this[_0x2c4d32(0x2b0)]());}async[a0_0x401cf8(0x2b0)](){const _0x337bb8=a0_0x401cf8;let _0x10a69c=()=>{const _0x353eef=a0_0x1c0b;this[_0x353eef(0x2c2)][_0x353eef(0x2fa)](this[_0x353eef(0x6a3)]+'\x20('+this['instance']['wuid']+_0x353eef(0x70b)+this[_0x353eef(0x561)]+_0x353eef(0x335));},_0x41159b=async()=>{const _0x1bd676=a0_0x1c0b;this[_0x1bd676(0x2c2)][_0x1bd676(0x2fa)](this[_0x1bd676(0x6a3)]+'\x20('+this[_0x1bd676(0x2e2)]['wuid']+_0x1bd676(0x460));let _0xd27570=Date[_0x1bd676(0x7f7)]()-0xc*0x3c*0x3c*0x3e8,_0x2639d0={'where':{'status':{'$in':[_0x1bd676(0x6bc),_0x1bd676(0x68e)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0xd27570}},{'when':0x0}]}};return await this['repository'][_0x1bd676(0x747)][_0x1bd676(0x7d2)](_0x2639d0,this[_0x1bd676(0x2e2)][_0x1bd676(0x2b8)]);},_0xc1cfc9=async _0x56dd8e=>{const _0x13fa05=a0_0x1c0b;for(let _0x225af0 of _0x56dd8e){if(!await this['repository'][_0x13fa05(0x747)][_0x13fa05(0x6c6)]({'_id':_0x225af0[_0x13fa05(0x1ce)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x13fa05(0x7f7)]()-0x1770}}]},{'$set':{'startSend':Date[_0x13fa05(0x7f7)]()}},this[_0x13fa05(0x2e2)]['wuid']))return;if(!this['isConnected']){this[_0x13fa05(0x2c2)][_0x13fa05(0x2fa)](this[_0x13fa05(0x6a3)]+'\x20('+this[_0x13fa05(0x2e2)][_0x13fa05(0x2b8)]+_0x13fa05(0x3cf));break;}if(_0x225af0[_0x13fa05(0x6ef)]===_0x13fa05(0x2aa)&&!this['AutomateSystem']?.[_0x13fa05(0x43a)][_0x13fa05(0x6e3)]){this[_0x13fa05(0x2c2)][_0x13fa05(0x654)](this['instanceName']+'\x20('+this[_0x13fa05(0x2e2)][_0x13fa05(0x2b8)]+_0x13fa05(0x578));continue;}(!_0x225af0['remoteJidsRemaining']||_0x225af0[_0x13fa05(0x52f)][_0x13fa05(0x24f)]===0x0)&&(_0x225af0=await this[_0x13fa05(0x552)][_0x13fa05(0x747)]['updateOneById'](_0x225af0[_0x13fa05(0x1ce)],{'status':_0x13fa05(0x68e),'remoteJidsRemaining':[..._0x225af0['remoteJids']]},this[_0x13fa05(0x2e2)][_0x13fa05(0x2b8)]));for(let _0x310af5 of _0x225af0['remoteJidsRemaining']){if(await this[_0x13fa05(0x477)](),this[_0x13fa05(0x7d3)]=Date[_0x13fa05(0x7f7)](),_0x225af0[_0x13fa05(0x4ef)]['some'](_0x4abd03=>_0x4abd03[_0x13fa05(0x6e5)]===_0x310af5)){this[_0x13fa05(0x2c2)]['verbose'](this[_0x13fa05(0x6a3)]+'\x20('+this[_0x13fa05(0x2e2)]['wuid']+_0x13fa05(0x45b)+_0x310af5+_0x13fa05(0x53c));continue;}if(!this[_0x13fa05(0x7e2)]){this[_0x13fa05(0x2c2)]['verbose'](this[_0x13fa05(0x6a3)]+'\x20('+this[_0x13fa05(0x2e2)]['wuid']+_0x13fa05(0x36d));break;}if(!this[_0x13fa05(0x561)]){this[_0x13fa05(0x2c2)][_0x13fa05(0x2fa)](this[_0x13fa05(0x6a3)]+'\x20('+this[_0x13fa05(0x2e2)][_0x13fa05(0x2b8)]+_0x13fa05(0x3bd)+_0x225af0[_0x13fa05(0x1ce)]+_0x13fa05(0x3ed));break;}if(_0x225af0[_0x13fa05(0x6ef)]===_0x13fa05(0x2aa)&&!this[_0x13fa05(0x78c)]?.[_0x13fa05(0x43a)][_0x13fa05(0x6e3)]){this[_0x13fa05(0x2c2)][_0x13fa05(0x654)](this[_0x13fa05(0x6a3)]+'\x20('+this['instance'][_0x13fa05(0x2b8)]+_0x13fa05(0x578));break;}let _0x325582={'remoteJid':_0x310af5,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x380daf=null;try{let _0x5b3fa9=await this[_0x13fa05(0x491)](_0x310af5,_0x225af0);_0x325582[_0x13fa05(0x654)]=_0x5b3fa9['error'],_0x325582['id']=_0x5b3fa9[_0x13fa05(0x654)]?null:_0x5b3fa9['id'],_0x325582[_0x13fa05(0x208)]=_0x5b3fa9[_0x13fa05(0x654)]?_0x5b3fa9['detail']?_0x5b3fa9[_0x13fa05(0x5c9)]['toString']():'':null;let _0x3bc75a={'$push':{'messagesSend':_0x325582},'$pull':{'remoteJidsRemaining':_0x310af5}},_0x2b8a25=_0x225af0[_0x13fa05(0x1ce)];if(_0x380daf=await this[_0x13fa05(0x552)][_0x13fa05(0x747)][_0x13fa05(0x513)](_0x2b8a25,_0x3bc75a,this['instance'][_0x13fa05(0x2b8)]),_0x5b3fa9[_0x13fa05(0x654)])continue;let _0xac9b1d=this['getDelay'](_0x225af0['delaySecMin'],_0x225af0[_0x13fa05(0x326)]);await this[_0x13fa05(0x4e6)](_0xac9b1d);}catch(_0x544d85){this[_0x13fa05(0x2c2)]['error'](this['instanceName']+'\x20('+this[_0x13fa05(0x2e2)][_0x13fa05(0x2b8)]+_0x13fa05(0x482)+_0x310af5+':\x20'+(_0x544d85 instanceof Error?_0x544d85[_0x13fa05(0x295)]:JSON[_0x13fa05(0x75b)](_0x544d85,null,0x2))),_0x325582[_0x13fa05(0x654)]=!0x0,_0x325582[_0x13fa05(0x208)]=_0x544d85[_0x13fa05(0x295)];let _0x232426={'$push':{'messagesSend':_0x325582},'$pull':{'remoteJidsRemaining':_0x310af5}},_0x3e64ba=_0x225af0['_id'];_0x380daf=await this['repository']['scheduleMessage'][_0x13fa05(0x513)](_0x3e64ba,_0x232426,this[_0x13fa05(0x2e2)][_0x13fa05(0x2b8)]);}finally{if(_0x380daf&&_0x380daf['status']===_0x13fa05(0x39b)){this[_0x13fa05(0x2c2)][_0x13fa05(0x2fa)](this[_0x13fa05(0x6a3)]+'\x20('+this['instance'][_0x13fa05(0x2b8)]+_0x13fa05(0x3bd)+_0x225af0[_0x13fa05(0x1ce)]+_0x13fa05(0x55c));break;}}}let _0x4aa1fa=await this[_0x13fa05(0x552)][_0x13fa05(0x747)][_0x13fa05(0x751)](_0x225af0[_0x13fa05(0x1ce)],this[_0x13fa05(0x2e2)][_0x13fa05(0x2b8)]);if(_0x4aa1fa[_0x13fa05(0x52f)][_0x13fa05(0x24f)]===0x0&&_0x4aa1fa['status']!==_0x13fa05(0x39b)){let _0x1e0857={'status':'done'},_0x32edf3=_0x4aa1fa[_0x13fa05(0x1ce)];await this[_0x13fa05(0x552)]['scheduleMessage'][_0x13fa05(0x513)](_0x32edf3,_0x1e0857,this['instance'][_0x13fa05(0x2b8)]);}await new Promise(_0x1a6283=>setTimeout(_0x1a6283,0x1388));}},_0x58f0ea=async()=>{const _0x4e46e6=a0_0x1c0b;let _0x3f0b15={'where':{'status':'scheduled','when':{'$gt':Date[_0x4e46e6(0x7f7)]()}}},_0x3edb21=await this[_0x4e46e6(0x552)][_0x4e46e6(0x747)][_0x4e46e6(0x4d8)](_0x3f0b15,this[_0x4e46e6(0x2e2)][_0x4e46e6(0x2b8)]);_0x3edb21&&_0x3edb21[_0x4e46e6(0x448)]-Date['now']()<=0x5265c00?this[_0x4e46e6(0x7c2)]=_0x3edb21['when']-Date[_0x4e46e6(0x7f7)]():this[_0x4e46e6(0x7c2)]=(0x3c+Math['floor'](Math[_0x4e46e6(0x2b3)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x4e46e6(0x55b)](this['delayMessage'],0x7d0);let _0x157288=Math[_0x4e46e6(0x391)](this[_0x4e46e6(0x7c2)]/0xea60);if(_0x3edb21){let _0x313a47=new Date(_0x3edb21[_0x4e46e6(0x448)])['toLocaleString']();this[_0x4e46e6(0x2c2)]['verbose'](this[_0x4e46e6(0x6a3)]+'\x20('+this[_0x4e46e6(0x2e2)][_0x4e46e6(0x2b8)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x313a47+_0x4e46e6(0x4da)+_0x157288+'\x20minutos');}else this[_0x4e46e6(0x2c2)]['verbose'](this[_0x4e46e6(0x6a3)]+'\x20('+this[_0x4e46e6(0x2e2)][_0x4e46e6(0x2b8)]+_0x4e46e6(0x253)+_0x157288+_0x4e46e6(0x459));setTimeout(()=>this[_0x4e46e6(0x2b0)](),this['delayMessage']);};if(this[_0x337bb8(0x561)]){await this[_0x337bb8(0x477)](),_0x10a69c();return;}if(!this[_0x337bb8(0x7e2)]){this[_0x337bb8(0x2c2)][_0x337bb8(0x2fa)](this[_0x337bb8(0x6a3)]+'\x20('+this[_0x337bb8(0x2e2)][_0x337bb8(0x2b8)]+_0x337bb8(0x1ca)),this[_0x337bb8(0x561)]=null,this[_0x337bb8(0x7d3)]=0x0,this['delayMessage']=0x0;return;}try{let _0x1f0ad5=await _0x41159b();_0x1f0ad5['length']===0x0?this[_0x337bb8(0x2c2)][_0x337bb8(0x2fa)](this['instanceName']+'\x20('+this[_0x337bb8(0x2e2)][_0x337bb8(0x2b8)]+_0x337bb8(0x21e)):(this['processingScheduleMessageId']=_0x1f0ad5[0x0][_0x337bb8(0x1ce)],await _0xc1cfc9(_0x1f0ad5)),await _0x58f0ea(),this[_0x337bb8(0x561)]=null;}catch(_0x5cda75){this[_0x337bb8(0x2c2)][_0x337bb8(0x654)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x5cda75 instanceof Error?_0x5cda75[_0x337bb8(0x295)]:JSON[_0x337bb8(0x75b)](_0x5cda75,null,0x2)));}}['getDelay'](_0x428b93,_0x45e039){const _0x2ff1c1=a0_0x401cf8;return _0x428b93=Math[_0x2ff1c1(0x55b)](0.5,_0x428b93),_0x45e039=Math[_0x2ff1c1(0x2e3)](Math[_0x2ff1c1(0x55b)](0x3,_0x45e039),0x78),Math[_0x2ff1c1(0x42c)](Math[_0x2ff1c1(0x2b3)]()*(_0x45e039-_0x428b93+0x1)+_0x428b93)*0x3e8;}['sleep'](_0x268336){return new Promise(_0x30ddbd=>setTimeout(_0x30ddbd,_0x268336));}async['getVariablesChat'](_0x1d50b4){const _0x8f4554=a0_0x401cf8;if(!this[_0x8f4554(0x78c)]&&(await this['getAutomateSystem'](),!this[_0x8f4554(0x78c)]))return null;_0x1d50b4=this[_0x8f4554(0x519)](_0x1d50b4);let _0xea7571=await this['repository'][_0x8f4554(0x5e1)]['findOne']({'where':{'_id':_0x1d50b4}},this[_0x8f4554(0x2e2)][_0x8f4554(0x2b8)]),_0x575b7d={};if(_0xea7571&&_0xea7571[_0x8f4554(0x450)]){let _0x400d01=_0xea7571['leadInfo'];typeof _0x400d01[_0x8f4554(0x583)]==_0x8f4554(0x219)&&(_0x575b7d['nome']=_0x400d01[_0x8f4554(0x583)]),typeof _0x400d01[_0x8f4554(0x2c0)]==_0x8f4554(0x219)&&(_0x575b7d[_0x8f4554(0x2c0)]=_0x400d01[_0x8f4554(0x2c0)]),typeof _0x400d01[_0x8f4554(0x706)]==_0x8f4554(0x219)&&(_0x575b7d[_0x8f4554(0x706)]=_0x400d01[_0x8f4554(0x706)]),typeof _0x400d01[_0x8f4554(0x3a5)]=='string'&&(_0x575b7d['cpf']=_0x400d01[_0x8f4554(0x3a5)]),typeof _0x400d01[_0x8f4554(0x776)]==_0x8f4554(0x219)&&(_0x575b7d[_0x8f4554(0x776)]=_0x400d01[_0x8f4554(0x776)]),typeof _0x400d01[_0x8f4554(0x6a6)]==_0x8f4554(0x219)&&(_0x575b7d[_0x8f4554(0x6a6)]=_0x400d01[_0x8f4554(0x6a6)]),typeof _0x400d01[_0x8f4554(0x69a)]=='string'&&(_0x575b7d['responsavelid']=_0x400d01[_0x8f4554(0x69a)]),Array[_0x8f4554(0x2f0)](_0x400d01['tags'])&&(_0x575b7d[_0x8f4554(0x4cf)]=_0x400d01[_0x8f4554(0x4cf)][_0x8f4554(0x6fa)](',\x20'));}return _0xea7571&&_0xea7571[_0x8f4554(0x450)]&&_0xea7571['leadInfo'][_0x8f4554(0x6da)]&&_0xea7571['leadInfo'][_0x8f4554(0x6da)]['forEach'](_0x580aea=>{const _0x583d59=_0x8f4554;let _0x677f13=this['AutomateSystem']?.[_0x583d59(0x6da)][_0x583d59(0x7d2)](_0xfdd6b7=>_0xfdd6b7[_0x583d59(0x1ce)]===_0x580aea[_0x583d59(0x1ce)]);_0x677f13&&(_0x575b7d[_0x677f13[_0x583d59(0x5f2)]]=_0x580aea[_0x583d59(0x2a1)]);}),_0x575b7d;}async['replaceVariablesChat'](_0x3eb6eb,_0x124032){const _0x3bc52f=a0_0x401cf8;let _0x1b987c=await this[_0x3bc52f(0x1ea)](_0x124032);return this[_0x3bc52f(0x4c5)](_0x3eb6eb,_0x1b987c);}async[a0_0x401cf8(0x286)](_0x3a3b57){const _0x46afad=a0_0x401cf8;try{if(this[_0x46afad(0x2c2)][_0x46afad(0x2fa)](this[_0x46afad(0x6a3)]+'\x20('+this[_0x46afad(0x2e2)][_0x46afad(0x2b8)]+_0x46afad(0x478)),_0x3a3b57[_0x46afad(0x46c)]&&_0x3a3b57['_id']){if(this[_0x46afad(0x561)]===_0x3a3b57[_0x46afad(0x1ce)][_0x46afad(0x596)]())throw new Error(_0x46afad(0x4dd));let _0x1ba7c7=await this[_0x46afad(0x552)][_0x46afad(0x747)][_0x46afad(0x71c)](_0x3a3b57['_id'],this['instance'][_0x46afad(0x2b8)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1ba7c7;}let _0xb7836;if(_0x3a3b57[_0x46afad(0x1ce)]&&(_0xb7836=await this[_0x46afad(0x552)][_0x46afad(0x747)]['findById'](_0x3a3b57[_0x46afad(0x1ce)],this[_0x46afad(0x2e2)][_0x46afad(0x2b8)])),_0xb7836){let _0xd39fda=_0x3a3b57;this[_0x46afad(0x561)]===_0xb7836[_0x46afad(0x1ce)][_0x46afad(0x596)]()&&(_0xd39fda={'status':_0x3a3b57[_0x46afad(0x776)],'_id':_0x3a3b57[_0x46afad(0x1ce)]});let _0x544adb=await this[_0x46afad(0x552)][_0x46afad(0x747)][_0x46afad(0x513)](_0xd39fda['_id'],_0xd39fda,this[_0x46afad(0x2e2)][_0x46afad(0x2b8)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x544adb;}else{_0x3a3b57[_0x46afad(0x81e)]=this['instance'][_0x46afad(0x2b8)];let _0x421213=await this['repository'][_0x46afad(0x747)][_0x46afad(0x66b)](_0x3a3b57,this[_0x46afad(0x2e2)][_0x46afad(0x2b8)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x421213;}}catch(_0x263faf){throw this[_0x46afad(0x2c2)]['error'](this['instanceName']+'\x20('+this['instance'][_0x46afad(0x2b8)]+_0x46afad(0x793)+(_0x263faf instanceof Error?_0x263faf[_0x46afad(0x295)]:JSON[_0x46afad(0x75b)](_0x263faf,null,0x2))),new h('Erro:'+_0x263faf['message']);}}async[a0_0x401cf8(0x709)](){const _0x27d0d6=a0_0x401cf8;try{return await this['repository'][_0x27d0d6(0x747)][_0x27d0d6(0x7d2)]({'where':{}},this[_0x27d0d6(0x2e2)][_0x27d0d6(0x2b8)]);}catch(_0x1bcd91){throw this['logger'][_0x27d0d6(0x654)](this[_0x27d0d6(0x6a3)]+'\x20('+this[_0x27d0d6(0x2e2)]['wuid']+_0x27d0d6(0x434)+(_0x1bcd91 instanceof Error?_0x1bcd91[_0x27d0d6(0x295)]:JSON['stringify'](_0x1bcd91,null,0x2))),new h(_0x27d0d6(0x1f9)+_0x1bcd91[_0x27d0d6(0x295)]);}}async['deleteDoneMessages'](){const _0x417f39=a0_0x401cf8;try{let _0x382811={'status':_0x417f39(0x5e2)},_0x3b9862=await this[_0x417f39(0x552)][_0x417f39(0x747)][_0x417f39(0x28f)](_0x382811,this[_0x417f39(0x2e2)][_0x417f39(0x2b8)]);if(!_0x3b9862[_0x417f39(0x654)])this[_0x417f39(0x2c2)][_0x417f39(0x2fa)](this[_0x417f39(0x6a3)]+'\x20('+this[_0x417f39(0x2e2)][_0x417f39(0x2b8)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x3b9862[_0x417f39(0x654)]['message']||_0x417f39(0x67e));return this['getScheduleMessage']();}catch(_0x5edf70){throw this[_0x417f39(0x2c2)]['error'](this['instanceName']+'\x20('+this[_0x417f39(0x2e2)]['wuid']+_0x417f39(0x2da)+(_0x5edf70 instanceof Error?_0x5edf70['message']:JSON[_0x417f39(0x75b)](_0x5edf70,null,0x2))),new h(_0x417f39(0x1f9)+_0x5edf70[_0x417f39(0x295)]);}}async[a0_0x401cf8(0x491)](_0x51a6bc,_0x5c82d1){const _0x5d6161=a0_0x401cf8;try{if(_0x5c82d1[_0x5d6161(0x6ef)]===_0x5d6161(0x2aa)&&!this[_0x5d6161(0x78c)]?.[_0x5d6161(0x43a)][_0x5d6161(0x6e3)])return this[_0x5d6161(0x2c2)][_0x5d6161(0x654)](this[_0x5d6161(0x6a3)]+'\x20('+this['instance']['wuid']+_0x5d6161(0x32b)),{'error':!0x0,'detail':_0x5d6161(0x558)};switch(_0x5c82d1[_0x5d6161(0x6ef)]){case'text':return await this['scheduleSendText'](_0x5c82d1,_0x51a6bc);case _0x5d6161(0x3de):return await this[_0x5d6161(0x22c)](_0x5c82d1,_0x51a6bc);case _0x5d6161(0x35f):return await this[_0x5d6161(0x7da)](_0x5c82d1,_0x51a6bc);case'flow':let _0x498b00=new De();return _0x498b00[_0x5d6161(0x5f2)]=_0x5c82d1['flowName'],_0x498b00[_0x5d6161(0x6e5)]=_0x51a6bc,await this[_0x5d6161(0x68d)](_0x498b00);break;default:return this[_0x5d6161(0x2c2)][_0x5d6161(0x654)](this[_0x5d6161(0x6a3)]+'\x20('+this[_0x5d6161(0x2e2)]['wuid']+_0x5d6161(0x204)+_0x5c82d1['type']),{'error':!0x0,'detail':_0x5d6161(0x759)};}}catch(_0x32180c){return this['logger']['error'](this[_0x5d6161(0x6a3)]+'\x20('+this[_0x5d6161(0x2e2)][_0x5d6161(0x2b8)]+_0x5d6161(0x547)+(_0x32180c instanceof Error?_0x32180c[_0x5d6161(0x295)]:JSON['stringify'](_0x32180c,null,0x2))),{'error':!0x0,'detail':_0x32180c['message']};}}[a0_0x401cf8(0x636)](_0x4d017b){const _0x53a1ec=a0_0x401cf8;let _0x2436f4=_0x4d017b['split']('|'),_0x34f43f=Math[_0x53a1ec(0x42c)](Math[_0x53a1ec(0x2b3)]()*_0x2436f4[_0x53a1ec(0x24f)]);return _0x2436f4[_0x34f43f]['trim']();}async[a0_0x401cf8(0x635)](_0xf668c8,_0x47adb7){const _0x2bab18=a0_0x401cf8;if(this[_0x2bab18(0x2c2)][_0x2bab18(0x2fa)](this[_0x2bab18(0x6a3)]+'\x20('+this[_0x2bab18(0x2e2)][_0x2bab18(0x2b8)]+_0x2bab18(0x28a)),!_0xf668c8[_0x2bab18(0x295)][_0x2bab18(0x3e6)]||_0xf668c8[_0x2bab18(0x295)][_0x2bab18(0x3e6)][_0x2bab18(0x24f)]===0x0)return{'error':!0x0,'detail':_0x2bab18(0x283)};let _0x2aa1d8=this[_0x2bab18(0x636)](_0xf668c8[_0x2bab18(0x295)][_0x2bab18(0x3e6)]),_0x1cb605=await this['replaceVariablesChat'](_0x2aa1d8,_0x47adb7),_0xc5ada4={'number':_0x47adb7,'options':{'delay':_0xf668c8['message'][_0x2bab18(0x784)]},'textMessage':{'text':_0x1cb605}},_0x40967b=null;try{let _0x2c629f=await this[_0x2bab18(0x32c)](_0xc5ada4);if(_0x2c629f&&_0x2c629f[_0x2bab18(0x776)])return{'error':!0x1,'id':_0x2c629f[_0x2bab18(0x7e9)]['id']};_0x40967b=JSON[_0x2bab18(0x75b)](_0x2c629f),this[_0x2bab18(0x2c2)][_0x2bab18(0x2fa)](this[_0x2bab18(0x6a3)]+'\x20('+this[_0x2bab18(0x2e2)][_0x2bab18(0x2b8)]+_0x2bab18(0x73f)+_0x40967b);}catch(_0x4bbdb7){this[_0x2bab18(0x2c2)]['error'](this[_0x2bab18(0x6a3)]+'\x20('+this[_0x2bab18(0x2e2)][_0x2bab18(0x2b8)]+_0x2bab18(0x37e)+(_0x4bbdb7 instanceof Error?_0x4bbdb7[_0x2bab18(0x295)]:JSON['stringify'](_0x4bbdb7,null,0x2))),_0x40967b=_0x4bbdb7['message'];}if(_0x40967b)return{'error':!0x0,'detail':(typeof _0x40967b==_0x2bab18(0x618)?JSON[_0x2bab18(0x75b)](_0x40967b,null,0x2):_0x40967b)[_0x2bab18(0x4e1)](/[\[\]{}\n]/g,'\x20')[_0x2bab18(0x4e1)](/  +/g,'\x20')};}async[a0_0x401cf8(0x22c)](_0x440f5e,_0x2b233c){const _0x206d50=a0_0x401cf8;this[_0x206d50(0x2c2)]['verbose'](this[_0x206d50(0x6a3)]+'\x20('+this[_0x206d50(0x2e2)][_0x206d50(0x2b8)]+_0x206d50(0x377));let _0x5b053b;if(_0x440f5e[_0x206d50(0x295)][_0x206d50(0x3e6)]&&_0x440f5e['message'][_0x206d50(0x3e6)][_0x206d50(0x24f)]>0x0){let _0x2e8e8e=this['getRandomText'](_0x440f5e['message'][_0x206d50(0x3e6)]);_0x5b053b=await this[_0x206d50(0x768)](_0x2e8e8e,_0x2b233c);}let _0x1833d8={'number':_0x2b233c,'options':{'delay':_0x440f5e['message']['delay']},'mediaMessage':{'mediatype':_0x440f5e['message'][_0x206d50(0x6ee)],'caption':_0x5b053b,'media':_0x440f5e[_0x206d50(0x295)][_0x206d50(0x23f)]}},_0x1c6d33=null;try{let _0x275b1c=await this[_0x206d50(0x3ac)](_0x1833d8);if(_0x275b1c&&_0x275b1c[_0x206d50(0x776)])return{'error':!0x1,'id':_0x275b1c[_0x206d50(0x7e9)]['id']};_0x1c6d33=JSON[_0x206d50(0x75b)](_0x275b1c),this[_0x206d50(0x2c2)]['verbose'](this[_0x206d50(0x6a3)]+'\x20('+this[_0x206d50(0x2e2)][_0x206d50(0x2b8)]+_0x206d50(0x73f)+_0x1c6d33);}catch(_0x44dbe0){this['logger'][_0x206d50(0x654)](this[_0x206d50(0x6a3)]+'\x20('+this[_0x206d50(0x2e2)][_0x206d50(0x2b8)]+_0x206d50(0x25b)+(_0x44dbe0 instanceof Error?_0x44dbe0[_0x206d50(0x295)]:JSON[_0x206d50(0x75b)](_0x44dbe0,null,0x2))),_0x1c6d33=_0x44dbe0[_0x206d50(0x295)];}if(_0x1c6d33)return{'error':!0x0,'detail':(typeof _0x1c6d33==_0x206d50(0x618)?JSON[_0x206d50(0x75b)](_0x1c6d33,null,0x2):_0x1c6d33)[_0x206d50(0x4e1)](/[\[\]{}\n]/g,'\x20')[_0x206d50(0x4e1)](/  +/g,'\x20')};}async[a0_0x401cf8(0x7da)](_0x498c48,_0x415784){const _0x42d177=a0_0x401cf8;this['logger'][_0x42d177(0x2fa)](this[_0x42d177(0x6a3)]+'\x20('+this['instance'][_0x42d177(0x2b8)]+_0x42d177(0x2bb));let _0x5ada38={'number':_0x415784,'options':{'delay':_0x498c48[_0x42d177(0x295)]['delay']},'audioMessage':{'audio':_0x498c48['message']['urlOrBase64']}},_0x2b384e=null;try{let _0x113b60=await this[_0x42d177(0x51d)](_0x5ada38);if(_0x113b60&&_0x113b60[_0x42d177(0x776)])return{'error':!0x1,'id':_0x113b60[_0x42d177(0x7e9)]['id']};_0x2b384e=JSON['stringify'](_0x113b60),this['logger'][_0x42d177(0x2fa)](this['instanceName']+'\x20('+this[_0x42d177(0x2e2)]['wuid']+_0x42d177(0x73f)+_0x2b384e);}catch(_0x2fe4c5){this[_0x42d177(0x2c2)][_0x42d177(0x654)](this[_0x42d177(0x6a3)]+'\x20('+this[_0x42d177(0x2e2)]['wuid']+_0x42d177(0x58b)+(_0x2fe4c5 instanceof Error?_0x2fe4c5[_0x42d177(0x295)]:JSON[_0x42d177(0x75b)](_0x2fe4c5,null,0x2))),_0x2b384e=_0x2fe4c5[_0x42d177(0x295)];}if(_0x2b384e)return{'error':!0x0,'detail':(typeof _0x2b384e==_0x42d177(0x618)?JSON[_0x42d177(0x75b)](_0x2b384e,null,0x2):_0x2b384e)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},It=class c{constructor(_0x365be7,_0xc937c6,_0x5f2b64){const _0x179313=a0_0x401cf8;this['eventEmitter']=_0x365be7,this['configService']=_0xc937c6,this[_0x179313(0x552)]=_0x5f2b64,this['db']={},this['redis']={},this[_0x179313(0x2c2)]=new v(c['name']),this[_0x179313(0x5c2)]={},(this[_0x179313(0x55d)](),this[_0x179313(0x2c5)](),Object[_0x179313(0x540)](this['db'],_0xc937c6[_0x179313(0x626)](_0x179313(0x316))),Object[_0x179313(0x540)](this[_0x179313(0x67b)],_0xc937c6[_0x179313(0x626)](_0x179313(0x354))),this[_0x179313(0x294)]=this['db'][_0x179313(0x516)]?this[_0x179313(0x552)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x179313(0x6e9)]+_0x179313(0x7c9)):void 0x0,this['cache']=this[_0x179313(0x67b)][_0x179313(0x516)]?new re(this[_0x179313(0x67b)]):void 0x0);}async[a0_0x401cf8(0x289)](_0x46f430){const _0x24e017=a0_0x401cf8;if(_0x46f430&&!this[_0x24e017(0x5c2)][_0x46f430])throw new L('Instance\x20\x22'+_0x46f430+_0x24e017(0x63a));let _0x292485=[];for await(let [_0x28e056,_0x7825a1]of Object[_0x24e017(0x34c)](this[_0x24e017(0x5c2)]))if(_0x7825a1&&_0x7825a1[_0x24e017(0x7c3)][_0x24e017(0x268)]===_0x24e017(0x5a0)){let _0x1dc4a5=await this[_0x24e017(0x552)][_0x24e017(0x60c)][_0x24e017(0x7d2)](_0x28e056);_0x292485['push']({'instance':{'instanceName':_0x28e056,'apikey':_0x1dc4a5[_0x24e017(0x688)],'owner':_0x7825a1[_0x24e017(0x2b8)],'profileName':await _0x7825a1[_0x24e017(0x279)]()||_0x24e017(0x598),'profilePictureUrl':_0x7825a1[_0x24e017(0x29d)]}});}return _0x292485[_0x24e017(0x7d2)](_0x5661ee=>_0x5661ee[_0x24e017(0x2e2)]['instanceName']===_0x46f430)??_0x292485;}async[a0_0x401cf8(0x7cb)](_0x2e0dc4){const _0x292576=a0_0x401cf8;if(this['db'][_0x292576(0x516)]&&(await this[_0x292576(0x552)][_0x292576(0x7ef)][_0x292576(0x36a)](),(await this[_0x292576(0x294)][_0x292576(0x669)]())['length']>0x0&&await this[_0x292576(0x294)]['dropCollection'](_0x2e0dc4)),this['redis'][_0x292576(0x516)]){this[_0x292576(0x2d7)][_0x292576(0x2dd)]=_0x2e0dc4,await this[_0x292576(0x2d7)][_0x292576(0x351)]();return;}}async[a0_0x401cf8(0x26f)](){const _0x1a93f5=a0_0x401cf8;await this['InstancesAlterarTodas']();let _0x272f2f=async _0x19bc54=>{const _0x42899b=a0_0x1c0b;let _0x3feffe=new fe(this[_0x42899b(0x3e3)],this[_0x42899b(0x5b3)],this['repository']);_0x3feffe['instanceName']=_0x19bc54,await _0x3feffe[_0x42899b(0x22e)](),this['waInstances'][_0x19bc54]=_0x3feffe;};try{if(this[_0x1a93f5(0x67b)][_0x1a93f5(0x516)]){let _0x8091aa=await this['cache'][_0x1a93f5(0x677)]();_0x8091aa?.[_0x1a93f5(0x24f)]>0x0&&_0x8091aa['forEach'](async _0x1c2ea3=>await _0x272f2f(_0x1c2ea3['split'](':')[0x1]));return;}if(this['db'][_0x1a93f5(0x516)]){await this[_0x1a93f5(0x552)][_0x1a93f5(0x7ef)]['connect']();let _0x3862f5=await this[_0x1a93f5(0x294)][_0x1a93f5(0x669)]();_0x3862f5[_0x1a93f5(0x24f)]>0x0&&_0x3862f5[_0x1a93f5(0x306)](async _0xb1e422=>await _0x272f2f(_0xb1e422[_0x1a93f5(0x786)][_0x1a93f5(0x4e1)](/^[\w-]+\./,'')));return;}}catch(_0x3ad3f1){this['logger']['error'](_0x3ad3f1);}}async[a0_0x401cf8(0x645)](){const _0x420d22=a0_0x401cf8;let _0x2a8662=await this[_0x420d22(0x552)]['auth']['findAll'](),_0x1f73c9=_0x2a8662[_0x420d22(0x56b)](_0x3f425d=>!this[_0x420d22(0x5c2)][_0x3f425d['_id']]&&(_0x3f425d[_0x420d22(0x423)]||typeof _0x3f425d[_0x420d22(0x423)]>'u'));_0x1f73c9[_0x420d22(0x24f)]>0x0&&await Promise[_0x420d22(0x7dd)](_0x1f73c9['map'](async _0x4a5102=>{const _0x2a1e11=_0x420d22;let _0x426f39={'online':!0x1,'lastDisconnect':Date[_0x2a1e11(0x7f7)]()};await this[_0x2a1e11(0x552)][_0x2a1e11(0x60c)][_0x2a1e11(0x368)](_0x426f39,_0x4a5102['_id']);}));let _0x255964=Date[_0x420d22(0x7f7)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x10fb8d=_0x2a8662[_0x420d22(0x56b)](_0x27e352=>!this[_0x420d22(0x5c2)][_0x27e352['_id']]&&typeof _0x27e352['lastDisconnect']<'u'&&_0x27e352['lastDisconnect']<_0x255964);_0x10fb8d[_0x420d22(0x24f)]>0x0&&await Promise[_0x420d22(0x7dd)](_0x10fb8d[_0x420d22(0x515)](async _0x11f6e4=>{}));}async[a0_0x401cf8(0x36b)](){const _0x3c78dc=a0_0x401cf8;try{let _0x29dc4f={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x209453={'online':!0x1,'lastDisconnect':Date[_0x3c78dc(0x7f7)]()},_0x469d42=await this['repository'][_0x3c78dc(0x60c)][_0x3c78dc(0x708)](_0x29dc4f,_0x209453);console[_0x3c78dc(0x743)](_0x3c78dc(0x569)+_0x469d42[_0x3c78dc(0x3db)]),await this[_0x3c78dc(0x33c)]();}catch(_0x49c51d){console[_0x3c78dc(0x654)](_0x3c78dc(0x782),_0x49c51d);}}async[a0_0x401cf8(0x33c)](){const _0x204ae6=a0_0x401cf8;try{let _0x2367f8={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x26d8ff=await this[_0x204ae6(0x552)]['auth']['deleteMany'](_0x2367f8);console[_0x204ae6(0x743)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x26d8ff['insertCount']);}catch(_0x25435a){console[_0x204ae6(0x654)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x25435a);}}[a0_0x401cf8(0x55d)](){const _0x918bef=a0_0x401cf8;this['eventEmitter']['on'](_0x918bef(0x7ee),async _0x4e4074=>{const _0x2afc28=_0x918bef;try{this[_0x2afc28(0x5c2)][_0x4e4074]=void 0x0;}catch{}try{this[_0x2afc28(0x7cb)](_0x4e4074);}finally{this[_0x2afc28(0x2c2)]['warn'](_0x2afc28(0x721)+_0x4e4074+_0x2afc28(0x31a));}});}[a0_0x401cf8(0x2c5)](){const _0x171a30=a0_0x401cf8;this['eventEmitter']['on'](_0x171a30(0x4a6),async _0x288211=>{const _0x48c213=_0x171a30;try{this[_0x48c213(0x5c2)][_0x288211]=void 0x0;}catch{}try{this[_0x48c213(0x7cb)](_0x288211);}finally{this[_0x48c213(0x2c2)][_0x48c213(0x62b)](_0x48c213(0x721)+_0x288211+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Dt=class extends I{['getChatModelForOwner'](_0xba220e){return Us(_0xba220e);}async['insert'](_0x33e830){const _0xf81847=a0_0x401cf8;if(_0x33e830[_0xf81847(0x24f)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x33e830[0x0][_0xf81847(0x81e)])[_0xf81847(0x1d8)]([..._0x33e830]))[_0xf81847(0x24f)]};}catch(_0x2eaad9){return _0x2eaad9;}}async[a0_0x401cf8(0x7d2)](_0x387253,_0x4c3dd3){const _0x392156=a0_0x401cf8;try{let _0x11d9f6=this[_0x392156(0x58f)](_0x4c3dd3),_0x1ac10b=T(_0x387253[_0x392156(0x620)]);return await _0x11d9f6[_0x392156(0x7d2)](_0x1ac10b)[_0x392156(0x3cc)]({'lastmsg':-0x1})[_0x392156(0x6c7)](_0x387253?.[_0x392156(0x6c7)]??0x0)['lean']();}catch{return[];}}async[a0_0x401cf8(0x1d3)](_0x1a601d,_0x25c8d1){const _0x58e767=a0_0x401cf8;try{return await this[_0x58e767(0x58f)](_0x25c8d1)[_0x58e767(0x28f)]({..._0x1a601d[_0x58e767(0x620)]}),[];}catch(_0x3b611b){return{'error':_0x3b611b?.[_0x58e767(0x596)]()};}}async[a0_0x401cf8(0x4d8)](_0x6fb74f,_0x589515){const _0x23f2ef=a0_0x401cf8;try{let _0x5ab890=this[_0x23f2ef(0x58f)](_0x589515),_0x26a046=T(_0x6fb74f[_0x23f2ef(0x620)]);return await _0x5ab890[_0x23f2ef(0x4d8)](_0x26a046)[_0x23f2ef(0x366)]();}catch{return null;}}async[a0_0x401cf8(0x6c6)](_0x475e44,_0x56bb10,_0x4ca1d9,_0x275fc1,_0x5327be=a0_0x401cf8(0x4df)){const _0xd9459f=a0_0x401cf8;try{let _0x2ea14e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x275fc1},_0x36bfe5=this[_0xd9459f(0x58f)](_0x4ca1d9),_0x2509a2=T(_0x475e44[_0xd9459f(0x620)]),_0x36300b={};return _0x36300b[_0x5327be]=_0x56bb10,await _0x36bfe5[_0xd9459f(0x1c9)](_0x2509a2,_0x36300b,_0x2ea14e);}catch(_0x1ca1b5){return console[_0xd9459f(0x654)](_0x1ca1b5),null;}}async[a0_0x401cf8(0x243)](_0x2a7d1f){const _0x5dee03=a0_0x401cf8;try{let _0xd8ceb1=this[_0x5dee03(0x58f)](_0x2a7d1f[0x0]['query'][_0x5dee03(0x620)]['owner']),_0x52d168=_0x2a7d1f[_0x5dee03(0x515)](_0x552002=>({'updateOne':{'filter':{..._0x552002[_0x5dee03(0x6f7)]['where']},'update':{'$set':_0x552002[_0x5dee03(0x4b1)]}}}));return(await _0xd8ceb1[_0x5dee03(0x644)](_0x52d168))[_0x5dee03(0x3d8)];}catch(_0x5486f6){return console[_0x5dee03(0x654)](_0x5486f6),0x0;}}async['insertMany'](_0x8a14b5,_0xaaa46d){const _0x2979f1=a0_0x401cf8;if(!Array[_0x2979f1(0x2f0)](_0x8a14b5)||_0x8a14b5[_0x2979f1(0x24f)]===0x0)throw new Error(_0x2979f1(0x352));try{return(await this[_0x2979f1(0x58f)](_0xaaa46d)['insertMany'](_0x8a14b5))['length'];}catch(_0x4e955f){throw console['error'](_0x2979f1(0x416),_0x4e955f),_0x4e955f;}}async[a0_0x401cf8(0x35d)](_0x532517,_0x66d61e){const _0x11c1d3=a0_0x401cf8;try{await this['getChatModelForOwner'](_0x66d61e)[_0x11c1d3(0x6c6)]({'_id':_0x532517},{'$inc':{'isValidAttempts':0x1}});}catch(_0x2b40ef){throw console['error']('Erro\x20ao\x20incrementar\x20isValidAttempts:',_0x2b40ef),_0x2b40ef;}}async['deleteChat'](_0x52088f,_0x3eaaab){const _0x1493d8=a0_0x401cf8;try{await this[_0x1493d8(0x58f)](_0x3eaaab)['deleteOne']({'_id':_0x52088f});}catch(_0x5190a5){throw console[_0x1493d8(0x654)](_0x1493d8(0x816),_0x5190a5),_0x5190a5;}}},xt=class extends I{[a0_0x401cf8(0x30d)](_0x1c887d){return ca(_0x1c887d);}async[a0_0x401cf8(0x6c6)](_0xf3bdb4,_0x28f8d0,_0xb2f066,_0x2be507){const _0x15d951=a0_0x401cf8;try{let _0x4fb95d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2be507},_0x5161b6=this[_0x15d951(0x30d)](_0xb2f066),_0x47c2a7=T(_0xf3bdb4[_0x15d951(0x620)]);return await _0x5161b6[_0x15d951(0x1c9)](_0x47c2a7,{'$set':_0x28f8d0},_0x4fb95d);}catch(_0x5b3d09){return console[_0x15d951(0x654)](_0x5b3d09),null;}}async[a0_0x401cf8(0x7d2)](_0x5ebe6e,_0x438dd5){const _0x21b0d7=a0_0x401cf8;try{let _0x2bfab3=this['getLabelModelForOwner'](_0x438dd5),_0xe686ac=T(_0x5ebe6e[_0x21b0d7(0x620)]);return await _0x2bfab3[_0x21b0d7(0x7d2)](_0xe686ac);}catch(_0x286355){console[_0x21b0d7(0x654)](_0x286355);}}async[a0_0x401cf8(0x46c)](_0x1b8b8a,_0x4b5226){const _0x49b6a3=a0_0x401cf8;try{let _0x5bc528=this[_0x49b6a3(0x30d)](_0x4b5226),_0x54be86=T(_0x1b8b8a[_0x49b6a3(0x620)]);await _0x5bc528[_0x49b6a3(0x28f)](_0x54be86);}catch(_0x268819){console[_0x49b6a3(0x654)](_0x268819);}}async[a0_0x401cf8(0x1d3)](_0x21af18){const _0x31b470=a0_0x401cf8;try{return await this['getLabelModelForOwner'](_0x21af18)['collection'][_0x31b470(0x3d6)](),{'success':!0x0};}catch(_0x24c90b){return console[_0x31b470(0x654)](_0x24c90b),{'success':!0x1,'error':_0x24c90b};}}},_t=class{constructor(_0x439881){const _0x3d21fd=a0_0x401cf8;this[_0x3d21fd(0x4d6)]=_0x439881;}async[a0_0x401cf8(0x445)]({instanceName:_0x2758dc},_0x497139){const _0x1e7c7d=a0_0x401cf8;return await this[_0x1e7c7d(0x4d6)][_0x1e7c7d(0x5c2)][_0x2758dc][_0x1e7c7d(0x445)](_0x497139);}async['whatsappNumber']({instanceName:_0x19c506},_0x10daae){const _0x247a18=a0_0x401cf8;return await this['waMonitor'][_0x247a18(0x5c2)][_0x19c506][_0x247a18(0x2e5)](_0x10daae);}async['importChats']({instanceName:_0xc08937},_0x5b58a3){const _0x1d93e4=a0_0x401cf8;return await this[_0x1d93e4(0x4d6)][_0x1d93e4(0x5c2)][_0xc08937][_0x1d93e4(0x298)](_0x5b58a3);}async[a0_0x401cf8(0x257)]({instanceName:_0x5e4eec},_0x3e5eab){const _0x1e03df=a0_0x401cf8;return await this[_0x1e03df(0x4d6)][_0x1e03df(0x5c2)][_0x5e4eec][_0x1e03df(0x7f6)](_0x3e5eab);}async[a0_0x401cf8(0x33f)]({instanceName:_0xd0d9b4},_0x153e0b){const _0x1a7bb6=a0_0x401cf8;return await this[_0x1a7bb6(0x4d6)][_0x1a7bb6(0x5c2)][_0xd0d9b4][_0x1a7bb6(0x33f)](_0x153e0b);}async[a0_0x401cf8(0x475)]({instanceName:_0x86bb58},_0x46414f){const _0x7a12cc=a0_0x401cf8;return await this[_0x7a12cc(0x4d6)][_0x7a12cc(0x5c2)][_0x86bb58][_0x7a12cc(0x475)](_0x46414f);}async[a0_0x401cf8(0x4bf)]({instanceName:_0x4fc5f9},_0x51af18){const _0x483648=a0_0x401cf8;return await this[_0x483648(0x4d6)][_0x483648(0x5c2)][_0x4fc5f9][_0x483648(0x313)](_0x51af18[_0x483648(0x534)]);}async['fetchProfile']({instanceName:_0x4dfc9e},_0x7d6995){const _0x3100b1=a0_0x401cf8;return await this[_0x3100b1(0x4d6)][_0x3100b1(0x5c2)][_0x4dfc9e][_0x3100b1(0x2a5)](_0x7d6995[_0x3100b1(0x534)]);}async['updatePresence']({instanceName:_0x590749},_0x4433c7){const _0x532249=a0_0x401cf8;return await this['waMonitor'][_0x532249(0x5c2)][_0x590749][_0x532249(0x79c)](_0x4433c7);}async[a0_0x401cf8(0x5e7)]({instanceName:_0x5b86a2},_0x415ad2){const _0xdd51e=a0_0x401cf8;return await this[_0xdd51e(0x4d6)][_0xdd51e(0x5c2)][_0x5b86a2][_0xdd51e(0x5e7)](_0x415ad2);}async[a0_0x401cf8(0x6d6)]({instanceName:_0x157b03},_0x207844){const _0x1b3d9d=a0_0x401cf8;return await this[_0x1b3d9d(0x4d6)][_0x1b3d9d(0x5c2)][_0x157b03]['getBase64FromMediaMessage'](_0x207844);}async[a0_0x401cf8(0x5a6)]({instanceName:_0x59253c},_0x3acc39){const _0x16bda3=a0_0x401cf8;return await this[_0x16bda3(0x4d6)]['waInstances'][_0x59253c][_0x16bda3(0x5a6)](_0x3acc39);}async[a0_0x401cf8(0x382)]({instanceName:_0x5b7822}){const _0x51cc83=a0_0x401cf8;return await this[_0x51cc83(0x4d6)][_0x51cc83(0x5c2)][_0x5b7822][_0x51cc83(0x382)]();}async[a0_0x401cf8(0x7b1)]({instanceName:_0x1f8c01}){const _0xfadf4c=a0_0x401cf8;return await this[_0xfadf4c(0x4d6)]['waInstances'][_0x1f8c01][_0xfadf4c(0x7b1)]();}async[a0_0x401cf8(0x6c9)]({instanceName:_0x238d67}){const _0x5858c7=a0_0x401cf8;return await this[_0x5858c7(0x4d6)][_0x5858c7(0x5c2)][_0x238d67][_0x5858c7(0x6c9)]();}async[a0_0x401cf8(0x29a)]({instanceName:_0x5c050e},_0x46e2bf){const _0x5e9769=a0_0x401cf8;return await this[_0x5e9769(0x4d6)][_0x5e9769(0x5c2)][_0x5c050e][_0x5e9769(0x29a)](_0x46e2bf);}async[a0_0x401cf8(0x323)]({instanceName:_0x3440f7},_0x53adea){const _0x19fc64=a0_0x401cf8;return await this[_0x19fc64(0x4d6)][_0x19fc64(0x5c2)][_0x3440f7][_0x19fc64(0x323)](_0x53adea[_0x19fc64(0x534)]);}async[a0_0x401cf8(0x439)]({instanceName:_0xefcbee},_0x58d211){const _0x2705c2=a0_0x401cf8;return await this[_0x2705c2(0x4d6)]['waInstances'][_0xefcbee]['updateProfileName'](_0x58d211['name']);}async[a0_0x401cf8(0x6aa)]({instanceName:_0xf4dde6},_0x1d6152){const _0x713abb=a0_0x401cf8;return await this[_0x713abb(0x4d6)][_0x713abb(0x5c2)][_0xf4dde6][_0x713abb(0x6aa)](_0x1d6152[_0x713abb(0x776)]);}async['updateProfilePicture']({instanceName:_0x5e0aca},_0x186e3e){const _0x1d0074=a0_0x401cf8;return await this['waMonitor'][_0x1d0074(0x5c2)][_0x5e0aca][_0x1d0074(0x274)](_0x186e3e[_0x1d0074(0x546)]);}async['removeProfilePicture']({instanceName:_0x4bf355},_0x367ccb){const _0x58be4f=a0_0x401cf8;return await this['waMonitor']['waInstances'][_0x4bf355][_0x58be4f(0x40a)]();}},Cs=require(a0_0x401cf8(0x650)),Pt=class c{constructor(_0x20e9ba,_0x43b21f,_0x5bc807,_0x113685,_0x30c3a8){const _0x53a552=a0_0x401cf8;this[_0x53a552(0x4d6)]=_0x20e9ba,this[_0x53a552(0x3e3)]=_0x43b21f,this[_0x53a552(0x552)]=_0x5bc807,this[_0x53a552(0x5b3)]=_0x113685,this['authService']=_0x30c3a8,this['logger']=new v(c[_0x53a552(0x5f2)]);}async[a0_0x401cf8(0x46b)]({instanceName:_0x93a328,apikey:_0x50334f,number:_0x2cbdb7,proxy:_0x5e1b3c=!0x0}){const _0x3367c4=a0_0x401cf8;try{let _0x42abf6=new fe(this[_0x3367c4(0x3e3)],this[_0x3367c4(0x5b3)],this['repository']);_0x42abf6[_0x3367c4(0x6a3)]=_0x93a328,this['waMonitor'][_0x3367c4(0x5c2)][_0x42abf6[_0x3367c4(0x6a3)]]=_0x42abf6;let _0x432441={};_0x50334f?(await this[_0x3367c4(0x552)][_0x3367c4(0x60c)][_0x3367c4(0x368)]({'apikey':_0x50334f},_0x93a328),_0x432441['apikey']=_0x50334f):_0x432441=await this[_0x3367c4(0x334)]['generateHash']({'instanceName':_0x42abf6[_0x3367c4(0x6a3)]});let _0x43bdf7;return await _0x42abf6[_0x3367c4(0x22e)](_0x2cbdb7,_0x5e1b3c),await(0x0,Cs['delay'])(0x7d0),_0x43bdf7=_0x42abf6[_0x3367c4(0x479)],{'instance':{'instanceName':_0x42abf6[_0x3367c4(0x6a3)],'status':_0x3367c4(0x587)},'hash':_0x432441,'qrcode':_0x43bdf7};}catch(_0x52a84c){this[_0x3367c4(0x2c2)][_0x3367c4(0x654)](_0x52a84c);}}async['connectToWhatsappController']({instanceName:_0x4b8012,number:_0x239155=null,proxy:_0x50a11e=!0x0}){const _0x5adf8c=a0_0x401cf8;try{let _0x2e9528=this[_0x5adf8c(0x4d6)][_0x5adf8c(0x5c2)][_0x4b8012];switch(_0x2e9528?.[_0x5adf8c(0x7c3)]?.[_0x5adf8c(0x268)]){case'close':return await _0x2e9528[_0x5adf8c(0x22e)](_0x239155,_0x50a11e),await(0x0,Cs[_0x5adf8c(0x784)])(0x7d0),_0x2e9528[_0x5adf8c(0x479)];case _0x5adf8c(0x3f8):return _0x2e9528[_0x5adf8c(0x479)];default:return await this[_0x5adf8c(0x545)]({'instanceName':_0x4b8012});}}catch(_0x18d7f3){this[_0x5adf8c(0x2c2)][_0x5adf8c(0x743)](_0x18d7f3);}}async['connectionState']({instanceName:_0x2ae8a1}){const _0x561b1f=a0_0x401cf8;let _0x5c526e=this[_0x561b1f(0x4d6)]['waInstances'][_0x2ae8a1]['connectionStatus'],_0x5f33d7=null;_0x5c526e[_0x561b1f(0x268)]==='open'&&_0x2ae8a1&&(_0x5f33d7=await this[_0x561b1f(0x4d6)][_0x561b1f(0x289)](_0x2ae8a1));let _0x159d21=null;return _0x5c526e[_0x561b1f(0x268)]===_0x561b1f(0x3f8)&&_0x2ae8a1&&(_0x159d21=this[_0x561b1f(0x4d6)][_0x561b1f(0x5c2)][_0x2ae8a1][_0x561b1f(0x479)]),{'instance':_0x2ae8a1,'connectionStatus':_0x5c526e,'instanceInfo':_0x5f33d7,'qrcode':_0x159d21};}async[a0_0x401cf8(0x489)]({instanceName:_0x26238c}){const _0x47f958=a0_0x401cf8;try{return this[_0x47f958(0x4d6)]['waInstances'][_0x26238c]?.[_0x47f958(0x45f)]?.['ws']?.['close'](),{'status':_0x47f958(0x413),'error':!0x1,'response':{'message':_0x47f958(0x4be)}};}catch(_0x11ebec){this['logger'][_0x47f958(0x654)](_0x11ebec);}}async[a0_0x401cf8(0x766)]({instanceName:_0x3742b0}){const _0x1403a1=a0_0x401cf8;return _0x3742b0?this['waMonitor'][_0x1403a1(0x289)](_0x3742b0):this[_0x1403a1(0x4d6)][_0x1403a1(0x289)]();}async['logout']({instanceName:_0x38bfce}){const _0xc660ff=a0_0x401cf8;try{return await this[_0xc660ff(0x4d6)][_0xc660ff(0x5c2)][_0x38bfce]?.[_0xc660ff(0x45f)]?.[_0xc660ff(0x5a2)](_0xc660ff(0x3f0)+_0x38bfce),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x14436a){throw new O(_0x14436a[_0xc660ff(0x596)]());}}async[a0_0x401cf8(0x737)]({instanceName:_0x4ae750}){const _0x55c380=a0_0x401cf8;if((await this['connectionState']({'instanceName':_0x4ae750}))[_0x55c380(0x7c3)]['state']===_0x55c380(0x5a0))throw new h([_0x55c380(0x2ad),_0x55c380(0x734)]);try{return delete this[_0x55c380(0x4d6)]['waInstances'][_0x4ae750],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x4f7190){throw new h(_0x4f7190[_0x55c380(0x596)]());}}},X=require('class-validator'),$t=class{constructor(_0x1941cd){const _0x488016=a0_0x401cf8;this[_0x488016(0x4d6)]=_0x1941cd;}async[a0_0x401cf8(0x398)]({instanceName:_0x347985},_0x434a46){const _0x5f0a69=a0_0x401cf8;return await this[_0x5f0a69(0x4d6)][_0x5f0a69(0x5c2)][_0x347985]['textMessage'](_0x434a46);}async[a0_0x401cf8(0x6e6)]({instanceName:_0x51b742},_0x40bb48){const _0x9346a8=a0_0x401cf8;return await this['waMonitor'][_0x9346a8(0x5c2)][_0x51b742]['menuMessage'](_0x40bb48);}async[a0_0x401cf8(0x2a4)]({instanceName:_0x410ade},_0x15c2a2){const _0x584f6e=a0_0x401cf8;if((0x0,X[_0x584f6e(0x713)])(_0x15c2a2?.[_0x584f6e(0x3ac)]?.[_0x584f6e(0x3de)])&&!_0x15c2a2?.[_0x584f6e(0x3ac)]?.[_0x584f6e(0x72f)])throw new h(_0x584f6e(0x487));if((0x0,X[_0x584f6e(0x79b)])(_0x15c2a2?.[_0x584f6e(0x3ac)]?.[_0x584f6e(0x3de)])||(0x0,X[_0x584f6e(0x713)])(_0x15c2a2?.[_0x584f6e(0x3ac)]?.[_0x584f6e(0x3de)]))return await this[_0x584f6e(0x4d6)][_0x584f6e(0x5c2)][_0x410ade][_0x584f6e(0x3ac)](_0x15c2a2);throw new h(_0x584f6e(0x7e6));}async[a0_0x401cf8(0x614)]({instanceName:_0x404ce6},_0x134449){const _0x1bfc45=a0_0x401cf8;if((0x0,X[_0x1bfc45(0x79b)])(_0x134449[_0x1bfc45(0x4d2)][_0x1bfc45(0x2b6)])||(0x0,X[_0x1bfc45(0x713)])(_0x134449['stickerMessage'][_0x1bfc45(0x2b6)]))return await this[_0x1bfc45(0x4d6)][_0x1bfc45(0x5c2)][_0x404ce6]['mediaSticker'](_0x134449);throw new h(_0x1bfc45(0x7e6));}async[a0_0x401cf8(0x465)]({instanceName:_0x159443},_0x29ece0){const _0x2d7f2c=a0_0x401cf8;if((0x0,X[_0x2d7f2c(0x79b)])(_0x29ece0[_0x2d7f2c(0x488)][_0x2d7f2c(0x35f)])||(0x0,X['isBase64'])(_0x29ece0[_0x2d7f2c(0x488)][_0x2d7f2c(0x35f)]))return await this['waMonitor'][_0x2d7f2c(0x5c2)][_0x159443][_0x2d7f2c(0x51d)](_0x29ece0);throw new h(_0x2d7f2c(0x7e6));}async[a0_0x401cf8(0x590)]({instanceName:_0x2d656f},_0xab660){const _0x3a57be=a0_0x401cf8;if((0x0,X['isBase64'])(_0xab660['buttonMessage'][_0x3a57be(0x3ac)]?.[_0x3a57be(0x3de)])&&!_0xab660['buttonMessage'][_0x3a57be(0x3ac)]?.[_0x3a57be(0x72f)])throw new h(_0x3a57be(0x487));return await this[_0x3a57be(0x4d6)][_0x3a57be(0x5c2)][_0x2d656f][_0x3a57be(0x27f)](_0xab660);}async['sendLocation']({instanceName:_0x20ed0d},_0x48d7f8){const _0x5348a1=a0_0x401cf8;return await this[_0x5348a1(0x4d6)][_0x5348a1(0x5c2)][_0x20ed0d][_0x5348a1(0x472)](_0x48d7f8);}async[a0_0x401cf8(0x216)]({instanceName:_0x8a3f7c},_0x39c752){const _0x3938ec=a0_0x401cf8;return await this[_0x3938ec(0x4d6)][_0x3938ec(0x5c2)][_0x8a3f7c][_0x3938ec(0x42d)](_0x39c752);}async[a0_0x401cf8(0x2e0)]({instanceName:_0x53af80},_0xbe8323){const _0x3dcfad=a0_0x401cf8;return await this[_0x3dcfad(0x4d6)][_0x3dcfad(0x5c2)][_0x53af80][_0x3dcfad(0x7c5)](_0xbe8323);}async[a0_0x401cf8(0x5a3)]({instanceName:_0x157e39},_0x23b5c0){const _0x201897=a0_0x401cf8;return await this[_0x201897(0x4d6)][_0x201897(0x5c2)][_0x157e39]['contactMessage'](_0x23b5c0);}async[a0_0x401cf8(0x418)]({instanceName:_0x3d65d2},_0x2cf574){const _0xedff0b=a0_0x401cf8;if(!_0x2cf574[_0xedff0b(0x3c5)][_0xedff0b(0x735)][_0xedff0b(0x72c)](/[^\(\)\w\sà-ú"-\+]+/))throw new h(_0xedff0b(0x4bc));return await this[_0xedff0b(0x4d6)][_0xedff0b(0x5c2)][_0x3d65d2]['reactionMessage'](_0x2cf574);}async[a0_0x401cf8(0x2d0)]({instanceName:_0x7ddac0},_0x3090d4){const _0x13f893=a0_0x401cf8;return await this[_0x13f893(0x4d6)][_0x13f893(0x5c2)][_0x7ddac0][_0x13f893(0x4ae)](_0x3090d4);}},br=require(a0_0x401cf8(0x237)),Ms=require(a0_0x401cf8(0x749)),kt=class c{constructor(_0x165c84,_0xa9c10f,_0x3d9398){const _0x4352eb=a0_0x401cf8;this['configService']=_0x165c84,this[_0x4352eb(0x4d6)]=_0xa9c10f,this[_0x4352eb(0x552)]=_0x3d9398,this[_0x4352eb(0x2c2)]=new v(c['name']);}async[a0_0x401cf8(0x7a9)](_0x12a320){const _0x4b07fa=a0_0x401cf8;let _0x4d0e93=this[_0x4b07fa(0x3e3)][_0x4b07fa(0x626)]('AUTHENTICATION')['JWT'],_0x1a8bf5=(0x0,br[_0x4b07fa(0x2dc)])({'instanceName':_0x12a320[_0x4b07fa(0x6a3)],'apiName':Ge,'tokenId':(0x0,Ms['v4'])()},_0x4d0e93[_0x4b07fa(0x2c1)],{'expiresIn':_0x4d0e93[_0x4b07fa(0x59d)],'encoding':_0x4b07fa(0x311),'subject':_0x4b07fa(0x6a9)}),_0x549a6f=await this[_0x4b07fa(0x552)][_0x4b07fa(0x60c)][_0x4b07fa(0x368)]({'jwt':_0x1a8bf5},_0x12a320[_0x4b07fa(0x6a3)]);if(_0x549a6f['error'])throw this['logger'][_0x4b07fa(0x654)]({'localError':c[_0x4b07fa(0x5f2)]+'.jwt','error':_0x549a6f[_0x4b07fa(0x654)]}),new h(_0x4b07fa(0x5e9),_0x549a6f[_0x4b07fa(0x654)]?.[_0x4b07fa(0x596)]());return{'jwt':_0x1a8bf5};}async[a0_0x401cf8(0x688)](_0x50f1ea){const _0x483f02=a0_0x401cf8;let _0x5078ac=(0x0,Ms['v4'])()[_0x483f02(0x296)](),_0x4e164e=await this['repository'][_0x483f02(0x60c)][_0x483f02(0x368)]({'apikey':_0x5078ac},_0x50f1ea[_0x483f02(0x6a3)]);if(_0x4e164e['error'])throw this[_0x483f02(0x2c2)][_0x483f02(0x654)]({'localError':c[_0x483f02(0x5f2)]+_0x483f02(0x71e),'error':_0x4e164e[_0x483f02(0x654)]}),new h(_0x483f02(0x5e9),_0x4e164e['error']?.[_0x483f02(0x596)]());return{'apikey':_0x5078ac};}async['generateHash'](_0x472190){const _0x307b99=a0_0x401cf8;let _0x588c16=this[_0x307b99(0x3e3)][_0x307b99(0x626)](_0x307b99(0x469));return await this[_0x588c16[_0x307b99(0x1cb)]](_0x472190);}},Lt=class{constructor(_0x30cc88){const _0x13c92c=a0_0x401cf8;this[_0x13c92c(0x4d6)]=_0x30cc88;}async[a0_0x401cf8(0x41e)](_0x270177,_0x42697d){const _0x50cb20=a0_0x401cf8;return await this[_0x50cb20(0x4d6)][_0x50cb20(0x5c2)][_0x270177[_0x50cb20(0x6a3)]][_0x50cb20(0x41e)](_0x42697d);}async[a0_0x401cf8(0x5ae)](_0x2d7498,_0x3ce317){const _0x49fb39=a0_0x401cf8;return await this[_0x49fb39(0x4d6)][_0x49fb39(0x5c2)][_0x2d7498['instanceName']][_0x49fb39(0x5ae)](_0x3ce317);}async[a0_0x401cf8(0x662)](_0xba7a41,_0x947e95){const _0x5b2f41=a0_0x401cf8;return await this[_0x5b2f41(0x4d6)][_0x5b2f41(0x5c2)][_0xba7a41['instanceName']][_0x5b2f41(0x662)](_0x947e95);}async['groupName'](_0x16f3eb,_0x3c2937){const _0x4565af=a0_0x401cf8;return await this[_0x4565af(0x4d6)]['waInstances'][_0x16f3eb[_0x4565af(0x6a3)]][_0x4565af(0x1e1)](_0x3c2937);}async[a0_0x401cf8(0x50d)](_0x5e64a8,_0x37170f){const _0x2c5b9c=a0_0x401cf8;return await this['waMonitor']['waInstances'][_0x5e64a8[_0x2c5b9c(0x6a3)]][_0x2c5b9c(0x50d)](_0x37170f);}async[a0_0x401cf8(0x265)](_0x10fcb9,_0x40f5c7){const _0x3c7d2f=a0_0x401cf8;return await this[_0x3c7d2f(0x4d6)][_0x3c7d2f(0x5c2)][_0x10fcb9[_0x3c7d2f(0x6a3)]]['findGroup'](_0x40f5c7);}async[a0_0x401cf8(0x341)](_0x508096){const _0x45fde7=a0_0x401cf8;return await this[_0x45fde7(0x4d6)][_0x45fde7(0x5c2)][_0x508096[_0x45fde7(0x6a3)]][_0x45fde7(0x341)]();}async[a0_0x401cf8(0x65c)](_0x2be622,_0x49dfd0){const _0x3f377c=a0_0x401cf8;return await this[_0x3f377c(0x4d6)]['waInstances'][_0x2be622[_0x3f377c(0x6a3)]][_0x3f377c(0x65c)](_0x49dfd0);}async['joinGroup'](_0x595299,_0x419f8e){const _0x385462=a0_0x401cf8;return await this['waMonitor'][_0x385462(0x5c2)][_0x595299['instanceName']]['joinGroup'](_0x419f8e);}async[a0_0x401cf8(0x356)](_0x3a7367,_0x14e239){const _0x39fc6b=a0_0x401cf8;return await this[_0x39fc6b(0x4d6)]['waInstances'][_0x3a7367[_0x39fc6b(0x6a3)]][_0x39fc6b(0x356)](_0x14e239);}async['findParticipants'](_0x59392a,_0x474d13){const _0x915e3c=a0_0x401cf8;return await this[_0x915e3c(0x4d6)][_0x915e3c(0x5c2)][_0x59392a[_0x915e3c(0x6a3)]]['findParticipants'](_0x474d13);}async[a0_0x401cf8(0x33d)](_0x51e1a2,_0x3b95ef){const _0x16210b=a0_0x401cf8;return await this[_0x16210b(0x4d6)][_0x16210b(0x5c2)][_0x51e1a2['instanceName']]['updateGParticipant'](_0x3b95ef);}async[a0_0x401cf8(0x41b)](_0xe96c30,_0x1e0ade){const _0x137a05=a0_0x401cf8;return await this['waMonitor'][_0x137a05(0x5c2)][_0xe96c30[_0x137a05(0x6a3)]][_0x137a05(0x41b)](_0x1e0ade);}async[a0_0x401cf8(0x78a)](_0xa2cb26,_0x4c110a){const _0xef2d64=a0_0x401cf8;return await this['waMonitor'][_0xef2d64(0x5c2)][_0xa2cb26['instanceName']][_0xef2d64(0x78a)](_0x4c110a);}},Ft=class{constructor(_0x3a03df){const _0x55eb4d=a0_0x401cf8;this[_0x55eb4d(0x4d6)]=_0x3a03df;}[a0_0x401cf8(0x368)](_0x1ac5d6,_0x110b1d){const _0x4e367c=a0_0x401cf8;return this['waMonitor'][_0x4e367c(0x5c2)][_0x1ac5d6[_0x4e367c(0x6a3)]][_0x4e367c(0x75d)](_0x110b1d);}async[a0_0x401cf8(0x7d2)](_0x1936b0){const _0x2879cc=a0_0x401cf8;try{return await this['waMonitor'][_0x2879cc(0x5c2)][_0x1936b0[_0x2879cc(0x6a3)]][_0x2879cc(0x2b1)]();}catch{return{'enabled':null,'url':''};}}},Qd=new v(a0_0x401cf8(0x4ca)),Ut=class{constructor(_0x436d33){this['waMonitor']=_0x436d33;}async[a0_0x401cf8(0x286)](_0x1b9a46,_0x546a8f){const _0x1002b2=a0_0x401cf8;return await this['waMonitor'][_0x1002b2(0x5c2)][_0x1b9a46[_0x1002b2(0x6a3)]]['editScheduleMessage'](_0x546a8f);}async[a0_0x401cf8(0x709)](_0x1d1791){const _0x14e4b4=a0_0x401cf8;return await this['waMonitor'][_0x14e4b4(0x5c2)][_0x1d1791[_0x14e4b4(0x6a3)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x29251f){const _0x74ba7b=a0_0x401cf8;return await this[_0x74ba7b(0x4d6)][_0x74ba7b(0x5c2)][_0x29251f['instanceName']][_0x74ba7b(0x2ce)]();}async[a0_0x401cf8(0x81c)](_0x53ae3a){const _0x41f577=a0_0x401cf8;return await this['waMonitor'][_0x41f577(0x5c2)][_0x53ae3a['instanceName']][_0x41f577(0x81c)]();}async[a0_0x401cf8(0x345)](_0x9ff226,_0x147c6a){const _0x4dadfa=a0_0x401cf8;return await this[_0x4dadfa(0x4d6)]['waInstances'][_0x9ff226['instanceName']][_0x4dadfa(0x345)](_0x147c6a);}async[a0_0x401cf8(0x417)](_0x5322c1,_0x404288){const _0x3de0df=a0_0x401cf8;return await this[_0x3de0df(0x4d6)]['waInstances'][_0x5322c1['instanceName']][_0x3de0df(0x417)](_0x404288);}async[a0_0x401cf8(0x34f)](_0x39aaa0,_0x153fd3){const _0x4c17e3=a0_0x401cf8;return await this[_0x4c17e3(0x4d6)][_0x4c17e3(0x5c2)][_0x39aaa0['instanceName']][_0x4c17e3(0x34f)](_0x153fd3);}async[a0_0x401cf8(0x68d)](_0x48b523,_0x4e1764){const _0x505676=a0_0x401cf8;return await this['waMonitor'][_0x505676(0x5c2)][_0x48b523[_0x505676(0x6a3)]][_0x505676(0x68d)](_0x4e1764);}async['getConversation'](_0x42e12e,_0x545488){const _0x1c74cb=a0_0x401cf8;return await this[_0x1c74cb(0x4d6)][_0x1c74cb(0x5c2)][_0x42e12e[_0x1c74cb(0x6a3)]][_0x1c74cb(0x52d)](_0x545488);}async[a0_0x401cf8(0x6b6)](_0x207faa,_0x37925a){const _0x1ca3c2=a0_0x401cf8;return await this[_0x1ca3c2(0x4d6)][_0x1ca3c2(0x5c2)][_0x207faa[_0x1ca3c2(0x6a3)]][_0x1ca3c2(0x6b6)](_0x37925a);}async['editConversation'](_0x5b8b3e,_0x439c26){const _0x397ff1=a0_0x401cf8;return await this[_0x397ff1(0x4d6)]['waInstances'][_0x5b8b3e[_0x397ff1(0x6a3)]][_0x397ff1(0x397)](_0x439c26);}async[a0_0x401cf8(0x3fd)](_0x45c898,_0x130969){const _0x477767=a0_0x401cf8;return await this[_0x477767(0x4d6)]['waInstances'][_0x45c898[_0x477767(0x6a3)]][_0x477767(0x3fd)](_0x130969);}async['getFlow'](_0x57c0bf,_0x31092f){const _0x282de8=a0_0x401cf8;return await this[_0x282de8(0x4d6)]['waInstances'][_0x57c0bf[_0x282de8(0x6a3)]]['getFlow'](_0x31092f[_0x282de8(0x5f2)]);}async[a0_0x401cf8(0x490)](_0x33618a,_0x51d7bc){const _0x5672d3=a0_0x401cf8;return await this['waMonitor']['waInstances'][_0x33618a['instanceName']][_0x5672d3(0x490)](_0x51d7bc);}async[a0_0x401cf8(0x2d1)](_0x57837f,_0x4354c3){const _0x1072d7=a0_0x401cf8;return await this[_0x1072d7(0x4d6)][_0x1072d7(0x5c2)][_0x57837f[_0x1072d7(0x6a3)]][_0x1072d7(0x2d1)](_0x4354c3);}async[a0_0x401cf8(0x443)](_0xb4c36b,_0x1b134f){const _0x3b9a63=a0_0x401cf8;return await this['waMonitor'][_0x3b9a63(0x5c2)][_0xb4c36b[_0x3b9a63(0x6a3)]]['editFlowBlock'](_0x1b134f);}async[a0_0x401cf8(0x426)](_0x721e0e,_0x5abeb8){const _0x4d4120=a0_0x401cf8;return await this[_0x4d4120(0x4d6)][_0x4d4120(0x5c2)][_0x721e0e[_0x4d4120(0x6a3)]][_0x4d4120(0x426)](_0x5abeb8);}async[a0_0x401cf8(0x239)](_0x19a248,_0xf76d){const _0x52b7e3=a0_0x401cf8;return await this['waMonitor']['waInstances'][_0x19a248[_0x52b7e3(0x6a3)]][_0x52b7e3(0x239)](_0xf76d);}async[a0_0x401cf8(0x24b)](_0x19f7d7,_0x4b88ab){const _0x438375=a0_0x401cf8;return await this['waMonitor'][_0x438375(0x5c2)][_0x19f7d7['instanceName']][_0x438375(0x24b)](_0x4b88ab);}async[a0_0x401cf8(0x6d3)](_0xa2d244,_0x6ab899){const _0x3a4af1=a0_0x401cf8;return await this[_0x3a4af1(0x4d6)][_0x3a4af1(0x5c2)][_0xa2d244[_0x3a4af1(0x6a3)]][_0x3a4af1(0x6d3)](_0x6ab899);}async[a0_0x401cf8(0x3d7)](_0x38aaa1,_0x38e777){const _0x1f55b8=a0_0x401cf8;return await this[_0x1f55b8(0x4d6)]['waInstances'][_0x38aaa1['instanceName']][_0x1f55b8(0x3d7)](_0x38e777);}async[a0_0x401cf8(0x344)](_0x118f40,_0x28a447){const _0x299430=a0_0x401cf8;return await this[_0x299430(0x4d6)]['waInstances'][_0x118f40['instanceName']][_0x299430(0x344)](_0x28a447[_0x299430(0x5f2)]);}async[a0_0x401cf8(0x454)](_0x12bdfb){const _0x2885f4=a0_0x401cf8;return await this[_0x2885f4(0x4d6)][_0x2885f4(0x5c2)][_0x12bdfb[_0x2885f4(0x6a3)]]['allFlows']();}},Jt=class{constructor(_0x32d84a){const _0x37f197=a0_0x401cf8;this[_0x37f197(0x6a2)]=_0x32d84a;}async[a0_0x401cf8(0x58d)](_0x5b20d9,_0x4b9d60){const _0x23dada=a0_0x401cf8;return this[_0x23dada(0x6a2)][_0x23dada(0x368)](_0x5b20d9,_0x4b9d60);}async[a0_0x401cf8(0x2b1)](_0x311661){const _0x231ac3=a0_0x401cf8;return this[_0x231ac3(0x6a2)][_0x231ac3(0x7d2)](_0x311661);}},jt=class extends I{constructor(_0x4aaebd,_0x496729){const _0x55c549=a0_0x401cf8;super(_0x496729),this[_0x55c549(0x514)]=_0x4aaebd,this[_0x55c549(0x3e3)]=_0x496729;}async[a0_0x401cf8(0x368)](_0x386ff6,_0x56a6be){const _0x1e2fb2=a0_0x401cf8;try{return this['dbSettings'][_0x1e2fb2(0x516)]?{'insertCount':(await this[_0x1e2fb2(0x514)]['replaceOne']({'_id':_0x56a6be},{..._0x386ff6},{'upsert':!0x0}))[_0x1e2fb2(0x3d8)]}:{'insertCount':0x1};}catch(_0x586864){return _0x586864;}}async['delete'](_0x201c99){const _0x541892=a0_0x401cf8;try{if(this[_0x541892(0x2fe)][_0x541892(0x516)]){await this['webhookModel'][_0x541892(0x71c)]({'_id':_0x201c99});return;}}catch(_0xdd6ce5){return{'error':_0xdd6ce5};}}async[a0_0x401cf8(0x7d2)](_0x110bf8){const _0x471655=a0_0x401cf8;try{if(this[_0x471655(0x2fe)][_0x471655(0x516)])return await this[_0x471655(0x514)][_0x471655(0x4d8)]({'_id':_0x110bf8});}catch{return{};}}},qt=class extends I{constructor(_0x3d1043,_0x2b2926){const _0xc2b28c=a0_0x401cf8;super(_0x2b2926),this[_0xc2b28c(0x4eb)]=_0x3d1043,this[_0xc2b28c(0x3e3)]=_0x2b2926,this[_0xc2b28c(0x60c)]=_0x2b2926[_0xc2b28c(0x626)]('AUTHENTICATION');}async['create'](_0x3f9c99,_0x49e3d4){const _0x2f9ac6=a0_0x401cf8;try{if(this[_0x2f9ac6(0x2fe)]['ENABLED'])return{'insertCount':(await this[_0x2f9ac6(0x4eb)][_0x2f9ac6(0x6c6)]({'_id':_0x49e3d4},{'$set':{..._0x3f9c99}},{'upsert':!0x0}))[_0x2f9ac6(0x3d8)]};}catch(_0x4b0e03){return{'error':_0x4b0e03};}}async[a0_0x401cf8(0x708)](_0x3b0f77,_0x33d054){const _0x59b7b0=a0_0x401cf8;try{if(this[_0x59b7b0(0x2fe)]['ENABLED'])return{'insertCount':(await this[_0x59b7b0(0x4eb)][_0x59b7b0(0x243)](_0x3b0f77,{'$set':_0x33d054},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x16f47e){return{'error':_0x16f47e};}}async[a0_0x401cf8(0x28f)](_0x570a2a){const _0x437dbe=a0_0x401cf8;try{if(this[_0x437dbe(0x2fe)][_0x437dbe(0x516)])return{'insertCount':(await this['authModel'][_0x437dbe(0x28f)](_0x570a2a))[_0x437dbe(0x336)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x532541){return{'error':_0x532541};}}async[a0_0x401cf8(0x46c)](_0x3f4f5e){const _0x21e8cb=a0_0x401cf8;try{if(this['dbSettings'][_0x21e8cb(0x516)]){await this['authModel'][_0x21e8cb(0x71c)]({'_id':_0x3f4f5e});return;}}catch(_0x2e72e8){return{'error':_0x2e72e8};}}async[a0_0x401cf8(0x7d2)](_0x1a22e7){const _0x3641aa=a0_0x401cf8;try{if(this[_0x3641aa(0x2fe)][_0x3641aa(0x516)])return await this[_0x3641aa(0x4eb)]['findOne']({'_id':_0x1a22e7});}catch{return{};}}async[a0_0x401cf8(0x37d)](){const _0x1df925=a0_0x401cf8;try{if(this[_0x1df925(0x2fe)]['ENABLED'])return await this[_0x1df925(0x4eb)][_0x1df925(0x7d2)]();}catch{return[];}}},Vt=class extends I{[a0_0x401cf8(0x64f)](_0x2b099c){return Zs(_0x2b099c);}async['copyDataToNewModel'](_0x30dc30){const _0x59f445=a0_0x401cf8;try{let _0x1981df=ea,_0x15eca8=this[_0x59f445(0x64f)](_0x30dc30),_0x440eb5=await _0x1981df[_0x59f445(0x7d2)]({'owner':_0x30dc30})[_0x59f445(0x366)](),_0x5337e2=[],_0x19736d=[];for(let _0x19ec90 of _0x440eb5)await _0x15eca8[_0x59f445(0x751)](_0x19ec90[_0x59f445(0x1ce)])[_0x59f445(0x366)]()||(_0x5337e2[_0x59f445(0x5c5)](_0x19ec90),_0x19736d[_0x59f445(0x5c5)](_0x19ec90['_id']));return _0x5337e2['length']>0x0&&await _0x15eca8[_0x59f445(0x1d8)](_0x5337e2,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4dde8d){return console['error'](_0x59f445(0x803),_0x4dde8d),{'success':!0x1,'error':_0x4dde8d};}}async[a0_0x401cf8(0x46c)](_0x4c1847,_0x19dfb8){const _0x34dd8e=a0_0x401cf8;try{let _0x3abaf1=this[_0x34dd8e(0x64f)](_0x19dfb8),_0x59dca1=T(_0x4c1847['where']);return{'deletedCount':(await _0x3abaf1[_0x34dd8e(0x28f)](_0x59dca1))[_0x34dd8e(0x336)]};}catch(_0x2b5b7f){return{'error':_0x2b5b7f?.[_0x34dd8e(0x596)]()};}}async[a0_0x401cf8(0x71c)](_0x100ef7,_0x5c8ca8){const _0x216e77=a0_0x401cf8;try{let _0x3ff6d7=this['getFlowModelForOwner'](_0x5c8ca8),_0x44deb1=T(_0x100ef7[_0x216e77(0x620)]);return{'deletedCount':(await _0x3ff6d7[_0x216e77(0x71c)](_0x44deb1))[_0x216e77(0x336)]};}catch(_0x4a94e8){return{'error':_0x4a94e8?.[_0x216e77(0x596)]()};}}async[a0_0x401cf8(0x6c6)](_0x76feac,_0x1f07d2,_0x4510fe){const _0x5dc91b=a0_0x401cf8;try{return await this[_0x5dc91b(0x64f)](_0x4510fe)[_0x5dc91b(0x45d)](_0x76feac,_0x1f07d2,{'new':!0x0});}catch(_0x572206){return console[_0x5dc91b(0x654)](_0x5dc91b(0x3f1),_0x572206),null;}}async[a0_0x401cf8(0x66b)](_0xaea550,_0x850a65){const _0x165a1e=a0_0x401cf8;try{let _0x40fa77=this[_0x165a1e(0x64f)](_0x850a65);return await new _0x40fa77(_0xaea550)[_0x165a1e(0x4f5)]();}catch(_0x5edaaa){return console[_0x165a1e(0x654)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x5edaaa),null;}}async[a0_0x401cf8(0x243)](_0x5e7205,_0x5c6999,_0x55f609){const _0x30d673=a0_0x401cf8;try{return{'modifiedCount':(await this[_0x30d673(0x64f)](_0x55f609)[_0x30d673(0x243)](_0x5e7205,{'$set':_0x5c6999}))['modifiedCount']};}catch(_0x200995){return console[_0x30d673(0x654)](_0x30d673(0x27b),_0x200995),{'error':_0x200995};}}async[a0_0x401cf8(0x37d)](_0x159359,_0x39114d){const _0x37e432=a0_0x401cf8;try{let _0x337cf7=this[_0x37e432(0x64f)](_0x39114d),_0x1dcb02=T(_0x159359[_0x37e432(0x620)]);return await _0x337cf7['find'](_0x1dcb02)[_0x37e432(0x6c7)](_0x159359?.[_0x37e432(0x6c7)]??0x0)['lean']();}catch{return[];}}async[a0_0x401cf8(0x4d8)](_0x31a4b4,_0x33e730){const _0x3f8bd0=a0_0x401cf8;try{let _0x59443f=this['getFlowModelForOwner'](_0x33e730),_0x49050c=T(_0x31a4b4[_0x3f8bd0(0x620)]);return await _0x59443f[_0x3f8bd0(0x4d8)](_0x49050c)[_0x3f8bd0(0x366)]();}catch{return null;}}async[a0_0x401cf8(0x1d3)](_0x4eab8a){const _0x52a913=a0_0x401cf8;try{return await this[_0x52a913(0x64f)](_0x4eab8a)['collection']['drop'](),{'success':!0x0};}catch(_0x3a8218){return console[_0x52a913(0x654)](_0x3a8218),{'success':!0x1,'error':_0x3a8218};}}},Bt=class extends I{['getConversationModelForOwner'](_0x16b558){return sa(_0x16b558);}async[a0_0x401cf8(0x809)](_0x2eb41e){const _0x4e5fd2=a0_0x401cf8;try{let _0x9c3854=aa,_0x40a697=this[_0x4e5fd2(0x4cb)](_0x2eb41e),_0x265c88=await _0x9c3854['find']({'owner':_0x2eb41e})[_0x4e5fd2(0x366)](),_0x23a06b=[],_0x3a3a59=[];for(let _0x38c6a8 of _0x265c88)await _0x40a697[_0x4e5fd2(0x751)](_0x38c6a8[_0x4e5fd2(0x1ce)])[_0x4e5fd2(0x366)]()||(_0x23a06b['push'](_0x38c6a8),_0x3a3a59[_0x4e5fd2(0x5c5)](_0x38c6a8[_0x4e5fd2(0x1ce)]));return _0x23a06b[_0x4e5fd2(0x24f)]>0x0&&await _0x40a697[_0x4e5fd2(0x1d8)](_0x23a06b,{'ordered':!0x1}),{'success':!0x0};}catch(_0x19dea2){return console[_0x4e5fd2(0x654)](_0x4e5fd2(0x803),_0x19dea2),{'success':!0x1,'error':_0x19dea2};}}async[a0_0x401cf8(0x5a4)](_0x32436a){const _0x1da903=a0_0x401cf8;if(_0x32436a['length']!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x32436a[0x0][_0x1da903(0x81e)])['insertMany']([..._0x32436a]))[_0x1da903(0x24f)]};}catch(_0xe06dc){return _0xe06dc;}}async[a0_0x401cf8(0x46c)](_0x6990e,_0x241b18){const _0x55e200=a0_0x401cf8;try{let _0x400209=this[_0x55e200(0x4cb)](_0x241b18),_0x34ff01=T(_0x6990e[_0x55e200(0x620)]);return{'deletedCount':(await _0x400209[_0x55e200(0x28f)](_0x34ff01))['deletedCount']};}catch(_0x4a19dd){return{'error':_0x4a19dd?.[_0x55e200(0x596)]()};}}async[a0_0x401cf8(0x71c)](_0x543d32,_0x10a19c){const _0x3363ac=a0_0x401cf8;try{let _0x4235b5=this[_0x3363ac(0x4cb)](_0x10a19c),_0x47b152=T(_0x543d32['where']);return{'deletedCount':(await _0x4235b5[_0x3363ac(0x71c)](_0x47b152))[_0x3363ac(0x336)]};}catch(_0x3f0e8e){return{'error':_0x3f0e8e?.[_0x3363ac(0x596)]()};}}async[a0_0x401cf8(0x4b1)](_0x862ac5,_0x516c54){const _0xb0c551=a0_0x401cf8;try{if(_0x862ac5[_0xb0c551(0x24f)]===0x0)return;let _0x1aba07=this[_0xb0c551(0x4cb)](_0x516c54),_0x541806=_0x862ac5['map'](_0x154c6a=>({'updateOne':{'filter':{'name':_0x154c6a[_0xb0c551(0x5f2)],'owner':_0x516c54},'update':{..._0x154c6a}}})),{modifiedCount:_0x4715bc}=await _0x1aba07[_0xb0c551(0x644)](_0x541806);return{'insertCount':_0x4715bc};}catch{return;}}async[a0_0x401cf8(0x243)](_0x3bddec,_0x3d1bcc,_0x22edd9){const _0x42f063=a0_0x401cf8;try{return{'modifiedCount':(await this[_0x42f063(0x4cb)](_0x22edd9)[_0x42f063(0x243)](_0x3bddec,{'$set':_0x3d1bcc}))[_0x42f063(0x3d8)]};}catch(_0x2fbcc2){return console['error'](_0x42f063(0x4f9),_0x2fbcc2),{'error':_0x2fbcc2};}}async[a0_0x401cf8(0x6c6)](_0x4c7617,_0x45cb79,_0x1dbe58){const _0x35981b=a0_0x401cf8;try{return await this[_0x35981b(0x4cb)](_0x1dbe58)[_0x35981b(0x1c9)]({'_id':_0x4c7617},{'$set':_0x45cb79},{'new':!0x0,'upsert':!0x0})[_0x35981b(0x366)]();}catch(_0x27fb19){return console[_0x35981b(0x654)](_0x27fb19),null;}}async['find'](_0x3d393b,_0x26eeb8){const _0x4f6980=a0_0x401cf8;try{let _0x3f4d60=this[_0x4f6980(0x4cb)](_0x26eeb8),_0x7a2d88=T(_0x3d393b[_0x4f6980(0x620)]);return await _0x3f4d60[_0x4f6980(0x7d2)](_0x7a2d88)[_0x4f6980(0x6c7)](_0x3d393b?.[_0x4f6980(0x6c7)]??0x0)[_0x4f6980(0x3cc)]({'lastInteraction':-0x1})[_0x4f6980(0x366)]();}catch{return[];}}async[a0_0x401cf8(0x4d8)](_0x22a78f,_0x5024ee){const _0x2d23a0=a0_0x401cf8;try{return await this[_0x2d23a0(0x4cb)](_0x5024ee)['findOne']({..._0x22a78f[_0x2d23a0(0x620)]})[_0x2d23a0(0x366)]();}catch{return null;}}async[a0_0x401cf8(0x1d3)](_0x2cc343){const _0x4430bc=a0_0x401cf8;try{return await this[_0x4430bc(0x4cb)](_0x2cc343)[_0x4430bc(0x230)][_0x4430bc(0x3d6)](),{'success':!0x0};}catch(_0x5bff66){return console[_0x4430bc(0x654)](_0x5bff66),{'success':!0x1,'error':_0x5bff66};}}},Gt=class extends I{[a0_0x401cf8(0x728)](_0x4810e2){return oa(_0x4810e2);}async['copyDataToNewModel'](_0x264037){const _0x570783=a0_0x401cf8;try{let _0x8843f9=ia,_0x14f737=this['getScheduleMessageModelForOwner'](_0x264037),_0x2d8eb9=await _0x8843f9['find']({'owner':_0x264037})['lean'](),_0x4a06f2=[],_0x537fa8=[];for(let _0x1aafae of _0x2d8eb9)await _0x14f737[_0x570783(0x751)](_0x1aafae[_0x570783(0x1ce)])[_0x570783(0x366)]()||(_0x4a06f2[_0x570783(0x5c5)](_0x1aafae),_0x537fa8[_0x570783(0x5c5)](_0x1aafae[_0x570783(0x1ce)]));return _0x4a06f2[_0x570783(0x24f)]>0x0&&await _0x14f737[_0x570783(0x1d8)](_0x4a06f2,{'ordered':!0x1}),{'success':!0x0};}catch(_0xaf9ba){return console['error'](_0x570783(0x803),_0xaf9ba),{'success':!0x1,'error':_0xaf9ba};}}async[a0_0x401cf8(0x66b)](_0x5f0755,_0x120026){const _0x30dbdc=a0_0x401cf8;try{let _0x35242f=this['getScheduleMessageModelForOwner'](_0x120026);return await new _0x35242f(_0x5f0755)[_0x30dbdc(0x4f5)]();}catch(_0x396e89){return console[_0x30dbdc(0x654)](_0x30dbdc(0x5fd),_0x396e89),null;}}async[a0_0x401cf8(0x71c)](_0xbb706,_0x5b227e){const _0x2219c5=a0_0x401cf8;try{return await this[_0x2219c5(0x728)](_0x5b227e)[_0x2219c5(0x1ff)](_0xbb706),{};}catch(_0x1dc9e8){return{'error':_0x1dc9e8?.[_0x2219c5(0x596)]()};}}async[a0_0x401cf8(0x6c6)](_0x26c234,_0x5a7ae2,_0x78937f){const _0x354e18=a0_0x401cf8;try{return await this['getScheduleMessageModelForOwner'](_0x78937f)['findOneAndUpdate'](_0x26c234,{'$set':_0x5a7ae2})[_0x354e18(0x366)]();}catch(_0x2cfcb2){return console[_0x354e18(0x654)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x2cfcb2),null;}}async[a0_0x401cf8(0x513)](_0xb189e0,_0x325ad5,_0x1c881f){const _0x313368=a0_0x401cf8;try{return await this[_0x313368(0x728)](_0x1c881f)[_0x313368(0x45d)](_0xb189e0,{'$set':_0x325ad5})['lean']();}catch(_0x2201e8){return console[_0x313368(0x654)](_0x313368(0x337),_0x2201e8),null;}}async[a0_0x401cf8(0x7d2)](_0x18ea12,_0x5c5dda){const _0x1160d2=a0_0x401cf8;try{let _0x134c82=this[_0x1160d2(0x728)](_0x5c5dda),_0x255ba7=T(_0x18ea12[_0x1160d2(0x620)]);return await _0x134c82[_0x1160d2(0x7d2)](_0x255ba7)[_0x1160d2(0x6c7)](_0x18ea12?.[_0x1160d2(0x6c7)]??0x0)['sort']({'when':0x1})[_0x1160d2(0x366)]();}catch{return[];}}async[a0_0x401cf8(0x4d8)](_0x141d40,_0x4fb3ae){const _0x5b1ffb=a0_0x401cf8;try{let _0x38b125=this[_0x5b1ffb(0x728)](_0x4fb3ae),_0x40414f=T(_0x141d40[_0x5b1ffb(0x620)]);return await _0x38b125[_0x5b1ffb(0x4d8)](_0x40414f)['sort']({'when':0x1})[_0x5b1ffb(0x366)]();}catch{return null;}}async[a0_0x401cf8(0x751)](_0xc79e0e,_0x1bf3cb){const _0x488bbf=a0_0x401cf8;try{return await this[_0x488bbf(0x728)](_0x1bf3cb)[_0x488bbf(0x751)](_0xc79e0e)[_0x488bbf(0x366)]();}catch{return null;}}async['deleteMany'](_0x5143cf,_0x4f7a1e){const _0x521c8f=a0_0x401cf8;try{return{'deletedCount':(await this[_0x521c8f(0x728)](_0x4f7a1e)[_0x521c8f(0x28f)](_0x5143cf))[_0x521c8f(0x336)]};}catch(_0x3dd488){return console['error'](_0x521c8f(0x442),_0x3dd488),{'error':_0x3dd488};}}async['deleteAll'](_0x314998){const _0x236cb4=a0_0x401cf8;try{return await this['getScheduleMessageModelForOwner'](_0x314998)['collection'][_0x236cb4(0x3d6)](),{'success':!0x0};}catch(_0x5028e5){return console['error'](_0x5028e5),{'success':!0x1,'error':_0x5028e5};}}},Wt=class extends I{async['update'](_0x26c74a,_0x5a5bfa){const _0xeac6b5=a0_0x401cf8;try{if(this[_0xeac6b5(0x2fe)][_0xeac6b5(0x516)]){let _0x1312a4=await xe[_0xeac6b5(0x1c9)]({'_id':_0x5a5bfa},{'$set':_0x26c74a},{'new':!0x0});return console[_0xeac6b5(0x743)](_0xeac6b5(0x210),_0x1312a4),_0x1312a4;}}catch(_0x16e432){throw console[_0xeac6b5(0x654)](_0xeac6b5(0x580),_0x16e432),_0x16e432;}}async['findOrCreate'](_0x24622f){const _0x375622=a0_0x401cf8;try{let _0x159cc2=await xe[_0x375622(0x751)](_0x24622f);return _0x159cc2||(_0x159cc2=new xe({'_id':_0x24622f}),await _0x159cc2[_0x375622(0x4f5)]()),_0x159cc2;}catch(_0x263857){return console[_0x375622(0x654)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x263857),null;}}},fo=new v('WA\x20MODULE'),yo=new $e(b),wo=new Dt(b),bo=new He(b),So=new jt(Hs,b),Eo=new qt(Gs,b),Co=new Vt(b),Mo=new xt(b),vo=new Bt(b),No=new Gt(b),Ro=new Wt(b),ne=new _e(yo,wo,bo,So,Eo,Co,vo,Mo,No,Ro,N?.[a0_0x401cf8(0x7f9)]()),V=new It(Yt,b,ne),To=new kt(b,V,ne),Ao=new Ft(V),us=new Jt(Ao),A=new Ut(V),ae=new Pt(V,b,ne,Yt,To),B=new $t(V),D=new _t(V),U=new Lt(V);fo[a0_0x401cf8(0x3ee)]('Module\x20-\x20ON');var gg=require('express-async-errors'),vs=require('fs'),Sr=R(require('https')),Er=R(require(a0_0x401cf8(0x247))),Ce=class c{static #e;static set[a0_0x401cf8(0x256)](_0xeb130){this.#e=_0xeb130;}static get[a0_0x401cf8(0x407)](){const _0x37deba=a0_0x401cf8;let {FULLCHAIN:_0xaad592,PRIVKEY:_0x58897b}=b[_0x37deba(0x626)](_0x37deba(0x57c));return Sr[_0x37deba(0x742)]({'cert':(0x0,vs[_0x37deba(0x5f9)])(_0xaad592),'key':(0x0,vs[_0x37deba(0x5f9)])(_0x58897b)},c.#e);}static get[a0_0x401cf8(0x247)](){const _0x4d914d=a0_0x401cf8;return Er[_0x4d914d(0x742)](c.#e);}},le=R(require('fs')),Tr=R(require(a0_0x401cf8(0x252))),Me=R(require(a0_0x401cf8(0x62e))),Ne=R(require(a0_0x401cf8(0x5d3))),Re=require(a0_0x401cf8(0x324));function Oo(){const _0x4e8617=a0_0x401cf8;V[_0x4e8617(0x26f)]();let _0x528926=Ne[_0x4e8617(0x787)][_0x4e8617(0x6fa)](__dirname,'downloads');Rr(_0x528926);}var Rr=_0x172658=>{const _0x4f3666=a0_0x401cf8;let _0x49f3b4=le[_0x4f3666(0x787)][_0x4f3666(0x629)](_0x172658),_0x4a4c72=0xc*0x3c*0x3c*0x3e8,_0x57a72d=0x2*0x3c*0x3c*0x3e8,_0x49536d=new Date()[_0x4f3666(0x308)]();_0x49f3b4[_0x4f3666(0x306)](_0x3d9545=>{const _0x49ac41=_0x4f3666;let _0x3b2457=Ne[_0x49ac41(0x787)]['join'](_0x172658,_0x3d9545),_0x4fbd84=le[_0x49ac41(0x787)][_0x49ac41(0x6c3)](_0x3b2457)[_0x49ac41(0x6c0)][_0x49ac41(0x308)]();_0x49536d-_0x4fbd84>_0x4a4c72&&(le[_0x49ac41(0x787)][_0x49ac41(0x5cb)](_0x3b2457),console[_0x49ac41(0x743)](_0x49ac41(0x50b)+_0x3d9545));}),setTimeout(()=>Rr(_0x172658),_0x57a72d);};function Io(){const _0x221cff=a0_0x401cf8;let _0xda528=new v(_0x221cff(0x225)),_0x3090d6=(0x0,ue['default'])();_0x3090d6[_0x221cff(0x74e)]((0x0,Nr[_0x221cff(0x787)])({'origin'(_0x2b7f94,_0x3bd98c){const _0x2a2486=_0x221cff;let {ORIGIN:_0x3ae4ae}=b['get'](_0x2a2486(0x604));return _0x2b7f94||(_0x2b7f94='*'),_0x3ae4ae[_0x2a2486(0x508)]('*')!==-0x1||_0x3ae4ae[_0x2a2486(0x508)](_0x2b7f94)!==-0x1?_0x3bd98c(null,!0x0):_0x3bd98c(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x221cff(0x626)](_0x221cff(0x604))[_0x221cff(0x424)]],'credentials':b[_0x221cff(0x626)]('CORS')[_0x221cff(0x672)]}),(0x0,ue[_0x221cff(0x38a)])({'extended':!0x0,'limit':'50mb'}),(0x0,ue[_0x221cff(0x1e6)])({'limit':_0x221cff(0x607)})),_0x3090d6[_0x221cff(0x74e)]((_0x45cde3,_0x498192,_0x15413c)=>{const _0xa5437b=_0x221cff;_0x45cde3[_0xa5437b(0x5d3)][_0xa5437b(0x595)](_0xa5437b(0x270))?_0x15413c():(0x0,vr[_0xa5437b(0x787)])()(_0x45cde3,_0x498192,_0x15413c);}),_0x3090d6['set'](_0x221cff(0x2e4),_0x221cff(0x617)),_0x3090d6['set'](_0x221cff(0x792),(0x0,Rs[_0x221cff(0x6fa)])(se,_0x221cff(0x792))),_0x3090d6['use'](ue[_0x221cff(0x787)][_0x221cff(0x5c3)]((0x0,Rs[_0x221cff(0x6fa)])(se,_0x221cff(0x281)))),_0x3090d6[_0x221cff(0x74e)]((_0x74323c,_0x2b0fdd,_0x18908f)=>{const _0x45b297=_0x221cff;let _0x37c1c1=_0x2b0fdd[_0x45b297(0x783)];_0x2b0fdd[_0x45b297(0x783)]=function(_0x271e95){const _0x3e7f9d=_0x45b297;if(_0x74323c['query'][_0x3e7f9d(0x6b1)]==='true'||_0x74323c[_0x3e7f9d(0x785)][_0x3e7f9d(0x1d7)]===_0x3e7f9d(0x2b9)){let _0x42d833=JSON['parse'](_0x271e95);_0x271e95=JSON['stringify'](_0x298b8f(_0x42d833));}return _0x37c1c1[_0x3e7f9d(0x54c)](_0x2b0fdd,[_0x271e95]);},_0x18908f();}),_0x3090d6[_0x221cff(0x74e)]('/',Ct),_0x3090d6[_0x221cff(0x74e)]((_0x4e9831,_0x15fd5e,_0x2adea2,_0x515a65)=>{const _0x51235f=_0x221cff;if(_0x4e9831)return _0x2adea2[_0x51235f(0x776)](_0x4e9831[_0x51235f(0x776)]||0x1f4)[_0x51235f(0x1e6)](_0x4e9831);},(_0x1af19a,_0x477c47,_0xbfc902)=>{const _0x189196=_0x221cff;let {method:_0xf93610,url:_0x3128c9}=_0x1af19a;_0x477c47['status'](0x194)[_0x189196(0x1e6)]({'status':0x194,'message':'Cannot\x20'+_0xf93610[_0x189196(0x296)]()+'\x20'+_0x3128c9,'error':_0x189196(0x76b)}),_0xbfc902();});let _0x298b8f=(_0x2a7f9e,_0x4a5078=_0x221cff(0x64a))=>{const _0x55f6e3=_0x221cff;let _0x4c0818=(_0x132bbe,_0x5b5ea4=null,_0x1a28a8=!0x1)=>{const _0x83834=a0_0x1c0b;let _0x369e1a={};return Object[_0x83834(0x4ea)](_0x132bbe)[_0x83834(0x306)](_0xcf97c8=>{const _0x4a5255=_0x83834;let _0x188922=_0x132bbe[_0xcf97c8],_0x5e2214=''+_0x4a5078+_0xcf97c8;_0x5b5ea4&&!_0x1a28a8&&(_0x5e2214=_0x5b5ea4+'.'+_0xcf97c8),!_0x188922&&_0x188922!==0x0&&_0x188922!==!0x1||typeof _0x188922>'u'?_0x369e1a[_0x5e2214]=null:typeof _0x188922!='object'&&!Array[_0x4a5255(0x2f0)](_0x188922)?_0x369e1a[_0x5e2214]=_0x188922:typeof _0x188922==_0x4a5255(0x618)&&!Array[_0x4a5255(0x2f0)](_0x188922)?_0x369e1a=Object['assign'](_0x369e1a,_0x4c0818(_0x188922,_0x5e2214)):Array[_0x4a5255(0x2f0)](_0x188922)&&(typeof _0x188922[0x0]==_0x4a5255(0x618)?(_0x369e1a[_0x5e2214]=[],_0x188922[_0x4a5255(0x306)](_0x562cdf=>{_0x369e1a[_0x5e2214]['push'](_0x4c0818(_0x562cdf,_0x5e2214,!0x0));})):_0x369e1a[_0x5e2214]=_0x188922);}),_0x369e1a;};return Array[_0x55f6e3(0x2f0)](_0x2a7f9e)?_0x2a7f9e['map'](_0x319cd5=>_0x4c0818(_0x319cd5)):typeof _0x2a7f9e==_0x55f6e3(0x618)&&_0x2a7f9e!==null?_0x4c0818(_0x2a7f9e):{};},_0x3d48d7=b['get'](_0x221cff(0x225));Ce[_0x221cff(0x256)]=_0x3090d6;let _0x2a1a3f=Ce[_0x3d48d7[_0x221cff(0x1cb)]],_0x18504f=_0x221cff(0x723);_0x2a1a3f[_0x221cff(0x5f8)](_0x3d48d7[_0x221cff(0x5fc)],()=>{const _0x147629=_0x221cff;_0xda528[_0x147629(0x743)](_0x18504f),_0xda528[_0x147629(0x743)](_0x3d48d7[_0x147629(0x1cb)][_0x147629(0x296)]()+_0x147629(0x4cd)+_0x3d48d7[_0x147629(0x5fc)]);}),Oo(),Ls();}var Do=a0_0x401cf8(0x5d4),xo=Ne[a0_0x401cf8(0x787)][a0_0x401cf8(0x6fa)](__dirname,a0_0x401cf8(0x217)),ve=null;function _o(){return new Promise((_0x3cb68e,_0x585399)=>{const _0x2fb942=a0_0x1c0b;le['default'][_0x2fb942(0x6a0)](xo,_0x2fb942(0x307),(_0x44103f,_0x525a61)=>{const _0x556aa5=_0x2fb942;if(_0x44103f){ve=_0x44103f,_0x3cb68e();return;}Tr[_0x556aa5(0x787)][_0x556aa5(0x359)](_0x525a61)[_0x556aa5(0x4fc)][_0x556aa5(0x410)]===Do?(ve=null,_0x3cb68e()):(ve=new Error(_0x556aa5(0x50e)),_0x3cb68e());});});}async function Po(){const _0xce1fe=a0_0x401cf8;try{await _o(),await Ts();}catch(_0x419e05){console[_0xce1fe(0x654)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x419e05),process[_0xce1fe(0x5f3)](0x1);}}Po();async function Ar(){const _0x1e3ed2=a0_0x401cf8;let _0x519294;try{_0x519294=(await Me[_0x1e3ed2(0x787)][_0x1e3ed2(0x626)](_0x1e3ed2(0x53d)))[_0x1e3ed2(0x573)]['ip'];}catch(_0xcffc0e){console[_0x1e3ed2(0x654)](_0xcffc0e);try{_0x519294=(await Me[_0x1e3ed2(0x787)][_0x1e3ed2(0x626)](_0x1e3ed2(0x241)))[_0x1e3ed2(0x573)]['ip'];}catch(_0x5df613){console[_0x1e3ed2(0x654)](_0x5df613);try{_0x519294=(await Me[_0x1e3ed2(0x787)]['get'](_0x1e3ed2(0x4ba)))['data'][_0x1e3ed2(0x72c)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4b2508){return console[_0x1e3ed2(0x654)](_0x4b2508),!0x1;}}}return _0x519294;}var Cr=0x0;async function $o(){const _0x9be058=a0_0x401cf8;let _0x412541=await new re(b['get'](_0x9be058(0x354)))[_0x9be058(0x677)]();return console[_0x9be058(0x743)]('instancias:\x20',_0x412541[_0x9be058(0x24f)]),_0x412541[_0x9be058(0x24f)];}function ko(_0x172fe7){const _0x2097a7=a0_0x401cf8;let _0x1abad8=_0x172fe7[_0x2097a7(0x626)](_0x2097a7(0x225))['URL'],_0x4c25a3=_0x172fe7[_0x2097a7(0x626)](_0x2097a7(0x57c)),_0x20bbee;if(_0x1abad8){let _0xda44fb=_0x1abad8[_0x2097a7(0x72c)](/\/\/(.*?)\./);_0xda44fb&&_0xda44fb[0x1]&&(_0x20bbee=_0xda44fb[0x1]);}if(!_0x20bbee&&_0x4c25a3&&_0x4c25a3[_0x2097a7(0x6fb)]){let _0x1e02fa=_0x4c25a3[_0x2097a7(0x6fb)][_0x2097a7(0x54f)]('/'),_0x2105f5=_0x1e02fa[_0x1e02fa['length']-0x2];if(_0x2105f5){let _0x4611c6=_0x2105f5[_0x2097a7(0x54f)]('.');_0x4611c6['length']>0x2&&(_0x20bbee=_0x4611c6[0x0]);}}return _0x20bbee;}var Es=ko(b);async function Lo(){const _0x41b0ae=a0_0x401cf8;let _0x25bcec=b[_0x41b0ae(0x626)](_0x41b0ae(0x354)),_0x437a96=b[_0x41b0ae(0x626)](_0x41b0ae(0x469))['API_KEY'][_0x41b0ae(0x1d0)],_0x104f7d=b[_0x41b0ae(0x626)](_0x41b0ae(0x57c)),_0x15a600=await Ar(),_0x92e120=b[_0x41b0ae(0x626)](_0x41b0ae(0x225))[_0x41b0ae(0x5fc)],_0x40f832=b[_0x41b0ae(0x626)](_0x41b0ae(0x225))[_0x41b0ae(0x6be)];try{let _0x21038f={'ip':_0x15a600||null,'redis_enable':_0x25bcec?.[_0x41b0ae(0x516)]||null,'apikey':_0x437a96||null,'ssl':_0x104f7d?.[_0x41b0ae(0x433)]||null,'lastupdate':Or||null,'port':_0x92e120||null,'gitInstallError':ve?.[_0x41b0ae(0x295)]||null,'url':_0x40f832||null};if(console[_0x41b0ae(0x743)]('ip:\x20',_0x21038f['ip']),_0x25bcec&&_0x25bcec[_0x41b0ae(0x516)]){let _0x140a01=await $o();_0x21038f[_0x41b0ae(0x801)]=_0x140a01||null;}for(let _0x149790 in _0x21038f)_0x21038f[_0x41b0ae(0x235)](_0x149790)&&_0x149790!=='ip'&&(_0x21038f[_0x149790]=JSON[_0x41b0ae(0x75b)](_0x21038f[_0x149790]));return(await Me['default']['post'](_0x41b0ae(0x245),_0x21038f))['data'];}catch(_0xb21e8e){return console['error'](_0xb21e8e),!0x1;}}var Ns=!0x1,Or=0x21c,Fo=0x3,Mr=0x1b7740;async function Ts(){const _0x319a7b=a0_0x401cf8;if(!await Ar())return console[_0x319a7b(0x654)](_0x319a7b(0x790)),_0x319a7b(0x2e1);let _0x3dc375=await Lo();if(_0x3dc375){if(_0x3dc375[_0x319a7b(0x774)][_0x319a7b(0x449)]===!0x0){b[_0x319a7b(0x626)](_0x319a7b(0x57c))['PRIVKEY']['includes'](_0x319a7b(0x403))&&_0x3dc375[_0x319a7b(0x774)][_0x319a7b(0x347)]&&(await jo(_0x3dc375['response']['subdomain'],Jo),await qo('augusto.fcs@gmail.com',_0x3dc375[_0x319a7b(0x774)][_0x319a7b(0x347)]),console[_0x319a7b(0x743)](_0x319a7b(0x68c)),setTimeout(()=>Bo(),0x2710)),ve===null&&_0x3dc375[_0x319a7b(0x774)][_0x319a7b(0x332)]-Or>0x0&&await Uo(),Ns||(Ns=!0x0,Io());let _0x4d9fd6=0x24*0x3c*0x3c,_0x4a5706=_0x3dc375[_0x319a7b(0x774)][_0x319a7b(0x1d1)]>_0x4d9fd6?_0x4d9fd6:_0x3dc375['response'][_0x319a7b(0x1d1)],_0x5b6559=Number(_0x4a5706);if(isNaN(_0x5b6559)){console[_0x319a7b(0x654)]('interval\x20não\x20é\x20um\x20número');return;}let _0xdd510=Math[_0x319a7b(0x42c)](_0x5b6559/0xe10),_0x3a9903=Math[_0x319a7b(0x42c)](_0x5b6559%0xe10/0x3c),_0x17f490=new Date(Date['now']()+_0x5b6559*0x3e8);setTimeout(Ts,_0x5b6559*0x3e8);let _0x31d2bc=_0x438168=>_0x438168['toString']()['padStart'](0x2,'0'),_0x1cbef0=_0x319a7b(0x74f)+_0x31d2bc(_0xdd510)+_0x319a7b(0x480)+_0x31d2bc(_0x3a9903)+_0x319a7b(0x671)+_0x31d2bc(_0x17f490['getHours']())+':'+_0x31d2bc(_0x17f490[_0x319a7b(0x1fd)]())+'.';console[_0x319a7b(0x743)](_0x1cbef0);}else return console[_0x319a7b(0x743)](_0x319a7b(0x223)),Ns&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x319a7b(0x5f3)]()),'LICENSE_INVALID';}else{if(Cr++,Cr<Fo)console[_0x319a7b(0x743)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Mr/0xea60+'\x20minutos...'),setTimeout(Ts,Mr);else return console[_0x319a7b(0x654)](_0x319a7b(0x27c)),_0x319a7b(0x5e3);}}function a0_0x5ab0(){const _0x26e0cb=['Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','jwt','displayName','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','validate','updateBlock','Desconectado,\x20parando\x20execução.','Router','equal','fetchChats','stopIfLastReturnedError','getDevice','MAX_RECONNECT_ATTEMPTS','Original\x20filename:','parseInt','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','last','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','unhandledRejection','removeData','.mp4','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','replacer','lastReceivedMessage','refused','addReplyOption','delayMessage','connectionStatus','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','listMessage','atendimentoAberto','editflow','NextBlock','-instances','\x1b[33m%s\x1b[0m','cleaningUp','Fluxo\x20não\x20encontrado','splice','timerId','Connection','Temp\x20audio\x20deleted','Error\x20while\x20deleting\x20message\x20for\x20everyone','find','lastSend','?authSource=admin&readPreference=primary&directConnection=true','CHATS_UPSERT','LabelModel','):\x20Bloco\x20com\x20ID\x20','Initial\x20__dirname:','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','scheduleSendAudio','WebhookGlobal','Instância:\x20','all','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','/instance/connect','connectedClient','chats.upsert','isConnected','request\x20received\x20in\x20getAutomateSystem','documentWithCaptionMessage','):\x20Buscando\x20flow...','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','/exit','test','key','findFlow','RemoveChatLabel','DATABASE_CONNECTION_URI','\x1b[33m','remove.instance','dbServer','CONTACTS_UPDATE','editflowblock','/wa-chats','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','senderKeyDistributionMessage','request\x20received\x20in\x20updateAgent','markMessageAsRead','now','Error\x20in\x20markMessageAsRead:','getClient','pt-BR','Temp\x20audio\x20path:\x20','values','@g.us','Error\x20change\x20group\x20name','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','instanceCount','$pull','Erro\x20ao\x20copiar\x20dados:','privacySettings','StartBot','dataValidate','formatStatusMessage','findParticipants','copyDataToNewModel','CONECTADO\x20À\x20UAZAPI','SERVER_ACK','toFile','CORS_ORIGIN','AddChatLabel','\x20removido\x20do\x20chat\x20','groupUpdateSubject','contacts.update','Error\x20updating\x20setting','labels','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','currency','Erro\x20ao\x20deletar\x20chat:','messageSecret','Error\x20updating\x20profile\x20status','phoneNumber','/wa-message-update','vcard','getAutomateSystem','stanzaId','owner','base64','sendLocation','findOneAndUpdate','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','TYPE','bateu\x20events','/wa-qrcode','_id','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','KEY','segundos','contactHandle','deleteAll','has','leadInfo.desativadoFluxoAte','output','uazapi','insertMany','originalUrl','method','onTime','contains','):\x20Não\x20achou\x20nenhum\x20flow','menuIgnoreNonVotes','BufferJSON','messages.update','groupName','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','Bad\x20Request','notContains','testProxy','json','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','allContacts','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getVariablesChat','4824549lZQTwa','\x20ao\x20chat\x20','archived','\x1b[34m%s\x1b[0m','shift','writeFileSync','getLastMessage','processgoToFlow','presence','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','cors','Chrome','getStatus','fone','Erro:','checkAndRestartProcess','lastInteraction','node-mime-types','getMinutes','\x0a*Você\x20respondeu*:\x0a','findByIdAndDelete','DELIVERY_ACK','getMIMEType','LOG_COLOR','/:instanceName','):\x20Comando\x20desconhecido:\x20','array','CONTACTS_SET','silent','error_log','flattenObject','flushHeaders','Instance\x20ID:','viewOnceMessageV2Extension','@s.whatsapp.net','_Contacts','Db\x20Connection','Resultado\x20da\x20atualização:','getContactModelForOwner','add','toNumber','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','authentication','sendPoll','./.git/config','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','string','/wa-groups',',\x20lastCondition:\x20','write','Sending\x20audio\x20whatsapp','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Instância\x20não\x20encontrada.','hostname','instanceName\x20not\x20provided.','groupToggleEphemeral','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','updateReadReceiptsPrivacy','SERVER','requestPairingCode','updateReplyOption','MESSAGES_SET','Erro\x20ao\x20buscar\x20conversa:\x20','substring','\x20não\x20encontrado','scheduleSendMedia','tryProxy','connectToWhatsapp','contactsArrayMessage','collection','messages.upsert','stoppedUntil','Error\x20change\x20group\x20description','presence.update','hasOwnProperty','sendDataWebhook','jsonwebtoken','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','editFlowGroup','):\x20teve\x20mudanças\x20chat.name:\x20','includes',',\x20Resultado:\x20','options','uazapiDeleteMessage','urlOrBase64','uazapiSendAudio','https://api.ipify.org?format=json','flowConversation','updateMany','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','addChatLabel','http','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Type\x20defined\x20as\x20audio','jsonschema','editFlowCondition','waitingForReplyMenu','setting','notify','length','bearer','cleanStore','ini','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','group-participants.update','host','app','readMessage','flowStopMinutes','/wa-contacts','pollUpdateMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Flow\x20não\x20encontrado','Output\x20audio\x20path:\x20','EMAIL:','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','^\x5cd+','Erro\x20ao\x20editar\x20o\x20chat:\x20','conversationTimestamp','vote','findGroupInfo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','COLOR','state','blockId','findAndReplaceRegex','):\x20Editando\x20edição\x20do\x20fluxo...','\x20mensagens\x20de\x20','processConditionsTest','FlowModel','loadInstance','/events','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','chats.delete','color','updateProfilePicture','blocks','updateLastSeenPrivacy','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','\x1b[1m','getProfileName','messages','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','ButtonsMessage','webp','buttonMessage','minutesToClose','public','convertedOptions','sem\x20texto\x20na\x20mensagem','connectedName','):\x20newFirstValue\x20após\x20replaceVariables:','editScheduleMessage','oldToken','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','instanceInfo','):\x20Enviando\x20texto','request\x20received\x20in\x20scheduleMessage','--agree-tos','):\x20isVote:\x20','groupLeave','deleteMany','Error\x20data:','__esModule','AllProxy','pollOnReplyDelete','dbInstance','message','toUpperCase','groupParticipantsUpdate','importChats','notEqual','updatePrivacySettings','ReplyOption\x20com\x20ID\x20','editflowvariable','profilePictureUrl','DATABASE_CONNECTION_USER','):\x20Editando\x20grupo\x20do\x20fluxo...','Flow\x20não\x20encontrado','value','DEBUG','Audio\x20is\x20base64','sendMedia','fetchProfile','JWT','ephemeralExpiration','editflowvaredit','lastMessage','flow','STORE','charAt','Deletion\x20failed','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Conversa\x20está\x20expirada','scheduleNextCheck','findWebhook','rm\x20-rf\x20','random','size','#ffffff','image','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','wuid','true','status.instance','):\x20Enviando\x20áudio','command','params','groupMetadata','group\x20ignored','nomecompleto','SECRET','logger','request\x20received\x20in\x20getConversation','expiration','noConnection','Primeiro\x20Valor:\x20','readreceipts','variables','stopMinutesMaxActives','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','deleteReplyOption','stopMinutes','PENDING','deleteDoneMessages','OrAnd','sendStatus','editFlow','quoted','findLabels','isJidGroup','contacts.upsert','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','cache','https://','request\x20received\x20in\x20starFlow','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','deleted','sign','reference',',\x20Minutes\x20to\x20Close:\x20','Schema','sendList','NO_IP','instance','min','view\x20engine','whatsappNumber','buttonId','unknown\x20operation\x20type\x20[','match_last_seen','GROUP_PARTICIPANTS_UPDATE','*\x0a\x0a','):\x20Query\x20params:','headerString','connection.update','sendMessageWithTyping','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','isArray','PASSWORD','label_jid','):\x20lastBlockId:\x20','DisconnectReason','stopWhenYouSendMsg','processApiRequest','condition','contact_blacklist','router','verbose','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','trim','Internal\x20Server\x20Error','dbSettings','SERVER_PORT','formatVCard','):\x20alterando\x20this.AutomateSystem','copyBlock','Fetching\x20business\x20profile','Rótulo\x20deletado:','Forbidden','forEach','utf-8','getTime','groupHandler','eventemitter2','reorderBlocks','poll','getLabelModelForOwner','Variáveis\x20não\x20encontradas:','defineAuthState','inner','utf8','replyOption','profilePicture','groups.upsert','lastBlockId','DATABASE','findMessages','mimetype','changeVariables','\x22\x20-\x20REMOVED','editflowcondition','pino','action','Temp\x20audio\x20created','processPollUpdateMessage','/wa-message','formatBRNumber','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','fetchBusinessProfile','child_process','Error\x20change\x20group\x20setting','delaySecMax','\x20do\x20chat\x20','dayjs','MessageModel','available','):\x20Fluxos\x20não\x20estão\x20ativados','textMessage','CORS_METHODS','://','PRODUCT_LIST','ScheduleMessageModel','stderr','last_update','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','authService','\x20saindo\x20da\x20função','deletedCount','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','contactname','/wa-connection-update','existsSync','/instance/create','removeOlderDisconnectedInstances','updateGParticipate','makeCacheableSignalKeyStore','archiveChat','Getting\x20profile\x20with\x20jid:\x20','findGroups','Image\x20path:\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','deleteFlow','updateAgent','uazapiSendLocation','subdomain','ERROR:\x20','\x1b[32m','MESSAGES_UPSERT','groups.update','entries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20delete\x20=\x20true','updateFlowConfig','pollErrorMessage','delAll','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','findIndex','REDIS','pairingCode','revokeInviteCode','$unset','pollCreationMessageKey','parse','fileUrl','and','jpegThumbnail','incrementIsValidAttempts','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','audio','varedits','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','exports','app-state-sync-key','Error\x20message:','SSL_CONF_FULLCHAIN','lean','CONNECTION','create','leadInfo.','connect','InstancesAlterarTodas','createProxyConfig','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','fetchProfile2','success','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','/config','status@broadcast','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','processUazapi','express-async-errors','request\x20received\x20in\x20editConversation','):\x20Enviando\x20mídia','\x1b[1m\x1b[37m','audio/aac','CHATS_SET','):\x20Editando\x20replyOption...','27114ZAPjjv','findAll','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','$addToSet','\x22\x20cannot\x20be\x20empty','reviver','fetchLabels','Unable\x20to\x20leave\x20the\x20group','unreadCount','conversation','errors','saveTextReply','^\x5cd+([-]\x5cd+)*@g.us$','labels.association','urlencoded','getPrototypeOf','config','messageTimestamp','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','----------------------ADD----------------------------','buttonText','round','messages.set','normalizeMessage','contact','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','contacts','editConversation','sendText','WARN','useMultiFileAuthState','stopped','DOCKER_ENV','CLEANING_INTERVAL','request\x20received\x20in\x20createFlow','mediaSticker','release','REDIS_ENABLED','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Ignoring\x20group\x20messages.','getFlow','cpf','ObjectId','Nenhum\x20chat\x20encontrado\x20para\x20editar.','pollCreationMessageV2','authState','toLocaleString','Erro\x20ao\x20buscar\x20conversas:\x20','mediaMessage','DaysToDelete','https://chat.whatsapp.com/','Hash\x20to\x20image\x20name:\x20','/group','integer','groupUpdateDescription','Subscribed\x20Events:','upperCase','):\x20Conversa\x20atualizada\x20em\x20memória','remove','_Messages','prepareWAMessageMedia','):\x20Query\x20params:\x20','unavailable','CONNECTION_UPDATE','waitingMenu_replyOptions','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','matchRegex','boolean','groupJid','DATABASE_CONNECTION_PASSWORD','waitingMenu_id','Types','):\x20Conversas\x20encontradas:','reactionMessage','!stop','PREFIX_KEY','participants','mongodb','varedit','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','sort','writeData','goToFlow','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','processblock','No\x20join\x20group\x20invite\x20code\x20or\x20url','QRCODE_UPDATED','isRunning','evaluateConditionTest','request\x20received\x20in\x20editFlow','drop','editFlowVariable','modifiedCount','function','updateMediaMessage','insertCount','mediaKey','protocolMessage','media','\x20using\x20the\x20proxy:','):\x20Flow\x20desativado','store','qrcode.updated','configService','findChats','DELETED','text','video-cover.png','updateGParticipant','initAuthCreds','buttons','DATABASE_CONNECTION_DB_PREFIX_NAME','READ','\x20foi\x20interrompido\x20pelo\x20usuário.','info','CONTACTS_UPSERT','Log\x20out\x20instance:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','editedMessage','8080','testProxy\x20response\x20from\x20','organization','saveCreds','creds','connecting','AUTHENTICATION_TYPE','request\x20received\x20in\x20deleteDoneMessages','testProxy\x20error:\x20','empty','deleteConversation','getMessageModelForOwner','SINGLE_SELECT','Error\x20fetching\x20group','/*.json','archive','<subdomain>','Certbot:\x20','envYaml','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','https','reorderReplyOptions','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','removeProfilePicture','body','restrict','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','preview','):\x20Bloco\x20copiado:\x20','url','option','@ffmpeg-installer/ffmpeg','SUCCESS','imageMessage','addBlock','Erro\x20ao\x20inserir\x20chats:','updateCustomFields','sendReaction','listResponseMessage','processConditions','toggleEphemeral','apiName','js-yaml','createGroup','moreLogs','\x1b[30m','DARK','STORE_CONTACTS','online','METHODS','URI','editFlowReply','rows','audio/ogg','lastSendMessage','):\x20nextBlock.uazapi.name','/wa-presence','floor','pollMessage','request\x20received\x20in\x20allFlows','_FlowHistorico','ON\x20-\x20dbName:\x20','sendPresenceUpdate','Image\x20is\x20base64','PRIVKEY','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','\x20não\x20encontrado\x20para\x20atualização.','request\x20received\x20in\x20editFlowcondition','isInteger','File\x20written\x20to\x20path:\x20','updateProfileName','flowConfig','END:VCARD','msgRetryCounterCache','-whatsapp-api','console','working','deleteMessageForEveryone','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Erro\x20ao\x20deletar\x20mensagens:','editFlowBlock','local_map','editChat','stdout','video','when','licenca','oldValue','realVariables','messageContextInfo','_Chats','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Trying\x20to\x20get\x20business\x20profile','leadInfo','linkPreview','pollCreationMessage','updateStopChat','allFlows','fetchStatus','label','LOG_LEVEL','Revoke\x20error','\x20minutos','content-disposition','):\x20Mensagem\x20já\x20enviada\x20para\x20','request\x20received\x20in\x20getFlow','findByIdAndUpdate','AutomateFunctions','client','):\x20Procurando\x20mensagens\x20para\x20envio','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','TEXT','spawn','userDevicesCache','sendWhatsAppAudio','CHATS_UPDATE','ignoreGroups','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','AUTHENTICATION','proxy-agent','createInstance','delete','Read\x20messages','saveVariable','errno','Getting\x20image\x20from\x20url','API\x20Key\x20from\x20Request:','locationMessage','replaceVariablesInObject','hex','deleteMessage','----------------------REMOVE----------------------------','setRestartTimer','):\x20Edit\x20schedule\x20message...','qrCode','choices','contactMessage','):\x20Alterando\x20fluxo...','chats.update','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','chats','\x20horas\x20e\x20','load','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20teve\x20mudanças\x20chat.displayName:\x20','valid','fetchProfilePictureUrl','ChatModel','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','audioMessage','restartInstance','deleteflow','.png','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','}}\x20->\x20valor\x20não\x20encontrado','\x20inseridas\x20no\x20banco\x20de\x20dados...','createFlow','SendScheduleMessage',',\x20valor\x20passado:\x20\x22','Group\x20not\x20found','allflows','rowId','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','abs','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','GUARD','../env.yml','Flow\x20already\x20exists','/create','ListMessage','Output\x20path:\x20','lastmsg','env.yml','findGroup','Error\x20creating\x20group','slice','Type\x20not\x20found','automateSystem','no.connection','lowerCase','updateGroupsAddPrivacy','BRL','binary','createNewConversation','mentions','mentioned','statusMessage','Connection\x20closed\x20for\x20instance:\x20','request\x20received\x20in\x20editFlowvariable','update','localWebhook','Error\x20updating\x20message\x20status:','send.message','restart','del','groupSettingUpdate','/clients-info','list','http://checkip.dyndns.org','request\x20body:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','variablesToObject','Instance\x20restarted','fetchProfilePicture','Atualização:\x20','model','):\x20Iniciando\x20bot...','sections','closed','replaceVariables','class-validator','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','flowIgnoreGroups','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','FlowController','getConversationModelForOwner','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','\x20-\x20ON:\x20','.X-ABLabel:Celular\x0a','tags','temp-','SERVER_TYPE','stickerMessage','Cache-Control','getMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','waMonitor','isJWT','findOne','quotedMessage',',\x20fará\x20nova\x20verificação\x20em\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','AppStateSyncKeyData','$set','verify','replace','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','stopConversation','saveChatVariables','some','sleep','webhookMap','Converted\x20audio\x20deleted','viewOnceMessage','keys','authModel','Last\x20message\x20not\x20found','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Unauthorized','messagesSend','findConversation','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','waitingMenu_text','):\x20conversation.waitingMenu_name','save','^\x5cd+[\x5c.@\x5cw-]+','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20expirationTime:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','apirequest','throwAndLogError','remote\x20\x22origin\x22','The\x20global\x20api\x20key\x20must\x20be\x20set','Error\x20status:','URL:','error\x20get\x20vote','context','Full\x20file\x20path:','start','uazapiSendText','createConversationforgoToFlow','13725104zrkmQc','env.KEY\x20!==\x20key','indexOf','promote','updateConversation','Deleted\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','groupSetting','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','replaceVariablesInReplyOptions','STORE_CHATS','variable','Audio\x20processed','updateOneById','webhookModel','map','ENABLED','Unknown\x20message\x20type\x20or\x20empty\x20message','\x0a{\x20instance:\x20','createJid','):\x20Erro\x20ao\x20buscar\x20conversas\x20','This\x20name\x20','.sendDataWebhook-local','audioWhatsapp','less','Telefone:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','groups_ignore','exec','hSet','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','from','newValue','order','prototype','Error\x20headers:','optionDescription','endSession','Falta\x20informação\x20para\x20a\x20chamada\x20API','getConversation','createConnection','remoteJidsRemaining','):\x20Enviando\x20localização','hGet','request\x20received\x20in\x20editFlowgroup','#000000','number','):\x20Entrou\x20na\x20função\x20stop','creation','protocol','):\x20Buscando\x20conversas...','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','No\x20response\x20received:','stateConnection','.\x20Pulando.','https://jsonip.com','Audio\x20converted\x20to\x20mp4','caption','assign','sendMessage','Rótulo\x20atualizado:','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Erro\x20inesperado\x20em\x20processvaredits:\x20','connectionState','picture','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','chatModify',',\x20resultado:\x20','editflowgroup','Button\x20texts\x20cannot\x20be\x20repeated','apply','redis://127.0.0.1:6379','ListType','split','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','repository','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','events','set','chatId','mongoose','Fluxos\x20não\x20estão\x20ativados','announce','footerText','max','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','removeInstance','notMatchRegex','certbot','groupadd','processingScheduleMessageId','code','Font\x20is\x20required','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x1b[31m%s\x1b[0m','findOrCreate','):\x20Current\x20Time:\x20','goNextblock','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','applyvaredit','filter','setHeader','newStoppedUntil','replaceValue','removeChatLabel','arraybuffer','/automate','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','data','Chat\x20com\x20ID\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20updateResult:','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','next_groupId','Esse\x20fluxo\x20expirou','ChatRouter','SSL_CONF','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Temp\x20image\x20deleted','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Erro\x20ao\x20atualizar\x20AutomateSystem:','greater','pollCreationMessageV3','nome','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','\x20}\x0a','getOwnPropertyDescriptor','created','\x1b[32m%s\x1b[0m','):\x20Campos\x20a\x20serem\x20atualizados:','mkdirSync','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','fileLength','createWebhook','uazapiSendMenu','getChatModelForOwner','sendButtons','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','checkAndUpdateChatStatus','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','viewOnceMessageV2','startsWith','toString','padEnd','not\x20loaded','videoMessage','closeExistingConversations','VERBOSE','\x1b[37m','EXPIRIN_IN','.mp3','replyOptions','open','groupId','logout','sendContact','insert','replaceOne','fetchMessages','convertaudio','end','Flow\x20iniciado\x20com\x20','INFO','encoding','scheduleMessages','downloads','updateGroupPicture','\x1b[42m','secondValue','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','?timestamp=','eventEmitter','\x1b[40m','Erro\x20ao\x20iniciar\x20fluxo:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','prefixCommand','leadInfo.customFields','envProcess','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Editando\x20bloco...','Data\x20inválida\x20fornecida','Bloco\x20com\x20ID\x20','creds.json','endsWith','redirect','):\x20conversation.lastInteraction:\x20','waInstances','static','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','push','prepareMediaMessage','pre','contentText','detail','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','unlinkSync','Erro\x20do\x20Certbot:\x20','):\x20Deletando\x20conversa...','updateMessage','readMessages','API\x20Key\x20inválida.','username','toDataURL','path','https://github.com/uazapi/uazapi.git','saveConversationToDatabase','truncatedtoEnd','SEND_MESSAGE','port','writeFile','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','uncaughtException','):\x20Entrou\x20na\x20função\x20goToFlow','ConversationModel','syscall','uazapiSendMedia','createClient','chat','done','SERVER_OFFLINE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','whatsappNumbers','/instance/fetchInstances','fetchContacts','latitude','Authentication\x20error','firstValue','express','):\x20Falha\x20ao\x20deletar\x20mensagem.','unreadcount','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','leadInfo.customFields.','\x1b[47m','deleteBlock','name','exit','env','):\x20Criando\x20nova\x20conversa[createNewConversation]','document','certonly','listen','readFileSync','website','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','PORT','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','announcement','Erro\x20ao\x20atualizar\x20conversa:\x20','findGroupInfos','capitalizedWords',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','CORS','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','height','50mb','getflow','apiResponse','no-cache','authorization','auth','):\x20Error\x20processing\x20conditions:\x20','):\x20atualização\x20chat:\x20','width','):\x20Error\x20processing\x20the\x20block:\x20','pop','No\x20participants','close','sendSticker','\x5cd+','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','hbs','object','):\x20Conversa\x20está\x20expirada\x20-\x20voto','instance.','stack','resetReconnectionVariables','variablesNotFound','\x1b[43m','5615632kBHMDE','where','_Flows','groupRevokeInvite','role','saveMediaToFile','https://uazapi-plugin.bubbleapps.io/?url=','get','):\x20Going\x20to\x20','Formato\x20inválido\x20de\x20proxy','readdirSync','put','warn','expression','deleteChat','axios','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','chatLog','AUTHENTICATION_JWT_EXPIRIN_IN','evaluateCondition','exists','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','scheduleSendText','getRandomText','contextInfo','LEVEL','readData','\x22\x20not\x20found','Logger','messageId','locked','font','):\x20Procurando\x20conversa','verifiedName','longitude','reconnectAttempts','statusCode','bulkWrite','InstancesAsDisconnectedX','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','keep-alive','Erro\x20ao\x20normalizar\x20a\x20mensagem:','_p_','enumerable','\x20quoted:\x20','ERROR','metadata','getFlowModelForOwner','@whiskeysockets/baileys','reconnectTimestamps','Processing\x20audio','@redis/client','error','convertToWebP','format','request\x20received\x20in\x20updateFlowConfig','setContext','node-cache','fullName','gifPlayback','inviteCode','CORS_CREDENTIALS','count','loadWebhook','emit','URL\x20limpa:\x20','groupDesc','pollMessageOnDelete','Failed\x20to\x20get\x20IP\x20from\x20','createSectionsFromValues','9969862LYXdli','request\x20received\x20in\x20deleteFlow','3136232tpNnUv','collections','Erro\x20ao\x20atualizar\x20o\x20flow.','createAndSave','):\x20Editando\x20condição\x20do\x20fluxo...','\x20não\x20encontrado\x20para\x20cópia','fetchLatestBaileysVersion','jsonip.com','user','\x20minutos.\x20Será\x20às\x20','CREDENTIALS','findAndReplace','header','/media','labelId','instanceKeys','Erro\x20ao\x20configurar\x20proxy:\x20','editflowreply','):\x20conversation.status:\x20','redis','Certbot\x20executado\x20com\x20sucesso.','):\x20transformedCustomFieldVariables','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','password','\x1b[41m','loadEnv','_error','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','menuType','backgroundColor','/media/','numbers','apikey','composing','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Label\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','startFlow','sending','1150TtokBV','profile','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','messageHandle','Variável\x20não\x20encontrada!','getContentType','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','groupFetchAllParticipating','agents','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','\x1b[34m','responsavelid','content','call','Message\x20not\x20found','_activatedCount','STORE_CLEANING_TERMINAL','readFile','bodyString','webhookService','instanceName','Safari\x20(Mac\x20OS)','Não\x20respondeu\x20com\x20a\x20enquete.','notas','):\x20Erro\x20durante\x20a\x20atualização:\x20','address','g-t','updateProfileStatus','GROUPS_UPDATE','DATABASE_CONNECTION_HOST','pushName','getTicketSystem','1510118ftAQQb','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','convert','data:\x20','generateWAMessageFromContent','menuExpiredMessage','block','fetchConversation','maxActives','Missing\x20global\x20api\x20key','):\x20Erro\x20ao\x20editar\x20agentes:\x20','cwd','subjectTime','scheduled','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','URL','):\x20Dados\x20migrados\x20com\x20sucesso','birthtime','\x20inseridos\x20no\x20banco\x20de\x20dados...','isLong','statSync','imagechat','uazapiSendContact','updateOne','limit','storePath','fetchPrivacySettings','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','activatedCount','Erro\x20ao\x20editar\x20agentes:\x20','toLowerCase','flowActive','Número:\x20','Error\x20fetching\x20and\x20updating\x20profile:\x20','Erro\x20ao\x20adicionar\x20label\x20','Error\x20updating\x20participants','editFlowVaredit','LOG','paused','getBase64FromMediaMessage','sticker','ORG:','.webp','customFields','_ScheduleMessages',',\x20Comparador:\x20','ReplyOptions\x20finais\x20após\x20reordenação:','joinGroupValidate','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Type\x20is\x20required','groupCreate','):\x20customFieldVariables','enabled','menuMessage','remoteJid','sendMenu','DATABASE_ENABLED','recording','DB_PREFIX_NAME','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','RECONNECT_TIME_FRAME','Configuração\x20de\x20proxy\x20inválida\x20gerada.','instances','mediatype','type','USER','webhook','qrcode','group','lastCondition','selectableCount',',\x20saindo.','query','optionName','routerPath','join','FULLCHAIN','ipify.org','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','.ogg','Archiving\x20chat','jid','isBusiness',',\x20Segundo\x20Valor:\x20','createConversationforStartFlow','Audio\x20is\x20url','truncatedto','email','REDIS_URI','updateAll','getScheduleMessage','@broadcast','):\x20this.processingScheduleMessageId:\x20','redisEnv','Erro\x20de\x20reinicialização:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','The\x20\x22','\x1b[30m%s\x1b[0m','*Pergunta*:\x20\x0a','\x1b[37m%s\x1b[0m','isBase64','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x20contacts','downloadMediaMessage','Close\x20connection','loggedOut','joinGroup','Including\x20timestamp\x20in\x20url:\x20','Media\x20folder\x20path:','deleteOne','PLAYED','.jwt','buffer','Error\x20updating\x20profile\x20picture','Instance\x20\x22','\x20is\x20already\x20in\x20use.','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','desativadoFluxoAte','trimmed','message_normalized','statusJidList','getScheduleMessageModelForOwner','):\x20Editando\x20variável\x20do\x20fluxo...','upsertChats','application/octet-stream','match','\x1b[0m','src','fileName','Background\x20color\x20is\x20required','$dbName','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','GROUPS_UPSERT','The\x20instance\x20needs\x20to\x20be\x20disconnected','reaction','PRESENCE_UPDATE','deleteInstance','subjectOwner','Enter\x20a\x20value\x20in\x20milliseconds','):\x20Deletando\x20fluxo...','conditions','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','notEmpty','updateOnlinePrivacy','):\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','errorLog','createServer','log','dark','subject','API_KEY','scheduleMessage','Image\x20is\x20url','uuid','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Profile\x20not\x20found','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','use','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','\x20chats\x20de\x20','findById','arrayUnique','defineProperty','STATUS_INSTANCE','readMessageBot','chatHandle','requested\x20testProxy','proto','Comando\x20desconhecido','Error\x20removing\x20profile\x20picture','stringify','removed','setWebhook','):\x20Ler\x20mensagem','long','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','none','\x0aFN:','Conversa\x20deletada\x20com\x20sucesso.','sharp','title','fetchInstances','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','replaceVariablesChat','):\x20newSecondValue\x20após\x20replaceVariables:','ProxyAgent','Not\x20Found','messaging-history.set','Operador:\x20\x22','\x20\x1b[0m','onWhatsApp','processvaredits','repeat','updateChatWithMessage','):\x20Limpando\x20AutomateSystem','response','Error\x20updating\x20privacy\x20settings','status','CHATS_DELETE','blockLogs','MESSAGES_UPDATE','HH:mm:ss','dbClient','):\x20tem\x20blocks','participant','flowPrefixCommand','Message','groupValidate','hDel','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','send','delay','headers','namespace','default','Invalid\x20format','description','leaveGroup','post','AutomateSystem','):\x20Buscando\x20conversa...','dyndns.org','\x1b[33m\x1b[1m','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','editOperator','views','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','listType','audio/mp4','fromMe','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','ensureChatIdsExist','updateParticipant','isURL','updatePresence','Getting\x20profile\x20info','ephemeralMessage','setNewValue','groups','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','sectionsToString','qrcode-terminal','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','desc','presenceSubscribe'];a0_0x5ab0=function(){return _0x26e0cb;};return a0_0x5ab0();}async function Uo(){const _0xc6f520=a0_0x401cf8;console[_0xc6f520(0x743)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x3086b7=(0x0,Re['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x3086b7[_0xc6f520(0x446)]['on'](_0xc6f520(0x573),_0x46c18e=>{const _0x569fd2=_0xc6f520;console['log'](_0x569fd2(0x4c0)+_0x46c18e);}),_0x3086b7[_0xc6f520(0x331)]['on'](_0xc6f520(0x573),_0x36acd4=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x36acd4);}),_0x3086b7['on'](_0xc6f520(0x5f3),_0x3e165e=>{const _0x2216d2=_0xc6f520;_0x3e165e!==0x0?console[_0x2216d2(0x654)](_0x2216d2(0x3cb)+_0x3e165e):console['log'](_0x2216d2(0x2ae)),console[_0x2216d2(0x743)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x2216d2(0x5f3)](),0x2710);});}var Jo=Ne[a0_0x401cf8(0x787)][a0_0x401cf8(0x6fa)](__dirname,a0_0x401cf8(0x4a0));async function jo(_0x390b27,_0x3515c6){const _0x30afaf=a0_0x401cf8;let _0x548d3b=Vo();_0x390b27=_0x390b27[_0x30afaf(0x4e1)]('.uazapi.dev','');try{let _0x27d264=le[_0x30afaf(0x787)]['readFileSync'](_0x3515c6,_0x30afaf(0x311));_0x27d264=_0x27d264[_0x30afaf(0x4e1)](/<apikey>/,_0x548d3b),_0x27d264=_0x27d264['replace'](/<subdomain>/g,_0x390b27),le['default'][_0x30afaf(0x1f0)](_0x3515c6,_0x27d264,_0x30afaf(0x311)),console[_0x30afaf(0x743)](_0x30afaf(0x1e7));}catch(_0x3b3e9a){console[_0x30afaf(0x654)](_0x30afaf(0x38e),_0x3b3e9a);}}function qo(_0x3c12c2,_0x1b7cdb){return new Promise((_0x7bafc2,_0x1583a9)=>{const _0x4d7ac0=a0_0x1c0b;let _0x47ccd9=(0x0,Re[_0x4d7ac0(0x463)])(_0x4d7ac0(0x55f),[_0x4d7ac0(0x5f7),'--standalone','-m',_0x3c12c2,_0x4d7ac0(0x28c),'-d',_0x1b7cdb]);_0x47ccd9['stdout']['on'](_0x4d7ac0(0x573),_0x1f7386=>{const _0x150766=_0x4d7ac0;console[_0x150766(0x743)](_0x150766(0x404)+_0x1f7386['toString']());}),_0x47ccd9['stderr']['on'](_0x4d7ac0(0x573),_0x211193=>{const _0x336b25=_0x4d7ac0;console[_0x336b25(0x654)](_0x336b25(0x5cc)+_0x211193[_0x336b25(0x596)]());}),_0x47ccd9['on'](_0x4d7ac0(0x613),_0x50aad9=>{const _0x317fc8=_0x4d7ac0;_0x50aad9!==0x0?(console[_0x317fc8(0x654)](_0x317fc8(0x7ff)+_0x50aad9),_0x1583a9(_0x317fc8(0x7ff)+_0x50aad9)):(console[_0x317fc8(0x743)](_0x317fc8(0x67c)),_0x7bafc2());});});}function Vo(_0x5842eb=0x32){const _0x5b2486=a0_0x401cf8;let _0x9c715d=_0x5b2486(0x543),_0x478ec9='';for(let _0x4fbaf7=0x0;_0x4fbaf7<_0x5842eb;_0x4fbaf7++)_0x478ec9+=_0x9c715d[_0x5b2486(0x2ac)](Math['floor'](Math[_0x5b2486(0x2b3)]()*_0x9c715d[_0x5b2486(0x24f)]));return _0x478ec9;}function Bo(){const _0x583c3b=a0_0x401cf8;(0x0,Re[_0x583c3b(0x522)])('shutdown\x20-r\x20now',(_0x42a0dc,_0x35e2ef,_0x377fb7)=>{const _0x3685b2=_0x583c3b;if(_0x42a0dc){console['error']('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x42a0dc);return;}if(_0x377fb7){console[_0x3685b2(0x654)](_0x3685b2(0x70d)+_0x377fb7);return;}console[_0x3685b2(0x743)]('Reinicialização\x20iniciada:\x20'+_0x35e2ef);});}0x0&&(module['exports']={'subdomain':subdomain});