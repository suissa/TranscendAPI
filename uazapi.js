const a0_0xac1afc=a0_0x4f0a;function a0_0x4f0a(_0x196906,_0x17b13f){const _0x145e0f=a0_0x145e();return a0_0x4f0a=function(_0x4f0a29,_0x493083){_0x4f0a29=_0x4f0a29-0x1bf;let _0x4136c4=_0x145e0f[_0x4f0a29];return _0x4136c4;},a0_0x4f0a(_0x196906,_0x17b13f);}(function(_0x58817b,_0x4ca78f){const _0x4fa5e8=a0_0x4f0a,_0xf491df=_0x58817b();while(!![]){try{const _0x1a7a34=-parseInt(_0x4fa5e8(0x497))/0x1+parseInt(_0x4fa5e8(0x231))/0x2*(parseInt(_0x4fa5e8(0x5bb))/0x3)+-parseInt(_0x4fa5e8(0x5be))/0x4*(parseInt(_0x4fa5e8(0x347))/0x5)+parseInt(_0x4fa5e8(0x43e))/0x6*(parseInt(_0x4fa5e8(0x764))/0x7)+-parseInt(_0x4fa5e8(0x48b))/0x8*(-parseInt(_0x4fa5e8(0x6bc))/0x9)+parseInt(_0x4fa5e8(0x323))/0xa+-parseInt(_0x4fa5e8(0x385))/0xb;if(_0x1a7a34===_0x4ca78f)break;else _0xf491df['push'](_0xf491df['shift']());}catch(_0x47a8d6){_0xf491df['push'](_0xf491df['shift']());}}}(a0_0x145e,0xa8da8));var ko=Object[a0_0xac1afc(0x6a6)],Bs=Object[a0_0xac1afc(0x4ed)],Lo=Object[a0_0xac1afc(0x5ab)],Uo=Object['getOwnPropertyNames'],Vo=Object['getPrototypeOf'],jo=Object[a0_0xac1afc(0x4f1)][a0_0xac1afc(0x1d5)],Bo=(_0x11efb5,_0x9315b3,_0x1ad4e7,_0x4098bf)=>{const _0x333da0=a0_0xac1afc;if(_0x9315b3&&typeof _0x9315b3==_0x333da0(0x5de)||typeof _0x9315b3==_0x333da0(0x3eb)){for(let _0x6388c2 of Uo(_0x9315b3))!jo[_0x333da0(0x2a4)](_0x11efb5,_0x6388c2)&&_0x6388c2!==_0x1ad4e7&&Bs(_0x11efb5,_0x6388c2,{'get':()=>_0x9315b3[_0x6388c2],'enumerable':!(_0x4098bf=Lo(_0x9315b3,_0x6388c2))||_0x4098bf[_0x333da0(0x2e9)]});}return _0x11efb5;},T=(_0x41afff,_0x466a27,_0xbec393)=>(_0xbec393=_0x41afff!=null?ko(Vo(_0x41afff)):{},Bo(_0x466a27||!_0x41afff||!_0x41afff[a0_0xac1afc(0x3ea)]?Bs(_0xbec393,a0_0xac1afc(0x5fe),{'value':_0x41afff,'enumerable':!0x0}):_0xbec393,_0x41afff)),Io=T(require(a0_0xac1afc(0x640))),Js=require('fs'),Gs=require(a0_0xac1afc(0x3f9)),qs=require(a0_0xac1afc(0x1fb)),je=require(a0_0xac1afc(0x1fb)),Y=process[a0_0xac1afc(0x71f)](),j=(0x0,je['join'])(Y,a0_0xac1afc(0x4a9)),Fs=(0x0,je[a0_0xac1afc(0x4c5)])(Y,a0_0xac1afc(0x321)),ts=(0x0,je[a0_0xac1afc(0x4c5)])(Y,a0_0xac1afc(0x2c4),a0_0xac1afc(0x6cb)),Ws=require('class-validator'),ss=class{constructor(){const _0x4a3af0=a0_0xac1afc;this[_0x4a3af0(0x628)]();}[a0_0xac1afc(0x50b)](_0x28652e){const _0x4a5454=a0_0xac1afc;return this[_0x4a5454(0x50c)][_0x28652e];}['loadEnv'](){const _0x1aba12=a0_0xac1afc;this[_0x1aba12(0x50c)]=process[_0x1aba12(0x50c)]?.[_0x1aba12(0x6bb)]!==_0x1aba12(0x783)?this[_0x1aba12(0x74e)]():this[_0x1aba12(0x204)](),this[_0x1aba12(0x50c)][_0x1aba12(0x201)]=process[_0x1aba12(0x50c)]?.[_0x1aba12(0x359)]===_0x1aba12(0x52d),process[_0x1aba12(0x50c)]?.[_0x1aba12(0x6bb)]===_0x1aba12(0x783)&&(this[_0x1aba12(0x50c)][_0x1aba12(0x667)][_0x1aba12(0x687)]='http',this[_0x1aba12(0x50c)][_0x1aba12(0x667)][_0x1aba12(0x3f3)]=Number[_0x1aba12(0x42d)](process[_0x1aba12(0x50c)]?.[_0x1aba12(0x5ec)]??_0x1aba12(0x504)));}[a0_0xac1afc(0x74e)](){const _0x295244=a0_0xac1afc;return(0x0,Gs['load'])((0x0,Js[_0x295244(0x763)])((0x0,qs[_0x295244(0x4c5)])(Fs,'../env.yml'),{'encoding':_0x295244(0x2e8)}));}[a0_0xac1afc(0x204)](){const _0x2bad82=a0_0xac1afc;return{'SERVER':{'TYPE':process['env'][_0x2bad82(0x76e)],'PORT':Number[_0x2bad82(0x42d)](process[_0x2bad82(0x50c)][_0x2bad82(0x5ec)])},'CORS':{'ORIGIN':process[_0x2bad82(0x50c)][_0x2bad82(0x55b)][_0x2bad82(0x5bf)](','),'METHODS':process['env']['CORS_METHODS']['split'](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x2bad82(0x50c)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x338)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x2bad82(0x50c)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x2bad82(0x42d)](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x629)]===_0x2bad82(0x783),'CONTACTS':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x1d0)]===_0x2bad82(0x783),'CHATS':process['env']?.[_0x2bad82(0x4f2)]===_0x2bad82(0x783)},'DATABASE':{'CONNECTION':{'HOST':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x4ae)],'PORT':Number[_0x2bad82(0x42d)](process[_0x2bad82(0x50c)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x2bad82(0x50c)][_0x2bad82(0x593)],'PASSWORD':process['env'][_0x2bad82(0x5a4)],'URI':process[_0x2bad82(0x50c)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x2bad82(0x50c)][_0x2bad82(0x5ea)]},'ENABLED':process[_0x2bad82(0x50c)]?.['DATABASE_ENABLED']===_0x2bad82(0x783)},'REDIS':{'ENABLED':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x5a7)]===_0x2bad82(0x783),'URI':process[_0x2bad82(0x50c)][_0x2bad82(0x617)],'PREFIX_KEY':process[_0x2bad82(0x50c)][_0x2bad82(0x424)]},'LOG':{'LEVEL':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x1cd)][_0x2bad82(0x5bf)](','),'COLOR':process[_0x2bad82(0x50c)]?.['LOG_COLOR']===_0x2bad82(0x783)},'DEL_INSTANCE':(0x0,Ws[_0x2bad82(0x29b)])(process[_0x2bad82(0x50c)]?.[_0x2bad82(0x23a)])?process[_0x2bad82(0x50c)][_0x2bad82(0x23a)]==='true':Number['parseInt'](process['env'][_0x2bad82(0x23a)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process['env'][_0x2bad82(0x773)]?process[_0x2bad82(0x50c)][_0x2bad82(0x773)]==='true':!0x1,'GLOBAL':{'URL':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x40d)],'ENABLED':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x564)]==='true'},'EVENTS':{'STATUS_INSTANCE':process[_0x2bad82(0x50c)]?.['WEBHOOK_EVENTS_STATUS_INSTANCE']===_0x2bad82(0x783),'QRCODE_UPDATED':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x720)]===_0x2bad82(0x783),'MESSAGES_SET':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x5e1)]===_0x2bad82(0x783),'MESSAGES_UPSERT':process[_0x2bad82(0x50c)]?.['WEBHOOK_EVENTS_MESSAGES_UPSERT']===_0x2bad82(0x783),'MESSAGES_UPDATE':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x1f0)]===_0x2bad82(0x783),'SEND_MESSAGE':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x4a2)]===_0x2bad82(0x783),'CONTACTS_SET':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x6b7)]===_0x2bad82(0x783),'CONTACTS_UPDATE':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x24a)]===_0x2bad82(0x783),'CONTACTS_UPSERT':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x591)]===_0x2bad82(0x783),'PRESENCE_UPDATE':process[_0x2bad82(0x50c)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x2bad82(0x783),'CHATS_SET':process[_0x2bad82(0x50c)]?.['WEBHOOK_EVENTS_CHATS_SET']===_0x2bad82(0x783),'CHATS_UPDATE':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x6ea)]==='true','CHATS_UPSERT':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x6b1)]===_0x2bad82(0x783),'CHATS_DELETE':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x550)]===_0x2bad82(0x783),'CONNECTION_UPDATE':process['env']?.[_0x2bad82(0x425)]===_0x2bad82(0x783),'GROUPS_UPSERT':process['env']?.[_0x2bad82(0x5f3)]==='true','GROUP_UPDATE':process[_0x2bad82(0x50c)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x2bad82(0x783),'GROUP_PARTICIPANTS_UPDATE':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x239)]===_0x2bad82(0x783),'NEW_JWT_TOKEN':process[_0x2bad82(0x50c)]?.[_0x2bad82(0x521)]===_0x2bad82(0x783)}},'CONFIG_SESSION_PHONE':{'CLIENT':process['env']?.[_0x2bad82(0x50f)]||_0x2bad82(0x5f8),'NAME':process[_0x2bad82(0x50c)]?.['CONFIG_SESSION_PHONE_NAME']||_0x2bad82(0x452)},'QRCODE':{'LIMIT':Number['parseInt'](process['env']['QRCODE_LIMIT'])||0x5},'TRIAL_AD':process['env']?.[_0x2bad82(0x235)],'TRIAL_INSTANCE_NAME':process['env']?.[_0x2bad82(0x739)],'AUTHENTICATION':{'TYPE':process[_0x2bad82(0x50c)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x2bad82(0x50c)][_0x2bad82(0x52c)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x2bad82(0x50c)]?.[_0x2bad82(0x2c7)])?Number[_0x2bad82(0x42d)](process[_0x2bad82(0x50c)][_0x2bad82(0x2c7)]):0xe10,'SECRET':process[_0x2bad82(0x50c)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new ss(),Do=T(require(a0_0xac1afc(0x1c5))),he=T(require(a0_0xac1afc(0x245))),Ls=require(a0_0xac1afc(0x1fb)),as=T(require(a0_0xac1afc(0x217))),os=(_0x2167a7=>(_0x2167a7[a0_0xac1afc(0x210)]=a0_0xac1afc(0x434),_0x2167a7[a0_0xac1afc(0x412)]=a0_0xac1afc(0x2bd),_0x2167a7[a0_0xac1afc(0x4c3)]=a0_0xac1afc(0x528),_0x2167a7[a0_0xac1afc(0x5b0)]=a0_0xac1afc(0x6e0),_0x2167a7[a0_0xac1afc(0x601)]=a0_0xac1afc(0x355),_0x2167a7[a0_0xac1afc(0x4db)]=a0_0xac1afc(0x427),_0x2167a7['DARK']=a0_0xac1afc(0x51e),_0x2167a7))(os||{}),Hs=(_0x146917=>(_0x146917['LOG']=a0_0xac1afc(0x6a0),_0x146917[a0_0xac1afc(0x506)]=a0_0xac1afc(0x33f),_0x146917[a0_0xac1afc(0x412)]=a0_0xac1afc(0x598),_0x146917[a0_0xac1afc(0x4c3)]=a0_0xac1afc(0x368),_0x146917[a0_0xac1afc(0x5b0)]=a0_0xac1afc(0x2ba),_0x146917[a0_0xac1afc(0x601)]=a0_0xac1afc(0x422),_0x146917[a0_0xac1afc(0x4db)]=a0_0xac1afc(0x267),_0x146917))(Hs||{}),Ks=(_0x1c4dc6=>(_0x1c4dc6['LOG']=a0_0xac1afc(0x210),_0x1c4dc6['WARN']=a0_0xac1afc(0x4c3),_0x1c4dc6['INFO']=a0_0xac1afc(0x412),_0x1c4dc6['DARK']=a0_0xac1afc(0x506),_0x1c4dc6['ERROR']=a0_0xac1afc(0x5b0),_0x1c4dc6[a0_0xac1afc(0x601)]=a0_0xac1afc(0x601),_0x1c4dc6[a0_0xac1afc(0x4db)]='VERBOSE',_0x1c4dc6))(Ks||{}),zs=(_0x18ec0d=>(_0x18ec0d['LOG']='\x1b[42m',_0x18ec0d[a0_0xac1afc(0x412)]=a0_0xac1afc(0x213),_0x18ec0d[a0_0xac1afc(0x4c3)]=a0_0xac1afc(0x334),_0x18ec0d[a0_0xac1afc(0x506)]=a0_0xac1afc(0x1fa),_0x18ec0d[a0_0xac1afc(0x5b0)]=a0_0xac1afc(0x293),_0x18ec0d[a0_0xac1afc(0x601)]=a0_0xac1afc(0x69c),_0x18ec0d[a0_0xac1afc(0x4db)]=a0_0xac1afc(0x70b),_0x18ec0d))(zs||{}),N=class{constructor(_0x4245d4='Logger'){const _0x17ea33=a0_0xac1afc;this['context']=_0x4245d4,this[_0x17ea33(0x2f4)]=b;}[a0_0xac1afc(0x487)](_0x2bb8d3){this['context']=_0x2bb8d3;}['console'](_0x112d72,_0x4342ed){const _0x2286f0=a0_0xac1afc;let _0x2d0f05=[];this['configService']['get'](_0x2286f0(0x210))['LEVEL'][_0x2286f0(0x458)](_0x2ce250=>_0x2d0f05[_0x2286f0(0x4b4)](Ks[_0x2ce250]));let _0x3ca340=typeof _0x112d72;_0x2d0f05[_0x2286f0(0x69a)](_0x4342ed)&&(b['get']('LOG')[_0x2286f0(0x268)]?(console[_0x2286f0(0x2b0)]('\x1b[1m'+Hs[_0x4342ed],_0x2286f0(0x2b7),(0x0,as[_0x2286f0(0x5fe)])()[_0x2286f0(0x3b3)](_0x2286f0(0x671)),_0x2286f0(0x79f),os[_0x4342ed]+zs[_0x4342ed]+_0x2286f0(0x2a2),_0x4342ed+_0x2286f0(0x33a),_0x2286f0(0x29c),this[_0x2286f0(0x1c8)]+'\x1b[0m',os[_0x4342ed],_0x3ca340!==_0x2286f0(0x5de)?_0x112d72:'',_0x2286f0(0x79f)),_0x3ca340===_0x2286f0(0x5de)&&console['log'](_0x112d72,'\x0a')):console[_0x2286f0(0x2b0)]((0x0,as[_0x2286f0(0x5fe)])()[_0x2286f0(0x3b3)](_0x2286f0(0x31d)),_0x4342ed+'\x20',''+this['context'],_0x112d72));}[a0_0xac1afc(0x2b0)](_0x40a9b7){const _0x2b221f=a0_0xac1afc;this[_0x2b221f(0x64f)](_0x40a9b7,_0x2b221f(0x210));}[a0_0xac1afc(0x5f1)](_0x1d1fea){const _0x1306ef=a0_0xac1afc;this[_0x1306ef(0x64f)](_0x1d1fea,_0x1306ef(0x412));}[a0_0xac1afc(0x234)](_0x4d26ce){const _0x5acbd9=a0_0xac1afc;this['console'](_0x4d26ce,_0x5acbd9(0x4c3));}[a0_0xac1afc(0x558)](_0x2b2cbc){const _0x4cdf13=a0_0xac1afc;this[_0x4cdf13(0x64f)](_0x2b2cbc,_0x4cdf13(0x5b0));}['verbose'](_0x159099){const _0x3270dd=a0_0xac1afc;this['console'](_0x159099,_0x3270dd(0x4db));}[a0_0xac1afc(0x30b)](_0x2e1d1e){const _0xd8f524=a0_0xac1afc;this[_0xd8f524(0x64f)](_0x2e1d1e,'DEBUG');}['dark'](_0x2406a6){const _0x47a0b9=a0_0xac1afc;this[_0x47a0b9(0x64f)](_0x2406a6,_0x47a0b9(0x506));}};function Qs(){const _0x418979=a0_0xac1afc;process['on'](_0x418979(0x3af),(_0xf4e920,_0x20a0c4)=>{const _0x2f8de2=_0x418979;new N('uncaughtException')[_0x2f8de2(0x558)]({'origin':_0x20a0c4,'stderr':process[_0x2f8de2(0x2d2)]['fd'],'error':_0xf4e920});}),process['on']('unhandledRejection',(_0x2adb20,_0x54388d)=>{const _0xa8f38e=_0x418979;new N(_0xa8f38e(0x526))[_0xa8f38e(0x558)]({'origin':_0x54388d,'stderr':process[_0xa8f38e(0x2d2)]['fd'],'error':_0x2adb20});});}var Ys=T(require(a0_0xac1afc(0x776))),is=new Ys['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),le=require(a0_0xac1afc(0x1fb)),fe=require('fs'),rs=require(a0_0xac1afc(0x1fb)),B=class{constructor(_0x125b74){const _0x5ef37d=a0_0xac1afc;this[_0x5ef37d(0x716)]=(0x0,rs[_0x5ef37d(0x4c5)])(Y,_0x5ef37d(0x2c4)),this[_0x5ef37d(0x559)]=_0x397dda=>{const _0x1d5c21=_0x5ef37d;(0x0,fe[_0x1d5c21(0x3fb)])(_0x397dda[_0x1d5c21(0x1fb)])||(0x0,fe[_0x1d5c21(0x5e4)])(_0x397dda[_0x1d5c21(0x1fb)],{'recursive':!0x0});try{return(0x0,fe[_0x1d5c21(0x1c4)])((0x0,rs[_0x1d5c21(0x4c5)])(_0x397dda['path'],_0x397dda[_0x1d5c21(0x3db)]+_0x1d5c21(0x48f)),JSON['stringify']({..._0x397dda['data']}),{'encoding':_0x1d5c21(0x2e8)}),{'message':_0x1d5c21(0x2a6)};}finally{_0x397dda['data']=void 0x0;}},this['dbSettings']=_0x125b74[_0x5ef37d(0x50b)]('DATABASE');}[a0_0xac1afc(0x2fe)](_0x29b829,_0xb6d2e9=!0x1){throw new Error('Method\x20not\x20implemented.');}['find'](_0x43a2cd){const _0x101ecb=a0_0xac1afc;throw new Error(_0x101ecb(0x721));}[a0_0xac1afc(0x2e7)](_0x17ec60,_0x30cb7a){throw new Error('Method\x20not\x20implemented.');}},oe=require('fs'),Be=class{},Fe=class extends B{constructor(_0x4c9bb7,_0x3e2243){const _0x14f273=a0_0xac1afc;super(_0x3e2243),this[_0x14f273(0x605)]=_0x4c9bb7,this[_0x14f273(0x2f4)]=_0x3e2243;}async['insert'](_0x35674a,_0x555830=!0x1){const _0x242508=a0_0xac1afc;if(_0x35674a[_0x242508(0x4b8)]!==0x0)try{return this[_0x242508(0x597)][_0x242508(0x753)]&&_0x555830?{'insertCount':(await this[_0x242508(0x605)][_0x242508(0x4f6)]([..._0x35674a]))[_0x242508(0x4b8)]}:_0x555830?(_0x35674a['forEach'](_0x4d49e8=>this['writeStore']({'path':(0x0,le[_0x242508(0x4c5)])(this[_0x242508(0x716)],_0x242508(0x635),_0x4d49e8[_0x242508(0x533)]),'fileName':_0x4d49e8[_0x242508(0x456)]['id'],'data':_0x4d49e8})),{'insertCount':_0x35674a['length']}):{'insertCount':0x0};}catch(_0x10d514){return console[_0x242508(0x2b0)]('ERROR:\x20',_0x10d514),_0x10d514;}finally{_0x35674a=void 0x0;}}async['find'](_0x1fe17d){const _0x1a1328=a0_0xac1afc;try{if(this['dbSettings']['ENABLED']){if(_0x1fe17d?.[_0x1a1328(0x73e)]?.['key']){for(let [_0x3ad418,_0x1a6553]of Object[_0x1a1328(0x5b7)](_0x1fe17d[_0x1a1328(0x73e)][_0x1a1328(0x456)]))_0x1fe17d[_0x1a1328(0x73e)]['key.'+_0x3ad418]=_0x1a6553;delete _0x1fe17d?.[_0x1a1328(0x73e)]?.[_0x1a1328(0x456)];}return await this[_0x1a1328(0x605)][_0x1a1328(0x621)]({..._0x1fe17d[_0x1a1328(0x73e)]})[_0x1a1328(0x1cf)]({'messageTimestamp':-0x1})['limit'](_0x1fe17d?.[_0x1a1328(0x6de)]??0x0);}let _0x46fa7d=[];if(_0x1fe17d?.[_0x1a1328(0x73e)]?.['key']?.['id'])_0x46fa7d['push'](JSON[_0x1a1328(0x61f)]((0x0,oe[_0x1a1328(0x763)])((0x0,le[_0x1a1328(0x4c5)])(this[_0x1a1328(0x716)],_0x1a1328(0x635),_0x1fe17d[_0x1a1328(0x73e)][_0x1a1328(0x533)],_0x1fe17d[_0x1a1328(0x73e)]['key']['id']+'.json'),{'encoding':_0x1a1328(0x2e8)})));else{let _0x16c02e=(0x0,oe[_0x1a1328(0x381)])((0x0,le[_0x1a1328(0x4c5)])(this[_0x1a1328(0x716)],_0x1a1328(0x635),_0x1fe17d[_0x1a1328(0x73e)][_0x1a1328(0x533)]),{'encoding':_0x1a1328(0x2e8)});for await(let _0x148777 of _0x16c02e)_0x148777[_0x1a1328(0x6e2)]()&&_0x46fa7d['push'](JSON[_0x1a1328(0x61f)]((0x0,oe[_0x1a1328(0x763)])((0x0,le[_0x1a1328(0x4c5)])(this[_0x1a1328(0x716)],_0x1a1328(0x635),_0x1fe17d[_0x1a1328(0x73e)][_0x1a1328(0x533)],_0x148777[_0x1a1328(0x587)]),{'encoding':'utf-8'})));}return _0x46fa7d['sort']((_0x4668cc,_0x209058)=>_0x209058[_0x1a1328(0x23e)]-_0x4668cc[_0x1a1328(0x23e)])[_0x1a1328(0x1dc)](0x0,_0x1fe17d?.[_0x1a1328(0x6de)]??_0x46fa7d[_0x1a1328(0x4b8)]);}catch{return[];}}async[a0_0xac1afc(0x2e7)](_0x22ce30){const _0x54d147=a0_0xac1afc;try{if(this[_0x54d147(0x597)]['ENABLED'])await this[_0x54d147(0x605)]['deleteMany']({..._0x22ce30[_0x54d147(0x73e)]});else{let {owner:_0x416ce8}=_0x22ce30[_0x54d147(0x73e)];(0x0,oe[_0x54d147(0x72a)])((0x0,le[_0x54d147(0x4c5)])(this[_0x54d147(0x716)],_0x54d147(0x635),_0x416ce8))[_0x54d147(0x458)](_0x32be6b=>{let _0x422fbe=(0x0,le['join'])(this['storePath'],'messages',_0x416ce8,_0x32be6b);(0x0,oe['unlinkSync'])(_0x422fbe);});}}catch(_0x58e9df){console[_0x54d147(0x558)](_0x58e9df);}}async[a0_0xac1afc(0x778)](_0x5d07f1,_0x7ec9e){const _0x2c5c53=a0_0xac1afc;try{let _0x236362=null;if(this[_0x2c5c53(0x597)][_0x2c5c53(0x753)])return _0x236362=await this[_0x2c5c53(0x605)][_0x2c5c53(0x794)]({..._0x5d07f1[_0x2c5c53(0x73e)]},{'$set':_0x7ec9e},{'new':!0x0}),_0x236362;}catch(_0x4e466c){throw console[_0x2c5c53(0x558)](_0x4e466c),_0x4e466c;}}async[a0_0xac1afc(0x4f6)](_0x5c3db3,_0x4dc1fa=!0x1){const _0xdfb4ad=a0_0xac1afc;if(_0x5c3db3[_0xdfb4ad(0x4b8)]!==0x0)try{return this[_0xdfb4ad(0x597)]['ENABLED']&&_0x4dc1fa?{'insertCount':(await this['messageModel'][_0xdfb4ad(0x4f6)]([..._0x5c3db3]))[_0xdfb4ad(0x4b8)]}:_0x4dc1fa?(_0x5c3db3[_0xdfb4ad(0x458)](_0x462cba=>this[_0xdfb4ad(0x559)]({'path':(0x0,le[_0xdfb4ad(0x4c5)])(this['storePath'],_0xdfb4ad(0x635),_0x462cba['owner']),'fileName':_0x462cba[_0xdfb4ad(0x456)]['id'],'data':_0x462cba})),{'insertCount':_0x5c3db3['length']}):{'insertCount':0x0};}catch(_0x5e8045){return console[_0xdfb4ad(0x2b0)](_0xdfb4ad(0x3a9),_0x5e8045),_0x5e8045;}finally{_0x5c3db3=void 0x0;}}},se=require('fs'),uo=T(require('@ffmpeg-installer/ffmpeg')),w=T(require(a0_0xac1afc(0x1c1))),_e=require('fs'),$=T(require(a0_0xac1afc(0x1fb))),ue=T(require(a0_0xac1afc(0x7a6))),po=require(a0_0xac1afc(0x4bf)),go=T(require(a0_0xac1afc(0x366))),mo=T(require(a0_0xac1afc(0x734))),Xs=[a0_0xac1afc(0x509),'documentMessage',a0_0xac1afc(0x691),'videoMessage','stickerMessage'],Zs=[a0_0xac1afc(0x24d),a0_0xac1afc(0x3d1),'viewOnceMessage',a0_0xac1afc(0x75c)],ho=require('os'),Ut=T(require(a0_0xac1afc(0x49a))),Bt=require('child_process'),Ns=require('node-mime-types'),Je=require('mongoose'),ns=T(require(a0_0xac1afc(0x6a7))),ea=new N(a0_0xac1afc(0x5b5)),q=b[a0_0xac1afc(0x50b)](a0_0xac1afc(0x1d1)),M=q[a0_0xac1afc(0x753)]?q[a0_0xac1afc(0x49f)][a0_0xac1afc(0x735)]?ns[a0_0xac1afc(0x5fe)][a0_0xac1afc(0x678)](q['CONNECTION'][a0_0xac1afc(0x735)],{'dbName':q[a0_0xac1afc(0x49f)][a0_0xac1afc(0x417)]+a0_0xac1afc(0x4fb)}):ns[a0_0xac1afc(0x5fe)]['createConnection'](a0_0xac1afc(0x3c2)+q['CONNECTION'][a0_0xac1afc(0x419)]+':'+q[a0_0xac1afc(0x49f)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':q['CONNECTION'][a0_0xac1afc(0x59c)],'pass':q[a0_0xac1afc(0x49f)][a0_0xac1afc(0x4c0)],'dbName':q['CONNECTION'][a0_0xac1afc(0x417)]+a0_0xac1afc(0x4fb)}):null;q[a0_0xac1afc(0x753)]&&ea[a0_0xac1afc(0x5f1)](a0_0xac1afc(0x71a)+M['$dbName']);async function Fo(){const _0x571e72=a0_0xac1afc;await I[_0x571e72(0x244)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await I['updateMany']({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await I[_0x571e72(0x244)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on'](a0_0xac1afc(0x2de),()=>{const _0x18294c=a0_0xac1afc;I&&Fo()[_0x18294c(0x655)](_0x422cdc=>ea[_0x18294c(0x558)](_0x18294c(0x682)+_0x422cdc));});var cs=class{},Jo=new Je[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Go=new Je[(a0_0xac1afc(0x214))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qo=new Je[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Go,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),I=M?.['model'](cs[a0_0xac1afc(0x587)],qo,a0_0xac1afc(0x3ac)),ta=require(a0_0xac1afc(0x6a7)),ls=class{},Wo=new ta['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ge=M?.['model'](ls[a0_0xac1afc(0x587)],Wo,a0_0xac1afc(0x1ce)),O=require('mongoose'),sa=new O[(a0_0xac1afc(0x214))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),us=new O[(a0_0xac1afc(0x214))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ho=new O['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0xac1afc(0x620)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),aa=new O['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),oa=new O[(a0_0xac1afc(0x214))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Ko=new O[(a0_0xac1afc(0x214))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ia=new O[(a0_0xac1afc(0x214))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ho},'apirequest':oa,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),fs=new O[(a0_0xac1afc(0x214))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ra=new O[(a0_0xac1afc(0x214))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ds=class{},na=new O[(a0_0xac1afc(0x214))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5d8c5c=a0_0xac1afc;return'!cmd_'+Math[_0x5d8c5c(0x2d3)]()['toString'](0x24)[_0x5d8c5c(0x28a)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[us],'default':[]}});na[a0_0xac1afc(0x657)](a0_0xac1afc(0x6df),function(_0x4b42ce){const _0x1bc180=a0_0xac1afc;let _0x247142=new Set(),_0x5f59e1=new Set(this[_0x1bc180(0x73b)]?.[_0x1bc180(0x6d5)](_0x38c3d3=>_0x38c3d3[_0x1bc180(0x587)])),_0x40a568=JSON[_0x1bc180(0x47f)](this),_0x4829ae=/{{(?!_)([^}]*)}}/g,_0x2c24fe;for(;(_0x2c24fe=_0x4829ae['exec'](_0x40a568))!==null;)_0x5f59e1[_0x1bc180(0x23d)](_0x2c24fe[0x1])||_0x247142[_0x1bc180(0x5f0)](_0x2c24fe[0x1]);_0x247142[_0x1bc180(0x572)]>0x0?(console[_0x1bc180(0x234)](_0x1bc180(0x1d4),Array[_0x1bc180(0x732)](_0x247142)),this[_0x1bc180(0x479)]=Array[_0x1bc180(0x732)](_0x247142)):this[_0x1bc180(0x479)]=[],_0x4b42ce();});var D=M?.[a0_0xac1afc(0x32b)](ds['name'],na,a0_0xac1afc(0x1ef)),zo=new O['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),ps=class{},Qo=new O[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[ia],'groups':[sa],'conditions':[aa],'varedits':[ra],'replyOptions':{'type':[us],'default':[]},'chatLog':zo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xac1afc(0x280)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[us],'default':[]}}),F=M?.[a0_0xac1afc(0x32b)](ps[a0_0xac1afc(0x587)],Qo,a0_0xac1afc(0x23b)),gs=class{},Yo=new O['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Xo=new O['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0xac1afc(0x785)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),U=M?.[a0_0xac1afc(0x32b)](gs[a0_0xac1afc(0x587)],Xo,'scheduleMessages'),ms=class{},Zo=new O['Schema']({'name':{'type':String},'requests':[oa],'owner':{'type':String}}),sn=M?.['model'](ms[a0_0xac1afc(0x587)],Zo,'saveAPI'),hs=class{},ei=new O[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new O[(a0_0xac1afc(0x214))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),si=new O[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new O[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),ie=M?.[a0_0xac1afc(0x32b)](hs[a0_0xac1afc(0x587)],ai,a0_0xac1afc(0x38d)),Se=T(require(a0_0xac1afc(0x6a7))),k=require(a0_0xac1afc(0x4a0)),we=class{constructor(_0x10b17c,_0x46aad2,_0x122798){const _0x4d1651=a0_0xac1afc;this['jid']=_0x10b17c,this[_0x4d1651(0x6c3)]=_0x46aad2,this[_0x4d1651(0x587)]=_0x122798;}},qe=class{},We=class{},Ne=class{},He=class{},Ke=class{},ye=class{},ze=class{},Qe=class{},Ye=class{},Xe=class{},_t=T(require(a0_0xac1afc(0x245))),ca=require('fs'),la=require(a0_0xac1afc(0x1fb));async function Ze(_0x32fe0a){const _0x2a8e08=a0_0xac1afc;let _0x4f4320=J[_0x2a8e08(0x3ff)][_0x32fe0a];if(q[_0x2a8e08(0x753)]){let _0x3cf72a=M['getClient']()['db'](q['CONNECTION'][_0x2a8e08(0x417)]+_0x2a8e08(0x5e5))['collection'](_0x32fe0a);return _0x4f4320||(await _0x3cf72a['find']({})['toArray']())[_0x2a8e08(0x4b8)]>0x0;}return _0x4f4320||(0x0,ca[_0x2a8e08(0x3fb)])((0x0,la[_0x2a8e08(0x4c5)])(j,_0x32fe0a));}async function ws(_0x32b174,_0x4bb101,_0x2d4c16){const _0x3002a7=a0_0xac1afc;if(_0x32b174[_0x3002a7(0x306)][_0x3002a7(0x69a)](_0x3002a7(0x66b))||_0x32b174[_0x3002a7(0x306)][_0x3002a7(0x69a)](_0x3002a7(0x498))||_0x32b174[_0x3002a7(0x306)][_0x3002a7(0x69a)](_0x3002a7(0x7af)))return _0x2d4c16();let _0x46cd49=_0x32b174['params'];if(!_0x46cd49?.[_0x3002a7(0x624)])throw new g('instanceName\x20not\x20provided.');if(!await Ze(_0x46cd49[_0x3002a7(0x624)]))throw new x(_0x3002a7(0x7ad)+_0x46cd49[_0x3002a7(0x624)]+_0x3002a7(0x75d));_0x2d4c16();}async function ua(_0x3bee33,_0x1b0aaa,_0x5e94c4){const _0x335e5a=a0_0xac1afc;if(_0x3bee33[_0x335e5a(0x306)][_0x335e5a(0x69a)](_0x335e5a(0x66b))){let _0x4aa2ad=_0x3bee33[_0x335e5a(0x1f9)];if(await Ze(_0x4aa2ad['instanceName']))throw new re('This\x20name\x20'+_0x4aa2ad['instanceName']+_0x335e5a(0x63f));J[_0x335e5a(0x3ff)][_0x4aa2ad[_0x335e5a(0x624)]]&&delete J[_0x335e5a(0x3ff)][_0x4aa2ad[_0x335e5a(0x624)]];}_0x5e94c4();}var da=require(a0_0xac1afc(0x4a0)),pa=T(require(a0_0xac1afc(0x429))),et=a0_0xac1afc(0x5f8),ii=new N('GUARD');async function ri(_0x5a8e49,_0x27878d,_0x4cd73){const _0x40f34d=a0_0xac1afc;let _0x2007d2=_0x5a8e49[_0x40f34d(0x50b)](_0x40f34d(0x405));if(_0x2007d2&&b[_0x40f34d(0x50b)](_0x40f34d(0x6ce))[_0x40f34d(0x3de)]['KEY']!==_0x2007d2)throw new ne();if(b[_0x40f34d(0x50b)]('AUTHENTICATION')[_0x40f34d(0x3de)]['KEY']===_0x2007d2)return _0x4cd73();if((_0x5a8e49[_0x40f34d(0x306)][_0x40f34d(0x69a)]('/instance/create')||_0x5a8e49[_0x40f34d(0x306)][_0x40f34d(0x69a)](_0x40f34d(0x498)))&&!_0x2007d2)throw new re('Missing\x20global\x20api\x20key',_0x40f34d(0x1c0));let _0x3e0db0=b[_0x40f34d(0x50b)]('AUTHENTICATION')[_0x40f34d(0x4e7)];try{let [_0x21ac2c,_0x348dcb]=_0x5a8e49[_0x40f34d(0x50b)](_0x40f34d(0x341))[_0x40f34d(0x5bf)]('\x20');if(_0x21ac2c[_0x40f34d(0x25c)]()!==_0x40f34d(0x72b))throw new ne();if(!(0x0,da['isJWT'])(_0x348dcb))throw new ne();let _0x2c5bf6=_0x5a8e49[_0x40f34d(0x2f2)],_0x5d68ea=pa[_0x40f34d(0x5fe)][_0x40f34d(0x703)](_0x348dcb,_0x3e0db0[_0x40f34d(0x51d)],{'ignoreExpiration':_0x3e0db0[_0x40f34d(0x581)]===0x0});if(_0x2c5bf6['instanceName']!==_0x5d68ea[_0x40f34d(0x624)]||et!==_0x5d68ea['apiName'])throw new ne();return _0x4cd73();}catch(_0x421bef){throw ii[_0x40f34d(0x558)](_0x421bef),new ne();}}async function ni(_0x2a7053,_0x202c73,_0x32a6d1){const _0x5490a1=a0_0xac1afc;let _0x249151=b[_0x5490a1(0x50b)](_0x5490a1(0x6ce))['API_KEY'],_0x2de48c=_0x2a7053['get'](_0x5490a1(0x405));if(_0x249151['KEY']===_0x2de48c)return _0x32a6d1();if(_0x2a7053[_0x5490a1(0x306)][_0x5490a1(0x69a)](_0x5490a1(0x66b))){let _0x37f00e=b[_0x5490a1(0x50b)](_0x5490a1(0x739)),_0x25e7f2=_0x2a7053['body'][_0x5490a1(0x624)];if(_0x37f00e&&_0x25e7f2[_0x5490a1(0x25c)]()['startsWith'](_0x37f00e['toLowerCase']()))return _0x32a6d1();if(!_0x2de48c)throw new re(_0x5490a1(0x5dc),_0x5490a1(0x1c0));}if(_0x2a7053[_0x5490a1(0x306)][_0x5490a1(0x69a)](_0x5490a1(0x498))&&!_0x2de48c)throw new re(_0x5490a1(0x5dc),_0x5490a1(0x1c0));if(_0x2a7053[_0x5490a1(0x306)][_0x5490a1(0x69a)](_0x5490a1(0x7af))&&!_0x2de48c)throw new re(_0x5490a1(0x5dc),_0x5490a1(0x1c0));try{let _0x490cc6=_0x2a7053['params'];if((await de[_0x5490a1(0x6cb)][_0x5490a1(0x621)](_0x490cc6['instanceName']))[_0x5490a1(0x405)]===_0x2de48c)return _0x32a6d1();}catch{}throw new ne();}var ga={'jwt':ri,'apikey':ni},Ka=require(a0_0xac1afc(0x245)),E=require('uuid'),S=(..._0x2eecd9)=>{const _0x116615=a0_0xac1afc;let _0x4310af={};return _0x2eecd9[_0x116615(0x458)](_0x336002=>_0x4310af[_0x336002]={'minLength':0x1,'description':_0x116615(0x29d)+_0x336002+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x2eecd9]}},'then':{'properties':_0x4310af}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0xac1afc(0x70e)}},...S(a0_0xac1afc(0x624))},ma={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0xac1afc(0x70e)}},'required':[a0_0xac1afc(0x630)],...S(a0_0xac1afc(0x630))},bn={'properties':{'key':{'type':a0_0xac1afc(0x5de),'properties':{'id':{'type':a0_0xac1afc(0x70e)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]}},'required':['id',a0_0xac1afc(0x49c),a0_0xac1afc(0x1e3)],...S('id',a0_0xac1afc(0x49c))},'message':{'type':'object'}}},X={'properties':{'delay':{'type':'integer','description':a0_0xac1afc(0x6f4)},'presence':{'type':a0_0xac1afc(0x70e),'enum':[a0_0xac1afc(0x602),a0_0xac1afc(0x372),'composing',a0_0xac1afc(0x731),a0_0xac1afc(0x3a0)]}}},Z={'type':'string','pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0xac1afc(0x57d)},ha={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'options':{...X},'textMessage':{'type':a0_0xac1afc(0x5de),'properties':{'text':{'type':a0_0xac1afc(0x70e)}},'required':[a0_0xac1afc(0x6a5)],...S(a0_0xac1afc(0x6a5))}},'required':[a0_0xac1afc(0x623),a0_0xac1afc(0x3c0)]},fa={'type':a0_0xac1afc(0x70e),'pattern':a0_0xac1afc(0x70d),'description':a0_0xac1afc(0x57d)},Sn={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...fa},'options':{...X},'textMessage':{'type':a0_0xac1afc(0x5de),'properties':{'text':{'type':a0_0xac1afc(0x70e)}},'required':[a0_0xac1afc(0x6a5)],...S(a0_0xac1afc(0x6a5))}},'required':[a0_0xac1afc(0x623),a0_0xac1afc(0x3c0)]},En={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...fa},'options':{...X},'mediaMessage':{'type':a0_0xac1afc(0x5de),'properties':{'mediatype':{'type':a0_0xac1afc(0x70e),'enum':['image','document',a0_0xac1afc(0x4fd),'audio']},'media':{'type':a0_0xac1afc(0x70e)},'fileName':{'type':'string'},'caption':{'type':a0_0xac1afc(0x70e)}},'required':[a0_0xac1afc(0x36f),a0_0xac1afc(0x6d4)],...S(a0_0xac1afc(0x3db),a0_0xac1afc(0x61c),'media')}},'required':[a0_0xac1afc(0x330),a0_0xac1afc(0x3c0)]},wa={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'options':{...X},'stickerMessage':{'type':a0_0xac1afc(0x5de),'properties':{'image':{'type':a0_0xac1afc(0x70e)}},'required':[a0_0xac1afc(0x6b0)],...S(a0_0xac1afc(0x6b0))}},'required':['stickerMessage',a0_0xac1afc(0x3c0)]},ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0xac1afc(0x5de),'properties':{'type':{'type':'string','enum':[a0_0xac1afc(0x6a5),a0_0xac1afc(0x6b0),a0_0xac1afc(0x6a4),a0_0xac1afc(0x4fd)]},'content':{'type':'string'},'caption':{'type':a0_0xac1afc(0x70e)},'backgroundColor':{'type':a0_0xac1afc(0x70e)},'font':{'type':a0_0xac1afc(0x771),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xac1afc(0x4c7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0xac1afc(0x67b),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]}},'required':[a0_0xac1afc(0x2da),a0_0xac1afc(0x664)],...S(a0_0xac1afc(0x2da),a0_0xac1afc(0x664))}},'required':['statusMessage']},ba={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'options':{...X},'mediaMessage':{'type':a0_0xac1afc(0x5de),'properties':{'mediatype':{'type':a0_0xac1afc(0x70e),'enum':[a0_0xac1afc(0x6b0),a0_0xac1afc(0x5d8),a0_0xac1afc(0x4fd),a0_0xac1afc(0x6a4)]},'media':{'type':a0_0xac1afc(0x70e)},'fileName':{'type':a0_0xac1afc(0x70e)},'caption':{'type':'string'}},'required':[a0_0xac1afc(0x36f),a0_0xac1afc(0x6d4)],...S('fileName',a0_0xac1afc(0x61c),a0_0xac1afc(0x6d4))}},'required':[a0_0xac1afc(0x330),a0_0xac1afc(0x3c0)]},Sa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...X},'audioMessage':{'type':a0_0xac1afc(0x5de),'properties':{'audio':{'type':a0_0xac1afc(0x70e)}},'required':['audio'],...S(a0_0xac1afc(0x6a4))}},'required':[a0_0xac1afc(0x691),a0_0xac1afc(0x3c0)]},Ea={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'pollMessage':{'type':a0_0xac1afc(0x5de),'properties':{'name':{'type':a0_0xac1afc(0x70e)},'selectableCount':{'type':a0_0xac1afc(0x3c0)},'values':{'type':a0_0xac1afc(0x4c7),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xac1afc(0x587),a0_0xac1afc(0x5db),a0_0xac1afc(0x789)],...S(a0_0xac1afc(0x587),a0_0xac1afc(0x5db),a0_0xac1afc(0x789))}},'required':[a0_0xac1afc(0x3c0),'pollMessage']},va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...X},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0xac1afc(0x70e)},'description':{'type':'string'},'footerText':{'type':a0_0xac1afc(0x70e)},'buttons':{'type':a0_0xac1afc(0x4c7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xac1afc(0x5de),'properties':{'buttonText':{'type':a0_0xac1afc(0x70e)},'buttonId':{'type':a0_0xac1afc(0x70e)}},'required':[a0_0xac1afc(0x3a6),a0_0xac1afc(0x34e)],...S(a0_0xac1afc(0x3a6),a0_0xac1afc(0x34e))}},'mediaMessage':{'type':a0_0xac1afc(0x5de),'properties':{'media':{'type':a0_0xac1afc(0x70e)},'fileName':{'type':a0_0xac1afc(0x70e)},'mediatype':{'type':a0_0xac1afc(0x70e),'enum':[a0_0xac1afc(0x6b0),'document',a0_0xac1afc(0x4fd)]}},'required':[a0_0xac1afc(0x6d4),a0_0xac1afc(0x36f)],...S(a0_0xac1afc(0x6d4),a0_0xac1afc(0x3db))}},'required':[a0_0xac1afc(0x717),'buttons'],...S('title','description')}},'required':['number',a0_0xac1afc(0x67d)]},Ca={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0xac1afc(0x3c0)},'name':{'type':a0_0xac1afc(0x70e)},'address':{'type':'string'}},'required':[a0_0xac1afc(0x779),a0_0xac1afc(0x6ee)],...S(a0_0xac1afc(0x587),a0_0xac1afc(0x318))}},'required':['number','locationMessage']},Na={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'options':{...X},'listMessage':{'type':a0_0xac1afc(0x5de),'properties':{'title':{'type':a0_0xac1afc(0x70e)},'description':{'type':a0_0xac1afc(0x70e)},'footerText':{'type':a0_0xac1afc(0x70e)},'buttonText':{'type':a0_0xac1afc(0x70e)},'sections':{'type':a0_0xac1afc(0x4c7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xac1afc(0x5de),'properties':{'title':{'type':a0_0xac1afc(0x70e)},'rows':{'type':a0_0xac1afc(0x4c7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xac1afc(0x5de),'properties':{'title':{'type':'string'},'description':{'type':'string'},'rowId':{'type':a0_0xac1afc(0x70e)}},'required':['title',a0_0xac1afc(0x574),a0_0xac1afc(0x329)],...S(a0_0xac1afc(0x717),a0_0xac1afc(0x574),a0_0xac1afc(0x329))}}},'required':['title',a0_0xac1afc(0x54d)],...S(a0_0xac1afc(0x717))}}},'required':[a0_0xac1afc(0x717),a0_0xac1afc(0x574),'buttonText',a0_0xac1afc(0x253)],...S(a0_0xac1afc(0x717),a0_0xac1afc(0x574),a0_0xac1afc(0x3a6),a0_0xac1afc(0x56a))}},'required':[a0_0xac1afc(0x3c0),a0_0xac1afc(0x4de)]},Ta={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'options':{...X},'contactMessage':{'type':a0_0xac1afc(0x4c7),'items':{'type':a0_0xac1afc(0x5de),'properties':{'fullName':{'type':a0_0xac1afc(0x70e)},'phoneNumber':{'type':a0_0xac1afc(0x70e),'minLength':0xa}},'required':['fullName',a0_0xac1afc(0x5eb)],...S('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xac1afc(0x3c0),'contactMessage']},Ma={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'reactionMessage':{'type':a0_0xac1afc(0x5de),'properties':{'key':{'type':a0_0xac1afc(0x5de),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xac1afc(0x70e)},'fromMe':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]}},'required':['id',a0_0xac1afc(0x49c),a0_0xac1afc(0x1e3)],...S('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0xac1afc(0x456),a0_0xac1afc(0x631)],...S(a0_0xac1afc(0x631))}},'required':[a0_0xac1afc(0x465)]},Ra={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xac1afc(0x70e),'pattern':a0_0xac1afc(0x67b),'description':a0_0xac1afc(0x44e)}}}},Aa={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'readMessages':{'type':a0_0xac1afc(0x4c7),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xac1afc(0x70e)},'fromMe':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xac1afc(0x70e)}},'required':['id',a0_0xac1afc(0x1e3),a0_0xac1afc(0x49c)],...S('id',a0_0xac1afc(0x49c))}}},'required':['readMessages']},Ia={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'privacySettings':{'type':a0_0xac1afc(0x5de),'properties':{'readreceipts':{'type':'string','enum':[a0_0xac1afc(0x3e3),'none']},'profile':{'type':a0_0xac1afc(0x70e),'enum':[a0_0xac1afc(0x3e3),'contacts',a0_0xac1afc(0x5c4),a0_0xac1afc(0x2d1)]},'status':{'type':a0_0xac1afc(0x70e),'enum':['all',a0_0xac1afc(0x1ce),'contact_blacklist','none']},'online':{'type':a0_0xac1afc(0x70e),'enum':['all',a0_0xac1afc(0x5ff)]},'last':{'type':a0_0xac1afc(0x70e),'enum':['all','contacts',a0_0xac1afc(0x5c4),a0_0xac1afc(0x2d1)]},'groupadd':{'type':a0_0xac1afc(0x70e),'enum':[a0_0xac1afc(0x3e3),a0_0xac1afc(0x1ce),a0_0xac1afc(0x5c4),a0_0xac1afc(0x2d1)]}},'required':[a0_0xac1afc(0x252),a0_0xac1afc(0x5c6),a0_0xac1afc(0x798),a0_0xac1afc(0x29e),'last','groupadd'],...S(a0_0xac1afc(0x252),a0_0xac1afc(0x5c6),a0_0xac1afc(0x798),a0_0xac1afc(0x29e),'last','groupadd')}},'required':['privacySettings']},Da={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'lastMessage':{'type':a0_0xac1afc(0x5de),'properties':{'key':{'type':a0_0xac1afc(0x5de),'properties':{'id':{'type':a0_0xac1afc(0x70e)},'remoteJid':{'type':a0_0xac1afc(0x70e)},'fromMe':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]}},'required':['id',a0_0xac1afc(0x1e3),a0_0xac1afc(0x49c)],...S('id','remoteJid')},'messageTimestamp':{'type':a0_0xac1afc(0x771),'minLength':0x1}},'required':['key'],...S(a0_0xac1afc(0x23e))},'archive':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]}},'required':[a0_0xac1afc(0x76d),'archive']},Pa={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'id':{'type':a0_0xac1afc(0x70e)},'fromMe':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xac1afc(0x70e)},'participant':{'type':a0_0xac1afc(0x70e)}},'required':['id',a0_0xac1afc(0x1e3),a0_0xac1afc(0x49c)],...S('id','remoteJid','participant')},Oa={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0xac1afc(0x70e),'minLength':0x1},'pushName':{'type':a0_0xac1afc(0x70e),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...S(a0_0xac1afc(0x38b),'id',a0_0xac1afc(0x379))}}},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'name':{'type':a0_0xac1afc(0x70e)}},...S(a0_0xac1afc(0x587))},xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0xac1afc(0x70e)}},...S(a0_0xac1afc(0x798))},Te={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0xac1afc(0x70e)},'picture':{'type':'string'}}},$a={'type':'object','properties':{'wuid':{'type':a0_0xac1afc(0x70e)},'name':{'type':a0_0xac1afc(0x70e)},'picture':{'type':a0_0xac1afc(0x70e)},'status':{'type':a0_0xac1afc(0x70e)},'isBusiness':{'type':a0_0xac1afc(0x5aa)}}},ka={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'where':{'type':a0_0xac1afc(0x5de),'properties':{'_id':{'type':a0_0xac1afc(0x70e),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0xac1afc(0x1e3),a0_0xac1afc(0x49c),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0xac1afc(0x70e),'minLength':0x1,'description':a0_0xac1afc(0x4c4)},'id':{'type':a0_0xac1afc(0x70e),'minLength':0x1,'description':a0_0xac1afc(0x4c4)},'fromMe':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S(a0_0xac1afc(0x38b))},'limit':{'type':a0_0xac1afc(0x771)}}},La={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'where':{'type':a0_0xac1afc(0x5de),'properties':{'_id':{'type':a0_0xac1afc(0x70e)},'remoteJid':{'type':a0_0xac1afc(0x70e)},'id':{'type':a0_0xac1afc(0x70e)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0xac1afc(0x70e)},'status':{'type':'string','enum':['ERROR',a0_0xac1afc(0x515),'SERVER_ACK','DELIVERY_ACK',a0_0xac1afc(0x331),'PLAYED']}},...S(a0_0xac1afc(0x38b),'remoteJid','id','status')},'limit':{'type':a0_0xac1afc(0x771)}}},Ua={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'number':{...Z},'presence':{'type':'string','enum':[a0_0xac1afc(0x602),a0_0xac1afc(0x372),a0_0xac1afc(0x3ef),a0_0xac1afc(0x731),a0_0xac1afc(0x3a0)]}},'required':[a0_0xac1afc(0x4e9),a0_0xac1afc(0x3c0)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0xac1afc(0x70e)},'description':{'type':'string'},'profilePicture':{'type':a0_0xac1afc(0x70e)},'participants':{'type':a0_0xac1afc(0x4c7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xac1afc(0x70e),'minLength':0xa,'pattern':a0_0xac1afc(0x606),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject','participants'],...S(a0_0xac1afc(0x4f3),a0_0xac1afc(0x574),a0_0xac1afc(0x6c1))},Me={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xac1afc(0x70e),'pattern':a0_0xac1afc(0x4ce)}},'required':[a0_0xac1afc(0x38a)],...S('groupJid')},ja={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'groupJid':{'type':a0_0xac1afc(0x70e)},'action':{'type':a0_0xac1afc(0x70e),'enum':[a0_0xac1afc(0x5f0),a0_0xac1afc(0x69e),a0_0xac1afc(0x1e9),a0_0xac1afc(0x65a)]},'participants':{'type':a0_0xac1afc(0x4c7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xac1afc(0x70e),'minLength':0xa,'pattern':'\x5cd+','description':a0_0xac1afc(0x22e)}}},'required':[a0_0xac1afc(0x38a),'action','participants'],...S(a0_0xac1afc(0x38a),'action')},Ba={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'groupJid':{'type':a0_0xac1afc(0x70e)},'expiration':{'type':a0_0xac1afc(0x3c0),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xac1afc(0x38a),'expiration'],...S('groupJid','expiration')},Fa={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'groupJid':{'type':a0_0xac1afc(0x70e)},'image':{'type':a0_0xac1afc(0x70e)}},'required':['groupJid',a0_0xac1afc(0x6b0)],...S('groupJid',a0_0xac1afc(0x6b0))},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':['groupJid',a0_0xac1afc(0x574)],...S('groupJid','description')},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xac1afc(0x70e)},'name':{'type':'string'}},'required':[a0_0xac1afc(0x38a),'name'],...S(a0_0xac1afc(0x38a),a0_0xac1afc(0x587))},qa={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'groupJid':{'type':a0_0xac1afc(0x70e)},'setting':{'type':a0_0xac1afc(0x70e),'enum':[a0_0xac1afc(0x3b4),a0_0xac1afc(0x44d),'unlocked',a0_0xac1afc(0x5e0)]}},'required':[a0_0xac1afc(0x38a),a0_0xac1afc(0x50e)],...S(a0_0xac1afc(0x38a),'setting')},Wa={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'inviteCode':{'type':a0_0xac1afc(0x70e)}},'required':[a0_0xac1afc(0x761)],...S(a0_0xac1afc(0x761))},Ha={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]}},'required':[a0_0xac1afc(0x55f),a0_0xac1afc(0x453)]},vn={'$id':(0x0,E['v4'])(),'type':a0_0xac1afc(0x5de),'properties':{'local_map':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xac1afc(0x5aa),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map',a0_0xac1afc(0x3dd),a0_0xac1afc(0x608),a0_0xac1afc(0x317),a0_0xac1afc(0x760),a0_0xac1afc(0x5fd),a0_0xac1afc(0x755),'CONTACTS_SET',a0_0xac1afc(0x278),a0_0xac1afc(0x24b),a0_0xac1afc(0x73f),a0_0xac1afc(0x2fc),a0_0xac1afc(0x6c2),a0_0xac1afc(0x53f),a0_0xac1afc(0x43c),a0_0xac1afc(0x28f),a0_0xac1afc(0x6e1),a0_0xac1afc(0x3cb),a0_0xac1afc(0x1df)],...S(a0_0xac1afc(0x29f),a0_0xac1afc(0x3dd),'QRCODE_UPDATED',a0_0xac1afc(0x317),a0_0xac1afc(0x760),a0_0xac1afc(0x5fd),a0_0xac1afc(0x755),a0_0xac1afc(0x1e0),a0_0xac1afc(0x278),a0_0xac1afc(0x24b),'PRESENCE_UPDATE',a0_0xac1afc(0x2fc),a0_0xac1afc(0x6c2),'CHATS_UPDATE','CHATS_DELETE',a0_0xac1afc(0x28f),'GROUPS_UPSERT',a0_0xac1afc(0x3cb),a0_0xac1afc(0x1df))},Ae=require('fs'),Re=require(a0_0xac1afc(0x1fb)),tt=class{},st=class extends B{constructor(_0x3a696d,_0x2f7493){const _0x3009a1=a0_0xac1afc;super(_0x2f7493),this['contactModel']=_0x3a696d,this[_0x3009a1(0x2f4)]=_0x2f7493;}async[a0_0xac1afc(0x2fe)](_0x4faa2b,_0x13d7ae=!0x1){const _0xa45ca3=a0_0xac1afc;if(_0x4faa2b['length']!==0x0)try{return this[_0xa45ca3(0x597)]['ENABLED']&&_0x13d7ae?{'insertCount':(await this[_0xa45ca3(0x6b9)][_0xa45ca3(0x4f6)]([..._0x4faa2b]))[_0xa45ca3(0x4b8)]}:(_0x4faa2b[_0xa45ca3(0x458)](_0x5d783b=>{const _0x233b0d=_0xa45ca3;this['writeStore']({'path':(0x0,Re[_0x233b0d(0x4c5)])(this[_0x233b0d(0x716)],_0x233b0d(0x1ce),_0x5d783b[_0x233b0d(0x533)]),'fileName':_0x5d783b['id'],'data':_0x5d783b});}),{'insertCount':_0x4faa2b[_0xa45ca3(0x4b8)]});}catch(_0x2912a4){return _0x2912a4;}finally{_0x4faa2b=void 0x0;}}async[a0_0xac1afc(0x2e7)](_0x4c6ef5){const _0x217203=a0_0xac1afc;try{return this[_0x217203(0x597)][_0x217203(0x753)]?await this[_0x217203(0x6b9)][_0x217203(0x712)]({..._0x4c6ef5[_0x217203(0x73e)]}):{'deleted':{'contact':_0x4c6ef5[_0x217203(0x73e)]['id']}};}catch(_0x59659f){return{'error':_0x59659f?.['toString']()};}}async[a0_0xac1afc(0x778)](_0xa8163f,_0x4e715e){const _0x55445d=a0_0xac1afc;try{if(_0xa8163f[_0x55445d(0x4b8)]===0x0)return;if(this[_0x55445d(0x597)]['ENABLED']){let _0x4dc2aa=_0xa8163f['map'](_0x2b30b8=>({'updateOne':{'filter':{'id':_0x2b30b8['id'],'owner':_0x4e715e},'update':{..._0x2b30b8}}})),{nModified:_0x482880}=await this[_0x55445d(0x6b9)][_0x55445d(0x486)](_0x4dc2aa);return{'insertCount':_0x482880};}}catch{return;}}async[a0_0xac1afc(0x621)](_0x4f9c2d){const _0x3a2919=a0_0xac1afc;try{if(this[_0x3a2919(0x597)][_0x3a2919(0x753)])return await this[_0x3a2919(0x6b9)][_0x3a2919(0x621)]({'owner':_0x4f9c2d[_0x3a2919(0x73e)][_0x3a2919(0x533)]})[_0x3a2919(0x6de)](_0x4f9c2d?.[_0x3a2919(0x6de)]??0x0)['lean']();let _0x5aa89f=[];if(_0x4f9c2d?.[_0x3a2919(0x73e)]?.['id'])_0x5aa89f[_0x3a2919(0x4b4)](JSON[_0x3a2919(0x61f)]((0x0,Ae[_0x3a2919(0x763)])((0x0,Re[_0x3a2919(0x4c5)])(this[_0x3a2919(0x716)],_0x3a2919(0x1ce),_0x4f9c2d[_0x3a2919(0x73e)][_0x3a2919(0x533)],_0x4f9c2d['where']['id']+_0x3a2919(0x48f)),{'encoding':'utf-8'})));else{let _0x108364=(0x0,Ae[_0x3a2919(0x381)])((0x0,Re[_0x3a2919(0x4c5)])(this['storePath'],_0x3a2919(0x1ce),_0x4f9c2d[_0x3a2919(0x73e)][_0x3a2919(0x533)]),{'encoding':'utf-8'});for await(let _0x252666 of _0x108364)_0x252666[_0x3a2919(0x6e2)]()&&_0x5aa89f[_0x3a2919(0x4b4)](JSON[_0x3a2919(0x61f)]((0x0,Ae[_0x3a2919(0x763)])((0x0,Re['join'])(this[_0x3a2919(0x716)],_0x3a2919(0x1ce),_0x4f9c2d['where'][_0x3a2919(0x533)],_0x252666[_0x3a2919(0x587)]),{'encoding':'utf-8'})));}return _0x5aa89f;}catch{return[];}}},at=require(a0_0xac1afc(0x42c)),An=require(a0_0xac1afc(0x64a)),ys=new N(a0_0xac1afc(0x319)),L=class{constructor(){}[a0_0xac1afc(0x618)](_0x4dc743,_0x3a6ac1=!0x0){const _0x40ed07=a0_0xac1afc;let _0x46713d='/'+_0x4dc743;return _0x3a6ac1&&(_0x46713d+=_0x40ed07(0x7a3)),_0x46713d;}async[a0_0xac1afc(0x790)](_0xef1a5b){const _0x5a7776=a0_0xac1afc;let {request:_0x2699b0,schema:_0x30a6c7,ClassRef:_0x349a05,execute:_0x200097}=_0xef1a5b,_0xdb839b=new _0x349a05(),_0x20105b=_0x2699b0[_0x5a7776(0x1f9)],_0x270cf0=_0x2699b0[_0x5a7776(0x2f2)];_0x2699b0?.[_0x5a7776(0x633)]&&Object[_0x5a7776(0x72e)](_0x2699b0[_0x5a7776(0x633)])[_0x5a7776(0x4b8)]>0x0&&Object['assign'](_0x270cf0,_0x2699b0['query']),_0x2699b0[_0x5a7776(0x306)][_0x5a7776(0x69a)](_0x5a7776(0x66b))&&Object['assign'](_0x270cf0,_0x20105b),Object[_0x5a7776(0x512)](_0xdb839b,_0x20105b);let _0x6a173=_0x30a6c7?(0x0,at[_0x5a7776(0x4a8)])(_0xdb839b,_0x30a6c7):{'valid':!0x0,'errors':[]};if(!_0x6a173[_0x5a7776(0x75e)]){let _0x3adcb2=_0x6a173[_0x5a7776(0x69b)][_0x5a7776(0x6d5)](({property:_0x54e74a,stack:_0x4c3d81,schema:_0x29b95})=>{const _0x2193fb=_0x5a7776;let _0x43bc90;return _0x29b95[_0x2193fb(0x574)]?_0x43bc90=_0x29b95[_0x2193fb(0x574)]:_0x43bc90=_0x4c3d81[_0x2193fb(0x5fa)]('instance.',''),{'property':_0x54e74a['replace'](_0x2193fb(0x4e2),''),'message':_0x43bc90};});throw ys[_0x5a7776(0x558)]([..._0x3adcb2]),new g(..._0x3adcb2);}return await _0x200097(_0x270cf0,_0xdb839b);}async[a0_0xac1afc(0x403)](_0x527092){const _0x32bb9f=a0_0xac1afc;let {request:_0x2df6b2,ClassRef:_0x9ba319,schema:_0x273084,execute:_0x1d588d}=_0x527092,_0x4e480a=_0x2df6b2[_0x32bb9f(0x633)];if(!_0x4e480a?.[_0x32bb9f(0x38a)])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x32bb9f(0x711));let _0x27617e=_0x2df6b2['params'],_0x401318=_0x2df6b2[_0x32bb9f(0x1f9)],_0x26c516=new _0x9ba319();Object[_0x32bb9f(0x512)](_0x401318,_0x4e480a),Object[_0x32bb9f(0x512)](_0x26c516,_0x401318);let _0x568b72=(0x0,at[_0x32bb9f(0x4a8)])(_0x26c516,_0x273084);if(!_0x568b72[_0x32bb9f(0x75e)]){let _0x36ff44=_0x568b72[_0x32bb9f(0x69b)]['map'](({property:_0x4430fa,stack:_0x4e125d,schema:_0xeddce0})=>{const _0x4f6120=_0x32bb9f;let _0xa4baec;return _0xeddce0[_0x4f6120(0x574)]?_0xa4baec=_0xeddce0['description']:_0xa4baec=_0x4e125d[_0x4f6120(0x5fa)](_0x4f6120(0x4e2),''),{'property':_0x4430fa['replace'](_0x4f6120(0x4e2),''),'message':_0xa4baec};});throw ys[_0x32bb9f(0x558)]([..._0x36ff44]),new g(..._0x36ff44);}return await _0x1d588d(_0x27617e,_0x26c516);}async[a0_0xac1afc(0x302)](_0x5c2284){const _0x141c5c=a0_0xac1afc;let {request:_0x18adc4,ClassRef:_0xb137db,schema:_0x46816f,execute:_0x205d45}=_0x5c2284,_0x4b3657=_0x18adc4[_0x141c5c(0x1f9)];if(!_0x4b3657?.[_0x141c5c(0x761)])throw new g(_0x141c5c(0x21b),_0x141c5c(0x3f4));let _0xb1490b=_0x18adc4['params'],_0x491820=_0x18adc4[_0x141c5c(0x1f9)],_0x2d78ca=new _0xb137db();Object[_0x141c5c(0x512)](_0x491820,_0x4b3657),Object[_0x141c5c(0x512)](_0x2d78ca,_0x491820);let _0x954457=(0x0,at[_0x141c5c(0x4a8)])(_0x2d78ca,_0x46816f);if(!_0x954457[_0x141c5c(0x75e)]){let _0x7fbe5e=_0x954457[_0x141c5c(0x69b)][_0x141c5c(0x6d5)](({property:_0x4326a4,stack:_0x78e080,schema:_0xf3e348})=>{const _0x339283=_0x141c5c;let _0x222c54;return _0xf3e348[_0x339283(0x574)]?_0x222c54=_0xf3e348[_0x339283(0x574)]:_0x222c54=_0x78e080[_0x339283(0x5fa)](_0x339283(0x4e2),''),{'property':_0x4326a4[_0x339283(0x5fa)]('instance.',''),'message':_0x222c54};});throw ys['error']([..._0x7fbe5e]),new g(..._0x7fbe5e);}return await _0x205d45(_0xb1490b,_0x2d78ca);}},Ie=require(a0_0xac1afc(0x1fb)),De=require('fs'),ot=class{},it=class extends B{constructor(_0x2e5e8c,_0xad223b){const _0x15644b=a0_0xac1afc;super(_0xad223b),this[_0x15644b(0x34c)]=_0x2e5e8c,this[_0x15644b(0x2f4)]=_0xad223b;}async[a0_0xac1afc(0x2fe)](_0x1603d2,_0x4f0193){const _0x545369=a0_0xac1afc;if(_0x1603d2[_0x545369(0x4b8)]!==0x0)try{if(this[_0x545369(0x597)]['ENABLED']&&_0x4f0193)return{'insertCount':(await this[_0x545369(0x34c)][_0x545369(0x4f6)]([..._0x1603d2]))['length']};_0x1603d2[_0x545369(0x458)](_0x204d45=>{const _0x1817e9=_0x545369;this['writeStore']({'path':(0x0,Ie[_0x1817e9(0x4c5)])(this[_0x1817e9(0x716)],_0x1817e9(0x298),_0x204d45['owner']),'fileName':_0x204d45['id'],'data':_0x204d45});});}catch(_0x32c65b){return _0x32c65b;}}async[a0_0xac1afc(0x621)](_0x290cbf){const _0x3bf07c=a0_0xac1afc;try{if(this[_0x3bf07c(0x597)][_0x3bf07c(0x753)])return await this['messageUpModel'][_0x3bf07c(0x621)]({..._0x290cbf[_0x3bf07c(0x73e)]})[_0x3bf07c(0x1cf)]({'datetime':-0x1})[_0x3bf07c(0x6de)](_0x290cbf?.['limit']??0x0);let _0x38249a=[];if(_0x290cbf?.['where']?.['id'])_0x38249a[_0x3bf07c(0x4b4)](JSON[_0x3bf07c(0x61f)]((0x0,De[_0x3bf07c(0x763)])((0x0,Ie[_0x3bf07c(0x4c5)])(this[_0x3bf07c(0x716)],_0x3bf07c(0x298),_0x290cbf[_0x3bf07c(0x73e)]['owner'],_0x290cbf[_0x3bf07c(0x73e)]['id']+_0x3bf07c(0x48f)),{'encoding':'utf-8'})));else{let _0x2ec650=(0x0,De['opendirSync'])((0x0,Ie[_0x3bf07c(0x4c5)])(this[_0x3bf07c(0x716)],_0x3bf07c(0x298),_0x290cbf[_0x3bf07c(0x73e)]['owner']),{'encoding':_0x3bf07c(0x2e8)});for await(let _0x4914ac of _0x2ec650)_0x4914ac[_0x3bf07c(0x6e2)]()&&_0x38249a[_0x3bf07c(0x4b4)](JSON[_0x3bf07c(0x61f)]((0x0,De[_0x3bf07c(0x763)])((0x0,Ie[_0x3bf07c(0x4c5)])(this['storePath'],_0x3bf07c(0x298),_0x290cbf['where']['owner'],_0x4914ac['name']),{'encoding':'utf-8'})));}return _0x38249a['sort']((_0x25b93b,_0x482b60)=>_0x482b60[_0x3bf07c(0x3e9)]-_0x25b93b[_0x3bf07c(0x3e9)])[_0x3bf07c(0x1dc)](0x0,_0x290cbf?.['limit']??_0x38249a[_0x3bf07c(0x4b8)]);}catch{return[];}}async['delete'](_0x5e4d5b){const _0x5b621c=a0_0xac1afc;try{if(this[_0x5b621c(0x597)][_0x5b621c(0x753)])return await this['messageUpModel'][_0x5b621c(0x712)]({..._0x5e4d5b['where']});}catch(_0xff0a48){return console[_0x5b621c(0x558)](_0x5b621c(0x7a9),_0xff0a48),_0xff0a48;}}},y=class{},rt=class extends L{constructor(..._0x592959){const _0x328cab=a0_0xac1afc;super(),this['router']=(0x0,Ka[_0x328cab(0x5c0)])(),this['router'][_0x328cab(0x1e2)](this['routerPath'](_0x328cab(0x64d)),..._0x592959,async(_0x1c1c3e,_0x2d520b)=>{const _0x202ef9=_0x328cab;let _0x4a8135=await this[_0x202ef9(0x790)]({'request':_0x1c1c3e,'schema':Ua,'ClassRef':qe,'execute':(_0x21b029,_0x345371)=>P['updatePresence'](_0x21b029,_0x345371)});return _0x2d520b[_0x202ef9(0x798)](0xc9)[_0x202ef9(0x654)](_0x4a8135);})[_0x328cab(0x1e2)](this[_0x328cab(0x618)](_0x328cab(0x27e)),..._0x592959,async(_0xaf90ff,_0x42800e)=>{const _0xa59b92=_0x328cab;let _0x40f347=await this[_0xa59b92(0x790)]({'request':_0xaf90ff,'schema':Ra,'ClassRef':We,'execute':(_0x5583a2,_0x426103)=>P[_0xa59b92(0x736)](_0x5583a2,_0x426103)});return _0x42800e['status'](0xc9)[_0xa59b92(0x654)](_0x40f347);})['post'](this[_0x328cab(0x618)](_0x328cab(0x582)),..._0x592959,async(_0x375215,_0x4f3859)=>{const _0x2d8822=_0x328cab;let _0x5e9ab9=await this[_0x2d8822(0x790)]({'request':_0x375215,'schema':v,'ClassRef':y,'execute':(_0x19977a,_0x379295)=>P[_0x2d8822(0x582)](_0x19977a,_0x379295)});return _0x4f3859[_0x2d8822(0x798)](0xc9)[_0x2d8822(0x654)](_0x5e9ab9);})[_0x328cab(0x332)](this[_0x328cab(0x618)](_0x328cab(0x3f7)),..._0x592959,async(_0x51c0e8,_0x2fd392)=>{const _0x4b1633=_0x328cab;let _0xc5a5f8=await this['dataValidate']({'request':_0x51c0e8,'schema':Aa,'ClassRef':ze,'execute':(_0x22aa28,_0x4e69d2)=>P[_0x4b1633(0x47e)](_0x22aa28,_0x4e69d2)});return _0x2fd392['status'](0xc9)[_0x4b1633(0x654)](_0xc5a5f8);})['put'](this['routerPath'](_0x328cab(0x3d0)),..._0x592959,async(_0x233f45,_0x19e831)=>{const _0x46cdfb=_0x328cab;let _0x169b34=await this['dataValidate']({'request':_0x233f45,'schema':Da,'ClassRef':Qe,'execute':(_0x24b7a7,_0x1bc2d0)=>P[_0x46cdfb(0x3d0)](_0x24b7a7,_0x1bc2d0)});return _0x19e831[_0x46cdfb(0x798)](0xc9)[_0x46cdfb(0x654)](_0x169b34);})[_0x328cab(0x2e7)](this[_0x328cab(0x618)](_0x328cab(0x663)),..._0x592959,async(_0x51dc05,_0x232ebd)=>{const _0x119c05=_0x328cab;let _0x5863cd=await this[_0x119c05(0x790)]({'request':_0x51dc05,'schema':Pa,'ClassRef':Xe,'execute':(_0x5aad52,_0x22012b)=>P['deleteMessage'](_0x5aad52,_0x22012b)});return _0x232ebd['status'](0xc9)[_0x119c05(0x654)](_0x5863cd);})[_0x328cab(0x1e2)](this['routerPath']('fetchProfilePictureUrl'),..._0x592959,async(_0x4362f0,_0x238fa9)=>{const _0x3fa1c9=_0x328cab;let _0x3cd48d=await this['dataValidate']({'request':_0x4362f0,'schema':Te,'ClassRef':Ne,'execute':(_0x30565f,_0x49a083)=>P[_0x3fa1c9(0x636)](_0x30565f,_0x49a083)});return _0x238fa9[_0x3fa1c9(0x798)](0xc8)[_0x3fa1c9(0x654)](_0x3cd48d);})[_0x328cab(0x1e2)](this[_0x328cab(0x618)]('fetchProfile'),..._0x592959,async(_0x2842b1,_0x1ee42c)=>{const _0x2a0006=_0x328cab;let _0x1d3584=await this[_0x2a0006(0x790)]({'request':_0x2842b1,'schema':$a,'ClassRef':Ne,'execute':(_0x5528e3,_0xa1ae98)=>P[_0x2a0006(0x3c1)](_0x5528e3,_0xa1ae98)});return _0x1ee42c[_0x2a0006(0x798)](0xc8)[_0x2a0006(0x654)](_0x1d3584);})[_0x328cab(0x1e2)](this['routerPath']('findContacts'),..._0x592959,async(_0x1832aa,_0x50c7b0)=>{const _0x3f2a14=_0x328cab;let _0x51ce16=await this['dataValidate']({'request':_0x1832aa,'schema':Oa,'ClassRef':tt,'execute':(_0x29314b,_0x2876f4)=>P[_0x3f2a14(0x4d3)](_0x29314b,_0x2876f4)});return _0x50c7b0[_0x3f2a14(0x798)](0xc8)['json'](_0x51ce16);})['post'](this[_0x328cab(0x618)](_0x328cab(0x34a)),..._0x592959,async(_0x588d87,_0x150c9b)=>{const _0x1dabf1=_0x328cab;let _0x2a956e=await this['dataValidate']({'request':_0x588d87,'schema':null,'ClassRef':Object,'execute':(_0x4eebfa,_0x5ad23d)=>P[_0x1dabf1(0x34a)](_0x4eebfa,_0x5ad23d)});return _0x150c9b[_0x1dabf1(0x798)](0xc9)[_0x1dabf1(0x654)](_0x2a956e);})[_0x328cab(0x1e2)](this[_0x328cab(0x618)](_0x328cab(0x3a7)),..._0x592959,async(_0x47a525,_0x1512cd)=>{const _0x1e79d9=_0x328cab;let _0x12cca0=await this[_0x1e79d9(0x790)]({'request':_0x47a525,'schema':ka,'ClassRef':Be,'execute':(_0xdb006e,_0x2fdd56)=>P[_0x1e79d9(0x5b3)](_0xdb006e,_0x2fdd56)});return _0x1512cd['status'](0xc8)[_0x1e79d9(0x654)](_0x12cca0);})[_0x328cab(0x1e2)](this[_0x328cab(0x618)]('findStatusMessage'),..._0x592959,async(_0x2f725f,_0x53882b)=>{const _0x1f42c8=_0x328cab;let _0x1837a2=await this['dataValidate']({'request':_0x2f725f,'schema':La,'ClassRef':ot,'execute':(_0x504332,_0x1b9374)=>P[_0x1f42c8(0x27d)](_0x504332,_0x1b9374)});return _0x53882b[_0x1f42c8(0x798)](0xc8)['json'](_0x1837a2);})[_0x328cab(0x50b)](this[_0x328cab(0x618)]('findChats'),..._0x592959,async(_0x1fc6a2,_0x19049b)=>{const _0x3b2802=_0x328cab;let _0xb03ba8=await this[_0x3b2802(0x790)]({'request':_0x1fc6a2,'schema':null,'ClassRef':y,'execute':_0x28ce40=>P[_0x3b2802(0x787)](_0x28ce40)});return _0x19049b['status'](0xc8)['json'](_0xb03ba8);})[_0x328cab(0x50b)](this['routerPath'](_0x328cab(0x650)),..._0x592959,async(_0x2fb659,_0x1f5056)=>{const _0x58c867=_0x328cab;let _0x4b5d88=await this[_0x58c867(0x790)]({'request':_0x2fb659,'schema':null,'ClassRef':y,'execute':_0x23cdf9=>P[_0x58c867(0x650)](_0x23cdf9)});return _0x1f5056[_0x58c867(0x798)](0xc8)[_0x58c867(0x654)](_0x4b5d88);})[_0x328cab(0x332)](this[_0x328cab(0x618)](_0x328cab(0x53d)),..._0x592959,async(_0x1ac352,_0x5b6cf8)=>{const _0x12c30c=_0x328cab;let _0x569bc8=await this[_0x12c30c(0x790)]({'request':_0x1ac352,'schema':Ia,'ClassRef':Ye,'execute':(_0x369f0b,_0x3be34c)=>P['updatePrivacySettings'](_0x369f0b,_0x3be34c)});return _0x5b6cf8['status'](0xc9)[_0x12c30c(0x654)](_0x569bc8);})[_0x328cab(0x1e2)](this['routerPath'](_0x328cab(0x661)),..._0x592959,async(_0x33eb23,_0xaaccdd)=>{const _0x391b28=_0x328cab;let _0xb59743=await this[_0x391b28(0x790)]({'request':_0x33eb23,'schema':Te,'ClassRef':ye,'execute':(_0x5074f0,_0x502f38)=>P['fetchBusinessProfile'](_0x5074f0,_0x502f38)});return _0xaaccdd[_0x391b28(0x798)](0xc8)['json'](_0xb59743);})[_0x328cab(0x1e2)](this[_0x328cab(0x618)](_0x328cab(0x5cf)),..._0x592959,async(_0x373716,_0x300f64)=>{const _0x4cc01a=_0x328cab;let _0x20889e=await this[_0x4cc01a(0x790)]({'request':_0x373716,'schema':_a,'ClassRef':He,'execute':(_0x2239e3,_0xb7264f)=>P['updateProfileName'](_0x2239e3,_0xb7264f)});return _0x300f64[_0x4cc01a(0x798)](0xc8)['json'](_0x20889e);})['post'](this['routerPath']('updateProfileStatus'),..._0x592959,async(_0x2ebc4d,_0x4c1584)=>{const _0x553525=_0x328cab;let _0x4e9dc6=await this['dataValidate']({'request':_0x2ebc4d,'schema':xa,'ClassRef':Ke,'execute':(_0x526c8e,_0x40070f)=>P[_0x553525(0x356)](_0x526c8e,_0x40070f)});return _0x4c1584[_0x553525(0x798)](0xc8)[_0x553525(0x654)](_0x4e9dc6);})[_0x328cab(0x332)](this[_0x328cab(0x618)]('updateProfilePicture'),..._0x592959,async(_0x3c3a18,_0x4c5019)=>{const _0x530fc9=_0x328cab;let _0x5d9879=await this[_0x530fc9(0x790)]({'request':_0x3c3a18,'schema':Te,'ClassRef':ye,'execute':(_0xd3e7ae,_0x4086e0)=>P[_0x530fc9(0x4b6)](_0xd3e7ae,_0x4086e0)});return _0x4c5019[_0x530fc9(0x798)](0xc8)[_0x530fc9(0x654)](_0x5d9879);})[_0x328cab(0x2e7)](this['routerPath']('removeProfilePicture'),..._0x592959,async(_0x56c60c,_0x510099)=>{const _0x18e1e1=_0x328cab;let _0x42f5bc=await this[_0x18e1e1(0x790)]({'request':_0x56c60c,'schema':Te,'ClassRef':ye,'execute':(_0x44d56e,_0x15501a)=>P[_0x18e1e1(0x4bd)](_0x44d56e,_0x15501a)});return _0x510099[_0x18e1e1(0x798)](0xc8)[_0x18e1e1(0x654)](_0x42f5bc);});}},za=require(a0_0xac1afc(0x245)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},ee=class{},pt=class{},gt=class extends ee{},mt=class extends ee{},ht=class extends L{constructor(..._0x36c748){const _0x368527=a0_0xac1afc;super(),this[_0x368527(0x3dc)]=(0x0,za['Router'])(),this['router'][_0x368527(0x1e2)](this[_0x368527(0x618)](_0x368527(0x6a6)),..._0x36c748,async(_0xe5735f,_0x2b555e)=>{const _0x3ff7f0=_0x368527;let _0x505241=await this[_0x3ff7f0(0x790)]({'request':_0xe5735f,'schema':Va,'ClassRef':nt,'execute':(_0x31a7b9,_0x171aec)=>V['createGroup'](_0x31a7b9,_0x171aec)});_0x2b555e['status'](0xc9)['json'](_0x505241);})['put'](this[_0x368527(0x618)](_0x368527(0x345)),..._0x36c748,async(_0x485640,_0x361fec)=>{const _0xf25bfd=_0x368527;let _0x289629=await this[_0xf25bfd(0x403)]({'request':_0x485640,'schema':Fa,'ClassRef':ct,'execute':(_0x2ddd1d,_0x1fbea3)=>V[_0xf25bfd(0x345)](_0x2ddd1d,_0x1fbea3)});_0x361fec[_0xf25bfd(0x798)](0xc9)[_0xf25bfd(0x654)](_0x289629);})['put'](this[_0x368527(0x618)]('groupDesc'),..._0x36c748,async(_0x8e0f2c,_0x2b4261)=>{const _0x18d964=_0x368527;let _0x1f9618=await this[_0x18d964(0x403)]({'request':_0x8e0f2c,'schema':Ja,'ClassRef':lt,'execute':(_0x416f30,_0x32d4ad)=>V[_0x18d964(0x202)](_0x416f30,_0x32d4ad)});_0x2b4261[_0x18d964(0x798)](0xc9)[_0x18d964(0x654)](_0x1f9618);})[_0x368527(0x332)](this[_0x368527(0x618)]('groupName'),..._0x36c748,async(_0x203813,_0x355ee8)=>{const _0x53e3ee=_0x368527;let _0xa3e607=await this['groupValidate']({'request':_0x203813,'schema':Ga,'ClassRef':ut,'execute':(_0x4921d8,_0x5100e1)=>V[_0x53e3ee(0x37b)](_0x4921d8,_0x5100e1)});_0x355ee8[_0x53e3ee(0x798)](0xc9)['json'](_0xa3e607);})[_0x368527(0x332)](this[_0x368527(0x618)]('groupSetting'),..._0x36c748,async(_0x4cd4a9,_0x130527)=>{const _0x4e3751=_0x368527;let _0x581e60=await this[_0x4e3751(0x403)]({'request':_0x4cd4a9,'schema':qa,'ClassRef':dt,'execute':(_0x4a0a46,_0x16e391)=>V[_0x4e3751(0x37d)](_0x4a0a46,_0x16e391)});_0x130527[_0x4e3751(0x798)](0xc9)['json'](_0x581e60);})[_0x368527(0x332)](this[_0x368527(0x618)]('toggleEphemeral'),..._0x36c748,async(_0x3c5c4b,_0x439139)=>{const _0x3db5cb=_0x368527;let _0x998a90=await this[_0x3db5cb(0x403)]({'request':_0x3c5c4b,'schema':Ba,'ClassRef':mt,'execute':(_0x1248ad,_0x52a44a)=>V[_0x3db5cb(0x2df)](_0x1248ad,_0x52a44a)});_0x439139[_0x3db5cb(0x798)](0xc9)[_0x3db5cb(0x654)](_0x998a90);})[_0x368527(0x50b)](this[_0x368527(0x618)](_0x368527(0x3d2)),..._0x36c748,async(_0x2669ec,_0x45186f)=>{const _0x2be254=_0x368527;let _0x18d3ea=await this[_0x2be254(0x403)]({'request':_0x2669ec,'schema':Me,'ClassRef':ee,'execute':(_0xf3bc68,_0x5b4ea0)=>V[_0x2be254(0x1c2)](_0xf3bc68,_0x5b4ea0)});_0x45186f[_0x2be254(0x798)](0xc8)[_0x2be254(0x654)](_0x18d3ea);})[_0x368527(0x50b)](this[_0x368527(0x618)]('findGroups'),..._0x36c748,async(_0x286a83,_0x11cdc5)=>{const _0x1ee5f5=_0x368527;let _0x311b1f=await this[_0x1ee5f5(0x790)]({'request':_0x286a83,'schema':v,'ClassRef':y,'execute':_0x1316be=>V['findGroups'](_0x1316be)});_0x11cdc5[_0x1ee5f5(0x798)](0xc8)[_0x1ee5f5(0x654)](_0x311b1f);})[_0x368527(0x50b)](this[_0x368527(0x618)](_0x368527(0x613)),..._0x36c748,async(_0x44bd83,_0x79bdbf)=>{const _0x55c678=_0x368527;let _0x212c91=await this['groupValidate']({'request':_0x44bd83,'schema':Me,'ClassRef':ee,'execute':(_0x5969b3,_0x6dca15)=>V[_0x55c678(0x367)](_0x5969b3,_0x6dca15)});_0x79bdbf[_0x55c678(0x798)](0xc8)[_0x55c678(0x654)](_0x212c91);})[_0x368527(0x50b)](this['routerPath']('inviteCode'),..._0x36c748,async(_0x970494,_0xd9ab7f)=>{const _0x5c7d64=_0x368527;let _0x412bf5=await this['groupValidate']({'request':_0x970494,'schema':Me,'ClassRef':ee,'execute':(_0x182999,_0x214927)=>V[_0x5c7d64(0x761)](_0x182999,_0x214927)});_0xd9ab7f['status'](0xc8)[_0x5c7d64(0x654)](_0x412bf5);})[_0x368527(0x332)](this[_0x368527(0x618)](_0x368527(0x44a)),..._0x36c748,async(_0x29f6dc,_0x5a63b0)=>{const _0x3644e0=_0x368527;let _0x3bc2be=await this['joinGroupValidate']({'request':_0x29f6dc,'schema':Wa,'ClassRef':pt,'execute':(_0x47e605,_0x188560)=>V[_0x3644e0(0x44a)](_0x47e605,_0x188560)});_0x5a63b0[_0x3644e0(0x798)](0xc9)[_0x3644e0(0x654)](_0x3bc2be);})['put'](this[_0x368527(0x618)](_0x368527(0x40c)),..._0x36c748,async(_0x11caa4,_0x173c74)=>{const _0x4b471c=_0x368527;let _0x2a2cd1=await this[_0x4b471c(0x403)]({'request':_0x11caa4,'schema':Me,'ClassRef':ee,'execute':(_0x31b970,_0xb45515)=>V['revokeInviteCode'](_0x31b970,_0xb45515)});_0x173c74[_0x4b471c(0x798)](0xc9)[_0x4b471c(0x654)](_0x2a2cd1);})['put'](this[_0x368527(0x618)](_0x368527(0x53e)),..._0x36c748,async(_0x5c5706,_0x4fcdba)=>{const _0x57b7df=_0x368527;let _0x4f08a9=await this[_0x57b7df(0x403)]({'request':_0x5c5706,'schema':ja,'ClassRef':gt,'execute':(_0x4e3f3d,_0x3a49d5)=>V[_0x57b7df(0x511)](_0x4e3f3d,_0x3a49d5)});_0x4fcdba[_0x57b7df(0x798)](0xc9)[_0x57b7df(0x654)](_0x4f08a9);})['delete'](this[_0x368527(0x618)](_0x368527(0x510)),..._0x36c748,async(_0x183223,_0x222d2c)=>{const _0x3d91aa=_0x368527;let _0xa7e00=await this[_0x3d91aa(0x403)]({'request':_0x183223,'schema':{},'ClassRef':ee,'execute':(_0x4ae95d,_0x278288)=>V['leaveGroup'](_0x4ae95d,_0x278288)});_0x222d2c[_0x3d91aa(0x798)](0xc8)['json'](_0xa7e00);});}},Xa=require('express'),Pe=require(a0_0xac1afc(0x429)),bs=require(a0_0xac1afc(0x4bf)),Qa=require('class-validator'),Ya=T(require(a0_0xac1afc(0x7a6))),ft=class{},wt=class c{constructor(_0x18747c,_0x315d8a,_0x2a28c4){const _0x3b3dbd=a0_0xac1afc;this[_0x3b3dbd(0x2f4)]=_0x18747c,this[_0x3b3dbd(0x4be)]=_0x315d8a,this[_0x3b3dbd(0x754)]=_0x2a28c4,this[_0x3b3dbd(0x3a1)]=new N(c[_0x3b3dbd(0x587)]);}async[a0_0xac1afc(0x609)](_0x4b2d6d){const _0x1da2ee=a0_0xac1afc;let _0x412713=this[_0x1da2ee(0x2f4)][_0x1da2ee(0x50b)](_0x1da2ee(0x6ce))['JWT'],_0x5c2981=(0x0,Pe[_0x1da2ee(0x3b9)])({'instanceName':_0x4b2d6d[_0x1da2ee(0x624)],'apiName':et,'tokenId':(0x0,bs['v4'])()},_0x412713[_0x1da2ee(0x51d)],{'expiresIn':_0x412713[_0x1da2ee(0x581)],'encoding':_0x1da2ee(0x66c),'subject':_0x1da2ee(0x5a9)}),_0x6df6bc=await this[_0x1da2ee(0x754)][_0x1da2ee(0x6cb)][_0x1da2ee(0x6a6)]({'jwt':_0x5c2981},_0x4b2d6d[_0x1da2ee(0x624)]);if(_0x6df6bc[_0x1da2ee(0x558)])throw this[_0x1da2ee(0x3a1)][_0x1da2ee(0x558)]({'localError':c['name']+_0x1da2ee(0x49b),'error':_0x6df6bc[_0x1da2ee(0x558)]}),new g(_0x1da2ee(0x5b1),_0x6df6bc[_0x1da2ee(0x558)]?.['toString']());return{'jwt':_0x5c2981};}async['apikey'](_0x504ca0){const _0x13a468=a0_0xac1afc;let _0x446102=(0x0,bs['v4'])()[_0x13a468(0x29a)](),_0x205d19=await this[_0x13a468(0x754)][_0x13a468(0x6cb)][_0x13a468(0x6a6)]({'apikey':_0x446102},_0x504ca0[_0x13a468(0x624)]);if(_0x205d19[_0x13a468(0x558)])throw this[_0x13a468(0x3a1)][_0x13a468(0x558)]({'localError':c[_0x13a468(0x587)]+'.jwt','error':_0x205d19[_0x13a468(0x558)]}),new g(_0x13a468(0x5b1),_0x205d19['error']?.['toString']());return{'apikey':_0x446102};}async[a0_0xac1afc(0x6ab)](_0x540d07){const _0x597a9e=a0_0xac1afc;let _0xc8fce0=this[_0x597a9e(0x2f4)]['get'](_0x597a9e(0x6ce));return await this[_0xc8fce0[_0x597a9e(0x687)]](_0x540d07);}async[a0_0xac1afc(0x6ad)]({oldToken:_0x3f06ef}){const _0x44398b=a0_0xac1afc;if(!(0x0,Qa[_0x44398b(0x78b)])(_0x3f06ef))throw new g(_0x44398b(0x77d));try{let _0x284017=this[_0x44398b(0x2f4)][_0x44398b(0x50b)](_0x44398b(0x6ce))[_0x44398b(0x4e7)],_0x2f2037=(0x0,Pe[_0x44398b(0x703)])(_0x3f06ef,_0x284017[_0x44398b(0x51d)],{'ignoreExpiration':!0x0}),_0x548298=await this[_0x44398b(0x754)]['auth'][_0x44398b(0x621)](_0x2f2037['instanceName']),_0x5383c6=(0x0,Pe[_0x44398b(0x703)])(_0x548298[_0x44398b(0x609)],_0x284017[_0x44398b(0x51d)],{'ignoreExpiration':!0x0});if(_0x2f2037[_0x44398b(0x31b)]!==_0x5383c6[_0x44398b(0x31b)])throw new g(_0x44398b(0x77d));let _0x287a17={'jwt':(await this[_0x44398b(0x609)]({'instanceName':_0x2f2037['instanceName']}))['jwt'],'instanceName':_0x2f2037['instanceName']};try{let _0x53f8e2=await this[_0x44398b(0x754)]['webhook'][_0x44398b(0x621)](_0x2f2037['instanceName']);_0x53f8e2?.[_0x44398b(0x453)]&&this[_0x44398b(0x2f4)]['get'](_0x44398b(0x276))[_0x44398b(0x7a2)][_0x44398b(0x43b)]&&await Ya[_0x44398b(0x5fe)]['create']({'baseURL':_0x53f8e2['url']})['post']('',{'event':_0x44398b(0x28d),'instance':_0x2f2037[_0x44398b(0x624)],'data':_0x287a17},{'params':{'owner':this[_0x44398b(0x4be)][_0x44398b(0x3ff)][_0x2f2037['instanceName']][_0x44398b(0x30d)]}});}catch(_0x1a3b10){this[_0x44398b(0x3a1)][_0x44398b(0x558)](_0x1a3b10);}return _0x287a17;}catch(_0x846ffe){throw this[_0x44398b(0x3a1)][_0x44398b(0x558)]({'localError':c[_0x44398b(0x587)]+'.refreshToken','error':_0x846ffe}),new g(_0x44398b(0x77d));}}},yt=class extends L{constructor(_0x1c6a82,..._0xc61707){const _0x2d2fef=a0_0xac1afc;super(),this[_0x2d2fef(0x2f4)]=_0x1c6a82,this[_0x2d2fef(0x3dc)]=(0x0,Xa[_0x2d2fef(0x5c0)])();let _0x101e4d=_0x1c6a82['get'](_0x2d2fef(0x6ce));this[_0x2d2fef(0x3dc)][_0x2d2fef(0x1e2)](_0x2d2fef(0x73a),..._0xc61707,async(_0x1a19bd,_0x13f409)=>{const _0x3d3c28=_0x2d2fef;let {instanceName:_0x54c206,apikey:_0x3f99d2}=_0x1a19bd['body'],_0x19d50c=await ce['createInstance']({'instanceName':_0x54c206,'apikey':_0x3f99d2});return _0x13f409[_0x3d3c28(0x798)](0xc9)['json'](_0x19d50c);})[_0x2d2fef(0x332)](this[_0x2d2fef(0x618)](_0x2d2fef(0x34d)),..._0xc61707,async(_0x3291e9,_0x19e204)=>{const _0x553c7c=_0x2d2fef;let _0x814b5f=await this[_0x553c7c(0x790)]({'request':_0x3291e9,'schema':v,'ClassRef':y,'execute':_0x8637e0=>ce[_0x553c7c(0x63b)](_0x8637e0)});return _0x19e204['status'](0xc8)[_0x553c7c(0x654)](_0x814b5f);})[_0x2d2fef(0x50b)](this[_0x2d2fef(0x618)]('connect'),..._0xc61707,async(_0x2e3a8e,_0x541ddb)=>{const _0x555a69=_0x2d2fef;let _0x261608=await this[_0x555a69(0x790)]({'request':_0x2e3a8e,'schema':v,'ClassRef':y,'execute':_0x2d5056=>ce['connectToWhatsapp'](_0x2d5056)});return _0x541ddb['status'](0xc8)[_0x555a69(0x654)](_0x261608);})[_0x2d2fef(0x50b)](this[_0x2d2fef(0x618)](_0x2d2fef(0x376)),..._0xc61707,async(_0x1cdb44,_0x55751f)=>{const _0x58466a=_0x2d2fef;let _0x7fb1e1=await this[_0x58466a(0x790)]({'request':_0x1cdb44,'schema':v,'ClassRef':y,'execute':_0x533973=>ce['connectionState'](_0x533973)});return _0x55751f[_0x58466a(0x798)](0xc8)[_0x58466a(0x654)](_0x7fb1e1);})[_0x2d2fef(0x50b)](this[_0x2d2fef(0x618)](_0x2d2fef(0x741),!0x1),..._0xc61707,async(_0x4c79aa,_0x4f9544)=>{const _0x2833a9=_0x2d2fef;let _0xb51b04=await this['dataValidate']({'request':_0x4c79aa,'schema':null,'ClassRef':y,'execute':_0x1eaad3=>ce[_0x2833a9(0x741)](_0x1eaad3)});return _0x4f9544[_0x2833a9(0x798)](0xc8)[_0x2833a9(0x654)](_0xb51b04);})[_0x2d2fef(0x2e7)](this[_0x2d2fef(0x618)]('logout'),..._0xc61707,async(_0x12a782,_0x131784)=>{const _0x5bb4af=_0x2d2fef;let _0x131858=await this['dataValidate']({'request':_0x12a782,'schema':v,'ClassRef':y,'execute':_0x38d7ba=>ce[_0x5bb4af(0x68e)](_0x38d7ba)});return _0x131784[_0x5bb4af(0x798)](0xc8)[_0x5bb4af(0x654)](_0x131858);})[_0x2d2fef(0x2e7)](this['routerPath'](_0x2d2fef(0x2e7)),..._0xc61707,async(_0x2a9ba7,_0x300c19)=>{const _0x116c9c=_0x2d2fef;let _0x3c35b3=await this[_0x116c9c(0x790)]({'request':_0x2a9ba7,'schema':v,'ClassRef':y,'execute':_0x272d45=>ce[_0x116c9c(0x1e4)](_0x272d45)});return _0x300c19['status'](0xc8)[_0x116c9c(0x654)](_0x3c35b3);}),_0x101e4d[_0x2d2fef(0x687)]==='jwt'&&this[_0x2d2fef(0x3dc)][_0x2d2fef(0x332)]('/refreshToken',async(_0x29fe81,_0x1f67b0)=>{const _0x534f64=_0x2d2fef;let _0x4ed0b0=await this[_0x534f64(0x790)]({'request':_0x29fe81,'schema':ma,'ClassRef':ft,'execute':(_0x4db727,_0x4fdf27)=>ce[_0x534f64(0x6ad)](_0x4db727,_0x4fdf27)});return _0x1f67b0[_0x534f64(0x798)](0xc9)[_0x534f64(0x654)](_0x4ed0b0);});}},Za=require('express'),Ss=class{},z=class extends Ss{},bt=class extends z{},St=class extends z{},Et=class extends z{},Oe=class extends z{},vt=class extends z{},Ct=class extends z{},Nt=class extends z{},Tt=class extends z{},Mt=class extends z{},Rt=class{},At=class extends L{constructor(..._0x5ce3c5){const _0x4e9196=a0_0xac1afc;super(),this[_0x4e9196(0x3dc)]=(0x0,Za['Router'])(),this[_0x4e9196(0x3dc)][_0x4e9196(0x1e2)](this['routerPath'](_0x4e9196(0x4ab)),..._0x5ce3c5,async(_0xb39acf,_0x2475b7)=>{const _0x4bc826=_0x4e9196;let _0x7d5b7c=await this[_0x4bc826(0x790)]({'request':_0xb39acf,'schema':ha,'ClassRef':bt,'execute':(_0x48680b,_0x3d91b3)=>K[_0x4bc826(0x4ab)](_0x48680b,_0x3d91b3)});return _0x2475b7[_0x4bc826(0x798)](0xc9)[_0x4bc826(0x654)](_0x7d5b7c);})[_0x4e9196(0x1e2)](this[_0x4e9196(0x618)]('sendMedia'),..._0x5ce3c5,async(_0x5b7606,_0x2dd645)=>{const _0x1c9d9b=_0x4e9196;let _0x8bfb1b=await this['dataValidate']({'request':_0x5b7606,'schema':ba,'ClassRef':Oe,'execute':(_0x35f5b8,_0x59a107)=>K[_0x1c9d9b(0x61a)](_0x35f5b8,_0x59a107)});return _0x2dd645['status'](0xc9)[_0x1c9d9b(0x654)](_0x8bfb1b);})[_0x4e9196(0x1e2)](this[_0x4e9196(0x618)]('sendWhatsAppAudio'),..._0x5ce3c5,async(_0x3e1496,_0x235f86)=>{const _0x57cd05=_0x4e9196;let _0x4b41fc=await this['dataValidate']({'request':_0x3e1496,'schema':Sa,'ClassRef':Oe,'execute':(_0x1b35e5,_0x53620f)=>K[_0x57cd05(0x70f)](_0x1b35e5,_0x53620f)});return _0x235f86[_0x57cd05(0x798)](0xc9)[_0x57cd05(0x654)](_0x4b41fc);})[_0x4e9196(0x1e2)](this[_0x4e9196(0x618)](_0x4e9196(0x566)),..._0x5ce3c5,async(_0x1adf8b,_0x1b031e)=>{const _0x897d5a=_0x4e9196;let _0x29eb20=await this['dataValidate']({'request':_0x1adf8b,'schema':va,'ClassRef':Ct,'execute':(_0x52dc0d,_0x22e0d7)=>K['sendButtons'](_0x52dc0d,_0x22e0d7)});return _0x1b031e[_0x897d5a(0x798)](0xc9)[_0x897d5a(0x654)](_0x29eb20);})[_0x4e9196(0x1e2)](this['routerPath'](_0x4e9196(0x248)),..._0x5ce3c5,async(_0x114f8c,_0x27491d)=>{const _0x29d1bb=_0x4e9196;let _0x183379=await this[_0x29d1bb(0x790)]({'request':_0x114f8c,'schema':Ca,'ClassRef':Nt,'execute':(_0x17b86e,_0x42860e)=>K['sendLocation'](_0x17b86e,_0x42860e)});return _0x27491d[_0x29d1bb(0x798)](0xc9)[_0x29d1bb(0x654)](_0x183379);})['post'](this[_0x4e9196(0x618)](_0x4e9196(0x37a)),..._0x5ce3c5,async(_0x54b39f,_0x29419b)=>{const _0x280d0b=_0x4e9196;let _0x59ca44=await this[_0x280d0b(0x790)]({'request':_0x54b39f,'schema':Na,'ClassRef':Tt,'execute':(_0x344c21,_0x32e58a)=>K[_0x280d0b(0x37a)](_0x344c21,_0x32e58a)});return _0x29419b[_0x280d0b(0x798)](0xc9)[_0x280d0b(0x654)](_0x59ca44);})[_0x4e9196(0x1e2)](this['routerPath'](_0x4e9196(0x272)),..._0x5ce3c5,async(_0x20ec35,_0x51ced3)=>{const _0x3ebb67=_0x4e9196;let _0x2123b5=await this['dataValidate']({'request':_0x20ec35,'schema':Ta,'ClassRef':Mt,'execute':(_0xa73c15,_0x40a7c9)=>K[_0x3ebb67(0x272)](_0xa73c15,_0x40a7c9)});return _0x51ced3[_0x3ebb67(0x798)](0xc9)[_0x3ebb67(0x654)](_0x2123b5);})['post'](this['routerPath'](_0x4e9196(0x460)),..._0x5ce3c5,async(_0x4ba362,_0x541dba)=>{const _0x45559f=_0x4e9196;let _0xf59015=await this[_0x45559f(0x790)]({'request':_0x4ba362,'schema':Ma,'ClassRef':Rt,'execute':(_0xe1cb42,_0x5091c2)=>K[_0x45559f(0x460)](_0xe1cb42,_0x5091c2)});return _0x541dba[_0x45559f(0x798)](0xc9)[_0x45559f(0x654)](_0xf59015);})[_0x4e9196(0x1e2)](this[_0x4e9196(0x618)](_0x4e9196(0x2af)),..._0x5ce3c5,async(_0x5f0142,_0x458799)=>{const _0x3a572b=_0x4e9196;let _0x33e3b0=await this[_0x3a572b(0x790)]({'request':_0x5f0142,'schema':Ea,'ClassRef':Et,'execute':(_0x3c60b6,_0xf59bba)=>K[_0x3a572b(0x2af)](_0x3c60b6,_0xf59bba)});return _0x458799['status'](0xc9)[_0x3a572b(0x654)](_0x33e3b0);})[_0x4e9196(0x1e2)](this[_0x4e9196(0x618)](_0x4e9196(0x221)),..._0x5ce3c5,async(_0x1765a4,_0x469c0d)=>{const _0x44dad7=_0x4e9196;let _0x489f7d=await this[_0x44dad7(0x790)]({'request':_0x1765a4,'schema':ya,'ClassRef':St,'execute':(_0x105542,_0x49f176)=>K[_0x44dad7(0x221)](_0x105542,_0x49f176)});return _0x469c0d[_0x44dad7(0x798)](0xc9)['json'](_0x489f7d);})[_0x4e9196(0x1e2)](this[_0x4e9196(0x618)](_0x4e9196(0x649)),..._0x5ce3c5,async(_0xe2f784,_0x28404d)=>{const _0x5af355=_0x4e9196;let _0x1695c7=await this[_0x5af355(0x790)]({'request':_0xe2f784,'schema':wa,'ClassRef':vt,'execute':(_0x3d8c13,_0x579c87)=>K['sendSticker'](_0x3d8c13,_0x579c87)});return _0x28404d[_0x5af355(0x798)](0xc9)[_0x5af355(0x654)](_0x1695c7);});}},eo=require(a0_0xac1afc(0x245)),It=class extends L{constructor(..._0x8256bc){const _0x454722=a0_0xac1afc;super(),this['router']=(0x0,eo[_0x454722(0x5c0)])(),this[_0x454722(0x3dc)]['get'](this['routerPath'](_0x454722(0x366)),..._0x8256bc,(_0x18e987,_0x52b91b)=>to[_0x454722(0x366)](_0x18e987,_0x52b91b));}},so=require(a0_0xac1afc(0x245)),Dt=class{},Pt=class extends L{constructor(..._0x45d654){const _0x1ca05e=a0_0xac1afc;super(),this['router']=(0x0,so['Router'])(),this[_0x1ca05e(0x3dc)]['post'](this[_0x1ca05e(0x618)](_0x1ca05e(0x733)),..._0x45d654,async(_0x51109f,_0x18e81d)=>{const _0x43b308=_0x1ca05e;let _0x3ea48c=await this[_0x43b308(0x790)]({'request':_0x51109f,'schema':Ha,'ClassRef':Dt,'execute':(_0x2b841f,_0x45f5bb)=>Es[_0x43b308(0x396)](_0x2b841f,_0x45f5bb)});_0x18e81d[_0x43b308(0x798)](0xc9)['json'](_0x3ea48c);})[_0x1ca05e(0x50b)](this[_0x1ca05e(0x618)](_0x1ca05e(0x621)),..._0x45d654,async(_0x4f9602,_0x25ac72)=>{const _0x5b196c=_0x1ca05e;let _0x5c075c=await this[_0x5b196c(0x790)]({'request':_0x4f9602,'schema':v,'ClassRef':y,'execute':_0x62dc9b=>Es['findWebhook'](_0x62dc9b)});_0x25ac72[_0x5b196c(0x798)](0xc8)[_0x5b196c(0x654)](_0x5c075c);});}},ao=require('express'),f=new N(a0_0xac1afc(0x7aa)),Ot=class extends L{constructor(..._0x13ef1f){const _0x1bd145=a0_0xac1afc;super(),this[_0x1bd145(0x3dc)]=(0x0,ao[_0x1bd145(0x5c0)])(),this[_0x1bd145(0x3dc)][_0x1bd145(0x1e2)](this[_0x1bd145(0x618)]('scheduleMessage'),..._0x13ef1f,async(_0x20012f,_0x16daf6)=>{const _0x5ac4b3=_0x1bd145;let _0x312504=_0x20012f[_0x5ac4b3(0x1f9)];f[_0x5ac4b3(0x227)](_0x5ac4b3(0x388)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x20012f['body']);let _0x5d5527=await this['dataValidate']({'request':_0x20012f,'schema':v,'ClassRef':y,'execute':_0x4a4b87=>R[_0x5ac4b3(0x320)](_0x4a4b87,_0x312504)});_0x16daf6['status'](0xc8)[_0x5ac4b3(0x654)](_0x5d5527);})[_0x1bd145(0x50b)](this[_0x1bd145(0x618)](_0x1bd145(0x62d)),..._0x13ef1f,async(_0x105ff8,_0xed77f7)=>{const _0x4f9a00=_0x1bd145;let _0x3c6460=await this[_0x4f9a00(0x790)]({'request':_0x105ff8,'schema':v,'ClassRef':y,'execute':_0x97046b=>R[_0x4f9a00(0x205)](_0x97046b)});_0xed77f7[_0x4f9a00(0x798)](0xc8)[_0x4f9a00(0x654)](_0x3c6460);})['delete'](this[_0x1bd145(0x618)](_0x1bd145(0x428)),..._0x13ef1f,async(_0x5807a2,_0x1fe6ec)=>{const _0x58940e=_0x1bd145;f[_0x58940e(0x227)](_0x58940e(0x2ca));let _0x4805ea=await this[_0x58940e(0x790)]({'request':_0x5807a2,'schema':v,'ClassRef':y,'execute':_0x19e224=>R[_0x58940e(0x428)](_0x19e224)});_0x1fe6ec[_0x58940e(0x798)](0xc8)[_0x58940e(0x654)](_0x4805ea);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)]('startFlow'),..._0x13ef1f,async(_0x1d9b26,_0x4596c3)=>{const _0x1427c1=_0x1bd145;let _0x49ab36=_0x1d9b26[_0x1427c1(0x1f9)];f[_0x1427c1(0x227)](_0x1427c1(0x500)),f[_0x1427c1(0x227)](_0x1427c1(0x5b9)),f[_0x1427c1(0x227)](_0x1d9b26['body']);let _0x22a674=await this[_0x1427c1(0x790)]({'request':_0x1d9b26,'schema':v,'ClassRef':y,'execute':_0x4918d7=>R[_0x1427c1(0x501)](_0x4918d7,_0x49ab36)});_0x4596c3[_0x1427c1(0x798)](0xc8)['json'](_0x22a674);})[_0x1bd145(0x50b)](this[_0x1bd145(0x618)](_0x1bd145(0x5d7)),..._0x13ef1f,async(_0xa13bdb,_0x32e1e7)=>{const _0x5d5473=_0x1bd145;f['verbose'](_0x5d5473(0x730));let _0x2dd888=await this[_0x5d5473(0x790)]({'request':_0xa13bdb,'schema':v,'ClassRef':y,'execute':_0x5a4ff3=>R['getAutomateSystem'](_0x5a4ff3)});_0x32e1e7['status'](0xc8)['json'](_0x2dd888);})[_0x1bd145(0x50b)](this[_0x1bd145(0x618)](_0x1bd145(0x795)),..._0x13ef1f,async(_0x6338bf,_0x273de9)=>{const _0x1c1b3f=_0x1bd145;f[_0x1c1b3f(0x227)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x4e763a=await this[_0x1c1b3f(0x790)]({'request':_0x6338bf,'schema':v,'ClassRef':y,'execute':_0x523b84=>R[_0x1c1b3f(0x5d7)](_0x523b84)});_0x273de9['status'](0xc8)[_0x1c1b3f(0x654)](_0x4e763a);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)](_0x1bd145(0x774)),..._0x13ef1f,async(_0xb39c1e,_0x174939)=>{const _0x521399=_0x1bd145;let _0x4abc85=_0xb39c1e[_0x521399(0x1f9)];f[_0x521399(0x227)](_0x521399(0x742)),f[_0x521399(0x227)](_0x521399(0x5b9)),f[_0x521399(0x227)](_0xb39c1e[_0x521399(0x1f9)]);let _0x119b0d=await this[_0x521399(0x790)]({'request':_0xb39c1e,'schema':v,'ClassRef':y,'execute':_0x12b606=>R['updateAgent'](_0x12b606,_0x4abc85)});_0x174939[_0x521399(0x798)](0xc8)[_0x521399(0x654)](_0x119b0d);})['post'](this[_0x1bd145(0x618)](_0x1bd145(0x1c9)),..._0x13ef1f,async(_0x4b46fe,_0x341dd5)=>{const _0xb29c2d=_0x1bd145;let _0x5ba2b5=_0x4b46fe[_0xb29c2d(0x1f9)];f[_0xb29c2d(0x227)]('request\x20received\x20in\x20updateCustomFields'),f['verbose']('request\x20body:\x20'),f['verbose'](_0x4b46fe['body']);let _0x54436c=await this[_0xb29c2d(0x790)]({'request':_0x4b46fe,'schema':v,'ClassRef':y,'execute':_0x4820a0=>R[_0xb29c2d(0x1c9)](_0x4820a0,_0x5ba2b5)});_0x341dd5['status'](0xc8)[_0xb29c2d(0x654)](_0x54436c);})[_0x1bd145(0x1e2)](this['routerPath'](_0x1bd145(0x1d9)),..._0x13ef1f,async(_0xdd3a5a,_0x4d44ff)=>{const _0x5d058a=_0x1bd145;let _0x1a37f3=_0xdd3a5a[_0x5d058a(0x1f9)];f[_0x5d058a(0x227)](_0x5d058a(0x6ba)),f[_0x5d058a(0x227)](_0x5d058a(0x5b9)),f[_0x5d058a(0x227)](_0xdd3a5a[_0x5d058a(0x1f9)]);let _0x572e3d=await this[_0x5d058a(0x790)]({'request':_0xdd3a5a,'schema':v,'ClassRef':y,'execute':_0x51ff67=>R['updateFlowConfig'](_0x51ff67,_0x1a37f3)});_0x4d44ff[_0x5d058a(0x798)](0xc8)[_0x5d058a(0x654)](_0x572e3d);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)](_0x1bd145(0x1f2)),..._0x13ef1f,async(_0x330408,_0xbf6768)=>{const _0x3a2538=_0x1bd145;let _0x10b2a8=_0x330408[_0x3a2538(0x1f9)];f[_0x3a2538(0x227)](_0x3a2538(0x292)),f[_0x3a2538(0x227)](_0x3a2538(0x5b9)),f[_0x3a2538(0x227)](_0x330408['body']);let _0x376992=await this[_0x3a2538(0x790)]({'request':_0x330408,'schema':v,'ClassRef':y,'execute':_0x1de54b=>R[_0x3a2538(0x1f2)](_0x1de54b,_0x10b2a8)});_0xbf6768[_0x3a2538(0x798)](0xc8)['json'](_0x376992);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)]('fetchConversation'),..._0x13ef1f,async(_0xb667c8,_0x4bca08)=>{const _0x55a1f8=_0x1bd145;let _0x2d2719=_0xb667c8['body'];f[_0x55a1f8(0x227)](_0x55a1f8(0x46f)),f['verbose'](_0x55a1f8(0x5b9)),f[_0x55a1f8(0x227)](_0xb667c8[_0x55a1f8(0x1f9)]);let _0x56e3bb=await this[_0x55a1f8(0x790)]({'request':_0xb667c8,'schema':v,'ClassRef':y,'execute':_0x215d79=>R['fetchConversation'](_0x215d79,_0x2d2719)});_0x4bca08['status'](0xc8)[_0x55a1f8(0x654)](_0x56e3bb);})[_0x1bd145(0x1e2)](this['routerPath'](_0x1bd145(0x22d)),..._0x13ef1f,async(_0x45ebb7,_0x478fd8)=>{const _0xeac0c0=_0x1bd145;let _0x58f4f7=_0x45ebb7[_0xeac0c0(0x1f9)];f[_0xeac0c0(0x227)](_0xeac0c0(0x36e)),f[_0xeac0c0(0x227)](_0xeac0c0(0x5b9)),f[_0xeac0c0(0x227)](_0x45ebb7['body']);let _0x57fb23=await this[_0xeac0c0(0x790)]({'request':_0x45ebb7,'schema':v,'ClassRef':y,'execute':_0x7c7334=>R[_0xeac0c0(0x22d)](_0x7c7334,_0x58f4f7)});_0x478fd8[_0xeac0c0(0x798)](0xc8)[_0xeac0c0(0x654)](_0x57fb23);})[_0x1bd145(0x2e7)](this['routerPath'](_0x1bd145(0x406)),..._0x13ef1f,async(_0x537825,_0x23dbd5)=>{const _0x473cb2=_0x1bd145;let _0x513622=_0x537825[_0x473cb2(0x1f9)];f[_0x473cb2(0x227)](_0x473cb2(0x36a)),f[_0x473cb2(0x227)]('request\x20body:\x20'),f[_0x473cb2(0x227)](_0x537825[_0x473cb2(0x1f9)]);let _0x188831=await this[_0x473cb2(0x790)]({'request':_0x537825,'schema':v,'ClassRef':y,'execute':_0x1b6957=>R[_0x473cb2(0x406)](_0x1b6957,_0x513622)});_0x23dbd5[_0x473cb2(0x798)](0xc8)['json'](_0x188831);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)](_0x1bd145(0x260)),..._0x13ef1f,async(_0x217148,_0x31e8eb)=>{const _0x11ed45=_0x1bd145;let _0x4f36bf=_0x217148['body'];f[_0x11ed45(0x227)](_0x11ed45(0x1f7)),f[_0x11ed45(0x227)]('request\x20body:\x20'),f[_0x11ed45(0x227)](_0x217148[_0x11ed45(0x1f9)]);let _0x48262a=await this[_0x11ed45(0x790)]({'request':_0x217148,'schema':v,'ClassRef':y,'execute':_0x5cc8dc=>R[_0x11ed45(0x725)](_0x5cc8dc,_0x4f36bf)});_0x31e8eb[_0x11ed45(0x798)](0xc8)[_0x11ed45(0x654)](_0x48262a);})[_0x1bd145(0x1e2)](this['routerPath'](_0x1bd145(0x41e)),..._0x13ef1f,async(_0x4b9eaa,_0x52cb8a)=>{const _0x596b94=_0x1bd145;let _0x4f2779=_0x4b9eaa[_0x596b94(0x1f9)];f[_0x596b94(0x227)]('request\x20received\x20in\x20editFlow'),f[_0x596b94(0x227)]('request\x20body:\x20'),f['verbose'](_0x4b9eaa[_0x596b94(0x1f9)]),delete _0x4f2779[_0x596b94(0x38c)],delete _0x4f2779[_0x596b94(0x73b)],delete _0x4f2779[_0x596b94(0x69f)],delete _0x4f2779[_0x596b94(0x4bc)];let _0x302628=await this[_0x596b94(0x790)]({'request':_0x4b9eaa,'schema':v,'ClassRef':y,'execute':_0x2d006e=>R[_0x596b94(0x335)](_0x2d006e,_0x4f2779)});_0x52cb8a[_0x596b94(0x798)](0xc8)['json'](_0x302628);})['post'](this['routerPath']('editflowblock'),..._0x13ef1f,async(_0x30ff74,_0xed3b0f)=>{const _0x3c87b5=_0x1bd145;let _0x4e5b04=_0x30ff74['body'];f[_0x3c87b5(0x227)]('request\x20received\x20in\x20editFlow'),f[_0x3c87b5(0x227)](_0x3c87b5(0x5b9)),f[_0x3c87b5(0x227)](_0x30ff74['body']);let _0x32d0a3=await this[_0x3c87b5(0x790)]({'request':_0x30ff74,'schema':v,'ClassRef':y,'execute':_0x264865=>R[_0x3c87b5(0x685)](_0x264865,_0x4e5b04)});_0xed3b0f['status'](0xc8)[_0x3c87b5(0x654)](_0x32d0a3);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)](_0x1bd145(0x4d9)),..._0x13ef1f,async(_0x12cb15,_0x405748)=>{const _0x1dee7d=_0x1bd145;let _0x11a9e9=_0x12cb15[_0x1dee7d(0x1f9)];f[_0x1dee7d(0x227)](_0x1dee7d(0x461)),f[_0x1dee7d(0x227)](_0x1dee7d(0x5b9)),f[_0x1dee7d(0x227)](_0x12cb15['body']);let _0x13e234=await this[_0x1dee7d(0x790)]({'request':_0x12cb15,'schema':v,'ClassRef':y,'execute':_0x5c9e5e=>R[_0x1dee7d(0x3f2)](_0x5c9e5e,_0x11a9e9)});_0x405748[_0x1dee7d(0x798)](0xc8)['json'](_0x13e234);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)](_0x1bd145(0x4d0)),..._0x13ef1f,async(_0x5c5a19,_0xfec632)=>{const _0x5a607b=_0x1bd145;let _0x496500=_0x5c5a19['body'];f['verbose'](_0x5a607b(0x461)),f[_0x5a607b(0x227)](_0x5a607b(0x5b9)),f[_0x5a607b(0x227)](_0x5c5a19[_0x5a607b(0x1f9)]);let _0x174b90=await this[_0x5a607b(0x790)]({'request':_0x5c5a19,'schema':v,'ClassRef':y,'execute':_0x112570=>R[_0x5a607b(0x432)](_0x112570,_0x496500)});_0xfec632[_0x5a607b(0x798)](0xc8)[_0x5a607b(0x654)](_0x174b90);})[_0x1bd145(0x1e2)](this['routerPath'](_0x1bd145(0x1ed)),..._0x13ef1f,async(_0x2eddd8,_0x4a7de5)=>{const _0x366b17=_0x1bd145;let _0x1d2ae7=_0x2eddd8[_0x366b17(0x1f9)];f['verbose'](_0x366b17(0x740)),f['verbose'](_0x366b17(0x5b9)),f[_0x366b17(0x227)](_0x2eddd8[_0x366b17(0x1f9)]);let _0x2599d9=await this[_0x366b17(0x790)]({'request':_0x2eddd8,'schema':v,'ClassRef':y,'execute':_0x398dd3=>R[_0x366b17(0x6b3)](_0x398dd3,_0x1d2ae7)});_0x4a7de5[_0x366b17(0x798)](0xc8)[_0x366b17(0x654)](_0x2599d9);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)](_0x1bd145(0x32f)),..._0x13ef1f,async(_0x1e06ff,_0x19bf4a)=>{const _0x206c2e=_0x1bd145;let _0x4a703c=_0x1e06ff['body'];f[_0x206c2e(0x227)](_0x206c2e(0x288)),f[_0x206c2e(0x227)](_0x206c2e(0x5b9)),f[_0x206c2e(0x227)](_0x1e06ff[_0x206c2e(0x1f9)]);let _0x3ac626=await this['dataValidate']({'request':_0x1e06ff,'schema':v,'ClassRef':y,'execute':_0x2277f9=>R[_0x206c2e(0x3d4)](_0x2277f9,_0x4a703c)});_0x19bf4a['status'](0xc8)[_0x206c2e(0x654)](_0x3ac626);})[_0x1bd145(0x1e2)](this['routerPath'](_0x1bd145(0x3fd)),..._0x13ef1f,async(_0x4693bd,_0x213275)=>{const _0x5852be=_0x1bd145;let _0x39747b=_0x4693bd['body'];f['verbose'](_0x5852be(0x395)),f[_0x5852be(0x227)]('request\x20body:\x20'),f[_0x5852be(0x227)](_0x4693bd[_0x5852be(0x1f9)]);let _0x53465b=await this[_0x5852be(0x790)]({'request':_0x4693bd,'schema':v,'ClassRef':y,'execute':_0xe91757=>R['editFlowVariable'](_0xe91757,_0x39747b)});_0x213275[_0x5852be(0x798)](0xc8)[_0x5852be(0x654)](_0x53465b);})[_0x1bd145(0x1e2)](this[_0x1bd145(0x618)]('getflow'),..._0x13ef1f,async(_0x5a2d9c,_0x4bdabd)=>{const _0xfd9138=_0x1bd145;let _0x5ea611=_0x5a2d9c[_0xfd9138(0x1f9)];f[_0xfd9138(0x227)]('request\x20received\x20in\x20getFlow'),f[_0xfd9138(0x227)]('request\x20body:\x20'),f['verbose'](_0x5a2d9c['body']);let _0x5c2031=await this[_0xfd9138(0x790)]({'request':_0x5a2d9c,'schema':v,'ClassRef':y,'execute':_0x110526=>R[_0xfd9138(0x6c6)](_0x110526,_0x5ea611)});_0x4bdabd[_0xfd9138(0x798)](0xc8)['json'](_0x5c2031);})[_0x1bd145(0x2e7)](this[_0x1bd145(0x618)](_0x1bd145(0x5d3)),..._0x13ef1f,async(_0x373ce7,_0x226aa9)=>{const _0x324286=_0x1bd145;let _0x168fac=_0x373ce7[_0x324286(0x1f9)];f[_0x324286(0x227)](_0x324286(0x1f7)),f[_0x324286(0x227)](_0x324286(0x5b9)),f[_0x324286(0x227)](_0x373ce7[_0x324286(0x1f9)]);let _0x21d7ef=await this[_0x324286(0x790)]({'request':_0x373ce7,'schema':v,'ClassRef':y,'execute':_0x124e3b=>R[_0x324286(0x72f)](_0x124e3b,_0x168fac)});_0x226aa9[_0x324286(0x798)](0xc8)[_0x324286(0x654)](_0x21d7ef);})['get'](this[_0x1bd145(0x618)]('allflows'),..._0x13ef1f,async(_0x26a931,_0x1bfa49)=>{const _0x3ea4de=_0x1bd145;f[_0x3ea4de(0x227)](_0x3ea4de(0x70c));let _0x40fcf3=await this[_0x3ea4de(0x790)]({'request':_0x26a931,'schema':v,'ClassRef':y,'execute':_0x2d4f4e=>R[_0x3ea4de(0x75b)](_0x2d4f4e)});_0x1bfa49['status'](0xc8)[_0x3ea4de(0x654)](_0x40fcf3);});}},no=T(require(a0_0xac1afc(0x1fb))),te={};function oo(_0x24010e,_0x18e2ce,_0x3633ff,_0x2b5dd8){te[_0x24010e]||(te[_0x24010e]={}),te[_0x24010e][_0x18e2ce]={'id':_0x18e2ce,'response':_0x3633ff,'events':_0x2b5dd8};}function io(_0x4cbfcd,_0x53ff5c){!te[_0x4cbfcd]||!te[_0x4cbfcd][_0x53ff5c]||delete te[_0x4cbfcd][_0x53ff5c];}function G(_0x2b5c73,_0xb14828,_0x2ced46){const _0x3c9459=a0_0xac1afc;if(!te[_0x2b5c73])return;let _0x19f461='data:\x20'+JSON[_0x3c9459(0x47f)](_0x2ced46)+'\x0a\x0a';Object[_0x3c9459(0x789)](te[_0x2b5c73])['forEach'](_0x5ddb5e=>{const _0x267fb2=_0x3c9459;_0x5ddb5e[_0x267fb2(0x644)]['includes'](_0xb14828)&&_0x5ddb5e[_0x267fb2(0x2db)]['write'](_0x19f461);});}function ro(){const _0x52dc92=a0_0xac1afc;let _0x4fab34={};for(let _0x43de2b in te)_0x4fab34[_0x43de2b]=Object[_0x52dc92(0x789)](te[_0x43de2b])['map'](_0x1033c5=>({'id':_0x1033c5['id'],'events':_0x1033c5[_0x52dc92(0x644)]}));return _0x4fab34;}function a0_0x145e(){const _0x3c13b3=['Button\x20texts\x20cannot\x20be\x20repeated','getAutomateSystem','document','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','AutomateSystem\x20não\x20foi\x20inicializado','selectableCount','Missing\x20global\x20api\x20key','Including\x20timestamp\x20in\x20url:\x20','object','\x20inseridos\x20no\x20banco\x20de\x20dados...','locked','WEBHOOK_EVENTS_MESSAGES_SET','FULLCHAIN','CONFIG_SESSION_PHONE','mkdirSync','-instances','vcard','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','mongodb','moreLogs','DATABASE_CONNECTION_DB_PREFIX_NAME','phoneNumber','SERVER_PORT','/wa-contacts','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','.\x20Pulando.','add','info','padEnd','WEBHOOK_EVENTS_GROUPS_UPSERT','updateMessage','setNewValue','):\x20Enviando\x20enquete','capitalizedWords','uazapi','\x22\x20not\x20found','replace','convertToWebP','option','MESSAGES_UPSERT','default','match_last_seen','findWebhook','DEBUG','unavailable','):\x20teve\x20mudanças\x20chat.displayName:\x20','):\x20isVote','messageModel','\x5cd+','currency','QRCODE_UPDATED','jwt','floor','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','\x20-\x20ON:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','\x20chats\x20de\x20','Início','\x20minutos\x20verificará\x20novas\x20mensagens','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20Current\x20Time:\x20','participants','Error\x20update\x20group\x20picture','API\x20Key\x20from\x20Request:','charAt','REDIS_URI','routerPath','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','sendMedia','release','caption','notContains','Parando\x20aplicação,\x20atualização\x20recebida','parse','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','find','Connection\x20closed\x20for\x20instance:\x20','textMessage','instanceName','saveVariable','participant','deleteMessage','loadEnv','STORE_MESSAGE','maxActives','findByIdAndUpdate','views','scheduleMessage','\x20messages.','uazapiSendContact','oldToken','reaction','):\x20Deletando\x20conversa...','query','Error\x20updating\x20participants','messages','fetchProfilePicture','):\x20conversation.lastInteraction:\x20','contextInfo','groupInviteCode','messageSecret','restartInstance','SUCCESS','\x22reaction\x22\x20must\x20be\x20an\x20emoji','subdomain','\x20is\x20already\x20in\x20use.','compression','Parando\x20aplicação...','write','Erro\x20de\x20atualização:\x20','events','readFile','replaceOne','node-cache','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','sendSticker','express-async-errors','downloads','https','updatePresence','Error\x20change\x20group\x20setting','console','fetchPrivacySettings','processblock','Font\x20is\x20required','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','json','catch','hGetAll','pre','exit','blockLogs','demote','updateOnlinePrivacy','sendDataWebhook','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','flattenObject','less','ignoreGroups','fetchBusinessProfile','pollCreationMessageV2','deleteMessageForEveryone','content','formatStatusMessage','truncatedto','SERVER','.sendDataWebhook-global','processPollUpdateMessage','pollCreationMessageKey','/instance/create','utf8','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','updateConversation','GLOBAL','refused','DD/MM\x20HH:mm:ss','closeExistingConversations','processvaredits','options','item','processConditions','processgoToFlow','createConnection','webp','headerString','^\x5cd+','truncatedtoEnd','buttonMessage','padStart','Image\x20path:\x20','notas','unlinkSync','Erro\x20na\x20migração:','output','flowActive','editFlowBlock','Unknown\x20message\x20type\x20encountered','TYPE','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Error\x20creating\x20group','Instance\x20restarted','Error\x20fetching\x20group','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','leadInfo.customFields','logout','groupUpdateSubject','nextBlock:','audioMessage','updateStatusPrivacy','Erro\x20inesperado\x20em\x20processvaredits:\x20','E-mail:\x20','group-participants.update','\x5c$&','empty','variablesToObject','uazapiSendPoll','includes','errors','\x1b[46m','webhookMap','remove','groups','\x1b[32m%s\x1b[0m','\x20horas\x20e\x20','\x20mensagens\x20de\x20','):\x20Enviando\x20texto','audio','text','create','mongoose','quoted','success','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','generateHash','):\x20Editando\x20grupo\x20do\x20fluxo...','refreshToken','stopMinutes','):\x20Ler\x20mensagem','image','WEBHOOK_EVENTS_CHATS_UPSERT','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','editFlowGroup','chats.delete','leadInfo.desativadoFluxoAte','Unable\x20to\x20leave\x20the\x20group','WEBHOOK_EVENTS_CONTACTS_SET','updateChatWithMessage','contactModel','request\x20received\x20in\x20updateFlowConfig','DOCKER_ENV','11429541GXEGYn','errno','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','\x20contacts','lastSend','profilePicture','CHATS_UPSERT','exists','bodyString','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','getFlow','getContentType','code','<subdomain>','expression','auth','stoppedUntil','\x20inseridas\x20no\x20banco\x20de\x20dados...','AUTHENTICATION','/webhook','scheduleSendMedia','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','contactHandle','lastReceivedMessage','media','map','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','rmSync','Erro\x20do\x20Certbot:\x20','lastInteraction','CORS','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20Tentando\x20deletar\x20todas\x20os\x20contatos...','http','limit','save','\x1b[31m','GROUPS_UPSERT','isFile','chats.upsert','flowConfig','Instância:\x20','data:\x20','bateu\x20events','.uazapi.dev','connect','WEBHOOK_EVENTS_CHATS_UPDATE','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','groupToggleEphemeral','no.connection','longitude','Types','groups_ignore','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','pollCreationMessageV3','mediaSticker','Enter\x20a\x20value\x20in\x20milliseconds','block','Message','Error\x20change\x20group\x20name','):\x20Entrou\x20na\x20função\x20stop','Error\x20updating\x20profile\x20status','realVariables','match','chatLog','/wa-message','\x20messages.update.','initAuthCreds','createJid',',\x20qrcodeCount:\x20','send','verify','saveConversationToDatabase','):\x20Comando\x20desconhecido:\x20','Forbidden','):\x20Enviando\x20mídia','REDIS','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','responsavelid','\x1b[47m','request\x20received\x20in\x20allFlows','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','string','sendWhatsAppAudio','stopConversation','ex:\x20\x22groupJid=120362@g.us\x22','deleteMany','data','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','storePath','title','uazapiSendAudio','https://uazapi-plugin.bubbleapps.io/','ON\x20-\x20dbName:\x20','Data\x20inválida\x20fornecida','varedits','toNumber','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','cwd','WEBHOOK_EVENTS_QRCODE_UPDATED','Method\x20not\x20implemented.','headers','Image\x20converted\x20to\x20WebP','unreadCount','createFlow','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','?timestamp=','/events','SERVER_OFFLINE','readdirSync','bearer','Getting\x20image\x20from\x20url','/wa-chats','keys','deleteFlow','request\x20received\x20in\x20getAutomateSystem','recording','from','set','qrcode-terminal','URI','whatsappNumber','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','condition','TRIAL_INSTANCE_NAME','/create','variables','saveTextReply','Subscribed\x20Events:','where','PRESENCE_UPDATE','request\x20received\x20in\x20editFlowgroup','fetchInstances','request\x20received\x20in\x20updateAgent','replaceVariablesChat','everyOne','groups.upsert','webhookService','):\x20Buscando\x20conversas...','getMIMEType','reconnectAttempts','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','normalizeMessage','delaySecMax','deleteReplyOption','envYaml','Audio\x20is\x20base64','action','customFields','downloadMediaMessage','ENABLED','repository','SEND_MESSAGE','redirect','optionName','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','scheduleNextCheck','allFlows','viewOnceMessageV2','\x20instance\x20does\x20not\x20exist','valid','isBase64','MESSAGES_UPDATE','inviteCode','max','readFileSync','1199674MNTycM','role','collection','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','cpf','groupId','.mp3','Media\x20folder\x20path:','/wa-groups','lastMessage','SERVER_TYPE','):\x20transformedCustomFieldVariables','):\x20Erro\x20ao\x20criar\x20fluxo\x20','integer','tags','WEBHOOK_MAP','updateAgent','isConnected','eventemitter2',',\x20lastCondition:\x20','update','latitude','variable','groupCreate','):\x20delete\x20=\x20true','Invalid\x20\x22oldToken\x22','senderKeyDistributionMessage','removed','Falha\x20ao\x20deletar\x20mensagens\x20updates:','announce','Cache-Control','true','):\x20teve\x20mudanças\x20chat.archived:\x20','scheduled','\x0aitem','fetchChats','out','values','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','isJWT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','FlowController','privacySettings','error\x20get\x20vote','dataValidate','sharp','createGroup','numbers','findOneAndUpdate','getTicketSystem','command','buffer','status','):\x20Procurando\x20conversa','https://jsonip.com','Profile\x20not\x20found','\x20contatos.','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','collections','\x1b[0m','\x20}\x0a','redis','EVENTS','/:instanceName','Temp\x20image\x20deleted','getDevice','axios','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','getProfileName','Falha\x20ao\x20deletar\x20mensagens:','FlowRouter','messages.set','https://uazapi-plugin.bubbleapps.io/?url=','The\x20','lastmsg','/exit','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','formatVCard','The\x20global\x20api\x20key\x20must\x20be\x20set','@whiskeysockets/baileys','findGroupInfo','QRCODE','writeFileSync','cors','statusJidList','round','context','updateCustomFields','trimmed','/media/','SSL_CONF','LOG_LEVEL','contacts','sort','STORE_CONTACTS','DATABASE','Image\x20is\x20url','webhookModel','Variáveis\x20não\x20encontradas:','hasOwnProperty','profilePictureUrl','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','createConversationforgoToFlow','updateFlowConfig','\x20-i\x20','):\x20tem\x20blocks','splice','extractRegex','CLEANING_INTERVAL','GROUP_PARTICIPANTS_UPDATE','CONTACTS_SET','Flow\x20iniciado\x20com\x20','post','fromMe','deleteInstance','replaceValue','StartBot','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','promote','status@broadcast','loadWebhook','Error\x20updating\x20setting','editflowgroup','RECONNECT_TIME_FRAME','flow','WEBHOOK_EVENTS_MESSAGES_UPDATE','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','getConversation','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','*\x0a\x0a','exec','not\x20loaded','request\x20received\x20in\x20createFlow','/wa-presence','body','\x1b[40m','path','value','urlencoded','jid','DELIVERY_ACK','editOperator','PRODUCTION','groupDesc','):\x20Entrou\x20na\x20função\x20saveReply','envProcess','getScheduleMessage','dbInstance','filter','updateOne','replaceVariablesInReplyOptions','):\x20Editando\x20edição\x20do\x20fluxo...','findFlow','Erro\x20ao\x20encerrar\x20a\x20API','PREFIX_KEY','Desconectado,\x20parando\x20execução.','No\x20join\x20group\x20invite\x20code\x20or\x20url','LOG','/media','isJidGroup','\x1b[44m','Schema','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','dayjs','applyvaredit','findAndReplaceRegex','):\x20Iniciando\x20bot...','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','convertaudio','leadInfo','/wa-connection-update','sendStatus','unreadcount','updateBlock','encoding','namespace','updateReplyOption','verbose','folder','hSet','50mb','messageUpdate','state','editConversation','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','created','Full\x20file\x20path:','1476754PjlEAu','uazapiSendMedia','URL','warn','TRIAL_AD','font','lean','contacts.update','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','DEL_INSTANCE','flowConversation','sleep','has','messageTimestamp','greater','createClient','userDevicesCache','getVariablesChat','oldValue','updateMany','express','Output\x20audio\x20path:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','sendLocation','):\x20não\x20encontrou','WEBHOOK_EVENTS_CONTACTS_UPDATE','CONTACTS_UPDATE','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','ephemeralMessage','):\x20teve\x20mudanças\x20chat.name:\x20','badSession','getTime','isBusiness','readreceipts','sections','Hash\x20to\x20audio\x20name:\x20','pollErrorMessage','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Imagem\x20não\x20encontrada','statusMessage','contactsArrayMessage','Converted\x20image\x20deleted','!stop','toLowerCase','isLong','):\x20Criando\x20nova\x20conversa','Valor\x20de\x20find\x20ou\x20replace\x20ausente','createflow','replaceVariables','groupRevokeInvite','findGroups','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','count','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','\x1b[37m%s\x1b[0m','COLOR',',\x20Minutes\x20to\x20Close:\x20','Conversa\x20deletada\x20com\x20sucesso.','Comando\x20desconhecido','):\x20Editando\x20bloco...','repeat','toBrazilianNumberFormat','writeData','licenca','\x20minutos...','sendContact','prefixCommand','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','deleteBlock','WEBHOOK','readData','CONTACTS_UPSERT','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','messaging-history.set','Erro\x20ao\x20editar\x20o\x20chat:\x20','NextBlock','fetchStatusMessage','whatsappNumbers','Type\x20is\x20required','open','shutdown\x20-r\x20now','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','close','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','no-cache','Getting\x20audio\x20from\x20url','/wa-message-update','request\x20received\x20in\x20editFlowcondition','findOne','slice','https://','env.yml','new.jwt','localWebhook','CONNECTION_UPDATE','archived','findGroup','request\x20received\x20in\x20getConversation','\x1b[41m','messageHandle','):\x20Conversa\x20atualizada\x20em\x20memória','scheduleSendText','END:VCARD','message-up','Temp\x20audio\x20created','toUpperCase','isBooleanString','\x1b[33m\x1b[1m','The\x20\x22','online','local_map','Error\x20writing\x20file:\x20','Certbot\x20executado\x20com\x20sucesso:\x20','\x1b[1m','Type\x20not\x20found','call','replaceVariablesLogs','create\x20-\x20success','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','desativadoFluxoAte','test','Flow\x20não\x20encontrado','Error\x20updating\x20profile\x20name','createConversationforStartFlow','sendMessageWithTyping','delaySecMin','sendPoll','log','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','newStoppedUntil','view\x20engine','authService','getMinutes','instanceKeys','\x1b[1m\x1b[37m','cleaningUp','AutomateFunctions','\x1b[31m%s\x1b[0m','nomecompleto','https://api.ipify.org?format=json','\x1b[34m','instanceInfo','Audio\x20converted\x20to\x20mp4','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','base64','Getting\x20profile\x20info','contacts.upsert','store','Temp\x20audio\x20path:\x20','Instância\x20não\x20encontrada.','AUTHENTICATION_JWT_EXPIRIN_IN','execSync','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','request\x20received\x20in\x20deleteDoneMessages','creds','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','Temp\x20audio\x20deleted','Erro\x20ao\x20executar\x20o\x20Certbot:\x20','varedit','none','stderr','random','lastCondition','scheduleSendAudio','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','evaluateConditionTest','connectionClosed','type','response','messages.update','):\x20leadInfoVariables','connected','toggleEphemeral','user','firstValue','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','}}\x20->\x20\x22','@g.us','fetchLatestBaileysVersion','delete','utf-8','enumerable','DisconnectReason','remoteJids','getRandomText','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','processingScheduleMessageId','waUploadToServer','Error\x20fetching\x20and\x20updating\x20profile:\x20','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','params','fetchConversation','configService','):\x20Campos\x20a\x20serem\x20atualizados:','addBlock','indexOf','OrAnd','conversationTimestamp','preview','notEmpty','CHATS_SET','getLastMessage','insert','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','instance','including\x20timestamp\x20in\x20url:\x20','joinGroupValidate','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Erro\x20ao\x20editar\x20agentes:\x20','originalUrl','Not\x20is\x20business\x20profile','when','):\x20Enviando\x20áudio','groupAcceptInvite','debug','):\x20alterando\x20this.AutomateSystem','wuid','mediaKey','sendCommand','mentions','findById','subjectTime','delay','stopMinutesMaxActives','noConnection','app','MESSAGES_SET','addresss','Validate','endsWith','tokenId','dump','HH:mm:ss','Instance\x20logged\x20out','audioWhatsapp','editScheduleMessage','src','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','10332300rtfIYE','audio/mp4','/clients-info','some','sending','audio/ogg;\x20codecs=opus','rowId',',\x20valor\x20passado:\x20\x22','model','stack','Mensagem\x20não\x20suportada','sem\x20texto\x20na\x20mensagem','editflowcondition','mediaMessage','READ','put','/wa-qrcode','\x1b[43m','editFlow','allContacts','toDataURL','SSL_CONF_FULLCHAIN','flowPrefixCommand','\x20\x1b[0m','METHODS','Fluxos\x20não\x20estão\x20ativados','contactMessage','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','\x1b[30m%s\x1b[0m','Erro:','authorization','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','URL:','toString','updateGroupPicture','waitingPoll_name','5VWRWrZ','):\x20Conversa\x20está\x20expirada','fromObject','getBase64FromMediaMessage','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','messageUpModel','restart','buttonId','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','convertedOptions','Fetching\x20business\x20profile','contentText','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','matchRegex','\x1b[36m','updateProfileStatus','Nenhum\x20chat\x20encontrado\x20para\x20editar.','readMessages','NODE_ENV','EMAIL:','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Conversas\x20encontradas:','$set','Erro\x20ao\x20editar\x20agentes:\x20','Bloco\x20com\x20ID\x20','_doc','pt-BR','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','ReplyOption\x20com\x20ID\x20','del','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','qrcode','findParticipants','\x1b[33m%s\x1b[0m','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','request\x20received\x20in\x20deleteConversation','PLAYED','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','findIndex','request\x20received\x20in\x20editConversation','mediatype','\x20segundos','\x0a{\x20instance:\x20','available','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','findByIdAndDelete','Telefone:\x20','connectionState','}}\x20->\x20valor\x20não\x20encontrado','StatusJidList\x20is\x20required','pushName','sendList','groupName','height','groupSetting','defineAuthState','):\x20Flow\x20desativado','group\x20ignored','opendirSync','\x20minutos','convert','):\x20atualização\x20chat:\x20','12024309wdspqu','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','videoMessage','request\x20received\x20in\x20scheduleMessage','):\x20Falha\x20ao\x20deletar\x20mensagem.','groupJid','_id','blocks','AutomateSystem','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','lastBlockId','chatHandle','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','groups.update',',\x20Expiration\x20Time:\x20','.mp4','request\x20received\x20in\x20editFlowvariable','createWebhook','buttonsMessage','loadInstance','Contacts\x20not\x20found','redisCache','restrict','resetReconnectionVariables','reference','\x20não\x20encontrado\x20para\x20atualização.','Revoke\x20error','paused','logger','audio/ogg','hGet','connecting','and','buttonText','findMessages','_p_','ERROR:\x20','.webp','chat','chats','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','ios','uncaughtException','pop','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','format','announcement','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','arraybuffer','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','\x20-y','sign','):\x20Edit\x20schedule\x20message...','stanzaId',',\x20Resultado:\x20','checkAndUpdateChats','authState','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','number','fetchProfile','mongodb://','authModel','):\x20Query\x20params:','order','Instance\x20ID:','process','saveCreds','Background\x20color\x20is\x20required','inner','GROUPS_UPDATE','webhook','processUazapi','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','sendPresenceUpdate','archiveChat','documentWithCaptionMessage','findGroupInfos','creds.json','editFlowCondition','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','hDel','sendMessage','decryptPollVote','chatModify','remoteJidsRemaining','fileName','router','STATUS_INSTANCE','API_KEY','):\x20Visualizando\x20AutomateSystem','getMessage','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Deletando\x20fluxo...','all','remove.instance','mentioned','eventHandler','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','closed','datetime','__esModule','function','gifPlayback','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Erro\x20de\x20reinicialização:\x20','composing','last','.josn','editFlowReply','PORT','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22',',\x20Comparador:\x20','notMatchRegex','markMessageAsRead','equal','js-yaml','viewOnceMessage','existsSync','end','editflowvariable','updateReadReceiptsPrivacy','waInstances','CONECTADO\x20À\x20UAZAPI','replaceVariablesInObject','stateConnection','groupValidate','Error\x20change\x20group\x20description','apikey','deleteConversation','documentMessage','archive','replyOptions','toFile','PRIVKEY','revokeInviteCode','WEBHOOK_GLOBAL_URL','Read\x20messages\x20fail','toBRL','upsertChats','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','INFO','CLIENT','lastSendMessage','modifiedCount','listen','DB_PREFIX_NAME','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','HOST','pollOnReplyDelete','Erro\x20ao\x20iniciar\x20fluxo:\x20','finish','quotedMessage','editflow','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','done','groupUpdateDescription','\x1b[36m%s\x1b[0m','nome','REDIS_PREFIX_KEY','WEBHOOK_EVENTS_CONNECTION_UPDATE','Business\x20profile\x20fetched','\x1b[37m','deleteDoneMessages','jsonwebtoken','reorderBlocks','apply','jsonschema','parseInt','updateMediaMessage','):\x20Enviando\x20localização','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','editFlowVaredit','BufferJSON','\x1b[32m','setHeader','cleanStore','isRunning','LICENSE_INVALID','Primeiro\x20Valor:\x20','addReplyOption','NEW_JWT_TOKEN','CHATS_DELETE','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','6nXhnPL','displayName','flowStopConversation',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Criando\x20fluxo...','stickerMessage','endSession','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','desc','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','joinGroup','Original\x20filename:','flowStopMinutes','not_announcement','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','presence.update','pollCreationMessage','findConversation','chrome','enabled','temp-','Unauthorized','key','removeInstance','forEach','fullName','uazapiSendLocation','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','app-state-sync-key','loggedOut','goNextblock','waitingPoll_replyOptions','sendReaction','request\x20received\x20in\x20editFlow','AppStateSyncKeyData','MAX_RECONNECT_ATTEMPTS','):\x20Error\x20processing\x20conditions:\x20','reactionMessage','formatBRNumber','isURL','sticker','website','/instance','Falha\x20ao\x20deletar\x20contatos:','onTime','emit','):\x20nextBlock.uazapi.name','request\x20received\x20in\x20fetchConversation','pollMessageOnDelete','fone','Conexão\x20estabelecida','):\x20Error\x20processing\x20the\x20block:\x20','getBusinessProfile','getClient','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','notEqual','qrcode.updated','variablesNotFound','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','replyOption','render','delInstanceFiles','readMessage','stringify','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','flowname:\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','toLocaleString','fileLength','bulkWrite','setContext','newValue','Connection','redisEnv','8dyeFRS','.png','.sendDataWebhook-local','uazapiSendText','.json','.ogg','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','editFlowVariable','deleteOne','generateWAMessageFromContent','Archiving\x20chat','public','909496revbwc','/instance/fetchInstances','blockId','pino','.jwt','remoteJid','contactname','):\x20conversation.waitingPollname','CONNECTION','class-validator','reviver','WEBHOOK_EVENTS_SEND_MESSAGE','evaluateCondition','\x20--agree-tos\x20-d\x20','connectToWhatsapp','linkPreview','hostname','validate','instances','Processing\x20audio','sendText','proto','):\x20Procurando\x20mensagens\x20para\x20envio','DATABASE_CONNECTION_HOST','notify','):\x20','errorLog','\x20foi\x20interrompido\x20pelo\x20usuário.','interval\x20não\x20é\x20um\x20número','push','.uazapi.dev/privkey.pem','updateProfilePicture','chats.update','length','ButtonsMessage','certbot\x20certonly\x20--standalone\x20-m\x20','Valor\x20inicial:\x20\x22','conditions','removeProfilePicture','waMonitor','uuid','PASSWORD','Close\x20connection','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','WARN','The\x20property\x20cannot\x20be\x20empty','join','onWhatsApp','array','metadata','getDelay','ObjectId','contact','Error\x20while\x20deleting\x20message\x20for\x20everyone','messagesSend','^\x5cd+([-]\x5cd+)*@g.us$','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','editflowvaredit','pollUpdateMessage','):\x20Ignoring\x20group\x20messages.','fetchContacts','qrCode','/etc/letsencrypt/live/','\x0aFN:','createServer','ini','editflowreply','https://chat.whatsapp.com/','VERBOSE','android','readMessageBot','listMessage','ip:\x20','Variável\x20não\x20encontrada!','updateProfilePicturePrivacy','instance.','email','verifiedName','message','Deleted\x20','JWT','isArray','presence','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','groupHandler','):\x20Buscando\x20todos\x20os\x20fluxos...','defineProperty','\x20foram\x20adicionados\x20\x22contactname\x22\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','makeCacheableSignalKeyStore','prototype','STORE_CHATS','subject','The\x20instance\x20needs\x20to\x20be\x20disconnected','syscall','insertMany','urlOrBase64','connectionUpdate','Trying\x20to\x20get\x20business\x20profile','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','-whatsapp-api','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','video','Button\x20IDs\x20cannot\x20be\x20repeated.','agents','request\x20received\x20in\x20starFlow','startFlow','remote\x20\x22origin\x22','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','8080','subjectOwner','DARK','connection.update','performBulkUpdate','imageMessage','trim','get','env','lowerCase','setting','CONFIG_SESSION_PHONE_CLIENT','leaveGroup','updateGParticipate','assign','/group','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','PENDING','group','method','editedMessage','messages.upsert','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','poll_id','segundos','SECRET','\x1b[30m','createNewConversation','@s.whatsapp.net','WEBHOOK_EVENTS_NEW_JWT_TOKEN','use','address','/chat','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','unhandledRejection','@redis/client','\x1b[33m','NAME','Sistema\x20atualizado\x20com\x20sucesso!','isJidUser','AUTHENTICATION_API_KEY','PROD','mimetype','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','optionDescription','send.message','processApiRequest','owner','fetchStatus','backgroundColor','now','getStatus','authentication','messageId','):\x20Deletando\x20mensagem','Last\x20message\x20not\x20found','arrayUnique','updatePrivacySettings','updateParticipant','CHATS_UPDATE','connectionStatus','groupParticipantsUpdate','sha256','):\x20debug\x20alterando\x20this.AutomateSystem','vote','updateGParticipant','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Instance\x20\x22','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','stopped','leadInfo.','):\x20updateResult:','eventEmitter','rows','groupadd','abs','WEBHOOK_EVENTS_CHATS_DELETE','@broadcast','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','\x20minutos.\x20Será\x20às\x20','Audio\x20is\x20url','\x20não\x20encontrado','start','delAll','error','writeStore','Module\x20-\x20ON','CORS_ORIGIN','changeVariables','pollMessage','updateGroupsAddPrivacy','url','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Error\x20in\x20markMessageAsRead:','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','WEBHOOK_GLOBAL_ENABLED','header','sendButtons','substring','Image\x20created','dbServer','footerText','Sending\x20audio\x20whatsapp','Erro\x20ao\x20editar\x20o\x20bloco:\x20','useMultiFileAuthState','atendimentoAberto','DELETED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','size','Converting\x20audio\x20to\x20mp4','description','next_groupId','rm\x20-rf\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','statusCode','hex','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','binary','client','Invalid\x20format','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','updateStopChat','newName','EXPIRIN_IN','editChat','dropCollection','imagechat','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Flow\x20não\x20encontrado','name','conversation','locationMessage','Error\x20updating\x20profile\x20picture','startsWith','apiResponse','delayMessage','.uazapi.dev/fullchain.pem','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','createInstance','WEBHOOK_EVENTS_CONTACTS_UPSERT','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','DATABASE_CONNECTION_USER','contains','TEXT','updateLastSeenPrivacy','dbSettings','\x1b[34m%s\x1b[0m','):\x20Não\x20achou\x20nenhum\x20flow','SendScheduleMessage','chatModel','USER','waMonit','):\x20Enviando\x20contato','reconnectTimestamps','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','apirequest','dbClient','DATABASE_CONNECTION_PASSWORD','birthtime','messageContextInfo','REDIS_ENABLED','hbs','g-t','boolean','getOwnPropertyDescriptor','buttons','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Output\x20path:\x20','shift','ERROR','Authentication\x20error','load','fetchMessages','delInstanceTime','Db\x20Connection','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','entries','throwAndLogError','request\x20body:\x20','setWebhook','3UNPwOO','):\x20Deletados\x20','findAndReplace','2074796MSxnWB','split','Router','Log\x20out\x20instance:\x20','groupMetadata','protocolMessage','contact_blacklist','waitingPoll_id','profile','Operador:\x20\x22','Group\x20not\x20found','saveMediaToFile','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','jpegThumbnail','Getting\x20profile\x20with\x20jid:\x20','status.instance','):\x20customFieldVariables','updateProfileName','Instance\x20Key\x20from\x20DB:','\x22\x20-\x20NOT\x20CONNECTION','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','deleteflow','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','secondValue'];a0_0x145e=function(){return _0x3c13b3;};return a0_0x145e();}var co=require(a0_0xac1afc(0x4bf)),ci=no[a0_0xac1afc(0x5fe)][a0_0xac1afc(0x4c5)](__dirname,a0_0xac1afc(0x64b)),xt=(0x0,_t[a0_0xac1afc(0x5c0)])(),li=b[a0_0xac1afc(0x50b)]('AUTHENTICATION')[a0_0xac1afc(0x687)],pe=[ws,ua,ga[li]];xt[a0_0xac1afc(0x522)](a0_0xac1afc(0x211),_t['default']['static'](ci))[a0_0xac1afc(0x50b)]('/events/:instance',async(_0x4d935f,_0x3beca2)=>{const _0x2ec513=a0_0xac1afc;console[_0x2ec513(0x2b0)](_0x2ec513(0x6e7));let _0x42a74c=_0x4d935f['params'][_0x2ec513(0x300)],_0x5a6862=(_0x4d935f[_0x2ec513(0x633)]['events']||'')[_0x2ec513(0x5bf)](','),_0x518f4b=(0x0,co['v4'])();console[_0x2ec513(0x2b0)](_0x2ec513(0x3c6),_0x42a74c),console[_0x2ec513(0x2b0)](_0x2ec513(0x73d),_0x5a6862);let _0x14cff8=b[_0x2ec513(0x50b)](_0x2ec513(0x6ce))[_0x2ec513(0x3de)],_0x3bbefd=_0x4d935f[_0x2ec513(0x633)][_0x2ec513(0x405)];if(console[_0x2ec513(0x2b0)](_0x2ec513(0x615),_0x3bbefd),_0x14cff8['KEY']!==_0x3bbefd){console['log']('env.KEY\x20!==\x20key');try{let _0x3755fc=await de['auth'][_0x2ec513(0x621)](_0x42a74c);if(console[_0x2ec513(0x2b0)](_0x2ec513(0x5d0),_0x3755fc),!_0x3755fc||_0x3755fc[_0x2ec513(0x405)]!==_0x3bbefd)return console[_0x2ec513(0x2b0)](_0x2ec513(0x548)),_0x3beca2[_0x2ec513(0x798)](0x191)[_0x2ec513(0x702)]('API\x20Key\x20inválida.');}catch(_0x314250){return console[_0x2ec513(0x558)](_0x2ec513(0x6d1),_0x314250),_0x3beca2[_0x2ec513(0x798)](0x191)[_0x2ec513(0x702)](_0x2ec513(0x216));}}if(!await Ze(_0x42a74c))return _0x3beca2[_0x2ec513(0x798)](0x194)[_0x2ec513(0x702)](_0x2ec513(0x2c6));_0x3beca2[_0x2ec513(0x435)]('Content-Type','text/event-stream'),_0x3beca2[_0x2ec513(0x435)](_0x2ec513(0x782),_0x2ec513(0x285)),_0x3beca2[_0x2ec513(0x435)](_0x2ec513(0x489),'keep-alive'),_0x3beca2['flushHeaders']();let _0x5a02b9=_0x2ec513(0x6e6)+JSON[_0x2ec513(0x47f)]({'info':_0x2ec513(0x472)})+'\x0a\x0a';_0x3beca2[_0x2ec513(0x642)](_0x5a02b9),oo(_0x42a74c,_0x518f4b,_0x3beca2,_0x5a6862),_0x4d935f['on'](_0x2ec513(0x283),()=>{const _0x4e2ec4=_0x2ec513;console[_0x4e2ec4(0x2b0)](_0x4e2ec4(0x622)+_0x42a74c),io(_0x42a74c,_0x518f4b);});}),xt['get'](a0_0xac1afc(0x325),(_0x404acc,_0x556f90)=>{const _0x334bd0=a0_0xac1afc;let _0x4d054a=ro();_0x556f90[_0x334bd0(0x654)](_0x4d054a);})[a0_0xac1afc(0x50b)]('/',(_0xacd68f,_0x4cb70b)=>{const _0x14c975=a0_0xac1afc;let _0x36de7f=b[_0x14c975(0x50b)]('SSL_CONF'),_0x27d44e=_0x36de7f&&_0x36de7f[_0x14c975(0x5e2)]['split']('/')[0x4];if(_0x27d44e){let _0x4d4e7e=encodeURIComponent(_0x14c975(0x28b)+_0x27d44e);_0x4cb70b['redirect'](_0x14c975(0x7ac)+_0x4d4e7e);}else _0x4cb70b[_0x14c975(0x756)](_0x14c975(0x719));})['put'](a0_0xac1afc(0x7af),...pe,async(_0x4a1520,_0x441cea)=>{const _0x4bd5e0=a0_0xac1afc;try{console[_0x4bd5e0(0x2b0)](_0x4bd5e0(0x514)),_0x441cea['status'](0xc8)[_0x4bd5e0(0x654)]({'message':_0x4bd5e0(0x560)}),_0x441cea['on'](_0x4bd5e0(0x41c),()=>process['exit'](0x0));}catch(_0x4e3c54){console['error'](_0x4bd5e0(0x525),_0x4e3c54),_0x441cea[_0x4bd5e0(0x798)](0x1f4)[_0x4bd5e0(0x654)]({'message':_0x4bd5e0(0x20c)});}})[a0_0xac1afc(0x522)](a0_0xac1afc(0x46a),new yt(b,...pe)['router'],new It(ws)[a0_0xac1afc(0x3dc)])[a0_0xac1afc(0x522)]('/message',new At(...pe)[a0_0xac1afc(0x3dc)])['use'](a0_0xac1afc(0x524),new rt(...pe)[a0_0xac1afc(0x3dc)])['use'](a0_0xac1afc(0x513),new ht(...pe)[a0_0xac1afc(0x3dc)])[a0_0xac1afc(0x522)](a0_0xac1afc(0x6cf),new Pt(...pe)[a0_0xac1afc(0x3dc)])[a0_0xac1afc(0x522)]('/automate',new Ot(...pe)['router']);var g=class{constructor(..._0x122b99){throw{'status':0x190,'error':'Bad\x20Request','message':_0x122b99['length']>0x0?_0x122b99:void 0x0};}},ne=class{constructor(..._0x78376){const _0x1dd293=a0_0xac1afc;throw{'status':0x191,'error':_0x1dd293(0x455),'message':_0x78376[_0x1dd293(0x4b8)]>0x0?_0x78376:void 0x0};}},re=class{constructor(..._0x1896e2){const _0x30fe1a=a0_0xac1afc;throw{'status':0x193,'error':_0x30fe1a(0x706),'message':_0x1896e2[_0x30fe1a(0x4b8)]>0x0?_0x1896e2:void 0x0};}},x=class{constructor(..._0x58cc54){const _0x3cf8f9=a0_0xac1afc;throw{'status':0x194,'error':'Not\x20Found','message':_0x58cc54[_0x3cf8f9(0x4b8)]>0x0?_0x58cc54:void 0x0};}},A=class{constructor(..._0x1b88e6){const _0x5dc680=a0_0xac1afc;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x1b88e6[_0x5dc680(0x4b8)]>0x0?_0x1b88e6:void 0x0};}},ge=require(a0_0xac1afc(0x1c1));async function vs(_0x1119a5){const _0x3eac6d=a0_0xac1afc;let _0xc4e801=new N(vs['name']),_0x75a58e=M[_0x3eac6d(0x475)](),_0x8c1fec=_0x75a58e['db'](b[_0x3eac6d(0x50b)](_0x3eac6d(0x1d1))[_0x3eac6d(0x49f)][_0x3eac6d(0x417)]+_0x3eac6d(0x5e5))[_0x3eac6d(0x766)](_0x1119a5),_0x40ae8d=async(_0x1673be,_0x2a7a05)=>{const _0x167199=_0x3eac6d;try{return await _0x75a58e['connect'](),await _0x8c1fec['replaceOne']({'_id':_0x2a7a05},JSON['parse'](JSON[_0x167199(0x47f)](_0x1673be,ge['BufferJSON']['replacer'])),{'upsert':!0x0});}catch{}},_0x33f78b=async _0x18e796=>{const _0x2831cc=_0x3eac6d;try{await _0x75a58e[_0x2831cc(0x6e9)]();let _0x1e741b=await _0x8c1fec[_0x2831cc(0x289)]({'_id':_0x18e796}),_0x5bc820=JSON[_0x2831cc(0x47f)](_0x1e741b);return JSON[_0x2831cc(0x61f)](_0x5bc820,ge[_0x2831cc(0x433)][_0x2831cc(0x4a1)]);}catch{}},_0x1d6ece=async _0x3bdd10=>{const _0xdc8b16=_0x3eac6d;try{return await _0x75a58e[_0xdc8b16(0x6e9)](),await _0x8c1fec[_0xdc8b16(0x493)]({'_id':_0x3bdd10});}catch{}},_0xc6ac6=await _0x33f78b(_0x3eac6d(0x2cb))||(0x0,ge[_0x3eac6d(0x6ff)])();return{'state':{'creds':_0xc6ac6,'keys':{'get':async(_0x4b7275,_0x1a7617)=>{const _0x440ec1=_0x3eac6d;let _0x4dbaaa={};return await Promise[_0x440ec1(0x3e3)](_0x1a7617[_0x440ec1(0x6d5)](async _0x36c058=>{const _0x1106f9=_0x440ec1;let _0x4c2776=await _0x33f78b(_0x4b7275+'-'+_0x36c058);_0x4b7275===_0x1106f9(0x45c)&&_0x4c2776&&(_0x4c2776=ge[_0x1106f9(0x4ac)][_0x1106f9(0x6f6)][_0x1106f9(0x462)]['fromObject'](_0x4c2776)),_0x4dbaaa[_0x36c058]=_0x4c2776;})),_0x4dbaaa;},'set':async _0x5add08=>{const _0x512504=_0x3eac6d;let _0x134d72=[];for(let _0x18c14a in _0x5add08)for(let _0x3ad94b in _0x5add08[_0x18c14a]){let _0x2b32ae=_0x5add08[_0x18c14a][_0x3ad94b],_0x29a364=_0x18c14a+'-'+_0x3ad94b;_0x134d72[_0x512504(0x4b4)](_0x2b32ae?_0x40ae8d(_0x2b32ae,_0x29a364):_0x1d6ece(_0x29a364));}await Promise[_0x512504(0x3e3)](_0x134d72);}}},'saveCreds':async()=>_0x40ae8d(_0xc6ac6,'creds')};}var Ts=T(require('long')),Ms=T(require(a0_0xac1afc(0x647))),Lt=require(a0_0xac1afc(0x1c1)),lo=require(a0_0xac1afc(0x527)),kt=require('@whiskeysockets/baileys'),$t;function ui(_0x17ff3a){const _0x135ea1=a0_0xac1afc;return $t||($t=(0x0,lo[_0x135ea1(0x240)])({'url':_0x17ff3a[_0x135ea1(0x735)]}),$t[_0x135ea1(0x6e9)]()),$t;}var be=class c{constructor(_0x31bfd2,_0x325672){const _0x327b0e=a0_0xac1afc;this[_0x327b0e(0x48a)]=_0x31bfd2,this[_0x327b0e(0x624)]=_0x325672,this[_0x327b0e(0x3a1)]=new N(c['name']),this[_0x327b0e(0x57c)]=ui(_0x31bfd2);}set[a0_0xac1afc(0x39d)](_0x1fdd85){this['instanceName']=_0x1fdd85;}async[a0_0xac1afc(0x2b6)](){const _0x1172ed=a0_0xac1afc;try{return await this[_0x1172ed(0x57c)][_0x1172ed(0x30f)]([_0x1172ed(0x72e),this[_0x1172ed(0x48a)][_0x1172ed(0x20d)]+':*']);}catch(_0x20f3b3){this[_0x1172ed(0x3a1)][_0x1172ed(0x558)](_0x20f3b3);}}async['writeData'](_0x48ebd9,_0x4650da){const _0x62f47b=a0_0xac1afc;try{let _0x427255=JSON[_0x62f47b(0x47f)](_0x4650da,kt[_0x62f47b(0x433)]['replacer']);return await this[_0x62f47b(0x57c)][_0x62f47b(0x229)](this['redisEnv'][_0x62f47b(0x20d)]+':'+this[_0x62f47b(0x624)],_0x48ebd9,_0x427255);}catch(_0x565e8b){this[_0x62f47b(0x3a1)][_0x62f47b(0x558)](_0x565e8b);}}async['getAllData'](){const _0x3cce9c=a0_0xac1afc;try{let _0x23194c=await this['client'][_0x3cce9c(0x656)](this[_0x3cce9c(0x48a)]['PREFIX_KEY']+':'+this[_0x3cce9c(0x624)]);if(_0x23194c){for(let _0x288f2d in _0x23194c)Object['prototype'][_0x3cce9c(0x1d5)][_0x3cce9c(0x2a4)](_0x23194c,_0x288f2d)&&(_0x23194c[_0x288f2d]=JSON[_0x3cce9c(0x61f)](_0x23194c[_0x288f2d],kt['BufferJSON'][_0x3cce9c(0x4a1)]));return _0x23194c;}}catch(_0x456c17){this[_0x3cce9c(0x3a1)][_0x3cce9c(0x558)](_0x456c17);}}async['readData'](_0x4033cc){const _0x5de08f=a0_0xac1afc;try{let _0x30cf59=await this['client'][_0x5de08f(0x3a3)](this['redisEnv']['PREFIX_KEY']+':'+this['instanceName'],_0x4033cc);if(_0x30cf59)return JSON[_0x5de08f(0x61f)](_0x30cf59,kt[_0x5de08f(0x433)][_0x5de08f(0x4a1)]);}catch(_0x39aa34){this[_0x5de08f(0x3a1)][_0x5de08f(0x558)](_0x39aa34);}}async['removeData'](_0x5c045d){const _0x4db886=a0_0xac1afc;try{return await this[_0x4db886(0x57c)][_0x4db886(0x3d6)](this[_0x4db886(0x48a)][_0x4db886(0x20d)]+':'+this[_0x4db886(0x624)],_0x5c045d);}catch(_0x160455){this[_0x4db886(0x3a1)]['error'](_0x160455);}}async[a0_0xac1afc(0x557)](_0x2e725d){const _0x2f7000=a0_0xac1afc;try{return await this[_0x2f7000(0x57c)][_0x2f7000(0x364)](_0x2e725d||this['redisEnv'][_0x2f7000(0x20d)]+':'+this[_0x2f7000(0x624)]);}catch(_0x255fd8){this[_0x2f7000(0x3a1)][_0x2f7000(0x558)](_0x255fd8);}}};async function Cs(_0x16f99a,_0x4ad82c){const _0x1fe271=a0_0xac1afc;let _0x5bdc2d=new N(Cs[_0x1fe271(0x587)]),_0x1820aa=new be(_0x16f99a,_0x4ad82c),_0x25ea0f=async(_0x35d488,_0x5aabbe)=>{const _0x419d71=_0x1fe271;try{return await _0x1820aa[_0x419d71(0x26f)](_0x5aabbe,_0x35d488);}catch(_0x40d9a0){return _0x5bdc2d[_0x419d71(0x558)]({'localError':_0x419d71(0x26f),'error':_0x40d9a0});}},_0xfcbe25=async _0x92d11e=>{const _0x2802b2=_0x1fe271;try{return await _0x1820aa[_0x2802b2(0x277)](_0x92d11e);}catch(_0x54a0a4){_0x5bdc2d[_0x2802b2(0x558)]({'readData':_0x2802b2(0x26f),'error':_0x54a0a4});return;}},_0x4a0e0a=async _0x15eeaf=>{const _0x5d335e=_0x1fe271;try{return await _0x1820aa['removeData'](_0x15eeaf);}catch(_0x49134){_0x5bdc2d[_0x5d335e(0x558)]({'readData':'removeData','error':_0x49134});}},_0x4c3dc8=await _0xfcbe25(_0x1fe271(0x2cb))||(0x0,Lt[_0x1fe271(0x6ff)])();return{'state':{'creds':_0x4c3dc8,'keys':{'get':async(_0x55584c,_0x39e459)=>{const _0x2253cf=_0x1fe271;let _0x5e7156={};return await Promise[_0x2253cf(0x3e3)](_0x39e459[_0x2253cf(0x6d5)](async _0x608d3f=>{const _0x2f499c=_0x2253cf;let _0x493363=await _0xfcbe25(_0x55584c+'-'+_0x608d3f);_0x55584c===_0x2f499c(0x45c)&&_0x493363&&(_0x493363=Lt[_0x2f499c(0x4ac)][_0x2f499c(0x6f6)][_0x2f499c(0x462)][_0x2f499c(0x349)](_0x493363)),_0x5e7156[_0x608d3f]=_0x493363;})),_0x5e7156;},'set':async _0x5b0e76=>{const _0x38195d=_0x1fe271;let _0x3ff3a2=[];for(let _0x476b82 in _0x5b0e76)for(let _0x19002f in _0x5b0e76[_0x476b82]){let _0x16ed3c=_0x5b0e76[_0x476b82][_0x19002f],_0x8c7eca=_0x476b82+'-'+_0x19002f;_0x3ff3a2[_0x38195d(0x4b4)](_0x16ed3c?await _0x25ea0f(_0x16ed3c,_0x8c7eca):await _0x4a0e0a(_0x8c7eca));}await Promise[_0x38195d(0x3e3)](_0x3ff3a2);}}},'saveCreds':async()=>await _0x25ea0f(_0x4c3dc8,_0x1fe271(0x2cb))};}var _=T(require('fs')),Vt=require('uuid'),jt=T(require(a0_0xac1afc(0x791)));function W(_0x36c2af){const _0xc9f385=a0_0xac1afc;if(_0x36c2af['viewOnceMessage']||_0x36c2af['viewOnceMessageV2']){let _0x486531=_0x36c2af[_0xc9f385(0x3fa)]?_0x36c2af['viewOnceMessage'][_0xc9f385(0x4e5)]:_0x36c2af[_0xc9f385(0x75c)][_0xc9f385(0x4e5)];return(0x0,w[_0xc9f385(0x6c7)])(_0x486531);}return _0x36c2af['pollCreationMessageV3']?_0xc9f385(0x6f2):_0x36c2af[_0xc9f385(0x662)]?_0xc9f385(0x662):(0x0,w[_0xc9f385(0x6c7)])(_0x36c2af);}var Ee=class c{constructor(_0x46c3b0,_0x577450,_0x249eb5){const _0x296b27=a0_0xac1afc;this[_0x296b27(0x2f4)]=_0x46c3b0,this[_0x296b27(0x54c)]=_0x577450,this['repository']=_0x249eb5,this[_0x296b27(0x38d)]=null,this[_0x296b27(0x3a1)]=new N(c[_0x296b27(0x587)]),this['instance']={},this[_0x296b27(0x28e)]={},this[_0x296b27(0x402)]={'state':_0x296b27(0x283)},this[_0x296b27(0x716)]=(0x0,$[_0x296b27(0x4c5)])(Y,_0x296b27(0x64b)),this['msgRetryCounterCache']=new Ms[(_0x296b27(0x5fe))](),this[_0x296b27(0x241)]=new Ms[(_0x296b27(0x5fe))](),this[_0x296b27(0x444)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','qrcode.updated':_0x296b27(0x333),'messages.upsert':_0x296b27(0x6fd),'messages.update':_0x296b27(0x287),'send.message':'/wa-message','group.upsert':_0x296b27(0x76c),'group.update':_0x296b27(0x76c),'group-participants.update':_0x296b27(0x76c),'connection.update':_0x296b27(0x220),'messages.set':_0x296b27(0x6fd),'contacts.set':_0x296b27(0x5ed),'contacts.upsert':_0x296b27(0x5ed),'contacts.update':_0x296b27(0x5ed),'presence.update':_0x296b27(0x1f8),'chats.set':'/wa-chats','chats.update':'/wa-chats','chats.upsert':'/wa-chats','chats.delete':_0x296b27(0x72d)},this[_0x296b27(0x749)]=0x0,this[_0x296b27(0x59f)]=[],this[_0x296b27(0x463)]=0xf,this[_0x296b27(0x1ee)]=0x7530,this[_0x296b27(0x437)]=!0x1,this[_0x296b27(0x390)]={'chats.upsert':async(_0x37d2cc,_0xe1b25f)=>{const _0xd1a17f=_0x296b27;let _0x458414=await this[_0xd1a17f(0x754)]['chat'][_0xd1a17f(0x621)]({'where':{'owner':this[_0xd1a17f(0x300)][_0xd1a17f(0x30d)]}}),_0x4aad18=[];for await(let _0x17e6f0 of _0x37d2cc)_0x458414[_0xd1a17f(0x621)](_0x439ec4=>_0x439ec4['id']===_0x17e6f0['id'])||_0x4aad18[_0xd1a17f(0x4b4)]({'id':_0x17e6f0['id'],'owner':this[_0xd1a17f(0x300)][_0xd1a17f(0x30d)],'group':_0x17e6f0['id'][_0xd1a17f(0x31a)](_0xd1a17f(0x2e5)),'name':_0x17e6f0[_0xd1a17f(0x587)]||_0x17e6f0['displayName']||null,'contactname':null,'lastmsg':_0x17e6f0[_0xd1a17f(0x2f9)]&&_0x17e6f0[_0xd1a17f(0x2f9)][_0xd1a17f(0x344)]()[_0xd1a17f(0x4b8)]<0xd?_0x17e6f0[_0xd1a17f(0x2f9)]*0x3e8:_0x17e6f0[_0xd1a17f(0x2f9)]||null,'archived':_0x17e6f0[_0xd1a17f(0x290)]||!0x1,'unreadcount':_0x17e6f0[_0xd1a17f(0x724)]||0x0});await this[_0xd1a17f(0x65c)](_0xd1a17f(0x6e3),_0x4aad18);},'chats.update':async(_0x466d7b,_0x4a9bb1)=>{const _0xe84ef0=_0x296b27;for(let _0xe7fdab of _0x466d7b){let _0x49d9d9={'id':_0xe7fdab['id'],'owner':this[_0xe84ef0(0x300)]['wuid'],'group':_0xe7fdab['id'][_0xe84ef0(0x31a)](_0xe84ef0(0x2e5)),'name':_0xe7fdab[_0xe84ef0(0x587)]||_0xe7fdab[_0xe84ef0(0x43f)],'archived':_0xe7fdab[_0xe84ef0(0x290)]},_0x52c595=!0x1,_0x52015e={'id':_0xe7fdab['id'],'owner':this[_0xe84ef0(0x300)][_0xe84ef0(0x30d)]},_0x28d5ab={};_0x49d9d9[_0xe84ef0(0x290)]!=null&&(this[_0xe84ef0(0x3a1)]['verbose'](this[_0xe84ef0(0x624)]+'\x20('+this[_0xe84ef0(0x300)][_0xe84ef0(0x30d)]+_0xe84ef0(0x784)+_0xe7fdab[_0xe84ef0(0x290)]),_0x52c595=!0x0,_0x28d5ab[_0xe84ef0(0x290)]=_0xe7fdab[_0xe84ef0(0x290)]),_0xe7fdab[_0xe84ef0(0x587)]!=null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0xe84ef0(0x30d)]+_0xe84ef0(0x24e)+_0xe7fdab['name']),_0x52c595=!0x0,_0x28d5ab['name']=_0xe7fdab['name']),_0xe7fdab[_0xe84ef0(0x43f)]!=null&&(this[_0xe84ef0(0x3a1)][_0xe84ef0(0x227)](this[_0xe84ef0(0x624)]+'\x20('+this[_0xe84ef0(0x300)][_0xe84ef0(0x30d)]+_0xe84ef0(0x603)+_0xe7fdab['displayName']),_0x52c595=!0x0,_0x28d5ab[_0xe84ef0(0x587)]=_0xe7fdab[_0xe84ef0(0x43f)]);let _0x3f5bbc;_0x52c595&&_0x4a9bb1[_0xe84ef0(0x753)]&&(_0x3f5bbc=await I[_0xe84ef0(0x794)](_0x52015e,{'$set':_0x28d5ab},{'new':!0x0})),_0x3f5bbc&&G(this[_0xe84ef0(0x624)],_0xe84ef0(0x3ac),{'chat':_0x3f5bbc});}},'chats.delete':async _0xd97e6d=>{const _0x141394=_0x296b27;await this[_0x141394(0x65c)]('chats.delete',[..._0xd97e6d]);}},this[_0x296b27(0x6d2)]={'contacts.upsert':async(_0x2a5ffa,_0x25043a)=>{const _0x591b75=_0x296b27;let _0x4ab279=await this[_0x591b75(0x754)][_0x591b75(0x4cb)][_0x591b75(0x621)]({'where':{'owner':this[_0x591b75(0x300)]['wuid']}}),_0x367411=[];for await(let _0x3af4f2 of _0x2a5ffa)_0x4ab279['find'](_0x51ef85=>_0x51ef85['id']===_0x3af4f2['id'])||_0x367411['push']({'id':_0x3af4f2['id'],'pushName':_0x3af4f2?.['name']||_0x3af4f2?.[_0x591b75(0x4e4)],'owner':this[_0x591b75(0x300)][_0x591b75(0x30d)]});await this[_0x591b75(0x65c)](_0x591b75(0x2c3),_0x367411),await this[_0x591b75(0x754)][_0x591b75(0x4cb)]['insert'](_0x367411,_0x25043a[_0x591b75(0x753)]),await this[_0x591b75(0x3bd)](),await this['checkAndUpdateChats'](),await this[_0x591b75(0x3bd)]();},'contacts.update':async(_0x3c79f2,_0x34295f)=>{const _0x110762=_0x296b27;let _0x40e5ae=[];for await(let _0x1ac149 of _0x3c79f2)_0x40e5ae[_0x110762(0x4b4)]({'id':_0x1ac149['id'],'pushName':_0x1ac149?.['name']??_0x1ac149?.[_0x110762(0x4e4)],'owner':this[_0x110762(0x300)][_0x110762(0x30d)]});await this[_0x110762(0x65c)](_0x110762(0x238),_0x40e5ae);}},this[_0x296b27(0x294)]={'messaging-history.set':async({messages:_0x16a6c4,chats:_0x5342e7,isLatest:_0x507f27},_0x173270)=>{const _0x79329d=_0x296b27;if(_0x507f27){let _0x193c19=await Promise[_0x79329d(0x3e3)](_0x5342e7[_0x79329d(0x6d5)](async _0x2c231e=>({'id':_0x2c231e['id'],'owner':this[_0x79329d(0x300)]['wuid'],'group':_0x2c231e['id'][_0x79329d(0x31a)](_0x79329d(0x2e5)),'name':_0x2c231e[_0x79329d(0x587)]||_0x2c231e[_0x79329d(0x43f)]||null,'contactname':null,'lastmsg':_0x2c231e[_0x79329d(0x2f9)]&&_0x2c231e['conversationTimestamp'][_0x79329d(0x344)]()[_0x79329d(0x4b8)]<0xd?_0x2c231e[_0x79329d(0x2f9)]*0x3e8:_0x2c231e[_0x79329d(0x2f9)]||null,'archived':_0x2c231e[_0x79329d(0x290)]||!0x1,'unreadcount':_0x2c231e[_0x79329d(0x724)]||0x0})));await this[_0x79329d(0x65c)]('chats.set',_0x193c19),await this[_0x79329d(0x410)](_0x193c19,_0x173270),await this[_0x79329d(0x3bd)]();}let _0x52b739=[],_0x407783=Date['now']()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x319b91]of Object[_0x79329d(0x5b7)](_0x16a6c4)){if(_0x319b91[_0x79329d(0x4e5)]?.['protocolMessage']||_0x319b91['message']?.[_0x79329d(0x77e)]||!_0x319b91[_0x79329d(0x4e5)]||_0x319b91[_0x79329d(0x456)][_0x79329d(0x49c)]===_0x79329d(0x1ea)||(Ts[_0x79329d(0x5fe)][_0x79329d(0x25d)](_0x319b91?.['messageTimestamp'])&&(_0x319b91[_0x79329d(0x23e)]=_0x319b91[_0x79329d(0x23e)]?.[_0x79329d(0x71d)]()),_0x319b91[_0x79329d(0x23e)]&&_0x319b91[_0x79329d(0x23e)][_0x79329d(0x344)]()['length']<0xd&&(_0x319b91[_0x79329d(0x23e)]=_0x319b91['messageTimestamp']*0x3e8),_0x319b91['messageTimestamp']<_0x407783))continue;let {message_normalized:_0x5a73e2}=this['normalizeMessage'](_0x319b91[_0x79329d(0x4e5)],W(_0x319b91[_0x79329d(0x4e5)]),null);_0x52b739[_0x79329d(0x4b4)]({'key':_0x319b91[_0x79329d(0x456)],'pushName':_0x319b91[_0x79329d(0x379)],'participant':_0x319b91[_0x79329d(0x626)],'message':{..._0x319b91[_0x79329d(0x4e5)]},'messageType':W(_0x319b91['message']),'message_normalized':{'key':_0x319b91[_0x79329d(0x456)],'pushName':_0x319b91['pushName'],'messageTimestamp':_0x319b91[_0x79329d(0x23e)],..._0x5a73e2},'messageTimestamp':_0x319b91[_0x79329d(0x23e)],'owner':this[_0x79329d(0x300)]['wuid']});}_0x173270[_0x79329d(0x753)]&&_0x52b739['length']>0x0&&(this[_0x79329d(0x3a1)][_0x79329d(0x227)](this['instanceName']+'\x20('+this[_0x79329d(0x300)]['wuid']+_0x79329d(0x4b0)+_0x52b739[_0x79329d(0x4b8)]+_0x79329d(0x6a2)+this[_0x79329d(0x300)][_0x79329d(0x30d)]+_0x79329d(0x6cd)),await this[_0x79329d(0x754)][_0x79329d(0x4e5)]['insert']([..._0x52b739],_0x173270[_0x79329d(0x753)])),this[_0x79329d(0x65c)](_0x79329d(0x7ab),[..._0x52b739]),_0x16a6c4=void 0x0;},'messages.upsert':async({messages:_0x184427,type:_0xcbcb26},_0x20e7ce)=>{const _0x1416aa=_0x296b27;let _0x5afc86=_0x184427[0x0];if(_0xcbcb26!==_0x1416aa(0x4af)||!_0x5afc86?.[_0x1416aa(0x4e5)]||_0x5afc86[_0x1416aa(0x4e5)]?.[_0x1416aa(0x5c3)]||_0x5afc86[_0x1416aa(0x4e5)][_0x1416aa(0x77e)]||_0x5afc86[_0x1416aa(0x456)][_0x1416aa(0x49c)]===_0x1416aa(0x1ea))return;let _0x3223bc=null,_0x48004a=null;try{_0x3223bc=await this[_0x1416aa(0x669)](_0x5afc86),_0x48004a=_0x3223bc?_0x3223bc['join'](','):null;}catch(_0x28e72f){this['logger']['verbose'](this[_0x1416aa(0x624)]+'\x20('+this[_0x1416aa(0x300)][_0x1416aa(0x30d)]+_0x1416aa(0x4b0)+_0x28e72f[_0x1416aa(0x4e5)]),_0x48004a=_0x1416aa(0x78f);}if(this[_0x1416aa(0x57c)][_0x1416aa(0x3cf)]('unavailable'),Ts['default']['isLong'](_0x5afc86[_0x1416aa(0x23e)])&&(_0x5afc86[_0x1416aa(0x23e)]=_0x5afc86['messageTimestamp']?.['toNumber']()),this[_0x1416aa(0x28e)]?.[_0x1416aa(0x6f0)]&&_0x5afc86[_0x1416aa(0x456)][_0x1416aa(0x49c)][_0x1416aa(0x69a)](_0x1416aa(0x2e5))){this['logger'][_0x1416aa(0x227)](_0x1416aa(0x380));return;}_0x5afc86[_0x1416aa(0x23e)]&&_0x5afc86[_0x1416aa(0x23e)][_0x1416aa(0x344)]()['length']<0xd&&(_0x5afc86[_0x1416aa(0x23e)]=_0x5afc86[_0x1416aa(0x23e)]*0x3e8);let _0x256803=_0x5afc86[_0x1416aa(0x4e5)],{messageContent:_0x10b7a9,message_normalized:_0x101448}=this[_0x1416aa(0x74b)](_0x256803,W(_0x5afc86['message']),_0x48004a);_0x10b7a9||console[_0x1416aa(0x558)](_0x1416aa(0x32d));let _0x446f91={'key':_0x5afc86[_0x1416aa(0x456)],'pushName':_0x5afc86[_0x1416aa(0x379)],'message':{..._0x5afc86[_0x1416aa(0x4e5)]},'messageType':W(_0x5afc86[_0x1416aa(0x4e5)]),'message_normalized':{'key':_0x5afc86[_0x1416aa(0x456)],'pushName':_0x5afc86[_0x1416aa(0x379)],'messageTimestamp':_0x5afc86[_0x1416aa(0x23e)],'source':(0x0,w[_0x1416aa(0x7a5)])(_0x5afc86[_0x1416aa(0x456)]['id']),..._0x101448},'messageTimestamp':_0x5afc86[_0x1416aa(0x23e)],'owner':this[_0x1416aa(0x300)][_0x1416aa(0x30d)]};this[_0x1416aa(0x3a1)][_0x1416aa(0x2b0)](_0x446f91),await this[_0x1416aa(0x754)][_0x1416aa(0x4e5)][_0x1416aa(0x2fe)]([_0x446f91],_0x20e7ce[_0x1416aa(0x753)]),await this['sendDataWebhook'](_0x1416aa(0x519),_0x446f91),G(this[_0x1416aa(0x624)],'messages',{'message':_0x446f91}),_0x5afc86[_0x1416aa(0x456)][_0x1416aa(0x49c)]!==_0x1416aa(0x1ea)&&await this[_0x1416aa(0x6b8)](_0x20e7ce,_0x446f91,_0x1416aa(0x5fd));},'messages.update':async(_0x474fc3,_0x49c6be)=>{const _0x5b0830=_0x296b27;let _0x2e0dc5={0x0:_0x5b0830(0x5b0),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x5b0830(0x1ff),0x4:_0x5b0830(0x331),0x5:_0x5b0830(0x36b)};for await(let {key:_0x544ea6,update:_0x3f5d49}of _0x474fc3){if(this['localWebhook']?.[_0x5b0830(0x6f0)]&&_0x544ea6['remoteJid'][_0x5b0830(0x69a)](_0x5b0830(0x2e5))){this[_0x5b0830(0x3a1)]['verbose'](_0x5b0830(0x380));return;}if(_0x544ea6['remoteJid']!==_0x5b0830(0x1ea)){let _0x138268=Date[_0x5b0830(0x536)](),_0x22c4af;_0x3f5d49['message']===null&&_0x3f5d49['status']===void 0x0?_0x22c4af=_0x5b0830(0x56f):_0x22c4af=_0x2e0dc5[_0x3f5d49[_0x5b0830(0x798)]];let _0x1d4ef6=_0x544ea6[_0x5b0830(0x49c)]['replace'](/:\d{1,2}@/g,'@'),_0x3bad49={..._0x544ea6,'remoteJid':_0x1d4ef6,'status':_0x22c4af,'datetime':_0x138268,'owner':this[_0x5b0830(0x300)][_0x5b0830(0x30d)]};await this[_0x5b0830(0x65c)]('messages.update',_0x3bad49),await this[_0x5b0830(0x754)][_0x5b0830(0x22b)][_0x5b0830(0x2fe)]([_0x3bad49],_0x49c6be[_0x5b0830(0x753)]),await this[_0x5b0830(0x5f4)](_0x544ea6,_0x1d4ef6,_0x3bad49);}}}},this['groupHandler']={'groups.upsert':_0x5f5133=>{const _0x10420c=_0x296b27;this[_0x10420c(0x65c)](_0x10420c(0x745),_0x5f5133);},'groups.update':_0x4cf779=>{const _0x5a3951=_0x296b27;this[_0x5a3951(0x65c)](_0x5a3951(0x392),_0x4cf779);},'group-participants.update':_0x169246=>{const _0x3a7c5c=_0x296b27;this[_0x3a7c5c(0x65c)](_0x3a7c5c(0x695),_0x169246);}},this[_0x296b27(0x669)]=async _0xf4e725=>{const _0x329d93=_0x296b27;if(_0xf4e725['message']?.[_0x329d93(0x4d1)]){let _0x3b3418=await this[_0x329d93(0x3e0)](_0xf4e725[_0x329d93(0x4e5)][_0x329d93(0x4d1)][_0x329d93(0x66a)],!0x0);if(_0x3b3418){let _0x29eb4d=_0x3b3418[_0x329d93(0x456)][_0x329d93(0x1e3)]?this[_0x329d93(0x300)][_0x329d93(0x30d)]+_0x329d93(0x520):_0x3b3418[_0x329d93(0x456)]['participant']||_0x3b3418['key'][_0x329d93(0x49c)],_0x18fad5=_0x3b3418[_0x329d93(0x456)]['id'],_0x42eb8c=_0x3b3418[_0x329d93(0x4e5)],_0x573d99=Buffer[_0x329d93(0x732)](_0x42eb8c[_0x329d93(0x5a6)][_0x329d93(0x63a)]['toString'](_0x329d93(0x579)),'hex'),_0x39ad4b=(0x0,w[_0x329d93(0x3d8)])(_0xf4e725[_0x329d93(0x4e5)][_0x329d93(0x4d1)][_0x329d93(0x544)],{'pollCreatorJid':_0x29eb4d,'pollMsgId':_0x18fad5,'pollEncKey':_0x573d99,'voterJid':_0xf4e725[_0x329d93(0x456)]['fromMe']?this['instance'][_0x329d93(0x30d)]+_0x329d93(0x520):_0xf4e725[_0x329d93(0x456)]['remoteJid']['endsWith']('g.us')?_0xf4e725[_0x329d93(0x456)][_0x329d93(0x626)]:_0xf4e725[_0x329d93(0x456)][_0x329d93(0x49c)]}),_0x1c9499=[],_0x4dd11f=_0x39ad4b['selectedOptions'][_0x329d93(0x6d5)](_0x529da6=>Buffer[_0x329d93(0x732)](_0x529da6)['toString'](_0x329d93(0x579)));for(let {optionName:_0x2264a8}of _0x42eb8c['pollCreationMessage']?.[_0x329d93(0x674)]||_0x42eb8c[_0x329d93(0x6f2)]?.[_0x329d93(0x674)]||_0x42eb8c[_0x329d93(0x662)]?.[_0x329d93(0x674)])_0x4dd11f[_0x329d93(0x2f7)]((0x0,w[_0x329d93(0x542)])(Buffer[_0x329d93(0x732)](_0x2264a8))[_0x329d93(0x344)](_0x329d93(0x579)))>-0x1&&_0x1c9499[_0x329d93(0x4b4)](_0x2264a8);return _0x1c9499;}}return null;},this[_0x296b27(0x74b)]=(_0x4a52d7,_0x24e27a,_0x27e02e)=>{const _0x1c1ac2=_0x296b27;let _0x1697f7=_0x24e27a?_0x4a52d7[_0x24e27a]:void 0x0,_0x4f0684={},_0x2ba23b=null,_0x1bce78=null,_0x39c1a7=null;if(_0x4a52d7[_0x1c1ac2(0x75c)]?_0x1697f7=_0x4a52d7['viewOnceMessageV2']['message'][_0x24e27a]:_0x4a52d7[_0x1c1ac2(0x3fa)]?_0x1697f7=_0x4a52d7[_0x1c1ac2(0x3fa)][_0x1c1ac2(0x4e5)][_0x24e27a]:_0x4a52d7[_0x1c1ac2(0x24d)]?_0x1697f7=_0x4a52d7[_0x1c1ac2(0x24d)][_0x1c1ac2(0x4e5)][_0x24e27a]:_0x4a52d7[_0x1c1ac2(0x518)]?.['message']?.[_0x1c1ac2(0x5c3)]?.[_0x1c1ac2(0x518)]?(_0x2ba23b=_0x4a52d7[_0x1c1ac2(0x518)][_0x1c1ac2(0x4e5)][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x456)]['id'],_0x4a52d7['editedMessage'][_0x1c1ac2(0x4e5)][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)][_0x1c1ac2(0x588)]?_0x1697f7=_0x4a52d7[_0x1c1ac2(0x518)]['message'][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)][_0x1c1ac2(0x588)]:_0x4a52d7[_0x1c1ac2(0x518)][_0x1c1ac2(0x4e5)][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)][_0x1c1ac2(0x509)]?_0x1697f7=_0x4a52d7[_0x1c1ac2(0x518)][_0x1c1ac2(0x4e5)][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)]['imageMessage'][_0x1c1ac2(0x61c)]:_0x4a52d7[_0x1c1ac2(0x518)]['message'][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)][_0x1c1ac2(0x387)]?_0x1697f7=_0x4a52d7[_0x1c1ac2(0x518)][_0x1c1ac2(0x4e5)][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)][_0x1c1ac2(0x387)]['caption']:_0x4a52d7['editedMessage'][_0x1c1ac2(0x4e5)]['protocolMessage'][_0x1c1ac2(0x518)]['documentWithCaptionMessage']?_0x1697f7=_0x4a52d7[_0x1c1ac2(0x518)][_0x1c1ac2(0x4e5)][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)]['documentWithCaptionMessage'][_0x1c1ac2(0x4e5)][_0x1c1ac2(0x407)][_0x1c1ac2(0x61c)]:_0x1697f7=_0x4a52d7[_0x1c1ac2(0x518)]['message'][_0x1c1ac2(0x5c3)][_0x1c1ac2(0x518)]):_0x1697f7=_0x4a52d7[_0x24e27a],!_0x24e27a||!_0x1697f7){console[_0x1c1ac2(0x558)](_0x1c1ac2(0x686),_0x4a52d7);return;}_0x4a52d7[_0x24e27a]?.['contextInfo']?.[_0x1c1ac2(0x3bb)]&&_0x4a52d7[_0x24e27a]?.[_0x1c1ac2(0x638)]?.[_0x1c1ac2(0x41d)]&&(_0x1bce78=_0x4a52d7[_0x24e27a][_0x1c1ac2(0x638)][_0x1c1ac2(0x3bb)]),_0x4a52d7[_0x1c1ac2(0x465)]&&(_0x39c1a7=_0x4a52d7[_0x1c1ac2(0x465)][_0x1c1ac2(0x456)]['id']);let _0xa94950;if(_0x1697f7&&typeof _0x1697f7==_0x1c1ac2(0x5de)&&'pollCreationMessageKey'in _0x1697f7&&({pollCreationMessageKey:_0xa94950}=_0x1697f7),_0x24e27a===_0x1c1ac2(0x3d1)){let _0x55fdd0=_0x1697f7?.[_0x1c1ac2(0x4e5)]?.[_0x1c1ac2(0x407)];_0x55fdd0&&(_0x1697f7=_0x55fdd0);}if(_0x24e27a==='pollCreationMessage'||_0x24e27a===_0x1c1ac2(0x662)||_0x24e27a===_0x1c1ac2(0x6f2)){let _0x33dbdd=_0x1697f7[_0x1c1ac2(0x674)]['map'](_0x3fa6bc=>_0x3fa6bc[_0x1c1ac2(0x757)])[_0x1c1ac2(0x4c5)]('|');_0x4f0684[_0x1c1ac2(0x350)]=_0x33dbdd;}let _0x4cae6d=_0x1697f7[_0x1c1ac2(0x587)]||_0x1697f7[_0x1c1ac2(0x61c)]||_0x1697f7[_0x1c1ac2(0x588)]||_0x1697f7[_0x1c1ac2(0x43f)];if(_0x1697f7['vcard']){let _0x12784a=this['formatVCard'](JSON['stringify'](_0x1697f7[_0x1c1ac2(0x5e6)],null,0x2));_0x4cae6d=_0x4cae6d+'\x0a'+_0x12784a;}if(_0x1697f7){let {displayName:_0x4f840b,vcard:_0x269ef7,contactVcard:_0x18b40e,name:_0x4811c1,caption:_0x5c27e9,conversation:_0x1025cc,pollCreationMessageKey:_0x24e217,footerText:_0x3cbde2,contentText:_0x2e2ad7,pageCount:_0x497f90,headerType:_0x9cd6a1,isAvatar:_0x407a2d,isAnimated:_0x12dd2e,fallbackLc:_0xbfa8e9,fallbackLg:_0x3bdeff,namespace:_0x510b34,elementName:_0x8deb74,localizableParams:_0x10c548,viewOnce:_0x5556f0,height:_0x2790ae,width:_0x46239a,key:_0x548dd0,firstScanLength:_0x1bd2ba,firstScanSidecar:_0xc333d9,gifPlayback:_0x5bb93b,gifAttribution:_0x529b02,midQualityFileSha256:_0x8bd58e,scansSidecar:_0x166bd8,streamingSidecar:_0x57a2d6,thumbnailHeight:_0x386a80,thumbnailWidth:_0xb55c3,thumbnailEncSha256:_0x42cae5,thumbnailDirectPath:_0xc85ece,canonicalUrl:_0x3f4a14,matchedText:_0x1a7033,previewType:_0x1e3a49,thumbnailSha256:_0x51842c,deviceListMetadataVersion:_0x2ce6ef,inviteLinkGroupTypeV2:_0x1ae05e,interactiveAnnotations:_0x115171,scanLengths:_0x5b74cb,jpegThumbnail:_0x325d0b,url:_0x248a04,mediaKeyTimestamp:_0x5b65ce,waveform:_0x4d6cd8,stickerSentTs:_0x3d3e07,firstFrameLength:_0x4b8357,fileEncSha256:_0x43fb64,contextInfo:_0x25f044,firstFrameSidecar:_0x54945e,directPath:_0x202a5f,fileSha256:_0x46744b,mediaKey:_0x565bce,senderTimestampMs:_0xe6b45e,..._0x3adc81}=_0x1697f7;typeof _0x1697f7=='string'?_0x4f0684={'text':_0x1697f7,'type':_0x24e27a||_0x1c1ac2(0x588),..._0x2ba23b&&{'edited':_0x2ba23b},..._0x1bce78&&{'quoted':_0x1bce78},..._0x39c1a7&&{'reaction':_0x39c1a7}}:_0x4f0684={'text':_0x4cae6d,..._0x3adc81,..._0x24e27a==='pollUpdateMessage'?{'poll_id':_0x1697f7[_0x1c1ac2(0x66a)]['id'],'vote':_0x27e02e}:{},'type':_0x24e27a,..._0x2ba23b&&{'edited':_0x2ba23b},..._0x1bce78&&{'quoted':_0x1bce78},..._0x39c1a7&&{'reaction':_0x39c1a7},...(_0x24e27a===_0x1c1ac2(0x450)||_0x24e27a===_0x1c1ac2(0x662)||_0x24e27a==='pollCreationMessageV3')&&{'convertedOptions':_0x4f0684[_0x1c1ac2(0x350)]}};}return{'messageType':_0x24e27a,'messageContent':_0x1697f7,'message_normalized':_0x4f0684};},this['processingScheduleMessageId']=null,this[_0x296b27(0x6c0)]=0x0,(this['cleanStore'](),this[_0x296b27(0x300)][_0x296b27(0x366)]={'count':0x0});}set['instanceName'](_0x56b382){const _0x20aa45=a0_0xac1afc;if(!_0x56b382){this[_0x20aa45(0x300)][_0x20aa45(0x587)]=(0x0,po['v4'])();return;}this[_0x20aa45(0x300)][_0x20aa45(0x587)]=_0x56b382,this[_0x20aa45(0x65c)](_0x20aa45(0x5cd),{'instance':this[_0x20aa45(0x300)][_0x20aa45(0x587)],'status':_0x20aa45(0x22f)});}get[a0_0xac1afc(0x624)](){const _0xf6b70d=a0_0xac1afc;return this[_0xf6b70d(0x300)][_0xf6b70d(0x587)];}get[a0_0xac1afc(0x30d)](){const _0x5b07cf=a0_0xac1afc;return this[_0x5b07cf(0x300)]['wuid'];}async[a0_0xac1afc(0x7a8)](){const _0x246a2c=a0_0xac1afc;let _0xc1da31=this['client']['user']?.[_0x246a2c(0x587)]??this['client'][_0x246a2c(0x2e0)]?.[_0x246a2c(0x4e4)];if(!_0xc1da31){if(this[_0x246a2c(0x2f4)][_0x246a2c(0x50b)](_0x246a2c(0x1d1))['ENABLED']){let _0x1be4cd=await M[_0x246a2c(0x475)]()['db'](this[_0x246a2c(0x2f4)][_0x246a2c(0x50b)](_0x246a2c(0x1d1))[_0x246a2c(0x49f)]['DB_PREFIX_NAME']+_0x246a2c(0x5e5))[_0x246a2c(0x766)](this[_0x246a2c(0x624)])['findOne']({'_id':_0x246a2c(0x2cb)});if(_0x1be4cd){let _0x51e242=JSON['parse'](JSON[_0x246a2c(0x47f)](_0x1be4cd),w[_0x246a2c(0x433)]['reviver']);_0xc1da31=_0x51e242['me']?.['name']||_0x51e242['me']?.[_0x246a2c(0x4e4)];}}else{if((0x0,_e['existsSync'])((0x0,$['join'])(j,this[_0x246a2c(0x624)],_0x246a2c(0x3d3)))){let _0x33c6be=JSON[_0x246a2c(0x61f)]((0x0,_e['readFileSync'])((0x0,$['join'])(j,this[_0x246a2c(0x624)],'creds.json'),{'encoding':'utf-8'}));_0xc1da31=_0x33c6be['me']?.[_0x246a2c(0x587)]||_0x33c6be['me']?.[_0x246a2c(0x4e4)];}}}return _0xc1da31;}get[a0_0xac1afc(0x1d6)](){const _0x1f3bd2=a0_0xac1afc;return this['instance'][_0x1f3bd2(0x1d6)];}get[a0_0xac1afc(0x4d4)](){const _0x44418a=a0_0xac1afc;return{'code':this['instance']['qrcode']?.[_0x44418a(0x6c8)],'base64':this[_0x44418a(0x300)][_0x44418a(0x366)]?.['base64']};}async[a0_0xac1afc(0x1eb)](){const _0x5002ca=a0_0xac1afc;let _0x4c4e3d=await this[_0x5002ca(0x754)]['webhook'][_0x5002ca(0x621)](this[_0x5002ca(0x624)]);this[_0x5002ca(0x28e)]['url']=_0x4c4e3d?.['url'],this[_0x5002ca(0x28e)][_0x5002ca(0x453)]=_0x4c4e3d?.['enabled'],this[_0x5002ca(0x28e)]['local_map']=_0x4c4e3d?.['local_map'],this['localWebhook'][_0x5002ca(0x3dd)]=_0x4c4e3d?.[_0x5002ca(0x3dd)],this[_0x5002ca(0x28e)]['QRCODE_UPDATED']=_0x4c4e3d?.['QRCODE_UPDATED'],this['localWebhook'][_0x5002ca(0x755)]=_0x4c4e3d?.[_0x5002ca(0x755)],this['localWebhook'][_0x5002ca(0x5fd)]=_0x4c4e3d?.['MESSAGES_UPSERT'],this['localWebhook'][_0x5002ca(0x760)]=_0x4c4e3d?.['MESSAGES_UPDATE'],this[_0x5002ca(0x28e)][_0x5002ca(0x6e1)]=_0x4c4e3d?.[_0x5002ca(0x6e1)],this['localWebhook']['GROUPS_UPDATE']=_0x4c4e3d?.[_0x5002ca(0x3cb)],this[_0x5002ca(0x28e)][_0x5002ca(0x1df)]=_0x4c4e3d?.[_0x5002ca(0x1df)],this[_0x5002ca(0x28e)][_0x5002ca(0x2fc)]=_0x4c4e3d?.['CHATS_SET'],this['localWebhook']['CHATS_UPSERT']=_0x4c4e3d?.[_0x5002ca(0x6c2)],this[_0x5002ca(0x28e)][_0x5002ca(0x53f)]=_0x4c4e3d?.[_0x5002ca(0x53f)],this[_0x5002ca(0x28e)][_0x5002ca(0x43c)]=_0x4c4e3d?.[_0x5002ca(0x43c)],this[_0x5002ca(0x28e)]['CONTACTS_SET']=_0x4c4e3d?.['CONTACTS_SET'],this[_0x5002ca(0x28e)][_0x5002ca(0x278)]=_0x4c4e3d?.[_0x5002ca(0x278)],this[_0x5002ca(0x28e)][_0x5002ca(0x24b)]=_0x4c4e3d?.['CONTACTS_UPDATE'],this['localWebhook'][_0x5002ca(0x73f)]=_0x4c4e3d?.['PRESENCE_UPDATE'],this[_0x5002ca(0x28e)][_0x5002ca(0x317)]=_0x4c4e3d?.['MESSAGES_SET'],this[_0x5002ca(0x28e)]['CONNECTION_UPDATE']=_0x4c4e3d?.[_0x5002ca(0x28f)],this[_0x5002ca(0x28e)]['groups_ignore']=_0x4c4e3d?.['groups_ignore'];}async['setWebhook'](_0x275fbe){const _0x2324d2=a0_0xac1afc;let _0x976394=[_0x2324d2(0x38b),_0x2324d2(0x55f),_0x2324d2(0x453),_0x2324d2(0x29f),_0x2324d2(0x3dd),'QRCODE_UPDATED',_0x2324d2(0x760),_0x2324d2(0x5fd),_0x2324d2(0x755),_0x2324d2(0x6e1),_0x2324d2(0x3cb),_0x2324d2(0x1df),'CHATS_SET',_0x2324d2(0x6c2),_0x2324d2(0x53f),_0x2324d2(0x43c),_0x2324d2(0x1e0),_0x2324d2(0x278),_0x2324d2(0x24b),_0x2324d2(0x73f),_0x2324d2(0x317),'CONNECTION_UPDATE',_0x2324d2(0x6f0)],_0xaacc81={};return _0x976394['forEach'](_0x12e8c6=>{_0x275fbe[_0x12e8c6]!==void 0x0&&(_0xaacc81[_0x12e8c6]=_0x275fbe[_0x12e8c6]);}),await this['repository']['webhook'][_0x2324d2(0x6a6)](_0xaacc81,this['instanceName']),Object[_0x2324d2(0x512)](this['localWebhook'],_0xaacc81),await this[_0x2324d2(0x754)][_0x2324d2(0x3cc)][_0x2324d2(0x621)](this[_0x2324d2(0x624)]);}async[a0_0xac1afc(0x600)](){const _0x5b89b3=a0_0xac1afc;return await this[_0x5b89b3(0x754)][_0x5b89b3(0x3cc)][_0x5b89b3(0x621)](this[_0x5b89b3(0x624)]);}async[a0_0xac1afc(0x65c)](_0x3de59,_0x400e84){const _0xc41475=a0_0xac1afc;let _0xc11ae=this['configService'][_0xc41475(0x50b)](_0xc41475(0x276)),_0x239f8c=_0x3de59[_0xc41475(0x5fa)](/[\.-]/gm,'_')[_0xc41475(0x29a)](),_0xca8cc2=this['localWebhook'][_0xc41475(0x453)]&&(0x0,k[_0xc41475(0x467)])(this[_0xc41475(0x28e)]['url'])?this['localWebhook'][_0xc41475(0x55f)]+(this[_0xc41475(0x28e)][_0xc41475(0x29f)]?this[_0xc41475(0x69d)][_0x3de59]:''):null,_0x56f6ea=_0xc11ae?.[_0xc41475(0x66f)],_0x54a99c=_0x56f6ea&&_0x56f6ea?.[_0xc41475(0x753)]&&(0x0,k[_0xc41475(0x467)])(_0x56f6ea[_0xc41475(0x233)])?_0x56f6ea['URL']+(_0xc11ae['WEBHOOK_MAP']?this[_0xc41475(0x69d)][_0x3de59]:''):null,_0x30d525=this[_0xc41475(0x28e)][_0x239f8c],_0x7e7f26=_0xc11ae?.['EVENTS']?.[_0x239f8c];if(_0x30d525&&_0xca8cc2)try{await ue[_0xc41475(0x5fe)]['create']({'baseURL':_0xca8cc2})[_0xc41475(0x1e2)]('',{'event':_0x3de59,'instance':this[_0xc41475(0x300)][_0xc41475(0x587)],'data':_0x400e84}),this[_0xc41475(0x3a1)][_0xc41475(0x2b0)](_0xc41475(0x491)+_0x3de59+':\x20'+_0xca8cc2);}catch(_0x3880f9){this[_0xc41475(0x3a1)][_0xc41475(0x558)](this['instanceName']+'\x20('+this[_0xc41475(0x300)][_0xc41475(0x30d)]+'):\x20'+{'local':c[_0xc41475(0x587)]+_0xc41475(0x48d),'message':_0x3880f9?.[_0xc41475(0x4e5)],'hostName':_0x3880f9?.['hostname'],'syscall':_0x3880f9?.[_0xc41475(0x4f5)],'code':_0x3880f9?.[_0xc41475(0x6c8)],'error':_0x3880f9?.[_0xc41475(0x6bd)],'stack':_0x3880f9?.[_0xc41475(0x32c)],'name':_0x3880f9?.[_0xc41475(0x587)]});}if(_0x7e7f26&&_0x54a99c)try{await ue[_0xc41475(0x5fe)][_0xc41475(0x6a6)]({'baseURL':_0x54a99c})[_0xc41475(0x1e2)]('',{'event':_0x3de59,'instance':this[_0xc41475(0x300)][_0xc41475(0x587)],'data':_0x400e84}),this['logger'][_0xc41475(0x2b0)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3de59+':\x20'+_0x54a99c);}catch(_0x2a808c){this[_0xc41475(0x3a1)][_0xc41475(0x558)](this[_0xc41475(0x624)]+'\x20('+this[_0xc41475(0x300)]['wuid']+'):\x20'+{'local':c[_0xc41475(0x587)]+_0xc41475(0x668),'message':_0x2a808c?.[_0xc41475(0x4e5)],'hostName':_0x2a808c?.[_0xc41475(0x4a7)],'syscall':_0x2a808c?.[_0xc41475(0x4f5)],'code':_0x2a808c?.['code'],'error':_0x2a808c?.[_0xc41475(0x6bd)],'stack':_0x2a808c?.[_0xc41475(0x32c)],'name':_0x2a808c?.[_0xc41475(0x587)]});}}async[a0_0xac1afc(0x4f8)]({qr:_0x53fa3f,connection:_0x3b3e0d,lastDisconnect:_0x40ea63}){const _0x5998cb=a0_0xac1afc;if(_0x53fa3f){if(this[_0x5998cb(0x300)][_0x5998cb(0x366)][_0x5998cb(0x265)]===this[_0x5998cb(0x2f4)]['get'](_0x5998cb(0x1c3))['LIMIT'])return this[_0x5998cb(0x65c)](_0x5998cb(0x478),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w['DisconnectReason'][_0x5998cb(0x24f)]}),this['sendDataWebhook'](_0x5998cb(0x507),{'instance':this[_0x5998cb(0x300)][_0x5998cb(0x587)],'state':_0x5998cb(0x670),'statusReason':w[_0x5998cb(0x2ea)][_0x5998cb(0x2d9)]}),this[_0x5998cb(0x65c)](_0x5998cb(0x5cd),{'instance':this[_0x5998cb(0x300)][_0x5998cb(0x587)],'status':_0x5998cb(0x77f)}),this[_0x5998cb(0x444)]=!0x0,this[_0x5998cb(0x54c)][_0x5998cb(0x46d)](_0x5998cb(0x6ed),this[_0x5998cb(0x300)][_0x5998cb(0x587)]);this[_0x5998cb(0x300)][_0x5998cb(0x366)]['count']++;let _0x4a4961={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};go[_0x5998cb(0x5fe)][_0x5998cb(0x337)](_0x53fa3f,_0x4a4961,(_0x111f23,_0x339c4d)=>{const _0x3a9700=_0x5998cb;if(_0x111f23){this[_0x3a9700(0x3a1)][_0x3a9700(0x558)](this['instanceName']+'\x20('+this[_0x3a9700(0x300)][_0x3a9700(0x30d)]+_0x3a9700(0x5ad)+_0x111f23['toString']());return;}this[_0x3a9700(0x300)][_0x3a9700(0x366)][_0x3a9700(0x2c1)]=_0x339c4d,this['instance'][_0x3a9700(0x366)][_0x3a9700(0x6c8)]=_0x53fa3f,this[_0x3a9700(0x65c)](_0x3a9700(0x478),{'qrcode':{'instance':this[_0x3a9700(0x300)]['name'],'code':_0x53fa3f,'base64':_0x339c4d}});}),mo[_0x5998cb(0x5fe)]['generate'](_0x53fa3f,{'small':!0x0},_0x5d60ab=>this['logger'][_0x5998cb(0x2b0)](_0x5998cb(0x371)+this[_0x5998cb(0x300)][_0x5998cb(0x587)]+_0x5998cb(0x701)+this['instance'][_0x5998cb(0x366)][_0x5998cb(0x265)]+_0x5998cb(0x7a0)+_0x5d60ab));}if(_0x3b3e0d&&(this[_0x5998cb(0x402)]={'state':_0x3b3e0d,'statusReason':_0x40ea63?.[_0x5998cb(0x558)]?.[_0x5998cb(0x683)]?.[_0x5998cb(0x578)]??0xc8},this[_0x5998cb(0x65c)](_0x5998cb(0x507),{'instance':this[_0x5998cb(0x300)]['name'],...this[_0x5998cb(0x402)]})),_0x3b3e0d===_0x5998cb(0x283)){if(this[_0x5998cb(0x749)]++,this[_0x5998cb(0x59f)][_0x5998cb(0x4b4)](Date[_0x5998cb(0x536)]()),this[_0x5998cb(0x59f)]=this[_0x5998cb(0x59f)]['filter'](_0x2db870=>Date['now']()-_0x2db870<this[_0x5998cb(0x1ee)]),_0x40ea63[_0x5998cb(0x558)]?.[_0x5998cb(0x683)]?.[_0x5998cb(0x578)]!==w[_0x5998cb(0x2ea)][_0x5998cb(0x45d)]&&this['reconnectTimestamps'][_0x5998cb(0x4b8)]<=this[_0x5998cb(0x463)])await this[_0x5998cb(0x4a5)]();else{this[_0x5998cb(0x65c)](_0x5998cb(0x5cd),{'instance':this['instance'][_0x5998cb(0x587)],'status':_0x5998cb(0x77f)}),this[_0x5998cb(0x775)]=!0x1;try{this[_0x5998cb(0x3a1)][_0x5998cb(0x227)](this[_0x5998cb(0x624)]+'\x20('+this[_0x5998cb(0x300)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...');let _0x2adddf={'where':{'owner':this[_0x5998cb(0x300)][_0x5998cb(0x30d)]}},_0x521d7e=(await this[_0x5998cb(0x754)]['messageUpdate'][_0x5998cb(0x621)](_0x2adddf))['length'];await this['repository'][_0x5998cb(0x22b)]['delete'](_0x2adddf),this[_0x5998cb(0x3a1)][_0x5998cb(0x227)](this[_0x5998cb(0x624)]+'\x20('+this['instance']['wuid']+_0x5998cb(0x5bc)+_0x521d7e+_0x5998cb(0x6fe));}catch(_0x48434e){console[_0x5998cb(0x558)](_0x5998cb(0x780),_0x48434e);}try{this[_0x5998cb(0x3a1)][_0x5998cb(0x227)](this[_0x5998cb(0x624)]+'\x20('+this['instance']['wuid']+_0x5998cb(0x715));let _0x4f011a={'where':{'owner':this[_0x5998cb(0x300)][_0x5998cb(0x30d)]}},_0x4e7923=(await this[_0x5998cb(0x754)][_0x5998cb(0x4e5)][_0x5998cb(0x621)](_0x4f011a))[_0x5998cb(0x4b8)];await this[_0x5998cb(0x754)][_0x5998cb(0x4e5)][_0x5998cb(0x2e7)](_0x4f011a),this[_0x5998cb(0x3a1)][_0x5998cb(0x227)](this['instanceName']+'\x20('+this[_0x5998cb(0x300)]['wuid']+'):\x20Deletados\x20'+_0x4e7923+_0x5998cb(0x62e));}catch(_0x278e1f){console['error'](_0x5998cb(0x60b),_0x278e1f);}try{this[_0x5998cb(0x3a1)][_0x5998cb(0x227)](this[_0x5998cb(0x624)]+'\x20('+this[_0x5998cb(0x300)][_0x5998cb(0x30d)]+_0x5998cb(0x6dc));let _0x5e60d4={'where':{'owner':this[_0x5998cb(0x300)][_0x5998cb(0x30d)]}},_0x36a4ee=(await this[_0x5998cb(0x754)][_0x5998cb(0x4cb)][_0x5998cb(0x621)](_0x5e60d4))[_0x5998cb(0x4b8)];await this[_0x5998cb(0x754)][_0x5998cb(0x4cb)][_0x5998cb(0x2e7)](_0x5e60d4),this[_0x5998cb(0x3a1)]['verbose'](this[_0x5998cb(0x624)]+'\x20('+this[_0x5998cb(0x300)]['wuid']+_0x5998cb(0x5bc)+_0x36a4ee+_0x5998cb(0x79c));}catch(_0x255777){console[_0x5998cb(0x558)](_0x5998cb(0x46b),_0x255777);}this[_0x5998cb(0x58d)]!==null&&(this[_0x5998cb(0x3a1)]['verbose'](this[_0x5998cb(0x624)]+'\x20('+this[_0x5998cb(0x300)][_0x5998cb(0x30d)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x5998cb(0x58d)]),this[_0x5998cb(0x58d)]=null),this['logger'][_0x5998cb(0x227)](this[_0x5998cb(0x624)]+'\x20('+this['instance'][_0x5998cb(0x30d)]+'):\x20Limpando\x20AutomateSystem'),this[_0x5998cb(0x38d)]=null,this['eventEmitter'][_0x5998cb(0x46d)](_0x5998cb(0x3e4),this[_0x5998cb(0x300)]['name'],_0x5998cb(0x3ca)),this['client']?.['ws']?.[_0x5998cb(0x283)](),this['client'][_0x5998cb(0x3fc)](new Error(_0x5998cb(0x4c1)));}}if(_0x3b3e0d===_0x5998cb(0x280)){this['resetReconnectionVariables'],this[_0x5998cb(0x300)]['wuid']=this['client'][_0x5998cb(0x2e0)]['id']['replace'](/:\d+/,'')[_0x5998cb(0x5fa)](_0x5998cb(0x520),''),this['instance'][_0x5998cb(0x1d6)]=(await this[_0x5998cb(0x6c1)](this[_0x5998cb(0x300)][_0x5998cb(0x30d)]+'@s.whatsapp.net'))[_0x5998cb(0x1d6)];let _0x4ef0d9='Número:\x20'+this[_0x5998cb(0x300)][_0x5998cb(0x30d)],_0x370641=0x28,_0x42eccc=Math[_0x5998cb(0x60a)]((_0x370641-_0x4ef0d9[_0x5998cb(0x4b8)])/0x2),_0x46adca='\x20'[_0x5998cb(0x26d)](_0x42eccc),_0x3b8e4e=_0x5998cb(0x400),_0x8b66f4=_0x5998cb(0x6e5)+this[_0x5998cb(0x300)]['name'],_0x5a2252=(''+_0x46adca+_0x4ef0d9+_0x46adca)[_0x5998cb(0x5f2)](_0x370641,'\x20'),_0x480deb=(''+_0x46adca+_0x3b8e4e+_0x46adca)[_0x5998cb(0x5f2)](_0x370641,'\x20'),_0x47125d=(''+_0x46adca+_0x8b66f4+_0x46adca)['padEnd'](_0x370641,'\x20'),_0x1ece18=Math[_0x5998cb(0x762)](_0x5a2252[_0x5998cb(0x4b8)],_0x480deb[_0x5998cb(0x4b8)],_0x47125d['length']),_0x22e43b=_0x5a2252[_0x5998cb(0x5f2)](_0x1ece18,'\x20'),_0x550589=_0x480deb[_0x5998cb(0x5f2)](_0x1ece18,'\x20'),_0x3a2577=_0x47125d[_0x5998cb(0x5f2)](_0x1ece18,'\x20');this[_0x5998cb(0x3a1)][_0x5998cb(0x5f1)]((_0x5998cb(0x418)+'─'['repeat'](_0x1ece18)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x550589+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3a2577+_0x5998cb(0x21c)+_0x22e43b+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x5998cb(0x26d)](_0x1ece18)+'┘')[_0x5998cb(0x5fa)](/^ +/gm,'\x20\x20')),this[_0x5998cb(0x2b9)](),this[_0x5998cb(0x775)]=!0x0;}}[a0_0xac1afc(0x39c)](){const _0x4dbe6b=a0_0xac1afc;this[_0x4dbe6b(0x749)]=0x0,this[_0x4dbe6b(0x59f)]=[];}async[a0_0xac1afc(0x3e0)](_0x445fb3,_0x11d62a=!0x1){const _0x3ee9ef=a0_0xac1afc;try{let _0x50bec3=await this[_0x3ee9ef(0x754)]['message'][_0x3ee9ef(0x621)]({'where':{'owner':this[_0x3ee9ef(0x300)]['wuid'],'key':{'id':_0x445fb3['id']}}});return _0x11d62a?_0x50bec3[0x0]:_0x50bec3[0x0][_0x3ee9ef(0x4e5)];}catch{return{'conversation':''};}}[a0_0xac1afc(0x436)](){const _0x237045=a0_0xac1afc;let _0x5476b0=this[_0x237045(0x2f4)]['get']('STORE'),_0xb2b1c1=this[_0x237045(0x2f4)]['get'](_0x237045(0x1d1));_0x5476b0?.[_0x237045(0x1de)]&&!_0xb2b1c1[_0x237045(0x753)]&&setInterval(()=>{const _0x488d44=_0x237045;try{for(let [_0x2812d6,_0x5047c6]of Object[_0x488d44(0x5b7)](_0x5476b0))_0x5047c6===!0x0&&(0x0,Bt[_0x488d44(0x2c8)])(_0x488d44(0x576)+(0x0,$[_0x488d44(0x4c5)])(this['storePath'],_0x2812d6[_0x488d44(0x25c)](),this[_0x488d44(0x300)][_0x488d44(0x30d)])+'/*.json');}catch{}},(_0x5476b0?.[_0x237045(0x1de)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3a7643=a0_0xac1afc;let _0x15dc24=this['configService'][_0x3a7643(0x50b)]('DATABASE'),_0x3ba45b=this['configService']['get'](_0x3a7643(0x708));return _0x3ba45b?.[_0x3a7643(0x753)]?await Cs(_0x3ba45b,this[_0x3a7643(0x300)][_0x3a7643(0x587)]):_0x15dc24[_0x3a7643(0x753)]?await vs(this[_0x3a7643(0x300)]['name']):await(0x0,w[_0x3a7643(0x56d)])((0x0,$[_0x3a7643(0x4c5)])(j,this[_0x3a7643(0x300)]['name']));}async[a0_0xac1afc(0x2b9)](){const _0x21de4a=a0_0xac1afc;let _0x3cac19=()=>Math['floor'](Math['random']()*0x2711)+0x7d0,_0x4b8cf6=async()=>{const _0x4c8d95=a0_0x4f0a;if(!this[_0x4c8d95(0x775)]){this[_0x4c8d95(0x3a1)][_0x4c8d95(0x227)](_0x4c8d95(0x20e)),this[_0x4c8d95(0x437)]=!0x1;return;}if(this[_0x4c8d95(0x300)][_0x4c8d95(0x30d)]&&this[_0x4c8d95(0x38d)]&&this['delayMessage']!==null&&this[_0x4c8d95(0x58d)]!==void 0x0){let _0x14c8b0=Math[_0x4c8d95(0x1c7)](this[_0x4c8d95(0x58d)]/0xea60);this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4c8d95(0x300)][_0x4c8d95(0x30d)]+_0x4c8d95(0x1f1)+_0x14c8b0+_0x4c8d95(0x610)),this[_0x4c8d95(0x437)]=!0x1;return;}else this[_0x4c8d95(0x300)][_0x4c8d95(0x30d)]&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4c8d95(0x300)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x4c8d95(0x38d)]||await this[_0x4c8d95(0x5d7)](),(this[_0x4c8d95(0x58d)]===null||this[_0x4c8d95(0x58d)]===void 0x0)&&await this[_0x4c8d95(0x75a)]());if(this[_0x4c8d95(0x437)]){let _0x154a1e=_0x3cac19();this[_0x4c8d95(0x3a1)]['verbose'](this[_0x4c8d95(0x624)]+_0x4c8d95(0x441)+_0x154a1e/0x3e8+_0x4c8d95(0x370)),setTimeout(_0x4b8cf6,_0x154a1e);}};if(this[_0x21de4a(0x437)])return;this[_0x21de4a(0x437)]=!0x0;let _0x12d90f=_0x3cac19();setTimeout(_0x4b8cf6,_0x12d90f);}async[a0_0xac1afc(0x4a5)](){const _0x25ffa7=a0_0xac1afc;try{this[_0x25ffa7(0x1eb)](),this[_0x25ffa7(0x300)]['authState']=await this[_0x25ffa7(0x37e)]();let {version:_0x552c80}=await(0x0,w[_0x25ffa7(0x2e6)])(),_0x1ca719=this[_0x25ffa7(0x2f4)]['get'](_0x25ffa7(0x5e3)),_0xb99797=[_0x1ca719['CLIENT'],_0x1ca719[_0x25ffa7(0x529)],(0x0,ho[_0x25ffa7(0x61b)])()],_0x498e27={'auth':{'creds':this['instance'][_0x25ffa7(0x3be)][_0x25ffa7(0x22c)][_0x25ffa7(0x2cb)],'keys':(0x0,w[_0x25ffa7(0x4f0)])(this[_0x25ffa7(0x300)][_0x25ffa7(0x3be)][_0x25ffa7(0x22c)][_0x25ffa7(0x72e)],(0x0,Ut[_0x25ffa7(0x5fe)])({'level':_0x25ffa7(0x558)}))},'logger':(0x0,Ut['default'])({'level':_0x25ffa7(0x558)}),'printQRInTerminal':!0x1,'browser':_0xb99797,'version':_0x552c80,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x474c52=>await this[_0x25ffa7(0x3e0)](_0x474c52),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x25ffa7(0x241)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x281e7e=>(!!(_0x281e7e[_0x25ffa7(0x397)]||_0x281e7e[_0x25ffa7(0x4de)])&&(_0x281e7e={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x281e7e}}}),_0x281e7e)};return this[_0x25ffa7(0x444)]=!0x1,this[_0x25ffa7(0x57c)]=(0x0,w[_0x25ffa7(0x5fe)])(_0x498e27),this[_0x25ffa7(0x3e6)](),this[_0x25ffa7(0x57c)];}catch(_0x17d964){throw this[_0x25ffa7(0x3a1)]['error'](this[_0x25ffa7(0x624)]+'\x20('+this['instance']['wuid']+_0x25ffa7(0x4b0)+_0x17d964),new A(_0x17d964?.[_0x25ffa7(0x344)]());}}[a0_0xac1afc(0x3e6)](){const _0x20bf2b=a0_0xac1afc;this[_0x20bf2b(0x57c)]['ev'][_0x20bf2b(0x3c7)](_0x1f5f44=>{const _0x155529=_0x20bf2b;if(!this[_0x155529(0x444)]){let _0x551d54=this[_0x155529(0x2f4)]['get'](_0x155529(0x1d1));if(_0x1f5f44[_0x155529(0x507)]&&this[_0x155529(0x4f8)](_0x1f5f44[_0x155529(0x507)]),_0x1f5f44['creds.update']&&this[_0x155529(0x300)]['authState'][_0x155529(0x3c8)](),_0x1f5f44['messaging-history.set']){let _0x30a9ba=_0x1f5f44[_0x155529(0x27a)];this['messageHandle']['messaging-history.set'](_0x30a9ba,_0x551d54);}if(_0x1f5f44[_0x155529(0x519)]){let _0x2ec83e=_0x1f5f44['messages.upsert'];this[_0x155529(0x294)][_0x155529(0x519)](_0x2ec83e,_0x551d54);}if(_0x1f5f44[_0x155529(0x2dc)]){let _0x1bd3a4=_0x1f5f44['messages.update'];this[_0x155529(0x294)][_0x155529(0x2dc)](_0x1bd3a4,_0x551d54);}if(_0x1f5f44[_0x155529(0x44f)]){let _0x2220f4=_0x1f5f44['presence.update'];if(this[_0x155529(0x28e)]?.[_0x155529(0x6f0)]&&_0x2220f4['id']['includes']('@g.us'))return;this[_0x155529(0x65c)](_0x155529(0x44f),_0x2220f4);}if(!this[_0x155529(0x28e)]?.[_0x155529(0x6f0)]){if(_0x1f5f44['groups.upsert']){let _0xa2a289=_0x1f5f44['groups.upsert'];this[_0x155529(0x4eb)][_0x155529(0x745)](_0xa2a289);}if(_0x1f5f44['groups.update']){let _0x5a0d5b=_0x1f5f44['groups.update'];this[_0x155529(0x4eb)][_0x155529(0x392)](_0x5a0d5b);}if(_0x1f5f44[_0x155529(0x695)]){let _0x46ab6f=_0x1f5f44[_0x155529(0x695)];this[_0x155529(0x4eb)]['group-participants.update'](_0x46ab6f);}}if(_0x1f5f44[_0x155529(0x6e3)]){let _0x6032ec=_0x1f5f44[_0x155529(0x6e3)];this[_0x155529(0x390)][_0x155529(0x6e3)](_0x6032ec,_0x551d54);}if(_0x1f5f44[_0x155529(0x4b7)]){let _0x134bb0=_0x1f5f44[_0x155529(0x4b7)];this[_0x155529(0x390)][_0x155529(0x4b7)](_0x134bb0,_0x551d54);}if(_0x1f5f44[_0x155529(0x6b4)]){let _0x1ac5ac=_0x1f5f44['chats.delete'];this[_0x155529(0x390)]['chats.delete'](_0x1ac5ac);}if(_0x1f5f44['contacts.upsert']){let _0x1c4440=_0x1f5f44[_0x155529(0x2c3)];this[_0x155529(0x6d2)][_0x155529(0x2c3)](_0x1c4440,_0x551d54);}if(_0x1f5f44[_0x155529(0x238)]){let _0x526181=_0x1f5f44[_0x155529(0x238)];this[_0x155529(0x6d2)][_0x155529(0x238)](_0x526181,_0x551d54);}}});}[a0_0xac1afc(0x466)](_0x446aa1){const _0x284e54=a0_0xac1afc;let _0xb6e50f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x284e54(0x1f5)](_0x446aa1);if(_0xb6e50f&&_0xb6e50f[0x1]==='55'){let _0x18fc6c=_0xb6e50f[0x2],_0x4c06dd=_0xb6e50f[0x3],_0x6aa5ca=_0xb6e50f[0x4];if(_0x18fc6c>='31'&&_0x4c06dd==='9')return _0xb6e50f[0x1]+_0x18fc6c+_0x6aa5ca;}return _0x446aa1;}['createJid'](_0x16346d){const _0x22edc9=a0_0xac1afc;return _0x16346d[_0x22edc9(0x69a)]('@g.us')||_0x16346d[_0x22edc9(0x69a)](_0x22edc9(0x520))||_0x16346d['includes'](_0x22edc9(0x551))?_0x16346d:(_0x16346d=_0x16346d?.[_0x22edc9(0x5fa)](/\s/g,'')[_0x22edc9(0x5fa)](/\+/g,'')[_0x22edc9(0x5fa)](/\(/g,'')[_0x22edc9(0x5fa)](/\)/g,'')[_0x22edc9(0x5bf)](/\:/)[0x0]['split']('@')[0x0],_0x16346d[_0x22edc9(0x4b8)]>=0x12?(_0x16346d=_0x16346d[_0x22edc9(0x5fa)](/[^\d-]/g,''),_0x16346d+'@g.us'):(_0x16346d=_0x16346d[_0x22edc9(0x5fa)](/\D/g,''),this[_0x22edc9(0x466)](_0x16346d)+_0x22edc9(0x520)));}async[a0_0xac1afc(0x64d)](_0x3bdf0b){const _0x3c8869=a0_0xac1afc;let _0x5651fb=this[_0x3c8869(0x700)](_0x3bdf0b['number']),_0x357f41=(await this['whatsappNumber']({'numbers':[_0x5651fb]}))[0x0];if(!_0x357f41[_0x3c8869(0x6c3)]&&!(0x0,w[_0x3c8869(0x212)])(_0x357f41[_0x3c8869(0x1fe)]))throw new g(_0x357f41);let _0xa05343=(0x0,w[_0x3c8869(0x212)])(_0x5651fb)?_0x5651fb:_0x357f41[_0x3c8869(0x1fe)];if((0x0,w['isJidGroup'])(_0xa05343))try{await this['client'][_0x3c8869(0x5c2)](_0xa05343);}catch{throw new x(_0x3c8869(0x5c8));}try{return await this[_0x3c8869(0x57c)]['presenceSubscribe'](_0xa05343),await this[_0x3c8869(0x57c)][_0x3c8869(0x3cf)](_0x3bdf0b[_0x3c8869(0x4e9)],_0x5651fb),{'status':0xc8,'presence':_0x3bdf0b[_0x3c8869(0x4e9)]};}catch(_0x4d0b7c){throw new g(_0x4d0b7c[_0x3c8869(0x344)]());}}async[a0_0xac1afc(0x6c1)](_0x4a363d){const _0x53f8ee=a0_0xac1afc;let _0x3afae9=this[_0x53f8ee(0x700)](_0x4a363d);try{return{'wuid':_0x3afae9,'profilePictureUrl':await this[_0x53f8ee(0x57c)][_0x53f8ee(0x1d6)](_0x3afae9,_0x53f8ee(0x6b0))};}catch{return{'wuid':_0x3afae9,'profilePictureUrl':null};}}async[a0_0xac1afc(0x2ad)](_0x21a939,_0x230892,_0x2a2613){const _0x13576f=a0_0xac1afc;let _0x46dfdf=(await this[_0x13576f(0x736)]({'numbers':[_0x21a939]}))[0x0];if(!_0x46dfdf['exists']&&!(0x0,w[_0x13576f(0x212)])(_0x46dfdf[_0x13576f(0x1fe)])&&!_0x46dfdf[_0x13576f(0x1fe)][_0x13576f(0x69a)]('@broadcast'))throw new g(_0x46dfdf);let _0x236e56=_0x46dfdf[_0x13576f(0x1fe)];try{_0x2a2613?.['delay']&&(await this[_0x13576f(0x57c)]['presenceSubscribe'](_0x236e56),await this['client'][_0x13576f(0x3cf)](_0x2a2613?.[_0x13576f(0x4e9)]??_0x13576f(0x3ef),_0x236e56),await(0x0,w[_0x13576f(0x313)])(_0x2a2613[_0x13576f(0x313)]),await this[_0x13576f(0x57c)][_0x13576f(0x3cf)](_0x13576f(0x3a0),_0x236e56));let _0x2fee8b=_0x2a2613?.[_0x13576f(0x4a6)]!=!0x1?void 0x0:!0x1,_0x967dfb;if(_0x2a2613?.[_0x13576f(0x6a8)]){let _0x2e5bda=_0x2a2613?.['quoted'],_0x47d0d0=_0x2e5bda?.['message']?_0x2e5bda:await this[_0x13576f(0x3e0)](_0x2e5bda[_0x13576f(0x456)],!0x0);if(!_0x47d0d0)throw'Message\x20not\x20found';_0x967dfb=_0x47d0d0;}let _0x45acbe;if((0x0,w[_0x13576f(0x212)])(_0x236e56))try{let _0x3f1347=await this[_0x13576f(0x57c)][_0x13576f(0x5c2)](_0x236e56);if(!_0x3f1347)throw new x(_0x13576f(0x5c8));_0x2a2613?.[_0x13576f(0x310)]&&(_0x2a2613[_0x13576f(0x310)]?.[_0x13576f(0x744)]?_0x45acbe=_0x3f1347[_0x13576f(0x613)][_0x13576f(0x6d5)](_0x5c3d77=>_0x5c3d77['id']):_0x2a2613['mentions']?.['mentioned']?.['length']&&(_0x45acbe=_0x2a2613['mentions'][_0x13576f(0x3e5)]['map'](_0x130028=>{const _0x463efd=_0x13576f;let _0x4f8101=this[_0x463efd(0x700)](_0x130028);return(0x0,w[_0x463efd(0x212)])(_0x4f8101)?null:_0x4f8101;})));}catch{throw new x('Group\x20not\x20found');}let _0x5b61af=await((async()=>{const _0x3fb934=_0x13576f;let _0x2b98aa={'quoted':_0x967dfb};if(!_0x230892[_0x3fb934(0x6a4)]&&!_0x230892['poll']&&!_0x230892[_0x3fb934(0x468)]&&!_0x230892[_0x3fb934(0x588)]&&_0x236e56!==_0x3fb934(0x1ea)&&!_0x230892[_0x3fb934(0x6a4)])return await this[_0x3fb934(0x57c)]['sendMessage'](_0x236e56,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x230892},'mentions':_0x45acbe},_0x2b98aa);if(_0x230892[_0x3fb934(0x588)]){let _0x322848=_0x230892['conversation'];return _0x2a2613?.[_0x3fb934(0x55c)]&&(_0x322848=await this[_0x3fb934(0x743)](_0x322848,_0x236e56)),await this[_0x3fb934(0x57c)]['sendMessage'](_0x236e56,{'text':_0x322848,'mentions':_0x45acbe,'linkPreview':_0x2fee8b},_0x2b98aa);}return _0x236e56===_0x3fb934(0x1ea)?await this[_0x3fb934(0x57c)]['sendMessage'](_0x236e56,_0x230892['status']['content'],{'backgroundColor':_0x230892[_0x3fb934(0x798)][_0x3fb934(0x5fc)][_0x3fb934(0x535)],'font':_0x230892[_0x3fb934(0x798)][_0x3fb934(0x5fc)]['font'],'statusJidList':_0x230892[_0x3fb934(0x798)][_0x3fb934(0x5fc)][_0x3fb934(0x1c6)]}):await this[_0x3fb934(0x57c)][_0x3fb934(0x3d7)](_0x236e56,_0x230892,_0x2b98aa);})()),{message_normalized:_0x153c0d}=this[_0x13576f(0x74b)](_0x5b61af[_0x13576f(0x4e5)],W(_0x5b61af[_0x13576f(0x4e5)]),null),_0x5d0f3c={'key':_0x5b61af[_0x13576f(0x456)],'pushName':_0x5b61af[_0x13576f(0x379)],'message':{..._0x5b61af[_0x13576f(0x4e5)]},'messageType':W(_0x5b61af[_0x13576f(0x4e5)]),'message_normalized':{'key':_0x5b61af[_0x13576f(0x456)],'pushName':_0x5b61af[_0x13576f(0x379)],'messageTimestamp':_0x5b61af[_0x13576f(0x23e)]&&_0x5b61af[_0x13576f(0x23e)][_0x13576f(0x344)]()[_0x13576f(0x4b8)]<0xd?_0x5b61af[_0x13576f(0x23e)]*0x3e8:_0x5b61af[_0x13576f(0x23e)]||null,'source':(0x0,w[_0x13576f(0x7a5)])(_0x5b61af[_0x13576f(0x456)]['id']),..._0x153c0d},'messageTimestamp':_0x5b61af[_0x13576f(0x23e)]&&_0x5b61af[_0x13576f(0x23e)]['toString']()['length']<0xd?_0x5b61af[_0x13576f(0x23e)]*0x3e8:_0x5b61af[_0x13576f(0x23e)]||null,'owner':this[_0x13576f(0x300)]['wuid'],'source':(0x0,w[_0x13576f(0x7a5)])(_0x5b61af[_0x13576f(0x456)]['id'])};return this[_0x13576f(0x3a1)]['log'](_0x5d0f3c),await this[_0x13576f(0x65c)](_0x13576f(0x531),_0x5d0f3c),G(this[_0x13576f(0x624)],'messages',{'message':_0x5d0f3c}),this[_0x13576f(0x6b8)](this[_0x13576f(0x2f4)][_0x13576f(0x50b)]('DATABASE'),_0x5d0f3c,'SEND_MESSAGE'),await this['repository'][_0x13576f(0x4e5)]['insert']([_0x5d0f3c],this[_0x13576f(0x2f4)]['get'](_0x13576f(0x1d1))['ENABLED']),_0x5b61af;}catch(_0x5e9bad){throw this[_0x13576f(0x3a1)][_0x13576f(0x558)](this['instanceName']+'\x20('+this[_0x13576f(0x300)]['wuid']+'):\x20'+_0x5e9bad[_0x13576f(0x344)]()),new g(_0x5e9bad[_0x13576f(0x344)]());}}get[a0_0xac1afc(0x540)](){const _0x2e6725=a0_0xac1afc;return this[_0x2e6725(0x402)];}async[a0_0xac1afc(0x623)](_0x2e17ac){const _0x2cc6fa=a0_0xac1afc;let _0x213977=this[_0x2cc6fa(0x2f4)][_0x2cc6fa(0x50b)](_0x2cc6fa(0x235)),_0x15649a=this[_0x2cc6fa(0x2f4)][_0x2cc6fa(0x50b)](_0x2cc6fa(0x739));return _0x15649a&&this[_0x2cc6fa(0x624)][_0x2cc6fa(0x25c)]()[_0x2cc6fa(0x69a)](_0x15649a[_0x2cc6fa(0x25c)]())&&(_0x2e17ac[_0x2cc6fa(0x623)][_0x2cc6fa(0x6a5)]+='\x0a\x0a'+_0x213977),await this[_0x2cc6fa(0x2ad)](_0x2e17ac[_0x2cc6fa(0x3c0)],{'conversation':_0x2e17ac['textMessage'][_0x2cc6fa(0x6a5)]},_0x2e17ac?.[_0x2cc6fa(0x674)]);}async[a0_0xac1afc(0x665)](_0x39bf5b){const _0x2620f7=a0_0xac1afc;if(!_0x39bf5b[_0x2620f7(0x2da)])throw new g(_0x2620f7(0x27f));if(!_0x39bf5b[_0x2620f7(0x664)])throw new g('Content\x20is\x20required');if(_0x39bf5b[_0x2620f7(0x336)]){let _0x58c528=await this[_0x2620f7(0x754)][_0x2620f7(0x4cb)][_0x2620f7(0x621)]({'where':{'owner':this[_0x2620f7(0x300)][_0x2620f7(0x30d)]}});if(!_0x58c528[_0x2620f7(0x4b8)])throw new g(_0x2620f7(0x399));_0x39bf5b[_0x2620f7(0x1c6)]=_0x58c528['filter'](_0x290a12=>_0x290a12[_0x2620f7(0x379)])[_0x2620f7(0x6d5)](_0x2ad4cb=>_0x2ad4cb['id']);}if(!_0x39bf5b[_0x2620f7(0x1c6)]?.['length']&&!_0x39bf5b[_0x2620f7(0x336)])throw new g(_0x2620f7(0x378));if(_0x39bf5b[_0x2620f7(0x2da)]===_0x2620f7(0x6a5)){if(!_0x39bf5b['backgroundColor'])throw new g(_0x2620f7(0x3c9));if(!_0x39bf5b[_0x2620f7(0x236)])throw new g(_0x2620f7(0x652));return{'content':{'text':_0x39bf5b['content']},'option':{'backgroundColor':_0x39bf5b[_0x2620f7(0x535)],'font':_0x39bf5b[_0x2620f7(0x236)],'statusJidList':_0x39bf5b[_0x2620f7(0x1c6)]}};}if(_0x39bf5b[_0x2620f7(0x2da)]==='image')return{'content':{'image':{'url':_0x39bf5b[_0x2620f7(0x664)]},'caption':_0x39bf5b[_0x2620f7(0x61c)]},'option':{'statusJidList':_0x39bf5b[_0x2620f7(0x1c6)]}};if(_0x39bf5b[_0x2620f7(0x2da)]===_0x2620f7(0x4fd))return{'content':{'video':{'url':_0x39bf5b[_0x2620f7(0x664)]},'caption':_0x39bf5b[_0x2620f7(0x61c)]},'option':{'statusJidList':_0x39bf5b[_0x2620f7(0x1c6)]}};if(_0x39bf5b['type']===_0x2620f7(0x6a4)){this[_0x2620f7(0x3a1)][_0x2620f7(0x227)]('Type\x20defined\x20as\x20audio'),this[_0x2620f7(0x3a1)][_0x2620f7(0x227)](_0x2620f7(0x4aa));let _0x50ef6d=await this[_0x2620f7(0x21e)](_0x39bf5b['content']);if(typeof _0x50ef6d==_0x2620f7(0x70e)){this[_0x2620f7(0x3a1)][_0x2620f7(0x227)]('Audio\x20processed');let _0x520157=_[_0x2620f7(0x763)](_0x50ef6d)[_0x2620f7(0x344)](_0x2620f7(0x2c1)),_0x55046f={'content':{'audio':Buffer[_0x2620f7(0x732)](_0x520157,_0x2620f7(0x2c1)),'ptt':!0x0,'mimetype':_0x2620f7(0x324)},'option':{'statusJidList':_0x39bf5b[_0x2620f7(0x1c6)]}};return _[_0x2620f7(0x681)](_0x50ef6d),_0x55046f;}else throw new A(_0x50ef6d);}throw new g(_0x2620f7(0x2a3));}async[a0_0xac1afc(0x258)](_0x5ee3a1){const _0x350ec1=a0_0xac1afc;return await this[_0x350ec1(0x2ad)](_0x350ec1(0x1ea),{'status':await this[_0x350ec1(0x665)](_0x5ee3a1['statusMessage'])});}async['prepareMediaMessage'](_0x5c13bd){const _0x15265d=a0_0xac1afc;try{let _0x2b0a2a=await(0x0,w['prepareWAMessageMedia'])({[_0x5c13bd['mediatype']]:(0x0,k['isURL'])(_0x5c13bd[_0x15265d(0x6d4)])?{'url':_0x5c13bd[_0x15265d(0x6d4)]}:Buffer[_0x15265d(0x732)](_0x5c13bd[_0x15265d(0x6d4)],_0x15265d(0x2c1))},{'upload':this['client'][_0x15265d(0x2ef)]}),_0x50794f=_0x5c13bd[_0x15265d(0x36f)]+'Message';if(_0x5c13bd[_0x15265d(0x36f)]===_0x15265d(0x5d8)&&!_0x5c13bd[_0x15265d(0x3db)]){let _0x26b3b4=new RegExp(/.*\/(.+?)\./)['exec'](_0x5c13bd[_0x15265d(0x6d4)]);_0x5c13bd[_0x15265d(0x3db)]=_0x26b3b4[0x1];}let _0x26d13f;(0x0,k[_0x15265d(0x467)])(_0x5c13bd[_0x15265d(0x6d4)])?_0x26d13f=(0x0,Ns[_0x15265d(0x748)])(_0x5c13bd[_0x15265d(0x6d4)]):_0x26d13f=(0x0,Ns[_0x15265d(0x748)])(_0x5c13bd[_0x15265d(0x3db)]);let _0x10e403=this['configService']['get'](_0x15265d(0x235)),_0x370914=this[_0x15265d(0x2f4)]['get'](_0x15265d(0x739));return _0x370914&&this[_0x15265d(0x624)][_0x15265d(0x25c)]()['includes'](_0x370914[_0x15265d(0x25c)]())&&(_0x5c13bd[_0x15265d(0x61c)]+='\x0a\x0a'+_0x10e403),_0x2b0a2a[_0x50794f]['caption']=_0x5c13bd?.[_0x15265d(0x61c)],_0x2b0a2a[_0x50794f][_0x15265d(0x52e)]=_0x26d13f,_0x2b0a2a[_0x50794f]['fileName']=_0x5c13bd[_0x15265d(0x3db)],_0x5c13bd['mediatype']==='video'&&(_0x2b0a2a[_0x50794f][_0x15265d(0x5cb)]=Uint8Array['from']((0x0,_e[_0x15265d(0x763)])((0x0,$[_0x15265d(0x4c5)])(process[_0x15265d(0x71f)](),'video-cover.png'))),_0x2b0a2a[_0x50794f][_0x15265d(0x3ec)]=!0x1),(0x0,w[_0x15265d(0x494)])('',{[_0x50794f]:{..._0x2b0a2a[_0x50794f]}},{'userJid':this[_0x15265d(0x300)][_0x15265d(0x30d)]});}catch(_0x3d5fd4){throw this['logger'][_0x15265d(0x558)](this[_0x15265d(0x624)]+'\x20('+this[_0x15265d(0x300)]['wuid']+_0x15265d(0x4b0)+_0x3d5fd4),new A(_0x3d5fd4?.[_0x15265d(0x344)]()||_0x3d5fd4);}}async[a0_0xac1afc(0x330)](_0x26430c){const _0x3fd038=a0_0xac1afc;let _0xb33d17=await this['prepareMediaMessage'](_0x26430c[_0x3fd038(0x330)]);return await this[_0x3fd038(0x2ad)](_0x26430c[_0x3fd038(0x3c0)],{..._0xb33d17[_0x3fd038(0x4e5)]},_0x26430c?.[_0x3fd038(0x674)]);}async[a0_0xac1afc(0x5fb)](_0x2d9e7d,_0x1dbf82){const _0x23e0e2=a0_0xac1afc;try{this[_0x23e0e2(0x3a1)]['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x3b0a28,_0x3c44ee=_0x1dbf82+'-'+new Date()[_0x23e0e2(0x250)]();this[_0x23e0e2(0x3a1)][_0x23e0e2(0x227)]('Hash\x20to\x20image\x20name:\x20'+_0x3c44ee);let _0x44fa86=''+(0x0,$[_0x23e0e2(0x4c5)])(this[_0x23e0e2(0x716)],_0x3c44ee+_0x23e0e2(0x3aa));if(this['logger'][_0x23e0e2(0x227)](_0x23e0e2(0x5ae)+_0x44fa86),(0x0,k[_0x23e0e2(0x75f)])(_0x2d9e7d)){this[_0x23e0e2(0x3a1)]['verbose']('Image\x20is\x20base64');let _0x3e52b7=_0x2d9e7d[_0x23e0e2(0x5fa)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5301ff=Buffer[_0x23e0e2(0x732)](_0x3e52b7,_0x23e0e2(0x2c1));_0x3b0a28=''+(0x0,$[_0x23e0e2(0x4c5)])(this[_0x23e0e2(0x716)],_0x23e0e2(0x454)+_0x3c44ee+_0x23e0e2(0x48c)),this[_0x23e0e2(0x3a1)]['verbose'](_0x23e0e2(0x67f)+_0x3b0a28),await(0x0,jt[_0x23e0e2(0x5fe)])(_0x5301ff)[_0x23e0e2(0x40a)](_0x3b0a28),this[_0x23e0e2(0x3a1)]['verbose'](_0x23e0e2(0x568));}else{this[_0x23e0e2(0x3a1)][_0x23e0e2(0x227)](_0x23e0e2(0x1d2));let _0x31a24f=new Date()['getTime'](),_0x3bb41c=_0x2d9e7d+_0x23e0e2(0x727)+_0x31a24f;this[_0x23e0e2(0x3a1)][_0x23e0e2(0x227)](_0x23e0e2(0x301)+_0x3bb41c);let _0x507c97=await ue[_0x23e0e2(0x5fe)][_0x23e0e2(0x50b)](_0x3bb41c,{'responseType':_0x23e0e2(0x3b6)});this['logger'][_0x23e0e2(0x227)](_0x23e0e2(0x72c));let _0x850d60=Buffer[_0x23e0e2(0x732)](_0x507c97[_0x23e0e2(0x713)],_0x23e0e2(0x57b));_0x3b0a28=''+(0x0,$['join'])(this['storePath'],_0x23e0e2(0x454)+_0x3c44ee+_0x23e0e2(0x48c)),this[_0x23e0e2(0x3a1)][_0x23e0e2(0x227)]('Image\x20path:\x20'+_0x3b0a28),await(0x0,jt[_0x23e0e2(0x5fe)])(_0x850d60)['toFile'](_0x3b0a28),this[_0x23e0e2(0x3a1)][_0x23e0e2(0x227)](_0x23e0e2(0x568));}return await(0x0,jt[_0x23e0e2(0x5fe)])(_0x3b0a28)[_0x23e0e2(0x679)]()[_0x23e0e2(0x40a)](_0x44fa86),this[_0x23e0e2(0x3a1)][_0x23e0e2(0x227)](_0x23e0e2(0x723)),_[_0x23e0e2(0x681)](_0x3b0a28),this[_0x23e0e2(0x3a1)][_0x23e0e2(0x227)](_0x23e0e2(0x7a4)),_0x44fa86;}catch(_0x48204f){console[_0x23e0e2(0x558)](_0x23e0e2(0x78a),_0x48204f);}}async[a0_0xac1afc(0x6f3)](_0x11e7a0){const _0x449c80=a0_0xac1afc;let _0x34c146=await this['convertToWebP'](_0x11e7a0['stickerMessage'][_0x449c80(0x6b0)],_0x11e7a0[_0x449c80(0x3c0)]),_0x3cf2f5=await this['sendMessageWithTyping'](_0x11e7a0[_0x449c80(0x3c0)],{'sticker':{'url':_0x34c146}},_0x11e7a0?.[_0x449c80(0x674)]);return _[_0x449c80(0x681)](_0x34c146),this[_0x449c80(0x3a1)]['verbose'](_0x449c80(0x25a)),_0x3cf2f5;}async['audioWhatsapp'](_0x37ed94){const _0xe1a5a0=a0_0xac1afc;if(this[_0xe1a5a0(0x3a1)][_0xe1a5a0(0x227)](_0xe1a5a0(0x56b)),!_0x37ed94['options']?.[_0xe1a5a0(0x224)]&&_0x37ed94[_0xe1a5a0(0x674)]?.[_0xe1a5a0(0x224)]!==!0x1&&(_0x37ed94[_0xe1a5a0(0x674)][_0xe1a5a0(0x224)]=!0x0),_0x37ed94[_0xe1a5a0(0x674)]?.[_0xe1a5a0(0x224)]){let _0x79d904=await this[_0xe1a5a0(0x21e)](_0x37ed94[_0xe1a5a0(0x691)][_0xe1a5a0(0x6a4)]);if(typeof _0x79d904==_0xe1a5a0(0x70e)){let _0x469b2b=_[_0xe1a5a0(0x763)](_0x79d904)['toString'](_0xe1a5a0(0x2c1)),_0x93964e=this[_0xe1a5a0(0x2ad)](_0x37ed94[_0xe1a5a0(0x3c0)],{'audio':Buffer[_0xe1a5a0(0x732)](_0x469b2b,_0xe1a5a0(0x2c1)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':'recording','delay':_0x37ed94?.[_0xe1a5a0(0x674)]?.[_0xe1a5a0(0x313)]});return _[_0xe1a5a0(0x681)](_0x79d904),this[_0xe1a5a0(0x3a1)][_0xe1a5a0(0x227)]('Converted\x20audio\x20deleted'),_0x93964e;}else throw new A(_0x79d904);}return await this['sendMessageWithTyping'](_0x37ed94[_0xe1a5a0(0x3c0)],{'audio':(0x0,k[_0xe1a5a0(0x467)])(_0x37ed94[_0xe1a5a0(0x691)][_0xe1a5a0(0x6a4)])?{'url':_0x37ed94['audioMessage'][_0xe1a5a0(0x6a4)]}:Buffer[_0xe1a5a0(0x732)](_0x37ed94[_0xe1a5a0(0x691)][_0xe1a5a0(0x6a4)],_0xe1a5a0(0x2c1)),'ptt':!0x0,'mimetype':_0xe1a5a0(0x328)},{'presence':_0xe1a5a0(0x731),'delay':_0x37ed94?.[_0xe1a5a0(0x674)]?.['delay']});}async[a0_0xac1afc(0x21e)](_0x53f003){const _0x3703ec=a0_0xac1afc;this[_0x3703ec(0x3a1)][_0x3703ec(0x227)](_0x3703ec(0x4aa));let _0xc129a0,_0x35acca,_0x4993f8=(0x0,Vt['v4'])();if(this[_0x3703ec(0x3a1)][_0x3703ec(0x227)](_0x3703ec(0x254)+_0x4993f8),(0x0,k['isURL'])(_0x53f003)){this['logger'][_0x3703ec(0x227)](_0x3703ec(0x554)),_0x35acca=''+(0x0,$['join'])(this[_0x3703ec(0x716)],_0x4993f8+'.mp4'),_0xc129a0=''+(0x0,$[_0x3703ec(0x4c5)])(this['storePath'],'temp-'+_0x4993f8+'.mp3'),this[_0x3703ec(0x3a1)][_0x3703ec(0x227)]('Output\x20audio\x20path:\x20'+_0x35acca),this[_0x3703ec(0x3a1)][_0x3703ec(0x227)](_0x3703ec(0x2c5)+_0xc129a0);let _0x3df590=new Date()['getTime'](),_0x23fbd9=_0x53f003+'?timestamp='+_0x3df590;this[_0x3703ec(0x3a1)][_0x3703ec(0x227)](_0x3703ec(0x5dd)+_0x23fbd9);let _0x4d7477=await ue['default'][_0x3703ec(0x50b)](_0x23fbd9,{'responseType':'arraybuffer'});this[_0x3703ec(0x3a1)][_0x3703ec(0x227)](_0x3703ec(0x286)),_[_0x3703ec(0x1c4)](_0xc129a0,_0x4d7477[_0x3703ec(0x713)]);}else{this[_0x3703ec(0x3a1)]['verbose'](_0x3703ec(0x74f)),_0x35acca=''+(0x0,$[_0x3703ec(0x4c5)])(this[_0x3703ec(0x716)],_0x4993f8+_0x3703ec(0x394)),_0xc129a0=''+(0x0,$[_0x3703ec(0x4c5)])(this['storePath'],_0x3703ec(0x454)+_0x4993f8+_0x3703ec(0x76a)),this[_0x3703ec(0x3a1)][_0x3703ec(0x227)](_0x3703ec(0x246)+_0x35acca),this[_0x3703ec(0x3a1)]['verbose'](_0x3703ec(0x2c5)+_0xc129a0);let _0x22d369=Buffer[_0x3703ec(0x732)](_0x53f003,_0x3703ec(0x2c1));_[_0x3703ec(0x1c4)](_0xc129a0,_0x22d369),this['logger']['verbose'](_0x3703ec(0x299));}return this['logger'][_0x3703ec(0x227)](_0x3703ec(0x573)),new Promise((_0x5e8ad1,_0x51436d)=>{const _0xc1cc09=_0x3703ec;(0x0,Bt[_0xc1cc09(0x1f5)])(uo['default'][_0xc1cc09(0x1fb)]+_0xc1cc09(0x1da)+_0xc129a0+_0xc1cc09(0x369)+_0x35acca+_0xc1cc09(0x3b8),_0x41c5fe=>{const _0x4f4f62=_0xc1cc09;_[_0x4f4f62(0x681)](_0xc129a0),this[_0x4f4f62(0x3a1)][_0x4f4f62(0x227)](_0x4f4f62(0x2ce)),_0x41c5fe&&_0x51436d(_0x41c5fe),this[_0x4f4f62(0x3a1)][_0x4f4f62(0x227)](_0x4f4f62(0x2bf)),_0x5e8ad1(_0x35acca);});});}async[a0_0xac1afc(0x67d)](_0x1a3118){const _0x7446f8=a0_0xac1afc;let _0x1e3744={},_0x4d833e=_0x7446f8(0x595);if(_0x1a3118['buttonMessage']?.['mediaMessage']){_0x4d833e=_0x1a3118[_0x7446f8(0x67d)][_0x7446f8(0x330)]?.[_0x7446f8(0x36f)][_0x7446f8(0x29a)]()??'TEXT',_0x1e3744[_0x7446f8(0x30e)]=_0x4d833e[_0x7446f8(0x25c)]()+_0x7446f8(0x6f6);let _0x1efd26=await this['prepareMediaMessage'](_0x1a3118[_0x7446f8(0x67d)][_0x7446f8(0x330)]);_0x1e3744[_0x7446f8(0x4e5)]=_0x1efd26['message'][_0x1e3744[_0x7446f8(0x30e)]],_0x1e3744[_0x7446f8(0x352)]='*'+_0x1a3118[_0x7446f8(0x67d)]['title']+_0x7446f8(0x1f4)+_0x1a3118[_0x7446f8(0x67d)][_0x7446f8(0x574)];}let _0xcc82a5={'text':_0x1a3118['buttonMessage'][_0x7446f8(0x5ac)][_0x7446f8(0x6d5)](_0x5a2f06=>_0x5a2f06[_0x7446f8(0x3a6)]),'ids':_0x1a3118['buttonMessage'][_0x7446f8(0x5ac)][_0x7446f8(0x6d5)](_0x35e0f6=>_0x35e0f6[_0x7446f8(0x34e)])};if(!(0x0,k[_0x7446f8(0x53c)])(_0xcc82a5[_0x7446f8(0x6a5)])||!(0x0,k[_0x7446f8(0x53c)])(_0xcc82a5['ids']))throw new g(_0x7446f8(0x5d6),_0x7446f8(0x4fe));return await this[_0x7446f8(0x2ad)](_0x1a3118['number'],{'buttonsMessage':{'text':_0x1e3744?.['mediaKey']?void 0x0:_0x1a3118[_0x7446f8(0x67d)]['title'],'contentText':_0x1e3744?.['contentText']??_0x1a3118[_0x7446f8(0x67d)][_0x7446f8(0x574)],'footerText':_0x1a3118[_0x7446f8(0x67d)]?.[_0x7446f8(0x56a)],'buttons':_0x1a3118[_0x7446f8(0x67d)][_0x7446f8(0x5ac)][_0x7446f8(0x6d5)](_0x421e8e=>({'buttonText':{'displayText':_0x421e8e[_0x7446f8(0x3a6)]},'buttonId':_0x421e8e[_0x7446f8(0x34e)],'type':0x1})),'headerType':w[_0x7446f8(0x4ac)][_0x7446f8(0x6f6)][_0x7446f8(0x4b9)]['HeaderType'][_0x4d833e],[_0x1e3744?.['mediaKey']]:_0x1e3744?.[_0x7446f8(0x4e5)]}},_0x1a3118?.[_0x7446f8(0x674)]);}async['locationMessage'](_0x6ee15){const _0x4e751a=a0_0xac1afc;return await this[_0x4e751a(0x2ad)](_0x6ee15[_0x4e751a(0x3c0)],{'locationMessage':{'degreesLatitude':_0x6ee15[_0x4e751a(0x589)]['latitude'],'degreesLongitude':_0x6ee15[_0x4e751a(0x589)][_0x4e751a(0x6ee)],'name':_0x6ee15['locationMessage']?.['name'],'address':_0x6ee15['locationMessage']?.[_0x4e751a(0x523)]}},_0x6ee15?.[_0x4e751a(0x674)]);}async[a0_0xac1afc(0x4de)](_0x5e92a3){const _0x3906ee=a0_0xac1afc;return await this[_0x3906ee(0x2ad)](_0x5e92a3[_0x3906ee(0x3c0)],{'listMessage':{'title':_0x5e92a3['listMessage'][_0x3906ee(0x717)],'description':_0x5e92a3[_0x3906ee(0x4de)][_0x3906ee(0x574)],'buttonText':_0x5e92a3['listMessage']?.[_0x3906ee(0x3a6)],'footerText':_0x5e92a3[_0x3906ee(0x4de)]?.[_0x3906ee(0x56a)],'sections':_0x5e92a3[_0x3906ee(0x4de)][_0x3906ee(0x253)],'listType':0x1}},_0x5e92a3?.[_0x3906ee(0x674)]);}async[a0_0xac1afc(0x33d)](_0x3b272f){const _0x8d9528=a0_0xac1afc;let _0x11a23e={},_0x3315e8=_0x1d4b1f=>{const _0x5e39a6=a0_0x4f0a;let _0x20a180='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x1d4b1f[_0x5e39a6(0x459)]+_0x5e39a6(0x4d6)+_0x1d4b1f[_0x5e39a6(0x459)]+'\x0a';_0x1d4b1f['organization']&&(_0x20a180+='ORG:'+_0x1d4b1f['organization']+';\x0a'),_0x1d4b1f[_0x5e39a6(0x4e3)]&&(_0x20a180+=_0x5e39a6(0x35a)+_0x1d4b1f[_0x5e39a6(0x4e3)]+'\x0a'),_0x1d4b1f['url']&&(_0x20a180+=_0x5e39a6(0x343)+_0x1d4b1f['url']+'\x0a');let _0x30faf0='';return _0x1d4b1f['phoneNumber']&&_0x1d4b1f[_0x5e39a6(0x5eb)]['split']('|')[_0x5e39a6(0x458)]((_0x227be3,_0x1606ad)=>{const _0x427d5a=_0x5e39a6;let _0x1e5b7a=this['createJid'](_0x227be3)[_0x427d5a(0x5fa)](_0x427d5a(0x520),'');_0x30faf0+=_0x427d5a(0x675)+(_0x1606ad+0x1)+'.TEL;waid='+_0x1e5b7a+':'+_0x227be3+_0x427d5a(0x786)+(_0x1606ad+0x1)+'.X-ABLabel:Celular\x0a';}),_0x20a180+=_0x30faf0+_0x5e39a6(0x297),_0x20a180;};return _0x3b272f[_0x8d9528(0x33d)][_0x8d9528(0x4b8)]===0x1?_0x11a23e[_0x8d9528(0x33d)]={'displayName':_0x3b272f[_0x8d9528(0x33d)][0x0][_0x8d9528(0x459)],'vcard':_0x3315e8(_0x3b272f[_0x8d9528(0x33d)][0x0])}:_0x11a23e[_0x8d9528(0x259)]={'displayName':_0x3b272f['contactMessage']['length']+_0x8d9528(0x6bf),'contacts':_0x3b272f[_0x8d9528(0x33d)][_0x8d9528(0x6d5)](_0x1de187=>({'displayName':_0x1de187['fullName'],'vcard':_0x3315e8(_0x1de187)}))},await this[_0x8d9528(0x2ad)](_0x3b272f[_0x8d9528(0x3c0)],{..._0x11a23e},_0x3b272f?.[_0x8d9528(0x674)]);}async[a0_0xac1afc(0x465)](_0x421651){const _0x258ec0=a0_0xac1afc;return await this[_0x258ec0(0x2ad)](_0x421651[_0x258ec0(0x465)]['key'][_0x258ec0(0x49c)],{'reactionMessage':{'key':_0x421651[_0x258ec0(0x465)]['key'],'text':_0x421651['reactionMessage'][_0x258ec0(0x631)]}});}async[a0_0xac1afc(0x736)](_0x39df28){const _0x4fd4fe=a0_0xac1afc;let _0x49abd9=[];for await(let _0x29391e of _0x39df28[_0x4fd4fe(0x793)]){let _0x7bb319=this[_0x4fd4fe(0x700)](_0x29391e);if((0x0,w[_0x4fd4fe(0x212)])(_0x7bb319)){let _0x4cce09=await this[_0x4fd4fe(0x291)]({'groupJid':_0x7bb319},_0x4fd4fe(0x3ca));_0x49abd9[_0x4fd4fe(0x4b4)](new we(_0x4cce09[_0x4fd4fe(0x4c8)]['id'],!!_0x4cce09?.['metadata']['id'],_0x4cce09?.['metadata']['subject']));}else try{let _0x45b9da=(await this[_0x4fd4fe(0x57c)][_0x4fd4fe(0x4c6)](_0x7bb319))[0x0];_0x49abd9['push'](new we(_0x45b9da['jid'],_0x45b9da['exists']));}catch{_0x49abd9[_0x4fd4fe(0x4b4)](new we(_0x29391e,!0x1));}}return _0x49abd9;}async[a0_0xac1afc(0x3f7)](_0x14d3ae){const _0x13ada7=a0_0xac1afc;try{let _0x1cb6c9=_0x14d3ae[_0x13ada7(0x358)][_0x13ada7(0x207)](_0x16aa0c=>(0x0,w[_0x13ada7(0x212)])(_0x16aa0c[_0x13ada7(0x49c)])||(0x0,w[_0x13ada7(0x52b)])(_0x16aa0c[_0x13ada7(0x49c)]))[_0x13ada7(0x6d5)](_0x4069e=>({'remoteJid':_0x4069e[_0x13ada7(0x49c)],'fromMe':_0x4069e['fromMe'],'id':_0x4069e['id']}));await this[_0x13ada7(0x57c)]['readMessages'](_0x1cb6c9);let _0x118b97=_0x1cb6c9[_0x13ada7(0x6d5)](_0x53bc09=>this[_0x13ada7(0x5f4)](_0x53bc09,_0x53bc09[_0x13ada7(0x49c)],{'status':_0x13ada7(0x331),'owner':this[_0x13ada7(0x300)]['wuid']})),_0x126ae1=_0x1cb6c9[_0x13ada7(0x6d5)](_0x3d7f2d=>I['findOneAndUpdate']({'id':_0x3d7f2d[_0x13ada7(0x49c)],'owner':this[_0x13ada7(0x300)]['wuid']},{'$set':{'unreadcount':0x0}},{'new':!0x0})),[_0x37ddf0,_0x3d19f9]=await Promise['all']([Promise[_0x13ada7(0x3e3)](_0x118b97),Promise[_0x13ada7(0x3e3)](_0x126ae1)]);return _0x3d19f9[_0x13ada7(0x207)](_0x2b7887=>_0x2b7887!==null)['forEach'](_0xc8beea=>{const _0x4f66f2=_0x13ada7;G(this[_0x4f66f2(0x624)],_0x4f66f2(0x3ac),{'chat':_0xc8beea});}),{'message':'Read\x20messages','read':_0x13ada7(0x6a9)};}catch(_0x782acd){throw console[_0x13ada7(0x558)](_0x13ada7(0x561),_0x782acd),new A(_0x13ada7(0x40e),_0x782acd[_0x13ada7(0x344)]());}}async[a0_0xac1afc(0x2fd)](_0x5e42b2){const _0x500e33=a0_0xac1afc;let _0x56a049=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x5e42b2},'owner':this[_0x500e33(0x300)][_0x500e33(0x587)]}}),_0x3b8ff8=_0x56a049[_0x500e33(0x3b0)]();for(let _0x4986af of _0x56a049)_0x4986af[_0x500e33(0x23e)]>=_0x3b8ff8[_0x500e33(0x23e)]&&(_0x3b8ff8=_0x4986af);return _0x3b8ff8;}async[a0_0xac1afc(0x3d0)](_0x4c40f8){const _0x225059=a0_0xac1afc;this['logger'][_0x225059(0x227)](_0x225059(0x495));try{let _0x574283=_0x4c40f8[_0x225059(0x76d)],_0x5c1f33=_0x4c40f8[_0x225059(0x3ab)];if(!_0x574283&&_0x5c1f33?_0x574283=await this[_0x225059(0x2fd)](_0x5c1f33):(_0x574283=_0x4c40f8[_0x225059(0x76d)],_0x574283[_0x225059(0x23e)]=_0x574283?.[_0x225059(0x23e)]??Date[_0x225059(0x536)](),_0x5c1f33=_0x574283?.[_0x225059(0x456)]?.['remoteJid']),!_0x574283||Object[_0x225059(0x72e)](_0x574283)[_0x225059(0x4b8)]===0x0)throw new x(_0x225059(0x53b));await this[_0x225059(0x57c)][_0x225059(0x3d9)]({'archive':_0x4c40f8['archive'],'lastMessages':[_0x574283]},this['createJid'](_0x5c1f33));let _0x3a5486=await I[_0x225059(0x794)]({'id':_0x574283?.['key']?.[_0x225059(0x49c)],'owner':this['instance'][_0x225059(0x30d)]},{'$set':{'archived':_0x4c40f8['archive']}},{'new':!0x0});return _0x3a5486&&G(this['instanceName'],'chats',{'chat':_0x3a5486}),{'chatId':_0x5c1f33,'archived':_0x4c40f8[_0x225059(0x408)]};}catch(_0x682f7b){throw new A({'archived':!0x1,'message':[_0x225059(0x3b5),_0x682f7b[_0x225059(0x344)]()]});}}async[a0_0xac1afc(0x627)](_0x374b2c){const _0x282ecb=a0_0xac1afc;try{let _0x4cd548=await this['client']['sendMessage'](_0x374b2c[_0x282ecb(0x49c)],{'delete':_0x374b2c});try{let _0x43efa5=await this['updateMessage'](_0x374b2c,_0x374b2c[_0x282ecb(0x49c)],{'status':_0x282ecb(0x56f),'owner':this[_0x282ecb(0x300)][_0x282ecb(0x30d)]});this['logger'][_0x282ecb(0x227)](this[_0x282ecb(0x624)]+'\x20('+this['instance'][_0x282ecb(0x30d)]+_0x282ecb(0x54b)+_0x43efa5);}catch(_0xcdf286){console['error']('Error\x20updating\x20message\x20status:',_0xcdf286);}return _0x4cd548;}catch(_0x3481e1){throw new A(_0x282ecb(0x4cc),_0x3481e1?.['toString']());}}async[a0_0xac1afc(0x34a)](_0x4b9396){const _0x3bb635=a0_0xac1afc;try{let _0x267eb9=_0x4b9396?.[_0x3bb635(0x4e5)]?_0x4b9396:await this[_0x3bb635(0x3e0)](_0x4b9396[_0x3bb635(0x456)],!0x0);for(let _0x1c51b9 of Zs)_0x267eb9['message'][_0x1c51b9]&&(_0x267eb9[_0x3bb635(0x4e5)]=_0x267eb9[_0x3bb635(0x4e5)][_0x1c51b9][_0x3bb635(0x4e5)]);let _0x5d54e1,_0x389a65;for(let _0x3b7f41 of Xs)if(_0x5d54e1=_0x267eb9[_0x3bb635(0x4e5)][_0x3b7f41],_0x5d54e1){_0x389a65=_0x3b7f41;break;}if(!_0x5d54e1)throw _0x3bb635(0x7a7);typeof _0x5d54e1[_0x3bb635(0x30e)]==_0x3bb635(0x5de)&&(_0x267eb9[_0x3bb635(0x4e5)]=JSON[_0x3bb635(0x61f)](JSON[_0x3bb635(0x47f)](_0x267eb9[_0x3bb635(0x4e5)])));let _0x27b96e=await(0x0,w[_0x3bb635(0x752)])({'key':_0x267eb9?.[_0x3bb635(0x456)],'message':_0x267eb9?.[_0x3bb635(0x4e5)]},_0x3bb635(0x797),{},{'logger':(0x0,Ut['default'])({'level':_0x3bb635(0x558)}),'reuploadRequest':this[_0x3bb635(0x57c)][_0x3bb635(0x42e)]});if(!(_0x27b96e instanceof Buffer))throw new Error(_0x3bb635(0x611));let _0x27428d=this[_0x3bb635(0x2f4)][_0x3bb635(0x50b)]('DATABASE'),_0x865639,_0x3878f8;if(_0x5d54e1[_0x3bb635(0x3db)])_0x865639=_0x5d54e1[_0x3bb635(0x3db)];else{let _0x51d3aa=_0x5d54e1[_0x3bb635(0x52e)]?.[_0x3bb635(0x6fb)](/\/(\w+)/),_0x46d3e8=_0x51d3aa?_0x51d3aa[0x1]:null;if(!_0x46d3e8)throw new Error(_0x3bb635(0x592));_0x865639=(0x0,Vt['v4'])()+'.'+_0x46d3e8;}_0x389a65===_0x3bb635(0x691)&&_0x5d54e1[_0x3bb635(0x52e)]===_0x3bb635(0x3a2)?(_0x865639=(0x0,Vt['v4'])()+_0x3bb635(0x490),_0x3878f8=_0x3bb635(0x1cb)+await this[_0x3bb635(0x21e)](_0x27b96e[_0x3bb635(0x344)]('base64'))):(await this[_0x3bb635(0x5c9)](_0x27b96e,_0x865639),_0x3878f8=_0x3bb635(0x1cb)+_0x865639);let _0x2d54b7=this['configService']['get'](_0x3bb635(0x1cc)),_0x5c5795=this[_0x3bb635(0x2f4)]['get'](_0x3bb635(0x667))[_0x3bb635(0x3f3)],_0x1a336c=_0x2d54b7&&_0x2d54b7[_0x3bb635(0x5e2)][_0x3bb635(0x5bf)]('/')[0x4];_0x5c5795===0x1bb&&(_0x3878f8=''+('https://'+_0x1a336c)+_0x3878f8);let _0x5b6b8a=0xc*0x3c*0x3c*0x3e8;if(_0x27428d[_0x3bb635(0x753)]){let _0x256617={'where':{'key':{'id':_0x267eb9[_0x3bb635(0x456)]['id'],'remoteJid':_0x267eb9[_0x3bb635(0x456)][_0x3bb635(0x49c)],'fromMe':_0x267eb9[_0x3bb635(0x456)][_0x3bb635(0x1e3)]},'owner':this['instance'][_0x3bb635(0x30d)]}};_0x267eb9[_0x3bb635(0x456)]['remoteJid'][_0x3bb635(0x31a)](_0x3bb635(0x2e5))&&(_0x256617[_0x3bb635(0x73e)][_0x3bb635(0x456)]['participant']=_0x267eb9['key'][_0x3bb635(0x626)]);let _0x364697={'message_normalized.fileUrl':_0x3878f8,'message_normalized.expires_fileUrl':Date['now']()+_0x5b6b8a};try{let _0x3176ea=await this[_0x3bb635(0x754)][_0x3bb635(0x4e5)][_0x3bb635(0x778)](_0x256617,_0x364697);_0x3176ea&&G(this[_0x3bb635(0x624)],_0x3bb635(0x635),{'message':_0x3176ea});}catch{}}return{'mediaType':_0x389a65,'fileName':_0x5d54e1['fileName'],'caption':_0x5d54e1[_0x3bb635(0x61c)],'size':{'fileLength':_0x5d54e1[_0x3bb635(0x485)],'height':_0x5d54e1[_0x3bb635(0x37c)],'width':_0x5d54e1['width']},'mimetype':_0x5d54e1[_0x3bb635(0x52e)],'base64':_0x27b96e[_0x3bb635(0x344)](_0x3bb635(0x2c1)),'fileUrl':_0x3878f8,'expires_fileUrl':Date[_0x3bb635(0x536)]()+_0x5b6b8a};}catch(_0x111c55){throw this['logger'][_0x3bb635(0x558)](this[_0x3bb635(0x624)]+'\x20('+this[_0x3bb635(0x300)][_0x3bb635(0x30d)]+_0x3bb635(0x4b0)+_0x111c55),new g(_0x111c55[_0x3bb635(0x344)]());}}async[a0_0xac1afc(0x5c9)](_0x5a6344,_0x332109){const _0x350dcb=a0_0xac1afc;console[_0x350dcb(0x2b0)]('Initial\x20__dirname:',__dirname),console[_0x350dcb(0x2b0)](_0x350dcb(0x44b),_0x332109);let _0x2956e9=$[_0x350dcb(0x5fe)][_0x350dcb(0x4c5)](__dirname,'downloads');console[_0x350dcb(0x2b0)](_0x350dcb(0x76b),_0x2956e9),_[_0x350dcb(0x3fb)](_0x2956e9)||(this[_0x350dcb(0x3a1)][_0x350dcb(0x2b0)](_0x350dcb(0x79d)),_[_0x350dcb(0x5e4)](_0x2956e9,{'recursive':!0x0}));let _0x4666d4=$[_0x350dcb(0x5fe)]['join'](_0x2956e9,_0x332109);return console[_0x350dcb(0x2b0)](_0x350dcb(0x230),_0x4666d4),new Promise((_0xb93cb6,_0xb95d12)=>{_['writeFile'](_0x4666d4,_0x5a6344,_0x378339=>{const _0x2bb349=a0_0x4f0a;_0x378339?(this[_0x2bb349(0x3a1)][_0x2bb349(0x558)](_0x2bb349(0x2a0)+_0x378339['message']),_0xb95d12(_0x378339)):(this[_0x2bb349(0x3a1)][_0x2bb349(0x2b0)]('File\x20written\x20to\x20path:\x20'+_0x4666d4),_0xb93cb6(_0x4666d4));});});}async[a0_0xac1afc(0x4d3)](_0xbec1a6){const _0x3e6dbd=a0_0xac1afc;return _0xbec1a6?.['where']?_0xbec1a6['where'][_0x3e6dbd(0x533)]=this[_0x3e6dbd(0x300)][_0x3e6dbd(0x30d)]:_0xbec1a6={'where':{'owner':this[_0x3e6dbd(0x300)][_0x3e6dbd(0x30d)]}},await this['repository'][_0x3e6dbd(0x4cb)][_0x3e6dbd(0x621)](_0xbec1a6);}async['fetchMessages'](_0x50d4af){const _0x24a40f=a0_0xac1afc;return _0x50d4af?.[_0x24a40f(0x73e)]?_0x50d4af['where']['owner']=this[_0x24a40f(0x300)][_0x24a40f(0x30d)]:_0x50d4af={'where':{'owner':this['instance'][_0x24a40f(0x30d)]},'limit':_0x50d4af?.[_0x24a40f(0x6de)]},await this['repository']['message'][_0x24a40f(0x621)](_0x50d4af);}async[a0_0xac1afc(0x27d)](_0x17b10a){const _0x5a9faf=a0_0xac1afc;return _0x17b10a?.[_0x5a9faf(0x73e)]?_0x17b10a[_0x5a9faf(0x73e)]['owner']=this[_0x5a9faf(0x300)][_0x5a9faf(0x30d)]:_0x17b10a={'where':{'owner':this[_0x5a9faf(0x300)][_0x5a9faf(0x30d)]},'limit':_0x17b10a?.[_0x5a9faf(0x6de)]},await this[_0x5a9faf(0x754)][_0x5a9faf(0x22b)]['find'](_0x17b10a);}async[a0_0xac1afc(0x787)](){const _0x26ca17=a0_0xac1afc;return await this[_0x26ca17(0x754)][_0x26ca17(0x3ab)][_0x26ca17(0x621)]({'where':{'owner':this[_0x26ca17(0x300)][_0x26ca17(0x30d)]}});}async['fetchPrivacySettings'](){const _0x5b21ae=a0_0xac1afc;return await this[_0x5b21ae(0x57c)][_0x5b21ae(0x650)]();}async[a0_0xac1afc(0x53d)](_0x5375ea){const _0x50b139=a0_0xac1afc;try{return await this[_0x50b139(0x57c)][_0x50b139(0x3fe)](_0x5375ea[_0x50b139(0x78e)]['readreceipts']),await this[_0x50b139(0x57c)][_0x50b139(0x4e1)](_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x5c6)]),await this[_0x50b139(0x57c)][_0x50b139(0x692)](_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x798)]),await this[_0x50b139(0x57c)][_0x50b139(0x65b)](_0x5375ea[_0x50b139(0x78e)]['online']),await this[_0x50b139(0x57c)][_0x50b139(0x596)](_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x3f0)]),await this[_0x50b139(0x57c)][_0x50b139(0x55e)](_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x54e)]),this[_0x50b139(0x57c)]?.['ws']?.[_0x50b139(0x283)](),{'update':'success','data':{'readreceipts':_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x252)],'profile':_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x5c6)],'status':_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x798)],'online':_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x29e)],'last':_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x3f0)],'groupadd':_0x5375ea[_0x50b139(0x78e)][_0x50b139(0x54e)]}};}catch(_0x445e2a){throw new A('Error\x20updating\x20privacy\x20settings',_0x445e2a[_0x50b139(0x344)]());}}async['fetchProfile2'](_0x4bd548){const _0x436ccf=a0_0xac1afc;let _0x5f517b=_0x4bd548?this['createJid'](_0x4bd548):this[_0x436ccf(0x57c)]?.[_0x436ccf(0x2e0)]?.['id'];this[_0x436ccf(0x3a1)][_0x436ccf(0x227)](_0x436ccf(0x5cc)+_0x5f517b);try{if(this['logger'][_0x436ccf(0x227)](_0x436ccf(0x2c2)),_0x4bd548){let _0x4a2aeb=(await this['whatsappNumber']({'numbers':[_0x5f517b]}))?.[_0x436ccf(0x5af)](),_0x3d2f50=await this[_0x436ccf(0x6c1)](_0x4a2aeb?.['jid']),_0x16b661=await this['getStatus'](_0x4a2aeb?.[_0x436ccf(0x1fe)]),_0x574d08=await this[_0x436ccf(0x661)](_0x4a2aeb?.[_0x436ccf(0x1fe)]);return{'wuid':_0x4a2aeb?.[_0x436ccf(0x1fe)]||_0x5f517b,'name':_0x4a2aeb?.[_0x436ccf(0x587)],'numberExists':_0x4a2aeb?.[_0x436ccf(0x6c3)],'picture':_0x3d2f50?.['profilePictureUrl'],'status':_0x16b661?.[_0x436ccf(0x798)],'isBusiness':_0x574d08[_0x436ccf(0x251)],'email':_0x574d08?.['email'],'description':_0x574d08?.[_0x436ccf(0x574)],'website':_0x574d08?.[_0x436ccf(0x469)]?.[_0x436ccf(0x5af)]()};}}catch{return this[_0x436ccf(0x3a1)]['verbose'](_0x436ccf(0x79b)),{'wuid':_0x5f517b,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0xac1afc(0x3c1)](_0x2ee19e){const _0x15a932=a0_0xac1afc;let _0xaf4d33=_0x2ee19e?this['createJid'](_0x2ee19e):this[_0x15a932(0x57c)]?.['user']?.['id'];this['logger'][_0x15a932(0x227)](_0x15a932(0x480)+_0xaf4d33);let _0x2548db=await Ge[_0x15a932(0x289)]({'id':_0xaf4d33}),_0x4e15da=_0x2548db?_0x2548db[_0x15a932(0x379)]:null;try{let _0x43ea1b=(await this['whatsappNumber']({'numbers':[_0xaf4d33]}))?.[_0x15a932(0x5af)](),_0x3c6673=await this['profilePicture'](_0x43ea1b?.[_0x15a932(0x1fe)]),_0x6393a1=await this[_0x15a932(0x537)](_0x43ea1b?.[_0x15a932(0x1fe)]),_0x35954d=await this[_0x15a932(0x661)](_0x43ea1b?.[_0x15a932(0x1fe)]),_0x3b8e5c={'imagechat':_0x3c6673?.[_0x15a932(0x1d6)],'contactname':_0x4e15da||null,'status':_0x6393a1?.['status'],'isBusiness':_0x35954d[_0x15a932(0x251)],'email':_0x35954d?.[_0x15a932(0x4e3)],'description':_0x35954d?.[_0x15a932(0x574)],'website':_0x35954d?.[_0x15a932(0x469)]?.[_0x15a932(0x5af)](),'lastcache':Date[_0x15a932(0x536)]()},_0x2750f2=await I[_0x15a932(0x794)]({'id':_0xaf4d33,'owner':this[_0x15a932(0x300)][_0x15a932(0x30d)]},{'$set':_0x3b8e5c,'$setOnInsert':{'name':_0x43ea1b?.[_0x15a932(0x587)]||null}},{'upsert':!0x0,'new':!0x0}),_0x28cbe0={'owner':this[_0x15a932(0x300)][_0x15a932(0x30d)],'id':_0xaf4d33,'profilePictureUrl':_0x3c6673?.['profilePictureUrl'],'status':_0x6393a1?.[_0x15a932(0x798)]};return this[_0x15a932(0x754)][_0x15a932(0x4cb)][_0x15a932(0x778)]([_0x28cbe0],this['instance'][_0x15a932(0x30d)]),_0x2750f2&&G(this[_0x15a932(0x624)],'chats',{'chat':_0x2750f2}),{'wuid':_0x43ea1b?.[_0x15a932(0x1fe)]||_0xaf4d33,'name':_0x43ea1b?.[_0x15a932(0x587)],'numberExists':_0x43ea1b?.[_0x15a932(0x6c3)],'picture':_0x3c6673?.[_0x15a932(0x1d6)],'status':_0x6393a1?.['status'],'isBusiness':_0x35954d[_0x15a932(0x251)],'email':_0x35954d?.[_0x15a932(0x4e3)],'description':_0x35954d?.[_0x15a932(0x574)],'website':_0x35954d?.['website']?.['shift']()};}catch(_0x40cbfb){return this[_0x15a932(0x3a1)][_0x15a932(0x558)](_0x15a932(0x2f0)+_0x40cbfb),{};}}async[a0_0xac1afc(0x661)](_0x317134){const _0x12408d=a0_0xac1afc;this[_0x12408d(0x3a1)]['verbose'](_0x12408d(0x351));try{let _0x19bb94=_0x317134?this['createJid'](_0x317134):this[_0x12408d(0x300)][_0x12408d(0x30d)],_0x246357=await this[_0x12408d(0x57c)][_0x12408d(0x474)](_0x19bb94);return this[_0x12408d(0x3a1)][_0x12408d(0x227)](_0x12408d(0x4f9)),_0x246357?(this[_0x12408d(0x3a1)][_0x12408d(0x227)](_0x12408d(0x426)),{'isBusiness':!0x0,..._0x246357}):{'isBusiness':!0x1,'message':_0x12408d(0x307),...(await this[_0x12408d(0x736)]({'numbers':[_0x19bb94]}))?.[_0x12408d(0x5af)]()};}catch(_0x1055b2){throw new A(_0x12408d(0x2ab),_0x1055b2[_0x12408d(0x344)]());}}async[a0_0xac1afc(0x537)](_0x4f95af){const _0x525986=a0_0xac1afc;let _0x209bdf=this[_0x525986(0x700)](_0x4f95af);try{return{'wuid':_0x209bdf,'status':(await this['client'][_0x525986(0x534)](_0x209bdf))?.[_0x525986(0x798)]};}catch{return{'wuid':_0x209bdf,'status':null};}}async['updateProfileName'](_0xd1ef71){const _0xd2d0c=a0_0xac1afc;try{return await this['client'][_0xd2d0c(0x5cf)](_0xd1ef71),{'update':_0xd2d0c(0x6a9)};}catch(_0x1fea9a){throw new A('Error\x20updating\x20profile\x20name',_0x1fea9a[_0xd2d0c(0x344)]());}}async['updateProfileStatus'](_0x2f2187){const _0x184c58=a0_0xac1afc;try{return await this[_0x184c58(0x57c)][_0x184c58(0x356)](_0x2f2187),{'update':_0x184c58(0x6a9)};}catch(_0x35709c){throw new A(_0x184c58(0x6f9),_0x35709c[_0x184c58(0x344)]());}}async[a0_0xac1afc(0x4b6)](_0xc29c6d){const _0x3abdb3=a0_0xac1afc;try{let _0x51e1ca;if((0x0,k[_0x3abdb3(0x467)])(_0xc29c6d)){let _0x33d427=new Date()[_0x3abdb3(0x250)](),_0x20a4e7=_0xc29c6d+'?timestamp='+_0x33d427;_0x51e1ca=(await ue[_0x3abdb3(0x5fe)][_0x3abdb3(0x50b)](_0x20a4e7,{'responseType':_0x3abdb3(0x3b6)}))[_0x3abdb3(0x713)];}else{if((0x0,k['isBase64'])(_0xc29c6d))_0x51e1ca=Buffer[_0x3abdb3(0x732)](_0xc29c6d,_0x3abdb3(0x2c1));else throw new g(_0x3abdb3(0x6eb));}return await this['client']['updateProfilePicture'](this[_0x3abdb3(0x300)]['wuid'],_0x51e1ca),{'update':_0x3abdb3(0x6a9)};}catch(_0x3f7119){throw new A(_0x3abdb3(0x58a),_0x3f7119[_0x3abdb3(0x344)]());}}async[a0_0xac1afc(0x4bd)](){const _0x20aa62=a0_0xac1afc;try{return await this[_0x20aa62(0x57c)]['removeProfilePicture'](this[_0x20aa62(0x300)][_0x20aa62(0x30d)]),{'update':_0x20aa62(0x6a9)};}catch(_0x2f90b4){throw new A('Error\x20removing\x20profile\x20picture',_0x2f90b4[_0x20aa62(0x344)]());}}async[a0_0xac1afc(0x792)](_0xcbb398){const _0x38e840=a0_0xac1afc;try{let _0x34cf53=_0xcbb398[_0x38e840(0x613)][_0x38e840(0x6d5)](_0x39a265=>this['createJid'](_0x39a265)),{id:_0x2995c6}=await this[_0x38e840(0x57c)][_0x38e840(0x77b)](_0xcbb398[_0x38e840(0x4f3)],_0x34cf53);return _0xcbb398?.['description']&&await this[_0x38e840(0x57c)][_0x38e840(0x421)](_0x2995c6,_0xcbb398[_0x38e840(0x574)]),{'metadata':await this['client'][_0x38e840(0x5c2)](_0x2995c6)};}catch(_0x8ec6fa){throw this[_0x38e840(0x3a1)][_0x38e840(0x558)](this[_0x38e840(0x624)]+'\x20('+this[_0x38e840(0x300)][_0x38e840(0x30d)]+_0x38e840(0x4b0)+_0x8ec6fa),new A(_0x38e840(0x689),_0x8ec6fa[_0x38e840(0x344)]());}}async[a0_0xac1afc(0x345)](_0x4669ec){const _0x223160=a0_0xac1afc;try{let _0x24e86a;if((0x0,k[_0x223160(0x467)])(_0x4669ec[_0x223160(0x6b0)])){let _0x3e7b5f=new Date()[_0x223160(0x250)](),_0x478d16=_0x4669ec[_0x223160(0x6b0)]+'?timestamp='+_0x3e7b5f;_0x24e86a=(await ue[_0x223160(0x5fe)][_0x223160(0x50b)](_0x478d16,{'responseType':_0x223160(0x3b6)}))[_0x223160(0x713)];}else{if((0x0,k[_0x223160(0x75f)])(_0x4669ec[_0x223160(0x6b0)]))_0x24e86a=Buffer['from'](_0x4669ec['image'],_0x223160(0x2c1));else throw new g(_0x223160(0x6eb));}return await this[_0x223160(0x57c)]['updateProfilePicture'](_0x4669ec['groupJid'],_0x24e86a),{'update':_0x223160(0x6a9)};}catch(_0x177c9c){throw new A(_0x223160(0x614),_0x177c9c[_0x223160(0x344)]());}}async[a0_0xac1afc(0x291)](_0x4e3806,_0x2d8b39=a0_0xac1afc(0x788)){const _0x52384a=a0_0xac1afc;try{let _0x29ccce=await this[_0x52384a(0x57c)][_0x52384a(0x5c2)](_0x4e3806[_0x52384a(0x38a)]),_0x41f77e=null;try{_0x41f77e=(await this['profilePicture'](_0x4e3806[_0x52384a(0x38a)]))[_0x52384a(0x1d6)];}catch(_0x58fd37){this[_0x52384a(0x3a1)]['verbose'](this[_0x52384a(0x624)]+'\x20('+this[_0x52384a(0x300)][_0x52384a(0x30d)]+_0x52384a(0x563)+_0x4e3806['groupJid']+':\x20'+_0x58fd37['toString']());}let _0x552ad8=await I[_0x52384a(0x794)]({'id':_0x4e3806['groupJid'],'owner':this[_0x52384a(0x300)]['wuid']},{'$set':{'imagechat':_0x41f77e,'name':_0x29ccce[_0x52384a(0x4f3)],'group_size':_0x29ccce['size'],'group_announce':_0x29ccce['announce'],'lastcache':Date[_0x52384a(0x536)]()}},{'new':!0x0,'upsert':!0x0});return _0x552ad8&&G(this['instanceName'],_0x52384a(0x3ac),{'chat':_0x552ad8}),{'metadata':_0x29ccce,'image':_0x41f77e};}catch(_0x321312){if(_0x2d8b39===_0x52384a(0x3ca))return;throw new x(_0x52384a(0x68b),_0x321312[_0x52384a(0x344)]());}}async[a0_0xac1afc(0x202)](_0x268641){const _0x1dd691=a0_0xac1afc;try{return await this[_0x1dd691(0x57c)][_0x1dd691(0x421)](_0x268641[_0x1dd691(0x38a)],_0x268641[_0x1dd691(0x574)]),{'update':_0x1dd691(0x6a9)};}catch(_0x5af634){throw new A(_0x1dd691(0x404),_0x5af634[_0x1dd691(0x344)]());}}async['groupName'](_0xe37d72){const _0xe2eabb=a0_0xac1afc;try{return await this[_0xe2eabb(0x57c)][_0xe2eabb(0x68f)](_0xe37d72[_0xe2eabb(0x38a)],_0xe37d72[_0xe2eabb(0x587)]),{'update':_0xe2eabb(0x6a9)};}catch(_0x287e8c){throw new A(_0xe2eabb(0x6f7),_0x287e8c[_0xe2eabb(0x344)]());}}async[a0_0xac1afc(0x37d)](_0x307d22){const _0x34e7f2=a0_0xac1afc;try{return await this['client']['groupSettingUpdate'](_0x307d22[_0x34e7f2(0x38a)],_0x307d22[_0x34e7f2(0x50e)]),{'update':_0x34e7f2(0x6a9)};}catch(_0x5b6709){throw new A(_0x34e7f2(0x64e),_0x5b6709['toString']());}}async[a0_0xac1afc(0x263)](){const _0x27e2dd=a0_0xac1afc;try{let _0x4c2a87=[],_0xdf0b6b=await this['client']['groupFetchAllParticipating'](),_0x3d940a=Object[_0x27e2dd(0x789)](_0xdf0b6b),_0x2e264a=_0x3d940a[_0x27e2dd(0x207)](_0xe64994=>(0x0,w['isJidGroup'])(_0xe64994?.['id']))[_0x27e2dd(0x6d5)](async _0x555ab5=>{const _0x1b1a97=_0x27e2dd;try{return await this['client'][_0x1b1a97(0x1d6)](_0x555ab5['id'],_0x1b1a97(0x2fa));}catch(_0x2f3ca0){return this['logger'][_0x1b1a97(0x227)](this[_0x1b1a97(0x624)]+'\x20('+this[_0x1b1a97(0x300)][_0x1b1a97(0x30d)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x555ab5['id']+':\x20'+_0x2f3ca0[_0x1b1a97(0x344)]()),null;}}),_0x27460f=await Promise[_0x27e2dd(0x3e3)](_0x2e264a);for(let _0x1c3b76=0x0;_0x1c3b76<_0x3d940a[_0x27e2dd(0x4b8)];_0x1c3b76++){let _0x36edc2=_0x3d940a[_0x1c3b76];(0x0,w[_0x27e2dd(0x212)])(_0x36edc2?.['id'])&&_0x4c2a87['push']({'groupJid':_0x36edc2?.['id'],'subject':_0x36edc2?.[_0x27e2dd(0x4f3)],'subjectOwner':_0x36edc2?.[_0x27e2dd(0x505)]?.[_0x27e2dd(0x5bf)]('@')[0x0],'subjectTime':_0x36edc2?.[_0x27e2dd(0x312)],'size':_0x36edc2?.[_0x27e2dd(0x613)]?.[_0x27e2dd(0x4b8)],'owner':_0x36edc2?.[_0x27e2dd(0x533)]?.[_0x27e2dd(0x5bf)]('@')[0x0],'creation':_0x36edc2?.['creation'],'desc':_0x36edc2?.[_0x27e2dd(0x446)],'restrict':_0x36edc2?.[_0x27e2dd(0x39b)],'announce':_0x36edc2?.[_0x27e2dd(0x781)],'image':_0x27460f[_0x1c3b76]});}return _0x4c2a87;}catch(_0x5aaa0f){throw new x('Error\x20fetching\x20group',_0x5aaa0f[_0x27e2dd(0x344)]());}}async[a0_0xac1afc(0x761)](_0x55042d){const _0x21b8fa=a0_0xac1afc;try{let _0x1ee621=await this[_0x21b8fa(0x57c)][_0x21b8fa(0x639)](_0x55042d[_0x21b8fa(0x38a)]);return{'inviteUrl':_0x21b8fa(0x4da)+_0x1ee621,'inviteCode':_0x1ee621};}catch(_0x492c4f){throw new x('No\x20invite\x20code',_0x492c4f[_0x21b8fa(0x344)]());}}async['revokeInviteCode'](_0x16dd4d){const _0x25f848=a0_0xac1afc;try{let _0xda1e2b=await this['client'][_0x25f848(0x262)](_0x16dd4d[_0x25f848(0x38a)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0xda1e2b,'inviteCode':_0xda1e2b};}catch(_0x361ea4){throw new x(_0x25f848(0x39f),_0x361ea4[_0x25f848(0x344)]());}}async[a0_0xac1afc(0x44a)](_0x1cf96a){const _0x513e4c=a0_0xac1afc;try{if((0x0,k[_0x513e4c(0x467)])(_0x1cf96a[_0x513e4c(0x761)]))var _0x1f96e8=_0x1cf96a['inviteCode'][_0x513e4c(0x5bf)]('/')[0x3];else var _0x1f96e8=_0x1cf96a['inviteCode'];let _0x5df443=await this[_0x513e4c(0x57c)][_0x513e4c(0x30a)](_0x1f96e8);return this[_0x513e4c(0x3a1)][_0x513e4c(0x227)](this[_0x513e4c(0x624)]+'\x20('+this[_0x513e4c(0x300)][_0x513e4c(0x30d)]+'):\x20'+_0x5df443),{'join':!0x0,'inviteCode':_0x1f96e8,'groupJid':_0x5df443};}catch(_0x190c59){throw new x(_0x513e4c(0x20f),_0x190c59[_0x513e4c(0x344)]());}}async[a0_0xac1afc(0x367)](_0x1538c2){const _0x28d63d=a0_0xac1afc;try{return{'participants':(await this[_0x28d63d(0x57c)][_0x28d63d(0x5c2)](_0x1538c2['groupJid']))[_0x28d63d(0x613)]};}catch(_0x3a7794){throw new x('No\x20participants',_0x3a7794[_0x28d63d(0x344)]());}}async[a0_0xac1afc(0x545)](_0x1fe48e){const _0x121359=a0_0xac1afc;try{let _0x14812d=_0x1fe48e[_0x121359(0x613)][_0x121359(0x6d5)](_0x3d08d1=>this[_0x121359(0x700)](_0x3d08d1));return{'updateParticipants':await this['client'][_0x121359(0x541)](_0x1fe48e[_0x121359(0x38a)],_0x14812d,_0x1fe48e[_0x121359(0x750)])};}catch(_0x3c641e){throw new g(_0x121359(0x634),_0x3c641e['toString']());}}async[a0_0xac1afc(0x2df)](_0x3d7d37){const _0x396cdd=a0_0xac1afc;try{let _0x319891=await this[_0x396cdd(0x57c)][_0x396cdd(0x6ec)](_0x3d7d37[_0x396cdd(0x38a)],_0x3d7d37['expiration']);return{'success':!0x0};}catch(_0x362606){throw new g(_0x396cdd(0x1ec),_0x362606[_0x396cdd(0x344)]());}}async[a0_0xac1afc(0x510)](_0x36bb27){const _0x27e65e=a0_0xac1afc;try{return await this['client']['groupLeave'](_0x36bb27[_0x27e65e(0x38a)]),{'groupJid':_0x36bb27['groupJid'],'leave':!0x0};}catch(_0x58e7be){throw new g(_0x27e65e(0x6b6),_0x58e7be['toString']());}}async[a0_0xac1afc(0x55d)](_0x47c03d){const _0x43009b=a0_0xac1afc;return await this[_0x43009b(0x2ad)](_0x47c03d[_0x43009b(0x3c0)],{'poll':{'name':_0x47c03d['pollMessage']?.['name'],'selectableCount':_0x47c03d['pollMessage'][_0x43009b(0x5db)],'values':_0x47c03d['pollMessage']['values']}},_0x47c03d?.[_0x43009b(0x674)]);}async[a0_0xac1afc(0x5f4)](_0xc01022,_0x2c8866,_0xaffe50){const _0x391253=a0_0xac1afc;if(await this['getMessage'](_0xc01022,!0x0)){let _0x591b98={'where':{'key':{'id':_0xc01022['id'],'remoteJid':_0x2c8866,'fromMe':_0xc01022[_0x391253(0x1e3)]},'owner':this[_0x391253(0x300)][_0x391253(0x30d)]}},_0x2be2c3={'status':[_0xaffe50[_0x391253(0x798)]][0x0]};try{let _0x1c2c00=await this[_0x391253(0x754)][_0x391253(0x4e5)][_0x391253(0x778)](_0x591b98,_0x2be2c3);_0x1c2c00&&G(this[_0x391253(0x624)],'messages',{'message':_0x1c2c00});}catch{}}}[a0_0xac1afc(0x1bf)](_0x5d24d0){const _0x198d68=a0_0xac1afc;let _0x5dbd19=_0x5d24d0['replace'](/\\n/g,'\x0a')[_0x198d68(0x5bf)]('\x0a')[_0x198d68(0x207)](_0x38ad63=>_0x38ad63[_0x198d68(0x69a)]('TEL')||_0x38ad63[_0x198d68(0x69a)]('EMAIL')),_0x4bc7e5='';return _0x5dbd19[_0x198d68(0x458)](_0x32622c=>{const _0x2e59b4=_0x198d68;let _0x244777=/TEL(?:.*):(.+)/,_0x4e85ea=/EMAIL(?:.*):(.+)/,_0x2a3c5e=_0x32622c[_0x2e59b4(0x6fb)](_0x244777),_0x252a4e=_0x32622c[_0x2e59b4(0x6fb)](_0x4e85ea);if(_0x2a3c5e){let _0x3eccb2=_0x2a3c5e[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x2e59b4(0x50a)]();_0x4bc7e5+=_0x2e59b4(0x375)+_0x3eccb2+'\x0a';}else{if(_0x252a4e){let _0x573ff5=_0x252a4e[0x1][_0x2e59b4(0x50a)]();_0x4bc7e5+=_0x2e59b4(0x694)+_0x573ff5+'\x0a';}}}),_0x4bc7e5[_0x198d68(0x50a)]();}async['updateChatWithMessage'](_0x329d7c,_0x3a3331,_0x46cdf5){const _0x373cb1=a0_0xac1afc;let _0x15aadf=_0x3a3331[_0x373cb1(0x456)][_0x373cb1(0x49c)],_0x86217d=_0x3a3331[_0x373cb1(0x456)][_0x373cb1(0x1e3)],_0x3cf324=_0x15aadf[_0x373cb1(0x31a)]('@g.us');if(!_0x329d7c[_0x373cb1(0x753)])return;let _0x168511={'$set':{..._0x86217d?{'unreadcount':0x0,'lastmsg':_0x3a3331[_0x373cb1(0x23e)]||Date[_0x373cb1(0x536)]()}:{'lastmsg':_0x3a3331[_0x373cb1(0x23e)]||Date[_0x373cb1(0x536)]()},..._0x86217d||_0x3cf324?{}:{'name':_0x3a3331[_0x373cb1(0x379)]}},'$setOnInsert':{'group':_0x3cf324,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x86217d&&!_0x3cf324?{'leadInfo.nome':_0x3a3331[_0x373cb1(0x379)]}:{}},..._0x86217d?{}:{'$inc':{'unreadcount':0x1}}},_0x2aca67={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0xdb71d1=await I[_0x373cb1(0x794)]({'id':_0x15aadf,'owner':this[_0x373cb1(0x300)][_0x373cb1(0x30d)]},_0x168511,_0x2aca67);if(_0xdb71d1?(!_0x3cf324&&(!_0xdb71d1['leadInfo']||!_0xdb71d1[_0x373cb1(0x21f)][_0x373cb1(0x423)])&&_0x3a3331['pushName']&&!_0x86217d&&(_0x168511={'$set':{'leadInfo.nome':_0x3a3331[_0x373cb1(0x379)]}},_0xdb71d1=await I[_0x373cb1(0x794)]({'id':_0x15aadf,'owner':this[_0x373cb1(0x300)][_0x373cb1(0x30d)]},_0x168511,_0x2aca67)),G(this[_0x373cb1(0x624)],_0x373cb1(0x3ac),{'chat':_0xdb71d1})):this[_0x373cb1(0x3a1)]['error'](this[_0x373cb1(0x624)]+'\x20('+this[_0x373cb1(0x300)]['wuid']+_0x373cb1(0x3bf)),!this[_0x373cb1(0x38d)]?.['flowConfig'][_0x373cb1(0x453)])return this['logger'][_0x373cb1(0x227)](this[_0x373cb1(0x624)]+'\x20('+this['instance'][_0x373cb1(0x30d)]+_0x373cb1(0x37f)),null;if(_0xdb71d1['id']['includes']('@g.us')&&this['AutomateSystem']?.['flowConfig'][_0x373cb1(0x660)]===!0x0)return this[_0x373cb1(0x3a1)][_0x373cb1(0x227)](this[_0x373cb1(0x624)]+'\x20('+this[_0x373cb1(0x300)][_0x373cb1(0x30d)]+_0x373cb1(0x4d2)),null;if(_0xdb71d1[_0x373cb1(0x21f)]){if(_0xdb71d1[_0x373cb1(0x21f)][_0x373cb1(0x2a8)]===0x0||_0xdb71d1[_0x373cb1(0x21f)][_0x373cb1(0x56e)])return this[_0x373cb1(0x3a1)][_0x373cb1(0x227)](this['instanceName']+'\x20('+this['instance'][_0x373cb1(0x30d)]+_0x373cb1(0x546)+_0x15aadf+',\x20saindo.'),null;if(_0xdb71d1[_0x373cb1(0x21f)][_0x373cb1(0x2a8)]>Date[_0x373cb1(0x536)]())return this['logger'][_0x373cb1(0x227)](this[_0x373cb1(0x624)]+'\x20('+this['instance'][_0x373cb1(0x30d)]+_0x373cb1(0x758)+new Date(_0xdb71d1[_0x373cb1(0x21f)][_0x373cb1(0x2a8)])['toLocaleString']()+',\x20saindo.'),null;}this[_0x373cb1(0x3a1)][_0x373cb1(0x227)](this['instanceName']+'\x20('+this[_0x373cb1(0x300)][_0x373cb1(0x30d)]+_0x373cb1(0x482)),this[_0x373cb1(0x1e6)](_0x46cdf5,_0x3a3331,this[_0x373cb1(0x300)][_0x373cb1(0x30d)]);}async[a0_0xac1afc(0x3bd)](){const _0x41f353=a0_0xac1afc;let _0xca9092=await this[_0x41f353(0x754)][_0x41f353(0x4cb)][_0x41f353(0x621)]({'where':{'owner':this[_0x41f353(0x300)][_0x41f353(0x30d)]}}),_0x4b4212=0x0,_0x1dded1=[];for(let _0x3ab4e0 of _0xca9092)_0x1dded1[_0x41f353(0x4b4)]({'updateOne':{'filter':{'id':_0x3ab4e0['id'],'owner':this[_0x41f353(0x300)][_0x41f353(0x30d)]},'update':{'$set':{'contactname':_0x3ab4e0[_0x41f353(0x379)]}}}}),_0x1dded1['length']===0x1f4&&(_0x4b4212+=await this['performBulkUpdate'](_0x1dded1),_0x1dded1=[]);_0x1dded1[_0x41f353(0x4b8)]>0x0&&(_0x4b4212+=await this[_0x41f353(0x508)](_0x1dded1)),this[_0x41f353(0x3a1)][_0x41f353(0x227)](this['instanceName']+'\x20('+this[_0x41f353(0x300)][_0x41f353(0x30d)]+_0x41f353(0x4b0)+_0x4b4212+_0x41f353(0x60e)+this[_0x41f353(0x300)]['wuid']+_0x41f353(0x4ee));}async[a0_0xac1afc(0x508)](_0x5d9672){const _0x2e97ee=a0_0xac1afc;return(await I[_0x2e97ee(0x486)](_0x5d9672))[_0x2e97ee(0x415)];}async[a0_0xac1afc(0x410)](_0x543e8b,_0x30390c){const _0x5e0ed6=a0_0xac1afc;if(_0x30390c[_0x5e0ed6(0x753)]){let _0x163cd9=_0x543e8b[_0x5e0ed6(0x6d5)](async _0x51902a=>{const _0x592f2c=_0x5e0ed6;try{let _0x458bdc={'$set':{'id':_0x51902a['id'],'owner':_0x51902a[_0x592f2c(0x533)],'lastcache':0x0}};if(_0x51902a['group']!==null&&(_0x458bdc['$set'][_0x592f2c(0x516)]=_0x51902a[_0x592f2c(0x516)]),_0x51902a[_0x592f2c(0x587)]!==null&&(_0x458bdc[_0x592f2c(0x35d)][_0x592f2c(0x587)]=_0x51902a[_0x592f2c(0x587)]),_0x51902a[_0x592f2c(0x49d)]!==null&&(_0x458bdc['$set'][_0x592f2c(0x49d)]=_0x51902a['contactname']),_0x51902a[_0x592f2c(0x584)]!==null&&(_0x458bdc[_0x592f2c(0x35d)]['imagechat']=_0x51902a[_0x592f2c(0x584)]),_0x51902a[_0x592f2c(0x584)]===null&&(_0x458bdc['$set'][_0x592f2c(0x584)]=_0x592f2c(0x257)),_0x51902a[_0x592f2c(0x7ae)]!==null&&(_0x458bdc[_0x592f2c(0x35d)][_0x592f2c(0x7ae)]=_0x51902a[_0x592f2c(0x7ae)]),_0x51902a[_0x592f2c(0x290)]!==null&&(_0x458bdc[_0x592f2c(0x35d)]['archived']=_0x51902a['archived']),_0x51902a[_0x592f2c(0x222)]!==null&&(_0x458bdc['$set'][_0x592f2c(0x222)]=_0x51902a[_0x592f2c(0x222)]),Object['keys'](_0x458bdc['$set'])[_0x592f2c(0x4b8)]>0x0)return await I[_0x592f2c(0x794)]({'id':_0x51902a['id'],'owner':_0x51902a[_0x592f2c(0x533)]},_0x458bdc,{'new':!0x0,'upsert':!0x0});}catch(_0x5c6a2f){return console[_0x592f2c(0x558)](_0x592f2c(0x35b)+_0x51902a['id']+':',_0x5c6a2f),null;}}),_0x519bba=(await Promise[_0x5e0ed6(0x3e3)](_0x163cd9))['filter'](_0x3845f3=>_0x3845f3!==null)[_0x5e0ed6(0x4b8)];this[_0x5e0ed6(0x3a1)][_0x5e0ed6(0x227)](this[_0x5e0ed6(0x624)]+'\x20('+this['instance'][_0x5e0ed6(0x30d)]+_0x5e0ed6(0x4b0)+_0x519bba+_0x5e0ed6(0x60e)+this[_0x5e0ed6(0x300)]['wuid']+_0x5e0ed6(0x5df));}}async[a0_0xac1afc(0x4dd)](_0x315fc4){const _0x9f635e=a0_0xac1afc;this[_0x9f635e(0x3a1)][_0x9f635e(0x227)](this[_0x9f635e(0x624)]+'\x20('+this['instance']['wuid']+_0x9f635e(0x6af));let _0x4dd5c4={'readMessages':[{'remoteJid':_0x315fc4[_0x9f635e(0x6fc)][_0x9f635e(0x6d3)][_0x9f635e(0x456)][_0x9f635e(0x49c)],'fromMe':_0x315fc4[_0x9f635e(0x6fc)]['lastReceivedMessage'][_0x9f635e(0x456)][_0x9f635e(0x1e3)],'id':_0x315fc4[_0x9f635e(0x6fc)][_0x9f635e(0x6d3)][_0x9f635e(0x456)]['id']}]};await this[_0x9f635e(0x3f7)](_0x4dd5c4);}async[a0_0xac1afc(0x1e6)](_0xa04d03,_0x430e4a,_0x1ae997){const _0x1ee1ba=a0_0xac1afc;try{let {key:_0x300b7,message_normalized:_0x4e3356}=_0x430e4a,_0x4bd209=_0x4e3356,_0x49ef8c=_0x4e3356['text']||_0x4e3356[_0x1ee1ba(0x61c)]||_0x4e3356[_0x1ee1ba(0x544)]||_0x4e3356[_0x1ee1ba(0x587)],_0x312611=_0x300b7[_0x1ee1ba(0x49c)],_0x1f35d0;if(_0x4bd209[_0x1ee1ba(0x456)][_0x1ee1ba(0x1e3)]&&_0x49ef8c[_0x1ee1ba(0x50a)]()!==this[_0x1ee1ba(0x38d)]?.[_0x1ee1ba(0x6e4)]['stopConversation'][_0x1ee1ba(0x50a)]())return this['logger'][_0x1ee1ba(0x227)](this[_0x1ee1ba(0x624)]+'\x20('+this[_0x1ee1ba(0x300)][_0x1ee1ba(0x30d)]+_0x1ee1ba(0x57e)),null;if(_0x4bd209[_0x1ee1ba(0x456)]['fromMe']&&_0x49ef8c[_0x1ee1ba(0x50a)]()===this[_0x1ee1ba(0x38d)]?.[_0x1ee1ba(0x6e4)][_0x1ee1ba(0x710)][_0x1ee1ba(0x50a)]()){this['logger']['verbose'](this[_0x1ee1ba(0x624)]+'\x20('+this[_0x1ee1ba(0x300)]['wuid']+_0x1ee1ba(0x365));let _0x9472b4=await F[_0x1ee1ba(0x621)]({'owner':_0x1ae997,'remoteJid':_0x312611,'status':_0x1ee1ba(0x280)});this[_0x1ee1ba(0x3a1)]['verbose'](this[_0x1ee1ba(0x624)]+'\x20('+this[_0x1ee1ba(0x300)][_0x1ee1ba(0x30d)]+_0x1ee1ba(0x35c)+_0x9472b4);let _0x1eefba=Date[_0x1ee1ba(0x536)](),_0x43d8f7;return this['AutomateSystem']?.[_0x1ee1ba(0x6e4)][_0x1ee1ba(0x6ae)]===0x0?_0x43d8f7={'stoppedUntil':_0x1eefba+0x7591f6200}:_0x43d8f7={'stoppedUntil':_0x1eefba+this[_0x1ee1ba(0x38d)]?.[_0x1ee1ba(0x6e4)][_0x1ee1ba(0x6ae)]*0x3c*0x3e8},this['logger'][_0x1ee1ba(0x227)](this[_0x1ee1ba(0x624)]+'\x20('+this[_0x1ee1ba(0x300)]['wuid']+_0x1ee1ba(0x2f5)+_0x43d8f7),this[_0x1ee1ba(0x57f)](_0x1f35d0,_0x43d8f7[_0x1ee1ba(0x6cc)]),null;}if(_0x49ef8c&&_0x49ef8c[_0x1ee1ba(0x58b)](this[_0x1ee1ba(0x38d)]?.[_0x1ee1ba(0x6e4)][_0x1ee1ba(0x273)])&&_0x49ef8c[_0x1ee1ba(0x4b8)]>0x4){let _0x3ea587=await D['findOne']({'owner':_0x1ae997,'startCommandWord':_0x49ef8c});if(this['logger']['verbose'](this[_0x1ee1ba(0x624)]+'\x20('+this[_0x1ee1ba(0x300)][_0x1ee1ba(0x30d)]+_0x1ee1ba(0x445)),_0x3ea587)_0x1f35d0=await this[_0x1ee1ba(0x51f)](_0x3ea587,_0x4bd209[_0x1ee1ba(0x456)],_0x4bd209);else return this['logger'][_0x1ee1ba(0x227)](this[_0x1ee1ba(0x624)]+'\x20('+this['instance'][_0x1ee1ba(0x30d)]+_0x1ee1ba(0x3b7)),null;}else _0x1f35d0=await this[_0x1ee1ba(0x451)](_0x1ae997,_0x312611,_0x4bd209);if(_0x1f35d0){this[_0x1ee1ba(0x3a1)]['verbose'](this[_0x1ee1ba(0x624)]+'\x20('+this[_0x1ee1ba(0x300)][_0x1ee1ba(0x30d)]+_0x1ee1ba(0x2e3)),!_0x300b7[_0x1ee1ba(0x1e3)]&&_0x1f35d0[_0x1ee1ba(0x358)]&&this[_0x1ee1ba(0x4dd)](_0x1f35d0);let _0x1c60ff=await this[_0x1ee1ba(0x27c)](_0x1f35d0);_0x1c60ff&&await this['processblock'](_0x1f35d0,_0x1c60ff,_0x1f35d0[_0x1ee1ba(0x49c)]);}}catch(_0x49f2af){this[_0x1ee1ba(0x3a1)][_0x1ee1ba(0x558)](this[_0x1ee1ba(0x624)]+'\x20('+this[_0x1ee1ba(0x300)][_0x1ee1ba(0x30d)]+_0x1ee1ba(0x5d9)+_0x49f2af);}}['flattenObject'](_0x5c47fb,_0x25cf56='',_0x183187={},_0x5e2e40=!0x0){const _0x4af1ca=a0_0xac1afc;for(let _0x46b7f8 in _0x5c47fb){let _0x19e33d=_0x5e2e40?'_'+_0x46b7f8:''+_0x25cf56+_0x46b7f8;typeof _0x5c47fb[_0x46b7f8]==_0x4af1ca(0x5de)&&_0x5c47fb[_0x46b7f8]!==null?this['flattenObject'](_0x5c47fb[_0x46b7f8],_0x19e33d+'.',_0x183187,!0x1):_0x183187[_0x19e33d]=String(_0x5c47fb[_0x46b7f8]);}return _0x183187;}['variablesToObject'](_0x4895c0){const _0x111934=a0_0xac1afc;let _0x1c3fe8={};for(let _0x43cccd of _0x4895c0)typeof _0x43cccd[_0x111934(0x587)]=='string'&&typeof _0x43cccd['value']==_0x111934(0x70e)&&(_0x1c3fe8[_0x43cccd['name']]=_0x43cccd[_0x111934(0x1fc)]);return _0x1c3fe8;}async[a0_0xac1afc(0x27c)](_0x5427e9){const _0xd07de8=a0_0xac1afc;if(!this[_0xd07de8(0x38d)]?.['flowConfig'][_0xd07de8(0x453)]||_0x5427e9[_0xd07de8(0x798)]!==_0xd07de8(0x280)&&_0x5427e9['waitingPoll_id']==='')return null;let _0x2088f4=_0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x38f)]||_0xd07de8(0x556);typeof _0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x2d4)]>'u'&&(_0x5427e9[_0xd07de8(0x6fc)]['lastCondition']=!0x0);let _0xe696f1=_0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x2d4)];this[_0xd07de8(0x3a1)][_0xd07de8(0x227)](this[_0xd07de8(0x624)]+'\x20('+this['instance'][_0xd07de8(0x30d)]+'):\x20lastBlockId:\x20'+_0x2088f4+_0xd07de8(0x777)+_0xe696f1);let _0x20797d=_0x2088f4===_0xd07de8(0x556)?_0x5427e9[_0xd07de8(0x38c)][_0xd07de8(0x621)](_0x3d07ad=>_0x3d07ad[_0xd07de8(0x2da)]==='start'):_0x5427e9[_0xd07de8(0x38c)][_0xd07de8(0x621)](_0x375521=>_0x375521[_0xd07de8(0x38b)][_0xd07de8(0x344)]()===_0x2088f4[_0xd07de8(0x344)]());if(!_0x20797d)return this[_0xd07de8(0x3a1)]['error'](this[_0xd07de8(0x624)]+'\x20('+this['instance'][_0xd07de8(0x30d)]+_0xd07de8(0x303)+_0x2088f4),null;let _0x3549c7={'_pushName':_0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x6d3)][_0xd07de8(0x379)],..._0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x6fa)]},_0x37dba6=null;if(_0x5427e9[_0xd07de8(0x5c5)]){let _0x1d60d1=_0x5427e9['chatLog'][_0xd07de8(0x6d3)]['vote'],_0x46073e=_0x5427e9['waitingPoll_replyOptions'][_0xd07de8(0x621)](_0x8c781a=>_0x8c781a[_0xd07de8(0x5fc)]===_0x1d60d1);if(_0x46073e){let _0x2b5894=_0x46073e[_0xd07de8(0x575)];if(_0x37dba6=_0x5427e9[_0xd07de8(0x38c)][_0xd07de8(0x621)](_0x2b26b8=>_0x2b26b8['groupId']===_0x2b5894&&_0x2b26b8[_0xd07de8(0x3c5)]===0x1),_0x20797d['uazapi'][_0xd07de8(0x41a)]){let _0x45eb7b={'id':_0x5427e9['waitingPoll_id'],'remoteJid':_0x5427e9[_0xd07de8(0x49c)],'fromMe':!0x0};await this[_0xd07de8(0x627)](_0x45eb7b);}if(_0x20797d[_0xd07de8(0x5f8)]['pollOnReplyDelete']&&_0x20797d[_0xd07de8(0x5f8)][_0xd07de8(0x470)]){let _0xbf0917={'number':_0x5427e9[_0xd07de8(0x49c)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x5427e9['waitingPoll_name']+'\x0a*Você\x20respondeu*:\x0a'+_0x1d60d1}};await this[_0xd07de8(0x623)](_0xbf0917);}_0x5427e9[_0xd07de8(0x798)]='open',_0x5427e9[_0xd07de8(0x5c5)]='',_0x5427e9[_0xd07de8(0x346)]='',_0x5427e9['waitingPoll_replyOptions']=[];}else{this[_0xd07de8(0x3a1)][_0xd07de8(0x227)](this[_0xd07de8(0x624)]+'\x20('+this[_0xd07de8(0x300)][_0xd07de8(0x30d)]+_0xd07de8(0x449));let _0x5e01fb={'activatedCount':_0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x659)][_0xd07de8(0x207)](_0x5b08f3=>String(_0x5b08f3[_0xd07de8(0x499)])===String(_0x2088f4))[_0xd07de8(0x4b8)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x20797d[_0xd07de8(0x5f8)][_0xd07de8(0x255)]){let _0x324c7b={'number':_0x5427e9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x20797d[_0xd07de8(0x5f8)][_0xd07de8(0x255)]}};await this[_0xd07de8(0x623)](_0x324c7b);}if(_0x20797d[_0xd07de8(0x62a)]!==void 0x0&&_0x5e01fb['activatedCount']>=_0x20797d['maxActives']){let _0x25c07c=Date[_0xd07de8(0x536)](),_0x44201f=_0x20797d[_0xd07de8(0x314)]??0xa;isNaN(_0x44201f)&&(_0x44201f=0xa);let _0x3472d4=_0x25c07c+_0x44201f*0x3c*0x3e8;_0x5e01fb[_0xd07de8(0x2b2)]=_0x3472d4,_0x5e01fb[_0xd07de8(0x5e9)][_0xd07de8(0x4b4)](_0xd07de8(0x47a)),this['updateStopChat'](_0x5427e9,_0x3472d4),_0x5427e9[_0xd07de8(0x5c5)]='',_0x5427e9[_0xd07de8(0x346)]='',_0x5427e9[_0xd07de8(0x45f)]=[];}return this[_0xd07de8(0x66e)](_0x5427e9,_0x20797d,_0x5e01fb,!0x0),null;}}if(_0xe696f1&&_0x20797d[_0xd07de8(0x575)]&&!_0x5427e9[_0xd07de8(0x5c5)]){let _0xed0b0a=_0x5427e9[_0xd07de8(0x38c)][_0xd07de8(0x207)](_0x5dec17=>_0x5dec17[_0xd07de8(0x769)]['toString']()===_0x20797d[_0xd07de8(0x575)][_0xd07de8(0x344)]())[_0xd07de8(0x1cf)]((_0x1ecbe5,_0x346dd4)=>_0x1ecbe5[_0xd07de8(0x3c5)]-_0x346dd4['order']);_0xed0b0a[_0xd07de8(0x4b8)]>0x0&&(_0x37dba6=_0xed0b0a[0x0]);}if(!_0x37dba6){let _0x270ba1=_0x20797d[_0xd07de8(0x769)],_0x1f5506=_0x5427e9[_0xd07de8(0x38c)][_0xd07de8(0x207)](_0x192637=>_0x192637[_0xd07de8(0x769)]===_0x270ba1&&_0x192637[_0xd07de8(0x3c5)]>_0x20797d[_0xd07de8(0x3c5)])[_0xd07de8(0x1cf)]((_0x2f1557,_0x1ec679)=>_0x2f1557[_0xd07de8(0x3c5)]-_0x1ec679[_0xd07de8(0x3c5)]);_0x1f5506[_0xd07de8(0x4b8)]>0x0&&(_0x37dba6=_0x1f5506[0x0]);}if(!_0x37dba6)return _0x5427e9[_0xd07de8(0x798)]=_0xd07de8(0x3e8),null;_0x5427e9[_0xd07de8(0x6fc)]['realVariables']=_0x3549c7;let _0xf0dab6=JSON[_0xd07de8(0x61f)](JSON[_0xd07de8(0x47f)](_0x37dba6));return this['replaceVariablesInObject'](_0xf0dab6,_0x5427e9['chatLog'][_0xd07de8(0x6fa)]),_0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x38f)]=_0xf0dab6[_0xd07de8(0x38b)],_0x5427e9[_0xd07de8(0x6fc)][_0xd07de8(0x2d4)]=!0x0,_0xf0dab6;}[a0_0xac1afc(0x261)](_0x14c179,_0x4bba6c){return _0x14c179['replace'](/\{\{([^}]+)\}\}/g,(_0x275d92,_0x3d98b8)=>_0x4bba6c[_0x3d98b8]||'');}[a0_0xac1afc(0x401)](_0x34bafc,_0x3dc8ba){const _0x4b6494=a0_0xac1afc;for(let _0x4f50fe in _0x34bafc)typeof _0x34bafc[_0x4f50fe]==_0x4b6494(0x70e)?_0x34bafc[_0x4f50fe]=this['replaceVariables'](_0x34bafc[_0x4f50fe],_0x3dc8ba):typeof _0x34bafc[_0x4f50fe]==_0x4b6494(0x5de)&&this[_0x4b6494(0x401)](_0x34bafc[_0x4f50fe],_0x3dc8ba);}async['goNextblock'](_0x4cbeae,_0x2d301d){const _0x524460=a0_0xac1afc;let _0x3f4530=_0x2d301d[_0x524460(0x38b)];if(_0x4cbeae[_0x524460(0x6fc)]&&_0x4cbeae[_0x524460(0x6fc)][_0x524460(0x659)]){let _0x35bddb=_0x4cbeae[_0x524460(0x6fc)][_0x524460(0x659)][_0x524460(0x207)](_0x1cde52=>String(_0x1cde52[_0x524460(0x499)])===String(_0x3f4530))[_0x524460(0x3b0)]();if(_0x35bddb&&_0x35bddb['error']&&_0x2d301d['stopIfLastReturnedError'])return _0x4cbeae[_0x524460(0x798)]='closed',await this['saveConversationToDatabase'](_0x4cbeae),null;}if(_0x2d301d['type']===_0x524460(0x5f8)&&_0x2d301d['uazapi'][_0x524460(0x796)]===_0x524460(0x2af)&&_0x4cbeae[_0x524460(0x5c5)])return _0x4cbeae[_0x524460(0x6fc)][_0x524460(0x38f)]=_0x3f4530,await this['saveConversationToDatabase'](_0x4cbeae),null;let _0x515409=await this[_0x524460(0x27c)](_0x4cbeae);if(_0x4cbeae[_0x524460(0x6fc)]&&_0x4cbeae['chatLog'][_0x524460(0x659)]){let _0x531ecd=_0x4cbeae[_0x524460(0x6fc)][_0x524460(0x659)][_0x524460(0x207)](_0xa374e1=>String(_0xa374e1['blockId'])===String(_0x3f4530))[_0x524460(0x4b8)];if(_0x2d301d[_0x524460(0x62a)]!==void 0x0&&_0x531ecd>=_0x2d301d[_0x524460(0x62a)]){let _0x32c7f4=Date[_0x524460(0x536)](),_0x15cd20=_0x2d301d['stopMinutesMaxActives']??0xa;isNaN(_0x15cd20)&&(_0x15cd20=0xa);let _0x1a314d=_0x32c7f4+_0x15cd20*0x3c*0x3e8,_0x2778b3={'newStoppedUntil':_0x1a314d};return this[_0x524460(0x57f)](_0x4cbeae,_0x1a314d),this[_0x524460(0x66e)](_0x4cbeae,_0x2d301d,_0x2778b3,!0x0),null;}}_0x515409&&_0x515409[_0x524460(0x2da)]!=='save'&&await this['processblock'](_0x4cbeae,_0x515409,_0x4cbeae[_0x524460(0x49c)]),_0x515409||await this[_0x524460(0x704)](_0x4cbeae),_0x515409&&_0x515409['type']==='save'&&(_0x4cbeae['chatLog'][_0x524460(0x38f)]=_0x3f4530,await this['saveConversationToDatabase'](_0x4cbeae));}async['processblock'](_0x254baa,_0x27bded,_0x5b6af8){const _0xbcaa9e=a0_0xac1afc;try{let _0x5dade0=_0x27bded['type'];this[_0xbcaa9e(0x3a1)]['verbose'](this[_0xbcaa9e(0x624)]+'\x20('+this[_0xbcaa9e(0x300)]['wuid']+'):\x20Going\x20to\x20'+_0x5dade0);let _0x16f3f5={'uazapi':()=>this[_0xbcaa9e(0x3cd)](_0x254baa,_0x27bded,_0x5b6af8),'save':()=>this[_0xbcaa9e(0x73c)](_0x254baa,_0x27bded),'stop':()=>this[_0xbcaa9e(0x710)](_0x254baa,_0x27bded),'condition':()=>this[_0xbcaa9e(0x676)](_0x254baa,_0x27bded),'varedit':()=>this[_0xbcaa9e(0x673)](_0x254baa,_0x27bded),'apirequest':()=>this[_0xbcaa9e(0x532)](_0x254baa,_0x27bded),'goToFlow':()=>this['processgoToFlow'](_0x254baa,_0x27bded)}[_0x5dade0];_0x16f3f5&&await _0x16f3f5();}catch(_0x1bb62b){this[_0xbcaa9e(0x3a1)][_0xbcaa9e(0x558)](this[_0xbcaa9e(0x624)]+'\x20('+this['instance']['wuid']+_0xbcaa9e(0x473)+_0x1bb62b);}}async[a0_0xac1afc(0x677)](_0x483839,_0x22804d){const _0x3b65e4=a0_0xac1afc;if(this[_0x3b65e4(0x3a1)][_0x3b65e4(0x227)](this['instanceName']+'\x20('+this['instance'][_0x3b65e4(0x30d)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x483839||!_0x22804d)return this[_0x3b65e4(0x3a1)][_0x3b65e4(0x558)](this[_0x3b65e4(0x624)]+'\x20('+this['instance']['wuid']+_0x3b65e4(0x45b)),null;await this['updateConversation'](_0x483839,_0x22804d,{},!0x0,!0x0),console[_0x3b65e4(0x2b0)](_0x3b65e4(0x690)),console[_0x3b65e4(0x2b0)](_0x22804d);let _0x3b6117=_0x22804d['goToFlow'];console[_0x3b65e4(0x2b0)](_0x3b65e4(0x481),_0x3b6117),_0x483839=await this[_0x3b65e4(0x1d8)](_0x3b6117,_0x483839[_0x3b65e4(0x49c)],_0x483839[_0x3b65e4(0x6fc)]['realVariables']),this[_0x3b65e4(0x3a1)][_0x3b65e4(0x227)](this[_0x3b65e4(0x624)]+'\x20('+this[_0x3b65e4(0x300)][_0x3b65e4(0x30d)]+_0x3b65e4(0x562));let _0x23766a=await this[_0x3b65e4(0x27c)](_0x483839);_0x23766a&&await this[_0x3b65e4(0x651)](_0x483839,_0x23766a,_0x483839[_0x3b65e4(0x49c)]);}async[a0_0xac1afc(0x1d8)](_0x55f4f4,_0x2c8df5,_0xe02a21){const _0x3f2868=a0_0xac1afc;this[_0x3f2868(0x3a1)][_0x3f2868(0x227)](this[_0x3f2868(0x624)]+'\x20('+this['instance'][_0x3f2868(0x30d)]+_0x3f2868(0x25e));try{if(_0x55f4f4=await D['findOne']({'owner':this['instance']['wuid'],'name':_0x55f4f4}),!_0x55f4f4)return this['logger'][_0x3f2868(0x558)](this[_0x3f2868(0x624)]+'\x20('+this[_0x3f2868(0x300)][_0x3f2868(0x30d)]+_0x3f2868(0x586)),null;let _0x9af6a=require(_0x3f2868(0x5e8))['ObjectId'],_0x5f5c8c=Date[_0x3f2868(0x536)](),_0x5081c4='start',_0x4ab3ca={},_0x10a420={},_0x2a7da3={..._0x55f4f4[_0x3f2868(0x360)],'chatLog':null},_0x169922={'lastReceivedMessage':_0x4ab3ca,'lastSendMessage':_0x10a420,'lastBlockId':_0x5081c4,'lastCondition':!0x0,'realVariables':_0xe02a21};_0x2a7da3[_0x3f2868(0x6fc)]=_0x169922,_0x2a7da3['chatLog']['realVariables']={..._0xe02a21},delete _0x2a7da3[_0x3f2868(0x38b)],_0x2a7da3[_0x3f2868(0x38b)]=new _0x9af6a(),_0x2a7da3['lastInteraction']=_0x5f5c8c,_0x2a7da3[_0x3f2868(0x798)]='open',_0x2a7da3['remoteJid']=_0x2c8df5;let _0x596fb7=await F[_0x3f2868(0x6a6)](_0x2a7da3);return this['logger'][_0x3f2868(0x227)](this['instanceName']+'\x20('+this[_0x3f2868(0x300)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x596fb7?_0x2a7da3:null;}catch(_0x5953b2){throw this[_0x3f2868(0x3a1)]['error'](this[_0x3f2868(0x624)]+'\x20('+this['instance'][_0x3f2868(0x30d)]+_0x3f2868(0x6f1)+_0x5953b2),new g(_0x5953b2['message']);}}async[a0_0xac1afc(0x532)](_0x1cbf70,_0x12aab5){const _0x3ce298=a0_0xac1afc;let _0x1645ca,_0x54bfb1;try{let _0x2b49bf=_0x12aab5[_0x3ce298(0x5a2)];if(!_0x2b49bf||!_0x2b49bf[_0x3ce298(0x55f)]||!_0x2b49bf[_0x3ce298(0x517)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x1a711e={'method':_0x2b49bf[_0x3ce298(0x517)],'url':_0x2b49bf[_0x3ce298(0x55f)],'headers':_0x2b49bf[_0x3ce298(0x565)]||{},'data':_0x2b49bf[_0x3ce298(0x1f9)]||{}};_0x1645ca=(await(0x0,ue[_0x3ce298(0x5fe)])(_0x1a711e))[_0x3ce298(0x713)];let _0x1d1d5d=_0x1cbf70['chatLog'][_0x3ce298(0x6fa)],_0x2ec2db=this[_0x3ce298(0x65e)](_0x1645ca);return Object['assign'](_0x1d1d5d,_0x2ec2db),_0x1cbf70['chatLog'][_0x3ce298(0x6fa)]=_0x1d1d5d,_0x54bfb1={'error':!0x1,'apiResponse':_0x1645ca},this['updateConversation'](_0x1cbf70,_0x12aab5,_0x54bfb1),_0x1645ca;}catch(_0x503059){console[_0x3ce298(0x558)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x503059),_0x503059['response']&&(_0x1645ca=_0x503059['response'][_0x3ce298(0x713)]);let _0x1d504f=_0x1cbf70['chatLog'][_0x3ce298(0x6fa)],_0x9825cb=this[_0x3ce298(0x65e)](_0x1645ca);return Object[_0x3ce298(0x512)](_0x1d504f,_0x9825cb),_0x1cbf70['chatLog'][_0x3ce298(0x6fa)]=_0x1d504f,_0x54bfb1={'error':!0x0,'errorLog':_0x503059['toString'](),'apiResponse':_0x1645ca},this[_0x3ce298(0x66e)](_0x1cbf70,_0x12aab5,_0x54bfb1),{'success':!0x1};}}[a0_0xac1afc(0x218)](_0x338869,_0x366214){const _0x2be63a=a0_0xac1afc;let _0x1dfb98=_0x4d4142=>{const _0x1af408=a0_0x4f0a;let _0x156623=_0x4d4142['replace'](/[^0-9.,-]/g,'')[_0x1af408(0x5fa)](',','.'),_0xa72803=parseFloat(_0x156623);return isNaN(_0xa72803)?null:_0xa72803;},_0x4f7815=_0x366214['firstValue'],_0x4540d9=_0x366214[_0x2be63a(0x5d5)];typeof _0x4f7815==_0x2be63a(0x70e)&&(_0x4f7815=this['replaceVariables'](_0x4f7815,_0x338869['chatLog'][_0x2be63a(0x6fa)])??''),typeof _0x4540d9=='string'&&(_0x4540d9=this[_0x2be63a(0x261)](_0x4540d9,_0x338869['chatLog'][_0x2be63a(0x6fa)])??'');let _0x1d190d=null;if(!_0x4f7815||!_0x366214['editOperator'])return null;switch(this[_0x2be63a(0x3a1)]['verbose'](this[_0x2be63a(0x624)]+'\x20('+this['instance'][_0x2be63a(0x30d)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x4f7815),this['logger'][_0x2be63a(0x227)](this['instanceName']+'\x20('+this[_0x2be63a(0x300)][_0x2be63a(0x30d)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x4540d9),_0x366214[_0x2be63a(0x200)]){case'+':case'-':case'*':case'/':let _0x5f0300=_0x1dfb98(_0x4f7815),_0x500905=_0x1dfb98(_0x4540d9||'0');if(_0x5f0300===null)return null;switch(_0x366214['editOperator']){case'+':_0x1d190d=_0x5f0300+(_0x500905??0x0);break;case'-':_0x1d190d=_0x5f0300-(_0x500905??0x0);break;case'*':_0x1d190d=_0x5f0300*(_0x500905??0x1);break;case'/':_0x500905!==0x0&&(_0x1d190d=_0x5f0300/(_0x500905??0x1));break;}break;case _0x2be63a(0x5bd):case _0x2be63a(0x219):let _0x16e81e=_0x4540d9,_0x45cf8e=_0x366214['replaceValue'];if(typeof _0x45cf8e==_0x2be63a(0x70e)&&(_0x45cf8e=this[_0x2be63a(0x261)](_0x45cf8e,_0x338869[_0x2be63a(0x6fc)][_0x2be63a(0x6fa)])??''),_0x16e81e&&_0x45cf8e!==void 0x0){let _0x1e5081=_0x366214[_0x2be63a(0x200)]==='findAndReplace'?new RegExp(_0x16e81e[_0x2be63a(0x5fa)](/[-\/\\^$*+?.()|[\]{}]/g,_0x2be63a(0x696)),'g'):new RegExp(_0x16e81e,'g');_0x1d190d=_0x4f7815[_0x2be63a(0x5fa)](_0x1e5081,_0x45cf8e);}else console[_0x2be63a(0x234)](_0x2be63a(0x25f));break;case _0x2be63a(0x5f5):_0x1d190d=_0x4540d9;break;case _0x2be63a(0x1dd):let _0x3d9b57=_0x4f7815[_0x2be63a(0x6fb)](new RegExp(_0x4540d9||''));_0x1d190d=_0x3d9b57?_0x3d9b57[0x0]:'';break;case _0x2be63a(0x666):_0x1d190d=_0x4f7815[_0x2be63a(0x28a)](0x0,parseInt(_0x4540d9||'0'));break;case _0x2be63a(0x67c):let _0x2ad913=parseInt(_0x4540d9||'0');_0x1d190d=_0x4f7815[_0x2be63a(0x28a)](_0x4f7815['length']-_0x2ad913);break;case _0x2be63a(0x26e):let _0x5884a4=_0x1dfb98(_0x4f7815),_0x57848c=parseInt(_0x4540d9||'0');_0x57848c=Math[_0x2be63a(0x54f)](_0x57848c),_0x5884a4!==null?_0x1d190d=_0x5884a4[_0x2be63a(0x484)](_0x2be63a(0x361),{'minimumFractionDigits':_0x57848c,'maximumFractionDigits':_0x57848c}):(console[_0x2be63a(0x234)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x4f7815),_0x1d190d=null);break;case _0x2be63a(0x40f):let _0x39e3ac=_0x1dfb98(_0x4f7815);_0x39e3ac!==null?_0x1d190d=_0x39e3ac[_0x2be63a(0x484)](_0x2be63a(0x361),{'style':_0x2be63a(0x607),'currency':'BRL'}):(console[_0x2be63a(0x234)](_0x2be63a(0x66d)+_0x4f7815),_0x1d190d=null);break;case'upperCase':_0x1d190d=_0x4f7815['toUpperCase']();break;case'lowerCase':_0x1d190d=_0x4f7815[_0x2be63a(0x25c)]();break;case'capitalizedWords':_0x1d190d=_0x4f7815[_0x2be63a(0x5bf)]('\x20')[_0x2be63a(0x6d5)](_0x3d3a73=>_0x3d3a73['charAt'](0x0)['toUpperCase']()+_0x3d3a73[_0x2be63a(0x28a)](0x1)[_0x2be63a(0x25c)]())[_0x2be63a(0x4c5)]('\x20');break;case _0x2be63a(0x1ca):_0x1d190d=_0x4f7815[_0x2be63a(0x50a)]();break;default:_0x1d190d=_0x4f7815;}return _0x1d190d!==null?_0x1d190d['toString']():null;}async['processvaredits'](_0x228668,_0x269219){const _0x1e2f59=a0_0xac1afc;try{let _0x1ad279=_0x228668['varedits']?.['filter'](_0x23f721=>_0x23f721[_0x1e2f59(0x499)]===_0x269219[_0x1e2f59(0x38b)]?.[_0x1e2f59(0x344)]())||[],_0x3eef95=_0x269219[_0x1e2f59(0x625)],_0x3d1c20=null,_0x3a8b88=[],_0x40ead4=_0x228668[_0x1e2f59(0x6fc)][_0x1e2f59(0x6fa)][_0x3eef95];_0x3a8b88[_0x1e2f59(0x4b4)](_0x1e2f59(0x4bb)+_0x40ead4+'\x22');for(let _0x2ff8db of _0x1ad279){_0x2ff8db[_0x1e2f59(0x2e1)]=_0x40ead4,_0x3d1c20=_0x2ff8db[_0x1e2f59(0x2e1)];let _0x45f168;try{_0x45f168=this[_0x1e2f59(0x218)](_0x228668,_0x2ff8db);}catch(_0x65b026){console[_0x1e2f59(0x558)](_0x1e2f59(0x430)+_0x65b026['message']);continue;}if(_0x45f168!==null){let _0x16b6f2=_0x1e2f59(0x5c7)+_0x2ff8db[_0x1e2f59(0x200)]+'\x22',_0x54cc03=['toBRL','upperCase',_0x1e2f59(0x50d),_0x1e2f59(0x5f7),_0x1e2f59(0x1ca)];_0x2ff8db[_0x1e2f59(0x200)]===_0x1e2f59(0x5bd)||_0x2ff8db['editOperator']===_0x1e2f59(0x219)?_0x16b6f2+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x2ff8db[_0x1e2f59(0x5d5)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x2ff8db[_0x1e2f59(0x1e5)]+'\x22':!_0x54cc03['includes'](_0x2ff8db['editOperator'])&&_0x2ff8db[_0x1e2f59(0x5d5)]!==null&&_0x2ff8db[_0x1e2f59(0x5d5)]!==void 0x0&&(_0x16b6f2+=_0x1e2f59(0x32a)+_0x2ff8db[_0x1e2f59(0x5d5)]+'\x22'),_0x16b6f2+=',\x20resultado:\x20'+_0x45f168+'.',_0x3a8b88[_0x1e2f59(0x4b4)](_0x16b6f2);}_0x45f168!==null&&(_0x40ead4=_0x45f168);}if(_0x228668['chatLog']['realVariables']&&_0x269219['saveVariable']){_0x228668[_0x1e2f59(0x6fc)][_0x1e2f59(0x6fa)][_0x269219[_0x1e2f59(0x625)]]=_0x40ead4;let _0x3aa3a3={'variable':_0x269219[_0x1e2f59(0x625)],'oldValue':_0x3d1c20,'newValue':_0x40ead4,'moreLogs':_0x3a8b88};try{this[_0x1e2f59(0x66e)](_0x228668,_0x269219,_0x3aa3a3);}catch(_0x189aa4){console['error'](_0x1e2f59(0x1e7)+_0x189aa4[_0x1e2f59(0x4e5)]);}}return _0x3eef95;}catch(_0x24314f){return console[_0x1e2f59(0x558)](_0x1e2f59(0x693)+_0x24314f[_0x1e2f59(0x4e5)]),null;}}async['processConditions'](_0x2d62a9,_0x3238c9){const _0x59a9a0=a0_0xac1afc;try{let _0xc102bd=[],_0x4d3e8d=_0x2d62a9[_0x59a9a0(0x4bc)][_0x59a9a0(0x207)](_0x43c103=>_0x43c103[_0x59a9a0(0x499)]===_0x3238c9['_id']['toString']()),_0x1af218=null,_0x300ccc=!0x1;for(let _0x1309f2 of _0x4d3e8d){let _0x12887c=this[_0x59a9a0(0x4a3)](_0x2d62a9,_0x1309f2);_0xc102bd[_0x59a9a0(0x4b4)](_0x59a9a0(0x439)+_0x1309f2[_0x59a9a0(0x2e1)]+_0x59a9a0(0x3f5)+_0x1309f2[_0x59a9a0(0x6ca)]+',\x20Segundo\x20Valor:\x20'+_0x1309f2[_0x59a9a0(0x5d5)]+_0x59a9a0(0x3bc)+_0x12887c),_0x1af218===null?_0x1af218=_0x12887c:_0x1309f2['OrAnd']===_0x59a9a0(0x3a5)?(_0x1af218=_0x1af218&&_0x12887c,_0x12887c||(_0x300ccc=!0x0)):_0x1309f2['OrAnd']==='or'&&(_0x300ccc||(_0x1af218=_0x1af218||_0x12887c));}_0x1af218===null&&(_0x1af218=!0x0);let _0x491b22={'moreLogs':_0xc102bd};_0x2d62a9[_0x59a9a0(0x6fc)][_0x59a9a0(0x2d4)]=_0x1af218,await this['updateConversation'](_0x2d62a9,_0x3238c9,_0x491b22);}catch(_0xd07873){this['logger'][_0x59a9a0(0x558)](this[_0x59a9a0(0x624)]+'\x20('+this['instance'][_0x59a9a0(0x30d)]+_0x59a9a0(0x464)+_0xd07873);}}['evaluateCondition'](_0x4b75c0,_0x14d32e){const _0x4666b0=a0_0xac1afc;let _0x293c78=_0x14d32e[_0x4666b0(0x2e1)],_0x3c47b1=_0x14d32e[_0x4666b0(0x5d5)];typeof _0x293c78=='string'&&(_0x293c78=this[_0x4666b0(0x261)](_0x293c78,_0x4b75c0[_0x4666b0(0x6fc)][_0x4666b0(0x6fa)])??''),typeof _0x3c47b1==_0x4666b0(0x70e)&&(_0x3c47b1=this[_0x4666b0(0x261)](_0x3c47b1,_0x4b75c0['chatLog']['realVariables'])??'');try{switch(_0x14d32e[_0x4666b0(0x6ca)]){case _0x4666b0(0x3f8):return _0x293c78===_0x3c47b1;case _0x4666b0(0x477):return _0x293c78!==_0x3c47b1;case _0x4666b0(0x594):return _0x293c78[_0x4666b0(0x69a)](_0x3c47b1);case'notContains':return!_0x293c78['includes'](_0x3c47b1);case _0x4666b0(0x23f):return parseFloat(_0x293c78)>parseFloat(_0x3c47b1);case _0x4666b0(0x65f):return parseFloat(_0x293c78)<parseFloat(_0x3c47b1);case'notEmpty':return _0x293c78!=='';case _0x4666b0(0x697):return _0x293c78==='';case _0x4666b0(0x354):return new RegExp(_0x3c47b1)['test'](_0x293c78);case _0x4666b0(0x3f6):return!new RegExp(_0x3c47b1)[_0x4666b0(0x2a9)](_0x293c78);default:return!0x1;}}catch(_0x198fb8){return console[_0x4666b0(0x558)](_0x4666b0(0x5ee)+_0x198fb8),!0x1;}}['processConditionsTest'](_0x432ace){const _0x39af50=a0_0xac1afc;let _0x3c048d=!0x0,_0x3dd403=null;for(let _0x51e183 of _0x432ace){let _0x5f1131=this[_0x39af50(0x2d8)](_0x51e183);if(_0x3dd403==='or'&&_0x5f1131){_0x3c048d=!0x0;break;}if(_0x3dd403==='and'&&!_0x5f1131){_0x3c048d=!0x1;break;}_0x3dd403=_0x51e183[_0x39af50(0x2f8)];}return _0x3c048d;}[a0_0xac1afc(0x2d8)](_0x445b68){const _0x148c7c=a0_0xac1afc;let _0x19a6da=_0x445b68[_0x148c7c(0x2e1)],_0x44d305=_0x445b68['secondValue'];try{switch(_0x445b68[_0x148c7c(0x6ca)]){case _0x148c7c(0x3f8):return String(_0x19a6da)===String(_0x44d305);case _0x148c7c(0x477):return String(_0x19a6da)!==String(_0x44d305);case'contains':return String(_0x19a6da)[_0x148c7c(0x69a)](String(_0x44d305));case _0x148c7c(0x61d):return!String(_0x19a6da)[_0x148c7c(0x69a)](String(_0x44d305));case _0x148c7c(0x23f):return parseFloat(String(_0x19a6da))>parseFloat(String(_0x44d305));case _0x148c7c(0x65f):return parseFloat(String(_0x19a6da))<parseFloat(String(_0x44d305));case _0x148c7c(0x2fb):return String(_0x19a6da)!=='';case _0x148c7c(0x697):return String(_0x19a6da)==='';case _0x148c7c(0x354):return new RegExp(String(_0x44d305))[_0x148c7c(0x2a9)](String(_0x19a6da));case _0x148c7c(0x3f6):return!new RegExp(String(_0x44d305))[_0x148c7c(0x2a9)](String(_0x19a6da));default:return!0x1;}}catch(_0x5c02fd){return console[_0x148c7c(0x558)](_0x148c7c(0x5ee)+_0x5c02fd),!0x1;}}async['saveTextReply'](_0x5e03cf,_0x293656){const _0x23e052=a0_0xac1afc;if(this[_0x23e052(0x3a1)]['verbose'](this[_0x23e052(0x624)]+'\x20('+this[_0x23e052(0x300)][_0x23e052(0x30d)]+_0x23e052(0x203)),!_0x5e03cf||!_0x293656)return this[_0x23e052(0x3a1)]['error'](this[_0x23e052(0x624)]+'\x20('+this[_0x23e052(0x300)][_0x23e052(0x30d)]+_0x23e052(0x45b)),null;let _0x3df551=_0x293656['saveVariable'],_0x5024ae=_0x5e03cf[_0x23e052(0x6fc)][_0x23e052(0x6d3)][_0x23e052(0x6a5)]||_0x5e03cf['chatLog'][_0x23e052(0x6d3)]['caption']||_0x5e03cf[_0x23e052(0x6fc)]['lastReceivedMessage'][_0x23e052(0x544)];try{_0x5e03cf[_0x23e052(0x6fc)][_0x23e052(0x6fa)]||(_0x5e03cf['chatLog']['realVariables']={});let _0xe75cfe=_0x5e03cf[_0x23e052(0x6fc)][_0x23e052(0x6fa)][_0x3df551];_0x5e03cf[_0x23e052(0x6fc)][_0x23e052(0x6fa)][_0x3df551]=_0x5024ae;let _0x4702d9={'variable':_0x3df551,'oldValue':_0xe75cfe,'newValue':_0x5024ae};this['updateConversation'](_0x5e03cf,_0x293656,_0x4702d9),this['logger'][_0x23e052(0x227)](this[_0x23e052(0x624)]+'\x20('+this[_0x23e052(0x300)][_0x23e052(0x30d)]+_0x23e052(0x295));}catch(_0x5a07a8){let _0x467111={'error':!0x0,'errorLog':_0x5a07a8['toString']()};return this[_0x23e052(0x66e)](_0x5e03cf,_0x293656,_0x467111),this['logger'][_0x23e052(0x558)](this[_0x23e052(0x624)]+'\x20('+this['instance']['wuid']+_0x23e052(0x448)+_0x5a07a8[_0x23e052(0x4e5)]),null;}}async[a0_0xac1afc(0x710)](_0xb1fef6,_0x1db3d2){const _0x74770e=a0_0xac1afc;if(this[_0x74770e(0x3a1)][_0x74770e(0x227)](this[_0x74770e(0x624)]+'\x20('+this[_0x74770e(0x300)][_0x74770e(0x30d)]+_0x74770e(0x6f8)),!_0xb1fef6||!_0x1db3d2)return this[_0x74770e(0x3a1)][_0x74770e(0x558)](this[_0x74770e(0x624)]+'\x20('+this[_0x74770e(0x300)][_0x74770e(0x30d)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2eaac5=Date[_0x74770e(0x536)](),_0x175bf0=parseInt(_0x1db3d2[_0x74770e(0x6ae)],0xa);if(isNaN(_0x175bf0))return this[_0x74770e(0x3a1)]['error'](this['instanceName']+'\x20('+this['instance'][_0x74770e(0x30d)]+_0x74770e(0x5d4)),null;let _0x1da7ea={'newStoppedUntil':_0x2eaac5+_0x175bf0*0x3c*0x3e8};return await this['updateConversation'](_0xb1fef6,_0x1db3d2,_0x1da7ea,!0x0),null;}async[a0_0xac1afc(0x3cd)](_0x2e93e8,_0x351ae5,_0xb06ba2){const _0x103e7f=a0_0xac1afc;try{switch(_0x351ae5['uazapi'][_0x103e7f(0x796)]){case'sendText':await this[_0x103e7f(0x48e)](_0x2e93e8,_0x351ae5,_0xb06ba2);break;case _0x103e7f(0x61a):await this['uazapiSendMedia'](_0x2e93e8,_0x351ae5,_0xb06ba2);break;case _0x103e7f(0x248):await this[_0x103e7f(0x45a)](_0x2e93e8,_0x351ae5,_0xb06ba2);break;case'sendAudio':await this[_0x103e7f(0x718)](_0x2e93e8,_0x351ae5,_0xb06ba2);break;case _0x103e7f(0x272):await this[_0x103e7f(0x62f)](_0x2e93e8,_0x351ae5,_0xb06ba2);break;case _0x103e7f(0x2af):await this[_0x103e7f(0x699)](_0x2e93e8,_0x351ae5,_0xb06ba2);break;case _0x103e7f(0x627):await this['uazapiDeleteMessage'](_0x2e93e8,_0x351ae5,_0xb06ba2);break;default:this['logger'][_0x103e7f(0x558)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x103e7f(0x705)+_0x351ae5[_0x103e7f(0x5f8)]['command']);}}catch(_0x1dd0e2){this['logger'][_0x103e7f(0x558)](this[_0x103e7f(0x624)]+'\x20('+this[_0x103e7f(0x300)][_0x103e7f(0x30d)]+_0x103e7f(0x247)+_0x1dd0e2);}}async[a0_0xac1afc(0x66e)](_0x29877f,_0x26e0c0,_0x34b044,_0x2e3153=!0x1,_0x5c15c7=!0x1){const _0x3384c3=a0_0xac1afc;_0x29877f[_0x3384c3(0x6fc)]['blockLogs']||(_0x29877f[_0x3384c3(0x6fc)]['blockLogs']=[]);let _0x30cad3=(_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x659)]?.[_0x3384c3(0x4b8)]??0x0)+0x1,_0x2af7c9=_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x659)][_0x3384c3(0x207)](_0x1f83d1=>String(_0x1f83d1[_0x3384c3(0x499)])===String(_0x26e0c0[_0x3384c3(0x38b)]))[_0x3384c3(0x4b8)]+0x1,_0xd8195a=_0x34b044?.[_0x3384c3(0x46c)]??Date[_0x3384c3(0x536)](),_0x278982=_0x34b044?.[_0x3384c3(0x558)]?_0x34b044[_0x3384c3(0x4b1)]??_0x34b044[_0x3384c3(0x558)][_0x3384c3(0x344)]():void 0x0,_0x3c522b={'onTime':_0xd8195a,'blockId':_0x26e0c0[_0x3384c3(0x38b)],'order':_0x30cad3,'activatedCount':_0x2af7c9,'error':_0x34b044?.[_0x3384c3(0x558)]??!0x1,'messageId':_0x34b044?.[_0x3384c3(0x539)],'apiResponse':_0x34b044?.[_0x3384c3(0x58c)],'apiResponseString':_0x34b044?.[_0x3384c3(0x58c)]?JSON[_0x3384c3(0x47f)](_0x34b044?.[_0x3384c3(0x58c)]):void 0x0,'variable':_0x34b044?.[_0x3384c3(0x77a)],'oldValue':_0x34b044?.[_0x3384c3(0x243)],'newValue':_0x34b044?.[_0x3384c3(0x488)],'newStoppedUntil':_0x34b044?.[_0x3384c3(0x2b2)],'moreLogs':_0x34b044?.[_0x3384c3(0x5e9)],'errorLog':_0x278982};if(_0x34b044[_0x3384c3(0x5e9)]&&_0x34b044[_0x3384c3(0x5e9)]['length']>0x0){let _0x857eda=_0x34b044['moreLogs'][_0x3384c3(0x6d5)](_0x568b90=>this[_0x3384c3(0x2a5)](_0x568b90,_0x29877f['chatLog'][_0x3384c3(0x6fa)]));_0x3c522b[_0x3384c3(0x5e9)]=_0x857eda;}_0x29877f['chatLog'][_0x3384c3(0x6fa)]||(_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x6fa)]={}),_0x29877f['chatLog'][_0x3384c3(0x6fa)]['_activatedCount']=String(_0x2af7c9),_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x6fa)]['_error']=String(_0x34b044[_0x3384c3(0x558)]??!0x1),_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x659)]['push'](_0x3c522b),_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x38f)]=_0x26e0c0[_0x3384c3(0x38b)][_0x3384c3(0x344)](),_0x29877f['chatLog']['lastSendMessage']&&(_0x29877f[_0x3384c3(0x6fc)]['lastSendMessage']=_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x414)]),_0x29877f['chatLog'][_0x3384c3(0x6d3)]&&(_0x29877f[_0x3384c3(0x6fc)]['lastReceivedMessage']=_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x6d3)]),_0x29877f[_0x3384c3(0x6fc)][_0x3384c3(0x2d4)]&&(_0x29877f[_0x3384c3(0x6fc)]['lastCondition']=_0x29877f['chatLog'][_0x3384c3(0x2d4)]),_0x5c15c7&&(_0x29877f[_0x3384c3(0x798)]=_0x3384c3(0x3e8)),_0x2e3153?this[_0x3384c3(0x704)](_0x29877f):this[_0x3384c3(0x45e)](_0x29877f,_0x26e0c0);}[a0_0xac1afc(0x2a5)](_0x2d6f31,_0x44740c){const _0x25fb63=a0_0xac1afc;return _0x2d6f31['replace'](/\{\{([^}]+)\}\}/g,(_0x55c675,_0x1aaed5)=>_0x44740c[_0x1aaed5]?'{{'+_0x1aaed5+_0x25fb63(0x2e4)+_0x44740c[_0x1aaed5]+'\x22':'{{'+_0x1aaed5+_0x25fb63(0x377));}async['saveConversationToDatabase'](_0xd1c85a){const _0x104a9d=a0_0xac1afc;try{let _0x4485b2=Object['entries'](_0xd1c85a[_0x104a9d(0x6fc)]['realVariables'])[_0x104a9d(0x6d5)](([_0x1082de,_0x3cf4c5])=>({'name':_0x1082de,'value':_0x3cf4c5})),_0x4d8cbb=await F[_0x104a9d(0x794)]({'_id':_0xd1c85a[_0x104a9d(0x38b)]},{'$set':{'chatLog.lastBlockId':_0xd1c85a[_0x104a9d(0x6fc)][_0x104a9d(0x38f)],'blocks':_0xd1c85a[_0x104a9d(0x38c)],'chatLog.lastSendMessage':_0xd1c85a['chatLog'][_0x104a9d(0x414)],'chatLog.lastReceivedMessage':_0xd1c85a[_0x104a9d(0x6fc)]['lastReceivedMessage'],'chatLog.lastCondition':_0xd1c85a['chatLog'][_0x104a9d(0x2d4)],'chatLog.chatVariables':_0x4485b2,'chatLog.realVariables':_0xd1c85a['chatLog']['realVariables'],'status':_0xd1c85a[_0x104a9d(0x798)],'chatLog.blockLogs':_0xd1c85a[_0x104a9d(0x6fc)][_0x104a9d(0x659)],'waitingPoll_id':_0xd1c85a[_0x104a9d(0x5c5)],'waitingPoll_name':_0xd1c85a[_0x104a9d(0x346)],'waitingPoll_replyOptions':_0xd1c85a[_0x104a9d(0x45f)]}},{'new':!0x0});if(_0x4d8cbb){this['logger'][_0x104a9d(0x227)](this[_0x104a9d(0x624)]+'\x20('+this['instance']['wuid']+_0x104a9d(0x21d)+_0x4d8cbb[_0x104a9d(0x38b)]);try{let _0x4de9f8=[_0x104a9d(0x423),_0x104a9d(0x2bb),_0x104a9d(0x4e3),_0x104a9d(0x768),_0x104a9d(0x798),_0x104a9d(0x680),_0x104a9d(0x70a),_0x104a9d(0x772)];if(!this[_0x104a9d(0x38d)]&&(await this[_0x104a9d(0x5d7)](),!this['AutomateSystem']))throw new Error(_0x104a9d(0x5da));let _0x13075a=this['AutomateSystem']?.[_0x104a9d(0x751)][_0x104a9d(0x6d5)](_0x58a405=>_0x58a405[_0x104a9d(0x587)]),_0x24d8cb={};Object[_0x104a9d(0x5b7)](_0xd1c85a[_0x104a9d(0x6fc)][_0x104a9d(0x6fa)])[_0x104a9d(0x458)](([_0x1fda7c,_0x26e0a4])=>{const _0x4fcc90=_0x104a9d;_0x4de9f8[_0x4fcc90(0x69a)](_0x1fda7c)&&(_0x1fda7c===_0x4fcc90(0x772)&&typeof _0x26e0a4==_0x4fcc90(0x70e)?_0x24d8cb[_0x1fda7c]=_0x26e0a4['split'](',')[_0x4fcc90(0x6d5)](_0x294ff4=>_0x294ff4[_0x4fcc90(0x50a)]())['filter'](_0x24a3b1=>_0x24a3b1!==''):_0x24d8cb[_0x1fda7c]=_0x26e0a4);});let _0x1ac9e0=_0xd1c85a['chatLog']['blockLogs'][_0xd1c85a[_0x104a9d(0x6fc)]['blockLogs'][_0x104a9d(0x4b8)]-0x1];if(_0x1ac9e0){let _0x578a2e=_0x1ac9e0['newStoppedUntil'];_0x578a2e!==void 0x0&&(_0x24d8cb['desativadoFluxoAte']=_0x578a2e['toString']());}let _0xd8298a=_0x4485b2[_0x104a9d(0x207)](_0x11a4c2=>_0x13075a[_0x104a9d(0x69a)](_0x11a4c2[_0x104a9d(0x587)]));this[_0x104a9d(0x3a1)][_0x104a9d(0x227)](this[_0x104a9d(0x624)]+'\x20('+this[_0x104a9d(0x300)][_0x104a9d(0x30d)]+_0x104a9d(0x2dd)),this[_0x104a9d(0x3a1)][_0x104a9d(0x227)](_0x24d8cb),this[_0x104a9d(0x3a1)][_0x104a9d(0x227)](this[_0x104a9d(0x624)]+'\x20('+this['instance'][_0x104a9d(0x30d)]+_0x104a9d(0x5ce)),this['logger'][_0x104a9d(0x227)](_0xd8298a);let _0xf1b7c3=_0xd8298a[_0x104a9d(0x6d5)](_0x2cedce=>{const _0x59a4d6=_0x104a9d;let _0x4ad82e=this[_0x59a4d6(0x38d)]?.[_0x59a4d6(0x751)][_0x59a4d6(0x621)](_0x3a0f22=>_0x3a0f22[_0x59a4d6(0x587)]===_0x2cedce[_0x59a4d6(0x587)]);if(!_0x4ad82e)throw new Error(_0x59a4d6(0x2cc)+_0x2cedce[_0x59a4d6(0x587)]);return{'_id':_0x4ad82e['_id'],'value':_0x2cedce[_0x59a4d6(0x1fc)]};});this['logger'][_0x104a9d(0x227)](this['instanceName']+'\x20('+this['instance'][_0x104a9d(0x30d)]+_0x104a9d(0x76f)),this[_0x104a9d(0x3a1)][_0x104a9d(0x227)](_0xf1b7c3),await this['saveChatVariables'](_0xd1c85a[_0x104a9d(0x49c)],_0x24d8cb,_0xf1b7c3);}catch(_0x3dcb70){this[_0x104a9d(0x3a1)]['error'](this['instanceName']+'\x20('+this[_0x104a9d(0x300)][_0x104a9d(0x30d)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+JSON[_0x104a9d(0x47f)](_0x3dcb70));}}else this[_0x104a9d(0x3a1)][_0x104a9d(0x558)](this[_0x104a9d(0x624)]+'\x20('+this[_0x104a9d(0x300)][_0x104a9d(0x30d)]+_0x104a9d(0x266));}catch(_0x53e73a){this[_0x104a9d(0x3a1)]['error'](this[_0x104a9d(0x624)]+'\x20('+this[_0x104a9d(0x300)][_0x104a9d(0x30d)]+_0x104a9d(0x6db)+JSON[_0x104a9d(0x47f)](_0x53e73a));}}async['saveChatVariables'](_0x4c17d5,_0x454ee9,_0x53fce9){const _0x538e16=a0_0xac1afc;try{let _0xfcefb9={'leadInfo.leadnome':_0x454ee9[_0x538e16(0x423)],'leadInfo.nomecompleto':_0x454ee9[_0x538e16(0x2bb)],'leadInfo.email':_0x454ee9[_0x538e16(0x4e3)],'leadInfo.cpf':_0x454ee9['cpf'],'leadInfo.status':_0x454ee9[_0x538e16(0x798)],'leadInfo.notas':_0x454ee9[_0x538e16(0x680)],'leadInfo.responsavelid':_0x454ee9[_0x538e16(0x70a)],'leadInfo.tags':_0x454ee9[_0x538e16(0x772)],'leadInfo.customFields':_0x53fce9};if(_0x538e16(0x2a8)in _0x454ee9){let _0xd44d76=_0x454ee9[_0x538e16(0x2a8)];_0xfcefb9[_0x538e16(0x6b5)]=_0xd44d76?Number(_0xd44d76):null;}let _0x87ffad=await I[_0x538e16(0x794)]({'id':_0x4c17d5,'owner':this['instance']['wuid']},{'$set':_0xfcefb9},{'new':!0x0,'upsert':!0x0});_0x87ffad?(this[_0x538e16(0x3a1)]['verbose'](this[_0x538e16(0x624)]+'\x20('+this[_0x538e16(0x300)][_0x538e16(0x30d)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x87ffad[_0x538e16(0x38b)]),G(this[_0x538e16(0x624)],_0x538e16(0x3ac),{'chat':_0x87ffad})):this[_0x538e16(0x3a1)][_0x538e16(0x558)](this['instanceName']+'\x20('+this[_0x538e16(0x300)][_0x538e16(0x30d)]+_0x538e16(0x353));}catch(_0xd5bf03){this[_0x538e16(0x3a1)][_0x538e16(0x558)](this[_0x538e16(0x624)]+'\x20('+this[_0x538e16(0x300)]['wuid']+_0x538e16(0x552)+_0xd5bf03);}}async[a0_0xac1afc(0x57f)](_0x2da3f0,_0x576fd2){const _0x4c4937=a0_0xac1afc;this[_0x4c4937(0x3a1)]['verbose'](this[_0x4c4937(0x624)]+'\x20('+this['instance']['wuid']+_0x4c4937(0x384)+_0x576fd2);try{let _0x43a54f=await I['findOneAndUpdate']({'id':_0x2da3f0[_0x4c4937(0x49c)],'owner':_0x2da3f0[_0x4c4937(0x533)]},{'$set':{'leadInfo.desativadoFluxoAte':_0x576fd2}},{'new':!0x0});this[_0x4c4937(0x3a1)][_0x4c4937(0x227)](this[_0x4c4937(0x624)]+'\x20('+this[_0x4c4937(0x300)][_0x4c4937(0x30d)]+_0x4c4937(0x38e)+_0x2da3f0[_0x4c4937(0x38b)]),this[_0x4c4937(0x3a1)][_0x4c4937(0x227)](this[_0x4c4937(0x624)]+'\x20('+this[_0x4c4937(0x300)][_0x4c4937(0x30d)]+_0x4c4937(0x384)+JSON['stringify'](_0x43a54f,null,0x2)),_0x43a54f&&G(this[_0x4c4937(0x624)],_0x4c4937(0x3ac),{'chat':_0x43a54f});}catch(_0x4bb01c){this[_0x4c4937(0x3a1)][_0x4c4937(0x558)](this[_0x4c4937(0x624)]+'\x20('+this[_0x4c4937(0x300)][_0x4c4937(0x30d)]+_0x4c4937(0x256)+JSON[_0x4c4937(0x47f)](_0x4bb01c));}}async[a0_0xac1afc(0x20b)](_0x4a03fa,_0x4357f5){const _0x4a2d88=a0_0xac1afc;try{this[_0x4a2d88(0x3a1)][_0x4a2d88(0x227)](this[_0x4a2d88(0x624)]+'\x20('+this[_0x4a2d88(0x300)]['wuid']+'):\x20Buscando\x20flow...');let _0x5ec888=_0x4357f5[_0x4a2d88(0x5fa)](/\D/g,''),_0x5848b2=await D[_0x4a2d88(0x289)]({'owner':_0x4a03fa,'testingWith':_0x5ec888});return _0x5848b2||(this[_0x4a2d88(0x3a1)]['verbose'](this[_0x4a2d88(0x624)]+'\x20('+this['instance']['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x5848b2=await D[_0x4a2d88(0x289)]({'owner':_0x4a03fa,'default':!0x0})),_0x5848b2||(this[_0x4a2d88(0x3a1)][_0x4a2d88(0x227)](this[_0x4a2d88(0x624)]+'\x20('+this[_0x4a2d88(0x300)]['wuid']+_0x4a2d88(0x599)),null);}catch(_0x44a1ce){return this[_0x4a2d88(0x3a1)]['error'](this[_0x4a2d88(0x624)]+'\x20('+this[_0x4a2d88(0x300)]['wuid']+_0x4a2d88(0x5ca)+_0x44a1ce),null;}}async[a0_0xac1afc(0x451)](_0x3ef735,_0x1e0fc4,_0x1a334c){const _0x2c8b62=a0_0xac1afc;try{let _0xef363e=!!_0x1a334c['vote'],_0x1e9131=_0x1a334c['poll_id'],_0x3b1c1f=null;if(this[_0x2c8b62(0x3a1)][_0x2c8b62(0x227)](this[_0x2c8b62(0x624)]+'\x20('+this[_0x2c8b62(0x300)]['wuid']+_0x2c8b62(0x604)+_0xef363e+_0x2c8b62(0x51b)+_0x1e9131),_0xef363e)return this[_0x2c8b62(0x3a1)][_0x2c8b62(0x227)](this[_0x2c8b62(0x624)]+'\x20('+this[_0x2c8b62(0x300)][_0x2c8b62(0x30d)]+_0x2c8b62(0x36c)),_0x3b1c1f=await F[_0x2c8b62(0x289)]({'owner':_0x3ef735,'remoteJid':_0x1e0fc4,'waitingPoll_id':_0x1e9131}),_0x3b1c1f?(_0x3b1c1f[_0x2c8b62(0x6d9)]=Date['now'](),_0x3b1c1f['chatLog'][_0x2c8b62(0x6d3)]=_0x1a334c,_0x3b1c1f):(this[_0x2c8b62(0x3a1)][_0x2c8b62(0x227)](this[_0x2c8b62(0x624)]+'\x20('+this['instance'][_0x2c8b62(0x30d)]+_0x2c8b62(0x249)),null);{if(this[_0x2c8b62(0x3a1)][_0x2c8b62(0x227)](this[_0x2c8b62(0x624)]+'\x20('+this[_0x2c8b62(0x300)][_0x2c8b62(0x30d)]+_0x2c8b62(0x4b0)+this[_0x2c8b62(0x300)][_0x2c8b62(0x30d)]+'não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x2c8b62(0x3a1)]['verbose'](this[_0x2c8b62(0x624)]+'\x20('+this['instance'][_0x2c8b62(0x30d)]+_0x2c8b62(0x799)),_0x3b1c1f=await F[_0x2c8b62(0x289)]({'owner':_0x3ef735,'remoteJid':_0x1e0fc4,'status':_0x2c8b62(0x280)}),!_0x3b1c1f){let _0x679f1b=await this['findFlow'](_0x3ef735,_0x1e0fc4);if(_0x679f1b&&(_0x3b1c1f=await this['createNewConversation'](_0x679f1b,_0x1a334c[_0x2c8b62(0x456)],_0x1a334c)),!_0x3b1c1f)return null;}let _0x54936b=Date['now'](),_0x4a75f0=_0x3b1c1f?.['minutesToClose']||0x0,_0x379397=_0x54936b-_0x4a75f0*0x3c*0x3e8;if(this[_0x2c8b62(0x3a1)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2c8b62(0x30d)]+_0x2c8b62(0x612)+_0x54936b+_0x2c8b62(0x269)+_0x4a75f0+_0x2c8b62(0x393)+_0x379397),this[_0x2c8b62(0x3a1)][_0x2c8b62(0x227)](this[_0x2c8b62(0x624)]+'\x20('+this['instance'][_0x2c8b62(0x30d)]+_0x2c8b62(0x274)),this[_0x2c8b62(0x3a1)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2c8b62(0x637)+_0x3b1c1f['lastInteraction']),this['logger'][_0x2c8b62(0x227)](this['instanceName']+'\x20('+this[_0x2c8b62(0x300)]['wuid']+'):\x20expirationTime:\x20'+_0x379397),_0x3b1c1f[_0x2c8b62(0x6d9)]<_0x379397){this[_0x2c8b62(0x3a1)][_0x2c8b62(0x227)](this[_0x2c8b62(0x624)]+'\x20('+this[_0x2c8b62(0x300)]['wuid']+_0x2c8b62(0x348));let _0x1af4e5=await this[_0x2c8b62(0x20b)](_0x3ef735,_0x1e0fc4);if(_0x1af4e5===null)return null;_0x3b1c1f&&await F[_0x2c8b62(0x208)]({'_id':_0x3b1c1f['_id']},{'status':_0x2c8b62(0x3e8)}),_0x3b1c1f=await this['createNewConversation'](_0x1af4e5,_0x1a334c[_0x2c8b62(0x456)],_0x1a334c);}return _0x3b1c1f[_0x2c8b62(0x6d9)]=_0x54936b,_0x3b1c1f[_0x2c8b62(0x6fc)][_0x2c8b62(0x6d3)]=_0x1a334c,_0x3b1c1f;}}catch(_0x43f927){return this[_0x2c8b62(0x3a1)]['error'](this[_0x2c8b62(0x624)]+'\x20('+this[_0x2c8b62(0x300)][_0x2c8b62(0x30d)]+_0x2c8b62(0x342)+_0x43f927),null;}}async['createNewConversation'](_0x40fc53,_0x4b858e,_0x393d41){const _0x467275=a0_0xac1afc;this[_0x467275(0x3a1)][_0x467275(0x227)](this['instanceName']+'\x20('+this['instance'][_0x467275(0x30d)]+'):\x20Criando\x20nova\x20conversa');try{let _0x3949dc=require(_0x467275(0x5e8))[_0x467275(0x4ca)],_0x5d8adf=Date[_0x467275(0x536)](),_0x5b0476='start',_0x177729=_0x4b858e['fromMe']?null:_0x393d41,_0x426816=_0x4b858e['fromMe']?_0x393d41:null,_0x511ef6=_0x4b858e[_0x467275(0x49c)];await this['closeExistingConversations'](_0x511ef6);let _0x328be2={..._0x40fc53[_0x467275(0x360)],'chatLog':null},_0x423288=await this[_0x467275(0x698)](_0x328be2[_0x467275(0x73b)]),_0x108d12=await this[_0x467275(0x242)](_0x511ef6),_0x29f304={..._0x423288,..._0x108d12,'_remoteJid':_0x511ef6},_0x117e95={'lastReceivedMessage':_0x177729,'lastSendMessage':_0x426816,'lastBlockId':_0x5b0476,'lastCondition':!0x0,'realVariables':_0x29f304};_0x328be2[_0x467275(0x6fc)]=_0x117e95,delete _0x328be2[_0x467275(0x38b)],_0x328be2[_0x467275(0x38b)]=new _0x3949dc(),_0x328be2[_0x467275(0x6d9)]=_0x5d8adf,_0x328be2['status']=_0x467275(0x280),_0x328be2[_0x467275(0x49c)]=_0x511ef6;let _0x106682=await F['create'](_0x328be2);return this[_0x467275(0x3a1)][_0x467275(0x227)](this['instanceName']+'\x20('+this[_0x467275(0x300)]['wuid']+_0x467275(0x2cd)),_0x106682?_0x328be2:null;}catch(_0x3f9e25){return this[_0x467275(0x3a1)][_0x467275(0x558)](this[_0x467275(0x624)]+'\x20('+this[_0x467275(0x300)][_0x467275(0x30d)]+_0x467275(0x6f1)+_0x3f9e25),_0x3f9e25;}}async[a0_0xac1afc(0x48e)](_0x5ef01a,_0xc59eb2,_0x31a69b){const _0x4b549d=a0_0xac1afc;this['logger']['verbose'](this[_0x4b549d(0x624)]+'\x20('+this['instance'][_0x4b549d(0x30d)]+_0x4b549d(0x6a3));let _0x381365={'number':_0x31a69b,'options':{'delay':_0xc59eb2[_0x4b549d(0x5f8)][_0x4b549d(0x313)]},'textMessage':{'text':_0xc59eb2['uazapi']['text']}};try{let _0x372bb8=await this[_0x4b549d(0x623)](_0x381365);if(_0x372bb8){let _0x1bb3ee={'_id':_0x372bb8[_0x4b549d(0x456)]['id'],'_fromMe':_0x372bb8[_0x4b549d(0x456)][_0x4b549d(0x1e3)],'_remoteJid':_0x372bb8['key']['remoteJid']};_0x5ef01a['chatLog'][_0x4b549d(0x38f)]=_0xc59eb2[_0x4b549d(0x38b)]['toString']();let {message_normalized:_0x3c456b}=this['normalizeMessage'](_0x372bb8[_0x4b549d(0x4e5)],W(_0x372bb8[_0x4b549d(0x4e5)]),null);_0x5ef01a[_0x4b549d(0x6fc)][_0x4b549d(0x414)]=await _0x3c456b;let _0x27da3={'messageId':_0x372bb8[_0x4b549d(0x456)]['id']},_0x8e1ead=_0x5ef01a['chatLog']['realVariables'];Object[_0x4b549d(0x512)](_0x8e1ead,_0x1bb3ee),_0x5ef01a[_0x4b549d(0x6fc)][_0x4b549d(0x6fa)]=_0x8e1ead,this[_0x4b549d(0x66e)](_0x5ef01a,_0xc59eb2,_0x27da3);}else{let _0x1e6345={'error':!0x0};this[_0x4b549d(0x66e)](_0x5ef01a,_0xc59eb2,_0x1e6345),this[_0x4b549d(0x3a1)][_0x4b549d(0x558)](this[_0x4b549d(0x624)]+'\x20('+this[_0x4b549d(0x300)][_0x4b549d(0x30d)]+_0x4b549d(0x68c));}}catch(_0x308115){let _0x4fcd0a={'error':!0x0,'errorLog':_0x308115[_0x4b549d(0x344)]()};this[_0x4b549d(0x66e)](_0x5ef01a,_0xc59eb2,_0x4fcd0a),this[_0x4b549d(0x3a1)][_0x4b549d(0x558)](this[_0x4b549d(0x624)]+'\x20('+this[_0x4b549d(0x300)][_0x4b549d(0x30d)]+_0x4b549d(0x386)+_0x308115[_0x4b549d(0x344)]());}}async[a0_0xac1afc(0x232)](_0x55065c,_0x27004a,_0x268e6c){const _0xec7a97=a0_0xac1afc;this[_0xec7a97(0x3a1)][_0xec7a97(0x227)](this['instanceName']+'\x20('+this[_0xec7a97(0x300)][_0xec7a97(0x30d)]+_0xec7a97(0x707));let _0x25d4df={'number':_0x268e6c,'options':{'delay':_0x27004a['uazapi'][_0xec7a97(0x313)]},'mediaMessage':{'mediatype':_0x27004a['uazapi'][_0xec7a97(0x36f)],'caption':_0x27004a['uazapi'][_0xec7a97(0x61c)],'media':_0x27004a[_0xec7a97(0x5f8)][_0xec7a97(0x6d4)]}};try{let _0x51e4b3=await this['mediaMessage'](_0x25d4df);if(_0x51e4b3){let _0x231edb={'_id':_0x51e4b3[_0xec7a97(0x456)]['id'],'_fromMe':_0x51e4b3[_0xec7a97(0x456)]['fromMe'],'_remoteJid':_0x51e4b3['key'][_0xec7a97(0x49c)]};_0x55065c['chatLog'][_0xec7a97(0x38f)]=_0x27004a[_0xec7a97(0x38b)][_0xec7a97(0x344)]();let {message_normalized:_0x2c1fcb}=this['normalizeMessage'](_0x51e4b3[_0xec7a97(0x4e5)],W(_0x51e4b3[_0xec7a97(0x4e5)]),null);_0x55065c[_0xec7a97(0x6fc)][_0xec7a97(0x414)]=await _0x2c1fcb;let _0x281862={'messageId':_0x51e4b3[_0xec7a97(0x456)]['id']},_0x4aa083=_0x55065c[_0xec7a97(0x6fc)][_0xec7a97(0x6fa)];Object[_0xec7a97(0x512)](_0x4aa083,_0x231edb),_0x55065c[_0xec7a97(0x6fc)][_0xec7a97(0x6fa)]=_0x4aa083,this[_0xec7a97(0x66e)](_0x55065c,_0x27004a,_0x281862);}else{let _0x26a8f2={'error':!0x0};this['updateConversation'](_0x55065c,_0x27004a,_0x26a8f2),this[_0xec7a97(0x3a1)][_0xec7a97(0x558)](this[_0xec7a97(0x624)]+'\x20('+this[_0xec7a97(0x300)]['wuid']+_0xec7a97(0x322));}}catch(_0x260ac1){let _0x440a7e={'error':!0x0,'errorLog':_0x260ac1['toString']()};this[_0xec7a97(0x66e)](_0x55065c,_0x27004a,_0x440a7e),this[_0xec7a97(0x3a1)][_0xec7a97(0x558)](this['instanceName']+'\x20('+this[_0xec7a97(0x300)][_0xec7a97(0x30d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+_0x260ac1[_0xec7a97(0x344)]());}}async[a0_0xac1afc(0x45a)](_0x3fdb49,_0x260a76,_0x24bc7d){const _0x211f38=a0_0xac1afc;this[_0x211f38(0x3a1)][_0x211f38(0x227)](this[_0x211f38(0x624)]+'\x20('+this[_0x211f38(0x300)][_0x211f38(0x30d)]+_0x211f38(0x42f));let _0x2db8d2={'number':_0x24bc7d,'options':{'delay':_0x260a76['uazapi'][_0x211f38(0x313)]},'locationMessage':{'name':_0x260a76[_0x211f38(0x5f8)]['name'],'address':_0x260a76[_0x211f38(0x5f8)]['address'],'latitude':_0x260a76[_0x211f38(0x5f8)][_0x211f38(0x779)],'longitude':_0x260a76[_0x211f38(0x5f8)]['longitude']}};try{let _0x995bb2=await this[_0x211f38(0x589)](_0x2db8d2);if(_0x995bb2){let _0x5ed635={'_id':_0x995bb2['key']['id'],'_fromMe':_0x995bb2[_0x211f38(0x456)][_0x211f38(0x1e3)],'_remoteJid':_0x995bb2[_0x211f38(0x456)][_0x211f38(0x49c)]};_0x3fdb49[_0x211f38(0x6fc)][_0x211f38(0x38f)]=_0x260a76['_id'][_0x211f38(0x344)]();let {message_normalized:_0x272dd9}=this[_0x211f38(0x74b)](_0x995bb2['message'],W(_0x995bb2[_0x211f38(0x4e5)]),null);_0x3fdb49['chatLog'][_0x211f38(0x414)]=await _0x272dd9;let _0x31ca9e={'messageId':_0x995bb2[_0x211f38(0x456)]['id']},_0x5cc9e3=_0x3fdb49[_0x211f38(0x6fc)][_0x211f38(0x6fa)];Object['assign'](_0x5cc9e3,_0x5ed635),_0x3fdb49[_0x211f38(0x6fc)][_0x211f38(0x6fa)]=_0x5cc9e3,this[_0x211f38(0x66e)](_0x3fdb49,_0x260a76,_0x31ca9e);}else{let _0xb8621c={'error':!0x0};this[_0x211f38(0x66e)](_0x3fdb49,_0x260a76,_0xb8621c),this[_0x211f38(0x3a1)][_0x211f38(0x558)](this['instanceName']+'\x20('+this['instance'][_0x211f38(0x30d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x5d531f){let _0x42e4f1={'error':!0x0,'errorLog':_0x5d531f[_0x211f38(0x344)]()};this[_0x211f38(0x66e)](_0x3fdb49,_0x260a76,_0x42e4f1),this[_0x211f38(0x3a1)][_0x211f38(0x558)](this[_0x211f38(0x624)]+'\x20('+this[_0x211f38(0x300)]['wuid']+_0x211f38(0x577)+_0x5d531f[_0x211f38(0x344)]());}}async[a0_0xac1afc(0x718)](_0x5957ff,_0x3a4d72,_0x4ce880){const _0x2b5d4e=a0_0xac1afc;this['logger'][_0x2b5d4e(0x227)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2b5d4e(0x309));let _0x2be377={'number':_0x4ce880,'options':{'delay':_0x3a4d72['uazapi'][_0x2b5d4e(0x313)]},'audioMessage':{'audio':_0x3a4d72[_0x2b5d4e(0x5f8)]['audio']}};try{let _0x11e339=await this[_0x2b5d4e(0x31f)](_0x2be377);if(_0x11e339){let _0x1a38a6={'_id':_0x11e339[_0x2b5d4e(0x456)]['id'],'_fromMe':_0x11e339['key'][_0x2b5d4e(0x1e3)],'_remoteJid':_0x11e339[_0x2b5d4e(0x456)][_0x2b5d4e(0x49c)]};_0x5957ff[_0x2b5d4e(0x6fc)]['lastBlockId']=_0x3a4d72[_0x2b5d4e(0x38b)]['toString']();let {message_normalized:_0x478b2b}=this[_0x2b5d4e(0x74b)](_0x11e339[_0x2b5d4e(0x4e5)],W(_0x11e339[_0x2b5d4e(0x4e5)]),null);_0x5957ff[_0x2b5d4e(0x6fc)][_0x2b5d4e(0x414)]=await _0x478b2b;let _0x4d6dfa={'messageId':_0x11e339[_0x2b5d4e(0x456)]['id']},_0x30ea6c=_0x5957ff['chatLog']['realVariables'];Object[_0x2b5d4e(0x512)](_0x30ea6c,_0x1a38a6),_0x5957ff['chatLog'][_0x2b5d4e(0x6fa)]=_0x30ea6c,this[_0x2b5d4e(0x66e)](_0x5957ff,_0x3a4d72,_0x4d6dfa);}else{let _0x5dabc9={'error':!0x0};this['updateConversation'](_0x5957ff,_0x3a4d72,_0x5dabc9),this[_0x2b5d4e(0x3a1)]['error'](this[_0x2b5d4e(0x624)]+'\x20('+this[_0x2b5d4e(0x300)][_0x2b5d4e(0x30d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x5224d6){let _0x6497ee={'error':!0x0,'errorLog':_0x5224d6['toString']()};this[_0x2b5d4e(0x66e)](_0x5957ff,_0x3a4d72,_0x6497ee),this[_0x2b5d4e(0x3a1)][_0x2b5d4e(0x558)](this[_0x2b5d4e(0x624)]+'\x20('+this['instance'][_0x2b5d4e(0x30d)]+_0x2b5d4e(0x51a)+_0x5224d6[_0x2b5d4e(0x344)]());}}async[a0_0xac1afc(0x62f)](_0x193451,_0x2de17f,_0x6a6c34){const _0x15ea67=a0_0xac1afc;this[_0x15ea67(0x3a1)][_0x15ea67(0x227)](this[_0x15ea67(0x624)]+'\x20('+this['instance']['wuid']+_0x15ea67(0x59e));let _0x1f1f6c={'number':_0x6a6c34,'options':{'delay':_0x2de17f['uazapi'][_0x15ea67(0x313)]},'contactMessage':[{'fullName':_0x2de17f['uazapi'][_0x15ea67(0x459)],'phoneNumber':_0x2de17f[_0x15ea67(0x5f8)][_0x15ea67(0x5eb)]}]};try{let _0x3d3acb=await this[_0x15ea67(0x33d)](_0x1f1f6c);if(_0x3d3acb){let _0x306c99={'_id':_0x3d3acb[_0x15ea67(0x456)]['id'],'_fromMe':_0x3d3acb['key'][_0x15ea67(0x1e3)],'_remoteJid':_0x3d3acb[_0x15ea67(0x456)][_0x15ea67(0x49c)]};_0x193451[_0x15ea67(0x6fc)][_0x15ea67(0x38f)]=_0x2de17f['_id'][_0x15ea67(0x344)]();let {message_normalized:_0x18f62a}=this['normalizeMessage'](_0x3d3acb[_0x15ea67(0x4e5)],W(_0x3d3acb[_0x15ea67(0x4e5)]),null);_0x193451[_0x15ea67(0x6fc)][_0x15ea67(0x414)]=await _0x18f62a;let _0x6fc890={'messageId':_0x3d3acb[_0x15ea67(0x456)]['id']},_0x29939b=_0x193451[_0x15ea67(0x6fc)][_0x15ea67(0x6fa)];Object[_0x15ea67(0x512)](_0x29939b,_0x306c99),_0x193451['chatLog'][_0x15ea67(0x6fa)]=_0x29939b,this[_0x15ea67(0x66e)](_0x193451,_0x2de17f,_0x6fc890);}else{let _0x5615fc={'error':!0x0};this[_0x15ea67(0x66e)](_0x193451,_0x2de17f,_0x5615fc),this[_0x15ea67(0x3a1)]['error'](this[_0x15ea67(0x624)]+'\x20('+this[_0x15ea67(0x300)][_0x15ea67(0x30d)]+_0x15ea67(0x570));}}catch(_0x5a74ef){let _0x4b3153={'error':!0x0,'errorLog':_0x5a74ef[_0x15ea67(0x344)]()};this[_0x15ea67(0x66e)](_0x193451,_0x2de17f,_0x4b3153),this[_0x15ea67(0x3a1)]['error'](this[_0x15ea67(0x624)]+'\x20('+this[_0x15ea67(0x300)][_0x15ea67(0x30d)]+_0x15ea67(0x65d)+_0x5a74ef[_0x15ea67(0x344)]());}}[a0_0xac1afc(0x209)](_0x111985,_0x461464){const _0x5da0a2=a0_0xac1afc;for(let _0x32869b of _0x111985)_0x32869b[_0x5da0a2(0x5fc)]&&(_0x32869b['option']=this['replaceVariables'](_0x32869b[_0x5da0a2(0x5fc)],_0x461464)),_0x32869b[_0x5da0a2(0x530)]&&(_0x32869b[_0x5da0a2(0x530)]=this['replaceVariables'](_0x32869b['optionDescription'],_0x461464));}async[a0_0xac1afc(0x699)](_0xaab913,_0x319f58,_0x1521d3){const _0xcf83c0=a0_0xac1afc;this[_0xcf83c0(0x3a1)]['verbose'](this['instanceName']+'\x20('+this[_0xcf83c0(0x300)]['wuid']+_0xcf83c0(0x5f6));let _0x4ad12e=_0xaab913['replyOptions'][_0xcf83c0(0x207)](_0x410586=>_0x410586[_0xcf83c0(0x499)]===_0x319f58[_0xcf83c0(0x38b)]);this[_0xcf83c0(0x209)](_0x4ad12e,_0xaab913[_0xcf83c0(0x6fc)][_0xcf83c0(0x6fa)]);let _0x5e2991=_0x4ad12e[_0xcf83c0(0x6d5)](_0x5f07c1=>_0x5f07c1[_0xcf83c0(0x5fc)]),_0x3e77a0={'number':_0x1521d3,'options':{'delay':_0x319f58[_0xcf83c0(0x5f8)]['delay']},'pollMessage':{'name':_0x319f58[_0xcf83c0(0x5f8)][_0xcf83c0(0x587)],'selectableCount':0x1,'values':_0x5e2991}};try{let _0x11bdb7=await this[_0xcf83c0(0x55d)](_0x3e77a0);if(_0x11bdb7){let _0x2a9ad6={'_id':_0x11bdb7[_0xcf83c0(0x456)]['id'],'_fromMe':_0x11bdb7[_0xcf83c0(0x456)][_0xcf83c0(0x1e3)],'_remoteJid':_0x11bdb7['key']['remoteJid']};this[_0xcf83c0(0x3a1)][_0xcf83c0(0x227)](this[_0xcf83c0(0x624)]+'\x20('+this[_0xcf83c0(0x300)][_0xcf83c0(0x30d)]+_0xcf83c0(0x46e)+_0x319f58[_0xcf83c0(0x5f8)]['name']),_0xaab913[_0xcf83c0(0x5c5)]=_0x11bdb7['key']['id'],_0xaab913[_0xcf83c0(0x346)]=_0x319f58[_0xcf83c0(0x5f8)][_0xcf83c0(0x587)],_0xaab913[_0xcf83c0(0x45f)]=_0x4ad12e,this[_0xcf83c0(0x3a1)][_0xcf83c0(0x227)](this[_0xcf83c0(0x624)]+'\x20('+this[_0xcf83c0(0x300)][_0xcf83c0(0x30d)]+_0xcf83c0(0x49e)+_0xaab913[_0xcf83c0(0x346)]),_0xaab913[_0xcf83c0(0x6fc)][_0xcf83c0(0x38f)]=_0x319f58['_id']['toString']();let {message_normalized:_0x4364cc}=this['normalizeMessage'](_0x11bdb7[_0xcf83c0(0x4e5)],W(_0x11bdb7[_0xcf83c0(0x4e5)]),null);_0xaab913['chatLog'][_0xcf83c0(0x414)]=await _0x4364cc;let _0xd0b14c={'messageId':_0x11bdb7[_0xcf83c0(0x456)]['id']},_0x5e096a=_0xaab913[_0xcf83c0(0x6fc)][_0xcf83c0(0x6fa)];Object[_0xcf83c0(0x512)](_0x5e096a,_0x2a9ad6),_0xaab913[_0xcf83c0(0x6fc)][_0xcf83c0(0x6fa)]=_0x5e096a,this[_0xcf83c0(0x66e)](_0xaab913,_0x319f58,_0xd0b14c);}else{let _0x30ec2c={'error':!0x0};this['updateConversation'](_0xaab913,_0x319f58,_0x30ec2c),this[_0xcf83c0(0x3a1)][_0xcf83c0(0x558)](this[_0xcf83c0(0x624)]+'\x20('+this[_0xcf83c0(0x300)][_0xcf83c0(0x30d)]+_0xcf83c0(0x282));}}catch(_0x195b09){let _0x59d0a8={'error':!0x0,'errorLog':_0x195b09[_0xcf83c0(0x344)]()};this[_0xcf83c0(0x66e)](_0xaab913,_0x319f58,_0x59d0a8),this['logger'][_0xcf83c0(0x558)](this[_0xcf83c0(0x624)]+'\x20('+this[_0xcf83c0(0x300)][_0xcf83c0(0x30d)]+_0xcf83c0(0x78c)+_0x195b09[_0xcf83c0(0x344)]());}}async['uazapiDeleteMessage'](_0x43f90f,_0x2db0af,_0x2c9daf){const _0x53c713=a0_0xac1afc;this[_0x53c713(0x3a1)][_0x53c713(0x227)](this['instanceName']+'\x20('+this[_0x53c713(0x300)][_0x53c713(0x30d)]+_0x53c713(0x53a));let _0x599977=_0x43f90f['chatLog'][_0x53c713(0x659)][_0x53c713(0x621)](_0x7aca68=>_0x7aca68['blockId'][_0x53c713(0x344)]()===_0x2db0af['uazapi']['blockId'][_0x53c713(0x344)]()),_0x2ded04={'id':_0x599977[_0x53c713(0x539)],'remoteJid':_0x599977['remoteJid'],'fromMe':_0x599977[_0x53c713(0x1e3)]};try{let _0x250202=await this[_0x53c713(0x627)](_0x2ded04);if(_0x250202){_0x43f90f[_0x53c713(0x6fc)][_0x53c713(0x38f)]=_0x2db0af[_0x53c713(0x38b)]['toString']();let {message_normalized:_0x1f6ad4}=this[_0x53c713(0x74b)](_0x250202['message'],W(_0x250202[_0x53c713(0x4e5)]),null);_0x43f90f['chatLog'][_0x53c713(0x414)]=await _0x1f6ad4;let _0x1d1e98={};this[_0x53c713(0x66e)](_0x43f90f,_0x2db0af,_0x1d1e98);}else{let _0x2597a5={'error':!0x0};this['updateConversation'](_0x43f90f,_0x2db0af,_0x2597a5),this[_0x53c713(0x3a1)]['error'](this[_0x53c713(0x624)]+'\x20('+this[_0x53c713(0x300)][_0x53c713(0x30d)]+_0x53c713(0x389));}}catch(_0x3a19c3){let _0x19082a={'error':!0x0,'errorLog':_0x3a19c3[_0x53c713(0x344)]()};this[_0x53c713(0x66e)](_0x43f90f,_0x2db0af,_0x19082a),this['logger']['error'](this[_0x53c713(0x624)]+'\x20('+this[_0x53c713(0x300)]['wuid']+_0x53c713(0x2ed)+_0x3a19c3[_0x53c713(0x344)]());}}async[a0_0xac1afc(0x725)](_0x31b434){const _0x535121=a0_0xac1afc;try{if(this[_0x535121(0x3a1)][_0x535121(0x227)](this['instanceName']+'\x20('+this[_0x535121(0x300)][_0x535121(0x30d)]+_0x535121(0x442)),await D['findOne']({'owner':this[_0x535121(0x300)][_0x535121(0x30d)],'name':_0x31b434[_0x535121(0x587)]}))return{'message':'Flow\x20already\x20exists'};_0x31b434[_0x535121(0x5fe)]===!0x0&&await D['updateMany']({'owner':this[_0x535121(0x300)][_0x535121(0x30d)]},{'default':!0x1});let _0x10a84f=new Se[(_0x535121(0x6ef))][(_0x535121(0x4ca))](),_0x3a3c16={'_id':_0x10a84f,'default':!0x0,'title':_0x535121(0x60f),'x':0x0,'y':0x0},_0x10aaf8={'_id':new Se['Types']['ObjectId'](),'order':0x1,'groupId':_0x10a84f[_0x535121(0x344)](),'type':_0x535121(0x556)};return await D[_0x535121(0x6a6)]({'owner':this[_0x535121(0x300)]['wuid'],'name':_0x31b434[_0x535121(0x587)],'groups':[_0x3a3c16],'blocks':[_0x10aaf8],..._0x31b434});}catch(_0x4f6f2f){throw this[_0x535121(0x3a1)][_0x535121(0x558)](this[_0x535121(0x624)]+'\x20('+this[_0x535121(0x300)]['wuid']+_0x535121(0x770)+_0x4f6f2f),new g(_0x535121(0x2c9)+_0x4f6f2f);}}async[a0_0xac1afc(0x72f)](_0x46310e){const _0x200450=a0_0xac1afc;try{return this['logger']['verbose'](this[_0x200450(0x624)]+'\x20('+this[_0x200450(0x300)][_0x200450(0x30d)]+_0x200450(0x3e2)),await D[_0x200450(0x493)]({'owner':this[_0x200450(0x300)][_0x200450(0x30d)],'name':_0x46310e});}catch(_0x957758){return this[_0x200450(0x3a1)]['error'](this['instanceName']+'\x20('+this[_0x200450(0x300)]['wuid']+_0x200450(0x431)+_0x957758),{'message':_0x200450(0x6c5)+_0x957758};}}async[a0_0xac1afc(0x6c6)](_0x2f87d6){const _0x46d76d=a0_0xac1afc;try{this[_0x46d76d(0x3a1)][_0x46d76d(0x227)](this[_0x46d76d(0x624)]+'\x20('+this[_0x46d76d(0x300)]['wuid']+'):\x20Buscando\x20flow...');let _0xbdbadd=await D['findOne']({'owner':this['instance'][_0x46d76d(0x30d)],'name':_0x2f87d6});if(!_0xbdbadd)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x46d76d(0x38d)]&&(await this[_0x46d76d(0x5d7)](),!this[_0x46d76d(0x38d)]))return null;let _0x211e78=this[_0x46d76d(0x38d)]?.[_0x46d76d(0x751)][_0x46d76d(0x6d5)](_0x39bd81=>_0x39bd81[_0x46d76d(0x587)]),_0x6b5d3=['nome',_0x46d76d(0x2bb),_0x46d76d(0x4e3),_0x46d76d(0x768),_0x46d76d(0x798),_0x46d76d(0x680),'responsavelid',_0x46d76d(0x772)];return _0xbdbadd['variables']=_0xbdbadd[_0x46d76d(0x73b)]['filter'](_0x4bc77c=>!(_0x4bc77c[_0x46d76d(0x228)]===_0x46d76d(0x21f)||_0x4bc77c[_0x46d76d(0x21f)])),_0x6b5d3['forEach'](_0xb366b2=>{const _0x1acd22=_0x46d76d;_0xbdbadd[_0x1acd22(0x73b)][_0x1acd22(0x4b4)]({'folder':_0x1acd22(0x21f),'name':_0xb366b2,'value':'','doc':'','leadInfo':!0x0});}),_0x211e78['forEach'](_0x93f215=>{const _0x36d581=_0x46d76d;let _0x16fc2d=_0xbdbadd['variables'][_0x36d581(0x36d)](_0x46fc37=>_0x46fc37[_0x36d581(0x587)]===_0x93f215);_0x16fc2d===-0x1?_0xbdbadd['variables'][_0x36d581(0x4b4)]({'folder':_0x36d581(0x21f),'name':_0x93f215,'value':'','doc':'','leadInfo':!0x0}):(_0xbdbadd[_0x36d581(0x73b)][_0x16fc2d][_0x36d581(0x228)]=_0x36d581(0x21f),_0xbdbadd[_0x36d581(0x73b)][_0x16fc2d][_0x36d581(0x21f)]=!0x0);}),_0xbdbadd['blocks']&&_0xbdbadd[_0x46d76d(0x38c)][_0x46d76d(0x4b8)]>0x0&&_0xbdbadd[_0x46d76d(0x38c)]['forEach'](_0x1e3bd5=>{const _0x280713=_0x46d76d;_0x1e3bd5[_0x280713(0x769)]&&_0x1e3bd5[_0x280713(0x575)]&&_0x1e3bd5[_0x280713(0x769)]===_0x1e3bd5[_0x280713(0x575)]&&(_0x1e3bd5['next_groupId']=null);}),await _0xbdbadd[_0x46d76d(0x6df)](),_0xbdbadd;}catch(_0x469120){throw this[_0x46d76d(0x3a1)][_0x46d76d(0x558)](this['instanceName']+'\x20('+this[_0x46d76d(0x300)][_0x46d76d(0x30d)]+_0x46d76d(0x6aa)+_0x469120),new g(_0x46d76d(0x714)+_0x469120);}}async[a0_0xac1afc(0x75b)](){const _0x4bc9e2=a0_0xac1afc;try{return this[_0x4bc9e2(0x3a1)][_0x4bc9e2(0x227)](this[_0x4bc9e2(0x624)]+'\x20('+this[_0x4bc9e2(0x300)]['wuid']+_0x4bc9e2(0x4ec)),await D[_0x4bc9e2(0x621)]({'owner':this['instance'][_0x4bc9e2(0x30d)]});}catch(_0x1221b6){return this[_0x4bc9e2(0x3a1)]['error'](this[_0x4bc9e2(0x624)]+'\x20('+this[_0x4bc9e2(0x300)][_0x4bc9e2(0x30d)]+_0x4bc9e2(0x585)+_0x1221b6),{'message':_0x4bc9e2(0x3ad)+_0x1221b6};}}async[a0_0xac1afc(0x335)](_0x4a7472){const _0x376c1b=a0_0xac1afc;try{this[_0x376c1b(0x3a1)][_0x376c1b(0x227)](this['instanceName']+'\x20('+this[_0x376c1b(0x300)][_0x376c1b(0x30d)]+'):\x20Alterando\x20fluxo...');let _0x485afa=await D[_0x376c1b(0x289)]({'owner':this[_0x376c1b(0x300)][_0x376c1b(0x30d)],'name':_0x4a7472[_0x376c1b(0x587)]});if(!_0x485afa)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x4a7472[_0x376c1b(0x5fe)]===!0x0&&await D[_0x376c1b(0x244)]({'owner':this[_0x376c1b(0x300)][_0x376c1b(0x30d)]},{'default':!0x1}),_0x4a7472[_0x376c1b(0x580)]){if(await D[_0x376c1b(0x289)]({'owner':this[_0x376c1b(0x300)]['wuid'],'name':_0x4a7472[_0x376c1b(0x580)]}))return{'message':_0x376c1b(0x34b)};_0x4a7472['name']=_0x4a7472[_0x376c1b(0x580)],delete _0x4a7472[_0x376c1b(0x580)];}return await D[_0x376c1b(0x62b)](_0x485afa['_id'],{'$set':_0x4a7472},{'new':!0x0});}catch(_0x4e85d7){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x376c1b(0x300)][_0x376c1b(0x30d)]+_0x376c1b(0x2c0)+_0x4e85d7),new g(_0x376c1b(0x6d6)+_0x4e85d7);}}async[a0_0xac1afc(0x685)](_0x41cecc){const _0x156062=a0_0xac1afc;try{this[_0x156062(0x3a1)]['verbose'](this[_0x156062(0x624)]+'\x20('+this[_0x156062(0x300)][_0x156062(0x30d)]+_0x156062(0x26c));let _0x40f6c4={'owner':this['instance'][_0x156062(0x30d)],'name':_0x41cecc[_0x156062(0x587)]},_0x4af37c=await D[_0x156062(0x289)](_0x40f6c4);_0x4af37c||this[_0x156062(0x5b8)]('Flow\x20não\x20encontrado');let {block:_0x1b791d}=_0x41cecc;return _0x1b791d?.[_0x156062(0x2e7)]?this[_0x156062(0x275)](_0x4af37c,_0x41cecc):_0x1b791d[_0x156062(0x38b)]?await this['updateBlock'](_0x4af37c,_0x41cecc):this[_0x156062(0x2f6)](_0x4af37c,_0x41cecc),await _0x4af37c['save'](),_0x4af37c;}catch(_0x1ebb13){this[_0x156062(0x5b8)](_0x156062(0x56c)+_0x1ebb13);}}[a0_0xac1afc(0x5b8)](_0x2e4917){const _0x1dc148=a0_0xac1afc;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x1dc148(0x30d)]+_0x1dc148(0x4b0)+_0x2e4917),new g(_0x2e4917);}[a0_0xac1afc(0x275)](_0x187c80,_0x12bf51){const _0x93f0df=a0_0xac1afc;let {block:_0x16a3a3}=_0x12bf51;if(_0x16a3a3[_0x93f0df(0x2da)]===_0x93f0df(0x556)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x16a3a3[_0x93f0df(0x38b)]){this[_0x93f0df(0x5b8)](_0x93f0df(0x3b1));return;}let _0x27725a=_0x187c80[_0x93f0df(0x38c)][_0x93f0df(0x621)](_0x5940cd=>_0x5940cd[_0x93f0df(0x38b)][_0x93f0df(0x344)]()===_0x12bf51[_0x93f0df(0x6f5)][_0x93f0df(0x38b)][_0x93f0df(0x344)]());if(!_0x27725a){this[_0x93f0df(0x5b8)](_0x93f0df(0x35f)+_0x16a3a3[_0x93f0df(0x38b)]+_0x93f0df(0x555));return;}_0x187c80['blocks']=_0x187c80['blocks'][_0x93f0df(0x207)](_0x397f47=>_0x397f47[_0x93f0df(0x38b)][_0x93f0df(0x344)]()!==_0x12bf51[_0x93f0df(0x6f5)]['_id'][_0x93f0df(0x344)]()),_0x187c80[_0x93f0df(0x4bc)]=_0x187c80[_0x93f0df(0x4bc)][_0x93f0df(0x207)](_0x1b38a4=>_0x1b38a4[_0x93f0df(0x499)]!==_0x16a3a3[_0x93f0df(0x38b)][_0x93f0df(0x344)]()),_0x187c80[_0x93f0df(0x71c)]=_0x187c80[_0x93f0df(0x71c)][_0x93f0df(0x207)](_0x1f18c7=>_0x1f18c7[_0x93f0df(0x499)]!==_0x16a3a3[_0x93f0df(0x38b)]['toString']()),_0x187c80['replyOptions']=_0x187c80[_0x93f0df(0x409)][_0x93f0df(0x207)](_0xd847b9=>_0xd847b9['blockId']!==_0x16a3a3[_0x93f0df(0x38b)][_0x93f0df(0x344)]()),this[_0x93f0df(0x42a)](_0x187c80[_0x93f0df(0x38c)],_0x27725a[_0x93f0df(0x769)]);}async[a0_0xac1afc(0x223)](_0x59c174,_0x4a74bb){const _0xc97f08=a0_0xac1afc;let _0x4535b1=_0x59c174['blocks'][_0xc97f08(0x36d)](_0x5db567=>_0x5db567[_0xc97f08(0x38b)][_0xc97f08(0x344)]()===_0x4a74bb[_0xc97f08(0x6f5)][_0xc97f08(0x38b)][_0xc97f08(0x344)]());if(this[_0xc97f08(0x3a1)][_0xc97f08(0x227)](this['instanceName']+'\x20('+this[_0xc97f08(0x300)][_0xc97f08(0x30d)]+_0xc97f08(0x709)+_0x4535b1),_0x4535b1===-0x1){this['logger']['verbose'](_0xc97f08(0x35f)+_0x4a74bb[_0xc97f08(0x6f5)][_0xc97f08(0x38b)]+_0xc97f08(0x39e));return;}if(_0x59c174[_0xc97f08(0x38c)][_0x4535b1]['type']==='start'){let _0x17e79d=Object[_0xc97f08(0x72e)](_0x4a74bb[_0xc97f08(0x6f5)]);if(_0x17e79d[_0xc97f08(0x4b8)]>0x2||_0x17e79d['length']===0x2&&!_0x17e79d[_0xc97f08(0x69a)]('next_groupId')){this[_0xc97f08(0x5b8)](_0xc97f08(0x737));return;}}let _0x1ab50d=_0x59c174[_0xc97f08(0x38c)][_0x4535b1]['groupId'];for(let _0x55ef92 in _0x4a74bb[_0xc97f08(0x6f5)])_0x4a74bb['block'][_0xc97f08(0x1d5)](_0x55ef92)&&(_0x59c174[_0xc97f08(0x38c)][_0x4535b1][_0x55ef92]=_0x4a74bb[_0xc97f08(0x6f5)][_0x55ef92]);if(this[_0xc97f08(0x3a1)][_0xc97f08(0x227)](this[_0xc97f08(0x624)]+'\x20('+this[_0xc97f08(0x300)][_0xc97f08(0x30d)]+_0xc97f08(0x2e2)+JSON['stringify'](_0x59c174[_0xc97f08(0x38c)][_0x4535b1])),_0x59c174['blocks'][_0x4535b1][_0xc97f08(0x5a2)]&&'header'in _0x59c174[_0xc97f08(0x38c)][_0x4535b1][_0xc97f08(0x5a2)]){this['logger'][_0xc97f08(0x227)](this['instanceName']+'\x20('+this[_0xc97f08(0x300)][_0xc97f08(0x30d)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x15ada1=JSON['stringify'](_0x59c174['blocks'][_0x4535b1]['apirequest'][_0xc97f08(0x565)],null,0x1);_0x15ada1[_0xc97f08(0x4b8)]>0x2&&(_0x15ada1=_0x15ada1[_0xc97f08(0x567)](0x1,_0x15ada1[_0xc97f08(0x4b8)]-0x1)[_0xc97f08(0x50a)]()),_0x59c174[_0xc97f08(0x38c)][_0x4535b1][_0xc97f08(0x5a2)][_0xc97f08(0x67a)]=_0x15ada1;}if(_0x59c174[_0xc97f08(0x38c)][_0x4535b1]['apirequest']&&_0xc97f08(0x1f9)in _0x59c174[_0xc97f08(0x38c)][_0x4535b1]['apirequest']){this[_0xc97f08(0x3a1)][_0xc97f08(0x227)](this[_0xc97f08(0x624)]+'\x20('+this[_0xc97f08(0x300)][_0xc97f08(0x30d)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0xec7b0b=JSON[_0xc97f08(0x47f)](_0x59c174[_0xc97f08(0x38c)][_0x4535b1]['apirequest'][_0xc97f08(0x1f9)],null,0x1);_0xec7b0b[_0xc97f08(0x4b8)]>0x2&&(_0xec7b0b=_0xec7b0b['substring'](0x1,_0xec7b0b[_0xc97f08(0x4b8)]-0x1)[_0xc97f08(0x50a)]()),_0x59c174[_0xc97f08(0x38c)][_0x4535b1]['apirequest']['bodyString']=_0xec7b0b;}let _0xa658bf=_0x59c174[_0xc97f08(0x38c)][_0x4535b1][_0xc97f08(0x769)];_0x1ab50d!==_0xa658bf?(this[_0xc97f08(0x42a)](_0x59c174[_0xc97f08(0x38c)],_0x1ab50d),this[_0xc97f08(0x42a)](_0x59c174['blocks'],_0xa658bf)):this[_0xc97f08(0x42a)](_0x59c174[_0xc97f08(0x38c)],_0x1ab50d);}[a0_0xac1afc(0x2f6)](_0x24af86,_0x2fcd47){const _0xdbe86b=a0_0xac1afc;if(_0x2fcd47[_0xdbe86b(0x6f5)][_0xdbe86b(0x2da)]===_0xdbe86b(0x556)){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x2fcd47['block'][_0xdbe86b(0x5a2)]&&_0xdbe86b(0x565)in _0x2fcd47[_0xdbe86b(0x6f5)]['apirequest']){this['logger'][_0xdbe86b(0x227)](this[_0xdbe86b(0x624)]+'\x20('+this['instance'][_0xdbe86b(0x30d)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x26bef4=JSON[_0xdbe86b(0x47f)](_0x2fcd47[_0xdbe86b(0x6f5)]['apirequest'][_0xdbe86b(0x565)],null,0x1);_0x26bef4[_0xdbe86b(0x4b8)]>0x2&&(_0x26bef4=_0x26bef4[_0xdbe86b(0x567)](0x1,_0x26bef4[_0xdbe86b(0x4b8)]-0x1)['trim']()),_0x2fcd47[_0xdbe86b(0x6f5)][_0xdbe86b(0x5a2)][_0xdbe86b(0x67a)]=_0x26bef4;}_0x2fcd47['block']['apirequest']&&_0xdbe86b(0x1f9)in _0x2fcd47[_0xdbe86b(0x6f5)][_0xdbe86b(0x5a2)]&&(this[_0xdbe86b(0x3a1)][_0xdbe86b(0x227)](this['instanceName']+'\x20('+this['instance'][_0xdbe86b(0x30d)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x2fcd47['block'][_0xdbe86b(0x5a2)][_0xdbe86b(0x6c4)]=JSON[_0xdbe86b(0x47f)](_0x2fcd47[_0xdbe86b(0x6f5)][_0xdbe86b(0x5a2)][_0xdbe86b(0x1f9)],null,0x1)[_0xdbe86b(0x50a)]()),_0x24af86[_0xdbe86b(0x38c)][_0xdbe86b(0x4b4)](_0x2fcd47[_0xdbe86b(0x6f5)]),this[_0xdbe86b(0x42a)](_0x24af86['blocks'],_0x2fcd47[_0xdbe86b(0x6f5)][_0xdbe86b(0x769)]);}[a0_0xac1afc(0x42a)](_0x4c6969,_0x507fe0){const _0x137add=a0_0xac1afc;let _0x58338b=_0x4c6969[_0x137add(0x207)](_0x159458=>_0x159458[_0x137add(0x769)]===_0x507fe0);_0x58338b['sort']((_0x267924,_0x269459)=>_0x267924[_0x137add(0x3c5)]-_0x269459['order']),_0x58338b[_0x137add(0x458)]((_0x450bfa,_0x285e93)=>_0x450bfa['order']=_0x285e93+0x1);}async[a0_0xac1afc(0x3f2)](_0x4aaaa3){const _0x12a2cd=a0_0xac1afc;try{if(this[_0x12a2cd(0x3a1)][_0x12a2cd(0x227)](this[_0x12a2cd(0x624)]+'\x20('+this['instance'][_0x12a2cd(0x30d)]+'):\x20Editando\x20replyOption...'),!_0x4aaaa3||!_0x4aaaa3[_0x12a2cd(0x47b)]){this[_0x12a2cd(0x5b8)](_0x12a2cd(0x71b));return;}let _0x17b872={'owner':this[_0x12a2cd(0x300)][_0x12a2cd(0x30d)],'name':_0x4aaaa3[_0x12a2cd(0x587)]},_0x528b6b=await D[_0x12a2cd(0x289)](_0x17b872);_0x528b6b||this[_0x12a2cd(0x5b8)](_0x12a2cd(0x2aa));let {replyOption:_0x254c1c}=_0x4aaaa3;return _0x254c1c?.[_0x12a2cd(0x2e7)]?this[_0x12a2cd(0x74d)](_0x528b6b,_0x4aaaa3):_0x254c1c['_id']?await this[_0x12a2cd(0x226)](_0x528b6b,_0x4aaaa3):this['addReplyOption'](_0x528b6b,_0x4aaaa3),await _0x528b6b[_0x12a2cd(0x6df)](),_0x528b6b;}catch(_0x2f43d1){this[_0x12a2cd(0x5b8)](_0x12a2cd(0x33e)+_0x2f43d1);}}['deleteReplyOption'](_0x5c7dd1,_0x3a4d77){const _0x4b6cac=a0_0xac1afc;let {replyOption:_0x1aea2d}=_0x3a4d77;if(!_0x1aea2d[_0x4b6cac(0x38b)]){this[_0x4b6cac(0x5b8)](_0x4b6cac(0x304));return;}if(!_0x5c7dd1[_0x4b6cac(0x409)]['find'](_0x22be62=>_0x22be62[_0x4b6cac(0x38b)][_0x4b6cac(0x344)]()===_0x3a4d77[_0x4b6cac(0x47b)][_0x4b6cac(0x38b)][_0x4b6cac(0x344)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x1aea2d[_0x4b6cac(0x38b)]+_0x4b6cac(0x555));return;}_0x5c7dd1[_0x4b6cac(0x409)]=_0x5c7dd1[_0x4b6cac(0x409)][_0x4b6cac(0x207)](_0x1894fd=>_0x1894fd['_id'][_0x4b6cac(0x344)]()!==_0x3a4d77['replyOption']['_id'][_0x4b6cac(0x344)]());}async[a0_0xac1afc(0x226)](_0x547b00,_0x160e13){const _0x2953e2=a0_0xac1afc;let _0x156dd2=_0x547b00[_0x2953e2(0x409)][_0x2953e2(0x36d)](_0x5ba80b=>_0x5ba80b['_id'][_0x2953e2(0x344)]()===_0x160e13[_0x2953e2(0x47b)][_0x2953e2(0x38b)][_0x2953e2(0x344)]());if(_0x156dd2===-0x1){this['throwAndLogError'](_0x2953e2(0x363)+_0x160e13[_0x2953e2(0x47b)][_0x2953e2(0x38b)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x2da5fb in _0x160e13[_0x2953e2(0x47b)])_0x160e13[_0x2953e2(0x47b)]['hasOwnProperty'](_0x2da5fb)&&(_0x547b00[_0x2953e2(0x409)][_0x156dd2][_0x2da5fb]=_0x160e13[_0x2953e2(0x47b)][_0x2da5fb]);}[a0_0xac1afc(0x43a)](_0x501688,_0xf54e81){const _0x59bd68=a0_0xac1afc;_0x501688['replyOptions']['push'](_0xf54e81[_0x59bd68(0x47b)]);}async['editFlowGroup'](_0xff3905){const _0x52f95e=a0_0xac1afc;this[_0x52f95e(0x3a1)][_0x52f95e(0x227)](this[_0x52f95e(0x624)]+'\x20('+this[_0x52f95e(0x300)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0xff3905);try{this[_0x52f95e(0x3a1)][_0x52f95e(0x227)](this[_0x52f95e(0x624)]+'\x20('+this[_0x52f95e(0x300)][_0x52f95e(0x30d)]+_0x52f95e(0x6ac));let _0x5015fe={'owner':this[_0x52f95e(0x300)][_0x52f95e(0x30d)],'name':_0xff3905[_0x52f95e(0x587)]},_0x4d4785=await D[_0x52f95e(0x289)](_0x5015fe);if(!_0x4d4785)throw new Error('Flow\x20não\x20encontrado');if(_0xff3905['group']&&_0xff3905[_0x52f95e(0x516)]?.[_0x52f95e(0x2e7)]===!0x0){if(this[_0x52f95e(0x3a1)][_0x52f95e(0x227)](this[_0x52f95e(0x624)]+'\x20('+this[_0x52f95e(0x300)][_0x52f95e(0x30d)]+_0x52f95e(0x77c)),_0xff3905[_0x52f95e(0x516)][_0x52f95e(0x5fe)]===!0x0)return{'message':_0x52f95e(0x726)};if(_0x4d4785[_0x52f95e(0x38c)]['some'](_0x22d555=>_0x22d555['groupId'][_0x52f95e(0x344)]()===_0xff3905[_0x52f95e(0x516)][_0x52f95e(0x38b)]))return this[_0x52f95e(0x3a1)][_0x52f95e(0x227)](this['instanceName']+'\x20('+this[_0x52f95e(0x300)][_0x52f95e(0x30d)]+_0x52f95e(0x1db)),{'message':_0x52f95e(0x4ea)};_0x4d4785['groups']=_0x4d4785[_0x52f95e(0x69f)][_0x52f95e(0x207)](_0x2139e4=>_0x2139e4[_0x52f95e(0x38b)][_0x52f95e(0x344)]()!==_0xff3905[_0x52f95e(0x516)][_0x52f95e(0x38b)]);}else{if(_0xff3905[_0x52f95e(0x516)]){if(_0xff3905[_0x52f95e(0x516)][_0x52f95e(0x5fe)]===!0x0)return{'message':_0x52f95e(0x503)};if(_0xff3905['group'][_0x52f95e(0x38b)]){let _0x563339=_0x4d4785[_0x52f95e(0x69f)][_0x52f95e(0x621)](_0x178db7=>_0x178db7['_id'][_0x52f95e(0x344)]()===_0xff3905[_0x52f95e(0x516)][_0x52f95e(0x38b)]);_0x563339&&(_0xff3905[_0x52f95e(0x516)]['x']<0x0&&(_0xff3905[_0x52f95e(0x516)]['x']=0x0),_0xff3905['group']['y']<0x0&&(_0xff3905[_0x52f95e(0x516)]['y']=0x0),Object[_0x52f95e(0x512)](_0x563339,_0xff3905[_0x52f95e(0x516)]));}else _0x4d4785[_0x52f95e(0x69f)]['push'](_0xff3905['group']);}}return await _0x4d4785[_0x52f95e(0x6df)](),_0x4d4785;}catch(_0x414ef2){throw this[_0x52f95e(0x3a1)][_0x52f95e(0x558)](this[_0x52f95e(0x624)]+'\x20('+this[_0x52f95e(0x300)]['wuid']+_0x52f95e(0x3ed)+_0x414ef2),new g(_0x52f95e(0x411)+_0x414ef2);}}async[a0_0xac1afc(0x3d4)](_0x4f38e8){const _0x46eeb7=a0_0xac1afc;try{this[_0x46eeb7(0x3a1)][_0x46eeb7(0x227)](this[_0x46eeb7(0x624)]+'\x20('+this[_0x46eeb7(0x300)][_0x46eeb7(0x30d)]+_0x46eeb7(0x3e1));let _0x1fb2c7={'owner':this[_0x46eeb7(0x300)]['wuid'],'name':_0x4f38e8[_0x46eeb7(0x587)]},_0x1869dd=await D[_0x46eeb7(0x289)](_0x1fb2c7);if(!_0x1869dd)throw new Error(_0x46eeb7(0x2aa));let _0x56c4b8=!0x1;if(_0x4f38e8[_0x46eeb7(0x738)]?.[_0x46eeb7(0x2e7)]===!0x0)_0x1869dd['conditions']=_0x1869dd['conditions']['filter'](_0x570c5f=>_0x570c5f&&_0x4f38e8[_0x46eeb7(0x738)]&&_0x570c5f[_0x46eeb7(0x38b)]&&_0x4f38e8[_0x46eeb7(0x738)][_0x46eeb7(0x38b)]&&_0x570c5f[_0x46eeb7(0x38b)][_0x46eeb7(0x344)]()!==_0x4f38e8['condition'][_0x46eeb7(0x38b)]['toString']()),_0x56c4b8=!0x0;else{let _0x44c635=_0x1869dd['conditions']['find'](_0x22dd63=>_0x22dd63&&_0x4f38e8[_0x46eeb7(0x738)]&&_0x22dd63['_id']&&_0x4f38e8[_0x46eeb7(0x738)]['_id']&&_0x22dd63[_0x46eeb7(0x38b)]['toString']()===_0x4f38e8[_0x46eeb7(0x738)][_0x46eeb7(0x38b)][_0x46eeb7(0x344)]());_0x44c635?(_0x56c4b8=_0x44c635[_0x46eeb7(0x3c5)]!==_0x4f38e8[_0x46eeb7(0x738)]['order'],Object[_0x46eeb7(0x512)](_0x44c635,_0x4f38e8[_0x46eeb7(0x738)])):(_0x1869dd[_0x46eeb7(0x4bc)]['push'](_0x4f38e8[_0x46eeb7(0x738)]),_0x56c4b8=!0x0);}if(_0x56c4b8){_0x1869dd['conditions'][_0x46eeb7(0x1cf)]((_0x5861be,_0x46e7e6)=>_0x5861be[_0x46eeb7(0x3c5)]>_0x46e7e6[_0x46eeb7(0x3c5)]?0x1:_0x46e7e6['order']>_0x5861be[_0x46eeb7(0x3c5)]?-0x1:0x0);for(let _0x54cdc9=0x0;_0x54cdc9<_0x1869dd[_0x46eeb7(0x4bc)][_0x46eeb7(0x4b8)];_0x54cdc9++)_0x1869dd[_0x46eeb7(0x4bc)][_0x54cdc9]['order']=_0x54cdc9+0x1;_0x1869dd[_0x46eeb7(0x4bc)]['length']>0x0&&(_0x1869dd[_0x46eeb7(0x4bc)][0x0]['OrAnd']=_0x46eeb7(0x3a5));}return await _0x1869dd[_0x46eeb7(0x6df)](),_0x1869dd;}catch(_0x17d3ca){throw this[_0x46eeb7(0x3a1)][_0x46eeb7(0x558)](this['instanceName']+'\x20('+this[_0x46eeb7(0x300)][_0x46eeb7(0x30d)]+_0x46eeb7(0x4c2)+_0x17d3ca),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x17d3ca);}}async[a0_0xac1afc(0x432)](_0x2bde08){const _0x24e7ba=a0_0xac1afc;try{this['logger'][_0x24e7ba(0x227)](this[_0x24e7ba(0x624)]+'\x20('+this[_0x24e7ba(0x300)][_0x24e7ba(0x30d)]+_0x24e7ba(0x20a));let _0x273087={'owner':this[_0x24e7ba(0x300)][_0x24e7ba(0x30d)],'name':_0x2bde08[_0x24e7ba(0x587)]},_0x11885e=await D[_0x24e7ba(0x289)](_0x273087);if(!_0x11885e)throw new Error(_0x24e7ba(0x2aa));let _0x40af3d=!0x1;if(_0x2bde08[_0x24e7ba(0x2d0)]?.['delete']===!0x0)_0x11885e[_0x24e7ba(0x71c)]=_0x11885e['varedits'][_0x24e7ba(0x207)](_0x2e3a26=>_0x2e3a26&&_0x2bde08[_0x24e7ba(0x2d0)]&&_0x2e3a26[_0x24e7ba(0x38b)]&&_0x2bde08[_0x24e7ba(0x2d0)]['_id']&&_0x2e3a26[_0x24e7ba(0x38b)][_0x24e7ba(0x344)]()!==_0x2bde08[_0x24e7ba(0x2d0)][_0x24e7ba(0x38b)][_0x24e7ba(0x344)]()),_0x40af3d=!0x0;else{let _0x3e740f=_0x11885e[_0x24e7ba(0x71c)]['find'](_0x313ed6=>_0x313ed6&&_0x2bde08[_0x24e7ba(0x2d0)]&&_0x313ed6['_id']&&_0x2bde08['varedit']['_id']&&_0x313ed6[_0x24e7ba(0x38b)]['toString']()===_0x2bde08[_0x24e7ba(0x2d0)][_0x24e7ba(0x38b)]['toString']());_0x3e740f?(_0x40af3d=_0x3e740f[_0x24e7ba(0x3c5)]!==_0x2bde08[_0x24e7ba(0x2d0)][_0x24e7ba(0x3c5)],Object['assign'](_0x3e740f,_0x2bde08[_0x24e7ba(0x2d0)])):(_0x11885e[_0x24e7ba(0x71c)]['push'](_0x2bde08['varedit']),_0x40af3d=!0x0);}if(_0x40af3d){_0x11885e[_0x24e7ba(0x71c)]['sort']((_0xb0544d,_0x5399cb)=>_0xb0544d['order']>_0x5399cb['order']?0x1:_0x5399cb[_0x24e7ba(0x3c5)]>_0xb0544d[_0x24e7ba(0x3c5)]?-0x1:0x0);for(let _0x377a85=0x0;_0x377a85<_0x11885e[_0x24e7ba(0x71c)][_0x24e7ba(0x4b8)];_0x377a85++)_0x11885e[_0x24e7ba(0x71c)][_0x377a85][_0x24e7ba(0x3c5)]=_0x377a85+0x1;}return await _0x11885e[_0x24e7ba(0x6df)](),_0x11885e;}catch(_0x21fda5){throw this['logger'][_0x24e7ba(0x558)](this['instanceName']+'\x20('+this[_0x24e7ba(0x300)]['wuid']+_0x24e7ba(0x4c2)+_0x21fda5),new g(_0x24e7ba(0x483)+_0x21fda5);}}async['editFlowVariable'](_0x1a30c8){const _0x585db9=a0_0xac1afc;try{this[_0x585db9(0x3a1)]['verbose'](this[_0x585db9(0x624)]+'\x20('+this[_0x585db9(0x300)][_0x585db9(0x30d)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x498c4e={'owner':this['instance'][_0x585db9(0x30d)],'name':_0x1a30c8[_0x585db9(0x587)]},_0x1cf778=await D[_0x585db9(0x289)](_0x498c4e);if(!_0x1cf778)throw new Error(_0x585db9(0x2aa));_0x1a30c8[_0x585db9(0x77a)][_0x585db9(0x587)]=_0x1a30c8[_0x585db9(0x77a)][_0x585db9(0x587)]['trim'](),_0x1a30c8[_0x585db9(0x77a)][_0x585db9(0x587)]['startsWith']('_')&&(_0x1a30c8[_0x585db9(0x77a)][_0x585db9(0x587)]=_0x1a30c8[_0x585db9(0x77a)]['name'][_0x585db9(0x567)](0x1)),_0x1a30c8[_0x585db9(0x77a)]['name']=_0x1a30c8[_0x585db9(0x77a)][_0x585db9(0x587)][_0x585db9(0x50a)]();let _0x2e86c7=_0x1cf778['variables'][_0x585db9(0x621)](_0x1305dd=>_0x1305dd[_0x585db9(0x587)]===_0x1a30c8[_0x585db9(0x77a)][_0x585db9(0x587)]);if(_0x2e86c7?.[_0x585db9(0x21f)]===!0x0)throw new Error(_0x585db9(0x688));if(_0x1a30c8[_0x585db9(0x77a)]?.['delete']===!0x0){if(!_0x2e86c7)return{'message':_0x585db9(0x4e0)};_0x1cf778[_0x585db9(0x73b)]=_0x1cf778[_0x585db9(0x73b)][_0x585db9(0x207)](_0x7eeaca=>_0x7eeaca['name']!==_0x1a30c8[_0x585db9(0x77a)][_0x585db9(0x587)]);}else _0x2e86c7?Object[_0x585db9(0x512)](_0x2e86c7,_0x1a30c8[_0x585db9(0x77a)]):_0x1cf778[_0x585db9(0x73b)][_0x585db9(0x4b4)](_0x1a30c8[_0x585db9(0x77a)]);return await _0x1cf778[_0x585db9(0x6df)](),_0x1cf778;}catch(_0x140417){throw this[_0x585db9(0x3a1)][_0x585db9(0x558)](this[_0x585db9(0x624)]+'\x20('+this[_0x585db9(0x300)][_0x585db9(0x30d)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x140417),new g(_0x585db9(0x571)+_0x140417);}}async['startFlow'](_0x120fc0){const _0x52e742=a0_0xac1afc;try{if(!this[_0x52e742(0x38d)]?.[_0x52e742(0x6e4)][_0x52e742(0x453)])throw new g(_0x52e742(0x33c));this[_0x52e742(0x3a1)][_0x52e742(0x227)](this[_0x52e742(0x624)]+'\x20('+this['instance'][_0x52e742(0x30d)]+_0x52e742(0x21a));let _0x38dc0b=(await this[_0x52e742(0x736)]({'numbers':[_0x120fc0['remoteJid']]}))[0x0];if(!_0x38dc0b[_0x52e742(0x6c3)]&&!(0x0,w[_0x52e742(0x212)])(_0x38dc0b[_0x52e742(0x1fe)])&&!_0x38dc0b[_0x52e742(0x1fe)]['includes'](_0x52e742(0x551)))throw new g(_0x38dc0b);let _0x1b5ec6=await D[_0x52e742(0x289)]({'owner':this[_0x52e742(0x300)][_0x52e742(0x30d)],'name':_0x120fc0[_0x52e742(0x587)]});if(!_0x1b5ec6)return this[_0x52e742(0x3a1)][_0x52e742(0x558)](this[_0x52e742(0x624)]+'\x20('+this['instance'][_0x52e742(0x30d)]+_0x52e742(0x586)),{'message':'Flow\x20não\x20encontrado'};let _0x406aaf=await this[_0x52e742(0x2ac)](_0x1b5ec6,_0x38dc0b[_0x52e742(0x1fe)],_0x120fc0[_0x52e742(0x55c)]);if(_0x406aaf){this[_0x52e742(0x3a1)][_0x52e742(0x227)](this['instanceName']+'\x20('+this[_0x52e742(0x300)][_0x52e742(0x30d)]+_0x52e742(0x1e8));let _0x2ed129=await this[_0x52e742(0x27c)](_0x406aaf);return _0x2ed129&&await this[_0x52e742(0x651)](_0x406aaf,_0x2ed129,_0x406aaf[_0x52e742(0x49c)]),{'message':_0x52e742(0x1e1)+_0x120fc0['remoteJid']};}}catch(_0x28eeeb){if(this[_0x52e742(0x3a1)][_0x52e742(0x558)](this[_0x52e742(0x624)]+'\x20('+this['instance'][_0x52e742(0x30d)]+_0x52e742(0x24c)+_0x28eeeb),_0x28eeeb&&_0x28eeeb['message']&&Array[_0x52e742(0x4e8)](_0x28eeeb[_0x52e742(0x4e5)])&&_0x28eeeb['message'][0x0]){let {jid:_0x119cea,exists:_0x5de525}=_0x28eeeb[_0x52e742(0x4e5)][0x0];}throw new g(_0x52e742(0x41b)+_0x28eeeb[_0x52e742(0x4e5)]);}}async['closeExistingConversations'](_0x3e8c48){const _0x5895ff=a0_0xac1afc;let _0x19584=await F['updateMany']({'owner':this[_0x5895ff(0x300)]['wuid'],'remoteJid':_0x3e8c48,'status':_0x5895ff(0x280)},{'$set':{'status':_0x5895ff(0x3e8)}});return this[_0x5895ff(0x3a1)][_0x5895ff(0x227)](this['instanceName']+'\x20('+this['instance'][_0x5895ff(0x30d)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x19584;}async[a0_0xac1afc(0x2ac)](_0x2f6dca,_0x426cce,_0x2f4165){const _0x55e681=a0_0xac1afc;this[_0x55e681(0x3a1)][_0x55e681(0x227)](this[_0x55e681(0x624)]+'\x20('+this[_0x55e681(0x300)][_0x55e681(0x30d)]+_0x55e681(0x25e)),await this[_0x55e681(0x672)](_0x426cce);try{let _0x41d910=require(_0x55e681(0x5e8))[_0x55e681(0x4ca)],_0x177f1e=Date[_0x55e681(0x536)](),_0x3f424e=_0x55e681(0x556),_0x18f892={},_0x36737c={},_0x3b3491={..._0x2f6dca[_0x55e681(0x360)],'chatLog':null},_0x24d8ad=await this['variablesToObject'](_0x3b3491[_0x55e681(0x73b)]),_0x420d89=await this['getVariablesChat'](_0x426cce),_0x28457b={..._0x24d8ad,..._0x420d89,'_remoteJid':_0x426cce},_0x8634d0={'lastReceivedMessage':_0x18f892,'lastSendMessage':_0x36737c,'lastBlockId':_0x3f424e,'lastCondition':!0x0,'realVariables':_0x28457b};_0x3b3491['chatLog']=_0x8634d0,_0x3b3491['chatLog'][_0x55e681(0x6fa)]={..._0x28457b,..._0x2f4165},delete _0x3b3491['_id'],_0x3b3491[_0x55e681(0x38b)]=new _0x41d910(),_0x3b3491[_0x55e681(0x6d9)]=_0x177f1e,_0x3b3491[_0x55e681(0x798)]=_0x55e681(0x280),_0x3b3491[_0x55e681(0x49c)]=_0x426cce;let _0x3346f5=await F[_0x55e681(0x6a6)](_0x3b3491);return this[_0x55e681(0x3a1)][_0x55e681(0x227)](this['instanceName']+'\x20('+this[_0x55e681(0x300)][_0x55e681(0x30d)]+_0x55e681(0x2cd)),_0x3346f5?_0x3b3491:null;}catch(_0x21bffc){throw this[_0x55e681(0x3a1)]['error'](this[_0x55e681(0x624)]+'\x20('+this['instance']['wuid']+_0x55e681(0x6f1)+_0x21bffc),new g(_0x21bffc[_0x55e681(0x4e5)]);}}async['getConversation'](_0x52bcd0){const _0x3b78f7=a0_0xac1afc;try{return this[_0x3b78f7(0x3a1)]['verbose'](this['instanceName']+'\x20('+this[_0x3b78f7(0x300)][_0x3b78f7(0x30d)]+'):\x20Buscando\x20conversa...'),this[_0x3b78f7(0x3a1)]['verbose'](this['instanceName']+'\x20('+this[_0x3b78f7(0x300)]['wuid']+_0x3b78f7(0x3c4)+{'owner':this[_0x3b78f7(0x300)][_0x3b78f7(0x30d)],'_id':_0x52bcd0}),await F[_0x3b78f7(0x289)]({'owner':this['instance'][_0x3b78f7(0x30d)],'_id':_0x52bcd0});}catch(_0x1320a6){throw this['logger'][_0x3b78f7(0x558)](this[_0x3b78f7(0x624)]+'\x20('+this[_0x3b78f7(0x300)][_0x3b78f7(0x30d)]+_0x3b78f7(0x2b1)+_0x1320a6),new g('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x1320a6[_0x3b78f7(0x4e5)]);}}async['fetchConversation'](_0xe09b11,_0x22b9a9=0x64){const _0x250af1=a0_0xac1afc;try{this[_0x250af1(0x3a1)][_0x250af1(0x227)](this[_0x250af1(0x624)]+'\x20('+this['instance']['wuid']+_0x250af1(0x747));let _0x40867e={..._0xe09b11,'owner':this[_0x250af1(0x300)][_0x250af1(0x30d)]};return this[_0x250af1(0x3a1)][_0x250af1(0x227)](_0x40867e),await F[_0x250af1(0x621)](_0x40867e)['limit'](_0x22b9a9)[_0x250af1(0x1cf)]({'lastInteraction':-0x1});}catch(_0x5538e6){throw this[_0x250af1(0x3a1)][_0x250af1(0x558)](this[_0x250af1(0x624)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+_0x5538e6),new g('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x5538e6[_0x250af1(0x4e5)]);}}async[a0_0xac1afc(0x406)](_0x4347c1){const _0x48f762=a0_0xac1afc;try{return this['logger'][_0x48f762(0x227)](this[_0x48f762(0x624)]+'\x20('+this[_0x48f762(0x300)][_0x48f762(0x30d)]+_0x48f762(0x632)),this[_0x48f762(0x3a1)][_0x48f762(0x227)](this[_0x48f762(0x624)]+'\x20('+this[_0x48f762(0x300)][_0x48f762(0x30d)]+'):\x20Query\x20params:'+{'owner':this[_0x48f762(0x300)]['wuid'],'_id':_0x4347c1}),(await F[_0x48f762(0x493)]({'owner':this[_0x48f762(0x300)][_0x48f762(0x30d)],'_id':_0x4347c1}))['deletedCount']===0x0?{'message':_0x48f762(0x3e7)}:{'message':_0x48f762(0x26a)};}catch(_0x3d3605){throw this['logger']['error'](this[_0x48f762(0x624)]+'\x20('+this[_0x48f762(0x300)]['wuid']+_0x48f762(0x759)+_0x3d3605),new g(_0x48f762(0x5a0)+_0x3d3605[_0x48f762(0x4e5)]);}}async[a0_0xac1afc(0x22d)](_0x2445d6){const _0x31249b=a0_0xac1afc;try{let {_id:_0x5c0caa,chatLog:_0x35b02c,status:_0x24ed10}=_0x2445d6;if(!_0x5c0caa)return{'message':_0x31249b(0x71e)};let _0x148538={};if(_0x24ed10!==void 0x0&&(_0x148538[_0x31249b(0x798)]=_0x24ed10),Object[_0x31249b(0x72e)](_0x148538)[_0x31249b(0x4b8)]===0x0)return{'message':_0x31249b(0x476)};let _0x4ac5ca=this['instance']['wuid'],_0x21ab09=await F[_0x31249b(0x794)]({'_id':_0x5c0caa,'owner':_0x4ac5ca},{'$set':_0x148538},{'new':!0x0});return _0x21ab09||{'message':_0x31249b(0x4fa)};}catch(_0x7b7d2f){throw this['logger']['error'](this[_0x31249b(0x624)]+'\x20('+this['instance'][_0x31249b(0x30d)]+_0x31249b(0x5a1)+_0x7b7d2f),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x7b7d2f[_0x31249b(0x4e5)]);}}async[a0_0xac1afc(0x582)](_0x444706){const _0x3eb5ed=a0_0xac1afc;try{_0x444706['id']=this['createJid'](_0x444706['id']);let {id:_0x57c045,leadInfo:_0x41d335}=_0x444706;if(!_0x57c045)throw new Error(_0x3eb5ed(0x58f));let _0x38a04d=(_0xd13cac,_0x1100b6,_0x30cd30)=>{const _0x11e936=_0x3eb5ed;_0x30cd30[_0x11e936(0x458)](_0x1f220c=>{const _0x14e975=_0x11e936;_0xd13cac[_0x1f220c]!==void 0x0&&(_0x1100b6[_0x14e975(0x54a)+_0x1f220c]=_0xd13cac[_0x1f220c]);});},_0xce6b60={};if(_0x38a04d(_0x41d335,_0xce6b60,[_0x3eb5ed(0x423),'nomecompleto','email','cpf',_0x3eb5ed(0x798),'notas',_0x3eb5ed(0x772),_0x3eb5ed(0x56e),_0x3eb5ed(0x70a)]),Array[_0x3eb5ed(0x4e8)](_0x41d335[_0x3eb5ed(0x751)])&&(_0xce6b60[_0x3eb5ed(0x68d)]=_0x41d335['customFields'][_0x3eb5ed(0x6d5)](_0x1e5fea=>({'_id':_0x1e5fea['_id'],'value':_0x1e5fea['value']}))),_0x444706[_0x3eb5ed(0x21f)][_0x3eb5ed(0x2a8)]!==void 0x0&&(_0xce6b60[_0x3eb5ed(0x6b5)]=Number(_0x444706[_0x3eb5ed(0x21f)]['desativadoFluxoAte'])),_0x444706['unreadcount']!==void 0x0&&(_0xce6b60[_0x3eb5ed(0x222)]=Number(_0x444706['unreadcount'])),Object['keys'](_0xce6b60)[_0x3eb5ed(0x4b8)]===0x0)throw new Error(_0x3eb5ed(0x476));let _0x4a1496=this[_0x3eb5ed(0x300)][_0x3eb5ed(0x30d)];if(!_0x4a1496)throw new Error(_0x3eb5ed(0x2ff));if(!await I[_0x3eb5ed(0x289)]({'id':_0x444706['id'],'owner':_0x4a1496})){let _0x213513=(await this[_0x3eb5ed(0x736)]({'numbers':[_0x444706['id']]}))[0x0];if(!_0x213513['exists']&&!(0x0,w[_0x3eb5ed(0x212)])(_0x213513[_0x3eb5ed(0x1fe)])&&!_0x213513['jid'][_0x3eb5ed(0x69a)](_0x3eb5ed(0x551)))throw new g(_0x213513);_0x444706['id']=_0x213513[_0x3eb5ed(0x1fe)];}let _0x5c5410=await I[_0x3eb5ed(0x794)]({'id':_0x444706['id'],'owner':_0x4a1496},{'$set':_0xce6b60},{'new':!0x0,'upsert':!0x0});return _0x5c5410&&G(this[_0x3eb5ed(0x624)],'chats',{'chat':_0x5c5410}),_0x5c5410?(this[_0x3eb5ed(0x3a1)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3eb5ed(0x30d)]+'):\x20'+_0x5c5410),_0x5c5410):{'message':_0x3eb5ed(0x357)};}catch(_0x2886c7){throw this[_0x3eb5ed(0x3a1)]['error'](this['instanceName']+'\x20('+this[_0x3eb5ed(0x300)]['wuid']+_0x3eb5ed(0x767)+_0x2886c7),new g(_0x3eb5ed(0x27b)+_0x2886c7['message']);}}async[a0_0xac1afc(0x774)](_0x2a4246){const _0x386921=a0_0xac1afc;let _0x327f49=this['instance'][_0x386921(0x30d)];try{let _0x163891=await ie[_0x386921(0x311)](_0x327f49);_0x163891||(_0x163891=new ie({'_id':_0x327f49}),await _0x163891[_0x386921(0x6df)]());let _0x4ecdb5=_0x2a4246[_0x386921(0x38b)]?_0x163891[_0x386921(0x4ff)][_0x386921(0x36d)](_0x2b7aa5=>_0x2b7aa5[_0x386921(0x38b)]===_0x2a4246[_0x386921(0x38b)]):-0x1;if(_0x2a4246[_0x386921(0x2e7)]&&_0x4ecdb5>-0x1)_0x163891[_0x386921(0x4ff)]['splice'](_0x4ecdb5,0x1);else{if(_0x4ecdb5>-0x1){let _0x281a64=_0x163891[_0x386921(0x4ff)][_0x4ecdb5];_0x2a4246[_0x386921(0x471)]&&(_0x281a64[_0x386921(0x471)]=_0x2a4246[_0x386921(0x471)]),_0x2a4246[_0x386921(0x587)]&&(_0x281a64[_0x386921(0x587)]=_0x2a4246[_0x386921(0x587)]),_0x2a4246[_0x386921(0x4e3)]&&(_0x281a64[_0x386921(0x4e3)]=_0x2a4246[_0x386921(0x4e3)]),_0x2a4246[_0x386921(0x765)]&&(_0x281a64[_0x386921(0x765)]=_0x2a4246[_0x386921(0x765)]);}else _0x163891['agents']['push']({'_id':_0x2a4246[_0x386921(0x38b)]||new Se[(_0x386921(0x5fe))]['Types']['ObjectId']()[_0x386921(0x344)](),'fone':_0x2a4246[_0x386921(0x471)],'name':_0x2a4246[_0x386921(0x587)],'email':_0x2a4246[_0x386921(0x4e3)],'role':_0x2a4246[_0x386921(0x765)]});}let _0x4be6a7=await _0x163891['save']();return this[_0x386921(0x38d)]=_0x4be6a7,this[_0x386921(0x3a1)][_0x386921(0x227)](this[_0x386921(0x624)]+'\x20('+this[_0x386921(0x300)][_0x386921(0x30d)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x386921(0x227)](this[_0x386921(0x624)]+'\x20('+this[_0x386921(0x300)]['wuid']+_0x386921(0x4b0)+this['AutomateSystem']),_0x4be6a7;}catch(_0x5aa1c3){throw this['logger']['error'](this[_0x386921(0x624)]+'\x20('+this[_0x386921(0x300)]['wuid']+_0x386921(0x305)+_0x5aa1c3),new g(_0x386921(0x35e)+_0x5aa1c3[_0x386921(0x4e5)]);}}async[a0_0xac1afc(0x1c9)](_0x1039c0){const _0x1342c6=a0_0xac1afc;let _0x324b6f=this[_0x1342c6(0x300)]['wuid'];try{let _0x1b2010=await ie[_0x1342c6(0x311)](_0x324b6f);_0x1b2010||(_0x1b2010=new ie({'_id':_0x324b6f}),await _0x1b2010[_0x1342c6(0x6df)]());let _0x101f26=_0x1039c0['_id']?_0x1b2010[_0x1342c6(0x751)][_0x1342c6(0x36d)](_0x51e377=>_0x51e377['_id']===_0x1039c0[_0x1342c6(0x38b)]):-0x1,_0x4c7572=!0x1,_0xfe3713=_0x1b2010[_0x1342c6(0x751)][_0x1342c6(0x326)](_0x17fd5c=>_0x17fd5c[_0x1342c6(0x3c5)]===_0x1039c0['order']);if(_0x1039c0[_0x1342c6(0x2e7)]&&_0x101f26>-0x1)_0x1b2010[_0x1342c6(0x751)]['splice'](_0x101f26,0x1),_0x4c7572=!0x0;else{if(_0x101f26>-0x1){if(_0x1b2010[_0x1342c6(0x751)]['some'](_0x1f4542=>_0x1f4542[_0x1342c6(0x587)]===_0x1039c0[_0x1342c6(0x587)]&&_0x1f4542[_0x1342c6(0x38b)]!==_0x1039c0['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x26ebad=_0x1b2010[_0x1342c6(0x751)][_0x101f26];_0x1039c0[_0x1342c6(0x3c5)]&&(_0xfe3713||!Number['isInteger'](_0x1039c0[_0x1342c6(0x3c5)]))&&(_0x26ebad[_0x1342c6(0x3c5)]=_0x1039c0[_0x1342c6(0x3c5)],_0x4c7572=!0x0),_0x1039c0['name']&&(_0x26ebad[_0x1342c6(0x587)]=_0x1039c0[_0x1342c6(0x587)]);}else{if(_0x1b2010[_0x1342c6(0x751)]['some'](_0x25d4b2=>_0x25d4b2['name']===_0x1039c0[_0x1342c6(0x587)]&&_0x25d4b2[_0x1342c6(0x38b)]!==_0x1039c0[_0x1342c6(0x38b)]))throw new Error(_0x1342c6(0x34f));_0x1b2010[_0x1342c6(0x751)][_0x1342c6(0x4b4)]({'_id':_0x1039c0[_0x1342c6(0x38b)]||new Se['default'][(_0x1342c6(0x6ef))][(_0x1342c6(0x4ca))]()[_0x1342c6(0x344)](),'order':_0x1039c0[_0x1342c6(0x3c5)],'name':_0x1039c0[_0x1342c6(0x587)]}),_0x4c7572=!0x0;}}if(_0x4c7572){_0x1b2010[_0x1342c6(0x751)][_0x1342c6(0x1cf)]((_0x1a0cdf,_0xc553ba)=>_0x1a0cdf['order']>_0xc553ba[_0x1342c6(0x3c5)]?0x1:_0xc553ba['order']>_0x1a0cdf[_0x1342c6(0x3c5)]?-0x1:0x0);for(let _0x122935=0x0;_0x122935<_0x1b2010[_0x1342c6(0x751)][_0x1342c6(0x4b8)];_0x122935++)_0x1b2010['customFields'][_0x122935]['order']=_0x122935+0x1;}let _0xc3c262=await _0x1b2010[_0x1342c6(0x6df)]();return this[_0x1342c6(0x38d)]=_0xc3c262,this[_0x1342c6(0x3a1)][_0x1342c6(0x227)](this[_0x1342c6(0x624)]+'\x20('+this[_0x1342c6(0x300)][_0x1342c6(0x30d)]+_0x1342c6(0x543)),this['logger'][_0x1342c6(0x227)](this[_0x1342c6(0x624)]+'\x20('+this[_0x1342c6(0x300)][_0x1342c6(0x30d)]+_0x1342c6(0x4b0)+this[_0x1342c6(0x38d)]),_0xc3c262;}catch(_0x52a8f2){throw this[_0x1342c6(0x3a1)][_0x1342c6(0x558)](this[_0x1342c6(0x624)]+'\x20('+this[_0x1342c6(0x300)][_0x1342c6(0x30d)]+_0x1342c6(0x279)+_0x52a8f2),new g(_0x1342c6(0x648)+_0x52a8f2[_0x1342c6(0x4e5)]);}}async[a0_0xac1afc(0x1d9)](_0x1a6626){const _0x1aa69a=a0_0xac1afc;let _0x3b494d=this[_0x1aa69a(0x300)]['wuid'];try{let _0x37c389=await ie[_0x1aa69a(0x311)](_0x3b494d);_0x37c389||(_0x37c389=new ie({'_id':_0x3b494d}),await _0x37c389[_0x1aa69a(0x6df)]()),_0x37c389['flowConfig'][_0x1aa69a(0x453)]=_0x1a6626?.[_0x1aa69a(0x453)]!==void 0x0?_0x1a6626?.[_0x1aa69a(0x453)]:_0x37c389['flowConfig'][_0x1aa69a(0x453)],_0x37c389[_0x1aa69a(0x6e4)][_0x1aa69a(0x660)]=_0x1a6626?.[_0x1aa69a(0x660)]!==void 0x0?_0x1a6626?.[_0x1aa69a(0x660)]:_0x37c389[_0x1aa69a(0x6e4)][_0x1aa69a(0x660)],_0x37c389[_0x1aa69a(0x6e4)][_0x1aa69a(0x273)]=_0x1a6626?.[_0x1aa69a(0x273)]??_0x37c389[_0x1aa69a(0x6e4)][_0x1aa69a(0x273)],_0x37c389[_0x1aa69a(0x6e4)][_0x1aa69a(0x710)]=_0x1a6626?.[_0x1aa69a(0x710)]??_0x37c389[_0x1aa69a(0x6e4)][_0x1aa69a(0x710)],_0x37c389['flowConfig'][_0x1aa69a(0x6ae)]=_0x1a6626?.[_0x1aa69a(0x6ae)]??_0x37c389[_0x1aa69a(0x6e4)][_0x1aa69a(0x6ae)];let _0x28a921=await _0x37c389[_0x1aa69a(0x6df)]();return this[_0x1aa69a(0x38d)]=_0x28a921,this[_0x1aa69a(0x3a1)][_0x1aa69a(0x227)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1aa69a(0x30c)),this[_0x1aa69a(0x3a1)][_0x1aa69a(0x227)](this[_0x1aa69a(0x624)]+'\x20('+this[_0x1aa69a(0x300)]['wuid']+_0x1aa69a(0x4b0)+this['AutomateSystem']),_0x28a921;}catch(_0x157721){throw this[_0x1aa69a(0x3a1)][_0x1aa69a(0x558)](this[_0x1aa69a(0x624)]+'\x20('+this[_0x1aa69a(0x300)][_0x1aa69a(0x30d)]+_0x1aa69a(0x305)+_0x157721),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x157721[_0x1aa69a(0x4e5)]);}}async[a0_0xac1afc(0x5d7)](){const _0x1d922c=a0_0xac1afc;let _0x5c09e4=this[_0x1d922c(0x300)]['wuid'];try{let _0x2b2340=await ie[_0x1d922c(0x311)](_0x5c09e4);return _0x2b2340||(_0x2b2340=new ie({'_id':_0x5c09e4})),_0x2b2340[_0x1d922c(0x6e4)]=_0x2b2340['flowConfig']||{},_0x2b2340['flowConfig'][_0x1d922c(0x453)]===void 0x0&&(_0x2b2340[_0x1d922c(0x6e4)][_0x1d922c(0x453)]=!0x1),_0x2b2340[_0x1d922c(0x6e4)][_0x1d922c(0x660)]===void 0x0&&(_0x2b2340[_0x1d922c(0x6e4)][_0x1d922c(0x660)]=!0x0),_0x2b2340['flowConfig'][_0x1d922c(0x273)]===void 0x0&&(_0x2b2340[_0x1d922c(0x6e4)][_0x1d922c(0x273)]='!'),_0x2b2340[_0x1d922c(0x6e4)]['stopConversation']===void 0x0&&(_0x2b2340[_0x1d922c(0x6e4)][_0x1d922c(0x710)]=_0x1d922c(0x25b)),_0x2b2340[_0x1d922c(0x6e4)][_0x1d922c(0x6ae)]===void 0x0&&(_0x2b2340['flowConfig'][_0x1d922c(0x6ae)]=0x14),await _0x2b2340[_0x1d922c(0x6df)](),this[_0x1d922c(0x38d)]=_0x2b2340,this[_0x1d922c(0x3a1)][_0x1d922c(0x227)](this[_0x1d922c(0x624)]+'\x20('+this[_0x1d922c(0x300)][_0x1d922c(0x30d)]+_0x1d922c(0x3df)),this['logger'][_0x1d922c(0x227)](this['AutomateSystem']),_0x2b2340;}catch(_0x44040f){throw this['logger'][_0x1d922c(0x558)](this[_0x1d922c(0x624)]+'\x20('+this[_0x1d922c(0x300)][_0x1d922c(0x30d)]+_0x1d922c(0x1d7)+_0x44040f[_0x1d922c(0x4e5)]),new g(_0x1d922c(0x619)+_0x44040f[_0x1d922c(0x4e5)]);}}async[a0_0xac1afc(0x75a)](){const _0x898c85=a0_0xac1afc;let _0x48a1b6=()=>{const _0x19f0ab=a0_0x4f0a;this['logger'][_0x19f0ab(0x227)](this['instanceName']+'\x20('+this[_0x19f0ab(0x300)][_0x19f0ab(0x30d)]+'):\x20this.processingScheduleMessageId:\x20'+this['processingScheduleMessageId']+'\x20saindo\x20da\x20função');},_0x3438e2=async()=>{const _0xd91aa9=a0_0x4f0a;this['logger'][_0xd91aa9(0x227)](this[_0xd91aa9(0x624)]+'\x20('+this['instance'][_0xd91aa9(0x30d)]+_0xd91aa9(0x4ad));let _0x6b3890=Date[_0xd91aa9(0x536)]()-0xc*0x3c*0x3c*0x3e8;return await U[_0xd91aa9(0x621)]({'owner':this['instance'][_0xd91aa9(0x30d)],'status':{'$in':[_0xd91aa9(0x785),_0xd91aa9(0x327)]},'$or':[{'when':{'$lte':Date[_0xd91aa9(0x536)](),'$gte':_0x6b3890}},{'when':0x0}]});},_0x7d1ac5=async _0x46cb17=>{const _0x228d52=a0_0x4f0a;for(let _0x2b3700 of _0x46cb17){if(!await U['findOneAndUpdate']({'_id':_0x2b3700[_0x228d52(0x38b)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x228d52(0x536)]()-0x1770}}]},{'$set':{'startSend':Date[_0x228d52(0x536)]()}}))return;if(!this['isConnected']){this[_0x228d52(0x3a1)][_0x228d52(0x227)](this[_0x228d52(0x624)]+'\x20('+this[_0x228d52(0x300)][_0x228d52(0x30d)]+_0x228d52(0x6be));break;}(!_0x2b3700[_0x228d52(0x3da)]||_0x2b3700['remoteJidsRemaining']['length']===0x0)&&(_0x2b3700=await U['findByIdAndUpdate'](_0x2b3700[_0x228d52(0x38b)],{'$set':{'status':_0x228d52(0x327),'remoteJidsRemaining':[..._0x2b3700[_0x228d52(0x2eb)]]}},{'new':!0x0}));for(let _0x52ae4e of _0x2b3700[_0x228d52(0x3da)]){if(this[_0x228d52(0x6c0)]=Date[_0x228d52(0x536)](),_0x2b3700[_0x228d52(0x4cd)][_0x228d52(0x326)](_0x538dbb=>_0x538dbb[_0x228d52(0x49c)]===_0x52ae4e)){this[_0x228d52(0x3a1)][_0x228d52(0x227)](this[_0x228d52(0x624)]+'\x20('+this[_0x228d52(0x300)][_0x228d52(0x30d)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x52ae4e+_0x228d52(0x5ef));continue;}try{let _0x35be86=await this[_0x228d52(0x59a)](_0x52ae4e,_0x2b3700),_0x581919={'remoteJid':_0x52ae4e,'error':_0x35be86['error'],'id':_0x35be86['id']||null,'error_log':_0x35be86['error_log']||null,'log_timestamp':Date[_0x228d52(0x536)]()};if((await U[_0x228d52(0x62b)](_0x2b3700[_0x228d52(0x38b)],{'$push':{'messagesSend':_0x581919},'$pull':{'remoteJidsRemaining':_0x52ae4e}},{'new':!0x0}))[_0x228d52(0x798)]===_0x228d52(0x549)){this[_0x228d52(0x3a1)][_0x228d52(0x227)](this[_0x228d52(0x624)]+'\x20('+this[_0x228d52(0x300)][_0x228d52(0x30d)]+_0x228d52(0x362)+_0x2b3700[_0x228d52(0x38b)]+_0x228d52(0x391));break;}if(!this[_0x228d52(0x775)]){this[_0x228d52(0x3a1)][_0x228d52(0x227)](this[_0x228d52(0x624)]+'\x20('+this[_0x228d52(0x300)][_0x228d52(0x30d)]+_0x228d52(0x3ce));break;}if(!this[_0x228d52(0x2ee)]){this[_0x228d52(0x3a1)][_0x228d52(0x227)](this[_0x228d52(0x624)]+'\x20('+this[_0x228d52(0x300)][_0x228d52(0x30d)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x2b3700['_id']+_0x228d52(0x4b2));break;}let _0x20c88b=this[_0x228d52(0x4c9)](_0x2b3700[_0x228d52(0x2ae)],_0x2b3700[_0x228d52(0x74c)]);await this[_0x228d52(0x23c)](_0x20c88b);}catch(_0x2793c0){this['logger']['error'](this[_0x228d52(0x624)]+'\x20('+this['instance'][_0x228d52(0x30d)]+_0x228d52(0x653)+_0x52ae4e+':\x20'+_0x2793c0[_0x228d52(0x4e5)]);let _0x3be1fc={'remoteJid':_0x52ae4e,'status':'error','timestamp':Date[_0x228d52(0x536)](),'error':_0x2793c0[_0x228d52(0x4e5)]};await U['findByIdAndUpdate'](_0x2b3700[_0x228d52(0x38b)],{'$push':{'messagesSend':_0x3be1fc},'$pull':{'remoteJidsRemaining':_0x52ae4e}},{'new':!0x0});}}let _0x35ffea=await U[_0x228d52(0x311)](_0x2b3700['_id']);_0x35ffea['remoteJidsRemaining'][_0x228d52(0x4b8)]===0x0&&_0x35ffea['status']!==_0x228d52(0x549)&&await U[_0x228d52(0x62b)](_0x2b3700[_0x228d52(0x38b)],{'$set':{'status':_0x228d52(0x420)}},{'new':!0x0}),await new Promise(_0x565342=>setTimeout(_0x565342,0x1388));}},_0x249d21=async()=>{const _0x42a046=a0_0x4f0a;let _0x1106de=await U[_0x42a046(0x289)]({'owner':this['instance'][_0x42a046(0x30d)],'status':_0x42a046(0x785),'when':{'$gt':Date['now']()}})['sort']({'when':0x1});_0x1106de&&_0x1106de['when']-Date[_0x42a046(0x536)]()<=0x5265c00?this[_0x42a046(0x58d)]=_0x1106de['when']-Date[_0x42a046(0x536)]():this[_0x42a046(0x58d)]=(0x3c+Math[_0x42a046(0x60a)](Math[_0x42a046(0x2d3)]()*0x3c))*0x3c*0x3e8,this[_0x42a046(0x58d)]=Math[_0x42a046(0x762)](this['delayMessage'],0x7d0);let _0x528076=Math[_0x42a046(0x1c7)](this[_0x42a046(0x58d)]/0xea60);if(_0x1106de){let _0x220d38=new Date(_0x1106de[_0x42a046(0x308)])[_0x42a046(0x484)]();this[_0x42a046(0x3a1)][_0x42a046(0x227)](this['instanceName']+'\x20('+this[_0x42a046(0x300)]['wuid']+_0x42a046(0x264)+_0x220d38+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x528076+_0x42a046(0x382));}else this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x42a046(0x300)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x528076+_0x42a046(0x382));setTimeout(()=>this[_0x42a046(0x75a)](),this[_0x42a046(0x58d)]);};if(this[_0x898c85(0x2ee)]&&Date[_0x898c85(0x536)]()-this[_0x898c85(0x6c0)]<0x1d4c0){_0x48a1b6();return;}try{let _0x1226b8=await _0x3438e2();_0x1226b8[_0x898c85(0x4b8)]===0x0?this[_0x898c85(0x3a1)][_0x898c85(0x227)](this['instanceName']+'\x20('+this[_0x898c85(0x300)][_0x898c85(0x30d)]+_0x898c85(0x5d2)):(this[_0x898c85(0x2ee)]=_0x1226b8[0x0][_0x898c85(0x38b)],await _0x7d1ac5(_0x1226b8)),await _0x249d21(),this[_0x898c85(0x2ee)]=null;}catch(_0x158c19){this['logger'][_0x898c85(0x558)]('Error\x20in\x20scheduleNextCheck:\x20'+_0x158c19[_0x898c85(0x4e5)]);}}[a0_0xac1afc(0x4c9)](_0x397b29,_0x494139){const _0x85981d=a0_0xac1afc;return _0x397b29=Math['max'](0.5,_0x397b29),_0x494139=Math[_0x85981d(0x762)](0x3,_0x494139),Math[_0x85981d(0x60a)](Math[_0x85981d(0x2d3)]()*(_0x494139-_0x397b29+0x1)+_0x397b29)*0x3e8;}['sleep'](_0x9c27e2){return new Promise(_0x1ac5ba=>setTimeout(_0x1ac5ba,_0x9c27e2));}async[a0_0xac1afc(0x242)](_0x48ff82){const _0x1b6147=a0_0xac1afc;if(!this[_0x1b6147(0x38d)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x48ff82=this[_0x1b6147(0x700)](_0x48ff82);let _0x5b4345=await I[_0x1b6147(0x289)]({'id':_0x48ff82,'owner':this[_0x1b6147(0x300)][_0x1b6147(0x30d)]}),_0x1ae97e={};if(_0x5b4345&&_0x5b4345[_0x1b6147(0x21f)]){let _0x126c63=_0x5b4345[_0x1b6147(0x21f)];typeof _0x126c63[_0x1b6147(0x423)]==_0x1b6147(0x70e)&&(_0x1ae97e['nome']=_0x126c63[_0x1b6147(0x423)]),typeof _0x126c63['nomecompleto']==_0x1b6147(0x70e)&&(_0x1ae97e['nomecompleto']=_0x126c63['nomecompleto']),typeof _0x126c63[_0x1b6147(0x4e3)]==_0x1b6147(0x70e)&&(_0x1ae97e[_0x1b6147(0x4e3)]=_0x126c63[_0x1b6147(0x4e3)]),typeof _0x126c63[_0x1b6147(0x768)]==_0x1b6147(0x70e)&&(_0x1ae97e[_0x1b6147(0x768)]=_0x126c63[_0x1b6147(0x768)]),typeof _0x126c63['status']==_0x1b6147(0x70e)&&(_0x1ae97e['status']=_0x126c63[_0x1b6147(0x798)]),typeof _0x126c63[_0x1b6147(0x680)]=='string'&&(_0x1ae97e[_0x1b6147(0x680)]=_0x126c63[_0x1b6147(0x680)]),typeof _0x126c63[_0x1b6147(0x70a)]==_0x1b6147(0x70e)&&(_0x1ae97e[_0x1b6147(0x70a)]=_0x126c63[_0x1b6147(0x70a)]),Array[_0x1b6147(0x4e8)](_0x126c63['tags'])&&(_0x1ae97e[_0x1b6147(0x772)]=_0x126c63[_0x1b6147(0x772)][_0x1b6147(0x4c5)](',\x20'));}return _0x5b4345&&_0x5b4345[_0x1b6147(0x21f)]&&_0x5b4345[_0x1b6147(0x21f)][_0x1b6147(0x751)]&&_0x5b4345[_0x1b6147(0x21f)][_0x1b6147(0x751)]['forEach'](_0x42bfdd=>{const _0x153bc2=_0x1b6147;let _0x217835=this['AutomateSystem']?.[_0x153bc2(0x751)][_0x153bc2(0x621)](_0x52560b=>_0x52560b[_0x153bc2(0x38b)]===_0x42bfdd[_0x153bc2(0x38b)]);_0x217835&&(_0x1ae97e[_0x217835[_0x153bc2(0x587)]]=_0x42bfdd[_0x153bc2(0x1fc)]);}),_0x1ae97e;}async['replaceVariablesChat'](_0x3f8892,_0x5ee305){const _0x834d6a=a0_0xac1afc;let _0x1df7d6=await this[_0x834d6a(0x242)](_0x5ee305);return this[_0x834d6a(0x261)](_0x3f8892,_0x1df7d6);}async[a0_0xac1afc(0x320)](_0x58610d){const _0x31efbc=a0_0xac1afc;try{if(this['logger'][_0x31efbc(0x227)](this[_0x31efbc(0x624)]+'\x20('+this[_0x31efbc(0x300)][_0x31efbc(0x30d)]+_0x31efbc(0x3ba)),_0x58610d['delete']&&_0x58610d[_0x31efbc(0x38b)]){if(this['processingScheduleMessageId']===_0x58610d[_0x31efbc(0x38b)][_0x31efbc(0x344)]())throw new Error(_0x31efbc(0x284));let _0x31f495=await U[_0x31efbc(0x374)](_0x58610d[_0x31efbc(0x38b)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x31f495;}let _0x447b8f;if(_0x58610d['_id']&&(_0x447b8f=await U['findOne']({'owner':this[_0x31efbc(0x300)][_0x31efbc(0x30d)],'_id':_0x58610d[_0x31efbc(0x38b)]})),_0x447b8f){let _0x4bbeca=_0x58610d;this['processingScheduleMessageId']===_0x447b8f[_0x31efbc(0x38b)][_0x31efbc(0x344)]()&&(_0x4bbeca={'status':_0x58610d[_0x31efbc(0x798)],'_id':_0x58610d['_id']});let _0x52a6c6=await U[_0x31efbc(0x62b)](_0x447b8f['_id'],{'$set':_0x4bbeca},{'new':!0x0});return setTimeout(()=>this[_0x31efbc(0x75a)](),0x7d0),_0x52a6c6;}else{_0x58610d[_0x31efbc(0x533)]=this[_0x31efbc(0x300)][_0x31efbc(0x30d)];let _0x38e3cd=await new U(_0x58610d)[_0x31efbc(0x6df)]();return setTimeout(()=>this[_0x31efbc(0x75a)](),0x7d0),_0x38e3cd;}}catch(_0x2fd1ca){throw this['logger'][_0x31efbc(0x558)](this[_0x31efbc(0x624)]+'\x20('+this[_0x31efbc(0x300)][_0x31efbc(0x30d)]+_0x31efbc(0x2a7)+_0x2fd1ca),new g(_0x31efbc(0x340)+_0x2fd1ca['message']);}}async['getScheduleMessage'](){const _0x4d8112=a0_0xac1afc;try{return await U['find']({'owner':this[_0x4d8112(0x300)][_0x4d8112(0x30d)]})[_0x4d8112(0x1cf)]({'when':0x1});}catch(_0x5955e1){throw this[_0x4d8112(0x3a1)][_0x4d8112(0x558)](this[_0x4d8112(0x624)]+'\x20('+this[_0x4d8112(0x300)]['wuid']+_0x4d8112(0x7b0)+_0x5955e1),new g('Erro:'+_0x5955e1['message']);}}async[a0_0xac1afc(0x428)](){const _0x1faa90=a0_0xac1afc;try{return await U[_0x1faa90(0x712)]({'owner':this['instance'][_0x1faa90(0x30d)],'status':_0x1faa90(0x420)}),this['logger'][_0x1faa90(0x227)](this['instanceName']+'\x20('+this[_0x1faa90(0x300)][_0x1faa90(0x30d)]+_0x1faa90(0x41f)),this[_0x1faa90(0x205)]();}catch(_0x198c90){throw this['logger'][_0x1faa90(0x558)](this[_0x1faa90(0x624)]+'\x20('+this[_0x1faa90(0x300)][_0x1faa90(0x30d)]+_0x1faa90(0x6b2)+_0x198c90),new g(_0x1faa90(0x340)+_0x198c90[_0x1faa90(0x4e5)]);}}async['SendScheduleMessage'](_0x3663ff,_0x4bd7e1){const _0x1ca7f3=a0_0xac1afc;try{switch(_0x4bd7e1['type']){case'text':return await this[_0x1ca7f3(0x296)](_0x4bd7e1,_0x3663ff);case'media':return await this[_0x1ca7f3(0x6d0)](_0x4bd7e1,_0x3663ff);case _0x1ca7f3(0x6a4):return await this[_0x1ca7f3(0x2d5)](_0x4bd7e1,_0x3663ff);default:return this[_0x1ca7f3(0x3a1)][_0x1ca7f3(0x558)](this[_0x1ca7f3(0x624)]+'\x20('+this[_0x1ca7f3(0x300)][_0x1ca7f3(0x30d)]+_0x1ca7f3(0x705)+_0x4bd7e1[_0x1ca7f3(0x2da)]),{'status':_0x1ca7f3(0x558),'detail':_0x1ca7f3(0x26b)};}}catch(_0x574f69){return this[_0x1ca7f3(0x3a1)]['error'](this[_0x1ca7f3(0x624)]+'\x20('+this[_0x1ca7f3(0x300)][_0x1ca7f3(0x30d)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+_0x574f69),{'status':'error','detail':_0x574f69[_0x1ca7f3(0x4e5)]};}}['getRandomText'](_0x4ad7e5){const _0x8e1553=a0_0xac1afc;let _0x25576a=_0x4ad7e5[_0x8e1553(0x5bf)]('|'),_0x56c458=Math[_0x8e1553(0x60a)](Math[_0x8e1553(0x2d3)]()*_0x25576a['length']);return _0x25576a[_0x56c458][_0x8e1553(0x50a)]();}async[a0_0xac1afc(0x296)](_0x1b7db3,_0x268a30){const _0x5cf142=a0_0xac1afc;if(this[_0x5cf142(0x3a1)][_0x5cf142(0x227)](this[_0x5cf142(0x624)]+'\x20('+this[_0x5cf142(0x300)]['wuid']+_0x5cf142(0x6a3)),!_0x1b7db3[_0x5cf142(0x4e5)][_0x5cf142(0x6a5)]||_0x1b7db3[_0x5cf142(0x4e5)]['text']['length']===0x0)return{'error':!0x0,'error_log':_0x5cf142(0x32e)};let _0x1ee23c=this[_0x5cf142(0x2ec)](_0x1b7db3[_0x5cf142(0x4e5)][_0x5cf142(0x6a5)]),_0x28ebae=await this[_0x5cf142(0x743)](_0x1ee23c,_0x268a30),_0x3da9f4={'number':_0x268a30,'options':{'delay':_0x1b7db3[_0x5cf142(0x4e5)]['delay']},'textMessage':{'text':_0x28ebae}},_0x10f8c7=null;try{let _0x46df4a=await this[_0x5cf142(0x623)](_0x3da9f4);if(_0x46df4a&&_0x46df4a[_0x5cf142(0x798)])return{'error':!0x1,'id':_0x46df4a[_0x5cf142(0x456)]['id']};_0x10f8c7=JSON['stringify'](_0x46df4a),this[_0x5cf142(0x3a1)][_0x5cf142(0x227)](this[_0x5cf142(0x624)]+'\x20('+this[_0x5cf142(0x300)][_0x5cf142(0x30d)]+'):\x20'+_0x10f8c7);}catch(_0x33425c){this[_0x5cf142(0x3a1)][_0x5cf142(0x558)](this[_0x5cf142(0x624)]+'\x20('+this['instance'][_0x5cf142(0x30d)]+_0x5cf142(0x4fc)+_0x33425c),_0x10f8c7=_0x33425c[_0x5cf142(0x4e5)];}if(_0x10f8c7)return{'error':!0x0,'error_log':(typeof _0x10f8c7==_0x5cf142(0x5de)?JSON[_0x5cf142(0x47f)](_0x10f8c7,null,0x2):_0x10f8c7)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5cf142(0x5fa)](/  +/g,'\x20')};}async[a0_0xac1afc(0x6d0)](_0x11a307,_0x2300fc){const _0x1729e8=a0_0xac1afc;this[_0x1729e8(0x3a1)][_0x1729e8(0x227)](this[_0x1729e8(0x624)]+'\x20('+this[_0x1729e8(0x300)][_0x1729e8(0x30d)]+'):\x20Enviando\x20mídia');let _0x39be4d;if(_0x11a307[_0x1729e8(0x4e5)]['text']&&_0x11a307[_0x1729e8(0x4e5)][_0x1729e8(0x6a5)][_0x1729e8(0x4b8)]>0x0){let _0x4d0b22=this[_0x1729e8(0x2ec)](_0x11a307[_0x1729e8(0x4e5)]['text']);_0x39be4d=await this[_0x1729e8(0x743)](_0x4d0b22,_0x2300fc);}let _0x3d9cfd={'number':_0x2300fc,'options':{'delay':_0x11a307['message'][_0x1729e8(0x313)]},'mediaMessage':{'mediatype':_0x11a307[_0x1729e8(0x4e5)][_0x1729e8(0x36f)],'caption':_0x39be4d,'media':_0x11a307[_0x1729e8(0x4e5)][_0x1729e8(0x4f7)]}},_0x29e58b=null;try{let _0x2c1ce9=await this[_0x1729e8(0x330)](_0x3d9cfd);if(_0x2c1ce9&&_0x2c1ce9[_0x1729e8(0x798)])return{'error':!0x1,'id':_0x2c1ce9[_0x1729e8(0x456)]['id']};_0x29e58b=JSON[_0x1729e8(0x47f)](_0x2c1ce9),this[_0x1729e8(0x3a1)][_0x1729e8(0x227)](this[_0x1729e8(0x624)]+'\x20('+this[_0x1729e8(0x300)]['wuid']+_0x1729e8(0x4b0)+_0x29e58b);}catch(_0x5320c8){this[_0x1729e8(0x3a1)]['error'](this['instanceName']+'\x20('+this[_0x1729e8(0x300)][_0x1729e8(0x30d)]+_0x1729e8(0x43d)+_0x5320c8[_0x1729e8(0x4e5)]),_0x29e58b=_0x5320c8[_0x1729e8(0x4e5)];}if(_0x29e58b)return{'error':!0x0,'error_log':(typeof _0x29e58b=='object'?JSON[_0x1729e8(0x47f)](_0x29e58b,null,0x2):_0x29e58b)[_0x1729e8(0x5fa)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0xac1afc(0x2d5)](_0x3c7072,_0xd38147){const _0x5555b5=a0_0xac1afc;this['logger'][_0x5555b5(0x227)](this[_0x5555b5(0x624)]+'\x20('+this[_0x5555b5(0x300)][_0x5555b5(0x30d)]+'):\x20Enviando\x20áudio');let _0xc66ebf={'number':_0xd38147,'options':{'delay':_0x3c7072['message']['delay']},'audioMessage':{'audio':_0x3c7072[_0x5555b5(0x4e5)][_0x5555b5(0x4f7)]}},_0x58a669=null;try{let _0x441115=await this['audioWhatsapp'](_0xc66ebf);if(_0x441115&&_0x441115[_0x5555b5(0x798)])return{'error':!0x1,'id':_0x441115[_0x5555b5(0x456)]['id']};_0x58a669=JSON[_0x5555b5(0x47f)](_0x441115),this['logger'][_0x5555b5(0x227)](this['instanceName']+'\x20('+this[_0x5555b5(0x300)]['wuid']+_0x5555b5(0x4b0)+_0x58a669);}catch(_0x4b3364){this[_0x5555b5(0x3a1)][_0x5555b5(0x558)](this[_0x5555b5(0x624)]+'\x20('+this['instance']['wuid']+_0x5555b5(0x60d)+_0x4b3364),_0x58a669=_0x4b3364[_0x5555b5(0x4e5)];}if(_0x58a669)return{'error':!0x0,'error_log':(typeof _0x58a669=='object'?JSON[_0x5555b5(0x47f)](_0x58a669,null,0x2):_0x58a669)[_0x5555b5(0x5fa)](/[\[\]{}\n]/g,'\x20')[_0x5555b5(0x5fa)](/  +/g,'\x20')};}},ve=require(a0_0xac1afc(0x1fb)),Ft=class c{constructor(_0x4a1e0a,_0x39e31b,_0x2db95b){const _0x16c2c7=a0_0xac1afc;this[_0x16c2c7(0x54c)]=_0x4a1e0a,this['configService']=_0x39e31b,this[_0x16c2c7(0x754)]=_0x2db95b,this['db']={},this[_0x16c2c7(0x7a1)]={},this[_0x16c2c7(0x3a1)]=new N(c[_0x16c2c7(0x587)]),this['waInstances']={},(this[_0x16c2c7(0x457)](),this[_0x16c2c7(0x315)](),this[_0x16c2c7(0x47d)](),Object[_0x16c2c7(0x512)](this['db'],_0x39e31b['get'](_0x16c2c7(0x1d1))),Object[_0x16c2c7(0x512)](this[_0x16c2c7(0x7a1)],_0x39e31b['get'](_0x16c2c7(0x708))),this[_0x16c2c7(0x206)]=this['db']['ENABLED']?this[_0x16c2c7(0x754)][_0x16c2c7(0x569)]?.['db'](this['db'][_0x16c2c7(0x49f)][_0x16c2c7(0x417)]+_0x16c2c7(0x5e5)):void 0x0,this['redisCache']=this[_0x16c2c7(0x7a1)][_0x16c2c7(0x753)]?new be(this[_0x16c2c7(0x7a1)]):void 0x0);}['delInstanceTime'](_0x3113e0){const _0x550327=a0_0xac1afc;let _0x3e3d3=this[_0x550327(0x2f4)][_0x550327(0x50b)](_0x550327(0x23a));typeof _0x3e3d3=='number'&&_0x3e3d3>0x0&&setTimeout(()=>{const _0x2e1f43=_0x550327;this[_0x2e1f43(0x3ff)][_0x3113e0]?.['connectionStatus']?.[_0x2e1f43(0x22c)]!==_0x2e1f43(0x280)&&delete this['waInstances'][_0x3113e0];},0x3e8*0x3c*_0x3e3d3);}async[a0_0xac1afc(0x2be)](_0x3fca30){const _0x2a423e=a0_0xac1afc;if(_0x3fca30&&!this['waInstances'][_0x3fca30])throw new x(_0x2a423e(0x547)+_0x3fca30+_0x2a423e(0x5f9));let _0x12c878=[];for await(let [_0x247d9f,_0x596322]of Object[_0x2a423e(0x5b7)](this['waInstances']))if(_0x596322&&_0x596322[_0x2a423e(0x540)][_0x2a423e(0x22c)]===_0x2a423e(0x280)){let _0x44f1e5=await this[_0x2a423e(0x754)][_0x2a423e(0x6cb)][_0x2a423e(0x621)](_0x247d9f);_0x12c878[_0x2a423e(0x4b4)]({'instance':{'instanceName':_0x247d9f,'apikey':_0x44f1e5[_0x2a423e(0x405)],'owner':_0x596322[_0x2a423e(0x30d)],'profileName':await _0x596322[_0x2a423e(0x7a8)]()||_0x2a423e(0x1f6),'profilePictureUrl':_0x596322['profilePictureUrl']}});}return _0x12c878[_0x2a423e(0x621)](_0x14e7ca=>_0x14e7ca[_0x2a423e(0x300)][_0x2a423e(0x624)]===_0x3fca30)??_0x12c878;}[a0_0xac1afc(0x47d)](){setInterval(async()=>{const _0x118ce2=a0_0x4f0a;if(this['db'][_0x118ce2(0x753)])(await this['dbInstance'][_0x118ce2(0x79e)]())[_0x118ce2(0x458)](async _0x29aef2=>{const _0x49fe7a=_0x118ce2;let _0x3418d0=_0x29aef2[_0x49fe7a(0x225)][_0x49fe7a(0x5fa)](/^[\w-]+./,'');await this[_0x49fe7a(0x206)][_0x49fe7a(0x766)](_0x3418d0)[_0x49fe7a(0x712)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0xdaefff=(0x0,se[_0x118ce2(0x381)])(j,{'encoding':'utf-8'});for await(let _0x5e7bb9 of _0xdaefff)_0x5e7bb9['isDirectory']()&&(0x0,se[_0x118ce2(0x72a)])((0x0,ve[_0x118ce2(0x4c5)])(j,_0x5e7bb9[_0x118ce2(0x587)]),{'encoding':'utf-8'})['forEach'](async _0x2f5215=>{const _0x27d6ba=_0x118ce2;(_0x2f5215[_0x27d6ba(0x6fb)](/^app.state.*/)||_0x2f5215[_0x27d6ba(0x6fb)](/^session-.*/))&&(0x0,se[_0x27d6ba(0x6d7)])((0x0,ve[_0x27d6ba(0x4c5)])(j,_0x5e7bb9[_0x27d6ba(0x587)],_0x2f5215),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0xac1afc(0x2b8)](_0x2ceda8){const _0x5df177=a0_0xac1afc;this['db'][_0x5df177(0x753)]&&(await this[_0x5df177(0x754)][_0x5df177(0x569)]['connect'](),(await this['dbInstance'][_0x5df177(0x79e)]())['length']>0x0&&await this[_0x5df177(0x206)][_0x5df177(0x583)](_0x2ceda8)),this[_0x5df177(0x7a1)][_0x5df177(0x753)]&&(this['redisCache'][_0x5df177(0x39d)]=_0x2ceda8,await this[_0x5df177(0x39a)][_0x5df177(0x557)]()),!this['db'][_0x5df177(0x753)]&&!this[_0x5df177(0x7a1)][_0x5df177(0x753)]&&(0x0,se['rmSync'])((0x0,ve[_0x5df177(0x4c5)])(j,_0x2ceda8),{'recursive':!0x0,'force':!0x0});}async[a0_0xac1afc(0x398)](){const _0x5ae995=a0_0xac1afc;let _0x221068=async _0x33b7cb=>{const _0x396e11=a0_0x4f0a;let _0x4de02a=new Ee(this[_0x396e11(0x2f4)],this[_0x396e11(0x54c)],this[_0x396e11(0x754)]);_0x4de02a['instanceName']=_0x33b7cb,await _0x4de02a[_0x396e11(0x4a5)](),this[_0x396e11(0x3ff)][_0x33b7cb]=_0x4de02a;};try{if(this[_0x5ae995(0x7a1)][_0x5ae995(0x753)]){let _0x25cd0c=await this[_0x5ae995(0x39a)][_0x5ae995(0x2b6)]();_0x25cd0c?.['length']>0x0&&_0x25cd0c['forEach'](async _0x16ea93=>await _0x221068(_0x16ea93[_0x5ae995(0x5bf)](':')[0x1]));}if(this['db'][_0x5ae995(0x753)]){await this[_0x5ae995(0x754)][_0x5ae995(0x569)][_0x5ae995(0x6e9)]();let _0x383fc8=await this['dbInstance'][_0x5ae995(0x79e)]();_0x383fc8['length']>0x0&&_0x383fc8[_0x5ae995(0x458)](async _0x21f3bb=>await _0x221068(_0x21f3bb[_0x5ae995(0x225)][_0x5ae995(0x5fa)](/^[\w-]+\./,'')));return;}let _0x257257=(0x0,se[_0x5ae995(0x381)])(j,{'encoding':_0x5ae995(0x2e8)});for await(let _0x377bfa of _0x257257)if(_0x377bfa['isDirectory']()){if((0x0,se[_0x5ae995(0x72a)])((0x0,ve['join'])(j,_0x377bfa['name']),{'encoding':_0x5ae995(0x2e8)})[_0x5ae995(0x4b8)]===0x0){(0x0,se['rmSync'])((0x0,ve['join'])(j,_0x377bfa['name']),{'recursive':!0x0,'force':!0x0});break;}await _0x221068(_0x377bfa['name']);}}catch(_0x412aca){this['logger'][_0x5ae995(0x558)](_0x412aca);}}[a0_0xac1afc(0x457)](){const _0x40a8b4=a0_0xac1afc;this[_0x40a8b4(0x54c)]['on'](_0x40a8b4(0x3e4),async _0x5a6ef8=>{const _0x2c3874=_0x40a8b4;try{this[_0x2c3874(0x3ff)][_0x5a6ef8]=void 0x0;}catch{}try{this['cleaningUp'](_0x5a6ef8);}finally{this[_0x2c3874(0x3a1)][_0x2c3874(0x234)](_0x2c3874(0x547)+_0x5a6ef8+'\x22\x20-\x20REMOVED');}});}[a0_0xac1afc(0x315)](){const _0x81829f=a0_0xac1afc;this[_0x81829f(0x54c)]['on'](_0x81829f(0x6ed),async _0x38279f=>{const _0x1fac62=_0x81829f;try{this[_0x1fac62(0x3ff)][_0x38279f]=void 0x0,this['cleaningUp'](_0x38279f);}catch(_0x4d76a9){this[_0x1fac62(0x3a1)][_0x1fac62(0x558)]({'localError':_0x1fac62(0x315),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x4d76a9});}finally{this[_0x1fac62(0x3a1)][_0x1fac62(0x234)]('Instance\x20\x22'+_0x38279f+_0x1fac62(0x5d1));}});}},xe=require('path'),Ce=require('fs'),Jt=class extends B{constructor(_0x5ae824,_0x27124f){super(_0x27124f),this['chatModel']=_0x5ae824,this['configService']=_0x27124f;}async[a0_0xac1afc(0x2fe)](_0x1a8e76,_0x174a5e=!0x1){const _0x4115d1=a0_0xac1afc;if(_0x1a8e76[_0x4115d1(0x4b8)]!==0x0)try{return this[_0x4115d1(0x597)][_0x4115d1(0x753)]&&_0x174a5e?{'insertCount':(await this['chatModel'][_0x4115d1(0x4f6)]([..._0x1a8e76]))[_0x4115d1(0x4b8)]}:(_0x1a8e76[_0x4115d1(0x458)](_0xc7f1ff=>{const _0x31844a=_0x4115d1;this[_0x31844a(0x559)]({'path':(0x0,xe[_0x31844a(0x4c5)])(this[_0x31844a(0x716)],_0x31844a(0x3ac),_0xc7f1ff[_0x31844a(0x533)]),'fileName':_0xc7f1ff['id'],'data':_0xc7f1ff});}),{'insertCount':_0x1a8e76[_0x4115d1(0x4b8)]});}catch(_0x225ba5){return _0x225ba5;}finally{_0x1a8e76=void 0x0;}}async[a0_0xac1afc(0x621)](_0x122adb){const _0x3ec9cf=a0_0xac1afc;try{if(this[_0x3ec9cf(0x597)]['ENABLED'])return await this['chatModel'][_0x3ec9cf(0x621)]({'owner':_0x122adb[_0x3ec9cf(0x73e)][_0x3ec9cf(0x533)]})[_0x3ec9cf(0x1cf)]({'lastmsg':-0x1})[_0x3ec9cf(0x6de)](_0x122adb?.[_0x3ec9cf(0x6de)]??0x0)[_0x3ec9cf(0x237)]();let _0x44f7b3=[],_0xc65da2=(0x0,Ce[_0x3ec9cf(0x381)])((0x0,xe[_0x3ec9cf(0x4c5)])(this[_0x3ec9cf(0x716)],'chats',_0x122adb[_0x3ec9cf(0x73e)]['owner']));for await(let _0x59303e of _0xc65da2)_0x59303e[_0x3ec9cf(0x6e2)]()&&_0x44f7b3['push'](JSON[_0x3ec9cf(0x61f)]((0x0,Ce[_0x3ec9cf(0x763)])((0x0,xe[_0x3ec9cf(0x4c5)])(this[_0x3ec9cf(0x716)],'chats',_0x122adb[_0x3ec9cf(0x73e)]['owner'],_0x59303e[_0x3ec9cf(0x587)]),{'encoding':_0x3ec9cf(0x2e8)})));return _0x44f7b3;}catch{return[];}}async[a0_0xac1afc(0x2e7)](_0x47a3de){const _0x46cf79=a0_0xac1afc;try{return this[_0x46cf79(0x597)]['ENABLED']?await this['chatModel'][_0x46cf79(0x712)]({..._0x47a3de[_0x46cf79(0x73e)]}):((0x0,Ce['rmSync'])((0x0,xe[_0x46cf79(0x4c5)])(this[_0x46cf79(0x716)],_0x46cf79(0x3ac),_0x47a3de[_0x46cf79(0x73e)]['owner'],_0x47a3de['where']['id']+_0x46cf79(0x3f1)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x47a3de[_0x46cf79(0x73e)]['id']}});}catch(_0x103271){return{'error':_0x103271?.[_0x46cf79(0x344)]()};}}async[a0_0xac1afc(0x289)](_0x44ad79){const _0x57ce6d=a0_0xac1afc;try{if(this[_0x57ce6d(0x597)][_0x57ce6d(0x753)])return await this[_0x57ce6d(0x59b)][_0x57ce6d(0x289)]({'owner':_0x44ad79[_0x57ce6d(0x73e)][_0x57ce6d(0x533)]})[_0x57ce6d(0x237)]();}catch{return null;}}async[a0_0xac1afc(0x778)](_0xb050b9,_0x4509b0){const _0x306f65=a0_0xac1afc;try{this['dbSettings']['ENABLED']&&await this[_0x306f65(0x59b)][_0x306f65(0x208)]({..._0xb050b9['where']},{'$set':_0x4509b0});}catch(_0x547031){console[_0x306f65(0x558)](_0x547031);}}async[a0_0xac1afc(0x244)](_0x2054e3,_0x4716fd){const _0x23f230=a0_0xac1afc;try{if(this[_0x23f230(0x597)][_0x23f230(0x753)]){let _0x40df04=_0x2054e3[_0x23f230(0x6d5)]((_0x5da317,_0x46af35)=>({'updateOne':{'filter':{..._0x5da317[_0x23f230(0x73e)]},'update':{'$set':_0x4716fd[_0x46af35]}}}));await this[_0x23f230(0x59b)][_0x23f230(0x486)](_0x40df04);}}catch(_0x3848d8){console[_0x23f230(0x558)](_0x3848d8);}}},Gt=class{constructor(_0x5d5402){const _0x973ee4=a0_0xac1afc;this[_0x973ee4(0x4be)]=_0x5d5402;}async[a0_0xac1afc(0x582)]({instanceName:_0x7f3db8},_0x10063d){const _0x42af5b=a0_0xac1afc;return await this[_0x42af5b(0x4be)][_0x42af5b(0x3ff)][_0x7f3db8][_0x42af5b(0x582)](_0x10063d);}async['whatsappNumber']({instanceName:_0x2dbe13},_0x5be226){const _0x58a9f8=a0_0xac1afc;return await this[_0x58a9f8(0x4be)][_0x58a9f8(0x3ff)][_0x2dbe13]['whatsappNumber'](_0x5be226);}async[a0_0xac1afc(0x47e)]({instanceName:_0x59f93c},_0x2c3990){const _0x14b43d=a0_0xac1afc;return await this[_0x14b43d(0x4be)][_0x14b43d(0x3ff)][_0x59f93c][_0x14b43d(0x3f7)](_0x2c3990);}async['archiveChat']({instanceName:_0x37e2bf},_0xddc34d){const _0x1c05de=a0_0xac1afc;return await this[_0x1c05de(0x4be)][_0x1c05de(0x3ff)][_0x37e2bf][_0x1c05de(0x3d0)](_0xddc34d);}async['deleteMessage']({instanceName:_0x2d9406},_0x3ee3a1){const _0x3e2516=a0_0xac1afc;return await this[_0x3e2516(0x4be)][_0x3e2516(0x3ff)][_0x2d9406][_0x3e2516(0x627)](_0x3ee3a1);}async[a0_0xac1afc(0x636)]({instanceName:_0x34a9cf},_0x18a6a0){const _0x5ee306=a0_0xac1afc;return await this[_0x5ee306(0x4be)][_0x5ee306(0x3ff)][_0x34a9cf][_0x5ee306(0x6c1)](_0x18a6a0[_0x5ee306(0x3c0)]);}async['fetchProfile']({instanceName:_0x593c90},_0x1d0e17){const _0x1de9d1=a0_0xac1afc;return await this[_0x1de9d1(0x4be)][_0x1de9d1(0x3ff)][_0x593c90][_0x1de9d1(0x3c1)](_0x1d0e17[_0x1de9d1(0x3c0)]);}async[a0_0xac1afc(0x64d)]({instanceName:_0x1f27a0},_0x52ea49){const _0x129286=a0_0xac1afc;return await this[_0x129286(0x4be)][_0x129286(0x3ff)][_0x1f27a0][_0x129286(0x64d)](_0x52ea49);}async[a0_0xac1afc(0x4d3)]({instanceName:_0x15510e},_0x2cbeb9){const _0x4bc58a=a0_0xac1afc;return await this[_0x4bc58a(0x4be)]['waInstances'][_0x15510e][_0x4bc58a(0x4d3)](_0x2cbeb9);}async[a0_0xac1afc(0x34a)]({instanceName:_0x892fef},_0xf7a0f8){const _0x529d1f=a0_0xac1afc;return await this[_0x529d1f(0x4be)][_0x529d1f(0x3ff)][_0x892fef][_0x529d1f(0x34a)](_0xf7a0f8);}async[a0_0xac1afc(0x5b3)]({instanceName:_0x484ebd},_0x3d9779){const _0x268bc3=a0_0xac1afc;return await this[_0x268bc3(0x4be)][_0x268bc3(0x3ff)][_0x484ebd]['fetchMessages'](_0x3d9779);}async[a0_0xac1afc(0x27d)]({instanceName:_0x1779ea},_0x3b4838){const _0x33afc9=a0_0xac1afc;return await this[_0x33afc9(0x4be)][_0x33afc9(0x3ff)][_0x1779ea][_0x33afc9(0x27d)](_0x3b4838);}async[a0_0xac1afc(0x787)]({instanceName:_0x1dade9}){const _0x357631=a0_0xac1afc;return await this[_0x357631(0x4be)][_0x357631(0x3ff)][_0x1dade9][_0x357631(0x787)]();}async[a0_0xac1afc(0x650)]({instanceName:_0x38be32}){const _0x4a18b1=a0_0xac1afc;return await this[_0x4a18b1(0x4be)][_0x4a18b1(0x3ff)][_0x38be32][_0x4a18b1(0x650)]();}async[a0_0xac1afc(0x53d)]({instanceName:_0x54d52a},_0x31da77){const _0x261c14=a0_0xac1afc;return await this[_0x261c14(0x4be)]['waInstances'][_0x54d52a][_0x261c14(0x53d)](_0x31da77);}async[a0_0xac1afc(0x661)]({instanceName:_0x51b937},_0x25eb33){const _0x1a884a=a0_0xac1afc;return await this[_0x1a884a(0x4be)][_0x1a884a(0x3ff)][_0x51b937][_0x1a884a(0x661)](_0x25eb33['number']);}async[a0_0xac1afc(0x5cf)]({instanceName:_0x2b9ddb},_0x25f611){const _0x22303d=a0_0xac1afc;return await this[_0x22303d(0x4be)][_0x22303d(0x3ff)][_0x2b9ddb][_0x22303d(0x5cf)](_0x25f611[_0x22303d(0x587)]);}async[a0_0xac1afc(0x356)]({instanceName:_0x476f7c},_0xfee39b){const _0x43f052=a0_0xac1afc;return await this[_0x43f052(0x4be)][_0x43f052(0x3ff)][_0x476f7c]['updateProfileStatus'](_0xfee39b[_0x43f052(0x798)]);}async[a0_0xac1afc(0x4b6)]({instanceName:_0xaddc32},_0x4ec85c){const _0x41be7d=a0_0xac1afc;return await this['waMonitor'][_0x41be7d(0x3ff)][_0xaddc32][_0x41be7d(0x4b6)](_0x4ec85c['picture']);}async[a0_0xac1afc(0x4bd)]({instanceName:_0x468580},_0x3da1d9){const _0x3450ef=a0_0xac1afc;return await this[_0x3450ef(0x4be)]['waInstances'][_0x468580][_0x3450ef(0x4bd)]();}},Rs=require(a0_0xac1afc(0x1c1)),qt=class c{constructor(_0x204286,_0x21d691,_0x381582,_0x2e953a,_0x6ec5e0){const _0x5b4d27=a0_0xac1afc;this[_0x5b4d27(0x4be)]=_0x204286,this[_0x5b4d27(0x2f4)]=_0x21d691,this[_0x5b4d27(0x754)]=_0x381582,this['eventEmitter']=_0x2e953a,this[_0x5b4d27(0x2b4)]=_0x6ec5e0,this['logger']=new N(c[_0x5b4d27(0x587)]);}async[a0_0xac1afc(0x590)]({instanceName:_0x44d213,apikey:_0x5ad6e0}){const _0x14489a=a0_0xac1afc;let _0xe83148=new Ee(this[_0x14489a(0x2f4)],this[_0x14489a(0x54c)],this[_0x14489a(0x754)]);_0xe83148['instanceName']=_0x44d213,this['waMonitor'][_0x14489a(0x3ff)][_0xe83148[_0x14489a(0x624)]]=_0xe83148,this[_0x14489a(0x4be)][_0x14489a(0x5b4)](_0xe83148['instanceName']);let _0x53461={};_0x5ad6e0?(await this[_0x14489a(0x754)][_0x14489a(0x6cb)][_0x14489a(0x6a6)]({'apikey':_0x5ad6e0},_0x44d213),_0x53461[_0x14489a(0x405)]=_0x5ad6e0):_0x53461=await this[_0x14489a(0x2b4)]['generateHash']({'instanceName':_0xe83148['instanceName']});let _0x42bf01;return await _0xe83148[_0x14489a(0x4a5)](),await(0x0,Rs['delay'])(0x7d0),_0x42bf01=_0xe83148[_0x14489a(0x4d4)],{'instance':{'instanceName':_0xe83148[_0x14489a(0x624)],'status':_0x14489a(0x22f)},'hash':_0x53461,'qrcode':_0x42bf01};}async[a0_0xac1afc(0x4a5)]({instanceName:_0xe8c894}){const _0x4f8019=a0_0xac1afc;try{let _0x4834fc=this['waMonitor'][_0x4f8019(0x3ff)][_0xe8c894];switch(_0x4834fc['connectionStatus']?.[_0x4f8019(0x22c)]){case _0x4f8019(0x283):return await _0x4834fc[_0x4f8019(0x4a5)](),await(0x0,Rs['delay'])(0x7d0),_0x4834fc['qrCode'];case _0x4f8019(0x3a4):return _0x4834fc[_0x4f8019(0x4d4)];default:return await this[_0x4f8019(0x376)]({'instanceName':_0xe8c894});}}catch(_0x2e17ff){this['logger']['log'](_0x2e17ff);}}async[a0_0xac1afc(0x376)]({instanceName:_0x5a125f}){const _0x2012b5=a0_0xac1afc;let _0x4f5077=this['waMonitor'][_0x2012b5(0x3ff)][_0x5a125f][_0x2012b5(0x540)],_0x527659=null;_0x4f5077['state']===_0x2012b5(0x280)&&_0x5a125f&&(_0x527659=await this[_0x2012b5(0x4be)][_0x2012b5(0x2be)](_0x5a125f));let _0x2d0f9e=null;return _0x4f5077[_0x2012b5(0x22c)]===_0x2012b5(0x3a4)&&_0x5a125f&&(_0x2d0f9e=this['waMonitor'][_0x2012b5(0x3ff)][_0x5a125f][_0x2012b5(0x4d4)]),{'instance':_0x5a125f,'connectionStatus':_0x4f5077,'instanceInfo':_0x527659,'qrcode':_0x2d0f9e};}async['restartInstance']({instanceName:_0x2c5558}){const _0x2fe87d=a0_0xac1afc;try{return this['waMonitor']['waInstances'][_0x2c5558]?.[_0x2fe87d(0x57c)]?.['ws']?.[_0x2fe87d(0x283)](),{'status':_0x2fe87d(0x63c),'error':!0x1,'response':{'message':_0x2fe87d(0x68a)}};}catch(_0x13ad13){this[_0x2fe87d(0x3a1)][_0x2fe87d(0x558)](_0x13ad13);}}async['fetchInstances']({instanceName:_0x4d16e6}){const _0x4077d6=a0_0xac1afc;return _0x4d16e6?this[_0x4077d6(0x4be)]['instanceInfo'](_0x4d16e6):this[_0x4077d6(0x4be)][_0x4077d6(0x2be)]();}async[a0_0xac1afc(0x68e)]({instanceName:_0x146c1f}){const _0x5f2514=a0_0xac1afc;try{return await this[_0x5f2514(0x4be)]['waInstances'][_0x146c1f]?.['client']?.['logout'](_0x5f2514(0x5c1)+_0x146c1f),{'error':!0x1,'message':_0x5f2514(0x31e)};}catch(_0x3735cb){throw new A(_0x3735cb[_0x5f2514(0x344)]());}}async[a0_0xac1afc(0x1e4)]({instanceName:_0x1954ef}){const _0x123e5f=a0_0xac1afc;if((await this['connectionState']({'instanceName':_0x1954ef}))['connectionStatus'][_0x123e5f(0x22c)]==='open')throw new g(['Deletion\x20failed',_0x123e5f(0x4f4)]);try{return delete this[_0x123e5f(0x4be)][_0x123e5f(0x3ff)][_0x1954ef],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x4d7685){throw new g(_0x4d7685[_0x123e5f(0x344)]());}}async[a0_0xac1afc(0x6ad)](_0x50bcc3,_0x3ade4a){const _0x5bfc70=a0_0xac1afc;return await this[_0x5bfc70(0x2b4)][_0x5bfc70(0x6ad)](_0x3ade4a);}},ae=require(a0_0xac1afc(0x4a0)),Wt=class{constructor(_0x40a9e9){const _0x47e6f8=a0_0xac1afc;this[_0x47e6f8(0x4be)]=_0x40a9e9;}async[a0_0xac1afc(0x4ab)]({instanceName:_0x4cc5dc},_0x5c6869){const _0x43f605=a0_0xac1afc;return await this[_0x43f605(0x4be)][_0x43f605(0x3ff)][_0x4cc5dc]['textMessage'](_0x5c6869);}async[a0_0xac1afc(0x61a)]({instanceName:_0x5de97f},_0x486a8c){const _0x4810a8=a0_0xac1afc;if((0x0,ae['isBase64'])(_0x486a8c?.['mediaMessage']?.['media'])&&!_0x486a8c?.[_0x4810a8(0x330)]?.[_0x4810a8(0x3db)])throw new g(_0x4810a8(0x3b2));if((0x0,ae[_0x4810a8(0x467)])(_0x486a8c?.[_0x4810a8(0x330)]?.[_0x4810a8(0x6d4)])||(0x0,ae[_0x4810a8(0x75f)])(_0x486a8c?.[_0x4810a8(0x330)]?.[_0x4810a8(0x6d4)]))return await this[_0x4810a8(0x4be)][_0x4810a8(0x3ff)][_0x5de97f]['mediaMessage'](_0x486a8c);throw new g(_0x4810a8(0x5b6));}async['sendSticker']({instanceName:_0x425d2b},_0x18ddbb){const _0x19e9ea=a0_0xac1afc;if((0x0,ae[_0x19e9ea(0x467)])(_0x18ddbb[_0x19e9ea(0x443)]['image'])||(0x0,ae[_0x19e9ea(0x75f)])(_0x18ddbb[_0x19e9ea(0x443)][_0x19e9ea(0x6b0)]))return await this['waMonitor']['waInstances'][_0x425d2b][_0x19e9ea(0x6f3)](_0x18ddbb);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0xac1afc(0x70f)]({instanceName:_0x14de3f},_0xe13d9a){const _0x51edb6=a0_0xac1afc;if((0x0,ae[_0x51edb6(0x467)])(_0xe13d9a[_0x51edb6(0x691)]['audio'])||(0x0,ae[_0x51edb6(0x75f)])(_0xe13d9a[_0x51edb6(0x691)][_0x51edb6(0x6a4)]))return await this[_0x51edb6(0x4be)][_0x51edb6(0x3ff)][_0x14de3f][_0x51edb6(0x31f)](_0xe13d9a);throw new g(_0x51edb6(0x5b6));}async[a0_0xac1afc(0x566)]({instanceName:_0x3341f6},_0x3948e6){const _0x68cf3b=a0_0xac1afc;if((0x0,ae[_0x68cf3b(0x75f)])(_0x3948e6['buttonMessage']['mediaMessage']?.[_0x68cf3b(0x6d4)])&&!_0x3948e6['buttonMessage']['mediaMessage']?.[_0x68cf3b(0x3db)])throw new g(_0x68cf3b(0x3b2));return await this[_0x68cf3b(0x4be)][_0x68cf3b(0x3ff)][_0x3341f6][_0x68cf3b(0x67d)](_0x3948e6);}async[a0_0xac1afc(0x248)]({instanceName:_0xb7324f},_0x49c738){const _0x5bb166=a0_0xac1afc;return await this[_0x5bb166(0x4be)][_0x5bb166(0x3ff)][_0xb7324f][_0x5bb166(0x589)](_0x49c738);}async['sendPoll']({instanceName:_0x56b623},_0x1261ec){const _0x222a73=a0_0xac1afc;return await this[_0x222a73(0x4be)][_0x222a73(0x3ff)][_0x56b623][_0x222a73(0x55d)](_0x1261ec);}async[a0_0xac1afc(0x37a)]({instanceName:_0x458d41},_0x5e9797){const _0x49a6ae=a0_0xac1afc;return await this[_0x49a6ae(0x4be)][_0x49a6ae(0x3ff)][_0x458d41][_0x49a6ae(0x4de)](_0x5e9797);}async[a0_0xac1afc(0x272)]({instanceName:_0x2ca499},_0x953414){return await this['waMonitor']['waInstances'][_0x2ca499]['contactMessage'](_0x953414);}async[a0_0xac1afc(0x460)]({instanceName:_0x545603},_0x17bfe1){const _0x4759ce=a0_0xac1afc;if(!_0x17bfe1[_0x4759ce(0x465)][_0x4759ce(0x631)][_0x4759ce(0x6fb)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x4759ce(0x63d));return await this['waMonitor'][_0x4759ce(0x3ff)][_0x545603][_0x4759ce(0x465)](_0x17bfe1);}async['sendStatus']({instanceName:_0x1addcb},_0x29d137){const _0x5b795d=a0_0xac1afc;return await this['waMonitor'][_0x5b795d(0x3ff)][_0x1addcb][_0x5b795d(0x258)](_0x29d137);}},Ht=class{constructor(_0x32a4be){const _0x547c51=a0_0xac1afc;this[_0x547c51(0x4be)]=_0x32a4be;}async['createGroup'](_0x88e554,_0x252120){const _0x18b756=a0_0xac1afc;return await this[_0x18b756(0x4be)]['waInstances'][_0x88e554['instanceName']][_0x18b756(0x792)](_0x252120);}async[a0_0xac1afc(0x345)](_0x43bd8f,_0x70e9c6){const _0x1a316d=a0_0xac1afc;return await this[_0x1a316d(0x4be)]['waInstances'][_0x43bd8f['instanceName']]['updateGroupPicture'](_0x70e9c6);}async[a0_0xac1afc(0x202)](_0x44e502,_0x594be4){const _0x2dff87=a0_0xac1afc;return await this[_0x2dff87(0x4be)][_0x2dff87(0x3ff)][_0x44e502[_0x2dff87(0x624)]][_0x2dff87(0x202)](_0x594be4);}async[a0_0xac1afc(0x37b)](_0x44f066,_0x29d9c4){const _0x5335ff=a0_0xac1afc;return await this[_0x5335ff(0x4be)][_0x5335ff(0x3ff)][_0x44f066[_0x5335ff(0x624)]][_0x5335ff(0x37b)](_0x29d9c4);}async[a0_0xac1afc(0x37d)](_0x5c436e,_0xed41f0){const _0x16ad50=a0_0xac1afc;return await this['waMonitor'][_0x16ad50(0x3ff)][_0x5c436e[_0x16ad50(0x624)]][_0x16ad50(0x37d)](_0xed41f0);}async[a0_0xac1afc(0x1c2)](_0x25a339,_0x99c199){const _0x34405d=a0_0xac1afc;return await this[_0x34405d(0x4be)][_0x34405d(0x3ff)][_0x25a339[_0x34405d(0x624)]]['findGroup'](_0x99c199);}async[a0_0xac1afc(0x263)](_0x14aa07){const _0x3ccfd7=a0_0xac1afc;return await this['waMonitor'][_0x3ccfd7(0x3ff)][_0x14aa07[_0x3ccfd7(0x624)]]['findGroups']();}async[a0_0xac1afc(0x761)](_0x26d6b5,_0x886c78){const _0x3eca6b=a0_0xac1afc;return await this['waMonitor'][_0x3eca6b(0x3ff)][_0x26d6b5[_0x3eca6b(0x624)]]['inviteCode'](_0x886c78);}async[a0_0xac1afc(0x44a)](_0x1b7923,_0x157882){const _0x40b595=a0_0xac1afc;return await this[_0x40b595(0x4be)][_0x40b595(0x3ff)][_0x1b7923[_0x40b595(0x624)]]['joinGroup'](_0x157882);}async[a0_0xac1afc(0x40c)](_0x181dc9,_0x23724a){const _0x400f68=a0_0xac1afc;return await this[_0x400f68(0x4be)][_0x400f68(0x3ff)][_0x181dc9[_0x400f68(0x624)]][_0x400f68(0x40c)](_0x23724a);}async[a0_0xac1afc(0x367)](_0x24fe0e,_0x360b2c){const _0x4ad9bf=a0_0xac1afc;return await this[_0x4ad9bf(0x4be)][_0x4ad9bf(0x3ff)][_0x24fe0e[_0x4ad9bf(0x624)]][_0x4ad9bf(0x367)](_0x360b2c);}async['updateGParticipate'](_0x3793c4,_0x11a27d){const _0x4f867b=a0_0xac1afc;return await this[_0x4f867b(0x4be)][_0x4f867b(0x3ff)][_0x3793c4['instanceName']]['updateGParticipant'](_0x11a27d);}async[a0_0xac1afc(0x2df)](_0x5191d4,_0x44c95e){const _0x2ef1e4=a0_0xac1afc;return await this[_0x2ef1e4(0x4be)][_0x2ef1e4(0x3ff)][_0x5191d4[_0x2ef1e4(0x624)]][_0x2ef1e4(0x2df)](_0x44c95e);}async[a0_0xac1afc(0x510)](_0x1ffe24,_0xbe7ee0){const _0x30b24f=a0_0xac1afc;return await this[_0x30b24f(0x4be)][_0x30b24f(0x3ff)][_0x1ffe24[_0x30b24f(0x624)]]['leaveGroup'](_0xbe7ee0);}},Kt=class{constructor(_0x1637f4,_0x2ee3eb){const _0x5cc98c=a0_0xac1afc;this['waMonit']=_0x1637f4,this[_0x5cc98c(0x2f4)]=_0x2ee3eb;}async['qrcode'](_0x3bcdd2,_0x24fb71){const _0x50d22e=a0_0xac1afc;try{let _0x2c3285=_0x3bcdd2[_0x50d22e(0x2f2)];if(this[_0x50d22e(0x59d)][_0x50d22e(0x3ff)][_0x2c3285[_0x50d22e(0x624)]][_0x50d22e(0x540)]['state']===_0x50d22e(0x280))throw new g('The\x20instance\x20is\x20already\x20connected');let _0x446467=this['configService'][_0x50d22e(0x50b)]('AUTHENTICATION')[_0x50d22e(0x687)];return _0x24fb71[_0x50d22e(0x798)](0xc8)[_0x50d22e(0x47c)](_0x50d22e(0x366),{'type':_0x446467,..._0x2c3285});}catch(_0x2ce6c7){console[_0x50d22e(0x2b0)](_0x50d22e(0x3a9),_0x2ce6c7);}}},zt=class{constructor(_0x1231e3){const _0x629db=a0_0xac1afc;this[_0x629db(0x4be)]=_0x1231e3;}[a0_0xac1afc(0x6a6)](_0x5795cf,_0x4ce91f){const _0x5cb347=a0_0xac1afc;return this[_0x5cb347(0x4be)][_0x5cb347(0x3ff)][_0x5795cf[_0x5cb347(0x624)]][_0x5cb347(0x5ba)](_0x4ce91f);}async[a0_0xac1afc(0x621)](_0x3c51b8){const _0x35bef9=a0_0xac1afc;try{return await this[_0x35bef9(0x4be)][_0x35bef9(0x3ff)][_0x3c51b8['instanceName']][_0x35bef9(0x600)]();}catch{return{'enabled':null,'url':''};}}},dd=new N(a0_0xac1afc(0x78d)),Qt=class{constructor(_0x57cad8){this['waMonitor']=_0x57cad8;}async['editScheduleMessage'](_0x466d07,_0x5398b6){const _0x8472fd=a0_0xac1afc;return await this[_0x8472fd(0x4be)][_0x8472fd(0x3ff)][_0x466d07[_0x8472fd(0x624)]]['editScheduleMessage'](_0x5398b6);}async[a0_0xac1afc(0x205)](_0x4e404e){const _0x402938=a0_0xac1afc;return await this['waMonitor']['waInstances'][_0x4e404e[_0x402938(0x624)]][_0x402938(0x205)]();}async[a0_0xac1afc(0x428)](_0x4fe50f){const _0x46424e=a0_0xac1afc;return await this[_0x46424e(0x4be)][_0x46424e(0x3ff)][_0x4fe50f[_0x46424e(0x624)]][_0x46424e(0x428)]();}async[a0_0xac1afc(0x5d7)](_0x38a1ab){const _0x236482=a0_0xac1afc;return await this[_0x236482(0x4be)][_0x236482(0x3ff)][_0x38a1ab['instanceName']][_0x236482(0x5d7)]();}async[a0_0xac1afc(0x774)](_0xa98578,_0x13ace3){const _0x2fc753=a0_0xac1afc;return await this[_0x2fc753(0x4be)][_0x2fc753(0x3ff)][_0xa98578[_0x2fc753(0x624)]][_0x2fc753(0x774)](_0x13ace3);}async[a0_0xac1afc(0x1c9)](_0x161482,_0x44a9b2){const _0x2d9ba5=a0_0xac1afc;return await this[_0x2d9ba5(0x4be)]['waInstances'][_0x161482[_0x2d9ba5(0x624)]][_0x2d9ba5(0x1c9)](_0x44a9b2);}async[a0_0xac1afc(0x1d9)](_0x57529f,_0x5c77bb){const _0x3f48ab=a0_0xac1afc;return await this[_0x3f48ab(0x4be)][_0x3f48ab(0x3ff)][_0x57529f['instanceName']][_0x3f48ab(0x1d9)](_0x5c77bb);}async[a0_0xac1afc(0x501)](_0x45a766,_0x3d4b85){const _0x4b9aa9=a0_0xac1afc;return await this[_0x4b9aa9(0x4be)][_0x4b9aa9(0x3ff)][_0x45a766[_0x4b9aa9(0x624)]]['startFlow'](_0x3d4b85);}async['getConversation'](_0x45e729,_0x4d5bad){const _0x296c24=a0_0xac1afc;return await this[_0x296c24(0x4be)][_0x296c24(0x3ff)][_0x45e729[_0x296c24(0x624)]][_0x296c24(0x1f2)](_0x4d5bad);}async[a0_0xac1afc(0x2f3)](_0x2bd9b3,_0x2df5cc){const _0x2bd121=a0_0xac1afc;return await this[_0x2bd121(0x4be)][_0x2bd121(0x3ff)][_0x2bd9b3[_0x2bd121(0x624)]][_0x2bd121(0x2f3)](_0x2df5cc);}async[a0_0xac1afc(0x22d)](_0x25f40f,_0x5eed31){const _0x10ca37=a0_0xac1afc;return await this[_0x10ca37(0x4be)][_0x10ca37(0x3ff)][_0x25f40f['instanceName']][_0x10ca37(0x22d)](_0x5eed31);}async[a0_0xac1afc(0x406)](_0x17c661,_0x151633){const _0x1a2812=a0_0xac1afc;return await this['waMonitor']['waInstances'][_0x17c661[_0x1a2812(0x624)]][_0x1a2812(0x406)](_0x151633);}async['getFlow'](_0xc4e17c,_0x2dcbca){const _0x50a673=a0_0xac1afc;return await this[_0x50a673(0x4be)]['waInstances'][_0xc4e17c[_0x50a673(0x624)]]['getFlow'](_0x2dcbca['name']);}async[a0_0xac1afc(0x725)](_0x1bb456,_0x5b661d){const _0x16b39f=a0_0xac1afc;return await this[_0x16b39f(0x4be)][_0x16b39f(0x3ff)][_0x1bb456[_0x16b39f(0x624)]][_0x16b39f(0x725)](_0x5b661d);}async[a0_0xac1afc(0x335)](_0x252775,_0x40f884){const _0x23064e=a0_0xac1afc;return await this[_0x23064e(0x4be)][_0x23064e(0x3ff)][_0x252775[_0x23064e(0x624)]][_0x23064e(0x335)](_0x40f884);}async[a0_0xac1afc(0x685)](_0x27bae7,_0x43f330){const _0xf3b89=a0_0xac1afc;return await this[_0xf3b89(0x4be)][_0xf3b89(0x3ff)][_0x27bae7['instanceName']][_0xf3b89(0x685)](_0x43f330);}async['editFlowReply'](_0x5a6762,_0x5ef098){const _0x1307a0=a0_0xac1afc;return await this[_0x1307a0(0x4be)][_0x1307a0(0x3ff)][_0x5a6762['instanceName']]['editFlowReply'](_0x5ef098);}async[a0_0xac1afc(0x6b3)](_0x5178b4,_0x559d43){const _0x53d8ab=a0_0xac1afc;return await this[_0x53d8ab(0x4be)][_0x53d8ab(0x3ff)][_0x5178b4['instanceName']][_0x53d8ab(0x6b3)](_0x559d43);}async[a0_0xac1afc(0x3d4)](_0x39b829,_0xf33cf4){const _0xb3825=a0_0xac1afc;return await this[_0xb3825(0x4be)]['waInstances'][_0x39b829[_0xb3825(0x624)]][_0xb3825(0x3d4)](_0xf33cf4);}async[a0_0xac1afc(0x432)](_0xd9a2f5,_0x5a70fe){const _0x442765=a0_0xac1afc;return await this[_0x442765(0x4be)][_0x442765(0x3ff)][_0xd9a2f5['instanceName']][_0x442765(0x432)](_0x5a70fe);}async[a0_0xac1afc(0x492)](_0x310050,_0x26528d){const _0x10e97a=a0_0xac1afc;return await this[_0x10e97a(0x4be)][_0x10e97a(0x3ff)][_0x310050[_0x10e97a(0x624)]][_0x10e97a(0x492)](_0x26528d);}async[a0_0xac1afc(0x72f)](_0x768e96,_0x5c0f0a){const _0xb339ca=a0_0xac1afc;return await this[_0xb339ca(0x4be)][_0xb339ca(0x3ff)][_0x768e96[_0xb339ca(0x624)]][_0xb339ca(0x72f)](_0x5c0f0a['name']);}async[a0_0xac1afc(0x75b)](_0x3ffd78){const _0x1db38e=a0_0xac1afc;return await this[_0x1db38e(0x4be)][_0x1db38e(0x3ff)][_0x3ffd78[_0x1db38e(0x624)]][_0x1db38e(0x75b)]();}},Yt=class{constructor(_0x818ad3){const _0x38a4fd=a0_0xac1afc;this[_0x38a4fd(0x746)]=_0x818ad3;}async[a0_0xac1afc(0x396)](_0x197659,_0x1c7153){const _0x1e5fb8=a0_0xac1afc;return this['webhookService'][_0x1e5fb8(0x6a6)](_0x197659,_0x1c7153);}async[a0_0xac1afc(0x600)](_0x57ce92){const _0x45b7f6=a0_0xac1afc;return this[_0x45b7f6(0x746)]['find'](_0x57ce92);}},Xt=class{constructor(_0x29bb44,_0x4708a3,_0x2cfbfd,_0x2aad1d,_0x807e3b,_0x2facec,_0x3120e4){const _0xbb13ca=a0_0xac1afc;this[_0xbb13ca(0x4e5)]=_0x29bb44,this[_0xbb13ca(0x3ab)]=_0x4708a3,this[_0xbb13ca(0x4cb)]=_0x2cfbfd,this[_0xbb13ca(0x22b)]=_0x2aad1d,this[_0xbb13ca(0x3cc)]=_0x807e3b,this[_0xbb13ca(0x6cb)]=_0x2facec,this[_0xbb13ca(0x5a3)]=_0x3120e4;}get['dbServer'](){const _0x1b6619=a0_0xac1afc;return this[_0x1b6619(0x5a3)];}},Ds=require(a0_0xac1afc(0x6a7)),As=class{},di=new Ds['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0xac1afc(0x4dc),'web',a0_0xac1afc(0x3ae)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),fo=M?.[a0_0xac1afc(0x32b)](As[a0_0xac1afc(0x587)],di,a0_0xac1afc(0x635)),Is=class{},pi=new Ds[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),wo=M?.['model'](Is[a0_0xac1afc(0x587)],pi,a0_0xac1afc(0x22b)),yo=require('mongoose'),Ps=class{},gi=new yo[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),bo=M?.[a0_0xac1afc(0x32b)](Ps[a0_0xac1afc(0x587)],gi,a0_0xac1afc(0x538)),So=require(a0_0xac1afc(0x6a7)),Os=class{},Eo=new So[(a0_0xac1afc(0x214))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Eo['pre'](a0_0xac1afc(0x6df),function(_0x2bb32a){const _0x5b823b=a0_0xac1afc;delete this[_0x5b823b(0x684)],delete this['flowIgnoreGroups'],delete this[_0x5b823b(0x339)],delete this[_0x5b823b(0x440)],delete this[_0x5b823b(0x44c)],_0x2bb32a();});var vo=M?.[a0_0xac1afc(0x32b)](Os['name'],Eo,'webhook'),_s=require(a0_0xac1afc(0x1fb)),Co=require('fs'),Zt=class extends B{constructor(_0x144502,_0x2bc275){const _0xade202=a0_0xac1afc;super(_0x2bc275),this[_0xade202(0x1d3)]=_0x144502,this[_0xade202(0x2f4)]=_0x2bc275;}async[a0_0xac1afc(0x6a6)](_0x51fe98,_0x598cf1){const _0x348c4f=a0_0xac1afc;try{return this[_0x348c4f(0x597)][_0x348c4f(0x753)]?{'insertCount':(await this[_0x348c4f(0x1d3)][_0x348c4f(0x646)]({'_id':_0x598cf1},{..._0x51fe98},{'upsert':!0x0}))['modifiedCount']}:(this[_0x348c4f(0x559)]({'path':(0x0,_s[_0x348c4f(0x4c5)])(this[_0x348c4f(0x716)],_0x348c4f(0x3cc)),'fileName':_0x598cf1,'data':_0x51fe98}),{'insertCount':0x1});}catch(_0x863370){return _0x863370;}}async[a0_0xac1afc(0x621)](_0x1469ea){const _0xb26ae6=a0_0xac1afc;try{return this[_0xb26ae6(0x597)][_0xb26ae6(0x753)]?await this[_0xb26ae6(0x1d3)][_0xb26ae6(0x289)]({'_id':_0x1469ea}):JSON[_0xb26ae6(0x61f)]((0x0,Co[_0xb26ae6(0x763)])((0x0,_s[_0xb26ae6(0x4c5)])(this[_0xb26ae6(0x716)],_0xb26ae6(0x3cc),_0x1469ea+_0xb26ae6(0x48f)),{'encoding':_0xb26ae6(0x2e8)}));}catch{return{};}}},xs=require('path'),No=require('fs'),es=class extends B{constructor(_0x1739ef,_0x3ee7d9){const _0x6e9109=a0_0xac1afc;super(_0x3ee7d9),this[_0x6e9109(0x3c3)]=_0x1739ef,this[_0x6e9109(0x2f4)]=_0x3ee7d9,this[_0x6e9109(0x6cb)]=_0x3ee7d9[_0x6e9109(0x50b)](_0x6e9109(0x6ce));}async[a0_0xac1afc(0x6a6)](_0x5029ac,_0x4b71fa){const _0x363c90=a0_0xac1afc;try{return this['dbSettings'][_0x363c90(0x753)]?{'insertCount':(await this[_0x363c90(0x3c3)][_0x363c90(0x646)]({'_id':_0x4b71fa},{..._0x5029ac},{'upsert':!0x0}))[_0x363c90(0x415)]}:(this[_0x363c90(0x559)]({'path':(0x0,xs['join'])(ts,this[_0x363c90(0x6cb)][_0x363c90(0x687)]),'fileName':_0x4b71fa,'data':_0x5029ac}),{'insertCount':0x1});}catch(_0x721746){return{'error':_0x721746};}}async[a0_0xac1afc(0x621)](_0x1da8d6){const _0xa11896=a0_0xac1afc;try{return this[_0xa11896(0x597)][_0xa11896(0x753)]?await this[_0xa11896(0x3c3)][_0xa11896(0x289)]({'_id':_0x1da8d6}):JSON[_0xa11896(0x61f)]((0x0,No[_0xa11896(0x763)])((0x0,xs['join'])(ts,this['auth'][_0xa11896(0x687)],_0x1da8d6+_0xa11896(0x48f)),{'encoding':_0xa11896(0x2e8)}));}catch{return{};}}},mi=new N('WA\x20MODULE'),hi=new Fe(fo,b),fi=new Jt(I,b),wi=new st(Ge,b),yi=new it(wo,b),bi=new Zt(vo,b),Si=new es(bo,b),de=new Xt(hi,fi,wi,yi,bi,Si,M?.[a0_0xac1afc(0x475)]()),J=new Ft(is,b,de),Ei=new wt(b,J,de),vi=new zt(J),Es=new Yt(vi),R=new Qt(J),ce=new qt(J,b,de,is,Ei),to=new Kt(J,b),K=new Wt(J),P=new Gt(J),V=new Ht(J);mi[a0_0xac1afc(0x5f1)](a0_0xac1afc(0x55a));var Sp=require(a0_0xac1afc(0x64a)),$s=require('fs'),To=T(require(a0_0xac1afc(0x64c))),Mo=T(require(a0_0xac1afc(0x6dd))),$e=class c{static #e;static set[a0_0xac1afc(0x316)](_0x59c49d){this.#e=_0x59c49d;}static get[a0_0xac1afc(0x64c)](){const _0x39a070=a0_0xac1afc;let {FULLCHAIN:_0x1ae23e,PRIVKEY:_0x194929}=b[_0x39a070(0x50b)](_0x39a070(0x1cc));return To['createServer']({'cert':(0x0,$s[_0x39a070(0x763)])(_0x1ae23e),'key':(0x0,$s[_0x39a070(0x763)])(_0x194929)},c.#e);}static get['http'](){const _0x4a5db3=a0_0xac1afc;return Mo[_0x4a5db3(0x4d7)](c.#e);}},me=T(require('fs')),Oo=T(require(a0_0xac1afc(0x4d8))),ke=T(require(a0_0xac1afc(0x7a6))),Ue=T(require(a0_0xac1afc(0x1fb))),Ve=require('child_process'),Vs=T(require('js-yaml'));function Ci(){const _0x598c0b=a0_0xac1afc;J[_0x598c0b(0x398)]();let _0x543e5d=Ue['default'][_0x598c0b(0x4c5)](__dirname,_0x598c0b(0x64b));Po(_0x543e5d);}var Po=_0x18a74b=>{const _0x3bf876=a0_0xac1afc;let _0x1844c3=me[_0x3bf876(0x5fe)][_0x3bf876(0x72a)](_0x18a74b),_0x270627=0xc*0x3c*0x3c*0x3e8,_0x4acf60=0x2*0x3c*0x3c*0x3e8,_0x3fa118=new Date()[_0x3bf876(0x250)]();_0x1844c3[_0x3bf876(0x458)](_0x292850=>{const _0x55df26=_0x3bf876;let _0x26ec6d=Ue['default'][_0x55df26(0x4c5)](_0x18a74b,_0x292850),_0x2854f2=me[_0x55df26(0x5fe)]['statSync'](_0x26ec6d)[_0x55df26(0x5a5)]['getTime']();_0x3fa118-_0x2854f2>_0x270627&&(me[_0x55df26(0x5fe)][_0x55df26(0x681)](_0x26ec6d),console[_0x55df26(0x2b0)](_0x55df26(0x4e6)+_0x292850));}),setTimeout(()=>Po(_0x18a74b),_0x4acf60);};function Ni(){const _0x59088c=a0_0xac1afc;let _0x3361a2=new N(_0x59088c(0x667)),_0x303db0=(0x0,he['default'])();_0x303db0[_0x59088c(0x522)]((0x0,Do[_0x59088c(0x5fe)])({'origin'(_0x5e8c1b,_0x3437fc){const _0x19063a=_0x59088c;let {ORIGIN:_0x4c36ba}=b[_0x19063a(0x50b)](_0x19063a(0x6da));return _0x5e8c1b||(_0x5e8c1b='*'),_0x4c36ba[_0x19063a(0x2f7)]('*')!==-0x1||_0x4c36ba['indexOf'](_0x5e8c1b)!==-0x1?_0x3437fc(null,!0x0):_0x3437fc(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x59088c(0x50b)]('CORS')[_0x59088c(0x33b)]],'credentials':b['get'](_0x59088c(0x6da))['CREDENTIALS']}),(0x0,he[_0x59088c(0x1fd)])({'extended':!0x0,'limit':_0x59088c(0x22a)}),(0x0,he['json'])({'limit':_0x59088c(0x22a)})),_0x303db0[_0x59088c(0x522)]((_0x64cf8e,_0x251d3a,_0x3c7ae7)=>{const _0x1fe733=_0x59088c;_0x64cf8e[_0x1fe733(0x1fb)][_0x1fe733(0x58b)](_0x1fe733(0x728))?_0x3c7ae7():(0x0,Io[_0x1fe733(0x5fe)])()(_0x64cf8e,_0x251d3a,_0x3c7ae7);}),_0x303db0['set'](_0x59088c(0x2b3),_0x59088c(0x5a8)),_0x303db0[_0x59088c(0x733)](_0x59088c(0x62c),(0x0,Ls[_0x59088c(0x4c5)])(Y,_0x59088c(0x62c))),_0x303db0[_0x59088c(0x522)](he['default']['static']((0x0,Ls['join'])(Y,_0x59088c(0x496)))),_0x303db0[_0x59088c(0x522)]((_0x53adc3,_0x8cdb59,_0x1a56ef)=>{let _0x2ede9e=_0x8cdb59['send'];_0x8cdb59['send']=function(_0x39674f){const _0x314b2c=a0_0x4f0a;if(_0x53adc3[_0x314b2c(0x633)][_0x314b2c(0x383)]===_0x314b2c(0x783)||_0x53adc3[_0x314b2c(0x722)][_0x314b2c(0x5f8)]===_0x314b2c(0x783)){let _0x37105b=JSON[_0x314b2c(0x61f)](_0x39674f);_0x39674f=JSON[_0x314b2c(0x47f)](_0x3c07f9(_0x37105b));}return _0x2ede9e[_0x314b2c(0x42b)](_0x8cdb59,[_0x39674f]);},_0x1a56ef();}),_0x303db0[_0x59088c(0x522)]('/',xt),_0x303db0['use']((_0x201259,_0x2288c9,_0x1577e0,_0x376207)=>{const _0x4ffa95=_0x59088c;if(_0x201259)return _0x1577e0[_0x4ffa95(0x798)](_0x201259[_0x4ffa95(0x798)]||0x1f4)[_0x4ffa95(0x654)](_0x201259);},(_0x3f62c0,_0xd41e0d,_0x76ef93)=>{const _0x1452c3=_0x59088c;let {method:_0x40ee75,url:_0x2cc5f1}=_0x3f62c0;_0xd41e0d[_0x1452c3(0x798)](0x194)[_0x1452c3(0x654)]({'status':0x194,'message':'Cannot\x20'+_0x40ee75[_0x1452c3(0x29a)]()+'\x20'+_0x2cc5f1,'error':'Not\x20Found'}),_0x76ef93();});let _0x3c07f9=(_0xdf6233,_0x5947a8=_0x59088c(0x3a8))=>{const _0x144226=_0x59088c;let _0x4501bb=(_0x807dcf,_0x5abdce=null,_0x2d6439=!0x1)=>{const _0xc3c692=a0_0x4f0a;let _0x7ef6c0={};return Object[_0xc3c692(0x72e)](_0x807dcf)[_0xc3c692(0x458)](_0x2d7918=>{const _0x5d8f54=_0xc3c692;let _0x2acc7f=_0x807dcf[_0x2d7918],_0x2d6174=''+_0x5947a8+_0x2d7918;_0x5abdce&&!_0x2d6439&&(_0x2d6174=_0x5abdce+'.'+_0x2d7918),!_0x2acc7f&&_0x2acc7f!==0x0&&_0x2acc7f!==!0x1||typeof _0x2acc7f>'u'?_0x7ef6c0[_0x2d6174]=null:typeof _0x2acc7f!=_0x5d8f54(0x5de)&&!Array[_0x5d8f54(0x4e8)](_0x2acc7f)?_0x7ef6c0[_0x2d6174]=_0x2acc7f:typeof _0x2acc7f==_0x5d8f54(0x5de)&&!Array[_0x5d8f54(0x4e8)](_0x2acc7f)?_0x7ef6c0=Object['assign'](_0x7ef6c0,_0x4501bb(_0x2acc7f,_0x2d6174)):Array[_0x5d8f54(0x4e8)](_0x2acc7f)&&(typeof _0x2acc7f[0x0]==_0x5d8f54(0x5de)?(_0x7ef6c0[_0x2d6174]=[],_0x2acc7f['forEach'](_0x5417e7=>{_0x7ef6c0[_0x2d6174]['push'](_0x4501bb(_0x5417e7,_0x2d6174,!0x0));})):_0x7ef6c0[_0x2d6174]=_0x2acc7f);}),_0x7ef6c0;};return Array[_0x144226(0x4e8)](_0xdf6233)?_0xdf6233[_0x144226(0x6d5)](_0x12f2b8=>_0x4501bb(_0x12f2b8)):typeof _0xdf6233==_0x144226(0x5de)&&_0xdf6233!==null?_0x4501bb(_0xdf6233):{};},_0xfc2d40=b[_0x59088c(0x50b)](_0x59088c(0x667));$e[_0x59088c(0x316)]=_0x303db0;let _0x48240c=$e[_0xfc2d40[_0x59088c(0x687)]],_0x6e9a68=_0x59088c(0x74a);_0x48240c[_0x59088c(0x416)](_0xfc2d40[_0x59088c(0x3f3)],()=>{const _0x536128=_0x59088c;_0x3361a2['log'](_0x6e9a68),_0x3361a2[_0x536128(0x2b0)](_0xfc2d40[_0x536128(0x687)][_0x536128(0x29a)]()+_0x536128(0x60c)+_0xfc2d40[_0x536128(0x3f3)]);}),Ci(),Qs();}var Ti='https://github.com/uazapi/uazapi.git',Mi=Ue[a0_0xac1afc(0x5fe)][a0_0xac1afc(0x4c5)](__dirname,'./.git/config'),Le=null;function Ri(){return new Promise((_0x2a845c,_0x2b87fa)=>{const _0x1c4197=a0_0x4f0a;me[_0x1c4197(0x5fe)][_0x1c4197(0x645)](Mi,_0x1c4197(0x2e8),(_0x482cc8,_0x1771e4)=>{const _0x36e684=_0x1c4197;if(_0x482cc8){Le=_0x482cc8,_0x2a845c();return;}Oo[_0x36e684(0x5fe)][_0x36e684(0x61f)](_0x1771e4)[_0x36e684(0x502)]['url']===Ti?(Le=null,_0x2a845c()):(Le=new Error(_0x36e684(0x52f)),_0x2a845c());});});}async function Ai(){const _0x8e9eb8=a0_0xac1afc;try{await Ri(),await Us();}catch(_0x2ab3d9){console['error'](_0x8e9eb8(0x373)+_0x2ab3d9),process[_0x8e9eb8(0x658)](0x1);}}Ai();async function _o(){const _0x46a937=a0_0xac1afc;let _0x3c76a9;try{_0x3c76a9=(await ke[_0x46a937(0x5fe)][_0x46a937(0x50b)](_0x46a937(0x79a)))['data']['ip'];}catch(_0x3de78a){console[_0x46a937(0x558)](_0x3de78a);try{_0x3c76a9=(await ke['default'][_0x46a937(0x50b)](_0x46a937(0x2bc)))[_0x46a937(0x713)]['ip'];}catch(_0x3e10ee){console[_0x46a937(0x558)](_0x3e10ee);try{_0x3c76a9=(await ke[_0x46a937(0x5fe)][_0x46a937(0x50b)]('http://checkip.dyndns.org'))['data'][_0x46a937(0x6fb)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x297649){return console['error'](_0x297649),!0x1;}}}return _0x3c76a9;}var Ro=0x0;async function Ii(){const _0xf6dbef=a0_0xac1afc;let _0x4c331f=b[_0xf6dbef(0x50b)](_0xf6dbef(0x708)),_0x1d4024=b['get']('AUTHENTICATION')[_0xf6dbef(0x3de)]['KEY'],_0x489f12=b[_0xf6dbef(0x50b)](_0xf6dbef(0x1cc)),_0x1283bf=await _o(),_0x42abc2=b[_0xf6dbef(0x50b)](_0xf6dbef(0x667))[_0xf6dbef(0x3f3)];try{let _0x3d6f84={'ip':_0x1283bf||null,'redis_enable':_0x4c331f?.[_0xf6dbef(0x753)]||null,'apikey':_0x1d4024||null,'ssl':_0x489f12?.[_0xf6dbef(0x40b)]||null,'lastupdate':xo||null,'port':_0x42abc2||null,'gitInstallError':Le?.[_0xf6dbef(0x4e5)]||null};console[_0xf6dbef(0x2b0)](_0xf6dbef(0x4df),_0x3d6f84['ip']);for(let _0x41599e in _0x3d6f84)_0x3d6f84[_0xf6dbef(0x1d5)](_0x41599e)&&_0x41599e!=='ip'&&(_0x3d6f84[_0x41599e]=JSON[_0xf6dbef(0x47f)](_0x3d6f84[_0x41599e]));return(await ke[_0xf6dbef(0x5fe)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x3d6f84))[_0xf6dbef(0x713)];}catch(_0x332873){return console['error'](_0x332873),!0x1;}}var ks=!0x1,xo=0x20e,Di=0x3,Ao=0x1b7740;async function Us(){const _0x1c1d9e=a0_0xac1afc;if(!await _o())return console['error'](_0x1c1d9e(0x1f3)),'NO_IP';let _0x2626f6=await Ii();if(_0x2626f6){if(_0x2626f6['response'][_0x1c1d9e(0x270)]===!0x0){b['get']('SSL_CONF')[_0x1c1d9e(0x40b)]['includes'](_0x1c1d9e(0x6c9))&&_0x2626f6[_0x1c1d9e(0x2db)][_0x1c1d9e(0x63e)]&&await _i(_0x2626f6[_0x1c1d9e(0x2db)][_0x1c1d9e(0x63e)],Oi),Le===null&&_0x2626f6[_0x1c1d9e(0x2db)]['last_update']-xo>0x0&&await Pi(),ks||(ks=!0x0,Ni());let _0x14bd9f=0x24*0x3c*0x3c,_0x6b699e=_0x2626f6[_0x1c1d9e(0x2db)][_0x1c1d9e(0x51c)]>_0x14bd9f?_0x14bd9f:_0x2626f6[_0x1c1d9e(0x2db)][_0x1c1d9e(0x51c)],_0x208a53=Number(_0x6b699e);if(isNaN(_0x208a53)){console[_0x1c1d9e(0x558)](_0x1c1d9e(0x4b3));return;}let _0x5efb4a=Math[_0x1c1d9e(0x60a)](_0x208a53/0xe10),_0x4b6928=Math[_0x1c1d9e(0x60a)](_0x208a53%0xe10/0x3c),_0x5dc07c=new Date(Date['now']()+_0x208a53*0x3e8);setTimeout(Us,_0x208a53*0x3e8);let _0x485ca9=_0x4409c3=>_0x4409c3[_0x1c1d9e(0x344)]()[_0x1c1d9e(0x67e)](0x2,'0'),_0x18e049=_0x1c1d9e(0x57a)+_0x485ca9(_0x5efb4a)+_0x1c1d9e(0x6a1)+_0x485ca9(_0x4b6928)+_0x1c1d9e(0x553)+_0x485ca9(_0x5dc07c['getHours']())+':'+_0x485ca9(_0x5dc07c[_0x1c1d9e(0x2b5)]())+'.';console[_0x1c1d9e(0x2b0)](_0x18e049);}else return console['log'](_0x1c1d9e(0x4ef)),ks&&(console[_0x1c1d9e(0x2b0)](_0x1c1d9e(0x5e7)),process[_0x1c1d9e(0x658)]()),_0x1c1d9e(0x438);}else{if(Ro++,Ro<Di)console['log'](_0x1c1d9e(0x2d7)+Ao/0xea60+_0x1c1d9e(0x271)),setTimeout(Us,Ao);else return console[_0x1c1d9e(0x558)](_0x1c1d9e(0x2d6)),_0x1c1d9e(0x729);}}async function Pi(){const _0x53fddc=a0_0xac1afc;console[_0x53fddc(0x2b0)](_0x53fddc(0x61e));let _0x506058=(0x0,Ve['spawn'])(_0x53fddc(0x215),{'shell':!0x0});_0x506058['stdout']['on'](_0x53fddc(0x713),_0x12f772=>{const _0x40a37c=_0x53fddc;console[_0x40a37c(0x2b0)]('Atualização:\x20'+_0x12f772);}),_0x506058['stderr']['on'](_0x53fddc(0x713),_0x56cd8a=>{const _0x24c845=_0x53fddc;console[_0x24c845(0x558)](_0x24c845(0x643)+_0x56cd8a);}),_0x506058['on'](_0x53fddc(0x658),_0x249c4f=>{const _0x1b81fe=_0x53fddc;_0x249c4f!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x249c4f):console[_0x1b81fe(0x2b0)](_0x1b81fe(0x52a)),console['log'](_0x1b81fe(0x641)),setTimeout(()=>process[_0x1b81fe(0x658)](),0x2710);});}var Oi=Ue[a0_0xac1afc(0x5fe)][a0_0xac1afc(0x4c5)](__dirname,a0_0xac1afc(0x28c));async function _i(_0x5bed31,_0x5d5d16){const _0x344243=a0_0xac1afc;let _0x5b3362=$i();try{let _0x38f8d3=me['default']['readFileSync'](_0x5d5d16,'utf8'),_0x46e53f=Vs[_0x344243(0x5fe)][_0x344243(0x5b2)](_0x38f8d3);_0x46e53f[_0x344243(0x6ce)][_0x344243(0x3de)]['KEY']=_0x5b3362,_0x46e53f[_0x344243(0x1cc)][_0x344243(0x40b)]='/etc/letsencrypt/live/'+_0x5bed31+_0x344243(0x4b5),_0x46e53f['SSL_CONF'][_0x344243(0x5e2)]=_0x344243(0x4d5)+_0x5bed31+_0x344243(0x58e),_0x46e53f[_0x344243(0x5e3)][_0x344243(0x413)]=_0x5bed31;let _0x1126dd=Vs[_0x344243(0x5fe)][_0x344243(0x31c)](_0x46e53f);me[_0x344243(0x5fe)][_0x344243(0x1c4)](_0x5d5d16,_0x1126dd,_0x344243(0x66c)),console[_0x344243(0x2b0)](_0x344243(0x4cf)),xi(_0x5bed31),console[_0x344243(0x2b0)](_0x344243(0x641)),setTimeout(()=>ki(),0x2710);}catch(_0x30e15d){console[_0x344243(0x558)](_0x344243(0x3d5),_0x30e15d);}}function xi(_0x4f772d){const _0x4f7cf6=a0_0xac1afc;let _0x487c95='augusto.fcs@gmail.com',_0x2b0c12=_0x4f772d+_0x4f7cf6(0x6e8),_0x2504fc=_0x4f7cf6(0x4ba)+_0x487c95+_0x4f7cf6(0x4a4)+_0x2b0c12;(0x0,Ve[_0x4f7cf6(0x1f5)])(_0x2504fc,(_0x25abc6,_0x1b825a,_0x24b4d6)=>{const _0x3ce5d5=_0x4f7cf6;if(_0x25abc6){console['error'](_0x3ce5d5(0x2cf)+_0x25abc6[_0x3ce5d5(0x4e5)]);return;}if(_0x24b4d6){console[_0x3ce5d5(0x558)](_0x3ce5d5(0x6d8)+_0x24b4d6);return;}console[_0x3ce5d5(0x2b0)](_0x3ce5d5(0x2a1)+_0x1b825a);});}function $i(_0x4ce5f4=0x32){const _0x2c188f=a0_0xac1afc;let _0xae4040=_0x2c188f(0x2f1),_0x5ed622='';for(let _0x4e430f=0x0;_0x4e430f<_0x4ce5f4;_0x4e430f++)_0x5ed622+=_0xae4040[_0x2c188f(0x616)](Math[_0x2c188f(0x60a)](Math[_0x2c188f(0x2d3)]()*_0xae4040[_0x2c188f(0x4b8)]));return _0x5ed622;}function ki(){const _0x28c45a=a0_0xac1afc;(0x0,Ve[_0x28c45a(0x1f5)])(_0x28c45a(0x281),(_0x283c2f,_0x2ecd97,_0x18d184)=>{const _0x361dbf=_0x28c45a;if(_0x283c2f){console[_0x361dbf(0x558)](_0x361dbf(0x447)+_0x283c2f);return;}if(_0x18d184){console[_0x361dbf(0x558)](_0x361dbf(0x3ee)+_0x18d184);return;}console[_0x361dbf(0x2b0)]('Reinicialização\x20iniciada:\x20'+_0x2ecd97);});}