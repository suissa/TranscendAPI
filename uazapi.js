const a0_0x58753f=a0_0x326c;(function(_0x8d2a93,_0x257af6){const _0x1c3ab2=a0_0x326c,_0x598dfc=_0x8d2a93();while(!![]){try{const _0x25f6e1=parseInt(_0x1c3ab2(0x52e))/0x1+-parseInt(_0x1c3ab2(0x1a9))/0x2+parseInt(_0x1c3ab2(0x2f3))/0x3*(-parseInt(_0x1c3ab2(0x671))/0x4)+-parseInt(_0x1c3ab2(0x636))/0x5*(-parseInt(_0x1c3ab2(0x390))/0x6)+-parseInt(_0x1c3ab2(0x24e))/0x7+-parseInt(_0x1c3ab2(0x5ad))/0x8+parseInt(_0x1c3ab2(0x2ce))/0x9*(parseInt(_0x1c3ab2(0xff))/0xa);if(_0x25f6e1===_0x257af6)break;else _0x598dfc['push'](_0x598dfc['shift']());}catch(_0x174403){_0x598dfc['push'](_0x598dfc['shift']());}}}(a0_0x4892,0xb61be));var Pr=Object[a0_0x58753f(0x60f)],Ie=Object[a0_0x58753f(0x696)],$r=Object['getOwnPropertyDescriptor'],kr=Object['getOwnPropertyNames'],Lr=Object[a0_0x58753f(0x622)],Fr=Object['prototype'][a0_0x58753f(0xd4)],jr=(_0x42eb62,_0x588cfc)=>{for(var _0x2f97ad in _0x588cfc)Ie(_0x42eb62,_0x2f97ad,{'get':_0x588cfc[_0x2f97ad],'enumerable':!0x0});},_s=(_0x45bf4b,_0x3f95ec,_0x1e26cb,_0x4ba57b)=>{const _0x3e9376=a0_0x58753f;if(_0x3f95ec&&typeof _0x3f95ec=='object'||typeof _0x3f95ec=='function'){for(let _0x48b074 of kr(_0x3f95ec))!Fr[_0x3e9376(0x2cf)](_0x45bf4b,_0x48b074)&&_0x48b074!==_0x1e26cb&&Ie(_0x45bf4b,_0x48b074,{'get':()=>_0x3f95ec[_0x48b074],'enumerable':!(_0x4ba57b=$r(_0x3f95ec,_0x48b074))||_0x4ba57b[_0x3e9376(0x4d2)]});}return _0x45bf4b;},T=(_0x39a4b0,_0x4418e3,_0x4c7a63)=>(_0x4c7a63=_0x39a4b0!=null?Pr(Lr(_0x39a4b0)):{},_s(_0x4418e3||!_0x39a4b0||!_0x39a4b0[a0_0x58753f(0x2af)]?Ie(_0x4c7a63,a0_0x58753f(0x36d),{'value':_0x39a4b0,'enumerable':!0x0}):_0x4c7a63,_0x39a4b0)),Ur=_0x381d61=>_s(Ie({},'__esModule',{'value':!0x0}),_0x381d61),Hi={};jr(Hi,{'subdomain':()=>Rs}),module[a0_0x58753f(0x122)]=Ur(Hi);var Or=T(require(a0_0x58753f(0x460))),$s=require('fs'),ks=require(a0_0x58753f(0x486)),Ls=require('path'),xe=require(a0_0x58753f(0x461)),re=process['cwd'](),ge=(0x0,xe['join'])(re,'instances'),Ps=(0x0,xe[a0_0x58753f(0x4c2)])(re,'src'),Vo=(0x0,xe[a0_0x58753f(0x4c2)])(re,'store',a0_0x58753f(0x6be)),es=class{constructor(){this['loadEnv']();}['get'](_0x109c8c){const _0x1b547f=a0_0x58753f;return this[_0x1b547f(0x73f)][_0x109c8c];}[a0_0x58753f(0x1f7)](){const _0x4847c0=a0_0x58753f;this[_0x4847c0(0x73f)]=process[_0x4847c0(0x73f)]?.[_0x4847c0(0x674)]!==_0x4847c0(0x2a2)?this[_0x4847c0(0x657)]():this[_0x4847c0(0xe4)](),process[_0x4847c0(0x73f)]?.[_0x4847c0(0x674)]===_0x4847c0(0x2a2)&&(this['env'][_0x4847c0(0x105)][_0x4847c0(0x2cc)]=_0x4847c0(0x6d8),this[_0x4847c0(0x73f)]['SERVER'][_0x4847c0(0x497)]=Number[_0x4847c0(0x5e7)](process[_0x4847c0(0x73f)]?.[_0x4847c0(0x1e7)]??_0x4847c0(0x223)));}[a0_0x58753f(0x657)](){const _0x26c815=a0_0x58753f;return(0x0,ks[_0x26c815(0x16f)])((0x0,$s[_0x26c815(0x207)])((0x0,Ls[_0x26c815(0x4c2)])(Ps,_0x26c815(0x536)),{'encoding':_0x26c815(0x2d7)}));}[a0_0x58753f(0xe4)](){const _0x4fcfa0=a0_0x58753f;return{'SERVER':{'TYPE':process['env'][_0x4fcfa0(0x712)],'PORT':Number['parseInt'](process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x1e7)]),'URL':process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x22f)]},'CORS':{'ORIGIN':process['env'][_0x4fcfa0(0x457)]['split'](','),'METHODS':process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x764)][_0x4fcfa0(0x610)](','),'CREDENTIALS':process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x73c)]===_0x4fcfa0(0x2a2)},'SSL_CONF':{'PRIVKEY':process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x542)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x6c1)])?Number['parseInt'](process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x6c1)]):void 0x0,'MESSAGES':process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x5db)]===_0x4fcfa0(0x2a2),'CONTACTS':process[_0x4fcfa0(0x73f)]?.['STORE_CONTACTS']===_0x4fcfa0(0x2a2),'CHATS':process['env']?.[_0x4fcfa0(0x4a2)]===_0x4fcfa0(0x2a2)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x6e5)],'PORT':Number['parseInt'](process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x6e5)]),'USER':process['env']['DATABASE_CONNECTION_USER'],'PASSWORD':process['env'][_0x4fcfa0(0x4fe)],'URI':process[_0x4fcfa0(0x73f)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x5b3)]},'ENABLED':process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x517)]===_0x4fcfa0(0x2a2)},'REDIS':{'ENABLED':process['env']?.[_0x4fcfa0(0x1d9)]===_0x4fcfa0(0x2a2),'URI':process['env'][_0x4fcfa0(0x3be)]||_0x4fcfa0(0x5a3),'PREFIX_KEY':process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x6aa)]||_0x4fcfa0(0x2de)},'LOG':{'LEVEL':process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x1b6)][_0x4fcfa0(0x610)](','),'COLOR':process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x1ef)]===_0x4fcfa0(0x2a2)},'PROXY':Number[_0x4fcfa0(0x5e7)](process['env']?.[_0x4fcfa0(0x34f)]),'AUTHENTICATION':{'TYPE':process[_0x4fcfa0(0x73f)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x1ba)]},'JWT':{'EXPIRIN_IN':Number[_0x4fcfa0(0x519)](process[_0x4fcfa0(0x73f)]?.[_0x4fcfa0(0x3b8)])?Number['parseInt'](process['env'][_0x4fcfa0(0x3b8)]):0xe10,'SECRET':process[_0x4fcfa0(0x73f)][_0x4fcfa0(0x552)]}}};}},b=new es(),Ar=T(require(a0_0x58753f(0x3c3))),he=T(require(a0_0x58753f(0x352))),xs=require(a0_0x58753f(0x461)),ts=T(require(a0_0x58753f(0x6d7))),ss=(_0x1d308d=>(_0x1d308d[a0_0x58753f(0x204)]=a0_0x58753f(0x244),_0x1d308d[a0_0x58753f(0x42d)]=a0_0x58753f(0x21b),_0x1d308d[a0_0x58753f(0x708)]='\x1b[33m',_0x1d308d['ERROR']='\x1b[31m',_0x1d308d[a0_0x58753f(0x331)]=a0_0x58753f(0x3dd),_0x1d308d[a0_0x58753f(0x504)]='\x1b[37m',_0x1d308d[a0_0x58753f(0x268)]=a0_0x58753f(0x729),_0x1d308d))(ss||{}),Fs=(_0x5915ae=>(_0x5915ae[a0_0x58753f(0x204)]='\x1b[32m%s\x1b[0m',_0x5915ae[a0_0x58753f(0x268)]=a0_0x58753f(0x13b),_0x5915ae['INFO']=a0_0x58753f(0x25a),_0x5915ae[a0_0x58753f(0x708)]=a0_0x58753f(0x530),_0x5915ae[a0_0x58753f(0x5c3)]='\x1b[31m%s\x1b[0m',_0x5915ae[a0_0x58753f(0x331)]=a0_0x58753f(0x747),_0x5915ae[a0_0x58753f(0x504)]=a0_0x58753f(0x16d),_0x5915ae))(Fs||{}),js=(_0x43cd0f=>(_0x43cd0f[a0_0x58753f(0x204)]='LOG',_0x43cd0f['WARN']=a0_0x58753f(0x708),_0x43cd0f[a0_0x58753f(0x42d)]='INFO',_0x43cd0f['DARK']=a0_0x58753f(0x268),_0x43cd0f[a0_0x58753f(0x5c3)]='ERROR',_0x43cd0f['DEBUG']='DEBUG',_0x43cd0f['VERBOSE']=a0_0x58753f(0x504),_0x43cd0f))(js||{}),Us=(_0x59a39b=>(_0x59a39b[a0_0x58753f(0x204)]=a0_0x58753f(0x363),_0x59a39b[a0_0x58753f(0x42d)]=a0_0x58753f(0x689),_0x59a39b[a0_0x58753f(0x708)]=a0_0x58753f(0x6cb),_0x59a39b[a0_0x58753f(0x268)]=a0_0x58753f(0x333),_0x59a39b['ERROR']='\x1b[41m',_0x59a39b[a0_0x58753f(0x331)]='\x1b[46m',_0x59a39b[a0_0x58753f(0x504)]='\x1b[47m',_0x59a39b))(Us||{}),N=class{constructor(_0x40889c=a0_0x58753f(0x1e4)){const _0x186f5d=a0_0x58753f;this[_0x186f5d(0x64c)]=_0x40889c,this[_0x186f5d(0x6ae)]=b;}[a0_0x58753f(0x641)](_0x2796f1){const _0x1f0af1=a0_0x58753f;this[_0x1f0af1(0x64c)]=_0x2796f1;}['console'](_0x2642fd,_0x13d624){const _0x4162bb=a0_0x58753f;let _0x11f0ad=[];this[_0x4162bb(0x6ae)][_0x4162bb(0x59e)](_0x4162bb(0x204))[_0x4162bb(0x458)]['forEach'](_0x1ba13d=>_0x11f0ad['push'](js[_0x1ba13d]));let _0x2013a3=typeof _0x2642fd;_0x11f0ad[_0x4162bb(0x1db)](_0x13d624)&&(b[_0x4162bb(0x59e)](_0x4162bb(0x204))[_0x4162bb(0x321)]?(console[_0x4162bb(0x5c1)]('\x1b[1m'+Fs[_0x13d624],_0x4162bb(0x6ac),(0x0,ts[_0x4162bb(0x36d)])()[_0x4162bb(0x52f)](_0x4162bb(0x301)),'\x1b[0m',ss[_0x13d624]+Us[_0x13d624]+_0x4162bb(0x381),_0x13d624+_0x4162bb(0x4db),_0x4162bb(0x44c),this[_0x4162bb(0x64c)]+_0x4162bb(0x485),ss[_0x13d624],_0x2013a3!==_0x4162bb(0x759)?_0x2642fd:'','\x1b[0m'),_0x2013a3==='object'&&console[_0x4162bb(0x5c1)](_0x2642fd,'\x0a')):console['log']((0x0,ts['default'])()[_0x4162bb(0x52f)](_0x4162bb(0x442)),_0x13d624+'\x20',''+this[_0x4162bb(0x64c)],_0x2642fd));}[a0_0x58753f(0x5c1)](_0x2b4abe){const _0x240e07=a0_0x58753f;this[_0x240e07(0x1e1)](_0x2b4abe,_0x240e07(0x204));}[a0_0x58753f(0x3cd)](_0x48935d){const _0x5ad6cc=a0_0x58753f;this['console'](_0x48935d,_0x5ad6cc(0x42d));}['warn'](_0x2ef5fe){const _0x42cb69=a0_0x58753f;this['console'](_0x2ef5fe,_0x42cb69(0x708));}[a0_0x58753f(0x47b)](_0x32527c){const _0x21a24b=a0_0x58753f;this[_0x21a24b(0x1e1)](_0x32527c,'ERROR');}[a0_0x58753f(0x19c)](_0xc07040){const _0x6d3ede=a0_0x58753f;this['console'](_0xc07040,_0x6d3ede(0x504));}[a0_0x58753f(0x438)](_0x25e48e){const _0xdf477=a0_0x58753f;this[_0xdf477(0x1e1)](_0x25e48e,_0xdf477(0x331));}[a0_0x58753f(0x44a)](_0x1b9e8e){const _0x3a413d=a0_0x58753f;this[_0x3a413d(0x1e1)](_0x1b9e8e,_0x3a413d(0x268));}};function qs(){const _0x156f09=a0_0x58753f;process['on'](_0x156f09(0x2fa),(_0x5ba9f3,_0x1f627a)=>{const _0x315a76=_0x156f09;new N(_0x315a76(0x2fa))['error']({'origin':_0x1f627a,'stderr':process[_0x315a76(0x228)]['fd'],'error':_0x5ba9f3});}),process['on']('unhandledRejection',(_0x540131,_0x2e0c84)=>{const _0x56736d=_0x156f09;new N(_0x56736d(0x2b4))[_0x56736d(0x47b)]({'origin':_0x2e0c84,'stderr':process[_0x56736d(0x228)]['fd'],'error':_0x540131});});}var Js=T(require(a0_0x58753f(0xfb))),as=new Js[(a0_0x58753f(0x36d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x58753f(0x6ff)),rs=T(require(a0_0x58753f(0x6ff))),qr=new N(a0_0x58753f(0x56e)),J=b[a0_0x58753f(0x59e)]('DATABASE'),R=J[a0_0x58753f(0x50f)]?J[a0_0x58753f(0x752)][a0_0x58753f(0x498)]?rs[a0_0x58753f(0x36d)]['createConnection'](J[a0_0x58753f(0x752)][a0_0x58753f(0x498)],{'dbName':J[a0_0x58753f(0x752)][a0_0x58753f(0x2a5)]+a0_0x58753f(0x734)}):rs[a0_0x58753f(0x36d)][a0_0x58753f(0x533)](a0_0x58753f(0x5df)+J[a0_0x58753f(0x752)][a0_0x58753f(0x318)]+':'+J[a0_0x58753f(0x752)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':J['CONNECTION'][a0_0x58753f(0x2d6)],'pass':J['CONNECTION'][a0_0x58753f(0x4fc)],'dbName':J['CONNECTION'][a0_0x58753f(0x2a5)]+a0_0x58753f(0x734)}):null;J[a0_0x58753f(0x50f)]&&qr[a0_0x58753f(0x3cd)](a0_0x58753f(0x415)+R[a0_0x58753f(0x1bb)]);var Jr=new De[(a0_0x58753f(0x573))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x58753f(0x573))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x18650d=>{const _0x2ee890=a0_0x58753f;let _0x594e49='z_'+_0x18650d+_0x2ee890(0xf8);return R?.['model'](_0x2ee890(0x4d4),Br,_0x594e49);},Bs=require(a0_0x58753f(0x6ff)),Gr=new Bs[(a0_0x58753f(0x573))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x50adde=>{const _0x4e19b4=a0_0x58753f;let _0x5d308e='z_'+_0x50adde+_0x4e19b4(0x216);return R?.[_0x4e19b4(0x325)](_0x4e19b4(0x3a5),Gr,_0x5d308e);},Ws=require(a0_0x58753f(0x6ff)),Wr=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0x38bf76=>{const _0x26adfc=a0_0x58753f;let _0x493ba9='z_'+_0x38bf76+_0x26adfc(0x2aa);return R?.[_0x26adfc(0x325)](_0x26adfc(0x723),Wr,_0x493ba9);},Hs=require(a0_0x58753f(0x6ff)),is=class{},zr=new Hs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=R?.[a0_0x58753f(0x325)](is[a0_0x58753f(0x730)],zr,a0_0x58753f(0x332)),Qs=require(a0_0x58753f(0x6ff)),os=class{},Ys=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ys[a0_0x58753f(0x694)](a0_0x58753f(0x195),function(_0x313a53){const _0x4ccbd0=a0_0x58753f;delete this[_0x4ccbd0(0x3ef)],delete this[_0x4ccbd0(0x4b0)],delete this[_0x4ccbd0(0x28e)],delete this[_0x4ccbd0(0x44d)],delete this[_0x4ccbd0(0x18a)],_0x313a53();});var Xs=R?.[a0_0x58753f(0x325)](os[a0_0x58753f(0x730)],Ys,a0_0x58753f(0x21c)),P=require(a0_0x58753f(0x6ff)),Zs=require(a0_0x58753f(0x2c1)),_e=class{},ea=new P[(a0_0x58753f(0x573))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P[(a0_0x58753f(0x573))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x58753f(0x445)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x58753f(0x3e3)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x58753f(0x75f)},'pollErrorMessage':{'type':String,'default':a0_0x58753f(0x53d)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ta=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P[(a0_0x58753f(0x573))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P[(a0_0x58753f(0x573))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),sa=new P[(a0_0x58753f(0x573))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x58753f(0x573))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),aa=new P[(a0_0x58753f(0x573))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P[(a0_0x58753f(0x573))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Zs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5b5e32=a0_0x58753f;return'!cmd_'+Math[_0x5b5e32(0x2df)]()[_0x5b5e32(0x623)](0x24)[_0x5b5e32(0x3f0)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x58753f(0x694)](a0_0x58753f(0x195),function(_0xb8b5de){const _0x3a73be=a0_0x58753f;let _0x2bfefd=new Set(),_0x2d1926=new Set(this[_0x3a73be(0x35c)]?.[_0x3a73be(0x378)](_0x45d1f4=>_0x45d1f4['name'])),_0x24f92d=JSON[_0x3a73be(0x212)](this),_0x18c21d=/{{(?!_)([^}]*)}}/g,_0x93d487;for(;(_0x93d487=_0x18c21d[_0x3a73be(0x201)](_0x24f92d))!==null;)_0x2d1926[_0x3a73be(0x206)](_0x93d487[0x1])||_0x2bfefd[_0x3a73be(0x3c8)](_0x93d487[0x1]);_0x2bfefd[_0x3a73be(0x252)]>0x0?(console[_0x3a73be(0x611)]('Variáveis\x20não\x20encontradas:',Array[_0x3a73be(0x173)](_0x2bfefd)),this[_0x3a73be(0x6df)]=Array['from'](_0x2bfefd)):this[_0x3a73be(0x6df)]=[],_0xb8b5de();}),Pe[a0_0x58753f(0x694)](a0_0x58753f(0x547),function(_0x4da4d0){const _0x2deb24=a0_0x58753f;let _0x518e36=this['getUpdate']();if(_0x518e36&&typeof _0x518e36==_0x2deb24(0x759)&&_0x2deb24(0x213)in _0x518e36){let _0x3e5759=_0x518e36[_0x2deb24(0x213)];if(_0x3e5759){let _0x3c35f8=new Set(),_0x346fc4=new Set(_0x3e5759[_0x2deb24(0x35c)]?.[_0x2deb24(0x378)](_0x26d4a6=>_0x26d4a6['name'])),_0x4726cd=JSON['stringify'](_0x3e5759),_0x333e23=/{{(?!_)([^}]*)}}/g,_0x2faad5;for(;(_0x2faad5=_0x333e23[_0x2deb24(0x201)](_0x4726cd))!==null;)_0x346fc4[_0x2deb24(0x206)](_0x2faad5[0x1])||_0x3c35f8[_0x2deb24(0x3c8)](_0x2faad5[0x1]);_0x3c35f8['size']>0x0?(console[_0x2deb24(0x611)]('Variáveis\x20não\x20encontradas:',Array[_0x2deb24(0x173)](_0x3c35f8)),_0x3e5759['variablesNotFound']=Array[_0x2deb24(0x173)](_0x3c35f8)):_0x3e5759[_0x2deb24(0x6df)]=[],this['setUpdate']({'$set':_0x3e5759});}}_0x4da4d0();});var ra=_0x5a52fb=>{const _0x56e4b3=a0_0x58753f;let _0x5a5be0='z_'+_0x5a52fb+_0x56e4b3(0x1a4);return R?.[_0x56e4b3(0x325)](_0x56e4b3(0x449),Pe,_0x5a5be0);},ia=R?.[a0_0x58753f(0x325)](cs[a0_0x58753f(0x730)],Pe,a0_0x58753f(0x57c)),Yr=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},oa=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x58753f(0x75f)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),na=_0x40ec27=>{const _0x215758=a0_0x58753f;let _0x2e1d2d='z_'+_0x40ec27+_0x215758(0x4b7);return R?.[_0x215758(0x325)](_0x215758(0x14e),oa,_0x2e1d2d);},ca=R?.['model'](ls[a0_0x58753f(0x730)],oa,a0_0x58753f(0x1b5)),us=class{},Xr=new P[(a0_0x58753f(0x573))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x58753f(0x573))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),la=new P[(a0_0x58753f(0x573))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x58753f(0x72e)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ua=_0x5a666c=>{const _0x499aa7=a0_0x58753f;let _0x507953='z_'+_0x5a666c+_0x499aa7(0x17b);return R?.[_0x499aa7(0x325)](_0x499aa7(0x576),la,_0x507953);},da=R?.[a0_0x58753f(0x325)](us[a0_0x58753f(0x730)],la,a0_0x58753f(0x6f6)),ds=class{},ei=new P[(a0_0x58753f(0x573))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P[(a0_0x58753f(0x573))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x58753f(0x4ce)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P[(a0_0x58753f(0x573))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x58753f(0x573))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x58753f(0x325)](ds['name'],ai,a0_0x58753f(0x2b3)),pa=require(a0_0x58753f(0x6ff)),ri=new pa[(a0_0x58753f(0x573))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ha=_0x275412=>{const _0x3c95a2=a0_0x58753f;let _0x322f64='z_'+_0x275412+_0x3c95a2(0x289);return R?.[_0x3c95a2(0x325)](_0x3c95a2(0x12b),ri,_0x322f64);},D=class{constructor(_0x54f09c){const _0x4a4a2c=a0_0x58753f;this[_0x4a4a2c(0x5e0)]=_0x54f09c[_0x4a4a2c(0x59e)](_0x4a4a2c(0x1d0));}};function A(_0x548a61){const _0x24b6fb=a0_0x58753f;let _0x373c80={};for(let [_0x12c12e,_0x266072]of Object['entries'](_0x548a61))if(typeof _0x266072==_0x24b6fb(0x759)&&!Array[_0x24b6fb(0x293)](_0x266072)){for(let [_0xba6fa5,_0x4ffcbc]of Object[_0x24b6fb(0x40c)](_0x266072))_0x373c80[_0x12c12e+'.'+_0xba6fa5]=_0x4ffcbc;}else _0x373c80[_0x12c12e]=_0x266072;return _0x373c80;}var ke=class{constructor(_0x581528,_0x1ca564,_0x53da8e,_0x58bc64,_0x22e3d3,_0x40e02e,_0x1fcccc,_0x162fde,_0x4aa6f1,_0x505930,_0x136cfa){const _0x588a88=a0_0x58753f;this[_0x588a88(0x5f5)]=_0x581528,this['chat']=_0x1ca564,this['contact']=_0x53da8e,this[_0x588a88(0x21c)]=_0x58bc64,this[_0x588a88(0x6be)]=_0x22e3d3,this[_0x588a88(0x57c)]=_0x40e02e,this[_0x588a88(0x1b5)]=_0x1fcccc,this['label']=_0x162fde,this[_0x588a88(0x598)]=_0x4aa6f1,this[_0x588a88(0x760)]=_0x505930,this['dbClient']=_0x136cfa;}get[a0_0x58753f(0x6b3)](){const _0x405f97=a0_0x58753f;return this[_0x405f97(0x5af)];}},Le=class{},Fe=class extends D{[a0_0x58753f(0xea)](_0x3fd12a){return zs(_0x3fd12a);}async[a0_0x58753f(0x621)](_0x187990,_0x33ddce){const _0x1e881d=a0_0x58753f;if(_0x187990[_0x1e881d(0x676)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1e881d(0xea)](_0x33ddce)['insertMany']([..._0x187990]))[_0x1e881d(0x676)]};}catch(_0x257b3d){return _0x257b3d;}}async[a0_0x58753f(0x53a)](_0x3948e9,_0x390a94){const _0x373214=a0_0x58753f;try{let _0x3680b6=this[_0x373214(0xea)](_0x390a94),_0x72e3a7=A(_0x3948e9['where']);return await _0x3680b6[_0x373214(0x53a)](_0x72e3a7)[_0x373214(0x42f)]({'messageTimestamp':-0x1})[_0x373214(0xd1)](_0x3948e9?.[_0x373214(0xd1)]??0x0)[_0x373214(0x716)]();}catch{return[];}}async[a0_0x58753f(0x17c)](_0x5095da,_0x5885b2){const _0x344486=a0_0x58753f;try{let _0x28c5d2=this[_0x344486(0xea)](_0x5885b2),_0x2fe1a0=A(_0x5095da[_0x344486(0x40b)]);await _0x28c5d2[_0x344486(0x695)](_0x2fe1a0);}catch(_0xe9f889){console[_0x344486(0x47b)](_0xe9f889);}}async[a0_0x58753f(0x4cd)](_0x3f03ca,_0x33eed1,_0x530f5d){const _0x52d5a6=a0_0x58753f;try{let _0x19ec86=this['getMessageModelForOwner'](_0x530f5d),_0x4fc927=A(_0x3f03ca['where']);return await _0x19ec86[_0x52d5a6(0x547)](_0x4fc927,{'$set':_0x33eed1},{'new':!0x0});}catch(_0x1496a5){throw console[_0x52d5a6(0x47b)](_0x1496a5),_0x1496a5;}}async[a0_0x58753f(0x615)](_0x26b22e,_0x2c139e){const _0x1b1e93=a0_0x58753f;if(_0x26b22e['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x2c139e)[_0x1b1e93(0x615)]([..._0x26b22e]))[_0x1b1e93(0x676)]};}catch(_0x2677b9){return console['log'](_0x1b1e93(0x148),_0x2677b9),_0x2677b9;}}async[a0_0x58753f(0x717)](_0x378b73){const _0x33b65b=a0_0x58753f;try{return await this['getMessageModelForOwner'](_0x378b73)[_0x33b65b(0x619)]['drop'](),{'success':!0x0};}catch(_0xa00ddb){return console['error'](_0xa00ddb),{'success':!0x1,'error':_0xa00ddb};}}},yr=T(require(a0_0x58753f(0x3c6))),g=T(require(a0_0x58753f(0x6c3))),ve=require('fs'),j=T(require(a0_0x58753f(0x461))),se=T(require(a0_0x58753f(0x229))),br=require(a0_0x58753f(0x2c1)),Sr=T(require(a0_0x58753f(0x6d6))),Er=T(require(a0_0x58753f(0x4d0))),ga=['imageMessage',a0_0x58753f(0x1a8),a0_0x58753f(0x32c),a0_0x58753f(0x23a),a0_0x58753f(0x258)],ma=['ephemeralMessage',a0_0x58753f(0x53c),a0_0x58753f(0x34d),a0_0x58753f(0x1ee)],Es=require('os'),It=T(require(a0_0x58753f(0x322))),Pt=require('child_process'),xt=require(a0_0x58753f(0x273)),ce=T(require(a0_0x58753f(0x6ff))),$=require(a0_0x58753f(0x121)),me=class{constructor(_0x28fb5f,_0x20d42e,_0x23f339){const _0x5f2128=a0_0x58753f;this[_0x5f2128(0x57a)]=_0x28fb5f,this[_0x5f2128(0x1d5)]=_0x20d42e,this[_0x5f2128(0x730)]=_0x23f339;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require(a0_0x58753f(0x352))),fa=require('fs'),wa=require(a0_0x58753f(0x461));async function ze(_0x28d305){const _0x50ab09=a0_0x58753f;let _0x45f88c=V[_0x50ab09(0x37a)][_0x28d305];if(J[_0x50ab09(0x50f)]){let _0x202ce4=R[_0x50ab09(0x454)]()['db'](J['CONNECTION'][_0x50ab09(0x2a5)]+'-instances')['collection'](_0x28d305);return _0x45f88c||(await _0x202ce4[_0x50ab09(0x53a)]({})[_0x50ab09(0x388)]())[_0x50ab09(0x676)]>0x0;}return _0x45f88c||(0x0,fa['existsSync'])((0x0,wa[_0x50ab09(0x4c2)])(ge,_0x28d305));}async function ya(_0x1cc22d,_0x3a3e32,_0x1f2b63){const _0x10a6c3=a0_0x58753f;if(_0x1cc22d[_0x10a6c3(0x38a)][_0x10a6c3(0x1db)](_0x10a6c3(0x33f))||_0x1cc22d[_0x10a6c3(0x38a)][_0x10a6c3(0x1db)](_0x10a6c3(0x387))||_0x1cc22d['originalUrl'][_0x10a6c3(0x1db)](_0x10a6c3(0x2c6))||_0x1cc22d[_0x10a6c3(0x38a)][_0x10a6c3(0x1db)](_0x10a6c3(0x31b))||_0x1cc22d['originalUrl'][_0x10a6c3(0x1db)](_0x10a6c3(0x582))||_0x1cc22d[_0x10a6c3(0x38a)][_0x10a6c3(0x1db)](_0x10a6c3(0x3c7))||_0x1cc22d[_0x10a6c3(0x38a)]['includes'](_0x10a6c3(0xf0)))return _0x1f2b63();let _0x2342e6=_0x1cc22d[_0x10a6c3(0x146)];if(!_0x2342e6?.[_0x10a6c3(0x479)])throw new w('instanceName\x20not\x20provided.');if(!await ze(_0x2342e6[_0x10a6c3(0x479)]))throw new k(_0x10a6c3(0x6de)+_0x2342e6['instanceName']+_0x10a6c3(0x669));_0x1f2b63();}async function ba(_0x58c899,_0x53f447,_0x3adb0d){const _0x46d194=a0_0x58753f;if(_0x58c899['originalUrl'][_0x46d194(0x1db)](_0x46d194(0x33f))){let _0x2b49d1=_0x58c899[_0x46d194(0x188)];if(await ze(_0x2b49d1[_0x46d194(0x479)]))throw new H(_0x46d194(0x430)+_0x2b49d1['instanceName']+'\x20is\x20already\x20in\x20use.');V['waInstances'][_0x2b49d1['instanceName']]&&delete V[_0x46d194(0x37a)][_0x2b49d1[_0x46d194(0x479)]];}_0x3adb0d();}var Sa=require(a0_0x58753f(0x121)),Ea=T(require(a0_0x58753f(0x739))),He=a0_0x58753f(0x2de),oi=new N(a0_0x58753f(0x650));async function ni(_0x22407e,_0x33e52c,_0x6e8666){const _0x8ac11=a0_0x58753f;let _0x899e36=_0x22407e['get']('apikey');if(_0x899e36&&b[_0x8ac11(0x59e)](_0x8ac11(0x285))['API_KEY'][_0x8ac11(0x728)]!==_0x899e36)throw new Z();if(b[_0x8ac11(0x59e)](_0x8ac11(0x285))['API_KEY'][_0x8ac11(0x728)]===_0x899e36)return _0x6e8666();if((_0x22407e['originalUrl'][_0x8ac11(0x1db)](_0x8ac11(0x33f))||_0x22407e[_0x8ac11(0x38a)][_0x8ac11(0x1db)](_0x8ac11(0x387)))&&!_0x899e36)throw new H('Missing\x20global\x20api\x20key',_0x8ac11(0x668));let _0x3add39=b[_0x8ac11(0x59e)](_0x8ac11(0x285))['JWT'];try{let [_0x47c8f3,_0x5808a0]=_0x22407e[_0x8ac11(0x59e)](_0x8ac11(0x12c))[_0x8ac11(0x610)]('\x20');if(_0x47c8f3['toLowerCase']()!==_0x8ac11(0x512))throw new Z();if(!(0x0,Sa[_0x8ac11(0x143)])(_0x5808a0))throw new Z();let _0x31aeae=_0x22407e[_0x8ac11(0x146)],_0x1eb1cb=Ea[_0x8ac11(0x36d)]['verify'](_0x5808a0,_0x3add39[_0x8ac11(0x649)],{'ignoreExpiration':_0x3add39['EXPIRIN_IN']===0x0});if(_0x31aeae['instanceName']!==_0x1eb1cb['instanceName']||He!==_0x1eb1cb['apiName'])throw new Z();return _0x6e8666();}catch(_0x55b88c){throw oi[_0x8ac11(0x47b)](_0x55b88c),new Z();}}async function ci(_0x4d6fe0,_0x1f57c5,_0x20eab1){const _0x16fd7a=a0_0x58753f;let _0x27fc8b=b['get']('AUTHENTICATION')[_0x16fd7a(0x38e)],_0x3bb1a5=_0x4d6fe0[_0x16fd7a(0x59e)](_0x16fd7a(0x64d));if(_0x27fc8b[_0x16fd7a(0x728)]===_0x3bb1a5)return _0x20eab1();if(_0x4d6fe0[_0x16fd7a(0x38a)][_0x16fd7a(0x1db)](_0x16fd7a(0x33f))){let _0x2d038d=Ke,_0x3db2fe=_0x4d6fe0[_0x16fd7a(0x188)][_0x16fd7a(0x479)];if(_0x2d038d&&_0x3db2fe['toLowerCase']()[_0x16fd7a(0x45a)](_0x2d038d[_0x16fd7a(0x302)]()))return _0x20eab1();if(!_0x3bb1a5)throw new H('Missing\x20global\x20api\x20key',_0x16fd7a(0x668));}if(_0x4d6fe0[_0x16fd7a(0x38a)][_0x16fd7a(0x1db)](_0x16fd7a(0x387))&&!_0x3bb1a5)throw new H(_0x16fd7a(0xd8),_0x16fd7a(0x668));if(_0x4d6fe0['originalUrl']['includes'](_0x16fd7a(0x2c6))&&!_0x3bb1a5)throw new H('Missing\x20global\x20api\x20key',_0x16fd7a(0x668));if(_0x4d6fe0[_0x16fd7a(0x38a)][_0x16fd7a(0x1db)](_0x16fd7a(0x31b))&&!_0x3bb1a5)throw new H(_0x16fd7a(0xd8),_0x16fd7a(0x668));try{let _0x368421=_0x4d6fe0['params'];if((await ue[_0x16fd7a(0x6be)][_0x16fd7a(0x53a)](_0x368421[_0x16fd7a(0x479)]))[_0x16fd7a(0x64d)]===_0x3bb1a5)return _0x20eab1();}catch{}throw new Z();}var Ma={'jwt':ni,'apikey':ci},sr=require(a0_0x58753f(0x352)),M=require('uuid'),E=(..._0x154a9f)=>{const _0x4b1e60=a0_0x58753f;let _0x3f786d={};return _0x154a9f[_0x4b1e60(0x537)](_0x48300a=>_0x3f786d[_0x48300a]={'minLength':0x1,'description':_0x4b1e60(0x396)+_0x48300a+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x154a9f]}},'then':{'properties':_0x3f786d}};},v={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'instanceName':{'type':a0_0x58753f(0x61a)}},...E(a0_0x58753f(0x479))},Qn={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'oldToken':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x71e)],...E(a0_0x58753f(0x71e))},Yn={'properties':{'key':{'type':a0_0x58753f(0x759),'properties':{'id':{'type':a0_0x58753f(0x61a)},'remoteJid':{'type':a0_0x58753f(0x61a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x58753f(0x3a1)],...E('id','remoteJid')},'message':{'type':'object'}}},K={'properties':{'delay':{'type':a0_0x58753f(0x69f),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x1b4),a0_0x58753f(0x4e5),a0_0x58753f(0x184),'recording',a0_0x58753f(0xe3)]}}},W={'type':a0_0x58753f(0x61a),'pattern':a0_0x58753f(0x2e5),'description':a0_0x58753f(0x4e0)},Ca={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x58753f(0x759),'properties':{'text':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x4f4)],...E(a0_0x58753f(0x4f4))}},'required':['textMessage',a0_0x58753f(0x32d)]},va={'type':a0_0x58753f(0x61a),'pattern':a0_0x58753f(0xdd),'description':a0_0x58753f(0x4e0)},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...va},'options':{...K},'textMessage':{'type':a0_0x58753f(0x759),'properties':{'text':{'type':a0_0x58753f(0x61a)}},'required':['text'],...E(a0_0x58753f(0x4f4))}},'required':[a0_0x58753f(0x395),a0_0x58753f(0x32d)]},Zn={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...va},'options':{...K},'mediaMessage':{'type':a0_0x58753f(0x759),'properties':{'mediatype':{'type':'string','enum':[a0_0x58753f(0x682),a0_0x58753f(0x2c4),a0_0x58753f(0x75b),a0_0x58753f(0x1ca)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x2b8),a0_0x58753f(0x1c6)],...E('fileName',a0_0x58753f(0x135),a0_0x58753f(0x1c6))}},'required':['mediaMessage',a0_0x58753f(0x32d)]},Na={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x58753f(0x759),'properties':{'image':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x682)],...E(a0_0x58753f(0x682))}},'required':[a0_0x58753f(0x258),a0_0x58753f(0x32d)]},Ra={'$id':(0x0,M['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x58753f(0x759),'properties':{'type':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x4f4),a0_0x58753f(0x682),a0_0x58753f(0x1ca),a0_0x58753f(0x75b)]},'content':{'type':a0_0x58753f(0x61a)},'caption':{'type':a0_0x58753f(0x61a)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x58753f(0x69f),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x58753f(0x61a),'pattern':'^\x5cd+','description':a0_0x58753f(0x45c)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x58753f(0x4bb),a0_0x58753f(0x54f)],...E(a0_0x58753f(0x4bb),a0_0x58753f(0x54f))}},'required':[a0_0x58753f(0x179)]},Ta={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x682),'document','video','audio']},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x2b8),a0_0x58753f(0x1c6)],...E(a0_0x58753f(0x1e3),a0_0x58753f(0x135),a0_0x58753f(0x1c6))}},'required':['mediaMessage',a0_0x58753f(0x32d)]},Oa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x58753f(0x759),'properties':{'audio':{'type':a0_0x58753f(0x61a)}},'required':['audio'],...E(a0_0x58753f(0x1ca))}},'required':[a0_0x58753f(0x32c),a0_0x58753f(0x32d)]},Aa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x58753f(0x32d)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x58753f(0x730),a0_0x58753f(0x274),'values'],...E(a0_0x58753f(0x730),a0_0x58753f(0x274),'values')}},'required':[a0_0x58753f(0x32d),a0_0x58753f(0x768)]},Ia={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'menuMessage':{'type':a0_0x58753f(0x759),'properties':{'text':{'type':a0_0x58753f(0x61a)},'choices':{'type':a0_0x58753f(0x5c0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x58753f(0x4f4),a0_0x58753f(0x527)],...E(a0_0x58753f(0x4f4),a0_0x58753f(0x527))}},'required':[a0_0x58753f(0x32d),a0_0x58753f(0x19a)]},xa={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x58753f(0x61a)},'footerText':{'type':'string'},'buttons':{'type':a0_0x58753f(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x58753f(0x759),'properties':{'buttonText':{'type':a0_0x58753f(0x61a)},'buttonId':{'type':a0_0x58753f(0x61a)}},'required':['buttonText',a0_0x58753f(0x3fc)],...E(a0_0x58753f(0x10c),a0_0x58753f(0x3fc))}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':a0_0x58753f(0x61a)},'mediatype':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x682),a0_0x58753f(0x2c4),a0_0x58753f(0x75b)]}},'required':['media',a0_0x58753f(0x2b8)],...E(a0_0x58753f(0x1c6),a0_0x58753f(0x1e3))}},'required':[a0_0x58753f(0x6b0),a0_0x58753f(0x353)],...E(a0_0x58753f(0x6b0),a0_0x58753f(0x4e3))}},'required':[a0_0x58753f(0x32d),'buttonMessage']},Da={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x58753f(0x759),'properties':{'latitude':{'type':a0_0x58753f(0x32d)},'longitude':{'type':a0_0x58753f(0x32d)},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x58753f(0x4aa),'longitude'],...E('name',a0_0x58753f(0x5ab))}},'required':['number',a0_0x58753f(0x233)]},_a={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x58753f(0x759),'properties':{'title':{'type':a0_0x58753f(0x61a)},'description':{'type':'string'},'footerText':{'type':a0_0x58753f(0x61a)},'buttonText':{'type':a0_0x58753f(0x61a)},'sections':{'type':a0_0x58753f(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x58753f(0x759),'properties':{'title':{'type':a0_0x58753f(0x61a)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x58753f(0x759),'properties':{'title':{'type':a0_0x58753f(0x61a)},'description':{'type':'string'},'rowId':{'type':a0_0x58753f(0x61a)}},'required':['title',a0_0x58753f(0x6d2)],...E('title','rowId')}}},'required':[a0_0x58753f(0x6b0),a0_0x58753f(0x525)],...E(a0_0x58753f(0x6b0))}}},'required':[a0_0x58753f(0x6b0),a0_0x58753f(0x4e3),a0_0x58753f(0x10c),a0_0x58753f(0x32e)],...E(a0_0x58753f(0x6b0),a0_0x58753f(0x4e3),'buttonText',a0_0x58753f(0x6af))}},'required':[a0_0x58753f(0x32d),a0_0x58753f(0x466)]},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x58753f(0x5c0),'items':{'type':a0_0x58753f(0x759),'properties':{'fullName':{'type':a0_0x58753f(0x61a)},'phoneNumber':{'type':a0_0x58753f(0x61a),'minLength':0xa}},'required':[a0_0x58753f(0x6e7),'phoneNumber'],...E(a0_0x58753f(0x6e7))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x58753f(0x32d),'contactMessage']},$a={'$id':(0x0,M['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x58753f(0x759),'properties':{'key':{'type':a0_0x58753f(0x759),'properties':{'id':{'type':a0_0x58753f(0x61a)},'remoteJid':{'type':a0_0x58753f(0x61a)},'fromMe':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x58753f(0x41f),a0_0x58753f(0x3a1)],...E('id',a0_0x58753f(0x41f))},'reaction':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x54b),'reaction'],...E(a0_0x58753f(0x42e))}},'required':['reactionMessage']},ka={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x58753f(0x3a9),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},La={'$id':(0x0,M['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x58753f(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x58753f(0x3a1),'remoteJid'],...E('id',a0_0x58753f(0x41f))}}},'required':[a0_0x58753f(0x4f9)]},Fa={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'privacySettings':{'type':a0_0x58753f(0x759),'properties':{'readreceipts':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x186),a0_0x58753f(0x439)]},'profile':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x186),a0_0x58753f(0x2a4),'contact_blacklist',a0_0x58753f(0x439)]},'status':{'type':'string','enum':[a0_0x58753f(0x186),a0_0x58753f(0x2a4),a0_0x58753f(0x67a),a0_0x58753f(0x439)]},'online':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x186),'match_last_seen']},'last':{'type':a0_0x58753f(0x61a),'enum':['all',a0_0x58753f(0x2a4),a0_0x58753f(0x67a),a0_0x58753f(0x439)]},'groupadd':{'type':'string','enum':[a0_0x58753f(0x186),a0_0x58753f(0x2a4),a0_0x58753f(0x67a),'none']}},'required':[a0_0x58753f(0x68c),a0_0x58753f(0x382),a0_0x58753f(0x593),a0_0x58753f(0x136),a0_0x58753f(0x499),a0_0x58753f(0x18e)],...E(a0_0x58753f(0x68c),a0_0x58753f(0x382),'status',a0_0x58753f(0x136),a0_0x58753f(0x499),a0_0x58753f(0x18e))}},'required':[a0_0x58753f(0x17d)]},ja={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'lastMessage':{'type':a0_0x58753f(0x759),'properties':{'key':{'type':a0_0x58753f(0x759),'properties':{'id':{'type':a0_0x58753f(0x61a)},'remoteJid':{'type':a0_0x58753f(0x61a)},'fromMe':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x58753f(0x41f)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x58753f(0x69f),'minLength':0x1}},'required':[a0_0x58753f(0x54b)],...E(a0_0x58753f(0x6ef))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Ua={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'id':{'type':a0_0x58753f(0x61a)},'fromMe':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x58753f(0x61a)}},'required':['id',a0_0x58753f(0x3a1),a0_0x58753f(0x41f)],...E('id','remoteJid',a0_0x58753f(0x32a))},qa={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'where':{'type':a0_0x58753f(0x759),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x58753f(0x61a),'minLength':0x1},'id':{'type':a0_0x58753f(0x61a),'minLength':0x1}},...E('_id','id','pushName')}}},Ja={'$id':(0x0,M['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...E(a0_0x58753f(0x730))},Va={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'status':{'type':a0_0x58753f(0x61a)}},...E('status')},Se={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{'type':a0_0x58753f(0x61a)},'picture':{'type':a0_0x58753f(0x61a)}}},Ba={'type':a0_0x58753f(0x759),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x58753f(0x61a)},'picture':{'type':a0_0x58753f(0x61a)},'status':{'type':a0_0x58753f(0x61a)},'isBusiness':{'type':a0_0x58753f(0x26a)}}},Ga={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'where':{'type':a0_0x58753f(0x759),'properties':{'_id':{'type':a0_0x58753f(0x61a),'minLength':0x1},'key':{'type':a0_0x58753f(0x759),'if':{'propertyNames':{'enum':[a0_0x58753f(0x3a1),a0_0x58753f(0x41f),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x58753f(0x52a)},'id':{'type':'string','minLength':0x1,'description':a0_0x58753f(0x52a)},'fromMe':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x58753f(0x29f))},'limit':{'type':a0_0x58753f(0x69f)}}},ec={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'where':{'type':a0_0x58753f(0x759),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x58753f(0x61a)},'id':{'type':a0_0x58753f(0x61a)},'fromMe':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x58753f(0x61a)},'status':{'type':'string','enum':[a0_0x58753f(0x5c3),a0_0x58753f(0x568),a0_0x58753f(0x4e2),a0_0x58753f(0x5a6),a0_0x58753f(0x25d),'PLAYED']}},...E('_id',a0_0x58753f(0x41f),'id',a0_0x58753f(0x593))},'limit':{'type':a0_0x58753f(0x69f)}}},Wa={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'number':{...W},'presence':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x1b4),a0_0x58753f(0x4e5),a0_0x58753f(0x184),a0_0x58753f(0x612),'paused']}},'required':[a0_0x58753f(0x570),'number']},za={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'subject':{'type':a0_0x58753f(0x61a)},'description':{'type':a0_0x58753f(0x61a)},'profilePicture':{'type':a0_0x58753f(0x61a)},'participants':{'type':a0_0x58753f(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x58753f(0x61a),'minLength':0xa,'pattern':a0_0x58753f(0xe2),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x58753f(0x65a),a0_0x58753f(0x144)],...E('subject',a0_0x58753f(0x4e3),a0_0x58753f(0x756))},Ee={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'groupJid':{'type':a0_0x58753f(0x61a),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x58753f(0x4d8)],...E(a0_0x58753f(0x4d8))},Ha={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x58753f(0x61a)},'action':{'type':a0_0x58753f(0x61a),'enum':[a0_0x58753f(0x3c8),a0_0x58753f(0x2d0),a0_0x58753f(0x3f5),a0_0x58753f(0x746)]},'participants':{'type':a0_0x58753f(0x5c0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x58753f(0xe2),'description':a0_0x58753f(0x311)}}},'required':[a0_0x58753f(0x4d8),a0_0x58753f(0x17a),a0_0x58753f(0x144)],...E(a0_0x58753f(0x4d8),a0_0x58753f(0x17a))},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'groupJid':{'type':a0_0x58753f(0x61a)},'expiration':{'type':a0_0x58753f(0x32d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x58753f(0x4d8),a0_0x58753f(0x3d8)],...E(a0_0x58753f(0x4d8),'expiration')},Qa={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'groupJid':{'type':a0_0x58753f(0x61a)},'image':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x4d8),a0_0x58753f(0x682)],...E(a0_0x58753f(0x4d8),a0_0x58753f(0x682))},Ya={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x4d8),'description'],...E(a0_0x58753f(0x4d8),a0_0x58753f(0x4e3))},Xa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x58753f(0x61a)},'name':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x4d8),a0_0x58753f(0x730)],...E(a0_0x58753f(0x4d8),a0_0x58753f(0x730))},Za={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'groupJid':{'type':a0_0x58753f(0x61a)},'setting':{'type':a0_0x58753f(0x61a),'enum':['announcement',a0_0x58753f(0x627),a0_0x58753f(0x6fd),a0_0x58753f(0x42a)]}},'required':[a0_0x58753f(0x4d8),a0_0x58753f(0x420)],...E(a0_0x58753f(0x4d8),a0_0x58753f(0x420))},er={'$id':(0x0,M['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x58753f(0x61a)}},'required':[a0_0x58753f(0x56f)],...E(a0_0x58753f(0x56f))},tr={'$id':(0x0,M['v4'])(),'type':'object','properties':{'url':{'type':a0_0x58753f(0x61a)},'enabled':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]}},'required':[a0_0x58753f(0x534),a0_0x58753f(0x2e7)]},tc={'$id':(0x0,M['v4'])(),'type':a0_0x58753f(0x759),'properties':{'local_map':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x58753f(0x26a),'enum':[!0x0,!0x1]}},'required':[a0_0x58753f(0x4bd),a0_0x58753f(0x532),a0_0x58753f(0x202),a0_0x58753f(0x6c8),'MESSAGES_UPDATE',a0_0x58753f(0x4d9),'SEND_MESSAGE',a0_0x58753f(0x1f6),a0_0x58753f(0x71c),a0_0x58753f(0x3ff),a0_0x58753f(0x25c),a0_0x58753f(0x511),'CHATS_UPSERT',a0_0x58753f(0x16b),a0_0x58753f(0x1c7),a0_0x58753f(0xde),a0_0x58753f(0x21d),a0_0x58753f(0x1f3),'GROUP_PARTICIPANTS_UPDATE'],...E('local_map',a0_0x58753f(0x532),a0_0x58753f(0x202),a0_0x58753f(0x6c8),a0_0x58753f(0x112),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x58753f(0x1f6),a0_0x58753f(0x71c),a0_0x58753f(0x3ff),a0_0x58753f(0x25c),a0_0x58753f(0x511),'CHATS_UPSERT','CHATS_UPDATE','CHATS_DELETE',a0_0x58753f(0xde),a0_0x58753f(0x21d),a0_0x58753f(0x1f3),a0_0x58753f(0x6a1))},Qe=class{},Ye=class extends D{['getContactModelForOwner'](_0xa7a3b){return Gs(_0xa7a3b);}async['insert'](_0x36e5fa){const _0x525af3=a0_0x58753f;if(_0x36e5fa['length']!==0x0)try{return{'insertCount':(await this[_0x525af3(0x62f)](_0x36e5fa[0x0][_0x525af3(0x4a8)])[_0x525af3(0x615)]([..._0x36e5fa]))[_0x525af3(0x676)]};}catch(_0x57f710){return _0x57f710;}}async[a0_0x58753f(0x17c)](_0x3c4f4f,_0x4f5bb0){const _0x5e9d03=a0_0x58753f;try{return{'deletedCount':(await this[_0x5e9d03(0x62f)](_0x4f5bb0)[_0x5e9d03(0x695)]({..._0x3c4f4f[_0x5e9d03(0x40b)]}))[_0x5e9d03(0x714)]};}catch(_0x27f030){return{'error':_0x27f030?.[_0x5e9d03(0x623)]()};}}async['update'](_0x30ddfb,_0x31bb67){const _0x65366d=a0_0x58753f;try{if(_0x30ddfb[_0x65366d(0x676)]===0x0)return;let _0x3562d3=this[_0x65366d(0x62f)](_0x31bb67),_0x405f24=_0x30ddfb[_0x65366d(0x378)](_0x1b5b94=>({'updateOne':{'filter':{'_id':_0x1b5b94[_0x65366d(0x29f)],'owner':_0x31bb67},'update':{..._0x1b5b94}}})),{modifiedCount:_0x53a527}=await _0x3562d3[_0x65366d(0x5fd)](_0x405f24);return{'insertCount':_0x53a527};}catch{return;}}async[a0_0x58753f(0x53a)](_0x500a53,_0x10ee27){const _0x1e7425=a0_0x58753f;try{let _0xe61b05=this[_0x1e7425(0x62f)](_0x10ee27),_0xd785c2=A(_0x500a53[_0x1e7425(0x40b)]);return await _0xe61b05[_0x1e7425(0x53a)](_0xd785c2)[_0x1e7425(0xd1)](_0x500a53?.[_0x1e7425(0xd1)]??0x0)[_0x1e7425(0x716)]();}catch{return[];}}async['findOne'](_0xe8079f,_0x4b9463){const _0x1da453=a0_0x58753f;try{let _0x358a61=this[_0x1da453(0x62f)](_0x4b9463),_0x125283=A(_0xe8079f[_0x1da453(0x40b)]);return await _0x358a61['findOne'](_0x125283)[_0x1da453(0x716)]();}catch{return null;}}async[a0_0x58753f(0x717)](_0x4b441d){const _0x3a49c5=a0_0x58753f;try{return await this[_0x3a49c5(0x62f)](_0x4b441d)[_0x3a49c5(0x619)][_0x3a49c5(0xce)](),{'success':!0x0};}catch(_0x5ade1f){return console[_0x3a49c5(0x47b)](_0x5ade1f),{'success':!0x1,'error':_0x5ade1f};}}},Xe=require(a0_0x58753f(0x5e4)),uc=require('express-async-errors'),hs=new N(a0_0x58753f(0x403)),U=class{[a0_0x58753f(0x307)](_0xfe4f0b,_0x3e0ec6=!0x0){const _0x2d1539=a0_0x58753f;let _0x824e74='/'+_0xfe4f0b;return _0x3e0ec6&&(_0x824e74+=_0x2d1539(0x624)),_0x824e74;}async[a0_0x58753f(0x46c)](_0x1ee313){const _0x28a70c=a0_0x58753f;let {request:_0x3890f3,schema:_0x18a364,ClassRef:_0x17c0b5,execute:_0xb3aeec}=_0x1ee313,_0x26874e=new _0x17c0b5(),_0x4be7db=_0x3890f3[_0x28a70c(0x188)],_0x730f89=_0x3890f3[_0x28a70c(0x146)];_0x3890f3?.[_0x28a70c(0x435)]&&Object[_0x28a70c(0x14b)](_0x3890f3['query'])[_0x28a70c(0x676)]>0x0&&Object[_0x28a70c(0x1c4)](_0x730f89,_0x3890f3['query']),_0x3890f3['originalUrl'][_0x28a70c(0x1db)]('/instance/create')&&Object[_0x28a70c(0x1c4)](_0x730f89,_0x4be7db),Object[_0x28a70c(0x1c4)](_0x26874e,_0x4be7db);let _0x560db8=_0x18a364?(0x0,Xe[_0x28a70c(0xdf)])(_0x26874e,_0x18a364):{'valid':!0x0,'errors':[]};if(!_0x560db8[_0x28a70c(0x38b)]){let _0xf5c3aa=_0x560db8[_0x28a70c(0x1a0)][_0x28a70c(0x378)](({property:_0x1c88d9,stack:_0x4e7ae4,schema:_0x5a3566})=>{const _0x5cdd39=_0x28a70c;let _0xbbd24d;return _0x5a3566[_0x5cdd39(0x4e3)]?_0xbbd24d=_0x5a3566['description']:_0xbbd24d=_0x4e7ae4['replace'](_0x5cdd39(0x4da),''),{'property':_0x1c88d9[_0x5cdd39(0x36c)]('instance.',''),'message':_0xbbd24d};});throw hs['error']([..._0xf5c3aa]),new w(..._0xf5c3aa);}return await _0xb3aeec(_0x730f89,_0x26874e);}async[a0_0x58753f(0xd2)](_0x443b21){const _0x30b204=a0_0x58753f;let {request:_0x568cd7,ClassRef:_0x26de2c,schema:_0x282b1d,execute:_0x15a4ad}=_0x443b21,_0x1a4e11=_0x568cd7[_0x30b204(0x435)];if(!_0x1a4e11?.['groupJid'])throw new w(_0x30b204(0x2e9),_0x30b204(0x634));let _0x4f31d7=_0x568cd7[_0x30b204(0x146)],_0x3b6ca3=_0x568cd7[_0x30b204(0x188)],_0x4b146f=new _0x26de2c();Object[_0x30b204(0x1c4)](_0x3b6ca3,_0x1a4e11),Object[_0x30b204(0x1c4)](_0x4b146f,_0x3b6ca3);let _0x4402a3=(0x0,Xe[_0x30b204(0xdf)])(_0x4b146f,_0x282b1d);if(!_0x4402a3[_0x30b204(0x38b)]){let _0x17f967=_0x4402a3[_0x30b204(0x1a0)][_0x30b204(0x378)](({property:_0x2c6add,stack:_0x3eef77,schema:_0x102c3e})=>{const _0x17338f=_0x30b204;let _0x2e1dd0;return _0x102c3e[_0x17338f(0x4e3)]?_0x2e1dd0=_0x102c3e['description']:_0x2e1dd0=_0x3eef77[_0x17338f(0x36c)](_0x17338f(0x4da),''),{'property':_0x2c6add[_0x17338f(0x36c)]('instance.',''),'message':_0x2e1dd0};});throw hs['error']([..._0x17f967]),new w(..._0x17f967);}return await _0x15a4ad(_0x4f31d7,_0x4b146f);}async['joinGroupValidate'](_0x835f9d){const _0x595006=a0_0x58753f;let {request:_0x11ce7f,ClassRef:_0x55035b,schema:_0x2eefbf,execute:_0x9fb957}=_0x835f9d,_0x545240=_0x11ce7f[_0x595006(0x188)];if(!_0x545240?.[_0x595006(0x56f)])throw new w(_0x595006(0x104),_0x595006(0x159));let _0xedf569=_0x11ce7f['params'],_0x4c2a90=_0x11ce7f[_0x595006(0x188)],_0x461b43=new _0x55035b();Object[_0x595006(0x1c4)](_0x4c2a90,_0x545240),Object['assign'](_0x461b43,_0x4c2a90);let _0x12a959=(0x0,Xe[_0x595006(0xdf)])(_0x461b43,_0x2eefbf);if(!_0x12a959[_0x595006(0x38b)]){let _0x129691=_0x12a959[_0x595006(0x1a0)][_0x595006(0x378)](({property:_0x5ec70f,stack:_0xee9031,schema:_0x3143f3})=>{const _0x1c2089=_0x595006;let _0x17c75f;return _0x3143f3[_0x1c2089(0x4e3)]?_0x17c75f=_0x3143f3['description']:_0x17c75f=_0xee9031['replace'](_0x1c2089(0x4da),''),{'property':_0x5ec70f[_0x1c2089(0x36c)]('instance.',''),'message':_0x17c75f};});throw hs[_0x595006(0x47b)]([..._0x129691]),new w(..._0x129691);}return await _0x9fb957(_0xedf569,_0x461b43);}},S=class{},Nc=new N(a0_0x58753f(0x585)),Ze=class extends U{constructor(..._0x1d074e){const _0xd12e1e=a0_0x58753f;super(),this['router']=(0x0,sr[_0xd12e1e(0xd0)])(),this['router'][_0xd12e1e(0x522)](this[_0xd12e1e(0x307)](_0xd12e1e(0x53b)),..._0x1d074e,async(_0x3762bc,_0x43a36c)=>{const _0x358b78=_0xd12e1e;let _0x5646ca=await this['dataValidate']({'request':_0x3762bc,'schema':Wa,'ClassRef':je,'execute':(_0x2bd2ff,_0x1f2d02)=>_[_0x358b78(0x53b)](_0x2bd2ff,_0x1f2d02)});return _0x43a36c['status'](0xc9)[_0x358b78(0x541)](_0x5646ca);})['post'](this['routerPath'](_0xd12e1e(0x39e)),..._0x1d074e,async(_0x5a1a38,_0x1ed523)=>{const _0xa5e90=_0xd12e1e;let _0x4b0356=await this['dataValidate']({'request':_0x5a1a38,'schema':ka,'ClassRef':Ue,'execute':(_0x53d696,_0x5b3ab2)=>_['whatsappNumber'](_0x53d696,_0x5b3ab2)});return _0x1ed523[_0xa5e90(0x593)](0xc9)[_0xa5e90(0x541)](_0x4b0356);})[_0xd12e1e(0x522)](this[_0xd12e1e(0x307)]('editChat'),..._0x1d074e,async(_0x353762,_0x29ff5d)=>{const _0x4d68dd=_0xd12e1e;let _0x323161=await this['dataValidate']({'request':_0x353762,'schema':v,'ClassRef':S,'execute':(_0x1c4955,_0x28feac)=>_[_0x4d68dd(0x1fc)](_0x1c4955,_0x28feac)});return _0x29ff5d[_0x4d68dd(0x593)](0xc9)[_0x4d68dd(0x541)](_0x323161);})[_0xd12e1e(0x4f6)](this[_0xd12e1e(0x307)]('markMessageAsRead'),..._0x1d074e,async(_0x110d7c,_0x75e364)=>{const _0x2e20c9=_0xd12e1e;let _0x153618=await this[_0x2e20c9(0x46c)]({'request':_0x110d7c,'schema':La,'ClassRef':Ve,'execute':(_0x20504c,_0x289545)=>_[_0x2e20c9(0x27e)](_0x20504c,_0x289545)});return _0x75e364[_0x2e20c9(0x593)](0xc9)[_0x2e20c9(0x541)](_0x153618);})[_0xd12e1e(0x4f6)](this[_0xd12e1e(0x307)](_0xd12e1e(0x426)),..._0x1d074e,async(_0x3ae0d1,_0x5265f5)=>{const _0x448295=_0xd12e1e;let _0x4c6296=await this['dataValidate']({'request':_0x3ae0d1,'schema':ja,'ClassRef':Be,'execute':(_0x748c15,_0x101edd)=>_['archiveChat'](_0x748c15,_0x101edd)});return _0x5265f5[_0x448295(0x593)](0xc9)[_0x448295(0x541)](_0x4c6296);})[_0xd12e1e(0x17c)](this[_0xd12e1e(0x307)](_0xd12e1e(0x67e)),..._0x1d074e,async(_0x1a255f,_0x39df87)=>{const _0x32696e=_0xd12e1e;let _0x17274a=await this[_0x32696e(0x46c)]({'request':_0x1a255f,'schema':Ua,'ClassRef':We,'execute':(_0x584537,_0x1a8298)=>_['deleteMessage'](_0x584537,_0x1a8298)});return _0x39df87[_0x32696e(0x593)](0xc9)[_0x32696e(0x541)](_0x17274a);})[_0xd12e1e(0x522)](this['routerPath']('fetchProfilePictureUrl'),..._0x1d074e,async(_0x4923a9,_0xc96415)=>{const _0x23b394=_0xd12e1e;let _0x5d0f76=await this[_0x23b394(0x46c)]({'request':_0x4923a9,'schema':Se,'ClassRef':be,'execute':(_0x5bf3fa,_0x5cf9dd)=>_[_0x23b394(0x70f)](_0x5bf3fa,_0x5cf9dd)});return _0xc96415[_0x23b394(0x593)](0xc8)[_0x23b394(0x541)](_0x5d0f76);})[_0xd12e1e(0x522)](this[_0xd12e1e(0x307)](_0xd12e1e(0x3a2)),..._0x1d074e,async(_0x52caf1,_0x77dd07)=>{const _0x6d59b0=_0xd12e1e;let _0x4a9a3c=await this[_0x6d59b0(0x46c)]({'request':_0x52caf1,'schema':Ba,'ClassRef':be,'execute':(_0x5a9211,_0x1fd9d0)=>_[_0x6d59b0(0x3a2)](_0x5a9211,_0x1fd9d0)});return _0x77dd07[_0x6d59b0(0x593)](0xc8)['json'](_0x4a9a3c);})[_0xd12e1e(0x522)](this[_0xd12e1e(0x307)](_0xd12e1e(0x298)),..._0x1d074e,async(_0x237cc2,_0x195f40)=>{const _0x53213c=_0xd12e1e;let _0x5be410=await this[_0x53213c(0x46c)]({'request':_0x237cc2,'schema':qa,'ClassRef':Qe,'execute':(_0x1d3f6f,_0x42ea23)=>_['fetchContacts'](_0x1d3f6f,_0x42ea23)});return _0x195f40[_0x53213c(0x593)](0xc8)['json'](_0x5be410);})[_0xd12e1e(0x522)](this[_0xd12e1e(0x307)](_0xd12e1e(0x432)),..._0x1d074e,async(_0x30b32e,_0x57af33)=>{const _0x418ec7=_0xd12e1e;let _0x4ac9d5=await this['dataValidate']({'request':_0x30b32e,'schema':null,'ClassRef':Object,'execute':(_0x29de47,_0x605b28)=>_[_0x418ec7(0x432)](_0x29de47,_0x605b28)});return _0x57af33[_0x418ec7(0x593)](0xc9)[_0x418ec7(0x541)](_0x4ac9d5);})['post'](this['routerPath'](_0xd12e1e(0x125)),..._0x1d074e,async(_0x5e82fb,_0x3808f5)=>{const _0xf387ba=_0xd12e1e;let _0x198374=await this[_0xf387ba(0x46c)]({'request':_0x5e82fb,'schema':Ga,'ClassRef':Le,'execute':(_0x591fcf,_0xb9220f)=>_['fetchMessages'](_0x591fcf,_0xb9220f)});return _0x3808f5[_0xf387ba(0x593)](0xc8)['json'](_0x198374);})['get'](this[_0xd12e1e(0x307)](_0xd12e1e(0x126)),..._0x1d074e,async(_0x40126d,_0x733fc1)=>{const _0x50e701=_0xd12e1e;let _0x1137e5=await this[_0x50e701(0x46c)]({'request':_0x40126d,'schema':null,'ClassRef':S,'execute':_0x2218d9=>_['fetchChats'](_0x2218d9)});return _0x733fc1[_0x50e701(0x593)](0xc8)[_0x50e701(0x541)](_0x1137e5);})[_0xd12e1e(0x59e)](this['routerPath'](_0xd12e1e(0x320)),..._0x1d074e,async(_0x425090,_0x15c70f)=>{const _0x1e23b9=_0xd12e1e;let _0x35349f=await this[_0x1e23b9(0x46c)]({'request':_0x425090,'schema':null,'ClassRef':S,'execute':_0x107639=>_[_0x1e23b9(0x5e8)](_0x107639)});return _0x15c70f[_0x1e23b9(0x593)](0xc8)['json'](_0x35349f);})['put'](this[_0xd12e1e(0x307)](_0xd12e1e(0x2ad)),..._0x1d074e,async(_0x599a27,_0x53dc47)=>{const _0x2d0d07=_0xd12e1e;let _0x5eb7c6=await this['dataValidate']({'request':_0x599a27,'schema':null,'ClassRef':Array,'execute':(_0x2b3e0a,_0xd447db)=>_[_0x2d0d07(0x2ad)](_0x2b3e0a,_0xd447db)});return _0x53dc47[_0x2d0d07(0x593)](0xc8)[_0x2d0d07(0x541)](_0x5eb7c6);})['get'](this['routerPath'](_0xd12e1e(0x596)),..._0x1d074e,async(_0x24dbdf,_0x2bd4fa)=>{const _0x512f76=_0xd12e1e;let _0x1f5d44=await this[_0x512f76(0x46c)]({'request':_0x24dbdf,'schema':null,'ClassRef':S,'execute':_0x12f09e=>_['fetchPrivacySettings'](_0x12f09e)});return _0x2bd4fa[_0x512f76(0x593)](0xc8)[_0x512f76(0x541)](_0x1f5d44);})[_0xd12e1e(0x4f6)](this['routerPath'](_0xd12e1e(0x49b)),..._0x1d074e,async(_0x273a1c,_0x511dd6)=>{const _0x595250=_0xd12e1e;let _0x1aff4b=await this[_0x595250(0x46c)]({'request':_0x273a1c,'schema':Fa,'ClassRef':Ge,'execute':(_0x37555a,_0x5b37ab)=>_[_0x595250(0x49b)](_0x37555a,_0x5b37ab)});return _0x511dd6[_0x595250(0x593)](0xc9)[_0x595250(0x541)](_0x1aff4b);})[_0xd12e1e(0x522)](this[_0xd12e1e(0x307)](_0xd12e1e(0x1fb)),..._0x1d074e,async(_0x1c4ec3,_0x483015)=>{const _0x2fb9b8=_0xd12e1e;let _0x19aafd=await this[_0x2fb9b8(0x46c)]({'request':_0x1c4ec3,'schema':Se,'ClassRef':fe,'execute':(_0x99a184,_0xdf5302)=>_['fetchBusinessProfile'](_0x99a184,_0xdf5302)});return _0x483015[_0x2fb9b8(0x593)](0xc8)[_0x2fb9b8(0x541)](_0x19aafd);})['post'](this['routerPath'](_0xd12e1e(0x3e8)),..._0x1d074e,async(_0x36c06b,_0x477969)=>{const _0x24ac9e=_0xd12e1e;let _0x5c7c52=await this['dataValidate']({'request':_0x36c06b,'schema':Ja,'ClassRef':qe,'execute':(_0xefce74,_0x3b9a13)=>_['updateProfileName'](_0xefce74,_0x3b9a13)});return _0x477969[_0x24ac9e(0x593)](0xc8)['json'](_0x5c7c52);})[_0xd12e1e(0x522)](this[_0xd12e1e(0x307)]('updateProfileStatus'),..._0x1d074e,async(_0x35bffa,_0x1cd569)=>{const _0x32eba5=_0xd12e1e;let _0x2f5b88=await this[_0x32eba5(0x46c)]({'request':_0x35bffa,'schema':Va,'ClassRef':Je,'execute':(_0x9642f8,_0x2d4588)=>_[_0x32eba5(0x2f6)](_0x9642f8,_0x2d4588)});return _0x1cd569['status'](0xc8)[_0x32eba5(0x541)](_0x2f5b88);})[_0xd12e1e(0x4f6)](this['routerPath']('updateProfilePicture'),..._0x1d074e,async(_0x1c0c62,_0x52de85)=>{const _0x1f3b2e=_0xd12e1e;let _0x12abc9=await this[_0x1f3b2e(0x46c)]({'request':_0x1c0c62,'schema':Se,'ClassRef':fe,'execute':(_0x439694,_0x4c0f61)=>_[_0x1f3b2e(0x6a7)](_0x439694,_0x4c0f61)});return _0x52de85[_0x1f3b2e(0x593)](0xc8)[_0x1f3b2e(0x541)](_0x12abc9);})[_0xd12e1e(0x17c)](this[_0xd12e1e(0x307)](_0xd12e1e(0x139)),..._0x1d074e,async(_0x1f1342,_0x53cf43)=>{const _0x55deb6=_0xd12e1e;let _0x4ba1cf=await this[_0x55deb6(0x46c)]({'request':_0x1f1342,'schema':Se,'ClassRef':fe,'execute':(_0x2b0cde,_0x50c5d5)=>_[_0x55deb6(0x139)](_0x2b0cde,_0x50c5d5)});return _0x53cf43[_0x55deb6(0x593)](0xc8)[_0x55deb6(0x541)](_0x4ba1cf);});}},ar=require(a0_0x58753f(0x352)),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x325243){const _0x4a6c1c=a0_0x58753f;super(),this['router']=(0x0,ar[_0x4a6c1c(0xd0)])(),this[_0x4a6c1c(0x334)][_0x4a6c1c(0x522)](this[_0x4a6c1c(0x307)](_0x4a6c1c(0x60f)),..._0x325243,async(_0x4e87b9,_0x4678bc)=>{const _0xf653ce=_0x4a6c1c;let _0x138553=await this['dataValidate']({'request':_0x4e87b9,'schema':za,'ClassRef':et,'execute':(_0x1bba18,_0x111de3)=>F[_0xf653ce(0x6d1)](_0x1bba18,_0x111de3)});_0x4678bc[_0xf653ce(0x593)](0xc9)[_0xf653ce(0x541)](_0x138553);})['put'](this[_0x4a6c1c(0x307)]('updateGroupPicture'),..._0x325243,async(_0x13aea8,_0x18cf99)=>{const _0x5973d5=_0x4a6c1c;let _0x4d5857=await this['groupValidate']({'request':_0x13aea8,'schema':Qa,'ClassRef':tt,'execute':(_0x373740,_0x5bdf51)=>F[_0x5973d5(0x63e)](_0x373740,_0x5bdf51)});_0x18cf99[_0x5973d5(0x593)](0xc9)[_0x5973d5(0x541)](_0x4d5857);})['put'](this[_0x4a6c1c(0x307)](_0x4a6c1c(0x693)),..._0x325243,async(_0x1cfd7b,_0x565119)=>{const _0x5ed0df=_0x4a6c1c;let _0x556c87=await this['groupValidate']({'request':_0x1cfd7b,'schema':Ya,'ClassRef':st,'execute':(_0x5199fc,_0x706a2b)=>F['groupDesc'](_0x5199fc,_0x706a2b)});_0x565119[_0x5ed0df(0x593)](0xc9)[_0x5ed0df(0x541)](_0x556c87);})[_0x4a6c1c(0x4f6)](this['routerPath'](_0x4a6c1c(0x767)),..._0x325243,async(_0x2fac7e,_0x679c71)=>{const _0x49a797=_0x4a6c1c;let _0xdc6eb2=await this[_0x49a797(0xd2)]({'request':_0x2fac7e,'schema':Xa,'ClassRef':at,'execute':(_0x527cc7,_0x53eb94)=>F[_0x49a797(0x767)](_0x527cc7,_0x53eb94)});_0x679c71[_0x49a797(0x593)](0xc9)[_0x49a797(0x541)](_0xdc6eb2);})[_0x4a6c1c(0x4f6)](this[_0x4a6c1c(0x307)](_0x4a6c1c(0x418)),..._0x325243,async(_0x119311,_0x2ec019)=>{const _0x381b5c=_0x4a6c1c;let _0x47e476=await this[_0x381b5c(0xd2)]({'request':_0x119311,'schema':Za,'ClassRef':rt,'execute':(_0x1ff184,_0x861392)=>F[_0x381b5c(0x418)](_0x1ff184,_0x861392)});_0x2ec019['status'](0xc9)['json'](_0x47e476);})['put'](this[_0x4a6c1c(0x307)](_0x4a6c1c(0x1a5)),..._0x325243,async(_0x2850be,_0x5a509f)=>{const _0x58848d=_0x4a6c1c;let _0x32ea57=await this['groupValidate']({'request':_0x2850be,'schema':Ka,'ClassRef':nt,'execute':(_0xbf7e70,_0x438dd1)=>F[_0x58848d(0x1a5)](_0xbf7e70,_0x438dd1)});_0x5a509f['status'](0xc9)[_0x58848d(0x541)](_0x32ea57);})['get'](this['routerPath']('findGroupInfos'),..._0x325243,async(_0x2a5892,_0x1722e3)=>{const _0x54ce59=_0x4a6c1c;let _0x55fb89=await this[_0x54ce59(0xd2)]({'request':_0x2a5892,'schema':Ee,'ClassRef':Q,'execute':(_0x570ccd,_0x3bd0d0)=>F['findGroupInfo'](_0x570ccd,_0x3bd0d0)});_0x1722e3[_0x54ce59(0x593)](0xc8)[_0x54ce59(0x541)](_0x55fb89);})[_0x4a6c1c(0x59e)](this[_0x4a6c1c(0x307)](_0x4a6c1c(0x506)),..._0x325243,async(_0x24e4f8,_0x17b988)=>{const _0x56f1d0=_0x4a6c1c;let _0x59ae0c=await this[_0x56f1d0(0x46c)]({'request':_0x24e4f8,'schema':v,'ClassRef':S,'execute':_0x1ada60=>F[_0x56f1d0(0x506)](_0x1ada60)});_0x17b988[_0x56f1d0(0x593)](0xc8)[_0x56f1d0(0x541)](_0x59ae0c);})[_0x4a6c1c(0x59e)](this['routerPath'](_0x4a6c1c(0x144)),..._0x325243,async(_0x2c9195,_0xd138ec)=>{const _0x507b0d=_0x4a6c1c;let _0x37f0c3=await this['groupValidate']({'request':_0x2c9195,'schema':Ee,'ClassRef':Q,'execute':(_0xb085c2,_0xb1ab15)=>F['findParticipants'](_0xb085c2,_0xb1ab15)});_0xd138ec[_0x507b0d(0x593)](0xc8)[_0x507b0d(0x541)](_0x37f0c3);})['get'](this[_0x4a6c1c(0x307)](_0x4a6c1c(0x56f)),..._0x325243,async(_0x533943,_0x37274d)=>{const _0x24401e=_0x4a6c1c;let _0x343341=await this[_0x24401e(0xd2)]({'request':_0x533943,'schema':Ee,'ClassRef':Q,'execute':(_0x350a1c,_0x1be801)=>F[_0x24401e(0x56f)](_0x350a1c,_0x1be801)});_0x37274d['status'](0xc8)[_0x24401e(0x541)](_0x343341);})['put'](this[_0x4a6c1c(0x307)]('joinGroup'),..._0x325243,async(_0x2440c1,_0xde2372)=>{const _0x64626b=_0x4a6c1c;let _0x56b98f=await this['joinGroupValidate']({'request':_0x2440c1,'schema':er,'ClassRef':it,'execute':(_0x437039,_0x16a001)=>F[_0x64626b(0x539)](_0x437039,_0x16a001)});_0xde2372[_0x64626b(0x593)](0xc9)['json'](_0x56b98f);})[_0x4a6c1c(0x4f6)](this[_0x4a6c1c(0x307)]('revokeInviteCode'),..._0x325243,async(_0x221b6e,_0x5c0081)=>{const _0x3ca77d=_0x4a6c1c;let _0x31d939=await this[_0x3ca77d(0xd2)]({'request':_0x221b6e,'schema':Ee,'ClassRef':Q,'execute':(_0x39d26e,_0x2df8cb)=>F[_0x3ca77d(0xdc)](_0x39d26e,_0x2df8cb)});_0x5c0081[_0x3ca77d(0x593)](0xc9)['json'](_0x31d939);})[_0x4a6c1c(0x4f6)](this['routerPath'](_0x4a6c1c(0x2cd)),..._0x325243,async(_0x15ac9e,_0x1e578f)=>{const _0x144864=_0x4a6c1c;let _0x378f46=await this[_0x144864(0xd2)]({'request':_0x15ac9e,'schema':Ha,'ClassRef':ot,'execute':(_0x5210d8,_0xb86942)=>F[_0x144864(0x4b9)](_0x5210d8,_0xb86942)});_0x1e578f[_0x144864(0x593)](0xc9)[_0x144864(0x541)](_0x378f46);})[_0x4a6c1c(0x17c)](this[_0x4a6c1c(0x307)](_0x4a6c1c(0x198)),..._0x325243,async(_0x3bc822,_0x4c5645)=>{const _0x2ef980=_0x4a6c1c;let _0x1e5fc2=await this[_0x2ef980(0xd2)]({'request':_0x3bc822,'schema':{},'ClassRef':Q,'execute':(_0x52b947,_0x17f8f3)=>F['leaveGroup'](_0x52b947,_0x17f8f3)});_0x4c5645[_0x2ef980(0x593)](0xc8)[_0x2ef980(0x541)](_0x1e5fc2);});}},rr=require('express'),lt=class extends U{constructor(_0x3f7920,..._0x28b157){const _0x28125f=a0_0x58753f;super(),this[_0x28125f(0x6ae)]=_0x3f7920,this[_0x28125f(0x334)]=(0x0,rr[_0x28125f(0xd0)])();let _0x1b898e=_0x3f7920[_0x28125f(0x59e)](_0x28125f(0x285));this[_0x28125f(0x334)]['post'](_0x28125f(0x697),..._0x28b157,async(_0x59b97e,_0x3c303b)=>{const _0x3f5bfc=_0x28125f;let {instanceName:_0x2b98d5,apikey:_0x14e6d7,number:_0x2372b}=_0x59b97e[_0x3f5bfc(0x188)],_0x15cbe4=await ie['createInstance']({'instanceName':_0x2b98d5,'apikey':_0x14e6d7,'number':_0x2372b});return _0x3c303b[_0x3f5bfc(0x593)](0xc9)['json'](_0x15cbe4);})['put'](this[_0x28125f(0x307)](_0x28125f(0x741)),..._0x28b157,async(_0x1855eb,_0x4a500d)=>{const _0x13f4db=_0x28125f;let _0x31db00=await this[_0x13f4db(0x46c)]({'request':_0x1855eb,'schema':v,'ClassRef':S,'execute':_0x28523b=>ie[_0x13f4db(0x338)](_0x28523b)});return _0x4a500d[_0x13f4db(0x593)](0xc8)[_0x13f4db(0x541)](_0x31db00);})['get'](this[_0x28125f(0x307)](_0x28125f(0x3c9)),..._0x28b157,async(_0x1838c5,_0x29b28f)=>{const _0x2703b7=_0x28125f;let _0x4fa001=await this['dataValidate']({'request':_0x1838c5,'schema':v,'ClassRef':S,'execute':_0x342c5b=>ie[_0x2703b7(0x6f2)](_0x342c5b)});return _0x29b28f[_0x2703b7(0x593)](0xc8)[_0x2703b7(0x541)](_0x4fa001);})[_0x28125f(0x59e)](this[_0x28125f(0x307)](_0x28125f(0x203)),..._0x28b157,async(_0x5f0856,_0x97c96)=>{const _0x332969=_0x28125f;let _0x24609c=await this[_0x332969(0x46c)]({'request':_0x5f0856,'schema':v,'ClassRef':S,'execute':_0x521f33=>ie[_0x332969(0x203)](_0x521f33)});return _0x97c96[_0x332969(0x593)](0xc8)['json'](_0x24609c);})[_0x28125f(0x59e)](this[_0x28125f(0x307)]('fetchInstances',!0x1),..._0x28b157,async(_0x27f05e,_0x6a6dcf)=>{const _0x17bd08=_0x28125f;let _0x4494c6=await this[_0x17bd08(0x46c)]({'request':_0x27f05e,'schema':null,'ClassRef':S,'execute':_0x59ead5=>ie[_0x17bd08(0x269)](_0x59ead5)});return _0x6a6dcf[_0x17bd08(0x593)](0xc8)[_0x17bd08(0x541)](_0x4494c6);})['delete'](this[_0x28125f(0x307)](_0x28125f(0x6d5)),..._0x28b157,async(_0x291d41,_0x411e81)=>{const _0x473cf0=_0x28125f;let _0x448677=await this[_0x473cf0(0x46c)]({'request':_0x291d41,'schema':v,'ClassRef':S,'execute':_0x1ec0bc=>ie['logout'](_0x1ec0bc)});return _0x411e81['status'](0xc8)['json'](_0x448677);})[_0x28125f(0x17c)](this['routerPath']('delete'),..._0x28b157,async(_0x49fb21,_0x198efe)=>{const _0xab22e1=_0x28125f;let _0x430df8=await this[_0xab22e1(0x46c)]({'request':_0x49fb21,'schema':v,'ClassRef':S,'execute':_0x41b610=>ie[_0xab22e1(0x702)](_0x41b610)});return _0x198efe['status'](0xc8)[_0xab22e1(0x541)](_0x430df8);});}},ir=require(a0_0x58753f(0x352)),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Me=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x154ccb){const _0x315aa0=a0_0x58753f;super(),this[_0x315aa0(0x334)]=(0x0,ir[_0x315aa0(0xd0)])(),this[_0x315aa0(0x334)][_0x315aa0(0x522)](this[_0x315aa0(0x307)](_0x315aa0(0x33c)),..._0x154ccb,async(_0x4109cf,_0x5158e8)=>{const _0x4d5398=_0x315aa0;let _0x1d49db=await this[_0x4d5398(0x46c)]({'request':_0x4109cf,'schema':Ca,'ClassRef':ut,'execute':(_0x163553,_0x3fb13e)=>B[_0x4d5398(0x33c)](_0x163553,_0x3fb13e)});return _0x5158e8[_0x4d5398(0x593)](0xc9)[_0x4d5398(0x541)](_0x1d49db);})[_0x315aa0(0x522)](this[_0x315aa0(0x307)](_0x315aa0(0x604)),..._0x154ccb,async(_0x53665c,_0x35c7a5)=>{const _0x5c48c3=_0x315aa0;let _0x59dae5=await this['dataValidate']({'request':_0x53665c,'schema':Ta,'ClassRef':Me,'execute':(_0x55f30b,_0x739e6a)=>B[_0x5c48c3(0x604)](_0x55f30b,_0x739e6a)});return _0x35c7a5['status'](0xc9)[_0x5c48c3(0x541)](_0x59dae5);})[_0x315aa0(0x522)](this[_0x315aa0(0x307)](_0x315aa0(0x11a)),..._0x154ccb,async(_0x1eb108,_0x3e6207)=>{const _0x25bc50=_0x315aa0;let _0x1686d4=await this[_0x25bc50(0x46c)]({'request':_0x1eb108,'schema':Ia,'ClassRef':ht,'execute':(_0x991fa8,_0x33f0f7)=>B['sendMenu'](_0x991fa8,_0x33f0f7)});return _0x3e6207[_0x25bc50(0x593)](0xc9)['json'](_0x1686d4);})['post'](this[_0x315aa0(0x307)](_0x315aa0(0x57e)),..._0x154ccb,async(_0x39cf13,_0x11a7fb)=>{const _0x45047a=_0x315aa0;let _0x4632eb=await this[_0x45047a(0x46c)]({'request':_0x39cf13,'schema':Oa,'ClassRef':Me,'execute':(_0x5a189a,_0x200022)=>B[_0x45047a(0x57e)](_0x5a189a,_0x200022)});return _0x11a7fb[_0x45047a(0x593)](0xc9)[_0x45047a(0x541)](_0x4632eb);})[_0x315aa0(0x522)](this['routerPath'](_0x315aa0(0x278)),..._0x154ccb,async(_0x28fc7f,_0x21d8c9)=>{const _0x12cb7b=_0x315aa0;let _0x582c35=await this[_0x12cb7b(0x46c)]({'request':_0x28fc7f,'schema':xa,'ClassRef':mt,'execute':(_0x1fc17f,_0x360614)=>B[_0x12cb7b(0x278)](_0x1fc17f,_0x360614)});return _0x21d8c9['status'](0xc9)[_0x12cb7b(0x541)](_0x582c35);})[_0x315aa0(0x522)](this[_0x315aa0(0x307)](_0x315aa0(0x68d)),..._0x154ccb,async(_0x5a4663,_0x38f200)=>{const _0xce9e83=_0x315aa0;let _0xd73f8b=await this[_0xce9e83(0x46c)]({'request':_0x5a4663,'schema':Da,'ClassRef':ft,'execute':(_0x271a28,_0x1bce1c)=>B[_0xce9e83(0x68d)](_0x271a28,_0x1bce1c)});return _0x38f200['status'](0xc9)[_0xce9e83(0x541)](_0xd73f8b);})[_0x315aa0(0x522)](this['routerPath'](_0x315aa0(0x10a)),..._0x154ccb,async(_0x5172ff,_0x433804)=>{const _0x5cdfec=_0x315aa0;let _0x30bb4e=await this[_0x5cdfec(0x46c)]({'request':_0x5172ff,'schema':_a,'ClassRef':wt,'execute':(_0x5bd984,_0x43d3b3)=>B[_0x5cdfec(0x10a)](_0x5bd984,_0x43d3b3)});return _0x433804['status'](0xc9)['json'](_0x30bb4e);})[_0x315aa0(0x522)](this['routerPath']('sendContact'),..._0x154ccb,async(_0x1e2128,_0x3a464f)=>{const _0x212f48=_0x315aa0;let _0x4b1f1c=await this[_0x212f48(0x46c)]({'request':_0x1e2128,'schema':Pa,'ClassRef':yt,'execute':(_0x3bd292,_0x14e90f)=>B[_0x212f48(0x1ac)](_0x3bd292,_0x14e90f)});return _0x3a464f['status'](0xc9)[_0x212f48(0x541)](_0x4b1f1c);})[_0x315aa0(0x522)](this[_0x315aa0(0x307)](_0x315aa0(0x3c1)),..._0x154ccb,async(_0xe9ff8,_0x5cebfc)=>{const _0x8d7079=_0x315aa0;let _0x2ed84f=await this[_0x8d7079(0x46c)]({'request':_0xe9ff8,'schema':$a,'ClassRef':bt,'execute':(_0x4973af,_0x28d376)=>B[_0x8d7079(0x3c1)](_0x4973af,_0x28d376)});return _0x5cebfc[_0x8d7079(0x593)](0xc9)[_0x8d7079(0x541)](_0x2ed84f);})[_0x315aa0(0x522)](this[_0x315aa0(0x307)](_0x315aa0(0x249)),..._0x154ccb,async(_0x480f9e,_0x2179ca)=>{const _0xf94a51=_0x315aa0;let _0x37b9da=await this[_0xf94a51(0x46c)]({'request':_0x480f9e,'schema':Aa,'ClassRef':pt,'execute':(_0x3efe94,_0x5d0a5a)=>B[_0xf94a51(0x249)](_0x3efe94,_0x5d0a5a)});return _0x2179ca['status'](0xc9)[_0xf94a51(0x541)](_0x37b9da);})[_0x315aa0(0x522)](this['routerPath'](_0x315aa0(0x2a1)),..._0x154ccb,async(_0x426cb4,_0x3b1f7f)=>{const _0x32ace4=_0x315aa0;let _0x409092=await this[_0x32ace4(0x46c)]({'request':_0x426cb4,'schema':Ra,'ClassRef':dt,'execute':(_0x1001d0,_0x562a38)=>B[_0x32ace4(0x2a1)](_0x1001d0,_0x562a38)});return _0x3b1f7f[_0x32ace4(0x593)](0xc9)[_0x32ace4(0x541)](_0x409092);})[_0x315aa0(0x522)](this['routerPath'](_0x315aa0(0x761)),..._0x154ccb,async(_0x51838a,_0x26a636)=>{const _0x1856e0=_0x315aa0;let _0x5ea700=await this[_0x1856e0(0x46c)]({'request':_0x51838a,'schema':Na,'ClassRef':gt,'execute':(_0x29deed,_0x1135d6)=>B[_0x1856e0(0x761)](_0x29deed,_0x1135d6)});return _0x26a636[_0x1856e0(0x593)](0xc9)[_0x1856e0(0x541)](_0x5ea700);});}},or=require(a0_0x58753f(0x352)),Et=class{},Mt=class extends U{constructor(..._0x3b3007){const _0x4aeb91=a0_0x58753f;super(),this[_0x4aeb91(0x334)]=(0x0,or[_0x4aeb91(0xd0)])(),this[_0x4aeb91(0x334)]['post'](this['routerPath'](_0x4aeb91(0x2b5)),..._0x3b3007,async(_0x670ffb,_0x7ca949)=>{const _0x30f796=_0x4aeb91;let _0x3641a0=await this[_0x30f796(0x46c)]({'request':_0x670ffb,'schema':tr,'ClassRef':Et,'execute':(_0x266a40,_0x22a459)=>ms[_0x30f796(0x6e6)](_0x266a40,_0x22a459)});_0x7ca949[_0x30f796(0x593)](0xc9)[_0x30f796(0x541)](_0x3641a0);})[_0x4aeb91(0x59e)](this[_0x4aeb91(0x307)](_0x4aeb91(0x53a)),..._0x3b3007,async(_0xfaf8b2,_0x457e52)=>{const _0x518be0=_0x4aeb91;let _0xbe0ea6=await this[_0x518be0(0x46c)]({'request':_0xfaf8b2,'schema':v,'ClassRef':S,'execute':_0x562f12=>ms[_0x518be0(0x1dc)](_0x562f12)});_0x457e52[_0x518be0(0x593)](0xc8)['json'](_0xbe0ea6);});}},nr=require(a0_0x58753f(0x352)),y=new N(a0_0x58753f(0x1f4)),Ct=class extends U{constructor(..._0x284d4d){const _0xab7eb4=a0_0x58753f;super(),this[_0xab7eb4(0x334)]=(0x0,nr[_0xab7eb4(0xd0)])(),this[_0xab7eb4(0x334)][_0xab7eb4(0x522)](this['routerPath']('scheduleMessage'),..._0x284d4d,async(_0x5498d0,_0x23c1b5)=>{const _0x153a72=_0xab7eb4;let _0x289427=_0x5498d0[_0x153a72(0x188)];y['verbose'](_0x153a72(0x2da)),y['verbose'](_0x153a72(0x55e)),y[_0x153a72(0x19c)](_0x5498d0[_0x153a72(0x188)]);let _0x46e343=await this['dataValidate']({'request':_0x5498d0,'schema':v,'ClassRef':S,'execute':_0x294d77=>O[_0x153a72(0x74d)](_0x294d77,_0x289427)});_0x23c1b5['status'](0xc8)['json'](_0x46e343);})[_0xab7eb4(0x59e)](this[_0xab7eb4(0x307)]('scheduleMessage'),..._0x284d4d,async(_0x5e0575,_0x408269)=>{const _0x2b5c57=_0xab7eb4;let _0x586d44=await this[_0x2b5c57(0x46c)]({'request':_0x5e0575,'schema':v,'ClassRef':S,'execute':_0x396ac4=>O[_0x2b5c57(0xd6)](_0x396ac4)});_0x408269[_0x2b5c57(0x593)](0xc8)['json'](_0x586d44);})[_0xab7eb4(0x17c)](this[_0xab7eb4(0x307)](_0xab7eb4(0x510)),..._0x284d4d,async(_0x528135,_0x240567)=>{const _0x11b702=_0xab7eb4;y[_0x11b702(0x19c)](_0x11b702(0x754));let _0x59d29c=await this[_0x11b702(0x46c)]({'request':_0x528135,'schema':v,'ClassRef':S,'execute':_0x2b6e8f=>O['deleteDoneMessages'](_0x2b6e8f)});_0x240567[_0x11b702(0x593)](0xc8)[_0x11b702(0x541)](_0x59d29c);})[_0xab7eb4(0x522)](this[_0xab7eb4(0x307)]('startFlow'),..._0x284d4d,async(_0x599325,_0x3fb62c)=>{const _0x373a31=_0xab7eb4;let _0x264098=_0x599325[_0x373a31(0x188)];y[_0x373a31(0x19c)](_0x373a31(0x10d)),y[_0x373a31(0x19c)](_0x373a31(0x55e)),y['verbose'](_0x599325[_0x373a31(0x188)]);let _0x3a3600=await this[_0x373a31(0x46c)]({'request':_0x599325,'schema':v,'ClassRef':S,'execute':_0x2e06ff=>O[_0x373a31(0x59d)](_0x2e06ff,_0x264098)});_0x3fb62c[_0x373a31(0x593)](0xc8)[_0x373a31(0x541)](_0x3a3600);})[_0xab7eb4(0x59e)](this[_0xab7eb4(0x307)](_0xab7eb4(0x246)),..._0x284d4d,async(_0x1d4333,_0x2fba45)=>{const _0x15e0f5=_0xab7eb4;y[_0x15e0f5(0x19c)](_0x15e0f5(0x18b));let _0x54a8ac=await this['dataValidate']({'request':_0x1d4333,'schema':v,'ClassRef':S,'execute':_0x7570e9=>O[_0x15e0f5(0x246)](_0x7570e9)});_0x2fba45['status'](0xc8)[_0x15e0f5(0x541)](_0x54a8ac);})['get'](this['routerPath']('getTicketSystem'),..._0x284d4d,async(_0x5be0a2,_0x378a80)=>{const _0x536836=_0xab7eb4;y[_0x536836(0x19c)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x21681f=await this[_0x536836(0x46c)]({'request':_0x5be0a2,'schema':v,'ClassRef':S,'execute':_0xde8888=>O['getAutomateSystem'](_0xde8888)});_0x378a80[_0x536836(0x593)](0xc8)[_0x536836(0x541)](_0x21681f);})[_0xab7eb4(0x522)](this[_0xab7eb4(0x307)](_0xab7eb4(0x1e6)),..._0x284d4d,async(_0x38e2c2,_0x13d46f)=>{const _0x395684=_0xab7eb4;let _0x59a038=_0x38e2c2[_0x395684(0x188)];y['verbose'](_0x395684(0x55b)),y[_0x395684(0x19c)](_0x395684(0x55e)),y['verbose'](_0x38e2c2[_0x395684(0x188)]);let _0x497e15=await this[_0x395684(0x46c)]({'request':_0x38e2c2,'schema':v,'ClassRef':S,'execute':_0x5d7fa2=>O[_0x395684(0x1e6)](_0x5d7fa2,_0x59a038)});_0x13d46f[_0x395684(0x593)](0xc8)['json'](_0x497e15);})[_0xab7eb4(0x522)](this[_0xab7eb4(0x307)](_0xab7eb4(0x257)),..._0x284d4d,async(_0x2c7412,_0x1e2183)=>{const _0x5d8eba=_0xab7eb4;let _0x24d297=_0x2c7412[_0x5d8eba(0x188)];y[_0x5d8eba(0x19c)](_0x5d8eba(0x6ad)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x2c7412['body']);let _0x23d8f0=await this[_0x5d8eba(0x46c)]({'request':_0x2c7412,'schema':v,'ClassRef':S,'execute':_0x4e4f82=>O[_0x5d8eba(0x257)](_0x4e4f82,_0x24d297)});_0x1e2183['status'](0xc8)[_0x5d8eba(0x541)](_0x23d8f0);})['post'](this['routerPath'](_0xab7eb4(0x151)),..._0x284d4d,async(_0xce2077,_0x63d949)=>{const _0x3407e3=_0xab7eb4;let _0x1edb85=_0xce2077[_0x3407e3(0x188)];y['verbose'](_0x3407e3(0x427)),y[_0x3407e3(0x19c)](_0x3407e3(0x55e)),y[_0x3407e3(0x19c)](_0xce2077[_0x3407e3(0x188)]);let _0x499478=await this[_0x3407e3(0x46c)]({'request':_0xce2077,'schema':v,'ClassRef':S,'execute':_0x5721fb=>O[_0x3407e3(0x151)](_0x5721fb,_0x1edb85)});_0x63d949['status'](0xc8)[_0x3407e3(0x541)](_0x499478);})['post'](this[_0xab7eb4(0x307)]('getConversation'),..._0x284d4d,async(_0x115878,_0x3e873c)=>{const _0x2beb68=_0xab7eb4;let _0x35ebcf=_0x115878['body'];y['verbose'](_0x2beb68(0x6a4)),y[_0x2beb68(0x19c)](_0x2beb68(0x55e)),y['verbose'](_0x115878[_0x2beb68(0x188)]);let _0xbdf9b3=await this[_0x2beb68(0x46c)]({'request':_0x115878,'schema':v,'ClassRef':S,'execute':_0x419b02=>O[_0x2beb68(0x626)](_0x419b02,_0x35ebcf)});_0x3e873c['status'](0xc8)['json'](_0xbdf9b3);})[_0xab7eb4(0x522)](this['routerPath'](_0xab7eb4(0xed)),..._0x284d4d,async(_0xe9500,_0x2e76bd)=>{const _0x3426c1=_0xab7eb4;let _0x3a571c=_0xe9500[_0x3426c1(0x188)];y[_0x3426c1(0x19c)](_0x3426c1(0x3a3)),y[_0x3426c1(0x19c)](_0x3426c1(0x55e)),y[_0x3426c1(0x19c)](_0xe9500['body']);let _0x593fcb=await this[_0x3426c1(0x46c)]({'request':_0xe9500,'schema':v,'ClassRef':S,'execute':_0x527f89=>O['fetchConversation'](_0x527f89,_0x3a571c)});_0x2e76bd['status'](0xc8)[_0x3426c1(0x541)](_0x593fcb);})['post'](this[_0xab7eb4(0x307)](_0xab7eb4(0x559)),..._0x284d4d,async(_0x397166,_0x11f08b)=>{const _0x20e688=_0xab7eb4;let _0x4fc950=_0x397166[_0x20e688(0x188)];y[_0x20e688(0x19c)](_0x20e688(0x2eb)),y[_0x20e688(0x19c)](_0x20e688(0x55e)),y[_0x20e688(0x19c)](_0x397166['body']);let _0x51da4f=await this['dataValidate']({'request':_0x397166,'schema':v,'ClassRef':S,'execute':_0x49d1aa=>O[_0x20e688(0x559)](_0x49d1aa,_0x4fc950)});_0x11f08b['status'](0xc8)[_0x20e688(0x541)](_0x51da4f);})[_0xab7eb4(0x17c)](this[_0xab7eb4(0x307)](_0xab7eb4(0x5ef)),..._0x284d4d,async(_0x299619,_0x3ba4ef)=>{const _0x4ab5cb=_0xab7eb4;let _0xc34fca=_0x299619[_0x4ab5cb(0x188)];y[_0x4ab5cb(0x19c)](_0x4ab5cb(0x15a)),y['verbose'](_0x4ab5cb(0x55e)),y[_0x4ab5cb(0x19c)](_0x299619[_0x4ab5cb(0x188)]);let _0x4f1fd1=await this[_0x4ab5cb(0x46c)]({'request':_0x299619,'schema':v,'ClassRef':S,'execute':_0x2165ae=>O[_0x4ab5cb(0x5ef)](_0x2165ae,_0xc34fca)});_0x3ba4ef[_0x4ab5cb(0x593)](0xc8)[_0x4ab5cb(0x541)](_0x4f1fd1);})[_0xab7eb4(0x522)](this['routerPath']('createflow'),..._0x284d4d,async(_0x4c23a8,_0xbd1dde)=>{const _0x503c6d=_0xab7eb4;let _0x142809=_0x4c23a8[_0x503c6d(0x188)];y[_0x503c6d(0x19c)]('request\x20received\x20in\x20createFlow'),y[_0x503c6d(0x19c)](_0x503c6d(0x55e)),y[_0x503c6d(0x19c)](_0x4c23a8[_0x503c6d(0x188)]);let _0x2a9df4=await this['dataValidate']({'request':_0x4c23a8,'schema':v,'ClassRef':S,'execute':_0xe38038=>O['createFlow'](_0xe38038,_0x142809)});_0xbd1dde[_0x503c6d(0x593)](0xc8)[_0x503c6d(0x541)](_0x2a9df4);})[_0xab7eb4(0x522)](this[_0xab7eb4(0x307)]('editflow'),..._0x284d4d,async(_0x46e324,_0x5a9671)=>{const _0x393a20=_0xab7eb4;let _0x24287f=_0x46e324[_0x393a20(0x188)];y[_0x393a20(0x19c)](_0x393a20(0x238)),y[_0x393a20(0x19c)](_0x393a20(0x55e)),y[_0x393a20(0x19c)](_0x46e324[_0x393a20(0x188)]),delete _0x24287f[_0x393a20(0x239)],delete _0x24287f[_0x393a20(0x35c)],delete _0x24287f[_0x393a20(0x24a)],delete _0x24287f[_0x393a20(0x13e)];let _0x35fe38=await this[_0x393a20(0x46c)]({'request':_0x46e324,'schema':v,'ClassRef':S,'execute':_0x16744c=>O[_0x393a20(0x751)](_0x16744c,_0x24287f)});_0x5a9671[_0x393a20(0x593)](0xc8)[_0x393a20(0x541)](_0x35fe38);})[_0xab7eb4(0x522)](this[_0xab7eb4(0x307)]('editflowblock'),..._0x284d4d,async(_0x1b68da,_0x4d2647)=>{const _0x554e91=_0xab7eb4;let _0x24fa49=_0x1b68da[_0x554e91(0x188)];y[_0x554e91(0x19c)](_0x554e91(0x238)),y['verbose'](_0x554e91(0x55e)),y['verbose'](_0x1b68da['body']);let _0x1c4518=await this[_0x554e91(0x46c)]({'request':_0x1b68da,'schema':v,'ClassRef':S,'execute':_0x340cca=>O[_0x554e91(0x4f3)](_0x340cca,_0x24fa49)});_0x4d2647[_0x554e91(0x593)](0xc8)[_0x554e91(0x541)](_0x1c4518);})[_0xab7eb4(0x522)](this[_0xab7eb4(0x307)](_0xab7eb4(0x376)),..._0x284d4d,async(_0x56ce5e,_0x1ffc09)=>{const _0x3c6f5d=_0xab7eb4;let _0x22655f=_0x56ce5e['body'];y['verbose'](_0x3c6f5d(0x238)),y['verbose'](_0x3c6f5d(0x55e)),y[_0x3c6f5d(0x19c)](_0x56ce5e[_0x3c6f5d(0x188)]);let _0x422d5b=await this[_0x3c6f5d(0x46c)]({'request':_0x56ce5e,'schema':v,'ClassRef':S,'execute':_0x4b15e4=>O[_0x3c6f5d(0x5b0)](_0x4b15e4,_0x22655f)});_0x1ffc09['status'](0xc8)[_0x3c6f5d(0x541)](_0x422d5b);})[_0xab7eb4(0x522)](this['routerPath']('editflowvaredit'),..._0x284d4d,async(_0x54bef1,_0x42c0ed)=>{const _0x3ef2e1=_0xab7eb4;let _0x3a93b9=_0x54bef1[_0x3ef2e1(0x188)];y[_0x3ef2e1(0x19c)]('request\x20received\x20in\x20editFlow'),y[_0x3ef2e1(0x19c)]('request\x20body:\x20'),y[_0x3ef2e1(0x19c)](_0x54bef1[_0x3ef2e1(0x188)]);let _0x1b9247=await this[_0x3ef2e1(0x46c)]({'request':_0x54bef1,'schema':v,'ClassRef':S,'execute':_0x20f6e6=>O[_0x3ef2e1(0x67f)](_0x20f6e6,_0x3a93b9)});_0x42c0ed[_0x3ef2e1(0x593)](0xc8)['json'](_0x1b9247);})['post'](this[_0xab7eb4(0x307)](_0xab7eb4(0x16e)),..._0x284d4d,async(_0x1a9f2c,_0x3bfd81)=>{const _0x5ad09a=_0xab7eb4;let _0x29a0ea=_0x1a9f2c[_0x5ad09a(0x188)];y[_0x5ad09a(0x19c)](_0x5ad09a(0x377)),y['verbose'](_0x5ad09a(0x55e)),y[_0x5ad09a(0x19c)](_0x1a9f2c[_0x5ad09a(0x188)]);let _0x2c2616=await this[_0x5ad09a(0x46c)]({'request':_0x1a9f2c,'schema':v,'ClassRef':S,'execute':_0x4868af=>O[_0x5ad09a(0x575)](_0x4868af,_0x29a0ea)});_0x3bfd81['status'](0xc8)[_0x5ad09a(0x541)](_0x2c2616);})['post'](this[_0xab7eb4(0x307)](_0xab7eb4(0xe7)),..._0x284d4d,async(_0x106c43,_0x4e28cc)=>{const _0x48399f=_0xab7eb4;let _0x256d3e=_0x106c43[_0x48399f(0x188)];y[_0x48399f(0x19c)](_0x48399f(0x583)),y[_0x48399f(0x19c)](_0x48399f(0x55e)),y[_0x48399f(0x19c)](_0x106c43[_0x48399f(0x188)]);let _0x1112b2=await this[_0x48399f(0x46c)]({'request':_0x106c43,'schema':v,'ClassRef':S,'execute':_0x358b7d=>O[_0x48399f(0x1d4)](_0x358b7d,_0x256d3e)});_0x4e28cc[_0x48399f(0x593)](0xc8)[_0x48399f(0x541)](_0x1112b2);})['post'](this[_0xab7eb4(0x307)](_0xab7eb4(0x31d)),..._0x284d4d,async(_0x35053d,_0x24dec0)=>{const _0x5f2694=_0xab7eb4;let _0x3c88c7=_0x35053d[_0x5f2694(0x188)];y[_0x5f2694(0x19c)](_0x5f2694(0x71a)),y['verbose'](_0x5f2694(0x55e)),y[_0x5f2694(0x19c)](_0x35053d[_0x5f2694(0x188)]);let _0x238fc3=await this[_0x5f2694(0x46c)]({'request':_0x35053d,'schema':v,'ClassRef':S,'execute':_0x25de06=>O[_0x5f2694(0x5c7)](_0x25de06,_0x3c88c7)});_0x24dec0[_0x5f2694(0x593)](0xc8)['json'](_0x238fc3);})[_0xab7eb4(0x522)](this['routerPath'](_0xab7eb4(0x169)),..._0x284d4d,async(_0x307d9a,_0x2db455)=>{const _0x4145fa=_0xab7eb4;let _0x5b3461=_0x307d9a[_0x4145fa(0x188)];y[_0x4145fa(0x19c)](_0x4145fa(0x15e)),y[_0x4145fa(0x19c)](_0x4145fa(0x55e)),y[_0x4145fa(0x19c)](_0x307d9a[_0x4145fa(0x188)]);let _0x1abf5e=await this[_0x4145fa(0x46c)]({'request':_0x307d9a,'schema':v,'ClassRef':S,'execute':_0x52bedc=>O['getFlow'](_0x52bedc,_0x5b3461)});_0x2db455[_0x4145fa(0x593)](0xc8)[_0x4145fa(0x541)](_0x1abf5e);})[_0xab7eb4(0x17c)](this[_0xab7eb4(0x307)](_0xab7eb4(0x1d8)),..._0x284d4d,async(_0xa3192a,_0x4f6bee)=>{const _0x5397da=_0xab7eb4;let _0x599770=_0xa3192a[_0x5397da(0x188)];y[_0x5397da(0x19c)](_0x5397da(0x5b8)),y['verbose'](_0x5397da(0x55e)),y[_0x5397da(0x19c)](_0xa3192a[_0x5397da(0x188)]);let _0x555230=await this[_0x5397da(0x46c)]({'request':_0xa3192a,'schema':v,'ClassRef':S,'execute':_0x4b6734=>O[_0x5397da(0x40e)](_0x4b6734,_0x599770)});_0x4f6bee[_0x5397da(0x593)](0xc8)[_0x5397da(0x541)](_0x555230);})[_0xab7eb4(0x59e)](this['routerPath'](_0xab7eb4(0x423)),..._0x284d4d,async(_0x5ef587,_0x17979a)=>{const _0x5499d2=_0xab7eb4;y[_0x5499d2(0x19c)](_0x5499d2(0x6a3));let _0x4a3a68=await this[_0x5499d2(0x46c)]({'request':_0x5ef587,'schema':v,'ClassRef':S,'execute':_0x5ecb47=>O[_0x5499d2(0x3ba)](_0x5ecb47)});_0x17979a[_0x5499d2(0x593)](0xc8)[_0x5499d2(0x541)](_0x4a3a68);});}},dr=T(require('path')),Y={};function cr(_0x8735d3,_0x26692b,_0x4cfc34,_0x55e1de){Y[_0x8735d3]||(Y[_0x8735d3]={}),Y[_0x8735d3][_0x26692b]={'id':_0x26692b,'response':_0x4cfc34,'events':_0x55e1de};}function lr(_0x47d0a4,_0x814de5){!Y[_0x47d0a4]||!Y[_0x47d0a4][_0x814de5]||delete Y[_0x47d0a4][_0x814de5];}function a0_0x326c(_0x25c6c9,_0x42f929){const _0x48923f=a0_0x4892();return a0_0x326c=function(_0x326c57,_0x13a6fc){_0x326c57=_0x326c57-0xce;let _0x2c6ea1=_0x48923f[_0x326c57];return _0x2c6ea1;},a0_0x326c(_0x25c6c9,_0x42f929);}function q(_0x3cebb9,_0x15ee7c,_0x2a4131){const _0x69ff34=a0_0x58753f;if(!Y[_0x3cebb9])return;let _0x3054e1=_0x69ff34(0x276)+JSON[_0x69ff34(0x212)](_0x2a4131)+'\x0a\x0a';Object[_0x69ff34(0x731)](Y[_0x3cebb9])[_0x69ff34(0x537)](_0x57e770=>{const _0x3a6227=_0x69ff34;_0x57e770[_0x3a6227(0x127)]['includes'](_0x15ee7c)&&_0x57e770[_0x3a6227(0x3db)][_0x3a6227(0x20b)](_0x3054e1);});}function ur(){const _0x54955e=a0_0x58753f;let _0x48675e={};for(let _0x4cc83c in Y)_0x48675e[_0x4cc83c]=Object['values'](Y[_0x4cc83c])['map'](_0x3267db=>({'id':_0x3267db['id'],'events':_0x3267db[_0x54955e(0x127)]}));return _0x48675e;}var pr=require(a0_0x58753f(0x2c1)),ws=require(a0_0x58753f(0x6ff)),fs=class{},li=new ws[(a0_0x58753f(0x573))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x58753f(0x573))]({'_id':{'type':String,'default':a0_0x58753f(0x4e6)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.['model'](fs[a0_0x58753f(0x730)],ui,a0_0x58753f(0x19e)),di=dr[a0_0x58753f(0x36d)][a0_0x58753f(0x4c2)](__dirname,a0_0x58753f(0x1ae)),Nt=(0x0,vt['Router'])(),pi=b['get'](a0_0x58753f(0x285))[a0_0x58753f(0x2cc)],ee=[ya,ba,Ma[pi]];Nt[a0_0x58753f(0x110)](a0_0x58753f(0x51b),vt[a0_0x58753f(0x36d)]['static'](di))[a0_0x58753f(0x59e)]('/events/:instance',async(_0x516964,_0x1757d0)=>{const _0x177abd=a0_0x58753f;console[_0x177abd(0x5c1)](_0x177abd(0x3f8));let _0x6f5204=_0x516964[_0x177abd(0x146)][_0x177abd(0x339)],_0x20d148=(_0x516964[_0x177abd(0x435)][_0x177abd(0x127)]||'')[_0x177abd(0x610)](','),_0x5fd757=(0x0,pr['v4'])();console[_0x177abd(0x5c1)](_0x177abd(0x64e),_0x6f5204),console[_0x177abd(0x5c1)](_0x177abd(0x1d2),_0x20d148);let _0x1cf751=b[_0x177abd(0x59e)](_0x177abd(0x285))[_0x177abd(0x38e)],_0x5e9a03=_0x516964[_0x177abd(0x435)][_0x177abd(0x64d)];if(console[_0x177abd(0x5c1)](_0x177abd(0x155),_0x5e9a03),_0x1cf751[_0x177abd(0x728)]!==_0x5e9a03){console[_0x177abd(0x5c1)](_0x177abd(0x46a));try{let _0x351996=await ue[_0x177abd(0x6be)]['find'](_0x6f5204);if(console['log'](_0x177abd(0x656),_0x351996),!_0x351996||_0x351996[_0x177abd(0x64d)]!==_0x5e9a03)return console[_0x177abd(0x5c1)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x1757d0[_0x177abd(0x593)](0x191)[_0x177abd(0x39c)](_0x177abd(0x450));}catch(_0x413757){return console[_0x177abd(0x47b)](_0x177abd(0x597),_0x413757),_0x1757d0[_0x177abd(0x593)](0x191)[_0x177abd(0x39c)](_0x177abd(0x73d));}}if(!await ze(_0x6f5204))return _0x1757d0[_0x177abd(0x593)](0x194)['send']('Instância\x20não\x20encontrada.');_0x1757d0[_0x177abd(0x526)]('Content-Type',_0x177abd(0x2d9)),_0x1757d0['setHeader'](_0x177abd(0x24f),_0x177abd(0x6b1)),_0x1757d0['setHeader']('Connection',_0x177abd(0x453)),_0x1757d0['flushHeaders']();let _0xa48c8a=_0x177abd(0x276)+JSON[_0x177abd(0x212)]({'info':_0x177abd(0x2d8)})+'\x0a\x0a';_0x1757d0[_0x177abd(0x20b)](_0xa48c8a),cr(_0x6f5204,_0x5fd757,_0x1757d0,_0x20d148),_0x516964['on'](_0x177abd(0x3ca),()=>{const _0x34605a=_0x177abd;console[_0x34605a(0x5c1)](_0x34605a(0x4ac)+_0x6f5204),lr(_0x6f5204,_0x5fd757);});}),Nt[a0_0x58753f(0x59e)](a0_0x58753f(0x424),(_0x2217db,_0x165a6b)=>{const _0x751633=a0_0x58753f;let _0x28c0f8=ur();_0x165a6b[_0x751633(0x541)](_0x28c0f8);})[a0_0x58753f(0x59e)]('/',(_0xfc023e,_0x1f0af8)=>{const _0x6942af=a0_0x58753f;let _0xaaa34c=b[_0x6942af(0x59e)]('SERVER')['URL'];if(_0xaaa34c){let _0x2cd838=encodeURIComponent(''+_0xaaa34c);_0x1f0af8['redirect'](_0x6942af(0x70a)+_0x2cd838);return;}let _0x234824=b['get'](_0x6942af(0x28a)),_0x5d01f0=_0x234824&&_0x234824['FULLCHAIN'][_0x6942af(0x610)]('/')[0x4];if(_0x5d01f0){let _0x5769de=encodeURIComponent(_0x6942af(0x528)+_0x5d01f0);_0x1f0af8[_0x6942af(0x670)](_0x6942af(0x70a)+_0x5769de);}else _0x1f0af8[_0x6942af(0x670)](_0x6942af(0x313));})[a0_0x58753f(0x4f6)]('/exit',...ee,async(_0x3c0de0,_0x3bdfb6)=>{const _0x3b646a=a0_0x58753f;try{console[_0x3b646a(0x5c1)](_0x3b646a(0x750)),_0x3bdfb6[_0x3b646a(0x593)](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x3bdfb6['on'](_0x3b646a(0x599),()=>process[_0x3b646a(0x4e9)](0x0));}catch(_0x46fbed){console[_0x3b646a(0x47b)](_0x3b646a(0x4cb),_0x46fbed),_0x3bdfb6[_0x3b646a(0x593)](0x1f4)['json']({'message':_0x3b646a(0x234)});}})[a0_0x58753f(0x4f6)]('/config',...ee,async(_0x6fdb31,_0x1b58ea)=>{const _0x5051bb=a0_0x58753f;try{let _0x3387b8=_0x6fdb31[_0x5051bb(0x188)];await we[_0x5051bb(0x614)]({},{'$set':_0x3387b8},{'upsert':!0x0});let _0x331e57=await we[_0x5051bb(0x2e1)]();_0x1b58ea[_0x5051bb(0x541)](_0x331e57);}catch(_0xa75f78){_0x1b58ea['status'](0x190)[_0x5051bb(0x39c)](_0xa75f78[_0x5051bb(0x5f5)]);}})[a0_0x58753f(0x59e)]('/config',...ee,async(_0x4ca05f,_0x3ecc5c)=>{const _0x1af70c=a0_0x58753f;try{let _0x4eca1c=await we['findOne']();if(!_0x4eca1c)return _0x3ecc5c[_0x1af70c(0x541)]({});_0x3ecc5c[_0x1af70c(0x541)](_0x4eca1c);}catch(_0x1e698a){_0x3ecc5c[_0x1af70c(0x593)](0x1f4)['send'](_0x1e698a['message']);}})[a0_0x58753f(0x110)]('/instance',new lt(b,...ee)[a0_0x58753f(0x334)])[a0_0x58753f(0x110)]('/message',new St(...ee)[a0_0x58753f(0x334)])[a0_0x58753f(0x110)](a0_0x58753f(0x1af),new Ze(...ee)[a0_0x58753f(0x334)])['use'](a0_0x58753f(0x586),new ct(...ee)[a0_0x58753f(0x334)])[a0_0x58753f(0x110)](a0_0x58753f(0x297),new Mt(...ee)[a0_0x58753f(0x334)])[a0_0x58753f(0x110)](a0_0x58753f(0x1bc),new Ct(...ee)[a0_0x58753f(0x334)]);var w=class{constructor(..._0x4dd2ef){const _0x272605=a0_0x58753f;throw{'status':0x190,'error':_0x272605(0x4c8),'message':_0x4dd2ef[_0x272605(0x676)]>0x0?_0x4dd2ef:void 0x0};}},Z=class{constructor(..._0x5da722){const _0x5b552b=a0_0x58753f;throw{'status':0x191,'error':_0x5b552b(0x4fb),'message':_0x5da722[_0x5b552b(0x676)]>0x0?_0x5da722:void 0x0};}},H=class{constructor(..._0x6f3a46){throw{'status':0x193,'error':'Forbidden','message':_0x6f3a46['length']>0x0?_0x6f3a46:void 0x0};}},k=class{constructor(..._0x2d96ee){const _0x376968=a0_0x58753f;throw{'status':0x194,'error':_0x376968(0x725),'message':_0x2d96ee[_0x376968(0x676)]>0x0?_0x2d96ee:void 0x0};}},I=class{constructor(..._0x3b9f95){const _0x2e5ec8=a0_0x58753f;throw{'status':0x1f4,'error':_0x2e5ec8(0x30e),'message':_0x3b9f95[_0x2e5ec8(0x676)]>0x0?_0x3b9f95:void 0x0};}},de=require(a0_0x58753f(0x6c3));async function ys(_0x14eab6){const _0x59a30f=a0_0x58753f;let _0x51929c=new N(ys['name']),_0x4d5b9c=R['getClient'](),_0x1d676e=_0x4d5b9c['db'](b[_0x59a30f(0x59e)](_0x59a30f(0x1d0))['CONNECTION'][_0x59a30f(0x2a5)]+_0x59a30f(0x6f9))[_0x59a30f(0x619)](_0x14eab6),_0x60481f=async(_0x2b726b,_0xc80778)=>{const _0x1a0f6d=_0x59a30f;try{return await _0x4d5b9c[_0x1a0f6d(0x3c9)](),await _0x1d676e[_0x1a0f6d(0x56d)]({'_id':_0xc80778},JSON[_0x1a0f6d(0x638)](JSON[_0x1a0f6d(0x212)](_0x2b726b,de[_0x1a0f6d(0x4e7)]['replacer'])),{'upsert':!0x0});}catch{}},_0x3e241a=async _0x3dfddb=>{const _0x594dea=_0x59a30f;try{await _0x4d5b9c[_0x594dea(0x3c9)]();let _0x4b326b=await _0x1d676e['findOne']({'_id':_0x3dfddb}),_0x37df5c=JSON[_0x594dea(0x212)](_0x4b326b);return JSON[_0x594dea(0x638)](_0x37df5c,de[_0x594dea(0x4e7)][_0x594dea(0x2ec)]);}catch{}},_0x26f3b7=async _0x35b7fb=>{const _0xc0794f=_0x59a30f;try{return await _0x4d5b9c['connect'](),await _0x1d676e[_0xc0794f(0x414)]({'_id':_0x35b7fb});}catch{}},_0x2ca9ee=await _0x3e241a('creds')||(0x0,de[_0x59a30f(0x437)])();return{'state':{'creds':_0x2ca9ee,'keys':{'get':async(_0x31189c,_0x474b36)=>{const _0x234361=_0x59a30f;let _0x4b7a58={};return await Promise[_0x234361(0x186)](_0x474b36[_0x234361(0x378)](async _0x358e1f=>{const _0x4761ac=_0x234361;let _0x5c2e74=await _0x3e241a(_0x31189c+'-'+_0x358e1f);_0x31189c===_0x4761ac(0x743)&&_0x5c2e74&&(_0x5c2e74=de[_0x4761ac(0x706)]['Message'][_0x4761ac(0x5ec)]['fromObject'](_0x5c2e74)),_0x4b7a58[_0x358e1f]=_0x5c2e74;})),_0x4b7a58;},'set':async _0x3bf498=>{const _0x578830=_0x59a30f;let _0x433d85=[];for(let _0x24867c in _0x3bf498)for(let _0x32097c in _0x3bf498[_0x24867c]){let _0x4d29be=_0x3bf498[_0x24867c][_0x32097c],_0x38478a=_0x24867c+'-'+_0x32097c;_0x433d85['push'](_0x4d29be?_0x60481f(_0x4d29be,_0x38478a):_0x26f3b7(_0x38478a));}await Promise[_0x578830(0x186)](_0x433d85);}}},'saveCreds':async()=>_0x60481f(_0x2ca9ee,_0x59a30f(0x153))};}var Ms=T(require(a0_0x58753f(0x404))),Cs=T(require(a0_0x58753f(0x448))),Ot=require(a0_0x58753f(0x6c3)),hr=require(a0_0x58753f(0x4f0)),Tt=require(a0_0x58753f(0x6c3)),Rt;function hi(_0x65e5a5){const _0x5becd9=a0_0x58753f;return Rt||(Rt=(0x0,hr[_0x5becd9(0x3e4)])({'url':_0x65e5a5[_0x5becd9(0x498)]}),Rt[_0x5becd9(0x3c9)]()),Rt;}var oe=class c{constructor(_0x37a3dd,_0x54e830){const _0x17e304=a0_0x58753f;this['redisEnv']=_0x37a3dd,this['instanceName']=_0x54e830,this[_0x17e304(0x46b)]=new N(c['name']),this[_0x17e304(0x299)]=hi(_0x37a3dd);}set[a0_0x58753f(0x637)](_0x1a2983){const _0xb747ec=a0_0x58753f;this[_0xb747ec(0x479)]=_0x1a2983;}async[a0_0x58753f(0x12a)](){const _0x7be126=a0_0x58753f;try{return await this['client'][_0x7be126(0x1d6)]([_0x7be126(0x14b),this['redisEnv'][_0x7be126(0x22c)]+':*']);}catch(_0x1c1f54){this[_0x7be126(0x46b)]['error'](_0x1c1f54);}}async['writeData'](_0x44f653,_0x2d9e60){const _0x2e0d50=a0_0x58753f;try{let _0x1d07ef=JSON[_0x2e0d50(0x212)](_0x2d9e60,Tt[_0x2e0d50(0x4e7)][_0x2e0d50(0x651)]);return await this[_0x2e0d50(0x299)][_0x2e0d50(0x544)](this[_0x2e0d50(0x37e)]['PREFIX_KEY']+':'+this['instanceName'],_0x44f653,_0x1d07ef);}catch(_0x419987){this[_0x2e0d50(0x46b)][_0x2e0d50(0x47b)](_0x419987);}}async[a0_0x58753f(0x10b)](){const _0x2f4e54=a0_0x58753f;try{let _0x5e38df=await this[_0x2f4e54(0x299)][_0x2f4e54(0x380)](this[_0x2f4e54(0x37e)][_0x2f4e54(0x22c)]+':'+this[_0x2f4e54(0x479)]);if(_0x5e38df){for(let _0x2926bb in _0x5e38df)Object['prototype']['hasOwnProperty'][_0x2f4e54(0x2cf)](_0x5e38df,_0x2926bb)&&(_0x5e38df[_0x2926bb]=JSON['parse'](_0x5e38df[_0x2926bb],Tt['BufferJSON'][_0x2f4e54(0x2ec)]));return _0x5e38df;}}catch(_0x574d09){this[_0x2f4e54(0x46b)][_0x2f4e54(0x47b)](_0x574d09);}}async[a0_0x58753f(0x620)](_0x4af7f8){const _0x571199=a0_0x58753f;try{let _0x4c1e06=await this['client']['hGet'](this[_0x571199(0x37e)][_0x571199(0x22c)]+':'+this[_0x571199(0x479)],_0x4af7f8);if(_0x4c1e06)return JSON[_0x571199(0x638)](_0x4c1e06,Tt['BufferJSON'][_0x571199(0x2ec)]);}catch(_0x59b0c0){this[_0x571199(0x46b)]['error'](_0x59b0c0);}}async[a0_0x58753f(0x389)](_0x2815f2){const _0x55e87e=a0_0x58753f;try{return await this['client'][_0x55e87e(0x5fb)](this[_0x55e87e(0x37e)]['PREFIX_KEY']+':'+this[_0x55e87e(0x479)],_0x2815f2);}catch(_0x5d7844){this[_0x55e87e(0x46b)][_0x55e87e(0x47b)](_0x5d7844);}}async[a0_0x58753f(0x32f)](_0xad197a){const _0x46983b=a0_0x58753f;try{return await this[_0x46983b(0x299)][_0x46983b(0x21e)](_0xad197a||this[_0x46983b(0x37e)][_0x46983b(0x22c)]+':'+this['instanceName']);}catch(_0x4fafbc){this[_0x46983b(0x46b)][_0x46983b(0x47b)](_0x4fafbc);}}};async function bs(_0x2a1d6c,_0x2d8f4e){const _0x88c1ff=a0_0x58753f;let _0x3d8ead=new N(bs[_0x88c1ff(0x730)]),_0x444e10=new oe(_0x2a1d6c,_0x2d8f4e),_0x3604fa=async(_0x65f415,_0x516db8)=>{const _0x56a976=_0x88c1ff;try{return await _0x444e10[_0x56a976(0x27d)](_0x516db8,_0x65f415);}catch(_0x1871ec){return _0x3d8ead[_0x56a976(0x47b)]({'localError':_0x56a976(0x27d),'error':_0x1871ec});}},_0xdcdd83=async _0x131db5=>{const _0x4fd5df=_0x88c1ff;try{return await _0x444e10[_0x4fd5df(0x620)](_0x131db5);}catch(_0x4560bc){_0x3d8ead['error']({'readData':_0x4fd5df(0x27d),'error':_0x4560bc});return;}},_0x3000fd=async _0x26d381=>{const _0x4df034=_0x88c1ff;try{return await _0x444e10[_0x4df034(0x389)](_0x26d381);}catch(_0x37753d){_0x3d8ead[_0x4df034(0x47b)]({'readData':_0x4df034(0x389),'error':_0x37753d});}},_0x8640c1=await _0xdcdd83(_0x88c1ff(0x153))||(0x0,Ot[_0x88c1ff(0x437)])();return{'state':{'creds':_0x8640c1,'keys':{'get':async(_0x5cd975,_0x48dfb1)=>{let _0x4cf0ca={};return await Promise['all'](_0x48dfb1['map'](async _0x20b324=>{const _0x35b399=a0_0x326c;let _0x5182a2=await _0xdcdd83(_0x5cd975+'-'+_0x20b324);_0x5cd975===_0x35b399(0x743)&&_0x5182a2&&(_0x5182a2=Ot['proto'][_0x35b399(0x39f)][_0x35b399(0x5ec)][_0x35b399(0x4ba)](_0x5182a2)),_0x4cf0ca[_0x20b324]=_0x5182a2;})),_0x4cf0ca;},'set':async _0x8344fa=>{const _0x329e5a=_0x88c1ff;let _0x22763c=[];for(let _0x50cc22 in _0x8344fa)for(let _0x530d3c in _0x8344fa[_0x50cc22]){let _0x413429=_0x8344fa[_0x50cc22][_0x530d3c],_0x1edfc9=_0x50cc22+'-'+_0x530d3c;_0x22763c[_0x329e5a(0x174)](_0x413429?await _0x3604fa(_0x413429,_0x1edfc9):await _0x3000fd(_0x1edfc9));}await Promise[_0x329e5a(0x186)](_0x22763c);}}},'saveCreds':async()=>await _0x3604fa(_0x8640c1,'creds')};}var L=T(require('fs')),Ce=require('uuid'),Dt=T(require(a0_0x58753f(0x27f))),_t=require(a0_0x58753f(0x264)),gi=a0_0x58753f(0x48d)[a0_0x58753f(0x24c)](),At=gi['split']('\x0a')[a0_0x58753f(0x378)](_0x1158e8=>{const _0x13fbf9=a0_0x58753f;let _0x312eda=_0x1158e8[_0x13fbf9(0x610)](':'),_0x1430b6={'host':_0x312eda[0x0],'port':_0x312eda[0x1],'protocol':'http'};return _0x312eda[_0x13fbf9(0x676)]===0x4&&(_0x1430b6[_0x13fbf9(0x1fe)]=_0x312eda[0x2],_0x1430b6[_0x13fbf9(0x119)]=_0x312eda[0x3]),_0x1430b6;});function gr(_0x270a9d){const _0x533806=a0_0x58753f;return At['find'](_0x3d6953=>_0x3d6953[_0x533806(0x61f)]===_0x270a9d)||null;}function a0_0x4892(){const _0x25bce7=['remoteJids','DELIVERY_ACK','SUCCESS','metadata','min','\x22\x20-\x20REMOVED','addresss','No\x20invite\x20code','10480048XClIxk','hex','dbClient','editFlowReply',':\x20IP\x20funcionando!','subdomain','DATABASE_CONNECTION_DB_PREFIX_NAME','\x20horas\x20e\x20','height','findIndex','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','request\x20received\x20in\x20deleteFlow','Image\x20is\x20base64','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','lastBlockId','@newsletter','StatusJidList\x20is\x20required','licenca','array','log','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','ERROR','https://github.com/uazapi/uazapi.git','toUpperCase','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','editFlowVariable','announce','Converted\x20image\x20deleted','.TEL;waid=','.png','Error\x20in\x20chatModify\x20for\x20number\x20','Not\x20allowed\x20by\x20CORS','throwAndLogError','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','):\x20Buscando\x20todos\x20os\x20fluxos...','creds.update','leadInfo.customFields','#01d0e2','Erro\x20ao\x20atualizar\x20AutomateSystem:','URL:','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','fetchMessages','updateBlock','Not\x20is\x20business\x20profile','_p_','STORE_MESSAGE','Rótulo\x20deletado:','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','createAndSave','mongodb://','dbSettings','connection.update','#83e421','next_groupId','jsonschema','getTime','archive','parseInt','fetchLabels','isURL','listen','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','AppStateSyncKeyData','PRODUCT_LIST','):\x20newFirstValue\x20após\x20replaceVariables:','deleteConversation','Mensagem\x20não\x20suportada','lastSend','flowConfig','/wa-chats','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','message','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','lowerCase','markMessageAsRead','Temp\x20image\x20deleted','Audio\x20processed','hDel','vote','bulkWrite','\x20}\x0a','subjectTime','):\x20Enviando\x20texto','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','birthtime','presenceSubscribe','sendMedia','stdout','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','Erro\x20ao\x20editar\x20o\x20chat:\x20','Bloco\x20com\x20ID\x20','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','replaceVariablesInReplyOptions','redis','groupUpdateDescription','):\x20Flow\x20desativado','):\x20Conversas\x20encontradas:','create','split','warn','recording','toNumber','updateOne','insertMany','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','loadproxy','ListType','collection','string','audioWhatsapp','connectionClosed','labelId','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','host','readData','insert','getPrototypeOf','toString','/:instanceName','instancias:\x20','getConversation','not_announcement','repository','variable','Valor\x20inicial:\x20\x22',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','Erro\x20de\x20atualização:\x20','flowname:\x20',',\x20Resultado:\x20','getContactModelForOwner','greater','Image\x20created','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','apply','ex:\x20\x22groupJid=120362@g.us\x22','Primeiro\x20Valor:\x20','641045VmEWDI','reference','parse','realVariables','ReplyOption\x20com\x20ID\x20','formatVCard','padStart','sendAudio','updateGroupPicture','):\x20alterando\x20this.AutomateSystem','\x20não\x20encontrado\x20para\x20atualização.','setContext','#b4ebff','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Comando\x20desconhecido:\x20','webp','):\x20Edit\x20schedule\x20message...','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Flow\x20não\x20encontrado','SECRET','testProxy','Error\x20occurred\x20while\x20archiving\x20chat:\x20','context','apikey','Instance\x20ID:','getVariablesChat','GUARD','replacer','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','updateOneById','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Instance\x20Key\x20from\x20DB:','envYaml','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','generateHash','subject','BRL','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','getStatus','):\x20[messages.upsert]\x20group\x20ignored','generateWAMessageFromContent','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','chatModify','Type\x20defined\x20as\x20audio','notEmpty','getLabelModelForOwner','customFields','):\x20Current\x20Time:\x20','findAndReplace','The\x20global\x20api\x20key\x20must\x20be\x20set','\x20instance\x20does\x20not\x20exist','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','notContains','getBusinessProfile','#d8e651','setRestartTimeout','SERVER_OFFLINE','redirect','460rgfyqz','\x20->\x20NÃO\x20CORRESPONDE.','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','DOCKER_ENV','FlowController','length','and','\x20-\x20retornado:\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','contact_blacklist','trimmed','notas','rm\x20-rf\x20','deleteMessageForEveryone','editFlowVaredit','\x0aFN:','noConnection','image','createRegularFlow','Chat\x20com\x20ID\x20','copyBlock','\x5c$&','toBRL','cleanStore','\x1b[44m','\x0a{\x20instance:\x20','padEnd','readreceipts','sendLocation','HttpsProxyAgent','):\x20Conversa\x20atualizada\x20em\x20memória','Revoke\x20error','):\x20teve\x20mudanças\x20chat.name:\x20','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','groupDesc','pre','deleteMany','defineProperty','/create','imagechat','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','round','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','SINGLE_SELECT','replyOptions','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','integer','delayChatLabel','GROUP_PARTICIPANTS_UPDATE','groups.upsert','request\x20received\x20in\x20allFlows','request\x20received\x20in\x20getConversation','Erro\x20ao\x20buscar\x20conversas:\x20','\x20minutos.\x20Será\x20às\x20','updateProfilePicture','):\x20Enviando\x20enquete','http://checkip.dyndns.org','REDIS_PREFIX_KEY','wuid','\x1b[1m\x1b[37m','request\x20received\x20in\x20updateCustomFields','configService','footerText','title','no-cache','flowName','dbServer','Read\x20messages','label_jid','open','checkAndRestartProcess','statusJidList','groupCreate','messageType','\x20e\x20ID=','last_update','eventHandler','auth','TEXT','max','STORE_CLEANING_TERMINAL','/wa-presence','@whiskeysockets/baileys',',\x20Expiration\x20Time:\x20','ScheduleMessage','less','scheduleSendText','MESSAGES_SET','block','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','\x1b[43m','#00a1f2','some','deleteMessage','Error\x20updating\x20message\x20status:','selectedOptions','createGroup','rowId','desc','moreLogs','logout','qrcode','dayjs','http','/wa-message-update','lastmsg','Certbot\x20executado\x20com\x20sucesso.','pt-BR','):\x20Buscando\x20conversa...','The\x20','variablesNotFound','\x20de\x20conectar\x20com\x20IP\x20extra.','digest','synchronizeFlows','ButtonsMessage','messageHandle','DATABASE_CONNECTION_HOST','createWebhook','fullName',',\x20lastCondition:\x20','blockId','):\x20não\x20encontrou','SEND_MESSAGE','existsSync','.svg','}}\x20->\x20\x22','messageTimestamp','urlencoded','E-mail:\x20','connectToWhatsappController','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','conversationTimestamp','etiquetas','scheduleMessages','groups_ignore','https://api.ipify.org?format=json','-instances','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','success','unlocked','getFlowModelForOwner','mongoose','count','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','deleteInstance','fetchStatus','--agree-tos','endSession','proto','createConversationforgoToFlow','WARN','video-cover.png','https://uazapi-plugin.bubbleapps.io/?url=','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20transformedCustomFieldVariables','uazapiSendAudio','fetchProfilePicture','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','mentioned','SERVER_TYPE','importChatsBatch','deletedCount','.\x20Aguardando\x20antes\x20de\x20reconectar...','lean','deleteAll','user','.wav','request\x20received\x20in\x20editFlowvariable','newStoppedUntil','CONTACTS_UPSERT','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','oldToken','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','ultimaTentativaRemoteJid','MessageModel','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Not\x20Found','Número:\x20','contentText','KEY','\x1b[30m','createJid','Tentando\x20reconectar...','profilePictureUrl','Falta\x20informação\x20para\x20a\x20chamada\x20API','scheduled','getContentType','name','values','Erro:','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','-whatsapp-api','Erro\x20ao\x20atualizar\x20conversa:\x20','contacts.upsert','stopIfLastReturnedError','changeVariables','jsonwebtoken','WA\x20MODULE','label','CORS_CREDENTIALS','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','archived','env','Fluxos\x20não\x20estão\x20ativados','restart','errorLog','app-state-sync-key','ip:\x20','Getting\x20profile\x20info','demote','\x1b[36m%s\x1b[0m','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','headerString','Read\x20messages\x20fail','processPollUpdateMessage','chats.delete','editScheduleMessage','certbot','formatStatusMessage','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','editFlow','CONNECTION','Erro\x20inesperado\x20em\x20processvaredits:\x20','request\x20received\x20in\x20deleteDoneMessages','substring','profilePicture','messages.set','protocolMessage','object','webhookService','video','newValue','reorderReplyOptions','group-participants.update','Esse\x20fluxo\x20expirou','automateSystem','sendSticker','interval\x20não\x20é\x20um\x20número','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','CORS_METHODS','pollOnReplyDelete','InstancesAlterarTodas','groupName','pollMessage','drop','):\x20teve\x20mudanças\x20chat.archived:\x20','Router','limit','groupValidate','updateMissingEtiquetas','hasOwnProperty','Parando\x20aplicação,\x20atualização\x20recebida','getScheduleMessage','static','Missing\x20global\x20api\x20key','notMatchRegex','messages.upsert','setWebhook','revokeInviteCode','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','CONNECTION_UPDATE','validate','emit','spawn','\x5cd+','paused','envProcess','conversation','sha256','editflowcondition','lastReceivedMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','getMessageModelForOwner','#9ba6ff','extractRegex','fetchConversation','AutomateFunctions','Erro\x20ao\x20editar\x20agentes:\x20','/instance/delete','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','error_log','fone','.jwt','Data\x20inválida\x20fornecida','WebhookGlobal','.webp','_Chats','):\x20Enviando\x20mídia','optionName','eventemitter2','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','):\x20Bloco\x20copiado:\x20','storePath','14654230Xsvzdj','stopWhenYouSendMsg','ReplyOptions\x20finais\x20após\x20reordenação:','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','#56ccb4','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','SERVER','FULLCHAIN','dbInstance','reconnectTimestamps','addReplyOption','sendList','getAllData','buttonText','request\x20received\x20in\x20starFlow','RemoveChatLabel','):\x20Conversa\x20está\x20expirada\x20-\x20voto','use','findConversation','MESSAGES_UPDATE','Button\x20IDs\x20cannot\x20be\x20repeated.','findParticipants','flattenObject','convert','labels.edit','\x0aitem','password','sendMenu','views','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','pollCreationMessageV3','OrAnd','application/json','class-validator','exports','getHours','):\x20Erro\x20ao\x20buscar\x20conversas\x20','findMessages','findChats','events','getLastMessage','Processing\x20audio','instanceKeys','LabelModel','authorization','reconnectAttempts','header','updateChatWithMessage','.uazapi.dev','option','buffer','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','repeat','caption','online','Flow\x20iniciado\x20com\x20','fileLength','removeProfilePicture','statSync','\x1b[30m%s\x1b[0m','mkdirSync','verifiedName','conditions','Erro\x20ao\x20adicionar\x20label\x20','ms\x20(Attempt\x20','getConversationModelForOwner','unreadCount','isJWT','participants','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','params','closed','ERROR:\x20','shareOwners','):\x20Buscando\x20conversas...','keys','isListOfNumbers','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','ConversationModel','):\x20Flow\x20não\x20encontrado','groupFetchAllParticipating','updateFlowConfig','cpf','creds','Group\x20not\x20found','API\x20Key\x20from\x20Request:','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','mediaMessage','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','request\x20received\x20in\x20deleteConversation','statusCode','ignoreGroups','\x20contacts','request\x20received\x20in\x20getFlow','audio/mp4','findAll','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','contactMessage','fetchContacts','#64c4ff','copy','enviado\x20para','delayChatLabel_MAX_RETRIES','processConditionsTest','getflow','prefixCommand','CHATS_UPDATE','uazapiDeleteMessage','\x1b[37m%s\x1b[0m','editflowgroup','load','):\x20Conversa\x20inserida\x20com\x20sucesso.','Error\x20in\x20converting\x20audio','folder','from','push','toLocaleString','sem\x20texto\x20na\x20mensagem','lastCondition','urlOrBase64','statusMessage','action','_ScheduleMessages','delete','privacySettings',':\x20Tentativa\x20','createServer','findAndReplaceRegex','chat','/wa-contacts','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','composing','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','all','env.yml','body','listType','flowStopMinutes','request\x20received\x20in\x20getAutomateSystem','displayName','CORS','groupadd','collections','\x22reaction\x22\x20must\x20be\x20an\x20emoji','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Editando\x20bloco...','):\x20Editando\x20edição\x20do\x20fluxo...','save','updateMissingShareOwners','Safari\x20(MacOS)','leaveGroup','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','menuMessage','chats.update','verbose','The\x20instance\x20needs\x20to\x20be\x20disconnected','All_Instances_Config','File\x20written\x20to\x20path:\x20','errors','createSharedFlow','sticker','mongodb','_Flows','toggleEphemeral','checkAndUpdateChatStatus','\x20tentativas:\x20remotejid=','documentMessage','2800170BltyVW','chats.upsert','localWebhook','sendContact','getDevice','downloads','/chat','poll','authService','contactHandle','minutesToClose','unavailable','flowConversation','LOG_LEVEL','updateConversation','sendMessageWithTyping','#d3a91f','AUTHENTICATION_API_KEY','$dbName','/automate','no.connection','arrayUnique','):\x20Fluxos\x20não\x20estão\x20ativados','removed','replaceValue','makeCacheableSignalKeyStore','Type\x20is\x20required','assign','NO_IP','media','CHATS_DELETE','Error\x20updating\x20profile\x20status','findGroupInfo','audio','Error\x20change\x20group\x20setting','http://ip-api.com/json','uazapiSendContact',',\x20resultado:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','DATABASE','done','Subscribed\x20Events:','loadInstance','editFlowCondition','exists','sendCommand','Sending\x20audio\x20whatsapp','deleteflow','REDIS_ENABLED','Deleted\x20','includes','findWebhook','Parando\x20aplicação...','nome','createConversationforStartFlow','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','console','eventEmitter','fileName','Logger','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','updateAgent','SERVER_PORT','getMinutes','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','evaluateConditionTest','authModel','#dfaef0','findOrCreate','viewOnceMessageV2','LOG_COLOR','\x20minutos','pollCreationMessage','processblock','GROUPS_UPDATE','FlowRouter','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','CONTACTS_SET','loadEnv','truncatedtoEnd','/wa-connection-update','not\x20loaded','fetchBusinessProfile','editChat','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','username','EXPIRIN_IN','userDevicesCache','exec','QRCODE_UPDATED','connectionState','LOG','):\x20Conversa\x20está\x20expirada','has','readFileSync','lastInteraction','CLEANING_INTERVAL','applyvaredit','write','/*.json','convertToWebP','getMessage','findById','goNextblock','unreadcount','stringify','$set','when','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','_Contacts','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','floor','created','sign','\x1b[34m','webhook','GROUPS_UPSERT','del','Início','<subdomain>','sharePass','Types','8080','ORG:','groupHandler','leadInfo.','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','stderr','axios','Variável\x20não\x20encontrada!','lastDisconnect','PREFIX_KEY','Last\x20message\x20not\x20found','\x20-\x20ON:\x20','SERVER_URL','RECONNECT_TIME_FRAME','groupAcceptInvite','insertCount','locationMessage','Erro\x20ao\x20encerrar\x20a\x20API','inner','Erro\x20ao\x20importar\x20chats:','saveVariable','request\x20received\x20in\x20editFlow','blocks','videoMessage','ListMessage','Erro\x20ao\x20deletar\x20mensagens:','connectionStatus','):\x20Visualizando\x20AutomateSystem','Unable\x20to\x20leave\x20the\x20group','Fetching\x20business\x20profile','nextBlock:','#9ab6c1','HeaderType','\x1b[32m','expression','getAutomateSystem','processApiRequest','\x20inseridos\x20no\x20banco\x20de\x20dados...','sendPoll','groups','apiResponse','trim','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','9017050sRwWTC','Cache-Control','):\x20Iniciando\x20bot...','Business\x20profile\x20fetched','size','removeInstance','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','groupMetadata','remoteJidsRemaining','updateCustomFields','stickerMessage','updateMissingCustomFields','\x1b[34m%s\x1b[0m','removeChatLabel','PRESENCE_UPDATE','READ','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','https://chat.whatsapp.com/','Error\x20in\x20markMessageAsRead:','vcard','toDataURL','isBase64','https-proxy-agent','processing_id','InstancesAsDisconnectedX','MAX_RECONNECT_ATTEMPTS','DARK','fetchInstances','boolean','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','replaceVariablesInObject','upperCase','Atualização:\x20','waUploadToServer','secondValue','):\x20leadInfoVariables','scheduleNextCheck','node-mime-types','selectableCount','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','data:\x20','temp-','sendButtons','isLong','?timestamp=','backgroundColor','flush','writeData','readMessage','sharp','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','equal','bodyString','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','fileUrl','AUTHENTICATION','segundos','mediaKey','updateReplyOption','_Labels','SSL_CONF','$pull','Hash\x20to\x20image\x20name:\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','flowPrefixCommand','replaceVariablesLogs','Rótulo\x20atualizado:','color','stopMinutes','isArray','addBlock','messages.update','leadInfo.desativadoFluxoAte','/webhook','findContacts','client','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Instance\x20\x22','$addToSet','Label\x20','data','_id','https','sendStatus','true','options','contacts','DB_PREFIX_NAME','fetchLatestBaileysVersion',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','connectedName','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','_Messages','groupParticipantsUpdate','menuIgnoreNonVotes','importChats','useMultiFileAuthState','__esModule','Erro\x20ao\x20copiar\x20dados:','):\x20Editando\x20variável\x20do\x20fluxo...',',\x20Comparador:\x20','AutomateSystem','unhandledRejection','set','addChatLabel','CONECTADO\x20À\x20UAZAPI','mediatype','):\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','pushName','uuid','):\x20[messages.update]\x20group\x20ignored','\x0a*Você\x20respondeu*:\x0a','document','content-type','/exit','address','deleteBlock','convertedOptions','senderKeyDistributionMessage','Erro\x20ao\x20deletar\x20chat:','TYPE','updateParticipant','27pAcRAt','call','remove','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','nomecompleto','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','deleteReplyOption','connecting','USER','utf-8','Conexão\x20estabelecida','text/event-stream','request\x20received\x20in\x20scheduleMessage','updateMessage','process','removeOlderDisconnectedInstances','uazapi','random','uazapiSendMenu','findOne','):\x20Erro\x20ao\x20editar\x20agentes:\x20','output','groupSettingUpdate','^\x5cd+[\x5c.@\x5cw-]+','):\x20enviado\x20para\x20[','enabled','utf8','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','http://ifconfig.me/ip','request\x20received\x20in\x20editConversation','reviver','value','menuType','https://api.openai.com/v1/images/generations','waMonitor','_error','uazapiSendMedia','9687SUKqAq','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','@g.us','updateProfileStatus','getDelay','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','status.instance','uncaughtException','isJidGroup','createNewConversation','waitingMenu_text','Failed\x20to\x20find\x20chat\x20','font','Erro\x20ao\x20sincronizar\x20fluxos:\x20','DD/MM\x20HH:mm:ss','toLowerCase','delayChatLabel_RETRY_DELAY_MS','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','routerPath','createSectionsFromValues','connectionUpdate','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Close\x20connection','Internal\x20Server\x20Error','Log\x20out\x20instance:\x20','updateStopChat','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','https://uazapi-plugin.bubbleapps.io/','agents','activatedCount','importChatsAntigo','#f64847','HOST','Error\x20removing\x20profile\x20picture','Erro\x20ao\x20atualizar\x20o\x20fluxo:','/config','EMAIL','editflowvariable','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','findLabels','COLOR','pino','Authentication\x20error','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','model','):\x20Going\x20to\x20','copyDataToNewModel','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','participant','./.git/config','audioMessage','number','sections','delAll','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','DEBUG','authentication','\x1b[40m','router','headers','mimetype','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','restartInstance','instance','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','formatBRNumber','sendText','linkPreview','getFlow','/instance/create','contains','truncatedto','notEqual','https://ipinfo.io/json','imported','chats.set','Erro\x20do\x20Certbot:\x20',',\x20qrcodeCount:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Operador:\x20\x22','isRunning','authState','Cannot\x20','viewOnceMessage','\x20quoted:\x20','PROXY','toFile','createHash','express','buttons','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','variablesToObject','\x20não\x20encontrado\x20para\x20cópia','):\x20Criando\x20fluxo\x20compartilhado...','uazapiSendText','):\x20conversation.lastInteraction:\x20','http://ipecho.net/plain','variables','Error\x20updating\x20participants','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','lastSendMessage','updateStatusPrivacy',',\x20Segundo\x20Valor:\x20','URL','\x1b[42m','chatLog','firstValue','/wa-message','):\x20Usando\x20extensão\x20padrão:\x20','listResponseMessage','Audio\x20converted\x20and\x20stored\x20in\x20cache','instanceCount','findFlow','replace','default','test','editOperator','gifPlayback','notify','loggedOut','arraybuffer','message_normalized','requestPairingCode','editflowreply','request\x20received\x20in\x20editFlowgroup','map','isBusiness','waInstances','updateMissingLabels','Telefone:\x20','decryptPollVote','redisEnv','getChatModelForOwner','hGetAll','\x1b[1m','profile','allContacts','msgRetryCounterCache','fetchChats','pollCreationMessageV2','/instance/fetchInstances','toArray','removeData','originalUrl','valid','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','\x20-i\x20','API_KEY','port','18RDctPb','email','uazapiSendLocation','modifiedCount',',\x20valor\x20passado:\x20\x22','textMessage','The\x20\x22','.webm','\x20com\x20sucesso.','binary','Erro\x20ao\x20aplicar\x20varedit:\x20','replyOption','send','labels.association','whatsappNumbers','Message','defineAuthState','fromMe','fetchProfile','request\x20received\x20in\x20fetchConversation','messagesSend','ContactModel','extractMessageContent','processConditions','):\x20Limpando\x20delayMessage','^\x5cd+','.pdf','\x20not\x20found,\x20retrying\x20in\x20','groupLeave','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','normalizeMessage','Desconectado,\x20parando\x20execução.','http://myexternalip.com/raw','mediaSticker','SendScheduleMessage','NextBlock','readMessageBot','):\x20Dados\x20migrados\x20com\x20sucesso','presence.update','/wa-groups','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','allFlows','processUazapi','waitingMenu_replyOptions','replaceVariables','REDIS_URI','):\x20atualização\x20chat:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','sendReaction','numbers','cors','50mb','):\x20this.processing_id:\x20','@ffmpeg-installer/ffmpeg','/instance/connectionState','add','connect','close','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20',':\x20IP\x20configurado:\x20','info','\x20after\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','saveChatVariables','remote\x20\x22origin\x22','reactionMessage','#ff9484','Notifying\x20clients\x20for\x20chat:\x20','END:VCARD','condition','DisconnectReason','expiration','chatHandle','currency','response','writeFileSync','\x1b[36m','Error\x20change\x20group\x20name','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Error\x20updating\x20privacy\x20settings','updateMany','processgoToFlow','Selecione','createClient','Erro\x20ao\x20buscar\x20conversa:\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20delete\x20=\x20true','updateProfileName','g.us','quoted','start','createFlow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','setNewValue','flowActive','slice','Erro\x20ao\x20iniciar\x20fluxo:\x20','stopped','messageContextInfo','cache','promote','AddChatLabel','maxActives','bateu\x20events','timeout','):\x20Ler\x20mensagem','protocol','buttonId','organization','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','CONTACTS_UPDATE','Error\x20updating\x20profile\x20name','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','fetchProfile2','Validate','long','messaging-history.set','width','badSession','unknown\x20operation\x20type\x20[','reorderBlocks','app','where','entries','command','deleteFlow','editedMessage','@broadcast','Valor\x20de\x20find\x20ou\x20replace\x20ausente','creds.json','endsWith','deleteOne','ON\x20-\x20dbName:\x20','connectToWhatsapp','lastMessage','groupSetting','shift','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','ObjectId','\x20-y','DaysToDelete','menuExpiredMessage','remoteJid','setting','upsertChats','isConnected','allflows','/clients-info','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','archiveChat','request\x20received\x20in\x20updateFlowConfig','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):\x20Criando\x20nova\x20conversa[createNewConversation]','locked','responsavelid','deleted','INFO','reaction','sort','This\x20name\x20','sleep','getBase64FromMediaMessage','/media/','stateConnection','query','Error\x20update\x20group\x20picture','initAuthCreds','debug','none','order','groupUpdateSubject','--standalone','findGroup','.docx',']\x20(','charAt','Erro\x20ao\x20remover\x20label\x20','HH:mm:ss','contactname','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','list','.ogg','now','node-cache','FlowModel','dark','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','\x1b[33m\x1b[1m','flowStopConversation','):\x20Campos\x20a\x20serem\x20atualizados:',',\x20valor\x20a\x20encontrar:\x20\x22','API\x20Key\x20inválida.','creation','\x20adicionado\x20ao\x20chat\x20','keep-alive','getClient','pollMessageOnDelete','contactsArrayMessage','CORS_ORIGIN','LEVEL','stoppedUntil','startsWith','cwd','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','URL\x20limpa:\x20','.txt','Nenhum\x20chat\x20encontrado\x20para\x20editar.','compression','path','.doc','tags','g-t','sendMessage','listMessage','):\x20Mensagem\x20já\x20enviada\x20para\x20','Message\x20not\x20found','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','env.KEY\x20!==\x20key','logger','dataValidate','@s.whatsapp.net','Instância:\x20','convertaudio','):\x20Entrou\x20na\x20função\x20stop','saveConversationToDatabase','pollCreationMessageKey','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','mentions','Instance\x20logged\x20out','express-async-errors','\x20removido\x20do\x20chat\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','instanceName','Error\x20fetching\x20and\x20updating\x20profile:\x20','error','Image\x20path:\x20','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','capitalizedWords','Getting\x20profile\x20with\x20jid:\x20','\x22\x20not\x20found','including\x20timestamp\x20in\x20url:\x20','everyOne','\x1b[0m','js-yaml','updateLastSeenPrivacy',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','sendDataWebhook',',\x20saindo.','\x20foi\x20interrompido\x20pelo\x20usuário.','CONFIGURAÇÃO\x20GERAL:','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','):\x20Enviando\x20áudio','delay','\x20segundos','stanzaId','varedit','blockLogs','replaceVariablesChat','):\x20customFieldVariables','Database\x20is\x20not\x20enabled','PORT','URI','last','):\x20tem\x20blocks','updatePrivacySettings','\x20chats\x20de\x20','saveTextReply','getScheduleMessageModelForOwner','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','chats','readFile','STORE_CHATS','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','messages','indexOf','):\x20Query\x20params:','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','owner','phoneNumber','latitude','chatId','Connection\x20closed\x20for\x20instance:\x20','REDIS','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Contacts\x20not\x20found','flowIgnoreGroups','method','cleaningUp','isJidUser','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','#ffae04','role','_FlowHistorico','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','updateGParticipate','fromObject','type','website','local_map','encoding','*\x0a\x0a','hbs','state','join','scheduleSendMedia','pop','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','augusto.fcs@gmail.com','):\x20updateResult:','Bad\x20Request','.\x20Pulando.','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','\x20não\x20encontrado','update','!stop','application/octet-stream','qrcode-terminal','sectionsToString','enumerable','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','ChatModel','resetReconnectionVariables','\x20attempts.','unlinkSync','groupJid','MESSAGES_UPSERT','instance.','\x20\x1b[0m','Trying\x20to\x20get\x20business\x20profile','PRIVKEY','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','updateReadReceiptsPrivacy','Invalid\x20format','EMAIL:','SERVER_ACK','description','/wa-qrcode','available','config','BufferJSON','sendPresenceUpdate','exit','updateAll','prepareWAMessageMedia','updateProfilePicturePrivacy','child_process','METHODS','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','@redis/client','):\x20lastBlockId:\x20',',\x20fará\x20nova\x20verificação\x20em\x20','editFlowBlock','text','splice','put','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','\x20mensagens\x20de\x20','readMessages','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','Unauthorized','PASSWORD','delayMessage','DATABASE_CONNECTION_PASSWORD','whatsappNumber','contact','pollUpdateMessage','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','contacts.update','VERBOSE','):\x20Falha\x20ao\x20deletar\x20mensagem.','findGroups','ephemeralExpiration','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','longitude','waitingForReplyMenu','closeExistingConversations','findByIdAndDelete','ENABLED','deleteDoneMessages','CHATS_SET','bearer','.xls','\x22\x20-\x20NOT\x20CONNECTION','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','messageId','DATABASE_ENABLED','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','isInteger','.mp4','/media','sending','Error\x20updating\x20profile\x20picture','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Comando\x20desconhecido','Erro\x20ao\x20inserir\x20chats:','StartBot','post','status@broadcast','updateMissingTags','rows','setHeader','choices','https://','normalizeMessageContent','The\x20property\x20cannot\x20be\x20empty','release','):\x20Buscando\x20flow...','findByIdAndUpdate','334598HBsCxS','format','\x1b[33m%s\x1b[0m','.xlsx','STATUS_INSTANCE','createConnection','url','contextInfo','../env.yml','forEach','Button\x20texts\x20cannot\x20be\x20repeated','joinGroup','find','updatePresence','documentWithCaptionMessage','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','base64','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Output\x20path:\x20','json','SSL_CONF_PRIVKEY','match','hSet','stopConversation','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','findOneAndUpdate','CHATS_UPSERT','Image\x20converted\x20to\x20WebP','https://api.openai.com/v1/audio/speech','key','Conversa\x20deletada\x20com\x20sucesso.','stopMinutesMaxActives','pairingCode','content','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20conversation.waitingMenu_name','AUTHENTICATION_JWT_SECRET','code','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','deleteChat','namespace','error\x20get\x20vote','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','editConversation','groupInviteCode','request\x20received\x20in\x20updateAgent','groups.update','updateGParticipant','request\x20body:\x20','desativadoFluxoAte','Imagem\x20não\x20encontrada','scheduleSendAudio','waitingMenu_id','detail','webhookModel','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','qrCode','PENDING','evaluateCondition','filter','leadInfo','Image\x20is\x20url','replaceOne','Db\x20Connection','inviteCode','presence','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','Schema','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','editFlowGroup','ScheduleMessageModel','prepareMediaMessage','):\x20Bloco\x20com\x20ID\x20','qrcode.updated','jid','groupId','flow','atendimentoAberto','sendWhatsAppAudio','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','instanceInfo','):\x20debug\x20alterando\x20this.AutomateSystem','/instance/connect','request\x20received\x20in\x20editFlowcondition','remove.instance','ChatRouter','/group','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','saveMediaToFile','):\x20expirationTime:\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Instance\x20restarted','Profile\x20not\x20found','loadWebhook','downloadMediaMessage','out','optionDescription','varedits','apirequest','status','):\x20Limpando\x20AutomateSystem','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','fetchPrivacySettings','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','scheduleMessage','finish','group','buttonMessage','getRandomText','startFlow','get','processvaredits','leadInfo.etiquetas','Erro\x20de\x20reinicialização:\x20','Module\x20-\x20ON','redis://127.0.0.1:6379','):\x20Error\x20processing\x20the\x20block:\x20'];a0_0x4892=function(){return _0x25bce7;};return a0_0x4892();}function mr(){const _0x36bbc8=a0_0x58753f;if(At[_0x36bbc8(0x676)]===0x0)return null;let _0x21665b=Math[_0x36bbc8(0x218)](Math[_0x36bbc8(0x2df)]()*At[_0x36bbc8(0x676)]);return At[_0x21665b];}function Ss(_0x57eebd){const _0x139393=a0_0x58753f;let _0xb53e4f=_0x587c86=>typeof _0x587c86=='string'&&_0x587c86[_0x139393(0x676)]>0x0,_0x4190b2=_0x2b81ea=>{let _0x31d361=parseInt(_0x2b81ea,0xa);return!isNaN(_0x31d361)&&_0x31d361>0x0&&_0x31d361<=0xffff;},_0x4108d8=_0x20cb16=>typeof _0x20cb16==_0x139393(0x61a)&&_0x20cb16[_0x139393(0x676)]>0x0;return _0x57eebd&&_0xb53e4f(_0x57eebd[_0x139393(0x61f)])&&_0x4190b2(_0x57eebd[_0x139393(0x38f)])&&(!_0x57eebd[_0x139393(0x1fe)]||_0x4108d8(_0x57eebd[_0x139393(0x1fe)]))&&(!_0x57eebd[_0x139393(0x119)]||_0x4108d8(_0x57eebd[_0x139393(0x119)]))&&(_0x57eebd[_0x139393(0x3fb)]==='http'||_0x57eebd[_0x139393(0x3fb)]===_0x139393(0x2a0));}var vs=require('crypto'),Mr=a0_0x58753f(0x197),Ns,ne=null,fr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x374e12=a0_0x58753f;let _0x53abc1=await we[_0x374e12(0x2e1)]();ne=_0x53abc1?.[_0x374e12(0xf6)]??null,fi=_0x53abc1?.[_0x374e12(0x41d)]??null,Mr=_0x53abc1?.['connectedClient']??'Chrome',Ns=_0x53abc1?.[_0x374e12(0x2a8)]??Rs??_0x374e12(0x2de),console[_0x374e12(0x5c1)](_0x374e12(0x48c)),console[_0x374e12(0x5c1)](_0x53abc1);}async function yi(){await wi();}yi();var wr={},te={},ye=class c{constructor(_0x341ab5,_0x2371f8,_0x416d38){const _0x269402=a0_0x58753f;this[_0x269402(0x6ae)]=_0x341ab5,this['eventEmitter']=_0x2371f8,this[_0x269402(0x628)]=_0x416d38,this[_0x269402(0x2b3)]=null,this['logger']=new N(c[_0x269402(0x730)]),this[_0x269402(0x339)]={},this[_0x269402(0x1ab)]={},this[_0x269402(0x434)]={'state':_0x269402(0x3ca)},this[_0x269402(0xfe)]=(0x0,j[_0x269402(0x4c2)])(re,_0x269402(0x1ae)),this[_0x269402(0x384)]=new Cs['default'](),this[_0x269402(0x200)]=new Cs['default'](),this[_0x269402(0x705)]=!0x1,this['webhookMap']={'status.instance':_0x269402(0x1f9),'qrcode.updated':_0x269402(0x4e4),'messages.upsert':_0x269402(0x366),'messages.update':_0x269402(0x6d9),'send.message':_0x269402(0x366),'group.upsert':_0x269402(0x3b7),'group.update':'/wa-groups','group-participants.update':_0x269402(0x3b7),'connection.update':_0x269402(0x1f9),'messages.set':_0x269402(0x366),'contacts.set':'/wa-contacts','contacts.upsert':_0x269402(0x182),'contacts.update':'/wa-contacts','presence.update':_0x269402(0x6c2),'chats.set':_0x269402(0x5f3),'chats.update':_0x269402(0x5f3),'chats.upsert':_0x269402(0x5f3),'chats.delete':_0x269402(0x5f3)},this[_0x269402(0x12d)]=0x0,this[_0x269402(0x108)]=[],this[_0x269402(0x267)]=0xa,this[_0x269402(0x230)]=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x498132,_0x20d86c)=>{const _0x309fb0=_0x269402;let _0x17afba=[];for await(let _0xc267c3 of _0x498132)_0x17afba[_0x309fb0(0x174)]({'_id':_0xc267c3['id'],'owner':this['instance'][_0x309fb0(0x6ab)],'group':_0xc267c3['id'][_0x309fb0(0x413)](_0x309fb0(0x2f5)),'name':_0xc267c3[_0x309fb0(0x730)]||_0xc267c3[_0x309fb0(0x18c)]||null,'contactname':null,'lastmsg':_0xc267c3[_0x309fb0(0x6f4)]&&_0xc267c3[_0x309fb0(0x6f4)][_0x309fb0(0x623)]()['length']<0xd?_0xc267c3[_0x309fb0(0x6f4)]*0x3e8:_0xc267c3['conversationTimestamp']||null,'archived':_0xc267c3[_0x309fb0(0x73e)]||!0x1,'unreadcount':_0xc267c3[_0x309fb0(0x142)]||0x0});this[_0x309fb0(0x489)](_0x309fb0(0x1aa),_0x17afba);},'chats.update':async(_0x1a85b2,_0x14e8e3)=>{const _0x7734ca=_0x269402;for(let _0xf4aad6 of _0x1a85b2){let _0x198cbc={'_id':_0xf4aad6['id'],'owner':this['instance']['wuid'],'group':_0xf4aad6['id'][_0x7734ca(0x413)](_0x7734ca(0x2f5)),'name':_0xf4aad6[_0x7734ca(0x730)]||_0xf4aad6[_0x7734ca(0x18c)],'archived':_0xf4aad6['archived'],'ephemeralExpiration':_0xf4aad6[_0x7734ca(0x507)]},_0x1fb19d=!0x1,_0x46db65={};_0x198cbc[_0x7734ca(0x73e)]!=null&&(this[_0x7734ca(0x46b)]['verbose'](this[_0x7734ca(0x479)]+'\x20('+this[_0x7734ca(0x339)][_0x7734ca(0x6ab)]+_0x7734ca(0xcf)+_0xf4aad6['archived']),_0x1fb19d=!0x0,_0x46db65['archived']=_0xf4aad6['archived']),_0xf4aad6[_0x7734ca(0x730)]!=null&&(this[_0x7734ca(0x46b)][_0x7734ca(0x19c)](this['instanceName']+'\x20('+this[_0x7734ca(0x339)][_0x7734ca(0x6ab)]+_0x7734ca(0x691)+_0xf4aad6[_0x7734ca(0x730)]),_0x1fb19d=!0x0,_0x46db65[_0x7734ca(0x730)]=_0xf4aad6[_0x7734ca(0x730)]),_0xf4aad6['displayName']!=null&&(this[_0x7734ca(0x46b)][_0x7734ca(0x19c)](this[_0x7734ca(0x479)]+'\x20('+this[_0x7734ca(0x339)][_0x7734ca(0x6ab)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0xf4aad6[_0x7734ca(0x18c)]),_0x1fb19d=!0x0,_0x46db65[_0x7734ca(0x730)]=_0xf4aad6[_0x7734ca(0x18c)]);let _0x537671;_0x1fb19d&&(_0x537671=await this['repository'][_0x7734ca(0x181)][_0x7734ca(0x614)]({'where':{'_id':_0xf4aad6['id']}},_0x46db65,this[_0x7734ca(0x339)][_0x7734ca(0x6ab)])),_0x537671&&q(this['instanceName'],_0x7734ca(0x4a0),{'chat':_0x537671});}},'chats.delete':async _0x3ecb4a=>{const _0xd94eac=_0x269402;this[_0xd94eac(0x489)](_0xd94eac(0x74c),[..._0x3ecb4a]);}},this[_0x269402(0x1b2)]={'contacts.upsert':async(_0x13bdc5,_0x1a862a)=>{const _0x46c1dd=_0x269402;let _0x32f77c=await this[_0x46c1dd(0x628)][_0x46c1dd(0x500)][_0x46c1dd(0x53a)]({'where':{}},this[_0x46c1dd(0x339)][_0x46c1dd(0x6ab)]),_0xcc2d18=[];for await(let _0x91c1ff of _0x13bdc5)_0x32f77c[_0x46c1dd(0x53a)](_0x528ace=>_0x528ace[_0x46c1dd(0x29f)]===_0x91c1ff['id'])||_0xcc2d18[_0x46c1dd(0x174)]({'_id':_0x91c1ff['id'],'pushName':_0x91c1ff?.[_0x46c1dd(0x730)]||_0x91c1ff?.['verifiedName'],'owner':this[_0x46c1dd(0x339)][_0x46c1dd(0x6ab)]});this[_0x46c1dd(0x489)]('contacts.upsert',_0xcc2d18),await this[_0x46c1dd(0x628)][_0x46c1dd(0x500)]['insert'](_0xcc2d18);},'contacts.update':async(_0x1496c7,_0x2b3dc9)=>{const _0x5b3a8b=_0x269402;let _0x2646ee=[];for await(let _0x3bada5 of _0x1496c7)_0x2646ee['push']({'_id':_0x3bada5['id'],'pushName':_0x3bada5?.[_0x5b3a8b(0x730)]??_0x3bada5?.[_0x5b3a8b(0x13d)],'owner':this['instance']['wuid']});this[_0x5b3a8b(0x489)]('contacts.update',_0x2646ee);}},this[_0x269402(0x6e4)]={'messaging-history.set':async({messages:_0x4d8e22,chats:_0x295c25,isLatest:_0x59f01f},_0x24923b)=>{const _0x16dc0e=_0x269402;if(_0x59f01f){let _0x2d1989=await Promise[_0x16dc0e(0x186)](_0x295c25[_0x16dc0e(0x378)](async _0x4d8716=>({'_id':_0x4d8716['id'],'owner':this[_0x16dc0e(0x339)][_0x16dc0e(0x6ab)],'group':_0x4d8716['id']['endsWith']('@g.us'),'name':_0x4d8716[_0x16dc0e(0x730)]||_0x4d8716['displayName']||null,'contactname':null,'lastmsg':_0x4d8716['conversationTimestamp']&&_0x4d8716['conversationTimestamp'][_0x16dc0e(0x623)]()[_0x16dc0e(0x676)]<0xd?_0x4d8716[_0x16dc0e(0x6f4)]*0x3e8:_0x4d8716[_0x16dc0e(0x6f4)]||null,'archived':_0x4d8716[_0x16dc0e(0x73e)]||!0x1,'unreadcount':_0x4d8716[_0x16dc0e(0x142)]||0x0})));this[_0x16dc0e(0x489)](_0x16dc0e(0x345),_0x2d1989),await this['upsertChats'](_0x2d1989,_0x24923b);}let _0x3c131d=[],_0x55d622=Date[_0x16dc0e(0x447)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1bc887]of Object[_0x16dc0e(0x40c)](_0x4d8e22)){if(_0x1bc887['message']?.[_0x16dc0e(0x758)]||_0x1bc887['message']?.[_0x16dc0e(0x2ca)]||!_0x1bc887['message']||_0x1bc887[_0x16dc0e(0x54b)]['remoteJid']===_0x16dc0e(0x523)||(Ms[_0x16dc0e(0x36d)][_0x16dc0e(0x279)](_0x1bc887?.[_0x16dc0e(0x6ef)])&&(_0x1bc887[_0x16dc0e(0x6ef)]=_0x1bc887[_0x16dc0e(0x6ef)]?.[_0x16dc0e(0x613)]()),_0x1bc887[_0x16dc0e(0x6ef)]&&_0x1bc887[_0x16dc0e(0x6ef)][_0x16dc0e(0x623)]()[_0x16dc0e(0x676)]<0xd&&(_0x1bc887['messageTimestamp']=_0x1bc887[_0x16dc0e(0x6ef)]*0x3e8),_0x1bc887[_0x16dc0e(0x6ef)]<_0x55d622))continue;let _0x191109=(0x0,g[_0x16dc0e(0x529)])(_0x1bc887[_0x16dc0e(0x5f5)]),_0x18653d=(0x0,g[_0x16dc0e(0x72f)])(_0x191109),{message_normalized:_0x22dfc1}=this['normalizeMessage'](_0x191109,_0x18653d,null);Object[_0x16dc0e(0x14b)](_0x22dfc1)[_0x16dc0e(0x676)]>0x0&&_0x3c131d['push']({'_id':_0x1bc887[_0x16dc0e(0x54b)]['id'],'key':_0x1bc887['key'],'pushName':_0x1bc887[_0x16dc0e(0x2c0)],'participant':_0x1bc887[_0x16dc0e(0x32a)],'message':_0x191109,'messageType':_0x18653d,'message_normalized':{'key':_0x1bc887[_0x16dc0e(0x54b)],'pushName':_0x1bc887[_0x16dc0e(0x2c0)],'messageTimestamp':_0x1bc887[_0x16dc0e(0x6ef)],..._0x22dfc1},'messageTimestamp':_0x1bc887[_0x16dc0e(0x6ef)],'owner':this['instance'][_0x16dc0e(0x6ab)]});}_0x24923b[_0x16dc0e(0x50f)]&&_0x3c131d[_0x16dc0e(0x676)]>0x0&&(this[_0x16dc0e(0x46b)][_0x16dc0e(0x19c)](this[_0x16dc0e(0x479)]+'\x20('+this[_0x16dc0e(0x339)][_0x16dc0e(0x6ab)]+_0x16dc0e(0x2b9)+_0x3c131d[_0x16dc0e(0x676)]+_0x16dc0e(0x4f8)+this[_0x16dc0e(0x339)][_0x16dc0e(0x6ab)]+_0x16dc0e(0x643)),await this[_0x16dc0e(0x628)][_0x16dc0e(0x5f5)][_0x16dc0e(0x621)]([..._0x3c131d],this['instance'][_0x16dc0e(0x6ab)])),this['sendDataWebhook'](_0x16dc0e(0x757),[..._0x3c131d]),_0x4d8e22=void 0x0;},'messages.upsert':async({messages:_0x2cff87,type:_0x5e208a},_0x2388ce)=>{const _0x42322d=_0x269402;let _0xabad69=_0x2cff87[0x0],_0xc05fba=_0xabad69[_0x42322d(0x54b)]['id'],_0x1831bb=_0xabad69['messageStubType']===0x2,_0x2ae201=0x6;if(this[_0x42322d(0x1ab)]?.['groups_ignore']&&_0xabad69['key'][_0x42322d(0x41f)][_0x42322d(0x1db)]('@g.us')){this[_0x42322d(0x46b)][_0x42322d(0x19c)](this[_0x42322d(0x479)]+'\x20('+this[_0x42322d(0x339)][_0x42322d(0x6ab)]+_0x42322d(0x65e));return;}if(_0x1831bb){if(te[_0xc05fba]||(te[_0xc05fba]=0x0),te[_0xc05fba]++,this['logger'][_0x42322d(0x47b)](this[_0x42322d(0x479)]+'\x20('+this[_0x42322d(0x339)][_0x42322d(0x6ab)]+_0x42322d(0x24d)+_0xabad69['key'][_0x42322d(0x41f)]+_0x42322d(0x6bb)+_0xc05fba+':\x20'+te[_0xc05fba]+'/'+_0x2ae201),te[_0xc05fba]>=_0x2ae201){this[_0x42322d(0x46b)][_0x42322d(0x47b)](this[_0x42322d(0x479)]+'\x20('+this[_0x42322d(0x339)][_0x42322d(0x6ab)]+_0x42322d(0x4a7)+_0xabad69[_0x42322d(0x54b)][_0x42322d(0x41f)]+_0x42322d(0x6bb)+_0xc05fba+'.');let _0x162ddd={'key':{..._0xabad69[_0x42322d(0x54b)]},'message':{'conversation':_0x42322d(0x733)+_0xc05fba+_0x42322d(0x254)}};_0xabad69[_0x42322d(0x54b)][_0x42322d(0x41f)][_0x42322d(0x1db)](_0x42322d(0x46d))&&this[_0x42322d(0x299)]['ev'][_0x42322d(0xe0)](_0x42322d(0xda),{'messages':[_0x162ddd],'type':_0x42322d(0x371)}),delete te[_0xc05fba];}}else te[_0xc05fba]&&(this[_0x42322d(0x46b)][_0x42322d(0x611)](_0x42322d(0x145)+te[_0xc05fba]+_0x42322d(0x1a7)+_0xabad69[_0x42322d(0x54b)]['remoteJid']+_0x42322d(0x6bb)+_0xc05fba),delete te[_0xc05fba]);if(_0x5e208a!==_0x42322d(0x371)||!_0xabad69?.['message']||_0xabad69[_0x42322d(0x5f5)]?.[_0x42322d(0x758)]||_0xabad69[_0x42322d(0x5f5)][_0x42322d(0x2ca)]||_0xabad69['key'][_0x42322d(0x41f)]===_0x42322d(0x523))return;let _0x25b173=null,_0x3ff437=null;try{_0x25b173=await this[_0x42322d(0x74b)](_0xabad69),_0x3ff437=_0x25b173?_0x25b173[_0x42322d(0x4c2)](','):null;}catch(_0x1c7314){this['logger'][_0x42322d(0x19c)](this[_0x42322d(0x479)]+'\x20('+this[_0x42322d(0x339)]['wuid']+_0x42322d(0x2b9)+(_0x1c7314 instanceof Error?_0x1c7314['message']:JSON['stringify'](_0x1c7314,null,0x2))),_0x3ff437=_0x42322d(0x557);}this[_0x42322d(0x299)]['sendPresenceUpdate']('unavailable'),Ms[_0x42322d(0x36d)][_0x42322d(0x279)](_0xabad69[_0x42322d(0x6ef)])&&(_0xabad69['messageTimestamp']=_0xabad69[_0x42322d(0x6ef)]?.['toNumber']()),_0xabad69['messageTimestamp']&&_0xabad69[_0x42322d(0x6ef)][_0x42322d(0x623)]()[_0x42322d(0x676)]<0xd&&(_0xabad69[_0x42322d(0x6ef)]=_0xabad69[_0x42322d(0x6ef)]*0x3e8);let _0x5ca593=_0xabad69[_0x42322d(0x5f5)],_0x1c2f40=(0x0,g[_0x42322d(0x529)])(_0x5ca593),_0x19e598=(0x0,g[_0x42322d(0x72f)])(_0x1c2f40),{messageContent:_0x238e69,message_normalized:_0x2f455a}=this[_0x42322d(0x3ae)](_0x1c2f40,_0x19e598,_0x3ff437);_0x19e598===_0x42322d(0x758)&&_0x238e69?.[_0x42322d(0x40f)]&&(_0x19e598=_0x42322d(0x40f));let _0xc4abad={'_id':_0xabad69['key']['id'],'key':_0xabad69['key'],'pushName':_0xabad69[_0x42322d(0x2c0)],'message':_0x1c2f40,'messageType':_0x19e598,'message_normalized':{'key':_0xabad69[_0x42322d(0x54b)],'pushName':_0xabad69[_0x42322d(0x2c0)],'messageTimestamp':_0xabad69['messageTimestamp'],'source':(0x0,g[_0x42322d(0x1ad)])(_0xabad69[_0x42322d(0x54b)]['id']),..._0x2f455a},'messageTimestamp':_0xabad69[_0x42322d(0x6ef)],'owner':this[_0x42322d(0x339)][_0x42322d(0x6ab)],'source':(0x0,g[_0x42322d(0x1ad)])(_0xabad69[_0x42322d(0x54b)]['id'])};_0x238e69||(console[_0x42322d(0x47b)](_0x42322d(0x5f0)),this['logger'][_0x42322d(0x47b)](_0xc4abad)),this[_0x42322d(0x46b)][_0x42322d(0x5c1)](this[_0x42322d(0x479)]+'\x20('+this[_0x42322d(0x339)]['wuid']+_0x42322d(0x2b9)+(_0xc4abad['key']?.[_0x42322d(0x3a1)]?_0x42322d(0x166):'recebido\x20de')+'\x20['+_0xc4abad[_0x42322d(0x54b)]?.[_0x42322d(0x41f)]['replace'](_0x42322d(0x46d),'')+_0x42322d(0x43f)+_0xc4abad[_0x42322d(0x6ba)]+')'),_0xc4abad[_0x42322d(0x374)]?.[_0x42322d(0x4f4)]&&this[_0x42322d(0x46b)][_0x42322d(0x5c1)](_0xc05fba+':\x20'+_0xc4abad['message_normalized']?.[_0x42322d(0x4f4)]),await this['repository'][_0x42322d(0x5f5)]['insert']([_0xc4abad],this[_0x42322d(0x339)]['wuid']),this[_0x42322d(0x489)](_0x42322d(0xda),_0xc4abad),q(this[_0x42322d(0x479)],_0x42322d(0x4a4),{'message':_0xc4abad}),_0xabad69[_0x42322d(0x54b)]['remoteJid']!==_0x42322d(0x523)&&await this[_0x42322d(0x12f)](_0x2388ce,_0xc4abad,_0x42322d(0x4d9));},'messages.update':async(_0x274f27,_0x56caac)=>{const _0xdbe0f1=_0x269402;let _0x2803f6={0x0:_0xdbe0f1(0x5c3),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0xdbe0f1(0x5a6),0x4:_0xdbe0f1(0x25d),0x5:'PLAYED'};for await(let {key:_0x5d4548,update:_0x4cfe1d}of _0x274f27){if(this[_0xdbe0f1(0x1ab)]?.[_0xdbe0f1(0x6f7)]&&_0x5d4548[_0xdbe0f1(0x41f)][_0xdbe0f1(0x1db)](_0xdbe0f1(0x2f5))){this[_0xdbe0f1(0x46b)][_0xdbe0f1(0x19c)](this['instanceName']+'\x20('+this[_0xdbe0f1(0x339)][_0xdbe0f1(0x6ab)]+_0xdbe0f1(0x2c2));return;}if(_0x5d4548[_0xdbe0f1(0x41f)]!==_0xdbe0f1(0x523)){let _0x7ffd75=Date['now'](),_0x5ab5a8;_0x4cfe1d[_0xdbe0f1(0x5f5)]===null&&_0x4cfe1d[_0xdbe0f1(0x593)]===void 0x0?_0x5ab5a8='DELETED':_0x5ab5a8=_0x2803f6[_0x4cfe1d['status']];let _0x3f4d13=_0x5d4548[_0xdbe0f1(0x41f)]['replace'](/:\d{1,2}@/g,'@'),_0x5affa5={..._0x5d4548,'remoteJid':_0x3f4d13,'status':_0x5ab5a8,'datetime':_0x7ffd75,'owner':this[_0xdbe0f1(0x339)]['wuid']};this[_0xdbe0f1(0x489)]('messages.update',_0x5affa5),await this[_0xdbe0f1(0x2db)](_0x5d4548,_0x5affa5);}}},'labels.association':async({type:_0x5f5abe,association:_0x2381ab})=>{const _0x44da54=_0x269402;if(_0x2381ab['type']===_0x44da54(0x6b5)){let _0x3ca87d,_0x24d4c9=0x0;for(;!_0x3ca87d&&_0x24d4c9<this[_0x44da54(0x167)];)_0x3ca87d=await this['repository']['chat'][_0x44da54(0x2e1)]({'where':{'_id':_0x2381ab[_0x44da54(0x4ab)]}},this[_0x44da54(0x339)][_0x44da54(0x6ab)]),_0x3ca87d||(_0x24d4c9++,console[_0x44da54(0x5c1)]('Chat\x20'+_0x2381ab[_0x44da54(0x4ab)]+_0x44da54(0x3ab)+this[_0x44da54(0x303)]+_0x44da54(0x140)+_0x24d4c9+'/'+this[_0x44da54(0x167)]+')'),await this['delayChatLabel'](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x3ca87d){console[_0x44da54(0x47b)](_0x44da54(0x2fe)+_0x2381ab[_0x44da54(0x4ab)]+_0x44da54(0x3ce)+this[_0x44da54(0x167)]+_0x44da54(0x4d6));return;}switch(_0x5f5abe){case _0x44da54(0x3c8):console[_0x44da54(0x5c1)](_0x2381ab),await this[_0x44da54(0x628)][_0x44da54(0x181)]['updateOne']({'where':{'_id':_0x2381ab[_0x44da54(0x4ab)]}},{'leadInfo.etiquetas':_0x2381ab[_0x44da54(0x61d)]},this['instance'][_0x44da54(0x6ab)],void 0x0,_0x44da54(0x29c));break;case'remove':console[_0x44da54(0x5c1)](_0x2381ab),await this[_0x44da54(0x628)][_0x44da54(0x181)][_0x44da54(0x614)]({'where':{'_id':_0x2381ab['chatId']}},{'leadInfo.etiquetas':_0x2381ab[_0x44da54(0x61d)]},this[_0x44da54(0x339)][_0x44da54(0x6ab)],void 0x0,_0x44da54(0x28b));break;default:console[_0x44da54(0x47b)](_0x44da54(0x408)+_0x5f5abe+']');}}},'labels.edit':async _0x40b0ff=>{const _0x299081=_0x269402;if(!_0x40b0ff||!_0x40b0ff['id']){console[_0x299081(0x47b)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x40b0ff[_0x299081(0x42c)]){let _0x268fc9=[_0x299081(0x3d3),_0x299081(0x164),'#fed428',_0x299081(0x1ec),_0x299081(0x242),_0x299081(0x103),'#fe9dfe',_0x299081(0x1b9),'#6f7bcf',_0x299081(0x66d),_0x299081(0x5d3),'#ffc5c7','#92ceac',_0x299081(0x317),_0x299081(0x6cc),_0x299081(0x5e2),_0x299081(0x4b5),_0x299081(0x642),_0x299081(0xeb),'#9568cf'],_0xc8aa49;typeof _0x40b0ff[_0x299081(0x291)]=='number'&&_0x40b0ff['color']>=0x0&&_0x40b0ff[_0x299081(0x291)]<_0x268fc9['length']?_0xc8aa49=_0x268fc9[_0x40b0ff[_0x299081(0x291)]]:(console['error']('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x40b0ff[_0x299081(0x291)]),_0xc8aa49='#000000');let _0x5175c0={'_id':_0x40b0ff['id'],'colorHex':_0xc8aa49,'color':_0x40b0ff?.[_0x299081(0x291)],'name':_0x40b0ff?.['name'],'owner':this[_0x299081(0x339)][_0x299081(0x6ab)]};await this[_0x299081(0x628)][_0x299081(0x73b)][_0x299081(0x614)]({'where':{'_id':_0x40b0ff['id']}},_0x5175c0,this[_0x299081(0x339)][_0x299081(0x6ab)]),console['log'](_0x299081(0x290),_0x40b0ff);}_0x40b0ff['deleted']&&(await this[_0x299081(0x628)][_0x299081(0x73b)][_0x299081(0x17c)]({'where':{'_id':_0x40b0ff['id']}},this[_0x299081(0x339)][_0x299081(0x6ab)]),console['log'](_0x299081(0x5dc),_0x40b0ff['id']));}},this[_0x269402(0x225)]={'groups.upsert':_0x3f15c2=>{this['sendDataWebhook']('groups.upsert',_0x3f15c2);},'groups.update':_0x1c106a=>{const _0x41665f=_0x269402;this[_0x41665f(0x489)](_0x41665f(0x55c),_0x1c106a);},'group-participants.update':_0x9b323=>{const _0x3d540c=_0x269402;this[_0x3d540c(0x489)](_0x3d540c(0x75e),_0x9b323);}},this[_0x269402(0x167)]=0x5,this[_0x269402(0x303)]=0x1388,this[_0x269402(0x74b)]=async _0x4332e2=>{const _0x4a5aae=_0x269402;if(_0x4332e2[_0x4a5aae(0x5f5)]?.['pollUpdateMessage']){let _0x2ba12b=await this[_0x4a5aae(0x20e)](_0x4332e2[_0x4a5aae(0x5f5)][_0x4a5aae(0x501)][_0x4a5aae(0x472)],!0x0);if(_0x2ba12b){let _0xa4db90=_0x2ba12b[_0x4a5aae(0x54b)][_0x4a5aae(0x3a1)]?this['instance'][_0x4a5aae(0x6ab)]+_0x4a5aae(0x46d):_0x2ba12b[_0x4a5aae(0x54b)][_0x4a5aae(0x32a)]||_0x2ba12b[_0x4a5aae(0x54b)][_0x4a5aae(0x41f)],_0x74b9de=_0x2ba12b[_0x4a5aae(0x54b)]['id'],_0x5a31f8=_0x2ba12b[_0x4a5aae(0x5f5)],_0x258d22=Buffer[_0x4a5aae(0x173)](_0x5a31f8[_0x4a5aae(0x3f3)]['messageSecret'][_0x4a5aae(0x623)](_0x4a5aae(0x5ae)),_0x4a5aae(0x5ae)),_0x454386=(0x0,g[_0x4a5aae(0x37d)])(_0x4332e2[_0x4a5aae(0x5f5)][_0x4a5aae(0x501)]['vote'],{'pollCreatorJid':_0xa4db90,'pollMsgId':_0x74b9de,'pollEncKey':_0x258d22,'voterJid':_0x4332e2[_0x4a5aae(0x54b)][_0x4a5aae(0x3a1)]?this[_0x4a5aae(0x339)][_0x4a5aae(0x6ab)]+'@s.whatsapp.net':_0x4332e2[_0x4a5aae(0x54b)]['remoteJid'][_0x4a5aae(0x413)](_0x4a5aae(0x3e9))?_0x4332e2[_0x4a5aae(0x54b)]['participant']:_0x4332e2['key'][_0x4a5aae(0x41f)]}),_0x40c165=[],_0x1266fd=_0x454386[_0x4a5aae(0x6d0)][_0x4a5aae(0x378)](_0xd4340d=>Buffer[_0x4a5aae(0x173)](_0xd4340d)[_0x4a5aae(0x623)](_0x4a5aae(0x5ae)));for(let {optionName:_0x14caef}of _0x5a31f8[_0x4a5aae(0x1f1)]?.[_0x4a5aae(0x2a3)]||_0x5a31f8['pollCreationMessageV3']?.[_0x4a5aae(0x2a3)]||_0x5a31f8[_0x4a5aae(0x386)]?.[_0x4a5aae(0x2a3)])_0x1266fd['indexOf']((0x0,g[_0x4a5aae(0xe6)])(Buffer[_0x4a5aae(0x173)](_0x14caef))['toString'](_0x4a5aae(0x5ae)))>-0x1&&_0x40c165[_0x4a5aae(0x174)](_0x14caef);return _0x40c165;}}return null;},this[_0x269402(0x3ae)]=(_0x31ef3e,_0x2f887a,_0x541e75)=>{const _0x27270d=_0x269402;try{let _0x2b3948=_0x31ef3e?(0x0,g[_0x27270d(0x3a6)])(_0x31ef3e)[_0x2f887a]:void 0x0,_0x5c957a={},_0x2b1c64=null,_0x292d13=null,_0x5ac78f=null;_0x2f887a===_0x27270d(0x758)&&_0x2b3948?.[_0x27270d(0x40f)]&&(_0x2f887a=(0x0,g['getContentType'])(_0x2b3948[_0x27270d(0x40f)]),_0x2b1c64=_0x31ef3e[_0x27270d(0x758)]['key']['id'],_0x2b3948=_0x31ef3e[_0x27270d(0x758)][_0x27270d(0x40f)][_0x2f887a]),_0x31ef3e[_0x2f887a]?.['contextInfo']?.['stanzaId']&&_0x31ef3e[_0x2f887a]?.[_0x27270d(0x535)]?.['quotedMessage']&&(_0x292d13=_0x31ef3e[_0x2f887a]['contextInfo'][_0x27270d(0x491)]),_0x31ef3e[_0x27270d(0x3d2)]&&(_0x5ac78f=_0x31ef3e[_0x27270d(0x3d2)][_0x27270d(0x54b)]['id']);let _0x5958c6;if(_0x2b3948&&typeof _0x2b3948==_0x27270d(0x759)&&_0x27270d(0x472)in _0x2b3948&&({pollCreationMessageKey:_0x5958c6}=_0x2b3948),_0x2f887a===_0x27270d(0x1f1)||_0x2f887a===_0x27270d(0x386)||_0x2f887a==='pollCreationMessageV3'){let _0x16f53c=_0x2b3948[_0x27270d(0x2a3)][_0x27270d(0x378)](_0x1af108=>_0x1af108[_0x27270d(0xfa)])[_0x27270d(0x4c2)]('|');_0x5c957a[_0x27270d(0x2c9)]=_0x16f53c;}let _0x843ae6='';if(_0x2b3948&&(_0x843ae6+=_0x2b3948[_0x27270d(0x730)]?_0x2b3948[_0x27270d(0x730)]:'',_0x843ae6+=_0x2b3948['caption']?'\x20'+_0x2b3948[_0x27270d(0x135)]:'',_0x843ae6+=_0x2b3948[_0x27270d(0xe5)]?'\x20'+_0x2b3948[_0x27270d(0xe5)]:'',_0x843ae6+=_0x2b3948[_0x27270d(0x18c)]?'\x20'+_0x2b3948['displayName']:''),_0x2f887a===_0x27270d(0x466)){_0x843ae6=(_0x2b3948[_0x27270d(0x6b0)]||'')+'\x0a'+(_0x2b3948['description']||'')+'\x0a'+(_0x2b3948[_0x27270d(0x6af)]||'');let _0x2921fa=this[_0x27270d(0x4d1)](_0x2b3948['sections']);_0x5c957a[_0x27270d(0x2c9)]=_0x2921fa;}if(_0x2f887a===_0x27270d(0x368)&&(_0x541e75=_0x2b3948['title']),_0x2b3948&&_0x2b3948[_0x27270d(0x261)]){let _0x373314=this[_0x27270d(0x63b)](JSON['stringify'](_0x2b3948['vcard'],null,0x2));_0x843ae6=_0x843ae6+'\x0a'+_0x373314;}if(_0x2b3948){let {sections:_0x28aa61,listType:_0x20562b,displayName:_0x2608a7,vcard:_0xa3b957,contactVcard:_0x2525fa,name:_0x2bb7d4,caption:_0x146204,conversation:_0x10429c,pollCreationMessageKey:_0x30a5ff,footerText:_0x220a8c,contentText:_0x22e22d,pageCount:_0x4b4aef,headerType:_0x118631,isAvatar:_0x2b237c,isAnimated:_0x20afe5,fallbackLc:_0x576777,fallbackLg:_0x4ee336,namespace:_0x2f1398,elementName:_0x5896eb,localizableParams:_0x341b26,viewOnce:_0x3a0f2d,height:_0x45fc06,width:_0x3274fb,key:_0x2a6578,firstScanLength:_0x1254f3,firstScanSidecar:_0x539ab7,gifPlayback:_0x2b18cd,gifAttribution:_0x2699d0,midQualityFileSha256:_0xd504d3,scansSidecar:_0x2b4336,streamingSidecar:_0xd2d6f6,thumbnailHeight:_0x58691c,thumbnailWidth:_0x22f2d5,thumbnailEncSha256:_0x54e354,thumbnailDirectPath:_0x45dce7,canonicalUrl:_0x5f5196,matchedText:_0x255702,previewType:_0x46fcb9,thumbnailSha256:_0x1d8791,deviceListMetadataVersion:_0x350518,inviteLinkGroupTypeV2:_0x17f7c9,interactiveAnnotations:_0x3469cb,scanLengths:_0x3c5b7e,jpegThumbnail:_0x1e5c84,url:_0x4530f2,mediaKeyTimestamp:_0x3c0b3e,waveform:_0x28d0ad,stickerSentTs:_0x49e6b4,firstFrameLength:_0x1fbae8,fileEncSha256:_0x21d195,contextInfo:_0x286138,firstFrameSidecar:_0x3cac0b,directPath:_0x18e937,fileSha256:_0x163ae2,mediaKey:_0x44e08f,senderTimestampMs:_0x44c6e5,..._0xe91fad}=_0x2b3948;(_0x2f887a===_0x27270d(0x466)||_0x2f887a==='listResponseMessage')&&(delete _0xe91fad[_0x27270d(0x6b0)],delete _0xe91fad[_0x27270d(0x4e3)]),typeof _0x2b3948=='string'?_0x5c957a={'text':_0x2b3948,'type':_0x2f887a||_0x27270d(0xe5),..._0x2b1c64&&{'edited':_0x2b1c64},..._0x292d13&&{'quoted':_0x292d13},..._0x5ac78f&&{'reaction':_0x5ac78f}}:_0x5c957a={'text':_0x843ae6,..._0xe91fad,..._0x2f887a===_0x27270d(0x501)?{'poll_id':_0x2b3948[_0x27270d(0x472)]['id'],'quoted':_0x2b3948['pollCreationMessageKey']['id'],'vote':_0x541e75}:{},..._0x2f887a===_0x27270d(0x368)?{'vote':_0x541e75}:{},'type':_0x2f887a,..._0x2b1c64&&{'edited':_0x2b1c64},..._0x292d13&&{'quoted':_0x292d13},..._0x5ac78f&&{'reaction':_0x5ac78f},...(_0x2f887a==='pollCreationMessage'||_0x2f887a==='pollCreationMessageV2'||_0x2f887a===_0x27270d(0x11e)||_0x2f887a===_0x27270d(0x466))&&{'convertedOptions':_0x5c957a['convertedOptions']}};}return{'messageType':_0x2f887a,'messageContent':_0x2b3948,'message_normalized':_0x5c957a};}catch(_0x55da48){return console[_0x27270d(0x47b)](_0x27270d(0x53f),_0x55da48),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x269402(0x688)](),this['instance'][_0x269402(0x6d6)]={'count':0x0});}set['instanceName'](_0xb3129c){const _0x47e5e5=a0_0x58753f;if(!_0xb3129c){this[_0x47e5e5(0x339)][_0x47e5e5(0x730)]=(0x0,br['v4'])();return;}this[_0x47e5e5(0x339)][_0x47e5e5(0x730)]=_0xb3129c,this['sendDataWebhook'](_0x47e5e5(0x2f9),{'instance':this['instance'][_0x47e5e5(0x730)],'status':_0x47e5e5(0x219)});}get['instanceName'](){const _0x4f492c=a0_0x58753f;return this[_0x4f492c(0x339)]['name'];}get[a0_0x58753f(0x6ab)](){const _0x30a60f=a0_0x58753f;return this[_0x30a60f(0x339)]['wuid'];}async['getProfileName'](){const _0x23df8b=a0_0x58753f;let _0x5e84b5=this[_0x23df8b(0x299)][_0x23df8b(0x718)]?.[_0x23df8b(0x730)]??this[_0x23df8b(0x299)][_0x23df8b(0x718)]?.[_0x23df8b(0x13d)];if(!_0x5e84b5){if(this[_0x23df8b(0x6ae)][_0x23df8b(0x59e)](_0x23df8b(0x1d0))[_0x23df8b(0x50f)]){let _0x597d6d=await R[_0x23df8b(0x454)]()['db'](this[_0x23df8b(0x6ae)][_0x23df8b(0x59e)](_0x23df8b(0x1d0))['CONNECTION'][_0x23df8b(0x2a5)]+_0x23df8b(0x6f9))[_0x23df8b(0x619)](this[_0x23df8b(0x479)])[_0x23df8b(0x2e1)]({'_id':'creds'});if(_0x597d6d){let _0x27dc09=JSON['parse'](JSON[_0x23df8b(0x212)](_0x597d6d),g[_0x23df8b(0x4e7)][_0x23df8b(0x2ec)]);_0x5e84b5=_0x27dc09['me']?.[_0x23df8b(0x730)]||_0x27dc09['me']?.[_0x23df8b(0x13d)];}}else{if((0x0,ve[_0x23df8b(0x6ec)])((0x0,j[_0x23df8b(0x4c2)])(ge,this[_0x23df8b(0x479)],_0x23df8b(0x412)))){let _0x3faa8b=JSON[_0x23df8b(0x638)]((0x0,ve[_0x23df8b(0x207)])((0x0,j[_0x23df8b(0x4c2)])(ge,this[_0x23df8b(0x479)],_0x23df8b(0x412)),{'encoding':_0x23df8b(0x2d7)}));_0x5e84b5=_0x3faa8b['me']?.[_0x23df8b(0x730)]||_0x3faa8b['me']?.[_0x23df8b(0x13d)];}}}return _0x5e84b5;}get[a0_0x58753f(0x72c)](){const _0x197496=a0_0x58753f;return this[_0x197496(0x339)][_0x197496(0x72c)];}get[a0_0x58753f(0x567)](){const _0x5d1f4b=a0_0x58753f;return{'pairingCode':this[_0x5d1f4b(0x339)][_0x5d1f4b(0x6d6)]?.[_0x5d1f4b(0x54e)],'code':this[_0x5d1f4b(0x339)][_0x5d1f4b(0x6d6)]?.[_0x5d1f4b(0x553)],'base64':this[_0x5d1f4b(0x339)][_0x5d1f4b(0x6d6)]?.[_0x5d1f4b(0x53e)]};}async[a0_0x58753f(0x58d)](){const _0x836ad3=a0_0x58753f;let _0x2ea809=await this[_0x836ad3(0x628)][_0x836ad3(0x21c)][_0x836ad3(0x53a)](this[_0x836ad3(0x479)]);this[_0x836ad3(0x1ab)]['url']=_0x2ea809?.['url'],this['localWebhook']['enabled']=_0x2ea809?.['enabled'],this[_0x836ad3(0x1ab)]['local_map']=_0x2ea809?.[_0x836ad3(0x4bd)],this[_0x836ad3(0x1ab)][_0x836ad3(0x532)]=_0x2ea809?.[_0x836ad3(0x532)],this[_0x836ad3(0x1ab)][_0x836ad3(0x202)]=_0x2ea809?.[_0x836ad3(0x202)],this['localWebhook'][_0x836ad3(0x6eb)]=_0x2ea809?.[_0x836ad3(0x6eb)],this[_0x836ad3(0x1ab)][_0x836ad3(0x4d9)]=_0x2ea809?.[_0x836ad3(0x4d9)],this['localWebhook'][_0x836ad3(0x112)]=_0x2ea809?.[_0x836ad3(0x112)],this[_0x836ad3(0x1ab)][_0x836ad3(0x21d)]=_0x2ea809?.[_0x836ad3(0x21d)],this[_0x836ad3(0x1ab)][_0x836ad3(0x1f3)]=_0x2ea809?.[_0x836ad3(0x1f3)],this[_0x836ad3(0x1ab)]['GROUP_PARTICIPANTS_UPDATE']=_0x2ea809?.[_0x836ad3(0x6a1)],this['localWebhook'][_0x836ad3(0x511)]=_0x2ea809?.[_0x836ad3(0x511)],this[_0x836ad3(0x1ab)][_0x836ad3(0x548)]=_0x2ea809?.[_0x836ad3(0x548)],this[_0x836ad3(0x1ab)][_0x836ad3(0x16b)]=_0x2ea809?.[_0x836ad3(0x16b)],this[_0x836ad3(0x1ab)]['CHATS_DELETE']=_0x2ea809?.['CHATS_DELETE'],this[_0x836ad3(0x1ab)][_0x836ad3(0x1f6)]=_0x2ea809?.[_0x836ad3(0x1f6)],this['localWebhook'][_0x836ad3(0x71c)]=_0x2ea809?.[_0x836ad3(0x71c)],this['localWebhook']['CONTACTS_UPDATE']=_0x2ea809?.[_0x836ad3(0x3ff)],this['localWebhook'][_0x836ad3(0x25c)]=_0x2ea809?.['PRESENCE_UPDATE'],this[_0x836ad3(0x1ab)][_0x836ad3(0x6c8)]=_0x2ea809?.[_0x836ad3(0x6c8)],this['localWebhook'][_0x836ad3(0xde)]=_0x2ea809?.[_0x836ad3(0xde)],this['localWebhook'][_0x836ad3(0x6f7)]=_0x2ea809?.[_0x836ad3(0x6f7)];}async['setWebhook'](_0x1930bb){const _0x5bd21a=a0_0x58753f;let _0x4c507c=[_0x5bd21a(0x29f),'url',_0x5bd21a(0x2e7),'local_map',_0x5bd21a(0x532),_0x5bd21a(0x202),_0x5bd21a(0x112),_0x5bd21a(0x4d9),_0x5bd21a(0x6eb),_0x5bd21a(0x21d),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE','CHATS_SET',_0x5bd21a(0x548),_0x5bd21a(0x16b),_0x5bd21a(0x1c7),_0x5bd21a(0x1f6),_0x5bd21a(0x71c),_0x5bd21a(0x3ff),'PRESENCE_UPDATE',_0x5bd21a(0x6c8),_0x5bd21a(0xde),_0x5bd21a(0x6f7)],_0x30fab1={};return _0x4c507c[_0x5bd21a(0x537)](_0x44dfc8=>{_0x1930bb[_0x44dfc8]!==void 0x0&&(_0x30fab1[_0x44dfc8]=_0x1930bb[_0x44dfc8]);}),await this[_0x5bd21a(0x628)]['webhook'][_0x5bd21a(0x60f)](_0x30fab1,this[_0x5bd21a(0x479)]),Object[_0x5bd21a(0x1c4)](this[_0x5bd21a(0x1ab)],_0x30fab1),await this['repository'][_0x5bd21a(0x21c)][_0x5bd21a(0x53a)](this[_0x5bd21a(0x479)]);}async[a0_0x58753f(0x1dc)](){const _0x2c9559=a0_0x58753f;return await this['repository'][_0x2c9559(0x21c)][_0x2c9559(0x53a)](this[_0x2c9559(0x479)]);}async['sendDataWebhook'](_0x59ed8e,_0x3e7c8e){const _0x22f85a=a0_0x58753f;let _0x1e7ebf=_0x59ed8e[_0x22f85a(0x36c)](/[\.-]/gm,'_')[_0x22f85a(0x5c5)](),_0x33652c=this[_0x22f85a(0x1ab)][_0x22f85a(0x2e7)]&&(0x0,$['isURL'])(this['localWebhook'][_0x22f85a(0x534)])?this[_0x22f85a(0x1ab)][_0x22f85a(0x534)]+(this[_0x22f85a(0x1ab)][_0x22f85a(0x4bd)]?this['webhookMap'][_0x59ed8e]:''):null,_0x441288=this['localWebhook'][_0x1e7ebf],_0x4d2a39=ne&&ne[_0x22f85a(0x2e7)]&&(0x0,$[_0x22f85a(0x5e9)])(ne[_0x22f85a(0x534)])?ne['url']+(ne[_0x22f85a(0x4bd)]?this['webhookMap'][_0x59ed8e]:''):null,_0x2a872b=ne?ne[_0x1e7ebf]:null;if(_0x441288&&_0x33652c)try{await se['default'][_0x22f85a(0x60f)]({'baseURL':_0x33652c})['post']('',{'event':_0x59ed8e,'instance':this[_0x22f85a(0x339)][_0x22f85a(0x730)],'apikey':this['instance']['apikey'],'data':_0x3e7c8e}),this[_0x22f85a(0x46b)][_0x22f85a(0x5c1)](this[_0x22f85a(0x479)]+'\x20('+this[_0x22f85a(0x339)][_0x22f85a(0x6ab)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x59ed8e+':\x20'+_0x33652c);}catch{this[_0x22f85a(0x46b)][_0x22f85a(0x47b)](this[_0x22f85a(0x479)]+'\x20('+this[_0x22f85a(0x339)][_0x22f85a(0x6ab)]+_0x22f85a(0x4d3)+_0x59ed8e+':\x20'+_0x33652c);}if(_0x2a872b&&_0x4d2a39)try{await se[_0x22f85a(0x36d)][_0x22f85a(0x60f)]({'baseURL':_0x4d2a39})[_0x22f85a(0x522)]('',{'event':_0x59ed8e,'instance':this[_0x22f85a(0x339)][_0x22f85a(0x730)],'apikey':this['instance']['apikey'],'data':_0x3e7c8e}),this['logger'][_0x22f85a(0x5c1)](this[_0x22f85a(0x479)]+'\x20('+this[_0x22f85a(0x339)]['wuid']+_0x22f85a(0x550)+_0x59ed8e+':\x20'+_0x4d2a39);}catch{this[_0x22f85a(0x46b)][_0x22f85a(0x47b)](this[_0x22f85a(0x479)]+'\x20('+this[_0x22f85a(0x339)][_0x22f85a(0x6ab)]+_0x22f85a(0x518)+_0x59ed8e+':\x20'+_0x4d2a39);}}async[a0_0x58753f(0x309)]({qr:_0x26757a,connection:_0x5eb992,lastDisconnect:_0x8a2388}){const _0x12097d=a0_0x58753f;if(_0x26757a){if(this[_0x12097d(0x339)][_0x12097d(0x6d6)]['count']===mi)return this[_0x12097d(0x489)](_0x12097d(0x579),{'message':_0x12097d(0x29a),'statusCode':g['DisconnectReason'][_0x12097d(0x407)]}),this['stateConnection']={'state':'refused','statusReason':g[_0x12097d(0x3d7)][_0x12097d(0x61c)]},this[_0x12097d(0x489)](_0x12097d(0x5e1),{'instance':this[_0x12097d(0x339)]['name'],...this[_0x12097d(0x434)]}),this[_0x12097d(0x489)]('status.instance',{'instance':this[_0x12097d(0x339)][_0x12097d(0x730)],'status':'removed'}),this[_0x12097d(0x628)][_0x12097d(0x6be)][_0x12097d(0x60f)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x12097d(0x339)]['name']),this[_0x12097d(0x705)]=!0x0,this['eventEmitter'][_0x12097d(0xe0)](_0x12097d(0x1bd),this[_0x12097d(0x339)][_0x12097d(0x730)]);this[_0x12097d(0x339)][_0x12097d(0x6d6)][_0x12097d(0x700)]++;let _0x13d1dd={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};Sr['default'][_0x12097d(0x262)](_0x26757a,_0x13d1dd,(_0x1c279d,_0x2339a7)=>{const _0x4e00f9=_0x12097d;if(_0x1c279d){this['logger'][_0x4e00f9(0x47b)](this[_0x4e00f9(0x479)]+'\x20('+this[_0x4e00f9(0x339)][_0x4e00f9(0x6ab)]+_0x4e00f9(0x183)+(_0x1c279d instanceof Error?_0x1c279d['message']:JSON[_0x4e00f9(0x212)](_0x1c279d,null,0x2)));return;}this[_0x4e00f9(0x339)][_0x4e00f9(0x6d6)][_0x4e00f9(0x53e)]=_0x2339a7,this['instance']['qrcode'][_0x4e00f9(0x553)]=_0x26757a,this[_0x4e00f9(0x489)](_0x4e00f9(0x579),{'qrcode':{'instance':this['instance']['name'],'pairingCode':this['instance'][_0x4e00f9(0x6d6)][_0x4e00f9(0x54e)],'code':_0x26757a,'base64':_0x2339a7}});}),this[_0x12097d(0x4a9)]?(await(0x0,g[_0x12097d(0x48f)])(0x7d0),this[_0x12097d(0x339)]['qrcode'][_0x12097d(0x54e)]=await this[_0x12097d(0x299)][_0x12097d(0x375)](this['phoneNumber'])):this[_0x12097d(0x339)][_0x12097d(0x6d6)][_0x12097d(0x54e)]=null,Er[_0x12097d(0x36d)]['generate'](_0x26757a,{'small':!0x0},_0x3f999c=>this[_0x12097d(0x46b)][_0x12097d(0x5c1)](_0x12097d(0x68a)+this['instance']['name']+_0x12097d(0x347)+this[_0x12097d(0x339)][_0x12097d(0x6d6)][_0x12097d(0x700)]+',\x20pairCode:\x20'+this[_0x12097d(0x339)]['qrcode'][_0x12097d(0x54e)]+_0x12097d(0x5fe)+_0x3f999c));}if(_0x5eb992&&(this[_0x12097d(0x434)]={'state':_0x5eb992,'statusReason':_0x8a2388?.[_0x12097d(0x47b)]?.[_0x12097d(0x2e3)]?.['statusCode']??0xc8},this['sendDataWebhook'](_0x12097d(0x5e1),{'instance':this[_0x12097d(0x339)][_0x12097d(0x730)],...this[_0x12097d(0x434)]})),_0x5eb992===_0x12097d(0x3ca)){if(this['reconnectAttempts']++,this[_0x12097d(0x108)][_0x12097d(0x174)](Date[_0x12097d(0x447)]()),this[_0x12097d(0x108)]=this[_0x12097d(0x108)][_0x12097d(0x56a)](_0x52cbe1=>Date[_0x12097d(0x447)]()-_0x52cbe1<this[_0x12097d(0x230)]),_0x8a2388[_0x12097d(0x47b)]?.[_0x12097d(0x2e3)]?.[_0x12097d(0x15b)]!==g[_0x12097d(0x3d7)][_0x12097d(0x372)]&&this[_0x12097d(0x108)][_0x12097d(0x676)]<=this[_0x12097d(0x267)])console[_0x12097d(0x5c1)](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this['reconnectAttempts']+'/'+this[_0x12097d(0x267)]+_0x12097d(0x715)),console[_0x12097d(0x5c1)](_0x12097d(0x72b)),await this[_0x12097d(0x416)]();else{this[_0x12097d(0x489)](_0x12097d(0x2f9),{'instance':this['instance'][_0x12097d(0x730)],'status':_0x12097d(0x1c0)}),this[_0x12097d(0x339)][_0x12097d(0x6c5)]['isConnected']=!0x1,this['repository'][_0x12097d(0x21c)]['delete'](this[_0x12097d(0x479)]),this[_0x12097d(0x628)][_0x12097d(0x6be)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x12097d(0x447)]()},this[_0x12097d(0x339)][_0x12097d(0x730)]);try{this[_0x12097d(0x46b)][_0x12097d(0x19c)](this[_0x12097d(0x479)]+'\x20('+this[_0x12097d(0x339)][_0x12097d(0x6ab)]+_0x12097d(0x2bc));let _0x3b417d=await this[_0x12097d(0x628)]['message']['deleteAll'](this['instance']['wuid']);_0x3b417d[_0x12097d(0x6fc)]?this[_0x12097d(0x46b)][_0x12097d(0x19c)](this[_0x12097d(0x479)]+'\x20('+this[_0x12097d(0x339)]['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x12097d(0x47b)](_0x12097d(0x721),_0x3b417d[_0x12097d(0x47b)]);}catch(_0x2728e2){console[_0x12097d(0x47b)](_0x12097d(0x199),_0x2728e2);}this[_0x12097d(0x339)]['ScheduleMessage'][_0x12097d(0x4fd)]!==null&&(this[_0x12097d(0x46b)][_0x12097d(0x19c)](this['instanceName']+'\x20('+this[_0x12097d(0x339)][_0x12097d(0x6ab)]+_0x12097d(0x3a8)),clearInterval(this[_0x12097d(0x339)][_0x12097d(0x6c5)]['delayMessage']),this[_0x12097d(0x339)]['ScheduleMessage'][_0x12097d(0x4fd)]=null),this[_0x12097d(0x46b)][_0x12097d(0x19c)](this['instanceName']+'\x20('+this[_0x12097d(0x339)]['wuid']+_0x12097d(0x594)),this[_0x12097d(0x2b3)]=null,this[_0x12097d(0x1e2)][_0x12097d(0xe0)](_0x12097d(0x584),this[_0x12097d(0x339)][_0x12097d(0x730)],'inner'),this[_0x12097d(0x299)]?.['ws']?.[_0x12097d(0x3ca)](),this[_0x12097d(0x299)]['end'](new Error(_0x12097d(0x30d)));}}if(_0x5eb992==='open'){this[_0x12097d(0x299)]['ev'][_0x12097d(0x27c)](),this[_0x12097d(0x4d5)],this[_0x12097d(0x339)][_0x12097d(0x6ab)]=this[_0x12097d(0x299)][_0x12097d(0x718)]['id'][_0x12097d(0x36c)](/:\d+/,'')[_0x12097d(0x36c)](_0x12097d(0x46d),''),this[_0x12097d(0x339)]['profilePictureUrl']=(await this[_0x12097d(0x756)](this['instance'][_0x12097d(0x6ab)]+_0x12097d(0x46d)))[_0x12097d(0x72c)],this[_0x12097d(0x628)]['auth'][_0x12097d(0x60f)]({'online':!0x0,'owner':this[_0x12097d(0x339)][_0x12097d(0x6ab)],'lastDisconnect':null},this[_0x12097d(0x339)][_0x12097d(0x730)]);let _0x17af7b=_0x12097d(0x726)+this[_0x12097d(0x339)][_0x12097d(0x6ab)],_0x527093=0x28,_0x4f32bc=Math['floor']((_0x527093-_0x17af7b[_0x12097d(0x676)])/0x2),_0x48f654='\x20'[_0x12097d(0x134)](_0x4f32bc),_0x4c5ab1=_0x12097d(0x2b7),_0x131e27=_0x12097d(0x46e)+this[_0x12097d(0x339)]['name'],_0x2f3ef4=(''+_0x48f654+_0x17af7b+_0x48f654)[_0x12097d(0x68b)](_0x527093,'\x20'),_0x33d66a=(''+_0x48f654+_0x4c5ab1+_0x48f654)['padEnd'](_0x527093,'\x20'),_0x1e1972=(''+_0x48f654+_0x131e27+_0x48f654)[_0x12097d(0x68b)](_0x527093,'\x20'),_0x4f2087=Math['max'](_0x2f3ef4[_0x12097d(0x676)],_0x33d66a[_0x12097d(0x676)],_0x1e1972[_0x12097d(0x676)]),_0x29f9bc=_0x2f3ef4[_0x12097d(0x68b)](_0x4f2087,'\x20'),_0x50154f=_0x33d66a['padEnd'](_0x4f2087,'\x20'),_0x49bac2=_0x1e1972['padEnd'](_0x4f2087,'\x20');this[_0x12097d(0x46b)][_0x12097d(0x3cd)]((_0x12097d(0x3ed)+'─'[_0x12097d(0x134)](_0x4f2087)+_0x12097d(0x185)+_0x50154f+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x49bac2+_0x12097d(0x102)+_0x29f9bc+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x12097d(0x134)](_0x4f2087)+'┘')[_0x12097d(0x36c)](/^ +/gm,'\x20\x20')),this[_0x12097d(0xee)](),this['instance'][_0x12097d(0x6c5)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x2d4f99=a0_0x58753f;this[_0x2d4f99(0x12d)]=0x0,this[_0x2d4f99(0x108)]=[];}async['getMessage'](_0x161f25,_0x3b7d14=!0x1){const _0x227301=a0_0x58753f;try{let _0x272643=await this['repository'][_0x227301(0x5f5)][_0x227301(0x53a)]({'where':{'_id':_0x161f25['id']}},this[_0x227301(0x339)]['wuid']);return _0x3b7d14?_0x272643[0x0]:_0x272643[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x58753f(0x688)](){const _0x3e06c3=a0_0x58753f;let _0x5d5138=this[_0x3e06c3(0x6ae)][_0x3e06c3(0x59e)]('STORE'),_0x413b97=this[_0x3e06c3(0x6ae)][_0x3e06c3(0x59e)](_0x3e06c3(0x1d0));_0x5d5138?.[_0x3e06c3(0x209)]&&!_0x413b97[_0x3e06c3(0x50f)]&&setInterval(()=>{const _0x3b1cb4=_0x3e06c3;try{for(let [_0x164ff2,_0x59166a]of Object[_0x3b1cb4(0x40c)](_0x5d5138))_0x59166a===!0x0&&(0x0,Pt['execSync'])(_0x3b1cb4(0x67d)+(0x0,j[_0x3b1cb4(0x4c2)])(this[_0x3b1cb4(0xfe)],_0x164ff2[_0x3b1cb4(0x302)](),this['instance'][_0x3b1cb4(0x6ab)])+_0x3b1cb4(0x20c));}catch{}},(_0x5d5138?.[_0x3e06c3(0x209)]??0xe10)*0x3e8);}async[a0_0x58753f(0x3a0)](){const _0x446ec2=a0_0x58753f;let _0x40cd9d=this[_0x446ec2(0x6ae)]['get'](_0x446ec2(0x1d0)),_0x5d40ac=this[_0x446ec2(0x6ae)]['get']('REDIS');return _0x5d40ac?.[_0x446ec2(0x50f)]?await bs(_0x5d40ac,this[_0x446ec2(0x339)][_0x446ec2(0x730)]):_0x40cd9d['ENABLED']?await ys(this[_0x446ec2(0x339)][_0x446ec2(0x730)]):await(0x0,g[_0x446ec2(0x2ae)])((0x0,j[_0x446ec2(0x4c2)])(ge,this[_0x446ec2(0x339)][_0x446ec2(0x730)]));}async['AutomateFunctions'](){const _0x356b0a=a0_0x58753f;let _0x2c0c8c=()=>Math[_0x356b0a(0x218)](Math[_0x356b0a(0x2df)]()*0x2711)+0x7d0,_0x563ae3=async()=>{const _0x18d97a=_0x356b0a;if(!this['instance'][_0x18d97a(0x6c5)][_0x18d97a(0x422)]){this[_0x18d97a(0x46b)][_0x18d97a(0x19c)](_0x18d97a(0x3af)),this[_0x18d97a(0x34a)]=!0x1;return;}if(this[_0x18d97a(0x339)]['wuid']&&this[_0x18d97a(0x2b3)]&&this[_0x18d97a(0x339)][_0x18d97a(0x6c5)][_0x18d97a(0x4fd)]!==null&&this[_0x18d97a(0x339)]['ScheduleMessage']['delayMessage']!==void 0x0){let _0x58ee90=Math['round'](this[_0x18d97a(0x339)][_0x18d97a(0x6c5)]['delayMessage']/0xea60);this[_0x18d97a(0x46b)][_0x18d97a(0x19c)](this[_0x18d97a(0x479)]+'\x20('+this[_0x18d97a(0x339)][_0x18d97a(0x6ab)]+_0x18d97a(0x699)+_0x58ee90+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x18d97a(0x34a)]=!0x1;return;}else this[_0x18d97a(0x339)][_0x18d97a(0x6ab)]&&(this[_0x18d97a(0x46b)][_0x18d97a(0x19c)](this[_0x18d97a(0x479)]+'\x20('+this[_0x18d97a(0x339)][_0x18d97a(0x6ab)]+_0x18d97a(0x31e)),this[_0x18d97a(0x46b)][_0x18d97a(0x19c)](this[_0x18d97a(0x479)]+'\x20('+this[_0x18d97a(0x339)][_0x18d97a(0x6ab)]+_0x18d97a(0x3b5)),this[_0x18d97a(0x2b3)]||await this['getAutomateSystem'](),(this['instance']['ScheduleMessage'][_0x18d97a(0x4fd)]===null||this[_0x18d97a(0x339)][_0x18d97a(0x6c5)][_0x18d97a(0x4fd)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x33b705=_0x2c0c8c();this[_0x18d97a(0x46b)]['verbose'](this['instanceName']+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x33b705/0x3e8+_0x18d97a(0x490)),setTimeout(_0x563ae3,_0x33b705);}};if(this['isRunning'])return;this[_0x356b0a(0x34a)]=!0x0;let _0xd0370=_0x2c0c8c();setTimeout(_0x563ae3,_0xd0370);}async['loadproxy'](_0x24e64c=0x0,_0x4511e4=!0x1){const _0x3bc71d=a0_0x58753f;try{let _0x4be3ca=this[_0x3bc71d(0x6ae)]['get']('PROXY');if(_0x4be3ca!==0x1||typeof _0x4be3ca>'u'||_0x24e64c>=0x5)return this['logger'][_0x3bc71d(0x611)](_0x3bc71d(0x2d1)),this[_0x3bc71d(0x628)][_0x3bc71d(0x6be)][_0x3bc71d(0x60f)]({'ip':null},this[_0x3bc71d(0x339)][_0x3bc71d(0x730)]),{};this[_0x3bc71d(0x46b)][_0x3bc71d(0x19c)](this[_0x3bc71d(0x479)]+_0x3bc71d(0x17e)+(_0x24e64c+0x1)+_0x3bc71d(0x6e0));let _0x2cc4e9;if(!_0x4511e4){let _0x5cea88=await this[_0x3bc71d(0x628)][_0x3bc71d(0x6be)][_0x3bc71d(0x53a)](this[_0x3bc71d(0x479)]);_0x5cea88&&_0x5cea88['ip']&&(_0x2cc4e9=gr(_0x5cea88['ip']));}if((!_0x2cc4e9||!Ss(_0x2cc4e9))&&(this[_0x3bc71d(0x46b)][_0x3bc71d(0x611)](this[_0x3bc71d(0x479)]+_0x3bc71d(0x62b)),_0x2cc4e9=mr()),_0x2cc4e9&&Ss(_0x2cc4e9)){let _0x1b137a=_0x2cc4e9[_0x3bc71d(0x1fe)]&&_0x2cc4e9['password']?_0x2cc4e9[_0x3bc71d(0x3fb)]+'://'+_0x2cc4e9[_0x3bc71d(0x1fe)]+':'+_0x2cc4e9[_0x3bc71d(0x119)]+'@'+_0x2cc4e9[_0x3bc71d(0x61f)]+':'+_0x2cc4e9['port']:_0x2cc4e9[_0x3bc71d(0x3fb)]+'://'+_0x2cc4e9['host']+':'+_0x2cc4e9['port'];return await this[_0x3bc71d(0x64a)](_0x1b137a,_0x2cc4e9[_0x3bc71d(0x61f)])?(this[_0x3bc71d(0x46b)]['verbose'](this['instanceName']+_0x3bc71d(0x5b1)),this[_0x3bc71d(0x628)][_0x3bc71d(0x6be)][_0x3bc71d(0x60f)]({'ip':_0x2cc4e9[_0x3bc71d(0x61f)]},this[_0x3bc71d(0x339)][_0x3bc71d(0x730)]),{'agent':new _t[(_0x3bc71d(0x68e))](_0x1b137a),'fetchAgent':new _t[(_0x3bc71d(0x68e))](_0x1b137a)}):(this['logger'][_0x3bc71d(0x611)](this[_0x3bc71d(0x479)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,g[_0x3bc71d(0x48f)])(0xc8),this[_0x3bc71d(0x617)](_0x24e64c+0x1,!0x0));}else return this[_0x3bc71d(0x46b)][_0x3bc71d(0x611)](this[_0x3bc71d(0x479)]+_0x3bc71d(0x2a7)),await(0x0,g[_0x3bc71d(0x48f)])(0xc8),this[_0x3bc71d(0x617)](_0x24e64c+0x1,!0x0);}catch(_0x49dac3){return this['logger'][_0x3bc71d(0x47b)](this[_0x3bc71d(0x479)]+':\x20Erro\x20durante\x20loadproxy\x20-\x20'+_0x49dac3['message']),{};}}async['testProxy'](_0x41501a,_0x42a251){const _0x1d9bd3=a0_0x58753f;let _0x4f7e76=new _t['HttpsProxyAgent'](_0x41501a),_0x541b2c=0x1388,_0x19bcfb=[{'url':'https://jsonip.com','parse':_0x4d83c3=>_0x4d83c3['ip']},{'url':_0x1d9bd3(0x6f8),'parse':_0x5bf028=>_0x5bf028['ip']},{'url':_0x1d9bd3(0x6a9),'parse':_0x4e18e9=>_0x4e18e9[_0x1d9bd3(0x543)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x1d9bd3(0x343),'parse':_0x1afd65=>_0x1afd65['ip']},{'url':_0x1d9bd3(0x2ea),'parse':_0x4c6d75=>_0x4c6d75[_0x1d9bd3(0x24c)]()},{'url':_0x1d9bd3(0x35b),'parse':_0x1d2754=>_0x1d2754[_0x1d9bd3(0x24c)]()},{'url':_0x1d9bd3(0x1cc),'parse':_0x1bfc86=>_0x1bfc86['query']},{'url':_0x1d9bd3(0x3b0),'parse':_0x4383d4=>_0x4383d4['trim']()},{'url':'http://icanhazip.com/','parse':_0x5dfb7e=>_0x5dfb7e[_0x1d9bd3(0x24c)]()}],_0x8b4a1f=_0x19bcfb[Math['floor'](Math['random']()*_0x19bcfb['length'])];try{let _0x1b8742=await se[_0x1d9bd3(0x36d)][_0x1d9bd3(0x59e)](_0x8b4a1f['url'],{'httpsAgent':_0x4f7e76,'timeout':_0x541b2c}),_0x2eaf43=_0x8b4a1f[_0x1d9bd3(0x638)](_0x1b8742[_0x1d9bd3(0x29e)]);return _0x2eaf43===_0x42a251?(this['logger'][_0x1d9bd3(0x19c)](this[_0x1d9bd3(0x479)]+_0x1d9bd3(0x3cc)+_0x42a251+_0x1d9bd3(0x678)+_0x2eaf43+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x1d9bd3(0x46b)][_0x1d9bd3(0x47b)](this[_0x1d9bd3(0x479)]+_0x1d9bd3(0x3cc)+_0x42a251+_0x1d9bd3(0x678)+_0x2eaf43+_0x1d9bd3(0x672)),!0x1);}catch(_0x1ca412){return this[_0x1d9bd3(0x46b)]['error'](this[_0x1d9bd3(0x479)]+_0x1d9bd3(0x488)+_0x8b4a1f[_0x1d9bd3(0x534)]+':\x20'+_0x1ca412[_0x1d9bd3(0x5f5)]),!0x1;}}async[a0_0x58753f(0x416)](_0x8d7e8d){const _0x35c84c=a0_0x58753f;try{let _0x352c54=await this[_0x35c84c(0x617)]();this['loadWebhook'](),this[_0x35c84c(0x339)][_0x35c84c(0x64d)]=(await this['repository'][_0x35c84c(0x6be)][_0x35c84c(0x53a)](this['instance'][_0x35c84c(0x730)]))[_0x35c84c(0x64d)],this[_0x35c84c(0x339)][_0x35c84c(0x34b)]=await this[_0x35c84c(0x3a0)]();let {version:_0x358671}=await(0x0,g[_0x35c84c(0x2a6)])(),_0x4b40ee=[Ns,Mr,(0x0,Es['release'])()],_0x228efd={..._0x352c54,'auth':{'creds':this[_0x35c84c(0x339)][_0x35c84c(0x34b)][_0x35c84c(0x4c1)][_0x35c84c(0x153)],'keys':(0x0,g[_0x35c84c(0x1c2)])(this['instance'][_0x35c84c(0x34b)][_0x35c84c(0x4c1)]['keys'],(0x0,It[_0x35c84c(0x36d)])({'level':_0x35c84c(0x47b)}))},'logger':(0x0,It['default'])({'level':_0x35c84c(0x47b)}),'printQRInTerminal':!0x1,'browser':_0x8d7e8d?['Safari\x20(MacOS)',Ns,(0x0,Es[_0x35c84c(0x52b)])()]:_0x4b40ee,'version':_0x358671,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x5eb5c1=>{const _0x44178a=_0x35c84c;let _0x479576=_0x5eb5c1[_0x44178a(0x413)](_0x44178a(0x5bd)),_0x1b3ecc=this[_0x44178a(0x1ab)]?.[_0x44178a(0x6f7)]&&_0x5eb5c1[_0x44178a(0x413)]('@g.us');return _0x479576||(0x0,g['isJidBroadcast'])(_0x5eb5c1)||_0x1b3ecc;},'msgRetryCounterCache':this[_0x35c84c(0x384)],'getMessage':async _0x2f5030=>await this[_0x35c84c(0x20e)](_0x2f5030),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x35c84c(0x200)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x379871=>(_0x379871['listMessage']?.[_0x35c84c(0x189)]==g[_0x35c84c(0x706)][_0x35c84c(0x39f)][_0x35c84c(0x23b)][_0x35c84c(0x618)][_0x35c84c(0x5ed)]&&(_0x379871=JSON[_0x35c84c(0x638)](JSON[_0x35c84c(0x212)](_0x379871)),_0x379871['listMessage'][_0x35c84c(0x189)]=g[_0x35c84c(0x706)][_0x35c84c(0x39f)]['ListMessage'][_0x35c84c(0x618)][_0x35c84c(0x69c)]),_0x379871)};return this[_0x35c84c(0x705)]=!0x1,this[_0x35c84c(0x299)]=(0x0,g[_0x35c84c(0x36d)])(_0x228efd),this[_0x35c84c(0x6bd)](),this[_0x35c84c(0x4a9)]=_0x8d7e8d,this[_0x35c84c(0x299)];}catch(_0x55d4de){throw this[_0x35c84c(0x46b)][_0x35c84c(0x47b)](this[_0x35c84c(0x479)]+'\x20('+this[_0x35c84c(0x339)]['wuid']+_0x35c84c(0x2b9)+(_0x55d4de instanceof Error?_0x55d4de[_0x35c84c(0x5f5)]:JSON['stringify'](_0x55d4de,null,0x2))),new I(_0x55d4de?.[_0x35c84c(0x623)]());}}[a0_0x58753f(0x6bd)](){const _0x4b7b42=a0_0x58753f;this[_0x4b7b42(0x299)]['ev'][_0x4b7b42(0x2dc)](_0x3546d3=>{const _0xd41fb4=_0x4b7b42;if(!this[_0xd41fb4(0x705)]){let _0x35bfd7=this[_0xd41fb4(0x6ae)][_0xd41fb4(0x59e)]('DATABASE');if(_0x3546d3[_0xd41fb4(0x117)]){let _0xab2721=_0x3546d3[_0xd41fb4(0x117)];this[_0xd41fb4(0x6e4)][_0xd41fb4(0x117)](_0xab2721);}if(_0x3546d3[_0xd41fb4(0x39d)]){let _0x161e41=_0x3546d3[_0xd41fb4(0x39d)];this['messageHandle'][_0xd41fb4(0x39d)](_0x161e41);}if(_0x3546d3[_0xd41fb4(0x5e1)]&&this[_0xd41fb4(0x309)](_0x3546d3[_0xd41fb4(0x5e1)]),_0x3546d3[_0xd41fb4(0x5d1)]&&this[_0xd41fb4(0x339)][_0xd41fb4(0x34b)]['saveCreds'](),_0x3546d3[_0xd41fb4(0x405)]){let _0x227e85=_0x3546d3[_0xd41fb4(0x405)];this[_0xd41fb4(0x6e4)][_0xd41fb4(0x405)](_0x227e85,_0x35bfd7);}if(_0x3546d3[_0xd41fb4(0xda)]){let _0x4ba801=_0x3546d3['messages.upsert'];this[_0xd41fb4(0x6e4)][_0xd41fb4(0xda)](_0x4ba801,_0x35bfd7);}if(_0x3546d3[_0xd41fb4(0x295)]){let _0x54e7a0=_0x3546d3[_0xd41fb4(0x295)];_0x54e7a0['forEach'](_0x566d71=>{const _0x2dd52f=_0xd41fb4;if(wr[_0x566d71[_0x2dd52f(0x54b)]['id']]){this['client']['ev'][_0x2dd52f(0xe0)](_0x2dd52f(0xda),{'messages':[_0x566d71],'type':_0x2dd52f(0x371)}),delete wr[_0x566d71[_0x2dd52f(0x54b)]['id']];return;}}),this[_0xd41fb4(0x6e4)]['messages.update'](_0x54e7a0,_0x35bfd7);}if(_0x3546d3[_0xd41fb4(0x3b6)]){let _0x3c8da8=_0x3546d3[_0xd41fb4(0x3b6)];if(this['localWebhook']?.[_0xd41fb4(0x6f7)]&&_0x3c8da8['id']['includes'](_0xd41fb4(0x2f5)))return;this[_0xd41fb4(0x489)]('presence.update',_0x3c8da8);}if(!this[_0xd41fb4(0x1ab)]?.[_0xd41fb4(0x6f7)]){if(_0x3546d3[_0xd41fb4(0x6a2)]){let _0x302a70=_0x3546d3[_0xd41fb4(0x6a2)];this[_0xd41fb4(0x225)][_0xd41fb4(0x6a2)](_0x302a70);}if(_0x3546d3[_0xd41fb4(0x55c)]){let _0xce4620=_0x3546d3['groups.update'];this[_0xd41fb4(0x225)][_0xd41fb4(0x55c)](_0xce4620);}if(_0x3546d3[_0xd41fb4(0x75e)]){let _0x325087=_0x3546d3['group-participants.update'];this[_0xd41fb4(0x225)][_0xd41fb4(0x75e)](_0x325087);}}if(_0x3546d3['chats.upsert']){let _0x5573a6=_0x3546d3[_0xd41fb4(0x1aa)];this[_0xd41fb4(0x3d9)]['chats.upsert'](_0x5573a6,_0x35bfd7);}if(_0x3546d3[_0xd41fb4(0x19b)]){let _0x50f166=_0x3546d3['chats.update'];this[_0xd41fb4(0x3d9)]['chats.update'](_0x50f166,_0x35bfd7);}if(_0x3546d3[_0xd41fb4(0x74c)]){let _0x4958a0=_0x3546d3[_0xd41fb4(0x74c)];this[_0xd41fb4(0x3d9)][_0xd41fb4(0x74c)](_0x4958a0);}if(_0x3546d3['contacts.upsert']){let _0x161039=_0x3546d3[_0xd41fb4(0x736)];this[_0xd41fb4(0x1b2)][_0xd41fb4(0x736)](_0x161039,_0x35bfd7);}if(_0x3546d3['contacts.update']){let _0x2ca71a=_0x3546d3[_0xd41fb4(0x503)];this['contactHandle'][_0xd41fb4(0x503)](_0x2ca71a,_0x35bfd7);}}});}[a0_0x58753f(0x6a0)](_0x10bbd4){return new Promise(_0x5b2892=>setTimeout(_0x5b2892,_0x10bbd4));}[a0_0x58753f(0x33b)](_0x34b98d){const _0x5089c5=a0_0x58753f;let _0x2142b5=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5089c5(0x201)](_0x34b98d);if(_0x2142b5&&_0x2142b5[0x1]==='55'){let _0x2fefd2=_0x2142b5[0x2],_0x368b0a=_0x2142b5[0x3],_0x533cca=_0x2142b5[0x4];if(_0x2fefd2>='31'&&_0x368b0a==='9')return _0x2142b5[0x1]+_0x2fefd2+_0x533cca;}return _0x34b98d;}[a0_0x58753f(0x72a)](_0x17bb56){const _0x4a059a=a0_0x58753f;return _0x17bb56['includes'](_0x4a059a(0x2f5))||_0x17bb56[_0x4a059a(0x1db)](_0x4a059a(0x46d))||_0x17bb56[_0x4a059a(0x1db)](_0x4a059a(0x410))?_0x17bb56:(_0x17bb56=_0x17bb56?.['replace'](/\s/g,'')[_0x4a059a(0x36c)](/\+/g,'')[_0x4a059a(0x36c)](/\(/g,'')[_0x4a059a(0x36c)](/\)/g,'')[_0x4a059a(0x610)](/\:/)[0x0][_0x4a059a(0x610)]('@')[0x0],_0x17bb56['length']>=0x12?(_0x17bb56=_0x17bb56[_0x4a059a(0x36c)](/[^\d-]/g,''),_0x17bb56+_0x4a059a(0x2f5)):(_0x17bb56=_0x17bb56['replace'](/\D/g,''),_0x17bb56+'@s.whatsapp.net'));}async[a0_0x58753f(0x53b)](_0x548e3d){const _0x18649a=a0_0x58753f;let _0x508541=this[_0x18649a(0x72a)](_0x548e3d[_0x18649a(0x32d)]),_0x4dd3fa=(await this[_0x18649a(0x4ff)]({'numbers':[_0x508541]}))[0x0];if(!_0x4dd3fa[_0x18649a(0x1d5)]&&!(0x0,g[_0x18649a(0x2fb)])(_0x4dd3fa[_0x18649a(0x57a)]))throw new w(_0x4dd3fa);let _0x4a54c0=(0x0,g[_0x18649a(0x2fb)])(_0x508541)?_0x508541:_0x4dd3fa['jid'];if((0x0,g[_0x18649a(0x2fb)])(_0x4a54c0))try{await this[_0x18649a(0x299)]['groupMetadata'](_0x4a54c0);}catch{throw new k(_0x18649a(0x154));}try{return await this[_0x18649a(0x299)][_0x18649a(0x603)](_0x4a54c0),await this[_0x18649a(0x299)][_0x18649a(0x4e8)](_0x548e3d[_0x18649a(0x570)],_0x508541),{'status':0xc8,'presence':_0x548e3d[_0x18649a(0x570)]};}catch(_0x3662de){throw new w(_0x3662de[_0x18649a(0x623)]());}}async[a0_0x58753f(0x756)](_0x986a9d){const _0x286f5c=a0_0x58753f;let _0x29019b=this[_0x286f5c(0x72a)](_0x986a9d);try{return{'wuid':_0x29019b,'profilePictureUrl':await this[_0x286f5c(0x299)][_0x286f5c(0x72c)](_0x29019b,_0x286f5c(0x682))};}catch{return{'wuid':_0x29019b,'profilePictureUrl':null};}}async[a0_0x58753f(0x1b8)](_0x45a8ae,_0x426888,_0x35aa05){const _0x2272b9=a0_0x58753f;_0x35aa05||(_0x35aa05={});let _0x114eb2=(await this['whatsappNumber']({'numbers':[_0x45a8ae]}))[0x0];if(!_0x114eb2[_0x2272b9(0x1d5)]&&!(0x0,g[_0x2272b9(0x2fb)])(_0x114eb2[_0x2272b9(0x57a)])&&!_0x114eb2[_0x2272b9(0x57a)][_0x2272b9(0x1db)](_0x2272b9(0x410)))throw new w(_0x114eb2);let _0x34a875=_0x114eb2[_0x2272b9(0x57a)];try{_0x35aa05?.[_0x2272b9(0x48f)]&&(await this[_0x2272b9(0x299)][_0x2272b9(0x603)](_0x34a875),await this[_0x2272b9(0x299)][_0x2272b9(0x4e8)](_0x35aa05?.[_0x2272b9(0x570)]??'composing',_0x34a875),await(0x0,g[_0x2272b9(0x48f)])(_0x35aa05[_0x2272b9(0x48f)]),await this[_0x2272b9(0x299)]['sendPresenceUpdate'](_0x2272b9(0xe3),_0x34a875));let _0x4c78eb=_0x35aa05?.[_0x2272b9(0x33d)]!=!0x1?void 0x0:!0x1,_0x82b28a;if(_0x35aa05?.[_0x2272b9(0x3ea)]){let _0x10aca8=_0x35aa05?.[_0x2272b9(0x3ea)],_0x20c6d7=_0x10aca8?.['message']?_0x10aca8:await this[_0x2272b9(0x20e)](_0x10aca8[_0x2272b9(0x54b)],!0x0);if(!_0x20c6d7)throw _0x2272b9(0x468);_0x82b28a=_0x20c6d7;}let _0x1632d4;if((0x0,g[_0x2272b9(0x2fb)])(_0x34a875))try{let _0x35753a=await this[_0x2272b9(0x299)][_0x2272b9(0x255)](_0x34a875);if(!_0x35753a)throw new k(_0x2272b9(0x154));_0x35aa05?.[_0x2272b9(0x474)]&&(_0x35aa05[_0x2272b9(0x474)]?.[_0x2272b9(0x484)]?_0x1632d4=_0x35753a[_0x2272b9(0x144)][_0x2272b9(0x378)](_0x17364c=>_0x17364c['id']):_0x35aa05[_0x2272b9(0x474)]?.[_0x2272b9(0x711)]?.[_0x2272b9(0x676)]&&(_0x1632d4=_0x35aa05[_0x2272b9(0x474)][_0x2272b9(0x711)][_0x2272b9(0x378)](_0x2a29e3=>{const _0x33a223=_0x2272b9;let _0x23391b=this[_0x33a223(0x72a)](_0x2a29e3);return(0x0,g['isJidGroup'])(_0x23391b)?null:_0x23391b;})));}catch{throw new k(_0x2272b9(0x154));}let _0x3bb7f2=await((async()=>{const _0x46c403=_0x2272b9;let _0x509797={'quoted':_0x82b28a};if(!_0x426888[_0x46c403(0x1ca)]&&!_0x426888['poll']&&!_0x426888[_0x46c403(0x1a2)]&&!_0x426888['conversation']&&_0x34a875!==_0x46c403(0x523)&&!_0x426888[_0x46c403(0x1ca)])return await this[_0x46c403(0x299)][_0x46c403(0x465)](_0x34a875,{'forward':{'key':{'remoteJid':this[_0x46c403(0x339)]['wuid'],'fromMe':!0x0},'message':_0x426888},'mentions':_0x1632d4},_0x509797);if(_0x426888[_0x46c403(0x3d2)])return await this[_0x46c403(0x299)][_0x46c403(0x465)](_0x34a875,{'react':{'text':_0x426888['reactionMessage'][_0x46c403(0x4f4)],'key':_0x426888['reactionMessage'][_0x46c403(0x54b)]}},_0x509797);if(_0x426888[_0x46c403(0xe5)]){let _0x3e0abd=_0x426888['conversation'];return _0x35aa05?.[_0x46c403(0x738)]&&(_0x3e0abd=await this[_0x46c403(0x494)](_0x3e0abd,_0x34a875)),await this[_0x46c403(0x299)][_0x46c403(0x465)](_0x34a875,{'text':_0x3e0abd,'mentions':_0x1632d4,'linkPreview':_0x4c78eb},_0x509797);}return _0x34a875===_0x46c403(0x523)?await this[_0x46c403(0x299)][_0x46c403(0x465)](_0x34a875,_0x426888[_0x46c403(0x593)][_0x46c403(0x54f)],{'backgroundColor':_0x426888[_0x46c403(0x593)][_0x46c403(0x131)][_0x46c403(0x27b)],'font':_0x426888['status'][_0x46c403(0x131)][_0x46c403(0x2ff)],'statusJidList':_0x426888[_0x46c403(0x593)][_0x46c403(0x131)][_0x46c403(0x6b8)]}):await this[_0x46c403(0x299)]['sendMessage'](_0x34a875,_0x426888,_0x509797);})()),_0x474310=(0x0,g[_0x2272b9(0x529)])(_0x3bb7f2[_0x2272b9(0x5f5)]),_0x162a34=(0x0,g['getContentType'])(_0x474310),{message_normalized:_0x321bb5}=this[_0x2272b9(0x3ae)](_0x474310,_0x162a34,null),_0x34d6ee={'_id':_0x3bb7f2[_0x2272b9(0x54b)]['id'],'key':_0x3bb7f2[_0x2272b9(0x54b)],'pushName':_0x3bb7f2[_0x2272b9(0x2c0)],'message':_0x474310,'messageType':_0x162a34,'message_normalized':{'key':_0x3bb7f2[_0x2272b9(0x54b)],'pushName':_0x3bb7f2[_0x2272b9(0x2c0)],'messageTimestamp':_0x3bb7f2[_0x2272b9(0x6ef)]&&_0x3bb7f2[_0x2272b9(0x6ef)][_0x2272b9(0x623)]()[_0x2272b9(0x676)]<0xd?_0x3bb7f2[_0x2272b9(0x6ef)]*0x3e8:_0x3bb7f2['messageTimestamp']||null,'source':(0x0,g[_0x2272b9(0x1ad)])(_0x3bb7f2['key']['id']),..._0x321bb5},'messageTimestamp':_0x3bb7f2[_0x2272b9(0x6ef)]&&_0x3bb7f2[_0x2272b9(0x6ef)][_0x2272b9(0x623)]()[_0x2272b9(0x676)]<0xd?_0x3bb7f2[_0x2272b9(0x6ef)]*0x3e8:_0x3bb7f2[_0x2272b9(0x6ef)]||null,'owner':this[_0x2272b9(0x339)][_0x2272b9(0x6ab)],'source':(0x0,g[_0x2272b9(0x1ad)])(_0x3bb7f2['key']['id'])};return this[_0x2272b9(0x46b)]['warn'](this['instanceName']+'\x20('+this[_0x2272b9(0x339)]['wuid']+_0x2272b9(0x2e6)+_0x34d6ee[_0x2272b9(0x54b)]?.[_0x2272b9(0x41f)]['replace'](_0x2272b9(0x46d),'')+_0x2272b9(0x43f)+_0x34d6ee[_0x2272b9(0x6ba)]+')'),_0x34d6ee['message_normalized']?.[_0x2272b9(0x4f4)]&&this['logger'][_0x2272b9(0x611)](_0x34d6ee[_0x2272b9(0x374)]?.[_0x2272b9(0x4f4)]),this[_0x2272b9(0x489)]('send.message',_0x34d6ee),q(this[_0x2272b9(0x479)],_0x2272b9(0x4a4),{'message':_0x34d6ee}),this['updateChatWithMessage'](this[_0x2272b9(0x6ae)]['get'](_0x2272b9(0x1d0)),_0x34d6ee,_0x2272b9(0x6eb)),await this[_0x2272b9(0x628)][_0x2272b9(0x5f5)][_0x2272b9(0x621)]([_0x34d6ee],this['instance'][_0x2272b9(0x6ab)]),_0x3bb7f2;}catch(_0x53e51f){throw this[_0x2272b9(0x46b)]['error'](this[_0x2272b9(0x479)]+'\x20('+this[_0x2272b9(0x339)][_0x2272b9(0x6ab)]+'):\x20'+_0x53e51f[_0x2272b9(0x623)]()),new w(_0x53e51f[_0x2272b9(0x623)]());}}get[a0_0x58753f(0x23d)](){return this['stateConnection'];}async[a0_0x58753f(0x395)](_0x548e2b){const _0x162829=a0_0x58753f;let _0x140cab=fr,_0x1b3fd4=Ke;return _0x1b3fd4&&this['instanceName']['toLowerCase']()[_0x162829(0x1db)](_0x1b3fd4[_0x162829(0x302)]())&&(_0x548e2b[_0x162829(0x395)][_0x162829(0x4f4)]+='\x0a\x0a'+_0x140cab),await this[_0x162829(0x1b8)](_0x548e2b[_0x162829(0x32d)],{'conversation':_0x548e2b[_0x162829(0x395)][_0x162829(0x4f4)]},_0x548e2b?.['options']);}async[a0_0x58753f(0x74f)](_0x161765){const _0x1e838c=a0_0x58753f;if(!_0x161765[_0x1e838c(0x4bb)])throw new w(_0x1e838c(0x1c3));if(!_0x161765[_0x1e838c(0x54f)])throw new w('Content\x20is\x20required');if(_0x161765[_0x1e838c(0x383)]){let _0x19444b=await this[_0x1e838c(0x628)][_0x1e838c(0x500)]['find']({'where':{}},this[_0x1e838c(0x339)][_0x1e838c(0x6ab)]);if(!_0x19444b['length'])throw new w(_0x1e838c(0x4af));_0x161765[_0x1e838c(0x6b8)]=_0x19444b[_0x1e838c(0x56a)](_0x23d49b=>_0x23d49b['pushName'])[_0x1e838c(0x378)](_0x1cfd09=>_0x1cfd09[_0x1e838c(0x29f)]);}if(!_0x161765['statusJidList']?.[_0x1e838c(0x676)]&&!_0x161765[_0x1e838c(0x383)])throw new w(_0x1e838c(0x5be));if(_0x161765['type']===_0x1e838c(0x4f4)){if(!_0x161765[_0x1e838c(0x27b)])throw new w('Background\x20color\x20is\x20required');if(!_0x161765[_0x1e838c(0x2ff)])throw new w('Font\x20is\x20required');return{'content':{'text':_0x161765[_0x1e838c(0x54f)]},'option':{'backgroundColor':_0x161765[_0x1e838c(0x27b)],'font':_0x161765[_0x1e838c(0x2ff)],'statusJidList':_0x161765['statusJidList']}};}if(_0x161765[_0x1e838c(0x4bb)]==='image')return{'content':{'image':{'url':_0x161765[_0x1e838c(0x54f)]},'caption':_0x161765[_0x1e838c(0x135)]},'option':{'statusJidList':_0x161765[_0x1e838c(0x6b8)]}};if(_0x161765[_0x1e838c(0x4bb)]==='video')return{'content':{'video':{'url':_0x161765[_0x1e838c(0x54f)]},'caption':_0x161765[_0x1e838c(0x135)]},'option':{'statusJidList':_0x161765[_0x1e838c(0x6b8)]}};if(_0x161765[_0x1e838c(0x4bb)]===_0x1e838c(0x1ca)){this[_0x1e838c(0x46b)][_0x1e838c(0x19c)](_0x1e838c(0x662)),this[_0x1e838c(0x46b)][_0x1e838c(0x19c)]('Processing\x20audio');let _0x509407=await this[_0x1e838c(0x46f)](_0x161765['content']);if(typeof _0x509407==_0x1e838c(0x61a)){this[_0x1e838c(0x46b)][_0x1e838c(0x19c)](_0x1e838c(0x5fa));let _0x9d37c5=L[_0x1e838c(0x207)](_0x509407)['toString'](_0x1e838c(0x53e));return{'content':{'audio':Buffer['from'](_0x9d37c5,_0x1e838c(0x53e)),'ptt':!0x0,'mimetype':_0x1e838c(0x15f)},'option':{'statusJidList':_0x161765[_0x1e838c(0x6b8)]}};}else throw new I(_0x509407);}throw new w('Type\x20not\x20found');}async[a0_0x58753f(0x179)](_0x24472c){const _0x9c86c=a0_0x58753f;return await this[_0x9c86c(0x1b8)](_0x9c86c(0x523),{'status':await this[_0x9c86c(0x74f)](_0x24472c[_0x9c86c(0x179)])});}async[a0_0x58753f(0x577)](_0x33cda0){const _0x1d9f07=a0_0x58753f;try{let _0x5d29d6=await(0x0,g[_0x1d9f07(0x4eb)])({[_0x33cda0[_0x1d9f07(0x2b8)]]:(0x0,$[_0x1d9f07(0x5e9)])(_0x33cda0[_0x1d9f07(0x1c6)])?{'url':_0x33cda0[_0x1d9f07(0x1c6)]}:Buffer[_0x1d9f07(0x173)](_0x33cda0[_0x1d9f07(0x1c6)],_0x1d9f07(0x53e))},{'upload':this['client'][_0x1d9f07(0x26f)]}),_0x3d0d7=_0x33cda0[_0x1d9f07(0x2b8)]+'Message';if(_0x33cda0[_0x1d9f07(0x2b8)]==='document'&&!_0x33cda0[_0x1d9f07(0x1e3)]){let _0x4bedee=new RegExp(/.*\/(.+?)\./)[_0x1d9f07(0x201)](_0x33cda0[_0x1d9f07(0x1c6)]);_0x33cda0[_0x1d9f07(0x1e3)]=_0x4bedee?_0x4bedee[0x1]:null;}let _0x5a6189=(0x0,$['isURL'])(_0x33cda0[_0x1d9f07(0x1c6)])?_0x33cda0[_0x1d9f07(0x1c6)][_0x1d9f07(0x610)]('?')[0x0]:_0x33cda0[_0x1d9f07(0x1c6)];this[_0x1d9f07(0x46b)]['verbose'](_0x1d9f07(0x45d)+_0x5a6189);let _0x19ffe9;(0x0,$[_0x1d9f07(0x5e9)])(_0x33cda0[_0x1d9f07(0x1c6)])?_0x19ffe9=(0x0,xt['getMIMEType'])(_0x5a6189):_0x33cda0[_0x1d9f07(0x1e3)]&&_0x33cda0['fileName']['includes']('.')?_0x19ffe9=(0x0,xt['getMIMEType'])(_0x33cda0['fileName']):_0x19ffe9=(0x0,xt['getMIMEType'])(_0x33cda0[_0x1d9f07(0x1c6)]);let _0x1dfc70=fr,_0x4f7df7=Ke;return _0x4f7df7&&this['instanceName'][_0x1d9f07(0x302)]()[_0x1d9f07(0x1db)](_0x4f7df7[_0x1d9f07(0x302)]())&&(_0x33cda0[_0x1d9f07(0x135)]+='\x0a\x0a'+_0x1dfc70),_0x5d29d6[_0x3d0d7][_0x1d9f07(0x135)]=_0x33cda0?.['caption'],_0x5d29d6[_0x3d0d7]['mimetype']=_0x19ffe9,_0x5d29d6[_0x3d0d7][_0x1d9f07(0x1e3)]=_0x33cda0[_0x1d9f07(0x1e3)],_0x33cda0[_0x1d9f07(0x2b8)]===_0x1d9f07(0x75b)&&(_0x5d29d6[_0x3d0d7]['jpegThumbnail']=Uint8Array[_0x1d9f07(0x173)]((0x0,ve[_0x1d9f07(0x207)])((0x0,j[_0x1d9f07(0x4c2)])(process[_0x1d9f07(0x45b)](),_0x1d9f07(0x709)))),_0x5d29d6[_0x3d0d7][_0x1d9f07(0x370)]=!0x1),(0x0,g[_0x1d9f07(0x65f)])('',{[_0x3d0d7]:{..._0x5d29d6[_0x3d0d7]}},{'userJid':this[_0x1d9f07(0x339)][_0x1d9f07(0x6ab)]});}catch(_0x20d31f){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1d9f07(0x339)][_0x1d9f07(0x6ab)]+_0x1d9f07(0x2b9)+(_0x20d31f instanceof Error?_0x20d31f['message']:JSON[_0x1d9f07(0x212)](_0x20d31f,null,0x2))),new I(_0x20d31f?.['toString']()||_0x20d31f);}}async['mediaMessage'](_0x4c2722){const _0x5edaf9=a0_0x58753f;let _0x1151de=await this[_0x5edaf9(0x577)](_0x4c2722[_0x5edaf9(0x158)]);return await this[_0x5edaf9(0x1b8)](_0x4c2722[_0x5edaf9(0x32d)],{..._0x1151de[_0x5edaf9(0x5f5)]},_0x4c2722?.[_0x5edaf9(0x2a3)]);}async['convertToWebP'](_0x55e27f,_0x148ac9){const _0x2c1b9c=a0_0x58753f;try{this['logger']['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x2feb5c,_0x2e2784=_0x148ac9+'-'+new Date()[_0x2c1b9c(0x5e5)]();this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)](_0x2c1b9c(0x28c)+_0x2e2784);let _0x5289cc=''+(0x0,j[_0x2c1b9c(0x4c2)])(this[_0x2c1b9c(0xfe)],_0x2e2784+_0x2c1b9c(0xf7));if(this[_0x2c1b9c(0x46b)]['verbose'](_0x2c1b9c(0x540)+_0x5289cc),(0x0,$[_0x2c1b9c(0x263)])(_0x55e27f)){this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)](_0x2c1b9c(0x5b9));let _0x258a3c=_0x55e27f['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2152fb=Buffer[_0x2c1b9c(0x173)](_0x258a3c,_0x2c1b9c(0x53e));_0x2feb5c=''+(0x0,j[_0x2c1b9c(0x4c2)])(this[_0x2c1b9c(0xfe)],_0x2c1b9c(0x277)+_0x2e2784+_0x2c1b9c(0x5cb)),this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)](_0x2c1b9c(0x47c)+_0x2feb5c),await(0x0,Dt[_0x2c1b9c(0x36d)])(_0x2152fb)[_0x2c1b9c(0x350)](_0x2feb5c),this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)](_0x2c1b9c(0x631));}else{this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)](_0x2c1b9c(0x56c));let _0x4b3faa=new Date()[_0x2c1b9c(0x5e5)](),_0x70b0c2=_0x55e27f+'?timestamp='+_0x4b3faa;this[_0x2c1b9c(0x46b)]['verbose'](_0x2c1b9c(0x483)+_0x70b0c2);let _0x30f3c8=await se[_0x2c1b9c(0x36d)][_0x2c1b9c(0x59e)](_0x70b0c2,{'responseType':'arraybuffer'});this[_0x2c1b9c(0x46b)]['verbose']('Getting\x20image\x20from\x20url');let _0x5e4ffa=Buffer[_0x2c1b9c(0x173)](_0x30f3c8[_0x2c1b9c(0x29e)],_0x2c1b9c(0x399));_0x2feb5c=''+(0x0,j[_0x2c1b9c(0x4c2)])(this['storePath'],_0x2c1b9c(0x277)+_0x2e2784+_0x2c1b9c(0x5cb)),this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)]('Image\x20path:\x20'+_0x2feb5c),await(0x0,Dt[_0x2c1b9c(0x36d)])(_0x5e4ffa)[_0x2c1b9c(0x350)](_0x2feb5c),this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)](_0x2c1b9c(0x631));}return await(0x0,Dt[_0x2c1b9c(0x36d)])(_0x2feb5c)[_0x2c1b9c(0x645)]()['toFile'](_0x5289cc),this[_0x2c1b9c(0x46b)][_0x2c1b9c(0x19c)](_0x2c1b9c(0x549)),L[_0x2c1b9c(0x4d7)](_0x2feb5c),this[_0x2c1b9c(0x46b)]['verbose'](_0x2c1b9c(0x5f9)),_0x5289cc;}catch(_0x18b094){console[_0x2c1b9c(0x47b)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x18b094 instanceof Error?_0x18b094[_0x2c1b9c(0x5f5)]:JSON[_0x2c1b9c(0x212)](_0x18b094,null,0x2));}}async[a0_0x58753f(0x3b1)](_0x43a3b9){const _0xdb0207=a0_0x58753f;let _0x175784=await this[_0xdb0207(0x20d)](_0x43a3b9['stickerMessage'][_0xdb0207(0x682)],_0x43a3b9['number']),_0x671555=await this['sendMessageWithTyping'](_0x43a3b9[_0xdb0207(0x32d)],{'sticker':{'url':_0x175784}},_0x43a3b9?.[_0xdb0207(0x2a3)]);return L['unlinkSync'](_0x175784),this['logger'][_0xdb0207(0x19c)](_0xdb0207(0x5c9)),_0x671555;}async[a0_0x58753f(0x61b)](_0x2ea651){const _0x217f2f=a0_0x58753f;if(this[_0x217f2f(0x46b)][_0x217f2f(0x19c)](_0x217f2f(0x1d7)),!_0x2ea651[_0x217f2f(0x2a3)]?.['encoding']&&_0x2ea651['options']?.['encoding']!==!0x1&&(_0x2ea651[_0x217f2f(0x2a3)]['encoding']=!0x0),_0x2ea651['options']?.[_0x217f2f(0x4be)]){let _0x16ed02=await this[_0x217f2f(0x46f)](_0x2ea651[_0x217f2f(0x32c)][_0x217f2f(0x1ca)]);if(typeof _0x16ed02==_0x217f2f(0x61a)){let _0x175e6d=L[_0x217f2f(0x207)](_0x16ed02)[_0x217f2f(0x623)](_0x217f2f(0x53e));return this[_0x217f2f(0x1b8)](_0x2ea651['number'],{'audio':Buffer[_0x217f2f(0x173)](_0x175e6d,_0x217f2f(0x53e)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x217f2f(0x612),'delay':_0x2ea651?.[_0x217f2f(0x2a3)]?.[_0x217f2f(0x48f)]});}else throw new I(_0x16ed02);}return await this[_0x217f2f(0x1b8)](_0x2ea651['number'],{'audio':(0x0,$[_0x217f2f(0x5e9)])(_0x2ea651[_0x217f2f(0x32c)][_0x217f2f(0x1ca)])?{'url':_0x2ea651[_0x217f2f(0x32c)][_0x217f2f(0x1ca)]}:Buffer[_0x217f2f(0x173)](_0x2ea651[_0x217f2f(0x32c)][_0x217f2f(0x1ca)],_0x217f2f(0x53e)),'ptt':!0x0,'mimetype':'audio/mpeg'},{'presence':_0x217f2f(0x612),'delay':_0x2ea651?.[_0x217f2f(0x2a3)]?.[_0x217f2f(0x48f)]});}async[a0_0x58753f(0x46f)](_0x155ef6){const _0x220b30=a0_0x58753f;this['logger']['verbose'](_0x220b30(0x129));let _0x1ee1aa=(0x0,$['isURL'])(_0x155ef6)?(0x0,vs[_0x220b30(0x351)])('sha256')[_0x220b30(0x4cd)](_0x155ef6)[_0x220b30(0x6e1)](_0x220b30(0x5ae)):(0x0,vs[_0x220b30(0x351)])('sha256')['update'](_0x155ef6)['digest'](_0x220b30(0x5ae)),_0x14f878=''+(0x0,j[_0x220b30(0x4c2)])(this['storePath'],_0x1ee1aa+_0x220b30(0x51a));if(L[_0x220b30(0x6ec)](_0x14f878))return this[_0x220b30(0x46b)]['verbose'](_0x220b30(0x571)),_0x14f878;let _0x127a1e=''+(0x0,j[_0x220b30(0x4c2)])(this['storePath'],_0x220b30(0x277)+(0x0,Ce['v4'])()+'.mp3');if((0x0,$[_0x220b30(0x5e9)])(_0x155ef6)){let _0x2cdcf0=new Date()[_0x220b30(0x5e5)](),_0x5d7d80=_0x155ef6+_0x220b30(0x27a)+_0x2cdcf0,_0x4cf66e=await se[_0x220b30(0x36d)][_0x220b30(0x59e)](_0x5d7d80,{'responseType':_0x220b30(0x373)});L['writeFileSync'](_0x127a1e,_0x4cf66e[_0x220b30(0x29e)]);}else{let _0x5c751a=Buffer['from'](_0x155ef6,_0x220b30(0x53e));L[_0x220b30(0x3dc)](_0x127a1e,_0x5c751a);}return new Promise((_0xe008c5,_0x42ecb9)=>{const _0x2f8239=_0x220b30;(0x0,Pt[_0x2f8239(0x201)])(yr[_0x2f8239(0x36d)][_0x2f8239(0x461)]+_0x2f8239(0x38d)+_0x127a1e+_0x2f8239(0x217)+_0x14f878+_0x2f8239(0x41c),_0x597911=>{const _0x1c1d94=_0x2f8239;if(L[_0x1c1d94(0x4d7)](_0x127a1e),_0x597911){this[_0x1c1d94(0x46b)][_0x1c1d94(0x19c)](_0x1c1d94(0x171)),_0x42ecb9(_0x597911);return;}this[_0x1c1d94(0x46b)][_0x1c1d94(0x19c)](_0x1c1d94(0x369)),_0xe008c5(_0x14f878);});});}async[a0_0x58753f(0x59b)](_0x5b503d){const _0x2edd2f=a0_0x58753f;let _0x1b5a1b={},_0x1ba7a3=_0x2edd2f(0x6bf);if(_0x5b503d[_0x2edd2f(0x59b)]?.[_0x2edd2f(0x158)]){_0x1ba7a3=_0x5b503d[_0x2edd2f(0x59b)][_0x2edd2f(0x158)]?.[_0x2edd2f(0x2b8)][_0x2edd2f(0x5c5)]()??_0x2edd2f(0x6bf),_0x1b5a1b['mediaKey']=_0x1ba7a3[_0x2edd2f(0x302)]()+_0x2edd2f(0x39f);let _0x1e337e=await this[_0x2edd2f(0x577)](_0x5b503d[_0x2edd2f(0x59b)]['mediaMessage']);_0x1b5a1b[_0x2edd2f(0x5f5)]=_0x1e337e[_0x2edd2f(0x5f5)][_0x1b5a1b['mediaKey']],_0x1b5a1b['contentText']='*'+_0x5b503d[_0x2edd2f(0x59b)][_0x2edd2f(0x6b0)]+_0x2edd2f(0x4bf)+_0x5b503d['buttonMessage'][_0x2edd2f(0x4e3)];}let _0x187029={'text':_0x5b503d[_0x2edd2f(0x59b)][_0x2edd2f(0x353)][_0x2edd2f(0x378)](_0x5a1bd0=>_0x5a1bd0['buttonText']),'ids':_0x5b503d[_0x2edd2f(0x59b)][_0x2edd2f(0x353)][_0x2edd2f(0x378)](_0xfc50e5=>_0xfc50e5[_0x2edd2f(0x3fc)])};if(!(0x0,$[_0x2edd2f(0x1be)])(_0x187029['text'])||!(0x0,$[_0x2edd2f(0x1be)])(_0x187029['ids']))throw new w(_0x2edd2f(0x538),_0x2edd2f(0x113));return await this[_0x2edd2f(0x1b8)](_0x5b503d[_0x2edd2f(0x32d)],{'buttonsMessage':{'text':_0x1b5a1b?.['mediaKey']?void 0x0:_0x5b503d[_0x2edd2f(0x59b)][_0x2edd2f(0x6b0)],'contentText':_0x1b5a1b?.[_0x2edd2f(0x727)]??_0x5b503d[_0x2edd2f(0x59b)]['description'],'footerText':_0x5b503d[_0x2edd2f(0x59b)]?.[_0x2edd2f(0x6af)],'buttons':_0x5b503d[_0x2edd2f(0x59b)][_0x2edd2f(0x353)][_0x2edd2f(0x378)](_0x3e8b71=>({'buttonText':{'displayText':_0x3e8b71[_0x2edd2f(0x10c)]},'buttonId':_0x3e8b71[_0x2edd2f(0x3fc)],'type':0x1})),'headerType':g[_0x2edd2f(0x706)]['Message'][_0x2edd2f(0x6e3)][_0x2edd2f(0x243)][_0x1ba7a3],[_0x1b5a1b?.['mediaKey']]:_0x1b5a1b?.[_0x2edd2f(0x5f5)]}},_0x5b503d?.[_0x2edd2f(0x2a3)]);}async[a0_0x58753f(0x233)](_0xcfd9a1){const _0x2ba4f4=a0_0x58753f;return await this['sendMessageWithTyping'](_0xcfd9a1['number'],{'locationMessage':{'degreesLatitude':_0xcfd9a1['locationMessage']['latitude'],'degreesLongitude':_0xcfd9a1[_0x2ba4f4(0x233)][_0x2ba4f4(0x50b)],'name':_0xcfd9a1[_0x2ba4f4(0x233)]?.['name'],'address':_0xcfd9a1['locationMessage']?.[_0x2ba4f4(0x2c7)]}},_0xcfd9a1?.[_0x2ba4f4(0x2a3)]);}async[a0_0x58753f(0x162)](_0x2621fa){const _0x9150ba=a0_0x58753f;let _0x40fae6={},_0x2b324e=_0x4a6389=>{const _0x38af11=a0_0x326c;let _0x400615=_0x38af11(0x1f5)+_0x4a6389['fullName']+_0x38af11(0x680)+_0x4a6389[_0x38af11(0x6e7)]+'\x0a';_0x4a6389['organization']&&(_0x400615+=_0x38af11(0x224)+_0x4a6389[_0x38af11(0x3fd)]+';\x0a'),_0x4a6389['email']&&(_0x400615+=_0x38af11(0x4e1)+_0x4a6389['email']+'\x0a'),_0x4a6389[_0x38af11(0x534)]&&(_0x400615+=_0x38af11(0x5d5)+_0x4a6389[_0x38af11(0x534)]+'\x0a');let _0xeeb20f='';return _0x4a6389['phoneNumber']&&_0x4a6389[_0x38af11(0x4a9)][_0x38af11(0x610)]('|')['forEach']((_0x4c903c,_0x6ea3d7)=>{const _0x2b8aee=_0x38af11;let _0x28d07f=this[_0x2b8aee(0x72a)](_0x4c903c)[_0x2b8aee(0x36c)]('@s.whatsapp.net','');_0xeeb20f+='item'+(_0x6ea3d7+0x1)+_0x2b8aee(0x5ca)+_0x28d07f+':'+_0x4c903c+_0x2b8aee(0x118)+(_0x6ea3d7+0x1)+'.X-ABLabel:Celular\x0a';}),_0x400615+=_0xeeb20f+_0x38af11(0x3d5),_0x400615;};return _0x2621fa[_0x9150ba(0x162)][_0x9150ba(0x676)]===0x1?_0x40fae6[_0x9150ba(0x162)]={'displayName':_0x2621fa['contactMessage'][0x0][_0x9150ba(0x6e7)],'vcard':_0x2b324e(_0x2621fa[_0x9150ba(0x162)][0x0])}:_0x40fae6[_0x9150ba(0x456)]={'displayName':_0x2621fa[_0x9150ba(0x162)][_0x9150ba(0x676)]+_0x9150ba(0x15d),'contacts':_0x2621fa['contactMessage'][_0x9150ba(0x378)](_0x32c1b6=>({'displayName':_0x32c1b6[_0x9150ba(0x6e7)],'vcard':_0x2b324e(_0x32c1b6)}))},await this[_0x9150ba(0x1b8)](_0x2621fa[_0x9150ba(0x32d)],{..._0x40fae6},_0x2621fa?.['options']);}async[a0_0x58753f(0x3d2)](_0x2d9ec0){const _0x29b787=a0_0x58753f;return await this[_0x29b787(0x1b8)](_0x2d9ec0[_0x29b787(0x3d2)]['key'][_0x29b787(0x41f)],{'reactionMessage':{'key':_0x2d9ec0[_0x29b787(0x3d2)][_0x29b787(0x54b)],'text':_0x2d9ec0[_0x29b787(0x3d2)][_0x29b787(0x42e)]}});}async['whatsappNumber'](_0x50e557){const _0x275a5a=a0_0x58753f;let _0x552260=[];for await(let _0x2793e6 of _0x50e557[_0x275a5a(0x3c2)]){let _0x57eb8b=this[_0x275a5a(0x72a)](_0x2793e6),_0x4c5e76=!0x1;try{if((0x0,g[_0x275a5a(0x2fb)])(_0x57eb8b)){let _0x57c5bb=await this[_0x275a5a(0x43d)]({'groupJid':_0x57eb8b},_0x275a5a(0x235));_0x552260[_0x275a5a(0x174)](new me(_0x57c5bb[_0x275a5a(0x5a8)]['id'],!!_0x57c5bb?.[_0x275a5a(0x5a8)]['id'],_0x57c5bb?.[_0x275a5a(0x5a8)][_0x275a5a(0x65a)])),_0x4c5e76=!!_0x57c5bb?.[_0x275a5a(0x5a8)]['id'];}else{let _0x2f31dd=(await this['client']['onWhatsApp'](_0x57eb8b))[0x0];_0x552260[_0x275a5a(0x174)](new me(_0x2f31dd[_0x275a5a(0x57a)],_0x2f31dd['exists'])),_0x4c5e76=_0x2f31dd[_0x275a5a(0x1d5)];}}catch{await this[_0x275a5a(0x1a6)](_0x57eb8b,_0x4c5e76),_0x552260[_0x275a5a(0x174)](new me(_0x2793e6,!0x1));}}return _0x552260;}async[a0_0x58753f(0x1a6)](_0x193eb3,_0x3ebdab){const _0x9ebc85=a0_0x58753f;try{await this[_0x9ebc85(0x628)][_0x9ebc85(0x181)][_0x9ebc85(0x2e1)]({'where':{'_id':_0x193eb3,'imported':!0x0}},this[_0x9ebc85(0x339)][_0x9ebc85(0x6ab)])&&(_0x3ebdab||(await this[_0x9ebc85(0x628)][_0x9ebc85(0x181)]['deleteChat'](_0x193eb3,this[_0x9ebc85(0x339)][_0x9ebc85(0x6ab)]),console[_0x9ebc85(0x5c1)](_0x9ebc85(0x684)+_0x193eb3+_0x9ebc85(0x4ca))));}catch(_0xb804e0){console['error'](_0x9ebc85(0x57f),_0xb804e0);}}async[a0_0x58753f(0x5f8)](_0x4b2394){const _0x385f93=a0_0x58753f;try{let _0x3171ea=_0x4b2394[_0x385f93(0x4f9)][_0x385f93(0x56a)](_0x126860=>(0x0,g[_0x385f93(0x2fb)])(_0x126860[_0x385f93(0x41f)])||(0x0,g[_0x385f93(0x4b3)])(_0x126860['remoteJid']))[_0x385f93(0x378)](_0x2d65d2=>({'remoteJid':_0x2d65d2[_0x385f93(0x41f)],'fromMe':_0x2d65d2[_0x385f93(0x3a1)],'id':_0x2d65d2['id']}));await this[_0x385f93(0x299)]['readMessages'](_0x3171ea);let _0x199519=_0x3171ea[_0x385f93(0x378)](_0x49a2e8=>this['updateMessage'](_0x49a2e8,{'status':'READ','owner':this[_0x385f93(0x339)][_0x385f93(0x6ab)]})),_0xd8e3=_0x3171ea[_0x385f93(0x378)](_0x340bc1=>this[_0x385f93(0x628)]['chat']['updateOne']({'where':{'_id':_0x340bc1[_0x385f93(0x41f)]}},{'unreadcount':0x0},this[_0x385f93(0x339)][_0x385f93(0x6ab)])),[_0xcba81f,_0x24e93b]=await Promise['all']([Promise['all'](_0x199519),Promise[_0x385f93(0x186)](_0xd8e3)]);return _0x24e93b[_0x385f93(0x56a)](_0x469196=>_0x469196!==null)[_0x385f93(0x537)](_0x49c4b5=>{q(this['instanceName'],'chats',{'chat':_0x49c4b5});}),{'message':_0x385f93(0x6b4),'read':_0x385f93(0x6fc)};}catch(_0x31c68f){throw console[_0x385f93(0x47b)](_0x385f93(0x260),_0x31c68f),new I(_0x385f93(0x74a),_0x31c68f['toString']());}}async[a0_0x58753f(0x128)](_0x116c61){const _0xf30737=a0_0x58753f;let _0x47f2cf={'where':{'key':{'remoteJid':_0x116c61}},'limit':0x1},_0x237c5d=await this[_0xf30737(0x5d7)](_0x47f2cf);return _0x237c5d||(console[_0xf30737(0x47b)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x116c61),null);}async['archiveChat'](_0x181bab){const _0x44db69=a0_0x58753f;this['logger'][_0x44db69(0x19c)]('Archiving\x20chat');try{let _0x3c47e7=_0x181bab[_0x44db69(0x417)],_0x437916=_0x181bab[_0x44db69(0x181)];if(!_0x3c47e7&&_0x437916?_0x3c47e7=await this[_0x44db69(0x128)](_0x437916):(_0x3c47e7=_0x181bab[_0x44db69(0x417)],_0x3c47e7[_0x44db69(0x6ef)]=_0x3c47e7?.[_0x44db69(0x6ef)]??Date['now'](),_0x437916=_0x3c47e7?.[_0x44db69(0x54b)]?.[_0x44db69(0x41f)]),!_0x3c47e7||Object[_0x44db69(0x14b)](_0x3c47e7)[_0x44db69(0x676)]===0x0)throw new k(_0x44db69(0x22d));this[_0x44db69(0x46b)][_0x44db69(0x19c)](_0x44db69(0x1e9)+_0x437916);try{await this['client'][_0x44db69(0x661)]({'archive':_0x181bab[_0x44db69(0x5e6)],'lastMessages':[_0x3c47e7]},this['createJid'](_0x437916));}catch(_0x939fd8){this[_0x44db69(0x46b)][_0x44db69(0x47b)](_0x44db69(0x5cc)+_0x437916+':\x20'+_0x939fd8[_0x44db69(0x623)]());}this[_0x44db69(0x46b)][_0x44db69(0x19c)](_0x44db69(0x616)+_0x437916);let _0x5e6755=await this[_0x44db69(0x628)][_0x44db69(0x181)][_0x44db69(0x614)]({'where':{'_id':_0x3c47e7?.[_0x44db69(0x54b)]?.[_0x44db69(0x41f)]}},{'archived':_0x181bab[_0x44db69(0x5e6)]},this[_0x44db69(0x339)][_0x44db69(0x6ab)]);return _0x5e6755?(this['logger'][_0x44db69(0x19c)](_0x44db69(0x3d4)+JSON['stringify'](_0x5e6755)),q(this[_0x44db69(0x479)],'chats',{'chat':_0x5e6755})):this[_0x44db69(0x46b)][_0x44db69(0x47b)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x437916),{'chatId':_0x437916,'archived':_0x181bab[_0x44db69(0x5e6)]};}catch(_0x289cf1){throw this[_0x44db69(0x46b)][_0x44db69(0x47b)](_0x44db69(0x64b)+_0x289cf1['toString']()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x289cf1['toString']()]});}}async['deleteMessage'](_0x575459){const _0x5e564c=a0_0x58753f;try{let _0x5e9836=await this[_0x5e564c(0x299)][_0x5e564c(0x465)](_0x575459[_0x5e564c(0x41f)],{'delete':_0x575459});try{let _0x1c8179=await this[_0x5e564c(0x2db)](_0x575459,{'status':'DELETED','owner':this['instance'][_0x5e564c(0x6ab)]});this[_0x5e564c(0x46b)][_0x5e564c(0x19c)](this['instanceName']+'\x20('+this['instance'][_0x5e564c(0x6ab)]+_0x5e564c(0x4c7)+_0x1c8179);}catch(_0x5b0c4a){console[_0x5e564c(0x47b)](_0x5e564c(0x6cf),_0x5b0c4a);}return _0x5e9836;}catch(_0x4e95b1){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x4e95b1?.['toString']());}}async[a0_0x58753f(0x432)](_0x260079){const _0x140829=a0_0x58753f;try{let _0x3d8ee8=_0x260079?.[_0x140829(0x5f5)]?_0x260079:await this['getMessage'](_0x260079[_0x140829(0x54b)],!0x0);for(let _0x266f15 of ma)_0x3d8ee8[_0x140829(0x5f5)][_0x266f15]&&(_0x3d8ee8[_0x140829(0x5f5)]=_0x3d8ee8['message'][_0x266f15][_0x140829(0x5f5)]);let _0x3722e7,_0x5e8df1;for(let _0xb040fe of ga)if(_0x3722e7=_0x3d8ee8[_0x140829(0x5f5)][_0xb040fe],_0x3722e7){_0x5e8df1=_0xb040fe;break;}if(!_0x3722e7)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3722e7[_0x140829(0x287)]==_0x140829(0x759)&&(_0x3d8ee8[_0x140829(0x5f5)]=JSON[_0x140829(0x638)](JSON[_0x140829(0x212)](_0x3d8ee8[_0x140829(0x5f5)])));let _0x47a1ed=await(0x0,g[_0x140829(0x58e)])({'key':_0x3d8ee8?.[_0x140829(0x54b)],'message':_0x3d8ee8?.[_0x140829(0x5f5)]},_0x140829(0x132),{},{'logger':(0x0,It[_0x140829(0x36d)])({'level':'silent'}),'reuploadRequest':this[_0x140829(0x299)]['updateMediaMessage']});if(!(_0x47a1ed instanceof Buffer))throw new Error(_0x140829(0x587));let _0x4d5262=this['configService'][_0x140829(0x59e)](_0x140829(0x1d0)),_0x46b42a,_0x30ab39;if(_0x3722e7[_0x140829(0x1e3)])_0x46b42a=_0x3722e7[_0x140829(0x1e3)];else{let _0x1ed984=_0x3722e7[_0x140829(0x336)]?.[_0x140829(0x543)](/\/(\w+)/),_0x38ce3f=_0x1ed984?_0x1ed984[0x1]:null;if(!_0x38ce3f)throw new Error(_0x140829(0x2bd));_0x46b42a=(0x0,Ce['v4'])()+'.'+_0x38ce3f;}_0x5e8df1===_0x140829(0x32c)&&_0x3722e7['mimetype']==='audio/ogg'?(_0x46b42a=(0x0,Ce['v4'])()+_0x140829(0x446),_0x30ab39=_0x140829(0x433)+await this['convertaudio'](_0x47a1ed[_0x140829(0x623)](_0x140829(0x53e)))):(await this[_0x140829(0x588)](_0x47a1ed,_0x46b42a),_0x30ab39=_0x140829(0x433)+_0x46b42a);let _0x11eac4=this[_0x140829(0x6ae)][_0x140829(0x59e)](_0x140829(0x105))['URL'];if(!_0x11eac4){let _0x3a596c=this[_0x140829(0x6ae)]['get'](_0x140829(0x28a));_0x11eac4=_0x140829(0x528)+(_0x3a596c&&_0x3a596c[_0x140829(0x106)][_0x140829(0x610)]('/')[0x4]);}_0x30ab39=''+_0x11eac4+_0x30ab39;let _0x51e4e7=0xc*0x3c*0x3c*0x3e8,_0x122e27={'where':{'_id':_0x3d8ee8[_0x140829(0x54b)]['id']}},_0x389e01={'message_normalized.fileUrl':_0x30ab39,'message_normalized.expires_fileUrl':Date['now']()+_0x51e4e7};try{let _0x59c0d9=await this[_0x140829(0x628)][_0x140829(0x5f5)][_0x140829(0x4cd)](_0x122e27,_0x389e01,this[_0x140829(0x339)]['wuid']);_0x59c0d9&&q(this[_0x140829(0x479)],'messages',{'message':_0x59c0d9});}catch(_0x4cb4b4){this['logger'][_0x140829(0x47b)](this[_0x140829(0x479)]+'\x20('+this[_0x140829(0x339)]['wuid']+'):\x20'+(_0x4cb4b4 instanceof Error?_0x4cb4b4['message']:JSON['stringify'](_0x4cb4b4,null,0x2)));}return{'mediaType':_0x5e8df1,'fileName':_0x3722e7['fileName'],'caption':_0x3722e7[_0x140829(0x135)],'size':{'fileLength':_0x3722e7[_0x140829(0x138)],'height':_0x3722e7[_0x140829(0x5b5)],'width':_0x3722e7[_0x140829(0x406)]},'mimetype':_0x3722e7['mimetype'],'base64':_0x47a1ed[_0x140829(0x623)](_0x140829(0x53e)),'fileUrl':_0x30ab39,'expires_fileUrl':Date['now']()+_0x51e4e7};}catch(_0x2e8344){throw this['logger']['error'](this[_0x140829(0x479)]+'\x20('+this[_0x140829(0x339)][_0x140829(0x6ab)]+_0x140829(0x2b9)+(_0x2e8344 instanceof Error?_0x2e8344[_0x140829(0x5f5)]:JSON[_0x140829(0x212)](_0x2e8344,null,0x2))),new w(_0x2e8344[_0x140829(0x623)]());}}async['saveMediaToFile'](_0xbfd1d4,_0xb1107){const _0x5f1e61=a0_0x58753f;let _0x54b637=j[_0x5f1e61(0x36d)][_0x5f1e61(0x4c2)](__dirname,_0x5f1e61(0x1ae));L[_0x5f1e61(0x6ec)](_0x54b637)||L[_0x5f1e61(0x13c)](_0x54b637,{'recursive':!0x0});let _0x3e21b4=j[_0x5f1e61(0x36d)][_0x5f1e61(0x4c2)](_0x54b637,_0xb1107);return new Promise((_0x28d620,_0x375b1e)=>{L['writeFile'](_0x3e21b4,_0xbfd1d4,_0x1fda04=>{const _0x3fdfab=a0_0x326c;_0x1fda04?(this[_0x3fdfab(0x46b)][_0x3fdfab(0x47b)]('Error\x20writing\x20file:\x20'+(_0x1fda04 instanceof Error?_0x1fda04[_0x3fdfab(0x5f5)]:JSON[_0x3fdfab(0x212)](_0x1fda04,null,0x2))),_0x375b1e(_0x1fda04)):(this['logger'][_0x3fdfab(0x5c1)](_0x3fdfab(0x19f)+_0x3e21b4),_0x28d620(_0x3e21b4));});});}async[a0_0x58753f(0x163)](_0xfdefbb){const _0x1b2069=a0_0x58753f;return await this[_0x1b2069(0x628)][_0x1b2069(0x500)][_0x1b2069(0x53a)](_0xfdefbb,this[_0x1b2069(0x339)][_0x1b2069(0x6ab)]);}async[a0_0x58753f(0x5e8)](){const _0x215bb8=a0_0x58753f;return await this[_0x215bb8(0x628)][_0x215bb8(0x73b)][_0x215bb8(0x53a)]({'where':{}},this[_0x215bb8(0x339)][_0x215bb8(0x6ab)]);}async[a0_0x58753f(0x5d7)](_0x23626d){const _0x39a3eb=a0_0x58753f;return await this['repository'][_0x39a3eb(0x5f5)][_0x39a3eb(0x53a)](_0x23626d,this[_0x39a3eb(0x339)]['wuid']);}async[a0_0x58753f(0x385)](){const _0x5ca1a4=a0_0x58753f;return this[_0x5ca1a4(0x628)]['chat'][_0x5ca1a4(0x37b)](this[_0x5ca1a4(0x339)][_0x5ca1a4(0x6ab)]),this[_0x5ca1a4(0x628)][_0x5ca1a4(0x181)][_0x5ca1a4(0xd3)](this[_0x5ca1a4(0x339)]['wuid']),this[_0x5ca1a4(0x628)][_0x5ca1a4(0x181)][_0x5ca1a4(0x524)](this[_0x5ca1a4(0x339)][_0x5ca1a4(0x6ab)]),this[_0x5ca1a4(0x628)][_0x5ca1a4(0x181)][_0x5ca1a4(0x259)](this[_0x5ca1a4(0x339)][_0x5ca1a4(0x6ab)]),await this['repository'][_0x5ca1a4(0x181)][_0x5ca1a4(0x53a)]({'where':{}},this[_0x5ca1a4(0x339)][_0x5ca1a4(0x6ab)]);}async[a0_0x58753f(0x316)](_0x18c426){const _0x1d03dc=a0_0x58753f;try{if(!Array[_0x1d03dc(0x293)](_0x18c426)||_0x18c426['length']===0x0)throw new Error(_0x1d03dc(0x2be));let _0x4954ea=[],_0x17c060=[];for(let _0x1de5b9 of _0x18c426){if(_0x1de5b9[_0x1d03dc(0x29f)])_0x1de5b9[_0x1d03dc(0x29f)]=this['createJid'](_0x1de5b9[_0x1d03dc(0x29f)]);else continue;await this[_0x1d03dc(0x628)]['chat']['findOne']({'where':{'_id':_0x1de5b9['_id']}},this[_0x1d03dc(0x339)][_0x1d03dc(0x6ab)])?_0x17c060[_0x1d03dc(0x174)]({'_id':_0x1de5b9[_0x1d03dc(0x29f)],'leadInfo':_0x1de5b9[_0x1d03dc(0x56b)],'owner':this[_0x1d03dc(0x339)][_0x1d03dc(0x6ab)]}):_0x4954ea[_0x1d03dc(0x174)]({'_id':_0x1de5b9[_0x1d03dc(0x29f)],'owner':this['instance'][_0x1d03dc(0x6ab)],'leadInfo':_0x1de5b9['leadInfo'],'imported':!0x0});}return _0x17c060[_0x1d03dc(0x676)]>0x0&&await this['repository'][_0x1d03dc(0x181)]['updateMany'](_0x17c060['map'](_0x273d58=>({'query':{'where':{'_id':_0x273d58['_id'],'owner':this[_0x1d03dc(0x339)]['wuid']}},'update':_0x273d58}))),_0x4954ea['length']>0x0&&await this['repository'][_0x1d03dc(0x181)][_0x1d03dc(0x615)](_0x4954ea,this[_0x1d03dc(0x339)][_0x1d03dc(0x6ab)]),{'updated':_0x17c060[_0x1d03dc(0x676)],'inserted':_0x4954ea[_0x1d03dc(0x676)]};}catch(_0x4e65f6){throw console[_0x1d03dc(0x47b)](_0x1d03dc(0x236),_0x4e65f6),_0x4e65f6;}}async['importChats'](_0x3692c6){const _0x31c0a3=a0_0x58753f;try{if(!Array[_0x31c0a3(0x293)](_0x3692c6)||_0x3692c6[_0x31c0a3(0x676)]===0x0)throw new Error(_0x31c0a3(0x2be));let _0x266a7a=0x64,_0x4a5d47=0x0;for(let _0x3596e5=0x0;_0x3596e5<_0x3692c6[_0x31c0a3(0x676)];_0x3596e5+=_0x266a7a){let _0x3a2fcb=_0x3692c6[_0x31c0a3(0x3f0)](_0x3596e5,_0x3596e5+_0x266a7a),{updated:_0x226a39}=await this['importChatsBatch'](_0x3a2fcb);_0x4a5d47+=_0x226a39;}return{'updated':_0x4a5d47};}catch(_0x35df07){throw console[_0x31c0a3(0x47b)](_0x31c0a3(0x236),_0x35df07),_0x35df07;}}async[a0_0x58753f(0x713)](_0x253df8){const _0x23bb43=a0_0x58753f;try{let _0x10fa09=await this['repository'][_0x23bb43(0x73b)][_0x23bb43(0x53a)]({'where':{}},this[_0x23bb43(0x339)][_0x23bb43(0x6ab)]),_0x55d826=new Set(_0x10fa09[_0x23bb43(0x378)](_0x4397c5=>_0x4397c5[_0x23bb43(0x29f)])),_0x2911ba=[],_0x56d546=[];for(let _0x65245b of _0x253df8){if(!_0x65245b[_0x23bb43(0x29f)])continue;_0x65245b[_0x23bb43(0x29f)]=this[_0x23bb43(0x72a)](_0x65245b['_id']);let _0x55c8eb=await this[_0x23bb43(0x628)][_0x23bb43(0x181)][_0x23bb43(0x2e1)]({'where':{'_id':_0x65245b['_id']}},this[_0x23bb43(0x339)][_0x23bb43(0x6ab)]),_0x154037={};if(Object[_0x23bb43(0x40c)](_0x65245b[_0x23bb43(0x56b)])[_0x23bb43(0x537)](([_0xd95fdb,_0x5d59bf])=>{const _0x5af386=_0x23bb43;_0x154037[_0x5af386(0x226)+_0xd95fdb]=_0x5d59bf;}),_0x55c8eb&&!_0x55c8eb[_0x23bb43(0x344)]){let _0x577052=(_0x65245b['leadInfo'][_0x23bb43(0x6f5)]||[])[_0x23bb43(0x56a)](_0x53aa6c=>_0x55d826[_0x23bb43(0x206)](_0x53aa6c)),_0x5bff78=new Set(_0x55c8eb[_0x23bb43(0x56b)][_0x23bb43(0x6f5)]||[]),_0x45fb71=_0x577052['filter'](_0x30feff=>!_0x5bff78['has'](_0x30feff)),_0xff98df=[..._0x5bff78][_0x23bb43(0x56a)](_0x142092=>!_0x577052[_0x23bb43(0x1db)](_0x142092));_0x56d546[_0x23bb43(0x174)](..._0x45fb71[_0x23bb43(0x378)](_0xcb1e63=>this[_0x23bb43(0x3f6)](_0xcb1e63,_0x65245b[_0x23bb43(0x29f)]))),_0x56d546[_0x23bb43(0x174)](..._0xff98df[_0x23bb43(0x378)](_0x34ce86=>this[_0x23bb43(0x10e)](_0x34ce86,_0x65245b[_0x23bb43(0x29f)]))),_0x65245b['leadInfo'][_0x23bb43(0x6f5)]=_0x577052,_0x2911ba[_0x23bb43(0x174)]({'query':{'where':{'_id':_0x65245b['_id'],'owner':this[_0x23bb43(0x339)][_0x23bb43(0x6ab)]}},'update':_0x154037});}else _0x154037['imported']=!0x0,_0x2911ba['push']({'query':{'where':{'_id':_0x65245b['_id'],'owner':this['instance'][_0x23bb43(0x6ab)]}},'update':_0x154037});}let _0x3bff09=await this[_0x23bb43(0x628)][_0x23bb43(0x181)][_0x23bb43(0x3e1)](_0x2911ba);return await Promise['all'](_0x56d546),{'updated':_0x3bff09};}catch(_0x5cc5c7){throw console[_0x23bb43(0x47b)](_0x23bb43(0x236),_0x5cc5c7),_0x5cc5c7;}}async[a0_0x58753f(0x596)](){const _0x4ea78c=a0_0x58753f;return await this[_0x4ea78c(0x299)][_0x4ea78c(0x596)]();}async['updatePrivacySettings'](_0x3a3a5c){const _0x108443=a0_0x58753f;try{return await this[_0x108443(0x299)][_0x108443(0x4df)](_0x3a3a5c['privacySettings'][_0x108443(0x68c)]),await this[_0x108443(0x299)][_0x108443(0x4ec)](_0x3a3a5c[_0x108443(0x17d)][_0x108443(0x382)]),await this[_0x108443(0x299)][_0x108443(0x360)](_0x3a3a5c[_0x108443(0x17d)][_0x108443(0x593)]),await this[_0x108443(0x299)]['updateOnlinePrivacy'](_0x3a3a5c[_0x108443(0x17d)][_0x108443(0x136)]),await this[_0x108443(0x299)][_0x108443(0x487)](_0x3a3a5c['privacySettings'][_0x108443(0x499)]),await this['client']['updateGroupsAddPrivacy'](_0x3a3a5c[_0x108443(0x17d)][_0x108443(0x18e)]),this[_0x108443(0x299)]?.['ws']?.['close'](),{'update':_0x108443(0x6fc),'data':{'readreceipts':_0x3a3a5c['privacySettings'][_0x108443(0x68c)],'profile':_0x3a3a5c[_0x108443(0x17d)]['profile'],'status':_0x3a3a5c[_0x108443(0x17d)][_0x108443(0x593)],'online':_0x3a3a5c[_0x108443(0x17d)][_0x108443(0x136)],'last':_0x3a3a5c[_0x108443(0x17d)]['last'],'groupadd':_0x3a3a5c['privacySettings'][_0x108443(0x18e)]}};}catch(_0xcd66f9){throw new I(_0x108443(0x3e0),_0xcd66f9[_0x108443(0x623)]());}}async[a0_0x58753f(0x402)](_0x46d73d){const _0x2e0f65=a0_0x58753f;let _0x49781b=_0x46d73d?this[_0x2e0f65(0x72a)](_0x46d73d):this[_0x2e0f65(0x299)]?.[_0x2e0f65(0x718)]?.['id'];this[_0x2e0f65(0x46b)][_0x2e0f65(0x19c)](_0x2e0f65(0x481)+_0x49781b);try{if(this[_0x2e0f65(0x46b)][_0x2e0f65(0x19c)](_0x2e0f65(0x745)),_0x46d73d){let _0x27fc5e=(await this[_0x2e0f65(0x4ff)]({'numbers':[_0x49781b]}))?.[_0x2e0f65(0x419)](),_0x1802cf=await this[_0x2e0f65(0x756)](_0x27fc5e?.['jid']),_0x5008a5=await this[_0x2e0f65(0x65d)](_0x27fc5e?.[_0x2e0f65(0x57a)]),_0x39dc76=await this[_0x2e0f65(0x1fb)](_0x27fc5e?.['jid']);return{'wuid':_0x27fc5e?.[_0x2e0f65(0x57a)]||_0x49781b,'name':_0x27fc5e?.[_0x2e0f65(0x730)],'numberExists':_0x27fc5e?.['exists'],'picture':_0x1802cf?.[_0x2e0f65(0x72c)],'status':_0x5008a5?.['status'],'isBusiness':_0x39dc76['isBusiness'],'email':_0x39dc76?.[_0x2e0f65(0x391)],'description':_0x39dc76?.[_0x2e0f65(0x4e3)],'website':_0x39dc76?.[_0x2e0f65(0x4bc)]?.['shift']()};}}catch{return this[_0x2e0f65(0x46b)][_0x2e0f65(0x19c)](_0x2e0f65(0x58c)),{'wuid':_0x49781b,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x58753f(0x3a2)](_0x2e4b15){const _0x2983b9=a0_0x58753f;let _0x56cdd7=(_0x2e4b15?this[_0x2983b9(0x72a)](_0x2e4b15):this[_0x2983b9(0x299)]?.[_0x2983b9(0x718)]?.['id'])[_0x2983b9(0x36c)](/:\d{1,2}@/g,'@');this[_0x2983b9(0x46b)]['verbose'](_0x2983b9(0x4b4)+_0x56cdd7);let _0x326b32=await this[_0x2983b9(0x628)][_0x2983b9(0x500)][_0x2983b9(0x2e1)]({'where':{'_id':_0x56cdd7}},this[_0x2983b9(0x339)]['wuid']),_0x5ee23d=_0x326b32?_0x326b32[_0x2983b9(0x2c0)]:null;try{let _0x2cb044=(await this[_0x2983b9(0x4ff)]({'numbers':[_0x56cdd7]}))?.['shift'](),_0x204b48=await this[_0x2983b9(0x756)](_0x2cb044?.[_0x2983b9(0x57a)]),_0x5b1b22=await this[_0x2983b9(0x65d)](_0x2cb044?.[_0x2983b9(0x57a)]),_0x241a75=await this[_0x2983b9(0x1fb)](_0x2cb044?.['jid']),_0x5934d9=await this['repository'][_0x2983b9(0x181)][_0x2983b9(0x2e1)]({'where':{'_id':_0x56cdd7}},this['instance']['wuid']),_0x14ad13={'imagechat':_0x204b48?.['profilePictureUrl'],'contactname':_0x5ee23d||null,'status':_0x5b1b22?.['status'],'isBusiness':_0x241a75['isBusiness'],'email':_0x241a75?.[_0x2983b9(0x391)],'description':_0x241a75?.[_0x2983b9(0x4e3)],'website':_0x241a75?.[_0x2983b9(0x4bc)]?.[_0x2983b9(0x419)](),'lastcache':Date[_0x2983b9(0x447)](),'imported':!_0x5934d9},_0x7d59b7=await this['repository']['chat'][_0x2983b9(0x614)]({'where':{'_id':_0x56cdd7}},_0x14ad13,this[_0x2983b9(0x339)][_0x2983b9(0x6ab)]),_0x3498fe={'owner':this[_0x2983b9(0x339)][_0x2983b9(0x6ab)],'_id':_0x56cdd7,'profilePictureUrl':_0x204b48?.[_0x2983b9(0x72c)],'status':_0x5b1b22?.[_0x2983b9(0x593)]};return this[_0x2983b9(0x628)][_0x2983b9(0x500)][_0x2983b9(0x4cd)]([_0x3498fe],this[_0x2983b9(0x339)][_0x2983b9(0x6ab)]),_0x7d59b7&&q(this[_0x2983b9(0x479)],_0x2983b9(0x4a0),{'chat':_0x7d59b7}),{'wuid':_0x2cb044?.[_0x2983b9(0x57a)]||_0x56cdd7,'name':_0x2cb044?.[_0x2983b9(0x730)],'numberExists':_0x2cb044?.[_0x2983b9(0x1d5)],'picture':_0x204b48?.[_0x2983b9(0x72c)],'status':_0x5b1b22?.[_0x2983b9(0x593)],'isBusiness':_0x241a75[_0x2983b9(0x379)],'email':_0x241a75?.[_0x2983b9(0x391)],'description':_0x241a75?.[_0x2983b9(0x4e3)],'website':_0x241a75?.[_0x2983b9(0x4bc)]?.[_0x2983b9(0x419)]()};}catch(_0x4fc993){return this[_0x2983b9(0x46b)][_0x2983b9(0x47b)](_0x2983b9(0x47a)+(_0x4fc993 instanceof Error?_0x4fc993['message']:JSON[_0x2983b9(0x212)](_0x4fc993,null,0x2))),{};}}async[a0_0x58753f(0x1fb)](_0x3f5c8d){const _0x4be3dd=a0_0x58753f;this[_0x4be3dd(0x46b)][_0x4be3dd(0x19c)](_0x4be3dd(0x240));try{let _0x5b873c=_0x3f5c8d?this[_0x4be3dd(0x72a)](_0x3f5c8d):this[_0x4be3dd(0x339)][_0x4be3dd(0x6ab)],_0x3591bb=await this[_0x4be3dd(0x299)][_0x4be3dd(0x66c)](_0x5b873c);return this[_0x4be3dd(0x46b)][_0x4be3dd(0x19c)](_0x4be3dd(0x4dc)),_0x3591bb?(this[_0x4be3dd(0x46b)][_0x4be3dd(0x19c)](_0x4be3dd(0x251)),{'isBusiness':!0x0,..._0x3591bb}):{'isBusiness':!0x1,'message':_0x4be3dd(0x5d9),...(await this[_0x4be3dd(0x4ff)]({'numbers':[_0x5b873c]}))?.[_0x4be3dd(0x419)]()};}catch(_0xdeec48){throw new I(_0x4be3dd(0x400),_0xdeec48[_0x4be3dd(0x623)]());}}async['getStatus'](_0x2ef560){const _0x5c3512=a0_0x58753f;let _0x511d5e=this['createJid'](_0x2ef560);try{return{'wuid':_0x511d5e,'status':(await this[_0x5c3512(0x299)][_0x5c3512(0x703)](_0x511d5e))?.[_0x5c3512(0x593)]};}catch{return{'wuid':_0x511d5e,'status':null};}}async['updateProfileName'](_0x38f348){const _0x166a3c=a0_0x58753f;try{return await this[_0x166a3c(0x299)][_0x166a3c(0x3e8)](_0x38f348),{'update':_0x166a3c(0x6fc)};}catch(_0x314223){throw new I(_0x166a3c(0x400),_0x314223[_0x166a3c(0x623)]());}}async['updateProfileStatus'](_0x5e30fa){const _0x44bc19=a0_0x58753f;try{return await this[_0x44bc19(0x299)][_0x44bc19(0x2f6)](_0x5e30fa),{'update':_0x44bc19(0x6fc)};}catch(_0x3b804c){throw new I(_0x44bc19(0x1c8),_0x3b804c[_0x44bc19(0x623)]());}}async[a0_0x58753f(0x6a7)](_0x4f8fba){const _0x426fe2=a0_0x58753f;try{let _0x346bbe;if((0x0,$[_0x426fe2(0x5e9)])(_0x4f8fba)){let _0xe15bed=new Date()[_0x426fe2(0x5e5)](),_0xd27a1b=_0x4f8fba+_0x426fe2(0x27a)+_0xe15bed;_0x346bbe=(await se[_0x426fe2(0x36d)][_0x426fe2(0x59e)](_0xd27a1b,{'responseType':_0x426fe2(0x373)}))[_0x426fe2(0x29e)];}else{if((0x0,$[_0x426fe2(0x263)])(_0x4f8fba))_0x346bbe=Buffer[_0x426fe2(0x173)](_0x4f8fba,_0x426fe2(0x53e));else throw new w(_0x426fe2(0x509));}return await this[_0x426fe2(0x299)][_0x426fe2(0x6a7)](this[_0x426fe2(0x339)][_0x426fe2(0x6ab)],_0x346bbe),{'update':'success'};}catch(_0x4343ab){throw new I(_0x426fe2(0x51d),_0x4343ab[_0x426fe2(0x623)]());}}async[a0_0x58753f(0x139)](){const _0x107ae6=a0_0x58753f;try{return await this[_0x107ae6(0x299)]['removeProfilePicture'](this[_0x107ae6(0x339)][_0x107ae6(0x6ab)]),{'update':_0x107ae6(0x6fc)};}catch(_0x387f6d){throw new I(_0x107ae6(0x319),_0x387f6d['toString']());}}async[a0_0x58753f(0x6d1)](_0x16ccde){const _0xccbd08=a0_0x58753f;try{let _0x2e2b97=_0x16ccde[_0xccbd08(0x144)][_0xccbd08(0x378)](_0x2a2d5b=>this[_0xccbd08(0x72a)](_0x2a2d5b)),{id:_0x2eb0c4}=await this[_0xccbd08(0x299)][_0xccbd08(0x6b9)](_0x16ccde[_0xccbd08(0x65a)],_0x2e2b97);return _0x16ccde?.[_0xccbd08(0x4e3)]&&await this['client'][_0xccbd08(0x60c)](_0x2eb0c4,_0x16ccde[_0xccbd08(0x4e3)]),{'metadata':await this[_0xccbd08(0x299)][_0xccbd08(0x255)](_0x2eb0c4)};}catch(_0x4e983c){throw this['logger'][_0xccbd08(0x47b)](this['instanceName']+'\x20('+this[_0xccbd08(0x339)][_0xccbd08(0x6ab)]+_0xccbd08(0x2b9)+(_0x4e983c instanceof Error?_0x4e983c[_0xccbd08(0x5f5)]:JSON[_0xccbd08(0x212)](_0x4e983c,null,0x2))),new I('Error\x20creating\x20group',_0x4e983c[_0xccbd08(0x623)]());}}async['updateGroupPicture'](_0x22d0e7){const _0x1f2100=a0_0x58753f;try{let _0x5a99bd;if((0x0,$[_0x1f2100(0x5e9)])(_0x22d0e7[_0x1f2100(0x682)])){let _0x5c75b8=new Date()[_0x1f2100(0x5e5)](),_0x4951db=_0x22d0e7[_0x1f2100(0x682)]+_0x1f2100(0x27a)+_0x5c75b8;_0x5a99bd=(await se[_0x1f2100(0x36d)][_0x1f2100(0x59e)](_0x4951db,{'responseType':_0x1f2100(0x373)}))[_0x1f2100(0x29e)];}else{if((0x0,$['isBase64'])(_0x22d0e7[_0x1f2100(0x682)]))_0x5a99bd=Buffer['from'](_0x22d0e7[_0x1f2100(0x682)],'base64');else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x1f2100(0x299)][_0x1f2100(0x6a7)](_0x22d0e7[_0x1f2100(0x4d8)],_0x5a99bd),{'update':_0x1f2100(0x6fc)};}catch(_0x445866){throw new I(_0x1f2100(0x436),_0x445866[_0x1f2100(0x623)]());}}async[a0_0x58753f(0x43d)](_0x191a92,_0xffaaad=a0_0x58753f(0x58f)){const _0x45acd6=a0_0x58753f;try{let _0x1b0ba8=await this[_0x45acd6(0x299)][_0x45acd6(0x255)](_0x191a92[_0x45acd6(0x4d8)]),_0x18d609=null;try{_0x18d609=(await this['profilePicture'](_0x191a92[_0x45acd6(0x4d8)]))[_0x45acd6(0x72c)];}catch(_0x1481c2){this[_0x45acd6(0x46b)][_0x45acd6(0x19c)](this[_0x45acd6(0x479)]+'\x20('+this['instance'][_0x45acd6(0x6ab)]+_0x45acd6(0x763)+_0x191a92[_0x45acd6(0x4d8)]+':\x20'+(_0x1481c2 instanceof Error?_0x1481c2[_0x45acd6(0x5f5)]:JSON[_0x45acd6(0x212)](_0x1481c2,null,0x2)));}let _0x2292e3=await this['repository'][_0x45acd6(0x181)][_0x45acd6(0x614)]({'where':{'_id':_0x191a92['groupJid']}},{'imagechat':_0x18d609,'name':_0x1b0ba8[_0x45acd6(0x65a)],'group_size':_0x1b0ba8[_0x45acd6(0x252)],'group_announce':_0x1b0ba8['announce'],'lastcache':Date[_0x45acd6(0x447)]()},this[_0x45acd6(0x339)]['wuid']);return _0x2292e3&&q(this['instanceName'],_0x45acd6(0x4a0),{'chat':_0x2292e3}),{'metadata':_0x1b0ba8,'image':_0x18d609};}catch(_0x9a9ed8){if(_0xffaaad==='inner')return;throw new k('Error\x20fetching\x20group',_0x9a9ed8['toString']());}}async[a0_0x58753f(0x693)](_0x105132){const _0x1eaf8d=a0_0x58753f;try{return await this[_0x1eaf8d(0x299)][_0x1eaf8d(0x60c)](_0x105132['groupJid'],_0x105132['description']),{'update':_0x1eaf8d(0x6fc)};}catch(_0x1c7579){throw new I('Error\x20change\x20group\x20description',_0x1c7579[_0x1eaf8d(0x623)]());}}async[a0_0x58753f(0x767)](_0x48b56a){const _0x1d79a8=a0_0x58753f;try{return await this[_0x1d79a8(0x299)][_0x1d79a8(0x43b)](_0x48b56a['groupJid'],_0x48b56a[_0x1d79a8(0x730)]),{'update':_0x1d79a8(0x6fc)};}catch(_0x36ec69){throw new I(_0x1d79a8(0x3de),_0x36ec69[_0x1d79a8(0x623)]());}}async['groupSetting'](_0x251957){const _0x3716f5=a0_0x58753f;try{return await this[_0x3716f5(0x299)][_0x3716f5(0x2e4)](_0x251957[_0x3716f5(0x4d8)],_0x251957[_0x3716f5(0x420)]),{'update':'success'};}catch(_0x55f4a2){throw new I(_0x3716f5(0x1cb),_0x55f4a2[_0x3716f5(0x623)]());}}async[a0_0x58753f(0x506)](){const _0x392b1f=a0_0x58753f;try{let _0x28f4c9=[],_0x412965=await this['client'][_0x392b1f(0x150)](),_0x2156a5=Object[_0x392b1f(0x731)](_0x412965),_0x560237=_0x2156a5[_0x392b1f(0x56a)](_0x20e511=>(0x0,g[_0x392b1f(0x2fb)])(_0x20e511?.['id']))[_0x392b1f(0x378)](async _0x15b6a8=>{const _0x1d325f=_0x392b1f;try{return await this[_0x1d325f(0x299)]['profilePictureUrl'](_0x15b6a8['id'],'preview');}catch(_0x3af9d2){return this['logger'][_0x1d325f(0x19c)](this['instanceName']+'\x20('+this['instance'][_0x1d325f(0x6ab)]+_0x1d325f(0x763)+_0x15b6a8['id']+':\x20'+(_0x3af9d2 instanceof Error?_0x3af9d2['message']:JSON[_0x1d325f(0x212)](_0x3af9d2,null,0x2))),null;}}),_0x5aa446=await Promise[_0x392b1f(0x186)](_0x560237);for(let _0x57e4fb=0x0;_0x57e4fb<_0x2156a5[_0x392b1f(0x676)];_0x57e4fb++){let _0xb198ba=_0x2156a5[_0x57e4fb];(0x0,g[_0x392b1f(0x2fb)])(_0xb198ba?.['id'])&&_0x28f4c9['push']({'groupJid':_0xb198ba?.['id'],'subject':_0xb198ba?.[_0x392b1f(0x65a)],'subjectOwner':_0xb198ba?.['subjectOwner']?.[_0x392b1f(0x610)]('@')[0x0],'subjectTime':_0xb198ba?.[_0x392b1f(0x5ff)],'size':_0xb198ba?.[_0x392b1f(0x144)]?.[_0x392b1f(0x676)],'owner':_0xb198ba?.[_0x392b1f(0x4a8)]?.[_0x392b1f(0x610)]('@')[0x0],'creation':_0xb198ba?.[_0x392b1f(0x451)],'desc':_0xb198ba?.[_0x392b1f(0x6d3)],'restrict':_0xb198ba?.['restrict'],'announce':_0xb198ba?.[_0x392b1f(0x5c8)],'image':_0x5aa446[_0x57e4fb]});}return _0x28f4c9;}catch(_0x21e360){throw new k('Error\x20fetching\x20group',_0x21e360['toString']());}}async[a0_0x58753f(0x56f)](_0x514d73){const _0x8a095f=a0_0x58753f;try{let _0x287d98=await this[_0x8a095f(0x299)][_0x8a095f(0x55a)](_0x514d73[_0x8a095f(0x4d8)]);return{'inviteUrl':_0x8a095f(0x25f)+_0x287d98,'inviteCode':_0x287d98};}catch(_0x5defb){throw new k(_0x8a095f(0x5ac),_0x5defb[_0x8a095f(0x623)]());}}async[a0_0x58753f(0xdc)](_0x332cf1){const _0x5e973a=a0_0x58753f;try{let _0x4ac937=await this[_0x5e973a(0x299)]['groupRevokeInvite'](_0x332cf1['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x5e973a(0x25f)+_0x4ac937,'inviteCode':_0x4ac937};}catch(_0x1cec41){throw new k(_0x5e973a(0x690),_0x1cec41[_0x5e973a(0x623)]());}}async[a0_0x58753f(0x539)](_0x126214){const _0x307671=a0_0x58753f;try{if((0x0,$[_0x307671(0x5e9)])(_0x126214[_0x307671(0x56f)]))var _0x351331=_0x126214['inviteCode'][_0x307671(0x610)]('/')[0x3];else var _0x351331=_0x126214[_0x307671(0x56f)];let _0x266b39=await this[_0x307671(0x299)][_0x307671(0x231)](_0x351331);return this[_0x307671(0x46b)]['verbose'](this[_0x307671(0x479)]+'\x20('+this[_0x307671(0x339)][_0x307671(0x6ab)]+_0x307671(0x2b9)+_0x266b39),{'join':!0x0,'inviteCode':_0x351331,'groupJid':_0x266b39};}catch(_0x22bd07){throw new k('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x22bd07['toString']());}}async[a0_0x58753f(0x114)](_0x24e326){const _0xa9f32d=a0_0x58753f;try{return{'participants':(await this[_0xa9f32d(0x299)]['groupMetadata'](_0x24e326['groupJid']))[_0xa9f32d(0x144)]};}catch(_0x113c27){throw new k('No\x20participants',_0x113c27[_0xa9f32d(0x623)]());}}async[a0_0x58753f(0x55d)](_0x4d1df3){const _0x2a1fa5=a0_0x58753f;try{let _0xdae01f=_0x4d1df3[_0x2a1fa5(0x144)][_0x2a1fa5(0x378)](_0x21b77c=>this[_0x2a1fa5(0x72a)](_0x21b77c));return{'updateParticipants':await this[_0x2a1fa5(0x299)][_0x2a1fa5(0x2ab)](_0x4d1df3[_0x2a1fa5(0x4d8)],_0xdae01f,_0x4d1df3[_0x2a1fa5(0x17a)])};}catch(_0x1ba359){throw new w(_0x2a1fa5(0x35d),_0x1ba359['toString']());}}async['toggleEphemeral'](_0x38d06a){const _0x1faf23=a0_0x58753f;try{let _0x617f10=await this['client']['groupToggleEphemeral'](_0x38d06a[_0x1faf23(0x4d8)],_0x38d06a[_0x1faf23(0x3d8)]);return{'success':!0x0};}catch(_0x4a0d0a){throw new w('Error\x20updating\x20setting',_0x4a0d0a[_0x1faf23(0x623)]());}}async['leaveGroup'](_0x24d330){const _0x5c314d=a0_0x58753f;try{return await this[_0x5c314d(0x299)][_0x5c314d(0x3ac)](_0x24d330['groupJid']),{'groupJid':_0x24d330['groupJid'],'leave':!0x0};}catch(_0x1865e5){throw new w(_0x5c314d(0x23f),_0x1865e5['toString']());}}async[a0_0x58753f(0x768)](_0x453f37){const _0x3bda5f=a0_0x58753f;return await this[_0x3bda5f(0x1b8)](_0x453f37[_0x3bda5f(0x32d)],{'poll':{'name':_0x453f37['pollMessage']?.[_0x3bda5f(0x730)],'selectableCount':_0x453f37[_0x3bda5f(0x768)][_0x3bda5f(0x274)],'values':_0x453f37['pollMessage'][_0x3bda5f(0x731)]}},_0x453f37?.[_0x3bda5f(0x2a3)]);}async[a0_0x58753f(0x466)](_0x11af25){const _0x42224c=a0_0x58753f;return await this['sendMessageWithTyping'](_0x11af25[_0x42224c(0x32d)],{'listMessage':{'title':_0x11af25[_0x42224c(0x466)][_0x42224c(0x6b0)],'description':_0x11af25[_0x42224c(0x466)][_0x42224c(0x4e3)],'buttonText':_0x11af25[_0x42224c(0x466)]?.[_0x42224c(0x10c)],'footerText':_0x11af25[_0x42224c(0x466)]?.[_0x42224c(0x6af)],'sections':_0x11af25[_0x42224c(0x466)]['sections'],'listType':0x2}},_0x11af25?.[_0x42224c(0x2a3)]);}async[a0_0x58753f(0x19a)](_0x5850af){const _0x336cc3=a0_0x58753f;let _0x2d4e6c;if(_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x4bb)]===_0x336cc3(0x445)){let _0x433d19=_0x5850af['menuMessage'][_0x336cc3(0x4f4)]['indexOf']('\x0a'),_0x130988='',_0x11f1b1='';_0x433d19!==-0x1?(_0x130988=_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x4f4)][_0x336cc3(0x755)](0x0,_0x433d19)[_0x336cc3(0x24c)](),_0x11f1b1=_0x5850af[_0x336cc3(0x19a)]['text'][_0x336cc3(0x755)](_0x433d19+0x1)):_0x11f1b1=_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x4f4)];let _0x19f3fc=_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x527)][_0x336cc3(0x56a)](_0xb98ea6=>_0xb98ea6['trim']()!==''),_0x1255be=this[_0x336cc3(0x308)](_0x19f3fc);_0x2d4e6c={'listMessage':{'title':_0x130988,'description':_0x11f1b1,'buttonText':_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x10c)]||_0x336cc3(0x3e3),'footerText':_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x6af)],'sections':_0x1255be,'listType':0x2}};}else{if(_0x5850af['menuMessage'][_0x336cc3(0x4bb)]===_0x336cc3(0x1b0)){let _0x4ae4f0=_0x5850af['menuMessage']['choices'][_0x336cc3(0x56a)](_0x3a9986=>!(_0x3a9986[_0x336cc3(0x45a)]('[')&&_0x3a9986[_0x336cc3(0x413)](']'))&&_0x3a9986[_0x336cc3(0x24c)]()!=='')['map'](_0x35696c=>_0x35696c[_0x336cc3(0x610)]('\x0a')[0x0]);_0x2d4e6c={'poll':{'name':_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x4f4)],'selectableCount':_0x5850af[_0x336cc3(0x19a)][_0x336cc3(0x274)]||0x1,'values':_0x4ae4f0}};}}return await this[_0x336cc3(0x1b8)](_0x5850af[_0x336cc3(0x32d)],_0x2d4e6c,_0x5850af?.[_0x336cc3(0x2a3)]);}[a0_0x58753f(0x308)](_0x2306fa){const _0x3cc892=a0_0x58753f;let _0xee3a3e=[],_0x731937={'rows':[]};return _0x2306fa['forEach'](_0x32a452=>{const _0xe673b0=a0_0x326c;if(_0x32a452[_0xe673b0(0x45a)]('[')&&_0x32a452[_0xe673b0(0x413)](']'))_0x731937['rows'][_0xe673b0(0x676)]>0x0&&_0xee3a3e[_0xe673b0(0x174)](_0x731937),_0x731937={'title':_0x32a452[_0xe673b0(0x3f0)](0x1,-0x1),'rows':[]};else{let _0x43c520=_0x32a452[_0xe673b0(0x610)]('\x0a')[_0xe673b0(0x378)](_0x1bfd2d=>_0x1bfd2d['trim']()),_0x389315=_0x43c520[0x0],_0x5a9708=_0x43c520[0x1]||null,_0x28768b=_0x43c520[0x2]||_0x389315;_0x731937[_0xe673b0(0x525)][_0xe673b0(0x174)]({'title':_0x389315,'description':_0x5a9708,'rowId':_0x28768b});}}),_0x731937[_0x3cc892(0x525)]['length']>0x0&&_0xee3a3e['push'](_0x731937),_0xee3a3e;}async['updateMessage'](_0x1d678d,_0x58b949){const _0x527d71=a0_0x58753f;if(await this[_0x527d71(0x20e)](_0x1d678d,!0x0)){let _0x4b2ddf={'where':{'_id':_0x1d678d['id']}},_0x404011={'status':[_0x58b949['status']][0x0]};try{let _0x7342e6=await this[_0x527d71(0x628)]['message'][_0x527d71(0x4cd)](_0x4b2ddf,_0x404011,this[_0x527d71(0x339)]['wuid']);_0x7342e6&&q(this[_0x527d71(0x479)],_0x527d71(0x4a4),{'message':_0x7342e6});}catch{}}}[a0_0x58753f(0x4d1)](_0x560ac1){const _0x3b6b8c=a0_0x58753f;let _0x2b6fd2=[];return _0x560ac1[_0x3b6b8c(0x537)](_0x3ac86c=>{const _0x5844aa=_0x3b6b8c;_0x3ac86c['title']&&_0x2b6fd2[_0x5844aa(0x174)]('['+_0x3ac86c['title']+']'),_0x3ac86c[_0x5844aa(0x525)][_0x5844aa(0x537)](_0x55e5ed=>{const _0x181e82=_0x5844aa;_0x2b6fd2[_0x181e82(0x174)](_0x55e5ed[_0x181e82(0x6b0)]);});}),_0x2b6fd2[_0x3b6b8c(0x4c2)]('|');}[a0_0x58753f(0x63b)](_0x34f9c5){const _0x5a60b4=a0_0x58753f;let _0x479c57=_0x34f9c5['replace'](/\\n/g,'\x0a')[_0x5a60b4(0x610)]('\x0a')['filter'](_0x12e70a=>_0x12e70a[_0x5a60b4(0x1db)]('TEL')||_0x12e70a[_0x5a60b4(0x1db)](_0x5a60b4(0x31c))),_0x347665='';return _0x479c57['forEach'](_0x528368=>{const _0x5c46a7=_0x5a60b4;let _0x157b0a=/TEL(?:.*):(.+)/,_0xd524d=/EMAIL(?:.*):(.+)/,_0x2c7246=_0x528368[_0x5c46a7(0x543)](_0x157b0a),_0x10d602=_0x528368[_0x5c46a7(0x543)](_0xd524d);if(_0x2c7246){let _0x2bb61d=_0x2c7246[0x1][_0x5c46a7(0x36c)](/-| |\+|\(|\)/g,'')['trim']();_0x347665+=_0x5c46a7(0x37c)+_0x2bb61d+'\x0a';}else{if(_0x10d602){let _0x2b91bf=_0x10d602[0x1][_0x5c46a7(0x24c)]();_0x347665+=_0x5c46a7(0x6f1)+_0x2b91bf+'\x0a';}}}),_0x347665['trim']();}async[a0_0x58753f(0x12f)](_0x59473c,_0x55b06e,_0x2c7556){const _0x386741=a0_0x58753f;if(!_0x59473c[_0x386741(0x50f)])return;let _0x5d66f0=_0x55b06e[_0x386741(0x54b)][_0x386741(0x41f)][_0x386741(0x36c)](/:\d{1,2}@/g,'@'),_0x4848a8=_0x55b06e['key'][_0x386741(0x3a1)],_0x22e3aa=_0x5d66f0[_0x386741(0x413)](_0x386741(0x2f5)),_0x4b62b0=_0x55b06e[_0x386741(0x374)]?.[_0x386741(0x4f4)]||_0x55b06e[_0x386741(0x374)]?.[_0x386741(0x135)]||_0x55b06e['message_normalized']?.[_0x386741(0x5fc)]||_0x55b06e[_0x386741(0x374)]?.[_0x386741(0x730)],_0x3cbdc4={'lastmsg':_0x55b06e[_0x386741(0x6ef)]||Date[_0x386741(0x447)](),'unreadcount':_0x4848a8?0x0:0x1,..._0x4848a8||_0x22e3aa?{}:{'name':_0x55b06e[_0x386741(0x2c0)]},..._0x22e3aa?{'group':_0x22e3aa}:{}},_0x16565e=await this['repository']['chat'][_0x386741(0x614)]({'where':{'_id':_0x5d66f0}},_0x3cbdc4,this[_0x386741(0x339)][_0x386741(0x6ab)],{'new':!0x0,'upsert':!0x0});if(_0x16565e['imported']){let _0x523011=await this[_0x386741(0x628)][_0x386741(0x73b)][_0x386741(0x53a)]({'where':{}},this[_0x386741(0x339)][_0x386741(0x6ab)]),_0x56f3df=new Set(_0x523011[_0x386741(0x378)](_0x4f0183=>_0x4f0183[_0x386741(0x29f)])),_0x2d2ab2=(_0x16565e['leadInfo']?.['etiquetas']||[])[_0x386741(0x56a)](_0x244696=>_0x56f3df[_0x386741(0x206)](_0x244696)),_0x28d21c={'leadInfo.etiquetas':_0x2d2ab2,'imported':!0x1};_0x16565e=await this['repository'][_0x386741(0x181)][_0x386741(0x614)]({'where':{'_id':_0x5d66f0}},_0x28d21c,this['instance'][_0x386741(0x6ab)]);for(let _0x71ad26 of _0x2d2ab2)await this[_0x386741(0x3f6)](_0x71ad26,_0x5d66f0);}if(!_0x22e3aa&&(!_0x16565e?.['leadInfo']||!_0x16565e[_0x386741(0x56b)][_0x386741(0x1de)])&&_0x55b06e['pushName']&&!_0x4848a8&&(_0x16565e=await this[_0x386741(0x628)]['chat'][_0x386741(0x614)]({'where':{'_id':_0x5d66f0}},{'leadInfo.nome':_0x55b06e[_0x386741(0x2c0)]},this['instance']['wuid'],{'new':!0x0,'upsert':!0x0})),_0x2c7556===_0x386741(0x4d9)&&_0x4848a8&&this[_0x386741(0x2b3)]?.['flowConfig'][_0x386741(0x2e7)]&&!_0x4b62b0[_0x386741(0x45a)](this[_0x386741(0x2b3)]?.['flowConfig'][_0x386741(0x16a)])){let _0x244e15=(this['AutomateSystem']?.[_0x386741(0x5f2)][_0x386741(0x100)]||0x5)*0xea60,_0x538bc7=Date[_0x386741(0x447)]()+_0x244e15;_0x16565e?.['leadInfo']?.['desativadoFluxoAte']===0x0||(await this[_0x386741(0x628)][_0x386741(0x181)][_0x386741(0x614)]({'where':{'_id':_0x5d66f0}},{'leadInfo.desativadoFluxoAte':_0x538bc7},this['instance']['wuid'],{'new':!0x0,'upsert':!0x1}),this[_0x386741(0x46b)][_0x386741(0x19c)](this[_0x386741(0x479)]+'\x20('+this[_0x386741(0x339)]['wuid']+_0x386741(0x35e)+_0x538bc7+'.'));}if(_0x16565e)q(this[_0x386741(0x479)],_0x386741(0x4a0),{'chat':_0x16565e});else{this[_0x386741(0x46b)]['error'](this['instanceName']+'\x20('+this[_0x386741(0x339)]['wuid']+_0x386741(0x6f3));return;}if(!this[_0x386741(0x2b3)]?.[_0x386741(0x5f2)][_0x386741(0x2e7)])return this[_0x386741(0x46b)][_0x386741(0x19c)](this['instanceName']+'\x20('+this['instance'][_0x386741(0x6ab)]+_0x386741(0x60d)),null;if(_0x16565e[_0x386741(0x29f)]['includes'](_0x386741(0x2f5))&&this[_0x386741(0x2b3)]?.[_0x386741(0x5f2)][_0x386741(0x15c)]===!0x0)return this['logger']['verbose'](this[_0x386741(0x479)]+'\x20('+this[_0x386741(0x339)][_0x386741(0x6ab)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x16565e[_0x386741(0x56b)]){if(_0x16565e['leadInfo'][_0x386741(0x55f)]===0x0||_0x16565e[_0x386741(0x56b)][_0x386741(0x57d)])return this[_0x386741(0x46b)][_0x386741(0x19c)](this[_0x386741(0x479)]+'\x20('+this[_0x386741(0x339)]['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x5d66f0+_0x386741(0x48a)),null;if(_0x16565e[_0x386741(0x56b)][_0x386741(0x55f)]>Date['now']()&&!_0x55b06e[_0x386741(0x374)]?.[_0x386741(0x5fc)])return this[_0x386741(0x46b)][_0x386741(0x19c)](this['instanceName']+'\x20('+this[_0x386741(0x339)][_0x386741(0x6ab)]+_0x386741(0x4f7)+new Date(_0x16565e[_0x386741(0x56b)]['desativadoFluxoAte'])['toLocaleString']()+_0x386741(0x48a)),null;}this[_0x386741(0x46b)]['verbose'](this[_0x386741(0x479)]+'\x20('+this[_0x386741(0x339)][_0x386741(0x6ab)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x386741(0x521)](_0x2c7556,_0x55b06e);}async[a0_0x58753f(0x421)](_0x414005,_0x253f47){const _0x42cacf=a0_0x58753f;if(_0x253f47[_0x42cacf(0x50f)]){let _0x14ca31=_0x414005[_0x42cacf(0x378)](async _0x49c168=>{const _0x18f488=_0x42cacf;try{let _0x1a1515={'_id':_0x49c168[_0x18f488(0x29f)],'owner':_0x49c168[_0x18f488(0x4a8)],'lastcache':0x0};if(_0x49c168['group']!==null&&(_0x1a1515['group']=_0x49c168[_0x18f488(0x59a)]),_0x49c168[_0x18f488(0x730)]!==null&&(_0x1a1515[_0x18f488(0x730)]=_0x49c168[_0x18f488(0x730)]),_0x49c168[_0x18f488(0x443)]!==null&&(_0x1a1515[_0x18f488(0x443)]=_0x49c168[_0x18f488(0x443)]),_0x49c168[_0x18f488(0x698)]!==null&&(_0x1a1515[_0x18f488(0x698)]=_0x49c168['imagechat']),_0x49c168[_0x18f488(0x698)]===null&&(_0x1a1515[_0x18f488(0x698)]=_0x18f488(0x560)),_0x49c168[_0x18f488(0x6da)]!==null&&(_0x1a1515[_0x18f488(0x6da)]=_0x49c168[_0x18f488(0x6da)]),_0x49c168['archived']!==null&&(_0x1a1515[_0x18f488(0x73e)]=_0x49c168[_0x18f488(0x73e)]),_0x49c168[_0x18f488(0x211)]!==null&&(_0x1a1515[_0x18f488(0x211)]=_0x49c168[_0x18f488(0x211)]),Object[_0x18f488(0x14b)](_0x1a1515)[_0x18f488(0x676)]>0x0)return await this[_0x18f488(0x628)][_0x18f488(0x181)][_0x18f488(0x614)]({'where':{'_id':_0x49c168[_0x18f488(0x29f)]}},_0x1a1515,this[_0x18f488(0x339)][_0x18f488(0x6ab)]);}catch(_0x19b6d9){return console[_0x18f488(0x47b)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x49c168['_id']+':',_0x19b6d9),null;}}),_0x30338d=(await Promise[_0x42cacf(0x186)](_0x14ca31))[_0x42cacf(0x56a)](_0x5d1e65=>_0x5d1e65!==null)[_0x42cacf(0x676)];this[_0x42cacf(0x46b)][_0x42cacf(0x19c)](this['instanceName']+'\x20('+this[_0x42cacf(0x339)][_0x42cacf(0x6ab)]+_0x42cacf(0x2b9)+_0x30338d+_0x42cacf(0x49c)+this['instance'][_0x42cacf(0x6ab)]+_0x42cacf(0x248));}}async['readMessageBot'](_0x27e1c2){const _0x1004a5=a0_0x58753f;this[_0x1004a5(0x46b)][_0x1004a5(0x19c)](this[_0x1004a5(0x479)]+'\x20('+this[_0x1004a5(0x339)][_0x1004a5(0x6ab)]+_0x1004a5(0x3fa));let _0x13cdf1={'readMessages':[{'remoteJid':_0x27e1c2['chatLog'][_0x1004a5(0xe8)][_0x1004a5(0x54b)][_0x1004a5(0x41f)],'fromMe':_0x27e1c2[_0x1004a5(0x364)]['lastReceivedMessage'][_0x1004a5(0x54b)]['fromMe'],'id':_0x27e1c2[_0x1004a5(0x364)][_0x1004a5(0xe8)][_0x1004a5(0x54b)]['id']}]};await this[_0x1004a5(0x5f8)](_0x13cdf1);}async['StartBot'](_0x3d6d7d,_0x3b4cec){const _0x5da7ac=a0_0x58753f;try{let {key:_0x1331e8,message_normalized:_0x3a2845}=_0x3b4cec,_0x34baa9=_0x3a2845,_0x6b150b=_0x3a2845['text']||_0x3a2845[_0x5da7ac(0x135)]||_0x3a2845[_0x5da7ac(0x5fc)]||_0x3a2845['name'],_0x2991fa=_0x1331e8[_0x5da7ac(0x41f)],_0x95870c;if(_0x34baa9[_0x5da7ac(0x54b)][_0x5da7ac(0x3a1)]&&_0x6b150b[_0x5da7ac(0x24c)]()!==this['AutomateSystem']?.['flowConfig'][_0x5da7ac(0x545)]['trim']())return this[_0x5da7ac(0x46b)]['verbose'](this[_0x5da7ac(0x479)]+'\x20('+this[_0x5da7ac(0x339)][_0x5da7ac(0x6ab)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x34baa9[_0x5da7ac(0x54b)][_0x5da7ac(0x3a1)]&&_0x6b150b['trim']()===this['AutomateSystem']?.[_0x5da7ac(0x5f2)][_0x5da7ac(0x545)]['trim']()){this[_0x5da7ac(0x46b)]['verbose'](this[_0x5da7ac(0x479)]+'\x20('+this[_0x5da7ac(0x339)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x4a2b28=await this[_0x5da7ac(0x628)]['flowConversation'][_0x5da7ac(0x53a)]({'remoteJid':_0x2991fa,'status':'open'},this[_0x5da7ac(0x339)][_0x5da7ac(0x6ab)]);this[_0x5da7ac(0x46b)]['verbose'](this[_0x5da7ac(0x479)]+'\x20('+this['instance'][_0x5da7ac(0x6ab)]+_0x5da7ac(0x60e)+_0x4a2b28);let _0xec1857=Date[_0x5da7ac(0x447)](),_0x14100f;return this[_0x5da7ac(0x2b3)]?.[_0x5da7ac(0x5f2)][_0x5da7ac(0x292)]===0x0?_0x14100f={'stoppedUntil':_0xec1857+0x7591f6200}:_0x14100f={'stoppedUntil':_0xec1857+this[_0x5da7ac(0x2b3)]?.['flowConfig'][_0x5da7ac(0x292)]*0x3c*0x3e8},this[_0x5da7ac(0x46b)]['verbose'](this['instanceName']+'\x20('+this[_0x5da7ac(0x339)][_0x5da7ac(0x6ab)]+_0x5da7ac(0x44e)+_0x14100f),this['updateStopChat'](_0x95870c,_0x14100f[_0x5da7ac(0x459)]),null;}if(_0x6b150b&&_0x6b150b['startsWith'](this['AutomateSystem']?.[_0x5da7ac(0x5f2)][_0x5da7ac(0x16a)])&&_0x6b150b[_0x5da7ac(0x676)]>0x4){let _0x3a3fbb=await this[_0x5da7ac(0x628)]['flow'][_0x5da7ac(0x2e1)]({'where':{'startCommandWord':_0x6b150b}},this[_0x5da7ac(0x339)][_0x5da7ac(0x6ab)]);if(this['logger']['verbose'](this[_0x5da7ac(0x479)]+'\x20('+this['instance'][_0x5da7ac(0x6ab)]+_0x5da7ac(0x5dd)),_0x3a3fbb)_0x95870c=await this[_0x5da7ac(0x2fc)](_0x3a3fbb,_0x34baa9[_0x5da7ac(0x54b)],_0x34baa9);else return this[_0x5da7ac(0x46b)][_0x5da7ac(0x19c)](this['instanceName']+'\x20('+this['instance'][_0x5da7ac(0x6ab)]+_0x5da7ac(0x4a3)),null;}else _0x95870c=await this[_0x5da7ac(0x111)](_0x2991fa,_0x34baa9);if(_0x95870c){this[_0x5da7ac(0x46b)][_0x5da7ac(0x19c)](this[_0x5da7ac(0x479)]+'\x20('+this[_0x5da7ac(0x339)][_0x5da7ac(0x6ab)]+_0x5da7ac(0x5d6)),!_0x1331e8['fromMe']&&_0x95870c[_0x5da7ac(0x4f9)]&&this[_0x5da7ac(0x3b4)](_0x95870c);let _0x404590=await this[_0x5da7ac(0x3b3)](_0x95870c);_0x404590&&await this[_0x5da7ac(0x1f2)](_0x95870c,_0x404590);}}catch(_0x56118f){this['logger'][_0x5da7ac(0x47b)](this[_0x5da7ac(0x479)]+'\x20('+this[_0x5da7ac(0x339)][_0x5da7ac(0x6ab)]+_0x5da7ac(0x2d3)+(_0x56118f instanceof Error?_0x56118f['message']:JSON[_0x5da7ac(0x212)](_0x56118f,null,0x2)));}}[a0_0x58753f(0x115)](_0x434339,_0x386fa6='',_0x5084f6={},_0x18c41e=!0x0){const _0x2fb9fd=a0_0x58753f;for(let _0x47eba9 in _0x434339){let _0x5a5356=_0x18c41e?'_'+_0x47eba9:''+_0x386fa6+_0x47eba9;typeof _0x434339[_0x47eba9]==_0x2fb9fd(0x759)&&_0x434339[_0x47eba9]!==null?this[_0x2fb9fd(0x115)](_0x434339[_0x47eba9],_0x5a5356+'.',_0x5084f6,!0x1):_0x5084f6[_0x5a5356]=String(_0x434339[_0x47eba9]);}return _0x5084f6;}[a0_0x58753f(0x356)](_0x1a7690){const _0x2a8e4a=a0_0x58753f;let _0x228913={};for(let _0x47a4b8 of _0x1a7690)typeof _0x47a4b8[_0x2a8e4a(0x730)]=='string'&&typeof _0x47a4b8[_0x2a8e4a(0x2ed)]=='string'&&(_0x228913[_0x47a4b8[_0x2a8e4a(0x730)]]=_0x47a4b8[_0x2a8e4a(0x2ed)]);return _0x228913;}async[a0_0x58753f(0x3b3)](_0x3bffb5){const _0x450792=a0_0x58753f;if(!this[_0x450792(0x2b3)]?.[_0x450792(0x5f2)][_0x450792(0x2e7)]||_0x3bffb5['status']!=='open'&&_0x3bffb5[_0x450792(0x562)]==='')return null;let _0x4a2d8d=_0x3bffb5[_0x450792(0x364)][_0x450792(0x5bc)]||_0x450792(0x3eb);typeof _0x3bffb5[_0x450792(0x364)]['lastCondition']>'u'&&(_0x3bffb5[_0x450792(0x364)]['lastCondition']=!0x0);let _0x1a76e1=_0x3bffb5[_0x450792(0x364)][_0x450792(0x177)];this[_0x450792(0x46b)][_0x450792(0x19c)](this[_0x450792(0x479)]+'\x20('+this[_0x450792(0x339)]['wuid']+_0x450792(0x4f1)+_0x4a2d8d+_0x450792(0x6e8)+_0x1a76e1);let _0x215cad=_0x4a2d8d===_0x450792(0x3eb)?_0x3bffb5[_0x450792(0x239)][_0x450792(0x53a)](_0x51d861=>_0x51d861[_0x450792(0x4bb)]===_0x450792(0x3eb)):_0x3bffb5['blocks'][_0x450792(0x53a)](_0x16101d=>_0x16101d[_0x450792(0x29f)][_0x450792(0x623)]()===_0x4a2d8d[_0x450792(0x623)]());if(!_0x215cad)return this[_0x450792(0x46b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x450792(0x6ab)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x4a2d8d),null;let _0x403e15={'_pushName':_0x3bffb5[_0x450792(0x364)][_0x450792(0xe8)][_0x450792(0x2c0)],..._0x3bffb5['chatLog'][_0x450792(0x639)]},_0x89bd53=null;if(_0x3bffb5['waitingMenu_id']){let _0x4264aa=_0x3bffb5[_0x450792(0x364)][_0x450792(0xe8)][_0x450792(0x5fc)],_0x86102b=_0x3bffb5[_0x450792(0x3bc)]['find'](_0x4c5ee9=>_0x4c5ee9['option']===_0x4264aa);if(_0x86102b){let _0x211bdc=_0x86102b[_0x450792(0x5e3)];if(_0x89bd53=_0x3bffb5[_0x450792(0x239)]['find'](_0x17c10c=>_0x17c10c[_0x450792(0x57b)]===_0x211bdc&&_0x17c10c[_0x450792(0x43a)]===0x1),_0x215cad[_0x450792(0x2de)][_0x450792(0x765)]){let _0x164183={'id':_0x3bffb5[_0x450792(0x562)],'remoteJid':_0x3bffb5[_0x450792(0x41f)],'fromMe':!0x0};await this[_0x450792(0x6ce)](_0x164183);}if(_0x215cad[_0x450792(0x2de)]['pollOnReplyDelete']&&_0x215cad[_0x450792(0x2de)][_0x450792(0x455)]&&_0x215cad['uazapi'][_0x450792(0x2ee)]==='poll'){let _0x1d31d3={'number':_0x3bffb5['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x3bffb5[_0x450792(0x2fd)]+_0x450792(0x2c3)+_0x4264aa}};await this[_0x450792(0x395)](_0x1d31d3);}_0x3bffb5['status']=_0x450792(0x6b6),_0x3bffb5[_0x450792(0x562)]='',_0x3bffb5[_0x450792(0x2fd)]='',_0x3bffb5['waitingMenu_replyOptions']=[];}else{this[_0x450792(0x46b)][_0x450792(0x19c)](this[_0x450792(0x479)]+'\x20('+this[_0x450792(0x339)]['wuid']+_0x450792(0x1cf));let _0x3a8b09={'activatedCount':_0x3bffb5[_0x450792(0x364)][_0x450792(0x493)]['filter'](_0x184590=>String(_0x184590[_0x450792(0x6e9)])===String(_0x4a2d8d))[_0x450792(0x676)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x215cad[_0x450792(0x2de)]['pollErrorMessage']){let _0x30c833={'number':_0x3bffb5[_0x450792(0x41f)],'options':{'delay':0x0},'textMessage':{'text':_0x215cad[_0x450792(0x2de)]['pollErrorMessage']}};await this[_0x450792(0x395)](_0x30c833);}if(_0x215cad[_0x450792(0x3f7)]!==void 0x0&&_0x3a8b09[_0x450792(0x315)]>=_0x215cad[_0x450792(0x3f7)]){let _0x2d6729=Date[_0x450792(0x447)](),_0x53d878=_0x215cad[_0x450792(0x54d)]??0xa;isNaN(_0x53d878)&&(_0x53d878=0xa);let _0x33990f=_0x2d6729+_0x53d878*0x3c*0x3e8;_0x3a8b09[_0x450792(0x71b)]=_0x33990f,_0x3a8b09[_0x450792(0x6d4)][_0x450792(0x174)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x450792(0x310)](_0x3bffb5,_0x33990f),_0x3bffb5[_0x450792(0x562)]='',_0x3bffb5[_0x450792(0x2fd)]='',_0x3bffb5[_0x450792(0x3bc)]=[];}return this[_0x450792(0x1b7)](_0x3bffb5,_0x215cad,_0x3a8b09,!0x0),null;}}if(_0x1a76e1&&_0x215cad[_0x450792(0x5e3)]&&!_0x3bffb5[_0x450792(0x562)]){let _0x10047=_0x3bffb5[_0x450792(0x239)]['filter'](_0x49ac6d=>_0x49ac6d[_0x450792(0x57b)][_0x450792(0x623)]()===_0x215cad['next_groupId']['toString']())[_0x450792(0x42f)]((_0x45e189,_0x447814)=>_0x45e189[_0x450792(0x43a)]-_0x447814[_0x450792(0x43a)]);_0x10047[_0x450792(0x676)]>0x0&&(_0x89bd53=_0x10047[0x0]);}if(!_0x89bd53){let _0xb9655a=_0x215cad[_0x450792(0x57b)],_0x547e6c=_0x3bffb5['blocks'][_0x450792(0x56a)](_0x5cad74=>_0x5cad74['groupId']===_0xb9655a&&_0x5cad74[_0x450792(0x43a)]>_0x215cad['order'])[_0x450792(0x42f)]((_0x41359b,_0x43d272)=>_0x41359b[_0x450792(0x43a)]-_0x43d272[_0x450792(0x43a)]);_0x547e6c[_0x450792(0x676)]>0x0&&(_0x89bd53=_0x547e6c[0x0]);}if(!_0x89bd53)return _0x3bffb5[_0x450792(0x593)]=_0x450792(0x147),null;_0x3bffb5[_0x450792(0x364)][_0x450792(0x639)]=_0x403e15;let _0x3ca8a3=JSON[_0x450792(0x638)](JSON['stringify'](_0x89bd53));return this['replaceVariablesInObject'](_0x3ca8a3,_0x3bffb5['chatLog'][_0x450792(0x639)]),_0x3bffb5[_0x450792(0x364)]['lastBlockId']=_0x3ca8a3['_id'],_0x3bffb5[_0x450792(0x364)][_0x450792(0x177)]=!0x0,_0x3ca8a3;}['replaceVariables'](_0x330748,_0x3cfc75){const _0x414981=a0_0x58753f;return _0x330748[_0x414981(0x36c)](/\{\{([^}]+)\}\}/g,(_0x407d63,_0x58aae5)=>_0x3cfc75[_0x58aae5]||'');}[a0_0x58753f(0x26c)](_0xe1a36d,_0x40458f){const _0x319758=a0_0x58753f;for(let _0x1f788b in _0xe1a36d)typeof _0xe1a36d[_0x1f788b]==_0x319758(0x61a)?_0xe1a36d[_0x1f788b]=this[_0x319758(0x3bd)](_0xe1a36d[_0x1f788b],_0x40458f):typeof _0xe1a36d[_0x1f788b]==_0x319758(0x759)&&this['replaceVariablesInObject'](_0xe1a36d[_0x1f788b],_0x40458f);}async[a0_0x58753f(0x210)](_0x3d7d94,_0x4d5df7){const _0x140836=a0_0x58753f;let _0x181785=_0x4d5df7[_0x140836(0x29f)];if(_0x3d7d94[_0x140836(0x364)]&&_0x3d7d94['chatLog'][_0x140836(0x493)]){let _0x84228b=_0x3d7d94['chatLog']['blockLogs'][_0x140836(0x56a)](_0x1c3bee=>String(_0x1c3bee[_0x140836(0x6e9)])===String(_0x181785))[_0x140836(0x4c4)]();if(_0x84228b&&_0x84228b[_0x140836(0x47b)]&&_0x4d5df7[_0x140836(0x737)])return _0x3d7d94[_0x140836(0x593)]=_0x140836(0x147),await this[_0x140836(0x471)](_0x3d7d94),null;}if(_0x4d5df7[_0x140836(0x4bb)]===_0x140836(0x2de)&&_0x4d5df7[_0x140836(0x2de)][_0x140836(0x40d)]===_0x140836(0x249)&&_0x3d7d94['waitingMenu_id'])return _0x3d7d94['chatLog']['lastBlockId']=_0x181785,await this[_0x140836(0x471)](_0x3d7d94),null;let _0x417caa=await this[_0x140836(0x3b3)](_0x3d7d94);if(_0x3d7d94[_0x140836(0x364)]&&_0x3d7d94[_0x140836(0x364)][_0x140836(0x493)]){let _0x11c8b8=_0x3d7d94[_0x140836(0x364)][_0x140836(0x493)][_0x140836(0x56a)](_0x3fd787=>String(_0x3fd787['blockId'])===String(_0x181785))['length'];if(_0x4d5df7[_0x140836(0x3f7)]!==void 0x0&&_0x11c8b8>=_0x4d5df7[_0x140836(0x3f7)]){let _0x3c3369=Date[_0x140836(0x447)](),_0x3ad23f=_0x4d5df7[_0x140836(0x54d)]??0xa;isNaN(_0x3ad23f)&&(_0x3ad23f=0xa);let _0x54cbf5=_0x3c3369+_0x3ad23f*0x3c*0x3e8,_0x2f40e4={'newStoppedUntil':_0x54cbf5};return this[_0x140836(0x310)](_0x3d7d94,_0x54cbf5),this[_0x140836(0x1b7)](_0x3d7d94,_0x4d5df7,_0x2f40e4,!0x0),null;}}_0x417caa&&_0x417caa['type']!=='save'&&await this[_0x140836(0x1f2)](_0x3d7d94,_0x417caa),_0x417caa||await this[_0x140836(0x471)](_0x3d7d94),_0x417caa&&_0x417caa[_0x140836(0x4bb)]===_0x140836(0x195)&&(_0x3d7d94['chatLog']['lastBlockId']=_0x181785,await this[_0x140836(0x471)](_0x3d7d94));}async[a0_0x58753f(0x1f2)](_0x4d50a4,_0x5c2c72){const _0xadd46a=a0_0x58753f;try{let _0x406e79=_0x5c2c72[_0xadd46a(0x4bb)];this[_0xadd46a(0x46b)][_0xadd46a(0x19c)](this[_0xadd46a(0x479)]+'\x20('+this[_0xadd46a(0x339)][_0xadd46a(0x6ab)]+_0xadd46a(0x326)+_0x406e79);let _0x209756={'uazapi':()=>this[_0xadd46a(0x3bb)](_0x4d50a4,_0x5c2c72),'save':()=>this[_0xadd46a(0x49d)](_0x4d50a4,_0x5c2c72),'stop':()=>this['stopConversation'](_0x4d50a4,_0x5c2c72),'condition':()=>this[_0xadd46a(0x3a7)](_0x4d50a4,_0x5c2c72),'varedit':()=>this[_0xadd46a(0x59f)](_0x4d50a4,_0x5c2c72),'apirequest':()=>this['processApiRequest'](_0x4d50a4,_0x5c2c72),'goToFlow':()=>this['processgoToFlow'](_0x4d50a4,_0x5c2c72)}[_0x406e79];_0x209756&&await _0x209756();}catch(_0x4760d8){this['logger']['error'](this['instanceName']+'\x20('+this[_0xadd46a(0x339)][_0xadd46a(0x6ab)]+_0xadd46a(0x5a4)+(_0x4760d8 instanceof Error?_0x4760d8[_0xadd46a(0x5f5)]:JSON[_0xadd46a(0x212)](_0x4760d8,null,0x2)));}}async[a0_0x58753f(0x3e2)](_0x3cf50c,_0x3f111d){const _0xd548e6=a0_0x58753f;if(this[_0xd548e6(0x46b)][_0xd548e6(0x19c)](this[_0xd548e6(0x479)]+'\x20('+this[_0xd548e6(0x339)][_0xd548e6(0x6ab)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x3cf50c||!_0x3f111d)return this[_0xd548e6(0x46b)][_0xd548e6(0x47b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd548e6(0x348)),null;await this[_0xd548e6(0x1b7)](_0x3cf50c,_0x3f111d,{},!0x0,!0x0),console[_0xd548e6(0x5c1)](_0xd548e6(0x241)),console[_0xd548e6(0x5c1)](_0x3f111d);let _0x84295d=_0x3f111d['goToFlow'];console[_0xd548e6(0x5c1)](_0xd548e6(0x62d),_0x84295d),_0x3cf50c=await this[_0xd548e6(0x707)](_0x84295d,_0x3cf50c['remoteJid'],_0x3cf50c[_0xd548e6(0x364)][_0xd548e6(0x639)]),this['logger'][_0xd548e6(0x19c)](this['instanceName']+'\x20('+this[_0xd548e6(0x339)][_0xd548e6(0x6ab)]+_0xd548e6(0x748));let _0x3675fc=await this[_0xd548e6(0x3b3)](_0x3cf50c);_0x3675fc&&await this[_0xd548e6(0x1f2)](_0x3cf50c,_0x3675fc);}async[a0_0x58753f(0x707)](_0x3b5920,_0x112567,_0x2d69a6){const _0x4d2027=a0_0x58753f;this['logger'][_0x4d2027(0x19c)](this[_0x4d2027(0x479)]+'\x20('+this[_0x4d2027(0x339)][_0x4d2027(0x6ab)]+_0x4d2027(0x647));try{if(_0x3b5920=await this['repository'][_0x4d2027(0x57c)]['findOne']({'where':{'name':_0x3b5920}},this[_0x4d2027(0x339)][_0x4d2027(0x6ab)]),!_0x3b5920)return this[_0x4d2027(0x46b)]['error'](this[_0x4d2027(0x479)]+'\x20('+this[_0x4d2027(0x339)][_0x4d2027(0x6ab)]+_0x4d2027(0x14f)),null;let _0x503430=require('mongodb')[_0x4d2027(0x41b)],_0x31d7c3=Date[_0x4d2027(0x447)](),_0xe6a19b=_0x4d2027(0x3eb),_0x58c900={},_0x553683={},_0x20ae37={..._0x3b5920,'chatLog':null},_0xef82cf={'lastReceivedMessage':_0x58c900,'lastSendMessage':_0x553683,'lastBlockId':_0xe6a19b,'lastCondition':!0x0,'realVariables':_0x2d69a6};_0x20ae37['chatLog']=_0xef82cf,_0x20ae37[_0x4d2027(0x364)][_0x4d2027(0x639)]={..._0x2d69a6},delete _0x20ae37[_0x4d2027(0x29f)],_0x20ae37[_0x4d2027(0x29f)]=new _0x503430(),_0x20ae37[_0x4d2027(0x208)]=_0x31d7c3,_0x20ae37[_0x4d2027(0x593)]=_0x4d2027(0x6b6),_0x20ae37[_0x4d2027(0x41f)]=_0x112567;let _0x2e611f=await this[_0x4d2027(0x628)][_0x4d2027(0x1b5)]['updateOne'](_0x20ae37['_id'],_0x20ae37,this[_0x4d2027(0x339)]['wuid']);return this['logger'][_0x4d2027(0x19c)](this['instanceName']+'\x20('+this[_0x4d2027(0x339)][_0x4d2027(0x6ab)]+_0x4d2027(0x170)),_0x2e611f?_0x20ae37:null;}catch(_0x4b7934){throw this[_0x4d2027(0x46b)][_0x4d2027(0x47b)](this[_0x4d2027(0x479)]+'\x20('+this['instance'][_0x4d2027(0x6ab)]+_0x4d2027(0x554)+(_0x4b7934 instanceof Error?_0x4b7934[_0x4d2027(0x5f5)]:JSON[_0x4d2027(0x212)](_0x4b7934,null,0x2))),new w(_0x4b7934[_0x4d2027(0x5f5)]);}}async[a0_0x58753f(0x247)](_0x40aeb7,_0xdd3560){const _0x430fd4=a0_0x58753f;let _0x4111fc,_0x26a33f;try{let _0x5e8de2=_0xdd3560['apirequest'];if(!_0x5e8de2||!_0x5e8de2[_0x430fd4(0x534)]||!_0x5e8de2[_0x430fd4(0x4b1)])throw new Error(_0x430fd4(0x72d));let _0x6e4116;([_0x430fd4(0x54a),_0x430fd4(0x2ef),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x430fd4(0x6cd)](_0x322e8c=>_0x5e8de2[_0x430fd4(0x534)][_0x430fd4(0x1db)](_0x322e8c))||_0x5e8de2['requestFile'])&&(_0x6e4116='arraybuffer');let _0x4f89fe={'method':_0x5e8de2[_0x430fd4(0x4b1)],'url':_0x5e8de2[_0x430fd4(0x534)],'headers':_0x5e8de2['header']||{},'data':_0x5e8de2['body']||{},..._0x6e4116&&{'responseType':_0x6e4116}},_0x1f8e20=await(0x0,se[_0x430fd4(0x36d)])(_0x4f89fe),_0x382a9c=_0x1f8e20[_0x430fd4(0x335)][_0x430fd4(0x2c5)];if(_0x382a9c&&_0x382a9c[_0x430fd4(0x1db)](_0x430fd4(0x120))){_0x4111fc=_0x1f8e20[_0x430fd4(0x29e)];let _0x15cd22=_0x40aeb7[_0x430fd4(0x364)][_0x430fd4(0x639)],_0x4e9d00=this[_0x430fd4(0x115)](_0x4111fc);return Object['assign'](_0x15cd22,_0x4e9d00),_0x40aeb7[_0x430fd4(0x364)][_0x430fd4(0x639)]=_0x15cd22,_0x26a33f={'error':!0x1,'apiResponse':_0x4111fc},this[_0x430fd4(0x1b7)](_0x40aeb7,_0xdd3560,_0x26a33f),_0x4111fc;}if(_0x382a9c&&(_0x382a9c['includes'](_0x430fd4(0x4cf))||_0x382a9c['includes'](_0x430fd4(0x682))||_0x382a9c[_0x430fd4(0x1db)]('audio')||_0x382a9c[_0x430fd4(0x1db)]('video'))){this['logger'][_0x430fd4(0x19c)](this[_0x430fd4(0x479)]+'\x20('+this[_0x430fd4(0x339)][_0x430fd4(0x6ab)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x382a9c);let _0x21cf4a=(0x0,Ce['v4'])(),_0x1b47e5='',_0x5bbd90={'image/jpeg':'.jpg','image/png':_0x430fd4(0x5cb),'image/gif':'.gif','image/webp':_0x430fd4(0xf7),'image/svg+xml':_0x430fd4(0x6ed),'audio/mpeg':'.mp3','audio/ogg':_0x430fd4(0x446),'audio/wav':_0x430fd4(0x719),'video/mp4':_0x430fd4(0x51a),'video/webm':_0x430fd4(0x397),'video/ogg':'.ogv','text/plain':_0x430fd4(0x45e),'application/pdf':_0x430fd4(0x3aa),'application/msword':_0x430fd4(0x462),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x430fd4(0x43e),'application/vnd.ms-excel':_0x430fd4(0x513),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x430fd4(0x531),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x5bbd90[_0x382a9c]?(_0x1b47e5=_0x5bbd90[_0x382a9c],this[_0x430fd4(0x46b)][_0x430fd4(0x19c)](this['instanceName']+'\x20('+this[_0x430fd4(0x339)][_0x430fd4(0x6ab)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x1b47e5)):(_0x1b47e5='.error',this['logger']['verbose'](this[_0x430fd4(0x479)]+'\x20('+this['instance']['wuid']+_0x430fd4(0x367)+_0x1b47e5)),_0x21cf4a+=_0x1b47e5,this[_0x430fd4(0x46b)]['verbose'](this['instanceName']+'\x20('+this[_0x430fd4(0x339)]['wuid']+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x21cf4a);let _0x4599e8=this[_0x430fd4(0x6ae)]['get'](_0x430fd4(0x105))['URL'];if(!_0x4599e8){let _0x536dfb=this[_0x430fd4(0x6ae)]['get']('SSL_CONF');_0x4599e8=_0x430fd4(0x528)+(_0x536dfb&&_0x536dfb[_0x430fd4(0x106)][_0x430fd4(0x610)]('/')[0x4]);}let _0x13680c=Buffer[_0x430fd4(0x173)](_0x1f8e20[_0x430fd4(0x29e)]);await this[_0x430fd4(0x588)](_0x13680c,_0x21cf4a);let _0x2ad54f=_0x430fd4(0x433)+_0x21cf4a;_0x2ad54f=''+_0x4599e8+_0x2ad54f,_0x4111fc={'fileUrl':_0x2ad54f},_0x40aeb7[_0x430fd4(0x364)][_0x430fd4(0x639)][_0x430fd4(0x284)]=_0x2ad54f;let _0x28623d=_0x40aeb7[_0x430fd4(0x364)][_0x430fd4(0x639)],_0x1e65f8=this[_0x430fd4(0x115)](_0x4111fc);return Object[_0x430fd4(0x1c4)](_0x28623d,_0x1e65f8),_0x40aeb7[_0x430fd4(0x364)]['realVariables']=_0x28623d,_0x26a33f={'error':!0x1,'apiResponse':{'fileUrl':_0x2ad54f}},this[_0x430fd4(0x1b7)](_0x40aeb7,_0xdd3560,_0x26a33f),_0x4111fc;}}catch(_0x42e2ab){console[_0x430fd4(0x47b)](_0x430fd4(0x469),_0x42e2ab),_0x42e2ab['response']&&(_0x4111fc=_0x42e2ab['response'][_0x430fd4(0x29e)]);let _0xecf3d6=_0x40aeb7[_0x430fd4(0x364)][_0x430fd4(0x639)],_0x36c054=this['flattenObject'](_0x4111fc);return Object[_0x430fd4(0x1c4)](_0xecf3d6,_0x36c054),_0x40aeb7['chatLog'][_0x430fd4(0x639)]=_0xecf3d6,_0x26a33f={'error':!0x0,'errorLog':_0x42e2ab[_0x430fd4(0x623)](),'apiResponse':_0x4111fc},this[_0x430fd4(0x1b7)](_0x40aeb7,_0xdd3560,_0x26a33f),{'success':!0x1};}}[a0_0x58753f(0x20a)](_0x1b5b5b,_0x58efea){const _0x223886=a0_0x58753f;let _0x55de48=_0x375ca7=>{const _0x44ebf8=a0_0x326c;let _0x2e858e=_0x375ca7['replace'](/[^0-9.,-]/g,'')[_0x44ebf8(0x36c)](',','.'),_0x27484b=parseFloat(_0x2e858e);return isNaN(_0x27484b)?null:_0x27484b;},_0xda54d5=_0x58efea[_0x223886(0x365)],_0x14b81e=_0x58efea[_0x223886(0x270)];typeof _0xda54d5==_0x223886(0x61a)&&(_0xda54d5=this[_0x223886(0x3bd)](_0xda54d5,_0x1b5b5b[_0x223886(0x364)][_0x223886(0x639)])??''),typeof _0x14b81e==_0x223886(0x61a)&&(_0x14b81e=this[_0x223886(0x3bd)](_0x14b81e,_0x1b5b5b[_0x223886(0x364)][_0x223886(0x639)])??'');let _0x12424e=null;if(!_0x58efea[_0x223886(0x36f)])return null;switch(this[_0x223886(0x46b)][_0x223886(0x19c)](this[_0x223886(0x479)]+'\x20('+this[_0x223886(0x339)][_0x223886(0x6ab)]+_0x223886(0x5ee)+_0xda54d5),this[_0x223886(0x46b)][_0x223886(0x19c)](this[_0x223886(0x479)]+'\x20('+this[_0x223886(0x339)][_0x223886(0x6ab)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x14b81e),_0x58efea[_0x223886(0x36f)]){case'+':case'-':case'*':case'/':let _0x3ba31a=_0x55de48(_0xda54d5||'0'),_0x103e26=_0x55de48(_0x14b81e||'0');if(_0x3ba31a===null)return null;switch(_0x58efea['editOperator']){case'+':_0x12424e=_0x3ba31a+(_0x103e26??0x0);break;case'-':_0x12424e=_0x3ba31a-(_0x103e26??0x0);break;case'*':_0x12424e=_0x3ba31a*(_0x103e26??0x1);break;case'/':_0x103e26!==0x0&&(_0x12424e=_0x3ba31a/(_0x103e26??0x1));break;}break;case _0x223886(0x667):case'findAndReplaceRegex':let _0x291a60=_0x14b81e,_0x7778c9=_0x58efea[_0x223886(0x1c1)];if(typeof _0x7778c9=='string'&&(_0x7778c9=this['replaceVariables'](_0x7778c9,_0x1b5b5b[_0x223886(0x364)]['realVariables'])??''),_0x291a60&&_0x7778c9!==void 0x0){let _0x2c446d=_0x58efea[_0x223886(0x36f)]===_0x223886(0x667)?new RegExp(_0x291a60[_0x223886(0x36c)](/[-\/\\^$*+?.()|[\]{}]/g,_0x223886(0x686)),'g'):new RegExp(_0x291a60,'g');_0x12424e=_0xda54d5[_0x223886(0x36c)](_0x2c446d,_0x7778c9);}else console[_0x223886(0x611)](_0x223886(0x411));break;case _0x223886(0x3ee):_0x12424e=_0x14b81e;break;case _0x223886(0xec):let _0x473e48=_0xda54d5[_0x223886(0x543)](new RegExp(_0x14b81e||''));_0x12424e=_0x473e48?_0x473e48[0x0]:'';break;case _0x223886(0x341):_0x12424e=_0xda54d5['slice'](0x0,parseInt(_0x14b81e||'0'));break;case _0x223886(0x1f8):let _0x4fe46b=parseInt(_0x14b81e||'0');_0x12424e=_0xda54d5[_0x223886(0x3f0)](_0xda54d5[_0x223886(0x676)]-_0x4fe46b);break;case'toBrazilianNumberFormat':let _0x238cad=_0x55de48(_0xda54d5),_0x1d1984=parseInt(_0x14b81e||'0');_0x1d1984=Math['abs'](_0x1d1984),_0x238cad!==null?_0x12424e=_0x238cad[_0x223886(0x175)](_0x223886(0x6dc),{'minimumFractionDigits':_0x1d1984,'maximumFractionDigits':_0x1d1984}):(console[_0x223886(0x611)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0xda54d5),_0x12424e=null);break;case _0x223886(0x687):let _0x4aa412=_0x55de48(_0xda54d5);_0x4aa412!==null?_0x12424e=_0x4aa412['toLocaleString'](_0x223886(0x6dc),{'style':_0x223886(0x3da),'currency':_0x223886(0x65b)}):(console[_0x223886(0x611)](_0x223886(0xfc)+_0xda54d5),_0x12424e=null);break;case _0x223886(0x26d):_0x12424e=_0xda54d5[_0x223886(0x5c5)]();break;case'lowerCase':_0x12424e=_0xda54d5[_0x223886(0x302)]();break;case _0x223886(0x480):_0x12424e=_0xda54d5['split']('\x20')[_0x223886(0x378)](_0x5354ef=>_0x5354ef[_0x223886(0x440)](0x0)[_0x223886(0x5c5)]()+_0x5354ef[_0x223886(0x3f0)](0x1)[_0x223886(0x302)]())[_0x223886(0x4c2)]('\x20');break;case _0x223886(0x67b):_0x12424e=_0xda54d5[_0x223886(0x24c)]();break;default:_0x12424e=_0xda54d5;}return _0x12424e!==null?_0x12424e[_0x223886(0x623)]():null;}async[a0_0x58753f(0x59f)](_0x6bc1be,_0x189fb3){const _0x54e079=a0_0x58753f;try{let _0x47397a=_0x6bc1be[_0x54e079(0x591)]?.[_0x54e079(0x56a)](_0x3f26cc=>_0x3f26cc[_0x54e079(0x6e9)]===_0x189fb3[_0x54e079(0x29f)]?.[_0x54e079(0x623)]())||[],_0x22247a=_0x189fb3[_0x54e079(0x237)],_0x338343=null,_0x913f27=[],_0x415d44=_0x6bc1be[_0x54e079(0x364)][_0x54e079(0x639)][_0x22247a];_0x913f27['push'](_0x54e079(0x62a)+_0x415d44+'\x22');for(let _0x3efd11 of _0x47397a){_0x3efd11[_0x54e079(0x365)]=_0x415d44,_0x338343=_0x3efd11[_0x54e079(0x365)];let _0x5452b3;try{_0x5452b3=this[_0x54e079(0x20a)](_0x6bc1be,_0x3efd11);}catch(_0x33ea63){console[_0x54e079(0x47b)](_0x54e079(0x39a)+_0x33ea63['message']);continue;}if(_0x5452b3!==null){let _0x58b81b=_0x54e079(0x349)+_0x3efd11[_0x54e079(0x36f)]+'\x22',_0x3e8873=[_0x54e079(0x687),_0x54e079(0x26d),_0x54e079(0x5f7),_0x54e079(0x480),_0x54e079(0x67b)];_0x3efd11[_0x54e079(0x36f)]==='findAndReplace'||_0x3efd11[_0x54e079(0x36f)]===_0x54e079(0x180)?_0x58b81b+=_0x54e079(0x44f)+_0x3efd11[_0x54e079(0x270)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x3efd11[_0x54e079(0x1c1)]+'\x22':!_0x3e8873[_0x54e079(0x1db)](_0x3efd11[_0x54e079(0x36f)])&&_0x3efd11[_0x54e079(0x270)]!==null&&_0x3efd11['secondValue']!==void 0x0&&(_0x58b81b+=_0x54e079(0x394)+_0x3efd11['secondValue']+'\x22'),_0x58b81b+=_0x54e079(0x1ce)+_0x5452b3+'.',_0x913f27['push'](_0x58b81b);}_0x5452b3!==null&&(_0x415d44=_0x5452b3);}if(_0x6bc1be[_0x54e079(0x364)][_0x54e079(0x639)]&&_0x189fb3[_0x54e079(0x237)]){_0x6bc1be['chatLog'][_0x54e079(0x639)][_0x189fb3[_0x54e079(0x237)]]=_0x415d44;let _0x198203={'variable':_0x189fb3[_0x54e079(0x237)],'oldValue':_0x338343,'newValue':_0x415d44,'moreLogs':_0x913f27};try{this[_0x54e079(0x1b7)](_0x6bc1be,_0x189fb3,_0x198203);}catch(_0xbd19d0){console[_0x54e079(0x47b)](_0x54e079(0x735)+_0xbd19d0['message']);}}return _0x22247a;}catch(_0x24dd60){return console['error'](_0x54e079(0x753)+_0x24dd60[_0x54e079(0x5f5)]),null;}}async[a0_0x58753f(0x3a7)](_0x1d4a8f,_0x24c03a){const _0x257f37=a0_0x58753f;try{let _0x4d6558=[],_0x4d5b57=_0x1d4a8f[_0x257f37(0x13e)][_0x257f37(0x56a)](_0x57365c=>_0x57365c['blockId']===_0x24c03a[_0x257f37(0x29f)]['toString']()),_0x27185f=null,_0x4b7c09=!0x1;for(let _0x476796 of _0x4d5b57){let _0x152956=this[_0x257f37(0x569)](_0x1d4a8f,_0x476796);_0x4d6558[_0x257f37(0x174)](_0x257f37(0x635)+_0x476796[_0x257f37(0x365)]+_0x257f37(0x2b2)+_0x476796[_0x257f37(0x245)]+_0x257f37(0x361)+_0x476796[_0x257f37(0x270)]+_0x257f37(0x62e)+_0x152956),_0x27185f===null?_0x27185f=_0x152956:_0x476796[_0x257f37(0x11f)]===_0x257f37(0x677)?(_0x27185f=_0x27185f&&_0x152956,_0x152956||(_0x4b7c09=!0x0)):_0x476796[_0x257f37(0x11f)]==='or'&&(_0x4b7c09||(_0x27185f=_0x27185f||_0x152956));}_0x27185f===null&&(_0x27185f=!0x0);let _0x28131a={'moreLogs':_0x4d6558};_0x1d4a8f[_0x257f37(0x364)][_0x257f37(0x177)]=_0x27185f,await this[_0x257f37(0x1b7)](_0x1d4a8f,_0x24c03a,_0x28131a);}catch(_0x29133a){this['logger'][_0x257f37(0x47b)](this['instanceName']+'\x20('+this['instance'][_0x257f37(0x6ab)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x29133a instanceof Error?_0x29133a[_0x257f37(0x5f5)]:JSON[_0x257f37(0x212)](_0x29133a,null,0x2)));}}[a0_0x58753f(0x569)](_0x2be6cc,_0x1ff464){const _0x59b979=a0_0x58753f;let _0x229a64=_0x1ff464['firstValue'],_0x38ab57=_0x1ff464[_0x59b979(0x270)];typeof _0x229a64==_0x59b979(0x61a)&&(_0x229a64=this['replaceVariables'](_0x229a64,_0x2be6cc[_0x59b979(0x364)][_0x59b979(0x639)])??''),typeof _0x38ab57==_0x59b979(0x61a)&&(_0x38ab57=this[_0x59b979(0x3bd)](_0x38ab57,_0x2be6cc[_0x59b979(0x364)][_0x59b979(0x639)])??'');try{switch(_0x1ff464[_0x59b979(0x245)]){case'equal':return _0x229a64===_0x38ab57;case'notEqual':return _0x229a64!==_0x38ab57;case _0x59b979(0x340):return this['contains'](_0x229a64,_0x38ab57);case _0x59b979(0x66b):return!this[_0x59b979(0x340)](_0x229a64,_0x38ab57);case _0x59b979(0x630):return parseFloat(_0x229a64)>parseFloat(_0x38ab57);case _0x59b979(0x6c6):return parseFloat(_0x229a64)<parseFloat(_0x38ab57);case _0x59b979(0x663):return _0x229a64!=='';case'empty':return _0x229a64==='';case'matchRegex':return new RegExp(_0x38ab57)[_0x59b979(0x36e)](_0x229a64);case _0x59b979(0xd9):return!new RegExp(_0x38ab57)[_0x59b979(0x36e)](_0x229a64);default:return!0x1;}}catch(_0x24d4f7){return console[_0x59b979(0x47b)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x24d4f7),!0x1;}}[a0_0x58753f(0x340)](_0xda325,_0x149fbe){const _0x2ab11e=a0_0x58753f;if(_0xda325===_0x149fbe&&/^\d+$/[_0x2ab11e(0x36e)](_0xda325))return!0x0;if(this[_0x2ab11e(0x14c)](_0xda325)&&/^\d+$/['test'](_0x149fbe)){let _0xc78f30=_0xda325[_0x2ab11e(0x610)](',')['map'](_0x979faa=>parseInt(_0x979faa['trim']())),_0x4110a5=parseInt(_0x149fbe);return _0xc78f30[_0x2ab11e(0x1db)](_0x4110a5);}return _0xda325[_0x2ab11e(0x1db)](_0x149fbe);}['isListOfNumbers'](_0x2713e9){const _0x3c5c36=a0_0x58753f;return/^\d+(,\d+)*$/[_0x3c5c36(0x36e)](_0x2713e9);}[a0_0x58753f(0x168)](_0x148e4c){const _0x347021=a0_0x58753f;let _0x529519=!0x0,_0x5c237d=null;for(let _0x2e4628 of _0x148e4c){let _0x5b1eeb=this[_0x347021(0x1ea)](_0x2e4628);if(_0x5c237d==='or'&&_0x5b1eeb){_0x529519=!0x0;break;}if(_0x5c237d===_0x347021(0x677)&&!_0x5b1eeb){_0x529519=!0x1;break;}_0x5c237d=_0x2e4628[_0x347021(0x11f)];}return _0x529519;}[a0_0x58753f(0x1ea)](_0x35920a){const _0x16eead=a0_0x58753f;let _0x274d2d=_0x35920a[_0x16eead(0x365)],_0x15df30=_0x35920a['secondValue'];try{switch(_0x35920a[_0x16eead(0x245)]){case _0x16eead(0x281):return String(_0x274d2d)===String(_0x15df30);case _0x16eead(0x342):return String(_0x274d2d)!==String(_0x15df30);case _0x16eead(0x340):return String(_0x274d2d)['includes'](String(_0x15df30));case _0x16eead(0x66b):return!String(_0x274d2d)[_0x16eead(0x1db)](String(_0x15df30));case _0x16eead(0x630):return parseFloat(String(_0x274d2d))>parseFloat(String(_0x15df30));case _0x16eead(0x6c6):return parseFloat(String(_0x274d2d))<parseFloat(String(_0x15df30));case _0x16eead(0x663):return String(_0x274d2d)!=='';case'empty':return String(_0x274d2d)==='';case'matchRegex':return new RegExp(String(_0x15df30))[_0x16eead(0x36e)](String(_0x274d2d));case _0x16eead(0xd9):return!new RegExp(String(_0x15df30))[_0x16eead(0x36e)](String(_0x274d2d));default:return!0x1;}}catch(_0x4cd9cf){return console[_0x16eead(0x47b)](_0x16eead(0x401)+_0x4cd9cf),!0x1;}}async[a0_0x58753f(0x49d)](_0x26cf5d,_0x93af70){const _0x52a461=a0_0x58753f;if(this['logger'][_0x52a461(0x19c)](this[_0x52a461(0x479)]+'\x20('+this[_0x52a461(0x339)][_0x52a461(0x6ab)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x26cf5d||!_0x93af70)return this[_0x52a461(0x46b)][_0x52a461(0x47b)](this[_0x52a461(0x479)]+'\x20('+this[_0x52a461(0x339)]['wuid']+_0x52a461(0x348)),null;let _0x5c8e63=_0x93af70[_0x52a461(0x237)],_0xff82b7=_0x26cf5d[_0x52a461(0x364)][_0x52a461(0xe8)][_0x52a461(0x4f4)]||_0x26cf5d[_0x52a461(0x364)][_0x52a461(0xe8)][_0x52a461(0x135)]||_0x26cf5d['chatLog'][_0x52a461(0xe8)]['vote'];try{_0x26cf5d['chatLog']['realVariables']||(_0x26cf5d['chatLog'][_0x52a461(0x639)]={});let _0x5691ad=_0x26cf5d[_0x52a461(0x364)]['realVariables'][_0x5c8e63];_0x26cf5d[_0x52a461(0x364)][_0x52a461(0x639)][_0x5c8e63]=_0xff82b7;let _0x59040b={'variable':_0x5c8e63,'oldValue':_0x5691ad,'newValue':_0xff82b7};this['updateConversation'](_0x26cf5d,_0x93af70,_0x59040b),this['logger'][_0x52a461(0x19c)](this[_0x52a461(0x479)]+'\x20('+this[_0x52a461(0x339)][_0x52a461(0x6ab)]+_0x52a461(0x68f));}catch(_0x29aee4){let _0x3713a6={'error':!0x0,'errorLog':_0x29aee4['toString']()};return this[_0x52a461(0x1b7)](_0x26cf5d,_0x93af70,_0x3713a6),this['logger']['error'](this['instanceName']+'\x20('+this[_0x52a461(0x339)]['wuid']+_0x52a461(0x28d)+(_0x29aee4 instanceof Error?_0x29aee4[_0x52a461(0x5f5)]:JSON[_0x52a461(0x212)](_0x29aee4,null,0x2))),null;}}async[a0_0x58753f(0x545)](_0x2db629,_0x2be5de){const _0x454b37=a0_0x58753f;if(this[_0x454b37(0x46b)][_0x454b37(0x19c)](this[_0x454b37(0x479)]+'\x20('+this[_0x454b37(0x339)][_0x454b37(0x6ab)]+_0x454b37(0x470)),!_0x2db629||!_0x2be5de)return this[_0x454b37(0x46b)][_0x454b37(0x47b)](this[_0x454b37(0x479)]+'\x20('+this[_0x454b37(0x339)][_0x454b37(0x6ab)]+_0x454b37(0x348)),null;let _0x35dca3=Date[_0x454b37(0x447)](),_0x28ebc0=parseInt(_0x2be5de[_0x454b37(0x292)],0xa);if(isNaN(_0x28ebc0))return this[_0x454b37(0x46b)]['error'](this[_0x454b37(0x479)]+'\x20('+this[_0x454b37(0x339)]['wuid']+_0x454b37(0x601)),null;let _0x285827={'newStoppedUntil':_0x35dca3+_0x28ebc0*0x3c*0x3e8};return await this[_0x454b37(0x1b7)](_0x2db629,_0x2be5de,_0x285827,!0x0),null;}async[a0_0x58753f(0x3bb)](_0x47621c,_0x3bab96){const _0xb873b7=a0_0x58753f;try{switch(_0x3bab96[_0xb873b7(0x2de)]['command']){case'sendText':await this[_0xb873b7(0x359)](_0x47621c,_0x3bab96);break;case _0xb873b7(0x604):await this['uazapiSendMedia'](_0x47621c,_0x3bab96);break;case _0xb873b7(0x68d):await this[_0xb873b7(0x392)](_0x47621c,_0x3bab96);break;case _0xb873b7(0x63d):await this[_0xb873b7(0x70e)](_0x47621c,_0x3bab96);break;case _0xb873b7(0x1ac):await this[_0xb873b7(0x1cd)](_0x47621c,_0x3bab96);break;case _0xb873b7(0x249):await this[_0xb873b7(0x2e0)](_0x47621c,_0x3bab96);break;case'sendMenu':await this['uazapiSendMenu'](_0x47621c,_0x3bab96);break;case _0xb873b7(0x6ce):await this[_0xb873b7(0x16c)](_0x47621c,_0x3bab96);break;default:this[_0xb873b7(0x46b)][_0xb873b7(0x47b)](this[_0xb873b7(0x479)]+'\x20('+this[_0xb873b7(0x339)][_0xb873b7(0x6ab)]+_0xb873b7(0x644)+_0x3bab96[_0xb873b7(0x2de)][_0xb873b7(0x40d)]);}}catch(_0x1685ad){this['logger'][_0xb873b7(0x47b)](this['instanceName']+'\x20('+this[_0xb873b7(0x339)][_0xb873b7(0x6ab)]+_0xb873b7(0x44b)+(_0x1685ad instanceof Error?_0x1685ad[_0xb873b7(0x5f5)]:JSON[_0xb873b7(0x212)](_0x1685ad,null,0x2)));}}async[a0_0x58753f(0x1b7)](_0x347ac3,_0x406732,_0x5301de,_0x245569=!0x1,_0x36e86b=!0x1){const _0x3516f5=a0_0x58753f;_0x347ac3['chatLog'][_0x3516f5(0x493)]||(_0x347ac3['chatLog'][_0x3516f5(0x493)]=[]);let _0x343f5d=(_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x493)]?.[_0x3516f5(0x676)]??0x0)+0x1,_0x20fde8=_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x493)][_0x3516f5(0x56a)](_0x5e289e=>String(_0x5e289e[_0x3516f5(0x6e9)])===String(_0x406732[_0x3516f5(0x29f)]))[_0x3516f5(0x676)]+0x1,_0x5ded7d=_0x5301de?.['onTime']??Date[_0x3516f5(0x447)](),_0x33d4bf=_0x5301de?.[_0x3516f5(0x47b)]?_0x5301de[_0x3516f5(0x742)]??_0x5301de[_0x3516f5(0x47b)][_0x3516f5(0x623)]():void 0x0,_0xf580b={'onTime':_0x5ded7d,'blockId':_0x406732[_0x3516f5(0x29f)],'order':_0x343f5d,'activatedCount':_0x20fde8,'error':_0x5301de?.[_0x3516f5(0x47b)]??!0x1,'messageId':_0x5301de?.[_0x3516f5(0x516)],'apiResponse':_0x5301de?.['apiResponse'],'apiResponseString':_0x5301de?.[_0x3516f5(0x24b)]?JSON[_0x3516f5(0x212)](_0x5301de?.[_0x3516f5(0x24b)]):void 0x0,'variable':_0x5301de?.[_0x3516f5(0x629)],'oldValue':_0x5301de?.['oldValue'],'newValue':_0x5301de?.[_0x3516f5(0x75c)],'newStoppedUntil':_0x5301de?.[_0x3516f5(0x71b)],'moreLogs':_0x5301de?.[_0x3516f5(0x6d4)],'errorLog':_0x33d4bf};if(_0x5301de[_0x3516f5(0x6d4)]&&_0x5301de[_0x3516f5(0x6d4)][_0x3516f5(0x676)]>0x0){let _0x581aa8=_0x5301de['moreLogs'][_0x3516f5(0x378)](_0x511097=>this['replaceVariablesLogs'](_0x511097,_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x639)]));_0xf580b['moreLogs']=_0x581aa8;}_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x639)]||(_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x639)]={}),_0x347ac3['chatLog'][_0x3516f5(0x639)]['_activatedCount']=String(_0x20fde8),_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x639)][_0x3516f5(0x2f1)]=String(_0x5301de[_0x3516f5(0x47b)]??!0x1),_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x493)][_0x3516f5(0x174)](_0xf580b),_0x347ac3[_0x3516f5(0x364)]['lastBlockId']=_0x406732['_id'][_0x3516f5(0x623)](),_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x35f)]&&(_0x347ac3['chatLog'][_0x3516f5(0x35f)]=_0x347ac3['chatLog'][_0x3516f5(0x35f)]),_0x347ac3[_0x3516f5(0x364)]['lastReceivedMessage']&&(_0x347ac3[_0x3516f5(0x364)]['lastReceivedMessage']=_0x347ac3['chatLog'][_0x3516f5(0xe8)]),_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x177)]&&(_0x347ac3['chatLog'][_0x3516f5(0x177)]=_0x347ac3[_0x3516f5(0x364)][_0x3516f5(0x177)]),_0x36e86b&&(_0x347ac3[_0x3516f5(0x593)]=_0x3516f5(0x147)),_0x245569?this['saveConversationToDatabase'](_0x347ac3):this['goNextblock'](_0x347ac3,_0x406732);}[a0_0x58753f(0x28f)](_0x519e77,_0x300319){const _0x1e6181=a0_0x58753f;return _0x519e77['replace'](/\{\{([^}]+)\}\}/g,(_0x5f2399,_0x36bc2f)=>_0x300319[_0x36bc2f]?'{{'+_0x36bc2f+_0x1e6181(0x6ee)+_0x300319[_0x36bc2f]+'\x22':'{{'+_0x36bc2f+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x58753f(0x471)](_0x376545){const _0x2db55d=a0_0x58753f;try{let _0x3e24be=Object['entries'](_0x376545['chatLog'][_0x2db55d(0x639)])[_0x2db55d(0x378)](([_0x419d90,_0x59c127])=>({'name':_0x419d90,'value':_0x59c127})),_0x4f6b51={'status':_0x376545[_0x2db55d(0x593)],'blocks':_0x376545['blocks'],'waitingMenu_id':_0x376545[_0x2db55d(0x562)],'waitingMenu_text':_0x376545[_0x2db55d(0x2fd)],'waitingMenu_replyOptions':_0x376545[_0x2db55d(0x3bc)],'chatLog':{'lastBlockId':_0x376545[_0x2db55d(0x364)][_0x2db55d(0x5bc)],'lastSendMessage':_0x376545[_0x2db55d(0x364)][_0x2db55d(0x35f)],'lastReceivedMessage':_0x376545[_0x2db55d(0x364)][_0x2db55d(0xe8)],'lastCondition':_0x376545['chatLog'][_0x2db55d(0x177)],'chatVariables':_0x3e24be,'realVariables':_0x376545[_0x2db55d(0x364)][_0x2db55d(0x639)],'blockLogs':_0x376545[_0x2db55d(0x364)]['blockLogs']}},_0xad3333=await this[_0x2db55d(0x628)][_0x2db55d(0x1b5)][_0x2db55d(0x614)](_0x376545[_0x2db55d(0x29f)],_0x4f6b51,this[_0x2db55d(0x339)][_0x2db55d(0x6ab)]);if(_0xad3333){this[_0x2db55d(0x46b)][_0x2db55d(0x19c)](this[_0x2db55d(0x479)]+'\x20('+this['instance'][_0x2db55d(0x6ab)]+_0x2db55d(0x720)+_0xad3333['_id']);try{let _0x1f12a8=[_0x2db55d(0x1de),_0x2db55d(0x2d2),_0x2db55d(0x391),_0x2db55d(0x152),'status',_0x2db55d(0x67c),_0x2db55d(0x42b),_0x2db55d(0x463),_0x2db55d(0x6f5)];if(!this[_0x2db55d(0x2b3)]&&(await this[_0x2db55d(0x246)](),!this[_0x2db55d(0x2b3)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x18b75a=this[_0x2db55d(0x2b3)]?.[_0x2db55d(0x665)][_0x2db55d(0x378)](_0x3f4bc0=>_0x3f4bc0[_0x2db55d(0x730)]),_0xdbc549={};Object[_0x2db55d(0x40c)](_0x376545[_0x2db55d(0x364)]['realVariables'])[_0x2db55d(0x537)](([_0xc81c05,_0x1c2a43])=>{const _0x2eebde=_0x2db55d;_0x1f12a8[_0x2eebde(0x1db)](_0xc81c05)&&(_0xc81c05===_0x2eebde(0x463)&&typeof _0x1c2a43==_0x2eebde(0x61a)?_0xdbc549[_0xc81c05]=_0x1c2a43[_0x2eebde(0x610)](',')[_0x2eebde(0x378)](_0x20093d=>_0x20093d[_0x2eebde(0x24c)]())['filter'](_0x41674e=>_0x41674e!==''):_0xc81c05==='etiquetas'&&typeof _0x1c2a43=='string'?_0xdbc549[_0xc81c05]=_0x1c2a43[_0x2eebde(0x610)](',')['map'](_0x5d2b58=>_0x5d2b58[_0x2eebde(0x24c)]())['filter'](_0x47f313=>_0x47f313!==''):_0xdbc549[_0xc81c05]=_0x1c2a43);});let _0x5b81c5=_0x376545[_0x2db55d(0x364)]['blockLogs'][_0x376545[_0x2db55d(0x364)][_0x2db55d(0x493)][_0x2db55d(0x676)]-0x1];if(_0x5b81c5){let _0x28cfa3=_0x5b81c5[_0x2db55d(0x71b)];_0x28cfa3!==void 0x0&&(_0xdbc549['desativadoFluxoAte']=_0x28cfa3['toString']());}let _0x4c236d=_0x3e24be[_0x2db55d(0x56a)](_0x5cbaa0=>_0x18b75a[_0x2db55d(0x1db)](_0x5cbaa0[_0x2db55d(0x730)]));this[_0x2db55d(0x46b)]['verbose'](this['instanceName']+'\x20('+this[_0x2db55d(0x339)][_0x2db55d(0x6ab)]+_0x2db55d(0x271)),this[_0x2db55d(0x46b)]['verbose'](_0xdbc549),this['logger'][_0x2db55d(0x19c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2db55d(0x495)),this[_0x2db55d(0x46b)][_0x2db55d(0x19c)](_0x4c236d);let _0x6d50b4=_0x4c236d['map'](_0x37fcec=>{const _0x2a1da4=_0x2db55d;let _0x21bd77=this[_0x2a1da4(0x2b3)]?.[_0x2a1da4(0x665)][_0x2a1da4(0x53a)](_0x3e0e8b=>_0x3e0e8b[_0x2a1da4(0x730)]===_0x37fcec['name']);if(!_0x21bd77)throw new Error(_0x2a1da4(0xf1)+_0x37fcec[_0x2a1da4(0x730)]);return{'_id':_0x21bd77[_0x2a1da4(0x29f)],'value':_0x37fcec[_0x2a1da4(0x2ed)]};});this['logger'][_0x2db55d(0x19c)](this[_0x2db55d(0x479)]+'\x20('+this[_0x2db55d(0x339)][_0x2db55d(0x6ab)]+_0x2db55d(0x70d)),this['logger'][_0x2db55d(0x19c)](_0x6d50b4),await this['saveChatVariables'](_0x376545[_0x2db55d(0x41f)],_0xdbc549,_0x6d50b4);}catch(_0x23a230){this['logger'][_0x2db55d(0x47b)](this[_0x2db55d(0x479)]+'\x20('+this[_0x2db55d(0x339)][_0x2db55d(0x6ab)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x23a230 instanceof Error?_0x23a230[_0x2db55d(0x5f5)]:JSON['stringify'](_0x23a230,null,0x2)));}}else this['logger'][_0x2db55d(0x47b)](this[_0x2db55d(0x479)]+'\x20('+this[_0x2db55d(0x339)][_0x2db55d(0x6ab)]+_0x2db55d(0x444));}catch(_0x25b40a){this['logger'][_0x2db55d(0x47b)](this[_0x2db55d(0x479)]+'\x20('+this['instance']['wuid']+_0x2db55d(0x4c5)+(_0x25b40a instanceof Error?_0x25b40a[_0x2db55d(0x5f5)]:JSON[_0x2db55d(0x212)](_0x25b40a,null,0x2)));}}async[a0_0x58753f(0x3d0)](_0x29a8d1,_0x5172a0,_0xa612a9){const _0x3c094b=a0_0x58753f;try{let _0x2c56d9={'leadInfo.leadnome':_0x5172a0[_0x3c094b(0x1de)],'leadInfo.nomecompleto':_0x5172a0[_0x3c094b(0x2d2)],'leadInfo.email':_0x5172a0[_0x3c094b(0x391)],'leadInfo.cpf':_0x5172a0[_0x3c094b(0x152)],'leadInfo.status':_0x5172a0[_0x3c094b(0x593)],'leadInfo.notas':_0x5172a0['notas'],'leadInfo.responsavelid':_0x5172a0[_0x3c094b(0x42b)],'leadInfo.tags':_0x5172a0[_0x3c094b(0x463)],'leadInfo.etiquetas':_0x5172a0['etiquetas'],'leadInfo.customFields':_0xa612a9},_0x4d774e=await this['repository'][_0x3c094b(0x181)]['findOne']({'where':{'_id':_0x29a8d1}},this[_0x3c094b(0x339)]['wuid']),_0x3262a6=new Set(_0x4d774e['leadInfo']['etiquetas']||[]),_0x52bfb2=new Set(_0x5172a0[_0x3c094b(0x6f5)]||[]),_0x381d1e=await this[_0x3c094b(0x628)]['label'][_0x3c094b(0x53a)]({'where':{}},this['instance'][_0x3c094b(0x6ab)]),_0x4de13b=new Set(_0x381d1e['map'](_0x53b4f1=>_0x53b4f1[_0x3c094b(0x29f)])),_0x24d3bd=[..._0x52bfb2][_0x3c094b(0x56a)](_0x2a1515=>!_0x3262a6[_0x3c094b(0x206)](_0x2a1515)&&_0x4de13b[_0x3c094b(0x206)](_0x2a1515)),_0x5c31e9=[..._0x3262a6][_0x3c094b(0x56a)](_0x17371b=>!_0x52bfb2[_0x3c094b(0x206)](_0x17371b));for(let _0x556308 of _0x24d3bd)await this[_0x3c094b(0x3f6)](_0x556308,_0x4d774e[_0x3c094b(0x29f)]),_0x3262a6[_0x3c094b(0x3c8)](_0x556308);for(let _0xbf20f5 of _0x5c31e9)await this['RemoveChatLabel'](_0xbf20f5,_0x4d774e['_id']),_0x3262a6['delete'](_0xbf20f5);if(_0x3c094b(0x55f)in _0x5172a0){let _0x117b7f=_0x5172a0['desativadoFluxoAte'];_0x2c56d9[_0x3c094b(0x296)]=_0x117b7f?Number(_0x117b7f):null;}let _0x21e58c=await this['repository']['chat'][_0x3c094b(0x614)]({'where':{'_id':_0x29a8d1}},_0x2c56d9,this['instance'][_0x3c094b(0x6ab)]);_0x21e58c?(this[_0x3c094b(0x46b)][_0x3c094b(0x19c)](this['instanceName']+'\x20('+this[_0x3c094b(0x339)][_0x3c094b(0x6ab)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x21e58c[_0x3c094b(0x29f)]),q(this['instanceName'],_0x3c094b(0x4a0),{'chat':_0x21e58c})):this['logger'][_0x3c094b(0x47b)](this['instanceName']+'\x20('+this[_0x3c094b(0x339)][_0x3c094b(0x6ab)]+_0x3c094b(0x30c));}catch(_0x11d6e5){this[_0x3c094b(0x46b)][_0x3c094b(0x47b)](this['instanceName']+'\x20('+this[_0x3c094b(0x339)][_0x3c094b(0x6ab)]+_0x3c094b(0x69e)+(_0x11d6e5 instanceof Error?_0x11d6e5[_0x3c094b(0x5f5)]:JSON[_0x3c094b(0x212)](_0x11d6e5,null,0x2)));}}async[a0_0x58753f(0x310)](_0x3332eb,_0x12c840){const _0x360c7a=a0_0x58753f;this[_0x360c7a(0x46b)][_0x360c7a(0x19c)](this[_0x360c7a(0x479)]+'\x20('+this[_0x360c7a(0x339)]['wuid']+_0x360c7a(0x3bf)+_0x12c840);try{let _0x4b36fa=await this['repository']['chat'][_0x360c7a(0x614)]({'where':{'_id':_0x3332eb[_0x360c7a(0x41f)]}},{'leadInfo.desativadoFluxoAte':_0x12c840},this['instance'][_0x360c7a(0x6ab)]);this[_0x360c7a(0x46b)]['verbose'](this['instanceName']+'\x20('+this[_0x360c7a(0x339)][_0x360c7a(0x6ab)]+_0x360c7a(0x50a)+_0x3332eb[_0x360c7a(0x29f)]),this['logger']['verbose'](this[_0x360c7a(0x479)]+'\x20('+this['instance']['wuid']+_0x360c7a(0x3bf)+JSON['stringify'](_0x4b36fa,null,0x2)),_0x4b36fa&&q(this['instanceName'],'chats',{'chat':_0x4b36fa});}catch(_0x1687e3){this[_0x360c7a(0x46b)][_0x360c7a(0x47b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x360c7a(0x2a9)+(_0x1687e3 instanceof Error?_0x1687e3['message']:JSON[_0x360c7a(0x212)](_0x1687e3,null,0x2)));}}async[a0_0x58753f(0x36b)](_0x1a7010){const _0x4bfd71=a0_0x58753f;try{this[_0x4bfd71(0x46b)]['verbose'](this[_0x4bfd71(0x479)]+'\x20('+this['instance'][_0x4bfd71(0x6ab)]+_0x4bfd71(0x52c));let _0x1f36b3=_0x1a7010[_0x4bfd71(0x36c)](/\D/g,''),_0x4eed23=await this['repository'][_0x4bfd71(0x57c)][_0x4bfd71(0x2e1)]({'where':{'testingWith':_0x1f36b3}},this[_0x4bfd71(0x339)][_0x4bfd71(0x6ab)]);return _0x4eed23||(this[_0x4bfd71(0x46b)][_0x4bfd71(0x19c)](this['instanceName']+'\x20('+this[_0x4bfd71(0x339)]['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x4eed23=await this[_0x4bfd71(0x628)][_0x4bfd71(0x57c)][_0x4bfd71(0x2e1)]({'where':{'default':!0x0}},this[_0x4bfd71(0x339)][_0x4bfd71(0x6ab)])),_0x4eed23||(this['logger'][_0x4bfd71(0x19c)](this['instanceName']+'\x20('+this[_0x4bfd71(0x339)][_0x4bfd71(0x6ab)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x5f1fb5){return this[_0x4bfd71(0x46b)][_0x4bfd71(0x47b)](this['instanceName']+'\x20('+this[_0x4bfd71(0x339)][_0x4bfd71(0x6ab)]+_0x4bfd71(0x1fd)+(_0x5f1fb5 instanceof Error?_0x5f1fb5['message']:JSON[_0x4bfd71(0x212)](_0x5f1fb5,null,0x2))),null;}}async[a0_0x58753f(0x111)](_0x46b63d,_0x1ec268){const _0x5a9289=a0_0x58753f;try{let _0x3f6e8f=!!_0x1ec268[_0x5a9289(0x5fc)],_0x32d78b=_0x1ec268['quoted'],_0x5ba23b=null;if(this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this['instanceName']+'\x20('+this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]+'):\x20isVote:\x20'+_0x3f6e8f+_0x5a9289(0x34e)+_0x32d78b),_0x3f6e8f){this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this[_0x5a9289(0x479)]+'\x20('+this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x953e7={'where':{'remoteJid':_0x46b63d,'waitingMenu_id':_0x32d78b}};if(_0x5ba23b=await this['repository'][_0x5a9289(0x1b5)]['findOne'](_0x953e7,this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]),!_0x5ba23b)return this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this[_0x5a9289(0x479)]+'\x20('+this[_0x5a9289(0x339)]['wuid']+_0x5a9289(0x6ea)),null;let _0xc22076=Date[_0x5a9289(0x447)](),_0x2a4263=_0x5ba23b?.[_0x5a9289(0x1b3)]||0x0,_0x3cca69=_0xc22076-_0x2a4263*0x3c*0x3e8;if(_0x5ba23b['lastInteraction']<_0x3cca69){this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this['instanceName']+'\x20('+this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]+_0x5a9289(0x10f));let _0x1b55b={'number':_0x5ba23b[_0x5a9289(0x41f)],'options':{'delay':0x0},'textMessage':{'text':_0x5ba23b['waitingMenu_ExpiredMessage']}};await this[_0x5a9289(0x395)](_0x1b55b);let _0x212f09={'status':_0x5a9289(0x147),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x5a9289(0x628)][_0x5a9289(0x1b5)][_0x5a9289(0x614)](_0x5ba23b['_id'],_0x212f09,this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]),null;}return _0x5ba23b[_0x5a9289(0x208)]=Date[_0x5a9289(0x447)](),_0x5ba23b[_0x5a9289(0x364)]['lastReceivedMessage']=_0x1ec268,_0x5ba23b;}else{this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this[_0x5a9289(0x479)]+'\x20('+this[_0x5a9289(0x339)]['wuid']+_0x5a9289(0x2b9)+this[_0x5a9289(0x339)]['wuid']+_0x5a9289(0x191)),this[_0x5a9289(0x46b)]['verbose'](this[_0x5a9289(0x479)]+'\x20('+this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]+'):\x20Procurando\x20conversa');let _0x3f23c0={'where':{'remoteJid':_0x46b63d,'status':'open'}};if(_0x5ba23b=await this['repository'][_0x5a9289(0x1b5)][_0x5a9289(0x2e1)](_0x3f23c0,this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]),!_0x5ba23b){let _0x5dcdce=await this[_0x5a9289(0x36b)](_0x46b63d);if(_0x5dcdce&&(_0x5ba23b=await this[_0x5a9289(0x2fc)](_0x5dcdce,_0x1ec268[_0x5a9289(0x54b)],_0x1ec268)),!_0x5ba23b)return null;}let _0x3943a0=Date[_0x5a9289(0x447)](),_0x1d9c40=_0x5ba23b?.[_0x5a9289(0x1b3)]||0x0,_0x4b9f49=_0x3943a0-_0x1d9c40*0x3c*0x3e8;if(this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this['instanceName']+'\x20('+this[_0x5a9289(0x339)]['wuid']+_0x5a9289(0x666)+_0x3943a0+',\x20Minutes\x20to\x20Close:\x20'+_0x1d9c40+_0x5a9289(0x6c4)+_0x4b9f49),this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this[_0x5a9289(0x479)]+'\x20('+this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x5a9289(0x46b)]['verbose'](this[_0x5a9289(0x479)]+'\x20('+this['instance']['wuid']+_0x5a9289(0x35a)+_0x5ba23b[_0x5a9289(0x208)]),this[_0x5a9289(0x46b)]['verbose'](this[_0x5a9289(0x479)]+'\x20('+this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]+_0x5a9289(0x589)+_0x4b9f49),_0x5ba23b['lastInteraction']<_0x4b9f49){this[_0x5a9289(0x46b)][_0x5a9289(0x19c)](this[_0x5a9289(0x479)]+'\x20('+this[_0x5a9289(0x339)][_0x5a9289(0x6ab)]+_0x5a9289(0x205));let _0x15f0b1=await this[_0x5a9289(0x36b)](_0x46b63d);if(_0x15f0b1===null)return null;_0x5ba23b&&await this[_0x5a9289(0x628)][_0x5a9289(0x1b5)]['updateOne'](_0x5ba23b['_id'],{'status':_0x5a9289(0x147)},this['instance'][_0x5a9289(0x6ab)]),_0x5ba23b=await this[_0x5a9289(0x2fc)](_0x15f0b1,_0x1ec268['key'],_0x1ec268);}return _0x5ba23b[_0x5a9289(0x208)]=_0x3943a0,_0x5ba23b[_0x5a9289(0x364)][_0x5a9289(0xe8)]=_0x1ec268,_0x5ba23b;}}catch(_0x576900){return this[_0x5a9289(0x46b)]['error'](this[_0x5a9289(0x479)]+'\x20('+this['instance']['wuid']+_0x5a9289(0x30a)+(_0x576900 instanceof Error?_0x576900[_0x5a9289(0x5f5)]:JSON[_0x5a9289(0x212)](_0x576900,null,0x2))),null;}}async[a0_0x58753f(0x2fc)](_0x807b58,_0x4c55f3,_0x36da2b){const _0xe67a86=a0_0x58753f;this[_0xe67a86(0x46b)][_0xe67a86(0x19c)](this[_0xe67a86(0x479)]+'\x20('+this[_0xe67a86(0x339)][_0xe67a86(0x6ab)]+_0xe67a86(0x429));try{let _0x143fb7=require(_0xe67a86(0x1a3))['ObjectId'],_0x433382=Date[_0xe67a86(0x447)](),_0x575a07=_0xe67a86(0x3eb),_0x1ef5b7=_0x4c55f3[_0xe67a86(0x3a1)]?null:_0x36da2b,_0x482805=_0x4c55f3['fromMe']?_0x36da2b:null,_0x1eb7c3=_0x4c55f3['remoteJid'];await this[_0xe67a86(0x50d)](_0x1eb7c3);let _0xe127c6={..._0x807b58,'chatLog':null},_0x2b7a06=await this[_0xe67a86(0x356)](_0xe127c6[_0xe67a86(0x35c)]),_0x1b80ff=await this[_0xe67a86(0x64f)](_0x1eb7c3),_0x2ba690={..._0x2b7a06,..._0x1b80ff,'_remoteJid':_0x1eb7c3},_0x8d7dff={'lastReceivedMessage':_0x1ef5b7,'lastSendMessage':_0x482805,'lastBlockId':_0x575a07,'lastCondition':!0x0,'realVariables':_0x2ba690};_0xe127c6[_0xe67a86(0x364)]=_0x8d7dff,delete _0xe127c6['_id'],_0xe127c6[_0xe67a86(0x29f)]=new _0x143fb7(),_0xe127c6[_0xe67a86(0x208)]=_0x433382,_0xe127c6[_0xe67a86(0x593)]=_0xe67a86(0x6b6),_0xe127c6[_0xe67a86(0x41f)]=_0x1eb7c3;let _0x66fa5d=await this[_0xe67a86(0x628)][_0xe67a86(0x1b5)][_0xe67a86(0x614)](_0xe127c6[_0xe67a86(0x29f)],_0xe127c6,this['instance'][_0xe67a86(0x6ab)]);return this[_0xe67a86(0x46b)][_0xe67a86(0x19c)](this[_0xe67a86(0x479)]+'\x20('+this[_0xe67a86(0x339)][_0xe67a86(0x6ab)]+_0xe67a86(0x170)),_0x66fa5d?_0xe127c6:null;}catch(_0x5068e5){return this[_0xe67a86(0x46b)][_0xe67a86(0x47b)](this[_0xe67a86(0x479)]+'\x20('+this['instance'][_0xe67a86(0x6ab)]+_0xe67a86(0x554)+(_0x5068e5 instanceof Error?_0x5068e5[_0xe67a86(0x5f5)]:JSON[_0xe67a86(0x212)](_0x5068e5,null,0x2))),_0x5068e5;}}async[a0_0x58753f(0x359)](_0x470d3e,_0x1af040){const _0xe84afe=a0_0x58753f;let _0x53c2de=_0x470d3e[_0xe84afe(0x41f)];_0x1af040['uazapi'][_0xe84afe(0x41f)]&&_0x1af040[_0xe84afe(0x2de)]['remoteJid'][_0xe84afe(0x24c)]()!==''&&(_0x53c2de=_0x1af040[_0xe84afe(0x2de)]['remoteJid'][_0xe84afe(0x24c)]()),this[_0xe84afe(0x46b)][_0xe84afe(0x19c)](this[_0xe84afe(0x479)]+'\x20('+this[_0xe84afe(0x339)][_0xe84afe(0x6ab)]+_0xe84afe(0x600));let _0x1ef7ba={'number':_0x53c2de,'options':{'delay':_0x1af040[_0xe84afe(0x2de)][_0xe84afe(0x48f)]},'textMessage':{'text':_0x1af040['uazapi']['text']}};try{let _0x7dfb0c=await this[_0xe84afe(0x395)](_0x1ef7ba);if(_0x7dfb0c){let _0x3693c9={'_id':_0x7dfb0c[_0xe84afe(0x54b)]['id'],'_fromMe':_0x7dfb0c[_0xe84afe(0x54b)][_0xe84afe(0x3a1)],'_remoteJid':_0x7dfb0c['key']['remoteJid']},_0x589727=(0x0,g[_0xe84afe(0x529)])(_0x7dfb0c[_0xe84afe(0x5f5)]),_0x4e8188=(0x0,g['getContentType'])(_0x589727);_0x470d3e['chatLog'][_0xe84afe(0x5bc)]=_0x1af040[_0xe84afe(0x29f)][_0xe84afe(0x623)]();let {message_normalized:_0x1eaa0d}=this['normalizeMessage'](_0x589727,_0x4e8188,null);_0x470d3e[_0xe84afe(0x364)][_0xe84afe(0x35f)]=await _0x1eaa0d;let _0x562081={'messageId':_0x7dfb0c['key']['id']},_0x272856=_0x470d3e[_0xe84afe(0x364)]['realVariables'];Object[_0xe84afe(0x1c4)](_0x272856,_0x3693c9),_0x470d3e[_0xe84afe(0x364)][_0xe84afe(0x639)]=_0x272856,this[_0xe84afe(0x1b7)](_0x470d3e,_0x1af040,_0x562081);}else{let _0xdcf3c0={'error':!0x0};this[_0xe84afe(0x1b7)](_0x470d3e,_0x1af040,_0xdcf3c0),this[_0xe84afe(0x46b)][_0xe84afe(0x47b)](this[_0xe84afe(0x479)]+'\x20('+this[_0xe84afe(0x339)][_0xe84afe(0x6ab)]+_0xe84afe(0x2f8));}}catch(_0x2eb109){let _0x3e364d={'error':!0x0,'errorLog':_0x2eb109[_0xe84afe(0x623)]()};this[_0xe84afe(0x1b7)](_0x470d3e,_0x1af040,_0x3e364d),this['logger'][_0xe84afe(0x47b)](this[_0xe84afe(0x479)]+'\x20('+this[_0xe84afe(0x339)][_0xe84afe(0x6ab)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x2eb109 instanceof Error?_0x2eb109[_0xe84afe(0x5f5)]:JSON[_0xe84afe(0x212)](_0x2eb109,null,0x2)));}}async[a0_0x58753f(0x2f2)](_0x2b488d,_0x520e75){const _0x4586ba=a0_0x58753f;let _0x1f8464=_0x2b488d['remoteJid'];_0x520e75[_0x4586ba(0x2de)][_0x4586ba(0x41f)]&&_0x520e75[_0x4586ba(0x2de)][_0x4586ba(0x41f)][_0x4586ba(0x24c)]()!==''&&(_0x1f8464=_0x520e75[_0x4586ba(0x2de)]['remoteJid'][_0x4586ba(0x24c)]()),this[_0x4586ba(0x46b)][_0x4586ba(0x19c)](this[_0x4586ba(0x479)]+'\x20('+this[_0x4586ba(0x339)][_0x4586ba(0x6ab)]+_0x4586ba(0xf9));let _0x5eca67={'number':_0x1f8464,'options':{'delay':_0x520e75[_0x4586ba(0x2de)][_0x4586ba(0x48f)]},'mediaMessage':{'mediatype':_0x520e75[_0x4586ba(0x2de)][_0x4586ba(0x2b8)],'caption':_0x520e75[_0x4586ba(0x2de)][_0x4586ba(0x135)],'media':_0x520e75['uazapi']['media'],'fileName':_0x520e75[_0x4586ba(0x2de)][_0x4586ba(0x1e3)]}};try{let _0x134dd4=await this['mediaMessage'](_0x5eca67);if(_0x134dd4){let _0x577517={'_id':_0x134dd4['key']['id'],'_fromMe':_0x134dd4[_0x4586ba(0x54b)][_0x4586ba(0x3a1)],'_remoteJid':_0x134dd4[_0x4586ba(0x54b)][_0x4586ba(0x41f)]},_0x55c85c=(0x0,g['normalizeMessageContent'])(_0x134dd4[_0x4586ba(0x5f5)]),_0x338588=(0x0,g[_0x4586ba(0x72f)])(_0x55c85c);_0x2b488d['chatLog'][_0x4586ba(0x5bc)]=_0x520e75[_0x4586ba(0x29f)][_0x4586ba(0x623)]();let {message_normalized:_0x5d7fac}=this[_0x4586ba(0x3ae)](_0x55c85c,_0x338588,null);_0x2b488d[_0x4586ba(0x364)][_0x4586ba(0x35f)]=await _0x5d7fac;let _0x2a1682={'messageId':_0x134dd4[_0x4586ba(0x54b)]['id']},_0x31ef4b=_0x2b488d['chatLog']['realVariables'];Object[_0x4586ba(0x1c4)](_0x31ef4b,_0x577517),_0x2b488d['chatLog'][_0x4586ba(0x639)]=_0x31ef4b,this[_0x4586ba(0x1b7)](_0x2b488d,_0x520e75,_0x2a1682);}else{let _0x5e2be2={'error':!0x0};this[_0x4586ba(0x1b7)](_0x2b488d,_0x520e75,_0x5e2be2),this['logger'][_0x4586ba(0x47b)](this['instanceName']+'\x20('+this[_0x4586ba(0x339)][_0x4586ba(0x6ab)]+_0x4586ba(0x215));}}catch(_0x4edf8f){let _0x440b7d={'error':!0x0,'errorLog':_0x4edf8f['toString']()};this[_0x4586ba(0x1b7)](_0x2b488d,_0x520e75,_0x440b7d),this[_0x4586ba(0x46b)][_0x4586ba(0x47b)](this[_0x4586ba(0x479)]+'\x20('+this[_0x4586ba(0x339)][_0x4586ba(0x6ab)]+_0x4586ba(0x355)+(_0x4edf8f instanceof Error?_0x4edf8f[_0x4586ba(0x5f5)]:JSON[_0x4586ba(0x212)](_0x4edf8f,null,0x2)));}}async[a0_0x58753f(0x392)](_0x2a3841,_0x9d8e3c){const _0x3b3b2d=a0_0x58753f;let _0x2c481a=_0x2a3841[_0x3b3b2d(0x41f)];_0x9d8e3c[_0x3b3b2d(0x2de)][_0x3b3b2d(0x41f)]&&_0x9d8e3c[_0x3b3b2d(0x2de)][_0x3b3b2d(0x41f)][_0x3b3b2d(0x24c)]()!==''&&(_0x2c481a=_0x9d8e3c[_0x3b3b2d(0x2de)][_0x3b3b2d(0x41f)][_0x3b3b2d(0x24c)]()),this[_0x3b3b2d(0x46b)][_0x3b3b2d(0x19c)](this[_0x3b3b2d(0x479)]+'\x20('+this[_0x3b3b2d(0x339)][_0x3b3b2d(0x6ab)]+'):\x20Enviando\x20localização');let _0x2dd08b={'number':_0x2c481a,'options':{'delay':_0x9d8e3c[_0x3b3b2d(0x2de)][_0x3b3b2d(0x48f)]},'locationMessage':{'name':_0x9d8e3c[_0x3b3b2d(0x2de)][_0x3b3b2d(0x730)],'address':_0x9d8e3c[_0x3b3b2d(0x2de)][_0x3b3b2d(0x2c7)],'latitude':_0x9d8e3c[_0x3b3b2d(0x2de)]['latitude'],'longitude':_0x9d8e3c[_0x3b3b2d(0x2de)][_0x3b3b2d(0x50b)]}};try{let _0x1f5e8f=await this[_0x3b3b2d(0x233)](_0x2dd08b);if(_0x1f5e8f){let _0x106f8a={'_id':_0x1f5e8f['key']['id'],'_fromMe':_0x1f5e8f['key']['fromMe'],'_remoteJid':_0x1f5e8f[_0x3b3b2d(0x54b)][_0x3b3b2d(0x41f)]},_0x1e02a9=(0x0,g[_0x3b3b2d(0x529)])(_0x1f5e8f[_0x3b3b2d(0x5f5)]),_0x1edc70=(0x0,g[_0x3b3b2d(0x72f)])(_0x1e02a9);_0x2a3841[_0x3b3b2d(0x364)][_0x3b3b2d(0x5bc)]=_0x9d8e3c['_id'][_0x3b3b2d(0x623)]();let {message_normalized:_0x420bfe}=this[_0x3b3b2d(0x3ae)](_0x1e02a9,_0x1edc70,null);_0x2a3841[_0x3b3b2d(0x364)][_0x3b3b2d(0x35f)]=await _0x420bfe;let _0x5f311c={'messageId':_0x1f5e8f[_0x3b3b2d(0x54b)]['id']},_0x4d8169=_0x2a3841['chatLog']['realVariables'];Object['assign'](_0x4d8169,_0x106f8a),_0x2a3841[_0x3b3b2d(0x364)][_0x3b3b2d(0x639)]=_0x4d8169,this[_0x3b3b2d(0x1b7)](_0x2a3841,_0x9d8e3c,_0x5f311c);}else{let _0x5b8c0c={'error':!0x0};this[_0x3b3b2d(0x1b7)](_0x2a3841,_0x9d8e3c,_0x5b8c0c),this['logger'][_0x3b3b2d(0x47b)](this['instanceName']+'\x20('+this[_0x3b3b2d(0x339)][_0x3b3b2d(0x6ab)]+_0x3b3b2d(0xe9));}}catch(_0x1772a1){let _0x4c2d6e={'error':!0x0,'errorLog':_0x1772a1[_0x3b3b2d(0x623)]()};this[_0x3b3b2d(0x1b7)](_0x2a3841,_0x9d8e3c,_0x4c2d6e),this[_0x3b3b2d(0x46b)][_0x3b3b2d(0x47b)](this[_0x3b3b2d(0x479)]+'\x20('+this['instance'][_0x3b3b2d(0x6ab)]+_0x3b3b2d(0x632)+(_0x1772a1 instanceof Error?_0x1772a1[_0x3b3b2d(0x5f5)]:JSON['stringify'](_0x1772a1,null,0x2)));}}async[a0_0x58753f(0x70e)](_0x15c7e1,_0x5a6adf){const _0x3a19aa=a0_0x58753f;let _0x3ee2c7=_0x15c7e1['remoteJid'];_0x5a6adf[_0x3a19aa(0x2de)][_0x3a19aa(0x41f)]&&_0x5a6adf[_0x3a19aa(0x2de)][_0x3a19aa(0x41f)][_0x3a19aa(0x24c)]()!==''&&(_0x3ee2c7=_0x5a6adf[_0x3a19aa(0x2de)][_0x3a19aa(0x41f)]['trim']()),this[_0x3a19aa(0x46b)][_0x3a19aa(0x19c)](this['instanceName']+'\x20('+this['instance'][_0x3a19aa(0x6ab)]+_0x3a19aa(0x48e));let _0x4872cf={'number':_0x3ee2c7,'options':{'delay':_0x5a6adf['uazapi'][_0x3a19aa(0x48f)]},'audioMessage':{'audio':_0x5a6adf[_0x3a19aa(0x2de)][_0x3a19aa(0x1ca)]}};try{let _0x50e8ed=await this['audioWhatsapp'](_0x4872cf);if(_0x50e8ed){let _0x495ebe={'_id':_0x50e8ed[_0x3a19aa(0x54b)]['id'],'_fromMe':_0x50e8ed[_0x3a19aa(0x54b)][_0x3a19aa(0x3a1)],'_remoteJid':_0x50e8ed[_0x3a19aa(0x54b)][_0x3a19aa(0x41f)]},_0x4ab467=(0x0,g[_0x3a19aa(0x529)])(_0x50e8ed[_0x3a19aa(0x5f5)]),_0x52f439=(0x0,g[_0x3a19aa(0x72f)])(_0x4ab467);_0x15c7e1[_0x3a19aa(0x364)][_0x3a19aa(0x5bc)]=_0x5a6adf[_0x3a19aa(0x29f)][_0x3a19aa(0x623)]();let {message_normalized:_0xa1b15c}=this[_0x3a19aa(0x3ae)](_0x4ab467,_0x52f439,null);_0x15c7e1[_0x3a19aa(0x364)][_0x3a19aa(0x35f)]=await _0xa1b15c;let _0x100522={'messageId':_0x50e8ed['key']['id']},_0x4f5e54=_0x15c7e1[_0x3a19aa(0x364)][_0x3a19aa(0x639)];Object[_0x3a19aa(0x1c4)](_0x4f5e54,_0x495ebe),_0x15c7e1[_0x3a19aa(0x364)][_0x3a19aa(0x639)]=_0x4f5e54,this[_0x3a19aa(0x1b7)](_0x15c7e1,_0x5a6adf,_0x100522);}else{let _0x50789b={'error':!0x0};this[_0x3a19aa(0x1b7)](_0x15c7e1,_0x5a6adf,_0x50789b),this[_0x3a19aa(0x46b)][_0x3a19aa(0x47b)](this[_0x3a19aa(0x479)]+'\x20('+this[_0x3a19aa(0x339)][_0x3a19aa(0x6ab)]+_0x3a19aa(0x2ba));}}catch(_0x4db8e9){let _0x44c06c={'error':!0x0,'errorLog':_0x4db8e9[_0x3a19aa(0x623)]()};this['updateConversation'](_0x15c7e1,_0x5a6adf,_0x44c06c),this['logger'][_0x3a19aa(0x47b)](this[_0x3a19aa(0x479)]+'\x20('+this[_0x3a19aa(0x339)]['wuid']+_0x3a19aa(0x473)+(_0x4db8e9 instanceof Error?_0x4db8e9[_0x3a19aa(0x5f5)]:JSON[_0x3a19aa(0x212)](_0x4db8e9,null,0x2)));}}async[a0_0x58753f(0x1cd)](_0x480449,_0x59a694){const _0x138eea=a0_0x58753f;let _0x2d9878=_0x480449[_0x138eea(0x41f)];_0x59a694[_0x138eea(0x2de)]['remoteJid']&&_0x59a694['uazapi'][_0x138eea(0x41f)][_0x138eea(0x24c)]()!==''&&(_0x2d9878=_0x59a694[_0x138eea(0x2de)][_0x138eea(0x41f)][_0x138eea(0x24c)]()),this[_0x138eea(0x46b)][_0x138eea(0x19c)](this[_0x138eea(0x479)]+'\x20('+this[_0x138eea(0x339)][_0x138eea(0x6ab)]+'):\x20Enviando\x20contato');let _0x1a2474={'number':_0x2d9878,'options':{'delay':_0x59a694[_0x138eea(0x2de)][_0x138eea(0x48f)]},'contactMessage':[{'fullName':_0x59a694[_0x138eea(0x2de)][_0x138eea(0x6e7)],'phoneNumber':_0x59a694[_0x138eea(0x2de)][_0x138eea(0x4a9)]}]};try{let _0x282c03=await this[_0x138eea(0x162)](_0x1a2474);if(_0x282c03){let _0x54d504={'_id':_0x282c03[_0x138eea(0x54b)]['id'],'_fromMe':_0x282c03['key'][_0x138eea(0x3a1)],'_remoteJid':_0x282c03[_0x138eea(0x54b)][_0x138eea(0x41f)]},_0x2451d1=(0x0,g['normalizeMessageContent'])(_0x282c03[_0x138eea(0x5f5)]),_0x592bed=(0x0,g[_0x138eea(0x72f)])(_0x2451d1);_0x480449[_0x138eea(0x364)][_0x138eea(0x5bc)]=_0x59a694[_0x138eea(0x29f)]['toString']();let {message_normalized:_0x50b582}=this[_0x138eea(0x3ae)](_0x2451d1,_0x592bed,null);_0x480449[_0x138eea(0x364)]['lastSendMessage']=await _0x50b582;let _0x2933eb={'messageId':_0x282c03['key']['id']},_0x401a4f=_0x480449[_0x138eea(0x364)][_0x138eea(0x639)];Object[_0x138eea(0x1c4)](_0x401a4f,_0x54d504),_0x480449[_0x138eea(0x364)][_0x138eea(0x639)]=_0x401a4f,this[_0x138eea(0x1b7)](_0x480449,_0x59a694,_0x2933eb);}else{let _0x18ce27={'error':!0x0};this[_0x138eea(0x1b7)](_0x480449,_0x59a694,_0x18ce27),this[_0x138eea(0x46b)][_0x138eea(0x47b)](this[_0x138eea(0x479)]+'\x20('+this[_0x138eea(0x339)]['wuid']+_0x138eea(0x41a));}}catch(_0x1daf73){let _0x191910={'error':!0x0,'errorLog':_0x1daf73[_0x138eea(0x623)]()};this[_0x138eea(0x1b7)](_0x480449,_0x59a694,_0x191910),this[_0x138eea(0x46b)]['error'](this[_0x138eea(0x479)]+'\x20('+this[_0x138eea(0x339)]['wuid']+_0x138eea(0x5c2)+(_0x1daf73 instanceof Error?_0x1daf73[_0x138eea(0x5f5)]:JSON['stringify'](_0x1daf73,null,0x2)));}}[a0_0x58753f(0x60a)](_0x2660b2,_0x235897){const _0x12fefa=a0_0x58753f;for(let _0x24269e of _0x2660b2)_0x24269e['option']&&(_0x24269e[_0x12fefa(0x131)]=this['replaceVariables'](_0x24269e[_0x12fefa(0x131)],_0x235897)),_0x24269e['optionDescription']&&(_0x24269e[_0x12fefa(0x590)]=this[_0x12fefa(0x3bd)](_0x24269e[_0x12fefa(0x590)],_0x235897));}async[a0_0x58753f(0x2e0)](_0x4e0dc6,_0xfe591){const _0x3bdc0b=a0_0x58753f;let _0x5a68e6=_0x4e0dc6[_0x3bdc0b(0x41f)];_0xfe591['uazapi'][_0x3bdc0b(0x41f)]&&_0xfe591['uazapi'][_0x3bdc0b(0x41f)][_0x3bdc0b(0x24c)]()!==''&&(_0x5a68e6=_0xfe591[_0x3bdc0b(0x2de)][_0x3bdc0b(0x41f)]['trim']()),this['logger'][_0x3bdc0b(0x19c)](this['instanceName']+'\x20('+this[_0x3bdc0b(0x339)][_0x3bdc0b(0x6ab)]+_0x3bdc0b(0x6a8));let _0x3f32b8=_0x4e0dc6[_0x3bdc0b(0x69d)]['filter'](_0x56b928=>_0x56b928['blockId']===_0xfe591['_id'])['sort']((_0x2a8918,_0x6ef702)=>_0x2a8918[_0x3bdc0b(0x43a)]-_0x6ef702[_0x3bdc0b(0x43a)]);this[_0x3bdc0b(0x60a)](_0x3f32b8,_0x4e0dc6['chatLog'][_0x3bdc0b(0x639)]);let _0x33f977=_0x3f32b8[_0x3bdc0b(0x378)](_0x321414=>_0x321414[_0x3bdc0b(0x131)]),_0x5ba47a={'number':_0x5a68e6,'menuMessage':{'type':_0xfe591[_0x3bdc0b(0x2de)][_0x3bdc0b(0x2ee)]||_0x3bdc0b(0x1b0),'text':_0xfe591[_0x3bdc0b(0x2de)][_0x3bdc0b(0x4f4)]||_0xfe591['uazapi']['name'],'footerText':_0xfe591[_0x3bdc0b(0x2de)]['footerText'],'buttonText':_0xfe591['uazapi'][_0x3bdc0b(0x10c)],'selectableCount':0x1,'choices':_0x33f977},'options':{'delay':_0xfe591['uazapi']['delay']}};try{let _0x4b9c37=await this['menuMessage'](_0x5ba47a);if(_0x4b9c37){let _0x22829a={'_id':_0x4b9c37[_0x3bdc0b(0x54b)]['id'],'_fromMe':_0x4b9c37[_0x3bdc0b(0x54b)][_0x3bdc0b(0x3a1)],'_remoteJid':_0x4b9c37[_0x3bdc0b(0x54b)][_0x3bdc0b(0x41f)]};_0xfe591['uazapi'][_0x3bdc0b(0x2ac)]===!0x0&&(_0x4e0dc6['status']=_0x3bdc0b(0x50c),this[_0x3bdc0b(0x46b)][_0x3bdc0b(0x19c)](this[_0x3bdc0b(0x479)]+'\x20('+this[_0x3bdc0b(0x339)][_0x3bdc0b(0x6ab)]+'):\x20conversation.status:\x20'+_0x4e0dc6[_0x3bdc0b(0x593)])),this[_0x3bdc0b(0x46b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20nextBlock.uazapi.name'+(_0xfe591[_0x3bdc0b(0x2de)][_0x3bdc0b(0x730)]||_0xfe591[_0x3bdc0b(0x2de)][_0x3bdc0b(0x4f4)])),_0x4e0dc6[_0x3bdc0b(0x562)]=_0x4b9c37[_0x3bdc0b(0x54b)]['id'],_0x4e0dc6[_0x3bdc0b(0x2fd)]=_0xfe591[_0x3bdc0b(0x2de)]['name']||_0xfe591[_0x3bdc0b(0x2de)][_0x3bdc0b(0x4f4)],_0x4e0dc6[_0x3bdc0b(0x3bc)]=_0x3f32b8,_0xfe591[_0x3bdc0b(0x2de)][_0x3bdc0b(0x41e)]&&(_0x4e0dc6['waitingMenu_ExpiredMessage']=_0xfe591[_0x3bdc0b(0x2de)]['menuExpiredMessage']),this[_0x3bdc0b(0x46b)]['verbose'](this[_0x3bdc0b(0x479)]+'\x20('+this[_0x3bdc0b(0x339)][_0x3bdc0b(0x6ab)]+_0x3bdc0b(0x551)+_0x4e0dc6[_0x3bdc0b(0x2fd)]);let _0x1004b3=(0x0,g[_0x3bdc0b(0x529)])(_0x4b9c37['message']),_0x1e7e0a=(0x0,g['getContentType'])(_0x1004b3);_0x4e0dc6[_0x3bdc0b(0x364)][_0x3bdc0b(0x5bc)]=_0xfe591[_0x3bdc0b(0x29f)][_0x3bdc0b(0x623)]();let {message_normalized:_0x981867}=this[_0x3bdc0b(0x3ae)](_0x1004b3,_0x1e7e0a,null);_0x4e0dc6[_0x3bdc0b(0x364)]['lastSendMessage']=await _0x981867;let _0x9e8823={'messageId':_0x4b9c37[_0x3bdc0b(0x54b)]['id']},_0xf38149=_0x4e0dc6[_0x3bdc0b(0x364)][_0x3bdc0b(0x639)];Object[_0x3bdc0b(0x1c4)](_0xf38149,_0x22829a),_0x4e0dc6['chatLog'][_0x3bdc0b(0x639)]=_0xf38149,this[_0x3bdc0b(0x1b7)](_0x4e0dc6,_0xfe591,_0x9e8823);}else{let _0x35d721={'error':!0x0};this[_0x3bdc0b(0x1b7)](_0x4e0dc6,_0xfe591,_0x35d721),this[_0x3bdc0b(0x46b)][_0x3bdc0b(0x47b)](this[_0x3bdc0b(0x479)]+'\x20('+this[_0x3bdc0b(0x339)]['wuid']+_0x3bdc0b(0x70c));}}catch(_0x38fa6a){let _0x1bcdd4={'error':!0x0,'errorLog':_0x38fa6a instanceof Error?_0x38fa6a[_0x3bdc0b(0x5f5)]:JSON[_0x3bdc0b(0x212)](_0x38fa6a,null,0x2)};this[_0x3bdc0b(0x1b7)](_0x4e0dc6,_0xfe591,_0x1bcdd4),this[_0x3bdc0b(0x46b)][_0x3bdc0b(0x47b)](this[_0x3bdc0b(0x479)]+'\x20('+this[_0x3bdc0b(0x339)][_0x3bdc0b(0x6ab)]+_0x3bdc0b(0x4ae)+(_0x38fa6a instanceof Error?_0x38fa6a[_0x3bdc0b(0x5f5)]:JSON[_0x3bdc0b(0x212)](_0x38fa6a,null,0x2)));}}async[a0_0x58753f(0x16c)](_0x2cf48f,_0x100113){const _0x31409b=a0_0x58753f;this[_0x31409b(0x46b)][_0x31409b(0x19c)](this['instanceName']+'\x20('+this[_0x31409b(0x339)][_0x31409b(0x6ab)]+'):\x20Deletando\x20mensagem');let _0x2f6f43=_0x2cf48f[_0x31409b(0x364)][_0x31409b(0x493)][_0x31409b(0x53a)](_0x2eeddf=>_0x2eeddf[_0x31409b(0x6e9)]['toString']()===_0x100113[_0x31409b(0x2de)][_0x31409b(0x6e9)][_0x31409b(0x623)]()),_0xcbee5a={'id':_0x2f6f43[_0x31409b(0x516)],'remoteJid':_0x2f6f43['remoteJid'],'fromMe':_0x2f6f43[_0x31409b(0x3a1)]};try{let _0x5ef520=await this[_0x31409b(0x6ce)](_0xcbee5a);if(_0x5ef520){let _0x2b50b0=(0x0,g[_0x31409b(0x529)])(_0x5ef520[_0x31409b(0x5f5)]),_0x200ce8=(0x0,g[_0x31409b(0x72f)])(_0x2b50b0);_0x2cf48f[_0x31409b(0x364)][_0x31409b(0x5bc)]=_0x100113['_id'][_0x31409b(0x623)]();let {message_normalized:_0x723d07}=this['normalizeMessage'](_0x2b50b0,_0x200ce8,null);_0x2cf48f['chatLog'][_0x31409b(0x35f)]=await _0x723d07;let _0x4e3855={};this[_0x31409b(0x1b7)](_0x2cf48f,_0x100113,_0x4e3855);}else{let _0x10fd4c={'error':!0x0};this[_0x31409b(0x1b7)](_0x2cf48f,_0x100113,_0x10fd4c),this[_0x31409b(0x46b)][_0x31409b(0x47b)](this[_0x31409b(0x479)]+'\x20('+this[_0x31409b(0x339)]['wuid']+_0x31409b(0x505));}}catch(_0x63812b){let _0x4ee505={'error':!0x0,'errorLog':_0x63812b instanceof Error?_0x63812b['message']:JSON[_0x31409b(0x212)](_0x63812b,null,0x2)};this[_0x31409b(0x1b7)](_0x2cf48f,_0x100113,_0x4ee505),this[_0x31409b(0x46b)]['error'](this[_0x31409b(0x479)]+'\x20('+this[_0x31409b(0x339)][_0x31409b(0x6ab)]+_0x31409b(0x3cb)+(_0x63812b instanceof Error?_0x63812b['message']:JSON[_0x31409b(0x212)](_0x63812b,null,0x2)));}}async[a0_0x58753f(0x3ec)](_0x432665){const _0x443686=a0_0x58753f;if(!_0x432665['name'])throw new w(_0x443686(0x47e));if(await this[_0x443686(0x628)]['flow'][_0x443686(0x2e1)]({'where':{'name':_0x432665[_0x443686(0x730)]}},this[_0x443686(0x339)][_0x443686(0x6ab)]))throw new w('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x443686(0x730)in _0x432665&&'sharePass'in _0x432665&&_0x443686(0x4a8)in _0x432665&&Object['keys'](_0x432665)[_0x443686(0x676)]===0x3?this[_0x443686(0x1a1)](_0x432665[_0x443686(0x4a8)],_0x432665[_0x443686(0x221)],_0x432665[_0x443686(0x730)]):this[_0x443686(0x683)](_0x432665);}async[a0_0x58753f(0x1a1)](_0x10d6b4,_0x3e5f87,_0x1c55b4){const _0x212aa2=a0_0x58753f;try{this[_0x212aa2(0x46b)][_0x212aa2(0x19c)](this[_0x212aa2(0x479)]+'\x20('+this['instance'][_0x212aa2(0x6ab)]+_0x212aa2(0x358));let _0x3071c0=await this['repository'][_0x212aa2(0x57c)]['findOne']({'where':{'name':_0x1c55b4,'sharePass':_0x3e5f87}},_0x10d6b4);if(!_0x3071c0)throw new w(_0x212aa2(0x609));let _0x57d58d={..._0x3071c0};return _0x57d58d[_0x212aa2(0x4a8)]=this[_0x212aa2(0x339)][_0x212aa2(0x6ab)],_0x57d58d['shareOwners']=Array[_0x212aa2(0x173)](new Set([..._0x3071c0[_0x212aa2(0x149)]||[],_0x3071c0[_0x212aa2(0x4a8)],this['instance']['wuid']])),_0x3071c0[_0x212aa2(0x149)]=_0x57d58d[_0x212aa2(0x149)],await this[_0x212aa2(0x628)][_0x212aa2(0x57c)]['updateOne'](_0x3071c0['_id'],{'shareOwners':_0x3071c0[_0x212aa2(0x149)]},_0x3071c0[_0x212aa2(0x4a8)]),_0x3071c0[_0x212aa2(0x36d)]===!0x0&&await this[_0x212aa2(0x628)][_0x212aa2(0x57c)][_0x212aa2(0x3e1)]({},{'default':!0x1},this[_0x212aa2(0x339)]['wuid']),await this[_0x212aa2(0x628)][_0x212aa2(0x57c)][_0x212aa2(0x5de)](_0x57d58d,this['instance']['wuid']);}catch(_0x3e282e){throw this[_0x212aa2(0x46b)][_0x212aa2(0x47b)](this[_0x212aa2(0x479)]+'\x20('+this[_0x212aa2(0x339)]['wuid']+_0x212aa2(0x606)+_0x3e282e),new w(_0x212aa2(0x133)+_0x3e282e);}}async[a0_0x58753f(0x683)](_0x5b610e){const _0x2f5dfc=a0_0x58753f;try{this[_0x2f5dfc(0x46b)][_0x2f5dfc(0x19c)](this['instanceName']+'\x20('+this[_0x2f5dfc(0x339)]['wuid']+'):\x20Criando\x20fluxo\x20regular...'),delete _0x5b610e[_0x2f5dfc(0x149)],delete _0x5b610e[_0x2f5dfc(0x221)],delete _0x5b610e[_0x2f5dfc(0x4a8)],_0x5b610e[_0x2f5dfc(0x36d)]===!0x0&&await this['repository']['flow']['updateMany']({},{'default':!0x1},this[_0x2f5dfc(0x339)][_0x2f5dfc(0x6ab)]);let _0x1233d4=new ce[(_0x2f5dfc(0x222))]['ObjectId'](),_0x1b3580={'_id':_0x1233d4,'default':!0x0,'title':_0x2f5dfc(0x21f),'x':0x0,'y':0x0},_0x48cfc1={'_id':new ce['Types'][(_0x2f5dfc(0x41b))](),'order':0x1,'groupId':_0x1233d4[_0x2f5dfc(0x623)](),'type':'start'},_0x2aefd2={'_id':new ce['Types'][(_0x2f5dfc(0x41b))](),'owner':this['instance'][_0x2f5dfc(0x6ab)],'name':_0x5b610e[_0x2f5dfc(0x730)],'groups':[_0x1b3580],'blocks':[_0x48cfc1],..._0x5b610e};return await this[_0x2f5dfc(0x628)][_0x2f5dfc(0x57c)]['createAndSave'](_0x2aefd2,this[_0x2f5dfc(0x339)][_0x2f5dfc(0x6ab)]);}catch(_0x2ac06c){throw this[_0x2f5dfc(0x46b)][_0x2f5dfc(0x47b)](this['instanceName']+'\x20('+this[_0x2f5dfc(0x339)][_0x2f5dfc(0x6ab)]+_0x2f5dfc(0x2bf)+_0x2ac06c),new w(_0x2f5dfc(0x572)+_0x2ac06c);}}async['synchronizeFlows'](_0xb16f25,_0x53fab1){const _0xa6aed3=a0_0x58753f;try{let _0x123459=await this[_0xa6aed3(0x628)][_0xa6aed3(0x57c)]['findOne']({'where':{'_id':_0xb16f25}},_0x53fab1);if(_0x123459&&_0x123459[_0xa6aed3(0x149)]){for(let _0x2da822 of _0x123459[_0xa6aed3(0x149)])if(_0x2da822!==_0x53fab1){let _0x41968d={..._0x123459,'owner':_0x2da822};await this[_0xa6aed3(0x628)][_0xa6aed3(0x57c)][_0xa6aed3(0x56d)](_0xb16f25,_0x41968d,_0x2da822);}}}catch(_0x55d33b){this[_0xa6aed3(0x46b)][_0xa6aed3(0x47b)](_0xa6aed3(0x300)+_0x55d33b);}}async[a0_0x58753f(0x40e)](_0xa30a3d){const _0x10498f=a0_0x58753f;try{this[_0x10498f(0x46b)]['verbose'](this[_0x10498f(0x479)]+'\x20('+this['instance'][_0x10498f(0x6ab)]+'):\x20Deletando\x20fluxo...');let _0x2e4995=await this[_0x10498f(0x628)][_0x10498f(0x57c)][_0x10498f(0x2e1)]({'where':{'name':_0xa30a3d}},this['instance'][_0x10498f(0x6ab)]);if(_0x2e4995&&_0x2e4995[_0x10498f(0x149)]&&_0x2e4995[_0x10498f(0x149)][_0x10498f(0x676)]>0x1){for(let _0x1490d7 of _0x2e4995[_0x10498f(0x149)])if(_0x1490d7!==this[_0x10498f(0x339)][_0x10498f(0x6ab)]){let _0x476980=await this[_0x10498f(0x628)][_0x10498f(0x57c)][_0x10498f(0x2e1)]({'where':{'sharePass':_0x2e4995['sharePass']}},_0x1490d7);_0x476980&&(_0x476980[_0x10498f(0x149)]=_0x476980['shareOwners']['filter'](_0x27760b=>_0x27760b!==_0x2e4995[_0x10498f(0x4a8)]),await this['repository']['flow'][_0x10498f(0x614)](_0x476980[_0x10498f(0x29f)],{'shareOwners':_0x476980[_0x10498f(0x149)]},_0x1490d7));}}return await this[_0x10498f(0x628)][_0x10498f(0x57c)][_0x10498f(0x414)]({'where':{'name':_0xa30a3d}},this[_0x10498f(0x339)]['wuid']);}catch(_0x216bd6){return this[_0x10498f(0x46b)][_0x10498f(0x47b)](this['instanceName']+'\x20('+this[_0x10498f(0x339)]['wuid']+_0x10498f(0x4de)+(_0x216bd6 instanceof Error?_0x216bd6[_0x10498f(0x5f5)]:JSON[_0x10498f(0x212)](_0x216bd6,null,0x2))),{'message':_0x10498f(0x157)+_0x216bd6};}}async[a0_0x58753f(0x33e)](_0xc19a34){const _0x5670d1=a0_0x58753f;try{this[_0x5670d1(0x46b)][_0x5670d1(0x19c)](this[_0x5670d1(0x479)]+'\x20('+this[_0x5670d1(0x339)][_0x5670d1(0x6ab)]+_0x5670d1(0x52c));let _0x1ab795=await this[_0x5670d1(0x628)][_0x5670d1(0x57c)]['findOne']({'where':{'name':_0xc19a34}},this[_0x5670d1(0x339)][_0x5670d1(0x6ab)]);if(!_0x1ab795)throw new Error(_0x5670d1(0x648));if(!this[_0x5670d1(0x2b3)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x3529ce=this[_0x5670d1(0x2b3)]?.[_0x5670d1(0x665)]['map'](_0x4f719e=>_0x4f719e['name']),_0x188f1e=['nome',_0x5670d1(0x2d2),_0x5670d1(0x391),_0x5670d1(0x152),_0x5670d1(0x593),_0x5670d1(0x67c),_0x5670d1(0x42b),_0x5670d1(0x463),_0x5670d1(0x6f5)];_0x1ab795[_0x5670d1(0x35c)]=_0x1ab795[_0x5670d1(0x35c)]['filter'](_0x190bb1=>!(_0x190bb1[_0x5670d1(0x172)]==='leadInfo'||_0x190bb1['leadInfo'])),_0x188f1e['forEach'](_0x4b22e5=>{const _0x4125e4=_0x5670d1;_0x1ab795[_0x4125e4(0x35c)]['push']({'folder':'leadInfo','name':_0x4b22e5,'value':'','doc':'','leadInfo':!0x0});}),_0x3529ce[_0x5670d1(0x537)](_0x40979c=>{const _0x53edda=_0x5670d1;let _0x487cb2=_0x1ab795[_0x53edda(0x35c)][_0x53edda(0x5b6)](_0x5698b7=>_0x5698b7[_0x53edda(0x730)]===_0x40979c);_0x487cb2===-0x1?_0x1ab795['variables'][_0x53edda(0x174)]({'folder':_0x53edda(0x56b),'name':_0x40979c,'value':'','doc':'','leadInfo':!0x0}):(_0x1ab795['variables'][_0x487cb2]['folder']='leadInfo',_0x1ab795['variables'][_0x487cb2][_0x53edda(0x56b)]=!0x0);}),_0x1ab795['blocks']&&_0x1ab795[_0x5670d1(0x239)][_0x5670d1(0x676)]>0x0&&_0x1ab795['blocks']['forEach'](_0x966c4f=>{const _0x2990fa=_0x5670d1;_0x966c4f['groupId']&&_0x966c4f[_0x2990fa(0x5e3)]&&_0x966c4f['groupId']===_0x966c4f[_0x2990fa(0x5e3)]&&(_0x966c4f[_0x2990fa(0x5e3)]=null);});let _0x3130c1=await this[_0x5670d1(0x628)][_0x5670d1(0x57c)][_0x5670d1(0x614)](_0x1ab795['_id'],_0x1ab795,this[_0x5670d1(0x339)][_0x5670d1(0x6ab)]);if(!_0x3130c1)throw new Error(_0x5670d1(0x192));return _0x3130c1;}catch(_0x434be7){throw this[_0x5670d1(0x46b)][_0x5670d1(0x47b)](this[_0x5670d1(0x479)]+'\x20('+this[_0x5670d1(0x339)][_0x5670d1(0x6ab)]+_0x5670d1(0x4ef)+(_0x434be7 instanceof Error?_0x434be7[_0x5670d1(0x5f5)]:JSON['stringify'](_0x434be7,null,0x2))),new w(_0x5670d1(0x5ba)+_0x434be7);}}async[a0_0x58753f(0x3ba)](){const _0x2b3e82=a0_0x58753f;try{return this[_0x2b3e82(0x46b)][_0x2b3e82(0x19c)](this[_0x2b3e82(0x479)]+'\x20('+this[_0x2b3e82(0x339)]['wuid']+_0x2b3e82(0x5d0)),await this[_0x2b3e82(0x628)]['flow'][_0x2b3e82(0x196)](this[_0x2b3e82(0x339)]['wuid']),await this['repository']['flow'][_0x2b3e82(0x160)]({'where':{}},this[_0x2b3e82(0x339)]['wuid']);}catch(_0x3e457f){return this[_0x2b3e82(0x46b)][_0x2b3e82(0x47b)](this['instanceName']+'\x20('+this[_0x2b3e82(0x339)][_0x2b3e82(0x6ab)]+_0x2b3e82(0x558)+(_0x3e457f instanceof Error?_0x3e457f[_0x2b3e82(0x5f5)]:JSON[_0x2b3e82(0x212)](_0x3e457f,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x3e457f};}}async[a0_0x58753f(0x751)](_0x29738d){const _0x50a035=a0_0x58753f;try{this['logger']['verbose'](this[_0x50a035(0x479)]+'\x20('+this[_0x50a035(0x339)][_0x50a035(0x6ab)]+'):\x20Alterando\x20fluxo...');let _0xc3115=await this[_0x50a035(0x628)][_0x50a035(0x57c)][_0x50a035(0x2e1)]({'where':{'name':_0x29738d[_0x50a035(0x730)]}},this[_0x50a035(0x339)]['wuid']);if(!_0xc3115)return{'message':'Fluxo\x20não\x20encontrado'};_0x29738d[_0x50a035(0x36d)]===!0x0&&await this['repository'][_0x50a035(0x57c)][_0x50a035(0x3e1)]({},{'default':!0x1},this['instance'][_0x50a035(0x6ab)]),delete _0x29738d[_0x50a035(0x149)],delete _0x29738d['sharePass'];let _0x5849c5=await this[_0x50a035(0x628)][_0x50a035(0x57c)][_0x50a035(0x614)](_0xc3115[_0x50a035(0x29f)],_0x29738d,this[_0x50a035(0x339)][_0x50a035(0x6ab)]);return _0x5849c5&&_0x5849c5[_0x50a035(0x149)]&&_0x5849c5[_0x50a035(0x149)][_0x50a035(0x676)]>0x1&&this[_0x50a035(0x6e2)](_0x5849c5['_id'],this[_0x50a035(0x339)]['wuid']),_0x5849c5;}catch(_0x409142){throw this[_0x50a035(0x46b)]['error'](this[_0x50a035(0x479)]+'\x20('+this[_0x50a035(0x339)][_0x50a035(0x6ab)]+_0x50a035(0x25e)+(_0x409142 instanceof Error?_0x409142[_0x50a035(0x5f5)]:JSON[_0x50a035(0x212)](_0x409142,null,0x2))),new w('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x409142 instanceof Error?_0x409142[_0x50a035(0x5f5)]:JSON[_0x50a035(0x212)](_0x409142,null,0x2)));}}async[a0_0x58753f(0x4f3)](_0x5c65f9){const _0x5e36f7=a0_0x58753f;try{this[_0x5e36f7(0x46b)][_0x5e36f7(0x19c)](this['instanceName']+'\x20('+this[_0x5e36f7(0x339)][_0x5e36f7(0x6ab)]+_0x5e36f7(0x193));let _0x2fb227=await this['repository']['flow'][_0x5e36f7(0x2e1)]({'where':{'name':_0x5c65f9[_0x5e36f7(0x730)]}},this[_0x5e36f7(0x339)][_0x5e36f7(0x6ab)]);_0x2fb227||this[_0x5e36f7(0x5ce)](_0x5e36f7(0x648));let {block:_0x1269a6}=_0x5c65f9;_0x1269a6?.[_0x5e36f7(0x165)]?this[_0x5e36f7(0x685)](_0x2fb227,_0x5c65f9):_0x1269a6?.[_0x5e36f7(0x17c)]?this['deleteBlock'](_0x2fb227,_0x5c65f9):_0x1269a6[_0x5e36f7(0x29f)]?await this[_0x5e36f7(0x5d8)](_0x2fb227,_0x5c65f9):this[_0x5e36f7(0x294)](_0x2fb227,_0x5c65f9);let _0x29eaf0=await this[_0x5e36f7(0x628)][_0x5e36f7(0x57c)][_0x5e36f7(0x614)](_0x2fb227[_0x5e36f7(0x29f)],_0x2fb227,this['instance'][_0x5e36f7(0x6ab)]);if(_0x29eaf0&&_0x29eaf0[_0x5e36f7(0x149)]&&_0x29eaf0[_0x5e36f7(0x149)][_0x5e36f7(0x676)]>0x1&&this[_0x5e36f7(0x6e2)](_0x29eaf0[_0x5e36f7(0x29f)],this['instance'][_0x5e36f7(0x6ab)]),!_0x29eaf0)throw new Error(_0x5e36f7(0x192));return _0x29eaf0;}catch(_0x4c7273){this['throwAndLogError'](_0x5e36f7(0x328)+_0x4c7273);}}async[a0_0x58753f(0x685)](_0x18a90a,_0x1850c5){const _0x16c10d=a0_0x58753f;let _0x6bfded=_0x1850c5[_0x16c10d(0x6c9)]['_id'],_0x48b8ef=_0x18a90a[_0x16c10d(0x239)]['find'](_0x32bd5b=>_0x32bd5b['_id']['toString']()===_0x6bfded);if(!_0x48b8ef){this[_0x16c10d(0x46b)][_0x16c10d(0x47b)](this['instanceName']+'\x20('+this[_0x16c10d(0x339)]['wuid']+_0x16c10d(0x578)+_0x6bfded+_0x16c10d(0x357));return;}this[_0x16c10d(0x46b)]['verbose'](this[_0x16c10d(0x479)]+'\x20('+this['instance'][_0x16c10d(0x6ab)]+_0x16c10d(0x565)+JSON[_0x16c10d(0x212)](_0x48b8ef));let _0x5f2903=JSON[_0x16c10d(0x638)](JSON[_0x16c10d(0x212)](_0x48b8ef));_0x5f2903[_0x16c10d(0x29f)]=new ce['default']['Types']['ObjectId'](),this[_0x16c10d(0x46b)]['verbose'](this['instanceName']+'\x20('+this[_0x16c10d(0x339)][_0x16c10d(0x6ab)]+_0x16c10d(0xfd)+JSON[_0x16c10d(0x212)](_0x5f2903)),_0x18a90a[_0x16c10d(0x239)]['push'](_0x5f2903),this['reorderBlocks'](_0x18a90a['blocks'],_0x5f2903[_0x16c10d(0x57b)]);}['throwAndLogError'](_0x4d1885){const _0x54f83d=a0_0x58753f;throw this[_0x54f83d(0x46b)]['error'](this[_0x54f83d(0x479)]+'\x20('+this['instance'][_0x54f83d(0x6ab)]+_0x54f83d(0x2b9)+_0x4d1885),new w(_0x4d1885);}[a0_0x58753f(0x2c8)](_0x261564,_0xe9ace6){const _0x46db5c=a0_0x58753f;let {block:_0x5d119e}=_0xe9ace6;if(_0x5d119e[_0x46db5c(0x4bb)]===_0x46db5c(0x3eb)){this[_0x46db5c(0x5ce)](_0x46db5c(0x5c6));return;}if(!_0x5d119e[_0x46db5c(0x29f)]){this[_0x46db5c(0x5ce)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x4f4529=_0x261564[_0x46db5c(0x239)][_0x46db5c(0x53a)](_0x5be203=>_0x5be203['_id'][_0x46db5c(0x623)]()===_0xe9ace6[_0x46db5c(0x6c9)][_0x46db5c(0x29f)][_0x46db5c(0x623)]());if(!_0x4f4529){this[_0x46db5c(0x5ce)]('Bloco\x20com\x20ID\x20'+_0x5d119e[_0x46db5c(0x29f)]+_0x46db5c(0x4cc));return;}_0x261564[_0x46db5c(0x239)]=_0x261564['blocks']['filter'](_0x2b79cc=>_0x2b79cc[_0x46db5c(0x29f)][_0x46db5c(0x623)]()!==_0xe9ace6['block'][_0x46db5c(0x29f)]['toString']()),_0x261564[_0x46db5c(0x13e)]=_0x261564['conditions'][_0x46db5c(0x56a)](_0x2be286=>_0x2be286[_0x46db5c(0x6e9)]!==_0x5d119e[_0x46db5c(0x29f)][_0x46db5c(0x623)]()),_0x261564[_0x46db5c(0x591)]=_0x261564[_0x46db5c(0x591)][_0x46db5c(0x56a)](_0x29ab8c=>_0x29ab8c['blockId']!==_0x5d119e[_0x46db5c(0x29f)][_0x46db5c(0x623)]()),_0x261564[_0x46db5c(0x69d)]=_0x261564[_0x46db5c(0x69d)][_0x46db5c(0x56a)](_0x5d5ac1=>_0x5d5ac1['blockId']!==_0x5d119e[_0x46db5c(0x29f)][_0x46db5c(0x623)]()),this['reorderBlocks'](_0x261564['blocks'],_0x4f4529[_0x46db5c(0x57b)]);}async[a0_0x58753f(0x5d8)](_0x43531b,_0x508ce9){const _0x2f8275=a0_0x58753f;let _0x3f1ab6=_0x43531b['blocks'][_0x2f8275(0x5b6)](_0x50505b=>_0x50505b[_0x2f8275(0x29f)][_0x2f8275(0x623)]()===_0x508ce9[_0x2f8275(0x6c9)]['_id'][_0x2f8275(0x623)]());if(this['logger'][_0x2f8275(0x19c)](this[_0x2f8275(0x479)]+'\x20('+this[_0x2f8275(0x339)][_0x2f8275(0x6ab)]+_0x2f8275(0x329)+_0x3f1ab6),_0x3f1ab6===-0x1){this[_0x2f8275(0x46b)][_0x2f8275(0x19c)](_0x2f8275(0x608)+_0x508ce9[_0x2f8275(0x6c9)]['_id']+_0x2f8275(0x640));return;}if(_0x43531b[_0x2f8275(0x239)][_0x3f1ab6]['type']==='start'){let _0x31d671=Object[_0x2f8275(0x14b)](_0x508ce9['block']);if(_0x31d671['length']>0x2||_0x31d671[_0x2f8275(0x676)]===0x2&&!_0x31d671[_0x2f8275(0x1db)](_0x2f8275(0x5e3))){this['throwAndLogError'](_0x2f8275(0x49f));return;}}let _0x52a1ef=_0x43531b[_0x2f8275(0x239)][_0x3f1ab6]['groupId'];for(let _0x41dde7 in _0x508ce9[_0x2f8275(0x6c9)])_0x508ce9[_0x2f8275(0x6c9)]['hasOwnProperty'](_0x41dde7)&&(_0x43531b[_0x2f8275(0x239)][_0x3f1ab6][_0x41dde7]=_0x508ce9[_0x2f8275(0x6c9)][_0x41dde7]);if(this[_0x2f8275(0x46b)][_0x2f8275(0x19c)](this[_0x2f8275(0x479)]+'\x20('+this[_0x2f8275(0x339)][_0x2f8275(0x6ab)]+_0x2f8275(0x305)+JSON[_0x2f8275(0x212)](_0x43531b[_0x2f8275(0x239)][_0x3f1ab6])),_0x43531b['blocks'][_0x3f1ab6]['apirequest']&&_0x2f8275(0x12e)in _0x43531b['blocks'][_0x3f1ab6][_0x2f8275(0x592)]){this[_0x2f8275(0x46b)][_0x2f8275(0x19c)](this[_0x2f8275(0x479)]+'\x20('+this[_0x2f8275(0x339)][_0x2f8275(0x6ab)]+_0x2f8275(0x30b));let _0x5c6f1a=JSON['stringify'](_0x43531b[_0x2f8275(0x239)][_0x3f1ab6][_0x2f8275(0x592)][_0x2f8275(0x12e)],null,0x1);_0x5c6f1a['length']>0x2&&(_0x5c6f1a=_0x5c6f1a[_0x2f8275(0x755)](0x1,_0x5c6f1a[_0x2f8275(0x676)]-0x1)[_0x2f8275(0x24c)]()),_0x43531b[_0x2f8275(0x239)][_0x3f1ab6]['apirequest']['headerString']=_0x5c6f1a;}if(_0x43531b[_0x2f8275(0x239)][_0x3f1ab6][_0x2f8275(0x592)]&&_0x2f8275(0x188)in _0x43531b['blocks'][_0x3f1ab6][_0x2f8275(0x592)]){this[_0x2f8275(0x46b)]['verbose'](this[_0x2f8275(0x479)]+'\x20('+this[_0x2f8275(0x339)][_0x2f8275(0x6ab)]+_0x2f8275(0x66a));let _0x1ae5f3=JSON[_0x2f8275(0x212)](_0x43531b[_0x2f8275(0x239)][_0x3f1ab6][_0x2f8275(0x592)][_0x2f8275(0x188)],null,0x1);_0x1ae5f3['length']>0x2&&(_0x1ae5f3=_0x1ae5f3[_0x2f8275(0x755)](0x1,_0x1ae5f3[_0x2f8275(0x676)]-0x1)[_0x2f8275(0x24c)]()),_0x43531b['blocks'][_0x3f1ab6][_0x2f8275(0x592)][_0x2f8275(0x282)]=_0x1ae5f3;}let _0x25dccd=_0x43531b[_0x2f8275(0x239)][_0x3f1ab6]['groupId'];_0x52a1ef!==_0x25dccd?(this[_0x2f8275(0x409)](_0x43531b['blocks'],_0x52a1ef),this[_0x2f8275(0x409)](_0x43531b[_0x2f8275(0x239)],_0x25dccd)):this[_0x2f8275(0x409)](_0x43531b[_0x2f8275(0x239)],_0x52a1ef);}[a0_0x58753f(0x294)](_0x105642,_0x3b85ee){const _0x50dc8a=a0_0x58753f;if(_0x3b85ee[_0x50dc8a(0x6c9)]['type']===_0x50dc8a(0x3eb)){this[_0x50dc8a(0x5ce)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x3b85ee[_0x50dc8a(0x6c9)]['apirequest']&&'header'in _0x3b85ee[_0x50dc8a(0x6c9)]['apirequest']){this[_0x50dc8a(0x46b)][_0x50dc8a(0x19c)](this['instanceName']+'\x20('+this[_0x50dc8a(0x339)][_0x50dc8a(0x6ab)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3cc11c=JSON[_0x50dc8a(0x212)](_0x3b85ee['block'][_0x50dc8a(0x592)]['header'],null,0x1);_0x3cc11c['length']>0x2&&(_0x3cc11c=_0x3cc11c[_0x50dc8a(0x755)](0x1,_0x3cc11c[_0x50dc8a(0x676)]-0x1)[_0x50dc8a(0x24c)]()),_0x3b85ee[_0x50dc8a(0x6c9)]['apirequest'][_0x50dc8a(0x749)]=_0x3cc11c;}_0x3b85ee[_0x50dc8a(0x6c9)]['apirequest']&&_0x50dc8a(0x188)in _0x3b85ee[_0x50dc8a(0x6c9)]['apirequest']&&(this[_0x50dc8a(0x46b)][_0x50dc8a(0x19c)](this[_0x50dc8a(0x479)]+'\x20('+this['instance'][_0x50dc8a(0x6ab)]+_0x50dc8a(0x66a)),_0x3b85ee[_0x50dc8a(0x6c9)][_0x50dc8a(0x592)][_0x50dc8a(0x282)]=JSON[_0x50dc8a(0x212)](_0x3b85ee[_0x50dc8a(0x6c9)]['apirequest']['body'],null,0x1)[_0x50dc8a(0x24c)]()),_0x105642[_0x50dc8a(0x239)][_0x50dc8a(0x174)](_0x3b85ee[_0x50dc8a(0x6c9)]),this['reorderBlocks'](_0x105642[_0x50dc8a(0x239)],_0x3b85ee['block'][_0x50dc8a(0x57b)]);}['reorderBlocks'](_0x1c5f77,_0x18d4f2){const _0x3a67dd=a0_0x58753f;let _0x504b10=_0x1c5f77[_0x3a67dd(0x56a)](_0x4e422b=>_0x4e422b[_0x3a67dd(0x57b)]===_0x18d4f2);_0x504b10[_0x3a67dd(0x42f)]((_0x167c0f,_0x3e4c19)=>_0x167c0f[_0x3a67dd(0x43a)]-_0x3e4c19[_0x3a67dd(0x43a)]),_0x504b10['forEach']((_0x5dc6a1,_0x18bd52)=>_0x5dc6a1[_0x3a67dd(0x43a)]=_0x18bd52+0x1);}async[a0_0x58753f(0x5b0)](_0x30e2bc){const _0x39e09b=a0_0x58753f;try{if(this['logger'][_0x39e09b(0x19c)](this[_0x39e09b(0x479)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20replyOption...'),!_0x30e2bc||!_0x30e2bc[_0x39e09b(0x39b)]){this['throwAndLogError'](_0x39e09b(0xf5));return;}let _0x2cfe0c=await this['repository'][_0x39e09b(0x57c)][_0x39e09b(0x2e1)]({'where':{'name':_0x30e2bc[_0x39e09b(0x730)]}},this[_0x39e09b(0x339)]['wuid']);_0x2cfe0c||this[_0x39e09b(0x5ce)](_0x39e09b(0x648));let {replyOption:_0x4c158a}=_0x30e2bc;_0x4c158a?.[_0x39e09b(0x17c)]?(this[_0x39e09b(0x2d4)](_0x2cfe0c,_0x30e2bc),this[_0x39e09b(0x75d)](_0x2cfe0c['replyOptions'],_0x30e2bc[_0x39e09b(0x39b)][_0x39e09b(0x6e9)])):_0x4c158a[_0x39e09b(0x29f)]?(await this['updateReplyOption'](_0x2cfe0c,_0x30e2bc),this['reorderReplyOptions'](_0x2cfe0c[_0x39e09b(0x69d)],_0x30e2bc[_0x39e09b(0x39b)][_0x39e09b(0x6e9)])):(this[_0x39e09b(0x109)](_0x2cfe0c,_0x30e2bc),this[_0x39e09b(0x75d)](_0x2cfe0c[_0x39e09b(0x69d)],_0x30e2bc[_0x39e09b(0x39b)][_0x39e09b(0x6e9)]));let _0x2cbb06=await this['repository'][_0x39e09b(0x57c)][_0x39e09b(0x614)](_0x2cfe0c[_0x39e09b(0x29f)],_0x2cfe0c,this[_0x39e09b(0x339)][_0x39e09b(0x6ab)]);if(_0x2cbb06&&_0x2cbb06['shareOwners']&&_0x2cbb06[_0x39e09b(0x149)][_0x39e09b(0x676)]>0x1&&this[_0x39e09b(0x6e2)](_0x2cbb06[_0x39e09b(0x29f)],this[_0x39e09b(0x339)]['wuid']),!_0x2cbb06)throw new Error(_0x39e09b(0x192));return _0x2cbb06;}catch(_0x523bb6){this[_0x39e09b(0x5ce)](_0x39e09b(0x227)+_0x523bb6);}}['reorderReplyOptions'](_0x2d834c,_0x257c0){const _0x366ac3=a0_0x58753f;console['log'](_0x366ac3(0x1e0),_0x257c0),_0x2d834c['forEach'](_0x38b3be=>{const _0xb5453=_0x366ac3;_0x38b3be['blockId']===_0x257c0&&_0x38b3be[_0xb5453(0x43a)]===void 0x0&&(_0x38b3be[_0xb5453(0x43a)]=0x270f);});let _0x1ab754=_0x2d834c[_0x366ac3(0x56a)](_0x50761d=>_0x50761d[_0x366ac3(0x6e9)]===_0x257c0);_0x1ab754[_0x366ac3(0x42f)]((_0x16487d,_0x1653b6)=>_0x16487d[_0x366ac3(0x43a)]-_0x1653b6[_0x366ac3(0x43a)]),_0x1ab754['forEach']((_0x127dca,_0x213de6)=>{const _0x4a8182=_0x366ac3;_0x127dca[_0x4a8182(0x43a)]=_0x213de6+0x1;}),_0x2d834c['forEach'](_0x54c670=>{const _0x102272=_0x366ac3;if(_0x54c670[_0x102272(0x6e9)]===_0x257c0){let _0x2813a3=_0x1ab754[_0x102272(0x53a)](_0x22f451=>_0x22f451[_0x102272(0x29f)]&&_0x54c670['_id']&&_0x22f451[_0x102272(0x29f)][_0x102272(0x623)]()===_0x54c670[_0x102272(0x29f)][_0x102272(0x623)]());_0x2813a3&&(_0x54c670[_0x102272(0x43a)]=_0x2813a3['order']);}}),console[_0x366ac3(0x5c1)](_0x366ac3(0x101),_0x2d834c);}[a0_0x58753f(0x2d4)](_0x493f4d,_0x2369b1){const _0x8a79ba=a0_0x58753f;let {replyOption:_0x491ff3}=_0x2369b1;if(!_0x491ff3[_0x8a79ba(0x29f)]){this[_0x8a79ba(0x5ce)](_0x8a79ba(0x11c));return;}if(!_0x493f4d[_0x8a79ba(0x69d)]['find'](_0x457152=>_0x457152['_id']['toString']()===_0x2369b1[_0x8a79ba(0x39b)]['_id'][_0x8a79ba(0x623)]())){this[_0x8a79ba(0x5ce)](_0x8a79ba(0x63a)+_0x491ff3['_id']+_0x8a79ba(0x4cc));return;}_0x493f4d[_0x8a79ba(0x69d)]=_0x493f4d['replyOptions'][_0x8a79ba(0x56a)](_0x4effaf=>_0x4effaf[_0x8a79ba(0x29f)][_0x8a79ba(0x623)]()!==_0x2369b1[_0x8a79ba(0x39b)][_0x8a79ba(0x29f)][_0x8a79ba(0x623)]());}async[a0_0x58753f(0x288)](_0x5e4e12,_0x2810aa){const _0x17130d=a0_0x58753f;let _0x3cf25f=_0x5e4e12[_0x17130d(0x69d)][_0x17130d(0x5b6)](_0x49f867=>_0x49f867[_0x17130d(0x29f)][_0x17130d(0x623)]()===_0x2810aa[_0x17130d(0x39b)][_0x17130d(0x29f)]['toString']());if(_0x3cf25f===-0x1){this[_0x17130d(0x5ce)](_0x17130d(0x63a)+_0x2810aa[_0x17130d(0x39b)][_0x17130d(0x29f)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x557335 in _0x2810aa[_0x17130d(0x39b)])_0x2810aa['replyOption'][_0x17130d(0xd4)](_0x557335)&&(_0x5e4e12[_0x17130d(0x69d)][_0x3cf25f][_0x557335]=_0x2810aa[_0x17130d(0x39b)][_0x557335]);}[a0_0x58753f(0x109)](_0x2f2c9d,_0x1e392f){const _0x2a3b88=a0_0x58753f;_0x2f2c9d[_0x2a3b88(0x69d)]['push'](_0x1e392f['replyOption']);}async[a0_0x58753f(0x575)](_0x21ce6e){const _0x4b5721=a0_0x58753f;this[_0x4b5721(0x46b)][_0x4b5721(0x19c)](this[_0x4b5721(0x479)]+'\x20('+this['instance'][_0x4b5721(0x6ab)]+_0x4b5721(0x71d)+_0x21ce6e);try{this['logger'][_0x4b5721(0x19c)](this[_0x4b5721(0x479)]+'\x20('+this[_0x4b5721(0x339)][_0x4b5721(0x6ab)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x2c5089=await this[_0x4b5721(0x628)][_0x4b5721(0x57c)][_0x4b5721(0x2e1)]({'where':{'name':_0x21ce6e[_0x4b5721(0x730)]}},this[_0x4b5721(0x339)][_0x4b5721(0x6ab)]);if(!_0x2c5089)throw new Error(_0x4b5721(0x648));if(_0x21ce6e[_0x4b5721(0x59a)]&&_0x21ce6e[_0x4b5721(0x59a)]?.[_0x4b5721(0x17c)]===!0x0){if(this[_0x4b5721(0x46b)][_0x4b5721(0x19c)](this['instanceName']+'\x20('+this[_0x4b5721(0x339)][_0x4b5721(0x6ab)]+_0x4b5721(0x3e7)),_0x21ce6e[_0x4b5721(0x59a)][_0x4b5721(0x36d)]===!0x0)return{'message':_0x4b5721(0x6fb)};if(_0x2c5089[_0x4b5721(0x239)][_0x4b5721(0x6cd)](_0x2186ac=>_0x2186ac[_0x4b5721(0x57b)][_0x4b5721(0x623)]()===_0x21ce6e[_0x4b5721(0x59a)]['_id']))return this[_0x4b5721(0x46b)]['verbose'](this[_0x4b5721(0x479)]+'\x20('+this['instance'][_0x4b5721(0x6ab)]+_0x4b5721(0x49a)),{'message':_0x4b5721(0x508)};_0x2c5089[_0x4b5721(0x24a)]=_0x2c5089['groups'][_0x4b5721(0x56a)](_0x15bd49=>_0x15bd49[_0x4b5721(0x29f)][_0x4b5721(0x623)]()!==_0x21ce6e[_0x4b5721(0x59a)][_0x4b5721(0x29f)]);}else{if(_0x21ce6e[_0x4b5721(0x59a)]){if(_0x21ce6e[_0x4b5721(0x59a)][_0x4b5721(0x36d)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x21ce6e['group'][_0x4b5721(0x29f)]){let _0x36f0a6=_0x2c5089[_0x4b5721(0x24a)]['find'](_0x202ff0=>_0x202ff0['_id'][_0x4b5721(0x623)]()===_0x21ce6e['group'][_0x4b5721(0x29f)]);_0x36f0a6&&(_0x21ce6e[_0x4b5721(0x59a)]['x']<0x0&&(_0x21ce6e[_0x4b5721(0x59a)]['x']=0x0),_0x21ce6e[_0x4b5721(0x59a)]['y']<0x0&&(_0x21ce6e['group']['y']=0x0),Object[_0x4b5721(0x1c4)](_0x36f0a6,_0x21ce6e[_0x4b5721(0x59a)]));}else _0x2c5089[_0x4b5721(0x24a)][_0x4b5721(0x174)](_0x21ce6e['group']);}}let _0x426d9e=await this['repository']['flow'][_0x4b5721(0x614)](_0x2c5089[_0x4b5721(0x29f)],_0x2c5089,this[_0x4b5721(0x339)][_0x4b5721(0x6ab)]);if(_0x426d9e&&_0x426d9e[_0x4b5721(0x149)]&&_0x426d9e[_0x4b5721(0x149)]['length']>0x1&&this[_0x4b5721(0x6e2)](_0x426d9e[_0x4b5721(0x29f)],this[_0x4b5721(0x339)][_0x4b5721(0x6ab)]),!_0x426d9e)throw new Error(_0x4b5721(0x192));return _0x426d9e;}catch(_0x102170){throw this[_0x4b5721(0x46b)]['error'](this[_0x4b5721(0x479)]+'\x20('+this[_0x4b5721(0x339)][_0x4b5721(0x6ab)]+_0x4b5721(0x283)+(_0x102170 instanceof Error?_0x102170['message']:JSON[_0x4b5721(0x212)](_0x102170,null,0x2))),new w(_0x4b5721(0x2bb)+(_0x102170 instanceof Error?_0x102170[_0x4b5721(0x5f5)]:JSON['stringify'](_0x102170,null,0x2)));}}async['editFlowCondition'](_0x583c38){const _0x3e054f=a0_0x58753f;try{this[_0x3e054f(0x46b)]['verbose'](this[_0x3e054f(0x479)]+'\x20('+this[_0x3e054f(0x339)][_0x3e054f(0x6ab)]+_0x3e054f(0x566));let _0x3c06aa=await this[_0x3e054f(0x628)][_0x3e054f(0x57c)][_0x3e054f(0x2e1)]({'where':{'name':_0x583c38[_0x3e054f(0x730)]}},this[_0x3e054f(0x339)][_0x3e054f(0x6ab)]);if(!_0x3c06aa)throw new Error(_0x3e054f(0x648));let _0x4f9d18=!0x1;if(_0x583c38[_0x3e054f(0x3d6)]?.[_0x3e054f(0x17c)]===!0x0)_0x3c06aa[_0x3e054f(0x13e)]=_0x3c06aa['conditions'][_0x3e054f(0x56a)](_0x31b4f2=>_0x31b4f2&&_0x583c38['condition']&&_0x31b4f2[_0x3e054f(0x29f)]&&_0x583c38[_0x3e054f(0x3d6)]['_id']&&_0x31b4f2[_0x3e054f(0x29f)][_0x3e054f(0x623)]()!==_0x583c38[_0x3e054f(0x3d6)][_0x3e054f(0x29f)][_0x3e054f(0x623)]()),_0x4f9d18=!0x0;else{let _0x27c8d0=_0x3c06aa[_0x3e054f(0x13e)][_0x3e054f(0x53a)](_0x340012=>_0x340012&&_0x583c38[_0x3e054f(0x3d6)]&&_0x340012[_0x3e054f(0x29f)]&&_0x583c38[_0x3e054f(0x3d6)]['_id']&&_0x340012[_0x3e054f(0x29f)][_0x3e054f(0x623)]()===_0x583c38['condition'][_0x3e054f(0x29f)][_0x3e054f(0x623)]());_0x27c8d0?(_0x4f9d18=_0x27c8d0[_0x3e054f(0x43a)]!==_0x583c38[_0x3e054f(0x3d6)][_0x3e054f(0x43a)],Object['assign'](_0x27c8d0,_0x583c38[_0x3e054f(0x3d6)])):(_0x3c06aa[_0x3e054f(0x13e)][_0x3e054f(0x174)](_0x583c38[_0x3e054f(0x3d6)]),_0x4f9d18=!0x0);}if(_0x4f9d18){_0x3c06aa[_0x3e054f(0x13e)][_0x3e054f(0x42f)]((_0xd4b75e,_0x347847)=>_0xd4b75e[_0x3e054f(0x43a)]>_0x347847[_0x3e054f(0x43a)]?0x1:_0x347847[_0x3e054f(0x43a)]>_0xd4b75e['order']?-0x1:0x0);for(let _0x3dd5c7=0x0;_0x3dd5c7<_0x3c06aa[_0x3e054f(0x13e)][_0x3e054f(0x676)];_0x3dd5c7++)_0x3c06aa[_0x3e054f(0x13e)][_0x3dd5c7][_0x3e054f(0x43a)]=_0x3dd5c7+0x1;_0x3c06aa['conditions']['length']>0x0&&(_0x3c06aa[_0x3e054f(0x13e)][0x0][_0x3e054f(0x11f)]=_0x3e054f(0x677));}let _0x48c21c=await this['repository'][_0x3e054f(0x57c)][_0x3e054f(0x614)](_0x3c06aa['_id'],_0x3c06aa,this[_0x3e054f(0x339)]['wuid']);if(_0x48c21c&&_0x48c21c[_0x3e054f(0x149)]&&_0x48c21c[_0x3e054f(0x149)][_0x3e054f(0x676)]>0x1&&this['synchronizeFlows'](_0x48c21c[_0x3e054f(0x29f)],this['instance'][_0x3e054f(0x6ab)]),!_0x48c21c)throw new Error(_0x3e054f(0x192));return _0x48c21c;}catch(_0x339ee0){throw this[_0x3e054f(0x46b)][_0x3e054f(0x47b)](this['instanceName']+'\x20('+this[_0x3e054f(0x339)][_0x3e054f(0x6ab)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x339ee0 instanceof Error?_0x339ee0[_0x3e054f(0x5f5)]:JSON[_0x3e054f(0x212)](_0x339ee0,null,0x2))),new Error(_0x3e054f(0x679)+(_0x339ee0 instanceof Error?_0x339ee0['message']:JSON[_0x3e054f(0x212)](_0x339ee0,null,0x2)));}}async['editFlowVaredit'](_0x2c239e){const _0x20009c=a0_0x58753f;try{this['logger'][_0x20009c(0x19c)](this['instanceName']+'\x20('+this[_0x20009c(0x339)][_0x20009c(0x6ab)]+_0x20009c(0x194));let _0x56c893=await this[_0x20009c(0x628)][_0x20009c(0x57c)][_0x20009c(0x2e1)]({'where':{'name':_0x2c239e[_0x20009c(0x730)]}},this['instance'][_0x20009c(0x6ab)]);if(!_0x56c893)throw new Error(_0x20009c(0x648));let _0xcfb753=!0x1;if(_0x2c239e[_0x20009c(0x492)]?.[_0x20009c(0x17c)]===!0x0)_0x56c893[_0x20009c(0x591)]=_0x56c893[_0x20009c(0x591)][_0x20009c(0x56a)](_0x5c8aef=>_0x5c8aef&&_0x2c239e['varedit']&&_0x5c8aef['_id']&&_0x2c239e['varedit'][_0x20009c(0x29f)]&&_0x5c8aef[_0x20009c(0x29f)][_0x20009c(0x623)]()!==_0x2c239e[_0x20009c(0x492)]['_id']['toString']()),_0xcfb753=!0x0;else{let _0xfda66b=_0x56c893[_0x20009c(0x591)][_0x20009c(0x53a)](_0x4cd7ea=>_0x4cd7ea&&_0x2c239e[_0x20009c(0x492)]&&_0x4cd7ea[_0x20009c(0x29f)]&&_0x2c239e[_0x20009c(0x492)][_0x20009c(0x29f)]&&_0x4cd7ea[_0x20009c(0x29f)][_0x20009c(0x623)]()===_0x2c239e[_0x20009c(0x492)]['_id'][_0x20009c(0x623)]());_0xfda66b?(_0xcfb753=_0xfda66b[_0x20009c(0x43a)]!==_0x2c239e[_0x20009c(0x492)][_0x20009c(0x43a)],Object[_0x20009c(0x1c4)](_0xfda66b,_0x2c239e[_0x20009c(0x492)])):(_0x56c893[_0x20009c(0x591)][_0x20009c(0x174)](_0x2c239e[_0x20009c(0x492)]),_0xcfb753=!0x0);}if(_0xcfb753){_0x56c893[_0x20009c(0x591)][_0x20009c(0x42f)]((_0x17c525,_0x3ae60c)=>_0x17c525[_0x20009c(0x43a)]>_0x3ae60c[_0x20009c(0x43a)]?0x1:_0x3ae60c[_0x20009c(0x43a)]>_0x17c525[_0x20009c(0x43a)]?-0x1:0x0);for(let _0x2c6b42=0x0;_0x2c6b42<_0x56c893[_0x20009c(0x591)][_0x20009c(0x676)];_0x2c6b42++)_0x56c893[_0x20009c(0x591)][_0x2c6b42][_0x20009c(0x43a)]=_0x2c6b42+0x1;}let _0x17efee=await this[_0x20009c(0x628)][_0x20009c(0x57c)][_0x20009c(0x614)](_0x56c893[_0x20009c(0x29f)],_0x56c893,this[_0x20009c(0x339)][_0x20009c(0x6ab)]);if(_0x17efee&&_0x17efee['shareOwners']&&_0x17efee['shareOwners']['length']>0x1&&this[_0x20009c(0x6e2)](_0x17efee[_0x20009c(0x29f)],this['instance'][_0x20009c(0x6ab)]),!_0x17efee)throw new Error(_0x20009c(0x192));return _0x17efee;}catch(_0x28ba25){throw this[_0x20009c(0x46b)][_0x20009c(0x47b)](this[_0x20009c(0x479)]+'\x20('+this[_0x20009c(0x339)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x28ba25 instanceof Error?_0x28ba25[_0x20009c(0x5f5)]:JSON['stringify'](_0x28ba25,null,0x2))),new w(_0x20009c(0x679)+(_0x28ba25 instanceof Error?_0x28ba25[_0x20009c(0x5f5)]:JSON[_0x20009c(0x212)](_0x28ba25,null,0x2)));}}async[a0_0x58753f(0x5c7)](_0x2066cc){const _0x573eae=a0_0x58753f;try{this[_0x573eae(0x46b)][_0x573eae(0x19c)](this['instanceName']+'\x20('+this[_0x573eae(0x339)]['wuid']+_0x573eae(0x2b1));let _0x296fe1=await this[_0x573eae(0x628)]['flow']['findOne']({'where':{'name':_0x2066cc['name']}},this[_0x573eae(0x339)][_0x573eae(0x6ab)]);if(!_0x296fe1)throw new Error(_0x573eae(0x648));_0x2066cc['variable'][_0x573eae(0x730)]=_0x2066cc['variable'][_0x573eae(0x730)]['trim'](),_0x2066cc['variable']['name'][_0x573eae(0x45a)]('_')&&(_0x2066cc[_0x573eae(0x629)][_0x573eae(0x730)]=_0x2066cc[_0x573eae(0x629)][_0x573eae(0x730)][_0x573eae(0x755)](0x1)),_0x2066cc[_0x573eae(0x629)]['name']=_0x2066cc[_0x573eae(0x629)][_0x573eae(0x730)]['trim']();let _0x166214=_0x296fe1[_0x573eae(0x35c)][_0x573eae(0x53a)](_0x34cef1=>_0x34cef1['name']===_0x2066cc[_0x573eae(0x629)][_0x573eae(0x730)]);if(_0x166214?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x2066cc['variable']?.['delete']===!0x0){if(!_0x166214)return{'message':_0x573eae(0x22a)};_0x296fe1[_0x573eae(0x35c)]=_0x296fe1[_0x573eae(0x35c)][_0x573eae(0x56a)](_0x75d0de=>_0x75d0de[_0x573eae(0x730)]!==_0x2066cc[_0x573eae(0x629)][_0x573eae(0x730)]);}else _0x166214?Object[_0x573eae(0x1c4)](_0x166214,_0x2066cc['variable']):_0x296fe1[_0x573eae(0x35c)][_0x573eae(0x174)](_0x2066cc[_0x573eae(0x629)]);let _0x1c8aae=await this[_0x573eae(0x628)][_0x573eae(0x57c)][_0x573eae(0x614)](_0x296fe1['_id'],_0x296fe1,this[_0x573eae(0x339)][_0x573eae(0x6ab)]);if(_0x1c8aae&&_0x1c8aae[_0x573eae(0x149)]&&_0x1c8aae[_0x573eae(0x149)]['length']>0x1&&this['synchronizeFlows'](_0x1c8aae[_0x573eae(0x29f)],this[_0x573eae(0x339)]['wuid']),!_0x1c8aae)throw new Error(_0x573eae(0x192));return _0x1c8aae;}catch(_0x3187af){throw this['logger'][_0x573eae(0x47b)](this[_0x573eae(0x479)]+'\x20('+this['instance'][_0x573eae(0x6ab)]+_0x573eae(0x11d)+(_0x3187af instanceof Error?_0x3187af[_0x573eae(0x5f5)]:JSON[_0x573eae(0x212)](_0x3187af,null,0x2))),new w(_0x573eae(0x324)+(_0x3187af instanceof Error?_0x3187af['message']:JSON['stringify'](_0x3187af,null,0x2)));}}async[a0_0x58753f(0x59d)](_0x47a5e5){const _0x457604=a0_0x58753f;let _0x5d5f03=null;try{if(!this['AutomateSystem']?.[_0x457604(0x5f2)]['enabled'])throw new w(_0x457604(0x740));this[_0x457604(0x46b)][_0x457604(0x19c)](this['instanceName']+'\x20('+this[_0x457604(0x339)]['wuid']+_0x457604(0x250));let _0x191a1e=(await this[_0x457604(0x4ff)]({'numbers':[_0x47a5e5[_0x457604(0x41f)]]}))[0x0];if(!_0x191a1e['exists']&&!(0x0,g[_0x457604(0x2fb)])(_0x191a1e[_0x457604(0x57a)])&&!_0x191a1e[_0x457604(0x57a)][_0x457604(0x1db)](_0x457604(0x410)))throw _0x5d5f03=JSON[_0x457604(0x212)](_0x191a1e,null,0x2),new w(_0x191a1e);let _0x5d6a3a=await this[_0x457604(0x628)][_0x457604(0x57c)]['findOne']({'where':{'name':_0x47a5e5[_0x457604(0x730)]}},this[_0x457604(0x339)][_0x457604(0x6ab)]);if(!_0x5d6a3a)return this[_0x457604(0x46b)][_0x457604(0x47b)](this['instanceName']+'\x20('+this[_0x457604(0x339)][_0x457604(0x6ab)]+_0x457604(0x14f)),{'message':_0x457604(0x648)};let _0x5124cc=await this[_0x457604(0x1df)](_0x5d6a3a,_0x191a1e[_0x457604(0x57a)],_0x47a5e5[_0x457604(0x738)]);if(_0x5124cc){this[_0x457604(0x46b)][_0x457604(0x19c)](this[_0x457604(0x479)]+'\x20('+this[_0x457604(0x339)]['wuid']+_0x457604(0x478));let _0x567952=await this[_0x457604(0x3b3)](_0x5124cc);return _0x567952&&await this[_0x457604(0x1f2)](_0x5124cc,_0x567952),{'message':_0x457604(0x137)+_0x47a5e5[_0x457604(0x41f)]};}}catch(_0x10b0ef){if(this['logger'][_0x457604(0x47b)](this[_0x457604(0x479)]+'\x20('+this[_0x457604(0x339)]['wuid']+_0x457604(0x3e6)+(_0x10b0ef instanceof Error?_0x10b0ef[_0x457604(0x5f5)]:JSON[_0x457604(0x212)](_0x10b0ef,null,0x2))),_0x5d5f03=_0x10b0ef instanceof Error?_0x10b0ef[_0x457604(0x5f5)]:JSON[_0x457604(0x212)](_0x10b0ef,null,0x2),_0x5d5f03)throw new w(_0x457604(0x3f1)+_0x5d5f03);}}async[a0_0x58753f(0x50d)](_0x270ded){const _0x30c46f=a0_0x58753f;try{let _0x4204ff={'remoteJid':_0x270ded,'status':_0x30c46f(0x6b6)},_0x3de3ec={'status':_0x30c46f(0x147)},_0x148e0d=await this['repository'][_0x30c46f(0x1b5)][_0x30c46f(0x3e1)](_0x4204ff,_0x3de3ec,this[_0x30c46f(0x339)][_0x30c46f(0x6ab)]);return this[_0x30c46f(0x46b)][_0x30c46f(0x19c)](this[_0x30c46f(0x479)]+'\x20('+this[_0x30c46f(0x339)][_0x30c46f(0x6ab)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x148e0d;}catch(_0x3afcdb){throw this['logger']['error'](this[_0x30c46f(0x479)]+'\x20('+this[_0x30c46f(0x339)][_0x30c46f(0x6ab)]+_0x30c46f(0x4b8)+_0x3afcdb[_0x30c46f(0x5f5)]),_0x3afcdb;}}async[a0_0x58753f(0x1df)](_0x22a860,_0xbd4df,_0x1f2bce){const _0x20908f=a0_0x58753f;this['logger'][_0x20908f(0x19c)](this[_0x20908f(0x479)]+'\x20('+this[_0x20908f(0x339)][_0x20908f(0x6ab)]+_0x20908f(0x3b9)),await this[_0x20908f(0x50d)](_0xbd4df);try{let _0x108b41=require('mongodb')[_0x20908f(0x41b)],_0x773590=Date[_0x20908f(0x447)](),_0x354ed7=_0x20908f(0x3eb),_0x2a1959={},_0x7e8852={},_0x762db1={..._0x22a860,'chatLog':null},_0x3203d6=await this[_0x20908f(0x356)](_0x762db1[_0x20908f(0x35c)]),_0x411001=await this['getVariablesChat'](_0xbd4df),_0x2a165a={..._0x3203d6,..._0x411001,'_remoteJid':_0xbd4df},_0x21316e={'lastReceivedMessage':_0x2a1959,'lastSendMessage':_0x7e8852,'lastBlockId':_0x354ed7,'lastCondition':!0x0,'realVariables':_0x2a165a};_0x762db1[_0x20908f(0x364)]=_0x21316e,_0x762db1[_0x20908f(0x364)]['realVariables']={..._0x2a165a,..._0x1f2bce},delete _0x762db1[_0x20908f(0x29f)],_0x762db1[_0x20908f(0x29f)]=new _0x108b41(),_0x762db1[_0x20908f(0x208)]=_0x773590,_0x762db1[_0x20908f(0x593)]='open',_0x762db1[_0x20908f(0x41f)]=_0xbd4df;let _0x496f7f=await this[_0x20908f(0x628)][_0x20908f(0x1b5)]['updateOne'](_0x762db1['_id'],_0x762db1,this[_0x20908f(0x339)]['wuid']);return this[_0x20908f(0x46b)][_0x20908f(0x19c)](this[_0x20908f(0x479)]+'\x20('+this[_0x20908f(0x339)]['wuid']+_0x20908f(0x170)),_0x496f7f?_0x762db1:null;}catch(_0x2e9d9b){throw this['logger'][_0x20908f(0x47b)](this[_0x20908f(0x479)]+'\x20('+this[_0x20908f(0x339)][_0x20908f(0x6ab)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x2e9d9b instanceof Error?_0x2e9d9b[_0x20908f(0x5f5)]:JSON[_0x20908f(0x212)](_0x2e9d9b,null,0x2))),new w(_0x2e9d9b[_0x20908f(0x5f5)]);}}async[a0_0x58753f(0x626)](_0x435bd1){const _0x30199e=a0_0x58753f;try{this['logger'][_0x30199e(0x19c)](this[_0x30199e(0x479)]+'\x20('+this['instance']['wuid']+_0x30199e(0x6dd)),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Query\x20params:\x20'+_0x435bd1);let _0x3a7606={'where':{'_id':_0x435bd1}};return await this[_0x30199e(0x628)]['flowConversation'][_0x30199e(0x2e1)](_0x3a7606,this[_0x30199e(0x339)][_0x30199e(0x6ab)]);}catch(_0x3fd6e6){throw this['logger'][_0x30199e(0x47b)](this[_0x30199e(0x479)]+'\x20('+this[_0x30199e(0x339)][_0x30199e(0x6ab)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x3fd6e6 instanceof Error?_0x3fd6e6[_0x30199e(0x5f5)]:JSON[_0x30199e(0x212)](_0x3fd6e6,null,0x2))),new w(_0x30199e(0x3e5)+_0x3fd6e6[_0x30199e(0x5f5)]);}}async[a0_0x58753f(0xed)](_0x4b3b9f){const _0x196f0c=a0_0x58753f;try{return this['logger'][_0x196f0c(0x19c)](this[_0x196f0c(0x479)]+'\x20('+this['instance'][_0x196f0c(0x6ab)]+_0x196f0c(0x14a)),await this[_0x196f0c(0x628)]['flowConversation'][_0x196f0c(0x53a)](_0x4b3b9f,this[_0x196f0c(0x339)]['wuid']);}catch(_0x1e812b){throw this[_0x196f0c(0x46b)]['error'](this[_0x196f0c(0x479)]+'\x20('+this[_0x196f0c(0x339)][_0x196f0c(0x6ab)]+_0x196f0c(0x124)+(_0x1e812b instanceof Error?_0x1e812b[_0x196f0c(0x5f5)]:JSON[_0x196f0c(0x212)](_0x1e812b,null,0x2))),new w(_0x196f0c(0x6a5)+_0x1e812b[_0x196f0c(0x5f5)]);}}async['deleteConversation'](_0x137555){const _0x377324=a0_0x58753f;try{return this[_0x377324(0x46b)][_0x377324(0x19c)](this[_0x377324(0x479)]+'\x20('+this[_0x377324(0x339)][_0x377324(0x6ab)]+'):\x20Deletando\x20conversa...'),this[_0x377324(0x46b)][_0x377324(0x19c)](this[_0x377324(0x479)]+'\x20('+this[_0x377324(0x339)][_0x377324(0x6ab)]+_0x377324(0x4a6)+_0x137555),(await this[_0x377324(0x628)][_0x377324(0x1b5)][_0x377324(0x414)]({'where':{'_id':_0x137555}},this[_0x377324(0x339)]['wuid']))['deletedCount']===0x0?{'message':_0x377324(0x280)}:{'message':_0x377324(0x54c)};}catch(_0x1b6eca){throw this['logger']['error'](this[_0x377324(0x479)]+'\x20('+this[_0x377324(0x339)]['wuid']+_0x377324(0x4fa)+(_0x1b6eca instanceof Error?_0x1b6eca['message']:JSON[_0x377324(0x212)](_0x1b6eca,null,0x2))),new w(_0x377324(0x275)+_0x1b6eca[_0x377324(0x5f5)]);}}async[a0_0x58753f(0x559)](_0x2dd18a){const _0x47fff8=a0_0x58753f;try{let {_id:_0x5114fc,chatLog:_0x5f33d2,status:_0x5298dd}=_0x2dd18a;if(!_0x5114fc)return{'message':_0x47fff8(0x3c0)};let _0x579bb9={};if(_0x5298dd!==void 0x0&&(_0x579bb9[_0x47fff8(0x593)]=_0x5298dd),Object[_0x47fff8(0x14b)](_0x579bb9)[_0x47fff8(0x676)]===0x0)return{'message':_0x47fff8(0x595)};let _0x64e147=await this[_0x47fff8(0x628)]['flowConversation'][_0x47fff8(0x614)](_0x5114fc,_0x579bb9,this[_0x47fff8(0x339)][_0x47fff8(0x6ab)]);return _0x64e147||{'message':_0x47fff8(0x1e5)};}catch(_0x5db055){throw this[_0x47fff8(0x46b)][_0x47fff8(0x47b)](this[_0x47fff8(0x479)]+'\x20('+this[_0x47fff8(0x339)][_0x47fff8(0x6ab)]+_0x47fff8(0x574)+(_0x5db055 instanceof Error?_0x5db055[_0x47fff8(0x5f5)]:JSON['stringify'](_0x5db055,null,0x2))),new w('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x5db055[_0x47fff8(0x5f5)]);}}async[a0_0x58753f(0x1fc)](_0x7be0b){const _0x44c2f6=a0_0x58753f;let _0x5114d5=await this[_0x44c2f6(0x628)][_0x44c2f6(0x181)]['findOne']({'where':{'_id':_0x7be0b[_0x44c2f6(0x29f)]}},this['instance'][_0x44c2f6(0x6ab)]);if(!_0x5114d5)throw new w(_0x44c2f6(0x655));console['log'](_0x7be0b);try{_0x7be0b[_0x44c2f6(0x29f)]=this[_0x44c2f6(0x72a)](_0x7be0b[_0x44c2f6(0x29f)]);let {_id:_0x1168fc,leadInfo:_0x4490a3}=_0x7be0b;if(!_0x1168fc)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x16a134=(_0x4232d7,_0x154c72,_0x2e72ee)=>{const _0x15c8dc=_0x44c2f6;_0x4232d7&&_0x2e72ee[_0x15c8dc(0x537)](_0xb7e7b0=>{const _0x20c4ce=_0x15c8dc;_0x4232d7[_0xb7e7b0]!==void 0x0&&(_0x154c72[_0x20c4ce(0x226)+_0xb7e7b0]=_0x4232d7[_0xb7e7b0]);});},_0x47eee9={};if(_0x4490a3&&(_0x16a134(_0x4490a3,_0x47eee9,[_0x44c2f6(0x1de),_0x44c2f6(0x2d2),'email',_0x44c2f6(0x152),_0x44c2f6(0x593),_0x44c2f6(0x67c),_0x44c2f6(0x463),_0x44c2f6(0x57d),'responsavelid',_0x44c2f6(0x6f5)]),Array['isArray'](_0x4490a3[_0x44c2f6(0x665)])&&(_0x47eee9[_0x44c2f6(0x5d2)]=_0x4490a3[_0x44c2f6(0x665)][_0x44c2f6(0x378)](_0x5e3c18=>({'_id':_0x5e3c18[_0x44c2f6(0x29f)],'value':_0x5e3c18['value']}))),_0x7be0b[_0x44c2f6(0x56b)][_0x44c2f6(0x6f5)]!==void 0x0)){let _0x9b0efe=await this['repository'][_0x44c2f6(0x73b)][_0x44c2f6(0x53a)]({'where':{}},this[_0x44c2f6(0x339)][_0x44c2f6(0x6ab)]),_0xbf1ff=new Set(_0x7be0b[_0x44c2f6(0x56b)][_0x44c2f6(0x6f5)]||[]),_0x57c8e0=new Set(_0x7be0b[_0x44c2f6(0x56b)][_0x44c2f6(0x6f5)]),_0x251f96=new Set(_0x9b0efe[_0x44c2f6(0x378)](_0x576c13=>_0x576c13[_0x44c2f6(0x29f)])),_0x3e4efb=[..._0x57c8e0]['filter'](_0x1b82ae=>!_0xbf1ff['has'](_0x1b82ae)&&_0x251f96[_0x44c2f6(0x206)](_0x1b82ae)),_0x627aaf=[..._0xbf1ff][_0x44c2f6(0x56a)](_0x6e47ca=>!_0x57c8e0[_0x44c2f6(0x206)](_0x6e47ca));if(_0x47eee9[_0x44c2f6(0x5a0)]=[..._0xbf1ff],_0x5114d5&&!_0x5114d5[_0x44c2f6(0x344)]){for(let _0x3e9462 of _0x3e4efb)await this[_0x44c2f6(0x3f6)](_0x3e9462,_0x7be0b[_0x44c2f6(0x29f)]),_0xbf1ff[_0x44c2f6(0x3c8)](_0x3e9462);for(let _0x51cb55 of _0x627aaf)await this[_0x44c2f6(0x10e)](_0x51cb55,_0x7be0b['_id']),_0xbf1ff['delete'](_0x51cb55);}}if(_0x7be0b[_0x44c2f6(0x211)]!==void 0x0&&(_0x47eee9[_0x44c2f6(0x211)]=Number(_0x7be0b[_0x44c2f6(0x211)])),Object[_0x44c2f6(0x14b)](_0x47eee9)[_0x44c2f6(0x676)]===0x0)throw new Error(_0x44c2f6(0x595));let _0x156944=await this['repository'][_0x44c2f6(0x181)]['updateOne']({'where':{'_id':_0x7be0b[_0x44c2f6(0x29f)]}},_0x47eee9,this[_0x44c2f6(0x339)]['wuid']);return _0x156944&&q(this[_0x44c2f6(0x479)],_0x44c2f6(0x4a0),{'chat':_0x156944}),_0x156944?(this['logger'][_0x44c2f6(0x19c)](this['instanceName']+'\x20('+this[_0x44c2f6(0x339)][_0x44c2f6(0x6ab)]+_0x44c2f6(0x2b9)+JSON[_0x44c2f6(0x212)](_0x156944,null,0x2)),_0x156944):{'message':_0x44c2f6(0x45f)};}catch(_0x185cb9){throw this[_0x44c2f6(0x46b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x44c2f6(0x6ab)]+_0x44c2f6(0x5bb)+(_0x185cb9 instanceof Error?_0x185cb9['message']:JSON['stringify'](_0x185cb9,null,0x2))),new w(_0x44c2f6(0x607)+_0x185cb9[_0x44c2f6(0x5f5)]);}}async['AddChatLabel'](_0x55d3b9,_0x5168b9){const _0x31a794=a0_0x58753f;try{await this[_0x31a794(0x299)][_0x31a794(0x2b6)](_0x5168b9,_0x55d3b9),console[_0x31a794(0x5c1)](_0x31a794(0x29d)+_0x55d3b9+_0x31a794(0x452)+_0x5168b9+_0x31a794(0x398));}catch(_0x3d7ad0){console[_0x31a794(0x47b)](_0x31a794(0x13f)+_0x55d3b9+'\x20ao\x20chat\x20'+_0x5168b9+':',_0x3d7ad0);}}async['RemoveChatLabel'](_0x1f7699,_0x4c83b8){const _0x1df114=a0_0x58753f;try{await this[_0x1df114(0x299)][_0x1df114(0x25b)](_0x4c83b8,_0x1f7699),console[_0x1df114(0x5c1)]('Label\x20'+_0x1f7699+_0x1df114(0x477)+_0x4c83b8+_0x1df114(0x398));}catch(_0xa6513f){console[_0x1df114(0x47b)](_0x1df114(0x441)+_0x1f7699+'\x20do\x20chat\x20'+_0x4c83b8+':',_0xa6513f);}}async['updateAgent'](_0x5536ce){const _0x53c5e1=a0_0x58753f;try{let _0x1bc14a=await this[_0x53c5e1(0x628)][_0x53c5e1(0x760)][_0x53c5e1(0x1ed)](this[_0x53c5e1(0x339)][_0x53c5e1(0x6ab)]),_0x17dc4c=_0x5536ce[_0x53c5e1(0x29f)]?_0x1bc14a[_0x53c5e1(0x314)][_0x53c5e1(0x5b6)](_0x3db498=>_0x3db498[_0x53c5e1(0x29f)]===_0x5536ce[_0x53c5e1(0x29f)]):-0x1;if(_0x5536ce[_0x53c5e1(0x17c)]&&_0x17dc4c>-0x1)_0x1bc14a['agents'][_0x53c5e1(0x4f5)](_0x17dc4c,0x1);else{if(_0x17dc4c>-0x1){let _0x57dc5b=_0x1bc14a[_0x53c5e1(0x314)][_0x17dc4c];_0x5536ce[_0x53c5e1(0xf3)]&&(_0x57dc5b[_0x53c5e1(0xf3)]=_0x5536ce['fone']),_0x5536ce[_0x53c5e1(0x730)]&&(_0x57dc5b[_0x53c5e1(0x730)]=_0x5536ce[_0x53c5e1(0x730)]),_0x5536ce[_0x53c5e1(0x391)]&&(_0x57dc5b[_0x53c5e1(0x391)]=_0x5536ce[_0x53c5e1(0x391)]),_0x5536ce[_0x53c5e1(0x4b6)]&&(_0x57dc5b[_0x53c5e1(0x4b6)]=_0x5536ce[_0x53c5e1(0x4b6)]);}else _0x1bc14a[_0x53c5e1(0x314)]['push']({'_id':_0x5536ce['_id']||new ce[(_0x53c5e1(0x36d))][(_0x53c5e1(0x222))][(_0x53c5e1(0x41b))]()['toString'](),'fone':_0x5536ce[_0x53c5e1(0xf3)],'name':_0x5536ce['name'],'email':_0x5536ce[_0x53c5e1(0x391)],'role':_0x5536ce[_0x53c5e1(0x4b6)]});}let _0x54941c={'agents':_0x1bc14a['agents']},_0x532588=await this[_0x53c5e1(0x628)][_0x53c5e1(0x760)][_0x53c5e1(0x4cd)](_0x54941c,this[_0x53c5e1(0x339)][_0x53c5e1(0x6ab)]);return this[_0x53c5e1(0x2b3)]=_0x532588,this[_0x53c5e1(0x46b)][_0x53c5e1(0x19c)](this[_0x53c5e1(0x479)]+'\x20('+this[_0x53c5e1(0x339)][_0x53c5e1(0x6ab)]+_0x53c5e1(0x63f)),this[_0x53c5e1(0x46b)]['verbose'](this[_0x53c5e1(0x479)]+'\x20('+this[_0x53c5e1(0x339)]['wuid']+_0x53c5e1(0x2b9)+this[_0x53c5e1(0x2b3)]),_0x532588;}catch(_0x2f130b){throw this[_0x53c5e1(0x46b)][_0x53c5e1(0x47b)](this['instanceName']+'\x20('+this[_0x53c5e1(0x339)]['wuid']+_0x53c5e1(0x2e2)+(_0x2f130b instanceof Error?_0x2f130b[_0x53c5e1(0x5f5)]:JSON['stringify'](_0x2f130b,null,0x2))),new w(_0x53c5e1(0xef)+_0x2f130b['message']);}}async['updateCustomFields'](_0x27f751){const _0x13ebd4=a0_0x58753f;try{let _0x9d6313=await this[_0x13ebd4(0x628)][_0x13ebd4(0x760)][_0x13ebd4(0x1ed)](this[_0x13ebd4(0x339)]['wuid']),_0x1c218f=_0x27f751[_0x13ebd4(0x29f)]?_0x9d6313[_0x13ebd4(0x665)][_0x13ebd4(0x5b6)](_0x9ba174=>_0x9ba174['_id']===_0x27f751[_0x13ebd4(0x29f)]):-0x1,_0x2d6352=!0x1,_0x899ec9=_0x9d6313[_0x13ebd4(0x665)][_0x13ebd4(0x6cd)](_0x3fa1d6=>_0x3fa1d6[_0x13ebd4(0x43a)]===_0x27f751[_0x13ebd4(0x43a)]);if(_0x27f751[_0x13ebd4(0x17c)]&&_0x1c218f>-0x1)_0x9d6313[_0x13ebd4(0x665)][_0x13ebd4(0x4f5)](_0x1c218f,0x1),_0x2d6352=!0x0;else{if(_0x1c218f>-0x1){if(_0x9d6313[_0x13ebd4(0x665)][_0x13ebd4(0x6cd)](_0x4feb06=>_0x4feb06[_0x13ebd4(0x730)]===_0x27f751[_0x13ebd4(0x730)]&&_0x4feb06['_id']!==_0x27f751['_id']))throw new Error(_0x13ebd4(0x5cf));let _0xba2ee7=_0x9d6313[_0x13ebd4(0x665)][_0x1c218f];_0x27f751['order']&&(_0x899ec9||!Number[_0x13ebd4(0x519)](_0x27f751[_0x13ebd4(0x43a)]))&&(_0xba2ee7[_0x13ebd4(0x43a)]=_0x27f751[_0x13ebd4(0x43a)],_0x2d6352=!0x0),_0x27f751[_0x13ebd4(0x730)]&&(_0xba2ee7[_0x13ebd4(0x730)]=_0x27f751[_0x13ebd4(0x730)]);}else{if(_0x9d6313[_0x13ebd4(0x665)][_0x13ebd4(0x6cd)](_0x4cbe41=>_0x4cbe41[_0x13ebd4(0x730)]===_0x27f751['name']&&_0x4cbe41[_0x13ebd4(0x29f)]!==_0x27f751[_0x13ebd4(0x29f)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x9d6313[_0x13ebd4(0x665)][_0x13ebd4(0x174)]({'_id':_0x27f751['_id']||new ce['default'][(_0x13ebd4(0x222))][(_0x13ebd4(0x41b))]()[_0x13ebd4(0x623)](),'order':_0x27f751[_0x13ebd4(0x43a)],'name':_0x27f751['name']}),_0x2d6352=!0x0;}}if(_0x2d6352){_0x9d6313['customFields'][_0x13ebd4(0x42f)]((_0x134ed0,_0x5ef41c)=>_0x134ed0[_0x13ebd4(0x43a)]>_0x5ef41c[_0x13ebd4(0x43a)]?0x1:_0x5ef41c[_0x13ebd4(0x43a)]>_0x134ed0['order']?-0x1:0x0);for(let _0x3c0815=0x0;_0x3c0815<_0x9d6313[_0x13ebd4(0x665)][_0x13ebd4(0x676)];_0x3c0815++)_0x9d6313[_0x13ebd4(0x665)][_0x3c0815][_0x13ebd4(0x43a)]=_0x3c0815+0x1;}let _0x5857cc=await this[_0x13ebd4(0x628)][_0x13ebd4(0x760)]['update'](_0x9d6313,this[_0x13ebd4(0x339)][_0x13ebd4(0x6ab)]);return this['AutomateSystem']=_0x5857cc,this['logger'][_0x13ebd4(0x19c)](this[_0x13ebd4(0x479)]+'\x20('+this[_0x13ebd4(0x339)][_0x13ebd4(0x6ab)]+_0x13ebd4(0x581)),this[_0x13ebd4(0x46b)][_0x13ebd4(0x19c)](this[_0x13ebd4(0x479)]+'\x20('+this['instance'][_0x13ebd4(0x6ab)]+_0x13ebd4(0x2b9)+this[_0x13ebd4(0x2b3)]),_0x5857cc;}catch(_0x21428c){throw this[_0x13ebd4(0x46b)][_0x13ebd4(0x47b)](this[_0x13ebd4(0x479)]+'\x20('+this['instance'][_0x13ebd4(0x6ab)]+_0x13ebd4(0x5eb)+(_0x21428c instanceof Error?_0x21428c['message']:JSON[_0x13ebd4(0x212)](_0x21428c,null,0x2))),new w('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x21428c[_0x13ebd4(0x5f5)]);}}async[a0_0x58753f(0x151)](_0x226c88){const _0x354726=a0_0x58753f;try{let _0x40be1a=await this['repository'][_0x354726(0x760)][_0x354726(0x1ed)](this[_0x354726(0x339)][_0x354726(0x6ab)]);if(!_0x40be1a)throw new Error(_0x354726(0x428));let _0x2ba294={'_id':_0x40be1a['_id'],'flowConfig':{'enabled':_0x226c88[_0x354726(0x2e7)]??_0x40be1a[_0x354726(0x5f2)][_0x354726(0x2e7)],'ignoreGroups':_0x226c88[_0x354726(0x15c)]??_0x40be1a[_0x354726(0x5f2)]['ignoreGroups'],'prefixCommand':_0x226c88['prefixCommand']??_0x40be1a[_0x354726(0x5f2)][_0x354726(0x16a)],'stopConversation':_0x226c88[_0x354726(0x545)]??_0x40be1a['flowConfig'][_0x354726(0x545)],'stopMinutes':_0x226c88[_0x354726(0x292)]??_0x40be1a[_0x354726(0x5f2)][_0x354726(0x292)],'stopWhenYouSendMsg':_0x226c88[_0x354726(0x100)]??_0x40be1a[_0x354726(0x5f2)][_0x354726(0x100)]}},_0x2e8f5b=await this[_0x354726(0x628)][_0x354726(0x760)][_0x354726(0x4cd)](_0x2ba294,this['instance'][_0x354726(0x6ab)]);return this[_0x354726(0x2b3)]=_0x2e8f5b,this[_0x354726(0x46b)]['verbose'](this[_0x354726(0x479)]+'\x20('+this[_0x354726(0x339)][_0x354726(0x6ab)]+_0x354726(0x63f)),this[_0x354726(0x46b)][_0x354726(0x19c)](this[_0x354726(0x479)]+'\x20('+this[_0x354726(0x339)][_0x354726(0x6ab)]+_0x354726(0x2b9)+this[_0x354726(0x2b3)]),setTimeout(()=>this[_0x354726(0x272)](),0x7d0),_0x2e8f5b;}catch(_0x2063f1){throw this[_0x354726(0x46b)]['error'](this['instanceName']+'\x20('+this[_0x354726(0x339)][_0x354726(0x6ab)]+_0x354726(0x5f4)+(_0x2063f1 instanceof Error?_0x2063f1['message']:JSON[_0x354726(0x212)](_0x2063f1,null,0x2))),new w(_0x354726(0x47f)+_0x2063f1[_0x354726(0x5f5)]);}}async[a0_0x58753f(0x246)](){const _0x2ab53e=a0_0x58753f;try{let _0x326d34=await this[_0x2ab53e(0x628)]['automateSystem'][_0x2ab53e(0x1ed)](this[_0x2ab53e(0x339)][_0x2ab53e(0x6ab)]);return this[_0x2ab53e(0x2b3)]=_0x326d34,this[_0x2ab53e(0x46b)][_0x2ab53e(0x19c)](this[_0x2ab53e(0x479)]+'\x20('+this[_0x2ab53e(0x339)][_0x2ab53e(0x6ab)]+_0x2ab53e(0x23e)),this['logger']['verbose'](this['AutomateSystem']),_0x326d34;}catch(_0x316253){throw this[_0x2ab53e(0x46b)][_0x2ab53e(0x47b)](this[_0x2ab53e(0x479)]+'\x20('+this[_0x2ab53e(0x339)][_0x2ab53e(0x6ab)]+_0x2ab53e(0x38c)+(_0x316253 instanceof Error?_0x316253[_0x2ab53e(0x5f5)]:JSON[_0x2ab53e(0x212)](_0x316253,null,0x2))),new w('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x316253[_0x2ab53e(0x5f5)]);}}async[a0_0x58753f(0x66e)](){const _0x1cd082=a0_0x58753f;this['instance'][_0x1cd082(0x6c5)][_0x1cd082(0x3f9)]&&clearTimeout(this[_0x1cd082(0x339)]['ScheduleMessage'][_0x1cd082(0x3f9)]),this['instance'][_0x1cd082(0x6c5)]['timeout']=setTimeout(()=>{const _0x31c029=_0x1cd082;this[_0x31c029(0x6b7)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x58753f(0x6b7)](){const _0x2920b3=a0_0x58753f;Date[_0x2920b3(0x447)]()-this['instance']['ScheduleMessage']['lastSend']>=0x1d4c0&&(this[_0x2920b3(0x46b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2920b3(0x652)),this[_0x2920b3(0x339)][_0x2920b3(0x6c5)][_0x2920b3(0x265)]=null,this[_0x2920b3(0x339)]['ScheduleMessage']['lastSend']=0x0,this['instance']['ScheduleMessage']['delayMessage']=0x0,await this[_0x2920b3(0x272)]());}async[a0_0x58753f(0x272)](){const _0x4ff83b=a0_0x58753f;let _0x4d3a3a=()=>{const _0x2c664b=a0_0x326c;this[_0x2c664b(0x46b)][_0x2c664b(0x19c)](this[_0x2c664b(0x479)]+'\x20('+this[_0x2c664b(0x339)][_0x2c664b(0x6ab)]+_0x2c664b(0x3c5)+this['instance']['ScheduleMessage'][_0x2c664b(0x265)]+'\x20saindo\x20da\x20função');},_0x4b9752=async()=>{const _0x28643d=a0_0x326c;this[_0x28643d(0x46b)][_0x28643d(0x19c)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x5ca0b3=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x452002={'where':{'status':{'$in':[_0x28643d(0x72e),_0x28643d(0x51c)]},'$or':[{'when':{'$lte':Date[_0x28643d(0x447)](),'$gte':_0x5ca0b3}},{'when':0x0}]}};return await this['repository'][_0x28643d(0x598)][_0x28643d(0x53a)](_0x452002,this[_0x28643d(0x339)][_0x28643d(0x6ab)]);},_0x4bc98c=async _0x4fc8a2=>{const _0x3f10d3=a0_0x326c;for(let _0x436dbf of _0x4fc8a2){let _0x17c929={'_id':_0x436dbf[_0x3f10d3(0x29f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3f10d3(0x447)]()-0x1770}}]},_0xa243ab={'startSend':Date['now']()};if(!await this[_0x3f10d3(0x628)][_0x3f10d3(0x598)][_0x3f10d3(0x614)](_0x17c929,_0xa243ab,this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]))return;if(!this[_0x3f10d3(0x339)][_0x3f10d3(0x6c5)][_0x3f10d3(0x422)]){this[_0x3f10d3(0x46b)][_0x3f10d3(0x19c)](this['instanceName']+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+_0x3f10d3(0x2f4));break;}if(_0x436dbf[_0x3f10d3(0x4bb)]==='flow'&&!this['AutomateSystem']?.[_0x3f10d3(0x5f2)]['enabled']){this[_0x3f10d3(0x46b)][_0x3f10d3(0x47b)](this[_0x3f10d3(0x479)]+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x436dbf['remoteJidsRemaining']||_0x436dbf['remoteJidsRemaining']['length']===0x0)&&(_0x436dbf=await this[_0x3f10d3(0x628)][_0x3f10d3(0x598)][_0x3f10d3(0x653)](_0x436dbf[_0x3f10d3(0x29f)],{'status':_0x3f10d3(0x51c),'remoteJidsRemaining':[..._0x436dbf[_0x3f10d3(0x5a5)]]},this['instance']['wuid']));for(let _0x710d28 of _0x436dbf[_0x3f10d3(0x256)]){if(await this['setRestartTimeout'](),this['instance']['ScheduleMessage'][_0x3f10d3(0x5f1)]=Date[_0x3f10d3(0x447)](),this[_0x3f10d3(0x339)]['ScheduleMessage']['ultimaTentativaRemoteJid']===_0x710d28){this[_0x3f10d3(0x46b)]['error'](this['instanceName']+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x710d28+_0x3f10d3(0x692));let _0x41e2f3={'$push':{'messagesSend':{'remoteJid':_0x710d28,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x3f10d3(0x447)]()}},'$pull':{'remoteJidsRemaining':_0x710d28}};await this[_0x3f10d3(0x628)]['scheduleMessage'][_0x3f10d3(0x653)](_0x436dbf[_0x3f10d3(0x29f)],_0x41e2f3,this['instance'][_0x3f10d3(0x6ab)]);continue;}if(this[_0x3f10d3(0x339)][_0x3f10d3(0x6c5)][_0x3f10d3(0x722)]=_0x710d28,_0x436dbf[_0x3f10d3(0x3a4)]['some'](_0x16f76d=>_0x16f76d['remoteJid']===_0x710d28)){this[_0x3f10d3(0x46b)][_0x3f10d3(0x19c)](this['instanceName']+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+_0x3f10d3(0x467)+_0x710d28+_0x3f10d3(0x4c9));continue;}if(!this[_0x3f10d3(0x339)][_0x3f10d3(0x6c5)]['isConnected']){this['logger'][_0x3f10d3(0x19c)](this['instanceName']+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+_0x3f10d3(0x65c));break;}if(!this[_0x3f10d3(0x339)][_0x3f10d3(0x6c5)][_0x3f10d3(0x265)]){this[_0x3f10d3(0x46b)][_0x3f10d3(0x19c)](this[_0x3f10d3(0x479)]+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x436dbf[_0x3f10d3(0x29f)]+_0x3f10d3(0x48b));break;}if(_0x436dbf['type']==='flow'&&!this[_0x3f10d3(0x2b3)]?.[_0x3f10d3(0x5f2)][_0x3f10d3(0x2e7)]){this[_0x3f10d3(0x46b)]['error'](this[_0x3f10d3(0x479)]+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+_0x3f10d3(0x546));break;}let _0x4b31ea={'remoteJid':_0x710d28,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3f10d3(0x447)]()},_0x5e55ec=null;try{let _0x430f63=await this[_0x3f10d3(0x3b2)](_0x710d28,_0x436dbf);_0x4b31ea[_0x3f10d3(0x47b)]=_0x430f63[_0x3f10d3(0x47b)],_0x4b31ea['id']=_0x430f63[_0x3f10d3(0x47b)]?null:_0x430f63['id'],_0x4b31ea[_0x3f10d3(0xf2)]=_0x430f63[_0x3f10d3(0x47b)]?_0x430f63[_0x3f10d3(0x563)]?_0x430f63[_0x3f10d3(0x563)][_0x3f10d3(0x623)]():'':null;let _0x3cc67a={'$push':{'messagesSend':_0x4b31ea},'$pull':{'remoteJidsRemaining':_0x710d28}},_0x3b6ef8=_0x436dbf[_0x3f10d3(0x29f)];if(_0x5e55ec=await this[_0x3f10d3(0x628)]['scheduleMessage'][_0x3f10d3(0x653)](_0x3b6ef8,_0x3cc67a,this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]),_0x430f63['error'])continue;let _0x32b744=this[_0x3f10d3(0x2f7)](_0x436dbf['delaySecMin'],_0x436dbf['delaySecMax']);await this[_0x3f10d3(0x431)](_0x32b744);}catch(_0x4c70cd){this[_0x3f10d3(0x46b)]['error'](this[_0x3f10d3(0x479)]+'\x20('+this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]+_0x3f10d3(0x337)+_0x710d28+':\x20'+(_0x4c70cd instanceof Error?_0x4c70cd[_0x3f10d3(0x5f5)]:JSON[_0x3f10d3(0x212)](_0x4c70cd,null,0x2))),_0x4b31ea[_0x3f10d3(0x47b)]=!0x0,_0x4b31ea[_0x3f10d3(0xf2)]=_0x4c70cd[_0x3f10d3(0x5f5)];let _0x397844={'$push':{'messagesSend':_0x4b31ea},'$pull':{'remoteJidsRemaining':_0x710d28}},_0xc0884e=_0x436dbf[_0x3f10d3(0x29f)];_0x5e55ec=await this[_0x3f10d3(0x628)][_0x3f10d3(0x598)][_0x3f10d3(0x653)](_0xc0884e,_0x397844,this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]);}finally{if(_0x5e55ec&&_0x5e55ec['status']===_0x3f10d3(0x3f2)){this['logger']['verbose'](this[_0x3f10d3(0x479)]+'\x20('+this['instance'][_0x3f10d3(0x6ab)]+_0x3f10d3(0x673)+_0x436dbf[_0x3f10d3(0x29f)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x12fc8c=await this[_0x3f10d3(0x628)][_0x3f10d3(0x598)][_0x3f10d3(0x20f)](_0x436dbf[_0x3f10d3(0x29f)],this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]);if(_0x12fc8c[_0x3f10d3(0x256)]['length']===0x0&&_0x12fc8c[_0x3f10d3(0x593)]!==_0x3f10d3(0x3f2)){let _0x3d3943={'$set':{'status':_0x3f10d3(0x1d1)}},_0x1da9b2=_0x12fc8c['_id'];await this[_0x3f10d3(0x628)][_0x3f10d3(0x598)]['updateOneById'](_0x1da9b2,_0x3d3943,this[_0x3f10d3(0x339)][_0x3f10d3(0x6ab)]);}await new Promise(_0x891874=>setTimeout(_0x891874,0x1388));}},_0x5f445a=async()=>{const _0x2062a5=a0_0x326c;let _0x590741={'where':{'status':_0x2062a5(0x72e),'when':{'$gt':Date[_0x2062a5(0x447)]()}}},_0x17ef57=await this[_0x2062a5(0x628)]['scheduleMessage']['findOne'](_0x590741,this[_0x2062a5(0x339)][_0x2062a5(0x6ab)]);_0x17ef57&&_0x17ef57[_0x2062a5(0x214)]-Date['now']()<=0x5265c00?this[_0x2062a5(0x339)]['ScheduleMessage'][_0x2062a5(0x4fd)]=_0x17ef57['when']-Date[_0x2062a5(0x447)]():this[_0x2062a5(0x339)][_0x2062a5(0x6c5)][_0x2062a5(0x4fd)]=(0x3c+Math[_0x2062a5(0x218)](Math[_0x2062a5(0x2df)]()*0x3c))*0x3c*0x3e8,this[_0x2062a5(0x339)][_0x2062a5(0x6c5)][_0x2062a5(0x4fd)]=Math[_0x2062a5(0x6c0)](this['instance'][_0x2062a5(0x6c5)][_0x2062a5(0x4fd)],0x7d0);let _0x14c78b=Math[_0x2062a5(0x69a)](this[_0x2062a5(0x339)][_0x2062a5(0x6c5)][_0x2062a5(0x4fd)]/0xea60);if(_0x17ef57){let _0x598e9f=new Date(_0x17ef57[_0x2062a5(0x214)])['toLocaleString']();this[_0x2062a5(0x46b)][_0x2062a5(0x19c)](this[_0x2062a5(0x479)]+'\x20('+this[_0x2062a5(0x339)][_0x2062a5(0x6ab)]+_0x2062a5(0x502)+_0x598e9f+_0x2062a5(0x4f2)+_0x14c78b+'\x20minutos');}else this[_0x2062a5(0x46b)]['verbose'](this[_0x2062a5(0x479)]+'\x20('+this[_0x2062a5(0x339)][_0x2062a5(0x6ab)]+_0x2062a5(0x660)+_0x14c78b+_0x2062a5(0x1f0));setTimeout(()=>this[_0x2062a5(0x272)](),this[_0x2062a5(0x339)][_0x2062a5(0x6c5)][_0x2062a5(0x4fd)]);};if(this[_0x4ff83b(0x339)][_0x4ff83b(0x6c5)][_0x4ff83b(0x265)]){await this['setRestartTimeout'](),_0x4d3a3a();return;}if(!this[_0x4ff83b(0x339)]['ScheduleMessage'][_0x4ff83b(0x422)]){this[_0x4ff83b(0x46b)][_0x4ff83b(0x19c)](this[_0x4ff83b(0x479)]+'\x20('+this[_0x4ff83b(0x339)][_0x4ff83b(0x6ab)]+_0x4ff83b(0x654)),this[_0x4ff83b(0x339)][_0x4ff83b(0x6c5)][_0x4ff83b(0x265)]=null,this[_0x4ff83b(0x339)][_0x4ff83b(0x6c5)][_0x4ff83b(0x5f1)]=0x0,this[_0x4ff83b(0x339)][_0x4ff83b(0x6c5)][_0x4ff83b(0x4fd)]=0x0,this['instance'][_0x4ff83b(0x6c5)]['ultimaTentativaRemoteJid']=null;return;}try{let _0x3b5734=await _0x4b9752();_0x3b5734['length']===0x0?this[_0x4ff83b(0x46b)][_0x4ff83b(0x19c)](this[_0x4ff83b(0x479)]+'\x20('+this[_0x4ff83b(0x339)]['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x4ff83b(0x339)]['ScheduleMessage'][_0x4ff83b(0x265)]=_0x3b5734[0x0][_0x4ff83b(0x29f)],await _0x4bc98c(_0x3b5734)),await _0x5f445a(),this[_0x4ff83b(0x339)]['ScheduleMessage']['processing_id']=null,this[_0x4ff83b(0x339)][_0x4ff83b(0x6c5)][_0x4ff83b(0x722)]=null;}catch(_0x27d881){this[_0x4ff83b(0x46b)]['error']('Error\x20in\x20scheduleNextCheck:\x20'+(_0x27d881 instanceof Error?_0x27d881[_0x4ff83b(0x5f5)]:JSON['stringify'](_0x27d881,null,0x2)));}}[a0_0x58753f(0x2f7)](_0x6d23f0,_0x2df3a5){const _0x227c2d=a0_0x58753f;return _0x6d23f0=Math[_0x227c2d(0x6c0)](0.5,_0x6d23f0),_0x2df3a5=Math[_0x227c2d(0x5a9)](Math[_0x227c2d(0x6c0)](0x3,_0x2df3a5),0x78),Math[_0x227c2d(0x218)](Math['random']()*(_0x2df3a5-_0x6d23f0+0x1)+_0x6d23f0)*0x3e8;}[a0_0x58753f(0x431)](_0x3e6619){return new Promise(_0x5b4f63=>setTimeout(_0x5b4f63,_0x3e6619));}async[a0_0x58753f(0x64f)](_0x273242){const _0x4b9fb2=a0_0x58753f;if(!this['AutomateSystem']&&(await this[_0x4b9fb2(0x246)](),!this['AutomateSystem']))return null;_0x273242=this[_0x4b9fb2(0x72a)](_0x273242);let _0xf1af72=await this[_0x4b9fb2(0x628)][_0x4b9fb2(0x181)][_0x4b9fb2(0x2e1)]({'where':{'_id':_0x273242}},this[_0x4b9fb2(0x339)][_0x4b9fb2(0x6ab)]),_0x18ad93={};if(_0xf1af72&&_0xf1af72['leadInfo']){let _0x3800c3=_0xf1af72[_0x4b9fb2(0x56b)];typeof _0x3800c3[_0x4b9fb2(0x1de)]==_0x4b9fb2(0x61a)&&(_0x18ad93['nome']=_0x3800c3['nome']),typeof _0x3800c3[_0x4b9fb2(0x2d2)]==_0x4b9fb2(0x61a)&&(_0x18ad93[_0x4b9fb2(0x2d2)]=_0x3800c3[_0x4b9fb2(0x2d2)]),typeof _0x3800c3[_0x4b9fb2(0x391)]==_0x4b9fb2(0x61a)&&(_0x18ad93['email']=_0x3800c3[_0x4b9fb2(0x391)]),typeof _0x3800c3['cpf']==_0x4b9fb2(0x61a)&&(_0x18ad93[_0x4b9fb2(0x152)]=_0x3800c3['cpf']),typeof _0x3800c3[_0x4b9fb2(0x593)]==_0x4b9fb2(0x61a)&&(_0x18ad93[_0x4b9fb2(0x593)]=_0x3800c3[_0x4b9fb2(0x593)]),typeof _0x3800c3['notas']==_0x4b9fb2(0x61a)&&(_0x18ad93[_0x4b9fb2(0x67c)]=_0x3800c3[_0x4b9fb2(0x67c)]),typeof _0x3800c3[_0x4b9fb2(0x42b)]==_0x4b9fb2(0x61a)&&(_0x18ad93['responsavelid']=_0x3800c3['responsavelid']),Array['isArray'](_0x3800c3['tags'])&&(_0x18ad93['tags']=_0x3800c3[_0x4b9fb2(0x463)][_0x4b9fb2(0x4c2)](',\x20')),Array[_0x4b9fb2(0x293)](_0x3800c3[_0x4b9fb2(0x6f5)])&&(_0x18ad93[_0x4b9fb2(0x6f5)]=_0x3800c3[_0x4b9fb2(0x6f5)][_0x4b9fb2(0x4c2)](',\x20'));}return _0xf1af72&&_0xf1af72[_0x4b9fb2(0x56b)]&&_0xf1af72[_0x4b9fb2(0x56b)]['customFields']&&_0xf1af72['leadInfo'][_0x4b9fb2(0x665)][_0x4b9fb2(0x537)](_0xcc9ac7=>{const _0x204711=_0x4b9fb2;let _0xb15c12=this[_0x204711(0x2b3)]?.[_0x204711(0x665)][_0x204711(0x53a)](_0x4e6155=>_0x4e6155['_id']===_0xcc9ac7['_id']);_0xb15c12&&(_0x18ad93[_0xb15c12[_0x204711(0x730)]]=_0xcc9ac7[_0x204711(0x2ed)]);}),_0x18ad93;}async[a0_0x58753f(0x494)](_0x160394,_0x561b9c){const _0x2c3362=a0_0x58753f;let _0x54ec16=await this[_0x2c3362(0x64f)](_0x561b9c);return this[_0x2c3362(0x3bd)](_0x160394,_0x54ec16);}async[a0_0x58753f(0x74d)](_0x21f4d3){const _0xa5e2f5=a0_0x58753f;try{if(this[_0xa5e2f5(0x46b)][_0xa5e2f5(0x19c)](this[_0xa5e2f5(0x479)]+'\x20('+this[_0xa5e2f5(0x339)]['wuid']+_0xa5e2f5(0x646)),_0x21f4d3['delete']&&_0x21f4d3[_0xa5e2f5(0x29f)]){if(this['instance'][_0xa5e2f5(0x6c5)][_0xa5e2f5(0x265)]===_0x21f4d3[_0xa5e2f5(0x29f)][_0xa5e2f5(0x623)]())throw new Error(_0xa5e2f5(0x330));let _0x4b5ee2=await this['repository'][_0xa5e2f5(0x598)][_0xa5e2f5(0x414)](_0x21f4d3[_0xa5e2f5(0x29f)],this[_0xa5e2f5(0x339)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4b5ee2;}let _0x59ada1;if(_0x21f4d3[_0xa5e2f5(0x29f)]&&(_0x59ada1=await this['repository'][_0xa5e2f5(0x598)]['findById'](_0x21f4d3[_0xa5e2f5(0x29f)],this[_0xa5e2f5(0x339)][_0xa5e2f5(0x6ab)])),_0x59ada1){let _0x18f218;if(this[_0xa5e2f5(0x339)][_0xa5e2f5(0x6c5)][_0xa5e2f5(0x265)]===_0x59ada1[_0xa5e2f5(0x29f)][_0xa5e2f5(0x623)]())_0x18f218={'$set':{'status':_0x21f4d3[_0xa5e2f5(0x593)]}};else{let {_id:_0x3050bf,..._0x4cd687}=_0x21f4d3;_0x18f218={'$set':_0x4cd687};}let _0xa3c066=await this[_0xa5e2f5(0x628)][_0xa5e2f5(0x598)][_0xa5e2f5(0x653)](_0x21f4d3[_0xa5e2f5(0x29f)],_0x18f218,this[_0xa5e2f5(0x339)]['wuid']);return setTimeout(()=>this[_0xa5e2f5(0x272)](),0x7d0),_0xa3c066;}else{_0x21f4d3['owner']=this[_0xa5e2f5(0x339)]['wuid'];let _0x3dfb7a=await this[_0xa5e2f5(0x628)][_0xa5e2f5(0x598)][_0xa5e2f5(0x5de)](_0x21f4d3,this[_0xa5e2f5(0x339)][_0xa5e2f5(0x6ab)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3dfb7a;}}catch(_0x4b9e1d){throw this[_0xa5e2f5(0x46b)][_0xa5e2f5(0x47b)](this[_0xa5e2f5(0x479)]+'\x20('+this[_0xa5e2f5(0x339)][_0xa5e2f5(0x6ab)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x4b9e1d instanceof Error?_0x4b9e1d[_0xa5e2f5(0x5f5)]:JSON[_0xa5e2f5(0x212)](_0x4b9e1d,null,0x2))),new w(_0xa5e2f5(0x732)+_0x4b9e1d[_0xa5e2f5(0x5f5)]);}}async['getScheduleMessage'](){const _0x21d85d=a0_0x58753f;try{return await this[_0x21d85d(0x628)][_0x21d85d(0x598)][_0x21d85d(0x53a)]({'where':{}},this[_0x21d85d(0x339)][_0x21d85d(0x6ab)]);}catch(_0x2b66fe){throw this[_0x21d85d(0x46b)][_0x21d85d(0x47b)](this['instanceName']+'\x20('+this[_0x21d85d(0x339)][_0x21d85d(0x6ab)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x2b66fe instanceof Error?_0x2b66fe[_0x21d85d(0x5f5)]:JSON[_0x21d85d(0x212)](_0x2b66fe,null,0x2))),new w(_0x21d85d(0x732)+_0x2b66fe['message']);}}async['deleteDoneMessages'](){const _0x32b8a4=a0_0x58753f;try{let _0x199a65={'status':_0x32b8a4(0x1d1)},_0x2fd928=await this['repository']['scheduleMessage']['deleteMany'](_0x199a65,this['instance'][_0x32b8a4(0x6ab)]);if(!_0x2fd928['error'])this[_0x32b8a4(0x46b)][_0x32b8a4(0x19c)](this[_0x32b8a4(0x479)]+'\x20('+this['instance']['wuid']+_0x32b8a4(0x6ca));else throw new Error(_0x2fd928[_0x32b8a4(0x47b)][_0x32b8a4(0x5f5)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this['getScheduleMessage']();}catch(_0x56c83d){throw this[_0x32b8a4(0x46b)]['error'](this[_0x32b8a4(0x479)]+'\x20('+this['instance'][_0x32b8a4(0x6ab)]+_0x32b8a4(0x3df)+(_0x56c83d instanceof Error?_0x56c83d[_0x32b8a4(0x5f5)]:JSON[_0x32b8a4(0x212)](_0x56c83d,null,0x2))),new w(_0x32b8a4(0x732)+_0x56c83d[_0x32b8a4(0x5f5)]);}}async[a0_0x58753f(0x3b2)](_0x285662,_0x1aa61e){const _0x12a876=a0_0x58753f;try{if(_0x1aa61e[_0x12a876(0x4bb)]===_0x12a876(0x57c)&&!this[_0x12a876(0x2b3)]?.[_0x12a876(0x5f2)][_0x12a876(0x2e7)])return this['logger'][_0x12a876(0x47b)](this[_0x12a876(0x479)]+'\x20('+this[_0x12a876(0x339)]['wuid']+_0x12a876(0x1bf)),{'error':!0x0,'detail':_0x12a876(0x740)};switch(_0x1aa61e['type']){case _0x12a876(0x4f4):return await this[_0x12a876(0x6c7)](_0x1aa61e,_0x285662);case _0x12a876(0x1c6):return await this[_0x12a876(0x4c3)](_0x1aa61e,_0x285662);case _0x12a876(0x1ca):return await this[_0x12a876(0x561)](_0x1aa61e,_0x285662);case'flow':let _0x275aca=new _e();return _0x275aca[_0x12a876(0x730)]=_0x1aa61e[_0x12a876(0x6b2)],_0x275aca['remoteJid']=_0x285662,await this[_0x12a876(0x59d)](_0x275aca);break;default:return this[_0x12a876(0x46b)][_0x12a876(0x47b)](this[_0x12a876(0x479)]+'\x20('+this['instance']['wuid']+_0x12a876(0x644)+_0x1aa61e[_0x12a876(0x4bb)]),{'error':!0x0,'detail':_0x12a876(0x51f)};}}catch(_0xe594c9){return this[_0x12a876(0x46b)][_0x12a876(0x47b)](this[_0x12a876(0x479)]+'\x20('+this['instance'][_0x12a876(0x6ab)]+_0x12a876(0x161)+(_0xe594c9 instanceof Error?_0xe594c9[_0x12a876(0x5f5)]:JSON[_0x12a876(0x212)](_0xe594c9,null,0x2))),{'error':!0x0,'detail':_0xe594c9[_0x12a876(0x5f5)]};}}['getRandomText'](_0x5222d4){const _0x550457=a0_0x58753f;let _0xaafd17=_0x5222d4['split']('|'),_0x26c28c=Math[_0x550457(0x218)](Math[_0x550457(0x2df)]()*_0xaafd17[_0x550457(0x676)]);return _0xaafd17[_0x26c28c][_0x550457(0x24c)]();}async['scheduleSendText'](_0x1a5f56,_0x301e1c){const _0x37f754=a0_0x58753f;if(this[_0x37f754(0x46b)]['verbose'](this[_0x37f754(0x479)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20texto'),!_0x1a5f56[_0x37f754(0x5f5)][_0x37f754(0x4f4)]||_0x1a5f56['message'][_0x37f754(0x4f4)][_0x37f754(0x676)]===0x0)return{'error':!0x0,'detail':_0x37f754(0x176)};let _0x2864a0=this[_0x37f754(0x59c)](_0x1a5f56[_0x37f754(0x5f5)][_0x37f754(0x4f4)]),_0x41ab35=await this[_0x37f754(0x494)](_0x2864a0,_0x301e1c),_0x4ce1dc={'number':_0x301e1c,'options':{'delay':_0x1a5f56[_0x37f754(0x5f5)][_0x37f754(0x48f)]},'textMessage':{'text':_0x41ab35}},_0x5e108c=null;try{let _0x1910e9=await this[_0x37f754(0x395)](_0x4ce1dc);if(_0x1910e9&&_0x1910e9[_0x37f754(0x593)])return{'error':!0x1,'id':_0x1910e9['key']['id']};_0x5e108c=JSON['stringify'](_0x1910e9),this['logger'][_0x37f754(0x19c)](this['instanceName']+'\x20('+this[_0x37f754(0x339)][_0x37f754(0x6ab)]+'):\x20'+_0x5e108c);}catch(_0x5211eb){this[_0x37f754(0x46b)]['error'](this['instanceName']+'\x20('+this[_0x37f754(0x339)][_0x37f754(0x6ab)]+_0x37f754(0x306)+(_0x5211eb instanceof Error?_0x5211eb['message']:JSON[_0x37f754(0x212)](_0x5211eb,null,0x2))),_0x5e108c=_0x5211eb[_0x37f754(0x5f5)];}if(_0x5e108c)return{'error':!0x0,'detail':(typeof _0x5e108c=='object'?JSON[_0x37f754(0x212)](_0x5e108c,null,0x2):_0x5e108c)['replace'](/[\[\]{}\n]/g,'\x20')[_0x37f754(0x36c)](/  +/g,'\x20')};}async[a0_0x58753f(0x4c3)](_0x5650e2,_0x5807a4){const _0x2e55ee=a0_0x58753f;this[_0x2e55ee(0x46b)][_0x2e55ee(0x19c)](this['instanceName']+'\x20('+this[_0x2e55ee(0x339)][_0x2e55ee(0x6ab)]+_0x2e55ee(0xf9));let _0x2ac6fa;if(_0x5650e2[_0x2e55ee(0x5f5)]['text']&&_0x5650e2[_0x2e55ee(0x5f5)][_0x2e55ee(0x4f4)][_0x2e55ee(0x676)]>0x0){let _0x1b3c3c=this[_0x2e55ee(0x59c)](_0x5650e2[_0x2e55ee(0x5f5)][_0x2e55ee(0x4f4)]);_0x2ac6fa=await this['replaceVariablesChat'](_0x1b3c3c,_0x5807a4);}let _0x36689e={'number':_0x5807a4,'options':{'delay':_0x5650e2['message']['delay']},'mediaMessage':{'mediatype':_0x5650e2[_0x2e55ee(0x5f5)][_0x2e55ee(0x2b8)],'caption':_0x2ac6fa,'media':_0x5650e2['message'][_0x2e55ee(0x178)]}},_0x276e8e=null;try{let _0x4e5535=await this['mediaMessage'](_0x36689e);if(_0x4e5535&&_0x4e5535[_0x2e55ee(0x593)])return{'error':!0x1,'id':_0x4e5535[_0x2e55ee(0x54b)]['id']};_0x276e8e=JSON[_0x2e55ee(0x212)](_0x4e5535),this['logger'][_0x2e55ee(0x19c)](this[_0x2e55ee(0x479)]+'\x20('+this['instance'][_0x2e55ee(0x6ab)]+_0x2e55ee(0x2b9)+_0x276e8e);}catch(_0x4ca273){this[_0x2e55ee(0x46b)][_0x2e55ee(0x47b)](this[_0x2e55ee(0x479)]+'\x20('+this['instance'][_0x2e55ee(0x6ab)]+_0x2e55ee(0x701)+(_0x4ca273 instanceof Error?_0x4ca273['message']:JSON['stringify'](_0x4ca273,null,0x2))),_0x276e8e=_0x4ca273['message'];}if(_0x276e8e)return{'error':!0x0,'detail':(typeof _0x276e8e==_0x2e55ee(0x759)?JSON['stringify'](_0x276e8e,null,0x2):_0x276e8e)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x58753f(0x561)](_0x5b8582,_0x47e8d8){const _0xf23267=a0_0x58753f;this[_0xf23267(0x46b)][_0xf23267(0x19c)](this[_0xf23267(0x479)]+'\x20('+this['instance'][_0xf23267(0x6ab)]+_0xf23267(0x48e));let _0x53f48c={'number':_0x47e8d8,'options':{'delay':_0x5b8582[_0xf23267(0x5f5)][_0xf23267(0x48f)]},'audioMessage':{'audio':_0x5b8582[_0xf23267(0x5f5)][_0xf23267(0x178)]}},_0x49fe47=null;try{let _0x59f415=await this['audioWhatsapp'](_0x53f48c);if(_0x59f415&&_0x59f415[_0xf23267(0x593)])return{'error':!0x1,'id':_0x59f415[_0xf23267(0x54b)]['id']};_0x49fe47=JSON[_0xf23267(0x212)](_0x59f415),this[_0xf23267(0x46b)]['verbose'](this[_0xf23267(0x479)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x49fe47);}catch(_0x3c5fc5){this[_0xf23267(0x46b)]['error'](this[_0xf23267(0x479)]+'\x20('+this[_0xf23267(0x339)][_0xf23267(0x6ab)]+_0xf23267(0x6fa)+(_0x3c5fc5 instanceof Error?_0x3c5fc5[_0xf23267(0x5f5)]:JSON['stringify'](_0x3c5fc5,null,0x2))),_0x49fe47=_0x3c5fc5[_0xf23267(0x5f5)];}if(_0x49fe47)return{'error':!0x0,'detail':(typeof _0x49fe47==_0xf23267(0x759)?JSON[_0xf23267(0x212)](_0x49fe47,null,0x2):_0x49fe47)['replace'](/[\[\]{}\n]/g,'\x20')[_0xf23267(0x36c)](/  +/g,'\x20')};}},$t=class c{constructor(_0x45cf0b,_0x50f854,_0x1e857e){const _0x2bdd22=a0_0x58753f;this['eventEmitter']=_0x45cf0b,this[_0x2bdd22(0x6ae)]=_0x50f854,this[_0x2bdd22(0x628)]=_0x1e857e,this['db']={},this[_0x2bdd22(0x60b)]={},this[_0x2bdd22(0x46b)]=new N(c[_0x2bdd22(0x730)]),this['waInstances']={},(this[_0x2bdd22(0x253)](),this[_0x2bdd22(0x681)](),Object['assign'](this['db'],_0x50f854[_0x2bdd22(0x59e)]('DATABASE')),Object[_0x2bdd22(0x1c4)](this[_0x2bdd22(0x60b)],_0x50f854[_0x2bdd22(0x59e)](_0x2bdd22(0x4ad))),this['dbInstance']=this['db'][_0x2bdd22(0x50f)]?this[_0x2bdd22(0x628)][_0x2bdd22(0x6b3)]?.['db'](this['db']['CONNECTION'][_0x2bdd22(0x2a5)]+_0x2bdd22(0x6f9)):void 0x0,this['cache']=this['redis']['ENABLED']?new oe(this['redis']):void 0x0);}async['instanceInfo'](_0x232394){const _0x3e5f5d=a0_0x58753f;if(_0x232394&&!this['waInstances'][_0x232394])throw new k(_0x3e5f5d(0x29b)+_0x232394+_0x3e5f5d(0x482));let _0x3d209b=[];for await(let [_0xbfd479,_0x1f6fb9]of Object[_0x3e5f5d(0x40c)](this[_0x3e5f5d(0x37a)]))if(_0x1f6fb9&&_0x1f6fb9[_0x3e5f5d(0x23d)][_0x3e5f5d(0x4c1)]===_0x3e5f5d(0x6b6)){let _0x2c142b=await this[_0x3e5f5d(0x628)][_0x3e5f5d(0x6be)]['find'](_0xbfd479);_0x3d209b[_0x3e5f5d(0x174)]({'instance':{'instanceName':_0xbfd479,'apikey':_0x2c142b[_0x3e5f5d(0x64d)],'owner':_0x1f6fb9[_0x3e5f5d(0x6ab)],'profileName':await _0x1f6fb9['getProfileName']()||_0x3e5f5d(0x1fa),'profilePictureUrl':_0x1f6fb9[_0x3e5f5d(0x72c)]}});}return _0x3d209b[_0x3e5f5d(0x53a)](_0x1551d0=>_0x1551d0[_0x3e5f5d(0x339)][_0x3e5f5d(0x479)]===_0x232394)??_0x3d209b;}async['cleaningUp'](_0x2d6ec6){const _0x20898d=a0_0x58753f;if(this['db'][_0x20898d(0x50f)]&&(await this[_0x20898d(0x628)][_0x20898d(0x6b3)][_0x20898d(0x3c9)](),(await this[_0x20898d(0x107)][_0x20898d(0x18f)]())[_0x20898d(0x676)]>0x0&&await this[_0x20898d(0x107)]['dropCollection'](_0x2d6ec6)),this['redis'][_0x20898d(0x50f)]){this['cache']['reference']=_0x2d6ec6,await this['cache'][_0x20898d(0x32f)]();return;}}async[a0_0x58753f(0x1d3)](){const _0x44df24=a0_0x58753f;await this[_0x44df24(0x766)]();let _0x579e63=async _0xaa8c22=>{const _0x454668=_0x44df24;let _0x313525=new ye(this['configService'],this['eventEmitter'],this[_0x454668(0x628)]);_0x313525[_0x454668(0x479)]=_0xaa8c22,await _0x313525[_0x454668(0x416)](),this[_0x454668(0x37a)][_0xaa8c22]=_0x313525;};try{if(this[_0x44df24(0x60b)][_0x44df24(0x50f)]){let _0x300887=await this[_0x44df24(0x3f4)]['instanceKeys']();_0x300887?.['length']>0x0&&_0x300887[_0x44df24(0x537)](async _0x2e6a14=>await _0x579e63(_0x2e6a14[_0x44df24(0x610)](':')[0x1]));return;}if(this['db'][_0x44df24(0x50f)]){await this[_0x44df24(0x628)][_0x44df24(0x6b3)][_0x44df24(0x3c9)]();let _0x30c5ee=await this[_0x44df24(0x107)][_0x44df24(0x18f)]();_0x30c5ee[_0x44df24(0x676)]>0x0&&_0x30c5ee[_0x44df24(0x537)](async _0x40e2bf=>await _0x579e63(_0x40e2bf[_0x44df24(0x556)][_0x44df24(0x36c)](/^[\w-]+\./,'')));return;}}catch(_0x27ede4){this[_0x44df24(0x46b)]['error'](_0x27ede4);}}async[a0_0x58753f(0x266)](){const _0x1da01b=a0_0x58753f;let _0x287540=await this[_0x1da01b(0x628)]['auth'][_0x1da01b(0x160)](),_0x47bfb1=_0x287540[_0x1da01b(0x56a)](_0x3b609e=>!this['waInstances'][_0x3b609e[_0x1da01b(0x29f)]]&&(_0x3b609e[_0x1da01b(0x136)]||typeof _0x3b609e[_0x1da01b(0x136)]>'u'));_0x47bfb1[_0x1da01b(0x676)]>0x0&&await Promise['all'](_0x47bfb1[_0x1da01b(0x378)](async _0x3ea9d1=>{const _0x37a8ca=_0x1da01b;let _0x184bda={'online':!0x1,'lastDisconnect':Date[_0x37a8ca(0x447)]()};await this['repository'][_0x37a8ca(0x6be)][_0x37a8ca(0x60f)](_0x184bda,_0x3ea9d1[_0x37a8ca(0x29f)]);}));let _0x3f7b79=Date[_0x1da01b(0x447)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0xd6d74c=_0x287540[_0x1da01b(0x56a)](_0x3dcdf4=>!this[_0x1da01b(0x37a)][_0x3dcdf4['_id']]&&typeof _0x3dcdf4[_0x1da01b(0x22b)]<'u'&&_0x3dcdf4[_0x1da01b(0x22b)]<_0x3f7b79);_0xd6d74c[_0x1da01b(0x676)]>0x0&&await Promise[_0x1da01b(0x186)](_0xd6d74c[_0x1da01b(0x378)](async _0x4d4b10=>{}));}async['InstancesAlterarTodas'](){const _0x6d46fa=a0_0x58753f;try{let _0x3a9541={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4c1a8e={'online':!0x1,'lastDisconnect':Date[_0x6d46fa(0x447)]()},_0x5e88c6=await this[_0x6d46fa(0x628)][_0x6d46fa(0x6be)][_0x6d46fa(0x4ea)](_0x3a9541,_0x4c1a8e);console[_0x6d46fa(0x5c1)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x5e88c6['insertCount']),await this[_0x6d46fa(0x2dd)]();}catch(_0x2fa3f2){console[_0x6d46fa(0x47b)](_0x6d46fa(0x515),_0x2fa3f2);}}async['removeOlderDisconnectedInstances'](){const _0x3738f7=a0_0x58753f;try{let _0x4a2b50={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x1ac2f4=await this[_0x3738f7(0x628)][_0x3738f7(0x6be)][_0x3738f7(0x695)](_0x4a2b50);console[_0x3738f7(0x5c1)](_0x3738f7(0x33a)+_0x1ac2f4[_0x3738f7(0x232)]);}catch(_0x1ca528){console[_0x3738f7(0x47b)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x1ca528);}}[a0_0x58753f(0x253)](){const _0x313e33=a0_0x58753f;this[_0x313e33(0x1e2)]['on'](_0x313e33(0x584),async _0x485359=>{const _0x570491=_0x313e33;try{this['waInstances'][_0x485359]=void 0x0;}catch{}try{this[_0x570491(0x4b2)](_0x485359);}finally{this[_0x570491(0x46b)][_0x570491(0x611)](_0x570491(0x29b)+_0x485359+_0x570491(0x5aa));}});}[a0_0x58753f(0x681)](){const _0x24573b=a0_0x58753f;this['eventEmitter']['on'](_0x24573b(0x1bd),async _0x38d0d6=>{const _0x5b53d9=_0x24573b;try{this['waInstances'][_0x38d0d6]=void 0x0;}catch{}try{this['cleaningUp'](_0x38d0d6);}finally{this['logger'][_0x5b53d9(0x611)](_0x5b53d9(0x29b)+_0x38d0d6+_0x5b53d9(0x514));}});}},kt=class extends D{['getChatModelForOwner'](_0x31f87f){return Vs(_0x31f87f);}async[a0_0x58753f(0x621)](_0x5dfcfc){const _0x2e492d=a0_0x58753f;if(_0x5dfcfc[_0x2e492d(0x676)]!==0x0)try{return{'insertCount':(await this[_0x2e492d(0x37f)](_0x5dfcfc[0x0]['owner'])[_0x2e492d(0x615)]([..._0x5dfcfc]))[_0x2e492d(0x676)]};}catch(_0x2825c9){return _0x2825c9;}}async[a0_0x58753f(0x53a)](_0x544e67,_0x36da0b){const _0x244f35=a0_0x58753f;try{let _0x303e80=this[_0x244f35(0x37f)](_0x36da0b),_0x1b6295=A(_0x544e67[_0x244f35(0x40b)]);return await _0x303e80['find'](_0x1b6295)['sort']({'lastmsg':-0x1})[_0x244f35(0xd1)](_0x544e67?.['limit']??0x0)[_0x244f35(0x716)]();}catch{return[];}}async[a0_0x58753f(0x717)](_0xca6d68,_0x1eaf61){const _0x220e94=a0_0x58753f;try{return await this[_0x220e94(0x37f)](_0x1eaf61)[_0x220e94(0x695)]({..._0xca6d68[_0x220e94(0x40b)]}),[];}catch(_0x5c120c){return{'error':_0x5c120c?.[_0x220e94(0x623)]()};}}async[a0_0x58753f(0x2e1)](_0x285216,_0x292083){const _0x4486e2=a0_0x58753f;try{let _0x47bce1=this[_0x4486e2(0x37f)](_0x292083),_0x5080f9=A(_0x285216[_0x4486e2(0x40b)]);return await _0x47bce1['findOne'](_0x5080f9)[_0x4486e2(0x716)]();}catch{return null;}}async[a0_0x58753f(0x614)](_0x4ebb0e,_0xb5d62e,_0x360196,_0xc537c3,_0x3fd1ee='$set'){const _0x1f56fe=a0_0x58753f;try{let _0x8d12b0={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xc537c3},_0x9e172e=this['getChatModelForOwner'](_0x360196),_0x5e7048=A(_0x4ebb0e[_0x1f56fe(0x40b)]);Object['keys'](_0xb5d62e)[_0x1f56fe(0x537)](_0x5094eb=>{_0xb5d62e[_0x5094eb]==null&&delete _0xb5d62e[_0x5094eb];});let _0x2f257e={};return _0x2f257e[_0x3fd1ee]=_0xb5d62e,await _0x9e172e[_0x1f56fe(0x547)](_0x5e7048,_0x2f257e,_0x8d12b0);}catch(_0x1db0c9){return console[_0x1f56fe(0x47b)](_0x1db0c9),null;}}async[a0_0x58753f(0x3e1)](_0x4474ff){const _0x682400=a0_0x58753f;try{let _0x2c5587=this['getChatModelForOwner'](_0x4474ff[0x0]['query'][_0x682400(0x40b)][_0x682400(0x4a8)]),_0x4ff54b=_0x4474ff['map'](_0x5a61a8=>({'updateOne':{'filter':{..._0x5a61a8[_0x682400(0x435)][_0x682400(0x40b)]},'update':{'$set':_0x5a61a8[_0x682400(0x4cd)]},'upsert':!0x0}})),_0x44c9e9=await _0x2c5587[_0x682400(0x5fd)](_0x4ff54b);return _0x44c9e9[_0x682400(0x393)]+_0x44c9e9['upsertedCount'];}catch(_0x1cf442){return console[_0x682400(0x47b)](_0x1cf442),0x0;}}async['updateMissingLabels'](_0x5d46df){const _0x2da545=a0_0x58753f;try{let _0x1a962e=this[_0x2da545(0x37f)](_0x5d46df),_0x55f491={'labels':{'$exists':!0x0}},_0x4c89a2={'$unset':{'labels':''}};return(await _0x1a962e[_0x2da545(0x3e1)](_0x55f491,_0x4c89a2))[_0x2da545(0x393)];}catch(_0x3ab8df){return console['error'](_0x3ab8df),0x0;}}async[a0_0x58753f(0xd3)](_0x4c5ba7){const _0x57054b=a0_0x58753f;try{let _0x462f3a=this['getChatModelForOwner'](_0x4c5ba7),_0x2183ca={'leadInfo.etiquetas':{'$exists':!0x1}},_0x21c121={'$set':{'leadInfo.etiquetas':[]}};return(await _0x462f3a[_0x57054b(0x3e1)](_0x2183ca,_0x21c121))[_0x57054b(0x393)];}catch(_0xebc149){return console[_0x57054b(0x47b)](_0xebc149),0x0;}}async[a0_0x58753f(0x524)](_0xb82f1b){const _0x287109=a0_0x58753f;try{let _0x27d01e=this['getChatModelForOwner'](_0xb82f1b),_0x2e6807={'leadInfo.tags':{'$exists':!0x1}},_0x11885b={'$set':{'leadInfo.tags':[]}};return(await _0x27d01e[_0x287109(0x3e1)](_0x2e6807,_0x11885b))[_0x287109(0x393)];}catch(_0x3cfad6){return console[_0x287109(0x47b)](_0x3cfad6),0x0;}}async[a0_0x58753f(0x259)](_0x5dcd03){const _0x50b98d=a0_0x58753f;try{let _0x4bd174=this[_0x50b98d(0x37f)](_0x5dcd03),_0x21e852={'leadInfo.customFields':{'$exists':!0x1}},_0x460bde={'$set':{'leadInfo.customFields':[]}};return(await _0x4bd174[_0x50b98d(0x3e1)](_0x21e852,_0x460bde))[_0x50b98d(0x393)];}catch(_0x95bd46){return console[_0x50b98d(0x47b)](_0x95bd46),0x0;}}async[a0_0x58753f(0x615)](_0x502d91,_0x8095b4){const _0x2af102=a0_0x58753f;if(!Array[_0x2af102(0x293)](_0x502d91)||_0x502d91[_0x2af102(0x676)]===0x0)throw new Error(_0x2af102(0x156));try{return(await this[_0x2af102(0x37f)](_0x8095b4)['insertMany'](_0x502d91))['length'];}catch(_0x116d4a){throw console[_0x2af102(0x47b)](_0x2af102(0x520),_0x116d4a),_0x116d4a;}}async[a0_0x58753f(0x555)](_0x4f1414,_0x593678){const _0x1534b9=a0_0x58753f;try{await this[_0x1534b9(0x37f)](_0x593678)['deleteOne']({'_id':_0x4f1414});}catch(_0x2750f7){throw console[_0x1534b9(0x47b)](_0x1534b9(0x2cb),_0x2750f7),_0x2750f7;}}},Lt=class extends D{[a0_0x58753f(0x664)](_0x3225d1){return ha(_0x3225d1);}async[a0_0x58753f(0x614)](_0x3f9121,_0x61b5e,_0x29071b,_0x4d023f){const _0x3cc01e=a0_0x58753f;try{let _0x2e9dcc={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4d023f},_0x1ba5ab=this[_0x3cc01e(0x664)](_0x29071b),_0x16031e=A(_0x3f9121['where']);return await _0x1ba5ab['findOneAndUpdate'](_0x16031e,{'$set':_0x61b5e},_0x2e9dcc);}catch(_0x414e27){return console[_0x3cc01e(0x47b)](_0x414e27),null;}}async[a0_0x58753f(0x53a)](_0x141b65,_0x494eca){const _0x2209a4=a0_0x58753f;try{let _0x3f8ae8=this[_0x2209a4(0x664)](_0x494eca),_0x5c0ebe=A(_0x141b65[_0x2209a4(0x40b)]);return await _0x3f8ae8[_0x2209a4(0x53a)](_0x5c0ebe);}catch(_0x3a7edc){console[_0x2209a4(0x47b)](_0x3a7edc);}}async['delete'](_0x5de2af,_0x2b76f7){const _0x5590a0=a0_0x58753f;try{let _0x835f29=this[_0x5590a0(0x664)](_0x2b76f7),_0x3009b3=A(_0x5de2af[_0x5590a0(0x40b)]);await _0x835f29['deleteMany'](_0x3009b3);}catch(_0x3b336f){console[_0x5590a0(0x47b)](_0x3b336f);}}async[a0_0x58753f(0x717)](_0x53733a){const _0x52b824=a0_0x58753f;try{return await this['getLabelModelForOwner'](_0x53733a)[_0x52b824(0x619)][_0x52b824(0xce)](),{'success':!0x0};}catch(_0x5c9e73){return console[_0x52b824(0x47b)](_0x5c9e73),{'success':!0x1,'error':_0x5c9e73};}}},Ft=class{constructor(_0x4b048a){const _0x4ed3ff=a0_0x58753f;this[_0x4ed3ff(0x2f0)]=_0x4b048a;}async['editChat']({instanceName:_0x188d81},_0x102216){const _0x23b299=a0_0x58753f;return await this[_0x23b299(0x2f0)][_0x23b299(0x37a)][_0x188d81][_0x23b299(0x1fc)](_0x102216);}async['whatsappNumber']({instanceName:_0x2b1cf6},_0x5a3b14){const _0x570363=a0_0x58753f;return await this['waMonitor'][_0x570363(0x37a)][_0x2b1cf6][_0x570363(0x4ff)](_0x5a3b14);}async['importChats']({instanceName:_0x582aba},_0x3b5ce6){const _0x281990=a0_0x58753f;return await this[_0x281990(0x2f0)][_0x281990(0x37a)][_0x582aba][_0x281990(0x2ad)](_0x3b5ce6);}async['readMessage']({instanceName:_0x22e92f},_0x587f72){const _0x352a47=a0_0x58753f;return await this[_0x352a47(0x2f0)][_0x352a47(0x37a)][_0x22e92f][_0x352a47(0x5f8)](_0x587f72);}async[a0_0x58753f(0x426)]({instanceName:_0xadaef1},_0x4169e0){const _0x11e53f=a0_0x58753f;return await this[_0x11e53f(0x2f0)][_0x11e53f(0x37a)][_0xadaef1][_0x11e53f(0x426)](_0x4169e0);}async[a0_0x58753f(0x6ce)]({instanceName:_0x103ac0},_0x2679bd){const _0x34310a=a0_0x58753f;return await this[_0x34310a(0x2f0)]['waInstances'][_0x103ac0][_0x34310a(0x6ce)](_0x2679bd);}async[a0_0x58753f(0x70f)]({instanceName:_0x15998e},_0x4980ab){const _0x2b9aec=a0_0x58753f;return await this[_0x2b9aec(0x2f0)][_0x2b9aec(0x37a)][_0x15998e][_0x2b9aec(0x756)](_0x4980ab[_0x2b9aec(0x32d)]);}async[a0_0x58753f(0x3a2)]({instanceName:_0x29d4ba},_0x257cd4){const _0x44a9b3=a0_0x58753f;return await this[_0x44a9b3(0x2f0)][_0x44a9b3(0x37a)][_0x29d4ba]['fetchProfile'](_0x257cd4[_0x44a9b3(0x32d)]);}async[a0_0x58753f(0x53b)]({instanceName:_0x1e0455},_0x39f2de){const _0xdf710=a0_0x58753f;return await this['waMonitor'][_0xdf710(0x37a)][_0x1e0455][_0xdf710(0x53b)](_0x39f2de);}async['fetchContacts']({instanceName:_0xf361d1},_0x3fca69){const _0x34e9ba=a0_0x58753f;return await this['waMonitor'][_0x34e9ba(0x37a)][_0xf361d1][_0x34e9ba(0x163)](_0x3fca69);}async[a0_0x58753f(0x432)]({instanceName:_0x470a36},_0x5db0a9){const _0x1f26fb=a0_0x58753f;return await this['waMonitor'][_0x1f26fb(0x37a)][_0x470a36]['getBase64FromMediaMessage'](_0x5db0a9);}async['fetchMessages']({instanceName:_0xe9f9da},_0x37c382){const _0x1c6c8d=a0_0x58753f;return await this['waMonitor'][_0x1c6c8d(0x37a)][_0xe9f9da][_0x1c6c8d(0x5d7)](_0x37c382);}async[a0_0x58753f(0x5e8)]({instanceName:_0x3822e5}){const _0x5ea3ae=a0_0x58753f;return await this['waMonitor'][_0x5ea3ae(0x37a)][_0x3822e5]['fetchLabels']();}async[a0_0x58753f(0x385)]({instanceName:_0x9e0a46}){const _0x592a45=a0_0x58753f;return await this['waMonitor']['waInstances'][_0x9e0a46][_0x592a45(0x385)]();}async[a0_0x58753f(0x596)]({instanceName:_0x5a80e4}){const _0x1cebc5=a0_0x58753f;return await this[_0x1cebc5(0x2f0)][_0x1cebc5(0x37a)][_0x5a80e4]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x1ccead},_0x5da8ce){const _0x3b6e9d=a0_0x58753f;return await this['waMonitor'][_0x3b6e9d(0x37a)][_0x1ccead]['updatePrivacySettings'](_0x5da8ce);}async[a0_0x58753f(0x1fb)]({instanceName:_0x569c56},_0x5c8fad){const _0x5181f0=a0_0x58753f;return await this['waMonitor'][_0x5181f0(0x37a)][_0x569c56]['fetchBusinessProfile'](_0x5c8fad['number']);}async[a0_0x58753f(0x3e8)]({instanceName:_0x41c9c4},_0x11ca80){return await this['waMonitor']['waInstances'][_0x41c9c4]['updateProfileName'](_0x11ca80['name']);}async[a0_0x58753f(0x2f6)]({instanceName:_0x367411},_0x444c8d){const _0x53d142=a0_0x58753f;return await this[_0x53d142(0x2f0)][_0x53d142(0x37a)][_0x367411]['updateProfileStatus'](_0x444c8d[_0x53d142(0x593)]);}async[a0_0x58753f(0x6a7)]({instanceName:_0x60b47a},_0x564a47){const _0x3472a9=a0_0x58753f;return await this[_0x3472a9(0x2f0)][_0x3472a9(0x37a)][_0x60b47a][_0x3472a9(0x6a7)](_0x564a47['picture']);}async[a0_0x58753f(0x139)]({instanceName:_0x36eb96},_0x35955a){const _0x1803f8=a0_0x58753f;return await this[_0x1803f8(0x2f0)][_0x1803f8(0x37a)][_0x36eb96][_0x1803f8(0x139)]();}},Ts=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x5e6a3e,_0x35a578,_0x33be7c,_0x4bbf52,_0x458587){const _0x421082=a0_0x58753f;this[_0x421082(0x2f0)]=_0x5e6a3e,this[_0x421082(0x6ae)]=_0x35a578,this[_0x421082(0x628)]=_0x33be7c,this[_0x421082(0x1e2)]=_0x4bbf52,this['authService']=_0x458587,this[_0x421082(0x46b)]=new N(c[_0x421082(0x730)]);}async['createInstance']({instanceName:_0x13aa48,apikey:_0x5c19fe,number:_0x2b9357,proxy:_0x3c630b=!0x0}){const _0x347ceb=a0_0x58753f;try{let _0x26804e=new ye(this['configService'],this[_0x347ceb(0x1e2)],this['repository']);_0x26804e[_0x347ceb(0x479)]=_0x13aa48,this[_0x347ceb(0x2f0)][_0x347ceb(0x37a)][_0x26804e['instanceName']]=_0x26804e;let _0x5d6a6c={};_0x5c19fe?(await this[_0x347ceb(0x628)][_0x347ceb(0x6be)][_0x347ceb(0x60f)]({'apikey':_0x5c19fe},_0x13aa48),_0x5d6a6c[_0x347ceb(0x64d)]=_0x5c19fe):_0x5d6a6c=await this[_0x347ceb(0x1b1)][_0x347ceb(0x659)]({'instanceName':_0x26804e['instanceName']});let _0x34daa4;return await _0x26804e[_0x347ceb(0x416)](_0x2b9357),await(0x0,Ts[_0x347ceb(0x48f)])(0x7d0),_0x34daa4=_0x26804e[_0x347ceb(0x567)],{'instance':{'instanceName':_0x26804e[_0x347ceb(0x479)],'status':_0x347ceb(0x219)},'hash':_0x5d6a6c,'qrcode':_0x34daa4};}catch(_0x319a35){this[_0x347ceb(0x46b)][_0x347ceb(0x47b)](_0x319a35);}}async['connectToWhatsappController']({instanceName:_0xb9cce9,number:_0x1b9caf=null}){const _0x2f6221=a0_0x58753f;try{let _0x2ebae7=this['waMonitor'][_0x2f6221(0x37a)][_0xb9cce9];switch(_0x2ebae7?.[_0x2f6221(0x23d)]?.['state']){case'close':return await _0x2ebae7[_0x2f6221(0x416)](_0x1b9caf),await(0x0,Ts[_0x2f6221(0x48f)])(0x7d0),_0x2ebae7[_0x2f6221(0x567)];case _0x2f6221(0x2d5):return _0x2ebae7[_0x2f6221(0x567)];default:return await this[_0x2f6221(0x203)]({'instanceName':_0xb9cce9});}}catch(_0x13e87c){this[_0x2f6221(0x46b)][_0x2f6221(0x5c1)](_0x13e87c);}}async[a0_0x58753f(0x203)]({instanceName:_0x3b7bb7}){const _0x106101=a0_0x58753f;let _0x35e60e=this[_0x106101(0x2f0)][_0x106101(0x37a)][_0x3b7bb7][_0x106101(0x23d)],_0x3b90c6=null;_0x35e60e[_0x106101(0x4c1)]===_0x106101(0x6b6)&&_0x3b7bb7&&(_0x3b90c6=await this[_0x106101(0x2f0)][_0x106101(0x580)](_0x3b7bb7));let _0x3802b0=null;return _0x35e60e['state']===_0x106101(0x2d5)&&_0x3b7bb7&&(_0x3802b0=this[_0x106101(0x2f0)][_0x106101(0x37a)][_0x3b7bb7][_0x106101(0x567)]),{'instance':_0x3b7bb7,'connectionStatus':_0x35e60e,'instanceInfo':_0x3b90c6,'qrcode':_0x3802b0};}async['restartInstance']({instanceName:_0x265fe3}){const _0x29d4a1=a0_0x58753f;try{return this[_0x29d4a1(0x2f0)]['waInstances'][_0x265fe3]?.[_0x29d4a1(0x299)]?.['ws']?.['close'](),{'status':_0x29d4a1(0x5a7),'error':!0x1,'response':{'message':_0x29d4a1(0x58b)}};}catch(_0x412e10){this[_0x29d4a1(0x46b)][_0x29d4a1(0x47b)](_0x412e10);}}async[a0_0x58753f(0x269)]({instanceName:_0x347678}){const _0x3a9792=a0_0x58753f;return _0x347678?this[_0x3a9792(0x2f0)][_0x3a9792(0x580)](_0x347678):this[_0x3a9792(0x2f0)][_0x3a9792(0x580)]();}async[a0_0x58753f(0x6d5)]({instanceName:_0x5173da}){const _0x466653=a0_0x58753f;try{return await this[_0x466653(0x2f0)][_0x466653(0x37a)][_0x5173da]?.[_0x466653(0x299)]?.[_0x466653(0x6d5)](_0x466653(0x30f)+_0x5173da),{'error':!0x1,'message':_0x466653(0x475)};}catch(_0x409d40){throw new I(_0x409d40[_0x466653(0x623)]());}}async['deleteInstance']({instanceName:_0x4a10ec}){const _0x4fd5c7=a0_0x58753f;if((await this[_0x4fd5c7(0x203)]({'instanceName':_0x4a10ec}))['connectionStatus'][_0x4fd5c7(0x4c1)]===_0x4fd5c7(0x6b6))throw new w(['Deletion\x20failed',_0x4fd5c7(0x19d)]);try{return delete this[_0x4fd5c7(0x2f0)]['waInstances'][_0x4a10ec],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x42f1f4){throw new w(_0x42f1f4['toString']());}}},X=require('class-validator'),Ut=class{constructor(_0x1c803a){const _0x56c380=a0_0x58753f;this[_0x56c380(0x2f0)]=_0x1c803a;}async[a0_0x58753f(0x33c)]({instanceName:_0x4d95ed},_0x445aac){const _0xe22350=a0_0x58753f;return await this[_0xe22350(0x2f0)][_0xe22350(0x37a)][_0x4d95ed][_0xe22350(0x395)](_0x445aac);}async[a0_0x58753f(0x11a)]({instanceName:_0x53de51},_0x3d72aa){const _0x5ac745=a0_0x58753f;return await this[_0x5ac745(0x2f0)]['waInstances'][_0x53de51][_0x5ac745(0x19a)](_0x3d72aa);}async['sendMedia']({instanceName:_0x2d2450},_0x463aa6){const _0x54bc41=a0_0x58753f;if((0x0,X[_0x54bc41(0x263)])(_0x463aa6?.['mediaMessage']?.[_0x54bc41(0x1c6)])&&!_0x463aa6?.[_0x54bc41(0x158)]?.[_0x54bc41(0x1e3)])throw new w(_0x54bc41(0x312));if((0x0,X['isURL'])(_0x463aa6?.['mediaMessage']?.[_0x54bc41(0x1c6)])||(0x0,X[_0x54bc41(0x263)])(_0x463aa6?.[_0x54bc41(0x158)]?.[_0x54bc41(0x1c6)]))return await this[_0x54bc41(0x2f0)][_0x54bc41(0x37a)][_0x2d2450]['mediaMessage'](_0x463aa6);throw new w(_0x54bc41(0x58a));}async['sendSticker']({instanceName:_0x372291},_0x5ab0d9){const _0x2de5ca=a0_0x58753f;if((0x0,X[_0x2de5ca(0x5e9)])(_0x5ab0d9[_0x2de5ca(0x258)][_0x2de5ca(0x682)])||(0x0,X[_0x2de5ca(0x263)])(_0x5ab0d9[_0x2de5ca(0x258)][_0x2de5ca(0x682)]))return await this[_0x2de5ca(0x2f0)][_0x2de5ca(0x37a)][_0x372291]['mediaSticker'](_0x5ab0d9);throw new w(_0x2de5ca(0x58a));}async['sendWhatsAppAudio']({instanceName:_0x9f3428},_0x303954){const _0x582ce4=a0_0x58753f;if((0x0,X[_0x582ce4(0x5e9)])(_0x303954['audioMessage'][_0x582ce4(0x1ca)])||(0x0,X[_0x582ce4(0x263)])(_0x303954['audioMessage'][_0x582ce4(0x1ca)]))return await this[_0x582ce4(0x2f0)][_0x582ce4(0x37a)][_0x9f3428][_0x582ce4(0x61b)](_0x303954);throw new w(_0x582ce4(0x58a));}async[a0_0x58753f(0x278)]({instanceName:_0x298adb},_0x48dc34){const _0x55acd7=a0_0x58753f;if((0x0,X[_0x55acd7(0x263)])(_0x48dc34[_0x55acd7(0x59b)][_0x55acd7(0x158)]?.[_0x55acd7(0x1c6)])&&!_0x48dc34['buttonMessage'][_0x55acd7(0x158)]?.[_0x55acd7(0x1e3)])throw new w(_0x55acd7(0x312));return await this[_0x55acd7(0x2f0)][_0x55acd7(0x37a)][_0x298adb]['buttonMessage'](_0x48dc34);}async['sendLocation']({instanceName:_0x485260},_0x3d55e0){const _0x498c3b=a0_0x58753f;return await this['waMonitor'][_0x498c3b(0x37a)][_0x485260][_0x498c3b(0x233)](_0x3d55e0);}async[a0_0x58753f(0x249)]({instanceName:_0x513d0a},_0x4a9f39){const _0x4ca76f=a0_0x58753f;return await this[_0x4ca76f(0x2f0)][_0x4ca76f(0x37a)][_0x513d0a][_0x4ca76f(0x768)](_0x4a9f39);}async[a0_0x58753f(0x10a)]({instanceName:_0x4aa3e0},_0xc06339){const _0x470813=a0_0x58753f;return await this[_0x470813(0x2f0)]['waInstances'][_0x4aa3e0][_0x470813(0x466)](_0xc06339);}async['sendContact']({instanceName:_0x5c71ff},_0x41df23){const _0x44f371=a0_0x58753f;return await this['waMonitor']['waInstances'][_0x5c71ff][_0x44f371(0x162)](_0x41df23);}async['sendReaction']({instanceName:_0x4bc397},_0x18d92e){const _0x1a3520=a0_0x58753f;if(!_0x18d92e[_0x1a3520(0x3d2)][_0x1a3520(0x42e)][_0x1a3520(0x543)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x1a3520(0x190));return await this['waMonitor'][_0x1a3520(0x37a)][_0x4bc397][_0x1a3520(0x3d2)](_0x18d92e);}async[a0_0x58753f(0x2a1)]({instanceName:_0x4c1e43},_0x28ae28){const _0x3f517f=a0_0x58753f;return await this[_0x3f517f(0x2f0)][_0x3f517f(0x37a)][_0x4c1e43][_0x3f517f(0x179)](_0x28ae28);}},Cr=require(a0_0x58753f(0x739)),Os=require(a0_0x58753f(0x2c1)),qt=class c{constructor(_0x5869fd,_0x1b87f0,_0x5ae613){const _0x401c74=a0_0x58753f;this[_0x401c74(0x6ae)]=_0x5869fd,this[_0x401c74(0x2f0)]=_0x1b87f0,this['repository']=_0x5ae613,this[_0x401c74(0x46b)]=new N(c[_0x401c74(0x730)]);}async['jwt'](_0x62cddf){const _0x11c43b=a0_0x58753f;let _0x367e00=this[_0x11c43b(0x6ae)]['get']('AUTHENTICATION')['JWT'],_0x53d0ad=(0x0,Cr[_0x11c43b(0x21a)])({'instanceName':_0x62cddf[_0x11c43b(0x479)],'apiName':He,'tokenId':(0x0,Os['v4'])()},_0x367e00[_0x11c43b(0x649)],{'expiresIn':_0x367e00[_0x11c43b(0x1ff)],'encoding':_0x11c43b(0x2e8),'subject':_0x11c43b(0x464)}),_0x3b08d3=await this['repository']['auth'][_0x11c43b(0x60f)]({'jwt':_0x53d0ad},_0x62cddf[_0x11c43b(0x479)]);if(_0x3b08d3['error'])throw this[_0x11c43b(0x46b)][_0x11c43b(0x47b)]({'localError':c[_0x11c43b(0x730)]+'.jwt','error':_0x3b08d3['error']}),new w('Authentication\x20error',_0x3b08d3[_0x11c43b(0x47b)]?.['toString']());return{'jwt':_0x53d0ad};}async['apikey'](_0x23ecef){const _0x4a183a=a0_0x58753f;let _0x5908ed=(0x0,Os['v4'])()['toUpperCase'](),_0x5100c7=await this[_0x4a183a(0x628)][_0x4a183a(0x6be)][_0x4a183a(0x60f)]({'apikey':_0x5908ed},_0x23ecef['instanceName']);if(_0x5100c7[_0x4a183a(0x47b)])throw this[_0x4a183a(0x46b)][_0x4a183a(0x47b)]({'localError':c[_0x4a183a(0x730)]+_0x4a183a(0xf4),'error':_0x5100c7[_0x4a183a(0x47b)]}),new w(_0x4a183a(0x323),_0x5100c7[_0x4a183a(0x47b)]?.[_0x4a183a(0x623)]());return{'apikey':_0x5908ed};}async[a0_0x58753f(0x659)](_0xfc8456){const _0x504d96=a0_0x58753f;let _0x39933b=this['configService'][_0x504d96(0x59e)](_0x504d96(0x285));return await this[_0x39933b[_0x504d96(0x2cc)]](_0xfc8456);}},Jt=class{constructor(_0x24953b){this['waMonitor']=_0x24953b;}async[a0_0x58753f(0x6d1)](_0x3c7bd3,_0x2e8f08){const _0x5e057b=a0_0x58753f;return await this['waMonitor'][_0x5e057b(0x37a)][_0x3c7bd3[_0x5e057b(0x479)]][_0x5e057b(0x6d1)](_0x2e8f08);}async[a0_0x58753f(0x63e)](_0x47f530,_0x249e7a){const _0x5286dc=a0_0x58753f;return await this[_0x5286dc(0x2f0)][_0x5286dc(0x37a)][_0x47f530[_0x5286dc(0x479)]]['updateGroupPicture'](_0x249e7a);}async[a0_0x58753f(0x693)](_0x3427a7,_0x4d0457){const _0x3c699e=a0_0x58753f;return await this[_0x3c699e(0x2f0)][_0x3c699e(0x37a)][_0x3427a7['instanceName']][_0x3c699e(0x693)](_0x4d0457);}async['groupName'](_0x389c3c,_0x57e2ec){const _0x24da8b=a0_0x58753f;return await this[_0x24da8b(0x2f0)][_0x24da8b(0x37a)][_0x389c3c[_0x24da8b(0x479)]][_0x24da8b(0x767)](_0x57e2ec);}async[a0_0x58753f(0x418)](_0x11e217,_0x2b53dc){const _0x4ca955=a0_0x58753f;return await this[_0x4ca955(0x2f0)][_0x4ca955(0x37a)][_0x11e217['instanceName']][_0x4ca955(0x418)](_0x2b53dc);}async[a0_0x58753f(0x1c9)](_0x109e18,_0x5b1eda){const _0x3ed86a=a0_0x58753f;return await this[_0x3ed86a(0x2f0)][_0x3ed86a(0x37a)][_0x109e18[_0x3ed86a(0x479)]][_0x3ed86a(0x43d)](_0x5b1eda);}async[a0_0x58753f(0x506)](_0x778bed){const _0x3ef83d=a0_0x58753f;return await this[_0x3ef83d(0x2f0)]['waInstances'][_0x778bed[_0x3ef83d(0x479)]][_0x3ef83d(0x506)]();}async[a0_0x58753f(0x56f)](_0x5404f9,_0x33841b){const _0x9ab28b=a0_0x58753f;return await this[_0x9ab28b(0x2f0)][_0x9ab28b(0x37a)][_0x5404f9[_0x9ab28b(0x479)]][_0x9ab28b(0x56f)](_0x33841b);}async[a0_0x58753f(0x539)](_0x111997,_0x288d7b){const _0x106ef6=a0_0x58753f;return await this[_0x106ef6(0x2f0)][_0x106ef6(0x37a)][_0x111997[_0x106ef6(0x479)]][_0x106ef6(0x539)](_0x288d7b);}async['revokeInviteCode'](_0x28f895,_0x480356){const _0x27e4aa=a0_0x58753f;return await this[_0x27e4aa(0x2f0)][_0x27e4aa(0x37a)][_0x28f895[_0x27e4aa(0x479)]][_0x27e4aa(0xdc)](_0x480356);}async['findParticipants'](_0x2bc076,_0x3c016b){const _0x11b53f=a0_0x58753f;return await this[_0x11b53f(0x2f0)][_0x11b53f(0x37a)][_0x2bc076[_0x11b53f(0x479)]][_0x11b53f(0x114)](_0x3c016b);}async[a0_0x58753f(0x4b9)](_0x7af96c,_0x583c60){const _0x1103c4=a0_0x58753f;return await this[_0x1103c4(0x2f0)][_0x1103c4(0x37a)][_0x7af96c[_0x1103c4(0x479)]][_0x1103c4(0x55d)](_0x583c60);}async['toggleEphemeral'](_0x43f356,_0x5d10d3){const _0x50f045=a0_0x58753f;return await this['waMonitor']['waInstances'][_0x43f356[_0x50f045(0x479)]]['toggleEphemeral'](_0x5d10d3);}async[a0_0x58753f(0x198)](_0x2ad494,_0x26e0f0){const _0x4b710=a0_0x58753f;return await this[_0x4b710(0x2f0)][_0x4b710(0x37a)][_0x2ad494[_0x4b710(0x479)]][_0x4b710(0x198)](_0x26e0f0);}},Vt=class{constructor(_0xce08d5){this['waMonitor']=_0xce08d5;}[a0_0x58753f(0x60f)](_0x33b307,_0x3c96a0){const _0xb1732c=a0_0x58753f;return this[_0xb1732c(0x2f0)]['waInstances'][_0x33b307['instanceName']][_0xb1732c(0xdb)](_0x3c96a0);}async[a0_0x58753f(0x53a)](_0x308cdf){const _0x3c65a5=a0_0x58753f;try{return await this[_0x3c65a5(0x2f0)]['waInstances'][_0x308cdf[_0x3c65a5(0x479)]][_0x3c65a5(0x1dc)]();}catch{return{'enabled':null,'url':''};}}},Zd=new N(a0_0x58753f(0x675)),Bt=class{constructor(_0x59a069){const _0x47e7b4=a0_0x58753f;this[_0x47e7b4(0x2f0)]=_0x59a069;}async[a0_0x58753f(0x74d)](_0x2873fa,_0x3be2dd){const _0x29331e=a0_0x58753f;return await this[_0x29331e(0x2f0)]['waInstances'][_0x2873fa['instanceName']]['editScheduleMessage'](_0x3be2dd);}async[a0_0x58753f(0xd6)](_0x34dee3){const _0x20e052=a0_0x58753f;return await this['waMonitor'][_0x20e052(0x37a)][_0x34dee3[_0x20e052(0x479)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x4ef4ae){const _0x5ef45e=a0_0x58753f;return await this['waMonitor'][_0x5ef45e(0x37a)][_0x4ef4ae[_0x5ef45e(0x479)]][_0x5ef45e(0x510)]();}async['getAutomateSystem'](_0x2fba37){const _0x30555c=a0_0x58753f;return await this[_0x30555c(0x2f0)]['waInstances'][_0x2fba37[_0x30555c(0x479)]]['getAutomateSystem']();}async['updateAgent'](_0x1bc5f5,_0x3391d6){const _0x2fad1b=a0_0x58753f;return await this[_0x2fad1b(0x2f0)]['waInstances'][_0x1bc5f5[_0x2fad1b(0x479)]]['updateAgent'](_0x3391d6);}async[a0_0x58753f(0x257)](_0x302650,_0x29a837){const _0x23249d=a0_0x58753f;return await this[_0x23249d(0x2f0)]['waInstances'][_0x302650[_0x23249d(0x479)]][_0x23249d(0x257)](_0x29a837);}async[a0_0x58753f(0x151)](_0x40c94a,_0xb68a2a){const _0x3f9101=a0_0x58753f;return await this[_0x3f9101(0x2f0)]['waInstances'][_0x40c94a[_0x3f9101(0x479)]]['updateFlowConfig'](_0xb68a2a);}async[a0_0x58753f(0x59d)](_0x42a5b2,_0x5a0454){const _0x52d60c=a0_0x58753f;return await this['waMonitor'][_0x52d60c(0x37a)][_0x42a5b2[_0x52d60c(0x479)]][_0x52d60c(0x59d)](_0x5a0454);}async[a0_0x58753f(0x626)](_0x429b91,_0x4a5d54){const _0x4f39ed=a0_0x58753f;return await this[_0x4f39ed(0x2f0)][_0x4f39ed(0x37a)][_0x429b91[_0x4f39ed(0x479)]]['getConversation'](_0x4a5d54);}async[a0_0x58753f(0xed)](_0x1e2e92,_0x2527cc){const _0x451807=a0_0x58753f;return await this[_0x451807(0x2f0)][_0x451807(0x37a)][_0x1e2e92['instanceName']]['fetchConversation'](_0x2527cc);}async[a0_0x58753f(0x559)](_0x1aae20,_0x414f50){const _0x25a3f8=a0_0x58753f;return await this[_0x25a3f8(0x2f0)][_0x25a3f8(0x37a)][_0x1aae20[_0x25a3f8(0x479)]]['editConversation'](_0x414f50);}async['deleteConversation'](_0x2aa42e,_0x5e3926){const _0x1442d5=a0_0x58753f;return await this[_0x1442d5(0x2f0)]['waInstances'][_0x2aa42e[_0x1442d5(0x479)]]['deleteConversation'](_0x5e3926);}async[a0_0x58753f(0x33e)](_0x5863f3,_0x3266cc){const _0x5d3d2a=a0_0x58753f;return await this['waMonitor'][_0x5d3d2a(0x37a)][_0x5863f3[_0x5d3d2a(0x479)]][_0x5d3d2a(0x33e)](_0x3266cc[_0x5d3d2a(0x730)]);}async[a0_0x58753f(0x3ec)](_0x353c7a,_0x21f281){const _0x37a1e4=a0_0x58753f;return await this[_0x37a1e4(0x2f0)][_0x37a1e4(0x37a)][_0x353c7a[_0x37a1e4(0x479)]][_0x37a1e4(0x3ec)](_0x21f281);}async[a0_0x58753f(0x751)](_0x57a5bb,_0x7c6dce){const _0x4d6943=a0_0x58753f;return await this[_0x4d6943(0x2f0)]['waInstances'][_0x57a5bb[_0x4d6943(0x479)]][_0x4d6943(0x751)](_0x7c6dce);}async['editFlowBlock'](_0x4c6bad,_0x20da3b){const _0x265f80=a0_0x58753f;return await this[_0x265f80(0x2f0)][_0x265f80(0x37a)][_0x4c6bad[_0x265f80(0x479)]][_0x265f80(0x4f3)](_0x20da3b);}async[a0_0x58753f(0x5b0)](_0x54356b,_0x5fb62a){const _0x4ab2fb=a0_0x58753f;return await this['waMonitor']['waInstances'][_0x54356b[_0x4ab2fb(0x479)]]['editFlowReply'](_0x5fb62a);}async[a0_0x58753f(0x575)](_0x43e26e,_0x3ebe82){const _0x5e6818=a0_0x58753f;return await this['waMonitor'][_0x5e6818(0x37a)][_0x43e26e[_0x5e6818(0x479)]][_0x5e6818(0x575)](_0x3ebe82);}async[a0_0x58753f(0x1d4)](_0x3dd984,_0x9ad874){const _0x27af4e=a0_0x58753f;return await this['waMonitor']['waInstances'][_0x3dd984['instanceName']][_0x27af4e(0x1d4)](_0x9ad874);}async[a0_0x58753f(0x67f)](_0x5d5372,_0x522ef2){const _0x1aa245=a0_0x58753f;return await this['waMonitor'][_0x1aa245(0x37a)][_0x5d5372[_0x1aa245(0x479)]][_0x1aa245(0x67f)](_0x522ef2);}async[a0_0x58753f(0x5c7)](_0x5f4a40,_0x1ad9e5){const _0x532ddd=a0_0x58753f;return await this[_0x532ddd(0x2f0)]['waInstances'][_0x5f4a40[_0x532ddd(0x479)]][_0x532ddd(0x5c7)](_0x1ad9e5);}async[a0_0x58753f(0x40e)](_0x14cd77,_0x1f6b69){const _0x5139a8=a0_0x58753f;return await this['waMonitor']['waInstances'][_0x14cd77['instanceName']][_0x5139a8(0x40e)](_0x1f6b69[_0x5139a8(0x730)]);}async[a0_0x58753f(0x3ba)](_0x434288){const _0x89f6e0=a0_0x58753f;return await this[_0x89f6e0(0x2f0)]['waInstances'][_0x434288['instanceName']]['allFlows']();}},Gt=class{constructor(_0x48d698){this['webhookService']=_0x48d698;}async[a0_0x58753f(0x6e6)](_0x31a4f6,_0x580050){const _0x590b8d=a0_0x58753f;return this['webhookService'][_0x590b8d(0x60f)](_0x31a4f6,_0x580050);}async[a0_0x58753f(0x1dc)](_0x847e7b){const _0x4de0e3=a0_0x58753f;return this[_0x4de0e3(0x75a)][_0x4de0e3(0x53a)](_0x847e7b);}},Wt=class extends D{constructor(_0x420b5a,_0x44f56f){const _0x43c5ab=a0_0x58753f;super(_0x44f56f),this[_0x43c5ab(0x564)]=_0x420b5a,this['configService']=_0x44f56f;}async['create'](_0x50281c,_0x2ca2d0){const _0xf148d8=a0_0x58753f;try{return this['dbSettings'][_0xf148d8(0x50f)]?{'insertCount':(await this['webhookModel'][_0xf148d8(0x56d)]({'_id':_0x2ca2d0},{..._0x50281c},{'upsert':!0x0}))[_0xf148d8(0x393)]}:{'insertCount':0x1};}catch(_0x5afd22){return _0x5afd22;}}async['delete'](_0x2b02d6){const _0x3784a4=a0_0x58753f;try{if(this[_0x3784a4(0x5e0)][_0x3784a4(0x50f)]){await this[_0x3784a4(0x564)][_0x3784a4(0x414)]({'_id':_0x2b02d6});return;}}catch(_0x43644f){return{'error':_0x43644f};}}async[a0_0x58753f(0x53a)](_0x3381b3){const _0x38212b=a0_0x58753f;try{if(this[_0x38212b(0x5e0)][_0x38212b(0x50f)])return await this[_0x38212b(0x564)]['findOne']({'_id':_0x3381b3});}catch{return{};}}},zt=class extends D{constructor(_0x519f36,_0x12057f){const _0x5204d5=a0_0x58753f;super(_0x12057f),this['authModel']=_0x519f36,this['configService']=_0x12057f,this[_0x5204d5(0x6be)]=_0x12057f[_0x5204d5(0x59e)](_0x5204d5(0x285));}async[a0_0x58753f(0x60f)](_0x4c595e,_0x506746){const _0x3535c3=a0_0x58753f;try{if(this['dbSettings'][_0x3535c3(0x50f)])return{'insertCount':(await this[_0x3535c3(0x1eb)][_0x3535c3(0x614)]({'_id':_0x506746},{'$set':{..._0x4c595e}},{'upsert':!0x0}))[_0x3535c3(0x393)]};}catch(_0x52bce4){return{'error':_0x52bce4};}}async[a0_0x58753f(0x4ea)](_0x5aae81,_0x481da6){const _0x9ca386=a0_0x58753f;try{if(this[_0x9ca386(0x5e0)][_0x9ca386(0x50f)])return{'insertCount':(await this[_0x9ca386(0x1eb)][_0x9ca386(0x3e1)](_0x5aae81,{'$set':_0x481da6},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x9ca386(0x496));}catch(_0x88d09f){return{'error':_0x88d09f};}}async[a0_0x58753f(0x695)](_0x220885){const _0x18306b=a0_0x58753f;try{if(this['dbSettings'][_0x18306b(0x50f)])return{'insertCount':(await this[_0x18306b(0x1eb)][_0x18306b(0x695)](_0x220885))[_0x18306b(0x714)]};throw new Error(_0x18306b(0x496));}catch(_0x1328c3){return{'error':_0x1328c3};}}async['delete'](_0x47411c){const _0x2b5f9e=a0_0x58753f;try{if(this[_0x2b5f9e(0x5e0)][_0x2b5f9e(0x50f)]){await this[_0x2b5f9e(0x1eb)][_0x2b5f9e(0x414)]({'_id':_0x47411c});return;}}catch(_0x539251){return{'error':_0x539251};}}async[a0_0x58753f(0x53a)](_0x4fad83){const _0x387b35=a0_0x58753f;try{if(this[_0x387b35(0x5e0)][_0x387b35(0x50f)])return await this[_0x387b35(0x1eb)][_0x387b35(0x2e1)]({'_id':_0x4fad83});}catch{return{};}}async[a0_0x58753f(0x160)](){const _0x1aba7f=a0_0x58753f;try{if(this['dbSettings'][_0x1aba7f(0x50f)])return await this[_0x1aba7f(0x1eb)][_0x1aba7f(0x53a)]();}catch{return[];}}},Ht=class extends D{['getFlowModelForOwner'](_0x1691b0){return ra(_0x1691b0);}async[a0_0x58753f(0x327)](_0x14436d){const _0x146c08=a0_0x58753f;try{let _0x51a24c=ia,_0x240dc0=this[_0x146c08(0x6fe)](_0x14436d),_0x405963=await _0x51a24c[_0x146c08(0x53a)]({'owner':_0x14436d})[_0x146c08(0x716)](),_0x213106=[],_0x56ecb3=[];for(let _0x1adbb6 of _0x405963)await _0x240dc0[_0x146c08(0x20f)](_0x1adbb6[_0x146c08(0x29f)])['lean']()||(_0x213106[_0x146c08(0x174)](_0x1adbb6),_0x56ecb3[_0x146c08(0x174)](_0x1adbb6['_id']));return _0x213106[_0x146c08(0x676)]>0x0&&await _0x240dc0[_0x146c08(0x615)](_0x213106,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2a79b2){return console[_0x146c08(0x47b)](_0x146c08(0x2b0),_0x2a79b2),{'success':!0x1,'error':_0x2a79b2};}}async[a0_0x58753f(0x17c)](_0xd003a,_0x594664){const _0x1ad0a1=a0_0x58753f;try{let _0x571986=this[_0x1ad0a1(0x6fe)](_0x594664),_0x17e4c8=A(_0xd003a[_0x1ad0a1(0x40b)]);return{'deletedCount':(await _0x571986[_0x1ad0a1(0x695)](_0x17e4c8))['deletedCount']};}catch(_0x4bb717){return{'error':_0x4bb717?.[_0x1ad0a1(0x623)]()};}}async[a0_0x58753f(0x414)](_0x46bea9,_0x2ffda3){const _0xad8e9=a0_0x58753f;try{let _0x3486f5=this[_0xad8e9(0x6fe)](_0x2ffda3),_0x1406b9=A(_0x46bea9[_0xad8e9(0x40b)]);return{'deletedCount':(await _0x3486f5['deleteOne'](_0x1406b9))[_0xad8e9(0x714)]};}catch(_0x4c3b56){return{'error':_0x4c3b56?.['toString']()};}}async[a0_0x58753f(0x56d)](_0x5f592d,_0x21d98e,_0x5658ec){const _0x34331c=a0_0x58753f;try{let _0x265a96=await this['getFlowModelForOwner'](_0x5658ec)[_0x34331c(0x52d)](_0x5f592d,_0x21d98e,{'overwrite':!0x0,'new':!0x0});return _0x265a96||(console[_0x34331c(0x47b)](_0x34331c(0x61e),_0x5f592d),null);}catch(_0x4413fe){return console['error'](_0x34331c(0x31a),_0x4413fe),null;}}async[a0_0x58753f(0x614)](_0x5f0749,_0x2cd570,_0x282be6){const _0x28913a=a0_0x58753f;try{let _0x24fc84=await this[_0x28913a(0x6fe)](_0x282be6)[_0x28913a(0x20f)](_0x5f0749);return _0x24fc84?(Object[_0x28913a(0x1c4)](_0x24fc84,_0x2cd570),await _0x24fc84[_0x28913a(0x195)]()):(console[_0x28913a(0x47b)](_0x28913a(0x26b),_0x5f0749),null);}catch(_0x1827ef){return console[_0x28913a(0x47b)](_0x28913a(0x31a),_0x1827ef),null;}}async['updateMissingShareOwners'](_0x4aad89){const _0x180b78=a0_0x58753f;try{let _0x68adbe=this[_0x180b78(0x6fe)](_0x4aad89),_0x4ccc11={'shareOwners':{'$exists':!0x1}},_0x250663={'$set':{'shareOwners':[]}};return(await _0x68adbe['updateMany'](_0x4ccc11,_0x250663))[_0x180b78(0x393)];}catch(_0x16144a){return console[_0x180b78(0x47b)](_0x16144a),0x0;}}async[a0_0x58753f(0x5de)](_0x2455ff,_0x570788){const _0x8c34ee=a0_0x58753f;try{let _0x238e72=this['getFlowModelForOwner'](_0x570788);return await new _0x238e72(_0x2455ff)[_0x8c34ee(0x195)]();}catch(_0x19ed7e){return console[_0x8c34ee(0x47b)](_0x8c34ee(0x51e),_0x19ed7e),null;}}async[a0_0x58753f(0x3e1)](_0x34f722,_0x1e5eb0,_0x187f61){const _0x27caa1=a0_0x58753f;try{return{'modifiedCount':(await this[_0x27caa1(0x6fe)](_0x187f61)[_0x27caa1(0x3e1)](_0x34f722,{'$set':_0x1e5eb0}))[_0x27caa1(0x393)]};}catch(_0x452886){return console['error']('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x452886),{'error':_0x452886};}}async[a0_0x58753f(0x160)](_0xd20d4a,_0x2797a8){const _0x2a86d9=a0_0x58753f;try{let _0x5179fa=this[_0x2a86d9(0x6fe)](_0x2797a8),_0x12f36f=A(_0xd20d4a['where']);return await _0x5179fa[_0x2a86d9(0x53a)](_0x12f36f)[_0x2a86d9(0xd1)](_0xd20d4a?.['limit']??0x0)[_0x2a86d9(0x716)]();}catch{return[];}}async[a0_0x58753f(0x2e1)](_0x139e34,_0x2a40bc){const _0x22eb77=a0_0x58753f;try{let _0x2dbd06=this[_0x22eb77(0x6fe)](_0x2a40bc),_0x2b309b=A(_0x139e34[_0x22eb77(0x40b)]);return await _0x2dbd06[_0x22eb77(0x2e1)](_0x2b309b)[_0x22eb77(0x716)]();}catch{return null;}}async[a0_0x58753f(0x717)](_0x21c3fe){const _0x157f1c=a0_0x58753f;try{return await this[_0x157f1c(0x6fe)](_0x21c3fe)[_0x157f1c(0x619)]['drop'](),{'success':!0x0};}catch(_0x3b6735){return console[_0x157f1c(0x47b)](_0x3b6735),{'success':!0x1,'error':_0x3b6735};}}},Kt=class extends D{[a0_0x58753f(0x141)](_0x4366db){return na(_0x4366db);}async[a0_0x58753f(0x327)](_0x333f17){const _0x17bab3=a0_0x58753f;try{let _0x52d6e0=ca,_0x1905f2=this[_0x17bab3(0x141)](_0x333f17),_0x153891=await _0x52d6e0[_0x17bab3(0x53a)]({'owner':_0x333f17})['lean'](),_0x32f9b0=[],_0x161497=[];for(let _0x499701 of _0x153891)await _0x1905f2[_0x17bab3(0x20f)](_0x499701['_id'])['lean']()||(_0x32f9b0[_0x17bab3(0x174)](_0x499701),_0x161497[_0x17bab3(0x174)](_0x499701[_0x17bab3(0x29f)]));return _0x32f9b0[_0x17bab3(0x676)]>0x0&&await _0x1905f2[_0x17bab3(0x615)](_0x32f9b0,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4c2fba){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x4c2fba),{'success':!0x1,'error':_0x4c2fba};}}async[a0_0x58753f(0x621)](_0x36cdf5){const _0x46fc53=a0_0x58753f;if(_0x36cdf5[_0x46fc53(0x676)]!==0x0)try{return{'insertCount':(await this[_0x46fc53(0x141)](_0x36cdf5[0x0][_0x46fc53(0x4a8)])['insertMany']([..._0x36cdf5]))[_0x46fc53(0x676)]};}catch(_0x4731ad){return _0x4731ad;}}async['delete'](_0x8a03a,_0x58fb6b){const _0x339f25=a0_0x58753f;try{let _0x580574=this[_0x339f25(0x141)](_0x58fb6b),_0x4e3480=A(_0x8a03a[_0x339f25(0x40b)]);return{'deletedCount':(await _0x580574[_0x339f25(0x695)](_0x4e3480))[_0x339f25(0x714)]};}catch(_0x12a726){return{'error':_0x12a726?.[_0x339f25(0x623)]()};}}async['deleteOne'](_0x113c99,_0x82a220){const _0x3ae740=a0_0x58753f;try{let _0x248ea9=this['getConversationModelForOwner'](_0x82a220),_0x271d42=A(_0x113c99[_0x3ae740(0x40b)]);return{'deletedCount':(await _0x248ea9[_0x3ae740(0x414)](_0x271d42))[_0x3ae740(0x714)]};}catch(_0x31a768){return{'error':_0x31a768?.[_0x3ae740(0x623)]()};}}async['update'](_0x39f1c2,_0x2d5718){const _0x2b165b=a0_0x58753f;try{if(_0x39f1c2[_0x2b165b(0x676)]===0x0)return;let _0x12dc93=this[_0x2b165b(0x141)](_0x2d5718),_0x5f226f=_0x39f1c2[_0x2b165b(0x378)](_0x10bc09=>({'updateOne':{'filter':{'name':_0x10bc09[_0x2b165b(0x730)],'owner':_0x2d5718},'update':{..._0x10bc09}}})),{modifiedCount:_0x673b25}=await _0x12dc93[_0x2b165b(0x5fd)](_0x5f226f);return{'insertCount':_0x673b25};}catch{return;}}async[a0_0x58753f(0x3e1)](_0x4480a5,_0x582108,_0x1621f0){const _0x5bb38a=a0_0x58753f;try{return{'modifiedCount':(await this[_0x5bb38a(0x141)](_0x1621f0)[_0x5bb38a(0x3e1)](_0x4480a5,{'$set':_0x582108}))[_0x5bb38a(0x393)]};}catch(_0x432125){return console['error'](_0x5bb38a(0x658),_0x432125),{'error':_0x432125};}}async['updateOne'](_0x49709a,_0x14321c,_0x11ead9){const _0x574dc5=a0_0x58753f;try{return await this[_0x574dc5(0x141)](_0x11ead9)[_0x574dc5(0x547)]({'_id':_0x49709a},{'$set':_0x14321c},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x869405){return console['error'](_0x869405),null;}}async[a0_0x58753f(0x53a)](_0x3df4d1,_0x1e9c27){const _0xa1633d=a0_0x58753f;try{return await this['getConversationModelForOwner'](_0x1e9c27)[_0xa1633d(0x53a)](_0x3df4d1)[_0xa1633d(0x42f)]({'lastInteraction':-0x1})[_0xa1633d(0x716)]();}catch{return[];}}async[a0_0x58753f(0x2e1)](_0x4c97cd,_0x220970){const _0x58f574=a0_0x58753f;try{return await this[_0x58f574(0x141)](_0x220970)[_0x58f574(0x2e1)]({..._0x4c97cd[_0x58f574(0x40b)]})['lean']();}catch{return null;}}async[a0_0x58753f(0x717)](_0x1489a6){const _0x900624=a0_0x58753f;try{return await this[_0x900624(0x141)](_0x1489a6)['collection'][_0x900624(0xce)](),{'success':!0x0};}catch(_0x405ecf){return console[_0x900624(0x47b)](_0x405ecf),{'success':!0x1,'error':_0x405ecf};}}},Qt=class extends D{[a0_0x58753f(0x49e)](_0x394232){return ua(_0x394232);}async['copyDataToNewModel'](_0xc83f2a){const _0x566954=a0_0x58753f;try{let _0x27c251=da,_0x491eb3=this[_0x566954(0x49e)](_0xc83f2a),_0x52f780=await _0x27c251[_0x566954(0x53a)]({'owner':_0xc83f2a})[_0x566954(0x716)](),_0x117c9a=[],_0xef2ec7=[];for(let _0x5bb9f4 of _0x52f780)await _0x491eb3[_0x566954(0x20f)](_0x5bb9f4[_0x566954(0x29f)])[_0x566954(0x716)]()||(_0x117c9a[_0x566954(0x174)](_0x5bb9f4),_0xef2ec7[_0x566954(0x174)](_0x5bb9f4[_0x566954(0x29f)]));return _0x117c9a[_0x566954(0x676)]>0x0&&await _0x491eb3['insertMany'](_0x117c9a,{'ordered':!0x1}),{'success':!0x0};}catch(_0x41b59a){return console[_0x566954(0x47b)](_0x566954(0x2b0),_0x41b59a),{'success':!0x1,'error':_0x41b59a};}}async['createAndSave'](_0x4f04e8,_0x14dc1e){const _0x561682=a0_0x58753f;try{let _0x25b466=this[_0x561682(0x49e)](_0x14dc1e);return await new _0x25b466(_0x4f04e8)[_0x561682(0x195)]();}catch(_0x44c038){return console[_0x561682(0x47b)](_0x561682(0x51e),_0x44c038),null;}}async[a0_0x58753f(0x414)](_0x422499,_0x40cc48){const _0x30d8db=a0_0x58753f;try{return await this[_0x30d8db(0x49e)](_0x40cc48)[_0x30d8db(0x50e)](_0x422499),{};}catch(_0x195a5f){return{'error':_0x195a5f?.[_0x30d8db(0x623)]()};}}async['updateOne'](_0x239e0a,_0x24dda6,_0x5998e6){const _0xa8ed6e=a0_0x58753f;try{return await this[_0xa8ed6e(0x49e)](_0x5998e6)['findOneAndUpdate'](_0x239e0a,{'$set':_0x24dda6},{'new':!0x0})[_0xa8ed6e(0x716)]();}catch(_0x32e281){return console['error'](_0xa8ed6e(0x5b7),_0x32e281),null;}}async['updateOneById'](_0x1748d1,_0x3069d5,_0xbf3b00){const _0x151b29=a0_0x58753f;try{return await this['getScheduleMessageModelForOwner'](_0xbf3b00)[_0x151b29(0x52d)](_0x1748d1,_0x3069d5,{'new':!0x0})[_0x151b29(0x716)]();}catch(_0x1b580e){return console[_0x151b29(0x47b)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x1b580e),null;}}async['find'](_0x52a465,_0x83ae75){const _0x48eb5a=a0_0x58753f;try{return await this['getScheduleMessageModelForOwner'](_0x83ae75)[_0x48eb5a(0x53a)](_0x52a465[_0x48eb5a(0x40b)])[_0x48eb5a(0xd1)](_0x52a465?.[_0x48eb5a(0xd1)]??0x0)[_0x48eb5a(0x42f)]({'when':0x1})[_0x48eb5a(0x716)]();}catch{return[];}}async[a0_0x58753f(0x2e1)](_0x1b6ec0,_0x5e1a41){const _0x5e2729=a0_0x58753f;try{return await this['getScheduleMessageModelForOwner'](_0x5e1a41)[_0x5e2729(0x2e1)](_0x1b6ec0['where'])[_0x5e2729(0x42f)]({'when':0x1})[_0x5e2729(0x716)]();}catch{return null;}}async['findById'](_0x248dd7,_0x365321){const _0x456e0a=a0_0x58753f;try{return await this['getScheduleMessageModelForOwner'](_0x365321)['findById'](_0x248dd7)[_0x456e0a(0x716)]();}catch{return null;}}async[a0_0x58753f(0x695)](_0x3e147b,_0x41d903){const _0x72cc96=a0_0x58753f;try{return{'deletedCount':(await this[_0x72cc96(0x49e)](_0x41d903)[_0x72cc96(0x695)](_0x3e147b))[_0x72cc96(0x714)]};}catch(_0x1ab756){return console[_0x72cc96(0x47b)](_0x72cc96(0x23c),_0x1ab756),{'error':_0x1ab756};}}async[a0_0x58753f(0x717)](_0x1c83ae){const _0x28e7c9=a0_0x58753f;try{return await this[_0x28e7c9(0x49e)](_0x1c83ae)[_0x28e7c9(0x619)][_0x28e7c9(0xce)](),{'success':!0x0};}catch(_0xfd2920){return console[_0x28e7c9(0x47b)](_0xfd2920),{'success':!0x1,'error':_0xfd2920};}}},Yt=class extends D{async[a0_0x58753f(0x4cd)](_0x4802ad,_0x849ce7){const _0x347b7a=a0_0x58753f;try{if(this[_0x347b7a(0x5e0)][_0x347b7a(0x50f)]){let _0x107009=await $e['findOneAndUpdate']({'_id':_0x849ce7},{'$set':_0x4802ad},{'new':!0x0});return console[_0x347b7a(0x5c1)]('Resultado\x20da\x20atualização:',_0x107009),_0x107009;}}catch(_0x3f469c){throw console[_0x347b7a(0x47b)](_0x347b7a(0x5d4),_0x3f469c),_0x3f469c;}}async[a0_0x58753f(0x1ed)](_0x76810c){const _0x436190=a0_0x58753f;try{let _0x455620=await $e[_0x436190(0x20f)](_0x76810c);return _0x455620||(_0x455620=new $e({'_id':_0x76810c}),await _0x455620[_0x436190(0x195)]()),_0x455620;}catch(_0x3fc2ab){return console[_0x436190(0x47b)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x3fc2ab),null;}}},bi=new N(a0_0x58753f(0x73a)),Si=new Fe(b),Ei=new kt(b),Mi=new Ye(b),Ci=new Wt(Xs,b),vi=new zt(Ks,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),ue=new ke(Si,Ei,Mi,Ci,vi,Ni,Ti,Ri,Oi,Ai,R?.['getClient']()),V=new $t(as,b,ue),Ii=new qt(b,V,ue),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ie=new jt(V,b,ue,as,Ii),B=new Ut(V),_=new Ft(V),F=new Jt(V);bi['info'](a0_0x58753f(0x5a2));var mh=require(a0_0x58753f(0x476)),As=require('fs'),vr=T(require(a0_0x58753f(0x2a0))),Nr=T(require('http')),Ne=class c{static #e;static set[a0_0x58753f(0x40a)](_0x5749bb){this.#e=_0x5749bb;}static get[a0_0x58753f(0x2a0)](){const _0x15eaab=a0_0x58753f;let {FULLCHAIN:_0x511758,PRIVKEY:_0x21e643}=b[_0x15eaab(0x59e)](_0x15eaab(0x28a));return vr[_0x15eaab(0x17f)]({'cert':(0x0,As[_0x15eaab(0x207)])(_0x511758),'key':(0x0,As[_0x15eaab(0x207)])(_0x21e643)},c.#e);}static get[a0_0x58753f(0x6d8)](){const _0x52c097=a0_0x58753f;return Nr[_0x52c097(0x17f)](c.#e);}},pe=T(require('fs')),xr=T(require('ini')),Re=T(require('axios')),Oe=T(require(a0_0x58753f(0x461))),Ae=require(a0_0x58753f(0x4ed));function Di(){const _0x5d365c=a0_0x58753f;V[_0x5d365c(0x1d3)]();let _0x1081c6=Oe[_0x5d365c(0x36d)]['join'](__dirname,_0x5d365c(0x1ae));Ir(_0x1081c6);}var Ir=_0x59adca=>{const _0x328461=a0_0x58753f;let _0x2f303f=pe[_0x328461(0x36d)]['readdirSync'](_0x59adca),_0x1afb61=0xc*0x3c*0x3c*0x3e8,_0x2e3189=0x2*0x3c*0x3c*0x3e8,_0x1935e3=new Date()['getTime']();_0x2f303f[_0x328461(0x537)](_0x5dcb40=>{const _0x4a5d87=_0x328461;let _0x19d800=Oe['default'][_0x4a5d87(0x4c2)](_0x59adca,_0x5dcb40),_0x48f7fb=pe[_0x4a5d87(0x36d)][_0x4a5d87(0x13a)](_0x19d800)[_0x4a5d87(0x602)][_0x4a5d87(0x5e5)]();_0x1935e3-_0x48f7fb>_0x1afb61&&(pe['default'][_0x4a5d87(0x4d7)](_0x19d800),console[_0x4a5d87(0x5c1)](_0x4a5d87(0x1da)+_0x5dcb40));}),setTimeout(()=>Ir(_0x59adca),_0x2e3189);};function _i(){const _0x2982fa=a0_0x58753f;let _0x52f818=new N(_0x2982fa(0x105)),_0x23b8c7=(0x0,he[_0x2982fa(0x36d)])();_0x23b8c7[_0x2982fa(0x110)]((0x0,Ar[_0x2982fa(0x36d)])({'origin'(_0x50f723,_0x5a6074){const _0x2541a8=_0x2982fa;let {ORIGIN:_0x5a7bb0}=b[_0x2541a8(0x59e)](_0x2541a8(0x18d));return _0x50f723||(_0x50f723='*'),_0x5a7bb0[_0x2541a8(0x4a5)]('*')!==-0x1||_0x5a7bb0[_0x2541a8(0x4a5)](_0x50f723)!==-0x1?_0x5a6074(null,!0x0):_0x5a6074(new Error(_0x2541a8(0x5cd)));},'methods':[...b[_0x2982fa(0x59e)](_0x2982fa(0x18d))[_0x2982fa(0x4ee)]],'credentials':b[_0x2982fa(0x59e)]('CORS')['CREDENTIALS']}),(0x0,he[_0x2982fa(0x6f0)])({'extended':!0x0,'limit':_0x2982fa(0x3c4)}),(0x0,he['json'])({'limit':_0x2982fa(0x3c4)})),_0x23b8c7[_0x2982fa(0x110)]((_0x597161,_0x3ef5f1,_0x44ef9a)=>{const _0x1ef561=_0x2982fa;_0x597161['path']['startsWith']('/events')?_0x44ef9a():(0x0,Or[_0x1ef561(0x36d)])()(_0x597161,_0x3ef5f1,_0x44ef9a);}),_0x23b8c7[_0x2982fa(0x2b5)]('view\x20engine',_0x2982fa(0x4c0)),_0x23b8c7[_0x2982fa(0x2b5)](_0x2982fa(0x11b),(0x0,xs[_0x2982fa(0x4c2)])(re,_0x2982fa(0x11b))),_0x23b8c7[_0x2982fa(0x110)](he[_0x2982fa(0x36d)][_0x2982fa(0xd7)]((0x0,xs[_0x2982fa(0x4c2)])(re,'public'))),_0x23b8c7['use']((_0x2ed405,_0x1465b4,_0x1e2ecc)=>{const _0x2811e3=_0x2982fa;let _0x81a57b=_0x1465b4[_0x2811e3(0x39c)];_0x1465b4[_0x2811e3(0x39c)]=function(_0x20fcf0){const _0x24ba3f=_0x2811e3;if(_0x2ed405[_0x24ba3f(0x435)][_0x24ba3f(0x116)]===_0x24ba3f(0x2a2)||_0x2ed405[_0x24ba3f(0x335)][_0x24ba3f(0x2de)]===_0x24ba3f(0x2a2)){let _0x2e7506=JSON['parse'](_0x20fcf0);_0x20fcf0=JSON[_0x24ba3f(0x212)](_0x539599(_0x2e7506));}return _0x81a57b[_0x24ba3f(0x633)](_0x1465b4,[_0x20fcf0]);},_0x1e2ecc();}),_0x23b8c7[_0x2982fa(0x110)]('/',Nt),_0x23b8c7[_0x2982fa(0x110)]((_0x13b2a9,_0x1d38f6,_0x40a252,_0x20ddc9)=>{const _0x96d256=_0x2982fa;if(_0x13b2a9)return _0x40a252[_0x96d256(0x593)](_0x13b2a9[_0x96d256(0x593)]||0x1f4)[_0x96d256(0x541)](_0x13b2a9);},(_0x53568b,_0x352575,_0x1e6171)=>{const _0x2b723c=_0x2982fa;let {method:_0x536c09,url:_0x43fe11}=_0x53568b;_0x352575[_0x2b723c(0x593)](0x194)[_0x2b723c(0x541)]({'status':0x194,'message':_0x2b723c(0x34c)+_0x536c09[_0x2b723c(0x5c5)]()+'\x20'+_0x43fe11,'error':_0x2b723c(0x725)}),_0x1e6171();});let _0x539599=(_0x10c76c,_0x693f0d=_0x2982fa(0x5da))=>{let _0x5e3333=(_0x370d0e,_0x24feb9=null,_0x14932f=!0x1)=>{const _0xaea1d9=a0_0x326c;let _0x3e81a9={};return Object[_0xaea1d9(0x14b)](_0x370d0e)[_0xaea1d9(0x537)](_0x2694c4=>{const _0x41ce71=_0xaea1d9;let _0x3d253c=_0x370d0e[_0x2694c4],_0x340836=''+_0x693f0d+_0x2694c4;_0x24feb9&&!_0x14932f&&(_0x340836=_0x24feb9+'.'+_0x2694c4),!_0x3d253c&&_0x3d253c!==0x0&&_0x3d253c!==!0x1||typeof _0x3d253c>'u'?_0x3e81a9[_0x340836]=null:typeof _0x3d253c!='object'&&!Array[_0x41ce71(0x293)](_0x3d253c)?_0x3e81a9[_0x340836]=_0x3d253c:typeof _0x3d253c==_0x41ce71(0x759)&&!Array[_0x41ce71(0x293)](_0x3d253c)?_0x3e81a9=Object['assign'](_0x3e81a9,_0x5e3333(_0x3d253c,_0x340836)):Array[_0x41ce71(0x293)](_0x3d253c)&&(typeof _0x3d253c[0x0]==_0x41ce71(0x759)?(_0x3e81a9[_0x340836]=[],_0x3d253c[_0x41ce71(0x537)](_0x47ebb3=>{_0x3e81a9[_0x340836]['push'](_0x5e3333(_0x47ebb3,_0x340836,!0x0));})):_0x3e81a9[_0x340836]=_0x3d253c);}),_0x3e81a9;};return Array['isArray'](_0x10c76c)?_0x10c76c['map'](_0x2afd3f=>_0x5e3333(_0x2afd3f)):typeof _0x10c76c=='object'&&_0x10c76c!==null?_0x5e3333(_0x10c76c):{};},_0x31a373=b[_0x2982fa(0x59e)](_0x2982fa(0x105));Ne['app']=_0x23b8c7;let _0x21fd09=Ne[_0x31a373['TYPE']],_0x3d848f=_0x2982fa(0x47d);_0x21fd09[_0x2982fa(0x5ea)](_0x31a373[_0x2982fa(0x497)],()=>{const _0x284f9d=_0x2982fa;_0x52f818['log'](_0x3d848f),_0x52f818[_0x284f9d(0x5c1)](_0x31a373[_0x284f9d(0x2cc)][_0x284f9d(0x5c5)]()+_0x284f9d(0x22e)+_0x31a373[_0x284f9d(0x497)]);}),Di(),qs();}var Pi=a0_0x58753f(0x5c4),$i=Oe[a0_0x58753f(0x36d)][a0_0x58753f(0x4c2)](__dirname,a0_0x58753f(0x32b)),Te=null;function ki(){return new Promise((_0x1f0bc7,_0x50a963)=>{const _0x21795c=a0_0x326c;pe[_0x21795c(0x36d)][_0x21795c(0x4a1)]($i,_0x21795c(0x2d7),(_0x5d37d6,_0x21faeb)=>{const _0x47356f=_0x21795c;if(_0x5d37d6){Te=_0x5d37d6,_0x1f0bc7();return;}xr[_0x47356f(0x36d)][_0x47356f(0x638)](_0x21faeb)[_0x47356f(0x3d1)][_0x47356f(0x534)]===Pi?(Te=null,_0x1f0bc7()):(Te=new Error(_0x47356f(0x5f6)),_0x1f0bc7());});});}async function Li(){const _0x21f799=a0_0x58753f;try{await ki(),await Ds();}catch(_0x41e0d0){console[_0x21f799(0x47b)](_0x21f799(0x71f)+_0x41e0d0),process[_0x21f799(0x4e9)](0x1);}}Li();async function Dr(){const _0x43f0cf=a0_0x58753f;let _0x5a2250;try{_0x5a2250=(await Re[_0x43f0cf(0x36d)]['get']('https://jsonip.com'))[_0x43f0cf(0x29e)]['ip'];}catch(_0x14270a){console[_0x43f0cf(0x47b)](_0x14270a);try{_0x5a2250=(await Re[_0x43f0cf(0x36d)][_0x43f0cf(0x59e)](_0x43f0cf(0x6f8)))['data']['ip'];}catch(_0xdf57ab){console[_0x43f0cf(0x47b)](_0xdf57ab);try{_0x5a2250=(await Re[_0x43f0cf(0x36d)][_0x43f0cf(0x59e)]('http://checkip.dyndns.org'))[_0x43f0cf(0x29e)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x64143b){return console[_0x43f0cf(0x47b)](_0x64143b),!0x1;}}}return _0x5a2250;}var Rr=0x0;async function Fi(){const _0x1d3c4f=a0_0x58753f;let _0x3b132e=await new oe(b['get'](_0x1d3c4f(0x4ad)))[_0x1d3c4f(0x12a)]();return console['log'](_0x1d3c4f(0x625),_0x3b132e[_0x1d3c4f(0x676)]),_0x3b132e[_0x1d3c4f(0x676)];}function ji(_0x485ca2){const _0x324990=a0_0x58753f;let _0x3dec73=_0x485ca2['get'](_0x324990(0x105))[_0x324990(0x362)],_0x4e9be6=_0x485ca2['get'](_0x324990(0x28a)),_0x19090b;if(_0x3dec73){let _0x2ef5b8=_0x3dec73[_0x324990(0x543)](/\/\/(.*?)\./);_0x2ef5b8&&_0x2ef5b8[0x1]&&(_0x19090b=_0x2ef5b8[0x1]);}if(!_0x19090b&&_0x4e9be6&&_0x4e9be6[_0x324990(0x106)]){let _0x5b78ac=_0x4e9be6[_0x324990(0x106)][_0x324990(0x610)]('/'),_0x2f692c=_0x5b78ac[_0x5b78ac[_0x324990(0x676)]-0x2];if(_0x2f692c){let _0x27960a=_0x2f692c['split']('.');_0x27960a[_0x324990(0x676)]>0x2&&(_0x19090b=_0x27960a[0x0]);}}return _0x19090b;}var Rs=ji(b);async function Ui(){const _0x36977c=a0_0x58753f;let _0x3d89b5=b[_0x36977c(0x59e)](_0x36977c(0x4ad)),_0x3f1c6b=b[_0x36977c(0x59e)](_0x36977c(0x285))[_0x36977c(0x38e)]['KEY'],_0x22764e=b['get'](_0x36977c(0x28a)),_0x4107be=await Dr(),_0x572b9f=b[_0x36977c(0x59e)]('SERVER')[_0x36977c(0x497)],_0x50d1aa=b[_0x36977c(0x59e)](_0x36977c(0x105))[_0x36977c(0x362)];try{let _0x5bc0fa={'ip':_0x4107be||null,'redis_enable':_0x3d89b5?.['ENABLED']||null,'apikey':_0x3f1c6b||null,'ssl':_0x22764e?.[_0x36977c(0x4dd)]||null,'lastupdate':_r||null,'port':_0x572b9f||null,'gitInstallError':Te?.[_0x36977c(0x5f5)]||null,'url':_0x50d1aa||null};if(console['log'](_0x36977c(0x744),_0x5bc0fa['ip']),_0x3d89b5&&_0x3d89b5['ENABLED']){let _0xf18268=await Fi();_0x5bc0fa[_0x36977c(0x36a)]=_0xf18268||null;}for(let _0x418178 in _0x5bc0fa)_0x5bc0fa[_0x36977c(0xd4)](_0x418178)&&_0x418178!=='ip'&&(_0x5bc0fa[_0x418178]=JSON[_0x36977c(0x212)](_0x5bc0fa[_0x418178]));return(await Re['default'][_0x36977c(0x522)](_0x36977c(0x425),_0x5bc0fa))['data'];}catch(_0x284ca3){return console[_0x36977c(0x47b)](_0x284ca3),!0x1;}}var Is=!0x1,_r=0x22b,qi=0x3,Tr=0x1b7740;async function Ds(){const _0x2c3141=a0_0x58753f;if(!await Dr())return console[_0x2c3141(0x47b)](_0x2c3141(0x3ad)),_0x2c3141(0x1c5);let _0x32e93f=await Ui();if(_0x32e93f){if(_0x32e93f['response'][_0x2c3141(0x5bf)]===!0x0){let _0x467883=b[_0x2c3141(0x59e)](_0x2c3141(0x28a)),_0x2eedf9=b['get'](_0x2c3141(0x105))['URL'];_0x467883&&_0x467883?.[_0x2c3141(0x4dd)]?.[_0x2c3141(0x1db)](_0x2c3141(0x220))&&_0x32e93f[_0x2c3141(0x3db)][_0x2c3141(0x5b2)]&&!_0x2eedf9&&(await Bi(_0x32e93f[_0x2c3141(0x3db)][_0x2c3141(0x5b2)],Vi),await Gi(_0x2c3141(0x4c6),_0x32e93f[_0x2c3141(0x3db)][_0x2c3141(0x5b2)]),console['log'](_0x2c3141(0x354)),setTimeout(()=>zi(),0x2710)),Te===null&&_0x32e93f[_0x2c3141(0x3db)][_0x2c3141(0x6bc)]-_r>0x0&&await Ji(),Is||(Is=!0x0,_i());let _0x507834=0x24*0x3c*0x3c,_0x521204=_0x32e93f[_0x2c3141(0x3db)][_0x2c3141(0x286)]>_0x507834?_0x507834:_0x32e93f['response']['segundos'],_0x8e735c=Number(_0x521204);if(isNaN(_0x8e735c)){console[_0x2c3141(0x47b)](_0x2c3141(0x762));return;}let _0x50a01e=Math[_0x2c3141(0x218)](_0x8e735c/0xe10),_0x546e4d=Math[_0x2c3141(0x218)](_0x8e735c%0xe10/0x3c),_0x3ea2c1=new Date(Date['now']()+_0x8e735c*0x3e8);setTimeout(Ds,_0x8e735c*0x3e8);let _0x2dcc13=_0x39c6ad=>_0x39c6ad[_0x2c3141(0x623)]()[_0x2c3141(0x63c)](0x2,'0'),_0x3a9d08='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x2dcc13(_0x50a01e)+_0x2c3141(0x5b4)+_0x2dcc13(_0x546e4d)+_0x2c3141(0x6a6)+_0x2dcc13(_0x3ea2c1[_0x2c3141(0x123)]())+':'+_0x2dcc13(_0x3ea2c1[_0x2c3141(0x1e8)]())+'.';console['log'](_0x3a9d08);}else return console[_0x2c3141(0x5c1)](_0x2c3141(0x3cf)),Is&&(console[_0x2c3141(0x5c1)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x2c3141(0x4e9)]()),'LICENSE_INVALID';}else{if(Rr++,Rr<qi)console[_0x2c3141(0x5c1)](_0x2c3141(0x69b)+Tr/0xea60+'\x20minutos...'),setTimeout(Ds,Tr);else return console[_0x2c3141(0x47b)](_0x2c3141(0x31f)),_0x2c3141(0x66f);}}async function Ji(){const _0x21b9db=a0_0x58753f;console['log'](_0x21b9db(0xd5));let _0x59c3ef=(0x0,Ae[_0x21b9db(0xe1)])(_0x21b9db(0x724),{'shell':!0x0});_0x59c3ef['stdout']['on'](_0x21b9db(0x29e),_0x36ba40=>{const _0x56ccaa=_0x21b9db;console[_0x56ccaa(0x5c1)](_0x56ccaa(0x26e)+_0x36ba40);}),_0x59c3ef[_0x21b9db(0x228)]['on']('data',_0x5d0b8f=>{const _0x2f25a2=_0x21b9db;console[_0x2f25a2(0x47b)](_0x2f25a2(0x62c)+_0x5d0b8f);}),_0x59c3ef['on'](_0x21b9db(0x4e9),_0x44f569=>{const _0x18f7d2=_0x21b9db;_0x44f569!==0x0?console['error'](_0x18f7d2(0x70b)+_0x44f569):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x18f7d2(0x5c1)](_0x18f7d2(0x1dd)),setTimeout(()=>process[_0x18f7d2(0x4e9)](),0x2710);});}var Vi=Oe[a0_0x58753f(0x36d)][a0_0x58753f(0x4c2)](__dirname,a0_0x58753f(0x187));async function Bi(_0x40e17d,_0x3e6201){const _0x345fcd=a0_0x58753f;let _0x3abec9=Wi();_0x40e17d=_0x40e17d[_0x345fcd(0x36c)](_0x345fcd(0x130),'');try{let _0x4d9da6=pe[_0x345fcd(0x36d)]['readFileSync'](_0x3e6201,_0x345fcd(0x2e8));_0x4d9da6=_0x4d9da6[_0x345fcd(0x36c)](/<apikey>/,_0x3abec9),_0x4d9da6=_0x4d9da6[_0x345fcd(0x36c)](/<subdomain>/g,_0x40e17d),pe[_0x345fcd(0x36d)]['writeFileSync'](_0x3e6201,_0x4d9da6,'utf8'),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x250565){console[_0x345fcd(0x47b)](_0x345fcd(0x710),_0x250565);}}function Gi(_0x33c43c,_0x5c0f8d){return new Promise((_0x126b89,_0x295414)=>{const _0x27a56e=a0_0x326c;let _0x3e2d76=(0x0,Ae[_0x27a56e(0xe1)])(_0x27a56e(0x74e),['certonly',_0x27a56e(0x43c),'-m',_0x33c43c,_0x27a56e(0x704),'-d',_0x5c0f8d]);_0x3e2d76[_0x27a56e(0x605)]['on']('data',_0x724d6b=>{const _0x2f74e6=_0x27a56e;console[_0x2f74e6(0x5c1)]('Certbot:\x20'+_0x724d6b[_0x2f74e6(0x623)]());}),_0x3e2d76[_0x27a56e(0x228)]['on'](_0x27a56e(0x29e),_0xdb1cc3=>{const _0x539a37=_0x27a56e;console[_0x539a37(0x47b)](_0x539a37(0x346)+_0xdb1cc3[_0x539a37(0x623)]());}),_0x3e2d76['on'](_0x27a56e(0x3ca),_0x23cbad=>{const _0x54dfce=_0x27a56e;_0x23cbad!==0x0?(console[_0x54dfce(0x47b)](_0x54dfce(0x304)+_0x23cbad),_0x295414(_0x54dfce(0x304)+_0x23cbad)):(console[_0x54dfce(0x5c1)](_0x54dfce(0x6db)),_0x126b89());});});}function Wi(_0x559eec=0x32){const _0xea1dbc=a0_0x58753f;let _0x483617=_0xea1dbc(0x14d),_0x1b9191='';for(let _0x1f87c9=0x0;_0x1f87c9<_0x559eec;_0x1f87c9++)_0x1b9191+=_0x483617[_0xea1dbc(0x440)](Math[_0xea1dbc(0x218)](Math[_0xea1dbc(0x2df)]()*_0x483617[_0xea1dbc(0x676)]));return _0x1b9191;}function zi(){const _0x555fdc=a0_0x58753f;(0x0,Ae[_0x555fdc(0x201)])('shutdown\x20-r\x20now',(_0x2b7aec,_0x3b265f,_0x1dff57)=>{const _0x149451=_0x555fdc;if(_0x2b7aec){console[_0x149451(0x47b)](_0x149451(0x3fe)+_0x2b7aec);return;}if(_0x1dff57){console[_0x149451(0x47b)](_0x149451(0x5a1)+_0x1dff57);return;}console['log']('Reinicialização\x20iniciada:\x20'+_0x3b265f);});}0x0&&(module[a0_0x58753f(0x122)]={'subdomain':subdomain});