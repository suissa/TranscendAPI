const a0_0xa27d39=a0_0x2c1e;(function(_0x4bd18c,_0x9ffe8f){const _0x53557f=a0_0x2c1e,_0xd721de=_0x4bd18c();while(!![]){try{const _0x38e0fa=-parseInt(_0x53557f(0x50b))/0x1+-parseInt(_0x53557f(0x52d))/0x2*(-parseInt(_0x53557f(0x782))/0x3)+parseInt(_0x53557f(0x411))/0x4*(-parseInt(_0x53557f(0x520))/0x5)+-parseInt(_0x53557f(0x258))/0x6*(parseInt(_0x53557f(0x66f))/0x7)+parseInt(_0x53557f(0x7b5))/0x8*(parseInt(_0x53557f(0x4de))/0x9)+parseInt(_0x53557f(0x4c7))/0xa+parseInt(_0x53557f(0x35a))/0xb;if(_0x38e0fa===_0x9ffe8f)break;else _0xd721de['push'](_0xd721de['shift']());}catch(_0x12569f){_0xd721de['push'](_0xd721de['shift']());}}}(a0_0x501f,0x5a28e));var Hi=Object[a0_0xa27d39(0x5bc)],We=Object[a0_0xa27d39(0x218)],Ki=Object['getOwnPropertyDescriptor'],Qi=Object[a0_0xa27d39(0x414)],Yi=Object['getPrototypeOf'],Xi=Object[a0_0xa27d39(0x48a)][a0_0xa27d39(0x685)],Zi=(_0x42c574,_0x53531e)=>{for(var _0x30ea35 in _0x53531e)We(_0x42c574,_0x30ea35,{'get':_0x53531e[_0x30ea35],'enumerable':!0x0});},zs=(_0x48d715,_0x430962,_0x1311ee,_0x104b91)=>{const _0x5e6cd2=a0_0xa27d39;if(_0x430962&&typeof _0x430962=='object'||typeof _0x430962==_0x5e6cd2(0x420)){for(let _0xe66a28 of Qi(_0x430962))!Xi[_0x5e6cd2(0x6b5)](_0x48d715,_0xe66a28)&&_0xe66a28!==_0x1311ee&&We(_0x48d715,_0xe66a28,{'get':()=>_0x430962[_0xe66a28],'enumerable':!(_0x104b91=Ki(_0x430962,_0xe66a28))||_0x104b91[_0x5e6cd2(0x4d5)]});}return _0x48d715;},A=(_0x51b6f3,_0xea58cb,_0x159ff1)=>(_0x159ff1=_0x51b6f3!=null?Hi(Yi(_0x51b6f3)):{},zs(_0xea58cb||!_0x51b6f3||!_0x51b6f3[a0_0xa27d39(0x5ef)]?We(_0x159ff1,a0_0xa27d39(0x544),{'value':_0x51b6f3,'enumerable':!0x0}):_0x159ff1,_0x51b6f3)),eo=_0x32d0a3=>zs(We({},a0_0xa27d39(0x5ef),{'value':!0x0}),_0x32d0a3),gr={};function a0_0x501f(){const _0x3a0d39=['Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','):\x20isVote:\x20','_Labels','createWebhook','badSession','allContacts','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','SERVER_OFFLINE','Erro\x20ao\x20deletar\x20mensagens:','):\x20Editando\x20condição\x20do\x20fluxo...','waitingMenu_ExpiredMessage','LEVEL','Network\x20Interface\x20detected:\x20','isAdmin','Detalhes\x20do\x20erro:','@g.us','redirect','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','console','participants','contacts.update','updateMissingTags','USER','removeIPv6','condition','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','/group','updateReplyOption','verify','AddChatLabel','updateChatGroupData','sem\x20texto\x20na\x20mensagem','load','admin','ScheduleMessage','retrySendMessage','filter','log','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','upperCase','menuType','stickerMessage','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','dark','):Fetching\x20business\x20profile','updateProfileName','randomBytes','):\x20conversation.status:\x20','):\x20Criou\x20conversa\x20no\x20startFlow','variablesToObject','\x1b[34m','CacheContacts\x20database\x20connection\x20closed.','limit','available','createFlow','includes','Parando\x20aplicação...','):\x20customFieldVariables','admin_add','delayChatLabel','findByIdAndDelete','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Missing\x20global\x20api\x20key','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','updateReadReceiptsPrivacy','findOrCreate','Error\x20writing\x20file:\x20','getScheduleMessage','Error\x20finding\x20many\x20contacts:','updateMissingCustomFields','sendStatus','fetchMessages','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Error\x20in\x20chatModify\x20for\x20number\x20','bearer',',\x20Comparador:\x20','reaction','NextBlock','.extension','Erro\x20ao\x20encerrar\x20a\x20API','deviceSentMessage','#000000','all','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','count','waUploadToServer','HeaderType','senderKeyDistributionMessage','getDevice','-instances','):\x20Enviando\x20localização','/startFlow/:instance/:startID','user','GUARD','utf-8','removeProfilePicture','messageHandle','parseInt','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','jwt','longitude','../env.yml','Nenhum\x20chat\x20encontrado\x20para\x20editar.','forEach','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','requestFile','imageMessage','cacheContact','Instance\x20Name:','):\x20teve\x20mudanças\x20chat.archived:\x20','Instance\x20restarted','.doc','chats.set','label','video','/wa-contacts','waInstances','push','messages.upsert','messages','isBase64','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','getBase64FromMediaMessage','collection','AUTHENTICATION_API_KEY','\x20}\x0a','findFlow','Types','_activatedCount','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','dbSettings','sendDataWebhook','):\x20newFirstValue\x20após\x20replaceVariables:','Logger','/64\x20dev\x20','joinGroup','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','error_log','pollUpdateMessage','\x20minutos','localWebhook','routerPath','ERROR','waitingMenu_text','waitingMenu_replyOptions','webhookService','authorization','Safari','#56ccb4','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','\x20\x1b[0m','createServer','verifiedName','Instance\x20deleted','groupdata.participants','debug','applyvaredit','deleted','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','hGetAll','--------------------------------------','Não\x20respondeu\x20com\x20a\x20enquete.','flattenObject','lastInteraction','truncatedto','fetchLatestBaileysVersion','dbClient','isInteger','split','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','toLowerCase','fetchBusinessProfile','CORS_ORIGIN','website','findParticipants','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20Entrou\x20na\x20função\x20scheduleFlow','flowName','.jwt','IPv6\x20address\x20removed:\x20','DARK','AutomateSystem\x20não\x20foi\x20inicializado','createflow','GROUP_PARTICIPANTS_UPDATE','profilePicture','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','myAppStateKeyId','Falha\x20ao\x20processar\x20fetchBusinessProfile','3EB0','update','Erro\x20de\x20atualização:\x20','connecting','string','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','isRunning','_error','importChats','ip\x20-br\x20link\x20show','restrict','pollCreationMessageV2','recebido\x20de','):\x20\x27Deletando\x20fluxo,\x20id:\x20','updateGroupPicture','lastReceivedMessage','):\x20Editando\x20mensagens\x20no\x20grupo...','close','autoCompleteMessages.command_1','connection.update','_Messages','findAll','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','groupName','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','\x22\x20not\x20found','labels.edit','groupdata','Partes\x20do\x20domínio:','isJidUser','request\x20received\x20in\x20updateFlowConfig','cache','endsWith','SUCCESS','lastSend','):\x20Label\x20','match_last_seen','synchronizeAndMapFlows','#9568cf','flowConversation','dayjs','/instance','toDataURL','online','getConversationModelForOwner','):\x20Enviando\x20enquete','https://api.openai.com/v1/audio/speech','leadInfo.desativadoFluxoAte','chats.upsert','sendContact','SERVER_PORT','round','EXPIRIN_IN','sendPresenceUpdate','flowIgnoreGroups','apply','toUpperCase','):\x20conversation.lastInteraction:\x20','findAndUpdateCacheContact','useMultiFileAuthState','tags','participant','keyPattern','waitingMenu_id','mediaSticker','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','util','realVariables','.mimetype','8080','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','match','/config','generateRandomIPv6','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','list','random','lastSendMessage','superadmin','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Error\x20updating\x20cache\x20contact:','Esse\x20fluxo\x20não\x20permite\x20importação.','labelId','editScheduleMessage','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Entrou\x20na\x20função\x20stop','getContentType','@redis/client','role','expression','webhookMap','createIPv6','groupUpdateSubject','#b4ebff','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','client','Group\x20not\x20found','varedits','MAX_SAFE_INTEGER','assign','getConversation','Falhou\x20ao\x20encontrar\x20chat\x20','Error\x20updating\x20message\x20status:','ListMessage','prepareMediaMessage','scheduleSendMedia','sending','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','updateFlowConfig','instances','padStart','createConnection','$pull','\x20não\x20encontrado','isCommunity','):Desconectado,\x20parando\x20execução.','/wa-all-message','\x1b[36m','deleteOne','integer','$dbName','DATABASE_CONNECTION_DB_PREFIX_NAME','editFlow','removeIPv6ById','CONTACTS_UPDATE','importChatsAntigo','SERVER_TYPE','TEL','telefone','uazapiSendLocation','autoCompleteMessages.command','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','):\x20Entrou\x20na\x20função\x20saveReply','updateOnlinePrivacy','defineProperty','presenceSubscribe','):\x20Error\x20processing\x20the\x20block:\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','whoCanUse','cpf','jid','urlOrBase64','eventHandler','arraybuffer','#64c4ff','documentMessage','.xlsx','):including\x20timestamp\x20in\x20url:\x20','request\x20received\x20in\x20editFlowcondition','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Current\x20Time:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','\x22\x20-\x20REMOVED','video-cover.png','connectionStatus','allFlows','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','messageTimestamp','.gif','MESSAGES_SET','\x20-\x20ON:\x20','readMessageBot',',\x20canSendMessage:\x20','\x20segundos\x20antes\x20de\x20reconectar...','context','http://checkip.dyndns.org','Connection','Bad\x20Request','collections','updatePrivacySettings','\x20minutos...','READ','#9ab6c1','stopIfLastReturnedError','send.message','processclearVariables','stopConversation','chatHandle','\x20mensagens\x20de\x20','response','desc','stateConnection','\x20segundos','sendLocation','mongoose','STORE_CLEANING_TERMINAL','max','updateConversation','IP\x20confirmed:\x20','):Error\x20in\x20converting\x20audio','HOST','format','Instance\x20Key\x20from\x20DB:','Valor\x20da\x20URL\x20recuperada:','Log\x20out\x20instance:\x20','60IFMKDk','LOG_LEVEL','copyBlock','groups','processingGroup','findOne','GET','loadEnv','getTime','scheduleFlow','isValidAndUniqueIPv6','/wa-chats','request\x20body:\x20','findRealGroups','replaceVariablesChat','announce','\x1b[1m','imgUrl','groupUpdateDescription','Variáveis\x20não\x20encontradas:','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','newValue','whoCanEdit','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','endSession','archived','.fileUrl','qrCode','stopWhenYouSendMsg','instanceKeys','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','AutomateSystem','\x20Tentativa\x20de\x20reconexão\x20','pre','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','now','[all]','):\x20Buscando\x20flow...','findById','color','GROUPS_UPSERT','instanceInfo','insertCount','phoneNumber','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','whatsappNumber','connectToWhatsappController','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','contact','Erro\x20ao\x20atualizar\x20AutomateSystem:','\x0a*Você\x20respondeu*:\x0a','addReplyOption','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','The\x20global\x20api\x20key\x20must\x20be\x20set','privacySettings','pollMessageOnDelete','bodyString','/message','isBusiness','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','authService','readreceipts','downloadMediaMessage','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','numbers','contains','contentText','):\x20debug\x20alterando\x20this.AutomateSystem','saveTextReply','goNextblock','):\x20Conversa\x20está\x20expirada','unlocked','InstancesAlterarTodas','sendButtons','/instance/create','):\x20conversation.waitingMenu_name','chatModify','process','Primeiro\x20Valor:\x20','lean',',\x20resultado:\x20','has','getLabelModelForOwner','promote','options','\x1b[37m%s\x1b[0m','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','resetReconnectionVariables','evaluateConditionTest','PREFIX_KEY','end','):\x20Ler\x20mensagem','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','findGroupInfo','ip\x20-6\x20addr\x20show\x20dev\x20','muteEndTime','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','CONNECTION_UPDATE','removed','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Pausado\x20por\x20','uuid','start','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','apiResponse','app','AUTHENTICATION_JWT_EXPIRIN_IN','replaceValue','listen','equal','findMany','ORG:','\x20não\x20encontrado\x20para\x20atualização.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','https://v6.ident.me','/wa-message','sendMessageWithTyping','ENABLED','#83e421','announcement','ScheduleMessageModel','empty','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','transformScheduledMessagesByType','Fluxo\x20não\x20encontrado\x20na\x20memória.','groups_ignore','class-validator','setContext','userDevicesCache','mongodb://','\x1b[37m','cacheContactModel','CHATS_UPDATE','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','Erro\x20ao\x20iniciar\x20fluxo:\x20','remote\x20\x22origin\x22','chats.delete','inviteUrl','DisconnectReason','Error\x20fetching\x20and\x20updating\x20profile:\x20','put','less','conversationTimestamp','PRIVKEY','headerString',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','flowConfig','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Authentication\x20error','https://api.ipify.org?format=json','fileName','):\x20Bloco\x20copiado:\x20','startsWith','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','PRODUCT_LIST','inviteCodeDetails','):\x20Enviando\x20áudio','replaceVariablesLogs','messageSecret','):\x20\x27Enviando\x20mídia\x20para\x20\x27','\x20:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','/instance/delete','getBusinessProfile','groupMetadata','nomecompleto','reject','/webhook','replyOptions','type','CREDENTIALS','statusJidList','CLEANING_INTERVAL','copy','loadInstance','false','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','blocks','post','This\x20name\x20','SECRET','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','padEnd','):\x20Conversa\x20atualizada\x20em\x20memória','?timestamp=','updateStatusPrivacy','sendSticker','):\x20Iniciando\x20bot...','Button\x20IDs\x20cannot\x20be\x20repeated.','pm2\x20flush','Erro\x20ao\x20alterar\x20fluxo','\x20adicionado\x20ao\x20chat\x20','instance.','leadInfo.','no.connection','editOperator','shift','approve','hex','header','mediaMessage','URL\x20completa:','proto','bodyStringErrorParse','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','request\x20received\x20in\x20createFlow','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','group-participants.update','\x1b[34m%s\x1b[0m','temp-','truncatedtoEnd','.webm','sendWhatsAppAudio','fetchContacts','createOrUpdate','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','IPv6\x20Prefix\x20detected:\x20','digest','DELETED','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','CONECTADO\x20À\x20UAZAPI','processApiRequest','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','protocolMessage','Usando\x20IP\x20existente:\x20','gifPlayback','replaceOne','etiquetas','groupParticipantsUpdate','updateBlock','LICENSE_INVALID','ex:\x20\x22groupJid=120362@g.us\x22','data','subject','\x27\x20do\x20banco\x20de\x20dados...','editflowvariable','/exit','https://ipv6.jsonip.com','leadInfo.etiquetas','connectionUpdate','pollCreationMessageV3','Erro\x20ao\x20criar\x20fluxo','Filtered\x20network\x20interfaces:\x20','PROXY','Error\x20in\x20scheduleNextCheck:\x20','express-async-errors','fileUrl','chats.update','):\x20updateResult:','findGroups','queue','document','addMessagesToGroup','mentions','fullName','126478LDwUsH','height','none','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','paused','leaveGroup','$addToSet','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','lastBlockId','editChat','beautifyWithPlaceholders','):\x20[messages.upsert]\x20group\x20ignored','isValidIPv6Config','Nenhum\x20participante\x20válido\x20encontrado.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','config','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','loadWebhook','Instance\x20\x22','messageStubParameters','STORE_MESSAGE','menuMessage','convertToWebP','trimmed','expiration','fone','):\x20Entrou\x20na\x20função\x20clearVariables','out','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','request_time','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','/instance/connect','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','fetchProfile','Flow\x20\x27',',\x20Segundo\x20Valor:\x20','QRCODE_UPDATED','webp','):\x20delete\x20=\x20true','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','pino','Erro\x20ao\x20iniciar\x20o\x20fluxo.','menuIgnoreNonVotes','Erro\x20ao\x20atualizar\x20cacheInstance:','Erro\x20ao\x20atualizar\x20agendamento\x20','#ff9484','varedit','clearVariables','DATABASE_CONNECTION_URI','ListType','API\x20Key\x20from\x20Request:','MessageModel','):\x20nextBlock.uazapi.name','RemoteJid:','getAutomateSystem','No\x20suitable\x20network\x20interface\x20found','):\x20Grupo\x20','\x1b[31m','flowStopMinutes','from','\x20quoted:\x20','release','importChatsBatch','ipv6Prefix','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','success','deletedCount','and','substring','groupId','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','GROUPS_UPDATE','audio','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','listType','length','editFlowVaredit','updateAutoCompleteMessages','COLOR','Mensagem\x20não\x20suportada','oldToken','pushName','MESSAGES_UPSERT','VERBOSE','mediatype','mkdirSync','connect','AUTHENTICATION_JWT_SECRET','!cmd_','reorderBlocks','):\x20newSecondValue\x20após\x20replaceVariables:','joinApprovalMode','onWhatsApp','pollOnReplyDelete','stopMinutes','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','findWebhook','Erro\x20ao\x20tentar\x20autoCompleteMessages','editFlowCondition','compression','sendReaction','groupJid','cors','profile','):\x20transformedCustomFieldVariables','groupValidate','charAt','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Erro\x20ao\x20tentar\x20updateCustomFields','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Alterando\x20fluxo...','markMessageAsRead','):\x20Query\x20params:','RemoveChatLabel','Valor\x20de\x20find\x20ou\x20replace\x20ausente','sleep','DATABASE','updateProfileStatus','groupLeave','content','address','activatedCount','iniciando\x20fluxo\x20router','convert','/wa-message-update','contact_blacklist','sendMessage','\x27...','views','generate','pictureUrl','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','object','):\x20Going\x20to\x20','createNewConversation','notas','done','):\x20Enviando\x20mídia','contacts.upsert','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','request\x20received\x20in\x20getFlow','#92ceac','findAndReplaceRegex','):Image\x20is\x20base64','.txt','):Trying\x20to\x20get\x20business\x20profile','hbs','awaitingApproval','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Esse\x20fluxo\x20expirou','isJidBroadcast','inner','deleteInstance','cleanStore','bulkWrite','deleteMessageForEveryone','Comando\x20desconhecido','):\x20Criando\x20fluxo...','AUTHENTICATION','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','DATABASE_CONNECTION_PASSWORD','):\x20Enviando\x20contato','save','):Output\x20path:\x20','lastRealGroupsFetch','qrcode-terminal','startFlowWebhook','/events','Erro\x20na\x20função\x20updateChatWithMessage:\x20','@ffmpeg-installer/ffmpeg','Generated\x20IPv6:\x20','getChatModelForOwner','authModel','editflowvaredit','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','sendCommand','/wa-groups','updateGParticipant','208UnCFjs','toString','sha256','getOwnPropertyNames','modifiedCount','deleteImportedChat','pendingMessages','apirequest','lastUpdate','messaging-history.set','birthtime','groupadd','instanceName\x20not\x20provided.','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','set','function','\x1b[47m','Cache-Control','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','buffer','0123456789ABCDEF','Novo\x20IP\x20criado:\x20','testIPv6','isJidGroup','setWebhook','inviteCode','MESSAGES_UPDATE','fetchLabels','extractMessageContent','KEY','rowId','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','\x0a{\x20instance:\x20','createHash','editMessagesInGroup',']\x20(','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Content\x20is\x20required','\x20saindo\x20da\x20função','getAllData','readMessage','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','editFlowBlock','this.reconnectAttempts:\x20','joinGroupValidate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','CHATS_SET','updateMany','50mb','extractRegex','toBRL','reconnectAttempts','decryptPollVote','option','DELIVERY_ACK','p-queue','namespace','true','createJid','configService','Subdomínio\x20não\x20encontrado','src','isConnected','createConversationforStartFlow','processUazapi','):\x20Editando\x20variável\x20do\x20fluxo...','changeVariables','updateOneById','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','ChatRouter','):\x20Procurando\x20conversa','instance','insert','updateOne','ButtonsMessage','flowPrefixCommand','keep-alive','FlowController','):\x20leadInfoVariables',',\x20global:\x20','processConditions','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','setUpdate','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','LabelModel','idSchedule','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','scheduleNextCheck','):\x20Erro\x20durante\x20a\x20atualização:\x20','ff:fe','SendScheduleMessage','):\x20Editando\x20replyOption...','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','result','updateChatWithMessage','):Image\x20is\x20url','/automate','image','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','exports','existsSync','dbInstance','method','contactMessage','goToFlow','getValidWhatsAppNumbers','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','CONTACTS_UPSERT','mongodb','request\x20received\x20in\x20getConversation','envYaml','open','ConversationModel','CONNECTION','optionName','flowActive','groups.update','END:VCARD','prototype','):\x20Buscando\x20conversa...','saveVariable','eventEmitter','Message','delAll','deleteFlow','chatId','status','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x1b[32m','_activedCount','dataValidate','throwAndLogError','revokeInviteCode','express','ContactsAndGroups','.type',',\x20saindo.','\x1b[40m','getVariablesChat','ObjectId','createGroup','finish','\x20tentativas.','):\x20Entrou\x20na\x20função\x20goToFlow','delayChatLabel_MAX_RETRIES','deleteDoneMessages','#fed428','formatBRNumber','addBlock','variablesNotFound','statSync','remoteJids','#00a1f2','redis','isListOfNumbers','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','):\x20Entrou\x20na\x20função\x20processawaitSeconds','flows','getScheduleMessageModelForOwner','Module\x20-\x20ON','createSectionsFromValues','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','URL:','writeFileSync','isLong','cwd','deleteBlock','groups.upsert','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','lastFetchAwaitingApproval','group','getDelay','getProfileName','buttonId','ignoreGroups','/chat','convertaudio','connectedName','):\x20\x27Enviando\x20audio\x20para\x20\x27','6210540bFoXgl','upsertedCount','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','stack','updateLastSeenPrivacy','Retornando\x20grupos\x20SEM\x20cache','reviver','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','splice','\x20inseridos\x20no\x20banco\x20de\x20dados...','sharePass','StartID:','):\x20Fluxo\x20\x27','audio/ogg','enumerable','sendMenu','Instance\x20logged\x20out','picture','\x1b[41m','\x20minutos.\x20Será\x20às\x20','toggleEphemeral','uncaughtException','blockLogs','1176957YqVdRW','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','\x20do\x20chat\x20','DD/MM\x20HH:mm:ss','\x1b[30m','ip6eui','startCommandWord','latitude','):\x20Fluxos\x20não\x20estão\x20ativados','https://jsonip.com','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','ephemeralExpiration','parse','entries','readFileSync','replacer','ERROR:\x20','_pushName','repository','Falha\x20ao\x20recriar\x20IPv6.','\x1b[43m','URL\x20não\x20disponível','):\x20Query\x20params:\x20','Background\x20color\x20is\x20required','reorderReplyOptions','notMatchRegex','headers','):\x20this.processingGroup._id:\x20','\x1b[42m','webhookModel','archive','quoted','fetchChats','/clients-info','processScheduleFlow','-whatsapp-api','getClient','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','):\x20Buscando\x20flow,\x20id:\x20','):\x20expirationTime:\x20','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','DATABASE_CONNECTION_USER','presence','use','dbConnection','407159jULXUw','/*.json','creation','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Erro\x20ao\x20importar\x20chats','everyOne','convertaudioMP3','#fe9dfe','order','getMIMEType','arrayUnique','archiveChat','restartInstance','defineAuthState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','replaceVariablesInObject','last_update','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','findGroup','59665tKdCyi',',\x20lastCondition:\x20','Configured\x20IPv6:\x20','WA\x20MODULE','REDIS_ENABLED','DEBUG','networkInterface','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','when','groupJoinApprovalMode','values','readMessages','):\x20tem\x20blocks','63826MRiMAJ','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','\x20chats\x20de\x20','chat','automateSystem','displayName','rows','sectionsToString','keys','CONTACTS_SET','indexOf','isCommunityAnnounce','toLocaleString','):Image\x20path:\x20','):\x20whoCanUse\x20before\x20validation:\x20','LOG_COLOR','uazapi','reconnectTimestamps','contactHandle','updateStopChat','getMessage','default','StartBot','audioMessage','^\x5cd+([-]\x5cd+)*@g.us$','):\x20whoCanEdit\x20before\x20validation:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','removeInstance','Not\x20is\x20business\x20profile',',\x20pairCode:\x20','Variável\x20não\x20encontrada!','toBrazilianNumberFormat','downloads','_remoteJid','addresss','getFlow','readFile','stopped','\x1b[33m%s\x1b[0m','value','createAndSave','text','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','next_groupId','toNumber','LOG','):Converted\x20image\x20deleted','some','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','validate','autoCompleteMessages','CHATS_DELETE','initAuthCreds','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','_Chats','lastCondition','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','chats','uazapiSendText','editflowblock','Not\x20allowed\x20by\x20CORS','):\x20enviado\x20para\x20[','unlinkSync','firstValue','composing','SERVER','imported','author','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','vcard','checkAndRestartProcess','findGroupInfos','message','Erro\x20ao\x20atualizar\x20o\x20flow.','updateAll','owner','loggedOut','fetchProfilePictureUrl','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','uazapiSendAudio','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','_id','):\x20Buscando\x20conversas...','Subdomínio\x20extraído\x20da\x20URL:','SINGLE_SELECT','ON\x20-\x20dbName:\x20','addChatLabel','URL','fetchConversation','profilePictureUrl','randomMac','/:instanceName','textMessage','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','triedToSend','statusCode','fromMe','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','https://','\x1b[36m%s\x1b[0m','mediaKey','getLastMessage','node-mime-types','spawn','Erro\x20ao\x20editar\x20agentes','subjectOwner','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','instanceCount','map','configureIPv6','apikey','updateGroupWebhook','startCommand','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','saveMediaToFile','remoteJid','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','processgoToFlow','groupMemberAddMode','Erro\x20ao\x20aplicar\x20varedit:\x20','Instância:\x20','scheduleMessage','updateGroupParticipantsWebhook','Telefone:\x20','eventemitter2','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','findOneAndUpdate','env','isArray','fromObject','XX:XX:XX:XX:XX:XX','ReplyOption\x20com\x20ID\x20','sign','sendPoll','@broadcast','PRESENCE_UPDATE','\x1b[31m%s\x1b[0m','cacheInstanceModel','editedMessage','write','create','statusMessage','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','poll','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','URI','https://uazapi-plugin.bubbleapps.io/?url=','width','params','Database\x20connection\x20closed.','state','.mp3','TEXT','selectableCount','updateCustomFields','Erro\x20ao\x20alterar\x20privacidade','join','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','delete','sticker','STATUS_INSTANCE','INFO','\x20is\x20already\x20in\x20use.','extractPhoneNumber','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','pairingCode','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','stderr','ids','Resultado\x20da\x20correspondência\x20de\x20URL:','groupBetterSetting','request\x20received\x20in\x20deleteDoneMessages','writeData','toArray','CORS_METHODS','key','boolean','pop','\x27\x20não\x20encontrado\x20na\x20memória','findLabels','fetchInstances','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','.webp','groupCreate','https://api64.ipify.org?format=json','updateMissingEtiquetas','upsertChats','cachedData-whatsapp','deleteAll','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','__esModule','processawaitSeconds','body','):\x20Editando\x20grupo\x20do\x20fluxo...','/media/','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','):\x20Mensagem\x20já\x20enviada\x20para\x20','setNewValue','testingWith','g.us','/wa-connection-update','mentioned','Db\x20Connection','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','findGroupsEspecial','caption','media','Unauthorized','dropCollection','request\x20received\x20in\x20editFlow','Imagem\x20não\x20encontrada','):\x20[messages.update]\x20group\x20ignored','):\x20mediaMessageInfoId\x20:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','delayChatLabel_RETRY_DELAY_MS','creds','label_jid','originalUrl','test','replyOption','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','stanzaId','.mp4','#6f7bcf','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','code','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','Error\x20parsing\x20JSON:','Mac\x20OS','editConversation','optionDescription','basename','updateParticipant','normalizeMessage','description','findIndex','Removidas\x20as\x20variáveis:\x20','block','connectionState','reorderMessages','remove.instance','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','folder','PASSWORD','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','exec','then','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','*\x0a\x0a','messageType','variables','API_KEY','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','matchRegex','Erro\x20ao\x20inserir\x20chats:','updatePresence','\x0aitem','title','message_normalized','JWT','action','global','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Deletion\x20failed','CHATS_UPSERT','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','url','restart','uazapiSendMenu','pollCreationMessageKey','Request\x20Body:','query','valid','OrAnd','PENDING','Message\x20absent\x20from\x20node','groupSettingUpdate','audioWhatsapp','):\x20Limpando\x20AutomateSystem','insertMany','REDIS_URI','Schema','output','long','authState','SSL_CONF_PRIVKEY','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','crypto','cleaningUp','Last\x20message\x20not\x20found','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','footerText','buttons','request\x20received\x20in\x20updateAutoCompleteMessages','DATABASE_ENABLED','\x27\x20removido\x20do\x20AutomateSystem.','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','setting','floor','):\x20Deletando\x20mensagem','):\x20Chat\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','memberAddMode','timeout','organization','\x1b[0m','error','menuExpiredMessage','sendText','removeData','SERVER_ACK','content-type','deleteChat','locked','readData','where','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','27755GMdVkb','saveConversationToDatabase','subjectTime','SSL_CONF_FULLCHAIN','Type\x20is\x20required','moreLogs','Error\x20adding\x20IPv6\x20address:\x20','remove','connectToWhatsapp','find','detectIPv6PrefixAndInterface','customFields','DB_PREFIX_NAME','processblock','Last\x20message\x20not\x20found\x20for\x20number:\x20','.TEL;waid=','sendList','@whiskeysockets/baileys','):\x20alterando\x20this.AutomateSystem','\x22,\x20valor\x20a\x20substituir:\x20\x22','getMessageModelForOwner','findManyByIds','hasOwnProperty','createConversationforgoToFlow','messages.set','updateAgent','contactsArrayMessage','$set','toFile','uazapiSendMedia','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','@s.whatsapp.net','atendimentoAberto','ip:\x20','evaluateCondition','secondValue','onTime','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','pollMessage','https://chat.whatsapp.com/',',\x20Minutes\x20to\x20Close:\x20','editFlowVariable','Connection\x20closed\x20for\x20instance:\x20','reduce','updateMessage','logger','yes','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','shareOwners','send','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','Valor\x20inicial:\x20\x22','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','audio/ogg;\x20codecs=opus','exit','SEND_MESSAGE','):\x20Bloco\x20com\x20ID\x20','last','PLAYED','uazapiDeleteMessage','findConversation','E-mail:\x20','Contacts\x20not\x20found','):\x20Enviando\x20mensagem\x20para\x20','emit','Chat\x20com\x20ID\x20','Falha\x20ao\x20processar\x20a\x20solicitação','editflowcondition','flow','error\x20get\x20vote','call','/create','processvaredits',',\x20Resultado:\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Comando\x20desconhecido:\x20','/instance/fetchInstances','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','Error\x20removing\x20unused\x20chat\x20fields:','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','stopMinutesMaxActives','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','pollErrorMessage','fetchProfilePicture','verbose','ms\x20(tentativa\x20','info','store','):Processing\x20audio','normalizeMessageContent','enabled','responsavelid','notEmpty','notContains','):Sending\x20audio\x20whatsapp','command','updateGParticipate','unreadcount','messageId','noConnection','.\x20Pulando.','auth','AutomateFunctions','.ogg','blockId','beforeExit','number','EMAIL','unhandledRejection','Button\x20texts\x20cannot\x20be\x20repeated','username','getStatus','Erro\x20ao\x20deletar\x20chat:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Editando\x20bloco...','#ffffff','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','removeUnusedChatFields','\x20foi\x20interrompido\x20pelo\x20usuário.','updateGroupsAddPrivacy','flush','conditions','formatStatusMessage','Erro\x20ao\x20copiar\x20o\x20documento','oldValue','makeCacheableSignalKeyStore','fora\x20do\x20git','chatLog','\x5cd+','.url','labels.association','replaceVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','Error\x20fetching\x20group','locationMessage','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','trim','.pptx','Instância\x20não\x20encontrada.','CORS','request\x20received\x20in\x20editFlowvariable','pollCreationMessage','Erro\x20ao\x20atualizar\x20conversa:\x20','setRestartTimeout','execSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','ChatModel','editFlowReply','DATABASE_CONNECTION_HOST','shareFlow','agents','):\x20Flow\x20\x27','fetchPrivacySettings','):\x20Enviando\x20texto','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','groupRevokeInvite','descId','\x1b[46m','sendMedia','sendMessageAck','greater','get','drop','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','hDel','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','stringify','Fluxos\x20não\x20estão\x20ativados','STORE','status.instance','):\x20Rótulo\x20atualizado:\x20','repeat','findMessages','BufferJSON','.error','dbServer','Bloco\x20com\x20ID\x20','Erro\x20ao\x20buscar\x20fluxos:','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','getTicketSystem','docker','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','):\x20Removendo\x20\x27','buttonMessage','reactionMessage','Database\x20update\x20result:','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','created','\x20ao\x20chat\x20','Erro\x20ao\x20deletar\x20a\x20conversa','leadInfo','.svg','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Erro\x20ao\x20buscar\x20conversas','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','status@broadcast','groupGetInviteInfo','updateMediaMessage','deleteMany',',\x20Novo\x20tamanho:\x20','https://github.com/uazapi/uazapi.git','app-state-sync-key','PORT','):\x20Process\x20UUID\x20já\x20definido.\x20Saindo\x20da\x20função.','#01d0e2','messages.update','TYPE','Instance\x20ID:','processConditionsTest','base64','Nenhum\x20fluxo\x20correspondente\x20encontrado.','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Router','scheduleSendText','off','imagechat','lowerCase','CORS_CREDENTIALS','email','https://ifconfig.me/ip','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','variable','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','delay','getContactModelForOwner','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','groupSetting','deleteConversation','createClient','slice','WARN','groupDesc','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','/wa-presence','name','Font\x20is\x20required','pt-BR','add','errors','node-cache','timeInMinutes','closeExistingConversations','lastMessage','jpegThumbnail','font','bateu\x20events','Selecione','linkPreview','The\x20\x22','):\x20Conversa\x20está\x20expirada\x20-\x20voto','warn','rm\x20-rf\x20','\x20minutos\x20verificará\x20novas\x20mensagens','RECONNECT_TIME_FRAME','demote','#d8e651','detail','processPollUpdateMessage','):\x20Procurando\x20mensagens\x20para\x20envio','REDIS','conversation','groupFetchAllParticipating','reference','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','listResponseMessage','encoding','scheduleSendAudio','Erro\x20ao\x20buscar\x20a\x20conversa','unavailable','closed','51rtOvln','):\x20ev.flush\x20realizado','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','inet6','findChats','isURL','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','http','globalShow','replaceVariablesInReplyOptions','maxActives','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','cleanDisconnectedInstances','qrcode','):\x20Error\x20processing\x20conditions:\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','urlencoded','):Image\x20created','delayMessage','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','deleteMessage','delaySecMin','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','allflows','):Audio\x20processed','AUTHENTICATION_TYPE','_sender','hSet','FULLCHAIN','connectedClient','canSendMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','SSL_CONF','\x0aFN:','delaySecMax','nome','\x20and\x20data:','):\x20Flow\x20desativado','findAndReplace','backgroundColor','_fromMe','createInstance','jsonwebtoken','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','logout','):\x20Buscando\x20todos\x20os\x20fluxos...','cachedContact','model','#9ba6ff','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','16PbhIfx','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','desativadoFluxoAte','):\x20Atualizando\x20status\x20da\x20mensagem\x20','storePath','.jpg','choices','webhook','request\x20received\x20in\x20deleteConversation','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','):Getting\x20image\x20from\x20url','child_process','array','Rótulo\x20inválido\x20ou\x20sem\x20ID.','instanceName','verifyWhatsAppNumber','buttonText','wuid','setHeader','https','static','EMAIL:','router','):\x20','AddUserFlow','js-yaml','path','listMessage','min','startFlow','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','flushHeaders','env.KEY\x20!==\x20key','Instâncias\x20removidas:\x20','mimetype','):\x20Usando\x20extensão\x20padrão:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','request\x20received\x20in\x20deleteFlow','Flow\x20iniciado','instancias:\x20','vote','axios','updateProfilePicture','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','.png','groupHandler','newStoppedUntil','editflowgroup','application/octet-stream','generateHash','minutesToClose','saveChatVariables','\x1b[1m\x1b[37m','redisEnv','startID','processUUID','):\x20não\x20encontrou','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','.xls',',\x20valor\x20a\x20encontrar:\x20\x22','item','unknown\x20operation\x20type\x20[','getUpdate','Forbidden','exists','scheduled','recording','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','contacts','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','groupRequestParticipantsUpdate','json','uazapiSendContact','licenca','capitalizedWords','contextInfo','STORE_CONTACTS','_p_','events','sections','editFlowGroup','waMonitor','segundos','\x1b[33m','STORE_CHATS','connectionClosed','data:\x20','sort','.\x20Aguardando\x20','Subscribed\x20Events:','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','):\x20UUID\x20do\x20processo\x20não\x20corresponde,\x20parando\x20processamento.','Partes\x20do\x20caminho\x20FULLCHAIN:','all_member_add',',\x20qrcodeCount:\x20','cacheInstanceRepository','replace','request\x20received\x20in\x20scheduleMessage','\x27\x20não\x20encontrado','):Audio\x20converted\x20and\x20stored\x20in\x20cache','DOCKER_ENV','waitingForReplyMenu','local_map'];a0_0x501f=function(){return _0x3a0d39;};return a0_0x501f();}Zi(gr,{'fullURL':()=>Bs,'subdomain':()=>K}),module[a0_0xa27d39(0x477)]=eo(gr);var qi=A(require(a0_0xa27d39(0x3bf))),Ks=require('fs'),Qs=require(a0_0xa27d39(0x7cf)),Ys=require(a0_0xa27d39(0x7d0)),ze=require('path'),ue=process[a0_0xa27d39(0x4b9)](),Me=(0x0,ze[a0_0xa27d39(0x5cc)])(ue,a0_0xa27d39(0x1ff)),Hs=(0x0,ze[a0_0xa27d39(0x5cc)])(ue,a0_0xa27d39(0x450)),sn=(0x0,ze[a0_0xa27d39(0x5cc)])(ue,a0_0xa27d39(0x6c6),a0_0xa27d39(0x6d4)),hs=class{constructor(){const _0xcf52b2=a0_0xa27d39;this[_0xcf52b2(0x25f)]();}['get'](_0x5972de){return this['env'][_0x5972de];}['loadEnv'](){const _0x3b2c33=a0_0xa27d39;this[_0x3b2c33(0x5af)]=process[_0x3b2c33(0x5af)]?.[_0x3b2c33(0x81b)]!=='true'?this[_0x3b2c33(0x482)]():this['envProcess'](),process[_0x3b2c33(0x5af)]?.[_0x3b2c33(0x81b)]==='true'&&(this[_0x3b2c33(0x5af)][_0x3b2c33(0x570)][_0x3b2c33(0x742)]=_0x3b2c33(0x789),this[_0x3b2c33(0x5af)]['SERVER'][_0x3b2c33(0x73e)]=Number[_0x3b2c33(0x882)](process[_0x3b2c33(0x5af)]?.[_0x3b2c33(0x912)]??_0x3b2c33(0x1d7)));}[a0_0xa27d39(0x482)](){const _0x4a1a99=a0_0xa27d39;return(0x0,Qs[_0x4a1a99(0x83e)])((0x0,Ks[_0x4a1a99(0x4ec)])((0x0,Ys[_0x4a1a99(0x5cc)])(Hs,_0x4a1a99(0x886)),{'encoding':_0x4a1a99(0x87f)}));}['envProcess'](){const _0x51ce27=a0_0xa27d39;return{'SERVER':{'TYPE':process[_0x51ce27(0x5af)][_0x51ce27(0x210)],'PORT':Number['parseInt'](process['env'][_0x51ce27(0x912)]),'URL':process[_0x51ce27(0x5af)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x51ce27(0x5af)][_0x51ce27(0x8d0)][_0x51ce27(0x8cb)](','),'METHODS':process[_0x51ce27(0x5af)][_0x51ce27(0x5df)][_0x51ce27(0x8cb)](','),'CREDENTIALS':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x74d)]===_0x51ce27(0x44c)},'SSL_CONF':{'PRIVKEY':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x64e)],'FULLCHAIN':process['env']?.[_0x51ce27(0x672)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x51ce27(0x882)](process['env'][_0x51ce27(0x24e)]):void 0x0,'MESSAGES':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x36e)]===_0x51ce27(0x44c),'CONTACTS':process['env']?.[_0x51ce27(0x803)]===_0x51ce27(0x44c),'CHATS':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x80b)]===_0x51ce27(0x44c)},'DATABASE':{'CONNECTION':{'HOST':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x704)],'PORT':Number[_0x51ce27(0x882)](process[_0x51ce27(0x5af)]?.[_0x51ce27(0x704)]),'USER':process['env'][_0x51ce27(0x507)],'PASSWORD':process[_0x51ce27(0x5af)][_0x51ce27(0x3fe)],'URI':process[_0x51ce27(0x5af)][_0x51ce27(0x38b)],'DB_PREFIX_NAME':process[_0x51ce27(0x5af)][_0x51ce27(0x20b)]},'ENABLED':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x657)]==='true'},'REDIS':{'ENABLED':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x524)]===_0x51ce27(0x44c),'URI':process[_0x51ce27(0x5af)][_0x51ce27(0x649)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x51ce27(0x5af)]['REDIS_PREFIX_KEY']||_0x51ce27(0x53f)},'LOG':{'LEVEL':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x259)][_0x51ce27(0x8cb)](','),'COLOR':process[_0x51ce27(0x5af)]?.[_0x51ce27(0x53e)]===_0x51ce27(0x44c)},'PROXY':process['env']?.[_0x51ce27(0x34e)]===_0x51ce27(0x44c),'AUTHENTICATION':{'TYPE':process[_0x51ce27(0x5af)][_0x51ce27(0x79c)],'API_KEY':{'KEY':process[_0x51ce27(0x5af)][_0x51ce27(0x89f)]},'JWT':{'EXPIRIN_IN':Number[_0x51ce27(0x8ca)](process[_0x51ce27(0x5af)]?.[_0x51ce27(0x2c3)])?Number[_0x51ce27(0x882)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x51ce27(0x5af)][_0x51ce27(0x3b3)]}}};}},b=new hs(),Vi=A(require(a0_0xa27d39(0x3c2))),be=A(require(a0_0xa27d39(0x499))),Vs=require(a0_0xa27d39(0x7d0)),gs=A(require(a0_0xa27d39(0x908))),ms=(_0x3b3f87=>(_0x3b3f87[a0_0xa27d39(0x55c)]=a0_0xa27d39(0x494),_0x3b3f87[a0_0xa27d39(0x5d1)]=a0_0xa27d39(0x850),_0x3b3f87[a0_0xa27d39(0x75a)]=a0_0xa27d39(0x80a),_0x3b3f87['ERROR']=a0_0xa27d39(0x394),_0x3b3f87[a0_0xa27d39(0x525)]=a0_0xa27d39(0x207),_0x3b3f87[a0_0xa27d39(0x3af)]=a0_0xa27d39(0x2db),_0x3b3f87[a0_0xa27d39(0x8d8)]=a0_0xa27d39(0x4e2),_0x3b3f87))(ms||{}),Xs=(_0x5f32b1=>(_0x5f32b1[a0_0xa27d39(0x55c)]='\x1b[32m%s\x1b[0m',_0x5f32b1['DARK']='\x1b[30m%s\x1b[0m',_0x5f32b1[a0_0xa27d39(0x5d1)]=a0_0xa27d39(0x32a),_0x5f32b1[a0_0xa27d39(0x75a)]=a0_0xa27d39(0x555),_0x5f32b1['ERROR']=a0_0xa27d39(0x5b8),_0x5f32b1[a0_0xa27d39(0x525)]=a0_0xa27d39(0x592),_0x5f32b1[a0_0xa27d39(0x3af)]=a0_0xa27d39(0x2ae),_0x5f32b1))(Xs||{}),Zs=(_0xe66bad=>(_0xe66bad[a0_0xa27d39(0x55c)]='LOG',_0xe66bad[a0_0xa27d39(0x75a)]=a0_0xa27d39(0x75a),_0xe66bad['INFO']=a0_0xa27d39(0x5d1),_0xe66bad['DARK']='DARK',_0xe66bad[a0_0xa27d39(0x8b1)]=a0_0xa27d39(0x8b1),_0xe66bad[a0_0xa27d39(0x525)]=a0_0xa27d39(0x525),_0xe66bad['VERBOSE']=a0_0xa27d39(0x3af),_0xe66bad))(Zs||{}),ea=(_0x15846e=>(_0x15846e['LOG']=a0_0xa27d39(0x4fa),_0x15846e[a0_0xa27d39(0x5d1)]='\x1b[44m',_0x15846e[a0_0xa27d39(0x75a)]=a0_0xa27d39(0x4f2),_0x15846e['DARK']=a0_0xa27d39(0x49d),_0x15846e[a0_0xa27d39(0x8b1)]=a0_0xa27d39(0x4d9),_0x15846e[a0_0xa27d39(0x525)]=a0_0xa27d39(0x70d),_0x15846e['VERBOSE']=a0_0xa27d39(0x421),_0x15846e))(ea||{}),$=class{constructor(_0x55a622=a0_0xa27d39(0x8a8)){const _0xa4ba5a=a0_0xa27d39;this[_0xa4ba5a(0x239)]=_0x55a622,this[_0xa4ba5a(0x44e)]=b;}[a0_0xa27d39(0x2d8)](_0x2d8aa2){const _0x1a1a65=a0_0xa27d39;this[_0x1a1a65(0x239)]=_0x2d8aa2;}[a0_0xa27d39(0x830)](_0x5b39de,_0xbaa93d){const _0x5537be=a0_0xa27d39;let _0x138c6c=[];this[_0x5537be(0x44e)]['get'](_0x5537be(0x55c))[_0x5537be(0x829)][_0x5537be(0x888)](_0x828a70=>_0x138c6c[_0x5537be(0x898)](Zs[_0x828a70]));let _0x422f62=typeof _0x5b39de;_0x138c6c['includes'](_0xbaa93d)&&(b['get'](_0x5537be(0x55c))[_0x5537be(0x3aa)]?(console['log']('\x1b[1m'+Xs[_0xbaa93d],_0x5537be(0x7eb),(0x0,gs[_0x5537be(0x544)])()[_0x5537be(0x254)](_0x5537be(0x4e1)),_0x5537be(0x663),ms[_0xbaa93d]+ea[_0xbaa93d]+_0x5537be(0x268),_0xbaa93d+_0x5537be(0x8b9),'\x1b[33m\x1b[1m',this[_0x5537be(0x239)]+_0x5537be(0x663),ms[_0xbaa93d],_0x422f62!==_0x5537be(0x3e2)?_0x5b39de:'',_0x5537be(0x663)),_0x422f62===_0x5537be(0x3e2)&&console[_0x5537be(0x843)](_0x5b39de,'\x0a')):console[_0x5537be(0x843)]((0x0,gs[_0x5537be(0x544)])()['format']('HH:mm:ss'),_0xbaa93d+'\x20',''+this[_0x5537be(0x239)],_0x5b39de));}[a0_0xa27d39(0x843)](_0x310922){const _0x3668f2=a0_0xa27d39;this['console'](_0x310922,_0x3668f2(0x55c));}[a0_0xa27d39(0x6c5)](_0x396a27){const _0x308e46=a0_0xa27d39;this['console'](_0x396a27,_0x308e46(0x5d1));}[a0_0xa27d39(0x76e)](_0x5ec3a4){const _0x2f11db=a0_0xa27d39;this[_0x2f11db(0x830)](_0x5ec3a4,_0x2f11db(0x75a));}[a0_0xa27d39(0x664)](_0x25c346){const _0x3606eb=a0_0xa27d39;this[_0x3606eb(0x830)](_0x25c346,'ERROR');}[a0_0xa27d39(0x6c3)](_0x19410d){const _0x175fe2=a0_0xa27d39;this[_0x175fe2(0x830)](_0x19410d,_0x175fe2(0x3af));}[a0_0xa27d39(0x8be)](_0x312839){const _0xfb9264=a0_0xa27d39;this[_0xfb9264(0x830)](_0x312839,_0xfb9264(0x525));}[a0_0xa27d39(0x849)](_0x1e7d17){const _0x319feb=a0_0xa27d39;this['console'](_0x1e7d17,_0x319feb(0x8d8));}};function ta(){const _0x2ff828=a0_0xa27d39;process['on'](_0x2ff828(0x4dc),(_0x27ceb4,_0x32fdf6)=>{const _0x3ea5fd=_0x2ff828;new $(_0x3ea5fd(0x4dc))[_0x3ea5fd(0x664)]({'origin':_0x32fdf6,'stderr':process[_0x3ea5fd(0x5d8)]['fd'],'error':_0x27ceb4});}),process['on'](_0x2ff828(0x6db),(_0xa3a54b,_0x3fb076)=>{const _0x433ccf=_0x2ff828;new $(_0x433ccf(0x6db))['error']({'origin':_0x3fb076,'stderr':process['stderr']['fd'],'error':_0xa3a54b});});}var sa=A(require(a0_0xa27d39(0x5ab))),fs=new sa[(a0_0xa27d39(0x544))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0xa27d39(0x24d)),Te=A(require('mongoose')),He=new $(a0_0xa27d39(0x5fb)),U=b[a0_0xa27d39(0x711)]('DATABASE'),R=U[a0_0xa27d39(0x2ce)]?U[a0_0xa27d39(0x485)][a0_0xa27d39(0x5c1)]?Te[a0_0xa27d39(0x544)]['createConnection'](U['CONNECTION'][a0_0xa27d39(0x5c1)],{'dbName':U[a0_0xa27d39(0x485)]['DB_PREFIX_NAME']+a0_0xa27d39(0x501)}):Te[a0_0xa27d39(0x544)][a0_0xa27d39(0x201)](a0_0xa27d39(0x2da)+U[a0_0xa27d39(0x485)][a0_0xa27d39(0x253)]+':'+U[a0_0xa27d39(0x485)][a0_0xa27d39(0x73e)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':U[a0_0xa27d39(0x485)][a0_0xa27d39(0x834)],'pass':U[a0_0xa27d39(0x485)][a0_0xa27d39(0x624)],'dbName':U[a0_0xa27d39(0x485)][a0_0xa27d39(0x67b)]+'-whatsapp-api'}):null;U[a0_0xa27d39(0x2ce)]&&He[a0_0xa27d39(0x6c5)](a0_0xa27d39(0x584)+R['$dbName']);var de=U[a0_0xa27d39(0x2ce)]?U[a0_0xa27d39(0x485)][a0_0xa27d39(0x5c1)]?Te[a0_0xa27d39(0x544)][a0_0xa27d39(0x201)](U[a0_0xa27d39(0x485)]['URI'],{'dbName':a0_0xa27d39(0x5ec)}):Te['default'][a0_0xa27d39(0x201)](a0_0xa27d39(0x2da)+U[a0_0xa27d39(0x485)][a0_0xa27d39(0x253)]+':'+U[a0_0xa27d39(0x485)][a0_0xa27d39(0x73e)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':U[a0_0xa27d39(0x485)]['USER'],'pass':U[a0_0xa27d39(0x485)][a0_0xa27d39(0x624)],'dbName':'cachedContacts-whatsapp'}):null;de&&He[a0_0xa27d39(0x6c5)](a0_0xa27d39(0x584)+de[a0_0xa27d39(0x20a)]),process['on'](a0_0xa27d39(0x6d8),()=>{const _0x3bb3d7=a0_0xa27d39;R&&R[_0x3bb3d7(0x8f1)](()=>{const _0xb24ede=_0x3bb3d7;He[_0xb24ede(0x6c5)](_0xb24ede(0x5c5));}),de&&de['close'](()=>{const _0x1eb04f=_0x3bb3d7;He[_0x1eb04f(0x6c5)](_0x1eb04f(0x851));});});var to=new Ce[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0xa27d39(0x64a))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce[(a0_0xa27d39(0x64a))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),aa=_0x439358=>{const _0x4e68e7=a0_0xa27d39;let _0x4d5035='z_'+_0x439358+_0x4e68e7(0x565);return R?.['model'](_0x4e68e7(0x702),oo,_0x4d5035);},ia=require(a0_0xa27d39(0x24d)),ro=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=_0x4e1845=>{const _0x103ac5=a0_0xa27d39;let _0x4bb64e='z_'+_0x4e1845+'_Contacts';return R?.[_0x103ac5(0x7b2)]('ContactModel',ro,_0x4bb64e);},ra=require(a0_0xa27d39(0x24d)),ws=class{},no=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),na=de?.[a0_0xa27d39(0x7b2)](ws['name'],no,a0_0xa27d39(0x49a)),ca=require(a0_0xa27d39(0x24d)),ys=class{},co=new ca[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ke=de?.[a0_0xa27d39(0x7b2)](ys[a0_0xa27d39(0x75e)],co,'instances'),la=require(a0_0xa27d39(0x24d)),lo=new la[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ua=_0x563343=>{const _0x340aae=a0_0xa27d39;let _0xb3ef0e='z_'+_0x563343+_0x340aae(0x8f4);return R?.[_0x340aae(0x7b2)](_0x340aae(0x38e),lo,_0xb3ef0e);},da=require('mongoose'),bs=class{},uo=new da[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),pa=R?.[a0_0xa27d39(0x7b2)](bs[a0_0xa27d39(0x75e)],uo,'authentication'),ha=require(a0_0xa27d39(0x24d)),Ss=class{},ga=new ha[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ga[a0_0xa27d39(0x27a)](a0_0xa27d39(0x400),function(_0x36d17b){const _0x5a8256=a0_0xa27d39;delete this[_0x5a8256(0x487)],delete this[_0x5a8256(0x1c8)],delete this[_0x5a8256(0x45e)],delete this['flowStopConversation'],delete this[_0x5a8256(0x395)],_0x36d17b();});var ma=R?.[a0_0xa27d39(0x7b2)](Ss[a0_0xa27d39(0x75e)],ga,a0_0xa27d39(0x7bc)),P=require(a0_0xa27d39(0x24d)),Ms=require('uuid'),Qe=class{},Cs=class{},wa=new P[(a0_0xa27d39(0x64a))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Es=new P[(a0_0xa27d39(0x64a))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new P[(a0_0xa27d39(0x64a))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0xa27d39(0x1dd)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0xa27d39(0x76a)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0xa27d39(0x3f3)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ya=new P[(a0_0xa27d39(0x64a))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new P[(a0_0xa27d39(0x64a))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0xa27d39(0x64a))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ns=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new P['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ba=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Sa=new P[(a0_0xa27d39(0x64a))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ma=new P[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Es],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x5903b7=a0_0xa27d39;return _0x5903b7(0x3b4)+Math[_0x5903b7(0x1de)]()['toString'](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0xa27d39(0x308)},'startID':{'type':String,'default':()=>(0x0,Ms['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ms['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ma[a0_0xa27d39(0x27a)](a0_0xa27d39(0x5ae),function(_0x101ec2){const _0xb7f1aa=a0_0xa27d39;let _0x2edd62=this[_0xb7f1aa(0x7f5)]();if(_0x2edd62&&typeof _0x2edd62==_0xb7f1aa(0x3e2)&&_0xb7f1aa(0x68a)in _0x2edd62){let _0x4467d5=_0x2edd62[_0xb7f1aa(0x68a)];if(_0x4467d5){let _0xd507a5=new Set(),_0x2b2db1=new Set(_0x4467d5[_0xb7f1aa(0x62b)]?.[_0xb7f1aa(0x59b)](_0x17a613=>_0x17a613[_0xb7f1aa(0x75e)])),_0x239636=JSON[_0xb7f1aa(0x716)](_0x4467d5),_0x1851cd=/{{(?!_)([^}]*)}}/g,_0x3200c3;for(;(_0x3200c3=_0x1851cd[_0xb7f1aa(0x626)](_0x239636))!==null;)_0x2b2db1[_0xb7f1aa(0x2aa)](_0x3200c3[0x1])||_0xd507a5[_0xb7f1aa(0x761)](_0x3200c3[0x1]);_0xd507a5['size']>0x0?(console['warn'](_0xb7f1aa(0x26b),Array[_0xb7f1aa(0x396)](_0xd507a5)),_0x4467d5[_0xb7f1aa(0x4a9)]=Array[_0xb7f1aa(0x396)](_0xd507a5)):_0x4467d5[_0xb7f1aa(0x4a9)]=[],this[_0xb7f1aa(0x465)]({'$set':_0x4467d5});}}_0x101ec2();});var Ee=R?.['model'](Cs[a0_0xa27d39(0x75e)],Ma,a0_0xa27d39(0x22f)),fo=new P[(a0_0xa27d39(0x64a))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ns],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new P[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Es],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xa27d39(0x483)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0xa27d39(0x3f3)},'waitingMenu_replyOptions':{'type':[Es],'default':[]}}),Ca=_0x481ca9=>{const _0x3ddbbe=a0_0xa27d39;let _0x34dfd9='z_'+_0x481ca9+'_FlowHistorico';return R?.[_0x3ddbbe(0x7b2)](_0x3ddbbe(0x484),wo,_0x34dfd9);},yo=new P[(a0_0xa27d39(0x64a))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),fa=new P[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new P[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[fa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0xa27d39(0x7f8)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':fa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ea=_0x2c60f7=>{const _0x2bb8d8=a0_0xa27d39;let _0x120233='z_'+_0x2c60f7+'_ScheduleMessages';return R?.[_0x2bb8d8(0x7b2)](_0x2bb8d8(0x2d1),bo,_0x120233);},vs=class{},So=new P['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new P[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new P[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new P[(a0_0xa27d39(0x64a))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0xa27d39(0x64a))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Oe=R?.[a0_0xa27d39(0x7b2)](vs['name'],No,a0_0xa27d39(0x278)),va=require(a0_0xa27d39(0x24d)),$o=new va['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Na=_0x1b80c0=>{const _0x4fb006=a0_0xa27d39;let _0x50be83='z_'+_0x1b80c0+_0x4fb006(0x820);return R?.[_0x4fb006(0x7b2)](_0x4fb006(0x468),$o,_0x50be83);},_=class{constructor(_0x3d42cc){const _0x992dc2=a0_0xa27d39;this['dbSettings']=_0x3d42cc[_0x992dc2(0x711)](_0x992dc2(0x3d1));}};function I(_0x53bfd1){const _0x451088=a0_0xa27d39;let _0x23c0fd={};for(let [_0x22d55b,_0xfb4fff]of Object['entries'](_0x53bfd1))if(typeof _0xfb4fff=='object'&&!Array['isArray'](_0xfb4fff)){for(let [_0x1ac9ee,_0x3d2175]of Object[_0x451088(0x4eb)](_0xfb4fff))_0x23c0fd[_0x22d55b+'.'+_0x1ac9ee]=_0x3d2175;}else _0x23c0fd[_0x22d55b]=_0xfb4fff;return _0x23c0fd;}var Ye=class{constructor(_0x214b91,_0x550ac1,_0x31eebf,_0x42ac16,_0x220b9c,_0xfe3e19,_0x5867ab,_0x534c72,_0x161ff3,_0x190da4,_0x4cec2a,_0xcb5736,_0x5bf5f9){const _0x669267=a0_0xa27d39;this[_0x669267(0x577)]=_0x214b91,this[_0x669267(0x532)]=_0x550ac1,this[_0x669267(0x289)]=_0x31eebf,this[_0x669267(0x88e)]=_0x42ac16,this[_0x669267(0x7bc)]=_0x220b9c,this[_0x669267(0x6d4)]=_0xfe3e19,this[_0x669267(0x45a)]=_0x5867ab,this[_0x669267(0x6b3)]=_0x534c72,this['flowConversation']=_0x161ff3,this[_0x669267(0x894)]=_0x190da4,this[_0x669267(0x5a8)]=_0x4cec2a,this['automateSystem']=_0xcb5736,this['dbClient']=_0x5bf5f9;}get[a0_0xa27d39(0x71f)](){const _0x346818=a0_0xa27d39;return this[_0x346818(0x8c9)];}},Xe=class{},Ze=class extends _{[a0_0xa27d39(0x683)](_0x3277e6){return ua(_0x3277e6);}async[a0_0xa27d39(0x45b)](_0x360bcd,_0x1fb319){const _0x2eea92=a0_0xa27d39;if(_0x360bcd[_0x2eea92(0x3a7)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x1fb319)[_0x2eea92(0x648)]([..._0x360bcd]))['length']};}catch(_0x3e12c7){return _0x3e12c7;}}async[a0_0xa27d39(0x678)](_0x2189ec,_0x5807ff){const _0x5ef1f5=a0_0xa27d39;try{let _0x6254c4=this[_0x5ef1f5(0x683)](_0x5807ff),_0x3452a2=I(_0x2189ec[_0x5ef1f5(0x66d)]);return await _0x6254c4['find'](_0x3452a2)[_0x5ef1f5(0x80e)]({'messageTimestamp':-0x1})[_0x5ef1f5(0x852)](_0x2189ec?.[_0x5ef1f5(0x852)]??0x0)[_0x5ef1f5(0x2a8)]();}catch{return[];}}async[a0_0xa27d39(0x5ce)](_0xea19de,_0x2f183c){const _0x5cdec3=a0_0xa27d39;try{let _0x167490=this[_0x5cdec3(0x683)](_0x2f183c),_0x1f035e=I(_0xea19de[_0x5cdec3(0x66d)]);await _0x167490[_0x5cdec3(0x73a)](_0x1f035e);}catch(_0x44298a){console[_0x5cdec3(0x664)](_0x44298a);}}async[a0_0xa27d39(0x8e1)](_0x461e27,_0xfdfc6b,_0x5498ae){const _0x48ca84=a0_0xa27d39;try{let _0x1d4362=this['getMessageModelForOwner'](_0x5498ae),_0x551ea6=I(_0x461e27[_0x48ca84(0x66d)]);return await _0x1d4362[_0x48ca84(0x5ae)](_0x551ea6,{'$set':_0xfdfc6b},{'new':!0x0});}catch(_0x518214){throw console[_0x48ca84(0x664)](_0x518214),_0x518214;}}async['insertMany'](_0x4c8c16,_0x3cb094){const _0x5246a8=a0_0xa27d39;if(_0x4c8c16[_0x5246a8(0x3a7)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5246a8(0x683)](_0x3cb094)[_0x5246a8(0x648)]([..._0x4c8c16]))[_0x5246a8(0x3a7)]};}catch(_0x390f83){return console[_0x5246a8(0x843)](_0x5246a8(0x4ee),_0x390f83),_0x390f83;}}async[a0_0xa27d39(0x5ed)](_0x1c497d){const _0x475688=a0_0xa27d39;try{return await this[_0x475688(0x683)](_0x1c497d)[_0x475688(0x89e)][_0x475688(0x712)](),{'success':!0x0};}catch(_0x1fea54){return console[_0x475688(0x664)](_0x1fea54),{'success':!0x1,'error':_0x1fea54};}}},Ps=A(require(a0_0xa27d39(0x407))),w=A(require(a0_0xa27d39(0x680))),Ue=require('fs'),j=A(require(a0_0xa27d39(0x7d0))),te=A(require('axios')),_i=require('uuid'),xi=A(require(a0_0xa27d39(0x790))),Di=A(require(a0_0xa27d39(0x403))),$a=[a0_0xa27d39(0x88d),a0_0xa27d39(0x224),'audioMessage','videoMessage',a0_0xa27d39(0x847)],Ra=['ephemeralMessage','documentWithCaptionMessage','viewOnceMessage','viewOnceMessageV2'],ks=require('os'),Vt=A(require(a0_0xa27d39(0x383))),je=require(a0_0xa27d39(0x7c1)),Pi=require(a0_0xa27d39(0x595)),fe=A(require(a0_0xa27d39(0x24d))),L=require('class-validator'),pe=class{constructor(_0x136c43,_0x5bc9b6,_0x4e8090){const _0x45f7df=a0_0xa27d39;this[_0x45f7df(0x21f)]=_0x136c43,this['exists']=_0x5bc9b6,this[_0x45f7df(0x75e)]=_0x4e8090;}},et=class{},tt=class{},_e=class{},st=class{},at=class{},ve=class{},it=class{},ot=class{},rt=class{},nt=class{},Lt=A(require(a0_0xa27d39(0x499))),Aa=require('fs'),Ia=require(a0_0xa27d39(0x7d0));async function xe(_0x4eece2){const _0x4ece27=a0_0xa27d39;let _0x680d3c=z['waInstances'][_0x4eece2];if(U[_0x4ece27(0x2ce)]){let _0x1ab3b8=R['getClient']()['db'](U[_0x4ece27(0x485)][_0x4ece27(0x67b)]+_0x4ece27(0x87a))[_0x4ece27(0x89e)](_0x4eece2);return _0x680d3c||(await _0x1ab3b8[_0x4ece27(0x678)]({})[_0x4ece27(0x5de)]())[_0x4ece27(0x3a7)]>0x0;}return _0x680d3c||(0x0,Aa[_0x4ece27(0x478)])((0x0,Ia['join'])(Me,_0x4eece2));}async function Ta(_0x173b8a,_0x51aee5,_0x350901){const _0x357827=a0_0xa27d39;if(_0x173b8a['originalUrl'][_0x357827(0x855)](_0x357827(0x2a3))||_0x173b8a['originalUrl'][_0x357827(0x855)]('/instance/fetchInstances')||_0x173b8a[_0x357827(0x60a)][_0x357827(0x855)](_0x357827(0x347))||_0x173b8a['originalUrl'][_0x357827(0x855)](_0x357827(0x1da))||_0x173b8a[_0x357827(0x60a)]['includes'](_0x357827(0x37a))||_0x173b8a[_0x357827(0x60a)]['includes']('/instance/connectionState')||_0x173b8a[_0x357827(0x60a)][_0x357827(0x855)](_0x357827(0x2fb)))return _0x350901();let _0x4512d3=_0x173b8a[_0x357827(0x5c4)];if(!_0x4512d3?.[_0x357827(0x7c4)])throw new m(_0x357827(0x41d));if(!await xe(_0x4512d3[_0x357827(0x7c4)]))throw new J('The\x20'+_0x4512d3['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x350901();}async function Oa(_0x40292e,_0x38ec2f,_0x5e6b5d){const _0xb79971=a0_0xa27d39;if(_0x40292e[_0xb79971(0x60a)][_0xb79971(0x855)](_0xb79971(0x2a3))){let _0xc3545d=_0x40292e['body'];if(await xe(_0xc3545d['instanceName']))throw new se(_0xb79971(0x30d)+_0xc3545d[_0xb79971(0x7c4)]+_0xb79971(0x5d2));z[_0xb79971(0x897)][_0xc3545d[_0xb79971(0x7c4)]]&&delete z[_0xb79971(0x897)][_0xc3545d['instanceName']];}_0x5e6b5d();}var _a=require(a0_0xa27d39(0x2d7)),xa=A(require(a0_0xa27d39(0x7ad))),ct=a0_0xa27d39(0x53f),Ao=new $(a0_0xa27d39(0x87e));async function Io(_0x36b9a5,_0x284513,_0x16e394){const _0xc420e1=a0_0xa27d39;let _0x55210d=_0x36b9a5[_0xc420e1(0x711)](_0xc420e1(0x59d));if(_0x55210d&&b[_0xc420e1(0x711)](_0xc420e1(0x3fc))[_0xc420e1(0x62c)]['KEY']!==_0x55210d)throw new ce();if(b[_0xc420e1(0x711)](_0xc420e1(0x3fc))[_0xc420e1(0x62c)]['KEY']===_0x55210d)return _0x16e394();if((_0x36b9a5['originalUrl'][_0xc420e1(0x855)]('/instance/create')||_0x36b9a5[_0xc420e1(0x60a)][_0xc420e1(0x855)](_0xc420e1(0x6bb)))&&!_0x55210d)throw new se(_0xc420e1(0x85c),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x822e8d=b[_0xc420e1(0x711)]('AUTHENTICATION')[_0xc420e1(0x634)];try{let [_0xaa481a,_0x117d7c]=_0x36b9a5[_0xc420e1(0x711)](_0xc420e1(0x8b5))['split']('\x20');if(_0xaa481a[_0xc420e1(0x8ce)]()!==_0xc420e1(0x86b))throw new ce();if(!(0x0,_a['isJWT'])(_0x117d7c))throw new ce();let _0xfda71d=_0x36b9a5[_0xc420e1(0x5c4)],_0x539c32=xa[_0xc420e1(0x544)][_0xc420e1(0x83a)](_0x117d7c,_0x822e8d[_0xc420e1(0x30e)],{'ignoreExpiration':_0x822e8d['EXPIRIN_IN']===0x0});if(_0xfda71d['instanceName']!==_0x539c32[_0xc420e1(0x7c4)]||ct!==_0x539c32['apiName'])throw new ce();return _0x16e394();}catch(_0x59838b){throw Ao[_0xc420e1(0x664)](_0x59838b),new ce();}}async function To(_0x584775,_0x232fd2,_0xd8f8a8){const _0x51b2ce=a0_0xa27d39;let _0x57b211=b[_0x51b2ce(0x711)](_0x51b2ce(0x3fc))[_0x51b2ce(0x62c)],_0x2c4f06=_0x584775['get'](_0x51b2ce(0x59d));if(_0x57b211['KEY']===_0x2c4f06)return _0xd8f8a8();if(_0x584775[_0x51b2ce(0x60a)][_0x51b2ce(0x855)](_0x51b2ce(0x2a3))){let _0x1ace06=Pa,_0x26d618=_0x584775[_0x51b2ce(0x5f1)][_0x51b2ce(0x7c4)];if(_0x1ace06&&_0x26d618[_0x51b2ce(0x8ce)]()[_0x51b2ce(0x2f1)](_0x1ace06['toLowerCase']()))return _0xd8f8a8();if(!_0x2c4f06)throw new se(_0x51b2ce(0x85c),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x584775['originalUrl'][_0x51b2ce(0x855)](_0x51b2ce(0x6bb))&&!_0x2c4f06)throw new se(_0x51b2ce(0x85c),_0x51b2ce(0x28e));if(_0x584775['originalUrl'][_0x51b2ce(0x855)](_0x51b2ce(0x347))&&!_0x2c4f06)throw new se(_0x51b2ce(0x85c),_0x51b2ce(0x28e));if(_0x584775[_0x51b2ce(0x60a)][_0x51b2ce(0x855)](_0x51b2ce(0x1da))&&!_0x2c4f06)throw new se(_0x51b2ce(0x85c),_0x51b2ce(0x28e));try{let _0x36d3be=_0x584775['params'],_0x448d95=await we[_0x51b2ce(0x6d4)][_0x51b2ce(0x678)](_0x36d3be[_0x51b2ce(0x7c4)]);if(_0x448d95&&_0x448d95['apikey']===_0x2c4f06)return _0xd8f8a8();}catch{}throw new ce();}var Da={'jwt':Io,'apikey':To},mi=require('express'),E=require(a0_0xa27d39(0x2be)),C=(..._0x2b0876)=>{const _0x3dfa88=a0_0xa27d39;let _0xc9dc11={};return _0x2b0876[_0x3dfa88(0x888)](_0xe9a622=>_0xc9dc11[_0xe9a622]={'minLength':0x1,'description':_0x3dfa88(0x76c)+_0xe9a622+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x2b0876]}},'then':{'properties':_0xc9dc11}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0xa27d39(0x8e4)}},...C('instanceName')},mc={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'oldToken':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x3ac)],...C(a0_0xa27d39(0x3ac))},fc={'properties':{'key':{'type':a0_0xa27d39(0x3e2),'properties':{'id':{'type':a0_0xa27d39(0x8e4)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]}},'required':['id',a0_0xa27d39(0x5a2),a0_0xa27d39(0x58f)],...C('id',a0_0xa27d39(0x5a2))},'message':{'type':a0_0xa27d39(0x3e2)}}},ae={'properties':{'delay':{'type':a0_0xa27d39(0x209),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0xa27d39(0x8e4),'enum':[a0_0xa27d39(0x780),a0_0xa27d39(0x853),a0_0xa27d39(0x56f),a0_0xa27d39(0x7f9),a0_0xa27d39(0x35e)]}}},Z={'type':a0_0xa27d39(0x8e4),'description':'Invalid\x20format'},ka={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'text':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x558)],...C(a0_0xa27d39(0x558))}},'required':[a0_0xa27d39(0x58b),a0_0xa27d39(0x6d9)]},La={'type':'string','pattern':a0_0xa27d39(0x78e),'description':'Invalid\x20format'},wc={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...La},'options':{...ae},'textMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'text':{'type':a0_0xa27d39(0x8e4)}},'required':['text'],...C(a0_0xa27d39(0x558))}},'required':[a0_0xa27d39(0x58b),a0_0xa27d39(0x6d9)]},yc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...La},'options':{...ae},'mediaMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'mediatype':{'type':a0_0xa27d39(0x8e4),'enum':[a0_0xa27d39(0x475),'document',a0_0xa27d39(0x895),a0_0xa27d39(0x3a3)]},'media':{'type':a0_0xa27d39(0x8e4)},'fileName':{'type':a0_0xa27d39(0x8e4)},'caption':{'type':a0_0xa27d39(0x8e4)}},'required':['mediatype',a0_0xa27d39(0x5ff)],...C(a0_0xa27d39(0x2ef),'caption',a0_0xa27d39(0x5ff))}},'required':[a0_0xa27d39(0x322),'number']},Fa={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'image':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x475)],...C(a0_0xa27d39(0x475))}},'required':['stickerMessage',a0_0xa27d39(0x6d9)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'statusMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'type':{'type':'string','enum':[a0_0xa27d39(0x558),a0_0xa27d39(0x475),a0_0xa27d39(0x3a3),a0_0xa27d39(0x895)]},'content':{'type':'string'},'caption':{'type':a0_0xa27d39(0x8e4)},'backgroundColor':{'type':a0_0xa27d39(0x8e4)},'font':{'type':a0_0xa27d39(0x209),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xa27d39(0x7c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xa27d39(0x8e4),'pattern':'^\x5cd+','description':a0_0xa27d39(0x26c)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xa27d39(0x302),a0_0xa27d39(0x3d4)],...C(a0_0xa27d39(0x302),a0_0xa27d39(0x3d4))}},'required':['statusMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0xa27d39(0x475),a0_0xa27d39(0x356),a0_0xa27d39(0x895),a0_0xa27d39(0x3a3)]},'media':{'type':a0_0xa27d39(0x8e4)},'fileName':{'type':a0_0xa27d39(0x8e4)},'caption':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x3b0),a0_0xa27d39(0x5ff)],...C('fileName','caption','media')}},'required':[a0_0xa27d39(0x322),a0_0xa27d39(0x6d9)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'audio':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x3a3)],...C(a0_0xa27d39(0x3a3))}},'required':['audioMessage',a0_0xa27d39(0x6d9)]},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0xa27d39(0x6d9)},'values':{'type':a0_0xa27d39(0x7c2),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0xa27d39(0x5c9),a0_0xa27d39(0x52a)],...C(a0_0xa27d39(0x75e),a0_0xa27d39(0x5c9),a0_0xa27d39(0x52a))}},'required':[a0_0xa27d39(0x6d9),a0_0xa27d39(0x695)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'menuMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'text':{'type':a0_0xa27d39(0x8e4)},'choices':{'type':a0_0xa27d39(0x7c2),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...C(a0_0xa27d39(0x558),a0_0xa27d39(0x7bb))}},'required':[a0_0xa27d39(0x6d9),a0_0xa27d39(0x36f)]},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0xa27d39(0x8e4)},'description':{'type':'string'},'footerText':{'type':a0_0xa27d39(0x8e4)},'buttons':{'type':a0_0xa27d39(0x7c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xa27d39(0x3e2),'properties':{'buttonText':{'type':a0_0xa27d39(0x8e4)},'buttonId':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x7c6),a0_0xa27d39(0x4c1)],...C(a0_0xa27d39(0x7c6),a0_0xa27d39(0x4c1))}},'mediaMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'media':{'type':a0_0xa27d39(0x8e4)},'fileName':{'type':a0_0xa27d39(0x8e4)},'mediatype':{'type':a0_0xa27d39(0x8e4),'enum':[a0_0xa27d39(0x475),a0_0xa27d39(0x356),a0_0xa27d39(0x895)]}},'required':[a0_0xa27d39(0x5ff),a0_0xa27d39(0x3b0)],...C('media',a0_0xa27d39(0x2ef))}},'required':['title',a0_0xa27d39(0x655)],...C(a0_0xa27d39(0x632),a0_0xa27d39(0x61b))}},'required':[a0_0xa27d39(0x6d9),a0_0xa27d39(0x72b)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'latitude':{'type':a0_0xa27d39(0x6d9)},'longitude':{'type':a0_0xa27d39(0x6d9)},'name':{'type':a0_0xa27d39(0x8e4)},'address':{'type':a0_0xa27d39(0x8e4)}},'required':['latitude',a0_0xa27d39(0x885)],...C(a0_0xa27d39(0x75e),a0_0xa27d39(0x551))}},'required':[a0_0xa27d39(0x6d9),'locationMessage']},Wa={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0xa27d39(0x7c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xa27d39(0x3e2),'properties':{'title':{'type':a0_0xa27d39(0x8e4)},'rows':{'type':a0_0xa27d39(0x7c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xa27d39(0x3e2),'properties':{'title':{'type':a0_0xa27d39(0x8e4)},'description':{'type':a0_0xa27d39(0x8e4)},'rowId':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x632),a0_0xa27d39(0x430)],...C('title',a0_0xa27d39(0x430))}}},'required':[a0_0xa27d39(0x632),a0_0xa27d39(0x535)],...C(a0_0xa27d39(0x632))}}},'required':[a0_0xa27d39(0x632),a0_0xa27d39(0x61b),a0_0xa27d39(0x7c6),a0_0xa27d39(0x806)],...C('title','description','buttonText',a0_0xa27d39(0x654))}},'required':[a0_0xa27d39(0x6d9),'listMessage']},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':'array','items':{'type':a0_0xa27d39(0x3e2),'properties':{'fullName':{'type':a0_0xa27d39(0x8e4)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0xa27d39(0x359),a0_0xa27d39(0x284)],...C(a0_0xa27d39(0x359))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xa27d39(0x6d9),a0_0xa27d39(0x47b)]},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'key':{'type':a0_0xa27d39(0x3e2),'properties':{'id':{'type':a0_0xa27d39(0x8e4)},'remoteJid':{'type':a0_0xa27d39(0x8e4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0xa27d39(0x58f)],...C('id',a0_0xa27d39(0x5a2))},'reaction':{'type':'string'}},'required':[a0_0xa27d39(0x5e0),'reaction'],...C('reaction')}},'required':[a0_0xa27d39(0x72c)]},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0xa27d39(0x7c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xa27d39(0x8e4),'pattern':'^\x5cd+','description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0xa27d39(0x7c2),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xa27d39(0x8e4)},'fromMe':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xa27d39(0x8e4)}},'required':['id',a0_0xa27d39(0x58f),a0_0xa27d39(0x5a2)],...C('id',a0_0xa27d39(0x5a2))}}},'required':[a0_0xa27d39(0x52b)]},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0xa27d39(0x8e4),'enum':[a0_0xa27d39(0x873),a0_0xa27d39(0x35c)]},'profile':{'type':a0_0xa27d39(0x8e4),'enum':[a0_0xa27d39(0x873),a0_0xa27d39(0x7fb),a0_0xa27d39(0x3da),'none']},'status':{'type':a0_0xa27d39(0x8e4),'enum':[a0_0xa27d39(0x873),a0_0xa27d39(0x7fb),'contact_blacklist',a0_0xa27d39(0x35c)]},'online':{'type':'string','enum':[a0_0xa27d39(0x873),a0_0xa27d39(0x904)]},'last':{'type':a0_0xa27d39(0x8e4),'enum':[a0_0xa27d39(0x873),'contacts',a0_0xa27d39(0x3da),a0_0xa27d39(0x35c)]},'groupadd':{'type':'string','enum':[a0_0xa27d39(0x873),'contacts',a0_0xa27d39(0x3da),'none']}},'required':[a0_0xa27d39(0x296),a0_0xa27d39(0x3c3),a0_0xa27d39(0x492),a0_0xa27d39(0x90b),a0_0xa27d39(0x6a8),a0_0xa27d39(0x41c)],...C(a0_0xa27d39(0x296),a0_0xa27d39(0x3c3),'status',a0_0xa27d39(0x90b),'last',a0_0xa27d39(0x41c))}},'required':[a0_0xa27d39(0x28f)]},Xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0xa27d39(0x3e2),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xa27d39(0x8e4)},'fromMe':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0xa27d39(0x5a2)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0xa27d39(0x209),'minLength':0x1}},'required':['key'],...C(a0_0xa27d39(0x232))},'archive':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]}},'required':[a0_0xa27d39(0x766),'archive']},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0xa27d39(0x8e4)}},'required':['id',a0_0xa27d39(0x58f),a0_0xa27d39(0x5a2)],...C('id',a0_0xa27d39(0x5a2),a0_0xa27d39(0x1cf))},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0xa27d39(0x3e2),'properties':{'_id':{'type':a0_0xa27d39(0x8e4),'minLength':0x1},'pushName':{'type':a0_0xa27d39(0x8e4),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C('_id','id',a0_0xa27d39(0x3ad))}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'name':{'type':a0_0xa27d39(0x8e4)}},...C(a0_0xa27d39(0x75e))},si={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'status':{'type':a0_0xa27d39(0x8e4)}},...C('status')},De={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},ai={'type':'object','properties':{'wuid':{'type':a0_0xa27d39(0x8e4)},'name':{'type':'string'},'picture':{'type':a0_0xa27d39(0x8e4)},'status':{'type':a0_0xa27d39(0x8e4)},'isBusiness':{'type':a0_0xa27d39(0x5e1)}}},ii={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'where':{'type':a0_0xa27d39(0x3e2),'properties':{'_id':{'type':a0_0xa27d39(0x8e4),'minLength':0x1},'key':{'type':a0_0xa27d39(0x3e2),'if':{'propertyNames':{'enum':[a0_0xa27d39(0x58f),a0_0xa27d39(0x5a2),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0xa27d39(0x8e4),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0xa27d39(0x8e4),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0xa27d39(0x3e2)}},...C(a0_0xa27d39(0x580))},'limit':{'type':a0_0xa27d39(0x209)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'where':{'type':a0_0xa27d39(0x3e2),'properties':{'_id':{'type':a0_0xa27d39(0x8e4)},'remoteJid':{'type':a0_0xa27d39(0x8e4)},'id':{'type':a0_0xa27d39(0x8e4)},'fromMe':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0xa27d39(0x8b1),a0_0xa27d39(0x643),a0_0xa27d39(0x668),'DELIVERY_ACK',a0_0xa27d39(0x240),'PLAYED']}},...C(a0_0xa27d39(0x580),a0_0xa27d39(0x5a2),'id',a0_0xa27d39(0x492))},'limit':{'type':'integer'}}},oi={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'number':{...Z},'presence':{'type':'string','enum':['unavailable',a0_0xa27d39(0x853),a0_0xa27d39(0x56f),'recording',a0_0xa27d39(0x35e)]}},'required':['presence','number']},ri={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'subject':{'type':'string'},'description':{'type':a0_0xa27d39(0x8e4)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xa27d39(0x8e4),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0xa27d39(0x344),a0_0xa27d39(0x831)],...C(a0_0xa27d39(0x344),a0_0xa27d39(0x61b),'profilePicture')},Pe={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'groupJid':{'type':a0_0xa27d39(0x8e4),'pattern':a0_0xa27d39(0x547)}},'required':[a0_0xa27d39(0x3c1)],...C(a0_0xa27d39(0x3c1))},ni={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0xa27d39(0x761),a0_0xa27d39(0x676),a0_0xa27d39(0x2ac),a0_0xa27d39(0x772),a0_0xa27d39(0x2ff),a0_0xa27d39(0x31f)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0xa27d39(0x6f0),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0xa27d39(0x3c1),a0_0xa27d39(0x635),a0_0xa27d39(0x831)],...C(a0_0xa27d39(0x3c1),a0_0xa27d39(0x635))},ci={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xa27d39(0x8e4)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0xa27d39(0x372)],...C(a0_0xa27d39(0x3c1),a0_0xa27d39(0x372))},li={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'groupJid':{'type':a0_0xa27d39(0x8e4)},'image':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x3c1),'image'],...C(a0_0xa27d39(0x3c1),a0_0xa27d39(0x475))},ui={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'groupJid':{'type':a0_0xa27d39(0x8e4)},'description':{'type':'string'}},'required':[a0_0xa27d39(0x3c1),a0_0xa27d39(0x61b)],...C(a0_0xa27d39(0x3c1),a0_0xa27d39(0x61b))},di={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'groupJid':{'type':a0_0xa27d39(0x8e4)},'name':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x3c1),a0_0xa27d39(0x75e)],...C(a0_0xa27d39(0x3c1),a0_0xa27d39(0x75e))},pi={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'groupJid':{'type':a0_0xa27d39(0x8e4)},'setting':{'type':'string','enum':[a0_0xa27d39(0x2d0),'not_announcement',a0_0xa27d39(0x2a0),a0_0xa27d39(0x66b)]}},'required':['groupJid','setting'],...C('groupJid',a0_0xa27d39(0x65b))},hi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xa27d39(0x8e4)},'restrict':{'type':a0_0xa27d39(0x5e1)},'announce':{'type':a0_0xa27d39(0x5e1)},'memberAddMode':{'type':a0_0xa27d39(0x5e1)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0xa27d39(0x209),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':'string'},'image':{'type':a0_0xa27d39(0x8e4)}}},$s={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'inviteCode':{'type':a0_0xa27d39(0x8e4)}},'required':[a0_0xa27d39(0x42b)],...C(a0_0xa27d39(0x42b))},gi={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'url':{'type':a0_0xa27d39(0x8e4)},'enabled':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]}},'required':[a0_0xa27d39(0x63b),a0_0xa27d39(0x6c9)]},Sc={'$id':(0x0,E['v4'])(),'type':a0_0xa27d39(0x3e2),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xa27d39(0x5e1),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE','QRCODE_UPDATED',a0_0xa27d39(0x234),a0_0xa27d39(0x42c),a0_0xa27d39(0x3ae),a0_0xa27d39(0x6a6),a0_0xa27d39(0x538),a0_0xa27d39(0x47f),'CONTACTS_UPDATE',a0_0xa27d39(0x5b7),a0_0xa27d39(0x441),a0_0xa27d39(0x639),a0_0xa27d39(0x2dd),a0_0xa27d39(0x562),a0_0xa27d39(0x2ba),a0_0xa27d39(0x281),'GROUPS_UPDATE',a0_0xa27d39(0x8db)],...C('local_map',a0_0xa27d39(0x5d0),a0_0xa27d39(0x37f),a0_0xa27d39(0x234),a0_0xa27d39(0x42c),a0_0xa27d39(0x3ae),a0_0xa27d39(0x6a6),a0_0xa27d39(0x538),a0_0xa27d39(0x47f),'CONTACTS_UPDATE',a0_0xa27d39(0x5b7),a0_0xa27d39(0x441),a0_0xa27d39(0x639),a0_0xa27d39(0x2dd),a0_0xa27d39(0x562),a0_0xa27d39(0x2ba),a0_0xa27d39(0x281),a0_0xa27d39(0x3a2),'GROUP_PARTICIPANTS_UPDATE')},lt=class{},ut=class extends _{['getContactModelForOwner'](_0x501b9f){return oa(_0x501b9f);}async[a0_0xa27d39(0x45b)](_0x2fa82f){const _0x45b03c=a0_0xa27d39;if(_0x2fa82f[_0x45b03c(0x3a7)]!==0x0)try{return{'insertCount':(await this[_0x45b03c(0x754)](_0x2fa82f[0x0]['owner'])[_0x45b03c(0x648)]([..._0x2fa82f]))[_0x45b03c(0x3a7)]};}catch(_0x18aa6d){return _0x18aa6d;}}async[a0_0xa27d39(0x5ce)](_0x43ba7f,_0x42e039){const _0x37cb5f=a0_0xa27d39;try{return{'deletedCount':(await this[_0x37cb5f(0x754)](_0x42e039)[_0x37cb5f(0x73a)]({..._0x43ba7f['where']}))[_0x37cb5f(0x39d)]};}catch(_0x501223){return{'error':_0x501223?.[_0x37cb5f(0x412)]()};}}async[a0_0xa27d39(0x8e1)](_0x17e408,_0x2d5726){const _0x41c216=a0_0xa27d39;try{if(_0x17e408[_0x41c216(0x3a7)]===0x0)return;let _0x8d2e82=this['getContactModelForOwner'](_0x2d5726),_0x3d7b06=_0x17e408[_0x41c216(0x59b)](_0x2917b4=>({'updateOne':{'filter':{'_id':_0x2917b4['_id'],'owner':_0x2d5726},'update':{..._0x2917b4}}})),{modifiedCount:_0x14dd58}=await _0x8d2e82['bulkWrite'](_0x3d7b06);return{'insertCount':_0x14dd58};}catch{return;}}async['find'](_0x3e55cd,_0x2091a5){const _0xcac036=a0_0xa27d39;try{let _0x37ced8=this[_0xcac036(0x754)](_0x2091a5),_0x1d7ec7=I(_0x3e55cd['where']);return await _0x37ced8[_0xcac036(0x678)](_0x1d7ec7)[_0xcac036(0x852)](_0x3e55cd?.[_0xcac036(0x852)]??0x0)['lean']();}catch{return[];}}async[a0_0xa27d39(0x25d)](_0x230418,_0x3887c4){const _0x2973eb=a0_0xa27d39;try{let _0x57d651=this['getContactModelForOwner'](_0x3887c4),_0x52e9c3=I(_0x230418[_0x2973eb(0x66d)]);return await _0x57d651[_0x2973eb(0x25d)](_0x52e9c3)[_0x2973eb(0x2a8)]();}catch{return null;}}async['deleteAll'](_0x22dc06){const _0x563773=a0_0xa27d39;try{return await this[_0x563773(0x754)](_0x22dc06)[_0x563773(0x89e)]['drop'](),{'success':!0x0};}catch(_0x31d49e){return console['error'](_0x31d49e),{'success':!0x1,'error':_0x31d49e};}}},dt=require('jsonschema'),Ic=require(a0_0xa27d39(0x350)),Rs=new $('Validate'),G=class{['routerPath'](_0x331a11,_0xb660fe=!0x0){const _0x913ac0=a0_0xa27d39;let _0x3b65f5='/'+_0x331a11;return _0xb660fe&&(_0x3b65f5+=_0x913ac0(0x58a)),_0x3b65f5;}async['dataValidate'](_0x55205c){const _0xbbef8d=a0_0xa27d39;let {request:_0x2acc75,schema:_0x27de6b,ClassRef:_0x3df1bf,execute:_0x2cc8f9}=_0x55205c,_0xcfe1c5=new _0x3df1bf(),_0x3d20b1=_0x2acc75[_0xbbef8d(0x5f1)],_0x18299a=_0x2acc75[_0xbbef8d(0x5c4)];_0x2acc75?.[_0xbbef8d(0x640)]&&Object[_0xbbef8d(0x537)](_0x2acc75[_0xbbef8d(0x640)])[_0xbbef8d(0x3a7)]>0x0&&Object[_0xbbef8d(0x1f5)](_0x18299a,_0x2acc75[_0xbbef8d(0x640)]),_0x2acc75['originalUrl'][_0xbbef8d(0x855)]('/instance/create')&&Object[_0xbbef8d(0x1f5)](_0x18299a,_0x3d20b1),Object[_0xbbef8d(0x1f5)](_0xcfe1c5,_0x3d20b1);let _0x5a0fbd=_0x27de6b?(0x0,dt['validate'])(_0xcfe1c5,_0x27de6b):{'valid':!0x0,'errors':[]};if(!_0x5a0fbd[_0xbbef8d(0x641)]){let _0xf98764=_0x5a0fbd['errors'][_0xbbef8d(0x59b)](({property:_0x35f734,stack:_0xbac8f7,schema:_0x114437})=>{const _0x4da57d=_0xbbef8d;let _0x4952da;return _0x114437[_0x4da57d(0x61b)]?_0x4952da=_0x114437[_0x4da57d(0x61b)]:_0x4952da=_0xbac8f7[_0x4da57d(0x817)](_0x4da57d(0x31a),''),{'property':_0x35f734[_0x4da57d(0x817)](_0x4da57d(0x31a),''),'message':_0x4952da};});throw Rs[_0xbbef8d(0x664)]([..._0xf98764]),new m(..._0xf98764);}return await _0x2cc8f9(_0x18299a,_0xcfe1c5);}async[a0_0xa27d39(0x3c5)](_0x490db0){const _0x25febd=a0_0xa27d39;let {request:_0x260aca,ClassRef:_0x106de3,schema:_0x5a686b,execute:_0x10d0de}=_0x490db0,_0x516261=_0x260aca[_0x25febd(0x640)];if(!_0x516261?.[_0x25febd(0x3c1)])throw new m(_0x25febd(0x7ae),_0x25febd(0x342));let _0x500c6a=_0x260aca[_0x25febd(0x5c4)],_0x1bc323=_0x260aca[_0x25febd(0x5f1)],_0x1943cf=new _0x106de3();Object[_0x25febd(0x1f5)](_0x1bc323,_0x516261),Object[_0x25febd(0x1f5)](_0x1943cf,_0x1bc323);let _0x184e7e=(0x0,dt[_0x25febd(0x560)])(_0x1943cf,_0x5a686b);if(!_0x184e7e[_0x25febd(0x641)]){let _0x27a29e=_0x184e7e[_0x25febd(0x762)][_0x25febd(0x59b)](({property:_0x59b206,stack:_0x5b01f9,schema:_0x5be388})=>{const _0x420b0c=_0x25febd;let _0x52e2ed;return _0x5be388[_0x420b0c(0x61b)]?_0x52e2ed=_0x5be388['description']:_0x52e2ed=_0x5b01f9[_0x420b0c(0x817)](_0x420b0c(0x31a),''),{'property':_0x59b206['replace']('instance.',''),'message':_0x52e2ed};});throw Rs['error']([..._0x27a29e]),new m(..._0x27a29e);}return await _0x10d0de(_0x500c6a,_0x1943cf);}async[a0_0xa27d39(0x43f)](_0x3e41aa){const _0x3acfca=a0_0xa27d39;let {request:_0x223e95,ClassRef:_0x2066c6,schema:_0x5622f2,execute:_0x404905}=_0x3e41aa,_0x17004a=_0x223e95[_0x3acfca(0x5f1)];if(!_0x17004a?.[_0x3acfca(0x42b)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x1adb81=_0x223e95[_0x3acfca(0x5c4)],_0x56bad5=_0x223e95[_0x3acfca(0x5f1)],_0x2d25a0=new _0x2066c6();Object[_0x3acfca(0x1f5)](_0x56bad5,_0x17004a),Object[_0x3acfca(0x1f5)](_0x2d25a0,_0x56bad5);let _0x204c54=(0x0,dt[_0x3acfca(0x560)])(_0x2d25a0,_0x5622f2);if(!_0x204c54[_0x3acfca(0x641)]){let _0x5793a4=_0x204c54['errors']['map'](({property:_0x55b5ed,stack:_0xb88c3b,schema:_0x479eb9})=>{const _0x437372=_0x3acfca;let _0x5a8d38;return _0x479eb9[_0x437372(0x61b)]?_0x5a8d38=_0x479eb9[_0x437372(0x61b)]:_0x5a8d38=_0xb88c3b[_0x437372(0x817)](_0x437372(0x31a),''),{'property':_0x55b5ed['replace'](_0x437372(0x31a),''),'message':_0x5a8d38};});throw Rs['error']([..._0x5793a4]),new m(..._0x5793a4);}return await _0x404905(_0x1adb81,_0x2d25a0);}},M=class{},Gc=new $(a0_0xa27d39(0x458)),pt=class extends G{constructor(..._0x2442c3){const _0x421409=a0_0xa27d39;super(),this[_0x421409(0x7cc)]=(0x0,mi['Router'])(),this[_0x421409(0x7cc)][_0x421409(0x30c)](this[_0x421409(0x8b0)](_0x421409(0x630)),..._0x2442c3,async(_0x3a2ab6,_0x393b13)=>{const _0x2eabc3=_0x421409;let _0x3e0495=await this[_0x2eabc3(0x496)]({'request':_0x3a2ab6,'schema':oi,'ClassRef':et,'execute':(_0x3af452,_0x4ac92f)=>k[_0x2eabc3(0x630)](_0x3af452,_0x4ac92f)});return _0x393b13['status'](0xc9)['json'](_0x3e0495);})[_0x421409(0x30c)](this[_0x421409(0x8b0)]('whatsappNumbers'),..._0x2442c3,async(_0x3976ab,_0x339292)=>{const _0x390a4d=_0x421409;let _0x298294=await this['dataValidate']({'request':_0x3976ab,'schema':Ka,'ClassRef':tt,'execute':(_0x1bd5ae,_0x5d7888)=>k[_0x390a4d(0x286)](_0x1bd5ae,_0x5d7888)});return _0x339292[_0x390a4d(0x492)](0xc9)[_0x390a4d(0x7fe)](_0x298294);})['post'](this[_0x421409(0x8b0)](_0x421409(0x363)),..._0x2442c3,async(_0x1ba59d,_0x2c7624)=>{const _0x5622c8=_0x421409;let _0x4e5268=await this[_0x5622c8(0x496)]({'request':_0x1ba59d,'schema':v,'ClassRef':M,'execute':(_0x4b90ea,_0x2acd35)=>k['editChat'](_0x4b90ea,_0x2acd35)});return _0x2c7624['status'](0xc9)[_0x5622c8(0x7fe)](_0x4e5268);})['put'](this[_0x421409(0x8b0)](_0x421409(0x3cc)),..._0x2442c3,async(_0x574df4,_0x14872b)=>{const _0x10a7c7=_0x421409;let _0x57de04=await this[_0x10a7c7(0x496)]({'request':_0x574df4,'schema':Qa,'ClassRef':it,'execute':(_0x3ceb1e,_0x3e0fa9)=>k[_0x10a7c7(0x43b)](_0x3ceb1e,_0x3e0fa9)});return _0x14872b[_0x10a7c7(0x492)](0xc9)['json'](_0x57de04);})[_0x421409(0x2e5)](this[_0x421409(0x8b0)](_0x421409(0x516)),..._0x2442c3,async(_0x183881,_0x59b3e4)=>{const _0x339107=_0x421409;let _0xfb2869=await this[_0x339107(0x496)]({'request':_0x183881,'schema':Xa,'ClassRef':ot,'execute':(_0x160698,_0x1bc60f)=>k['archiveChat'](_0x160698,_0x1bc60f)});return _0x59b3e4[_0x339107(0x492)](0xc9)[_0x339107(0x7fe)](_0xfb2869);})[_0x421409(0x5ce)](this[_0x421409(0x8b0)](_0x421409(0x3f9)),..._0x2442c3,async(_0x35740,_0x12df21)=>{const _0x3ef6a9=_0x421409;let _0x4d3294=await this[_0x3ef6a9(0x496)]({'request':_0x35740,'schema':Za,'ClassRef':nt,'execute':(_0x2c5787,_0x4c6ce0)=>k['deleteMessage'](_0x2c5787,_0x4c6ce0)});return _0x12df21['status'](0xc9)['json'](_0x4d3294);})[_0x421409(0x30c)](this[_0x421409(0x8b0)](_0x421409(0x57c)),..._0x2442c3,async(_0x1e9483,_0x46e255)=>{const _0x317ff6=_0x421409;let _0x110d53=await this[_0x317ff6(0x496)]({'request':_0x1e9483,'schema':De,'ClassRef':_e,'execute':(_0x531cbe,_0x96e45a)=>k[_0x317ff6(0x6c2)](_0x531cbe,_0x96e45a)});return _0x46e255[_0x317ff6(0x492)](0xc8)[_0x317ff6(0x7fe)](_0x110d53);})['post'](this[_0x421409(0x8b0)]('fetchProfile'),..._0x2442c3,async(_0x2d38d1,_0x51f8c7)=>{const _0x113357=_0x421409;let _0x3a9657=await this[_0x113357(0x496)]({'request':_0x2d38d1,'schema':ai,'ClassRef':_e,'execute':(_0x34dd31,_0x4e035f)=>k[_0x113357(0x37c)](_0x34dd31,_0x4e035f)});return _0x51f8c7['status'](0xc8)[_0x113357(0x7fe)](_0x3a9657);})['post'](this[_0x421409(0x8b0)]('findContacts'),..._0x2442c3,async(_0x4aa842,_0x241e4c)=>{const _0x44ffd4=_0x421409;let _0x9bae12=await this[_0x44ffd4(0x496)]({'request':_0x4aa842,'schema':ei,'ClassRef':lt,'execute':(_0x789370,_0x5a93cf)=>k['fetchContacts'](_0x789370,_0x5a93cf)});return _0x241e4c[_0x44ffd4(0x492)](0xc8)[_0x44ffd4(0x7fe)](_0x9bae12);})[_0x421409(0x30c)](this[_0x421409(0x8b0)](_0x421409(0x89d)),..._0x2442c3,async(_0x283971,_0x22df42)=>{const _0x13cdd6=_0x421409;let _0x493884=await this[_0x13cdd6(0x496)]({'request':_0x283971,'schema':null,'ClassRef':Object,'execute':(_0x4c1ab0,_0xf72094)=>k['getBase64FromMediaMessage'](_0x4c1ab0,_0xf72094)});return _0x22df42[_0x13cdd6(0x492)](0xc9)['json'](_0x493884);})['post'](this[_0x421409(0x8b0)](_0x421409(0x71c)),..._0x2442c3,async(_0x3a4bd0,_0x90032c)=>{const _0x75dafa=_0x421409;let _0x1d9dc9=await this[_0x75dafa(0x496)]({'request':_0x3a4bd0,'schema':ii,'ClassRef':Xe,'execute':(_0x4a68e1,_0xab60c3)=>k[_0x75dafa(0x868)](_0x4a68e1,_0xab60c3)});return _0x90032c[_0x75dafa(0x492)](0xc8)[_0x75dafa(0x7fe)](_0x1d9dc9);})[_0x421409(0x711)](this[_0x421409(0x8b0)](_0x421409(0x786)),..._0x2442c3,async(_0x2571df,_0x5ba04f)=>{const _0x1c7062=_0x421409;let _0x1d38be=await this[_0x1c7062(0x496)]({'request':_0x2571df,'schema':null,'ClassRef':M,'execute':_0x47563c=>k[_0x1c7062(0x4fe)](_0x47563c)});return _0x5ba04f['status'](0xc8)[_0x1c7062(0x7fe)](_0x1d38be);})[_0x421409(0x711)](this[_0x421409(0x8b0)](_0x421409(0x5e4)),..._0x2442c3,async(_0x26508b,_0x1d143d)=>{const _0x3065e6=_0x421409;let _0x3bb537=await this['dataValidate']({'request':_0x26508b,'schema':null,'ClassRef':M,'execute':_0x4180cb=>k[_0x3065e6(0x42d)](_0x4180cb)});return _0x1d143d[_0x3065e6(0x492)](0xc8)['json'](_0x3bb537);})[_0x421409(0x2e5)](this[_0x421409(0x8b0)](_0x421409(0x8e8)),..._0x2442c3,async(_0x4c9cd9,_0x159409)=>{const _0xb9c103=_0x421409;let _0x50207e=await this[_0xb9c103(0x496)]({'request':_0x4c9cd9,'schema':null,'ClassRef':Array,'execute':(_0x5bed28,_0x546c2f)=>k['importChats'](_0x5bed28,_0x546c2f)});return _0x159409[_0xb9c103(0x492)](0xc8)[_0xb9c103(0x7fe)](_0x50207e);})['get'](this['routerPath'](_0x421409(0x708)),..._0x2442c3,async(_0x1a4a31,_0x4bbf56)=>{const _0x22f21b=_0x421409;let _0x2ebc28=await this[_0x22f21b(0x496)]({'request':_0x1a4a31,'schema':null,'ClassRef':M,'execute':_0x2ebfa3=>k[_0x22f21b(0x708)](_0x2ebfa3)});return _0x4bbf56['status'](0xc8)['json'](_0x2ebc28);})[_0x421409(0x2e5)](this[_0x421409(0x8b0)](_0x421409(0x23e)),..._0x2442c3,async(_0x3e26a6,_0x1ae4fd)=>{const _0x4eb25f=_0x421409;let _0x102b19=await this['dataValidate']({'request':_0x3e26a6,'schema':Ya,'ClassRef':rt,'execute':(_0x45deac,_0x2ebc33)=>k[_0x4eb25f(0x23e)](_0x45deac,_0x2ebc33)});return _0x1ae4fd['status'](0xc9)[_0x4eb25f(0x7fe)](_0x102b19);})[_0x421409(0x30c)](this['routerPath']('fetchBusinessProfile'),..._0x2442c3,async(_0x4b3c44,_0x1fe850)=>{const _0x3fde15=_0x421409;let _0x13c25b=await this['dataValidate']({'request':_0x4b3c44,'schema':De,'ClassRef':ve,'execute':(_0x3453fd,_0x42a9b7)=>k[_0x3fde15(0x8cf)](_0x3453fd,_0x42a9b7)});return _0x1fe850['status'](0xc8)[_0x3fde15(0x7fe)](_0x13c25b);})[_0x421409(0x30c)](this['routerPath']('updateProfileName'),..._0x2442c3,async(_0x52337c,_0x1b3fbf)=>{const _0x1e6184=_0x421409;let _0x331018=await this[_0x1e6184(0x496)]({'request':_0x52337c,'schema':ti,'ClassRef':st,'execute':(_0x3e60fb,_0x4576ec)=>k['updateProfileName'](_0x3e60fb,_0x4576ec)});return _0x1b3fbf[_0x1e6184(0x492)](0xc8)[_0x1e6184(0x7fe)](_0x331018);})[_0x421409(0x30c)](this[_0x421409(0x8b0)]('updateProfileStatus'),..._0x2442c3,async(_0x2a381b,_0xe97909)=>{const _0x1b8764=_0x421409;let _0x4d80a9=await this[_0x1b8764(0x496)]({'request':_0x2a381b,'schema':si,'ClassRef':at,'execute':(_0x4f7849,_0x5a409e)=>k[_0x1b8764(0x3d2)](_0x4f7849,_0x5a409e)});return _0xe97909[_0x1b8764(0x492)](0xc8)[_0x1b8764(0x7fe)](_0x4d80a9);})[_0x421409(0x2e5)](this[_0x421409(0x8b0)](_0x421409(0x7e1)),..._0x2442c3,async(_0xd95f6,_0x1732cc)=>{const _0x397344=_0x421409;let _0x3a7b6f=await this[_0x397344(0x496)]({'request':_0xd95f6,'schema':De,'ClassRef':ve,'execute':(_0xeb66f8,_0x3a92ed)=>k[_0x397344(0x7e1)](_0xeb66f8,_0x3a92ed)});return _0x1732cc[_0x397344(0x492)](0xc8)[_0x397344(0x7fe)](_0x3a7b6f);})[_0x421409(0x5ce)](this[_0x421409(0x8b0)](_0x421409(0x880)),..._0x2442c3,async(_0x48738c,_0x1cd204)=>{const _0x185b24=_0x421409;let _0x23d06b=await this[_0x185b24(0x496)]({'request':_0x48738c,'schema':De,'ClassRef':ve,'execute':(_0x2fff07,_0x5ec683)=>k[_0x185b24(0x880)](_0x2fff07,_0x5ec683)});return _0x1cd204[_0x185b24(0x492)](0xc8)[_0x185b24(0x7fe)](_0x23d06b);});}},fi=require(a0_0xa27d39(0x499)),ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},yt=class{},ie=class{},ke=class{},bt=class extends ie{},St=class extends ie{},Mt=class extends G{constructor(..._0x5a99be){const _0x474767=a0_0xa27d39;super(),this[_0x474767(0x7cc)]=(0x0,fi[_0x474767(0x748)])(),this[_0x474767(0x7cc)][_0x474767(0x30c)](this[_0x474767(0x8b0)](_0x474767(0x5bc)),..._0x5a99be,async(_0xea75f9,_0x5e3641)=>{const _0xfa95cf=_0x474767;let _0x2181cb=await this[_0xfa95cf(0x496)]({'request':_0xea75f9,'schema':ri,'ClassRef':ht,'execute':(_0x2e2e75,_0x4a9ec8)=>V[_0xfa95cf(0x4a0)](_0x2e2e75,_0x4a9ec8)});_0x5e3641[_0xfa95cf(0x492)](0xc9)[_0xfa95cf(0x7fe)](_0x2181cb);})['put'](this[_0x474767(0x8b0)](_0x474767(0x8ee)),..._0x5a99be,async(_0x43d094,_0x32c7b7)=>{const _0x2df24=_0x474767;let _0x39d0f1=await this['groupValidate']({'request':_0x43d094,'schema':li,'ClassRef':gt,'execute':(_0x309cac,_0x59b0d4)=>V[_0x2df24(0x8ee)](_0x309cac,_0x59b0d4)});_0x32c7b7[_0x2df24(0x492)](0xc9)[_0x2df24(0x7fe)](_0x39d0f1);})[_0x474767(0x2e5)](this[_0x474767(0x8b0)](_0x474767(0x75b)),..._0x5a99be,async(_0x535c09,_0x2e9ea9)=>{const _0x4c0bfc=_0x474767;let _0x30dfb2=await this[_0x4c0bfc(0x3c5)]({'request':_0x535c09,'schema':ui,'ClassRef':mt,'execute':(_0x2770c5,_0x1fef3)=>V[_0x4c0bfc(0x75b)](_0x2770c5,_0x1fef3)});_0x2e9ea9[_0x4c0bfc(0x492)](0xc9)[_0x4c0bfc(0x7fe)](_0x30dfb2);})['put'](this[_0x474767(0x8b0)](_0x474767(0x8f7)),..._0x5a99be,async(_0x49df9d,_0x3c2394)=>{const _0x322542=_0x474767;let _0x2aa03d=await this[_0x322542(0x3c5)]({'request':_0x49df9d,'schema':di,'ClassRef':ft,'execute':(_0x31b9eb,_0x420880)=>V[_0x322542(0x8f7)](_0x31b9eb,_0x420880)});_0x3c2394[_0x322542(0x492)](0xc9)[_0x322542(0x7fe)](_0x2aa03d);})[_0x474767(0x2e5)](this[_0x474767(0x8b0)](_0x474767(0x5db)),..._0x5a99be,async(_0x216f80,_0x369358)=>{const _0x18a3c6=_0x474767;let _0x1b8e12=await this['groupValidate']({'request':_0x216f80,'schema':hi,'ClassRef':yt,'execute':(_0x1a99f8,_0x3a7a82)=>V[_0x18a3c6(0x5db)](_0x1a99f8,_0x3a7a82)});_0x369358[_0x18a3c6(0x492)](0xc9)[_0x18a3c6(0x7fe)](_0x1b8e12);})[_0x474767(0x2e5)](this['routerPath'](_0x474767(0x756)),..._0x5a99be,async(_0x5eef70,_0x364a4e)=>{const _0x1fc983=_0x474767;let _0x27245d=await this[_0x1fc983(0x3c5)]({'request':_0x5eef70,'schema':pi,'ClassRef':wt,'execute':(_0x4cba22,_0x48d363)=>V[_0x1fc983(0x756)](_0x4cba22,_0x48d363)});_0x364a4e[_0x1fc983(0x492)](0xc9)['json'](_0x27245d);})[_0x474767(0x2e5)](this[_0x474767(0x8b0)](_0x474767(0x4db)),..._0x5a99be,async(_0x499bcd,_0xf0b6d7)=>{const _0x18d14b=_0x474767;let _0x3a2251=await this['groupValidate']({'request':_0x499bcd,'schema':ci,'ClassRef':St,'execute':(_0x595660,_0x201c44)=>V[_0x18d14b(0x4db)](_0x595660,_0x201c44)});_0xf0b6d7[_0x18d14b(0x492)](0xc9)[_0x18d14b(0x7fe)](_0x3a2251);})[_0x474767(0x711)](this[_0x474767(0x8b0)](_0x474767(0x576)),..._0x5a99be,async(_0x1d7100,_0x2fb2ff)=>{const _0x505004=_0x474767;let _0xb33e4f=await this[_0x505004(0x3c5)]({'request':_0x1d7100,'schema':Pe,'ClassRef':ie,'execute':(_0x5b8138,_0x545085)=>V[_0x505004(0x2b6)](_0x5b8138,_0x545085)});_0x2fb2ff[_0x505004(0x492)](0xc8)[_0x505004(0x7fe)](_0xb33e4f);})[_0x474767(0x711)](this[_0x474767(0x8b0)](_0x474767(0x354)),..._0x5a99be,async(_0x2b020d,_0x468dcd)=>{const _0x4a1f52=_0x474767;let _0x6f782c=await this[_0x4a1f52(0x496)]({'request':_0x2b020d,'schema':v,'ClassRef':M,'execute':_0x16a25d=>V[_0x4a1f52(0x354)](_0x16a25d)});_0x468dcd['status'](0xc8)[_0x4a1f52(0x7fe)](_0x6f782c);})[_0x474767(0x711)](this[_0x474767(0x8b0)](_0x474767(0x831)),..._0x5a99be,async(_0x5cc03d,_0x202a5e)=>{const _0x5d7917=_0x474767;let _0x3bef39=await this[_0x5d7917(0x3c5)]({'request':_0x5cc03d,'schema':Pe,'ClassRef':ie,'execute':(_0x526f7d,_0xd6de5f)=>V[_0x5d7917(0x8d2)](_0x526f7d,_0xd6de5f)});_0x202a5e[_0x5d7917(0x492)](0xc8)[_0x5d7917(0x7fe)](_0x3bef39);})[_0x474767(0x711)](this[_0x474767(0x8b0)](_0x474767(0x42b)),..._0x5a99be,async(_0x3f1ab3,_0x233692)=>{const _0x37f42e=_0x474767;let _0x4740d1=await this[_0x37f42e(0x3c5)]({'request':_0x3f1ab3,'schema':Pe,'ClassRef':ie,'execute':(_0x581a78,_0x316381)=>V[_0x37f42e(0x42b)](_0x581a78,_0x316381)});_0x233692['status'](0xc8)['json'](_0x4740d1);})['post'](this[_0x474767(0x8b0)](_0x474767(0x2f4)),..._0x5a99be,async(_0x5e8c90,_0x5e2e86)=>{const _0x4f164b=_0x474767;let _0x5b960e=await this[_0x4f164b(0x43f)]({'request':_0x5e8c90,'schema':$s,'ClassRef':ke,'execute':(_0x417267,_0x20487c)=>V['groupGetInviteInfo'](_0x417267,_0x20487c)});_0x5e2e86[_0x4f164b(0x492)](0xc9)[_0x4f164b(0x7fe)](_0x5b960e);})['put'](this[_0x474767(0x8b0)](_0x474767(0x8aa)),..._0x5a99be,async(_0x29bd93,_0x53bb80)=>{const _0x84f8a=_0x474767;let _0x1741f7=await this[_0x84f8a(0x43f)]({'request':_0x29bd93,'schema':$s,'ClassRef':ke,'execute':(_0x37098f,_0x580dcc)=>V[_0x84f8a(0x8aa)](_0x37098f,_0x580dcc)});_0x53bb80[_0x84f8a(0x492)](0xc9)[_0x84f8a(0x7fe)](_0x1741f7);})['put'](this[_0x474767(0x8b0)]('revokeInviteCode'),..._0x5a99be,async(_0xa736ce,_0x1427da)=>{const _0x2b7025=_0x474767;let _0x5b707d=await this[_0x2b7025(0x3c5)]({'request':_0xa736ce,'schema':Pe,'ClassRef':ie,'execute':(_0x12141b,_0x1cd3ed)=>V[_0x2b7025(0x498)](_0x12141b,_0x1cd3ed)});_0x1427da['status'](0xc9)[_0x2b7025(0x7fe)](_0x5b707d);})[_0x474767(0x2e5)](this[_0x474767(0x8b0)](_0x474767(0x619)),..._0x5a99be,async(_0x18af21,_0x478d01)=>{const _0x219f2e=_0x474767;let _0x50d73f=await this[_0x219f2e(0x3c5)]({'request':_0x18af21,'schema':ni,'ClassRef':bt,'execute':(_0xa021ca,_0x11953d)=>V[_0x219f2e(0x6cf)](_0xa021ca,_0x11953d)});_0x478d01['status'](0xc9)[_0x219f2e(0x7fe)](_0x50d73f);})[_0x474767(0x5ce)](this['routerPath'](_0x474767(0x35f)),..._0x5a99be,async(_0xd88ad,_0x5ce12f)=>{const _0x24e79d=_0x474767;let _0x5e0594=await this[_0x24e79d(0x3c5)]({'request':_0xd88ad,'schema':{},'ClassRef':ie,'execute':(_0x23f821,_0x34745d)=>V[_0x24e79d(0x35f)](_0x23f821,_0x34745d)});_0x5ce12f[_0x24e79d(0x492)](0xc8)['json'](_0x5e0594);});}},wi=require(a0_0xa27d39(0x499)),Ct=class extends G{constructor(_0x2f6d14,..._0xeeb130){const _0x183031=a0_0xa27d39;super(),this[_0x183031(0x44e)]=_0x2f6d14,this[_0x183031(0x7cc)]=(0x0,wi['Router'])();let _0x1cd29d=_0x2f6d14[_0x183031(0x711)]('AUTHENTICATION');this['router'][_0x183031(0x30c)](_0x183031(0x6b6),..._0xeeb130,async(_0x3cdd66,_0x5c7084)=>{const _0x1ea38f=_0x183031;let {instanceName:_0x3a9002,apikey:_0x576d40,number:_0x2ff48f}=_0x3cdd66[_0x1ea38f(0x5f1)],_0x27c1a5=await he[_0x1ea38f(0x7ac)]({'instanceName':_0x3a9002,'apikey':_0x576d40,'number':_0x2ff48f});return _0x5c7084['status'](0xc9)['json'](_0x27c1a5);})[_0x183031(0x2e5)](this[_0x183031(0x8b0)](_0x183031(0x63c)),..._0xeeb130,async(_0x52007e,_0x1e8e18)=>{const _0x40fa0f=_0x183031;let _0x4debe3=await this[_0x40fa0f(0x496)]({'request':_0x52007e,'schema':v,'ClassRef':M,'execute':_0x558809=>he[_0x40fa0f(0x517)](_0x558809)});return _0x1e8e18[_0x40fa0f(0x492)](0xc8)[_0x40fa0f(0x7fe)](_0x4debe3);})[_0x183031(0x711)](this[_0x183031(0x8b0)](_0x183031(0x3b2)),..._0xeeb130,async(_0x3a9cc1,_0x56a7a5)=>{const _0x3ed07d=_0x183031;let _0x48414d=await this[_0x3ed07d(0x496)]({'request':_0x3a9cc1,'schema':v,'ClassRef':M,'execute':_0x58be0b=>he['connectToWhatsappController'](_0x58be0b)});return _0x56a7a5[_0x3ed07d(0x492)](0xc8)[_0x3ed07d(0x7fe)](_0x48414d);})[_0x183031(0x711)](this['routerPath']('connectionState'),..._0xeeb130,async(_0x27ba95,_0x5dea9b)=>{const _0x434550=_0x183031;let _0x16fed2=await this[_0x434550(0x496)]({'request':_0x27ba95,'schema':v,'ClassRef':M,'execute':_0x1b887b=>he[_0x434550(0x61f)](_0x1b887b)});return _0x5dea9b[_0x434550(0x492)](0xc8)[_0x434550(0x7fe)](_0x16fed2);})[_0x183031(0x711)](this['routerPath'](_0x183031(0x5e5),!0x1),..._0xeeb130,async(_0x566257,_0x390189)=>{const _0xfc788b=_0x183031;let _0x458991=await this[_0xfc788b(0x496)]({'request':_0x566257,'schema':null,'ClassRef':M,'execute':_0x2754b9=>he['fetchInstances'](_0x2754b9)});return _0x390189[_0xfc788b(0x492)](0xc8)['json'](_0x458991);})[_0x183031(0x5ce)](this[_0x183031(0x8b0)]('logout'),..._0xeeb130,async(_0x5a3855,_0x4b97c5)=>{const _0x54147c=_0x183031;let _0x401723=await this[_0x54147c(0x496)]({'request':_0x5a3855,'schema':v,'ClassRef':M,'execute':_0xf700c9=>he[_0x54147c(0x7af)](_0xf700c9)});return _0x4b97c5[_0x54147c(0x492)](0xc8)['json'](_0x401723);})[_0x183031(0x5ce)](this[_0x183031(0x8b0)](_0x183031(0x5ce)),..._0xeeb130,async(_0x5e1b5f,_0x77cc34)=>{const _0x2b45ce=_0x183031;let _0x2fac93=await this[_0x2b45ce(0x496)]({'request':_0x5e1b5f,'schema':v,'ClassRef':M,'execute':_0x45997b=>he['deleteInstance'](_0x45997b)});return _0x77cc34[_0x2b45ce(0x492)](0xc8)[_0x2b45ce(0x7fe)](_0x2fac93);});}},yi=require(a0_0xa27d39(0x499)),As=class{},Y=class extends As{},Et=class extends Y{},vt=class extends Y{},Nt=class extends Y{},$t=class extends Y{},Le=class extends Y{},Rt=class extends Y{},At=class extends Y{},It=class extends Y{},Tt=class extends Y{},Ot=class extends Y{},_t=class{},xt=class extends G{constructor(..._0xed816e){const _0x2a81f8=a0_0xa27d39;super(),this[_0x2a81f8(0x7cc)]=(0x0,yi[_0x2a81f8(0x748)])(),this[_0x2a81f8(0x7cc)][_0x2a81f8(0x30c)](this[_0x2a81f8(0x8b0)](_0x2a81f8(0x666)),..._0xed816e,async(_0x298b1d,_0xb44be7)=>{const _0x688f2d=_0x2a81f8;let _0x155dc7=await this['dataValidate']({'request':_0x298b1d,'schema':ka,'ClassRef':Et,'execute':(_0x4204da,_0x53b6a3)=>H[_0x688f2d(0x666)](_0x4204da,_0x53b6a3)});return _0xb44be7['status'](0xc9)[_0x688f2d(0x7fe)](_0x155dc7);})['post'](this['routerPath'](_0x2a81f8(0x70e)),..._0xed816e,async(_0x2757c9,_0x2cea4f)=>{const _0x5244b5=_0x2a81f8;let _0x5166ab=await this[_0x5244b5(0x496)]({'request':_0x2757c9,'schema':ja,'ClassRef':Le,'execute':(_0x1bd193,_0x197b18)=>H['sendMedia'](_0x1bd193,_0x197b18)});return _0x2cea4f[_0x5244b5(0x492)](0xc9)['json'](_0x5166ab);})[_0x2a81f8(0x30c)](this[_0x2a81f8(0x8b0)](_0x2a81f8(0x4d6)),..._0xed816e,async(_0x10b035,_0x525a84)=>{const _0x34c5c7=_0x2a81f8;let _0x47352=await this[_0x34c5c7(0x496)]({'request':_0x10b035,'schema':Va,'ClassRef':$t,'execute':(_0x385994,_0x16f623)=>H[_0x34c5c7(0x4d6)](_0x385994,_0x16f623)});return _0x525a84[_0x34c5c7(0x492)](0xc9)[_0x34c5c7(0x7fe)](_0x47352);})[_0x2a81f8(0x30c)](this[_0x2a81f8(0x8b0)](_0x2a81f8(0x32e)),..._0xed816e,async(_0x5321bf,_0x555e62)=>{const _0x2be365=_0x2a81f8;let _0x2d731b=await this[_0x2be365(0x496)]({'request':_0x5321bf,'schema':Ja,'ClassRef':Le,'execute':(_0x3f8b98,_0x224851)=>H[_0x2be365(0x32e)](_0x3f8b98,_0x224851)});return _0x555e62['status'](0xc9)[_0x2be365(0x7fe)](_0x2d731b);})['post'](this[_0x2a81f8(0x8b0)]('sendButtons'),..._0xed816e,async(_0x28bd7a,_0x451f63)=>{const _0x589f2a=_0x2a81f8;let _0x2cb29d=await this[_0x589f2a(0x496)]({'request':_0x28bd7a,'schema':Ga,'ClassRef':At,'execute':(_0x17e3ab,_0x4149c8)=>H[_0x589f2a(0x2a2)](_0x17e3ab,_0x4149c8)});return _0x451f63[_0x589f2a(0x492)](0xc9)[_0x589f2a(0x7fe)](_0x2cb29d);})['post'](this[_0x2a81f8(0x8b0)](_0x2a81f8(0x24c)),..._0xed816e,async(_0xabe539,_0x1e3ef4)=>{const _0x4e5cc8=_0x2a81f8;let _0x4ba405=await this[_0x4e5cc8(0x496)]({'request':_0xabe539,'schema':Ba,'ClassRef':It,'execute':(_0x23759a,_0x22c119)=>H[_0x4e5cc8(0x24c)](_0x23759a,_0x22c119)});return _0x1e3ef4['status'](0xc9)[_0x4e5cc8(0x7fe)](_0x4ba405);})[_0x2a81f8(0x30c)](this['routerPath'](_0x2a81f8(0x67f)),..._0xed816e,async(_0x5be045,_0x37e530)=>{const _0x65da21=_0x2a81f8;let _0x58d72a=await this[_0x65da21(0x496)]({'request':_0x5be045,'schema':Wa,'ClassRef':Tt,'execute':(_0x205672,_0x206e91)=>H['sendList'](_0x205672,_0x206e91)});return _0x37e530[_0x65da21(0x492)](0xc9)[_0x65da21(0x7fe)](_0x58d72a);})[_0x2a81f8(0x30c)](this[_0x2a81f8(0x8b0)]('sendContact'),..._0xed816e,async(_0x2b60b1,_0x183c8a)=>{const _0x65b05b=_0x2a81f8;let _0x2be4bb=await this['dataValidate']({'request':_0x2b60b1,'schema':za,'ClassRef':Ot,'execute':(_0x2ac7ee,_0x42a461)=>H[_0x65b05b(0x911)](_0x2ac7ee,_0x42a461)});return _0x183c8a[_0x65b05b(0x492)](0xc9)['json'](_0x2be4bb);})[_0x2a81f8(0x30c)](this[_0x2a81f8(0x8b0)](_0x2a81f8(0x3c0)),..._0xed816e,async(_0xdc0101,_0x2aaa4f)=>{const _0x2ded67=_0x2a81f8;let _0x132914=await this[_0x2ded67(0x496)]({'request':_0xdc0101,'schema':Ha,'ClassRef':_t,'execute':(_0x1344bb,_0xe00c0d)=>H['sendReaction'](_0x1344bb,_0xe00c0d)});return _0x2aaa4f['status'](0xc9)[_0x2ded67(0x7fe)](_0x132914);})['post'](this[_0x2a81f8(0x8b0)]('sendPoll'),..._0xed816e,async(_0x10ed6a,_0x2a1776)=>{const _0x12dd69=_0x2a81f8;let _0x56b6c6=await this[_0x12dd69(0x496)]({'request':_0x10ed6a,'schema':qa,'ClassRef':Nt,'execute':(_0x52bdb7,_0x4c07f9)=>H[_0x12dd69(0x5b5)](_0x52bdb7,_0x4c07f9)});return _0x2a1776['status'](0xc9)['json'](_0x56b6c6);})[_0x2a81f8(0x30c)](this[_0x2a81f8(0x8b0)](_0x2a81f8(0x867)),..._0xed816e,async(_0x29b967,_0x5e9cc7)=>{const _0x3db92c=_0x2a81f8;let _0x5abc81=await this['dataValidate']({'request':_0x29b967,'schema':Ua,'ClassRef':vt,'execute':(_0x4448c2,_0x2b701e)=>H['sendStatus'](_0x4448c2,_0x2b701e)});return _0x5e9cc7['status'](0xc9)[_0x3db92c(0x7fe)](_0x5abc81);})[_0x2a81f8(0x30c)](this['routerPath']('sendSticker'),..._0xed816e,async(_0x2d7dbd,_0x39fc0f)=>{const _0x3e2a6b=_0x2a81f8;let _0x295155=await this['dataValidate']({'request':_0x2d7dbd,'schema':Fa,'ClassRef':Rt,'execute':(_0x38d0cc,_0x5c6fc6)=>H[_0x3e2a6b(0x314)](_0x38d0cc,_0x5c6fc6)});return _0x39fc0f['status'](0xc9)[_0x3e2a6b(0x7fe)](_0x295155);});}},bi=require(a0_0xa27d39(0x499)),Dt=class{},Pt=class extends G{constructor(..._0x1dd920){const _0x528e8e=a0_0xa27d39;super(),this[_0x528e8e(0x7cc)]=(0x0,bi[_0x528e8e(0x748)])(),this[_0x528e8e(0x7cc)][_0x528e8e(0x30c)](this['routerPath']('set'),..._0x1dd920,async(_0x553015,_0x3a9353)=>{const _0x5aca64=_0x528e8e;let _0x19d184=await this[_0x5aca64(0x496)]({'request':_0x553015,'schema':gi,'ClassRef':Dt,'execute':(_0x3e45ec,_0x258e87)=>Is[_0x5aca64(0x821)](_0x3e45ec,_0x258e87)});_0x3a9353[_0x5aca64(0x492)](0xc9)[_0x5aca64(0x7fe)](_0x19d184);})['get'](this[_0x528e8e(0x8b0)](_0x528e8e(0x678)),..._0x1dd920,async(_0x212cd9,_0x418964)=>{const _0x21c832=_0x528e8e;let _0x266620=await this[_0x21c832(0x496)]({'request':_0x212cd9,'schema':v,'ClassRef':M,'execute':_0x2d7d1a=>Is['findWebhook'](_0x2d7d1a)});_0x418964[_0x21c832(0x492)](0xc8)[_0x21c832(0x7fe)](_0x266620);});}},Si=require(a0_0xa27d39(0x499)),y=new $('FlowRouter'),kt=class extends G{constructor(..._0x5d4e66){const _0x591df4=a0_0xa27d39;super(),this['router']=(0x0,Si[_0x591df4(0x748)])(),this[_0x591df4(0x7cc)][_0x591df4(0x30c)](this[_0x591df4(0x8b0)]('scheduleMessage'),..._0x5d4e66,async(_0x42b5fd,_0x49f924)=>{const _0x364e20=_0x591df4;let _0x34c1f3=_0x42b5fd[_0x364e20(0x5f1)];y[_0x364e20(0x6c3)](_0x364e20(0x818)),y[_0x364e20(0x6c3)](_0x364e20(0x264)),y[_0x364e20(0x6c3)](_0x42b5fd[_0x364e20(0x5f1)]);let _0x4a0fa6=await this[_0x364e20(0x496)]({'request':_0x42b5fd,'schema':v,'ClassRef':M,'execute':_0x37c015=>T['editScheduleMessage'](_0x37c015,_0x34c1f3)});_0x49f924[_0x364e20(0x492)](0xc8)[_0x364e20(0x7fe)](_0x4a0fa6);})[_0x591df4(0x711)](this['routerPath'](_0x591df4(0x5a8)),..._0x5d4e66,async(_0x333e25,_0x9ab278)=>{const _0x548eb2=_0x591df4;let _0x2993e3=await this[_0x548eb2(0x496)]({'request':_0x333e25,'schema':v,'ClassRef':M,'execute':_0x19edce=>T[_0x548eb2(0x864)](_0x19edce)});_0x9ab278[_0x548eb2(0x492)](0xc8)[_0x548eb2(0x7fe)](_0x2993e3);})[_0x591df4(0x5ce)](this[_0x591df4(0x8b0)](_0x591df4(0x4a5)),..._0x5d4e66,async(_0x324dec,_0x3470d1)=>{const _0x30c0cb=_0x591df4;y['verbose'](_0x30c0cb(0x5dc));let _0x46f13b=await this[_0x30c0cb(0x496)]({'request':_0x324dec,'schema':v,'ClassRef':M,'execute':_0x57a461=>T['deleteDoneMessages'](_0x57a461)});_0x3470d1['status'](0xc8)[_0x30c0cb(0x7fe)](_0x46f13b);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x7d3)),..._0x5d4e66,async(_0x4892d3,_0x52b77a)=>{const _0x4c6d42=_0x591df4;let _0x4a063e=_0x4892d3[_0x4c6d42(0x5f1)];y[_0x4c6d42(0x6c3)]('request\x20received\x20in\x20starFlow'),y[_0x4c6d42(0x6c3)](_0x4c6d42(0x264)),y[_0x4c6d42(0x6c3)](_0x4892d3[_0x4c6d42(0x5f1)]);let _0x4a8b55=await this[_0x4c6d42(0x496)]({'request':_0x4892d3,'schema':v,'ClassRef':M,'execute':_0x30aaeb=>T[_0x4c6d42(0x7d3)](_0x30aaeb,_0x4a063e)});_0x52b77a['status'](0xc8)['json'](_0x4a8b55);})['get'](this[_0x591df4(0x8b0)](_0x591df4(0x391)),..._0x5d4e66,async(_0x20109b,_0x4a0a41)=>{const _0x1a3c8c=_0x591df4;y['verbose']('request\x20received\x20in\x20getAutomateSystem');let _0x2b1524=await this[_0x1a3c8c(0x496)]({'request':_0x20109b,'schema':v,'ClassRef':M,'execute':_0x4a431d=>T['getAutomateSystem'](_0x4a431d)});_0x4a0a41[_0x1a3c8c(0x492)](0xc8)[_0x1a3c8c(0x7fe)](_0x2b1524);})[_0x591df4(0x711)](this[_0x591df4(0x8b0)](_0x591df4(0x726)),..._0x5d4e66,async(_0x4092f9,_0x1cadb9)=>{const _0x40c4d9=_0x591df4;y['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x394903=await this[_0x40c4d9(0x496)]({'request':_0x4092f9,'schema':v,'ClassRef':M,'execute':_0x215c54=>T['getAutomateSystem'](_0x215c54)});_0x1cadb9[_0x40c4d9(0x492)](0xc8)[_0x40c4d9(0x7fe)](_0x394903);})[_0x591df4(0x30c)](this['routerPath']('updateAgent'),..._0x5d4e66,async(_0x2a8de8,_0x21e171)=>{const _0x17f065=_0x591df4;let _0x44752a=_0x2a8de8[_0x17f065(0x5f1)];y[_0x17f065(0x6c3)]('request\x20received\x20in\x20updateAgent'),y['verbose']('request\x20body:\x20'),y[_0x17f065(0x6c3)](_0x2a8de8[_0x17f065(0x5f1)]);let _0x13b412=await this['dataValidate']({'request':_0x2a8de8,'schema':v,'ClassRef':M,'execute':_0x4a2d68=>T['updateAgent'](_0x4a2d68,_0x44752a)});_0x21e171[_0x17f065(0x492)](0xc8)[_0x17f065(0x7fe)](_0x13b412);})['post'](this[_0x591df4(0x8b0)](_0x591df4(0x5ca)),..._0x5d4e66,async(_0x39bedb,_0x49ba45)=>{const _0x39b6fb=_0x591df4;let _0x2c71f4=_0x39bedb[_0x39b6fb(0x5f1)];y['verbose']('request\x20received\x20in\x20updateCustomFields'),y[_0x39b6fb(0x6c3)](_0x39b6fb(0x264)),y[_0x39b6fb(0x6c3)](_0x39bedb[_0x39b6fb(0x5f1)]);let _0x1e40e0=await this[_0x39b6fb(0x496)]({'request':_0x39bedb,'schema':v,'ClassRef':M,'execute':_0x1a6c8e=>T[_0x39b6fb(0x5ca)](_0x1a6c8e,_0x2c71f4)});_0x49ba45[_0x39b6fb(0x492)](0xc8)[_0x39b6fb(0x7fe)](_0x1e40e0);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x3a9)),..._0x5d4e66,async(_0x466a53,_0x5e50a4)=>{const _0x300411=_0x591df4;let _0x450f53=_0x466a53[_0x300411(0x5f1)];y[_0x300411(0x6c3)](_0x300411(0x656)),y[_0x300411(0x6c3)](_0x300411(0x264)),y[_0x300411(0x6c3)](_0x466a53[_0x300411(0x5f1)]);let _0x145538=await this['dataValidate']({'request':_0x466a53,'schema':v,'ClassRef':M,'execute':_0x5877d4=>T[_0x300411(0x3a9)](_0x5877d4,_0x450f53)});_0x5e50a4[_0x300411(0x492)](0xc8)['json'](_0x145538);})['post'](this['routerPath']('updateFlowConfig'),..._0x5d4e66,async(_0x2836cf,_0x1a1b52)=>{const _0x3524bf=_0x591df4;let _0x4d5192=_0x2836cf[_0x3524bf(0x5f1)];y[_0x3524bf(0x6c3)](_0x3524bf(0x8fe)),y['verbose'](_0x3524bf(0x264)),y[_0x3524bf(0x6c3)](_0x2836cf[_0x3524bf(0x5f1)]);let _0x2d36f1=await this[_0x3524bf(0x496)]({'request':_0x2836cf,'schema':v,'ClassRef':M,'execute':_0xb3ebf=>T[_0x3524bf(0x1fe)](_0xb3ebf,_0x4d5192)});_0x1a1b52[_0x3524bf(0x492)](0xc8)[_0x3524bf(0x7fe)](_0x2d36f1);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x1f6)),..._0x5d4e66,async(_0x2e6f9f,_0x4dcf4d)=>{const _0x1b3a61=_0x591df4;let _0x1f565b=_0x2e6f9f[_0x1b3a61(0x5f1)];y[_0x1b3a61(0x6c3)](_0x1b3a61(0x481)),y[_0x1b3a61(0x6c3)](_0x1b3a61(0x264)),y[_0x1b3a61(0x6c3)](_0x2e6f9f['body']);let _0x31787f=await this['dataValidate']({'request':_0x2e6f9f,'schema':v,'ClassRef':M,'execute':_0x3311aa=>T['getConversation'](_0x3311aa,_0x1f565b)});_0x4dcf4d[_0x1b3a61(0x492)](0xc8)['json'](_0x31787f);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x587)),..._0x5d4e66,async(_0x186f2f,_0xcf0b1b)=>{const _0x3f698e=_0x591df4;let _0x550d33=_0x186f2f[_0x3f698e(0x5f1)];y[_0x3f698e(0x6c3)]('request\x20received\x20in\x20fetchConversation'),y[_0x3f698e(0x6c3)](_0x3f698e(0x264)),y[_0x3f698e(0x6c3)](_0x186f2f[_0x3f698e(0x5f1)]);let _0x517b41=await this[_0x3f698e(0x496)]({'request':_0x186f2f,'schema':v,'ClassRef':M,'execute':_0x1f7794=>T['fetchConversation'](_0x1f7794,_0x550d33)});_0xcf0b1b[_0x3f698e(0x492)](0xc8)[_0x3f698e(0x7fe)](_0x517b41);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x616)),..._0x5d4e66,async(_0x3e35d9,_0x3cbe63)=>{const _0x4988b6=_0x591df4;let _0xedbacc=_0x3e35d9[_0x4988b6(0x5f1)];y[_0x4988b6(0x6c3)]('request\x20received\x20in\x20editConversation'),y[_0x4988b6(0x6c3)](_0x4988b6(0x264)),y['verbose'](_0x3e35d9['body']);let _0x18e33f=await this['dataValidate']({'request':_0x3e35d9,'schema':v,'ClassRef':M,'execute':_0x1e0237=>T[_0x4988b6(0x616)](_0x1e0237,_0xedbacc)});_0x3cbe63[_0x4988b6(0x492)](0xc8)[_0x4988b6(0x7fe)](_0x18e33f);})[_0x591df4(0x5ce)](this[_0x591df4(0x8b0)](_0x591df4(0x757)),..._0x5d4e66,async(_0x3aef0d,_0x385d0c)=>{const _0x1acbce=_0x591df4;let _0x3a87d9=_0x3aef0d[_0x1acbce(0x5f1)];y[_0x1acbce(0x6c3)](_0x1acbce(0x7bd)),y[_0x1acbce(0x6c3)](_0x1acbce(0x264)),y[_0x1acbce(0x6c3)](_0x3aef0d['body']);let _0x4426cd=await this[_0x1acbce(0x496)]({'request':_0x3aef0d,'schema':v,'ClassRef':M,'execute':_0x2167eb=>T[_0x1acbce(0x757)](_0x2167eb,_0x3a87d9)});_0x385d0c['status'](0xc8)['json'](_0x4426cd);})['post'](this['routerPath'](_0x591df4(0x8da)),..._0x5d4e66,async(_0x21cb69,_0x105b4c)=>{const _0x5b606a=_0x591df4;let _0x19d5da=_0x21cb69[_0x5b606a(0x5f1)],_0x4e88ce=_0x21cb69['headers'][_0x5b606a(0x59d)];y['verbose'](_0x5b606a(0x327)),y[_0x5b606a(0x6c3)]('request\x20body:\x20'),y['verbose'](_0x21cb69[_0x5b606a(0x5f1)]);let _0x2fe7eb=await this['dataValidate']({'request':_0x21cb69,'schema':v,'ClassRef':M,'execute':_0x304001=>T[_0x5b606a(0x854)](_0x304001,_0x19d5da,_0x4e88ce)});_0x105b4c['status'](0xc8)[_0x5b606a(0x7fe)](_0x2fe7eb);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)]('editflow'),..._0x5d4e66,async(_0x206174,_0x33c04b)=>{const _0x53fe55=_0x591df4;let _0x4ca7d7=_0x206174[_0x53fe55(0x5f1)],_0x4767bd=_0x206174[_0x53fe55(0x4f8)][_0x53fe55(0x59d)];y[_0x53fe55(0x6c3)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x53fe55(0x264)),y['verbose'](_0x206174[_0x53fe55(0x5f1)]),delete _0x4ca7d7[_0x53fe55(0x30b)],delete _0x4ca7d7[_0x53fe55(0x62b)],delete _0x4ca7d7[_0x53fe55(0x25b)],delete _0x4ca7d7[_0x53fe55(0x6e9)];let _0x2460aa=await this[_0x53fe55(0x496)]({'request':_0x206174,'schema':v,'ClassRef':M,'execute':_0x90be2c=>T[_0x53fe55(0x20c)](_0x90be2c,_0x4ca7d7,_0x4767bd)});_0x33c04b['status'](0xc8)['json'](_0x2460aa);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x56a)),..._0x5d4e66,async(_0x1e86b1,_0xe10729)=>{const _0x561c31=_0x591df4;let _0x907767=_0x1e86b1['body'];y[_0x561c31(0x6c3)](_0x561c31(0x602)),y[_0x561c31(0x6c3)](_0x561c31(0x264)),y[_0x561c31(0x6c3)](_0x1e86b1[_0x561c31(0x5f1)]);let _0x44a203=await this[_0x561c31(0x496)]({'request':_0x1e86b1,'schema':v,'ClassRef':M,'execute':_0x4ada9a=>T[_0x561c31(0x43d)](_0x4ada9a,_0x907767)});_0xe10729[_0x561c31(0x492)](0xc8)[_0x561c31(0x7fe)](_0x44a203);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)]('editflowreply'),..._0x5d4e66,async(_0x398722,_0x2fb7fb)=>{const _0x501131=_0x591df4;let _0x1604a2=_0x398722[_0x501131(0x5f1)];y[_0x501131(0x6c3)](_0x501131(0x602)),y[_0x501131(0x6c3)](_0x501131(0x264)),y[_0x501131(0x6c3)](_0x398722['body']);let _0x369a70=await this[_0x501131(0x496)]({'request':_0x398722,'schema':v,'ClassRef':M,'execute':_0x50381e=>T[_0x501131(0x703)](_0x50381e,_0x1604a2)});_0x2fb7fb['status'](0xc8)[_0x501131(0x7fe)](_0x369a70);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x40b)),..._0x5d4e66,async(_0x54c178,_0x4c8172)=>{const _0x186a44=_0x591df4;let _0x214176=_0x54c178['body'];y[_0x186a44(0x6c3)](_0x186a44(0x602)),y[_0x186a44(0x6c3)](_0x186a44(0x264)),y[_0x186a44(0x6c3)](_0x54c178[_0x186a44(0x5f1)]);let _0x553567=await this[_0x186a44(0x496)]({'request':_0x54c178,'schema':v,'ClassRef':M,'execute':_0x114591=>T['editFlowVaredit'](_0x114591,_0x214176)});_0x4c8172[_0x186a44(0x492)](0xc8)[_0x186a44(0x7fe)](_0x553567);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x7e6)),..._0x5d4e66,async(_0x446d48,_0x56d62b)=>{const _0x2df8e5=_0x591df4;let _0x4e7d15=_0x446d48[_0x2df8e5(0x5f1)];y[_0x2df8e5(0x6c3)]('request\x20received\x20in\x20editFlowgroup'),y[_0x2df8e5(0x6c3)](_0x2df8e5(0x264)),y[_0x2df8e5(0x6c3)](_0x446d48[_0x2df8e5(0x5f1)]);let _0x3d5981=await this[_0x2df8e5(0x496)]({'request':_0x446d48,'schema':v,'ClassRef':M,'execute':_0x37f32d=>T[_0x2df8e5(0x807)](_0x37f32d,_0x4e7d15)});_0x56d62b['status'](0xc8)[_0x2df8e5(0x7fe)](_0x3d5981);})[_0x591df4(0x30c)](this[_0x591df4(0x8b0)](_0x591df4(0x6b2)),..._0x5d4e66,async(_0x217bac,_0xef1e64)=>{const _0x236e4d=_0x591df4;let _0x1234a1=_0x217bac[_0x236e4d(0x5f1)];y['verbose'](_0x236e4d(0x227)),y['verbose']('request\x20body:\x20'),y[_0x236e4d(0x6c3)](_0x217bac[_0x236e4d(0x5f1)]);let _0x1e7173=await this[_0x236e4d(0x496)]({'request':_0x217bac,'schema':v,'ClassRef':M,'execute':_0x4574cc=>T[_0x236e4d(0x3be)](_0x4574cc,_0x1234a1)});_0xef1e64['status'](0xc8)[_0x236e4d(0x7fe)](_0x1e7173);})[_0x591df4(0x30c)](this['routerPath'](_0x591df4(0x346)),..._0x5d4e66,async(_0x189e68,_0x50e0fb)=>{const _0x43795e=_0x591df4;let _0x476e1f=_0x189e68[_0x43795e(0x5f1)];y[_0x43795e(0x6c3)](_0x43795e(0x6fc)),y[_0x43795e(0x6c3)](_0x43795e(0x264)),y[_0x43795e(0x6c3)](_0x189e68[_0x43795e(0x5f1)]);let _0xa5fa9c=await this['dataValidate']({'request':_0x189e68,'schema':v,'ClassRef':M,'execute':_0x39d66c=>T['editFlowVariable'](_0x39d66c,_0x476e1f)});_0x50e0fb[_0x43795e(0x492)](0xc8)['json'](_0xa5fa9c);})['post'](this[_0x591df4(0x8b0)]('getflow'),..._0x5d4e66,async(_0x55d49a,_0x755415)=>{const _0x4881da=_0x591df4;let _0x19e423=_0x55d49a[_0x4881da(0x5f1)];y[_0x4881da(0x6c3)](_0x4881da(0x3ea)),y[_0x4881da(0x6c3)](_0x4881da(0x264)),y[_0x4881da(0x6c3)](_0x55d49a[_0x4881da(0x5f1)]);let _0x3cd1e9=await this[_0x4881da(0x496)]({'request':_0x55d49a,'schema':v,'ClassRef':M,'execute':_0xdf89bb=>T[_0x4881da(0x552)](_0xdf89bb,_0x19e423)});_0x755415[_0x4881da(0x492)](0xc8)[_0x4881da(0x7fe)](_0x3cd1e9);})[_0x591df4(0x5ce)](this[_0x591df4(0x8b0)]('deleteflow'),..._0x5d4e66,async(_0x1b0c9d,_0x5ad98a)=>{const _0x51097c=_0x591df4;let _0x3f4b74=_0x1b0c9d['body'];y['verbose'](_0x51097c(0x7dc)),y['verbose'](_0x51097c(0x264)),y[_0x51097c(0x6c3)](_0x1b0c9d[_0x51097c(0x5f1)]);let _0x295bc2=await this[_0x51097c(0x496)]({'request':_0x1b0c9d,'schema':v,'ClassRef':M,'execute':_0x2da8c3=>T[_0x51097c(0x490)](_0x2da8c3,_0x3f4b74)});_0x5ad98a[_0x51097c(0x492)](0xc8)[_0x51097c(0x7fe)](_0x295bc2);})[_0x591df4(0x711)](this[_0x591df4(0x8b0)](_0x591df4(0x79a)),..._0x5d4e66,async(_0xe95a9,_0x4e8cc9)=>{const _0x13d76a=_0x591df4;y[_0x13d76a(0x6c3)]('request\x20received\x20in\x20allFlows');let _0x498a77=await this[_0x13d76a(0x496)]({'request':_0xe95a9,'schema':v,'ClassRef':M,'execute':_0x1635ac=>T[_0x13d76a(0x22f)](_0x1635ac)});_0x4e8cc9[_0x13d76a(0x492)](0xc8)[_0x13d76a(0x7fe)](_0x498a77);});}},vi=A(require('path')),oe={};function Mi(_0x705926,_0x24be5b,_0x402cd9,_0x86fa45){oe[_0x705926]||(oe[_0x705926]={}),oe[_0x705926][_0x24be5b]={'id':_0x24be5b,'response':_0x402cd9,'events':_0x86fa45};}function Ci(_0x17e9bd,_0x1e48e3){!oe[_0x17e9bd]||!oe[_0x17e9bd][_0x1e48e3]||delete oe[_0x17e9bd][_0x1e48e3];}function q(_0x414e59,_0x41f02c,_0xdb17ad){const _0x571351=a0_0xa27d39;if(!oe[_0x414e59])return;let _0x24abd9='data:\x20'+JSON['stringify'](_0xdb17ad)+'\x0a\x0a';Object[_0x571351(0x52a)](oe[_0x414e59])['forEach'](_0x1f860b=>{const _0x5589f5=_0x571351;_0x1f860b[_0x5589f5(0x805)][_0x5589f5(0x855)](_0x41f02c)&&_0x1f860b[_0x5589f5(0x248)][_0x5589f5(0x5bb)](_0x24abd9);});}function Ei(){const _0x19506f=a0_0xa27d39;let _0x1d0450={};for(let _0x10f0ec in oe)_0x1d0450[_0x10f0ec]=Object[_0x19506f(0x52a)](oe[_0x10f0ec])[_0x19506f(0x59b)](_0xe6a02f=>({'id':_0xe6a02f['id'],'events':_0xe6a02f[_0x19506f(0x805)]}));return _0x1d0450;}var Ni=require(a0_0xa27d39(0x2be)),Os=require(a0_0xa27d39(0x24d)),Ts=class{},Oo=new Os[(a0_0xa27d39(0x64a))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Os['Schema']({'_id':{'type':String,'default':a0_0xa27d39(0x369)},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=R?.['model'](Ts['name'],_o,'All_Instances_Config'),xo=vi[a0_0xa27d39(0x544)][a0_0xa27d39(0x5cc)](__dirname,a0_0xa27d39(0x54f)),Fe=(0x0,Lt['Router'])(),Do=b['get'](a0_0xa27d39(0x3fc))['TYPE'],le=[Ta,Oa,Da[Do]];Fe[a0_0xa27d39(0x509)]('/media',Lt[a0_0xa27d39(0x544)][a0_0xa27d39(0x7ca)](xo))['get']('/events/:instance',async(_0x3302de,_0x40e60f)=>{const _0x39ebf7=a0_0xa27d39;console['log'](_0x39ebf7(0x769));let _0x253a0e=_0x3302de[_0x39ebf7(0x5c4)][_0x39ebf7(0x45a)],_0x36000f=(_0x3302de['query'][_0x39ebf7(0x805)]||'')[_0x39ebf7(0x8cb)](','),_0xfbd6fe=(0x0,Ni['v4'])();console[_0x39ebf7(0x843)](_0x39ebf7(0x743),_0x253a0e),console['log'](_0x39ebf7(0x810),_0x36000f);let _0x3db2b1=b[_0x39ebf7(0x711)](_0x39ebf7(0x3fc))[_0x39ebf7(0x62c)],_0x130018=_0x3302de[_0x39ebf7(0x640)][_0x39ebf7(0x59d)];if(console[_0x39ebf7(0x843)](_0x39ebf7(0x38d),_0x130018),_0x3db2b1[_0x39ebf7(0x42f)]!==_0x130018){console[_0x39ebf7(0x843)](_0x39ebf7(0x7d7));try{let _0x45af3c=await we[_0x39ebf7(0x6d4)]['find'](_0x253a0e);if(console[_0x39ebf7(0x843)](_0x39ebf7(0x255),_0x45af3c),!_0x45af3c||_0x45af3c['apikey']!==_0x130018)return console[_0x39ebf7(0x843)](_0x39ebf7(0x52e)),_0x40e60f[_0x39ebf7(0x492)](0x191)[_0x39ebf7(0x6a0)]('API\x20Key\x20inválida.');}catch(_0x5b665a){return console[_0x39ebf7(0x664)](_0x39ebf7(0x844),_0x5b665a),_0x40e60f['status'](0x191)[_0x39ebf7(0x6a0)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await xe(_0x253a0e))return _0x40e60f['status'](0x194)[_0x39ebf7(0x6a0)](_0x39ebf7(0x6fa));_0x40e60f[_0x39ebf7(0x7c8)]('Content-Type','text/event-stream'),_0x40e60f[_0x39ebf7(0x7c8)](_0x39ebf7(0x422),'no-cache'),_0x40e60f[_0x39ebf7(0x7c8)](_0x39ebf7(0x23b),_0x39ebf7(0x45f)),_0x40e60f[_0x39ebf7(0x7d6)]();let _0x3c1e1b=_0x39ebf7(0x80d)+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x40e60f[_0x39ebf7(0x5bb)](_0x3c1e1b),Mi(_0x253a0e,_0xfbd6fe,_0x40e60f,_0x36000f),_0x3302de['on'](_0x39ebf7(0x8f1),()=>{const _0x1d7e00=_0x39ebf7;console[_0x1d7e00(0x843)](_0x1d7e00(0x699)+_0x253a0e),Ci(_0x253a0e,_0xfbd6fe);});}),Fe[a0_0xa27d39(0x30c)](a0_0xa27d39(0x87c),async(_0x555fa6,_0x4f2fee)=>{const _0x494e03=a0_0xa27d39;console[_0x494e03(0x843)](_0x494e03(0x3d7));let _0x4994c3=_0x555fa6[_0x494e03(0x5c4)][_0x494e03(0x45a)],_0x3c81df=_0x555fa6[_0x494e03(0x5c4)][_0x494e03(0x7ed)],_0x4a4c7e=_0x555fa6[_0x494e03(0x640)]['remoteJid']||'',_0x5685f0=_0x555fa6['body'];console['log'](_0x494e03(0x88f),_0x4994c3),console[_0x494e03(0x843)](_0x494e03(0x4d2),_0x3c81df),console['log'](_0x494e03(0x390),_0x4a4c7e),console[_0x494e03(0x843)](_0x494e03(0x63f),_0x5685f0);try{if(!await xe(_0x4994c3))return _0x4f2fee[_0x494e03(0x492)](0x194)[_0x494e03(0x6a0)](_0x494e03(0x6fa));let _0x47fc0e=await T[_0x494e03(0x404)](_0x4994c3,_0x3c81df,_0x4a4c7e,_0x5685f0);_0x4f2fee['send'](_0x47fc0e);}catch(_0x19c496){console[_0x494e03(0x664)](_0x19c496),_0x4f2fee[_0x494e03(0x492)](0x1f4)[_0x494e03(0x6a0)](_0x494e03(0x384));}}),Fe[a0_0xa27d39(0x711)](a0_0xa27d39(0x4ff),(_0x513bd6,_0x1f4b56)=>{const _0x432a2b=a0_0xa27d39;let _0x2fe49f=Ei();_0x1f4b56[_0x432a2b(0x7fe)](_0x2fe49f);})['get']('/',(_0x4457ab,_0x180994)=>{const _0x45a62c=a0_0xa27d39;let _0x3892a5=b[_0x45a62c(0x711)](_0x45a62c(0x570))[_0x45a62c(0x586)];if(_0x3892a5){let _0x23f23b=encodeURIComponent(''+_0x3892a5);_0x180994[_0x45a62c(0x82e)](_0x45a62c(0x5c2)+_0x23f23b);return;}let _0x43c952=b[_0x45a62c(0x711)](_0x45a62c(0x7a3)),_0x16bb64=_0x43c952&&_0x43c952['FULLCHAIN'][_0x45a62c(0x8cb)]('/')[0x4];if(_0x16bb64){let _0x9b1455=encodeURIComponent(_0x45a62c(0x591)+_0x16bb64);_0x180994[_0x45a62c(0x82e)](_0x45a62c(0x5c2)+_0x9b1455);}else _0x180994[_0x45a62c(0x82e)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0xa27d39(0x2e5)]('/exit',...le,async(_0x583e97,_0x34eb76)=>{const _0x119da0=a0_0xa27d39;try{console[_0x119da0(0x843)](_0x119da0(0x625)),_0x34eb76[_0x119da0(0x492)](0xc8)[_0x119da0(0x7fe)]({'message':_0x119da0(0x457)}),_0x34eb76['on'](_0x119da0(0x4a1),()=>process[_0x119da0(0x6a5)](0x0));}catch(_0x31cb17){console[_0x119da0(0x664)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x31cb17),_0x34eb76['status'](0x1f4)[_0x119da0(0x7fe)]({'message':_0x119da0(0x870)});}})[a0_0xa27d39(0x2e5)](a0_0xa27d39(0x1da),...le,async(_0x354736,_0x159050)=>{const _0x243a54=a0_0xa27d39;try{let _0x3e4882=_0x354736[_0x243a54(0x5f1)];await Ne['updateOne']({},{'$set':_0x3e4882},{'upsert':!0x0});let _0x5d1db2=await Ne['findOne']();_0x159050[_0x243a54(0x7fe)](_0x5d1db2);}catch(_0x2b7079){_0x159050[_0x243a54(0x492)](0x190)[_0x243a54(0x6a0)](_0x2b7079[_0x243a54(0x577)]);}})[a0_0xa27d39(0x711)](a0_0xa27d39(0x1da),...le,async(_0x2bf390,_0x3426c3)=>{const _0x2f9b3e=a0_0xa27d39;try{let _0x4cdca6=await Ne[_0x2f9b3e(0x25d)]();if(!_0x4cdca6)return _0x3426c3['json']({});_0x3426c3['json'](_0x4cdca6);}catch(_0x4cc035){_0x3426c3['status'](0x1f4)[_0x2f9b3e(0x6a0)](_0x4cc035[_0x2f9b3e(0x577)]);}})[a0_0xa27d39(0x509)](a0_0xa27d39(0x909),new Ct(b,...le)[a0_0xa27d39(0x7cc)])[a0_0xa27d39(0x509)](a0_0xa27d39(0x292),new xt(...le)[a0_0xa27d39(0x7cc)])[a0_0xa27d39(0x509)](a0_0xa27d39(0x4c3),new pt(...le)[a0_0xa27d39(0x7cc)])['use'](a0_0xa27d39(0x838),new Mt(...le)[a0_0xa27d39(0x7cc)])[a0_0xa27d39(0x509)](a0_0xa27d39(0x300),new Pt(...le)[a0_0xa27d39(0x7cc)])['use'](a0_0xa27d39(0x474),new kt(...le)[a0_0xa27d39(0x7cc)]);var m=class{constructor(..._0x1458cc){const _0x466c83=a0_0xa27d39;throw{'status':0x190,'error':_0x466c83(0x23c),'message':_0x1458cc[_0x466c83(0x3a7)]>0x0?_0x1458cc:void 0x0};}},ce=class{constructor(..._0x417d62){const _0x40a0df=a0_0xa27d39;throw{'status':0x191,'error':_0x40a0df(0x600),'message':_0x417d62[_0x40a0df(0x3a7)]>0x0?_0x417d62:void 0x0};}},se=class{constructor(..._0x410a06){const _0x5f378a=a0_0xa27d39;throw{'status':0x193,'error':_0x5f378a(0x7f6),'message':_0x410a06['length']>0x0?_0x410a06:void 0x0};}},J=class{constructor(..._0x3ff276){const _0x53cf90=a0_0xa27d39;throw{'status':0x194,'error':'Not\x20Found','message':_0x3ff276[_0x53cf90(0x3a7)]>0x0?_0x3ff276:void 0x0};}},x=class{constructor(..._0x136cf8){throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x136cf8['length']>0x0?_0x136cf8:void 0x0};}},ye=require(a0_0xa27d39(0x680));async function _s(_0x5cb7b2){const _0xb4287e=a0_0xa27d39;let _0xcdaea8=new $(_s['name']),_0x15a0a0=R['getClient'](),_0x3492f7=_0x15a0a0['db'](b[_0xb4287e(0x711)](_0xb4287e(0x3d1))['CONNECTION'][_0xb4287e(0x67b)]+_0xb4287e(0x87a))['collection'](_0x5cb7b2),_0x39a6ac=async(_0xe40f1c,_0x1eb173)=>{const _0x2578af=_0xb4287e;try{return await _0x15a0a0['connect'](),await _0x3492f7[_0x2578af(0x33d)]({'_id':_0x1eb173},JSON['parse'](JSON['stringify'](_0xe40f1c,ye['BufferJSON'][_0x2578af(0x4ed)])),{'upsert':!0x0});}catch{}},_0x133962=async _0x1c8ee4=>{const _0x3bb6ea=_0xb4287e;try{await _0x15a0a0[_0x3bb6ea(0x3b2)]();let _0x24b934=await _0x3492f7['findOne']({'_id':_0x1c8ee4}),_0x38b91a=JSON[_0x3bb6ea(0x716)](_0x24b934);return JSON['parse'](_0x38b91a,ye['BufferJSON'][_0x3bb6ea(0x4cd)]);}catch{}},_0x574cae=async _0x3f0fbf=>{const _0x55f655=_0xb4287e;try{return await _0x15a0a0[_0x55f655(0x3b2)](),await _0x3492f7['deleteOne']({'_id':_0x3f0fbf});}catch{}},_0xe8ebc1=await _0x133962(_0xb4287e(0x608))||(0x0,ye[_0xb4287e(0x563)])();return{'state':{'creds':_0xe8ebc1,'keys':{'get':async(_0x5b2314,_0xb788a4)=>{const _0x3b148b=_0xb4287e;let _0x4dd9cb={};return await Promise[_0x3b148b(0x873)](_0xb788a4[_0x3b148b(0x59b)](async _0x49e381=>{const _0x434ede=_0x3b148b;let _0x560e37=await _0x133962(_0x5b2314+'-'+_0x49e381);_0x5b2314===_0x434ede(0x73d)&&_0x560e37&&(_0x560e37=ye[_0x434ede(0x324)][_0x434ede(0x48e)]['AppStateSyncKeyData'][_0x434ede(0x5b1)](_0x560e37)),_0x4dd9cb[_0x49e381]=_0x560e37;})),_0x4dd9cb;},'set':async _0x479429=>{let _0x2d9a4c=[];for(let _0xc893fe in _0x479429)for(let _0x446a3b in _0x479429[_0xc893fe]){let _0x568f2d=_0x479429[_0xc893fe][_0x446a3b],_0x4900c6=_0xc893fe+'-'+_0x446a3b;_0x2d9a4c['push'](_0x568f2d?_0x39a6ac(_0x568f2d,_0x4900c6):_0x574cae(_0x4900c6));}await Promise['all'](_0x2d9a4c);}}},'saveCreds':async()=>_0x39a6ac(_0xe8ebc1,_0xb4287e(0x608))};}var Ls=A(require(a0_0xa27d39(0x64c))),Fs=A(require(a0_0xa27d39(0x763))),jt=require('@whiskeysockets/baileys'),$i=require(a0_0xa27d39(0x1e9)),Ut=require(a0_0xa27d39(0x680)),Ft;function Po(_0x35804f){const _0x1e7bfb=a0_0xa27d39;return Ft||(Ft=(0x0,$i[_0x1e7bfb(0x758)])({'url':_0x35804f[_0x1e7bfb(0x5c1)]}),Ft[_0x1e7bfb(0x3b2)]()),Ft;}var ge=class u{constructor(_0x12a139,_0x12ab72){const _0x5b81d9=a0_0xa27d39;this[_0x5b81d9(0x7ec)]=_0x12a139,this[_0x5b81d9(0x7c4)]=_0x12ab72,this['logger']=new $(u[_0x5b81d9(0x75e)]),this['client']=Po(_0x12a139);}set[a0_0xa27d39(0x77a)](_0xce6401){const _0x462074=a0_0xa27d39;this[_0x462074(0x7c4)]=_0xce6401;}async[a0_0xa27d39(0x276)](){const _0x515e90=a0_0xa27d39;try{return await this[_0x515e90(0x1f1)][_0x515e90(0x40e)]([_0x515e90(0x537),this[_0x515e90(0x7ec)][_0x515e90(0x2b2)]+':*']);}catch(_0x17e267){this[_0x515e90(0x69c)][_0x515e90(0x664)](_0x17e267);}}async['writeData'](_0x376547,_0x46d1df){const _0x1c9e60=a0_0xa27d39;try{let _0x1619b8=JSON['stringify'](_0x46d1df,Ut[_0x1c9e60(0x71d)]['replacer']);return await this[_0x1c9e60(0x1f1)][_0x1c9e60(0x79e)](this['redisEnv']['PREFIX_KEY']+':'+this['instanceName'],_0x376547,_0x1619b8);}catch(_0xa1deae){this[_0x1c9e60(0x69c)][_0x1c9e60(0x664)](_0xa1deae);}}async[a0_0xa27d39(0x43a)](){const _0x41881c=a0_0xa27d39;try{let _0x52c14f=await this[_0x41881c(0x1f1)][_0x41881c(0x8c2)](this[_0x41881c(0x7ec)][_0x41881c(0x2b2)]+':'+this[_0x41881c(0x7c4)]);if(_0x52c14f){for(let _0x115584 in _0x52c14f)Object[_0x41881c(0x48a)]['hasOwnProperty'][_0x41881c(0x6b5)](_0x52c14f,_0x115584)&&(_0x52c14f[_0x115584]=JSON['parse'](_0x52c14f[_0x115584],Ut[_0x41881c(0x71d)][_0x41881c(0x4cd)]));return _0x52c14f;}}catch(_0x38c356){this[_0x41881c(0x69c)]['error'](_0x38c356);}}async[a0_0xa27d39(0x66c)](_0x354e66){const _0x37a772=a0_0xa27d39;try{let _0x5e07cb=await this[_0x37a772(0x1f1)]['hGet'](this['redisEnv'][_0x37a772(0x2b2)]+':'+this['instanceName'],_0x354e66);if(_0x5e07cb)return JSON[_0x37a772(0x4ea)](_0x5e07cb,Ut[_0x37a772(0x71d)][_0x37a772(0x4cd)]);}catch(_0x5b67ea){this[_0x37a772(0x69c)]['error'](_0x5b67ea);}}async['removeData'](_0xd14998){const _0x527d28=a0_0xa27d39;try{return await this['client'][_0x527d28(0x714)](this[_0x527d28(0x7ec)][_0x527d28(0x2b2)]+':'+this[_0x527d28(0x7c4)],_0xd14998);}catch(_0x479890){this[_0x527d28(0x69c)][_0x527d28(0x664)](_0x479890);}}async['delAll'](_0x4e5982){const _0x2d8235=a0_0xa27d39;try{return await this[_0x2d8235(0x1f1)]['del'](_0x4e5982||this[_0x2d8235(0x7ec)][_0x2d8235(0x2b2)]+':'+this[_0x2d8235(0x7c4)]);}catch(_0x4880d0){this[_0x2d8235(0x69c)][_0x2d8235(0x664)](_0x4880d0);}}};async function xs(_0x309fad,_0x581fc1){const _0x99011c=a0_0xa27d39;let _0x86f72a=new $(xs[_0x99011c(0x75e)]),_0x50b381=new ge(_0x309fad,_0x581fc1),_0x3f93e2=async(_0x1148bd,_0x1660fd)=>{const _0x4f50df=_0x99011c;try{return await _0x50b381[_0x4f50df(0x5dd)](_0x1660fd,_0x1148bd);}catch(_0x31354b){return _0x86f72a[_0x4f50df(0x664)]({'localError':_0x4f50df(0x5dd),'error':_0x31354b});}},_0xf34ce4=async _0x4ba53b=>{const _0x5c232c=_0x99011c;try{return await _0x50b381[_0x5c232c(0x66c)](_0x4ba53b);}catch(_0x3a077e){_0x86f72a['error']({'readData':'writeData','error':_0x3a077e});return;}},_0x19e971=async _0x38f070=>{const _0xd9da64=_0x99011c;try{return await _0x50b381[_0xd9da64(0x667)](_0x38f070);}catch(_0x2171bb){_0x86f72a[_0xd9da64(0x664)]({'readData':'removeData','error':_0x2171bb});}},_0x1d485c=await _0xf34ce4(_0x99011c(0x608))||(0x0,jt[_0x99011c(0x563)])();return{'state':{'creds':_0x1d485c,'keys':{'get':async(_0x578bf0,_0x19a309)=>{const _0xe644fb=_0x99011c;let _0x3457c7={};return await Promise[_0xe644fb(0x873)](_0x19a309['map'](async _0xa8a4da=>{const _0x46a970=_0xe644fb;let _0x312f51=await _0xf34ce4(_0x578bf0+'-'+_0xa8a4da);_0x578bf0===_0x46a970(0x73d)&&_0x312f51&&(_0x312f51=jt['proto'][_0x46a970(0x48e)]['AppStateSyncKeyData'][_0x46a970(0x5b1)](_0x312f51)),_0x3457c7[_0xa8a4da]=_0x312f51;})),_0x3457c7;},'set':async _0x3f6bfc=>{let _0x867b60=[];for(let _0x271c15 in _0x3f6bfc)for(let _0xbde7b8 in _0x3f6bfc[_0x271c15]){let _0x5bca5e=_0x3f6bfc[_0x271c15][_0xbde7b8],_0x50dafe=_0x271c15+'-'+_0xbde7b8;_0x867b60['push'](_0x5bca5e?await _0x3f93e2(_0x5bca5e,_0x50dafe):await _0x19e971(_0x50dafe));}await Promise['all'](_0x867b60);}}},'saveCreds':async()=>await _0x3f93e2(_0x1d485c,_0x99011c(0x608))};}var F=A(require('fs')),X=require(a0_0xa27d39(0x2be)),Gt=A(require('sharp')),Re=require(a0_0xa27d39(0x650)),Ri=require(a0_0xa27d39(0x7c1)),Ai=require(a0_0xa27d39(0x1d4)),Ii=A(require(a0_0xa27d39(0x7e0))),$e=class extends _{constructor(_0x3f04c5,_0x2133ed,_0x21eaed){const _0x5d74fc=a0_0xa27d39;super(_0x2133ed),this['cacheInstanceModel']=_0x3f04c5,this[_0x5d74fc(0x44e)]=_0x2133ed,this[_0x5d74fc(0x50a)]=_0x21eaed;}async[a0_0xa27d39(0x330)](_0x132453,_0x2c9174){const _0x416dc4=a0_0xa27d39;try{if(this[_0x416dc4(0x8a5)]['ENABLED']){console[_0x416dc4(0x843)](_0x416dc4(0x2c0)+_0x2c9174+_0x416dc4(0x7a7),_0x132453);let _0x1f5730=await this[_0x416dc4(0x5b9)][_0x416dc4(0x5ae)]({'_id':_0x2c9174},{'$set':_0x132453},{'new':!0x0,'upsert':!0x0});return console[_0x416dc4(0x843)](_0x416dc4(0x72d),_0x1f5730),_0x1f5730;}}catch(_0x1b7259){throw console[_0x416dc4(0x664)](_0x416dc4(0x386),_0x1b7259),_0x1b7259;}return null;}async['deleteOne'](_0x34ffb9){const _0x411781=a0_0xa27d39;try{let _0x138dcc=I(_0x34ffb9['where']);return{'deletedCount':(await this[_0x411781(0x5b9)][_0x411781(0x208)](_0x138dcc))[_0x411781(0x39d)]};}catch(_0x38ce48){return{'error':_0x38ce48?.[_0x411781(0x412)]()};}}async['findOne'](_0x26c055){const _0xa7d1ef=a0_0xa27d39;try{let _0x4a1bd8=I(_0x26c055['where']);return await this[_0xa7d1ef(0x5b9)][_0xa7d1ef(0x25d)](_0x4a1bd8)[_0xa7d1ef(0x2a8)]();}catch{return null;}}},Jt=(0x0,Ai['promisify'])(Ri[a0_0xa27d39(0x626)]),ko=b[a0_0xa27d39(0x711)](a0_0xa27d39(0x34e)),Ds=class{constructor(){const _0x4ad502=a0_0xa27d39;this[_0x4ad502(0x816)]=new $e(Ke,b),(!this['ipv6Prefix']||!this['networkInterface'])&&ko&&this[_0x4ad502(0x679)]()[_0x4ad502(0x627)](()=>{const _0x234203=_0x4ad502;console[_0x234203(0x843)](_0x234203(0x332)+this[_0x234203(0x39a)]),console[_0x234203(0x843)](_0x234203(0x82a)+this[_0x234203(0x526)]);})['catch'](_0x10713e=>{const _0x49e0e6=_0x4ad502;console[_0x49e0e6(0x664)](_0x49e0e6(0x285)+_0x10713e[_0x49e0e6(0x577)]);});}async[a0_0xa27d39(0x679)](){const _0x38a010=a0_0xa27d39;try{let {stdout:_0x169642}=await Jt(_0x38a010(0x8e9));console['log']('Network\x20interfaces\x20detected:\x20'+_0x169642);let _0x189122=_0x169642[_0x38a010(0x8cb)]('\x0a')[_0x38a010(0x59b)](_0x1c54a3=>_0x1c54a3[_0x38a010(0x8cb)]('\x20')[0x0])[_0x38a010(0x842)](_0x327f2d=>!_0x327f2d[_0x38a010(0x855)]('lo')&&!_0x327f2d[_0x38a010(0x855)](_0x38a010(0x727))&&!_0x327f2d[_0x38a010(0x855)]('vir')&&!_0x327f2d[_0x38a010(0x855)]('wl')&&!_0x327f2d[_0x38a010(0x855)]('@'));if(console[_0x38a010(0x843)](_0x38a010(0x34d)+_0x189122),_0x189122[_0x38a010(0x3a7)]===0x0)throw new Error(_0x38a010(0x392));this[_0x38a010(0x526)]=_0x189122[0x0];let {stdout:_0x3f8b21}=await Jt(_0x38a010(0x2b7)+this[_0x38a010(0x526)]);console['log']('IPv6\x20addresses\x20detected:\x20'+_0x3f8b21);let _0xc86dce=_0x3f8b21['split']('\x0a')[_0x38a010(0x678)](_0x4d75f8=>_0x4d75f8['includes'](_0x38a010(0x785))&&_0x4d75f8[_0x38a010(0x855)](_0x38a010(0x636)));if(!_0xc86dce)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x2e9c56=_0xc86dce[_0x38a010(0x1d9)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x2e9c56)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x477b43,_0x2d281d,_0x474d3c]=_0x2e9c56,_0x59f0dd=Math[_0x38a010(0x65c)](Number(_0x474d3c)/0x10),_0x537120=Number(_0x474d3c)%0x10,_0x48977d=_0x2d281d[_0x38a010(0x8cb)](':')[_0x38a010(0x759)](0x0,_0x59f0dd)[_0x38a010(0x5cc)](':');if(_0x537120>0x0){let _0xac1668=_0x2d281d[_0x38a010(0x8cb)](':')[_0x59f0dd],_0xbca325=0xffff<<0x10-_0x537120&0xffff,_0x4e9967=(parseInt(_0xac1668,0x10)&_0xbca325)[_0x38a010(0x412)](0x10)[_0x38a010(0x200)](0x4,'0');_0x48977d+=':'+_0x4e9967;}this[_0x38a010(0x39a)]=_0x48977d+':';}catch(_0x4e5e91){console[_0x38a010(0x664)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x4e5e91);}}async[a0_0xa27d39(0x59c)](_0x40fb9f){const _0x231041=a0_0xa27d39;let _0x15b219='ip\x20-6\x20addr\x20add\x20'+_0x40fb9f+_0x231041(0x8a9)+this[_0x231041(0x526)];try{await Jt(_0x15b219),console[_0x231041(0x843)]('IPv6\x20address\x20configured:\x20'+_0x40fb9f);}catch(_0x45c932){console['error'](_0x231041(0x675)+_0x45c932);}}async[a0_0xa27d39(0x835)](_0x53eb65){const _0x12bbd5=a0_0xa27d39;let _0xa1633c='ip\x20-6\x20addr\x20del\x20'+_0x53eb65+_0x12bbd5(0x8a9)+this[_0x12bbd5(0x526)];try{await Jt(_0xa1633c),console['log'](_0x12bbd5(0x8d7)+_0x53eb65);}catch(_0x1f88cd){console[_0x12bbd5(0x664)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x1f88cd);}}[a0_0xa27d39(0x589)](){const _0x484427=a0_0xa27d39;return _0x484427(0x5b2)[_0x484427(0x817)](/X/g,()=>_0x484427(0x426)[_0x484427(0x3c6)](Math['floor'](Math['random']()*0x10)));}[a0_0xa27d39(0x4e3)](_0x5f8393,_0x5b4d0c){const _0x226bb8=a0_0xa27d39;let _0x325365=_0x5b4d0c[_0x226bb8(0x8cb)](':');return _0x325365[0x0]=(parseInt(_0x325365[0x0],0x10)^0x2)[_0x226bb8(0x412)](0x10)['padStart'](0x2,'0'),''+_0x5f8393+_0x325365[0x0]+_0x325365[0x1]+':'+_0x325365[0x2]+_0x226bb8(0x46d)+_0x325365[0x3]+':'+_0x325365[0x4]+_0x325365[0x5];}[a0_0xa27d39(0x1db)](){const _0x17d4ef=a0_0xa27d39;let _0x5e21d5=this['ipv6Prefix'];_0x5e21d5[_0x17d4ef(0x900)](':')||(_0x5e21d5+=':');let _0x3aa5c6=this[_0x17d4ef(0x589)]();return this[_0x17d4ef(0x4e3)](_0x5e21d5,_0x3aa5c6);}[a0_0xa27d39(0x366)](_0x15bd32){const _0x464af9=a0_0xa27d39;return new RegExp(_0x464af9(0x599))['test'](_0x15bd32);}async[a0_0xa27d39(0x428)](_0x1876a3){const _0x58fb56=a0_0xa27d39;let _0x42c305=[{'url':_0x58fb56(0x348),'parse':_0x96c047=>_0x96c047['ip']},{'url':_0x58fb56(0x5e9),'parse':_0xe537c6=>_0xe537c6['ip']},{'url':_0x58fb56(0x74f),'parse':_0xd86e74=>_0xd86e74[_0x58fb56(0x6f8)]()},{'url':_0x58fb56(0x2cb),'parse':_0x18f8aa=>_0x18f8aa[_0x58fb56(0x6f8)]()}],_0x17dea1=_0x42c305[Math[_0x58fb56(0x65c)](Math[_0x58fb56(0x1de)]()*_0x42c305['length'])];try{let _0x2a4369=await Ii[_0x58fb56(0x544)]['get'](_0x17dea1[_0x58fb56(0x63b)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x1876a3}}),_0x436682=_0x17dea1[_0x58fb56(0x4ea)](_0x2a4369['data']);return _0x436682[_0x58fb56(0x8ce)]()===_0x1876a3[_0x58fb56(0x8ce)]()?(console[_0x58fb56(0x843)](_0x58fb56(0x251)+_0x1876a3),!0x0):(console[_0x58fb56(0x664)]('IP\x20mismatch:\x20configured\x20'+_0x1876a3+',\x20received\x20'+_0x436682),!0x1);}catch(_0x397b57){return console['error']('Error\x20testing\x20IP\x20with\x20'+_0x17dea1['url']+':\x20'+_0x397b57[_0x58fb56(0x577)]),!0x1;}}async['createIPv6'](_0x6ff1ea,_0x42be8c){const _0x5741aa=a0_0xa27d39;if(!this[_0x5741aa(0x39a)]||!this[_0x5741aa(0x526)])return console[_0x5741aa(0x664)](_0x5741aa(0x729)),null;let _0x1ab212;do _0x1ab212=this['generateRandomIPv6'](),console[_0x5741aa(0x843)](_0x5741aa(0x408)+_0x1ab212);while(!await this[_0x5741aa(0x262)](_0x1ab212));await this[_0x5741aa(0x59c)](_0x1ab212),console[_0x5741aa(0x843)](_0x5741aa(0x522)+_0x1ab212);let _0x1d90af={'_id':_0x6ff1ea+'-'+_0x42be8c,'ip':_0x1ab212},_0x2957bf=await this['cacheInstanceRepository'][_0x5741aa(0x330)](_0x1d90af,_0x1d90af['_id']);return console[_0x5741aa(0x843)]('Cache\x20instance\x20update\x20result:\x20'+_0x2957bf),_0x1ab212;}async[a0_0xa27d39(0x262)](_0x2dfcda){const _0xa3fb16=a0_0xa27d39;return this[_0xa3fb16(0x366)](_0x2dfcda)?!await this[_0xa3fb16(0x816)][_0xa3fb16(0x25d)]({'where':{'ip':_0x2dfcda}}):!0x1;}async[a0_0xa27d39(0x20d)](_0x547713,_0x2ab6dd){const _0x1a2887=a0_0xa27d39;let _0x98d116=_0x547713+'-'+_0x2ab6dd,_0x290c1b=await this[_0x1a2887(0x816)][_0x1a2887(0x25d)]({'where':{'_id':_0x98d116}});_0x290c1b&&_0x290c1b['ip']&&(await this['removeIPv6'](_0x290c1b['ip']),await this['cacheInstanceRepository'][_0x1a2887(0x208)]({'where':{'_id':_0x98d116}}));}},Lo=new Ds(),re=Lo,Us=a0_0xa27d39(0x8b6),ki,me=null,Pa=null,Fo=0x3,Uo=null,Ti=b['get'](a0_0xa27d39(0x3fc))[a0_0xa27d39(0x62c)][a0_0xa27d39(0x42f)],Oi=b[a0_0xa27d39(0x711)]('PROXY');async function jo(){const _0x2916ad=a0_0xa27d39;let _0x2e7c7a=await Ne[_0x2916ad(0x25d)]();me=_0x2e7c7a?.['WebhookGlobal']??null,Uo=_0x2e7c7a?.['DaysToDelete']??null,Us=_0x2e7c7a?.[_0x2916ad(0x7a0)]??'Safari',ki=_0x2e7c7a?.[_0x2916ad(0x4c5)]??K??_0x2916ad(0x53f);}async function Jo(){await jo();}Jo();var qt={},Ae=class u{constructor(_0x2d1285,_0x564227,_0x5e32aa){const _0x3dcc2c=a0_0xa27d39;this[_0x3dcc2c(0x44e)]=_0x2d1285,this[_0x3dcc2c(0x48d)]=_0x564227,this[_0x3dcc2c(0x4f0)]=_0x5e32aa,this[_0x3dcc2c(0x278)]=null,this['logger']=new $(u[_0x3dcc2c(0x75e)]),this[_0x3dcc2c(0x45a)]={},this[_0x3dcc2c(0x8af)]={},this['stateConnection']={'state':_0x3dcc2c(0x8f1)},this['storePath']=(0x0,j[_0x3dcc2c(0x5cc)])(ue,_0x3dcc2c(0x54f)),this['msgRetryCounterCache']=new Fs[(_0x3dcc2c(0x544))](),this[_0x3dcc2c(0x2d9)]=new Fs[(_0x3dcc2c(0x544))](),this[_0x3dcc2c(0x271)]=!0x1,this[_0x3dcc2c(0x1ec)]={'status.instance':_0x3dcc2c(0x5f9),'connection.update':_0x3dcc2c(0x5f9),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x3dcc2c(0x2cc),'send.message':'/wa-message','messages.update':_0x3dcc2c(0x3d9),'group.upsert':'/wa-groups','group.update':_0x3dcc2c(0x40f),'group-participants.update':_0x3dcc2c(0x40f),'messages.set':_0x3dcc2c(0x206),'contacts.set':_0x3dcc2c(0x896),'contacts.upsert':_0x3dcc2c(0x896),'contacts.update':'/wa-contacts','presence.update':_0x3dcc2c(0x75d),'chats.set':_0x3dcc2c(0x263),'chats.update':_0x3dcc2c(0x263),'chats.upsert':_0x3dcc2c(0x263),'chats.delete':'/wa-chats'},this[_0x3dcc2c(0x446)]=0x0,this['reconnectTimestamps']=[],this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x219861,_0xf4c521)=>{const _0x4398d1=_0x3dcc2c;let _0x4b31a0=[];for await(let _0x3b72cf of _0x219861)_0x4b31a0[_0x4398d1(0x898)]({'_id':_0x3b72cf['id'],'owner':this[_0x4398d1(0x45a)]['wuid'],'group':_0x3b72cf['id'][_0x4398d1(0x900)]('@g.us'),'name':_0x3b72cf['name']||_0x3b72cf[_0x4398d1(0x534)]||null,'contactname':null,'lastmsg':_0x3b72cf[_0x4398d1(0x2e7)]&&_0x3b72cf['conversationTimestamp']['toString']()[_0x4398d1(0x3a7)]<0xd?_0x3b72cf['conversationTimestamp']*0x3e8:_0x3b72cf[_0x4398d1(0x2e7)]||null,'archived':_0x3b72cf[_0x4398d1(0x272)]||!0x1,'unreadcount':_0x3b72cf['unreadCount']||0x0,'ephemeralExpiration':_0x3b72cf[_0x4398d1(0x4e9)]||0x0});this['sendDataWebhook']('chats.upsert',_0x4b31a0);},'chats.update':async(_0x23f9b9,_0x5a08ab)=>{const _0x162c5c=_0x3dcc2c;for(let _0x529368 of _0x23f9b9){let _0x47388f={'_id':_0x529368['id'],'owner':this[_0x162c5c(0x45a)][_0x162c5c(0x7c7)],'archived':_0x529368[_0x162c5c(0x272)],'muteEndTime':_0x529368['muteEndTime'],'ephemeralExpiration':_0x529368['ephemeralExpiration']},_0x37f513=!0x1,_0x1ee66a={};_0x47388f['archived']!=null&&(this[_0x162c5c(0x69c)][_0x162c5c(0x6c3)](this[_0x162c5c(0x7c4)]+'\x20('+this['instance'][_0x162c5c(0x7c7)]+_0x162c5c(0x890)+_0x529368['id']+_0x162c5c(0x2f9)+_0x529368[_0x162c5c(0x272)]),_0x37f513=!0x0,_0x1ee66a['archived']=_0x529368['archived']),'muteEndTime'in _0x529368&&(this[_0x162c5c(0x69c)][_0x162c5c(0x6c3)](this['instanceName']+'\x20('+this[_0x162c5c(0x45a)][_0x162c5c(0x7c7)]+_0x162c5c(0x7fa)+_0x529368['id']+_0x162c5c(0x2f9)+(_0x529368[_0x162c5c(0x2b8)]??'0')),_0x37f513=!0x0,_0x1ee66a[_0x162c5c(0x2b8)]=_0x529368['muteEndTime']??0x0),_0x162c5c(0x4e9)in _0x529368&&(this[_0x162c5c(0x69c)][_0x162c5c(0x6c3)](this['instanceName']+'\x20('+this[_0x162c5c(0x45a)]['wuid']+_0x162c5c(0x62d)+_0x529368['id']+_0x162c5c(0x2f9)+(_0x529368[_0x162c5c(0x4e9)]!==void 0x0?_0x529368[_0x162c5c(0x4e9)]:'undefined')),_0x1ee66a[_0x162c5c(0x4e9)]=_0x529368[_0x162c5c(0x4e9)]===null?0x0:_0x529368[_0x162c5c(0x4e9)],_0x37f513=!0x0);let _0x52fc06;_0x37f513&&(_0x52fc06=await this[_0x162c5c(0x4f0)][_0x162c5c(0x532)][_0x162c5c(0x45c)]({'where':{'_id':_0x529368['id']}},_0x1ee66a,this[_0x162c5c(0x45a)][_0x162c5c(0x7c7)])),_0x52fc06&&q(this[_0x162c5c(0x7c4)],_0x162c5c(0x568),{'chat':_0x52fc06});}},'chats.delete':async _0x16883c=>{const _0x40820e=_0x3dcc2c;for(let _0x2f6ede of _0x16883c)if(_0x2f6ede[_0x40820e(0x900)](_0x40820e(0x82d))){await this['repository'][_0x40820e(0x532)][_0x40820e(0x5ce)]({'where':{'_id':_0x2f6ede}},this[_0x40820e(0x45a)][_0x40820e(0x7c7)]);let _0x14f772={'where':{'key':{'remoteJid':_0x2f6ede}}};await this[_0x40820e(0x4f0)]['message']['delete'](_0x14f772,this[_0x40820e(0x45a)][_0x40820e(0x7c7)]);}else{await this[_0x40820e(0x4f0)][_0x40820e(0x532)][_0x40820e(0x45c)]({'where':{'_id':_0x2f6ede}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x40820e(0x45a)][_0x40820e(0x7c7)]);let _0x31f7b0={'where':{'key':{'remoteJid':_0x2f6ede}}};await this[_0x40820e(0x4f0)]['message']['delete'](_0x31f7b0,this[_0x40820e(0x45a)][_0x40820e(0x7c7)]);}this[_0x40820e(0x8a6)](_0x40820e(0x2e1),[..._0x16883c]);}},this[_0x3dcc2c(0x541)]={'contacts.upsert':async(_0x225ca3,_0x2f620d)=>{const _0x289a46=_0x3dcc2c;let _0x172cd0=await this[_0x289a46(0x4f0)][_0x289a46(0x289)]['find']({'where':{}},this[_0x289a46(0x45a)][_0x289a46(0x7c7)]),_0x2c64b5=[];for await(let _0x9ef3bf of _0x225ca3)_0x172cd0[_0x289a46(0x678)](_0x345fc4=>_0x345fc4[_0x289a46(0x580)]===_0x9ef3bf['id'])||_0x2c64b5[_0x289a46(0x898)]({'_id':_0x9ef3bf['id'],'pushName':_0x9ef3bf?.[_0x289a46(0x75e)]||_0x9ef3bf?.[_0x289a46(0x8bb)],'owner':this[_0x289a46(0x45a)][_0x289a46(0x7c7)]});this[_0x289a46(0x8a6)](_0x289a46(0x3e8),_0x2c64b5),await this['repository'][_0x289a46(0x289)][_0x289a46(0x45b)](_0x2c64b5);},'contacts.update':async(_0x17d312,_0x28e125)=>{const _0x5e0eed=_0x3dcc2c;let _0x487be1=[];for await(let _0x5ef980 of _0x17d312)_0x487be1[_0x5e0eed(0x898)]({'_id':_0x5ef980['id'],'pushName':_0x5ef980?.[_0x5e0eed(0x75e)]??_0x5ef980?.[_0x5e0eed(0x8bb)],'owner':this[_0x5e0eed(0x45a)][_0x5e0eed(0x7c7)]});this['sendDataWebhook'](_0x5e0eed(0x832),_0x487be1);}},this['messageHandle']={'messaging-history.set':async({messages:_0x18ba4a,chats:_0xf74223,isLatest:_0x56345b},_0x4dc061)=>{const _0x423984=_0x3dcc2c;if(_0x56345b){let _0x5dd2ed=await Promise[_0x423984(0x873)](_0xf74223[_0x423984(0x59b)](async _0x3e6a45=>({'_id':_0x3e6a45['id'],'owner':this[_0x423984(0x45a)][_0x423984(0x7c7)],'group':_0x3e6a45['id'][_0x423984(0x900)](_0x423984(0x82d)),'name':_0x3e6a45[_0x423984(0x75e)]||_0x3e6a45['displayName']||_0x3e6a45[_0x423984(0x6dd)]||null,'contactname':null,'lastmsg':_0x3e6a45[_0x423984(0x2e7)]&&_0x3e6a45['conversationTimestamp'][_0x423984(0x412)]()[_0x423984(0x3a7)]<0xd?_0x3e6a45[_0x423984(0x2e7)]*0x3e8:_0x3e6a45[_0x423984(0x2e7)]||null,'archived':_0x3e6a45[_0x423984(0x272)]||!0x1,'unreadcount':_0x3e6a45['unreadCount']||0x0,'ephemeralExpiration':_0x3e6a45[_0x423984(0x4e9)]||0x0,'muteEndTime':_0x3e6a45[_0x423984(0x2b8)]||0x0})));this[_0x423984(0x8a6)](_0x423984(0x893),_0x5dd2ed),await this['upsertChats'](_0x5dd2ed,_0x4dc061);}let _0x28b9fe=[],_0x5b7180=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xcd600d]of Object[_0x423984(0x4eb)](_0x18ba4a)){if(_0xcd600d[_0x423984(0x577)]?.[_0x423984(0x33a)]||_0xcd600d[_0x423984(0x577)]?.[_0x423984(0x878)]||!_0xcd600d['message']||_0xcd600d[_0x423984(0x5e0)][_0x423984(0x5a2)]===_0x423984(0x737)||(Ls[_0x423984(0x544)][_0x423984(0x4b8)](_0xcd600d?.[_0x423984(0x232)])&&(_0xcd600d['messageTimestamp']=_0xcd600d[_0x423984(0x232)]?.[_0x423984(0x55b)]()),_0xcd600d['messageTimestamp']&&_0xcd600d['messageTimestamp'][_0x423984(0x412)]()[_0x423984(0x3a7)]<0xd&&(_0xcd600d[_0x423984(0x232)]=_0xcd600d[_0x423984(0x232)]*0x3e8),_0xcd600d[_0x423984(0x232)]<_0x5b7180))continue;let _0xb92810=(0x0,w[_0x423984(0x6c8)])(_0xcd600d[_0x423984(0x577)]),_0x585da8=(0x0,w[_0x423984(0x1e8)])(_0xb92810),{message_normalized:_0x28b504}=this['normalizeMessage'](_0xb92810,_0x585da8,null);Object[_0x423984(0x537)](_0x28b504)[_0x423984(0x3a7)]>0x0&&_0x28b9fe['push']({'_id':_0xcd600d[_0x423984(0x5e0)]['id'],'key':_0xcd600d[_0x423984(0x5e0)],'pushName':_0xcd600d['pushName'],'participant':_0xcd600d['participant'],'message':_0xb92810,'messageType':_0x585da8,'message_normalized':{'key':_0xcd600d[_0x423984(0x5e0)],'pushName':_0xcd600d['pushName'],'messageTimestamp':_0xcd600d['messageTimestamp'],..._0x28b504},'messageTimestamp':_0xcd600d[_0x423984(0x232)],'owner':this[_0x423984(0x45a)]['wuid']});}_0x4dc061[_0x423984(0x2ce)]&&_0x28b9fe[_0x423984(0x3a7)]>0x0&&(this[_0x423984(0x69c)][_0x423984(0x6c3)](this[_0x423984(0x7c4)]+'\x20('+this[_0x423984(0x45a)]['wuid']+_0x423984(0x7cd)+_0x28b9fe[_0x423984(0x3a7)]+_0x423984(0x247)+this[_0x423984(0x45a)]['wuid']+_0x423984(0x723)),await this[_0x423984(0x4f0)][_0x423984(0x577)][_0x423984(0x45b)]([..._0x28b9fe],this[_0x423984(0x45a)]['wuid'])),this['sendDataWebhook'](_0x423984(0x687),[..._0x28b9fe]),_0x18ba4a=void 0x0;},'messages.upsert':async({messages:_0x3af795,type:_0x3e238f},_0x10dfca)=>{const _0x32fe86=_0x3dcc2c;for(let _0x403a9b of _0x3af795){if(this[_0x32fe86(0x8af)]?.[_0x32fe86(0x2d6)]&&_0x403a9b[_0x32fe86(0x5e0)]['remoteJid'][_0x32fe86(0x855)](_0x32fe86(0x82d))){this[_0x32fe86(0x69c)]['verbose'](this['instanceName']+'\x20('+this[_0x32fe86(0x45a)][_0x32fe86(0x7c7)]+_0x32fe86(0x365));return;}if(_0x3e238f!=='notify'||!_0x403a9b?.[_0x32fe86(0x577)]||_0x403a9b[_0x32fe86(0x577)]?.[_0x32fe86(0x33a)]||_0x403a9b[_0x32fe86(0x577)]['senderKeyDistributionMessage']||_0x403a9b[_0x32fe86(0x5e0)][_0x32fe86(0x5a2)]==='status@broadcast')return;let _0x2e3a34=null,_0x527a13=null;if(_0x403a9b[_0x32fe86(0x36d)]&&_0x403a9b[_0x32fe86(0x36d)][0x0]===_0x32fe86(0x644)){console[_0x32fe86(0x664)](_0x32fe86(0x43c)),qt[_0x403a9b[_0x32fe86(0x5e0)]['id']]=_0x403a9b,this[_0x32fe86(0x841)](_0x403a9b,0x0);return;}qt[_0x403a9b[_0x32fe86(0x5e0)]['id']]&&(console['error'](_0x32fe86(0x784)),delete qt[_0x403a9b[_0x32fe86(0x5e0)]['id']]);try{_0x2e3a34=await this[_0x32fe86(0x775)](_0x403a9b),_0x527a13=_0x2e3a34?_0x2e3a34[_0x32fe86(0x5cc)](','):null;}catch(_0x4975dd){this[_0x32fe86(0x69c)][_0x32fe86(0x6c3)](this['instanceName']+'\x20('+this[_0x32fe86(0x45a)]['wuid']+_0x32fe86(0x7cd)+(_0x4975dd instanceof Error?_0x4975dd[_0x32fe86(0x577)]:JSON['stringify'](_0x4975dd,null,0x2))),_0x527a13=_0x32fe86(0x6b4);}this[_0x32fe86(0x1f1)][_0x32fe86(0x915)](_0x32fe86(0x780)),Ls[_0x32fe86(0x544)][_0x32fe86(0x4b8)](_0x403a9b[_0x32fe86(0x232)])&&(_0x403a9b['messageTimestamp']=_0x403a9b[_0x32fe86(0x232)]?.[_0x32fe86(0x55b)]()),_0x403a9b[_0x32fe86(0x232)]&&_0x403a9b[_0x32fe86(0x232)][_0x32fe86(0x412)]()[_0x32fe86(0x3a7)]<0xd&&(_0x403a9b['messageTimestamp']=_0x403a9b['messageTimestamp']*0x3e8);let _0xa65a87=_0x403a9b[_0x32fe86(0x577)],_0x4b5917=(0x0,w[_0x32fe86(0x6c8)])(_0xa65a87),_0x1be1f6=(0x0,w[_0x32fe86(0x1e8)])(_0x4b5917),{messageContent:_0x1f8dc1,message_normalized:_0x43c12e}=this[_0x32fe86(0x61a)](_0x4b5917,_0x1be1f6,_0x527a13);_0x1be1f6==='protocolMessage'&&_0x1f8dc1?.[_0x32fe86(0x5ba)]&&(_0x1be1f6=_0x32fe86(0x5ba));let _0x5a5b56,_0x208ac4=_0x403a9b[_0x32fe86(0x5e0)][_0x32fe86(0x5a2)][_0x32fe86(0x900)](_0x32fe86(0x82d));if(_0x403a9b[_0x32fe86(0x5e0)][_0x32fe86(0x58f)])_0x5a5b56=this[_0x32fe86(0x45a)][_0x32fe86(0x588)];else{let _0x2e680d=_0x208ac4?_0x403a9b[_0x32fe86(0x5e0)][_0x32fe86(0x1cf)]:_0x403a9b['key'][_0x32fe86(0x5a2)];_0x5a5b56=(await this[_0x32fe86(0x1cc)](_0x2e680d,_0x403a9b['pushName'],!0x1))[_0x32fe86(0x7b1)][_0x32fe86(0x3df)];}let _0x5903b3={'_id':_0x403a9b[_0x32fe86(0x5e0)]['id'],'key':_0x403a9b['key'],'isGroup':_0x208ac4,'profilePictureUrl':_0x5a5b56,'pushName':_0x403a9b['pushName'],'message':_0x4b5917,'messageType':_0x1be1f6,'message_normalized':{'key':_0x403a9b[_0x32fe86(0x5e0)],'pushName':_0x403a9b[_0x32fe86(0x3ad)],'messageTimestamp':_0x403a9b[_0x32fe86(0x232)],'source':(0x0,w[_0x32fe86(0x879)])(_0x403a9b[_0x32fe86(0x5e0)]['id']),..._0x43c12e},'messageTimestamp':_0x403a9b['messageTimestamp'],'owner':this[_0x32fe86(0x45a)]['wuid'],'source':(0x0,w[_0x32fe86(0x879)])(_0x403a9b['key']['id']),'expiration':_0x1f8dc1?.[_0x32fe86(0x802)]?.[_0x32fe86(0x372)]||0x0};_0x1f8dc1||(this[_0x32fe86(0x69c)]['error'](_0x32fe86(0x3ab)),this['logger'][_0x32fe86(0x664)](_0x5903b3)),this[_0x32fe86(0x69c)]['log'](this['instanceName']+'\x20('+this[_0x32fe86(0x45a)][_0x32fe86(0x7c7)]+_0x32fe86(0x7cd)+(_0x5903b3[_0x32fe86(0x5e0)]?.['fromMe']?'enviado\x20para':_0x32fe86(0x8ec))+'\x20['+_0x5903b3[_0x32fe86(0x5e0)]?.['remoteJid']['replace'](_0x32fe86(0x68e),'')+_0x32fe86(0x436)+_0x5903b3['messageType']+')'),_0x5903b3[_0x32fe86(0x633)]?.['text']&&this[_0x32fe86(0x69c)][_0x32fe86(0x843)](_0x403a9b['key']['id']+':\x20'+_0x5903b3['message_normalized']?.['text']),await this[_0x32fe86(0x4f0)]['message'][_0x32fe86(0x45b)]([_0x5903b3],this[_0x32fe86(0x45a)][_0x32fe86(0x7c7)]),this[_0x32fe86(0x8a6)]('messages.upsert',_0x5903b3),q(this[_0x32fe86(0x7c4)],'messages',{'message':_0x5903b3}),_0x403a9b['key'][_0x32fe86(0x5a2)]!==_0x32fe86(0x737)&&await this[_0x32fe86(0x472)](_0x10dfca,_0x5903b3,'MESSAGES_UPSERT');}},'messages.update':async(_0x23ea4b,_0x4d1155)=>{const _0x25fef5=_0x3dcc2c;let _0x4394d2={0x0:_0x25fef5(0x8b1),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x25fef5(0x449),0x4:'READ',0x5:_0x25fef5(0x6a9)};for await(let {key:_0x4be80d,update:_0x861584}of _0x23ea4b){if(this[_0x25fef5(0x8af)]?.[_0x25fef5(0x2d6)]&&_0x4be80d['remoteJid'][_0x25fef5(0x855)]('@g.us')){this['logger'][_0x25fef5(0x6c3)](this['instanceName']+'\x20('+this[_0x25fef5(0x45a)][_0x25fef5(0x7c7)]+_0x25fef5(0x604));return;}if(_0x4be80d['remoteJid']!=='status@broadcast'){let _0x3b8306=Date[_0x25fef5(0x27c)](),_0x9f38f7;_0x861584[_0x25fef5(0x577)]===null&&_0x861584[_0x25fef5(0x492)]===void 0x0?_0x9f38f7=_0x25fef5(0x334):_0x9f38f7=_0x4394d2[_0x861584[_0x25fef5(0x492)]];let _0x52ad3a=_0x4be80d[_0x25fef5(0x5a2)][_0x25fef5(0x817)](/:\d{1,2}@/g,'@'),_0x2e26b0={..._0x4be80d,'remoteJid':_0x52ad3a,'status':_0x9f38f7,'datetime':_0x3b8306,'owner':this[_0x25fef5(0x45a)][_0x25fef5(0x7c7)]};this[_0x25fef5(0x8a6)](_0x25fef5(0x741),_0x2e26b0),await this[_0x25fef5(0x69b)](_0x4be80d,_0x2e26b0);}}},'labels.association':async({type:_0x369517,association:_0x4bfe8a})=>{const _0x1564e8=_0x3dcc2c;if(_0x4bfe8a['type']===_0x1564e8(0x609)){let _0x51d721,_0x998042=0x0;for(;!_0x51d721&&_0x998042<this[_0x1564e8(0x4a4)];)_0x51d721=await this[_0x1564e8(0x4f0)][_0x1564e8(0x532)][_0x1564e8(0x25d)]({'where':{'_id':_0x4bfe8a[_0x1564e8(0x491)]}},this['instance'][_0x1564e8(0x7c7)]),_0x51d721||(_0x998042++,this[_0x1564e8(0x69c)]['info'](this[_0x1564e8(0x7c4)]+'\x20('+this[_0x1564e8(0x45a)]['wuid']+_0x1564e8(0x65e)+_0x4bfe8a['chatId']+_0x1564e8(0x326)+this[_0x1564e8(0x607)]+_0x1564e8(0x6c4)+_0x998042+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x1564e8(0x859)](this[_0x1564e8(0x607)]));if(!_0x51d721){this[_0x1564e8(0x69c)][_0x1564e8(0x664)](_0x1564e8(0x1f7)+_0x4bfe8a[_0x1564e8(0x491)]+'\x20depois\x20'+this['delayChatLabel_MAX_RETRIES']+_0x1564e8(0x4a2));return;}switch(_0x369517){case _0x1564e8(0x761):console[_0x1564e8(0x843)](_0x4bfe8a),await this[_0x1564e8(0x4f0)]['chat'][_0x1564e8(0x45c)]({'where':{'_id':_0x4bfe8a[_0x1564e8(0x491)]}},{'leadInfo.etiquetas':_0x4bfe8a[_0x1564e8(0x1e4)]},this['instance'][_0x1564e8(0x7c7)],void 0x0,_0x1564e8(0x360));break;case'remove':console[_0x1564e8(0x843)](_0x4bfe8a),await this[_0x1564e8(0x4f0)][_0x1564e8(0x532)]['updateOne']({'where':{'_id':_0x4bfe8a[_0x1564e8(0x491)]}},{'leadInfo.etiquetas':_0x4bfe8a[_0x1564e8(0x1e4)]},this[_0x1564e8(0x45a)][_0x1564e8(0x7c7)],void 0x0,_0x1564e8(0x202));break;default:this[_0x1564e8(0x69c)][_0x1564e8(0x664)](_0x1564e8(0x7f4)+_0x369517+']');}}},'labels.edit':async _0x5a5149=>{const _0x16417b=_0x3dcc2c;if(!_0x5a5149||!_0x5a5149['id']){this[_0x16417b(0x69c)]['error'](_0x16417b(0x7c3));return;}if(!_0x5a5149[_0x16417b(0x8c0)]){let _0x3730df=[_0x16417b(0x388),_0x16417b(0x223),_0x16417b(0x4a6),'#dfaef0',_0x16417b(0x241),_0x16417b(0x8b7),_0x16417b(0x512),'#d3a91f',_0x16417b(0x610),_0x16417b(0x773),_0x16417b(0x740),'#ffc5c7',_0x16417b(0x3eb),'#f64847',_0x16417b(0x4ac),_0x16417b(0x2cf),'#ffae04',_0x16417b(0x1ef),_0x16417b(0x7b3),_0x16417b(0x906)],_0x56c1b2;typeof _0x5a5149[_0x16417b(0x280)]==_0x16417b(0x6d9)&&_0x5a5149['color']>=0x0&&_0x5a5149[_0x16417b(0x280)]<_0x3730df[_0x16417b(0x3a7)]?_0x56c1b2=_0x3730df[_0x5a5149[_0x16417b(0x280)]]:(this['logger'][_0x16417b(0x664)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x5a5149[_0x16417b(0x280)]),_0x56c1b2=_0x16417b(0x872));let _0x2cf2ac={'_id':_0x5a5149['id'],'colorHex':_0x56c1b2,'color':_0x5a5149?.[_0x16417b(0x280)],'name':_0x5a5149?.[_0x16417b(0x75e)],'owner':this[_0x16417b(0x45a)][_0x16417b(0x7c7)]};await this[_0x16417b(0x4f0)][_0x16417b(0x894)][_0x16417b(0x45c)]({'where':{'_id':_0x5a5149['id']}},_0x2cf2ac,this[_0x16417b(0x45a)][_0x16417b(0x7c7)]),this[_0x16417b(0x69c)][_0x16417b(0x6c5)](this['instanceName']+'\x20('+this['instance'][_0x16417b(0x7c7)]+_0x16417b(0x71a)+_0x5a5149);}_0x5a5149[_0x16417b(0x8c0)]&&(await this[_0x16417b(0x4f0)][_0x16417b(0x894)]['delete']({'where':{'_id':_0x5a5149['id']}},this[_0x16417b(0x45a)]['wuid']),this[_0x16417b(0x69c)]['info']('Rótulo\x20deletado:\x27,\x20'+_0x5a5149['id']));}},this['groupHandler']={'groups.upsert':async _0x45b698=>{const _0x3d291a=_0x3dcc2c;this['localWebhook']?.[_0x3d291a(0x2d6)]||this[_0x3d291a(0x8a6)](_0x3d291a(0x4bb),_0x45b698);for(let _0x592d45 of _0x45b698)await this[_0x3d291a(0x59e)](_0x592d45);},'groups.update':async _0x2c8aed=>{const _0x27770d=_0x3dcc2c;this[_0x27770d(0x8af)]?.['groups_ignore']||this['sendDataWebhook'](_0x27770d(0x488),_0x2c8aed);for(let _0x2bbfa0 of _0x2c8aed)await this[_0x27770d(0x59e)](_0x2bbfa0);},'group-participants.update':async _0x3dea21=>{const _0x3cb219=_0x3dcc2c;this[_0x3cb219(0x8af)]?.[_0x3cb219(0x2d6)]||this[_0x3cb219(0x8a6)](_0x3cb219(0x329),_0x3dea21),await this['updateGroupParticipantsWebhook'](_0x3dea21);}},this[_0x3dcc2c(0x4a4)]=0x5,this[_0x3dcc2c(0x607)]=0x1388,this[_0x3dcc2c(0x402)]=0x0,this[_0x3dcc2c(0x775)]=async _0x35bf70=>{const _0x5e3137=_0x3dcc2c;if(_0x35bf70[_0x5e3137(0x577)]?.['pollUpdateMessage']){let _0x1ba200=await this[_0x5e3137(0x543)](_0x35bf70[_0x5e3137(0x577)][_0x5e3137(0x8ad)][_0x5e3137(0x63e)],!0x0);if(_0x1ba200){let _0x1e63e4=_0x1ba200[_0x5e3137(0x5e0)]['fromMe']?this[_0x5e3137(0x45a)][_0x5e3137(0x7c7)]+'@s.whatsapp.net':_0x1ba200[_0x5e3137(0x5e0)][_0x5e3137(0x1cf)]||_0x1ba200['key'][_0x5e3137(0x5a2)],_0x2ffcc9=_0x1ba200[_0x5e3137(0x5e0)]['id'],_0x3d0b9b=_0x1ba200[_0x5e3137(0x577)],_0x3db89c=Buffer[_0x5e3137(0x396)](_0x3d0b9b['messageContextInfo'][_0x5e3137(0x2f7)]['toString'](_0x5e3137(0x320)),_0x5e3137(0x320)),_0xe88e13=(0x0,w[_0x5e3137(0x447)])(_0x35bf70[_0x5e3137(0x577)]['pollUpdateMessage'][_0x5e3137(0x7df)],{'pollCreatorJid':_0x1e63e4,'pollMsgId':_0x2ffcc9,'pollEncKey':_0x3db89c,'voterJid':_0x35bf70[_0x5e3137(0x5e0)][_0x5e3137(0x58f)]?this[_0x5e3137(0x45a)][_0x5e3137(0x7c7)]+_0x5e3137(0x68e):_0x35bf70[_0x5e3137(0x5e0)][_0x5e3137(0x5a2)][_0x5e3137(0x900)](_0x5e3137(0x5f8))?_0x35bf70[_0x5e3137(0x5e0)][_0x5e3137(0x1cf)]:_0x35bf70[_0x5e3137(0x5e0)][_0x5e3137(0x5a2)]}),_0xc48638=[],_0x4729e4=_0xe88e13['selectedOptions'][_0x5e3137(0x59b)](_0x32b6be=>Buffer[_0x5e3137(0x396)](_0x32b6be)[_0x5e3137(0x412)](_0x5e3137(0x320)));for(let {optionName:_0x410c5a}of _0x3d0b9b[_0x5e3137(0x6fd)]?.[_0x5e3137(0x2ad)]||_0x3d0b9b['pollCreationMessageV3']?.[_0x5e3137(0x2ad)]||_0x3d0b9b['pollCreationMessageV2']?.[_0x5e3137(0x2ad)])_0x4729e4[_0x5e3137(0x539)]((0x0,w['sha256'])(Buffer[_0x5e3137(0x396)](_0x410c5a))[_0x5e3137(0x412)](_0x5e3137(0x320)))>-0x1&&_0xc48638[_0x5e3137(0x898)](_0x410c5a);return _0xc48638;}}return null;},this[_0x3dcc2c(0x61a)]=(_0x23518d,_0x4efede,_0x57c5c8)=>{const _0x209c91=_0x3dcc2c;try{let _0x51db26=_0x23518d?(0x0,w[_0x209c91(0x42e)])(_0x23518d)[_0x4efede]:void 0x0,_0x4c0b29={},_0x2c5db8=null,_0x38345a=null,_0x153f70=null;_0x4efede===_0x209c91(0x33a)&&_0x51db26?.[_0x209c91(0x5ba)]&&(_0x4efede=(0x0,w['getContentType'])(_0x51db26[_0x209c91(0x5ba)]),_0x2c5db8=_0x23518d['protocolMessage'][_0x209c91(0x5e0)]['id'],_0x51db26=_0x23518d['protocolMessage']['editedMessage'][_0x4efede]),_0x23518d[_0x4efede]?.['contextInfo']?.[_0x209c91(0x60e)]&&_0x23518d[_0x4efede]?.['contextInfo']?.['quotedMessage']&&(_0x38345a=_0x23518d[_0x4efede][_0x209c91(0x802)][_0x209c91(0x60e)]),_0x23518d[_0x209c91(0x72c)]&&(_0x153f70=_0x23518d[_0x209c91(0x72c)]['key']['id']);let _0x210f50;if(_0x51db26&&typeof _0x51db26==_0x209c91(0x3e2)&&'pollCreationMessageKey'in _0x51db26&&({pollCreationMessageKey:_0x210f50}=_0x51db26),_0x4efede===_0x209c91(0x6fd)||_0x4efede===_0x209c91(0x8eb)||_0x4efede===_0x209c91(0x34b)){let _0xe5ca97=_0x51db26[_0x209c91(0x2ad)][_0x209c91(0x59b)](_0x5b321d=>_0x5b321d[_0x209c91(0x486)])[_0x209c91(0x5cc)]('|');_0x4c0b29['convertedOptions']=_0xe5ca97;}let _0xe95369='';if(_0x51db26&&(_0xe95369+=_0x51db26[_0x209c91(0x75e)]?_0x51db26[_0x209c91(0x75e)]:'',_0xe95369+=_0x51db26[_0x209c91(0x5fe)]?'\x20'+_0x51db26[_0x209c91(0x5fe)]:'',_0xe95369+=_0x51db26['conversation']?'\x20'+_0x51db26[_0x209c91(0x778)]:'',_0xe95369+=_0x51db26[_0x209c91(0x534)]?'\x20'+_0x51db26[_0x209c91(0x534)]:''),_0x4efede===_0x209c91(0x7d1)){_0xe95369=(_0x51db26[_0x209c91(0x632)]||'')+'\x0a'+(_0x51db26[_0x209c91(0x61b)]||'')+'\x0a'+(_0x51db26[_0x209c91(0x654)]||'');let _0x1693aa=this[_0x209c91(0x536)](_0x51db26[_0x209c91(0x806)]);_0x4c0b29['convertedOptions']=_0x1693aa;}if(_0x4efede===_0x209c91(0x77c)&&(_0x57c5c8=_0x51db26[_0x209c91(0x632)]),_0x51db26&&_0x51db26[_0x209c91(0x574)]){let _0x269b4e=this['formatVCard'](JSON[_0x209c91(0x716)](_0x51db26['vcard'],null,0x2));_0xe95369=_0xe95369+'\x0a'+_0x269b4e;}if(_0x51db26){let {sections:_0x3efbdc,listType:_0x51b29e,displayName:_0xbe7e36,vcard:_0x411067,contactVcard:_0x5ec5a6,name:_0x1f9435,caption:_0x285bde,conversation:_0x579e17,pollCreationMessageKey:_0x493dee,footerText:_0x371af0,contentText:_0x5bd374,pageCount:_0x3cf043,headerType:_0x21e264,isAvatar:_0x3388b3,isAnimated:_0x3f51e6,fallbackLc:_0x50f0c9,fallbackLg:_0x366947,namespace:_0x1a48a7,elementName:_0x420d2e,localizableParams:_0x313c19,viewOnce:_0x168c6c,height:_0x25abf5,width:_0x46885e,key:_0x41ff56,firstScanLength:_0x1427d0,firstScanSidecar:_0x5d3bee,gifPlayback:_0x37768d,gifAttribution:_0x2e7e91,midQualityFileSha256:_0x5429e5,scansSidecar:_0x56fc07,streamingSidecar:_0x395607,thumbnailHeight:_0x176265,thumbnailWidth:_0x104ad5,thumbnailEncSha256:_0x4c9f64,thumbnailDirectPath:_0x11eda3,canonicalUrl:_0x47a38d,matchedText:_0x2f38f5,previewType:_0x51149a,thumbnailSha256:_0x438351,deviceListMetadataVersion:_0x5a202c,inviteLinkGroupTypeV2:_0x321b54,interactiveAnnotations:_0x2dd62c,scanLengths:_0x5e5f7d,jpegThumbnail:_0x315d7c,url:_0x38e7c7,mediaKeyTimestamp:_0x3a6a63,waveform:_0x43b678,stickerSentTs:_0x1ba8e1,firstFrameLength:_0x3d9939,fileEncSha256:_0x1eae38,contextInfo:_0x1e6e26,firstFrameSidecar:_0x3792bc,directPath:_0x205408,fileSha256:_0x278f82,mediaKey:_0x24a6aa,senderTimestampMs:_0x19d1b1,..._0xd94cdc}=_0x51db26;(_0x4efede===_0x209c91(0x7d1)||_0x4efede===_0x209c91(0x77c))&&(delete _0xd94cdc[_0x209c91(0x632)],delete _0xd94cdc['description']),typeof _0x51db26==_0x209c91(0x8e4)?_0x4c0b29={'text':_0x51db26,'type':_0x4efede||'conversation',..._0x2c5db8&&{'edited':_0x2c5db8},..._0x38345a&&{'quoted':_0x38345a},..._0x153f70&&{'reaction':_0x153f70}}:_0x4c0b29={'text':_0xe95369,..._0xd94cdc,..._0x4efede===_0x209c91(0x8ad)?{'poll_id':_0x51db26[_0x209c91(0x63e)]['id'],'quoted':_0x51db26[_0x209c91(0x63e)]['id'],'vote':_0x57c5c8}:{},..._0x4efede===_0x209c91(0x77c)?{'vote':_0x57c5c8}:{},'type':_0x4efede,..._0x2c5db8&&{'edited':_0x2c5db8},..._0x38345a&&{'quoted':_0x38345a},..._0x153f70&&{'reaction':_0x153f70},...(_0x4efede===_0x209c91(0x6fd)||_0x4efede===_0x209c91(0x8eb)||_0x4efede==='pollCreationMessageV3'||_0x4efede===_0x209c91(0x7d1))&&{'convertedOptions':_0x4c0b29['convertedOptions']}};}return{'messageType':_0x4efede,'messageContent':_0x51db26,'message_normalized':_0x4c0b29};}catch(_0x4a2613){return this[_0x209c91(0x69c)][_0x209c91(0x664)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x4a2613),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processUUID']=null,this[_0x3dcc2c(0x417)]=[],(this[_0x3dcc2c(0x3f7)](),this['initializeQueue'](),this[_0x3dcc2c(0x45a)]['qrcode']={'count':0x0},this[_0x3dcc2c(0x45a)][_0x3dcc2c(0x840)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x52f823){const _0x2fd990=a0_0xa27d39;if(!_0x52f823){this[_0x2fd990(0x45a)][_0x2fd990(0x75e)]=(0x0,_i['v4'])();return;}this[_0x2fd990(0x45a)][_0x2fd990(0x75e)]=_0x52f823,this['sendDataWebhook']('status.instance',{'instance':this[_0x2fd990(0x45a)]['name'],'status':_0x2fd990(0x72f)});}get[a0_0xa27d39(0x7c4)](){const _0x35e4ee=a0_0xa27d39;return this[_0x35e4ee(0x45a)][_0x35e4ee(0x75e)];}get[a0_0xa27d39(0x7c7)](){const _0x164ad2=a0_0xa27d39;return this['instance'][_0x164ad2(0x7c7)];}async[a0_0xa27d39(0x4c0)](){const _0x27a41b=a0_0xa27d39;let _0x11df76=this[_0x27a41b(0x1f1)][_0x27a41b(0x87d)]?.[_0x27a41b(0x75e)]??this[_0x27a41b(0x1f1)][_0x27a41b(0x87d)]?.[_0x27a41b(0x8bb)];if(!_0x11df76){if(this[_0x27a41b(0x44e)][_0x27a41b(0x711)]('DATABASE')[_0x27a41b(0x2ce)]){let _0x2e24c5=await R[_0x27a41b(0x502)]()['db'](this[_0x27a41b(0x44e)]['get'](_0x27a41b(0x3d1))['CONNECTION'][_0x27a41b(0x67b)]+_0x27a41b(0x87a))['collection'](this['instanceName'])['findOne']({'_id':'creds'});if(_0x2e24c5){let _0x489109=JSON[_0x27a41b(0x4ea)](JSON[_0x27a41b(0x716)](_0x2e24c5),w['BufferJSON'][_0x27a41b(0x4cd)]);_0x11df76=_0x489109['me']?.[_0x27a41b(0x75e)]||_0x489109['me']?.[_0x27a41b(0x8bb)];}}else{if((0x0,Ue['existsSync'])((0x0,j['join'])(Me,this[_0x27a41b(0x7c4)],'creds.json'))){let _0x53e8af=JSON[_0x27a41b(0x4ea)]((0x0,Ue[_0x27a41b(0x4ec)])((0x0,j[_0x27a41b(0x5cc)])(Me,this['instanceName'],'creds.json'),{'encoding':_0x27a41b(0x87f)}));_0x11df76=_0x53e8af['me']?.[_0x27a41b(0x75e)]||_0x53e8af['me']?.[_0x27a41b(0x8bb)];}}}return _0x11df76;}get['profilePictureUrl'](){const _0x468884=a0_0xa27d39;return this[_0x468884(0x45a)][_0x468884(0x588)];}get[a0_0xa27d39(0x274)](){const _0xa8a334=a0_0xa27d39;return this['instance'][_0xa8a334(0x790)]?.['pairingCode']?{'pairingCode':this[_0xa8a334(0x45a)][_0xa8a334(0x790)]?.[_0xa8a334(0x5d5)]}:{'code':this[_0xa8a334(0x45a)][_0xa8a334(0x790)]?.['code'],'base64':this[_0xa8a334(0x45a)][_0xa8a334(0x790)]?.[_0xa8a334(0x745)]};}async[a0_0xa27d39(0x36b)](){const _0x6544fa=a0_0xa27d39;let _0x1450d9=await this[_0x6544fa(0x4f0)][_0x6544fa(0x7bc)][_0x6544fa(0x678)](this[_0x6544fa(0x7c4)]);this[_0x6544fa(0x8af)][_0x6544fa(0x63b)]=_0x1450d9?.['url'],this['localWebhook']['enabled']=_0x1450d9?.[_0x6544fa(0x6c9)],this['localWebhook'][_0x6544fa(0x81d)]=_0x1450d9?.[_0x6544fa(0x81d)],this[_0x6544fa(0x8af)][_0x6544fa(0x5d0)]=_0x1450d9?.[_0x6544fa(0x5d0)],this['localWebhook']['QRCODE_UPDATED']=_0x1450d9?.['QRCODE_UPDATED'],this[_0x6544fa(0x8af)]['SEND_MESSAGE']=_0x1450d9?.[_0x6544fa(0x6a6)],this[_0x6544fa(0x8af)]['MESSAGES_UPSERT']=_0x1450d9?.[_0x6544fa(0x3ae)],this[_0x6544fa(0x8af)]['MESSAGES_UPDATE']=_0x1450d9?.[_0x6544fa(0x42c)],this[_0x6544fa(0x8af)][_0x6544fa(0x281)]=_0x1450d9?.[_0x6544fa(0x281)],this[_0x6544fa(0x8af)][_0x6544fa(0x3a2)]=_0x1450d9?.['GROUPS_UPDATE'],this[_0x6544fa(0x8af)]['GROUP_PARTICIPANTS_UPDATE']=_0x1450d9?.[_0x6544fa(0x8db)],this[_0x6544fa(0x8af)][_0x6544fa(0x441)]=_0x1450d9?.[_0x6544fa(0x441)],this[_0x6544fa(0x8af)][_0x6544fa(0x639)]=_0x1450d9?.[_0x6544fa(0x639)],this['localWebhook']['CHATS_UPDATE']=_0x1450d9?.['CHATS_UPDATE'],this['localWebhook']['CHATS_DELETE']=_0x1450d9?.[_0x6544fa(0x562)],this['localWebhook']['CONTACTS_SET']=_0x1450d9?.[_0x6544fa(0x538)],this['localWebhook'][_0x6544fa(0x47f)]=_0x1450d9?.[_0x6544fa(0x47f)],this[_0x6544fa(0x8af)]['CONTACTS_UPDATE']=_0x1450d9?.[_0x6544fa(0x20e)],this['localWebhook'][_0x6544fa(0x5b7)]=_0x1450d9?.['PRESENCE_UPDATE'],this[_0x6544fa(0x8af)][_0x6544fa(0x234)]=_0x1450d9?.[_0x6544fa(0x234)],this[_0x6544fa(0x8af)]['CONNECTION_UPDATE']=_0x1450d9?.[_0x6544fa(0x2ba)],this[_0x6544fa(0x8af)][_0x6544fa(0x2d6)]=_0x1450d9?.['groups_ignore'];}async[a0_0xa27d39(0x42a)](_0x54a334){const _0x3a9bc0=a0_0xa27d39;let _0x267a26=[_0x3a9bc0(0x580),'url',_0x3a9bc0(0x6c9),_0x3a9bc0(0x81d),'STATUS_INSTANCE',_0x3a9bc0(0x37f),_0x3a9bc0(0x42c),'MESSAGES_UPSERT',_0x3a9bc0(0x6a6),_0x3a9bc0(0x281),'GROUPS_UPDATE',_0x3a9bc0(0x8db),'CHATS_SET',_0x3a9bc0(0x639),_0x3a9bc0(0x2dd),'CHATS_DELETE',_0x3a9bc0(0x538),_0x3a9bc0(0x47f),_0x3a9bc0(0x20e),_0x3a9bc0(0x5b7),_0x3a9bc0(0x234),_0x3a9bc0(0x2ba),_0x3a9bc0(0x2d6)],_0x31ca86={};return _0x267a26['forEach'](_0x44cd9f=>{_0x54a334[_0x44cd9f]!==void 0x0&&(_0x31ca86[_0x44cd9f]=_0x54a334[_0x44cd9f]);}),_0x31ca86[_0x3a9bc0(0x63b)]&&(_0x31ca86[_0x3a9bc0(0x63b)]=_0x31ca86[_0x3a9bc0(0x63b)][_0x3a9bc0(0x6f8)]()),await this[_0x3a9bc0(0x4f0)][_0x3a9bc0(0x7bc)]['create'](_0x31ca86,this[_0x3a9bc0(0x7c4)]),Object[_0x3a9bc0(0x1f5)](this['localWebhook'],_0x31ca86),await this[_0x3a9bc0(0x4f0)][_0x3a9bc0(0x7bc)]['find'](this['instanceName']);}async[a0_0xa27d39(0x3bc)](){const _0x1f1490=a0_0xa27d39;return await this['repository'][_0x1f1490(0x7bc)][_0x1f1490(0x678)](this['instanceName']);}async['sendDataWebhook'](_0x3e7598,_0x4d3a43){const _0x5aeb9c=a0_0xa27d39;let _0x4f473b=_0x3e7598['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0x3a0518=this['localWebhook'][_0x5aeb9c(0x6c9)]&&(0x0,L[_0x5aeb9c(0x787)])(this[_0x5aeb9c(0x8af)][_0x5aeb9c(0x63b)])?this[_0x5aeb9c(0x8af)][_0x5aeb9c(0x63b)]+(this[_0x5aeb9c(0x8af)][_0x5aeb9c(0x81d)]?this[_0x5aeb9c(0x1ec)][_0x3e7598]:''):null,_0x4eaa24=this[_0x5aeb9c(0x8af)][_0x4f473b],_0x29a524=me&&me[_0x5aeb9c(0x6c9)]&&(0x0,L[_0x5aeb9c(0x787)])(me[_0x5aeb9c(0x63b)])?me['url']+(me[_0x5aeb9c(0x81d)]?this[_0x5aeb9c(0x1ec)][_0x3e7598]:''):null,_0x3ee0b2=me?me[_0x4f473b]:null;if(_0x4eaa24&&_0x3a0518)try{await te[_0x5aeb9c(0x544)][_0x5aeb9c(0x5bc)]({'baseURL':_0x3a0518})[_0x5aeb9c(0x30c)]('',{'event':_0x3e7598,'instance':this[_0x5aeb9c(0x45a)][_0x5aeb9c(0x75e)],'apikey':this['instance'][_0x5aeb9c(0x59d)],'data':_0x4d3a43}),this[_0x5aeb9c(0x69c)]['log'](this[_0x5aeb9c(0x7c4)]+'\x20('+this[_0x5aeb9c(0x45a)][_0x5aeb9c(0x7c7)]+_0x5aeb9c(0x51e)+_0x3e7598+':\x20'+_0x3a0518);}catch{this[_0x5aeb9c(0x69c)][_0x5aeb9c(0x664)](this[_0x5aeb9c(0x7c4)]+'\x20('+this[_0x5aeb9c(0x45a)]['wuid']+_0x5aeb9c(0x755)+_0x3e7598+':\x20'+_0x3a0518);}if(_0x3ee0b2&&_0x29a524)try{await te[_0x5aeb9c(0x544)][_0x5aeb9c(0x5bc)]({'baseURL':_0x29a524})[_0x5aeb9c(0x30c)]('',{'event':_0x3e7598,'instance':this[_0x5aeb9c(0x45a)][_0x5aeb9c(0x75e)],'apikey':this['instance'][_0x5aeb9c(0x59d)],'data':_0x4d3a43}),this[_0x5aeb9c(0x69c)][_0x5aeb9c(0x843)](this[_0x5aeb9c(0x7c4)]+'\x20('+this[_0x5aeb9c(0x45a)][_0x5aeb9c(0x7c7)]+_0x5aeb9c(0x2fa)+_0x3e7598+':\x20'+_0x29a524);}catch{this[_0x5aeb9c(0x69c)][_0x5aeb9c(0x664)](this[_0x5aeb9c(0x7c4)]+'\x20('+this[_0x5aeb9c(0x45a)][_0x5aeb9c(0x7c7)]+_0x5aeb9c(0x5a3)+_0x3e7598+':\x20'+_0x29a524);}}async[a0_0xa27d39(0x34a)]({qr:_0x4751e9,connection:_0x4334cc,lastDisconnect:_0x247836}){const _0x6859a1=a0_0xa27d39;if(_0x4751e9){if(this['instance'][_0x6859a1(0x790)]['count']===Fo)return this[_0x6859a1(0x8a6)]('qrcode.updated',{'message':_0x6859a1(0x715),'statusCode':w[_0x6859a1(0x2e3)][_0x6859a1(0x822)]}),this[_0x6859a1(0x24a)]={'state':'refused','statusReason':w[_0x6859a1(0x2e3)][_0x6859a1(0x80c)]},this[_0x6859a1(0x8a6)](_0x6859a1(0x8f3),{'instance':this['instance'][_0x6859a1(0x75e)],...this[_0x6859a1(0x24a)]}),this[_0x6859a1(0x8a6)](_0x6859a1(0x719),{'instance':this[_0x6859a1(0x45a)][_0x6859a1(0x75e)],'status':'removed'}),this[_0x6859a1(0x4f0)][_0x6859a1(0x6d4)][_0x6859a1(0x5ce)](this[_0x6859a1(0x45a)][_0x6859a1(0x75e)]),this[_0x6859a1(0x271)]=!0x0,re[_0x6859a1(0x20d)](K,this[_0x6859a1(0x45a)][_0x6859a1(0x75e)]),this['eventEmitter'][_0x6859a1(0x6af)]('no.connection',this[_0x6859a1(0x45a)][_0x6859a1(0x75e)]);this['instance']['qrcode']['count']++;let _0xe9fb41={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x6859a1(0x6e3),'dark':_0x6859a1(0x872)}};xi['default'][_0x6859a1(0x90a)](_0x4751e9,_0xe9fb41,(_0x3af83b,_0x5b49eb)=>{const _0x37691e=_0x6859a1;if(_0x3af83b){this[_0x37691e(0x69c)]['error'](this['instanceName']+'\x20('+this[_0x37691e(0x45a)][_0x37691e(0x7c7)]+_0x37691e(0x41e)+(_0x3af83b instanceof Error?_0x3af83b[_0x37691e(0x577)]:JSON['stringify'](_0x3af83b,null,0x2)));return;}this[_0x37691e(0x45a)][_0x37691e(0x790)][_0x37691e(0x745)]=_0x5b49eb,this[_0x37691e(0x45a)][_0x37691e(0x790)][_0x37691e(0x612)]=_0x4751e9,!this[_0x37691e(0x284)]&&this[_0x37691e(0x8a6)]('qrcode.updated',{'qrcode':{'instance':this[_0x37691e(0x45a)][_0x37691e(0x75e)],'pairingCode':this[_0x37691e(0x45a)][_0x37691e(0x790)][_0x37691e(0x5d5)],'code':_0x4751e9,'base64':_0x5b49eb}});}),this[_0x6859a1(0x284)]?this['instance'][_0x6859a1(0x790)][_0x6859a1(0x5d5)]||(await(0x0,w[_0x6859a1(0x753)])(0x7d0),this[_0x6859a1(0x45a)]['qrcode'][_0x6859a1(0x5d5)]=await this['client']['requestPairingCode'](this[_0x6859a1(0x284)])):this[_0x6859a1(0x45a)][_0x6859a1(0x790)][_0x6859a1(0x5d5)]=null,Di[_0x6859a1(0x544)][_0x6859a1(0x3de)](_0x4751e9,{'small':!0x0},_0x343a02=>this['logger']['log'](_0x6859a1(0x433)+this[_0x6859a1(0x45a)]['name']+_0x6859a1(0x815)+this[_0x6859a1(0x45a)][_0x6859a1(0x790)][_0x6859a1(0x875)]+_0x6859a1(0x54c)+this['instance']['qrcode'][_0x6859a1(0x5d5)]+_0x6859a1(0x8a0)+_0x343a02));}if(_0x4334cc&&(this[_0x6859a1(0x24a)]={'state':_0x4334cc,'statusReason':_0x247836?.[_0x6859a1(0x664)]?.[_0x6859a1(0x64b)]?.[_0x6859a1(0x58e)]??0xc8},this[_0x6859a1(0x8a6)]('connection.update',{'instance':this[_0x6859a1(0x45a)][_0x6859a1(0x75e)],...this['stateConnection']})),_0x4334cc===_0x6859a1(0x8f1)){if(this[_0x6859a1(0x446)]++,this['reconnectTimestamps']['push'](Date[_0x6859a1(0x27c)]()),this[_0x6859a1(0x540)]=this[_0x6859a1(0x540)][_0x6859a1(0x842)](_0x5cbfd8=>Date[_0x6859a1(0x27c)]()-_0x5cbfd8<this[_0x6859a1(0x771)]),_0x247836['error']?.['output']?.[_0x6859a1(0x58e)]!==w[_0x6859a1(0x2e3)][_0x6859a1(0x57b)]){let _0x2cccbe=this[_0x6859a1(0x446)]<=0x1?0x0:Math[_0x6859a1(0x7d2)](Math['pow'](0x2,this[_0x6859a1(0x446)]-0x1)*0x3e8,0x493e0);console[_0x6859a1(0x843)](this[_0x6859a1(0x7c4)]+_0x6859a1(0x279)+this[_0x6859a1(0x446)]+_0x6859a1(0x80f)+_0x2cccbe/0x3e8+_0x6859a1(0x238)),await new Promise(_0xabe588=>setTimeout(_0xabe588,_0x2cccbe)),console[_0x6859a1(0x843)]('Tentando\x20reconectar...'),await this[_0x6859a1(0x677)]();}else{this[_0x6859a1(0x8a6)]('status.instance',{'instance':this[_0x6859a1(0x45a)]['name'],'status':_0x6859a1(0x2bb)}),this[_0x6859a1(0x45a)]['ScheduleMessage'][_0x6859a1(0x451)]=!0x1,this[_0x6859a1(0x4f0)][_0x6859a1(0x7bc)][_0x6859a1(0x5ce)](this['instanceName']),this[_0x6859a1(0x4f0)][_0x6859a1(0x6d4)][_0x6859a1(0x5bc)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x6859a1(0x27c)]()},this['instance']['name']),re[_0x6859a1(0x20d)](K,this['instance'][_0x6859a1(0x75e)]);try{this[_0x6859a1(0x69c)][_0x6859a1(0x6c3)](this[_0x6859a1(0x7c4)]+'\x20('+this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x4a7ce7=await this['repository']['message']['deleteAll'](this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]);_0x4a7ce7['success']?this[_0x6859a1(0x69c)][_0x6859a1(0x6c3)](this[_0x6859a1(0x7c4)]+'\x20('+this[_0x6859a1(0x45a)]['wuid']+_0x6859a1(0x5fc)):this['logger'][_0x6859a1(0x664)](_0x6859a1(0x6be)+_0x4a7ce7[_0x6859a1(0x664)]);}catch(_0x37f7c9){this[_0x6859a1(0x69c)]['error'](_0x6859a1(0x36a)+_0x37f7c9['message']);}this[_0x6859a1(0x45a)][_0x6859a1(0x840)][_0x6859a1(0x795)]!==null&&(this[_0x6859a1(0x69c)][_0x6859a1(0x6c3)](this[_0x6859a1(0x7c4)]+'\x20('+this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x6859a1(0x45a)][_0x6859a1(0x840)][_0x6859a1(0x795)]),this[_0x6859a1(0x45a)][_0x6859a1(0x840)][_0x6859a1(0x795)]=null),this[_0x6859a1(0x69c)]['verbose'](this[_0x6859a1(0x7c4)]+'\x20('+this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]+_0x6859a1(0x647)),this['AutomateSystem']=null,this[_0x6859a1(0x48d)]['emit']('remove.instance',this[_0x6859a1(0x45a)]['name'],'inner'),this[_0x6859a1(0x1f1)]?.['ws']?.['close'](),this[_0x6859a1(0x1f1)][_0x6859a1(0x2b3)](new Error('Close\x20connection'));}}if(_0x4334cc===_0x6859a1(0x483)){this['logger'][_0x6859a1(0x76e)](this[_0x6859a1(0x7c4)]+'\x20('+this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]+_0x6859a1(0x65a)+this[_0x6859a1(0x1f1)][_0x6859a1(0x64d)][_0x6859a1(0x608)]?.[_0x6859a1(0x8de)]),this[_0x6859a1(0x1f1)][_0x6859a1(0x64d)][_0x6859a1(0x608)]?.['myAppStateKeyId']||(this['logger'][_0x6859a1(0x76e)](this[_0x6859a1(0x7c4)]+'\x20('+this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]+_0x6859a1(0x783)),this[_0x6859a1(0x1f1)]['ev'][_0x6859a1(0x6e8)]()),this[_0x6859a1(0x2b0)],this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]=this[_0x6859a1(0x1f1)]['user']['id'][_0x6859a1(0x817)](/:\d+/,'')[_0x6859a1(0x817)]('@s.whatsapp.net',''),this['instance']['profilePictureUrl']=(await this[_0x6859a1(0x8dc)](this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)]+'@s.whatsapp.net'))['profilePictureUrl'],this[_0x6859a1(0x4f0)][_0x6859a1(0x6d4)][_0x6859a1(0x5bc)]({'online':!0x0,'owner':this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)],'lastDisconnect':null},this[_0x6859a1(0x45a)][_0x6859a1(0x75e)]);let _0x1a3d05='Número:\x20'+this[_0x6859a1(0x45a)][_0x6859a1(0x7c7)],_0x14829f=0x28,_0x48fb59=Math[_0x6859a1(0x65c)]((_0x14829f-_0x1a3d05[_0x6859a1(0x3a7)])/0x2),_0x5d1a54='\x20'[_0x6859a1(0x71b)](_0x48fb59),_0x4b29a7=_0x6859a1(0x336),_0x1c4926=_0x6859a1(0x5a7)+this[_0x6859a1(0x45a)]['name'],_0x22149f=(''+_0x5d1a54+_0x1a3d05+_0x5d1a54)[_0x6859a1(0x310)](_0x14829f,'\x20'),_0x5819fe=(''+_0x5d1a54+_0x4b29a7+_0x5d1a54)[_0x6859a1(0x310)](_0x14829f,'\x20'),_0x23140a=(''+_0x5d1a54+_0x1c4926+_0x5d1a54)['padEnd'](_0x14829f,'\x20'),_0x32ca10=Math[_0x6859a1(0x24f)](_0x22149f['length'],_0x5819fe[_0x6859a1(0x3a7)],_0x23140a['length']),_0x3db097=_0x22149f[_0x6859a1(0x310)](_0x32ca10,'\x20'),_0x4e01bd=_0x5819fe[_0x6859a1(0x310)](_0x32ca10,'\x20'),_0x4eb20c=_0x23140a['padEnd'](_0x32ca10,'\x20');this[_0x6859a1(0x69c)]['info']((_0x6859a1(0x519)+'─'[_0x6859a1(0x71b)](_0x32ca10)+_0x6859a1(0x5a0)+_0x4e01bd+_0x6859a1(0x47e)+_0x4eb20c+_0x6859a1(0x47e)+_0x3db097+_0x6859a1(0x64f)+'─'['repeat'](_0x32ca10)+'┘')[_0x6859a1(0x817)](/^ +/gm,'\x20\x20')),this[_0x6859a1(0x6d5)](),this[_0x6859a1(0x45a)]['ScheduleMessage'][_0x6859a1(0x451)]=!0x0;}}[a0_0xa27d39(0x2b0)](){const _0x55cdc3=a0_0xa27d39;this[_0x55cdc3(0x446)]=0x0,this[_0x55cdc3(0x540)]=[];}async[a0_0xa27d39(0x543)](_0x4a7951,_0x598d47=!0x1){const _0x26e6c9=a0_0xa27d39;try{let _0x433a4d=await this[_0x26e6c9(0x4f0)][_0x26e6c9(0x577)][_0x26e6c9(0x678)]({'where':{'_id':_0x4a7951['id']}},this[_0x26e6c9(0x45a)][_0x26e6c9(0x7c7)]);return _0x598d47?_0x433a4d[0x0]:_0x433a4d[0x0]['message'];}catch{return{'conversation':''};}}[a0_0xa27d39(0x3f7)](){const _0x3f1318=a0_0xa27d39;let _0x5e73c0=this[_0x3f1318(0x44e)][_0x3f1318(0x711)](_0x3f1318(0x718)),_0x13f59e=this[_0x3f1318(0x44e)][_0x3f1318(0x711)](_0x3f1318(0x3d1));_0x5e73c0?.[_0x3f1318(0x305)]&&!_0x13f59e[_0x3f1318(0x2ce)]&&setInterval(()=>{const _0x811b2=_0x3f1318;try{for(let [_0x16e0b2,_0x422acc]of Object['entries'](_0x5e73c0))_0x422acc===!0x0&&(0x0,je[_0x811b2(0x700)])(_0x811b2(0x76f)+(0x0,j[_0x811b2(0x5cc)])(this['storePath'],_0x16e0b2['toLowerCase'](),this[_0x811b2(0x45a)][_0x811b2(0x7c7)])+_0x811b2(0x50c));}catch{}},(_0x5e73c0?.[_0x3f1318(0x305)]??0xe10)*0x3e8);}async[a0_0xa27d39(0x518)](){const _0x3efb5a=a0_0xa27d39;let _0x5ae9a9=this[_0x3efb5a(0x44e)]['get'](_0x3efb5a(0x3d1)),_0x425eb1=this['configService'][_0x3efb5a(0x711)](_0x3efb5a(0x777));return _0x425eb1?.['ENABLED']?await xs(_0x425eb1,this[_0x3efb5a(0x45a)][_0x3efb5a(0x75e)]):_0x5ae9a9[_0x3efb5a(0x2ce)]?await _s(this[_0x3efb5a(0x45a)]['name']):await(0x0,w[_0x3efb5a(0x1cd)])((0x0,j[_0x3efb5a(0x5cc)])(Me,this[_0x3efb5a(0x45a)]['name']));}async['AutomateFunctions'](){const _0x4c7a34=a0_0xa27d39;let _0x25e2e2=()=>Math[_0x4c7a34(0x65c)](Math[_0x4c7a34(0x1de)]()*0x4e21)+0x7d0,_0x7eaf85=async()=>{const _0x3fa42d=_0x4c7a34;if(!this[_0x3fa42d(0x45a)][_0x3fa42d(0x840)]['isConnected']){this[_0x3fa42d(0x69c)][_0x3fa42d(0x6c3)](this[_0x3fa42d(0x7c4)]+'\x20('+this['instance'][_0x3fa42d(0x7c7)]+_0x3fa42d(0x205)),this[_0x3fa42d(0x8e6)]=!0x1;return;}if(this[_0x3fa42d(0x45a)][_0x3fa42d(0x7c7)]&&this[_0x3fa42d(0x278)]&&this[_0x3fa42d(0x45a)][_0x3fa42d(0x840)][_0x3fa42d(0x795)]!==null&&this[_0x3fa42d(0x45a)][_0x3fa42d(0x840)][_0x3fa42d(0x795)]!==void 0x0){let _0x6b0870=Math[_0x3fa42d(0x913)](this['instance'][_0x3fa42d(0x840)][_0x3fa42d(0x795)]/0xea60);this['logger'][_0x3fa42d(0x6c3)](this[_0x3fa42d(0x7c4)]+'\x20('+this['instance'][_0x3fa42d(0x7c7)]+_0x3fa42d(0x88a)+_0x6b0870+_0x3fa42d(0x770)),this[_0x3fa42d(0x8e6)]=!0x1;return;}else this[_0x3fa42d(0x45a)][_0x3fa42d(0x7c7)]&&(this[_0x3fa42d(0x69c)][_0x3fa42d(0x6c3)](this['instanceName']+'\x20('+this[_0x3fa42d(0x45a)][_0x3fa42d(0x7c7)]+_0x3fa42d(0x50e)),this['AutomateSystem']||(await this[_0x3fa42d(0x391)](),this['findRealGroups'](),this[_0x3fa42d(0x905)]()),(this[_0x3fa42d(0x45a)][_0x3fa42d(0x840)][_0x3fa42d(0x795)]===null||this['instance']['ScheduleMessage']['delayMessage']===void 0x0)&&await this[_0x3fa42d(0x46b)]());if(this[_0x3fa42d(0x8e6)]){let _0x4ca71e=_0x25e2e2();this[_0x3fa42d(0x69c)][_0x3fa42d(0x6c3)](this[_0x3fa42d(0x7c4)]+_0x3fa42d(0x2ea)+_0x4ca71e/0x3e8+'\x20segundos'),setTimeout(_0x7eaf85,_0x4ca71e);}};if(this['isRunning'])return;this['isRunning']=!0x0;let _0x4c984c=_0x25e2e2();setTimeout(_0x7eaf85,_0x4c984c);}async[a0_0xa27d39(0x905)](){const _0x3c6723=a0_0xa27d39;let _0x45074e=this[_0x3c6723(0x45a)][_0x3c6723(0x7c7)];try{let _0x89cc2e=await this['repository'][_0x3c6723(0x6b3)][_0x3c6723(0x8f5)]({'where':{'$or':[{'owner':_0x45074e},{'whoCanUse':{'$in':[_0x45074e]}},{'shareOwners':{'$in':[_0x45074e]}}]}}),_0x1527cd=new Map(this[_0x3c6723(0x278)][_0x3c6723(0x4b1)]['map'](_0x26a909=>[_0x26a909[_0x3c6723(0x580)],_0x26a909])),_0x23a912=_0x89cc2e[_0x3c6723(0x59b)](_0xb2b693=>{const _0x4876b0=_0x3c6723;let _0x462fc4=_0x1527cd[_0x4876b0(0x711)](_0xb2b693[_0x4876b0(0x580)]?.[_0x4876b0(0x412)]());return{'_id':_0xb2b693['_id']?.[_0x4876b0(0x412)](),'name':_0x462fc4?.[_0x4876b0(0x75e)]??_0xb2b693[_0x4876b0(0x75e)],'default':_0x462fc4?.['default']??_0xb2b693[_0x4876b0(0x544)]??!0x1,'startCommand':_0x462fc4?.[_0x4876b0(0x59f)]??_0xb2b693[_0x4876b0(0x4e4)],'minutesToClose':_0x462fc4?.['minutesToClose']??_0xb2b693[_0x4876b0(0x7e9)]??0xa,'readMessages':_0x462fc4?.['readMessages']??_0xb2b693['readMessages']??!0x1,'testingWith':_0x462fc4?.[_0x4876b0(0x5f7)]??_0xb2b693[_0x4876b0(0x5f7)],'canEdit':_0xb2b693[_0x4876b0(0x57a)]===_0x45074e||(_0xb2b693[_0x4876b0(0x26f)]??[])[_0x4876b0(0x855)](_0x45074e),'usersCount':(_0xb2b693[_0x4876b0(0x69f)]??[])['length']??0x0};}),_0x490fc0=!0x1;_0x23a912[_0x3c6723(0x888)](_0x1611f8=>{const _0x2a9b27=_0x3c6723;_0x1611f8[_0x2a9b27(0x544)]&&(_0x490fc0?_0x1611f8[_0x2a9b27(0x544)]=!0x1:_0x490fc0=!0x0);}),this['AutomateSystem'][_0x3c6723(0x4b1)]=_0x23a912;let _0x4181e9={'flows':_0x23a912};return await this[_0x3c6723(0x4f0)][_0x3c6723(0x533)][_0x3c6723(0x8e1)](_0x4181e9,_0x45074e),this[_0x3c6723(0x69c)]['verbose'](this[_0x3c6723(0x7c4)]+'\x20('+_0x45074e+_0x3c6723(0x724)),_0x23a912[_0x3c6723(0x3a7)];}catch(_0x3fd47a){return this[_0x3c6723(0x69c)][_0x3c6723(0x664)](this['instanceName']+'\x20('+_0x45074e+_0x3c6723(0x2bc)+(_0x3fd47a instanceof Error?_0x3fd47a[_0x3c6723(0x577)]:JSON[_0x3c6723(0x716)](_0x3fd47a,null,0x2))),{'message':_0x3c6723(0x378)+(_0x3fd47a instanceof Error?_0x3fd47a[_0x3c6723(0x577)]:JSON[_0x3c6723(0x716)](_0x3fd47a,null,0x2))};}}async[a0_0xa27d39(0x677)](_0x18da0f){const _0x28b2b1=a0_0xa27d39;try{let _0x3416a4=await this[_0x28b2b1(0x4f0)]['instance']['findOne']({'where':{'_id':K+'-'+this[_0x28b2b1(0x7c4)]}}),_0x2c6d97,_0x19e18d=!re['ipv6Prefix']||!re['networkInterface'];console[_0x28b2b1(0x843)](_0x28b2b1(0x8c3)),console[_0x28b2b1(0x843)]('proxy:\x20',Oi),console['log'](_0x28b2b1(0x43e),this[_0x28b2b1(0x446)]),console[_0x28b2b1(0x843)]('--------------------------------------'),Oi&&!_0x19e18d&&(this['reconnectAttempts']<0x4||!this[_0x28b2b1(0x446)]?_0x3416a4&&_0x3416a4['ip']?(_0x2c6d97=_0x3416a4['ip'],console[_0x28b2b1(0x843)](_0x28b2b1(0x33b)+_0x2c6d97)):(_0x2c6d97=await re[_0x28b2b1(0x1ed)](K,this['instance'][_0x28b2b1(0x75e)]),_0x2c6d97?(console[_0x28b2b1(0x843)](_0x28b2b1(0x427)+_0x2c6d97),await(0x0,w[_0x28b2b1(0x753)])(0x7d0)):console[_0x28b2b1(0x664)]('Falha\x20ao\x20criar\x20IPv6.')):this[_0x28b2b1(0x446)]<0x6&&(await re[_0x28b2b1(0x20d)](K,this[_0x28b2b1(0x45a)][_0x28b2b1(0x75e)]),console[_0x28b2b1(0x843)]('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x2c6d97=await re[_0x28b2b1(0x1ed)](K,this[_0x28b2b1(0x45a)][_0x28b2b1(0x75e)]),_0x2c6d97?(console['log']('Novo\x20IP\x20criado:\x20'+_0x2c6d97),await(0x0,w[_0x28b2b1(0x753)])(0x7d0)):console['error'](_0x28b2b1(0x4f1)))),this[_0x28b2b1(0x36b)](),this[_0x28b2b1(0x45a)][_0x28b2b1(0x59d)]=(await this[_0x28b2b1(0x4f0)]['auth'][_0x28b2b1(0x678)](this[_0x28b2b1(0x45a)][_0x28b2b1(0x75e)]))[_0x28b2b1(0x59d)],this[_0x28b2b1(0x45a)]['authState']=await this[_0x28b2b1(0x518)]();let {version:_0x46bef9}=await(0x0,w[_0x28b2b1(0x8c8)])(),_0x26f1b1=[ki,Us,(0x0,ks[_0x28b2b1(0x398)])()],_0x242a53={'localAddress':_0x2c6d97,'auth':{'creds':this['instance'][_0x28b2b1(0x64d)][_0x28b2b1(0x5c6)]['creds'],'keys':(0x0,w[_0x28b2b1(0x6ed)])(this[_0x28b2b1(0x45a)][_0x28b2b1(0x64d)][_0x28b2b1(0x5c6)]['keys'],(0x0,Vt[_0x28b2b1(0x544)])({'level':_0x28b2b1(0x664)}))},'logger':(0x0,Vt[_0x28b2b1(0x544)])({'level':_0x28b2b1(0x664)}),'printQRInTerminal':!0x1,'browser':_0x18da0f?[_0x28b2b1(0x615),Us,(0x0,ks[_0x28b2b1(0x398)])()]:_0x26f1b1,'version':_0x46bef9,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x8cc9d1=>{const _0x1394a5=_0x28b2b1;let _0x28d5d5=this[_0x1394a5(0x8af)]?.[_0x1394a5(0x2d6)]&&(0x0,w[_0x1394a5(0x429)])(_0x8cc9d1);return(0x0,w[_0x1394a5(0x3f4)])(_0x8cc9d1)||_0x28d5d5;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x3b9365=>await this[_0x28b2b1(0x543)](_0x3b9365),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x26a3b4){const _0x468737=_0x28b2b1;return _0x26a3b4[_0x468737(0x871)]?.[_0x468737(0x577)]?.[_0x468737(0x7d1)]?.[_0x468737(0x3a6)]===w[_0x468737(0x324)][_0x468737(0x48e)][_0x468737(0x1f9)][_0x468737(0x38c)][_0x468737(0x2f3)]&&(_0x26a3b4=JSON[_0x468737(0x4ea)](JSON[_0x468737(0x716)](_0x26a3b4)),_0x26a3b4[_0x468737(0x871)][_0x468737(0x577)][_0x468737(0x7d1)][_0x468737(0x3a6)]=w[_0x468737(0x324)][_0x468737(0x48e)]['ListMessage'][_0x468737(0x38c)][_0x468737(0x583)]),_0x26a3b4['listMessage']?.[_0x468737(0x3a6)]==w[_0x468737(0x324)]['Message'][_0x468737(0x1f9)][_0x468737(0x38c)][_0x468737(0x2f3)]&&(_0x26a3b4=JSON[_0x468737(0x4ea)](JSON['stringify'](_0x26a3b4)),_0x26a3b4[_0x468737(0x7d1)][_0x468737(0x3a6)]=w[_0x468737(0x324)]['Message'][_0x468737(0x1f9)][_0x468737(0x38c)][_0x468737(0x583)]),_0x26a3b4;}};return this[_0x28b2b1(0x271)]=!0x1,this[_0x28b2b1(0x1f1)]=(0x0,w[_0x28b2b1(0x544)])(_0x242a53),this[_0x28b2b1(0x221)](),this[_0x28b2b1(0x284)]=_0x18da0f,this['client'];}catch(_0x1d919f){let _0x4afbf3='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0xda9b8c=_0x1d919f instanceof Error?_0x1d919f[_0x28b2b1(0x577)]:typeof _0x1d919f==_0x28b2b1(0x3e2)?JSON[_0x28b2b1(0x716)](_0x1d919f):_0x1d919f,_0x542c20=_0x4afbf3+':\x20'+_0xda9b8c;throw this[_0x28b2b1(0x69c)]['error'](this[_0x28b2b1(0x7c4)]+'\x20('+this['instance'][_0x28b2b1(0x7c7)]+_0x28b2b1(0x7cd)+_0x542c20),console[_0x28b2b1(0x664)](_0x28b2b1(0x82c),_0x1d919f),_0x1d919f instanceof Error&&console['error']('Stack\x20trace:',_0x1d919f[_0x28b2b1(0x4ca)]),new x(_0x542c20);}}['eventHandler'](){const _0x546ba5=a0_0xa27d39;this[_0x546ba5(0x1f1)]['ev'][_0x546ba5(0x2a6)](_0x2925d3=>{const _0x296329=_0x546ba5;if(!this['endSession']){let _0x1a4c7a=this[_0x296329(0x44e)][_0x296329(0x711)](_0x296329(0x3d1));if(_0x2925d3[_0x296329(0x8fa)]){let _0x249e59=_0x2925d3[_0x296329(0x8fa)];this[_0x296329(0x881)][_0x296329(0x8fa)](_0x249e59);}if(_0x2925d3[_0x296329(0x6f2)]){let _0x2ffb4a=_0x2925d3['labels.association'];this[_0x296329(0x881)][_0x296329(0x6f2)](_0x2ffb4a);}if(_0x2925d3[_0x296329(0x8f3)]&&this[_0x296329(0x34a)](_0x2925d3[_0x296329(0x8f3)]),_0x2925d3['creds.update']&&this[_0x296329(0x45a)]['authState']['saveCreds'](),_0x2925d3[_0x296329(0x41a)]){let _0xeaea76=_0x2925d3[_0x296329(0x41a)];this['messageHandle'][_0x296329(0x41a)](_0xeaea76,_0x1a4c7a);}if(_0x2925d3[_0x296329(0x899)]){let _0x27b5e5=_0x2925d3[_0x296329(0x899)];this[_0x296329(0x881)][_0x296329(0x899)](_0x27b5e5,_0x1a4c7a);}if(_0x2925d3[_0x296329(0x741)]){let _0x807069=_0x2925d3[_0x296329(0x741)];this[_0x296329(0x881)][_0x296329(0x741)](_0x807069,_0x1a4c7a);}if(_0x2925d3['presence.update']){let _0xe7c3ee=_0x2925d3['presence.update'];if(this['localWebhook']?.[_0x296329(0x2d6)]&&_0xe7c3ee['id'][_0x296329(0x855)](_0x296329(0x82d)))return;this[_0x296329(0x8a6)]('presence.update',_0xe7c3ee);}if(_0x2925d3[_0x296329(0x4bb)]){let _0x1a9f16=_0x2925d3['groups.upsert'];this['groupHandler'][_0x296329(0x4bb)](_0x1a9f16);}if(_0x2925d3[_0x296329(0x488)]){let _0x332822=_0x2925d3[_0x296329(0x488)];this['groupHandler'][_0x296329(0x488)](_0x332822);}if(_0x2925d3['group-participants.update']){let _0x561a65=_0x2925d3['group-participants.update'];this[_0x296329(0x7e4)][_0x296329(0x329)](_0x561a65);}if(_0x2925d3['chats.upsert']){let _0x4aded0=_0x2925d3[_0x296329(0x910)];this['chatHandle'][_0x296329(0x910)](_0x4aded0,_0x1a4c7a);}if(_0x2925d3[_0x296329(0x352)]){let _0x48d813=_0x2925d3['chats.update'];this[_0x296329(0x246)]['chats.update'](_0x48d813,_0x1a4c7a);}if(_0x2925d3['chats.delete']){let _0x44e2bd=_0x2925d3[_0x296329(0x2e1)];this['chatHandle'][_0x296329(0x2e1)](_0x44e2bd);}if(_0x2925d3['contacts.upsert']){let _0x19d8e1=_0x2925d3[_0x296329(0x3e8)];this['contactHandle'][_0x296329(0x3e8)](_0x19d8e1,_0x1a4c7a);}if(_0x2925d3[_0x296329(0x832)]){let _0x967f5f=_0x2925d3[_0x296329(0x832)];this[_0x296329(0x541)][_0x296329(0x832)](_0x967f5f,_0x1a4c7a);}}});}async[a0_0xa27d39(0x841)](_0xbbb51f,_0x335eee){const _0x2b279f=a0_0xa27d39;if(_0x335eee>=0xa){console[_0x2b279f(0x664)](this[_0x2b279f(0x7c4)]+'\x20('+this[_0x2b279f(0x45a)]['wuid']+_0x2b279f(0x3fd)),delete qt[_0xbbb51f[_0x2b279f(0x5e0)]['id']];return;}try{console[_0x2b279f(0x664)](this['instanceName']+'\x20('+this[_0x2b279f(0x45a)][_0x2b279f(0x7c7)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x335eee+0x1)),await this['client'][_0x2b279f(0x70f)](JSON[_0x2b279f(0x4ea)](_0xbbb51f[_0x2b279f(0x36d)][0x1],w[_0x2b279f(0x71d)][_0x2b279f(0x4cd)])),console['error'](_0x2b279f(0x613));}catch(_0xcb42f3){console[_0x2b279f(0x664)](this['instanceName']+'\x20('+this['instance'][_0x2b279f(0x7c7)]+_0x2b279f(0x40c)+_0xcb42f3),setTimeout(()=>this[_0x2b279f(0x841)](_0xbbb51f,_0x335eee+0x1),Math['pow'](0x2,_0x335eee)*0x3e8);}}[a0_0xa27d39(0x859)](_0x4a31ba){return new Promise(_0x47f905=>setTimeout(_0x47f905,_0x4a31ba));}[a0_0xa27d39(0x4a7)](_0x2f7b4f){const _0xe8676b=a0_0xa27d39;_0x2f7b4f=_0x2f7b4f['replace'](/\D/g,'');let _0x3412dd=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xe8676b(0x626)](_0x2f7b4f);if(_0x3412dd&&_0x3412dd[0x1]==='55'){let _0x31624a=_0x3412dd[0x2],_0x4d29ea=_0x3412dd[0x3],_0x429214=_0x3412dd[0x4];if(parseInt(_0x31624a)>=0x1f&&_0x4d29ea==='9')return _0x3412dd[0x1]+_0x31624a+_0x429214;}return _0x2f7b4f;}[a0_0xa27d39(0x44d)](_0x2167fc){const _0x4b846e=a0_0xa27d39;return _0x2167fc[_0x4b846e(0x855)]('@g.us')||_0x2167fc[_0x4b846e(0x855)](_0x4b846e(0x68e))||_0x2167fc[_0x4b846e(0x855)](_0x4b846e(0x5b6))?_0x2167fc:(_0x2167fc=_0x2167fc?.[_0x4b846e(0x817)](/\s/g,'')[_0x4b846e(0x817)](/\+/g,'')[_0x4b846e(0x817)](/\(/g,'')[_0x4b846e(0x817)](/\)/g,'')[_0x4b846e(0x8cb)](/\:/)[0x0]['split']('@')[0x0],_0x2167fc['length']>=0x12?(_0x2167fc=_0x2167fc[_0x4b846e(0x817)](/[^\d-]/g,''),_0x2167fc+_0x4b846e(0x82d)):(_0x2167fc=_0x2167fc[_0x4b846e(0x817)](/\D/g,''),_0x2167fc+_0x4b846e(0x68e)));}async[a0_0xa27d39(0x630)](_0x25c7fe){const _0x43f575=a0_0xa27d39;let _0x91f35e=(await this[_0x43f575(0x286)]({'numbers':[_0x25c7fe[_0x43f575(0x6d9)]]}))[0x0];if(!_0x91f35e[_0x43f575(0x7f7)]&&!(0x0,w['isJidGroup'])(_0x91f35e[_0x43f575(0x21f)])&&!_0x91f35e[_0x43f575(0x21f)]['includes'](_0x43f575(0x5b6)))throw new m(_0x91f35e);let _0x320df4=_0x91f35e[_0x43f575(0x21f)];try{return await this[_0x43f575(0x1f1)][_0x43f575(0x219)](_0x320df4),await this['client'][_0x43f575(0x915)](_0x25c7fe[_0x43f575(0x508)],_0x320df4),{'status':0xc8,'presence':_0x25c7fe['presence']};}catch(_0x113f1e){let _0x59ce3b=_0x43f575(0x277),_0x4fa05a=_0x113f1e instanceof Error?_0x113f1e[_0x43f575(0x577)]:typeof _0x113f1e=='object'?JSON['stringify'](_0x113f1e):_0x113f1e,_0x430cf6=_0x59ce3b+':\x20'+_0x4fa05a;throw this[_0x43f575(0x69c)]['error'](this[_0x43f575(0x7c4)]+'\x20('+this[_0x43f575(0x45a)][_0x43f575(0x7c7)]+_0x43f575(0x7cd)+_0x430cf6),new m(_0x430cf6);}}async['findAndUpdateCacheContact'](_0xf32015,_0x26772a,_0xa83e9d,_0x47fe4c=!0x0){const _0x4043ea=a0_0xa27d39;let _0x5c6a9f=await this[_0x4043ea(0x4f0)]['cacheContact'][_0x4043ea(0x25d)]({'where':{'_id':_0xf32015}});if(!_0x5c6a9f&&!_0x47fe4c)return;let _0x230acd={'lastUpdate':Date[_0x4043ea(0x27c)]()};if(_0xa83e9d||!_0x5c6a9f?.[_0x4043ea(0x419)]||Date[_0x4043ea(0x27c)]()-_0x5c6a9f[_0x4043ea(0x419)]>0x18*0x3c*0x3c*0x3e8)try{let _0x3eb81b=(await this['profilePicture'](_0xf32015))[_0x4043ea(0x588)];_0x230acd['pictureUrl']=_0x3eb81b;}catch(_0x5416eb){let _0x1be9ee='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x340ce1=_0x5416eb instanceof Error?_0x5416eb[_0x4043ea(0x577)]:typeof _0x5416eb==_0x4043ea(0x3e2)?JSON[_0x4043ea(0x716)](_0x5416eb):_0x5416eb,_0x5d6f39=_0x1be9ee+':\x20'+_0x340ce1;throw this[_0x4043ea(0x69c)][_0x4043ea(0x664)](this['instanceName']+'\x20('+this[_0x4043ea(0x45a)]['wuid']+_0x4043ea(0x7cd)+_0x5d6f39),new m(_0x5d6f39);}return _0x26772a&&_0x5c6a9f?.[_0x4043ea(0x75e)]!==_0x26772a&&(_0x230acd[_0x4043ea(0x75e)]=_0x26772a),Object[_0x4043ea(0x537)](_0x230acd)[_0x4043ea(0x3a7)]>0x1&&(_0x5c6a9f?await this[_0x4043ea(0x4f0)][_0x4043ea(0x88e)][_0x4043ea(0x8e1)]({'where':{'_id':_0xf32015}},_0x230acd):await this[_0x4043ea(0x4f0)]['cacheContact']['insert']([{'_id':_0xf32015,..._0x230acd}]),_0x5c6a9f={..._0x5c6a9f,..._0x230acd}),{'cachedContact':_0x5c6a9f};}async['profilePicture'](_0x4c9a08){const _0x2f07d0=a0_0xa27d39;let _0x7de0bd=this['createJid'](_0x4c9a08);try{return{'wuid':_0x7de0bd,'profilePictureUrl':await this[_0x2f07d0(0x1f1)][_0x2f07d0(0x588)](_0x7de0bd,_0x2f07d0(0x475))};}catch{return{'wuid':_0x7de0bd,'profilePictureUrl':null};}}async[a0_0xa27d39(0x2cd)](_0xf79bee,_0x31eb28,_0x388627){const _0x4fd9d5=a0_0xa27d39;let _0x1e853d;try{let _0x4ff676=(await this[_0x4fd9d5(0x286)]({'numbers':[_0xf79bee]}))?.[_0x4fd9d5(0x31e)]();if(!_0x4ff676['exists']&&!(0x0,w[_0x4fd9d5(0x429)])(_0x4ff676[_0x4fd9d5(0x21f)])&&!_0x4ff676['jid'][_0x4fd9d5(0x855)](_0x4fd9d5(0x5b6)))throw new m(_0x4ff676);_0x1e853d=_0x4ff676['jid'];}catch(_0x3411b6){_0x1e853d=_0xf79bee,this[_0x4fd9d5(0x69c)]['warn'](this[_0x4fd9d5(0x7c4)]+'\x20('+this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)]+'):\x20error:\x20'+_0x3411b6[_0x4fd9d5(0x577)]),this['logger'][_0x4fd9d5(0x76e)](this[_0x4fd9d5(0x7c4)]+'\x20('+this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)]+'):\x20sender\x20=\x20number:\x20'+_0x1e853d);}try{if(_0x1e853d||(_0x1e853d=_0xf79bee,this[_0x4fd9d5(0x69c)]['warn'](this[_0x4fd9d5(0x7c4)]+'\x20('+this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)]+_0x4fd9d5(0x85d)+_0x1e853d)),_0x388627||(_0x388627={}),_0x388627?.[_0x4fd9d5(0x753)]){await this[_0x4fd9d5(0x1f1)][_0x4fd9d5(0x219)](_0x1e853d),await this['client']['sendPresenceUpdate'](_0x388627?.[_0x4fd9d5(0x508)]??_0x4fd9d5(0x56f),_0x1e853d);let _0x40b53a=Math[_0x4fd9d5(0x7d2)](_0x388627['delay'],0x2710);await(0x0,w[_0x4fd9d5(0x753)])(_0x40b53a),await this[_0x4fd9d5(0x1f1)][_0x4fd9d5(0x915)]('paused',_0x1e853d);}let _0x4f5242=_0x388627?.[_0x4fd9d5(0x76b)]!=!0x1?void 0x0:!0x1,_0x458a7d;if(_0x388627?.[_0x4fd9d5(0x4fd)]){let _0x54a306=_0x388627?.['quoted'],_0x542c93=_0x54a306?.[_0x4fd9d5(0x577)]?_0x54a306:await this[_0x4fd9d5(0x543)](_0x54a306['key'],!0x0);_0x542c93&&(_0x458a7d=_0x542c93);}let _0x1baecb=await this[_0x4fd9d5(0x4f0)]['chat']['findOne']({'where':{'_id':_0x1e853d}},this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)]),_0x4e799e,_0x5c16c9=null;if((0x0,w['isJidGroup'])(_0x1e853d))try{if(_0x5c16c9=_0x1baecb[_0x4fd9d5(0x8fb)],!_0x5c16c9)throw new J(_0x4fd9d5(0x1f2));_0x388627?.[_0x4fd9d5(0x358)]&&(_0x388627[_0x4fd9d5(0x358)]?.[_0x4fd9d5(0x510)]?_0x4e799e=_0x5c16c9[_0x4fd9d5(0x831)][_0x4fd9d5(0x59b)](_0x5ecf38=>_0x5ecf38['id']):_0x388627[_0x4fd9d5(0x358)]?.[_0x4fd9d5(0x5fa)]?.[_0x4fd9d5(0x3a7)]&&(_0x4e799e=_0x388627[_0x4fd9d5(0x358)][_0x4fd9d5(0x5fa)][_0x4fd9d5(0x59b)](_0x5b1d96=>{const _0xab9ba0=_0x4fd9d5;let _0x4adda3=this[_0xab9ba0(0x44d)](_0x5b1d96);return(0x0,w[_0xab9ba0(0x429)])(_0x4adda3)?null:_0x4adda3;})));}catch{throw new J(_0x4fd9d5(0x1f2));}let _0x990fe4=await((async()=>{const _0x513575=_0x4fd9d5;let _0x4901bf={'quoted':_0x458a7d,'ephemeralExpiration':_0x1baecb?.[_0x513575(0x4e9)]??0x0,'messageId':_0x513575(0x8e0)+(0x0,Re[_0x513575(0x84c)])(0x12)[_0x513575(0x412)](_0x513575(0x320))['toUpperCase']()};if(!_0x31eb28[_0x513575(0x3a3)]&&!_0x31eb28['poll']&&!_0x31eb28[_0x513575(0x5cf)]&&!_0x31eb28[_0x513575(0x778)]&&_0x1e853d!=='status@broadcast'&&_0x31eb28[_0x513575(0x72c)])return await this[_0x513575(0x1f1)][_0x513575(0x3db)](_0x1e853d,{'react':{'text':_0x31eb28['reactionMessage'][_0x513575(0x558)],'key':_0x31eb28[_0x513575(0x72c)][_0x513575(0x5e0)]}},_0x4901bf);if(_0x31eb28['conversation']){let _0x4501fe=_0x31eb28[_0x513575(0x778)];return _0x388627?.[_0x513575(0x455)]&&(_0x4501fe=await this['replaceVariablesChat'](_0x4501fe,_0x1e853d)),await this['client'][_0x513575(0x3db)](_0x1e853d,{'text':_0x4501fe,'mentions':_0x4e799e,'linkPreview':_0x4f5242},_0x4901bf);}return!_0x31eb28['audio']&&!_0x31eb28['poll']&&_0x1e853d!=_0x513575(0x737)?await this[_0x513575(0x1f1)][_0x513575(0x3db)](_0x1e853d,{'forward':{'key':{'remoteJid':this[_0x513575(0x45a)]['wuid'],'fromMe':!0x0},'message':_0x31eb28},'mentions':_0x4e799e},_0x4901bf):_0x1e853d===_0x513575(0x737)?await this['client'][_0x513575(0x3db)](_0x1e853d,_0x31eb28[_0x513575(0x492)][_0x513575(0x3d4)],{'backgroundColor':_0x31eb28['status'][_0x513575(0x448)][_0x513575(0x7aa)],'font':_0x31eb28['status'][_0x513575(0x448)][_0x513575(0x768)],'statusJidList':_0x31eb28[_0x513575(0x492)][_0x513575(0x448)]['statusJidList']}):await this['client'][_0x513575(0x3db)](_0x1e853d,_0x31eb28,_0x4901bf);})()),_0x5acd32=(0x0,w[_0x4fd9d5(0x6c8)])(_0x990fe4[_0x4fd9d5(0x577)]),_0xc91a65=(0x0,w[_0x4fd9d5(0x1e8)])(_0x5acd32),{message_normalized:_0x537e89}=this[_0x4fd9d5(0x61a)](_0x5acd32,_0xc91a65,null),_0x2473f0={'_id':_0x990fe4['key']['id'],'key':_0x990fe4['key'],'pushName':_0x990fe4[_0x4fd9d5(0x3ad)],'isGroup':_0x990fe4['key']['remoteJid'][_0x4fd9d5(0x900)](_0x4fd9d5(0x82d)),'profilePictureUrl':this[_0x4fd9d5(0x45a)]['profilePictureUrl'],'message':_0x5acd32,'messageType':_0xc91a65,'message_normalized':{'key':_0x990fe4['key'],'pushName':_0x990fe4[_0x4fd9d5(0x3ad)],'messageTimestamp':_0x990fe4['messageTimestamp']&&_0x990fe4[_0x4fd9d5(0x232)][_0x4fd9d5(0x412)]()[_0x4fd9d5(0x3a7)]<0xd?_0x990fe4[_0x4fd9d5(0x232)]*0x3e8:_0x990fe4[_0x4fd9d5(0x232)]||null,'source':(0x0,w[_0x4fd9d5(0x879)])(_0x990fe4[_0x4fd9d5(0x5e0)]['id']),..._0x537e89},'messageTimestamp':_0x990fe4[_0x4fd9d5(0x232)]&&_0x990fe4[_0x4fd9d5(0x232)]['toString']()[_0x4fd9d5(0x3a7)]<0xd?_0x990fe4[_0x4fd9d5(0x232)]*0x3e8:_0x990fe4[_0x4fd9d5(0x232)]||null,'owner':this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)],'source':(0x0,w[_0x4fd9d5(0x879)])(_0x990fe4[_0x4fd9d5(0x5e0)]['id'])};return this[_0x4fd9d5(0x69c)][_0x4fd9d5(0x76e)](this[_0x4fd9d5(0x7c4)]+'\x20('+this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)]+_0x4fd9d5(0x56c)+_0x2473f0[_0x4fd9d5(0x5e0)]?.['remoteJid']['replace']('@s.whatsapp.net','')+_0x4fd9d5(0x436)+_0x2473f0[_0x4fd9d5(0x62a)]+')'),_0x2473f0[_0x4fd9d5(0x633)]?.[_0x4fd9d5(0x558)]&&this['logger'][_0x4fd9d5(0x76e)](_0x2473f0['message_normalized']?.[_0x4fd9d5(0x558)]),this[_0x4fd9d5(0x8a6)](_0x4fd9d5(0x243),_0x2473f0),q(this[_0x4fd9d5(0x7c4)],_0x4fd9d5(0x89a),{'message':_0x2473f0}),this['updateChatWithMessage'](this['configService']['get'](_0x4fd9d5(0x3d1)),_0x2473f0,_0x4fd9d5(0x6a6),_0x1baecb),await this[_0x4fd9d5(0x4f0)][_0x4fd9d5(0x577)]['insert']([_0x2473f0],this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)]),_0x990fe4;}catch(_0xb70efe){let _0x14990f=_0x4fd9d5(0x6f4)+_0x1e853d,_0x5c757a=_0xb70efe instanceof Error?_0xb70efe[_0x4fd9d5(0x577)]:typeof _0xb70efe=='object'?JSON[_0x4fd9d5(0x716)](_0xb70efe):_0xb70efe,_0x1b3b1e=_0x14990f+':\x20'+_0x5c757a;throw this['logger'][_0x4fd9d5(0x664)](this['instanceName']+'\x20('+this[_0x4fd9d5(0x45a)][_0x4fd9d5(0x7c7)]+'):\x20'+_0x1b3b1e),new m(_0x1b3b1e);}}get[a0_0xa27d39(0x22e)](){const _0x1573e6=a0_0xa27d39;return this[_0x1573e6(0x24a)];}async[a0_0xa27d39(0x58b)](_0x412a87){const _0x5d4657=a0_0xa27d39;return await this[_0x5d4657(0x2cd)](_0x412a87[_0x5d4657(0x6d9)],{'conversation':_0x412a87[_0x5d4657(0x58b)][_0x5d4657(0x558)]},_0x412a87?.[_0x5d4657(0x2ad)]);}async[a0_0xa27d39(0x6ea)](_0x59799f){const _0x493857=a0_0xa27d39;if(!_0x59799f[_0x493857(0x302)])throw new m(_0x493857(0x673));if(!_0x59799f[_0x493857(0x3d4)])throw new m(_0x493857(0x438));if(_0x59799f[_0x493857(0x823)]){let _0x58fd55=await this[_0x493857(0x4f0)][_0x493857(0x289)]['find']({'where':{}},this['instance']['wuid']);if(!_0x58fd55[_0x493857(0x3a7)])throw new m(_0x493857(0x6ad));_0x59799f[_0x493857(0x304)]=_0x58fd55[_0x493857(0x842)](_0x3a95f4=>_0x3a95f4[_0x493857(0x3ad)])[_0x493857(0x59b)](_0x2ada52=>_0x2ada52['_id']);}if(!_0x59799f[_0x493857(0x304)]?.[_0x493857(0x3a7)]&&!_0x59799f[_0x493857(0x823)])throw new m('StatusJidList\x20is\x20required');if(_0x59799f['type']===_0x493857(0x558)){if(!_0x59799f[_0x493857(0x7aa)])throw new m(_0x493857(0x4f5));if(!_0x59799f['font'])throw new m(_0x493857(0x75f));return{'content':{'text':_0x59799f[_0x493857(0x3d4)]},'option':{'backgroundColor':_0x59799f[_0x493857(0x7aa)],'font':_0x59799f[_0x493857(0x768)],'statusJidList':_0x59799f[_0x493857(0x304)]}};}if(_0x59799f[_0x493857(0x302)]==='image')return{'content':{'image':{'url':_0x59799f['content']},'caption':_0x59799f[_0x493857(0x5fe)]},'option':{'statusJidList':_0x59799f[_0x493857(0x304)]}};if(_0x59799f['type']===_0x493857(0x895))return{'content':{'video':{'url':_0x59799f[_0x493857(0x3d4)]},'caption':_0x59799f[_0x493857(0x5fe)]},'option':{'statusJidList':_0x59799f[_0x493857(0x304)]}};if(_0x59799f[_0x493857(0x302)]===_0x493857(0x3a3)){this[_0x493857(0x69c)][_0x493857(0x6c3)](this[_0x493857(0x7c4)]+'\x20('+this[_0x493857(0x45a)][_0x493857(0x7c7)]+'):Type\x20defined\x20as\x20audio'),this[_0x493857(0x69c)][_0x493857(0x6c3)](this[_0x493857(0x7c4)]+'\x20('+this[_0x493857(0x45a)][_0x493857(0x7c7)]+_0x493857(0x6c7));let _0x22c854=await this[_0x493857(0x4c4)](_0x59799f[_0x493857(0x3d4)]);if(typeof _0x22c854==_0x493857(0x8e4)){this[_0x493857(0x69c)][_0x493857(0x6c3)](this['instanceName']+'\x20('+this[_0x493857(0x45a)][_0x493857(0x7c7)]+_0x493857(0x79b));let _0x8b18a7=F['readFileSync'](_0x22c854)['toString'](_0x493857(0x745));return{'content':{'audio':Buffer[_0x493857(0x396)](_0x8b18a7,_0x493857(0x745)),'ptt':!0x0,'mimetype':_0x493857(0x4d4)},'option':{'statusJidList':_0x59799f[_0x493857(0x304)]}};}else throw new x(_0x22c854);}throw new m('Type\x20not\x20found');}async[a0_0xa27d39(0x5bd)](_0xa3bc31){const _0x100bb4=a0_0xa27d39;return await this[_0x100bb4(0x2cd)](_0x100bb4(0x737),{'status':await this['formatStatusMessage'](_0xa3bc31[_0x100bb4(0x5bd)])});}async[a0_0xa27d39(0x1fa)](_0x4d319f){const _0x509f94=a0_0xa27d39;try{let _0x20961c=await(0x0,w['prepareWAMessageMedia'])({[_0x4d319f[_0x509f94(0x3b0)]]:(0x0,L[_0x509f94(0x787)])(_0x4d319f['media'])?{'url':_0x4d319f['media']}:Buffer[_0x509f94(0x396)](_0x4d319f[_0x509f94(0x5ff)],'base64')},{'upload':this[_0x509f94(0x1f1)][_0x509f94(0x876)]}),_0x48a91f=_0x4d319f[_0x509f94(0x3b0)]+_0x509f94(0x48e);if(_0x4d319f[_0x509f94(0x3b0)]===_0x509f94(0x356)&&!_0x4d319f[_0x509f94(0x2ef)]){let _0x26006f=new RegExp(/.*\/(.+?)\./)['exec'](_0x4d319f[_0x509f94(0x5ff)]);_0x4d319f[_0x509f94(0x2ef)]=_0x26006f?_0x26006f[0x1]:null;}let _0xc04455;return(0x0,L[_0x509f94(0x787)])(_0x4d319f['media'])?_0xc04455=(await te[_0x509f94(0x544)]['get'](_0x4d319f[_0x509f94(0x5ff)],{'responseType':'arraybuffer'}))['headers'][_0x509f94(0x669)]:_0xc04455=(0x0,Pi[_0x509f94(0x514)])(_0x4d319f['fileName']),_0x20961c[_0x48a91f][_0x509f94(0x5fe)]=_0x4d319f?.[_0x509f94(0x5fe)],_0x20961c[_0x48a91f][_0x509f94(0x7d9)]=_0xc04455,_0x20961c[_0x48a91f][_0x509f94(0x2ef)]=_0x4d319f[_0x509f94(0x2ef)],_0x4d319f[_0x509f94(0x3b0)]==='video'&&(_0x20961c[_0x48a91f][_0x509f94(0x767)]=Uint8Array[_0x509f94(0x396)]((0x0,Ue[_0x509f94(0x4ec)])((0x0,j[_0x509f94(0x5cc)])(process[_0x509f94(0x4b9)](),_0x509f94(0x22d)))),_0x20961c[_0x48a91f][_0x509f94(0x33c)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x48a91f]:{..._0x20961c[_0x48a91f]}},{'userJid':this[_0x509f94(0x45a)]['wuid']});}catch(_0x31ce1e){let _0x426e80=_0x509f94(0x3e0),_0x4a3195=_0x31ce1e instanceof Error?_0x31ce1e[_0x509f94(0x577)]:typeof _0x31ce1e==_0x509f94(0x3e2)?JSON[_0x509f94(0x716)](_0x31ce1e):_0x31ce1e,_0x27090f=_0x426e80+':\x20'+_0x4a3195;throw this['logger'][_0x509f94(0x664)](this[_0x509f94(0x7c4)]+'\x20('+this[_0x509f94(0x45a)]['wuid']+'):\x20'+_0x27090f),new x(_0x27090f);}}async[a0_0xa27d39(0x322)](_0x3d1c52){const _0x1895a4=a0_0xa27d39;let _0x405857=await this[_0x1895a4(0x1fa)](_0x3d1c52[_0x1895a4(0x322)]);return await this[_0x1895a4(0x2cd)](_0x3d1c52[_0x1895a4(0x6d9)],{..._0x405857[_0x1895a4(0x577)]},_0x3d1c52?.[_0x1895a4(0x2ad)]);}async['convertToWebP'](_0x44ede4,_0x2af521){const _0x674d3b=a0_0xa27d39;try{this[_0x674d3b(0x69c)]['verbose'](this[_0x674d3b(0x7c4)]+'\x20('+this['instance'][_0x674d3b(0x7c7)]+_0x674d3b(0x837));let _0x2be435,_0x4ce650=_0x2af521+'-'+new Date()[_0x674d3b(0x260)]();this['logger'][_0x674d3b(0x6c3)](this[_0x674d3b(0x7c4)]+'\x20('+this['instance'][_0x674d3b(0x7c7)]+'):Hash\x20to\x20image\x20name:\x20'+_0x4ce650);let _0x46efd3=''+(0x0,j[_0x674d3b(0x5cc)])(this['storePath'],_0x4ce650+_0x674d3b(0x5e7));if(this['logger'][_0x674d3b(0x6c3)](this['instanceName']+'\x20('+this[_0x674d3b(0x45a)]['wuid']+_0x674d3b(0x401)+_0x46efd3),(0x0,L[_0x674d3b(0x89b)])(_0x44ede4)){this[_0x674d3b(0x69c)][_0x674d3b(0x6c3)](this[_0x674d3b(0x7c4)]+'\x20('+this[_0x674d3b(0x45a)][_0x674d3b(0x7c7)]+_0x674d3b(0x3ed));let _0x2c3334=_0x44ede4[_0x674d3b(0x817)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x235f16=Buffer[_0x674d3b(0x396)](_0x2c3334,_0x674d3b(0x745));_0x2be435=''+(0x0,j[_0x674d3b(0x5cc)])(this[_0x674d3b(0x7b9)],'temp-'+_0x4ce650+_0x674d3b(0x7e3)),this[_0x674d3b(0x69c)]['verbose'](this[_0x674d3b(0x7c4)]+'\x20('+this[_0x674d3b(0x45a)][_0x674d3b(0x7c7)]+_0x674d3b(0x53c)+_0x2be435),await(0x0,Gt[_0x674d3b(0x544)])(_0x235f16)[_0x674d3b(0x68b)](_0x2be435),this['logger'][_0x674d3b(0x6c3)](this[_0x674d3b(0x7c4)]+'\x20('+this['instance']['wuid']+'):Image\x20created');}else{this['logger'][_0x674d3b(0x6c3)](this[_0x674d3b(0x7c4)]+'\x20('+this[_0x674d3b(0x45a)]['wuid']+_0x674d3b(0x473));let _0x207dd9=new Date()[_0x674d3b(0x260)](),_0x5a126c=_0x44ede4+_0x674d3b(0x312)+_0x207dd9;this['logger'][_0x674d3b(0x6c3)](this['instanceName']+'\x20('+this[_0x674d3b(0x45a)][_0x674d3b(0x7c7)]+_0x674d3b(0x226)+_0x5a126c);let _0x1ffa85=await te[_0x674d3b(0x544)]['get'](_0x5a126c,{'responseType':_0x674d3b(0x222)});this[_0x674d3b(0x69c)][_0x674d3b(0x6c3)](this[_0x674d3b(0x7c4)]+'\x20('+this[_0x674d3b(0x45a)]['wuid']+_0x674d3b(0x7c0));let _0x5d8026=Buffer['from'](_0x1ffa85[_0x674d3b(0x343)],'binary');_0x2be435=''+(0x0,j['join'])(this[_0x674d3b(0x7b9)],_0x674d3b(0x32b)+_0x4ce650+_0x674d3b(0x7e3)),this[_0x674d3b(0x69c)][_0x674d3b(0x6c3)](this[_0x674d3b(0x7c4)]+'\x20('+this[_0x674d3b(0x45a)][_0x674d3b(0x7c7)]+'):Image\x20path:\x20'+_0x2be435),await(0x0,Gt[_0x674d3b(0x544)])(_0x5d8026)[_0x674d3b(0x68b)](_0x2be435),this['logger']['verbose'](this[_0x674d3b(0x7c4)]+'\x20('+this[_0x674d3b(0x45a)][_0x674d3b(0x7c7)]+_0x674d3b(0x794));}return await(0x0,Gt[_0x674d3b(0x544)])(_0x2be435)[_0x674d3b(0x380)]()[_0x674d3b(0x68b)](_0x46efd3),this[_0x674d3b(0x69c)][_0x674d3b(0x6c3)](this['instanceName']+'\x20('+this[_0x674d3b(0x45a)][_0x674d3b(0x7c7)]+'):Image\x20converted\x20to\x20WebP'),F[_0x674d3b(0x56d)](_0x2be435),this[_0x674d3b(0x69c)]['verbose'](this[_0x674d3b(0x7c4)]+'\x20('+this[_0x674d3b(0x45a)][_0x674d3b(0x7c7)]+'):Temp\x20image\x20deleted'),_0x46efd3;}catch(_0x52cc86){let _0x38eefe=_0x674d3b(0x270),_0x1067f4=_0x52cc86 instanceof Error?_0x52cc86[_0x674d3b(0x577)]:typeof _0x52cc86==_0x674d3b(0x3e2)?JSON[_0x674d3b(0x716)](_0x52cc86):_0x52cc86,_0x1bdb64=_0x38eefe+':\x20'+_0x1067f4;this['logger'][_0x674d3b(0x664)](this[_0x674d3b(0x7c4)]+'\x20('+this['instance']['wuid']+_0x674d3b(0x7cd)+_0x1bdb64);}}async[a0_0xa27d39(0x1d2)](_0x58eed7){const _0x47ba6e=a0_0xa27d39;let _0x45bbc3=await this[_0x47ba6e(0x370)](_0x58eed7[_0x47ba6e(0x847)][_0x47ba6e(0x475)],_0x58eed7[_0x47ba6e(0x6d9)]),_0x575d81=await this[_0x47ba6e(0x2cd)](_0x58eed7['number'],{'sticker':{'url':_0x45bbc3}},_0x58eed7?.[_0x47ba6e(0x2ad)]);return F[_0x47ba6e(0x56d)](_0x45bbc3),this[_0x47ba6e(0x69c)][_0x47ba6e(0x6c3)](this[_0x47ba6e(0x7c4)]+'\x20('+this[_0x47ba6e(0x45a)]['wuid']+_0x47ba6e(0x55d)),_0x575d81;}async[a0_0xa27d39(0x646)](_0xfa03bf){const _0x415a03=a0_0xa27d39;if(this['logger'][_0x415a03(0x6c3)](this[_0x415a03(0x7c4)]+'\x20('+this[_0x415a03(0x45a)][_0x415a03(0x7c7)]+_0x415a03(0x6cd)),!_0xfa03bf[_0x415a03(0x2ad)]?.['encoding']&&_0xfa03bf[_0x415a03(0x2ad)]?.[_0x415a03(0x77d)]!==!0x1&&(_0xfa03bf[_0x415a03(0x2ad)][_0x415a03(0x77d)]=!0x0),_0xfa03bf[_0x415a03(0x2ad)]?.['encoding']){let _0x367473=await this['convertaudio'](_0xfa03bf[_0x415a03(0x546)][_0x415a03(0x3a3)]);if(typeof _0x367473=='string'){let _0x49bd75=F['readFileSync'](_0x367473)['toString'](_0x415a03(0x745));return this['sendMessageWithTyping'](_0xfa03bf['number'],{'audio':Buffer[_0x415a03(0x396)](_0x49bd75,_0x415a03(0x745)),'ptt':!0x0,'mimetype':_0x415a03(0x6a4)},{'presence':_0x415a03(0x7f9),'delay':_0xfa03bf?.[_0x415a03(0x2ad)]?.[_0x415a03(0x753)]});}else throw new x(_0x367473);}return await this['sendMessageWithTyping'](_0xfa03bf['number'],{'audio':(0x0,L[_0x415a03(0x787)])(_0xfa03bf[_0x415a03(0x546)][_0x415a03(0x3a3)])?{'url':_0xfa03bf[_0x415a03(0x546)][_0x415a03(0x3a3)]}:Buffer[_0x415a03(0x396)](_0xfa03bf[_0x415a03(0x546)][_0x415a03(0x3a3)],_0x415a03(0x745)),'ptt':!0x0,'mimetype':_0x415a03(0x6a4)},{'presence':_0x415a03(0x7f9),'delay':_0xfa03bf?.[_0x415a03(0x2ad)]?.[_0x415a03(0x753)]});}async[a0_0xa27d39(0x4c4)](_0x1a9d30){const _0x26642b=a0_0xa27d39;this[_0x26642b(0x69c)][_0x26642b(0x6c3)](this['instanceName']+'\x20('+this[_0x26642b(0x45a)][_0x26642b(0x7c7)]+'):Processing\x20audio');let _0x4ec123=(0x0,L['isURL'])(_0x1a9d30)?(0x0,Re['createHash'])(_0x26642b(0x413))[_0x26642b(0x8e1)](_0x1a9d30)[_0x26642b(0x333)](_0x26642b(0x320)):(0x0,Re[_0x26642b(0x434)])(_0x26642b(0x413))[_0x26642b(0x8e1)](_0x1a9d30)[_0x26642b(0x333)]('hex'),_0x43d473=''+(0x0,j[_0x26642b(0x5cc)])(this[_0x26642b(0x7b9)],_0x4ec123+'.ogg');if(F['existsSync'](_0x43d473))return this[_0x26642b(0x69c)][_0x26642b(0x6c3)](this[_0x26642b(0x7c4)]+'\x20('+this[_0x26642b(0x45a)][_0x26642b(0x7c7)]+_0x26642b(0x328)),_0x43d473;let _0x46c650=''+(0x0,j['join'])(this[_0x26642b(0x7b9)],_0x26642b(0x32b)+(0x0,X['v4'])()+'.mp3');if((0x0,L['isURL'])(_0x1a9d30)){let _0x35c92a=new Date()[_0x26642b(0x260)](),_0x5b55b6=_0x1a9d30+_0x26642b(0x312)+_0x35c92a,_0x3b196b=await te[_0x26642b(0x544)][_0x26642b(0x711)](_0x5b55b6,{'responseType':_0x26642b(0x222)});F[_0x26642b(0x4b7)](_0x46c650,_0x3b196b[_0x26642b(0x343)]);}else{let _0x53ad96=Buffer[_0x26642b(0x396)](_0x1a9d30,_0x26642b(0x745));F['writeFileSync'](_0x46c650,_0x53ad96);}return new Promise((_0x2d8954,_0x43c8bb)=>{const _0x598c6c=_0x26642b;(0x0,je[_0x598c6c(0x626)])(Ps[_0x598c6c(0x544)][_0x598c6c(0x7d0)]+'\x20-i\x20'+_0x46c650+_0x598c6c(0x8ab)+_0x43d473+'\x20-y',_0xf8ee4=>{const _0x374dc2=_0x598c6c;if(F[_0x374dc2(0x56d)](_0x46c650),_0xf8ee4){this[_0x374dc2(0x69c)][_0x374dc2(0x6c3)](this[_0x374dc2(0x7c4)]+'\x20('+this[_0x374dc2(0x45a)]['wuid']+_0x374dc2(0x252)),_0x43c8bb(_0xf8ee4);return;}this['logger'][_0x374dc2(0x6c3)](this[_0x374dc2(0x7c4)]+'\x20('+this['instance'][_0x374dc2(0x7c7)]+_0x374dc2(0x81a)),_0x2d8954(_0x43d473);});});}async[a0_0xa27d39(0x511)](_0x55ce20){const _0x38dd9f=a0_0xa27d39;this[_0x38dd9f(0x69c)][_0x38dd9f(0x6c3)](this[_0x38dd9f(0x7c4)]+'\x20('+this['instance'][_0x38dd9f(0x7c7)]+_0x38dd9f(0x6c7));let _0x109b1b=(0x0,Re['createHash'])(_0x38dd9f(0x413))[_0x38dd9f(0x8e1)](_0x55ce20)[_0x38dd9f(0x333)](_0x38dd9f(0x320)),_0x32c62d=''+(0x0,j[_0x38dd9f(0x5cc)])(this[_0x38dd9f(0x7b9)],_0x109b1b+'.mp3');if(F[_0x38dd9f(0x478)](_0x32c62d))return this[_0x38dd9f(0x69c)][_0x38dd9f(0x6c3)](this[_0x38dd9f(0x7c4)]+'\x20('+this[_0x38dd9f(0x45a)][_0x38dd9f(0x7c7)]+_0x38dd9f(0x328)),j[_0x38dd9f(0x544)][_0x38dd9f(0x618)](_0x32c62d);let _0xdaf997=''+(0x0,j['join'])(this['storePath'],_0x38dd9f(0x32b)+_0x109b1b+_0x38dd9f(0x6d6));if((0x0,L[_0x38dd9f(0x787)])(_0x55ce20)){let _0x1c11a0=new Date()[_0x38dd9f(0x260)](),_0x2ec11c=_0x55ce20+_0x38dd9f(0x312)+_0x1c11a0,_0x4ce39f=await te[_0x38dd9f(0x544)][_0x38dd9f(0x711)](_0x2ec11c,{'responseType':_0x38dd9f(0x222)});F[_0x38dd9f(0x4b7)](_0xdaf997,_0x4ce39f['data']);}else{let _0x565edb=Buffer[_0x38dd9f(0x396)](_0x55ce20,_0x38dd9f(0x745));F[_0x38dd9f(0x4b7)](_0xdaf997,_0x565edb);}return new Promise((_0x245e82,_0x64e199)=>{const _0x3b6535=_0x38dd9f;(0x0,je[_0x3b6535(0x626)])(Ps[_0x3b6535(0x544)][_0x3b6535(0x7d0)]+'\x20-i\x20'+_0xdaf997+_0x3b6535(0x747)+_0x32c62d+'\x20-y',_0xfae418=>{const _0x59d87d=_0x3b6535;if(F[_0x59d87d(0x56d)](_0xdaf997),_0xfae418){this[_0x59d87d(0x69c)][_0x59d87d(0x6c3)](this[_0x59d87d(0x7c4)]+'\x20('+this[_0x59d87d(0x45a)][_0x59d87d(0x7c7)]+_0x59d87d(0x252)),_0x64e199(_0xfae418);return;}this[_0x59d87d(0x69c)][_0x59d87d(0x6c3)](this['instanceName']+'\x20('+this['instance'][_0x59d87d(0x7c7)]+_0x59d87d(0x81a)),_0x245e82(j['default']['basename'](_0x32c62d));});});}async[a0_0xa27d39(0x72b)](_0x315fab){const _0x4ea2ae=a0_0xa27d39;let _0x5419f8={},_0x476a6c='TEXT';if(_0x315fab[_0x4ea2ae(0x72b)]?.['mediaMessage']){_0x476a6c=_0x315fab[_0x4ea2ae(0x72b)]['mediaMessage']?.[_0x4ea2ae(0x3b0)][_0x4ea2ae(0x1ca)]()??_0x4ea2ae(0x5c8),_0x5419f8[_0x4ea2ae(0x593)]=_0x476a6c['toLowerCase']()+_0x4ea2ae(0x48e);let _0x36b216=await this['prepareMediaMessage'](_0x315fab[_0x4ea2ae(0x72b)][_0x4ea2ae(0x322)]);_0x5419f8[_0x4ea2ae(0x577)]=_0x36b216[_0x4ea2ae(0x577)][_0x5419f8[_0x4ea2ae(0x593)]],_0x5419f8['contentText']='*'+_0x315fab[_0x4ea2ae(0x72b)][_0x4ea2ae(0x632)]+_0x4ea2ae(0x629)+_0x315fab['buttonMessage'][_0x4ea2ae(0x61b)];}let _0x3e85af={'text':_0x315fab['buttonMessage'][_0x4ea2ae(0x655)]['map'](_0x40b05c=>_0x40b05c[_0x4ea2ae(0x7c6)]),'ids':_0x315fab['buttonMessage'][_0x4ea2ae(0x655)][_0x4ea2ae(0x59b)](_0x15b504=>_0x15b504[_0x4ea2ae(0x4c1)])};if(!(0x0,L[_0x4ea2ae(0x515)])(_0x3e85af[_0x4ea2ae(0x558)])||!(0x0,L['arrayUnique'])(_0x3e85af[_0x4ea2ae(0x5d9)]))throw new m(_0x4ea2ae(0x6dc),_0x4ea2ae(0x316));return await this[_0x4ea2ae(0x2cd)](_0x315fab[_0x4ea2ae(0x6d9)],{'buttonsMessage':{'text':_0x5419f8?.['mediaKey']?void 0x0:_0x315fab['buttonMessage'][_0x4ea2ae(0x632)],'contentText':_0x5419f8?.[_0x4ea2ae(0x29b)]??_0x315fab[_0x4ea2ae(0x72b)][_0x4ea2ae(0x61b)],'footerText':_0x315fab[_0x4ea2ae(0x72b)]?.['footerText'],'buttons':_0x315fab['buttonMessage']['buttons'][_0x4ea2ae(0x59b)](_0x535bf5=>({'buttonText':{'displayText':_0x535bf5[_0x4ea2ae(0x7c6)]},'buttonId':_0x535bf5[_0x4ea2ae(0x4c1)],'type':0x1})),'headerType':w['proto'][_0x4ea2ae(0x48e)][_0x4ea2ae(0x45d)][_0x4ea2ae(0x877)][_0x476a6c],[_0x5419f8?.[_0x4ea2ae(0x593)]]:_0x5419f8?.[_0x4ea2ae(0x577)]}},_0x315fab?.[_0x4ea2ae(0x2ad)]);}async[a0_0xa27d39(0x6f6)](_0x15877b){const _0x312b6f=a0_0xa27d39;return await this[_0x312b6f(0x2cd)](_0x15877b[_0x312b6f(0x6d9)],{'locationMessage':{'degreesLatitude':_0x15877b[_0x312b6f(0x6f6)][_0x312b6f(0x4e5)],'degreesLongitude':_0x15877b[_0x312b6f(0x6f6)][_0x312b6f(0x885)],'name':_0x15877b[_0x312b6f(0x6f6)]?.[_0x312b6f(0x75e)],'address':_0x15877b['locationMessage']?.[_0x312b6f(0x3d5)]}},_0x15877b?.[_0x312b6f(0x2ad)]);}async['contactMessage'](_0x2e82d3){const _0x3924ba=a0_0xa27d39;let _0x483f0f={},_0x3ab371=async _0x398580=>{const _0x118102=a0_0x2c1e;let _0x3bc2e6=_0x118102(0x848)+_0x398580[_0x118102(0x359)]+_0x118102(0x7a4)+_0x398580[_0x118102(0x359)]+'\x0a';_0x398580[_0x118102(0x662)]&&(_0x3bc2e6+=_0x118102(0x2c8)+_0x398580[_0x118102(0x662)]+';\x0a'),_0x398580[_0x118102(0x74e)]&&(_0x3bc2e6+=_0x118102(0x7cb)+_0x398580[_0x118102(0x74e)]+'\x0a'),_0x398580[_0x118102(0x63b)]&&(_0x3bc2e6+=_0x118102(0x4b6)+_0x398580[_0x118102(0x63b)]+'\x0a');let _0x3129b6='',_0x4bad48=0x1;if(_0x398580['phoneNumber']){let _0x417aa0=_0x398580[_0x118102(0x284)][_0x118102(0x8cb)]('|');for(let _0x2f062f of _0x417aa0){let _0x5c8067=await this[_0x118102(0x286)]({'numbers':[_0x2f062f]}),_0x347e58=(_0x5c8067[_0x118102(0x3a7)]>0x0?_0x5c8067[0x0][_0x118102(0x21f)]:this['createJid'](_0x2f062f))['replace']('@s.whatsapp.net','');_0x3129b6+=_0x118102(0x7f3)+_0x4bad48+_0x118102(0x67e)+_0x347e58+':'+_0x2f062f+_0x118102(0x631)+_0x4bad48+'.X-ABLabel:Celular\x0a',_0x4bad48++;}}return _0x3bc2e6+=_0x3129b6+_0x118102(0x489),_0x3bc2e6;};return _0x2e82d3[_0x3924ba(0x47b)][_0x3924ba(0x3a7)]===0x1?_0x483f0f[_0x3924ba(0x47b)]={'displayName':_0x2e82d3[_0x3924ba(0x47b)][0x0][_0x3924ba(0x359)],'vcard':await _0x3ab371(_0x2e82d3[_0x3924ba(0x47b)][0x0])}:_0x483f0f[_0x3924ba(0x689)]={'displayName':_0x2e82d3['contactMessage'][_0x3924ba(0x3a7)]+'\x20contacts','contacts':await Promise[_0x3924ba(0x873)](_0x2e82d3[_0x3924ba(0x47b)][_0x3924ba(0x59b)](async _0x243120=>({'displayName':_0x243120['fullName'],'vcard':await _0x3ab371(_0x243120)})))},await this['sendMessageWithTyping'](_0x2e82d3['number'],{..._0x483f0f},_0x2e82d3?.['options']);}async[a0_0xa27d39(0x72c)](_0x2e0673){const _0x107d4f=a0_0xa27d39;return await this[_0x107d4f(0x2cd)](_0x2e0673[_0x107d4f(0x72c)][_0x107d4f(0x5e0)]['remoteJid'],{'reactionMessage':{'key':_0x2e0673['reactionMessage'][_0x107d4f(0x5e0)],'text':_0x2e0673[_0x107d4f(0x72c)][_0x107d4f(0x86d)]}});}async[a0_0xa27d39(0x286)](_0xcf3e13){const _0x2b2a1a=a0_0xa27d39;let _0x52e9d2=[];for await(let _0x52fe77 of _0xcf3e13[_0x2b2a1a(0x299)]){let _0x2be557=this[_0x2b2a1a(0x44d)](_0x52fe77),_0x1989fd=!0x1;try{if((0x0,w[_0x2b2a1a(0x429)])(_0x2be557)){let _0x572d1b=(await this[_0x2b2a1a(0x4f0)][_0x2b2a1a(0x532)][_0x2b2a1a(0x25d)]({'where':{'_id':_0x2be557}},this[_0x2b2a1a(0x45a)]['wuid']))[_0x2b2a1a(0x8fb)];_0x572d1b?(_0x1989fd=!0x0,_0x52e9d2[_0x2b2a1a(0x898)](new pe(_0x572d1b['id'],_0x1989fd,_0x572d1b?.[_0x2b2a1a(0x344)]))):(_0x572d1b=await this[_0x2b2a1a(0x51f)]({'groupJid':_0x2be557},'inner'),_0x52e9d2[_0x2b2a1a(0x898)](new pe(_0x572d1b['id'],!!_0x572d1b?.['id'],_0x572d1b?.['subject'])));}else{if(_0x2be557['includes']('@broadcast'))_0x52e9d2[_0x2b2a1a(0x898)](new pe(_0x2be557,!0x0));else{let _0x10b86a=(await this[_0x2b2a1a(0x1f1)][_0x2b2a1a(0x3b8)](_0x2be557))[0x0];_0x52e9d2['push'](new pe(_0x10b86a['jid'],_0x10b86a[_0x2b2a1a(0x7f7)]));}}}catch{(0x0,w[_0x2b2a1a(0x429)])(_0x2be557)||await this[_0x2b2a1a(0x416)](_0x2be557),_0x52e9d2[_0x2b2a1a(0x898)](new pe(_0x52fe77,!0x1));}}return _0x52e9d2;}async[a0_0xa27d39(0x416)](_0x3abf9b){const _0x24410b=a0_0xa27d39;try{await this[_0x24410b(0x4f0)][_0x24410b(0x532)][_0x24410b(0x25d)]({'where':{'_id':_0x3abf9b,'imported':!0x0}},this[_0x24410b(0x45a)][_0x24410b(0x7c7)])&&(await this[_0x24410b(0x4f0)]['chat']['deleteChat'](_0x3abf9b,this[_0x24410b(0x45a)][_0x24410b(0x7c7)]),this['logger'][_0x24410b(0x6c5)](_0x24410b(0x6b0)+_0x3abf9b+_0x24410b(0x869)));}catch(_0x344576){let _0x1b4883=_0x24410b(0x530),_0x2e25ec=_0x344576 instanceof Error?_0x344576[_0x24410b(0x577)]:typeof _0x344576==_0x24410b(0x3e2)?JSON['stringify'](_0x344576):_0x344576,_0x23cea7=_0x1b4883+':\x20'+_0x2e25ec;this['logger'][_0x24410b(0x664)](this[_0x24410b(0x7c4)]+'\x20('+this[_0x24410b(0x45a)]['wuid']+_0x24410b(0x7cd)+_0x23cea7);}}async[a0_0xa27d39(0x3cc)](_0x4ac41e){const _0x5b0c9a=a0_0xa27d39;try{let _0x2a6d2b=_0x4ac41e[_0x5b0c9a(0x52b)][_0x5b0c9a(0x842)](_0x5894b0=>(0x0,w[_0x5b0c9a(0x429)])(_0x5894b0['remoteJid'])||(0x0,w[_0x5b0c9a(0x8fd)])(_0x5894b0[_0x5b0c9a(0x5a2)]))[_0x5b0c9a(0x59b)](_0x5dd525=>({'remoteJid':_0x5dd525[_0x5b0c9a(0x5a2)],'fromMe':_0x5dd525[_0x5b0c9a(0x58f)],'id':_0x5dd525['id']}));await this[_0x5b0c9a(0x1f1)][_0x5b0c9a(0x52b)](_0x2a6d2b);let _0x1d78e6=_0x2a6d2b[_0x5b0c9a(0x59b)](_0xc83d37=>this['updateMessage'](_0xc83d37,{'status':_0x5b0c9a(0x240),'owner':this['instance'][_0x5b0c9a(0x7c7)]})),_0x2f80ec=_0x2a6d2b['map'](_0x3adbea=>this['repository'][_0x5b0c9a(0x532)]['updateOne']({'where':{'_id':_0x3adbea['remoteJid']}},{'unreadcount':0x0},this[_0x5b0c9a(0x45a)][_0x5b0c9a(0x7c7)])),[_0x20b4c9,_0x3fcd4e]=await Promise[_0x5b0c9a(0x873)]([Promise[_0x5b0c9a(0x873)](_0x1d78e6),Promise[_0x5b0c9a(0x873)](_0x2f80ec)]);return _0x3fcd4e[_0x5b0c9a(0x842)](_0x406da6=>_0x406da6!==null)[_0x5b0c9a(0x888)](_0x394be0=>{const _0x284a80=_0x5b0c9a;q(this['instanceName'],_0x284a80(0x568),{'chat':_0x394be0});}),{'message':'Read\x20messages','read':'success'};}catch(_0x40c11c){let _0x4abbdd=_0x5b0c9a(0x824),_0xef6994=_0x40c11c instanceof Error?_0x40c11c[_0x5b0c9a(0x577)]:typeof _0x40c11c==_0x5b0c9a(0x3e2)?JSON[_0x5b0c9a(0x716)](_0x40c11c):_0x40c11c,_0x12ffdf=_0x4abbdd+':\x20'+_0xef6994;throw this['logger'][_0x5b0c9a(0x664)](this['instanceName']+'\x20('+this[_0x5b0c9a(0x45a)][_0x5b0c9a(0x7c7)]+_0x5b0c9a(0x7cd)+_0x12ffdf),new x(_0x12ffdf);}}async[a0_0xa27d39(0x594)](_0x45819b){const _0x470390=a0_0xa27d39;let _0x4e21aa={'where':{'key':{'remoteJid':_0x45819b}},'limit':0x1},_0x3a3f7b=await this[_0x470390(0x868)](_0x4e21aa);return _0x3a3f7b||(this[_0x470390(0x69c)][_0x470390(0x664)](_0x470390(0x67d)+_0x45819b),null);}async['archiveChat'](_0x4cbe0a){const _0x5379ae=a0_0xa27d39;this[_0x5379ae(0x69c)][_0x5379ae(0x6c3)](this[_0x5379ae(0x7c4)]+'\x20('+this['instance'][_0x5379ae(0x7c7)]+'):Archiving\x20chat');try{let _0x97ffcd=_0x4cbe0a[_0x5379ae(0x766)],_0x187ee2=_0x4cbe0a[_0x5379ae(0x532)];if(!_0x97ffcd&&_0x187ee2?_0x97ffcd=await this[_0x5379ae(0x594)](_0x187ee2):(_0x97ffcd=_0x4cbe0a[_0x5379ae(0x766)],_0x97ffcd[_0x5379ae(0x232)]=_0x97ffcd?.[_0x5379ae(0x232)]??Date[_0x5379ae(0x27c)](),_0x187ee2=_0x97ffcd?.['key']?.[_0x5379ae(0x5a2)]),!_0x97ffcd||Object[_0x5379ae(0x537)](_0x97ffcd)[_0x5379ae(0x3a7)]===0x0)throw new J(_0x5379ae(0x652));this[_0x5379ae(0x69c)][_0x5379ae(0x6c3)](this[_0x5379ae(0x7c4)]+'\x20('+this[_0x5379ae(0x45a)][_0x5379ae(0x7c7)]+_0x5379ae(0x752)+_0x187ee2);try{await this[_0x5379ae(0x1f1)][_0x5379ae(0x2a5)]({'archive':_0x4cbe0a['archive'],'lastMessages':[_0x97ffcd]},this['createJid'](_0x187ee2));}catch(_0x20105f){let _0xae2fef=_0x5379ae(0x86a)+_0x187ee2,_0x5e102a=_0x20105f instanceof Error?_0x20105f['message']:typeof _0x20105f==_0x5379ae(0x3e2)?JSON[_0x5379ae(0x716)](_0x20105f):_0x20105f,_0x2ecc4b=_0xae2fef+':\x20'+_0x5e102a;this[_0x5379ae(0x69c)][_0x5379ae(0x664)](this[_0x5379ae(0x7c4)]+'\x20('+this[_0x5379ae(0x45a)][_0x5379ae(0x7c7)]+'):\x20'+_0x2ecc4b);}this[_0x5379ae(0x69c)][_0x5379ae(0x6c3)](this[_0x5379ae(0x7c4)]+'\x20('+this[_0x5379ae(0x45a)][_0x5379ae(0x7c7)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x187ee2);let _0x4c3a61=await this[_0x5379ae(0x4f0)][_0x5379ae(0x532)][_0x5379ae(0x45c)]({'where':{'_id':_0x97ffcd?.[_0x5379ae(0x5e0)]?.[_0x5379ae(0x5a2)]}},{'archived':_0x4cbe0a['archive']},this[_0x5379ae(0x45a)]['wuid']);return _0x4c3a61?(this[_0x5379ae(0x69c)][_0x5379ae(0x6c3)](this['instanceName']+'\x20('+this[_0x5379ae(0x45a)][_0x5379ae(0x7c7)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x5379ae(0x716)](_0x4c3a61)),q(this[_0x5379ae(0x7c4)],_0x5379ae(0x568),{'chat':_0x4c3a61})):this[_0x5379ae(0x69c)][_0x5379ae(0x664)](this[_0x5379ae(0x7c4)]+'\x20('+this['instance']['wuid']+_0x5379ae(0x60d)+_0x187ee2),{'chatId':_0x187ee2,'archived':_0x4cbe0a[_0x5379ae(0x4fc)]};}catch(_0x5669ef){let _0x142e1c='Erro\x20ao\x20arquivar\x20chat',_0x363ca4=_0x5669ef instanceof Error?_0x5669ef['message']:typeof _0x5669ef==_0x5379ae(0x3e2)?JSON['stringify'](_0x5669ef):_0x5669ef,_0x2fa568=_0x142e1c+':\x20'+_0x363ca4;throw this[_0x5379ae(0x69c)][_0x5379ae(0x664)](this[_0x5379ae(0x7c4)]+'\x20('+this['instance'][_0x5379ae(0x7c7)]+_0x5379ae(0x7cd)+_0x2fa568),new x(_0x2fa568);}}async[a0_0xa27d39(0x66a)](_0x115284){const _0x36502c=a0_0xa27d39;this[_0x36502c(0x69c)][_0x36502c(0x6c3)](this[_0x36502c(0x7c4)]+'\x20('+this['instance'][_0x36502c(0x7c7)]+'):Delete\x20chat');try{let _0x35b06b=await this['getLastMessage'](_0x115284);if(!_0x35b06b||Object[_0x36502c(0x537)](_0x35b06b)['length']===0x0)throw new J(_0x36502c(0x652));let _0x173f8d=_0x35b06b[0x0];this[_0x36502c(0x69c)]['verbose'](this[_0x36502c(0x7c4)]+'\x20('+this[_0x36502c(0x45a)][_0x36502c(0x7c7)]+_0x36502c(0x728)+_0x115284);try{await this['client']['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x173f8d['key'],'messageTimestamp':_0x173f8d[_0x36502c(0x232)]}]},this['createJid'](_0x115284));}catch(_0x2f9aee){this[_0x36502c(0x69c)][_0x36502c(0x664)](_0x36502c(0x86a)+_0x115284+':\x20'+_0x2f9aee['toString']());}this[_0x36502c(0x69c)][_0x36502c(0x6c3)](this[_0x36502c(0x7c4)]+'\x20('+this[_0x36502c(0x45a)][_0x36502c(0x7c7)]+_0x36502c(0x51a)+_0x115284);return;}catch(_0x2387c4){throw this[_0x36502c(0x69c)][_0x36502c(0x664)](this[_0x36502c(0x7c4)]+'\x20('+this[_0x36502c(0x45a)][_0x36502c(0x7c7)]+_0x36502c(0x382)+_0x2387c4['toString']()),new x({'archived':!0x1,'message':[_0x36502c(0x431),_0x2387c4[_0x36502c(0x412)]()]});}}async[a0_0xa27d39(0x797)](_0x5b6e1d){const _0x401e2d=a0_0xa27d39;try{let _0xd0b1d5=await this[_0x401e2d(0x1f1)][_0x401e2d(0x3db)](_0x5b6e1d[_0x401e2d(0x5a2)],{'delete':_0x5b6e1d});try{let _0x57f791=await this[_0x401e2d(0x69b)](_0x5b6e1d,{'status':'DELETED','owner':this[_0x401e2d(0x45a)][_0x401e2d(0x7c7)]});this[_0x401e2d(0x69c)][_0x401e2d(0x6c3)](this['instanceName']+'\x20('+this[_0x401e2d(0x45a)]['wuid']+_0x401e2d(0x353)+_0x57f791);}catch(_0x319931){this[_0x401e2d(0x69c)]['error'](_0x401e2d(0x1f8)+_0x319931);}return _0xd0b1d5;}catch(_0x3d39d6){throw new x(_0x401e2d(0x52f),_0x3d39d6?.[_0x401e2d(0x412)]());}}async['getBase64FromMediaMessage'](_0x20e2b9){const _0x1e7eb5=a0_0xa27d39;try{let _0x6b5db3=_0x20e2b9?.[_0x1e7eb5(0x577)]?_0x20e2b9:await this[_0x1e7eb5(0x543)](_0x20e2b9[_0x1e7eb5(0x5e0)],!0x0);for(let _0xa12ffa of Ra)_0x6b5db3[_0x1e7eb5(0x577)][_0xa12ffa]&&(_0x6b5db3['message']=_0x6b5db3[_0x1e7eb5(0x577)][_0xa12ffa][_0x1e7eb5(0x577)]);let _0x27b299,_0x108feb;for(let _0x2b369c of $a)if(_0x27b299=_0x6b5db3[_0x1e7eb5(0x577)][_0x2b369c],_0x27b299){_0x108feb=_0x2b369c;break;}if(!_0x27b299)throw _0x1e7eb5(0x8dd);typeof _0x27b299[_0x1e7eb5(0x593)]==_0x1e7eb5(0x3e2)&&(_0x6b5db3[_0x1e7eb5(0x577)]=JSON[_0x1e7eb5(0x4ea)](JSON[_0x1e7eb5(0x716)](_0x6b5db3[_0x1e7eb5(0x577)])));let _0x4e2392=await(0x0,w[_0x1e7eb5(0x297)])({'key':_0x6b5db3?.[_0x1e7eb5(0x5e0)],'message':_0x6b5db3?.[_0x1e7eb5(0x577)]},_0x1e7eb5(0x425),{},{'logger':(0x0,Vt[_0x1e7eb5(0x544)])({'level':'silent'}),'reuploadRequest':this['client'][_0x1e7eb5(0x739)]});if(!(_0x4e2392 instanceof Buffer))throw new Error(_0x1e7eb5(0x796));let _0x1df72b=this[_0x1e7eb5(0x44e)][_0x1e7eb5(0x711)](_0x1e7eb5(0x3d1)),_0x35d801,_0x1011f4;if(_0x27b299[_0x1e7eb5(0x2ef)])_0x35d801=_0x27b299['fileName'];else{let _0xfd5bc4=_0x27b299[_0x1e7eb5(0x7d9)]?.[_0x1e7eb5(0x1d9)](/\/(\w+)/),_0x5183c6=_0xfd5bc4?_0xfd5bc4[0x1]:null;if(!_0x5183c6)throw new Error(_0x1e7eb5(0x78d));_0x35d801=(0x0,X['v4'])()+'.'+_0x5183c6;}_0x108feb===_0x1e7eb5(0x546)?_0x1011f4=_0x1e7eb5(0x5f3)+await this[_0x1e7eb5(0x511)](_0x4e2392[_0x1e7eb5(0x412)](_0x1e7eb5(0x745))):(await this[_0x1e7eb5(0x5a1)](_0x4e2392,_0x35d801),_0x1011f4=_0x1e7eb5(0x5f3)+_0x35d801);let _0x369c2c=this['configService'][_0x1e7eb5(0x711)](_0x1e7eb5(0x570))[_0x1e7eb5(0x586)];if(!_0x369c2c){let _0x32a523=this[_0x1e7eb5(0x44e)][_0x1e7eb5(0x711)](_0x1e7eb5(0x7a3));_0x369c2c=_0x1e7eb5(0x591)+(_0x32a523&&_0x32a523[_0x1e7eb5(0x79f)]['split']('/')[0x4]);}_0x1011f4=''+_0x369c2c+_0x1011f4;let _0x2f207a=0xc*0x3c*0x3c*0x3e8,_0x1c33cd={'where':{'_id':_0x6b5db3[_0x1e7eb5(0x5e0)]['id']}},_0x299497={'message_normalized.fileUrl':_0x1011f4,'message_normalized.expires_fileUrl':Date[_0x1e7eb5(0x27c)]()+_0x2f207a};try{let _0x50fcdb=await this[_0x1e7eb5(0x4f0)][_0x1e7eb5(0x577)][_0x1e7eb5(0x8e1)](_0x1c33cd,_0x299497,this[_0x1e7eb5(0x45a)]['wuid']);_0x50fcdb&&q(this[_0x1e7eb5(0x7c4)],_0x1e7eb5(0x89a),{'message':_0x50fcdb});}catch(_0x2a7701){let _0x91de4c=_0x1e7eb5(0x5f4),_0x573fe5=_0x2a7701 instanceof Error?_0x2a7701[_0x1e7eb5(0x577)]:typeof _0x2a7701==_0x1e7eb5(0x3e2)?JSON[_0x1e7eb5(0x716)](_0x2a7701):_0x2a7701,_0x4b37ec=_0x91de4c+':\x20'+_0x573fe5;this['logger'][_0x1e7eb5(0x664)](this[_0x1e7eb5(0x7c4)]+'\x20('+this[_0x1e7eb5(0x45a)][_0x1e7eb5(0x7c7)]+_0x1e7eb5(0x7cd)+_0x4b37ec);}return{'mediaType':_0x108feb,'fileName':_0x27b299[_0x1e7eb5(0x2ef)],'caption':_0x27b299[_0x1e7eb5(0x5fe)],'size':{'fileLength':_0x27b299['fileLength'],'height':_0x27b299[_0x1e7eb5(0x35b)],'width':_0x27b299[_0x1e7eb5(0x5c3)]},'mimetype':_0x27b299[_0x1e7eb5(0x7d9)],'base64':_0x4e2392[_0x1e7eb5(0x412)](_0x1e7eb5(0x745)),'fileUrl':_0x1011f4,'expires_fileUrl':Date[_0x1e7eb5(0x27c)]()+_0x2f207a};}catch(_0x30df9f){let _0xc92e9a=_0x1e7eb5(0x6b1),_0x5effbb=_0x30df9f instanceof Error?_0x30df9f[_0x1e7eb5(0x577)]:typeof _0x30df9f=='object'?JSON['stringify'](_0x30df9f):_0x30df9f,_0xc5a186=_0xc92e9a+':\x20'+_0x5effbb;throw this[_0x1e7eb5(0x69c)][_0x1e7eb5(0x664)](this[_0x1e7eb5(0x7c4)]+'\x20('+this[_0x1e7eb5(0x45a)][_0x1e7eb5(0x7c7)]+'):\x20'+_0xc5a186),new m(_0xc5a186);}}async[a0_0xa27d39(0x5a1)](_0x4f6cb1,_0x196401){const _0x377579=a0_0xa27d39;let _0x21ad95=j[_0x377579(0x544)][_0x377579(0x5cc)](__dirname,_0x377579(0x54f));F['existsSync'](_0x21ad95)||F[_0x377579(0x3b1)](_0x21ad95,{'recursive':!0x0});let _0x212793=j['default'][_0x377579(0x5cc)](_0x21ad95,_0x196401);return new Promise((_0x4ce545,_0x11c09a)=>{F['writeFile'](_0x212793,_0x4f6cb1,_0x570703=>{const _0x3e7de2=a0_0x2c1e;_0x570703?(this[_0x3e7de2(0x69c)][_0x3e7de2(0x664)](_0x3e7de2(0x863)+(_0x570703 instanceof Error?_0x570703[_0x3e7de2(0x577)]:JSON[_0x3e7de2(0x716)](_0x570703,null,0x2))),_0x11c09a(_0x570703)):(this[_0x3e7de2(0x69c)][_0x3e7de2(0x843)]('File\x20written\x20to\x20path:\x20'+_0x212793),_0x4ce545(_0x212793));});});}async['fetchContacts'](_0x5b55f7){const _0x354b31=a0_0xa27d39;return await this[_0x354b31(0x4f0)]['contact']['find'](_0x5b55f7,this['instance']['wuid']);}async[a0_0xa27d39(0x42d)](){const _0x2b5f45=a0_0xa27d39;return await this[_0x2b5f45(0x4f0)][_0x2b5f45(0x894)][_0x2b5f45(0x678)]({'where':{}},this['instance']['wuid']);}async['fetchMessages'](_0xad9da4){const _0x433316=a0_0xa27d39;return await this[_0x433316(0x4f0)][_0x433316(0x577)][_0x433316(0x678)](_0xad9da4,this['instance'][_0x433316(0x7c7)]);}async[a0_0xa27d39(0x4fe)](){const _0x5a8661=a0_0xa27d39;return this[_0x5a8661(0x4f0)]['chat']['removeUnusedChatFields'](this[_0x5a8661(0x45a)][_0x5a8661(0x7c7)]),this[_0x5a8661(0x4f0)][_0x5a8661(0x532)][_0x5a8661(0x5ea)](this[_0x5a8661(0x45a)]['wuid']),this[_0x5a8661(0x4f0)]['chat']['updateMissingTags'](this[_0x5a8661(0x45a)]['wuid']),this[_0x5a8661(0x4f0)][_0x5a8661(0x532)][_0x5a8661(0x866)](this[_0x5a8661(0x45a)][_0x5a8661(0x7c7)]),await this['repository'][_0x5a8661(0x532)]['find']({'where':{}},this['instance'][_0x5a8661(0x7c7)]);}async[a0_0xa27d39(0x20f)](_0x83ae83){const _0x418d29=a0_0xa27d39;try{if(!Array[_0x418d29(0x5b0)](_0x83ae83)||_0x83ae83[_0x418d29(0x3a7)]===0x0)throw new Error(_0x418d29(0x8cc));let _0x1bdd9d=[],_0x56ee30=[];for(let _0x380f59 of _0x83ae83){if(_0x380f59[_0x418d29(0x580)])_0x380f59[_0x418d29(0x580)]=this[_0x418d29(0x44d)](_0x380f59[_0x418d29(0x580)]);else continue;await this[_0x418d29(0x4f0)][_0x418d29(0x532)][_0x418d29(0x25d)]({'where':{'_id':_0x380f59[_0x418d29(0x580)]}},this['instance'][_0x418d29(0x7c7)])?_0x56ee30['push']({'_id':_0x380f59[_0x418d29(0x580)],'leadInfo':_0x380f59['leadInfo'],'owner':this[_0x418d29(0x45a)][_0x418d29(0x7c7)]}):_0x1bdd9d[_0x418d29(0x898)]({'_id':_0x380f59[_0x418d29(0x580)],'owner':this[_0x418d29(0x45a)]['wuid'],'leadInfo':_0x380f59['leadInfo'],'imported':!0x0});}return _0x56ee30['length']>0x0&&await this[_0x418d29(0x4f0)][_0x418d29(0x532)][_0x418d29(0x442)](_0x56ee30['map'](_0x5d2c89=>({'query':{'where':{'_id':_0x5d2c89[_0x418d29(0x580)],'owner':this[_0x418d29(0x45a)][_0x418d29(0x7c7)]}},'update':_0x5d2c89}))),_0x1bdd9d[_0x418d29(0x3a7)]>0x0&&await this[_0x418d29(0x4f0)]['chat']['insertMany'](_0x1bdd9d,this[_0x418d29(0x45a)][_0x418d29(0x7c7)]),{'updated':_0x56ee30['length'],'inserted':_0x1bdd9d['length']};}catch(_0x5d277a){let _0x2ece2c=_0x418d29(0x50f),_0x416413=_0x5d277a instanceof Error?_0x5d277a[_0x418d29(0x577)]:typeof _0x5d277a==_0x418d29(0x3e2)?JSON[_0x418d29(0x716)](_0x5d277a):_0x5d277a,_0x14d0d3=_0x2ece2c+':\x20'+_0x416413;throw this[_0x418d29(0x69c)][_0x418d29(0x664)](this[_0x418d29(0x7c4)]+'\x20('+this['instance'][_0x418d29(0x7c7)]+'):\x20'+_0x14d0d3),new m(_0x14d0d3);}}async['importChats'](_0x44a840){const _0x2175d8=a0_0xa27d39;try{if(!Array[_0x2175d8(0x5b0)](_0x44a840)||_0x44a840[_0x2175d8(0x3a7)]===0x0)throw new Error(_0x2175d8(0x8cc));let _0x5155db=0x64,_0x20a215=0x0;for(let _0x111a0b=0x0;_0x111a0b<_0x44a840[_0x2175d8(0x3a7)];_0x111a0b+=_0x5155db){let _0x3d264a=_0x44a840[_0x2175d8(0x759)](_0x111a0b,_0x111a0b+_0x5155db),{updated:_0x493a12}=await this[_0x2175d8(0x399)](_0x3d264a);_0x20a215+=_0x493a12;}return{'updated':_0x20a215};}catch(_0x132814){let _0x176c31='Erro\x20ao\x20importar\x20chats',_0x17fc64=_0x132814 instanceof Error?_0x132814['message']:typeof _0x132814=='object'?JSON[_0x2175d8(0x716)](_0x132814):_0x132814,_0x11c4d5=_0x176c31+':\x20'+_0x17fc64;throw this[_0x2175d8(0x69c)][_0x2175d8(0x664)](this[_0x2175d8(0x7c4)]+'\x20('+this['instance'][_0x2175d8(0x7c7)]+_0x2175d8(0x7cd)+_0x11c4d5),new m(_0x11c4d5);}}async[a0_0xa27d39(0x399)](_0x11f2b1){const _0x1f160c=a0_0xa27d39;try{let _0x53599f=await this['repository'][_0x1f160c(0x894)]['find']({'where':{}},this[_0x1f160c(0x45a)]['wuid']),_0x5bbea7=new Set(_0x53599f[_0x1f160c(0x59b)](_0x5a4310=>_0x5a4310[_0x1f160c(0x580)])),_0x4542d2=[],_0x5e6643=[];for(let _0x408a75 of _0x11f2b1){if(!_0x408a75[_0x1f160c(0x580)])continue;_0x408a75[_0x1f160c(0x580)]=this[_0x1f160c(0x44d)](_0x408a75['_id']);let _0x3cd333=await this[_0x1f160c(0x4f0)][_0x1f160c(0x532)][_0x1f160c(0x25d)]({'where':{'_id':_0x408a75[_0x1f160c(0x580)]}},this[_0x1f160c(0x45a)][_0x1f160c(0x7c7)]),_0x14784c={};if(Object[_0x1f160c(0x4eb)](_0x408a75[_0x1f160c(0x732)])[_0x1f160c(0x888)](([_0x15023c,_0xc5b2f5])=>{const _0x56f1aa=_0x1f160c;_0x14784c[_0x56f1aa(0x31b)+_0x15023c]=_0xc5b2f5;}),_0x3cd333&&!_0x3cd333[_0x1f160c(0x571)]){let _0x31abb5=(_0x408a75['leadInfo']['etiquetas']||[])[_0x1f160c(0x842)](_0x4566f1=>_0x5bbea7[_0x1f160c(0x2aa)](_0x4566f1)),_0x152a10=new Set(_0x3cd333[_0x1f160c(0x732)]['etiquetas']||[]),_0xee88f=_0x31abb5[_0x1f160c(0x842)](_0x227e32=>!_0x152a10[_0x1f160c(0x2aa)](_0x227e32)),_0x37be5b=[..._0x152a10]['filter'](_0x55df6c=>!_0x31abb5[_0x1f160c(0x855)](_0x55df6c));_0x5e6643[_0x1f160c(0x898)](..._0xee88f[_0x1f160c(0x59b)](_0x418fa2=>this['AddChatLabel'](_0x418fa2,_0x408a75[_0x1f160c(0x580)]))),_0x5e6643[_0x1f160c(0x898)](..._0x37be5b[_0x1f160c(0x59b)](_0x2a527b=>this[_0x1f160c(0x3ce)](_0x2a527b,_0x408a75[_0x1f160c(0x580)]))),_0x408a75['leadInfo'][_0x1f160c(0x33e)]=_0x31abb5,_0x4542d2['push']({'query':{'where':{'_id':_0x408a75['_id'],'owner':this[_0x1f160c(0x45a)][_0x1f160c(0x7c7)]}},'update':_0x14784c});}else _0x14784c[_0x1f160c(0x571)]=!0x0,_0x4542d2[_0x1f160c(0x898)]({'query':{'where':{'_id':_0x408a75[_0x1f160c(0x580)],'owner':this['instance'][_0x1f160c(0x7c7)]}},'update':_0x14784c});}let _0x121aa8=await this['repository'][_0x1f160c(0x532)][_0x1f160c(0x442)](_0x4542d2);return await Promise['all'](_0x5e6643),{'updated':_0x121aa8};}catch(_0x288207){let _0x2dad11=_0x1f160c(0x50f),_0x14b226=_0x288207 instanceof Error?_0x288207['message']:typeof _0x288207==_0x1f160c(0x3e2)?JSON[_0x1f160c(0x716)](_0x288207):_0x288207,_0x38b968=_0x2dad11+':\x20'+_0x14b226;throw this[_0x1f160c(0x69c)][_0x1f160c(0x664)](this[_0x1f160c(0x7c4)]+'\x20('+this['instance'][_0x1f160c(0x7c7)]+_0x1f160c(0x7cd)+_0x38b968),new m(_0x38b968);}}async[a0_0xa27d39(0x708)](){const _0x5c66b8=a0_0xa27d39;return await this[_0x5c66b8(0x1f1)]['fetchPrivacySettings']();}async[a0_0xa27d39(0x23e)](_0x19bde7){const _0x50cf51=a0_0xa27d39;try{return await this[_0x50cf51(0x1f1)][_0x50cf51(0x861)](_0x19bde7[_0x50cf51(0x28f)][_0x50cf51(0x296)]),await this[_0x50cf51(0x1f1)]['updateProfilePicturePrivacy'](_0x19bde7[_0x50cf51(0x28f)][_0x50cf51(0x3c3)]),await this[_0x50cf51(0x1f1)][_0x50cf51(0x313)](_0x19bde7[_0x50cf51(0x28f)]['status']),await this[_0x50cf51(0x1f1)][_0x50cf51(0x217)](_0x19bde7[_0x50cf51(0x28f)][_0x50cf51(0x90b)]),await this['client'][_0x50cf51(0x4cb)](_0x19bde7['privacySettings'][_0x50cf51(0x6a8)]),await this[_0x50cf51(0x1f1)][_0x50cf51(0x6e7)](_0x19bde7['privacySettings']['groupadd']),this['client']?.['ws']?.['close'](),{'update':_0x50cf51(0x39c),'data':{'readreceipts':_0x19bde7['privacySettings'][_0x50cf51(0x296)],'profile':_0x19bde7[_0x50cf51(0x28f)]['profile'],'status':_0x19bde7[_0x50cf51(0x28f)][_0x50cf51(0x492)],'online':_0x19bde7['privacySettings']['online'],'last':_0x19bde7[_0x50cf51(0x28f)][_0x50cf51(0x6a8)],'groupadd':_0x19bde7[_0x50cf51(0x28f)][_0x50cf51(0x41c)]}};}catch(_0x4e835a){let _0x2a09ff=_0x50cf51(0x5cb),_0x4f37fe=_0x4e835a instanceof Error?_0x4e835a[_0x50cf51(0x577)]:typeof _0x4e835a==_0x50cf51(0x3e2)?JSON['stringify'](_0x4e835a):_0x4e835a,_0x2027a4=_0x2a09ff+':\x20'+_0x4f37fe;throw this['logger'][_0x50cf51(0x664)](this['instanceName']+'\x20('+this[_0x50cf51(0x45a)][_0x50cf51(0x7c7)]+'):\x20'+_0x2027a4),new m(_0x2027a4);}}async['fetchProfile'](_0x5bb1ca){const _0x956815=a0_0xa27d39;let _0x42c166=(_0x5bb1ca?this[_0x956815(0x44d)](_0x5bb1ca):this['client']?.[_0x956815(0x87d)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x956815(0x69c)]['verbose'](this['instanceName']+'\x20('+this[_0x956815(0x45a)]['wuid']+_0x956815(0x653)+_0x42c166);let _0x3df2cd=await this['repository'][_0x956815(0x289)][_0x956815(0x25d)]({'where':{'_id':_0x42c166}},this[_0x956815(0x45a)][_0x956815(0x7c7)]),_0x3e020d=_0x3df2cd?_0x3df2cd['pushName']:null;try{let _0x5a47d7=(await this[_0x956815(0x286)]({'numbers':[_0x42c166]}))?.[_0x956815(0x31e)](),_0xe64583=(await this['findAndUpdateCacheContact'](_0x42c166,null,!0x1))[_0x956815(0x7b1)]['pictureUrl'],_0x27409c=await this[_0x956815(0x6de)](_0x5a47d7?.[_0x956815(0x21f)]),_0x206c00=await this[_0x956815(0x8cf)](_0x5a47d7?.['jid']),_0x4eb934=(await this[_0x956815(0x1cc)](_0x42c166,null,!0x1))[_0x956815(0x7b1)][_0x956815(0x75e)],_0xcd5b4f=await this[_0x956815(0x4f0)][_0x956815(0x532)]['findOne']({'where':{'_id':_0x42c166}},this[_0x956815(0x45a)]['wuid']),_0x52c083={'imagechat':_0xe64583,'contactname':_0x3e020d||null,'pushName':_0x4eb934,'status':_0x27409c?.[_0x956815(0x492)],'isBusiness':_0x206c00[_0x956815(0x293)],'email':_0x206c00?.[_0x956815(0x74e)],'description':_0x206c00?.[_0x956815(0x61b)],'website':_0x206c00?.[_0x956815(0x8d1)]?.[_0x956815(0x31e)](),'lastcache':Date['now'](),'imported':!_0xcd5b4f},_0x46120b=await this[_0x956815(0x4f0)][_0x956815(0x532)][_0x956815(0x45c)]({'where':{'_id':_0x42c166}},_0x52c083,this['instance'][_0x956815(0x7c7)]),_0x576a83={'owner':this[_0x956815(0x45a)][_0x956815(0x7c7)],'_id':_0x42c166,'profilePictureUrl':_0xe64583,'status':_0x27409c?.[_0x956815(0x492)]};return this[_0x956815(0x4f0)][_0x956815(0x289)][_0x956815(0x8e1)]([_0x576a83],this[_0x956815(0x45a)][_0x956815(0x7c7)]),_0x46120b&&q(this[_0x956815(0x7c4)],_0x956815(0x568),{'chat':_0x46120b}),{'wuid':_0x5a47d7?.['jid']||_0x42c166,'name':_0x5a47d7?.[_0x956815(0x75e)],'pushName':_0x4eb934,'numberExists':_0x5a47d7?.[_0x956815(0x7f7)],'picture':_0xe64583,'status':_0x27409c?.[_0x956815(0x492)],'isBusiness':_0x206c00[_0x956815(0x293)],'email':_0x206c00?.['email'],'description':_0x206c00?.[_0x956815(0x61b)],'website':_0x206c00?.[_0x956815(0x8d1)]?.[_0x956815(0x31e)]()};}catch(_0x278e01){return this[_0x956815(0x69c)][_0x956815(0x664)](_0x956815(0x2e4)+(_0x278e01 instanceof Error?_0x278e01[_0x956815(0x577)]:JSON[_0x956815(0x716)](_0x278e01,null,0x2))),{};}}async['fetchBusinessProfile'](_0x3349ce){const _0x1569d1=a0_0xa27d39;this['logger'][_0x1569d1(0x6c3)](this[_0x1569d1(0x7c4)]+'\x20('+this[_0x1569d1(0x45a)][_0x1569d1(0x7c7)]+_0x1569d1(0x84a));try{let _0x3e564d=_0x3349ce?this[_0x1569d1(0x44d)](_0x3349ce):this['instance'][_0x1569d1(0x7c7)],_0x3786e0=await this[_0x1569d1(0x1f1)][_0x1569d1(0x2fc)](_0x3e564d);return this['logger'][_0x1569d1(0x6c3)](this['instanceName']+'\x20('+this[_0x1569d1(0x45a)][_0x1569d1(0x7c7)]+_0x1569d1(0x3ef)),_0x3786e0?(this[_0x1569d1(0x69c)][_0x1569d1(0x6c3)](this[_0x1569d1(0x7c4)]+'\x20('+this[_0x1569d1(0x45a)][_0x1569d1(0x7c7)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x3786e0}):{'isBusiness':!0x1,'message':_0x1569d1(0x54b),...(await this[_0x1569d1(0x286)]({'numbers':[_0x3e564d]}))?.[_0x1569d1(0x31e)]()};}catch(_0x336c7a){let _0x2e1f25=_0x1569d1(0x8df),_0x396a8a=_0x336c7a instanceof Error?_0x336c7a['message']:typeof _0x336c7a==_0x1569d1(0x3e2)?JSON['stringify'](_0x336c7a):_0x336c7a,_0x11ae1b=_0x2e1f25+':\x20'+_0x396a8a;throw this[_0x1569d1(0x69c)][_0x1569d1(0x664)](this[_0x1569d1(0x7c4)]+'\x20('+this[_0x1569d1(0x45a)][_0x1569d1(0x7c7)]+'):\x20'+_0x11ae1b),new x(_0x11ae1b);}}async['getStatus'](_0x15f898){const _0x3feef3=a0_0xa27d39;let _0x5957cd=this['createJid'](_0x15f898);try{return{'wuid':_0x5957cd,'status':(await this[_0x3feef3(0x1f1)]['fetchStatus'](_0x5957cd))[0x0]?.['status']};}catch{return{'wuid':_0x5957cd,'status':null};}}async['updateProfileName'](_0x15c469){const _0x442d92=a0_0xa27d39;try{return await this[_0x442d92(0x1f1)]['updateProfileName'](_0x15c469),{'update':_0x442d92(0x39c)};}catch(_0x406e1c){let _0x449d19=_0x442d92(0x6e0),_0x31bdc0=_0x406e1c instanceof Error?_0x406e1c[_0x442d92(0x577)]:typeof _0x406e1c==_0x442d92(0x3e2)?JSON['stringify'](_0x406e1c):_0x406e1c,_0x3ee144=_0x449d19+':\x20'+_0x31bdc0;throw this['logger'][_0x442d92(0x664)](this[_0x442d92(0x7c4)]+'\x20('+this[_0x442d92(0x45a)][_0x442d92(0x7c7)]+_0x442d92(0x7cd)+_0x3ee144),new x(_0x3ee144);}}async[a0_0xa27d39(0x3d2)](_0x8cd8af){const _0x3580d2=a0_0xa27d39;try{return await this[_0x3580d2(0x1f1)][_0x3580d2(0x3d2)](_0x8cd8af),{'update':'success'};}catch(_0x1fd1e9){let _0x98dc63=_0x3580d2(0x734),_0x4f2e9d=_0x1fd1e9 instanceof Error?_0x1fd1e9[_0x3580d2(0x577)]:typeof _0x1fd1e9==_0x3580d2(0x3e2)?JSON[_0x3580d2(0x716)](_0x1fd1e9):_0x1fd1e9,_0x2ff4bf=_0x98dc63+':\x20'+_0x4f2e9d;throw this[_0x3580d2(0x69c)][_0x3580d2(0x664)](this[_0x3580d2(0x7c4)]+'\x20('+this[_0x3580d2(0x45a)][_0x3580d2(0x7c7)]+_0x3580d2(0x7cd)+_0x2ff4bf),new x(_0x2ff4bf);}}async[a0_0xa27d39(0x7e1)](_0x352c68){const _0x1c76ef=a0_0xa27d39;try{let _0x45952f;if((0x0,L['isURL'])(_0x352c68)){let _0xe7c0=new Date()[_0x1c76ef(0x260)](),_0x1b656d=_0x352c68+_0x1c76ef(0x312)+_0xe7c0;_0x45952f=(await te[_0x1c76ef(0x544)][_0x1c76ef(0x711)](_0x1b656d,{'responseType':_0x1c76ef(0x222)}))['data'];}else{if((0x0,L[_0x1c76ef(0x89b)])(_0x352c68))_0x45952f=Buffer['from'](_0x352c68,_0x1c76ef(0x745));else throw new m(_0x1c76ef(0x437));}return await this[_0x1c76ef(0x1f1)][_0x1c76ef(0x7e1)](this['instance'][_0x1c76ef(0x7c7)],_0x45952f),{'update':'success'};}catch(_0x2de5a1){let _0x598f9d=_0x1c76ef(0x7db),_0x5a2af8=_0x2de5a1 instanceof Error?_0x2de5a1[_0x1c76ef(0x577)]:typeof _0x2de5a1=='object'?JSON[_0x1c76ef(0x716)](_0x2de5a1):_0x2de5a1,_0x376049=_0x598f9d+':\x20'+_0x5a2af8;throw this[_0x1c76ef(0x69c)]['error'](this[_0x1c76ef(0x7c4)]+'\x20('+this['instance'][_0x1c76ef(0x7c7)]+_0x1c76ef(0x7cd)+_0x376049),new x(_0x376049);}}async[a0_0xa27d39(0x880)](){const _0x456522=a0_0xa27d39;try{return await this['client']['removeProfilePicture'](this[_0x456522(0x45a)][_0x456522(0x7c7)]),{'update':_0x456522(0x39c)};}catch(_0x24c2dc){let _0x4822d2=_0x456522(0x376),_0x44f109=_0x24c2dc instanceof Error?_0x24c2dc['message']:typeof _0x24c2dc==_0x456522(0x3e2)?JSON[_0x456522(0x716)](_0x24c2dc):_0x24c2dc,_0x1634c9=_0x4822d2+':\x20'+_0x44f109;throw this['logger'][_0x456522(0x664)](this[_0x456522(0x7c4)]+'\x20('+this[_0x456522(0x45a)][_0x456522(0x7c7)]+_0x456522(0x7cd)+_0x1634c9),new x(_0x1634c9);}}async[a0_0xa27d39(0x4a0)](_0x419df2){const _0x376cfa=a0_0xa27d39;try{let _0x554016=(await this['whatsappNumber']({'numbers':_0x419df2[_0x376cfa(0x831)]}))[_0x376cfa(0x842)](_0x3e89ed=>_0x3e89ed[_0x376cfa(0x7f7)])['map'](_0x3bcd4f=>_0x3bcd4f[_0x376cfa(0x21f)]),{id:_0xef5e9}=await this['client'][_0x376cfa(0x5e8)](_0x419df2[_0x376cfa(0x344)],_0x554016);_0x419df2?.[_0x376cfa(0x61b)]&&await this['client']['groupUpdateDescription'](_0xef5e9,_0x419df2[_0x376cfa(0x61b)]);let _0x47693=await this[_0x376cfa(0x1f1)][_0x376cfa(0x2fd)](_0xef5e9);return _0x47693[_0x376cfa(0x3f1)]=[],{'metadata':_0x47693};}catch(_0x40604a){let _0x542dc0=_0x376cfa(0x35d),_0x47f2a6=_0x40604a instanceof Error?_0x40604a[_0x376cfa(0x577)]:typeof _0x40604a==_0x376cfa(0x3e2)?JSON[_0x376cfa(0x716)](_0x40604a):_0x40604a,_0x3d4225=_0x542dc0+':\x20'+_0x47f2a6;throw this[_0x376cfa(0x69c)]['error'](this['instanceName']+'\x20('+this[_0x376cfa(0x45a)]['wuid']+'):\x20'+_0x3d4225),new x(_0x3d4225);}}async[a0_0xa27d39(0x5db)](_0x397d1a){const _0x5dd41=a0_0xa27d39;try{if(_0x397d1a[_0x5dd41(0x8ea)]===!0x0&&await this[_0x5dd41(0x1f1)]['groupSettingUpdate'](_0x397d1a[_0x5dd41(0x3c1)],'locked'),_0x397d1a[_0x5dd41(0x8ea)]===!0x1&&await this[_0x5dd41(0x1f1)][_0x5dd41(0x645)](_0x397d1a[_0x5dd41(0x3c1)],_0x5dd41(0x2a0)),_0x397d1a[_0x5dd41(0x267)]===!0x0&&await this[_0x5dd41(0x1f1)][_0x5dd41(0x645)](_0x397d1a[_0x5dd41(0x3c1)],_0x5dd41(0x2d0)),_0x397d1a[_0x5dd41(0x267)]===!0x1&&await this[_0x5dd41(0x1f1)][_0x5dd41(0x645)](_0x397d1a[_0x5dd41(0x3c1)],'not_announcement'),_0x397d1a[_0x5dd41(0x660)]===!0x0&&await this[_0x5dd41(0x1f1)][_0x5dd41(0x5a5)](_0x397d1a['groupJid'],_0x5dd41(0x814)),_0x397d1a[_0x5dd41(0x660)]===!0x1&&await this[_0x5dd41(0x1f1)][_0x5dd41(0x5a5)](_0x397d1a[_0x5dd41(0x3c1)],_0x5dd41(0x858)),_0x397d1a[_0x5dd41(0x3b7)]===!0x0&&await this[_0x5dd41(0x1f1)]['groupJoinApprovalMode'](_0x397d1a[_0x5dd41(0x3c1)],'on'),_0x397d1a[_0x5dd41(0x3b7)]===!0x1&&await this[_0x5dd41(0x1f1)][_0x5dd41(0x529)](_0x397d1a[_0x5dd41(0x3c1)],_0x5dd41(0x74a)),typeof _0x397d1a[_0x5dd41(0x372)]<'u'&&_0x397d1a[_0x5dd41(0x372)]!==null&&await this['client']['groupToggleEphemeral'](_0x397d1a['groupJid'],_0x397d1a[_0x5dd41(0x372)]),_0x397d1a[_0x5dd41(0x75e)]&&await this['client'][_0x5dd41(0x1ee)](_0x397d1a[_0x5dd41(0x3c1)],_0x397d1a[_0x5dd41(0x75e)]),_0x397d1a[_0x5dd41(0x61b)]&&await this[_0x5dd41(0x1f1)][_0x5dd41(0x26a)](_0x397d1a[_0x5dd41(0x3c1)],_0x397d1a[_0x5dd41(0x61b)]),_0x397d1a[_0x5dd41(0x475)]){let _0xe791db;if((0x0,L[_0x5dd41(0x787)])(_0x397d1a[_0x5dd41(0x475)])){let _0x28466e=new Date()[_0x5dd41(0x260)](),_0x1ad6aa=_0x397d1a[_0x5dd41(0x475)]+'?timestamp='+_0x28466e;_0xe791db=(await te[_0x5dd41(0x544)][_0x5dd41(0x711)](_0x1ad6aa,{'responseType':_0x5dd41(0x222)}))[_0x5dd41(0x343)];}else{if((0x0,L[_0x5dd41(0x89b)])(_0x397d1a[_0x5dd41(0x475)]))_0xe791db=Buffer['from'](_0x397d1a[_0x5dd41(0x475)],_0x5dd41(0x745));else throw new m(_0x5dd41(0x437));}await this[_0x5dd41(0x1f1)][_0x5dd41(0x7e1)](_0x397d1a[_0x5dd41(0x3c1)],_0xe791db);}return await this['findGroup']({'groupJid':_0x397d1a[_0x5dd41(0x3c1)]});}catch(_0x3aeae2){let _0x226cef='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x5f248b=_0x3aeae2 instanceof Error?_0x3aeae2[_0x5dd41(0x577)]:typeof _0x3aeae2==_0x5dd41(0x3e2)?JSON[_0x5dd41(0x716)](_0x3aeae2):_0x3aeae2,_0x1323a7=_0x226cef+':\x20'+_0x5f248b;throw this['logger'][_0x5dd41(0x664)](this['instanceName']+'\x20('+this[_0x5dd41(0x45a)][_0x5dd41(0x7c7)]+_0x5dd41(0x7cd)+_0x1323a7),new x(_0x1323a7);}}async[a0_0xa27d39(0x410)](_0x261e37){const _0x24553d=a0_0xa27d39;try{if(_0x261e37[_0x24553d(0x635)]==='approve'||_0x261e37['action']===_0x24553d(0x2ff)){let _0x510c7c=_0x261e37[_0x24553d(0x831)][_0x24553d(0x59b)](_0x4a79d6=>this[_0x24553d(0x44d)](_0x4a79d6));await this[_0x24553d(0x1f1)][_0x24553d(0x7fd)](_0x261e37['groupJid'],_0x510c7c,_0x261e37[_0x24553d(0x635)]);}else{if(_0x261e37[_0x24553d(0x635)]==='add'){let _0x516c91=(await this[_0x24553d(0x286)]({'numbers':_0x261e37[_0x24553d(0x831)]}))[_0x24553d(0x842)](_0x26b395=>_0x26b395[_0x24553d(0x7f7)])[_0x24553d(0x59b)](_0x13a649=>this[_0x24553d(0x44d)](_0x13a649[_0x24553d(0x21f)]));if(_0x516c91[_0x24553d(0x3a7)]===0x0)throw new m(_0x24553d(0x367));await this[_0x24553d(0x1f1)]['groupParticipantsUpdate'](_0x261e37['groupJid'],_0x516c91,_0x24553d(0x761));}else{let _0x388828=_0x261e37[_0x24553d(0x831)][_0x24553d(0x59b)](_0x327e88=>this[_0x24553d(0x44d)](_0x327e88));await this[_0x24553d(0x1f1)][_0x24553d(0x33f)](_0x261e37['groupJid'],_0x388828,_0x261e37['action']);}}return await this[_0x24553d(0x51f)]({'groupJid':_0x261e37[_0x24553d(0x3c1)]});}catch(_0x97bd7c){let _0x2b0538='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x57f648=_0x97bd7c instanceof Error?_0x97bd7c[_0x24553d(0x577)]:typeof _0x97bd7c==_0x24553d(0x3e2)?JSON[_0x24553d(0x716)](_0x97bd7c):_0x97bd7c,_0x3e605a=_0x2b0538+':\x20'+_0x57f648;throw this[_0x24553d(0x69c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x24553d(0x7c7)]+_0x24553d(0x7cd)+_0x3e605a),new m(_0x3e605a);}}async[a0_0xa27d39(0x738)](_0x2d0383){const _0x3ad4e5=a0_0xa27d39;try{return await this[_0x3ad4e5(0x1f1)][_0x3ad4e5(0x738)](_0x2d0383['inviteCode']);}catch(_0xe70dd3){let _0x488a80=_0x3ad4e5(0x75c),_0x36db4c=_0xe70dd3 instanceof Error?_0xe70dd3['message']:typeof _0xe70dd3==_0x3ad4e5(0x3e2)?JSON['stringify'](_0xe70dd3):_0xe70dd3,_0xd7b431=_0x488a80+':\x20'+_0x36db4c;throw this[_0x3ad4e5(0x69c)][_0x3ad4e5(0x664)](this['instanceName']+'\x20('+this['instance'][_0x3ad4e5(0x7c7)]+_0x3ad4e5(0x7cd)+_0xd7b431),new m(_0xd7b431);}}async['findGroup'](_0x5c2f85,_0x52baa9=a0_0xa27d39(0x375)){const _0x1c66c6=a0_0xa27d39;try{let _0x58e9c6=await this['repository'][_0x1c66c6(0x532)][_0x1c66c6(0x25d)]({'where':{'_id':_0x5c2f85[_0x1c66c6(0x3c1)]}},this[_0x1c66c6(0x45a)][_0x1c66c6(0x7c7)]),_0xb39f24=_0x58e9c6?_0x58e9c6[_0x1c66c6(0x8fb)]:null,_0x6182c6=0x18*0x3c*0x3c*0x3e8;if(!_0xb39f24||_0xb39f24[_0x1c66c6(0x419)]&&Date['now']()-_0xb39f24[_0x1c66c6(0x419)]>_0x6182c6){let _0x45e4ec=await this['client'][_0x1c66c6(0x2fd)](_0x5c2f85[_0x1c66c6(0x3c1)]);if(_0x45e4ec[_0x1c66c6(0x671)]=_0x45e4ec?.[_0x1c66c6(0x671)]&&_0x45e4ec[_0x1c66c6(0x671)][_0x1c66c6(0x412)]()['length']<0xd?_0x45e4ec?.[_0x1c66c6(0x671)]*0x3e8:_0x45e4ec?.[_0x1c66c6(0x671)]||null,_0x45e4ec[_0x1c66c6(0x50d)]=_0x45e4ec?.[_0x1c66c6(0x50d)]&&_0x45e4ec['creation'][_0x1c66c6(0x412)]()[_0x1c66c6(0x3a7)]<0xd?_0x45e4ec?.[_0x1c66c6(0x50d)]*0x3e8:_0x45e4ec?.[_0x1c66c6(0x50d)]||null,_0xb39f24={..._0x45e4ec,'lastUpdate':Date[_0x1c66c6(0x27c)]()},!_0x45e4ec)return;}let _0x2f590e=_0xb39f24[_0x1c66c6(0x831)][_0x1c66c6(0x55e)](_0x46cb26=>_0x46cb26['id']===this['instance'][_0x1c66c6(0x7c7)]+'@s.whatsapp.net'&&_0x46cb26[_0x1c66c6(0x83f)]!=null);!_0xb39f24[_0x1c66c6(0x42b)]&&_0x2f590e&&(_0xb39f24['inviteCode']=(await this[_0x1c66c6(0x42b)](_0x5c2f85,!0x1))[_0x1c66c6(0x2e2)]);let _0x1a1e93=(!_0xb39f24[_0x1c66c6(0x267)]||_0x2f590e)&&(!_0xb39f24[_0x1c66c6(0x204)]||_0xb39f24[_0x1c66c6(0x204)]&&_0xb39f24[_0x1c66c6(0x53a)]&&_0x2f590e);_0xb39f24[_0x1c66c6(0x82b)]=_0x2f590e,_0xb39f24[_0x1c66c6(0x7a1)]=_0x1a1e93;let _0x2082cd=[];if(_0x2f590e&&_0xb39f24['joinApprovalMode'])try{_0x2082cd=await this[_0x1c66c6(0x1f1)]['groupRequestParticipantsList'](_0x5c2f85[_0x1c66c6(0x3c1)]),_0xb39f24[_0x1c66c6(0x4bd)]=Date['now']();}catch(_0x3d62d3){this[_0x1c66c6(0x69c)][_0x1c66c6(0x6c3)](this[_0x1c66c6(0x7c4)]+'\x20('+this[_0x1c66c6(0x45a)][_0x1c66c6(0x7c7)]+_0x1c66c6(0x573)+_0x5c2f85[_0x1c66c6(0x3c1)]+':\x20'+(_0x3d62d3 instanceof Error?_0x3d62d3['message']:JSON[_0x1c66c6(0x716)](_0x3d62d3,null,0x2)));}try{_0xb39f24[_0x1c66c6(0x475)]=(await this[_0x1c66c6(0x1cc)](_0x5c2f85[_0x1c66c6(0x3c1)],null,!0x0))['cachedContact'][_0x1c66c6(0x3df)];}catch(_0x41817e){this[_0x1c66c6(0x69c)][_0x1c66c6(0x6c3)](this[_0x1c66c6(0x7c4)]+'\x20('+this[_0x1c66c6(0x45a)][_0x1c66c6(0x7c7)]+_0x1c66c6(0x7b4)+_0x5c2f85['groupJid']+':\x20'+(_0x41817e instanceof Error?_0x41817e['message']:JSON['stringify'](_0x41817e,null,0x2)));}let _0x23c383=_0xb39f24['participants']['map'](_0x184beb=>_0x184beb['id']),_0x153f8c=_0x2082cd['map'](_0x36f6fc=>_0x36f6fc[_0x1c66c6(0x21f)]),_0x3c53bc=await this[_0x1c66c6(0x4f0)][_0x1c66c6(0x88e)][_0x1c66c6(0x684)]([..._0x23c383,..._0x153f8c]);_0xb39f24['participants']=_0xb39f24[_0x1c66c6(0x831)][_0x1c66c6(0x59b)](_0x1629ed=>{const _0x3d369d=_0x1c66c6;let _0x30723f=_0x3c53bc[_0x3d369d(0x678)](_0x3e5615=>_0x3e5615[_0x3d369d(0x580)]===_0x1629ed['id']);return{'id':_0x1629ed['id'],'isAdmin':[_0x3d369d(0x83f),_0x3d369d(0x1e0)][_0x3d369d(0x855)](_0x1629ed[_0x3d369d(0x83f)]),'admin':_0x1629ed[_0x3d369d(0x83f)],'pushName':_0x30723f?.[_0x3d369d(0x75e)],'profilePictureUrl':_0x30723f?.[_0x3d369d(0x3df)]};}),_0xb39f24['awaitingApproval']=_0x2082cd[_0x1c66c6(0x59b)](_0x526706=>{const _0x2cbd19=_0x1c66c6;let _0x1b39e9=_0x3c53bc[_0x2cbd19(0x678)](_0x17179b=>_0x17179b[_0x2cbd19(0x580)]===_0x526706[_0x2cbd19(0x21f)]);return{'id':_0x526706[_0x2cbd19(0x21f)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x1b39e9?.[_0x2cbd19(0x75e)],'profilePictureUrl':_0x1b39e9?.['pictureUrl'],'request_method':_0x526706['request_method'],'request_time':_0x526706[_0x2cbd19(0x377)]};});let _0x38d4a8=await this['repository'][_0x1c66c6(0x532)][_0x1c66c6(0x45c)]({'where':{'_id':_0x5c2f85[_0x1c66c6(0x3c1)]}},{'imagechat':_0xb39f24[_0x1c66c6(0x475)],'name':_0xb39f24['subject'],'lastcache':Date[_0x1c66c6(0x27c)](),'groupdata':_0xb39f24},this[_0x1c66c6(0x45a)][_0x1c66c6(0x7c7)]);return q(this[_0x1c66c6(0x7c4)],_0x1c66c6(0x568),{'chat':_0x38d4a8}),{'metadata':_0xb39f24};}catch(_0x3e6bcd){if(_0x52baa9===_0x1c66c6(0x3f5))return;throw new J(_0x1c66c6(0x6f5),_0x3e6bcd[_0x1c66c6(0x577)][_0x1c66c6(0x412)]());}}async['findGroups'](){const _0x56bb8f=a0_0xa27d39;try{this[_0x56bb8f(0x69c)][_0x56bb8f(0x6c5)]('Retornando\x20grupos\x20COM\x20cache');let _0x46f32e=Date[_0x56bb8f(0x27c)](),_0x34e181=0x3*0x3c*0x3c*0x3e8;return _0x46f32e-this[_0x56bb8f(0x402)]>_0x34e181&&(this[_0x56bb8f(0x265)](),this[_0x56bb8f(0x402)]=_0x46f32e),(await this[_0x56bb8f(0x4f0)][_0x56bb8f(0x532)][_0x56bb8f(0x5fd)]({'where':{'group':!0x0}},this[_0x56bb8f(0x45a)]['wuid']))[_0x56bb8f(0x59b)](_0x50073e=>({..._0x50073e[_0x56bb8f(0x8fb)],'groupJid':_0x50073e?.[_0x56bb8f(0x580)],'participants':_0x50073e?.[_0x56bb8f(0x8fb)]?.[_0x56bb8f(0x831)]||[],'awaitingApproval':_0x50073e?.[_0x56bb8f(0x8fb)]?.[_0x56bb8f(0x3f1)]||[],'image':_0x50073e?.[_0x56bb8f(0x74b)]}));}catch(_0x550fd4){let _0x4ba376=_0x56bb8f(0x40d),_0x3610fc=_0x550fd4 instanceof Error?_0x550fd4[_0x56bb8f(0x577)]:typeof _0x550fd4==_0x56bb8f(0x3e2)?JSON[_0x56bb8f(0x716)](_0x550fd4):_0x550fd4,_0x5e47e6=_0x4ba376+':\x20'+_0x3610fc;throw this[_0x56bb8f(0x69c)][_0x56bb8f(0x664)](this['instanceName']+'\x20('+this[_0x56bb8f(0x45a)][_0x56bb8f(0x7c7)]+_0x56bb8f(0x7cd)+_0x5e47e6),new J(_0x5e47e6);}}async[a0_0xa27d39(0x265)](){const _0x5585cc=a0_0xa27d39;try{this[_0x5585cc(0x69c)][_0x5585cc(0x6c5)](_0x5585cc(0x4cc));let _0xab793c=[],_0x187ade=await this[_0x5585cc(0x1f1)][_0x5585cc(0x779)](),_0x194d8c=Object['values'](_0x187ade),_0x151ee4=_0x194d8c[_0x5585cc(0x842)](_0x588751=>(0x0,w[_0x5585cc(0x429)])(_0x588751?.['id']))[_0x5585cc(0x59b)](async _0x5e3a89=>{const _0x3beafe=_0x5585cc;try{return await this[_0x3beafe(0x1f1)][_0x3beafe(0x588)](_0x5e3a89['id'],'preview');}catch(_0x522d76){return this[_0x3beafe(0x69c)][_0x3beafe(0x6c3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3beafe(0x7b4)+_0x5e3a89['id']+':\x20'+(_0x522d76 instanceof Error?_0x522d76['message']:JSON[_0x3beafe(0x716)](_0x522d76,null,0x2))),null;}}),_0x21088c=await Promise[_0x5585cc(0x873)](_0x151ee4);for(let _0xf16e6=0x0;_0xf16e6<_0x194d8c[_0x5585cc(0x3a7)];_0xf16e6++){let _0x591c61=_0x194d8c[_0xf16e6];(0x0,w['isJidGroup'])(_0x591c61?.['id'])&&(_0xab793c[_0x5585cc(0x898)]({'groupJid':_0x591c61?.['id'],'subject':_0x591c61?.[_0x5585cc(0x344)],'subjectOwner':_0x591c61?.[_0x5585cc(0x598)]?.[_0x5585cc(0x8cb)]('@')[0x0],'subjectTime':_0x591c61?.[_0x5585cc(0x671)],'creation':_0x591c61?.[_0x5585cc(0x50d)],'size':_0x591c61?.[_0x5585cc(0x831)]?.[_0x5585cc(0x3a7)],'owner':_0x591c61?.['owner']?.['split']('@')[0x0],'desc':_0x591c61?.[_0x5585cc(0x249)],'restrict':_0x591c61?.[_0x5585cc(0x8ea)],'announce':_0x591c61?.['announce'],'image':_0x21088c[_0xf16e6],'isCommunity':_0x591c61?.[_0x5585cc(0x204)],'joinApprovalMode':_0x591c61?.['joinApprovalMode'],'memberCanAddParticipant':_0x591c61?.['memberAddMode'],'participants':_0x591c61?.[_0x5585cc(0x831)],'descOwner':_0x591c61?.['descOwner'],'descId':_0x591c61?.[_0x5585cc(0x70c)],'memberAddMode':_0x591c61?.[_0x5585cc(0x660)],'isCommunityAnnounce':_0x591c61?.[_0x5585cc(0x53a)],'ephemeralDuration':_0x591c61?.['ephemeralDuration']||0x0,'author':_0x591c61?.[_0x5585cc(0x572)]}),this[_0x5585cc(0x83c)](_0x194d8c[_0xf16e6]));}return _0xab793c;}catch(_0x449ed9){let _0x2404eb=_0x5585cc(0x4af),_0xb13b4e=_0x449ed9 instanceof Error?_0x449ed9['message']:typeof _0x449ed9==_0x5585cc(0x3e2)?JSON['stringify'](_0x449ed9):_0x449ed9,_0x259800=_0x2404eb+':\x20'+_0xb13b4e;throw this[_0x5585cc(0x69c)][_0x5585cc(0x664)](this[_0x5585cc(0x7c4)]+'\x20('+this[_0x5585cc(0x45a)]['wuid']+_0x5585cc(0x7cd)+_0x259800),new J(_0x259800);}}async['updateChatGroupData'](_0x2f608b){const _0x2e4ad2=a0_0xa27d39;let _0x294796=await this[_0x2e4ad2(0x4f0)]['chat'][_0x2e4ad2(0x25d)]({'where':{'_id':_0x2f608b['id']}},this[_0x2e4ad2(0x45a)][_0x2e4ad2(0x7c7)]);_0x2f608b['subjectTime']=_0x2f608b?.[_0x2e4ad2(0x671)]&&_0x2f608b[_0x2e4ad2(0x671)]['toString']()[_0x2e4ad2(0x3a7)]<0xd?_0x2f608b?.['subjectTime']*0x3e8:_0x2f608b?.[_0x2e4ad2(0x671)]||null,_0x2f608b['creation']=_0x2f608b?.['creation']&&_0x2f608b['creation'][_0x2e4ad2(0x412)]()[_0x2e4ad2(0x3a7)]<0xd?_0x2f608b?.[_0x2e4ad2(0x50d)]*0x3e8:_0x2f608b?.[_0x2e4ad2(0x50d)]||null;let _0x3999c6=_0x294796?.[_0x2e4ad2(0x8fb)]?.[_0x2e4ad2(0x3f1)]||[],_0x3a79aa=_0x294796?.[_0x2e4ad2(0x8fb)]?.['lastFetchAwaitingApproval'],_0x32a184=_0x2f608b[_0x2e4ad2(0x831)][_0x2e4ad2(0x59b)](_0x51743b=>{const _0x4856f3=_0x2e4ad2;let _0x787900=_0x294796?.[_0x4856f3(0x8fb)]?.[_0x4856f3(0x831)][_0x4856f3(0x678)](_0x3f8c3b=>_0x3f8c3b['id']===_0x51743b['id']);return{..._0x51743b,'isAdmin':[_0x4856f3(0x83f),_0x4856f3(0x1e0)]['includes'](_0x51743b[_0x4856f3(0x83f)]),'admin':_0x51743b['admin'],'name':_0x787900?.['name']||_0x51743b['name'],'imgUrl':_0x787900?.['imgUrl']||_0x51743b[_0x4856f3(0x269)]};}),_0x3f20de=_0x32a184[_0x2e4ad2(0x55e)](_0x1e5920=>_0x1e5920['id']===this[_0x2e4ad2(0x45a)][_0x2e4ad2(0x7c7)]+_0x2e4ad2(0x68e)&&_0x1e5920['isAdmin']),_0x38a2e1=(!_0x2f608b[_0x2e4ad2(0x267)]||_0x3f20de)&&(!_0x2f608b[_0x2e4ad2(0x204)]||_0x2f608b[_0x2e4ad2(0x204)]&&_0x2f608b[_0x2e4ad2(0x53a)]&&_0x3f20de),_0x144b0c={..._0x2f608b,'participants':_0x32a184,'awaitingApproval':_0x3999c6,'lastFetchAwaitingApproval':_0x3a79aa,'isAdmin':_0x3f20de,'canSendMessage':_0x38a2e1,'lastUpdate':Date['now']()};await this[_0x2e4ad2(0x4f0)]['chat'][_0x2e4ad2(0x45c)]({'where':{'_id':_0x2f608b['id']}},{'name':_0x2f608b[_0x2e4ad2(0x344)],'group':!0x0,'groupdata':_0x144b0c,'lastcache':Date['now']()},this[_0x2e4ad2(0x45a)]['wuid']),q(this['instanceName'],_0x2e4ad2(0x568),{'chat':_0x2f608b});}async[a0_0xa27d39(0x59e)](_0x270c24){const _0x1d478e=a0_0xa27d39;let _0x582ec1=await this[_0x1d478e(0x4f0)]['chat']['findOne']({'where':{'_id':_0x270c24['id']}},this[_0x1d478e(0x45a)]['wuid']);_0x270c24[_0x1d478e(0x671)]=_0x270c24?.['subjectTime']&&_0x270c24[_0x1d478e(0x671)][_0x1d478e(0x412)]()[_0x1d478e(0x3a7)]<0xd?_0x270c24?.[_0x1d478e(0x671)]*0x3e8:_0x270c24?.[_0x1d478e(0x671)]||null,_0x270c24[_0x1d478e(0x50d)]=_0x270c24?.[_0x1d478e(0x50d)]&&_0x270c24['creation'][_0x1d478e(0x412)]()['length']<0xd?_0x270c24?.[_0x1d478e(0x50d)]*0x3e8:_0x270c24?.['creation']||null,_0x270c24[_0x1d478e(0x42b)]&&(_0x270c24['inviteCode']=_0x1d478e(0x696)+_0x270c24[_0x1d478e(0x42b)]);let _0x1af345=_0x582ec1?.[_0x1d478e(0x8fb)]?{..._0x582ec1[_0x1d478e(0x8fb)]}:{};Object[_0x1d478e(0x537)](_0x270c24)['forEach'](_0x2cd304=>{_0x2cd304!=='id'&&(_0x1af345[_0x2cd304]=_0x270c24[_0x2cd304]);});let _0x1e6b47=_0x1af345['participants']?.[_0x1d478e(0x55e)](_0x5e1e91=>_0x5e1e91['id']===this[_0x1d478e(0x45a)]['wuid']+_0x1d478e(0x68e)&&_0x5e1e91[_0x1d478e(0x82b)])||!0x1;_0x1af345[_0x1d478e(0x82b)]=_0x1e6b47;let _0x42e26d=(!_0x1af345[_0x1d478e(0x267)]||_0x1e6b47)&&(!_0x1af345[_0x1d478e(0x204)]||_0x1af345[_0x1d478e(0x204)]&&_0x1af345['isCommunityAnnounce']&&_0x1e6b47);_0x1af345[_0x1d478e(0x7a1)]=_0x42e26d;let _0x5cafa1={'group':!0x0,'groupdata':_0x1af345};_0x270c24[_0x1d478e(0x344)]&&(_0x5cafa1[_0x1d478e(0x75e)]=_0x270c24[_0x1d478e(0x344)]),await this[_0x1d478e(0x4f0)][_0x1d478e(0x532)]['updateOne']({'where':{'_id':_0x270c24['id']}},_0x5cafa1,this['instance'][_0x1d478e(0x7c7)],{'upsert':!0x0}),q(this[_0x1d478e(0x7c4)],_0x1d478e(0x568),{'chat':_0x5cafa1});}async[a0_0xa27d39(0x5a9)](_0x5965b2){const _0x2281a9=a0_0xa27d39;let _0x10faeb=await this[_0x2281a9(0x4f0)][_0x2281a9(0x532)][_0x2281a9(0x25d)]({'where':{'_id':_0x5965b2['id']}},this[_0x2281a9(0x45a)]['wuid']);if(!_0x10faeb||!_0x10faeb[_0x2281a9(0x8fb)]){this[_0x2281a9(0x69c)]['info'](this['instanceName']+'\x20('+this['instance'][_0x2281a9(0x7c7)]+_0x2281a9(0x88b)+_0x5965b2['id']);return;}let _0x47ca87=await this[_0x2281a9(0x4f0)][_0x2281a9(0x88e)][_0x2281a9(0x684)](_0x5965b2[_0x2281a9(0x831)]),_0x14514d=[..._0x10faeb['groupdata']?.[_0x2281a9(0x831)]];switch(_0x5965b2[_0x2281a9(0x635)]){case _0x2281a9(0x761):let _0x270743=_0x47ca87[_0x2281a9(0x59b)](_0x23a5a9=>({'id':_0x23a5a9[_0x2281a9(0x580)],'isAdmin':!0x1,'name':_0x23a5a9[_0x2281a9(0x75e)],'imgUrl':_0x23a5a9['pictureUrl']}));_0x14514d=[..._0x14514d,..._0x270743];break;case'remove':_0x14514d=_0x14514d[_0x2281a9(0x842)](_0xf20050=>!_0x5965b2[_0x2281a9(0x831)]['includes'](_0xf20050['id']));break;case _0x2281a9(0x2ac):case _0x2281a9(0x772):_0x14514d=_0x14514d['map'](_0x4d2b36=>_0x5965b2['participants'][_0x2281a9(0x855)](_0x4d2b36['id'])?{..._0x4d2b36,'isAdmin':_0x5965b2[_0x2281a9(0x635)]==='promote'}:_0x4d2b36);break;}let _0x8c6ba1=_0x14514d[_0x2281a9(0x3a7)],_0x458f50=_0x14514d[_0x2281a9(0x55e)](_0x113c15=>_0x113c15['id']===this[_0x2281a9(0x45a)]['wuid']+_0x2281a9(0x68e)),_0x26da9b=_0x458f50&&_0x14514d['some'](_0x275355=>_0x275355['id']===this[_0x2281a9(0x45a)][_0x2281a9(0x7c7)]+_0x2281a9(0x68e)&&_0x275355[_0x2281a9(0x82b)]),_0x55ad07=_0x458f50&&(!_0x10faeb['groupdata'][_0x2281a9(0x267)]||_0x26da9b)&&(!_0x10faeb[_0x2281a9(0x8fb)][_0x2281a9(0x204)]||_0x10faeb['groupdata'][_0x2281a9(0x204)]&&_0x26da9b);await this[_0x2281a9(0x4f0)][_0x2281a9(0x532)][_0x2281a9(0x45c)]({'where':{'_id':_0x5965b2['id']}},{'groupdata':{..._0x10faeb[_0x2281a9(0x8fb)],'participants':_0x14514d,'size':_0x8c6ba1,'isAdmin':_0x26da9b,'canSendMessage':_0x55ad07}},this['instance'][_0x2281a9(0x7c7)]),this[_0x2281a9(0x69c)][_0x2281a9(0x6c5)](this[_0x2281a9(0x7c4)]+'\x20('+this['instance'][_0x2281a9(0x7c7)]+_0x2281a9(0x393)+_0x5965b2['id']+_0x2281a9(0x6c0)+_0x5965b2[_0x2281a9(0x635)]+_0x2281a9(0x73b)+_0x8c6ba1+',\x20isAdmin:\x20'+_0x26da9b+_0x2281a9(0x237)+_0x55ad07);}async[a0_0xa27d39(0x42b)](_0x4d3a09,_0x484e41=!0x0){const _0xd051b1=a0_0xa27d39;try{let _0xd53cb0=await this['client']['groupInviteCode'](_0x4d3a09[_0xd051b1(0x3c1)]),_0x3a4e76={'groupdata.inviteCode':_0xd051b1(0x696)+_0xd53cb0};if(_0x484e41){let _0x49ce46=await this['repository'][_0xd051b1(0x532)][_0xd051b1(0x45c)]({'where':{'_id':_0x4d3a09[_0xd051b1(0x3c1)]}},_0x3a4e76,this[_0xd051b1(0x45a)][_0xd051b1(0x7c7)]);}return{'inviteUrl':_0xd051b1(0x696)+_0xd53cb0,'inviteCode':_0xd53cb0};}catch(_0x24a7c5){let _0x27b8be=_0xd051b1(0x424),_0x3ca77b=_0x24a7c5 instanceof Error?_0x24a7c5['message']:typeof _0x24a7c5=='object'?JSON[_0xd051b1(0x716)](_0x24a7c5):_0x24a7c5,_0x5bb5d0=_0x27b8be+':\x20'+_0x3ca77b;throw this[_0xd051b1(0x69c)][_0xd051b1(0x664)](this[_0xd051b1(0x7c4)]+'\x20('+this[_0xd051b1(0x45a)]['wuid']+_0xd051b1(0x7cd)+_0x5bb5d0),new J(_0x5bb5d0);}}async[a0_0xa27d39(0x498)](_0xe00f8){const _0x2d6d5e=a0_0xa27d39;try{let _0xedfd50=await this[_0x2d6d5e(0x1f1)][_0x2d6d5e(0x70b)](_0xe00f8[_0x2d6d5e(0x3c1)]);return{'revoked':!0x0,'inviteUrl':_0x2d6d5e(0x696)+_0xedfd50,'inviteCode':_0xedfd50};}catch(_0x152178){let _0x4aacb9=_0x2d6d5e(0x30a),_0x3257c6=_0x152178 instanceof Error?_0x152178[_0x2d6d5e(0x577)]:typeof _0x152178==_0x2d6d5e(0x3e2)?JSON[_0x2d6d5e(0x716)](_0x152178):_0x152178,_0x5e7abb=_0x4aacb9+':\x20'+_0x3257c6;throw this['logger']['error'](this[_0x2d6d5e(0x7c4)]+'\x20('+this[_0x2d6d5e(0x45a)][_0x2d6d5e(0x7c7)]+_0x2d6d5e(0x7cd)+_0x5e7abb),new J(_0x5e7abb);}}async[a0_0xa27d39(0x8aa)](_0x225275){const _0x17ccbe=a0_0xa27d39;try{if((0x0,L[_0x17ccbe(0x787)])(_0x225275[_0x17ccbe(0x42b)]))var _0xac01b4=_0x225275[_0x17ccbe(0x42b)][_0x17ccbe(0x8cb)]('/')[0x3];else var _0xac01b4=_0x225275[_0x17ccbe(0x42b)];let _0x5e5abf=await this[_0x17ccbe(0x1f1)]['groupAcceptInvite'](_0xac01b4);return this['logger'][_0x17ccbe(0x6c3)](this['instanceName']+'\x20('+this[_0x17ccbe(0x45a)][_0x17ccbe(0x7c7)]+'):\x20'+_0x5e5abf),{'join':!0x0,'inviteCode':_0xac01b4,'groupJid':_0x5e5abf};}catch(_0x27bd3c){let _0x5d7b37=_0x17ccbe(0x6bc),_0x36a991=_0x27bd3c instanceof Error?_0x27bd3c[_0x17ccbe(0x577)]:typeof _0x27bd3c==_0x17ccbe(0x3e2)?JSON[_0x17ccbe(0x716)](_0x27bd3c):_0x27bd3c,_0x4960f8=_0x5d7b37+':\x20'+_0x36a991;throw this[_0x17ccbe(0x69c)]['error'](this[_0x17ccbe(0x7c4)]+'\x20('+this[_0x17ccbe(0x45a)]['wuid']+'):\x20'+_0x4960f8),new J(_0x4960f8);}}async[a0_0xa27d39(0x8d2)](_0x1b1d14){const _0x32ed7e=a0_0xa27d39;try{return{'participants':(await this[_0x32ed7e(0x4f0)][_0x32ed7e(0x532)][_0x32ed7e(0x25d)]({'where':{'_id':_0x1b1d14['groupJid']}},this[_0x32ed7e(0x45a)]['wuid']))[_0x32ed7e(0x8fb)][_0x32ed7e(0x831)]};}catch(_0x500128){let _0x574b01='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x197e53=_0x500128 instanceof Error?_0x500128['message']:typeof _0x500128==_0x32ed7e(0x3e2)?JSON[_0x32ed7e(0x716)](_0x500128):_0x500128,_0x103f43=_0x574b01+':\x20'+_0x197e53;throw this[_0x32ed7e(0x69c)][_0x32ed7e(0x664)](this[_0x32ed7e(0x7c4)]+'\x20('+this[_0x32ed7e(0x45a)][_0x32ed7e(0x7c7)]+_0x32ed7e(0x7cd)+_0x103f43),new J(_0x103f43);}}async[a0_0xa27d39(0x35f)](_0x5c3d4d){const _0x4d63fd=a0_0xa27d39;try{return await this[_0x4d63fd(0x1f1)][_0x4d63fd(0x3d3)](_0x5c3d4d[_0x4d63fd(0x3c1)]),{'groupJid':_0x5c3d4d['groupJid'],'leave':!0x0};}catch(_0x188c06){let _0x918d32='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x125a51=_0x188c06 instanceof Error?_0x188c06[_0x4d63fd(0x577)]:typeof _0x188c06==_0x4d63fd(0x3e2)?JSON['stringify'](_0x188c06):_0x188c06,_0x5aa30a=_0x918d32+':\x20'+_0x125a51;throw this[_0x4d63fd(0x69c)][_0x4d63fd(0x664)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4d63fd(0x7cd)+_0x5aa30a),new m(_0x5aa30a);}}async[a0_0xa27d39(0x695)](_0x3f0074){const _0x133ece=a0_0xa27d39;return await this[_0x133ece(0x2cd)](_0x3f0074[_0x133ece(0x6d9)],{'poll':{'name':_0x3f0074['pollMessage']?.[_0x133ece(0x75e)],'selectableCount':_0x3f0074[_0x133ece(0x695)][_0x133ece(0x5c9)],'values':_0x3f0074[_0x133ece(0x695)][_0x133ece(0x52a)]}},_0x3f0074?.[_0x133ece(0x2ad)]);}async[a0_0xa27d39(0x7d1)](_0x3d0cd9){const _0x17631a=a0_0xa27d39;return await this[_0x17631a(0x2cd)](_0x3d0cd9[_0x17631a(0x6d9)],{'listMessage':{'title':_0x3d0cd9[_0x17631a(0x7d1)][_0x17631a(0x632)],'description':_0x3d0cd9[_0x17631a(0x7d1)][_0x17631a(0x61b)],'buttonText':_0x3d0cd9[_0x17631a(0x7d1)]?.[_0x17631a(0x7c6)],'footerText':_0x3d0cd9['listMessage']?.[_0x17631a(0x654)],'sections':_0x3d0cd9['listMessage'][_0x17631a(0x806)],'listType':0x2}},_0x3d0cd9?.[_0x17631a(0x2ad)]);}async[a0_0xa27d39(0x36f)](_0x401341){const _0x5c48c2=a0_0xa27d39;let _0x4051c4;if(_0x401341[_0x5c48c2(0x36f)][_0x5c48c2(0x302)]===_0x5c48c2(0x1dd)){let _0x13fa53=_0x401341['menuMessage'][_0x5c48c2(0x558)][_0x5c48c2(0x539)]('\x0a'),_0x455784='',_0x5a0ebe='';_0x13fa53!==-0x1?(_0x455784=_0x401341[_0x5c48c2(0x36f)]['text'][_0x5c48c2(0x39f)](0x0,_0x13fa53)[_0x5c48c2(0x6f8)](),_0x5a0ebe=_0x401341[_0x5c48c2(0x36f)][_0x5c48c2(0x558)][_0x5c48c2(0x39f)](_0x13fa53+0x1)):_0x5a0ebe=_0x401341['menuMessage'][_0x5c48c2(0x558)];let _0x33576b=_0x401341['menuMessage']['choices'][_0x5c48c2(0x842)](_0x39a20a=>_0x39a20a[_0x5c48c2(0x6f8)]()!==''),_0x2604d4=this[_0x5c48c2(0x4b4)](_0x33576b);_0x4051c4={'listMessage':{'title':_0x455784,'description':_0x5a0ebe,'buttonText':_0x401341[_0x5c48c2(0x36f)][_0x5c48c2(0x7c6)]||_0x5c48c2(0x76a),'footerText':_0x401341[_0x5c48c2(0x36f)]['footerText'],'sections':_0x2604d4,'listType':0x2}};}else{if(_0x401341[_0x5c48c2(0x36f)][_0x5c48c2(0x302)]===_0x5c48c2(0x5bf)){let _0x1980b4=_0x401341[_0x5c48c2(0x36f)][_0x5c48c2(0x7bb)][_0x5c48c2(0x842)](_0x504cd1=>!(_0x504cd1['startsWith']('[')&&_0x504cd1[_0x5c48c2(0x900)](']'))&&_0x504cd1[_0x5c48c2(0x6f8)]()!=='')['map'](_0x6f6c0d=>_0x6f6c0d['split']('\x0a')[0x0]);_0x4051c4={'poll':{'name':_0x401341[_0x5c48c2(0x36f)][_0x5c48c2(0x558)],'selectableCount':_0x401341[_0x5c48c2(0x36f)]['selectableCount']||0x1,'values':_0x1980b4}};}}return await this[_0x5c48c2(0x2cd)](_0x401341['number'],_0x4051c4,_0x401341?.[_0x5c48c2(0x2ad)]);}[a0_0xa27d39(0x4b4)](_0x3ba6d4){const _0x21552c=a0_0xa27d39;let _0x2e8c52=[],_0x391fee={'rows':[]};return _0x3ba6d4[_0x21552c(0x888)](_0x293bfb=>{const _0x3e6ac4=_0x21552c;if(_0x293bfb[_0x3e6ac4(0x2f1)]('[')&&_0x293bfb['endsWith'](']'))_0x391fee[_0x3e6ac4(0x535)]['length']>0x0&&_0x2e8c52[_0x3e6ac4(0x898)](_0x391fee),_0x391fee={'title':_0x293bfb['slice'](0x1,-0x1),'rows':[]};else{let _0x2d0abd=_0x293bfb[_0x3e6ac4(0x8cb)]('\x0a')[_0x3e6ac4(0x59b)](_0xef021d=>_0xef021d[_0x3e6ac4(0x6f8)]()),_0x3c4901=_0x2d0abd[0x0],_0x495542=_0x2d0abd[0x1]||null,_0x2ad2ac=_0x2d0abd[0x2]||_0x3c4901;_0x391fee[_0x3e6ac4(0x535)]['push']({'title':_0x3c4901,'description':_0x495542,'rowId':_0x2ad2ac});}}),_0x391fee[_0x21552c(0x535)][_0x21552c(0x3a7)]>0x0&&_0x2e8c52['push'](_0x391fee),_0x2e8c52;}async[a0_0xa27d39(0x69b)](_0x14a0e7,_0x3ea328){const _0x50db0c=a0_0xa27d39;if(await this[_0x50db0c(0x543)](_0x14a0e7,!0x0)){let _0x5d4761={'where':{'_id':_0x14a0e7['id']}},_0x1dbd7e={'status':[_0x3ea328[_0x50db0c(0x492)]][0x0]};try{let _0x179f2d=await this[_0x50db0c(0x4f0)][_0x50db0c(0x577)][_0x50db0c(0x8e1)](_0x5d4761,_0x1dbd7e,this[_0x50db0c(0x45a)]['wuid']);_0x179f2d&&q(this[_0x50db0c(0x7c4)],_0x50db0c(0x89a),{'message':_0x179f2d});}catch{}}}[a0_0xa27d39(0x536)](_0x5b3381){const _0x30f278=a0_0xa27d39;let _0x58c722=[];return _0x5b3381[_0x30f278(0x888)](_0x29213d=>{const _0x13c071=_0x30f278;_0x29213d[_0x13c071(0x632)]&&_0x58c722[_0x13c071(0x898)]('['+_0x29213d[_0x13c071(0x632)]+']'),_0x29213d[_0x13c071(0x535)]['forEach'](_0x5a547a=>{const _0xbc9cf9=_0x13c071;_0x58c722[_0xbc9cf9(0x898)](_0x5a547a[_0xbc9cf9(0x632)]);});}),_0x58c722[_0x30f278(0x5cc)]('|');}['formatVCard'](_0x5a8d29){const _0x990803=a0_0xa27d39;let _0x10b766=_0x5a8d29[_0x990803(0x817)](/\\n/g,'\x0a')[_0x990803(0x8cb)]('\x0a')[_0x990803(0x842)](_0x357073=>_0x357073[_0x990803(0x855)](_0x990803(0x211))||_0x357073[_0x990803(0x855)](_0x990803(0x6da))),_0x36125b='';return _0x10b766[_0x990803(0x888)](_0x5c38bb=>{const _0x3e3e68=_0x990803;let _0xaa9d76=/TEL(?:.*):(.+)/,_0x5fd964=/EMAIL(?:.*):(.+)/,_0xdc335b=_0x5c38bb[_0x3e3e68(0x1d9)](_0xaa9d76),_0x4547bc=_0x5c38bb[_0x3e3e68(0x1d9)](_0x5fd964);if(_0xdc335b){let _0x5edad9=_0xdc335b[0x1][_0x3e3e68(0x817)](/-| |\+|\(|\)/g,'')[_0x3e3e68(0x6f8)]();_0x36125b+=_0x3e3e68(0x5aa)+_0x5edad9+'\x0a';}else{if(_0x4547bc){let _0x5c1571=_0x4547bc[0x1]['trim']();_0x36125b+=_0x3e3e68(0x6ac)+_0x5c1571+'\x0a';}}}),_0x36125b[_0x990803(0x6f8)]();}async[a0_0xa27d39(0x472)](_0x4cbced,_0x3b0acd,_0x8c9a58,_0xa48156=null){const _0x3ca870=a0_0xa27d39;if(_0x4cbced[_0x3ca870(0x2ce)])try{let _0x564cdc=_0x3b0acd[_0x3ca870(0x5e0)][_0x3ca870(0x5a2)][_0x3ca870(0x817)](/:\d{1,2}@/g,'@'),_0x57ea8d=_0x3b0acd[_0x3ca870(0x5e0)][_0x3ca870(0x58f)],_0x5abadc=_0x564cdc[_0x3ca870(0x900)](_0x3ca870(0x82d)),_0x2deebb=_0x3b0acd[_0x3ca870(0x1cf)]?.[_0x3ca870(0x817)](/:\d{1,2}@/g,'@')||'',_0x51ecd2=_0x3b0acd[_0x3ca870(0x633)]?.[_0x3ca870(0x558)]||_0x3b0acd[_0x3ca870(0x633)]?.['caption']||_0x3b0acd[_0x3ca870(0x633)]?.[_0x3ca870(0x7df)]||_0x3b0acd[_0x3ca870(0x633)]?.[_0x3ca870(0x75e)]||'',_0x354f44={'_id':_0x3b0acd[_0x3ca870(0x580)],'remoteJid':_0x57ea8d?this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]:_0x5abadc?_0x2deebb:_0x564cdc,'pushName':_0x57ea8d?this[_0x3ca870(0x45a)]['profileName']||'Eu':_0x3b0acd[_0x3ca870(0x3ad)],'text':_0x51ecd2,'type':_0x3b0acd[_0x3ca870(0x62a)],'when':_0x3b0acd[_0x3ca870(0x232)]||Date[_0x3ca870(0x27c)]()};_0xa48156||(_0xa48156=await this[_0x3ca870(0x4f0)][_0x3ca870(0x532)][_0x3ca870(0x25d)]({'where':{'_id':_0x564cdc}},this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]));let _0x31dc59=_0xa48156?_0x57ea8d?_0xa48156[_0x3ca870(0x6d0)]:(_0xa48156['unreadcount']||0x0)+0x1:_0x57ea8d?0x0:0x1,_0x3c4e4c={'lastmsg':_0x3b0acd[_0x3ca870(0x232)]||Date['now'](),'ephemeralExpiration':_0x3b0acd[_0x3ca870(0x372)],'lastMessage':_0x354f44,'unreadcount':_0x31dc59,..._0x57ea8d||_0x5abadc?{}:{'name':_0x3b0acd['pushName']},..._0x5abadc?{'group':_0x5abadc}:{},...!_0x57ea8d&&!_0x5abadc&&_0x3b0acd[_0x3ca870(0x588)]?{'imagechat':_0x3b0acd['profilePictureUrl']}:{}};if(!_0x5abadc&&(!_0xa48156?.[_0x3ca870(0x732)]||!_0xa48156[_0x3ca870(0x732)][_0x3ca870(0x7a6)])&&_0x3b0acd[_0x3ca870(0x3ad)]&&!_0x57ea8d&&(_0x3c4e4c={..._0x3c4e4c,'leadInfo.nome':_0x3b0acd[_0x3ca870(0x3ad)]}),_0xa48156?.[_0x3ca870(0x732)][_0x3ca870(0x33e)]||(_0x3c4e4c={..._0x3c4e4c,'leadInfo.etiquetas':[]}),_0xa48156?.[_0x3ca870(0x732)][_0x3ca870(0x67a)]||(_0x3c4e4c={..._0x3c4e4c,'leadInfo.customFields':[]}),_0xa48156?.[_0x3ca870(0x732)][_0x3ca870(0x1ce)]||(_0x3c4e4c={..._0x3c4e4c,'leadInfo.tags':[]}),_0xa48156&&_0xa48156?.[_0x3ca870(0x571)]){let _0x1867de=await this[_0x3ca870(0x4f0)][_0x3ca870(0x894)][_0x3ca870(0x678)]({'where':{}},this[_0x3ca870(0x45a)]['wuid']),_0x4d9e2f=new Set(_0x1867de[_0x3ca870(0x59b)](_0x4545cd=>_0x4545cd[_0x3ca870(0x580)])),_0x39fd57=(_0xa48156['leadInfo']?.[_0x3ca870(0x33e)]||[])['filter'](_0x5509c8=>_0x4d9e2f[_0x3ca870(0x2aa)](_0x5509c8));_0x3c4e4c={..._0x3c4e4c,'imported':!0x1,'leadInfo.etiquetas':_0x39fd57};for(let _0x4aed5f of _0x39fd57)await this[_0x3ca870(0x83b)](_0x4aed5f,_0x564cdc);}if(!this['AutomateSystem'][_0x3ca870(0x4b1)][_0x3ca870(0x678)](_0x10b45a=>_0x10b45a['startCommand']&&_0x51ecd2['includes'](_0x10b45a[_0x3ca870(0x59f)]))&&_0x8c9a58===_0x3ca870(0x3ae)&&_0x57ea8d&&this['AutomateSystem']?.['flowConfig'][_0x3ca870(0x6c9)]&&_0x51ecd2[_0x3ca870(0x6f8)]()!==this[_0x3ca870(0x278)]?.[_0x3ca870(0x2eb)][_0x3ca870(0x245)][_0x3ca870(0x6f8)]()){let _0x541eea=(this['AutomateSystem']?.[_0x3ca870(0x2eb)][_0x3ca870(0x275)]||0x0)*0xea60,_0x550fbc=Date[_0x3ca870(0x27c)]()+_0x541eea;_0xa48156?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0x3c4e4c={..._0x3c4e4c,'leadInfo.desativadoFluxoAte':_0x550fbc},this['logger'][_0x3ca870(0x6c3)](this['instanceName']+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+_0x3ca870(0x85f)+_0x550fbc+'.'));}if(_0x51ecd2['trim']()===this[_0x3ca870(0x278)]?.[_0x3ca870(0x2eb)][_0x3ca870(0x245)]['trim']()){this[_0x3ca870(0x69c)]['verbose'](this[_0x3ca870(0x7c4)]+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+_0x3ca870(0x5be)+_0x51ecd2);let _0x447c7f=Date[_0x3ca870(0x27c)]();this['AutomateSystem']?.[_0x3ca870(0x2eb)][_0x3ca870(0x3ba)]===0x0?_0x3c4e4c={..._0x3c4e4c,'leadInfo.desativadoFluxoAte':_0x447c7f+0x7591f6200}:_0x3c4e4c={..._0x3c4e4c,'leadInfo.desativadoFluxoAte':_0x447c7f+this[_0x3ca870(0x278)]?.[_0x3ca870(0x2eb)][_0x3ca870(0x3ba)]*0x3c*0x3e8};}if(_0xa48156=await this[_0x3ca870(0x4f0)][_0x3ca870(0x532)]['updateOne']({'where':{'_id':_0x564cdc}},_0x3c4e4c,this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)],{'new':!0x0,'upsert':!0x0}),_0xa48156)q(this['instanceName'],_0x3ca870(0x568),{'chat':_0xa48156});else{this[_0x3ca870(0x69c)][_0x3ca870(0x664)](this[_0x3ca870(0x7c4)]+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+_0x3ca870(0x3e1));return;}if(_0x57ea8d)return this[_0x3ca870(0x69c)][_0x3ca870(0x6c3)](this['instanceName']+'\x20('+this[_0x3ca870(0x45a)]['wuid']+_0x3ca870(0x467)),null;if(!this[_0x3ca870(0x278)]?.[_0x3ca870(0x2eb)]['enabled'])return this[_0x3ca870(0x69c)][_0x3ca870(0x6c3)](this[_0x3ca870(0x7c4)]+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+_0x3ca870(0x7a8)),null;if(_0xa48156['_id']['includes']('@g.us')&&this['AutomateSystem']?.['flowConfig'][_0x3ca870(0x4c2)]===!0x0)return this[_0x3ca870(0x69c)]['verbose'](this['instanceName']+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0xa48156[_0x3ca870(0x732)]){if(_0xa48156['leadInfo'][_0x3ca870(0x7b7)]===0x0||_0xa48156[_0x3ca870(0x732)]['atendimentoAberto'])return this[_0x3ca870(0x69c)][_0x3ca870(0x6c3)](this[_0x3ca870(0x7c4)]+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+_0x3ca870(0x22a)+_0x564cdc+',\x20saindo.'),null;if(_0xa48156[_0x3ca870(0x732)]['desativadoFluxoAte']>Date[_0x3ca870(0x27c)]()&&!_0x3b0acd[_0x3ca870(0x633)]?.[_0x3ca870(0x7df)])return this[_0x3ca870(0x69c)][_0x3ca870(0x6c3)](this[_0x3ca870(0x7c4)]+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+_0x3ca870(0x725)+new Date(_0xa48156[_0x3ca870(0x732)][_0x3ca870(0x7b7)])['toLocaleString']()+_0x3ca870(0x49c)),null;}this[_0x3ca870(0x69c)][_0x3ca870(0x6c3)](this[_0x3ca870(0x7c4)]+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+_0x3ca870(0x2b9)),this[_0x3ca870(0x545)](_0x3b0acd,_0x8c9a58);}catch(_0x1c7f3f){let _0x3b6c3c=_0x3ca870(0x406),_0x3e79b7=_0x1c7f3f instanceof Error?_0x1c7f3f[_0x3ca870(0x577)]:typeof _0x1c7f3f=='object'?JSON[_0x3ca870(0x716)](_0x1c7f3f):_0x1c7f3f,_0x3e4b8b=_0x3b6c3c+':\x20'+_0x3e79b7;return this[_0x3ca870(0x69c)][_0x3ca870(0x664)](this[_0x3ca870(0x7c4)]+'\x20('+this[_0x3ca870(0x45a)][_0x3ca870(0x7c7)]+'):\x20'+_0x3e4b8b),null;}}async[a0_0xa27d39(0x5eb)](_0x2a6923,_0x15e93e){const _0xc14718=a0_0xa27d39;if(_0x15e93e['ENABLED']){let _0x58f5cc=_0x2a6923[_0xc14718(0x59b)](async _0x63cc23=>{const _0x3a6fe2=_0xc14718;try{let _0xbb23c9={'_id':_0x63cc23[_0x3a6fe2(0x580)],'owner':_0x63cc23[_0x3a6fe2(0x57a)],'lastcache':0x0};if(Object[_0x3a6fe2(0x537)](_0x63cc23)[_0x3a6fe2(0x888)](_0x3084b9=>{_0x63cc23[_0x3084b9]!==null&&(_0xbb23c9[_0x3084b9]=_0x63cc23[_0x3084b9]);}),_0xbb23c9[_0x3a6fe2(0x74b)]===null&&(_0xbb23c9['imagechat']=_0x3a6fe2(0x603)),Object[_0x3a6fe2(0x537)](_0xbb23c9)['length']>0x0)return await this[_0x3a6fe2(0x4f0)][_0x3a6fe2(0x532)]['updateOne']({'where':{'_id':_0x63cc23[_0x3a6fe2(0x580)]}},_0xbb23c9,this[_0x3a6fe2(0x45a)][_0x3a6fe2(0x7c7)]);}catch(_0x660a10){let _0x497339=_0x3a6fe2(0x7fc)+_0x63cc23['_id'],_0xf4fa2f=_0x660a10 instanceof Error?_0x660a10[_0x3a6fe2(0x577)]:typeof _0x660a10==_0x3a6fe2(0x3e2)?JSON[_0x3a6fe2(0x716)](_0x660a10):_0x660a10,_0x1c468e=_0x497339+':\x20'+_0xf4fa2f;return this[_0x3a6fe2(0x69c)]['error'](this[_0x3a6fe2(0x7c4)]+'\x20('+this[_0x3a6fe2(0x45a)][_0x3a6fe2(0x7c7)]+_0x3a6fe2(0x7cd)+_0x1c468e),null;}}),_0xb42d26=(await Promise['all'](_0x58f5cc))[_0xc14718(0x842)](_0x1b286b=>_0x1b286b!==null)['length'];this[_0xc14718(0x69c)][_0xc14718(0x6c3)](this[_0xc14718(0x7c4)]+'\x20('+this['instance'][_0xc14718(0x7c7)]+_0xc14718(0x7cd)+_0xb42d26+_0xc14718(0x531)+this[_0xc14718(0x45a)][_0xc14718(0x7c7)]+_0xc14718(0x4d0));}}async['readMessageBot'](_0xcffcb8){const _0x5505f5=a0_0xa27d39;this[_0x5505f5(0x69c)][_0x5505f5(0x6c3)](this[_0x5505f5(0x7c4)]+'\x20('+this['instance'][_0x5505f5(0x7c7)]+_0x5505f5(0x2b4));let _0x17ab54={'readMessages':[{'remoteJid':_0xcffcb8['chatLog'][_0x5505f5(0x8ef)][_0x5505f5(0x5e0)][_0x5505f5(0x5a2)],'fromMe':_0xcffcb8[_0x5505f5(0x6ef)][_0x5505f5(0x8ef)][_0x5505f5(0x5e0)]['fromMe'],'id':_0xcffcb8[_0x5505f5(0x6ef)][_0x5505f5(0x8ef)][_0x5505f5(0x5e0)]['id']}]};await this[_0x5505f5(0x3cc)](_0x17ab54);}async[a0_0xa27d39(0x545)](_0x350146,_0xf36b70){const _0x3cc3fa=a0_0xa27d39;try{let {key:_0x5d6730,message_normalized:_0x268d9c}=_0x350146,_0x4df55c=_0x268d9c,_0x440f35=_0x268d9c['text']||_0x268d9c['caption']||_0x268d9c[_0x3cc3fa(0x7df)]||_0x268d9c['name']||'',_0xe2803c=_0x5d6730[_0x3cc3fa(0x5a2)],_0x22e554=null,_0x3811a9=this[_0x3cc3fa(0x278)][_0x3cc3fa(0x4b1)]['find'](_0x4e640c=>_0x4e640c['startCommand']&&_0x440f35[_0x3cc3fa(0x855)](_0x4e640c[_0x3cc3fa(0x59f)]));if(_0x3811a9&&_0xf36b70===_0x3cc3fa(0x3ae)){let _0x168855=await this[_0x3cc3fa(0x4f0)][_0x3cc3fa(0x6b3)][_0x3cc3fa(0x25d)]({'where':{'_id':_0x3811a9[_0x3cc3fa(0x580)]}});if(this['logger'][_0x3cc3fa(0x6c3)](this[_0x3cc3fa(0x7c4)]+'\x20('+this[_0x3cc3fa(0x45a)]['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x168855&&_0x168855[_0x3cc3fa(0x21d)]?.[_0x3cc3fa(0x855)](this[_0x3cc3fa(0x45a)][_0x3cc3fa(0x7c7)]))_0x22e554=await this[_0x3cc3fa(0x3e4)](_0x168855,_0x5d6730,_0x4df55c);else return this[_0x3cc3fa(0x69c)][_0x3cc3fa(0x6c3)](this[_0x3cc3fa(0x7c4)]+'\x20('+this[_0x3cc3fa(0x45a)][_0x3cc3fa(0x7c7)]+_0x3cc3fa(0x7bf)),null;}else this[_0x3cc3fa(0x69c)][_0x3cc3fa(0x6c3)](this[_0x3cc3fa(0x7c4)]+'\x20('+this[_0x3cc3fa(0x45a)][_0x3cc3fa(0x7c7)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x22e554=await this[_0x3cc3fa(0x6ab)](_0xe2803c,_0x4df55c),_0x22e554){this[_0x3cc3fa(0x69c)][_0x3cc3fa(0x6c3)](this['instanceName']+'\x20('+this[_0x3cc3fa(0x45a)][_0x3cc3fa(0x7c7)]+_0x3cc3fa(0x8f6)),!_0x5d6730[_0x3cc3fa(0x58f)]&&_0x22e554[_0x3cc3fa(0x52b)]&&this[_0x3cc3fa(0x236)](_0x22e554);let _0x43e1a6=await this[_0x3cc3fa(0x86e)](_0x22e554);_0x43e1a6&&await this[_0x3cc3fa(0x67c)](_0x22e554,_0x43e1a6);}}catch(_0x3bd603){this[_0x3cc3fa(0x69c)][_0x3cc3fa(0x664)](this[_0x3cc3fa(0x7c4)]+'\x20('+this['instance'][_0x3cc3fa(0x7c7)]+_0x3cc3fa(0x65f)+(_0x3bd603 instanceof Error?_0x3bd603[_0x3cc3fa(0x577)]:JSON[_0x3cc3fa(0x716)](_0x3bd603,null,0x2)));}}[a0_0xa27d39(0x8c5)](_0x588527,_0x533b4c='',_0x418214={}){const _0x3263b7=a0_0xa27d39;return typeof _0x588527!=_0x3263b7(0x3e2)||_0x588527===null?(_0x533b4c&&(_0x418214[_0x533b4c]=_0x588527),_0x418214):(Object[_0x3263b7(0x4eb)](_0x588527)[_0x3263b7(0x888)](([_0x54fe10,_0x7d2653])=>{const _0x3b5a20=_0x3263b7;let _0x43ed56=_0x533b4c?_0x533b4c+'.'+_0x54fe10:'_'+_0x54fe10;Array[_0x3b5a20(0x5b0)](_0x7d2653)?_0x7d2653[_0x3b5a20(0x888)]((_0x3ddf1b,_0x17ccd7)=>{this['flattenObject'](_0x3ddf1b,_0x43ed56+'['+_0x17ccd7+']',_0x418214);}):typeof _0x7d2653==_0x3b5a20(0x3e2)&&_0x7d2653!==null?this[_0x3b5a20(0x8c5)](_0x7d2653,_0x43ed56,_0x418214):_0x418214[_0x43ed56]=String(_0x7d2653);}),_0x418214);}[a0_0xa27d39(0x84f)](_0x335293){const _0x1c3c2f=a0_0xa27d39;let _0x4b17e1={};for(let _0x428e99 of _0x335293)typeof _0x428e99[_0x1c3c2f(0x75e)]=='string'&&typeof _0x428e99[_0x1c3c2f(0x556)]=='string'&&(_0x4b17e1[_0x428e99[_0x1c3c2f(0x75e)]]=_0x428e99[_0x1c3c2f(0x556)]);return _0x4b17e1;}async[a0_0xa27d39(0x86e)](_0x53207){const _0x2b897f=a0_0xa27d39;if(!this[_0x2b897f(0x278)]?.[_0x2b897f(0x2eb)][_0x2b897f(0x6c9)]||_0x53207[_0x2b897f(0x492)]!==_0x2b897f(0x483)&&_0x53207[_0x2b897f(0x1d1)]==='')return null;let _0x319884=_0x53207[_0x2b897f(0x6ef)][_0x2b897f(0x362)]||'start';typeof _0x53207[_0x2b897f(0x6ef)][_0x2b897f(0x566)]>'u'&&(_0x53207['chatLog'][_0x2b897f(0x566)]=!0x0);let _0x1f82ea=_0x53207[_0x2b897f(0x6ef)][_0x2b897f(0x566)];this[_0x2b897f(0x69c)][_0x2b897f(0x6c3)](this['instanceName']+'\x20('+this[_0x2b897f(0x45a)][_0x2b897f(0x7c7)]+'):\x20lastBlockId:\x20'+_0x319884+_0x2b897f(0x521)+_0x1f82ea);let _0x4f6f50=_0x319884===_0x2b897f(0x2bf)?_0x53207['blocks']['find'](_0xeb86bc=>_0xeb86bc[_0x2b897f(0x302)]===_0x2b897f(0x2bf)):_0x53207[_0x2b897f(0x30b)][_0x2b897f(0x678)](_0x48dcd1=>_0x48dcd1[_0x2b897f(0x580)][_0x2b897f(0x412)]()===_0x319884[_0x2b897f(0x412)]());if(!_0x4f6f50)return this[_0x2b897f(0x69c)][_0x2b897f(0x664)](this['instanceName']+'\x20('+this[_0x2b897f(0x45a)]['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x319884),null;let _0x287c78={'_pushName':_0x53207?.[_0x2b897f(0x6ef)]?.[_0x2b897f(0x8ef)]?.[_0x2b897f(0x3ad)]||'','_sender':this[_0x2b897f(0x45a)][_0x2b897f(0x7c7)]||'',..._0x53207[_0x2b897f(0x6ef)][_0x2b897f(0x1d5)]},_0xed1caa=null;if(_0x53207['waitingMenu_id']){let _0x4ce352=_0x53207[_0x2b897f(0x6ef)][_0x2b897f(0x8ef)][_0x2b897f(0x7df)],_0x4172c1=_0x53207[_0x2b897f(0x8b3)][_0x2b897f(0x678)](_0x25c7c0=>_0x25c7c0[_0x2b897f(0x448)]===_0x4ce352);if(_0x4172c1){let _0x3976f8=_0x4172c1[_0x2b897f(0x55a)];if(_0xed1caa=_0x53207['blocks'][_0x2b897f(0x678)](_0x42c1fd=>_0x42c1fd[_0x2b897f(0x3a0)]===_0x3976f8&&_0x42c1fd[_0x2b897f(0x513)]===0x1),_0x4f6f50[_0x2b897f(0x53f)][_0x2b897f(0x3b9)]){let _0x51a714={'id':_0x53207[_0x2b897f(0x1d1)],'remoteJid':_0x53207[_0x2b897f(0x5a2)],'fromMe':!0x0};await this[_0x2b897f(0x797)](_0x51a714);}if(_0x4f6f50[_0x2b897f(0x53f)][_0x2b897f(0x3b9)]&&_0x4f6f50[_0x2b897f(0x53f)][_0x2b897f(0x290)]&&_0x4f6f50[_0x2b897f(0x53f)][_0x2b897f(0x846)]===_0x2b897f(0x5bf)){let _0x451f88={'number':_0x53207[_0x2b897f(0x5a2)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x53207[_0x2b897f(0x8b2)]+_0x2b897f(0x28b)+_0x4ce352}};await this[_0x2b897f(0x58b)](_0x451f88);}_0x53207[_0x2b897f(0x492)]=_0x2b897f(0x483),_0x53207['waitingMenu_id']='',_0x53207[_0x2b897f(0x8b2)]='',_0x53207[_0x2b897f(0x8b3)]=[];}else{this[_0x2b897f(0x69c)][_0x2b897f(0x6c3)](this[_0x2b897f(0x7c4)]+'\x20('+this[_0x2b897f(0x45a)][_0x2b897f(0x7c7)]+_0x2b897f(0x294));let _0x3340fa={'activatedCount':_0x53207['chatLog'][_0x2b897f(0x4dd)][_0x2b897f(0x842)](_0x1b4307=>String(_0x1b4307[_0x2b897f(0x6d7)])===String(_0x319884))[_0x2b897f(0x3a7)],'moreLogs':[_0x2b897f(0x8c4)]};if(_0x4f6f50[_0x2b897f(0x53f)][_0x2b897f(0x6c1)]){let _0x50f888={'number':_0x53207['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4f6f50[_0x2b897f(0x53f)][_0x2b897f(0x6c1)]}};await this[_0x2b897f(0x58b)](_0x50f888);}if(_0x4f6f50[_0x2b897f(0x78c)]!==void 0x0&&_0x3340fa[_0x2b897f(0x3d6)]>=_0x4f6f50[_0x2b897f(0x78c)]){let _0x2fc7df=Date[_0x2b897f(0x27c)](),_0x528977=_0x4f6f50[_0x2b897f(0x6bf)]??0xa;isNaN(_0x528977)&&(_0x528977=0xa);let _0x52cab5=_0x2fc7df+_0x528977*0x3c*0x3e8;_0x3340fa[_0x2b897f(0x7e5)]=_0x52cab5,_0x3340fa[_0x2b897f(0x674)]['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x53207,_0x52cab5),_0x53207[_0x2b897f(0x1d1)]='',_0x53207[_0x2b897f(0x8b2)]='',_0x53207[_0x2b897f(0x8b3)]=[];}return this[_0x2b897f(0x250)](_0x53207,_0x4f6f50,_0x3340fa,!0x0),null;}}if(_0x1f82ea&&_0x4f6f50[_0x2b897f(0x55a)]&&!_0x53207[_0x2b897f(0x1d1)]){let _0x6c82f2=_0x53207['blocks'][_0x2b897f(0x842)](_0x57fbbc=>_0x57fbbc['groupId'][_0x2b897f(0x412)]()===_0x4f6f50[_0x2b897f(0x55a)][_0x2b897f(0x412)]())[_0x2b897f(0x80e)]((_0x34bd1e,_0x413ec7)=>_0x34bd1e[_0x2b897f(0x513)]-_0x413ec7[_0x2b897f(0x513)]);_0x6c82f2[_0x2b897f(0x3a7)]>0x0&&(_0xed1caa=_0x6c82f2[0x0]);}if(!_0xed1caa){let _0x586495=_0x4f6f50[_0x2b897f(0x3a0)],_0x513220=_0x53207['blocks'][_0x2b897f(0x842)](_0x44e09c=>_0x44e09c['groupId']===_0x586495&&_0x44e09c['order']>_0x4f6f50['order'])[_0x2b897f(0x80e)]((_0xa746b6,_0x4b43f3)=>_0xa746b6[_0x2b897f(0x513)]-_0x4b43f3[_0x2b897f(0x513)]);_0x513220[_0x2b897f(0x3a7)]>0x0&&(_0xed1caa=_0x513220[0x0]);}if(!_0xed1caa)return _0x53207[_0x2b897f(0x492)]='closed',null;_0x53207[_0x2b897f(0x6ef)][_0x2b897f(0x1d5)]=_0x287c78;let _0x5af021=JSON['parse'](JSON[_0x2b897f(0x716)](_0xed1caa));return this[_0x2b897f(0x51b)](_0x5af021,_0x53207['chatLog']['realVariables']),_0x53207['chatLog'][_0x2b897f(0x362)]=_0x5af021[_0x2b897f(0x580)],_0x53207[_0x2b897f(0x6ef)][_0x2b897f(0x566)]=!0x0,_0x5af021;}['replaceVariables'](_0xed652b,_0xc9195d){const _0x203046=a0_0xa27d39;return _0xed652b[_0x203046(0x817)](/\{\{([^}]+)\}\}/g,(_0x24f520,_0x13002d)=>_0xc9195d[_0x13002d]||'');}[a0_0xa27d39(0x51b)](_0x4b56c7,_0x37f63e){const _0x1103bf=a0_0xa27d39;for(let _0x5c8abc in _0x4b56c7)typeof _0x4b56c7[_0x5c8abc]==_0x1103bf(0x8e4)?_0x4b56c7[_0x5c8abc]=this[_0x1103bf(0x6f3)](_0x4b56c7[_0x5c8abc],_0x37f63e):typeof _0x4b56c7[_0x5c8abc]==_0x1103bf(0x3e2)&&this[_0x1103bf(0x51b)](_0x4b56c7[_0x5c8abc],_0x37f63e);}async[a0_0xa27d39(0x29e)](_0x14d892,_0x341798){const _0x3bf385=a0_0xa27d39;let _0xb830a5=_0x341798[_0x3bf385(0x580)];if(_0x14d892[_0x3bf385(0x6ef)]&&_0x14d892[_0x3bf385(0x6ef)][_0x3bf385(0x4dd)]){let _0x4baa00=_0x14d892[_0x3bf385(0x6ef)][_0x3bf385(0x4dd)]['filter'](_0x2a383c=>String(_0x2a383c[_0x3bf385(0x6d7)])===String(_0xb830a5))[_0x3bf385(0x5e2)]();if(_0x4baa00&&_0x4baa00[_0x3bf385(0x664)]&&_0x341798[_0x3bf385(0x242)])return _0x14d892[_0x3bf385(0x492)]=_0x3bf385(0x781),await this[_0x3bf385(0x670)](_0x14d892),null;}if(_0x341798[_0x3bf385(0x302)]===_0x3bf385(0x53f)&&_0x341798['uazapi'][_0x3bf385(0x6ce)]===_0x3bf385(0x5b5)&&_0x14d892['waitingMenu_id'])return _0x14d892[_0x3bf385(0x6ef)][_0x3bf385(0x362)]=_0xb830a5,await this[_0x3bf385(0x670)](_0x14d892),null;let _0x54489e=await this[_0x3bf385(0x86e)](_0x14d892);if(_0x14d892[_0x3bf385(0x6ef)]&&_0x14d892[_0x3bf385(0x6ef)][_0x3bf385(0x4dd)]){let _0x554b35=_0x14d892[_0x3bf385(0x6ef)][_0x3bf385(0x4dd)][_0x3bf385(0x842)](_0x311072=>String(_0x311072['blockId'])===String(_0xb830a5))[_0x3bf385(0x3a7)];if(_0x341798[_0x3bf385(0x78c)]!==void 0x0&&_0x554b35>=_0x341798['maxActives']){let _0x1bae2e=Date['now'](),_0x243714=_0x341798[_0x3bf385(0x6bf)]??0xa;isNaN(_0x243714)&&(_0x243714=0xa);let _0x56b735=_0x1bae2e+_0x243714*0x3c*0x3e8,_0xcdf953={'newStoppedUntil':_0x56b735};return this[_0x3bf385(0x542)](_0x14d892,_0x56b735),this[_0x3bf385(0x250)](_0x14d892,_0x341798,_0xcdf953,!0x0),null;}}_0x54489e&&_0x54489e[_0x3bf385(0x302)]!==_0x3bf385(0x400)&&await this[_0x3bf385(0x67c)](_0x14d892,_0x54489e),_0x54489e||await this['saveConversationToDatabase'](_0x14d892),_0x54489e&&_0x54489e['type']==='save'&&(_0x14d892[_0x3bf385(0x6ef)][_0x3bf385(0x362)]=_0xb830a5,await this['saveConversationToDatabase'](_0x14d892));}async[a0_0xa27d39(0x67c)](_0x35fa13,_0x499611){const _0x4ab303=a0_0xa27d39;try{let _0x138b97=_0x499611[_0x4ab303(0x302)];this[_0x4ab303(0x69c)][_0x4ab303(0x6c3)](this[_0x4ab303(0x7c4)]+'\x20('+this[_0x4ab303(0x45a)]['wuid']+_0x4ab303(0x3e3)+_0x138b97);let _0x2fe8fb={'uazapi':()=>this[_0x4ab303(0x453)](_0x35fa13,_0x499611),'save':()=>this[_0x4ab303(0x29d)](_0x35fa13,_0x499611),'stop':()=>this[_0x4ab303(0x245)](_0x35fa13,_0x499611),'condition':()=>this[_0x4ab303(0x463)](_0x35fa13,_0x499611),'varedit':()=>this[_0x4ab303(0x6b7)](_0x35fa13,_0x499611),'apirequest':()=>this[_0x4ab303(0x337)](_0x35fa13,_0x499611),'goToFlow':()=>this[_0x4ab303(0x5a4)](_0x35fa13,_0x499611),'scheduleFlow':()=>this[_0x4ab303(0x500)](_0x35fa13,_0x499611),'awaitSeconds':()=>this[_0x4ab303(0x5f0)](_0x35fa13,_0x499611),'clearVariables':()=>this[_0x4ab303(0x244)](_0x35fa13,_0x499611)}[_0x138b97];_0x2fe8fb&&await _0x2fe8fb();}catch(_0x335710){this['logger'][_0x4ab303(0x664)](this[_0x4ab303(0x7c4)]+'\x20('+this[_0x4ab303(0x45a)]['wuid']+_0x4ab303(0x21a)+(_0x335710 instanceof Error?_0x335710['message']:JSON[_0x4ab303(0x716)](_0x335710,null,0x2)));}}async[a0_0xa27d39(0x5f0)](_0x4fd0b0,_0x1f97ac){const _0x668080=a0_0xa27d39;if(this[_0x668080(0x69c)][_0x668080(0x6c3)](this['instanceName']+'\x20('+this[_0x668080(0x45a)][_0x668080(0x7c7)]+_0x668080(0x4b0)),!_0x4fd0b0||!_0x1f97ac)return this[_0x668080(0x69c)][_0x668080(0x664)](this[_0x668080(0x7c4)]+'\x20('+this[_0x668080(0x45a)][_0x668080(0x7c7)]+_0x668080(0x8d3)),null;let _0x2486ae=+_0x1f97ac['awaitSeconds'];isNaN(_0x2486ae)&&(_0x2486ae=0x0),_0x2486ae=Math[_0x668080(0x7d2)](_0x2486ae,0x3c),await(0x0,w[_0x668080(0x753)])(_0x2486ae*0x3e8);let _0x489f37={'moreLogs':[_0x668080(0x2bd)+_0x2486ae+_0x668080(0x24b)]};return await this[_0x668080(0x250)](_0x4fd0b0,_0x1f97ac,_0x489f37),_0x2486ae;}async[a0_0xa27d39(0x244)](_0x17fd7c,_0x17cb8c){const _0x37724e=a0_0xa27d39;if(this[_0x37724e(0x69c)][_0x37724e(0x6c3)](this[_0x37724e(0x7c4)]+'\x20('+this[_0x37724e(0x45a)]['wuid']+_0x37724e(0x374)),!_0x17fd7c||!_0x17cb8c)return this['logger']['error'](this[_0x37724e(0x7c4)]+'\x20('+this['instance'][_0x37724e(0x7c7)]+_0x37724e(0x8d3)),null;let _0x56b88d=[];if(_0x17cb8c[_0x37724e(0x38a)][_0x37724e(0x6f8)]()===_0x37724e(0x27d)){let _0x228df2=[_0x37724e(0x79d),_0x37724e(0x4ef),_0x37724e(0x8e7),_0x37724e(0x495),_0x37724e(0x550),_0x37724e(0x580),_0x37724e(0x7ab)];_0x56b88d=Object[_0x37724e(0x537)](_0x17fd7c[_0x37724e(0x6ef)]['realVariables'])[_0x37724e(0x842)](_0x5be524=>_0x5be524[_0x37724e(0x2f1)]('_')&&!_0x228df2[_0x37724e(0x855)](_0x5be524));}else _0x56b88d=_0x17cb8c[_0x37724e(0x38a)][_0x37724e(0x8cb)]('|')['map'](_0x449dfa=>(_0x449dfa=_0x449dfa[_0x37724e(0x817)](/[{}]/g,'')['trim'](),_0x449dfa[_0x37724e(0x2f1)]('_')?_0x449dfa:'_'+_0x449dfa));let _0x2b1ae5=[];_0x56b88d[_0x37724e(0x888)](_0x2db97=>{const _0x4760b4=_0x37724e;_0x2db97 in _0x17fd7c[_0x4760b4(0x6ef)][_0x4760b4(0x1d5)]&&(delete _0x17fd7c[_0x4760b4(0x6ef)]['realVariables'][_0x2db97],_0x2b1ae5[_0x4760b4(0x898)](_0x2db97));}),_0x2b1ae5['length']>0x0?this['logger'][_0x37724e(0x6c3)](this['instanceName']+'\x20('+this[_0x37724e(0x45a)]['wuid']+_0x37724e(0x2d3)+_0x2b1ae5[_0x37724e(0x5cc)](',\x20')):this[_0x37724e(0x69c)]['verbose'](this[_0x37724e(0x7c4)]+'\x20('+this[_0x37724e(0x45a)][_0x37724e(0x7c7)]+_0x37724e(0x6e4));let _0x2d2ba8={'moreLogs':[_0x37724e(0x61d)+_0x2b1ae5[_0x37724e(0x5cc)](',\x20')]};return await this[_0x37724e(0x250)](_0x17fd7c,_0x17cb8c,_0x2d2ba8),null;}async[a0_0xa27d39(0x500)](_0x6f6c08,_0x254034){const _0x4e3298=a0_0xa27d39;if(this[_0x4e3298(0x69c)][_0x4e3298(0x6c3)](this[_0x4e3298(0x7c4)]+'\x20('+this[_0x4e3298(0x45a)][_0x4e3298(0x7c7)]+_0x4e3298(0x8d4)),!_0x6f6c08||!_0x254034)return this[_0x4e3298(0x69c)][_0x4e3298(0x664)](this['instanceName']+'\x20('+this[_0x4e3298(0x45a)][_0x4e3298(0x7c7)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5525cd=_0x6f6c08[_0x4e3298(0x5a2)];_0x254034[_0x4e3298(0x261)]['remoteJid']&&_0x254034['scheduleFlow'][_0x4e3298(0x5a2)]['trim']()!==''&&(_0x5525cd=_0x254034[_0x4e3298(0x53f)][_0x4e3298(0x5a2)][_0x4e3298(0x6f8)]());let _0x282555=_0x254034[_0x4e3298(0x261)][_0x4e3298(0x764)]*0xea60,_0x2cdb5a=Date[_0x4e3298(0x27c)]()+_0x282555,_0x3eb9d4={'status':'scheduled','info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x6f6c08[_0x4e3298(0x75e)],'remoteJids':[_0x5525cd],'when':_0x2cdb5a,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x4e3298(0x6b3),'flowName':_0x254034[_0x4e3298(0x261)][_0x4e3298(0x8d5)]};this[_0x4e3298(0x1e5)](_0x3eb9d4);let _0x1f88ee=await this[_0x4e3298(0x86e)](_0x6f6c08);_0x1f88ee&&await this[_0x4e3298(0x67c)](_0x6f6c08,_0x1f88ee);}async[a0_0xa27d39(0x5a4)](_0x5ed2ea,_0x54c60c){const _0x445ea4=a0_0xa27d39;if(this['logger'][_0x445ea4(0x6c3)](this[_0x445ea4(0x7c4)]+'\x20('+this[_0x445ea4(0x45a)][_0x445ea4(0x7c7)]+_0x445ea4(0x4a3)),!_0x5ed2ea||!_0x54c60c)return this[_0x445ea4(0x69c)][_0x445ea4(0x664)](this[_0x445ea4(0x7c4)]+'\x20('+this['instance'][_0x445ea4(0x7c7)]+_0x445ea4(0x8d3)),null;await this['updateConversation'](_0x5ed2ea,_0x54c60c,{},!0x0,!0x0);let _0x3b7152=_0x54c60c[_0x445ea4(0x47c)];_0x5ed2ea=await this[_0x445ea4(0x686)](_0x3b7152,_0x5ed2ea[_0x445ea4(0x5a2)],_0x5ed2ea[_0x445ea4(0x6ef)][_0x445ea4(0x1d5)]);let _0x5c5653=await this['NextBlock'](_0x5ed2ea);_0x5c5653&&await this[_0x445ea4(0x67c)](_0x5ed2ea,_0x5c5653);}async[a0_0xa27d39(0x686)](_0x1092b5,_0x43c405,_0x521793){const _0xa2cad4=a0_0xa27d39;this[_0xa2cad4(0x69c)][_0xa2cad4(0x6c3)](this[_0xa2cad4(0x7c4)]+'\x20('+this['instance'][_0xa2cad4(0x7c7)]+_0xa2cad4(0x559));try{let _0x2ca32f=this[_0xa2cad4(0x278)]['flows']['find'](_0x1f7705=>_0x1f7705[_0xa2cad4(0x580)]===_0x1092b5);_0x2ca32f||this['logger'][_0xa2cad4(0x664)](this['instanceName']+'\x20('+this[_0xa2cad4(0x45a)][_0xa2cad4(0x7c7)]+_0xa2cad4(0x707)+_0x1092b5+_0xa2cad4(0x5e3));let _0xc4ebe3=await this['repository'][_0xa2cad4(0x6b3)][_0xa2cad4(0x25d)]({'where':{'_id':_0x2ca32f[_0xa2cad4(0x580)]}});if(!_0xc4ebe3||!_0xc4ebe3[_0xa2cad4(0x21d)]?.[_0xa2cad4(0x855)](this['instance']['wuid']))throw this[_0xa2cad4(0x69c)][_0xa2cad4(0x664)](this[_0xa2cad4(0x7c4)]+'\x20('+this[_0xa2cad4(0x45a)][_0xa2cad4(0x7c7)]+_0xa2cad4(0x707)+_0x1092b5+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xa2cad4(0x37d)+_0x1092b5+_0xa2cad4(0x4bc));let _0xd10e00=require(_0xa2cad4(0x480))[_0xa2cad4(0x49f)],_0x2c5e68=Date['now'](),_0x1a53bb='start',_0x20b7d3={},_0x4bf438={},_0x324800=this[_0xa2cad4(0x278)][_0xa2cad4(0x4b1)]['find'](_0x19bd09=>_0x19bd09[_0xa2cad4(0x580)]===_0xc4ebe3['_id']?.[_0xa2cad4(0x412)]()),_0x341809=_0x324800?.[_0xa2cad4(0x7e9)]??_0xc4ebe3[_0xa2cad4(0x7e9)]??0x0,_0x1ec65d=_0x324800?.[_0xa2cad4(0x52b)]??_0xc4ebe3[_0xa2cad4(0x52b)]??!0x1,_0x2d253c={'flowId':_0x2ca32f[_0xa2cad4(0x580)],'readMessages':_0x2ca32f[_0xa2cad4(0x52b)],..._0xc4ebe3,'chatLog':null},_0x52648e={'lastReceivedMessage':_0x20b7d3,'lastSendMessage':_0x4bf438,'lastBlockId':_0x1a53bb,'lastCondition':!0x0,'realVariables':_0x521793};_0x2d253c[_0xa2cad4(0x6ef)]=_0x52648e,_0x2d253c['chatLog']['realVariables']={..._0x521793},delete _0x2d253c[_0xa2cad4(0x580)],_0x2d253c['_id']=new _0xd10e00(),_0x2d253c[_0xa2cad4(0x8c6)]=_0x2c5e68,_0x2d253c[_0xa2cad4(0x492)]=_0xa2cad4(0x483),_0x2d253c[_0xa2cad4(0x5a2)]=_0x43c405,_0x2d253c[_0xa2cad4(0x7e9)]=_0x341809,_0x2d253c[_0xa2cad4(0x52b)]=_0x1ec65d;let _0x315d13=await this[_0xa2cad4(0x4f0)][_0xa2cad4(0x907)]['updateOne'](_0x2d253c[_0xa2cad4(0x580)],_0x2d253c,this['instance'][_0xa2cad4(0x7c7)]);return this[_0xa2cad4(0x69c)]['verbose'](this['instanceName']+'\x20('+this[_0xa2cad4(0x45a)][_0xa2cad4(0x7c7)]+_0xa2cad4(0x493)),_0x315d13?_0x2d253c:null;}catch(_0x5d12ec){let _0xd0ac84=_0xa2cad4(0x6eb),_0x10c4ae=_0x5d12ec instanceof Error?_0x5d12ec[_0xa2cad4(0x577)]:typeof _0x5d12ec==_0xa2cad4(0x3e2)?JSON[_0xa2cad4(0x716)](_0x5d12ec):_0x5d12ec,_0x436106=_0xd0ac84+':\x20'+_0x10c4ae;throw this[_0xa2cad4(0x69c)][_0xa2cad4(0x664)](this[_0xa2cad4(0x7c4)]+'\x20('+this['instance']['wuid']+_0xa2cad4(0x7cd)+_0x436106),new m(_0x436106);}}async['processApiRequest'](_0x3aaf45,_0x5f26ed){const _0x4bdcc7=a0_0xa27d39;let _0x228f49,_0x469339;try{let _0x192699=_0x5f26ed[_0x4bdcc7(0x418)];if(!_0x192699||!_0x192699['url']||!_0x192699['method'])throw new Error(_0x4bdcc7(0x3ca));let _0x5de39b;([_0x4bdcc7(0x90e),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/'][_0x4bdcc7(0x55e)](_0x3a53b7=>_0x192699[_0x4bdcc7(0x63b)]['includes'](_0x3a53b7))||_0x192699[_0x4bdcc7(0x88c)])&&(_0x5de39b=_0x4bdcc7(0x222));let _0x183767='\u205f',_0x4339e7;try{_0x4339e7=JSON[_0x4bdcc7(0x4ea)](_0x192699[_0x4bdcc7(0x291)][_0x4bdcc7(0x817)](new RegExp(_0x183767,'g'),''));}catch(_0x5c0ebb){throw _0x5c0ebb;}let _0x50f7f3={'method':_0x192699[_0x4bdcc7(0x47a)],'url':_0x192699['url'],'headers':_0x192699[_0x4bdcc7(0x321)]||{},..._0x192699['method'][_0x4bdcc7(0x1ca)]()!==_0x4bdcc7(0x25e)&&_0x192699[_0x4bdcc7(0x291)]?{'data':JSON['parse'](_0x192699[_0x4bdcc7(0x291)]['replace'](new RegExp(_0x183767,'g'),''))}:{},..._0x5de39b&&{'responseType':_0x5de39b}},_0x129ca8=await(0x0,te[_0x4bdcc7(0x544)])(_0x50f7f3),_0x6a4941=_0x129ca8[_0x4bdcc7(0x4f8)][_0x4bdcc7(0x669)];if(_0x6a4941&&_0x6a4941['includes']('application/json')||typeof _0x129ca8['data']==_0x4bdcc7(0x8e4)){if(typeof _0x129ca8['data']=='string'){let _0x1f925e=_0x129ca8['data'][_0x4bdcc7(0x817)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x4bdcc7(0x6f8)]();try{_0x228f49=JSON[_0x4bdcc7(0x4ea)](_0x1f925e);}catch(_0xec9b9a){this[_0x4bdcc7(0x69c)][_0x4bdcc7(0x664)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0xec9b9a[_0x4bdcc7(0x577)]),_0x228f49={'_apiResponse':_0x129ca8[_0x4bdcc7(0x343)]};}}else _0x228f49=_0x129ca8[_0x4bdcc7(0x343)];let _0x1bd9b0=_0x3aaf45['chatLog'][_0x4bdcc7(0x1d5)],_0x12aa5f=this[_0x4bdcc7(0x8c5)](_0x228f49);return Object[_0x4bdcc7(0x1f5)](_0x1bd9b0,_0x12aa5f),_0x3aaf45[_0x4bdcc7(0x6ef)]['realVariables']=_0x1bd9b0,_0x469339={'error':!0x1,'apiResponse':_0x228f49},this['updateConversation'](_0x3aaf45,_0x5f26ed,_0x469339),_0x228f49;}if(_0x6a4941&&(_0x6a4941['includes'](_0x4bdcc7(0x7e7))||_0x6a4941[_0x4bdcc7(0x855)](_0x4bdcc7(0x475))||_0x6a4941[_0x4bdcc7(0x855)](_0x4bdcc7(0x3a3))||_0x6a4941[_0x4bdcc7(0x855)](_0x4bdcc7(0x895)))){this['logger'][_0x4bdcc7(0x6c3)](this[_0x4bdcc7(0x7c4)]+'\x20('+this['instance'][_0x4bdcc7(0x7c7)]+_0x4bdcc7(0x506)+_0x6a4941);let _0x4a2b51=(0x0,X['v4'])(),_0x1e8b07='',_0x4a2179={'image/jpeg':_0x4bdcc7(0x7ba),'image/png':'.png','image/gif':_0x4bdcc7(0x233),'image/webp':_0x4bdcc7(0x5e7),'image/svg+xml':_0x4bdcc7(0x733),'audio/mpeg':_0x4bdcc7(0x5c7),'audio/ogg':_0x4bdcc7(0x6d6),'audio/wav':'.wav','video/mp4':_0x4bdcc7(0x60f),'video/webm':_0x4bdcc7(0x32d),'video/ogg':'.ogv','text/plain':_0x4bdcc7(0x3ee),'application/pdf':'.pdf','application/msword':_0x4bdcc7(0x892),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x4bdcc7(0x7f1),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4bdcc7(0x225),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4bdcc7(0x6f9)};_0x4a2179[_0x6a4941]?(_0x1e8b07=_0x4a2179[_0x6a4941],this[_0x4bdcc7(0x69c)][_0x4bdcc7(0x6c3)](this[_0x4bdcc7(0x7c4)]+'\x20('+this['instance'][_0x4bdcc7(0x7c7)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x1e8b07)):(_0x1e8b07=_0x4bdcc7(0x71e),this[_0x4bdcc7(0x69c)][_0x4bdcc7(0x6c3)](this[_0x4bdcc7(0x7c4)]+'\x20('+this[_0x4bdcc7(0x45a)][_0x4bdcc7(0x7c7)]+_0x4bdcc7(0x7da)+_0x1e8b07)),_0x4a2b51+=_0x1e8b07,this['logger'][_0x4bdcc7(0x6c3)](this['instanceName']+'\x20('+this['instance'][_0x4bdcc7(0x7c7)]+_0x4bdcc7(0x628)+_0x4a2b51);let _0x467cd8=this[_0x4bdcc7(0x44e)][_0x4bdcc7(0x711)](_0x4bdcc7(0x570))[_0x4bdcc7(0x586)];if(!_0x467cd8){let _0x490a7e=this[_0x4bdcc7(0x44e)][_0x4bdcc7(0x711)]('SSL_CONF');_0x467cd8=_0x4bdcc7(0x591)+(_0x490a7e&&_0x490a7e['FULLCHAIN'][_0x4bdcc7(0x8cb)]('/')[0x4]);}let _0x306a3a=Buffer[_0x4bdcc7(0x396)](_0x129ca8['data']);await this[_0x4bdcc7(0x5a1)](_0x306a3a,_0x4a2b51);let _0x163b6a=_0x4bdcc7(0x5f3)+_0x4a2b51;_0x163b6a=''+_0x467cd8+_0x163b6a,_0x228f49={'fileUrl':_0x163b6a},_0x3aaf45[_0x4bdcc7(0x6ef)][_0x4bdcc7(0x1d5)][_0x4bdcc7(0x351)]=_0x163b6a;let _0x22cc8b=_0x3aaf45['chatLog']['realVariables'],_0x4fabbe=this[_0x4bdcc7(0x8c5)](_0x228f49);return Object['assign'](_0x22cc8b,_0x4fabbe),_0x3aaf45[_0x4bdcc7(0x6ef)][_0x4bdcc7(0x1d5)]=_0x22cc8b,_0x469339={'error':!0x1,'apiResponse':{'fileUrl':_0x163b6a}},this[_0x4bdcc7(0x250)](_0x3aaf45,_0x5f26ed,_0x469339),_0x228f49;}}catch(_0x17be4f){this[_0x4bdcc7(0x69c)][_0x4bdcc7(0x664)](_0x4bdcc7(0x889)+_0x17be4f[_0x4bdcc7(0x577)]),_0x17be4f[_0x4bdcc7(0x248)]&&(_0x228f49=_0x17be4f[_0x4bdcc7(0x248)]['data']);let _0x4e493e=_0x3aaf45[_0x4bdcc7(0x6ef)][_0x4bdcc7(0x1d5)],_0x380447=this[_0x4bdcc7(0x8c5)](_0x228f49);return Object[_0x4bdcc7(0x1f5)](_0x4e493e,_0x380447),_0x3aaf45[_0x4bdcc7(0x6ef)][_0x4bdcc7(0x1d5)]=_0x4e493e,_0x469339={'error':!0x0,'errorLog':_0x17be4f[_0x4bdcc7(0x412)](),'apiResponse':_0x228f49},this[_0x4bdcc7(0x250)](_0x3aaf45,_0x5f26ed,_0x469339),{'success':!0x1};}}[a0_0xa27d39(0x8bf)](_0x536d11,_0x4ee48f){const _0x186b65=a0_0xa27d39;let _0x1ca8de=_0xbaf0e1=>{const _0x5169ef=a0_0x2c1e;let _0x379159=_0xbaf0e1[_0x5169ef(0x817)](/[^0-9.,-]/g,'')[_0x5169ef(0x817)](',','.'),_0x475fe4=parseFloat(_0x379159);return isNaN(_0x475fe4)?null:_0x475fe4;},_0x114708=_0x4ee48f[_0x186b65(0x56e)],_0x31645b=_0x4ee48f['secondValue'];typeof _0x114708=='string'&&(_0x114708=this[_0x186b65(0x6f3)](_0x114708,_0x536d11[_0x186b65(0x6ef)][_0x186b65(0x1d5)])??''),typeof _0x31645b==_0x186b65(0x8e4)&&(_0x31645b=this[_0x186b65(0x6f3)](_0x31645b,_0x536d11[_0x186b65(0x6ef)][_0x186b65(0x1d5)])??'');let _0x116d6c=null;if(!_0x4ee48f['editOperator'])return null;switch(this[_0x186b65(0x69c)][_0x186b65(0x6c3)](this[_0x186b65(0x7c4)]+'\x20('+this[_0x186b65(0x45a)][_0x186b65(0x7c7)]+_0x186b65(0x8a7)+_0x114708),this[_0x186b65(0x69c)][_0x186b65(0x6c3)](this['instanceName']+'\x20('+this[_0x186b65(0x45a)][_0x186b65(0x7c7)]+_0x186b65(0x3b6)+_0x31645b),_0x4ee48f['editOperator']){case'+':case'-':case'*':case'/':let _0x19e0f1=_0x1ca8de(_0x114708||'0'),_0xadb80f=_0x1ca8de(_0x31645b||'0');if(_0x19e0f1===null)return null;switch(_0x4ee48f['editOperator']){case'+':_0x116d6c=_0x19e0f1+(_0xadb80f??0x0);break;case'-':_0x116d6c=_0x19e0f1-(_0xadb80f??0x0);break;case'*':_0x116d6c=_0x19e0f1*(_0xadb80f??0x1);break;case'/':_0xadb80f!==0x0&&(_0x116d6c=_0x19e0f1/(_0xadb80f??0x1));break;}break;case'findAndReplace':case _0x186b65(0x3ec):let _0x52db12=_0x31645b,_0x57c7d9=_0x4ee48f[_0x186b65(0x2c4)];if(typeof _0x57c7d9==_0x186b65(0x8e4)&&(_0x57c7d9=this[_0x186b65(0x6f3)](_0x57c7d9,_0x536d11[_0x186b65(0x6ef)]['realVariables'])??''),_0x52db12&&_0x57c7d9!==void 0x0){let _0xa28dd8=_0x4ee48f[_0x186b65(0x31d)]===_0x186b65(0x7a9)?new RegExp(_0x52db12['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x52db12,'g');_0x116d6c=_0x114708[_0x186b65(0x817)](_0xa28dd8,_0x57c7d9);}else console['warn'](_0x186b65(0x3cf));break;case _0x186b65(0x5f6):_0x116d6c=_0x31645b;break;case _0x186b65(0x444):let _0x3ee5e3=_0x114708[_0x186b65(0x1d9)](new RegExp(_0x31645b||''));_0x116d6c=_0x3ee5e3?_0x3ee5e3[0x0]:'';break;case _0x186b65(0x8c7):_0x116d6c=_0x114708[_0x186b65(0x759)](0x0,parseInt(_0x31645b||'0'));break;case _0x186b65(0x32c):let _0x18e1be=parseInt(_0x31645b||'0');_0x116d6c=_0x114708[_0x186b65(0x759)](_0x114708[_0x186b65(0x3a7)]-_0x18e1be);break;case _0x186b65(0x54e):let _0x38428e=_0x1ca8de(_0x114708),_0x3a5760=parseInt(_0x31645b||'0');_0x3a5760=Math['abs'](_0x3a5760),_0x38428e!==null?_0x116d6c=_0x38428e['toLocaleString'](_0x186b65(0x760),{'minimumFractionDigits':_0x3a5760,'maximumFractionDigits':_0x3a5760}):(console[_0x186b65(0x76e)](_0x186b65(0x3a4)+_0x114708),_0x116d6c=null);break;case _0x186b65(0x445):let _0x249fd8=_0x1ca8de(_0x114708);_0x249fd8!==null?_0x116d6c=_0x249fd8[_0x186b65(0x53b)](_0x186b65(0x760),{'style':'currency','currency':'BRL'}):(console[_0x186b65(0x76e)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x114708),_0x116d6c=null);break;case'upperCase':_0x116d6c=_0x114708['toUpperCase']();break;case _0x186b65(0x74c):_0x116d6c=_0x114708[_0x186b65(0x8ce)]();break;case _0x186b65(0x801):_0x116d6c=_0x114708['split']('\x20')[_0x186b65(0x59b)](_0x55d79d=>_0x55d79d[_0x186b65(0x3c6)](0x0)['toUpperCase']()+_0x55d79d[_0x186b65(0x759)](0x1)[_0x186b65(0x8ce)]())[_0x186b65(0x5cc)]('\x20');break;case'convertToString':_0x116d6c=JSON['stringify'](_0x114708);break;case _0x186b65(0x371):_0x116d6c=_0x114708['trim']();break;default:_0x116d6c=_0x114708;}return _0x116d6c!==null?_0x116d6c[_0x186b65(0x412)]():null;}async[a0_0xa27d39(0x6b7)](_0x2a0765,_0x16b8e4){const _0x35d612=a0_0xa27d39;try{let _0x1ff6cc=_0x2a0765['varedits']?.[_0x35d612(0x842)](_0x5e217a=>_0x5e217a[_0x35d612(0x6d7)]===_0x16b8e4[_0x35d612(0x580)]?.['toString']())||[],_0xee9206=_0x16b8e4[_0x35d612(0x48c)],_0x3ec2fe=null,_0x5943cd=[],_0x5d5bcd=_0x2a0765[_0x35d612(0x6ef)]['realVariables'][_0xee9206];_0x5943cd[_0x35d612(0x898)](_0x35d612(0x6a2)+_0x5d5bcd+'\x22');for(let _0x1d12cb of _0x1ff6cc){_0x1d12cb[_0x35d612(0x56e)]=_0x5d5bcd,_0x3ec2fe=_0x1d12cb[_0x35d612(0x56e)];let _0x4355a4;try{_0x4355a4=this[_0x35d612(0x8bf)](_0x2a0765,_0x1d12cb);}catch(_0x581d3c){this[_0x35d612(0x69c)][_0x35d612(0x664)](_0x35d612(0x5a6)+_0x581d3c[_0x35d612(0x577)]);continue;}if(_0x4355a4!==null){let _0x545579='Operador:\x20\x22'+_0x1d12cb[_0x35d612(0x31d)]+'\x22',_0x28dfdb=[_0x35d612(0x445),_0x35d612(0x845),_0x35d612(0x74c),_0x35d612(0x801),_0x35d612(0x371)];_0x1d12cb['editOperator']===_0x35d612(0x7a9)||_0x1d12cb[_0x35d612(0x31d)]===_0x35d612(0x3ec)?_0x545579+=_0x35d612(0x7f2)+_0x1d12cb[_0x35d612(0x692)]+_0x35d612(0x682)+_0x1d12cb['replaceValue']+'\x22':!_0x28dfdb[_0x35d612(0x855)](_0x1d12cb['editOperator'])&&_0x1d12cb['secondValue']!==null&&_0x1d12cb[_0x35d612(0x692)]!==void 0x0&&(_0x545579+=',\x20valor\x20passado:\x20\x22'+_0x1d12cb[_0x35d612(0x692)]+'\x22'),_0x545579+=_0x35d612(0x2a9)+_0x4355a4+'.',_0x5943cd[_0x35d612(0x898)](_0x545579);}_0x4355a4!==null&&(_0x5d5bcd=_0x4355a4);}if(_0x2a0765[_0x35d612(0x6ef)][_0x35d612(0x1d5)]&&_0x16b8e4[_0x35d612(0x48c)]){_0x2a0765[_0x35d612(0x6ef)]['realVariables'][_0x16b8e4[_0x35d612(0x48c)]]=_0x5d5bcd;let _0xe73e74={'variable':_0x16b8e4[_0x35d612(0x48c)],'oldValue':_0x3ec2fe,'newValue':_0x5d5bcd,'moreLogs':_0x5943cd};try{this['updateConversation'](_0x2a0765,_0x16b8e4,_0xe73e74);}catch(_0x13176c){this['logger'][_0x35d612(0x664)](_0x35d612(0x6fe)+_0x13176c[_0x35d612(0x577)]);}}return _0xee9206;}catch(_0x1e779c){return this[_0x35d612(0x69c)][_0x35d612(0x664)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x1e779c['message']),null;}}async[a0_0xa27d39(0x463)](_0x120395,_0x128e09){const _0x87785d=a0_0xa27d39;try{let _0x378954=[],_0x5de027=_0x120395[_0x87785d(0x6e9)][_0x87785d(0x842)](_0x494d99=>_0x494d99[_0x87785d(0x6d7)]===_0x128e09['_id'][_0x87785d(0x412)]()),_0x4224db=null,_0x189657=!0x1;for(let _0x4f88fa of _0x5de027){let _0xb2cc6e=this[_0x87785d(0x691)](_0x120395,_0x4f88fa);_0x378954['push'](_0x87785d(0x2a7)+_0x4f88fa[_0x87785d(0x56e)]+_0x87785d(0x86c)+_0x4f88fa[_0x87785d(0x1eb)]+_0x87785d(0x37e)+_0x4f88fa['secondValue']+_0x87785d(0x6b8)+_0xb2cc6e),_0x4224db===null?_0x4224db=_0xb2cc6e:_0x4f88fa[_0x87785d(0x642)]==='and'?(_0x4224db=_0x4224db&&_0xb2cc6e,_0xb2cc6e||(_0x189657=!0x0)):_0x4f88fa[_0x87785d(0x642)]==='or'&&(_0x189657||(_0x4224db=_0x4224db||_0xb2cc6e));}_0x4224db===null&&(_0x4224db=!0x0);let _0x5a6fee={'moreLogs':_0x378954};_0x120395['chatLog'][_0x87785d(0x566)]=_0x4224db,await this['updateConversation'](_0x120395,_0x128e09,_0x5a6fee);}catch(_0x46ab97){this['logger'][_0x87785d(0x664)](this[_0x87785d(0x7c4)]+'\x20('+this[_0x87785d(0x45a)][_0x87785d(0x7c7)]+_0x87785d(0x791)+(_0x46ab97 instanceof Error?_0x46ab97[_0x87785d(0x577)]:JSON[_0x87785d(0x716)](_0x46ab97,null,0x2)));}}[a0_0xa27d39(0x691)](_0x1cc6d5,_0x476dd1){const _0x49851c=a0_0xa27d39;let _0xce013b=_0x476dd1['firstValue'],_0x2448c6=_0x476dd1[_0x49851c(0x692)];typeof _0xce013b==_0x49851c(0x8e4)&&(_0xce013b=this['replaceVariables'](_0xce013b,_0x1cc6d5[_0x49851c(0x6ef)][_0x49851c(0x1d5)])??''),typeof _0x2448c6==_0x49851c(0x8e4)&&(_0x2448c6=this[_0x49851c(0x6f3)](_0x2448c6,_0x1cc6d5['chatLog'][_0x49851c(0x1d5)])??'');try{switch(_0x476dd1[_0x49851c(0x1eb)]){case'equal':return _0xce013b===_0x2448c6;case'notEqual':return _0xce013b!==_0x2448c6;case'contains':return this[_0x49851c(0x29a)](_0xce013b,_0x2448c6);case _0x49851c(0x6cc):return!this[_0x49851c(0x29a)](_0xce013b,_0x2448c6);case _0x49851c(0x710):return parseFloat(_0xce013b)>parseFloat(_0x2448c6);case _0x49851c(0x2e6):return parseFloat(_0xce013b)<parseFloat(_0x2448c6);case _0x49851c(0x6cb):return _0xce013b!=='';case _0x49851c(0x2d2):return _0xce013b==='';case _0x49851c(0x62e):return new RegExp(_0x2448c6)[_0x49851c(0x60b)](_0xce013b);case _0x49851c(0x4f7):return!new RegExp(_0x2448c6)[_0x49851c(0x60b)](_0xce013b);default:return!0x1;}}catch(_0x107fc6){return this[_0x49851c(0x69c)][_0x49851c(0x664)](_0x49851c(0x72e)+_0x107fc6),!0x1;}}[a0_0xa27d39(0x29a)](_0x2421da,_0x3376ec){const _0x50a100=a0_0xa27d39;if(_0x2421da===_0x3376ec&&/^\d+$/[_0x50a100(0x60b)](_0x2421da))return!0x0;if(this['isListOfNumbers'](_0x2421da)&&/^\d+$/[_0x50a100(0x60b)](_0x3376ec)){let _0x39fea2=_0x2421da[_0x50a100(0x8cb)](',')['map'](_0x7dfc35=>parseInt(_0x7dfc35[_0x50a100(0x6f8)]())),_0x5d02aa=parseInt(_0x3376ec);return _0x39fea2[_0x50a100(0x855)](_0x5d02aa);}return _0x2421da[_0x50a100(0x855)](_0x3376ec);}[a0_0xa27d39(0x4ae)](_0xea9521){const _0x19dfb2=a0_0xa27d39;return/^\d+(,\d+)*$/[_0x19dfb2(0x60b)](_0xea9521);}[a0_0xa27d39(0x744)](_0x2605fb){const _0x43a1e2=a0_0xa27d39;let _0x3e13bf=!0x0,_0x42435f=null;for(let _0x5803 of _0x2605fb){let _0x31de35=this['evaluateConditionTest'](_0x5803);if(_0x42435f==='or'&&_0x31de35){_0x3e13bf=!0x0;break;}if(_0x42435f===_0x43a1e2(0x39e)&&!_0x31de35){_0x3e13bf=!0x1;break;}_0x42435f=_0x5803['OrAnd'];}return _0x3e13bf;}[a0_0xa27d39(0x2b1)](_0x6e2fd1){const _0x32f469=a0_0xa27d39;let _0x32e6ce=_0x6e2fd1[_0x32f469(0x56e)],_0x2da1f3=_0x6e2fd1[_0x32f469(0x692)];try{switch(_0x6e2fd1[_0x32f469(0x1eb)]){case _0x32f469(0x2c6):return String(_0x32e6ce)===String(_0x2da1f3);case'notEqual':return String(_0x32e6ce)!==String(_0x2da1f3);case _0x32f469(0x29a):return String(_0x32e6ce)[_0x32f469(0x855)](String(_0x2da1f3));case'notContains':return!String(_0x32e6ce)[_0x32f469(0x855)](String(_0x2da1f3));case _0x32f469(0x710):return parseFloat(String(_0x32e6ce))>parseFloat(String(_0x2da1f3));case _0x32f469(0x2e6):return parseFloat(String(_0x32e6ce))<parseFloat(String(_0x2da1f3));case _0x32f469(0x6cb):return String(_0x32e6ce)!=='';case _0x32f469(0x2d2):return String(_0x32e6ce)==='';case _0x32f469(0x62e):return new RegExp(String(_0x2da1f3))[_0x32f469(0x60b)](String(_0x32e6ce));case _0x32f469(0x4f7):return!new RegExp(String(_0x2da1f3))[_0x32f469(0x60b)](String(_0x32e6ce));default:return!0x1;}}catch(_0x3441c0){return this[_0x32f469(0x69c)]['error'](_0x32f469(0x72e)+_0x3441c0),!0x1;}}async[a0_0xa27d39(0x29d)](_0x18781f,_0x2e75dd){const _0x3da091=a0_0xa27d39;if(this['logger'][_0x3da091(0x6c3)](this[_0x3da091(0x7c4)]+'\x20('+this['instance']['wuid']+_0x3da091(0x216)),!_0x18781f||!_0x2e75dd)return this['logger'][_0x3da091(0x664)](this[_0x3da091(0x7c4)]+'\x20('+this[_0x3da091(0x45a)][_0x3da091(0x7c7)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3bc0fa=_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x8ef)][_0x3da091(0x5e0)]['id'];this[_0x3da091(0x69c)][_0x3da091(0x6c3)](this[_0x3da091(0x7c4)]+'\x20('+this['instance'][_0x3da091(0x7c7)]+_0x3da091(0x605)+_0x3bc0fa);let _0x88a82={'key':{'id':_0x3bc0fa}},_0x3822c3=_0x2e75dd[_0x3da091(0x48c)];_0x18781f[_0x3da091(0x6ef)]['realVariables']['_'+_0x3822c3+_0x3da091(0x273)]=null,_0x18781f[_0x3da091(0x6ef)]['realVariables']['_'+_0x3822c3+_0x3da091(0x1d6)]=null,_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x1d5)]['_'+_0x3822c3+_0x3da091(0x86f)]=null,_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x1d5)]['_'+_0x3822c3+_0x3da091(0x49b)]=_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x8ef)][_0x3da091(0x302)];try{let _0x1006d9=await this[_0x3da091(0x89d)](_0x88a82);this[_0x3da091(0x69c)][_0x3da091(0x6c3)](this[_0x3da091(0x7c4)]+'\x20('+this['instance'][_0x3da091(0x7c7)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x1d5)]['_'+_0x3822c3+_0x3da091(0x6f1)]=_0x1006d9[_0x3da091(0x351)],_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x1d5)]['_'+_0x3822c3+_0x3da091(0x1d6)]=_0x1006d9['mimetype'];let _0x25f126=_0x1006d9['mimetype']['match'](/\/(\w+)$/),_0x354203=_0x25f126?_0x25f126[0x1]:null;_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x1d5)]['_'+_0x3822c3+_0x3da091(0x86f)]=_0x354203,this[_0x3da091(0x69c)][_0x3da091(0x6c3)](this[_0x3da091(0x7c4)]+'\x20('+this[_0x3da091(0x45a)][_0x3da091(0x7c7)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x3822c3+'\x27.');}catch(_0x5a9117){this[_0x3da091(0x69c)]['error'](this['instanceName']+'\x20('+this[_0x3da091(0x45a)]['wuid']+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x5a9117[_0x3da091(0x577)]);}let _0x5d134f=_0x18781f[_0x3da091(0x6ef)][_0x3da091(0x8ef)][_0x3da091(0x558)]||_0x18781f[_0x3da091(0x6ef)]['lastReceivedMessage'][_0x3da091(0x5fe)]||_0x18781f['chatLog'][_0x3da091(0x8ef)][_0x3da091(0x7df)];try{_0x18781f[_0x3da091(0x6ef)]['realVariables']||(_0x18781f[_0x3da091(0x6ef)]['realVariables']={});let _0x32e002=_0x18781f[_0x3da091(0x6ef)]['realVariables'][_0x3822c3];_0x18781f[_0x3da091(0x6ef)]['realVariables'][_0x3822c3]=_0x5d134f;let _0x18bf5f={'variable':_0x3822c3,'oldValue':_0x32e002,'newValue':_0x5d134f};this[_0x3da091(0x250)](_0x18781f,_0x2e75dd,_0x18bf5f),this['logger']['verbose'](this[_0x3da091(0x7c4)]+'\x20('+this['instance'][_0x3da091(0x7c7)]+_0x3da091(0x311));}catch(_0x2b508c){let _0x5330ac={'error':!0x0,'errorLog':_0x2b508c[_0x3da091(0x412)]()};return this[_0x3da091(0x250)](_0x18781f,_0x2e75dd,_0x5330ac),this['logger'][_0x3da091(0x664)](this[_0x3da091(0x7c4)]+'\x20('+this['instance'][_0x3da091(0x7c7)]+_0x3da091(0x46c)+(_0x2b508c instanceof Error?_0x2b508c[_0x3da091(0x577)]:JSON['stringify'](_0x2b508c,null,0x2))),null;}}async[a0_0xa27d39(0x245)](_0x3fdc5f,_0x4de372){const _0xb477f5=a0_0xa27d39;if(this[_0xb477f5(0x69c)][_0xb477f5(0x6c3)](this[_0xb477f5(0x7c4)]+'\x20('+this[_0xb477f5(0x45a)][_0xb477f5(0x7c7)]+_0xb477f5(0x1e7)),!_0x3fdc5f||!_0x4de372)return this[_0xb477f5(0x69c)][_0xb477f5(0x664)](this[_0xb477f5(0x7c4)]+'\x20('+this[_0xb477f5(0x45a)][_0xb477f5(0x7c7)]+_0xb477f5(0x8d3)),null;let _0x580df2=Date[_0xb477f5(0x27c)](),_0x157e6a=parseInt(_0x4de372[_0xb477f5(0x3ba)],0xa);if(isNaN(_0x157e6a))return this['logger'][_0xb477f5(0x664)](this[_0xb477f5(0x7c4)]+'\x20('+this[_0xb477f5(0x45a)]['wuid']+_0xb477f5(0x8a4)),null;let _0x583956={'newStoppedUntil':_0x580df2+_0x157e6a*0x3c*0x3e8};return await this[_0xb477f5(0x250)](_0x3fdc5f,_0x4de372,_0x583956,!0x0),null;}async[a0_0xa27d39(0x453)](_0xf0238b,_0x260fab){const _0x367020=a0_0xa27d39;try{switch(_0x260fab[_0x367020(0x53f)][_0x367020(0x6ce)]){case'sendText':await this[_0x367020(0x569)](_0xf0238b,_0x260fab);break;case _0x367020(0x70e):await this['uazapiSendMedia'](_0xf0238b,_0x260fab);break;case _0x367020(0x24c):await this[_0x367020(0x213)](_0xf0238b,_0x260fab);break;case'sendAudio':await this['uazapiSendAudio'](_0xf0238b,_0x260fab);break;case'sendContact':await this[_0x367020(0x7ff)](_0xf0238b,_0x260fab);break;case _0x367020(0x5b5):await this[_0x367020(0x63d)](_0xf0238b,_0x260fab);break;case _0x367020(0x4d6):await this[_0x367020(0x63d)](_0xf0238b,_0x260fab);break;case _0x367020(0x797):await this['uazapiDeleteMessage'](_0xf0238b,_0x260fab);break;default:this[_0x367020(0x69c)][_0x367020(0x664)](this[_0x367020(0x7c4)]+'\x20('+this[_0x367020(0x45a)][_0x367020(0x7c7)]+_0x367020(0x6ba)+_0x260fab[_0x367020(0x53f)][_0x367020(0x6ce)]);}}catch(_0x2b16ec){this['logger'][_0x367020(0x664)](this['instanceName']+'\x20('+this[_0x367020(0x45a)][_0x367020(0x7c7)]+_0x367020(0x564)+(_0x2b16ec instanceof Error?_0x2b16ec[_0x367020(0x577)]:JSON['stringify'](_0x2b16ec,null,0x2)));}}async['updateConversation'](_0x2ea596,_0x80fdc1,_0x50ded8,_0x15abee=!0x1,_0x5dffce=!0x1){const _0x411ce2=a0_0xa27d39;_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x4dd)]||(_0x2ea596[_0x411ce2(0x6ef)]['blockLogs']=[]);let _0x51aaf0=(_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x4dd)]?.[_0x411ce2(0x3a7)]??0x0)+0x1,_0x34ed94=_0x2ea596['chatLog'][_0x411ce2(0x4dd)][_0x411ce2(0x842)](_0x2a68c6=>String(_0x2a68c6[_0x411ce2(0x6d7)])===String(_0x80fdc1[_0x411ce2(0x580)]))[_0x411ce2(0x3a7)]+0x1,_0xf138c3=_0x50ded8?.[_0x411ce2(0x693)]??Date[_0x411ce2(0x27c)](),_0x10765c=_0x50ded8?.[_0x411ce2(0x664)]?_0x50ded8['errorLog']??_0x50ded8[_0x411ce2(0x664)][_0x411ce2(0x412)]():void 0x0,_0x58e4d4={'onTime':_0xf138c3,'blockId':_0x80fdc1[_0x411ce2(0x580)],'order':_0x51aaf0,'activatedCount':_0x34ed94,'error':_0x50ded8?.[_0x411ce2(0x664)]??!0x1,'messageId':_0x50ded8?.['messageId'],'apiResponse':_0x50ded8?.['apiResponse'],'apiResponseString':_0x50ded8?.[_0x411ce2(0x2c1)]?JSON[_0x411ce2(0x716)](_0x50ded8?.[_0x411ce2(0x2c1)]):void 0x0,'variable':_0x50ded8?.['variable'],'oldValue':_0x50ded8?.[_0x411ce2(0x6ec)],'newValue':_0x50ded8?.[_0x411ce2(0x26e)],'newStoppedUntil':_0x50ded8?.[_0x411ce2(0x7e5)],'moreLogs':_0x50ded8?.[_0x411ce2(0x674)],'errorLog':_0x10765c};if(_0x50ded8['moreLogs']&&_0x50ded8[_0x411ce2(0x674)]['length']>0x0){let _0xa10f78=_0x50ded8[_0x411ce2(0x674)][_0x411ce2(0x59b)](_0x179534=>this[_0x411ce2(0x2f6)](_0x179534,_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x1d5)]));_0x58e4d4[_0x411ce2(0x674)]=_0xa10f78;}if(_0x2ea596['chatLog'][_0x411ce2(0x1d5)]||(_0x2ea596[_0x411ce2(0x6ef)]['realVariables']={}),_0x2ea596['chatLog']['realVariables'][_0x411ce2(0x8a3)]=String(_0x34ed94),_0x2ea596[_0x411ce2(0x6ef)]['realVariables'][_0x411ce2(0x8e7)]=String(_0x50ded8[_0x411ce2(0x664)]??!0x1),_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x4dd)][_0x411ce2(0x898)](_0x58e4d4),_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x1d5)][_0x411ce2(0x212)]&&_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x1d5)][_0x411ce2(0x212)]!==_0x2ea596[_0x411ce2(0x5a2)]){let _0x4550e9=(await this['whatsappNumber']({'numbers':[_0x2ea596['chatLog'][_0x411ce2(0x1d5)][_0x411ce2(0x212)]]}))[0x0][_0x411ce2(0x21f)];_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x1d5)]['telefone']=_0x4550e9,_0x2ea596[_0x411ce2(0x5a2)]=_0x4550e9;try{let _0x1ef6b4={'_id':{'$ne':_0x2ea596['_id']},'remoteJid':_0x4550e9,'status':_0x411ce2(0x483)},_0x2c42ed={'status':_0x411ce2(0x781)};await this['repository'][_0x411ce2(0x907)][_0x411ce2(0x442)](_0x1ef6b4,_0x2c42ed,this['instance'][_0x411ce2(0x7c7)]),this[_0x411ce2(0x69c)][_0x411ce2(0x6c3)](this[_0x411ce2(0x7c4)]+'\x20('+this[_0x411ce2(0x45a)][_0x411ce2(0x7c7)]+_0x411ce2(0x3bb));}catch(_0x412adf){this['logger'][_0x411ce2(0x664)](this[_0x411ce2(0x7c4)]+'\x20('+this[_0x411ce2(0x45a)][_0x411ce2(0x7c7)]+_0x411ce2(0x46a)+_0x412adf[_0x411ce2(0x577)]);}try{let _0x5b3116=_0x2ea596[_0x411ce2(0x6ef)]['realVariables'],_0x31eb5c=await this[_0x411ce2(0x49e)](_0x4550e9),_0x13a285={..._0x5b3116,..._0x31eb5c,'_remoteJid':_0x4550e9};_0x2ea596['chatLog'][_0x411ce2(0x1d5)]=_0x13a285;}catch(_0x4402c6){this[_0x411ce2(0x69c)][_0x411ce2(0x664)](this[_0x411ce2(0x7c4)]+'\x20('+this['instance']['wuid']+_0x411ce2(0x750)+_0x4402c6[_0x411ce2(0x577)]);}}_0x2ea596[_0x411ce2(0x6ef)]['lastBlockId']=_0x80fdc1[_0x411ce2(0x580)][_0x411ce2(0x412)](),_0x2ea596['chatLog'][_0x411ce2(0x1df)]&&(_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x1df)]=_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x1df)]),_0x2ea596[_0x411ce2(0x6ef)][_0x411ce2(0x8ef)]&&(_0x2ea596['chatLog'][_0x411ce2(0x8ef)]=_0x2ea596['chatLog'][_0x411ce2(0x8ef)]),_0x2ea596['chatLog'][_0x411ce2(0x566)]&&(_0x2ea596[_0x411ce2(0x6ef)]['lastCondition']=_0x2ea596['chatLog'][_0x411ce2(0x566)]),_0x5dffce&&(_0x2ea596['status']=_0x411ce2(0x781)),_0x15abee?this[_0x411ce2(0x670)](_0x2ea596):this[_0x411ce2(0x29e)](_0x2ea596,_0x80fdc1);}[a0_0xa27d39(0x2f6)](_0x52ef30,_0x18fbd6){return _0x52ef30['replace'](/\{\{([^}]+)\}\}/g,(_0x3da697,_0x1729e3)=>_0x18fbd6[_0x1729e3]?'{{'+_0x1729e3+'}}\x20->\x20\x22'+_0x18fbd6[_0x1729e3]+'\x22':'{{'+_0x1729e3+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0xa27d39(0x670)](_0x3a93e0){const _0x1385d9=a0_0xa27d39;try{let _0x483e5e=Object[_0x1385d9(0x4eb)](_0x3a93e0['chatLog'][_0x1385d9(0x1d5)])[_0x1385d9(0x59b)](([_0x2083a4,_0x624df9])=>({'name':_0x2083a4,'value':_0x624df9})),_0x284f03={'status':_0x3a93e0[_0x1385d9(0x492)],'remoteJid':_0x3a93e0['remoteJid'],'blocks':_0x3a93e0[_0x1385d9(0x30b)],'waitingMenu_id':_0x3a93e0[_0x1385d9(0x1d1)],'waitingMenu_text':_0x3a93e0[_0x1385d9(0x8b2)],'waitingMenu_replyOptions':_0x3a93e0['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x3a93e0[_0x1385d9(0x6ef)][_0x1385d9(0x362)],'lastSendMessage':_0x3a93e0[_0x1385d9(0x6ef)][_0x1385d9(0x1df)],'lastReceivedMessage':_0x3a93e0['chatLog'][_0x1385d9(0x8ef)],'lastCondition':_0x3a93e0[_0x1385d9(0x6ef)]['lastCondition'],'chatVariables':_0x483e5e,'realVariables':_0x3a93e0['chatLog']['realVariables'],'blockLogs':_0x3a93e0[_0x1385d9(0x6ef)][_0x1385d9(0x4dd)]}},_0x2fffab=await this[_0x1385d9(0x4f0)]['flowConversation']['updateOne'](_0x3a93e0[_0x1385d9(0x580)],_0x284f03,this[_0x1385d9(0x45a)][_0x1385d9(0x7c7)]);if(_0x2fffab){this[_0x1385d9(0x69c)][_0x1385d9(0x6c3)](this[_0x1385d9(0x7c4)]+'\x20('+this['instance'][_0x1385d9(0x7c7)]+_0x1385d9(0x5ad)+_0x2fffab[_0x1385d9(0x580)]);try{let _0x10a0c5=[_0x1385d9(0x7a6),_0x1385d9(0x2fe),'email',_0x1385d9(0x21e),_0x1385d9(0x492),_0x1385d9(0x3e5),_0x1385d9(0x6ca),_0x1385d9(0x1ce),'etiquetas',_0x1385d9(0x68f)];if(!this[_0x1385d9(0x278)]&&(await this[_0x1385d9(0x391)](),!this[_0x1385d9(0x278)]))throw new Error(_0x1385d9(0x8d9));let _0x36a8af=this['AutomateSystem']?.[_0x1385d9(0x67a)]['map'](_0x3e47e8=>_0x3e47e8[_0x1385d9(0x75e)]),_0x4bf5a1={};Object[_0x1385d9(0x4eb)](_0x3a93e0['chatLog'][_0x1385d9(0x1d5)])[_0x1385d9(0x888)](([_0x453ad6,_0x28c479])=>{const _0x828013=_0x1385d9;_0x10a0c5[_0x828013(0x855)](_0x453ad6)&&(_0x453ad6===_0x828013(0x1ce)&&typeof _0x28c479==_0x828013(0x8e4)?_0x4bf5a1[_0x453ad6]=_0x28c479[_0x828013(0x8cb)](',')[_0x828013(0x59b)](_0x1f28eb=>_0x1f28eb[_0x828013(0x6f8)]())['filter'](_0x17b45d=>_0x17b45d!==''):_0x453ad6===_0x828013(0x33e)&&typeof _0x28c479==_0x828013(0x8e4)?_0x4bf5a1[_0x453ad6]=_0x28c479[_0x828013(0x8cb)](',')['map'](_0x4476fa=>_0x4476fa[_0x828013(0x6f8)]())['filter'](_0x5d8fe4=>_0x5d8fe4!==''):_0x4bf5a1[_0x453ad6]=_0x28c479);});let _0x8ddf17=_0x3a93e0['chatLog']['blockLogs'][_0x3a93e0['chatLog'][_0x1385d9(0x4dd)][_0x1385d9(0x3a7)]-0x1];if(_0x8ddf17){let _0x4c1340=_0x8ddf17[_0x1385d9(0x7e5)];_0x4c1340!==void 0x0&&(_0x4bf5a1[_0x1385d9(0x7b7)]=_0x4c1340[_0x1385d9(0x412)]());}let _0x5a7a10=_0x483e5e['filter'](_0x139dc7=>_0x36a8af[_0x1385d9(0x855)](_0x139dc7[_0x1385d9(0x75e)]));this[_0x1385d9(0x69c)][_0x1385d9(0x6c3)](this[_0x1385d9(0x7c4)]+'\x20('+this[_0x1385d9(0x45a)][_0x1385d9(0x7c7)]+_0x1385d9(0x461)),this['logger'][_0x1385d9(0x6c3)](_0x4bf5a1),this[_0x1385d9(0x69c)][_0x1385d9(0x6c3)](this[_0x1385d9(0x7c4)]+'\x20('+this[_0x1385d9(0x45a)][_0x1385d9(0x7c7)]+_0x1385d9(0x857)),this[_0x1385d9(0x69c)][_0x1385d9(0x6c3)](_0x5a7a10);let _0x146e21=_0x5a7a10[_0x1385d9(0x59b)](_0x37dbc3=>{const _0x356f09=_0x1385d9;let _0x3ec504=this[_0x356f09(0x278)]?.[_0x356f09(0x67a)][_0x356f09(0x678)](_0xcf8697=>_0xcf8697[_0x356f09(0x75e)]===_0x37dbc3[_0x356f09(0x75e)]);if(!_0x3ec504)throw new Error(_0x356f09(0x5e6)+_0x37dbc3[_0x356f09(0x75e)]);return{'_id':_0x3ec504['_id'],'value':_0x37dbc3[_0x356f09(0x556)]};});this[_0x1385d9(0x69c)][_0x1385d9(0x6c3)](this[_0x1385d9(0x7c4)]+'\x20('+this[_0x1385d9(0x45a)]['wuid']+_0x1385d9(0x3c4)),this[_0x1385d9(0x69c)][_0x1385d9(0x6c3)](_0x146e21),await this[_0x1385d9(0x7ea)](_0x3a93e0[_0x1385d9(0x5a2)],_0x4bf5a1,_0x146e21);}catch(_0x54b62a){this[_0x1385d9(0x69c)][_0x1385d9(0x664)](this[_0x1385d9(0x7c4)]+'\x20('+this[_0x1385d9(0x45a)][_0x1385d9(0x7c7)]+_0x1385d9(0x611)+(_0x54b62a instanceof Error?_0x54b62a[_0x1385d9(0x577)]:JSON[_0x1385d9(0x716)](_0x54b62a,null,0x2)));}}else this[_0x1385d9(0x69c)][_0x1385d9(0x664)](this[_0x1385d9(0x7c4)]+'\x20('+this[_0x1385d9(0x45a)][_0x1385d9(0x7c7)]+_0x1385d9(0x5d6));}catch(_0x3bca76){this[_0x1385d9(0x69c)][_0x1385d9(0x664)](this[_0x1385d9(0x7c4)]+'\x20('+this[_0x1385d9(0x45a)][_0x1385d9(0x7c7)]+_0x1385d9(0x622)+(_0x3bca76 instanceof Error?_0x3bca76['message']:JSON[_0x1385d9(0x716)](_0x3bca76,null,0x2)));}}async[a0_0xa27d39(0x7ea)](_0x561cb4,_0x5c9a29,_0x53407b){const _0x200bfe=a0_0xa27d39;try{let _0x3f740b={'leadInfo.leadnome':_0x5c9a29[_0x200bfe(0x7a6)],'leadInfo.nomecompleto':_0x5c9a29[_0x200bfe(0x2fe)],'leadInfo.email':_0x5c9a29[_0x200bfe(0x74e)],'leadInfo.cpf':_0x5c9a29[_0x200bfe(0x21e)],'leadInfo.status':_0x5c9a29[_0x200bfe(0x492)],'leadInfo.notas':_0x5c9a29[_0x200bfe(0x3e5)],'leadInfo.responsavelid':_0x5c9a29[_0x200bfe(0x6ca)],'leadInfo.tags':_0x5c9a29['tags'],'leadInfo.etiquetas':_0x5c9a29['etiquetas'],'leadInfo.customFields':_0x53407b,'leadInfo.atendimentoAberto':_0x5c9a29[_0x200bfe(0x68f)]},_0x5a30a2=await this[_0x200bfe(0x4f0)][_0x200bfe(0x532)][_0x200bfe(0x25d)]({'where':{'_id':_0x561cb4}},this[_0x200bfe(0x45a)][_0x200bfe(0x7c7)]);if(!_0x5a30a2)return'chat\x20não\x20encontrado';let _0x2af200=new Set(_0x5a30a2[_0x200bfe(0x732)][_0x200bfe(0x33e)]||[]),_0xa42690=new Set(_0x5c9a29[_0x200bfe(0x33e)]||[]),_0x4e6631=await this['repository'][_0x200bfe(0x894)][_0x200bfe(0x678)]({'where':{}},this[_0x200bfe(0x45a)]['wuid']),_0x16d0fc=new Set(_0x4e6631['map'](_0x3250f2=>_0x3250f2[_0x200bfe(0x580)])),_0x15a35f=[..._0xa42690][_0x200bfe(0x842)](_0x49cf54=>!_0x2af200[_0x200bfe(0x2aa)](_0x49cf54)&&_0x16d0fc[_0x200bfe(0x2aa)](_0x49cf54)),_0x54412d=[..._0x2af200][_0x200bfe(0x842)](_0x3a48f8=>!_0xa42690[_0x200bfe(0x2aa)](_0x3a48f8));for(let _0x5dba7d of _0x15a35f)await this[_0x200bfe(0x83b)](_0x5dba7d,_0x5a30a2[_0x200bfe(0x580)]),_0x2af200['add'](_0x5dba7d);for(let _0x33239a of _0x54412d)await this[_0x200bfe(0x3ce)](_0x33239a,_0x5a30a2['_id']),_0x2af200[_0x200bfe(0x5ce)](_0x33239a);if(_0x200bfe(0x7b7)in _0x5c9a29){let _0x2e1a73=_0x5c9a29[_0x200bfe(0x7b7)];_0x3f740b[_0x200bfe(0x90f)]=_0x2e1a73?Number(_0x2e1a73):null;}if(_0x200bfe(0x68f)in _0x5c9a29){let _0x3efea3=_0x5c9a29[_0x200bfe(0x68f)]['toLowerCase']();_0x3f740b['leadInfo.atendimentoAberto']=_0x3efea3===_0x200bfe(0x44c)||_0x3efea3==='1'||_0x3efea3===_0x200bfe(0x69d)||_0x3efea3==='sim';}let _0xddf798=await this['repository'][_0x200bfe(0x532)][_0x200bfe(0x45c)]({'where':{'_id':_0x561cb4}},_0x3f740b,this['instance'][_0x200bfe(0x7c7)]);_0xddf798?(this['logger'][_0x200bfe(0x6c3)](this['instanceName']+'\x20('+this[_0x200bfe(0x45a)][_0x200bfe(0x7c7)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0xddf798[_0x200bfe(0x580)]),q(this[_0x200bfe(0x7c4)],'chats',{'chat':_0xddf798})):this['logger'][_0x200bfe(0x664)](this[_0x200bfe(0x7c4)]+'\x20('+this[_0x200bfe(0x45a)][_0x200bfe(0x7c7)]+_0x200bfe(0x476));}catch(_0x310a2c){this[_0x200bfe(0x69c)][_0x200bfe(0x664)](this[_0x200bfe(0x7c4)]+'\x20('+this[_0x200bfe(0x45a)]['wuid']+_0x200bfe(0x7e2)+(_0x310a2c instanceof Error?_0x310a2c[_0x200bfe(0x577)]:JSON[_0x200bfe(0x716)](_0x310a2c,null,0x2)));}}async[a0_0xa27d39(0x542)](_0x4602fa,_0x42c4be){const _0x4f02c6=a0_0xa27d39;this[_0x4f02c6(0x69c)][_0x4f02c6(0x6c3)](this['instanceName']+'\x20('+this[_0x4f02c6(0x45a)][_0x4f02c6(0x7c7)]+'):\x20atualização\x20chat:\x20'+_0x42c4be);try{let _0x588182=await this[_0x4f02c6(0x4f0)][_0x4f02c6(0x532)][_0x4f02c6(0x45c)]({'where':{'_id':_0x4602fa[_0x4f02c6(0x5a2)]}},{'leadInfo.desativadoFluxoAte':_0x42c4be},this['instance'][_0x4f02c6(0x7c7)]);this[_0x4f02c6(0x69c)][_0x4f02c6(0x6c3)](this[_0x4f02c6(0x7c4)]+'\x20('+this[_0x4f02c6(0x45a)][_0x4f02c6(0x7c7)]+_0x4f02c6(0x8cd)+_0x4602fa['_id']),this['logger'][_0x4f02c6(0x6c3)](this[_0x4f02c6(0x7c4)]+'\x20('+this[_0x4f02c6(0x45a)][_0x4f02c6(0x7c7)]+'):\x20atualização\x20chat:\x20'+JSON[_0x4f02c6(0x716)](_0x588182,null,0x2)),_0x588182&&q(this[_0x4f02c6(0x7c4)],'chats',{'chat':_0x588182});}catch(_0x5156d7){this[_0x4f02c6(0x69c)][_0x4f02c6(0x664)](this[_0x4f02c6(0x7c4)]+'\x20('+this[_0x4f02c6(0x45a)][_0x4f02c6(0x7c7)]+_0x4f02c6(0x1e1)+(_0x5156d7 instanceof Error?_0x5156d7['message']:JSON[_0x4f02c6(0x716)](_0x5156d7,null,0x2)));}}async['findFlow'](_0xded7f9){const _0x5461bc=a0_0xa27d39;try{this[_0x5461bc(0x69c)]['verbose'](this[_0x5461bc(0x7c4)]+'\x20('+this[_0x5461bc(0x45a)]['wuid']+_0x5461bc(0x27e));let _0x4edf9f=_0xded7f9[_0x5461bc(0x817)](/\D/g,''),_0x33b1d1=this[_0x5461bc(0x278)][_0x5461bc(0x4b1)][_0x5461bc(0x678)](_0xd8caf4=>_0xd8caf4[_0x5461bc(0x5f7)]===_0x4edf9f);if(_0x33b1d1||(this[_0x5461bc(0x69c)][_0x5461bc(0x6c3)](this[_0x5461bc(0x7c4)]+'\x20('+this[_0x5461bc(0x45a)][_0x5461bc(0x7c7)]+_0x5461bc(0x68d)),_0x33b1d1=this['AutomateSystem'][_0x5461bc(0x4b1)][_0x5461bc(0x678)](_0x2cb8af=>_0x2cb8af['default']===!0x0)),!_0x33b1d1)return this['logger'][_0x5461bc(0x6c3)](this[_0x5461bc(0x7c4)]+'\x20('+this[_0x5461bc(0x45a)][_0x5461bc(0x7c7)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x9867f2=await this['repository'][_0x5461bc(0x6b3)]['findOne']({'where':{'_id':_0x33b1d1[_0x5461bc(0x580)]}});if(!_0x9867f2||!_0x9867f2[_0x5461bc(0x21d)]?.[_0x5461bc(0x855)](this[_0x5461bc(0x45a)][_0x5461bc(0x7c7)]))throw this[_0x5461bc(0x69c)]['error'](this[_0x5461bc(0x7c4)]+'\x20('+this[_0x5461bc(0x45a)][_0x5461bc(0x7c7)]+_0x5461bc(0x707)+_0x9867f2[_0x5461bc(0x580)]+_0x5461bc(0x4bc)),new m(_0x5461bc(0x37d)+_0x9867f2[_0x5461bc(0x580)]+_0x5461bc(0x4bc));return _0x9867f2;}catch(_0x7e94eb){return this['logger'][_0x5461bc(0x664)](this['instanceName']+'\x20('+this[_0x5461bc(0x45a)][_0x5461bc(0x7c7)]+_0x5461bc(0x1e6)+(_0x7e94eb instanceof Error?_0x7e94eb[_0x5461bc(0x577)]:JSON[_0x5461bc(0x716)](_0x7e94eb,null,0x2))),null;}}async['findConversation'](_0x12a772,_0x5e5b88){const _0x427bad=a0_0xa27d39;try{let _0x4b9ed5=!!_0x5e5b88[_0x427bad(0x7df)],_0x4cb40e=_0x5e5b88['quoted'],_0x3f776f=null;if(this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x81f)+_0x4b9ed5+_0x427bad(0x397)+_0x4cb40e),_0x4b9ed5){this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x516770={'where':{'remoteJid':_0x12a772,'waitingMenu_id':_0x4cb40e}};if(_0x3f776f=await this[_0x427bad(0x4f0)]['flowConversation']['findOne'](_0x516770,this[_0x427bad(0x45a)][_0x427bad(0x7c7)]),!_0x3f776f)return this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x7ef)),null;let _0x100d76=Date[_0x427bad(0x27c)](),_0x4707f1=_0x3f776f?.[_0x427bad(0x7e9)]||0x0,_0x446402=_0x100d76-_0x4707f1*0x3c*0x3e8;if(_0x3f776f[_0x427bad(0x8c6)]<_0x446402){this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)]['wuid']+_0x427bad(0x76d));let _0x1a1a8a={'number':_0x3f776f[_0x427bad(0x5a2)],'options':{'delay':0x0},'textMessage':{'text':_0x3f776f[_0x427bad(0x828)]}};await this['textMessage'](_0x1a1a8a);let _0x4c0254={'status':_0x427bad(0x781),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x427bad(0x4f0)]['flowConversation'][_0x427bad(0x45c)](_0x3f776f[_0x427bad(0x580)],_0x4c0254,this[_0x427bad(0x45a)]['wuid']),null;}return _0x3f776f[_0x427bad(0x8c6)]=Date['now'](),_0x3f776f[_0x427bad(0x6ef)][_0x427bad(0x8ef)]=_0x5e5b88,_0x3f776f;}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x7cd)+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x8e5)),this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x459));let _0x50afed={'where':{'remoteJid':_0x12a772,'status':_0x427bad(0x483)}};if(_0x3f776f=await this[_0x427bad(0x4f0)][_0x427bad(0x907)]['findOne'](_0x50afed,this[_0x427bad(0x45a)][_0x427bad(0x7c7)]),!_0x3f776f){let _0xd3a73e=await this[_0x427bad(0x8a1)](_0x12a772);if(_0xd3a73e&&(_0x3f776f=await this[_0x427bad(0x3e4)](_0xd3a73e,_0x5e5b88[_0x427bad(0x5e0)],_0x5e5b88)),!_0x3f776f)return null;}let _0x5d09ad=Date[_0x427bad(0x27c)](),_0x5d236f=_0x3f776f?.['minutesToClose']||0x0,_0x3dabef=_0x5d09ad-_0x5d236f*0x3c*0x3e8;if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x229)+_0x5d09ad+_0x427bad(0x697)+_0x5d236f+',\x20Expiration\x20Time:\x20'+_0x3dabef),this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x1cb)+_0x3f776f['lastInteraction']),this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this['instance'][_0x427bad(0x7c7)]+_0x427bad(0x505)+_0x3dabef),_0x3f776f['lastInteraction']<_0x3dabef){this[_0x427bad(0x69c)][_0x427bad(0x6c3)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+_0x427bad(0x29f));let _0x1e9b98=await this[_0x427bad(0x8a1)](_0x12a772);if(_0x1e9b98===null)return null;_0x3f776f&&await this[_0x427bad(0x4f0)][_0x427bad(0x907)][_0x427bad(0x45c)](_0x3f776f['_id'],{'status':_0x427bad(0x781)},this[_0x427bad(0x45a)]['wuid']),_0x3f776f=await this[_0x427bad(0x3e4)](_0x1e9b98,_0x5e5b88[_0x427bad(0x5e0)],_0x5e5b88);}return _0x3f776f[_0x427bad(0x8c6)]=_0x5d09ad,_0x3f776f['chatLog'][_0x427bad(0x8ef)]=_0x5e5b88,_0x3f776f;}}catch(_0x25bef5){return this['logger'][_0x427bad(0x664)](this[_0x427bad(0x7c4)]+'\x20('+this[_0x427bad(0x45a)][_0x427bad(0x7c7)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x25bef5 instanceof Error?_0x25bef5[_0x427bad(0x577)]:JSON[_0x427bad(0x716)](_0x25bef5,null,0x2))),null;}}async[a0_0xa27d39(0x3e4)](_0x402f70,_0x1942bc,_0x39ac2e){const _0x20c0cb=a0_0xa27d39;this['logger'][_0x20c0cb(0x6c3)](this['instanceName']+'\x20('+this[_0x20c0cb(0x45a)]['wuid']+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x10ad5d=require(_0x20c0cb(0x480))[_0x20c0cb(0x49f)],_0x21ffd9=Date[_0x20c0cb(0x27c)](),_0x4d68fa='start',_0x45665e=_0x1942bc[_0x20c0cb(0x58f)]?null:_0x39ac2e,_0x44d21e=_0x1942bc['fromMe']?_0x39ac2e:null,_0x1e610f=_0x1942bc[_0x20c0cb(0x5a2)],_0x447dfa=this[_0x20c0cb(0x278)][_0x20c0cb(0x4b1)][_0x20c0cb(0x678)](_0x33aaf7=>_0x33aaf7[_0x20c0cb(0x580)]===_0x402f70[_0x20c0cb(0x580)]?.[_0x20c0cb(0x412)]()),_0x70b944=_0x447dfa?.[_0x20c0cb(0x7e9)]??_0x402f70[_0x20c0cb(0x7e9)]??0x0,_0x348682=_0x447dfa?.[_0x20c0cb(0x52b)]??_0x402f70['readMessages']??!0x1;await this[_0x20c0cb(0x765)](_0x1e610f);let _0xf7daec={'flowId':_0x402f70['_id'],..._0x402f70,'chatLog':null},_0x4edb9e=await this[_0x20c0cb(0x84f)](_0xf7daec[_0x20c0cb(0x62b)]),_0x2fa1b5=await this[_0x20c0cb(0x49e)](_0x1e610f),_0x5703c2={..._0x4edb9e,..._0x2fa1b5,'_remoteJid':_0x1e610f},_0x4ba1b7={'lastReceivedMessage':_0x45665e,'lastSendMessage':_0x44d21e,'lastBlockId':_0x4d68fa,'lastCondition':!0x0,'realVariables':_0x5703c2};_0xf7daec[_0x20c0cb(0x6ef)]=_0x4ba1b7,delete _0xf7daec[_0x20c0cb(0x580)],_0xf7daec[_0x20c0cb(0x580)]=new _0x10ad5d(),_0xf7daec[_0x20c0cb(0x8c6)]=_0x21ffd9,_0xf7daec[_0x20c0cb(0x492)]=_0x20c0cb(0x483),_0xf7daec[_0x20c0cb(0x5a2)]=_0x1e610f,_0xf7daec[_0x20c0cb(0x7e9)]=_0x70b944,_0xf7daec[_0x20c0cb(0x52b)]=_0x348682;let _0xd6934b=await this[_0x20c0cb(0x4f0)][_0x20c0cb(0x907)][_0x20c0cb(0x45c)](_0xf7daec[_0x20c0cb(0x580)],_0xf7daec,this[_0x20c0cb(0x45a)][_0x20c0cb(0x7c7)]);return this['logger'][_0x20c0cb(0x6c3)](this['instanceName']+'\x20('+this[_0x20c0cb(0x45a)][_0x20c0cb(0x7c7)]+_0x20c0cb(0x493)),_0xd6934b?_0xf7daec:null;}catch(_0xd23b62){return this[_0x20c0cb(0x69c)][_0x20c0cb(0x664)](this[_0x20c0cb(0x7c4)]+'\x20('+this[_0x20c0cb(0x45a)]['wuid']+_0x20c0cb(0x4e8)+(_0xd23b62 instanceof Error?_0xd23b62[_0x20c0cb(0x577)]:JSON[_0x20c0cb(0x716)](_0xd23b62,null,0x2))),_0xd23b62;}}async[a0_0xa27d39(0x569)](_0x28e399,_0xc5d226){const _0x3d3f65=a0_0xa27d39;let _0x16c8f3=_0x28e399[_0x3d3f65(0x5a2)];_0xc5d226[_0x3d3f65(0x53f)][_0x3d3f65(0x5a2)]&&_0xc5d226[_0x3d3f65(0x53f)][_0x3d3f65(0x5a2)][_0x3d3f65(0x6f8)]()!==''&&(_0x16c8f3=_0xc5d226['uazapi'][_0x3d3f65(0x5a2)][_0x3d3f65(0x6f8)]()),this[_0x3d3f65(0x69c)][_0x3d3f65(0x6c3)](this[_0x3d3f65(0x7c4)]+'\x20('+this['instance'][_0x3d3f65(0x7c7)]+_0x3d3f65(0x709));let _0x34c3fd={'number':_0x16c8f3,'options':{'delay':_0xc5d226[_0x3d3f65(0x53f)][_0x3d3f65(0x753)],'linkPreview':_0xc5d226[_0x3d3f65(0x53f)][_0x3d3f65(0x76b)]},'textMessage':{'text':_0xc5d226[_0x3d3f65(0x53f)][_0x3d3f65(0x558)]}};try{let _0x3419a4=await this[_0x3d3f65(0x58b)](_0x34c3fd);if(_0x3419a4){let _0x177181={'_id':_0x3419a4[_0x3d3f65(0x5e0)]['id'],'_fromMe':_0x3419a4['key'][_0x3d3f65(0x58f)],'_remoteJid':_0x3419a4['key'][_0x3d3f65(0x5a2)]},_0x4ee6e7=(0x0,w[_0x3d3f65(0x6c8)])(_0x3419a4[_0x3d3f65(0x577)]),_0x22e673=(0x0,w['getContentType'])(_0x4ee6e7);_0x28e399[_0x3d3f65(0x6ef)][_0x3d3f65(0x362)]=_0xc5d226[_0x3d3f65(0x580)][_0x3d3f65(0x412)]();let {message_normalized:_0x6ea036}=this[_0x3d3f65(0x61a)](_0x4ee6e7,_0x22e673,null);_0x28e399['chatLog']['lastSendMessage']=await _0x6ea036;let _0x485169={'messageId':_0x3419a4[_0x3d3f65(0x5e0)]['id']},_0x17e54f=_0x28e399[_0x3d3f65(0x6ef)][_0x3d3f65(0x1d5)];Object[_0x3d3f65(0x1f5)](_0x17e54f,_0x177181),_0x28e399[_0x3d3f65(0x6ef)][_0x3d3f65(0x1d5)]=_0x17e54f,this[_0x3d3f65(0x250)](_0x28e399,_0xc5d226,_0x485169);}else{let _0x2d06b4={'error':!0x0};this[_0x3d3f65(0x250)](_0x28e399,_0xc5d226,_0x2d06b4),this[_0x3d3f65(0x69c)][_0x3d3f65(0x664)](this['instanceName']+'\x20('+this[_0x3d3f65(0x45a)][_0x3d3f65(0x7c7)]+_0x3d3f65(0x82f));}}catch(_0x1b1ed6){let _0x5d7ca0={'error':!0x0,'errorLog':_0x1b1ed6[_0x3d3f65(0x412)]()};this[_0x3d3f65(0x250)](_0x28e399,_0xc5d226,_0x5d7ca0),this['logger'][_0x3d3f65(0x664)](this[_0x3d3f65(0x7c4)]+'\x20('+this['instance']['wuid']+_0x3d3f65(0x440)+(_0x1b1ed6 instanceof Error?_0x1b1ed6['message']:JSON['stringify'](_0x1b1ed6,null,0x2)));}}async[a0_0xa27d39(0x68c)](_0x3edde8,_0x3e64da){const _0x55b9ca=a0_0xa27d39;let _0x24946a=_0x3edde8[_0x55b9ca(0x5a2)];_0x3e64da[_0x55b9ca(0x53f)][_0x55b9ca(0x5a2)]&&_0x3e64da[_0x55b9ca(0x53f)][_0x55b9ca(0x5a2)]['trim']()!==''&&(_0x24946a=_0x3e64da['uazapi']['remoteJid']['trim']()),this[_0x55b9ca(0x69c)][_0x55b9ca(0x6c3)](this[_0x55b9ca(0x7c4)]+'\x20('+this['instance']['wuid']+_0x55b9ca(0x3e7));let _0x4a002b={'number':_0x24946a,'options':{'delay':_0x3e64da[_0x55b9ca(0x53f)][_0x55b9ca(0x753)],'linkPreview':_0x3e64da[_0x55b9ca(0x53f)]['linkPreview']},'mediaMessage':{'mediatype':_0x3e64da['uazapi'][_0x55b9ca(0x3b0)],'caption':_0x3e64da[_0x55b9ca(0x53f)][_0x55b9ca(0x5fe)],'media':_0x3e64da[_0x55b9ca(0x53f)][_0x55b9ca(0x5ff)],'fileName':_0x3e64da[_0x55b9ca(0x53f)][_0x55b9ca(0x2ef)]}};try{let _0x540844=await this[_0x55b9ca(0x322)](_0x4a002b);if(_0x540844){let _0x210efd={'_id':_0x540844[_0x55b9ca(0x5e0)]['id'],'_fromMe':_0x540844['key']['fromMe'],'_remoteJid':_0x540844['key'][_0x55b9ca(0x5a2)]},_0x19103d=(0x0,w['normalizeMessageContent'])(_0x540844['message']),_0x4edd0e=(0x0,w[_0x55b9ca(0x1e8)])(_0x19103d);_0x3edde8[_0x55b9ca(0x6ef)]['lastBlockId']=_0x3e64da[_0x55b9ca(0x580)][_0x55b9ca(0x412)]();let {message_normalized:_0x4c4156}=this[_0x55b9ca(0x61a)](_0x19103d,_0x4edd0e,null);_0x3edde8[_0x55b9ca(0x6ef)]['lastSendMessage']=await _0x4c4156;let _0xcfe32f={'messageId':_0x540844['key']['id']},_0xa8e887=_0x3edde8[_0x55b9ca(0x6ef)][_0x55b9ca(0x1d5)];Object[_0x55b9ca(0x1f5)](_0xa8e887,_0x210efd),_0x3edde8[_0x55b9ca(0x6ef)][_0x55b9ca(0x1d5)]=_0xa8e887,this[_0x55b9ca(0x250)](_0x3edde8,_0x3e64da,_0xcfe32f);}else{let _0x109150={'error':!0x0};this['updateConversation'](_0x3edde8,_0x3e64da,_0x109150),this[_0x55b9ca(0x69c)][_0x55b9ca(0x664)](this['instanceName']+'\x20('+this[_0x55b9ca(0x45a)]['wuid']+_0x55b9ca(0x6e1));}}catch(_0x37b805){let _0x555bd6={'error':!0x0,'errorLog':_0x37b805[_0x55b9ca(0x412)]()};this[_0x55b9ca(0x250)](_0x3edde8,_0x3e64da,_0x555bd6),this[_0x55b9ca(0x69c)][_0x55b9ca(0x664)](this[_0x55b9ca(0x7c4)]+'\x20('+this[_0x55b9ca(0x45a)][_0x55b9ca(0x7c7)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x37b805 instanceof Error?_0x37b805['message']:JSON[_0x55b9ca(0x716)](_0x37b805,null,0x2)));}}async[a0_0xa27d39(0x213)](_0xee8421,_0x3f1145){const _0x1d1b95=a0_0xa27d39;let _0x30febd=_0xee8421[_0x1d1b95(0x5a2)];_0x3f1145['uazapi'][_0x1d1b95(0x5a2)]&&_0x3f1145['uazapi'][_0x1d1b95(0x5a2)][_0x1d1b95(0x6f8)]()!==''&&(_0x30febd=_0x3f1145[_0x1d1b95(0x53f)][_0x1d1b95(0x5a2)][_0x1d1b95(0x6f8)]()),this['logger'][_0x1d1b95(0x6c3)](this[_0x1d1b95(0x7c4)]+'\x20('+this[_0x1d1b95(0x45a)][_0x1d1b95(0x7c7)]+_0x1d1b95(0x87b));let _0x21423a={'number':_0x30febd,'options':{'delay':_0x3f1145[_0x1d1b95(0x53f)]['delay']},'locationMessage':{'name':_0x3f1145[_0x1d1b95(0x53f)][_0x1d1b95(0x75e)],'address':_0x3f1145['uazapi'][_0x1d1b95(0x3d5)],'latitude':_0x3f1145[_0x1d1b95(0x53f)][_0x1d1b95(0x4e5)],'longitude':_0x3f1145['uazapi'][_0x1d1b95(0x885)]}};try{let _0x49ef2b=await this['locationMessage'](_0x21423a);if(_0x49ef2b){let _0x35ff7b={'_id':_0x49ef2b[_0x1d1b95(0x5e0)]['id'],'_fromMe':_0x49ef2b[_0x1d1b95(0x5e0)][_0x1d1b95(0x58f)],'_remoteJid':_0x49ef2b[_0x1d1b95(0x5e0)][_0x1d1b95(0x5a2)]},_0x21da2a=(0x0,w['normalizeMessageContent'])(_0x49ef2b[_0x1d1b95(0x577)]),_0x24be26=(0x0,w[_0x1d1b95(0x1e8)])(_0x21da2a);_0xee8421[_0x1d1b95(0x6ef)]['lastBlockId']=_0x3f1145[_0x1d1b95(0x580)][_0x1d1b95(0x412)]();let {message_normalized:_0x81afc0}=this[_0x1d1b95(0x61a)](_0x21da2a,_0x24be26,null);_0xee8421[_0x1d1b95(0x6ef)][_0x1d1b95(0x1df)]=await _0x81afc0;let _0x374077={'messageId':_0x49ef2b['key']['id']},_0x382a7d=_0xee8421[_0x1d1b95(0x6ef)][_0x1d1b95(0x1d5)];Object['assign'](_0x382a7d,_0x35ff7b),_0xee8421[_0x1d1b95(0x6ef)][_0x1d1b95(0x1d5)]=_0x382a7d,this[_0x1d1b95(0x250)](_0xee8421,_0x3f1145,_0x374077);}else{let _0x30eb07={'error':!0x0};this[_0x1d1b95(0x250)](_0xee8421,_0x3f1145,_0x30eb07),this[_0x1d1b95(0x69c)]['error'](this['instanceName']+'\x20('+this[_0x1d1b95(0x45a)][_0x1d1b95(0x7c7)]+_0x1d1b95(0x883));}}catch(_0x33c83f){let _0x5b2e83={'error':!0x0,'errorLog':_0x33c83f[_0x1d1b95(0x412)]()};this['updateConversation'](_0xee8421,_0x3f1145,_0x5b2e83),this[_0x1d1b95(0x69c)][_0x1d1b95(0x664)](this[_0x1d1b95(0x7c4)]+'\x20('+this['instance'][_0x1d1b95(0x7c7)]+_0x1d1b95(0x368)+(_0x33c83f instanceof Error?_0x33c83f['message']:JSON['stringify'](_0x33c83f,null,0x2)));}}async[a0_0xa27d39(0x57e)](_0x569a4a,_0x44397b){const _0x378a3a=a0_0xa27d39;let _0x427e7b=_0x569a4a['remoteJid'];_0x44397b[_0x378a3a(0x53f)][_0x378a3a(0x5a2)]&&_0x44397b[_0x378a3a(0x53f)][_0x378a3a(0x5a2)][_0x378a3a(0x6f8)]()!==''&&(_0x427e7b=_0x44397b[_0x378a3a(0x53f)][_0x378a3a(0x5a2)][_0x378a3a(0x6f8)]()),this['logger']['verbose'](this[_0x378a3a(0x7c4)]+'\x20('+this[_0x378a3a(0x45a)]['wuid']+_0x378a3a(0x2f5));let _0x2dadb4={'number':_0x427e7b,'options':{'delay':_0x44397b[_0x378a3a(0x53f)][_0x378a3a(0x753)]},'audioMessage':{'audio':_0x44397b['uazapi']['audio']}};try{let _0x471495=await this[_0x378a3a(0x646)](_0x2dadb4);if(_0x471495){let _0x56041c={'_id':_0x471495[_0x378a3a(0x5e0)]['id'],'_fromMe':_0x471495[_0x378a3a(0x5e0)][_0x378a3a(0x58f)],'_remoteJid':_0x471495['key'][_0x378a3a(0x5a2)]},_0xc0d3f2=(0x0,w[_0x378a3a(0x6c8)])(_0x471495[_0x378a3a(0x577)]),_0x4fdfb9=(0x0,w[_0x378a3a(0x1e8)])(_0xc0d3f2);_0x569a4a['chatLog'][_0x378a3a(0x362)]=_0x44397b[_0x378a3a(0x580)][_0x378a3a(0x412)]();let {message_normalized:_0x5a22fb}=this['normalizeMessage'](_0xc0d3f2,_0x4fdfb9,null);_0x569a4a[_0x378a3a(0x6ef)]['lastSendMessage']=await _0x5a22fb;let _0x4785be={'messageId':_0x471495[_0x378a3a(0x5e0)]['id']},_0x191dc6=_0x569a4a[_0x378a3a(0x6ef)][_0x378a3a(0x1d5)];Object[_0x378a3a(0x1f5)](_0x191dc6,_0x56041c),_0x569a4a[_0x378a3a(0x6ef)][_0x378a3a(0x1d5)]=_0x191dc6,this[_0x378a3a(0x250)](_0x569a4a,_0x44397b,_0x4785be);}else{let _0x259651={'error':!0x0};this['updateConversation'](_0x569a4a,_0x44397b,_0x259651),this[_0x378a3a(0x69c)][_0x378a3a(0x664)](this[_0x378a3a(0x7c4)]+'\x20('+this[_0x378a3a(0x45a)][_0x378a3a(0x7c7)]+_0x378a3a(0x231));}}catch(_0xdc6113){let _0x25f611={'error':!0x0,'errorLog':_0xdc6113['toString']()};this[_0x378a3a(0x250)](_0x569a4a,_0x44397b,_0x25f611),this['logger'][_0x378a3a(0x664)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x378a3a(0x69e)+(_0xdc6113 instanceof Error?_0xdc6113[_0x378a3a(0x577)]:JSON[_0x378a3a(0x716)](_0xdc6113,null,0x2)));}}async[a0_0xa27d39(0x7ff)](_0x171ede,_0x12fd47){const _0x312957=a0_0xa27d39;let _0x26dbbb=_0x171ede[_0x312957(0x5a2)];_0x12fd47['uazapi'][_0x312957(0x5a2)]&&_0x12fd47[_0x312957(0x53f)][_0x312957(0x5a2)][_0x312957(0x6f8)]()!==''&&(_0x26dbbb=_0x12fd47[_0x312957(0x53f)][_0x312957(0x5a2)]['trim']()),this[_0x312957(0x69c)][_0x312957(0x6c3)](this[_0x312957(0x7c4)]+'\x20('+this['instance'][_0x312957(0x7c7)]+_0x312957(0x3ff));let _0x5b2d2b={'number':_0x26dbbb,'options':{'delay':_0x12fd47['uazapi'][_0x312957(0x753)]},'contactMessage':[{'fullName':_0x12fd47[_0x312957(0x53f)][_0x312957(0x359)],'phoneNumber':_0x12fd47['uazapi']['phoneNumber']}]};try{let _0x566deb=await this[_0x312957(0x47b)](_0x5b2d2b);if(_0x566deb){let _0x29fe45={'_id':_0x566deb[_0x312957(0x5e0)]['id'],'_fromMe':_0x566deb[_0x312957(0x5e0)][_0x312957(0x58f)],'_remoteJid':_0x566deb[_0x312957(0x5e0)][_0x312957(0x5a2)]},_0x23b31f=(0x0,w[_0x312957(0x6c8)])(_0x566deb[_0x312957(0x577)]),_0x40c642=(0x0,w[_0x312957(0x1e8)])(_0x23b31f);_0x171ede['chatLog']['lastBlockId']=_0x12fd47[_0x312957(0x580)][_0x312957(0x412)]();let {message_normalized:_0x424b4c}=this[_0x312957(0x61a)](_0x23b31f,_0x40c642,null);_0x171ede[_0x312957(0x6ef)]['lastSendMessage']=await _0x424b4c;let _0x5ca794={'messageId':_0x566deb[_0x312957(0x5e0)]['id']},_0x68523a=_0x171ede['chatLog']['realVariables'];Object[_0x312957(0x1f5)](_0x68523a,_0x29fe45),_0x171ede[_0x312957(0x6ef)][_0x312957(0x1d5)]=_0x68523a,this[_0x312957(0x250)](_0x171ede,_0x12fd47,_0x5ca794);}else{let _0x2f7b1a={'error':!0x0};this[_0x312957(0x250)](_0x171ede,_0x12fd47,_0x2f7b1a),this[_0x312957(0x69c)]['error'](this[_0x312957(0x7c4)]+'\x20('+this['instance'][_0x312957(0x7c7)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x23b5e4){let _0x5204ad={'error':!0x0,'errorLog':_0x23b5e4[_0x312957(0x412)]()};this['updateConversation'](_0x171ede,_0x12fd47,_0x5204ad),this[_0x312957(0x69c)][_0x312957(0x664)](this['instanceName']+'\x20('+this[_0x312957(0x45a)][_0x312957(0x7c7)]+_0x312957(0x89c)+(_0x23b5e4 instanceof Error?_0x23b5e4['message']:JSON[_0x312957(0x716)](_0x23b5e4,null,0x2)));}}[a0_0xa27d39(0x78b)](_0x110193,_0xa191fc){const _0x36fedf=a0_0xa27d39;for(let _0x2f1ed9 of _0x110193)_0x2f1ed9[_0x36fedf(0x448)]&&(_0x2f1ed9['option']=this[_0x36fedf(0x6f3)](_0x2f1ed9[_0x36fedf(0x448)],_0xa191fc)),_0x2f1ed9[_0x36fedf(0x617)]&&(_0x2f1ed9[_0x36fedf(0x617)]=this[_0x36fedf(0x6f3)](_0x2f1ed9[_0x36fedf(0x617)],_0xa191fc));}async[a0_0xa27d39(0x63d)](_0x5c9b8a,_0x4388f9){const _0x3697e8=a0_0xa27d39;let _0x462569=_0x5c9b8a[_0x3697e8(0x5a2)];_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x5a2)]&&_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x5a2)][_0x3697e8(0x6f8)]()!==''&&(_0x462569=_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x5a2)][_0x3697e8(0x6f8)]()),this[_0x3697e8(0x69c)][_0x3697e8(0x6c3)](this['instanceName']+'\x20('+this[_0x3697e8(0x45a)][_0x3697e8(0x7c7)]+_0x3697e8(0x90d));let _0x47fe2d=_0x5c9b8a[_0x3697e8(0x301)][_0x3697e8(0x842)](_0x45ab4b=>_0x45ab4b[_0x3697e8(0x6d7)]===_0x4388f9[_0x3697e8(0x580)])[_0x3697e8(0x80e)]((_0xf657de,_0x59957c)=>_0xf657de[_0x3697e8(0x513)]-_0x59957c[_0x3697e8(0x513)]);this[_0x3697e8(0x78b)](_0x47fe2d,_0x5c9b8a[_0x3697e8(0x6ef)]['realVariables']);let _0x2e3e81=_0x47fe2d['map'](_0x236c31=>_0x236c31[_0x3697e8(0x448)]),_0x6de45b={'number':_0x462569,'menuMessage':{'type':_0x4388f9[_0x3697e8(0x53f)]['menuType']||_0x3697e8(0x5bf),'text':_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x558)]||_0x4388f9['uazapi'][_0x3697e8(0x75e)],'footerText':_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x654)],'buttonText':_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x7c6)],'selectableCount':0x1,'choices':_0x2e3e81},'options':{'delay':_0x4388f9['uazapi']['delay']}};try{let _0x2f9a0d=await this[_0x3697e8(0x36f)](_0x6de45b);if(_0x2f9a0d){let _0x4fe78a={'_id':_0x2f9a0d[_0x3697e8(0x5e0)]['id'],'_fromMe':_0x2f9a0d[_0x3697e8(0x5e0)][_0x3697e8(0x58f)],'_remoteJid':_0x2f9a0d[_0x3697e8(0x5e0)][_0x3697e8(0x5a2)]};_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x385)]===!0x0&&(_0x5c9b8a[_0x3697e8(0x492)]=_0x3697e8(0x81c),this[_0x3697e8(0x69c)][_0x3697e8(0x6c3)](this[_0x3697e8(0x7c4)]+'\x20('+this[_0x3697e8(0x45a)][_0x3697e8(0x7c7)]+_0x3697e8(0x84d)+_0x5c9b8a['status'])),this[_0x3697e8(0x69c)][_0x3697e8(0x6c3)](this['instanceName']+'\x20('+this[_0x3697e8(0x45a)][_0x3697e8(0x7c7)]+_0x3697e8(0x38f)+(_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x75e)]||_0x4388f9[_0x3697e8(0x53f)]['text'])),_0x5c9b8a[_0x3697e8(0x1d1)]=_0x2f9a0d[_0x3697e8(0x5e0)]['id'],_0x5c9b8a[_0x3697e8(0x8b2)]=_0x4388f9[_0x3697e8(0x53f)]['name']||_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x558)],_0x5c9b8a['waitingMenu_replyOptions']=_0x47fe2d,_0x4388f9['uazapi'][_0x3697e8(0x665)]&&(_0x5c9b8a['waitingMenu_ExpiredMessage']=_0x4388f9[_0x3697e8(0x53f)][_0x3697e8(0x665)]),this[_0x3697e8(0x69c)][_0x3697e8(0x6c3)](this[_0x3697e8(0x7c4)]+'\x20('+this[_0x3697e8(0x45a)][_0x3697e8(0x7c7)]+_0x3697e8(0x2a4)+_0x5c9b8a[_0x3697e8(0x8b2)]);let _0x4cd8d5=(0x0,w[_0x3697e8(0x6c8)])(_0x2f9a0d[_0x3697e8(0x577)]),_0x521d29=(0x0,w['getContentType'])(_0x4cd8d5);_0x5c9b8a[_0x3697e8(0x6ef)][_0x3697e8(0x362)]=_0x4388f9[_0x3697e8(0x580)]['toString']();let {message_normalized:_0x3daeb2}=this[_0x3697e8(0x61a)](_0x4cd8d5,_0x521d29,null);_0x5c9b8a[_0x3697e8(0x6ef)][_0x3697e8(0x1df)]=await _0x3daeb2;let _0x120ef3={'messageId':_0x2f9a0d[_0x3697e8(0x5e0)]['id']},_0x47c761=_0x5c9b8a[_0x3697e8(0x6ef)]['realVariables'];Object[_0x3697e8(0x1f5)](_0x47c761,_0x4fe78a),_0x5c9b8a[_0x3697e8(0x6ef)]['realVariables']=_0x47c761,this[_0x3697e8(0x250)](_0x5c9b8a,_0x4388f9,_0x120ef3);}else{let _0x4396fa={'error':!0x0};this[_0x3697e8(0x250)](_0x5c9b8a,_0x4388f9,_0x4396fa),this[_0x3697e8(0x69c)][_0x3697e8(0x664)](this[_0x3697e8(0x7c4)]+'\x20('+this['instance'][_0x3697e8(0x7c7)]+_0x3697e8(0x701));}}catch(_0x20f56d){let _0x42b213={'error':!0x0,'errorLog':_0x20f56d instanceof Error?_0x20f56d[_0x3697e8(0x577)]:JSON[_0x3697e8(0x716)](_0x20f56d,null,0x2)};this['updateConversation'](_0x5c9b8a,_0x4388f9,_0x42b213),this[_0x3697e8(0x69c)][_0x3697e8(0x664)](this['instanceName']+'\x20('+this[_0x3697e8(0x45a)][_0x3697e8(0x7c7)]+_0x3697e8(0x4ce)+(_0x20f56d instanceof Error?_0x20f56d[_0x3697e8(0x577)]:JSON[_0x3697e8(0x716)](_0x20f56d,null,0x2)));}}async[a0_0xa27d39(0x6aa)](_0x106471,_0x9a840e){const _0x121d85=a0_0xa27d39;this[_0x121d85(0x69c)][_0x121d85(0x6c3)](this['instanceName']+'\x20('+this[_0x121d85(0x45a)][_0x121d85(0x7c7)]+_0x121d85(0x65d));let _0x1fc2b3=_0x106471[_0x121d85(0x6ef)][_0x121d85(0x4dd)]['find'](_0x47d3ca=>_0x47d3ca[_0x121d85(0x6d7)][_0x121d85(0x412)]()===_0x9a840e['uazapi'][_0x121d85(0x6d7)][_0x121d85(0x412)]()),_0xd2c874={'id':_0x1fc2b3[_0x121d85(0x6d1)],'remoteJid':_0x1fc2b3['remoteJid'],'fromMe':_0x1fc2b3[_0x121d85(0x58f)]};try{let _0x1901eb=await this['deleteMessage'](_0xd2c874);if(_0x1901eb){let _0x56fb40=(0x0,w[_0x121d85(0x6c8)])(_0x1901eb[_0x121d85(0x577)]),_0x1c2f4c=(0x0,w[_0x121d85(0x1e8)])(_0x56fb40);_0x106471[_0x121d85(0x6ef)][_0x121d85(0x362)]=_0x9a840e['_id'][_0x121d85(0x412)]();let {message_normalized:_0x1b46f4}=this['normalizeMessage'](_0x56fb40,_0x1c2f4c,null);_0x106471[_0x121d85(0x6ef)][_0x121d85(0x1df)]=await _0x1b46f4;let _0x53a1c0={};this['updateConversation'](_0x106471,_0x9a840e,_0x53a1c0);}else{let _0x1c1548={'error':!0x0};this[_0x121d85(0x250)](_0x106471,_0x9a840e,_0x1c1548),this['logger'][_0x121d85(0x664)](this[_0x121d85(0x7c4)]+'\x20('+this['instance'][_0x121d85(0x7c7)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x1a5c6a){let _0x39ed94={'error':!0x0,'errorLog':_0x1a5c6a instanceof Error?_0x1a5c6a['message']:JSON[_0x121d85(0x716)](_0x1a5c6a,null,0x2)};this[_0x121d85(0x250)](_0x106471,_0x9a840e,_0x39ed94),this[_0x121d85(0x69c)][_0x121d85(0x664)](this[_0x121d85(0x7c4)]+'\x20('+this[_0x121d85(0x45a)][_0x121d85(0x7c7)]+_0x121d85(0x5d7)+(_0x1a5c6a instanceof Error?_0x1a5c6a['message']:JSON[_0x121d85(0x716)](_0x1a5c6a,null,0x2)));}}async[a0_0xa27d39(0x854)](_0x4a1ee2,_0x46fe8c){const _0x5c6ee9=a0_0xa27d39;if(_0x4a1ee2[_0x5c6ee9(0x75e)]||(_0x4a1ee2[_0x5c6ee9(0x75e)]=(0x0,X['v4'])()),_0x46fe8c!==Ti&&_0x4a1ee2?.[_0x5c6ee9(0x78a)])throw new m(_0x5c6ee9(0x811));if('_id'in _0x4a1ee2&&_0x5c6ee9(0x57a)in _0x4a1ee2)return this[_0x5c6ee9(0x7ce)](_0x4a1ee2[_0x5c6ee9(0x57a)],_0x4a1ee2[_0x5c6ee9(0x580)]);this[_0x5c6ee9(0x69c)][_0x5c6ee9(0x6c3)](this['instanceName']+'\x20('+this['instance'][_0x5c6ee9(0x7c7)]+_0x5c6ee9(0x3fb));let _0x46c6d2=this['getUniqueFlowName'](_0x4a1ee2[_0x5c6ee9(0x75e)]),_0x39d58a=new fe['Types'][(_0x5c6ee9(0x49f))](),_0x3cd17d={'_id':_0x39d58a,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x3d73f7={'_id':new fe[(_0x5c6ee9(0x8a2))]['ObjectId'](),'order':0x1,'groupId':_0x39d58a[_0x5c6ee9(0x412)](),'type':'start'},_0xf14f8d=this[_0x5c6ee9(0x45a)][_0x5c6ee9(0x7c7)],_0x4082ff={'_id':(0x0,X['v4'])(),'owner':_0xf14f8d,'name':_0x46c6d2,'whoCanEdit':[_0xf14f8d],'whoCanUse':[_0xf14f8d],'groups':[_0x3cd17d],'blocks':[_0x3d73f7],..._0x4a1ee2};try{let _0x3e4010=await this[_0x5c6ee9(0x4f0)][_0x5c6ee9(0x6b3)][_0x5c6ee9(0x557)](_0x4082ff);return await this[_0x5c6ee9(0x905)](),_0x3e4010;}catch(_0x17c626){let _0x57d784=_0x5c6ee9(0x34c),_0x5da91d=_0x17c626 instanceof Error?_0x17c626[_0x5c6ee9(0x577)]:typeof _0x17c626==_0x5c6ee9(0x3e2)?JSON['stringify'](_0x17c626):_0x17c626,_0x12f0b3=_0x57d784+':\x20'+_0x5da91d;throw this[_0x5c6ee9(0x69c)][_0x5c6ee9(0x664)](this[_0x5c6ee9(0x7c4)]+'\x20('+this['instance'][_0x5c6ee9(0x7c7)]+'):\x20'+_0x12f0b3),new m(_0x12f0b3);}}async['AddUserFlow'](_0x5c3ee2,_0x3ad55d){const _0x2d889c=a0_0xa27d39;try{this[_0x2d889c(0x69c)][_0x2d889c(0x6c3)](this[_0x2d889c(0x7c4)]+'\x20('+this[_0x2d889c(0x45a)][_0x2d889c(0x7c7)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x2d6fc9=await this[_0x2d889c(0x4f0)]['flow'][_0x2d889c(0x25d)]({'where':{'_id':_0x3ad55d,'owner':_0x5c3ee2}});if(!_0x2d6fc9)throw new m(_0x2d889c(0x746));if(_0x2d6fc9[_0x2d889c(0x705)]===!0x1&&!_0x2d6fc9[_0x2d889c(0x78a)])throw new m(_0x2d889c(0x1e3));let _0x25f265=new Set(_0x2d6fc9['whoCanUse']??[]);_0x25f265['add'](this[_0x2d889c(0x45a)][_0x2d889c(0x7c7)]);let _0x4d33f8=await this['repository'][_0x2d889c(0x6b3)]['updateOne'](_0x3ad55d,{..._0x2d6fc9,'whoCanUse':Array[_0x2d889c(0x396)](_0x25f265)});return await this['synchronizeAndMapFlows'](),_0x4d33f8;}catch(_0x3031ef){let _0x5282dd='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x41e513=_0x3031ef instanceof Error?_0x3031ef[_0x2d889c(0x577)]:typeof _0x3031ef==_0x2d889c(0x3e2)?JSON['stringify'](_0x3031ef):_0x3031ef,_0x33b946=_0x5282dd+':\x20'+_0x41e513;throw this['logger'][_0x2d889c(0x664)](this[_0x2d889c(0x7c4)]+'\x20('+this['instance']['wuid']+_0x2d889c(0x7cd)+_0x33b946),new m(_0x33b946);}}['getUniqueFlowName'](_0x2c5971){const _0x2e86bf=a0_0xa27d39;let _0x30825d=_0x2c5971,_0x3ff1de=0x1;for(;this[_0x2e86bf(0x278)][_0x2e86bf(0x4b1)][_0x2e86bf(0x55e)](_0x2147f8=>_0x2147f8[_0x2e86bf(0x75e)]===_0x30825d);)_0x3ff1de++,_0x30825d=_0x2c5971+'\x20('+_0x3ff1de+')';return _0x30825d;}async['deleteFlow'](_0x1bf72e){const _0x1a850c=a0_0xa27d39;try{if(this[_0x1a850c(0x69c)]['verbose'](this[_0x1a850c(0x7c4)]+'\x20('+this['instance']['wuid']+_0x1a850c(0x8ed)+_0x1bf72e['_id']+_0x1a850c(0x462)+_0x1bf72e[_0x1a850c(0x636)]),!this['AutomateSystem'][_0x1a850c(0x4b1)][_0x1a850c(0x678)](_0x37e548=>_0x37e548[_0x1a850c(0x580)]===_0x1bf72e['_id']))throw this[_0x1a850c(0x69c)][_0x1a850c(0x6c3)](this[_0x1a850c(0x7c4)]+'\x20('+this[_0x1a850c(0x45a)][_0x1a850c(0x7c7)]+_0x1a850c(0x4d3)+_0x1bf72e[_0x1a850c(0x580)]+_0x1a850c(0x819)),new m(_0x1a850c(0x2d5));let _0x276394=await this[_0x1a850c(0x4f0)][_0x1a850c(0x6b3)][_0x1a850c(0x25d)]({'where':{'_id':_0x1bf72e[_0x1a850c(0x580)]}});if(!_0x276394)throw new m(_0x1a850c(0x423));if(this[_0x1a850c(0x45a)]['wuid']===_0x276394[_0x1a850c(0x57a)]){this[_0x1a850c(0x69c)][_0x1a850c(0x6c3)](this['instanceName']+'\x20('+this[_0x1a850c(0x45a)]['wuid']+_0x1a850c(0x85e)+_0x1bf72e[_0x1a850c(0x580)]+_0x1a850c(0x345));let _0x5b6dfb=await this[_0x1a850c(0x4f0)][_0x1a850c(0x6b3)]['deleteOne']({'where':{'_id':_0x1bf72e[_0x1a850c(0x580)]}});return await this[_0x1a850c(0x905)](),_0x5b6dfb;}return this[_0x1a850c(0x69c)][_0x1a850c(0x6c3)](this[_0x1a850c(0x7c4)]+'\x20('+this['instance'][_0x1a850c(0x7c7)]+_0x1a850c(0x72a)+this[_0x1a850c(0x45a)][_0x1a850c(0x7c7)]+_0x1a850c(0x503)+_0x1bf72e['_id']+'\x27...'),_0x276394[_0x1a850c(0x21d)]=(_0x276394[_0x1a850c(0x21d)]??[])[_0x1a850c(0x842)](_0x59101f=>_0x59101f!==this[_0x1a850c(0x45a)][_0x1a850c(0x7c7)]),_0x276394[_0x1a850c(0x26f)]=(_0x276394['whoCanEdit']??[])[_0x1a850c(0x842)](_0x216dbb=>_0x216dbb!==this[_0x1a850c(0x45a)]['wuid']),_0x276394[_0x1a850c(0x26f)][_0x1a850c(0x3a7)]===0x0&&_0x276394['whoCanUse'][_0x1a850c(0x3a7)]>0x0&&(_0x276394[_0x1a850c(0x26f)][_0x1a850c(0x898)](_0x276394['whoCanUse'][0x0]),this[_0x1a850c(0x69c)]['verbose'](this[_0x1a850c(0x7c4)]+'\x20('+this['instance'][_0x1a850c(0x7c7)]+'):\x20Adicionando\x20\x27'+_0x276394['whoCanUse'][0x0]+_0x1a850c(0x7f0)+_0x1bf72e[_0x1a850c(0x580)]+_0x1a850c(0x3dc))),await this[_0x1a850c(0x4f0)]['flow'][_0x1a850c(0x45c)](_0x276394['_id'],_0x276394),await this['synchronizeAndMapFlows'](),{'message':'Fluxo\x20\x27'+_0x1bf72e[_0x1a850c(0x75e)]+_0x1a850c(0x658)};}catch(_0x58350f){return this[_0x1a850c(0x69c)]['error'](this[_0x1a850c(0x7c4)]+'\x20('+this[_0x1a850c(0x45a)]['wuid']+_0x1a850c(0x309)+(_0x58350f instanceof Error?_0x58350f[_0x1a850c(0x577)]:JSON['stringify'](_0x58350f,null,0x2))),{'message':_0x1a850c(0x63a)+(_0x58350f instanceof Error?_0x58350f['message']:JSON[_0x1a850c(0x716)](_0x58350f,null,0x2))};}}async[a0_0xa27d39(0x552)](_0x5a7b42){const _0x2864cb=a0_0xa27d39;try{if(this[_0x2864cb(0x69c)][_0x2864cb(0x6c5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2864cb(0x504)+_0x5a7b42),!this[_0x2864cb(0x278)]&&(await this[_0x2864cb(0x391)](),!this[_0x2864cb(0x278)]))return null;let _0x1f9164=await this[_0x2864cb(0x4f0)]['flow']['findOne']({'where':{'_id':_0x5a7b42}});if(!_0x1f9164)throw new m('Fluxo\x20id\x20\x27'+_0x5a7b42+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0x1f9164['globalShow']||_0x1f9164['whoCanUse']?.['includes'](this[_0x2864cb(0x45a)][_0x2864cb(0x7c7)])))throw new m(_0x2864cb(0x1d8)+name+'\x27');_0x1f9164['globalShow']&&!_0x1f9164[_0x2864cb(0x21d)]?.[_0x2864cb(0x855)](this['instance'][_0x2864cb(0x7c7)])&&(_0x1f9164[_0x2864cb(0x21d)]=[..._0x1f9164['whoCanUse']??[],this[_0x2864cb(0x45a)][_0x2864cb(0x7c7)]],await this[_0x2864cb(0x4f0)][_0x2864cb(0x6b3)]['updateOne'](_0x1f9164[_0x2864cb(0x580)],_0x1f9164),this['synchronizeAndMapFlows']());let _0x3dd9e1=this[_0x2864cb(0x278)]?.[_0x2864cb(0x67a)][_0x2864cb(0x59b)](_0x33de7d=>_0x33de7d[_0x2864cb(0x75e)]),_0x3362a7=[_0x2864cb(0x7a6),'nomecompleto',_0x2864cb(0x74e),'cpf',_0x2864cb(0x492),_0x2864cb(0x3e5),_0x2864cb(0x6ca),_0x2864cb(0x1ce),_0x2864cb(0x33e),_0x2864cb(0x212),_0x2864cb(0x68f)];_0x1f9164[_0x2864cb(0x62b)]=_0x1f9164[_0x2864cb(0x62b)][_0x2864cb(0x842)](_0x17b37b=>!(_0x17b37b[_0x2864cb(0x623)]==='leadInfo'||_0x17b37b['leadInfo'])),_0x3362a7[_0x2864cb(0x888)](_0xf6da75=>{const _0x3aee4e=_0x2864cb;_0x1f9164[_0x3aee4e(0x62b)][_0x3aee4e(0x898)]({'folder':_0x3aee4e(0x732),'name':_0xf6da75,'value':'','doc':'','leadInfo':!0x0});}),_0x3dd9e1[_0x2864cb(0x888)](_0x5e3b27=>{const _0x39c524=_0x2864cb;let _0x297763=_0x1f9164[_0x39c524(0x62b)][_0x39c524(0x61c)](_0x932096=>_0x932096[_0x39c524(0x75e)]===_0x5e3b27);_0x297763===-0x1?_0x1f9164[_0x39c524(0x62b)][_0x39c524(0x898)]({'folder':_0x39c524(0x732),'name':_0x5e3b27,'value':'','doc':'','leadInfo':!0x0}):(_0x1f9164[_0x39c524(0x62b)][_0x297763][_0x39c524(0x623)]='leadInfo',_0x1f9164[_0x39c524(0x62b)][_0x297763]['leadInfo']=!0x0);}),_0x1f9164[_0x2864cb(0x30b)]&&_0x1f9164[_0x2864cb(0x30b)]['length']>0x0&&_0x1f9164[_0x2864cb(0x30b)]['forEach'](_0x109d08=>{const _0x5a395a=_0x2864cb;_0x109d08[_0x5a395a(0x3a0)]&&_0x109d08[_0x5a395a(0x55a)]&&_0x109d08[_0x5a395a(0x3a0)]===_0x109d08['next_groupId']&&(_0x109d08[_0x5a395a(0x55a)]=null);});let _0x3f5f84=await this[_0x2864cb(0x4f0)][_0x2864cb(0x6b3)]['updateOne'](_0x1f9164[_0x2864cb(0x580)],_0x1f9164);if(!_0x3f5f84)throw new Error(_0x2864cb(0x578));return _0x3f5f84;}catch(_0x105ea2){let _0x4bd8ba='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x599b48=_0x105ea2 instanceof Error?_0x105ea2[_0x2864cb(0x577)]:typeof _0x105ea2==_0x2864cb(0x3e2)?JSON[_0x2864cb(0x716)](_0x105ea2):_0x105ea2,_0x1a7234=_0x4bd8ba+':\x20'+_0x599b48;throw this[_0x2864cb(0x69c)][_0x2864cb(0x664)](this[_0x2864cb(0x7c4)]+'\x20('+this[_0x2864cb(0x45a)][_0x2864cb(0x7c7)]+_0x2864cb(0x7cd)+_0x1a7234),new m(_0x1a7234);}}async['allFlows'](){const _0x317dab=a0_0xa27d39;try{this[_0x317dab(0x69c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x317dab(0x7c7)]+_0x317dab(0x7b0)),await this['synchronizeAndMapFlows']();let _0xd6cbd2=await this['repository']['flow']['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x317dab(0x278)]['flows'],..._0xd6cbd2];}catch(_0x25afc0){return this['logger'][_0x317dab(0x664)](this[_0x317dab(0x7c4)]+'\x20('+this[_0x317dab(0x45a)][_0x317dab(0x7c7)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x25afc0 instanceof Error?_0x25afc0['message']:JSON['stringify'](_0x25afc0,null,0x2))),{'message':_0x317dab(0x1dc)+(_0x25afc0 instanceof Error?_0x25afc0[_0x317dab(0x577)]:String(_0x25afc0))};}}async[a0_0xa27d39(0x20c)](_0x3162fd,_0x45af17){const _0x39b601=a0_0xa27d39;try{this[_0x39b601(0x69c)][_0x39b601(0x6c3)](this[_0x39b601(0x7c4)]+'\x20('+this[_0x39b601(0x45a)][_0x39b601(0x7c7)]+_0x39b601(0x3cb));let _0x318730=this[_0x39b601(0x278)][_0x39b601(0x4b1)]['find'](_0x292824=>_0x292824['_id']===_0x3162fd[_0x39b601(0x580)]);if(!_0x318730)throw this[_0x39b601(0x69c)][_0x39b601(0x6c3)](this[_0x39b601(0x7c4)]+'\x20('+this['instance'][_0x39b601(0x7c7)]+_0x39b601(0x4d3)+_0x3162fd[_0x39b601(0x580)]+_0x39b601(0x819)),new m(_0x39b601(0x2d5));let _0x4b7412=await this[_0x39b601(0x4f0)]['flow'][_0x39b601(0x25d)]({'where':{'_id':_0x3162fd[_0x39b601(0x580)]}});if(!_0x4b7412||!_0x4b7412['whoCanUse']?.['includes'](this[_0x39b601(0x45a)]['wuid']))throw this[_0x39b601(0x69c)][_0x39b601(0x664)](this[_0x39b601(0x7c4)]+'\x20('+this[_0x39b601(0x45a)]['wuid']+_0x39b601(0x707)+_0x3162fd[_0x39b601(0x580)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x39b601(0x37d)+_0x3162fd[_0x39b601(0x580)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x23ec72=this[_0x39b601(0x278)]['flows']['findIndex'](_0x4a1ef4=>_0x4a1ef4[_0x39b601(0x580)]===_0x318730[_0x39b601(0x580)]);if(_0x23ec72!==-0x1){let _0x5e28b=this[_0x39b601(0x278)][_0x39b601(0x4b1)][_0x23ec72];if(_0x5e28b[_0x39b601(0x75e)]=_0x3162fd[_0x39b601(0x75e)]??_0x5e28b[_0x39b601(0x75e)],_0x5e28b['default']=_0x3162fd[_0x39b601(0x544)]??_0x5e28b[_0x39b601(0x544)],_0x5e28b['testingWith']=_0x3162fd['testingWith']??_0x5e28b[_0x39b601(0x5f7)],_0x5e28b[_0x39b601(0x59f)]=_0x3162fd['startCommandWord']??_0x5e28b[_0x39b601(0x59f)],_0x5e28b['minutesToClose']=_0x3162fd[_0x39b601(0x7e9)]??_0x5e28b[_0x39b601(0x7e9)],_0x5e28b[_0x39b601(0x52b)]=_0x3162fd[_0x39b601(0x52b)]??_0x5e28b[_0x39b601(0x52b)],_0x3162fd[_0x39b601(0x544)]&&this[_0x39b601(0x278)][_0x39b601(0x4b1)][_0x39b601(0x888)]((_0x3c1c5d,_0x1a9d08)=>{const _0xab8c49=_0x39b601;_0x1a9d08!==_0x23ec72&&(_0x3c1c5d[_0xab8c49(0x544)]=!0x1);}),this[_0x39b601(0x278)]['flows'][_0x23ec72]=_0x5e28b,!await this[_0x39b601(0x4f0)][_0x39b601(0x533)][_0x39b601(0x8e1)]({'flows':this[_0x39b601(0x278)]['flows']},this['instance'][_0x39b601(0x7c7)]))throw new m(_0x39b601(0x51d));}let _0x4fd7a3=[_0x39b601(0x636),_0x39b601(0x7ed),_0x39b601(0x4d1),_0x39b601(0x69f)];for(let _0x2b09cb of _0x4fd7a3)delete _0x3162fd[_0x2b09cb];if(_0x4b7412[_0x39b601(0x26f)]?.['includes'](this[_0x39b601(0x45a)]['wuid'])||(_0x3162fd={'_id':_0x3162fd[_0x39b601(0x580)]}),_0x45af17!==Ti&&_0x3162fd?.[_0x39b601(0x78a)]&&!_0x4b7412?.[_0x39b601(0x78a)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x502c77=new Set(_0x3162fd[_0x39b601(0x26f)]??_0x4b7412['whoCanEdit']);_0x502c77['add'](_0x4b7412[_0x39b601(0x57a)]);let _0x4ea138=new Set(_0x3162fd[_0x39b601(0x21d)]??_0x4b7412['whoCanUse']??[]);_0x502c77[_0x39b601(0x888)](_0x550c6c=>_0x4ea138[_0x39b601(0x761)](_0x550c6c)),_0x4ea138[_0x39b601(0x761)](_0x4b7412['owner']),this[_0x39b601(0x69c)][_0x39b601(0x6c3)](this['instanceName']+'\x20('+this[_0x39b601(0x45a)][_0x39b601(0x7c7)]+_0x39b601(0x548)+Array['from'](_0x502c77)),this[_0x39b601(0x69c)]['verbose'](this[_0x39b601(0x7c4)]+'\x20('+this['instance'][_0x39b601(0x7c7)]+_0x39b601(0x53d)+Array[_0x39b601(0x396)](_0x4ea138));let _0x3ac164=await this[_0x39b601(0x47d)](Array[_0x39b601(0x396)](_0x4ea138)),_0x167fd6=Array[_0x39b601(0x396)](_0x502c77)[_0x39b601(0x842)](_0x30e909=>_0x3ac164[_0x39b601(0x855)](_0x30e909)),_0xddce3d=Array[_0x39b601(0x396)](_0x4ea138)[_0x39b601(0x842)](_0x598c6e=>_0x3ac164['includes'](_0x598c6e));this[_0x39b601(0x69c)][_0x39b601(0x6c3)](this[_0x39b601(0x7c4)]+'\x20('+this[_0x39b601(0x45a)]['wuid']+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x167fd6),this['logger'][_0x39b601(0x6c3)](this[_0x39b601(0x7c4)]+'\x20('+this[_0x39b601(0x45a)]['wuid']+'):\x20whoCanUse\x20after\x20validation:\x20'+_0xddce3d);let _0x39682f={..._0x4b7412,..._0x3162fd,'whoCanEdit':_0x167fd6,'whoCanUse':_0xddce3d},_0xc29870=await this[_0x39b601(0x4f0)]['flow'][_0x39b601(0x45c)](_0x4b7412[_0x39b601(0x580)],_0x39682f);return await this[_0x39b601(0x905)](),_0xc29870;}catch(_0xc85813){let _0x1f84ad=_0x39b601(0x318),_0x5e6620=_0xc85813 instanceof Error?_0xc85813[_0x39b601(0x577)]:typeof _0xc85813==_0x39b601(0x3e2)?JSON[_0x39b601(0x716)](_0xc85813):_0xc85813,_0x3ed782=_0x1f84ad+':\x20'+_0x5e6620;throw this['logger'][_0x39b601(0x664)](this[_0x39b601(0x7c4)]+'\x20('+this['instance'][_0x39b601(0x7c7)]+'):\x20'+_0x3ed782),new m(_0x3ed782);}}async[a0_0xa27d39(0x47d)](_0x4e5c61){const _0x4db63a=a0_0xa27d39;let _0x331e90={'numbers':_0x4e5c61};return(await this['whatsappNumber'](_0x331e90))[_0x4db63a(0x842)](_0x42950a=>_0x42950a[_0x4db63a(0x7f7)])[_0x4db63a(0x59b)](_0x3b597c=>_0x3b597c[_0x4db63a(0x21f)])[_0x4db63a(0x59b)](_0x2d5c2c=>this['extractPhoneNumber'](_0x2d5c2c));}[a0_0xa27d39(0x5d3)](_0x1f64fa){const _0x4b454c=a0_0xa27d39;let _0x5749fd=_0x1f64fa[_0x4b454c(0x1d9)](/\d+/);return _0x5749fd?_0x5749fd[0x0]:'';}async[a0_0xa27d39(0x43d)](_0x2923f5){const _0x3e0d08=a0_0xa27d39;try{if(this['logger'][_0x3e0d08(0x6c3)](this[_0x3e0d08(0x7c4)]+'\x20('+this['instance'][_0x3e0d08(0x7c7)]+_0x3e0d08(0x6e2)),!this[_0x3e0d08(0x278)][_0x3e0d08(0x4b1)][_0x3e0d08(0x678)](_0x1f7aef=>_0x1f7aef['_id']===_0x2923f5[_0x3e0d08(0x580)]))throw this[_0x3e0d08(0x69c)][_0x3e0d08(0x6c3)](this[_0x3e0d08(0x7c4)]+'\x20('+this['instance'][_0x3e0d08(0x7c7)]+_0x3e0d08(0x4d3)+_0x2923f5[_0x3e0d08(0x580)]+_0x3e0d08(0x819)),new m(_0x3e0d08(0x2d5));let _0x3ae09f=await this[_0x3e0d08(0x4f0)][_0x3e0d08(0x6b3)][_0x3e0d08(0x25d)]({'where':{'_id':_0x2923f5[_0x3e0d08(0x580)]}});if(!_0x3ae09f||!_0x3ae09f[_0x3e0d08(0x21d)]?.[_0x3e0d08(0x855)](this[_0x3e0d08(0x45a)][_0x3e0d08(0x7c7)]))throw this['logger'][_0x3e0d08(0x664)](this[_0x3e0d08(0x7c4)]+'\x20('+this['instance']['wuid']+_0x3e0d08(0x707)+_0x2923f5[_0x3e0d08(0x580)]+_0x3e0d08(0x4bc)),new m(_0x3e0d08(0x37d)+_0x2923f5[_0x3e0d08(0x580)]+_0x3e0d08(0x4bc));if(!_0x3ae09f[_0x3e0d08(0x26f)]?.[_0x3e0d08(0x855)](this[_0x3e0d08(0x45a)][_0x3e0d08(0x7c7)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x4c7b21}=_0x2923f5;_0x4c7b21?.[_0x3e0d08(0x306)]?this[_0x3e0d08(0x25a)](_0x3ae09f,_0x2923f5):_0x4c7b21?.[_0x3e0d08(0x5ce)]?this[_0x3e0d08(0x4ba)](_0x3ae09f,_0x2923f5):_0x4c7b21[_0x3e0d08(0x580)]?await this[_0x3e0d08(0x340)](_0x3ae09f,_0x2923f5):this[_0x3e0d08(0x4a8)](_0x3ae09f,_0x2923f5);let _0x32f9e3=await this[_0x3e0d08(0x4f0)][_0x3e0d08(0x6b3)][_0x3e0d08(0x45c)](_0x3ae09f['_id'],_0x3ae09f);if(!_0x32f9e3)throw new Error(_0x3e0d08(0x578));return _0x32f9e3;}catch(_0x1c6105){this['throwAndLogError'](_0x3e0d08(0x21b)+_0x1c6105[_0x3e0d08(0x577)]);}}async['copyBlock'](_0x29e7f3,_0x38e0c8){const _0x2eaf74=a0_0xa27d39;let _0x59c69d=_0x38e0c8[_0x2eaf74(0x61e)][_0x2eaf74(0x580)],_0xa62d50=_0x29e7f3['blocks'][_0x2eaf74(0x678)](_0x13189b=>_0x13189b[_0x2eaf74(0x580)][_0x2eaf74(0x412)]()===_0x59c69d);if(!_0xa62d50){this[_0x2eaf74(0x69c)]['error'](this[_0x2eaf74(0x7c4)]+'\x20('+this[_0x2eaf74(0x45a)]['wuid']+_0x2eaf74(0x6a7)+_0x59c69d+'\x20não\x20encontrado\x20para\x20cópia');return;}this['logger'][_0x2eaf74(0x6c3)](this[_0x2eaf74(0x7c4)]+'\x20('+this['instance'][_0x2eaf74(0x7c7)]+_0x2eaf74(0x466)+JSON[_0x2eaf74(0x716)](_0xa62d50));let _0x13ce18=JSON[_0x2eaf74(0x4ea)](JSON[_0x2eaf74(0x716)](_0xa62d50));_0x13ce18[_0x2eaf74(0x580)]=new fe[(_0x2eaf74(0x544))]['Types'][(_0x2eaf74(0x49f))](),this['logger'][_0x2eaf74(0x6c3)](this['instanceName']+'\x20('+this[_0x2eaf74(0x45a)][_0x2eaf74(0x7c7)]+_0x2eaf74(0x2f0)+JSON[_0x2eaf74(0x716)](_0x13ce18)),_0x29e7f3['blocks'][_0x2eaf74(0x898)](_0x13ce18),this[_0x2eaf74(0x3b5)](_0x29e7f3[_0x2eaf74(0x30b)],_0x13ce18[_0x2eaf74(0x3a0)]);}[a0_0xa27d39(0x497)](_0x44892e){const _0x4516f9=a0_0xa27d39;throw this[_0x4516f9(0x69c)][_0x4516f9(0x664)](this[_0x4516f9(0x7c4)]+'\x20('+this[_0x4516f9(0x45a)][_0x4516f9(0x7c7)]+'):\x20'+_0x44892e),new m(_0x44892e);}['deleteBlock'](_0x8e420e,_0x11a7b3){const _0x2279a4=a0_0xa27d39;let {block:_0x1dad13}=_0x11a7b3;if(_0x1dad13[_0x2279a4(0x302)]===_0x2279a4(0x2bf)){this[_0x2279a4(0x497)](_0x2279a4(0x7a2));return;}if(!_0x1dad13['_id']){this[_0x2279a4(0x497)](_0x2279a4(0x3f2));return;}let _0x30543e=_0x8e420e[_0x2279a4(0x30b)][_0x2279a4(0x678)](_0x2ee2ce=>_0x2ee2ce['_id'][_0x2279a4(0x412)]()===_0x11a7b3[_0x2279a4(0x61e)][_0x2279a4(0x580)][_0x2279a4(0x412)]());if(!_0x30543e){this[_0x2279a4(0x497)](_0x2279a4(0x720)+_0x1dad13['_id']+_0x2279a4(0x203));return;}_0x8e420e[_0x2279a4(0x30b)]=_0x8e420e[_0x2279a4(0x30b)][_0x2279a4(0x842)](_0x474cc9=>_0x474cc9[_0x2279a4(0x580)][_0x2279a4(0x412)]()!==_0x11a7b3[_0x2279a4(0x61e)][_0x2279a4(0x580)]['toString']()),_0x8e420e['conditions']=_0x8e420e[_0x2279a4(0x6e9)][_0x2279a4(0x842)](_0x192e25=>_0x192e25[_0x2279a4(0x6d7)]!==_0x1dad13['_id'][_0x2279a4(0x412)]()),_0x8e420e[_0x2279a4(0x1f3)]=_0x8e420e['varedits']['filter'](_0x389358=>_0x389358[_0x2279a4(0x6d7)]!==_0x1dad13[_0x2279a4(0x580)][_0x2279a4(0x412)]()),_0x8e420e['replyOptions']=_0x8e420e[_0x2279a4(0x301)][_0x2279a4(0x842)](_0x2bf71a=>_0x2bf71a[_0x2279a4(0x6d7)]!==_0x1dad13[_0x2279a4(0x580)][_0x2279a4(0x412)]()),this[_0x2279a4(0x3b5)](_0x8e420e[_0x2279a4(0x30b)],_0x30543e['groupId']);}async[a0_0xa27d39(0x340)](_0x5a8a1b,_0xb2269){const _0x4a729c=a0_0xa27d39;let _0xb3b87b=_0x5a8a1b[_0x4a729c(0x30b)][_0x4a729c(0x61c)](_0x56171d=>_0x56171d[_0x4a729c(0x580)][_0x4a729c(0x412)]()===_0xb2269[_0x4a729c(0x61e)][_0x4a729c(0x580)][_0x4a729c(0x412)]());if(this[_0x4a729c(0x69c)][_0x4a729c(0x6c3)](this[_0x4a729c(0x7c4)]+'\x20('+this['instance'][_0x4a729c(0x7c7)]+_0x4a729c(0x70a)+_0xb3b87b),_0xb3b87b===-0x1){this[_0x4a729c(0x69c)][_0x4a729c(0x6c3)](_0x4a729c(0x720)+_0xb2269[_0x4a729c(0x61e)][_0x4a729c(0x580)]+_0x4a729c(0x2c9));return;}if(_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x302)]===_0x4a729c(0x2bf)){let _0x29fd99=Object[_0x4a729c(0x537)](_0xb2269['block']);if(_0x29fd99['length']>0x2||_0x29fd99[_0x4a729c(0x3a7)]===0x2&&!_0x29fd99[_0x4a729c(0x855)](_0x4a729c(0x55a))){this['throwAndLogError'](_0x4a729c(0x39b));return;}}let _0x537355=_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x3a0)];for(let _0x53fbe9 in _0xb2269['block'])_0xb2269['block'][_0x4a729c(0x685)](_0x53fbe9)&&(_0x5a8a1b['blocks'][_0xb3b87b][_0x53fbe9]=_0xb2269[_0x4a729c(0x61e)][_0x53fbe9]);if(this['logger']['verbose'](this[_0x4a729c(0x7c4)]+'\x20('+this[_0x4a729c(0x45a)][_0x4a729c(0x7c7)]+_0x4a729c(0x339)+JSON[_0x4a729c(0x716)](_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b])),_0x5a8a1b['blocks'][_0xb3b87b][_0x4a729c(0x418)]&&'header'in _0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b]['apirequest']){this[_0x4a729c(0x69c)][_0x4a729c(0x6c3)](this[_0x4a729c(0x7c4)]+'\x20('+this[_0x4a729c(0x45a)][_0x4a729c(0x7c7)]+_0x4a729c(0x7d4));let _0x4f3e8f=JSON[_0x4a729c(0x716)](_0x5a8a1b['blocks'][_0xb3b87b]['apirequest'][_0x4a729c(0x321)],null,0x1);_0x4f3e8f[_0x4a729c(0x3a7)]>0x2&&(_0x4f3e8f=_0x4f3e8f[_0x4a729c(0x39f)](0x1,_0x4f3e8f[_0x4a729c(0x3a7)]-0x1)['trim']()),_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b]['apirequest']['headerString']=_0x4f3e8f;}if(_0x5a8a1b['blocks'][_0xb3b87b][_0x4a729c(0x418)]&&'body'in _0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x418)]&&!(_0x4a729c(0x291)in _0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b]['apirequest'])){this[_0x4a729c(0x69c)][_0x4a729c(0x6c3)](this[_0x4a729c(0x7c4)]+'\x20('+this[_0x4a729c(0x45a)][_0x4a729c(0x7c7)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b]['apirequest'][_0x4a729c(0x325)]=!0x1;let _0x39478d=JSON[_0x4a729c(0x716)](_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x418)][_0x4a729c(0x5f1)],null,0x2);_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x418)]['bodyString']=_0x39478d;}if(_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x418)]&&_0x4a729c(0x291)in _0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x418)]){_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x418)]['bodyStringErrorParse']=!0x1;let _0x5f4af2=_0x5a8a1b['blocks'][_0xb3b87b]['apirequest']['bodyString'],_0x4a5cd1=this[_0x4a729c(0x364)](_0x5f4af2);_0x5a8a1b['blocks'][_0xb3b87b][_0x4a729c(0x418)][_0x4a729c(0x291)]=_0x4a5cd1[_0x4a729c(0x471)],_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x418)][_0x4a729c(0x325)]=_0x4a5cd1[_0x4a729c(0x664)];}let _0x5df126=_0x5a8a1b[_0x4a729c(0x30b)][_0xb3b87b][_0x4a729c(0x3a0)];_0x537355!==_0x5df126?(this[_0x4a729c(0x3b5)](_0x5a8a1b[_0x4a729c(0x30b)],_0x537355),this[_0x4a729c(0x3b5)](_0x5a8a1b[_0x4a729c(0x30b)],_0x5df126)):this[_0x4a729c(0x3b5)](_0x5a8a1b[_0x4a729c(0x30b)],_0x537355);}[a0_0xa27d39(0x364)](_0x4fb124){const _0x25ad68=a0_0xa27d39;let _0x58f2c5='\u205f',_0x45ae7d=!0x1,_0x43962c='';for(let _0x14f594=0x0;_0x14f594<_0x4fb124[_0x25ad68(0x3a7)];_0x14f594++){let _0x427df9=_0x4fb124[_0x14f594];_0x427df9==='\x22'&&(_0x14f594===0x0||_0x4fb124[_0x14f594-0x1]!=='\x5c')&&(_0x45ae7d=!_0x45ae7d),!(!_0x45ae7d&&(_0x427df9==='\x0a'||_0x427df9==='\x20'||_0x427df9===_0x58f2c5))&&(_0x43962c+=_0x427df9);}let _0x10ec87={},_0x407600=9876543210.1234,_0x43d710=_0x43962c[_0x25ad68(0x817)](/\{\{([^}]+)\}\}/g,_0x111424=>{let _0x39fe82=_0x111424,_0x21785c=''+_0x407600;return _0x10ec87[_0x21785c]=_0x39fe82,_0x407600+=0.0001,_0x21785c;}),_0xc748cf='',_0x196242=!0x1;try{let _0x3b9a32=JSON['parse'](_0x43d710);_0xc748cf=JSON[_0x25ad68(0x716)](_0x3b9a32,null,0x2),_0xc748cf=_0xc748cf['replace'](/\n( +)/g,(_0x4ce4da,_0x4f5ae9)=>{const _0x18b384=_0x25ad68;let _0x1cded8=_0x4f5ae9['length'];return'\x0a'+_0x58f2c5[_0x18b384(0x71b)](_0x1cded8*0x2);}),_0xc748cf=_0xc748cf[_0x25ad68(0x817)](/(\d{10,}\.\d+)/g,_0x2ace25=>_0x10ec87[_0x2ace25]||_0x2ace25);}catch(_0x2b30e1){this['logger'][_0x25ad68(0x664)](_0x25ad68(0x614)+_0x2b30e1),_0xc748cf=_0x4fb124,_0x196242=!0x0;}return{'result':_0xc748cf,'error':_0x196242};}[a0_0xa27d39(0x4a8)](_0x41cb57,_0x53127d){const _0x25784b=a0_0xa27d39;if(_0x53127d['block'][_0x25784b(0x302)]===_0x25784b(0x2bf)){this[_0x25784b(0x497)](_0x25784b(0x7b6));return;}if(_0x53127d[_0x25784b(0x61e)][_0x25784b(0x418)]&&_0x25784b(0x321)in _0x53127d[_0x25784b(0x61e)][_0x25784b(0x418)]){this[_0x25784b(0x69c)]['verbose'](this[_0x25784b(0x7c4)]+'\x20('+this[_0x25784b(0x45a)][_0x25784b(0x7c7)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0xf6dbeb=JSON[_0x25784b(0x716)](_0x53127d[_0x25784b(0x61e)][_0x25784b(0x418)][_0x25784b(0x321)],null,0x1);_0xf6dbeb[_0x25784b(0x3a7)]>0x2&&(_0xf6dbeb=_0xf6dbeb['substring'](0x1,_0xf6dbeb['length']-0x1)[_0x25784b(0x6f8)]()),_0x53127d[_0x25784b(0x61e)][_0x25784b(0x418)][_0x25784b(0x2e9)]=_0xf6dbeb;}_0x53127d[_0x25784b(0x61e)][_0x25784b(0x418)]&&_0x25784b(0x5f1)in _0x53127d['block']['apirequest']&&(this[_0x25784b(0x69c)]['verbose'](this[_0x25784b(0x7c4)]+'\x20('+this['instance'][_0x25784b(0x7c7)]+_0x25784b(0x57d)),_0x53127d['block']['apirequest'][_0x25784b(0x291)]=JSON[_0x25784b(0x716)](_0x53127d['block'][_0x25784b(0x418)][_0x25784b(0x5f1)],null,0x1)[_0x25784b(0x6f8)]()),_0x41cb57[_0x25784b(0x30b)][_0x25784b(0x898)](_0x53127d['block']),this[_0x25784b(0x3b5)](_0x41cb57['blocks'],_0x53127d[_0x25784b(0x61e)][_0x25784b(0x3a0)]);}[a0_0xa27d39(0x3b5)](_0xd2ea2,_0xda5cf6){const _0x402343=a0_0xa27d39;let _0x1cdff5=_0xd2ea2[_0x402343(0x842)](_0x3bcc34=>_0x3bcc34['groupId']===_0xda5cf6);_0x1cdff5[_0x402343(0x80e)]((_0x602657,_0x3fc6ad)=>_0x602657['order']-_0x3fc6ad[_0x402343(0x513)]),_0x1cdff5[_0x402343(0x888)]((_0x56519f,_0x2a542e)=>_0x56519f[_0x402343(0x513)]=_0x2a542e+0x1);}async[a0_0xa27d39(0x703)](_0x41876b){const _0x17c5d4=a0_0xa27d39;try{if(this[_0x17c5d4(0x69c)][_0x17c5d4(0x6c3)](this[_0x17c5d4(0x7c4)]+'\x20('+this[_0x17c5d4(0x45a)]['wuid']+_0x17c5d4(0x46f)),!_0x41876b||!_0x41876b['replyOption']){this[_0x17c5d4(0x497)]('Data\x20inválida\x20fornecida');return;}if(!this[_0x17c5d4(0x278)][_0x17c5d4(0x4b1)]['find'](_0x1d2f5e=>_0x1d2f5e[_0x17c5d4(0x580)]===_0x41876b['_id']))throw this[_0x17c5d4(0x69c)][_0x17c5d4(0x6c3)](this['instanceName']+'\x20('+this[_0x17c5d4(0x45a)]['wuid']+_0x17c5d4(0x4d3)+_0x41876b['_id']+_0x17c5d4(0x819)),new m(_0x17c5d4(0x2d5));let _0x2899bf=await this['repository'][_0x17c5d4(0x6b3)][_0x17c5d4(0x25d)]({'where':{'_id':_0x41876b['_id']}});if(!_0x2899bf||!_0x2899bf[_0x17c5d4(0x21d)]?.['includes'](this[_0x17c5d4(0x45a)][_0x17c5d4(0x7c7)]))throw this[_0x17c5d4(0x69c)][_0x17c5d4(0x664)](this[_0x17c5d4(0x7c4)]+'\x20('+this['instance'][_0x17c5d4(0x7c7)]+'):\x20Flow\x20\x27'+_0x41876b[_0x17c5d4(0x580)]+_0x17c5d4(0x4bc)),new m(_0x17c5d4(0x37d)+_0x41876b[_0x17c5d4(0x580)]+_0x17c5d4(0x4bc));if(!_0x2899bf['whoCanEdit']?.[_0x17c5d4(0x855)](this[_0x17c5d4(0x45a)][_0x17c5d4(0x7c7)]))throw new m(_0x17c5d4(0x590));let {replyOption:_0x451e14}=_0x41876b;_0x451e14?.[_0x17c5d4(0x5ce)]?(this['deleteReplyOption'](_0x2899bf,_0x41876b),this['reorderReplyOptions'](_0x2899bf['replyOptions'],_0x41876b[_0x17c5d4(0x60c)]['blockId'])):_0x451e14[_0x17c5d4(0x580)]?(await this[_0x17c5d4(0x839)](_0x2899bf,_0x41876b),this['reorderReplyOptions'](_0x2899bf[_0x17c5d4(0x301)],_0x41876b[_0x17c5d4(0x60c)]['blockId'])):(this[_0x17c5d4(0x28c)](_0x2899bf,_0x41876b),this[_0x17c5d4(0x4f6)](_0x2899bf[_0x17c5d4(0x301)],_0x41876b[_0x17c5d4(0x60c)][_0x17c5d4(0x6d7)]));let _0x21054b=await this[_0x17c5d4(0x4f0)][_0x17c5d4(0x6b3)][_0x17c5d4(0x45c)](_0x2899bf[_0x17c5d4(0x580)],_0x2899bf);if(!_0x21054b)throw new Error(_0x17c5d4(0x578));return _0x21054b;}catch(_0x33f2fe){this['throwAndLogError'](_0x17c5d4(0x288)+_0x33f2fe);}}['reorderReplyOptions'](_0x25e400,_0x19fcc4){const _0xebc12c=a0_0xa27d39;_0x25e400[_0xebc12c(0x888)](_0x39ea78=>{const _0x5510d2=_0xebc12c;_0x39ea78[_0x5510d2(0x6d7)]===_0x19fcc4&&_0x39ea78[_0x5510d2(0x513)]===void 0x0&&(_0x39ea78[_0x5510d2(0x513)]=0x270f);});let _0x1c4880=_0x25e400['filter'](_0x12e2d1=>_0x12e2d1[_0xebc12c(0x6d7)]===_0x19fcc4);_0x1c4880[_0xebc12c(0x80e)]((_0x2ac51d,_0x1c1aea)=>_0x2ac51d[_0xebc12c(0x513)]-_0x1c1aea[_0xebc12c(0x513)]),_0x1c4880[_0xebc12c(0x888)]((_0x1a7dc9,_0x27d81f)=>{_0x1a7dc9['order']=_0x27d81f+0x1;}),_0x25e400[_0xebc12c(0x888)](_0x3b92df=>{const _0xe63165=_0xebc12c;if(_0x3b92df[_0xe63165(0x6d7)]===_0x19fcc4){let _0x26d26f=_0x1c4880[_0xe63165(0x678)](_0x6b7d1=>_0x6b7d1[_0xe63165(0x580)]&&_0x3b92df['_id']&&_0x6b7d1[_0xe63165(0x580)][_0xe63165(0x412)]()===_0x3b92df[_0xe63165(0x580)][_0xe63165(0x412)]());_0x26d26f&&(_0x3b92df[_0xe63165(0x513)]=_0x26d26f[_0xe63165(0x513)]);}});}['deleteReplyOption'](_0xab0439,_0xd405d5){const _0x49cd21=a0_0xa27d39;let {replyOption:_0x577b7f}=_0xd405d5;if(!_0x577b7f[_0x49cd21(0x580)]){this[_0x49cd21(0x497)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0xab0439[_0x49cd21(0x301)][_0x49cd21(0x678)](_0x27182a=>_0x27182a[_0x49cd21(0x580)]['toString']()===_0xd405d5[_0x49cd21(0x60c)][_0x49cd21(0x580)]['toString']())){this[_0x49cd21(0x497)](_0x49cd21(0x5b3)+_0x577b7f[_0x49cd21(0x580)]+'\x20não\x20encontrado');return;}_0xab0439[_0x49cd21(0x301)]=_0xab0439[_0x49cd21(0x301)]['filter'](_0xb489d3=>_0xb489d3[_0x49cd21(0x580)][_0x49cd21(0x412)]()!==_0xd405d5['replyOption']['_id'][_0x49cd21(0x412)]());}async['updateReplyOption'](_0x3f7cd1,_0x4b61cb){const _0x37efff=a0_0xa27d39;let _0x4b2164=_0x3f7cd1[_0x37efff(0x301)]['findIndex'](_0x5b2da2=>_0x5b2da2[_0x37efff(0x580)][_0x37efff(0x412)]()===_0x4b61cb[_0x37efff(0x60c)][_0x37efff(0x580)]['toString']());if(_0x4b2164===-0x1){this[_0x37efff(0x497)](_0x37efff(0x5b3)+_0x4b61cb['replyOption'][_0x37efff(0x580)]+_0x37efff(0x2c9));return;}for(let _0x315c6c in _0x4b61cb[_0x37efff(0x60c)])_0x4b61cb[_0x37efff(0x60c)][_0x37efff(0x685)](_0x315c6c)&&(_0x3f7cd1['replyOptions'][_0x4b2164][_0x315c6c]=_0x4b61cb[_0x37efff(0x60c)][_0x315c6c]);}[a0_0xa27d39(0x28c)](_0x139bc5,_0x3a34e3){const _0x2a1765=a0_0xa27d39;_0x139bc5['replyOptions']['push'](_0x3a34e3[_0x2a1765(0x60c)]);}async['editFlowGroup'](_0x514201){const _0x2713ee=a0_0xa27d39;this[_0x2713ee(0x69c)][_0x2713ee(0x6c3)](this['instanceName']+'\x20('+this[_0x2713ee(0x45a)][_0x2713ee(0x7c7)]+_0x2713ee(0x335)+JSON[_0x2713ee(0x716)](_0x514201,null,0x2));try{if(this[_0x2713ee(0x69c)][_0x2713ee(0x6c3)](this[_0x2713ee(0x7c4)]+'\x20('+this['instance']['wuid']+_0x2713ee(0x5f2)),!this['AutomateSystem'][_0x2713ee(0x4b1)][_0x2713ee(0x678)](_0xb4f927=>_0xb4f927[_0x2713ee(0x580)]===_0x514201[_0x2713ee(0x580)]))throw this[_0x2713ee(0x69c)]['verbose'](this['instanceName']+'\x20('+this[_0x2713ee(0x45a)]['wuid']+_0x2713ee(0x4d3)+_0x514201['_id']+'\x27\x20não\x20encontrado'),new m(_0x2713ee(0x2d5));let _0x5c3e16=await this[_0x2713ee(0x4f0)]['flow'][_0x2713ee(0x25d)]({'where':{'_id':_0x514201[_0x2713ee(0x580)]}});if(!_0x5c3e16||!_0x5c3e16[_0x2713ee(0x21d)]?.[_0x2713ee(0x855)](this[_0x2713ee(0x45a)][_0x2713ee(0x7c7)]))throw this[_0x2713ee(0x69c)][_0x2713ee(0x664)](this[_0x2713ee(0x7c4)]+'\x20('+this[_0x2713ee(0x45a)][_0x2713ee(0x7c7)]+'):\x20Flow\x20\x27'+_0x514201[_0x2713ee(0x580)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2713ee(0x37d)+_0x514201[_0x2713ee(0x580)]+_0x2713ee(0x4bc));if(!_0x5c3e16['whoCanEdit']?.[_0x2713ee(0x855)](this[_0x2713ee(0x45a)][_0x2713ee(0x7c7)]))throw new m(_0x2713ee(0x590));if(_0x514201[_0x2713ee(0x4be)]&&_0x514201['group']?.[_0x2713ee(0x5ce)]===!0x0){if(this[_0x2713ee(0x69c)]['verbose'](this[_0x2713ee(0x7c4)]+'\x20('+this[_0x2713ee(0x45a)][_0x2713ee(0x7c7)]+_0x2713ee(0x381)),_0x514201[_0x2713ee(0x4be)][_0x2713ee(0x544)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x5c3e16[_0x2713ee(0x30b)]['some'](_0x17697b=>_0x17697b['groupId'][_0x2713ee(0x412)]()===_0x514201[_0x2713ee(0x4be)][_0x2713ee(0x580)]))return this['logger'][_0x2713ee(0x6c3)](this['instanceName']+'\x20('+this['instance'][_0x2713ee(0x7c7)]+_0x2713ee(0x52c)),{'message':_0x2713ee(0x567)};_0x5c3e16[_0x2713ee(0x25b)]=_0x5c3e16[_0x2713ee(0x25b)][_0x2713ee(0x842)](_0x4c9436=>_0x4c9436[_0x2713ee(0x580)]['toString']()!==_0x514201[_0x2713ee(0x4be)][_0x2713ee(0x580)]);}else{if(_0x514201[_0x2713ee(0x4be)]){if(_0x514201[_0x2713ee(0x4be)][_0x2713ee(0x544)]===!0x0)return{'message':_0x2713ee(0x26d)};if(_0x514201[_0x2713ee(0x4be)][_0x2713ee(0x580)]){let _0x3ac30f=_0x5c3e16[_0x2713ee(0x25b)][_0x2713ee(0x678)](_0x963eaa=>_0x963eaa[_0x2713ee(0x580)][_0x2713ee(0x412)]()===_0x514201[_0x2713ee(0x4be)][_0x2713ee(0x580)]);_0x3ac30f&&(_0x514201[_0x2713ee(0x4be)]['x']<0x0&&(_0x514201['group']['x']=0x0),_0x514201[_0x2713ee(0x4be)]['y']<0x0&&(_0x514201[_0x2713ee(0x4be)]['y']=0x0),Object['assign'](_0x3ac30f,_0x514201[_0x2713ee(0x4be)]));}else _0x5c3e16[_0x2713ee(0x25b)]['push'](_0x514201[_0x2713ee(0x4be)]);}}let _0x33df91=await this['repository'][_0x2713ee(0x6b3)][_0x2713ee(0x45c)](_0x5c3e16[_0x2713ee(0x580)],_0x5c3e16);if(!_0x33df91)throw new Error(_0x2713ee(0x578));return _0x33df91;}catch(_0x325186){let _0x4a97cf=_0x2713ee(0x3c7),_0x208cf1=_0x325186 instanceof Error?_0x325186['message']:typeof _0x325186==_0x2713ee(0x3e2)?JSON[_0x2713ee(0x716)](_0x325186):_0x325186,_0x3ac27c=_0x4a97cf+':\x20'+_0x208cf1;throw this['logger'][_0x2713ee(0x664)](this[_0x2713ee(0x7c4)]+'\x20('+this[_0x2713ee(0x45a)][_0x2713ee(0x7c7)]+_0x2713ee(0x7cd)+_0x3ac27c),new m(_0x3ac27c);}}async[a0_0xa27d39(0x3be)](_0x319b70){const _0xe450d3=a0_0xa27d39;try{if(this['logger'][_0xe450d3(0x6c3)](this['instanceName']+'\x20('+this[_0xe450d3(0x45a)][_0xe450d3(0x7c7)]+_0xe450d3(0x827)),!this['AutomateSystem']['flows'][_0xe450d3(0x678)](_0x2bdcc0=>_0x2bdcc0[_0xe450d3(0x580)]===_0x319b70[_0xe450d3(0x580)]))throw this['logger'][_0xe450d3(0x6c3)](this[_0xe450d3(0x7c4)]+'\x20('+this[_0xe450d3(0x45a)][_0xe450d3(0x7c7)]+_0xe450d3(0x4d3)+_0x319b70[_0xe450d3(0x580)]+_0xe450d3(0x819)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2ca509=await this['repository'][_0xe450d3(0x6b3)][_0xe450d3(0x25d)]({'where':{'_id':_0x319b70[_0xe450d3(0x580)]}});if(!_0x2ca509||!_0x2ca509[_0xe450d3(0x21d)]?.[_0xe450d3(0x855)](this['instance'][_0xe450d3(0x7c7)]))throw this[_0xe450d3(0x69c)][_0xe450d3(0x664)](this['instanceName']+'\x20('+this[_0xe450d3(0x45a)][_0xe450d3(0x7c7)]+'):\x20Flow\x20\x27'+_0x319b70[_0xe450d3(0x580)]+_0xe450d3(0x4bc)),new m(_0xe450d3(0x37d)+_0x319b70[_0xe450d3(0x580)]+_0xe450d3(0x4bc));if(!_0x2ca509[_0xe450d3(0x26f)]?.[_0xe450d3(0x855)](this[_0xe450d3(0x45a)][_0xe450d3(0x7c7)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x434640=!0x1;if(_0x319b70[_0xe450d3(0x836)]?.['delete']===!0x0)_0x2ca509[_0xe450d3(0x6e9)]=_0x2ca509['conditions'][_0xe450d3(0x842)](_0x1fc94b=>_0x1fc94b&&_0x319b70[_0xe450d3(0x836)]&&_0x1fc94b[_0xe450d3(0x580)]&&_0x319b70[_0xe450d3(0x836)][_0xe450d3(0x580)]&&_0x1fc94b[_0xe450d3(0x580)][_0xe450d3(0x412)]()!==_0x319b70['condition'][_0xe450d3(0x580)][_0xe450d3(0x412)]()),_0x434640=!0x0;else{let _0x5d9cd5=_0x2ca509[_0xe450d3(0x6e9)][_0xe450d3(0x678)](_0xd021=>_0xd021&&_0x319b70['condition']&&_0xd021['_id']&&_0x319b70['condition'][_0xe450d3(0x580)]&&_0xd021[_0xe450d3(0x580)][_0xe450d3(0x412)]()===_0x319b70[_0xe450d3(0x836)][_0xe450d3(0x580)][_0xe450d3(0x412)]());_0x5d9cd5?(_0x434640=_0x5d9cd5[_0xe450d3(0x513)]!==_0x319b70[_0xe450d3(0x836)][_0xe450d3(0x513)],Object[_0xe450d3(0x1f5)](_0x5d9cd5,_0x319b70['condition'])):(_0x2ca509[_0xe450d3(0x6e9)]['push'](_0x319b70[_0xe450d3(0x836)]),_0x434640=!0x0);}if(_0x434640){_0x2ca509['conditions'][_0xe450d3(0x80e)]((_0x4802ca,_0x2db041)=>_0x4802ca[_0xe450d3(0x513)]>_0x2db041[_0xe450d3(0x513)]?0x1:_0x2db041[_0xe450d3(0x513)]>_0x4802ca[_0xe450d3(0x513)]?-0x1:0x0);for(let _0x3cf1da=0x0;_0x3cf1da<_0x2ca509[_0xe450d3(0x6e9)]['length'];_0x3cf1da++)_0x2ca509[_0xe450d3(0x6e9)][_0x3cf1da][_0xe450d3(0x513)]=_0x3cf1da+0x1;_0x2ca509[_0xe450d3(0x6e9)][_0xe450d3(0x3a7)]>0x0&&(_0x2ca509[_0xe450d3(0x6e9)][0x0][_0xe450d3(0x642)]='and');}let _0x190696=await this[_0xe450d3(0x4f0)]['flow'][_0xe450d3(0x45c)](_0x2ca509[_0xe450d3(0x580)],_0x2ca509);if(!_0x190696)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x190696;}catch(_0x3fd778){let _0x1690bf='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x310d84=_0x3fd778 instanceof Error?_0x3fd778[_0xe450d3(0x577)]:typeof _0x3fd778==_0xe450d3(0x3e2)?JSON['stringify'](_0x3fd778):_0x3fd778,_0x225d70=_0x1690bf+':\x20'+_0x310d84;throw this[_0xe450d3(0x69c)][_0xe450d3(0x664)](this[_0xe450d3(0x7c4)]+'\x20('+this[_0xe450d3(0x45a)][_0xe450d3(0x7c7)]+_0xe450d3(0x7cd)+_0x225d70),new m(_0x225d70);}}async['editFlowVaredit'](_0x208a44){const _0xc83c28=a0_0xa27d39;try{if(this[_0xc83c28(0x69c)][_0xc83c28(0x6c3)](this[_0xc83c28(0x7c4)]+'\x20('+this[_0xc83c28(0x45a)][_0xc83c28(0x7c7)]+_0xc83c28(0x230)),!this['AutomateSystem'][_0xc83c28(0x4b1)][_0xc83c28(0x678)](_0x3a91da=>_0x3a91da[_0xc83c28(0x580)]===_0x208a44[_0xc83c28(0x580)]))throw this[_0xc83c28(0x69c)]['verbose'](this['instanceName']+'\x20('+this[_0xc83c28(0x45a)][_0xc83c28(0x7c7)]+_0xc83c28(0x4d3)+_0x208a44[_0xc83c28(0x580)]+_0xc83c28(0x819)),new m(_0xc83c28(0x2d5));let _0x1ab7ed=await this['repository']['flow'][_0xc83c28(0x25d)]({'where':{'_id':_0x208a44['_id']}});if(!_0x1ab7ed||!_0x1ab7ed[_0xc83c28(0x21d)]?.[_0xc83c28(0x855)](this[_0xc83c28(0x45a)][_0xc83c28(0x7c7)]))throw this['logger'][_0xc83c28(0x664)](this[_0xc83c28(0x7c4)]+'\x20('+this[_0xc83c28(0x45a)][_0xc83c28(0x7c7)]+'):\x20Flow\x20\x27'+_0x208a44['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x208a44[_0xc83c28(0x580)]+_0xc83c28(0x4bc));if(!_0x1ab7ed['whoCanEdit']?.[_0xc83c28(0x855)](this[_0xc83c28(0x45a)][_0xc83c28(0x7c7)]))throw new m(_0xc83c28(0x590));let _0x407ba4=!0x1;if(_0x208a44[_0xc83c28(0x389)]?.['delete']===!0x0)_0x1ab7ed[_0xc83c28(0x1f3)]=_0x1ab7ed[_0xc83c28(0x1f3)]['filter'](_0x2d4748=>_0x2d4748&&_0x208a44[_0xc83c28(0x389)]&&_0x2d4748[_0xc83c28(0x580)]&&_0x208a44[_0xc83c28(0x389)]['_id']&&_0x2d4748[_0xc83c28(0x580)][_0xc83c28(0x412)]()!==_0x208a44['varedit'][_0xc83c28(0x580)][_0xc83c28(0x412)]()),_0x407ba4=!0x0;else{let _0x3ad9c9=_0x1ab7ed[_0xc83c28(0x1f3)][_0xc83c28(0x678)](_0x3b0650=>_0x3b0650&&_0x208a44[_0xc83c28(0x389)]&&_0x3b0650[_0xc83c28(0x580)]&&_0x208a44[_0xc83c28(0x389)]['_id']&&_0x3b0650[_0xc83c28(0x580)]['toString']()===_0x208a44['varedit'][_0xc83c28(0x580)]['toString']());_0x3ad9c9?(_0x407ba4=_0x3ad9c9[_0xc83c28(0x513)]!==_0x208a44[_0xc83c28(0x389)][_0xc83c28(0x513)],Object[_0xc83c28(0x1f5)](_0x3ad9c9,_0x208a44[_0xc83c28(0x389)])):(_0x1ab7ed[_0xc83c28(0x1f3)][_0xc83c28(0x898)](_0x208a44[_0xc83c28(0x389)]),_0x407ba4=!0x0);}if(_0x407ba4){_0x1ab7ed[_0xc83c28(0x1f3)][_0xc83c28(0x80e)]((_0x57bf45,_0x384b21)=>_0x57bf45[_0xc83c28(0x513)]>_0x384b21['order']?0x1:_0x384b21[_0xc83c28(0x513)]>_0x57bf45[_0xc83c28(0x513)]?-0x1:0x0);for(let _0xbc3e6e=0x0;_0xbc3e6e<_0x1ab7ed['varedits']['length'];_0xbc3e6e++)_0x1ab7ed[_0xc83c28(0x1f3)][_0xbc3e6e][_0xc83c28(0x513)]=_0xbc3e6e+0x1;}let _0x1f0100=await this[_0xc83c28(0x4f0)][_0xc83c28(0x6b3)][_0xc83c28(0x45c)](_0x1ab7ed[_0xc83c28(0x580)],_0x1ab7ed);if(!_0x1f0100)throw new Error(_0xc83c28(0x578));return _0x1f0100;}catch(_0x34aaf5){let _0x43eb5c='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x50b41a=_0x34aaf5 instanceof Error?_0x34aaf5['message']:typeof _0x34aaf5==_0xc83c28(0x3e2)?JSON[_0xc83c28(0x716)](_0x34aaf5):_0x34aaf5,_0x5554cd=_0x43eb5c+':\x20'+_0x50b41a;throw this[_0xc83c28(0x69c)]['error'](this['instanceName']+'\x20('+this['instance'][_0xc83c28(0x7c7)]+_0xc83c28(0x7cd)+_0x5554cd),new m(_0x5554cd);}}async[a0_0xa27d39(0x698)](_0x163a5d){const _0x3d2870=a0_0xa27d39;try{if(this[_0x3d2870(0x69c)][_0x3d2870(0x6c3)](this[_0x3d2870(0x7c4)]+'\x20('+this[_0x3d2870(0x45a)]['wuid']+_0x3d2870(0x454)),!this['AutomateSystem']['flows'][_0x3d2870(0x678)](_0x56a867=>_0x56a867[_0x3d2870(0x580)]===_0x163a5d[_0x3d2870(0x580)]))throw this[_0x3d2870(0x69c)][_0x3d2870(0x6c3)](this[_0x3d2870(0x7c4)]+'\x20('+this[_0x3d2870(0x45a)][_0x3d2870(0x7c7)]+'):\x20Fluxo\x20\x27'+_0x163a5d[_0x3d2870(0x580)]+'\x27\x20não\x20encontrado'),new m(_0x3d2870(0x2d5));let _0x535988=await this[_0x3d2870(0x4f0)][_0x3d2870(0x6b3)][_0x3d2870(0x25d)]({'where':{'_id':_0x163a5d[_0x3d2870(0x580)]}});if(!_0x535988||!_0x535988['whoCanUse']?.['includes'](this[_0x3d2870(0x45a)][_0x3d2870(0x7c7)]))throw this[_0x3d2870(0x69c)][_0x3d2870(0x664)](this[_0x3d2870(0x7c4)]+'\x20('+this[_0x3d2870(0x45a)][_0x3d2870(0x7c7)]+_0x3d2870(0x707)+_0x163a5d[_0x3d2870(0x580)]+_0x3d2870(0x4bc)),new m(_0x3d2870(0x37d)+_0x163a5d[_0x3d2870(0x580)]+_0x3d2870(0x4bc));if(!_0x535988['whoCanEdit']?.[_0x3d2870(0x855)](this[_0x3d2870(0x45a)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0x163a5d['variable'][_0x3d2870(0x75e)]=_0x163a5d['variable'][_0x3d2870(0x75e)]['trim'](),_0x163a5d['variable'][_0x3d2870(0x75e)]['startsWith']('_')&&(_0x163a5d[_0x3d2870(0x751)]['name']=_0x163a5d[_0x3d2870(0x751)]['name'][_0x3d2870(0x39f)](0x1)),_0x163a5d['variable'][_0x3d2870(0x75e)]=_0x163a5d['variable'][_0x3d2870(0x75e)][_0x3d2870(0x6f8)]();let _0x10d63c=_0x535988['variables'][_0x3d2870(0x678)](_0x3cdf4d=>_0x3cdf4d['name']===_0x163a5d[_0x3d2870(0x751)][_0x3d2870(0x75e)]);if(_0x10d63c?.['leadInfo']===!0x0)throw new Error(_0x3d2870(0x5d4));if(_0x163a5d[_0x3d2870(0x751)]?.[_0x3d2870(0x5ce)]===!0x0){if(!_0x10d63c)return{'message':_0x3d2870(0x54d)};_0x535988[_0x3d2870(0x62b)]=_0x535988[_0x3d2870(0x62b)][_0x3d2870(0x842)](_0x28d4ab=>_0x28d4ab['name']!==_0x163a5d['variable'][_0x3d2870(0x75e)]);}else _0x10d63c?Object[_0x3d2870(0x1f5)](_0x10d63c,_0x163a5d[_0x3d2870(0x751)]):_0x535988[_0x3d2870(0x62b)][_0x3d2870(0x898)](_0x163a5d[_0x3d2870(0x751)]);let _0x1d932e=await this[_0x3d2870(0x4f0)][_0x3d2870(0x6b3)][_0x3d2870(0x45c)](_0x535988[_0x3d2870(0x580)],_0x535988);if(!_0x1d932e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1d932e;}catch(_0x2ec21a){let _0x2cffc7=_0x3d2870(0x81e),_0xe2a35a=_0x2ec21a instanceof Error?_0x2ec21a[_0x3d2870(0x577)]:typeof _0x2ec21a==_0x3d2870(0x3e2)?JSON[_0x3d2870(0x716)](_0x2ec21a):_0x2ec21a,_0x3e583c=_0x2cffc7+':\x20'+_0xe2a35a;throw this['logger']['error'](this[_0x3d2870(0x7c4)]+'\x20('+this[_0x3d2870(0x45a)]['wuid']+_0x3d2870(0x7cd)+_0x3e583c),new m(_0x3e583c);}}async[a0_0xa27d39(0x7d3)](_0x316f98){const _0x5bd70b=a0_0xa27d39;let _0x4e9de8=null;try{if(!this[_0x5bd70b(0x278)]?.[_0x5bd70b(0x2eb)][_0x5bd70b(0x6c9)])throw new m(_0x5bd70b(0x717));this['logger'][_0x5bd70b(0x6c3)](this[_0x5bd70b(0x7c4)]+'\x20('+this[_0x5bd70b(0x45a)][_0x5bd70b(0x7c7)]+'):\x20Iniciando\x20bot...');let _0x1f46bc=(await this['whatsappNumber']({'numbers':[_0x316f98['remoteJid']]}))[0x0];if(!_0x1f46bc['exists']&&!(0x0,w['isJidGroup'])(_0x1f46bc[_0x5bd70b(0x21f)])&&!_0x1f46bc['jid'][_0x5bd70b(0x855)](_0x5bd70b(0x5b6)))throw _0x4e9de8=JSON[_0x5bd70b(0x716)](_0x1f46bc,null,0x2),new m(_0x1f46bc);let _0xde6717;if(_0x316f98['name']['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x5bd70b(0x60b)](_0x316f98[_0x5bd70b(0x75e)])?_0xde6717=this['AutomateSystem'][_0x5bd70b(0x4b1)][_0x5bd70b(0x678)](_0x5e4683=>_0x5e4683[_0x5bd70b(0x580)]===_0x316f98[_0x5bd70b(0x75e)]):_0xde6717=this[_0x5bd70b(0x278)][_0x5bd70b(0x4b1)]['find'](_0x2de7b1=>_0x2de7b1[_0x5bd70b(0x75e)]===_0x316f98[_0x5bd70b(0x75e)]),!_0xde6717)throw this[_0x5bd70b(0x69c)][_0x5bd70b(0x6c3)](this[_0x5bd70b(0x7c4)]+'\x20('+this[_0x5bd70b(0x45a)]['wuid']+'):\x20Fluxo\x20\x27'+_0x316f98[_0x5bd70b(0x75e)]+_0x5bd70b(0x819)),new m(_0x5bd70b(0x2d5));let _0x9f183b=await this[_0x5bd70b(0x4f0)][_0x5bd70b(0x6b3)][_0x5bd70b(0x25d)]({'where':{'_id':_0xde6717[_0x5bd70b(0x580)]}});if(!_0x9f183b||!_0x9f183b[_0x5bd70b(0x21d)]?.[_0x5bd70b(0x855)](this[_0x5bd70b(0x45a)]['wuid']))throw this['logger'][_0x5bd70b(0x664)](this[_0x5bd70b(0x7c4)]+'\x20('+this['instance'][_0x5bd70b(0x7c7)]+'):\x20Flow\x20\x27'+_0xde6717[_0x5bd70b(0x580)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x4e9de8='Flow\x20\x27'+_0xde6717[_0x5bd70b(0x580)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x4e9de8);let _0x173308=await this['createConversationforStartFlow'](_0x9f183b,_0x1f46bc['jid'],_0x316f98[_0x5bd70b(0x455)]);if(_0x173308){this[_0x5bd70b(0x69c)]['verbose'](this[_0x5bd70b(0x7c4)]+'\x20('+this['instance'][_0x5bd70b(0x7c7)]+_0x5bd70b(0x84e));let _0x277a29=await this[_0x5bd70b(0x86e)](_0x173308);return _0x277a29&&await this[_0x5bd70b(0x67c)](_0x173308,_0x277a29),{'message':'Flow\x20iniciado\x20com\x20'+_0x316f98[_0x5bd70b(0x5a2)]};}}catch(_0x59a4ef){if(this['logger'][_0x5bd70b(0x664)](this['instanceName']+'\x20('+this[_0x5bd70b(0x45a)][_0x5bd70b(0x7c7)]+_0x5bd70b(0x527)+(_0x59a4ef instanceof Error?_0x59a4ef[_0x5bd70b(0x577)]:JSON['stringify'](_0x59a4ef,null,0x2))),_0x4e9de8=_0x59a4ef instanceof Error?_0x59a4ef[_0x5bd70b(0x577)]:JSON[_0x5bd70b(0x716)](_0x59a4ef,null,0x2),_0x4e9de8)throw new m(_0x5bd70b(0x2df)+_0x4e9de8);}}async[a0_0xa27d39(0x404)](_0xb542bb,_0x3982c3,_0x539247){const _0x3ab3ab=a0_0xa27d39;let _0x46590e=null;try{if(!this['AutomateSystem']?.[_0x3ab3ab(0x2eb)][_0x3ab3ab(0x6c9)])throw new m(_0x3ab3ab(0x717));if(this[_0x3ab3ab(0x69c)][_0x3ab3ab(0x6c3)](this[_0x3ab3ab(0x7c4)]+'\x20('+this[_0x3ab3ab(0x45a)][_0x3ab3ab(0x7c7)]+_0x3ab3ab(0x315)),_0x3982c3){let _0x245c2f=(await this[_0x3ab3ab(0x286)]({'numbers':[_0x3982c3]}))[0x0];if(!_0x245c2f[_0x3ab3ab(0x7f7)]&&!(0x0,w['isJidGroup'])(_0x245c2f[_0x3ab3ab(0x21f)])&&!_0x245c2f[_0x3ab3ab(0x21f)]['includes'](_0x3ab3ab(0x5b6)))throw _0x46590e=JSON[_0x3ab3ab(0x716)](_0x245c2f,null,0x2),new m(_0x245c2f);_0x3982c3=_0x245c2f[_0x3ab3ab(0x21f)];}else _0x3982c3||(_0x3982c3=(0x0,X['v4'])());let _0x5afa47=await this[_0x3ab3ab(0x4f0)][_0x3ab3ab(0x6b3)][_0x3ab3ab(0x25d)]({'where':{'_id':_0xb542bb}});if(!_0x5afa47||!_0x5afa47[_0x3ab3ab(0x21d)]?.[_0x3ab3ab(0x855)](this[_0x3ab3ab(0x45a)][_0x3ab3ab(0x7c7)]))throw this['logger'][_0x3ab3ab(0x664)](this[_0x3ab3ab(0x7c4)]+'\x20('+this['instance'][_0x3ab3ab(0x7c7)]+'):\x20Flow\x20\x27'+_0xb542bb+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0xb542bb+_0x3ab3ab(0x4bc));let _0x56f6fb=await this[_0x3ab3ab(0x452)](_0x5afa47,_0x3982c3,null);if(_0x56f6fb){this[_0x3ab3ab(0x69c)][_0x3ab3ab(0x6c3)](this['instanceName']+'\x20('+this[_0x3ab3ab(0x45a)][_0x3ab3ab(0x7c7)]+_0x3ab3ab(0x432));let _0x42303c;if(_0x539247){let _0x3ecf6b=_0x56f6fb[_0x3ab3ab(0x6ef)][_0x3ab3ab(0x1d5)],_0x54af95=this[_0x3ab3ab(0x8c5)](_0x539247);Object[_0x3ab3ab(0x1f5)](_0x3ecf6b,_0x54af95),_0x56f6fb[_0x3ab3ab(0x6ef)][_0x3ab3ab(0x1d5)]=_0x3ecf6b,_0x42303c={'error':!0x1,'apiResponse':_0x539247};}let _0x191047=await this[_0x3ab3ab(0x86e)](_0x56f6fb);return _0x191047&&await this[_0x3ab3ab(0x67c)](_0x56f6fb,_0x191047),{'message':_0x3ab3ab(0x7dd)};}}catch(_0xeb2380){if(this[_0x3ab3ab(0x69c)][_0x3ab3ab(0x664)](this[_0x3ab3ab(0x7c4)]+'\x20('+this['instance']['wuid']+_0x3ab3ab(0x527)+(_0xeb2380 instanceof Error?_0xeb2380[_0x3ab3ab(0x577)]:JSON[_0x3ab3ab(0x716)](_0xeb2380,null,0x2))),_0x46590e=_0xeb2380 instanceof Error?_0xeb2380[_0x3ab3ab(0x577)]:JSON[_0x3ab3ab(0x716)](_0xeb2380,null,0x2),_0x46590e)throw new m(_0x3ab3ab(0x2df)+_0x46590e);}}async[a0_0xa27d39(0x765)](_0x2babf9){const _0x4333bf=a0_0xa27d39;try{let _0x456a55={'remoteJid':_0x2babf9,'status':_0x4333bf(0x483)},_0xe54d35={'status':_0x4333bf(0x781)},_0x2456c0=await this[_0x4333bf(0x4f0)][_0x4333bf(0x907)][_0x4333bf(0x442)](_0x456a55,_0xe54d35,this[_0x4333bf(0x45a)][_0x4333bf(0x7c7)]);return this[_0x4333bf(0x69c)][_0x4333bf(0x6c3)](this[_0x4333bf(0x7c4)]+'\x20('+this['instance'][_0x4333bf(0x7c7)]+_0x4333bf(0x3bb)),_0x2456c0;}catch(_0x2ecf9b){throw this[_0x4333bf(0x69c)][_0x4333bf(0x664)](this[_0x4333bf(0x7c4)]+'\x20('+this[_0x4333bf(0x45a)]['wuid']+_0x4333bf(0x46a)+_0x2ecf9b[_0x4333bf(0x577)]),_0x2ecf9b;}}async['createConversationforStartFlow'](_0x8dfbad,_0x3408b4,_0x4f7538){const _0x1c2827=a0_0xa27d39;this['logger']['verbose'](this[_0x1c2827(0x7c4)]+'\x20('+this[_0x1c2827(0x45a)][_0x1c2827(0x7c7)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x1c2827(0x765)](_0x3408b4);try{let _0x2b6a29=require('mongodb')['ObjectId'],_0x4e14c6=Date[_0x1c2827(0x27c)](),_0x4fb251=_0x1c2827(0x2bf),_0x346d96={},_0x1bdd7b={},_0x14d3e7=this[_0x1c2827(0x278)][_0x1c2827(0x4b1)][_0x1c2827(0x678)](_0x440e15=>_0x440e15['_id']===_0x8dfbad[_0x1c2827(0x580)]?.['toString']()),_0x4f8fe8=_0x14d3e7?.[_0x1c2827(0x7e9)]??_0x8dfbad[_0x1c2827(0x7e9)]??0x0,_0x13a4a4=_0x14d3e7?.[_0x1c2827(0x52b)]??_0x8dfbad[_0x1c2827(0x52b)]??!0x1,_0x1411d1={'flowId':_0x8dfbad['_id'],..._0x8dfbad,'chatLog':null},_0x44256f=await this[_0x1c2827(0x84f)](_0x1411d1[_0x1c2827(0x62b)]),_0x553f46=await this['getVariablesChat'](_0x3408b4),_0x26bc8d={..._0x44256f,..._0x553f46,'_remoteJid':_0x3408b4},_0x1db781={'lastReceivedMessage':_0x346d96,'lastSendMessage':_0x1bdd7b,'lastBlockId':_0x4fb251,'lastCondition':!0x0,'realVariables':_0x26bc8d};_0x1411d1[_0x1c2827(0x6ef)]=_0x1db781,_0x1411d1['chatLog'][_0x1c2827(0x1d5)]={..._0x26bc8d,..._0x4f7538},delete _0x1411d1[_0x1c2827(0x580)],_0x1411d1[_0x1c2827(0x580)]=new _0x2b6a29(),_0x1411d1[_0x1c2827(0x8c6)]=_0x4e14c6,_0x1411d1[_0x1c2827(0x492)]='open',_0x1411d1[_0x1c2827(0x5a2)]=_0x3408b4,_0x1411d1['minutesToClose']=_0x4f8fe8,_0x1411d1[_0x1c2827(0x52b)]=_0x13a4a4,_0x1411d1[_0x1c2827(0x580)]=_0x8dfbad[_0x1c2827(0x580)];let _0x5434e7=await this[_0x1c2827(0x4f0)]['flowConversation'][_0x1c2827(0x45c)](_0x1411d1[_0x1c2827(0x580)],_0x1411d1,this[_0x1c2827(0x45a)][_0x1c2827(0x7c7)]);return this[_0x1c2827(0x69c)][_0x1c2827(0x6c3)](this['instanceName']+'\x20('+this[_0x1c2827(0x45a)][_0x1c2827(0x7c7)]+_0x1c2827(0x493)),_0x5434e7?_0x1411d1:null;}catch(_0x1dfe42){let _0x3961c9=_0x1c2827(0x6eb),_0x55874f=_0x1dfe42 instanceof Error?_0x1dfe42[_0x1c2827(0x577)]:typeof _0x1dfe42==_0x1c2827(0x3e2)?JSON[_0x1c2827(0x716)](_0x1dfe42):_0x1dfe42,_0x530aa1=_0x3961c9+':\x20'+_0x55874f;throw this['logger'][_0x1c2827(0x664)](this[_0x1c2827(0x7c4)]+'\x20('+this[_0x1c2827(0x45a)][_0x1c2827(0x7c7)]+_0x1c2827(0x7cd)+_0x530aa1),new m(_0x530aa1);}}async['getConversation'](_0x2f380b){const _0x587b0d=a0_0xa27d39;try{this['logger'][_0x587b0d(0x6c3)](this['instanceName']+'\x20('+this[_0x587b0d(0x45a)][_0x587b0d(0x7c7)]+_0x587b0d(0x48b)),this['logger'][_0x587b0d(0x6c3)](this['instanceName']+'\x20('+this[_0x587b0d(0x45a)][_0x587b0d(0x7c7)]+_0x587b0d(0x4f4)+_0x2f380b);let _0x32186d={'where':{'_id':_0x2f380b}};return await this[_0x587b0d(0x4f0)]['flowConversation'][_0x587b0d(0x25d)](_0x32186d,this[_0x587b0d(0x45a)][_0x587b0d(0x7c7)]);}catch(_0x8b9b39){let _0x40efa7=_0x587b0d(0x77f),_0x4a4310=_0x8b9b39 instanceof Error?_0x8b9b39['message']:typeof _0x8b9b39==_0x587b0d(0x3e2)?JSON[_0x587b0d(0x716)](_0x8b9b39):_0x8b9b39,_0x216456=_0x40efa7+':\x20'+_0x4a4310;throw this['logger'][_0x587b0d(0x664)](this['instanceName']+'\x20('+this['instance'][_0x587b0d(0x7c7)]+'):\x20'+_0x216456),new m(_0x216456);}}async['fetchConversation'](_0x1f514a){const _0xd7d2dc=a0_0xa27d39;try{return this['logger'][_0xd7d2dc(0x6c3)](this[_0xd7d2dc(0x7c4)]+'\x20('+this['instance']['wuid']+_0xd7d2dc(0x581)),await this[_0xd7d2dc(0x4f0)][_0xd7d2dc(0x907)][_0xd7d2dc(0x678)](_0x1f514a,this[_0xd7d2dc(0x45a)][_0xd7d2dc(0x7c7)]);}catch(_0x15988b){let _0x319e09=_0xd7d2dc(0x735),_0x4b9803=_0x15988b instanceof Error?_0x15988b[_0xd7d2dc(0x577)]:typeof _0x15988b==_0xd7d2dc(0x3e2)?JSON[_0xd7d2dc(0x716)](_0x15988b):_0x15988b,_0x2731d3=_0x319e09+':\x20'+_0x4b9803;throw this[_0xd7d2dc(0x69c)][_0xd7d2dc(0x664)](this[_0xd7d2dc(0x7c4)]+'\x20('+this[_0xd7d2dc(0x45a)][_0xd7d2dc(0x7c7)]+'):\x20'+_0x2731d3),new m(_0x2731d3);}}async['deleteConversation'](_0x2aacfd){const _0xe5742f=a0_0xa27d39;try{return this[_0xe5742f(0x69c)][_0xe5742f(0x6c3)](this[_0xe5742f(0x7c4)]+'\x20('+this[_0xe5742f(0x45a)][_0xe5742f(0x7c7)]+'):\x20Deletando\x20conversa...'),this[_0xe5742f(0x69c)][_0xe5742f(0x6c3)](this[_0xe5742f(0x7c4)]+'\x20('+this[_0xe5742f(0x45a)]['wuid']+_0xe5742f(0x3cd)+_0x2aacfd),(await this['repository']['flowConversation'][_0xe5742f(0x208)]({'where':{'_id':_0x2aacfd[_0xe5742f(0x580)]}},this[_0xe5742f(0x45a)][_0xe5742f(0x7c7)]))[_0xe5742f(0x39d)]===0x0?{'message':_0xe5742f(0x7be)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x5d6aca){let _0x20da6c=_0xe5742f(0x731),_0x46b388=_0x5d6aca instanceof Error?_0x5d6aca['message']:typeof _0x5d6aca=='object'?JSON[_0xe5742f(0x716)](_0x5d6aca):_0x5d6aca,_0x295a04=_0x20da6c+':\x20'+_0x46b388;throw this[_0xe5742f(0x69c)][_0xe5742f(0x664)](this[_0xe5742f(0x7c4)]+'\x20('+this[_0xe5742f(0x45a)][_0xe5742f(0x7c7)]+_0xe5742f(0x7cd)+_0x295a04),new m(_0x295a04);}}async[a0_0xa27d39(0x616)](_0x24a125){const _0x357c08=a0_0xa27d39;try{let {_id:_0x3618f7,chatLog:_0x5e522a,status:_0xd0d86d}=_0x24a125;if(!_0x3618f7)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x5197fb={};if(_0xd0d86d!==void 0x0&&(_0x5197fb[_0x357c08(0x492)]=_0xd0d86d),Object[_0x357c08(0x537)](_0x5197fb)[_0x357c08(0x3a7)]===0x0)return{'message':_0x357c08(0x5cd)};let _0xe78ca7=await this[_0x357c08(0x4f0)][_0x357c08(0x907)]['updateOne'](_0x3618f7,_0x5197fb,this[_0x357c08(0x45a)]['wuid']);return _0xe78ca7||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x5bc9bf){let _0x34a014='Erro\x20ao\x20editar\x20a\x20conversa',_0x934dfa=_0x5bc9bf instanceof Error?_0x5bc9bf[_0x357c08(0x577)]:typeof _0x5bc9bf==_0x357c08(0x3e2)?JSON[_0x357c08(0x716)](_0x5bc9bf):_0x5bc9bf,_0x7a6978=_0x34a014+':\x20'+_0x934dfa;throw this['logger']['error'](this[_0x357c08(0x7c4)]+'\x20('+this[_0x357c08(0x45a)][_0x357c08(0x7c7)]+_0x357c08(0x7cd)+_0x7a6978),new m(_0x7a6978);}}async['editChat'](_0x58b831){const _0x52db51=a0_0xa27d39;try{_0x58b831['_id']=this['createJid'](_0x58b831['_id']);let _0x2c08f4=await this['repository'][_0x52db51(0x532)]['findOne']({'where':{'_id':_0x58b831[_0x52db51(0x580)]}},this[_0x52db51(0x45a)][_0x52db51(0x7c7)]);if(!_0x2c08f4)throw new m(_0x52db51(0x4c9));let {_id:_0x30db42,leadInfo:_0x501099}=_0x58b831;if(!_0x30db42)throw new Error(_0x52db51(0x55f));if(_0x58b831[_0x52db51(0x5ce)]===_0x52db51(0x873))return await this[_0x52db51(0x66a)](_0x58b831[_0x52db51(0x580)]),await this[_0x52db51(0x4f0)][_0x52db51(0x532)][_0x52db51(0x5ce)]({'where':{'_id':_0x58b831[_0x52db51(0x580)]}},this[_0x52db51(0x45a)][_0x52db51(0x7c7)]),await this[_0x52db51(0x4f0)][_0x52db51(0x577)][_0x52db51(0x5ce)]({'where':{'key':{'remoteJid':_0x58b831[_0x52db51(0x580)]}}},this[_0x52db51(0x45a)][_0x52db51(0x7c7)]),_0x58b831=await this[_0x52db51(0x4f0)][_0x52db51(0x532)][_0x52db51(0x45c)]({'where':{'_id':_0x58b831[_0x52db51(0x580)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x52db51(0x45a)]['wuid']),q(this[_0x52db51(0x7c4)],_0x52db51(0x568),{'chat':_0x58b831}),{'message':_0x52db51(0x2ca)};if(_0x58b831['delete']===_0x52db51(0x89a))return await this[_0x52db51(0x4f0)][_0x52db51(0x577)][_0x52db51(0x5ce)]({'where':{'key':{'remoteJid':_0x58b831[_0x52db51(0x580)]}}},this[_0x52db51(0x45a)][_0x52db51(0x7c7)]),_0x58b831=await this['repository'][_0x52db51(0x532)][_0x52db51(0x45c)]({'where':{'_id':_0x58b831[_0x52db51(0x580)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x52db51(0x45a)][_0x52db51(0x7c7)]),q(this[_0x52db51(0x7c4)],_0x52db51(0x568),{'chat':_0x58b831}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x354304=(_0xb1d463,_0x2f162e,_0x4a4fc0)=>{const _0x53c17c=_0x52db51;_0xb1d463&&_0x4a4fc0[_0x53c17c(0x888)](_0x17b02a=>{const _0x58925c=_0x53c17c;_0xb1d463[_0x17b02a]!==void 0x0&&(_0x2f162e[_0x58925c(0x31b)+_0x17b02a]=_0xb1d463[_0x17b02a]);});},_0x225a6f={};if(_0x52db51(0x2b8)in _0x58b831&&(this['logger'][_0x52db51(0x6c3)](this[_0x52db51(0x7c4)]+'\x20('+this[_0x52db51(0x45a)]['wuid']+_0x52db51(0x8f8)+_0x58b831[_0x52db51(0x580)]),_0x58b831['muteEndTime']=_0x58b831[_0x52db51(0x2b8)]===0x0?null:-0x1,await this[_0x52db51(0x1f1)]['chatModify']({'mute':_0x58b831[_0x52db51(0x2b8)]},_0x58b831[_0x52db51(0x580)]),_0x225a6f[_0x52db51(0x2b8)]=Number(_0x58b831[_0x52db51(0x2b8)])),_0x501099&&(_0x354304(_0x501099,_0x225a6f,[_0x52db51(0x7a6),_0x52db51(0x2fe),_0x52db51(0x74e),_0x52db51(0x21e),_0x52db51(0x492),_0x52db51(0x3e5),_0x52db51(0x1ce),_0x52db51(0x68f),_0x52db51(0x6ca),_0x52db51(0x33e),_0x52db51(0x7b7)]),Array[_0x52db51(0x5b0)](_0x501099[_0x52db51(0x67a)])&&(_0x225a6f['leadInfo.customFields']=_0x501099['customFields'][_0x52db51(0x59b)](_0x55cbbf=>({'_id':_0x55cbbf[_0x52db51(0x580)],'value':_0x55cbbf[_0x52db51(0x556)]}))),_0x58b831[_0x52db51(0x732)][_0x52db51(0x33e)]!==void 0x0)){let _0x4165c1=await this[_0x52db51(0x4f0)][_0x52db51(0x894)][_0x52db51(0x678)]({'where':{}},this['instance'][_0x52db51(0x7c7)]),_0x39f3f3=new Set(_0x58b831['leadInfo'][_0x52db51(0x33e)]||[]),_0x58fb63=new Set(_0x58b831[_0x52db51(0x732)][_0x52db51(0x33e)]),_0x182fb4=new Set(_0x4165c1[_0x52db51(0x59b)](_0x3e2f8d=>_0x3e2f8d[_0x52db51(0x580)])),_0x2defe7=[..._0x58fb63][_0x52db51(0x842)](_0x49b132=>!_0x39f3f3['has'](_0x49b132)&&_0x182fb4[_0x52db51(0x2aa)](_0x49b132)),_0x317fbd=[..._0x39f3f3][_0x52db51(0x842)](_0x4c9c8f=>!_0x58fb63[_0x52db51(0x2aa)](_0x4c9c8f));if(_0x225a6f[_0x52db51(0x349)]=[..._0x39f3f3],_0x2c08f4&&!_0x2c08f4['imported']){for(let _0x20c743 of _0x2defe7)await this[_0x52db51(0x83b)](_0x20c743,_0x58b831[_0x52db51(0x580)]),_0x39f3f3['add'](_0x20c743);for(let _0x524148 of _0x317fbd)await this[_0x52db51(0x3ce)](_0x524148,_0x58b831[_0x52db51(0x580)]),_0x39f3f3[_0x52db51(0x5ce)](_0x524148);}}if(_0x58b831[_0x52db51(0x6d0)]!==void 0x0&&(_0x225a6f['unreadcount']=Number(_0x58b831['unreadcount'])),Object[_0x52db51(0x537)](_0x225a6f)[_0x52db51(0x3a7)]===0x0)throw new Error(_0x52db51(0x5cd));let _0x771996=await this[_0x52db51(0x4f0)][_0x52db51(0x532)]['updateOne']({'where':{'_id':_0x58b831[_0x52db51(0x580)]}},_0x225a6f,this[_0x52db51(0x45a)][_0x52db51(0x7c7)]);return _0x771996&&q(this['instanceName'],'chats',{'chat':_0x771996}),_0x771996?(this[_0x52db51(0x69c)]['verbose'](this[_0x52db51(0x7c4)]+'\x20('+this[_0x52db51(0x45a)]['wuid']+'):\x20'+JSON[_0x52db51(0x716)](_0x771996,null,0x2)),_0x771996):{'message':_0x52db51(0x887)};}catch(_0x255a7f){let _0x39d6c8='Erro\x20ao\x20editar\x20o\x20chat',_0x46d9f2=_0x255a7f instanceof Error?_0x255a7f[_0x52db51(0x577)]:typeof _0x255a7f=='object'?JSON['stringify'](_0x255a7f):_0x255a7f,_0x16c507=_0x39d6c8+':\x20'+_0x46d9f2;throw this[_0x52db51(0x69c)][_0x52db51(0x664)](this['instanceName']+'\x20('+this[_0x52db51(0x45a)]['wuid']+_0x52db51(0x7cd)+_0x16c507),new m(_0x16c507);}}async[a0_0xa27d39(0x83b)](_0x680f8c,_0x52ec3f){const _0x3def23=a0_0xa27d39;try{await this[_0x3def23(0x1f1)][_0x3def23(0x585)](_0x52ec3f,_0x680f8c),this[_0x3def23(0x69c)][_0x3def23(0x6c5)](this[_0x3def23(0x7c4)]+'\x20('+this['instance'][_0x3def23(0x7c7)]+_0x3def23(0x903)+_0x680f8c+_0x3def23(0x319)+_0x52ec3f+'\x20com\x20sucesso.');}catch(_0x113095){this[_0x3def23(0x69c)][_0x3def23(0x664)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x680f8c+_0x3def23(0x730)+_0x52ec3f+':\x20'+_0x113095);}}async[a0_0xa27d39(0x3ce)](_0x5c8979,_0x44f57){const _0x104f82=a0_0xa27d39;try{await this[_0x104f82(0x1f1)]['removeChatLabel'](_0x44f57,_0x5c8979),this[_0x104f82(0x69c)][_0x104f82(0x6c5)](this[_0x104f82(0x7c4)]+'\x20('+this[_0x104f82(0x45a)][_0x104f82(0x7c7)]+_0x104f82(0x903)+_0x5c8979+'\x20removido\x20do\x20chat\x20'+_0x44f57+'\x20com\x20sucesso.');}catch(_0x58ccca){this[_0x104f82(0x69c)][_0x104f82(0x664)]('Erro\x20ao\x20remover\x20label\x20'+_0x5c8979+_0x104f82(0x4e0)+_0x44f57+':\x20'+_0x58ccca);}}async[a0_0xa27d39(0x688)](_0xf10461){const _0x289263=a0_0xa27d39;try{let _0x3c7cd8=await this[_0x289263(0x4f0)][_0x289263(0x533)]['findOrCreate'](this[_0x289263(0x45a)][_0x289263(0x7c7)]),_0x1c172d=_0xf10461[_0x289263(0x580)]?_0x3c7cd8[_0x289263(0x706)][_0x289263(0x61c)](_0x301d62=>_0x301d62[_0x289263(0x580)]===_0xf10461['_id']):-0x1;if(_0xf10461[_0x289263(0x5ce)]&&_0x1c172d>-0x1)_0x3c7cd8[_0x289263(0x706)][_0x289263(0x4cf)](_0x1c172d,0x1);else{if(_0x1c172d>-0x1){let _0x2e8e1b=_0x3c7cd8['agents'][_0x1c172d];_0xf10461[_0x289263(0x373)]&&(_0x2e8e1b[_0x289263(0x373)]=_0xf10461[_0x289263(0x373)]),_0xf10461['name']&&(_0x2e8e1b[_0x289263(0x75e)]=_0xf10461[_0x289263(0x75e)]),_0xf10461[_0x289263(0x74e)]&&(_0x2e8e1b[_0x289263(0x74e)]=_0xf10461[_0x289263(0x74e)]),_0xf10461[_0x289263(0x1ea)]&&(_0x2e8e1b[_0x289263(0x1ea)]=_0xf10461['role']);}else _0x3c7cd8[_0x289263(0x706)][_0x289263(0x898)]({'_id':_0xf10461[_0x289263(0x580)]||new fe[(_0x289263(0x544))][(_0x289263(0x8a2))][(_0x289263(0x49f))]()[_0x289263(0x412)](),'fone':_0xf10461[_0x289263(0x373)],'name':_0xf10461[_0x289263(0x75e)],'email':_0xf10461[_0x289263(0x74e)],'role':_0xf10461[_0x289263(0x1ea)]});}let _0x58adb4={'agents':_0x3c7cd8['agents']},_0x5a0141=await this[_0x289263(0x4f0)][_0x289263(0x533)][_0x289263(0x8e1)](_0x58adb4,this[_0x289263(0x45a)][_0x289263(0x7c7)]);return this[_0x289263(0x278)]=_0x5a0141,this[_0x289263(0x69c)][_0x289263(0x6c3)](this[_0x289263(0x7c4)]+'\x20('+this[_0x289263(0x45a)]['wuid']+_0x289263(0x681)),this[_0x289263(0x69c)]['verbose'](this[_0x289263(0x7c4)]+'\x20('+this['instance'][_0x289263(0x7c7)]+'):\x20'+this[_0x289263(0x278)]),_0x5a0141;}catch(_0x48e234){let _0x49139b=_0x289263(0x597),_0xe847fb=_0x48e234 instanceof Error?_0x48e234[_0x289263(0x577)]:typeof _0x48e234==_0x289263(0x3e2)?JSON['stringify'](_0x48e234):_0x48e234,_0x24f2e7=_0x49139b+':\x20'+_0xe847fb;throw this[_0x289263(0x69c)][_0x289263(0x664)](this[_0x289263(0x7c4)]+'\x20('+this[_0x289263(0x45a)][_0x289263(0x7c7)]+_0x289263(0x7cd)+_0x24f2e7),new m(_0x24f2e7);}}async[a0_0xa27d39(0x5ca)](_0x456575){const _0x4ad8ec=a0_0xa27d39;try{let _0x415787=await this[_0x4ad8ec(0x4f0)][_0x4ad8ec(0x533)]['findOrCreate'](this[_0x4ad8ec(0x45a)]['wuid']),_0x1be7c4=_0x456575[_0x4ad8ec(0x580)]?_0x415787[_0x4ad8ec(0x67a)][_0x4ad8ec(0x61c)](_0x25670d=>_0x25670d[_0x4ad8ec(0x580)]===_0x456575[_0x4ad8ec(0x580)]):-0x1,_0x30af3d=!0x1,_0x5c0cdf=_0x415787['customFields'][_0x4ad8ec(0x55e)](_0x36adc4=>_0x36adc4[_0x4ad8ec(0x513)]===_0x456575[_0x4ad8ec(0x513)]);if(_0x456575[_0x4ad8ec(0x5ce)]&&_0x1be7c4>-0x1)_0x415787[_0x4ad8ec(0x67a)][_0x4ad8ec(0x4cf)](_0x1be7c4,0x1),_0x30af3d=!0x0;else{if(_0x1be7c4>-0x1){if(_0x415787[_0x4ad8ec(0x67a)]['some'](_0x18ec93=>_0x18ec93['name']===_0x456575[_0x4ad8ec(0x75e)]&&_0x18ec93[_0x4ad8ec(0x580)]!==_0x456575[_0x4ad8ec(0x580)]))throw new Error(_0x4ad8ec(0x713));let _0x1dc11f=_0x415787[_0x4ad8ec(0x67a)][_0x1be7c4];_0x456575[_0x4ad8ec(0x513)]&&(_0x5c0cdf||!Number[_0x4ad8ec(0x8ca)](_0x456575[_0x4ad8ec(0x513)]))&&(_0x1dc11f['order']=_0x456575['order'],_0x30af3d=!0x0),_0x456575[_0x4ad8ec(0x75e)]&&(_0x1dc11f[_0x4ad8ec(0x75e)]=_0x456575[_0x4ad8ec(0x75e)]);}else{if(_0x415787[_0x4ad8ec(0x67a)][_0x4ad8ec(0x55e)](_0x4139fb=>_0x4139fb[_0x4ad8ec(0x75e)]===_0x456575[_0x4ad8ec(0x75e)]&&_0x4139fb[_0x4ad8ec(0x580)]!==_0x456575[_0x4ad8ec(0x580)]))throw new Error(_0x4ad8ec(0x713));_0x415787[_0x4ad8ec(0x67a)][_0x4ad8ec(0x898)]({'_id':_0x456575[_0x4ad8ec(0x580)]||new fe[(_0x4ad8ec(0x544))]['Types']['ObjectId']()[_0x4ad8ec(0x412)](),'order':_0x456575['order'],'name':_0x456575[_0x4ad8ec(0x75e)]}),_0x30af3d=!0x0;}}if(_0x30af3d){_0x415787[_0x4ad8ec(0x67a)][_0x4ad8ec(0x80e)]((_0x4b4d9c,_0x4992cf)=>_0x4b4d9c[_0x4ad8ec(0x513)]>_0x4992cf[_0x4ad8ec(0x513)]?0x1:_0x4992cf[_0x4ad8ec(0x513)]>_0x4b4d9c[_0x4ad8ec(0x513)]?-0x1:0x0);for(let _0x5e7189=0x0;_0x5e7189<_0x415787[_0x4ad8ec(0x67a)][_0x4ad8ec(0x3a7)];_0x5e7189++)_0x415787[_0x4ad8ec(0x67a)][_0x5e7189][_0x4ad8ec(0x513)]=_0x5e7189+0x1;}let _0x56c963=await this[_0x4ad8ec(0x4f0)][_0x4ad8ec(0x533)]['update'](_0x415787,this[_0x4ad8ec(0x45a)][_0x4ad8ec(0x7c7)]);return this[_0x4ad8ec(0x278)]=_0x56c963,this[_0x4ad8ec(0x69c)][_0x4ad8ec(0x6c3)](this['instanceName']+'\x20('+this[_0x4ad8ec(0x45a)]['wuid']+_0x4ad8ec(0x29c)),this[_0x4ad8ec(0x69c)]['verbose'](this[_0x4ad8ec(0x7c4)]+'\x20('+this[_0x4ad8ec(0x45a)]['wuid']+_0x4ad8ec(0x7cd)+this[_0x4ad8ec(0x278)]),_0x56c963;}catch(_0x14663d){let _0x10bd2d=_0x4ad8ec(0x3c9),_0x4883f5=_0x14663d instanceof Error?_0x14663d[_0x4ad8ec(0x577)]:typeof _0x14663d==_0x4ad8ec(0x3e2)?JSON[_0x4ad8ec(0x716)](_0x14663d):_0x14663d,_0x7e1692=_0x10bd2d+':\x20'+_0x4883f5;throw this[_0x4ad8ec(0x69c)][_0x4ad8ec(0x664)](this[_0x4ad8ec(0x7c4)]+'\x20('+this[_0x4ad8ec(0x45a)]['wuid']+_0x4ad8ec(0x7cd)+_0x7e1692),new m(_0x7e1692);}}async[a0_0xa27d39(0x3a9)](_0x46c766){const _0x3d90c0=a0_0xa27d39;try{let _0x2fa134=await this[_0x3d90c0(0x4f0)][_0x3d90c0(0x533)][_0x3d90c0(0x862)](this[_0x3d90c0(0x45a)][_0x3d90c0(0x7c7)]),_0x1cdc4e=_0x2fa134?.[_0x3d90c0(0x561)]?.[_0x3d90c0(0x61c)](_0x4a6d28=>_0x4a6d28['_id']===_0x46c766?.[_0x3d90c0(0x580)]);if(_0x46c766?.[_0x3d90c0(0x5ce)])_0x1cdc4e>-0x1&&_0x2fa134?.[_0x3d90c0(0x561)]?.['splice'](_0x1cdc4e,0x1);else{if(_0x1cdc4e>-0x1){let _0x34247d=_0x2fa134[_0x3d90c0(0x561)][_0x1cdc4e];_0x34247d[_0x3d90c0(0x513)]=_0x46c766?.[_0x3d90c0(0x513)]||_0x34247d[_0x3d90c0(0x513)],_0x34247d['command']=_0x46c766?.[_0x3d90c0(0x6ce)]||_0x34247d[_0x3d90c0(0x6ce)],_0x34247d['message']=_0x46c766?.[_0x3d90c0(0x577)]||_0x34247d[_0x3d90c0(0x577)];}else{let _0x2efcd9={'_id':_0x46c766?.['_id']||new fe['default'][(_0x3d90c0(0x8a2))][(_0x3d90c0(0x49f))]()['toString'](),'order':_0x46c766?.[_0x3d90c0(0x513)],'command':_0x46c766?.['command'],'message':_0x46c766?.[_0x3d90c0(0x577)]};_0x2fa134?.[_0x3d90c0(0x561)]?.[_0x3d90c0(0x898)](_0x2efcd9);}}_0x2fa134?.[_0x3d90c0(0x561)]?.[_0x3d90c0(0x80e)]((_0x2b23e8,_0x8af5fa)=>_0x2b23e8['order']-_0x8af5fa[_0x3d90c0(0x513)]);let _0x19c81e=await this[_0x3d90c0(0x4f0)][_0x3d90c0(0x533)][_0x3d90c0(0x8e1)](_0x2fa134,this[_0x3d90c0(0x45a)][_0x3d90c0(0x7c7)]);return this[_0x3d90c0(0x278)]=_0x19c81e,this[_0x3d90c0(0x69c)][_0x3d90c0(0x6c3)](this[_0x3d90c0(0x7c4)]+'\x20('+this[_0x3d90c0(0x45a)][_0x3d90c0(0x7c7)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x19c81e;}catch(_0x22bc5b){let _0x22522e=_0x3d90c0(0x3bd),_0x13f853=_0x22bc5b instanceof Error?_0x22bc5b[_0x3d90c0(0x577)]:typeof _0x22bc5b==_0x3d90c0(0x3e2)?JSON[_0x3d90c0(0x716)](_0x22bc5b):_0x22bc5b,_0x56bf90=_0x22522e+':\x20'+_0x13f853;throw this[_0x3d90c0(0x69c)]['error'](this[_0x3d90c0(0x7c4)]+'\x20('+this[_0x3d90c0(0x45a)][_0x3d90c0(0x7c7)]+_0x3d90c0(0x7cd)+_0x56bf90),new m(_0x56bf90);}}async[a0_0xa27d39(0x1fe)](_0x4dbb3f){const _0xea5436=a0_0xa27d39;try{let _0x2ce3a4=await this['repository'][_0xea5436(0x533)]['findOrCreate'](this[_0xea5436(0x45a)][_0xea5436(0x7c7)]);if(!_0x2ce3a4)throw new Error(_0xea5436(0x361));let _0x28c342={'_id':_0x2ce3a4[_0xea5436(0x580)],'flowConfig':{'enabled':_0x4dbb3f[_0xea5436(0x6c9)]??_0x2ce3a4['flowConfig'][_0xea5436(0x6c9)],'ignoreGroups':_0x4dbb3f[_0xea5436(0x4c2)]??_0x2ce3a4[_0xea5436(0x2eb)]['ignoreGroups'],'stopConversation':_0x4dbb3f[_0xea5436(0x245)][_0xea5436(0x6f8)]()??_0x2ce3a4[_0xea5436(0x2eb)][_0xea5436(0x245)][_0xea5436(0x6f8)](),'stopMinutes':_0x4dbb3f[_0xea5436(0x3ba)]??_0x2ce3a4[_0xea5436(0x2eb)]['stopMinutes'],'stopWhenYouSendMsg':_0x4dbb3f['stopWhenYouSendMsg']??_0x2ce3a4['flowConfig'][_0xea5436(0x275)]}},_0x353e9d=await this[_0xea5436(0x4f0)][_0xea5436(0x533)][_0xea5436(0x8e1)](_0x28c342,this['instance'][_0xea5436(0x7c7)]);return this[_0xea5436(0x278)]=_0x353e9d,this[_0xea5436(0x69c)]['verbose'](this[_0xea5436(0x7c4)]+'\x20('+this[_0xea5436(0x45a)][_0xea5436(0x7c7)]+'):\x20alterando\x20this.AutomateSystem'),this[_0xea5436(0x69c)][_0xea5436(0x6c3)](this[_0xea5436(0x7c4)]+'\x20('+this[_0xea5436(0x45a)][_0xea5436(0x7c7)]+'):\x20'+this['AutomateSystem']),setTimeout(()=>this[_0xea5436(0x46b)](),0x7d0),_0x353e9d;}catch(_0x4f4abf){let _0x3014ab='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x6d4bda=_0x4f4abf instanceof Error?_0x4f4abf[_0xea5436(0x577)]:typeof _0x4f4abf==_0xea5436(0x3e2)?JSON[_0xea5436(0x716)](_0x4f4abf):_0x4f4abf,_0x1b56c6=_0x3014ab+':\x20'+_0x6d4bda;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xea5436(0x7cd)+_0x1b56c6),new m(_0x1b56c6);}}async[a0_0xa27d39(0x391)](){const _0x2bc77e=a0_0xa27d39;try{let _0x41b3f7=await this[_0x2bc77e(0x4f0)][_0x2bc77e(0x533)][_0x2bc77e(0x862)](this[_0x2bc77e(0x45a)][_0x2bc77e(0x7c7)]);return this['AutomateSystem']=_0x41b3f7,_0x41b3f7;}catch(_0x53c00e){let _0x11830f=_0x2bc77e(0x549),_0x603963=_0x53c00e instanceof Error?_0x53c00e[_0x2bc77e(0x577)]:typeof _0x53c00e==_0x2bc77e(0x3e2)?JSON[_0x2bc77e(0x716)](_0x53c00e):_0x53c00e,_0x3d3e3a=_0x11830f+':\x20'+_0x603963;throw this['logger'][_0x2bc77e(0x664)](this['instanceName']+'\x20('+this[_0x2bc77e(0x45a)][_0x2bc77e(0x7c7)]+_0x2bc77e(0x7cd)+_0x3d3e3a),new m(_0x3d3e3a);}}async['initializeQueue'](){const _0xc63f2b=a0_0xa27d39;let _0x17dc74=(await import(_0xc63f2b(0x44a)))[_0xc63f2b(0x544)];this[_0xc63f2b(0x355)]=new _0x17dc74({'concurrency':0x1});}async[a0_0xa27d39(0x6ff)](){const _0x3cf4e3=a0_0xa27d39;this[_0x3cf4e3(0x45a)]['ScheduleMessage'][_0x3cf4e3(0x661)]&&clearTimeout(this[_0x3cf4e3(0x45a)][_0x3cf4e3(0x840)]['timeout']),this[_0x3cf4e3(0x45a)][_0x3cf4e3(0x840)][_0x3cf4e3(0x661)]=setTimeout(()=>{const _0x52b0aa=_0x3cf4e3;this[_0x52b0aa(0x575)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0xa27d39(0x575)](){const _0x2e8334=a0_0xa27d39;let _0x57f7cb=this[_0x2e8334(0x45a)][_0x2e8334(0x840)]['lastSend'];(_0x57f7cb===0x0||_0x57f7cb===null||Date['now']()-_0x57f7cb>=0x1d4c0)&&(this[_0x2e8334(0x69c)]['verbose'](this[_0x2e8334(0x7c4)]+'\x20('+this['instance'][_0x2e8334(0x7c7)]+_0x2e8334(0x5ac)),this[_0x2e8334(0x45a)][_0x2e8334(0x840)][_0x2e8334(0x25c)]=null,this[_0x2e8334(0x45a)]['ScheduleMessage']['lastSend']=0x0,this['instance'][_0x2e8334(0x840)][_0x2e8334(0x795)]=0x0,this['processUUID']=null,this['queue'][_0x2e8334(0x761)](()=>this[_0x2e8334(0x46b)]()));}async['scheduleNextCheck'](){const _0x386574=a0_0xa27d39;if(this[_0x386574(0x7ee)]!==null){setTimeout(()=>this[_0x386574(0x575)](),0x2*0x3c*0x3e8+0x3e8*0xa),this[_0x386574(0x69c)][_0x386574(0x76e)](this['instanceName']+'\x20('+this[_0x386574(0x45a)][_0x386574(0x7c7)]+_0x386574(0x73f));return;}let _0xb8134e=!0x1;this[_0x386574(0x417)]=[],this[_0x386574(0x7ee)]=(0x0,X['v4'])(),await this[_0x386574(0x2d4)]();let _0x45424b=()=>{const _0x234262=_0x386574;this[_0x234262(0x69c)][_0x234262(0x76e)](this[_0x234262(0x7c4)]+'\x20('+this[_0x234262(0x45a)]['wuid']+_0x234262(0x4f9)+this[_0x234262(0x45a)][_0x234262(0x840)][_0x234262(0x25c)]?.['_id']+_0x234262(0x439));},_0x4aa267=async()=>{const _0x3ab5ed=_0x386574;this[_0x3ab5ed(0x69c)][_0x3ab5ed(0x76e)](this[_0x3ab5ed(0x7c4)]+'\x20('+this[_0x3ab5ed(0x45a)][_0x3ab5ed(0x7c7)]+_0x3ab5ed(0x776));let _0x1d950c=new Date(Date[_0x3ab5ed(0x27c)]()-0xc*0x3c*0x3c*0x3e8),_0x3ab7c7={'where':{'status':{'$in':[_0x3ab5ed(0x7f8),_0x3ab5ed(0x1fc)]},'$or':[{'when':{'$lte':Date[_0x3ab5ed(0x27c)](),'$gte':_0x1d950c}},{'when':0x0}]}},_0x5277cc=await this[_0x3ab5ed(0x4f0)][_0x3ab5ed(0x5a8)][_0x3ab5ed(0x678)](_0x3ab7c7,this[_0x3ab5ed(0x45a)][_0x3ab5ed(0x7c7)]);return this[_0x3ab5ed(0x69c)][_0x3ab5ed(0x76e)](this[_0x3ab5ed(0x7c4)]+'\x20('+this[_0x3ab5ed(0x45a)][_0x3ab5ed(0x7c7)]+_0x3ab5ed(0x3a1)+_0x5277cc[_0x3ab5ed(0x3a7)]),_0x5277cc;},_0x49c6c8=()=>this[_0x386574(0x417)][_0x386574(0x3a7)]===0x0?null:this['pendingMessages'][_0x386574(0x69a)]((_0x392172,_0x30d752)=>(_0x392172[_0x386574(0x513)]??Number[_0x386574(0x1f4)])<(_0x30d752[_0x386574(0x513)]??Number[_0x386574(0x1f4)])?_0x392172:_0x30d752,this[_0x386574(0x417)][0x0]),_0x5b9994=async _0x2547dd=>{const _0x3e89f1=_0x386574;let _0x11510b=Math[_0x3e89f1(0x65c)](Math[_0x3e89f1(0x1de)]()*0x1389)+0xbb8;for(let _0x207ebf of _0x2547dd){let _0x14fad8={'_id':_0x207ebf['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3e89f1(0x27c)]()-0xbb8}}]},_0x1dedb1={'startSend':Date['now'](),'status':_0x3e89f1(0x1fc),'processUUID':this[_0x3e89f1(0x7ee)]},_0x5af4ad=await this[_0x3e89f1(0x4f0)][_0x3e89f1(0x5a8)][_0x3e89f1(0x45c)](_0x14fad8,_0x1dedb1,this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]);if(!_0x5af4ad)continue;if(_0x5af4ad[_0x3e89f1(0x7ee)]!==this[_0x3e89f1(0x7ee)]){await this[_0x3e89f1(0x6ff)](),this[_0x3e89f1(0x69c)][_0x3e89f1(0x76e)](this[_0x3e89f1(0x7c4)]+'\x20('+this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]+_0x3e89f1(0x812));return;}if(!this[_0x3e89f1(0x45a)][_0x3e89f1(0x840)][_0x3e89f1(0x451)]){this[_0x3e89f1(0x69c)][_0x3e89f1(0x76e)](this['instanceName']+'\x20('+this['instance'][_0x3e89f1(0x7c7)]+_0x3e89f1(0x3a5));break;}for(this[_0x3e89f1(0x417)]=_0x207ebf[_0x3e89f1(0x89a)]['filter'](_0x4e8b39=>!_0x4e8b39[_0x3e89f1(0x58d)]);this['pendingMessages'][_0x3e89f1(0x3a7)]>0x0||!_0xb8134e;){await this['setRestartTimeout']();let _0x2b78b7=_0x49c6c8();if(!_0x2b78b7){_0xb8134e=!0x0;break;}let _0x526f41=_0x207ebf['messages'][_0x3e89f1(0x678)](_0x5f441f=>_0x5f441f[_0x3e89f1(0x580)]===_0x2b78b7['_id']);if(!_0x526f41){_0xb8134e=!0x0;break;}if(this[_0x3e89f1(0x45a)][_0x3e89f1(0x840)][_0x3e89f1(0x902)]=Date[_0x3e89f1(0x27c)](),_0x526f41[_0x3e89f1(0x58d)]){this[_0x3e89f1(0x69c)][_0x3e89f1(0x76e)](this[_0x3e89f1(0x7c4)]+'\x20('+this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]+_0x3e89f1(0x5f5)+_0x526f41[_0x3e89f1(0x5a2)]+_0x3e89f1(0x6d3)),this['pendingMessages']=this[_0x3e89f1(0x417)][_0x3e89f1(0x842)](_0x66ae46=>_0x66ae46[_0x3e89f1(0x580)]!==_0x526f41[_0x3e89f1(0x580)]);continue;}if(!this[_0x3e89f1(0x45a)][_0x3e89f1(0x840)][_0x3e89f1(0x451)]){this[_0x3e89f1(0x69c)][_0x3e89f1(0x76e)](this[_0x3e89f1(0x7c4)]+'\x20('+this['instance'][_0x3e89f1(0x7c7)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this['instance'][_0x3e89f1(0x840)][_0x3e89f1(0x25c)]){this['logger'][_0x3e89f1(0x76e)](this[_0x3e89f1(0x7c4)]+'\x20('+this[_0x3e89f1(0x45a)]['wuid']+_0x3e89f1(0x694)+_0x207ebf['_id']+_0x3e89f1(0x6e6));break;}let _0x5e5283={'idControl':_0x526f41[_0x3e89f1(0x580)],'remoteJid':_0x526f41[_0x3e89f1(0x5a2)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3e89f1(0x27c)]()},_0x5e0bd8=null;try{this['logger'][_0x3e89f1(0x76e)](this[_0x3e89f1(0x7c4)]+'\x20('+this[_0x3e89f1(0x45a)]['wuid']+_0x3e89f1(0x6ae)+_0x526f41[_0x3e89f1(0x5a2)]);let _0x3df7e3=await this['SendScheduleMessage'](_0x526f41[_0x3e89f1(0x5a2)],_0x526f41);_0x5e5283['error']=_0x3df7e3['error'],_0x5e5283['id']=_0x3df7e3[_0x3e89f1(0x664)]?null:_0x3df7e3['id'],_0x5e5283[_0x3e89f1(0x8ac)]=_0x3df7e3[_0x3e89f1(0x664)]?_0x3df7e3[_0x3e89f1(0x774)]?_0x3df7e3[_0x3e89f1(0x774)][_0x3e89f1(0x412)]():'':null;let _0x4c6c6f=_0x207ebf[_0x3e89f1(0x89a)][_0x3e89f1(0x61c)](_0x4b4d97=>_0x4b4d97[_0x3e89f1(0x580)]===_0x526f41['_id']);_0x4c6c6f!==-0x1&&(_0x207ebf[_0x3e89f1(0x89a)][_0x4c6c6f][_0x3e89f1(0x58d)]=!0x0);let _0x30f152={'$push':{'messagesSend':_0x5e5283},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x3e8c39=[{'elem._id':_0x526f41[_0x3e89f1(0x580)]}];if(this['logger'][_0x3e89f1(0x76e)](this[_0x3e89f1(0x7c4)]+'\x20('+this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]+_0x3e89f1(0x7b8)+_0x526f41['_id']),_0x5e0bd8=await this[_0x3e89f1(0x4f0)]['scheduleMessage'][_0x3e89f1(0x45c)]({'_id':_0x207ebf[_0x3e89f1(0x580)]},_0x30f152,this[_0x3e89f1(0x45a)]['wuid'],{'arrayFilters':_0x3e8c39}),_0x3df7e3[_0x3e89f1(0x664)]){this[_0x3e89f1(0x69c)][_0x3e89f1(0x664)](this['instanceName']+'\x20('+this['instance'][_0x3e89f1(0x7c7)]+_0x3e89f1(0x4b5)+_0x3df7e3[_0x3e89f1(0x774)]);continue;}let _0x2637a4=this[_0x3e89f1(0x4bf)](_0x207ebf[_0x3e89f1(0x798)],_0x207ebf[_0x3e89f1(0x7a5)]);await this[_0x3e89f1(0x3d0)](_0x2637a4);}catch(_0x409f35){this['logger']['error'](this['instanceName']+'\x20('+this[_0x3e89f1(0x45a)]['wuid']+_0x3e89f1(0x77b)+_0x526f41['remoteJid']+':\x20'+(_0x409f35 instanceof Error?_0x409f35[_0x3e89f1(0x577)]:JSON[_0x3e89f1(0x716)](_0x409f35,null,0x2))),_0x5e5283['error']=!0x0,_0x5e5283[_0x3e89f1(0x8ac)]=_0x409f35['message'];let _0x2b2620=_0x207ebf[_0x3e89f1(0x89a)]['findIndex'](_0x2f8b27=>_0x2f8b27[_0x3e89f1(0x580)]===_0x526f41[_0x3e89f1(0x580)]);_0x2b2620!==-0x1&&(_0x207ebf['messages'][_0x2b2620][_0x3e89f1(0x58d)]=!0x0);let _0x5dedc6={'$push':{'messagesSend':_0x5e5283},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x58732b=[{'elem._id':_0x526f41[_0x3e89f1(0x580)]}];this[_0x3e89f1(0x69c)][_0x3e89f1(0x76e)](this[_0x3e89f1(0x7c4)]+'\x20('+this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x526f41[_0x3e89f1(0x580)]),_0x5e0bd8=await this[_0x3e89f1(0x4f0)]['scheduleMessage'][_0x3e89f1(0x45c)]({'_id':_0x207ebf['_id']},_0x5dedc6,this['instance'][_0x3e89f1(0x7c7)],{'arrayFilters':_0x58732b});}finally{if(_0x5e0bd8&&_0x5e0bd8[_0x3e89f1(0x492)]===_0x3e89f1(0x554)){this[_0x3e89f1(0x69c)][_0x3e89f1(0x76e)](this['instanceName']+'\x20('+this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]+_0x3e89f1(0x694)+_0x526f41[_0x3e89f1(0x580)]+_0x3e89f1(0x2ec));break;}let _0x2a62a9=_0x5e0bd8['messages'][_0x3e89f1(0x678)](_0x2f19c6=>_0x2f19c6[_0x3e89f1(0x580)]===_0x526f41[_0x3e89f1(0x580)]);if(_0x2a62a9&&!_0x2a62a9['triedToSend']){let _0x88edb1={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x247e09=[{'elem._id':_0x526f41['_id']}];await this[_0x3e89f1(0x4f0)][_0x3e89f1(0x5a8)][_0x3e89f1(0x45c)]({'_id':_0x5e0bd8[_0x3e89f1(0x580)]},_0x88edb1,this[_0x3e89f1(0x45a)]['wuid'],{'arrayFilters':_0x247e09});}if(this[_0x3e89f1(0x417)]=_0x5e0bd8[_0x3e89f1(0x89a)][_0x3e89f1(0x842)](_0x40d3d2=>!_0x40d3d2[_0x3e89f1(0x58d)]),_0xb8134e=this[_0x3e89f1(0x417)]['length']===0x0,_0x5e0bd8[_0x3e89f1(0x7ee)]!==this['processUUID']){await this[_0x3e89f1(0x6ff)](),this[_0x3e89f1(0x69c)]['warn'](this[_0x3e89f1(0x7c4)]+'\x20('+this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]+'):\x20UUID\x20do\x20processo\x20não\x20corresponde,\x20parando\x20processamento.');return;}this[_0x3e89f1(0x45a)][_0x3e89f1(0x840)][_0x3e89f1(0x25c)]=_0x5e0bd8;}}this[_0x3e89f1(0x417)]=[];let _0x43965f=await this['repository'][_0x3e89f1(0x5a8)]['findById'](_0x207ebf[_0x3e89f1(0x580)],this[_0x3e89f1(0x45a)][_0x3e89f1(0x7c7)]);if(_0xb8134e=_0x43965f['messages']['every'](_0x3e09f1=>_0x3e09f1[_0x3e89f1(0x58d)]),_0xb8134e&&_0x43965f[_0x3e89f1(0x492)]!=='stopped'){let _0x2e5bb8={'$set':{'status':'done'}};await this[_0x3e89f1(0x4f0)]['scheduleMessage']['updateOneById'](_0x43965f[_0x3e89f1(0x580)],_0x2e5bb8,this['instance'][_0x3e89f1(0x7c7)]);}await new Promise(_0x5675d5=>setTimeout(_0x5675d5,_0x11510b)),global['gc']?global['gc']():console[_0x3e89f1(0x76e)]('Garbage\x20collection\x20não\x20está\x20disponível.');}},_0x268048=async()=>{const _0x3aac86=_0x386574;this[_0x3aac86(0x69c)]['warn'](this[_0x3aac86(0x7c4)]+'\x20('+this['instance'][_0x3aac86(0x7c7)]+_0x3aac86(0x776));let _0x13b720={'where':{'status':_0x3aac86(0x7f8),'when':{'$gt':Date[_0x3aac86(0x27c)]()}}},_0x109491=await this[_0x3aac86(0x4f0)][_0x3aac86(0x5a8)][_0x3aac86(0x25d)](_0x13b720,this['instance']['wuid']);_0x109491&&_0x109491[_0x3aac86(0x528)]-Date[_0x3aac86(0x27c)]()<=0x6ddd00?this[_0x3aac86(0x45a)][_0x3aac86(0x840)][_0x3aac86(0x795)]=_0x109491[_0x3aac86(0x528)]-Date['now']():this[_0x3aac86(0x45a)][_0x3aac86(0x840)][_0x3aac86(0x795)]=(0x3c+Math[_0x3aac86(0x65c)](Math[_0x3aac86(0x1de)]()*0x3c))*0x3c*0x3e8,this[_0x3aac86(0x45a)][_0x3aac86(0x840)][_0x3aac86(0x795)]=Math[_0x3aac86(0x24f)](this[_0x3aac86(0x45a)][_0x3aac86(0x840)][_0x3aac86(0x795)],0x1*0x2*0x3e8);let _0xfd334c=Math[_0x3aac86(0x913)](this[_0x3aac86(0x45a)]['ScheduleMessage']['delayMessage']/0xea60);if(_0x109491){let _0x3a60e2=new Date(_0x109491[_0x3aac86(0x528)])[_0x3aac86(0x53b)]();this[_0x3aac86(0x69c)][_0x3aac86(0x76e)](this[_0x3aac86(0x7c4)]+'\x20('+this['instance'][_0x3aac86(0x7c7)]+_0x3aac86(0x860)+_0x3a60e2+',\x20fará\x20nova\x20verificação\x20em\x20'+_0xfd334c+_0x3aac86(0x8ae));}else this['logger'][_0x3aac86(0x76e)](this[_0x3aac86(0x7c4)]+'\x20('+this[_0x3aac86(0x45a)]['wuid']+_0x3aac86(0x331)+_0xfd334c+_0x3aac86(0x8ae));setTimeout(()=>this['scheduleNextCheck'](),this[_0x3aac86(0x45a)][_0x3aac86(0x840)][_0x3aac86(0x795)]);};if(this['instance']['ScheduleMessage'][_0x386574(0x25c)]){await this['setRestartTimeout'](),_0x45424b();return;}if(!this['instance'][_0x386574(0x840)][_0x386574(0x451)]){this['logger']['warn'](this[_0x386574(0x7c4)]+'\x20('+this['instance'][_0x386574(0x7c7)]+_0x386574(0x659)),this['instance']['ScheduleMessage']['processingGroup']=null,this['instance'][_0x386574(0x840)][_0x386574(0x902)]=0x0,this[_0x386574(0x45a)][_0x386574(0x840)][_0x386574(0x795)]=0x0;return;}try{let _0x541218=await _0x4aa267();_0x541218[_0x386574(0x3a7)]===0x0?this[_0x386574(0x69c)][_0x386574(0x76e)](this[_0x386574(0x7c4)]+'\x20('+this[_0x386574(0x45a)][_0x386574(0x7c7)]+_0x386574(0x5c0)):(this[_0x386574(0x45a)][_0x386574(0x840)]['processingGroup']=_0x541218[0x0],await _0x5b9994(_0x541218)),await _0x268048(),this[_0x386574(0x45a)][_0x386574(0x840)][_0x386574(0x25c)]=null;}catch(_0x4346b2){this[_0x386574(0x69c)][_0x386574(0x664)](_0x386574(0x34f)+(_0x4346b2 instanceof Error?_0x4346b2[_0x386574(0x577)]:JSON[_0x386574(0x716)](_0x4346b2,null,0x2)));}}[a0_0xa27d39(0x4bf)](_0x38db23,_0xe91105){const _0x4464e5=a0_0xa27d39;return _0x38db23=Math['max'](0.5,_0x38db23),_0xe91105=Math[_0x4464e5(0x7d2)](Math[_0x4464e5(0x24f)](0x3,_0xe91105),0x78),Math[_0x4464e5(0x65c)](Math['random']()*(_0xe91105-_0x38db23+0x1)+_0x38db23)*0x3e8;}[a0_0xa27d39(0x3d0)](_0x2f41fa){return new Promise(_0x1a8176=>setTimeout(_0x1a8176,_0x2f41fa));}async[a0_0xa27d39(0x49e)](_0x36c134){const _0xc52e53=a0_0xa27d39;if(!this[_0xc52e53(0x278)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x36c134=this[_0xc52e53(0x44d)](_0x36c134);let _0x314343=await this[_0xc52e53(0x4f0)][_0xc52e53(0x532)][_0xc52e53(0x25d)]({'where':{'_id':_0x36c134}},this[_0xc52e53(0x45a)][_0xc52e53(0x7c7)]),_0x8e92af={};if(_0x314343&&_0x314343[_0xc52e53(0x732)]){let _0x501576=_0x314343[_0xc52e53(0x732)];typeof _0x501576[_0xc52e53(0x7a6)]==_0xc52e53(0x8e4)&&(_0x8e92af[_0xc52e53(0x7a6)]=_0x501576[_0xc52e53(0x7a6)]),typeof _0x501576['nomecompleto']==_0xc52e53(0x8e4)&&(_0x8e92af[_0xc52e53(0x2fe)]=_0x501576[_0xc52e53(0x2fe)]),typeof _0x501576[_0xc52e53(0x74e)]==_0xc52e53(0x8e4)&&(_0x8e92af[_0xc52e53(0x74e)]=_0x501576['email']),typeof _0x501576[_0xc52e53(0x21e)]==_0xc52e53(0x8e4)&&(_0x8e92af[_0xc52e53(0x21e)]=_0x501576['cpf']),typeof _0x501576[_0xc52e53(0x492)]==_0xc52e53(0x8e4)&&(_0x8e92af[_0xc52e53(0x492)]=_0x501576[_0xc52e53(0x492)]),typeof _0x501576['notas']==_0xc52e53(0x8e4)&&(_0x8e92af['notas']=_0x501576[_0xc52e53(0x3e5)]),typeof _0x501576['responsavelid']=='string'&&(_0x8e92af[_0xc52e53(0x6ca)]=_0x501576[_0xc52e53(0x6ca)]),Array['isArray'](_0x501576['tags'])&&(_0x8e92af[_0xc52e53(0x1ce)]=_0x501576[_0xc52e53(0x1ce)]['join'](',\x20')),Array[_0xc52e53(0x5b0)](_0x501576['etiquetas'])&&(_0x8e92af[_0xc52e53(0x33e)]=_0x501576[_0xc52e53(0x33e)][_0xc52e53(0x5cc)](',\x20'));}return _0x314343&&_0x314343[_0xc52e53(0x732)]&&_0x314343[_0xc52e53(0x732)][_0xc52e53(0x67a)]&&_0x314343[_0xc52e53(0x732)][_0xc52e53(0x67a)][_0xc52e53(0x888)](_0x5568b1=>{const _0x487d1a=_0xc52e53;let _0x1006ea=this[_0x487d1a(0x278)]?.[_0x487d1a(0x67a)]['find'](_0x27e473=>_0x27e473[_0x487d1a(0x580)]===_0x5568b1['_id']);_0x1006ea&&(_0x8e92af[_0x1006ea['name']]=_0x5568b1[_0x487d1a(0x556)]);}),_0x8e92af;}async['replaceVariablesChat'](_0x54ffb8,_0x129b65){const _0x20f235=a0_0xa27d39;try{let _0x59d85d=await this[_0x20f235(0x49e)](_0x129b65);return this[_0x20f235(0x6f3)](_0x54ffb8,_0x59d85d);}catch(_0x4f2c91){return this[_0x20f235(0x69c)][_0x20f235(0x664)](_0x20f235(0x22b)+_0x129b65+':\x20'+_0x4f2c91),_0x54ffb8;}}async[a0_0xa27d39(0x2d4)](){const _0x371cbb=a0_0xa27d39;let _0x55a854=async(_0x54ae66,_0x2d388d)=>{const _0x2cc4b4=a0_0x2c1e;let _0x2ba1f1=(await this['repository'][_0x2cc4b4(0x5a8)][_0x2cc4b4(0x678)]({'where':{'type':_0x54ae66}},this[_0x2cc4b4(0x45a)][_0x2cc4b4(0x7c7)]))[_0x2cc4b4(0x59b)](async _0x15b200=>{const _0x35d3af=_0x2cc4b4;let _0x53063b=_0x2d388d(_0x15b200),_0x5e953e=_0x2d2706=>/^\d+$/[_0x35d3af(0x60b)](_0x2d2706),_0x1d4c4c=_0x15b200[_0x35d3af(0x4ab)][_0x35d3af(0x842)](_0x23eb6c=>_0x23eb6c[_0x35d3af(0x900)](_0x35d3af(0x68e))?_0x23eb6c[_0x35d3af(0x3a7)]>0x19:_0x23eb6c[_0x35d3af(0x900)]('@g.us')?_0x23eb6c[_0x35d3af(0x3a7)]>0xf:_0x5e953e(_0x23eb6c)?_0x23eb6c['length']>=0xb:!0x1)['map'](_0x389945=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x15b200[_0x35d3af(0x580)],'type':_0x53063b,'remoteJid':_0x389945,'flow':_0x15b200['flowName'],'text':_0x15b200[_0x35d3af(0x577)]?.[_0x35d3af(0x558)],'delay':_0x15b200[_0x35d3af(0x577)]?.[_0x35d3af(0x753)],'urlOrBase64':_0x15b200[_0x35d3af(0x577)]?.['urlOrBase64'],'linkPreview':_0x15b200['message']?.[_0x35d3af(0x76b)],'fileName':_0x15b200['message']?.[_0x35d3af(0x2ef)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x35d3af(0x4f0)][_0x35d3af(0x5a8)][_0x35d3af(0x456)](_0x15b200[_0x35d3af(0x580)],{'$set':{'messages':_0x1d4c4c},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x35d3af(0x7c7)]);}catch(_0x29d018){console[_0x35d3af(0x664)](_0x35d3af(0x387)+_0x15b200[_0x35d3af(0x580)]+':',_0x29d018);}});await Promise[_0x2cc4b4(0x873)](_0x2ba1f1);};await _0x55a854('text',_0x338af9=>'text'),await _0x55a854(_0x371cbb(0x5ff),_0x2d19a6=>_0x2d19a6[_0x371cbb(0x577)]?.[_0x371cbb(0x3b0)]||'media'),await _0x55a854(_0x371cbb(0x3a3),_0xe40791=>_0x371cbb(0x3a3)),await _0x55a854(_0x371cbb(0x6b3),_0x46123f=>_0x371cbb(0x6b3)),await _0x55a854(_0x371cbb(0x475),_0x1df471=>_0x371cbb(0x475)),await _0x55a854(_0x371cbb(0x895),_0x570d89=>_0x371cbb(0x895)),await _0x55a854('document',_0x1b6a17=>_0x371cbb(0x356)),this['logger']['warn'](this[_0x371cbb(0x7c4)]+'\x20('+this[_0x371cbb(0x45a)][_0x371cbb(0x7c7)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0xa27d39(0x1e5)](_0x1b63d1){const _0x12a6ef=a0_0xa27d39;try{if(this[_0x12a6ef(0x69c)]['warn'](this[_0x12a6ef(0x7c4)]+'\x20('+this[_0x12a6ef(0x45a)][_0x12a6ef(0x7c7)]+_0x12a6ef(0x8c1)),_0x1b63d1['_id']||(_0x1b63d1[_0x12a6ef(0x580)]=(0x0,X['v4'])()),this[_0x12a6ef(0x45a)][_0x12a6ef(0x840)][_0x12a6ef(0x25c)]?.[_0x12a6ef(0x580)]===_0x1b63d1[_0x12a6ef(0x580)]?.[_0x12a6ef(0x412)]()){if(_0x1b63d1[_0x12a6ef(0x492)]==='stopped')this[_0x12a6ef(0x45a)][_0x12a6ef(0x840)]['processingGroup']=null;else throw new Error('Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.');}if(_0x1b63d1['delete']&&_0x1b63d1[_0x12a6ef(0x580)]){let _0x45f5ff=await this[_0x12a6ef(0x4f0)][_0x12a6ef(0x5a8)][_0x12a6ef(0x208)](_0x1b63d1[_0x12a6ef(0x580)],this[_0x12a6ef(0x45a)][_0x12a6ef(0x7c7)]);return setTimeout(()=>this[_0x12a6ef(0x46b)](),0x7d0),_0x45f5ff;}let _0x3d2304=null;if(_0x1b63d1[_0x12a6ef(0x580)]&&(_0x3d2304=await this[_0x12a6ef(0x4f0)][_0x12a6ef(0x5a8)]['findById'](_0x1b63d1['_id'],this[_0x12a6ef(0x45a)][_0x12a6ef(0x7c7)])),_0x3d2304){let {_id:_0x2d8f52,owner:_0x1cff90,messages:_0x5bbe56,..._0x2712bb}=_0x1b63d1;if(_0x5bbe56){let _0x5810c6=_0x5bbe56[_0x12a6ef(0x842)](_0x3b9d29=>!_0x3b9d29[_0x12a6ef(0x580)]),_0x1c49d0=_0x5bbe56['filter'](_0x355c16=>_0x355c16['_id']&&!_0x355c16[_0x12a6ef(0x5ce)]),_0x1b681d=_0x5bbe56['filter'](_0x52dcde=>_0x52dcde[_0x12a6ef(0x580)]&&_0x52dcde[_0x12a6ef(0x5ce)]);if(_0x5810c6[_0x12a6ef(0x3a7)]>0x0&&await this[_0x12a6ef(0x357)](_0x1b63d1[_0x12a6ef(0x580)],_0x5810c6),_0x1c49d0[_0x12a6ef(0x3a7)]>0x0&&await this[_0x12a6ef(0x435)]({'_id':_0x1b63d1['_id'],'messages':_0x1c49d0}),_0x1b681d[_0x12a6ef(0x3a7)]>0x0){let _0x2236af=_0x1b681d['map'](_0x29764a=>({'updateOne':{'filter':{'_id':_0x1b63d1[_0x12a6ef(0x580)]},'update':{'$pull':{'messages':{'_id':_0x29764a[_0x12a6ef(0x580)]}}}}}));await this[_0x12a6ef(0x4f0)][_0x12a6ef(0x5a8)][_0x12a6ef(0x3f8)](_0x2236af,this[_0x12a6ef(0x45a)][_0x12a6ef(0x7c7)]);}}let _0x4f3585={'$set':{..._0x2712bb,'status':_0x1b63d1[_0x12a6ef(0x492)]||_0x3d2304[_0x12a6ef(0x492)]}},_0x66a388=await this[_0x12a6ef(0x4f0)][_0x12a6ef(0x5a8)][_0x12a6ef(0x456)](_0x1b63d1[_0x12a6ef(0x580)],_0x4f3585,this['instance'][_0x12a6ef(0x7c7)]);return _0x66a388&&(this[_0x12a6ef(0x620)](_0x66a388[_0x12a6ef(0x89a)]),await this[_0x12a6ef(0x4f0)][_0x12a6ef(0x5a8)][_0x12a6ef(0x456)](_0x66a388[_0x12a6ef(0x580)],{'$set':{'messages':_0x66a388['messages']}},this[_0x12a6ef(0x45a)][_0x12a6ef(0x7c7)])),setTimeout(()=>this[_0x12a6ef(0x46b)](),0x7d0),await this[_0x12a6ef(0x2d4)](),_0x66a388;}else{_0x1b63d1['owner']=this[_0x12a6ef(0x45a)]['wuid'],_0x1b63d1[_0x12a6ef(0x89a)]&&_0x1b63d1[_0x12a6ef(0x89a)][_0x12a6ef(0x888)](_0x3b63b4=>{const _0x110093=_0x12a6ef;_0x3b63b4[_0x110093(0x580)]||(_0x3b63b4[_0x110093(0x580)]=(0x0,X['v4'])()),_0x3b63b4[_0x110093(0x469)]||(_0x3b63b4[_0x110093(0x469)]=_0x1b63d1[_0x110093(0x580)]),delete _0x3b63b4['triedToSend'];});let _0x2f93cb=await this[_0x12a6ef(0x4f0)][_0x12a6ef(0x5a8)]['createAndSave'](_0x1b63d1,this['instance'][_0x12a6ef(0x7c7)]);return _0x2f93cb&&(this[_0x12a6ef(0x620)](_0x2f93cb[_0x12a6ef(0x89a)]),await this[_0x12a6ef(0x4f0)]['scheduleMessage'][_0x12a6ef(0x456)](_0x2f93cb[_0x12a6ef(0x580)],{'$set':{'messages':_0x2f93cb[_0x12a6ef(0x89a)]}},this[_0x12a6ef(0x45a)][_0x12a6ef(0x7c7)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2f93cb;}}catch(_0x4dcb06){let _0x16d05c=_0x12a6ef(0x298),_0x1cc0fa=_0x4dcb06 instanceof Error?_0x4dcb06[_0x12a6ef(0x577)]:typeof _0x4dcb06==_0x12a6ef(0x3e2)?JSON[_0x12a6ef(0x716)](_0x4dcb06):_0x4dcb06,_0x323fc6=_0x16d05c+':\x20'+_0x1cc0fa;throw this[_0x12a6ef(0x69c)]['error'](this[_0x12a6ef(0x7c4)]+'\x20('+this[_0x12a6ef(0x45a)][_0x12a6ef(0x7c7)]+'):\x20'+_0x323fc6),new m(_0x323fc6);}}async[a0_0xa27d39(0x357)](_0x9700be,_0x28d998){const _0x51681a=a0_0xa27d39;try{this[_0x51681a(0x69c)][_0x51681a(0x6c3)](this[_0x51681a(0x7c4)]+'\x20('+this[_0x51681a(0x45a)][_0x51681a(0x7c7)]+_0x51681a(0x874)),_0x28d998['forEach'](_0x49b9b1=>{const _0x36a96d=_0x51681a;_0x49b9b1['_id']||(_0x49b9b1[_0x36a96d(0x580)]=(0x0,X['v4'])()),_0x49b9b1[_0x36a96d(0x469)]||(_0x49b9b1[_0x36a96d(0x469)]=_0x9700be),delete _0x49b9b1[_0x36a96d(0x58d)];});let _0x3b75c5={'$push':{'messages':{'$each':_0x28d998}}},_0x5c3155=await this['repository'][_0x51681a(0x5a8)][_0x51681a(0x456)](_0x9700be,_0x3b75c5,this[_0x51681a(0x45a)][_0x51681a(0x7c7)]);return _0x5c3155&&(this[_0x51681a(0x620)](_0x5c3155['messages']),await this[_0x51681a(0x4f0)][_0x51681a(0x5a8)]['updateOneById'](_0x5c3155['_id'],{'$set':{'messages':_0x5c3155['messages']}},this[_0x51681a(0x45a)][_0x51681a(0x7c7)])),_0x5c3155;}catch(_0xfaab05){let _0xc6f4da=_0x51681a(0x470),_0x111162=_0xfaab05 instanceof Error?_0xfaab05['message']:typeof _0xfaab05==_0x51681a(0x3e2)?JSON[_0x51681a(0x716)](_0xfaab05):_0xfaab05,_0x28f9e8=_0xc6f4da+':\x20'+_0x111162;throw this[_0x51681a(0x69c)][_0x51681a(0x664)](this[_0x51681a(0x7c4)]+'\x20('+this[_0x51681a(0x45a)][_0x51681a(0x7c7)]+'):\x20'+_0x28f9e8),new m(_0x28f9e8);}}async[a0_0xa27d39(0x435)](_0xa5f1fb){const _0x1ccb3a=a0_0xa27d39;try{if(this[_0x1ccb3a(0x69c)]['verbose'](this[_0x1ccb3a(0x7c4)]+'\x20('+this['instance']['wuid']+_0x1ccb3a(0x8f0)),!_0xa5f1fb[_0x1ccb3a(0x580)]||!_0xa5f1fb[_0x1ccb3a(0x89a)])throw new Error(_0x1ccb3a(0x58c));let _0x21a3d4=_0xa5f1fb['_id'],_0x2febe4=_0xa5f1fb[_0x1ccb3a(0x89a)],_0x42ae94=_0x2febe4[_0x1ccb3a(0x842)](_0x33af90=>!_0x33af90[_0x1ccb3a(0x5ce)])[_0x1ccb3a(0x59b)](_0x4a5384=>{const _0x201b58=_0x1ccb3a;let _0xce56e4=_0x4a5384[_0x201b58(0x580)];if(!_0xce56e4)throw new Error(_0x201b58(0x792));return _0x4a5384[_0x201b58(0x469)]||(_0x4a5384[_0x201b58(0x469)]=_0x21a3d4),delete _0x4a5384['triedToSend'],{'updateOne':{'filter':{'_id':_0x21a3d4,'messages._id':_0xce56e4},'update':{'$set':{'messages.$[elem]':_0x4a5384}},'arrayFilters':[{'elem._id':_0xce56e4}]}};}),_0x37d8ae=_0x2febe4[_0x1ccb3a(0x842)](_0x3c65bc=>_0x3c65bc[_0x1ccb3a(0x5ce)])[_0x1ccb3a(0x59b)](_0x592e53=>{const _0x2929ca=_0x1ccb3a;let _0x2b3914=_0x592e53[_0x2929ca(0x580)];if(!_0x2b3914)throw new Error(_0x2929ca(0x8b8));return{'updateOne':{'filter':{'_id':_0x21a3d4},'update':{'$pull':{'messages':{'_id':_0x2b3914}}}}};}),_0x4e59ed=[..._0x42ae94,..._0x37d8ae],_0x50cd29=await this[_0x1ccb3a(0x4f0)][_0x1ccb3a(0x5a8)][_0x1ccb3a(0x3f8)](_0x4e59ed,this['instance'][_0x1ccb3a(0x7c7)]),_0x23e8b9=await this['repository']['scheduleMessage'][_0x1ccb3a(0x27f)](_0x21a3d4,this[_0x1ccb3a(0x45a)][_0x1ccb3a(0x7c7)]);return _0x23e8b9&&(this['reorderMessages'](_0x23e8b9['messages']),await this['repository'][_0x1ccb3a(0x5a8)][_0x1ccb3a(0x456)](_0x23e8b9[_0x1ccb3a(0x580)],{'$set':{'messages':_0x23e8b9[_0x1ccb3a(0x89a)]}},this[_0x1ccb3a(0x45a)][_0x1ccb3a(0x7c7)])),_0x23e8b9;}catch(_0x2a05c2){let _0x3701dd=_0x1ccb3a(0x788),_0x40d3af=_0x2a05c2 instanceof Error?_0x2a05c2[_0x1ccb3a(0x577)]:typeof _0x2a05c2=='object'?JSON['stringify'](_0x2a05c2):_0x2a05c2,_0x38c2e4=_0x3701dd+':\x20'+_0x40d3af;throw this[_0x1ccb3a(0x69c)]['error'](this[_0x1ccb3a(0x7c4)]+'\x20('+this[_0x1ccb3a(0x45a)][_0x1ccb3a(0x7c7)]+_0x1ccb3a(0x7cd)+_0x38c2e4),new m(_0x38c2e4);}}async['deleteDoneMessages'](){const _0x3bd883=a0_0xa27d39;try{let _0x51eca5={'status':_0x3bd883(0x3e6)},_0x3a85e0=await this['repository']['scheduleMessage']['deleteMany'](_0x51eca5,this[_0x3bd883(0x45a)][_0x3bd883(0x7c7)]);if(!_0x3a85e0['error'])this[_0x3bd883(0x69c)][_0x3bd883(0x6c3)](this[_0x3bd883(0x7c4)]+'\x20('+this[_0x3bd883(0x45a)][_0x3bd883(0x7c7)]+_0x3bd883(0x379));else throw new Error(_0x3a85e0[_0x3bd883(0x664)][_0x3bd883(0x577)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this['getScheduleMessage']();}catch(_0x272058){let _0x28e981='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x5f4fec=_0x272058 instanceof Error?_0x272058[_0x3bd883(0x577)]:typeof _0x272058=='object'?JSON[_0x3bd883(0x716)](_0x272058):_0x272058,_0x4238ed=_0x28e981+':\x20'+_0x5f4fec;throw this[_0x3bd883(0x69c)][_0x3bd883(0x664)](this['instanceName']+'\x20('+this['instance'][_0x3bd883(0x7c7)]+_0x3bd883(0x7cd)+_0x4238ed),new m(_0x4238ed);}}async[a0_0xa27d39(0x864)](){const _0x4536bf=a0_0xa27d39;try{return await this[_0x4536bf(0x4f0)][_0x4536bf(0x5a8)]['find']({'where':{}},this['instance']['wuid']);}catch(_0xccc9b9){let _0x1a349e='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x860b01=_0xccc9b9 instanceof Error?_0xccc9b9['message']:typeof _0xccc9b9==_0x4536bf(0x3e2)?JSON['stringify'](_0xccc9b9):_0xccc9b9,_0x371bbe=_0x1a349e+':\x20'+_0x860b01;throw this[_0x4536bf(0x69c)][_0x4536bf(0x664)](this[_0x4536bf(0x7c4)]+'\x20('+this[_0x4536bf(0x45a)][_0x4536bf(0x7c7)]+'):\x20'+_0x371bbe),new m(_0x371bbe);}}[a0_0xa27d39(0x620)](_0x52b690){const _0x24ced2=a0_0xa27d39;_0x52b690[_0x24ced2(0x80e)]((_0x259abd,_0x193178)=>_0x259abd[_0x24ced2(0x513)]-_0x193178['order']),_0x52b690[_0x24ced2(0x888)]((_0x1305ac,_0x4b9dc6)=>{_0x1305ac['order']=_0x4b9dc6+0x1;});}async[a0_0xa27d39(0x46e)](_0x4a27e1,_0x5e43b4){const _0x2fed4e=a0_0xa27d39;try{if(!_0x5e43b4)return this[_0x2fed4e(0x69c)][_0x2fed4e(0x664)](this[_0x2fed4e(0x7c4)]+'\x20('+this[_0x2fed4e(0x45a)][_0x2fed4e(0x7c7)]+_0x2fed4e(0x736)),{'error':!0x0,'detail':_0x2fed4e(0x2af)};if(_0x5e43b4[_0x2fed4e(0x302)]==='flow'&&!this[_0x2fed4e(0x278)]?.[_0x2fed4e(0x2eb)][_0x2fed4e(0x6c9)])return this[_0x2fed4e(0x69c)][_0x2fed4e(0x664)](this['instanceName']+'\x20('+this['instance'][_0x2fed4e(0x7c7)]+_0x2fed4e(0x4e6)),{'error':!0x0,'detail':_0x2fed4e(0x717)};switch(_0x5e43b4[_0x2fed4e(0x302)]){case _0x2fed4e(0x558):return await this[_0x2fed4e(0x749)](_0x5e43b4,_0x4a27e1);case _0x2fed4e(0x895):case'image':case _0x2fed4e(0x356):return await this[_0x2fed4e(0x1fb)](_0x5e43b4,_0x4a27e1);case _0x2fed4e(0x3a3):return await this[_0x2fed4e(0x77e)](_0x5e43b4,_0x4a27e1);case _0x2fed4e(0x6b3):let _0x368427=new Qe();return _0x368427[_0x2fed4e(0x75e)]=_0x5e43b4[_0x2fed4e(0x6b3)],_0x368427[_0x2fed4e(0x5a2)]=_0x4a27e1,await this['startFlow'](_0x368427);default:return this['logger'][_0x2fed4e(0x664)](this['instanceName']+'\x20('+this[_0x2fed4e(0x45a)][_0x2fed4e(0x7c7)]+'):\x20Comando\x20desconhecido:\x20'+_0x5e43b4[_0x2fed4e(0x302)]),{'error':!0x0,'detail':_0x2fed4e(0x3fa)};}}catch(_0x5209f4){return this[_0x2fed4e(0x69c)][_0x2fed4e(0x664)](this[_0x2fed4e(0x7c4)]+'\x20('+this[_0x2fed4e(0x45a)][_0x2fed4e(0x7c7)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x5209f4 instanceof Error?_0x5209f4[_0x2fed4e(0x577)]:JSON[_0x2fed4e(0x716)](_0x5209f4,null,0x2))),{'error':!0x0,'detail':_0x5209f4[_0x2fed4e(0x577)]};}}async[a0_0xa27d39(0x749)](_0x347f3a,_0x313423){const _0x43d49f=a0_0xa27d39;if(this['logger'][_0x43d49f(0x6c3)](this['instanceName']+'\x20('+this[_0x43d49f(0x45a)]['wuid']+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x313423+'\x27'),!_0x347f3a[_0x43d49f(0x558)]||_0x347f3a[_0x43d49f(0x558)][_0x43d49f(0x3a7)]===0x0)return{'error':!0x0,'detail':_0x43d49f(0x83d)};let _0x1e8119=await this[_0x43d49f(0x266)](_0x347f3a[_0x43d49f(0x558)],_0x313423),_0x3c9bed={'number':_0x313423,'options':{'delay':_0x347f3a[_0x43d49f(0x753)],'linkPreview':_0x347f3a[_0x43d49f(0x76b)]},'textMessage':{'text':_0x1e8119}},_0x30faa1=null;try{let _0x36aa1b=await this[_0x43d49f(0x58b)](_0x3c9bed);if(_0x36aa1b&&_0x36aa1b[_0x43d49f(0x492)])return{'error':!0x1,'id':_0x36aa1b[_0x43d49f(0x5e0)]['id']};_0x30faa1=JSON[_0x43d49f(0x716)](_0x36aa1b),this[_0x43d49f(0x69c)][_0x43d49f(0x6c3)](this[_0x43d49f(0x7c4)]+'\x20('+this[_0x43d49f(0x45a)][_0x43d49f(0x7c7)]+'):\x20'+_0x30faa1);}catch(_0x44e20b){this['logger'][_0x43d49f(0x664)](this[_0x43d49f(0x7c4)]+'\x20('+this[_0x43d49f(0x45a)][_0x43d49f(0x7c7)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x44e20b instanceof Error?_0x44e20b[_0x43d49f(0x577)]:JSON[_0x43d49f(0x716)](_0x44e20b,null,0x2))),_0x30faa1=_0x44e20b[_0x43d49f(0x577)];}if(_0x30faa1)return{'error':!0x0,'detail':(typeof _0x30faa1==_0x43d49f(0x3e2)?JSON['stringify'](_0x30faa1,null,0x2):_0x30faa1)[_0x43d49f(0x817)](/[\[\]{}\n]/g,'\x20')[_0x43d49f(0x817)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x32977f,_0x3fb4f2){const _0x508eba=a0_0xa27d39;this[_0x508eba(0x69c)][_0x508eba(0x6c3)](this[_0x508eba(0x7c4)]+'\x20('+this['instance']['wuid']+_0x508eba(0x2f8)+_0x3fb4f2+'\x27');let _0x10bc34;_0x32977f['text']&&_0x32977f[_0x508eba(0x558)][_0x508eba(0x3a7)]>0x0&&(_0x10bc34=await this[_0x508eba(0x266)](_0x32977f[_0x508eba(0x558)],_0x3fb4f2));let _0x53b23a={'number':_0x3fb4f2,'options':{'delay':_0x32977f[_0x508eba(0x753)],'linkPreview':_0x32977f[_0x508eba(0x76b)]},'mediaMessage':{'mediatype':_0x32977f['type'],'caption':_0x10bc34,'media':_0x32977f[_0x508eba(0x220)]}},_0x1b1496=null;try{let _0x57602f=await this[_0x508eba(0x322)](_0x53b23a);if(_0x57602f&&_0x57602f[_0x508eba(0x492)])return{'error':!0x1,'id':_0x57602f[_0x508eba(0x5e0)]['id']};_0x1b1496=JSON[_0x508eba(0x716)](_0x57602f),this[_0x508eba(0x69c)][_0x508eba(0x6c3)](this[_0x508eba(0x7c4)]+'\x20('+this['instance'][_0x508eba(0x7c7)]+_0x508eba(0x7cd)+_0x1b1496);}catch(_0x534cd5){this['logger'][_0x508eba(0x664)](this[_0x508eba(0x7c4)]+'\x20('+this['instance'][_0x508eba(0x7c7)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x534cd5 instanceof Error?_0x534cd5[_0x508eba(0x577)]:JSON['stringify'](_0x534cd5,null,0x2))),_0x1b1496=_0x534cd5[_0x508eba(0x577)];}if(_0x1b1496)return{'error':!0x0,'detail':(typeof _0x1b1496=='object'?JSON[_0x508eba(0x716)](_0x1b1496,null,0x2):_0x1b1496)['replace'](/[\[\]{}\n]/g,'\x20')[_0x508eba(0x817)](/  +/g,'\x20')};}async[a0_0xa27d39(0x77e)](_0x5dc60f,_0x31fb01){const _0x295b60=a0_0xa27d39;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x295b60(0x45a)]['wuid']+_0x295b60(0x4c6)+_0x31fb01+'\x27');let _0x319e35={'number':_0x31fb01,'options':{'delay':_0x5dc60f[_0x295b60(0x753)]},'audioMessage':{'audio':_0x5dc60f[_0x295b60(0x220)]}},_0x5bc6d9=null;try{let _0x56c46e=await this[_0x295b60(0x646)](_0x319e35);if(_0x56c46e&&_0x56c46e[_0x295b60(0x492)])return{'error':!0x1,'id':_0x56c46e[_0x295b60(0x5e0)]['id']};_0x5bc6d9=JSON[_0x295b60(0x716)](_0x56c46e),this[_0x295b60(0x69c)][_0x295b60(0x6c3)](this['instanceName']+'\x20('+this['instance'][_0x295b60(0x7c7)]+'):\x20'+_0x5bc6d9);}catch(_0x38e656){this[_0x295b60(0x69c)][_0x295b60(0x664)](this['instanceName']+'\x20('+this[_0x295b60(0x45a)][_0x295b60(0x7c7)]+_0x295b60(0x1d3)+(_0x38e656 instanceof Error?_0x38e656[_0x295b60(0x577)]:JSON[_0x295b60(0x716)](_0x38e656,null,0x2))),_0x5bc6d9=_0x38e656[_0x295b60(0x577)];}if(_0x5bc6d9)return{'error':!0x0,'detail':(typeof _0x5bc6d9=='object'?JSON[_0x295b60(0x716)](_0x5bc6d9,null,0x2):_0x5bc6d9)['replace'](/[\[\]{}\n]/g,'\x20')[_0x295b60(0x817)](/  +/g,'\x20')};}async[a0_0xa27d39(0x75b)](_0x19d004){const _0x3e37fc=a0_0xa27d39;try{return await this[_0x3e37fc(0x1f1)][_0x3e37fc(0x26a)](_0x19d004['groupJid'],_0x19d004['description']),{'update':'success'};}catch(_0x2cbc99){let _0x159b9d=_0x3e37fc(0x2de),_0x479134=_0x2cbc99 instanceof Error?_0x2cbc99[_0x3e37fc(0x577)]:typeof _0x2cbc99=='object'?JSON['stringify'](_0x2cbc99):_0x2cbc99,_0x2c60fb=_0x159b9d+':\x20'+_0x479134;throw this[_0x3e37fc(0x69c)]['error'](this[_0x3e37fc(0x7c4)]+'\x20('+this['instance'][_0x3e37fc(0x7c7)]+_0x3e37fc(0x7cd)+_0x2c60fb),new x(_0x2c60fb);}}async['groupName'](_0x3e3058){const _0x5d7b35=a0_0xa27d39;try{return await this[_0x5d7b35(0x1f1)][_0x5d7b35(0x1ee)](_0x3e3058[_0x5d7b35(0x3c1)],_0x3e3058[_0x5d7b35(0x75e)]),{'update':'success'};}catch(_0x30932a){let _0x4151a4=_0x5d7b35(0x215),_0x1f966c=_0x30932a instanceof Error?_0x30932a[_0x5d7b35(0x577)]:typeof _0x30932a==_0x5d7b35(0x3e2)?JSON[_0x5d7b35(0x716)](_0x30932a):_0x30932a,_0x18880d=_0x4151a4+':\x20'+_0x1f966c;throw this[_0x5d7b35(0x69c)][_0x5d7b35(0x664)](this[_0x5d7b35(0x7c4)]+'\x20('+this[_0x5d7b35(0x45a)][_0x5d7b35(0x7c7)]+_0x5d7b35(0x7cd)+_0x18880d),new x(_0x18880d);}}async[a0_0xa27d39(0x4db)](_0x5993ca){const _0x3b89de=a0_0xa27d39;try{let _0x2e16d7=await this[_0x3b89de(0x1f1)]['groupToggleEphemeral'](_0x5993ca[_0x3b89de(0x3c1)],_0x5993ca[_0x3b89de(0x372)]);return{'success':!0x0};}catch(_0x348f24){let _0x3246b6=_0x3b89de(0x85b),_0x3eb2be=_0x348f24 instanceof Error?_0x348f24[_0x3b89de(0x577)]:typeof _0x348f24==_0x3b89de(0x3e2)?JSON[_0x3b89de(0x716)](_0x348f24):_0x348f24,_0x1f63fc=_0x3246b6+':\x20'+_0x3eb2be;throw this['logger']['error'](this[_0x3b89de(0x7c4)]+'\x20('+this[_0x3b89de(0x45a)]['wuid']+_0x3b89de(0x7cd)+_0x1f63fc),new x(_0x1f63fc);}}async['groupSetting'](_0x45823d){const _0x7b1d52=a0_0xa27d39;try{return await this[_0x7b1d52(0x1f1)][_0x7b1d52(0x645)](_0x45823d[_0x7b1d52(0x3c1)],_0x45823d[_0x7b1d52(0x65b)]),{'update':_0x7b1d52(0x39c)};}catch(_0x3d5d22){let _0x26e278='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x10f957=_0x3d5d22 instanceof Error?_0x3d5d22[_0x7b1d52(0x577)]:typeof _0x3d5d22==_0x7b1d52(0x3e2)?JSON['stringify'](_0x3d5d22):_0x3d5d22,_0x57e986=_0x26e278+':\x20'+_0x10f957;throw this['logger'][_0x7b1d52(0x664)](this[_0x7b1d52(0x7c4)]+'\x20('+this[_0x7b1d52(0x45a)][_0x7b1d52(0x7c7)]+_0x7b1d52(0x7cd)+_0x57e986),new x(_0x57e986);}}async['updateGroupPicture'](_0xa1b384){const _0x54d325=a0_0xa27d39;try{let _0x1331fc;if((0x0,L['isURL'])(_0xa1b384[_0x54d325(0x475)])){let _0xbdef7f=new Date()[_0x54d325(0x260)](),_0x2b1cfe=_0xa1b384[_0x54d325(0x475)]+'?timestamp='+_0xbdef7f;_0x1331fc=(await te['default'][_0x54d325(0x711)](_0x2b1cfe,{'responseType':_0x54d325(0x222)}))[_0x54d325(0x343)];}else{if((0x0,L[_0x54d325(0x89b)])(_0xa1b384[_0x54d325(0x475)]))_0x1331fc=Buffer[_0x54d325(0x396)](_0xa1b384[_0x54d325(0x475)],_0x54d325(0x745));else throw new m(_0x54d325(0x437));}return await this[_0x54d325(0x1f1)][_0x54d325(0x7e1)](_0xa1b384[_0x54d325(0x3c1)],_0x1331fc),{'update':_0x54d325(0x39c)};}catch(_0x26c4af){let _0x7d7e18=_0x54d325(0x37b),_0x130a13=_0x26c4af instanceof Error?_0x26c4af[_0x54d325(0x577)]:typeof _0x26c4af==_0x54d325(0x3e2)?JSON[_0x54d325(0x716)](_0x26c4af):_0x26c4af,_0x166d59=_0x7d7e18+':\x20'+_0x130a13;throw this[_0x54d325(0x69c)][_0x54d325(0x664)](this[_0x54d325(0x7c4)]+'\x20('+this[_0x54d325(0x45a)][_0x54d325(0x7c7)]+'):\x20'+_0x166d59),new x(_0x166d59);}}},Bt=class u{constructor(_0x5bc74b,_0x5b7904,_0x425aec){const _0x533a98=a0_0xa27d39;this[_0x533a98(0x48d)]=_0x5bc74b,this['configService']=_0x5b7904,this[_0x533a98(0x4f0)]=_0x425aec,this['db']={},this[_0x533a98(0x4ad)]={},this[_0x533a98(0x69c)]=new $(u[_0x533a98(0x75e)]),this['waInstances']={},(this[_0x533a98(0x54a)](),this[_0x533a98(0x6d2)](),Object[_0x533a98(0x1f5)](this['db'],_0x5b7904[_0x533a98(0x711)](_0x533a98(0x3d1))),Object[_0x533a98(0x1f5)](this[_0x533a98(0x4ad)],_0x5b7904[_0x533a98(0x711)](_0x533a98(0x777))),this[_0x533a98(0x479)]=this['db']['ENABLED']?this[_0x533a98(0x4f0)][_0x533a98(0x71f)]?.['db'](this['db'][_0x533a98(0x485)][_0x533a98(0x67b)]+_0x533a98(0x87a)):void 0x0,this[_0x533a98(0x8ff)]=this['redis'][_0x533a98(0x2ce)]?new ge(this['redis']):void 0x0);}async[a0_0xa27d39(0x282)](_0x11cd99){const _0x141ff6=a0_0xa27d39;if(_0x11cd99&&!this[_0x141ff6(0x897)][_0x11cd99])throw new J(_0x141ff6(0x36c)+_0x11cd99+_0x141ff6(0x8f9));let _0x3ddb29=[];for await(let [_0x2276b4,_0x265c27]of Object['entries'](this[_0x141ff6(0x897)]))if(_0x265c27&&_0x265c27['connectionStatus']['state']===_0x141ff6(0x483)){let _0x22dc53=await this['repository'][_0x141ff6(0x6d4)][_0x141ff6(0x678)](_0x2276b4);_0x3ddb29[_0x141ff6(0x898)]({'instance':{'instanceName':_0x2276b4,'apikey':_0x22dc53[_0x141ff6(0x59d)],'owner':_0x265c27[_0x141ff6(0x7c7)],'profileName':await _0x265c27[_0x141ff6(0x4c0)]()||'not\x20loaded','profilePictureUrl':_0x265c27['profilePictureUrl']}});}return _0x3ddb29[_0x141ff6(0x678)](_0xba82c2=>_0xba82c2['instance'][_0x141ff6(0x7c4)]===_0x11cd99)??_0x3ddb29;}async[a0_0xa27d39(0x651)](_0x63197c){const _0x139c55=a0_0xa27d39;if(this['db'][_0x139c55(0x2ce)]&&(await this[_0x139c55(0x4f0)]['dbServer'][_0x139c55(0x3b2)](),(await this[_0x139c55(0x479)]['collections']())[_0x139c55(0x3a7)]>0x0&&await this[_0x139c55(0x479)][_0x139c55(0x601)](_0x63197c)),this[_0x139c55(0x4ad)][_0x139c55(0x2ce)]){this[_0x139c55(0x8ff)]['reference']=_0x63197c,await this[_0x139c55(0x8ff)][_0x139c55(0x48f)]();return;}}async[a0_0xa27d39(0x307)](){const _0x70a78a=a0_0xa27d39;await this[_0x70a78a(0x2a1)]();let _0x439c61=async _0x317253=>{const _0x45dbb0=_0x70a78a;let _0x12ec16=new Ae(this[_0x45dbb0(0x44e)],this['eventEmitter'],this[_0x45dbb0(0x4f0)]);_0x12ec16[_0x45dbb0(0x7c4)]=_0x317253,await _0x12ec16[_0x45dbb0(0x677)](),this['waInstances'][_0x317253]=_0x12ec16;};try{if(this[_0x70a78a(0x4ad)][_0x70a78a(0x2ce)]){let _0x67e5ce=await this[_0x70a78a(0x8ff)][_0x70a78a(0x276)]();_0x67e5ce?.[_0x70a78a(0x3a7)]>0x0&&_0x67e5ce['forEach'](async _0x3ef47c=>await _0x439c61(_0x3ef47c[_0x70a78a(0x8cb)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x70a78a(0x4f0)][_0x70a78a(0x71f)][_0x70a78a(0x3b2)]();let _0x40fb6a=await this['dbInstance'][_0x70a78a(0x23d)]();_0x40fb6a[_0x70a78a(0x3a7)]>0x0&&_0x40fb6a[_0x70a78a(0x888)](async _0x5ad4ac=>await _0x439c61(_0x5ad4ac[_0x70a78a(0x44b)][_0x70a78a(0x817)](/^[\w-]+\./,'')));return;}}catch(_0x18c46e){this['logger'][_0x70a78a(0x664)](_0x18c46e);}}async[a0_0xa27d39(0x78f)](){const _0x183577=a0_0xa27d39;try{let _0x7c9c65=await this[_0x183577(0x4f0)][_0x183577(0x6d4)][_0x183577(0x2c7)]({'online':!0x1});for(let _0x5cfba7 of _0x7c9c65){let _0x446c3f=_0x5cfba7[_0x183577(0x580)];await re[_0x183577(0x20d)](K,_0x446c3f);}console[_0x183577(0x843)](_0x183577(0x1f0)+_0x7c9c65[_0x183577(0x3a7)]);let _0x47df96={'online':!0x1},_0x415fd0=await this[_0x183577(0x4f0)]['auth'][_0x183577(0x73a)](_0x47df96);console[_0x183577(0x843)](_0x183577(0x7d8)+_0x415fd0[_0x183577(0x283)]);}catch(_0x4574be){console['error'](_0x183577(0x6a1),_0x4574be);}}async[a0_0xa27d39(0x2a1)](){const _0x1ed390=a0_0xa27d39;try{let _0x2accec={'online':!0x1},_0x403250={'online':!0x1,'lastDisconnect':Date[_0x1ed390(0x27c)]()},_0x397f0d=await this['repository'][_0x1ed390(0x6d4)][_0x1ed390(0x579)](_0x2accec,_0x403250);await this[_0x1ed390(0x78f)]();}catch(_0x17a54e){console[_0x1ed390(0x664)](_0x1ed390(0x228),_0x17a54e);}}['removeInstance'](){const _0x3d635b=a0_0xa27d39;this[_0x3d635b(0x48d)]['on'](_0x3d635b(0x621),async _0x370cb0=>{const _0x5ccfe6=_0x3d635b;try{this[_0x5ccfe6(0x897)][_0x370cb0]=void 0x0;}catch{}try{this[_0x5ccfe6(0x651)](_0x370cb0);}finally{this[_0x5ccfe6(0x69c)][_0x5ccfe6(0x76e)](_0x5ccfe6(0x36c)+_0x370cb0+_0x5ccfe6(0x22c));}});}['noConnection'](){const _0x2a6afc=a0_0xa27d39;this[_0x2a6afc(0x48d)]['on'](_0x2a6afc(0x31c),async _0x16a12c=>{const _0x8949cd=_0x2a6afc;try{this[_0x8949cd(0x897)][_0x16a12c]=void 0x0;}catch{}try{this[_0x8949cd(0x651)](_0x16a12c);}finally{this[_0x8949cd(0x69c)][_0x8949cd(0x76e)]('Instance\x20\x22'+_0x16a12c+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Wt=class extends _{[a0_0xa27d39(0x409)](_0x4bd494){return aa(_0x4bd494);}async[a0_0xa27d39(0x45b)](_0x5a65df){const _0x419b59=a0_0xa27d39;if(_0x5a65df[_0x419b59(0x3a7)]!==0x0)try{return{'insertCount':(await this[_0x419b59(0x409)](_0x5a65df[0x0][_0x419b59(0x57a)])[_0x419b59(0x648)]([..._0x5a65df]))[_0x419b59(0x3a7)]};}catch(_0x5bfe1b){return _0x5bfe1b;}}async['find'](_0x2b5d50,_0x609ff8){const _0x355628=a0_0xa27d39;try{let _0x51fc4a=this[_0x355628(0x409)](_0x609ff8),_0x20c777=I(_0x2b5d50[_0x355628(0x66d)]);return await _0x51fc4a[_0x355628(0x678)](_0x20c777)[_0x355628(0x80e)]({'lastmsg':-0x1})[_0x355628(0x852)](_0x2b5d50?.[_0x355628(0x852)]??0x0)[_0x355628(0x2a8)]();}catch{return[];}}async[a0_0xa27d39(0x5fd)](_0x4550d4,_0x2e82d9){const _0x3212a5=a0_0xa27d39;try{let _0x52074c=this[_0x3212a5(0x409)](_0x2e82d9),_0x20e73b=I(_0x4550d4[_0x3212a5(0x66d)]);return _0x20e73b[_0x3212a5(0x8bd)]={'$ne':[]},await _0x52074c[_0x3212a5(0x678)](_0x20e73b)[_0x3212a5(0x80e)]({'lastmsg':-0x1})['limit'](_0x4550d4?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0xa27d39(0x5ce)](_0xaf6caf,_0x3e6eaf){const _0xfc0453=a0_0xa27d39;try{return{'deletedCount':(await this[_0xfc0453(0x409)](_0x3e6eaf)[_0xfc0453(0x73a)]({..._0xaf6caf[_0xfc0453(0x66d)]}))[_0xfc0453(0x39d)]};}catch(_0x2bc453){return{'error':_0x2bc453?.['toString']()};}}async[a0_0xa27d39(0x5ed)](_0x5de5ed,_0x48e521){const _0x10dc9c=a0_0xa27d39;try{return await this[_0x10dc9c(0x409)](_0x48e521)[_0x10dc9c(0x73a)]({..._0x5de5ed[_0x10dc9c(0x66d)]}),[];}catch(_0x683b80){return{'error':_0x683b80?.[_0x10dc9c(0x412)]()};}}async['findOne'](_0x3c3747,_0x249dbb){const _0x1e9c4f=a0_0xa27d39;try{let _0x41051e=this['getChatModelForOwner'](_0x249dbb),_0x32d8a4=I(_0x3c3747[_0x1e9c4f(0x66d)]);return await _0x41051e[_0x1e9c4f(0x25d)](_0x32d8a4)[_0x1e9c4f(0x2a8)]();}catch{return null;}}async['updateOne'](_0xdf6ac5,_0x77148b,_0x334456,_0x1db21f,_0x4a782a='$set'){const _0x46677a=a0_0xa27d39;try{let _0x32bdf4={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1db21f},_0x2da412=this[_0x46677a(0x409)](_0x334456),_0x54ac66=I(_0xdf6ac5[_0x46677a(0x66d)]);Object[_0x46677a(0x537)](_0x77148b)[_0x46677a(0x888)](_0x2e41c5=>{_0x77148b[_0x2e41c5]==null&&delete _0x77148b[_0x2e41c5];});let _0xaaa97={};return _0xaaa97[_0x4a782a]=_0x77148b,await _0x2da412[_0x46677a(0x5ae)](_0x54ac66,_0xaaa97,_0x32bdf4);}catch(_0x4e985b){return console[_0x46677a(0x664)](_0x4e985b),null;}}async[a0_0xa27d39(0x442)](_0x4f172b){const _0x2ebaee=a0_0xa27d39;try{let _0x5c44c9=this[_0x2ebaee(0x409)](_0x4f172b[0x0][_0x2ebaee(0x640)][_0x2ebaee(0x66d)][_0x2ebaee(0x57a)]),_0xe330df=_0x4f172b[_0x2ebaee(0x59b)](_0x520c5a=>({'updateOne':{'filter':{..._0x520c5a[_0x2ebaee(0x640)]['where']},'update':{'$set':_0x520c5a[_0x2ebaee(0x8e1)]},'upsert':!0x0}})),_0x392f6a=await _0x5c44c9['bulkWrite'](_0xe330df);return _0x392f6a[_0x2ebaee(0x415)]+_0x392f6a[_0x2ebaee(0x4c8)];}catch(_0x3647de){return console[_0x2ebaee(0x664)](_0x3647de),0x0;}}async[a0_0xa27d39(0x6e5)](_0x31ead0){const _0x15a230=a0_0xa27d39;try{let _0x52b45b={'group_isCommunity':'','group_announce':'','group_size':''},_0x4cf891={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1b9b8a={'$unset':_0x52b45b};return(await this[_0x15a230(0x409)](_0x31ead0)[_0x15a230(0x442)](_0x4cf891,_0x1b9b8a))[_0x15a230(0x415)];}catch(_0x2082e8){return console[_0x15a230(0x664)](_0x15a230(0x6bd),_0x2082e8),0x0;}}async[a0_0xa27d39(0x5ea)](_0x3eb7a5){const _0x4b58bb=a0_0xa27d39;try{let _0x58c23a=this[_0x4b58bb(0x409)](_0x3eb7a5),_0x5011df={'leadInfo.etiquetas':{'$exists':!0x1}},_0x231023={'$set':{'leadInfo.etiquetas':[]}};return(await _0x58c23a[_0x4b58bb(0x442)](_0x5011df,_0x231023))['modifiedCount'];}catch(_0x337fd5){return console[_0x4b58bb(0x664)](_0x337fd5),0x0;}}async[a0_0xa27d39(0x833)](_0x161bef){const _0x48eec8=a0_0xa27d39;try{let _0x2727b4=this['getChatModelForOwner'](_0x161bef),_0x1c515c={'leadInfo.tags':{'$exists':!0x1}},_0x26d86b={'$set':{'leadInfo.tags':[]}};return(await _0x2727b4[_0x48eec8(0x442)](_0x1c515c,_0x26d86b))[_0x48eec8(0x415)];}catch(_0x5f33ed){return console[_0x48eec8(0x664)](_0x5f33ed),0x0;}}async['updateMissingCustomFields'](_0x5f58e8){const _0x38ddb9=a0_0xa27d39;try{let _0x11fa0a=this[_0x38ddb9(0x409)](_0x5f58e8),_0xcadb15={'leadInfo.customFields':{'$exists':!0x1}},_0x59da55={'$set':{'leadInfo.customFields':[]}};return(await _0x11fa0a[_0x38ddb9(0x442)](_0xcadb15,_0x59da55))['modifiedCount'];}catch(_0x516bc4){return console[_0x38ddb9(0x664)](_0x516bc4),0x0;}}async[a0_0xa27d39(0x648)](_0x43a5c4,_0x368500){const _0x5bd608=a0_0xa27d39;if(!Array[_0x5bd608(0x5b0)](_0x43a5c4)||_0x43a5c4[_0x5bd608(0x3a7)]===0x0)throw new Error(_0x5bd608(0x6f7));try{return(await this[_0x5bd608(0x409)](_0x368500)[_0x5bd608(0x648)](_0x43a5c4))[_0x5bd608(0x3a7)];}catch(_0x4ad114){throw console[_0x5bd608(0x664)](_0x5bd608(0x62f),_0x4ad114),_0x4ad114;}}async[a0_0xa27d39(0x66a)](_0x41ea98,_0x526658){const _0x2c5ef4=a0_0xa27d39;try{await this['getChatModelForOwner'](_0x526658)['deleteOne']({'_id':_0x41ea98});}catch(_0x5c431c){throw console[_0x2c5ef4(0x664)](_0x2c5ef4(0x6df),_0x5c431c),_0x5c431c;}}},zt=class extends _{constructor(_0x5bea8a,_0x29a51c,_0xa7e440){const _0x5e5592=a0_0xa27d39;super(_0x29a51c),this['cacheContactModel']=_0x5bea8a,this[_0x5e5592(0x44e)]=_0x29a51c,this[_0x5e5592(0x50a)]=_0xa7e440;}async[a0_0xa27d39(0x45b)](_0x936965){const _0x1371f1=a0_0xa27d39;if(_0x936965[_0x1371f1(0x3a7)]!==0x0)try{return{'insertCount':(await this[_0x1371f1(0x2dc)][_0x1371f1(0x648)]([..._0x936965]))[_0x1371f1(0x3a7)]};}catch(_0x17198a){return _0x17198a;}}async[a0_0xa27d39(0x8e1)](_0x303938,_0x2f3b67){const _0x199e3b=a0_0xa27d39;try{let _0x1958f7=I(_0x303938['where']);return{'updatedCount':(await this[_0x199e3b(0x2dc)][_0x199e3b(0x442)](_0x1958f7,{'$set':_0x2f3b67}))[_0x199e3b(0x415)]};}catch(_0x134485){return console[_0x199e3b(0x664)](_0x199e3b(0x1e2),_0x134485),{'error':_0x134485[_0x199e3b(0x412)]()};}}async[a0_0xa27d39(0x684)](_0x5a61dd){const _0x5c58b5=a0_0xa27d39;try{let _0xef803={'_id':{'$in':_0x5a61dd}};return await this[_0x5c58b5(0x2dc)]['find'](_0xef803)['lean']();}catch(_0x316b59){return console[_0x5c58b5(0x664)](_0x5c58b5(0x865),_0x316b59),[];}}async[a0_0xa27d39(0x5ce)](_0x21e4bd){const _0x95a0a2=a0_0xa27d39;try{return{'deletedCount':(await this[_0x95a0a2(0x2dc)][_0x95a0a2(0x73a)]({..._0x21e4bd[_0x95a0a2(0x66d)]}))['deletedCount']};}catch(_0x4562f1){return{'error':_0x4562f1?.[_0x95a0a2(0x412)]()};}}async[a0_0xa27d39(0x678)](_0x7cc7f8){const _0x54afc0=a0_0xa27d39;try{let _0x5336a0=I(_0x7cc7f8[_0x54afc0(0x66d)]);return await this[_0x54afc0(0x2dc)][_0x54afc0(0x678)](_0x5336a0)[_0x54afc0(0x852)](_0x7cc7f8?.['limit']??0x0)[_0x54afc0(0x2a8)]();}catch{return[];}}async[a0_0xa27d39(0x25d)](_0x5d9a55){const _0x25c3b9=a0_0xa27d39;try{let _0x2c0bbd=I(_0x5d9a55[_0x25c3b9(0x66d)]);return await this[_0x25c3b9(0x2dc)][_0x25c3b9(0x25d)](_0x2c0bbd)['lean']();}catch{return null;}}},Ht=class extends _{[a0_0xa27d39(0x2ab)](_0x5e2cdd){return Na(_0x5e2cdd);}async[a0_0xa27d39(0x45c)](_0x19f350,_0x1b4f5e,_0xad59c7,_0x54bd56){const _0xba3be5=a0_0xa27d39;try{let _0x2f91de={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x54bd56},_0x34a7bc=this[_0xba3be5(0x2ab)](_0xad59c7),_0xf7cfd8=I(_0x19f350[_0xba3be5(0x66d)]);return await _0x34a7bc[_0xba3be5(0x5ae)](_0xf7cfd8,{'$set':_0x1b4f5e},_0x2f91de);}catch(_0x30bfc3){return console[_0xba3be5(0x664)](_0x30bfc3),null;}}async['find'](_0x5609e1,_0x4e8be0){const _0x2a1fb0=a0_0xa27d39;try{let _0xdbba0=this[_0x2a1fb0(0x2ab)](_0x4e8be0),_0xb090f1=I(_0x5609e1[_0x2a1fb0(0x66d)]);return await _0xdbba0[_0x2a1fb0(0x678)](_0xb090f1);}catch(_0x4b54a4){console['error'](_0x4b54a4);}}async[a0_0xa27d39(0x5ce)](_0x34bd59,_0x126ca1){const _0x2de964=a0_0xa27d39;try{let _0x330606=this[_0x2de964(0x2ab)](_0x126ca1),_0x5639d8=I(_0x34bd59[_0x2de964(0x66d)]);await _0x330606[_0x2de964(0x73a)](_0x5639d8);}catch(_0x10a8e5){console[_0x2de964(0x664)](_0x10a8e5);}}async[a0_0xa27d39(0x5ed)](_0x451074){const _0x5b1ed2=a0_0xa27d39;try{return await this[_0x5b1ed2(0x2ab)](_0x451074)[_0x5b1ed2(0x89e)]['drop'](),{'success':!0x0};}catch(_0x3e4b01){return console[_0x5b1ed2(0x664)](_0x3e4b01),{'success':!0x1,'error':_0x3e4b01};}}},Kt=class{constructor(_0x9a6ec3){const _0x2286fb=a0_0xa27d39;this[_0x2286fb(0x808)]=_0x9a6ec3;}async[a0_0xa27d39(0x363)]({instanceName:_0x580a0f},_0xff520c){const _0x1f3eab=a0_0xa27d39;return await this[_0x1f3eab(0x808)][_0x1f3eab(0x897)][_0x580a0f]['editChat'](_0xff520c);}async[a0_0xa27d39(0x286)]({instanceName:_0x4706a7},_0x1356d8){const _0x44b1d6=a0_0xa27d39;return await this[_0x44b1d6(0x808)][_0x44b1d6(0x897)][_0x4706a7][_0x44b1d6(0x286)](_0x1356d8);}async['importChats']({instanceName:_0x13fca5},_0x38ec17){const _0x24463b=a0_0xa27d39;return await this['waMonitor'][_0x24463b(0x897)][_0x13fca5][_0x24463b(0x8e8)](_0x38ec17);}async['readMessage']({instanceName:_0x512fcb},_0x305991){const _0x1567f3=a0_0xa27d39;return await this[_0x1567f3(0x808)][_0x1567f3(0x897)][_0x512fcb]['markMessageAsRead'](_0x305991);}async[a0_0xa27d39(0x516)]({instanceName:_0x32d3ae},_0x322ffd){const _0x400f4f=a0_0xa27d39;return await this['waMonitor'][_0x400f4f(0x897)][_0x32d3ae]['archiveChat'](_0x322ffd);}async[a0_0xa27d39(0x797)]({instanceName:_0x4691e3},_0x30b754){const _0xe52c68=a0_0xa27d39;return await this['waMonitor'][_0xe52c68(0x897)][_0x4691e3][_0xe52c68(0x797)](_0x30b754);}async['fetchProfilePicture']({instanceName:_0x4e86e4},_0x9ff5b){const _0x563489=a0_0xa27d39;return await this[_0x563489(0x808)]['waInstances'][_0x4e86e4][_0x563489(0x8dc)](_0x9ff5b[_0x563489(0x6d9)]);}async[a0_0xa27d39(0x37c)]({instanceName:_0x3877a0},_0x790b6f){const _0x3f4ef5=a0_0xa27d39;return await this[_0x3f4ef5(0x808)][_0x3f4ef5(0x897)][_0x3877a0][_0x3f4ef5(0x37c)](_0x790b6f[_0x3f4ef5(0x6d9)]);}async[a0_0xa27d39(0x630)]({instanceName:_0x5b940c},_0xaefcfb){const _0x5714ad=a0_0xa27d39;return await this[_0x5714ad(0x808)]['waInstances'][_0x5b940c][_0x5714ad(0x630)](_0xaefcfb);}async[a0_0xa27d39(0x32f)]({instanceName:_0x37ef30},_0x3d0d5e){const _0x1de6d6=a0_0xa27d39;return await this[_0x1de6d6(0x808)][_0x1de6d6(0x897)][_0x37ef30][_0x1de6d6(0x32f)](_0x3d0d5e);}async[a0_0xa27d39(0x89d)]({instanceName:_0x385558},_0x368aff){const _0x4cd335=a0_0xa27d39;return await this[_0x4cd335(0x808)][_0x4cd335(0x897)][_0x385558][_0x4cd335(0x89d)](_0x368aff);}async['fetchMessages']({instanceName:_0x33ba5e},_0xdb3fb7){const _0x57ed3f=a0_0xa27d39;return await this[_0x57ed3f(0x808)][_0x57ed3f(0x897)][_0x33ba5e][_0x57ed3f(0x868)](_0xdb3fb7);}async[a0_0xa27d39(0x42d)]({instanceName:_0x51befd}){const _0x102560=a0_0xa27d39;return await this['waMonitor'][_0x102560(0x897)][_0x51befd][_0x102560(0x42d)]();}async[a0_0xa27d39(0x4fe)]({instanceName:_0x54d035}){const _0x544e9e=a0_0xa27d39;return await this[_0x544e9e(0x808)]['waInstances'][_0x54d035]['fetchChats']();}async[a0_0xa27d39(0x708)]({instanceName:_0x911fbc}){const _0x1bdac3=a0_0xa27d39;return await this[_0x1bdac3(0x808)][_0x1bdac3(0x897)][_0x911fbc][_0x1bdac3(0x708)]();}async['updatePrivacySettings']({instanceName:_0x17a468},_0x5f7467){const _0x351ab5=a0_0xa27d39;return await this['waMonitor'][_0x351ab5(0x897)][_0x17a468][_0x351ab5(0x23e)](_0x5f7467);}async[a0_0xa27d39(0x8cf)]({instanceName:_0x2c6492},_0x13b15f){const _0x4d3131=a0_0xa27d39;return await this[_0x4d3131(0x808)][_0x4d3131(0x897)][_0x2c6492][_0x4d3131(0x8cf)](_0x13b15f[_0x4d3131(0x6d9)]);}async['updateProfileName']({instanceName:_0x18a44c},_0x1db951){const _0x5d2059=a0_0xa27d39;return await this[_0x5d2059(0x808)][_0x5d2059(0x897)][_0x18a44c][_0x5d2059(0x84b)](_0x1db951['name']);}async['updateProfileStatus']({instanceName:_0x40373a},_0xda3c3f){const _0x44877f=a0_0xa27d39;return await this[_0x44877f(0x808)][_0x44877f(0x897)][_0x40373a]['updateProfileStatus'](_0xda3c3f['status']);}async[a0_0xa27d39(0x7e1)]({instanceName:_0x18656c},_0x3498fa){const _0x3a2d4b=a0_0xa27d39;return await this[_0x3a2d4b(0x808)][_0x3a2d4b(0x897)][_0x18656c]['updateProfilePicture'](_0x3498fa[_0x3a2d4b(0x4d8)]);}async[a0_0xa27d39(0x880)]({instanceName:_0x1b1e35},_0x4a8998){const _0x234d6c=a0_0xa27d39;return await this[_0x234d6c(0x808)][_0x234d6c(0x897)][_0x1b1e35][_0x234d6c(0x880)]();}},Qt=require('@whiskeysockets/baileys'),Yt=class u{constructor(_0x459707,_0x2e07f6,_0x284df5,_0x1dd7ba,_0x189e9c){const _0x2deecd=a0_0xa27d39;this[_0x2deecd(0x808)]=_0x459707,this[_0x2deecd(0x44e)]=_0x2e07f6,this['repository']=_0x284df5,this['eventEmitter']=_0x1dd7ba,this[_0x2deecd(0x295)]=_0x189e9c,this[_0x2deecd(0x69c)]=new $(u[_0x2deecd(0x75e)]);}async['createInstance']({instanceName:_0x123d8c,apikey:_0x14c7c0,number:_0xbf4a5,proxy:_0x3f8357=!0x0}){const _0x170b36=a0_0xa27d39;try{let _0x18931b=new Ae(this[_0x170b36(0x44e)],this[_0x170b36(0x48d)],this[_0x170b36(0x4f0)]);_0x18931b[_0x170b36(0x7c4)]=_0x123d8c,this[_0x170b36(0x808)][_0x170b36(0x897)][_0x18931b[_0x170b36(0x7c4)]]=_0x18931b;let _0x41fde5={};_0x14c7c0?(await this[_0x170b36(0x4f0)][_0x170b36(0x6d4)][_0x170b36(0x5bc)]({'apikey':_0x14c7c0},_0x123d8c),_0x41fde5['apikey']=_0x14c7c0):_0x41fde5=await this['authService'][_0x170b36(0x7e8)]({'instanceName':_0x18931b[_0x170b36(0x7c4)]});let _0x627b8;if(_0xbf4a5){if(_0x627b8=await this[_0x170b36(0x7c5)](_0xbf4a5),_0x627b8['error'])throw new x(_0x627b8[_0x170b36(0x664)][_0x170b36(0x412)]());_0xbf4a5=_0x627b8['number'];}let _0x86650e;return await _0x18931b[_0x170b36(0x677)](_0xbf4a5),await(0x0,Qt[_0x170b36(0x753)])(0xfa0),_0xbf4a5&&await(0x0,Qt[_0x170b36(0x753)])(0xbb8),_0x86650e=_0x18931b[_0x170b36(0x274)],{'instance':{'instanceName':_0x18931b[_0x170b36(0x7c4)],'status':_0x170b36(0x72f)},'hash':_0x41fde5,'qrcode':_0x86650e};}catch(_0x291973){throw this[_0x170b36(0x69c)][_0x170b36(0x664)](_0x291973),_0x291973;}}async[a0_0xa27d39(0x287)]({instanceName:_0x384963,number:_0x2dc15b=null}){const _0x1d3578=a0_0xa27d39;try{let _0x5d8b53=this[_0x1d3578(0x808)][_0x1d3578(0x897)][_0x384963];switch(_0x5d8b53?.[_0x1d3578(0x22e)]?.[_0x1d3578(0x5c6)]){case _0x1d3578(0x8f1):return await _0x5d8b53[_0x1d3578(0x677)](_0x2dc15b),await(0x0,Qt[_0x1d3578(0x753)])(0x7d0),_0x5d8b53[_0x1d3578(0x274)];case'connecting':return _0x5d8b53[_0x1d3578(0x274)];default:return await this[_0x1d3578(0x61f)]({'instanceName':_0x384963});}}catch(_0x466c7b){this[_0x1d3578(0x69c)]['log'](_0x466c7b);}}async[a0_0xa27d39(0x61f)]({instanceName:_0x35839c}){const _0x5c89d0=a0_0xa27d39;let _0x5b156f=this[_0x5c89d0(0x808)][_0x5c89d0(0x897)][_0x35839c][_0x5c89d0(0x22e)],_0x43b6ce=null;_0x5b156f[_0x5c89d0(0x5c6)]===_0x5c89d0(0x483)&&_0x35839c&&(_0x43b6ce=await this['waMonitor']['instanceInfo'](_0x35839c));let _0x1655bb=null;return _0x5b156f[_0x5c89d0(0x5c6)]===_0x5c89d0(0x8e3)&&_0x35839c&&(_0x1655bb=this[_0x5c89d0(0x808)]['waInstances'][_0x35839c][_0x5c89d0(0x274)]),{'instance':_0x35839c,'connectionStatus':_0x5b156f,'instanceInfo':_0x43b6ce,'qrcode':_0x1655bb};}async['verifyWhatsAppNumber'](_0x28408f){const _0xe13557=a0_0xa27d39;_0x28408f=_0x28408f[_0xe13557(0x817)](/\D/g,'');let _0x2273b9=Object[_0xe13557(0x537)](this[_0xe13557(0x808)][_0xe13557(0x897)])['filter'](_0x2a983d=>{const _0x49b888=_0xe13557;let _0x26a321=this['waMonitor']['waInstances'][_0x2a983d];return _0x26a321&&_0x26a321[_0x49b888(0x22e)]&&_0x26a321[_0x49b888(0x22e)]['state']==='open';});if(_0x2273b9[_0xe13557(0x3a7)]===0x0)return{'number':this['formatBRNumber'](_0x28408f)};let _0xaf0a24=Math[_0xe13557(0x65c)](Math[_0xe13557(0x1de)]()*_0x2273b9[_0xe13557(0x3a7)]),_0x5e30e5=_0x2273b9[_0xaf0a24];try{let _0x468f2c=(await this[_0xe13557(0x808)][_0xe13557(0x897)][_0x5e30e5][_0xe13557(0x286)]({'numbers':[_0x28408f]}))['shift']();return _0x468f2c[_0xe13557(0x7f7)]?{'number':_0x468f2c['jid'][_0xe13557(0x817)](_0xe13557(0x68e),'')}:{'number':_0x28408f,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x142cdb){return this[_0xe13557(0x69c)][_0xe13557(0x664)](_0xe13557(0x28d)+_0x142cdb),{'number':_0x28408f,'error':_0xe13557(0x27b)};}}[a0_0xa27d39(0x4a7)](_0x43f3bf){const _0x43ad53=a0_0xa27d39;let _0x8a7bb6=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x43ad53(0x626)](_0x43f3bf);if(_0x8a7bb6&&_0x8a7bb6[0x1]==='55'){let _0x109464=_0x8a7bb6[0x2],_0x49d0b9=_0x8a7bb6[0x3],_0x5963e1=_0x8a7bb6[0x4];if(parseInt(_0x109464)>=0x1f&&_0x49d0b9==='9')return _0x8a7bb6[0x1]+_0x109464+_0x5963e1;}return _0x43f3bf;}async[a0_0xa27d39(0x517)]({instanceName:_0x44383d}){const _0x400e3e=a0_0xa27d39;try{return this['waMonitor'][_0x400e3e(0x897)][_0x44383d]?.[_0x400e3e(0x1f1)]?.['ws']?.['close'](),{'status':_0x400e3e(0x901),'error':!0x1,'response':{'message':_0x400e3e(0x891)}};}catch(_0x2d6b68){this['logger'][_0x400e3e(0x664)](_0x2d6b68);}}async[a0_0xa27d39(0x5e5)]({instanceName:_0x1291f7}){const _0xf8e4ad=a0_0xa27d39;return _0x1291f7?this[_0xf8e4ad(0x808)][_0xf8e4ad(0x282)](_0x1291f7):this[_0xf8e4ad(0x808)][_0xf8e4ad(0x282)]();}async[a0_0xa27d39(0x7af)]({instanceName:_0x4f0b4f}){const _0x351cda=a0_0xa27d39;try{return await this[_0x351cda(0x808)][_0x351cda(0x897)][_0x4f0b4f]?.[_0x351cda(0x1f1)]?.[_0x351cda(0x7af)](_0x351cda(0x257)+_0x4f0b4f),{'error':!0x1,'message':_0x351cda(0x4d7)};}catch(_0x18b887){throw new x(_0x18b887['toString']());}}async[a0_0xa27d39(0x3f6)]({instanceName:_0x2e0c78}){const _0x8f3392=a0_0xa27d39;if((await this[_0x8f3392(0x61f)]({'instanceName':_0x2e0c78}))[_0x8f3392(0x22e)][_0x8f3392(0x5c6)]==='open')throw new m([_0x8f3392(0x638),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x8f3392(0x897)][_0x2e0c78],{'error':!0x1,'message':_0x8f3392(0x8bc)};}catch(_0x1e932d){throw new m(_0x1e932d[_0x8f3392(0x412)]());}}},ne=require(a0_0xa27d39(0x2d7)),Xt=class{constructor(_0x3da7fa){const _0x2296fe=a0_0xa27d39;this[_0x2296fe(0x808)]=_0x3da7fa;}async[a0_0xa27d39(0x666)]({instanceName:_0x36983e},_0x36a452){const _0x219f4f=a0_0xa27d39;return await this['waMonitor'][_0x219f4f(0x897)][_0x36983e]['textMessage'](_0x36a452);}async['sendMenu']({instanceName:_0xd06573},_0x7dd448){const _0x54a071=a0_0xa27d39;return await this[_0x54a071(0x808)][_0x54a071(0x897)][_0xd06573]['menuMessage'](_0x7dd448);}async['sendMedia']({instanceName:_0x139c0b},_0x580cce){const _0x26bae7=a0_0xa27d39;if((0x0,ne['isBase64'])(_0x580cce?.['mediaMessage']?.['media'])&&!_0x580cce?.[_0x26bae7(0x322)]?.[_0x26bae7(0x2ef)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ne[_0x26bae7(0x787)])(_0x580cce?.['mediaMessage']?.[_0x26bae7(0x5ff)])||(0x0,ne[_0x26bae7(0x89b)])(_0x580cce?.[_0x26bae7(0x322)]?.[_0x26bae7(0x5ff)]))return await this[_0x26bae7(0x808)]['waInstances'][_0x139c0b]['mediaMessage'](_0x580cce);throw new m(_0x26bae7(0x66e));}async[a0_0xa27d39(0x314)]({instanceName:_0x21fe81},_0x3c1f5c){const _0xe0860a=a0_0xa27d39;if((0x0,ne['isURL'])(_0x3c1f5c[_0xe0860a(0x847)]['image'])||(0x0,ne['isBase64'])(_0x3c1f5c[_0xe0860a(0x847)][_0xe0860a(0x475)]))return await this[_0xe0860a(0x808)][_0xe0860a(0x897)][_0x21fe81][_0xe0860a(0x1d2)](_0x3c1f5c);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x1222df},_0x55a254){const _0x359695=a0_0xa27d39;if((0x0,ne['isURL'])(_0x55a254[_0x359695(0x546)][_0x359695(0x3a3)])||(0x0,ne[_0x359695(0x89b)])(_0x55a254[_0x359695(0x546)][_0x359695(0x3a3)]))return await this[_0x359695(0x808)][_0x359695(0x897)][_0x1222df][_0x359695(0x646)](_0x55a254);throw new m(_0x359695(0x66e));}async[a0_0xa27d39(0x2a2)]({instanceName:_0x29be96},_0x3fbfb1){const _0x15ebcd=a0_0xa27d39;if((0x0,ne[_0x15ebcd(0x89b)])(_0x3fbfb1[_0x15ebcd(0x72b)][_0x15ebcd(0x322)]?.[_0x15ebcd(0x5ff)])&&!_0x3fbfb1[_0x15ebcd(0x72b)]['mediaMessage']?.[_0x15ebcd(0x2ef)])throw new m(_0x15ebcd(0x2f2));return await this[_0x15ebcd(0x808)][_0x15ebcd(0x897)][_0x29be96]['buttonMessage'](_0x3fbfb1);}async[a0_0xa27d39(0x24c)]({instanceName:_0x50b0e7},_0x351389){const _0x5c9b23=a0_0xa27d39;return await this[_0x5c9b23(0x808)][_0x5c9b23(0x897)][_0x50b0e7][_0x5c9b23(0x6f6)](_0x351389);}async[a0_0xa27d39(0x5b5)]({instanceName:_0x60dde3},_0x56a5f8){const _0x5a7c87=a0_0xa27d39;return await this[_0x5a7c87(0x808)][_0x5a7c87(0x897)][_0x60dde3][_0x5a7c87(0x695)](_0x56a5f8);}async[a0_0xa27d39(0x67f)]({instanceName:_0x2ed7d3},_0x4b1e09){const _0xeb9ac7=a0_0xa27d39;return await this['waMonitor'][_0xeb9ac7(0x897)][_0x2ed7d3][_0xeb9ac7(0x7d1)](_0x4b1e09);}async[a0_0xa27d39(0x911)]({instanceName:_0x5a46c7},_0x1f07b1){const _0x5e4e9a=a0_0xa27d39;return await this['waMonitor']['waInstances'][_0x5a46c7][_0x5e4e9a(0x47b)](_0x1f07b1);}async['sendReaction']({instanceName:_0x4e596a},_0x54c0fd){const _0x54e0d2=a0_0xa27d39;if(!_0x54c0fd[_0x54e0d2(0x72c)][_0x54e0d2(0x86d)][_0x54e0d2(0x1d9)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x54e0d2(0x3c8));return await this[_0x54e0d2(0x808)]['waInstances'][_0x4e596a][_0x54e0d2(0x72c)](_0x54c0fd);}async[a0_0xa27d39(0x867)]({instanceName:_0x267039},_0x1da967){const _0x56b638=a0_0xa27d39;return await this['waMonitor'][_0x56b638(0x897)][_0x267039][_0x56b638(0x5bd)](_0x1da967);}},Li=require(a0_0xa27d39(0x7ad)),js=require('uuid'),Zt=class u{constructor(_0x16c297,_0x25487e,_0x32c0d6){const _0x43099f=a0_0xa27d39;this[_0x43099f(0x44e)]=_0x16c297,this[_0x43099f(0x808)]=_0x25487e,this[_0x43099f(0x4f0)]=_0x32c0d6,this['logger']=new $(u[_0x43099f(0x75e)]);}async[a0_0xa27d39(0x884)](_0x889d8c){const _0x270314=a0_0xa27d39;let _0x28a71d=this[_0x270314(0x44e)]['get'](_0x270314(0x3fc))[_0x270314(0x634)],_0x25b2da=(0x0,Li[_0x270314(0x5b4)])({'instanceName':_0x889d8c[_0x270314(0x7c4)],'apiName':ct,'tokenId':(0x0,js['v4'])()},_0x28a71d[_0x270314(0x30e)],{'expiresIn':_0x28a71d[_0x270314(0x914)],'encoding':'utf8','subject':'g-t'}),_0x273bc1=await this[_0x270314(0x4f0)][_0x270314(0x6d4)][_0x270314(0x5bc)]({'jwt':_0x25b2da},_0x889d8c[_0x270314(0x7c4)]);if(_0x273bc1[_0x270314(0x664)])throw this[_0x270314(0x69c)][_0x270314(0x664)]({'localError':u['name']+_0x270314(0x8d6),'error':_0x273bc1[_0x270314(0x664)]}),new m(_0x270314(0x2ed),_0x273bc1[_0x270314(0x664)]?.[_0x270314(0x412)]());return{'jwt':_0x25b2da};}async[a0_0xa27d39(0x59d)](_0x3d1c77){const _0x49f2b5=a0_0xa27d39;let _0x4dbc24=(0x0,js['v4'])()[_0x49f2b5(0x1ca)](),_0x59af28=await this[_0x49f2b5(0x4f0)][_0x49f2b5(0x6d4)][_0x49f2b5(0x5bc)]({'apikey':_0x4dbc24},_0x3d1c77[_0x49f2b5(0x7c4)]);if(_0x59af28[_0x49f2b5(0x664)])throw this['logger'][_0x49f2b5(0x664)]({'localError':u['name']+_0x49f2b5(0x8d6),'error':_0x59af28[_0x49f2b5(0x664)]}),new m('Authentication\x20error',_0x59af28[_0x49f2b5(0x664)]?.[_0x49f2b5(0x412)]());return{'apikey':_0x4dbc24};}async[a0_0xa27d39(0x7e8)](_0x368732){const _0x2a8ad6=a0_0xa27d39;let _0x4bfc73=this[_0x2a8ad6(0x44e)][_0x2a8ad6(0x711)](_0x2a8ad6(0x3fc));return await this[_0x4bfc73['TYPE']](_0x368732);}},es=class{constructor(_0x3ecdde){const _0x25f074=a0_0xa27d39;this[_0x25f074(0x808)]=_0x3ecdde;}async[a0_0xa27d39(0x4a0)](_0x54d6e1,_0x138efc){const _0x35a505=a0_0xa27d39;return await this['waMonitor']['waInstances'][_0x54d6e1[_0x35a505(0x7c4)]][_0x35a505(0x4a0)](_0x138efc);}async[a0_0xa27d39(0x8ee)](_0x2e8e51,_0x9d252b){const _0x400292=a0_0xa27d39;return await this[_0x400292(0x808)][_0x400292(0x897)][_0x2e8e51[_0x400292(0x7c4)]][_0x400292(0x8ee)](_0x9d252b);}async[a0_0xa27d39(0x75b)](_0x5a7aa2,_0x393fb1){const _0x2e00aa=a0_0xa27d39;return await this[_0x2e00aa(0x808)][_0x2e00aa(0x897)][_0x5a7aa2[_0x2e00aa(0x7c4)]][_0x2e00aa(0x75b)](_0x393fb1);}async['groupName'](_0x37dd78,_0x44f2d8){const _0xd9818a=a0_0xa27d39;return await this[_0xd9818a(0x808)][_0xd9818a(0x897)][_0x37dd78[_0xd9818a(0x7c4)]][_0xd9818a(0x8f7)](_0x44f2d8);}async[a0_0xa27d39(0x5db)](_0x763392,_0x1e3cac){const _0x5bc139=a0_0xa27d39;return await this[_0x5bc139(0x808)][_0x5bc139(0x897)][_0x763392[_0x5bc139(0x7c4)]][_0x5bc139(0x5db)](_0x1e3cac);}async[a0_0xa27d39(0x756)](_0x19673f,_0x53ac03){const _0x391b72=a0_0xa27d39;return await this[_0x391b72(0x808)][_0x391b72(0x897)][_0x19673f[_0x391b72(0x7c4)]][_0x391b72(0x756)](_0x53ac03);}async['findGroupInfo'](_0x301af2,_0x4ed634){const _0x9e882=a0_0xa27d39;return await this[_0x9e882(0x808)][_0x9e882(0x897)][_0x301af2[_0x9e882(0x7c4)]][_0x9e882(0x51f)](_0x4ed634);}async['findGroups'](_0x282b70){const _0x108f35=a0_0xa27d39;return await this['waMonitor'][_0x108f35(0x897)][_0x282b70[_0x108f35(0x7c4)]][_0x108f35(0x354)]();}async[a0_0xa27d39(0x42b)](_0xf6f49d,_0xf6a736){const _0x4578a8=a0_0xa27d39;return await this[_0x4578a8(0x808)][_0x4578a8(0x897)][_0xf6f49d[_0x4578a8(0x7c4)]][_0x4578a8(0x42b)](_0xf6a736);}async[a0_0xa27d39(0x8aa)](_0x56512d,_0x16fb4d){const _0x1fd9ce=a0_0xa27d39;return await this['waMonitor'][_0x1fd9ce(0x897)][_0x56512d[_0x1fd9ce(0x7c4)]][_0x1fd9ce(0x8aa)](_0x16fb4d);}async[a0_0xa27d39(0x738)](_0x32f05a,_0x1044c2){const _0x258093=a0_0xa27d39;return await this[_0x258093(0x808)]['waInstances'][_0x32f05a[_0x258093(0x7c4)]][_0x258093(0x738)](_0x1044c2);}async['revokeInviteCode'](_0x15953a,_0x2c6c63){const _0x1171ba=a0_0xa27d39;return await this['waMonitor'][_0x1171ba(0x897)][_0x15953a[_0x1171ba(0x7c4)]][_0x1171ba(0x498)](_0x2c6c63);}async[a0_0xa27d39(0x8d2)](_0x490b84,_0x5b0c8c){const _0x9995dc=a0_0xa27d39;return await this[_0x9995dc(0x808)][_0x9995dc(0x897)][_0x490b84[_0x9995dc(0x7c4)]][_0x9995dc(0x8d2)](_0x5b0c8c);}async[a0_0xa27d39(0x6cf)](_0x25d46c,_0x478fae){const _0x504bac=a0_0xa27d39;return await this[_0x504bac(0x808)][_0x504bac(0x897)][_0x25d46c[_0x504bac(0x7c4)]][_0x504bac(0x410)](_0x478fae);}async[a0_0xa27d39(0x4db)](_0x270954,_0x1c640b){const _0x46e96e=a0_0xa27d39;return await this[_0x46e96e(0x808)][_0x46e96e(0x897)][_0x270954['instanceName']][_0x46e96e(0x4db)](_0x1c640b);}async[a0_0xa27d39(0x35f)](_0x310cec,_0x2ea42f){const _0x482f79=a0_0xa27d39;return await this[_0x482f79(0x808)][_0x482f79(0x897)][_0x310cec[_0x482f79(0x7c4)]]['leaveGroup'](_0x2ea42f);}},ts=class{constructor(_0x2ddbb8){const _0x193dfc=a0_0xa27d39;this[_0x193dfc(0x808)]=_0x2ddbb8;}['create'](_0x249178,_0x52d6ba){const _0x5b5f08=a0_0xa27d39;return this['waMonitor']['waInstances'][_0x249178[_0x5b5f08(0x7c4)]][_0x5b5f08(0x42a)](_0x52d6ba);}async[a0_0xa27d39(0x678)](_0x24c81e){const _0x8d687b=a0_0xa27d39;try{return await this[_0x8d687b(0x808)][_0x8d687b(0x897)][_0x24c81e[_0x8d687b(0x7c4)]][_0x8d687b(0x3bc)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0xa27d39(0x460)),ss=class{constructor(_0x217c6b){const _0x52f9d6=a0_0xa27d39;this[_0x52f9d6(0x808)]=_0x217c6b;}async['editScheduleMessage'](_0xbf9423,_0xd539e){const _0x5864fd=a0_0xa27d39;return await this[_0x5864fd(0x808)][_0x5864fd(0x897)][_0xbf9423[_0x5864fd(0x7c4)]][_0x5864fd(0x1e5)](_0xd539e);}async[a0_0xa27d39(0x864)](_0xa4295){const _0x1fb30b=a0_0xa27d39;return await this[_0x1fb30b(0x808)][_0x1fb30b(0x897)][_0xa4295[_0x1fb30b(0x7c4)]]['getScheduleMessage']();}async[a0_0xa27d39(0x4a5)](_0x2d9bd2){const _0x4a6fa3=a0_0xa27d39;return await this[_0x4a6fa3(0x808)][_0x4a6fa3(0x897)][_0x2d9bd2[_0x4a6fa3(0x7c4)]]['deleteDoneMessages']();}async['getAutomateSystem'](_0x3db5ae){const _0x359fe5=a0_0xa27d39;return await this[_0x359fe5(0x808)][_0x359fe5(0x897)][_0x3db5ae[_0x359fe5(0x7c4)]][_0x359fe5(0x391)]();}async[a0_0xa27d39(0x688)](_0x55a555,_0x32069f){const _0xe585d5=a0_0xa27d39;return await this['waMonitor'][_0xe585d5(0x897)][_0x55a555[_0xe585d5(0x7c4)]]['updateAgent'](_0x32069f);}async[a0_0xa27d39(0x5ca)](_0x3609e3,_0x520a50){const _0x29e663=a0_0xa27d39;return await this[_0x29e663(0x808)][_0x29e663(0x897)][_0x3609e3[_0x29e663(0x7c4)]][_0x29e663(0x5ca)](_0x520a50);}async[a0_0xa27d39(0x3a9)](_0x39d528,_0x40e063){const _0x24a3d4=a0_0xa27d39;return await this[_0x24a3d4(0x808)]['waInstances'][_0x39d528['instanceName']]['updateAutoCompleteMessages'](_0x40e063);}async[a0_0xa27d39(0x1fe)](_0x472d21,_0x28ad7d){const _0x46beec=a0_0xa27d39;return await this[_0x46beec(0x808)]['waInstances'][_0x472d21[_0x46beec(0x7c4)]][_0x46beec(0x1fe)](_0x28ad7d);}async[a0_0xa27d39(0x7d3)](_0x337af1,_0x59b912){const _0x2612be=a0_0xa27d39;return await this[_0x2612be(0x808)][_0x2612be(0x897)][_0x337af1[_0x2612be(0x7c4)]]['startFlow'](_0x59b912);}async['startFlowWebhook'](_0x83f216,_0x4af4a5,_0x3b1eec,_0x5188d5){const _0xd2c0e0=a0_0xa27d39;return await this[_0xd2c0e0(0x808)][_0xd2c0e0(0x897)][_0x83f216][_0xd2c0e0(0x404)](_0x4af4a5,_0x3b1eec,_0x5188d5);}async['getConversation'](_0xf0370c,_0x1a74bc){const _0x23050f=a0_0xa27d39;return await this[_0x23050f(0x808)][_0x23050f(0x897)][_0xf0370c[_0x23050f(0x7c4)]]['getConversation'](_0x1a74bc);}async[a0_0xa27d39(0x587)](_0x598000,_0x250598){const _0x14d33c=a0_0xa27d39;return await this['waMonitor'][_0x14d33c(0x897)][_0x598000[_0x14d33c(0x7c4)]]['fetchConversation'](_0x250598);}async['editConversation'](_0x8a7994,_0x55bf13){const _0x2ba12d=a0_0xa27d39;return await this[_0x2ba12d(0x808)]['waInstances'][_0x8a7994[_0x2ba12d(0x7c4)]][_0x2ba12d(0x616)](_0x55bf13);}async[a0_0xa27d39(0x757)](_0x1910dd,_0x4b4928){const _0x342175=a0_0xa27d39;return await this[_0x342175(0x808)][_0x342175(0x897)][_0x1910dd[_0x342175(0x7c4)]][_0x342175(0x757)](_0x4b4928);}async[a0_0xa27d39(0x552)](_0x3d4bb8,_0x2b4f5c){const _0xa650ba=a0_0xa27d39;return await this[_0xa650ba(0x808)][_0xa650ba(0x897)][_0x3d4bb8[_0xa650ba(0x7c4)]][_0xa650ba(0x552)](_0x2b4f5c[_0xa650ba(0x580)]);}async[a0_0xa27d39(0x854)](_0x761362,_0x2fbe0e,_0xc0f276){const _0x3ce58d=a0_0xa27d39;return await this[_0x3ce58d(0x808)][_0x3ce58d(0x897)][_0x761362['instanceName']][_0x3ce58d(0x854)](_0x2fbe0e,_0xc0f276);}async[a0_0xa27d39(0x20c)](_0x558e01,_0x2e3d93,_0x54f41f){const _0x302ad8=a0_0xa27d39;return await this[_0x302ad8(0x808)][_0x302ad8(0x897)][_0x558e01[_0x302ad8(0x7c4)]][_0x302ad8(0x20c)](_0x2e3d93,_0x54f41f);}async['editFlowBlock'](_0x36a68b,_0x526f45){const _0x472a0f=a0_0xa27d39;return await this[_0x472a0f(0x808)][_0x472a0f(0x897)][_0x36a68b[_0x472a0f(0x7c4)]][_0x472a0f(0x43d)](_0x526f45);}async[a0_0xa27d39(0x703)](_0xd86e1a,_0x3d8a46){const _0x526ca7=a0_0xa27d39;return await this[_0x526ca7(0x808)][_0x526ca7(0x897)][_0xd86e1a['instanceName']][_0x526ca7(0x703)](_0x3d8a46);}async[a0_0xa27d39(0x807)](_0x50b3f8,_0x323e26){const _0x250ba3=a0_0xa27d39;return await this['waMonitor'][_0x250ba3(0x897)][_0x50b3f8[_0x250ba3(0x7c4)]][_0x250ba3(0x807)](_0x323e26);}async[a0_0xa27d39(0x3be)](_0x326e8c,_0x5603c3){const _0x184d0b=a0_0xa27d39;return await this[_0x184d0b(0x808)][_0x184d0b(0x897)][_0x326e8c['instanceName']][_0x184d0b(0x3be)](_0x5603c3);}async[a0_0xa27d39(0x3a8)](_0x4b2c7d,_0x45d09e){const _0x1b43f3=a0_0xa27d39;return await this[_0x1b43f3(0x808)][_0x1b43f3(0x897)][_0x4b2c7d['instanceName']]['editFlowVaredit'](_0x45d09e);}async[a0_0xa27d39(0x698)](_0x17077c,_0x202b61){const _0xafcc9e=a0_0xa27d39;return await this[_0xafcc9e(0x808)][_0xafcc9e(0x897)][_0x17077c[_0xafcc9e(0x7c4)]][_0xafcc9e(0x698)](_0x202b61);}async[a0_0xa27d39(0x490)](_0x2eff49,_0x357302){const _0x11430a=a0_0xa27d39;return await this[_0x11430a(0x808)][_0x11430a(0x897)][_0x2eff49['instanceName']]['deleteFlow'](_0x357302);}async['allFlows'](_0x4738b1){const _0x5a64a4=a0_0xa27d39;return await this[_0x5a64a4(0x808)]['waInstances'][_0x4738b1[_0x5a64a4(0x7c4)]][_0x5a64a4(0x22f)]();}},as=class{constructor(_0x292bfd){this['webhookService']=_0x292bfd;}async[a0_0xa27d39(0x821)](_0x36a6c6,_0x4e1cb1){const _0x52ff9=a0_0xa27d39;return this['webhookService'][_0x52ff9(0x5bc)](_0x36a6c6,_0x4e1cb1);}async['findWebhook'](_0x2f873a){const _0x48e7cc=a0_0xa27d39;return this[_0x48e7cc(0x8b4)][_0x48e7cc(0x678)](_0x2f873a);}},is=class extends _{constructor(_0x83437,_0x46445a){const _0x4e8858=a0_0xa27d39;super(_0x46445a),this[_0x4e8858(0x4fb)]=_0x83437,this['configService']=_0x46445a;}async[a0_0xa27d39(0x5bc)](_0x56e390,_0x3e92cf){const _0x469051=a0_0xa27d39;try{return this[_0x469051(0x8a5)]['ENABLED']?{'insertCount':(await this[_0x469051(0x4fb)][_0x469051(0x33d)]({'_id':_0x3e92cf},{..._0x56e390},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x440356){return _0x440356;}}async[a0_0xa27d39(0x5ce)](_0x432bfe){const _0x29a90a=a0_0xa27d39;try{if(this[_0x29a90a(0x8a5)][_0x29a90a(0x2ce)]){await this[_0x29a90a(0x4fb)][_0x29a90a(0x208)]({'_id':_0x432bfe});return;}}catch(_0xab7d77){return{'error':_0xab7d77};}}async[a0_0xa27d39(0x678)](_0x5d8257){const _0x2baf89=a0_0xa27d39;try{if(this[_0x2baf89(0x8a5)]['ENABLED'])return await this['webhookModel'][_0x2baf89(0x25d)]({'_id':_0x5d8257});}catch{return{};}}},os=class extends _{constructor(_0x4198b0,_0xdc1bfd){const _0x252c1a=a0_0xa27d39;super(_0xdc1bfd),this['authModel']=_0x4198b0,this['configService']=_0xdc1bfd,this[_0x252c1a(0x6d4)]=_0xdc1bfd[_0x252c1a(0x711)](_0x252c1a(0x3fc));}async[a0_0xa27d39(0x5bc)](_0x5bf4ab,_0x3a36a4){const _0x166aa7=a0_0xa27d39;try{if(this[_0x166aa7(0x8a5)][_0x166aa7(0x2ce)])return{'insertCount':(await this[_0x166aa7(0x40a)]['updateOne']({'_id':_0x3a36a4},{'$set':{..._0x5bf4ab}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x1e90c6){return{'error':_0x1e90c6};}}async[a0_0xa27d39(0x579)](_0x12ad9e,_0xc73756){const _0x355709=a0_0xa27d39;try{if(this[_0x355709(0x8a5)][_0x355709(0x2ce)])return{'insertCount':(await this[_0x355709(0x40a)][_0x355709(0x442)](_0x12ad9e,{'$set':_0xc73756},{'upsert':!0x1}))[_0x355709(0x415)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0xf72635){return{'error':_0xf72635};}}async[a0_0xa27d39(0x73a)](_0x4f1310){const _0x560fc8=a0_0xa27d39;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x560fc8(0x40a)][_0x560fc8(0x73a)](_0x4f1310))[_0x560fc8(0x39d)]};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x561429){return{'error':_0x561429};}}async[a0_0xa27d39(0x5ce)](_0x2a2f1e){const _0x1f24fe=a0_0xa27d39;try{if(this[_0x1f24fe(0x8a5)][_0x1f24fe(0x2ce)]){await this['authModel'][_0x1f24fe(0x208)]({'_id':_0x2a2f1e});return;}}catch(_0x1c7a04){return{'error':_0x1c7a04};}}async['find'](_0x359fe1){const _0x2c674a=a0_0xa27d39;try{if(this[_0x2c674a(0x8a5)]['ENABLED'])return await this['authModel'][_0x2c674a(0x25d)]({'_id':_0x359fe1});}catch{return{};}}async['findAll'](){const _0x4c6fef=a0_0xa27d39;try{if(this['dbSettings'][_0x4c6fef(0x2ce)])return await this[_0x4c6fef(0x40a)][_0x4c6fef(0x678)]();}catch{return[];}}async[a0_0xa27d39(0x2c7)](_0x5da30f){const _0x25a6fd=a0_0xa27d39;try{if(this[_0x25a6fd(0x8a5)][_0x25a6fd(0x2ce)])return await this['authModel']['find'](_0x5da30f);}catch{return[];}}},rs=class extends _{async[a0_0xa27d39(0x208)](_0xd9d833){const _0x4cabbe=a0_0xa27d39;try{let _0x4c672e=I(_0xd9d833[_0x4cabbe(0x66d)]);return{'deletedCount':(await Ee[_0x4cabbe(0x208)](_0x4c672e))[_0x4cabbe(0x39d)]};}catch(_0x49cf39){return{'error':_0x49cf39?.[_0x4cabbe(0x412)]()};}}async[a0_0xa27d39(0x45c)](_0x489514,_0xf99b1b){const _0x17555d=a0_0xa27d39;try{let _0x192930=await Ee[_0x17555d(0x27f)](_0x489514);return _0x192930?(Object[_0x17555d(0x1f5)](_0x192930,_0xf99b1b),await _0x192930[_0x17555d(0x400)]()):(console[_0x17555d(0x664)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x489514),null);}catch(_0x49fe80){return console[_0x17555d(0x664)](_0x17555d(0x606),_0x49fe80),null;}}async['createAndSave'](_0x166a0d){const _0x480848=a0_0xa27d39;try{return await new Ee(_0x166a0d)[_0x480848(0x400)]();}catch(_0x5b5ca5){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x5b5ca5),null;}}async[a0_0xa27d39(0x8f5)](_0x533446){const _0x2a1b22=a0_0xa27d39;try{let _0x5b70eb=_0x533446[_0x2a1b22(0x66d)]??{};return await Ee[_0x2a1b22(0x678)](_0x5b70eb)['limit'](_0x533446['limit']??0x0)[_0x2a1b22(0x2a8)]();}catch(_0x5b763c){return console[_0x2a1b22(0x664)](_0x2a1b22(0x721),_0x5b763c),[];}}async[a0_0xa27d39(0x25d)](_0x18b351){const _0x15ff6f=a0_0xa27d39;try{let _0x5e8fd5=I(_0x18b351['where']);return await Ee['findOne'](_0x5e8fd5)[_0x15ff6f(0x2a8)]();}catch{return null;}}},ns=class extends _{[a0_0xa27d39(0x90c)](_0x56ae4c){return Ca(_0x56ae4c);}async[a0_0xa27d39(0x45b)](_0x3cb1e9){const _0x2817fa=a0_0xa27d39;if(_0x3cb1e9[_0x2817fa(0x3a7)]!==0x0)try{return{'insertCount':(await this[_0x2817fa(0x90c)](_0x3cb1e9[0x0][_0x2817fa(0x57a)])[_0x2817fa(0x648)]([..._0x3cb1e9]))['length']};}catch(_0x4f0c26){return _0x4f0c26;}}async['delete'](_0x2cc24f,_0x368e9d){const _0x184c71=a0_0xa27d39;try{let _0x5224a4=this[_0x184c71(0x90c)](_0x368e9d),_0xc6a990=I(_0x2cc24f['where']);return{'deletedCount':(await _0x5224a4[_0x184c71(0x73a)](_0xc6a990))[_0x184c71(0x39d)]};}catch(_0x4f286e){return{'error':_0x4f286e?.[_0x184c71(0x412)]()};}}async[a0_0xa27d39(0x208)](_0x4ec521,_0xf9bf36){const _0xeaf02a=a0_0xa27d39;try{let _0x2d56da=this['getConversationModelForOwner'](_0xf9bf36),_0xa714db=I(_0x4ec521[_0xeaf02a(0x66d)]);return{'deletedCount':(await _0x2d56da[_0xeaf02a(0x208)](_0xa714db))[_0xeaf02a(0x39d)]};}catch(_0x5b1e6c){return{'error':_0x5b1e6c?.['toString']()};}}async[a0_0xa27d39(0x8e1)](_0x21f9d4,_0x37a0fc){const _0xb2b47b=a0_0xa27d39;try{if(_0x21f9d4[_0xb2b47b(0x3a7)]===0x0)return;let _0x45940b=this[_0xb2b47b(0x90c)](_0x37a0fc),_0x4fd122=_0x21f9d4['map'](_0x11e998=>({'updateOne':{'filter':{'name':_0x11e998['name'],'owner':_0x37a0fc},'update':{..._0x11e998}}})),{modifiedCount:_0x315cfa}=await _0x45940b[_0xb2b47b(0x3f8)](_0x4fd122);return{'insertCount':_0x315cfa};}catch{return;}}async[a0_0xa27d39(0x442)](_0x3de200,_0x2c11d8,_0x58faa0){const _0x4254e8=a0_0xa27d39;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x58faa0)[_0x4254e8(0x442)](_0x3de200,{'$set':_0x2c11d8})[_0x4254e8(0x626)]())[_0x4254e8(0x415)]};}catch(_0x32621c){return console[_0x4254e8(0x664)](_0x4254e8(0x21c),_0x32621c),{'error':_0x32621c};}}async[a0_0xa27d39(0x45c)](_0x53e8c0,_0x2b5ad8,_0x142ba2){const _0xdc2756=a0_0xa27d39;try{return await this[_0xdc2756(0x90c)](_0x142ba2)['findOneAndUpdate']({'_id':_0x53e8c0},{'$set':_0x2b5ad8},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x245739){return console[_0xdc2756(0x664)](_0x245739),null;}}async[a0_0xa27d39(0x678)](_0x1db1ed,_0x4ffc59){const _0x18e578=a0_0xa27d39;try{return await this['getConversationModelForOwner'](_0x4ffc59)[_0x18e578(0x678)](_0x1db1ed)[_0x18e578(0x80e)]({'lastInteraction':-0x1})[_0x18e578(0x2a8)]();}catch{return[];}}async[a0_0xa27d39(0x25d)](_0x55068d,_0x4e8ab4){const _0x28f614=a0_0xa27d39;try{return await this[_0x28f614(0x90c)](_0x4e8ab4)[_0x28f614(0x25d)]({..._0x55068d[_0x28f614(0x66d)]})[_0x28f614(0x2a8)]();}catch{return null;}}async[a0_0xa27d39(0x5ed)](_0x42b767){const _0x21cf2d=a0_0xa27d39;try{return await this[_0x21cf2d(0x90c)](_0x42b767)[_0x21cf2d(0x89e)][_0x21cf2d(0x712)](),{'success':!0x0};}catch(_0x3183d2){return console['error'](_0x3183d2),{'success':!0x1,'error':_0x3183d2};}}},cs=class extends _{[a0_0xa27d39(0x4b2)](_0x413003){return Ea(_0x413003);}async[a0_0xa27d39(0x3f8)](_0x511998,_0x4aefa0){const _0x341bfb=a0_0xa27d39;try{return await this['getScheduleMessageModelForOwner'](_0x4aefa0)[_0x341bfb(0x3f8)](_0x511998);}catch(_0xbb2ee4){return console[_0x341bfb(0x664)]('Erro\x20ao\x20executar\x20bulkWrite:',_0xbb2ee4),null;}}async['createAndSave'](_0x2899e1,_0x3758b){const _0x2cb3af=a0_0xa27d39;try{let _0x1285e4=this['getScheduleMessageModelForOwner'](_0x3758b);return await new _0x1285e4(_0x2899e1)['save']();}catch(_0x540d3c){return console[_0x2cb3af(0x664)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x540d3c),null;}}async[a0_0xa27d39(0x208)](_0x172e1a,_0x31455b){const _0x1f54bb=a0_0xa27d39;try{return await this[_0x1f54bb(0x4b2)](_0x31455b)[_0x1f54bb(0x85a)](_0x172e1a),{};}catch(_0x38dfd3){return{'error':_0x38dfd3?.[_0x1f54bb(0x412)]()};}}async[a0_0xa27d39(0x45c)](_0xb0c3b4,_0x53d28f,_0x7e8e74,_0x172eec={}){const _0xa4fd19=a0_0xa27d39;try{return await this['getScheduleMessageModelForOwner'](_0x7e8e74)[_0xa4fd19(0x5ae)](_0xb0c3b4,_0x53d28f,{..._0x172eec,'new':!0x0})['lean']();}catch(_0x479748){return console[_0xa4fd19(0x664)](_0xa4fd19(0x5ee),_0x479748),null;}}async[a0_0xa27d39(0x456)](_0x4b6c86,_0x3d8889,_0x187545){const _0x27f845=a0_0xa27d39;try{return await this[_0x27f845(0x4b2)](_0x187545)['findByIdAndUpdate'](_0x4b6c86,_0x3d8889,{'new':!0x0})[_0x27f845(0x2a8)]();}catch(_0x39a46c){return console[_0x27f845(0x664)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x39a46c),null;}}async['find'](_0xd8ff6d,_0x2ab06d){const _0x422bf2=a0_0xa27d39;try{return await this[_0x422bf2(0x4b2)](_0x2ab06d)[_0x422bf2(0x678)](_0xd8ff6d[_0x422bf2(0x66d)])['limit'](_0xd8ff6d?.[_0x422bf2(0x852)]??0x0)[_0x422bf2(0x80e)]({'when':0x1})[_0x422bf2(0x2a8)]();}catch{return[];}}async[a0_0xa27d39(0x25d)](_0x68b043,_0x188229){const _0x2c2eb5=a0_0xa27d39;try{return await this[_0x2c2eb5(0x4b2)](_0x188229)['findOne'](_0x68b043[_0x2c2eb5(0x66d)])['sort']({'when':0x1})[_0x2c2eb5(0x2a8)]();}catch{return null;}}async[a0_0xa27d39(0x27f)](_0x5b0fd2,_0x19a68d){const _0x2fc55d=a0_0xa27d39;try{return await this[_0x2fc55d(0x4b2)](_0x19a68d)[_0x2fc55d(0x27f)](_0x5b0fd2)['lean']();}catch{return null;}}async[a0_0xa27d39(0x73a)](_0x3aa014,_0x14d24b){const _0x554679=a0_0xa27d39;try{return{'deletedCount':(await this[_0x554679(0x4b2)](_0x14d24b)[_0x554679(0x73a)](_0x3aa014))['deletedCount']};}catch(_0xf38b61){return console[_0x554679(0x664)](_0x554679(0x826),_0xf38b61),{'error':_0xf38b61};}}async[a0_0xa27d39(0x5ed)](_0x34dcfb){const _0x49b992=a0_0xa27d39;try{return await this[_0x49b992(0x4b2)](_0x34dcfb)[_0x49b992(0x89e)][_0x49b992(0x712)](),{'success':!0x0};}catch(_0x5f2fd4){return console['error'](_0x5f2fd4),{'success':!0x1,'error':_0x5f2fd4};}}},ls=class extends _{async[a0_0xa27d39(0x8e1)](_0x10fc0a,_0xe96f80){const _0x38a1d9=a0_0xa27d39;try{if(this['dbSettings']['ENABLED'])return await Oe['findOneAndUpdate']({'_id':_0xe96f80},{'$set':_0x10fc0a},{'new':!0x0});}catch(_0x44f9ab){throw console[_0x38a1d9(0x664)](_0x38a1d9(0x28a),_0x44f9ab),_0x44f9ab;}}async['findOrCreate'](_0x1776a9){const _0x21179f=a0_0xa27d39;try{let _0x6c4b23=await Oe[_0x21179f(0x27f)](_0x1776a9);return _0x6c4b23?_0x6c4b23['autoCompleteMessages']||(_0x6c4b23[_0x21179f(0x561)]=[],await _0x6c4b23[_0x21179f(0x400)]()):(_0x6c4b23=new Oe({'_id':_0x1776a9,'autoCompleteMessages':[]}),await _0x6c4b23[_0x21179f(0x400)]()),_0x6c4b23;}catch(_0x3e89d0){return _0x3e89d0['code']===0x2af8&&_0x3e89d0[_0x21179f(0x1d0)]&&_0x3e89d0[_0x21179f(0x1d0)][_0x21179f(0x214)]?(console[_0x21179f(0x664)](_0x21179f(0x1fd)),await Oe[_0x21179f(0x89e)]['dropIndex'](_0x21179f(0x8f2)),null):(console[_0x21179f(0x664)](_0x21179f(0x464),_0x3e89d0),null);}}},qo=new $(a0_0xa27d39(0x523)),Vo=new Ze(b),Go=new Wt(b),Bo=new ut(b),Wo=new zt(na,b),zo=new is(ma,b),Ho=new os(pa,b),Ko=new $e(Ke,b),Qo=new rs(b),Yo=new Ht(b),Xo=new ns(b),Zo=new cs(b),er=new ls(b),we=new Ye(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,R?.['getClient']()),z=new Bt(fs,b,we),tr=new Zt(b,z,we),sr=new ts(z),Is=new as(sr),T=new ss(z),he=new Yt(z,b,we,fs,tr),H=new Xt(z),k=new Kt(z),V=new es(z);qo[a0_0xa27d39(0x6c5)](a0_0xa27d39(0x4b3));var rg=require('express-async-errors'),Js=require('fs'),Fi=A(require(a0_0xa27d39(0x7c9))),Ui=A(require(a0_0xa27d39(0x789))),Je=class u{static #e;static set[a0_0xa27d39(0x2c2)](_0x14b701){this.#e=_0x14b701;}static get[a0_0xa27d39(0x7c9)](){const _0x4a5f40=a0_0xa27d39;let {FULLCHAIN:_0x2142e6,PRIVKEY:_0x4aac58}=b[_0x4a5f40(0x711)]('SSL_CONF');return Fi[_0x4a5f40(0x8ba)]({'cert':(0x0,Js[_0x4a5f40(0x4ec)])(_0x2142e6),'key':(0x0,Js['readFileSync'])(_0x4aac58)},u.#e);}static get[a0_0xa27d39(0x789)](){const _0x5d9325=a0_0xa27d39;return Ui[_0x5d9325(0x8ba)](u.#e);}},qe=A(require('fs')),Bi=A(require('ini')),Ve=A(require('axios')),ds=A(require(a0_0xa27d39(0x7d0))),us=require(a0_0xa27d39(0x7c1));function ar(){const _0x4cc195=a0_0xa27d39;z[_0x4cc195(0x307)]();let _0x56edbb=ds['default']['join'](__dirname,_0x4cc195(0x54f));Gi(_0x56edbb);}var Gi=_0x28e731=>{let _0x4f9b45=qe['default']['readdirSync'](_0x28e731),_0x162981=0xc*0x3c*0x3c*0x3e8,_0x37acf0=0x2*0x3c*0x3c*0x3e8,_0x1f7b3b=new Date()['getTime']();_0x4f9b45['forEach'](_0x226b93=>{const _0x5a23d6=a0_0x2c1e;let _0x23bdd4=ds['default'][_0x5a23d6(0x5cc)](_0x28e731,_0x226b93),_0x4b1aa1=qe[_0x5a23d6(0x544)][_0x5a23d6(0x4aa)](_0x23bdd4)[_0x5a23d6(0x41b)][_0x5a23d6(0x260)]();_0x1f7b3b-_0x4b1aa1>_0x162981&&(qe[_0x5a23d6(0x544)][_0x5a23d6(0x56d)](_0x23bdd4),console[_0x5a23d6(0x843)]('Deleted\x20'+_0x226b93));}),setTimeout(()=>Gi(_0x28e731),_0x37acf0);};function ir(){const _0x11eb99=a0_0xa27d39;let _0x30e35=new $(_0x11eb99(0x570)),_0x401167=(0x0,be[_0x11eb99(0x544)])();_0x401167[_0x11eb99(0x509)]((0x0,Vi['default'])({'origin'(_0x5ae7a5,_0x1e10fe){const _0x445dbe=_0x11eb99;let {ORIGIN:_0x1a8519}=b[_0x445dbe(0x711)](_0x445dbe(0x6fb));return _0x5ae7a5||(_0x5ae7a5='*'),_0x1a8519['indexOf']('*')!==-0x1||_0x1a8519[_0x445dbe(0x539)](_0x5ae7a5)!==-0x1?_0x1e10fe(null,!0x0):_0x1e10fe(new Error(_0x445dbe(0x56b)));},'methods':[...b[_0x11eb99(0x711)](_0x11eb99(0x6fb))['METHODS']],'credentials':b[_0x11eb99(0x711)](_0x11eb99(0x6fb))[_0x11eb99(0x303)]}),(0x0,be[_0x11eb99(0x793)])({'extended':!0x0,'limit':_0x11eb99(0x443)}),(0x0,be['json'])({'limit':'50mb'})),_0x401167['use']((_0x1f98ff,_0x232547,_0xca7d4c)=>{const _0x1f6bb9=_0x11eb99;_0x1f98ff[_0x1f6bb9(0x7d0)][_0x1f6bb9(0x2f1)](_0x1f6bb9(0x405))?_0xca7d4c():(0x0,qi[_0x1f6bb9(0x544)])()(_0x1f98ff,_0x232547,_0xca7d4c);}),_0x401167[_0x11eb99(0x41f)]('view\x20engine',_0x11eb99(0x3f0)),_0x401167[_0x11eb99(0x41f)](_0x11eb99(0x3dd),(0x0,Vs['join'])(ue,_0x11eb99(0x3dd))),_0x401167['use'](be[_0x11eb99(0x544)][_0x11eb99(0x7ca)]((0x0,Vs[_0x11eb99(0x5cc)])(ue,'public'))),_0x401167['use']((_0x6c9acc,_0x1e1a48,_0xb495b7)=>{let _0x26daf0=_0x1e1a48['send'];_0x1e1a48['send']=function(_0x3e051e){const _0x1ac485=a0_0x2c1e;if(_0x6c9acc[_0x1ac485(0x640)][_0x1ac485(0x3d8)]===_0x1ac485(0x44c)||_0x6c9acc[_0x1ac485(0x4f8)][_0x1ac485(0x53f)]==='true'){let _0x28df75=JSON[_0x1ac485(0x4ea)](_0x3e051e);_0x3e051e=JSON[_0x1ac485(0x716)](_0x2bdf52(_0x28df75));}return _0x26daf0[_0x1ac485(0x1c9)](_0x1e1a48,[_0x3e051e]);},_0xb495b7();}),_0x401167[_0x11eb99(0x509)]('/',Fe),_0x401167[_0x11eb99(0x509)]((_0x3f9735,_0x5b1cd5,_0x4d4461,_0x47b6ba)=>{const _0x3d69ce=_0x11eb99;if(_0x3f9735)return _0x4d4461['status'](_0x3f9735[_0x3d69ce(0x492)]||0x1f4)[_0x3d69ce(0x7fe)](_0x3f9735);},(_0x455ab5,_0x22e5f4,_0x490a51)=>{const _0x18c58d=_0x11eb99;let {method:_0x18f566,url:_0x2878d7}=_0x455ab5;_0x22e5f4['status'](0x194)[_0x18c58d(0x7fe)]({'status':0x194,'message':'Cannot\x20'+_0x18f566[_0x18c58d(0x1ca)]()+'\x20'+_0x2878d7,'error':'Not\x20Found'}),_0x490a51();});let _0x2bdf52=(_0x313225,_0x38a4d0=_0x11eb99(0x804))=>{const _0x3326b2=_0x11eb99;let _0xbafa3a=(_0x21b9dd,_0x1fe26b=null,_0x4075ec=!0x1)=>{const _0x308077=a0_0x2c1e;let _0x404310={};return Object[_0x308077(0x537)](_0x21b9dd)[_0x308077(0x888)](_0x13f915=>{const _0x26f9f9=_0x308077;let _0x3d4bf3=_0x21b9dd[_0x13f915],_0x75b151=''+_0x38a4d0+_0x13f915;_0x1fe26b&&!_0x4075ec&&(_0x75b151=_0x1fe26b+'.'+_0x13f915),!_0x3d4bf3&&_0x3d4bf3!==0x0&&_0x3d4bf3!==!0x1||typeof _0x3d4bf3>'u'?_0x404310[_0x75b151]=null:typeof _0x3d4bf3!=_0x26f9f9(0x3e2)&&!Array['isArray'](_0x3d4bf3)?_0x404310[_0x75b151]=_0x3d4bf3:typeof _0x3d4bf3=='object'&&!Array[_0x26f9f9(0x5b0)](_0x3d4bf3)?_0x404310=Object[_0x26f9f9(0x1f5)](_0x404310,_0xbafa3a(_0x3d4bf3,_0x75b151)):Array[_0x26f9f9(0x5b0)](_0x3d4bf3)&&(typeof _0x3d4bf3[0x0]=='object'?(_0x404310[_0x75b151]=[],_0x3d4bf3[_0x26f9f9(0x888)](_0x206667=>{const _0x42c507=_0x26f9f9;_0x404310[_0x75b151][_0x42c507(0x898)](_0xbafa3a(_0x206667,_0x75b151,!0x0));})):_0x404310[_0x75b151]=_0x3d4bf3);}),_0x404310;};return Array[_0x3326b2(0x5b0)](_0x313225)?_0x313225['map'](_0x38b807=>_0xbafa3a(_0x38b807)):typeof _0x313225==_0x3326b2(0x3e2)&&_0x313225!==null?_0xbafa3a(_0x313225):{};},_0x18fc18=b[_0x11eb99(0x711)](_0x11eb99(0x570));Je[_0x11eb99(0x2c2)]=_0x401167;let _0x711359=Je[_0x18fc18[_0x11eb99(0x742)]],_0x151fa6=_0x11eb99(0x30f);_0x711359[_0x11eb99(0x2c5)](_0x18fc18['PORT'],()=>{const _0x32c7e8=_0x11eb99;_0x30e35['log'](_0x151fa6),_0x30e35[_0x32c7e8(0x843)](_0x18fc18[_0x32c7e8(0x742)][_0x32c7e8(0x1ca)]()+_0x32c7e8(0x235)+_0x18fc18[_0x32c7e8(0x73e)]);}),ar(),ta();}var or=a0_0xa27d39(0x73c),rr=ds['default'][a0_0xa27d39(0x5cc)](__dirname,'./.git/config'),Ie=null;function nr(){return new Promise((_0x34fa5c,_0xb104fb)=>{const _0x2c0e97=a0_0x2c1e;qe[_0x2c0e97(0x544)][_0x2c0e97(0x553)](rr,_0x2c0e97(0x87f),(_0x216f75,_0x22a483)=>{const _0x22d2cf=_0x2c0e97;if(_0x216f75){Ie=_0x216f75,_0x34fa5c();return;}Bi[_0x22d2cf(0x544)][_0x22d2cf(0x4ea)](_0x22a483)[_0x22d2cf(0x2e0)][_0x22d2cf(0x63b)]===or?(Ie=null,_0x34fa5c()):(Ie=new Error(_0x22d2cf(0x2b5)),_0x34fa5c());});});}async function cr(){const _0x51a7b2=a0_0xa27d39;try{await nr(),await Gs();}catch(_0x3d0848){console[_0x51a7b2(0x664)](_0x51a7b2(0x7d5)+_0x3d0848),process[_0x51a7b2(0x6a5)](0x1);}}function a0_0x2c1e(_0x92a2e6,_0x1b2da4){const _0x501fbe=a0_0x501f();return a0_0x2c1e=function(_0x2c1eb5,_0x1849e2){_0x2c1eb5=_0x2c1eb5-0x1c8;let _0x1d33a1=_0x501fbe[_0x2c1eb5];return _0x1d33a1;},a0_0x2c1e(_0x92a2e6,_0x1b2da4);}cr();async function Wi(){const _0x2818c1=a0_0xa27d39;let _0x2f6dea;try{_0x2f6dea=(await Ve[_0x2818c1(0x544)][_0x2818c1(0x711)](_0x2818c1(0x4e7)))[_0x2818c1(0x343)]['ip'];}catch(_0x446f99){console[_0x2818c1(0x664)](_0x446f99);try{_0x2f6dea=(await Ve[_0x2818c1(0x544)][_0x2818c1(0x711)](_0x2818c1(0x2ee)))['data']['ip'];}catch(_0x7a2274){console[_0x2818c1(0x664)](_0x7a2274);try{_0x2f6dea=(await Ve[_0x2818c1(0x544)][_0x2818c1(0x711)](_0x2818c1(0x23a)))[_0x2818c1(0x343)][_0x2818c1(0x1d9)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5c9a81){return console[_0x2818c1(0x664)](_0x5c9a81),!0x1;}}}return _0x2f6dea;}var ji=0x0;async function lr(){const _0x2e9d47=a0_0xa27d39;let _0x3bdfa8=await new ge(b[_0x2e9d47(0x711)]('REDIS'))[_0x2e9d47(0x276)]();return console['log'](_0x2e9d47(0x7de),_0x3bdfa8[_0x2e9d47(0x3a7)]),_0x3bdfa8['length'];}function ur(_0xd07909){const _0x1c69ed=a0_0xa27d39;let _0x5ee3cf=_0xd07909['get'](_0x1c69ed(0x570))[_0x1c69ed(0x586)],_0x3f605f=_0xd07909[_0x1c69ed(0x711)](_0x1c69ed(0x7a3));console[_0x1c69ed(0x843)](_0x1c69ed(0x256),_0x5ee3cf),console[_0x1c69ed(0x843)]('Configuração\x20SSL\x20recuperada:',_0x3f605f);let _0x4a499a='',_0x6f20c6=_0x5ee3cf||'';if(_0x5ee3cf){let _0x56c706=_0x5ee3cf[_0x1c69ed(0x1d9)](/\/\/(.*?)\./);console['log'](_0x1c69ed(0x5da),_0x56c706),_0x56c706&&_0x56c706[0x1]&&(_0x4a499a=_0x56c706[0x1],console[_0x1c69ed(0x843)](_0x1c69ed(0x582),_0x4a499a));}if(!_0x4a499a&&_0x3f605f&&_0x3f605f[_0x1c69ed(0x79f)]){let _0x50753b=_0x3f605f['FULLCHAIN']['split']('/');console[_0x1c69ed(0x843)](_0x1c69ed(0x813),_0x50753b);let _0x42d258=_0x50753b[_0x50753b[_0x1c69ed(0x3a7)]-0x2];if(console[_0x1c69ed(0x843)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x42d258),_0x42d258){let _0x18911d=_0x42d258[_0x1c69ed(0x8cb)]('.');console[_0x1c69ed(0x843)](_0x1c69ed(0x8fc),_0x18911d),_0x18911d[_0x1c69ed(0x3a7)]>0x2&&(_0x4a499a=_0x18911d[0x0],console['log'](_0x1c69ed(0x6a3),_0x4a499a),_0x6f20c6=''+_0x42d258);}}return{'subdomain':_0x4a499a||_0x1c69ed(0x44f),'fullURL':_0x6f20c6||_0x1c69ed(0x4f3)};}var {subdomain:K,fullURL:Bs}=ur(b);console[a0_0xa27d39(0x843)]('Subdomínio\x20final:',K),console[a0_0xa27d39(0x843)](a0_0xa27d39(0x323),Bs);async function dr(){const _0xda6173=a0_0xa27d39;let _0xdbf66f=b[_0xda6173(0x711)](_0xda6173(0x777)),_0x36304b=b[_0xda6173(0x711)](_0xda6173(0x3fc))[_0xda6173(0x62c)][_0xda6173(0x42f)],_0x3ff1c3=b['get']('SSL_CONF'),_0x1f6145=await Wi(),_0x262c9c=b['get'](_0xda6173(0x570))[_0xda6173(0x73e)],_0x217823=Bs;try{let _0x61327a={'ip':_0x1f6145||null,'redis_enable':_0xdbf66f?.[_0xda6173(0x2ce)]||null,'apikey':_0x36304b||null,'ssl':_0x3ff1c3?.[_0xda6173(0x2e8)]||null,'lastupdate':zi||null,'port':_0x262c9c||null,'gitInstallError':Ie?.['message']||null,'url':_0x217823||null,'subdomain':K};if(console[_0xda6173(0x843)](_0xda6173(0x690),_0x61327a['ip']),_0xdbf66f&&_0xdbf66f[_0xda6173(0x2ce)]){let _0x303585=await lr();_0x61327a[_0xda6173(0x59a)]=_0x303585||null;}for(let _0xbdb417 in _0x61327a)_0x61327a[_0xda6173(0x685)](_0xbdb417)&&_0xbdb417!=='ip'&&(_0x61327a[_0xbdb417]=JSON['stringify'](_0x61327a[_0xbdb417]));return(await Ve['default'][_0xda6173(0x30c)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x61327a))['data'];}catch(_0x27de42){return console[_0xda6173(0x664)](_0x27de42),!0x1;}}var qs=!0x1,zi=0x265,pr=0x3,Ji=0x1b7740;async function Gs(){const _0x13308f=a0_0xa27d39;let _0x2e7946=_0x13308f(0x6ee);Ie===null&&(_0x2e7946=await Wi());let _0x24c1f6=await dr();if(_0x24c1f6){if(_0x24c1f6['response'][_0x13308f(0x800)]===!0x0){Ie===null&&_0x24c1f6[_0x13308f(0x248)][_0x13308f(0x51c)]-zi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x167d31=0x24*0x3c*0x3c,_0x5f083c=_0x24c1f6[_0x13308f(0x248)]['segundos']>_0x167d31?_0x167d31:_0x24c1f6[_0x13308f(0x248)][_0x13308f(0x809)],_0x40974f=Number(_0x5f083c);if(isNaN(_0x40974f)){console[_0x13308f(0x664)]('interval\x20não\x20é\x20um\x20número');return;}let _0x34233c=Math[_0x13308f(0x65c)](_0x40974f/0xe10),_0x4f3028=Math[_0x13308f(0x65c)](_0x40974f%0xe10/0x3c),_0x33b7f1=new Date(Date[_0x13308f(0x27c)]()+_0x40974f*0x3e8);setTimeout(Gs,_0x40974f*0x3e8);let _0x285f91=_0x332b07=>_0x332b07[_0x13308f(0x412)]()[_0x13308f(0x200)](0x2,'0'),_0x238839=_0x13308f(0x722)+_0x285f91(_0x34233c)+'\x20horas\x20e\x20'+_0x285f91(_0x4f3028)+_0x13308f(0x4da)+_0x285f91(_0x33b7f1['getHours']())+':'+_0x285f91(_0x33b7f1['getMinutes']())+'.';console[_0x13308f(0x843)](_0x238839);}else return console[_0x13308f(0x843)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),qs&&(console[_0x13308f(0x843)](_0x13308f(0x57f)),process[_0x13308f(0x6a5)]()),_0x13308f(0x341);}else{if(ji++,ji<pr)console[_0x13308f(0x843)](_0x13308f(0x3e9)+Ji/0xea60+_0x13308f(0x23f)),setTimeout(Gs,Ji);else return console[_0x13308f(0x664)](_0x13308f(0x637)),_0x13308f(0x825);}}async function hr(){const _0x564edb=a0_0xa27d39;console[_0x564edb(0x843)]('Parando\x20aplicação,\x20atualização\x20recebida'),console['log']('Limpando\x20logs\x20do\x20PM2...'),(0x0,us['spawn'])(_0x564edb(0x317),{'shell':!0x0})['on'](_0x564edb(0x8f1),_0xcc7753=>{const _0xde036b=_0x564edb;_0xcc7753!==0x0?console['error']('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0xde036b(0x843)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0xde036b(0x843)](_0xde036b(0x4df)),(0x0,us[_0xde036b(0x596)])(_0xde036b(0x338),{'shell':!0x0})['on'](_0xde036b(0x8f1),_0x2c57e6=>{const _0x248417=_0xde036b;if(_0x2c57e6!==0x0)console[_0x248417(0x664)](_0x248417(0x799));else{console[_0x248417(0x843)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0xe3ad0a=(0x0,us[_0x248417(0x596)])(_0x248417(0x6b9),{'shell':!0x0});_0xe3ad0a['stdout']['on']('data',_0x85ce97=>{console['log']('Atualização:\x20'+_0x85ce97);}),_0xe3ad0a[_0x248417(0x5d8)]['on']('data',_0x6c465f=>{const _0xf014f2=_0x248417;console[_0xf014f2(0x664)](_0xf014f2(0x8e2)+_0x6c465f);}),_0xe3ad0a['on'](_0x248417(0x6a5),_0x10efdb=>{const _0x282b40=_0x248417;_0x10efdb!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x10efdb):console[_0x282b40(0x843)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x282b40(0x856)),setTimeout(()=>process[_0x282b40(0x6a5)](),0x2710);});}}));});}0x0&&(module[a0_0xa27d39(0x477)]={'fullURL':fullURL,'subdomain':subdomain});