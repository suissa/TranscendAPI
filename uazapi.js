const a0_0x43466e=a0_0x5767;(function(_0x179591,_0x1af058){const _0x3e1ecc=a0_0x5767,_0xd18756=_0x179591();while(!![]){try{const _0x232967=-parseInt(_0x3e1ecc(0x60c))/0x1*(parseInt(_0x3e1ecc(0x7ed))/0x2)+parseInt(_0x3e1ecc(0x606))/0x3+-parseInt(_0x3e1ecc(0x349))/0x4*(-parseInt(_0x3e1ecc(0x3ee))/0x5)+-parseInt(_0x3e1ecc(0x4aa))/0x6*(parseInt(_0x3e1ecc(0x34a))/0x7)+parseInt(_0x3e1ecc(0x6d5))/0x8+parseInt(_0x3e1ecc(0x78d))/0x9+parseInt(_0x3e1ecc(0x499))/0xa*(-parseInt(_0x3e1ecc(0x571))/0xb);if(_0x232967===_0x1af058)break;else _0xd18756['push'](_0xd18756['shift']());}catch(_0x447214){_0xd18756['push'](_0xd18756['shift']());}}}(a0_0x27da,0x991f5));var Bi=Object[a0_0x43466e(0x80b)],qe=Object['defineProperty'],Wi=Object['getOwnPropertyDescriptor'],zi=Object[a0_0x43466e(0x781)],Hi=Object['getPrototypeOf'],Ki=Object[a0_0x43466e(0x4b9)][a0_0x43466e(0x48f)],Qi=(_0xf04c7a,_0x1e4997)=>{for(var _0x5cdb44 in _0x1e4997)qe(_0xf04c7a,_0x5cdb44,{'get':_0x1e4997[_0x5cdb44],'enumerable':!0x0});},Bs=(_0x30fd85,_0x2f09e3,_0x23e6fb,_0x9e87c6)=>{const _0x35adca=a0_0x43466e;if(_0x2f09e3&&typeof _0x2f09e3==_0x35adca(0x6eb)||typeof _0x2f09e3=='function'){for(let _0x46f1d1 of zi(_0x2f09e3))!Ki[_0x35adca(0x1d2)](_0x30fd85,_0x46f1d1)&&_0x46f1d1!==_0x23e6fb&&qe(_0x30fd85,_0x46f1d1,{'get':()=>_0x2f09e3[_0x46f1d1],'enumerable':!(_0x9e87c6=Wi(_0x2f09e3,_0x46f1d1))||_0x9e87c6[_0x35adca(0x65b)]});}return _0x30fd85;},T=(_0x41fb60,_0x1b8ae3,_0x182fbc)=>(_0x182fbc=_0x41fb60!=null?Bi(Hi(_0x41fb60)):{},Bs(_0x1b8ae3||!_0x41fb60||!_0x41fb60['__esModule']?qe(_0x182fbc,a0_0x43466e(0x56d),{'value':_0x41fb60,'enumerable':!0x0}):_0x182fbc,_0x41fb60)),Yi=_0x28332f=>Bs(qe({},a0_0x43466e(0x703),{'value':!0x0}),_0x28332f),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x43466e(0x676)]=Yi(hr);var Ui=T(require('compression')),zs=require('fs'),Hs=require(a0_0x43466e(0x1b9)),Ks=require(a0_0x43466e(0x6a6)),Ve=require(a0_0x43466e(0x6a6)),le=process[a0_0x43466e(0x25f)](),Se=(0x0,Ve['join'])(le,a0_0x43466e(0x29a)),Ws=(0x0,Ve[a0_0x43466e(0x14c)])(le,'src'),gn=(0x0,Ve[a0_0x43466e(0x14c)])(le,a0_0x43466e(0x787),a0_0x43466e(0x1c5)),us=class{constructor(){const _0x1035fc=a0_0x43466e;this[_0x1035fc(0x530)]();}[a0_0x43466e(0x5e9)](_0x5f4133){const _0x34ad7a=a0_0x43466e;return this[_0x34ad7a(0x68c)][_0x5f4133];}['loadEnv'](){const _0x44b344=a0_0x43466e;this['env']=process['env']?.[_0x44b344(0x2db)]!=='true'?this[_0x44b344(0x751)]():this[_0x44b344(0x3f6)](),process['env']?.[_0x44b344(0x2db)]==='true'&&(this[_0x44b344(0x68c)][_0x44b344(0x732)]['TYPE']=_0x44b344(0x56e),this[_0x44b344(0x68c)][_0x44b344(0x732)][_0x44b344(0x410)]=Number[_0x44b344(0x43e)](process['env']?.[_0x44b344(0x333)]??'8080'));}[a0_0x43466e(0x751)](){const _0x2330df=a0_0x43466e;return(0x0,Hs[_0x2330df(0x756)])((0x0,zs[_0x2330df(0x6d8)])((0x0,Ks[_0x2330df(0x14c)])(Ws,'../env.yml'),{'encoding':'utf-8'}));}[a0_0x43466e(0x3f6)](){const _0x5c7630=a0_0x43466e;return{'SERVER':{'TYPE':process[_0x5c7630(0x68c)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x5c7630(0x68c)]['SERVER_PORT']),'URL':process[_0x5c7630(0x68c)][_0x5c7630(0x2d9)]},'CORS':{'ORIGIN':process[_0x5c7630(0x68c)][_0x5c7630(0x655)][_0x5c7630(0x380)](','),'METHODS':process[_0x5c7630(0x68c)][_0x5c7630(0x87f)][_0x5c7630(0x380)](','),'CREDENTIALS':process[_0x5c7630(0x68c)]?.[_0x5c7630(0x1be)]===_0x5c7630(0x27a)},'SSL_CONF':{'PRIVKEY':process[_0x5c7630(0x68c)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x5c7630(0x68c)]?.[_0x5c7630(0x2e2)]},'STORE':{'CLEANING_INTERVAL':Number[_0x5c7630(0x327)](process[_0x5c7630(0x68c)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process[_0x5c7630(0x68c)][_0x5c7630(0x5d9)]):void 0x0,'MESSAGES':process[_0x5c7630(0x68c)]?.[_0x5c7630(0x5a1)]===_0x5c7630(0x27a),'CONTACTS':process[_0x5c7630(0x68c)]?.[_0x5c7630(0x359)]===_0x5c7630(0x27a),'CHATS':process[_0x5c7630(0x68c)]?.[_0x5c7630(0x2b2)]===_0x5c7630(0x27a)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x5c7630(0x1a8)],'PORT':Number['parseInt'](process[_0x5c7630(0x68c)]?.[_0x5c7630(0x1a8)]),'USER':process['env'][_0x5c7630(0x863)],'PASSWORD':process[_0x5c7630(0x68c)][_0x5c7630(0x4ed)],'URI':process[_0x5c7630(0x68c)][_0x5c7630(0x3bf)],'DB_PREFIX_NAME':process[_0x5c7630(0x68c)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x5c7630(0x1ee)]===_0x5c7630(0x27a)},'REDIS':{'ENABLED':process[_0x5c7630(0x68c)]?.[_0x5c7630(0x79b)]===_0x5c7630(0x27a),'URI':process[_0x5c7630(0x68c)][_0x5c7630(0x621)]||_0x5c7630(0x5d6),'PREFIX_KEY':process[_0x5c7630(0x68c)][_0x5c7630(0x256)]||_0x5c7630(0x683)},'LOG':{'LEVEL':process['env']?.[_0x5c7630(0x5d5)]['split'](','),'COLOR':process['env']?.['LOG_COLOR']==='true'},'PROXY':process['env']?.[_0x5c7630(0x651)]===_0x5c7630(0x27a),'AUTHENTICATION':{'TYPE':process[_0x5c7630(0x68c)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x5c7630(0x327)](process[_0x5c7630(0x68c)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process[_0x5c7630(0x68c)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x5c7630(0x413)]}}};}},S=new us(),ji=T(require(a0_0x43466e(0x156))),ye=T(require(a0_0x43466e(0x3ff))),qs=require(a0_0x43466e(0x6a6)),ds=T(require(a0_0x43466e(0x725))),ps=(_0x16a338=>(_0x16a338[a0_0x43466e(0x2c5)]=a0_0x43466e(0x2b0),_0x16a338[a0_0x43466e(0x6ad)]=a0_0x43466e(0x534),_0x16a338[a0_0x43466e(0x6a4)]='\x1b[33m',_0x16a338[a0_0x43466e(0x507)]=a0_0x43466e(0x7d4),_0x16a338[a0_0x43466e(0x6ae)]=a0_0x43466e(0x580),_0x16a338['VERBOSE']=a0_0x43466e(0x842),_0x16a338[a0_0x43466e(0x3c7)]='\x1b[30m',_0x16a338))(ps||{}),Qs=(_0x524e1f=>(_0x524e1f[a0_0x43466e(0x2c5)]=a0_0x43466e(0x7e0),_0x524e1f[a0_0x43466e(0x3c7)]=a0_0x43466e(0x855),_0x524e1f[a0_0x43466e(0x6ad)]='\x1b[34m%s\x1b[0m',_0x524e1f[a0_0x43466e(0x6a4)]=a0_0x43466e(0x6db),_0x524e1f[a0_0x43466e(0x507)]=a0_0x43466e(0x615),_0x524e1f[a0_0x43466e(0x6ae)]=a0_0x43466e(0x162),_0x524e1f[a0_0x43466e(0x31f)]=a0_0x43466e(0x7d8),_0x524e1f))(Qs||{}),Ys=(_0x30fe74=>(_0x30fe74[a0_0x43466e(0x2c5)]='LOG',_0x30fe74[a0_0x43466e(0x6a4)]='WARN',_0x30fe74[a0_0x43466e(0x6ad)]=a0_0x43466e(0x6ad),_0x30fe74['DARK']=a0_0x43466e(0x3c7),_0x30fe74['ERROR']=a0_0x43466e(0x507),_0x30fe74[a0_0x43466e(0x6ae)]='DEBUG',_0x30fe74[a0_0x43466e(0x31f)]=a0_0x43466e(0x31f),_0x30fe74))(Ys||{}),Xs=(_0x5a228a=>(_0x5a228a[a0_0x43466e(0x2c5)]=a0_0x43466e(0x62c),_0x5a228a[a0_0x43466e(0x6ad)]=a0_0x43466e(0x342),_0x5a228a[a0_0x43466e(0x6a4)]=a0_0x43466e(0x2bf),_0x5a228a[a0_0x43466e(0x3c7)]=a0_0x43466e(0x154),_0x5a228a[a0_0x43466e(0x507)]='\x1b[41m',_0x5a228a[a0_0x43466e(0x6ae)]=a0_0x43466e(0x831),_0x5a228a['VERBOSE']=a0_0x43466e(0x4b2),_0x5a228a))(Xs||{}),$=class{constructor(_0xd4fb8c=a0_0x43466e(0x637)){const _0x4b5d85=a0_0x43466e;this[_0x4b5d85(0x276)]=_0xd4fb8c,this['configService']=S;}[a0_0x43466e(0x512)](_0x5e430a){const _0x2e7ff8=a0_0x43466e;this[_0x2e7ff8(0x276)]=_0x5e430a;}[a0_0x43466e(0x394)](_0x4ad15e,_0x327460){const _0x1a4ec7=a0_0x43466e;let _0x501014=[];this[_0x1a4ec7(0x609)][_0x1a4ec7(0x5e9)]('LOG')['LEVEL'][_0x1a4ec7(0x663)](_0x10c52e=>_0x501014[_0x1a4ec7(0x7ef)](Ys[_0x10c52e]));let _0x51ec1b=typeof _0x4ad15e;_0x501014[_0x1a4ec7(0x592)](_0x327460)&&(S['get'](_0x1a4ec7(0x2c5))['COLOR']?(console[_0x1a4ec7(0x217)](_0x1a4ec7(0x7be)+Qs[_0x327460],_0x1a4ec7(0x63e),(0x0,ds[_0x1a4ec7(0x56d)])()[_0x1a4ec7(0x4e4)](_0x1a4ec7(0x83d)),'\x1b[0m',ps[_0x327460]+Xs[_0x327460]+_0x1a4ec7(0x7be),_0x327460+'\x20\x1b[0m',_0x1a4ec7(0x415),this[_0x1a4ec7(0x276)]+_0x1a4ec7(0x870),ps[_0x327460],_0x51ec1b!==_0x1a4ec7(0x6eb)?_0x4ad15e:'',_0x1a4ec7(0x870)),_0x51ec1b==='object'&&console['log'](_0x4ad15e,'\x0a')):console[_0x1a4ec7(0x217)]((0x0,ds['default'])()[_0x1a4ec7(0x4e4)](_0x1a4ec7(0x201)),_0x327460+'\x20',''+this[_0x1a4ec7(0x276)],_0x4ad15e));}['log'](_0x37c222){const _0x14e91e=a0_0x43466e;this[_0x14e91e(0x394)](_0x37c222,'LOG');}[a0_0x43466e(0x4d3)](_0x3348ca){const _0x1f9b09=a0_0x43466e;this[_0x1f9b09(0x394)](_0x3348ca,_0x1f9b09(0x6ad));}['warn'](_0x17870e){const _0x3c49fa=a0_0x43466e;this[_0x3c49fa(0x394)](_0x17870e,_0x3c49fa(0x6a4));}[a0_0x43466e(0x434)](_0x35d57f){const _0xe41617=a0_0x43466e;this[_0xe41617(0x394)](_0x35d57f,_0xe41617(0x507));}[a0_0x43466e(0x213)](_0x82a74f){const _0x4e4c54=a0_0x43466e;this[_0x4e4c54(0x394)](_0x82a74f,_0x4e4c54(0x31f));}['debug'](_0x198beb){const _0x354d00=a0_0x43466e;this['console'](_0x198beb,_0x354d00(0x6ae));}['dark'](_0x131111){const _0x1c0c4a=a0_0x43466e;this[_0x1c0c4a(0x394)](_0x131111,_0x1c0c4a(0x3c7));}};function Zs(){const _0xd73e09=a0_0x43466e;process['on'](_0xd73e09(0x4f0),(_0x10d0d2,_0xba2178)=>{const _0x5f3add=_0xd73e09;new $(_0x5f3add(0x4f0))[_0x5f3add(0x434)]({'origin':_0xba2178,'stderr':process[_0x5f3add(0x754)]['fd'],'error':_0x10d0d2});}),process['on'](_0xd73e09(0x7af),(_0x3411c1,_0xe3128d)=>{const _0x481f6b=_0xd73e09;new $(_0x481f6b(0x7af))['error']({'origin':_0xe3128d,'stderr':process['stderr']['fd'],'error':_0x3411c1});});}function a0_0x27da(){const _0x4f0618=['PASSWORD','getUpdate','#f64847','writeData','fileUrl','exec','Subscribed\x20Events:','\x0a*Você\x20respondeu*:\x0a','groups.update','AutomateSystem\x20não\x20foi\x20inicializado','editConversation','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','StatusJidList\x20is\x20required','createClient','getOwnPropertyNames','isConnected','chats.delete','):\x20Current\x20Time:\x20','delaySecMin','groupAcceptInvite','store','request\x20received\x20in\x20scheduleMessage','):\x20Enviando\x20enquete','/instance/connectionState','editflowcondition','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','6639714rlHqPO','createConversationforStartFlow','request\x20received\x20in\x20getFlow','BufferJSON','formatBRNumber','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Enviando\x20áudio','scheduleMessage','CONECTADO\x20À\x20UAZAPI','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','stickerMessage','@redis/client','padEnd','updateGroupWebhook','REDIS_ENABLED','webhookModel','lastInteraction','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','collection','TYPE','autoCompleteMessages.command_1','/instance/create','inner','cleanDisconnectedInstances','toLowerCase','sign','_Labels','conditions','toBrazilianNumberFormat','hex','request\x20received\x20in\x20editFlowvariable','request\x20received\x20in\x20deleteFlow','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','editFlowCondition','unhandledRejection','verify','\x20is\x20already\x20in\x20use.','labelId','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','fetchProfile','unreadcount','sendCommand','processblock','processingGroup','presence.update','sem\x20texto\x20na\x20mensagem','Read\x20messages','updateBlock','\x27\x20não\x20encontrado','\x1b[1m','autoCompleteMessages.command','\x0aitem','entries','!stop','MessageModel','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','groups_ignore','buttonText','Instância:\x20','\x20segundos','/64\x20dev\x20','\x20com\x20sucesso.','updateOneById','groupRequestParticipantsList','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','matchRegex','exists','labels.association','online','retrySendMessage','):Getting\x20image\x20from\x20url','\x1b[31m','nomecompleto','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','[all]','\x1b[37m%s\x1b[0m','Usando\x20IP\x20existente:\x20','updateOnlinePrivacy','DisconnectReason','):\x20Está\x20configurado\x20para\x20parar\x20até\x20',',\x20global:\x20','METHODS','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','\x1b[32m%s\x1b[0m','Flow\x20\x27','lastCondition','writeFileSync','updateGroupParticipantsWebhook','myAppStateKeyId','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','startFlowWebhook','Instância\x20não\x20encontrada.','):\x20Deletando\x20mensagem','unlinkSync','saveCreds','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','4LzHNaM','hSet','push','MESSAGES_SET','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','groupToggleEphemeral','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','flattenObject','findGroupInfos','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','applyvaredit','groupadd','dbConnection','Instance\x20ID:','):\x20Bloco\x20com\x20ID\x20','desc','CORS','):\x20Conversa\x20atualizada\x20em\x20memória','Erro\x20ao\x20atualizar\x20agendamento\x20','expression','groupMetadata','):Error\x20in\x20converting\x20audio',',\x20qrcodeCount:\x20','isJidGroup','AutomateFunctions','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','clear','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','create','sendMessage','messages.update','cacheInstanceModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','chats.upsert','createGroup','deleteMessageForEveryone','stateConnection','pre','https://ifconfig.me/ip','messageTimestamp','updateReplyOption','silent',',\x20Novo\x20tamanho:\x20','-whatsapp-api','sendText','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Buscando\x20flow,\x20id:\x20','buttonMessage','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','readdirSync','authState','idSchedule','findFlow','composing','IPv6\x20Prefix\x20detected:\x20','groupJid','g-t','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20mediaMessageInfoId\x20:\x20','superadmin','FlowController','normalizeMessageContent','getContactModelForOwner','.docx','apirequest','leadInfo','\x1b[46m','views','setUpdate','CacheContacts\x20database\x20connection\x20closed.','no-cache','fetchLabels','linkPreview','\x22,\x20valor\x20a\x20substituir:\x20\x22','updateProfilePicturePrivacy','getReadyToSendMessages','):\x20',']\x20(','DD/MM\x20HH:mm:ss','URL\x20completa:','processgoToFlow','requestFile','):\x20isVote:\x20','\x1b[37m','quotedMessage','Retornando\x20grupos\x20SEM\x20cache','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','isJWT','Falha\x20ao\x20processar\x20fetchBusinessProfile','pollUpdateMessage','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','storePath','sendDataWebhook','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','folder','@whiskeysockets/baileys','inviteCode','ObjectId','website','):Delete\x20chat','cachedData-whatsapp','instanceCount','\x1b[30m%s\x1b[0m','findMany','connectionClosed','insertCount','all','optionDescription','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','prepareMediaMessage','groupGetInviteInfo','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20alterando\x20this.AutomateSystem','updateChatGroupData','Erro\x20ao\x20deletar\x20chat:','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','DATABASE_CONNECTION_USER','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','):\x20delete\x20=\x20true','sendMessageWithTypingButtons','Bloco\x20com\x20ID\x20','getAutomateSystem','sections','font','request\x20received\x20in\x20allFlows','minutesToClose','editOperator','\x20não\x20encontrado','min','\x1b[0m','.ogg','jsonschema','insertMany','isListOfNumbers','groupValidate','PENDING','):\x20Bloco\x20original\x20para\x20cópia:\x20','display_text','Fluxo\x20\x27','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Editando\x20bloco...','uazapiSendContact','color','updateLastSeenPrivacy','CORS_METHODS','toString','joinApprovalMode','arraybuffer','#6f7bcf','replaceOne','shareOwners','qrcode','ip6eui','Error\x20in\x20prepareMediaMessage:','padStart','requestPairingCode','updatePresence','waMonitor','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','variables','):\x20enviado\x20para\x20[','cacheContact','\x27\x20não\x20encontrado\x20na\x20memória','reorderReplyOptions','messages.set','waitingMenu_id','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','equal','closeExistingConversations','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','apikey','?authSource=admin&readPreference=primary&directConnection=true','createSectionsFromValues','fetchProfilePicture','digest','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','utf-8','):\x20transformedCustomFieldVariables','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Erro\x20na\x20função\x20updateChatWithMessage:\x20','description','flowPrefixCommand','lastMessage','repeat','updateProfileName','child_process','when','messageSecret','stdout','updateParticipant','upperCase','contacts','):\x20Conversa\x20inserida\x20com\x20sucesso.','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','@s.whatsapp.net','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','request\x20received\x20in\x20updateFlowConfig','contact','getConversation','pollOnReplyDelete','toUpperCase','checkAndRestartProcess','flowActive','startCommandWord','authentication','processvaredits','status@broadcast','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','pt-BR','join','cachedContacts-whatsapp','replaceValue','$addToSet','Erro\x20ao\x20editar\x20o\x20chat','createflow','findAndReplace','menuType','\x1b[40m','pop','cors','Request\x20Body:','contacts.update','deleteBlock','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','menuMessage','):\x20Error\x20processing\x20the\x20block:\x20','/create','json','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','listResponseMessage','\x1b[36m%s\x1b[0m','mimetype','endsWith','evaluateCondition','flowName','ip\x20-6\x20addr\x20show\x20dev\x20','whoCanEdit','cleanStore','Erro\x20ao\x20atualizar\x20conversa:\x20','Background\x20color\x20is\x20required','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','deleteFlow','contacts.upsert','):Audio\x20converted\x20and\x20stored\x20in\x20cache','):Trying\x20to\x20get\x20business\x20profile','bulkWrite','authModel','):\x20whoCanEdit\x20before\x20validation:\x20','chat\x20não\x20encontrado','awaitSeconds','):\x20sender\x20=\x20number:\x20','wuid','pino','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','role','chatLog','deleteAll','copyBlock','.jpg','GET','Erro\x20ao\x20iniciar\x20o\x20fluxo.','archive','getClient','authService','editFlowBlock','rows','Erro\x20ao\x20criar\x20fluxo','replaceVariablesInReplyOptions','Adicionando\x20novo\x20participante:\x20','findGroupInfo','updateMediaMessage','limit','Conversa\x20deletada\x20com\x20sucesso.','saveMediaToFile','global','Content-Type','generate','updateGroupPicture','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','StartBot','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','networkInterface','allflows','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Error\x20parsing\x20JSON:','queue','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','menuIgnoreNonVotes','useMultiFileAuthState','AddUserFlow','none','groups.upsert',',\x20saindo.','isValidAndUniqueIPv6','client','privacySettings','deleteChat','options','Esse\x20fluxo\x20não\x20permite\x20importação.','):\x20Não\x20achou\x20nenhum\x20flow','DATABASE_CONNECTION_HOST','Rótulo\x20inválido\x20ou\x20sem\x20ID.','indexOf','count','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','\x20minutos.\x20Será\x20às\x20','sending','/wa-message','Erro\x20ao\x20importar\x20chats','updateChatWithMessage','):\x20Buscando\x20conversa...','sendMessageAck','hDel','waitingForReplyMenu','not_announcement','):\x20Limpando\x20delayMessage','webhook','js-yaml','video','application/octet-stream','fora\x20do\x20git','announcement','CORS_CREDENTIALS','joinGroup','sleep','memberAddMode','empty','flowStopConversation','convert','auth','choices','state','reject','getMessage','reduce','drop','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','messageLogs','Erro\x20ao\x20deletar\x20mensagens:','):Archiving\x20chat','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Erro\x20ao\x20buscar\x20a\x20conversa','call','ini','qrcode-terminal','Nenhum\x20participante\x20válido\x20encontrado.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','oldValue','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):Image\x20is\x20url','instance','sendButtons','fakeReceived','moreLogs','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','goToFlow','_id','GROUPS_UPSERT','updateConversation','eventemitter2','audio','assign','Message','awaitingApproval','model','Instance\x20logged\x20out','deleteMessage','enabled','DATABASE','DELETED','DATABASE_ENABLED','saveVariable','etiquetas','Erro\x20ao\x20arquivar\x20chat','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','util','label_jid','):\x20newFirstValue\x20após\x20replaceVariables:','stopConversation','groupId','findChats','\x20Tentativa\x20de\x20reconexão\x20','\x20do\x20chat\x20','sendWhatsAppAudio','action','editflowgroup','valid','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','}}\x20->\x20valor\x20não\x20encontrado','HH:mm:ss','instance.','/clients-info','Chat\x20com\x20ID\x20','uazapiSendText','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','condition','Esse\x20fluxo\x20expirou','errors','title','stack','fetchProfilePictureUrl','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','audioWhatsapp','CONNECTION','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','update','/startFlow/:instance/:startID','verbose','audio/ogg','Comando\x20desconhecido','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','log','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','getScheduleMessage','createAndSave','dbClient','convertToWebP','Erro\x20ao\x20deletar\x20a\x20conversa','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','_hour',',\x20Segundo\x20Valor:\x20','removeChatLabel','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','normalizeMessage','Subdomínio\x20não\x20encontrado','readreceipts','desativadoFluxoAte','jsonwebtoken','cacheContactModel','updateGParticipant','messages','username','author','gifPlayback','ip\x20-6\x20addr\x20add\x20','backgroundColor','getContentType','buttonOrList_id','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','CHATS_UPDATE','.webp','LabelModel','SEND_MESSAGE','viewOnceMessage','senderKeyDistributionMessage','inet6','*Pergunta*:\x20\x0a','key','API\x20Key\x20from\x20Request:','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','imageMessage','pollMessageOnDelete','connectToWhatsappController','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','isBusiness','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','extractMessageContent','qrcode.updated','updateProfilePicture','isValidIPv6Config','pollMessage','\x20foi\x20interrompido\x20pelo\x20usuário.','_remoteJid','Failed\x20to\x20send\x20buttons\x20message','CHATS_UPSERT','ChatModel','Instance\x20Key\x20from\x20DB:','now','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','Connection','Erro\x20ao\x20atualizar\x20o\x20fluxo:','telefone','/wa-groups','Module\x20-\x20ON','REDIS_PREFIX_KEY','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','delayMessage','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','sendMessageWithTyping','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','waInstances','setHeader','mediaSticker','cwd','?timestamp=','\x22\x20cannot\x20be\x20empty','pairingCode','email','all_member_add','proto','delayChatLabel_MAX_RETRIES','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','.fileUrl','editFlowVariable','interval\x20não\x20é\x20um\x20número','groupRequestParticipantsUpdate','#fed428','updateMissingTags','replaceVariables','#92ceac','request\x20received\x20in\x20getAutomateSystem','removeData','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','inviteCodeDetails','delete','imported','context','deleteMany','flushHeaders','IP\x20mismatch:\x20configured\x20','true','uazapiSendAudio','owner','floor','SINGLE_SELECT',',\x20lastCondition:\x20','Stack\x20trace:','fetchBusinessProfile','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','bearer','bodyString','request\x20received\x20in\x20updateCustomFields','.xlsx','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','uazapiDeleteMessage','thumbnailUrl','updateMissingCustomFields','CHATS_DELETE','joinGroupValidate','editMessagesInGroup','The\x20','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','createOrUpdate','\x22\x20-\x20REMOVED','leadInfo.etiquetas','.txt','fetchInstances','AutomateSystem','addReplyOption','instanceName','Cache-Control','creds.update','instances','selectedId','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Partes\x20do\x20domínio:','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','reorderMessages','randomBytes','getHours','conversation','fetchMessages','messageHandle','lastRealGroupsFetch','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','subject','Group\x20not\x20found','findContacts','leadInfo.customFields','sha256','formatVCard','Authentication\x20error','CONTACTS_UPDATE','whatsappNumbers','\x1b[32m','query','STORE_CHATS','API\x20Key\x20inválida.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','createFlow','tags','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','Mensagens\x20deletadas\x20com\x20sucesso.','beforeExit','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','getConversationModelForOwner','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','waitingMenu_text','Telefone:\x20','\x1b[43m','yes','):\x20Iniciando\x20processReadyMessages','):\x20Fluxo\x20\x27','presenceSubscribe','docker','LOG','\x20quoted:\x20','apiName','item','delayChatLabel','LICENSE_INVALID','groupCreate','test','blocks','Configuração\x20SSL\x20recuperada:','Flow\x20iniciado','Nenhum\x20chat\x20encontrado\x20para\x20editar.','sendAudio','delay','list2','#ffc5c7','contains','group','createWebhook','):\x20Enviando\x20localização','SERVER_URL','fetchPrivacySettings','DOCKER_ENV','getAllData','/webhook','insert','lastBlockId','Safari','ListMessage','SSL_CONF_FULLCHAIN','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','.svg','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20conversation.lastInteraction:\x20','success','\x20minutos','replaceVariablesChat','sendSticker','mkdirSync','selectedRowId','parse','saveChatVariables','lastReceivedMessage','Parando\x20aplicação...','):\x20Label\x20','endSession','dbInstance','reference','paused','pow','Error\x20writing\x20file:\x20','Limpando\x20logs\x20do\x20PM2...','automateSystem','contextInfo','instancias:\x20','eventEmitter','[AUTH]\x20Database\x20is\x20not\x20enabled','):\x20Mensagem\x20já\x20enviada\x20para\x20','isCommunityAnnounce','repository','group-participants.update','lastSendMessage',',\x20Minutes\x20to\x20Close:\x20','_FlowHistorico','Connection\x20closed\x20for\x20instance:\x20','quick_reply','remoteJid','contact_blacklist','reviver','/wa-presence','match','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','base64','dropIndex','50mb','GROUPS_UPDATE','closed','/wa-qrcode','findById','onWhatsApp','Error\x20fetching\x20and\x20updating\x20profile:\x20','\x22\x20-\x20NOT\x20CONNECTION','/config','):\x20Entrou\x20na\x20função\x20clearVariables','Erro\x20ao\x20buscar\x20fluxos:','displayName','truncatedto','deleteOne','VERBOSE','request\x20received\x20in\x20editFlowgroup','getDate','unreadCount','SERVER_OFFLINE','\x20não\x20encontrado\x20para\x20atualização.','Missing\x20global\x20api\x20key','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','isInteger','groupHandler','Deleted\x20','deleteInstance','array','Subdomínio\x20final:','Falha\x20ao\x20recriar\x20IPv6.','):\x20Entrou\x20na\x20função\x20goToFlow','sticker','Erro\x20ao\x20adicionar\x20label\x20','user','hGetAll','SERVER_PORT','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','):\x20whoCanEdit\x20after\x20validation:\x20','isURL','interactiveMessage','hbs','/exit','createInstance','goNextblock','):\x20tem\x20blocks','#83e421','readMessageBot','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','SECRET',',\x20pairCode:\x20','\x1b[44m','createServer','No\x20suitable\x20network\x20interface\x20found','oldToken','Falhou\x20ao\x20encontrar\x20chat\x20','getMonth','):\x20Entrou\x20na\x20função\x20scheduleFlow','12mbjSuE','364161UOOqzc','post','release','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','uuid','#00a1f2','option','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','getflow','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','groupDesc','editedMessage','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','startCommand','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','STORE_CONTACTS','END:VCARD','variablesToObject','mediaMessage','flow','Selecione\x20uma\x20opção','uazapiSendMedia','IPv6\x20address\x20configured:\x20',',\x20resultado:\x20','ephemeralMessage','#000000','QRCODE_UPDATED','cacheInstanceRepository','app','formatStatusMessage','):Image\x20is\x20base64','then','archiveChat','redirect','request\x20received\x20in\x20editConversation','Valor\x20inicial:\x20\x22','fone','notify','jwt','PRESENCE_UPDATE','.ogv','\x20depois\x20','selectedOptions','type','\x20}\x0a','no.connection','ContactsAndGroups','/wa-connection-update','_year','fetchContacts','connectionUpdate','statusMessage','request\x20received\x20in\x20fetchConversation','request\x20received\x20in\x20createFlow','split','Partes\x20do\x20caminho\x20FULLCHAIN:','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','request_time','):\x20Criando\x20fluxo...','ScheduleMessage','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','leadInfo.','):\x20nextBlock.uazapi.name','updateMany','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','https','Instance\x20Name:','webhookService','ReplyOption\x20com\x20ID\x20','pollErrorMessage','.TEL;waid=','crypto','where','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','console','deleteflow','reaction','getDelay','order','authorization','profilePictureUrl','Unauthorized','unlocked','Erro\x20ao\x20tentar\x20updateCustomFields','EXPIRIN_IN','https://uazapi-plugin.bubbleapps.io/','):\x20debug\x20alterando\x20this.AutomateSystem','response','locked','editFlow','fromMe','sendMenu','):\x20[messages.upsert]\x20group\x20ignored','Valor\x20da\x20URL\x20recuperada:','msgRetryCounterCache','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','/:instanceName','getScheduleMessageModelForOwner','MESSAGES_UPDATE','Fluxo\x20agendado\x20pelo\x20fluxo\x20','deviceSentMessage','max','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','processReadyMessages',',\x20valor\x20a\x20encontrar:\x20\x22','/wa-contacts','findAll','leaveGroup','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','not\x20loaded','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','code','Schema','#ffffff','\x20contacts','qrCode','DATABASE_CONNECTION_URI','readFile','image','splice','readMessages','error_log','text','testingWith','DARK','chatId','https://api.elevenlabs.io/v1/text-to-speech/','RECONNECT_TIME_FRAME','):\x20Query\x20params:\x20','eventHandler','emit','deleteImportedChat','URI','verifyWhatsAppNumber','archived','https://api.openai.com/v1/audio/speech','from','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','groupUpdateDescription','):\x20Removendo\x20\x27','command','routerPath','greater','markMessageAsRead','audio/ogg;\x20codecs=opus','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','recording','editflowvariable','menuExpiredMessage',',\x20Expiration\x20Time:\x20','SUCCESS','notas','catch','updateAutoCompleteMessages','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','profilePicture','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','cachedContact','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Erro\x20ao\x20atualizar\x20AutomateSystem:','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Editando\x20mensagens\x20no\x20grupo...','remote\x20\x22origin\x22','662730YkGYYx','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','Operador:\x20\x22','apiResponse','scheduled','This\x20name\x20','):Image\x20created','):Business\x20profile\x20fetched','envProcess','convertedOptions','unknown\x20operation\x20type\x20[','poll','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','editflow','statusCode','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','scheduleSendAudio','express','):\x20expirationTime:\x20','https://uazapi-plugin.bubbleapps.io/?url=','autoCompleteMessages','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','deleteConversation','status','PLAYED','dataValidate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','documentMessage','_month','STATUS_INSTANCE','redisEnv','Atualização:\x20','SERVER_ACK','label','PORT','Db\x20Connection','_minute','AUTHENTICATION_JWT_SECRET','g.us','\x1b[33m\x1b[1m','message','findWebhook','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','findGroups','findOne','allFlows','replaceVariablesLogs','removeUnusedChatFields','static','Font\x20is\x20required','groupSetting','request_method','mentions','messageId','pollCreationMessageKey','ipv6Prefix','JWT','waUploadToServer','#fe9dfe','connectedName','generateRandomIPv6','whoCanUse','profileName','TEL','data','whatsappNumber','findOrCreate','mongoose','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','\x20removido\x20do\x20chat\x20','error','.\x20Aguardando\x20','sendLocation','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','\x27\x20removido\x20do\x20AutomateSystem.','waitingMenu_replyOptions','):\x20Entrou\x20na\x20função\x20stop','writeFile','):\x20Buscando\x20todos\x20os\x20fluxos...','The\x20property\x20cannot\x20be\x20empty','parseInt','isJidBroadcast','shareFlow','dbSettings','Rodapé\x20de\x20Teste','createJid','/instance/connect','Mac\x20OS','subjectTime','--------------------------------------','Tentando\x20reconectar...','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','STORE','findManyByIds','groupRevokeInvite','0123456789ABCDEF','restrict','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','messageContextInfo','):\x20\x27Deletando\x20fluxo,\x20id:\x20','removeProfilePicture','Invalid\x20format','USER','everyOne','mongodb://','mentioned','loadInstance','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','Log\x20out\x20instance:\x20','Erro\x20ao\x20remover\x20label\x20','updatePrivacySettings','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','varedits','CREDENTIALS','CONNECTION_UPDATE','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','chats','getFullYear','.webm','video-cover.png','utf8','output','addChatLabel','deletedCount','cache','node-mime-types','notEmpty','getProfileName','\x20inseridos\x20no\x20banco\x20de\x20dados...','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','cpf','\x22reaction\x22\x20must\x20be\x20an\x20emoji','/media/','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','audioMessage','revokeInviteCode','selectableCount','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','request\x20received\x20in\x20getConversation','charAt','variable','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','\x22\x20not\x20found','send.message','document','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','updateStopChat','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','getLastMessage','interactiveResponseMessage','fileName','descId','\x27\x20do\x20banco\x20de\x20dados...','message_normalized','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','groupJoinApprovalMode','):Processing\x20audio','Cache\x20instance\x20update\x20result:\x20','):\x20Enviando\x20mídia','#9ab6c1','hasOwnProperty','binary','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','scheduleSendText','vir','HOST','sharePass','processConditions','latitude','ip\x20-6\x20addr\x20del\x20','979030HnqXkU','false','announce','sendPresenceUpdate','groupName','keep-alive','defineAuthState','app-state-sync-key','express-async-errors','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','createNewConversation','Erro\x20ao\x20alterar\x20privacidade','RemoteJid:','Contacts\x20not\x20found','DELIVERY_ACK','leadInfo.atendimentoAberto','Fluxos\x20não\x20estão\x20ativados','6iVTnWa','isBase64','readData','\x20inseridas\x20no\x20banco\x20de\x20dados...','setWebhook','messageLogsModel','set','):\x20teve\x20mudanças\x20chat.archived:\x20','\x1b[47m','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Error\x20removing\x20IPv6\x20address:\x20','Types','):\x20conversation.waitingMenu_name','updateReadReceiptsPrivacy','ScheduleMessageModel','prototype','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','Variáveis\x20não\x20encontradas:','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','lastUpdate','Erro\x20ao\x20atualizar\x20cacheInstance:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','updateCustomFields','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','}}\x20->\x20\x22','startID','/events','):\x20Iniciando\x20bot...','isRunning','button','readMessage','updateMissingEtiquetas','editChat','fetchConversation','getUniqueFlowName','mongodb','list','Erro\x20ao\x20buscar\x20o\x20fluxo','The\x20\x22','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','validate','info','remove.instance','reorderBlocks','Last\x20message\x20not\x20found','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','existsSync','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','Error\x20in\x20chatModify\x20for\x20number\x20','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','Internal\x20Server\x20Error','save','Network\x20Interface\x20detected:\x20','Not\x20is\x20business\x20profile','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','muteEndTime','.pptx','replyOptions','format','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','imgUrl','Bad\x20Request','ORG:','findMessages','updateAll','deleteDoneMessages','scheduleFlow','DATABASE_CONNECTION_PASSWORD','request\x20received\x20in\x20editFlow','https://ipv6.jsonip.com','uncaughtException','initAuthCreds','findOneAndUpdate','OrAnd','ephemeralExpiration','variablesNotFound','creds','userDevicesCache','#ff9484','Selecione','findParticipants','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','number','PREFIX_KEY','.doc','Erro\x20ao\x20editar\x20a\x20conversa','instanceKeys','_second','CONTACTS_SET','/instance/delete','CHATS_SET','transformScheduledMessagesByType','Error\x20finding\x20many\x20contacts:','ERROR','\x5cd+','undefined','getBase64FromMediaMessage','logger','loadWebhook','.type','round','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','protocolMessage','.\x20Pulando.','setContext','badSession','):\x20Usando\x20extensão\x20padrão:\x20','KEY','RemoveChatLabel','Número\x20não\x20possui\x20WhatsApp.','start','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','https://chat.whatsapp.com/','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','caption','instanceInfo','Forbidden','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','creds.json','Pausado\x20por\x20','truncatedtoEnd','status.instance','downloads','preview','#56ccb4','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','GROUP_PARTICIPANTS_UPDATE','proxy:\x20','getValidWhatsAppNumbers','replaceVariablesInObject','findAndReplaceRegex','textMessage','locationMessage','loadEnv','reconnectAttempts','execSync','updateProfileStatus','\x1b[34m','toBRL','globalShow','IPv6\x20address\x20removed:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Sistema\x20atualizado\x20com\x20sucesso!','Erro\x20ao\x20aplicar\x20varedit:\x20','pictureUrl','detectIPv6PrefixAndInterface','conversationTimestamp','removeIPv6','getVariablesChat','):\x20Alterando\x20fluxo...','some','public','restart','realVariables','longitude','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','/instance/fetchInstances','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','importChats','groupBetterSetting','#9ba6ff','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','ConversationModel','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','dbServer','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','picture','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20lastBlockId:\x20','sectionsToString','sendPoll','currency','#d3a91f','content','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','AddChatLabel','process','allContacts','):Temp\x20image\x20deleted','request\x20body:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','approve','redis','cta_url','Database\x20connection\x20closed.','abs','synchronizeAndMapFlows','upsertedCount','):\x20Ler\x20mensagem','convertaudio','contactMessage','default','http','imagechat','.X-ABLabel:Celular\x0a','22FIBSye','URL','messagesLogs','add','-instances','removeInstance','Error\x20in\x20buttonsMessage\x20function:','params','scheduleNextCheck','off','_activedCount','delAll','last','method','sendContact','\x1b[36m','REDIS','notEqual','request\x20received\x20in\x20updateAutoCompleteMessages','PRIVKEY','createButtonsFromValues','expiration','Erro\x20ao\x20copiar\x20o\x20documento','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Error\x20removing\x20unused\x20chat\x20fields:','URL:','removeIPv6ById','toggleEphemeral','stanzaId','_ScheduleMessages','verifiedName','importChatsBatch','findAndUpdateCacheContact','includes','createConversationforgoToFlow','buttons','result','editflowblock','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','quoted','spawn','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','detail','finish','has','maxActives','address','STORE_MESSAGE','):\x20Going\x20to\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','agents','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','_activatedCount','slice','#dfaef0','Erro\x20ao\x20alterar\x20fluxo',',\x20received\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','notMatchRegex','stringify','reconnectTimestamps','toFile','MAX_SAFE_INTEGER','varedit','pollCreationMessageV3','):\x20Editando\x20condição\x20do\x20fluxo...','pollCreationMessage','every','):Image\x20path:\x20','saveTextReply','request\x20received\x20in\x20starFlow','#64c4ff','findConversation','convertaudioMP3','listen','events','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','segundos','urlencoded','urlOrBase64','findIndex','name','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','created','connect','Fluxo\x20id\x20\x27','send','):\x20atualização\x20chat:\x20','contactsArrayMessage','):\x20Criou\x20conversa\x20no\x20startFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','substring','flowConversation','stopMinutesMaxActives','DB_PREFIX_NAME','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','):\x20Editando\x20replyOption...','participants','mediaKey','LOG_LEVEL','redis://127.0.0.1:6379','.jwt','fromObject','STORE_CLEANING_TERMINAL','updateGParticipate','Erro\x20inesperado\x20em\x20processvaredits:\x20','#01d0e2','Not\x20allowed\x20by\x20CORS','createHash','processApiRequest','headerString','recebido\x20de','clearVariables','URL\x20não\x20disponível','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','write','groups','groupSettingUpdate','enviado\x20para','get','url','Falha\x20ao\x20processar\x20a\x20solicitação','addMessagesToGroup','isAdmin','customFields','):\x20Rótulo\x20atualizado:\x20','.xls','AppStateSyncKeyData','EMAIL','):Fetching\x20business\x20profile','sendMedia','editFlowReply','blockLogs','block','Cannot\x20','Configured\x20IPv6:\x20','Error\x20adding\x20IPv6\x20address:\x20','organization','promote','subjectOwner','):\x20whoCanUse\x20after\x20validation:\x20','Type\x20is\x20required','connectToWhatsapp','firstValue','messageStubParameters','basename','close','):Output\x20path:\x20','23649RIpanS','READ','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','configService','_error','createIPv6','452212DlodaP','use','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Enviando\x20mensagem\x20para\x20','router','cleaningUp','participant','error\x20get\x20vote','map','\x1b[31m%s\x1b[0m','.png','listType','startFlow','WebhookGlobal','width','https://github.com/uazapi/uazapi.git','getChatModelForOwner','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','value','randomMac','bodyStringErrorParse','REDIS_URI','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','processPollUpdateMessage','/instance','ENABLED','fetchChats','chat','deleted','connectionStatus','fullName','\x1b[42m','/wa-message-update','getTime','GUARD','trim','saveConversationToDatabase','E-mail:\x20','):\x20Bloco\x20copiado:\x20','newStoppedUntil','connectedClient','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Logger','Error\x20updating\x20cache\x20contact:','evaluateConditionTest','listMessage','Instance\x20deleted','):\x20\x27Enviando\x20texto\x20para\x20\x27','_pushName','\x1b[1m\x1b[37m','The\x20global\x20api\x20key\x20must\x20be\x20set','deleteReplyOption','https://api64.ipify.org?format=json','):\x20\x27Enviando\x20audio\x20para\x20\x27','):Desconectado,\x20parando\x20execução.','setNewValue','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Database\x20update\x20result:','secondValue','api','beautifyWithPlaceholders','NextBlock','sendList','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','rowId','generateWAMessageFromContent','groupdata','):\x20Conversa\x20está\x20expirada\x20-\x20voto','PROXY','MESSAGES_UPSERT','ON\x20-\x20dbName:\x20','\x20não\x20encontrado\x20para\x20cópia','CORS_ORIGIN','stopWhenYouSendMsg','scheduleSendMedia','local_map','messaging-history.set','):\x20leadInfoVariables','enumerable','):\x20Editando\x20variável\x20do\x20fluxo...','CONTACTS_UPSERT','Erro\x20ao\x20atualizar\x20o\x20flow.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','WA\x20MODULE','Error\x20testing\x20IP\x20with\x20','Primeiro\x20Valor:\x20','forEach','next_groupId','ephemeralDuration','getDevice','Valor\x20de\x20find\x20ou\x20replace\x20ausente','processUazapi','editFlowVaredit','.mimetype','initializeQueue','Error\x20fetching\x20group','pushName','findGroup','ip:\x20','integer','getSeconds','header','boolean','flows','.mp3','exports','warn','http://checkip.dyndns.org','.extension','chatHandle','API_KEY','_sender','\x20-y','collections','):\x20Comando\x20desconhecido:\x20','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','_Chats','noConnection','uazapi','singleSelectReply','startsWith','labels.edit','axios','groupLeave','$dbName','random','sendStatus','env','^\x5cd+','last_update','messages.upsert','):Hash\x20to\x20image\x20name:\x20','getStatus','CLEANING_INTERVAL','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Removidas\x20as\x20variáveis:\x20','length','/wa-all-message','\x20horas\x20e\x20','sendReaction','pendingMessages','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Procurando\x20conversa','nome','):\x20Flow\x20desativado','editScheduleMessage','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','replace','3EB0','application/json','WARN','chatModify','path','groupParticipantsUpdate','done','setRestartTimeout','sharp','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','All_Instances_Config','INFO','DEBUG','Erro\x20ao\x20tentar\x20autoCompleteMessages','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Imagem\x20não\x20encontrada','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','updateMessage','admin','localWebhook','prepareWAMessageMedia','\x20-i\x20','/wa-chats','replacer','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','data:\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','getFlow','connectionState','onTime','Type\x20not\x20found','demote','promisify','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','timeout','isArray','#d8e651','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Grupo\x20não\x20encontrado','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','Botão\x202','createConnection','footer','find','ChatRouter','.mp4','updateFlowConfig','testIPv6','Instance\x20\x22','5089400OnzRrc','PRODUCT_LIST','remove','readFileSync','string','_p_','\x1b[33m%s\x1b[0m','isLong','):\x20não\x20encontrou','media','sort','fetchStatus','@ffmpeg-installer/ffmpeg','lean','trimmed','chats.update',',\x20isAdmin:\x20','\x27...','logout','IP\x20confirmed:\x20','configureIPv6','and','object','reactionMessage','Instance\x20restarted','shift','exit','isCommunity','jid','blockId','addresss','flush','statusJidList','Subdomínio\x20extraído\x20da\x20URL:','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','presence','Not\x20Found','!cmd_','delayChatLabel_RETRY_DELAY_MS','extractPhoneNumber','ContactModel','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','mediatype','SSL_CONF','single_select','__esModule','):\x20conversation.status:\x20','):\x20Adicionando\x20\x27','canSendMessage','SendScheduleMessage','footerText','node-cache','values','lastSend','creation',',\x20Comparador:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','class-validator','getLabelModelForOwner','encoding','toLocaleString','):\x20Entrou\x20na\x20função\x20saveReply','Router','ignoreGroups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','replyOption','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Flow\x20\x27','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','namespace','body','filter','lowerCase','.error','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','updateOne','getMessageModelForOwner','dayjs','vote','throwAndLogError','updateAgent','Erro\x20de\x20atualização:\x20','pollCreationMessageV2','headers','):\x20Criando\x20nova\x20conversa[createNewConversation]','birthtime','content-type','atendimentoAberto','temp-','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','SERVER','uazapiSendLocation','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','rm\x20-rf\x20','notContains','webhookMap','FULLCHAIN','/events/:instance','):Notifying\x20clients\x20for\x20chat:\x20','put','responsavelid',',\x20canSendMessage:\x20','keys','Erro\x20ao\x20encerrar\x20a\x20API','generateHash','modifiedCount','Resultado\x20da\x20correspondência\x20de\x20URL:','messageType','licenca','originalUrl','createButtonSectionsFromValues','\x20:\x20','@g.us','AUTHENTICATION','https://','getMinutes','):\x20Editando\x20grupo\x20do\x20fluxo...','phoneNumber','Network\x20interfaces\x20detected:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','envYaml','templateButtonReplyMessage','\x0a{\x20instance:\x20','stderr','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','load','connection.update','stopped','makeCacheableSignalKeyStore','stopMinutes','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','editFlowGroup','processawaitSeconds','pm2\x20flush','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','_Messages','Fluxo\x20não\x20encontrado\x20na\x20memória.','triedToSend','request\x20received\x20in\x20updateAgent','upsertChats','lastFetchAwaitingApproval','findGroupsEspecial','flowConfig','profile','buttonParamsJson','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','):Type\x20defined\x20as\x20audio','open','ListType','available','numbers','removed','groupMemberAddMode'];a0_0x27da=function(){return _0x4f0618;};return a0_0x27da();}var ea=T(require(a0_0x43466e(0x1e3))),hs=new ea[(a0_0x43466e(0x56d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x43466e(0x431)),Ae=T(require(a0_0x43466e(0x431))),Ge=new $(a0_0x43466e(0x411)),L=S[a0_0x43466e(0x5e9)](a0_0x43466e(0x1ec)),I=L[a0_0x43466e(0x626)]?L[a0_0x43466e(0x20f)]['URI']?Ae['default']['createConnection'](L[a0_0x43466e(0x20f)][a0_0x43466e(0x3cf)],{'dbName':L[a0_0x43466e(0x20f)][a0_0x43466e(0x5d0)]+'-whatsapp-api'}):Ae['default'][a0_0x43466e(0x6cd)]('mongodb://'+L[a0_0x43466e(0x20f)][a0_0x43466e(0x494)]+':'+L[a0_0x43466e(0x20f)][a0_0x43466e(0x410)]+a0_0x43466e(0x89a),{'user':L[a0_0x43466e(0x20f)][a0_0x43466e(0x454)],'pass':L[a0_0x43466e(0x20f)][a0_0x43466e(0x773)],'dbName':L[a0_0x43466e(0x20f)]['DB_PREFIX_NAME']+a0_0x43466e(0x81a)}):null;L[a0_0x43466e(0x626)]&&Ge[a0_0x43466e(0x4d3)](a0_0x43466e(0x653)+I[a0_0x43466e(0x689)]);var X=L[a0_0x43466e(0x626)]?L['CONNECTION'][a0_0x43466e(0x3cf)]?Ae[a0_0x43466e(0x56d)]['createConnection'](L[a0_0x43466e(0x20f)][a0_0x43466e(0x3cf)],{'dbName':a0_0x43466e(0x853)}):Ae['default'][a0_0x43466e(0x6cd)](a0_0x43466e(0x456)+L[a0_0x43466e(0x20f)][a0_0x43466e(0x494)]+':'+L[a0_0x43466e(0x20f)][a0_0x43466e(0x410)]+a0_0x43466e(0x89a),{'user':L[a0_0x43466e(0x20f)][a0_0x43466e(0x454)],'pass':L[a0_0x43466e(0x20f)]['PASSWORD'],'dbName':a0_0x43466e(0x14d)}):null;X&&Ge[a0_0x43466e(0x4d3)](a0_0x43466e(0x653)+X['$dbName']),process['on'](a0_0x43466e(0x2b9),()=>{const _0x24e4f5=a0_0x43466e;I&&I[_0x24e4f5(0x604)](()=>{const _0x3fa29b=_0x24e4f5;Ge[_0x3fa29b(0x4d3)](_0x3fa29b(0x566));}),X&&X[_0x24e4f5(0x604)](()=>{const _0x15e7e5=_0x24e4f5;Ge[_0x15e7e5(0x4d3)](_0x15e7e5(0x834));});});var Xi=new Me[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x43466e(0x3bb))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x43466e(0x3bb))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x371780=>{const _0x1426a4=a0_0x43466e;let _0xa52abf='z_'+_0x371780+_0x1426a4(0x681);return I?.[_0x1426a4(0x1e8)](_0x1426a4(0x24d),so,_0xa52abf);},sa=require('mongoose'),ao=new sa[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x5362c4=>{const _0x4d8d20=a0_0x43466e;let _0x157333='z_'+_0x5362c4+'_Contacts';return I?.[_0x4d8d20(0x1e8)](_0x4d8d20(0x6fd),ao,_0x157333);},ia=require('mongoose'),gs=class{},io=new ia[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.[a0_0x43466e(0x1e8)](gs['name'],io,a0_0x43466e(0x378)),ra=require('mongoose'),ms=class{},oo=new ra[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x43466e(0x1e8)](ms[a0_0x43466e(0x5c3)],oo,'instances'),ws=require('mongoose'),fs=class{},ro=new ws['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws[(a0_0x43466e(0x3bb))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.['model'](fs[a0_0x43466e(0x5c3)],no,a0_0x43466e(0x573)),ca=_0xfd333a=>{const _0x22a698=a0_0x43466e;let _0x4ad503='z_'+_0xfd333a+_0x22a698(0x761);return I?.[_0x22a698(0x1e8)](_0x22a698(0x7c3),ro,_0x4ad503);},la=require(a0_0x43466e(0x431)),ys=class{},co=new la[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=I?.[a0_0x43466e(0x1e8)](ys[a0_0x43466e(0x5c3)],co,a0_0x43466e(0x147)),da=require(a0_0x43466e(0x431)),bs=class{},pa=new da[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x43466e(0x814)]('save',function(_0x258cd8){const _0x12f294=a0_0x43466e;delete this[_0x12f294(0x145)],delete this['flowIgnoreGroups'],delete this[_0x12f294(0x8a5)],delete this[_0x12f294(0x1c3)],delete this['flowStopMinutes'],_0x258cd8();});var ha=I?.['model'](bs[a0_0x43466e(0x5c3)],pa,a0_0x43466e(0x1b8)),P=require('mongoose'),Ss=require('uuid'),We=class{},Ms=class{},ma=new P[(a0_0x43466e(0x3bb))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x43466e(0x4ce)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x43466e(0x4f9)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x43466e(0x208)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x43466e(0x3bb))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P[(a0_0x43466e(0x3bb))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x43466e(0x3bb))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x43466e(0x3bb))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x43466e(0x3bb))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x43466e(0x3bb))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x42b35e=a0_0x43466e;return _0x42b35e(0x6fa)+Math[_0x42b35e(0x68a)]()[_0x42b35e(0x880)](0x24)[_0x42b35e(0x5a7)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x43466e(0x49a)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x43466e(0x814)](a0_0x43466e(0x4f2),function(_0x2cda4a){const _0x26ac4f=a0_0x43466e;let _0x3cd703=this[_0x26ac4f(0x774)]();if(_0x3cd703&&typeof _0x3cd703==_0x26ac4f(0x6eb)&&'$set'in _0x3cd703){let _0x1f9170=_0x3cd703['$set'];if(_0x1f9170){let _0x259637=new Set(),_0x5be8fe=new Set(_0x1f9170[_0x26ac4f(0x88e)]?.['map'](_0x3302df=>_0x3302df[_0x26ac4f(0x5c3)])),_0x5629ed=JSON[_0x26ac4f(0x5ad)](_0x1f9170),_0x2c5498=/{{(?!_)([^}]*)}}/g,_0xde5230;for(;(_0xde5230=_0x2c5498['exec'](_0x5629ed))!==null;)_0x5be8fe[_0x26ac4f(0x59e)](_0xde5230[0x1])||_0x259637['add'](_0xde5230[0x1]);_0x259637['size']>0x0?(console[_0x26ac4f(0x677)](_0x26ac4f(0x4bb),Array['from'](_0x259637)),_0x1f9170[_0x26ac4f(0x4f5)]=Array[_0x26ac4f(0x3d3)](_0x259637)):_0x1f9170['variablesNotFound']=[],this[_0x26ac4f(0x833)]({'$set':_0x1f9170});}}_0x2cda4a();});var Ce=I?.['model'](Ms[a0_0x43466e(0x5c3)],ba,a0_0x43466e(0x41b)),go=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x43466e(0x76d)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x43466e(0x208)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x3cd42c=>{const _0xe70023=a0_0x43466e;let _0x577519='z_'+_0x3cd42c+_0xe70023(0x306);return I?.[_0xe70023(0x1e8)](_0xe70023(0x54e),mo,_0x577519);},fo=new P[(a0_0x43466e(0x3bb))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x43466e(0x3f2)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x29bfde=>{const _0x23b03c=a0_0x43466e;let _0x32dedf='z_'+_0x29bfde+_0x23b03c(0x58e);return I?.[_0x23b03c(0x1e8)](_0x23b03c(0x4b8),wo,_0x32dedf);},Es=class{},yo=new P[(a0_0x43466e(0x3bb))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x43466e(0x7c2)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Ie=I?.[a0_0x43466e(0x1e8)](Es[a0_0x43466e(0x5c3)],Eo,a0_0x43466e(0x295)),Ca=require('mongoose'),vo=new Ca[(a0_0x43466e(0x3bb))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x28b86=>{const _0x2f8f1f=a0_0x43466e;let _0x32942d='z_'+_0x28b86+_0x2f8f1f(0x7a7);return I?.[_0x2f8f1f(0x1e8)](_0x2f8f1f(0x235),vo,_0x32942d);},_=class{constructor(_0x5c084d){const _0x393584=a0_0x43466e;this[_0x393584(0x441)]=_0x5c084d['get'](_0x393584(0x1ec));}};function A(_0x553754){const _0x2b8843=a0_0x43466e;let _0x1281cd={};for(let [_0x5401d1,_0x34331d]of Object[_0x2b8843(0x7c1)](_0x553754))if(typeof _0x34331d=='object'&&!Array[_0x2b8843(0x6c7)](_0x34331d)){for(let [_0x20ce04,_0x4df8d9]of Object[_0x2b8843(0x7c1)](_0x34331d))_0x1281cd[_0x5401d1+'.'+_0x20ce04]=_0x4df8d9;}else _0x1281cd[_0x5401d1]=_0x34331d;return _0x1281cd;}var ze=class{constructor(_0x28f783,_0x2a3712,_0x33ff6b,_0x562db3,_0x3fd62a,_0x205674,_0x51440d,_0x5ad5ba,_0x3e1046,_0x265cda,_0x281a47,_0x31ff78,_0x2b9366,_0x41de4d){const _0xfa5bd4=a0_0x43466e;this[_0xfa5bd4(0x416)]=_0x28f783,this['chat']=_0x2a3712,this['contact']=_0x33ff6b,this[_0xfa5bd4(0x890)]=_0x562db3,this['messageLogs']=_0x3fd62a,this[_0xfa5bd4(0x1b8)]=_0x205674,this[_0xfa5bd4(0x1c5)]=_0x51440d,this[_0xfa5bd4(0x1da)]=_0x5ad5ba,this['flow']=_0x3e1046,this[_0xfa5bd4(0x5ce)]=_0x265cda,this['label']=_0x281a47,this[_0xfa5bd4(0x794)]=_0x31ff78,this[_0xfa5bd4(0x2fb)]=_0x2b9366,this[_0xfa5bd4(0x21b)]=_0x41de4d;}get[a0_0x43466e(0x550)](){return this['dbClient'];}},He=class{},Ke=class extends _{[a0_0x43466e(0x724)](_0x2efc09){return ca(_0x2efc09);}async[a0_0x43466e(0x2de)](_0x52a11a,_0x4e0239){const _0x351bd9=a0_0x43466e;if(_0x52a11a[_0x351bd9(0x695)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x351bd9(0x724)](_0x4e0239)[_0x351bd9(0x873)]([..._0x52a11a]))[_0x351bd9(0x695)]};}catch(_0x2de3f2){return _0x2de3f2;}}async['find'](_0x366ee4,_0x20a735){const _0x82485a=a0_0x43466e;try{let _0x48c861=this[_0x82485a(0x724)](_0x20a735),_0x1fc907=A(_0x366ee4[_0x82485a(0x392)]);return await _0x48c861[_0x82485a(0x6cf)](_0x1fc907)['sort']({'messageTimestamp':-0x1})['limit'](_0x366ee4?.['limit']??0x0)[_0x82485a(0x6e2)]();}catch{return[];}}async[a0_0x43466e(0x274)](_0x53c6f2,_0x59c473){const _0x5744d1=a0_0x43466e;try{let _0x373835=this[_0x5744d1(0x724)](_0x59c473),_0x141c72=A(_0x53c6f2['where']);await _0x373835[_0x5744d1(0x277)](_0x141c72);}catch(_0x71f140){console[_0x5744d1(0x434)](_0x71f140);}}async[a0_0x43466e(0x211)](_0x2f490f,_0x14c0e1,_0x24458f){const _0x1b1b7c=a0_0x43466e;try{let _0x216067=this[_0x1b1b7c(0x724)](_0x24458f),_0x562c84=A(_0x2f490f[_0x1b1b7c(0x392)]);return await _0x216067[_0x1b1b7c(0x4f2)](_0x562c84,{'$set':_0x14c0e1},{'new':!0x0});}catch(_0x3cfa61){throw console[_0x1b1b7c(0x434)](_0x3cfa61),_0x3cfa61;}}async['insertMany'](_0x1c4683,_0xf8471){const _0x3953c2=a0_0x43466e;if(_0x1c4683[_0x3953c2(0x695)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3953c2(0x724)](_0xf8471)[_0x3953c2(0x873)]([..._0x1c4683]))[_0x3953c2(0x695)]};}catch(_0x38191f){return console[_0x3953c2(0x217)]('ERROR:\x20',_0x38191f),_0x38191f;}}async[a0_0x43466e(0x17c)](_0xe1124f){const _0x8cd848=a0_0x43466e;try{return await this[_0x8cd848(0x724)](_0xe1124f)[_0x8cd848(0x79f)][_0x8cd848(0x1cb)](),{'success':!0x0};}catch(_0x1fed27){return console[_0x8cd848(0x434)](_0x1fed27),{'success':!0x1,'error':_0x1fed27};}}},Ps=T(require(a0_0x43466e(0x6e1))),w=T(require('@whiskeysockets/baileys')),Le=require('fs'),j=T(require(a0_0x43466e(0x6a6))),Q=T(require(a0_0x43466e(0x687))),Ii=require(a0_0x43466e(0x34e)),Ti=T(require(a0_0x43466e(0x886))),_i=T(require(a0_0x43466e(0x1d4))),va=[a0_0x43466e(0x23e),a0_0x43466e(0x409),'audioMessage','videoMessage',a0_0x43466e(0x797)],Na=[a0_0x43466e(0x362),'documentWithCaptionMessage',a0_0x43466e(0x237),'viewOnceMessageV2'],Ds=require('os'),Ft=T(require(a0_0x43466e(0x178))),Fe=require(a0_0x43466e(0x134)),Oi=require(a0_0x43466e(0x46b)),ge=T(require('mongoose')),J=require(a0_0x43466e(0x70f)),ue=class{constructor(_0x15d9af,_0x46c58c,_0x309297){const _0x57802f=a0_0x43466e;this[_0x57802f(0x6f1)]=_0x15d9af,this[_0x57802f(0x7cf)]=_0x46c58c,this[_0x57802f(0x5c3)]=_0x309297;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require(a0_0x43466e(0x3ff))),$a=require('fs'),Ra=require(a0_0x43466e(0x6a6));async function _e(_0x1fa6ed){const _0x395ddc=a0_0x43466e;let _0x55c8b2=G['waInstances'][_0x1fa6ed];if(L[_0x395ddc(0x626)]){let _0x5be17e=I[_0x395ddc(0x182)]()['db'](L['CONNECTION']['DB_PREFIX_NAME']+_0x395ddc(0x575))[_0x395ddc(0x79f)](_0x1fa6ed);return _0x55c8b2||(await _0x5be17e[_0x395ddc(0x6cf)]({})['toArray']())['length']>0x0;}return _0x55c8b2||(0x0,$a['existsSync'])((0x0,Ra[_0x395ddc(0x14c)])(Se,_0x1fa6ed));}async function Aa(_0x405703,_0x20d2a0,_0x1f0de8){const _0x2bd02d=a0_0x43466e;if(_0x405703[_0x2bd02d(0x745)][_0x2bd02d(0x592)](_0x2bd02d(0x7a2))||_0x405703[_0x2bd02d(0x745)][_0x2bd02d(0x592)](_0x2bd02d(0x547))||_0x405703['originalUrl']['includes'](_0x2bd02d(0x339))||_0x405703[_0x2bd02d(0x745)][_0x2bd02d(0x592)](_0x2bd02d(0x319))||_0x405703[_0x2bd02d(0x745)][_0x2bd02d(0x592)](_0x2bd02d(0x444))||_0x405703[_0x2bd02d(0x745)][_0x2bd02d(0x592)](_0x2bd02d(0x78a))||_0x405703[_0x2bd02d(0x745)][_0x2bd02d(0x592)](_0x2bd02d(0x503)))return _0x1f0de8();let _0x16a8ff=_0x405703['params'];if(!_0x16a8ff?.[_0x2bd02d(0x297)])throw new m('instanceName\x20not\x20provided.');if(!await _e(_0x16a8ff[_0x2bd02d(0x297)]))throw new U(_0x2bd02d(0x28e)+_0x16a8ff[_0x2bd02d(0x297)]+'\x20instance\x20does\x20not\x20exist');_0x1f0de8();}async function Ia(_0x19599b,_0x1852a5,_0x1d81e3){const _0x2e86fb=a0_0x43466e;if(_0x19599b[_0x2e86fb(0x745)][_0x2e86fb(0x592)](_0x2e86fb(0x7a2))){let _0x339b6b=_0x19599b['body'];if(await _e(_0x339b6b[_0x2e86fb(0x297)]))throw new Z(_0x2e86fb(0x3f3)+_0x339b6b[_0x2e86fb(0x297)]+_0x2e86fb(0x7b1));G[_0x2e86fb(0x25c)][_0x339b6b[_0x2e86fb(0x297)]]&&delete G[_0x2e86fb(0x25c)][_0x339b6b[_0x2e86fb(0x297)]];}_0x1d81e3();}var Ta=require(a0_0x43466e(0x70f)),_a=T(require('jsonwebtoken')),it=a0_0x43466e(0x683),$o=new $(a0_0x43466e(0x62f));async function Ro(_0x2db017,_0x6e6e0a,_0x3c3008){const _0x12bfa5=a0_0x43466e;let _0x305940=_0x2db017[_0x12bfa5(0x5e9)](_0x12bfa5(0x899));if(_0x305940&&S[_0x12bfa5(0x5e9)](_0x12bfa5(0x749))[_0x12bfa5(0x67b)][_0x12bfa5(0x515)]!==_0x305940)throw new ie();if(S['get'](_0x12bfa5(0x749))[_0x12bfa5(0x67b)][_0x12bfa5(0x515)]===_0x305940)return _0x3c3008();if((_0x2db017[_0x12bfa5(0x745)]['includes'](_0x12bfa5(0x7a2))||_0x2db017[_0x12bfa5(0x745)]['includes'](_0x12bfa5(0x547)))&&!_0x305940)throw new Z(_0x12bfa5(0x325),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x367f3e=S[_0x12bfa5(0x5e9)](_0x12bfa5(0x749))[_0x12bfa5(0x426)];try{let [_0x2edeb5,_0x3bdba9]=_0x2db017[_0x12bfa5(0x5e9)](_0x12bfa5(0x399))[_0x12bfa5(0x380)]('\x20');if(_0x2edeb5['toLowerCase']()!==_0x12bfa5(0x283))throw new ie();if(!(0x0,Ta[_0x12bfa5(0x846)])(_0x3bdba9))throw new ie();let _0x1315c1=_0x2db017['params'],_0x31d80a=_a[_0x12bfa5(0x56d)][_0x12bfa5(0x7b0)](_0x3bdba9,_0x367f3e[_0x12bfa5(0x340)],{'ignoreExpiration':_0x367f3e[_0x12bfa5(0x39e)]===0x0});if(_0x1315c1[_0x12bfa5(0x297)]!==_0x31d80a['instanceName']||it!==_0x31d80a[_0x12bfa5(0x2c7)])throw new ie();return _0x3c3008();}catch(_0x182ded){throw $o['error'](_0x182ded),new ie();}}async function Ao(_0x1bb36f,_0x59f376,_0x39fd46){const _0x3fe08f=a0_0x43466e;let _0x28a048=S[_0x3fe08f(0x5e9)](_0x3fe08f(0x749))['API_KEY'],_0x243ab9=_0x1bb36f[_0x3fe08f(0x5e9)](_0x3fe08f(0x899));if(_0x28a048['KEY']===_0x243ab9)return _0x39fd46();if(_0x1bb36f['originalUrl'][_0x3fe08f(0x592)](_0x3fe08f(0x7a2))){let _0x4cd3d2=xa,_0x17ebc2=_0x1bb36f['body']['instanceName'];if(_0x4cd3d2&&_0x17ebc2[_0x3fe08f(0x7a5)]()['startsWith'](_0x4cd3d2[_0x3fe08f(0x7a5)]()))return _0x39fd46();if(!_0x243ab9)throw new Z('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x1bb36f[_0x3fe08f(0x745)][_0x3fe08f(0x592)](_0x3fe08f(0x547))&&!_0x243ab9)throw new Z(_0x3fe08f(0x325),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x1bb36f[_0x3fe08f(0x745)][_0x3fe08f(0x592)](_0x3fe08f(0x339))&&!_0x243ab9)throw new Z(_0x3fe08f(0x325),_0x3fe08f(0x63f));if(_0x1bb36f['originalUrl'][_0x3fe08f(0x592)](_0x3fe08f(0x319))&&!_0x243ab9)throw new Z('Missing\x20global\x20api\x20key',_0x3fe08f(0x63f));try{let _0x4f6ea5=_0x1bb36f['params'],_0x39a8f0=await fe['auth'][_0x3fe08f(0x6cf)](_0x4f6ea5[_0x3fe08f(0x297)]);if(_0x39a8f0&&_0x39a8f0[_0x3fe08f(0x899)]===_0x243ab9)return _0x39fd46();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require('express'),C=require(a0_0x43466e(0x34e)),E=(..._0x28761e)=>{const _0x183f48=a0_0x43466e;let _0x4ea6a0={};return _0x28761e[_0x183f48(0x663)](_0x6dac29=>_0x4ea6a0[_0x6dac29]={'minLength':0x1,'description':_0x183f48(0x4d0)+_0x6dac29+_0x183f48(0x261)}),{'if':{'propertyNames':{'enum':[..._0x28761e]}},'then':{'properties':_0x4ea6a0}};},N={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x43466e(0x6d9)}},...E(a0_0x43466e(0x297))},Rc={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'oldToken':{'type':a0_0x43466e(0x6d9)}},'required':['oldToken'],...E(a0_0x43466e(0x345))},Ac={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x43466e(0x6d9)},'remoteJid':{'type':a0_0x43466e(0x6d9)},'fromMe':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]}},'required':['id',a0_0x43466e(0x309),a0_0x43466e(0x3a4)],...E('id',a0_0x43466e(0x309))},'message':{'type':'object'}}},oe={'properties':{'delay':{'type':a0_0x43466e(0x670),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x43466e(0x6d9),'enum':['unavailable',a0_0x43466e(0x76f),a0_0x43466e(0x824),a0_0x43466e(0x3dd),a0_0x43466e(0x2f7)]}}},ee={'type':a0_0x43466e(0x6d9),'description':'Invalid\x20format'},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':a0_0x43466e(0x6eb),'properties':{'text':{'type':a0_0x43466e(0x6d9)}},'required':[a0_0x43466e(0x3c5)],...E(a0_0x43466e(0x3c5))}},'required':[a0_0x43466e(0x52e),a0_0x43466e(0x4fc)]},Da={'type':a0_0x43466e(0x6d9),'pattern':a0_0x43466e(0x54f),'description':a0_0x43466e(0x453)},Ic={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':a0_0x43466e(0x6eb),'properties':{'text':{'type':a0_0x43466e(0x6d9)}},'required':[a0_0x43466e(0x3c5)],...E(a0_0x43466e(0x3c5))}},'required':[a0_0x43466e(0x52e),a0_0x43466e(0x4fc)]},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':a0_0x43466e(0x6eb),'properties':{'mediatype':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x3c1),a0_0x43466e(0x47e),a0_0x43466e(0x1ba),a0_0x43466e(0x1e4)]},'media':{'type':a0_0x43466e(0x6d9)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':['mediatype',a0_0x43466e(0x6de)],...E(a0_0x43466e(0x485),'caption',a0_0x43466e(0x6de))}},'required':['mediaMessage',a0_0x43466e(0x4fc)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x43466e(0x6eb),'properties':{'image':{'type':'string'}},'required':['image'],...E(a0_0x43466e(0x3c1))}},'required':[a0_0x43466e(0x797),a0_0x43466e(0x4fc)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x43466e(0x6eb),'properties':{'type':{'type':'string','enum':[a0_0x43466e(0x3c5),a0_0x43466e(0x3c1),a0_0x43466e(0x1e4),'video']},'content':{'type':a0_0x43466e(0x6d9)},'caption':{'type':a0_0x43466e(0x6d9)},'backgroundColor':{'type':a0_0x43466e(0x6d9)},'font':{'type':a0_0x43466e(0x670),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x43466e(0x32b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x43466e(0x68d),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]}},'required':[a0_0x43466e(0x375),a0_0x43466e(0x55b)],...E(a0_0x43466e(0x375),a0_0x43466e(0x55b))}},'required':[a0_0x43466e(0x37d)]},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x3c1),a0_0x43466e(0x47e),a0_0x43466e(0x1ba),a0_0x43466e(0x1e4)]},'media':{'type':a0_0x43466e(0x6d9)},'fileName':{'type':a0_0x43466e(0x6d9)},'caption':{'type':'string'}},'required':[a0_0x43466e(0x700),a0_0x43466e(0x6de)],...E(a0_0x43466e(0x485),a0_0x43466e(0x51d),a0_0x43466e(0x6de))}},'required':[a0_0x43466e(0x35c),a0_0x43466e(0x4fc)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x43466e(0x6eb),'properties':{'audio':{'type':a0_0x43466e(0x6d9)}},'required':['audio'],...E(a0_0x43466e(0x1e4))}},'required':[a0_0x43466e(0x474),a0_0x43466e(0x4fc)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...ee},'pollMessage':{'type':a0_0x43466e(0x6eb),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x43466e(0x4fc)},'values':{'type':a0_0x43466e(0x32b),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x43466e(0x5c3),a0_0x43466e(0x476),a0_0x43466e(0x70a)],...E(a0_0x43466e(0x5c3),a0_0x43466e(0x476),a0_0x43466e(0x70a))}},'required':[a0_0x43466e(0x4fc),a0_0x43466e(0x248)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x43466e(0x6eb),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x43466e(0x32b),'uniqueItems':!0x0}},'required':[a0_0x43466e(0x3c5),a0_0x43466e(0x1c6)],...E(a0_0x43466e(0x3c5),a0_0x43466e(0x1c6))}},'required':[a0_0x43466e(0x4fc),'menuMessage']},qa={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x43466e(0x6eb),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x43466e(0x4fc)},'name':{'type':a0_0x43466e(0x6d9)},'address':{'type':a0_0x43466e(0x6d9)}},'required':[a0_0x43466e(0x497),a0_0x43466e(0x545)],...E('name',a0_0x43466e(0x6f3))}},'required':[a0_0x43466e(0x4fc),'locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x43466e(0x6eb),'properties':{'title':{'type':a0_0x43466e(0x6d9)},'description':{'type':a0_0x43466e(0x6d9)},'footerText':{'type':a0_0x43466e(0x6d9)},'buttonText':{'type':'string'},'sections':{'type':a0_0x43466e(0x32b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x43466e(0x6eb),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x43466e(0x32b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x43466e(0x6d9)},'description':{'type':a0_0x43466e(0x6d9)},'rowId':{'type':a0_0x43466e(0x6d9)}},'required':[a0_0x43466e(0x20a),a0_0x43466e(0x64d)],...E('title',a0_0x43466e(0x64d))}}},'required':[a0_0x43466e(0x20a),a0_0x43466e(0x185)],...E(a0_0x43466e(0x20a))}}},'required':[a0_0x43466e(0x20a),a0_0x43466e(0x8a4),'buttonText',a0_0x43466e(0x869)],...E('title','description',a0_0x43466e(0x7c6),'footerText')}},'required':[a0_0x43466e(0x4fc),'listMessage']},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':a0_0x43466e(0x32b),'items':{'type':a0_0x43466e(0x6eb),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x43466e(0x62b),a0_0x43466e(0x74d)],...E(a0_0x43466e(0x62b))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x43466e(0x56c)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'reactionMessage':{'type':a0_0x43466e(0x6eb),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x43466e(0x6d9)},'remoteJid':{'type':a0_0x43466e(0x6d9)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x43466e(0x309),a0_0x43466e(0x3a4)],...E('id',a0_0x43466e(0x309))},'reaction':{'type':a0_0x43466e(0x6d9)}},'required':['key',a0_0x43466e(0x396)],...E('reaction')}},'required':['reactionMessage']},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x43466e(0x6d9),'pattern':a0_0x43466e(0x68d),'description':a0_0x43466e(0x16c)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'readMessages':{'type':a0_0x43466e(0x32b),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x43466e(0x6d9)},'fromMe':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x43466e(0x3a4),'remoteJid'],...E('id',a0_0x43466e(0x309))}}},'required':[a0_0x43466e(0x3c3)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x859),a0_0x43466e(0x19e)]},'profile':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x859),a0_0x43466e(0x13a),a0_0x43466e(0x30a),a0_0x43466e(0x19e)]},'status':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x859),a0_0x43466e(0x13a),a0_0x43466e(0x30a),a0_0x43466e(0x19e)]},'online':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x859),'match_last_seen']},'last':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x859),a0_0x43466e(0x13a),a0_0x43466e(0x30a),'none']},'groupadd':{'type':a0_0x43466e(0x6d9),'enum':['all',a0_0x43466e(0x13a),a0_0x43466e(0x30a),'none']}},'required':[a0_0x43466e(0x225),a0_0x43466e(0x769),a0_0x43466e(0x405),a0_0x43466e(0x7d1),a0_0x43466e(0x57d),a0_0x43466e(0x7fa)],...E(a0_0x43466e(0x225),a0_0x43466e(0x769),'status',a0_0x43466e(0x7d1),a0_0x43466e(0x57d),'groupadd')}},'required':[a0_0x43466e(0x1a3)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x43466e(0x6eb),'properties':{'id':{'type':a0_0x43466e(0x6d9)},'remoteJid':{'type':a0_0x43466e(0x6d9)},'fromMe':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x43466e(0x309)],...E('id',a0_0x43466e(0x309))},'messageTimestamp':{'type':a0_0x43466e(0x670),'minLength':0x1}},'required':[a0_0x43466e(0x23b)],...E('messageTimestamp')},'archive':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x43466e(0x181)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x43466e(0x6d9)}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x43466e(0x309),a0_0x43466e(0x612))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'where':{'type':a0_0x43466e(0x6eb),'properties':{'_id':{'type':a0_0x43466e(0x6d9),'minLength':0x1},'pushName':{'type':a0_0x43466e(0x6d9),'minLength':0x1},'id':{'type':a0_0x43466e(0x6d9),'minLength':0x1}},...E(a0_0x43466e(0x1e0),'id',a0_0x43466e(0x66d))}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...E(a0_0x43466e(0x5c3))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'status':{'type':'string'}},...E(a0_0x43466e(0x405))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},ei={'type':a0_0x43466e(0x6eb),'properties':{'wuid':{'type':a0_0x43466e(0x6d9)},'name':{'type':a0_0x43466e(0x6d9)},'picture':{'type':a0_0x43466e(0x6d9)},'status':{'type':'string'},'isBusiness':{'type':a0_0x43466e(0x673)}}},ti={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x43466e(0x6d9),'minLength':0x1},'key':{'type':a0_0x43466e(0x6eb),'if':{'propertyNames':{'enum':[a0_0x43466e(0x3a4),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x43466e(0x6d9),'minLength':0x1,'description':a0_0x43466e(0x43d)},'id':{'type':a0_0x43466e(0x6d9),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x43466e(0x6eb)}},...E('_id')},'limit':{'type':a0_0x43466e(0x670)}}},_c={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':a0_0x43466e(0x6d9)},'fromMe':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x43466e(0x6d9)},'status':{'type':'string','enum':[a0_0x43466e(0x507),a0_0x43466e(0x876),'SERVER_ACK',a0_0x43466e(0x4a7),a0_0x43466e(0x607),'PLAYED']}},...E(a0_0x43466e(0x1e0),a0_0x43466e(0x309),'id','status')},'limit':{'type':a0_0x43466e(0x670)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'number':{...ee},'presence':{'type':'string','enum':['unavailable',a0_0x43466e(0x76f),a0_0x43466e(0x824),'recording',a0_0x43466e(0x2f7)]}},'required':[a0_0x43466e(0x6f8),a0_0x43466e(0x4fc)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'subject':{'type':a0_0x43466e(0x6d9)},'description':{'type':a0_0x43466e(0x6d9)},'profilePicture':{'type':a0_0x43466e(0x6d9)},'participants':{'type':a0_0x43466e(0x32b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x43466e(0x6d9),'minLength':0xa,'pattern':a0_0x43466e(0x508),'description':a0_0x43466e(0x538)}}},'required':['subject',a0_0x43466e(0x5d3)],...E(a0_0x43466e(0x2a7),'description',a0_0x43466e(0x3e6))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x43466e(0x826)],...E(a0_0x43466e(0x826))},ii={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x43466e(0x6d9)},'action':{'type':a0_0x43466e(0x6d9),'enum':[a0_0x43466e(0x574),a0_0x43466e(0x6d7),a0_0x43466e(0x5fc),a0_0x43466e(0x6c3),a0_0x43466e(0x1c8),a0_0x43466e(0x563)]},'participants':{'type':a0_0x43466e(0x32b),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x43466e(0x6d9),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x43466e(0x538)}}},'required':['groupJid','action',a0_0x43466e(0x5d3)],...E(a0_0x43466e(0x826),a0_0x43466e(0x1fc))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'groupJid':{'type':a0_0x43466e(0x6d9)},'expiration':{'type':a0_0x43466e(0x4fc),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x43466e(0x826),a0_0x43466e(0x586)],...E('groupJid',a0_0x43466e(0x586))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x43466e(0x6d9)}},'required':[a0_0x43466e(0x826),a0_0x43466e(0x3c1)],...E(a0_0x43466e(0x826),a0_0x43466e(0x3c1))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'groupJid':{'type':a0_0x43466e(0x6d9)},'description':{'type':'string'}},'required':[a0_0x43466e(0x826),a0_0x43466e(0x8a4)],...E(a0_0x43466e(0x826),'description')},ci={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'groupJid':{'type':a0_0x43466e(0x6d9)},'name':{'type':a0_0x43466e(0x6d9)}},'required':['groupJid',a0_0x43466e(0x5c3)],...E(a0_0x43466e(0x826),a0_0x43466e(0x5c3))},li={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x43466e(0x6d9),'enum':['announcement',a0_0x43466e(0x1b6),a0_0x43466e(0x39c),a0_0x43466e(0x3a2)]}},'required':[a0_0x43466e(0x826),'setting'],...E(a0_0x43466e(0x826),'setting')},ui={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x43466e(0x6d9)},'restrict':{'type':a0_0x43466e(0x673)},'announce':{'type':a0_0x43466e(0x673)},'memberAddMode':{'type':a0_0x43466e(0x673)},'joinApprovalMode':{'type':a0_0x43466e(0x673)},'expiration':{'type':a0_0x43466e(0x670),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x43466e(0x6d9)},'description':{'type':'string'},'image':{'type':'string'}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'inviteCode':{'type':a0_0x43466e(0x6d9)}},'required':[a0_0x43466e(0x84f)],...E(a0_0x43466e(0x84f))},di={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]}},'required':[a0_0x43466e(0x5ea),'enabled']},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x43466e(0x6eb),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x43466e(0x673),'enum':[!0x0,!0x1]}},'required':[a0_0x43466e(0x658),a0_0x43466e(0x40b),'QRCODE_UPDATED','MESSAGES_SET',a0_0x43466e(0x3ac),a0_0x43466e(0x652),a0_0x43466e(0x236),a0_0x43466e(0x502),a0_0x43466e(0x65d),a0_0x43466e(0x2ae),a0_0x43466e(0x371),a0_0x43466e(0x504),a0_0x43466e(0x24c),a0_0x43466e(0x233),a0_0x43466e(0x28b),a0_0x43466e(0x460),'GROUPS_UPSERT',a0_0x43466e(0x312),a0_0x43466e(0x529)],...E(a0_0x43466e(0x658),a0_0x43466e(0x40b),a0_0x43466e(0x364),a0_0x43466e(0x7f0),'MESSAGES_UPDATE',a0_0x43466e(0x652),a0_0x43466e(0x236),'CONTACTS_SET',a0_0x43466e(0x65d),a0_0x43466e(0x2ae),a0_0x43466e(0x371),a0_0x43466e(0x504),a0_0x43466e(0x24c),'CHATS_UPDATE',a0_0x43466e(0x28b),a0_0x43466e(0x460),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x43466e(0x529))},ot=class{},rt=class extends _{['getContactModelForOwner'](_0x318ed1){return aa(_0x318ed1);}async[a0_0x43466e(0x2de)](_0x5afa90){const _0x1bd22b=a0_0x43466e;if(_0x5afa90[_0x1bd22b(0x695)]!==0x0)try{return{'insertCount':(await this[_0x1bd22b(0x82d)](_0x5afa90[0x0][_0x1bd22b(0x27c)])['insertMany']([..._0x5afa90]))[_0x1bd22b(0x695)]};}catch(_0x4de230){return _0x4de230;}}async['delete'](_0x4479ef,_0x5f1181){const _0x36813c=a0_0x43466e;try{return{'deletedCount':(await this[_0x36813c(0x82d)](_0x5f1181)[_0x36813c(0x277)]({..._0x4479ef['where']}))[_0x36813c(0x469)]};}catch(_0x8f1e6f){return{'error':_0x8f1e6f?.[_0x36813c(0x880)]()};}}async['update'](_0x5da00b,_0x3cf6df){const _0x6b6cbd=a0_0x43466e;try{if(_0x5da00b[_0x6b6cbd(0x695)]===0x0)return;let _0x2f3f63=this['getContactModelForOwner'](_0x3cf6df),_0x3e1579=_0x5da00b[_0x6b6cbd(0x614)](_0x352aee=>({'updateOne':{'filter':{'_id':_0x352aee[_0x6b6cbd(0x1e0)],'owner':_0x3cf6df},'update':{..._0x352aee}}})),{modifiedCount:_0x53a6c3}=await _0x2f3f63[_0x6b6cbd(0x171)](_0x3e1579);return{'insertCount':_0x53a6c3};}catch{return;}}async[a0_0x43466e(0x6cf)](_0x463456,_0x172d51){const _0x35136e=a0_0x43466e;try{let _0x5ecb5f=this[_0x35136e(0x82d)](_0x172d51),_0x14cb8b=A(_0x463456[_0x35136e(0x392)]);return await _0x5ecb5f[_0x35136e(0x6cf)](_0x14cb8b)['limit'](_0x463456?.[_0x35136e(0x18b)]??0x0)[_0x35136e(0x6e2)]();}catch{return[];}}async[a0_0x43466e(0x41a)](_0x141cc5,_0x570994){const _0x1d97b8=a0_0x43466e;try{let _0x565144=this[_0x1d97b8(0x82d)](_0x570994),_0x34bbde=A(_0x141cc5['where']);return await _0x565144[_0x1d97b8(0x41a)](_0x34bbde)[_0x1d97b8(0x6e2)]();}catch{return null;}}async[a0_0x43466e(0x17c)](_0x1aaa4b){const _0x2a0c6d=a0_0x43466e;try{return await this[_0x2a0c6d(0x82d)](_0x1aaa4b)[_0x2a0c6d(0x79f)][_0x2a0c6d(0x1cb)](),{'success':!0x0};}catch(_0x5bddf3){return console[_0x2a0c6d(0x434)](_0x5bddf3),{'success':!0x1,'error':_0x5bddf3};}}},nt=require(a0_0x43466e(0x872)),Jc=require(a0_0x43466e(0x4a1)),$s=new $('Validate'),V=class{[a0_0x43466e(0x3d8)](_0x5963a4,_0x2945d7=!0x0){const _0x2a035d=a0_0x43466e;let _0x2bccbf='/'+_0x5963a4;return _0x2945d7&&(_0x2bccbf+=_0x2a035d(0x3aa)),_0x2bccbf;}async[a0_0x43466e(0x407)](_0x53c5b9){const _0x368c38=a0_0x43466e;let {request:_0x3f1e74,schema:_0xa55284,ClassRef:_0x248ce8,execute:_0xe86dd6}=_0x53c5b9,_0x26c80d=new _0x248ce8(),_0x139995=_0x3f1e74[_0x368c38(0x71e)],_0x556164=_0x3f1e74[_0x368c38(0x578)];_0x3f1e74?.[_0x368c38(0x2b1)]&&Object[_0x368c38(0x73e)](_0x3f1e74[_0x368c38(0x2b1)])[_0x368c38(0x695)]>0x0&&Object[_0x368c38(0x1e5)](_0x556164,_0x3f1e74[_0x368c38(0x2b1)]),_0x3f1e74[_0x368c38(0x745)][_0x368c38(0x592)]('/instance/create')&&Object[_0x368c38(0x1e5)](_0x556164,_0x139995),Object['assign'](_0x26c80d,_0x139995);let _0x1871d3=_0xa55284?(0x0,nt['validate'])(_0x26c80d,_0xa55284):{'valid':!0x0,'errors':[]};if(!_0x1871d3[_0x368c38(0x1fe)]){let _0x3c1034=_0x1871d3[_0x368c38(0x209)][_0x368c38(0x614)](({property:_0x5e068a,stack:_0x4fdbbc,schema:_0x4486c1})=>{const _0x5258a0=_0x368c38;let _0x2c4385;return _0x4486c1[_0x5258a0(0x8a4)]?_0x2c4385=_0x4486c1['description']:_0x2c4385=_0x4fdbbc['replace']('instance.',''),{'property':_0x5e068a['replace']('instance.',''),'message':_0x2c4385};});throw $s[_0x368c38(0x434)]([..._0x3c1034]),new m(..._0x3c1034);}return await _0xe86dd6(_0x556164,_0x26c80d);}async[a0_0x43466e(0x875)](_0x31b190){const _0x4425a6=a0_0x43466e;let {request:_0x1238a7,ClassRef:_0x1b6496,schema:_0x3f7050,execute:_0xd21c9b}=_0x31b190,_0x475599=_0x1238a7[_0x4425a6(0x2b1)];if(!_0x475599?.[_0x4425a6(0x826)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x4425a6(0x60e));let _0x29b4a9=_0x1238a7[_0x4425a6(0x578)],_0x1f40f0=_0x1238a7[_0x4425a6(0x71e)],_0x54a775=new _0x1b6496();Object[_0x4425a6(0x1e5)](_0x1f40f0,_0x475599),Object[_0x4425a6(0x1e5)](_0x54a775,_0x1f40f0);let _0x3846bf=(0x0,nt[_0x4425a6(0x4d2)])(_0x54a775,_0x3f7050);if(!_0x3846bf[_0x4425a6(0x1fe)]){let _0x46071b=_0x3846bf[_0x4425a6(0x209)][_0x4425a6(0x614)](({property:_0x975625,stack:_0xf56737,schema:_0x2c8631})=>{const _0xd53b82=_0x4425a6;let _0x2a4a7a;return _0x2c8631['description']?_0x2a4a7a=_0x2c8631[_0xd53b82(0x8a4)]:_0x2a4a7a=_0xf56737[_0xd53b82(0x6a1)](_0xd53b82(0x202),''),{'property':_0x975625[_0xd53b82(0x6a1)](_0xd53b82(0x202),''),'message':_0x2a4a7a};});throw $s['error']([..._0x46071b]),new m(..._0x46071b);}return await _0xd21c9b(_0x29b4a9,_0x54a775);}async[a0_0x43466e(0x28c)](_0x58a997){const _0x2a339b=a0_0x43466e;let {request:_0x32596a,ClassRef:_0x416701,schema:_0x381958,execute:_0x40d1c2}=_0x58a997,_0x4ccb0c=_0x32596a[_0x2a339b(0x71e)];if(!_0x4ccb0c?.[_0x2a339b(0x84f)])throw new m(_0x2a339b(0x622),_0x2a339b(0x597));let _0x10dff8=_0x32596a['params'],_0x5a8390=_0x32596a[_0x2a339b(0x71e)],_0x2de5ed=new _0x416701();Object[_0x2a339b(0x1e5)](_0x5a8390,_0x4ccb0c),Object[_0x2a339b(0x1e5)](_0x2de5ed,_0x5a8390);let _0x4b482a=(0x0,nt['validate'])(_0x2de5ed,_0x381958);if(!_0x4b482a['valid']){let _0x2097b9=_0x4b482a['errors'][_0x2a339b(0x614)](({property:_0x2a019f,stack:_0x14b330,schema:_0x37e06a})=>{const _0x5604d7=_0x2a339b;let _0x486594;return _0x37e06a['description']?_0x486594=_0x37e06a[_0x5604d7(0x8a4)]:_0x486594=_0x14b330[_0x5604d7(0x6a1)](_0x5604d7(0x202),''),{'property':_0x2a019f[_0x5604d7(0x6a1)](_0x5604d7(0x202),''),'message':_0x486594};});throw $s[_0x2a339b(0x434)]([..._0x2097b9]),new m(..._0x2097b9);}return await _0x40d1c2(_0x10dff8,_0x2de5ed);}},M=class{},sl=new $(a0_0x43466e(0x6d0)),ct=class extends V{constructor(..._0x4e9a3b){const _0x453451=a0_0x43466e;super(),this[_0x453451(0x610)]=(0x0,pi[_0x453451(0x714)])(),this[_0x453451(0x610)][_0x453451(0x34b)](this[_0x453451(0x3d8)](_0x453451(0x88b)),..._0x4e9a3b,async(_0xd0934d,_0x4d5545)=>{const _0x5286f0=_0x453451;let _0x326be5=await this[_0x5286f0(0x407)]({'request':_0xd0934d,'schema':si,'ClassRef':Qe,'execute':(_0x2c880f,_0x56e091)=>D[_0x5286f0(0x88b)](_0x2c880f,_0x56e091)});return _0x4d5545['status'](0xc9)[_0x5286f0(0x15e)](_0x326be5);})['post'](this[_0x453451(0x3d8)](_0x453451(0x2af)),..._0x4e9a3b,async(_0x59d3b9,_0x4961d7)=>{const _0x319468=_0x453451;let _0x44073a=await this[_0x319468(0x407)]({'request':_0x59d3b9,'schema':Wa,'ClassRef':Ye,'execute':(_0x54e200,_0xd456cf)=>D[_0x319468(0x42f)](_0x54e200,_0xd456cf)});return _0x4961d7[_0x319468(0x405)](0xc9)[_0x319468(0x15e)](_0x44073a);})[_0x453451(0x34b)](this[_0x453451(0x3d8)]('editChat'),..._0x4e9a3b,async(_0x1d1299,_0x56d430)=>{const _0x3a0adf=_0x453451;let _0x1847d7=await this[_0x3a0adf(0x407)]({'request':_0x1d1299,'schema':N,'ClassRef':M,'execute':(_0x390b02,_0x5ae414)=>D[_0x3a0adf(0x4ca)](_0x390b02,_0x5ae414)});return _0x56d430[_0x3a0adf(0x405)](0xc9)[_0x3a0adf(0x15e)](_0x1847d7);})['put'](this['routerPath']('markMessageAsRead'),..._0x4e9a3b,async(_0x491504,_0x4ffc63)=>{const _0x1fca3f=_0x453451;let _0x1f4b48=await this['dataValidate']({'request':_0x491504,'schema':za,'ClassRef':et,'execute':(_0x2c37f6,_0x5e1f46)=>D[_0x1fca3f(0x4c8)](_0x2c37f6,_0x5e1f46)});return _0x4ffc63['status'](0xc9)[_0x1fca3f(0x15e)](_0x1f4b48);})[_0x453451(0x73b)](this['routerPath'](_0x453451(0x36a)),..._0x4e9a3b,async(_0x1f389c,_0x2ea9cb)=>{const _0x366817=_0x453451;let _0x2ca619=await this[_0x366817(0x407)]({'request':_0x1f389c,'schema':Ka,'ClassRef':tt,'execute':(_0x59ee9a,_0x5bf87e)=>D[_0x366817(0x36a)](_0x59ee9a,_0x5bf87e)});return _0x2ea9cb[_0x366817(0x405)](0xc9)[_0x366817(0x15e)](_0x2ca619);})[_0x453451(0x274)](this['routerPath'](_0x453451(0x812)),..._0x4e9a3b,async(_0x5305b3,_0x5ed015)=>{const _0x3ece73=_0x453451;let _0x26e1ac=await this[_0x3ece73(0x407)]({'request':_0x5305b3,'schema':Qa,'ClassRef':at,'execute':(_0x48a733,_0x3cd2f3)=>D['deleteMessage'](_0x48a733,_0x3cd2f3)});return _0x5ed015[_0x3ece73(0x405)](0xc9)[_0x3ece73(0x15e)](_0x26e1ac);})['post'](this[_0x453451(0x3d8)](_0x453451(0x20c)),..._0x4e9a3b,async(_0x496368,_0x445f0f)=>{const _0x33810b=_0x453451;let _0x4aff3f=await this[_0x33810b(0x407)]({'request':_0x496368,'schema':Oe,'ClassRef':Te,'execute':(_0x4f7182,_0x5ddd2b)=>D[_0x33810b(0x89c)](_0x4f7182,_0x5ddd2b)});return _0x445f0f[_0x33810b(0x405)](0xc8)[_0x33810b(0x15e)](_0x4aff3f);})['post'](this[_0x453451(0x3d8)](_0x453451(0x7b4)),..._0x4e9a3b,async(_0x4049fc,_0x3a8652)=>{const _0x3c2760=_0x453451;let _0x6249e3=await this[_0x3c2760(0x407)]({'request':_0x4049fc,'schema':ei,'ClassRef':Te,'execute':(_0xe4e7a6,_0x2855c3)=>D['fetchProfile'](_0xe4e7a6,_0x2855c3)});return _0x3a8652[_0x3c2760(0x405)](0xc8)[_0x3c2760(0x15e)](_0x6249e3);})[_0x453451(0x34b)](this['routerPath'](_0x453451(0x2a9)),..._0x4e9a3b,async(_0x1b221f,_0x42bb9a)=>{const _0x48062c=_0x453451;let _0x373915=await this[_0x48062c(0x407)]({'request':_0x1b221f,'schema':Ya,'ClassRef':ot,'execute':(_0x3a69ea,_0x222f38)=>D[_0x48062c(0x37b)](_0x3a69ea,_0x222f38)});return _0x42bb9a[_0x48062c(0x405)](0xc8)[_0x48062c(0x15e)](_0x373915);})['post'](this[_0x453451(0x3d8)](_0x453451(0x50a)),..._0x4e9a3b,async(_0x296d1c,_0x2c7ffa)=>{const _0x169dbc=_0x453451;let _0x4d63b1=await this['dataValidate']({'request':_0x296d1c,'schema':null,'ClassRef':Object,'execute':(_0x43ab63,_0x2d6352)=>D[_0x169dbc(0x50a)](_0x43ab63,_0x2d6352)});return _0x2c7ffa[_0x169dbc(0x405)](0xc9)[_0x169dbc(0x15e)](_0x4d63b1);})[_0x453451(0x34b)](this[_0x453451(0x3d8)](_0x453451(0x4e9)),..._0x4e9a3b,async(_0x5aa56e,_0x98b4da)=>{const _0x361b15=_0x453451;let _0x2003f6=await this[_0x361b15(0x407)]({'request':_0x5aa56e,'schema':ti,'ClassRef':He,'execute':(_0x5f3290,_0x56bf46)=>D['fetchMessages'](_0x5f3290,_0x56bf46)});return _0x98b4da[_0x361b15(0x405)](0xc8)[_0x361b15(0x15e)](_0x2003f6);})[_0x453451(0x5e9)](this[_0x453451(0x3d8)](_0x453451(0x1f8)),..._0x4e9a3b,async(_0x998be6,_0x220826)=>{const _0xbd7b1e=_0x453451;let _0xc41479=await this[_0xbd7b1e(0x407)]({'request':_0x998be6,'schema':null,'ClassRef':M,'execute':_0x3d7656=>D[_0xbd7b1e(0x627)](_0x3d7656)});return _0x220826['status'](0xc8)[_0xbd7b1e(0x15e)](_0xc41479);})[_0x453451(0x5e9)](this[_0x453451(0x3d8)]('findLabels'),..._0x4e9a3b,async(_0x55d4e4,_0x3fe8c3)=>{const _0x432996=_0x453451;let _0x4f1853=await this[_0x432996(0x407)]({'request':_0x55d4e4,'schema':null,'ClassRef':M,'execute':_0x4014f4=>D[_0x432996(0x836)](_0x4014f4)});return _0x3fe8c3['status'](0xc8)[_0x432996(0x15e)](_0x4f1853);})[_0x453451(0x73b)](this['routerPath'](_0x453451(0x54a)),..._0x4e9a3b,async(_0x3d7bb7,_0x26f8a3)=>{const _0x9fc176=_0x453451;let _0x27bb4a=await this[_0x9fc176(0x407)]({'request':_0x3d7bb7,'schema':null,'ClassRef':Array,'execute':(_0x1b6e4d,_0x22f9b7)=>D[_0x9fc176(0x54a)](_0x1b6e4d,_0x22f9b7)});return _0x26f8a3[_0x9fc176(0x405)](0xc8)['json'](_0x27bb4a);})[_0x453451(0x5e9)](this[_0x453451(0x3d8)](_0x453451(0x2da)),..._0x4e9a3b,async(_0x5c60be,_0x54193d)=>{const _0x497647=_0x453451;let _0x1bd346=await this[_0x497647(0x407)]({'request':_0x5c60be,'schema':null,'ClassRef':M,'execute':_0x24e6e8=>D[_0x497647(0x2da)](_0x24e6e8)});return _0x54193d[_0x497647(0x405)](0xc8)[_0x497647(0x15e)](_0x1bd346);})[_0x453451(0x73b)](this[_0x453451(0x3d8)](_0x453451(0x45c)),..._0x4e9a3b,async(_0x31824b,_0x361fe1)=>{const _0x11a18a=_0x453451;let _0x6e0ce7=await this[_0x11a18a(0x407)]({'request':_0x31824b,'schema':Ha,'ClassRef':st,'execute':(_0x2fb587,_0xbea047)=>D[_0x11a18a(0x45c)](_0x2fb587,_0xbea047)});return _0x361fe1[_0x11a18a(0x405)](0xc9)[_0x11a18a(0x15e)](_0x6e0ce7);})['post'](this['routerPath'](_0x453451(0x281)),..._0x4e9a3b,async(_0x44a5e9,_0x1338da)=>{const _0x6d8be3=_0x453451;let _0x257a5b=await this['dataValidate']({'request':_0x44a5e9,'schema':Oe,'ClassRef':Ee,'execute':(_0x18498b,_0x563297)=>D[_0x6d8be3(0x281)](_0x18498b,_0x563297)});return _0x1338da[_0x6d8be3(0x405)](0xc8)[_0x6d8be3(0x15e)](_0x257a5b);})[_0x453451(0x34b)](this[_0x453451(0x3d8)](_0x453451(0x8a8)),..._0x4e9a3b,async(_0xfd1a41,_0xa3df55)=>{const _0x328bb7=_0x453451;let _0x4471da=await this['dataValidate']({'request':_0xfd1a41,'schema':Xa,'ClassRef':Xe,'execute':(_0x5b285a,_0x29b58f)=>D['updateProfileName'](_0x5b285a,_0x29b58f)});return _0xa3df55[_0x328bb7(0x405)](0xc8)['json'](_0x4471da);})['post'](this[_0x453451(0x3d8)]('updateProfileStatus'),..._0x4e9a3b,async(_0x13dc35,_0x2a7ea0)=>{const _0xcac0d7=_0x453451;let _0x2289c7=await this[_0xcac0d7(0x407)]({'request':_0x13dc35,'schema':Za,'ClassRef':Ze,'execute':(_0x51f3f6,_0x150ca4)=>D[_0xcac0d7(0x533)](_0x51f3f6,_0x150ca4)});return _0x2a7ea0[_0xcac0d7(0x405)](0xc8)[_0xcac0d7(0x15e)](_0x2289c7);})[_0x453451(0x73b)](this[_0x453451(0x3d8)](_0x453451(0x246)),..._0x4e9a3b,async(_0x2a9730,_0x3f2964)=>{const _0x301089=_0x453451;let _0x44f07f=await this[_0x301089(0x407)]({'request':_0x2a9730,'schema':Oe,'ClassRef':Ee,'execute':(_0xc9635,_0x2fb821)=>D[_0x301089(0x246)](_0xc9635,_0x2fb821)});return _0x3f2964[_0x301089(0x405)](0xc8)[_0x301089(0x15e)](_0x44f07f);})[_0x453451(0x274)](this['routerPath'](_0x453451(0x452)),..._0x4e9a3b,async(_0x3763ae,_0x1fcd80)=>{const _0x56016f=_0x453451;let _0x635428=await this[_0x56016f(0x407)]({'request':_0x3763ae,'schema':Oe,'ClassRef':Ee,'execute':(_0x3a8369,_0x281c0b)=>D['removeProfilePicture'](_0x3a8369,_0x281c0b)});return _0x1fcd80['status'](0xc8)[_0x56016f(0x15e)](_0x635428);});}},hi=require('express'),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x35c049){const _0x2c84f4=a0_0x43466e;super(),this[_0x2c84f4(0x610)]=(0x0,hi[_0x2c84f4(0x714)])(),this[_0x2c84f4(0x610)]['post'](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x80b)),..._0x35c049,async(_0x151910,_0x41af66)=>{const _0x3778f6=_0x2c84f4;let _0x2b66dd=await this[_0x3778f6(0x407)]({'request':_0x151910,'schema':ai,'ClassRef':lt,'execute':(_0x2dbfbf,_0x5d3ac2)=>q[_0x3778f6(0x811)](_0x2dbfbf,_0x5d3ac2)});_0x41af66[_0x3778f6(0x405)](0xc9)[_0x3778f6(0x15e)](_0x2b66dd);})[_0x2c84f4(0x73b)](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x191)),..._0x35c049,async(_0x3da197,_0x793620)=>{const _0x5bafa1=_0x2c84f4;let _0x50680e=await this[_0x5bafa1(0x875)]({'request':_0x3da197,'schema':ri,'ClassRef':ut,'execute':(_0x41b713,_0x5767b3)=>q[_0x5bafa1(0x191)](_0x41b713,_0x5767b3)});_0x793620[_0x5bafa1(0x405)](0xc9)[_0x5bafa1(0x15e)](_0x50680e);})['put'](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x354)),..._0x35c049,async(_0x35b8d0,_0x15fe95)=>{const _0x506ebd=_0x2c84f4;let _0x325e00=await this[_0x506ebd(0x875)]({'request':_0x35b8d0,'schema':ni,'ClassRef':dt,'execute':(_0x222115,_0x15b55e)=>q[_0x506ebd(0x354)](_0x222115,_0x15b55e)});_0x15fe95[_0x506ebd(0x405)](0xc9)[_0x506ebd(0x15e)](_0x325e00);})[_0x2c84f4(0x73b)](this[_0x2c84f4(0x3d8)]('groupName'),..._0x35c049,async(_0x20ddd5,_0x2d80fc)=>{const _0x2aec6b=_0x2c84f4;let _0x2b0baa=await this[_0x2aec6b(0x875)]({'request':_0x20ddd5,'schema':ci,'ClassRef':pt,'execute':(_0x36ee23,_0x509aff)=>q[_0x2aec6b(0x49d)](_0x36ee23,_0x509aff)});_0x2d80fc[_0x2aec6b(0x405)](0xc9)['json'](_0x2b0baa);})[_0x2c84f4(0x73b)](this[_0x2c84f4(0x3d8)]('groupBetterSetting'),..._0x35c049,async(_0x238d33,_0x1c58f1)=>{const _0x288cf9=_0x2c84f4;let _0x3ca7eb=await this[_0x288cf9(0x875)]({'request':_0x238d33,'schema':ui,'ClassRef':gt,'execute':(_0x157973,_0x352693)=>q[_0x288cf9(0x54b)](_0x157973,_0x352693)});_0x1c58f1[_0x288cf9(0x405)](0xc9)[_0x288cf9(0x15e)](_0x3ca7eb);})[_0x2c84f4(0x73b)](this['routerPath'](_0x2c84f4(0x420)),..._0x35c049,async(_0x239fcc,_0x30df21)=>{const _0x1cc50e=_0x2c84f4;let _0x4cc016=await this[_0x1cc50e(0x875)]({'request':_0x239fcc,'schema':li,'ClassRef':ht,'execute':(_0x39094e,_0x427e1c)=>q[_0x1cc50e(0x420)](_0x39094e,_0x427e1c)});_0x30df21['status'](0xc9)['json'](_0x4cc016);})['put'](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x58c)),..._0x35c049,async(_0xa11fa,_0x4bb5b4)=>{const _0x1bc956=_0x2c84f4;let _0x141c7d=await this[_0x1bc956(0x875)]({'request':_0xa11fa,'schema':oi,'ClassRef':ft,'execute':(_0x33e144,_0x52d9e2)=>q[_0x1bc956(0x58c)](_0x33e144,_0x52d9e2)});_0x4bb5b4[_0x1bc956(0x405)](0xc9)['json'](_0x141c7d);})[_0x2c84f4(0x5e9)](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x7f7)),..._0x35c049,async(_0x32d5e9,_0x4ac180)=>{const _0x26474e=_0x2c84f4;let _0x3b1f0c=await this['groupValidate']({'request':_0x32d5e9,'schema':xe,'ClassRef':te,'execute':(_0x839b33,_0x18c016)=>q[_0x26474e(0x189)](_0x839b33,_0x18c016)});_0x4ac180[_0x26474e(0x405)](0xc8)[_0x26474e(0x15e)](_0x3b1f0c);})['get'](this[_0x2c84f4(0x3d8)]('findGroups'),..._0x35c049,async(_0x380acd,_0x1e3090)=>{const _0x501ee5=_0x2c84f4;let _0x304cef=await this['dataValidate']({'request':_0x380acd,'schema':N,'ClassRef':M,'execute':_0x293794=>q['findGroups'](_0x293794)});_0x1e3090[_0x501ee5(0x405)](0xc8)['json'](_0x304cef);})[_0x2c84f4(0x5e9)](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x5d3)),..._0x35c049,async(_0x537832,_0x405d5a)=>{const _0x2b563c=_0x2c84f4;let _0x42c639=await this[_0x2b563c(0x875)]({'request':_0x537832,'schema':xe,'ClassRef':te,'execute':(_0x3f6cd6,_0x2c7e58)=>q[_0x2b563c(0x4fa)](_0x3f6cd6,_0x2c7e58)});_0x405d5a[_0x2b563c(0x405)](0xc8)[_0x2b563c(0x15e)](_0x42c639);})['get'](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x84f)),..._0x35c049,async(_0x422560,_0x4671d7)=>{const _0x3fe2d1=_0x2c84f4;let _0x4e56de=await this[_0x3fe2d1(0x875)]({'request':_0x422560,'schema':xe,'ClassRef':te,'execute':(_0x23cf41,_0x12399)=>q[_0x3fe2d1(0x84f)](_0x23cf41,_0x12399)});_0x4671d7[_0x3fe2d1(0x405)](0xc8)[_0x3fe2d1(0x15e)](_0x4e56de);})[_0x2c84f4(0x34b)](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x273)),..._0x35c049,async(_0x273663,_0x24ebb9)=>{const _0x7a306a=_0x2c84f4;let _0x26cc8b=await this[_0x7a306a(0x28c)]({'request':_0x273663,'schema':Ns,'ClassRef':Pe,'execute':(_0x108fad,_0xf32b57)=>q[_0x7a306a(0x85d)](_0x108fad,_0xf32b57)});_0x24ebb9[_0x7a306a(0x405)](0xc9)[_0x7a306a(0x15e)](_0x26cc8b);})['put'](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x1bf)),..._0x35c049,async(_0x4b6c96,_0x5d122c)=>{const _0x26c890=_0x2c84f4;let _0x10cbc0=await this[_0x26c890(0x28c)]({'request':_0x4b6c96,'schema':Ns,'ClassRef':Pe,'execute':(_0x384594,_0x4f5da8)=>q[_0x26c890(0x1bf)](_0x384594,_0x4f5da8)});_0x5d122c[_0x26c890(0x405)](0xc9)[_0x26c890(0x15e)](_0x10cbc0);})[_0x2c84f4(0x73b)](this['routerPath'](_0x2c84f4(0x475)),..._0x35c049,async(_0x3e54ac,_0x29c648)=>{const _0x47ec62=_0x2c84f4;let _0x3a662b=await this[_0x47ec62(0x875)]({'request':_0x3e54ac,'schema':xe,'ClassRef':te,'execute':(_0x24d9b4,_0x2e73e9)=>q[_0x47ec62(0x475)](_0x24d9b4,_0x2e73e9)});_0x29c648[_0x47ec62(0x405)](0xc9)['json'](_0x3a662b);})[_0x2c84f4(0x73b)](this['routerPath'](_0x2c84f4(0x138)),..._0x35c049,async(_0x26444a,_0x5e3ae6)=>{const _0x483600=_0x2c84f4;let _0xbcd2ee=await this[_0x483600(0x875)]({'request':_0x26444a,'schema':ii,'ClassRef':mt,'execute':(_0x45bde5,_0x11bfaa)=>q[_0x483600(0x5da)](_0x45bde5,_0x11bfaa)});_0x5e3ae6[_0x483600(0x405)](0xc9)[_0x483600(0x15e)](_0xbcd2ee);})[_0x2c84f4(0x274)](this[_0x2c84f4(0x3d8)](_0x2c84f4(0x3b6)),..._0x35c049,async(_0x4e6b97,_0x311346)=>{const _0x52e261=_0x2c84f4;let _0x573f40=await this[_0x52e261(0x875)]({'request':_0x4e6b97,'schema':{},'ClassRef':te,'execute':(_0x5d8151,_0x31ca87)=>q[_0x52e261(0x3b6)](_0x5d8151,_0x31ca87)});_0x311346[_0x52e261(0x405)](0xc8)[_0x52e261(0x15e)](_0x573f40);});}},gi=require('express'),yt=class extends V{constructor(_0x261b04,..._0x2dbf2e){const _0x56632f=a0_0x43466e;super(),this['configService']=_0x261b04,this[_0x56632f(0x610)]=(0x0,gi['Router'])();let _0x30a7ed=_0x261b04[_0x56632f(0x5e9)]('AUTHENTICATION');this[_0x56632f(0x610)][_0x56632f(0x34b)](_0x56632f(0x15d),..._0x2dbf2e,async(_0xfa7297,_0x1c1195)=>{const _0x156ed2=_0x56632f;let {instanceName:_0x2fca27,apikey:_0x5067bc,number:_0x285638}=_0xfa7297[_0x156ed2(0x71e)],_0x33f16c=await de[_0x156ed2(0x33a)]({'instanceName':_0x2fca27,'apikey':_0x5067bc,'number':_0x285638});return _0x1c1195[_0x156ed2(0x405)](0xc9)[_0x156ed2(0x15e)](_0x33f16c);})['put'](this[_0x56632f(0x3d8)](_0x56632f(0x543)),..._0x2dbf2e,async(_0x231f28,_0x5ad664)=>{const _0x4f9c3f=_0x56632f;let _0x23291a=await this[_0x4f9c3f(0x407)]({'request':_0x231f28,'schema':N,'ClassRef':M,'execute':_0x4d4f23=>de['restartInstance'](_0x4d4f23)});return _0x5ad664[_0x4f9c3f(0x405)](0xc8)[_0x4f9c3f(0x15e)](_0x23291a);})[_0x56632f(0x5e9)](this[_0x56632f(0x3d8)]('connect'),..._0x2dbf2e,async(_0x4b1d18,_0x3f1fba)=>{const _0x725db=_0x56632f;let _0x126514=await this['dataValidate']({'request':_0x4b1d18,'schema':N,'ClassRef':M,'execute':_0x40d2f7=>de['connectToWhatsappController'](_0x40d2f7)});return _0x3f1fba[_0x725db(0x405)](0xc8)[_0x725db(0x15e)](_0x126514);})[_0x56632f(0x5e9)](this[_0x56632f(0x3d8)](_0x56632f(0x6c0)),..._0x2dbf2e,async(_0x379612,_0x195a64)=>{const _0x5bac3d=_0x56632f;let _0x34b562=await this[_0x5bac3d(0x407)]({'request':_0x379612,'schema':N,'ClassRef':M,'execute':_0x5e2707=>de['connectionState'](_0x5e2707)});return _0x195a64['status'](0xc8)['json'](_0x34b562);})[_0x56632f(0x5e9)](this['routerPath'](_0x56632f(0x294),!0x1),..._0x2dbf2e,async(_0x1aed91,_0x4aa68d)=>{const _0x185be0=_0x56632f;let _0x5126c0=await this[_0x185be0(0x407)]({'request':_0x1aed91,'schema':null,'ClassRef':M,'execute':_0x4887d0=>de[_0x185be0(0x294)](_0x4887d0)});return _0x4aa68d[_0x185be0(0x405)](0xc8)[_0x185be0(0x15e)](_0x5126c0);})[_0x56632f(0x274)](this[_0x56632f(0x3d8)](_0x56632f(0x6e7)),..._0x2dbf2e,async(_0x24326b,_0x195ecc)=>{const _0xe9a296=_0x56632f;let _0x270179=await this[_0xe9a296(0x407)]({'request':_0x24326b,'schema':N,'ClassRef':M,'execute':_0x10cad0=>de[_0xe9a296(0x6e7)](_0x10cad0)});return _0x195ecc[_0xe9a296(0x405)](0xc8)[_0xe9a296(0x15e)](_0x270179);})[_0x56632f(0x274)](this[_0x56632f(0x3d8)]('delete'),..._0x2dbf2e,async(_0x1a03cc,_0x405b2d)=>{const _0x3a96ea=_0x56632f;let _0x14d6fb=await this['dataValidate']({'request':_0x1a03cc,'schema':N,'ClassRef':M,'execute':_0x5490f0=>de[_0x3a96ea(0x32a)](_0x5490f0)});return _0x405b2d[_0x3a96ea(0x405)](0xc8)[_0x3a96ea(0x15e)](_0x14d6fb);});}},mi=require('express'),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x5600cd){const _0x4b01e4=a0_0x43466e;super(),this[_0x4b01e4(0x610)]=(0x0,mi[_0x4b01e4(0x714)])(),this['router']['post'](this[_0x4b01e4(0x3d8)]('sendText'),..._0x5600cd,async(_0x2fe4e7,_0xe1d522)=>{const _0x299b01=_0x4b01e4;let _0x289768=await this['dataValidate']({'request':_0x2fe4e7,'schema':Pa,'ClassRef':bt,'execute':(_0x4606d4,_0x1a39e6)=>W[_0x299b01(0x81b)](_0x4606d4,_0x1a39e6)});return _0xe1d522[_0x299b01(0x405)](0xc9)[_0x299b01(0x15e)](_0x289768);})[_0x4b01e4(0x34b)](this['routerPath'](_0x4b01e4(0x5f4)),..._0x5600cd,async(_0x4ca428,_0x5ed9f9)=>{const _0x5210f5=_0x4b01e4;let _0xb6c856=await this[_0x5210f5(0x407)]({'request':_0x4ca428,'schema':Fa,'ClassRef':De,'execute':(_0x2ac932,_0x35db10)=>W[_0x5210f5(0x5f4)](_0x2ac932,_0x35db10)});return _0x5ed9f9[_0x5210f5(0x405)](0xc9)['json'](_0xb6c856);})[_0x4b01e4(0x34b)](this[_0x4b01e4(0x3d8)]('sendMenu'),..._0x5600cd,async(_0x45d574,_0x59b064)=>{const _0xaa691b=_0x4b01e4;let _0x3ec29f=await this[_0xaa691b(0x407)]({'request':_0x45d574,'schema':Ja,'ClassRef':Ct,'execute':(_0x11e397,_0x128269)=>W[_0xaa691b(0x3a5)](_0x11e397,_0x128269)});return _0x59b064[_0xaa691b(0x405)](0xc9)['json'](_0x3ec29f);})[_0x4b01e4(0x34b)](this[_0x4b01e4(0x3d8)]('sendWhatsAppAudio'),..._0x5600cd,async(_0x334373,_0x18ffe7)=>{const _0xb39489=_0x4b01e4;let _0x58e42c=await this['dataValidate']({'request':_0x334373,'schema':Ua,'ClassRef':De,'execute':(_0x55428d,_0x76dae7)=>W[_0xb39489(0x1fb)](_0x55428d,_0x76dae7)});return _0x18ffe7[_0xb39489(0x405)](0xc9)['json'](_0x58e42c);})['post'](this[_0x4b01e4(0x3d8)](_0x4b01e4(0x436)),..._0x5600cd,async(_0x1ed588,_0x363a6a)=>{const _0x317340=_0x4b01e4;let _0x5893f9=await this['dataValidate']({'request':_0x1ed588,'schema':qa,'ClassRef':vt,'execute':(_0x5d6ddc,_0x14d7f3)=>W[_0x317340(0x436)](_0x5d6ddc,_0x14d7f3)});return _0x363a6a['status'](0xc9)[_0x317340(0x15e)](_0x5893f9);})[_0x4b01e4(0x34b)](this[_0x4b01e4(0x3d8)](_0x4b01e4(0x64b)),..._0x5600cd,async(_0x30e371,_0x13ae24)=>{const _0xc3f37e=_0x4b01e4;let _0x4309f9=await this[_0xc3f37e(0x407)]({'request':_0x30e371,'schema':Va,'ClassRef':Nt,'execute':(_0xc2779e,_0x6620de)=>W[_0xc3f37e(0x64b)](_0xc2779e,_0x6620de)});return _0x13ae24[_0xc3f37e(0x405)](0xc9)['json'](_0x4309f9);})['post'](this[_0x4b01e4(0x3d8)](_0x4b01e4(0x57f)),..._0x5600cd,async(_0x1313a4,_0xb65fe2)=>{const _0xf384fd=_0x4b01e4;let _0x48c652=await this[_0xf384fd(0x407)]({'request':_0x1313a4,'schema':Ga,'ClassRef':$t,'execute':(_0x2ceaa1,_0x29ab14)=>W[_0xf384fd(0x57f)](_0x2ceaa1,_0x29ab14)});return _0xb65fe2[_0xf384fd(0x405)](0xc9)[_0xf384fd(0x15e)](_0x48c652);})[_0x4b01e4(0x34b)](this[_0x4b01e4(0x3d8)](_0x4b01e4(0x698)),..._0x5600cd,async(_0x4339a4,_0x2c9eb1)=>{const _0x64848a=_0x4b01e4;let _0x5dbfa7=await this[_0x64848a(0x407)]({'request':_0x4339a4,'schema':Ba,'ClassRef':Rt,'execute':(_0x3b401e,_0x5c021b)=>W[_0x64848a(0x698)](_0x3b401e,_0x5c021b)});return _0x2c9eb1[_0x64848a(0x405)](0xc9)[_0x64848a(0x15e)](_0x5dbfa7);})[_0x4b01e4(0x34b)](this[_0x4b01e4(0x3d8)]('sendPoll'),..._0x5600cd,async(_0xb36e05,_0x3e14cd)=>{const _0x5543b2=_0x4b01e4;let _0x1f8d27=await this[_0x5543b2(0x407)]({'request':_0xb36e05,'schema':ja,'ClassRef':Mt,'execute':(_0x2df547,_0x1234fc)=>W['sendPoll'](_0x2df547,_0x1234fc)});return _0x3e14cd[_0x5543b2(0x405)](0xc9)[_0x5543b2(0x15e)](_0x1f8d27);})[_0x4b01e4(0x34b)](this['routerPath']('sendStatus'),..._0x5600cd,async(_0x3662ec,_0x3119a7)=>{const _0x1ee713=_0x4b01e4;let _0x5d06f8=await this[_0x1ee713(0x407)]({'request':_0x3662ec,'schema':La,'ClassRef':St,'execute':(_0x37887e,_0x2614c0)=>W['sendStatus'](_0x37887e,_0x2614c0)});return _0x3119a7['status'](0xc9)['json'](_0x5d06f8);})[_0x4b01e4(0x34b)](this[_0x4b01e4(0x3d8)](_0x4b01e4(0x2ec)),..._0x5600cd,async(_0x4761e2,_0x513c3e)=>{const _0x197874=_0x4b01e4;let _0x5357a7=await this[_0x197874(0x407)]({'request':_0x4761e2,'schema':ka,'ClassRef':Et,'execute':(_0x25a5c9,_0x33cd89)=>W[_0x197874(0x2ec)](_0x25a5c9,_0x33cd89)});return _0x513c3e[_0x197874(0x405)](0xc9)['json'](_0x5357a7);});}},fi=require('express'),It=class{},Tt=class extends V{constructor(..._0x1c5f25){const _0xb1a590=a0_0x43466e;super(),this[_0xb1a590(0x610)]=(0x0,fi[_0xb1a590(0x714)])(),this['router'][_0xb1a590(0x34b)](this[_0xb1a590(0x3d8)]('set'),..._0x1c5f25,async(_0x485eeb,_0x281c3b)=>{const _0x24dbb7=_0xb1a590;let _0x14bf81=await this[_0x24dbb7(0x407)]({'request':_0x485eeb,'schema':di,'ClassRef':It,'execute':(_0x534594,_0x3ee13b)=>As[_0x24dbb7(0x2d7)](_0x534594,_0x3ee13b)});_0x281c3b[_0x24dbb7(0x405)](0xc9)[_0x24dbb7(0x15e)](_0x14bf81);})[_0xb1a590(0x5e9)](this[_0xb1a590(0x3d8)](_0xb1a590(0x6cf)),..._0x1c5f25,async(_0x3f7166,_0x9ddbf3)=>{const _0x40dced=_0xb1a590;let _0x56f590=await this['dataValidate']({'request':_0x3f7166,'schema':N,'ClassRef':M,'execute':_0x284485=>As[_0x40dced(0x417)](_0x284485)});_0x9ddbf3[_0x40dced(0x405)](0xc8)[_0x40dced(0x15e)](_0x56f590);});}},wi=require(a0_0x43466e(0x3ff)),y=new $('FlowRouter'),_t=class extends V{constructor(..._0x48ec36){const _0x45d33a=a0_0x43466e;super(),this['router']=(0x0,wi[_0x45d33a(0x714)])(),this[_0x45d33a(0x610)][_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x794)),..._0x48ec36,async(_0x38fe4f,_0x40de10)=>{const _0x134a9f=_0x45d33a;let _0x357ce5=_0x38fe4f[_0x134a9f(0x71e)];y[_0x134a9f(0x213)](_0x134a9f(0x788)),y['verbose'](_0x134a9f(0x561)),y['verbose'](_0x38fe4f[_0x134a9f(0x71e)]);let _0x419f42=await this[_0x134a9f(0x407)]({'request':_0x38fe4f,'schema':N,'ClassRef':M,'execute':_0x36514e=>O[_0x134a9f(0x69e)](_0x36514e,_0x357ce5)});_0x40de10[_0x134a9f(0x405)](0xc8)['json'](_0x419f42);})[_0x45d33a(0x5e9)](this[_0x45d33a(0x3d8)](_0x45d33a(0x794)),..._0x48ec36,async(_0xe5b9d0,_0x5850a8)=>{const _0x46163d=_0x45d33a;let _0x29a20d=await this['dataValidate']({'request':_0xe5b9d0,'schema':N,'ClassRef':M,'execute':_0x1aff69=>O[_0x46163d(0x219)](_0x1aff69)});_0x5850a8['status'](0xc8)[_0x46163d(0x15e)](_0x29a20d);})[_0x45d33a(0x274)](this[_0x45d33a(0x3d8)](_0x45d33a(0x4eb)),..._0x48ec36,async(_0x3521c1,_0x483cf2)=>{const _0x41eb0d=_0x45d33a;y['verbose']('request\x20received\x20in\x20deleteDoneMessages');let _0x2bd666=await this[_0x41eb0d(0x407)]({'request':_0x3521c1,'schema':N,'ClassRef':M,'execute':_0x1fb2a3=>O[_0x41eb0d(0x4eb)](_0x1fb2a3)});_0x483cf2[_0x41eb0d(0x405)](0xc8)[_0x41eb0d(0x15e)](_0x2bd666);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x618)),..._0x48ec36,async(_0xa75236,_0x2db774)=>{const _0x1dbddf=_0x45d33a;let _0x8b9f7c=_0xa75236['body'];y[_0x1dbddf(0x213)](_0x1dbddf(0x5b8)),y[_0x1dbddf(0x213)](_0x1dbddf(0x561)),y[_0x1dbddf(0x213)](_0xa75236[_0x1dbddf(0x71e)]);let _0x3e3ba3=await this[_0x1dbddf(0x407)]({'request':_0xa75236,'schema':N,'ClassRef':M,'execute':_0x372bc2=>O['startFlow'](_0x372bc2,_0x8b9f7c)});_0x2db774[_0x1dbddf(0x405)](0xc8)['json'](_0x3e3ba3);})[_0x45d33a(0x5e9)](this[_0x45d33a(0x3d8)](_0x45d33a(0x868)),..._0x48ec36,async(_0xa33ce0,_0x52b099)=>{const _0x229815=_0x45d33a;y['verbose'](_0x229815(0x270));let _0x78c80a=await this[_0x229815(0x407)]({'request':_0xa33ce0,'schema':N,'ClassRef':M,'execute':_0x4263a3=>O[_0x229815(0x868)](_0x4263a3)});_0x52b099['status'](0xc8)[_0x229815(0x15e)](_0x78c80a);})[_0x45d33a(0x5e9)](this[_0x45d33a(0x3d8)]('getTicketSystem'),..._0x48ec36,async(_0x171785,_0x35338c)=>{const _0x3fb8a7=_0x45d33a;y['verbose'](_0x3fb8a7(0x5ab));let _0x27b01e=await this[_0x3fb8a7(0x407)]({'request':_0x171785,'schema':N,'ClassRef':M,'execute':_0x3babcb=>O[_0x3fb8a7(0x868)](_0x3babcb)});_0x35338c[_0x3fb8a7(0x405)](0xc8)[_0x3fb8a7(0x15e)](_0x27b01e);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x728)),..._0x48ec36,async(_0x365ecf,_0x4d38dd)=>{const _0x517c27=_0x45d33a;let _0x16c463=_0x365ecf[_0x517c27(0x71e)];y[_0x517c27(0x213)](_0x517c27(0x764)),y[_0x517c27(0x213)](_0x517c27(0x561)),y[_0x517c27(0x213)](_0x365ecf[_0x517c27(0x71e)]);let _0x1698b8=await this[_0x517c27(0x407)]({'request':_0x365ecf,'schema':N,'ClassRef':M,'execute':_0x3886bf=>O[_0x517c27(0x728)](_0x3886bf,_0x16c463)});_0x4d38dd['status'](0xc8)[_0x517c27(0x15e)](_0x1698b8);})['post'](this[_0x45d33a(0x3d8)](_0x45d33a(0x4c0)),..._0x48ec36,async(_0x5e9072,_0x3be43c)=>{const _0x3e86ee=_0x45d33a;let _0x4c12bd=_0x5e9072[_0x3e86ee(0x71e)];y[_0x3e86ee(0x213)](_0x3e86ee(0x285)),y[_0x3e86ee(0x213)]('request\x20body:\x20'),y['verbose'](_0x5e9072[_0x3e86ee(0x71e)]);let _0x1efea1=await this[_0x3e86ee(0x407)]({'request':_0x5e9072,'schema':N,'ClassRef':M,'execute':_0x21a30d=>O[_0x3e86ee(0x4c0)](_0x21a30d,_0x4c12bd)});_0x3be43c[_0x3e86ee(0x405)](0xc8)['json'](_0x1efea1);})['post'](this['routerPath']('updateAutoCompleteMessages'),..._0x48ec36,async(_0x2d2533,_0xb2a820)=>{const _0x49bb61=_0x45d33a;let _0x3d559d=_0x2d2533[_0x49bb61(0x71e)];y[_0x49bb61(0x213)](_0x49bb61(0x583)),y[_0x49bb61(0x213)](_0x49bb61(0x561)),y[_0x49bb61(0x213)](_0x2d2533[_0x49bb61(0x71e)]);let _0x3792ee=await this[_0x49bb61(0x407)]({'request':_0x2d2533,'schema':N,'ClassRef':M,'execute':_0x277911=>O[_0x49bb61(0x3e4)](_0x277911,_0x3d559d)});_0xb2a820[_0x49bb61(0x405)](0xc8)[_0x49bb61(0x15e)](_0x3792ee);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x6d2)),..._0x48ec36,async(_0x18b088,_0x308865)=>{const _0x1b6592=_0x45d33a;let _0x499dc2=_0x18b088['body'];y[_0x1b6592(0x213)](_0x1b6592(0x13f)),y[_0x1b6592(0x213)](_0x1b6592(0x561)),y[_0x1b6592(0x213)](_0x18b088[_0x1b6592(0x71e)]);let _0x1c5190=await this['dataValidate']({'request':_0x18b088,'schema':N,'ClassRef':M,'execute':_0x1ad4ff=>O['updateFlowConfig'](_0x1ad4ff,_0x499dc2)});_0x308865[_0x1b6592(0x405)](0xc8)[_0x1b6592(0x15e)](_0x1c5190);})[_0x45d33a(0x34b)](this['routerPath']('getConversation'),..._0x48ec36,async(_0x3c5617,_0x3ae1bf)=>{const _0x10ca24=_0x45d33a;let _0x214873=_0x3c5617[_0x10ca24(0x71e)];y[_0x10ca24(0x213)](_0x10ca24(0x478)),y[_0x10ca24(0x213)](_0x10ca24(0x561)),y['verbose'](_0x3c5617[_0x10ca24(0x71e)]);let _0x5a42b1=await this[_0x10ca24(0x407)]({'request':_0x3c5617,'schema':N,'ClassRef':M,'execute':_0x48f90a=>O[_0x10ca24(0x141)](_0x48f90a,_0x214873)});_0x3ae1bf[_0x10ca24(0x405)](0xc8)[_0x10ca24(0x15e)](_0x5a42b1);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x4cb)),..._0x48ec36,async(_0x33a1f2,_0x1a753d)=>{const _0x104240=_0x45d33a;let _0xeac8e6=_0x33a1f2[_0x104240(0x71e)];y[_0x104240(0x213)](_0x104240(0x37e)),y[_0x104240(0x213)](_0x104240(0x561)),y['verbose'](_0x33a1f2[_0x104240(0x71e)]);let _0x66d064=await this[_0x104240(0x407)]({'request':_0x33a1f2,'schema':N,'ClassRef':M,'execute':_0x2271c6=>O['fetchConversation'](_0x2271c6,_0xeac8e6)});_0x1a753d[_0x104240(0x405)](0xc8)[_0x104240(0x15e)](_0x66d064);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x77d)),..._0x48ec36,async(_0x2e7c3c,_0x5c2112)=>{const _0x505721=_0x45d33a;let _0x47dabe=_0x2e7c3c[_0x505721(0x71e)];y['verbose'](_0x505721(0x36c)),y['verbose'](_0x505721(0x561)),y[_0x505721(0x213)](_0x2e7c3c[_0x505721(0x71e)]);let _0x215bc0=await this[_0x505721(0x407)]({'request':_0x2e7c3c,'schema':N,'ClassRef':M,'execute':_0x1c818d=>O[_0x505721(0x77d)](_0x1c818d,_0x47dabe)});_0x5c2112[_0x505721(0x405)](0xc8)['json'](_0x215bc0);})['delete'](this[_0x45d33a(0x3d8)]('deleteConversation'),..._0x48ec36,async(_0x180545,_0x3c022e)=>{const _0x5821b9=_0x45d33a;let _0xf955a5=_0x180545[_0x5821b9(0x71e)];y[_0x5821b9(0x213)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x5821b9(0x561)),y[_0x5821b9(0x213)](_0x180545[_0x5821b9(0x71e)]);let _0x10932f=await this[_0x5821b9(0x407)]({'request':_0x180545,'schema':N,'ClassRef':M,'execute':_0x2f1ab0=>O[_0x5821b9(0x404)](_0x2f1ab0,_0xf955a5)});_0x3c022e[_0x5821b9(0x405)](0xc8)[_0x5821b9(0x15e)](_0x10932f);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x151)),..._0x48ec36,async(_0x376b7b,_0x36070e)=>{const _0x2a915d=_0x45d33a;let _0x130dd9=_0x376b7b[_0x2a915d(0x71e)],_0x1caba2=_0x376b7b[_0x2a915d(0x72b)][_0x2a915d(0x899)];y[_0x2a915d(0x213)](_0x2a915d(0x37f)),y[_0x2a915d(0x213)]('request\x20body:\x20'),y['verbose'](_0x376b7b[_0x2a915d(0x71e)]);let _0xaa3880=await this['dataValidate']({'request':_0x376b7b,'schema':N,'ClassRef':M,'execute':_0x45f8b4=>O[_0x2a915d(0x2b5)](_0x45f8b4,_0x130dd9,_0x1caba2)});_0x36070e['status'](0xc8)[_0x2a915d(0x15e)](_0xaa3880);})[_0x45d33a(0x34b)](this['routerPath'](_0x45d33a(0x3fb)),..._0x48ec36,async(_0xa05e32,_0x352150)=>{const _0xfec6e8=_0x45d33a;let _0x45ca77=_0xa05e32[_0xfec6e8(0x71e)],_0x328f6a=_0xa05e32['headers'][_0xfec6e8(0x899)];y['verbose'](_0xfec6e8(0x4ee)),y[_0xfec6e8(0x213)](_0xfec6e8(0x561)),y[_0xfec6e8(0x213)](_0xa05e32['body']),delete _0x45ca77[_0xfec6e8(0x2cd)],delete _0x45ca77[_0xfec6e8(0x88e)],delete _0x45ca77[_0xfec6e8(0x5e6)],delete _0x45ca77[_0xfec6e8(0x7a8)];let _0x51c7fd=await this[_0xfec6e8(0x407)]({'request':_0xa05e32,'schema':N,'ClassRef':M,'execute':_0x220afc=>O[_0xfec6e8(0x3a3)](_0x220afc,_0x45ca77,_0x328f6a)});_0x352150['status'](0xc8)[_0xfec6e8(0x15e)](_0x51c7fd);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x596)),..._0x48ec36,async(_0x27672c,_0x4e4522)=>{const _0x19bd00=_0x45d33a;let _0x51725f=_0x27672c[_0x19bd00(0x71e)];y[_0x19bd00(0x213)](_0x19bd00(0x4ee)),y['verbose'](_0x19bd00(0x561)),y[_0x19bd00(0x213)](_0x27672c[_0x19bd00(0x71e)]);let _0x6b14bf=await this['dataValidate']({'request':_0x27672c,'schema':N,'ClassRef':M,'execute':_0x1a905d=>O[_0x19bd00(0x184)](_0x1a905d,_0x51725f)});_0x4e4522[_0x19bd00(0x405)](0xc8)[_0x19bd00(0x15e)](_0x6b14bf);})[_0x45d33a(0x34b)](this['routerPath']('editflowreply'),..._0x48ec36,async(_0x4e4741,_0x20a6b2)=>{const _0x59f4bd=_0x45d33a;let _0x1a5b86=_0x4e4741[_0x59f4bd(0x71e)];y[_0x59f4bd(0x213)](_0x59f4bd(0x4ee)),y[_0x59f4bd(0x213)](_0x59f4bd(0x561)),y[_0x59f4bd(0x213)](_0x4e4741[_0x59f4bd(0x71e)]);let _0xdc7f01=await this[_0x59f4bd(0x407)]({'request':_0x4e4741,'schema':N,'ClassRef':M,'execute':_0x9ca199=>O[_0x59f4bd(0x5f5)](_0x9ca199,_0x1a5b86)});_0x20a6b2[_0x59f4bd(0x405)](0xc8)[_0x59f4bd(0x15e)](_0xdc7f01);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)]('editflowvaredit'),..._0x48ec36,async(_0xe8912c,_0x1a09f0)=>{const _0x12bb74=_0x45d33a;let _0xdb313f=_0xe8912c[_0x12bb74(0x71e)];y[_0x12bb74(0x213)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x12bb74(0x561)),y[_0x12bb74(0x213)](_0xe8912c[_0x12bb74(0x71e)]);let _0x205ead=await this[_0x12bb74(0x407)]({'request':_0xe8912c,'schema':N,'ClassRef':M,'execute':_0x23f131=>O[_0x12bb74(0x669)](_0x23f131,_0xdb313f)});_0x1a09f0[_0x12bb74(0x405)](0xc8)['json'](_0x205ead);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x1fd)),..._0x48ec36,async(_0x25d9b2,_0x1cd1b8)=>{const _0x5f1ea5=_0x45d33a;let _0x30693d=_0x25d9b2['body'];y[_0x5f1ea5(0x213)](_0x5f1ea5(0x320)),y[_0x5f1ea5(0x213)](_0x5f1ea5(0x561)),y[_0x5f1ea5(0x213)](_0x25d9b2[_0x5f1ea5(0x71e)]);let _0x3545c4=await this[_0x5f1ea5(0x407)]({'request':_0x25d9b2,'schema':N,'ClassRef':M,'execute':_0x2a0d46=>O[_0x5f1ea5(0x75d)](_0x2a0d46,_0x30693d)});_0x1cd1b8['status'](0xc8)['json'](_0x3545c4);})[_0x45d33a(0x34b)](this[_0x45d33a(0x3d8)](_0x45d33a(0x78b)),..._0x48ec36,async(_0x410b24,_0x182e58)=>{const _0x392845=_0x45d33a;let _0x59db36=_0x410b24['body'];y[_0x392845(0x213)]('request\x20received\x20in\x20editFlowcondition'),y['verbose'](_0x392845(0x561)),y[_0x392845(0x213)](_0x410b24[_0x392845(0x71e)]);let _0xba771a=await this[_0x392845(0x407)]({'request':_0x410b24,'schema':N,'ClassRef':M,'execute':_0x58f889=>O[_0x392845(0x7ae)](_0x58f889,_0x59db36)});_0x182e58[_0x392845(0x405)](0xc8)[_0x392845(0x15e)](_0xba771a);})['post'](this[_0x45d33a(0x3d8)](_0x45d33a(0x3de)),..._0x48ec36,async(_0x53b441,_0x4d925b)=>{const _0x1ffc73=_0x45d33a;let _0x3bc31a=_0x53b441[_0x1ffc73(0x71e)];y['verbose'](_0x1ffc73(0x7ab)),y[_0x1ffc73(0x213)]('request\x20body:\x20'),y[_0x1ffc73(0x213)](_0x53b441['body']);let _0x21d76d=await this['dataValidate']({'request':_0x53b441,'schema':N,'ClassRef':M,'execute':_0x54133d=>O[_0x1ffc73(0x269)](_0x54133d,_0x3bc31a)});_0x4d925b[_0x1ffc73(0x405)](0xc8)[_0x1ffc73(0x15e)](_0x21d76d);})['post'](this[_0x45d33a(0x3d8)](_0x45d33a(0x352)),..._0x48ec36,async(_0x3727ab,_0x4eece2)=>{const _0x34b114=_0x45d33a;let _0x4e3ab3=_0x3727ab[_0x34b114(0x71e)];y['verbose'](_0x34b114(0x78f)),y[_0x34b114(0x213)](_0x34b114(0x561)),y[_0x34b114(0x213)](_0x3727ab[_0x34b114(0x71e)]);let _0x1fafa7=await this[_0x34b114(0x407)]({'request':_0x3727ab,'schema':N,'ClassRef':M,'execute':_0xffa6fb=>O['getFlow'](_0xffa6fb,_0x4e3ab3)});_0x4eece2['status'](0xc8)[_0x34b114(0x15e)](_0x1fafa7);})['delete'](this[_0x45d33a(0x3d8)](_0x45d33a(0x395)),..._0x48ec36,async(_0x5a4af0,_0x151993)=>{const _0x25fa63=_0x45d33a;let _0x4fa85c=_0x5a4af0[_0x25fa63(0x71e)];y[_0x25fa63(0x213)](_0x25fa63(0x7ac)),y[_0x25fa63(0x213)](_0x25fa63(0x561)),y[_0x25fa63(0x213)](_0x5a4af0[_0x25fa63(0x71e)]);let _0x5fe858=await this[_0x25fa63(0x407)]({'request':_0x5a4af0,'schema':N,'ClassRef':M,'execute':_0x3192ee=>O[_0x25fa63(0x16d)](_0x3192ee,_0x4fa85c)});_0x151993[_0x25fa63(0x405)](0xc8)[_0x25fa63(0x15e)](_0x5fe858);})[_0x45d33a(0x5e9)](this[_0x45d33a(0x3d8)](_0x45d33a(0x196)),..._0x48ec36,async(_0x179e86,_0x162fda)=>{const _0x4367b8=_0x45d33a;y[_0x4367b8(0x213)](_0x4367b8(0x86b));let _0x411b0f=await this[_0x4367b8(0x407)]({'request':_0x179e86,'schema':N,'ClassRef':M,'execute':_0x5e1b4b=>O[_0x4367b8(0x41b)](_0x5e1b4b)});_0x162fda[_0x4367b8(0x405)](0xc8)['json'](_0x411b0f);});}},Mi=T(require(a0_0x43466e(0x6a6))),se={};function yi(_0x5682a2,_0x38857b,_0x1bab75,_0x2de4b4){se[_0x5682a2]||(se[_0x5682a2]={}),se[_0x5682a2][_0x38857b]={'id':_0x38857b,'response':_0x1bab75,'events':_0x2de4b4};}function bi(_0x56215d,_0x204323){!se[_0x56215d]||!se[_0x56215d][_0x204323]||delete se[_0x56215d][_0x204323];}function F(_0x4e84e8,_0x3ba0d0,_0x13bb33){const _0x171846=a0_0x43466e;if(!se[_0x4e84e8])return;let _0x3c9d77='data:\x20'+JSON[_0x171846(0x5ad)](_0x13bb33)+'\x0a\x0a';Object[_0x171846(0x70a)](se[_0x4e84e8])[_0x171846(0x663)](_0x1e3e52=>{const _0x798a42=_0x171846;_0x1e3e52['events'][_0x798a42(0x592)](_0x3ba0d0)&&_0x1e3e52[_0x798a42(0x3a1)][_0x798a42(0x5e5)](_0x3c9d77);});}function Si(){const _0x12687f=a0_0x43466e;let _0x5c8c27={};for(let _0x323bcd in se)_0x5c8c27[_0x323bcd]=Object[_0x12687f(0x70a)](se[_0x323bcd])[_0x12687f(0x614)](_0x4ae4ea=>({'id':_0x4ae4ea['id'],'events':_0x4ae4ea[_0x12687f(0x5bd)]}));return _0x5c8c27;}var Ci=require('uuid'),Ts=require('mongoose'),Is=class{},Io=new Ts[(a0_0x43466e(0x3bb))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),To=new Ts[(a0_0x43466e(0x3bb))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=I?.[a0_0x43466e(0x1e8)](Is[a0_0x43466e(0x5c3)],To,a0_0x43466e(0x6ac)),_o=Mi[a0_0x43466e(0x56d)][a0_0x43466e(0x14c)](__dirname,a0_0x43466e(0x525)),ke=(0x0,Ot[a0_0x43466e(0x714)])(),Oo=S[a0_0x43466e(0x5e9)](a0_0x43466e(0x749))[a0_0x43466e(0x7a0)],re=[Aa,Ia,Oa[Oo]];ke[a0_0x43466e(0x60d)]('/media',Ot[a0_0x43466e(0x56d)][a0_0x43466e(0x41e)](_o))['get'](a0_0x43466e(0x739),async(_0xa598ff,_0x209f2a)=>{const _0x2daa10=a0_0x43466e;console['log']('bateu\x20events');let _0x286ef7=_0xa598ff[_0x2daa10(0x578)]['instance'],_0x1865aa=(_0xa598ff[_0x2daa10(0x2b1)]['events']||'')[_0x2daa10(0x380)](','),_0x30ce1c=(0x0,Ci['v4'])();console['log'](_0x2daa10(0x7fc),_0x286ef7),console[_0x2daa10(0x217)](_0x2daa10(0x779),_0x1865aa);let _0x4136ca=S['get']('AUTHENTICATION')[_0x2daa10(0x67b)],_0x1c11d0=_0xa598ff[_0x2daa10(0x2b1)][_0x2daa10(0x899)];if(console[_0x2daa10(0x217)](_0x2daa10(0x23c),_0x1c11d0),_0x4136ca[_0x2daa10(0x515)]!==_0x1c11d0){console[_0x2daa10(0x217)]('env.KEY\x20!==\x20key');try{let _0xa54e7c=await fe[_0x2daa10(0x1c5)][_0x2daa10(0x6cf)](_0x286ef7);if(console[_0x2daa10(0x217)](_0x2daa10(0x24e),_0xa54e7c),!_0xa54e7c||_0xa54e7c['apikey']!==_0x1c11d0)return console[_0x2daa10(0x217)](_0x2daa10(0x216)),_0x209f2a[_0x2daa10(0x405)](0x191)['send'](_0x2daa10(0x2b3));}catch(_0x446195){return console[_0x2daa10(0x434)](_0x2daa10(0x81c),_0x446195),_0x209f2a['status'](0x191)[_0x2daa10(0x5c8)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0x286ef7))return _0x209f2a[_0x2daa10(0x405)](0x194)[_0x2daa10(0x5c8)]('Instância\x20não\x20encontrada.');_0x209f2a['setHeader'](_0x2daa10(0x18f),'text/event-stream'),_0x209f2a['setHeader'](_0x2daa10(0x298),_0x2daa10(0x835)),_0x209f2a[_0x2daa10(0x25d)](_0x2daa10(0x251),_0x2daa10(0x49e)),_0x209f2a[_0x2daa10(0x278)]();let _0x47f680=_0x2daa10(0x6bd)+JSON[_0x2daa10(0x5ad)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x209f2a[_0x2daa10(0x5e5)](_0x47f680),yi(_0x286ef7,_0x30ce1c,_0x209f2a,_0x1865aa),_0xa598ff['on'](_0x2daa10(0x604),()=>{const _0x19dc4f=_0x2daa10;console[_0x19dc4f(0x217)](_0x19dc4f(0x307)+_0x286ef7),bi(_0x286ef7,_0x30ce1c);});}),ke[a0_0x43466e(0x34b)](a0_0x43466e(0x212),async(_0x4b3f83,_0x469a5f)=>{const _0x21346e=a0_0x43466e;console[_0x21346e(0x217)]('iniciando\x20fluxo\x20router');let _0xdb622d=_0x4b3f83[_0x21346e(0x578)][_0x21346e(0x1da)],_0x4f916b=_0x4b3f83[_0x21346e(0x578)]['startID'],_0x27bc84=_0x4b3f83[_0x21346e(0x2b1)][_0x21346e(0x309)]||'',_0x2b01fd=_0x4b3f83[_0x21346e(0x71e)];console[_0x21346e(0x217)](_0x21346e(0x38c),_0xdb622d),console[_0x21346e(0x217)]('StartID:',_0x4f916b),console['log'](_0x21346e(0x4a5),_0x27bc84),console[_0x21346e(0x217)](_0x21346e(0x157),_0x2b01fd);try{if(!await _e(_0xdb622d))return _0x469a5f[_0x21346e(0x405)](0x194)[_0x21346e(0x5c8)](_0x21346e(0x7e8));let _0x52bd23=await O['startFlowWebhook'](_0xdb622d,_0x4f916b,_0x27bc84,_0x2b01fd);_0x469a5f['send'](_0x52bd23);}catch(_0x2a9700){console[_0x21346e(0x434)](_0x2a9700),_0x469a5f[_0x21346e(0x405)](0x1f4)[_0x21346e(0x5c8)](_0x21346e(0x180));}}),ke['get'](a0_0x43466e(0x203),(_0x255812,_0x55992f)=>{const _0xc71a4e=a0_0x43466e;let _0x5edd3f=Si();_0x55992f[_0xc71a4e(0x15e)](_0x5edd3f);})[a0_0x43466e(0x5e9)]('/',(_0x1373f0,_0x3bb40a)=>{const _0x2ff234=a0_0x43466e;let _0x31d54c=S['get'](_0x2ff234(0x732))[_0x2ff234(0x572)];if(_0x31d54c){let _0x9a9edb=encodeURIComponent(''+_0x31d54c);_0x3bb40a[_0x2ff234(0x36b)](_0x2ff234(0x401)+_0x9a9edb);return;}let _0x2a23c8=S[_0x2ff234(0x5e9)]('SSL_CONF'),_0x1e163f=_0x2a23c8&&_0x2a23c8[_0x2ff234(0x738)][_0x2ff234(0x380)]('/')[0x4];if(_0x1e163f){let _0x1ee559=encodeURIComponent(_0x2ff234(0x74a)+_0x1e163f);_0x3bb40a[_0x2ff234(0x36b)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x1ee559);}else _0x3bb40a['redirect'](_0x2ff234(0x39f));})['put'](a0_0x43466e(0x339),...re,async(_0x11aefd,_0x376591)=>{const _0x39c62c=a0_0x43466e;try{console[_0x39c62c(0x217)](_0x39c62c(0x2a6)),_0x376591['status'](0xc8)[_0x39c62c(0x15e)]({'message':_0x39c62c(0x6b2)}),_0x376591['on'](_0x39c62c(0x59d),()=>process[_0x39c62c(0x6ef)](0x0));}catch(_0x2021f1){console[_0x39c62c(0x434)](_0x39c62c(0x3e9),_0x2021f1),_0x376591[_0x39c62c(0x405)](0x1f4)[_0x39c62c(0x15e)]({'message':_0x39c62c(0x73f)});}})[a0_0x43466e(0x73b)]('/config',...re,async(_0x26bf1a,_0x48af80)=>{const _0x343cb3=a0_0x43466e;try{let _0x559b79=_0x26bf1a[_0x343cb3(0x71e)];await ve['updateOne']({},{'$set':_0x559b79},{'upsert':!0x0});let _0xae2eb1=await ve[_0x343cb3(0x41a)]();_0x48af80[_0x343cb3(0x15e)](_0xae2eb1);}catch(_0x906288){_0x48af80[_0x343cb3(0x405)](0x190)['send'](_0x906288[_0x343cb3(0x416)]);}})[a0_0x43466e(0x5e9)]('/config',...re,async(_0x4e882f,_0x1d8c4a)=>{const _0x4d957a=a0_0x43466e;try{let _0xc52ebc=await ve[_0x4d957a(0x41a)]();if(!_0xc52ebc)return _0x1d8c4a[_0x4d957a(0x15e)]({});_0x1d8c4a[_0x4d957a(0x15e)](_0xc52ebc);}catch(_0x4e4a91){_0x1d8c4a[_0x4d957a(0x405)](0x1f4)[_0x4d957a(0x5c8)](_0x4e4a91[_0x4d957a(0x416)]);}})[a0_0x43466e(0x60d)](a0_0x43466e(0x625),new yt(S,...re)[a0_0x43466e(0x610)])[a0_0x43466e(0x60d)]('/message',new At(...re)[a0_0x43466e(0x610)])[a0_0x43466e(0x60d)]('/chat',new ct(...re)[a0_0x43466e(0x610)])[a0_0x43466e(0x60d)]('/group',new wt(...re)[a0_0x43466e(0x610)])[a0_0x43466e(0x60d)](a0_0x43466e(0x2dd),new Tt(...re)[a0_0x43466e(0x610)])[a0_0x43466e(0x60d)]('/automate',new _t(...re)[a0_0x43466e(0x610)]);var m=class{constructor(..._0x146243){const _0x3e03ea=a0_0x43466e;throw{'status':0x190,'error':_0x3e03ea(0x4e7),'message':_0x146243[_0x3e03ea(0x695)]>0x0?_0x146243:void 0x0};}},ie=class{constructor(..._0x5e8685){const _0xb0bdf1=a0_0x43466e;throw{'status':0x191,'error':_0xb0bdf1(0x39b),'message':_0x5e8685[_0xb0bdf1(0x695)]>0x0?_0x5e8685:void 0x0};}},Z=class{constructor(..._0x4ce48f){const _0x3c0e01=a0_0x43466e;throw{'status':0x193,'error':_0x3c0e01(0x51f),'message':_0x4ce48f[_0x3c0e01(0x695)]>0x0?_0x4ce48f:void 0x0};}},U=class{constructor(..._0x1f9344){const _0x52a964=a0_0x43466e;throw{'status':0x194,'error':_0x52a964(0x6f9),'message':_0x1f9344[_0x52a964(0x695)]>0x0?_0x1f9344:void 0x0};}},x=class{constructor(..._0x29fd7c){const _0x3b6d2e=a0_0x43466e;throw{'status':0x1f4,'error':_0x3b6d2e(0x4dc),'message':_0x29fd7c[_0x3b6d2e(0x695)]>0x0?_0x29fd7c:void 0x0};}},we=require(a0_0x43466e(0x84e));function a0_0x5767(_0x34e31d,_0x5f4673){const _0x27da7b=a0_0x27da();return a0_0x5767=function(_0x5767ce,_0x1a3917){_0x5767ce=_0x5767ce-0x134;let _0x152454=_0x27da7b[_0x5767ce];return _0x152454;},a0_0x5767(_0x34e31d,_0x5f4673);}async function _s(_0x2d745){const _0x484c57=a0_0x43466e;let _0x4ff7e3=new $(_s[_0x484c57(0x5c3)]),_0x53354e=I['getClient'](),_0x3d4c6b=_0x53354e['db'](S[_0x484c57(0x5e9)]('DATABASE')[_0x484c57(0x20f)][_0x484c57(0x5d0)]+_0x484c57(0x575))[_0x484c57(0x79f)](_0x2d745),_0x536e9e=async(_0x370dbc,_0x5531da)=>{const _0x1c79ca=_0x484c57;try{return await _0x53354e['connect'](),await _0x3d4c6b[_0x1c79ca(0x884)]({'_id':_0x5531da},JSON[_0x1c79ca(0x2ef)](JSON[_0x1c79ca(0x5ad)](_0x370dbc,we[_0x1c79ca(0x790)][_0x1c79ca(0x6b9)])),{'upsert':!0x0});}catch{}},_0x3124aa=async _0x3af780=>{const _0x4cf8e4=_0x484c57;try{await _0x53354e['connect']();let _0x24ef9b=await _0x3d4c6b[_0x4cf8e4(0x41a)]({'_id':_0x3af780}),_0x5e8472=JSON[_0x4cf8e4(0x5ad)](_0x24ef9b);return JSON['parse'](_0x5e8472,we['BufferJSON'][_0x4cf8e4(0x30b)]);}catch{}},_0x311f49=async _0x26d085=>{const _0x39bda9=_0x484c57;try{return await _0x53354e[_0x39bda9(0x5c6)](),await _0x3d4c6b[_0x39bda9(0x31e)]({'_id':_0x26d085});}catch{}},_0x17f4d9=await _0x3124aa('creds')||(0x0,we[_0x484c57(0x4f1)])();return{'state':{'creds':_0x17f4d9,'keys':{'get':async(_0x234e1c,_0x9eeb07)=>{const _0xfb1013=_0x484c57;let _0x1ec99b={};return await Promise[_0xfb1013(0x859)](_0x9eeb07[_0xfb1013(0x614)](async _0x35d049=>{const _0x4acde9=_0xfb1013;let _0x236a77=await _0x3124aa(_0x234e1c+'-'+_0x35d049);_0x234e1c==='app-state-sync-key'&&_0x236a77&&(_0x236a77=we[_0x4acde9(0x265)][_0x4acde9(0x1e6)][_0x4acde9(0x5f1)]['fromObject'](_0x236a77)),_0x1ec99b[_0x35d049]=_0x236a77;})),_0x1ec99b;},'set':async _0x366b0a=>{const _0x8a4173=_0x484c57;let _0x35c6be=[];for(let _0x318a90 in _0x366b0a)for(let _0x475e0f in _0x366b0a[_0x318a90]){let _0x3c8036=_0x366b0a[_0x318a90][_0x475e0f],_0x39b838=_0x318a90+'-'+_0x475e0f;_0x35c6be[_0x8a4173(0x7ef)](_0x3c8036?_0x536e9e(_0x3c8036,_0x39b838):_0x311f49(_0x39b838));}await Promise[_0x8a4173(0x859)](_0x35c6be);}}},'saveCreds':async()=>_0x536e9e(_0x17f4d9,_0x484c57(0x4f6))};}var ks=T(require('long')),Ls=T(require(a0_0x43466e(0x709))),Dt=require(a0_0x43466e(0x84e)),Ei=require(a0_0x43466e(0x798)),Pt=require(a0_0x43466e(0x84e)),xt;function xo(_0x51a996){const _0x436706=a0_0x43466e;return xt||(xt=(0x0,Ei[_0x436706(0x780)])({'url':_0x51a996[_0x436706(0x3cf)]}),xt[_0x436706(0x5c6)]()),xt;}var pe=class u{constructor(_0x2cd507,_0x12c825){const _0x3a1fef=a0_0x43466e;this[_0x3a1fef(0x40c)]=_0x2cd507,this['instanceName']=_0x12c825,this['logger']=new $(u[_0x3a1fef(0x5c3)]),this[_0x3a1fef(0x1a2)]=xo(_0x2cd507);}set['reference'](_0xec174b){const _0x76ad85=a0_0x43466e;this[_0x76ad85(0x297)]=_0xec174b;}async['instanceKeys'](){const _0x5725a1=a0_0x43466e;try{return await this[_0x5725a1(0x1a2)][_0x5725a1(0x7b6)]([_0x5725a1(0x73e),this[_0x5725a1(0x40c)][_0x5725a1(0x4fd)]+':*']);}catch(_0x1bad54){this['logger'][_0x5725a1(0x434)](_0x1bad54);}}async['writeData'](_0x8b0147,_0x3f6364){const _0x15f8c0=a0_0x43466e;try{let _0x4e88cb=JSON[_0x15f8c0(0x5ad)](_0x3f6364,Pt[_0x15f8c0(0x790)]['replacer']);return await this[_0x15f8c0(0x1a2)][_0x15f8c0(0x7ee)](this[_0x15f8c0(0x40c)]['PREFIX_KEY']+':'+this['instanceName'],_0x8b0147,_0x4e88cb);}catch(_0x4dbf5d){this[_0x15f8c0(0x50b)][_0x15f8c0(0x434)](_0x4dbf5d);}}async[a0_0x43466e(0x2dc)](){const _0x481b96=a0_0x43466e;try{let _0x42a353=await this[_0x481b96(0x1a2)][_0x481b96(0x332)](this[_0x481b96(0x40c)]['PREFIX_KEY']+':'+this[_0x481b96(0x297)]);if(_0x42a353){for(let _0x1e46c9 in _0x42a353)Object[_0x481b96(0x4b9)]['hasOwnProperty'][_0x481b96(0x1d2)](_0x42a353,_0x1e46c9)&&(_0x42a353[_0x1e46c9]=JSON['parse'](_0x42a353[_0x1e46c9],Pt[_0x481b96(0x790)][_0x481b96(0x30b)]));return _0x42a353;}}catch(_0x4aae74){this[_0x481b96(0x50b)]['error'](_0x4aae74);}}async[a0_0x43466e(0x4ac)](_0xeb505b){const _0x477908=a0_0x43466e;try{let _0x24e522=await this['client']['hGet'](this['redisEnv'][_0x477908(0x4fd)]+':'+this[_0x477908(0x297)],_0xeb505b);if(_0x24e522)return JSON[_0x477908(0x2ef)](_0x24e522,Pt[_0x477908(0x790)][_0x477908(0x30b)]);}catch(_0x1e2b33){this['logger']['error'](_0x1e2b33);}}async[a0_0x43466e(0x271)](_0x55ca83){const _0x5412ee=a0_0x43466e;try{return await this['client'][_0x5412ee(0x1b4)](this[_0x5412ee(0x40c)]['PREFIX_KEY']+':'+this[_0x5412ee(0x297)],_0x55ca83);}catch(_0xaf5a0){this['logger']['error'](_0xaf5a0);}}async[a0_0x43466e(0x57c)](_0xbceb65){const _0x20c07e=a0_0x43466e;try{return await this[_0x20c07e(0x1a2)]['del'](_0xbceb65||this[_0x20c07e(0x40c)][_0x20c07e(0x4fd)]+':'+this['instanceName']);}catch(_0x41d4f2){this['logger'][_0x20c07e(0x434)](_0x41d4f2);}}};async function Os(_0x117594,_0x266d17){const _0x590a76=a0_0x43466e;let _0x1942d3=new $(Os['name']),_0x2db129=new pe(_0x117594,_0x266d17),_0x4637ab=async(_0x4ae4d6,_0x5ef3ce)=>{const _0x17a1f3=a0_0x5767;try{return await _0x2db129['writeData'](_0x5ef3ce,_0x4ae4d6);}catch(_0x437f6c){return _0x1942d3['error']({'localError':_0x17a1f3(0x776),'error':_0x437f6c});}},_0x22f8e3=async _0x148591=>{const _0x476ede=a0_0x5767;try{return await _0x2db129[_0x476ede(0x4ac)](_0x148591);}catch(_0x4e7631){_0x1942d3[_0x476ede(0x434)]({'readData':_0x476ede(0x776),'error':_0x4e7631});return;}},_0x26f3cf=async _0x40dc2e=>{const _0x31d1ca=a0_0x5767;try{return await _0x2db129[_0x31d1ca(0x271)](_0x40dc2e);}catch(_0xbaed78){_0x1942d3[_0x31d1ca(0x434)]({'readData':_0x31d1ca(0x271),'error':_0xbaed78});}},_0x8f4bf5=await _0x22f8e3(_0x590a76(0x4f6))||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0x8f4bf5,'keys':{'get':async(_0x11aa90,_0x506c1e)=>{const _0x30c242=_0x590a76;let _0x406dde={};return await Promise[_0x30c242(0x859)](_0x506c1e[_0x30c242(0x614)](async _0x38ee27=>{const _0x56fa1b=_0x30c242;let _0x34035c=await _0x22f8e3(_0x11aa90+'-'+_0x38ee27);_0x11aa90===_0x56fa1b(0x4a0)&&_0x34035c&&(_0x34035c=Dt['proto'][_0x56fa1b(0x1e6)][_0x56fa1b(0x5f1)][_0x56fa1b(0x5d8)](_0x34035c)),_0x406dde[_0x38ee27]=_0x34035c;})),_0x406dde;},'set':async _0x1a29d7=>{let _0x9ccd6f=[];for(let _0x43af71 in _0x1a29d7)for(let _0x51e6ba in _0x1a29d7[_0x43af71]){let _0x4ee51d=_0x1a29d7[_0x43af71][_0x51e6ba],_0x56915f=_0x43af71+'-'+_0x51e6ba;_0x9ccd6f['push'](_0x4ee51d?await _0x4637ab(_0x4ee51d,_0x56915f):await _0x26f3cf(_0x56915f));}await Promise['all'](_0x9ccd6f);}}},'saveCreds':async()=>await _0x4637ab(_0x8f4bf5,_0x590a76(0x4f6))};}var k=T(require('fs')),Y=require(a0_0x43466e(0x34e)),Ut=T(require(a0_0x43466e(0x6aa))),ne=require(a0_0x43466e(0x391)),vi=require('child_process'),Ni=require(a0_0x43466e(0x1f3)),$i=T(require('axios')),Ne=class extends _{constructor(_0x38da23,_0x40867f,_0x51355c){const _0x5a563d=a0_0x43466e;super(_0x40867f),this[_0x5a563d(0x80e)]=_0x38da23,this[_0x5a563d(0x609)]=_0x40867f,this['dbConnection']=_0x51355c;}async['createOrUpdate'](_0x259367,_0x554ee9){const _0x160086=a0_0x43466e;try{if(this[_0x160086(0x441)][_0x160086(0x626)]){console[_0x160086(0x217)](_0x160086(0x6ba)+_0x554ee9+'\x20and\x20data:',_0x259367);let _0x15dd0a=await this[_0x160086(0x80e)][_0x160086(0x4f2)]({'_id':_0x554ee9},{'$set':_0x259367},{'new':!0x0,'upsert':!0x0});return console[_0x160086(0x217)](_0x160086(0x646),_0x15dd0a),_0x15dd0a;}}catch(_0x3c44b4){throw console[_0x160086(0x434)](_0x160086(0x4be),_0x3c44b4),_0x3c44b4;}return null;}async['deleteOne'](_0x54dec9){const _0x251b80=a0_0x43466e;try{let _0x4e9b06=A(_0x54dec9['where']);return{'deletedCount':(await this[_0x251b80(0x80e)][_0x251b80(0x31e)](_0x4e9b06))[_0x251b80(0x469)]};}catch(_0x4e2427){return{'error':_0x4e2427?.[_0x251b80(0x880)]()};}}async[a0_0x43466e(0x41a)](_0x5409b4){const _0x1e2702=a0_0x43466e;try{let _0x29ad41=A(_0x5409b4[_0x1e2702(0x392)]);return await this['cacheInstanceModel'][_0x1e2702(0x41a)](_0x29ad41)[_0x1e2702(0x6e2)]();}catch{return null;}}},kt=(0x0,Ni[a0_0x43466e(0x6c4)])(vi[a0_0x43466e(0x778)]),Po=S[a0_0x43466e(0x5e9)](a0_0x43466e(0x651)),xs=class{constructor(){const _0x4e8763=a0_0x43466e;this[_0x4e8763(0x365)]=new Ne(Be,S),(!this[_0x4e8763(0x425)]||!this[_0x4e8763(0x195)])&&Po&&this[_0x4e8763(0x53c)]()[_0x4e8763(0x369)](()=>{const _0x4dd135=_0x4e8763;console[_0x4dd135(0x217)](_0x4dd135(0x825)+this[_0x4dd135(0x425)]),console[_0x4dd135(0x217)](_0x4dd135(0x4de)+this[_0x4dd135(0x195)]);})[_0x4e8763(0x3e3)](_0x55f958=>{const _0x4fcefd=_0x4e8763;console[_0x4fcefd(0x434)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x55f958[_0x4fcefd(0x416)]);});}async[a0_0x43466e(0x53c)](){const _0x592d7d=a0_0x43466e;try{let {stdout:_0x261b2f}=await kt('ip\x20-br\x20link\x20show');console[_0x592d7d(0x217)](_0x592d7d(0x74e)+_0x261b2f);let _0x26fa08=_0x261b2f[_0x592d7d(0x380)]('\x0a')['map'](_0xd9adc9=>_0xd9adc9['split']('\x20')[0x0])[_0x592d7d(0x71f)](_0x31cc67=>!_0x31cc67[_0x592d7d(0x592)]('lo')&&!_0x31cc67[_0x592d7d(0x592)](_0x592d7d(0x2c4))&&!_0x31cc67['includes'](_0x592d7d(0x493))&&!_0x31cc67[_0x592d7d(0x592)]('wl')&&!_0x31cc67[_0x592d7d(0x592)]('@'));if(console[_0x592d7d(0x217)]('Filtered\x20network\x20interfaces:\x20'+_0x26fa08),_0x26fa08[_0x592d7d(0x695)]===0x0)throw new Error(_0x592d7d(0x344));this['networkInterface']=_0x26fa08[0x0];let {stdout:_0x481b14}=await kt(_0x592d7d(0x167)+this[_0x592d7d(0x195)]);console[_0x592d7d(0x217)]('IPv6\x20addresses\x20detected:\x20'+_0x481b14);let _0x295ec2=_0x481b14[_0x592d7d(0x380)]('\x0a')[_0x592d7d(0x6cf)](_0x4f84a7=>_0x4f84a7['includes'](_0x592d7d(0x239))&&_0x4f84a7['includes']('global'));if(!_0x295ec2)throw new Error(_0x592d7d(0x55c));let _0x3ae440=_0x295ec2['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x3ae440)throw new Error(_0x592d7d(0x7c4));let [_0x2b0cbe,_0x5b6c89,_0x3d2a2e]=_0x3ae440,_0x357052=Math['floor'](Number(_0x3d2a2e)/0x10),_0x4cfc38=Number(_0x3d2a2e)%0x10,_0x4c4828=_0x5b6c89[_0x592d7d(0x380)](':')[_0x592d7d(0x5a7)](0x0,_0x357052)[_0x592d7d(0x14c)](':');if(_0x4cfc38>0x0){let _0x5bad59=_0x5b6c89[_0x592d7d(0x380)](':')[_0x357052],_0x2d0ac2=0xffff<<0x10-_0x4cfc38&0xffff,_0x60d36c=(parseInt(_0x5bad59,0x10)&_0x2d0ac2)[_0x592d7d(0x880)](0x10)[_0x592d7d(0x889)](0x4,'0');_0x4c4828+=':'+_0x60d36c;}this['ipv6Prefix']=_0x4c4828+':';}catch(_0x4a483f){console[_0x592d7d(0x434)](_0x592d7d(0x65f),_0x4a483f);}}async[a0_0x43466e(0x6e9)](_0x196bb0){const _0x12bf50=a0_0x43466e;let _0x114b5a=_0x12bf50(0x22e)+_0x196bb0+_0x12bf50(0x7c9)+this[_0x12bf50(0x195)];try{await kt(_0x114b5a),console[_0x12bf50(0x217)](_0x12bf50(0x360)+_0x196bb0);}catch(_0x114349){console[_0x12bf50(0x434)](_0x12bf50(0x5fa)+_0x114349);}}async[a0_0x43466e(0x53e)](_0x2b12b4){const _0x3a8ad8=a0_0x43466e;let _0x3123c4=_0x3a8ad8(0x498)+_0x2b12b4+'/64\x20dev\x20'+this[_0x3a8ad8(0x195)];try{await kt(_0x3123c4),console[_0x3a8ad8(0x217)](_0x3a8ad8(0x537)+_0x2b12b4);}catch(_0x264f26){console['error'](_0x3a8ad8(0x4b4)+_0x264f26);}}[a0_0x43466e(0x61f)](){const _0x767245=a0_0x43466e;return'XX:XX:XX:XX:XX:XX'['replace'](/X/g,()=>_0x767245(0x44d)[_0x767245(0x479)](Math['floor'](Math['random']()*0x10)));}[a0_0x43466e(0x887)](_0x3c8407,_0x5d173c){const _0x54ead6=a0_0x43466e;let _0x3cab21=_0x5d173c[_0x54ead6(0x380)](':');return _0x3cab21[0x0]=(parseInt(_0x3cab21[0x0],0x10)^0x2)[_0x54ead6(0x880)](0x10)['padStart'](0x2,'0'),''+_0x3c8407+_0x3cab21[0x0]+_0x3cab21[0x1]+':'+_0x3cab21[0x2]+'ff:fe'+_0x3cab21[0x3]+':'+_0x3cab21[0x4]+_0x3cab21[0x5];}['generateRandomIPv6'](){const _0x59ca8e=a0_0x43466e;let _0x411834=this['ipv6Prefix'];_0x411834['endsWith'](':')||(_0x411834+=':');let _0x5b4a9e=this[_0x59ca8e(0x61f)]();return this[_0x59ca8e(0x887)](_0x411834,_0x5b4a9e);}[a0_0x43466e(0x247)](_0x40b05e){const _0x150861=a0_0x43466e;return new RegExp(_0x150861(0x6f7))[_0x150861(0x2cc)](_0x40b05e);}async[a0_0x43466e(0x6d3)](_0x19c0fd){const _0x2b6535=a0_0x43466e;let _0x2e9495=[{'url':_0x2b6535(0x4ef),'parse':_0x1e5907=>_0x1e5907['ip']},{'url':_0x2b6535(0x641),'parse':_0x553796=>_0x553796['ip']},{'url':_0x2b6535(0x815),'parse':_0x3b2cc4=>_0x3b2cc4['trim']()},{'url':'https://v6.ident.me','parse':_0x1c0e80=>_0x1c0e80['trim']()}],_0x2f4069=_0x2e9495[Math[_0x2b6535(0x27d)](Math['random']()*_0x2e9495[_0x2b6535(0x695)])];try{let _0x2479e2=await $i[_0x2b6535(0x56d)]['get'](_0x2f4069['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x19c0fd}}),_0x1c406b=_0x2f4069[_0x2b6535(0x2ef)](_0x2479e2['data']);return _0x1c406b[_0x2b6535(0x7a5)]()===_0x19c0fd[_0x2b6535(0x7a5)]()?(console[_0x2b6535(0x217)](_0x2b6535(0x6e8)+_0x19c0fd),!0x0):(console[_0x2b6535(0x434)](_0x2b6535(0x279)+_0x19c0fd+_0x2b6535(0x5aa)+_0x1c406b),!0x1);}catch(_0x28e870){return console[_0x2b6535(0x434)](_0x2b6535(0x661)+_0x2f4069[_0x2b6535(0x5ea)]+':\x20'+_0x28e870['message']),!0x1;}}async[a0_0x43466e(0x60b)](_0x1d9967,_0x453055){const _0x18bdfd=a0_0x43466e;if(!this[_0x18bdfd(0x425)]||!this[_0x18bdfd(0x195)])return console[_0x18bdfd(0x434)](_0x18bdfd(0x222)),null;let _0x8cbd11;do _0x8cbd11=this[_0x18bdfd(0x42a)](),console[_0x18bdfd(0x217)]('Generated\x20IPv6:\x20'+_0x8cbd11);while(!await this[_0x18bdfd(0x1a1)](_0x8cbd11));await this['configureIPv6'](_0x8cbd11),console[_0x18bdfd(0x217)](_0x18bdfd(0x5f9)+_0x8cbd11);let _0xc0b425={'_id':_0x1d9967+'-'+_0x453055,'ip':_0x8cbd11},_0x5aa252=await this['cacheInstanceRepository'][_0x18bdfd(0x290)](_0xc0b425,_0xc0b425[_0x18bdfd(0x1e0)]);return console['log'](_0x18bdfd(0x48c)+_0x5aa252),_0x8cbd11;}async[a0_0x43466e(0x1a1)](_0x50ce0d){const _0x506d8e=a0_0x43466e;return this[_0x506d8e(0x247)](_0x50ce0d)?!await this['cacheInstanceRepository'][_0x506d8e(0x41a)]({'where':{'ip':_0x50ce0d}}):!0x1;}async[a0_0x43466e(0x58b)](_0x2b2ed9,_0x2733b3){const _0x498783=a0_0x43466e;let _0x2c4caf=_0x2b2ed9+'-'+_0x2733b3,_0x35f5e1=await this['cacheInstanceRepository']['findOne']({'where':{'_id':_0x2c4caf}});_0x35f5e1&&_0x35f5e1['ip']&&(await this[_0x498783(0x53e)](_0x35f5e1['ip']),await this[_0x498783(0x365)][_0x498783(0x31e)]({'where':{'_id':_0x2c4caf}}));}},Do=new xs(),ae=Do,Fs='Safari',xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S['get'](a0_0x43466e(0x749))[a0_0x43466e(0x67b)][a0_0x43466e(0x515)],Ai=S[a0_0x43466e(0x5e9)](a0_0x43466e(0x651));async function Fo(){const _0x1eb12f=a0_0x43466e;let _0xb49a5c=await ve[_0x1eb12f(0x41a)]();he=_0xb49a5c?.[_0x1eb12f(0x619)]??null,Lo=_0xb49a5c?.['DaysToDelete']??null,Fs=_0xb49a5c?.[_0x1eb12f(0x635)]??_0x1eb12f(0x2e0),xi=_0xb49a5c?.[_0x1eb12f(0x429)]??B??_0x1eb12f(0x683);}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x2e3060,_0x3c4725,_0x921ebd){const _0x17890c=a0_0x43466e;this[_0x17890c(0x609)]=_0x2e3060,this[_0x17890c(0x2fe)]=_0x3c4725,this[_0x17890c(0x302)]=_0x921ebd,this[_0x17890c(0x295)]=null,this[_0x17890c(0x50b)]=new $(u['name']),this[_0x17890c(0x1da)]={},this[_0x17890c(0x6b5)]={},this[_0x17890c(0x813)]={'state':_0x17890c(0x604)},this['storePath']=(0x0,j[_0x17890c(0x14c)])(le,_0x17890c(0x525)),this[_0x17890c(0x3a8)]=new Ls[(_0x17890c(0x56d))](),this['userDevicesCache']=new Ls['default'](),this[_0x17890c(0x2f4)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','connection.update':_0x17890c(0x379),'qrcode.updated':_0x17890c(0x314),'messages.upsert':_0x17890c(0x1af),'send.message':_0x17890c(0x1af),'messages.update':_0x17890c(0x62d),'group.upsert':_0x17890c(0x254),'group.update':_0x17890c(0x254),'group-participants.update':'/wa-groups','messages.set':_0x17890c(0x696),'contacts.set':_0x17890c(0x3b4),'contacts.upsert':_0x17890c(0x3b4),'contacts.update':_0x17890c(0x3b4),'presence.update':_0x17890c(0x30c),'chats.set':_0x17890c(0x6b8),'chats.update':_0x17890c(0x6b8),'chats.upsert':'/wa-chats','chats.delete':_0x17890c(0x6b8)},this[_0x17890c(0x531)]=0x0,this[_0x17890c(0x5ae)]=[],this[_0x17890c(0x3ca)]=0xea60,this[_0x17890c(0x4c6)]=!0x1,this[_0x17890c(0x67a)]={'chats.upsert':async(_0xb8ee1f,_0x1ee89e)=>{const _0x47efa0=_0x17890c;let _0x149bb6=[];for await(let _0x55e968 of _0xb8ee1f)_0x149bb6[_0x47efa0(0x7ef)]({'_id':_0x55e968['id'],'owner':this[_0x47efa0(0x1da)][_0x47efa0(0x177)],'group':_0x55e968['id'][_0x47efa0(0x164)]('@g.us'),'name':_0x55e968[_0x47efa0(0x5c3)]||_0x55e968[_0x47efa0(0x31c)]||null,'contactname':null,'lastmsg':_0x55e968[_0x47efa0(0x53d)]&&_0x55e968[_0x47efa0(0x53d)]['toString']()['length']<0xd?_0x55e968[_0x47efa0(0x53d)]*0x3e8:_0x55e968[_0x47efa0(0x53d)]||null,'archived':_0x55e968[_0x47efa0(0x3d1)]||!0x1,'unreadcount':_0x55e968['unreadCount']||0x0,'ephemeralExpiration':_0x55e968['ephemeralExpiration']||0x0});this[_0x47efa0(0x84b)](_0x47efa0(0x810),_0x149bb6);},'chats.update':async(_0x3712e7,_0x57bc3d)=>{const _0x5d1695=_0x17890c;for(let _0x45c0f4 of _0x3712e7){let _0x27f975={'_id':_0x45c0f4['id'],'owner':this[_0x5d1695(0x1da)]['wuid'],'archived':_0x45c0f4[_0x5d1695(0x3d1)],'muteEndTime':_0x45c0f4['muteEndTime'],'ephemeralExpiration':_0x45c0f4[_0x5d1695(0x4f4)]},_0x4498ac=!0x1,_0x41109c={};_0x27f975[_0x5d1695(0x3d1)]!=null&&(this[_0x5d1695(0x50b)][_0x5d1695(0x213)](this[_0x5d1695(0x297)]+'\x20('+this[_0x5d1695(0x1da)][_0x5d1695(0x177)]+_0x5d1695(0x4b1)+_0x45c0f4['id']+_0x5d1695(0x747)+_0x45c0f4[_0x5d1695(0x3d1)]),_0x4498ac=!0x0,_0x41109c['archived']=_0x45c0f4[_0x5d1695(0x3d1)]),_0x5d1695(0x4e1)in _0x45c0f4&&(this[_0x5d1695(0x50b)][_0x5d1695(0x213)](this[_0x5d1695(0x297)]+'\x20('+this[_0x5d1695(0x1da)][_0x5d1695(0x177)]+_0x5d1695(0x491)+_0x45c0f4['id']+_0x5d1695(0x747)+(_0x45c0f4[_0x5d1695(0x4e1)]??'0')),_0x4498ac=!0x0,_0x41109c[_0x5d1695(0x4e1)]=_0x45c0f4[_0x5d1695(0x4e1)]??0x0),_0x5d1695(0x4f4)in _0x45c0f4&&(this[_0x5d1695(0x50b)][_0x5d1695(0x213)](this[_0x5d1695(0x297)]+'\x20('+this[_0x5d1695(0x1da)][_0x5d1695(0x177)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x45c0f4['id']+_0x5d1695(0x747)+(_0x45c0f4[_0x5d1695(0x4f4)]!==void 0x0?_0x45c0f4[_0x5d1695(0x4f4)]:_0x5d1695(0x509))),_0x41109c[_0x5d1695(0x4f4)]=_0x45c0f4[_0x5d1695(0x4f4)]===null?0x0:_0x45c0f4[_0x5d1695(0x4f4)],_0x4498ac=!0x0);let _0xd5b558;_0x4498ac&&(_0xd5b558=await this[_0x5d1695(0x302)]['chat'][_0x5d1695(0x723)]({'where':{'_id':_0x45c0f4['id']}},_0x41109c,this['instance'][_0x5d1695(0x177)])),_0xd5b558&&F(this['instanceName'],_0x5d1695(0x462),{'chat':_0xd5b558});}},'chats.delete':async _0x4f2c7b=>{const _0x3a152e=_0x17890c;for(let _0x3f6d36 of _0x4f2c7b)if(_0x3f6d36[_0x3a152e(0x164)]('@g.us')){await this[_0x3a152e(0x302)][_0x3a152e(0x628)][_0x3a152e(0x274)]({'where':{'_id':_0x3f6d36}},this['instance'][_0x3a152e(0x177)]);let _0x12e45b={'where':{'key':{'remoteJid':_0x3f6d36}}};await this['repository'][_0x3a152e(0x416)][_0x3a152e(0x274)](_0x12e45b,this[_0x3a152e(0x1da)][_0x3a152e(0x177)]);}else{await this[_0x3a152e(0x302)][_0x3a152e(0x628)][_0x3a152e(0x723)]({'where':{'_id':_0x3f6d36}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']);let _0x4272ff={'where':{'key':{'remoteJid':_0x3f6d36}}};await this[_0x3a152e(0x302)]['message'][_0x3a152e(0x274)](_0x4272ff,this[_0x3a152e(0x1da)][_0x3a152e(0x177)]);}this['sendDataWebhook'](_0x3a152e(0x783),[..._0x4f2c7b]);}},this['contactHandle']={'contacts.upsert':async(_0xcdb60f,_0x172670)=>{const _0x443899=_0x17890c;let _0x43bba2=await this['repository']['contact'][_0x443899(0x6cf)]({'where':{}},this[_0x443899(0x1da)][_0x443899(0x177)]),_0x162afb=[];for await(let _0x43a91b of _0xcdb60f)_0x43bba2[_0x443899(0x6cf)](_0x15624b=>_0x15624b['_id']===_0x43a91b['id'])||_0x162afb['push']({'_id':_0x43a91b['id'],'pushName':_0x43a91b?.[_0x443899(0x5c3)]||_0x43a91b?.[_0x443899(0x58f)],'owner':this[_0x443899(0x1da)][_0x443899(0x177)]});this[_0x443899(0x84b)](_0x443899(0x16e),_0x162afb),await this[_0x443899(0x302)][_0x443899(0x140)][_0x443899(0x2de)](_0x162afb);},'contacts.update':async(_0x515f99,_0x47d51e)=>{const _0x4941a0=_0x17890c;let _0x3ed2d4=[];for await(let _0x367741 of _0x515f99)_0x3ed2d4[_0x4941a0(0x7ef)]({'_id':_0x367741['id'],'pushName':_0x367741?.[_0x4941a0(0x5c3)]??_0x367741?.[_0x4941a0(0x58f)],'owner':this[_0x4941a0(0x1da)][_0x4941a0(0x177)]});this[_0x4941a0(0x84b)](_0x4941a0(0x158),_0x3ed2d4);}},this[_0x17890c(0x2a4)]={'messaging-history.set':async({messages:_0x174fd8,chats:_0x4ac8d2,isLatest:_0x2019ad},_0x51bb51)=>{const _0x4a220b=_0x17890c;if(_0x2019ad){let _0xf7279e=await Promise[_0x4a220b(0x859)](_0x4ac8d2[_0x4a220b(0x614)](async _0x2cf8b7=>({'_id':_0x2cf8b7['id'],'owner':this[_0x4a220b(0x1da)][_0x4a220b(0x177)],'group':_0x2cf8b7['id'][_0x4a220b(0x164)](_0x4a220b(0x748)),'name':_0x2cf8b7[_0x4a220b(0x5c3)]||_0x2cf8b7[_0x4a220b(0x31c)]||_0x2cf8b7[_0x4a220b(0x22b)]||null,'contactname':null,'lastmsg':_0x2cf8b7[_0x4a220b(0x53d)]&&_0x2cf8b7[_0x4a220b(0x53d)][_0x4a220b(0x880)]()['length']<0xd?_0x2cf8b7[_0x4a220b(0x53d)]*0x3e8:_0x2cf8b7[_0x4a220b(0x53d)]||null,'archived':_0x2cf8b7[_0x4a220b(0x3d1)]||!0x1,'unreadcount':_0x2cf8b7[_0x4a220b(0x322)]||0x0,'ephemeralExpiration':_0x2cf8b7[_0x4a220b(0x4f4)]||0x0,'muteEndTime':_0x2cf8b7[_0x4a220b(0x4e1)]||0x0})));this[_0x4a220b(0x84b)]('chats.set',_0xf7279e),await this[_0x4a220b(0x765)](_0xf7279e,_0x51bb51);}let _0x4254b9=[],_0x2244bd=Date[_0x4a220b(0x24f)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2af56d]of Object['entries'](_0x174fd8)){if(_0x2af56d['message']?.[_0x4a220b(0x510)]||_0x2af56d[_0x4a220b(0x416)]?.[_0x4a220b(0x238)]||!_0x2af56d[_0x4a220b(0x416)]||_0x2af56d[_0x4a220b(0x23b)][_0x4a220b(0x309)]===_0x4a220b(0x149)||(ks[_0x4a220b(0x56d)][_0x4a220b(0x6dc)](_0x2af56d?.[_0x4a220b(0x816)])&&(_0x2af56d['messageTimestamp']=_0x2af56d[_0x4a220b(0x816)]?.['toNumber']()),_0x2af56d[_0x4a220b(0x816)]&&_0x2af56d[_0x4a220b(0x816)][_0x4a220b(0x880)]()[_0x4a220b(0x695)]<0xd&&(_0x2af56d[_0x4a220b(0x816)]=_0x2af56d['messageTimestamp']*0x3e8),_0x2af56d['messageTimestamp']<_0x2244bd))continue;let _0x58da84=(0x0,w['normalizeMessageContent'])(_0x2af56d[_0x4a220b(0x416)]),_0x12e1e4=(0x0,w[_0x4a220b(0x230)])(_0x58da84),{message_normalized:_0x3cf0aa}=this[_0x4a220b(0x223)](_0x58da84,_0x12e1e4,null);Object[_0x4a220b(0x73e)](_0x3cf0aa)['length']>0x0&&_0x4254b9[_0x4a220b(0x7ef)]({'_id':_0x2af56d[_0x4a220b(0x23b)]['id'],'key':_0x2af56d['key'],'pushName':_0x2af56d['pushName'],'participant':_0x2af56d[_0x4a220b(0x612)],'message':_0x58da84,'messageType':_0x12e1e4,'message_normalized':{'key':_0x2af56d[_0x4a220b(0x23b)],'pushName':_0x2af56d[_0x4a220b(0x66d)],'messageTimestamp':_0x2af56d[_0x4a220b(0x816)],..._0x3cf0aa},'messageTimestamp':_0x2af56d['messageTimestamp'],'owner':this[_0x4a220b(0x1da)][_0x4a220b(0x177)]});}_0x51bb51[_0x4a220b(0x626)]&&_0x4254b9[_0x4a220b(0x695)]>0x0&&(this['logger'][_0x4a220b(0x213)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x4254b9['length']+'\x20mensagens\x20de\x20'+this[_0x4a220b(0x1da)][_0x4a220b(0x177)]+_0x4a220b(0x4ad)),await this['repository'][_0x4a220b(0x416)]['insert']([..._0x4254b9],this['instance'][_0x4a220b(0x177)])),this['sendDataWebhook'](_0x4a220b(0x893),[..._0x4254b9]),_0x174fd8=void 0x0;},'messages.upsert':async({messages:_0x384350,type:_0x851445},_0x45b5ca)=>{const _0x584e22=_0x17890c;for(let _0x3c1c1f of _0x384350){if(this[_0x584e22(0x6b5)]?.['groups_ignore']&&_0x3c1c1f[_0x584e22(0x23b)]['remoteJid'][_0x584e22(0x592)](_0x584e22(0x748))){this[_0x584e22(0x50b)][_0x584e22(0x213)](this[_0x584e22(0x297)]+'\x20('+this[_0x584e22(0x1da)][_0x584e22(0x177)]+_0x584e22(0x3a6));return;}if(_0x851445!=='notify'||!_0x3c1c1f?.[_0x584e22(0x416)]||_0x3c1c1f['message']?.['protocolMessage']||_0x3c1c1f[_0x584e22(0x416)][_0x584e22(0x238)]||_0x3c1c1f[_0x584e22(0x23b)][_0x584e22(0x309)]===_0x584e22(0x149))return;let _0x54b4d1=null,_0x2e50cf=null;if(_0x3c1c1f[_0x584e22(0x602)]&&_0x3c1c1f['messageStubParameters'][0x0]==='Message\x20absent\x20from\x20node'){console[_0x584e22(0x434)](_0x584e22(0x864)),await this[_0x584e22(0x1dc)](_0x3c1c1f),Lt[_0x3c1c1f['key']['id']]=_0x3c1c1f,this[_0x584e22(0x7d2)](_0x3c1c1f,0x0);return;}Lt[_0x3c1c1f['key']['id']]&&(console[_0x584e22(0x434)](_0x584e22(0x51a)),await this[_0x584e22(0x302)][_0x584e22(0x1cd)][_0x584e22(0x274)]({'where':{'_id':_0x3c1c1f['key']['id']}}),delete Lt[_0x3c1c1f[_0x584e22(0x23b)]['id']]);try{_0x54b4d1=await this[_0x584e22(0x624)](_0x3c1c1f),_0x2e50cf=_0x54b4d1?_0x54b4d1[_0x584e22(0x14c)](','):null;}catch(_0x1ed0ae){this['logger'][_0x584e22(0x213)](this[_0x584e22(0x297)]+'\x20('+this[_0x584e22(0x1da)][_0x584e22(0x177)]+_0x584e22(0x83b)+(_0x1ed0ae instanceof Error?_0x1ed0ae[_0x584e22(0x416)]:JSON['stringify'](_0x1ed0ae,null,0x2))),_0x2e50cf=_0x584e22(0x613);}this['client']['sendPresenceUpdate']('unavailable'),ks['default']['isLong'](_0x3c1c1f[_0x584e22(0x816)])&&(_0x3c1c1f[_0x584e22(0x816)]=_0x3c1c1f[_0x584e22(0x816)]?.['toNumber']()),_0x3c1c1f['messageTimestamp']&&_0x3c1c1f['messageTimestamp']['toString']()[_0x584e22(0x695)]<0xd&&(_0x3c1c1f['messageTimestamp']=_0x3c1c1f[_0x584e22(0x816)]*0x3e8);let _0x241c61=_0x3c1c1f['message'],_0x3c1ef3=(0x0,w[_0x584e22(0x82c)])(_0x241c61),_0x430ce8=(0x0,w[_0x584e22(0x230)])(_0x3c1ef3),{messageContent:_0x1d43b8,message_normalized:_0x5dd4e5}=this['normalizeMessage'](_0x3c1ef3,_0x430ce8,_0x2e50cf);if(_0x430ce8==='protocolMessage'&&_0x1d43b8?.[_0x584e22(0x355)]&&(_0x430ce8=_0x584e22(0x355)),_0x430ce8===_0x584e22(0x337)&&_0x3c1c1f[_0x584e22(0x23b)][_0x584e22(0x3a4)])return;let _0x47566a,_0x1f72a7=_0x3c1c1f['key'][_0x584e22(0x309)]['endsWith'](_0x584e22(0x748));if(_0x3c1c1f[_0x584e22(0x23b)][_0x584e22(0x3a4)])_0x47566a=this[_0x584e22(0x1da)][_0x584e22(0x39a)];else{let _0x23214e=_0x1f72a7?_0x3c1c1f[_0x584e22(0x23b)][_0x584e22(0x612)]:_0x3c1c1f[_0x584e22(0x23b)][_0x584e22(0x309)];_0x47566a=(await this[_0x584e22(0x591)](_0x23214e,_0x3c1c1f[_0x584e22(0x66d)],!0x1))[_0x584e22(0x3e8)][_0x584e22(0x53b)];}let _0x3e0b0d={'_id':_0x3c1c1f['key']['id'],'key':_0x3c1c1f[_0x584e22(0x23b)],'isGroup':_0x1f72a7,'profilePictureUrl':_0x47566a,'pushName':_0x3c1c1f[_0x584e22(0x66d)],'message':_0x3c1ef3,'messageType':_0x430ce8,'message_normalized':{'key':_0x3c1c1f[_0x584e22(0x23b)],'pushName':_0x3c1c1f[_0x584e22(0x66d)],'messageTimestamp':_0x3c1c1f[_0x584e22(0x816)],'source':(0x0,w[_0x584e22(0x666)])(_0x3c1c1f['key']['id']),..._0x5dd4e5},'messageTimestamp':_0x3c1c1f['messageTimestamp'],'owner':this[_0x584e22(0x1da)]['wuid'],'source':(0x0,w[_0x584e22(0x666)])(_0x3c1c1f[_0x584e22(0x23b)]['id']),'expiration':_0x1d43b8?.['contextInfo']?.[_0x584e22(0x586)]||0x0};if(_0x1d43b8||(this[_0x584e22(0x50b)][_0x584e22(0x434)]('Mensagem\x20não\x20suportada'),this['logger'][_0x584e22(0x434)](_0x3e0b0d)),_0x5dd4e5[_0x584e22(0x3c5)]==='${Message\x20absent\x20from\x20node}'){console[_0x584e22(0x434)](_0x584e22(0x29e)),await this[_0x584e22(0x1dc)](_0x3c1c1f);return;}this[_0x584e22(0x50b)][_0x584e22(0x217)](this['instanceName']+'\x20('+this['instance'][_0x584e22(0x177)]+_0x584e22(0x83b)+(_0x3e0b0d[_0x584e22(0x23b)]?.[_0x584e22(0x3a4)]?_0x584e22(0x5e8):'recebido\x20de')+'\x20['+_0x3e0b0d['key']?.['remoteJid'][_0x584e22(0x6a1)](_0x584e22(0x13d),'')+_0x584e22(0x83c)+_0x3e0b0d['messageType']+')'),_0x3e0b0d[_0x584e22(0x488)]?.[_0x584e22(0x3c5)]&&this['logger'][_0x584e22(0x217)](_0x3c1c1f[_0x584e22(0x23b)]['id']+':\x20'+_0x3e0b0d['message_normalized']?.[_0x584e22(0x3c5)]),await this[_0x584e22(0x302)][_0x584e22(0x416)][_0x584e22(0x2de)]([_0x3e0b0d],this[_0x584e22(0x1da)]['wuid']),this['sendDataWebhook'](_0x584e22(0x68f),_0x3e0b0d),F(this[_0x584e22(0x297)],'messages',{'message':_0x3e0b0d}),_0x3c1c1f[_0x584e22(0x23b)]['remoteJid']!==_0x584e22(0x149)&&await this[_0x584e22(0x1b1)](_0x45b5ca,_0x3e0b0d,_0x584e22(0x652));}},'messages.update':async(_0x23bb05,_0x3eccae)=>{const _0x47f287=_0x17890c;let _0x17b9af={0x0:'ERROR',0x1:_0x47f287(0x876),0x2:_0x47f287(0x40e),0x3:_0x47f287(0x4a7),0x4:_0x47f287(0x607),0x5:_0x47f287(0x406)};for await(let {key:_0x59f549,update:_0x2dca18}of _0x23bb05){if(this[_0x47f287(0x6b5)]?.[_0x47f287(0x7c5)]&&_0x59f549[_0x47f287(0x309)]['includes']('@g.us')){this['logger']['verbose'](this[_0x47f287(0x297)]+'\x20('+this[_0x47f287(0x1da)][_0x47f287(0x177)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x59f549[_0x47f287(0x309)]!==_0x47f287(0x149)){let _0x485cb2=Date[_0x47f287(0x24f)](),_0x433119;_0x2dca18['message']===null&&_0x2dca18[_0x47f287(0x405)]===void 0x0?_0x433119=_0x47f287(0x1ed):_0x433119=_0x17b9af[_0x2dca18['status']];let _0x250356=_0x59f549[_0x47f287(0x309)][_0x47f287(0x6a1)](/:\d{1,2}@/g,'@'),_0x332c6b={..._0x59f549,'remoteJid':_0x250356,'status':_0x433119,'datetime':_0x485cb2,'owner':this[_0x47f287(0x1da)][_0x47f287(0x177)]};this[_0x47f287(0x84b)](_0x47f287(0x80d),_0x332c6b),await this[_0x47f287(0x6b3)](_0x59f549,_0x332c6b);}}},'labels.association':async({type:_0x4b2ff5,association:_0x3c6e48})=>{const _0x3d0433=_0x17890c;if(_0x3c6e48['type']===_0x3d0433(0x1f4)){let _0x5dcbfe,_0x276c90=0x0;for(;!_0x5dcbfe&&_0x276c90<this['delayChatLabel_MAX_RETRIES'];)_0x5dcbfe=await this[_0x3d0433(0x302)]['chat'][_0x3d0433(0x41a)]({'where':{'_id':_0x3c6e48[_0x3d0433(0x3c8)]}},this[_0x3d0433(0x1da)][_0x3d0433(0x177)]),_0x5dcbfe||(_0x276c90++,this[_0x3d0433(0x50b)][_0x3d0433(0x4d3)](this['instanceName']+'\x20('+this['instance'][_0x3d0433(0x177)]+'):\x20Chat\x20'+_0x3c6e48[_0x3d0433(0x3c8)]+_0x3d0433(0x7d6)+this[_0x3d0433(0x6fb)]+'ms\x20(tentativa\x20'+_0x276c90+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x3d0433(0x2c9)](this[_0x3d0433(0x6fb)]));if(!_0x5dcbfe){this[_0x3d0433(0x50b)]['error'](_0x3d0433(0x346)+_0x3c6e48['chatId']+_0x3d0433(0x373)+this[_0x3d0433(0x266)]+'\x20tentativas.');return;}switch(_0x4b2ff5){case _0x3d0433(0x574):console['log'](_0x3c6e48),await this['repository'][_0x3d0433(0x628)][_0x3d0433(0x723)]({'where':{'_id':_0x3c6e48[_0x3d0433(0x3c8)]}},{'leadInfo.etiquetas':_0x3c6e48[_0x3d0433(0x7b2)]},this['instance'][_0x3d0433(0x177)],void 0x0,_0x3d0433(0x14f));break;case _0x3d0433(0x6d7):console['log'](_0x3c6e48),await this[_0x3d0433(0x302)][_0x3d0433(0x628)][_0x3d0433(0x723)]({'where':{'_id':_0x3c6e48[_0x3d0433(0x3c8)]}},{'leadInfo.etiquetas':_0x3c6e48[_0x3d0433(0x7b2)]},this['instance'][_0x3d0433(0x177)],void 0x0,'$pull');break;default:this[_0x3d0433(0x50b)][_0x3d0433(0x434)](_0x3d0433(0x3f8)+_0x4b2ff5+']');}}},'labels.edit':async _0x11954b=>{const _0x471fd5=_0x17890c;if(!_0x11954b||!_0x11954b['id']){this[_0x471fd5(0x50b)][_0x471fd5(0x434)](_0x471fd5(0x1a9));return;}if(!_0x11954b[_0x471fd5(0x629)]){let _0x18b390=[_0x471fd5(0x4f8),_0x471fd5(0x5b9),_0x471fd5(0x26c),_0x471fd5(0x5a8),_0x471fd5(0x48e),_0x471fd5(0x527),_0x471fd5(0x428),_0x471fd5(0x55a),_0x471fd5(0x883),_0x471fd5(0x6c8),_0x471fd5(0x5dc),_0x471fd5(0x2d4),_0x471fd5(0x26f),_0x471fd5(0x775),_0x471fd5(0x34f),_0x471fd5(0x33d),'#ffae04','#b4ebff',_0x471fd5(0x54c),'#9568cf'],_0xa584ea;typeof _0x11954b[_0x471fd5(0x87d)]==_0x471fd5(0x4fc)&&_0x11954b[_0x471fd5(0x87d)]>=0x0&&_0x11954b['color']<_0x18b390[_0x471fd5(0x695)]?_0xa584ea=_0x18b390[_0x11954b[_0x471fd5(0x87d)]]:(this[_0x471fd5(0x50b)]['error'](_0x471fd5(0x5d1)+_0x11954b['color']),_0xa584ea=_0x471fd5(0x363));let _0x52a78c={'_id':_0x11954b['id'],'colorHex':_0xa584ea,'color':_0x11954b?.[_0x471fd5(0x87d)],'name':_0x11954b?.[_0x471fd5(0x5c3)],'owner':this[_0x471fd5(0x1da)][_0x471fd5(0x177)]};await this[_0x471fd5(0x302)]['label'][_0x471fd5(0x723)]({'where':{'_id':_0x11954b['id']}},_0x52a78c,this[_0x471fd5(0x1da)][_0x471fd5(0x177)]),this[_0x471fd5(0x50b)][_0x471fd5(0x4d3)](this[_0x471fd5(0x297)]+'\x20('+this[_0x471fd5(0x1da)]['wuid']+_0x471fd5(0x5ef)+_0x11954b);}_0x11954b[_0x471fd5(0x629)]&&(await this['repository'][_0x471fd5(0x40f)][_0x471fd5(0x274)]({'where':{'_id':_0x11954b['id']}},this['instance']['wuid']),this['logger'][_0x471fd5(0x4d3)]('Rótulo\x20deletado:\x27,\x20'+_0x11954b['id']));}},this[_0x17890c(0x328)]={'groups.upsert':async _0x12f243=>{const _0x52a7f1=_0x17890c;this[_0x52a7f1(0x6b5)]?.['groups_ignore']||this[_0x52a7f1(0x84b)]('groups.upsert',_0x12f243);for(let _0xa38faa of _0x12f243)await this['updateGroupWebhook'](_0xa38faa);},'groups.update':async _0x23cbc9=>{const _0x59e394=_0x17890c;this[_0x59e394(0x6b5)]?.['groups_ignore']||this[_0x59e394(0x84b)](_0x59e394(0x77b),_0x23cbc9);for(let _0x55de22 of _0x23cbc9)await this[_0x59e394(0x79a)](_0x55de22);},'group-participants.update':async _0x28c016=>{const _0x121f64=_0x17890c;this['localWebhook']?.[_0x121f64(0x7c5)]||this['sendDataWebhook'](_0x121f64(0x303),_0x28c016),await this[_0x121f64(0x7e4)](_0x28c016);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x17890c(0x2a5)]=0x0,this['processPollUpdateMessage']=async _0x5a3dca=>{const _0x41953b=_0x17890c;if(_0x5a3dca[_0x41953b(0x416)]?.[_0x41953b(0x848)]){let _0x5b8af8=await this[_0x41953b(0x1c9)](_0x5a3dca[_0x41953b(0x416)][_0x41953b(0x848)][_0x41953b(0x424)],!0x0);if(_0x5b8af8){let _0x131b5b=_0x5b8af8[_0x41953b(0x23b)][_0x41953b(0x3a4)]?this[_0x41953b(0x1da)][_0x41953b(0x177)]+'@s.whatsapp.net':_0x5b8af8[_0x41953b(0x23b)][_0x41953b(0x612)]||_0x5b8af8['key'][_0x41953b(0x309)],_0x5bc978=_0x5b8af8['key']['id'],_0x50dc57=_0x5b8af8[_0x41953b(0x416)],_0x441fdb=Buffer[_0x41953b(0x3d3)](_0x50dc57[_0x41953b(0x450)][_0x41953b(0x136)]['toString'](_0x41953b(0x7aa)),'hex'),_0x9c67ed=(0x0,w['decryptPollVote'])(_0x5a3dca['message']['pollUpdateMessage'][_0x41953b(0x726)],{'pollCreatorJid':_0x131b5b,'pollMsgId':_0x5bc978,'pollEncKey':_0x441fdb,'voterJid':_0x5a3dca[_0x41953b(0x23b)]['fromMe']?this[_0x41953b(0x1da)]['wuid']+_0x41953b(0x13d):_0x5a3dca['key']['remoteJid'][_0x41953b(0x164)](_0x41953b(0x414))?_0x5a3dca[_0x41953b(0x23b)][_0x41953b(0x612)]:_0x5a3dca[_0x41953b(0x23b)]['remoteJid']}),_0x5a441d=[],_0x12c608=_0x9c67ed[_0x41953b(0x374)][_0x41953b(0x614)](_0x52e5c3=>Buffer[_0x41953b(0x3d3)](_0x52e5c3)[_0x41953b(0x880)]('hex'));for(let {optionName:_0x48e67f}of _0x50dc57[_0x41953b(0x5b4)]?.[_0x41953b(0x1a5)]||_0x50dc57[_0x41953b(0x5b2)]?.[_0x41953b(0x1a5)]||_0x50dc57[_0x41953b(0x72a)]?.[_0x41953b(0x1a5)])_0x12c608[_0x41953b(0x1aa)]((0x0,w['sha256'])(Buffer[_0x41953b(0x3d3)](_0x48e67f))[_0x41953b(0x880)](_0x41953b(0x7aa)))>-0x1&&_0x5a441d['push'](_0x48e67f);return _0x5a441d;}}return null;},this[_0x17890c(0x223)]=(_0x15180c,_0x36f4be,_0x2be772)=>{const _0xa95a45=_0x17890c;try{let _0x1111d4=_0x15180c?(0x0,w[_0xa95a45(0x244)])(_0x15180c)[_0x36f4be]:void 0x0,_0x10b484={},_0x5961aa=null,_0x305e43=null,_0x56f3a1=null,_0x1b0000=null;_0x36f4be===_0xa95a45(0x510)&&_0x1111d4?.[_0xa95a45(0x355)]&&(_0x36f4be=(0x0,w[_0xa95a45(0x230)])(_0x1111d4[_0xa95a45(0x355)]),_0x5961aa=_0x15180c[_0xa95a45(0x510)][_0xa95a45(0x23b)]['id'],_0x1111d4=_0x15180c[_0xa95a45(0x510)][_0xa95a45(0x355)][_0x36f4be]),_0x15180c[_0x36f4be]?.['contextInfo']?.[_0xa95a45(0x58d)]&&_0x15180c[_0x36f4be]?.[_0xa95a45(0x2fc)]?.[_0xa95a45(0x843)]&&(_0x305e43=_0x15180c[_0x36f4be][_0xa95a45(0x2fc)]['stanzaId']),_0x15180c[_0xa95a45(0x6ec)]&&(_0x56f3a1=_0x15180c[_0xa95a45(0x6ec)][_0xa95a45(0x23b)]['id']);let _0x1ecd19;if(_0x1111d4&&typeof _0x1111d4=='object'&&_0xa95a45(0x424)in _0x1111d4&&({pollCreationMessageKey:_0x1ecd19}=_0x1111d4),_0x36f4be==='pollCreationMessage'||_0x36f4be===_0xa95a45(0x72a)||_0x36f4be===_0xa95a45(0x5b2)){let _0x4c1437=_0x1111d4[_0xa95a45(0x1a5)]['map'](_0x2a1635=>_0x2a1635['optionName'])[_0xa95a45(0x14c)]('|');_0x10b484[_0xa95a45(0x3f7)]=_0x4c1437;}if(_0x36f4be===_0xa95a45(0x337)){let _0x1f35d1=_0x1111d4['nativeFlowMessage'][_0xa95a45(0x594)][_0xa95a45(0x614)](_0x1fd682=>JSON[_0xa95a45(0x2ef)](_0x1fd682[_0xa95a45(0x76a)])[_0xa95a45(0x878)])[_0xa95a45(0x14c)]('|');_0x10b484[_0xa95a45(0x3f7)]=_0x1f35d1;}_0x36f4be===_0xa95a45(0x161)&&(_0x10b484[_0xa95a45(0x231)]=_0x1111d4?.[_0xa95a45(0x684)]?.[_0xa95a45(0x2ee)]);let _0x29b76c='';if(_0x1111d4&&(_0x29b76c+=_0x1111d4[_0xa95a45(0x5c3)]?_0x1111d4[_0xa95a45(0x5c3)]:'',_0x29b76c+=_0x1111d4[_0xa95a45(0x51d)]?'\x20'+_0x1111d4['caption']:'',_0x29b76c+=_0x1111d4[_0xa95a45(0x2a2)]?'\x20'+_0x1111d4[_0xa95a45(0x2a2)]:'',_0x29b76c+=_0x1111d4[_0xa95a45(0x31c)]?'\x20'+_0x1111d4['displayName']:'',_0x36f4be!=='interactiveResponseMessage'&&(_0x29b76c+=_0x1111d4[_0xa95a45(0x71e)]?.[_0xa95a45(0x3c5)]?'\x20'+_0x1111d4[_0xa95a45(0x71e)][_0xa95a45(0x3c5)]:''),_0x29b76c+=_0x1111d4?.[_0xa95a45(0x6ce)]?.[_0xa95a45(0x3c5)]?'\x20'+_0x1111d4?.['footer']?.[_0xa95a45(0x3c5)]:''),_0x36f4be==='listMessage'){_0x29b76c=(_0x1111d4[_0xa95a45(0x20a)]||'')+'\x0a'+(_0x1111d4[_0xa95a45(0x8a4)]||'')+'\x0a'+(_0x1111d4['footerText']||'');let _0x33de59=this['sectionsToString'](_0x1111d4[_0xa95a45(0x869)]);_0x10b484[_0xa95a45(0x3f7)]=_0x33de59;}if(_0x36f4be===_0xa95a45(0x161)&&(_0x2be772=_0x1111d4[_0xa95a45(0x20a)],_0x1b0000=_0x1111d4?.[_0xa95a45(0x684)]?.['selectedRowId']),_0x36f4be===_0xa95a45(0x484)&&(_0x2be772=_0x1111d4?.[_0xa95a45(0x71e)]?.[_0xa95a45(0x3c5)]),_0x36f4be===_0xa95a45(0x752)&&(_0x2be772=_0x1111d4?.['selectedDisplayText'],_0x1b0000=_0x1111d4?.[_0xa95a45(0x29b)]),_0x1111d4&&_0x1111d4['vcard']){let _0x508e4c=this[_0xa95a45(0x2ac)](JSON[_0xa95a45(0x5ad)](_0x1111d4['vcard'],null,0x2));_0x29b76c=_0x29b76c+'\x0a'+_0x508e4c;}if(_0x1111d4){let {nativeFlowResponseMessage:_0x1254ec,selectedId:_0x3831f8,selectedDisplayText:_0x59df18,selectedIndex:_0x17cf02,body:_0x5bf45c,nativeFlowMessage:_0x1602bc,singleSelectReply:_0x1d229d,sections:_0x19858f,listType:_0x39661,displayName:_0x6a2746,vcard:_0x9b9174,contactVcard:_0x18ac89,name:_0x2b2241,caption:_0x30d65c,conversation:_0x5bbab7,pollCreationMessageKey:_0x244034,footerText:_0x471ba8,contentText:_0x42bd68,pageCount:_0x35097a,headerType:_0x1130c8,isAvatar:_0x1fd9bb,isAnimated:_0x494341,fallbackLc:_0x1848ef,fallbackLg:_0x115a8c,namespace:_0x2fc05f,elementName:_0x2246ca,localizableParams:_0x51fe62,viewOnce:_0x1302d0,height:_0x48daeb,width:_0x50e5e1,key:_0x1df368,firstScanLength:_0x241b9a,firstScanSidecar:_0x301d69,gifPlayback:_0x161ba1,gifAttribution:_0xd0ebf3,midQualityFileSha256:_0x294540,scansSidecar:_0x16af91,streamingSidecar:_0x2956e8,thumbnailHeight:_0x5a9cd3,thumbnailWidth:_0xb7079b,thumbnailEncSha256:_0x2cd356,thumbnailDirectPath:_0x5464e0,canonicalUrl:_0x344fe8,matchedText:_0x4588e3,previewType:_0x640b0e,thumbnailSha256:_0x5ab01c,deviceListMetadataVersion:_0x485c3d,inviteLinkGroupTypeV2:_0x1c28bf,interactiveAnnotations:_0x1649a9,scanLengths:_0x2087a3,jpegThumbnail:_0xc29554,url:_0x531640,mediaKeyTimestamp:_0xaa5bd9,waveform:_0x1e9589,stickerSentTs:_0x53756a,firstFrameLength:_0x2d9269,fileEncSha256:_0x3b5b3f,contextInfo:_0x571171,firstFrameSidecar:_0x50e7cc,directPath:_0x17b74d,fileSha256:_0x29f342,mediaKey:_0x55ee83,senderTimestampMs:_0x9ea259,..._0x3897a2}=_0x1111d4;(_0x36f4be===_0xa95a45(0x63a)||_0x36f4be===_0xa95a45(0x161))&&(delete _0x3897a2['title'],delete _0x3897a2[_0xa95a45(0x8a4)]),typeof _0x1111d4==_0xa95a45(0x6d9)?_0x10b484={'text':_0x1111d4,'type':_0x36f4be||_0xa95a45(0x2a2),..._0x5961aa&&{'edited':_0x5961aa},..._0x305e43&&{'quoted':_0x305e43},..._0x56f3a1&&{'reaction':_0x56f3a1}}:_0x10b484={'text':_0x29b76c,..._0x3897a2,..._0x36f4be===_0xa95a45(0x848)?{'poll_id':_0x1111d4[_0xa95a45(0x424)]['id'],'quoted':_0x1111d4[_0xa95a45(0x424)]['id'],'vote':_0x2be772}:{},..._0x36f4be==='listResponseMessage'?{'buttonOrList_id':_0x1b0000,'vote':_0x2be772}:{},..._0x36f4be===_0xa95a45(0x484)?{'vote':_0x2be772}:{},..._0x36f4be===_0xa95a45(0x752)?{'buttonOrList_id':_0x1b0000,'vote':_0x2be772}:{},'type':_0x36f4be,..._0x5961aa&&{'edited':_0x5961aa},..._0x305e43&&{'quoted':_0x305e43},..._0x56f3a1&&{'reaction':_0x56f3a1},...(_0x36f4be==='pollCreationMessage'||_0x36f4be==='pollCreationMessageV2'||_0x36f4be===_0xa95a45(0x5b2)||_0x36f4be===_0xa95a45(0x63a)||_0x36f4be==='interactiveMessage')&&{'convertedOptions':_0x10b484[_0xa95a45(0x3f7)]}};}return{'messageType':_0x36f4be,'messageContent':_0x1111d4,'message_normalized':_0x10b484};}catch(_0x27f54b){return this[_0xa95a45(0x50b)]['error'](_0xa95a45(0x15f)+_0x27f54b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x17890c(0x699)]=[],(this[_0x17890c(0x169)](),this[_0x17890c(0x66b)](),this[_0x17890c(0x1da)]['qrcode']={'count':0x0},this[_0x17890c(0x1da)][_0x17890c(0x385)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x4d879b){const _0x2a1f4b=a0_0x43466e;if(!_0x4d879b){this[_0x2a1f4b(0x1da)][_0x2a1f4b(0x5c3)]=(0x0,Ii['v4'])();return;}this[_0x2a1f4b(0x1da)][_0x2a1f4b(0x5c3)]=_0x4d879b,this[_0x2a1f4b(0x84b)](_0x2a1f4b(0x524),{'instance':this[_0x2a1f4b(0x1da)][_0x2a1f4b(0x5c3)],'status':_0x2a1f4b(0x5c5)});}get[a0_0x43466e(0x297)](){const _0x3cad42=a0_0x43466e;return this['instance'][_0x3cad42(0x5c3)];}get[a0_0x43466e(0x177)](){const _0x4693f3=a0_0x43466e;return this['instance'][_0x4693f3(0x177)];}async[a0_0x43466e(0x46d)](){const _0x4deaad=a0_0x43466e;let _0x4db53e=this[_0x4deaad(0x1a2)][_0x4deaad(0x331)]?.[_0x4deaad(0x5c3)]??this['client'][_0x4deaad(0x331)]?.[_0x4deaad(0x58f)];if(!_0x4db53e){if(this[_0x4deaad(0x609)][_0x4deaad(0x5e9)](_0x4deaad(0x1ec))[_0x4deaad(0x626)]){let _0x58357c=await I[_0x4deaad(0x182)]()['db'](this[_0x4deaad(0x609)][_0x4deaad(0x5e9)](_0x4deaad(0x1ec))[_0x4deaad(0x20f)][_0x4deaad(0x5d0)]+_0x4deaad(0x575))[_0x4deaad(0x79f)](this['instanceName'])['findOne']({'_id':_0x4deaad(0x4f6)});if(_0x58357c){let _0x39d128=JSON[_0x4deaad(0x2ef)](JSON[_0x4deaad(0x5ad)](_0x58357c),w[_0x4deaad(0x790)][_0x4deaad(0x30b)]);_0x4db53e=_0x39d128['me']?.[_0x4deaad(0x5c3)]||_0x39d128['me']?.[_0x4deaad(0x58f)];}}else{if((0x0,Le[_0x4deaad(0x4d8)])((0x0,j[_0x4deaad(0x14c)])(Se,this[_0x4deaad(0x297)],_0x4deaad(0x521)))){let _0x3f060a=JSON[_0x4deaad(0x2ef)]((0x0,Le[_0x4deaad(0x6d8)])((0x0,j['join'])(Se,this[_0x4deaad(0x297)],_0x4deaad(0x521)),{'encoding':_0x4deaad(0x8a0)}));_0x4db53e=_0x3f060a['me']?.['name']||_0x3f060a['me']?.[_0x4deaad(0x58f)];}}}return _0x4db53e;}get[a0_0x43466e(0x39a)](){const _0x3f90eb=a0_0x43466e;return this['instance'][_0x3f90eb(0x39a)];}get[a0_0x43466e(0x3be)](){const _0x2fc022=a0_0x43466e;return this['instance']['qrcode']?.[_0x2fc022(0x262)]?{'pairingCode':this[_0x2fc022(0x1da)][_0x2fc022(0x886)]?.[_0x2fc022(0x262)]}:{'code':this['instance']['qrcode']?.[_0x2fc022(0x3ba)],'base64':this[_0x2fc022(0x1da)][_0x2fc022(0x886)]?.['base64']};}async[a0_0x43466e(0x50c)](){const _0x1dcdb4=a0_0x43466e;let _0xceffea=await this['repository'][_0x1dcdb4(0x1b8)][_0x1dcdb4(0x6cf)](this[_0x1dcdb4(0x297)]);this[_0x1dcdb4(0x6b5)]['url']=_0xceffea?.[_0x1dcdb4(0x5ea)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x1eb)]=_0xceffea?.[_0x1dcdb4(0x1eb)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x658)]=_0xceffea?.[_0x1dcdb4(0x658)],this['localWebhook'][_0x1dcdb4(0x40b)]=_0xceffea?.[_0x1dcdb4(0x40b)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x364)]=_0xceffea?.[_0x1dcdb4(0x364)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x236)]=_0xceffea?.[_0x1dcdb4(0x236)],this[_0x1dcdb4(0x6b5)]['MESSAGES_UPSERT']=_0xceffea?.['MESSAGES_UPSERT'],this[_0x1dcdb4(0x6b5)]['MESSAGES_UPDATE']=_0xceffea?.[_0x1dcdb4(0x3ac)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x1e1)]=_0xceffea?.[_0x1dcdb4(0x1e1)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x312)]=_0xceffea?.[_0x1dcdb4(0x312)],this['localWebhook'][_0x1dcdb4(0x529)]=_0xceffea?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x504)]=_0xceffea?.['CHATS_SET'],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x24c)]=_0xceffea?.[_0x1dcdb4(0x24c)],this[_0x1dcdb4(0x6b5)]['CHATS_UPDATE']=_0xceffea?.[_0x1dcdb4(0x233)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x28b)]=_0xceffea?.[_0x1dcdb4(0x28b)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x502)]=_0xceffea?.[_0x1dcdb4(0x502)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x65d)]=_0xceffea?.[_0x1dcdb4(0x65d)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x2ae)]=_0xceffea?.[_0x1dcdb4(0x2ae)],this['localWebhook'][_0x1dcdb4(0x371)]=_0xceffea?.['PRESENCE_UPDATE'],this['localWebhook']['MESSAGES_SET']=_0xceffea?.[_0x1dcdb4(0x7f0)],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x460)]=_0xceffea?.['CONNECTION_UPDATE'],this[_0x1dcdb4(0x6b5)][_0x1dcdb4(0x7c5)]=_0xceffea?.[_0x1dcdb4(0x7c5)];}async[a0_0x43466e(0x4ae)](_0x25780a){const _0x4cdfcc=a0_0x43466e;let _0x12921a=['_id',_0x4cdfcc(0x5ea),_0x4cdfcc(0x1eb),_0x4cdfcc(0x658),'STATUS_INSTANCE','QRCODE_UPDATED',_0x4cdfcc(0x3ac),'MESSAGES_UPSERT',_0x4cdfcc(0x236),'GROUPS_UPSERT',_0x4cdfcc(0x312),_0x4cdfcc(0x529),_0x4cdfcc(0x504),_0x4cdfcc(0x24c),_0x4cdfcc(0x233),_0x4cdfcc(0x28b),_0x4cdfcc(0x502),_0x4cdfcc(0x65d),_0x4cdfcc(0x2ae),_0x4cdfcc(0x371),_0x4cdfcc(0x7f0),_0x4cdfcc(0x460),_0x4cdfcc(0x7c5)],_0x3bd136={};return _0x12921a['forEach'](_0x5115c1=>{_0x25780a[_0x5115c1]!==void 0x0&&(_0x3bd136[_0x5115c1]=_0x25780a[_0x5115c1]);}),_0x3bd136[_0x4cdfcc(0x5ea)]&&(_0x3bd136[_0x4cdfcc(0x5ea)]=_0x3bd136[_0x4cdfcc(0x5ea)]['trim']()),await this['repository'][_0x4cdfcc(0x1b8)][_0x4cdfcc(0x80b)](_0x3bd136,this[_0x4cdfcc(0x297)]),Object[_0x4cdfcc(0x1e5)](this[_0x4cdfcc(0x6b5)],_0x3bd136),await this[_0x4cdfcc(0x302)][_0x4cdfcc(0x1b8)][_0x4cdfcc(0x6cf)](this['instanceName']);}async[a0_0x43466e(0x417)](){const _0x4a45db=a0_0x43466e;return await this[_0x4a45db(0x302)]['webhook'][_0x4a45db(0x6cf)](this[_0x4a45db(0x297)]);}async[a0_0x43466e(0x84b)](_0xb3da91,_0x3482e0){const _0x506c67=a0_0x43466e;let _0x2288ef=_0xb3da91[_0x506c67(0x6a1)](/[\.-]/gm,'_')[_0x506c67(0x143)](),_0x259ac5=this[_0x506c67(0x6b5)]['enabled']&&(0x0,J[_0x506c67(0x336)])(this['localWebhook'][_0x506c67(0x5ea)])?this[_0x506c67(0x6b5)]['url']+(this[_0x506c67(0x6b5)][_0x506c67(0x658)]?this[_0x506c67(0x737)][_0xb3da91]:''):null,_0x27eb76=this[_0x506c67(0x6b5)][_0x2288ef],_0x4d1506=he&&he[_0x506c67(0x1eb)]&&(0x0,J['isURL'])(he[_0x506c67(0x5ea)])?he['url']+(he[_0x506c67(0x658)]?this[_0x506c67(0x737)][_0xb3da91]:''):null,_0x105c77=he?he[_0x2288ef]:null;if(_0x27eb76&&_0x259ac5)try{await Q['default'][_0x506c67(0x80b)]({'baseURL':_0x259ac5})[_0x506c67(0x34b)]('',{'event':_0xb3da91,'instance':this[_0x506c67(0x1da)][_0x506c67(0x5c3)],'apikey':this[_0x506c67(0x1da)][_0x506c67(0x899)],'data':_0x3482e0}),this[_0x506c67(0x50b)][_0x506c67(0x217)](this[_0x506c67(0x297)]+'\x20('+this[_0x506c67(0x1da)][_0x506c67(0x177)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0xb3da91+':\x20'+_0x259ac5);}catch{this[_0x506c67(0x50b)][_0x506c67(0x434)](this['instanceName']+'\x20('+this[_0x506c67(0x1da)][_0x506c67(0x177)]+_0x506c67(0x243)+_0xb3da91+':\x20'+_0x259ac5);}if(_0x105c77&&_0x4d1506)try{await Q['default'][_0x506c67(0x80b)]({'baseURL':_0x4d1506})[_0x506c67(0x34b)]('',{'event':_0xb3da91,'instance':this[_0x506c67(0x1da)][_0x506c67(0x5c3)],'apikey':this[_0x506c67(0x1da)][_0x506c67(0x899)],'data':_0x3482e0}),this[_0x506c67(0x50b)]['log'](this[_0x506c67(0x297)]+'\x20('+this[_0x506c67(0x1da)][_0x506c67(0x177)]+_0x506c67(0x241)+_0xb3da91+':\x20'+_0x4d1506);}catch{this[_0x506c67(0x50b)][_0x506c67(0x434)](this[_0x506c67(0x297)]+'\x20('+this[_0x506c67(0x1da)][_0x506c67(0x177)]+_0x506c67(0x79e)+_0xb3da91+':\x20'+_0x4d1506);}}async['connectionUpdate']({qr:_0x48063e,connection:_0x270a69,lastDisconnect:_0x25aa89}){const _0x496866=a0_0x43466e;if(_0x48063e){if(this[_0x496866(0x1da)][_0x496866(0x886)][_0x496866(0x1ab)]===ko)return this['sendDataWebhook'](_0x496866(0x245),{'message':_0x496866(0x796),'statusCode':w[_0x496866(0x7db)][_0x496866(0x513)]}),this[_0x496866(0x813)]={'state':'refused','statusReason':w[_0x496866(0x7db)][_0x496866(0x857)]},this[_0x496866(0x84b)](_0x496866(0x757),{'instance':this[_0x496866(0x1da)]['name'],...this['stateConnection']}),this[_0x496866(0x84b)](_0x496866(0x524),{'instance':this[_0x496866(0x1da)][_0x496866(0x5c3)],'status':'removed'}),this[_0x496866(0x302)][_0x496866(0x1c5)][_0x496866(0x274)](this[_0x496866(0x1da)]['name']),this[_0x496866(0x2f4)]=!0x0,ae[_0x496866(0x58b)](B,this[_0x496866(0x1da)][_0x496866(0x5c3)]),this['eventEmitter'][_0x496866(0x3cd)](_0x496866(0x377),this[_0x496866(0x1da)][_0x496866(0x5c3)]);this[_0x496866(0x1da)]['qrcode'][_0x496866(0x1ab)]++;let _0x8f7b51={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x496866(0x3bc),'dark':_0x496866(0x363)}};Ti[_0x496866(0x56d)]['toDataURL'](_0x48063e,_0x8f7b51,(_0x834042,_0x4d3c90)=>{const _0x28fa42=_0x496866;if(_0x834042){this[_0x28fa42(0x50b)][_0x28fa42(0x434)](this['instanceName']+'\x20('+this[_0x28fa42(0x1da)][_0x28fa42(0x177)]+_0x28fa42(0x6be)+(_0x834042 instanceof Error?_0x834042['message']:JSON[_0x28fa42(0x5ad)](_0x834042,null,0x2)));return;}this[_0x28fa42(0x1da)][_0x28fa42(0x886)][_0x28fa42(0x30f)]=_0x4d3c90,this['instance'][_0x28fa42(0x886)][_0x28fa42(0x3ba)]=_0x48063e,!this[_0x28fa42(0x74d)]&&this[_0x28fa42(0x84b)](_0x28fa42(0x245),{'qrcode':{'instance':this[_0x28fa42(0x1da)][_0x28fa42(0x5c3)],'pairingCode':this[_0x28fa42(0x1da)][_0x28fa42(0x886)][_0x28fa42(0x262)],'code':_0x48063e,'base64':_0x4d3c90}});}),this[_0x496866(0x74d)]?this[_0x496866(0x1da)][_0x496866(0x886)]['pairingCode']||(await(0x0,w['delay'])(0x7d0),this[_0x496866(0x1da)][_0x496866(0x886)][_0x496866(0x262)]=await this[_0x496866(0x1a2)][_0x496866(0x88a)](this[_0x496866(0x74d)])):this[_0x496866(0x1da)][_0x496866(0x886)][_0x496866(0x262)]=null,_i['default'][_0x496866(0x190)](_0x48063e,{'small':!0x0},_0x44fd4=>this['logger'][_0x496866(0x217)](_0x496866(0x753)+this[_0x496866(0x1da)]['name']+_0x496866(0x805)+this[_0x496866(0x1da)][_0x496866(0x886)][_0x496866(0x1ab)]+_0x496866(0x341)+this[_0x496866(0x1da)][_0x496866(0x886)][_0x496866(0x262)]+_0x496866(0x376)+_0x44fd4));}if(_0x270a69&&(this[_0x496866(0x813)]={'state':_0x270a69,'statusReason':_0x25aa89?.['error']?.[_0x496866(0x467)]?.[_0x496866(0x3fc)]??0xc8},this[_0x496866(0x84b)](_0x496866(0x757),{'instance':this[_0x496866(0x1da)][_0x496866(0x5c3)],...this[_0x496866(0x813)]})),_0x270a69===_0x496866(0x604)){if(this[_0x496866(0x531)]++,this['reconnectTimestamps']['push'](Date['now']()),this[_0x496866(0x5ae)]=this[_0x496866(0x5ae)][_0x496866(0x71f)](_0x1b7969=>Date[_0x496866(0x24f)]()-_0x1b7969<this[_0x496866(0x3ca)]),_0x25aa89[_0x496866(0x434)]?.[_0x496866(0x467)]?.[_0x496866(0x3fc)]!==w[_0x496866(0x7db)]['loggedOut']){let _0x58e435=this['reconnectAttempts']<=0x1?0x0:Math[_0x496866(0x86f)](Math[_0x496866(0x2f8)](0x2,this['reconnectAttempts']-0x1)*0x3e8,0x493e0);console['log'](this[_0x496866(0x297)]+_0x496866(0x1f9)+this[_0x496866(0x531)]+_0x496866(0x435)+_0x58e435/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x3bcc4f=>setTimeout(_0x3bcc4f,_0x58e435)),console[_0x496866(0x217)](_0x496866(0x448)),await this['connectToWhatsapp']();}else{this[_0x496866(0x84b)](_0x496866(0x524),{'instance':this[_0x496866(0x1da)][_0x496866(0x5c3)],'status':_0x496866(0x771)}),this[_0x496866(0x1da)]['ScheduleMessage'][_0x496866(0x782)]=!0x1,this[_0x496866(0x302)][_0x496866(0x1b8)][_0x496866(0x274)](this['instanceName']),this[_0x496866(0x302)][_0x496866(0x1c5)][_0x496866(0x80b)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x496866(0x24f)]()},this[_0x496866(0x1da)][_0x496866(0x5c3)]),ae[_0x496866(0x58b)](B,this[_0x496866(0x1da)][_0x496866(0x5c3)]);try{this[_0x496866(0x50b)][_0x496866(0x213)](this[_0x496866(0x297)]+'\x20('+this[_0x496866(0x1da)][_0x496866(0x177)]+_0x496866(0x356));let _0x561a4f=await this['repository'][_0x496866(0x416)][_0x496866(0x17c)](this['instance'][_0x496866(0x177)]);_0x561a4f[_0x496866(0x2e9)]?this['logger'][_0x496866(0x213)](this[_0x496866(0x297)]+'\x20('+this[_0x496866(0x1da)][_0x496866(0x177)]+_0x496866(0x87a)):this['logger']['error'](_0x496866(0x54d)+_0x561a4f[_0x496866(0x434)]);}catch(_0x3c65d5){this['logger'][_0x496866(0x434)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x3c65d5[_0x496866(0x416)]);}this[_0x496866(0x1da)]['ScheduleMessage'][_0x496866(0x258)]!==null&&(this[_0x496866(0x50b)][_0x496866(0x213)](this['instanceName']+'\x20('+this[_0x496866(0x1da)]['wuid']+_0x496866(0x1b7)),clearInterval(this['instance']['ScheduleMessage'][_0x496866(0x258)]),this[_0x496866(0x1da)]['ScheduleMessage'][_0x496866(0x258)]=null),this[_0x496866(0x50b)][_0x496866(0x213)](this['instanceName']+'\x20('+this[_0x496866(0x1da)][_0x496866(0x177)]+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0x496866(0x2fe)][_0x496866(0x3cd)](_0x496866(0x4d4),this[_0x496866(0x1da)][_0x496866(0x5c3)],_0x496866(0x7a3)),this[_0x496866(0x1a2)]?.['ws']?.[_0x496866(0x604)](),this[_0x496866(0x1a2)]['end'](new Error('Close\x20connection'));}}if(_0x270a69===_0x496866(0x76d)){this[_0x496866(0x50b)][_0x496866(0x677)](this[_0x496866(0x297)]+'\x20('+this[_0x496866(0x1da)][_0x496866(0x177)]+_0x496866(0x4bc)+this[_0x496866(0x1a2)][_0x496866(0x821)][_0x496866(0x4f6)]?.[_0x496866(0x7e5)]),this['client'][_0x496866(0x821)][_0x496866(0x4f6)]?.['myAppStateKeyId']||(this['logger']['warn'](this[_0x496866(0x297)]+'\x20('+this[_0x496866(0x1da)][_0x496866(0x177)]+'):\x20ev.flush\x20realizado'),this['client']['ev'][_0x496866(0x6f4)]()),this['resetReconnectionVariables'],this[_0x496866(0x1da)][_0x496866(0x177)]=this['client'][_0x496866(0x331)]['id'][_0x496866(0x6a1)](/:\d+/,'')[_0x496866(0x6a1)](_0x496866(0x13d),''),this[_0x496866(0x1da)][_0x496866(0x39a)]=(await this['profilePicture'](this[_0x496866(0x1da)][_0x496866(0x177)]+_0x496866(0x13d)))[_0x496866(0x39a)],this[_0x496866(0x302)][_0x496866(0x1c5)][_0x496866(0x80b)]({'online':!0x0,'owner':this[_0x496866(0x1da)][_0x496866(0x177)],'lastDisconnect':null},this['instance'][_0x496866(0x5c3)]);let _0x1647af='Número:\x20'+this[_0x496866(0x1da)]['wuid'],_0x27160d=0x28,_0x42caef=Math[_0x496866(0x27d)]((_0x27160d-_0x1647af[_0x496866(0x695)])/0x2),_0x429c02='\x20'[_0x496866(0x8a7)](_0x42caef),_0x277283=_0x496866(0x795),_0x496c9e=_0x496866(0x7c7)+this[_0x496866(0x1da)]['name'],_0x220df8=(''+_0x429c02+_0x1647af+_0x429c02)[_0x496866(0x799)](_0x27160d,'\x20'),_0x10bfeb=(''+_0x429c02+_0x277283+_0x429c02)[_0x496866(0x799)](_0x27160d,'\x20'),_0x32d769=(''+_0x429c02+_0x496c9e+_0x429c02)[_0x496866(0x799)](_0x27160d,'\x20'),_0x144960=Math[_0x496866(0x3af)](_0x220df8[_0x496866(0x695)],_0x10bfeb[_0x496866(0x695)],_0x32d769[_0x496866(0x695)]),_0x33246d=_0x220df8[_0x496866(0x799)](_0x144960,'\x20'),_0x935369=_0x10bfeb[_0x496866(0x799)](_0x144960,'\x20'),_0xa534d5=_0x32d769[_0x496866(0x799)](_0x144960,'\x20');this[_0x496866(0x50b)]['info']((_0x496866(0x716)+'─'['repeat'](_0x144960)+_0x496866(0x3dc)+_0x935369+_0x496866(0x1de)+_0xa534d5+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x33246d+_0x496866(0x1ff)+'─'['repeat'](_0x144960)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x496866(0x807)](),this[_0x496866(0x1da)][_0x496866(0x385)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x53a3f3=a0_0x43466e;this[_0x53a3f3(0x531)]=0x0,this[_0x53a3f3(0x5ae)]=[];}async[a0_0x43466e(0x1c9)](_0x2631b4,_0x1c17e9=!0x1){const _0x520a2a=a0_0x43466e;try{let _0x1a0ff1=await this[_0x520a2a(0x302)]['message'][_0x520a2a(0x6cf)]({'where':{'_id':_0x2631b4['id']}},this[_0x520a2a(0x1da)][_0x520a2a(0x177)]);return _0x1c17e9?_0x1a0ff1[0x0]:_0x1a0ff1[0x0][_0x520a2a(0x416)];}catch{return{'conversation':''};}}[a0_0x43466e(0x169)](){const _0x1f094d=a0_0x43466e;let _0x376d2a=this['configService'][_0x1f094d(0x5e9)](_0x1f094d(0x44a)),_0x165a20=this['configService'][_0x1f094d(0x5e9)]('DATABASE');_0x376d2a?.[_0x1f094d(0x692)]&&!_0x165a20['ENABLED']&&setInterval(()=>{const _0x3de101=_0x1f094d;try{for(let [_0x2eb6d4,_0x3e05bc]of Object[_0x3de101(0x7c1)](_0x376d2a))_0x3e05bc===!0x0&&(0x0,Fe[_0x3de101(0x532)])(_0x3de101(0x735)+(0x0,j[_0x3de101(0x14c)])(this[_0x3de101(0x84a)],_0x2eb6d4[_0x3de101(0x7a5)](),this['instance'][_0x3de101(0x177)])+'/*.json');}catch{}},(_0x376d2a?.[_0x1f094d(0x692)]??0xe10)*0x3e8);}async[a0_0x43466e(0x49f)](){const _0x19c121=a0_0x43466e;let _0x4f23f4=this[_0x19c121(0x609)][_0x19c121(0x5e9)](_0x19c121(0x1ec)),_0x2d2f16=this[_0x19c121(0x609)][_0x19c121(0x5e9)](_0x19c121(0x581));return _0x2d2f16?.[_0x19c121(0x626)]?await Os(_0x2d2f16,this[_0x19c121(0x1da)][_0x19c121(0x5c3)]):_0x4f23f4[_0x19c121(0x626)]?await _s(this[_0x19c121(0x1da)][_0x19c121(0x5c3)]):await(0x0,w[_0x19c121(0x19c)])((0x0,j[_0x19c121(0x14c)])(Se,this[_0x19c121(0x1da)][_0x19c121(0x5c3)]));}async['AutomateFunctions'](){const _0xc6cca8=a0_0x43466e;let _0x47ced2=()=>Math['floor'](Math[_0xc6cca8(0x68a)]()*0x4e21)+0x7d0,_0x5369f2=async()=>{const _0x51e3a2=_0xc6cca8;if(!this[_0x51e3a2(0x1da)][_0x51e3a2(0x385)][_0x51e3a2(0x782)]){this[_0x51e3a2(0x50b)][_0x51e3a2(0x213)](this[_0x51e3a2(0x297)]+'\x20('+this[_0x51e3a2(0x1da)]['wuid']+_0x51e3a2(0x643)),this[_0x51e3a2(0x4c6)]=!0x1;return;}if(this['instance']['wuid']&&this[_0x51e3a2(0x295)]&&this[_0x51e3a2(0x1da)][_0x51e3a2(0x385)][_0x51e3a2(0x258)]!==null&&this[_0x51e3a2(0x1da)]['ScheduleMessage'][_0x51e3a2(0x258)]!==void 0x0){let _0x183f5d=Math['round'](this[_0x51e3a2(0x1da)][_0x51e3a2(0x385)]['delayMessage']/0xea60);this[_0x51e3a2(0x50b)]['verbose'](this['instanceName']+'\x20('+this[_0x51e3a2(0x1da)][_0x51e3a2(0x177)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x183f5d+'\x20minutos\x20verificará\x20novas\x20mensagens'),this['isRunning']=!0x1;return;}else this[_0x51e3a2(0x1da)][_0x51e3a2(0x177)]&&(this[_0x51e3a2(0x50b)][_0x51e3a2(0x213)](this[_0x51e3a2(0x297)]+'\x20('+this[_0x51e3a2(0x1da)]['wuid']+_0x51e3a2(0x47b)),this['AutomateSystem']||(await this[_0x51e3a2(0x868)](),this['findRealGroups'](),this[_0x51e3a2(0x568)]()),(this['instance'][_0x51e3a2(0x385)][_0x51e3a2(0x258)]===null||this[_0x51e3a2(0x1da)][_0x51e3a2(0x385)][_0x51e3a2(0x258)]===void 0x0)&&await this[_0x51e3a2(0x579)]());if(this[_0x51e3a2(0x4c6)]){let _0x1f865b=_0x47ced2();this[_0x51e3a2(0x50b)]['verbose'](this[_0x51e3a2(0x297)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x1f865b/0x3e8+'\x20segundos'),setTimeout(_0x5369f2,_0x1f865b);}};if(this[_0xc6cca8(0x4c6)])return;this[_0xc6cca8(0x4c6)]=!0x0;let _0x851209=_0x47ced2();setTimeout(_0x5369f2,_0x851209);}async[a0_0x43466e(0x568)](){const _0x1ddd38=a0_0x43466e;let _0x2224cb=this[_0x1ddd38(0x1da)][_0x1ddd38(0x177)];try{let _0x4d7349=await this[_0x1ddd38(0x302)]['flow']['findAll']({'where':{'$or':[{'owner':_0x2224cb},{'whoCanUse':{'$in':[_0x2224cb]}},{'shareOwners':{'$in':[_0x2224cb]}}]}}),_0x533b00=new Map(this[_0x1ddd38(0x295)]['flows'][_0x1ddd38(0x614)](_0xd46df7=>[_0xd46df7[_0x1ddd38(0x1e0)],_0xd46df7])),_0x26b8e3=_0x4d7349['map'](_0x17b67b=>{const _0x57d740=_0x1ddd38;let _0x4e3a16=_0x533b00['get'](_0x17b67b[_0x57d740(0x1e0)]?.['toString']());return{'_id':_0x17b67b['_id']?.['toString'](),'name':_0x4e3a16?.[_0x57d740(0x5c3)]??_0x17b67b[_0x57d740(0x5c3)],'default':_0x4e3a16?.[_0x57d740(0x56d)]??_0x17b67b[_0x57d740(0x56d)]??!0x1,'startCommand':_0x4e3a16?.['startCommand']??_0x17b67b[_0x57d740(0x146)],'minutesToClose':_0x4e3a16?.[_0x57d740(0x86c)]??_0x17b67b[_0x57d740(0x86c)]??0xa,'readMessages':_0x4e3a16?.[_0x57d740(0x3c3)]??_0x17b67b[_0x57d740(0x3c3)]??!0x1,'testingWith':_0x4e3a16?.['testingWith']??_0x17b67b[_0x57d740(0x3c6)],'canEdit':_0x17b67b[_0x57d740(0x27c)]===_0x2224cb||(_0x17b67b[_0x57d740(0x168)]??[])[_0x57d740(0x592)](_0x2224cb),'usersCount':(_0x17b67b[_0x57d740(0x885)]??[])['length']??0x0};}),_0x16330b=!0x1;_0x26b8e3[_0x1ddd38(0x663)](_0x20e69d=>{const _0x5d6adc=_0x1ddd38;_0x20e69d[_0x5d6adc(0x56d)]&&(_0x16330b?_0x20e69d[_0x5d6adc(0x56d)]=!0x1:_0x16330b=!0x0);}),this[_0x1ddd38(0x295)][_0x1ddd38(0x674)]=_0x26b8e3;let _0x507582={'flows':_0x26b8e3};return await this[_0x1ddd38(0x302)][_0x1ddd38(0x2fb)][_0x1ddd38(0x211)](_0x507582,_0x2224cb),this[_0x1ddd38(0x50b)]['verbose'](this[_0x1ddd38(0x297)]+'\x20('+_0x2224cb+_0x1ddd38(0x75b)),_0x26b8e3[_0x1ddd38(0x695)];}catch(_0x74466e){return this[_0x1ddd38(0x50b)][_0x1ddd38(0x434)](this[_0x1ddd38(0x297)]+'\x20('+_0x2224cb+_0x1ddd38(0x6ab)+(_0x74466e instanceof Error?_0x74466e[_0x1ddd38(0x416)]:JSON[_0x1ddd38(0x5ad)](_0x74466e,null,0x2))),{'message':_0x1ddd38(0x1f2)+(_0x74466e instanceof Error?_0x74466e[_0x1ddd38(0x416)]:JSON['stringify'](_0x74466e,null,0x2))};}}async['connectToWhatsapp'](_0x3f5799){const _0x4adae1=a0_0x43466e;try{let _0x1d61c1=await this[_0x4adae1(0x302)]['instance'][_0x4adae1(0x41a)]({'where':{'_id':B+'-'+this[_0x4adae1(0x297)]}}),_0x4a4033,_0x30d4d5=!ae[_0x4adae1(0x425)]||!ae[_0x4adae1(0x195)];console[_0x4adae1(0x217)](_0x4adae1(0x447)),console['log'](_0x4adae1(0x52a),Ai),console[_0x4adae1(0x217)]('this.reconnectAttempts:\x20',this[_0x4adae1(0x531)]),console[_0x4adae1(0x217)](_0x4adae1(0x447)),Ai&&!_0x30d4d5&&(this[_0x4adae1(0x531)]<0x4||!this[_0x4adae1(0x531)]?_0x1d61c1&&_0x1d61c1['ip']?(_0x4a4033=_0x1d61c1['ip'],console[_0x4adae1(0x217)](_0x4adae1(0x7d9)+_0x4a4033)):(_0x4a4033=await ae['createIPv6'](B,this[_0x4adae1(0x1da)][_0x4adae1(0x5c3)]),_0x4a4033?(console[_0x4adae1(0x217)]('Novo\x20IP\x20criado:\x20'+_0x4a4033),await(0x0,w[_0x4adae1(0x2d2)])(0x7d0)):console[_0x4adae1(0x434)]('Falha\x20ao\x20criar\x20IPv6.')):this[_0x4adae1(0x531)]<0x6&&(await ae[_0x4adae1(0x58b)](B,this['instance'][_0x4adae1(0x5c3)]),console[_0x4adae1(0x217)](_0x4adae1(0x4db)),_0x4a4033=await ae[_0x4adae1(0x60b)](B,this['instance'][_0x4adae1(0x5c3)]),_0x4a4033?(console[_0x4adae1(0x217)]('Novo\x20IP\x20criado:\x20'+_0x4a4033),await(0x0,w[_0x4adae1(0x2d2)])(0x7d0)):console[_0x4adae1(0x434)](_0x4adae1(0x32d)))),this[_0x4adae1(0x50c)](),this[_0x4adae1(0x1da)][_0x4adae1(0x899)]=(await this[_0x4adae1(0x302)]['auth'][_0x4adae1(0x6cf)](this['instance']['name']))[_0x4adae1(0x899)],this[_0x4adae1(0x1da)]['authState']=await this[_0x4adae1(0x49f)]();let {version:_0x58b8c5}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x3000ca=[xi,Fs,(0x0,Ds[_0x4adae1(0x34c)])()],_0xc933b2={'localAddress':_0x4a4033,'auth':{'creds':this[_0x4adae1(0x1da)][_0x4adae1(0x821)][_0x4adae1(0x1c7)][_0x4adae1(0x4f6)],'keys':(0x0,w[_0x4adae1(0x759)])(this['instance'][_0x4adae1(0x821)]['state'][_0x4adae1(0x73e)],(0x0,Ft['default'])({'level':_0x4adae1(0x434)}))},'logger':(0x0,Ft['default'])({'level':_0x4adae1(0x434)}),'printQRInTerminal':!0x1,'browser':_0x3f5799?[_0x4adae1(0x445),Fs,(0x0,Ds[_0x4adae1(0x34c)])()]:_0x3000ca,'version':_0x58b8c5,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x585cfa=>{const _0x4d5339=_0x4adae1;let _0x45378a=this['localWebhook']?.[_0x4d5339(0x7c5)]&&(0x0,w[_0x4d5339(0x806)])(_0x585cfa);return(0x0,w[_0x4d5339(0x43f)])(_0x585cfa)||_0x45378a;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x4e87ef=>await this[_0x4adae1(0x1c9)](_0x4e87ef),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x4adae1(0x4f7)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x4115bd){const _0x210d02=_0x4adae1;return _0x4115bd['deviceSentMessage']?.[_0x210d02(0x416)]?.['listMessage']?.['listType']===w[_0x210d02(0x265)]['Message'][_0x210d02(0x2e1)][_0x210d02(0x76e)][_0x210d02(0x6d6)]&&(_0x4115bd=JSON[_0x210d02(0x2ef)](JSON[_0x210d02(0x5ad)](_0x4115bd)),_0x4115bd[_0x210d02(0x3ae)][_0x210d02(0x416)][_0x210d02(0x63a)][_0x210d02(0x617)]=w[_0x210d02(0x265)][_0x210d02(0x1e6)][_0x210d02(0x2e1)][_0x210d02(0x76e)][_0x210d02(0x27e)]),_0x4115bd[_0x210d02(0x63a)]?.[_0x210d02(0x617)]==w[_0x210d02(0x265)]['Message'][_0x210d02(0x2e1)][_0x210d02(0x76e)]['PRODUCT_LIST']&&(_0x4115bd=JSON['parse'](JSON[_0x210d02(0x5ad)](_0x4115bd)),_0x4115bd[_0x210d02(0x63a)]['listType']=w['proto'][_0x210d02(0x1e6)]['ListMessage'][_0x210d02(0x76e)]['SINGLE_SELECT']),_0x4115bd;}};return this['endSession']=!0x1,this['client']=(0x0,w[_0x4adae1(0x56d)])(_0xc933b2),this[_0x4adae1(0x3cc)](),this[_0x4adae1(0x74d)]=_0x3f5799,this[_0x4adae1(0x1a2)];}catch(_0x27ace6){let _0x42b3b8=_0x4adae1(0x6bb),_0x215964=_0x27ace6 instanceof Error?_0x27ace6[_0x4adae1(0x416)]:typeof _0x27ace6==_0x4adae1(0x6eb)?JSON['stringify'](_0x27ace6):_0x27ace6,_0xe7c464=_0x42b3b8+':\x20'+_0x215964;throw this[_0x4adae1(0x50b)][_0x4adae1(0x434)](this[_0x4adae1(0x297)]+'\x20('+this[_0x4adae1(0x1da)]['wuid']+_0x4adae1(0x83b)+_0xe7c464),console[_0x4adae1(0x434)]('Detalhes\x20do\x20erro:',_0x27ace6),_0x27ace6 instanceof Error&&console[_0x4adae1(0x434)](_0x4adae1(0x280),_0x27ace6[_0x4adae1(0x20b)]),new x(_0xe7c464);}}[a0_0x43466e(0x3cc)](){const _0x45796f=a0_0x43466e;this[_0x45796f(0x1a2)]['ev'][_0x45796f(0x55e)](_0x2821eb=>{const _0x287e77=_0x45796f;if(!this['endSession']){let _0x184ed5=this[_0x287e77(0x609)][_0x287e77(0x5e9)](_0x287e77(0x1ec));if(_0x2821eb[_0x287e77(0x686)]){let _0x11bec6=_0x2821eb['labels.edit'];this['messageHandle'][_0x287e77(0x686)](_0x11bec6);}if(_0x2821eb[_0x287e77(0x7d0)]){let _0x168b62=_0x2821eb[_0x287e77(0x7d0)];this[_0x287e77(0x2a4)]['labels.association'](_0x168b62);}if(_0x2821eb[_0x287e77(0x757)]&&this[_0x287e77(0x37c)](_0x2821eb['connection.update']),_0x2821eb[_0x287e77(0x299)]&&this[_0x287e77(0x1da)][_0x287e77(0x821)][_0x287e77(0x7eb)](),_0x2821eb['messaging-history.set']){let _0x485c4c=_0x2821eb['messaging-history.set'];this[_0x287e77(0x2a4)][_0x287e77(0x659)](_0x485c4c,_0x184ed5);}if(_0x2821eb[_0x287e77(0x68f)]){let _0x160b09=_0x2821eb[_0x287e77(0x68f)];this['messageHandle'][_0x287e77(0x68f)](_0x160b09,_0x184ed5);}if(_0x2821eb[_0x287e77(0x80d)]){let _0xbb8905=_0x2821eb[_0x287e77(0x80d)];this[_0x287e77(0x2a4)]['messages.update'](_0xbb8905,_0x184ed5);}if(_0x2821eb[_0x287e77(0x7b9)]){let _0x3c2927=_0x2821eb[_0x287e77(0x7b9)];if(this['localWebhook']?.[_0x287e77(0x7c5)]&&_0x3c2927['id'][_0x287e77(0x592)](_0x287e77(0x748)))return;this[_0x287e77(0x84b)]('presence.update',_0x3c2927);}if(_0x2821eb[_0x287e77(0x19f)]){let _0x81c82b=_0x2821eb[_0x287e77(0x19f)];this[_0x287e77(0x328)][_0x287e77(0x19f)](_0x81c82b);}if(_0x2821eb[_0x287e77(0x77b)]){let _0x534b6b=_0x2821eb[_0x287e77(0x77b)];this[_0x287e77(0x328)]['groups.update'](_0x534b6b);}if(_0x2821eb[_0x287e77(0x303)]){let _0x31821e=_0x2821eb['group-participants.update'];this[_0x287e77(0x328)][_0x287e77(0x303)](_0x31821e);}if(_0x2821eb[_0x287e77(0x810)]){let _0x216c95=_0x2821eb[_0x287e77(0x810)];this['chatHandle'][_0x287e77(0x810)](_0x216c95,_0x184ed5);}if(_0x2821eb[_0x287e77(0x6e4)]){let _0x32033b=_0x2821eb[_0x287e77(0x6e4)];this[_0x287e77(0x67a)]['chats.update'](_0x32033b,_0x184ed5);}if(_0x2821eb[_0x287e77(0x783)]){let _0x38c1d6=_0x2821eb[_0x287e77(0x783)];this['chatHandle'][_0x287e77(0x783)](_0x38c1d6);}if(_0x2821eb[_0x287e77(0x16e)]){let _0x1e2a2d=_0x2821eb['contacts.upsert'];this['contactHandle'][_0x287e77(0x16e)](_0x1e2a2d,_0x184ed5);}if(_0x2821eb['contacts.update']){let _0x4f1a7a=_0x2821eb[_0x287e77(0x158)];this['contactHandle'][_0x287e77(0x158)](_0x4f1a7a,_0x184ed5);}}});}async[a0_0x43466e(0x7d2)](_0x4cbd7b,_0x2a106c){const _0xdca1ad=a0_0x43466e;if(_0x2a106c>=0xa){console[_0xdca1ad(0x434)](this[_0xdca1ad(0x297)]+'\x20('+this[_0xdca1ad(0x1da)][_0xdca1ad(0x177)]+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Lt[_0x4cbd7b[_0xdca1ad(0x23b)]['id']];return;}try{console[_0xdca1ad(0x434)](this[_0xdca1ad(0x297)]+'\x20('+this[_0xdca1ad(0x1da)]['wuid']+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x2a106c+0x1)),await this[_0xdca1ad(0x1a2)][_0xdca1ad(0x1b3)](JSON['parse'](_0x4cbd7b[_0xdca1ad(0x602)][0x1],w['BufferJSON'][_0xdca1ad(0x30b)])),console[_0xdca1ad(0x434)](_0xdca1ad(0x680));}catch(_0x4aade4){console['error'](this[_0xdca1ad(0x297)]+'\x20('+this[_0xdca1ad(0x1da)]['wuid']+_0xdca1ad(0x7f2)+_0x4aade4),setTimeout(()=>this[_0xdca1ad(0x7d2)](_0x4cbd7b,_0x2a106c+0x1),Math[_0xdca1ad(0x2f8)](0x2,_0x2a106c)*0x3e8);}}async[a0_0x43466e(0x1dc)](_0x91269f){const _0xe6c0b=a0_0x43466e;let _0x282ddb=_0x91269f['key']['remoteJid'][_0xe6c0b(0x164)]('@g.us'),_0x31a5e4;if(_0x91269f[_0xe6c0b(0x23b)]['fromMe'])_0x31a5e4=this[_0xe6c0b(0x1da)]['profilePictureUrl'];else{let _0x323e52=_0x282ddb?_0x91269f[_0xe6c0b(0x23b)][_0xe6c0b(0x612)]:_0x91269f['key'][_0xe6c0b(0x309)];_0x31a5e4=(await this[_0xe6c0b(0x591)](_0x323e52,_0x91269f[_0xe6c0b(0x66d)],!0x1))[_0xe6c0b(0x3e8)][_0xe6c0b(0x53b)];}let _0x47643d={'_id':_0x91269f[_0xe6c0b(0x23b)]['id'],'key':_0x91269f[_0xe6c0b(0x23b)],'isGroup':_0x282ddb,'profilePictureUrl':_0x31a5e4,'pushName':_0x91269f[_0xe6c0b(0x66d)],'message':{'text':_0xe6c0b(0x71c)},'messageType':_0xe6c0b(0x434),'message_normalized':{'key':_0x91269f[_0xe6c0b(0x23b)],'pushName':_0x91269f['pushName'],'messageTimestamp':_0x91269f[_0xe6c0b(0x816)],'source':(0x0,w[_0xe6c0b(0x666)])(_0x91269f[_0xe6c0b(0x23b)]['id']),'text':_0xe6c0b(0x71c)},'messageTimestamp':_0x91269f[_0xe6c0b(0x816)],'owner':this[_0xe6c0b(0x1da)][_0xe6c0b(0x177)],'source':(0x0,w[_0xe6c0b(0x666)])(_0x91269f[_0xe6c0b(0x23b)]['id'])};this[_0xe6c0b(0x50b)][_0xe6c0b(0x434)](this['instanceName']+'\x20('+this[_0xe6c0b(0x1da)][_0xe6c0b(0x177)]+_0xe6c0b(0x83b)+(_0x47643d['key']?.[_0xe6c0b(0x3a4)]?_0xe6c0b(0x5e8):_0xe6c0b(0x5e1))+'\x20['+_0x47643d[_0xe6c0b(0x23b)]?.['remoteJid']['replace'](_0xe6c0b(0x13d),'')+_0xe6c0b(0x83c)+_0x47643d['messageType']+')'),_0x47643d[_0xe6c0b(0x488)]?.[_0xe6c0b(0x3c5)]&&this[_0xe6c0b(0x50b)][_0xe6c0b(0x434)](_0x91269f[_0xe6c0b(0x23b)]['id']+':\x20'+_0x47643d[_0xe6c0b(0x488)]?.[_0xe6c0b(0x3c5)]),await this[_0xe6c0b(0x302)][_0xe6c0b(0x416)][_0xe6c0b(0x2de)]([_0x47643d],this[_0xe6c0b(0x1da)][_0xe6c0b(0x177)]),await this[_0xe6c0b(0x302)][_0xe6c0b(0x1cd)]['insert']([_0x47643d]),this[_0xe6c0b(0x84b)](_0xe6c0b(0x68f),_0x47643d),F(this[_0xe6c0b(0x297)],_0xe6c0b(0x22a),{'message':_0x47643d});}[a0_0x43466e(0x2c9)](_0x5c82e8){return new Promise(_0x4af61e=>setTimeout(_0x4af61e,_0x5c82e8));}[a0_0x43466e(0x791)](_0x1d2ca4){const _0x19fc98=a0_0x43466e;_0x1d2ca4=_0x1d2ca4[_0x19fc98(0x6a1)](/\D/g,'');let _0x570003=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x19fc98(0x778)](_0x1d2ca4);if(_0x570003&&_0x570003[0x1]==='55'){let _0x12156d=_0x570003[0x2],_0x484103=_0x570003[0x3],_0x46184d=_0x570003[0x4];if(parseInt(_0x12156d)>=0x1f&&_0x484103==='9')return _0x570003[0x1]+_0x12156d+_0x46184d;}return _0x1d2ca4;}['createJid'](_0x241cb3){const _0x874edd=a0_0x43466e;return _0x241cb3[_0x874edd(0x592)](_0x874edd(0x748))||_0x241cb3['includes']('@s.whatsapp.net')||_0x241cb3[_0x874edd(0x592)]('@broadcast')?_0x241cb3:(_0x241cb3=_0x241cb3?.[_0x874edd(0x6a1)](/\s/g,'')[_0x874edd(0x6a1)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')[_0x874edd(0x380)](/\:/)[0x0]['split']('@')[0x0],_0x241cb3[_0x874edd(0x695)]>=0x12?(_0x241cb3=_0x241cb3[_0x874edd(0x6a1)](/[^\d-]/g,''),_0x241cb3+_0x874edd(0x748)):(_0x241cb3=_0x241cb3['replace'](/\D/g,''),_0x241cb3+_0x874edd(0x13d)));}async[a0_0x43466e(0x88b)](_0x2e669e){const _0x37a201=a0_0x43466e;let _0x27b130=(await this[_0x37a201(0x42f)]({'numbers':[_0x2e669e[_0x37a201(0x4fc)]]}))[0x0];if(!_0x27b130[_0x37a201(0x7cf)]&&!(0x0,w[_0x37a201(0x806)])(_0x27b130[_0x37a201(0x6f1)])&&!_0x27b130[_0x37a201(0x6f1)][_0x37a201(0x592)]('@broadcast'))throw new m(_0x27b130);let _0x291045=_0x27b130[_0x37a201(0x6f1)];try{return await this[_0x37a201(0x1a2)][_0x37a201(0x2c3)](_0x291045),await this[_0x37a201(0x1a2)][_0x37a201(0x49c)](_0x2e669e['presence'],_0x291045),{'status':0xc8,'presence':_0x2e669e[_0x37a201(0x6f8)]};}catch(_0x4c39ee){let _0xf94483=_0x37a201(0x5c4),_0x3a82d2=_0x4c39ee instanceof Error?_0x4c39ee[_0x37a201(0x416)]:typeof _0x4c39ee==_0x37a201(0x6eb)?JSON[_0x37a201(0x5ad)](_0x4c39ee):_0x4c39ee,_0x42cc12=_0xf94483+':\x20'+_0x3a82d2;throw this[_0x37a201(0x50b)][_0x37a201(0x434)](this['instanceName']+'\x20('+this[_0x37a201(0x1da)][_0x37a201(0x177)]+'):\x20'+_0x42cc12),new m(_0x42cc12);}}async[a0_0x43466e(0x591)](_0x10c75c,_0x167d30,_0x1b9c3d,_0x38624f=!0x0){const _0x9a95ec=a0_0x43466e;let _0x3e95be=await this[_0x9a95ec(0x302)]['cacheContact'][_0x9a95ec(0x41a)]({'where':{'_id':_0x10c75c}});if(!_0x3e95be&&!_0x38624f)return;let _0x4d4537={'lastUpdate':Date[_0x9a95ec(0x24f)]()};if(_0x1b9c3d||!_0x3e95be?.[_0x9a95ec(0x4bd)]||Date['now']()-_0x3e95be['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x36fd99=(await this[_0x9a95ec(0x3e6)](_0x10c75c))[_0x9a95ec(0x39a)];_0x4d4537[_0x9a95ec(0x53b)]=_0x36fd99;}catch(_0x525664){let _0x443687='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x45e370=_0x525664 instanceof Error?_0x525664[_0x9a95ec(0x416)]:typeof _0x525664=='object'?JSON[_0x9a95ec(0x5ad)](_0x525664):_0x525664,_0x2e0405=_0x443687+':\x20'+_0x45e370;throw this[_0x9a95ec(0x50b)]['error'](this[_0x9a95ec(0x297)]+'\x20('+this[_0x9a95ec(0x1da)][_0x9a95ec(0x177)]+'):\x20'+_0x2e0405),new m(_0x2e0405);}return _0x167d30&&_0x3e95be?.[_0x9a95ec(0x5c3)]!==_0x167d30&&(_0x4d4537[_0x9a95ec(0x5c3)]=_0x167d30),Object[_0x9a95ec(0x73e)](_0x4d4537)[_0x9a95ec(0x695)]>0x1&&(_0x3e95be?await this[_0x9a95ec(0x302)][_0x9a95ec(0x890)][_0x9a95ec(0x211)]({'where':{'_id':_0x10c75c}},_0x4d4537):await this[_0x9a95ec(0x302)][_0x9a95ec(0x890)][_0x9a95ec(0x2de)]([{'_id':_0x10c75c,..._0x4d4537}]),_0x3e95be={..._0x3e95be,..._0x4d4537}),{'cachedContact':_0x3e95be};}async[a0_0x43466e(0x3e6)](_0x5428e6){const _0x22d027=a0_0x43466e;let _0x3b1e78=this[_0x22d027(0x443)](_0x5428e6);try{return{'wuid':_0x3b1e78,'profilePictureUrl':await this[_0x22d027(0x1a2)][_0x22d027(0x39a)](_0x3b1e78,_0x22d027(0x3c1))};}catch{return{'wuid':_0x3b1e78,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x2509b6,_0x539cb7,_0x3737b6){const _0x5d9eb2=a0_0x43466e;let _0x3d9d8e;try{let _0x4ce041=(await this[_0x5d9eb2(0x42f)]({'numbers':[_0x2509b6]}))?.[_0x5d9eb2(0x6ee)]();if(!_0x4ce041[_0x5d9eb2(0x7cf)]&&!(0x0,w['isJidGroup'])(_0x4ce041[_0x5d9eb2(0x6f1)])&&!_0x4ce041[_0x5d9eb2(0x6f1)][_0x5d9eb2(0x592)]('@broadcast'))throw new m(_0x4ce041);_0x3d9d8e=_0x4ce041[_0x5d9eb2(0x6f1)];}catch(_0x5c15cc){_0x3d9d8e=_0x2509b6,this[_0x5d9eb2(0x50b)][_0x5d9eb2(0x677)](this[_0x5d9eb2(0x297)]+'\x20('+this[_0x5d9eb2(0x1da)][_0x5d9eb2(0x177)]+'):\x20error:\x20'+_0x5c15cc[_0x5d9eb2(0x416)]),this[_0x5d9eb2(0x50b)][_0x5d9eb2(0x677)](this['instanceName']+'\x20('+this[_0x5d9eb2(0x1da)][_0x5d9eb2(0x177)]+_0x5d9eb2(0x176)+_0x3d9d8e);}try{if(_0x3d9d8e||(_0x3d9d8e=_0x2509b6,this[_0x5d9eb2(0x50b)][_0x5d9eb2(0x677)](this[_0x5d9eb2(0x297)]+'\x20('+this[_0x5d9eb2(0x1da)][_0x5d9eb2(0x177)]+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x3d9d8e)),_0x3737b6||(_0x3737b6={}),_0x3737b6?.['delay']){await this['client'][_0x5d9eb2(0x2c3)](_0x3d9d8e),await this[_0x5d9eb2(0x1a2)][_0x5d9eb2(0x49c)](_0x3737b6?.['presence']??_0x5d9eb2(0x824),_0x3d9d8e);let _0x2924da=Math[_0x5d9eb2(0x86f)](_0x3737b6['delay'],0x2710);await(0x0,w['delay'])(_0x2924da),await this[_0x5d9eb2(0x1a2)][_0x5d9eb2(0x49c)](_0x5d9eb2(0x2f7),_0x3d9d8e);}let _0x4efd4d=_0x3737b6?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x1e0c8f;if(_0x3737b6?.[_0x5d9eb2(0x598)]){let _0xd633f7=_0x3737b6?.['quoted'],_0x4230d6=_0xd633f7?.[_0x5d9eb2(0x416)]?_0xd633f7:await this[_0x5d9eb2(0x1c9)](_0xd633f7[_0x5d9eb2(0x23b)],!0x0);_0x4230d6&&(_0x1e0c8f=_0x4230d6);}let _0x1ceeaf=await this[_0x5d9eb2(0x302)]['chat'][_0x5d9eb2(0x41a)]({'where':{'_id':_0x3d9d8e}},this[_0x5d9eb2(0x1da)][_0x5d9eb2(0x177)]),_0x246139,_0x2f305f=null;if((0x0,w[_0x5d9eb2(0x806)])(_0x3d9d8e))try{if(_0x2f305f=_0x1ceeaf[_0x5d9eb2(0x64f)],!_0x2f305f)throw new U(_0x5d9eb2(0x6ca));if(!_0x2f305f[_0x5d9eb2(0x706)])throw new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo');_0x3737b6?.[_0x5d9eb2(0x422)]&&(_0x3737b6['mentions']?.[_0x5d9eb2(0x455)]?_0x246139=_0x2f305f[_0x5d9eb2(0x5d3)][_0x5d9eb2(0x614)](_0xf0c261=>_0xf0c261['id']):_0x3737b6[_0x5d9eb2(0x422)]?.[_0x5d9eb2(0x457)]?.[_0x5d9eb2(0x695)]&&(_0x246139=_0x3737b6['mentions']['mentioned'][_0x5d9eb2(0x614)](_0x39d8e9=>{const _0x51657c=_0x5d9eb2;let _0x69cbf0=this[_0x51657c(0x443)](_0x39d8e9);return(0x0,w[_0x51657c(0x806)])(_0x69cbf0)?null:_0x69cbf0;})));}catch(_0x47ba23){throw _0x47ba23 instanceof U?new U(_0x5d9eb2(0x6ca)):_0x47ba23 instanceof m?new m(_0x5d9eb2(0x85b)):new Error(_0x5d9eb2(0x548));}let _0x5efd1b=await((async()=>{const _0xe0dd4=_0x5d9eb2;let _0x80a2d9={'quoted':_0x1e0c8f,'ephemeralExpiration':_0x1ceeaf?.[_0xe0dd4(0x4f4)]??0x0};if(!_0x539cb7[_0xe0dd4(0x1e4)]&&!_0x539cb7[_0xe0dd4(0x3f9)]&&!_0x539cb7[_0xe0dd4(0x32f)]&&!_0x539cb7[_0xe0dd4(0x2a2)]&&_0x3d9d8e!==_0xe0dd4(0x149)&&_0x539cb7[_0xe0dd4(0x6ec)])return await this[_0xe0dd4(0x1a2)]['sendMessage'](_0x3d9d8e,{'react':{'text':_0x539cb7[_0xe0dd4(0x6ec)][_0xe0dd4(0x3c5)],'key':_0x539cb7[_0xe0dd4(0x6ec)][_0xe0dd4(0x23b)]}},_0x80a2d9);if(_0x539cb7[_0xe0dd4(0x2a2)]){let _0x23ccf5=_0x539cb7[_0xe0dd4(0x2a2)];return _0x3737b6?.['changeVariables']&&(_0x23ccf5=await this[_0xe0dd4(0x2eb)](_0x23ccf5,_0x3d9d8e)),await this[_0xe0dd4(0x1a2)][_0xe0dd4(0x80c)](_0x3d9d8e,{'text':_0x23ccf5,'mentions':_0x246139,'linkPreview':_0x4efd4d},_0x80a2d9);}return!_0x539cb7[_0xe0dd4(0x1e4)]&&!_0x539cb7[_0xe0dd4(0x3f9)]&&_0x3d9d8e!=_0xe0dd4(0x149)?await this['client'][_0xe0dd4(0x80c)](_0x3d9d8e,{'forward':{'key':{'remoteJid':this[_0xe0dd4(0x1da)][_0xe0dd4(0x177)],'fromMe':!0x0},'message':_0x539cb7},'mentions':_0x246139},_0x80a2d9):_0x3d9d8e===_0xe0dd4(0x149)?await this[_0xe0dd4(0x1a2)][_0xe0dd4(0x80c)](_0x3d9d8e,_0x539cb7[_0xe0dd4(0x405)][_0xe0dd4(0x55b)],{'backgroundColor':_0x539cb7[_0xe0dd4(0x405)][_0xe0dd4(0x350)][_0xe0dd4(0x22f)],'font':_0x539cb7[_0xe0dd4(0x405)]['option'][_0xe0dd4(0x86a)],'statusJidList':_0x539cb7[_0xe0dd4(0x405)][_0xe0dd4(0x350)]['statusJidList']}):await this[_0xe0dd4(0x1a2)]['sendMessage'](_0x3d9d8e,_0x539cb7,_0x80a2d9);})()),_0x5c702c=(0x0,w[_0x5d9eb2(0x82c)])(_0x5efd1b['message']),_0xcbcf75=(0x0,w[_0x5d9eb2(0x230)])(_0x5c702c),{message_normalized:_0x5e710a}=this[_0x5d9eb2(0x223)](_0x5c702c,_0xcbcf75,null),_0x224e0c={'_id':_0x5efd1b[_0x5d9eb2(0x23b)]['id'],'key':_0x5efd1b[_0x5d9eb2(0x23b)],'pushName':_0x5efd1b[_0x5d9eb2(0x66d)],'isGroup':_0x5efd1b[_0x5d9eb2(0x23b)][_0x5d9eb2(0x309)]['endsWith'](_0x5d9eb2(0x748)),'profilePictureUrl':this['instance']['profilePictureUrl'],'message':_0x5c702c,'messageType':_0xcbcf75,'message_normalized':{'key':_0x5efd1b[_0x5d9eb2(0x23b)],'pushName':_0x5efd1b[_0x5d9eb2(0x66d)],'messageTimestamp':_0x5efd1b[_0x5d9eb2(0x816)]&&_0x5efd1b['messageTimestamp'][_0x5d9eb2(0x880)]()[_0x5d9eb2(0x695)]<0xd?_0x5efd1b[_0x5d9eb2(0x816)]*0x3e8:_0x5efd1b['messageTimestamp']||null,'source':(0x0,w[_0x5d9eb2(0x666)])(_0x5efd1b['key']['id']),..._0x5e710a},'messageTimestamp':_0x5efd1b[_0x5d9eb2(0x816)]&&_0x5efd1b['messageTimestamp'][_0x5d9eb2(0x880)]()[_0x5d9eb2(0x695)]<0xd?_0x5efd1b['messageTimestamp']*0x3e8:_0x5efd1b[_0x5d9eb2(0x816)]||null,'owner':this[_0x5d9eb2(0x1da)][_0x5d9eb2(0x177)],'source':(0x0,w[_0x5d9eb2(0x666)])(_0x5efd1b[_0x5d9eb2(0x23b)]['id'])};return this[_0x5d9eb2(0x50b)][_0x5d9eb2(0x677)](this[_0x5d9eb2(0x297)]+'\x20('+this[_0x5d9eb2(0x1da)]['wuid']+_0x5d9eb2(0x88f)+_0x224e0c[_0x5d9eb2(0x23b)]?.[_0x5d9eb2(0x309)][_0x5d9eb2(0x6a1)](_0x5d9eb2(0x13d),'')+_0x5d9eb2(0x83c)+_0x224e0c['messageType']+')'),_0x224e0c[_0x5d9eb2(0x488)]?.[_0x5d9eb2(0x3c5)]&&this[_0x5d9eb2(0x50b)]['warn'](_0x224e0c[_0x5d9eb2(0x488)]?.['text']),this['sendDataWebhook'](_0x5d9eb2(0x47d),_0x224e0c),F(this[_0x5d9eb2(0x297)],'messages',{'message':_0x224e0c}),this[_0x5d9eb2(0x1b1)](this[_0x5d9eb2(0x609)][_0x5d9eb2(0x5e9)](_0x5d9eb2(0x1ec)),_0x224e0c,_0x5d9eb2(0x236),_0x1ceeaf),await this['repository'][_0x5d9eb2(0x416)]['insert']([_0x224e0c],this['instance'][_0x5d9eb2(0x177)]),_0x5efd1b;}catch(_0x3d5845){let _0x59a9a2=_0x5d9eb2(0x25b)+_0x3d9d8e,_0x291a7f=_0x3d5845 instanceof Error?_0x3d5845[_0x5d9eb2(0x416)]:typeof _0x3d5845==_0x5d9eb2(0x6eb)?JSON[_0x5d9eb2(0x5ad)](_0x3d5845):_0x3d5845,_0x4ed688=_0x59a9a2+':\x20'+_0x291a7f;throw this[_0x5d9eb2(0x50b)][_0x5d9eb2(0x434)](this[_0x5d9eb2(0x297)]+'\x20('+this[_0x5d9eb2(0x1da)][_0x5d9eb2(0x177)]+_0x5d9eb2(0x83b)+_0x4ed688),new m(_0x4ed688);}}async[a0_0x43466e(0x866)](_0x24b2da,_0x2a6b87,_0x3482f5){const _0x52528e=a0_0x43466e;let _0x453349=this[_0x52528e(0x443)](_0x24b2da),_0x23b77b=(await this[_0x52528e(0x42f)]({'numbers':[_0x453349]}))[0x0];if(!_0x23b77b[_0x52528e(0x7cf)]&&!(0x0,w[_0x52528e(0x806)])(_0x23b77b['jid']))throw new m(_0x23b77b);let _0x112dc3=(0x0,w[_0x52528e(0x806)])(_0x453349)?_0x453349:_0x23b77b[_0x52528e(0x6f1)];if((0x0,w[_0x52528e(0x806)])(_0x112dc3))try{await this['client'][_0x52528e(0x803)](_0x112dc3);}catch{throw new m(_0x52528e(0x2a8));}try{_0x3482f5?.[_0x52528e(0x2d2)]&&(await this[_0x52528e(0x1a2)]['presenceSubscribe'](_0x112dc3),await this[_0x52528e(0x1a2)][_0x52528e(0x49c)](_0x3482f5?.['presence']??_0x52528e(0x824),_0x453349),await(0x0,w[_0x52528e(0x2d2)])(_0x3482f5[_0x52528e(0x2d2)]),await this[_0x52528e(0x1a2)][_0x52528e(0x49c)](_0x52528e(0x2f7),_0x112dc3));let _0x9e5248=await((async()=>{const _0x55d2d5=_0x52528e;let _0x3105e8,_0x488055=_0x55d2d5(0x6a2)+(0x0,ne[_0x55d2d5(0x2a0)])(0x12)['toString'](_0x55d2d5(0x7aa))['toUpperCase'](),_0x5e4089=(0x0,w[_0x55d2d5(0x64e)])(_0x112dc3,_0x2a6b87,{'timestamp':new Date(),'userJid':this[_0x55d2d5(0x1da)][_0x55d2d5(0x177)],'messageId':_0x488055,'quoted':_0x3105e8}),_0x1dd557=await this[_0x55d2d5(0x1a2)]['relayMessage'](_0x112dc3,_0x5e4089['message'],{'messageId':_0x488055});_0x5e4089[_0x55d2d5(0x23b)]={'id':_0x1dd557,'remoteJid':_0x453349,'participant':(0x0,w['isJidUser'])(_0x453349)?void 0x0:_0x453349,'fromMe':!0x0};for(let [_0x1d9ffa,_0x1a5bc0]of Object[_0x55d2d5(0x7c1)](_0x5e4089))(!_0x1a5bc0||Array[_0x55d2d5(0x6c7)](_0x1a5bc0)&&_0x1a5bc0['length']===0x0)&&delete _0x5e4089[_0x1d9ffa];return this[_0x55d2d5(0x1a2)]['ev'][_0x55d2d5(0x3cd)](_0x55d2d5(0x68f),{'messages':[_0x5e4089],'type':_0x55d2d5(0x36f)}),_0x5e4089;})()),_0x26a1db=await this[_0x52528e(0x302)][_0x52528e(0x628)][_0x52528e(0x41a)]({'where':{'_id':_0x112dc3}},this[_0x52528e(0x1da)][_0x52528e(0x177)]),_0xd04448=(0x0,w[_0x52528e(0x82c)])(_0x9e5248[_0x52528e(0x416)]),_0x4e12f3=(0x0,w[_0x52528e(0x230)])(_0xd04448),{message_normalized:_0x5bd550}=this['normalizeMessage'](_0xd04448,_0x4e12f3,null),_0x10f213={'_id':_0x9e5248[_0x52528e(0x23b)]['id'],'key':_0x9e5248[_0x52528e(0x23b)],'pushName':_0x9e5248['pushName'],'isGroup':_0x9e5248['key'][_0x52528e(0x309)][_0x52528e(0x164)](_0x52528e(0x748)),'profilePictureUrl':this[_0x52528e(0x1da)][_0x52528e(0x39a)],'message':_0xd04448,'messageType':_0x4e12f3,'message_normalized':{'key':_0x9e5248[_0x52528e(0x23b)],'pushName':_0x9e5248[_0x52528e(0x66d)],'messageTimestamp':_0x9e5248[_0x52528e(0x816)]&&_0x9e5248['messageTimestamp'][_0x52528e(0x880)]()['length']<0xd?_0x9e5248[_0x52528e(0x816)]*0x3e8:_0x9e5248[_0x52528e(0x816)]||null,'source':(0x0,w[_0x52528e(0x666)])(_0x9e5248[_0x52528e(0x23b)]['id']),..._0x5bd550},'messageTimestamp':_0x9e5248['messageTimestamp']&&_0x9e5248[_0x52528e(0x816)][_0x52528e(0x880)]()[_0x52528e(0x695)]<0xd?_0x9e5248[_0x52528e(0x816)]*0x3e8:_0x9e5248[_0x52528e(0x816)]||null,'owner':this[_0x52528e(0x1da)][_0x52528e(0x177)],'source':(0x0,w['getDevice'])(_0x9e5248[_0x52528e(0x23b)]['id'])};return this['logger']['warn'](this['instanceName']+'\x20('+this[_0x52528e(0x1da)][_0x52528e(0x177)]+'):\x20enviado\x20para\x20['+_0x10f213[_0x52528e(0x23b)]?.[_0x52528e(0x309)]['replace'](_0x52528e(0x13d),'')+_0x52528e(0x83c)+_0x10f213[_0x52528e(0x743)]+')'),_0x10f213[_0x52528e(0x488)]?.['text']&&this[_0x52528e(0x50b)]['warn'](_0x10f213[_0x52528e(0x488)]?.['text']),this[_0x52528e(0x84b)]('send.message',_0x10f213),F(this['instanceName'],_0x52528e(0x22a),{'message':_0x10f213}),this[_0x52528e(0x1b1)](this['configService'][_0x52528e(0x5e9)](_0x52528e(0x1ec)),_0x10f213,_0x52528e(0x236),_0x26a1db),await this[_0x52528e(0x302)][_0x52528e(0x416)][_0x52528e(0x2de)]([_0x10f213],this[_0x52528e(0x1da)][_0x52528e(0x177)]),_0x9e5248;}catch(_0x17c7ce){throw this['logger'][_0x52528e(0x434)](_0x17c7ce),new m(_0x17c7ce[_0x52528e(0x880)]());}}get[a0_0x43466e(0x62a)](){const _0x363256=a0_0x43466e;return this[_0x363256(0x813)];}async['textMessage'](_0x239d7d){const _0xb50def=a0_0x43466e;return await this[_0xb50def(0x25a)](_0x239d7d['number'],{'conversation':_0x239d7d['textMessage']['text']},_0x239d7d?.[_0xb50def(0x1a5)]);}async[a0_0x43466e(0x367)](_0x56ffe2){const _0x249fc9=a0_0x43466e;if(!_0x56ffe2[_0x249fc9(0x375)])throw new m(_0x249fc9(0x5ff));if(!_0x56ffe2[_0x249fc9(0x55b)])throw new m('Content\x20is\x20required');if(_0x56ffe2['allContacts']){let _0x12ab8c=await this[_0x249fc9(0x302)][_0x249fc9(0x140)][_0x249fc9(0x6cf)]({'where':{}},this[_0x249fc9(0x1da)][_0x249fc9(0x177)]);if(!_0x12ab8c['length'])throw new m(_0x249fc9(0x4a6));_0x56ffe2[_0x249fc9(0x6f5)]=_0x12ab8c[_0x249fc9(0x71f)](_0x125124=>_0x125124[_0x249fc9(0x66d)])[_0x249fc9(0x614)](_0xf91a34=>_0xf91a34[_0x249fc9(0x1e0)]);}if(!_0x56ffe2[_0x249fc9(0x6f5)]?.['length']&&!_0x56ffe2[_0x249fc9(0x55f)])throw new m(_0x249fc9(0x77f));if(_0x56ffe2[_0x249fc9(0x375)]===_0x249fc9(0x3c5)){if(!_0x56ffe2[_0x249fc9(0x22f)])throw new m(_0x249fc9(0x16b));if(!_0x56ffe2[_0x249fc9(0x86a)])throw new m(_0x249fc9(0x41f));return{'content':{'text':_0x56ffe2[_0x249fc9(0x55b)]},'option':{'backgroundColor':_0x56ffe2['backgroundColor'],'font':_0x56ffe2['font'],'statusJidList':_0x56ffe2['statusJidList']}};}if(_0x56ffe2['type']===_0x249fc9(0x3c1))return{'content':{'image':{'url':_0x56ffe2[_0x249fc9(0x55b)]},'caption':_0x56ffe2[_0x249fc9(0x51d)]},'option':{'statusJidList':_0x56ffe2[_0x249fc9(0x6f5)]}};if(_0x56ffe2[_0x249fc9(0x375)]===_0x249fc9(0x1ba))return{'content':{'video':{'url':_0x56ffe2[_0x249fc9(0x55b)]},'caption':_0x56ffe2[_0x249fc9(0x51d)]},'option':{'statusJidList':_0x56ffe2[_0x249fc9(0x6f5)]}};if(_0x56ffe2['type']==='audio'){this[_0x249fc9(0x50b)][_0x249fc9(0x213)](this[_0x249fc9(0x297)]+'\x20('+this[_0x249fc9(0x1da)][_0x249fc9(0x177)]+_0x249fc9(0x76c)),this[_0x249fc9(0x50b)]['verbose'](this[_0x249fc9(0x297)]+'\x20('+this[_0x249fc9(0x1da)]['wuid']+'):Processing\x20audio');let _0x2e6af4=await this[_0x249fc9(0x56b)](_0x56ffe2[_0x249fc9(0x55b)]);if(typeof _0x2e6af4=='string'){this[_0x249fc9(0x50b)]['verbose'](this[_0x249fc9(0x297)]+'\x20('+this[_0x249fc9(0x1da)][_0x249fc9(0x177)]+'):Audio\x20processed');let _0x30f82a=k['readFileSync'](_0x2e6af4)[_0x249fc9(0x880)](_0x249fc9(0x30f));return{'content':{'audio':Buffer[_0x249fc9(0x3d3)](_0x30f82a,_0x249fc9(0x30f)),'ptt':!0x0,'mimetype':_0x249fc9(0x214)},'option':{'statusJidList':_0x56ffe2[_0x249fc9(0x6f5)]}};}else throw new x(_0x2e6af4);}throw new m(_0x249fc9(0x6c2));}async[a0_0x43466e(0x37d)](_0x50b0f2){const _0x1ac2a7=a0_0x43466e;return await this[_0x1ac2a7(0x25a)]('status@broadcast',{'status':await this[_0x1ac2a7(0x367)](_0x50b0f2[_0x1ac2a7(0x37d)])});}async['prepareMediaMessage'](_0x22602b){const _0x2f3f97=a0_0x43466e;try{let _0x5f4d60=await(0x0,w[_0x2f3f97(0x6b6)])({[_0x22602b[_0x2f3f97(0x700)]]:(0x0,J['isURL'])(_0x22602b[_0x2f3f97(0x6de)])?{'url':_0x22602b[_0x2f3f97(0x6de)]}:Buffer[_0x2f3f97(0x3d3)](_0x22602b['media'],_0x2f3f97(0x30f))},{'upload':this[_0x2f3f97(0x1a2)][_0x2f3f97(0x427)]}),_0x29239e=_0x22602b[_0x2f3f97(0x700)]+'Message';if(_0x22602b[_0x2f3f97(0x700)]===_0x2f3f97(0x47e)&&!_0x22602b[_0x2f3f97(0x485)]){let _0x45e695=new RegExp(/.*\/(.+?)\./)[_0x2f3f97(0x778)](_0x22602b[_0x2f3f97(0x6de)]);_0x22602b[_0x2f3f97(0x485)]=_0x45e695?_0x45e695[0x1]:null;}let _0x123f98;return(0x0,J['isURL'])(_0x22602b[_0x2f3f97(0x6de)])?_0x123f98=(await Q[_0x2f3f97(0x56d)][_0x2f3f97(0x5e9)](_0x22602b[_0x2f3f97(0x6de)],{'responseType':'arraybuffer'}))[_0x2f3f97(0x72b)][_0x2f3f97(0x72e)]:_0x123f98=(0x0,Oi['getMIMEType'])(_0x22602b[_0x2f3f97(0x485)]),_0x5f4d60[_0x29239e][_0x2f3f97(0x51d)]=_0x22602b?.[_0x2f3f97(0x51d)],_0x5f4d60[_0x29239e][_0x2f3f97(0x163)]=_0x123f98,_0x5f4d60[_0x29239e][_0x2f3f97(0x485)]=_0x22602b['fileName'],_0x22602b['mediatype']==='video'&&(_0x5f4d60[_0x29239e]['jpegThumbnail']=Uint8Array['from']((0x0,Le[_0x2f3f97(0x6d8)])((0x0,j['join'])(process[_0x2f3f97(0x25f)](),_0x2f3f97(0x465)))),_0x5f4d60[_0x29239e][_0x2f3f97(0x22d)]=!0x1),(0x0,w[_0x2f3f97(0x64e)])('',{[_0x29239e]:{..._0x5f4d60[_0x29239e]}},{'userJid':this[_0x2f3f97(0x1da)][_0x2f3f97(0x177)]});}catch(_0x590278){let _0x31c7ff='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0xaf7fec=_0x590278 instanceof Error?_0x590278[_0x2f3f97(0x416)]:typeof _0x590278==_0x2f3f97(0x6eb)?JSON['stringify'](_0x590278):_0x590278,_0x39dd72=_0x31c7ff+':\x20'+_0xaf7fec;throw this[_0x2f3f97(0x50b)][_0x2f3f97(0x434)](this[_0x2f3f97(0x297)]+'\x20('+this['instance'][_0x2f3f97(0x177)]+_0x2f3f97(0x83b)+_0x39dd72),new x(_0x39dd72);}}async[a0_0x43466e(0x35c)](_0x34b728){const _0x168c13=a0_0x43466e;let _0x426783=await this[_0x168c13(0x85c)](_0x34b728[_0x168c13(0x35c)]);return await this[_0x168c13(0x25a)](_0x34b728['number'],{..._0x426783['message']},_0x34b728?.[_0x168c13(0x1a5)]);}async[a0_0x43466e(0x21c)](_0x471a2a,_0x49066a){const _0x35e12b=a0_0x43466e;try{this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this['instanceName']+'\x20('+this['instance'][_0x35e12b(0x177)]+_0x35e12b(0x7f8));let _0x5c91dc,_0x29fc57=_0x49066a+'-'+new Date()[_0x35e12b(0x62e)]();this[_0x35e12b(0x50b)]['verbose'](this['instanceName']+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+_0x35e12b(0x690)+_0x29fc57);let _0x538320=''+(0x0,j[_0x35e12b(0x14c)])(this[_0x35e12b(0x84a)],_0x29fc57+'.webp');if(this['logger'][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this[_0x35e12b(0x1da)]['wuid']+_0x35e12b(0x605)+_0x538320),(0x0,J[_0x35e12b(0x4ab)])(_0x471a2a)){this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+_0x35e12b(0x368));let _0x2cd43e=_0x471a2a['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x52ed89=Buffer[_0x35e12b(0x3d3)](_0x2cd43e,'base64');_0x5c91dc=''+(0x0,j[_0x35e12b(0x14c)])(this['storePath'],'temp-'+_0x29fc57+_0x35e12b(0x616)),this['logger'][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this['instance'][_0x35e12b(0x177)]+_0x35e12b(0x5b6)+_0x5c91dc),await(0x0,Ut[_0x35e12b(0x56d)])(_0x52ed89)[_0x35e12b(0x5af)](_0x5c91dc),this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+'):Image\x20created');}else{this['logger'][_0x35e12b(0x213)](this['instanceName']+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+_0x35e12b(0x1d9));let _0x46b098=new Date()[_0x35e12b(0x62e)](),_0x351b58=_0x471a2a+_0x35e12b(0x260)+_0x46b098;this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x351b58);let _0x255194=await Q['default'][_0x35e12b(0x5e9)](_0x351b58,{'responseType':_0x35e12b(0x882)});this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+_0x35e12b(0x7d3));let _0x53dc83=Buffer[_0x35e12b(0x3d3)](_0x255194['data'],_0x35e12b(0x490));_0x5c91dc=''+(0x0,j['join'])(this[_0x35e12b(0x84a)],_0x35e12b(0x730)+_0x29fc57+_0x35e12b(0x616)),this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this['instance'][_0x35e12b(0x177)]+_0x35e12b(0x5b6)+_0x5c91dc),await(0x0,Ut[_0x35e12b(0x56d)])(_0x53dc83)[_0x35e12b(0x5af)](_0x5c91dc),this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+_0x35e12b(0x3f4));}return await(0x0,Ut['default'])(_0x5c91dc)['webp']()['toFile'](_0x538320),this[_0x35e12b(0x50b)][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this['instance'][_0x35e12b(0x177)]+'):Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x5c91dc),this['logger'][_0x35e12b(0x213)](this[_0x35e12b(0x297)]+'\x20('+this[_0x35e12b(0x1da)]['wuid']+_0x35e12b(0x560)),_0x538320;}catch(_0x511587){let _0x172e1c='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x58b939=_0x511587 instanceof Error?_0x511587[_0x35e12b(0x416)]:typeof _0x511587==_0x35e12b(0x6eb)?JSON[_0x35e12b(0x5ad)](_0x511587):_0x511587,_0x618e0=_0x172e1c+':\x20'+_0x58b939;this[_0x35e12b(0x50b)][_0x35e12b(0x434)](this['instanceName']+'\x20('+this[_0x35e12b(0x1da)][_0x35e12b(0x177)]+_0x35e12b(0x83b)+_0x618e0);}}async['mediaSticker'](_0x50866f){const _0x23b85d=a0_0x43466e;let _0x11994b=await this[_0x23b85d(0x21c)](_0x50866f[_0x23b85d(0x797)][_0x23b85d(0x3c1)],_0x50866f[_0x23b85d(0x4fc)]),_0x2ce3cc=await this[_0x23b85d(0x25a)](_0x50866f['number'],{'sticker':{'url':_0x11994b}},_0x50866f?.[_0x23b85d(0x1a5)]);return k[_0x23b85d(0x7ea)](_0x11994b),this[_0x23b85d(0x50b)][_0x23b85d(0x213)](this[_0x23b85d(0x297)]+'\x20('+this[_0x23b85d(0x1da)][_0x23b85d(0x177)]+'):Converted\x20image\x20deleted'),_0x2ce3cc;}async[a0_0x43466e(0x20e)](_0x50eba0){const _0x4922ff=a0_0x43466e;if(this[_0x4922ff(0x50b)][_0x4922ff(0x213)](this[_0x4922ff(0x297)]+'\x20('+this[_0x4922ff(0x1da)][_0x4922ff(0x177)]+'):Sending\x20audio\x20whatsapp'),!_0x50eba0[_0x4922ff(0x1a5)]?.['encoding']&&_0x50eba0[_0x4922ff(0x1a5)]?.[_0x4922ff(0x711)]!==!0x1&&(_0x50eba0[_0x4922ff(0x1a5)]['encoding']=!0x0),_0x50eba0[_0x4922ff(0x1a5)]?.['encoding']){let _0x4f4653=await this[_0x4922ff(0x56b)](_0x50eba0[_0x4922ff(0x474)][_0x4922ff(0x1e4)]);if(typeof _0x4f4653=='string'){let _0x4ab185=k[_0x4922ff(0x6d8)](_0x4f4653)[_0x4922ff(0x880)]('base64');return this[_0x4922ff(0x25a)](_0x50eba0[_0x4922ff(0x4fc)],{'audio':Buffer[_0x4922ff(0x3d3)](_0x4ab185,_0x4922ff(0x30f)),'ptt':!0x0,'mimetype':_0x4922ff(0x3db)},{'presence':'recording','delay':_0x50eba0?.[_0x4922ff(0x1a5)]?.[_0x4922ff(0x2d2)]});}else throw new x(_0x4f4653);}return await this[_0x4922ff(0x25a)](_0x50eba0[_0x4922ff(0x4fc)],{'audio':(0x0,J[_0x4922ff(0x336)])(_0x50eba0[_0x4922ff(0x474)][_0x4922ff(0x1e4)])?{'url':_0x50eba0[_0x4922ff(0x474)]['audio']}:Buffer[_0x4922ff(0x3d3)](_0x50eba0[_0x4922ff(0x474)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x4922ff(0x3db)},{'presence':_0x4922ff(0x3dd),'delay':_0x50eba0?.[_0x4922ff(0x1a5)]?.[_0x4922ff(0x2d2)]});}async[a0_0x43466e(0x56b)](_0x52e47a){const _0x11503a=a0_0x43466e;this[_0x11503a(0x50b)][_0x11503a(0x213)](this[_0x11503a(0x297)]+'\x20('+this[_0x11503a(0x1da)][_0x11503a(0x177)]+'):Processing\x20audio');let _0x84a31d=(0x0,J[_0x11503a(0x336)])(_0x52e47a)?(0x0,ne[_0x11503a(0x5de)])(_0x11503a(0x2ab))['update'](_0x52e47a)[_0x11503a(0x89d)]('hex'):(0x0,ne['createHash'])(_0x11503a(0x2ab))['update'](_0x52e47a)[_0x11503a(0x89d)](_0x11503a(0x7aa)),_0x294f1e=''+(0x0,j[_0x11503a(0x14c)])(this['storePath'],_0x84a31d+_0x11503a(0x871));if(k[_0x11503a(0x4d8)](_0x294f1e))return this[_0x11503a(0x50b)][_0x11503a(0x213)](this[_0x11503a(0x297)]+'\x20('+this['instance'][_0x11503a(0x177)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x294f1e;let _0x3dc127=''+(0x0,j[_0x11503a(0x14c)])(this[_0x11503a(0x84a)],'temp-'+(0x0,Y['v4'])()+'.mp3');if((0x0,J[_0x11503a(0x336)])(_0x52e47a)){let _0x54530f=new Date()['getTime'](),_0xa5309c=_0x52e47a+_0x11503a(0x260)+_0x54530f,_0x3cbdd7=await Q[_0x11503a(0x56d)][_0x11503a(0x5e9)](_0xa5309c,{'responseType':_0x11503a(0x882)});k['writeFileSync'](_0x3dc127,_0x3cbdd7[_0x11503a(0x42e)]);}else{let _0x23eb21=Buffer[_0x11503a(0x3d3)](_0x52e47a,_0x11503a(0x30f));k[_0x11503a(0x7e3)](_0x3dc127,_0x23eb21);}return new Promise((_0x564a8a,_0x18453c)=>{const _0x383556=_0x11503a;(0x0,Fe[_0x383556(0x778)])(Ps['default'][_0x383556(0x6a6)]+_0x383556(0x6b7)+_0x3dc127+_0x383556(0x20d)+_0x294f1e+_0x383556(0x67d),_0x2f856c=>{const _0x2a28fa=_0x383556;if(k['unlinkSync'](_0x3dc127),_0x2f856c){this['logger'][_0x2a28fa(0x213)](this['instanceName']+'\x20('+this[_0x2a28fa(0x1da)]['wuid']+_0x2a28fa(0x804)),_0x18453c(_0x2f856c);return;}this[_0x2a28fa(0x50b)][_0x2a28fa(0x213)](this[_0x2a28fa(0x297)]+'\x20('+this[_0x2a28fa(0x1da)][_0x2a28fa(0x177)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x564a8a(_0x294f1e);});});}async[a0_0x43466e(0x5bb)](_0x4e1656){const _0x2e6a31=a0_0x43466e;this[_0x2e6a31(0x50b)][_0x2e6a31(0x213)](this[_0x2e6a31(0x297)]+'\x20('+this[_0x2e6a31(0x1da)]['wuid']+_0x2e6a31(0x48b));let _0x3e341f=(0x0,ne[_0x2e6a31(0x5de)])(_0x2e6a31(0x2ab))[_0x2e6a31(0x211)](_0x4e1656)['digest'](_0x2e6a31(0x7aa)),_0x48445f=''+(0x0,j[_0x2e6a31(0x14c)])(this['storePath'],_0x3e341f+_0x2e6a31(0x675));if(k['existsSync'](_0x48445f))return this[_0x2e6a31(0x50b)][_0x2e6a31(0x213)](this['instanceName']+'\x20('+this['instance'][_0x2e6a31(0x177)]+_0x2e6a31(0x23d)),j[_0x2e6a31(0x56d)][_0x2e6a31(0x603)](_0x48445f);let _0x125ce5=''+(0x0,j[_0x2e6a31(0x14c)])(this[_0x2e6a31(0x84a)],_0x2e6a31(0x730)+_0x3e341f+_0x2e6a31(0x871));if((0x0,J['isURL'])(_0x4e1656)){let _0x6b4e29=new Date()[_0x2e6a31(0x62e)](),_0x4281ee=_0x4e1656+_0x2e6a31(0x260)+_0x6b4e29,_0x17839f=await Q['default'][_0x2e6a31(0x5e9)](_0x4281ee,{'responseType':_0x2e6a31(0x882)});k[_0x2e6a31(0x7e3)](_0x125ce5,_0x17839f['data']);}else{let _0x29873b=Buffer[_0x2e6a31(0x3d3)](_0x4e1656,_0x2e6a31(0x30f));k[_0x2e6a31(0x7e3)](_0x125ce5,_0x29873b);}return new Promise((_0x35f644,_0xaf3f0)=>{const _0x3e4b83=_0x2e6a31;(0x0,Fe[_0x3e4b83(0x778)])(Ps['default']['path']+_0x3e4b83(0x6b7)+_0x125ce5+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x48445f+_0x3e4b83(0x67d),_0x1e66c0=>{const _0x3ceea2=_0x3e4b83;if(k['unlinkSync'](_0x125ce5),_0x1e66c0){this[_0x3ceea2(0x50b)][_0x3ceea2(0x213)](this[_0x3ceea2(0x297)]+'\x20('+this[_0x3ceea2(0x1da)][_0x3ceea2(0x177)]+'):Error\x20in\x20converting\x20audio'),_0xaf3f0(_0x1e66c0);return;}this[_0x3ceea2(0x50b)][_0x3ceea2(0x213)](this[_0x3ceea2(0x297)]+'\x20('+this[_0x3ceea2(0x1da)]['wuid']+_0x3ceea2(0x16f)),_0x35f644(j[_0x3ceea2(0x56d)][_0x3ceea2(0x603)](_0x48445f));});});}async[a0_0x43466e(0x81e)](_0x29d52b){const _0x55199f=a0_0x43466e;console[_0x55199f(0x217)]('[service]\x20request\x20received\x20in\x20sendButtons',_0x29d52b);let _0x26d0e1;try{_0x29d52b[_0x55199f(0x81e)]?.[_0x55199f(0x289)]&&(_0x26d0e1=await this[_0x55199f(0x85c)]({'mediatype':_0x55199f(0x3c1),'media':_0x29d52b[_0x55199f(0x81e)][_0x55199f(0x289)]}));}catch(_0x2aeab5){throw console[_0x55199f(0x434)](_0x55199f(0x888),_0x2aeab5),new Error('Failed\x20to\x20prepare\x20media\x20message');}try{let _0xb8373c={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x55199f(0x3fa)},'footer':{'text':_0x55199f(0x442)},'header':((()=>{const _0x2812bb=_0x55199f;if(_0x26d0e1?.['message']?.[_0x2812bb(0x23e)])return{'hasMediaAttachment':!!_0x26d0e1[_0x2812bb(0x416)][_0x2812bb(0x23e)],'imageMessage':_0x26d0e1[_0x2812bb(0x416)]['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':_0x55199f(0x308),'buttonParamsJson':JSON['stringify']({'display_text':'Botão\x201','id':'1'})},{'name':_0x55199f(0x308),'buttonParamsJson':JSON[_0x55199f(0x5ad)]({'display_text':_0x55199f(0x6cc),'id':'2'})}],'messageParamsJson':JSON['stringify']({'from':_0x55199f(0x648),'templateId':'3EB0'+(0x0,ne[_0x55199f(0x2a0)])(0x12)[_0x55199f(0x880)](_0x55199f(0x7aa))[_0x55199f(0x143)]()})}}}}};return await this[_0x55199f(0x866)](_0x29d52b[_0x55199f(0x4fc)],_0xb8373c,_0x29d52b?.[_0x55199f(0x1a5)]);}catch(_0x12836c){throw console[_0x55199f(0x434)](_0x55199f(0x577),_0x12836c),new Error(_0x55199f(0x24b));}}async['locationMessage'](_0xc35e83){const _0x22bc9e=a0_0x43466e;return await this[_0x22bc9e(0x25a)](_0xc35e83[_0x22bc9e(0x4fc)],{'locationMessage':{'degreesLatitude':_0xc35e83['locationMessage'][_0x22bc9e(0x497)],'degreesLongitude':_0xc35e83[_0x22bc9e(0x52f)]['longitude'],'name':_0xc35e83[_0x22bc9e(0x52f)]?.['name'],'address':_0xc35e83[_0x22bc9e(0x52f)]?.['address']}},_0xc35e83?.[_0x22bc9e(0x1a5)]);}async['contactMessage'](_0x5c4e2c){const _0x469b18=a0_0x43466e;let _0x636dec={},_0x4a8a61=async _0x4546d8=>{const _0x4f9255=a0_0x5767;let _0x2b74aa=_0x4f9255(0x232)+_0x4546d8[_0x4f9255(0x62b)]+'\x0aFN:'+_0x4546d8[_0x4f9255(0x62b)]+'\x0a';_0x4546d8[_0x4f9255(0x5fb)]&&(_0x2b74aa+=_0x4f9255(0x4e8)+_0x4546d8[_0x4f9255(0x5fb)]+';\x0a'),_0x4546d8[_0x4f9255(0x263)]&&(_0x2b74aa+='EMAIL:'+_0x4546d8[_0x4f9255(0x263)]+'\x0a'),_0x4546d8[_0x4f9255(0x5ea)]&&(_0x2b74aa+=_0x4f9255(0x58a)+_0x4546d8[_0x4f9255(0x5ea)]+'\x0a');let _0x5e5ce7='',_0x56a3ce=0x1;if(_0x4546d8[_0x4f9255(0x74d)]){let _0x55837e=_0x4546d8['phoneNumber'][_0x4f9255(0x380)]('|');for(let _0x1ed10a of _0x55837e){let _0x1614d0=await this[_0x4f9255(0x42f)]({'numbers':[_0x1ed10a]}),_0xafda07=(_0x1614d0[_0x4f9255(0x695)]>0x0?_0x1614d0[0x0][_0x4f9255(0x6f1)]:this[_0x4f9255(0x443)](_0x1ed10a))['replace'](_0x4f9255(0x13d),'');_0x5e5ce7+=_0x4f9255(0x2c8)+_0x56a3ce+_0x4f9255(0x390)+_0xafda07+':'+_0x1ed10a+_0x4f9255(0x7c0)+_0x56a3ce+_0x4f9255(0x570),_0x56a3ce++;}}return _0x2b74aa+=_0x5e5ce7+_0x4f9255(0x35a),_0x2b74aa;};return _0x5c4e2c[_0x469b18(0x56c)][_0x469b18(0x695)]===0x1?_0x636dec[_0x469b18(0x56c)]={'displayName':_0x5c4e2c[_0x469b18(0x56c)][0x0]['fullName'],'vcard':await _0x4a8a61(_0x5c4e2c[_0x469b18(0x56c)][0x0])}:_0x636dec[_0x469b18(0x5ca)]={'displayName':_0x5c4e2c[_0x469b18(0x56c)][_0x469b18(0x695)]+_0x469b18(0x3bd),'contacts':await Promise[_0x469b18(0x859)](_0x5c4e2c['contactMessage'][_0x469b18(0x614)](async _0x320676=>({'displayName':_0x320676['fullName'],'vcard':await _0x4a8a61(_0x320676)})))},await this['sendMessageWithTyping'](_0x5c4e2c[_0x469b18(0x4fc)],{..._0x636dec},_0x5c4e2c?.['options']);}async[a0_0x43466e(0x6ec)](_0xc2d049){const _0x2f8e0a=a0_0x43466e;return await this[_0x2f8e0a(0x25a)](_0xc2d049['reactionMessage'][_0x2f8e0a(0x23b)]['remoteJid'],{'reactionMessage':{'key':_0xc2d049[_0x2f8e0a(0x6ec)]['key'],'text':_0xc2d049['reactionMessage'][_0x2f8e0a(0x396)]}});}async['whatsappNumber'](_0xe65cfb){const _0xbcb701=a0_0x43466e;let _0x29cb0d=[];for await(let _0x407e58 of _0xe65cfb[_0xbcb701(0x770)]){let _0x1d8699=this[_0xbcb701(0x443)](_0x407e58),_0x2d2e0b=!0x1;try{if((0x0,w[_0xbcb701(0x806)])(_0x1d8699)){let _0x2f7210=(await this['repository'][_0xbcb701(0x628)][_0xbcb701(0x41a)]({'where':{'_id':_0x1d8699}},this['instance'][_0xbcb701(0x177)]))[_0xbcb701(0x64f)];_0x2f7210?(_0x2d2e0b=!0x0,_0x29cb0d['push'](new ue(_0x2f7210['id'],_0x2d2e0b,_0x2f7210?.[_0xbcb701(0x2a7)]))):(_0x2f7210=await this['findGroup']({'groupJid':_0x1d8699},'inner'),_0x29cb0d[_0xbcb701(0x7ef)](new ue(_0x2f7210['id'],!!_0x2f7210?.['id'],_0x2f7210?.['subject'])));}else{if(_0x1d8699['includes']('@broadcast'))_0x29cb0d[_0xbcb701(0x7ef)](new ue(_0x1d8699,!0x0));else{let _0x50bf80=(await this[_0xbcb701(0x1a2)][_0xbcb701(0x316)](_0x1d8699))[0x0];_0x29cb0d[_0xbcb701(0x7ef)](new ue(_0x50bf80[_0xbcb701(0x6f1)],_0x50bf80[_0xbcb701(0x7cf)]));}}}catch{(0x0,w[_0xbcb701(0x806)])(_0x1d8699)||await this[_0xbcb701(0x3ce)](_0x1d8699),_0x29cb0d[_0xbcb701(0x7ef)](new ue(_0x407e58,!0x1));}}return _0x29cb0d;}async[a0_0x43466e(0x3ce)](_0x5c1366){const _0x2e4e8e=a0_0x43466e;try{await this[_0x2e4e8e(0x302)][_0x2e4e8e(0x628)][_0x2e4e8e(0x41a)]({'where':{'_id':_0x5c1366,'imported':!0x0}},this['instance'][_0x2e4e8e(0x177)])&&(await this[_0x2e4e8e(0x302)]['chat'][_0x2e4e8e(0x1a4)](_0x5c1366,this[_0x2e4e8e(0x1da)][_0x2e4e8e(0x177)]),this[_0x2e4e8e(0x50b)][_0x2e4e8e(0x4d3)](_0x2e4e8e(0x204)+_0x5c1366+_0x2e4e8e(0x520)));}catch(_0x25ab74){let _0x191419='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x43dea9=_0x25ab74 instanceof Error?_0x25ab74[_0x2e4e8e(0x416)]:typeof _0x25ab74==_0x2e4e8e(0x6eb)?JSON[_0x2e4e8e(0x5ad)](_0x25ab74):_0x25ab74,_0x32a84c=_0x191419+':\x20'+_0x43dea9;this[_0x2e4e8e(0x50b)][_0x2e4e8e(0x434)](this[_0x2e4e8e(0x297)]+'\x20('+this[_0x2e4e8e(0x1da)][_0x2e4e8e(0x177)]+_0x2e4e8e(0x83b)+_0x32a84c);}}async[a0_0x43466e(0x3da)](_0x48e9e6){const _0x2550bf=a0_0x43466e;try{let _0x5194a6=_0x48e9e6['readMessages'][_0x2550bf(0x71f)](_0x2bbd91=>(0x0,w['isJidGroup'])(_0x2bbd91[_0x2550bf(0x309)])||(0x0,w['isJidUser'])(_0x2bbd91[_0x2550bf(0x309)]))['map'](_0x4796a6=>({'remoteJid':_0x4796a6[_0x2550bf(0x309)],'fromMe':_0x4796a6[_0x2550bf(0x3a4)],'id':_0x4796a6['id']}));await this['client'][_0x2550bf(0x3c3)](_0x5194a6);let _0x154099=_0x5194a6['map'](_0x26c772=>this[_0x2550bf(0x6b3)](_0x26c772,{'status':_0x2550bf(0x607),'owner':this[_0x2550bf(0x1da)][_0x2550bf(0x177)]})),_0x5324d8=_0x5194a6[_0x2550bf(0x614)](_0x131a5f=>this[_0x2550bf(0x302)][_0x2550bf(0x628)]['updateOne']({'where':{'_id':_0x131a5f['remoteJid']}},{'unreadcount':0x0},this['instance'][_0x2550bf(0x177)])),[_0x28155f,_0x40435e]=await Promise[_0x2550bf(0x859)]([Promise[_0x2550bf(0x859)](_0x154099),Promise[_0x2550bf(0x859)](_0x5324d8)]);return _0x40435e[_0x2550bf(0x71f)](_0x2e9869=>_0x2e9869!==null)[_0x2550bf(0x663)](_0xf25144=>{const _0x3430da=_0x2550bf;F(this[_0x3430da(0x297)],_0x3430da(0x462),{'chat':_0xf25144});}),{'message':_0x2550bf(0x7bb),'read':_0x2550bf(0x2e9)};}catch(_0x18b457){let _0x323037=_0x2550bf(0x59a),_0x2812ad=_0x18b457 instanceof Error?_0x18b457[_0x2550bf(0x416)]:typeof _0x18b457==_0x2550bf(0x6eb)?JSON[_0x2550bf(0x5ad)](_0x18b457):_0x18b457,_0x89f68b=_0x323037+':\x20'+_0x2812ad;throw this[_0x2550bf(0x50b)][_0x2550bf(0x434)](this[_0x2550bf(0x297)]+'\x20('+this[_0x2550bf(0x1da)][_0x2550bf(0x177)]+'):\x20'+_0x89f68b),new x(_0x89f68b);}}async['getLastMessage'](_0x1313d6){const _0x295a41=a0_0x43466e;let _0x53ee94={'where':{'key':{'remoteJid':_0x1313d6}},'limit':0x1},_0x47de25=await this['fetchMessages'](_0x53ee94);return _0x47de25||(this[_0x295a41(0x50b)]['error']('Last\x20message\x20not\x20found\x20for\x20number:\x20'+_0x1313d6),null);}async[a0_0x43466e(0x36a)](_0x3a7e9c){const _0x156f1f=a0_0x43466e;this[_0x156f1f(0x50b)][_0x156f1f(0x213)](this[_0x156f1f(0x297)]+'\x20('+this[_0x156f1f(0x1da)][_0x156f1f(0x177)]+_0x156f1f(0x1cf));try{let _0xa74caa=_0x3a7e9c[_0x156f1f(0x8a6)],_0xf36e81=_0x3a7e9c[_0x156f1f(0x628)];if(!_0xa74caa&&_0xf36e81?_0xa74caa=await this[_0x156f1f(0x483)](_0xf36e81):(_0xa74caa=_0x3a7e9c[_0x156f1f(0x8a6)],_0xa74caa['messageTimestamp']=_0xa74caa?.[_0x156f1f(0x816)]??Date['now'](),_0xf36e81=_0xa74caa?.[_0x156f1f(0x23b)]?.[_0x156f1f(0x309)]),!_0xa74caa||Object[_0x156f1f(0x73e)](_0xa74caa)['length']===0x0)throw new U(_0x156f1f(0x4d6));this[_0x156f1f(0x50b)][_0x156f1f(0x213)](this[_0x156f1f(0x297)]+'\x20('+this[_0x156f1f(0x1da)][_0x156f1f(0x177)]+_0x156f1f(0x862)+_0xf36e81);try{await this['client'][_0x156f1f(0x6a5)]({'archive':_0x3a7e9c[_0x156f1f(0x181)],'lastMessages':[_0xa74caa]},this[_0x156f1f(0x443)](_0xf36e81));}catch(_0x242d6c){let _0x2ae3e7='Error\x20in\x20chatModify\x20for\x20number\x20'+_0xf36e81,_0x162007=_0x242d6c instanceof Error?_0x242d6c[_0x156f1f(0x416)]:typeof _0x242d6c==_0x156f1f(0x6eb)?JSON[_0x156f1f(0x5ad)](_0x242d6c):_0x242d6c,_0xec5a=_0x2ae3e7+':\x20'+_0x162007;this[_0x156f1f(0x50b)][_0x156f1f(0x434)](this[_0x156f1f(0x297)]+'\x20('+this[_0x156f1f(0x1da)][_0x156f1f(0x177)]+_0x156f1f(0x83b)+_0xec5a);}this['logger'][_0x156f1f(0x213)](this['instanceName']+'\x20('+this[_0x156f1f(0x1da)]['wuid']+_0x156f1f(0x403)+_0xf36e81);let _0x2b4633=await this['repository'][_0x156f1f(0x628)]['updateOne']({'where':{'_id':_0xa74caa?.[_0x156f1f(0x23b)]?.['remoteJid']}},{'archived':_0x3a7e9c[_0x156f1f(0x181)]},this[_0x156f1f(0x1da)]['wuid']);return _0x2b4633?(this[_0x156f1f(0x50b)][_0x156f1f(0x213)](this[_0x156f1f(0x297)]+'\x20('+this[_0x156f1f(0x1da)][_0x156f1f(0x177)]+_0x156f1f(0x73a)+JSON['stringify'](_0x2b4633)),F(this[_0x156f1f(0x297)],_0x156f1f(0x462),{'chat':_0x2b4633})):this[_0x156f1f(0x50b)][_0x156f1f(0x434)](this[_0x156f1f(0x297)]+'\x20('+this[_0x156f1f(0x1da)][_0x156f1f(0x177)]+_0x156f1f(0x3e7)+_0xf36e81),{'chatId':_0xf36e81,'archived':_0x3a7e9c['archive']};}catch(_0xe173ae){let _0xfec3aa=_0x156f1f(0x1f1),_0x4016a5=_0xe173ae instanceof Error?_0xe173ae[_0x156f1f(0x416)]:typeof _0xe173ae==_0x156f1f(0x6eb)?JSON[_0x156f1f(0x5ad)](_0xe173ae):_0xe173ae,_0x202086=_0xfec3aa+':\x20'+_0x4016a5;throw this[_0x156f1f(0x50b)][_0x156f1f(0x434)](this['instanceName']+'\x20('+this['instance'][_0x156f1f(0x177)]+'):\x20'+_0x202086),new x(_0x202086);}}async[a0_0x43466e(0x1a4)](_0x54cb38){const _0x2e258b=a0_0x43466e;this['logger'][_0x2e258b(0x213)](this['instanceName']+'\x20('+this[_0x2e258b(0x1da)][_0x2e258b(0x177)]+_0x2e258b(0x852));try{let _0x16767b=await this[_0x2e258b(0x483)](_0x54cb38);if(!_0x16767b||Object[_0x2e258b(0x73e)](_0x16767b)[_0x2e258b(0x695)]===0x0)throw new U(_0x2e258b(0x4d6));let _0x127f4e=_0x16767b[0x0];this['logger']['verbose'](this[_0x2e258b(0x297)]+'\x20('+this[_0x2e258b(0x1da)][_0x2e258b(0x177)]+_0x2e258b(0x5be)+_0x54cb38);try{await this[_0x2e258b(0x1a2)][_0x2e258b(0x6a5)]({'delete':!0x0,'lastMessages':[{'key':_0x127f4e[_0x2e258b(0x23b)],'messageTimestamp':_0x127f4e[_0x2e258b(0x816)]}]},this[_0x2e258b(0x443)](_0x54cb38));}catch(_0x27f30b){this[_0x2e258b(0x50b)][_0x2e258b(0x434)](_0x2e258b(0x4da)+_0x54cb38+':\x20'+_0x27f30b['toString']());}this[_0x2e258b(0x50b)]['verbose'](this[_0x2e258b(0x297)]+'\x20('+this['instance'][_0x2e258b(0x177)]+_0x2e258b(0x403)+_0x54cb38);return;}catch(_0x4b1139){throw this[_0x2e258b(0x50b)]['error'](this[_0x2e258b(0x297)]+'\x20('+this['instance'][_0x2e258b(0x177)]+_0x2e258b(0x608)+_0x4b1139[_0x2e258b(0x880)]()),new x({'archived':!0x1,'message':[_0x2e258b(0x210),_0x4b1139[_0x2e258b(0x880)]()]});}}async[a0_0x43466e(0x1ea)](_0x2dac8b){const _0x170ba5=a0_0x43466e;try{let _0x39d02d=await this['client'][_0x170ba5(0x80c)](_0x2dac8b[_0x170ba5(0x309)],{'delete':_0x2dac8b});try{let _0x14199e=await this[_0x170ba5(0x6b3)](_0x2dac8b,{'status':'DELETED','owner':this['instance'][_0x170ba5(0x177)]});this[_0x170ba5(0x50b)][_0x170ba5(0x213)](this[_0x170ba5(0x297)]+'\x20('+this[_0x170ba5(0x1da)][_0x170ba5(0x177)]+'):\x20updateResult:'+_0x14199e);}catch(_0x581427){this[_0x170ba5(0x50b)][_0x170ba5(0x434)]('Error\x20updating\x20message\x20status:'+_0x581427);}return _0x39d02d;}catch(_0x251e48){throw new x(_0x170ba5(0x555),_0x251e48?.[_0x170ba5(0x880)]());}}async['getBase64FromMediaMessage'](_0x1240ef){const _0x4c72d5=a0_0x43466e;try{let _0x4eca27=_0x1240ef?.['message']?_0x1240ef:await this[_0x4c72d5(0x1c9)](_0x1240ef['key'],!0x0);for(let _0x2a5319 of Na)_0x4eca27[_0x4c72d5(0x416)][_0x2a5319]&&(_0x4eca27[_0x4c72d5(0x416)]=_0x4eca27[_0x4c72d5(0x416)][_0x2a5319][_0x4c72d5(0x416)]);let _0x19b61d,_0x2826f1;for(let _0x312c99 of va)if(_0x19b61d=_0x4eca27[_0x4c72d5(0x416)][_0x312c99],_0x19b61d){_0x2826f1=_0x312c99;break;}if(!_0x19b61d)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x19b61d[_0x4c72d5(0x5d4)]=='object'&&(_0x4eca27['message']=JSON[_0x4c72d5(0x2ef)](JSON[_0x4c72d5(0x5ad)](_0x4eca27[_0x4c72d5(0x416)])));let _0x1bd112=await(0x0,w['downloadMediaMessage'])({'key':_0x4eca27?.[_0x4c72d5(0x23b)],'message':_0x4eca27?.[_0x4c72d5(0x416)]},'buffer',{},{'logger':(0x0,Ft[_0x4c72d5(0x56d)])({'level':_0x4c72d5(0x818)}),'reuploadRequest':this[_0x4c72d5(0x1a2)][_0x4c72d5(0x18a)]});if(!(_0x1bd112 instanceof Buffer))throw new Error(_0x4c72d5(0x287));let _0xe57734=this[_0x4c72d5(0x609)][_0x4c72d5(0x5e9)](_0x4c72d5(0x1ec)),_0x538b2c,_0x24522f;if(_0x19b61d[_0x4c72d5(0x485)])_0x538b2c=_0x19b61d[_0x4c72d5(0x485)];else{let _0x46e0c9=_0x19b61d[_0x4c72d5(0x163)]?.[_0x4c72d5(0x30d)](/\/(\w+)/),_0x4237c6=_0x46e0c9?_0x46e0c9[0x1]:null;if(!_0x4237c6)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x538b2c=(0x0,Y['v4'])()+'.'+_0x4237c6;}_0x2826f1===_0x4c72d5(0x474)?_0x24522f=_0x4c72d5(0x472)+await this[_0x4c72d5(0x5bb)](_0x1bd112['toString'](_0x4c72d5(0x30f))):(await this[_0x4c72d5(0x18d)](_0x1bd112,_0x538b2c),_0x24522f=_0x4c72d5(0x472)+_0x538b2c);let _0xce0f66=this[_0x4c72d5(0x609)]['get']('SERVER')['URL'];if(!_0xce0f66){let _0x40eba3=this['configService'][_0x4c72d5(0x5e9)]('SSL_CONF');_0xce0f66='https://'+(_0x40eba3&&_0x40eba3['FULLCHAIN'][_0x4c72d5(0x380)]('/')[0x4]);}_0x24522f=''+_0xce0f66+_0x24522f;let _0x47567e=0xc*0x3c*0x3c*0x3e8,_0x3b89a7={'where':{'_id':_0x4eca27['key']['id']}},_0x5c476e={'message_normalized.fileUrl':_0x24522f,'message_normalized.expires_fileUrl':Date[_0x4c72d5(0x24f)]()+_0x47567e};try{let _0x206896=await this[_0x4c72d5(0x302)]['message'][_0x4c72d5(0x211)](_0x3b89a7,_0x5c476e,this['instance'][_0x4c72d5(0x177)]);_0x206896&&F(this[_0x4c72d5(0x297)],_0x4c72d5(0x22a),{'message':_0x206896});}catch(_0x1bac1b){let _0x4c4ba2=_0x4c72d5(0x326),_0x481889=_0x1bac1b instanceof Error?_0x1bac1b[_0x4c72d5(0x416)]:typeof _0x1bac1b==_0x4c72d5(0x6eb)?JSON[_0x4c72d5(0x5ad)](_0x1bac1b):_0x1bac1b,_0x451a0d=_0x4c4ba2+':\x20'+_0x481889;this['logger']['error'](this[_0x4c72d5(0x297)]+'\x20('+this[_0x4c72d5(0x1da)][_0x4c72d5(0x177)]+_0x4c72d5(0x83b)+_0x451a0d);}return{'mediaType':_0x2826f1,'fileName':_0x19b61d[_0x4c72d5(0x485)],'caption':_0x19b61d[_0x4c72d5(0x51d)],'size':{'fileLength':_0x19b61d['fileLength'],'height':_0x19b61d['height'],'width':_0x19b61d[_0x4c72d5(0x61a)]},'mimetype':_0x19b61d[_0x4c72d5(0x163)],'base64':_0x1bd112[_0x4c72d5(0x880)]('base64'),'fileUrl':_0x24522f,'expires_fileUrl':Date[_0x4c72d5(0x24f)]()+_0x47567e};}catch(_0x17d7d0){let _0x5e9919=_0x4c72d5(0x5eb),_0x1484c8=_0x17d7d0 instanceof Error?_0x17d7d0[_0x4c72d5(0x416)]:typeof _0x17d7d0==_0x4c72d5(0x6eb)?JSON[_0x4c72d5(0x5ad)](_0x17d7d0):_0x17d7d0,_0x53b22a=_0x5e9919+':\x20'+_0x1484c8;throw this['logger'][_0x4c72d5(0x434)](this[_0x4c72d5(0x297)]+'\x20('+this[_0x4c72d5(0x1da)][_0x4c72d5(0x177)]+'):\x20'+_0x53b22a),new m(_0x53b22a);}}async[a0_0x43466e(0x18d)](_0x32646b,_0x1a6916){const _0x5db4f8=a0_0x43466e;let _0x243e41=j[_0x5db4f8(0x56d)][_0x5db4f8(0x14c)](__dirname,'downloads');k[_0x5db4f8(0x4d8)](_0x243e41)||k[_0x5db4f8(0x2ed)](_0x243e41,{'recursive':!0x0});let _0x13e376=j[_0x5db4f8(0x56d)]['join'](_0x243e41,_0x1a6916);return new Promise((_0x8fd136,_0x923c1c)=>{const _0x4bd79d=_0x5db4f8;k[_0x4bd79d(0x43b)](_0x13e376,_0x32646b,_0x45809f=>{const _0x2a1fe0=_0x4bd79d;_0x45809f?(this['logger'][_0x2a1fe0(0x434)](_0x2a1fe0(0x2f9)+(_0x45809f instanceof Error?_0x45809f[_0x2a1fe0(0x416)]:JSON[_0x2a1fe0(0x5ad)](_0x45809f,null,0x2))),_0x923c1c(_0x45809f)):(this[_0x2a1fe0(0x50b)]['log']('File\x20written\x20to\x20path:\x20'+_0x13e376),_0x8fd136(_0x13e376));});});}async['fetchContacts'](_0x398886){const _0x3d2707=a0_0x43466e;return await this[_0x3d2707(0x302)][_0x3d2707(0x140)]['find'](_0x398886,this[_0x3d2707(0x1da)][_0x3d2707(0x177)]);}async['fetchLabels'](){const _0xb996a4=a0_0x43466e;return await this['repository'][_0xb996a4(0x40f)][_0xb996a4(0x6cf)]({'where':{}},this[_0xb996a4(0x1da)][_0xb996a4(0x177)]);}async[a0_0x43466e(0x2a3)](_0xcb52a0){const _0x204ec5=a0_0x43466e;return await this[_0x204ec5(0x302)]['message'][_0x204ec5(0x6cf)](_0xcb52a0,this['instance'][_0x204ec5(0x177)]);}async[a0_0x43466e(0x627)](){const _0x21670c=a0_0x43466e;return this[_0x21670c(0x302)][_0x21670c(0x628)][_0x21670c(0x41d)](this['instance'][_0x21670c(0x177)]),this[_0x21670c(0x302)][_0x21670c(0x628)][_0x21670c(0x4c9)](this['instance']['wuid']),this['repository'][_0x21670c(0x628)][_0x21670c(0x26d)](this[_0x21670c(0x1da)]['wuid']),this['repository'][_0x21670c(0x628)][_0x21670c(0x28a)](this[_0x21670c(0x1da)][_0x21670c(0x177)]),await this[_0x21670c(0x302)][_0x21670c(0x628)][_0x21670c(0x6cf)]({'where':{}},this[_0x21670c(0x1da)]['wuid']);}async['importChatsAntigo'](_0x2d8c38){const _0xde688f=a0_0x43466e;try{if(!Array[_0xde688f(0x6c7)](_0x2d8c38)||_0x2d8c38[_0xde688f(0x695)]===0x0)throw new Error(_0xde688f(0x33f));let _0x562553=[],_0x3236a5=[];for(let _0x1c1474 of _0x2d8c38){if(_0x1c1474[_0xde688f(0x1e0)])_0x1c1474[_0xde688f(0x1e0)]=this[_0xde688f(0x443)](_0x1c1474[_0xde688f(0x1e0)]);else continue;await this[_0xde688f(0x302)]['chat'][_0xde688f(0x41a)]({'where':{'_id':_0x1c1474['_id']}},this[_0xde688f(0x1da)]['wuid'])?_0x3236a5[_0xde688f(0x7ef)]({'_id':_0x1c1474[_0xde688f(0x1e0)],'leadInfo':_0x1c1474[_0xde688f(0x830)],'owner':this['instance'][_0xde688f(0x177)]}):_0x562553[_0xde688f(0x7ef)]({'_id':_0x1c1474[_0xde688f(0x1e0)],'owner':this[_0xde688f(0x1da)][_0xde688f(0x177)],'leadInfo':_0x1c1474[_0xde688f(0x830)],'imported':!0x0});}return _0x3236a5[_0xde688f(0x695)]>0x0&&await this['repository']['chat'][_0xde688f(0x389)](_0x3236a5['map'](_0x446c4b=>({'query':{'where':{'_id':_0x446c4b[_0xde688f(0x1e0)],'owner':this[_0xde688f(0x1da)][_0xde688f(0x177)]}},'update':_0x446c4b}))),_0x562553[_0xde688f(0x695)]>0x0&&await this[_0xde688f(0x302)][_0xde688f(0x628)][_0xde688f(0x873)](_0x562553,this[_0xde688f(0x1da)][_0xde688f(0x177)]),{'updated':_0x3236a5[_0xde688f(0x695)],'inserted':_0x562553['length']};}catch(_0xf4a329){let _0xd29540=_0xde688f(0x1b0),_0x4765ec=_0xf4a329 instanceof Error?_0xf4a329[_0xde688f(0x416)]:typeof _0xf4a329==_0xde688f(0x6eb)?JSON[_0xde688f(0x5ad)](_0xf4a329):_0xf4a329,_0x1abc7d=_0xd29540+':\x20'+_0x4765ec;throw this[_0xde688f(0x50b)][_0xde688f(0x434)](this[_0xde688f(0x297)]+'\x20('+this[_0xde688f(0x1da)]['wuid']+_0xde688f(0x83b)+_0x1abc7d),new m(_0x1abc7d);}}async[a0_0x43466e(0x54a)](_0x5e81fc){const _0x366eef=a0_0x43466e;try{if(!Array[_0x366eef(0x6c7)](_0x5e81fc)||_0x5e81fc[_0x366eef(0x695)]===0x0)throw new Error(_0x366eef(0x33f));let _0x574161=0x64,_0x582144=0x0;for(let _0x4bde70=0x0;_0x4bde70<_0x5e81fc[_0x366eef(0x695)];_0x4bde70+=_0x574161){let _0x5bd5d2=_0x5e81fc[_0x366eef(0x5a7)](_0x4bde70,_0x4bde70+_0x574161),{updated:_0x21642b}=await this['importChatsBatch'](_0x5bd5d2);_0x582144+=_0x21642b;}return{'updated':_0x582144};}catch(_0x27314d){let _0x3ae805=_0x366eef(0x1b0),_0x38fb70=_0x27314d instanceof Error?_0x27314d[_0x366eef(0x416)]:typeof _0x27314d==_0x366eef(0x6eb)?JSON[_0x366eef(0x5ad)](_0x27314d):_0x27314d,_0x5c45fd=_0x3ae805+':\x20'+_0x38fb70;throw this[_0x366eef(0x50b)]['error'](this[_0x366eef(0x297)]+'\x20('+this[_0x366eef(0x1da)][_0x366eef(0x177)]+_0x366eef(0x83b)+_0x5c45fd),new m(_0x5c45fd);}}async[a0_0x43466e(0x590)](_0x47e02a){const _0x1ef3ed=a0_0x43466e;try{let _0x426c87=await this[_0x1ef3ed(0x302)][_0x1ef3ed(0x40f)]['find']({'where':{}},this[_0x1ef3ed(0x1da)]['wuid']),_0x170483=new Set(_0x426c87[_0x1ef3ed(0x614)](_0x5450e9=>_0x5450e9[_0x1ef3ed(0x1e0)])),_0x3d68ff=[],_0x39cc0e=[];for(let _0x5ce8b7 of _0x47e02a){if(!_0x5ce8b7[_0x1ef3ed(0x1e0)])continue;_0x5ce8b7[_0x1ef3ed(0x1e0)]=this[_0x1ef3ed(0x443)](_0x5ce8b7[_0x1ef3ed(0x1e0)]);let _0x5573a8=await this[_0x1ef3ed(0x302)][_0x1ef3ed(0x628)][_0x1ef3ed(0x41a)]({'where':{'_id':_0x5ce8b7[_0x1ef3ed(0x1e0)]}},this[_0x1ef3ed(0x1da)]['wuid']),_0x2cb6d4={};if(Object['entries'](_0x5ce8b7[_0x1ef3ed(0x830)])[_0x1ef3ed(0x663)](([_0x10cc10,_0x434643])=>{const _0x270d1f=_0x1ef3ed;_0x2cb6d4[_0x270d1f(0x387)+_0x10cc10]=_0x434643;}),_0x5573a8&&!_0x5573a8[_0x1ef3ed(0x275)]){let _0x37c1da=(_0x5ce8b7[_0x1ef3ed(0x830)][_0x1ef3ed(0x1f0)]||[])[_0x1ef3ed(0x71f)](_0x5728a7=>_0x170483[_0x1ef3ed(0x59e)](_0x5728a7)),_0x310e3d=new Set(_0x5573a8['leadInfo']['etiquetas']||[]),_0x2b43f4=_0x37c1da[_0x1ef3ed(0x71f)](_0x4dbd77=>!_0x310e3d[_0x1ef3ed(0x59e)](_0x4dbd77)),_0x5be203=[..._0x310e3d][_0x1ef3ed(0x71f)](_0x27d244=>!_0x37c1da[_0x1ef3ed(0x592)](_0x27d244));_0x39cc0e[_0x1ef3ed(0x7ef)](..._0x2b43f4[_0x1ef3ed(0x614)](_0x3b03d2=>this[_0x1ef3ed(0x55d)](_0x3b03d2,_0x5ce8b7['_id']))),_0x39cc0e[_0x1ef3ed(0x7ef)](..._0x5be203[_0x1ef3ed(0x614)](_0x5e4f63=>this[_0x1ef3ed(0x516)](_0x5e4f63,_0x5ce8b7['_id']))),_0x5ce8b7[_0x1ef3ed(0x830)][_0x1ef3ed(0x1f0)]=_0x37c1da,_0x3d68ff[_0x1ef3ed(0x7ef)]({'query':{'where':{'_id':_0x5ce8b7[_0x1ef3ed(0x1e0)],'owner':this[_0x1ef3ed(0x1da)][_0x1ef3ed(0x177)]}},'update':_0x2cb6d4});}else _0x2cb6d4[_0x1ef3ed(0x275)]=!0x0,_0x3d68ff[_0x1ef3ed(0x7ef)]({'query':{'where':{'_id':_0x5ce8b7[_0x1ef3ed(0x1e0)],'owner':this[_0x1ef3ed(0x1da)][_0x1ef3ed(0x177)]}},'update':_0x2cb6d4});}let _0x35f8c5=await this['repository'][_0x1ef3ed(0x628)][_0x1ef3ed(0x389)](_0x3d68ff);return await Promise[_0x1ef3ed(0x859)](_0x39cc0e),{'updated':_0x35f8c5};}catch(_0x478406){let _0x14d78d=_0x1ef3ed(0x1b0),_0x40ea82=_0x478406 instanceof Error?_0x478406[_0x1ef3ed(0x416)]:typeof _0x478406=='object'?JSON['stringify'](_0x478406):_0x478406,_0xacdb33=_0x14d78d+':\x20'+_0x40ea82;throw this[_0x1ef3ed(0x50b)][_0x1ef3ed(0x434)](this['instanceName']+'\x20('+this[_0x1ef3ed(0x1da)][_0x1ef3ed(0x177)]+_0x1ef3ed(0x83b)+_0xacdb33),new m(_0xacdb33);}}async[a0_0x43466e(0x2da)](){const _0x24436e=a0_0x43466e;return await this['client'][_0x24436e(0x2da)]();}async['updatePrivacySettings'](_0x1faded){const _0x48b1ea=a0_0x43466e;try{return await this[_0x48b1ea(0x1a2)][_0x48b1ea(0x4b7)](_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x225)]),await this[_0x48b1ea(0x1a2)][_0x48b1ea(0x839)](_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x769)]),await this['client']['updateStatusPrivacy'](_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x405)]),await this[_0x48b1ea(0x1a2)][_0x48b1ea(0x7da)](_0x1faded['privacySettings'][_0x48b1ea(0x7d1)]),await this[_0x48b1ea(0x1a2)][_0x48b1ea(0x87e)](_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x57d)]),await this[_0x48b1ea(0x1a2)]['updateGroupsAddPrivacy'](_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x7fa)]),this[_0x48b1ea(0x1a2)]?.['ws']?.[_0x48b1ea(0x604)](),{'update':_0x48b1ea(0x2e9),'data':{'readreceipts':_0x1faded[_0x48b1ea(0x1a3)]['readreceipts'],'profile':_0x1faded[_0x48b1ea(0x1a3)]['profile'],'status':_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x405)],'online':_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x7d1)],'last':_0x1faded[_0x48b1ea(0x1a3)]['last'],'groupadd':_0x1faded[_0x48b1ea(0x1a3)][_0x48b1ea(0x7fa)]}};}catch(_0x35c6a7){let _0x3e235b=_0x48b1ea(0x4a4),_0x1d9ad2=_0x35c6a7 instanceof Error?_0x35c6a7[_0x48b1ea(0x416)]:typeof _0x35c6a7=='object'?JSON[_0x48b1ea(0x5ad)](_0x35c6a7):_0x35c6a7,_0x4076ae=_0x3e235b+':\x20'+_0x1d9ad2;throw this['logger'][_0x48b1ea(0x434)](this[_0x48b1ea(0x297)]+'\x20('+this['instance'][_0x48b1ea(0x177)]+_0x48b1ea(0x83b)+_0x4076ae),new m(_0x4076ae);}}async[a0_0x43466e(0x7b4)](_0x3a6df1){const _0x2e21f4=a0_0x43466e;let _0x2b6bb4=(_0x3a6df1?this[_0x2e21f4(0x443)](_0x3a6df1):this[_0x2e21f4(0x1a2)]?.[_0x2e21f4(0x331)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x2e21f4(0x50b)][_0x2e21f4(0x213)](this[_0x2e21f4(0x297)]+'\x20('+this[_0x2e21f4(0x1da)]['wuid']+_0x2e21f4(0x197)+_0x2b6bb4);let _0x404751=await this[_0x2e21f4(0x302)]['contact']['findOne']({'where':{'_id':_0x2b6bb4}},this[_0x2e21f4(0x1da)][_0x2e21f4(0x177)]),_0x345a2a=_0x404751?_0x404751[_0x2e21f4(0x66d)]:null;try{let _0x3564d9=(await this[_0x2e21f4(0x42f)]({'numbers':[_0x2b6bb4]}))?.[_0x2e21f4(0x6ee)](),_0x335d50=(await this[_0x2e21f4(0x591)](_0x2b6bb4,null,!0x1))[_0x2e21f4(0x3e8)][_0x2e21f4(0x53b)],_0x26b639=await this[_0x2e21f4(0x691)](_0x3564d9?.[_0x2e21f4(0x6f1)]),_0x30c53a=await this[_0x2e21f4(0x281)](_0x3564d9?.[_0x2e21f4(0x6f1)]),_0x1a9b20=(await this['findAndUpdateCacheContact'](_0x2b6bb4,null,!0x1))['cachedContact'][_0x2e21f4(0x5c3)],_0x503ecf=await this[_0x2e21f4(0x302)][_0x2e21f4(0x628)]['findOne']({'where':{'_id':_0x2b6bb4}},this[_0x2e21f4(0x1da)][_0x2e21f4(0x177)]),_0x556568={'imagechat':_0x335d50,'contactname':_0x345a2a||null,'pushName':_0x1a9b20,'status':_0x26b639?.['status'],'isBusiness':_0x30c53a[_0x2e21f4(0x242)],'email':_0x30c53a?.[_0x2e21f4(0x263)],'description':_0x30c53a?.['description'],'website':_0x30c53a?.['website']?.['shift'](),'lastcache':Date[_0x2e21f4(0x24f)](),'imported':!_0x503ecf},_0x7b0e8a=await this[_0x2e21f4(0x302)]['chat']['updateOne']({'where':{'_id':_0x2b6bb4}},_0x556568,this[_0x2e21f4(0x1da)][_0x2e21f4(0x177)]),_0x52ce08={'owner':this[_0x2e21f4(0x1da)][_0x2e21f4(0x177)],'_id':_0x2b6bb4,'profilePictureUrl':_0x335d50,'status':_0x26b639?.[_0x2e21f4(0x405)]};return this[_0x2e21f4(0x302)]['contact'][_0x2e21f4(0x211)]([_0x52ce08],this['instance'][_0x2e21f4(0x177)]),_0x7b0e8a&&F(this['instanceName'],_0x2e21f4(0x462),{'chat':_0x7b0e8a}),{'wuid':_0x3564d9?.[_0x2e21f4(0x6f1)]||_0x2b6bb4,'name':_0x3564d9?.[_0x2e21f4(0x5c3)],'pushName':_0x1a9b20,'numberExists':_0x3564d9?.[_0x2e21f4(0x7cf)],'picture':_0x335d50,'status':_0x26b639?.[_0x2e21f4(0x405)],'isBusiness':_0x30c53a[_0x2e21f4(0x242)],'email':_0x30c53a?.[_0x2e21f4(0x263)],'description':_0x30c53a?.[_0x2e21f4(0x8a4)],'website':_0x30c53a?.[_0x2e21f4(0x851)]?.[_0x2e21f4(0x6ee)]()};}catch(_0x12f882){return this[_0x2e21f4(0x50b)]['error'](_0x2e21f4(0x317)+(_0x12f882 instanceof Error?_0x12f882['message']:JSON['stringify'](_0x12f882,null,0x2))),{};}}async[a0_0x43466e(0x281)](_0x45c58d){const _0x4210ab=a0_0x43466e;this['logger'][_0x4210ab(0x213)](this[_0x4210ab(0x297)]+'\x20('+this[_0x4210ab(0x1da)][_0x4210ab(0x177)]+_0x4210ab(0x5f3));try{let _0x3f138a=_0x45c58d?this[_0x4210ab(0x443)](_0x45c58d):this[_0x4210ab(0x1da)][_0x4210ab(0x177)],_0x2d4730=await this[_0x4210ab(0x1a2)]['getBusinessProfile'](_0x3f138a);return this['logger'][_0x4210ab(0x213)](this[_0x4210ab(0x297)]+'\x20('+this[_0x4210ab(0x1da)][_0x4210ab(0x177)]+_0x4210ab(0x170)),_0x2d4730?(this[_0x4210ab(0x50b)]['verbose'](this[_0x4210ab(0x297)]+'\x20('+this['instance']['wuid']+_0x4210ab(0x3f5)),{'isBusiness':!0x0,..._0x2d4730}):{'isBusiness':!0x1,'message':_0x4210ab(0x4df),...(await this[_0x4210ab(0x42f)]({'numbers':[_0x3f138a]}))?.['shift']()};}catch(_0x213c92){let _0x3d9e34=_0x4210ab(0x847),_0x155384=_0x213c92 instanceof Error?_0x213c92[_0x4210ab(0x416)]:typeof _0x213c92==_0x4210ab(0x6eb)?JSON[_0x4210ab(0x5ad)](_0x213c92):_0x213c92,_0x19e041=_0x3d9e34+':\x20'+_0x155384;throw this[_0x4210ab(0x50b)][_0x4210ab(0x434)](this[_0x4210ab(0x297)]+'\x20('+this[_0x4210ab(0x1da)][_0x4210ab(0x177)]+'):\x20'+_0x19e041),new x(_0x19e041);}}async[a0_0x43466e(0x691)](_0xc7faa9){const _0x26247c=a0_0x43466e;let _0x198cf8=this[_0x26247c(0x443)](_0xc7faa9);try{return{'wuid':_0x198cf8,'status':(await this[_0x26247c(0x1a2)][_0x26247c(0x6e0)](_0x198cf8))[0x0]?.[_0x26247c(0x405)]};}catch{return{'wuid':_0x198cf8,'status':null};}}async['updateProfileName'](_0x96d937){const _0x230c5a=a0_0x43466e;try{return await this[_0x230c5a(0x1a2)][_0x230c5a(0x8a8)](_0x96d937),{'update':_0x230c5a(0x2e9)};}catch(_0x8b49c1){let _0xc89563='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x3260b5=_0x8b49c1 instanceof Error?_0x8b49c1[_0x230c5a(0x416)]:typeof _0x8b49c1==_0x230c5a(0x6eb)?JSON[_0x230c5a(0x5ad)](_0x8b49c1):_0x8b49c1,_0x3f7123=_0xc89563+':\x20'+_0x3260b5;throw this[_0x230c5a(0x50b)][_0x230c5a(0x434)](this[_0x230c5a(0x297)]+'\x20('+this['instance'][_0x230c5a(0x177)]+_0x230c5a(0x83b)+_0x3f7123),new x(_0x3f7123);}}async['updateProfileStatus'](_0x5eb9df){const _0x1f391a=a0_0x43466e;try{return await this[_0x1f391a(0x1a2)][_0x1f391a(0x533)](_0x5eb9df),{'update':_0x1f391a(0x2e9)};}catch(_0x176710){let _0x4bca26=_0x1f391a(0x353),_0x5d975a=_0x176710 instanceof Error?_0x176710['message']:typeof _0x176710==_0x1f391a(0x6eb)?JSON['stringify'](_0x176710):_0x176710,_0x184823=_0x4bca26+':\x20'+_0x5d975a;throw this['logger'][_0x1f391a(0x434)](this[_0x1f391a(0x297)]+'\x20('+this[_0x1f391a(0x1da)][_0x1f391a(0x177)]+_0x1f391a(0x83b)+_0x184823),new x(_0x184823);}}async[a0_0x43466e(0x246)](_0x529e4d){const _0x17374b=a0_0x43466e;try{let _0x892e3c;if((0x0,J[_0x17374b(0x336)])(_0x529e4d)){let _0x435cf7=new Date()[_0x17374b(0x62e)](),_0x4f4e2b=_0x529e4d+_0x17374b(0x260)+_0x435cf7;_0x892e3c=(await Q[_0x17374b(0x56d)][_0x17374b(0x5e9)](_0x4f4e2b,{'responseType':_0x17374b(0x882)}))[_0x17374b(0x42e)];}else{if((0x0,J[_0x17374b(0x4ab)])(_0x529e4d))_0x892e3c=Buffer[_0x17374b(0x3d3)](_0x529e4d,_0x17374b(0x30f));else throw new m(_0x17374b(0x3eb));}return await this[_0x17374b(0x1a2)][_0x17374b(0x246)](this[_0x17374b(0x1da)][_0x17374b(0x177)],_0x892e3c),{'update':_0x17374b(0x2e9)};}catch(_0x43881f){let _0x440cc0=_0x17374b(0x5cc),_0x2ca333=_0x43881f instanceof Error?_0x43881f[_0x17374b(0x416)]:typeof _0x43881f=='object'?JSON[_0x17374b(0x5ad)](_0x43881f):_0x43881f,_0x1bb64d=_0x440cc0+':\x20'+_0x2ca333;throw this[_0x17374b(0x50b)][_0x17374b(0x434)](this[_0x17374b(0x297)]+'\x20('+this['instance'][_0x17374b(0x177)]+_0x17374b(0x83b)+_0x1bb64d),new x(_0x1bb64d);}}async['removeProfilePicture'](){const _0x5a08fa=a0_0x43466e;try{return await this[_0x5a08fa(0x1a2)]['removeProfilePicture'](this[_0x5a08fa(0x1da)][_0x5a08fa(0x177)]),{'update':'success'};}catch(_0x98f53b){let _0x2d0348='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x15270c=_0x98f53b instanceof Error?_0x98f53b[_0x5a08fa(0x416)]:typeof _0x98f53b=='object'?JSON[_0x5a08fa(0x5ad)](_0x98f53b):_0x98f53b,_0x2b9d2b=_0x2d0348+':\x20'+_0x15270c;throw this['logger']['error'](this[_0x5a08fa(0x297)]+'\x20('+this[_0x5a08fa(0x1da)]['wuid']+_0x5a08fa(0x83b)+_0x2b9d2b),new x(_0x2b9d2b);}}async[a0_0x43466e(0x811)](_0x545b52){const _0x6a4a9a=a0_0x43466e;try{let _0x2e72e4=(await this[_0x6a4a9a(0x42f)]({'numbers':_0x545b52[_0x6a4a9a(0x5d3)]}))[_0x6a4a9a(0x71f)](_0x13b2e5=>_0x13b2e5[_0x6a4a9a(0x7cf)])[_0x6a4a9a(0x614)](_0x4a8759=>_0x4a8759[_0x6a4a9a(0x6f1)]),{id:_0x33820c}=await this[_0x6a4a9a(0x1a2)][_0x6a4a9a(0x2cb)](_0x545b52[_0x6a4a9a(0x2a7)],_0x2e72e4);_0x545b52?.[_0x6a4a9a(0x8a4)]&&await this[_0x6a4a9a(0x1a2)][_0x6a4a9a(0x3d5)](_0x33820c,_0x545b52[_0x6a4a9a(0x8a4)]);let _0x32bfad=await this[_0x6a4a9a(0x1a2)][_0x6a4a9a(0x803)](_0x33820c);return _0x32bfad['awaitingApproval']=[],await this[_0x6a4a9a(0x860)](_0x32bfad),{'metadata':_0x32bfad};}catch(_0x500a33){let _0x1061b6=_0x6a4a9a(0x432),_0x2201e4=_0x500a33 instanceof Error?_0x500a33[_0x6a4a9a(0x416)]:typeof _0x500a33==_0x6a4a9a(0x6eb)?JSON[_0x6a4a9a(0x5ad)](_0x500a33):_0x500a33,_0xa50bd8=_0x1061b6+':\x20'+_0x2201e4;throw this['logger'][_0x6a4a9a(0x434)](this[_0x6a4a9a(0x297)]+'\x20('+this[_0x6a4a9a(0x1da)][_0x6a4a9a(0x177)]+_0x6a4a9a(0x83b)+_0xa50bd8),new x(_0xa50bd8);}}async['groupBetterSetting'](_0x5aa258){const _0x470c75=a0_0x43466e;try{if(_0x5aa258[_0x470c75(0x44e)]===!0x0&&await this['client'][_0x470c75(0x5e7)](_0x5aa258[_0x470c75(0x826)],_0x470c75(0x3a2)),_0x5aa258[_0x470c75(0x44e)]===!0x1&&await this[_0x470c75(0x1a2)][_0x470c75(0x5e7)](_0x5aa258['groupJid'],_0x470c75(0x39c)),_0x5aa258[_0x470c75(0x49b)]===!0x0&&await this[_0x470c75(0x1a2)][_0x470c75(0x5e7)](_0x5aa258[_0x470c75(0x826)],_0x470c75(0x1bd)),_0x5aa258['announce']===!0x1&&await this[_0x470c75(0x1a2)][_0x470c75(0x5e7)](_0x5aa258[_0x470c75(0x826)],_0x470c75(0x1b6)),_0x5aa258[_0x470c75(0x1c1)]===!0x0&&await this[_0x470c75(0x1a2)]['groupMemberAddMode'](_0x5aa258[_0x470c75(0x826)],_0x470c75(0x264)),_0x5aa258[_0x470c75(0x1c1)]===!0x1&&await this[_0x470c75(0x1a2)][_0x470c75(0x772)](_0x5aa258[_0x470c75(0x826)],'admin_add'),_0x5aa258[_0x470c75(0x881)]===!0x0&&await this[_0x470c75(0x1a2)][_0x470c75(0x48a)](_0x5aa258[_0x470c75(0x826)],'on'),_0x5aa258['joinApprovalMode']===!0x1&&await this['client']['groupJoinApprovalMode'](_0x5aa258[_0x470c75(0x826)],_0x470c75(0x57a)),typeof _0x5aa258[_0x470c75(0x586)]<'u'&&_0x5aa258[_0x470c75(0x586)]!==null&&await this[_0x470c75(0x1a2)][_0x470c75(0x7f4)](_0x5aa258[_0x470c75(0x826)],_0x5aa258[_0x470c75(0x586)]),_0x5aa258[_0x470c75(0x5c3)]&&await this['client']['groupUpdateSubject'](_0x5aa258[_0x470c75(0x826)],_0x5aa258[_0x470c75(0x5c3)]),_0x5aa258[_0x470c75(0x8a4)]&&await this['client'][_0x470c75(0x3d5)](_0x5aa258[_0x470c75(0x826)],_0x5aa258[_0x470c75(0x8a4)]),_0x5aa258[_0x470c75(0x3c1)]){let _0x1b73a6;if((0x0,J['isURL'])(_0x5aa258[_0x470c75(0x3c1)])){let _0x465d47=new Date()[_0x470c75(0x62e)](),_0x530bc9=_0x5aa258[_0x470c75(0x3c1)]+_0x470c75(0x260)+_0x465d47;_0x1b73a6=(await Q['default']['get'](_0x530bc9,{'responseType':_0x470c75(0x882)}))[_0x470c75(0x42e)];}else{if((0x0,J['isBase64'])(_0x5aa258[_0x470c75(0x3c1)]))_0x1b73a6=Buffer[_0x470c75(0x3d3)](_0x5aa258[_0x470c75(0x3c1)],_0x470c75(0x30f));else throw new m(_0x470c75(0x3eb));}await this['client'][_0x470c75(0x246)](_0x5aa258[_0x470c75(0x826)],_0x1b73a6);}return await this[_0x470c75(0x66e)]({'groupJid':_0x5aa258[_0x470c75(0x826)]});}catch(_0x15e273){let _0x4cc5b7=_0x470c75(0x4bf),_0x419b67=_0x15e273 instanceof Error?_0x15e273['message']:typeof _0x15e273==_0x470c75(0x6eb)?JSON[_0x470c75(0x5ad)](_0x15e273):_0x15e273,_0x379980=_0x4cc5b7+':\x20'+_0x419b67;throw this[_0x470c75(0x50b)][_0x470c75(0x434)](this[_0x470c75(0x297)]+'\x20('+this[_0x470c75(0x1da)]['wuid']+_0x470c75(0x83b)+_0x379980),new x(_0x379980);}}async['updateGParticipant'](_0x1fe5f2){const _0xd35199=a0_0x43466e;try{let _0x4c334b=_0x1fe5f2[_0xd35199(0x5d3)][_0xd35199(0x614)](_0xda8474=>this[_0xd35199(0x443)](_0xda8474));if(_0x1fe5f2[_0xd35199(0x1fc)]===_0xd35199(0x563)||_0x1fe5f2[_0xd35199(0x1fc)]===_0xd35199(0x1c8))await this[_0xd35199(0x1a2)][_0xd35199(0x26b)](_0x1fe5f2[_0xd35199(0x826)],_0x4c334b,_0x1fe5f2[_0xd35199(0x1fc)]);else{if(_0x1fe5f2[_0xd35199(0x1fc)]===_0xd35199(0x574)){let _0x3b3d26=(await this[_0xd35199(0x42f)]({'numbers':_0x1fe5f2[_0xd35199(0x5d3)]}))[_0xd35199(0x71f)](_0x8dfdb6=>_0x8dfdb6[_0xd35199(0x7cf)])['map'](_0x30b8c1=>this[_0xd35199(0x443)](_0x30b8c1[_0xd35199(0x6f1)]));if(_0x3b3d26[_0xd35199(0x695)]===0x0)throw new m(_0xd35199(0x1d5));await this[_0xd35199(0x1a2)]['groupParticipantsUpdate'](_0x1fe5f2[_0xd35199(0x826)],_0x3b3d26,'add');}else await this[_0xd35199(0x1a2)][_0xd35199(0x6a7)](_0x1fe5f2[_0xd35199(0x826)],_0x4c334b,_0x1fe5f2['action']);}return await this[_0xd35199(0x66e)]({'groupJid':_0x1fe5f2['groupJid']});}catch(_0x1a3e48){let _0x2cef3a=_0xd35199(0x3e5),_0x2a68a4=_0x1a3e48 instanceof Error?_0x1a3e48['message']:typeof _0x1a3e48==_0xd35199(0x6eb)?JSON['stringify'](_0x1a3e48):_0x1a3e48,_0x3dbc03=_0x2cef3a+':\x20'+_0x2a68a4;throw this[_0xd35199(0x50b)][_0xd35199(0x434)](this['instanceName']+'\x20('+this['instance'][_0xd35199(0x177)]+'):\x20'+_0x3dbc03),new m(_0x3dbc03);}}async[a0_0x43466e(0x85d)](_0x4988d5){const _0x165391=a0_0x43466e;try{return await this[_0x165391(0x1a2)][_0x165391(0x85d)](_0x4988d5[_0x165391(0x84f)]);}catch(_0x15b3e1){let _0x31db4b=_0x165391(0x15a),_0x5aa023=_0x15b3e1 instanceof Error?_0x15b3e1[_0x165391(0x416)]:typeof _0x15b3e1==_0x165391(0x6eb)?JSON['stringify'](_0x15b3e1):_0x15b3e1,_0x43918a=_0x31db4b+':\x20'+_0x5aa023;throw this[_0x165391(0x50b)][_0x165391(0x434)](this[_0x165391(0x297)]+'\x20('+this[_0x165391(0x1da)][_0x165391(0x177)]+_0x165391(0x83b)+_0x43918a),new m(_0x43918a);}}async['findGroup'](_0x5e8834,_0x1dcc79='out'){const _0x55088d=a0_0x43466e;try{let _0x260dd1=await this[_0x55088d(0x302)][_0x55088d(0x628)][_0x55088d(0x41a)]({'where':{'_id':_0x5e8834[_0x55088d(0x826)]}},this[_0x55088d(0x1da)][_0x55088d(0x177)]),_0x2646a0=_0x260dd1?_0x260dd1[_0x55088d(0x64f)]:null,_0x5f4c06=0x18*0x3c*0x3c*0x3e8;if(!_0x2646a0||_0x2646a0['lastUpdate']&&Date[_0x55088d(0x24f)]()-_0x2646a0[_0x55088d(0x4bd)]>_0x5f4c06){let _0x57db83=await this[_0x55088d(0x1a2)][_0x55088d(0x803)](_0x5e8834[_0x55088d(0x826)]);if(_0x57db83[_0x55088d(0x446)]=_0x57db83?.[_0x55088d(0x446)]&&_0x57db83[_0x55088d(0x446)][_0x55088d(0x880)]()[_0x55088d(0x695)]<0xd?_0x57db83?.[_0x55088d(0x446)]*0x3e8:_0x57db83?.[_0x55088d(0x446)]||null,_0x57db83[_0x55088d(0x70c)]=_0x57db83?.['creation']&&_0x57db83[_0x55088d(0x70c)][_0x55088d(0x880)]()['length']<0xd?_0x57db83?.[_0x55088d(0x70c)]*0x3e8:_0x57db83?.[_0x55088d(0x70c)]||null,_0x2646a0={..._0x57db83,'lastUpdate':Date['now']()},!_0x57db83)return;}let _0x347142=_0x2646a0[_0x55088d(0x5d3)][_0x55088d(0x541)](_0x4adc3a=>_0x4adc3a['id']===this[_0x55088d(0x1da)]['wuid']+'@s.whatsapp.net'&&_0x4adc3a[_0x55088d(0x6b4)]!=null);!_0x2646a0[_0x55088d(0x84f)]&&_0x347142&&(_0x2646a0[_0x55088d(0x84f)]=(await this['inviteCode'](_0x5e8834,!0x1))['inviteUrl']);let _0x39e340=(!_0x2646a0['announce']||_0x347142)&&(!_0x2646a0['isCommunity']||_0x2646a0[_0x55088d(0x6f0)]&&_0x2646a0[_0x55088d(0x301)]&&_0x347142);_0x2646a0[_0x55088d(0x5ed)]=_0x347142,_0x2646a0[_0x55088d(0x706)]=_0x39e340;let _0x59b119=[];if(_0x347142&&_0x2646a0[_0x55088d(0x881)])try{_0x59b119=await this['client'][_0x55088d(0x7cc)](_0x5e8834[_0x55088d(0x826)]),_0x2646a0['lastFetchAwaitingApproval']=Date[_0x55088d(0x24f)]();}catch(_0x25da8e){this[_0x55088d(0x50b)]['verbose'](this[_0x55088d(0x297)]+'\x20('+this['instance']['wuid']+_0x55088d(0x1d8)+_0x5e8834['groupJid']+':\x20'+(_0x25da8e instanceof Error?_0x25da8e['message']:JSON['stringify'](_0x25da8e,null,0x2)));}try{_0x2646a0[_0x55088d(0x3c1)]=(await this[_0x55088d(0x591)](_0x5e8834[_0x55088d(0x826)],null,!0x0))[_0x55088d(0x3e8)][_0x55088d(0x53b)];}catch(_0x3bde2f){this[_0x55088d(0x50b)][_0x55088d(0x213)](this[_0x55088d(0x297)]+'\x20('+this[_0x55088d(0x1da)][_0x55088d(0x177)]+_0x55088d(0x477)+_0x5e8834[_0x55088d(0x826)]+':\x20'+(_0x3bde2f instanceof Error?_0x3bde2f[_0x55088d(0x416)]:JSON[_0x55088d(0x5ad)](_0x3bde2f,null,0x2)));}let _0x28b87c=_0x2646a0['participants'][_0x55088d(0x614)](_0x2b7925=>_0x2b7925['id']),_0x368922=_0x59b119[_0x55088d(0x614)](_0x543f18=>_0x543f18[_0x55088d(0x6f1)]),_0x310871=await this[_0x55088d(0x302)][_0x55088d(0x890)][_0x55088d(0x44b)]([..._0x28b87c,..._0x368922]);_0x2646a0[_0x55088d(0x5d3)]=_0x2646a0['participants'][_0x55088d(0x614)](_0x17911e=>{const _0x5977b3=_0x55088d;let _0x3e139c=_0x310871[_0x5977b3(0x6cf)](_0x1a7e58=>_0x1a7e58[_0x5977b3(0x1e0)]===_0x17911e['id']);return{'id':_0x17911e['id'],'isAdmin':[_0x5977b3(0x6b4),_0x5977b3(0x82a)]['includes'](_0x17911e[_0x5977b3(0x6b4)]),'admin':_0x17911e[_0x5977b3(0x6b4)],'pushName':_0x3e139c?.['name'],'profilePictureUrl':_0x3e139c?.[_0x5977b3(0x53b)]};}),_0x2646a0['awaitingApproval']=_0x59b119['map'](_0x3f81b0=>{const _0x55fbf6=_0x55088d;let _0x454de4=_0x310871[_0x55fbf6(0x6cf)](_0x5406df=>_0x5406df[_0x55fbf6(0x1e0)]===_0x3f81b0[_0x55fbf6(0x6f1)]);return{'id':_0x3f81b0[_0x55fbf6(0x6f1)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x454de4?.[_0x55fbf6(0x5c3)],'profilePictureUrl':_0x454de4?.['pictureUrl'],'request_method':_0x3f81b0[_0x55fbf6(0x421)],'request_time':_0x3f81b0[_0x55fbf6(0x383)]};});let _0x1ee4b0=await this['repository'][_0x55088d(0x628)][_0x55088d(0x723)]({'where':{'_id':_0x5e8834[_0x55088d(0x826)]}},{'imagechat':_0x2646a0[_0x55088d(0x3c1)],'name':_0x2646a0['subject'],'lastcache':Date[_0x55088d(0x24f)](),'groupdata':_0x2646a0},this[_0x55088d(0x1da)][_0x55088d(0x177)]);return F(this[_0x55088d(0x297)],_0x55088d(0x462),{'chat':_0x1ee4b0}),{'metadata':_0x2646a0};}catch(_0x1f5108){if(_0x1dcc79==='inner')return;throw new U(_0x55088d(0x66c),_0x1f5108[_0x55088d(0x416)][_0x55088d(0x880)]());}}async['findGroups'](){const _0x440b29=a0_0x43466e;try{this[_0x440b29(0x50b)][_0x440b29(0x4d3)]('Retornando\x20grupos\x20COM\x20cache');let _0x2bf02e=Date[_0x440b29(0x24f)](),_0x2fe4a6=0x3*0x3c*0x3c*0x3e8;return _0x2bf02e-this[_0x440b29(0x2a5)]>_0x2fe4a6&&(this['findRealGroups'](),this['lastRealGroupsFetch']=_0x2bf02e),(await this[_0x440b29(0x302)]['chat'][_0x440b29(0x767)]({'where':{'group':!0x0}},this[_0x440b29(0x1da)][_0x440b29(0x177)]))[_0x440b29(0x614)](_0x2fdde4=>({..._0x2fdde4[_0x440b29(0x64f)],'groupJid':_0x2fdde4?.[_0x440b29(0x1e0)],'participants':_0x2fdde4?.['groupdata']?.['participants']||[],'awaitingApproval':_0x2fdde4?.[_0x440b29(0x64f)]?.['awaitingApproval']||[],'image':_0x2fdde4?.['imagechat']}));}catch(_0x290984){let _0x1bbc81=_0x440b29(0x4ba),_0x2446ff=_0x290984 instanceof Error?_0x290984[_0x440b29(0x416)]:typeof _0x290984==_0x440b29(0x6eb)?JSON[_0x440b29(0x5ad)](_0x290984):_0x290984,_0x180b1a=_0x1bbc81+':\x20'+_0x2446ff;throw this['logger'][_0x440b29(0x434)](this[_0x440b29(0x297)]+'\x20('+this['instance']['wuid']+_0x440b29(0x83b)+_0x180b1a),new U(_0x180b1a);}}async['findRealGroups'](){const _0x5b2531=a0_0x43466e;try{this[_0x5b2531(0x50b)][_0x5b2531(0x4d3)](_0x5b2531(0x844));let _0x199b00=[],_0x402050=await this[_0x5b2531(0x1a2)]['groupFetchAllParticipating'](),_0x4c1060=Object[_0x5b2531(0x70a)](_0x402050),_0x9cbd1a=_0x4c1060[_0x5b2531(0x71f)](_0x111040=>(0x0,w[_0x5b2531(0x806)])(_0x111040?.['id']))['map'](async _0x4ab0c3=>{const _0x456e95=_0x5b2531;try{return await this['client'][_0x456e95(0x39a)](_0x4ab0c3['id'],_0x456e95(0x526));}catch(_0x17d50d){return this[_0x456e95(0x50b)][_0x456e95(0x213)](this[_0x456e95(0x297)]+'\x20('+this[_0x456e95(0x1da)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x4ab0c3['id']+':\x20'+(_0x17d50d instanceof Error?_0x17d50d[_0x456e95(0x416)]:JSON[_0x456e95(0x5ad)](_0x17d50d,null,0x2))),null;}}),_0x3b71a8=await Promise[_0x5b2531(0x859)](_0x9cbd1a);for(let _0x516bb6=0x0;_0x516bb6<_0x4c1060[_0x5b2531(0x695)];_0x516bb6++){let _0x25d3df=_0x4c1060[_0x516bb6];(0x0,w['isJidGroup'])(_0x25d3df?.['id'])&&(_0x199b00[_0x5b2531(0x7ef)]({'groupJid':_0x25d3df?.['id'],'subject':_0x25d3df?.[_0x5b2531(0x2a7)],'subjectOwner':_0x25d3df?.[_0x5b2531(0x5fd)]?.[_0x5b2531(0x380)]('@')[0x0],'subjectTime':_0x25d3df?.[_0x5b2531(0x446)],'creation':_0x25d3df?.[_0x5b2531(0x70c)],'size':_0x25d3df?.[_0x5b2531(0x5d3)]?.[_0x5b2531(0x695)],'owner':_0x25d3df?.[_0x5b2531(0x27c)]?.[_0x5b2531(0x380)]('@')[0x0],'desc':_0x25d3df?.[_0x5b2531(0x7fe)],'restrict':_0x25d3df?.[_0x5b2531(0x44e)],'announce':_0x25d3df?.['announce'],'image':_0x3b71a8[_0x516bb6],'isCommunity':_0x25d3df?.[_0x5b2531(0x6f0)],'joinApprovalMode':_0x25d3df?.[_0x5b2531(0x881)],'memberCanAddParticipant':_0x25d3df?.[_0x5b2531(0x1c1)],'participants':_0x25d3df?.[_0x5b2531(0x5d3)],'descOwner':_0x25d3df?.['descOwner'],'descId':_0x25d3df?.[_0x5b2531(0x486)],'memberAddMode':_0x25d3df?.[_0x5b2531(0x1c1)],'isCommunityAnnounce':_0x25d3df?.[_0x5b2531(0x301)],'ephemeralDuration':_0x25d3df?.[_0x5b2531(0x665)]||0x0,'author':_0x25d3df?.[_0x5b2531(0x22c)]}),this['updateChatGroupData'](_0x4c1060[_0x516bb6]));}return _0x199b00;}catch(_0x37bc44){let _0x4eed6e=_0x5b2531(0x45d),_0x4f5d7b=_0x37bc44 instanceof Error?_0x37bc44[_0x5b2531(0x416)]:typeof _0x37bc44=='object'?JSON[_0x5b2531(0x5ad)](_0x37bc44):_0x37bc44,_0x10d350=_0x4eed6e+':\x20'+_0x4f5d7b;throw this[_0x5b2531(0x50b)][_0x5b2531(0x434)](this['instanceName']+'\x20('+this[_0x5b2531(0x1da)][_0x5b2531(0x177)]+_0x5b2531(0x83b)+_0x10d350),new U(_0x10d350);}}async[a0_0x43466e(0x860)](_0x17c995){const _0x563069=a0_0x43466e;let _0x3d4424=await this['repository'][_0x563069(0x628)][_0x563069(0x41a)]({'where':{'_id':_0x17c995['id']}},this[_0x563069(0x1da)]['wuid']);_0x17c995[_0x563069(0x446)]=_0x17c995?.[_0x563069(0x446)]&&_0x17c995[_0x563069(0x446)][_0x563069(0x880)]()[_0x563069(0x695)]<0xd?_0x17c995?.[_0x563069(0x446)]*0x3e8:_0x17c995?.[_0x563069(0x446)]||null,_0x17c995[_0x563069(0x70c)]=_0x17c995?.[_0x563069(0x70c)]&&_0x17c995[_0x563069(0x70c)][_0x563069(0x880)]()['length']<0xd?_0x17c995?.['creation']*0x3e8:_0x17c995?.[_0x563069(0x70c)]||null;let _0x5ea42e=_0x3d4424?.[_0x563069(0x64f)]?.[_0x563069(0x1e7)]||[],_0x4b1a19=_0x3d4424?.[_0x563069(0x64f)]?.[_0x563069(0x766)],_0x1bca5d=_0x17c995['participants'][_0x563069(0x614)](_0x3527dc=>{const _0x411258=_0x563069;let _0x443daa=_0x3d4424?.[_0x411258(0x64f)]?.[_0x411258(0x5d3)][_0x411258(0x6cf)](_0x3766d1=>_0x3766d1['id']===_0x3527dc['id']);return{..._0x3527dc,'isAdmin':['admin',_0x411258(0x82a)]['includes'](_0x3527dc[_0x411258(0x6b4)]),'admin':_0x3527dc[_0x411258(0x6b4)],'name':_0x443daa?.[_0x411258(0x5c3)]||_0x3527dc[_0x411258(0x5c3)],'imgUrl':_0x443daa?.['imgUrl']||_0x3527dc[_0x411258(0x4e6)]};}),_0x2ae390=_0x1bca5d[_0x563069(0x541)](_0x520c60=>_0x520c60['id']===this[_0x563069(0x1da)][_0x563069(0x177)]+_0x563069(0x13d)&&_0x520c60[_0x563069(0x5ed)]),_0x17fd56=(!_0x17c995[_0x563069(0x49b)]||_0x2ae390)&&(!_0x17c995[_0x563069(0x6f0)]||_0x17c995[_0x563069(0x6f0)]&&_0x17c995[_0x563069(0x301)]&&_0x2ae390),_0x27e14d={..._0x17c995,'participants':_0x1bca5d,'awaitingApproval':_0x5ea42e,'lastFetchAwaitingApproval':_0x4b1a19,'isAdmin':_0x2ae390,'canSendMessage':_0x17fd56,'lastUpdate':Date['now']()};await this[_0x563069(0x302)][_0x563069(0x628)][_0x563069(0x723)]({'where':{'_id':_0x17c995['id']}},{'name':_0x17c995['subject'],'group':!0x0,'groupdata':_0x27e14d,'lastcache':Date[_0x563069(0x24f)]()},this[_0x563069(0x1da)]['wuid']),F(this[_0x563069(0x297)],_0x563069(0x462),{'chat':_0x17c995});}async['updateGroupWebhook'](_0x2d1835){const _0x7123cb=a0_0x43466e;let _0x440c15=await this['repository']['chat']['findOne']({'where':{'_id':_0x2d1835['id']}},this[_0x7123cb(0x1da)][_0x7123cb(0x177)]);_0x2d1835[_0x7123cb(0x446)]=_0x2d1835?.[_0x7123cb(0x446)]&&_0x2d1835[_0x7123cb(0x446)][_0x7123cb(0x880)]()['length']<0xd?_0x2d1835?.[_0x7123cb(0x446)]*0x3e8:_0x2d1835?.[_0x7123cb(0x446)]||null,_0x2d1835[_0x7123cb(0x70c)]=_0x2d1835?.['creation']&&_0x2d1835[_0x7123cb(0x70c)][_0x7123cb(0x880)]()['length']<0xd?_0x2d1835?.['creation']*0x3e8:_0x2d1835?.[_0x7123cb(0x70c)]||null,_0x2d1835[_0x7123cb(0x84f)]&&(_0x2d1835[_0x7123cb(0x84f)]=_0x7123cb(0x51b)+_0x2d1835[_0x7123cb(0x84f)]);let _0x1aed42=_0x440c15?.['groupdata']?{..._0x440c15[_0x7123cb(0x64f)]}:{};Object[_0x7123cb(0x73e)](_0x2d1835)[_0x7123cb(0x663)](_0x2d2509=>{_0x2d2509!=='id'&&(_0x1aed42[_0x2d2509]=_0x2d1835[_0x2d2509]);});let _0x51012e=_0x1aed42['participants']?.[_0x7123cb(0x541)](_0x6a2e9a=>_0x6a2e9a['id']===this[_0x7123cb(0x1da)][_0x7123cb(0x177)]+_0x7123cb(0x13d)&&_0x6a2e9a[_0x7123cb(0x5ed)])||!0x1;_0x1aed42[_0x7123cb(0x5ed)]=_0x51012e;let _0x11433a=(!_0x1aed42['announce']||_0x51012e)&&(!_0x1aed42[_0x7123cb(0x6f0)]||_0x1aed42[_0x7123cb(0x6f0)]&&_0x1aed42['isCommunityAnnounce']&&_0x51012e);_0x1aed42['canSendMessage']=_0x11433a;let _0x14304e={'group':!0x0,'groupdata':_0x1aed42};_0x2d1835[_0x7123cb(0x2a7)]&&(_0x14304e[_0x7123cb(0x5c3)]=_0x2d1835[_0x7123cb(0x2a7)]),await this[_0x7123cb(0x302)][_0x7123cb(0x628)]['updateOne']({'where':{'_id':_0x2d1835['id']}},_0x14304e,this[_0x7123cb(0x1da)][_0x7123cb(0x177)],{'upsert':!0x0}),F(this[_0x7123cb(0x297)],_0x7123cb(0x462),{'chat':_0x14304e});}async[a0_0x43466e(0x7e4)](_0x17a4ea){const _0x21be93=a0_0x43466e;let _0x2cfa50=await this[_0x21be93(0x302)][_0x21be93(0x628)]['findOne']({'where':{'_id':_0x17a4ea['id']}},this[_0x21be93(0x1da)][_0x21be93(0x177)]);if(!_0x2cfa50||!_0x2cfa50['groupdata']){this[_0x21be93(0x50b)][_0x21be93(0x4d3)](this[_0x21be93(0x297)]+'\x20('+this[_0x21be93(0x1da)][_0x21be93(0x177)]+_0x21be93(0x4e0)+_0x17a4ea['id']);return;}let _0x2367fa=await this['repository'][_0x21be93(0x890)][_0x21be93(0x44b)](_0x17a4ea[_0x21be93(0x5d3)]),_0x33c88b=[..._0x2cfa50[_0x21be93(0x64f)]?.[_0x21be93(0x5d3)]];switch(_0x17a4ea[_0x21be93(0x1fc)]){case _0x21be93(0x574):_0x2367fa[_0x21be93(0x614)](_0x21b50b=>({'id':_0x21b50b[_0x21be93(0x1e0)],'isAdmin':!0x1,'name':_0x21b50b[_0x21be93(0x5c3)],'imgUrl':_0x21b50b[_0x21be93(0x53b)]}))[_0x21be93(0x663)](_0x45215c=>{const _0x4c5c54=_0x21be93;_0x33c88b[_0x4c5c54(0x541)](_0x17fe56=>_0x17fe56['id']===_0x45215c['id'])||(_0x33c88b['push'](_0x45215c),this[_0x4c5c54(0x50b)][_0x4c5c54(0x4d3)](_0x4c5c54(0x188)+JSON[_0x4c5c54(0x5ad)](_0x45215c)));});break;case _0x21be93(0x6d7):_0x33c88b=_0x33c88b[_0x21be93(0x71f)](_0x192fec=>!_0x17a4ea[_0x21be93(0x5d3)][_0x21be93(0x592)](_0x192fec['id']));break;case _0x21be93(0x5fc):_0x33c88b=_0x33c88b[_0x21be93(0x614)](_0x1036b7=>_0x17a4ea[_0x21be93(0x5d3)][_0x21be93(0x592)](_0x1036b7['id'])?{..._0x1036b7,'isAdmin':!0x0,'admin':_0x21be93(0x6b4)}:_0x1036b7);break;case _0x21be93(0x6c3):_0x33c88b=_0x33c88b[_0x21be93(0x614)](_0x56ad1b=>_0x17a4ea[_0x21be93(0x5d3)][_0x21be93(0x592)](_0x56ad1b['id'])?{..._0x56ad1b,'isAdmin':!0x1,'admin':null}:_0x56ad1b);break;}let _0x36620c=_0x33c88b[_0x21be93(0x695)],_0x5e1cf0=_0x33c88b[_0x21be93(0x541)](_0x4bb007=>_0x4bb007['id']===this[_0x21be93(0x1da)]['wuid']+_0x21be93(0x13d)),_0x1bb8af=_0x5e1cf0&&_0x33c88b[_0x21be93(0x541)](_0x5e3221=>_0x5e3221['id']===this[_0x21be93(0x1da)][_0x21be93(0x177)]+'@s.whatsapp.net'&&_0x5e3221[_0x21be93(0x5ed)]),_0xf7d18e=_0x5e1cf0&&(!_0x2cfa50[_0x21be93(0x64f)][_0x21be93(0x49b)]||_0x1bb8af)&&(!_0x2cfa50[_0x21be93(0x64f)][_0x21be93(0x6f0)]||_0x2cfa50[_0x21be93(0x64f)][_0x21be93(0x6f0)]&&_0x1bb8af);await this[_0x21be93(0x302)][_0x21be93(0x628)]['updateOne']({'where':{'_id':_0x17a4ea['id']}},{'groupdata':{..._0x2cfa50['groupdata'],'participants':_0x33c88b,'size':_0x36620c,'isAdmin':_0x1bb8af,'canSendMessage':_0xf7d18e}},this['instance'][_0x21be93(0x177)]),this[_0x21be93(0x50b)][_0x21be93(0x4d3)](this[_0x21be93(0x297)]+'\x20('+this[_0x21be93(0x1da)][_0x21be93(0x177)]+'):\x20Grupo\x20'+_0x17a4ea['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x17a4ea['action']+_0x21be93(0x819)+_0x36620c+_0x21be93(0x6e5)+_0x1bb8af+_0x21be93(0x73d)+_0xf7d18e);}async[a0_0x43466e(0x84f)](_0x1184c2,_0x1f06e5=!0x0){const _0x10671a=a0_0x43466e;try{let _0x4b401f=await this[_0x10671a(0x1a2)]['groupInviteCode'](_0x1184c2[_0x10671a(0x826)]),_0x475cb0={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x4b401f};if(_0x1f06e5){let _0x5d0ca6=await this['repository'][_0x10671a(0x628)][_0x10671a(0x723)]({'where':{'_id':_0x1184c2['groupJid']}},_0x475cb0,this['instance'][_0x10671a(0x177)]);}return{'inviteUrl':_0x10671a(0x51b)+_0x4b401f,'inviteCode':_0x4b401f};}catch(_0xec7c55){let _0x34beba=_0x10671a(0x80f),_0x297ddc=_0xec7c55 instanceof Error?_0xec7c55['message']:typeof _0xec7c55==_0x10671a(0x6eb)?JSON[_0x10671a(0x5ad)](_0xec7c55):_0xec7c55,_0x3a47a3=_0x34beba+':\x20'+_0x297ddc;throw this[_0x10671a(0x50b)][_0x10671a(0x434)](this[_0x10671a(0x297)]+'\x20('+this[_0x10671a(0x1da)][_0x10671a(0x177)]+_0x10671a(0x83b)+_0x3a47a3),new U(_0x3a47a3);}}async[a0_0x43466e(0x475)](_0x1848ec){const _0x371e75=a0_0x43466e;try{let _0x6fa729=await this['client'][_0x371e75(0x44c)](_0x1848ec['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x371e75(0x51b)+_0x6fa729,'inviteCode':_0x6fa729};}catch(_0x3aaf14){let _0x131286=_0x371e75(0x2e5),_0x19a4d9=_0x3aaf14 instanceof Error?_0x3aaf14[_0x371e75(0x416)]:typeof _0x3aaf14==_0x371e75(0x6eb)?JSON[_0x371e75(0x5ad)](_0x3aaf14):_0x3aaf14,_0x57130b=_0x131286+':\x20'+_0x19a4d9;throw this[_0x371e75(0x50b)]['error'](this[_0x371e75(0x297)]+'\x20('+this[_0x371e75(0x1da)][_0x371e75(0x177)]+_0x371e75(0x83b)+_0x57130b),new U(_0x57130b);}}async[a0_0x43466e(0x1bf)](_0x565c45){const _0x4e4027=a0_0x43466e;try{if((0x0,J[_0x4e4027(0x336)])(_0x565c45[_0x4e4027(0x84f)]))var _0x22b15d=_0x565c45[_0x4e4027(0x84f)]['split']('/')[0x3];else var _0x22b15d=_0x565c45[_0x4e4027(0x84f)];let _0x35dc7c=await this[_0x4e4027(0x1a2)][_0x4e4027(0x786)](_0x22b15d);return this['logger'][_0x4e4027(0x213)](this['instanceName']+'\x20('+this['instance'][_0x4e4027(0x177)]+'):\x20'+_0x35dc7c),{'join':!0x0,'inviteCode':_0x22b15d,'groupJid':_0x35dc7c};}catch(_0x159262){let _0x26b88a=_0x4e4027(0x75c),_0x2bc287=_0x159262 instanceof Error?_0x159262['message']:typeof _0x159262=='object'?JSON[_0x4e4027(0x5ad)](_0x159262):_0x159262,_0xd306a6=_0x26b88a+':\x20'+_0x2bc287;throw this['logger'][_0x4e4027(0x434)](this['instanceName']+'\x20('+this[_0x4e4027(0x1da)][_0x4e4027(0x177)]+_0x4e4027(0x83b)+_0xd306a6),new U(_0xd306a6);}}async[a0_0x43466e(0x4fa)](_0x3de9a0){const _0x140b94=a0_0x43466e;try{return{'participants':(await this[_0x140b94(0x302)]['chat'][_0x140b94(0x41a)]({'where':{'_id':_0x3de9a0['groupJid']}},this[_0x140b94(0x1da)][_0x140b94(0x177)]))[_0x140b94(0x64f)]['participants']};}catch(_0x349c43){let _0x20c69d=_0x140b94(0x74f),_0xafc6c7=_0x349c43 instanceof Error?_0x349c43[_0x140b94(0x416)]:typeof _0x349c43==_0x140b94(0x6eb)?JSON[_0x140b94(0x5ad)](_0x349c43):_0x349c43,_0x152a74=_0x20c69d+':\x20'+_0xafc6c7;throw this[_0x140b94(0x50b)]['error'](this[_0x140b94(0x297)]+'\x20('+this['instance'][_0x140b94(0x177)]+_0x140b94(0x83b)+_0x152a74),new U(_0x152a74);}}async[a0_0x43466e(0x3b6)](_0x55d235){const _0x406268=a0_0x43466e;try{return await this[_0x406268(0x1a2)][_0x406268(0x688)](_0x55d235['groupJid']),{'groupJid':_0x55d235[_0x406268(0x826)],'leave':!0x0};}catch(_0x2de46e){let _0x23405f=_0x406268(0x898),_0x4dd07e=_0x2de46e instanceof Error?_0x2de46e[_0x406268(0x416)]:typeof _0x2de46e==_0x406268(0x6eb)?JSON['stringify'](_0x2de46e):_0x2de46e,_0x2bc8c8=_0x23405f+':\x20'+_0x4dd07e;throw this['logger'][_0x406268(0x434)](this[_0x406268(0x297)]+'\x20('+this['instance'][_0x406268(0x177)]+_0x406268(0x83b)+_0x2bc8c8),new m(_0x2bc8c8);}}async[a0_0x43466e(0x248)](_0x131836){const _0x5ec7e3=a0_0x43466e;return await this['sendMessageWithTyping'](_0x131836['number'],{'poll':{'name':_0x131836['pollMessage']?.[_0x5ec7e3(0x5c3)],'selectableCount':_0x131836[_0x5ec7e3(0x248)][_0x5ec7e3(0x476)],'values':_0x131836[_0x5ec7e3(0x248)]['values']}},_0x131836?.[_0x5ec7e3(0x1a5)]);}async[a0_0x43466e(0x63a)](_0xa38d7b){const _0x36a8f4=a0_0x43466e;return await this['sendMessageWithTyping'](_0xa38d7b[_0x36a8f4(0x4fc)],{'listMessage':{'title':_0xa38d7b['listMessage'][_0x36a8f4(0x20a)],'description':_0xa38d7b[_0x36a8f4(0x63a)][_0x36a8f4(0x8a4)],'buttonText':_0xa38d7b[_0x36a8f4(0x63a)]?.[_0x36a8f4(0x7c6)],'footerText':_0xa38d7b['listMessage']?.[_0x36a8f4(0x708)],'sections':_0xa38d7b[_0x36a8f4(0x63a)][_0x36a8f4(0x869)],'listType':0x2}},_0xa38d7b?.[_0x36a8f4(0x1a5)]);}async['menuMessage'](_0x12bfa9){const _0x16180e=a0_0x43466e;let _0x424f21;if(_0x12bfa9['menuMessage'][_0x16180e(0x375)]===_0x16180e(0x2d3)){let _0x44fe68=_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x3c5)][_0x16180e(0x1aa)]('\x0a'),_0xbf9196='',_0x12a991='';_0x44fe68!==-0x1?(_0xbf9196=_0x12bfa9['menuMessage']['text'][_0x16180e(0x5cd)](0x0,_0x44fe68)[_0x16180e(0x630)](),_0x12a991=_0x12bfa9[_0x16180e(0x15b)]['text'][_0x16180e(0x5cd)](_0x44fe68+0x1)):_0x12a991=_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x3c5)];let _0xbc6dc6=_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x1c6)]['filter'](_0x21a06a=>_0x21a06a[_0x16180e(0x630)]()!==''),_0x3f3645=this[_0x16180e(0x89b)](_0xbc6dc6);_0x424f21={'listMessage':{'title':_0xbf9196,'description':_0x12a991,'buttonText':_0x12bfa9['menuMessage']['buttonText']||_0x16180e(0x4f9),'footerText':_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x708)],'sections':_0x3f3645,'listType':0x2}};}else{if(_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x375)]===_0x16180e(0x3f9)){let _0x27d22f=_0x12bfa9['menuMessage'][_0x16180e(0x1c6)][_0x16180e(0x71f)](_0x259132=>!(_0x259132[_0x16180e(0x685)]('[')&&_0x259132[_0x16180e(0x164)](']'))&&_0x259132[_0x16180e(0x630)]()!=='')['map'](_0x29c742=>_0x29c742[_0x16180e(0x380)]('\x0a')[0x0]);for(;_0x27d22f['length']<0x2;)_0x27d22f[_0x16180e(0x7ef)]('Opção\x20Falsa\x20'+(_0x27d22f[_0x16180e(0x695)]+0x1));_0x424f21={'poll':{'name':_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x3c5)],'selectableCount':_0x12bfa9[_0x16180e(0x15b)]['selectableCount']||0x1,'values':_0x27d22f}};}else{if(_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x375)]===_0x16180e(0x4c7)){let _0x498b31=this[_0x16180e(0x585)](_0x12bfa9[_0x16180e(0x15b)]['choices'][_0x16180e(0x71f)](_0x2405af=>!(_0x2405af[_0x16180e(0x685)]('[')&&_0x2405af[_0x16180e(0x164)](']'))));return _0x424f21={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x12bfa9[_0x16180e(0x15b)]['text']},'footer':_0x12bfa9['menuMessage'][_0x16180e(0x708)]?{'text':_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x708)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x498b31,'messageParamsJson':JSON[_0x16180e(0x5ad)]({'from':_0x16180e(0x648),'templateId':_0x16180e(0x6a2)+(0x0,ne[_0x16180e(0x2a0)])(0x12)[_0x16180e(0x880)](_0x16180e(0x7aa))['toUpperCase']()})}}}}},await this[_0x16180e(0x866)](_0x12bfa9[_0x16180e(0x4fc)],_0x424f21,_0x12bfa9?.[_0x16180e(0x1a5)]);}else{if(_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x375)]===_0x16180e(0x4ce)){let _0x2c7d88=this[_0x16180e(0x746)](_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x1c6)]);return _0x424f21={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x12bfa9['menuMessage'][_0x16180e(0x3c5)]},'footer':_0x12bfa9[_0x16180e(0x15b)][_0x16180e(0x708)]?{'text':_0x12bfa9['menuMessage']['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x2c7d88,'messageParamsJson':JSON['stringify']({'from':_0x16180e(0x648),'templateId':_0x16180e(0x6a2)+(0x0,ne[_0x16180e(0x2a0)])(0x12)[_0x16180e(0x880)](_0x16180e(0x7aa))[_0x16180e(0x143)]()})}}}}},await this[_0x16180e(0x866)](_0x12bfa9[_0x16180e(0x4fc)],_0x424f21,_0x12bfa9?.[_0x16180e(0x1a5)]);}}}}return await this[_0x16180e(0x25a)](_0x12bfa9[_0x16180e(0x4fc)],_0x424f21,_0x12bfa9?.['options']);}['createButtonsFromValues'](_0x26cc1e){return _0x26cc1e['map'](_0x5ab406=>{const _0x3c6905=a0_0x5767;let _0x37817b=_0x5ab406['split']('\x0a')[_0x3c6905(0x614)](_0x3e1f82=>_0x3e1f82[_0x3c6905(0x630)]()),_0x287446=_0x37817b[0x0],_0x52fbe3=_0x37817b[0x1]||_0x287446,_0x1a0de5=_0x52fbe3[_0x3c6905(0x685)]('http')?_0x3c6905(0x565):_0x3c6905(0x308);return{'name':_0x1a0de5,'buttonParamsJson':JSON[_0x3c6905(0x5ad)]({'display_text':_0x287446,'id':_0x1a0de5===_0x3c6905(0x308)?_0x52fbe3:void 0x0,'url':_0x1a0de5===_0x3c6905(0x565)?_0x52fbe3:void 0x0})};});}['createButtonSectionsFromValues'](_0x130ed9){const _0x1dfcc3=a0_0x43466e;let _0x338fef=[],_0x1fb51d={'title':'','rows':[]};return _0x130ed9['forEach'](_0x493d65=>{const _0x1ae514=a0_0x5767;if(_0x493d65['startsWith']('[')&&_0x493d65[_0x1ae514(0x164)](']'))_0x1fb51d[_0x1ae514(0x185)][_0x1ae514(0x695)]>0x0&&_0x338fef['push'](_0x1fb51d),_0x1fb51d={'title':_0x493d65[_0x1ae514(0x5a7)](0x1,-0x1),'rows':[]};else{let _0x22e921=_0x493d65['split']('\x0a')[_0x1ae514(0x614)](_0x268fef=>_0x268fef[_0x1ae514(0x630)]()),_0x3ce5b9=_0x22e921[0x0],_0xb1fe6d=_0x22e921[0x1]?_0x22e921[0x1]:void 0x0,_0x1cd008=_0x22e921[0x2]||_0x3ce5b9;_0x1fb51d[_0x1ae514(0x185)][_0x1ae514(0x7ef)]({'title':_0x3ce5b9,'description':_0xb1fe6d,'id':_0x1cd008});}}),_0x1fb51d[_0x1dfcc3(0x185)]['length']>0x0&&_0x338fef[_0x1dfcc3(0x7ef)](_0x1fb51d),[{'name':_0x1dfcc3(0x702),'buttonParamsJson':JSON['stringify']({'title':_0x1dfcc3(0x35e),'sections':_0x338fef})}];}['createSectionsFromValues'](_0xb10896){const _0x16c2d8=a0_0x43466e;let _0x463de5=[],_0x1901eb={'rows':[]};return _0xb10896[_0x16c2d8(0x663)](_0x138513=>{const _0x30369f=_0x16c2d8;if(_0x138513['startsWith']('[')&&_0x138513['endsWith'](']'))_0x1901eb[_0x30369f(0x185)][_0x30369f(0x695)]>0x0&&_0x463de5['push'](_0x1901eb),_0x1901eb={'title':_0x138513['slice'](0x1,-0x1),'rows':[]};else{let _0x5a49c3=_0x138513['split']('\x0a')[_0x30369f(0x614)](_0x4afd62=>_0x4afd62[_0x30369f(0x630)]()),_0x4d6916=_0x5a49c3[0x0],_0x5b0bea=_0x5a49c3[0x1]||null,_0x5f18db=_0x5a49c3[0x2]||_0x4d6916;_0x1901eb[_0x30369f(0x185)][_0x30369f(0x7ef)]({'title':_0x4d6916,'description':_0x5b0bea,'rowId':_0x5f18db});}}),_0x1901eb[_0x16c2d8(0x185)][_0x16c2d8(0x695)]>0x0&&_0x463de5['push'](_0x1901eb),_0x463de5;}async['updateMessage'](_0xc5def6,_0x2737d2){const _0x743f99=a0_0x43466e;if(await this['getMessage'](_0xc5def6,!0x0)){let _0x13e3b8={'where':{'_id':_0xc5def6['id']}},_0x209836={'status':[_0x2737d2[_0x743f99(0x405)]][0x0]};try{let _0x357f68=await this['repository'][_0x743f99(0x416)][_0x743f99(0x211)](_0x13e3b8,_0x209836,this[_0x743f99(0x1da)][_0x743f99(0x177)]);_0x357f68&&F(this[_0x743f99(0x297)],'messages',{'message':_0x357f68});}catch{}}}[a0_0x43466e(0x557)](_0x1bdb1a){const _0x4d964b=a0_0x43466e;let _0x333e32=[];return _0x1bdb1a[_0x4d964b(0x663)](_0x393358=>{const _0x63550e=_0x4d964b;_0x393358['title']&&_0x333e32[_0x63550e(0x7ef)]('['+_0x393358[_0x63550e(0x20a)]+']'),_0x393358[_0x63550e(0x185)][_0x63550e(0x663)](_0x5529f1=>{const _0x1aef67=_0x63550e;_0x333e32[_0x1aef67(0x7ef)](_0x5529f1[_0x1aef67(0x20a)]);});}),_0x333e32[_0x4d964b(0x14c)]('|');}['formatVCard'](_0x1599fb){const _0x41655a=a0_0x43466e;let _0x142bfc=_0x1599fb['replace'](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0x2f1a14=>_0x2f1a14[_0x41655a(0x592)](_0x41655a(0x42d))||_0x2f1a14['includes'](_0x41655a(0x5f2))),_0x2bc411='';return _0x142bfc[_0x41655a(0x663)](_0x1dc5d1=>{const _0x1b9313=_0x41655a;let _0x59968e=/TEL(?:.*):(.+)/,_0x5c6d53=/EMAIL(?:.*):(.+)/,_0x30abf9=_0x1dc5d1[_0x1b9313(0x30d)](_0x59968e),_0x5283ff=_0x1dc5d1[_0x1b9313(0x30d)](_0x5c6d53);if(_0x30abf9){let _0x59b392=_0x30abf9[0x1][_0x1b9313(0x6a1)](/-| |\+|\(|\)/g,'')[_0x1b9313(0x630)]();_0x2bc411+=_0x1b9313(0x2be)+_0x59b392+'\x0a';}else{if(_0x5283ff){let _0x12c4e=_0x5283ff[0x1][_0x1b9313(0x630)]();_0x2bc411+=_0x1b9313(0x632)+_0x12c4e+'\x0a';}}}),_0x2bc411[_0x41655a(0x630)]();}async[a0_0x43466e(0x1b1)](_0x1d1dd7,_0x1963c1,_0x15d3f4,_0x5d7316=null){const _0x2b67f9=a0_0x43466e;if(_0x1d1dd7[_0x2b67f9(0x626)])try{let _0x14ce0e=_0x1963c1[_0x2b67f9(0x23b)][_0x2b67f9(0x309)]['replace'](/:\d{1,2}@/g,'@'),_0x44aa92=_0x1963c1['key'][_0x2b67f9(0x3a4)],_0x265932=_0x14ce0e['endsWith'](_0x2b67f9(0x748)),_0x5d5e13=_0x1963c1[_0x2b67f9(0x612)]?.[_0x2b67f9(0x6a1)](/:\d{1,2}@/g,'@')||'',_0x28551b=_0x1963c1[_0x2b67f9(0x488)]?.[_0x2b67f9(0x3c5)]||_0x1963c1[_0x2b67f9(0x488)]?.[_0x2b67f9(0x51d)]||_0x1963c1['message_normalized']?.[_0x2b67f9(0x726)]||_0x1963c1['message_normalized']?.[_0x2b67f9(0x5c3)]||'',_0x2d59b8={'_id':_0x1963c1[_0x2b67f9(0x1e0)],'remoteJid':_0x44aa92?this[_0x2b67f9(0x1da)]['wuid']:_0x265932?_0x5d5e13:_0x14ce0e,'pushName':_0x44aa92?this[_0x2b67f9(0x1da)][_0x2b67f9(0x42c)]||'Eu':_0x1963c1[_0x2b67f9(0x66d)],'text':_0x28551b,'type':_0x1963c1[_0x2b67f9(0x743)],'when':_0x1963c1[_0x2b67f9(0x816)]||Date[_0x2b67f9(0x24f)]()};_0x5d7316||(_0x5d7316=await this['repository'][_0x2b67f9(0x628)][_0x2b67f9(0x41a)]({'where':{'_id':_0x14ce0e}},this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]));let _0x3d4b55=_0x44aa92?0x0:_0x5d7316?(_0x5d7316[_0x2b67f9(0x7b5)]||0x0)+0x1:0x1,_0x4c4ff2={'lastmsg':_0x1963c1[_0x2b67f9(0x816)]||Date[_0x2b67f9(0x24f)](),'ephemeralExpiration':_0x1963c1[_0x2b67f9(0x586)],'lastMessage':_0x2d59b8,'unreadcount':_0x3d4b55,..._0x44aa92||_0x265932?{}:{'name':_0x1963c1[_0x2b67f9(0x66d)]},..._0x265932?{'group':_0x265932}:{},...!_0x44aa92&&!_0x265932&&_0x1963c1['profilePictureUrl']?{'imagechat':_0x1963c1[_0x2b67f9(0x39a)]}:{}};if(!_0x265932&&(!_0x5d7316?.['leadInfo']||!_0x5d7316[_0x2b67f9(0x830)][_0x2b67f9(0x69c)])&&_0x1963c1[_0x2b67f9(0x66d)]&&!_0x44aa92&&(_0x4c4ff2={..._0x4c4ff2,'leadInfo.nome':_0x1963c1[_0x2b67f9(0x66d)]}),_0x5d7316?.['leadInfo']['etiquetas']||(_0x4c4ff2={..._0x4c4ff2,'leadInfo.etiquetas':[]}),_0x5d7316?.['leadInfo'][_0x2b67f9(0x5ee)]||(_0x4c4ff2={..._0x4c4ff2,'leadInfo.customFields':[]}),_0x5d7316?.[_0x2b67f9(0x830)][_0x2b67f9(0x2b6)]||(_0x4c4ff2={..._0x4c4ff2,'leadInfo.tags':[]}),_0x5d7316&&_0x5d7316?.[_0x2b67f9(0x275)]){let _0x3cb3bd=await this[_0x2b67f9(0x302)][_0x2b67f9(0x40f)][_0x2b67f9(0x6cf)]({'where':{}},this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]),_0x3ece18=new Set(_0x3cb3bd[_0x2b67f9(0x614)](_0x1a0ea9=>_0x1a0ea9[_0x2b67f9(0x1e0)])),_0x5090f7=(_0x5d7316[_0x2b67f9(0x830)]?.['etiquetas']||[])['filter'](_0x42c440=>_0x3ece18[_0x2b67f9(0x59e)](_0x42c440));_0x4c4ff2={..._0x4c4ff2,'imported':!0x1,'leadInfo.etiquetas':_0x5090f7};for(let _0x44bc8f of _0x5090f7)await this[_0x2b67f9(0x55d)](_0x44bc8f,_0x14ce0e);}if(!this[_0x2b67f9(0x295)][_0x2b67f9(0x674)][_0x2b67f9(0x6cf)](_0x43e59b=>_0x43e59b['startCommand']&&_0x28551b[_0x2b67f9(0x592)](_0x43e59b[_0x2b67f9(0x357)]))&&_0x15d3f4===_0x2b67f9(0x652)&&_0x44aa92&&this[_0x2b67f9(0x295)]?.['flowConfig'][_0x2b67f9(0x1eb)]&&_0x28551b[_0x2b67f9(0x630)]()!==this[_0x2b67f9(0x295)]?.[_0x2b67f9(0x768)][_0x2b67f9(0x1f6)][_0x2b67f9(0x630)]()){let _0x91f496=(this['AutomateSystem']?.['flowConfig'][_0x2b67f9(0x656)]||0x0)*0xea60,_0x3e4dd6=Date[_0x2b67f9(0x24f)]()+_0x91f496;_0x5d7316?.[_0x2b67f9(0x830)]?.[_0x2b67f9(0x226)]===0x0||(_0x4c4ff2={..._0x4c4ff2,'leadInfo.desativadoFluxoAte':_0x3e4dd6},this['logger'][_0x2b67f9(0x213)](this['instanceName']+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+_0x2b67f9(0x382)+_0x3e4dd6+'.'));}if(_0x28551b['trim']()===this[_0x2b67f9(0x295)]?.[_0x2b67f9(0x768)][_0x2b67f9(0x1f6)][_0x2b67f9(0x630)]()){this[_0x2b67f9(0x50b)][_0x2b67f9(0x213)](this[_0x2b67f9(0x297)]+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+_0x2b67f9(0x3b7)+_0x28551b);let _0x1c1816=Date[_0x2b67f9(0x24f)]();this[_0x2b67f9(0x295)]?.[_0x2b67f9(0x768)]['stopMinutes']===0x0?_0x4c4ff2={..._0x4c4ff2,'leadInfo.desativadoFluxoAte':_0x1c1816+0x7591f6200}:_0x4c4ff2={..._0x4c4ff2,'leadInfo.desativadoFluxoAte':_0x1c1816+this['AutomateSystem']?.[_0x2b67f9(0x768)][_0x2b67f9(0x75a)]*0x3c*0x3e8};}if(_0x5d7316=await this[_0x2b67f9(0x302)][_0x2b67f9(0x628)][_0x2b67f9(0x723)]({'where':{'_id':_0x14ce0e}},_0x4c4ff2,this['instance'][_0x2b67f9(0x177)],{'new':!0x0,'upsert':!0x0}),_0x5d7316)F(this[_0x2b67f9(0x297)],_0x2b67f9(0x462),{'chat':_0x5d7316});else{this[_0x2b67f9(0x50b)]['error'](this['instanceName']+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+_0x2b67f9(0x179));return;}if(_0x44aa92)return this[_0x2b67f9(0x50b)][_0x2b67f9(0x213)](this[_0x2b67f9(0x297)]+'\x20('+this[_0x2b67f9(0x1da)]['wuid']+_0x2b67f9(0x393)),null;if(!this[_0x2b67f9(0x295)]?.['flowConfig'][_0x2b67f9(0x1eb)])return this[_0x2b67f9(0x50b)]['verbose'](this[_0x2b67f9(0x297)]+'\x20('+this['instance'][_0x2b67f9(0x177)]+_0x2b67f9(0x69d)),null;if(_0x5d7316[_0x2b67f9(0x1e0)][_0x2b67f9(0x592)](_0x2b67f9(0x748))&&this[_0x2b67f9(0x295)]?.[_0x2b67f9(0x768)][_0x2b67f9(0x715)]===!0x0)return this[_0x2b67f9(0x50b)][_0x2b67f9(0x213)](this[_0x2b67f9(0x297)]+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x5d7316[_0x2b67f9(0x830)]){if(_0x5d7316[_0x2b67f9(0x830)][_0x2b67f9(0x226)]===0x0||_0x5d7316[_0x2b67f9(0x830)][_0x2b67f9(0x72f)])return this[_0x2b67f9(0x50b)][_0x2b67f9(0x213)](this[_0x2b67f9(0x297)]+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+_0x2b67f9(0x552)+_0x14ce0e+_0x2b67f9(0x1a0)),null;if(_0x5d7316[_0x2b67f9(0x830)][_0x2b67f9(0x226)]>Date[_0x2b67f9(0x24f)]()&&!_0x1963c1['message_normalized']?.[_0x2b67f9(0x726)])return this['logger'][_0x2b67f9(0x213)](this['instanceName']+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+_0x2b67f9(0x7dc)+new Date(_0x5d7316['leadInfo'][_0x2b67f9(0x226)])[_0x2b67f9(0x712)]()+_0x2b67f9(0x1a0)),null;}this[_0x2b67f9(0x50b)]['verbose'](this[_0x2b67f9(0x297)]+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+_0x2b67f9(0x6fe)),this['StartBot'](_0x1963c1,_0x15d3f4);}catch(_0x5189fc){let _0x480d8f=_0x2b67f9(0x8a3),_0x1a4f8c=_0x5189fc instanceof Error?_0x5189fc[_0x2b67f9(0x416)]:typeof _0x5189fc==_0x2b67f9(0x6eb)?JSON[_0x2b67f9(0x5ad)](_0x5189fc):_0x5189fc,_0x8ac77a=_0x480d8f+':\x20'+_0x1a4f8c;return this[_0x2b67f9(0x50b)][_0x2b67f9(0x434)](this[_0x2b67f9(0x297)]+'\x20('+this[_0x2b67f9(0x1da)][_0x2b67f9(0x177)]+_0x2b67f9(0x83b)+_0x8ac77a),null;}}async[a0_0x43466e(0x765)](_0x1db558,_0x530fc9){const _0x202531=a0_0x43466e;if(_0x530fc9['ENABLED']){let _0xe43c7d=_0x1db558[_0x202531(0x614)](async _0x152e38=>{const _0x4b0f2a=_0x202531;try{let _0x196f8f={'_id':_0x152e38['_id'],'owner':_0x152e38[_0x4b0f2a(0x27c)],'lastcache':0x0};if(Object[_0x4b0f2a(0x73e)](_0x152e38)[_0x4b0f2a(0x663)](_0x1338ba=>{_0x152e38[_0x1338ba]!==null&&(_0x196f8f[_0x1338ba]=_0x152e38[_0x1338ba]);}),_0x196f8f['imagechat']===null&&(_0x196f8f[_0x4b0f2a(0x56f)]=_0x4b0f2a(0x6b1)),Object[_0x4b0f2a(0x73e)](_0x196f8f)[_0x4b0f2a(0x695)]>0x0)return await this['repository'][_0x4b0f2a(0x628)][_0x4b0f2a(0x723)]({'where':{'_id':_0x152e38['_id']}},_0x196f8f,this['instance'][_0x4b0f2a(0x177)]);}catch(_0x3a7785){let _0x1120dc='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x152e38[_0x4b0f2a(0x1e0)],_0x35a878=_0x3a7785 instanceof Error?_0x3a7785['message']:typeof _0x3a7785==_0x4b0f2a(0x6eb)?JSON[_0x4b0f2a(0x5ad)](_0x3a7785):_0x3a7785,_0x17fb8b=_0x1120dc+':\x20'+_0x35a878;return this['logger'][_0x4b0f2a(0x434)](this[_0x4b0f2a(0x297)]+'\x20('+this[_0x4b0f2a(0x1da)][_0x4b0f2a(0x177)]+'):\x20'+_0x17fb8b),null;}}),_0x2e5165=(await Promise[_0x202531(0x859)](_0xe43c7d))['filter'](_0x1d11c4=>_0x1d11c4!==null)['length'];this['logger'][_0x202531(0x213)](this['instanceName']+'\x20('+this['instance'][_0x202531(0x177)]+_0x202531(0x83b)+_0x2e5165+'\x20chats\x20de\x20'+this[_0x202531(0x1da)]['wuid']+_0x202531(0x46e));}}async[a0_0x43466e(0x33e)](_0x56a6cd){const _0x3b755a=a0_0x43466e;this[_0x3b755a(0x50b)][_0x3b755a(0x213)](this[_0x3b755a(0x297)]+'\x20('+this[_0x3b755a(0x1da)]['wuid']+_0x3b755a(0x56a));let _0x3682b2={'readMessages':[{'remoteJid':_0x56a6cd[_0x3b755a(0x17b)][_0x3b755a(0x2f1)][_0x3b755a(0x23b)][_0x3b755a(0x309)],'fromMe':_0x56a6cd[_0x3b755a(0x17b)][_0x3b755a(0x2f1)][_0x3b755a(0x23b)]['fromMe'],'id':_0x56a6cd[_0x3b755a(0x17b)]['lastReceivedMessage'][_0x3b755a(0x23b)]['id']}]};await this[_0x3b755a(0x3da)](_0x3682b2);}async[a0_0x43466e(0x193)](_0x4d9db5,_0x56ca8d){const _0x1ba65d=a0_0x43466e;try{let {key:_0x2dcfdf,message_normalized:_0x356367}=_0x4d9db5,_0x446e2f=_0x356367,_0x55c878=_0x356367['text']||_0x356367[_0x1ba65d(0x51d)]||_0x356367[_0x1ba65d(0x726)]||_0x356367['name']||'',_0x28418e=_0x2dcfdf[_0x1ba65d(0x309)],_0xb4e343=null,_0x8b3307=this[_0x1ba65d(0x295)][_0x1ba65d(0x674)][_0x1ba65d(0x6cf)](_0x364895=>_0x364895['startCommand']&&_0x55c878[_0x1ba65d(0x592)](_0x364895[_0x1ba65d(0x357)]));if(_0x8b3307&&_0x56ca8d===_0x1ba65d(0x652)){let _0x514bb7=await this[_0x1ba65d(0x302)]['flow'][_0x1ba65d(0x41a)]({'where':{'_id':_0x8b3307[_0x1ba65d(0x1e0)]}});if(this[_0x1ba65d(0x50b)][_0x1ba65d(0x213)](this[_0x1ba65d(0x297)]+'\x20('+this['instance']['wuid']+_0x1ba65d(0x3b9)),_0x514bb7&&_0x514bb7[_0x1ba65d(0x42b)]?.[_0x1ba65d(0x592)](this[_0x1ba65d(0x1da)][_0x1ba65d(0x177)]))_0xb4e343=await this[_0x1ba65d(0x4a3)](_0x514bb7,_0x2dcfdf,_0x446e2f);else return this['logger'][_0x1ba65d(0x213)](this['instanceName']+'\x20('+this['instance'][_0x1ba65d(0x177)]+_0x1ba65d(0x551)),null;}else this[_0x1ba65d(0x50b)]['verbose'](this[_0x1ba65d(0x297)]+'\x20('+this[_0x1ba65d(0x1da)][_0x1ba65d(0x177)]+_0x1ba65d(0x792));if(_0xb4e343=await this[_0x1ba65d(0x5ba)](_0x28418e,_0x446e2f),_0xb4e343){this[_0x1ba65d(0x50b)]['verbose'](this[_0x1ba65d(0x297)]+'\x20('+this[_0x1ba65d(0x1da)][_0x1ba65d(0x177)]+_0x1ba65d(0x750)),!_0x2dcfdf[_0x1ba65d(0x3a4)]&&_0xb4e343[_0x1ba65d(0x3c3)]&&this[_0x1ba65d(0x33e)](_0xb4e343);let _0x58089a=await this[_0x1ba65d(0x64a)](_0xb4e343);_0x58089a&&await this[_0x1ba65d(0x7b7)](_0xb4e343,_0x58089a);}}catch(_0x4ea5b7){this[_0x1ba65d(0x50b)][_0x1ba65d(0x434)](this['instanceName']+'\x20('+this[_0x1ba65d(0x1da)][_0x1ba65d(0x177)]+_0x1ba65d(0x4d7)+(_0x4ea5b7 instanceof Error?_0x4ea5b7[_0x1ba65d(0x416)]:JSON[_0x1ba65d(0x5ad)](_0x4ea5b7,null,0x2)));}}[a0_0x43466e(0x7f6)](_0x3f01ba,_0x4a4e93='',_0xf39e9={}){const _0x2be9d4=a0_0x43466e;return typeof _0x3f01ba!=_0x2be9d4(0x6eb)||_0x3f01ba===null?(_0x4a4e93&&(_0xf39e9[_0x4a4e93]=_0x3f01ba),_0xf39e9):(Object[_0x2be9d4(0x7c1)](_0x3f01ba)[_0x2be9d4(0x663)](([_0x55365c,_0x2aa958])=>{const _0x2a2fb2=_0x2be9d4;let _0x7f6f60=_0x4a4e93?_0x4a4e93+'.'+_0x55365c:'_'+_0x55365c;Array[_0x2a2fb2(0x6c7)](_0x2aa958)?_0x2aa958['forEach']((_0x13853b,_0x53c0f0)=>{const _0x3db7ed=_0x2a2fb2;this[_0x3db7ed(0x7f6)](_0x13853b,_0x7f6f60+'['+_0x53c0f0+']',_0xf39e9);}):typeof _0x2aa958==_0x2a2fb2(0x6eb)&&_0x2aa958!==null?this[_0x2a2fb2(0x7f6)](_0x2aa958,_0x7f6f60,_0xf39e9):_0xf39e9[_0x7f6f60]=String(_0x2aa958);}),_0xf39e9);}[a0_0x43466e(0x35b)](_0x42f831){const _0x10ce8c=a0_0x43466e;let _0xdb309e={};for(let _0x9194e9 of _0x42f831)typeof _0x9194e9['name']=='string'&&typeof _0x9194e9['value']==_0x10ce8c(0x6d9)&&(_0xdb309e[_0x9194e9[_0x10ce8c(0x5c3)]]=_0x9194e9[_0x10ce8c(0x61e)]);return _0xdb309e;}async[a0_0x43466e(0x64a)](_0x4b998c){const _0x497d56=a0_0x43466e;if(!this[_0x497d56(0x295)]?.['flowConfig'][_0x497d56(0x1eb)]||_0x4b998c[_0x497d56(0x405)]!==_0x497d56(0x76d)&&_0x4b998c[_0x497d56(0x894)]==='')return null;let _0xef6be9=_0x4b998c['chatLog']['lastBlockId']||'start';typeof _0x4b998c['chatLog']['lastCondition']>'u'&&(_0x4b998c[_0x497d56(0x17b)][_0x497d56(0x7e2)]=!0x0);let _0x5189cc=_0x4b998c[_0x497d56(0x17b)]['lastCondition'];this[_0x497d56(0x50b)][_0x497d56(0x213)](this['instanceName']+'\x20('+this[_0x497d56(0x1da)][_0x497d56(0x177)]+_0x497d56(0x556)+_0xef6be9+_0x497d56(0x27f)+_0x5189cc);let _0x17c632=_0xef6be9==='start'?_0x4b998c[_0x497d56(0x2cd)][_0x497d56(0x6cf)](_0x50200e=>_0x50200e[_0x497d56(0x375)]===_0x497d56(0x518)):_0x4b998c[_0x497d56(0x2cd)]['find'](_0x35d764=>_0x35d764['_id']['toString']()===_0xef6be9[_0x497d56(0x880)]());if(!_0x17c632)return this[_0x497d56(0x50b)]['error'](this[_0x497d56(0x297)]+'\x20('+this['instance'][_0x497d56(0x177)]+_0x497d56(0x70e)+_0xef6be9),null;let _0x4c9547={'_pushName':_0x4b998c?.[_0x497d56(0x17b)]?.[_0x497d56(0x2f1)]?.[_0x497d56(0x66d)]||'','_sender':this[_0x497d56(0x1da)][_0x497d56(0x177)]||'',..._0x4b998c[_0x497d56(0x17b)][_0x497d56(0x544)]},_0x595dda=new Date();_0x4c9547['_day']=_0x595dda[_0x497d56(0x321)](),_0x4c9547[_0x497d56(0x40a)]=_0x595dda[_0x497d56(0x347)]()+0x1,_0x4c9547[_0x497d56(0x37a)]=_0x595dda[_0x497d56(0x463)](),_0x4c9547[_0x497d56(0x21f)]=_0x595dda[_0x497d56(0x2a1)](),_0x4c9547[_0x497d56(0x412)]=_0x595dda[_0x497d56(0x74b)](),_0x4c9547[_0x497d56(0x501)]=_0x595dda[_0x497d56(0x671)]();let _0x3bdf2d=null;if(_0x4b998c['waitingMenu_id']){let _0x47fa38=_0x4b998c[_0x497d56(0x17b)][_0x497d56(0x2f1)][_0x497d56(0x726)],_0x72a33d=_0x4b998c[_0x497d56(0x439)][_0x497d56(0x6cf)](_0x5663e0=>_0x5663e0[_0x497d56(0x350)]===_0x47fa38);if(_0x72a33d){let _0x334b6a=_0x72a33d[_0x497d56(0x664)];if(_0x3bdf2d=_0x4b998c[_0x497d56(0x2cd)][_0x497d56(0x6cf)](_0x378f20=>_0x378f20[_0x497d56(0x1f7)]===_0x334b6a&&_0x378f20[_0x497d56(0x398)]===0x1),_0x17c632[_0x497d56(0x683)][_0x497d56(0x142)]){let _0x46bf2d={'id':_0x4b998c['waitingMenu_id'],'remoteJid':_0x4b998c[_0x497d56(0x309)],'fromMe':!0x0};await this['deleteMessage'](_0x46bf2d);}if(_0x17c632[_0x497d56(0x683)]['pollOnReplyDelete']&&_0x17c632['uazapi'][_0x497d56(0x23f)]&&_0x17c632[_0x497d56(0x683)][_0x497d56(0x153)]===_0x497d56(0x3f9)){let _0x279c00={'number':_0x4b998c[_0x497d56(0x309)],'options':{'delay':0x0},'textMessage':{'text':_0x497d56(0x23a)+_0x4b998c[_0x497d56(0x2bd)]+_0x497d56(0x77a)+_0x47fa38}};await this[_0x497d56(0x52e)](_0x279c00);}_0x4c9547['_lastVote']=_0x47fa38,_0x4b998c[_0x497d56(0x405)]='open',_0x4b998c[_0x497d56(0x894)]='',_0x4b998c[_0x497d56(0x2bd)]='',_0x4b998c['waitingMenu_replyOptions']=[];}else{this[_0x497d56(0x50b)][_0x497d56(0x213)](this[_0x497d56(0x297)]+'\x20('+this['instance'][_0x497d56(0x177)]+_0x497d56(0x7ec));let _0x36f8d7={'activatedCount':_0x4b998c[_0x497d56(0x17b)]['blockLogs']['filter'](_0xc0e201=>String(_0xc0e201['blockId'])===String(_0xef6be9))[_0x497d56(0x695)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x17c632[_0x497d56(0x683)][_0x497d56(0x38f)]){let _0x396717={'number':_0x4b998c[_0x497d56(0x309)],'options':{'delay':0x0},'textMessage':{'text':_0x17c632['uazapi'][_0x497d56(0x38f)]}};await this['textMessage'](_0x396717);}if(_0x17c632[_0x497d56(0x59f)]!==void 0x0&&_0x36f8d7['activatedCount']>=_0x17c632[_0x497d56(0x59f)]){let _0x163593=Date[_0x497d56(0x24f)](),_0x2c8ec=_0x17c632[_0x497d56(0x5cf)]??0xa;isNaN(_0x2c8ec)&&(_0x2c8ec=0xa);let _0x1cb45b=_0x163593+_0x2c8ec*0x3c*0x3e8;_0x36f8d7[_0x497d56(0x634)]=_0x1cb45b,_0x36f8d7[_0x497d56(0x1dd)]['push'](_0x497d56(0x88d)),this[_0x497d56(0x480)](_0x4b998c,_0x1cb45b),_0x4b998c[_0x497d56(0x894)]='',_0x4b998c[_0x497d56(0x2bd)]='',_0x4b998c['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0x4b998c,_0x17c632,_0x36f8d7,!0x0),null;}}if(_0x5189cc&&_0x17c632['next_groupId']&&!_0x4b998c['waitingMenu_id']){let _0x2dd82e=_0x4b998c[_0x497d56(0x2cd)][_0x497d56(0x71f)](_0x4fd2c5=>_0x4fd2c5[_0x497d56(0x1f7)]['toString']()===_0x17c632['next_groupId'][_0x497d56(0x880)]())[_0x497d56(0x6df)]((_0x368f2a,_0x1c4bb2)=>_0x368f2a['order']-_0x1c4bb2[_0x497d56(0x398)]);_0x2dd82e[_0x497d56(0x695)]>0x0&&(_0x3bdf2d=_0x2dd82e[0x0]);}if(!_0x3bdf2d){let _0x70f80f=_0x17c632[_0x497d56(0x1f7)],_0x5b5afd=_0x4b998c['blocks'][_0x497d56(0x71f)](_0x3239bf=>_0x3239bf[_0x497d56(0x1f7)]===_0x70f80f&&_0x3239bf['order']>_0x17c632[_0x497d56(0x398)])[_0x497d56(0x6df)]((_0x56a057,_0x4d314a)=>_0x56a057['order']-_0x4d314a[_0x497d56(0x398)]);_0x5b5afd['length']>0x0&&(_0x3bdf2d=_0x5b5afd[0x0]);}if(!_0x3bdf2d)return _0x4b998c[_0x497d56(0x405)]='closed',null;_0x4b998c['chatLog']['realVariables']=_0x4c9547;let _0x38bc3c=JSON[_0x497d56(0x2ef)](JSON[_0x497d56(0x5ad)](_0x3bdf2d));return this[_0x497d56(0x52c)](_0x38bc3c,_0x4b998c[_0x497d56(0x17b)]['realVariables']),_0x4b998c[_0x497d56(0x17b)]['lastBlockId']=_0x38bc3c[_0x497d56(0x1e0)],_0x4b998c[_0x497d56(0x17b)]['lastCondition']=!0x0,_0x38bc3c;}[a0_0x43466e(0x26e)](_0x36f0cf,_0x2a4b85){const _0x1ee68e=a0_0x43466e;return _0x36f0cf[_0x1ee68e(0x6a1)](/\{\{([^}]+)\}\}/g,(_0x30bed7,_0x12fee8)=>_0x2a4b85[_0x12fee8]||'');}[a0_0x43466e(0x52c)](_0x405bb2,_0xfcc4ff){const _0x3b6a05=a0_0x43466e;for(let _0x5c8c43 in _0x405bb2)typeof _0x405bb2[_0x5c8c43]==_0x3b6a05(0x6d9)?_0x405bb2[_0x5c8c43]=this[_0x3b6a05(0x26e)](_0x405bb2[_0x5c8c43],_0xfcc4ff):typeof _0x405bb2[_0x5c8c43]==_0x3b6a05(0x6eb)&&this['replaceVariablesInObject'](_0x405bb2[_0x5c8c43],_0xfcc4ff);}async[a0_0x43466e(0x33b)](_0x312507,_0x3f923b){const _0x16103d=a0_0x43466e;let _0x15485b=_0x3f923b['_id'];if(_0x312507[_0x16103d(0x17b)]&&_0x312507[_0x16103d(0x17b)][_0x16103d(0x5f6)]){let _0x3bdef4=_0x312507[_0x16103d(0x17b)][_0x16103d(0x5f6)][_0x16103d(0x71f)](_0x96fef=>String(_0x96fef['blockId'])===String(_0x15485b))[_0x16103d(0x155)]();if(_0x3bdef4&&_0x3bdef4['error']&&_0x3f923b['stopIfLastReturnedError'])return _0x312507['status']=_0x16103d(0x313),await this['saveConversationToDatabase'](_0x312507),null;}if(_0x3f923b[_0x16103d(0x375)]==='uazapi'&&_0x3f923b['uazapi'][_0x16103d(0x3d7)]===_0x16103d(0x558)&&_0x312507[_0x16103d(0x894)])return _0x312507['chatLog'][_0x16103d(0x2df)]=_0x15485b,await this[_0x16103d(0x631)](_0x312507),null;let _0x2444af=await this[_0x16103d(0x64a)](_0x312507);if(_0x312507['chatLog']&&_0x312507[_0x16103d(0x17b)][_0x16103d(0x5f6)]){let _0x479426=_0x312507[_0x16103d(0x17b)][_0x16103d(0x5f6)][_0x16103d(0x71f)](_0x404fcd=>String(_0x404fcd['blockId'])===String(_0x15485b))[_0x16103d(0x695)];if(_0x3f923b[_0x16103d(0x59f)]!==void 0x0&&_0x479426>=_0x3f923b['maxActives']){let _0x5a689c=Date[_0x16103d(0x24f)](),_0x3587ad=_0x3f923b[_0x16103d(0x5cf)]??0xa;isNaN(_0x3587ad)&&(_0x3587ad=0xa);let _0xaa0be=_0x5a689c+_0x3587ad*0x3c*0x3e8,_0x53ed20={'newStoppedUntil':_0xaa0be};return this[_0x16103d(0x480)](_0x312507,_0xaa0be),this['updateConversation'](_0x312507,_0x3f923b,_0x53ed20,!0x0),null;}}_0x2444af&&_0x2444af[_0x16103d(0x375)]!==_0x16103d(0x4dd)&&await this[_0x16103d(0x7b7)](_0x312507,_0x2444af),_0x2444af||await this['saveConversationToDatabase'](_0x312507),_0x2444af&&_0x2444af[_0x16103d(0x375)]==='save'&&(_0x312507[_0x16103d(0x17b)][_0x16103d(0x2df)]=_0x15485b,await this[_0x16103d(0x631)](_0x312507));}async[a0_0x43466e(0x7b7)](_0x5be893,_0x25e3c9){const _0xac6215=a0_0x43466e;try{let _0x567305=_0x25e3c9[_0xac6215(0x375)];this[_0xac6215(0x50b)][_0xac6215(0x213)](this[_0xac6215(0x297)]+'\x20('+this[_0xac6215(0x1da)]['wuid']+_0xac6215(0x5a2)+_0x567305);let _0x21d99e={'uazapi':()=>this['processUazapi'](_0x5be893,_0x25e3c9),'save':()=>this[_0xac6215(0x5b7)](_0x5be893,_0x25e3c9),'stop':()=>this[_0xac6215(0x1f6)](_0x5be893,_0x25e3c9),'condition':()=>this[_0xac6215(0x496)](_0x5be893,_0x25e3c9),'varedit':()=>this[_0xac6215(0x148)](_0x5be893,_0x25e3c9),'apirequest':()=>this[_0xac6215(0x5df)](_0x5be893,_0x25e3c9),'goToFlow':()=>this[_0xac6215(0x83f)](_0x5be893,_0x25e3c9),'scheduleFlow':()=>this['processScheduleFlow'](_0x5be893,_0x25e3c9),'awaitSeconds':()=>this[_0xac6215(0x75e)](_0x5be893,_0x25e3c9),'clearVariables':()=>this['processclearVariables'](_0x5be893,_0x25e3c9)}[_0x567305];_0x21d99e&&await _0x21d99e();}catch(_0x48cf0b){this[_0xac6215(0x50b)][_0xac6215(0x434)](this[_0xac6215(0x297)]+'\x20('+this[_0xac6215(0x1da)]['wuid']+_0xac6215(0x15c)+(_0x48cf0b instanceof Error?_0x48cf0b['message']:JSON['stringify'](_0x48cf0b,null,0x2)));}}async[a0_0x43466e(0x75e)](_0x3cf37a,_0x1084fa){const _0x391da0=a0_0x43466e;if(this['logger']['verbose'](this[_0x391da0(0x297)]+'\x20('+this[_0x391da0(0x1da)]['wuid']+_0x391da0(0x6c9)),!_0x3cf37a||!_0x1084fa)return this[_0x391da0(0x50b)][_0x391da0(0x434)](this[_0x391da0(0x297)]+'\x20('+this[_0x391da0(0x1da)][_0x391da0(0x177)]+_0x391da0(0x828)),null;let _0x57e1c7=+_0x1084fa[_0x391da0(0x175)];isNaN(_0x57e1c7)&&(_0x57e1c7=0x0),_0x57e1c7=Math[_0x391da0(0x86f)](_0x57e1c7,0x3c),await(0x0,w[_0x391da0(0x2d2)])(_0x57e1c7*0x3e8);let _0x1099f2={'moreLogs':[_0x391da0(0x522)+_0x57e1c7+_0x391da0(0x7c8)]};return await this[_0x391da0(0x1e2)](_0x3cf37a,_0x1084fa,_0x1099f2),_0x57e1c7;}async['processclearVariables'](_0x6855ad,_0xcc87f6){const _0x28ab9b=a0_0x43466e;if(this[_0x28ab9b(0x50b)][_0x28ab9b(0x213)](this[_0x28ab9b(0x297)]+'\x20('+this[_0x28ab9b(0x1da)][_0x28ab9b(0x177)]+_0x28ab9b(0x31a)),!_0x6855ad||!_0xcc87f6)return this['logger'][_0x28ab9b(0x434)](this[_0x28ab9b(0x297)]+'\x20('+this[_0x28ab9b(0x1da)][_0x28ab9b(0x177)]+_0x28ab9b(0x828)),null;let _0x56ee16=[];if(_0xcc87f6['clearVariables'][_0x28ab9b(0x630)]()===_0x28ab9b(0x7d7)){let _0xfbe29e=[_0x28ab9b(0x67c),_0x28ab9b(0x63d),_0x28ab9b(0x60a),_0x28ab9b(0x57b),_0x28ab9b(0x24a),_0x28ab9b(0x1e0),'_fromMe'];_0x56ee16=Object['keys'](_0x6855ad['chatLog'][_0x28ab9b(0x544)])[_0x28ab9b(0x71f)](_0x3391fd=>_0x3391fd['startsWith']('_')&&!_0xfbe29e[_0x28ab9b(0x592)](_0x3391fd));}else _0x56ee16=_0xcc87f6[_0x28ab9b(0x5e2)][_0x28ab9b(0x380)]('|')[_0x28ab9b(0x614)](_0x474aaf=>(_0x474aaf=_0x474aaf[_0x28ab9b(0x6a1)](/[{}]/g,'')[_0x28ab9b(0x630)](),_0x474aaf['startsWith']('_')?_0x474aaf:'_'+_0x474aaf));let _0x3b8975=[];_0x56ee16[_0x28ab9b(0x663)](_0x17d4be=>{const _0xf57571=_0x28ab9b;_0x17d4be in _0x6855ad[_0xf57571(0x17b)][_0xf57571(0x544)]&&(delete _0x6855ad[_0xf57571(0x17b)][_0xf57571(0x544)][_0x17d4be],_0x3b8975[_0xf57571(0x7ef)](_0x17d4be));}),_0x3b8975[_0x28ab9b(0x695)]>0x0?this['logger'][_0x28ab9b(0x213)](this['instanceName']+'\x20('+this[_0x28ab9b(0x1da)][_0x28ab9b(0x177)]+_0x28ab9b(0x734)+_0x3b8975['join'](',\x20')):this[_0x28ab9b(0x50b)][_0x28ab9b(0x213)](this[_0x28ab9b(0x297)]+'\x20('+this['instance'][_0x28ab9b(0x177)]+_0x28ab9b(0x459));let _0x522eb8={'moreLogs':[_0x28ab9b(0x694)+_0x3b8975[_0x28ab9b(0x14c)](',\x20')]};return await this[_0x28ab9b(0x1e2)](_0x6855ad,_0xcc87f6,_0x522eb8),null;}async['processScheduleFlow'](_0xb7bd90,_0x3ad606){const _0x268258=a0_0x43466e;if(this[_0x268258(0x50b)][_0x268258(0x213)](this[_0x268258(0x297)]+'\x20('+this[_0x268258(0x1da)]['wuid']+_0x268258(0x348)),!_0xb7bd90||!_0x3ad606)return this['logger'][_0x268258(0x434)](this[_0x268258(0x297)]+'\x20('+this[_0x268258(0x1da)][_0x268258(0x177)]+_0x268258(0x828)),null;let _0x549dfb=_0xb7bd90[_0x268258(0x309)];_0x3ad606['scheduleFlow']['remoteJid']&&_0x3ad606['scheduleFlow']['remoteJid'][_0x268258(0x630)]()!==''&&(_0x549dfb=_0x3ad606[_0x268258(0x683)][_0x268258(0x309)][_0x268258(0x630)]());let _0x2e54c7=_0x3ad606[_0x268258(0x4ec)]['timeInMinutes']*0xea60,_0xa0d1dd=Date[_0x268258(0x24f)]()+_0x2e54c7,_0xe11a6f={'status':_0x268258(0x3f2),'info':_0x268258(0x3ad)+_0xb7bd90['name'],'remoteJids':[_0x549dfb],'when':_0xa0d1dd,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x268258(0x35d),'flowName':_0x3ad606[_0x268258(0x4ec)][_0x268258(0x166)]};this[_0x268258(0x69e)](_0xe11a6f);let _0x4a9dbe=await this[_0x268258(0x64a)](_0xb7bd90);_0x4a9dbe&&await this['processblock'](_0xb7bd90,_0x4a9dbe);}async[a0_0x43466e(0x83f)](_0x447c38,_0x4066f6){const _0x784048=a0_0x43466e;if(this[_0x784048(0x50b)][_0x784048(0x213)](this[_0x784048(0x297)]+'\x20('+this[_0x784048(0x1da)][_0x784048(0x177)]+_0x784048(0x32e)),!_0x447c38||!_0x4066f6)return this[_0x784048(0x50b)][_0x784048(0x434)](this[_0x784048(0x297)]+'\x20('+this[_0x784048(0x1da)][_0x784048(0x177)]+_0x784048(0x828)),null;await this[_0x784048(0x1e2)](_0x447c38,_0x4066f6,{},!0x0,!0x0);let _0x5735dc=_0x4066f6[_0x784048(0x1df)];_0x447c38=await this[_0x784048(0x593)](_0x5735dc,_0x447c38[_0x784048(0x309)],_0x447c38[_0x784048(0x17b)]['realVariables']);let _0xe9d774=await this[_0x784048(0x64a)](_0x447c38);_0xe9d774&&await this[_0x784048(0x7b7)](_0x447c38,_0xe9d774);}async['createConversationforgoToFlow'](_0x42f35d,_0x5f52d9,_0x24a510){const _0x37c353=a0_0x43466e;this[_0x37c353(0x50b)][_0x37c353(0x213)](this[_0x37c353(0x297)]+'\x20('+this[_0x37c353(0x1da)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x4adb66=this['AutomateSystem'][_0x37c353(0x674)][_0x37c353(0x6cf)](_0x3e3fc6=>_0x3e3fc6['_id']===_0x42f35d);_0x4adb66||this[_0x37c353(0x50b)][_0x37c353(0x434)](this['instanceName']+'\x20('+this[_0x37c353(0x1da)][_0x37c353(0x177)]+_0x37c353(0x71a)+_0x42f35d+_0x37c353(0x891));let _0x4536a5=await this[_0x37c353(0x302)][_0x37c353(0x35d)]['findOne']({'where':{'_id':_0x4adb66[_0x37c353(0x1e0)]}});if(!_0x4536a5||!_0x4536a5[_0x37c353(0x42b)]?.[_0x37c353(0x592)](this[_0x37c353(0x1da)][_0x37c353(0x177)]))throw this[_0x37c353(0x50b)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x42f35d+_0x37c353(0x6bc)),new m(_0x37c353(0x7e1)+_0x42f35d+_0x37c353(0x6bc));let _0x2b1b99=require(_0x37c353(0x4cd))[_0x37c353(0x850)],_0x824ae1=Date['now'](),_0x47ca77='start',_0x50e50d={},_0x37f126={},_0x15af33=this[_0x37c353(0x295)]['flows'][_0x37c353(0x6cf)](_0xa6d316=>_0xa6d316[_0x37c353(0x1e0)]===_0x4536a5['_id']?.[_0x37c353(0x880)]()),_0x434268=_0x15af33?.[_0x37c353(0x86c)]??_0x4536a5[_0x37c353(0x86c)]??0x0,_0x1ab74e=_0x15af33?.[_0x37c353(0x3c3)]??_0x4536a5['readMessages']??!0x1,_0x336357={'flowId':_0x4adb66[_0x37c353(0x1e0)],'readMessages':_0x4adb66['readMessages'],..._0x4536a5,'chatLog':null},_0x2cabb4={'lastReceivedMessage':_0x50e50d,'lastSendMessage':_0x37f126,'lastBlockId':_0x47ca77,'lastCondition':!0x0,'realVariables':_0x24a510};_0x336357['chatLog']=_0x2cabb4,_0x336357['chatLog'][_0x37c353(0x544)]={..._0x24a510},delete _0x336357[_0x37c353(0x1e0)],_0x336357[_0x37c353(0x1e0)]=new _0x2b1b99(),_0x336357[_0x37c353(0x79d)]=_0x824ae1,_0x336357[_0x37c353(0x405)]=_0x37c353(0x76d),_0x336357[_0x37c353(0x309)]=_0x5f52d9,_0x336357['minutesToClose']=_0x434268,_0x336357['readMessages']=_0x1ab74e;let _0x57793d=await this[_0x37c353(0x302)][_0x37c353(0x5ce)][_0x37c353(0x723)](_0x336357['_id'],_0x336357,this['instance'][_0x37c353(0x177)]);return this[_0x37c353(0x50b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x37c353(0x177)]+_0x37c353(0x13b)),_0x57793d?_0x336357:null;}catch(_0x5d1e69){let _0x3eed58=_0x37c353(0x587),_0x38cc4b=_0x5d1e69 instanceof Error?_0x5d1e69[_0x37c353(0x416)]:typeof _0x5d1e69==_0x37c353(0x6eb)?JSON[_0x37c353(0x5ad)](_0x5d1e69):_0x5d1e69,_0x57875b=_0x3eed58+':\x20'+_0x38cc4b;throw this['logger'][_0x37c353(0x434)](this['instanceName']+'\x20('+this[_0x37c353(0x1da)][_0x37c353(0x177)]+_0x37c353(0x83b)+_0x57875b),new m(_0x57875b);}}async[a0_0x43466e(0x5df)](_0x41f1b7,_0x4f8d66){const _0x4fccc1=a0_0x43466e;let _0x1b53d9,_0x1ed453;try{let _0x3ef4a8=_0x4f8d66[_0x4fccc1(0x82f)];if(!_0x3ef4a8||!_0x3ef4a8['url']||!_0x3ef4a8[_0x4fccc1(0x57e)])throw new Error(_0x4fccc1(0x562));let _0x57160c;([_0x4fccc1(0x3d2),'https://api.openai.com/v1/images/generations',_0x4fccc1(0x3c9)]['some'](_0x2d543c=>_0x3ef4a8['url'][_0x4fccc1(0x592)](_0x2d543c))||_0x3ef4a8[_0x4fccc1(0x840)])&&(_0x57160c=_0x4fccc1(0x882));let _0x1ac2ed='\u205f',_0x193ed8;try{_0x193ed8=JSON[_0x4fccc1(0x2ef)](_0x3ef4a8[_0x4fccc1(0x284)][_0x4fccc1(0x6a1)](new RegExp(_0x1ac2ed,'g'),''));}catch(_0x498b55){throw _0x498b55;}let _0x289309={'method':_0x3ef4a8[_0x4fccc1(0x57e)],'url':_0x3ef4a8[_0x4fccc1(0x5ea)],'headers':_0x3ef4a8[_0x4fccc1(0x672)]||{},..._0x3ef4a8[_0x4fccc1(0x57e)]['toUpperCase']()!==_0x4fccc1(0x17f)&&_0x3ef4a8[_0x4fccc1(0x284)]?{'data':JSON[_0x4fccc1(0x2ef)](_0x3ef4a8[_0x4fccc1(0x284)][_0x4fccc1(0x6a1)](new RegExp(_0x1ac2ed,'g'),''))}:{},..._0x57160c&&{'responseType':_0x57160c}},_0x26dd03=await(0x0,Q['default'])(_0x289309),_0x143bcd=_0x26dd03[_0x4fccc1(0x72b)]['content-type'];if(_0x143bcd&&_0x143bcd[_0x4fccc1(0x592)](_0x4fccc1(0x6a3))||typeof _0x26dd03[_0x4fccc1(0x42e)]==_0x4fccc1(0x6d9)){if(typeof _0x26dd03[_0x4fccc1(0x42e)]==_0x4fccc1(0x6d9)){let _0x4d41df=_0x26dd03['data']['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x4fccc1(0x630)]();try{_0x1b53d9=JSON['parse'](_0x4d41df);}catch(_0x14aec2){this[_0x4fccc1(0x50b)][_0x4fccc1(0x434)](_0x4fccc1(0x6a0)+_0x14aec2[_0x4fccc1(0x416)]),_0x1b53d9={'_apiResponse':_0x26dd03['data']};}}else _0x1b53d9=_0x26dd03[_0x4fccc1(0x42e)];let _0x57cf4f=_0x41f1b7[_0x4fccc1(0x17b)][_0x4fccc1(0x544)],_0x16d464=this[_0x4fccc1(0x7f6)](_0x1b53d9);return Object[_0x4fccc1(0x1e5)](_0x57cf4f,_0x16d464),_0x41f1b7['chatLog']['realVariables']=_0x57cf4f,_0x1ed453={'error':!0x1,'apiResponse':_0x1b53d9},this[_0x4fccc1(0x1e2)](_0x41f1b7,_0x4f8d66,_0x1ed453),_0x1b53d9;}if(_0x143bcd&&(_0x143bcd[_0x4fccc1(0x592)](_0x4fccc1(0x1bb))||_0x143bcd['includes'](_0x4fccc1(0x3c1))||_0x143bcd['includes'](_0x4fccc1(0x1e4))||_0x143bcd[_0x4fccc1(0x592)](_0x4fccc1(0x1ba)))){this['logger'][_0x4fccc1(0x213)](this[_0x4fccc1(0x297)]+'\x20('+this[_0x4fccc1(0x1da)][_0x4fccc1(0x177)]+_0x4fccc1(0x14a)+_0x143bcd);let _0x152cff=(0x0,Y['v4'])(),_0x3cd66a='',_0x3846fc={'image/jpeg':_0x4fccc1(0x17e),'image/png':_0x4fccc1(0x616),'image/gif':'.gif','image/webp':_0x4fccc1(0x234),'image/svg+xml':_0x4fccc1(0x2e4),'audio/mpeg':_0x4fccc1(0x675),'audio/ogg':'.ogg','audio/wav':'.wav','video/mp4':_0x4fccc1(0x6d1),'video/webm':_0x4fccc1(0x464),'video/ogg':_0x4fccc1(0x372),'text/plain':_0x4fccc1(0x293),'application/pdf':'.pdf','application/msword':_0x4fccc1(0x4fe),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4fccc1(0x82e),'application/vnd.ms-excel':_0x4fccc1(0x5f0),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4fccc1(0x286),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4fccc1(0x4e2)};_0x3846fc[_0x143bcd]?(_0x3cd66a=_0x3846fc[_0x143bcd],this[_0x4fccc1(0x50b)][_0x4fccc1(0x213)](this[_0x4fccc1(0x297)]+'\x20('+this[_0x4fccc1(0x1da)][_0x4fccc1(0x177)]+_0x4fccc1(0x808)+_0x3cd66a)):(_0x3cd66a=_0x4fccc1(0x721),this[_0x4fccc1(0x50b)][_0x4fccc1(0x213)](this[_0x4fccc1(0x297)]+'\x20('+this[_0x4fccc1(0x1da)][_0x4fccc1(0x177)]+_0x4fccc1(0x514)+_0x3cd66a)),_0x152cff+=_0x3cd66a,this[_0x4fccc1(0x50b)][_0x4fccc1(0x213)](this['instanceName']+'\x20('+this[_0x4fccc1(0x1da)][_0x4fccc1(0x177)]+_0x4fccc1(0x7ad)+_0x152cff);let _0x1c1276=this[_0x4fccc1(0x609)][_0x4fccc1(0x5e9)](_0x4fccc1(0x732))[_0x4fccc1(0x572)];if(!_0x1c1276){let _0xd3b50=this[_0x4fccc1(0x609)][_0x4fccc1(0x5e9)]('SSL_CONF');_0x1c1276=_0x4fccc1(0x74a)+(_0xd3b50&&_0xd3b50[_0x4fccc1(0x738)][_0x4fccc1(0x380)]('/')[0x4]);}let _0x33ded7=Buffer[_0x4fccc1(0x3d3)](_0x26dd03[_0x4fccc1(0x42e)]);await this['saveMediaToFile'](_0x33ded7,_0x152cff);let _0x671162=_0x4fccc1(0x472)+_0x152cff;_0x671162=''+_0x1c1276+_0x671162,_0x1b53d9={'fileUrl':_0x671162},_0x41f1b7[_0x4fccc1(0x17b)][_0x4fccc1(0x544)][_0x4fccc1(0x777)]=_0x671162;let _0x535f20=_0x41f1b7[_0x4fccc1(0x17b)][_0x4fccc1(0x544)],_0x1a43b5=this['flattenObject'](_0x1b53d9);return Object[_0x4fccc1(0x1e5)](_0x535f20,_0x1a43b5),_0x41f1b7[_0x4fccc1(0x17b)][_0x4fccc1(0x544)]=_0x535f20,_0x1ed453={'error':!0x1,'apiResponse':{'fileUrl':_0x671162}},this['updateConversation'](_0x41f1b7,_0x4f8d66,_0x1ed453),_0x1b53d9;}}catch(_0x2d3509){this['logger'][_0x4fccc1(0x434)](_0x4fccc1(0x267)+_0x2d3509[_0x4fccc1(0x416)]),_0x2d3509[_0x4fccc1(0x3a1)]&&(_0x1b53d9=_0x2d3509['response'][_0x4fccc1(0x42e)]);let _0x5a0a54=_0x41f1b7[_0x4fccc1(0x17b)]['realVariables'],_0x2cc85d=this['flattenObject'](_0x1b53d9);return Object[_0x4fccc1(0x1e5)](_0x5a0a54,_0x2cc85d),_0x41f1b7[_0x4fccc1(0x17b)]['realVariables']=_0x5a0a54,_0x1ed453={'error':!0x0,'errorLog':_0x2d3509[_0x4fccc1(0x880)](),'apiResponse':_0x1b53d9},this[_0x4fccc1(0x1e2)](_0x41f1b7,_0x4f8d66,_0x1ed453),{'success':!0x1};}}['applyvaredit'](_0x358f0e,_0x19e893){const _0x17dd4c=a0_0x43466e;let _0x5bb3ab=_0x11c8dd=>{const _0x4b6404=a0_0x5767;let _0x307bb0=_0x11c8dd[_0x4b6404(0x6a1)](/[^0-9.,-]/g,'')[_0x4b6404(0x6a1)](',','.'),_0x657441=parseFloat(_0x307bb0);return isNaN(_0x657441)?null:_0x657441;},_0x270466=_0x19e893[_0x17dd4c(0x601)],_0x347ee0=_0x19e893[_0x17dd4c(0x647)];typeof _0x270466==_0x17dd4c(0x6d9)&&(_0x270466=this[_0x17dd4c(0x26e)](_0x270466,_0x358f0e[_0x17dd4c(0x17b)]['realVariables'])??''),typeof _0x347ee0==_0x17dd4c(0x6d9)&&(_0x347ee0=this[_0x17dd4c(0x26e)](_0x347ee0,_0x358f0e[_0x17dd4c(0x17b)][_0x17dd4c(0x544)])??'');let _0x5ac77c=null;if(!_0x19e893['editOperator'])return null;switch(this[_0x17dd4c(0x50b)][_0x17dd4c(0x213)](this[_0x17dd4c(0x297)]+'\x20('+this[_0x17dd4c(0x1da)][_0x17dd4c(0x177)]+_0x17dd4c(0x1f5)+_0x270466),this[_0x17dd4c(0x50b)][_0x17dd4c(0x213)](this[_0x17dd4c(0x297)]+'\x20('+this[_0x17dd4c(0x1da)][_0x17dd4c(0x177)]+_0x17dd4c(0x719)+_0x347ee0),_0x19e893[_0x17dd4c(0x86d)]){case'+':case'-':case'*':case'/':let _0x29ab79=_0x5bb3ab(_0x270466||'0'),_0x5dda00=_0x5bb3ab(_0x347ee0||'0');if(_0x29ab79===null)return null;switch(_0x19e893[_0x17dd4c(0x86d)]){case'+':_0x5ac77c=_0x29ab79+(_0x5dda00??0x0);break;case'-':_0x5ac77c=_0x29ab79-(_0x5dda00??0x0);break;case'*':_0x5ac77c=_0x29ab79*(_0x5dda00??0x1);break;case'/':_0x5dda00!==0x0&&(_0x5ac77c=_0x29ab79/(_0x5dda00??0x1));break;}break;case _0x17dd4c(0x152):case'findAndReplaceRegex':let _0x35e783=_0x347ee0,_0x10684d=_0x19e893[_0x17dd4c(0x14e)];if(typeof _0x10684d==_0x17dd4c(0x6d9)&&(_0x10684d=this[_0x17dd4c(0x26e)](_0x10684d,_0x358f0e[_0x17dd4c(0x17b)][_0x17dd4c(0x544)])??''),_0x35e783&&_0x10684d!==void 0x0){let _0x3758d9=_0x19e893['editOperator']==='findAndReplace'?new RegExp(_0x35e783['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x35e783,'g');_0x5ac77c=_0x270466[_0x17dd4c(0x6a1)](_0x3758d9,_0x10684d);}else console['warn'](_0x17dd4c(0x667));break;case _0x17dd4c(0x644):_0x5ac77c=_0x347ee0;break;case'extractRegex':let _0x15eb5f=_0x270466[_0x17dd4c(0x30d)](new RegExp(_0x347ee0||''));_0x5ac77c=_0x15eb5f?_0x15eb5f[0x0]:'';break;case _0x17dd4c(0x31d):_0x5ac77c=_0x270466[_0x17dd4c(0x5a7)](0x0,parseInt(_0x347ee0||'0'));break;case _0x17dd4c(0x523):let _0x45875c=parseInt(_0x347ee0||'0');_0x5ac77c=_0x270466['slice'](_0x270466[_0x17dd4c(0x695)]-_0x45875c);break;case _0x17dd4c(0x7a9):let _0x16cc3b=_0x5bb3ab(_0x270466),_0x5bc5fb=parseInt(_0x347ee0||'0');_0x5bc5fb=Math[_0x17dd4c(0x567)](_0x5bc5fb),_0x16cc3b!==null?_0x5ac77c=_0x16cc3b[_0x17dd4c(0x712)](_0x17dd4c(0x14b),{'minimumFractionDigits':_0x5bc5fb,'maximumFractionDigits':_0x5bc5fb}):(console[_0x17dd4c(0x677)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x270466),_0x5ac77c=null);break;case'toBRL':let _0x4c458e=_0x5bb3ab(_0x270466);_0x4c458e!==null?_0x5ac77c=_0x4c458e[_0x17dd4c(0x712)]('pt-BR',{'style':_0x17dd4c(0x559),'currency':'BRL'}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x270466),_0x5ac77c=null);break;case'upperCase':_0x5ac77c=_0x270466['toUpperCase']();break;case _0x17dd4c(0x720):_0x5ac77c=_0x270466[_0x17dd4c(0x7a5)]();break;case'capitalizedWords':_0x5ac77c=_0x270466[_0x17dd4c(0x380)]('\x20')[_0x17dd4c(0x614)](_0xa520e5=>_0xa520e5[_0x17dd4c(0x479)](0x0)[_0x17dd4c(0x143)]()+_0xa520e5['slice'](0x1)['toLowerCase']())[_0x17dd4c(0x14c)]('\x20');break;case'convertToString':_0x5ac77c=JSON[_0x17dd4c(0x5ad)](_0x270466);break;case'trimmed':_0x5ac77c=_0x270466[_0x17dd4c(0x630)]();break;default:_0x5ac77c=_0x270466;}return _0x5ac77c!==null?_0x5ac77c['toString']():null;}async[a0_0x43466e(0x148)](_0x4aaac3,_0x40cbed){const _0x27f497=a0_0x43466e;try{let _0x3da6cc=_0x4aaac3[_0x27f497(0x45e)]?.[_0x27f497(0x71f)](_0x14254b=>_0x14254b[_0x27f497(0x6f2)]===_0x40cbed[_0x27f497(0x1e0)]?.[_0x27f497(0x880)]())||[],_0x2778fa=_0x40cbed[_0x27f497(0x1ef)],_0x35d259=null,_0x380e7c=[],_0x1361cb=_0x4aaac3['chatLog']['realVariables'][_0x2778fa];_0x380e7c[_0x27f497(0x7ef)](_0x27f497(0x36d)+_0x1361cb+'\x22');for(let _0x41723e of _0x3da6cc){_0x41723e[_0x27f497(0x601)]=_0x1361cb,_0x35d259=_0x41723e[_0x27f497(0x601)];let _0x3797ff;try{_0x3797ff=this[_0x27f497(0x7f9)](_0x4aaac3,_0x41723e);}catch(_0x13433c){this[_0x27f497(0x50b)][_0x27f497(0x434)](_0x27f497(0x53a)+_0x13433c['message']);continue;}if(_0x3797ff!==null){let _0x6e302d=_0x27f497(0x3f0)+_0x41723e[_0x27f497(0x86d)]+'\x22',_0x863ef=[_0x27f497(0x535),_0x27f497(0x139),'lowerCase','capitalizedWords',_0x27f497(0x6e3)];_0x41723e[_0x27f497(0x86d)]===_0x27f497(0x152)||_0x41723e[_0x27f497(0x86d)]===_0x27f497(0x52d)?_0x6e302d+=_0x27f497(0x3b3)+_0x41723e[_0x27f497(0x647)]+_0x27f497(0x838)+_0x41723e[_0x27f497(0x14e)]+'\x22':!_0x863ef['includes'](_0x41723e['editOperator'])&&_0x41723e[_0x27f497(0x647)]!==null&&_0x41723e['secondValue']!==void 0x0&&(_0x6e302d+=',\x20valor\x20passado:\x20\x22'+_0x41723e[_0x27f497(0x647)]+'\x22'),_0x6e302d+=_0x27f497(0x361)+_0x3797ff+'.',_0x380e7c[_0x27f497(0x7ef)](_0x6e302d);}_0x3797ff!==null&&(_0x1361cb=_0x3797ff);}if(_0x4aaac3[_0x27f497(0x17b)][_0x27f497(0x544)]&&_0x40cbed[_0x27f497(0x1ef)]){_0x4aaac3[_0x27f497(0x17b)]['realVariables'][_0x40cbed[_0x27f497(0x1ef)]]=_0x1361cb;let _0xc519e8={'variable':_0x40cbed[_0x27f497(0x1ef)],'oldValue':_0x35d259,'newValue':_0x1361cb,'moreLogs':_0x380e7c};try{this['updateConversation'](_0x4aaac3,_0x40cbed,_0xc519e8);}catch(_0x483a27){this['logger'][_0x27f497(0x434)](_0x27f497(0x16a)+_0x483a27[_0x27f497(0x416)]);}}return _0x2778fa;}catch(_0x4349ef){return this['logger'][_0x27f497(0x434)](_0x27f497(0x5db)+_0x4349ef[_0x27f497(0x416)]),null;}}async[a0_0x43466e(0x496)](_0x11de1d,_0x102d89){const _0x3e0eb0=a0_0x43466e;try{let _0x8628c9=[],_0x27a3cf=_0x11de1d[_0x3e0eb0(0x7a8)][_0x3e0eb0(0x71f)](_0x11acb7=>_0x11acb7[_0x3e0eb0(0x6f2)]===_0x102d89[_0x3e0eb0(0x1e0)][_0x3e0eb0(0x880)]()),_0x30e470=null,_0x3cc779=!0x1;for(let _0x3ca144 of _0x27a3cf){let _0x5a23e2=this[_0x3e0eb0(0x165)](_0x11de1d,_0x3ca144);_0x8628c9[_0x3e0eb0(0x7ef)](_0x3e0eb0(0x662)+_0x3ca144[_0x3e0eb0(0x601)]+_0x3e0eb0(0x70d)+_0x3ca144[_0x3e0eb0(0x802)]+_0x3e0eb0(0x220)+_0x3ca144[_0x3e0eb0(0x647)]+',\x20Resultado:\x20'+_0x5a23e2),_0x30e470===null?_0x30e470=_0x5a23e2:_0x3ca144[_0x3e0eb0(0x4f3)]==='and'?(_0x30e470=_0x30e470&&_0x5a23e2,_0x5a23e2||(_0x3cc779=!0x0)):_0x3ca144[_0x3e0eb0(0x4f3)]==='or'&&(_0x3cc779||(_0x30e470=_0x30e470||_0x5a23e2));}_0x30e470===null&&(_0x30e470=!0x0);let _0x41dbae={'moreLogs':_0x8628c9};_0x11de1d[_0x3e0eb0(0x17b)][_0x3e0eb0(0x7e2)]=_0x30e470,await this['updateConversation'](_0x11de1d,_0x102d89,_0x41dbae);}catch(_0x1d860d){this[_0x3e0eb0(0x50b)][_0x3e0eb0(0x434)](this[_0x3e0eb0(0x297)]+'\x20('+this['instance'][_0x3e0eb0(0x177)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x1d860d instanceof Error?_0x1d860d[_0x3e0eb0(0x416)]:JSON[_0x3e0eb0(0x5ad)](_0x1d860d,null,0x2)));}}[a0_0x43466e(0x165)](_0x2f4841,_0x94dc1e){const _0x58a770=a0_0x43466e;let _0x2a9afe=_0x94dc1e[_0x58a770(0x601)],_0x4fd8c5=_0x94dc1e[_0x58a770(0x647)];typeof _0x2a9afe==_0x58a770(0x6d9)&&(_0x2a9afe=this[_0x58a770(0x26e)](_0x2a9afe,_0x2f4841[_0x58a770(0x17b)][_0x58a770(0x544)])??''),typeof _0x4fd8c5==_0x58a770(0x6d9)&&(_0x4fd8c5=this[_0x58a770(0x26e)](_0x4fd8c5,_0x2f4841[_0x58a770(0x17b)][_0x58a770(0x544)])??'');try{switch(_0x94dc1e['expression']){case'equal':return _0x2a9afe===_0x4fd8c5;case _0x58a770(0x582):return _0x2a9afe!==_0x4fd8c5;case _0x58a770(0x2d5):return this[_0x58a770(0x2d5)](_0x2a9afe,_0x4fd8c5);case _0x58a770(0x736):return!this['contains'](_0x2a9afe,_0x4fd8c5);case _0x58a770(0x3d9):return parseFloat(_0x2a9afe)>parseFloat(_0x4fd8c5);case'less':return parseFloat(_0x2a9afe)<parseFloat(_0x4fd8c5);case'notEmpty':return _0x2a9afe!=='';case _0x58a770(0x1c2):return _0x2a9afe==='';case _0x58a770(0x7ce):return new RegExp(_0x4fd8c5)[_0x58a770(0x2cc)](_0x2a9afe);case _0x58a770(0x5ac):return!new RegExp(_0x4fd8c5)['test'](_0x2a9afe);default:return!0x1;}}catch(_0x5a00c5){return this[_0x58a770(0x50b)]['error'](_0x58a770(0x84c)+_0x5a00c5),!0x1;}}[a0_0x43466e(0x2d5)](_0x457ed5,_0x2a326a){const _0x4bfff7=a0_0x43466e;if(_0x457ed5===_0x2a326a&&/^\d+$/['test'](_0x457ed5))return!0x0;if(this[_0x4bfff7(0x874)](_0x457ed5)&&/^\d+$/[_0x4bfff7(0x2cc)](_0x2a326a)){let _0x22ba13=_0x457ed5[_0x4bfff7(0x380)](',')[_0x4bfff7(0x614)](_0x21e9af=>parseInt(_0x21e9af[_0x4bfff7(0x630)]())),_0x11b92e=parseInt(_0x2a326a);return _0x22ba13['includes'](_0x11b92e);}return _0x457ed5[_0x4bfff7(0x592)](_0x2a326a);}[a0_0x43466e(0x874)](_0x204051){const _0x15e65e=a0_0x43466e;return/^\d+(,\d+)*$/[_0x15e65e(0x2cc)](_0x204051);}['processConditionsTest'](_0x4d45dc){const _0xcfdcb4=a0_0x43466e;let _0x327d1d=!0x0,_0x3cc9a0=null;for(let _0x7255ae of _0x4d45dc){let _0x4a49b8=this[_0xcfdcb4(0x639)](_0x7255ae);if(_0x3cc9a0==='or'&&_0x4a49b8){_0x327d1d=!0x0;break;}if(_0x3cc9a0===_0xcfdcb4(0x6ea)&&!_0x4a49b8){_0x327d1d=!0x1;break;}_0x3cc9a0=_0x7255ae[_0xcfdcb4(0x4f3)];}return _0x327d1d;}[a0_0x43466e(0x639)](_0x115459){const _0x56cedc=a0_0x43466e;let _0x5600fc=_0x115459[_0x56cedc(0x601)],_0x40302e=_0x115459[_0x56cedc(0x647)];try{switch(_0x115459['expression']){case _0x56cedc(0x896):return String(_0x5600fc)===String(_0x40302e);case _0x56cedc(0x582):return String(_0x5600fc)!==String(_0x40302e);case _0x56cedc(0x2d5):return String(_0x5600fc)[_0x56cedc(0x592)](String(_0x40302e));case _0x56cedc(0x736):return!String(_0x5600fc)[_0x56cedc(0x592)](String(_0x40302e));case _0x56cedc(0x3d9):return parseFloat(String(_0x5600fc))>parseFloat(String(_0x40302e));case'less':return parseFloat(String(_0x5600fc))<parseFloat(String(_0x40302e));case _0x56cedc(0x46c):return String(_0x5600fc)!=='';case'empty':return String(_0x5600fc)==='';case'matchRegex':return new RegExp(String(_0x40302e))[_0x56cedc(0x2cc)](String(_0x5600fc));case _0x56cedc(0x5ac):return!new RegExp(String(_0x40302e))[_0x56cedc(0x2cc)](String(_0x5600fc));default:return!0x1;}}catch(_0x5bc68c){return this[_0x56cedc(0x50b)][_0x56cedc(0x434)](_0x56cedc(0x84c)+_0x5bc68c),!0x1;}}async[a0_0x43466e(0x5b7)](_0x191ef5,_0x5b23cf){const _0x226db6=a0_0x43466e;if(this[_0x226db6(0x50b)][_0x226db6(0x213)](this[_0x226db6(0x297)]+'\x20('+this[_0x226db6(0x1da)]['wuid']+_0x226db6(0x713)),!_0x191ef5||!_0x5b23cf)return this[_0x226db6(0x50b)][_0x226db6(0x434)](this[_0x226db6(0x297)]+'\x20('+this['instance'][_0x226db6(0x177)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x561b7d=_0x191ef5[_0x226db6(0x17b)][_0x226db6(0x2f1)]['key']['id'];this['logger']['verbose'](this[_0x226db6(0x297)]+'\x20('+this[_0x226db6(0x1da)][_0x226db6(0x177)]+_0x226db6(0x829)+_0x561b7d);let _0x1fa03e={'key':{'id':_0x561b7d}},_0x211ceb=_0x5b23cf[_0x226db6(0x1ef)];_0x191ef5[_0x226db6(0x17b)]['realVariables']['_'+_0x211ceb+_0x226db6(0x268)]=null,_0x191ef5[_0x226db6(0x17b)]['realVariables']['_'+_0x211ceb+'.mimetype']=null,_0x191ef5[_0x226db6(0x17b)][_0x226db6(0x544)]['_'+_0x211ceb+'.extension']=null,_0x191ef5['chatLog'][_0x226db6(0x544)]['_'+_0x211ceb+_0x226db6(0x50d)]=_0x191ef5[_0x226db6(0x17b)][_0x226db6(0x2f1)][_0x226db6(0x375)];try{let _0x91db9d=await this['getBase64FromMediaMessage'](_0x1fa03e);this[_0x226db6(0x50b)][_0x226db6(0x213)](this[_0x226db6(0x297)]+'\x20('+this['instance']['wuid']+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x191ef5[_0x226db6(0x17b)][_0x226db6(0x544)]['_'+_0x211ceb+'.url']=_0x91db9d['fileUrl'],_0x191ef5[_0x226db6(0x17b)][_0x226db6(0x544)]['_'+_0x211ceb+_0x226db6(0x66a)]=_0x91db9d[_0x226db6(0x163)];let _0x1e0c57=_0x91db9d[_0x226db6(0x163)][_0x226db6(0x30d)](/\/(\w+)$/),_0x173de0=_0x1e0c57?_0x1e0c57[0x1]:null;_0x191ef5[_0x226db6(0x17b)]['realVariables']['_'+_0x211ceb+_0x226db6(0x679)]=_0x173de0,this[_0x226db6(0x50b)][_0x226db6(0x213)](this[_0x226db6(0x297)]+'\x20('+this[_0x226db6(0x1da)]['wuid']+_0x226db6(0x76b)+_0x211ceb+'\x27.');}catch(_0x46a547){this[_0x226db6(0x50b)]['error'](this[_0x226db6(0x297)]+'\x20('+this[_0x226db6(0x1da)][_0x226db6(0x177)]+_0x226db6(0x2e6)+_0x46a547[_0x226db6(0x416)]);}let _0x2a1a83=_0x191ef5['chatLog']['lastReceivedMessage'][_0x226db6(0x3c5)]||_0x191ef5[_0x226db6(0x17b)][_0x226db6(0x2f1)]['caption']||_0x191ef5['chatLog'][_0x226db6(0x2f1)][_0x226db6(0x726)];try{_0x191ef5[_0x226db6(0x17b)]['realVariables']||(_0x191ef5[_0x226db6(0x17b)][_0x226db6(0x544)]={});let _0x2204d1=_0x191ef5['chatLog'][_0x226db6(0x544)][_0x211ceb];_0x191ef5[_0x226db6(0x17b)]['realVariables'][_0x211ceb]=_0x2a1a83;let _0x20d983={'variable':_0x211ceb,'oldValue':_0x2204d1,'newValue':_0x2a1a83};this['updateConversation'](_0x191ef5,_0x5b23cf,_0x20d983),this['logger'][_0x226db6(0x213)](this['instanceName']+'\x20('+this['instance'][_0x226db6(0x177)]+_0x226db6(0x800));}catch(_0x18afae){let _0x35a67d={'error':!0x0,'errorLog':_0x18afae[_0x226db6(0x880)]()};return this[_0x226db6(0x1e2)](_0x191ef5,_0x5b23cf,_0x35a67d),this[_0x226db6(0x50b)]['error'](this[_0x226db6(0x297)]+'\x20('+this['instance'][_0x226db6(0x177)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x18afae instanceof Error?_0x18afae[_0x226db6(0x416)]:JSON[_0x226db6(0x5ad)](_0x18afae,null,0x2))),null;}}async[a0_0x43466e(0x1f6)](_0x24b614,_0x20703c){const _0x5cc23a=a0_0x43466e;if(this[_0x5cc23a(0x50b)][_0x5cc23a(0x213)](this[_0x5cc23a(0x297)]+'\x20('+this[_0x5cc23a(0x1da)][_0x5cc23a(0x177)]+_0x5cc23a(0x43a)),!_0x24b614||!_0x20703c)return this[_0x5cc23a(0x50b)][_0x5cc23a(0x434)](this[_0x5cc23a(0x297)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5a3d59=Date['now'](),_0x8f15e=parseInt(_0x20703c[_0x5cc23a(0x75a)],0xa);if(isNaN(_0x8f15e))return this[_0x5cc23a(0x50b)][_0x5cc23a(0x434)](this[_0x5cc23a(0x297)]+'\x20('+this['instance'][_0x5cc23a(0x177)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x2eb10d={'newStoppedUntil':_0x5a3d59+_0x8f15e*0x3c*0x3e8};return await this[_0x5cc23a(0x1e2)](_0x24b614,_0x20703c,_0x2eb10d,!0x0),null;}async[a0_0x43466e(0x668)](_0x27f6e1,_0x7421fb){const _0xb5babe=a0_0x43466e;try{switch(_0x7421fb[_0xb5babe(0x683)][_0xb5babe(0x3d7)]){case _0xb5babe(0x81b):await this['uazapiSendText'](_0x27f6e1,_0x7421fb);break;case'sendMedia':await this[_0xb5babe(0x35f)](_0x27f6e1,_0x7421fb);break;case'sendLocation':await this['uazapiSendLocation'](_0x27f6e1,_0x7421fb);break;case _0xb5babe(0x2d1):await this[_0xb5babe(0x27b)](_0x27f6e1,_0x7421fb);break;case _0xb5babe(0x57f):await this[_0xb5babe(0x87c)](_0x27f6e1,_0x7421fb);break;case _0xb5babe(0x558):await this['uazapiSendMenu'](_0x27f6e1,_0x7421fb);break;case _0xb5babe(0x3a5):await this['uazapiSendMenu'](_0x27f6e1,_0x7421fb);break;case _0xb5babe(0x1ea):await this[_0xb5babe(0x288)](_0x27f6e1,_0x7421fb);break;default:this[_0xb5babe(0x50b)][_0xb5babe(0x434)](this['instanceName']+'\x20('+this[_0xb5babe(0x1da)]['wuid']+_0xb5babe(0x67f)+_0x7421fb[_0xb5babe(0x683)][_0xb5babe(0x3d7)]);}}catch(_0x3b9702){this[_0xb5babe(0x50b)][_0xb5babe(0x434)](this[_0xb5babe(0x297)]+'\x20('+this[_0xb5babe(0x1da)][_0xb5babe(0x177)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x3b9702 instanceof Error?_0x3b9702[_0xb5babe(0x416)]:JSON[_0xb5babe(0x5ad)](_0x3b9702,null,0x2)));}}async[a0_0x43466e(0x1e2)](_0x538133,_0x2f519c,_0xfbe7aa,_0x2ce4a8=!0x1,_0x4c3ac6=!0x1){const _0x4105a1=a0_0x43466e;_0x538133['chatLog'][_0x4105a1(0x5f6)]||(_0x538133[_0x4105a1(0x17b)]['blockLogs']=[]);let _0x1e7f6d=(_0x538133['chatLog'][_0x4105a1(0x5f6)]?.[_0x4105a1(0x695)]??0x0)+0x1,_0xd8fdb0=_0x538133['chatLog'][_0x4105a1(0x5f6)][_0x4105a1(0x71f)](_0x1706d3=>String(_0x1706d3[_0x4105a1(0x6f2)])===String(_0x2f519c[_0x4105a1(0x1e0)]))['length']+0x1,_0x518b95=_0xfbe7aa?.[_0x4105a1(0x6c1)]??Date[_0x4105a1(0x24f)](),_0xac1964=_0xfbe7aa?.[_0x4105a1(0x434)]?_0xfbe7aa['errorLog']??_0xfbe7aa[_0x4105a1(0x434)][_0x4105a1(0x880)]():void 0x0,_0x4c3e7c={'onTime':_0x518b95,'blockId':_0x2f519c[_0x4105a1(0x1e0)],'order':_0x1e7f6d,'activatedCount':_0xd8fdb0,'error':_0xfbe7aa?.[_0x4105a1(0x434)]??!0x1,'messageId':_0xfbe7aa?.[_0x4105a1(0x423)],'apiResponse':_0xfbe7aa?.[_0x4105a1(0x3f1)],'apiResponseString':_0xfbe7aa?.[_0x4105a1(0x3f1)]?JSON['stringify'](_0xfbe7aa?.[_0x4105a1(0x3f1)]):void 0x0,'variable':_0xfbe7aa?.['variable'],'oldValue':_0xfbe7aa?.[_0x4105a1(0x1d7)],'newValue':_0xfbe7aa?.['newValue'],'newStoppedUntil':_0xfbe7aa?.[_0x4105a1(0x634)],'moreLogs':_0xfbe7aa?.['moreLogs'],'errorLog':_0xac1964};if(_0xfbe7aa[_0x4105a1(0x1dd)]&&_0xfbe7aa[_0x4105a1(0x1dd)][_0x4105a1(0x695)]>0x0){let _0x1f3a54=_0xfbe7aa[_0x4105a1(0x1dd)][_0x4105a1(0x614)](_0x55e28f=>this[_0x4105a1(0x41c)](_0x55e28f,_0x538133['chatLog'][_0x4105a1(0x544)]));_0x4c3e7c[_0x4105a1(0x1dd)]=_0x1f3a54;}if(_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x544)]||(_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x544)]={}),_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x544)][_0x4105a1(0x5a6)]=String(_0xd8fdb0),_0x538133['chatLog']['realVariables'][_0x4105a1(0x60a)]=String(_0xfbe7aa['error']??!0x1),_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x5f6)][_0x4105a1(0x7ef)](_0x4c3e7c),_0x538133['chatLog'][_0x4105a1(0x544)][_0x4105a1(0x253)]&&_0x538133['chatLog'][_0x4105a1(0x544)][_0x4105a1(0x253)]!==_0x538133[_0x4105a1(0x309)]){let _0x19891f=(await this[_0x4105a1(0x42f)]({'numbers':[_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x544)]['telefone']]}))[0x0][_0x4105a1(0x6f1)];_0x538133[_0x4105a1(0x17b)]['realVariables'][_0x4105a1(0x253)]=_0x19891f,_0x538133[_0x4105a1(0x309)]=_0x19891f;try{let _0x374c9f={'_id':{'$ne':_0x538133[_0x4105a1(0x1e0)]},'remoteJid':_0x19891f,'status':_0x4105a1(0x76d)},_0x1f363b={'status':_0x4105a1(0x313)};await this[_0x4105a1(0x302)][_0x4105a1(0x5ce)][_0x4105a1(0x389)](_0x374c9f,_0x1f363b,this['instance'][_0x4105a1(0x177)]),this[_0x4105a1(0x50b)][_0x4105a1(0x213)](this['instanceName']+'\x20('+this[_0x4105a1(0x1da)][_0x4105a1(0x177)]+_0x4105a1(0x4b3));}catch(_0x51bd85){this[_0x4105a1(0x50b)][_0x4105a1(0x434)](this[_0x4105a1(0x297)]+'\x20('+this[_0x4105a1(0x1da)]['wuid']+_0x4105a1(0x4c1)+_0x51bd85[_0x4105a1(0x416)]);}try{let _0x293548=_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x544)],_0x568f66=await this[_0x4105a1(0x53f)](_0x19891f),_0x451866={..._0x293548,..._0x568f66,'_remoteJid':_0x19891f};_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x544)]=_0x451866;}catch(_0x29e008){this['logger']['error'](this[_0x4105a1(0x297)]+'\x20('+this[_0x4105a1(0x1da)]['wuid']+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x29e008['message']);}}_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x2df)]=_0x2f519c[_0x4105a1(0x1e0)][_0x4105a1(0x880)](),_0x538133['chatLog']['lastSendMessage']&&(_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x304)]=_0x538133['chatLog'][_0x4105a1(0x304)]),_0x538133[_0x4105a1(0x17b)]['lastReceivedMessage']&&(_0x538133['chatLog'][_0x4105a1(0x2f1)]=_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x2f1)]),_0x538133['chatLog'][_0x4105a1(0x7e2)]&&(_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x7e2)]=_0x538133[_0x4105a1(0x17b)][_0x4105a1(0x7e2)]),_0x4c3ac6&&(_0x538133[_0x4105a1(0x405)]=_0x4105a1(0x313)),_0x2ce4a8?this[_0x4105a1(0x631)](_0x538133):this['goNextblock'](_0x538133,_0x2f519c);}[a0_0x43466e(0x41c)](_0x2808b9,_0x417369){const _0x5784a7=a0_0x43466e;return _0x2808b9[_0x5784a7(0x6a1)](/\{\{([^}]+)\}\}/g,(_0x350494,_0x1de10f)=>_0x417369[_0x1de10f]?'{{'+_0x1de10f+_0x5784a7(0x4c2)+_0x417369[_0x1de10f]+'\x22':'{{'+_0x1de10f+_0x5784a7(0x200));}async['saveConversationToDatabase'](_0xd5ddd8){const _0xf5faff=a0_0x43466e;try{let _0xf044ad=Object[_0xf5faff(0x7c1)](_0xd5ddd8[_0xf5faff(0x17b)][_0xf5faff(0x544)])[_0xf5faff(0x614)](([_0x529c1a,_0x1f964b])=>({'name':_0x529c1a,'value':_0x1f964b})),_0xdb6d0b={'status':_0xd5ddd8[_0xf5faff(0x405)],'remoteJid':_0xd5ddd8[_0xf5faff(0x309)],'blocks':_0xd5ddd8[_0xf5faff(0x2cd)],'waitingMenu_id':_0xd5ddd8[_0xf5faff(0x894)],'waitingMenu_text':_0xd5ddd8[_0xf5faff(0x2bd)],'waitingMenu_replyOptions':_0xd5ddd8[_0xf5faff(0x439)],'chatLog':{'lastBlockId':_0xd5ddd8['chatLog'][_0xf5faff(0x2df)],'lastSendMessage':_0xd5ddd8['chatLog'][_0xf5faff(0x304)],'lastReceivedMessage':_0xd5ddd8[_0xf5faff(0x17b)][_0xf5faff(0x2f1)],'lastCondition':_0xd5ddd8[_0xf5faff(0x17b)][_0xf5faff(0x7e2)],'chatVariables':_0xf044ad,'realVariables':_0xd5ddd8[_0xf5faff(0x17b)]['realVariables'],'blockLogs':_0xd5ddd8[_0xf5faff(0x17b)][_0xf5faff(0x5f6)]}},_0x11952b=await this[_0xf5faff(0x302)][_0xf5faff(0x5ce)][_0xf5faff(0x723)](_0xd5ddd8[_0xf5faff(0x1e0)],_0xdb6d0b,this['instance'][_0xf5faff(0x177)]);if(_0x11952b){this[_0xf5faff(0x50b)]['verbose'](this[_0xf5faff(0x297)]+'\x20('+this['instance']['wuid']+_0xf5faff(0x519)+_0x11952b[_0xf5faff(0x1e0)]);try{let _0x237cf0=[_0xf5faff(0x69c),_0xf5faff(0x7d5),_0xf5faff(0x263),_0xf5faff(0x470),_0xf5faff(0x405),_0xf5faff(0x3e2),_0xf5faff(0x73c),_0xf5faff(0x2b6),'etiquetas','atendimentoAberto'];if(!this[_0xf5faff(0x295)]&&(await this[_0xf5faff(0x868)](),!this[_0xf5faff(0x295)]))throw new Error(_0xf5faff(0x77c));let _0x4482b0=this['AutomateSystem']?.[_0xf5faff(0x5ee)][_0xf5faff(0x614)](_0x134cb2=>_0x134cb2['name']),_0x9af19e={};Object[_0xf5faff(0x7c1)](_0xd5ddd8[_0xf5faff(0x17b)]['realVariables'])[_0xf5faff(0x663)](([_0x12d32d,_0x464552])=>{const _0x11f2bb=_0xf5faff;_0x237cf0['includes'](_0x12d32d)&&(_0x12d32d==='tags'&&typeof _0x464552==_0x11f2bb(0x6d9)?_0x9af19e[_0x12d32d]=_0x464552[_0x11f2bb(0x380)](',')[_0x11f2bb(0x614)](_0x56f3b3=>_0x56f3b3[_0x11f2bb(0x630)]())[_0x11f2bb(0x71f)](_0x348b2b=>_0x348b2b!==''):_0x12d32d===_0x11f2bb(0x1f0)&&typeof _0x464552==_0x11f2bb(0x6d9)?_0x9af19e[_0x12d32d]=_0x464552['split'](',')[_0x11f2bb(0x614)](_0x2b09b3=>_0x2b09b3['trim']())[_0x11f2bb(0x71f)](_0x504513=>_0x504513!==''):_0x9af19e[_0x12d32d]=_0x464552);});let _0x2e2d3a=_0xd5ddd8[_0xf5faff(0x17b)][_0xf5faff(0x5f6)][_0xd5ddd8[_0xf5faff(0x17b)][_0xf5faff(0x5f6)][_0xf5faff(0x695)]-0x1];if(_0x2e2d3a){let _0x396f2e=_0x2e2d3a[_0xf5faff(0x634)];_0x396f2e!==void 0x0&&(_0x9af19e['desativadoFluxoAte']=_0x396f2e[_0xf5faff(0x880)]());}let _0x59f915=_0xf044ad['filter'](_0x265836=>_0x4482b0[_0xf5faff(0x592)](_0x265836[_0xf5faff(0x5c3)]));this[_0xf5faff(0x50b)][_0xf5faff(0x213)](this[_0xf5faff(0x297)]+'\x20('+this[_0xf5faff(0x1da)][_0xf5faff(0x177)]+_0xf5faff(0x65a)),this[_0xf5faff(0x50b)][_0xf5faff(0x213)](_0x9af19e),this[_0xf5faff(0x50b)]['verbose'](this[_0xf5faff(0x297)]+'\x20('+this['instance'][_0xf5faff(0x177)]+'):\x20customFieldVariables'),this[_0xf5faff(0x50b)][_0xf5faff(0x213)](_0x59f915);let _0x30579a=_0x59f915['map'](_0x550f6d=>{const _0x5f1a21=_0xf5faff;let _0x47b33a=this[_0x5f1a21(0x295)]?.[_0x5f1a21(0x5ee)]['find'](_0x1efd68=>_0x1efd68['name']===_0x550f6d[_0x5f1a21(0x5c3)]);if(!_0x47b33a)throw new Error(_0x5f1a21(0x34d)+_0x550f6d['name']);return{'_id':_0x47b33a[_0x5f1a21(0x1e0)],'value':_0x550f6d[_0x5f1a21(0x61e)]};});this[_0xf5faff(0x50b)]['verbose'](this[_0xf5faff(0x297)]+'\x20('+this['instance'][_0xf5faff(0x177)]+_0xf5faff(0x8a1)),this[_0xf5faff(0x50b)][_0xf5faff(0x213)](_0x30579a),await this[_0xf5faff(0x2f0)](_0xd5ddd8[_0xf5faff(0x309)],_0x9af19e,_0x30579a);}catch(_0x58840f){this[_0xf5faff(0x50b)][_0xf5faff(0x434)](this[_0xf5faff(0x297)]+'\x20('+this[_0xf5faff(0x1da)]['wuid']+_0xf5faff(0x4a2)+(_0x58840f instanceof Error?_0x58840f['message']:JSON[_0xf5faff(0x5ad)](_0x58840f,null,0x2)));}}else this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x3b50e1){this[_0xf5faff(0x50b)][_0xf5faff(0x434)](this[_0xf5faff(0x297)]+'\x20('+this[_0xf5faff(0x1da)]['wuid']+_0xf5faff(0x30e)+(_0x3b50e1 instanceof Error?_0x3b50e1[_0xf5faff(0x416)]:JSON['stringify'](_0x3b50e1,null,0x2)));}}async['saveChatVariables'](_0x36dca5,_0x314ceb,_0x23cc9b){const _0x96d739=a0_0x43466e;try{let _0x39943e={'leadInfo.leadnome':_0x314ceb[_0x96d739(0x69c)],'leadInfo.nomecompleto':_0x314ceb[_0x96d739(0x7d5)],'leadInfo.email':_0x314ceb[_0x96d739(0x263)],'leadInfo.cpf':_0x314ceb[_0x96d739(0x470)],'leadInfo.status':_0x314ceb[_0x96d739(0x405)],'leadInfo.notas':_0x314ceb[_0x96d739(0x3e2)],'leadInfo.responsavelid':_0x314ceb['responsavelid'],'leadInfo.tags':_0x314ceb[_0x96d739(0x2b6)],'leadInfo.etiquetas':_0x314ceb[_0x96d739(0x1f0)],'leadInfo.customFields':_0x23cc9b,'leadInfo.atendimentoAberto':_0x314ceb[_0x96d739(0x72f)]},_0x2ee99f=await this['repository'][_0x96d739(0x628)]['findOne']({'where':{'_id':_0x36dca5}},this[_0x96d739(0x1da)][_0x96d739(0x177)]);if(!_0x2ee99f)return _0x96d739(0x174);let _0xbdd999=new Set(_0x2ee99f[_0x96d739(0x830)]['etiquetas']||[]),_0x3fda42=new Set(_0x314ceb[_0x96d739(0x1f0)]||[]),_0x34c462=await this[_0x96d739(0x302)][_0x96d739(0x40f)]['find']({'where':{}},this[_0x96d739(0x1da)][_0x96d739(0x177)]),_0x305cd0=new Set(_0x34c462['map'](_0x28900c=>_0x28900c[_0x96d739(0x1e0)])),_0x6d289e=[..._0x3fda42][_0x96d739(0x71f)](_0x46c2a0=>!_0xbdd999[_0x96d739(0x59e)](_0x46c2a0)&&_0x305cd0['has'](_0x46c2a0)),_0x1a5943=[..._0xbdd999][_0x96d739(0x71f)](_0x57879c=>!_0x3fda42['has'](_0x57879c));for(let _0xcf1da1 of _0x6d289e)await this[_0x96d739(0x55d)](_0xcf1da1,_0x2ee99f[_0x96d739(0x1e0)]),_0xbdd999[_0x96d739(0x574)](_0xcf1da1);for(let _0x685d9f of _0x1a5943)await this[_0x96d739(0x516)](_0x685d9f,_0x2ee99f[_0x96d739(0x1e0)]),_0xbdd999['delete'](_0x685d9f);if(_0x96d739(0x226)in _0x314ceb){let _0x281a48=_0x314ceb[_0x96d739(0x226)];_0x39943e['leadInfo.desativadoFluxoAte']=_0x281a48?Number(_0x281a48):null;}if(_0x96d739(0x72f)in _0x314ceb){let _0x755aad=_0x314ceb[_0x96d739(0x72f)][_0x96d739(0x7a5)]();_0x39943e[_0x96d739(0x4a8)]=_0x755aad===_0x96d739(0x27a)||_0x755aad==='1'||_0x755aad===_0x96d739(0x2c0)||_0x755aad==='sim';}let _0x4cc9da=await this[_0x96d739(0x302)]['chat']['updateOne']({'where':{'_id':_0x36dca5}},_0x39943e,this[_0x96d739(0x1da)][_0x96d739(0x177)]);_0x4cc9da?(this[_0x96d739(0x50b)][_0x96d739(0x213)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x96d739(0x6ff)+_0x4cc9da[_0x96d739(0x1e0)]),F(this[_0x96d739(0x297)],'chats',{'chat':_0x4cc9da})):this[_0x96d739(0x50b)][_0x96d739(0x434)](this[_0x96d739(0x297)]+'\x20('+this[_0x96d739(0x1da)][_0x96d739(0x177)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x249e68){this[_0x96d739(0x50b)][_0x96d739(0x434)](this[_0x96d739(0x297)]+'\x20('+this[_0x96d739(0x1da)][_0x96d739(0x177)]+_0x96d739(0x731)+(_0x249e68 instanceof Error?_0x249e68['message']:JSON['stringify'](_0x249e68,null,0x2)));}}async[a0_0x43466e(0x480)](_0x44f63e,_0x1c5dd2){const _0x119a22=a0_0x43466e;this[_0x119a22(0x50b)][_0x119a22(0x213)](this[_0x119a22(0x297)]+'\x20('+this[_0x119a22(0x1da)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x1c5dd2);try{let _0x360a29=await this[_0x119a22(0x302)]['chat'][_0x119a22(0x723)]({'where':{'_id':_0x44f63e[_0x119a22(0x309)]}},{'leadInfo.desativadoFluxoAte':_0x1c5dd2},this[_0x119a22(0x1da)][_0x119a22(0x177)]);this[_0x119a22(0x50b)]['verbose'](this[_0x119a22(0x297)]+'\x20('+this['instance']['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x44f63e['_id']),this[_0x119a22(0x50b)][_0x119a22(0x213)](this[_0x119a22(0x297)]+'\x20('+this['instance'][_0x119a22(0x177)]+_0x119a22(0x5c9)+JSON[_0x119a22(0x5ad)](_0x360a29,null,0x2)),_0x360a29&&F(this[_0x119a22(0x297)],_0x119a22(0x462),{'chat':_0x360a29});}catch(_0x39299d){this[_0x119a22(0x50b)][_0x119a22(0x434)](this[_0x119a22(0x297)]+'\x20('+this['instance'][_0x119a22(0x177)]+_0x119a22(0x845)+(_0x39299d instanceof Error?_0x39299d[_0x119a22(0x416)]:JSON[_0x119a22(0x5ad)](_0x39299d,null,0x2)));}}async['findFlow'](_0x29949a){const _0x6613f=a0_0x43466e;try{this[_0x6613f(0x50b)][_0x6613f(0x213)](this['instanceName']+'\x20('+this[_0x6613f(0x1da)][_0x6613f(0x177)]+'):\x20Buscando\x20flow...');let _0x5e2400=_0x29949a['replace'](/\D/g,''),_0x491560=this[_0x6613f(0x295)]['flows'][_0x6613f(0x6cf)](_0x7952b=>_0x7952b[_0x6613f(0x3c6)]===_0x5e2400);if(_0x491560||(this['logger']['verbose'](this[_0x6613f(0x297)]+'\x20('+this[_0x6613f(0x1da)][_0x6613f(0x177)]+_0x6613f(0x2bc)),_0x491560=this['AutomateSystem'][_0x6613f(0x674)][_0x6613f(0x6cf)](_0x36a812=>_0x36a812['default']===!0x0)),!_0x491560)return this['logger']['verbose'](this[_0x6613f(0x297)]+'\x20('+this[_0x6613f(0x1da)][_0x6613f(0x177)]+_0x6613f(0x1a7)),null;let _0x58e8fc=await this[_0x6613f(0x302)]['flow'][_0x6613f(0x41a)]({'where':{'_id':_0x491560[_0x6613f(0x1e0)]}});if(!_0x58e8fc||!_0x58e8fc[_0x6613f(0x42b)]?.[_0x6613f(0x592)](this[_0x6613f(0x1da)][_0x6613f(0x177)]))throw this[_0x6613f(0x50b)]['error'](this[_0x6613f(0x297)]+'\x20('+this[_0x6613f(0x1da)][_0x6613f(0x177)]+_0x6613f(0x71a)+_0x58e8fc['_id']+_0x6613f(0x6bc)),new m(_0x6613f(0x7e1)+_0x58e8fc[_0x6613f(0x1e0)]+_0x6613f(0x6bc));return _0x58e8fc;}catch(_0x2427f0){return this['logger'][_0x6613f(0x434)](this[_0x6613f(0x297)]+'\x20('+this[_0x6613f(0x1da)][_0x6613f(0x177)]+_0x6613f(0x636)+(_0x2427f0 instanceof Error?_0x2427f0[_0x6613f(0x416)]:JSON['stringify'](_0x2427f0,null,0x2))),null;}}async[a0_0x43466e(0x5ba)](_0x1a31de,_0x9f4e7a){const _0x5cbb8b=a0_0x43466e;try{let _0x156f09=!!_0x9f4e7a['vote'],_0x18329d=_0x9f4e7a[_0x5cbb8b(0x598)],_0xc1cd90=null;if(this['logger'][_0x5cbb8b(0x213)](this[_0x5cbb8b(0x297)]+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x841)+_0x156f09+_0x5cbb8b(0x2c6)+_0x18329d),_0x156f09){this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x213)](this[_0x5cbb8b(0x297)]+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x418));let _0x12bea0={'where':{'remoteJid':_0x1a31de,'waitingMenu_id':_0x18329d}};if(_0xc1cd90=await this['repository'][_0x5cbb8b(0x5ce)][_0x5cbb8b(0x41a)](_0x12bea0,this['instance'][_0x5cbb8b(0x177)]),!_0xc1cd90)return this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x213)](this[_0x5cbb8b(0x297)]+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x6dd)),null;let _0x11f027=Date['now'](),_0x457501=_0xc1cd90?.['minutesToClose']||0x0,_0x26d55b=_0x11f027-_0x457501*0x3c*0x3e8;if(_0xc1cd90['lastInteraction']<_0x26d55b){this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x213)](this['instanceName']+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x650));let _0x206b29={'number':_0xc1cd90[_0x5cbb8b(0x309)],'options':{'delay':0x0},'textMessage':{'text':_0xc1cd90['waitingMenu_ExpiredMessage']}};await this[_0x5cbb8b(0x52e)](_0x206b29);let _0x20e2f7={'status':_0x5cbb8b(0x313),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x5cbb8b(0x5ce)][_0x5cbb8b(0x723)](_0xc1cd90[_0x5cbb8b(0x1e0)],_0x20e2f7,this[_0x5cbb8b(0x1da)]['wuid']),null;}return _0xc1cd90[_0x5cbb8b(0x79d)]=Date[_0x5cbb8b(0x24f)](),_0xc1cd90['chatLog'][_0x5cbb8b(0x2f1)]=_0x9f4e7a,_0xc1cd90;}else{this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x213)](this['instanceName']+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x83b)+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x213)](this[_0x5cbb8b(0x297)]+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x69b));let _0x549859={'where':{'remoteJid':_0x1a31de,'status':_0x5cbb8b(0x76d)}};if(_0xc1cd90=await this[_0x5cbb8b(0x302)][_0x5cbb8b(0x5ce)][_0x5cbb8b(0x41a)](_0x549859,this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]),!_0xc1cd90){let _0x1b40a5=await this[_0x5cbb8b(0x823)](_0x1a31de);if(_0x1b40a5&&(_0xc1cd90=await this[_0x5cbb8b(0x4a3)](_0x1b40a5,_0x9f4e7a[_0x5cbb8b(0x23b)],_0x9f4e7a)),!_0xc1cd90)return null;}let _0x14b154=Date[_0x5cbb8b(0x24f)](),_0x3b83f4=_0xc1cd90?.[_0x5cbb8b(0x86c)]||0x0,_0x3155cc=_0x14b154-_0x3b83f4*0x3c*0x3e8;if(this['logger'][_0x5cbb8b(0x213)](this[_0x5cbb8b(0x297)]+'\x20('+this['instance'][_0x5cbb8b(0x177)]+_0x5cbb8b(0x784)+_0x14b154+_0x5cbb8b(0x305)+_0x3b83f4+_0x5cbb8b(0x3e0)+_0x3155cc),this['logger'][_0x5cbb8b(0x213)](this['instanceName']+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x5cbb8b(0x213)](this[_0x5cbb8b(0x297)]+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x2e8)+_0xc1cd90[_0x5cbb8b(0x79d)]),this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x213)](this[_0x5cbb8b(0x297)]+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+_0x5cbb8b(0x400)+_0x3155cc),_0xc1cd90[_0x5cbb8b(0x79d)]<_0x3155cc){this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x213)](this['instanceName']+'\x20('+this[_0x5cbb8b(0x1da)][_0x5cbb8b(0x177)]+'):\x20Conversa\x20está\x20expirada');let _0x15965a=await this[_0x5cbb8b(0x823)](_0x1a31de);if(_0x15965a===null)return null;_0xc1cd90&&await this['repository'][_0x5cbb8b(0x5ce)][_0x5cbb8b(0x723)](_0xc1cd90['_id'],{'status':'closed'},this['instance'][_0x5cbb8b(0x177)]),_0xc1cd90=await this[_0x5cbb8b(0x4a3)](_0x15965a,_0x9f4e7a[_0x5cbb8b(0x23b)],_0x9f4e7a);}return _0xc1cd90[_0x5cbb8b(0x79d)]=_0x14b154,_0xc1cd90[_0x5cbb8b(0x17b)][_0x5cbb8b(0x2f1)]=_0x9f4e7a,_0xc1cd90;}}catch(_0x5ec11f){return this[_0x5cbb8b(0x50b)][_0x5cbb8b(0x434)](this[_0x5cbb8b(0x297)]+'\x20('+this['instance'][_0x5cbb8b(0x177)]+_0x5cbb8b(0x5e4)+(_0x5ec11f instanceof Error?_0x5ec11f[_0x5cbb8b(0x416)]:JSON[_0x5cbb8b(0x5ad)](_0x5ec11f,null,0x2))),null;}}async[a0_0x43466e(0x4a3)](_0x1a0e83,_0x3f5432,_0x1a7dd8){const _0x581bbc=a0_0x43466e;this['logger'][_0x581bbc(0x213)](this['instanceName']+'\x20('+this[_0x581bbc(0x1da)][_0x581bbc(0x177)]+_0x581bbc(0x72c));try{let _0x42289e=require(_0x581bbc(0x4cd))[_0x581bbc(0x850)],_0x2c3aa4=Date['now'](),_0x53265a='start',_0x15b9f9=_0x3f5432[_0x581bbc(0x3a4)]?null:_0x1a7dd8,_0x8844aa=_0x3f5432['fromMe']?_0x1a7dd8:null,_0x23d703=_0x3f5432[_0x581bbc(0x309)],_0xd066e6=this[_0x581bbc(0x295)]['flows'][_0x581bbc(0x6cf)](_0x3be1cc=>_0x3be1cc[_0x581bbc(0x1e0)]===_0x1a0e83[_0x581bbc(0x1e0)]?.['toString']()),_0xfb21bd=_0xd066e6?.[_0x581bbc(0x86c)]??_0x1a0e83[_0x581bbc(0x86c)]??0x0,_0x49b240=_0xd066e6?.['readMessages']??_0x1a0e83['readMessages']??!0x1;await this[_0x581bbc(0x897)](_0x23d703);let _0xfb0209={'flowId':_0x1a0e83[_0x581bbc(0x1e0)],..._0x1a0e83,'chatLog':null},_0x304e31=await this[_0x581bbc(0x35b)](_0xfb0209[_0x581bbc(0x88e)]),_0x31995d=await this[_0x581bbc(0x53f)](_0x23d703),_0x929108={..._0x304e31,..._0x31995d,'_remoteJid':_0x23d703},_0x4081be={'lastReceivedMessage':_0x15b9f9,'lastSendMessage':_0x8844aa,'lastBlockId':_0x53265a,'lastCondition':!0x0,'realVariables':_0x929108};_0xfb0209['chatLog']=_0x4081be,delete _0xfb0209['_id'],_0xfb0209['_id']=new _0x42289e(),_0xfb0209[_0x581bbc(0x79d)]=_0x2c3aa4,_0xfb0209['status']=_0x581bbc(0x76d),_0xfb0209[_0x581bbc(0x309)]=_0x23d703,_0xfb0209[_0x581bbc(0x86c)]=_0xfb21bd,_0xfb0209[_0x581bbc(0x3c3)]=_0x49b240;let _0x361b30=await this[_0x581bbc(0x302)][_0x581bbc(0x5ce)][_0x581bbc(0x723)](_0xfb0209['_id'],_0xfb0209,this[_0x581bbc(0x1da)][_0x581bbc(0x177)]);return this['logger'][_0x581bbc(0x213)](this[_0x581bbc(0x297)]+'\x20('+this['instance'][_0x581bbc(0x177)]+_0x581bbc(0x13b)),_0x361b30?_0xfb0209:null;}catch(_0x51614a){return this[_0x581bbc(0x50b)][_0x581bbc(0x434)](this[_0x581bbc(0x297)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x51614a instanceof Error?_0x51614a['message']:JSON['stringify'](_0x51614a,null,0x2))),_0x51614a;}}async[a0_0x43466e(0x205)](_0x5ba1bb,_0x491870){const _0x8af395=a0_0x43466e;let _0x1e797a=_0x5ba1bb[_0x8af395(0x309)];_0x491870['uazapi'][_0x8af395(0x309)]&&_0x491870[_0x8af395(0x683)][_0x8af395(0x309)][_0x8af395(0x630)]()!==''&&(_0x1e797a=_0x491870[_0x8af395(0x683)][_0x8af395(0x309)][_0x8af395(0x630)]()),this[_0x8af395(0x50b)][_0x8af395(0x213)](this[_0x8af395(0x297)]+'\x20('+this[_0x8af395(0x1da)][_0x8af395(0x177)]+'):\x20Enviando\x20texto');let _0x407279={'number':_0x1e797a,'options':{'delay':_0x491870[_0x8af395(0x683)][_0x8af395(0x2d2)],'linkPreview':_0x491870['uazapi'][_0x8af395(0x837)]},'textMessage':{'text':_0x491870[_0x8af395(0x683)]['text']}};try{let _0x2ae025=await this[_0x8af395(0x52e)](_0x407279);if(_0x2ae025){let _0x296a18={'_id':_0x2ae025[_0x8af395(0x23b)]['id'],'_fromMe':_0x2ae025[_0x8af395(0x23b)]['fromMe'],'_remoteJid':_0x2ae025[_0x8af395(0x23b)][_0x8af395(0x309)]},_0xdfc5bd=(0x0,w[_0x8af395(0x82c)])(_0x2ae025[_0x8af395(0x416)]),_0x4cf30f=(0x0,w[_0x8af395(0x230)])(_0xdfc5bd);_0x5ba1bb[_0x8af395(0x17b)][_0x8af395(0x2df)]=_0x491870[_0x8af395(0x1e0)][_0x8af395(0x880)]();let {message_normalized:_0x5858b6}=this['normalizeMessage'](_0xdfc5bd,_0x4cf30f,null);_0x5ba1bb[_0x8af395(0x17b)][_0x8af395(0x304)]=await _0x5858b6;let _0x49ce57={'messageId':_0x2ae025['key']['id']},_0x3eceee=_0x5ba1bb[_0x8af395(0x17b)][_0x8af395(0x544)];Object[_0x8af395(0x1e5)](_0x3eceee,_0x296a18),_0x5ba1bb[_0x8af395(0x17b)][_0x8af395(0x544)]=_0x3eceee,this[_0x8af395(0x1e2)](_0x5ba1bb,_0x491870,_0x49ce57);}else{let _0x30df11={'error':!0x0};this[_0x8af395(0x1e2)](_0x5ba1bb,_0x491870,_0x30df11),this['logger'][_0x8af395(0x434)](this[_0x8af395(0x297)]+'\x20('+this[_0x8af395(0x1da)]['wuid']+_0x8af395(0x89e));}}catch(_0x2bef1f){let _0x19fecd={'error':!0x0,'errorLog':_0x2bef1f[_0x8af395(0x880)]()};this[_0x8af395(0x1e2)](_0x5ba1bb,_0x491870,_0x19fecd),this[_0x8af395(0x50b)][_0x8af395(0x434)](this[_0x8af395(0x297)]+'\x20('+this[_0x8af395(0x1da)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x2bef1f instanceof Error?_0x2bef1f[_0x8af395(0x416)]:JSON[_0x8af395(0x5ad)](_0x2bef1f,null,0x2)));}}async[a0_0x43466e(0x35f)](_0x302ab7,_0x51c269){const _0x8d2fd1=a0_0x43466e;let _0x33a2ea=_0x302ab7['remoteJid'];_0x51c269['uazapi'][_0x8d2fd1(0x309)]&&_0x51c269['uazapi'][_0x8d2fd1(0x309)][_0x8d2fd1(0x630)]()!==''&&(_0x33a2ea=_0x51c269[_0x8d2fd1(0x683)][_0x8d2fd1(0x309)][_0x8d2fd1(0x630)]()),this[_0x8d2fd1(0x50b)][_0x8d2fd1(0x213)](this[_0x8d2fd1(0x297)]+'\x20('+this[_0x8d2fd1(0x1da)][_0x8d2fd1(0x177)]+_0x8d2fd1(0x48d));let _0x17a0d8={'number':_0x33a2ea,'options':{'delay':_0x51c269[_0x8d2fd1(0x683)][_0x8d2fd1(0x2d2)],'linkPreview':_0x51c269['uazapi'][_0x8d2fd1(0x837)]},'mediaMessage':{'mediatype':_0x51c269[_0x8d2fd1(0x683)][_0x8d2fd1(0x700)],'caption':_0x51c269[_0x8d2fd1(0x683)]['caption'],'media':_0x51c269[_0x8d2fd1(0x683)][_0x8d2fd1(0x6de)],'fileName':_0x51c269[_0x8d2fd1(0x683)][_0x8d2fd1(0x485)]}};try{let _0x4ab25f=await this[_0x8d2fd1(0x35c)](_0x17a0d8);if(_0x4ab25f){let _0x4f7bd5={'_id':_0x4ab25f[_0x8d2fd1(0x23b)]['id'],'_fromMe':_0x4ab25f['key'][_0x8d2fd1(0x3a4)],'_remoteJid':_0x4ab25f[_0x8d2fd1(0x23b)][_0x8d2fd1(0x309)]},_0x516a58=(0x0,w[_0x8d2fd1(0x82c)])(_0x4ab25f[_0x8d2fd1(0x416)]),_0x4ffec0=(0x0,w[_0x8d2fd1(0x230)])(_0x516a58);_0x302ab7[_0x8d2fd1(0x17b)][_0x8d2fd1(0x2df)]=_0x51c269[_0x8d2fd1(0x1e0)]['toString']();let {message_normalized:_0x449238}=this[_0x8d2fd1(0x223)](_0x516a58,_0x4ffec0,null);_0x302ab7['chatLog'][_0x8d2fd1(0x304)]=await _0x449238;let _0x2f0a26={'messageId':_0x4ab25f[_0x8d2fd1(0x23b)]['id']},_0xb493d9=_0x302ab7['chatLog']['realVariables'];Object[_0x8d2fd1(0x1e5)](_0xb493d9,_0x4f7bd5),_0x302ab7[_0x8d2fd1(0x17b)]['realVariables']=_0xb493d9,this['updateConversation'](_0x302ab7,_0x51c269,_0x2f0a26);}else{let _0x4d1e93={'error':!0x0};this[_0x8d2fd1(0x1e2)](_0x302ab7,_0x51c269,_0x4d1e93),this['logger']['error'](this[_0x8d2fd1(0x297)]+'\x20('+this[_0x8d2fd1(0x1da)][_0x8d2fd1(0x177)]+_0x8d2fd1(0x755));}}catch(_0x544d43){let _0x36c056={'error':!0x0,'errorLog':_0x544d43[_0x8d2fd1(0x880)]()};this[_0x8d2fd1(0x1e2)](_0x302ab7,_0x51c269,_0x36c056),this[_0x8d2fd1(0x50b)][_0x8d2fd1(0x434)](this[_0x8d2fd1(0x297)]+'\x20('+this[_0x8d2fd1(0x1da)][_0x8d2fd1(0x177)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x544d43 instanceof Error?_0x544d43['message']:JSON['stringify'](_0x544d43,null,0x2)));}}async[a0_0x43466e(0x733)](_0x178c74,_0x2e542c){const _0x4ebb19=a0_0x43466e;let _0x3e2997=_0x178c74[_0x4ebb19(0x309)];_0x2e542c[_0x4ebb19(0x683)][_0x4ebb19(0x309)]&&_0x2e542c[_0x4ebb19(0x683)]['remoteJid'][_0x4ebb19(0x630)]()!==''&&(_0x3e2997=_0x2e542c[_0x4ebb19(0x683)][_0x4ebb19(0x309)][_0x4ebb19(0x630)]()),this['logger'][_0x4ebb19(0x213)](this[_0x4ebb19(0x297)]+'\x20('+this[_0x4ebb19(0x1da)]['wuid']+_0x4ebb19(0x2d8));let _0x410d17={'number':_0x3e2997,'options':{'delay':_0x2e542c['uazapi'][_0x4ebb19(0x2d2)]},'locationMessage':{'name':_0x2e542c['uazapi'][_0x4ebb19(0x5c3)],'address':_0x2e542c[_0x4ebb19(0x683)][_0x4ebb19(0x5a0)],'latitude':_0x2e542c[_0x4ebb19(0x683)][_0x4ebb19(0x497)],'longitude':_0x2e542c[_0x4ebb19(0x683)][_0x4ebb19(0x545)]}};try{let _0x5445a7=await this['locationMessage'](_0x410d17);if(_0x5445a7){let _0x5928ca={'_id':_0x5445a7[_0x4ebb19(0x23b)]['id'],'_fromMe':_0x5445a7[_0x4ebb19(0x23b)][_0x4ebb19(0x3a4)],'_remoteJid':_0x5445a7[_0x4ebb19(0x23b)][_0x4ebb19(0x309)]},_0x297799=(0x0,w[_0x4ebb19(0x82c)])(_0x5445a7[_0x4ebb19(0x416)]),_0x4de29f=(0x0,w[_0x4ebb19(0x230)])(_0x297799);_0x178c74[_0x4ebb19(0x17b)][_0x4ebb19(0x2df)]=_0x2e542c['_id'][_0x4ebb19(0x880)]();let {message_normalized:_0xc20aec}=this[_0x4ebb19(0x223)](_0x297799,_0x4de29f,null);_0x178c74['chatLog']['lastSendMessage']=await _0xc20aec;let _0x2851b7={'messageId':_0x5445a7[_0x4ebb19(0x23b)]['id']},_0x27881c=_0x178c74[_0x4ebb19(0x17b)][_0x4ebb19(0x544)];Object[_0x4ebb19(0x1e5)](_0x27881c,_0x5928ca),_0x178c74['chatLog'][_0x4ebb19(0x544)]=_0x27881c,this[_0x4ebb19(0x1e2)](_0x178c74,_0x2e542c,_0x2851b7);}else{let _0x2ac904={'error':!0x0};this['updateConversation'](_0x178c74,_0x2e542c,_0x2ac904),this['logger'][_0x4ebb19(0x434)](this[_0x4ebb19(0x297)]+'\x20('+this['instance']['wuid']+_0x4ebb19(0x2e7));}}catch(_0x2776c2){let _0x35cd9c={'error':!0x0,'errorLog':_0x2776c2[_0x4ebb19(0x880)]()};this[_0x4ebb19(0x1e2)](_0x178c74,_0x2e542c,_0x35cd9c),this[_0x4ebb19(0x50b)][_0x4ebb19(0x434)](this['instanceName']+'\x20('+this['instance'][_0x4ebb19(0x177)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x2776c2 instanceof Error?_0x2776c2['message']:JSON[_0x4ebb19(0x5ad)](_0x2776c2,null,0x2)));}}async[a0_0x43466e(0x27b)](_0x4868af,_0x333a7a){const _0x53cc7e=a0_0x43466e;let _0x43c342=_0x4868af['remoteJid'];_0x333a7a[_0x53cc7e(0x683)]['remoteJid']&&_0x333a7a[_0x53cc7e(0x683)][_0x53cc7e(0x309)]['trim']()!==''&&(_0x43c342=_0x333a7a[_0x53cc7e(0x683)]['remoteJid']['trim']()),this[_0x53cc7e(0x50b)][_0x53cc7e(0x213)](this[_0x53cc7e(0x297)]+'\x20('+this['instance'][_0x53cc7e(0x177)]+_0x53cc7e(0x793));let _0x49ba1a={'number':_0x43c342,'options':{'delay':_0x333a7a[_0x53cc7e(0x683)]['delay']},'audioMessage':{'audio':_0x333a7a[_0x53cc7e(0x683)][_0x53cc7e(0x1e4)]}};try{let _0x245e30=await this['audioWhatsapp'](_0x49ba1a);if(_0x245e30){let _0x14f222={'_id':_0x245e30[_0x53cc7e(0x23b)]['id'],'_fromMe':_0x245e30[_0x53cc7e(0x23b)][_0x53cc7e(0x3a4)],'_remoteJid':_0x245e30[_0x53cc7e(0x23b)][_0x53cc7e(0x309)]},_0x2caf3d=(0x0,w['normalizeMessageContent'])(_0x245e30[_0x53cc7e(0x416)]),_0x23e89d=(0x0,w['getContentType'])(_0x2caf3d);_0x4868af['chatLog'][_0x53cc7e(0x2df)]=_0x333a7a[_0x53cc7e(0x1e0)][_0x53cc7e(0x880)]();let {message_normalized:_0x4bce7b}=this[_0x53cc7e(0x223)](_0x2caf3d,_0x23e89d,null);_0x4868af['chatLog']['lastSendMessage']=await _0x4bce7b;let _0x219471={'messageId':_0x245e30[_0x53cc7e(0x23b)]['id']},_0x3187fd=_0x4868af[_0x53cc7e(0x17b)][_0x53cc7e(0x544)];Object[_0x53cc7e(0x1e5)](_0x3187fd,_0x14f222),_0x4868af['chatLog'][_0x53cc7e(0x544)]=_0x3187fd,this[_0x53cc7e(0x1e2)](_0x4868af,_0x333a7a,_0x219471);}else{let _0x52e74f={'error':!0x0};this[_0x53cc7e(0x1e2)](_0x4868af,_0x333a7a,_0x52e74f),this['logger'][_0x53cc7e(0x434)](this[_0x53cc7e(0x297)]+'\x20('+this[_0x53cc7e(0x1da)][_0x53cc7e(0x177)]+_0x53cc7e(0x80a));}}catch(_0x232525){let _0x2d5d42={'error':!0x0,'errorLog':_0x232525[_0x53cc7e(0x880)]()};this['updateConversation'](_0x4868af,_0x333a7a,_0x2d5d42),this[_0x53cc7e(0x50b)][_0x53cc7e(0x434)](this[_0x53cc7e(0x297)]+'\x20('+this['instance'][_0x53cc7e(0x177)]+_0x53cc7e(0x77e)+(_0x232525 instanceof Error?_0x232525[_0x53cc7e(0x416)]:JSON[_0x53cc7e(0x5ad)](_0x232525,null,0x2)));}}async['uazapiSendContact'](_0x3b299a,_0x536495){const _0x1133b4=a0_0x43466e;let _0x5b07e6=_0x3b299a[_0x1133b4(0x309)];_0x536495['uazapi'][_0x1133b4(0x309)]&&_0x536495[_0x1133b4(0x683)][_0x1133b4(0x309)][_0x1133b4(0x630)]()!==''&&(_0x5b07e6=_0x536495[_0x1133b4(0x683)][_0x1133b4(0x309)][_0x1133b4(0x630)]()),this[_0x1133b4(0x50b)][_0x1133b4(0x213)](this[_0x1133b4(0x297)]+'\x20('+this[_0x1133b4(0x1da)][_0x1133b4(0x177)]+'):\x20Enviando\x20contato');let _0x3bf3f4={'number':_0x5b07e6,'options':{'delay':_0x536495[_0x1133b4(0x683)][_0x1133b4(0x2d2)]},'contactMessage':[{'fullName':_0x536495[_0x1133b4(0x683)]['fullName'],'phoneNumber':_0x536495[_0x1133b4(0x683)][_0x1133b4(0x74d)]}]};try{let _0x1c6f59=await this[_0x1133b4(0x56c)](_0x3bf3f4);if(_0x1c6f59){let _0x261ef5={'_id':_0x1c6f59[_0x1133b4(0x23b)]['id'],'_fromMe':_0x1c6f59['key'][_0x1133b4(0x3a4)],'_remoteJid':_0x1c6f59[_0x1133b4(0x23b)][_0x1133b4(0x309)]},_0xe170d1=(0x0,w[_0x1133b4(0x82c)])(_0x1c6f59['message']),_0x4d4958=(0x0,w[_0x1133b4(0x230)])(_0xe170d1);_0x3b299a['chatLog'][_0x1133b4(0x2df)]=_0x536495[_0x1133b4(0x1e0)][_0x1133b4(0x880)]();let {message_normalized:_0x39c63d}=this[_0x1133b4(0x223)](_0xe170d1,_0x4d4958,null);_0x3b299a['chatLog'][_0x1133b4(0x304)]=await _0x39c63d;let _0x5d8137={'messageId':_0x1c6f59['key']['id']},_0x2e8150=_0x3b299a[_0x1133b4(0x17b)][_0x1133b4(0x544)];Object[_0x1133b4(0x1e5)](_0x2e8150,_0x261ef5),_0x3b299a[_0x1133b4(0x17b)][_0x1133b4(0x544)]=_0x2e8150,this[_0x1133b4(0x1e2)](_0x3b299a,_0x536495,_0x5d8137);}else{let _0x3c1991={'error':!0x0};this['updateConversation'](_0x3b299a,_0x536495,_0x3c1991),this[_0x1133b4(0x50b)][_0x1133b4(0x434)](this[_0x1133b4(0x297)]+'\x20('+this[_0x1133b4(0x1da)][_0x1133b4(0x177)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0xa13214){let _0x4b7f7c={'error':!0x0,'errorLog':_0xa13214[_0x1133b4(0x880)]()};this[_0x1133b4(0x1e2)](_0x3b299a,_0x536495,_0x4b7f7c),this[_0x1133b4(0x50b)][_0x1133b4(0x434)](this[_0x1133b4(0x297)]+'\x20('+this['instance'][_0x1133b4(0x177)]+_0x1133b4(0x408)+(_0xa13214 instanceof Error?_0xa13214['message']:JSON[_0x1133b4(0x5ad)](_0xa13214,null,0x2)));}}[a0_0x43466e(0x187)](_0x2ae354,_0x53cb7b){const _0x1c9bae=a0_0x43466e;for(let _0x24beca of _0x2ae354)_0x24beca[_0x1c9bae(0x350)]&&(_0x24beca['option']=this[_0x1c9bae(0x26e)](_0x24beca[_0x1c9bae(0x350)],_0x53cb7b)),_0x24beca['optionDescription']&&(_0x24beca[_0x1c9bae(0x85a)]=this[_0x1c9bae(0x26e)](_0x24beca[_0x1c9bae(0x85a)],_0x53cb7b));}async['uazapiSendMenu'](_0x208621,_0x438080){const _0x45cfd4=a0_0x43466e;let _0xf34da8=_0x208621[_0x45cfd4(0x309)];_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x309)]&&_0x438080[_0x45cfd4(0x683)]['remoteJid'][_0x45cfd4(0x630)]()!==''&&(_0xf34da8=_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x309)][_0x45cfd4(0x630)]()),this[_0x45cfd4(0x50b)]['verbose'](this[_0x45cfd4(0x297)]+'\x20('+this[_0x45cfd4(0x1da)][_0x45cfd4(0x177)]+_0x45cfd4(0x789));let _0xdc8cae=_0x208621['replyOptions'][_0x45cfd4(0x71f)](_0x271a5d=>_0x271a5d[_0x45cfd4(0x6f2)]===_0x438080[_0x45cfd4(0x1e0)])[_0x45cfd4(0x6df)]((_0x141dcc,_0x34c645)=>_0x141dcc[_0x45cfd4(0x398)]-_0x34c645[_0x45cfd4(0x398)]);this[_0x45cfd4(0x187)](_0xdc8cae,_0x208621['chatLog'][_0x45cfd4(0x544)]);let _0xd2acfb=_0xdc8cae['map'](_0x3134b6=>_0x3134b6[_0x45cfd4(0x350)]),_0x385779={'number':_0xf34da8,'menuMessage':{'type':_0x438080['uazapi'][_0x45cfd4(0x153)]||_0x45cfd4(0x3f9),'text':_0x438080['uazapi']['text']||_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x5c3)],'footerText':_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x708)],'buttonText':_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x7c6)],'selectableCount':0x1,'choices':_0xd2acfb},'options':{'delay':_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x2d2)]}};try{let _0x4a12ff=await this[_0x45cfd4(0x15b)](_0x385779);if(_0x4a12ff){let _0x58fd2d={'_id':_0x4a12ff[_0x45cfd4(0x23b)]['id'],'_fromMe':_0x4a12ff['key'][_0x45cfd4(0x3a4)],'_remoteJid':_0x4a12ff[_0x45cfd4(0x23b)][_0x45cfd4(0x309)]};_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x19b)]===!0x0&&(_0x208621[_0x45cfd4(0x405)]=_0x45cfd4(0x1b5),this[_0x45cfd4(0x50b)][_0x45cfd4(0x213)](this[_0x45cfd4(0x297)]+'\x20('+this[_0x45cfd4(0x1da)]['wuid']+_0x45cfd4(0x704)+_0x208621['status'])),this['logger'][_0x45cfd4(0x213)](this['instanceName']+'\x20('+this[_0x45cfd4(0x1da)][_0x45cfd4(0x177)]+_0x45cfd4(0x388)+(_0x438080[_0x45cfd4(0x683)]['name']||_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x3c5)])),_0x208621[_0x45cfd4(0x894)]=_0x4a12ff['key']['id'],_0x208621['waitingMenu_text']=_0x438080[_0x45cfd4(0x683)]['name']||_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x3c5)],_0x208621['waitingMenu_replyOptions']=_0xdc8cae,_0x438080[_0x45cfd4(0x683)][_0x45cfd4(0x3df)]&&(_0x208621['waitingMenu_ExpiredMessage']=_0x438080['uazapi'][_0x45cfd4(0x3df)]),this[_0x45cfd4(0x50b)][_0x45cfd4(0x213)](this[_0x45cfd4(0x297)]+'\x20('+this['instance'][_0x45cfd4(0x177)]+_0x45cfd4(0x4b6)+_0x208621[_0x45cfd4(0x2bd)]);let _0x20bc67=(0x0,w[_0x45cfd4(0x82c)])(_0x4a12ff['message']),_0xd88c1b=(0x0,w[_0x45cfd4(0x230)])(_0x20bc67);_0x208621[_0x45cfd4(0x17b)][_0x45cfd4(0x2df)]=_0x438080['_id']['toString']();let {message_normalized:_0x2ed608}=this[_0x45cfd4(0x223)](_0x20bc67,_0xd88c1b,null);_0x208621[_0x45cfd4(0x17b)][_0x45cfd4(0x304)]=await _0x2ed608;let _0x4d706a={'messageId':_0x4a12ff[_0x45cfd4(0x23b)]['id']},_0x21d514=_0x208621[_0x45cfd4(0x17b)][_0x45cfd4(0x544)];Object[_0x45cfd4(0x1e5)](_0x21d514,_0x58fd2d),_0x208621[_0x45cfd4(0x17b)]['realVariables']=_0x21d514,this[_0x45cfd4(0x1e2)](_0x208621,_0x438080,_0x4d706a);}else{let _0x256060={'error':!0x0};this['updateConversation'](_0x208621,_0x438080,_0x256060),this[_0x45cfd4(0x50b)][_0x45cfd4(0x434)](this[_0x45cfd4(0x297)]+'\x20('+this['instance'][_0x45cfd4(0x177)]+_0x45cfd4(0x89f));}}catch(_0x15bf07){let _0x2ecd13={'error':!0x0,'errorLog':_0x15bf07 instanceof Error?_0x15bf07[_0x45cfd4(0x416)]:JSON[_0x45cfd4(0x5ad)](_0x15bf07,null,0x2)};this[_0x45cfd4(0x1e2)](_0x208621,_0x438080,_0x2ecd13),this[_0x45cfd4(0x50b)]['error'](this[_0x45cfd4(0x297)]+'\x20('+this['instance'][_0x45cfd4(0x177)]+_0x45cfd4(0x1d6)+(_0x15bf07 instanceof Error?_0x15bf07[_0x45cfd4(0x416)]:JSON[_0x45cfd4(0x5ad)](_0x15bf07,null,0x2)));}}async[a0_0x43466e(0x288)](_0x4254c5,_0x1fa6f3){const _0x6be656=a0_0x43466e;this[_0x6be656(0x50b)]['verbose'](this[_0x6be656(0x297)]+'\x20('+this['instance']['wuid']+_0x6be656(0x7e9));let _0x248998=_0x4254c5[_0x6be656(0x17b)][_0x6be656(0x5f6)][_0x6be656(0x6cf)](_0x50e561=>_0x50e561[_0x6be656(0x6f2)][_0x6be656(0x880)]()===_0x1fa6f3[_0x6be656(0x683)]['blockId'][_0x6be656(0x880)]()),_0xd1cffa={'id':_0x248998[_0x6be656(0x423)],'remoteJid':_0x248998['remoteJid'],'fromMe':_0x248998[_0x6be656(0x3a4)]};try{let _0x2ced53=await this[_0x6be656(0x1ea)](_0xd1cffa);if(_0x2ced53){let _0x2a13b5=(0x0,w['normalizeMessageContent'])(_0x2ced53['message']),_0x591eff=(0x0,w[_0x6be656(0x230)])(_0x2a13b5);_0x4254c5[_0x6be656(0x17b)][_0x6be656(0x2df)]=_0x1fa6f3[_0x6be656(0x1e0)][_0x6be656(0x880)]();let {message_normalized:_0x127587}=this[_0x6be656(0x223)](_0x2a13b5,_0x591eff,null);_0x4254c5['chatLog'][_0x6be656(0x304)]=await _0x127587;let _0x4b206f={};this[_0x6be656(0x1e2)](_0x4254c5,_0x1fa6f3,_0x4b206f);}else{let _0x4121be={'error':!0x0};this[_0x6be656(0x1e2)](_0x4254c5,_0x1fa6f3,_0x4121be),this[_0x6be656(0x50b)][_0x6be656(0x434)](this[_0x6be656(0x297)]+'\x20('+this[_0x6be656(0x1da)][_0x6be656(0x177)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x206f4d){let _0x2ab6e5={'error':!0x0,'errorLog':_0x206f4d instanceof Error?_0x206f4d['message']:JSON['stringify'](_0x206f4d,null,0x2)};this[_0x6be656(0x1e2)](_0x4254c5,_0x1fa6f3,_0x2ab6e5),this[_0x6be656(0x50b)][_0x6be656(0x434)](this[_0x6be656(0x297)]+'\x20('+this[_0x6be656(0x1da)][_0x6be656(0x177)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x206f4d instanceof Error?_0x206f4d['message']:JSON['stringify'](_0x206f4d,null,0x2)));}}async[a0_0x43466e(0x2b5)](_0x3d8a68,_0x562250){const _0x7ac5eb=a0_0x43466e;if(_0x3d8a68['name']||(_0x3d8a68['name']=(0x0,Y['v4'])()),_0x562250!==Ri&&_0x3d8a68?.[_0x7ac5eb(0x536)])throw new m(_0x7ac5eb(0x722));if(_0x7ac5eb(0x1e0)in _0x3d8a68&&_0x7ac5eb(0x27c)in _0x3d8a68)return this['AddUserFlow'](_0x3d8a68[_0x7ac5eb(0x27c)],_0x3d8a68[_0x7ac5eb(0x1e0)]);this['logger'][_0x7ac5eb(0x213)](this[_0x7ac5eb(0x297)]+'\x20('+this[_0x7ac5eb(0x1da)][_0x7ac5eb(0x177)]+_0x7ac5eb(0x384));let _0x5503e3=this['getUniqueFlowName'](_0x3d8a68[_0x7ac5eb(0x5c3)]),_0x4be742=new ge[(_0x7ac5eb(0x4b5))][(_0x7ac5eb(0x850))](),_0x52732a={'_id':_0x4be742,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x5923f9={'_id':new ge[(_0x7ac5eb(0x4b5))][(_0x7ac5eb(0x850))](),'order':0x1,'groupId':_0x4be742[_0x7ac5eb(0x880)](),'type':'start'},_0x41711e=this[_0x7ac5eb(0x1da)][_0x7ac5eb(0x177)],_0x35ec8d={'_id':(0x0,Y['v4'])(),'owner':_0x41711e,'name':_0x5503e3,'whoCanEdit':[_0x41711e],'whoCanUse':[_0x41711e],'groups':[_0x52732a],'blocks':[_0x5923f9],..._0x3d8a68};try{let _0x596333=await this[_0x7ac5eb(0x302)][_0x7ac5eb(0x35d)][_0x7ac5eb(0x21a)](_0x35ec8d);return await this[_0x7ac5eb(0x568)](),_0x596333;}catch(_0x32bbd3){let _0x323795=_0x7ac5eb(0x186),_0x196560=_0x32bbd3 instanceof Error?_0x32bbd3[_0x7ac5eb(0x416)]:typeof _0x32bbd3==_0x7ac5eb(0x6eb)?JSON['stringify'](_0x32bbd3):_0x32bbd3,_0x3f6cf4=_0x323795+':\x20'+_0x196560;throw this[_0x7ac5eb(0x50b)][_0x7ac5eb(0x434)](this[_0x7ac5eb(0x297)]+'\x20('+this[_0x7ac5eb(0x1da)]['wuid']+_0x7ac5eb(0x83b)+_0x3f6cf4),new m(_0x3f6cf4);}}async[a0_0x43466e(0x19d)](_0x572079,_0x356e11){const _0x2381b6=a0_0x43466e;try{this['logger'][_0x2381b6(0x213)](this[_0x2381b6(0x297)]+'\x20('+this[_0x2381b6(0x1da)][_0x2381b6(0x177)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x35b128=await this[_0x2381b6(0x302)][_0x2381b6(0x35d)][_0x2381b6(0x41a)]({'where':{'_id':_0x356e11,'owner':_0x572079}});if(!_0x35b128)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x35b128[_0x2381b6(0x440)]===!0x1&&!_0x35b128['globalShow'])throw new m(_0x2381b6(0x1a6));let _0x52948f=new Set(_0x35b128['whoCanUse']??[]);_0x52948f[_0x2381b6(0x574)](this[_0x2381b6(0x1da)][_0x2381b6(0x177)]);let _0x2838fb=await this[_0x2381b6(0x302)][_0x2381b6(0x35d)]['updateOne'](_0x356e11,{..._0x35b128,'whoCanUse':Array[_0x2381b6(0x3d3)](_0x52948f)});return await this['synchronizeAndMapFlows'](),_0x2838fb;}catch(_0x182145){let _0x3ba364='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x18c6c6=_0x182145 instanceof Error?_0x182145[_0x2381b6(0x416)]:typeof _0x182145==_0x2381b6(0x6eb)?JSON[_0x2381b6(0x5ad)](_0x182145):_0x182145,_0x252f63=_0x3ba364+':\x20'+_0x18c6c6;throw this[_0x2381b6(0x50b)][_0x2381b6(0x434)](this[_0x2381b6(0x297)]+'\x20('+this['instance'][_0x2381b6(0x177)]+_0x2381b6(0x83b)+_0x252f63),new m(_0x252f63);}}[a0_0x43466e(0x4cc)](_0x5bbbaa){const _0x1d8b1d=a0_0x43466e;let _0x338136=_0x5bbbaa,_0x21eb36=0x1;for(;this['AutomateSystem'][_0x1d8b1d(0x674)]['some'](_0x4fc6c5=>_0x4fc6c5['name']===_0x338136);)_0x21eb36++,_0x338136=_0x5bbbaa+'\x20('+_0x21eb36+')';return _0x338136;}async[a0_0x43466e(0x16d)](_0x2ee5cc){const _0x354f8c=a0_0x43466e;try{if(this[_0x354f8c(0x50b)][_0x354f8c(0x213)](this['instanceName']+'\x20('+this[_0x354f8c(0x1da)][_0x354f8c(0x177)]+_0x354f8c(0x451)+_0x2ee5cc[_0x354f8c(0x1e0)]+_0x354f8c(0x7dd)+_0x2ee5cc[_0x354f8c(0x18e)]),!this[_0x354f8c(0x295)][_0x354f8c(0x674)]['find'](_0x568dec=>_0x568dec[_0x354f8c(0x1e0)]===_0x2ee5cc['_id']))throw this[_0x354f8c(0x50b)][_0x354f8c(0x213)](this[_0x354f8c(0x297)]+'\x20('+this['instance']['wuid']+_0x354f8c(0x2c2)+_0x2ee5cc[_0x354f8c(0x1e0)]+'\x27\x20não\x20encontrado'),new m(_0x354f8c(0x762));let _0xc6906d=await this[_0x354f8c(0x302)][_0x354f8c(0x35d)][_0x354f8c(0x41a)]({'where':{'_id':_0x2ee5cc[_0x354f8c(0x1e0)]}});if(!_0xc6906d)throw new m(_0x354f8c(0x29c));if(this[_0x354f8c(0x1da)][_0x354f8c(0x177)]===_0xc6906d[_0x354f8c(0x27c)]){this[_0x354f8c(0x50b)][_0x354f8c(0x213)](this[_0x354f8c(0x297)]+'\x20('+this[_0x354f8c(0x1da)][_0x354f8c(0x177)]+_0x354f8c(0x6c5)+_0x2ee5cc[_0x354f8c(0x1e0)]+_0x354f8c(0x487));let _0x1512c9=await this['repository'][_0x354f8c(0x35d)]['deleteOne']({'where':{'_id':_0x2ee5cc[_0x354f8c(0x1e0)]}});return await this[_0x354f8c(0x568)](),_0x1512c9;}return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x354f8c(0x1da)][_0x354f8c(0x177)]+_0x354f8c(0x3d6)+this[_0x354f8c(0x1da)]['wuid']+_0x354f8c(0x2e3)+_0x2ee5cc[_0x354f8c(0x1e0)]+_0x354f8c(0x6e6)),_0xc6906d[_0x354f8c(0x42b)]=(_0xc6906d['whoCanUse']??[])[_0x354f8c(0x71f)](_0x297f6c=>_0x297f6c!==this['instance'][_0x354f8c(0x177)]),_0xc6906d['whoCanEdit']=(_0xc6906d[_0x354f8c(0x168)]??[])[_0x354f8c(0x71f)](_0x423ee6=>_0x423ee6!==this[_0x354f8c(0x1da)][_0x354f8c(0x177)]),_0xc6906d[_0x354f8c(0x168)]['length']===0x0&&_0xc6906d[_0x354f8c(0x42b)]['length']>0x0&&(_0xc6906d[_0x354f8c(0x168)]['push'](_0xc6906d[_0x354f8c(0x42b)][0x0]),this['logger'][_0x354f8c(0x213)](this[_0x354f8c(0x297)]+'\x20('+this['instance'][_0x354f8c(0x177)]+_0x354f8c(0x705)+_0xc6906d['whoCanUse'][0x0]+_0x354f8c(0x28f)+_0x2ee5cc[_0x354f8c(0x1e0)]+_0x354f8c(0x6e6))),await this[_0x354f8c(0x302)]['flow']['updateOne'](_0xc6906d[_0x354f8c(0x1e0)],_0xc6906d),await this[_0x354f8c(0x568)](),{'message':_0x354f8c(0x879)+_0x2ee5cc[_0x354f8c(0x5c3)]+_0x354f8c(0x438)};}catch(_0x44bfb1){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x354f8c(0x1da)][_0x354f8c(0x177)]+_0x354f8c(0x3d4)+(_0x44bfb1 instanceof Error?_0x44bfb1[_0x354f8c(0x416)]:JSON[_0x354f8c(0x5ad)](_0x44bfb1,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x44bfb1 instanceof Error?_0x44bfb1[_0x354f8c(0x416)]:JSON[_0x354f8c(0x5ad)](_0x44bfb1,null,0x2))};}}async[a0_0x43466e(0x6bf)](_0x418fc3){const _0x455a41=a0_0x43466e;try{if(this[_0x455a41(0x50b)][_0x455a41(0x4d3)](this[_0x455a41(0x297)]+'\x20('+this['instance'][_0x455a41(0x177)]+_0x455a41(0x81d)+_0x418fc3),!this['AutomateSystem']&&(await this[_0x455a41(0x868)](),!this['AutomateSystem']))return null;let _0x4640f4=await this[_0x455a41(0x302)]['flow'][_0x455a41(0x41a)]({'where':{'_id':_0x418fc3}});if(!_0x4640f4)throw new m(_0x455a41(0x5c7)+_0x418fc3+_0x455a41(0x8a2));if(!(_0x4640f4[_0x455a41(0x536)]||_0x4640f4[_0x455a41(0x42b)]?.['includes'](this[_0x455a41(0x1da)][_0x455a41(0x177)])))throw new m(_0x455a41(0x623)+name+'\x27');_0x4640f4[_0x455a41(0x536)]&&!_0x4640f4[_0x455a41(0x42b)]?.[_0x455a41(0x592)](this['instance'][_0x455a41(0x177)])&&(_0x4640f4[_0x455a41(0x42b)]=[..._0x4640f4[_0x455a41(0x42b)]??[],this['instance'][_0x455a41(0x177)]],await this[_0x455a41(0x302)][_0x455a41(0x35d)][_0x455a41(0x723)](_0x4640f4[_0x455a41(0x1e0)],_0x4640f4),this[_0x455a41(0x568)]());let _0x33f911=this[_0x455a41(0x295)]?.[_0x455a41(0x5ee)][_0x455a41(0x614)](_0x493c4d=>_0x493c4d[_0x455a41(0x5c3)]),_0x4337e6=['nome',_0x455a41(0x7d5),_0x455a41(0x263),'cpf','status',_0x455a41(0x3e2),_0x455a41(0x73c),_0x455a41(0x2b6),'etiquetas',_0x455a41(0x253),'atendimentoAberto'];_0x4640f4[_0x455a41(0x88e)]=_0x4640f4['variables'][_0x455a41(0x71f)](_0x220e2b=>!(_0x220e2b[_0x455a41(0x84d)]==='leadInfo'||_0x220e2b[_0x455a41(0x830)])),_0x4337e6[_0x455a41(0x663)](_0x2d0059=>{const _0x5e15ad=_0x455a41;_0x4640f4[_0x5e15ad(0x88e)][_0x5e15ad(0x7ef)]({'folder':_0x5e15ad(0x830),'name':_0x2d0059,'value':'','doc':'','leadInfo':!0x0});}),_0x33f911[_0x455a41(0x663)](_0x136c40=>{const _0x3951cd=_0x455a41;let _0x38e0f7=_0x4640f4[_0x3951cd(0x88e)]['findIndex'](_0x2debb1=>_0x2debb1[_0x3951cd(0x5c3)]===_0x136c40);_0x38e0f7===-0x1?_0x4640f4['variables'][_0x3951cd(0x7ef)]({'folder':'leadInfo','name':_0x136c40,'value':'','doc':'','leadInfo':!0x0}):(_0x4640f4[_0x3951cd(0x88e)][_0x38e0f7][_0x3951cd(0x84d)]=_0x3951cd(0x830),_0x4640f4['variables'][_0x38e0f7][_0x3951cd(0x830)]=!0x0);}),_0x4640f4[_0x455a41(0x2cd)]&&_0x4640f4['blocks']['length']>0x0&&_0x4640f4[_0x455a41(0x2cd)][_0x455a41(0x663)](_0x3ddf6c=>{const _0x3e7fcd=_0x455a41;_0x3ddf6c['groupId']&&_0x3ddf6c[_0x3e7fcd(0x664)]&&_0x3ddf6c[_0x3e7fcd(0x1f7)]===_0x3ddf6c[_0x3e7fcd(0x664)]&&(_0x3ddf6c[_0x3e7fcd(0x664)]=null);});let _0x26aec4=await this['repository']['flow'][_0x455a41(0x723)](_0x4640f4[_0x455a41(0x1e0)],_0x4640f4);if(!_0x26aec4)throw new Error(_0x455a41(0x65e));return _0x26aec4;}catch(_0x5252e4){let _0x647fed=_0x455a41(0x4cf),_0x1818f6=_0x5252e4 instanceof Error?_0x5252e4[_0x455a41(0x416)]:typeof _0x5252e4==_0x455a41(0x6eb)?JSON[_0x455a41(0x5ad)](_0x5252e4):_0x5252e4,_0x50b4fd=_0x647fed+':\x20'+_0x1818f6;throw this['logger'][_0x455a41(0x434)](this[_0x455a41(0x297)]+'\x20('+this[_0x455a41(0x1da)][_0x455a41(0x177)]+_0x455a41(0x83b)+_0x50b4fd),new m(_0x50b4fd);}}async[a0_0x43466e(0x41b)](){const _0x4e9c3e=a0_0x43466e;try{this['logger']['verbose'](this[_0x4e9c3e(0x297)]+'\x20('+this[_0x4e9c3e(0x1da)][_0x4e9c3e(0x177)]+_0x4e9c3e(0x43c)),await this['synchronizeAndMapFlows']();let _0x417d04=await this['repository'][_0x4e9c3e(0x35d)]['findAll']({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x4e9c3e(0x674)],..._0x417d04];}catch(_0x27d5a9){return this[_0x4e9c3e(0x50b)][_0x4e9c3e(0x434)](this['instanceName']+'\x20('+this[_0x4e9c3e(0x1da)][_0x4e9c3e(0x177)]+_0x4e9c3e(0x3a9)+(_0x27d5a9 instanceof Error?_0x27d5a9[_0x4e9c3e(0x416)]:JSON[_0x4e9c3e(0x5ad)](_0x27d5a9,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x27d5a9 instanceof Error?_0x27d5a9[_0x4e9c3e(0x416)]:String(_0x27d5a9))};}}async['editFlow'](_0x36b112,_0xded471){const _0x184e8e=a0_0x43466e;try{this[_0x184e8e(0x50b)][_0x184e8e(0x213)](this[_0x184e8e(0x297)]+'\x20('+this[_0x184e8e(0x1da)]['wuid']+_0x184e8e(0x540));let _0x5edbd9=this[_0x184e8e(0x295)][_0x184e8e(0x674)][_0x184e8e(0x6cf)](_0x47686a=>_0x47686a[_0x184e8e(0x1e0)]===_0x36b112[_0x184e8e(0x1e0)]);if(!_0x5edbd9)throw this[_0x184e8e(0x50b)][_0x184e8e(0x213)](this[_0x184e8e(0x297)]+'\x20('+this[_0x184e8e(0x1da)][_0x184e8e(0x177)]+_0x184e8e(0x2c2)+_0x36b112['_id']+_0x184e8e(0x7bd)),new m(_0x184e8e(0x762));let _0xd41167=await this['repository'][_0x184e8e(0x35d)][_0x184e8e(0x41a)]({'where':{'_id':_0x36b112[_0x184e8e(0x1e0)]}});if(!_0xd41167||!_0xd41167[_0x184e8e(0x42b)]?.['includes'](this[_0x184e8e(0x1da)][_0x184e8e(0x177)]))throw this[_0x184e8e(0x50b)]['error'](this[_0x184e8e(0x297)]+'\x20('+this[_0x184e8e(0x1da)]['wuid']+'):\x20Flow\x20\x27'+_0x36b112[_0x184e8e(0x1e0)]+_0x184e8e(0x6bc)),new m(_0x184e8e(0x7e1)+_0x36b112[_0x184e8e(0x1e0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x24b6ec=this[_0x184e8e(0x295)][_0x184e8e(0x674)][_0x184e8e(0x5c2)](_0x32bfe4=>_0x32bfe4[_0x184e8e(0x1e0)]===_0x5edbd9[_0x184e8e(0x1e0)]);if(_0x24b6ec!==-0x1){let _0x1d8f27=this[_0x184e8e(0x295)][_0x184e8e(0x674)][_0x24b6ec];if(_0x1d8f27[_0x184e8e(0x5c3)]=_0x36b112[_0x184e8e(0x5c3)]??_0x1d8f27[_0x184e8e(0x5c3)],_0x1d8f27['default']=_0x36b112[_0x184e8e(0x56d)]??_0x1d8f27[_0x184e8e(0x56d)],_0x1d8f27['testingWith']=_0x36b112[_0x184e8e(0x3c6)]??_0x1d8f27['testingWith'],_0x1d8f27['startCommand']=_0x36b112[_0x184e8e(0x146)]??_0x1d8f27[_0x184e8e(0x357)],_0x1d8f27[_0x184e8e(0x86c)]=_0x36b112['minutesToClose']??_0x1d8f27[_0x184e8e(0x86c)],_0x1d8f27[_0x184e8e(0x3c3)]=_0x36b112['readMessages']??_0x1d8f27[_0x184e8e(0x3c3)],_0x36b112['default']&&this[_0x184e8e(0x295)]['flows']['forEach']((_0x3140d1,_0xe0aeca)=>{const _0x448da6=_0x184e8e;_0xe0aeca!==_0x24b6ec&&(_0x3140d1[_0x448da6(0x56d)]=!0x1);}),this[_0x184e8e(0x295)]['flows'][_0x24b6ec]=_0x1d8f27,!await this['repository']['automateSystem'][_0x184e8e(0x211)]({'flows':this[_0x184e8e(0x295)][_0x184e8e(0x674)]},this[_0x184e8e(0x1da)][_0x184e8e(0x177)]))throw new m(_0x184e8e(0x192));}let _0x2c7bc4=[_0x184e8e(0x18e),_0x184e8e(0x4c3),_0x184e8e(0x495),_0x184e8e(0x885)];for(let _0x40f3bb of _0x2c7bc4)delete _0x36b112[_0x40f3bb];if(_0xd41167[_0x184e8e(0x168)]?.[_0x184e8e(0x592)](this[_0x184e8e(0x1da)][_0x184e8e(0x177)])||(_0x36b112={'_id':_0x36b112[_0x184e8e(0x1e0)]}),_0xded471!==Ri&&_0x36b112?.[_0x184e8e(0x536)]&&!_0xd41167?.[_0x184e8e(0x536)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x7f9427=new Set(_0x36b112[_0x184e8e(0x168)]??_0xd41167[_0x184e8e(0x168)]);_0x7f9427[_0x184e8e(0x574)](_0xd41167['owner']);let _0x2c0cef=new Set(_0x36b112[_0x184e8e(0x42b)]??_0xd41167[_0x184e8e(0x42b)]??[]);_0x7f9427[_0x184e8e(0x663)](_0x34f241=>_0x2c0cef[_0x184e8e(0x574)](_0x34f241)),_0x2c0cef[_0x184e8e(0x574)](_0xd41167[_0x184e8e(0x27c)]),this[_0x184e8e(0x50b)]['verbose'](this['instanceName']+'\x20('+this[_0x184e8e(0x1da)][_0x184e8e(0x177)]+_0x184e8e(0x173)+Array[_0x184e8e(0x3d3)](_0x7f9427)),this[_0x184e8e(0x50b)][_0x184e8e(0x213)](this[_0x184e8e(0x297)]+'\x20('+this['instance'][_0x184e8e(0x177)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x184e8e(0x3d3)](_0x2c0cef));let _0x4f741f=await this[_0x184e8e(0x52b)](Array['from'](_0x2c0cef)),_0x42e63b=Array[_0x184e8e(0x3d3)](_0x7f9427)['filter'](_0x3459f6=>_0x4f741f[_0x184e8e(0x592)](_0x3459f6)),_0xae33a6=Array['from'](_0x2c0cef)['filter'](_0x3dbb32=>_0x4f741f[_0x184e8e(0x592)](_0x3dbb32));this[_0x184e8e(0x50b)]['verbose'](this[_0x184e8e(0x297)]+'\x20('+this[_0x184e8e(0x1da)]['wuid']+_0x184e8e(0x335)+_0x42e63b),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x184e8e(0x1da)][_0x184e8e(0x177)]+_0x184e8e(0x5fe)+_0xae33a6);let _0x188273={..._0xd41167,..._0x36b112,'whoCanEdit':_0x42e63b,'whoCanUse':_0xae33a6},_0xafb81c=await this[_0x184e8e(0x302)][_0x184e8e(0x35d)][_0x184e8e(0x723)](_0xd41167[_0x184e8e(0x1e0)],_0x188273);return await this[_0x184e8e(0x568)](),_0xafb81c;}catch(_0x37b948){let _0x201540=_0x184e8e(0x5a9),_0x2463c3=_0x37b948 instanceof Error?_0x37b948['message']:typeof _0x37b948==_0x184e8e(0x6eb)?JSON[_0x184e8e(0x5ad)](_0x37b948):_0x37b948,_0x5d8ce9=_0x201540+':\x20'+_0x2463c3;throw this[_0x184e8e(0x50b)][_0x184e8e(0x434)](this[_0x184e8e(0x297)]+'\x20('+this['instance']['wuid']+_0x184e8e(0x83b)+_0x5d8ce9),new m(_0x5d8ce9);}}async[a0_0x43466e(0x52b)](_0x2a642c){const _0x312882=a0_0x43466e;let _0x53d3f5={'numbers':_0x2a642c};return(await this[_0x312882(0x42f)](_0x53d3f5))[_0x312882(0x71f)](_0xa0ace4=>_0xa0ace4[_0x312882(0x7cf)])['map'](_0x4a0b80=>_0x4a0b80[_0x312882(0x6f1)])[_0x312882(0x614)](_0x260e18=>this[_0x312882(0x6fc)](_0x260e18));}[a0_0x43466e(0x6fc)](_0x20bf83){const _0x47e4d8=a0_0x43466e;let _0x13e24c=_0x20bf83[_0x47e4d8(0x30d)](/\d+/);return _0x13e24c?_0x13e24c[0x0]:'';}async[a0_0x43466e(0x184)](_0x366cb4){const _0x5ae635=a0_0x43466e;try{if(this[_0x5ae635(0x50b)][_0x5ae635(0x213)](this[_0x5ae635(0x297)]+'\x20('+this[_0x5ae635(0x1da)][_0x5ae635(0x177)]+_0x5ae635(0x87b)),!this['AutomateSystem']['flows'][_0x5ae635(0x6cf)](_0x261ec6=>_0x261ec6[_0x5ae635(0x1e0)]===_0x366cb4['_id']))throw this[_0x5ae635(0x50b)][_0x5ae635(0x213)](this[_0x5ae635(0x297)]+'\x20('+this[_0x5ae635(0x1da)][_0x5ae635(0x177)]+'):\x20Fluxo\x20\x27'+_0x366cb4[_0x5ae635(0x1e0)]+_0x5ae635(0x7bd)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x163a65=await this[_0x5ae635(0x302)][_0x5ae635(0x35d)][_0x5ae635(0x41a)]({'where':{'_id':_0x366cb4[_0x5ae635(0x1e0)]}});if(!_0x163a65||!_0x163a65[_0x5ae635(0x42b)]?.[_0x5ae635(0x592)](this[_0x5ae635(0x1da)]['wuid']))throw this[_0x5ae635(0x50b)]['error'](this[_0x5ae635(0x297)]+'\x20('+this[_0x5ae635(0x1da)][_0x5ae635(0x177)]+_0x5ae635(0x71a)+_0x366cb4['_id']+_0x5ae635(0x6bc)),new m(_0x5ae635(0x7e1)+_0x366cb4[_0x5ae635(0x1e0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x163a65[_0x5ae635(0x168)]?.[_0x5ae635(0x592)](this['instance'][_0x5ae635(0x177)]))throw new m(_0x5ae635(0x481));let {block:_0x36df8c}=_0x366cb4;_0x36df8c?.['copy']?this[_0x5ae635(0x17d)](_0x163a65,_0x366cb4):_0x36df8c?.[_0x5ae635(0x274)]?this[_0x5ae635(0x159)](_0x163a65,_0x366cb4):_0x36df8c[_0x5ae635(0x1e0)]?await this[_0x5ae635(0x7bc)](_0x163a65,_0x366cb4):this['addBlock'](_0x163a65,_0x366cb4);let _0x24332b=await this[_0x5ae635(0x302)][_0x5ae635(0x35d)][_0x5ae635(0x723)](_0x163a65[_0x5ae635(0x1e0)],_0x163a65);if(!_0x24332b)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x24332b;}catch(_0x3375bc){this[_0x5ae635(0x727)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x3375bc['message']);}}async[a0_0x43466e(0x17d)](_0x4de60,_0x32b4d6){const _0x4c6059=a0_0x43466e;let _0x400136=_0x32b4d6[_0x4c6059(0x5f7)][_0x4c6059(0x1e0)],_0x44127e=_0x4de60[_0x4c6059(0x2cd)][_0x4c6059(0x6cf)](_0x1ce574=>_0x1ce574['_id'][_0x4c6059(0x880)]()===_0x400136);if(!_0x44127e){this[_0x4c6059(0x50b)][_0x4c6059(0x434)](this[_0x4c6059(0x297)]+'\x20('+this['instance'][_0x4c6059(0x177)]+_0x4c6059(0x7fd)+_0x400136+_0x4c6059(0x654));return;}this[_0x4c6059(0x50b)]['verbose'](this[_0x4c6059(0x297)]+'\x20('+this['instance'][_0x4c6059(0x177)]+_0x4c6059(0x877)+JSON[_0x4c6059(0x5ad)](_0x44127e));let _0x47f0e3=JSON['parse'](JSON[_0x4c6059(0x5ad)](_0x44127e));_0x47f0e3[_0x4c6059(0x1e0)]=new ge[(_0x4c6059(0x56d))][(_0x4c6059(0x4b5))]['ObjectId'](),this[_0x4c6059(0x50b)][_0x4c6059(0x213)](this[_0x4c6059(0x297)]+'\x20('+this[_0x4c6059(0x1da)][_0x4c6059(0x177)]+_0x4c6059(0x633)+JSON[_0x4c6059(0x5ad)](_0x47f0e3)),_0x4de60[_0x4c6059(0x2cd)][_0x4c6059(0x7ef)](_0x47f0e3),this[_0x4c6059(0x4d5)](_0x4de60['blocks'],_0x47f0e3[_0x4c6059(0x1f7)]);}[a0_0x43466e(0x727)](_0x547d69){const _0x26a6f9=a0_0x43466e;throw this[_0x26a6f9(0x50b)][_0x26a6f9(0x434)](this[_0x26a6f9(0x297)]+'\x20('+this[_0x26a6f9(0x1da)]['wuid']+_0x26a6f9(0x83b)+_0x547d69),new m(_0x547d69);}['deleteBlock'](_0xd3124,_0x3bd10a){const _0x1458af=a0_0x43466e;let {block:_0x589337}=_0x3bd10a;if(_0x589337['type']===_0x1458af(0x518)){this[_0x1458af(0x727)](_0x1458af(0x7f1));return;}if(!_0x589337[_0x1458af(0x1e0)]){this['throwAndLogError'](_0x1458af(0x85e));return;}let _0x12c300=_0xd3124[_0x1458af(0x2cd)][_0x1458af(0x6cf)](_0x196402=>_0x196402['_id'][_0x1458af(0x880)]()===_0x3bd10a[_0x1458af(0x5f7)][_0x1458af(0x1e0)][_0x1458af(0x880)]());if(!_0x12c300){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x589337[_0x1458af(0x1e0)]+_0x1458af(0x86e));return;}_0xd3124['blocks']=_0xd3124[_0x1458af(0x2cd)][_0x1458af(0x71f)](_0x11dba8=>_0x11dba8[_0x1458af(0x1e0)][_0x1458af(0x880)]()!==_0x3bd10a[_0x1458af(0x5f7)][_0x1458af(0x1e0)][_0x1458af(0x880)]()),_0xd3124[_0x1458af(0x7a8)]=_0xd3124[_0x1458af(0x7a8)][_0x1458af(0x71f)](_0x1a9f14=>_0x1a9f14['blockId']!==_0x589337[_0x1458af(0x1e0)][_0x1458af(0x880)]()),_0xd3124[_0x1458af(0x45e)]=_0xd3124['varedits']['filter'](_0x5f0d7d=>_0x5f0d7d['blockId']!==_0x589337[_0x1458af(0x1e0)][_0x1458af(0x880)]()),_0xd3124['replyOptions']=_0xd3124[_0x1458af(0x4e3)][_0x1458af(0x71f)](_0xc43001=>_0xc43001[_0x1458af(0x6f2)]!==_0x589337['_id']['toString']()),this[_0x1458af(0x4d5)](_0xd3124[_0x1458af(0x2cd)],_0x12c300[_0x1458af(0x1f7)]);}async[a0_0x43466e(0x7bc)](_0x3e1693,_0x2c5e05){const _0x3fda9a=a0_0x43466e;let _0x57a370=_0x3e1693[_0x3fda9a(0x2cd)]['findIndex'](_0x509732=>_0x509732[_0x3fda9a(0x1e0)][_0x3fda9a(0x880)]()===_0x2c5e05['block'][_0x3fda9a(0x1e0)][_0x3fda9a(0x880)]());if(this[_0x3fda9a(0x50b)][_0x3fda9a(0x213)](this['instanceName']+'\x20('+this[_0x3fda9a(0x1da)][_0x3fda9a(0x177)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x57a370),_0x57a370===-0x1){this[_0x3fda9a(0x50b)][_0x3fda9a(0x213)](_0x3fda9a(0x867)+_0x2c5e05[_0x3fda9a(0x5f7)][_0x3fda9a(0x1e0)]+_0x3fda9a(0x324));return;}if(_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x375)]===_0x3fda9a(0x518)){let _0x316fc1=Object[_0x3fda9a(0x73e)](_0x2c5e05[_0x3fda9a(0x5f7)]);if(_0x316fc1[_0x3fda9a(0x695)]>0x2||_0x316fc1[_0x3fda9a(0x695)]===0x2&&!_0x316fc1['includes']('next_groupId')){this[_0x3fda9a(0x727)](_0x3fda9a(0x5a5));return;}}let _0x1e1fa3=_0x3e1693['blocks'][_0x57a370][_0x3fda9a(0x1f7)];for(let _0x554fe5 in _0x2c5e05[_0x3fda9a(0x5f7)])_0x2c5e05[_0x3fda9a(0x5f7)][_0x3fda9a(0x48f)](_0x554fe5)&&(_0x3e1693['blocks'][_0x57a370][_0x554fe5]=_0x2c5e05['block'][_0x554fe5]);if(this[_0x3fda9a(0x50b)][_0x3fda9a(0x213)](this[_0x3fda9a(0x297)]+'\x20('+this[_0x3fda9a(0x1da)][_0x3fda9a(0x177)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x3fda9a(0x5ad)](_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370])),_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x82f)]&&_0x3fda9a(0x672)in _0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x82f)]){this[_0x3fda9a(0x50b)][_0x3fda9a(0x213)](this[_0x3fda9a(0x297)]+'\x20('+this[_0x3fda9a(0x1da)][_0x3fda9a(0x177)]+_0x3fda9a(0x461));let _0x413e8b=JSON[_0x3fda9a(0x5ad)](_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370]['apirequest'][_0x3fda9a(0x672)],null,0x1);_0x413e8b[_0x3fda9a(0x695)]>0x2&&(_0x413e8b=_0x413e8b[_0x3fda9a(0x5cd)](0x1,_0x413e8b['length']-0x1)[_0x3fda9a(0x630)]()),_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x82f)][_0x3fda9a(0x5e0)]=_0x413e8b;}if(_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370]['apirequest']&&'body'in _0x3e1693['blocks'][_0x57a370][_0x3fda9a(0x82f)]&&!(_0x3fda9a(0x284)in _0x3e1693['blocks'][_0x57a370][_0x3fda9a(0x82f)])){this['logger'][_0x3fda9a(0x213)](this[_0x3fda9a(0x297)]+'\x20('+this[_0x3fda9a(0x1da)][_0x3fda9a(0x177)]+_0x3fda9a(0x282)),_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x82f)][_0x3fda9a(0x620)]=!0x1;let _0x275808=JSON[_0x3fda9a(0x5ad)](_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x82f)][_0x3fda9a(0x71e)],null,0x2);_0x3e1693['blocks'][_0x57a370][_0x3fda9a(0x82f)][_0x3fda9a(0x284)]=_0x275808;}if(_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370]['apirequest']&&_0x3fda9a(0x284)in _0x3e1693['blocks'][_0x57a370][_0x3fda9a(0x82f)]){_0x3e1693['blocks'][_0x57a370][_0x3fda9a(0x82f)][_0x3fda9a(0x620)]=!0x1;let _0x4abae4=_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370]['apirequest'][_0x3fda9a(0x284)],_0x2b4c2f=this[_0x3fda9a(0x649)](_0x4abae4);_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x82f)]['bodyString']=_0x2b4c2f[_0x3fda9a(0x595)],_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370][_0x3fda9a(0x82f)][_0x3fda9a(0x620)]=_0x2b4c2f[_0x3fda9a(0x434)];}let _0x48b9bc=_0x3e1693[_0x3fda9a(0x2cd)][_0x57a370]['groupId'];_0x1e1fa3!==_0x48b9bc?(this[_0x3fda9a(0x4d5)](_0x3e1693[_0x3fda9a(0x2cd)],_0x1e1fa3),this[_0x3fda9a(0x4d5)](_0x3e1693[_0x3fda9a(0x2cd)],_0x48b9bc)):this[_0x3fda9a(0x4d5)](_0x3e1693[_0x3fda9a(0x2cd)],_0x1e1fa3);}[a0_0x43466e(0x649)](_0x8397e6){const _0x342628=a0_0x43466e;let _0x43e3f1='\u205f',_0x4f539b=!0x1,_0x374085='';for(let _0x172f3a=0x0;_0x172f3a<_0x8397e6['length'];_0x172f3a++){let _0x151c32=_0x8397e6[_0x172f3a];_0x151c32==='\x22'&&(_0x172f3a===0x0||_0x8397e6[_0x172f3a-0x1]!=='\x5c')&&(_0x4f539b=!_0x4f539b),!(!_0x4f539b&&(_0x151c32==='\x0a'||_0x151c32==='\x20'||_0x151c32===_0x43e3f1))&&(_0x374085+=_0x151c32);}let _0x267a30={},_0x3bf812=9876543210.1234,_0x2e2dd4=_0x374085[_0x342628(0x6a1)](/\{\{([^}]+)\}\}/g,_0x9d6cde=>{let _0x4d9c25=_0x9d6cde,_0x6db8c1=''+_0x3bf812;return _0x267a30[_0x6db8c1]=_0x4d9c25,_0x3bf812+=0.0001,_0x6db8c1;}),_0x29f424='',_0xb89ba0=!0x1;try{let _0x1551f2=JSON['parse'](_0x2e2dd4);_0x29f424=JSON[_0x342628(0x5ad)](_0x1551f2,null,0x2),_0x29f424=_0x29f424['replace'](/\n( +)/g,(_0x1651e4,_0x131808)=>{const _0x149af4=_0x342628;let _0x437033=_0x131808[_0x149af4(0x695)];return'\x0a'+_0x43e3f1[_0x149af4(0x8a7)](_0x437033*0x2);}),_0x29f424=_0x29f424['replace'](/(\d{10,}\.\d+)/g,_0x13774e=>_0x267a30[_0x13774e]||_0x13774e);}catch(_0x594003){this[_0x342628(0x50b)][_0x342628(0x434)](_0x342628(0x198)+_0x594003),_0x29f424=_0x8397e6,_0xb89ba0=!0x0;}return{'result':_0x29f424,'error':_0xb89ba0};}['addBlock'](_0x4a4cf0,_0x115ddd){const _0x57a811=a0_0x43466e;if(_0x115ddd[_0x57a811(0x5f7)][_0x57a811(0x375)]===_0x57a811(0x518)){this[_0x57a811(0x727)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x115ddd[_0x57a811(0x5f7)]['apirequest']&&'header'in _0x115ddd[_0x57a811(0x5f7)][_0x57a811(0x82f)]){this['logger'][_0x57a811(0x213)](this[_0x57a811(0x297)]+'\x20('+this[_0x57a811(0x1da)][_0x57a811(0x177)]+_0x57a811(0x461));let _0x3a03ce=JSON['stringify'](_0x115ddd[_0x57a811(0x5f7)]['apirequest'][_0x57a811(0x672)],null,0x1);_0x3a03ce['length']>0x2&&(_0x3a03ce=_0x3a03ce[_0x57a811(0x5cd)](0x1,_0x3a03ce[_0x57a811(0x695)]-0x1)[_0x57a811(0x630)]()),_0x115ddd[_0x57a811(0x5f7)]['apirequest'][_0x57a811(0x5e0)]=_0x3a03ce;}_0x115ddd[_0x57a811(0x5f7)][_0x57a811(0x82f)]&&_0x57a811(0x71e)in _0x115ddd[_0x57a811(0x5f7)][_0x57a811(0x82f)]&&(this[_0x57a811(0x50b)][_0x57a811(0x213)](this[_0x57a811(0x297)]+'\x20('+this['instance'][_0x57a811(0x177)]+_0x57a811(0x282)),_0x115ddd[_0x57a811(0x5f7)]['apirequest'][_0x57a811(0x284)]=JSON[_0x57a811(0x5ad)](_0x115ddd['block']['apirequest'][_0x57a811(0x71e)],null,0x1)[_0x57a811(0x630)]()),_0x4a4cf0['blocks'][_0x57a811(0x7ef)](_0x115ddd[_0x57a811(0x5f7)]),this['reorderBlocks'](_0x4a4cf0[_0x57a811(0x2cd)],_0x115ddd['block'][_0x57a811(0x1f7)]);}[a0_0x43466e(0x4d5)](_0xfc59a,_0x2f3008){const _0x48f099=a0_0x43466e;let _0x460601=_0xfc59a['filter'](_0x32598e=>_0x32598e['groupId']===_0x2f3008);_0x460601[_0x48f099(0x6df)]((_0x203826,_0x50442e)=>_0x203826['order']-_0x50442e['order']),_0x460601[_0x48f099(0x663)]((_0x238666,_0x274f81)=>_0x238666[_0x48f099(0x398)]=_0x274f81+0x1);}async['editFlowReply'](_0x199dad){const _0xa0adcf=a0_0x43466e;try{if(this[_0xa0adcf(0x50b)][_0xa0adcf(0x213)](this[_0xa0adcf(0x297)]+'\x20('+this[_0xa0adcf(0x1da)]['wuid']+_0xa0adcf(0x5d2)),!_0x199dad||!_0x199dad[_0xa0adcf(0x717)]){this[_0xa0adcf(0x727)]('Data\x20inválida\x20fornecida');return;}if(!this[_0xa0adcf(0x295)][_0xa0adcf(0x674)][_0xa0adcf(0x6cf)](_0x286ade=>_0x286ade[_0xa0adcf(0x1e0)]===_0x199dad[_0xa0adcf(0x1e0)]))throw this[_0xa0adcf(0x50b)][_0xa0adcf(0x213)](this[_0xa0adcf(0x297)]+'\x20('+this[_0xa0adcf(0x1da)][_0xa0adcf(0x177)]+_0xa0adcf(0x2c2)+_0x199dad['_id']+_0xa0adcf(0x7bd)),new m(_0xa0adcf(0x762));let _0x21949c=await this[_0xa0adcf(0x302)][_0xa0adcf(0x35d)][_0xa0adcf(0x41a)]({'where':{'_id':_0x199dad[_0xa0adcf(0x1e0)]}});if(!_0x21949c||!_0x21949c[_0xa0adcf(0x42b)]?.[_0xa0adcf(0x592)](this[_0xa0adcf(0x1da)][_0xa0adcf(0x177)]))throw this[_0xa0adcf(0x50b)][_0xa0adcf(0x434)](this[_0xa0adcf(0x297)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x199dad[_0xa0adcf(0x1e0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xa0adcf(0x7e1)+_0x199dad[_0xa0adcf(0x1e0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x21949c[_0xa0adcf(0x168)]?.['includes'](this[_0xa0adcf(0x1da)][_0xa0adcf(0x177)]))throw new m(_0xa0adcf(0x481));let {replyOption:_0x1caef9}=_0x199dad;_0x1caef9?.['delete']?(this[_0xa0adcf(0x640)](_0x21949c,_0x199dad),this[_0xa0adcf(0x892)](_0x21949c[_0xa0adcf(0x4e3)],_0x199dad['replyOption'][_0xa0adcf(0x6f2)])):_0x1caef9[_0xa0adcf(0x1e0)]?(await this[_0xa0adcf(0x817)](_0x21949c,_0x199dad),this[_0xa0adcf(0x892)](_0x21949c[_0xa0adcf(0x4e3)],_0x199dad[_0xa0adcf(0x717)][_0xa0adcf(0x6f2)])):(this[_0xa0adcf(0x296)](_0x21949c,_0x199dad),this[_0xa0adcf(0x892)](_0x21949c[_0xa0adcf(0x4e3)],_0x199dad[_0xa0adcf(0x717)][_0xa0adcf(0x6f2)]));let _0x583767=await this[_0xa0adcf(0x302)][_0xa0adcf(0x35d)]['updateOne'](_0x21949c['_id'],_0x21949c);if(!_0x583767)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x583767;}catch(_0x311fac){this[_0xa0adcf(0x727)](_0xa0adcf(0x59b)+_0x311fac);}}[a0_0x43466e(0x892)](_0x56384f,_0x3351e0){const _0x3854b1=a0_0x43466e;_0x56384f[_0x3854b1(0x663)](_0x38c4bb=>{const _0x5234f0=_0x3854b1;_0x38c4bb[_0x5234f0(0x6f2)]===_0x3351e0&&_0x38c4bb['order']===void 0x0&&(_0x38c4bb[_0x5234f0(0x398)]=0x270f);});let _0x40cfc2=_0x56384f[_0x3854b1(0x71f)](_0x1df620=>_0x1df620[_0x3854b1(0x6f2)]===_0x3351e0);_0x40cfc2[_0x3854b1(0x6df)]((_0x12ca83,_0x271f58)=>_0x12ca83[_0x3854b1(0x398)]-_0x271f58['order']),_0x40cfc2[_0x3854b1(0x663)]((_0x3584d3,_0x1d1ba1)=>{const _0x58589e=_0x3854b1;_0x3584d3[_0x58589e(0x398)]=_0x1d1ba1+0x1;}),_0x56384f[_0x3854b1(0x663)](_0x36fe63=>{const _0x2be239=_0x3854b1;if(_0x36fe63[_0x2be239(0x6f2)]===_0x3351e0){let _0x5e623f=_0x40cfc2[_0x2be239(0x6cf)](_0x5bd88f=>_0x5bd88f[_0x2be239(0x1e0)]&&_0x36fe63[_0x2be239(0x1e0)]&&_0x5bd88f[_0x2be239(0x1e0)][_0x2be239(0x880)]()===_0x36fe63['_id']['toString']());_0x5e623f&&(_0x36fe63[_0x2be239(0x398)]=_0x5e623f[_0x2be239(0x398)]);}});}[a0_0x43466e(0x640)](_0x411766,_0x486328){const _0x441bf0=a0_0x43466e;let {replyOption:_0x573636}=_0x486328;if(!_0x573636[_0x441bf0(0x1e0)]){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x411766[_0x441bf0(0x4e3)][_0x441bf0(0x6cf)](_0x3d5868=>_0x3d5868[_0x441bf0(0x1e0)]['toString']()===_0x486328[_0x441bf0(0x717)][_0x441bf0(0x1e0)][_0x441bf0(0x880)]())){this[_0x441bf0(0x727)](_0x441bf0(0x38e)+_0x573636[_0x441bf0(0x1e0)]+_0x441bf0(0x86e));return;}_0x411766[_0x441bf0(0x4e3)]=_0x411766[_0x441bf0(0x4e3)][_0x441bf0(0x71f)](_0x2954c5=>_0x2954c5[_0x441bf0(0x1e0)]['toString']()!==_0x486328['replyOption'][_0x441bf0(0x1e0)][_0x441bf0(0x880)]());}async['updateReplyOption'](_0x412374,_0x280556){const _0x34b9f6=a0_0x43466e;let _0x171735=_0x412374['replyOptions'][_0x34b9f6(0x5c2)](_0x4a4f91=>_0x4a4f91[_0x34b9f6(0x1e0)][_0x34b9f6(0x880)]()===_0x280556['replyOption'][_0x34b9f6(0x1e0)][_0x34b9f6(0x880)]());if(_0x171735===-0x1){this['throwAndLogError'](_0x34b9f6(0x38e)+_0x280556['replyOption'][_0x34b9f6(0x1e0)]+_0x34b9f6(0x324));return;}for(let _0x353122 in _0x280556['replyOption'])_0x280556[_0x34b9f6(0x717)][_0x34b9f6(0x48f)](_0x353122)&&(_0x412374[_0x34b9f6(0x4e3)][_0x171735][_0x353122]=_0x280556[_0x34b9f6(0x717)][_0x353122]);}['addReplyOption'](_0x283df9,_0x4a168c){const _0x3da43f=a0_0x43466e;_0x283df9['replyOptions'][_0x3da43f(0x7ef)](_0x4a168c[_0x3da43f(0x717)]);}async[a0_0x43466e(0x75d)](_0x563eec){const _0x5647a3=a0_0x43466e;this[_0x5647a3(0x50b)]['verbose'](this[_0x5647a3(0x297)]+'\x20('+this[_0x5647a3(0x1da)][_0x5647a3(0x177)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0x5647a3(0x5ad)](_0x563eec,null,0x2));try{if(this[_0x5647a3(0x50b)][_0x5647a3(0x213)](this[_0x5647a3(0x297)]+'\x20('+this[_0x5647a3(0x1da)][_0x5647a3(0x177)]+_0x5647a3(0x74c)),!this['AutomateSystem'][_0x5647a3(0x674)][_0x5647a3(0x6cf)](_0x58fd41=>_0x58fd41[_0x5647a3(0x1e0)]===_0x563eec[_0x5647a3(0x1e0)]))throw this['logger'][_0x5647a3(0x213)](this[_0x5647a3(0x297)]+'\x20('+this[_0x5647a3(0x1da)][_0x5647a3(0x177)]+_0x5647a3(0x2c2)+_0x563eec[_0x5647a3(0x1e0)]+_0x5647a3(0x7bd)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3aa90f=await this[_0x5647a3(0x302)][_0x5647a3(0x35d)][_0x5647a3(0x41a)]({'where':{'_id':_0x563eec[_0x5647a3(0x1e0)]}});if(!_0x3aa90f||!_0x3aa90f['whoCanUse']?.[_0x5647a3(0x592)](this[_0x5647a3(0x1da)][_0x5647a3(0x177)]))throw this['logger'][_0x5647a3(0x434)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5647a3(0x71a)+_0x563eec[_0x5647a3(0x1e0)]+_0x5647a3(0x6bc)),new m(_0x5647a3(0x7e1)+_0x563eec['_id']+_0x5647a3(0x6bc));if(!_0x3aa90f[_0x5647a3(0x168)]?.[_0x5647a3(0x592)](this['instance']['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x563eec['group']&&_0x563eec[_0x5647a3(0x2d6)]?.[_0x5647a3(0x274)]===!0x0){if(this[_0x5647a3(0x50b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5647a3(0x865)),_0x563eec[_0x5647a3(0x2d6)][_0x5647a3(0x56d)]===!0x0)return{'message':_0x5647a3(0x4fb)};if(_0x3aa90f[_0x5647a3(0x2cd)][_0x5647a3(0x541)](_0x2a8241=>_0x2a8241[_0x5647a3(0x1f7)][_0x5647a3(0x880)]()===_0x563eec[_0x5647a3(0x2d6)][_0x5647a3(0x1e0)]))return this[_0x5647a3(0x50b)]['verbose'](this[_0x5647a3(0x297)]+'\x20('+this[_0x5647a3(0x1da)][_0x5647a3(0x177)]+_0x5647a3(0x33c)),{'message':_0x5647a3(0x5a3)};_0x3aa90f['groups']=_0x3aa90f['groups'][_0x5647a3(0x71f)](_0x4e4253=>_0x4e4253[_0x5647a3(0x1e0)][_0x5647a3(0x880)]()!==_0x563eec[_0x5647a3(0x2d6)][_0x5647a3(0x1e0)]);}else{if(_0x563eec[_0x5647a3(0x2d6)]){if(_0x563eec[_0x5647a3(0x2d6)]['default']===!0x0)return{'message':_0x5647a3(0x351)};if(_0x563eec['group']['_id']){let _0x5b5a80=_0x3aa90f[_0x5647a3(0x5e6)][_0x5647a3(0x6cf)](_0x53fd69=>_0x53fd69[_0x5647a3(0x1e0)][_0x5647a3(0x880)]()===_0x563eec['group'][_0x5647a3(0x1e0)]);_0x5b5a80&&(_0x563eec[_0x5647a3(0x2d6)]['x']<0x0&&(_0x563eec[_0x5647a3(0x2d6)]['x']=0x0),_0x563eec[_0x5647a3(0x2d6)]['y']<0x0&&(_0x563eec[_0x5647a3(0x2d6)]['y']=0x0),Object['assign'](_0x5b5a80,_0x563eec[_0x5647a3(0x2d6)]));}else _0x3aa90f['groups'][_0x5647a3(0x7ef)](_0x563eec[_0x5647a3(0x2d6)]);}}let _0x434ce6=await this[_0x5647a3(0x302)]['flow']['updateOne'](_0x3aa90f[_0x5647a3(0x1e0)],_0x3aa90f);if(!_0x434ce6)throw new Error(_0x5647a3(0x65e));return _0x434ce6;}catch(_0x52c319){let _0x5a4c12='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x48d2f5=_0x52c319 instanceof Error?_0x52c319[_0x5647a3(0x416)]:typeof _0x52c319==_0x5647a3(0x6eb)?JSON[_0x5647a3(0x5ad)](_0x52c319):_0x52c319,_0x13530f=_0x5a4c12+':\x20'+_0x48d2f5;throw this['logger'][_0x5647a3(0x434)](this['instanceName']+'\x20('+this[_0x5647a3(0x1da)][_0x5647a3(0x177)]+'):\x20'+_0x13530f),new m(_0x13530f);}}async['editFlowCondition'](_0x2adec3){const _0x28c596=a0_0x43466e;try{if(this['logger'][_0x28c596(0x213)](this[_0x28c596(0x297)]+'\x20('+this[_0x28c596(0x1da)]['wuid']+_0x28c596(0x5b3)),!this[_0x28c596(0x295)][_0x28c596(0x674)][_0x28c596(0x6cf)](_0x20c709=>_0x20c709['_id']===_0x2adec3[_0x28c596(0x1e0)]))throw this[_0x28c596(0x50b)][_0x28c596(0x213)](this[_0x28c596(0x297)]+'\x20('+this[_0x28c596(0x1da)][_0x28c596(0x177)]+'):\x20Fluxo\x20\x27'+_0x2adec3['_id']+_0x28c596(0x7bd)),new m(_0x28c596(0x762));let _0x3fb6aa=await this[_0x28c596(0x302)][_0x28c596(0x35d)][_0x28c596(0x41a)]({'where':{'_id':_0x2adec3[_0x28c596(0x1e0)]}});if(!_0x3fb6aa||!_0x3fb6aa[_0x28c596(0x42b)]?.['includes'](this[_0x28c596(0x1da)][_0x28c596(0x177)]))throw this[_0x28c596(0x50b)][_0x28c596(0x434)](this[_0x28c596(0x297)]+'\x20('+this[_0x28c596(0x1da)][_0x28c596(0x177)]+_0x28c596(0x71a)+_0x2adec3[_0x28c596(0x1e0)]+_0x28c596(0x6bc)),new m(_0x28c596(0x7e1)+_0x2adec3[_0x28c596(0x1e0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3fb6aa[_0x28c596(0x168)]?.[_0x28c596(0x592)](this[_0x28c596(0x1da)][_0x28c596(0x177)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x2fb9c3=!0x1;if(_0x2adec3[_0x28c596(0x207)]?.['delete']===!0x0)_0x3fb6aa[_0x28c596(0x7a8)]=_0x3fb6aa['conditions']['filter'](_0x3e3132=>_0x3e3132&&_0x2adec3['condition']&&_0x3e3132[_0x28c596(0x1e0)]&&_0x2adec3[_0x28c596(0x207)][_0x28c596(0x1e0)]&&_0x3e3132['_id'][_0x28c596(0x880)]()!==_0x2adec3[_0x28c596(0x207)][_0x28c596(0x1e0)][_0x28c596(0x880)]()),_0x2fb9c3=!0x0;else{let _0x6ce0b6=_0x3fb6aa[_0x28c596(0x7a8)]['find'](_0x535cb2=>_0x535cb2&&_0x2adec3[_0x28c596(0x207)]&&_0x535cb2[_0x28c596(0x1e0)]&&_0x2adec3[_0x28c596(0x207)][_0x28c596(0x1e0)]&&_0x535cb2[_0x28c596(0x1e0)]['toString']()===_0x2adec3[_0x28c596(0x207)][_0x28c596(0x1e0)][_0x28c596(0x880)]());_0x6ce0b6?(_0x2fb9c3=_0x6ce0b6[_0x28c596(0x398)]!==_0x2adec3[_0x28c596(0x207)][_0x28c596(0x398)],Object[_0x28c596(0x1e5)](_0x6ce0b6,_0x2adec3['condition'])):(_0x3fb6aa[_0x28c596(0x7a8)][_0x28c596(0x7ef)](_0x2adec3['condition']),_0x2fb9c3=!0x0);}if(_0x2fb9c3){_0x3fb6aa['conditions'][_0x28c596(0x6df)]((_0x57dd2a,_0x2797d6)=>_0x57dd2a[_0x28c596(0x398)]>_0x2797d6[_0x28c596(0x398)]?0x1:_0x2797d6[_0x28c596(0x398)]>_0x57dd2a['order']?-0x1:0x0);for(let _0x2c35d6=0x0;_0x2c35d6<_0x3fb6aa[_0x28c596(0x7a8)][_0x28c596(0x695)];_0x2c35d6++)_0x3fb6aa['conditions'][_0x2c35d6][_0x28c596(0x398)]=_0x2c35d6+0x1;_0x3fb6aa[_0x28c596(0x7a8)]['length']>0x0&&(_0x3fb6aa['conditions'][0x0][_0x28c596(0x4f3)]=_0x28c596(0x6ea));}let _0x21e579=await this[_0x28c596(0x302)][_0x28c596(0x35d)]['updateOne'](_0x3fb6aa['_id'],_0x3fb6aa);if(!_0x21e579)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x21e579;}catch(_0x3681d5){let _0x5f5d15=_0x28c596(0x6b0),_0x388a2c=_0x3681d5 instanceof Error?_0x3681d5[_0x28c596(0x416)]:typeof _0x3681d5=='object'?JSON[_0x28c596(0x5ad)](_0x3681d5):_0x3681d5,_0x4e0e6f=_0x5f5d15+':\x20'+_0x388a2c;throw this[_0x28c596(0x50b)][_0x28c596(0x434)](this['instanceName']+'\x20('+this[_0x28c596(0x1da)]['wuid']+_0x28c596(0x83b)+_0x4e0e6f),new m(_0x4e0e6f);}}async[a0_0x43466e(0x669)](_0x382d4b){const _0x5b4403=a0_0x43466e;try{if(this[_0x5b4403(0x50b)][_0x5b4403(0x213)](this[_0x5b4403(0x297)]+'\x20('+this[_0x5b4403(0x1da)]['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x5b4403(0x295)]['flows'][_0x5b4403(0x6cf)](_0x7a87a0=>_0x7a87a0['_id']===_0x382d4b[_0x5b4403(0x1e0)]))throw this[_0x5b4403(0x50b)][_0x5b4403(0x213)](this[_0x5b4403(0x297)]+'\x20('+this[_0x5b4403(0x1da)][_0x5b4403(0x177)]+_0x5b4403(0x2c2)+_0x382d4b[_0x5b4403(0x1e0)]+_0x5b4403(0x7bd)),new m(_0x5b4403(0x762));let _0x170fbb=await this[_0x5b4403(0x302)]['flow']['findOne']({'where':{'_id':_0x382d4b[_0x5b4403(0x1e0)]}});if(!_0x170fbb||!_0x170fbb[_0x5b4403(0x42b)]?.[_0x5b4403(0x592)](this[_0x5b4403(0x1da)]['wuid']))throw this['logger'][_0x5b4403(0x434)](this[_0x5b4403(0x297)]+'\x20('+this[_0x5b4403(0x1da)]['wuid']+_0x5b4403(0x71a)+_0x382d4b[_0x5b4403(0x1e0)]+_0x5b4403(0x6bc)),new m(_0x5b4403(0x7e1)+_0x382d4b[_0x5b4403(0x1e0)]+_0x5b4403(0x6bc));if(!_0x170fbb[_0x5b4403(0x168)]?.['includes'](this[_0x5b4403(0x1da)]['wuid']))throw new m(_0x5b4403(0x481));let _0x240b7b=!0x1;if(_0x382d4b[_0x5b4403(0x5b1)]?.[_0x5b4403(0x274)]===!0x0)_0x170fbb[_0x5b4403(0x45e)]=_0x170fbb[_0x5b4403(0x45e)][_0x5b4403(0x71f)](_0x117212=>_0x117212&&_0x382d4b[_0x5b4403(0x5b1)]&&_0x117212[_0x5b4403(0x1e0)]&&_0x382d4b[_0x5b4403(0x5b1)]['_id']&&_0x117212[_0x5b4403(0x1e0)][_0x5b4403(0x880)]()!==_0x382d4b[_0x5b4403(0x5b1)][_0x5b4403(0x1e0)][_0x5b4403(0x880)]()),_0x240b7b=!0x0;else{let _0x427a14=_0x170fbb['varedits'][_0x5b4403(0x6cf)](_0x30e629=>_0x30e629&&_0x382d4b[_0x5b4403(0x5b1)]&&_0x30e629[_0x5b4403(0x1e0)]&&_0x382d4b[_0x5b4403(0x5b1)][_0x5b4403(0x1e0)]&&_0x30e629['_id'][_0x5b4403(0x880)]()===_0x382d4b['varedit'][_0x5b4403(0x1e0)][_0x5b4403(0x880)]());_0x427a14?(_0x240b7b=_0x427a14[_0x5b4403(0x398)]!==_0x382d4b[_0x5b4403(0x5b1)][_0x5b4403(0x398)],Object[_0x5b4403(0x1e5)](_0x427a14,_0x382d4b['varedit'])):(_0x170fbb[_0x5b4403(0x45e)][_0x5b4403(0x7ef)](_0x382d4b[_0x5b4403(0x5b1)]),_0x240b7b=!0x0);}if(_0x240b7b){_0x170fbb['varedits'][_0x5b4403(0x6df)]((_0x4f632d,_0x284e76)=>_0x4f632d[_0x5b4403(0x398)]>_0x284e76[_0x5b4403(0x398)]?0x1:_0x284e76[_0x5b4403(0x398)]>_0x4f632d[_0x5b4403(0x398)]?-0x1:0x0);for(let _0xc89b9d=0x0;_0xc89b9d<_0x170fbb[_0x5b4403(0x45e)][_0x5b4403(0x695)];_0xc89b9d++)_0x170fbb[_0x5b4403(0x45e)][_0xc89b9d][_0x5b4403(0x398)]=_0xc89b9d+0x1;}let _0x8eaf67=await this[_0x5b4403(0x302)][_0x5b4403(0x35d)][_0x5b4403(0x723)](_0x170fbb[_0x5b4403(0x1e0)],_0x170fbb);if(!_0x8eaf67)throw new Error(_0x5b4403(0x65e));return _0x8eaf67;}catch(_0x58216a){let _0x5c115e='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x1aa2f4=_0x58216a instanceof Error?_0x58216a[_0x5b4403(0x416)]:typeof _0x58216a==_0x5b4403(0x6eb)?JSON[_0x5b4403(0x5ad)](_0x58216a):_0x58216a,_0x147f43=_0x5c115e+':\x20'+_0x1aa2f4;throw this[_0x5b4403(0x50b)][_0x5b4403(0x434)](this[_0x5b4403(0x297)]+'\x20('+this[_0x5b4403(0x1da)]['wuid']+_0x5b4403(0x83b)+_0x147f43),new m(_0x147f43);}}async[a0_0x43466e(0x269)](_0x392261){const _0x2bc583=a0_0x43466e;try{if(this[_0x2bc583(0x50b)][_0x2bc583(0x213)](this[_0x2bc583(0x297)]+'\x20('+this[_0x2bc583(0x1da)]['wuid']+_0x2bc583(0x65c)),!this[_0x2bc583(0x295)]['flows'][_0x2bc583(0x6cf)](_0x36512c=>_0x36512c[_0x2bc583(0x1e0)]===_0x392261['_id']))throw this[_0x2bc583(0x50b)][_0x2bc583(0x213)](this[_0x2bc583(0x297)]+'\x20('+this[_0x2bc583(0x1da)]['wuid']+'):\x20Fluxo\x20\x27'+_0x392261[_0x2bc583(0x1e0)]+_0x2bc583(0x7bd)),new m(_0x2bc583(0x762));let _0x536bf6=await this[_0x2bc583(0x302)][_0x2bc583(0x35d)]['findOne']({'where':{'_id':_0x392261['_id']}});if(!_0x536bf6||!_0x536bf6[_0x2bc583(0x42b)]?.[_0x2bc583(0x592)](this[_0x2bc583(0x1da)][_0x2bc583(0x177)]))throw this[_0x2bc583(0x50b)][_0x2bc583(0x434)](this[_0x2bc583(0x297)]+'\x20('+this['instance'][_0x2bc583(0x177)]+_0x2bc583(0x71a)+_0x392261[_0x2bc583(0x1e0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x392261['_id']+_0x2bc583(0x6bc));if(!_0x536bf6[_0x2bc583(0x168)]?.[_0x2bc583(0x592)](this[_0x2bc583(0x1da)][_0x2bc583(0x177)]))throw new m(_0x2bc583(0x481));_0x392261[_0x2bc583(0x47a)][_0x2bc583(0x5c3)]=_0x392261[_0x2bc583(0x47a)][_0x2bc583(0x5c3)][_0x2bc583(0x630)](),_0x392261['variable'][_0x2bc583(0x5c3)][_0x2bc583(0x685)]('_')&&(_0x392261[_0x2bc583(0x47a)][_0x2bc583(0x5c3)]=_0x392261[_0x2bc583(0x47a)][_0x2bc583(0x5c3)]['substring'](0x1)),_0x392261[_0x2bc583(0x47a)][_0x2bc583(0x5c3)]=_0x392261['variable'][_0x2bc583(0x5c3)][_0x2bc583(0x630)]();let _0x582ecc=_0x536bf6['variables']['find'](_0x46e8ba=>_0x46e8ba['name']===_0x392261[_0x2bc583(0x47a)][_0x2bc583(0x5c3)]);if(_0x582ecc?.[_0x2bc583(0x830)]===!0x0)throw new Error(_0x2bc583(0x482));if(_0x392261[_0x2bc583(0x47a)]?.[_0x2bc583(0x274)]===!0x0){if(!_0x582ecc)return{'message':'Variável\x20não\x20encontrada!'};_0x536bf6['variables']=_0x536bf6['variables'][_0x2bc583(0x71f)](_0xc251bf=>_0xc251bf[_0x2bc583(0x5c3)]!==_0x392261[_0x2bc583(0x47a)][_0x2bc583(0x5c3)]);}else _0x582ecc?Object[_0x2bc583(0x1e5)](_0x582ecc,_0x392261[_0x2bc583(0x47a)]):_0x536bf6[_0x2bc583(0x88e)][_0x2bc583(0x7ef)](_0x392261['variable']);let _0x504745=await this[_0x2bc583(0x302)][_0x2bc583(0x35d)]['updateOne'](_0x536bf6[_0x2bc583(0x1e0)],_0x536bf6);if(!_0x504745)throw new Error(_0x2bc583(0x65e));return _0x504745;}catch(_0x725ebf){let _0x4d9105=_0x2bc583(0x549),_0x334bd3=_0x725ebf instanceof Error?_0x725ebf[_0x2bc583(0x416)]:typeof _0x725ebf==_0x2bc583(0x6eb)?JSON[_0x2bc583(0x5ad)](_0x725ebf):_0x725ebf,_0x5f24dc=_0x4d9105+':\x20'+_0x334bd3;throw this[_0x2bc583(0x50b)][_0x2bc583(0x434)](this[_0x2bc583(0x297)]+'\x20('+this[_0x2bc583(0x1da)][_0x2bc583(0x177)]+_0x2bc583(0x83b)+_0x5f24dc),new m(_0x5f24dc);}}async[a0_0x43466e(0x618)](_0xffa4fe){const _0xb22e8b=a0_0x43466e;let _0x576dbc=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0xb22e8b(0x1eb)])throw new m(_0xb22e8b(0x4a9));this[_0xb22e8b(0x50b)][_0xb22e8b(0x213)](this[_0xb22e8b(0x297)]+'\x20('+this[_0xb22e8b(0x1da)][_0xb22e8b(0x177)]+_0xb22e8b(0x4c5));let _0x13a943=(await this[_0xb22e8b(0x42f)]({'numbers':[_0xffa4fe[_0xb22e8b(0x309)]]}))[0x0];if(!_0x13a943[_0xb22e8b(0x7cf)]&&!(0x0,w[_0xb22e8b(0x806)])(_0x13a943[_0xb22e8b(0x6f1)])&&!_0x13a943['jid']['includes']('@broadcast'))throw _0x576dbc=JSON[_0xb22e8b(0x5ad)](_0x13a943,null,0x2),new m(_0x13a943);let _0x585acf;if(_0xffa4fe[_0xb22e8b(0x5c3)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0xb22e8b(0x2cc)](_0xffa4fe['name'])?_0x585acf=this[_0xb22e8b(0x295)]['flows'][_0xb22e8b(0x6cf)](_0x5664ac=>_0x5664ac[_0xb22e8b(0x1e0)]===_0xffa4fe[_0xb22e8b(0x5c3)]):_0x585acf=this['AutomateSystem'][_0xb22e8b(0x674)][_0xb22e8b(0x6cf)](_0x481ad6=>_0x481ad6[_0xb22e8b(0x5c3)]===_0xffa4fe['name']),!_0x585acf)throw this['logger'][_0xb22e8b(0x213)](this[_0xb22e8b(0x297)]+'\x20('+this[_0xb22e8b(0x1da)][_0xb22e8b(0x177)]+'):\x20Fluxo\x20\x27'+_0xffa4fe[_0xb22e8b(0x5c3)]+_0xb22e8b(0x7bd)),new m(_0xb22e8b(0x762));let _0x311e25=await this['repository'][_0xb22e8b(0x35d)][_0xb22e8b(0x41a)]({'where':{'_id':_0x585acf[_0xb22e8b(0x1e0)]}});if(!_0x311e25||!_0x311e25[_0xb22e8b(0x42b)]?.[_0xb22e8b(0x592)](this[_0xb22e8b(0x1da)][_0xb22e8b(0x177)]))throw this[_0xb22e8b(0x50b)]['error'](this[_0xb22e8b(0x297)]+'\x20('+this[_0xb22e8b(0x1da)]['wuid']+_0xb22e8b(0x71a)+_0x585acf[_0xb22e8b(0x1e0)]+_0xb22e8b(0x6bc)),_0x576dbc=_0xb22e8b(0x7e1)+_0x585acf[_0xb22e8b(0x1e0)]+_0xb22e8b(0x6bc),new m(_0x576dbc);let _0x333e01=await this[_0xb22e8b(0x78e)](_0x311e25,_0x13a943[_0xb22e8b(0x6f1)],_0xffa4fe['changeVariables']);if(_0x333e01){this[_0xb22e8b(0x50b)][_0xb22e8b(0x213)](this[_0xb22e8b(0x297)]+'\x20('+this[_0xb22e8b(0x1da)][_0xb22e8b(0x177)]+_0xb22e8b(0x5cb));let _0x3f9f66=await this[_0xb22e8b(0x64a)](_0x333e01);return _0x3f9f66&&await this[_0xb22e8b(0x7b7)](_0x333e01,_0x3f9f66),{'message':'Flow\x20iniciado\x20com\x20'+_0xffa4fe[_0xb22e8b(0x309)]};}}catch(_0xb7ca){if(this[_0xb22e8b(0x50b)]['error'](this[_0xb22e8b(0x297)]+'\x20('+this[_0xb22e8b(0x1da)]['wuid']+_0xb22e8b(0x69a)+(_0xb7ca instanceof Error?_0xb7ca['message']:JSON[_0xb22e8b(0x5ad)](_0xb7ca,null,0x2))),_0x576dbc=_0xb7ca instanceof Error?_0xb7ca['message']:JSON[_0xb22e8b(0x5ad)](_0xb7ca,null,0x2),_0x576dbc)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x576dbc);}}async[a0_0x43466e(0x7e7)](_0x50bfd4,_0x31bee0,_0x2f5a46){const _0x10f40a=a0_0x43466e;let _0x55f3f7=null;try{if(!this[_0x10f40a(0x295)]?.[_0x10f40a(0x768)][_0x10f40a(0x1eb)])throw new m(_0x10f40a(0x4a9));if(this[_0x10f40a(0x50b)][_0x10f40a(0x213)](this[_0x10f40a(0x297)]+'\x20('+this[_0x10f40a(0x1da)][_0x10f40a(0x177)]+_0x10f40a(0x4c5)),_0x31bee0){let _0x1caa8e=(await this[_0x10f40a(0x42f)]({'numbers':[_0x31bee0]}))[0x0];if(!_0x1caa8e[_0x10f40a(0x7cf)]&&!(0x0,w['isJidGroup'])(_0x1caa8e[_0x10f40a(0x6f1)])&&!_0x1caa8e[_0x10f40a(0x6f1)][_0x10f40a(0x592)]('@broadcast'))throw _0x55f3f7=JSON[_0x10f40a(0x5ad)](_0x1caa8e,null,0x2),new m(_0x1caa8e);_0x31bee0=_0x1caa8e[_0x10f40a(0x6f1)];}else _0x31bee0||(_0x31bee0=(0x0,Y['v4'])());let _0x423297=await this['repository'][_0x10f40a(0x35d)][_0x10f40a(0x41a)]({'where':{'_id':_0x50bfd4}});if(!_0x423297||!_0x423297[_0x10f40a(0x42b)]?.[_0x10f40a(0x592)](this[_0x10f40a(0x1da)][_0x10f40a(0x177)]))throw this['logger'][_0x10f40a(0x434)](this[_0x10f40a(0x297)]+'\x20('+this[_0x10f40a(0x1da)][_0x10f40a(0x177)]+_0x10f40a(0x71a)+_0x50bfd4+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x50bfd4+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x7ca5ec=await this[_0x10f40a(0x78e)](_0x423297,_0x31bee0,null);if(_0x7ca5ec){this[_0x10f40a(0x50b)][_0x10f40a(0x213)](this['instanceName']+'\x20('+this[_0x10f40a(0x1da)][_0x10f40a(0x177)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x11f99c;if(_0x2f5a46){let _0x500acf=_0x7ca5ec[_0x10f40a(0x17b)][_0x10f40a(0x544)],_0x6d4177=this[_0x10f40a(0x7f6)](_0x2f5a46);Object[_0x10f40a(0x1e5)](_0x500acf,_0x6d4177),_0x7ca5ec['chatLog'][_0x10f40a(0x544)]=_0x500acf,_0x11f99c={'error':!0x1,'apiResponse':_0x2f5a46};}let _0x54b61e=await this['NextBlock'](_0x7ca5ec);return _0x54b61e&&await this[_0x10f40a(0x7b7)](_0x7ca5ec,_0x54b61e),{'message':_0x10f40a(0x2cf)};}}catch(_0x11bbbb){if(this['logger'][_0x10f40a(0x434)](this[_0x10f40a(0x297)]+'\x20('+this[_0x10f40a(0x1da)][_0x10f40a(0x177)]+_0x10f40a(0x69a)+(_0x11bbbb instanceof Error?_0x11bbbb[_0x10f40a(0x416)]:JSON['stringify'](_0x11bbbb,null,0x2))),_0x55f3f7=_0x11bbbb instanceof Error?_0x11bbbb[_0x10f40a(0x416)]:JSON[_0x10f40a(0x5ad)](_0x11bbbb,null,0x2),_0x55f3f7)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x55f3f7);}}async[a0_0x43466e(0x897)](_0x24b69c){const _0x596305=a0_0x43466e;try{let _0xb18fb9={'remoteJid':_0x24b69c,'status':_0x596305(0x76d)},_0x100611={'status':'closed'},_0x2ec9dd=await this[_0x596305(0x302)][_0x596305(0x5ce)][_0x596305(0x389)](_0xb18fb9,_0x100611,this[_0x596305(0x1da)][_0x596305(0x177)]);return this[_0x596305(0x50b)]['verbose'](this[_0x596305(0x297)]+'\x20('+this[_0x596305(0x1da)][_0x596305(0x177)]+_0x596305(0x4b3)),_0x2ec9dd;}catch(_0x3e8c28){throw this[_0x596305(0x50b)][_0x596305(0x434)](this[_0x596305(0x297)]+'\x20('+this[_0x596305(0x1da)][_0x596305(0x177)]+_0x596305(0x4c1)+_0x3e8c28[_0x596305(0x416)]),_0x3e8c28;}}async['createConversationforStartFlow'](_0x2f8ef4,_0x1f4dd4,_0x43fdc6){const _0x78d767=a0_0x43466e;this[_0x78d767(0x50b)][_0x78d767(0x213)](this[_0x78d767(0x297)]+'\x20('+this['instance'][_0x78d767(0x177)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x1f4dd4);try{let _0x413af7=require(_0x78d767(0x4cd))[_0x78d767(0x850)],_0x2ea23b=Date['now'](),_0x56d0f9=_0x78d767(0x518),_0x509376={},_0x4db7df={},_0x3aa86a=this['AutomateSystem'][_0x78d767(0x674)][_0x78d767(0x6cf)](_0x1df094=>_0x1df094[_0x78d767(0x1e0)]===_0x2f8ef4[_0x78d767(0x1e0)]?.['toString']()),_0xe66178=_0x3aa86a?.[_0x78d767(0x86c)]??_0x2f8ef4[_0x78d767(0x86c)]??0x0,_0x47d0b8=_0x3aa86a?.[_0x78d767(0x3c3)]??_0x2f8ef4[_0x78d767(0x3c3)]??!0x1,_0x1188dc={'flowId':_0x2f8ef4[_0x78d767(0x1e0)],..._0x2f8ef4,'chatLog':null},_0x53fbfc=await this[_0x78d767(0x35b)](_0x1188dc[_0x78d767(0x88e)]),_0xf262a=await this[_0x78d767(0x53f)](_0x1f4dd4),_0x118a7f={..._0x53fbfc,..._0xf262a,'_remoteJid':_0x1f4dd4},_0x170ff3={'lastReceivedMessage':_0x509376,'lastSendMessage':_0x4db7df,'lastBlockId':_0x56d0f9,'lastCondition':!0x0,'realVariables':_0x118a7f};_0x1188dc[_0x78d767(0x17b)]=_0x170ff3,_0x1188dc[_0x78d767(0x17b)][_0x78d767(0x544)]={..._0x118a7f,..._0x43fdc6},delete _0x1188dc[_0x78d767(0x1e0)],_0x1188dc[_0x78d767(0x1e0)]=new _0x413af7(),_0x1188dc[_0x78d767(0x79d)]=_0x2ea23b,_0x1188dc['status']=_0x78d767(0x76d),_0x1188dc[_0x78d767(0x309)]=_0x1f4dd4,_0x1188dc[_0x78d767(0x86c)]=_0xe66178,_0x1188dc[_0x78d767(0x3c3)]=_0x47d0b8,_0x1188dc[_0x78d767(0x1e0)]=_0x2f8ef4[_0x78d767(0x1e0)];let _0x5c6f77=await this[_0x78d767(0x302)]['flowConversation'][_0x78d767(0x723)](_0x1188dc['_id'],_0x1188dc,this[_0x78d767(0x1da)][_0x78d767(0x177)]);return this['logger'][_0x78d767(0x213)](this[_0x78d767(0x297)]+'\x20('+this[_0x78d767(0x1da)]['wuid']+_0x78d767(0x13b)),_0x5c6f77?_0x1188dc:null;}catch(_0x24e636){let _0x5a3524=_0x78d767(0x587),_0x2e71e8=_0x24e636 instanceof Error?_0x24e636[_0x78d767(0x416)]:typeof _0x24e636=='object'?JSON[_0x78d767(0x5ad)](_0x24e636):_0x24e636,_0x44d829=_0x5a3524+':\x20'+_0x2e71e8;throw this['logger'][_0x78d767(0x434)](this[_0x78d767(0x297)]+'\x20('+this[_0x78d767(0x1da)][_0x78d767(0x177)]+_0x78d767(0x83b)+_0x44d829),new m(_0x44d829);}}async[a0_0x43466e(0x141)](_0x5a53e0){const _0x23b2bc=a0_0x43466e;try{this[_0x23b2bc(0x50b)][_0x23b2bc(0x213)](this[_0x23b2bc(0x297)]+'\x20('+this[_0x23b2bc(0x1da)][_0x23b2bc(0x177)]+_0x23b2bc(0x1b2)),this['logger'][_0x23b2bc(0x213)](this[_0x23b2bc(0x297)]+'\x20('+this[_0x23b2bc(0x1da)][_0x23b2bc(0x177)]+_0x23b2bc(0x3cb)+_0x5a53e0);let _0x2e6af0={'where':{'_id':_0x5a53e0}};return await this['repository'][_0x23b2bc(0x5ce)][_0x23b2bc(0x41a)](_0x2e6af0,this[_0x23b2bc(0x1da)]['wuid']);}catch(_0x1ac7a5){let _0x6e31ca=_0x23b2bc(0x1d1),_0x142dd2=_0x1ac7a5 instanceof Error?_0x1ac7a5[_0x23b2bc(0x416)]:typeof _0x1ac7a5==_0x23b2bc(0x6eb)?JSON[_0x23b2bc(0x5ad)](_0x1ac7a5):_0x1ac7a5,_0x3d0824=_0x6e31ca+':\x20'+_0x142dd2;throw this['logger'][_0x23b2bc(0x434)](this[_0x23b2bc(0x297)]+'\x20('+this[_0x23b2bc(0x1da)][_0x23b2bc(0x177)]+_0x23b2bc(0x83b)+_0x3d0824),new m(_0x3d0824);}}async['fetchConversation'](_0x4a2a53){const _0x17e69d=a0_0x43466e;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x17e69d(0x1da)][_0x17e69d(0x177)]+'):\x20Buscando\x20conversas...'),await this[_0x17e69d(0x302)][_0x17e69d(0x5ce)][_0x17e69d(0x6cf)](_0x4a2a53,this[_0x17e69d(0x1da)][_0x17e69d(0x177)]);}catch(_0x7e1ff1){let _0x550c27='Erro\x20ao\x20buscar\x20conversas',_0x3c89af=_0x7e1ff1 instanceof Error?_0x7e1ff1[_0x17e69d(0x416)]:typeof _0x7e1ff1==_0x17e69d(0x6eb)?JSON['stringify'](_0x7e1ff1):_0x7e1ff1,_0x226644=_0x550c27+':\x20'+_0x3c89af;throw this['logger'][_0x17e69d(0x434)](this['instanceName']+'\x20('+this[_0x17e69d(0x1da)][_0x17e69d(0x177)]+_0x17e69d(0x83b)+_0x226644),new m(_0x226644);}}async[a0_0x43466e(0x404)](_0x178a34){const _0x583bd1=a0_0x43466e;try{return this['logger']['verbose'](this[_0x583bd1(0x297)]+'\x20('+this[_0x583bd1(0x1da)][_0x583bd1(0x177)]+'):\x20Deletando\x20conversa...'),this[_0x583bd1(0x50b)][_0x583bd1(0x213)](this[_0x583bd1(0x297)]+'\x20('+this[_0x583bd1(0x1da)]['wuid']+'):\x20Query\x20params:'+_0x178a34),(await this[_0x583bd1(0x302)]['flowConversation'][_0x583bd1(0x31e)]({'where':{'_id':_0x178a34['_id']}},this[_0x583bd1(0x1da)]['wuid']))[_0x583bd1(0x469)]===0x0?{'message':_0x583bd1(0x3fd)}:{'message':_0x583bd1(0x18c)};}catch(_0x331df3){let _0x5ea377=_0x583bd1(0x21d),_0x725895=_0x331df3 instanceof Error?_0x331df3[_0x583bd1(0x416)]:typeof _0x331df3==_0x583bd1(0x6eb)?JSON[_0x583bd1(0x5ad)](_0x331df3):_0x331df3,_0x28a21e=_0x5ea377+':\x20'+_0x725895;throw this[_0x583bd1(0x50b)]['error'](this[_0x583bd1(0x297)]+'\x20('+this[_0x583bd1(0x1da)]['wuid']+_0x583bd1(0x83b)+_0x28a21e),new m(_0x28a21e);}}async[a0_0x43466e(0x77d)](_0x53e745){const _0x56fcdc=a0_0x43466e;try{let {_id:_0x2cbcc6,chatLog:_0x295eb9,status:_0x245f5c}=_0x53e745;if(!_0x2cbcc6)return{'message':_0x56fcdc(0x645)};let _0xf78d45={};if(_0x245f5c!==void 0x0&&(_0xf78d45[_0x56fcdc(0x405)]=_0x245f5c),Object[_0x56fcdc(0x73e)](_0xf78d45)[_0x56fcdc(0x695)]===0x0)return{'message':_0x56fcdc(0x7f5)};let _0x531c39=await this[_0x56fcdc(0x302)][_0x56fcdc(0x5ce)]['updateOne'](_0x2cbcc6,_0xf78d45,this[_0x56fcdc(0x1da)][_0x56fcdc(0x177)]);return _0x531c39||{'message':_0x56fcdc(0x7e6)};}catch(_0x392dcf){let _0x20ffd6=_0x56fcdc(0x4ff),_0x4f3001=_0x392dcf instanceof Error?_0x392dcf[_0x56fcdc(0x416)]:typeof _0x392dcf==_0x56fcdc(0x6eb)?JSON[_0x56fcdc(0x5ad)](_0x392dcf):_0x392dcf,_0x1d5e55=_0x20ffd6+':\x20'+_0x4f3001;throw this[_0x56fcdc(0x50b)]['error'](this[_0x56fcdc(0x297)]+'\x20('+this[_0x56fcdc(0x1da)][_0x56fcdc(0x177)]+_0x56fcdc(0x83b)+_0x1d5e55),new m(_0x1d5e55);}}async[a0_0x43466e(0x4ca)](_0x138a86){const _0x3c3f7b=a0_0x43466e;try{_0x138a86['_id']=this[_0x3c3f7b(0x443)](_0x138a86['_id']);let _0x39d045=await this[_0x3c3f7b(0x302)][_0x3c3f7b(0x628)][_0x3c3f7b(0x41a)]({'where':{'_id':_0x138a86['_id']}},this[_0x3c3f7b(0x1da)][_0x3c3f7b(0x177)]);if(!_0x39d045)throw new m(_0x3c3f7b(0x693));let {_id:_0x138f87,leadInfo:_0x171df6}=_0x138a86;if(!_0x138f87)throw new Error(_0x3c3f7b(0x2b4));if(_0x138a86[_0x3c3f7b(0x274)]===_0x3c3f7b(0x859))return await this['deleteChat'](_0x138a86[_0x3c3f7b(0x1e0)]),await this[_0x3c3f7b(0x302)][_0x3c3f7b(0x628)][_0x3c3f7b(0x274)]({'where':{'_id':_0x138a86[_0x3c3f7b(0x1e0)]}},this[_0x3c3f7b(0x1da)][_0x3c3f7b(0x177)]),await this[_0x3c3f7b(0x302)][_0x3c3f7b(0x416)][_0x3c3f7b(0x274)]({'where':{'key':{'remoteJid':_0x138a86[_0x3c3f7b(0x1e0)]}}},this[_0x3c3f7b(0x1da)]['wuid']),_0x138a86=await this[_0x3c3f7b(0x302)][_0x3c3f7b(0x628)][_0x3c3f7b(0x723)]({'where':{'_id':_0x138a86[_0x3c3f7b(0x1e0)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3c3f7b(0x177)]),F(this[_0x3c3f7b(0x297)],_0x3c3f7b(0x462),{'chat':_0x138a86}),{'message':_0x3c3f7b(0x2b7)};if(_0x138a86[_0x3c3f7b(0x274)]===_0x3c3f7b(0x22a))return await this[_0x3c3f7b(0x302)]['message']['delete']({'where':{'key':{'remoteJid':_0x138a86[_0x3c3f7b(0x1e0)]}}},this[_0x3c3f7b(0x1da)]['wuid']),_0x138a86=await this[_0x3c3f7b(0x302)][_0x3c3f7b(0x628)][_0x3c3f7b(0x723)]({'where':{'_id':_0x138a86['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3c3f7b(0x177)]),F(this[_0x3c3f7b(0x297)],'chats',{'chat':_0x138a86}),{'message':_0x3c3f7b(0x2b8)};let _0x45fbab=(_0xa2e830,_0x4c0a9f,_0x4e2245)=>{const _0x1e2abc=_0x3c3f7b;_0xa2e830&&_0x4e2245[_0x1e2abc(0x663)](_0xe126a6=>{const _0x1bc3ee=_0x1e2abc;_0xa2e830[_0xe126a6]!==void 0x0&&(_0x4c0a9f[_0x1bc3ee(0x387)+_0xe126a6]=_0xa2e830[_0xe126a6]);});},_0x4bd517={};if(_0x3c3f7b(0x4e1)in _0x138a86&&(this[_0x3c3f7b(0x50b)][_0x3c3f7b(0x213)](this[_0x3c3f7b(0x297)]+'\x20('+this['instance'][_0x3c3f7b(0x177)]+_0x3c3f7b(0x160)+_0x138a86[_0x3c3f7b(0x1e0)]),_0x138a86['muteEndTime']=_0x138a86[_0x3c3f7b(0x4e1)]===0x0?null:-0x1,await this['client']['chatModify']({'mute':_0x138a86[_0x3c3f7b(0x4e1)]},_0x138a86[_0x3c3f7b(0x1e0)]),_0x4bd517[_0x3c3f7b(0x4e1)]=Number(_0x138a86[_0x3c3f7b(0x4e1)])),_0x171df6&&(_0x45fbab(_0x171df6,_0x4bd517,['nome',_0x3c3f7b(0x7d5),_0x3c3f7b(0x263),_0x3c3f7b(0x470),_0x3c3f7b(0x405),_0x3c3f7b(0x3e2),'tags','atendimentoAberto',_0x3c3f7b(0x73c),'etiquetas',_0x3c3f7b(0x226)]),Array[_0x3c3f7b(0x6c7)](_0x171df6['customFields'])&&(_0x4bd517[_0x3c3f7b(0x2aa)]=_0x171df6[_0x3c3f7b(0x5ee)][_0x3c3f7b(0x614)](_0x41296d=>({'_id':_0x41296d['_id'],'value':_0x41296d[_0x3c3f7b(0x61e)]}))),_0x138a86[_0x3c3f7b(0x830)]['etiquetas']!==void 0x0)){let _0x264fe8=await this['repository'][_0x3c3f7b(0x40f)][_0x3c3f7b(0x6cf)]({'where':{}},this[_0x3c3f7b(0x1da)][_0x3c3f7b(0x177)]),_0x571c2b=new Set(_0x138a86[_0x3c3f7b(0x830)][_0x3c3f7b(0x1f0)]||[]),_0x4ce5ef=new Set(_0x138a86[_0x3c3f7b(0x830)][_0x3c3f7b(0x1f0)]),_0x267bb7=new Set(_0x264fe8[_0x3c3f7b(0x614)](_0xfdc9f1=>_0xfdc9f1['_id'])),_0x52ed46=[..._0x4ce5ef][_0x3c3f7b(0x71f)](_0xf491e6=>!_0x571c2b[_0x3c3f7b(0x59e)](_0xf491e6)&&_0x267bb7[_0x3c3f7b(0x59e)](_0xf491e6)),_0x194a01=[..._0x571c2b]['filter'](_0x8c0e12=>!_0x4ce5ef[_0x3c3f7b(0x59e)](_0x8c0e12));if(_0x4bd517[_0x3c3f7b(0x292)]=[..._0x571c2b],_0x39d045&&!_0x39d045[_0x3c3f7b(0x275)]){for(let _0x2a520f of _0x52ed46)await this['AddChatLabel'](_0x2a520f,_0x138a86['_id']),_0x571c2b[_0x3c3f7b(0x574)](_0x2a520f);for(let _0xc93b66 of _0x194a01)await this[_0x3c3f7b(0x516)](_0xc93b66,_0x138a86[_0x3c3f7b(0x1e0)]),_0x571c2b[_0x3c3f7b(0x274)](_0xc93b66);}}if(_0x138a86[_0x3c3f7b(0x7b5)]!==void 0x0&&(_0x4bd517[_0x3c3f7b(0x7b5)]=Number(_0x138a86[_0x3c3f7b(0x7b5)])),Object[_0x3c3f7b(0x73e)](_0x4bd517)[_0x3c3f7b(0x695)]===0x0)throw new Error(_0x3c3f7b(0x7f5));let _0x3def41=await this[_0x3c3f7b(0x302)]['chat']['updateOne']({'where':{'_id':_0x138a86[_0x3c3f7b(0x1e0)]}},_0x4bd517,this[_0x3c3f7b(0x1da)]['wuid']);return _0x3def41&&F(this['instanceName'],_0x3c3f7b(0x462),{'chat':_0x3def41}),_0x3def41?(this[_0x3c3f7b(0x50b)]['verbose'](this['instanceName']+'\x20('+this[_0x3c3f7b(0x1da)][_0x3c3f7b(0x177)]+_0x3c3f7b(0x83b)+JSON[_0x3c3f7b(0x5ad)](_0x3def41,null,0x2)),_0x3def41):{'message':_0x3c3f7b(0x2d0)};}catch(_0x3ecca2){let _0xb4d3de=_0x3c3f7b(0x150),_0x1d57e8=_0x3ecca2 instanceof Error?_0x3ecca2[_0x3c3f7b(0x416)]:typeof _0x3ecca2==_0x3c3f7b(0x6eb)?JSON[_0x3c3f7b(0x5ad)](_0x3ecca2):_0x3ecca2,_0x5dce0a=_0xb4d3de+':\x20'+_0x1d57e8;throw this[_0x3c3f7b(0x50b)][_0x3c3f7b(0x434)](this[_0x3c3f7b(0x297)]+'\x20('+this[_0x3c3f7b(0x1da)][_0x3c3f7b(0x177)]+'):\x20'+_0x5dce0a),new m(_0x5dce0a);}}async[a0_0x43466e(0x55d)](_0x95f4c7,_0x19c3a7){const _0x5c0771=a0_0x43466e;try{await this[_0x5c0771(0x1a2)][_0x5c0771(0x468)](_0x19c3a7,_0x95f4c7),this[_0x5c0771(0x50b)][_0x5c0771(0x4d3)](this['instanceName']+'\x20('+this[_0x5c0771(0x1da)][_0x5c0771(0x177)]+'):\x20Label\x20'+_0x95f4c7+'\x20adicionado\x20ao\x20chat\x20'+_0x19c3a7+_0x5c0771(0x7ca));}catch(_0x142ca0){this[_0x5c0771(0x50b)][_0x5c0771(0x434)](_0x5c0771(0x330)+_0x95f4c7+'\x20ao\x20chat\x20'+_0x19c3a7+':\x20'+_0x142ca0);}}async[a0_0x43466e(0x516)](_0x3b84ff,_0x4944f4){const _0x56046b=a0_0x43466e;try{await this[_0x56046b(0x1a2)][_0x56046b(0x221)](_0x4944f4,_0x3b84ff),this[_0x56046b(0x50b)][_0x56046b(0x4d3)](this['instanceName']+'\x20('+this[_0x56046b(0x1da)][_0x56046b(0x177)]+_0x56046b(0x2f3)+_0x3b84ff+_0x56046b(0x433)+_0x4944f4+_0x56046b(0x7ca));}catch(_0x24cd7c){this['logger']['error'](_0x56046b(0x45b)+_0x3b84ff+_0x56046b(0x1fa)+_0x4944f4+':\x20'+_0x24cd7c);}}async[a0_0x43466e(0x728)](_0x731574){const _0x46b584=a0_0x43466e;try{let _0x22fc5e=await this[_0x46b584(0x302)][_0x46b584(0x2fb)][_0x46b584(0x430)](this[_0x46b584(0x1da)][_0x46b584(0x177)]),_0x1dff65=_0x731574['_id']?_0x22fc5e[_0x46b584(0x5a4)]['findIndex'](_0xb13b6f=>_0xb13b6f[_0x46b584(0x1e0)]===_0x731574[_0x46b584(0x1e0)]):-0x1;if(_0x731574[_0x46b584(0x274)]&&_0x1dff65>-0x1)_0x22fc5e['agents'][_0x46b584(0x3c2)](_0x1dff65,0x1);else{if(_0x1dff65>-0x1){let _0x4639c6=_0x22fc5e[_0x46b584(0x5a4)][_0x1dff65];_0x731574['fone']&&(_0x4639c6[_0x46b584(0x36e)]=_0x731574[_0x46b584(0x36e)]),_0x731574[_0x46b584(0x5c3)]&&(_0x4639c6[_0x46b584(0x5c3)]=_0x731574[_0x46b584(0x5c3)]),_0x731574[_0x46b584(0x263)]&&(_0x4639c6[_0x46b584(0x263)]=_0x731574[_0x46b584(0x263)]),_0x731574[_0x46b584(0x17a)]&&(_0x4639c6[_0x46b584(0x17a)]=_0x731574[_0x46b584(0x17a)]);}else _0x22fc5e[_0x46b584(0x5a4)]['push']({'_id':_0x731574['_id']||new ge['default'][(_0x46b584(0x4b5))]['ObjectId']()['toString'](),'fone':_0x731574[_0x46b584(0x36e)],'name':_0x731574[_0x46b584(0x5c3)],'email':_0x731574[_0x46b584(0x263)],'role':_0x731574['role']});}let _0x543826={'agents':_0x22fc5e[_0x46b584(0x5a4)]},_0xdd8b06=await this['repository']['automateSystem'][_0x46b584(0x211)](_0x543826,this[_0x46b584(0x1da)][_0x46b584(0x177)]);return this['AutomateSystem']=_0xdd8b06,this[_0x46b584(0x50b)]['verbose'](this['instanceName']+'\x20('+this[_0x46b584(0x1da)][_0x46b584(0x177)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x46b584(0x50b)][_0x46b584(0x213)](this[_0x46b584(0x297)]+'\x20('+this[_0x46b584(0x1da)][_0x46b584(0x177)]+_0x46b584(0x83b)+this[_0x46b584(0x295)]),_0xdd8b06;}catch(_0x1d0be4){let _0x19c85f='Erro\x20ao\x20editar\x20agentes',_0xd5e9ac=_0x1d0be4 instanceof Error?_0x1d0be4[_0x46b584(0x416)]:typeof _0x1d0be4==_0x46b584(0x6eb)?JSON[_0x46b584(0x5ad)](_0x1d0be4):_0x1d0be4,_0x4a5c2d=_0x19c85f+':\x20'+_0xd5e9ac;throw this[_0x46b584(0x50b)][_0x46b584(0x434)](this['instanceName']+'\x20('+this[_0x46b584(0x1da)][_0x46b584(0x177)]+_0x46b584(0x83b)+_0x4a5c2d),new m(_0x4a5c2d);}}async[a0_0x43466e(0x4c0)](_0x3c6d45){const _0x49d707=a0_0x43466e;try{let _0x36af95=await this[_0x49d707(0x302)][_0x49d707(0x2fb)][_0x49d707(0x430)](this['instance'][_0x49d707(0x177)]),_0x4a4f73=_0x3c6d45['_id']?_0x36af95['customFields']['findIndex'](_0x49120a=>_0x49120a[_0x49d707(0x1e0)]===_0x3c6d45[_0x49d707(0x1e0)]):-0x1,_0x13e335=!0x1,_0xd0114=_0x36af95[_0x49d707(0x5ee)][_0x49d707(0x541)](_0x4976e2=>_0x4976e2[_0x49d707(0x398)]===_0x3c6d45[_0x49d707(0x398)]);if(_0x3c6d45[_0x49d707(0x274)]&&_0x4a4f73>-0x1)_0x36af95[_0x49d707(0x5ee)][_0x49d707(0x3c2)](_0x4a4f73,0x1),_0x13e335=!0x0;else{if(_0x4a4f73>-0x1){if(_0x36af95['customFields'][_0x49d707(0x541)](_0x17e5eb=>_0x17e5eb['name']===_0x3c6d45[_0x49d707(0x5c3)]&&_0x17e5eb[_0x49d707(0x1e0)]!==_0x3c6d45[_0x49d707(0x1e0)]))throw new Error(_0x49d707(0x44f));let _0x2b7ed7=_0x36af95['customFields'][_0x4a4f73];_0x3c6d45[_0x49d707(0x398)]&&(_0xd0114||!Number[_0x49d707(0x327)](_0x3c6d45[_0x49d707(0x398)]))&&(_0x2b7ed7['order']=_0x3c6d45['order'],_0x13e335=!0x0),_0x3c6d45['name']&&(_0x2b7ed7[_0x49d707(0x5c3)]=_0x3c6d45['name']);}else{if(_0x36af95[_0x49d707(0x5ee)][_0x49d707(0x541)](_0x3e9440=>_0x3e9440[_0x49d707(0x5c3)]===_0x3c6d45[_0x49d707(0x5c3)]&&_0x3e9440[_0x49d707(0x1e0)]!==_0x3c6d45[_0x49d707(0x1e0)]))throw new Error(_0x49d707(0x44f));_0x36af95[_0x49d707(0x5ee)]['push']({'_id':_0x3c6d45['_id']||new ge['default']['Types'][(_0x49d707(0x850))]()[_0x49d707(0x880)](),'order':_0x3c6d45[_0x49d707(0x398)],'name':_0x3c6d45[_0x49d707(0x5c3)]}),_0x13e335=!0x0;}}if(_0x13e335){_0x36af95['customFields']['sort']((_0x3751ab,_0x13730a)=>_0x3751ab[_0x49d707(0x398)]>_0x13730a['order']?0x1:_0x13730a[_0x49d707(0x398)]>_0x3751ab['order']?-0x1:0x0);for(let _0xf71b93=0x0;_0xf71b93<_0x36af95[_0x49d707(0x5ee)][_0x49d707(0x695)];_0xf71b93++)_0x36af95['customFields'][_0xf71b93][_0x49d707(0x398)]=_0xf71b93+0x1;}let _0x2cb4aa=await this[_0x49d707(0x302)][_0x49d707(0x2fb)][_0x49d707(0x211)](_0x36af95,this[_0x49d707(0x1da)][_0x49d707(0x177)]);return this[_0x49d707(0x295)]=_0x2cb4aa,this[_0x49d707(0x50b)][_0x49d707(0x213)](this['instanceName']+'\x20('+this[_0x49d707(0x1da)][_0x49d707(0x177)]+_0x49d707(0x3a0)),this['logger'][_0x49d707(0x213)](this[_0x49d707(0x297)]+'\x20('+this[_0x49d707(0x1da)][_0x49d707(0x177)]+_0x49d707(0x83b)+this[_0x49d707(0x295)]),_0x2cb4aa;}catch(_0x1fef5d){let _0x416c3f=_0x49d707(0x39d),_0x6f7873=_0x1fef5d instanceof Error?_0x1fef5d[_0x49d707(0x416)]:typeof _0x1fef5d==_0x49d707(0x6eb)?JSON['stringify'](_0x1fef5d):_0x1fef5d,_0x5a2b73=_0x416c3f+':\x20'+_0x6f7873;throw this[_0x49d707(0x50b)][_0x49d707(0x434)](this[_0x49d707(0x297)]+'\x20('+this[_0x49d707(0x1da)]['wuid']+_0x49d707(0x83b)+_0x5a2b73),new m(_0x5a2b73);}}async[a0_0x43466e(0x3e4)](_0x3a2f44){const _0x27b075=a0_0x43466e;try{let _0xdf05=await this[_0x27b075(0x302)][_0x27b075(0x2fb)][_0x27b075(0x430)](this['instance']['wuid']),_0x53054f=_0xdf05?.[_0x27b075(0x402)]?.[_0x27b075(0x5c2)](_0x16be7e=>_0x16be7e[_0x27b075(0x1e0)]===_0x3a2f44?.[_0x27b075(0x1e0)]);if(_0x3a2f44?.[_0x27b075(0x274)])_0x53054f>-0x1&&_0xdf05?.[_0x27b075(0x402)]?.[_0x27b075(0x3c2)](_0x53054f,0x1);else{if(_0x53054f>-0x1){let _0xb36a0e=_0xdf05[_0x27b075(0x402)][_0x53054f];_0xb36a0e['order']=_0x3a2f44?.[_0x27b075(0x398)]||_0xb36a0e[_0x27b075(0x398)],_0xb36a0e[_0x27b075(0x3d7)]=_0x3a2f44?.[_0x27b075(0x3d7)]||_0xb36a0e['command'],_0xb36a0e[_0x27b075(0x416)]=_0x3a2f44?.[_0x27b075(0x416)]||_0xb36a0e[_0x27b075(0x416)];}else{let _0xbb9e6a={'_id':_0x3a2f44?.[_0x27b075(0x1e0)]||new ge[(_0x27b075(0x56d))][(_0x27b075(0x4b5))][(_0x27b075(0x850))]()[_0x27b075(0x880)](),'order':_0x3a2f44?.[_0x27b075(0x398)],'command':_0x3a2f44?.[_0x27b075(0x3d7)],'message':_0x3a2f44?.[_0x27b075(0x416)]};_0xdf05?.[_0x27b075(0x402)]?.[_0x27b075(0x7ef)](_0xbb9e6a);}}_0xdf05?.[_0x27b075(0x402)]?.[_0x27b075(0x6df)]((_0x3b8071,_0x34eb63)=>_0x3b8071['order']-_0x34eb63[_0x27b075(0x398)]);let _0x28ec93=await this[_0x27b075(0x302)]['automateSystem'][_0x27b075(0x211)](_0xdf05,this[_0x27b075(0x1da)]['wuid']);return this[_0x27b075(0x295)]=_0x28ec93,this[_0x27b075(0x50b)]['verbose'](this[_0x27b075(0x297)]+'\x20('+this['instance'][_0x27b075(0x177)]+_0x27b075(0x3a0)),_0x28ec93;}catch(_0x2dd4ea){let _0x4d786d=_0x27b075(0x6af),_0x58377d=_0x2dd4ea instanceof Error?_0x2dd4ea[_0x27b075(0x416)]:typeof _0x2dd4ea==_0x27b075(0x6eb)?JSON[_0x27b075(0x5ad)](_0x2dd4ea):_0x2dd4ea,_0x4db0b8=_0x4d786d+':\x20'+_0x58377d;throw this['logger'][_0x27b075(0x434)](this[_0x27b075(0x297)]+'\x20('+this[_0x27b075(0x1da)][_0x27b075(0x177)]+_0x27b075(0x83b)+_0x4db0b8),new m(_0x4db0b8);}}async[a0_0x43466e(0x6d2)](_0x5bd4fa){const _0x4b8f5d=a0_0x43466e;try{let _0x301c71=await this[_0x4b8f5d(0x302)][_0x4b8f5d(0x2fb)][_0x4b8f5d(0x430)](this['instance'][_0x4b8f5d(0x177)]);if(!_0x301c71)throw new Error(_0x4b8f5d(0x71b));let _0x4dcacf={'_id':_0x301c71[_0x4b8f5d(0x1e0)],'flowConfig':{'enabled':_0x5bd4fa['enabled']??_0x301c71[_0x4b8f5d(0x768)][_0x4b8f5d(0x1eb)],'ignoreGroups':_0x5bd4fa[_0x4b8f5d(0x715)]??_0x301c71[_0x4b8f5d(0x768)][_0x4b8f5d(0x715)],'stopConversation':_0x5bd4fa[_0x4b8f5d(0x1f6)][_0x4b8f5d(0x630)]()??_0x301c71[_0x4b8f5d(0x768)]['stopConversation'][_0x4b8f5d(0x630)](),'stopMinutes':_0x5bd4fa['stopMinutes']??_0x301c71[_0x4b8f5d(0x768)]['stopMinutes'],'stopWhenYouSendMsg':_0x5bd4fa[_0x4b8f5d(0x656)]??_0x301c71[_0x4b8f5d(0x768)]['stopWhenYouSendMsg']}},_0x272236=await this['repository']['automateSystem'][_0x4b8f5d(0x211)](_0x4dcacf,this['instance'][_0x4b8f5d(0x177)]);return this[_0x4b8f5d(0x295)]=_0x272236,this['logger']['verbose'](this[_0x4b8f5d(0x297)]+'\x20('+this['instance'][_0x4b8f5d(0x177)]+_0x4b8f5d(0x85f)),this[_0x4b8f5d(0x50b)][_0x4b8f5d(0x213)](this[_0x4b8f5d(0x297)]+'\x20('+this[_0x4b8f5d(0x1da)][_0x4b8f5d(0x177)]+_0x4b8f5d(0x83b)+this[_0x4b8f5d(0x295)]),setTimeout(()=>this[_0x4b8f5d(0x579)](),0x7d0),_0x272236;}catch(_0x398a3c){let _0x63ce9f=_0x4b8f5d(0x334),_0xb287e2=_0x398a3c instanceof Error?_0x398a3c[_0x4b8f5d(0x416)]:typeof _0x398a3c==_0x4b8f5d(0x6eb)?JSON[_0x4b8f5d(0x5ad)](_0x398a3c):_0x398a3c,_0x41b65c=_0x63ce9f+':\x20'+_0xb287e2;throw this[_0x4b8f5d(0x50b)][_0x4b8f5d(0x434)](this[_0x4b8f5d(0x297)]+'\x20('+this['instance'][_0x4b8f5d(0x177)]+'):\x20'+_0x41b65c),new m(_0x41b65c);}}async[a0_0x43466e(0x868)](){const _0x545aa7=a0_0x43466e;try{let _0xfc5487=await this[_0x545aa7(0x302)][_0x545aa7(0x2fb)][_0x545aa7(0x430)](this[_0x545aa7(0x1da)]['wuid']);return this[_0x545aa7(0x295)]=_0xfc5487,_0xfc5487;}catch(_0x31e8fb){let _0x54ad4d='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x3698e2=_0x31e8fb instanceof Error?_0x31e8fb[_0x545aa7(0x416)]:typeof _0x31e8fb=='object'?JSON[_0x545aa7(0x5ad)](_0x31e8fb):_0x31e8fb,_0x9ae271=_0x54ad4d+':\x20'+_0x3698e2;throw this[_0x545aa7(0x50b)]['error'](this[_0x545aa7(0x297)]+'\x20('+this['instance']['wuid']+_0x545aa7(0x83b)+_0x9ae271),new m(_0x9ae271);}}async['initializeQueue'](){const _0x4ee360=a0_0x43466e;let _0x1b82c3=(await import('p-queue'))['default'];this[_0x4ee360(0x199)]=new _0x1b82c3({'concurrency':0x1});}async[a0_0x43466e(0x6a9)](){const _0x4abb94=a0_0x43466e;this['instance'][_0x4abb94(0x385)]['timeout']&&clearTimeout(this['instance']['ScheduleMessage'][_0x4abb94(0x6c6)]),this['instance'][_0x4abb94(0x385)][_0x4abb94(0x6c6)]=setTimeout(()=>{const _0x2c8490=_0x4abb94;this[_0x2c8490(0x144)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x43466e(0x144)](){const _0x4478b3=a0_0x43466e;let _0x4770e1=this[_0x4478b3(0x1da)][_0x4478b3(0x385)][_0x4478b3(0x70b)];(_0x4770e1===0x0||_0x4770e1===null||Date[_0x4478b3(0x24f)]()-_0x4770e1>=0x1d4c0)&&(this['logger'][_0x4478b3(0x213)](this['instanceName']+'\x20('+this[_0x4478b3(0x1da)][_0x4478b3(0x177)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['instance'][_0x4478b3(0x385)][_0x4478b3(0x7b8)]=null,this[_0x4478b3(0x1da)][_0x4478b3(0x385)]['lastSend']=0x0,this[_0x4478b3(0x1da)][_0x4478b3(0x385)][_0x4478b3(0x258)]=0x0,await this[_0x4478b3(0x579)]());}async[a0_0x43466e(0x579)](){const _0x3a3b71=a0_0x43466e;this[_0x3a3b71(0x50b)][_0x3a3b71(0x677)](this['instanceName']+'\x20('+this[_0x3a3b71(0x1da)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x3a3b71(0x505)]();let _0x2589bd=await this['getReadyToSendMessages']();_0x2589bd[_0x3a3b71(0x695)]>0x0&&(setTimeout(()=>this[_0x3a3b71(0x144)](),0x14*0x3e8),this[_0x3a3b71(0x50b)][_0x3a3b71(0x677)](this[_0x3a3b71(0x297)]+'\x20('+this['instance'][_0x3a3b71(0x177)]+_0x3a3b71(0x1ac)),this[_0x3a3b71(0x199)][_0x3a3b71(0x809)](),this[_0x3a3b71(0x199)][_0x3a3b71(0x574)](()=>this[_0x3a3b71(0x3b2)](_0x2589bd)));let _0x6fb2ea={'where':{'status':'scheduled','when':{'$gt':Date[_0x3a3b71(0x24f)]()}}},_0x55e542=await this[_0x3a3b71(0x302)][_0x3a3b71(0x794)]['findOne'](_0x6fb2ea,this[_0x3a3b71(0x1da)][_0x3a3b71(0x177)]);_0x55e542&&_0x55e542[_0x3a3b71(0x135)]-Date[_0x3a3b71(0x24f)]()<=0x6ddd00?this[_0x3a3b71(0x1da)]['ScheduleMessage'][_0x3a3b71(0x258)]=_0x55e542[_0x3a3b71(0x135)]-Date[_0x3a3b71(0x24f)]():this['instance'][_0x3a3b71(0x385)][_0x3a3b71(0x258)]=(0x3c+Math[_0x3a3b71(0x27d)](Math[_0x3a3b71(0x68a)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x3a3b71(0x385)]['delayMessage']=Math[_0x3a3b71(0x3af)](this[_0x3a3b71(0x1da)][_0x3a3b71(0x385)][_0x3a3b71(0x258)],0x1*0x2*0x3e8);let _0x7dec62=Math[_0x3a3b71(0x50e)](this[_0x3a3b71(0x1da)][_0x3a3b71(0x385)][_0x3a3b71(0x258)]/0xea60);if(_0x55e542){let _0x4c94c2=new Date(_0x55e542['when'])['toLocaleString']();this[_0x3a3b71(0x50b)]['warn'](this[_0x3a3b71(0x297)]+'\x20('+this[_0x3a3b71(0x1da)]['wuid']+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x4c94c2+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x7dec62+_0x3a3b71(0x2ea));}else this[_0x3a3b71(0x50b)][_0x3a3b71(0x677)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x7dec62+_0x3a3b71(0x2ea));setTimeout(()=>{const _0xfed4c2=_0x3a3b71;this[_0xfed4c2(0x579)]();},this[_0x3a3b71(0x1da)][_0x3a3b71(0x385)]['delayMessage']);}async[a0_0x43466e(0x83a)](){const _0x19ffd4=a0_0x43466e;this[_0x19ffd4(0x50b)][_0x19ffd4(0x677)](this[_0x19ffd4(0x297)]+'\x20('+this[_0x19ffd4(0x1da)][_0x19ffd4(0x177)]+_0x19ffd4(0x81f));let _0x26e3e9=Date[_0x19ffd4(0x24f)]()-0xc*0x3c*0x3c*0x3e8,_0x36bb94={'where':{'status':{'$in':[_0x19ffd4(0x3f2),_0x19ffd4(0x1ae)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x26e3e9}},{'when':0x0}]}},_0x1a731d=await this[_0x19ffd4(0x302)]['scheduleMessage']['find'](_0x36bb94,this[_0x19ffd4(0x1da)]['wuid']);return this[_0x19ffd4(0x50b)][_0x19ffd4(0x677)](this['instanceName']+'\x20('+this[_0x19ffd4(0x1da)][_0x19ffd4(0x177)]+_0x19ffd4(0x51c)+_0x1a731d['length']),_0x1a731d;}async[a0_0x43466e(0x3b2)](_0x33a30c){const _0x4defa9=a0_0x43466e;this['logger'][_0x4defa9(0x677)](this[_0x4defa9(0x297)]+'\x20('+this['instance'][_0x4defa9(0x177)]+_0x4defa9(0x2c1));let _0x3bbf62=0x3*0x3e8,_0x43932f=0x8*0x3e8,_0x3c0a7=Math['floor'](Math[_0x4defa9(0x68a)]()*(_0x43932f-_0x3bbf62+0x1))+_0x3bbf62,_0x286e8d=()=>this[_0x4defa9(0x699)][_0x4defa9(0x695)]===0x0?null:this[_0x4defa9(0x699)][_0x4defa9(0x1ca)]((_0x1ffc68,_0x44158d)=>(_0x1ffc68[_0x4defa9(0x398)]??Number[_0x4defa9(0x5b0)])<(_0x44158d[_0x4defa9(0x398)]??Number['MAX_SAFE_INTEGER'])?_0x1ffc68:_0x44158d,this[_0x4defa9(0x699)][0x0]);_0x33a30c=await this['getReadyToSendMessages']();for(let _0x1b1fce of _0x33a30c){await this['setRestartTimeout']();let _0x4c0223=0x3*0x3e8,_0x3c5438={'_id':_0x1b1fce[_0x4defa9(0x1e0)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4defa9(0x24f)]()-_0x4c0223}}]},_0x4f3007={'startSend':Date[_0x4defa9(0x24f)](),'status':_0x4defa9(0x1ae)},_0x46ccc4=await this[_0x4defa9(0x302)][_0x4defa9(0x794)][_0x4defa9(0x723)](_0x3c5438,_0x4f3007,this[_0x4defa9(0x1da)]['wuid']);if(this[_0x4defa9(0x699)]=_0x46ccc4[_0x4defa9(0x22a)][_0x4defa9(0x71f)](_0xfbf010=>!_0xfbf010[_0x4defa9(0x763)]),!_0x46ccc4){setTimeout(()=>this[_0x4defa9(0x144)](),0xa*0x3e8);continue;}if(this[_0x4defa9(0x1da)][_0x4defa9(0x385)][_0x4defa9(0x7b8)]=_0x46ccc4,!this[_0x4defa9(0x1da)][_0x4defa9(0x385)][_0x4defa9(0x782)]){this[_0x4defa9(0x50b)][_0x4defa9(0x677)](this[_0x4defa9(0x297)]+'\x20('+this['instance'][_0x4defa9(0x177)]+_0x4defa9(0x7b3));break;}for(;this[_0x4defa9(0x699)][_0x4defa9(0x695)]>0x0;){await this[_0x4defa9(0x6a9)]();let _0x34a786=_0x286e8d();if(!_0x34a786)break;let _0x3f25a8=_0x1b1fce[_0x4defa9(0x22a)][_0x4defa9(0x6cf)](_0x414551=>_0x414551[_0x4defa9(0x1e0)]===_0x34a786['_id']);if(!_0x3f25a8)break;if(this[_0x4defa9(0x1da)][_0x4defa9(0x385)]['lastSend']=Date['now'](),_0x3f25a8[_0x4defa9(0x763)]){this[_0x4defa9(0x50b)][_0x4defa9(0x677)](this[_0x4defa9(0x297)]+'\x20('+this['instance'][_0x4defa9(0x177)]+_0x4defa9(0x300)+_0x3f25a8[_0x4defa9(0x309)]+_0x4defa9(0x511)),this['pendingMessages']=this[_0x4defa9(0x699)][_0x4defa9(0x71f)](_0x3319d2=>_0x3319d2[_0x4defa9(0x1e0)]!==_0x3f25a8[_0x4defa9(0x1e0)]);continue;}if(!this[_0x4defa9(0x1da)][_0x4defa9(0x385)][_0x4defa9(0x782)]){this['logger'][_0x4defa9(0x677)](this['instanceName']+'\x20('+this[_0x4defa9(0x1da)][_0x4defa9(0x177)]+_0x4defa9(0x1d0));break;}if(!this[_0x4defa9(0x1da)][_0x4defa9(0x385)][_0x4defa9(0x7b8)]){this['logger'][_0x4defa9(0x677)](this['instanceName']+'\x20('+this[_0x4defa9(0x1da)]['wuid']+_0x4defa9(0x3b0)+_0x1b1fce[_0x4defa9(0x1e0)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x2dad5f={'idControl':_0x3f25a8['_id'],'remoteJid':_0x3f25a8['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x1c126c=null;try{this[_0x4defa9(0x50b)][_0x4defa9(0x677)](this[_0x4defa9(0x297)]+'\x20('+this[_0x4defa9(0x1da)][_0x4defa9(0x177)]+_0x4defa9(0x60f)+_0x3f25a8[_0x4defa9(0x309)]);let _0xd5102=await this[_0x4defa9(0x707)](_0x3f25a8[_0x4defa9(0x309)],_0x3f25a8);_0x2dad5f[_0x4defa9(0x434)]=_0xd5102[_0x4defa9(0x434)],_0x2dad5f['id']=_0xd5102[_0x4defa9(0x434)]?null:_0xd5102['id'],_0x2dad5f[_0x4defa9(0x3c4)]=_0xd5102[_0x4defa9(0x434)]?_0xd5102['detail']?_0xd5102[_0x4defa9(0x59c)][_0x4defa9(0x880)]():'':null;let _0x181b7d=_0x1b1fce[_0x4defa9(0x22a)][_0x4defa9(0x5c2)](_0x2552c9=>_0x2552c9[_0x4defa9(0x1e0)]===_0x3f25a8['_id']);_0x181b7d!==-0x1&&(_0x1b1fce[_0x4defa9(0x22a)][_0x181b7d][_0x4defa9(0x763)]=!0x0);let _0x2c93ba={'$push':{'messagesSend':_0x2dad5f},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xdd2f66=[{'elem._id':_0x3f25a8[_0x4defa9(0x1e0)]}];if(this[_0x4defa9(0x50b)][_0x4defa9(0x677)](this[_0x4defa9(0x297)]+'\x20('+this[_0x4defa9(0x1da)][_0x4defa9(0x177)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x3f25a8['_id']),_0x1c126c=await this[_0x4defa9(0x302)][_0x4defa9(0x794)][_0x4defa9(0x723)]({'_id':_0x1b1fce[_0x4defa9(0x1e0)]},_0x2c93ba,this[_0x4defa9(0x1da)][_0x4defa9(0x177)],{'arrayFilters':_0xdd2f66}),_0xd5102[_0x4defa9(0x434)]){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x4defa9(0x177)]+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0xd5102[_0x4defa9(0x59c)]);continue;}let _0x5533eb=this[_0x4defa9(0x397)](_0x1b1fce[_0x4defa9(0x785)],_0x1b1fce['delaySecMax']);await this[_0x4defa9(0x1c0)](_0x5533eb);}catch(_0x40c992){this[_0x4defa9(0x50b)][_0x4defa9(0x434)](this[_0x4defa9(0x297)]+'\x20('+this[_0x4defa9(0x1da)][_0x4defa9(0x177)]+_0x4defa9(0x206)+_0x3f25a8[_0x4defa9(0x309)]+':\x20'+(_0x40c992 instanceof Error?_0x40c992[_0x4defa9(0x416)]:JSON['stringify'](_0x40c992,null,0x2))),_0x2dad5f[_0x4defa9(0x434)]=!0x0,_0x2dad5f[_0x4defa9(0x3c4)]=_0x40c992['message'];let _0x1e19df=_0x1b1fce[_0x4defa9(0x22a)][_0x4defa9(0x5c2)](_0x22bc4b=>_0x22bc4b[_0x4defa9(0x1e0)]===_0x3f25a8['_id']);_0x1e19df!==-0x1&&(_0x1b1fce[_0x4defa9(0x22a)][_0x1e19df][_0x4defa9(0x763)]=!0x0);let _0x5d991f={'$push':{'messagesSend':_0x2dad5f},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1149d4=[{'elem._id':_0x3f25a8[_0x4defa9(0x1e0)]}];this[_0x4defa9(0x50b)][_0x4defa9(0x677)](this['instanceName']+'\x20('+this[_0x4defa9(0x1da)][_0x4defa9(0x177)]+_0x4defa9(0x895)+_0x3f25a8[_0x4defa9(0x1e0)]),_0x1c126c=await this['repository']['scheduleMessage'][_0x4defa9(0x723)]({'_id':_0x1b1fce[_0x4defa9(0x1e0)]},_0x5d991f,this[_0x4defa9(0x1da)][_0x4defa9(0x177)],{'arrayFilters':_0x1149d4});}finally{if(_0x1c126c&&_0x1c126c[_0x4defa9(0x405)]===_0x4defa9(0x758)){this[_0x4defa9(0x50b)][_0x4defa9(0x677)](this['instanceName']+'\x20('+this[_0x4defa9(0x1da)]['wuid']+_0x4defa9(0x3b0)+_0x3f25a8[_0x4defa9(0x1e0)]+_0x4defa9(0x358));break;}let _0x17fae4=_0x1c126c[_0x4defa9(0x22a)][_0x4defa9(0x6cf)](_0x370bc3=>_0x370bc3[_0x4defa9(0x1e0)]===_0x3f25a8[_0x4defa9(0x1e0)]);if(_0x17fae4&&!_0x17fae4['triedToSend']){let _0x1be88f={'$set':{'messages.$[elem].triedToSend':!0x0}},_0xb9cdfc=[{'elem._id':_0x3f25a8[_0x4defa9(0x1e0)]}];await this['repository'][_0x4defa9(0x794)][_0x4defa9(0x723)]({'_id':_0x1c126c[_0x4defa9(0x1e0)]},_0x1be88f,this['instance'][_0x4defa9(0x177)],{'arrayFilters':_0xb9cdfc});}if(this['pendingMessages']=_0x1c126c[_0x4defa9(0x22a)][_0x4defa9(0x71f)](_0x5d8460=>!_0x5d8460[_0x4defa9(0x763)]),!this[_0x4defa9(0x1da)][_0x4defa9(0x385)]['processingGroup']){await this['setRestartTimeout'](),this[_0x4defa9(0x50b)]['warn'](this[_0x4defa9(0x297)]+'\x20('+this[_0x4defa9(0x1da)][_0x4defa9(0x177)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x1b1fce[_0x4defa9(0x1e0)]+_0x4defa9(0x249));break;}}}this[_0x4defa9(0x699)]=[];let _0x36dba1=await this['repository'][_0x4defa9(0x794)]['findById'](_0x1b1fce[_0x4defa9(0x1e0)],this[_0x4defa9(0x1da)][_0x4defa9(0x177)]);if(_0x36dba1[_0x4defa9(0x22a)][_0x4defa9(0x5b5)](_0x553475=>_0x553475[_0x4defa9(0x763)])&&_0x36dba1[_0x4defa9(0x405)]!==_0x4defa9(0x758)){let _0x914c8c={'$set':{'status':'done'}};await this[_0x4defa9(0x302)][_0x4defa9(0x794)][_0x4defa9(0x7cb)](_0x36dba1[_0x4defa9(0x1e0)],_0x914c8c,this['instance'][_0x4defa9(0x177)]);}await new Promise(_0x34dd2b=>setTimeout(_0x34dd2b,_0x3c0a7)),global['gc']?global['gc']():console[_0x4defa9(0x677)]('Garbage\x20collection\x20não\x20está\x20disponível.');}}[a0_0x43466e(0x397)](_0x313118,_0x185eb0){const _0x5d56a2=a0_0x43466e;return _0x313118=Math[_0x5d56a2(0x3af)](0.5,_0x313118),_0x185eb0=Math[_0x5d56a2(0x86f)](Math[_0x5d56a2(0x3af)](0x3,_0x185eb0),0x78),Math[_0x5d56a2(0x27d)](Math[_0x5d56a2(0x68a)]()*(_0x185eb0-_0x313118+0x1)+_0x313118)*0x3e8;}['sleep'](_0x4b1395){return new Promise(_0x415d67=>setTimeout(_0x415d67,_0x4b1395));}async[a0_0x43466e(0x53f)](_0x572f1b){const _0x4b7b01=a0_0x43466e;if(!this[_0x4b7b01(0x295)]&&(await this[_0x4b7b01(0x868)](),!this[_0x4b7b01(0x295)]))return null;_0x572f1b=this[_0x4b7b01(0x443)](_0x572f1b);let _0x1d6904=await this[_0x4b7b01(0x302)][_0x4b7b01(0x628)][_0x4b7b01(0x41a)]({'where':{'_id':_0x572f1b}},this[_0x4b7b01(0x1da)][_0x4b7b01(0x177)]),_0x14bb66={};if(_0x1d6904&&_0x1d6904['leadInfo']){let _0x48bca8=_0x1d6904['leadInfo'];typeof _0x48bca8[_0x4b7b01(0x69c)]=='string'&&(_0x14bb66['nome']=_0x48bca8['nome']),typeof _0x48bca8[_0x4b7b01(0x7d5)]==_0x4b7b01(0x6d9)&&(_0x14bb66[_0x4b7b01(0x7d5)]=_0x48bca8[_0x4b7b01(0x7d5)]),typeof _0x48bca8[_0x4b7b01(0x263)]=='string'&&(_0x14bb66[_0x4b7b01(0x263)]=_0x48bca8[_0x4b7b01(0x263)]),typeof _0x48bca8[_0x4b7b01(0x470)]==_0x4b7b01(0x6d9)&&(_0x14bb66[_0x4b7b01(0x470)]=_0x48bca8['cpf']),typeof _0x48bca8[_0x4b7b01(0x405)]==_0x4b7b01(0x6d9)&&(_0x14bb66[_0x4b7b01(0x405)]=_0x48bca8['status']),typeof _0x48bca8[_0x4b7b01(0x3e2)]==_0x4b7b01(0x6d9)&&(_0x14bb66[_0x4b7b01(0x3e2)]=_0x48bca8['notas']),typeof _0x48bca8['responsavelid']==_0x4b7b01(0x6d9)&&(_0x14bb66[_0x4b7b01(0x73c)]=_0x48bca8[_0x4b7b01(0x73c)]),Array['isArray'](_0x48bca8[_0x4b7b01(0x2b6)])&&(_0x14bb66[_0x4b7b01(0x2b6)]=_0x48bca8['tags']['join'](',\x20')),Array[_0x4b7b01(0x6c7)](_0x48bca8[_0x4b7b01(0x1f0)])&&(_0x14bb66['etiquetas']=_0x48bca8[_0x4b7b01(0x1f0)][_0x4b7b01(0x14c)](',\x20'));}return _0x1d6904&&_0x1d6904[_0x4b7b01(0x830)]&&_0x1d6904[_0x4b7b01(0x830)][_0x4b7b01(0x5ee)]&&_0x1d6904[_0x4b7b01(0x830)]['customFields'][_0x4b7b01(0x663)](_0x35ca4d=>{const _0x2183d4=_0x4b7b01;let _0x25b1c4=this[_0x2183d4(0x295)]?.[_0x2183d4(0x5ee)][_0x2183d4(0x6cf)](_0x483c4c=>_0x483c4c[_0x2183d4(0x1e0)]===_0x35ca4d[_0x2183d4(0x1e0)]);_0x25b1c4&&(_0x14bb66[_0x25b1c4[_0x2183d4(0x5c3)]]=_0x35ca4d[_0x2183d4(0x61e)]);}),_0x14bb66;}async[a0_0x43466e(0x2eb)](_0x12e1d4,_0xace61b){const _0x2bf80f=a0_0x43466e;try{let _0x2c7aee=await this['getVariablesChat'](_0xace61b);return this[_0x2bf80f(0x26e)](_0x12e1d4,_0x2c7aee);}catch(_0x33ac85){return this[_0x2bf80f(0x50b)]['error'](_0x2bf80f(0x250)+_0xace61b+':\x20'+_0x33ac85),_0x12e1d4;}}async[a0_0x43466e(0x505)](){const _0x2a6be2=a0_0x43466e;let _0xdd6665=async(_0x43c28d,_0x14aafb)=>{const _0x1b178f=a0_0x5767;let _0x4521b1=(await this[_0x1b178f(0x302)][_0x1b178f(0x794)][_0x1b178f(0x6cf)]({'where':{'type':_0x43c28d}},this[_0x1b178f(0x1da)]['wuid']))[_0x1b178f(0x614)](async _0x1947aa=>{const _0x4c6177=_0x1b178f;let _0x4cb13d=_0x14aafb(_0x1947aa),_0x658755=_0x2c7dcc=>/^\d+$/[_0x4c6177(0x2cc)](_0x2c7dcc),_0x3ba92a=_0x1947aa['remoteJids']['filter'](_0x186111=>_0x186111[_0x4c6177(0x164)](_0x4c6177(0x13d))?_0x186111[_0x4c6177(0x695)]>0x19:_0x186111[_0x4c6177(0x164)](_0x4c6177(0x748))?_0x186111[_0x4c6177(0x695)]>0xf:_0x658755(_0x186111)?_0x186111['length']>=0xb:!0x1)[_0x4c6177(0x614)](_0x4de528=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x1947aa[_0x4c6177(0x1e0)],'type':_0x4cb13d,'remoteJid':_0x4de528,'flow':_0x1947aa[_0x4c6177(0x166)],'text':_0x1947aa['message']?.[_0x4c6177(0x3c5)],'delay':_0x1947aa[_0x4c6177(0x416)]?.[_0x4c6177(0x2d2)],'urlOrBase64':_0x1947aa[_0x4c6177(0x416)]?.[_0x4c6177(0x5c1)],'linkPreview':_0x1947aa[_0x4c6177(0x416)]?.[_0x4c6177(0x837)],'fileName':_0x1947aa[_0x4c6177(0x416)]?.['fileName'],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x4c6177(0x302)][_0x4c6177(0x794)]['updateOneById'](_0x1947aa[_0x4c6177(0x1e0)],{'$set':{'messages':_0x3ba92a},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x4c6177(0x1da)][_0x4c6177(0x177)]);}catch(_0x2cb0fc){console['error'](_0x4c6177(0x801)+_0x1947aa[_0x4c6177(0x1e0)]+':',_0x2cb0fc);}});await Promise['all'](_0x4521b1);};await _0xdd6665('text',_0x5b0f46=>_0x2a6be2(0x3c5)),await _0xdd6665('media',_0x210def=>_0x210def[_0x2a6be2(0x416)]?.[_0x2a6be2(0x700)]||'media'),await _0xdd6665(_0x2a6be2(0x1e4),_0x446de9=>_0x2a6be2(0x1e4)),await _0xdd6665(_0x2a6be2(0x35d),_0x3c4b8e=>'flow'),await _0xdd6665(_0x2a6be2(0x3c1),_0x281fda=>_0x2a6be2(0x3c1)),await _0xdd6665(_0x2a6be2(0x1ba),_0x3dd3cf=>_0x2a6be2(0x1ba)),await _0xdd6665(_0x2a6be2(0x47e),_0x4fa78a=>_0x2a6be2(0x47e)),this[_0x2a6be2(0x50b)][_0x2a6be2(0x677)](this[_0x2a6be2(0x297)]+'\x20('+this[_0x2a6be2(0x1da)][_0x2a6be2(0x177)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0x43466e(0x69e)](_0x5cf987){const _0x3f4035=a0_0x43466e;try{if(this[_0x3f4035(0x50b)][_0x3f4035(0x677)](this['instanceName']+'\x20('+this[_0x3f4035(0x1da)][_0x3f4035(0x177)]+_0x3f4035(0x760)),_0x5cf987['_id']||(_0x5cf987[_0x3f4035(0x1e0)]=(0x0,Y['v4'])()),this['instance'][_0x3f4035(0x385)][_0x3f4035(0x7b8)]?.[_0x3f4035(0x1e0)]===_0x5cf987[_0x3f4035(0x1e0)]?.[_0x3f4035(0x880)]()){if(_0x5cf987[_0x3f4035(0x405)]===_0x3f4035(0x758))this['instance']['ScheduleMessage'][_0x3f4035(0x7b8)]=null;else throw new Error('Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.');}if(_0x5cf987['delete']&&_0x5cf987[_0x3f4035(0x1e0)]){let _0xe5f784=await this[_0x3f4035(0x302)][_0x3f4035(0x794)][_0x3f4035(0x31e)](_0x5cf987[_0x3f4035(0x1e0)],this[_0x3f4035(0x1da)][_0x3f4035(0x177)]);return setTimeout(()=>this[_0x3f4035(0x579)](),0x7d0),_0xe5f784;}let _0x1dcde5=null;if(_0x5cf987[_0x3f4035(0x1e0)]&&(_0x1dcde5=await this[_0x3f4035(0x302)][_0x3f4035(0x794)]['findById'](_0x5cf987[_0x3f4035(0x1e0)],this['instance'][_0x3f4035(0x177)])),_0x1dcde5){let {_id:_0x264a02,owner:_0x3fd1c2,messages:_0x44db7a,..._0x3ad058}=_0x5cf987;if(_0x44db7a){let _0x5a9e8b=_0x44db7a['filter'](_0x55e9f5=>!_0x55e9f5[_0x3f4035(0x1e0)]),_0x340c53=_0x44db7a[_0x3f4035(0x71f)](_0x353363=>_0x353363[_0x3f4035(0x1e0)]&&!_0x353363[_0x3f4035(0x274)]),_0x34ad35=_0x44db7a[_0x3f4035(0x71f)](_0x5a1dac=>_0x5a1dac[_0x3f4035(0x1e0)]&&_0x5a1dac[_0x3f4035(0x274)]);if(_0x5a9e8b[_0x3f4035(0x695)]>0x0&&await this['addMessagesToGroup'](_0x5cf987[_0x3f4035(0x1e0)],_0x5a9e8b),_0x340c53[_0x3f4035(0x695)]>0x0&&await this[_0x3f4035(0x28d)]({'_id':_0x5cf987[_0x3f4035(0x1e0)],'messages':_0x340c53}),_0x34ad35['length']>0x0){let _0x2b4dbe=_0x34ad35[_0x3f4035(0x614)](_0x40f730=>({'updateOne':{'filter':{'_id':_0x5cf987[_0x3f4035(0x1e0)]},'update':{'$pull':{'messages':{'_id':_0x40f730[_0x3f4035(0x1e0)]}}}}}));await this['repository'][_0x3f4035(0x794)][_0x3f4035(0x171)](_0x2b4dbe,this[_0x3f4035(0x1da)][_0x3f4035(0x177)]);}}let _0x982131={'$set':{..._0x3ad058,'status':_0x5cf987[_0x3f4035(0x405)]||_0x1dcde5[_0x3f4035(0x405)]}},_0x536faa=await this['repository']['scheduleMessage'][_0x3f4035(0x7cb)](_0x5cf987['_id'],_0x982131,this['instance'][_0x3f4035(0x177)]);return _0x536faa&&(this['reorderMessages'](_0x536faa[_0x3f4035(0x22a)]),await this[_0x3f4035(0x302)][_0x3f4035(0x794)][_0x3f4035(0x7cb)](_0x536faa[_0x3f4035(0x1e0)],{'$set':{'messages':_0x536faa[_0x3f4035(0x22a)]}},this[_0x3f4035(0x1da)][_0x3f4035(0x177)])),setTimeout(()=>this[_0x3f4035(0x579)](),0x7d0),await this['transformScheduledMessagesByType'](),_0x536faa;}else{_0x5cf987[_0x3f4035(0x27c)]=this['instance'][_0x3f4035(0x177)],_0x5cf987[_0x3f4035(0x22a)]&&_0x5cf987[_0x3f4035(0x22a)][_0x3f4035(0x663)](_0x465947=>{const _0x5a43bd=_0x3f4035;_0x465947['_id']||(_0x465947['_id']=(0x0,Y['v4'])()),_0x465947[_0x5a43bd(0x822)]||(_0x465947[_0x5a43bd(0x822)]=_0x5cf987[_0x5a43bd(0x1e0)]),delete _0x465947[_0x5a43bd(0x763)];});let _0x20d475=await this['repository'][_0x3f4035(0x794)]['createAndSave'](_0x5cf987,this[_0x3f4035(0x1da)]['wuid']);return _0x20d475&&(this[_0x3f4035(0x29f)](_0x20d475[_0x3f4035(0x22a)]),await this[_0x3f4035(0x302)][_0x3f4035(0x794)][_0x3f4035(0x7cb)](_0x20d475[_0x3f4035(0x1e0)],{'$set':{'messages':_0x20d475[_0x3f4035(0x22a)]}},this[_0x3f4035(0x1da)][_0x3f4035(0x177)])),setTimeout(()=>this[_0x3f4035(0x579)](),0x7d0),_0x20d475;}}catch(_0x2e488c){let _0x3f9886=_0x3f4035(0x3ef),_0x14f86e=_0x2e488c instanceof Error?_0x2e488c[_0x3f4035(0x416)]:typeof _0x2e488c==_0x3f4035(0x6eb)?JSON[_0x3f4035(0x5ad)](_0x2e488c):_0x2e488c,_0x42f704=_0x3f9886+':\x20'+_0x14f86e;throw this[_0x3f4035(0x50b)][_0x3f4035(0x434)](this[_0x3f4035(0x297)]+'\x20('+this[_0x3f4035(0x1da)]['wuid']+_0x3f4035(0x83b)+_0x42f704),new m(_0x42f704);}}async[a0_0x43466e(0x5ec)](_0x304ca2,_0x3c4dbb){const _0x119c31=a0_0x43466e;try{this['logger'][_0x119c31(0x213)](this[_0x119c31(0x297)]+'\x20('+this['instance']['wuid']+_0x119c31(0x2ba)),_0x3c4dbb[_0x119c31(0x663)](_0x12c2e4=>{const _0x1a9aac=_0x119c31;_0x12c2e4['_id']||(_0x12c2e4[_0x1a9aac(0x1e0)]=(0x0,Y['v4'])()),_0x12c2e4['idSchedule']||(_0x12c2e4[_0x1a9aac(0x822)]=_0x304ca2),delete _0x12c2e4['triedToSend'];});let _0x7b6a1c={'$push':{'messages':{'$each':_0x3c4dbb}}},_0x115195=await this[_0x119c31(0x302)][_0x119c31(0x794)]['updateOneById'](_0x304ca2,_0x7b6a1c,this[_0x119c31(0x1da)]['wuid']);return _0x115195&&(this['reorderMessages'](_0x115195[_0x119c31(0x22a)]),await this[_0x119c31(0x302)][_0x119c31(0x794)][_0x119c31(0x7cb)](_0x115195[_0x119c31(0x1e0)],{'$set':{'messages':_0x115195['messages']}},this['instance'][_0x119c31(0x177)])),_0x115195;}catch(_0x4ca8bd){let _0x256200=_0x119c31(0x19a),_0x5c8eeb=_0x4ca8bd instanceof Error?_0x4ca8bd[_0x119c31(0x416)]:typeof _0x4ca8bd==_0x119c31(0x6eb)?JSON[_0x119c31(0x5ad)](_0x4ca8bd):_0x4ca8bd,_0x474276=_0x256200+':\x20'+_0x5c8eeb;throw this[_0x119c31(0x50b)]['error'](this[_0x119c31(0x297)]+'\x20('+this[_0x119c31(0x1da)][_0x119c31(0x177)]+'):\x20'+_0x474276),new m(_0x474276);}}async[a0_0x43466e(0x28d)](_0x2d495a){const _0x37a88d=a0_0x43466e;try{if(this[_0x37a88d(0x50b)][_0x37a88d(0x213)](this[_0x37a88d(0x297)]+'\x20('+this[_0x37a88d(0x1da)]['wuid']+_0x37a88d(0x3ec)),!_0x2d495a[_0x37a88d(0x1e0)]||!_0x2d495a[_0x37a88d(0x22a)])throw new Error(_0x37a88d(0x38a));let _0x12b158=_0x2d495a[_0x37a88d(0x1e0)],_0x45f439=_0x2d495a[_0x37a88d(0x22a)],_0x45d9eb=_0x45f439[_0x37a88d(0x71f)](_0x59bbf4=>!_0x59bbf4[_0x37a88d(0x274)])['map'](_0x207d97=>{const _0x11be18=_0x37a88d;let _0x43a86c=_0x207d97[_0x11be18(0x1e0)];if(!_0x43a86c)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x207d97['idSchedule']||(_0x207d97[_0x11be18(0x822)]=_0x12b158),delete _0x207d97[_0x11be18(0x763)],{'updateOne':{'filter':{'_id':_0x12b158,'messages._id':_0x43a86c},'update':{'$set':{'messages.$[elem]':_0x207d97}},'arrayFilters':[{'elem._id':_0x43a86c}]}};}),_0x1f9ff9=_0x45f439[_0x37a88d(0x71f)](_0x38a22d=>_0x38a22d[_0x37a88d(0x274)])[_0x37a88d(0x614)](_0x16a18e=>{const _0x24443e=_0x37a88d;let _0x1bef47=_0x16a18e[_0x24443e(0x1e0)];if(!_0x1bef47)throw new Error(_0x24443e(0x78c));return{'updateOne':{'filter':{'_id':_0x12b158},'update':{'$pull':{'messages':{'_id':_0x1bef47}}}}};}),_0x20f5b3=[..._0x45d9eb,..._0x1f9ff9],_0x8eae82=await this[_0x37a88d(0x302)][_0x37a88d(0x794)][_0x37a88d(0x171)](_0x20f5b3,this[_0x37a88d(0x1da)][_0x37a88d(0x177)]),_0x26a104=await this[_0x37a88d(0x302)][_0x37a88d(0x794)]['findById'](_0x12b158,this[_0x37a88d(0x1da)][_0x37a88d(0x177)]);return _0x26a104&&(this[_0x37a88d(0x29f)](_0x26a104[_0x37a88d(0x22a)]),await this['repository'][_0x37a88d(0x794)][_0x37a88d(0x7cb)](_0x26a104[_0x37a88d(0x1e0)],{'$set':{'messages':_0x26a104[_0x37a88d(0x22a)]}},this[_0x37a88d(0x1da)][_0x37a88d(0x177)])),_0x26a104;}catch(_0x3cdcd0){let _0x4f7e68=_0x37a88d(0x194),_0x5be4fb=_0x3cdcd0 instanceof Error?_0x3cdcd0[_0x37a88d(0x416)]:typeof _0x3cdcd0==_0x37a88d(0x6eb)?JSON[_0x37a88d(0x5ad)](_0x3cdcd0):_0x3cdcd0,_0xf2fbee=_0x4f7e68+':\x20'+_0x5be4fb;throw this['logger'][_0x37a88d(0x434)](this[_0x37a88d(0x297)]+'\x20('+this[_0x37a88d(0x1da)][_0x37a88d(0x177)]+_0x37a88d(0x83b)+_0xf2fbee),new m(_0xf2fbee);}}async[a0_0x43466e(0x4eb)](){const _0x3fabcb=a0_0x43466e;try{let _0x2fbf63={'status':_0x3fabcb(0x6a8)},_0x1a6eb5=await this[_0x3fabcb(0x302)][_0x3fabcb(0x794)]['deleteMany'](_0x2fbf63,this[_0x3fabcb(0x1da)][_0x3fabcb(0x177)]);if(!_0x1a6eb5[_0x3fabcb(0x434)])this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3fabcb(0x1da)]['wuid']+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x1a6eb5['error'][_0x3fabcb(0x416)]||_0x3fabcb(0x7df));return this[_0x3fabcb(0x219)]();}catch(_0x585cce){let _0x12a20f='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x296974=_0x585cce instanceof Error?_0x585cce[_0x3fabcb(0x416)]:typeof _0x585cce=='object'?JSON['stringify'](_0x585cce):_0x585cce,_0x10c32b=_0x12a20f+':\x20'+_0x296974;throw this[_0x3fabcb(0x50b)]['error'](this[_0x3fabcb(0x297)]+'\x20('+this[_0x3fabcb(0x1da)][_0x3fabcb(0x177)]+'):\x20'+_0x10c32b),new m(_0x10c32b);}}async[a0_0x43466e(0x219)](){const _0x2c0e49=a0_0x43466e;try{return await this[_0x2c0e49(0x302)]['scheduleMessage'][_0x2c0e49(0x6cf)]({'where':{}},this['instance']['wuid']);}catch(_0x37aa24){let _0x3cef7b='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x4933ff=_0x37aa24 instanceof Error?_0x37aa24[_0x2c0e49(0x416)]:typeof _0x37aa24=='object'?JSON[_0x2c0e49(0x5ad)](_0x37aa24):_0x37aa24,_0x2a2963=_0x3cef7b+':\x20'+_0x4933ff;throw this['logger'][_0x2c0e49(0x434)](this[_0x2c0e49(0x297)]+'\x20('+this['instance'][_0x2c0e49(0x177)]+_0x2c0e49(0x83b)+_0x2a2963),new m(_0x2a2963);}}[a0_0x43466e(0x29f)](_0x4cd9b2){const _0x8dd9de=a0_0x43466e;_0x4cd9b2[_0x8dd9de(0x6df)]((_0x1d950a,_0x40411c)=>_0x1d950a[_0x8dd9de(0x398)]-_0x40411c['order']),_0x4cd9b2[_0x8dd9de(0x663)]((_0x595973,_0x943c4e)=>{_0x595973['order']=_0x943c4e+0x1;});}async[a0_0x43466e(0x707)](_0x5415b6,_0x1e3e85){const _0x49ed3b=a0_0x43466e;try{if(!_0x1e3e85)return this[_0x49ed3b(0x50b)][_0x49ed3b(0x434)](this['instanceName']+'\x20('+this[_0x49ed3b(0x1da)]['wuid']+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':'Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'};if(_0x1e3e85[_0x49ed3b(0x375)]===_0x49ed3b(0x35d)&&!this[_0x49ed3b(0x295)]?.['flowConfig'][_0x49ed3b(0x1eb)])return this[_0x49ed3b(0x50b)][_0x49ed3b(0x434)](this[_0x49ed3b(0x297)]+'\x20('+this['instance'][_0x49ed3b(0x177)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x49ed3b(0x4a9)};switch(_0x1e3e85['type']){case _0x49ed3b(0x3c5):return await this[_0x49ed3b(0x492)](_0x1e3e85,_0x5415b6);case _0x49ed3b(0x1ba):case _0x49ed3b(0x3c1):case _0x49ed3b(0x47e):return await this[_0x49ed3b(0x657)](_0x1e3e85,_0x5415b6);case'audio':return await this[_0x49ed3b(0x3fe)](_0x1e3e85,_0x5415b6);case'flow':let _0x4ff21c=new We();return _0x4ff21c['name']=_0x1e3e85[_0x49ed3b(0x35d)],_0x4ff21c[_0x49ed3b(0x309)]=_0x5415b6,await this[_0x49ed3b(0x618)](_0x4ff21c);default:return this[_0x49ed3b(0x50b)][_0x49ed3b(0x434)](this[_0x49ed3b(0x297)]+'\x20('+this[_0x49ed3b(0x1da)][_0x49ed3b(0x177)]+_0x49ed3b(0x67f)+_0x1e3e85['type']),{'error':!0x0,'detail':_0x49ed3b(0x215)};}}catch(_0x17aac4){return this['logger'][_0x49ed3b(0x434)](this[_0x49ed3b(0x297)]+'\x20('+this['instance'][_0x49ed3b(0x177)]+_0x49ed3b(0x69f)+(_0x17aac4 instanceof Error?_0x17aac4[_0x49ed3b(0x416)]:JSON[_0x49ed3b(0x5ad)](_0x17aac4,null,0x2))),{'error':!0x0,'detail':_0x17aac4[_0x49ed3b(0x416)]};}}async[a0_0x43466e(0x492)](_0x4bef0f,_0x17c3f6){const _0x41fe29=a0_0x43466e;if(this[_0x41fe29(0x50b)][_0x41fe29(0x213)](this['instanceName']+'\x20('+this[_0x41fe29(0x1da)]['wuid']+_0x41fe29(0x63c)+_0x17c3f6+'\x27'),!_0x4bef0f[_0x41fe29(0x3c5)]||_0x4bef0f[_0x41fe29(0x3c5)][_0x41fe29(0x695)]===0x0)return{'error':!0x0,'detail':_0x41fe29(0x7ba)};let _0x1c6653=await this[_0x41fe29(0x2eb)](_0x4bef0f['text'],_0x17c3f6),_0x5271bc={'number':_0x17c3f6,'options':{'delay':_0x4bef0f[_0x41fe29(0x2d2)],'linkPreview':_0x4bef0f[_0x41fe29(0x837)]},'textMessage':{'text':_0x1c6653}},_0x5dd2de=null;try{let _0x5d449a=await this[_0x41fe29(0x52e)](_0x5271bc);if(_0x5d449a&&_0x5d449a[_0x41fe29(0x405)])return{'error':!0x1,'id':_0x5d449a[_0x41fe29(0x23b)]['id']};_0x5dd2de=JSON['stringify'](_0x5d449a),this[_0x41fe29(0x50b)]['verbose'](this[_0x41fe29(0x297)]+'\x20('+this['instance']['wuid']+_0x41fe29(0x83b)+_0x5dd2de);}catch(_0x43e672){this[_0x41fe29(0x50b)][_0x41fe29(0x434)](this[_0x41fe29(0x297)]+'\x20('+this['instance'][_0x41fe29(0x177)]+_0x41fe29(0x257)+(_0x43e672 instanceof Error?_0x43e672['message']:JSON[_0x41fe29(0x5ad)](_0x43e672,null,0x2))),_0x5dd2de=_0x43e672[_0x41fe29(0x416)];}if(_0x5dd2de)return{'error':!0x0,'detail':(typeof _0x5dd2de==_0x41fe29(0x6eb)?JSON[_0x41fe29(0x5ad)](_0x5dd2de,null,0x2):_0x5dd2de)[_0x41fe29(0x6a1)](/[\[\]{}\n]/g,'\x20')[_0x41fe29(0x6a1)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x3e9748,_0x2cdddf){const _0x275e3c=a0_0x43466e;this[_0x275e3c(0x50b)][_0x275e3c(0x213)](this[_0x275e3c(0x297)]+'\x20('+this[_0x275e3c(0x1da)]['wuid']+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x2cdddf+'\x27');let _0x2d2a67;_0x3e9748[_0x275e3c(0x3c5)]&&_0x3e9748[_0x275e3c(0x3c5)][_0x275e3c(0x695)]>0x0&&(_0x2d2a67=await this[_0x275e3c(0x2eb)](_0x3e9748['text'],_0x2cdddf));let _0x57fa3a={'number':_0x2cdddf,'options':{'delay':_0x3e9748[_0x275e3c(0x2d2)],'linkPreview':_0x3e9748[_0x275e3c(0x837)]},'mediaMessage':{'mediatype':_0x3e9748[_0x275e3c(0x375)],'caption':_0x2d2a67,'media':_0x3e9748[_0x275e3c(0x5c1)]}},_0x2b4f24=null;try{let _0x33465d=await this[_0x275e3c(0x35c)](_0x57fa3a);if(_0x33465d&&_0x33465d['status'])return{'error':!0x1,'id':_0x33465d[_0x275e3c(0x23b)]['id']};_0x2b4f24=JSON[_0x275e3c(0x5ad)](_0x33465d),this['logger'][_0x275e3c(0x213)](this[_0x275e3c(0x297)]+'\x20('+this[_0x275e3c(0x1da)][_0x275e3c(0x177)]+_0x275e3c(0x83b)+_0x2b4f24);}catch(_0x21705a){this[_0x275e3c(0x50b)]['error'](this['instanceName']+'\x20('+this[_0x275e3c(0x1da)][_0x275e3c(0x177)]+_0x275e3c(0x528)+(_0x21705a instanceof Error?_0x21705a['message']:JSON[_0x275e3c(0x5ad)](_0x21705a,null,0x2))),_0x2b4f24=_0x21705a[_0x275e3c(0x416)];}if(_0x2b4f24)return{'error':!0x0,'detail':(typeof _0x2b4f24==_0x275e3c(0x6eb)?JSON['stringify'](_0x2b4f24,null,0x2):_0x2b4f24)[_0x275e3c(0x6a1)](/[\[\]{}\n]/g,'\x20')[_0x275e3c(0x6a1)](/  +/g,'\x20')};}async[a0_0x43466e(0x3fe)](_0x2eafa2,_0x14f09d){const _0x2b03d6=a0_0x43466e;this[_0x2b03d6(0x50b)]['verbose'](this[_0x2b03d6(0x297)]+'\x20('+this[_0x2b03d6(0x1da)][_0x2b03d6(0x177)]+_0x2b03d6(0x642)+_0x14f09d+'\x27');let _0x464b64={'number':_0x14f09d,'options':{'delay':_0x2eafa2[_0x2b03d6(0x2d2)]},'audioMessage':{'audio':_0x2eafa2[_0x2b03d6(0x5c1)]}},_0x53b8de=null;try{let _0x83a50b=await this[_0x2b03d6(0x20e)](_0x464b64);if(_0x83a50b&&_0x83a50b['status'])return{'error':!0x1,'id':_0x83a50b[_0x2b03d6(0x23b)]['id']};_0x53b8de=JSON[_0x2b03d6(0x5ad)](_0x83a50b),this[_0x2b03d6(0x50b)][_0x2b03d6(0x213)](this['instanceName']+'\x20('+this[_0x2b03d6(0x1da)][_0x2b03d6(0x177)]+_0x2b03d6(0x83b)+_0x53b8de);}catch(_0x27930f){this['logger'][_0x2b03d6(0x434)](this[_0x2b03d6(0x297)]+'\x20('+this[_0x2b03d6(0x1da)][_0x2b03d6(0x177)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x27930f instanceof Error?_0x27930f['message']:JSON[_0x2b03d6(0x5ad)](_0x27930f,null,0x2))),_0x53b8de=_0x27930f['message'];}if(_0x53b8de)return{'error':!0x0,'detail':(typeof _0x53b8de==_0x2b03d6(0x6eb)?JSON[_0x2b03d6(0x5ad)](_0x53b8de,null,0x2):_0x53b8de)[_0x2b03d6(0x6a1)](/[\[\]{}\n]/g,'\x20')[_0x2b03d6(0x6a1)](/  +/g,'\x20')};}async[a0_0x43466e(0x354)](_0x1ecd95){const _0x277ed1=a0_0x43466e;try{return await this[_0x277ed1(0x1a2)][_0x277ed1(0x3d5)](_0x1ecd95[_0x277ed1(0x826)],_0x1ecd95['description']),{'update':_0x277ed1(0x2e9)};}catch(_0x3e857e){let _0x472de4='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x562d75=_0x3e857e instanceof Error?_0x3e857e[_0x277ed1(0x416)]:typeof _0x3e857e=='object'?JSON[_0x277ed1(0x5ad)](_0x3e857e):_0x3e857e,_0x5b1e00=_0x472de4+':\x20'+_0x562d75;throw this[_0x277ed1(0x50b)]['error'](this[_0x277ed1(0x297)]+'\x20('+this['instance'][_0x277ed1(0x177)]+_0x277ed1(0x83b)+_0x5b1e00),new x(_0x5b1e00);}}async['groupName'](_0x31c834){const _0x1b2f14=a0_0x43466e;try{return await this[_0x1b2f14(0x1a2)]['groupUpdateSubject'](_0x31c834['groupJid'],_0x31c834[_0x1b2f14(0x5c3)]),{'update':'success'};}catch(_0x316656){let _0x4b9796=_0x1b2f14(0x61d),_0x37d4ed=_0x316656 instanceof Error?_0x316656[_0x1b2f14(0x416)]:typeof _0x316656==_0x1b2f14(0x6eb)?JSON[_0x1b2f14(0x5ad)](_0x316656):_0x316656,_0x450f3f=_0x4b9796+':\x20'+_0x37d4ed;throw this[_0x1b2f14(0x50b)][_0x1b2f14(0x434)](this[_0x1b2f14(0x297)]+'\x20('+this['instance'][_0x1b2f14(0x177)]+_0x1b2f14(0x83b)+_0x450f3f),new x(_0x450f3f);}}async['toggleEphemeral'](_0x53ff4b){const _0x5e8528=a0_0x43466e;try{let _0x14b0cf=await this[_0x5e8528(0x1a2)][_0x5e8528(0x7f4)](_0x53ff4b['groupJid'],_0x53ff4b['expiration']);return{'success':!0x0};}catch(_0x1995d2){let _0x5e57ff=_0x5e8528(0x1cc),_0x522463=_0x1995d2 instanceof Error?_0x1995d2[_0x5e8528(0x416)]:typeof _0x1995d2==_0x5e8528(0x6eb)?JSON[_0x5e8528(0x5ad)](_0x1995d2):_0x1995d2,_0x3ce254=_0x5e57ff+':\x20'+_0x522463;throw this['logger'][_0x5e8528(0x434)](this[_0x5e8528(0x297)]+'\x20('+this[_0x5e8528(0x1da)]['wuid']+_0x5e8528(0x83b)+_0x3ce254),new x(_0x3ce254);}}async['groupSetting'](_0x350dae){const _0x570c06=a0_0x43466e;try{return await this[_0x570c06(0x1a2)][_0x570c06(0x5e7)](_0x350dae[_0x570c06(0x826)],_0x350dae['setting']),{'update':_0x570c06(0x2e9)};}catch(_0x1d5c4a){let _0x17ca03=_0x570c06(0x47f),_0x248d3f=_0x1d5c4a instanceof Error?_0x1d5c4a[_0x570c06(0x416)]:typeof _0x1d5c4a==_0x570c06(0x6eb)?JSON[_0x570c06(0x5ad)](_0x1d5c4a):_0x1d5c4a,_0x1310fc=_0x17ca03+':\x20'+_0x248d3f;throw this[_0x570c06(0x50b)][_0x570c06(0x434)](this[_0x570c06(0x297)]+'\x20('+this[_0x570c06(0x1da)][_0x570c06(0x177)]+_0x570c06(0x83b)+_0x1310fc),new x(_0x1310fc);}}async[a0_0x43466e(0x191)](_0x17d533){const _0xa8b960=a0_0x43466e;try{let _0x29065c;if((0x0,J['isURL'])(_0x17d533[_0xa8b960(0x3c1)])){let _0x1306c8=new Date()['getTime'](),_0x3b95ba=_0x17d533['image']+'?timestamp='+_0x1306c8;_0x29065c=(await Q[_0xa8b960(0x56d)][_0xa8b960(0x5e9)](_0x3b95ba,{'responseType':_0xa8b960(0x882)}))[_0xa8b960(0x42e)];}else{if((0x0,J[_0xa8b960(0x4ab)])(_0x17d533['image']))_0x29065c=Buffer[_0xa8b960(0x3d3)](_0x17d533['image'],'base64');else throw new m(_0xa8b960(0x3eb));}return await this['client'][_0xa8b960(0x246)](_0x17d533[_0xa8b960(0x826)],_0x29065c),{'update':_0xa8b960(0x2e9)};}catch(_0xbf555b){let _0x1f0a04=_0xa8b960(0x718),_0xe4d5d3=_0xbf555b instanceof Error?_0xbf555b['message']:typeof _0xbf555b==_0xa8b960(0x6eb)?JSON[_0xa8b960(0x5ad)](_0xbf555b):_0xbf555b,_0x205d47=_0x1f0a04+':\x20'+_0xe4d5d3;throw this[_0xa8b960(0x50b)]['error'](this[_0xa8b960(0x297)]+'\x20('+this[_0xa8b960(0x1da)][_0xa8b960(0x177)]+_0xa8b960(0x83b)+_0x205d47),new x(_0x205d47);}}},jt=class u{constructor(_0x28ac7f,_0x202ad7,_0x39a64f){const _0x31aa20=a0_0x43466e;this[_0x31aa20(0x2fe)]=_0x28ac7f,this[_0x31aa20(0x609)]=_0x202ad7,this[_0x31aa20(0x302)]=_0x39a64f,this['db']={},this['redis']={},this['logger']=new $(u[_0x31aa20(0x5c3)]),this[_0x31aa20(0x25c)]={},(this[_0x31aa20(0x576)](),this[_0x31aa20(0x682)](),Object[_0x31aa20(0x1e5)](this['db'],_0x202ad7[_0x31aa20(0x5e9)](_0x31aa20(0x1ec))),Object[_0x31aa20(0x1e5)](this[_0x31aa20(0x564)],_0x202ad7[_0x31aa20(0x5e9)](_0x31aa20(0x581))),this[_0x31aa20(0x2f5)]=this['db']['ENABLED']?this[_0x31aa20(0x302)][_0x31aa20(0x550)]?.['db'](this['db'][_0x31aa20(0x20f)][_0x31aa20(0x5d0)]+_0x31aa20(0x575)):void 0x0,this['cache']=this['redis'][_0x31aa20(0x626)]?new pe(this[_0x31aa20(0x564)]):void 0x0);}async[a0_0x43466e(0x51e)](_0x1d1f18){const _0xd75c61=a0_0x43466e;if(_0x1d1f18&&!this[_0xd75c61(0x25c)][_0x1d1f18])throw new U(_0xd75c61(0x6d4)+_0x1d1f18+_0xd75c61(0x47c));let _0x3c7e23=[];for await(let [_0x5654b8,_0x2ff8c8]of Object[_0xd75c61(0x7c1)](this[_0xd75c61(0x25c)]))if(_0x2ff8c8&&_0x2ff8c8[_0xd75c61(0x62a)][_0xd75c61(0x1c7)]===_0xd75c61(0x76d)){let _0x5036a5=await this[_0xd75c61(0x302)][_0xd75c61(0x1c5)]['find'](_0x5654b8);_0x3c7e23[_0xd75c61(0x7ef)]({'instance':{'instanceName':_0x5654b8,'apikey':_0x5036a5['apikey'],'owner':_0x2ff8c8[_0xd75c61(0x177)],'profileName':await _0x2ff8c8[_0xd75c61(0x46d)]()||_0xd75c61(0x3b8),'profilePictureUrl':_0x2ff8c8['profilePictureUrl']}});}return _0x3c7e23[_0xd75c61(0x6cf)](_0x33efa8=>_0x33efa8[_0xd75c61(0x1da)]['instanceName']===_0x1d1f18)??_0x3c7e23;}async[a0_0x43466e(0x611)](_0x214807){const _0x26b9f6=a0_0x43466e;if(this['db']['ENABLED']&&(await this[_0x26b9f6(0x302)][_0x26b9f6(0x550)]['connect'](),(await this[_0x26b9f6(0x2f5)][_0x26b9f6(0x67e)]())[_0x26b9f6(0x695)]>0x0&&await this[_0x26b9f6(0x2f5)]['dropCollection'](_0x214807)),this[_0x26b9f6(0x564)][_0x26b9f6(0x626)]){this['cache'][_0x26b9f6(0x2f6)]=_0x214807,await this[_0x26b9f6(0x46a)][_0x26b9f6(0x57c)]();return;}}async[a0_0x43466e(0x458)](){const _0x321126=a0_0x43466e;await this['InstancesAlterarTodas']();let _0x2009cf=async _0x444795=>{const _0x39498a=a0_0x5767;let _0x547465=new $e(this['configService'],this[_0x39498a(0x2fe)],this[_0x39498a(0x302)]);_0x547465[_0x39498a(0x297)]=_0x444795,await _0x547465['connectToWhatsapp'](),this[_0x39498a(0x25c)][_0x444795]=_0x547465;};try{if(this['redis']['ENABLED']){let _0x1c106a=await this[_0x321126(0x46a)][_0x321126(0x500)]();_0x1c106a?.[_0x321126(0x695)]>0x0&&_0x1c106a[_0x321126(0x663)](async _0x268336=>await _0x2009cf(_0x268336[_0x321126(0x380)](':')[0x1]));return;}if(this['db'][_0x321126(0x626)]){await this['repository']['dbServer'][_0x321126(0x5c6)]();let _0x2a7600=await this[_0x321126(0x2f5)]['collections']();_0x2a7600[_0x321126(0x695)]>0x0&&_0x2a7600[_0x321126(0x663)](async _0x773e67=>await _0x2009cf(_0x773e67[_0x321126(0x71d)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x2dded9){this[_0x321126(0x50b)][_0x321126(0x434)](_0x2dded9);}}async[a0_0x43466e(0x7a4)](){const _0x20cef0=a0_0x43466e;try{let _0x5f4d4f=await this['repository'][_0x20cef0(0x1c5)][_0x20cef0(0x856)]({'online':!0x1});for(let _0x16acb3 of _0x5f4d4f){let _0xd59961=_0x16acb3['_id'];await ae[_0x20cef0(0x58b)](B,_0xd59961);}console['log'](_0x20cef0(0x7f3)+_0x5f4d4f[_0x20cef0(0x695)]);let _0xd2060b={'online':!0x1},_0x564afe=await this[_0x20cef0(0x302)]['auth'][_0x20cef0(0x277)](_0xd2060b);console['log']('Instâncias\x20removidas:\x20'+_0x564afe[_0x20cef0(0x858)]);}catch(_0x55d84f){console[_0x20cef0(0x434)](_0x20cef0(0x546),_0x55d84f);}}async['InstancesAlterarTodas'](){const _0x178caa=a0_0x43466e;try{let _0x44eb19={'online':!0x1},_0x5cdc53={'online':!0x1,'lastDisconnect':Date['now']()},_0x1a66bc=await this['repository'][_0x178caa(0x1c5)][_0x178caa(0x4ea)](_0x44eb19,_0x5cdc53);await this[_0x178caa(0x7a4)]();}catch(_0x242015){console['error'](_0x178caa(0x64c),_0x242015);}}[a0_0x43466e(0x576)](){const _0x3cd630=a0_0x43466e;this[_0x3cd630(0x2fe)]['on'](_0x3cd630(0x4d4),async _0xc629a7=>{const _0x2a5dda=_0x3cd630;try{this[_0x2a5dda(0x25c)][_0xc629a7]=void 0x0;}catch{}try{this[_0x2a5dda(0x611)](_0xc629a7);}finally{this['logger'][_0x2a5dda(0x677)](_0x2a5dda(0x6d4)+_0xc629a7+_0x2a5dda(0x291));}});}[a0_0x43466e(0x682)](){const _0x43e589=a0_0x43466e;this[_0x43e589(0x2fe)]['on'](_0x43e589(0x377),async _0x3d53a8=>{const _0x4c9cb2=_0x43e589;try{this[_0x4c9cb2(0x25c)][_0x3d53a8]=void 0x0;}catch{}try{this[_0x4c9cb2(0x611)](_0x3d53a8);}finally{this[_0x4c9cb2(0x50b)][_0x4c9cb2(0x677)](_0x4c9cb2(0x6d4)+_0x3d53a8+_0x4c9cb2(0x318));}});}},Jt=class extends _{['getChatModelForOwner'](_0x2761d3){return ta(_0x2761d3);}async[a0_0x43466e(0x2de)](_0x356840){const _0x2c3333=a0_0x43466e;if(_0x356840[_0x2c3333(0x695)]!==0x0)try{return{'insertCount':(await this[_0x2c3333(0x61c)](_0x356840[0x0][_0x2c3333(0x27c)])[_0x2c3333(0x873)]([..._0x356840]))[_0x2c3333(0x695)]};}catch(_0x5262e2){return _0x5262e2;}}async[a0_0x43466e(0x6cf)](_0xe6f77f,_0x4fdee1){const _0x2cb7ef=a0_0x43466e;try{let _0x5bc820=this['getChatModelForOwner'](_0x4fdee1),_0x1d9f8d=A(_0xe6f77f[_0x2cb7ef(0x392)]);return await _0x5bc820['find'](_0x1d9f8d)[_0x2cb7ef(0x6df)]({'lastmsg':-0x1})[_0x2cb7ef(0x18b)](_0xe6f77f?.[_0x2cb7ef(0x18b)]??0x0)['lean']();}catch{return[];}}async[a0_0x43466e(0x767)](_0x3b5cc2,_0xf9ced6){const _0x2c5a83=a0_0x43466e;try{let _0x3d147b=this[_0x2c5a83(0x61c)](_0xf9ced6),_0x90ce2=A(_0x3b5cc2[_0x2c5a83(0x392)]);return _0x90ce2['groupdata.participants']={'$ne':[]},await _0x3d147b['find'](_0x90ce2)['sort']({'lastmsg':-0x1})[_0x2c5a83(0x18b)](_0x3b5cc2?.[_0x2c5a83(0x18b)]??0x0)[_0x2c5a83(0x6e2)]();}catch{return[];}}async['delete'](_0x2c6319,_0xd33ab7){const _0x5844b2=a0_0x43466e;try{return{'deletedCount':(await this['getChatModelForOwner'](_0xd33ab7)['deleteMany']({..._0x2c6319['where']}))['deletedCount']};}catch(_0x353ee6){return{'error':_0x353ee6?.[_0x5844b2(0x880)]()};}}async[a0_0x43466e(0x17c)](_0x11e1c6,_0x524cad){const _0x3d0b31=a0_0x43466e;try{return await this['getChatModelForOwner'](_0x524cad)['deleteMany']({..._0x11e1c6[_0x3d0b31(0x392)]}),[];}catch(_0x4bf389){return{'error':_0x4bf389?.[_0x3d0b31(0x880)]()};}}async[a0_0x43466e(0x41a)](_0x394939,_0x47f065){const _0x43fd72=a0_0x43466e;try{let _0x146ba1=this[_0x43fd72(0x61c)](_0x47f065),_0x18e25a=A(_0x394939[_0x43fd72(0x392)]);return await _0x146ba1['findOne'](_0x18e25a)[_0x43fd72(0x6e2)]();}catch{return null;}}async[a0_0x43466e(0x723)](_0xd34ea2,_0x401275,_0xc8072f,_0x4ede3d,_0x187b95='$set'){const _0x38c921=a0_0x43466e;try{let _0xbad2f7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4ede3d},_0x108871=this[_0x38c921(0x61c)](_0xc8072f),_0x18b323=A(_0xd34ea2[_0x38c921(0x392)]);Object['keys'](_0x401275)['forEach'](_0x13a3bf=>{_0x401275[_0x13a3bf]==null&&delete _0x401275[_0x13a3bf];});let _0x30b2ef={};return _0x30b2ef[_0x187b95]=_0x401275,await _0x108871['findOneAndUpdate'](_0x18b323,_0x30b2ef,_0xbad2f7);}catch(_0x3c3c6f){return console[_0x38c921(0x434)](_0x3c3c6f),null;}}async[a0_0x43466e(0x389)](_0x4a3f70){const _0x26e52c=a0_0x43466e;try{let _0x4a7fc4=this[_0x26e52c(0x61c)](_0x4a3f70[0x0][_0x26e52c(0x2b1)][_0x26e52c(0x392)][_0x26e52c(0x27c)]),_0xb80fbe=_0x4a3f70[_0x26e52c(0x614)](_0x2da806=>({'updateOne':{'filter':{..._0x2da806[_0x26e52c(0x2b1)][_0x26e52c(0x392)]},'update':{'$set':_0x2da806[_0x26e52c(0x211)]},'upsert':!0x0}})),_0x38f836=await _0x4a7fc4[_0x26e52c(0x171)](_0xb80fbe);return _0x38f836[_0x26e52c(0x741)]+_0x38f836[_0x26e52c(0x569)];}catch(_0x4af2cd){return console[_0x26e52c(0x434)](_0x4af2cd),0x0;}}async[a0_0x43466e(0x41d)](_0xe8f7a8){const _0x38baff=a0_0x43466e;try{let _0x392652={'group_isCommunity':'','group_announce':'','group_size':''},_0x2f6b7c={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x49a193={'$unset':_0x392652};return(await this['getChatModelForOwner'](_0xe8f7a8)['updateMany'](_0x2f6b7c,_0x49a193))['modifiedCount'];}catch(_0x19b6f7){return console[_0x38baff(0x434)](_0x38baff(0x589),_0x19b6f7),0x0;}}async[a0_0x43466e(0x4c9)](_0x3dc306){const _0xa4aa15=a0_0x43466e;try{let _0x5af34b=this[_0xa4aa15(0x61c)](_0x3dc306),_0x126860={'leadInfo.etiquetas':{'$exists':!0x1}},_0x13a0d4={'$set':{'leadInfo.etiquetas':[]}};return(await _0x5af34b[_0xa4aa15(0x389)](_0x126860,_0x13a0d4))[_0xa4aa15(0x741)];}catch(_0x48d424){return console[_0xa4aa15(0x434)](_0x48d424),0x0;}}async[a0_0x43466e(0x26d)](_0x4dd467){const _0x48083f=a0_0x43466e;try{let _0x1f733e=this[_0x48083f(0x61c)](_0x4dd467),_0x43d7d8={'leadInfo.tags':{'$exists':!0x1}},_0x4840b3={'$set':{'leadInfo.tags':[]}};return(await _0x1f733e[_0x48083f(0x389)](_0x43d7d8,_0x4840b3))[_0x48083f(0x741)];}catch(_0x4ed575){return console['error'](_0x4ed575),0x0;}}async['updateMissingCustomFields'](_0x556410){const _0x2d6f92=a0_0x43466e;try{let _0x12c3c2=this[_0x2d6f92(0x61c)](_0x556410),_0x13d5e5={'leadInfo.customFields':{'$exists':!0x1}},_0x11f777={'$set':{'leadInfo.customFields':[]}};return(await _0x12c3c2[_0x2d6f92(0x389)](_0x13d5e5,_0x11f777))[_0x2d6f92(0x741)];}catch(_0x3ac4b9){return console['error'](_0x3ac4b9),0x0;}}async[a0_0x43466e(0x873)](_0x35f4f4,_0x17ef6a){const _0x57624b=a0_0x43466e;if(!Array[_0x57624b(0x6c7)](_0x35f4f4)||_0x35f4f4['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x17ef6a)[_0x57624b(0x873)](_0x35f4f4))['length'];}catch(_0xdd4eee){throw console[_0x57624b(0x434)]('Erro\x20ao\x20inserir\x20chats:',_0xdd4eee),_0xdd4eee;}}async[a0_0x43466e(0x1a4)](_0x59dcb2,_0x483b9e){const _0x365598=a0_0x43466e;try{await this[_0x365598(0x61c)](_0x483b9e)[_0x365598(0x31e)]({'_id':_0x59dcb2});}catch(_0x8b7cc8){throw console[_0x365598(0x434)](_0x365598(0x861),_0x8b7cc8),_0x8b7cc8;}}},qt=class extends _{constructor(_0x282f18,_0x1e02d9,_0x4fefac){const _0x2d7983=a0_0x43466e;super(_0x1e02d9),this['cacheContactModel']=_0x282f18,this[_0x2d7983(0x609)]=_0x1e02d9,this[_0x2d7983(0x7fb)]=_0x4fefac;}async[a0_0x43466e(0x2de)](_0x5d61fb){const _0x4daf7f=a0_0x43466e;if(_0x5d61fb[_0x4daf7f(0x695)]!==0x0)try{return{'insertCount':(await this[_0x4daf7f(0x228)][_0x4daf7f(0x873)]([..._0x5d61fb]))[_0x4daf7f(0x695)]};}catch(_0x924e7e){return _0x924e7e;}}async[a0_0x43466e(0x211)](_0x516400,_0x5417b9){const _0x47b396=a0_0x43466e;try{let _0x2649ab=A(_0x516400[_0x47b396(0x392)]);return{'updatedCount':(await this[_0x47b396(0x228)][_0x47b396(0x389)](_0x2649ab,{'$set':_0x5417b9}))[_0x47b396(0x741)]};}catch(_0x52b73d){return console[_0x47b396(0x434)](_0x47b396(0x638),_0x52b73d),{'error':_0x52b73d[_0x47b396(0x880)]()};}}async['findManyByIds'](_0xb02a73){const _0x2a2700=a0_0x43466e;try{let _0x55b481={'_id':{'$in':_0xb02a73}};return await this[_0x2a2700(0x228)][_0x2a2700(0x6cf)](_0x55b481)[_0x2a2700(0x6e2)]();}catch(_0x3efd2a){return console[_0x2a2700(0x434)](_0x2a2700(0x506),_0x3efd2a),[];}}async[a0_0x43466e(0x274)](_0x254bcb){const _0xe79957=a0_0x43466e;try{return{'deletedCount':(await this[_0xe79957(0x228)][_0xe79957(0x277)]({..._0x254bcb[_0xe79957(0x392)]}))[_0xe79957(0x469)]};}catch(_0x11bf03){return{'error':_0x11bf03?.[_0xe79957(0x880)]()};}}async[a0_0x43466e(0x6cf)](_0x4d3274){const _0x32f18f=a0_0x43466e;try{let _0x41217f=A(_0x4d3274[_0x32f18f(0x392)]);return await this[_0x32f18f(0x228)][_0x32f18f(0x6cf)](_0x41217f)[_0x32f18f(0x18b)](_0x4d3274?.[_0x32f18f(0x18b)]??0x0)[_0x32f18f(0x6e2)]();}catch{return[];}}async[a0_0x43466e(0x41a)](_0x16c904){const _0x3d6e53=a0_0x43466e;try{let _0x12cae5=A(_0x16c904[_0x3d6e53(0x392)]);return await this[_0x3d6e53(0x228)]['findOne'](_0x12cae5)['lean']();}catch{return null;}}},Vt=class extends _{constructor(_0x1f09a5,_0x37233e,_0x13b5b2){const _0x4c9144=a0_0x43466e;super(_0x37233e),this[_0x4c9144(0x4af)]=_0x1f09a5,this[_0x4c9144(0x609)]=_0x37233e,this[_0x4c9144(0x7fb)]=_0x13b5b2;}async[a0_0x43466e(0x2de)](_0x6e53ea){const _0x150f70=a0_0x43466e;if(_0x6e53ea[_0x150f70(0x695)]!==0x0)try{return{'insertCount':(await this['messageLogsModel'][_0x150f70(0x873)]([..._0x6e53ea]))[_0x150f70(0x695)]};}catch(_0x43f3c1){return _0x43f3c1;}}async['update'](_0x203183,_0x36a73a){const _0x124b0b=a0_0x43466e;try{let _0x1c81c6=A(_0x203183[_0x124b0b(0x392)]);return{'updatedCount':(await this['messageLogsModel'][_0x124b0b(0x389)](_0x1c81c6,{'$set':_0x36a73a}))['modifiedCount']};}catch(_0x31a80c){return console[_0x124b0b(0x434)]('Error\x20updating\x20cache\x20contact:',_0x31a80c),{'error':_0x31a80c[_0x124b0b(0x880)]()};}}async[a0_0x43466e(0x274)](_0x55fcc8){const _0x3aad89=a0_0x43466e;try{return{'deletedCount':(await this['messageLogsModel'][_0x3aad89(0x277)]({..._0x55fcc8['where']}))['deletedCount']};}catch(_0x262fa4){return{'error':_0x262fa4?.[_0x3aad89(0x880)]()};}}async['findOne'](_0x58e9a4){const _0x496720=a0_0x43466e;try{let _0x301308=A(_0x58e9a4[_0x496720(0x392)]);return await this['messageLogsModel']['findOne'](_0x301308)[_0x496720(0x6e2)]();}catch{return null;}}},Gt=class extends _{['getLabelModelForOwner'](_0x397411){return Ea(_0x397411);}async[a0_0x43466e(0x723)](_0x1efc97,_0x1ebe84,_0xa8670b,_0x235f72){const _0xeb7b31=a0_0x43466e;try{let _0x452af2={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x235f72},_0x375168=this['getLabelModelForOwner'](_0xa8670b),_0x448030=A(_0x1efc97[_0xeb7b31(0x392)]);return await _0x375168['findOneAndUpdate'](_0x448030,{'$set':_0x1ebe84},_0x452af2);}catch(_0x500daf){return console[_0xeb7b31(0x434)](_0x500daf),null;}}async['find'](_0x5c11dd,_0x335c8b){const _0x513cdb=a0_0x43466e;try{let _0x110866=this[_0x513cdb(0x710)](_0x335c8b),_0x3e4964=A(_0x5c11dd[_0x513cdb(0x392)]);return await _0x110866[_0x513cdb(0x6cf)](_0x3e4964);}catch(_0x35c859){console[_0x513cdb(0x434)](_0x35c859);}}async[a0_0x43466e(0x274)](_0x43b986,_0xc686e5){const _0x599eaa=a0_0x43466e;try{let _0x334061=this['getLabelModelForOwner'](_0xc686e5),_0x2e6283=A(_0x43b986[_0x599eaa(0x392)]);await _0x334061[_0x599eaa(0x277)](_0x2e6283);}catch(_0x5ec166){console[_0x599eaa(0x434)](_0x5ec166);}}async[a0_0x43466e(0x17c)](_0x3fe168){const _0x6695e9=a0_0x43466e;try{return await this['getLabelModelForOwner'](_0x3fe168)[_0x6695e9(0x79f)][_0x6695e9(0x1cb)](),{'success':!0x0};}catch(_0x54753c){return console[_0x6695e9(0x434)](_0x54753c),{'success':!0x1,'error':_0x54753c};}}},Bt=class{constructor(_0x9b4f53){const _0x3aca0a=a0_0x43466e;this[_0x3aca0a(0x88c)]=_0x9b4f53;}async[a0_0x43466e(0x4ca)]({instanceName:_0x54dadc},_0x34447b){const _0x443b98=a0_0x43466e;return await this[_0x443b98(0x88c)][_0x443b98(0x25c)][_0x54dadc]['editChat'](_0x34447b);}async[a0_0x43466e(0x42f)]({instanceName:_0x1045f9},_0x340f45){const _0x115933=a0_0x43466e;return await this[_0x115933(0x88c)][_0x115933(0x25c)][_0x1045f9][_0x115933(0x42f)](_0x340f45);}async['importChats']({instanceName:_0x21b958},_0x5d5c58){const _0x4681a4=a0_0x43466e;return await this[_0x4681a4(0x88c)][_0x4681a4(0x25c)][_0x21b958][_0x4681a4(0x54a)](_0x5d5c58);}async[a0_0x43466e(0x4c8)]({instanceName:_0xbca45c},_0x549574){const _0x1f0d05=a0_0x43466e;return await this['waMonitor']['waInstances'][_0xbca45c][_0x1f0d05(0x3da)](_0x549574);}async[a0_0x43466e(0x36a)]({instanceName:_0x8cf234},_0x884e06){const _0x4d17db=a0_0x43466e;return await this['waMonitor'][_0x4d17db(0x25c)][_0x8cf234][_0x4d17db(0x36a)](_0x884e06);}async[a0_0x43466e(0x1ea)]({instanceName:_0x5bdf65},_0x4c607){const _0x5b1cb1=a0_0x43466e;return await this[_0x5b1cb1(0x88c)]['waInstances'][_0x5bdf65][_0x5b1cb1(0x1ea)](_0x4c607);}async[a0_0x43466e(0x89c)]({instanceName:_0x1e236d},_0x133670){const _0x3be7d1=a0_0x43466e;return await this['waMonitor'][_0x3be7d1(0x25c)][_0x1e236d][_0x3be7d1(0x3e6)](_0x133670['number']);}async[a0_0x43466e(0x7b4)]({instanceName:_0x586e03},_0x307860){const _0x4e208c=a0_0x43466e;return await this['waMonitor']['waInstances'][_0x586e03][_0x4e208c(0x7b4)](_0x307860[_0x4e208c(0x4fc)]);}async[a0_0x43466e(0x88b)]({instanceName:_0x10277f},_0x25819c){const _0x5166f5=a0_0x43466e;return await this[_0x5166f5(0x88c)][_0x5166f5(0x25c)][_0x10277f]['updatePresence'](_0x25819c);}async[a0_0x43466e(0x37b)]({instanceName:_0x1d2c87},_0x464721){const _0x3dff24=a0_0x43466e;return await this[_0x3dff24(0x88c)][_0x3dff24(0x25c)][_0x1d2c87][_0x3dff24(0x37b)](_0x464721);}async[a0_0x43466e(0x50a)]({instanceName:_0x7cdc52},_0x13eb81){const _0x574a1e=a0_0x43466e;return await this[_0x574a1e(0x88c)][_0x574a1e(0x25c)][_0x7cdc52]['getBase64FromMediaMessage'](_0x13eb81);}async[a0_0x43466e(0x2a3)]({instanceName:_0x22633c},_0x12e359){const _0x242c9d=a0_0x43466e;return await this[_0x242c9d(0x88c)][_0x242c9d(0x25c)][_0x22633c][_0x242c9d(0x2a3)](_0x12e359);}async['fetchLabels']({instanceName:_0x374c8c}){const _0xacd74a=a0_0x43466e;return await this[_0xacd74a(0x88c)][_0xacd74a(0x25c)][_0x374c8c]['fetchLabels']();}async['fetchChats']({instanceName:_0xcf2d35}){const _0x5540be=a0_0x43466e;return await this[_0x5540be(0x88c)][_0x5540be(0x25c)][_0xcf2d35][_0x5540be(0x627)]();}async[a0_0x43466e(0x2da)]({instanceName:_0x23148b}){const _0x3a300d=a0_0x43466e;return await this[_0x3a300d(0x88c)][_0x3a300d(0x25c)][_0x23148b][_0x3a300d(0x2da)]();}async[a0_0x43466e(0x45c)]({instanceName:_0x5ba541},_0x428904){const _0x302461=a0_0x43466e;return await this[_0x302461(0x88c)]['waInstances'][_0x5ba541][_0x302461(0x45c)](_0x428904);}async[a0_0x43466e(0x281)]({instanceName:_0x59f978},_0x3516de){const _0x5d9b21=a0_0x43466e;return await this[_0x5d9b21(0x88c)][_0x5d9b21(0x25c)][_0x59f978]['fetchBusinessProfile'](_0x3516de['number']);}async['updateProfileName']({instanceName:_0x4d2173},_0x140723){const _0x3566d5=a0_0x43466e;return await this[_0x3566d5(0x88c)][_0x3566d5(0x25c)][_0x4d2173]['updateProfileName'](_0x140723[_0x3566d5(0x5c3)]);}async[a0_0x43466e(0x533)]({instanceName:_0x110169},_0xfce35c){const _0x9522a5=a0_0x43466e;return await this[_0x9522a5(0x88c)][_0x9522a5(0x25c)][_0x110169]['updateProfileStatus'](_0xfce35c[_0x9522a5(0x405)]);}async[a0_0x43466e(0x246)]({instanceName:_0x5b5570},_0x4f71ec){const _0x1d5a2d=a0_0x43466e;return await this[_0x1d5a2d(0x88c)][_0x1d5a2d(0x25c)][_0x5b5570][_0x1d5a2d(0x246)](_0x4f71ec[_0x1d5a2d(0x553)]);}async[a0_0x43466e(0x452)]({instanceName:_0x72f72a},_0x362878){const _0x4aaa5b=a0_0x43466e;return await this[_0x4aaa5b(0x88c)][_0x4aaa5b(0x25c)][_0x72f72a][_0x4aaa5b(0x452)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x1741d9,_0x40e859,_0x191179,_0x158ed3,_0x581dbb){const _0x443c93=a0_0x43466e;this[_0x443c93(0x88c)]=_0x1741d9,this['configService']=_0x40e859,this[_0x443c93(0x302)]=_0x191179,this[_0x443c93(0x2fe)]=_0x158ed3,this[_0x443c93(0x183)]=_0x581dbb,this['logger']=new $(u['name']);}async[a0_0x43466e(0x33a)]({instanceName:_0x4d2373,apikey:_0x35cf3e,number:_0x1a8451,proxy:_0x358d93=!0x0}){const _0x96c40c=a0_0x43466e;try{let _0x58daed=new $e(this['configService'],this['eventEmitter'],this[_0x96c40c(0x302)]);_0x58daed[_0x96c40c(0x297)]=_0x4d2373,this['waMonitor'][_0x96c40c(0x25c)][_0x58daed[_0x96c40c(0x297)]]=_0x58daed;let _0x5dd0f5={};_0x35cf3e?(await this[_0x96c40c(0x302)][_0x96c40c(0x1c5)][_0x96c40c(0x80b)]({'apikey':_0x35cf3e},_0x4d2373),_0x5dd0f5[_0x96c40c(0x899)]=_0x35cf3e):_0x5dd0f5=await this[_0x96c40c(0x183)][_0x96c40c(0x740)]({'instanceName':_0x58daed[_0x96c40c(0x297)]});let _0x4ab508;if(_0x1a8451){if(_0x4ab508=await this['verifyWhatsAppNumber'](_0x1a8451),_0x4ab508[_0x96c40c(0x434)])throw new x(_0x4ab508['error'][_0x96c40c(0x880)]());_0x1a8451=_0x4ab508[_0x96c40c(0x4fc)];}let _0x4e28a3;return await _0x58daed[_0x96c40c(0x600)](_0x1a8451),await(0x0,Wt[_0x96c40c(0x2d2)])(0xfa0),_0x1a8451&&await(0x0,Wt[_0x96c40c(0x2d2)])(0xbb8),_0x4e28a3=_0x58daed[_0x96c40c(0x3be)],{'instance':{'instanceName':_0x58daed[_0x96c40c(0x297)],'status':'created'},'hash':_0x5dd0f5,'qrcode':_0x4e28a3};}catch(_0x2bf3f3){throw this[_0x96c40c(0x50b)][_0x96c40c(0x434)](_0x2bf3f3),_0x2bf3f3;}}async[a0_0x43466e(0x240)]({instanceName:_0x294ecb,number:_0x5640a0=null}){const _0x239fa9=a0_0x43466e;try{let _0x5bcb93=this['waMonitor'][_0x239fa9(0x25c)][_0x294ecb];switch(_0x5bcb93?.[_0x239fa9(0x62a)]?.[_0x239fa9(0x1c7)]){case _0x239fa9(0x604):return await _0x5bcb93[_0x239fa9(0x600)](_0x5640a0),await(0x0,Wt[_0x239fa9(0x2d2)])(0x7d0),_0x5bcb93[_0x239fa9(0x3be)];case'connecting':return _0x5bcb93[_0x239fa9(0x3be)];default:return await this[_0x239fa9(0x6c0)]({'instanceName':_0x294ecb});}}catch(_0x434085){this[_0x239fa9(0x50b)][_0x239fa9(0x217)](_0x434085);}}async['connectionState']({instanceName:_0x43c74a}){const _0x4bb6ee=a0_0x43466e;let _0x39678f=this[_0x4bb6ee(0x88c)][_0x4bb6ee(0x25c)][_0x43c74a][_0x4bb6ee(0x62a)],_0xb790df=null;_0x39678f[_0x4bb6ee(0x1c7)]===_0x4bb6ee(0x76d)&&_0x43c74a&&(_0xb790df=await this['waMonitor'][_0x4bb6ee(0x51e)](_0x43c74a));let _0xedd8c1=null;return _0x39678f[_0x4bb6ee(0x1c7)]==='connecting'&&_0x43c74a&&(_0xedd8c1=this[_0x4bb6ee(0x88c)][_0x4bb6ee(0x25c)][_0x43c74a][_0x4bb6ee(0x3be)]),{'instance':_0x43c74a,'connectionStatus':_0x39678f,'instanceInfo':_0xb790df,'qrcode':_0xedd8c1};}async[a0_0x43466e(0x3d0)](_0x37d82f){const _0x65e260=a0_0x43466e;_0x37d82f=_0x37d82f[_0x65e260(0x6a1)](/\D/g,'');let _0xc151d5=Object[_0x65e260(0x73e)](this[_0x65e260(0x88c)]['waInstances'])[_0x65e260(0x71f)](_0x2bb2aa=>{const _0x3bb57e=_0x65e260;let _0x5f547a=this[_0x3bb57e(0x88c)]['waInstances'][_0x2bb2aa];return _0x5f547a&&_0x5f547a[_0x3bb57e(0x62a)]&&_0x5f547a[_0x3bb57e(0x62a)][_0x3bb57e(0x1c7)]==='open';});if(_0xc151d5[_0x65e260(0x695)]===0x0)return{'number':this[_0x65e260(0x791)](_0x37d82f)};let _0x4c81e3=Math[_0x65e260(0x27d)](Math['random']()*_0xc151d5[_0x65e260(0x695)]),_0x104f61=_0xc151d5[_0x4c81e3];try{let _0x52fc15=(await this[_0x65e260(0x88c)]['waInstances'][_0x104f61][_0x65e260(0x42f)]({'numbers':[_0x37d82f]}))[_0x65e260(0x6ee)]();return _0x52fc15[_0x65e260(0x7cf)]?{'number':_0x52fc15['jid'][_0x65e260(0x6a1)](_0x65e260(0x13d),'')}:{'number':_0x37d82f,'error':_0x65e260(0x517)};}catch(_0x5b8929){return this[_0x65e260(0x50b)]['error'](_0x65e260(0x489)+_0x5b8929),{'number':_0x37d82f,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x43466e(0x791)](_0x44fda1){const _0x2c17c8=a0_0x43466e;let _0x49f0be=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2c17c8(0x778)](_0x44fda1);if(_0x49f0be&&_0x49f0be[0x1]==='55'){let _0x444acd=_0x49f0be[0x2],_0x32e974=_0x49f0be[0x3],_0x26c75c=_0x49f0be[0x4];if(parseInt(_0x444acd)>=0x1f&&_0x32e974==='9')return _0x49f0be[0x1]+_0x444acd+_0x26c75c;}return _0x44fda1;}async['restartInstance']({instanceName:_0x1bb011}){const _0x52c1eb=a0_0x43466e;try{return this[_0x52c1eb(0x88c)]['waInstances'][_0x1bb011]?.[_0x52c1eb(0x1a2)]?.['ws']?.[_0x52c1eb(0x604)](),{'status':_0x52c1eb(0x3e1),'error':!0x1,'response':{'message':_0x52c1eb(0x6ed)}};}catch(_0x995562){this[_0x52c1eb(0x50b)][_0x52c1eb(0x434)](_0x995562);}}async[a0_0x43466e(0x294)]({instanceName:_0x574867}){const _0x440aff=a0_0x43466e;return _0x574867?this[_0x440aff(0x88c)][_0x440aff(0x51e)](_0x574867):this[_0x440aff(0x88c)][_0x440aff(0x51e)]();}async[a0_0x43466e(0x6e7)]({instanceName:_0x1e62b4}){const _0x2fd291=a0_0x43466e;try{return await this[_0x2fd291(0x88c)]['waInstances'][_0x1e62b4]?.[_0x2fd291(0x1a2)]?.['logout'](_0x2fd291(0x45a)+_0x1e62b4),{'error':!0x1,'message':_0x2fd291(0x1e9)};}catch(_0x218182){throw new x(_0x218182[_0x2fd291(0x880)]());}}async[a0_0x43466e(0x32a)]({instanceName:_0x180faf}){const _0x2996bb=a0_0x43466e;if((await this[_0x2996bb(0x6c0)]({'instanceName':_0x180faf}))[_0x2996bb(0x62a)][_0x2996bb(0x1c7)]===_0x2996bb(0x76d))throw new m(['Deletion\x20failed','The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x2996bb(0x88c)]['waInstances'][_0x180faf],{'error':!0x1,'message':_0x2996bb(0x63b)};}catch(_0x22e4ac){throw new m(_0x22e4ac[_0x2996bb(0x880)]());}}},ce=require(a0_0x43466e(0x70f)),Ht=class{constructor(_0x163571){const _0x4e1e26=a0_0x43466e;this[_0x4e1e26(0x88c)]=_0x163571;}async[a0_0x43466e(0x81b)]({instanceName:_0x40c894},_0x50ff61){const _0x7e747=a0_0x43466e;return await this['waMonitor'][_0x7e747(0x25c)][_0x40c894][_0x7e747(0x52e)](_0x50ff61);}async[a0_0x43466e(0x3a5)]({instanceName:_0x5627bc},_0x22f25c){const _0x395b8e=a0_0x43466e;return await this[_0x395b8e(0x88c)][_0x395b8e(0x25c)][_0x5627bc][_0x395b8e(0x15b)](_0x22f25c);}async[a0_0x43466e(0x5f4)]({instanceName:_0x3671d7},_0x14b4d3){const _0x25bba7=a0_0x43466e;if((0x0,ce[_0x25bba7(0x4ab)])(_0x14b4d3?.[_0x25bba7(0x35c)]?.[_0x25bba7(0x6de)])&&!_0x14b4d3?.[_0x25bba7(0x35c)]?.['fileName'])throw new m(_0x25bba7(0x50f));if((0x0,ce['isURL'])(_0x14b4d3?.['mediaMessage']?.[_0x25bba7(0x6de)])||(0x0,ce[_0x25bba7(0x4ab)])(_0x14b4d3?.[_0x25bba7(0x35c)]?.[_0x25bba7(0x6de)]))return await this[_0x25bba7(0x88c)][_0x25bba7(0x25c)][_0x3671d7][_0x25bba7(0x35c)](_0x14b4d3);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x43466e(0x2ec)]({instanceName:_0xb4257d},_0x336754){const _0x1f9568=a0_0x43466e;if((0x0,ce[_0x1f9568(0x336)])(_0x336754[_0x1f9568(0x797)]['image'])||(0x0,ce[_0x1f9568(0x4ab)])(_0x336754['stickerMessage']['image']))return await this[_0x1f9568(0x88c)]['waInstances'][_0xb4257d][_0x1f9568(0x25e)](_0x336754);throw new m(_0x1f9568(0x4d1));}async['sendWhatsAppAudio']({instanceName:_0x54fe8e},_0x38265f){const _0x538418=a0_0x43466e;if((0x0,ce[_0x538418(0x336)])(_0x38265f[_0x538418(0x474)][_0x538418(0x1e4)])||(0x0,ce[_0x538418(0x4ab)])(_0x38265f[_0x538418(0x474)][_0x538418(0x1e4)]))return await this['waMonitor'][_0x538418(0x25c)][_0x54fe8e][_0x538418(0x20e)](_0x38265f);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x43466e(0x1db)]({instanceName:_0x584024},_0x3c7b1a){const _0x26fbc8=a0_0x43466e;return await this[_0x26fbc8(0x88c)][_0x26fbc8(0x25c)][_0x584024][_0x26fbc8(0x81e)](_0x3c7b1a);}async[a0_0x43466e(0x436)]({instanceName:_0x196e68},_0x1d6381){const _0x39c2fb=a0_0x43466e;return await this[_0x39c2fb(0x88c)][_0x39c2fb(0x25c)][_0x196e68][_0x39c2fb(0x52f)](_0x1d6381);}async['sendPoll']({instanceName:_0x399690},_0x2656ef){const _0x30f429=a0_0x43466e;return await this[_0x30f429(0x88c)]['waInstances'][_0x399690][_0x30f429(0x248)](_0x2656ef);}async[a0_0x43466e(0x64b)]({instanceName:_0x300816},_0x820d83){const _0xf696ea=a0_0x43466e;return await this[_0xf696ea(0x88c)][_0xf696ea(0x25c)][_0x300816][_0xf696ea(0x63a)](_0x820d83);}async[a0_0x43466e(0x57f)]({instanceName:_0x5b1ae7},_0xdae343){const _0x136633=a0_0x43466e;return await this[_0x136633(0x88c)]['waInstances'][_0x5b1ae7][_0x136633(0x56c)](_0xdae343);}async[a0_0x43466e(0x698)]({instanceName:_0x57a662},_0x2dbe53){const _0x502852=a0_0x43466e;if(!_0x2dbe53['reactionMessage']['reaction'][_0x502852(0x30d)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x502852(0x471));return await this['waMonitor']['waInstances'][_0x57a662][_0x502852(0x6ec)](_0x2dbe53);}async[a0_0x43466e(0x68b)]({instanceName:_0x169337},_0x31d29b){const _0x226e4e=a0_0x43466e;return await this[_0x226e4e(0x88c)]['waInstances'][_0x169337]['statusMessage'](_0x31d29b);}},Pi=require(a0_0x43466e(0x227)),Us=require(a0_0x43466e(0x34e)),Kt=class u{constructor(_0x3507e2,_0x520768,_0xde5bd3){const _0x4adb4e=a0_0x43466e;this[_0x4adb4e(0x609)]=_0x3507e2,this[_0x4adb4e(0x88c)]=_0x520768,this[_0x4adb4e(0x302)]=_0xde5bd3,this[_0x4adb4e(0x50b)]=new $(u[_0x4adb4e(0x5c3)]);}async[a0_0x43466e(0x370)](_0x4f25fe){const _0x314054=a0_0x43466e;let _0x592517=this[_0x314054(0x609)]['get'](_0x314054(0x749))[_0x314054(0x426)],_0x32f386=(0x0,Pi[_0x314054(0x7a6)])({'instanceName':_0x4f25fe['instanceName'],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x592517[_0x314054(0x340)],{'expiresIn':_0x592517[_0x314054(0x39e)],'encoding':_0x314054(0x466),'subject':_0x314054(0x827)}),_0x3cd483=await this[_0x314054(0x302)][_0x314054(0x1c5)][_0x314054(0x80b)]({'jwt':_0x32f386},_0x4f25fe[_0x314054(0x297)]);if(_0x3cd483['error'])throw this['logger'][_0x314054(0x434)]({'localError':u[_0x314054(0x5c3)]+_0x314054(0x5d7),'error':_0x3cd483['error']}),new m(_0x314054(0x2ad),_0x3cd483[_0x314054(0x434)]?.[_0x314054(0x880)]());return{'jwt':_0x32f386};}async[a0_0x43466e(0x899)](_0xdbeaa4){const _0x2b4c61=a0_0x43466e;let _0x1800a0=(0x0,Us['v4'])()['toUpperCase'](),_0x2c0871=await this[_0x2b4c61(0x302)]['auth'][_0x2b4c61(0x80b)]({'apikey':_0x1800a0},_0xdbeaa4[_0x2b4c61(0x297)]);if(_0x2c0871[_0x2b4c61(0x434)])throw this[_0x2b4c61(0x50b)][_0x2b4c61(0x434)]({'localError':u[_0x2b4c61(0x5c3)]+_0x2b4c61(0x5d7),'error':_0x2c0871[_0x2b4c61(0x434)]}),new m(_0x2b4c61(0x2ad),_0x2c0871['error']?.[_0x2b4c61(0x880)]());return{'apikey':_0x1800a0};}async['generateHash'](_0x24357c){const _0x4dc034=a0_0x43466e;let _0x2f957c=this[_0x4dc034(0x609)]['get'](_0x4dc034(0x749));return await this[_0x2f957c[_0x4dc034(0x7a0)]](_0x24357c);}},Qt=class{constructor(_0x2ab443){const _0x5f046c=a0_0x43466e;this[_0x5f046c(0x88c)]=_0x2ab443;}async[a0_0x43466e(0x811)](_0xca7df6,_0x17c881){const _0x5d7ecf=a0_0x43466e;return await this[_0x5d7ecf(0x88c)]['waInstances'][_0xca7df6['instanceName']][_0x5d7ecf(0x811)](_0x17c881);}async['updateGroupPicture'](_0x27adf5,_0x13ac6b){const _0x5487a5=a0_0x43466e;return await this[_0x5487a5(0x88c)][_0x5487a5(0x25c)][_0x27adf5[_0x5487a5(0x297)]][_0x5487a5(0x191)](_0x13ac6b);}async['groupDesc'](_0xfa270e,_0x57fe58){const _0x1ec8e8=a0_0x43466e;return await this['waMonitor']['waInstances'][_0xfa270e[_0x1ec8e8(0x297)]]['groupDesc'](_0x57fe58);}async['groupName'](_0x40b155,_0x14a4fa){const _0xd881c=a0_0x43466e;return await this['waMonitor']['waInstances'][_0x40b155[_0xd881c(0x297)]][_0xd881c(0x49d)](_0x14a4fa);}async['groupBetterSetting'](_0x1fe040,_0x42398a){const _0xef74e4=a0_0x43466e;return await this['waMonitor'][_0xef74e4(0x25c)][_0x1fe040[_0xef74e4(0x297)]][_0xef74e4(0x54b)](_0x42398a);}async[a0_0x43466e(0x420)](_0x83e562,_0x46bdb1){const _0xfbb3a0=a0_0x43466e;return await this[_0xfbb3a0(0x88c)]['waInstances'][_0x83e562[_0xfbb3a0(0x297)]]['groupSetting'](_0x46bdb1);}async[a0_0x43466e(0x189)](_0x182bdf,_0x4b9507){const _0x276109=a0_0x43466e;return await this[_0x276109(0x88c)][_0x276109(0x25c)][_0x182bdf['instanceName']][_0x276109(0x66e)](_0x4b9507);}async[a0_0x43466e(0x419)](_0x5d69c2){const _0x2bae4e=a0_0x43466e;return await this[_0x2bae4e(0x88c)]['waInstances'][_0x5d69c2[_0x2bae4e(0x297)]][_0x2bae4e(0x419)]();}async[a0_0x43466e(0x84f)](_0x2fd792,_0x4e96f8){const _0x1a4751=a0_0x43466e;return await this[_0x1a4751(0x88c)][_0x1a4751(0x25c)][_0x2fd792[_0x1a4751(0x297)]][_0x1a4751(0x84f)](_0x4e96f8);}async[a0_0x43466e(0x1bf)](_0x2058af,_0x480812){const _0x3cc93b=a0_0x43466e;return await this['waMonitor'][_0x3cc93b(0x25c)][_0x2058af[_0x3cc93b(0x297)]][_0x3cc93b(0x1bf)](_0x480812);}async[a0_0x43466e(0x85d)](_0x25fb1c,_0x1b9e66){const _0x233409=a0_0x43466e;return await this['waMonitor'][_0x233409(0x25c)][_0x25fb1c['instanceName']][_0x233409(0x85d)](_0x1b9e66);}async[a0_0x43466e(0x475)](_0x6fa415,_0x1c181c){const _0x274b46=a0_0x43466e;return await this[_0x274b46(0x88c)]['waInstances'][_0x6fa415[_0x274b46(0x297)]][_0x274b46(0x475)](_0x1c181c);}async['findParticipants'](_0x51fcd1,_0x2673ab){const _0x442f46=a0_0x43466e;return await this['waMonitor'][_0x442f46(0x25c)][_0x51fcd1['instanceName']][_0x442f46(0x4fa)](_0x2673ab);}async[a0_0x43466e(0x5da)](_0x16df49,_0x2320de){const _0x536ecb=a0_0x43466e;return await this[_0x536ecb(0x88c)]['waInstances'][_0x16df49[_0x536ecb(0x297)]][_0x536ecb(0x229)](_0x2320de);}async[a0_0x43466e(0x58c)](_0x5b912c,_0x1fde85){const _0xf2081=a0_0x43466e;return await this[_0xf2081(0x88c)][_0xf2081(0x25c)][_0x5b912c[_0xf2081(0x297)]][_0xf2081(0x58c)](_0x1fde85);}async[a0_0x43466e(0x3b6)](_0x7d2c4c,_0x41251b){const _0x25f94d=a0_0x43466e;return await this[_0x25f94d(0x88c)]['waInstances'][_0x7d2c4c['instanceName']][_0x25f94d(0x3b6)](_0x41251b);}},Yt=class{constructor(_0x26eb2a){const _0x8761fa=a0_0x43466e;this[_0x8761fa(0x88c)]=_0x26eb2a;}['create'](_0x3b8181,_0x3ba9ba){const _0x307ec2=a0_0x43466e;return this['waMonitor']['waInstances'][_0x3b8181[_0x307ec2(0x297)]][_0x307ec2(0x4ae)](_0x3ba9ba);}async[a0_0x43466e(0x6cf)](_0x11fb86){const _0x468d9a=a0_0x43466e;try{return await this['waMonitor'][_0x468d9a(0x25c)][_0x11fb86['instanceName']][_0x468d9a(0x417)]();}catch{return{'enabled':null,'url':''};}}},nh=new $(a0_0x43466e(0x82b)),Xt=class{constructor(_0x23bbbf){const _0x186882=a0_0x43466e;this[_0x186882(0x88c)]=_0x23bbbf;}async[a0_0x43466e(0x69e)](_0x4e0cb8,_0x4c2a74){const _0x50b466=a0_0x43466e;return await this[_0x50b466(0x88c)][_0x50b466(0x25c)][_0x4e0cb8['instanceName']][_0x50b466(0x69e)](_0x4c2a74);}async[a0_0x43466e(0x219)](_0x4189cb){const _0x376812=a0_0x43466e;return await this['waMonitor']['waInstances'][_0x4189cb[_0x376812(0x297)]][_0x376812(0x219)]();}async[a0_0x43466e(0x4eb)](_0x5de27e){const _0x582975=a0_0x43466e;return await this[_0x582975(0x88c)]['waInstances'][_0x5de27e['instanceName']][_0x582975(0x4eb)]();}async[a0_0x43466e(0x868)](_0x737ab9){const _0x95d6f9=a0_0x43466e;return await this[_0x95d6f9(0x88c)]['waInstances'][_0x737ab9['instanceName']][_0x95d6f9(0x868)]();}async[a0_0x43466e(0x728)](_0x8fc8e9,_0x2d968e){const _0x5f06c9=a0_0x43466e;return await this[_0x5f06c9(0x88c)][_0x5f06c9(0x25c)][_0x8fc8e9[_0x5f06c9(0x297)]][_0x5f06c9(0x728)](_0x2d968e);}async[a0_0x43466e(0x4c0)](_0x25cff8,_0x5a0712){const _0x1aabe6=a0_0x43466e;return await this[_0x1aabe6(0x88c)][_0x1aabe6(0x25c)][_0x25cff8[_0x1aabe6(0x297)]][_0x1aabe6(0x4c0)](_0x5a0712);}async['updateAutoCompleteMessages'](_0x500cbe,_0x21f4f8){const _0x59a7df=a0_0x43466e;return await this[_0x59a7df(0x88c)][_0x59a7df(0x25c)][_0x500cbe[_0x59a7df(0x297)]]['updateAutoCompleteMessages'](_0x21f4f8);}async['updateFlowConfig'](_0x5ad6ab,_0x3646a4){const _0x21935e=a0_0x43466e;return await this[_0x21935e(0x88c)][_0x21935e(0x25c)][_0x5ad6ab[_0x21935e(0x297)]][_0x21935e(0x6d2)](_0x3646a4);}async[a0_0x43466e(0x618)](_0x12c23e,_0x158de1){const _0x370640=a0_0x43466e;return await this['waMonitor'][_0x370640(0x25c)][_0x12c23e[_0x370640(0x297)]]['startFlow'](_0x158de1);}async['startFlowWebhook'](_0x4272d5,_0xca654a,_0xf52f3c,_0x2bc909){const _0x533eb9=a0_0x43466e;return await this[_0x533eb9(0x88c)][_0x533eb9(0x25c)][_0x4272d5][_0x533eb9(0x7e7)](_0xca654a,_0xf52f3c,_0x2bc909);}async[a0_0x43466e(0x141)](_0x19be26,_0x19859d){const _0x42074e=a0_0x43466e;return await this[_0x42074e(0x88c)][_0x42074e(0x25c)][_0x19be26[_0x42074e(0x297)]][_0x42074e(0x141)](_0x19859d);}async['fetchConversation'](_0x5795fa,_0x1e2e77){const _0x2b974c=a0_0x43466e;return await this[_0x2b974c(0x88c)][_0x2b974c(0x25c)][_0x5795fa[_0x2b974c(0x297)]]['fetchConversation'](_0x1e2e77);}async[a0_0x43466e(0x77d)](_0x10acf8,_0xeda3f){const _0xe071e=a0_0x43466e;return await this['waMonitor'][_0xe071e(0x25c)][_0x10acf8[_0xe071e(0x297)]]['editConversation'](_0xeda3f);}async['deleteConversation'](_0x3dec3b,_0x1937ae){const _0x1ae658=a0_0x43466e;return await this['waMonitor'][_0x1ae658(0x25c)][_0x3dec3b[_0x1ae658(0x297)]][_0x1ae658(0x404)](_0x1937ae);}async[a0_0x43466e(0x6bf)](_0x47a28a,_0x523146){const _0x27a2e6=a0_0x43466e;return await this['waMonitor'][_0x27a2e6(0x25c)][_0x47a28a[_0x27a2e6(0x297)]][_0x27a2e6(0x6bf)](_0x523146[_0x27a2e6(0x1e0)]);}async[a0_0x43466e(0x2b5)](_0x3ddbe6,_0x437a0b,_0x5208a9){const _0x19344b=a0_0x43466e;return await this[_0x19344b(0x88c)]['waInstances'][_0x3ddbe6[_0x19344b(0x297)]][_0x19344b(0x2b5)](_0x437a0b,_0x5208a9);}async[a0_0x43466e(0x3a3)](_0x47c91d,_0x391bed,_0x53dab9){return await this['waMonitor']['waInstances'][_0x47c91d['instanceName']]['editFlow'](_0x391bed,_0x53dab9);}async[a0_0x43466e(0x184)](_0x4cc6f8,_0xf32ec4){const _0x104ca1=a0_0x43466e;return await this[_0x104ca1(0x88c)][_0x104ca1(0x25c)][_0x4cc6f8[_0x104ca1(0x297)]][_0x104ca1(0x184)](_0xf32ec4);}async[a0_0x43466e(0x5f5)](_0x16a225,_0x52b019){const _0x2100ba=a0_0x43466e;return await this[_0x2100ba(0x88c)][_0x2100ba(0x25c)][_0x16a225[_0x2100ba(0x297)]]['editFlowReply'](_0x52b019);}async['editFlowGroup'](_0xc3ae7c,_0x5b9c6c){const _0x20e562=a0_0x43466e;return await this[_0x20e562(0x88c)]['waInstances'][_0xc3ae7c[_0x20e562(0x297)]]['editFlowGroup'](_0x5b9c6c);}async[a0_0x43466e(0x7ae)](_0x46c964,_0xad8968){const _0xcda2cc=a0_0x43466e;return await this['waMonitor'][_0xcda2cc(0x25c)][_0x46c964['instanceName']][_0xcda2cc(0x7ae)](_0xad8968);}async['editFlowVaredit'](_0x4d880f,_0x43d04d){const _0x332fc7=a0_0x43466e;return await this['waMonitor'][_0x332fc7(0x25c)][_0x4d880f[_0x332fc7(0x297)]][_0x332fc7(0x669)](_0x43d04d);}async[a0_0x43466e(0x269)](_0x591f1d,_0x5cef36){const _0x2412a3=a0_0x43466e;return await this[_0x2412a3(0x88c)][_0x2412a3(0x25c)][_0x591f1d['instanceName']][_0x2412a3(0x269)](_0x5cef36);}async[a0_0x43466e(0x16d)](_0x238983,_0x5bdf8c){const _0x58d526=a0_0x43466e;return await this[_0x58d526(0x88c)]['waInstances'][_0x238983['instanceName']][_0x58d526(0x16d)](_0x5bdf8c);}async['allFlows'](_0x5931cd){const _0x4d736d=a0_0x43466e;return await this[_0x4d736d(0x88c)][_0x4d736d(0x25c)][_0x5931cd['instanceName']][_0x4d736d(0x41b)]();}},Zt=class{constructor(_0x59762d){this['webhookService']=_0x59762d;}async[a0_0x43466e(0x2d7)](_0x48034f,_0x94e412){const _0x25c322=a0_0x43466e;return this['webhookService'][_0x25c322(0x80b)](_0x48034f,_0x94e412);}async[a0_0x43466e(0x417)](_0x119edd){const _0x25f928=a0_0x43466e;return this[_0x25f928(0x38d)][_0x25f928(0x6cf)](_0x119edd);}},es=class extends _{constructor(_0x4d6413,_0x4fcd53){const _0x3fa200=a0_0x43466e;super(_0x4fcd53),this[_0x3fa200(0x79c)]=_0x4d6413,this[_0x3fa200(0x609)]=_0x4fcd53;}async[a0_0x43466e(0x80b)](_0x1f5c32,_0xd78295){const _0x181dad=a0_0x43466e;try{return this[_0x181dad(0x441)][_0x181dad(0x626)]?{'insertCount':(await this[_0x181dad(0x79c)][_0x181dad(0x884)]({'_id':_0xd78295},{..._0x1f5c32},{'upsert':!0x0}))[_0x181dad(0x741)]}:{'insertCount':0x1};}catch(_0x57ebef){return _0x57ebef;}}async['delete'](_0x128c94){const _0x320e91=a0_0x43466e;try{if(this['dbSettings'][_0x320e91(0x626)]){await this[_0x320e91(0x79c)]['deleteOne']({'_id':_0x128c94});return;}}catch(_0x1330c3){return{'error':_0x1330c3};}}async[a0_0x43466e(0x6cf)](_0x2d62f2){const _0x57aed8=a0_0x43466e;try{if(this[_0x57aed8(0x441)][_0x57aed8(0x626)])return await this[_0x57aed8(0x79c)][_0x57aed8(0x41a)]({'_id':_0x2d62f2});}catch{return{};}}},ts=class extends _{constructor(_0x50c040,_0x164bf8){const _0x54e199=a0_0x43466e;super(_0x164bf8),this['authModel']=_0x50c040,this[_0x54e199(0x609)]=_0x164bf8,this[_0x54e199(0x1c5)]=_0x164bf8[_0x54e199(0x5e9)]('AUTHENTICATION');}async[a0_0x43466e(0x80b)](_0x2a93cb,_0x5e343a){const _0x5bbad7=a0_0x43466e;try{if(this[_0x5bbad7(0x441)][_0x5bbad7(0x626)])return{'insertCount':(await this[_0x5bbad7(0x172)]['updateOne']({'_id':_0x5e343a},{'$set':{..._0x2a93cb}},{'upsert':!0x0}))[_0x5bbad7(0x741)]};}catch(_0x279644){return{'error':_0x279644};}}async['updateAll'](_0x2063c2,_0x4c795e){const _0x3f56be=a0_0x43466e;try{if(this[_0x3f56be(0x441)][_0x3f56be(0x626)])return{'insertCount':(await this[_0x3f56be(0x172)][_0x3f56be(0x389)](_0x2063c2,{'$set':_0x4c795e},{'upsert':!0x1}))[_0x3f56be(0x741)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x401419){return{'error':_0x401419};}}async[a0_0x43466e(0x277)](_0x3ea2b2){const _0x3abf02=a0_0x43466e;try{if(this[_0x3abf02(0x441)][_0x3abf02(0x626)])return{'insertCount':(await this['authModel'][_0x3abf02(0x277)](_0x3ea2b2))[_0x3abf02(0x469)]};throw new Error(_0x3abf02(0x2ff));}catch(_0x7c12fb){return{'error':_0x7c12fb};}}async[a0_0x43466e(0x274)](_0x578163){const _0x2e0452=a0_0x43466e;try{if(this[_0x2e0452(0x441)][_0x2e0452(0x626)]){await this['authModel'][_0x2e0452(0x31e)]({'_id':_0x578163});return;}}catch(_0x10bcba){return{'error':_0x10bcba};}}async['find'](_0x5a2a83){const _0x413685=a0_0x43466e;try{if(this['dbSettings'][_0x413685(0x626)])return await this[_0x413685(0x172)]['findOne']({'_id':_0x5a2a83});}catch{return{};}}async[a0_0x43466e(0x3b5)](){const _0x5d683e=a0_0x43466e;try{if(this[_0x5d683e(0x441)][_0x5d683e(0x626)])return await this[_0x5d683e(0x172)][_0x5d683e(0x6cf)]();}catch{return[];}}async[a0_0x43466e(0x856)](_0x13a27e){const _0x1c6066=a0_0x43466e;try{if(this['dbSettings']['ENABLED'])return await this[_0x1c6066(0x172)][_0x1c6066(0x6cf)](_0x13a27e);}catch{return[];}}},ss=class extends _{async[a0_0x43466e(0x31e)](_0x203fd2){const _0x428f36=a0_0x43466e;try{let _0x1e0b29=A(_0x203fd2[_0x428f36(0x392)]);return{'deletedCount':(await Ce[_0x428f36(0x31e)](_0x1e0b29))[_0x428f36(0x469)]};}catch(_0x58ea17){return{'error':_0x58ea17?.[_0x428f36(0x880)]()};}}async['updateOne'](_0xc30b4d,_0x378b76){const _0x3835ee=a0_0x43466e;try{let _0x44bb96=await Ce[_0x3835ee(0x315)](_0xc30b4d);return _0x44bb96?(Object[_0x3835ee(0x1e5)](_0x44bb96,_0x378b76),await _0x44bb96[_0x3835ee(0x4dd)]()):(console[_0x3835ee(0x434)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0xc30b4d),null);}catch(_0x35e12f){return console[_0x3835ee(0x434)](_0x3835ee(0x252),_0x35e12f),null;}}async[a0_0x43466e(0x21a)](_0x40a38e){const _0x2821bd=a0_0x43466e;try{return await new Ce(_0x40a38e)['save']();}catch(_0xa12c2e){return console[_0x2821bd(0x434)](_0x2821bd(0x554),_0xa12c2e),null;}}async[a0_0x43466e(0x3b5)](_0x398cad){const _0x5bd927=a0_0x43466e;try{let _0x57289c=_0x398cad[_0x5bd927(0x392)]??{};return await Ce[_0x5bd927(0x6cf)](_0x57289c)[_0x5bd927(0x18b)](_0x398cad['limit']??0x0)['lean']();}catch(_0x24eab7){return console[_0x5bd927(0x434)](_0x5bd927(0x31b),_0x24eab7),[];}}async['findOne'](_0x73b2a3){const _0x3ead71=a0_0x43466e;try{let _0x4c37c1=A(_0x73b2a3['where']);return await Ce['findOne'](_0x4c37c1)[_0x3ead71(0x6e2)]();}catch{return null;}}},as=class extends _{[a0_0x43466e(0x2bb)](_0x1467fc){return Sa(_0x1467fc);}async[a0_0x43466e(0x2de)](_0x544a1b){const _0x5b1b74=a0_0x43466e;if(_0x544a1b[_0x5b1b74(0x695)]!==0x0)try{return{'insertCount':(await this[_0x5b1b74(0x2bb)](_0x544a1b[0x0]['owner'])[_0x5b1b74(0x873)]([..._0x544a1b]))[_0x5b1b74(0x695)]};}catch(_0x3a83ae){return _0x3a83ae;}}async[a0_0x43466e(0x274)](_0x487d37,_0x51f24d){const _0x4eae5f=a0_0x43466e;try{let _0x3720f8=this[_0x4eae5f(0x2bb)](_0x51f24d),_0x1de37a=A(_0x487d37[_0x4eae5f(0x392)]);return{'deletedCount':(await _0x3720f8[_0x4eae5f(0x277)](_0x1de37a))[_0x4eae5f(0x469)]};}catch(_0x23a40f){return{'error':_0x23a40f?.[_0x4eae5f(0x880)]()};}}async[a0_0x43466e(0x31e)](_0x23af58,_0x274fd7){const _0x46ff0f=a0_0x43466e;try{let _0x453ba5=this[_0x46ff0f(0x2bb)](_0x274fd7),_0x5152f3=A(_0x23af58[_0x46ff0f(0x392)]);return{'deletedCount':(await _0x453ba5['deleteOne'](_0x5152f3))[_0x46ff0f(0x469)]};}catch(_0x46dbd8){return{'error':_0x46dbd8?.['toString']()};}}async[a0_0x43466e(0x211)](_0x454660,_0x3cddd6){const _0x1935ea=a0_0x43466e;try{if(_0x454660[_0x1935ea(0x695)]===0x0)return;let _0x4ea338=this[_0x1935ea(0x2bb)](_0x3cddd6),_0xec29ee=_0x454660[_0x1935ea(0x614)](_0x5d1e9a=>({'updateOne':{'filter':{'name':_0x5d1e9a['name'],'owner':_0x3cddd6},'update':{..._0x5d1e9a}}})),{modifiedCount:_0x14f935}=await _0x4ea338[_0x1935ea(0x171)](_0xec29ee);return{'insertCount':_0x14f935};}catch{return;}}async['updateMany'](_0x13d390,_0x595d76,_0x3e5bbc){const _0x18d08b=a0_0x43466e;try{return{'modifiedCount':(await this[_0x18d08b(0x2bb)](_0x3e5bbc)[_0x18d08b(0x389)](_0x13d390,{'$set':_0x595d76})[_0x18d08b(0x778)]())['modifiedCount']};}catch(_0x37be7e){return console[_0x18d08b(0x434)](_0x18d08b(0x272),_0x37be7e),{'error':_0x37be7e};}}async[a0_0x43466e(0x723)](_0x1ffd95,_0x5f0505,_0x46e9c9){const _0x243020=a0_0x43466e;try{return await this[_0x243020(0x2bb)](_0x46e9c9)[_0x243020(0x4f2)]({'_id':_0x1ffd95},{'$set':_0x5f0505},{'new':!0x0,'upsert':!0x0})[_0x243020(0x6e2)]();}catch(_0x572909){return console['error'](_0x572909),null;}}async[a0_0x43466e(0x6cf)](_0x1e7bbf,_0x31276b){const _0x3ef12c=a0_0x43466e;try{return await this[_0x3ef12c(0x2bb)](_0x31276b)[_0x3ef12c(0x6cf)](_0x1e7bbf)['sort']({'lastInteraction':-0x1})[_0x3ef12c(0x6e2)]();}catch{return[];}}async[a0_0x43466e(0x41a)](_0x306ca8,_0x31bdb7){const _0x3665aa=a0_0x43466e;try{return await this[_0x3665aa(0x2bb)](_0x31bdb7)[_0x3665aa(0x41a)]({..._0x306ca8['where']})[_0x3665aa(0x6e2)]();}catch{return null;}}async[a0_0x43466e(0x17c)](_0x860554){const _0x1e9b3b=a0_0x43466e;try{return await this[_0x1e9b3b(0x2bb)](_0x860554)['collection']['drop'](),{'success':!0x0};}catch(_0x50774f){return console['error'](_0x50774f),{'success':!0x1,'error':_0x50774f};}}},is=class extends _{[a0_0x43466e(0x3ab)](_0xe51f66){return Ma(_0xe51f66);}async['bulkWrite'](_0x3939d7,_0x98575f){const _0xc80052=a0_0x43466e;try{return await this[_0xc80052(0x3ab)](_0x98575f)[_0xc80052(0x171)](_0x3939d7);}catch(_0x13ff1a){return console['error']('Erro\x20ao\x20executar\x20bulkWrite:',_0x13ff1a),null;}}async['createAndSave'](_0x3dc708,_0x48442c){const _0x1e6b78=a0_0x43466e;try{let _0x2aee5b=this[_0x1e6b78(0x3ab)](_0x48442c);return await new _0x2aee5b(_0x3dc708)['save']();}catch(_0x5e4ae6){return console[_0x1e6b78(0x434)](_0x1e6b78(0x21e),_0x5e4ae6),null;}}async[a0_0x43466e(0x31e)](_0x4d6798,_0x1081a6){const _0x4dd77d=a0_0x43466e;try{return await this[_0x4dd77d(0x3ab)](_0x1081a6)['findByIdAndDelete'](_0x4d6798),{};}catch(_0x50689d){return{'error':_0x50689d?.[_0x4dd77d(0x880)]()};}}async['updateOne'](_0x4e24aa,_0x2daf73,_0x1b8b90,_0x4a840d={}){const _0x41969d=a0_0x43466e;try{return await this['getScheduleMessageModelForOwner'](_0x1b8b90)[_0x41969d(0x4f2)](_0x4e24aa,_0x2daf73,{..._0x4a840d,'new':!0x0})[_0x41969d(0x6e2)]();}catch(_0x4999cf){return console['error'](_0x41969d(0x259),_0x4999cf),null;}}async[a0_0x43466e(0x7cb)](_0x31aa2c,_0x50af6f,_0x2dccda){const _0x378325=a0_0x43466e;try{return await this[_0x378325(0x3ab)](_0x2dccda)['findByIdAndUpdate'](_0x31aa2c,_0x50af6f,{'new':!0x0})['lean']();}catch(_0x2b9c0c){return console[_0x378325(0x434)](_0x378325(0x259),_0x2b9c0c),null;}}async[a0_0x43466e(0x6cf)](_0x2741fe,_0x467c85){const _0x5406f2=a0_0x43466e;try{return await this[_0x5406f2(0x3ab)](_0x467c85)[_0x5406f2(0x6cf)](_0x2741fe[_0x5406f2(0x392)])['limit'](_0x2741fe?.[_0x5406f2(0x18b)]??0x0)[_0x5406f2(0x6df)]({'when':0x1})[_0x5406f2(0x6e2)]();}catch{return[];}}async[a0_0x43466e(0x41a)](_0x681ccc,_0x190d7d){const _0x2e4eae=a0_0x43466e;try{return await this[_0x2e4eae(0x3ab)](_0x190d7d)[_0x2e4eae(0x41a)](_0x681ccc[_0x2e4eae(0x392)])[_0x2e4eae(0x6df)]({'when':0x1})[_0x2e4eae(0x6e2)]();}catch{return null;}}async[a0_0x43466e(0x315)](_0x2ffa7b,_0xa0fe8){const _0x1b383c=a0_0x43466e;try{return await this['getScheduleMessageModelForOwner'](_0xa0fe8)[_0x1b383c(0x315)](_0x2ffa7b)[_0x1b383c(0x6e2)]();}catch{return null;}}async[a0_0x43466e(0x277)](_0x2bf714,_0x49c255){const _0x143c0a=a0_0x43466e;try{return{'deletedCount':(await this[_0x143c0a(0x3ab)](_0x49c255)[_0x143c0a(0x277)](_0x2bf714))[_0x143c0a(0x469)]};}catch(_0x1210b2){return console[_0x143c0a(0x434)](_0x143c0a(0x1ce),_0x1210b2),{'error':_0x1210b2};}}async[a0_0x43466e(0x17c)](_0x50489b){const _0x541279=a0_0x43466e;try{return await this[_0x541279(0x3ab)](_0x50489b)[_0x541279(0x79f)][_0x541279(0x1cb)](),{'success':!0x0};}catch(_0x5e7030){return console[_0x541279(0x434)](_0x5e7030),{'success':!0x1,'error':_0x5e7030};}}},os=class extends _{async[a0_0x43466e(0x211)](_0x31710c,_0x4e5a6a){const _0x4d546a=a0_0x43466e;try{if(this[_0x4d546a(0x441)]['ENABLED'])return await Ie[_0x4d546a(0x4f2)]({'_id':_0x4e5a6a},{'$set':_0x31710c},{'new':!0x0});}catch(_0xe953cd){throw console[_0x4d546a(0x434)](_0x4d546a(0x3ea),_0xe953cd),_0xe953cd;}}async['findOrCreate'](_0x45de58){const _0x27d555=a0_0x43466e;try{let _0x1d325b=await Ie[_0x27d555(0x315)](_0x45de58);return _0x1d325b?_0x1d325b[_0x27d555(0x402)]||(_0x1d325b[_0x27d555(0x402)]=[],await _0x1d325b[_0x27d555(0x4dd)]()):(_0x1d325b=new Ie({'_id':_0x45de58,'autoCompleteMessages':[]}),await _0x1d325b[_0x27d555(0x4dd)]()),_0x1d325b;}catch(_0x4327ab){return _0x4327ab[_0x27d555(0x3ba)]===0x2af8&&_0x4327ab['keyPattern']&&_0x4327ab['keyPattern'][_0x27d555(0x7bf)]?(console['error'](_0x27d555(0x6cb)),await Ie[_0x27d555(0x79f)][_0x27d555(0x310)](_0x27d555(0x7a1)),null):(console[_0x27d555(0x434)](_0x27d555(0x588),_0x4327ab),null);}}},jo=new $(a0_0x43466e(0x660)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,I?.['getClient']()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo[a0_0x43466e(0x4d3)](a0_0x43466e(0x255));var Ng=require(a0_0x43466e(0x4a1)),js=require('fs'),Di=T(require(a0_0x43466e(0x38b))),ki=T(require(a0_0x43466e(0x56e))),Ue=class u{static #e;static set[a0_0x43466e(0x366)](_0x26f573){this.#e=_0x26f573;}static get[a0_0x43466e(0x38b)](){const _0x50a9ed=a0_0x43466e;let {FULLCHAIN:_0x3536a0,PRIVKEY:_0x27345c}=S[_0x50a9ed(0x5e9)](_0x50a9ed(0x701));return Di[_0x50a9ed(0x343)]({'cert':(0x0,js[_0x50a9ed(0x6d8)])(_0x3536a0),'key':(0x0,js[_0x50a9ed(0x6d8)])(_0x27345c)},u.#e);}static get[a0_0x43466e(0x56e)](){return ki['createServer'](u.#e);}},je=T(require('fs')),qi=T(require(a0_0x43466e(0x1d3))),Je=T(require(a0_0x43466e(0x687))),ns=T(require(a0_0x43466e(0x6a6))),rs=require(a0_0x43466e(0x134));function sr(){const _0x3f697c=a0_0x43466e;G[_0x3f697c(0x458)]();let _0x4a620f=ns[_0x3f697c(0x56d)][_0x3f697c(0x14c)](__dirname,_0x3f697c(0x525));Ji(_0x4a620f);}var Ji=_0x5d7a41=>{const _0x5781f8=a0_0x43466e;let _0x4b6887=je[_0x5781f8(0x56d)][_0x5781f8(0x820)](_0x5d7a41),_0x41841e=0xc*0x3c*0x3c*0x3e8,_0x5bd37a=0x2*0x3c*0x3c*0x3e8,_0x35036e=new Date()['getTime']();_0x4b6887[_0x5781f8(0x663)](_0x333c4a=>{const _0x20239b=_0x5781f8;let _0x312624=ns[_0x20239b(0x56d)][_0x20239b(0x14c)](_0x5d7a41,_0x333c4a),_0x2923f9=je[_0x20239b(0x56d)]['statSync'](_0x312624)[_0x20239b(0x72d)][_0x20239b(0x62e)]();_0x35036e-_0x2923f9>_0x41841e&&(je[_0x20239b(0x56d)]['unlinkSync'](_0x312624),console['log'](_0x20239b(0x329)+_0x333c4a));}),setTimeout(()=>Ji(_0x5d7a41),_0x5bd37a);};function ar(){const _0x5f03ef=a0_0x43466e;let _0x3e7305=new $(_0x5f03ef(0x732)),_0x3601a9=(0x0,ye[_0x5f03ef(0x56d)])();_0x3601a9[_0x5f03ef(0x60d)]((0x0,ji[_0x5f03ef(0x56d)])({'origin'(_0x5a91db,_0x44c1ff){const _0x1c131a=_0x5f03ef;let {ORIGIN:_0x15abef}=S[_0x1c131a(0x5e9)](_0x1c131a(0x7ff));return _0x5a91db||(_0x5a91db='*'),_0x15abef[_0x1c131a(0x1aa)]('*')!==-0x1||_0x15abef[_0x1c131a(0x1aa)](_0x5a91db)!==-0x1?_0x44c1ff(null,!0x0):_0x44c1ff(new Error(_0x1c131a(0x5dd)));},'methods':[...S[_0x5f03ef(0x5e9)](_0x5f03ef(0x7ff))[_0x5f03ef(0x7de)]],'credentials':S[_0x5f03ef(0x5e9)](_0x5f03ef(0x7ff))[_0x5f03ef(0x45f)]}),(0x0,ye[_0x5f03ef(0x5c0)])({'extended':!0x0,'limit':_0x5f03ef(0x311)}),(0x0,ye[_0x5f03ef(0x15e)])({'limit':_0x5f03ef(0x311)})),_0x3601a9['use']((_0x339b72,_0x2c5d61,_0x41631d)=>{const _0x44eeb8=_0x5f03ef;_0x339b72[_0x44eeb8(0x6a6)][_0x44eeb8(0x685)](_0x44eeb8(0x4c4))?_0x41631d():(0x0,Ui[_0x44eeb8(0x56d)])()(_0x339b72,_0x2c5d61,_0x41631d);}),_0x3601a9[_0x5f03ef(0x4b0)]('view\x20engine',_0x5f03ef(0x338)),_0x3601a9[_0x5f03ef(0x4b0)]('views',(0x0,qs[_0x5f03ef(0x14c)])(le,_0x5f03ef(0x832))),_0x3601a9['use'](ye[_0x5f03ef(0x56d)][_0x5f03ef(0x41e)]((0x0,qs[_0x5f03ef(0x14c)])(le,_0x5f03ef(0x542)))),_0x3601a9[_0x5f03ef(0x60d)]((_0x68c829,_0xb09738,_0x36a75d)=>{const _0xa11add=_0x5f03ef;let _0x5e8c08=_0xb09738[_0xa11add(0x5c8)];_0xb09738['send']=function(_0x490322){const _0x1c6e9b=_0xa11add;if(_0x68c829[_0x1c6e9b(0x2b1)][_0x1c6e9b(0x1c4)]===_0x1c6e9b(0x27a)||_0x68c829[_0x1c6e9b(0x72b)][_0x1c6e9b(0x683)]==='true'){let _0x22514e=JSON[_0x1c6e9b(0x2ef)](_0x490322);_0x490322=JSON[_0x1c6e9b(0x5ad)](_0x4f91bf(_0x22514e));}return _0x5e8c08['apply'](_0xb09738,[_0x490322]);},_0x36a75d();}),_0x3601a9['use']('/',ke),_0x3601a9['use']((_0x208d7d,_0x216b50,_0x14ce80,_0x57b604)=>{const _0x452a7a=_0x5f03ef;if(_0x208d7d)return _0x14ce80['status'](_0x208d7d[_0x452a7a(0x405)]||0x1f4)[_0x452a7a(0x15e)](_0x208d7d);},(_0xd015a4,_0x25b0b9,_0x3046da)=>{const _0x500be4=_0x5f03ef;let {method:_0x2d398a,url:_0x24e766}=_0xd015a4;_0x25b0b9['status'](0x194)['json']({'status':0x194,'message':_0x500be4(0x5f8)+_0x2d398a[_0x500be4(0x143)]()+'\x20'+_0x24e766,'error':_0x500be4(0x6f9)}),_0x3046da();});let _0x4f91bf=(_0x3ffd7c,_0xf48fe7=_0x5f03ef(0x6da))=>{const _0x10adbd=_0x5f03ef;let _0x4e8d8e=(_0x288dca,_0x5b85a2=null,_0xc9be56=!0x1)=>{const _0x18e9ec=a0_0x5767;let _0x268841={};return Object[_0x18e9ec(0x73e)](_0x288dca)['forEach'](_0x401c90=>{const _0x278cb6=_0x18e9ec;let _0x1597c7=_0x288dca[_0x401c90],_0x39f11c=''+_0xf48fe7+_0x401c90;_0x5b85a2&&!_0xc9be56&&(_0x39f11c=_0x5b85a2+'.'+_0x401c90),!_0x1597c7&&_0x1597c7!==0x0&&_0x1597c7!==!0x1||typeof _0x1597c7>'u'?_0x268841[_0x39f11c]=null:typeof _0x1597c7!='object'&&!Array[_0x278cb6(0x6c7)](_0x1597c7)?_0x268841[_0x39f11c]=_0x1597c7:typeof _0x1597c7==_0x278cb6(0x6eb)&&!Array[_0x278cb6(0x6c7)](_0x1597c7)?_0x268841=Object[_0x278cb6(0x1e5)](_0x268841,_0x4e8d8e(_0x1597c7,_0x39f11c)):Array[_0x278cb6(0x6c7)](_0x1597c7)&&(typeof _0x1597c7[0x0]=='object'?(_0x268841[_0x39f11c]=[],_0x1597c7['forEach'](_0x3c269f=>{const _0x2fe265=_0x278cb6;_0x268841[_0x39f11c][_0x2fe265(0x7ef)](_0x4e8d8e(_0x3c269f,_0x39f11c,!0x0));})):_0x268841[_0x39f11c]=_0x1597c7);}),_0x268841;};return Array[_0x10adbd(0x6c7)](_0x3ffd7c)?_0x3ffd7c['map'](_0x4d0661=>_0x4e8d8e(_0x4d0661)):typeof _0x3ffd7c==_0x10adbd(0x6eb)&&_0x3ffd7c!==null?_0x4e8d8e(_0x3ffd7c):{};},_0x232adf=S['get']('SERVER');Ue[_0x5f03ef(0x366)]=_0x3601a9;let _0x2ddd97=Ue[_0x232adf['TYPE']],_0x9e828c='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x2ddd97[_0x5f03ef(0x5bc)](_0x232adf[_0x5f03ef(0x410)],()=>{const _0x2befa1=_0x5f03ef;_0x3e7305[_0x2befa1(0x217)](_0x9e828c),_0x3e7305[_0x2befa1(0x217)](_0x232adf[_0x2befa1(0x7a0)][_0x2befa1(0x143)]()+'\x20-\x20ON:\x20'+_0x232adf['PORT']);}),sr(),Zs();}var ir=a0_0x43466e(0x61b),or=ns[a0_0x43466e(0x56d)][a0_0x43466e(0x14c)](__dirname,'./.git/config'),Re=null;function rr(){return new Promise((_0x19bf3b,_0x5b7d6e)=>{const _0x405741=a0_0x5767;je['default'][_0x405741(0x3c0)](or,_0x405741(0x8a0),(_0x5f0e1f,_0x3c2789)=>{const _0x51cb7c=_0x405741;if(_0x5f0e1f){Re=_0x5f0e1f,_0x19bf3b();return;}qi[_0x51cb7c(0x56d)][_0x51cb7c(0x2ef)](_0x3c2789)[_0x51cb7c(0x3ed)]['url']===ir?(Re=null,_0x19bf3b()):(Re=new Error(_0x51cb7c(0x449)),_0x19bf3b());});});}async function nr(){const _0x2d1941=a0_0x43466e;try{await rr(),await Vs();}catch(_0x45d0ba){console[_0x2d1941(0x434)](_0x2d1941(0x218)+_0x45d0ba),process[_0x2d1941(0x6ef)](0x1);}}nr();async function Vi(){const _0x14de24=a0_0x43466e;let _0x188301;try{_0x188301=(await Je[_0x14de24(0x56d)][_0x14de24(0x5e9)]('https://jsonip.com'))['data']['ip'];}catch(_0x584a66){console[_0x14de24(0x434)](_0x584a66);try{_0x188301=(await Je['default'][_0x14de24(0x5e9)]('https://api.ipify.org?format=json'))[_0x14de24(0x42e)]['ip'];}catch(_0x5e86be){console[_0x14de24(0x434)](_0x5e86be);try{_0x188301=(await Je[_0x14de24(0x56d)][_0x14de24(0x5e9)](_0x14de24(0x678)))[_0x14de24(0x42e)][_0x14de24(0x30d)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1775d0){return console['error'](_0x1775d0),!0x1;}}}return _0x188301;}var Li=0x0;async function cr(){const _0x4cc5dc=a0_0x43466e;let _0x4a5c64=await new pe(S['get'](_0x4cc5dc(0x581)))[_0x4cc5dc(0x500)]();return console[_0x4cc5dc(0x217)](_0x4cc5dc(0x2fd),_0x4a5c64[_0x4cc5dc(0x695)]),_0x4a5c64['length'];}function lr(_0xcf9222){const _0x9931d6=a0_0x43466e;let _0xe3c2b4=_0xcf9222[_0x9931d6(0x5e9)](_0x9931d6(0x732))['URL'],_0x1cb291=_0xcf9222[_0x9931d6(0x5e9)]('SSL_CONF');console[_0x9931d6(0x217)](_0x9931d6(0x3a7),_0xe3c2b4),console[_0x9931d6(0x217)](_0x9931d6(0x2ce),_0x1cb291);let _0x56e888='',_0x7b25f1=_0xe3c2b4||'';if(_0xe3c2b4){let _0xe78269=_0xe3c2b4['match'](/\/\/(.*?)\./);console[_0x9931d6(0x217)](_0x9931d6(0x742),_0xe78269),_0xe78269&&_0xe78269[0x1]&&(_0x56e888=_0xe78269[0x1],console[_0x9931d6(0x217)](_0x9931d6(0x6f6),_0x56e888));}if(!_0x56e888&&_0x1cb291&&_0x1cb291['FULLCHAIN']){let _0x56d751=_0x1cb291[_0x9931d6(0x738)][_0x9931d6(0x380)]('/');console[_0x9931d6(0x217)](_0x9931d6(0x381),_0x56d751);let _0x13deb2=_0x56d751[_0x56d751[_0x9931d6(0x695)]-0x2];if(console[_0x9931d6(0x217)](_0x9931d6(0x46f),_0x13deb2),_0x13deb2){let _0x1031b2=_0x13deb2[_0x9931d6(0x380)]('.');console[_0x9931d6(0x217)](_0x9931d6(0x29d),_0x1031b2),_0x1031b2[_0x9931d6(0x695)]>0x2&&(_0x56e888=_0x1031b2[0x0],console[_0x9931d6(0x217)](_0x9931d6(0x473),_0x56e888),_0x7b25f1=''+_0x13deb2);}}return{'subdomain':_0x56e888||_0x9931d6(0x224),'fullURL':_0x7b25f1||_0x9931d6(0x5e3)};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x43466e(0x217)](a0_0x43466e(0x32c),B),console['log'](a0_0x43466e(0x83e),Gs);async function ur(){const _0x42234b=a0_0x43466e;let _0x260c00=S[_0x42234b(0x5e9)](_0x42234b(0x581)),_0x32bfb4=S['get'](_0x42234b(0x749))['API_KEY']['KEY'],_0x415c2a=S[_0x42234b(0x5e9)](_0x42234b(0x701)),_0x29da74=await Vi(),_0x43d3d2=S['get'](_0x42234b(0x732))[_0x42234b(0x410)],_0x218be9=Gs;try{let _0x50f799={'ip':_0x29da74||null,'redis_enable':_0x260c00?.[_0x42234b(0x626)]||null,'apikey':_0x32bfb4||null,'ssl':_0x415c2a?.[_0x42234b(0x584)]||null,'lastupdate':Gi||null,'port':_0x43d3d2||null,'gitInstallError':Re?.[_0x42234b(0x416)]||null,'url':_0x218be9||null,'subdomain':B};if(console[_0x42234b(0x217)](_0x42234b(0x66f),_0x50f799['ip']),_0x260c00&&_0x260c00[_0x42234b(0x626)]){let _0x570e5f=await cr();_0x50f799[_0x42234b(0x854)]=_0x570e5f||null;}for(let _0x3038d7 in _0x50f799)_0x50f799[_0x42234b(0x48f)](_0x3038d7)&&_0x3038d7!=='ip'&&(_0x50f799[_0x3038d7]=JSON[_0x42234b(0x5ad)](_0x50f799[_0x3038d7]));return(await Je[_0x42234b(0x56d)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x50f799))[_0x42234b(0x42e)];}catch(_0x74909b){return console[_0x42234b(0x434)](_0x74909b),!0x1;}}var Js=!0x1,Gi=0x26d,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x8c25b6=a0_0x43466e;let _0x1bc1ce=_0x8c25b6(0x1bc);Re===null&&(_0x1bc1ce=await Vi());let _0x1b8966=await ur();if(_0x1b8966){if(_0x1b8966[_0x8c25b6(0x3a1)][_0x8c25b6(0x744)]===!0x0){Re===null&&_0x1b8966[_0x8c25b6(0x3a1)][_0x8c25b6(0x68e)]-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x270899=0x24*0x3c*0x3c,_0x47e748=_0x1b8966[_0x8c25b6(0x3a1)]['segundos']>_0x270899?_0x270899:_0x1b8966[_0x8c25b6(0x3a1)][_0x8c25b6(0x5bf)],_0x5c4750=Number(_0x47e748);if(isNaN(_0x5c4750)){console[_0x8c25b6(0x434)](_0x8c25b6(0x26a));return;}let _0x3a8e4c=Math['floor'](_0x5c4750/0xe10),_0x44b019=Math[_0x8c25b6(0x27d)](_0x5c4750%0xe10/0x3c),_0x2b0bf3=new Date(Date[_0x8c25b6(0x24f)]()+_0x5c4750*0x3e8);setTimeout(Vs,_0x5c4750*0x3e8);let _0x12e009=_0x165770=>_0x165770[_0x8c25b6(0x880)]()[_0x8c25b6(0x889)](0x2,'0'),_0x12349b=_0x8c25b6(0x3b1)+_0x12e009(_0x3a8e4c)+_0x8c25b6(0x697)+_0x12e009(_0x44b019)+_0x8c25b6(0x1ad)+_0x12e009(_0x2b0bf3['getHours']())+':'+_0x12e009(_0x2b0bf3[_0x8c25b6(0x74b)]())+'.';console['log'](_0x12349b);}else return console[_0x8c25b6(0x217)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console[_0x8c25b6(0x217)](_0x8c25b6(0x13e)),process[_0x8c25b6(0x6ef)]()),_0x8c25b6(0x2ca);}else{if(Li++,Li<dr)console[_0x8c25b6(0x217)](_0x8c25b6(0x7cd)+Fi/0xea60+'\x20minutos...'),setTimeout(Vs,Fi);else return console['error'](_0x8c25b6(0x13c)),_0x8c25b6(0x323);}}async function pr(){const _0x3787ae=a0_0x43466e;console['log']('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0x3787ae(0x217)](_0x3787ae(0x2fa)),(0x0,rs['spawn'])(_0x3787ae(0x75f),{'shell':!0x0})['on']('close',_0xfa5bbb=>{const _0x205066=_0x3787ae;_0xfa5bbb!==0x0?console['error'](_0x205066(0x386)):(console[_0x205066(0x217)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0x205066(0x217)](_0x205066(0x4d9)),(0x0,rs[_0x205066(0x599)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x205066(0x604),_0x3867c1=>{const _0xc4b9d6=_0x205066;if(_0x3867c1!==0x0)console[_0xc4b9d6(0x434)](_0xc4b9d6(0x437));else{console[_0xc4b9d6(0x217)](_0xc4b9d6(0x4e5));let _0x161239=(0x0,rs[_0xc4b9d6(0x599)])(_0xc4b9d6(0x849),{'shell':!0x0});_0x161239[_0xc4b9d6(0x137)]['on'](_0xc4b9d6(0x42e),_0x3114d5=>{const _0x438cbc=_0xc4b9d6;console[_0x438cbc(0x217)](_0x438cbc(0x40d)+_0x3114d5);}),_0x161239[_0xc4b9d6(0x754)]['on'](_0xc4b9d6(0x42e),_0x464894=>{const _0x2f0ca1=_0xc4b9d6;console[_0x2f0ca1(0x434)](_0x2f0ca1(0x729)+_0x464894);}),_0x161239['on']('exit',_0x4c5e3b=>{const _0xefab21=_0xc4b9d6;_0x4c5e3b!==0x0?console[_0xefab21(0x434)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x4c5e3b):console[_0xefab21(0x217)](_0xefab21(0x539)),console[_0xefab21(0x217)](_0xefab21(0x2f2)),setTimeout(()=>process[_0xefab21(0x6ef)](),0x2710);});}}));});}0x0&&(module[a0_0x43466e(0x676)]={'fullURL':fullURL,'subdomain':subdomain});