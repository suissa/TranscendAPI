const a0_0x3eb0d8=a0_0x3e55;(function(_0xb49687,_0x40f481){const _0x2db4a9=a0_0x3e55,_0x49b43e=_0xb49687();while(!![]){try{const _0x2457db=parseInt(_0x2db4a9(0x13b))/0x1*(-parseInt(_0x2db4a9(0x239))/0x2)+-parseInt(_0x2db4a9(0x254))/0x3+parseInt(_0x2db4a9(0x4c1))/0x4*(parseInt(_0x2db4a9(0x7c2))/0x5)+-parseInt(_0x2db4a9(0x57c))/0x6+-parseInt(_0x2db4a9(0x74b))/0x7*(parseInt(_0x2db4a9(0x541))/0x8)+-parseInt(_0x2db4a9(0x702))/0x9*(-parseInt(_0x2db4a9(0x506))/0xa)+parseInt(_0x2db4a9(0x26a))/0xb*(parseInt(_0x2db4a9(0x466))/0xc);if(_0x2457db===_0x40f481)break;else _0x49b43e['push'](_0x49b43e['shift']());}catch(_0x510fee){_0x49b43e['push'](_0x49b43e['shift']());}}}(a0_0x2d2d,0x7743a));var Gi=Object['create'],Je=Object[a0_0x3eb0d8(0x5ee)],Bi=Object[a0_0x3eb0d8(0x5ca)],Wi=Object[a0_0x3eb0d8(0x72c)],zi=Object[a0_0x3eb0d8(0x325)],Hi=Object[a0_0x3eb0d8(0x5c0)][a0_0x3eb0d8(0x79b)],Ki=(_0x448a20,_0x597c55)=>{for(var _0x279012 in _0x597c55)Je(_0x448a20,_0x279012,{'get':_0x597c55[_0x279012],'enumerable':!0x0});},Vs=(_0x54b828,_0x547831,_0x610705,_0x391d0b)=>{const _0x15a63d=a0_0x3eb0d8;if(_0x547831&&typeof _0x547831==_0x15a63d(0x1a5)||typeof _0x547831==_0x15a63d(0x306)){for(let _0x40fd45 of Wi(_0x547831))!Hi[_0x15a63d(0x79c)](_0x54b828,_0x40fd45)&&_0x40fd45!==_0x610705&&Je(_0x54b828,_0x40fd45,{'get':()=>_0x547831[_0x40fd45],'enumerable':!(_0x391d0b=Bi(_0x547831,_0x40fd45))||_0x391d0b[_0x15a63d(0x399)]});}return _0x54b828;},T=(_0x47ff1e,_0x23e6bf,_0x20b923)=>(_0x20b923=_0x47ff1e!=null?Gi(zi(_0x47ff1e)):{},Vs(_0x23e6bf||!_0x47ff1e||!_0x47ff1e[a0_0x3eb0d8(0x4ad)]?Je(_0x20b923,a0_0x3eb0d8(0x487),{'value':_0x47ff1e,'enumerable':!0x0}):_0x20b923,_0x47ff1e)),Qi=_0x228975=>Vs(Je({},a0_0x3eb0d8(0x4ad),{'value':!0x0}),_0x228975),ur={};Ki(ur,{'fullURL':()=>qs,'subdomain':()=>W}),module['exports']=Qi(ur);var Fi=T(require(a0_0x3eb0d8(0x1e0))),Bs=require('fs'),Ws=require(a0_0x3eb0d8(0x539)),zs=require('path'),qe=require(a0_0x3eb0d8(0x699)),ne=process['cwd'](),be=(0x0,qe[a0_0x3eb0d8(0x633)])(ne,'instances'),Gs=(0x0,qe[a0_0x3eb0d8(0x633)])(ne,a0_0x3eb0d8(0x5d3)),sn=(0x0,qe[a0_0x3eb0d8(0x633)])(ne,a0_0x3eb0d8(0x238),'auth'),us=class{constructor(){this['loadEnv']();}['get'](_0x370583){const _0x73ec91=a0_0x3eb0d8;return this[_0x73ec91(0x31a)][_0x370583];}[a0_0x3eb0d8(0x7f6)](){const _0x14a02a=a0_0x3eb0d8;this[_0x14a02a(0x31a)]=process[_0x14a02a(0x31a)]?.['DOCKER_ENV']!==_0x14a02a(0x19a)?this['envYaml']():this['envProcess'](),process[_0x14a02a(0x31a)]?.[_0x14a02a(0x25a)]===_0x14a02a(0x19a)&&(this[_0x14a02a(0x31a)][_0x14a02a(0x477)]['TYPE']=_0x14a02a(0x346),this[_0x14a02a(0x31a)]['SERVER'][_0x14a02a(0x78a)]=Number[_0x14a02a(0x1c9)](process[_0x14a02a(0x31a)]?.['SERVER_PORT']??_0x14a02a(0x435)));}[a0_0x3eb0d8(0x299)](){const _0x2eb41d=a0_0x3eb0d8;return(0x0,Ws[_0x2eb41d(0x777)])((0x0,Bs['readFileSync'])((0x0,zs['join'])(Gs,_0x2eb41d(0x187)),{'encoding':'utf-8'}));}[a0_0x3eb0d8(0x5a4)](){const _0x3fd2c1=a0_0x3eb0d8;return{'SERVER':{'TYPE':process[_0x3fd2c1(0x31a)]['SERVER_TYPE'],'PORT':Number[_0x3fd2c1(0x1c9)](process[_0x3fd2c1(0x31a)][_0x3fd2c1(0x404)]),'URL':process[_0x3fd2c1(0x31a)][_0x3fd2c1(0x294)]},'CORS':{'ORIGIN':process[_0x3fd2c1(0x31a)][_0x3fd2c1(0x684)][_0x3fd2c1(0x766)](','),'METHODS':process[_0x3fd2c1(0x31a)]['CORS_METHODS'][_0x3fd2c1(0x766)](','),'CREDENTIALS':process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x443)]===_0x3fd2c1(0x19a)},'SSL_CONF':{'PRIVKEY':process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x353)],'FULLCHAIN':process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x2ee)]},'STORE':{'CLEANING_INTERVAL':Number[_0x3fd2c1(0x5f3)](process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x540)])?Number[_0x3fd2c1(0x1c9)](process[_0x3fd2c1(0x31a)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x3fd2c1(0x31a)]?.['STORE_MESSAGE']===_0x3fd2c1(0x19a),'CONTACTS':process[_0x3fd2c1(0x31a)]?.['STORE_CONTACTS']==='true','CHATS':process[_0x3fd2c1(0x31a)]?.['STORE_CHATS']===_0x3fd2c1(0x19a)},'DATABASE':{'CONNECTION':{'HOST':process[_0x3fd2c1(0x31a)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x6d2)]),'USER':process[_0x3fd2c1(0x31a)][_0x3fd2c1(0x5aa)],'PASSWORD':process['env'][_0x3fd2c1(0x77f)],'URI':process['env'][_0x3fd2c1(0x544)],'DB_PREFIX_NAME':process[_0x3fd2c1(0x31a)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x2da)]===_0x3fd2c1(0x19a)},'REDIS':{'ENABLED':process['env']?.[_0x3fd2c1(0x3be)]===_0x3fd2c1(0x19a),'URI':process[_0x3fd2c1(0x31a)][_0x3fd2c1(0x235)]||_0x3fd2c1(0x7ed),'PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']||_0x3fd2c1(0xc5)},'LOG':{'LEVEL':process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x485)]['split'](','),'COLOR':process[_0x3fd2c1(0x31a)]?.[_0x3fd2c1(0x794)]===_0x3fd2c1(0x19a)},'PROXY':process['env']?.[_0x3fd2c1(0x53e)]===_0x3fd2c1(0x19a),'AUTHENTICATION':{'TYPE':process[_0x3fd2c1(0x31a)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x3fd2c1(0x31a)][_0x3fd2c1(0x3ce)]},'JWT':{'EXPIRIN_IN':Number[_0x3fd2c1(0x5f3)](process[_0x3fd2c1(0x31a)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process['env'][_0x3fd2c1(0x7f7)]):0xe10,'SECRET':process[_0x3fd2c1(0x31a)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),Ui=T(require(a0_0x3eb0d8(0x5b3))),we=T(require(a0_0x3eb0d8(0x517))),js=require(a0_0x3eb0d8(0x699)),ds=T(require(a0_0x3eb0d8(0x44e))),ps=(_0x3cd1cc=>(_0x3cd1cc[a0_0x3eb0d8(0x54d)]=a0_0x3eb0d8(0x6b2),_0x3cd1cc['INFO']='\x1b[34m',_0x3cd1cc['WARN']=a0_0x3eb0d8(0x24c),_0x3cd1cc[a0_0x3eb0d8(0x5ed)]=a0_0x3eb0d8(0x210),_0x3cd1cc['DEBUG']='\x1b[36m',_0x3cd1cc[a0_0x3eb0d8(0x5bb)]=a0_0x3eb0d8(0x4ea),_0x3cd1cc['DARK']=a0_0x3eb0d8(0x2fe),_0x3cd1cc))(ps||{}),Hs=(_0x41a888=>(_0x41a888[a0_0x3eb0d8(0x54d)]=a0_0x3eb0d8(0x5d8),_0x41a888[a0_0x3eb0d8(0x462)]=a0_0x3eb0d8(0x80e),_0x41a888[a0_0x3eb0d8(0x304)]=a0_0x3eb0d8(0x329),_0x41a888[a0_0x3eb0d8(0xe0)]=a0_0x3eb0d8(0x414),_0x41a888['ERROR']=a0_0x3eb0d8(0x575),_0x41a888[a0_0x3eb0d8(0x311)]=a0_0x3eb0d8(0x76c),_0x41a888[a0_0x3eb0d8(0x5bb)]='\x1b[37m%s\x1b[0m',_0x41a888))(Hs||{}),Ks=(_0x22be4d=>(_0x22be4d[a0_0x3eb0d8(0x54d)]=a0_0x3eb0d8(0x54d),_0x22be4d[a0_0x3eb0d8(0xe0)]='WARN',_0x22be4d[a0_0x3eb0d8(0x304)]=a0_0x3eb0d8(0x304),_0x22be4d[a0_0x3eb0d8(0x462)]=a0_0x3eb0d8(0x462),_0x22be4d['ERROR']=a0_0x3eb0d8(0x5ed),_0x22be4d[a0_0x3eb0d8(0x311)]=a0_0x3eb0d8(0x311),_0x22be4d[a0_0x3eb0d8(0x5bb)]=a0_0x3eb0d8(0x5bb),_0x22be4d))(Ks||{}),Qs=(_0x2ff1de=>(_0x2ff1de['LOG']=a0_0x3eb0d8(0x59f),_0x2ff1de[a0_0x3eb0d8(0x304)]=a0_0x3eb0d8(0x12f),_0x2ff1de[a0_0x3eb0d8(0xe0)]=a0_0x3eb0d8(0x71d),_0x2ff1de[a0_0x3eb0d8(0x462)]=a0_0x3eb0d8(0x426),_0x2ff1de[a0_0x3eb0d8(0x5ed)]=a0_0x3eb0d8(0x275),_0x2ff1de[a0_0x3eb0d8(0x311)]=a0_0x3eb0d8(0x530),_0x2ff1de[a0_0x3eb0d8(0x5bb)]=a0_0x3eb0d8(0x534),_0x2ff1de))(Qs||{}),$=class{constructor(_0x540f0d=a0_0x3eb0d8(0x6da)){const _0xc0866=a0_0x3eb0d8;this['context']=_0x540f0d,this[_0xc0866(0x801)]=S;}[a0_0x3eb0d8(0x5b4)](_0x125157){const _0x538fbd=a0_0x3eb0d8;this[_0x538fbd(0x32c)]=_0x125157;}['console'](_0xd37475,_0x29c078){const _0x2b050d=a0_0x3eb0d8;let _0x39209e=[];this[_0x2b050d(0x801)][_0x2b050d(0x439)]('LOG')[_0x2b050d(0x643)][_0x2b050d(0x16b)](_0x1b0cf4=>_0x39209e[_0x2b050d(0x3c2)](Ks[_0x1b0cf4]));let _0x983db9=typeof _0xd37475;_0x39209e[_0x2b050d(0x5d6)](_0x29c078)&&(S[_0x2b050d(0x439)](_0x2b050d(0x54d))[_0x2b050d(0x7cd)]?(console[_0x2b050d(0x2b5)](_0x2b050d(0x7ac)+Hs[_0x29c078],_0x2b050d(0x538),(0x0,ds[_0x2b050d(0x487)])()[_0x2b050d(0x7bf)](_0x2b050d(0x31e)),'\x1b[0m',ps[_0x29c078]+Qs[_0x29c078]+'\x1b[1m',_0x29c078+_0x2b050d(0x78b),_0x2b050d(0x1ee),this['context']+_0x2b050d(0x719),ps[_0x29c078],_0x983db9!==_0x2b050d(0x1a5)?_0xd37475:'',_0x2b050d(0x719)),_0x983db9===_0x2b050d(0x1a5)&&console[_0x2b050d(0x2b5)](_0xd37475,'\x0a')):console[_0x2b050d(0x2b5)]((0x0,ds[_0x2b050d(0x487)])()[_0x2b050d(0x7bf)]('HH:mm:ss'),_0x29c078+'\x20',''+this[_0x2b050d(0x32c)],_0xd37475));}[a0_0x3eb0d8(0x2b5)](_0x48163f){const _0x34c53e=a0_0x3eb0d8;this[_0x34c53e(0x27b)](_0x48163f,_0x34c53e(0x54d));}[a0_0x3eb0d8(0xe3)](_0x1acb54){const _0x242a82=a0_0x3eb0d8;this[_0x242a82(0x27b)](_0x1acb54,_0x242a82(0x304));}[a0_0x3eb0d8(0x4cd)](_0x3b2347){const _0x5c368a=a0_0x3eb0d8;this[_0x5c368a(0x27b)](_0x3b2347,_0x5c368a(0xe0));}['error'](_0xa2865c){const _0x55d0fd=a0_0x3eb0d8;this[_0x55d0fd(0x27b)](_0xa2865c,_0x55d0fd(0x5ed));}['verbose'](_0x23c77d){const _0x40d0b9=a0_0x3eb0d8;this[_0x40d0b9(0x27b)](_0x23c77d,_0x40d0b9(0x5bb));}[a0_0x3eb0d8(0x808)](_0x144e2f){const _0x49844b=a0_0x3eb0d8;this['console'](_0x144e2f,_0x49844b(0x311));}[a0_0x3eb0d8(0x42c)](_0x40f346){const _0x4523ae=a0_0x3eb0d8;this[_0x4523ae(0x27b)](_0x40f346,_0x4523ae(0x462));}};function Ys(){const _0x42f60c=a0_0x3eb0d8;process['on'](_0x42f60c(0x5ac),(_0x4324e1,_0x5730b2)=>{new $('uncaughtException')['error']({'origin':_0x5730b2,'stderr':process['stderr']['fd'],'error':_0x4324e1});}),process['on'](_0x42f60c(0x3b4),(_0xda4183,_0x20dbdd)=>{const _0x4364c8=_0x42f60c;new $(_0x4364c8(0x3b4))[_0x4364c8(0x1ca)]({'origin':_0x20dbdd,'stderr':process[_0x4364c8(0x707)]['fd'],'error':_0xda4183});});}var Xs=T(require(a0_0x3eb0d8(0x5ec))),hs=new Xs[(a0_0x3eb0d8(0x487))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require('mongoose'),Re=T(require(a0_0x3eb0d8(0x7a3))),Ve=new $(a0_0x3eb0d8(0x804)),F=S[a0_0x3eb0d8(0x439)](a0_0x3eb0d8(0x703)),R=F['ENABLED']?F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x12e)]?Re[a0_0x3eb0d8(0x487)][a0_0x3eb0d8(0x69b)](F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x12e)],{'dbName':F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x449)]+a0_0x3eb0d8(0x1ac)}):Re[a0_0x3eb0d8(0x487)]['createConnection'](a0_0x3eb0d8(0x3cf)+F[a0_0x3eb0d8(0x6cf)]['HOST']+':'+F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x78a)]+a0_0x3eb0d8(0x4df),{'user':F['CONNECTION'][a0_0x3eb0d8(0x58d)],'pass':F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x46e)],'dbName':F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x449)]+a0_0x3eb0d8(0x1ac)}):null;F['ENABLED']&&Ve[a0_0x3eb0d8(0xe3)](a0_0x3eb0d8(0x7a8)+R[a0_0x3eb0d8(0x369)]);var ce=F[a0_0x3eb0d8(0x4c9)]?F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x12e)]?Re[a0_0x3eb0d8(0x487)][a0_0x3eb0d8(0x69b)](F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x12e)],{'dbName':a0_0x3eb0d8(0x2c7)}):Re[a0_0x3eb0d8(0x487)][a0_0x3eb0d8(0x69b)](a0_0x3eb0d8(0x3cf)+F['CONNECTION'][a0_0x3eb0d8(0x81f)]+':'+F['CONNECTION'][a0_0x3eb0d8(0x78a)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x3eb0d8(0x6cf)][a0_0x3eb0d8(0x58d)],'pass':F['CONNECTION'][a0_0x3eb0d8(0x46e)],'dbName':'cachedContacts-whatsapp'}):null;ce&&Ve[a0_0x3eb0d8(0xe3)]('ON\x20-\x20dbName:\x20'+ce[a0_0x3eb0d8(0x369)]),process['on']('beforeExit',()=>{const _0xf46555=a0_0x3eb0d8;R&&R[_0xf46555(0x14d)](()=>{const _0x1b8498=_0xf46555;Ve['info'](_0x1b8498(0x457));}),ce&&ce[_0xf46555(0x14d)](()=>{const _0x5cd049=_0xf46555;Ve[_0x5cd049(0xe3)](_0x5cd049(0x147));});});var Yi=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new Se[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new Se[(a0_0x3eb0d8(0x42d))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new Se[(a0_0x3eb0d8(0x42d))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new Se[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Zs=_0x185deb=>{const _0x1ff4ae=a0_0x3eb0d8;let _0x477020='z_'+_0x185deb+'_Chats';return R?.['model'](_0x1ff4ae(0x32b),to,_0x477020);},ea=require(a0_0x3eb0d8(0x7a3)),so=new ea['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=_0x2b8261=>{const _0x33b4c8=a0_0x3eb0d8;let _0x5d381b='z_'+_0x2b8261+_0x33b4c8(0x63e);return R?.[_0x33b4c8(0x7dc)]('ContactModel',so,_0x5d381b);},sa=require('mongoose'),gs=class{},ao=new sa[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=ce?.[a0_0x3eb0d8(0x7dc)](gs[a0_0x3eb0d8(0x21a)],ao,a0_0x3eb0d8(0x21b)),ia=require(a0_0x3eb0d8(0x7a3)),ms=class{},io=new ia[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ge=ce?.[a0_0x3eb0d8(0x7dc)](ms[a0_0x3eb0d8(0x21a)],io,a0_0x3eb0d8(0x2ff)),oa=require('mongoose'),oo=new oa[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ra=_0x4f996d=>{const _0x3106c6=a0_0x3eb0d8;let _0x4e596c='z_'+_0x4f996d+'_Messages';return R?.['model'](_0x3106c6(0x73c),oo,_0x4e596c);},na=require(a0_0x3eb0d8(0x7a3)),fs=class{},ro=new na[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ca=R?.[a0_0x3eb0d8(0x7dc)](fs[a0_0x3eb0d8(0x21a)],ro,a0_0x3eb0d8(0xea)),la=require('mongoose'),ws=class{},ua=new la['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ua[a0_0x3eb0d8(0x33f)](a0_0x3eb0d8(0x413),function(_0x42f071){const _0x27d20d=a0_0x3eb0d8;delete this[_0x27d20d(0x5b0)],delete this[_0x27d20d(0x31c)],delete this[_0x27d20d(0x78d)],delete this[_0x27d20d(0x705)],delete this[_0x27d20d(0x5e2)],_0x42f071();});var da=R?.[a0_0x3eb0d8(0x7dc)](ws[a0_0x3eb0d8(0x21a)],ua,'webhook'),D=require(a0_0x3eb0d8(0x7a3)),ys=require(a0_0x3eb0d8(0x3c7)),Be=class{},bs=class{},ha=new D[(a0_0x3eb0d8(0x42d))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ss=new D[(a0_0x3eb0d8(0x42d))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new D[(a0_0x3eb0d8(0x42d))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x3eb0d8(0x241)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x3eb0d8(0x593)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x3eb0d8(0x60e)},'pollErrorMessage':{'type':String,'default':a0_0x3eb0d8(0x741)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ga=new D[(a0_0x3eb0d8(0x42d))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new D['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new D['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new D[(a0_0x3eb0d8(0x42d))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new D[(a0_0x3eb0d8(0x42d))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ma=new D[(a0_0x3eb0d8(0x42d))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),fa=new D['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),wa=new D[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x12d1b9=a0_0x3eb0d8;return _0x12d1b9(0x736)+Math['random']()[_0x12d1b9(0x121)](0x24)[_0x12d1b9(0x465)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x3eb0d8(0x43b)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});wa['pre']('findOneAndUpdate',function(_0x541db3){const _0x65dbca=a0_0x3eb0d8;let _0x1be5ae=this[_0x65dbca(0x542)]();if(_0x1be5ae&&typeof _0x1be5ae=='object'&&_0x65dbca(0x373)in _0x1be5ae){let _0x80d102=_0x1be5ae['$set'];if(_0x80d102){let _0x49f97b=new Set(),_0x22f6b2=new Set(_0x80d102[_0x65dbca(0x30b)]?.['map'](_0x20e502=>_0x20e502['name'])),_0x22784f=JSON[_0x65dbca(0x1dc)](_0x80d102),_0x7b3468=/{{(?!_)([^}]*)}}/g,_0x306bb6;for(;(_0x306bb6=_0x7b3468[_0x65dbca(0x22b)](_0x22784f))!==null;)_0x22f6b2['has'](_0x306bb6[0x1])||_0x49f97b[_0x65dbca(0x440)](_0x306bb6[0x1]);_0x49f97b[_0x65dbca(0x352)]>0x0?(console[_0x65dbca(0x4cd)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x49f97b)),_0x80d102[_0x65dbca(0x106)]=Array[_0x65dbca(0x7db)](_0x49f97b)):_0x80d102[_0x65dbca(0x106)]=[],this['setUpdate']({'$set':_0x80d102});}}_0x541db3();});var Me=R?.[a0_0x3eb0d8(0x7dc)](bs[a0_0x3eb0d8(0x21a)],wa,a0_0x3eb0d8(0x658)),po=new D[(a0_0x3eb0d8(0x42d))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new D[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x3eb0d8(0x156)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x3eb0d8(0x60e)},'waitingMenu_replyOptions':{'type':[Ss],'default':[]}}),ya=_0x2ea8fa=>{const _0x3bbfea=a0_0x3eb0d8;let _0xcf8437='z_'+_0x2ea8fa+_0x3bbfea(0x634);return R?.[_0x3bbfea(0x7dc)](_0x3bbfea(0x1d8),ho,_0xcf8437);},go=new D['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),pa=new D[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[pa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x3eb0d8(0x13c)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':pa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ba=_0x3994e1=>{const _0x28d17c=a0_0x3eb0d8;let _0x40b291='z_'+_0x3994e1+_0x28d17c(0x7a5);return R?.[_0x28d17c(0x7dc)](_0x28d17c(0x3cb),mo,_0x40b291);},Ms=class{},fo=new D[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new D[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new D[(a0_0x3eb0d8(0x42d))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x3eb0d8(0x207)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new D[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new D[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),Ae=R?.[a0_0x3eb0d8(0x7dc)](Ms[a0_0x3eb0d8(0x21a)],Mo,a0_0x3eb0d8(0x521)),Sa=require('mongoose'),Co=new Sa[(a0_0x3eb0d8(0x42d))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x29c18e=>{const _0x1a68ac=a0_0x3eb0d8;let _0x5d0df2='z_'+_0x29c18e+_0x1a68ac(0x188);return R?.[_0x1a68ac(0x7dc)]('LabelModel',Co,_0x5d0df2);},_=class{constructor(_0x19478d){const _0x40af23=a0_0x3eb0d8;this[_0x40af23(0x660)]=_0x19478d[_0x40af23(0x439)](_0x40af23(0x703));}};function A(_0x55404f){const _0xb5120d=a0_0x3eb0d8;let _0x3df8a9={};for(let [_0xa11c38,_0x53ac51]of Object[_0xb5120d(0x565)](_0x55404f))if(typeof _0x53ac51==_0xb5120d(0x1a5)&&!Array[_0xb5120d(0x20f)](_0x53ac51)){for(let [_0x1813c4,_0x13cc93]of Object[_0xb5120d(0x565)](_0x53ac51))_0x3df8a9[_0xa11c38+'.'+_0x1813c4]=_0x13cc93;}else _0x3df8a9[_0xa11c38]=_0x53ac51;return _0x3df8a9;}var We=class{constructor(_0x15bcbc,_0x15da0f,_0x2edc68,_0x173e0d,_0x35af8e,_0xce5a62,_0x4d64df,_0x2eaab9,_0x32f12b,_0x5696aa,_0x367928,_0x5031a8,_0x15e328){const _0x4c1326=a0_0x3eb0d8;this['message']=_0x15bcbc,this['chat']=_0x15da0f,this['contact']=_0x2edc68,this[_0x4c1326(0x2fd)]=_0x173e0d,this[_0x4c1326(0x1a7)]=_0x35af8e,this[_0x4c1326(0x61b)]=_0xce5a62,this[_0x4c1326(0x245)]=_0x4d64df,this[_0x4c1326(0x800)]=_0x2eaab9,this['flowConversation']=_0x32f12b,this[_0x4c1326(0x357)]=_0x5696aa,this['scheduleMessage']=_0x367928,this[_0x4c1326(0x473)]=_0x5031a8,this['dbClient']=_0x15e328;}get[a0_0x3eb0d8(0x388)](){const _0x29d0bf=a0_0x3eb0d8;return this[_0x29d0bf(0x11f)];}},ze=class{},He=class extends _{[a0_0x3eb0d8(0x494)](_0x514fab){return ra(_0x514fab);}async[a0_0x3eb0d8(0x763)](_0x22a920,_0x3a52ea){const _0x5f2071=a0_0x3eb0d8;if(_0x22a920[_0x5f2071(0x75f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x3a52ea)[_0x5f2071(0x76b)]([..._0x22a920]))[_0x5f2071(0x75f)]};}catch(_0x47b721){return _0x47b721;}}async['find'](_0x25d836,_0x4c5485){const _0x35e1f7=a0_0x3eb0d8;try{let _0x30fc51=this['getMessageModelForOwner'](_0x4c5485),_0x4e4f32=A(_0x25d836[_0x35e1f7(0x3aa)]);return await _0x30fc51[_0x35e1f7(0x551)](_0x4e4f32)[_0x35e1f7(0x50e)]({'messageTimestamp':-0x1})['limit'](_0x25d836?.[_0x35e1f7(0x6e9)]??0x0)[_0x35e1f7(0x80a)]();}catch{return[];}}async['delete'](_0xeb60f5,_0x17de6b){const _0x58fcc5=a0_0x3eb0d8;try{let _0x4ebdee=this[_0x58fcc5(0x494)](_0x17de6b),_0x2d992a=A(_0xeb60f5[_0x58fcc5(0x3aa)]);await _0x4ebdee['deleteMany'](_0x2d992a);}catch(_0x21f8e7){console['error'](_0x21f8e7);}}async[a0_0x3eb0d8(0x670)](_0x3bf991,_0x534ccf,_0x29699d){const _0x54bcfb=a0_0x3eb0d8;try{let _0x3c238a=this['getMessageModelForOwner'](_0x29699d),_0x451d9e=A(_0x3bf991['where']);return await _0x3c238a['findOneAndUpdate'](_0x451d9e,{'$set':_0x534ccf},{'new':!0x0});}catch(_0x6fa2b){throw console[_0x54bcfb(0x1ca)](_0x6fa2b),_0x6fa2b;}}async['insertMany'](_0x1312c2,_0x57a99c){const _0x4f0771=a0_0x3eb0d8;if(_0x1312c2['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4f0771(0x494)](_0x57a99c)[_0x4f0771(0x76b)]([..._0x1312c2]))[_0x4f0771(0x75f)]};}catch(_0x4c2465){return console['log']('ERROR:\x20',_0x4c2465),_0x4c2465;}}async[a0_0x3eb0d8(0x68f)](_0x599871){const _0x5a7cd3=a0_0x3eb0d8;try{return await this[_0x5a7cd3(0x494)](_0x599871)[_0x5a7cd3(0x7cb)][_0x5a7cd3(0x78c)](),{'success':!0x0};}catch(_0x41782a){return console[_0x5a7cd3(0x1ca)](_0x41782a),{'success':!0x1,'error':_0x41782a};}}},_s=T(require(a0_0x3eb0d8(0x41f))),w=T(require('@whiskeysockets/baileys')),ke=require('fs'),U=T(require('path')),X=T(require('axios')),Ai=require(a0_0x3eb0d8(0x3c7)),Ii=T(require(a0_0x3eb0d8(0x169))),Ti=T(require(a0_0x3eb0d8(0x355))),Ca=[a0_0x3eb0d8(0x45d),'documentMessage','audioMessage','videoMessage',a0_0x3eb0d8(0x681)],Ea=[a0_0x3eb0d8(0x5c7),'documentWithCaptionMessage',a0_0x3eb0d8(0x4ca),a0_0x3eb0d8(0x2ed)],xs=require('os'),Ft=T(require(a0_0x3eb0d8(0x24f))),Le=require(a0_0x3eb0d8(0x4d3)),Oi=require(a0_0x3eb0d8(0x1a6)),he=T(require(a0_0x3eb0d8(0x7a3))),k=require('class-validator'),le=class{constructor(_0x762592,_0x41606d,_0x2e20c6){const _0x2fea2f=a0_0x3eb0d8;this['jid']=_0x762592,this[_0x2fea2f(0x788)]=_0x41606d,this[_0x2fea2f(0x21a)]=_0x2e20c6;}},Ke=class{},Qe=class{},Ie=class{},Ye=class{},Xe=class{},Ce=class{},Ze=class{},et=class{},tt=class{},st=class{},_t=T(require(a0_0x3eb0d8(0x517))),va=require('fs'),Na=require(a0_0x3eb0d8(0x699));async function Te(_0x250113){const _0x47a699=a0_0x3eb0d8;let _0x945f0=G['waInstances'][_0x250113];if(F['ENABLED']){let _0x234155=R[_0x47a699(0x4d5)]()['db'](F['CONNECTION']['DB_PREFIX_NAME']+_0x47a699(0x1ab))[_0x47a699(0x7cb)](_0x250113);return _0x945f0||(await _0x234155[_0x47a699(0x551)]({})[_0x47a699(0x802)]())['length']>0x0;}return _0x945f0||(0x0,va[_0x47a699(0x54c)])((0x0,Na[_0x47a699(0x633)])(be,_0x250113));}async function $a(_0xd2ccfe,_0x3a13aa,_0x4a4af4){const _0xc6ed26=a0_0x3eb0d8;if(_0xd2ccfe[_0xc6ed26(0x72a)][_0xc6ed26(0x5d6)](_0xc6ed26(0x759))||_0xd2ccfe[_0xc6ed26(0x72a)][_0xc6ed26(0x5d6)](_0xc6ed26(0x11c))||_0xd2ccfe[_0xc6ed26(0x72a)][_0xc6ed26(0x5d6)](_0xc6ed26(0x43c))||_0xd2ccfe[_0xc6ed26(0x72a)]['includes'](_0xc6ed26(0x201))||_0xd2ccfe[_0xc6ed26(0x72a)][_0xc6ed26(0x5d6)]('/instance/connect')||_0xd2ccfe['originalUrl']['includes'](_0xc6ed26(0xf0))||_0xd2ccfe[_0xc6ed26(0x72a)]['includes'](_0xc6ed26(0x161)))return _0x4a4af4();let _0xa21011=_0xd2ccfe[_0xc6ed26(0x781)];if(!_0xa21011?.[_0xc6ed26(0x1a8)])throw new m(_0xc6ed26(0x80c));if(!await Te(_0xa21011[_0xc6ed26(0x1a8)]))throw new j(_0xc6ed26(0x408)+_0xa21011[_0xc6ed26(0x1a8)]+'\x20instance\x20does\x20not\x20exist');_0x4a4af4();}async function Ra(_0x3d8891,_0xfd86c7,_0x37b91a){const _0x203629=a0_0x3eb0d8;if(_0x3d8891[_0x203629(0x72a)]['includes'](_0x203629(0x759))){let _0x5274ca=_0x3d8891['body'];if(await Te(_0x5274ca[_0x203629(0x1a8)]))throw new Z(_0x203629(0x11d)+_0x5274ca[_0x203629(0x1a8)]+_0x203629(0x4d8));G['waInstances'][_0x5274ca[_0x203629(0x1a8)]]&&delete G[_0x203629(0x4b8)][_0x5274ca[_0x203629(0x1a8)]];}_0x37b91a();}var Aa=require(a0_0x3eb0d8(0x377)),Ia=T(require(a0_0x3eb0d8(0x39b))),at=a0_0x3eb0d8(0xc5),vo=new $(a0_0x3eb0d8(0x7ee));function a0_0x3e55(_0x3b7560,_0x6ce5f1){const _0x2d2d9a=a0_0x2d2d();return a0_0x3e55=function(_0x3e55d5,_0x35010a){_0x3e55d5=_0x3e55d5-0xc2;let _0x249dce=_0x2d2d9a[_0x3e55d5];return _0x249dce;},a0_0x3e55(_0x3b7560,_0x6ce5f1);}async function No(_0x3f39f9,_0x4f8842,_0x2dd5ed){const _0x51c6b0=a0_0x3eb0d8;let _0x35331f=_0x3f39f9[_0x51c6b0(0x439)]('apikey');if(_0x35331f&&S[_0x51c6b0(0x439)](_0x51c6b0(0x1d1))['API_KEY'][_0x51c6b0(0x5b6)]!==_0x35331f)throw new oe();if(S[_0x51c6b0(0x439)]('AUTHENTICATION')['API_KEY'][_0x51c6b0(0x5b6)]===_0x35331f)return _0x2dd5ed();if((_0x3f39f9[_0x51c6b0(0x72a)][_0x51c6b0(0x5d6)](_0x51c6b0(0x759))||_0x3f39f9[_0x51c6b0(0x72a)][_0x51c6b0(0x5d6)](_0x51c6b0(0x11c)))&&!_0x35331f)throw new Z(_0x51c6b0(0x3af),_0x51c6b0(0x63b));let _0x59d39e=S[_0x51c6b0(0x439)](_0x51c6b0(0x1d1))[_0x51c6b0(0x29c)];try{let [_0x1dd81f,_0x3feba9]=_0x3f39f9[_0x51c6b0(0x439)](_0x51c6b0(0x36b))['split']('\x20');if(_0x1dd81f[_0x51c6b0(0x20b)]()!=='bearer')throw new oe();if(!(0x0,Aa[_0x51c6b0(0x23d)])(_0x3feba9))throw new oe();let _0x43f7c7=_0x3f39f9[_0x51c6b0(0x781)],_0x4b21cf=Ia[_0x51c6b0(0x487)]['verify'](_0x3feba9,_0x59d39e[_0x51c6b0(0x488)],{'ignoreExpiration':_0x59d39e[_0x51c6b0(0x218)]===0x0});if(_0x43f7c7[_0x51c6b0(0x1a8)]!==_0x4b21cf[_0x51c6b0(0x1a8)]||at!==_0x4b21cf[_0x51c6b0(0x3bc)])throw new oe();return _0x2dd5ed();}catch(_0x3943e7){throw vo[_0x51c6b0(0x1ca)](_0x3943e7),new oe();}}async function $o(_0x251a0e,_0x578982,_0xf8d70b){const _0x371705=a0_0x3eb0d8;let _0x271fcd=S['get'](_0x371705(0x1d1))['API_KEY'],_0x21a720=_0x251a0e[_0x371705(0x439)]('apikey');if(_0x271fcd[_0x371705(0x5b6)]===_0x21a720)return _0xf8d70b();if(_0x251a0e[_0x371705(0x72a)][_0x371705(0x5d6)](_0x371705(0x759))){let _0x145182=Oa,_0x5e6615=_0x251a0e[_0x371705(0x1cd)][_0x371705(0x1a8)];if(_0x145182&&_0x5e6615[_0x371705(0x20b)]()[_0x371705(0x631)](_0x145182[_0x371705(0x20b)]()))return _0xf8d70b();if(!_0x21a720)throw new Z(_0x371705(0x3af),_0x371705(0x63b));}if(_0x251a0e[_0x371705(0x72a)]['includes']('/instance/fetchInstances')&&!_0x21a720)throw new Z(_0x371705(0x3af),_0x371705(0x63b));if(_0x251a0e[_0x371705(0x72a)]['includes'](_0x371705(0x43c))&&!_0x21a720)throw new Z(_0x371705(0x3af),_0x371705(0x63b));if(_0x251a0e[_0x371705(0x72a)][_0x371705(0x5d6)](_0x371705(0x201))&&!_0x21a720)throw new Z('Missing\x20global\x20api\x20key',_0x371705(0x63b));try{let _0x467134=_0x251a0e['params'],_0x1bcc28=await me[_0x371705(0x61b)][_0x371705(0x551)](_0x467134[_0x371705(0x1a8)]);if(_0x1bcc28&&_0x1bcc28['apikey']===_0x21a720)return _0xf8d70b();}catch{}throw new oe();}var Ta={'jwt':No,'apikey':$o},di=require(a0_0x3eb0d8(0x517)),E=require(a0_0x3eb0d8(0x3c7)),C=(..._0xfa944f)=>{const _0x6ae9e4=a0_0x3eb0d8;let _0x1822df={};return _0xfa944f['forEach'](_0x1f4c6b=>_0x1822df[_0x1f4c6b]={'minLength':0x1,'description':_0x6ae9e4(0x501)+_0x1f4c6b+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0xfa944f]}},'then':{'properties':_0x1822df}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'instanceName':{'type':a0_0x3eb0d8(0x129)}},...C(a0_0x3eb0d8(0x1a8))},mc={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x3eb0d8(0x3a8)],...C(a0_0x3eb0d8(0x3a8))},fc={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x3eb0d8(0x129)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x3eb0d8(0x3f6),a0_0x3eb0d8(0x344)],...C('id',a0_0x3eb0d8(0x3f6))},'message':{'type':a0_0x3eb0d8(0x1a5)}}},ee={'properties':{'delay':{'type':a0_0x3eb0d8(0x208),'description':a0_0x3eb0d8(0x57d)},'presence':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x520),a0_0x3eb0d8(0x6a6),'composing',a0_0x3eb0d8(0x114),'paused']}}},Q={'type':a0_0x3eb0d8(0x129),'description':a0_0x3eb0d8(0x16f)},_a={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'options':{...ee},'textMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'text':{'type':a0_0x3eb0d8(0x129)}},'required':['text'],...C(a0_0x3eb0d8(0x3ef))}},'required':[a0_0x3eb0d8(0x257),a0_0x3eb0d8(0x438)]},xa={'type':a0_0x3eb0d8(0x129),'pattern':a0_0x3eb0d8(0xda),'description':a0_0x3eb0d8(0x16f)},wc={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...xa},'options':{...ee},'textMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'text':{'type':a0_0x3eb0d8(0x129)}},'required':[a0_0x3eb0d8(0x3ef)],...C('text')}},'required':['textMessage',a0_0x3eb0d8(0x438)]},yc={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...xa},'options':{...ee},'mediaMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'mediatype':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x1ff),'document',a0_0x3eb0d8(0x5f6),a0_0x3eb0d8(0x2db)]},'media':{'type':a0_0x3eb0d8(0x129)},'fileName':{'type':'string'},'caption':{'type':a0_0x3eb0d8(0x129)}},'required':[a0_0x3eb0d8(0x60a),'media'],...C(a0_0x3eb0d8(0x6f7),'caption',a0_0x3eb0d8(0x6db))}},'required':[a0_0x3eb0d8(0x21f),'number']},Da={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Q},'options':{...ee},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x3eb0d8(0x129)}},'required':[a0_0x3eb0d8(0x1ff)],...C(a0_0x3eb0d8(0x1ff))}},'required':[a0_0x3eb0d8(0x681),'number']},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x3eb0d8(0x3ef),a0_0x3eb0d8(0x1ff),a0_0x3eb0d8(0x2db),a0_0x3eb0d8(0x5f6)]},'content':{'type':'string'},'caption':{'type':a0_0x3eb0d8(0x129)},'backgroundColor':{'type':a0_0x3eb0d8(0x129)},'font':{'type':a0_0x3eb0d8(0x208),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x3eb0d8(0x361),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3eb0d8(0x129),'pattern':'^\x5cd+','description':a0_0x3eb0d8(0x15e)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x3eb0d8(0x1d5),a0_0x3eb0d8(0x260)],...C(a0_0x3eb0d8(0x1d5),'content')}},'required':[a0_0x3eb0d8(0x1b9)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'options':{...ee},'mediaMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'mediatype':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x1ff),a0_0x3eb0d8(0x140),'video',a0_0x3eb0d8(0x2db)]},'media':{'type':a0_0x3eb0d8(0x129)},'fileName':{'type':a0_0x3eb0d8(0x129)},'caption':{'type':a0_0x3eb0d8(0x129)}},'required':[a0_0x3eb0d8(0x60a),'media'],...C(a0_0x3eb0d8(0x6f7),a0_0x3eb0d8(0xe5),a0_0x3eb0d8(0x6db))}},'required':[a0_0x3eb0d8(0x21f),'number']},La={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'options':{...ee},'audioMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'audio':{'type':'string'}},'required':[a0_0x3eb0d8(0x2db)],...C(a0_0x3eb0d8(0x2db))}},'required':[a0_0x3eb0d8(0x533),a0_0x3eb0d8(0x438)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x3eb0d8(0x129)},'selectableCount':{'type':a0_0x3eb0d8(0x438)},'values':{'type':a0_0x3eb0d8(0x361),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3eb0d8(0x21a),a0_0x3eb0d8(0x548),a0_0x3eb0d8(0x6dc)],...C('name',a0_0x3eb0d8(0x548),a0_0x3eb0d8(0x6dc))}},'required':['number',a0_0x3eb0d8(0x6ad)]},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Q},'menuMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'text':{'type':a0_0x3eb0d8(0x129)},'choices':{'type':a0_0x3eb0d8(0x361),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3eb0d8(0x3ef),a0_0x3eb0d8(0x48d)],...C(a0_0x3eb0d8(0x3ef),'choices')}},'required':[a0_0x3eb0d8(0x438),a0_0x3eb0d8(0x7ab)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'options':{...ee},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x3eb0d8(0x129)},'description':{'type':a0_0x3eb0d8(0x129)},'footerText':{'type':a0_0x3eb0d8(0x129)},'buttons':{'type':a0_0x3eb0d8(0x361),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3eb0d8(0x1a5),'properties':{'buttonText':{'type':a0_0x3eb0d8(0x129)},'buttonId':{'type':'string'}},'required':[a0_0x3eb0d8(0x7b6),a0_0x3eb0d8(0x302)],...C('buttonText',a0_0x3eb0d8(0x302))}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':a0_0x3eb0d8(0x129)},'mediatype':{'type':a0_0x3eb0d8(0x129),'enum':['image','document',a0_0x3eb0d8(0x5f6)]}},'required':[a0_0x3eb0d8(0x6db),a0_0x3eb0d8(0x60a)],...C('media',a0_0x3eb0d8(0x6f7))}},'required':['title',a0_0x3eb0d8(0x6cd)],...C(a0_0x3eb0d8(0x816),a0_0x3eb0d8(0x29d))}},'required':['number','buttonMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'options':{...ee},'locationMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'latitude':{'type':a0_0x3eb0d8(0x438)},'longitude':{'type':a0_0x3eb0d8(0x438)},'name':{'type':a0_0x3eb0d8(0x129)},'address':{'type':'string'}},'required':['latitude',a0_0x3eb0d8(0x118)],...C('name',a0_0x3eb0d8(0x274))}},'required':['number',a0_0x3eb0d8(0x74c)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'options':{...ee},'listMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'title':{'type':a0_0x3eb0d8(0x129)},'description':{'type':a0_0x3eb0d8(0x129)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x3eb0d8(0x129)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x3eb0d8(0x129)},'rows':{'type':a0_0x3eb0d8(0x361),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3eb0d8(0x1a5),'properties':{'title':{'type':a0_0x3eb0d8(0x129)},'description':{'type':a0_0x3eb0d8(0x129)},'rowId':{'type':'string'}},'required':[a0_0x3eb0d8(0x816),a0_0x3eb0d8(0x3de)],...C(a0_0x3eb0d8(0x816),a0_0x3eb0d8(0x3de))}}},'required':['title',a0_0x3eb0d8(0x637)],...C(a0_0x3eb0d8(0x816))}}},'required':['title',a0_0x3eb0d8(0x29d),'buttonText',a0_0x3eb0d8(0x182)],...C(a0_0x3eb0d8(0x816),a0_0x3eb0d8(0x29d),a0_0x3eb0d8(0x7b6),'footerText')}},'required':[a0_0x3eb0d8(0x438),a0_0x3eb0d8(0xec)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{...Q},'options':{...ee},'contactMessage':{'type':a0_0x3eb0d8(0x361),'items':{'type':a0_0x3eb0d8(0x1a5),'properties':{'fullName':{'type':a0_0x3eb0d8(0x129)},'phoneNumber':{'type':a0_0x3eb0d8(0x129),'minLength':0xa}},'required':[a0_0x3eb0d8(0x394),a0_0x3eb0d8(0x328)],...C(a0_0x3eb0d8(0x394))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x3eb0d8(0x438),a0_0x3eb0d8(0x4a9)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'reactionMessage':{'type':a0_0x3eb0d8(0x1a5),'properties':{'key':{'type':a0_0x3eb0d8(0x1a5),'properties':{'id':{'type':a0_0x3eb0d8(0x129)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3eb0d8(0x3f6),a0_0x3eb0d8(0x344)],...C('id',a0_0x3eb0d8(0x3f6))},'reaction':{'type':a0_0x3eb0d8(0x129)}},'required':[a0_0x3eb0d8(0x33c),a0_0x3eb0d8(0xe9)],...C(a0_0x3eb0d8(0xe9))}},'required':['reactionMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'numbers':{'type':a0_0x3eb0d8(0x361),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3eb0d8(0x129),'pattern':a0_0x3eb0d8(0x63d),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'readMessages':{'type':a0_0x3eb0d8(0x361),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x3eb0d8(0x129)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3eb0d8(0x129)}},'required':['id','fromMe',a0_0x3eb0d8(0x3f6)],...C('id',a0_0x3eb0d8(0x3f6))}}},'required':[a0_0x3eb0d8(0x360)]},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x3eb0d8(0x1a5),'properties':{'readreceipts':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x7a9),a0_0x3eb0d8(0x119)]},'profile':{'type':'string','enum':[a0_0x3eb0d8(0x7a9),a0_0x3eb0d8(0x197),a0_0x3eb0d8(0x42b),a0_0x3eb0d8(0x119)]},'status':{'type':'string','enum':['all',a0_0x3eb0d8(0x197),'contact_blacklist',a0_0x3eb0d8(0x119)]},'online':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x7a9),'match_last_seen']},'last':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x7a9),a0_0x3eb0d8(0x197),'contact_blacklist',a0_0x3eb0d8(0x119)]},'groupadd':{'type':'string','enum':[a0_0x3eb0d8(0x7a9),a0_0x3eb0d8(0x197),'contact_blacklist',a0_0x3eb0d8(0x119)]}},'required':[a0_0x3eb0d8(0x65f),a0_0x3eb0d8(0x54e),a0_0x3eb0d8(0x226),a0_0x3eb0d8(0x664),a0_0x3eb0d8(0x3ca),a0_0x3eb0d8(0x41e)],...C(a0_0x3eb0d8(0x65f),'profile','status',a0_0x3eb0d8(0x664),a0_0x3eb0d8(0x3ca),a0_0x3eb0d8(0x41e))}},'required':[a0_0x3eb0d8(0x3bf)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x3eb0d8(0x1a5),'properties':{'id':{'type':a0_0x3eb0d8(0x129)},'remoteJid':{'type':a0_0x3eb0d8(0x129)},'fromMe':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3eb0d8(0x344),a0_0x3eb0d8(0x3f6)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x3eb0d8(0x208),'minLength':0x1}},'required':[a0_0x3eb0d8(0x33c)],...C(a0_0x3eb0d8(0x1e8))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x3eb0d8(0x17f),a0_0x3eb0d8(0x21c)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x3eb0d8(0x129)}},'required':['id',a0_0x3eb0d8(0x344),a0_0x3eb0d8(0x3f6)],...C('id',a0_0x3eb0d8(0x3f6),a0_0x3eb0d8(0x4a4))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x3eb0d8(0x129),'minLength':0x1},'pushName':{'type':a0_0x3eb0d8(0x129),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x3eb0d8(0x36f),'id','pushName')}}},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'name':{'type':a0_0x3eb0d8(0x129)}},...C(a0_0x3eb0d8(0x21a))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'status':{'type':a0_0x3eb0d8(0x129)}},...C(a0_0x3eb0d8(0x226))},Oe={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'number':{'type':a0_0x3eb0d8(0x129)},'picture':{'type':a0_0x3eb0d8(0x129)}}},Za={'type':'object','properties':{'wuid':{'type':a0_0x3eb0d8(0x129)},'name':{'type':a0_0x3eb0d8(0x129)},'picture':{'type':a0_0x3eb0d8(0x129)},'status':{'type':a0_0x3eb0d8(0x129)},'isBusiness':{'type':a0_0x3eb0d8(0x40d)}}},ei={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'where':{'type':a0_0x3eb0d8(0x1a5),'properties':{'_id':{'type':a0_0x3eb0d8(0x129),'minLength':0x1},'key':{'type':a0_0x3eb0d8(0x1a5),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x3eb0d8(0x129),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x3eb0d8(0x1a5)}},...C('_id')},'limit':{'type':a0_0x3eb0d8(0x208)}}},bc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x3eb0d8(0x1a5),'properties':{'_id':{'type':a0_0x3eb0d8(0x129)},'remoteJid':{'type':a0_0x3eb0d8(0x129)},'id':{'type':'string'},'fromMe':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x3eb0d8(0x129)},'status':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x5ed),a0_0x3eb0d8(0x35b),a0_0x3eb0d8(0x36c),a0_0x3eb0d8(0x552),a0_0x3eb0d8(0x1b7),a0_0x3eb0d8(0x472)]}},...C('_id','remoteJid','id',a0_0x3eb0d8(0x226))},'limit':{'type':a0_0x3eb0d8(0x208)}}},ti={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Q},'presence':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x520),a0_0x3eb0d8(0x6a6),a0_0x3eb0d8(0x3b6),a0_0x3eb0d8(0x114),a0_0x3eb0d8(0x416)]}},'required':[a0_0x3eb0d8(0x4e7),'number']},si={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x3eb0d8(0x129)},'description':{'type':a0_0x3eb0d8(0x129)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x3eb0d8(0x361),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3eb0d8(0x129),'minLength':0xa,'pattern':a0_0x3eb0d8(0x68c),'description':a0_0x3eb0d8(0x70b)}}},'required':[a0_0x3eb0d8(0x312),a0_0x3eb0d8(0x691)],...C(a0_0x3eb0d8(0x312),'description','profilePicture')},_e={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':a0_0x3eb0d8(0x129),'pattern':a0_0x3eb0d8(0x66e)}},'required':[a0_0x3eb0d8(0x1fd)],...C('groupJid')},ai={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':a0_0x3eb0d8(0x129)},'action':{'type':a0_0x3eb0d8(0x129),'enum':['add',a0_0x3eb0d8(0x727),a0_0x3eb0d8(0x1cc),a0_0x3eb0d8(0x7fd),'reject',a0_0x3eb0d8(0x56b)]},'participants':{'type':a0_0x3eb0d8(0x361),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3eb0d8(0x129),'minLength':0xa,'pattern':a0_0x3eb0d8(0x68c),'description':a0_0x3eb0d8(0x70b)}}},'required':[a0_0x3eb0d8(0x1fd),'action',a0_0x3eb0d8(0x691)],...C(a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x181))},ii={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':a0_0x3eb0d8(0x129)},'expiration':{'type':a0_0x3eb0d8(0x438),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x3cd)],...C(a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x3cd))},oi={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':a0_0x3eb0d8(0x129)},'image':{'type':a0_0x3eb0d8(0x129)}},'required':[a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x1ff)],...C(a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x1ff))},ri={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':a0_0x3eb0d8(0x129)},'description':{'type':'string'}},'required':[a0_0x3eb0d8(0x1fd),'description'],...C(a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x29d))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':a0_0x3eb0d8(0x129)},'name':{'type':'string'}},'required':['groupJid',a0_0x3eb0d8(0x21a)],...C(a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x21a))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x3eb0d8(0x129),'enum':[a0_0x3eb0d8(0x20c),a0_0x3eb0d8(0x1ed),'unlocked',a0_0x3eb0d8(0x7e8)]}},'required':[a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x764)],...C(a0_0x3eb0d8(0x1fd),a0_0x3eb0d8(0x764))},li={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x3eb0d8(0x40d)},'announce':{'type':a0_0x3eb0d8(0x40d)},'memberAddMode':{'type':a0_0x3eb0d8(0x40d)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x3eb0d8(0x208),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':'string'},'image':{'type':a0_0x3eb0d8(0x129)}}},Es={'$id':(0x0,E['v4'])(),'type':a0_0x3eb0d8(0x1a5),'properties':{'inviteCode':{'type':a0_0x3eb0d8(0x129)}},'required':[a0_0x3eb0d8(0x3fa)],...C(a0_0x3eb0d8(0x3fa))},ui={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x3eb0d8(0x129)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x3eb0d8(0x6bc),a0_0x3eb0d8(0x676)]},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x3eb0d8(0x40d),'enum':[!0x0,!0x1]}},'required':[a0_0x3eb0d8(0x77e),a0_0x3eb0d8(0x266),a0_0x3eb0d8(0x296),'MESSAGES_SET',a0_0x3eb0d8(0x4f5),'MESSAGES_UPSERT',a0_0x3eb0d8(0xfb),'CONTACTS_SET',a0_0x3eb0d8(0x6b1),a0_0x3eb0d8(0x395),a0_0x3eb0d8(0x2c4),a0_0x3eb0d8(0x7cf),a0_0x3eb0d8(0x7cc),'CHATS_UPDATE',a0_0x3eb0d8(0x778),a0_0x3eb0d8(0x35d),a0_0x3eb0d8(0x28e),a0_0x3eb0d8(0x2c3),a0_0x3eb0d8(0x793)],...C(a0_0x3eb0d8(0x77e),a0_0x3eb0d8(0x266),a0_0x3eb0d8(0x296),a0_0x3eb0d8(0x6ce),a0_0x3eb0d8(0x4f5),a0_0x3eb0d8(0x42e),'SEND_MESSAGE',a0_0x3eb0d8(0x514),a0_0x3eb0d8(0x6b1),a0_0x3eb0d8(0x395),a0_0x3eb0d8(0x2c4),a0_0x3eb0d8(0x7cf),a0_0x3eb0d8(0x7cc),a0_0x3eb0d8(0x52f),'CHATS_DELETE',a0_0x3eb0d8(0x35d),a0_0x3eb0d8(0x28e),a0_0x3eb0d8(0x2c3),a0_0x3eb0d8(0x793))},it=class{},ot=class extends _{['getContactModelForOwner'](_0x326929){return ta(_0x326929);}async[a0_0x3eb0d8(0x763)](_0x4fc7b1){const _0x1b3a70=a0_0x3eb0d8;if(_0x4fc7b1['length']!==0x0)try{return{'insertCount':(await this[_0x1b3a70(0x4e8)](_0x4fc7b1[0x0]['owner'])['insertMany']([..._0x4fc7b1]))['length']};}catch(_0x22fefe){return _0x22fefe;}}async[a0_0x3eb0d8(0x10d)](_0x568b39,_0x44a837){const _0x58608d=a0_0x3eb0d8;try{return{'deletedCount':(await this[_0x58608d(0x4e8)](_0x44a837)['deleteMany']({..._0x568b39[_0x58608d(0x3aa)]}))[_0x58608d(0x69c)]};}catch(_0x121794){return{'error':_0x121794?.[_0x58608d(0x121)]()};}}async[a0_0x3eb0d8(0x670)](_0x7a9ad0,_0x3671fb){const _0x36e888=a0_0x3eb0d8;try{if(_0x7a9ad0[_0x36e888(0x75f)]===0x0)return;let _0x363585=this['getContactModelForOwner'](_0x3671fb),_0x2fbc3b=_0x7a9ad0[_0x36e888(0x437)](_0x45321c=>({'updateOne':{'filter':{'_id':_0x45321c[_0x36e888(0x36f)],'owner':_0x3671fb},'update':{..._0x45321c}}})),{modifiedCount:_0x2c3901}=await _0x363585['bulkWrite'](_0x2fbc3b);return{'insertCount':_0x2c3901};}catch{return;}}async[a0_0x3eb0d8(0x551)](_0x4a704c,_0x48faec){const _0x28af7a=a0_0x3eb0d8;try{let _0x43a0c3=this[_0x28af7a(0x4e8)](_0x48faec),_0xae5c32=A(_0x4a704c[_0x28af7a(0x3aa)]);return await _0x43a0c3[_0x28af7a(0x551)](_0xae5c32)[_0x28af7a(0x6e9)](_0x4a704c?.[_0x28af7a(0x6e9)]??0x0)[_0x28af7a(0x80a)]();}catch{return[];}}async[a0_0x3eb0d8(0x657)](_0x24156e,_0xfe6ff7){const _0x316cb0=a0_0x3eb0d8;try{let _0x463c56=this[_0x316cb0(0x4e8)](_0xfe6ff7),_0x58e8ee=A(_0x24156e['where']);return await _0x463c56[_0x316cb0(0x657)](_0x58e8ee)[_0x316cb0(0x80a)]();}catch{return null;}}async[a0_0x3eb0d8(0x68f)](_0x50fbef){const _0x29933f=a0_0x3eb0d8;try{return await this[_0x29933f(0x4e8)](_0x50fbef)['collection'][_0x29933f(0x78c)](),{'success':!0x0};}catch(_0xf71adb){return console[_0x29933f(0x1ca)](_0xf71adb),{'success':!0x1,'error':_0xf71adb};}}},rt=require(a0_0x3eb0d8(0x726)),Ic=require(a0_0x3eb0d8(0x2f2)),vs=new $('Validate'),V=class{[a0_0x3eb0d8(0x195)](_0x32b5ca,_0xddb138=!0x0){const _0x4222dc=a0_0x3eb0d8;let _0x529b9f='/'+_0x32b5ca;return _0xddb138&&(_0x529b9f+=_0x4222dc(0x136)),_0x529b9f;}async[a0_0x3eb0d8(0x826)](_0x480dd8){const _0x42ce7d=a0_0x3eb0d8;let {request:_0x2eee44,schema:_0x316486,ClassRef:_0x5a6454,execute:_0x14cd86}=_0x480dd8,_0x105de6=new _0x5a6454(),_0x30f79a=_0x2eee44[_0x42ce7d(0x1cd)],_0x236375=_0x2eee44[_0x42ce7d(0x781)];_0x2eee44?.[_0x42ce7d(0x4e1)]&&Object['keys'](_0x2eee44[_0x42ce7d(0x4e1)])[_0x42ce7d(0x75f)]>0x0&&Object['assign'](_0x236375,_0x2eee44[_0x42ce7d(0x4e1)]),_0x2eee44[_0x42ce7d(0x72a)][_0x42ce7d(0x5d6)](_0x42ce7d(0x759))&&Object['assign'](_0x236375,_0x30f79a),Object[_0x42ce7d(0x18a)](_0x105de6,_0x30f79a);let _0x2868b6=_0x316486?(0x0,rt[_0x42ce7d(0x73e)])(_0x105de6,_0x316486):{'valid':!0x0,'errors':[]};if(!_0x2868b6[_0x42ce7d(0x4b9)]){let _0x594453=_0x2868b6['errors'][_0x42ce7d(0x437)](({property:_0x16aff9,stack:_0x2d9c7a,schema:_0x51bef5})=>{const _0x474ade=_0x42ce7d;let _0x4bdf37;return _0x51bef5[_0x474ade(0x29d)]?_0x4bdf37=_0x51bef5[_0x474ade(0x29d)]:_0x4bdf37=_0x2d9c7a[_0x474ade(0x67e)](_0x474ade(0x445),''),{'property':_0x16aff9[_0x474ade(0x67e)](_0x474ade(0x445),''),'message':_0x4bdf37};});throw vs[_0x42ce7d(0x1ca)]([..._0x594453]),new m(..._0x594453);}return await _0x14cd86(_0x236375,_0x105de6);}async[a0_0x3eb0d8(0x5f1)](_0x23713f){const _0x8cc8d8=a0_0x3eb0d8;let {request:_0x7366e8,ClassRef:_0x3e35c9,schema:_0x1a7dac,execute:_0x3d5bab}=_0x23713f,_0x297a60=_0x7366e8[_0x8cc8d8(0x4e1)];if(!_0x297a60?.[_0x8cc8d8(0x1fd)])throw new m(_0x8cc8d8(0x227),_0x8cc8d8(0x4c4));let _0x822a08=_0x7366e8[_0x8cc8d8(0x781)],_0x14b218=_0x7366e8['body'],_0x69aa5f=new _0x3e35c9();Object[_0x8cc8d8(0x18a)](_0x14b218,_0x297a60),Object['assign'](_0x69aa5f,_0x14b218);let _0x59e8e6=(0x0,rt[_0x8cc8d8(0x73e)])(_0x69aa5f,_0x1a7dac);if(!_0x59e8e6[_0x8cc8d8(0x4b9)]){let _0x124c99=_0x59e8e6['errors'][_0x8cc8d8(0x437)](({property:_0x23e072,stack:_0x2d02a8,schema:_0x1dcea4})=>{const _0x37e4fd=_0x8cc8d8;let _0x32cde9;return _0x1dcea4[_0x37e4fd(0x29d)]?_0x32cde9=_0x1dcea4[_0x37e4fd(0x29d)]:_0x32cde9=_0x2d02a8[_0x37e4fd(0x67e)](_0x37e4fd(0x445),''),{'property':_0x23e072['replace'](_0x37e4fd(0x445),''),'message':_0x32cde9};});throw vs[_0x8cc8d8(0x1ca)]([..._0x124c99]),new m(..._0x124c99);}return await _0x3d5bab(_0x822a08,_0x69aa5f);}async['joinGroupValidate'](_0x518717){const _0x5ed6d1=a0_0x3eb0d8;let {request:_0x320406,ClassRef:_0x3a8845,schema:_0x16617a,execute:_0x44d685}=_0x518717,_0x54ebdb=_0x320406['body'];if(!_0x54ebdb?.[_0x5ed6d1(0x3fa)])throw new m(_0x5ed6d1(0x204),_0x5ed6d1(0x52a));let _0x2a01ff=_0x320406['params'],_0x589da1=_0x320406['body'],_0x31b2af=new _0x3a8845();Object[_0x5ed6d1(0x18a)](_0x589da1,_0x54ebdb),Object[_0x5ed6d1(0x18a)](_0x31b2af,_0x589da1);let _0xbcfc26=(0x0,rt[_0x5ed6d1(0x73e)])(_0x31b2af,_0x16617a);if(!_0xbcfc26[_0x5ed6d1(0x4b9)]){let _0x4998fb=_0xbcfc26[_0x5ed6d1(0x569)][_0x5ed6d1(0x437)](({property:_0x52dd16,stack:_0x50daac,schema:_0x40201c})=>{const _0x3ad16a=_0x5ed6d1;let _0x5e5c8c;return _0x40201c[_0x3ad16a(0x29d)]?_0x5e5c8c=_0x40201c[_0x3ad16a(0x29d)]:_0x5e5c8c=_0x50daac[_0x3ad16a(0x67e)](_0x3ad16a(0x445),''),{'property':_0x52dd16[_0x3ad16a(0x67e)](_0x3ad16a(0x445),''),'message':_0x5e5c8c};});throw vs['error']([..._0x4998fb]),new m(..._0x4998fb);}return await _0x44d685(_0x2a01ff,_0x31b2af);}},M=class{},Gc=new $(a0_0x3eb0d8(0x33b)),nt=class extends V{constructor(..._0x3efacb){const _0x3e246c=a0_0x3eb0d8;super(),this[_0x3e246c(0x3bd)]=(0x0,di['Router'])(),this[_0x3e246c(0x3bd)][_0x3e246c(0x444)](this[_0x3e246c(0x195)](_0x3e246c(0x50b)),..._0x3efacb,async(_0x36fa18,_0x302586)=>{const _0x292119=_0x3e246c;let _0x5f4384=await this[_0x292119(0x826)]({'request':_0x36fa18,'schema':ti,'ClassRef':Ke,'execute':(_0x13eaa0,_0x548889)=>P[_0x292119(0x50b)](_0x13eaa0,_0x548889)});return _0x302586['status'](0xc9)[_0x292119(0x17c)](_0x5f4384);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)](_0x3e246c(0x50c)),..._0x3efacb,async(_0x4d61f0,_0x4c8eff)=>{const _0xe0032f=_0x3e246c;let _0xc6a662=await this[_0xe0032f(0x826)]({'request':_0x4d61f0,'schema':Ba,'ClassRef':Qe,'execute':(_0x22bc68,_0x466219)=>P[_0xe0032f(0x825)](_0x22bc68,_0x466219)});return _0x4c8eff[_0xe0032f(0x226)](0xc9)['json'](_0xc6a662);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)]('editChat'),..._0x3efacb,async(_0x5064e1,_0x53c928)=>{const _0x41581e=_0x3e246c;let _0x28e6b2=await this['dataValidate']({'request':_0x5064e1,'schema':v,'ClassRef':M,'execute':(_0x3a89ea,_0x5cd132)=>P[_0x41581e(0x730)](_0x3a89ea,_0x5cd132)});return _0x53c928[_0x41581e(0x226)](0xc9)[_0x41581e(0x17c)](_0x28e6b2);})[_0x3e246c(0x203)](this['routerPath']('markMessageAsRead'),..._0x3efacb,async(_0x2fcc5f,_0x4cb1b8)=>{const _0x198382=_0x3e246c;let _0x87b29a=await this[_0x198382(0x826)]({'request':_0x2fcc5f,'schema':Wa,'ClassRef':Ze,'execute':(_0x9c1067,_0x4a1b81)=>P[_0x198382(0x146)](_0x9c1067,_0x4a1b81)});return _0x4cb1b8[_0x198382(0x226)](0xc9)[_0x198382(0x17c)](_0x87b29a);})[_0x3e246c(0x203)](this['routerPath']('archiveChat'),..._0x3efacb,async(_0x46a341,_0xd07947)=>{const _0x5e9c5b=_0x3e246c;let _0x311646=await this['dataValidate']({'request':_0x46a341,'schema':Ha,'ClassRef':et,'execute':(_0x1262e9,_0x3a9759)=>P['archiveChat'](_0x1262e9,_0x3a9759)});return _0xd07947[_0x5e9c5b(0x226)](0xc9)['json'](_0x311646);})['delete'](this[_0x3e246c(0x195)](_0x3e246c(0x34c)),..._0x3efacb,async(_0x1bd2d4,_0x2309e5)=>{const _0x592221=_0x3e246c;let _0x28a541=await this['dataValidate']({'request':_0x1bd2d4,'schema':Ka,'ClassRef':st,'execute':(_0x4ec7a8,_0xcab451)=>P[_0x592221(0x3a6)](_0x4ec7a8,_0xcab451)});return _0x2309e5['status'](0xc9)['json'](_0x28a541);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)](_0x3e246c(0x336)),..._0x3efacb,async(_0x592d4e,_0x432e69)=>{const _0x459362=_0x3e246c;let _0x9eff8f=await this[_0x459362(0x826)]({'request':_0x592d4e,'schema':Oe,'ClassRef':Ie,'execute':(_0x56c698,_0xaecc84)=>P['fetchProfilePicture'](_0x56c698,_0xaecc84)});return _0x432e69[_0x459362(0x226)](0xc8)[_0x459362(0x17c)](_0x9eff8f);})[_0x3e246c(0x444)](this['routerPath'](_0x3e246c(0x5e4)),..._0x3efacb,async(_0x4f2bf9,_0xdde24b)=>{const _0x23f580=_0x3e246c;let _0x5113c8=await this['dataValidate']({'request':_0x4f2bf9,'schema':Za,'ClassRef':Ie,'execute':(_0x42e6b3,_0x5a4ddd)=>P[_0x23f580(0x5e4)](_0x42e6b3,_0x5a4ddd)});return _0xdde24b[_0x23f580(0x226)](0xc8)[_0x23f580(0x17c)](_0x5113c8);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)]('findContacts'),..._0x3efacb,async(_0x3211f0,_0x3cac36)=>{const _0x431492=_0x3e246c;let _0x446064=await this[_0x431492(0x826)]({'request':_0x3211f0,'schema':Qa,'ClassRef':it,'execute':(_0x330a0e,_0x14bf7f)=>P[_0x431492(0x71e)](_0x330a0e,_0x14bf7f)});return _0x3cac36[_0x431492(0x226)](0xc8)[_0x431492(0x17c)](_0x446064);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)]('getBase64FromMediaMessage'),..._0x3efacb,async(_0x248474,_0x219152)=>{const _0x205048=_0x3e246c;let _0x2e746c=await this[_0x205048(0x826)]({'request':_0x248474,'schema':null,'ClassRef':Object,'execute':(_0x2cea36,_0x11f0e5)=>P[_0x205048(0x143)](_0x2cea36,_0x11f0e5)});return _0x219152[_0x205048(0x226)](0xc9)[_0x205048(0x17c)](_0x2e746c);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)](_0x3e246c(0x10c)),..._0x3efacb,async(_0x2c0c87,_0x5b84aa)=>{const _0x105c62=_0x3e246c;let _0x44e81b=await this[_0x105c62(0x826)]({'request':_0x2c0c87,'schema':ei,'ClassRef':ze,'execute':(_0x5ab7db,_0x1a3942)=>P[_0x105c62(0x47b)](_0x5ab7db,_0x1a3942)});return _0x5b84aa[_0x105c62(0x226)](0xc8)[_0x105c62(0x17c)](_0x44e81b);})[_0x3e246c(0x439)](this['routerPath']('findChats'),..._0x3efacb,async(_0xf59e9b,_0x14c0a9)=>{const _0x7d89ab=_0x3e246c;let _0xe403c9=await this['dataValidate']({'request':_0xf59e9b,'schema':null,'ClassRef':M,'execute':_0x14b234=>P[_0x7d89ab(0x16c)](_0x14b234)});return _0x14c0a9[_0x7d89ab(0x226)](0xc8)['json'](_0xe403c9);})[_0x3e246c(0x439)](this[_0x3e246c(0x195)](_0x3e246c(0x105)),..._0x3efacb,async(_0x58987b,_0x33dccb)=>{const _0x12a0a2=_0x3e246c;let _0x4198f3=await this['dataValidate']({'request':_0x58987b,'schema':null,'ClassRef':M,'execute':_0x3c404d=>P[_0x12a0a2(0x818)](_0x3c404d)});return _0x33dccb[_0x12a0a2(0x226)](0xc8)[_0x12a0a2(0x17c)](_0x4198f3);})[_0x3e246c(0x203)](this[_0x3e246c(0x195)](_0x3e246c(0x1b6)),..._0x3efacb,async(_0xdbab01,_0x5c72f4)=>{const _0x431204=_0x3e246c;let _0xc18b1f=await this[_0x431204(0x826)]({'request':_0xdbab01,'schema':null,'ClassRef':Array,'execute':(_0x2f1e7d,_0x275cea)=>P[_0x431204(0x1b6)](_0x2f1e7d,_0x275cea)});return _0x5c72f4[_0x431204(0x226)](0xc8)[_0x431204(0x17c)](_0xc18b1f);})['get'](this[_0x3e246c(0x195)](_0x3e246c(0x2aa)),..._0x3efacb,async(_0x4415eb,_0x1da8b1)=>{const _0x1030e0=_0x3e246c;let _0x2b9068=await this[_0x1030e0(0x826)]({'request':_0x4415eb,'schema':null,'ClassRef':M,'execute':_0x21db23=>P[_0x1030e0(0x2aa)](_0x21db23)});return _0x1da8b1[_0x1030e0(0x226)](0xc8)['json'](_0x2b9068);})[_0x3e246c(0x203)](this[_0x3e246c(0x195)](_0x3e246c(0x4e5)),..._0x3efacb,async(_0x24dce8,_0xdc932)=>{const _0x536075=_0x3e246c;let _0x5cd392=await this[_0x536075(0x826)]({'request':_0x24dce8,'schema':za,'ClassRef':tt,'execute':(_0x597297,_0x101854)=>P['updatePrivacySettings'](_0x597297,_0x101854)});return _0xdc932['status'](0xc9)[_0x536075(0x17c)](_0x5cd392);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)](_0x3e246c(0x6ac)),..._0x3efacb,async(_0x38b8f0,_0x47f8b4)=>{const _0x5ade5e=_0x3e246c;let _0x1043a6=await this[_0x5ade5e(0x826)]({'request':_0x38b8f0,'schema':Oe,'ClassRef':Ce,'execute':(_0xa697fb,_0x1d336e)=>P[_0x5ade5e(0x6ac)](_0xa697fb,_0x1d336e)});return _0x47f8b4[_0x5ade5e(0x226)](0xc8)[_0x5ade5e(0x17c)](_0x1043a6);})[_0x3e246c(0x444)](this[_0x3e246c(0x195)](_0x3e246c(0x410)),..._0x3efacb,async(_0x326398,_0x38d589)=>{const _0x33de49=_0x3e246c;let _0x2c8c73=await this[_0x33de49(0x826)]({'request':_0x326398,'schema':Ya,'ClassRef':Ye,'execute':(_0x34138a,_0x71319e)=>P['updateProfileName'](_0x34138a,_0x71319e)});return _0x38d589[_0x33de49(0x226)](0xc8)[_0x33de49(0x17c)](_0x2c8c73);})['post'](this['routerPath']('updateProfileStatus'),..._0x3efacb,async(_0xc2c34f,_0x54882e)=>{const _0x9fd2c4=_0x3e246c;let _0x55d532=await this[_0x9fd2c4(0x826)]({'request':_0xc2c34f,'schema':Xa,'ClassRef':Xe,'execute':(_0xae5140,_0x42d3d0)=>P[_0x9fd2c4(0x5ab)](_0xae5140,_0x42d3d0)});return _0x54882e[_0x9fd2c4(0x226)](0xc8)[_0x9fd2c4(0x17c)](_0x55d532);})[_0x3e246c(0x203)](this[_0x3e246c(0x195)](_0x3e246c(0x1b8)),..._0x3efacb,async(_0x3e3b29,_0x309be5)=>{const _0x56faab=_0x3e246c;let _0x3ac333=await this[_0x56faab(0x826)]({'request':_0x3e3b29,'schema':Oe,'ClassRef':Ce,'execute':(_0x26ab53,_0x318d11)=>P[_0x56faab(0x1b8)](_0x26ab53,_0x318d11)});return _0x309be5[_0x56faab(0x226)](0xc8)['json'](_0x3ac333);})[_0x3e246c(0x10d)](this[_0x3e246c(0x195)]('removeProfilePicture'),..._0x3efacb,async(_0x201ed2,_0x5f3352)=>{const _0x185e57=_0x3e246c;let _0x53889c=await this['dataValidate']({'request':_0x201ed2,'schema':Oe,'ClassRef':Ce,'execute':(_0x2120db,_0x2c45b7)=>P[_0x185e57(0x1a3)](_0x2120db,_0x2c45b7)});return _0x5f3352[_0x185e57(0x226)](0xc8)[_0x185e57(0x17c)](_0x53889c);});}},pi=require('express'),ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},te=class{},xe=class{},gt=class extends te{},mt=class extends te{},ft=class extends V{constructor(..._0x411d13){const _0xa2277a=a0_0x3eb0d8;super(),this[_0xa2277a(0x3bd)]=(0x0,pi[_0xa2277a(0x532)])(),this['router'][_0xa2277a(0x444)](this['routerPath']('create'),..._0x411d13,async(_0x1e1494,_0x4b683c)=>{const _0x28fec9=_0xa2277a;let _0x36eef7=await this[_0x28fec9(0x826)]({'request':_0x1e1494,'schema':si,'ClassRef':ct,'execute':(_0x356cb4,_0x2d2bf)=>q[_0x28fec9(0x10f)](_0x356cb4,_0x2d2bf)});_0x4b683c[_0x28fec9(0x226)](0xc9)[_0x28fec9(0x17c)](_0x36eef7);})[_0xa2277a(0x203)](this[_0xa2277a(0x195)](_0xa2277a(0x2ca)),..._0x411d13,async(_0x22c3fb,_0x3803f4)=>{const _0xa52fb1=_0xa2277a;let _0x5a5e84=await this[_0xa52fb1(0x5f1)]({'request':_0x22c3fb,'schema':oi,'ClassRef':lt,'execute':(_0x42d752,_0x1df1da)=>q[_0xa52fb1(0x2ca)](_0x42d752,_0x1df1da)});_0x3803f4[_0xa52fb1(0x226)](0xc9)[_0xa52fb1(0x17c)](_0x5a5e84);})[_0xa2277a(0x203)](this['routerPath'](_0xa2277a(0x4f6)),..._0x411d13,async(_0xe60e33,_0x3c9f26)=>{const _0x51a373=_0xa2277a;let _0x486562=await this['groupValidate']({'request':_0xe60e33,'schema':ri,'ClassRef':ut,'execute':(_0x3beb80,_0x3c13f3)=>q[_0x51a373(0x4f6)](_0x3beb80,_0x3c13f3)});_0x3c9f26[_0x51a373(0x226)](0xc9)['json'](_0x486562);})[_0xa2277a(0x203)](this[_0xa2277a(0x195)](_0xa2277a(0x1b5)),..._0x411d13,async(_0x243316,_0x3f93ef)=>{const _0x56d562=_0xa2277a;let _0x1fec88=await this['groupValidate']({'request':_0x243316,'schema':ni,'ClassRef':dt,'execute':(_0xc5b4df,_0xcfd88f)=>q[_0x56d562(0x1b5)](_0xc5b4df,_0xcfd88f)});_0x3f93ef[_0x56d562(0x226)](0xc9)['json'](_0x1fec88);})['put'](this['routerPath']('groupBetterSetting'),..._0x411d13,async(_0x55efff,_0x1bc81e)=>{const _0xa640f6=_0xa2277a;let _0xabdc55=await this[_0xa640f6(0x5f1)]({'request':_0x55efff,'schema':li,'ClassRef':ht,'execute':(_0x39f2ed,_0x3500e9)=>q[_0xa640f6(0x519)](_0x39f2ed,_0x3500e9)});_0x1bc81e[_0xa640f6(0x226)](0xc9)[_0xa640f6(0x17c)](_0xabdc55);})[_0xa2277a(0x203)](this[_0xa2277a(0x195)](_0xa2277a(0x566)),..._0x411d13,async(_0x503304,_0x21ab79)=>{const _0x3a2454=_0xa2277a;let _0x1d3d0a=await this[_0x3a2454(0x5f1)]({'request':_0x503304,'schema':ci,'ClassRef':pt,'execute':(_0x1e58b1,_0x1cc577)=>q[_0x3a2454(0x566)](_0x1e58b1,_0x1cc577)});_0x21ab79[_0x3a2454(0x226)](0xc9)['json'](_0x1d3d0a);})[_0xa2277a(0x203)](this[_0xa2277a(0x195)]('toggleEphemeral'),..._0x411d13,async(_0x10fad5,_0x2837a2)=>{const _0x279834=_0xa2277a;let _0xb46204=await this[_0x279834(0x5f1)]({'request':_0x10fad5,'schema':ii,'ClassRef':mt,'execute':(_0x3df2bf,_0x1f1692)=>q[_0x279834(0x733)](_0x3df2bf,_0x1f1692)});_0x2837a2[_0x279834(0x226)](0xc9)[_0x279834(0x17c)](_0xb46204);})[_0xa2277a(0x439)](this[_0xa2277a(0x195)](_0xa2277a(0x4e3)),..._0x411d13,async(_0x2aeeb8,_0x5c8ea4)=>{const _0x219cf2=_0xa2277a;let _0x3e80f3=await this[_0x219cf2(0x5f1)]({'request':_0x2aeeb8,'schema':_e,'ClassRef':te,'execute':(_0x244b21,_0x65c714)=>q[_0x219cf2(0x68e)](_0x244b21,_0x65c714)});_0x5c8ea4[_0x219cf2(0x226)](0xc8)[_0x219cf2(0x17c)](_0x3e80f3);})[_0xa2277a(0x439)](this[_0xa2277a(0x195)]('findGroups'),..._0x411d13,async(_0x3ee161,_0x2ebf48)=>{const _0x2986dc=_0xa2277a;let _0x56e4d0=await this[_0x2986dc(0x826)]({'request':_0x3ee161,'schema':v,'ClassRef':M,'execute':_0x3ed72b=>q['findGroups'](_0x3ed72b)});_0x2ebf48[_0x2986dc(0x226)](0xc8)[_0x2986dc(0x17c)](_0x56e4d0);})[_0xa2277a(0x439)](this[_0xa2277a(0x195)]('participants'),..._0x411d13,async(_0x2d60a8,_0x2ed7cb)=>{const _0x81a356=_0xa2277a;let _0x37a0fe=await this['groupValidate']({'request':_0x2d60a8,'schema':_e,'ClassRef':te,'execute':(_0x1ef8fe,_0x480f28)=>q[_0x81a356(0x285)](_0x1ef8fe,_0x480f28)});_0x2ed7cb[_0x81a356(0x226)](0xc8)[_0x81a356(0x17c)](_0x37a0fe);})[_0xa2277a(0x439)](this[_0xa2277a(0x195)]('inviteCode'),..._0x411d13,async(_0x5b0504,_0x4fa497)=>{const _0x5cfe4c=_0xa2277a;let _0x2783ab=await this[_0x5cfe4c(0x5f1)]({'request':_0x5b0504,'schema':_e,'ClassRef':te,'execute':(_0x445432,_0x3bafcf)=>q[_0x5cfe4c(0x3fa)](_0x445432,_0x3bafcf)});_0x4fa497[_0x5cfe4c(0x226)](0xc8)[_0x5cfe4c(0x17c)](_0x2783ab);})[_0xa2277a(0x444)](this[_0xa2277a(0x195)](_0xa2277a(0x4b5)),..._0x411d13,async(_0x301c04,_0x1ed722)=>{const _0xac1e37=_0xa2277a;let _0x376686=await this['joinGroupValidate']({'request':_0x301c04,'schema':Es,'ClassRef':xe,'execute':(_0x35a3b8,_0x47d74d)=>q[_0xac1e37(0x1db)](_0x35a3b8,_0x47d74d)});_0x1ed722[_0xac1e37(0x226)](0xc9)[_0xac1e37(0x17c)](_0x376686);})[_0xa2277a(0x203)](this['routerPath'](_0xa2277a(0x3ab)),..._0x411d13,async(_0x1dac02,_0x15c4fc)=>{const _0x232b70=_0xa2277a;let _0x32e939=await this['joinGroupValidate']({'request':_0x1dac02,'schema':Es,'ClassRef':xe,'execute':(_0x1f6cba,_0x5eb51d)=>q[_0x232b70(0x3ab)](_0x1f6cba,_0x5eb51d)});_0x15c4fc[_0x232b70(0x226)](0xc9)['json'](_0x32e939);})[_0xa2277a(0x203)](this[_0xa2277a(0x195)](_0xa2277a(0x68d)),..._0x411d13,async(_0x3b04ac,_0x5aaa2d)=>{const _0x42952c=_0xa2277a;let _0x38f68e=await this[_0x42952c(0x5f1)]({'request':_0x3b04ac,'schema':_e,'ClassRef':te,'execute':(_0x2e8f21,_0x4747ff)=>q['revokeInviteCode'](_0x2e8f21,_0x4747ff)});_0x5aaa2d[_0x42952c(0x226)](0xc9)[_0x42952c(0x17c)](_0x38f68e);})['put'](this[_0xa2277a(0x195)](_0xa2277a(0x6e2)),..._0x411d13,async(_0x4df258,_0x1f5b93)=>{const _0x189fb6=_0xa2277a;let _0x4709be=await this[_0x189fb6(0x5f1)]({'request':_0x4df258,'schema':ai,'ClassRef':gt,'execute':(_0x1bb4e7,_0x41e7d6)=>q[_0x189fb6(0x2a0)](_0x1bb4e7,_0x41e7d6)});_0x1f5b93[_0x189fb6(0x226)](0xc9)['json'](_0x4709be);})[_0xa2277a(0x10d)](this[_0xa2277a(0x195)](_0xa2277a(0x72e)),..._0x411d13,async(_0x4e48c6,_0x45e724)=>{const _0x32b656=_0xa2277a;let _0xd7fafc=await this[_0x32b656(0x5f1)]({'request':_0x4e48c6,'schema':{},'ClassRef':te,'execute':(_0x1bdec6,_0x46f4e1)=>q['leaveGroup'](_0x1bdec6,_0x46f4e1)});_0x45e724['status'](0xc8)['json'](_0xd7fafc);});}},hi=require(a0_0x3eb0d8(0x517)),wt=class extends V{constructor(_0x567120,..._0x1e55a5){const _0x26a691=a0_0x3eb0d8;super(),this[_0x26a691(0x801)]=_0x567120,this[_0x26a691(0x3bd)]=(0x0,hi[_0x26a691(0x532)])();let _0x401b68=_0x567120[_0x26a691(0x439)]('AUTHENTICATION');this[_0x26a691(0x3bd)]['post'](_0x26a691(0x38e),..._0x1e55a5,async(_0x28e312,_0x45a543)=>{const _0x10e962=_0x26a691;let {instanceName:_0x179104,apikey:_0x57a9dc,number:_0x3fd8c8}=_0x28e312[_0x10e962(0x1cd)],_0x1c3141=await ue['createInstance']({'instanceName':_0x179104,'apikey':_0x57a9dc,'number':_0x3fd8c8});return _0x45a543[_0x10e962(0x226)](0xc9)['json'](_0x1c3141);})[_0x26a691(0x203)](this[_0x26a691(0x195)](_0x26a691(0x54b)),..._0x1e55a5,async(_0x416f39,_0x10e2b1)=>{const _0x4b036b=_0x26a691;let _0xca736a=await this[_0x4b036b(0x826)]({'request':_0x416f39,'schema':v,'ClassRef':M,'execute':_0x5a0b65=>ue[_0x4b036b(0x459)](_0x5a0b65)});return _0x10e2b1[_0x4b036b(0x226)](0xc8)[_0x4b036b(0x17c)](_0xca736a);})[_0x26a691(0x439)](this['routerPath'](_0x26a691(0x323)),..._0x1e55a5,async(_0x4a17db,_0x46d11a)=>{const _0x1d02e2=_0x26a691;let _0x2a0cfa=await this['dataValidate']({'request':_0x4a17db,'schema':v,'ClassRef':M,'execute':_0x5c6ae4=>ue[_0x1d02e2(0x127)](_0x5c6ae4)});return _0x46d11a[_0x1d02e2(0x226)](0xc8)[_0x1d02e2(0x17c)](_0x2a0cfa);})[_0x26a691(0x439)](this[_0x26a691(0x195)](_0x26a691(0x1ad)),..._0x1e55a5,async(_0x47df5d,_0x340de2)=>{const _0x375995=_0x26a691;let _0x2265e0=await this[_0x375995(0x826)]({'request':_0x47df5d,'schema':v,'ClassRef':M,'execute':_0x209e9d=>ue['connectionState'](_0x209e9d)});return _0x340de2[_0x375995(0x226)](0xc8)[_0x375995(0x17c)](_0x2265e0);})[_0x26a691(0x439)](this['routerPath'](_0x26a691(0x496),!0x1),..._0x1e55a5,async(_0x61c62,_0x2f920d)=>{const _0x2b6187=_0x26a691;let _0x3effbd=await this[_0x2b6187(0x826)]({'request':_0x61c62,'schema':null,'ClassRef':M,'execute':_0x340fd8=>ue['fetchInstances'](_0x340fd8)});return _0x2f920d[_0x2b6187(0x226)](0xc8)[_0x2b6187(0x17c)](_0x3effbd);})[_0x26a691(0x10d)](this[_0x26a691(0x195)](_0x26a691(0x584)),..._0x1e55a5,async(_0x19c076,_0x2e1c8a)=>{const _0xfe97fc=_0x26a691;let _0x6b2a54=await this['dataValidate']({'request':_0x19c076,'schema':v,'ClassRef':M,'execute':_0x1677f1=>ue[_0xfe97fc(0x584)](_0x1677f1)});return _0x2e1c8a[_0xfe97fc(0x226)](0xc8)[_0xfe97fc(0x17c)](_0x6b2a54);})[_0x26a691(0x10d)](this['routerPath'](_0x26a691(0x10d)),..._0x1e55a5,async(_0x1f7e7f,_0x1de66d)=>{const _0x2ac24b=_0x26a691;let _0x3c5344=await this[_0x2ac24b(0x826)]({'request':_0x1f7e7f,'schema':v,'ClassRef':M,'execute':_0x2c23f1=>ue[_0x2ac24b(0x112)](_0x2c23f1)});return _0x1de66d[_0x2ac24b(0x226)](0xc8)[_0x2ac24b(0x17c)](_0x3c5344);});}},gi=require('express'),Ns=class{},z=class extends Ns{},yt=class extends z{},bt=class extends z{},St=class extends z{},Mt=class extends z{},De=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class{},At=class extends V{constructor(..._0x51eb4b){const _0x174ea2=a0_0x3eb0d8;super(),this[_0x174ea2(0x3bd)]=(0x0,gi[_0x174ea2(0x532)])(),this[_0x174ea2(0x3bd)][_0x174ea2(0x444)](this['routerPath'](_0x174ea2(0x4b3)),..._0x51eb4b,async(_0x3e5638,_0x46e0ee)=>{const _0x57da0f=_0x174ea2;let _0xd090bd=await this[_0x57da0f(0x826)]({'request':_0x3e5638,'schema':_a,'ClassRef':yt,'execute':(_0x559775,_0x47357d)=>B[_0x57da0f(0x4b3)](_0x559775,_0x47357d)});return _0x46e0ee[_0x57da0f(0x226)](0xc9)[_0x57da0f(0x17c)](_0xd090bd);})[_0x174ea2(0x444)](this[_0x174ea2(0x195)]('sendMedia'),..._0x51eb4b,async(_0x5b7b49,_0xb16297)=>{const _0x2ef487=_0x174ea2;let _0x2e5702=await this['dataValidate']({'request':_0x5b7b49,'schema':ka,'ClassRef':De,'execute':(_0x330e5f,_0x11aba5)=>B[_0x2ef487(0x639)](_0x330e5f,_0x11aba5)});return _0xb16297[_0x2ef487(0x226)](0xc9)[_0x2ef487(0x17c)](_0x2e5702);})[_0x174ea2(0x444)](this[_0x174ea2(0x195)](_0x174ea2(0x15a)),..._0x51eb4b,async(_0x42188c,_0x581f58)=>{const _0x16e1c9=_0x174ea2;let _0x8efb2b=await this[_0x16e1c9(0x826)]({'request':_0x42188c,'schema':Ua,'ClassRef':Mt,'execute':(_0x5cb0ee,_0x125d6f)=>B[_0x16e1c9(0x15a)](_0x5cb0ee,_0x125d6f)});return _0x581f58[_0x16e1c9(0x226)](0xc9)[_0x16e1c9(0x17c)](_0x8efb2b);})[_0x174ea2(0x444)](this['routerPath'](_0x174ea2(0x7f5)),..._0x51eb4b,async(_0xd6cd9f,_0x40f260)=>{const _0x48b1a2=_0x174ea2;let _0x6d16fa=await this[_0x48b1a2(0x826)]({'request':_0xd6cd9f,'schema':La,'ClassRef':De,'execute':(_0x4f934b,_0x11dab3)=>B['sendWhatsAppAudio'](_0x4f934b,_0x11dab3)});return _0x40f260[_0x48b1a2(0x226)](0xc9)[_0x48b1a2(0x17c)](_0x6d16fa);})[_0x174ea2(0x444)](this[_0x174ea2(0x195)](_0x174ea2(0x2b2)),..._0x51eb4b,async(_0x51dfa6,_0x108c57)=>{const _0xe337c0=_0x174ea2;let _0x544091=await this['dataValidate']({'request':_0x51dfa6,'schema':ja,'ClassRef':Et,'execute':(_0x26cd99,_0xc24736)=>B[_0xe337c0(0x2b2)](_0x26cd99,_0xc24736)});return _0x108c57[_0xe337c0(0x226)](0xc9)['json'](_0x544091);})[_0x174ea2(0x444)](this['routerPath'](_0x174ea2(0x1f2)),..._0x51eb4b,async(_0x51e8a6,_0x45de5a)=>{const _0x25f467=_0x174ea2;let _0x2b28c9=await this[_0x25f467(0x826)]({'request':_0x51e8a6,'schema':Ja,'ClassRef':vt,'execute':(_0x3610ea,_0x4ce1a1)=>B[_0x25f467(0x1f2)](_0x3610ea,_0x4ce1a1)});return _0x45de5a[_0x25f467(0x226)](0xc9)[_0x25f467(0x17c)](_0x2b28c9);})['post'](this['routerPath']('sendList'),..._0x51eb4b,async(_0x436379,_0x14819d)=>{const _0x50de3a=_0x174ea2;let _0x40e751=await this[_0x50de3a(0x826)]({'request':_0x436379,'schema':qa,'ClassRef':Nt,'execute':(_0x46d90a,_0x4bd773)=>B[_0x50de3a(0x190)](_0x46d90a,_0x4bd773)});return _0x14819d[_0x50de3a(0x226)](0xc9)[_0x50de3a(0x17c)](_0x40e751);})[_0x174ea2(0x444)](this[_0x174ea2(0x195)](_0x174ea2(0x4af)),..._0x51eb4b,async(_0x56ace9,_0x29cb77)=>{const _0x114a22=_0x174ea2;let _0x12efd9=await this[_0x114a22(0x826)]({'request':_0x56ace9,'schema':Va,'ClassRef':$t,'execute':(_0x4ceacb,_0x184338)=>B[_0x114a22(0x4af)](_0x4ceacb,_0x184338)});return _0x29cb77['status'](0xc9)[_0x114a22(0x17c)](_0x12efd9);})[_0x174ea2(0x444)](this[_0x174ea2(0x195)]('sendReaction'),..._0x51eb4b,async(_0x5a648e,_0x220f3b)=>{const _0x68e06f=_0x174ea2;let _0x442026=await this[_0x68e06f(0x826)]({'request':_0x5a648e,'schema':Ga,'ClassRef':Rt,'execute':(_0x20e64c,_0x3f36c6)=>B[_0x68e06f(0xf4)](_0x20e64c,_0x3f36c6)});return _0x220f3b[_0x68e06f(0x226)](0xc9)[_0x68e06f(0x17c)](_0x442026);})[_0x174ea2(0x444)](this[_0x174ea2(0x195)](_0x174ea2(0x6d6)),..._0x51eb4b,async(_0x4fcef5,_0x1d2d4d)=>{const _0x49f11f=_0x174ea2;let _0x5a1e89=await this['dataValidate']({'request':_0x4fcef5,'schema':Fa,'ClassRef':St,'execute':(_0x9d2610,_0x5e8f0d)=>B[_0x49f11f(0x6d6)](_0x9d2610,_0x5e8f0d)});return _0x1d2d4d['status'](0xc9)[_0x49f11f(0x17c)](_0x5a1e89);})['post'](this[_0x174ea2(0x195)](_0x174ea2(0x701)),..._0x51eb4b,async(_0x125189,_0x5155e2)=>{const _0x5f2ea7=_0x174ea2;let _0x10de6f=await this[_0x5f2ea7(0x826)]({'request':_0x125189,'schema':Pa,'ClassRef':bt,'execute':(_0x4b2b32,_0x150fb5)=>B['sendStatus'](_0x4b2b32,_0x150fb5)});return _0x5155e2[_0x5f2ea7(0x226)](0xc9)[_0x5f2ea7(0x17c)](_0x10de6f);})['post'](this[_0x174ea2(0x195)](_0x174ea2(0x247)),..._0x51eb4b,async(_0x161782,_0xf326c2)=>{const _0x3469a5=_0x174ea2;let _0x3bdc19=await this[_0x3469a5(0x826)]({'request':_0x161782,'schema':Da,'ClassRef':Ct,'execute':(_0x42012b,_0x1e083f)=>B['sendSticker'](_0x42012b,_0x1e083f)});return _0xf326c2[_0x3469a5(0x226)](0xc9)[_0x3469a5(0x17c)](_0x3bdc19);});}},mi=require(a0_0x3eb0d8(0x517)),It=class{},Tt=class extends V{constructor(..._0x50d5f6){const _0x47a399=a0_0x3eb0d8;super(),this[_0x47a399(0x3bd)]=(0x0,mi[_0x47a399(0x532)])(),this[_0x47a399(0x3bd)]['post'](this[_0x47a399(0x195)](_0x47a399(0x447)),..._0x50d5f6,async(_0x1cbd28,_0x94d9bf)=>{const _0x42ee81=_0x47a399;let _0xb2557e=await this[_0x42ee81(0x826)]({'request':_0x1cbd28,'schema':ui,'ClassRef':It,'execute':(_0xeb7423,_0x571ac7)=>$s['createWebhook'](_0xeb7423,_0x571ac7)});_0x94d9bf[_0x42ee81(0x226)](0xc9)[_0x42ee81(0x17c)](_0xb2557e);})['get'](this[_0x47a399(0x195)]('find'),..._0x50d5f6,async(_0x2a78e2,_0x323c42)=>{const _0x4a1ac5=_0x47a399;let _0x366c91=await this[_0x4a1ac5(0x826)]({'request':_0x2a78e2,'schema':v,'ClassRef':M,'execute':_0x2ce845=>$s['findWebhook'](_0x2ce845)});_0x323c42['status'](0xc8)['json'](_0x366c91);});}},fi=require(a0_0x3eb0d8(0x517)),y=new $(a0_0x3eb0d8(0x22e)),Ot=class extends V{constructor(..._0x1996fa){const _0x2510c5=a0_0x3eb0d8;super(),this['router']=(0x0,fi[_0x2510c5(0x532)])(),this['router'][_0x2510c5(0x444)](this['routerPath']('scheduleMessage'),..._0x1996fa,async(_0xad5400,_0x1d2882)=>{const _0x57d561=_0x2510c5;let _0x5da0b5=_0xad5400[_0x57d561(0x1cd)];y['verbose'](_0x57d561(0x6e3)),y[_0x57d561(0x671)](_0x57d561(0x5f5)),y[_0x57d561(0x671)](_0xad5400[_0x57d561(0x1cd)]);let _0x51da0c=await this[_0x57d561(0x826)]({'request':_0xad5400,'schema':v,'ClassRef':M,'execute':_0x1e1cb7=>O[_0x57d561(0x731)](_0x1e1cb7,_0x5da0b5)});_0x1d2882['status'](0xc8)[_0x57d561(0x17c)](_0x51da0c);})[_0x2510c5(0x439)](this[_0x2510c5(0x195)](_0x2510c5(0x65d)),..._0x1996fa,async(_0x19a9f7,_0x3a637d)=>{const _0x1f3be5=_0x2510c5;let _0x7de3de=await this[_0x1f3be5(0x826)]({'request':_0x19a9f7,'schema':v,'ClassRef':M,'execute':_0x22b6a5=>O[_0x1f3be5(0x256)](_0x22b6a5)});_0x3a637d[_0x1f3be5(0x226)](0xc8)[_0x1f3be5(0x17c)](_0x7de3de);})[_0x2510c5(0x10d)](this[_0x2510c5(0x195)]('deleteDoneMessages'),..._0x1996fa,async(_0x4ceeb2,_0x105d4e)=>{const _0x4ab42c=_0x2510c5;y[_0x4ab42c(0x671)]('request\x20received\x20in\x20deleteDoneMessages');let _0x3a8063=await this[_0x4ab42c(0x826)]({'request':_0x4ceeb2,'schema':v,'ClassRef':M,'execute':_0x121a90=>O['deleteDoneMessages'](_0x121a90)});_0x105d4e['status'](0xc8)['json'](_0x3a8063);})['post'](this['routerPath'](_0x2510c5(0xee)),..._0x1996fa,async(_0x4a7b6c,_0x3bb257)=>{const _0x2ecbe7=_0x2510c5;let _0x1e4e1f=_0x4a7b6c[_0x2ecbe7(0x1cd)];y[_0x2ecbe7(0x671)](_0x2ecbe7(0x37f)),y[_0x2ecbe7(0x671)](_0x2ecbe7(0x5f5)),y[_0x2ecbe7(0x671)](_0x4a7b6c[_0x2ecbe7(0x1cd)]);let _0x445903=await this[_0x2ecbe7(0x826)]({'request':_0x4a7b6c,'schema':v,'ClassRef':M,'execute':_0x5b63eb=>O[_0x2ecbe7(0xee)](_0x5b63eb,_0x1e4e1f)});_0x3bb257[_0x2ecbe7(0x226)](0xc8)['json'](_0x445903);})[_0x2510c5(0x439)](this[_0x2510c5(0x195)](_0x2510c5(0x25b)),..._0x1996fa,async(_0x158e9a,_0x4844b4)=>{const _0x130888=_0x2510c5;y[_0x130888(0x671)](_0x130888(0x3df));let _0x43d584=await this[_0x130888(0x826)]({'request':_0x158e9a,'schema':v,'ClassRef':M,'execute':_0x28d2c4=>O[_0x130888(0x25b)](_0x28d2c4)});_0x4844b4[_0x130888(0x226)](0xc8)[_0x130888(0x17c)](_0x43d584);})['get'](this[_0x2510c5(0x195)]('getTicketSystem'),..._0x1996fa,async(_0x56fadb,_0x4f6c4a)=>{const _0x2eb866=_0x2510c5;y[_0x2eb866(0x671)](_0x2eb866(0x7d2));let _0x4b3d01=await this[_0x2eb866(0x826)]({'request':_0x56fadb,'schema':v,'ClassRef':M,'execute':_0x31a137=>O['getAutomateSystem'](_0x31a137)});_0x4f6c4a[_0x2eb866(0x226)](0xc8)[_0x2eb866(0x17c)](_0x4b3d01);})[_0x2510c5(0x444)](this['routerPath'](_0x2510c5(0x6f4)),..._0x1996fa,async(_0x49ce30,_0x2e71cd)=>{const _0x19e26b=_0x2510c5;let _0xcb7103=_0x49ce30['body'];y[_0x19e26b(0x671)](_0x19e26b(0x62b)),y[_0x19e26b(0x671)](_0x19e26b(0x5f5)),y['verbose'](_0x49ce30[_0x19e26b(0x1cd)]);let _0x30986f=await this['dataValidate']({'request':_0x49ce30,'schema':v,'ClassRef':M,'execute':_0x144fd5=>O[_0x19e26b(0x6f4)](_0x144fd5,_0xcb7103)});_0x2e71cd[_0x19e26b(0x226)](0xc8)[_0x19e26b(0x17c)](_0x30986f);})[_0x2510c5(0x444)](this[_0x2510c5(0x195)](_0x2510c5(0x14e)),..._0x1996fa,async(_0x588b3e,_0x4fd417)=>{const _0xea1f23=_0x2510c5;let _0x2062f7=_0x588b3e['body'];y[_0xea1f23(0x671)](_0xea1f23(0x22c)),y[_0xea1f23(0x671)](_0xea1f23(0x5f5)),y[_0xea1f23(0x671)](_0x588b3e[_0xea1f23(0x1cd)]);let _0x43dc8b=await this[_0xea1f23(0x826)]({'request':_0x588b3e,'schema':v,'ClassRef':M,'execute':_0xd5fea6=>O[_0xea1f23(0x14e)](_0xd5fea6,_0x2062f7)});_0x4fd417[_0xea1f23(0x226)](0xc8)[_0xea1f23(0x17c)](_0x43dc8b);})['post'](this['routerPath'](_0x2510c5(0x673)),..._0x1996fa,async(_0x3da3e2,_0x1b9b77)=>{const _0x1df39c=_0x2510c5;let _0x57e61b=_0x3da3e2[_0x1df39c(0x1cd)];y[_0x1df39c(0x671)](_0x1df39c(0x23f)),y[_0x1df39c(0x671)](_0x1df39c(0x5f5)),y[_0x1df39c(0x671)](_0x3da3e2[_0x1df39c(0x1cd)]);let _0x2e4a4c=await this['dataValidate']({'request':_0x3da3e2,'schema':v,'ClassRef':M,'execute':_0x20ba9e=>O[_0x1df39c(0x673)](_0x20ba9e,_0x57e61b)});_0x1b9b77[_0x1df39c(0x226)](0xc8)[_0x1df39c(0x17c)](_0x2e4a4c);})['post'](this[_0x2510c5(0x195)]('updateFlowConfig'),..._0x1996fa,async(_0x347353,_0x1bcec0)=>{const _0xd5f433=_0x2510c5;let _0x5688c0=_0x347353[_0xd5f433(0x1cd)];y['verbose'](_0xd5f433(0x2e0)),y['verbose'](_0xd5f433(0x5f5)),y[_0xd5f433(0x671)](_0x347353['body']);let _0x4f0d84=await this[_0xd5f433(0x826)]({'request':_0x347353,'schema':v,'ClassRef':M,'execute':_0x5385ee=>O[_0xd5f433(0x289)](_0x5385ee,_0x5688c0)});_0x1bcec0[_0xd5f433(0x226)](0xc8)['json'](_0x4f0d84);})[_0x2510c5(0x444)](this['routerPath'](_0x2510c5(0x647)),..._0x1996fa,async(_0x47e821,_0x38735b)=>{const _0x31216b=_0x2510c5;let _0x31a130=_0x47e821[_0x31216b(0x1cd)];y[_0x31216b(0x671)](_0x31216b(0x744)),y[_0x31216b(0x671)](_0x31216b(0x5f5)),y[_0x31216b(0x671)](_0x47e821['body']);let _0xf3077a=await this[_0x31216b(0x826)]({'request':_0x47e821,'schema':v,'ClassRef':M,'execute':_0x38df97=>O[_0x31216b(0x647)](_0x38df97,_0x31a130)});_0x38735b[_0x31216b(0x226)](0xc8)[_0x31216b(0x17c)](_0xf3077a);})[_0x2510c5(0x444)](this['routerPath'](_0x2510c5(0x40a)),..._0x1996fa,async(_0x5f24fd,_0x63bb47)=>{const _0x6e4e74=_0x2510c5;let _0x3976b2=_0x5f24fd[_0x6e4e74(0x1cd)];y[_0x6e4e74(0x671)](_0x6e4e74(0x51a)),y['verbose'](_0x6e4e74(0x5f5)),y[_0x6e4e74(0x671)](_0x5f24fd['body']);let _0x222b67=await this['dataValidate']({'request':_0x5f24fd,'schema':v,'ClassRef':M,'execute':_0xe3bba6=>O[_0x6e4e74(0x40a)](_0xe3bba6,_0x3976b2)});_0x63bb47[_0x6e4e74(0x226)](0xc8)[_0x6e4e74(0x17c)](_0x222b67);})[_0x2510c5(0x444)](this[_0x2510c5(0x195)]('editConversation'),..._0x1996fa,async(_0x552deb,_0x135a61)=>{const _0x16dfb7=_0x2510c5;let _0x1249a7=_0x552deb[_0x16dfb7(0x1cd)];y['verbose'](_0x16dfb7(0x310)),y[_0x16dfb7(0x671)](_0x16dfb7(0x5f5)),y[_0x16dfb7(0x671)](_0x552deb[_0x16dfb7(0x1cd)]);let _0x3e567e=await this[_0x16dfb7(0x826)]({'request':_0x552deb,'schema':v,'ClassRef':M,'execute':_0x1f1b92=>O[_0x16dfb7(0x612)](_0x1f1b92,_0x1249a7)});_0x135a61[_0x16dfb7(0x226)](0xc8)[_0x16dfb7(0x17c)](_0x3e567e);})[_0x2510c5(0x10d)](this['routerPath'](_0x2510c5(0x110)),..._0x1996fa,async(_0x1b807a,_0x9d62dc)=>{const _0xf6e052=_0x2510c5;let _0x1c350c=_0x1b807a[_0xf6e052(0x1cd)];y[_0xf6e052(0x671)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0xf6e052(0x5f5)),y['verbose'](_0x1b807a[_0xf6e052(0x1cd)]);let _0x4eba3c=await this[_0xf6e052(0x826)]({'request':_0x1b807a,'schema':v,'ClassRef':M,'execute':_0x2b870e=>O[_0xf6e052(0x110)](_0x2b870e,_0x1c350c)});_0x9d62dc[_0xf6e052(0x226)](0xc8)[_0xf6e052(0x17c)](_0x4eba3c);})[_0x2510c5(0x444)](this[_0x2510c5(0x195)](_0x2510c5(0x596)),..._0x1996fa,async(_0x3d9990,_0x1e7eda)=>{const _0x7daf9d=_0x2510c5;let _0x13951e=_0x3d9990[_0x7daf9d(0x1cd)],_0x1168d6=_0x3d9990[_0x7daf9d(0x2c5)][_0x7daf9d(0x6a8)];y[_0x7daf9d(0x671)](_0x7daf9d(0x80f)),y[_0x7daf9d(0x671)]('request\x20body:\x20'),y[_0x7daf9d(0x671)](_0x3d9990['body']);let _0x27b8a0=await this[_0x7daf9d(0x826)]({'request':_0x3d9990,'schema':v,'ClassRef':M,'execute':_0x28611d=>O['createFlow'](_0x28611d,_0x13951e,_0x1168d6)});_0x1e7eda['status'](0xc8)['json'](_0x27b8a0);})[_0x2510c5(0x444)](this[_0x2510c5(0x195)]('editflow'),..._0x1996fa,async(_0x3ff073,_0x2f0758)=>{const _0x3db8cd=_0x2510c5;let _0x536a3f=_0x3ff073[_0x3db8cd(0x1cd)],_0x119610=_0x3ff073['headers'][_0x3db8cd(0x6a8)];y[_0x3db8cd(0x671)]('request\x20received\x20in\x20editFlow'),y[_0x3db8cd(0x671)](_0x3db8cd(0x5f5)),y[_0x3db8cd(0x671)](_0x3ff073['body']),delete _0x536a3f[_0x3db8cd(0x57b)],delete _0x536a3f['variables'],delete _0x536a3f[_0x3db8cd(0x74d)],delete _0x536a3f[_0x3db8cd(0x375)];let _0x4b6ed0=await this[_0x3db8cd(0x826)]({'request':_0x3ff073,'schema':v,'ClassRef':M,'execute':_0x4521ba=>O[_0x3db8cd(0x1f9)](_0x4521ba,_0x536a3f,_0x119610)});_0x2f0758[_0x3db8cd(0x226)](0xc8)[_0x3db8cd(0x17c)](_0x4b6ed0);})[_0x2510c5(0x444)](this[_0x2510c5(0x195)](_0x2510c5(0xed)),..._0x1996fa,async(_0xfaccfd,_0x19f070)=>{const _0x546f8b=_0x2510c5;let _0x11d7f9=_0xfaccfd[_0x546f8b(0x1cd)];y[_0x546f8b(0x671)](_0x546f8b(0x7c9)),y[_0x546f8b(0x671)](_0x546f8b(0x5f5)),y[_0x546f8b(0x671)](_0xfaccfd['body']);let _0x129ffa=await this[_0x546f8b(0x826)]({'request':_0xfaccfd,'schema':v,'ClassRef':M,'execute':_0x2c6845=>O[_0x546f8b(0x70a)](_0x2c6845,_0x11d7f9)});_0x19f070[_0x546f8b(0x226)](0xc8)[_0x546f8b(0x17c)](_0x129ffa);})['post'](this[_0x2510c5(0x195)](_0x2510c5(0x280)),..._0x1996fa,async(_0x58f5e2,_0x228faa)=>{const _0x4cc163=_0x2510c5;let _0x46b236=_0x58f5e2[_0x4cc163(0x1cd)];y[_0x4cc163(0x671)](_0x4cc163(0x7c9)),y['verbose'](_0x4cc163(0x5f5)),y[_0x4cc163(0x671)](_0x58f5e2[_0x4cc163(0x1cd)]);let _0x50173a=await this[_0x4cc163(0x826)]({'request':_0x58f5e2,'schema':v,'ClassRef':M,'execute':_0x384593=>O['editFlowReply'](_0x384593,_0x46b236)});_0x228faa[_0x4cc163(0x226)](0xc8)[_0x4cc163(0x17c)](_0x50173a);})[_0x2510c5(0x444)](this['routerPath'](_0x2510c5(0x1c5)),..._0x1996fa,async(_0x2d746e,_0x1b0661)=>{const _0x59bf09=_0x2510c5;let _0x3823ca=_0x2d746e[_0x59bf09(0x1cd)];y['verbose'](_0x59bf09(0x7c9)),y[_0x59bf09(0x671)](_0x59bf09(0x5f5)),y[_0x59bf09(0x671)](_0x2d746e['body']);let _0x3854b3=await this[_0x59bf09(0x826)]({'request':_0x2d746e,'schema':v,'ClassRef':M,'execute':_0x15c4a6=>O[_0x59bf09(0x1cb)](_0x15c4a6,_0x3823ca)});_0x1b0661[_0x59bf09(0x226)](0xc8)[_0x59bf09(0x17c)](_0x3854b3);})[_0x2510c5(0x444)](this[_0x2510c5(0x195)]('editflowgroup'),..._0x1996fa,async(_0x13002e,_0x2da61c)=>{const _0xb30cef=_0x2510c5;let _0x4ae120=_0x13002e[_0xb30cef(0x1cd)];y[_0xb30cef(0x671)](_0xb30cef(0x7b9)),y[_0xb30cef(0x671)]('request\x20body:\x20'),y[_0xb30cef(0x671)](_0x13002e[_0xb30cef(0x1cd)]);let _0x5a03c7=await this[_0xb30cef(0x826)]({'request':_0x13002e,'schema':v,'ClassRef':M,'execute':_0x3e8bb0=>O[_0xb30cef(0x783)](_0x3e8bb0,_0x4ae120)});_0x2da61c['status'](0xc8)[_0xb30cef(0x17c)](_0x5a03c7);})[_0x2510c5(0x444)](this['routerPath'](_0x2510c5(0x5d1)),..._0x1996fa,async(_0xa535e7,_0x128c7d)=>{const _0x500945=_0x2510c5;let _0x5d4fa0=_0xa535e7[_0x500945(0x1cd)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y['verbose'](_0x500945(0x5f5)),y[_0x500945(0x671)](_0xa535e7[_0x500945(0x1cd)]);let _0x3723dd=await this['dataValidate']({'request':_0xa535e7,'schema':v,'ClassRef':M,'execute':_0x235594=>O[_0x500945(0x116)](_0x235594,_0x5d4fa0)});_0x128c7d['status'](0xc8)[_0x500945(0x17c)](_0x3723dd);})['post'](this[_0x2510c5(0x195)](_0x2510c5(0x511)),..._0x1996fa,async(_0x1aee0e,_0x572485)=>{const _0x52b9b2=_0x2510c5;let _0xba622a=_0x1aee0e['body'];y[_0x52b9b2(0x671)]('request\x20received\x20in\x20editFlowvariable'),y[_0x52b9b2(0x671)](_0x52b9b2(0x5f5)),y[_0x52b9b2(0x671)](_0x1aee0e[_0x52b9b2(0x1cd)]);let _0x399cb9=await this[_0x52b9b2(0x826)]({'request':_0x1aee0e,'schema':v,'ClassRef':M,'execute':_0x2640d5=>O['editFlowVariable'](_0x2640d5,_0xba622a)});_0x572485['status'](0xc8)[_0x52b9b2(0x17c)](_0x399cb9);})[_0x2510c5(0x444)](this[_0x2510c5(0x195)]('getflow'),..._0x1996fa,async(_0x4ffd80,_0x4b6acd)=>{const _0x315f4c=_0x2510c5;let _0x1481f1=_0x4ffd80[_0x315f4c(0x1cd)];y[_0x315f4c(0x671)](_0x315f4c(0x237)),y['verbose'](_0x315f4c(0x5f5)),y[_0x315f4c(0x671)](_0x4ffd80[_0x315f4c(0x1cd)]);let _0x3f18f6=await this[_0x315f4c(0x826)]({'request':_0x4ffd80,'schema':v,'ClassRef':M,'execute':_0x2d6f97=>O[_0x315f4c(0x28c)](_0x2d6f97,_0x1481f1)});_0x4b6acd[_0x315f4c(0x226)](0xc8)[_0x315f4c(0x17c)](_0x3f18f6);})[_0x2510c5(0x10d)](this[_0x2510c5(0x195)]('deleteflow'),..._0x1996fa,async(_0xc0656a,_0xa35f5e)=>{const _0x16934b=_0x2510c5;let _0x3af6e9=_0xc0656a[_0x16934b(0x1cd)];y[_0x16934b(0x671)](_0x16934b(0x1ae)),y[_0x16934b(0x671)](_0x16934b(0x5f5)),y['verbose'](_0xc0656a[_0x16934b(0x1cd)]);let _0x131957=await this[_0x16934b(0x826)]({'request':_0xc0656a,'schema':v,'ClassRef':M,'execute':_0x2c0428=>O[_0x16934b(0x81c)](_0x2c0428,_0x3af6e9)});_0xa35f5e[_0x16934b(0x226)](0xc8)['json'](_0x131957);})[_0x2510c5(0x439)](this[_0x2510c5(0x195)](_0x2510c5(0x13a)),..._0x1996fa,async(_0x4f4a6b,_0x4e0df1)=>{const _0x3768a5=_0x2510c5;y[_0x3768a5(0x671)]('request\x20received\x20in\x20allFlows');let _0x9620d9=await this['dataValidate']({'request':_0x4f4a6b,'schema':v,'ClassRef':M,'execute':_0x22b7e0=>O[_0x3768a5(0x658)](_0x22b7e0)});_0x4e0df1[_0x3768a5(0x226)](0xc8)[_0x3768a5(0x17c)](_0x9620d9);});}},Si=T(require('path')),se={};function wi(_0x547ddb,_0x2540c0,_0x509a0c,_0x90006c){se[_0x547ddb]||(se[_0x547ddb]={}),se[_0x547ddb][_0x2540c0]={'id':_0x2540c0,'response':_0x509a0c,'events':_0x90006c};}function yi(_0x34a1b7,_0x2edbc3){!se[_0x34a1b7]||!se[_0x34a1b7][_0x2edbc3]||delete se[_0x34a1b7][_0x2edbc3];}function J(_0x5b1780,_0x4c9cee,_0x379161){const _0x25403f=a0_0x3eb0d8;if(!se[_0x5b1780])return;let _0x1ce410=_0x25403f(0x2f5)+JSON[_0x25403f(0x1dc)](_0x379161)+'\x0a\x0a';Object['values'](se[_0x5b1780])[_0x25403f(0x16b)](_0x19d76c=>{const _0x3bac81=_0x25403f;_0x19d76c[_0x3bac81(0x109)][_0x3bac81(0x5d6)](_0x4c9cee)&&_0x19d76c['response'][_0x3bac81(0x379)](_0x1ce410);});}function bi(){const _0x560b47=a0_0x3eb0d8;let _0x440edc={};for(let _0x435441 in se)_0x440edc[_0x435441]=Object[_0x560b47(0x6dc)](se[_0x435441])[_0x560b47(0x437)](_0x275e9d=>({'id':_0x275e9d['id'],'events':_0x275e9d[_0x560b47(0x109)]}));return _0x440edc;}var Mi=require('uuid'),As=require(a0_0x3eb0d8(0x7a3)),Rs=class{},Ro=new As['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new As['Schema']({'_id':{'type':String,'default':a0_0x3eb0d8(0x75d)},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.[a0_0x3eb0d8(0x7dc)](Rs[a0_0x3eb0d8(0x21a)],Ao,a0_0x3eb0d8(0x7f2)),Io=Si[a0_0x3eb0d8(0x487)][a0_0x3eb0d8(0x633)](__dirname,a0_0x3eb0d8(0x599)),Pe=(0x0,_t[a0_0x3eb0d8(0x532)])(),To=S[a0_0x3eb0d8(0x439)](a0_0x3eb0d8(0x1d1))[a0_0x3eb0d8(0x3f3)],re=[$a,Ra,Ta[To]];Pe[a0_0x3eb0d8(0x76f)](a0_0x3eb0d8(0x4bc),_t['default'][a0_0x3eb0d8(0x317)](Io))[a0_0x3eb0d8(0x439)](a0_0x3eb0d8(0x780),async(_0x3d2325,_0x23410c)=>{const _0x23c372=a0_0x3eb0d8;console[_0x23c372(0x2b5)](_0x23c372(0x194));let _0x4f9f6a=_0x3d2325['params']['instance'],_0x15a9e7=(_0x3d2325[_0x23c372(0x4e1)]['events']||'')['split'](','),_0xaad686=(0x0,Mi['v4'])();console[_0x23c372(0x2b5)]('Instance\x20ID:',_0x4f9f6a),console[_0x23c372(0x2b5)](_0x23c372(0x787),_0x15a9e7);let _0x42658c=S['get'](_0x23c372(0x1d1))['API_KEY'],_0x18e475=_0x3d2325[_0x23c372(0x4e1)][_0x23c372(0x6a8)];if(console['log'](_0x23c372(0x366),_0x18e475),_0x42658c[_0x23c372(0x5b6)]!==_0x18e475){console[_0x23c372(0x2b5)](_0x23c372(0x6a2));try{let _0x13c47f=await me[_0x23c372(0x61b)][_0x23c372(0x551)](_0x4f9f6a);if(console[_0x23c372(0x2b5)](_0x23c372(0x206),_0x13c47f),!_0x13c47f||_0x13c47f[_0x23c372(0x6a8)]!==_0x18e475)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x23410c['status'](0x191)[_0x23c372(0x365)](_0x23c372(0x46f));}catch(_0x27165f){return console[_0x23c372(0x1ca)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x27165f),_0x23410c[_0x23c372(0x226)](0x191)['send'](_0x23c372(0x5c6));}}if(!await Te(_0x4f9f6a))return _0x23410c[_0x23c372(0x226)](0x194)[_0x23c372(0x365)]('Instância\x20não\x20encontrada.');_0x23410c[_0x23c372(0x252)](_0x23c372(0x448),'text/event-stream'),_0x23410c[_0x23c372(0x252)](_0x23c372(0x107),_0x23c372(0x4d7)),_0x23410c[_0x23c372(0x252)](_0x23c372(0x646),_0x23c372(0x74f)),_0x23410c[_0x23c372(0x4db)]();let _0x3b814e=_0x23c372(0x2f5)+JSON['stringify']({'info':_0x23c372(0x287)})+'\x0a\x0a';_0x23410c['write'](_0x3b814e),wi(_0x4f9f6a,_0xaad686,_0x23410c,_0x15a9e7),_0x3d2325['on'](_0x23c372(0x14d),()=>{const _0x217aa8=_0x23c372;console[_0x217aa8(0x2b5)](_0x217aa8(0x5b7)+_0x4f9f6a),yi(_0x4f9f6a,_0xaad686);});}),Pe[a0_0x3eb0d8(0x444)](a0_0x3eb0d8(0x69d),async(_0x279329,_0x4923da)=>{const _0x433baa=a0_0x3eb0d8;console[_0x433baa(0x2b5)](_0x433baa(0x3c0));let _0x13c06f=_0x279329[_0x433baa(0x781)][_0x433baa(0x245)],_0x5b059a=_0x279329[_0x433baa(0x781)][_0x433baa(0x556)],_0x83df34=_0x279329[_0x433baa(0x4e1)]['remoteJid']||'',_0x5bef60=_0x279329[_0x433baa(0x1cd)];console['log'](_0x433baa(0x319),_0x13c06f),console[_0x433baa(0x2b5)]('StartID:',_0x5b059a),console['log'](_0x433baa(0x243),_0x83df34),console['log'](_0x433baa(0x2d6),_0x5bef60);try{if(!await Te(_0x13c06f))return _0x4923da[_0x433baa(0x226)](0x194)['send'](_0x433baa(0x2f6));let _0x38a1f3=await O[_0x433baa(0x713)](_0x13c06f,_0x5b059a,_0x83df34,_0x5bef60);_0x4923da['send'](_0x38a1f3);}catch(_0x486ecc){console[_0x433baa(0x1ca)](_0x486ecc),_0x4923da[_0x433baa(0x226)](0x1f4)[_0x433baa(0x365)](_0x433baa(0x4bf));}}),Pe[a0_0x3eb0d8(0x439)](a0_0x3eb0d8(0x79e),(_0x22ab0f,_0x57271e)=>{const _0x44dabd=a0_0x3eb0d8;let _0x2e9be7=bi();_0x57271e[_0x44dabd(0x17c)](_0x2e9be7);})[a0_0x3eb0d8(0x439)]('/',(_0x44d55f,_0x54b1bf)=>{const _0x5251fd=a0_0x3eb0d8;let _0x4e635a=S[_0x5251fd(0x439)](_0x5251fd(0x477))[_0x5251fd(0x433)];if(_0x4e635a){let _0x284f69=encodeURIComponent(''+_0x4e635a);_0x54b1bf['redirect'](_0x5251fd(0x52b)+_0x284f69);return;}let _0x19192c=S[_0x5251fd(0x439)](_0x5251fd(0x429)),_0x13c9ff=_0x19192c&&_0x19192c[_0x5251fd(0x3d1)][_0x5251fd(0x766)]('/')[0x4];if(_0x13c9ff){let _0x5dbb5c=encodeURIComponent(_0x5251fd(0x442)+_0x13c9ff);_0x54b1bf['redirect'](_0x5251fd(0x52b)+_0x5dbb5c);}else _0x54b1bf[_0x5251fd(0x54a)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x3eb0d8(0x203)](a0_0x3eb0d8(0x43c),...re,async(_0xb677e,_0x4ae124)=>{const _0x1e2dc1=a0_0x3eb0d8;try{console[_0x1e2dc1(0x2b5)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x4ae124['status'](0xc8)[_0x1e2dc1(0x17c)]({'message':_0x1e2dc1(0x704)}),_0x4ae124['on'](_0x1e2dc1(0xfc),()=>process[_0x1e2dc1(0x26b)](0x0));}catch(_0x44fd02){console[_0x1e2dc1(0x1ca)](_0x1e2dc1(0x25e),_0x44fd02),_0x4ae124[_0x1e2dc1(0x226)](0x1f4)[_0x1e2dc1(0x17c)]({'message':_0x1e2dc1(0x33d)});}})[a0_0x3eb0d8(0x203)]('/config',...re,async(_0x43dee4,_0x42ace2)=>{const _0x53e0ee=a0_0x3eb0d8;try{let _0x370d46=_0x43dee4[_0x53e0ee(0x1cd)];await Ee[_0x53e0ee(0x57f)]({},{'$set':_0x370d46},{'upsert':!0x0});let _0x202cda=await Ee['findOne']();_0x42ace2[_0x53e0ee(0x17c)](_0x202cda);}catch(_0x625e15){_0x42ace2[_0x53e0ee(0x226)](0x190)[_0x53e0ee(0x365)](_0x625e15[_0x53e0ee(0x3a7)]);}})[a0_0x3eb0d8(0x439)](a0_0x3eb0d8(0x201),...re,async(_0x4d54fc,_0x15d679)=>{const _0x33317a=a0_0x3eb0d8;try{let _0x14dfd0=await Ee[_0x33317a(0x657)]();if(!_0x14dfd0)return _0x15d679['json']({});_0x15d679[_0x33317a(0x17c)](_0x14dfd0);}catch(_0x1ad3ba){_0x15d679[_0x33317a(0x226)](0x1f4)[_0x33317a(0x365)](_0x1ad3ba['message']);}})['use']('/instance',new wt(S,...re)[a0_0x3eb0d8(0x3bd)])[a0_0x3eb0d8(0x76f)](a0_0x3eb0d8(0x351),new At(...re)[a0_0x3eb0d8(0x3bd)])[a0_0x3eb0d8(0x76f)](a0_0x3eb0d8(0x518),new nt(...re)[a0_0x3eb0d8(0x3bd)])['use'](a0_0x3eb0d8(0x174),new ft(...re)[a0_0x3eb0d8(0x3bd)])[a0_0x3eb0d8(0x76f)]('/webhook',new Tt(...re)[a0_0x3eb0d8(0x3bd)])[a0_0x3eb0d8(0x76f)]('/automate',new Ot(...re)['router']);var m=class{constructor(..._0x51c212){const _0x3205fe=a0_0x3eb0d8;throw{'status':0x190,'error':_0x3205fe(0x747),'message':_0x51c212[_0x3205fe(0x75f)]>0x0?_0x51c212:void 0x0};}},oe=class{constructor(..._0x239d79){const _0x447bac=a0_0x3eb0d8;throw{'status':0x191,'error':_0x447bac(0x5cc),'message':_0x239d79[_0x447bac(0x75f)]>0x0?_0x239d79:void 0x0};}},Z=class{constructor(..._0x276448){const _0x47d5d9=a0_0x3eb0d8;throw{'status':0x193,'error':_0x47d5d9(0x270),'message':_0x276448['length']>0x0?_0x276448:void 0x0};}},j=class{constructor(..._0xc8b082){const _0x4b94a2=a0_0x3eb0d8;throw{'status':0x194,'error':_0x4b94a2(0x19c),'message':_0xc8b082[_0x4b94a2(0x75f)]>0x0?_0xc8b082:void 0x0};}},x=class{constructor(..._0x4a883f){const _0x508b18=a0_0x3eb0d8;throw{'status':0x1f4,'error':_0x508b18(0xe7),'message':_0x4a883f[_0x508b18(0x75f)]>0x0?_0x4a883f:void 0x0};}},fe=require(a0_0x3eb0d8(0xc7));async function Is(_0x399e62){const _0x35bdaa=a0_0x3eb0d8;let _0x5e1bcc=new $(Is[_0x35bdaa(0x21a)]),_0x1aa0c2=R['getClient'](),_0x432a56=_0x1aa0c2['db'](S[_0x35bdaa(0x439)](_0x35bdaa(0x703))[_0x35bdaa(0x6cf)][_0x35bdaa(0x449)]+_0x35bdaa(0x1ab))[_0x35bdaa(0x7cb)](_0x399e62),_0x3b8854=async(_0x3baf02,_0x385154)=>{const _0x51b73b=_0x35bdaa;try{return await _0x1aa0c2[_0x51b73b(0x323)](),await _0x432a56[_0x51b73b(0x598)]({'_id':_0x385154},JSON[_0x51b73b(0x814)](JSON[_0x51b73b(0x1dc)](_0x3baf02,fe[_0x51b73b(0x11b)][_0x51b73b(0x4b0)])),{'upsert':!0x0});}catch{}},_0x16deca=async _0x43a5dd=>{const _0x1e0268=_0x35bdaa;try{await _0x1aa0c2['connect']();let _0x5d4119=await _0x432a56['findOne']({'_id':_0x43a5dd}),_0x637ad=JSON[_0x1e0268(0x1dc)](_0x5d4119);return JSON[_0x1e0268(0x814)](_0x637ad,fe['BufferJSON'][_0x1e0268(0x722)]);}catch{}},_0x3b8566=async _0x4d14b6=>{const _0x21a003=_0x35bdaa;try{return await _0x1aa0c2[_0x21a003(0x323)](),await _0x432a56['deleteOne']({'_id':_0x4d14b6});}catch{}},_0x4adcce=await _0x16deca(_0x35bdaa(0x228))||(0x0,fe[_0x35bdaa(0x40b)])();return{'state':{'creds':_0x4adcce,'keys':{'get':async(_0x163590,_0x4bccc9)=>{const _0x2d55d8=_0x35bdaa;let _0x47d268={};return await Promise[_0x2d55d8(0x7a9)](_0x4bccc9['map'](async _0xa68d26=>{const _0x19910f=_0x2d55d8;let _0x59d6f5=await _0x16deca(_0x163590+'-'+_0xa68d26);_0x163590==='app-state-sync-key'&&_0x59d6f5&&(_0x59d6f5=fe[_0x19910f(0x230)][_0x19910f(0x47c)][_0x19910f(0x7bb)][_0x19910f(0x805)](_0x59d6f5)),_0x47d268[_0xa68d26]=_0x59d6f5;})),_0x47d268;},'set':async _0x13cbe0=>{const _0x109ff3=_0x35bdaa;let _0x5e0496=[];for(let _0xfe06bd in _0x13cbe0)for(let _0x14d10c in _0x13cbe0[_0xfe06bd]){let _0x473380=_0x13cbe0[_0xfe06bd][_0x14d10c],_0x28ba25=_0xfe06bd+'-'+_0x14d10c;_0x5e0496[_0x109ff3(0x3c2)](_0x473380?_0x3b8854(_0x473380,_0x28ba25):_0x3b8566(_0x28ba25));}await Promise['all'](_0x5e0496);}}},'saveCreds':async()=>_0x3b8854(_0x4adcce,_0x35bdaa(0x228))};}var Ds=T(require(a0_0x3eb0d8(0x1ba))),Ps=T(require(a0_0x3eb0d8(0x17d))),Pt=require(a0_0x3eb0d8(0xc7)),Ci=require(a0_0x3eb0d8(0x339)),Dt=require(a0_0x3eb0d8(0xc7)),xt;function Oo(_0x428010){const _0x350823=a0_0x3eb0d8;return xt||(xt=(0x0,Ci['createClient'])({'url':_0x428010[_0x350823(0x12e)]}),xt['connect']()),xt;}var de=class u{constructor(_0x1db006,_0x2e0167){const _0x13f694=a0_0x3eb0d8;this['redisEnv']=_0x1db006,this['instanceName']=_0x2e0167,this[_0x13f694(0xfa)]=new $(u[_0x13f694(0x21a)]),this['client']=Oo(_0x1db006);}set[a0_0x3eb0d8(0x12b)](_0x357cac){const _0x47dcdb=a0_0x3eb0d8;this[_0x47dcdb(0x1a8)]=_0x357cac;}async[a0_0x3eb0d8(0x564)](){const _0x56965c=a0_0x3eb0d8;try{return await this[_0x56965c(0x1d3)][_0x56965c(0x7ba)]([_0x56965c(0x130),this[_0x56965c(0x411)][_0x56965c(0x19d)]+':*']);}catch(_0x283cc0){this[_0x56965c(0xfa)]['error'](_0x283cc0);}}async[a0_0x3eb0d8(0x810)](_0x299cf8,_0x51c069){const _0x4fb468=a0_0x3eb0d8;try{let _0x105024=JSON['stringify'](_0x51c069,Dt['BufferJSON']['replacer']);return await this['client'][_0x4fb468(0x277)](this['redisEnv'][_0x4fb468(0x19d)]+':'+this[_0x4fb468(0x1a8)],_0x299cf8,_0x105024);}catch(_0x22e2a6){this['logger'][_0x4fb468(0x1ca)](_0x22e2a6);}}async[a0_0x3eb0d8(0x526)](){const _0x24a7c4=a0_0x3eb0d8;try{let _0x2895e8=await this['client'][_0x24a7c4(0x23e)](this['redisEnv'][_0x24a7c4(0x19d)]+':'+this[_0x24a7c4(0x1a8)]);if(_0x2895e8){for(let _0x2848ef in _0x2895e8)Object[_0x24a7c4(0x5c0)]['hasOwnProperty'][_0x24a7c4(0x79c)](_0x2895e8,_0x2848ef)&&(_0x2895e8[_0x2848ef]=JSON[_0x24a7c4(0x814)](_0x2895e8[_0x2848ef],Dt['BufferJSON'][_0x24a7c4(0x722)]));return _0x2895e8;}}catch(_0x24c580){this[_0x24a7c4(0xfa)][_0x24a7c4(0x1ca)](_0x24c580);}}async[a0_0x3eb0d8(0x694)](_0x4b6a00){const _0x2a1aea=a0_0x3eb0d8;try{let _0x78417=await this[_0x2a1aea(0x1d3)]['hGet'](this[_0x2a1aea(0x411)]['PREFIX_KEY']+':'+this['instanceName'],_0x4b6a00);if(_0x78417)return JSON[_0x2a1aea(0x814)](_0x78417,Dt[_0x2a1aea(0x11b)][_0x2a1aea(0x722)]);}catch(_0x57f506){this[_0x2a1aea(0xfa)][_0x2a1aea(0x1ca)](_0x57f506);}}async['removeData'](_0x227332){const _0x8b147d=a0_0x3eb0d8;try{return await this[_0x8b147d(0x1d3)][_0x8b147d(0x101)](this[_0x8b147d(0x411)][_0x8b147d(0x19d)]+':'+this[_0x8b147d(0x1a8)],_0x227332);}catch(_0x438218){this[_0x8b147d(0xfa)][_0x8b147d(0x1ca)](_0x438218);}}async[a0_0x3eb0d8(0x389)](_0x2f18dc){const _0x1011f9=a0_0x3eb0d8;try{return await this[_0x1011f9(0x1d3)]['del'](_0x2f18dc||this[_0x1011f9(0x411)][_0x1011f9(0x19d)]+':'+this['instanceName']);}catch(_0x435bec){this['logger'][_0x1011f9(0x1ca)](_0x435bec);}}};async function Ts(_0xe6ac85,_0x87e79){const _0x1a33ce=a0_0x3eb0d8;let _0x41629e=new $(Ts[_0x1a33ce(0x21a)]),_0xfd6944=new de(_0xe6ac85,_0x87e79),_0x43084f=async(_0x2c3d05,_0x1a228f)=>{const _0x3461bd=_0x1a33ce;try{return await _0xfd6944[_0x3461bd(0x810)](_0x1a228f,_0x2c3d05);}catch(_0xe76eb){return _0x41629e['error']({'localError':_0x3461bd(0x810),'error':_0xe76eb});}},_0x23029f=async _0x2bd984=>{const _0x31839b=_0x1a33ce;try{return await _0xfd6944[_0x31839b(0x694)](_0x2bd984);}catch(_0x549d78){_0x41629e[_0x31839b(0x1ca)]({'readData':'writeData','error':_0x549d78});return;}},_0x269a51=async _0x1beef5=>{const _0x23ca87=_0x1a33ce;try{return await _0xfd6944[_0x23ca87(0x7d8)](_0x1beef5);}catch(_0x161fac){_0x41629e['error']({'readData':_0x23ca87(0x7d8),'error':_0x161fac});}},_0x57b6b6=await _0x23029f(_0x1a33ce(0x228))||(0x0,Pt[_0x1a33ce(0x40b)])();return{'state':{'creds':_0x57b6b6,'keys':{'get':async(_0x4e9437,_0x150e4c)=>{const _0x4d814f=_0x1a33ce;let _0x151c32={};return await Promise['all'](_0x150e4c[_0x4d814f(0x437)](async _0x3606e4=>{const _0x369600=_0x4d814f;let _0x1eaa4a=await _0x23029f(_0x4e9437+'-'+_0x3606e4);_0x4e9437===_0x369600(0x7fe)&&_0x1eaa4a&&(_0x1eaa4a=Pt[_0x369600(0x230)][_0x369600(0x47c)][_0x369600(0x7bb)]['fromObject'](_0x1eaa4a)),_0x151c32[_0x3606e4]=_0x1eaa4a;})),_0x151c32;},'set':async _0x353691=>{const _0x37d3c5=_0x1a33ce;let _0x3ef2c5=[];for(let _0x59d257 in _0x353691)for(let _0x2d72a3 in _0x353691[_0x59d257]){let _0x421c69=_0x353691[_0x59d257][_0x2d72a3],_0x52fd86=_0x59d257+'-'+_0x2d72a3;_0x3ef2c5[_0x37d3c5(0x3c2)](_0x421c69?await _0x43084f(_0x421c69,_0x52fd86):await _0x269a51(_0x52fd86));}await Promise['all'](_0x3ef2c5);}}},'saveCreds':async()=>await _0x43084f(_0x57b6b6,_0x1a33ce(0x228))};}function a0_0x2d2d(){const _0x29b82f=['):\x20Enviando\x20enquete','):\x20error:\x20','sendStatus','27PyfTqH','DATABASE','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','flowStopConversation','Erro\x20ao\x20atualizar\x20AutomateSystem:','stderr','_error','):\x20alterando\x20this.AutomateSystem','editFlowBlock','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','resetReconnectionVariables','):\x20Rótulo\x20atualizado:\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20conversation.status:\x20','qrcode.updated','contact','unreadcount','startFlowWebhook','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','.png','footerText',']\x20(','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x1b[0m','getValidWhatsAppNumbers','padEnd','optionName','\x1b[43m','fetchContacts','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','allContacts','\x20minutos','reviver','conversation','nome','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','jsonschema','remove','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','announce','originalUrl','Content\x20is\x20required','getOwnPropertyNames','created','leaveGroup','truncatedtoEnd','editChat','editScheduleMessage','Fluxo\x20agendado\x20pelo\x20fluxo\x20','toggleEphemeral','test','findOrCreate','!cmd_','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','Data\x20inválida\x20fornecida','no.connection','imagechat','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','MessageModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','validate','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Erro\x20ao\x20buscar\x20fluxos:','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Fluxos\x20não\x20estão\x20ativados','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','request\x20received\x20in\x20getConversation','copyBlock','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Bad\x20Request','@s.whatsapp.net','loadWebhook','createFlow','14VUbCOF','locationMessage','groups','keyPattern','keep-alive','updateConversation','sendMessage','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','\x20segundos','Fluxo\x20não\x20encontrado\x20na\x20memória.','quotedMessage','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','createWebhook','/wa-chats','/instance/create','/media/','/wa-groups','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','config','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','length','addMessagesToGroup','getMinutes','trimmed','insert','setting','updateReplyOption','split','whoCanEdit','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','Erro\x20de\x20atualização:\x20','insertMany','\x1b[36m%s\x1b[0m','pendingMessages','cleanStore','use','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','):\x20enviado\x20para\x20[','group','messageStubParameters','statusJidList','loggedOut','$addToSet','load','CHATS_DELETE','Background\x20color\x20is\x20required','):\x20Buscando\x20todos\x20os\x20fluxos...','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','cacheInstanceModel','):\x20whoCanUse\x20after\x20validation:\x20','local_map','DATABASE_CONNECTION_PASSWORD','/events/:instance','params','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','editFlowGroup','Fluxo\x20\x27','.mp4','isCommunityAnnounce','Subscribed\x20Events:','exists','content-type','PORT','\x20\x1b[0m','drop','flowPrefixCommand','extractMessageContent','The\x20instance\x20needs\x20to\x20be\x20disconnected','lastUpdate','inet6','\x20minutos...','GROUP_PARTICIPANTS_UPDATE','LOG_COLOR','group-participants.update','\x20and\x20data:','hex','generateRandomIPv6','getVariablesChat','Nenhum\x20participante\x20válido\x20encontrado.','hasOwnProperty','call','when','/clients-info','every','equal','):\x20Comando\x20desconhecido:\x20','delay','mongoose','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','_ScheduleMessages','Erro\x20ao\x20deletar\x20mensagens:','optionDescription','ON\x20-\x20dbName:\x20','all','instanceCount','menuMessage','\x1b[1m','emit','presence.update','findAndReplaceRegex','Erro\x20ao\x20buscar\x20Schedule\x20Messages','NextBlock','lastFetchAwaitingApproval','CORS','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','buttonText','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','processConditionsTest','request\x20received\x20in\x20editFlowgroup','sendCommand','AppStateSyncKeyData','Valor\x20da\x20URL\x20recuperada:','execSync','):\x20Usando\x20extensão\x20padrão:\x20','format','g-t','replaceVariablesLogs','5jgqfWC','Type\x20is\x20required','waitingMenu_text','connection.update','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','waitingForReplyMenu','Group\x20not\x20found','request\x20received\x20in\x20editFlow','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','collection','CHATS_UPSERT','COLOR','deleteReplyOption','CHATS_SET','audio/ogg;\x20codecs=opus','isJidGroup','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Conversa\x20está\x20expirada\x20-\x20voto','off','deviceSentMessage','):\x20Enviando\x20mídia','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','removeData','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','inner','from','model','):\x20leadInfoVariables','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','--------------------------------------','stopConversation','convert','updateMissingCustomFields','useMultiFileAuthState','descId','updateOnlinePrivacy','bulkWrite','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','locked','temp-','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','creds.json','getDelay','redis://127.0.0.1:6379','GUARD','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','synchronizeAndMapFlows','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','All_Instances_Config','Erro\x20ao\x20deletar\x20chat:','start','sendWhatsAppAudio','loadEnv','AUTHENTICATION_JWT_EXPIRIN_IN','deleteChat','Erro\x20ao\x20editar\x20o\x20chat','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','blockId','out','demote','app-state-sync-key','changeVariables','flow','configService','toArray','updateMissingTags','Db\x20Connection','fromObject','awaitingApproval','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','debug','):\x20Grupo\x20','lean','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','instanceName\x20not\x20provided.','Erro\x20ao\x20atualizar\x20o\x20fluxo:','\x1b[30m%s\x1b[0m','request\x20received\x20in\x20createFlow','writeData','generate','stopMinutes','latitude','parse','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','title','deleted','fetchLabels','pollErrorMessage','reorderBlocks','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','deleteFlow','groupMetadata','groupRequestParticipantsUpdate','HOST','#b4ebff','delayChatLabel_MAX_RETRIES','newStoppedUntil','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','makeCacheableSignalKeyStore','whatsappNumber','dataValidate','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','uazapi','chats.update','@whiskeysockets/baileys','pictureUrl','secondValue','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','updateChatWithMessage','notMatchRegex','Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Flow\x20\x27','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','):\x20\x27Deletando\x20fluxo,\x20id:\x20','editOperator','):\x20Adicionando\x20\x27','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','groupRequestParticipantsList','saveMediaToFile','_p_','imported','pollCreationMessage','):\x20expirationTime:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','buttonMessage','cachedContact','delaySecMax','connectToWhatsapp','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','WARN','agents','lastRealGroupsFetch','info','\x20horas\x20e\x20','caption','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Internal\x20Server\x20Error','spawn','reaction','authentication','verifyWhatsAppNumber','listMessage','editflowblock','startFlow','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','/instance/connectionState','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','.type','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','sendReaction','delayChatLabel','match','isRunning','.wav','processUazapi','logger','SEND_MESSAGE','finish','processblock','imgUrl','send.message','dbConnection','hDel','quoted','ids','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','findLabels','variablesNotFound','Cache-Control','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','events','pollCreationMessageV2','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','findMessages','delete','has','createGroup','deleteConversation','ms\x20(tentativa\x20','deleteInstance','processclearVariables','recording','last_update','editFlowCondition','now','longitude','none','configureIPv6','BufferJSON','/instance/fetchInstances','This\x20name\x20','replaceVariables','dbClient','toLocaleString','toString','Type\x20not\x20found','):\x20Editando\x20condição\x20do\x20fluxo...','InstancesAlterarTodas','groups_ignore','getStatus','connectToWhatsappController','senderKeyDistributionMessage','string','blockLogs','reference','):Image\x20converted\x20to\x20WebP','urlOrBase64','URI','\x1b[44m','keys','Instance\x20\x22','):\x20[messages.upsert]\x20group\x20ignored','findGroupsEspecial','verifiedName','\x20minutos.\x20Será\x20às\x20','/:instanceName','flowConfig','createHash','*Pergunta*:\x20\x0a','allflows','3JyQmuw','scheduled','endsWith','Fluxos\x20não\x20estão\x20ativados','convertToString','document','archived','mediaSticker','getBase64FromMediaMessage','):\x20conversation.lastInteraction:\x20','Types','readMessage','CacheContacts\x20database\x20connection\x20closed.','Error\x20removing\x20unused\x20chat\x20fields:','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','getProfileName','getConversationModelForOwner','everyOne','close','updateCustomFields','.\x20Pulando.','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','creds.update','Generated\x20IPv6:\x20','updateBlock','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','open','delayChatLabel_RETRY_DELAY_MS','pollUpdateMessage','messaging-history.set','sendMenu','Error\x20updating\x20message\x20status:','):\x20\x27Enviando\x20texto\x20para\x20\x27','processawaitSeconds','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','application/octet-stream','):\x20Editando\x20bloco...','/instance/delete','Tentando\x20reconectar...','findConversation','):\x20Flow\x20desativado','E-mail:\x20','contacts.update','throwAndLogError','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','qrcode','linkPreview','forEach','fetchChats','mimetype','vcard','Invalid\x20format','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','copy','enviado\x20para','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','/group','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','Mensagem\x20não\x20suportada','isBusiness',',\x20lastCondition:\x20','isValidAndUniqueIPv6','webhookService','waitingMenu_id','json','node-cache','):\x20Editando\x20grupo\x20do\x20fluxo...','lastMessage','findRealGroups','action','sections','and','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','digest','goToFlow','../env.yml','_Labels','scheduleSendText','assign','some','findIndex','XX:XX:XX:XX:XX:XX','protocolMessage','Erro\x20ao\x20remover\x20label\x20','sendList','Partes\x20do\x20caminho\x20FULLCHAIN:','floor','recebido\x20de','bateu\x20events','routerPath','):\x20Enviando\x20áudio','contacts','Erro\x20ao\x20tentar\x20autoCompleteMessages','splice','true',',\x20Segundo\x20Valor:\x20','Not\x20Found','PREFIX_KEY','http://checkip.dyndns.org','):\x20Process\x20UUID\x20já\x20definido.\x20Saindo\x20da\x20função.','RECONNECT_TIME_FRAME','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','isURL','removeProfilePicture','findWebhook','object','node-mime-types','webhook','instanceName','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','./.git/config','-instances','-whatsapp-api','connectionState','request\x20received\x20in\x20deleteFlow','processReadyMessages','autoCompleteMessages.command_1','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','\x0aFN:','leadInfo.customFields','Erro\x20ao\x20alterar\x20privacidade','groupName','importChats','READ','updateProfilePicture','statusMessage','long','editedMessage','[AUTH]\x20Database\x20is\x20not\x20enabled','webhookMap','options','truncatedto','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','getReadyToSendMessages','messages.set','editflowvaredit','findMany','SINGLE_SELECT','Telefone:\x20','parseInt','error','editFlowVaredit','promote','body','BRL','50mb','GET','AUTHENTICATION','redis','client','global','type','updateGroupWebhook','upperCase','ConversationModel','filter','):\x20Editando\x20variável\x20do\x20fluxo...','groupGetInviteInfo','stringify','noConnection','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','importChatsAntigo','compression','DELETED','profilePicture','sectionsToString','CREDENTIALS','collections','updateProfilePicturePrivacy','):\x20ev.flush\x20realizado','messageTimestamp','https','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','fetchProfilePicture','.\x20Aguardando\x20','not_announcement','\x1b[33m\x1b[1m','getScheduleMessageModelForOwner','labels.association','File\x20written\x20to\x20path:\x20','sendLocation','findGroups','addBlock','chats.delete','groupSettingUpdate','flush','isCommunity','editFlow','#9ba6ff','createIPv6','Erro\x20ao\x20atualizar\x20conversa:\x20','groupJid','waUploadToServer','image','empty','/config','triedToSend','put','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','fetchStatus','Instance\x20Key\x20from\x20DB:','!stop','integer','):\x20Deletando\x20conversa...','ip\x20-6\x20addr\x20del\x20','toLowerCase','announcement','_activedCount','descOwner','isArray','\x1b[31m','pollCreationMessageV3','Instância:\x20','Font\x20is\x20required','urlencoded','chat','messageType','chatHandle','EXPIRIN_IN','error_log','name','ContactsAndGroups','archive','oldValue','atendimentoAberto','mediaMessage','createServer','deleteImportedChat','notEqual','connectionStatus','processApiRequest','pollOnReplyDelete','status','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','creds','StartBot','):\x20Going\x20to\x20','exec','request\x20received\x20in\x20updateCustomFields','):\x20Query\x20params:','FlowRouter','processConditions','proto','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','view\x20engine','REDIS_URI','ListType','request\x20received\x20in\x20getFlow','store','487308UUMbKk','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Error\x20fetching\x20group','getChatModelForOwner','isJWT','hGetAll','request\x20received\x20in\x20updateAutoCompleteMessages','Sistema\x20atualizado\x20com\x20sucesso!','list','dbInstance','RemoteJid:','stanzaId','instance','\x20contacts','sendSticker','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','setRestartTimeout','readFile','saveConversationToDatabase','\x1b[33m','):\x20Entrou\x20na\x20função\x20goToFlow','remoteJids','pino','upsertChats','crypto','setHeader','getMessage','1282620fLycVe','):\x20Não\x20achou\x20nenhum\x20flow','getScheduleMessage','textMessage','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','storePath','DOCKER_ENV','getAutomateSystem','\x22\x20not\x20found','output','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','groupId','content','getDevice','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','cwd','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','nomecompleto','STATUS_INSTANCE','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','exports','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','11VmLQgv','exit','video-cover.png','leadInfo.desativadoFluxoAte','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Mac\x20OS','Forbidden','hbs','}}\x20->\x20\x22','URL\x20completa:','addresss','\x1b[41m','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','hSet','cacheContactModel','connecting','toBRL','console','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio',',\x20valor\x20passado:\x20\x22','process','editflowreply','lastReceivedMessage','Instâncias\x20removidas:\x20','goNextblock','ORG:','findParticipants','minutesToClose','Conexão\x20estabelecida','\x22\x20-\x20REMOVED','updateFlowConfig','reconnectAttempts','formatStatusMessage','getFlow','importChatsBatch','GROUPS_UPSERT','utf-8','.TEL;waid=','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','.txt','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','SERVER_URL','ephemeralExpiration','QRCODE_UPDATED','ScheduleMessage','groupHandler','envYaml','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','):Converted\x20image\x20deleted','JWT','description','Erro\x20ao\x20importar\x20chats','cacheInstanceRepository','updateGParticipate','data','https://api.openai.com/v1/audio/speech','STORE','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','createSectionsFromValues','Operador:\x20\x22','startCommandWord','\x20não\x20encontrado','Flow\x20iniciado\x20com\x20','fetchPrivacySettings','OrAnd','):Image\x20is\x20base64','padStart','0123456789ABCDEF','):Getting\x20image\x20from\x20url','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','END:VCARD','sendButtons','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','messages.update','log','getContentType','statSync','Atualização:\x20','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','.url','ObjectId','.xlsx','saveCreds','customFields','Configuração\x20SSL\x20recuperada:','EMAIL:','):\x20Conversa\x20inserida\x20com\x20sucesso.','GROUPS_UPDATE','PRESENCE_UPDATE','headers','):\x20Criando\x20nova\x20conversa[createNewConversation]','cachedData-whatsapp','flowName','isValidIPv6Config','updateGroupPicture','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','groupAcceptInvite','jwt','):\x20lastBlockId:\x20','views','.pptx','color','profileName','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','role','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Request\x20Body:','modifiedCount','API_KEY','SendScheduleMessage','DATABASE_ENABLED','audio','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','autoCompleteMessages','#000000','request\x20received\x20in\x20updateFlowConfig','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','listResponseMessage','messageHandle','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):Audio\x20converted\x20and\x20stored\x20in\x20cache','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','shareOwners','notContains','sendMessageWithTyping','viewOnceMessageV2','SSL_CONF_FULLCHAIN','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','qrCode','):Audio\x20processed','express-async-errors','scheduleFlow','Variável\x20não\x20encontrada!','data:\x20','Instância\x20não\x20encontrada.','getUniqueFlowName','user','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Deletando\x20mensagem','):\x20','):Desconectado,\x20parando\x20execução.','cacheContact','\x1b[30m','instances','pushName','apiResponse','buttonId','authState','INFO','groupdata','function','chatId','AddUserFlow','removeIPv6','.jpg','variables','upsertedCount','birthtime','readFileSync','contains','request\x20received\x20in\x20editConversation','DEBUG','subject','):\x20Conversa\x20atualizada\x20em\x20memória','findById','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','removed','static','Configured\x20IPv6:\x20','Instance\x20Name:','env','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','flowIgnoreGroups','lastSendMessage','DD/MM\x20HH:mm:ss','generateHash','):\x20Iniciando\x20bot...','createInstance','WebhookGlobal','connect','authModel','getPrototypeOf','https://jsonip.com','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','phoneNumber','\x1b[34m%s\x1b[0m','detectIPv6PrefixAndInterface','ChatModel','context','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','organization','Erro\x20ao\x20deletar\x20a\x20conversa','Partes\x20do\x20domínio:','ip\x20-6\x20addr\x20show\x20dev\x20','findFlow','contactHandle','apirequest','.svg','fetchProfilePictureUrl','Error\x20adding\x20IPv6\x20address:\x20','memberAddMode','@redis/client','Usando\x20IP\x20existente:\x20','ChatRouter','key','Erro\x20ao\x20encerrar\x20a\x20API','muteEndTime','pre','decryptPollVote','Error\x20in\x20chatModify\x20for\x20number\x20','Novo\x20IP\x20criado:\x20','arrayUnique','fromMe','stack','http','Limpando\x20logs\x20do\x20PM2...','.jwt','pop','IP\x20mismatch:\x20configured\x20','backgroundColor','deleteMessageForEveryone','$pull','\x20não\x20encontrado\x20para\x20atualização.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','\x27\x20do\x20banco\x20de\x20dados...','/message','size','SSL_CONF_PRIVKEY','waitingMenu_ExpiredMessage','qrcode-terminal','uazapiSendMenu','label','create','reconnectTimestamps','height','PENDING','removeUnusedChatFields','CONNECTION_UPDATE','sendDataWebhook','groupUpdateDescription','readMessages','array','response','\x20foi\x20interrompido\x20pelo\x20usuário.','):Sending\x20audio\x20whatsapp','send','API\x20Key\x20from\x20Request:','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','then','$dbName','\x20minutos\x20verificará\x20novas\x20mensagens','authorization','SERVER_ACK','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','#f64847','_id','.docx','cleanDisconnectedInstances','Erro\x20ao\x20inserir\x20chats:','$set','Erro\x20ao\x20buscar\x20conversas','conditions','messages.upsert','class-validator','numbers','write','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','leadInfo.etiquetas','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Primeiro\x20Valor:\x20','):Fetching\x20business\x20profile','request\x20received\x20in\x20starFlow','):Trying\x20to\x20get\x20business\x20profile','#6f7bcf','DisconnectReason','unreadCount','\x27\x20não\x20encontrado','mentioned','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','updateGroupParticipantsWebhook','dbServer','delAll','/wa-contacts','silent','convertaudioMP3','):\x20Iniciando\x20processReadyMessages','/create','request_method','Error\x20removing\x20IPv6\x20address:\x20','sending','Falha\x20ao\x20processar\x20a\x20solicitação','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','fullName','CONTACTS_UPDATE','greater','findByIdAndUpdate','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','enumerable','reorderReplyOptions','jsonwebtoken','updateAll','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',',\x20global:\x20','binary','dropCollection','Esse\x20fluxo\x20não\x20permite\x20importação.','Instance\x20logged\x20out','editFlowReply','menuExpiredMessage','uazapiSendMedia','deleteMessage','message','oldToken','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','where','joinGroup','variable','.ogg','mongodb','Missing\x20global\x20api\x20key','\x20:\x20','startCommand','updateStatusPrivacy','https://api.elevenlabs.io/v1/text-to-speech/','unhandledRejection','catch','composing','):\x20teve\x20mudanças\x20chat.archived:\x20','website','command','?timestamp=','reorderMessages','apiName','router','REDIS_ENABLED','privacySettings','iniciando\x20fluxo\x20router','):\x20Limpando\x20delayMessage','push','userDevicesCache','reduce','\x0a*Você\x20respondeu*:\x0a','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','uuid','findManyByIds','):\x20Há\x20mensagens\x20prontas,\x20adicionando\x20à\x20fila','last','ScheduleMessageModel','#9ab6c1','expiration','AUTHENTICATION_API_KEY','mongodb://','groupInviteCode','FULLCHAIN','mediaKey','sim','author','less','groups.upsert','idSchedule','):\x20Error\x20processing\x20conditions:\x20','testingWith','scheduleNextCheck','):Image\x20is\x20url','method','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','rowId','request\x20received\x20in\x20getAutomateSystem','chatModify','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','#fed428','Nenhum\x20chat\x20encontrado\x20para\x20editar.','convertaudio',',\x20received\x20','_activatedCount','evaluateCondition','):Error\x20in\x20converting\x20audio','TEXT','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','waitingMenu_replyOptions','findByIdAndDelete','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Não\x20respondeu\x20com\x20a\x20enquete.','text','buffer','):\x20Procurando\x20mensagens\x20para\x20envio','https://api.openai.com/v1/images/generations','TYPE','ip6eui','insertCount','remoteJid','):\x20Ler\x20mensagem','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','inviteCode',',\x20qrcodeCount:\x20','groupFetchAllParticipating','):\x20Ignoring\x20group\x20messages.','result','deleteMany','groupMemberAddMode','#d3a91f','cleaningUp','displayName','SERVER_PORT','admin','webhookModel','Network\x20Interface\x20detected:\x20','The\x20','Error\x20finding\x20many\x20contacts:','fetchConversation','initAuthCreds','replyOption','boolean','lastSend','option','updateProfileName','redisEnv','value','save','\x1b[33m%s\x1b[0m','[all]','paused','jid','processgoToFlow','SUCCESS','instancias:\x20','pairingCode','transformScheduledMessagesByType','unlocked','groupadd','@ffmpeg-installer/ffmpeg','):\x20Buscando\x20flow...','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Retornando\x20grupos\x20SEM\x20cache','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','\x1b[40m','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20',',\x20canSendMessage:\x20','SSL_CONF','cpf','contact_blacklist','dark','Schema','MESSAGES_UPSERT','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','joinApprovalMode','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','URL','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','8080','getBusinessProfile','map','number','get','flattenObject','false','/exit','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','WA\x20MODULE','):\x20Criou\x20conversa\x20no\x20startFlow','add','#d8e651','https://','CORS_CREDENTIALS','post','instance.','Database\x20is\x20not\x20enabled','set','Content-Type','DB_PREFIX_NAME','processvaredits','replaceVariablesInObject','count','updateReadReceiptsPrivacy','dayjs','Parando\x20aplicação,\x20atualização\x20recebida','basename','):Archiving\x20chat','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','groupParticipantsUpdate','):\x20Entrou\x20na\x20função\x20processawaitSeconds','CLEANING_INTERVAL','):\x20whoCanEdit\x20before\x20validation:\x20','Database\x20connection\x20closed.','#ffae04','restartInstance','ipv6Prefix','header','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','imageMessage','\x27\x20removido\x20do\x20AutomateSystem.','delayMessage','setNewValue','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','DARK','):\x20nextBlock.uazapi.name','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','slice','21370080LEVOYC','requestPairingCode','ip\x20-br\x20link\x20show','Erro\x20ao\x20normalizar\x20a\x20mensagem:','fileLength','PRIVKEY','saveChatVariables','.ogv','PASSWORD','API\x20Key\x20inválida.','sign','networkInterface','PLAYED','automateSystem','Garbage\x20collection\x20não\x20está\x20disponível.','ListMessage','setWebhook','SERVER','\x5c$&','uazapiSendLocation','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','fetchMessages','Message','Erro\x20ao\x20buscar\x20o\x20fluxo','email','getMIMEType','remove.instance','@g.us','g.us','processingGroup','fora\x20do\x20git','LOG_LEVEL','instanceInfo','default','SECRET','lastCondition','msgRetryCounterCache','/events','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','choices','updateChatGroupData','firstValue','cache','defineAuthState','mentions','archiveChat','getMessageModelForOwner','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','fetchInstances','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','closed','_pushName','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','Log\x20out\x20instance:\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','.error','URL\x20não\x20disponível','):Image\x20path:\x20','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Valor\x20inicial:\x20\x22','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','participant','):\x20Fluxo\x20\x27','IPv6\x20address\x20removed:\x20','#83e421','):\x20Buscando\x20flow,\x20id:\x20','contactMessage','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','inviteUrl','Button\x20IDs\x20cannot\x20be\x20repeated.','__esModule','sharePass','sendContact','replacer','groupUpdateSubject','):Delete\x20chat','sendText','processUUID','inviteCodeDetails','Rótulo\x20inválido\x20ou\x20sem\x20ID.','bodyStringErrorParse','waInstances','valid','sleep',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','/media','):\x20Label\x20','isJidUser','Erro\x20ao\x20iniciar\x20o\x20fluxo.','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','2386492tEyCSA','localWebhook','.extension','ex:\x20\x22groupJid=120362@g.us\x22','poll','proxy:\x20','segundos','Database\x20update\x20result:','ENABLED','viewOnceMessage','shift','isListOfNumbers','warn','Removidas\x20as\x20variáveis:\x20','audio/ogg','owner','loadInstance','abs','child_process','createConversationforgoToFlow','getClient','#ffc5c7','no-cache','\x20is\x20already\x20in\x20use.','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Flow\x20\x27','flushHeaders','contentText','groupCreate','Safari','?authSource=admin&readPreference=primary&directConnection=true','remote\x20\x22origin\x22','query','createJid','findGroupInfos','#dfaef0','updatePrivacySettings','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','presence','getContactModelForOwner','):Hash\x20to\x20image\x20name:\x20','\x1b[37m','notEmpty','Valor\x20de\x20find\x20ou\x20replace\x20ausente','LICENSE_INVALID','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','sharp','Deleted\x20','repository','/wa-presence','status.instance','restrict','MESSAGES_UPDATE','groupDesc','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','#9568cf','isBase64',',\x20valor\x20a\x20encontrar:\x20\x22','updateOneById','round','sem\x20texto\x20na\x20mensagem','repeat','IPv6\x20Prefix\x20detected:\x20','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','The\x20\x22','profilePictureUrl','ButtonsMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20Criando\x20fluxo\x20compartilhado...','3152850zbXSaS','timeInMinutes','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','):Type\x20defined\x20as\x20audio','updateStopChat','updatePresence','whatsappNumbers','):\x20updateResult:','sort','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','applyvaredit','editflowvariable','labels.edit','chats.set','CONTACTS_SET','\x22,\x20valor\x20a\x20substituir:\x20\x22','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','express','/chat','groupBetterSetting','request\x20received\x20in\x20fetchConversation','isJidBroadcast','desativadoFluxoAte',',\x20resultado:\x20','tags','Instance\x20restarted','unavailable','AutomateSystem','fone','Falha\x20ao\x20criar\x20IPv6.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','canSendMessage','getAllData','AddChatLabel','connectionUpdate','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','https://uazapi-plugin.bubbleapps.io/?url=','chats.upsert','HeaderType','order','CHATS_UPDATE','\x1b[46m','vote','Router','audioMessage','\x1b[47m','findAndReplace','#64c4ff','updateMissingEtiquetas','\x1b[1m\x1b[37m','js-yaml','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','webp','refused','formatVCard','PROXY','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','STORE_CLEANING_TERMINAL','2891464ptmLRX','getUpdate','not\x20loaded','DATABASE_CONNECTION_URI','status@broadcast',',\x20isAdmin:\x20','Network\x20interfaces\x20detected:\x20','selectableCount','onTime','redirect','restart','existsSync','LOG','profile','\x20removido\x20do\x20chat\x20','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','find','DELIVERY_ACK','findOneAndUpdate','):\x20Chat\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','startID','Comando\x20desconhecido','endSession','/64\x20dev\x20','Cannot\x20','font','superadmin','https://chat.whatsapp.com/','jpegThumbnail','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','util','encoding',',\x20Expiration\x20Time:\x20','Error\x20updating\x20cache\x20contact:','instanceKeys','entries','groupSetting','Erro\x20ao\x20tentar\x20updateCustomFields','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','errors','awaitSeconds','approve','ReplyOption\x20com\x20ID\x20','extractPhoneNumber','release','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Pausado\x20por\x20','):\x20tem\x20blocks','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','evaluateConditionTest','shareFlow','\x1b[31m%s\x1b[0m','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','yes','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','expression','Erro\x20ao\x20atualizar\x20cacheInstance:','blocks','5720664rqHcZe','Enter\x20a\x20value\x20in\x20milliseconds','max','updateOne','saveVariable','groupToggleEphemeral','connectedName','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','logout','whoCanUse','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Deletion\x20failed','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','Erro\x20na\x20função\x20updateChatWithMessage:\x20','Last\x20message\x20not\x20found','messageId','toNumber','USER','.webm','presenceSubscribe','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','Selecione','leadInfo','notify','createflow','getTime','replaceOne','downloads','):Image\x20created','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):Business\x20profile\x20fetched','onWhatsApp','toBrazilianNumberFormat','\x1b[42m','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','@broadcast','randomMac','replaceValue','envProcess','Not\x20is\x20business\x20profile','/wa-connection-update','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Rótulo\x20deletado:\x27,\x20','DATABASE_CONNECTION_USER','updateProfileStatus','uncaughtException','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','\x22reaction\x22\x20must\x20be\x20an\x20emoji','flowActive','chatLog','updateGroupsAddPrivacy','cors','setContext','toFile','KEY','Connection\x20closed\x20for\x20instance:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','isLong','sendPresenceUpdate','VERBOSE','findAll','audioWhatsapp','Mensagens\x20deletadas\x20com\x20sucesso.','min','prototype','random','bodyString','sendAudio','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Cache\x20instance\x20update\x20result:\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','ephemeralMessage','Authentication\x20error','sha256','getOwnPropertyDescriptor',',\x20fará\x20nova\x20verificação\x20em\x20','Unauthorized','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','FlowController','detail','reject','editflowcondition','Close\x20connection','src','myAppStateKeyId','fetchLatestBaileysVersion','includes','toUpperCase','\x1b[32m%s\x1b[0m','stopped','Parando\x20aplicação...','globalShow','waMonitor','.doc','):\x20Removendo\x20\x27','PRODUCT_LIST','reactionMessage','scheduleSendAudio','flowStopMinutes','Stack\x20trace:','fetchProfile','IP\x20confirmed:\x20','\x20-y','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','replaceVariablesInReplyOptions','label_jid','RemoveChatLabel','lastBlockId','eventemitter2','ERROR','defineProperty','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):Output\x20path:\x20','groupValidate','):Processing\x20audio','isInteger','updateMany','request\x20body:\x20','video','processPollUpdateMessage','retrySendMessage','generateWAMessageFromContent','Erro\x20ao\x20editar\x20o\x20bloco:\x20','.gif','#ff9484','groups.update','headerString','\x27\x20não\x20encontrado\x20na\x20memória','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','messageSecret',',\x20Minutes\x20to\x20Close:\x20','stopWhenYouSendMsg','normalizeMessageContent','uazapiSendText','success','contacts.upsert','substring','):\x20atualização\x20chat:\x20','mediatype','groupdata.participants','etiquetas','statusCode','Esse\x20fluxo\x20expirou','wuid','):\x20isVote:\x20','creation','editConversation','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','autoCompleteMessages.command','deleteDoneMessages','findGroup','editMessagesInGroup','Nenhum\x20fluxo\x20correspondente\x20encontrado.','uazapiDeleteMessage','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','auth','moreLogs','Erro\x20ao\x20executar\x20bulkWrite:','createNewConversation','):\x20delete\x20=\x20true','state','conversationTimestamp','uazapiSendAudio','undefined','):\x20Conversa\x20está\x20expirada','REDIS',',\x20saindo.','convertedOptions','lastInteraction','removeInstance','notas','request\x20received\x20in\x20updateAgent','removeIPv6ById','):\x20Entrou\x20na\x20função\x20scheduleFlow','\x27...','beautifyWithPlaceholders','unknown\x20operation\x20type\x20[','startsWith','deleteOne','join','_FlowHistorico','telefone','):\x20Mensagem\x20já\x20enviada\x20para\x20','rows','isAdmin','sendMedia','Erro\x20ao\x20alterar\x20fluxo','The\x20global\x20api\x20key\x20must\x20be\x20set','\x20do\x20chat\x20','^\x5cd+','_Contacts','Detalhes\x20do\x20erro:','groupLeave','flowConversation','scheduleSendMedia','LEVEL','pow','stateConnection','Connection','getConversation','\x20-\x20ON:\x20','groupRevokeInvite','varedits','base64','.xls','addReplyOption','listen','responsavelid','Falha\x20ao\x20processar\x20fetchBusinessProfile','markMessageAsRead',',\x20Comparador:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','requestFile','):\x20Falha\x20ao\x20deletar\x20mensagem.','preview','findOne','allFlows','Erro\x20ao\x20editar\x20agentes','No\x20suitable\x20network\x20interface\x20found','block','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','scheduleMessage','Erro\x20ao\x20criar\x20fluxo','readreceipts','dbSettings','getLastMessage','varedit','editFlowVariable','online','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','item','Last\x20message\x20not\x20found\x20for\x20number:\x20','):\x20Entrou\x20na\x20função\x20stop','\x20}\x0a','picture','):\x20Editando\x20replyOption...','flows','^\x5cd+([-]\x5cd+)*@g.us$','Erro\x20ao\x20editar\x20a\x20conversa','update','verbose','EMAIL','updateAutoCompleteMessages','messages',',\x20pairCode:\x20','enabled','lowerCase','):\x20UUID\x20do\x20processo\x20não\x20corresponde,\x20parando\x20processamento.','METHODS','Erro\x20inesperado\x20em\x20processvaredits:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20mediaMessageInfoId\x20:\x20','realVariables','replace','writeFileSync','.fileUrl','stickerMessage','listType','subjectTime','CORS_ORIGIN','):\x20customFieldVariables','Imagem\x20não\x20encontrada','address','eventHandler','Erro\x20ao\x20atualizar\x20agendamento\x20','pollMessageOnDelete','AutomateSystem\x20não\x20foi\x20inicializado','\x5cd+','revokeInviteCode','findGroupInfo','deleteAll','Bloco\x20com\x20ID\x20','participants','contextInfo','TEL','readData','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','.pdf','eventEmitter','code','path','pollCreationMessageKey','createConnection','deletedCount','/startFlow/:instance/:startID','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','replaceVariablesChat','processScheduleFlow','message_normalized','env.KEY\x20!==\x20key','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','ignoreGroups','vir','available','getLabelModelForOwner','apikey','Chat\x20com\x20ID\x20','error\x20get\x20vote','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','fetchBusinessProfile','pollMessage','trim','findAndUpdateCacheContact','sendMessageAck','CONTACTS_UPSERT','\x1b[32m','createAndSave','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x20-i\x20','ip:\x20','):\x20Query\x20params:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','extractRegex','AutomateFunctions','url','charAt','app','):\x20sender\x20=\x20number:\x20','apply','):\x20transformedCustomFieldVariables','closeExistingConversations','createConversationforStartFlow','.mimetype','uazapiSendContact','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','\x22\x20-\x20NOT\x20CONNECTION','next_groupId','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','/wa-message','arraybuffer','\x20Tentativa\x20de\x20reconexão\x20','buttons','MESSAGES_SET','CONNECTION','normalizeMessage','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','DATABASE_CONNECTION_HOST','):\x20Enviando\x20contato','fileUrl','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','sendPoll','end','Falhou\x20ao\x20encontrar\x20chat\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Logger','media','values','):\x20whoCanUse\x20before\x20validation:\x20','formatBRNumber','chats','isConnected','replyOptions','updateParticipant','request\x20received\x20in\x20scheduleMessage','clearVariables','prepareMediaMessage','URL:','Falha\x20ao\x20recriar\x20IPv6.','Resultado\x20da\x20correspondência\x20de\x20URL:','limit','maxActives','updateMediaMessage','unlinkSync','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Conversa\x20deletada\x20com\x20sucesso.','updateMessage','leadInfo.atendimentoAberto','):\x20Procurando\x20conversa','condition','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','updateAgent','Filtered\x20network\x20interfaces:\x20','):\x20Editando\x20mensagens\x20no\x20grupo...','fileName','saveTextReply','checkAndRestartProcess','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','gifPlayback','\x0a{\x20instance:\x20','indexOf','axios'];a0_0x2d2d=function(){return _0x29b82f;};return a0_0x2d2d();}var L=T(require('fs')),H=require(a0_0x3eb0d8(0x3c7)),Ut=T(require(a0_0x3eb0d8(0x4ef))),jt=require(a0_0x3eb0d8(0x251)),Ei=require(a0_0x3eb0d8(0x4d3)),vi=require(a0_0x3eb0d8(0x560)),Ni=T(require(a0_0x3eb0d8(0x6fe))),ve=class extends _{constructor(_0x25f808,_0x40023c,_0x3deea4){const _0x52ba67=a0_0x3eb0d8;super(_0x40023c),this[_0x52ba67(0x77c)]=_0x25f808,this[_0x52ba67(0x801)]=_0x40023c,this[_0x52ba67(0x100)]=_0x3deea4;}async['createOrUpdate'](_0x188781,_0x274e8f){const _0x23b435=a0_0x3eb0d8;try{if(this[_0x23b435(0x660)][_0x23b435(0x4c9)]){console[_0x23b435(0x2b5)](_0x23b435(0x7a4)+_0x274e8f+_0x23b435(0x796),_0x188781);let _0x2ca70d=await this[_0x23b435(0x77c)][_0x23b435(0x553)]({'_id':_0x274e8f},{'$set':_0x188781},{'new':!0x0,'upsert':!0x0});return console[_0x23b435(0x2b5)](_0x23b435(0x4c8),_0x2ca70d),_0x2ca70d;}}catch(_0xeaea00){throw console[_0x23b435(0x1ca)](_0x23b435(0x57a),_0xeaea00),_0xeaea00;}return null;}async['deleteOne'](_0x6b7eb){const _0x576b50=a0_0x3eb0d8;try{let _0x3c81f4=A(_0x6b7eb[_0x576b50(0x3aa)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x576b50(0x632)](_0x3c81f4))[_0x576b50(0x69c)]};}catch(_0x10eb2d){return{'error':_0x10eb2d?.['toString']()};}}async[a0_0x3eb0d8(0x657)](_0x31ac6c){const _0x10afbb=a0_0x3eb0d8;try{let _0x5d2445=A(_0x31ac6c[_0x10afbb(0x3aa)]);return await this[_0x10afbb(0x77c)][_0x10afbb(0x657)](_0x5d2445)[_0x10afbb(0x80a)]();}catch{return null;}}},kt=(0x0,vi['promisify'])(Ei[a0_0x3eb0d8(0x22b)]),_o=S[a0_0x3eb0d8(0x439)]('PROXY'),Os=class{constructor(){const _0x12c750=a0_0x3eb0d8;this[_0x12c750(0x29f)]=new ve(Ge,S),(!this[_0x12c750(0x45a)]||!this[_0x12c750(0x471)])&&_o&&this['detectIPv6PrefixAndInterface']()[_0x12c750(0x368)](()=>{const _0x54f568=_0x12c750;console[_0x54f568(0x2b5)](_0x54f568(0x4ff)+this[_0x54f568(0x45a)]),console[_0x54f568(0x2b5)](_0x54f568(0x407)+this[_0x54f568(0x471)]);})[_0x12c750(0x3b5)](_0x3b765e=>{const _0x2ebbfe=_0x12c750;console['error'](_0x2ebbfe(0x7d9)+_0x3b765e[_0x2ebbfe(0x3a7)]);});}async[a0_0x3eb0d8(0x32a)](){const _0x24cd57=a0_0x3eb0d8;try{let {stdout:_0x313bb2}=await kt(_0x24cd57(0x468));console[_0x24cd57(0x2b5)](_0x24cd57(0x547)+_0x313bb2);let _0x358581=_0x313bb2['split']('\x0a')[_0x24cd57(0x437)](_0x58856e=>_0x58856e[_0x24cd57(0x766)]('\x20')[0x0])['filter'](_0x3643f6=>!_0x3643f6[_0x24cd57(0x5d6)]('lo')&&!_0x3643f6[_0x24cd57(0x5d6)]('docker')&&!_0x3643f6['includes'](_0x24cd57(0x6a5))&&!_0x3643f6[_0x24cd57(0x5d6)]('wl')&&!_0x3643f6[_0x24cd57(0x5d6)]('@'));if(console[_0x24cd57(0x2b5)](_0x24cd57(0x6f5)+_0x358581),_0x358581[_0x24cd57(0x75f)]===0x0)throw new Error(_0x24cd57(0x65a));this['networkInterface']=_0x358581[0x0];let {stdout:_0x30aad0}=await kt(_0x24cd57(0x331)+this['networkInterface']);console[_0x24cd57(0x2b5)]('IPv6\x20addresses\x20detected:\x20'+_0x30aad0);let _0x3bf3f3=_0x30aad0[_0x24cd57(0x766)]('\x0a')[_0x24cd57(0x551)](_0xe5168f=>_0xe5168f[_0x24cd57(0x5d6)](_0x24cd57(0x791))&&_0xe5168f[_0x24cd57(0x5d6)](_0x24cd57(0x1d4)));if(!_0x3bf3f3)throw new Error(_0x24cd57(0x81b));let _0x26e1cc=_0x3bf3f3[_0x24cd57(0xf6)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x26e1cc)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x5c9334,_0x5325c2,_0x39a0d5]=_0x26e1cc,_0x27e624=Math['floor'](Number(_0x39a0d5)/0x10),_0xf3f197=Number(_0x39a0d5)%0x10,_0x1a78ae=_0x5325c2[_0x24cd57(0x766)](':')['slice'](0x0,_0x27e624)[_0x24cd57(0x633)](':');if(_0xf3f197>0x0){let _0x2c8c43=_0x5325c2[_0x24cd57(0x766)](':')[_0x27e624],_0xb48698=0xffff<<0x10-_0xf3f197&0xffff,_0x232c61=(parseInt(_0x2c8c43,0x10)&_0xb48698)[_0x24cd57(0x121)](0x10)[_0x24cd57(0x2ad)](0x4,'0');_0x1a78ae+=':'+_0x232c61;}this['ipv6Prefix']=_0x1a78ae+':';}catch(_0x563a8e){console[_0x24cd57(0x1ca)](_0x24cd57(0x34f),_0x563a8e);}}async[a0_0x3eb0d8(0x11a)](_0x10fa43){const _0x5d3bb4=a0_0x3eb0d8;let _0x4dc38d='ip\x20-6\x20addr\x20add\x20'+_0x10fa43+_0x5d3bb4(0x559)+this[_0x5d3bb4(0x471)];try{await kt(_0x4dc38d),console['log']('IPv6\x20address\x20configured:\x20'+_0x10fa43);}catch(_0x5eb8c4){console[_0x5d3bb4(0x1ca)](_0x5d3bb4(0x337)+_0x5eb8c4);}}async[a0_0x3eb0d8(0x309)](_0x1fece){const _0x394541=a0_0x3eb0d8;let _0x3d82b9=_0x394541(0x20a)+_0x1fece+_0x394541(0x559)+this['networkInterface'];try{await kt(_0x3d82b9),console['log'](_0x394541(0x4a6)+_0x1fece);}catch(_0xef7bf3){console[_0x394541(0x1ca)](_0x394541(0x390)+_0xef7bf3);}}[a0_0x3eb0d8(0x5a2)](){const _0x557636=a0_0x3eb0d8;return _0x557636(0x18d)['replace'](/X/g,()=>_0x557636(0x2ae)[_0x557636(0x6bd)](Math[_0x557636(0x192)](Math[_0x557636(0x5c1)]()*0x10)));}[a0_0x3eb0d8(0x3f4)](_0x25fd50,_0x3dcf1f){const _0xffbfc7=a0_0x3eb0d8;let _0x5bd3b9=_0x3dcf1f[_0xffbfc7(0x766)](':');return _0x5bd3b9[0x0]=(parseInt(_0x5bd3b9[0x0],0x10)^0x2)[_0xffbfc7(0x121)](0x10)[_0xffbfc7(0x2ad)](0x2,'0'),''+_0x25fd50+_0x5bd3b9[0x0]+_0x5bd3b9[0x1]+':'+_0x5bd3b9[0x2]+'ff:fe'+_0x5bd3b9[0x3]+':'+_0x5bd3b9[0x4]+_0x5bd3b9[0x5];}[a0_0x3eb0d8(0x798)](){const _0x513eb6=a0_0x3eb0d8;let _0x5ec0b8=this[_0x513eb6(0x45a)];_0x5ec0b8[_0x513eb6(0x13d)](':')||(_0x5ec0b8+=':');let _0x2cbebf=this[_0x513eb6(0x5a2)]();return this[_0x513eb6(0x3f4)](_0x5ec0b8,_0x2cbebf);}[a0_0x3eb0d8(0x2c9)](_0x4a4b1c){const _0x177b07=a0_0x3eb0d8;return new RegExp(_0x177b07(0x583))[_0x177b07(0x734)](_0x4a4b1c);}async['testIPv6'](_0x178c4f){const _0x1527ee=a0_0x3eb0d8;let _0x54cedc=[{'url':'https://ipv6.jsonip.com','parse':_0x2e2c89=>_0x2e2c89['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x2a3991=>_0x2a3991['ip']},{'url':'https://ifconfig.me/ip','parse':_0x1fc8cd=>_0x1fc8cd['trim']()},{'url':'https://v6.ident.me','parse':_0x2f7cf5=>_0x2f7cf5['trim']()}],_0x2bc327=_0x54cedc[Math['floor'](Math[_0x1527ee(0x5c1)]()*_0x54cedc[_0x1527ee(0x75f)])];try{let _0x147812=await Ni[_0x1527ee(0x487)][_0x1527ee(0x439)](_0x2bc327['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x178c4f}}),_0x52558f=_0x2bc327[_0x1527ee(0x814)](_0x147812[_0x1527ee(0x2a1)]);return _0x52558f[_0x1527ee(0x20b)]()===_0x178c4f[_0x1527ee(0x20b)]()?(console['log'](_0x1527ee(0x5e5)+_0x178c4f),!0x0):(console[_0x1527ee(0x1ca)](_0x1527ee(0x34a)+_0x178c4f+_0x1527ee(0x3e5)+_0x52558f),!0x1);}catch(_0x2ee484){return console[_0x1527ee(0x1ca)]('Error\x20testing\x20IP\x20with\x20'+_0x2bc327[_0x1527ee(0x6bc)]+':\x20'+_0x2ee484[_0x1527ee(0x3a7)]),!0x1;}}async[a0_0x3eb0d8(0x1fb)](_0x380dec,_0x292c67){const _0x5f40de=a0_0x3eb0d8;if(!this['ipv6Prefix']||!this[_0x5f40de(0x471)])return console[_0x5f40de(0x1ca)](_0x5f40de(0x600)),null;let _0x1b0b9;do _0x1b0b9=this[_0x5f40de(0x798)](),console[_0x5f40de(0x2b5)](_0x5f40de(0x153)+_0x1b0b9);while(!await this[_0x5f40de(0x179)](_0x1b0b9));await this[_0x5f40de(0x11a)](_0x1b0b9),console[_0x5f40de(0x2b5)](_0x5f40de(0x318)+_0x1b0b9);let _0x4157bd={'_id':_0x380dec+'-'+_0x292c67,'ip':_0x1b0b9},_0x535c6a=await this[_0x5f40de(0x29f)]['createOrUpdate'](_0x4157bd,_0x4157bd[_0x5f40de(0x36f)]);return console[_0x5f40de(0x2b5)](_0x5f40de(0x5c5)+_0x535c6a),_0x1b0b9;}async[a0_0x3eb0d8(0x179)](_0x274568){const _0x2f500f=a0_0x3eb0d8;return this[_0x2f500f(0x2c9)](_0x274568)?!await this[_0x2f500f(0x29f)][_0x2f500f(0x657)]({'where':{'ip':_0x274568}}):!0x1;}async['removeIPv6ById'](_0xe5c7f9,_0x3e90d9){const _0x19c01e=a0_0x3eb0d8;let _0x1d2d99=_0xe5c7f9+'-'+_0x3e90d9,_0x44d8ad=await this[_0x19c01e(0x29f)][_0x19c01e(0x657)]({'where':{'_id':_0x1d2d99}});_0x44d8ad&&_0x44d8ad['ip']&&(await this[_0x19c01e(0x309)](_0x44d8ad['ip']),await this[_0x19c01e(0x29f)]['deleteOne']({'where':{'_id':_0x1d2d99}}));}},xo=new Os(),ae=xo,ks=a0_0x3eb0d8(0x4de),_i,pe=null,Oa=null,Do=0x3,Po=null,$i=S['get'](a0_0x3eb0d8(0x1d1))[a0_0x3eb0d8(0x2d8)]['KEY'],Ri=S[a0_0x3eb0d8(0x439)](a0_0x3eb0d8(0x53e));async function ko(){const _0x1530c6=a0_0x3eb0d8;let _0x1aa66c=await Ee[_0x1530c6(0x657)]();pe=_0x1aa66c?.[_0x1530c6(0x322)]??null,Po=_0x1aa66c?.['DaysToDelete']??null,ks=_0x1aa66c?.['connectedClient']??_0x1530c6(0x4de),_i=_0x1aa66c?.[_0x1530c6(0x582)]??W??_0x1530c6(0xc5);}async function Lo(){await ko();}Lo();var Lt={},Ne=class u{constructor(_0x345912,_0x911dfb,_0x3186bf){const _0x1eee51=a0_0x3eb0d8;this[_0x1eee51(0x801)]=_0x345912,this['eventEmitter']=_0x911dfb,this[_0x1eee51(0x4f1)]=_0x3186bf,this[_0x1eee51(0x521)]=null,this[_0x1eee51(0xfa)]=new $(u['name']),this[_0x1eee51(0x245)]={},this['localWebhook']={},this[_0x1eee51(0x645)]={'state':_0x1eee51(0x14d)},this['storePath']=(0x0,U['join'])(ne,_0x1eee51(0x599)),this[_0x1eee51(0x48a)]=new Ps[(_0x1eee51(0x487))](),this[_0x1eee51(0x3c3)]=new Ps['default'](),this[_0x1eee51(0x558)]=!0x1,this[_0x1eee51(0x1bd)]={'status.instance':_0x1eee51(0x5a6),'connection.update':_0x1eee51(0x5a6),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x1eee51(0x6ca),'send.message':_0x1eee51(0x6ca),'messages.update':'/wa-message-update','group.upsert':_0x1eee51(0x75b),'group.update':_0x1eee51(0x75b),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':_0x1eee51(0x38a),'contacts.upsert':'/wa-contacts','contacts.update':_0x1eee51(0x38a),'presence.update':_0x1eee51(0x4f2),'chats.set':_0x1eee51(0x758),'chats.update':_0x1eee51(0x758),'chats.upsert':_0x1eee51(0x758),'chats.delete':_0x1eee51(0x758)},this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[],this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x1eee51(0x217)]={'chats.upsert':async(_0x2bcef9,_0x6c0381)=>{const _0x1a3278=_0x1eee51;let _0x11fb6a=[];for await(let _0xdec901 of _0x2bcef9)_0x11fb6a['push']({'_id':_0xdec901['id'],'owner':this[_0x1a3278(0x245)][_0x1a3278(0x60f)],'group':_0xdec901['id'][_0x1a3278(0x13d)](_0x1a3278(0x481)),'name':_0xdec901[_0x1a3278(0x21a)]||_0xdec901['displayName']||null,'contactname':null,'lastmsg':_0xdec901[_0x1a3278(0x621)]&&_0xdec901[_0x1a3278(0x621)][_0x1a3278(0x121)]()['length']<0xd?_0xdec901[_0x1a3278(0x621)]*0x3e8:_0xdec901[_0x1a3278(0x621)]||null,'archived':_0xdec901[_0x1a3278(0x141)]||!0x1,'unreadcount':_0xdec901['unreadCount']||0x0,'ephemeralExpiration':_0xdec901[_0x1a3278(0x295)]||0x0});this[_0x1a3278(0x35e)]('chats.upsert',_0x11fb6a);},'chats.update':async(_0x13306a,_0x29a57d)=>{const _0x4aee97=_0x1eee51;for(let _0x3a1882 of _0x13306a){let _0x353891={'_id':_0x3a1882['id'],'owner':this['instance']['wuid'],'archived':_0x3a1882[_0x4aee97(0x141)],'muteEndTime':_0x3a1882[_0x4aee97(0x33e)],'ephemeralExpiration':_0x3a1882[_0x4aee97(0x295)]},_0x138846=!0x1,_0x169ff5={};_0x353891[_0x4aee97(0x141)]!=null&&(this[_0x4aee97(0xfa)][_0x4aee97(0x671)](this[_0x4aee97(0x1a8)]+'\x20('+this[_0x4aee97(0x245)]['wuid']+_0x4aee97(0x3b7)+_0x3a1882['id']+_0x4aee97(0x3b0)+_0x3a1882[_0x4aee97(0x141)]),_0x138846=!0x0,_0x169ff5[_0x4aee97(0x141)]=_0x3a1882[_0x4aee97(0x141)]),_0x4aee97(0x33e)in _0x3a1882&&(this['logger'][_0x4aee97(0x671)](this['instanceName']+'\x20('+this['instance'][_0x4aee97(0x60f)]+_0x4aee97(0x4ee)+_0x3a1882['id']+_0x4aee97(0x3b0)+(_0x3a1882[_0x4aee97(0x33e)]??'0')),_0x138846=!0x0,_0x169ff5[_0x4aee97(0x33e)]=_0x3a1882['muteEndTime']??0x0),_0x4aee97(0x295)in _0x3a1882&&(this[_0x4aee97(0xfa)][_0x4aee97(0x671)](this[_0x4aee97(0x1a8)]+'\x20('+this[_0x4aee97(0x245)][_0x4aee97(0x60f)]+_0x4aee97(0x6c6)+_0x3a1882['id']+_0x4aee97(0x3b0)+(_0x3a1882[_0x4aee97(0x295)]!==void 0x0?_0x3a1882[_0x4aee97(0x295)]:_0x4aee97(0x623))),_0x169ff5[_0x4aee97(0x295)]=_0x3a1882[_0x4aee97(0x295)]===null?0x0:_0x3a1882['ephemeralExpiration'],_0x138846=!0x0);let _0x3325b9;_0x138846&&(_0x3325b9=await this[_0x4aee97(0x4f1)][_0x4aee97(0x215)][_0x4aee97(0x57f)]({'where':{'_id':_0x3a1882['id']}},_0x169ff5,this[_0x4aee97(0x245)][_0x4aee97(0x60f)])),_0x3325b9&&J(this[_0x4aee97(0x1a8)],_0x4aee97(0x6df),{'chat':_0x3325b9});}},'chats.delete':async _0xac194a=>{const _0x21baf6=_0x1eee51;for(let _0x15c0b8 of _0xac194a)if(_0x15c0b8[_0x21baf6(0x13d)](_0x21baf6(0x481))){await this[_0x21baf6(0x4f1)][_0x21baf6(0x215)]['delete']({'where':{'_id':_0x15c0b8}},this[_0x21baf6(0x245)][_0x21baf6(0x60f)]);let _0x6d78e6={'where':{'key':{'remoteJid':_0x15c0b8}}};await this[_0x21baf6(0x4f1)]['message']['delete'](_0x6d78e6,this[_0x21baf6(0x245)][_0x21baf6(0x60f)]);}else{await this[_0x21baf6(0x4f1)][_0x21baf6(0x215)][_0x21baf6(0x57f)]({'where':{'_id':_0x15c0b8}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x21baf6(0x245)]['wuid']);let _0x421c0a={'where':{'key':{'remoteJid':_0x15c0b8}}};await this['repository'][_0x21baf6(0x3a7)][_0x21baf6(0x10d)](_0x421c0a,this[_0x21baf6(0x245)]['wuid']);}this[_0x21baf6(0x35e)]('chats.delete',[..._0xac194a]);}},this[_0x1eee51(0x333)]={'contacts.upsert':async(_0x10bc51,_0x5e9f08)=>{const _0x2c48a8=_0x1eee51;let _0x5330d2=await this[_0x2c48a8(0x4f1)]['contact'][_0x2c48a8(0x551)]({'where':{}},this[_0x2c48a8(0x245)][_0x2c48a8(0x60f)]),_0x41bf79=[];for await(let _0x378598 of _0x10bc51)_0x5330d2[_0x2c48a8(0x551)](_0xdffab1=>_0xdffab1[_0x2c48a8(0x36f)]===_0x378598['id'])||_0x41bf79['push']({'_id':_0x378598['id'],'pushName':_0x378598?.[_0x2c48a8(0x21a)]||_0x378598?.[_0x2c48a8(0x134)],'owner':this[_0x2c48a8(0x245)][_0x2c48a8(0x60f)]});this[_0x2c48a8(0x35e)](_0x2c48a8(0x607),_0x41bf79),await this[_0x2c48a8(0x4f1)][_0x2c48a8(0x711)][_0x2c48a8(0x763)](_0x41bf79);},'contacts.update':async(_0x133a4d,_0x285c8c)=>{const _0x383a91=_0x1eee51;let _0x5a8bb6=[];for await(let _0x1a4678 of _0x133a4d)_0x5a8bb6[_0x383a91(0x3c2)]({'_id':_0x1a4678['id'],'pushName':_0x1a4678?.[_0x383a91(0x21a)]??_0x1a4678?.['verifiedName'],'owner':this[_0x383a91(0x245)]['wuid']});this[_0x383a91(0x35e)](_0x383a91(0x166),_0x5a8bb6);}},this[_0x1eee51(0x2e5)]={'messaging-history.set':async({messages:_0x5ab5ea,chats:_0x550e51,isLatest:_0x4aa90e},_0x5a9d71)=>{const _0x49a9cb=_0x1eee51;if(_0x4aa90e){let _0xa4774d=await Promise['all'](_0x550e51[_0x49a9cb(0x437)](async _0xba1f0e=>({'_id':_0xba1f0e['id'],'owner':this['instance'][_0x49a9cb(0x60f)],'group':_0xba1f0e['id']['endsWith'](_0x49a9cb(0x481)),'name':_0xba1f0e[_0x49a9cb(0x21a)]||_0xba1f0e[_0x49a9cb(0x403)]||_0xba1f0e['username']||null,'contactname':null,'lastmsg':_0xba1f0e[_0x49a9cb(0x621)]&&_0xba1f0e['conversationTimestamp'][_0x49a9cb(0x121)]()[_0x49a9cb(0x75f)]<0xd?_0xba1f0e[_0x49a9cb(0x621)]*0x3e8:_0xba1f0e[_0x49a9cb(0x621)]||null,'archived':_0xba1f0e[_0x49a9cb(0x141)]||!0x1,'unreadcount':_0xba1f0e[_0x49a9cb(0x383)]||0x0,'ephemeralExpiration':_0xba1f0e[_0x49a9cb(0x295)]||0x0,'muteEndTime':_0xba1f0e['muteEndTime']||0x0})));this[_0x49a9cb(0x35e)](_0x49a9cb(0x513),_0xa4774d),await this[_0x49a9cb(0x250)](_0xa4774d,_0x5a9d71);}let _0x4dac56=[],_0x51e6cc=Date[_0x49a9cb(0x117)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x23f87e]of Object[_0x49a9cb(0x565)](_0x5ab5ea)){if(_0x23f87e[_0x49a9cb(0x3a7)]?.[_0x49a9cb(0x18e)]||_0x23f87e[_0x49a9cb(0x3a7)]?.['senderKeyDistributionMessage']||!_0x23f87e[_0x49a9cb(0x3a7)]||_0x23f87e['key'][_0x49a9cb(0x3f6)]==='status@broadcast'||(Ds['default'][_0x49a9cb(0x5b9)](_0x23f87e?.[_0x49a9cb(0x1e8)])&&(_0x23f87e[_0x49a9cb(0x1e8)]=_0x23f87e[_0x49a9cb(0x1e8)]?.[_0x49a9cb(0x58c)]()),_0x23f87e[_0x49a9cb(0x1e8)]&&_0x23f87e[_0x49a9cb(0x1e8)][_0x49a9cb(0x121)]()[_0x49a9cb(0x75f)]<0xd&&(_0x23f87e[_0x49a9cb(0x1e8)]=_0x23f87e['messageTimestamp']*0x3e8),_0x23f87e[_0x49a9cb(0x1e8)]<_0x51e6cc))continue;let _0x312128=(0x0,w[_0x49a9cb(0x604)])(_0x23f87e['message']),_0x50f717=(0x0,w[_0x49a9cb(0x2b6)])(_0x312128),{message_normalized:_0x1e593e}=this[_0x49a9cb(0x6d0)](_0x312128,_0x50f717,null);Object['keys'](_0x1e593e)[_0x49a9cb(0x75f)]>0x0&&_0x4dac56[_0x49a9cb(0x3c2)]({'_id':_0x23f87e[_0x49a9cb(0x33c)]['id'],'key':_0x23f87e[_0x49a9cb(0x33c)],'pushName':_0x23f87e['pushName'],'participant':_0x23f87e[_0x49a9cb(0x4a4)],'message':_0x312128,'messageType':_0x50f717,'message_normalized':{'key':_0x23f87e[_0x49a9cb(0x33c)],'pushName':_0x23f87e['pushName'],'messageTimestamp':_0x23f87e['messageTimestamp'],..._0x1e593e},'messageTimestamp':_0x23f87e[_0x49a9cb(0x1e8)],'owner':this[_0x49a9cb(0x245)]['wuid']});}_0x5a9d71[_0x49a9cb(0x4c9)]&&_0x4dac56[_0x49a9cb(0x75f)]>0x0&&(this[_0x49a9cb(0xfa)][_0x49a9cb(0x671)](this[_0x49a9cb(0x1a8)]+'\x20('+this[_0x49a9cb(0x245)]['wuid']+'):\x20'+_0x4dac56[_0x49a9cb(0x75f)]+'\x20mensagens\x20de\x20'+this['instance'][_0x49a9cb(0x60f)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x49a9cb(0x4f1)][_0x49a9cb(0x3a7)]['insert']([..._0x4dac56],this['instance'][_0x49a9cb(0x60f)])),this[_0x49a9cb(0x35e)](_0x49a9cb(0x1c4),[..._0x4dac56]),_0x5ab5ea=void 0x0;},'messages.upsert':async({messages:_0xa96fa5,type:_0x270080},_0x230986)=>{const _0x5a99e2=_0x1eee51;for(let _0x9c1997 of _0xa96fa5){if(this['localWebhook']?.[_0x5a99e2(0x125)]&&_0x9c1997[_0x5a99e2(0x33c)][_0x5a99e2(0x3f6)][_0x5a99e2(0x5d6)]('@g.us')){this[_0x5a99e2(0xfa)][_0x5a99e2(0x671)](this[_0x5a99e2(0x1a8)]+'\x20('+this[_0x5a99e2(0x245)][_0x5a99e2(0x60f)]+_0x5a99e2(0x132));return;}if(_0x270080!==_0x5a99e2(0x595)||!_0x9c1997?.['message']||_0x9c1997[_0x5a99e2(0x3a7)]?.['protocolMessage']||_0x9c1997[_0x5a99e2(0x3a7)][_0x5a99e2(0x128)]||_0x9c1997[_0x5a99e2(0x33c)][_0x5a99e2(0x3f6)]===_0x5a99e2(0x545))return;let _0x3e2248=null,_0x554231=null;if(_0x9c1997['messageStubParameters']&&_0x9c1997[_0x5a99e2(0x773)][0x0]==='Message\x20absent\x20from\x20node'){console['error']('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),Lt[_0x9c1997[_0x5a99e2(0x33c)]['id']]=_0x9c1997,this[_0x5a99e2(0x5f8)](_0x9c1997,0x0);return;}Lt[_0x9c1997[_0x5a99e2(0x33c)]['id']]&&(console[_0x5a99e2(0x1ca)](_0x5a99e2(0x6fa)),delete Lt[_0x9c1997[_0x5a99e2(0x33c)]['id']]);try{_0x3e2248=await this['processPollUpdateMessage'](_0x9c1997),_0x554231=_0x3e2248?_0x3e2248['join'](','):null;}catch(_0x20b64f){this[_0x5a99e2(0xfa)][_0x5a99e2(0x671)](this[_0x5a99e2(0x1a8)]+'\x20('+this[_0x5a99e2(0x245)][_0x5a99e2(0x60f)]+_0x5a99e2(0x2fb)+(_0x20b64f instanceof Error?_0x20b64f[_0x5a99e2(0x3a7)]:JSON['stringify'](_0x20b64f,null,0x2))),_0x554231=_0x5a99e2(0x6aa);}this[_0x5a99e2(0x1d3)][_0x5a99e2(0x5ba)]('unavailable'),Ds['default'][_0x5a99e2(0x5b9)](_0x9c1997[_0x5a99e2(0x1e8)])&&(_0x9c1997['messageTimestamp']=_0x9c1997[_0x5a99e2(0x1e8)]?.['toNumber']()),_0x9c1997[_0x5a99e2(0x1e8)]&&_0x9c1997['messageTimestamp'][_0x5a99e2(0x121)]()[_0x5a99e2(0x75f)]<0xd&&(_0x9c1997[_0x5a99e2(0x1e8)]=_0x9c1997[_0x5a99e2(0x1e8)]*0x3e8);let _0x56461e=_0x9c1997[_0x5a99e2(0x3a7)],_0x3ce5c3=(0x0,w[_0x5a99e2(0x604)])(_0x56461e),_0x564e79=(0x0,w[_0x5a99e2(0x2b6)])(_0x3ce5c3),{messageContent:_0x194811,message_normalized:_0x239ea0}=this['normalizeMessage'](_0x3ce5c3,_0x564e79,_0x554231);_0x564e79===_0x5a99e2(0x18e)&&_0x194811?.[_0x5a99e2(0x1bb)]&&(_0x564e79=_0x5a99e2(0x1bb));let _0x1f0f20,_0x1aaa06=_0x9c1997[_0x5a99e2(0x33c)][_0x5a99e2(0x3f6)][_0x5a99e2(0x13d)]('@g.us');if(_0x9c1997[_0x5a99e2(0x33c)]['fromMe'])_0x1f0f20=this['instance'][_0x5a99e2(0x502)];else{let _0x511d8f=_0x1aaa06?_0x9c1997[_0x5a99e2(0x33c)][_0x5a99e2(0x4a4)]:_0x9c1997[_0x5a99e2(0x33c)][_0x5a99e2(0x3f6)];_0x1f0f20=(await this[_0x5a99e2(0x6af)](_0x511d8f,_0x9c1997['pushName'],!0x1))[_0x5a99e2(0xdc)]['pictureUrl'];}let _0x5f058d={'_id':_0x9c1997['key']['id'],'key':_0x9c1997[_0x5a99e2(0x33c)],'isGroup':_0x1aaa06,'profilePictureUrl':_0x1f0f20,'pushName':_0x9c1997[_0x5a99e2(0x300)],'message':_0x3ce5c3,'messageType':_0x564e79,'message_normalized':{'key':_0x9c1997[_0x5a99e2(0x33c)],'pushName':_0x9c1997[_0x5a99e2(0x300)],'messageTimestamp':_0x9c1997['messageTimestamp'],'source':(0x0,w[_0x5a99e2(0x261)])(_0x9c1997[_0x5a99e2(0x33c)]['id']),..._0x239ea0},'messageTimestamp':_0x9c1997[_0x5a99e2(0x1e8)],'owner':this[_0x5a99e2(0x245)]['wuid'],'source':(0x0,w[_0x5a99e2(0x261)])(_0x9c1997['key']['id']),'expiration':_0x194811?.[_0x5a99e2(0x692)]?.[_0x5a99e2(0x3cd)]||0x0};_0x194811||(this[_0x5a99e2(0xfa)][_0x5a99e2(0x1ca)](_0x5a99e2(0x176)),this[_0x5a99e2(0xfa)][_0x5a99e2(0x1ca)](_0x5f058d)),this[_0x5a99e2(0xfa)][_0x5a99e2(0x2b5)](this[_0x5a99e2(0x1a8)]+'\x20('+this[_0x5a99e2(0x245)]['wuid']+_0x5a99e2(0x2fb)+(_0x5f058d['key']?.[_0x5a99e2(0x344)]?_0x5a99e2(0x172):_0x5a99e2(0x193))+'\x20['+_0x5f058d[_0x5a99e2(0x33c)]?.['remoteJid'][_0x5a99e2(0x67e)](_0x5a99e2(0x748),'')+_0x5a99e2(0x717)+_0x5f058d['messageType']+')'),_0x5f058d[_0x5a99e2(0x6a1)]?.[_0x5a99e2(0x3ef)]&&this['logger']['log'](_0x9c1997[_0x5a99e2(0x33c)]['id']+':\x20'+_0x5f058d['message_normalized']?.[_0x5a99e2(0x3ef)]),await this[_0x5a99e2(0x4f1)]['message']['insert']([_0x5f058d],this[_0x5a99e2(0x245)][_0x5a99e2(0x60f)]),this[_0x5a99e2(0x35e)](_0x5a99e2(0x376),_0x5f058d),J(this[_0x5a99e2(0x1a8)],_0x5a99e2(0x674),{'message':_0x5f058d}),_0x9c1997['key'][_0x5a99e2(0x3f6)]!=='status@broadcast'&&await this[_0x5a99e2(0xcb)](_0x230986,_0x5f058d,_0x5a99e2(0x42e));}},'messages.update':async(_0x46bc01,_0x259dac)=>{const _0x43babe=_0x1eee51;let _0x3167e0={0x0:_0x43babe(0x5ed),0x1:_0x43babe(0x35b),0x2:_0x43babe(0x36c),0x3:_0x43babe(0x552),0x4:_0x43babe(0x1b7),0x5:_0x43babe(0x472)};for await(let {key:_0x502e1d,update:_0x5327ce}of _0x46bc01){if(this[_0x43babe(0x4c2)]?.['groups_ignore']&&_0x502e1d[_0x43babe(0x3f6)][_0x43babe(0x5d6)](_0x43babe(0x481))){this[_0x43babe(0xfa)]['verbose'](this[_0x43babe(0x1a8)]+'\x20('+this[_0x43babe(0x245)][_0x43babe(0x60f)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x502e1d[_0x43babe(0x3f6)]!==_0x43babe(0x545)){let _0x6c0582=Date[_0x43babe(0x117)](),_0x37bc36;_0x5327ce['message']===null&&_0x5327ce[_0x43babe(0x226)]===void 0x0?_0x37bc36=_0x43babe(0x1e1):_0x37bc36=_0x3167e0[_0x5327ce['status']];let _0xfee864=_0x502e1d[_0x43babe(0x3f6)][_0x43babe(0x67e)](/:\d{1,2}@/g,'@'),_0xe0e673={..._0x502e1d,'remoteJid':_0xfee864,'status':_0x37bc36,'datetime':_0x6c0582,'owner':this['instance']['wuid']};this[_0x43babe(0x35e)](_0x43babe(0x2b4),_0xe0e673),await this[_0x43babe(0x6ef)](_0x502e1d,_0xe0e673);}}},'labels.association':async({type:_0x37c963,association:_0x48c811})=>{const _0x190e61=_0x1eee51;if(_0x48c811[_0x190e61(0x1d5)]===_0x190e61(0x5e9)){let _0x2e437b,_0xa7d2b9=0x0;for(;!_0x2e437b&&_0xa7d2b9<this[_0x190e61(0x821)];)_0x2e437b=await this[_0x190e61(0x4f1)][_0x190e61(0x215)][_0x190e61(0x657)]({'where':{'_id':_0x48c811[_0x190e61(0x307)]}},this[_0x190e61(0x245)][_0x190e61(0x60f)]),_0x2e437b||(_0xa7d2b9++,this[_0x190e61(0xfa)][_0x190e61(0xe3)](this['instanceName']+'\x20('+this['instance'][_0x190e61(0x60f)]+_0x190e61(0x554)+_0x48c811[_0x190e61(0x307)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x190e61(0x157)]+_0x190e61(0x111)+_0xa7d2b9+'/'+this[_0x190e61(0x821)]+')'),await this[_0x190e61(0xf5)](this[_0x190e61(0x157)]));if(!_0x2e437b){this[_0x190e61(0xfa)][_0x190e61(0x1ca)](_0x190e61(0x6d8)+_0x48c811[_0x190e61(0x307)]+'\x20depois\x20'+this[_0x190e61(0x821)]+'\x20tentativas.');return;}switch(_0x37c963){case _0x190e61(0x440):console[_0x190e61(0x2b5)](_0x48c811),await this[_0x190e61(0x4f1)][_0x190e61(0x215)][_0x190e61(0x57f)]({'where':{'_id':_0x48c811[_0x190e61(0x307)]}},{'leadInfo.etiquetas':_0x48c811['labelId']},this[_0x190e61(0x245)][_0x190e61(0x60f)],void 0x0,_0x190e61(0x776));break;case _0x190e61(0x727):console[_0x190e61(0x2b5)](_0x48c811),await this['repository']['chat'][_0x190e61(0x57f)]({'where':{'_id':_0x48c811[_0x190e61(0x307)]}},{'leadInfo.etiquetas':_0x48c811['labelId']},this[_0x190e61(0x245)]['wuid'],void 0x0,_0x190e61(0x34d));break;default:this[_0x190e61(0xfa)]['error'](_0x190e61(0x630)+_0x37c963+']');}}},'labels.edit':async _0x40c1c9=>{const _0x50ce77=_0x1eee51;if(!_0x40c1c9||!_0x40c1c9['id']){this['logger']['error'](_0x50ce77(0x4b6));return;}if(!_0x40c1c9[_0x50ce77(0x817)]){let _0x1d61aa=[_0x50ce77(0x5fc),_0x50ce77(0x536),_0x50ce77(0x3e2),_0x50ce77(0x4e4),_0x50ce77(0x3cc),'#56ccb4','#fe9dfe',_0x50ce77(0x401),_0x50ce77(0x381),_0x50ce77(0x441),'#01d0e2',_0x50ce77(0x4d6),'#92ceac',_0x50ce77(0x36e),'#00a1f2',_0x50ce77(0x4a7),_0x50ce77(0x458),_0x50ce77(0x820),_0x50ce77(0x1fa),_0x50ce77(0x4f8)],_0x2e9041;typeof _0x40c1c9['color']=='number'&&_0x40c1c9[_0x50ce77(0x2d1)]>=0x0&&_0x40c1c9[_0x50ce77(0x2d1)]<_0x1d61aa[_0x50ce77(0x75f)]?_0x2e9041=_0x1d61aa[_0x40c1c9[_0x50ce77(0x2d1)]]:(this[_0x50ce77(0xfa)][_0x50ce77(0x1ca)](_0x50ce77(0x49b)+_0x40c1c9[_0x50ce77(0x2d1)]),_0x2e9041=_0x50ce77(0x2df));let _0x5c32b0={'_id':_0x40c1c9['id'],'colorHex':_0x2e9041,'color':_0x40c1c9?.[_0x50ce77(0x2d1)],'name':_0x40c1c9?.[_0x50ce77(0x21a)],'owner':this['instance'][_0x50ce77(0x60f)]};await this[_0x50ce77(0x4f1)]['label']['updateOne']({'where':{'_id':_0x40c1c9['id']}},_0x5c32b0,this[_0x50ce77(0x245)][_0x50ce77(0x60f)]),this['logger'][_0x50ce77(0xe3)](this[_0x50ce77(0x1a8)]+'\x20('+this[_0x50ce77(0x245)][_0x50ce77(0x60f)]+_0x50ce77(0x70d)+_0x40c1c9);}_0x40c1c9['deleted']&&(await this[_0x50ce77(0x4f1)][_0x50ce77(0x357)][_0x50ce77(0x10d)]({'where':{'_id':_0x40c1c9['id']}},this[_0x50ce77(0x245)]['wuid']),this[_0x50ce77(0xfa)][_0x50ce77(0xe3)](_0x50ce77(0x5a9)+_0x40c1c9['id']));}},this[_0x1eee51(0x298)]={'groups.upsert':async _0x494934=>{const _0xbb7c0c=_0x1eee51;this['localWebhook']?.[_0xbb7c0c(0x125)]||this[_0xbb7c0c(0x35e)](_0xbb7c0c(0x3d6),_0x494934);for(let _0x4c20f5 of _0x494934)await this[_0xbb7c0c(0x1d6)](_0x4c20f5);},'groups.update':async _0x17a713=>{const _0x54250d=_0x1eee51;this['localWebhook']?.[_0x54250d(0x125)]||this[_0x54250d(0x35e)](_0x54250d(0x5fd),_0x17a713);for(let _0x2ad829 of _0x17a713)await this[_0x54250d(0x1d6)](_0x2ad829);},'group-participants.update':async _0x53be88=>{const _0x1fd1ac=_0x1eee51;this[_0x1fd1ac(0x4c2)]?.[_0x1fd1ac(0x125)]||this[_0x1fd1ac(0x35e)](_0x1fd1ac(0x795),_0x53be88),await this[_0x1fd1ac(0x387)](_0x53be88);}},this[_0x1eee51(0x821)]=0x5,this[_0x1eee51(0x157)]=0x1388,this[_0x1eee51(0xe2)]=0x0,this[_0x1eee51(0x5f7)]=async _0x5189f7=>{const _0x9acec5=_0x1eee51;if(_0x5189f7[_0x9acec5(0x3a7)]?.['pollUpdateMessage']){let _0x3670fd=await this['getMessage'](_0x5189f7['message']['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x3670fd){let _0x3ab9e6=_0x3670fd['key']['fromMe']?this[_0x9acec5(0x245)][_0x9acec5(0x60f)]+_0x9acec5(0x748):_0x3670fd[_0x9acec5(0x33c)][_0x9acec5(0x4a4)]||_0x3670fd['key'][_0x9acec5(0x3f6)],_0x1353ae=_0x3670fd[_0x9acec5(0x33c)]['id'],_0xfc4fda=_0x3670fd['message'],_0x27bd0c=Buffer[_0x9acec5(0x7db)](_0xfc4fda['messageContextInfo'][_0x9acec5(0x601)][_0x9acec5(0x121)](_0x9acec5(0x797)),_0x9acec5(0x797)),_0x33cb6c=(0x0,w[_0x9acec5(0x340)])(_0x5189f7[_0x9acec5(0x3a7)]['pollUpdateMessage'][_0x9acec5(0x531)],{'pollCreatorJid':_0x3ab9e6,'pollMsgId':_0x1353ae,'pollEncKey':_0x27bd0c,'voterJid':_0x5189f7[_0x9acec5(0x33c)]['fromMe']?this['instance'][_0x9acec5(0x60f)]+_0x9acec5(0x748):_0x5189f7['key'][_0x9acec5(0x3f6)][_0x9acec5(0x13d)](_0x9acec5(0x482))?_0x5189f7[_0x9acec5(0x33c)][_0x9acec5(0x4a4)]:_0x5189f7[_0x9acec5(0x33c)][_0x9acec5(0x3f6)]}),_0x120f92=[],_0x505494=_0x33cb6c['selectedOptions']['map'](_0x12fdfe=>Buffer['from'](_0x12fdfe)['toString'](_0x9acec5(0x797)));for(let {optionName:_0x40a574}of _0xfc4fda[_0x9acec5(0xd8)]?.[_0x9acec5(0x1be)]||_0xfc4fda['pollCreationMessageV3']?.[_0x9acec5(0x1be)]||_0xfc4fda['pollCreationMessageV2']?.['options'])_0x505494[_0x9acec5(0x6fd)]((0x0,w[_0x9acec5(0x5c9)])(Buffer[_0x9acec5(0x7db)](_0x40a574))[_0x9acec5(0x121)]('hex'))>-0x1&&_0x120f92[_0x9acec5(0x3c2)](_0x40a574);return _0x120f92;}}return null;},this[_0x1eee51(0x6d0)]=(_0x104adc,_0x26f518,_0x2c6347)=>{const _0x169c32=_0x1eee51;try{let _0x10036d=_0x104adc?(0x0,w[_0x169c32(0x78e)])(_0x104adc)[_0x26f518]:void 0x0,_0x53b734={},_0x4129a5=null,_0x584bfe=null,_0x338b2c=null;_0x26f518===_0x169c32(0x18e)&&_0x10036d?.['editedMessage']&&(_0x26f518=(0x0,w[_0x169c32(0x2b6)])(_0x10036d[_0x169c32(0x1bb)]),_0x4129a5=_0x104adc['protocolMessage'][_0x169c32(0x33c)]['id'],_0x10036d=_0x104adc[_0x169c32(0x18e)][_0x169c32(0x1bb)][_0x26f518]),_0x104adc[_0x26f518]?.[_0x169c32(0x692)]?.[_0x169c32(0x244)]&&_0x104adc[_0x26f518]?.[_0x169c32(0x692)]?.[_0x169c32(0x755)]&&(_0x584bfe=_0x104adc[_0x26f518][_0x169c32(0x692)][_0x169c32(0x244)]),_0x104adc[_0x169c32(0x5e0)]&&(_0x338b2c=_0x104adc[_0x169c32(0x5e0)][_0x169c32(0x33c)]['id']);let _0x157ea3;if(_0x10036d&&typeof _0x10036d==_0x169c32(0x1a5)&&_0x169c32(0x69a)in _0x10036d&&({pollCreationMessageKey:_0x157ea3}=_0x10036d),_0x26f518===_0x169c32(0xd8)||_0x26f518==='pollCreationMessageV2'||_0x26f518===_0x169c32(0x211)){let _0x3dc466=_0x10036d['options'][_0x169c32(0x437)](_0x2acc44=>_0x2acc44[_0x169c32(0x71c)])[_0x169c32(0x633)]('|');_0x53b734[_0x169c32(0x627)]=_0x3dc466;}let _0x1df6b8='';if(_0x10036d&&(_0x1df6b8+=_0x10036d[_0x169c32(0x21a)]?_0x10036d[_0x169c32(0x21a)]:'',_0x1df6b8+=_0x10036d['caption']?'\x20'+_0x10036d['caption']:'',_0x1df6b8+=_0x10036d[_0x169c32(0x723)]?'\x20'+_0x10036d['conversation']:'',_0x1df6b8+=_0x10036d[_0x169c32(0x403)]?'\x20'+_0x10036d[_0x169c32(0x403)]:''),_0x26f518===_0x169c32(0xec)){_0x1df6b8=(_0x10036d['title']||'')+'\x0a'+(_0x10036d['description']||'')+'\x0a'+(_0x10036d[_0x169c32(0x716)]||'');let _0x2db6e4=this[_0x169c32(0x1e3)](_0x10036d[_0x169c32(0x182)]);_0x53b734[_0x169c32(0x627)]=_0x2db6e4;}if(_0x26f518==='listResponseMessage'&&(_0x2c6347=_0x10036d[_0x169c32(0x816)]),_0x10036d&&_0x10036d['vcard']){let _0x34dbad=this['formatVCard'](JSON[_0x169c32(0x1dc)](_0x10036d[_0x169c32(0x16e)],null,0x2));_0x1df6b8=_0x1df6b8+'\x0a'+_0x34dbad;}if(_0x10036d){let {sections:_0xcecded,listType:_0x4862ac,displayName:_0x450717,vcard:_0xfda796,contactVcard:_0x5a0265,name:_0xae2be9,caption:_0x41b896,conversation:_0x67fb89,pollCreationMessageKey:_0x29aa43,footerText:_0xd7f204,contentText:_0x1b71c8,pageCount:_0x418853,headerType:_0x461e99,isAvatar:_0x4c67e3,isAnimated:_0x30f6bc,fallbackLc:_0x4e19fc,fallbackLg:_0x355302,namespace:_0x406f14,elementName:_0x329168,localizableParams:_0x449d34,viewOnce:_0x2cfb55,height:_0x2f7ffb,width:_0x479194,key:_0x44f123,firstScanLength:_0x46d2e7,firstScanSidecar:_0x27a0a6,gifPlayback:_0x2c77c7,gifAttribution:_0x8a2449,midQualityFileSha256:_0x5dbc59,scansSidecar:_0x167bb8,streamingSidecar:_0x42c3ea,thumbnailHeight:_0x5654cf,thumbnailWidth:_0x2b21b8,thumbnailEncSha256:_0x543f3c,thumbnailDirectPath:_0x44c396,canonicalUrl:_0x5512cd,matchedText:_0x44f96f,previewType:_0x277f47,thumbnailSha256:_0x4d9a20,deviceListMetadataVersion:_0x126b4c,inviteLinkGroupTypeV2:_0x486b0f,interactiveAnnotations:_0x4cd992,scanLengths:_0x2ced67,jpegThumbnail:_0x56f27c,url:_0x54966e,mediaKeyTimestamp:_0x4df53d,waveform:_0x19987d,stickerSentTs:_0x3a5b4c,firstFrameLength:_0x27ba49,fileEncSha256:_0x285389,contextInfo:_0x209b14,firstFrameSidecar:_0x3d12d9,directPath:_0x5cfbcc,fileSha256:_0x5b3ccd,mediaKey:_0xf06fa3,senderTimestampMs:_0x2ff1dd,..._0x5a1ff0}=_0x10036d;(_0x26f518===_0x169c32(0xec)||_0x26f518===_0x169c32(0x2e4))&&(delete _0x5a1ff0[_0x169c32(0x816)],delete _0x5a1ff0[_0x169c32(0x29d)]),typeof _0x10036d==_0x169c32(0x129)?_0x53b734={'text':_0x10036d,'type':_0x26f518||_0x169c32(0x723),..._0x4129a5&&{'edited':_0x4129a5},..._0x584bfe&&{'quoted':_0x584bfe},..._0x338b2c&&{'reaction':_0x338b2c}}:_0x53b734={'text':_0x1df6b8,..._0x5a1ff0,..._0x26f518===_0x169c32(0x158)?{'poll_id':_0x10036d[_0x169c32(0x69a)]['id'],'quoted':_0x10036d[_0x169c32(0x69a)]['id'],'vote':_0x2c6347}:{},..._0x26f518===_0x169c32(0x2e4)?{'vote':_0x2c6347}:{},'type':_0x26f518,..._0x4129a5&&{'edited':_0x4129a5},..._0x584bfe&&{'quoted':_0x584bfe},..._0x338b2c&&{'reaction':_0x338b2c},...(_0x26f518===_0x169c32(0xd8)||_0x26f518===_0x169c32(0x10a)||_0x26f518==='pollCreationMessageV3'||_0x26f518===_0x169c32(0xec))&&{'convertedOptions':_0x53b734['convertedOptions']}};}return{'messageType':_0x26f518,'messageContent':_0x10036d,'message_normalized':_0x53b734};}catch(_0x39c715){return this['logger'][_0x169c32(0x1ca)](_0x169c32(0x469)+_0x39c715),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1eee51(0x4b4)]=null,this['pendingMessages']=[],(this[_0x1eee51(0x76e)](),this[_0x1eee51(0x245)][_0x1eee51(0x169)]={'count':0x0},this[_0x1eee51(0x245)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x1855d1){const _0x5b5ccc=a0_0x3eb0d8;if(!_0x1855d1){this['instance'][_0x5b5ccc(0x21a)]=(0x0,Ai['v4'])();return;}this[_0x5b5ccc(0x245)][_0x5b5ccc(0x21a)]=_0x1855d1,this[_0x5b5ccc(0x35e)](_0x5b5ccc(0x4f3),{'instance':this[_0x5b5ccc(0x245)][_0x5b5ccc(0x21a)],'status':_0x5b5ccc(0x72d)});}get[a0_0x3eb0d8(0x1a8)](){const _0xf08ad7=a0_0x3eb0d8;return this[_0xf08ad7(0x245)]['name'];}get[a0_0x3eb0d8(0x60f)](){return this['instance']['wuid'];}async[a0_0x3eb0d8(0x14a)](){const _0x131646=a0_0x3eb0d8;let _0x3f23ed=this['client'][_0x131646(0x2f8)]?.[_0x131646(0x21a)]??this['client'][_0x131646(0x2f8)]?.[_0x131646(0x134)];if(!_0x3f23ed){if(this[_0x131646(0x801)][_0x131646(0x439)](_0x131646(0x703))['ENABLED']){let _0x41d009=await R['getClient']()['db'](this['configService']['get']('DATABASE')[_0x131646(0x6cf)][_0x131646(0x449)]+_0x131646(0x1ab))[_0x131646(0x7cb)](this[_0x131646(0x1a8)])[_0x131646(0x657)]({'_id':_0x131646(0x228)});if(_0x41d009){let _0x46a1bc=JSON[_0x131646(0x814)](JSON[_0x131646(0x1dc)](_0x41d009),w['BufferJSON'][_0x131646(0x722)]);_0x3f23ed=_0x46a1bc['me']?.['name']||_0x46a1bc['me']?.[_0x131646(0x134)];}}else{if((0x0,ke[_0x131646(0x54c)])((0x0,U[_0x131646(0x633)])(be,this[_0x131646(0x1a8)],_0x131646(0x7eb)))){let _0x4ef43e=JSON[_0x131646(0x814)]((0x0,ke[_0x131646(0x30e)])((0x0,U[_0x131646(0x633)])(be,this[_0x131646(0x1a8)],_0x131646(0x7eb)),{'encoding':_0x131646(0x28f)}));_0x3f23ed=_0x4ef43e['me']?.[_0x131646(0x21a)]||_0x4ef43e['me']?.['verifiedName'];}}}return _0x3f23ed;}get[a0_0x3eb0d8(0x502)](){const _0xdca12f=a0_0x3eb0d8;return this[_0xdca12f(0x245)]['profilePictureUrl'];}get['qrCode'](){const _0x2a96e1=a0_0x3eb0d8;return this['instance'][_0x2a96e1(0x169)]?.['pairingCode']?{'pairingCode':this[_0x2a96e1(0x245)][_0x2a96e1(0x169)]?.['pairingCode']}:{'code':this['instance'][_0x2a96e1(0x169)]?.[_0x2a96e1(0x698)],'base64':this['instance'][_0x2a96e1(0x169)]?.[_0x2a96e1(0x64b)]};}async[a0_0x3eb0d8(0x749)](){const _0x5bd7ea=a0_0x3eb0d8;let _0x5cad09=await this[_0x5bd7ea(0x4f1)][_0x5bd7ea(0x1a7)][_0x5bd7ea(0x551)](this[_0x5bd7ea(0x1a8)]);this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x6bc)]=_0x5cad09?.[_0x5bd7ea(0x6bc)],this[_0x5bd7ea(0x4c2)]['enabled']=_0x5cad09?.['enabled'],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x77e)]=_0x5cad09?.['local_map'],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x266)]=_0x5cad09?.[_0x5bd7ea(0x266)],this['localWebhook'][_0x5bd7ea(0x296)]=_0x5cad09?.[_0x5bd7ea(0x296)],this[_0x5bd7ea(0x4c2)]['SEND_MESSAGE']=_0x5cad09?.['SEND_MESSAGE'],this[_0x5bd7ea(0x4c2)]['MESSAGES_UPSERT']=_0x5cad09?.[_0x5bd7ea(0x42e)],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x4f5)]=_0x5cad09?.[_0x5bd7ea(0x4f5)],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x28e)]=_0x5cad09?.[_0x5bd7ea(0x28e)],this[_0x5bd7ea(0x4c2)]['GROUPS_UPDATE']=_0x5cad09?.['GROUPS_UPDATE'],this['localWebhook'][_0x5bd7ea(0x793)]=_0x5cad09?.[_0x5bd7ea(0x793)],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x7cf)]=_0x5cad09?.['CHATS_SET'],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x7cc)]=_0x5cad09?.[_0x5bd7ea(0x7cc)],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x52f)]=_0x5cad09?.[_0x5bd7ea(0x52f)],this[_0x5bd7ea(0x4c2)]['CHATS_DELETE']=_0x5cad09?.[_0x5bd7ea(0x778)],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x514)]=_0x5cad09?.[_0x5bd7ea(0x514)],this['localWebhook'][_0x5bd7ea(0x6b1)]=_0x5cad09?.['CONTACTS_UPSERT'],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x395)]=_0x5cad09?.[_0x5bd7ea(0x395)],this['localWebhook'][_0x5bd7ea(0x2c4)]=_0x5cad09?.[_0x5bd7ea(0x2c4)],this['localWebhook']['MESSAGES_SET']=_0x5cad09?.['MESSAGES_SET'],this[_0x5bd7ea(0x4c2)][_0x5bd7ea(0x35d)]=_0x5cad09?.[_0x5bd7ea(0x35d)],this[_0x5bd7ea(0x4c2)]['groups_ignore']=_0x5cad09?.[_0x5bd7ea(0x125)];}async['setWebhook'](_0x3f2ceb){const _0x3a56fa=a0_0x3eb0d8;let _0x5d4286=['_id','url',_0x3a56fa(0x676),_0x3a56fa(0x77e),_0x3a56fa(0x266),_0x3a56fa(0x296),'MESSAGES_UPDATE',_0x3a56fa(0x42e),_0x3a56fa(0xfb),_0x3a56fa(0x28e),_0x3a56fa(0x2c3),_0x3a56fa(0x793),_0x3a56fa(0x7cf),_0x3a56fa(0x7cc),_0x3a56fa(0x52f),_0x3a56fa(0x778),_0x3a56fa(0x514),_0x3a56fa(0x6b1),'CONTACTS_UPDATE',_0x3a56fa(0x2c4),'MESSAGES_SET',_0x3a56fa(0x35d),_0x3a56fa(0x125)],_0x31ea3e={};return _0x5d4286[_0x3a56fa(0x16b)](_0x2ae607=>{_0x3f2ceb[_0x2ae607]!==void 0x0&&(_0x31ea3e[_0x2ae607]=_0x3f2ceb[_0x2ae607]);}),_0x31ea3e['url']&&(_0x31ea3e['url']=_0x31ea3e[_0x3a56fa(0x6bc)]['trim']()),await this[_0x3a56fa(0x4f1)][_0x3a56fa(0x1a7)]['create'](_0x31ea3e,this[_0x3a56fa(0x1a8)]),Object['assign'](this[_0x3a56fa(0x4c2)],_0x31ea3e),await this['repository'][_0x3a56fa(0x1a7)][_0x3a56fa(0x551)](this[_0x3a56fa(0x1a8)]);}async['findWebhook'](){const _0x54d1b2=a0_0x3eb0d8;return await this['repository'][_0x54d1b2(0x1a7)][_0x54d1b2(0x551)](this[_0x54d1b2(0x1a8)]);}async[a0_0x3eb0d8(0x35e)](_0x4e7c23,_0x5d123f){const _0x4564bf=a0_0x3eb0d8;let _0x1fd184=_0x4e7c23[_0x4564bf(0x67e)](/[\.-]/gm,'_')[_0x4564bf(0x5d7)](),_0x2fa9a3=this[_0x4564bf(0x4c2)][_0x4564bf(0x676)]&&(0x0,k['isURL'])(this[_0x4564bf(0x4c2)][_0x4564bf(0x6bc)])?this[_0x4564bf(0x4c2)][_0x4564bf(0x6bc)]+(this[_0x4564bf(0x4c2)][_0x4564bf(0x77e)]?this[_0x4564bf(0x1bd)][_0x4e7c23]:''):null,_0x128aaa=this['localWebhook'][_0x1fd184],_0xe87d82=pe&&pe['enabled']&&(0x0,k['isURL'])(pe[_0x4564bf(0x6bc)])?pe['url']+(pe[_0x4564bf(0x77e)]?this[_0x4564bf(0x1bd)][_0x4e7c23]:''):null,_0x5e473b=pe?pe[_0x1fd184]:null;if(_0x128aaa&&_0x2fa9a3)try{await X['default'][_0x4564bf(0x358)]({'baseURL':_0x2fa9a3})['post']('',{'event':_0x4e7c23,'instance':this['instance'][_0x4564bf(0x21a)],'apikey':this[_0x4564bf(0x245)][_0x4564bf(0x6a8)],'data':_0x5d123f}),this[_0x4564bf(0xfa)][_0x4564bf(0x2b5)](this['instanceName']+'\x20('+this[_0x4564bf(0x245)][_0x4564bf(0x60f)]+_0x4564bf(0x613)+_0x4e7c23+':\x20'+_0x2fa9a3);}catch{this[_0x4564bf(0xfa)][_0x4564bf(0x1ca)](this[_0x4564bf(0x1a8)]+'\x20('+this[_0x4564bf(0x245)][_0x4564bf(0x60f)]+_0x4564bf(0x50f)+_0x4e7c23+':\x20'+_0x2fa9a3);}if(_0x5e473b&&_0xe87d82)try{await X[_0x4564bf(0x487)][_0x4564bf(0x358)]({'baseURL':_0xe87d82})[_0x4564bf(0x444)]('',{'event':_0x4e7c23,'instance':this[_0x4564bf(0x245)][_0x4564bf(0x21a)],'apikey':this[_0x4564bf(0x245)][_0x4564bf(0x6a8)],'data':_0x5d123f}),this[_0x4564bf(0xfa)][_0x4564bf(0x2b5)](this[_0x4564bf(0x1a8)]+'\x20('+this[_0x4564bf(0x245)][_0x4564bf(0x60f)]+_0x4564bf(0x4e6)+_0x4e7c23+':\x20'+_0xe87d82);}catch{this[_0x4564bf(0xfa)][_0x4564bf(0x1ca)](this[_0x4564bf(0x1a8)]+'\x20('+this[_0x4564bf(0x245)][_0x4564bf(0x60f)]+_0x4564bf(0x231)+_0x4e7c23+':\x20'+_0xe87d82);}}async[a0_0x3eb0d8(0x528)]({qr:_0x162f29,connection:_0x3de038,lastDisconnect:_0x31f4f4}){const _0x80bf6b=a0_0x3eb0d8;if(_0x162f29){if(this[_0x80bf6b(0x245)][_0x80bf6b(0x169)][_0x80bf6b(0x44c)]===Do)return this[_0x80bf6b(0x35e)](_0x80bf6b(0x710),{'message':_0x80bf6b(0x7d7),'statusCode':w[_0x80bf6b(0x382)]['badSession']}),this[_0x80bf6b(0x645)]={'state':_0x80bf6b(0x53c),'statusReason':w[_0x80bf6b(0x382)]['connectionClosed']},this[_0x80bf6b(0x35e)](_0x80bf6b(0x7c5),{'instance':this[_0x80bf6b(0x245)]['name'],...this['stateConnection']}),this[_0x80bf6b(0x35e)](_0x80bf6b(0x4f3),{'instance':this[_0x80bf6b(0x245)]['name'],'status':_0x80bf6b(0x316)}),this[_0x80bf6b(0x4f1)][_0x80bf6b(0x61b)]['delete'](this[_0x80bf6b(0x245)][_0x80bf6b(0x21a)]),this[_0x80bf6b(0x558)]=!0x0,ae[_0x80bf6b(0x62c)](W,this[_0x80bf6b(0x245)][_0x80bf6b(0x21a)]),this[_0x80bf6b(0x697)][_0x80bf6b(0x7ad)]('no.connection',this['instance'][_0x80bf6b(0x21a)]);this[_0x80bf6b(0x245)][_0x80bf6b(0x169)][_0x80bf6b(0x44c)]++;let _0x59a4d6={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x80bf6b(0x2df)}};Ii[_0x80bf6b(0x487)]['toDataURL'](_0x162f29,_0x59a4d6,(_0xa30038,_0xa4a8eb)=>{const _0x37d7a6=_0x80bf6b;if(_0xa30038){this['logger']['error'](this[_0x37d7a6(0x1a8)]+'\x20('+this['instance']['wuid']+_0x37d7a6(0x29a)+(_0xa30038 instanceof Error?_0xa30038[_0x37d7a6(0x3a7)]:JSON[_0x37d7a6(0x1dc)](_0xa30038,null,0x2)));return;}this[_0x37d7a6(0x245)][_0x37d7a6(0x169)][_0x37d7a6(0x64b)]=_0xa4a8eb,this[_0x37d7a6(0x245)][_0x37d7a6(0x169)]['code']=_0x162f29,!this['phoneNumber']&&this[_0x37d7a6(0x35e)](_0x37d7a6(0x710),{'qrcode':{'instance':this[_0x37d7a6(0x245)]['name'],'pairingCode':this[_0x37d7a6(0x245)][_0x37d7a6(0x169)][_0x37d7a6(0x41b)],'code':_0x162f29,'base64':_0xa4a8eb}});}),this[_0x80bf6b(0x328)]?this[_0x80bf6b(0x245)]['qrcode']['pairingCode']||(await(0x0,w['delay'])(0x7d0),this[_0x80bf6b(0x245)][_0x80bf6b(0x169)][_0x80bf6b(0x41b)]=await this['client'][_0x80bf6b(0x467)](this[_0x80bf6b(0x328)])):this[_0x80bf6b(0x245)]['qrcode'][_0x80bf6b(0x41b)]=null,Ti[_0x80bf6b(0x487)][_0x80bf6b(0x811)](_0x162f29,{'small':!0x0},_0x4b9527=>this[_0x80bf6b(0xfa)][_0x80bf6b(0x2b5)](_0x80bf6b(0x6fc)+this[_0x80bf6b(0x245)][_0x80bf6b(0x21a)]+_0x80bf6b(0x3fb)+this['instance']['qrcode'][_0x80bf6b(0x44c)]+_0x80bf6b(0x675)+this[_0x80bf6b(0x245)][_0x80bf6b(0x169)]['pairingCode']+_0x80bf6b(0x66a)+_0x4b9527));}if(_0x3de038&&(this[_0x80bf6b(0x645)]={'state':_0x3de038,'statusReason':_0x31f4f4?.[_0x80bf6b(0x1ca)]?.[_0x80bf6b(0x25d)]?.[_0x80bf6b(0x60d)]??0xc8},this['sendDataWebhook'](_0x80bf6b(0x7c5),{'instance':this[_0x80bf6b(0x245)]['name'],...this[_0x80bf6b(0x645)]})),_0x3de038===_0x80bf6b(0x14d)){if(this['reconnectAttempts']++,this['reconnectTimestamps']['push'](Date['now']()),this[_0x80bf6b(0x359)]=this[_0x80bf6b(0x359)][_0x80bf6b(0x1d9)](_0x4ee47e=>Date[_0x80bf6b(0x117)]()-_0x4ee47e<this[_0x80bf6b(0x1a0)]),_0x31f4f4[_0x80bf6b(0x1ca)]?.[_0x80bf6b(0x25d)]?.[_0x80bf6b(0x60d)]!==w['DisconnectReason'][_0x80bf6b(0x775)]){let _0x20a0c3=this[_0x80bf6b(0x28a)]<=0x1?0x0:Math['min'](Math['pow'](0x2,this[_0x80bf6b(0x28a)]-0x1)*0x3e8,0x493e0);console[_0x80bf6b(0x2b5)](this['instanceName']+_0x80bf6b(0x6cc)+this[_0x80bf6b(0x28a)]+_0x80bf6b(0x1ec)+_0x20a0c3/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x2fa851=>setTimeout(_0x2fa851,_0x20a0c3)),console[_0x80bf6b(0x2b5)](_0x80bf6b(0x162)),await this['connectToWhatsapp']();}else{this[_0x80bf6b(0x35e)](_0x80bf6b(0x4f3),{'instance':this['instance']['name'],'status':_0x80bf6b(0x316)}),this['instance'][_0x80bf6b(0x297)]['isConnected']=!0x1,this[_0x80bf6b(0x4f1)]['webhook']['delete'](this['instanceName']),this['repository'][_0x80bf6b(0x61b)][_0x80bf6b(0x358)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x80bf6b(0x117)]()},this[_0x80bf6b(0x245)][_0x80bf6b(0x21a)]),ae[_0x80bf6b(0x62c)](W,this[_0x80bf6b(0x245)][_0x80bf6b(0x21a)]);try{this[_0x80bf6b(0xfa)]['verbose'](this[_0x80bf6b(0x1a8)]+'\x20('+this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)]+_0x80bf6b(0x26e));let _0x184bd1=await this[_0x80bf6b(0x4f1)][_0x80bf6b(0x3a7)][_0x80bf6b(0x68f)](this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)]);_0x184bd1[_0x80bf6b(0x606)]?this['logger'][_0x80bf6b(0x671)](this[_0x80bf6b(0x1a8)]+'\x20('+this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)]+_0x80bf6b(0x6b8)):this[_0x80bf6b(0xfa)][_0x80bf6b(0x1ca)](_0x80bf6b(0x497)+_0x184bd1[_0x80bf6b(0x1ca)]);}catch(_0x21cfab){this[_0x80bf6b(0xfa)][_0x80bf6b(0x1ca)](_0x80bf6b(0x2dd)+_0x21cfab[_0x80bf6b(0x3a7)]);}this[_0x80bf6b(0x245)][_0x80bf6b(0x297)][_0x80bf6b(0x45f)]!==null&&(this[_0x80bf6b(0xfa)]['verbose'](this[_0x80bf6b(0x1a8)]+'\x20('+this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)]+_0x80bf6b(0x3c1)),clearInterval(this[_0x80bf6b(0x245)]['ScheduleMessage'][_0x80bf6b(0x45f)]),this[_0x80bf6b(0x245)][_0x80bf6b(0x297)][_0x80bf6b(0x45f)]=null),this[_0x80bf6b(0xfa)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x80bf6b(0x60f)]+'):\x20Limpando\x20AutomateSystem'),this[_0x80bf6b(0x521)]=null,this['eventEmitter']['emit']('remove.instance',this[_0x80bf6b(0x245)][_0x80bf6b(0x21a)],_0x80bf6b(0x7da)),this[_0x80bf6b(0x1d3)]?.['ws']?.[_0x80bf6b(0x14d)](),this[_0x80bf6b(0x1d3)][_0x80bf6b(0x6d7)](new Error(_0x80bf6b(0x5d2)));}}if(_0x3de038===_0x80bf6b(0x156)){this[_0x80bf6b(0xfa)][_0x80bf6b(0x4cd)](this[_0x80bf6b(0x1a8)]+'\x20('+this[_0x80bf6b(0x245)]['wuid']+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x80bf6b(0x1d3)][_0x80bf6b(0x303)]['creds']?.['myAppStateKeyId']),this[_0x80bf6b(0x1d3)]['authState'][_0x80bf6b(0x228)]?.[_0x80bf6b(0x5d4)]||(this[_0x80bf6b(0xfa)][_0x80bf6b(0x4cd)](this[_0x80bf6b(0x1a8)]+'\x20('+this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)]+_0x80bf6b(0x1e7)),this['client']['ev'][_0x80bf6b(0x1f7)]()),this[_0x80bf6b(0x70c)],this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)]=this[_0x80bf6b(0x1d3)][_0x80bf6b(0x2f8)]['id'][_0x80bf6b(0x67e)](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x80bf6b(0x245)][_0x80bf6b(0x502)]=(await this[_0x80bf6b(0x1e2)](this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)]+_0x80bf6b(0x748)))[_0x80bf6b(0x502)],this[_0x80bf6b(0x4f1)][_0x80bf6b(0x61b)][_0x80bf6b(0x358)]({'online':!0x0,'owner':this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)],'lastDisconnect':null},this['instance'][_0x80bf6b(0x21a)]);let _0x4ccbf2='Número:\x20'+this[_0x80bf6b(0x245)][_0x80bf6b(0x60f)],_0xd5b090=0x28,_0x5a77f7=Math[_0x80bf6b(0x192)]((_0xd5b090-_0x4ccbf2[_0x80bf6b(0x75f)])/0x2),_0x423ea7='\x20'[_0x80bf6b(0x4fe)](_0x5a77f7),_0x1068ed='CONECTADO\x20À\x20UAZAPI',_0x5ec3a5=_0x80bf6b(0x212)+this[_0x80bf6b(0x245)][_0x80bf6b(0x21a)],_0xd76557=(''+_0x423ea7+_0x4ccbf2+_0x423ea7)[_0x80bf6b(0x71b)](_0xd5b090,'\x20'),_0x3b9623=(''+_0x423ea7+_0x1068ed+_0x423ea7)[_0x80bf6b(0x71b)](_0xd5b090,'\x20'),_0x2ea692=(''+_0x423ea7+_0x5ec3a5+_0x423ea7)[_0x80bf6b(0x71b)](_0xd5b090,'\x20'),_0x35698b=Math[_0x80bf6b(0x57e)](_0xd76557[_0x80bf6b(0x75f)],_0x3b9623[_0x80bf6b(0x75f)],_0x2ea692[_0x80bf6b(0x75f)]),_0x4d531c=_0xd76557['padEnd'](_0x35698b,'\x20'),_0x51c491=_0x3b9623[_0x80bf6b(0x71b)](_0x35698b,'\x20'),_0x372944=_0x2ea692[_0x80bf6b(0x71b)](_0x35698b,'\x20');this[_0x80bf6b(0xfa)][_0x80bf6b(0xe3)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0x35698b)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x51c491+_0x80bf6b(0x498)+_0x372944+_0x80bf6b(0x498)+_0x4d531c+_0x80bf6b(0x6a3)+'─'[_0x80bf6b(0x4fe)](_0x35698b)+'┘')[_0x80bf6b(0x67e)](/^ +/gm,'\x20\x20')),this[_0x80bf6b(0x6bb)](),this[_0x80bf6b(0x245)][_0x80bf6b(0x297)][_0x80bf6b(0x6e0)]=!0x0;}}[a0_0x3eb0d8(0x70c)](){const _0x1a7138=a0_0x3eb0d8;this[_0x1a7138(0x28a)]=0x0,this[_0x1a7138(0x359)]=[];}async[a0_0x3eb0d8(0x253)](_0x3d5a8e,_0x210f8e=!0x1){const _0x3800c7=a0_0x3eb0d8;try{let _0x14e38d=await this[_0x3800c7(0x4f1)][_0x3800c7(0x3a7)][_0x3800c7(0x551)]({'where':{'_id':_0x3d5a8e['id']}},this['instance'][_0x3800c7(0x60f)]);return _0x210f8e?_0x14e38d[0x0]:_0x14e38d[0x0][_0x3800c7(0x3a7)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x41703a=a0_0x3eb0d8;let _0x54cb6c=this[_0x41703a(0x801)][_0x41703a(0x439)](_0x41703a(0x2a3)),_0x18aae8=this[_0x41703a(0x801)]['get'](_0x41703a(0x703));_0x54cb6c?.[_0x41703a(0x455)]&&!_0x18aae8[_0x41703a(0x4c9)]&&setInterval(()=>{const _0x49e189=_0x41703a;try{for(let [_0x2f651b,_0x554aae]of Object[_0x49e189(0x565)](_0x54cb6c))_0x554aae===!0x0&&(0x0,Le[_0x49e189(0x7bd)])('rm\x20-rf\x20'+(0x0,U[_0x49e189(0x633)])(this[_0x49e189(0x259)],_0x2f651b[_0x49e189(0x20b)](),this[_0x49e189(0x245)][_0x49e189(0x60f)])+'/*.json');}catch{}},(_0x54cb6c?.[_0x41703a(0x455)]??0xe10)*0x3e8);}async[a0_0x3eb0d8(0x491)](){const _0x262711=a0_0x3eb0d8;let _0x811f4a=this[_0x262711(0x801)][_0x262711(0x439)]('DATABASE'),_0x299961=this['configService']['get']('REDIS');return _0x299961?.[_0x262711(0x4c9)]?await Ts(_0x299961,this[_0x262711(0x245)][_0x262711(0x21a)]):_0x811f4a['ENABLED']?await Is(this[_0x262711(0x245)][_0x262711(0x21a)]):await(0x0,w[_0x262711(0x7e3)])((0x0,U['join'])(be,this[_0x262711(0x245)][_0x262711(0x21a)]));}async['AutomateFunctions'](){const _0x564f29=a0_0x3eb0d8;let _0x467968=()=>Math[_0x564f29(0x192)](Math[_0x564f29(0x5c1)]()*0x4e21)+0x7d0,_0xef0653=async()=>{const _0x477341=_0x564f29;if(!this['instance'][_0x477341(0x297)][_0x477341(0x6e0)]){this[_0x477341(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x477341(0x245)]['wuid']+_0x477341(0x2fc)),this[_0x477341(0xf7)]=!0x1;return;}if(this[_0x477341(0x245)][_0x477341(0x60f)]&&this[_0x477341(0x521)]&&this[_0x477341(0x245)][_0x477341(0x297)][_0x477341(0x45f)]!==null&&this[_0x477341(0x245)][_0x477341(0x297)]['delayMessage']!==void 0x0){let _0x2bbcc5=Math[_0x477341(0x4fc)](this[_0x477341(0x245)][_0x477341(0x297)][_0x477341(0x45f)]/0xea60);this[_0x477341(0xfa)][_0x477341(0x671)](this[_0x477341(0x1a8)]+'\x20('+this['instance']['wuid']+_0x477341(0xc2)+_0x2bbcc5+_0x477341(0x36a)),this[_0x477341(0xf7)]=!0x1;return;}else this['instance'][_0x477341(0x60f)]&&(this[_0x477341(0xfa)][_0x477341(0x671)](this[_0x477341(0x1a8)]+'\x20('+this['instance'][_0x477341(0x60f)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x477341(0x521)]||(await this[_0x477341(0x25b)](),this[_0x477341(0x180)](),this[_0x477341(0x7f0)]()),(this[_0x477341(0x245)][_0x477341(0x297)][_0x477341(0x45f)]===null||this['instance'][_0x477341(0x297)][_0x477341(0x45f)]===void 0x0)&&await this[_0x477341(0x3da)]());if(this[_0x477341(0xf7)]){let _0x2fff1e=_0x467968();this['logger']['verbose'](this[_0x477341(0x1a8)]+_0x477341(0x4bb)+_0x2fff1e/0x3e8+_0x477341(0x753)),setTimeout(_0xef0653,_0x2fff1e);}};if(this[_0x564f29(0xf7)])return;this[_0x564f29(0xf7)]=!0x0;let _0x5cfcc2=_0x467968();setTimeout(_0xef0653,_0x5cfcc2);}async[a0_0x3eb0d8(0x7f0)](){const _0x27203e=a0_0x3eb0d8;let _0x57e3f9=this[_0x27203e(0x245)][_0x27203e(0x60f)];try{let _0x2e7e83=await this['repository'][_0x27203e(0x800)][_0x27203e(0x5bc)]({'where':{'$or':[{'owner':_0x57e3f9},{'whoCanUse':{'$in':[_0x57e3f9]}},{'shareOwners':{'$in':[_0x57e3f9]}}]}}),_0xed47c2=new Map(this[_0x27203e(0x521)][_0x27203e(0x66d)][_0x27203e(0x437)](_0x22a440=>[_0x22a440['_id'],_0x22a440])),_0x4d1ef8=_0x2e7e83[_0x27203e(0x437)](_0x57f6f1=>{const _0x3275ea=_0x27203e;let _0x2ada96=_0xed47c2[_0x3275ea(0x439)](_0x57f6f1[_0x3275ea(0x36f)]?.['toString']());return{'_id':_0x57f6f1['_id']?.[_0x3275ea(0x121)](),'name':_0x2ada96?.[_0x3275ea(0x21a)]??_0x57f6f1['name'],'default':_0x2ada96?.['default']??_0x57f6f1['default']??!0x1,'startCommand':_0x2ada96?.['startCommand']??_0x57f6f1[_0x3275ea(0x2a7)],'minutesToClose':_0x2ada96?.[_0x3275ea(0x286)]??_0x57f6f1[_0x3275ea(0x286)]??0xa,'readMessages':_0x2ada96?.[_0x3275ea(0x360)]??_0x57f6f1[_0x3275ea(0x360)]??!0x1,'testingWith':_0x2ada96?.[_0x3275ea(0x3d9)]??_0x57f6f1[_0x3275ea(0x3d9)],'canEdit':_0x57f6f1[_0x3275ea(0x4d0)]===_0x57e3f9||(_0x57f6f1[_0x3275ea(0x767)]??[])[_0x3275ea(0x5d6)](_0x57e3f9),'usersCount':(_0x57f6f1[_0x3275ea(0x2ea)]??[])['length']??0x0};}),_0x47bff4=!0x1;_0x4d1ef8[_0x27203e(0x16b)](_0x5e9bb4=>{const _0x5cee38=_0x27203e;_0x5e9bb4['default']&&(_0x47bff4?_0x5e9bb4[_0x5cee38(0x487)]=!0x1:_0x47bff4=!0x0);}),this['AutomateSystem'][_0x27203e(0x66d)]=_0x4d1ef8;let _0x5f3b56={'flows':_0x4d1ef8};return await this[_0x27203e(0x4f1)]['automateSystem']['update'](_0x5f3b56,_0x57e3f9),this[_0x27203e(0xfa)][_0x27203e(0x671)](this[_0x27203e(0x1a8)]+'\x20('+_0x57e3f9+_0x27203e(0x233)),_0x4d1ef8[_0x27203e(0x75f)];}catch(_0x214bd5){return this[_0x27203e(0xfa)]['error'](this[_0x27203e(0x1a8)]+'\x20('+_0x57e3f9+_0x27203e(0x591)+(_0x214bd5 instanceof Error?_0x214bd5['message']:JSON[_0x27203e(0x1dc)](_0x214bd5,null,0x2))),{'message':_0x27203e(0x77b)+(_0x214bd5 instanceof Error?_0x214bd5[_0x27203e(0x3a7)]:JSON[_0x27203e(0x1dc)](_0x214bd5,null,0x2))};}}async['connectToWhatsapp'](_0x4a9d54){const _0x2c20e3=a0_0x3eb0d8;try{let _0x116534=await this['repository']['instance'][_0x2c20e3(0x657)]({'where':{'_id':W+'-'+this[_0x2c20e3(0x1a8)]}}),_0x406ced,_0x2a7284=!ae[_0x2c20e3(0x45a)]||!ae[_0x2c20e3(0x471)];console['log'](_0x2c20e3(0x7df)),console[_0x2c20e3(0x2b5)](_0x2c20e3(0x4c6),Ri),console[_0x2c20e3(0x2b5)]('this.reconnectAttempts:\x20',this[_0x2c20e3(0x28a)]),console[_0x2c20e3(0x2b5)]('--------------------------------------'),Ri&&!_0x2a7284&&(this[_0x2c20e3(0x28a)]<0x4||!this[_0x2c20e3(0x28a)]?_0x116534&&_0x116534['ip']?(_0x406ced=_0x116534['ip'],console['log'](_0x2c20e3(0x33a)+_0x406ced)):(_0x406ced=await ae[_0x2c20e3(0x1fb)](W,this[_0x2c20e3(0x245)][_0x2c20e3(0x21a)]),_0x406ced?(console['log'](_0x2c20e3(0x342)+_0x406ced),await(0x0,w['delay'])(0x7d0)):console['error'](_0x2c20e3(0x523))):this[_0x2c20e3(0x28a)]<0x6&&(await ae[_0x2c20e3(0x62c)](W,this[_0x2c20e3(0x245)][_0x2c20e3(0x21a)]),console['log']('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x406ced=await ae[_0x2c20e3(0x1fb)](W,this[_0x2c20e3(0x245)][_0x2c20e3(0x21a)]),_0x406ced?(console[_0x2c20e3(0x2b5)](_0x2c20e3(0x342)+_0x406ced),await(0x0,w['delay'])(0x7d0)):console[_0x2c20e3(0x1ca)](_0x2c20e3(0x6e7)))),this[_0x2c20e3(0x749)](),this[_0x2c20e3(0x245)][_0x2c20e3(0x6a8)]=(await this['repository'][_0x2c20e3(0x61b)][_0x2c20e3(0x551)](this[_0x2c20e3(0x245)]['name']))[_0x2c20e3(0x6a8)],this['instance']['authState']=await this[_0x2c20e3(0x491)]();let {version:_0x5600e6}=await(0x0,w[_0x2c20e3(0x5d5)])(),_0x5d4b08=[_i,ks,(0x0,xs[_0x2c20e3(0x56e)])()],_0x496928={'localAddress':_0x406ced,'auth':{'creds':this[_0x2c20e3(0x245)][_0x2c20e3(0x303)][_0x2c20e3(0x620)][_0x2c20e3(0x228)],'keys':(0x0,w[_0x2c20e3(0x824)])(this[_0x2c20e3(0x245)][_0x2c20e3(0x303)]['state'][_0x2c20e3(0x130)],(0x0,Ft[_0x2c20e3(0x487)])({'level':_0x2c20e3(0x1ca)}))},'logger':(0x0,Ft[_0x2c20e3(0x487)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x4a9d54?[_0x2c20e3(0x26f),ks,(0x0,xs['release'])()]:_0x5d4b08,'version':_0x5600e6,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x5f52e9=>{const _0x140343=_0x2c20e3;let _0xa057f0=this['localWebhook']?.[_0x140343(0x125)]&&(0x0,w[_0x140343(0x7d1)])(_0x5f52e9);return(0x0,w[_0x140343(0x51b)])(_0x5f52e9)||_0xa057f0;},'msgRetryCounterCache':this[_0x2c20e3(0x48a)],'getMessage':async _0x1ce27d=>await this['getMessage'](_0x1ce27d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2c20e3(0x3c3)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x102955){const _0x1efba5=_0x2c20e3;return _0x102955[_0x1efba5(0x7d5)]?.[_0x1efba5(0x3a7)]?.['listMessage']?.[_0x1efba5(0x682)]===w[_0x1efba5(0x230)][_0x1efba5(0x47c)]['ListMessage'][_0x1efba5(0x236)][_0x1efba5(0x5df)]&&(_0x102955=JSON[_0x1efba5(0x814)](JSON['stringify'](_0x102955)),_0x102955[_0x1efba5(0x7d5)][_0x1efba5(0x3a7)][_0x1efba5(0xec)][_0x1efba5(0x682)]=w['proto'][_0x1efba5(0x47c)][_0x1efba5(0x475)][_0x1efba5(0x236)][_0x1efba5(0x1c7)]),_0x102955[_0x1efba5(0xec)]?.[_0x1efba5(0x682)]==w[_0x1efba5(0x230)][_0x1efba5(0x47c)][_0x1efba5(0x475)][_0x1efba5(0x236)][_0x1efba5(0x5df)]&&(_0x102955=JSON['parse'](JSON['stringify'](_0x102955)),_0x102955[_0x1efba5(0xec)]['listType']=w[_0x1efba5(0x230)][_0x1efba5(0x47c)][_0x1efba5(0x475)][_0x1efba5(0x236)]['SINGLE_SELECT']),_0x102955;}};return this[_0x2c20e3(0x558)]=!0x1,this[_0x2c20e3(0x1d3)]=(0x0,w[_0x2c20e3(0x487)])(_0x496928),this[_0x2c20e3(0x688)](),this[_0x2c20e3(0x328)]=_0x4a9d54,this['client'];}catch(_0x27da9a){let _0x34d7e7=_0x2c20e3(0x425),_0x2ac389=_0x27da9a instanceof Error?_0x27da9a[_0x2c20e3(0x3a7)]:typeof _0x27da9a==_0x2c20e3(0x1a5)?JSON[_0x2c20e3(0x1dc)](_0x27da9a):_0x27da9a,_0x33c9b3=_0x34d7e7+':\x20'+_0x2ac389;throw this[_0x2c20e3(0xfa)][_0x2c20e3(0x1ca)](this[_0x2c20e3(0x1a8)]+'\x20('+this['instance'][_0x2c20e3(0x60f)]+_0x2c20e3(0x2fb)+_0x33c9b3),console[_0x2c20e3(0x1ca)](_0x2c20e3(0x63f),_0x27da9a),_0x27da9a instanceof Error&&console[_0x2c20e3(0x1ca)](_0x2c20e3(0x5e3),_0x27da9a[_0x2c20e3(0x345)]),new x(_0x33c9b3);}}['eventHandler'](){const _0x1276b5=a0_0x3eb0d8;this[_0x1276b5(0x1d3)]['ev'][_0x1276b5(0x27f)](_0x5e529e=>{const _0x8b4fb2=_0x1276b5;if(!this[_0x8b4fb2(0x558)]){let _0x408a6d=this[_0x8b4fb2(0x801)][_0x8b4fb2(0x439)](_0x8b4fb2(0x703));if(_0x5e529e[_0x8b4fb2(0x512)]){let _0xa17033=_0x5e529e['labels.edit'];this[_0x8b4fb2(0x2e5)][_0x8b4fb2(0x512)](_0xa17033);}if(_0x5e529e[_0x8b4fb2(0x1f0)]){let _0x144c70=_0x5e529e[_0x8b4fb2(0x1f0)];this[_0x8b4fb2(0x2e5)][_0x8b4fb2(0x1f0)](_0x144c70);}if(_0x5e529e[_0x8b4fb2(0x7c5)]&&this[_0x8b4fb2(0x528)](_0x5e529e[_0x8b4fb2(0x7c5)]),_0x5e529e[_0x8b4fb2(0x152)]&&this[_0x8b4fb2(0x245)][_0x8b4fb2(0x303)][_0x8b4fb2(0x2be)](),_0x5e529e['messaging-history.set']){let _0x524ca3=_0x5e529e[_0x8b4fb2(0x159)];this[_0x8b4fb2(0x2e5)][_0x8b4fb2(0x159)](_0x524ca3,_0x408a6d);}if(_0x5e529e['messages.upsert']){let _0x2f4b58=_0x5e529e[_0x8b4fb2(0x376)];this[_0x8b4fb2(0x2e5)][_0x8b4fb2(0x376)](_0x2f4b58,_0x408a6d);}if(_0x5e529e[_0x8b4fb2(0x2b4)]){let _0x51567f=_0x5e529e[_0x8b4fb2(0x2b4)];this[_0x8b4fb2(0x2e5)][_0x8b4fb2(0x2b4)](_0x51567f,_0x408a6d);}if(_0x5e529e[_0x8b4fb2(0x7ae)]){let _0x59af91=_0x5e529e[_0x8b4fb2(0x7ae)];if(this[_0x8b4fb2(0x4c2)]?.[_0x8b4fb2(0x125)]&&_0x59af91['id'][_0x8b4fb2(0x5d6)]('@g.us'))return;this[_0x8b4fb2(0x35e)](_0x8b4fb2(0x7ae),_0x59af91);}if(_0x5e529e[_0x8b4fb2(0x3d6)]){let _0x4b789d=_0x5e529e[_0x8b4fb2(0x3d6)];this[_0x8b4fb2(0x298)]['groups.upsert'](_0x4b789d);}if(_0x5e529e[_0x8b4fb2(0x5fd)]){let _0x134808=_0x5e529e[_0x8b4fb2(0x5fd)];this[_0x8b4fb2(0x298)][_0x8b4fb2(0x5fd)](_0x134808);}if(_0x5e529e[_0x8b4fb2(0x795)]){let _0x3600dc=_0x5e529e[_0x8b4fb2(0x795)];this[_0x8b4fb2(0x298)][_0x8b4fb2(0x795)](_0x3600dc);}if(_0x5e529e[_0x8b4fb2(0x52c)]){let _0x331d6c=_0x5e529e[_0x8b4fb2(0x52c)];this['chatHandle'][_0x8b4fb2(0x52c)](_0x331d6c,_0x408a6d);}if(_0x5e529e['chats.update']){let _0x285054=_0x5e529e[_0x8b4fb2(0xc6)];this[_0x8b4fb2(0x217)]['chats.update'](_0x285054,_0x408a6d);}if(_0x5e529e[_0x8b4fb2(0x1f5)]){let _0x46dbbb=_0x5e529e[_0x8b4fb2(0x1f5)];this[_0x8b4fb2(0x217)]['chats.delete'](_0x46dbbb);}if(_0x5e529e['contacts.upsert']){let _0x418124=_0x5e529e[_0x8b4fb2(0x607)];this[_0x8b4fb2(0x333)][_0x8b4fb2(0x607)](_0x418124,_0x408a6d);}if(_0x5e529e[_0x8b4fb2(0x166)]){let _0x206df7=_0x5e529e['contacts.update'];this['contactHandle'][_0x8b4fb2(0x166)](_0x206df7,_0x408a6d);}}});}async[a0_0x3eb0d8(0x5f8)](_0x479b5f,_0x21793e){const _0x29b8b0=a0_0x3eb0d8;if(_0x21793e>=0xa){console[_0x29b8b0(0x1ca)](this[_0x29b8b0(0x1a8)]+'\x20('+this[_0x29b8b0(0x245)][_0x29b8b0(0x60f)]+_0x29b8b0(0x588)),delete Lt[_0x479b5f['key']['id']];return;}try{console['error'](this[_0x29b8b0(0x1a8)]+'\x20('+this[_0x29b8b0(0x245)][_0x29b8b0(0x60f)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x21793e+0x1)),await this[_0x29b8b0(0x1d3)][_0x29b8b0(0x6b0)](JSON[_0x29b8b0(0x814)](_0x479b5f['messageStubParameters'][0x1],w[_0x29b8b0(0x11b)][_0x29b8b0(0x722)])),console[_0x29b8b0(0x1ca)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x4489c4){console[_0x29b8b0(0x1ca)](this[_0x29b8b0(0x1a8)]+'\x20('+this[_0x29b8b0(0x245)]['wuid']+_0x29b8b0(0x3e1)+_0x4489c4),setTimeout(()=>this[_0x29b8b0(0x5f8)](_0x479b5f,_0x21793e+0x1),Math[_0x29b8b0(0x644)](0x2,_0x21793e)*0x3e8);}}[a0_0x3eb0d8(0xf5)](_0x48d5fc){return new Promise(_0xe01df1=>setTimeout(_0xe01df1,_0x48d5fc));}['formatBRNumber'](_0x524e71){const _0x38700e=a0_0x3eb0d8;_0x524e71=_0x524e71[_0x38700e(0x67e)](/\D/g,'');let _0x48bb5b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x524e71);if(_0x48bb5b&&_0x48bb5b[0x1]==='55'){let _0x5ae8a9=_0x48bb5b[0x2],_0x5ece57=_0x48bb5b[0x3],_0x139b76=_0x48bb5b[0x4];if(parseInt(_0x5ae8a9)>=0x1f&&_0x5ece57==='9')return _0x48bb5b[0x1]+_0x5ae8a9+_0x139b76;}return _0x524e71;}[a0_0x3eb0d8(0x4e2)](_0x556a50){const _0xdb27a6=a0_0x3eb0d8;return _0x556a50['includes']('@g.us')||_0x556a50[_0xdb27a6(0x5d6)](_0xdb27a6(0x748))||_0x556a50[_0xdb27a6(0x5d6)](_0xdb27a6(0x5a1))?_0x556a50:(_0x556a50=_0x556a50?.[_0xdb27a6(0x67e)](/\s/g,'')[_0xdb27a6(0x67e)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')[_0xdb27a6(0x766)](/\:/)[0x0]['split']('@')[0x0],_0x556a50[_0xdb27a6(0x75f)]>=0x12?(_0x556a50=_0x556a50[_0xdb27a6(0x67e)](/[^\d-]/g,''),_0x556a50+_0xdb27a6(0x481)):(_0x556a50=_0x556a50[_0xdb27a6(0x67e)](/\D/g,''),_0x556a50+_0xdb27a6(0x748)));}async[a0_0x3eb0d8(0x50b)](_0xf491e7){const _0x156b01=a0_0x3eb0d8;let _0x5e3a87=(await this['whatsappNumber']({'numbers':[_0xf491e7[_0x156b01(0x438)]]}))[0x0];if(!_0x5e3a87['exists']&&!(0x0,w[_0x156b01(0x7d1)])(_0x5e3a87[_0x156b01(0x417)])&&!_0x5e3a87[_0x156b01(0x417)][_0x156b01(0x5d6)](_0x156b01(0x5a1)))throw new m(_0x5e3a87);let _0x15dcb7=_0x5e3a87[_0x156b01(0x417)];try{return await this[_0x156b01(0x1d3)]['presenceSubscribe'](_0x15dcb7),await this[_0x156b01(0x1d3)][_0x156b01(0x5ba)](_0xf491e7[_0x156b01(0x4e7)],_0x15dcb7),{'status':0xc8,'presence':_0xf491e7[_0x156b01(0x4e7)]};}catch(_0x4b3a2f){let _0x3cd566='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x1b2196=_0x4b3a2f instanceof Error?_0x4b3a2f[_0x156b01(0x3a7)]:typeof _0x4b3a2f==_0x156b01(0x1a5)?JSON[_0x156b01(0x1dc)](_0x4b3a2f):_0x4b3a2f,_0xec7438=_0x3cd566+':\x20'+_0x1b2196;throw this[_0x156b01(0xfa)][_0x156b01(0x1ca)](this[_0x156b01(0x1a8)]+'\x20('+this[_0x156b01(0x245)][_0x156b01(0x60f)]+_0x156b01(0x2fb)+_0xec7438),new m(_0xec7438);}}async[a0_0x3eb0d8(0x6af)](_0x2690be,_0x35c686,_0x5e4be0,_0x553a09=!0x0){const _0x535605=a0_0x3eb0d8;let _0x2aba68=await this[_0x535605(0x4f1)]['cacheContact']['findOne']({'where':{'_id':_0x2690be}});if(!_0x2aba68&&!_0x553a09)return;let _0x49dd6d={'lastUpdate':Date[_0x535605(0x117)]()};if(_0x5e4be0||!_0x2aba68?.[_0x535605(0x790)]||Date[_0x535605(0x117)]()-_0x2aba68[_0x535605(0x790)]>0x18*0x3c*0x3c*0x3e8)try{let _0x5a2803=(await this[_0x535605(0x1e2)](_0x2690be))[_0x535605(0x502)];_0x49dd6d['pictureUrl']=_0x5a2803;}catch(_0x2c1ce7){let _0x113bdb=_0x535605(0x262),_0x3fc137=_0x2c1ce7 instanceof Error?_0x2c1ce7['message']:typeof _0x2c1ce7==_0x535605(0x1a5)?JSON[_0x535605(0x1dc)](_0x2c1ce7):_0x2c1ce7,_0x109beb=_0x113bdb+':\x20'+_0x3fc137;throw this[_0x535605(0xfa)][_0x535605(0x1ca)](this[_0x535605(0x1a8)]+'\x20('+this[_0x535605(0x245)]['wuid']+_0x535605(0x2fb)+_0x109beb),new m(_0x109beb);}return _0x35c686&&_0x2aba68?.[_0x535605(0x21a)]!==_0x35c686&&(_0x49dd6d[_0x535605(0x21a)]=_0x35c686),Object[_0x535605(0x130)](_0x49dd6d)[_0x535605(0x75f)]>0x1&&(_0x2aba68?await this[_0x535605(0x4f1)][_0x535605(0x2fd)][_0x535605(0x670)]({'where':{'_id':_0x2690be}},_0x49dd6d):await this[_0x535605(0x4f1)]['cacheContact'][_0x535605(0x763)]([{'_id':_0x2690be,..._0x49dd6d}]),_0x2aba68={..._0x2aba68,..._0x49dd6d}),{'cachedContact':_0x2aba68};}async[a0_0x3eb0d8(0x1e2)](_0x550806){const _0x1d5ddf=a0_0x3eb0d8;let _0x3848a7=this['createJid'](_0x550806);try{return{'wuid':_0x3848a7,'profilePictureUrl':await this[_0x1d5ddf(0x1d3)][_0x1d5ddf(0x502)](_0x3848a7,_0x1d5ddf(0x1ff))};}catch{return{'wuid':_0x3848a7,'profilePictureUrl':null};}}async[a0_0x3eb0d8(0x2ec)](_0x1b489f,_0x3035ad,_0x467ba6){const _0x24373d=a0_0x3eb0d8;let _0x36346;try{let _0x38337a=(await this[_0x24373d(0x825)]({'numbers':[_0x1b489f]}))?.['shift']();if(!_0x38337a[_0x24373d(0x788)]&&!(0x0,w['isJidGroup'])(_0x38337a[_0x24373d(0x417)])&&!_0x38337a[_0x24373d(0x417)][_0x24373d(0x5d6)](_0x24373d(0x5a1)))throw new m(_0x38337a);_0x36346=_0x38337a[_0x24373d(0x417)];}catch(_0x205f27){_0x36346=_0x1b489f,this['logger'][_0x24373d(0x4cd)](this['instanceName']+'\x20('+this['instance'][_0x24373d(0x60f)]+_0x24373d(0x700)+_0x205f27[_0x24373d(0x3a7)]),this[_0x24373d(0xfa)][_0x24373d(0x4cd)](this[_0x24373d(0x1a8)]+'\x20('+this[_0x24373d(0x245)][_0x24373d(0x60f)]+_0x24373d(0x6bf)+_0x36346);}try{if(_0x36346||(_0x36346=_0x1b489f,this[_0x24373d(0xfa)]['warn'](this['instanceName']+'\x20('+this[_0x24373d(0x245)][_0x24373d(0x60f)]+_0x24373d(0x6f3)+_0x36346)),_0x467ba6||(_0x467ba6={}),_0x467ba6?.[_0x24373d(0x7a2)]){await this[_0x24373d(0x1d3)][_0x24373d(0x58f)](_0x36346),await this['client'][_0x24373d(0x5ba)](_0x467ba6?.['presence']??'composing',_0x36346);let _0x17ae11=Math['min'](_0x467ba6[_0x24373d(0x7a2)],0x2710);await(0x0,w[_0x24373d(0x7a2)])(_0x17ae11),await this['client'][_0x24373d(0x5ba)](_0x24373d(0x416),_0x36346);}let _0x44c50a=_0x467ba6?.[_0x24373d(0x16a)]!=!0x1?void 0x0:!0x1,_0x30fd3f;if(_0x467ba6?.[_0x24373d(0x102)]){let _0x5c187b=_0x467ba6?.['quoted'],_0x52d4dd=_0x5c187b?.['message']?_0x5c187b:await this['getMessage'](_0x5c187b[_0x24373d(0x33c)],!0x0);_0x52d4dd&&(_0x30fd3f=_0x52d4dd);}let _0x2ad1ad=await this[_0x24373d(0x4f1)][_0x24373d(0x215)][_0x24373d(0x657)]({'where':{'_id':_0x36346}},this[_0x24373d(0x245)][_0x24373d(0x60f)]),_0x2eada8,_0xb46565=null;if((0x0,w[_0x24373d(0x7d1)])(_0x36346))try{if(_0xb46565=_0x2ad1ad['groupdata'],!_0xb46565)throw new j(_0x24373d(0x7c8));_0x467ba6?.[_0x24373d(0x492)]&&(_0x467ba6[_0x24373d(0x492)]?.[_0x24373d(0x14c)]?_0x2eada8=_0xb46565['participants'][_0x24373d(0x437)](_0x4f2d58=>_0x4f2d58['id']):_0x467ba6['mentions']?.[_0x24373d(0x385)]?.[_0x24373d(0x75f)]&&(_0x2eada8=_0x467ba6[_0x24373d(0x492)]['mentioned'][_0x24373d(0x437)](_0x4c15db=>{const _0x106985=_0x24373d;let _0x2d0271=this[_0x106985(0x4e2)](_0x4c15db);return(0x0,w['isJidGroup'])(_0x2d0271)?null:_0x2d0271;})));}catch{throw new j(_0x24373d(0x7c8));}let _0xc8855c=await((async()=>{const _0xb1e85f=_0x24373d;let _0x4295dc={'quoted':_0x30fd3f,'ephemeralExpiration':_0x2ad1ad?.['ephemeralExpiration']??0x0};if(!_0x3035ad[_0xb1e85f(0x2db)]&&!_0x3035ad['poll']&&!_0x3035ad['sticker']&&!_0x3035ad[_0xb1e85f(0x723)]&&_0x36346!==_0xb1e85f(0x545)&&_0x3035ad['reactionMessage'])return await this[_0xb1e85f(0x1d3)][_0xb1e85f(0x751)](_0x36346,{'react':{'text':_0x3035ad[_0xb1e85f(0x5e0)]['text'],'key':_0x3035ad['reactionMessage'][_0xb1e85f(0x33c)]}},_0x4295dc);if(_0x3035ad[_0xb1e85f(0x723)]){let _0x8f450a=_0x3035ad[_0xb1e85f(0x723)];return _0x467ba6?.[_0xb1e85f(0x7ff)]&&(_0x8f450a=await this[_0xb1e85f(0x69f)](_0x8f450a,_0x36346)),await this[_0xb1e85f(0x1d3)][_0xb1e85f(0x751)](_0x36346,{'text':_0x8f450a,'mentions':_0x2eada8,'linkPreview':_0x44c50a},_0x4295dc);}return!_0x3035ad[_0xb1e85f(0x2db)]&&!_0x3035ad[_0xb1e85f(0x4c5)]&&_0x36346!=_0xb1e85f(0x545)?await this[_0xb1e85f(0x1d3)][_0xb1e85f(0x751)](_0x36346,{'forward':{'key':{'remoteJid':this[_0xb1e85f(0x245)]['wuid'],'fromMe':!0x0},'message':_0x3035ad},'mentions':_0x2eada8},_0x4295dc):_0x36346===_0xb1e85f(0x545)?await this[_0xb1e85f(0x1d3)][_0xb1e85f(0x751)](_0x36346,_0x3035ad[_0xb1e85f(0x226)][_0xb1e85f(0x260)],{'backgroundColor':_0x3035ad[_0xb1e85f(0x226)][_0xb1e85f(0x40f)]['backgroundColor'],'font':_0x3035ad[_0xb1e85f(0x226)]['option']['font'],'statusJidList':_0x3035ad[_0xb1e85f(0x226)]['option'][_0xb1e85f(0x774)]}):await this[_0xb1e85f(0x1d3)]['sendMessage'](_0x36346,_0x3035ad,_0x4295dc);})()),_0x3d26ba=(0x0,w['normalizeMessageContent'])(_0xc8855c[_0x24373d(0x3a7)]),_0x2eccbd=(0x0,w['getContentType'])(_0x3d26ba),{message_normalized:_0x2ccf0c}=this['normalizeMessage'](_0x3d26ba,_0x2eccbd,null),_0x465fba={'_id':_0xc8855c['key']['id'],'key':_0xc8855c['key'],'pushName':_0xc8855c['pushName'],'isGroup':_0xc8855c['key'][_0x24373d(0x3f6)][_0x24373d(0x13d)](_0x24373d(0x481)),'profilePictureUrl':this[_0x24373d(0x245)][_0x24373d(0x502)],'message':_0x3d26ba,'messageType':_0x2eccbd,'message_normalized':{'key':_0xc8855c[_0x24373d(0x33c)],'pushName':_0xc8855c['pushName'],'messageTimestamp':_0xc8855c[_0x24373d(0x1e8)]&&_0xc8855c['messageTimestamp'][_0x24373d(0x121)]()['length']<0xd?_0xc8855c[_0x24373d(0x1e8)]*0x3e8:_0xc8855c[_0x24373d(0x1e8)]||null,'source':(0x0,w[_0x24373d(0x261)])(_0xc8855c[_0x24373d(0x33c)]['id']),..._0x2ccf0c},'messageTimestamp':_0xc8855c[_0x24373d(0x1e8)]&&_0xc8855c[_0x24373d(0x1e8)]['toString']()[_0x24373d(0x75f)]<0xd?_0xc8855c[_0x24373d(0x1e8)]*0x3e8:_0xc8855c[_0x24373d(0x1e8)]||null,'owner':this[_0x24373d(0x245)][_0x24373d(0x60f)],'source':(0x0,w['getDevice'])(_0xc8855c[_0x24373d(0x33c)]['id'])};return this[_0x24373d(0xfa)][_0x24373d(0x4cd)](this[_0x24373d(0x1a8)]+'\x20('+this[_0x24373d(0x245)][_0x24373d(0x60f)]+_0x24373d(0x771)+_0x465fba[_0x24373d(0x33c)]?.[_0x24373d(0x3f6)][_0x24373d(0x67e)](_0x24373d(0x748),'')+_0x24373d(0x717)+_0x465fba['messageType']+')'),_0x465fba['message_normalized']?.[_0x24373d(0x3ef)]&&this[_0x24373d(0xfa)][_0x24373d(0x4cd)](_0x465fba[_0x24373d(0x6a1)]?.[_0x24373d(0x3ef)]),this['sendDataWebhook'](_0x24373d(0xff),_0x465fba),J(this['instanceName'],_0x24373d(0x674),{'message':_0x465fba}),this[_0x24373d(0xcb)](this[_0x24373d(0x801)]['get'](_0x24373d(0x703)),_0x465fba,_0x24373d(0xfb),_0x2ad1ad),await this['repository'][_0x24373d(0x3a7)][_0x24373d(0x763)]([_0x465fba],this[_0x24373d(0x245)]['wuid']),_0xc8855c;}catch(_0x2c1972){let _0x41ffc7=_0x24373d(0x769)+_0x36346,_0x790b9=_0x2c1972 instanceof Error?_0x2c1972['message']:typeof _0x2c1972=='object'?JSON[_0x24373d(0x1dc)](_0x2c1972):_0x2c1972,_0x11a815=_0x41ffc7+':\x20'+_0x790b9;throw this['logger'][_0x24373d(0x1ca)](this[_0x24373d(0x1a8)]+'\x20('+this['instance']['wuid']+_0x24373d(0x2fb)+_0x11a815),new m(_0x11a815);}}get[a0_0x3eb0d8(0x223)](){return this['stateConnection'];}async[a0_0x3eb0d8(0x257)](_0x15d667){const _0x229972=a0_0x3eb0d8;return await this['sendMessageWithTyping'](_0x15d667[_0x229972(0x438)],{'conversation':_0x15d667[_0x229972(0x257)][_0x229972(0x3ef)]},_0x15d667?.['options']);}async[a0_0x3eb0d8(0x28b)](_0xd9cadc){const _0x2bd96d=a0_0x3eb0d8;if(!_0xd9cadc[_0x2bd96d(0x1d5)])throw new m(_0x2bd96d(0x7c3));if(!_0xd9cadc[_0x2bd96d(0x260)])throw new m(_0x2bd96d(0x72b));if(_0xd9cadc[_0x2bd96d(0x720)]){let _0x56f67a=await this[_0x2bd96d(0x4f1)][_0x2bd96d(0x711)]['find']({'where':{}},this['instance'][_0x2bd96d(0x60f)]);if(!_0x56f67a[_0x2bd96d(0x75f)])throw new m('Contacts\x20not\x20found');_0xd9cadc['statusJidList']=_0x56f67a[_0x2bd96d(0x1d9)](_0x53f837=>_0x53f837[_0x2bd96d(0x300)])[_0x2bd96d(0x437)](_0x4f61c4=>_0x4f61c4['_id']);}if(!_0xd9cadc[_0x2bd96d(0x774)]?.[_0x2bd96d(0x75f)]&&!_0xd9cadc[_0x2bd96d(0x720)])throw new m('StatusJidList\x20is\x20required');if(_0xd9cadc[_0x2bd96d(0x1d5)]===_0x2bd96d(0x3ef)){if(!_0xd9cadc[_0x2bd96d(0x34b)])throw new m(_0x2bd96d(0x779));if(!_0xd9cadc['font'])throw new m(_0x2bd96d(0x213));return{'content':{'text':_0xd9cadc[_0x2bd96d(0x260)]},'option':{'backgroundColor':_0xd9cadc[_0x2bd96d(0x34b)],'font':_0xd9cadc[_0x2bd96d(0x55b)],'statusJidList':_0xd9cadc[_0x2bd96d(0x774)]}};}if(_0xd9cadc[_0x2bd96d(0x1d5)]===_0x2bd96d(0x1ff))return{'content':{'image':{'url':_0xd9cadc[_0x2bd96d(0x260)]},'caption':_0xd9cadc['caption']},'option':{'statusJidList':_0xd9cadc[_0x2bd96d(0x774)]}};if(_0xd9cadc[_0x2bd96d(0x1d5)]===_0x2bd96d(0x5f6))return{'content':{'video':{'url':_0xd9cadc[_0x2bd96d(0x260)]},'caption':_0xd9cadc[_0x2bd96d(0xe5)]},'option':{'statusJidList':_0xd9cadc[_0x2bd96d(0x774)]}};if(_0xd9cadc[_0x2bd96d(0x1d5)]===_0x2bd96d(0x2db)){this[_0x2bd96d(0xfa)][_0x2bd96d(0x671)](this[_0x2bd96d(0x1a8)]+'\x20('+this[_0x2bd96d(0x245)][_0x2bd96d(0x60f)]+_0x2bd96d(0x509)),this['logger']['verbose'](this[_0x2bd96d(0x1a8)]+'\x20('+this[_0x2bd96d(0x245)][_0x2bd96d(0x60f)]+_0x2bd96d(0x5f2));let _0xa469d6=await this['convertaudio'](_0xd9cadc['content']);if(typeof _0xa469d6=='string'){this['logger'][_0x2bd96d(0x671)](this[_0x2bd96d(0x1a8)]+'\x20('+this[_0x2bd96d(0x245)][_0x2bd96d(0x60f)]+_0x2bd96d(0x2f1));let _0x331a81=L[_0x2bd96d(0x30e)](_0xa469d6)[_0x2bd96d(0x121)](_0x2bd96d(0x64b));return{'content':{'audio':Buffer[_0x2bd96d(0x7db)](_0x331a81,_0x2bd96d(0x64b)),'ptt':!0x0,'mimetype':_0x2bd96d(0x4cf)},'option':{'statusJidList':_0xd9cadc[_0x2bd96d(0x774)]}};}else throw new x(_0xa469d6);}throw new m(_0x2bd96d(0x122));}async[a0_0x3eb0d8(0x1b9)](_0x31ad3b){const _0x33721c=a0_0x3eb0d8;return await this['sendMessageWithTyping'](_0x33721c(0x545),{'status':await this[_0x33721c(0x28b)](_0x31ad3b['statusMessage'])});}async[a0_0x3eb0d8(0x6e5)](_0x15f943){const _0x238707=a0_0x3eb0d8;try{let _0x495511=await(0x0,w['prepareWAMessageMedia'])({[_0x15f943[_0x238707(0x60a)]]:(0x0,k['isURL'])(_0x15f943['media'])?{'url':_0x15f943[_0x238707(0x6db)]}:Buffer[_0x238707(0x7db)](_0x15f943[_0x238707(0x6db)],'base64')},{'upload':this['client'][_0x238707(0x1fe)]}),_0x276b5d=_0x15f943[_0x238707(0x60a)]+_0x238707(0x47c);if(_0x15f943[_0x238707(0x60a)]==='document'&&!_0x15f943[_0x238707(0x6f7)]){let _0x405bb2=new RegExp(/.*\/(.+?)\./)['exec'](_0x15f943[_0x238707(0x6db)]);_0x15f943[_0x238707(0x6f7)]=_0x405bb2?_0x405bb2[0x1]:null;}let _0x128ca0;return(0x0,k[_0x238707(0x1a2)])(_0x15f943['media'])?_0x128ca0=(await X[_0x238707(0x487)][_0x238707(0x439)](_0x15f943['media'],{'responseType':_0x238707(0x6cb)}))[_0x238707(0x2c5)]['content-type']:_0x128ca0=(0x0,Oi[_0x238707(0x47f)])(_0x15f943[_0x238707(0x6f7)]),_0x495511[_0x276b5d][_0x238707(0xe5)]=_0x15f943?.[_0x238707(0xe5)],_0x495511[_0x276b5d]['mimetype']=_0x128ca0,_0x495511[_0x276b5d][_0x238707(0x6f7)]=_0x15f943[_0x238707(0x6f7)],_0x15f943[_0x238707(0x60a)]==='video'&&(_0x495511[_0x276b5d][_0x238707(0x55e)]=Uint8Array[_0x238707(0x7db)]((0x0,ke[_0x238707(0x30e)])((0x0,U[_0x238707(0x633)])(process[_0x238707(0x263)](),_0x238707(0x26c)))),_0x495511[_0x276b5d][_0x238707(0x6fb)]=!0x1),(0x0,w[_0x238707(0x5f9)])('',{[_0x276b5d]:{..._0x495511[_0x276b5d]}},{'userJid':this[_0x238707(0x245)][_0x238707(0x60f)]});}catch(_0x46eb22){let _0x4c9f03=_0x238707(0x2b3),_0x3236ec=_0x46eb22 instanceof Error?_0x46eb22[_0x238707(0x3a7)]:typeof _0x46eb22==_0x238707(0x1a5)?JSON[_0x238707(0x1dc)](_0x46eb22):_0x46eb22,_0xb0456a=_0x4c9f03+':\x20'+_0x3236ec;throw this[_0x238707(0xfa)][_0x238707(0x1ca)](this[_0x238707(0x1a8)]+'\x20('+this['instance']['wuid']+_0x238707(0x2fb)+_0xb0456a),new x(_0xb0456a);}}async[a0_0x3eb0d8(0x21f)](_0x296eb2){const _0x382776=a0_0x3eb0d8;let _0x46d16f=await this[_0x382776(0x6e5)](_0x296eb2[_0x382776(0x21f)]);return await this[_0x382776(0x2ec)](_0x296eb2[_0x382776(0x438)],{..._0x46d16f[_0x382776(0x3a7)]},_0x296eb2?.['options']);}async['convertToWebP'](_0x5afba3,_0x522005){const _0x4f845e=a0_0x3eb0d8;try{this[_0x4f845e(0xfa)]['verbose'](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x11905a,_0xbb1009=_0x522005+'-'+new Date()[_0x4f845e(0x597)]();this['logger']['verbose'](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)]['wuid']+_0x4f845e(0x4e9)+_0xbb1009);let _0x4f8e81=''+(0x0,U['join'])(this['storePath'],_0xbb1009+'.webp');if(this[_0x4f845e(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x5f0)+_0x4f8e81),(0x0,k[_0x4f845e(0x4f9)])(_0x5afba3)){this[_0x4f845e(0xfa)]['verbose'](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x2ac));let _0x28e669=_0x5afba3[_0x4f845e(0x67e)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1b6575=Buffer[_0x4f845e(0x7db)](_0x28e669,_0x4f845e(0x64b));_0x11905a=''+(0x0,U['join'])(this[_0x4f845e(0x259)],_0x4f845e(0x7e9)+_0xbb1009+'.png'),this[_0x4f845e(0xfa)][_0x4f845e(0x671)](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x4a0)+_0x11905a),await(0x0,Ut[_0x4f845e(0x487)])(_0x1b6575)[_0x4f845e(0x5b5)](_0x11905a),this[_0x4f845e(0xfa)][_0x4f845e(0x671)](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x59a));}else{this[_0x4f845e(0xfa)][_0x4f845e(0x671)](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x3db));let _0x417948=new Date()[_0x4f845e(0x597)](),_0x3a8a39=_0x5afba3+_0x4f845e(0x3ba)+_0x417948;this['logger']['verbose'](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x3a8a39);let _0x2171a5=await X[_0x4f845e(0x487)]['get'](_0x3a8a39,{'responseType':_0x4f845e(0x6cb)});this[_0x4f845e(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x2af));let _0x5e7a59=Buffer['from'](_0x2171a5[_0x4f845e(0x2a1)],_0x4f845e(0x39f));_0x11905a=''+(0x0,U[_0x4f845e(0x633)])(this[_0x4f845e(0x259)],'temp-'+_0xbb1009+_0x4f845e(0x715)),this[_0x4f845e(0xfa)][_0x4f845e(0x671)](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x4a0)+_0x11905a),await(0x0,Ut[_0x4f845e(0x487)])(_0x5e7a59)[_0x4f845e(0x5b5)](_0x11905a),this[_0x4f845e(0xfa)][_0x4f845e(0x671)](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x59a));}return await(0x0,Ut['default'])(_0x11905a)[_0x4f845e(0x53b)]()[_0x4f845e(0x5b5)](_0x4f8e81),this[_0x4f845e(0xfa)][_0x4f845e(0x671)](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)]['wuid']+_0x4f845e(0x12c)),L[_0x4f845e(0x6ec)](_0x11905a),this[_0x4f845e(0xfa)][_0x4f845e(0x671)](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+'):Temp\x20image\x20deleted'),_0x4f8e81;}catch(_0x34c34c){let _0x20a0d9='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x593114=_0x34c34c instanceof Error?_0x34c34c[_0x4f845e(0x3a7)]:typeof _0x34c34c==_0x4f845e(0x1a5)?JSON['stringify'](_0x34c34c):_0x34c34c,_0x30335d=_0x20a0d9+':\x20'+_0x593114;this['logger']['error'](this[_0x4f845e(0x1a8)]+'\x20('+this[_0x4f845e(0x245)][_0x4f845e(0x60f)]+_0x4f845e(0x2fb)+_0x30335d);}}async['mediaSticker'](_0x41e5ff){const _0x4c5025=a0_0x3eb0d8;let _0x591a06=await this['convertToWebP'](_0x41e5ff['stickerMessage']['image'],_0x41e5ff[_0x4c5025(0x438)]),_0x53bfa0=await this[_0x4c5025(0x2ec)](_0x41e5ff[_0x4c5025(0x438)],{'sticker':{'url':_0x591a06}},_0x41e5ff?.[_0x4c5025(0x1be)]);return L[_0x4c5025(0x6ec)](_0x591a06),this[_0x4c5025(0xfa)][_0x4c5025(0x671)](this[_0x4c5025(0x1a8)]+'\x20('+this[_0x4c5025(0x245)][_0x4c5025(0x60f)]+_0x4c5025(0x29b)),_0x53bfa0;}async[a0_0x3eb0d8(0x5bd)](_0x403c7c){const _0x5ecb01=a0_0x3eb0d8;if(this['logger'][_0x5ecb01(0x671)](this[_0x5ecb01(0x1a8)]+'\x20('+this[_0x5ecb01(0x245)][_0x5ecb01(0x60f)]+_0x5ecb01(0x364)),!_0x403c7c[_0x5ecb01(0x1be)]?.[_0x5ecb01(0x561)]&&_0x403c7c['options']?.[_0x5ecb01(0x561)]!==!0x1&&(_0x403c7c[_0x5ecb01(0x1be)]['encoding']=!0x0),_0x403c7c[_0x5ecb01(0x1be)]?.['encoding']){let _0x6e7f88=await this[_0x5ecb01(0x3e4)](_0x403c7c['audioMessage']['audio']);if(typeof _0x6e7f88==_0x5ecb01(0x129)){let _0x15e017=L[_0x5ecb01(0x30e)](_0x6e7f88)[_0x5ecb01(0x121)](_0x5ecb01(0x64b));return this['sendMessageWithTyping'](_0x403c7c[_0x5ecb01(0x438)],{'audio':Buffer[_0x5ecb01(0x7db)](_0x15e017,_0x5ecb01(0x64b)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x5ecb01(0x114),'delay':_0x403c7c?.[_0x5ecb01(0x1be)]?.['delay']});}else throw new x(_0x6e7f88);}return await this[_0x5ecb01(0x2ec)](_0x403c7c[_0x5ecb01(0x438)],{'audio':(0x0,k[_0x5ecb01(0x1a2)])(_0x403c7c['audioMessage'][_0x5ecb01(0x2db)])?{'url':_0x403c7c[_0x5ecb01(0x533)][_0x5ecb01(0x2db)]}:Buffer[_0x5ecb01(0x7db)](_0x403c7c['audioMessage'][_0x5ecb01(0x2db)],_0x5ecb01(0x64b)),'ptt':!0x0,'mimetype':_0x5ecb01(0x7d0)},{'presence':_0x5ecb01(0x114),'delay':_0x403c7c?.[_0x5ecb01(0x1be)]?.[_0x5ecb01(0x7a2)]});}async['convertaudio'](_0x2e201a){const _0x3f9873=a0_0x3eb0d8;this['logger'][_0x3f9873(0x671)](this['instanceName']+'\x20('+this['instance'][_0x3f9873(0x60f)]+_0x3f9873(0x5f2));let _0x27fd99=(0x0,k['isURL'])(_0x2e201a)?(0x0,jt[_0x3f9873(0x138)])(_0x3f9873(0x5c9))[_0x3f9873(0x670)](_0x2e201a)[_0x3f9873(0x185)](_0x3f9873(0x797)):(0x0,jt['createHash'])(_0x3f9873(0x5c9))[_0x3f9873(0x670)](_0x2e201a)[_0x3f9873(0x185)](_0x3f9873(0x797)),_0x10a194=''+(0x0,U[_0x3f9873(0x633)])(this[_0x3f9873(0x259)],_0x27fd99+_0x3f9873(0x3ad));if(L[_0x3f9873(0x54c)](_0x10a194))return this[_0x3f9873(0xfa)][_0x3f9873(0x671)](this['instanceName']+'\x20('+this[_0x3f9873(0x245)][_0x3f9873(0x60f)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x10a194;let _0x28ee9f=''+(0x0,U[_0x3f9873(0x633)])(this[_0x3f9873(0x259)],'temp-'+(0x0,H['v4'])()+'.mp3');if((0x0,k[_0x3f9873(0x1a2)])(_0x2e201a)){let _0x14cb0a=new Date()[_0x3f9873(0x597)](),_0x221985=_0x2e201a+_0x3f9873(0x3ba)+_0x14cb0a,_0x49fb00=await X[_0x3f9873(0x487)]['get'](_0x221985,{'responseType':_0x3f9873(0x6cb)});L[_0x3f9873(0x67f)](_0x28ee9f,_0x49fb00[_0x3f9873(0x2a1)]);}else{let _0x239e99=Buffer[_0x3f9873(0x7db)](_0x2e201a,_0x3f9873(0x64b));L[_0x3f9873(0x67f)](_0x28ee9f,_0x239e99);}return new Promise((_0x26d167,_0x200627)=>{const _0x1febcf=_0x3f9873;(0x0,Le[_0x1febcf(0x22b)])(_s[_0x1febcf(0x487)][_0x1febcf(0x699)]+_0x1febcf(0x6b5)+_0x28ee9f+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x10a194+'\x20-y',_0x245c5f=>{const _0x31396a=_0x1febcf;if(L[_0x31396a(0x6ec)](_0x28ee9f),_0x245c5f){this['logger'][_0x31396a(0x671)](this['instanceName']+'\x20('+this[_0x31396a(0x245)][_0x31396a(0x60f)]+_0x31396a(0x3e8)),_0x200627(_0x245c5f);return;}this['logger'][_0x31396a(0x671)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x31396a(0x2e7)),_0x26d167(_0x10a194);});});}async[a0_0x3eb0d8(0x38c)](_0x85109a){const _0x112788=a0_0x3eb0d8;this['logger'][_0x112788(0x671)](this[_0x112788(0x1a8)]+'\x20('+this[_0x112788(0x245)][_0x112788(0x60f)]+_0x112788(0x5f2));let _0x1f0bc3=(0x0,jt[_0x112788(0x138)])('sha256')[_0x112788(0x670)](_0x85109a)['digest'](_0x112788(0x797)),_0x39aaac=''+(0x0,U[_0x112788(0x633)])(this[_0x112788(0x259)],_0x1f0bc3+'.mp3');if(L[_0x112788(0x54c)](_0x39aaac))return this['logger'][_0x112788(0x671)](this[_0x112788(0x1a8)]+'\x20('+this[_0x112788(0x245)][_0x112788(0x60f)]+_0x112788(0xc4)),U[_0x112788(0x487)][_0x112788(0x450)](_0x39aaac);let _0x206d45=''+(0x0,U[_0x112788(0x633)])(this['storePath'],_0x112788(0x7e9)+_0x1f0bc3+_0x112788(0x3ad));if((0x0,k['isURL'])(_0x85109a)){let _0x1add17=new Date()[_0x112788(0x597)](),_0xdddfe1=_0x85109a+_0x112788(0x3ba)+_0x1add17,_0x240977=await X[_0x112788(0x487)][_0x112788(0x439)](_0xdddfe1,{'responseType':_0x112788(0x6cb)});L[_0x112788(0x67f)](_0x206d45,_0x240977[_0x112788(0x2a1)]);}else{let _0x3f9505=Buffer[_0x112788(0x7db)](_0x85109a,_0x112788(0x64b));L['writeFileSync'](_0x206d45,_0x3f9505);}return new Promise((_0x4cdb57,_0x21a2bd)=>{const _0x466be4=_0x112788;(0x0,Le['exec'])(_s[_0x466be4(0x487)]['path']+_0x466be4(0x6b5)+_0x206d45+_0x466be4(0x2e8)+_0x39aaac+_0x466be4(0x5e6),_0x41035e=>{const _0x91ec7b=_0x466be4;if(L['unlinkSync'](_0x206d45),_0x41035e){this[_0x91ec7b(0xfa)][_0x91ec7b(0x671)](this[_0x91ec7b(0x1a8)]+'\x20('+this[_0x91ec7b(0x245)][_0x91ec7b(0x60f)]+'):Error\x20in\x20converting\x20audio'),_0x21a2bd(_0x41035e);return;}this[_0x91ec7b(0xfa)][_0x91ec7b(0x671)](this['instanceName']+'\x20('+this[_0x91ec7b(0x245)][_0x91ec7b(0x60f)]+_0x91ec7b(0x2e7)),_0x4cdb57(U[_0x91ec7b(0x487)][_0x91ec7b(0x450)](_0x39aaac));});});}async[a0_0x3eb0d8(0xdb)](_0x11be95){const _0x212c48=a0_0x3eb0d8;let _0x21bc09={},_0x367d88=_0x212c48(0x3e9);if(_0x11be95[_0x212c48(0xdb)]?.[_0x212c48(0x21f)]){_0x367d88=_0x11be95['buttonMessage'][_0x212c48(0x21f)]?.['mediatype']['toUpperCase']()??_0x212c48(0x3e9),_0x21bc09[_0x212c48(0x3d2)]=_0x367d88['toLowerCase']()+_0x212c48(0x47c);let _0x47a9ac=await this[_0x212c48(0x6e5)](_0x11be95[_0x212c48(0xdb)][_0x212c48(0x21f)]);_0x21bc09[_0x212c48(0x3a7)]=_0x47a9ac[_0x212c48(0x3a7)][_0x21bc09[_0x212c48(0x3d2)]],_0x21bc09[_0x212c48(0x4dc)]='*'+_0x11be95['buttonMessage'][_0x212c48(0x816)]+'*\x0a\x0a'+_0x11be95[_0x212c48(0xdb)][_0x212c48(0x29d)];}let _0x366818={'text':_0x11be95[_0x212c48(0xdb)][_0x212c48(0x6cd)][_0x212c48(0x437)](_0x1c6d0d=>_0x1c6d0d[_0x212c48(0x7b6)]),'ids':_0x11be95['buttonMessage']['buttons']['map'](_0x58c003=>_0x58c003[_0x212c48(0x302)])};if(!(0x0,k['arrayUnique'])(_0x366818['text'])||!(0x0,k[_0x212c48(0x343)])(_0x366818[_0x212c48(0x103)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x212c48(0x4ac));return await this[_0x212c48(0x2ec)](_0x11be95[_0x212c48(0x438)],{'buttonsMessage':{'text':_0x21bc09?.[_0x212c48(0x3d2)]?void 0x0:_0x11be95[_0x212c48(0xdb)][_0x212c48(0x816)],'contentText':_0x21bc09?.['contentText']??_0x11be95['buttonMessage'][_0x212c48(0x29d)],'footerText':_0x11be95[_0x212c48(0xdb)]?.['footerText'],'buttons':_0x11be95['buttonMessage'][_0x212c48(0x6cd)]['map'](_0x57bf69=>({'buttonText':{'displayText':_0x57bf69['buttonText']},'buttonId':_0x57bf69[_0x212c48(0x302)],'type':0x1})),'headerType':w[_0x212c48(0x230)][_0x212c48(0x47c)][_0x212c48(0x503)][_0x212c48(0x52d)][_0x367d88],[_0x21bc09?.[_0x212c48(0x3d2)]]:_0x21bc09?.[_0x212c48(0x3a7)]}},_0x11be95?.[_0x212c48(0x1be)]);}async[a0_0x3eb0d8(0x74c)](_0xb0b62e){const _0x8b51e2=a0_0x3eb0d8;return await this['sendMessageWithTyping'](_0xb0b62e['number'],{'locationMessage':{'degreesLatitude':_0xb0b62e[_0x8b51e2(0x74c)][_0x8b51e2(0x813)],'degreesLongitude':_0xb0b62e[_0x8b51e2(0x74c)][_0x8b51e2(0x118)],'name':_0xb0b62e[_0x8b51e2(0x74c)]?.['name'],'address':_0xb0b62e['locationMessage']?.[_0x8b51e2(0x687)]}},_0xb0b62e?.[_0x8b51e2(0x1be)]);}async[a0_0x3eb0d8(0x4a9)](_0x1c068b){const _0x2d0813=a0_0x3eb0d8;let _0x307685={},_0x58a172=async _0x355cbb=>{const _0xfad21f=a0_0x3e55;let _0x16d6ed='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x355cbb[_0xfad21f(0x394)]+_0xfad21f(0x1b2)+_0x355cbb[_0xfad21f(0x394)]+'\x0a';_0x355cbb['organization']&&(_0x16d6ed+=_0xfad21f(0x284)+_0x355cbb[_0xfad21f(0x32e)]+';\x0a'),_0x355cbb[_0xfad21f(0x47e)]&&(_0x16d6ed+=_0xfad21f(0x2c1)+_0x355cbb['email']+'\x0a'),_0x355cbb['url']&&(_0x16d6ed+=_0xfad21f(0x6e6)+_0x355cbb['url']+'\x0a');let _0x343c1c='',_0x524ea2=0x1;if(_0x355cbb['phoneNumber']){let _0x559b29=_0x355cbb[_0xfad21f(0x328)][_0xfad21f(0x766)]('|');for(let _0x2aca86 of _0x559b29){let _0x3f293c=await this[_0xfad21f(0x825)]({'numbers':[_0x2aca86]}),_0x27d186=(_0x3f293c['length']>0x0?_0x3f293c[0x0][_0xfad21f(0x417)]:this['createJid'](_0x2aca86))[_0xfad21f(0x67e)](_0xfad21f(0x748),'');_0x343c1c+=_0xfad21f(0x667)+_0x524ea2+_0xfad21f(0x290)+_0x27d186+':'+_0x2aca86+'\x0aitem'+_0x524ea2+'.X-ABLabel:Celular\x0a',_0x524ea2++;}}return _0x16d6ed+=_0x343c1c+_0xfad21f(0x2b1),_0x16d6ed;};return _0x1c068b[_0x2d0813(0x4a9)][_0x2d0813(0x75f)]===0x1?_0x307685[_0x2d0813(0x4a9)]={'displayName':_0x1c068b[_0x2d0813(0x4a9)][0x0][_0x2d0813(0x394)],'vcard':await _0x58a172(_0x1c068b['contactMessage'][0x0])}:_0x307685['contactsArrayMessage']={'displayName':_0x1c068b[_0x2d0813(0x4a9)][_0x2d0813(0x75f)]+_0x2d0813(0x246),'contacts':await Promise['all'](_0x1c068b[_0x2d0813(0x4a9)][_0x2d0813(0x437)](async _0x6eaf5c=>({'displayName':_0x6eaf5c[_0x2d0813(0x394)],'vcard':await _0x58a172(_0x6eaf5c)})))},await this[_0x2d0813(0x2ec)](_0x1c068b[_0x2d0813(0x438)],{..._0x307685},_0x1c068b?.[_0x2d0813(0x1be)]);}async['reactionMessage'](_0x3aae7c){const _0xbbcf64=a0_0x3eb0d8;return await this[_0xbbcf64(0x2ec)](_0x3aae7c[_0xbbcf64(0x5e0)]['key'][_0xbbcf64(0x3f6)],{'reactionMessage':{'key':_0x3aae7c[_0xbbcf64(0x5e0)]['key'],'text':_0x3aae7c[_0xbbcf64(0x5e0)]['reaction']}});}async[a0_0x3eb0d8(0x825)](_0x2d6043){const _0x2fa456=a0_0x3eb0d8;let _0x1dc3a5=[];for await(let _0x210ce9 of _0x2d6043[_0x2fa456(0x378)]){let _0x4211ff=this[_0x2fa456(0x4e2)](_0x210ce9),_0x1a3396=!0x1;try{if((0x0,w[_0x2fa456(0x7d1)])(_0x4211ff)){let _0x1c942e=(await this[_0x2fa456(0x4f1)][_0x2fa456(0x215)][_0x2fa456(0x657)]({'where':{'_id':_0x4211ff}},this[_0x2fa456(0x245)][_0x2fa456(0x60f)]))['groupdata'];_0x1c942e?(_0x1a3396=!0x0,_0x1dc3a5[_0x2fa456(0x3c2)](new le(_0x1c942e['id'],_0x1a3396,_0x1c942e?.[_0x2fa456(0x312)]))):(_0x1c942e=await this['findGroup']({'groupJid':_0x4211ff},'inner'),_0x1dc3a5[_0x2fa456(0x3c2)](new le(_0x1c942e['id'],!!_0x1c942e?.['id'],_0x1c942e?.['subject'])));}else{if(_0x4211ff['includes'](_0x2fa456(0x5a1)))_0x1dc3a5['push'](new le(_0x4211ff,!0x0));else{let _0x377ae6=(await this[_0x2fa456(0x1d3)][_0x2fa456(0x59d)](_0x4211ff))[0x0];_0x1dc3a5[_0x2fa456(0x3c2)](new le(_0x377ae6[_0x2fa456(0x417)],_0x377ae6[_0x2fa456(0x788)]));}}}catch{(0x0,w[_0x2fa456(0x7d1)])(_0x4211ff)||await this[_0x2fa456(0x221)](_0x4211ff),_0x1dc3a5[_0x2fa456(0x3c2)](new le(_0x210ce9,!0x1));}}return _0x1dc3a5;}async[a0_0x3eb0d8(0x221)](_0x1d93a5){const _0x2e91db=a0_0x3eb0d8;try{await this[_0x2e91db(0x4f1)]['chat'][_0x2e91db(0x657)]({'where':{'_id':_0x1d93a5,'imported':!0x0}},this[_0x2e91db(0x245)][_0x2e91db(0x60f)])&&(await this[_0x2e91db(0x4f1)][_0x2e91db(0x215)][_0x2e91db(0x7f8)](_0x1d93a5,this[_0x2e91db(0x245)][_0x2e91db(0x60f)]),this['logger'][_0x2e91db(0xe3)](_0x2e91db(0x6a9)+_0x1d93a5+_0x2e91db(0x32d)));}catch(_0x1772f0){let _0x4ff928=_0x2e91db(0x4c0),_0x1de9a0=_0x1772f0 instanceof Error?_0x1772f0[_0x2e91db(0x3a7)]:typeof _0x1772f0==_0x2e91db(0x1a5)?JSON[_0x2e91db(0x1dc)](_0x1772f0):_0x1772f0,_0x154c90=_0x4ff928+':\x20'+_0x1de9a0;this[_0x2e91db(0xfa)][_0x2e91db(0x1ca)](this[_0x2e91db(0x1a8)]+'\x20('+this['instance'][_0x2e91db(0x60f)]+_0x2e91db(0x2fb)+_0x154c90);}}async[a0_0x3eb0d8(0x651)](_0x580dfe){const _0x4cb9c8=a0_0x3eb0d8;try{let _0x5f62c6=_0x580dfe['readMessages'][_0x4cb9c8(0x1d9)](_0xf89b4e=>(0x0,w[_0x4cb9c8(0x7d1)])(_0xf89b4e[_0x4cb9c8(0x3f6)])||(0x0,w[_0x4cb9c8(0x4be)])(_0xf89b4e[_0x4cb9c8(0x3f6)]))[_0x4cb9c8(0x437)](_0x5045a3=>({'remoteJid':_0x5045a3['remoteJid'],'fromMe':_0x5045a3['fromMe'],'id':_0x5045a3['id']}));await this['client']['readMessages'](_0x5f62c6);let _0x2c9380=_0x5f62c6[_0x4cb9c8(0x437)](_0x1d9cd3=>this[_0x4cb9c8(0x6ef)](_0x1d9cd3,{'status':_0x4cb9c8(0x1b7),'owner':this['instance'][_0x4cb9c8(0x60f)]})),_0x40211a=_0x5f62c6[_0x4cb9c8(0x437)](_0x2699a3=>this[_0x4cb9c8(0x4f1)][_0x4cb9c8(0x215)]['updateOne']({'where':{'_id':_0x2699a3[_0x4cb9c8(0x3f6)]}},{'unreadcount':0x0},this[_0x4cb9c8(0x245)][_0x4cb9c8(0x60f)])),[_0x299548,_0x3217bb]=await Promise[_0x4cb9c8(0x7a9)]([Promise[_0x4cb9c8(0x7a9)](_0x2c9380),Promise['all'](_0x40211a)]);return _0x3217bb[_0x4cb9c8(0x1d9)](_0x259042=>_0x259042!==null)[_0x4cb9c8(0x16b)](_0x22a856=>{J(this['instanceName'],'chats',{'chat':_0x22a856});}),{'message':'Read\x20messages','read':_0x4cb9c8(0x606)};}catch(_0x110ee1){let _0x27869f=_0x4cb9c8(0x291),_0x436734=_0x110ee1 instanceof Error?_0x110ee1[_0x4cb9c8(0x3a7)]:typeof _0x110ee1=='object'?JSON[_0x4cb9c8(0x1dc)](_0x110ee1):_0x110ee1,_0x37be04=_0x27869f+':\x20'+_0x436734;throw this[_0x4cb9c8(0xfa)]['error'](this[_0x4cb9c8(0x1a8)]+'\x20('+this['instance'][_0x4cb9c8(0x60f)]+_0x4cb9c8(0x2fb)+_0x37be04),new x(_0x37be04);}}async[a0_0x3eb0d8(0x661)](_0x23248b){const _0x5fa358=a0_0x3eb0d8;let _0x4e7eb5={'where':{'key':{'remoteJid':_0x23248b}},'limit':0x1},_0x548e9c=await this[_0x5fa358(0x47b)](_0x4e7eb5);return _0x548e9c||(this[_0x5fa358(0xfa)][_0x5fa358(0x1ca)](_0x5fa358(0x668)+_0x23248b),null);}async['archiveChat'](_0x24335d){const _0x5f0e07=a0_0x3eb0d8;this[_0x5f0e07(0xfa)][_0x5f0e07(0x671)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5f0e07(0x451));try{let _0x17168c=_0x24335d[_0x5f0e07(0x17f)],_0x31857a=_0x24335d['chat'];if(!_0x17168c&&_0x31857a?_0x17168c=await this[_0x5f0e07(0x661)](_0x31857a):(_0x17168c=_0x24335d['lastMessage'],_0x17168c['messageTimestamp']=_0x17168c?.[_0x5f0e07(0x1e8)]??Date[_0x5f0e07(0x117)](),_0x31857a=_0x17168c?.[_0x5f0e07(0x33c)]?.[_0x5f0e07(0x3f6)]),!_0x17168c||Object[_0x5f0e07(0x130)](_0x17168c)[_0x5f0e07(0x75f)]===0x0)throw new j(_0x5f0e07(0x58a));this[_0x5f0e07(0xfa)][_0x5f0e07(0x671)](this['instanceName']+'\x20('+this[_0x5f0e07(0x245)][_0x5f0e07(0x60f)]+_0x5f0e07(0x590)+_0x31857a);try{await this['client'][_0x5f0e07(0x3e0)]({'archive':_0x24335d[_0x5f0e07(0x21c)],'lastMessages':[_0x17168c]},this[_0x5f0e07(0x4e2)](_0x31857a));}catch(_0x4a9ee1){let _0x5254de=_0x5f0e07(0x341)+_0x31857a,_0x5241f1=_0x4a9ee1 instanceof Error?_0x4a9ee1[_0x5f0e07(0x3a7)]:typeof _0x4a9ee1==_0x5f0e07(0x1a5)?JSON['stringify'](_0x4a9ee1):_0x4a9ee1,_0x147fdd=_0x5254de+':\x20'+_0x5241f1;this[_0x5f0e07(0xfa)][_0x5f0e07(0x1ca)](this[_0x5f0e07(0x1a8)]+'\x20('+this['instance'][_0x5f0e07(0x60f)]+'):\x20'+_0x147fdd);}this[_0x5f0e07(0xfa)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5f0e07(0x60f)]+_0x5f0e07(0x1b1)+_0x31857a);let _0x1dec40=await this[_0x5f0e07(0x4f1)][_0x5f0e07(0x215)][_0x5f0e07(0x57f)]({'where':{'_id':_0x17168c?.[_0x5f0e07(0x33c)]?.['remoteJid']}},{'archived':_0x24335d['archive']},this['instance'][_0x5f0e07(0x60f)]);return _0x1dec40?(this['logger']['verbose'](this[_0x5f0e07(0x1a8)]+'\x20('+this[_0x5f0e07(0x245)][_0x5f0e07(0x60f)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x1dec40)),J(this['instanceName'],_0x5f0e07(0x6df),{'chat':_0x1dec40})):this[_0x5f0e07(0xfa)][_0x5f0e07(0x1ca)](this['instanceName']+'\x20('+this[_0x5f0e07(0x245)][_0x5f0e07(0x60f)]+_0x5f0e07(0x173)+_0x31857a),{'chatId':_0x31857a,'archived':_0x24335d[_0x5f0e07(0x21c)]};}catch(_0x24bbb7){let _0x1d7d35='Erro\x20ao\x20arquivar\x20chat',_0xf087e1=_0x24bbb7 instanceof Error?_0x24bbb7['message']:typeof _0x24bbb7==_0x5f0e07(0x1a5)?JSON[_0x5f0e07(0x1dc)](_0x24bbb7):_0x24bbb7,_0x642dce=_0x1d7d35+':\x20'+_0xf087e1;throw this[_0x5f0e07(0xfa)][_0x5f0e07(0x1ca)](this['instanceName']+'\x20('+this[_0x5f0e07(0x245)]['wuid']+_0x5f0e07(0x2fb)+_0x642dce),new x(_0x642dce);}}async['deleteChat'](_0x2d04d1){const _0x2b2984=a0_0x3eb0d8;this['logger'][_0x2b2984(0x671)](this[_0x2b2984(0x1a8)]+'\x20('+this[_0x2b2984(0x245)][_0x2b2984(0x60f)]+_0x2b2984(0x4b2));try{let _0x5b5704=await this[_0x2b2984(0x661)](_0x2d04d1);if(!_0x5b5704||Object[_0x2b2984(0x130)](_0x5b5704)[_0x2b2984(0x75f)]===0x0)throw new j(_0x2b2984(0x58a));let _0xce2bfb=_0x5b5704[0x0];this['logger'][_0x2b2984(0x671)](this[_0x2b2984(0x1a8)]+'\x20('+this[_0x2b2984(0x245)]['wuid']+_0x2b2984(0x5e7)+_0x2d04d1);try{await this[_0x2b2984(0x1d3)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0xce2bfb['key'],'messageTimestamp':_0xce2bfb['messageTimestamp']}]},this[_0x2b2984(0x4e2)](_0x2d04d1));}catch(_0x4c8e65){this[_0x2b2984(0xfa)][_0x2b2984(0x1ca)](_0x2b2984(0x341)+_0x2d04d1+':\x20'+_0x4c8e65['toString']());}this[_0x2b2984(0xfa)][_0x2b2984(0x671)](this['instanceName']+'\x20('+this[_0x2b2984(0x245)][_0x2b2984(0x60f)]+_0x2b2984(0x1b1)+_0x2d04d1);return;}catch(_0x470ab7){throw this[_0x2b2984(0xfa)]['error'](this[_0x2b2984(0x1a8)]+'\x20('+this[_0x2b2984(0x245)][_0x2b2984(0x60f)]+_0x2b2984(0xef)+_0x470ab7[_0x2b2984(0x121)]()),new x({'archived':!0x1,'message':[_0x2b2984(0xd3),_0x470ab7[_0x2b2984(0x121)]()]});}}async['deleteMessage'](_0x125eb5){const _0x342b29=a0_0x3eb0d8;try{let _0x2a2ece=await this[_0x342b29(0x1d3)][_0x342b29(0x751)](_0x125eb5['remoteJid'],{'delete':_0x125eb5});try{let _0x5c10dc=await this[_0x342b29(0x6ef)](_0x125eb5,{'status':_0x342b29(0x1e1),'owner':this['instance']['wuid']});this[_0x342b29(0xfa)][_0x342b29(0x671)](this['instanceName']+'\x20('+this['instance'][_0x342b29(0x60f)]+_0x342b29(0x50d)+_0x5c10dc);}catch(_0x4ad1d3){this['logger'][_0x342b29(0x1ca)](_0x342b29(0x15b)+_0x4ad1d3);}return _0x2a2ece;}catch(_0x37e9b6){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x37e9b6?.['toString']());}}async['getBase64FromMediaMessage'](_0x2a2d1e){const _0xb8ea19=a0_0x3eb0d8;try{let _0x463545=_0x2a2d1e?.['message']?_0x2a2d1e:await this[_0xb8ea19(0x253)](_0x2a2d1e['key'],!0x0);for(let _0x4740be of Ea)_0x463545['message'][_0x4740be]&&(_0x463545[_0xb8ea19(0x3a7)]=_0x463545[_0xb8ea19(0x3a7)][_0x4740be][_0xb8ea19(0x3a7)]);let _0x226283,_0x3832f2;for(let _0x17cf3d of Ca)if(_0x226283=_0x463545[_0xb8ea19(0x3a7)][_0x17cf3d],_0x226283){_0x3832f2=_0x17cf3d;break;}if(!_0x226283)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x226283['mediaKey']=='object'&&(_0x463545[_0xb8ea19(0x3a7)]=JSON[_0xb8ea19(0x814)](JSON[_0xb8ea19(0x1dc)](_0x463545[_0xb8ea19(0x3a7)])));let _0x16d713=await(0x0,w['downloadMediaMessage'])({'key':_0x463545?.[_0xb8ea19(0x33c)],'message':_0x463545?.[_0xb8ea19(0x3a7)]},_0xb8ea19(0x3f0),{},{'logger':(0x0,Ft[_0xb8ea19(0x487)])({'level':_0xb8ea19(0x38b)}),'reuploadRequest':this[_0xb8ea19(0x1d3)][_0xb8ea19(0x6eb)]});if(!(_0x16d713 instanceof Buffer))throw new Error(_0xb8ea19(0x576));let _0x34a337=this['configService'][_0xb8ea19(0x439)](_0xb8ea19(0x703)),_0x3d1773,_0x49d2a7;if(_0x226283[_0xb8ea19(0x6f7)])_0x3d1773=_0x226283[_0xb8ea19(0x6f7)];else{let _0x20700d=_0x226283[_0xb8ea19(0x16d)]?.[_0xb8ea19(0xf6)](/\/(\w+)/),_0x42ff2a=_0x20700d?_0x20700d[0x1]:null;if(!_0x42ff2a)throw new Error(_0xb8ea19(0x2e1));_0x3d1773=(0x0,H['v4'])()+'.'+_0x42ff2a;}_0x3832f2===_0xb8ea19(0x533)?_0x49d2a7=_0xb8ea19(0x75a)+await this[_0xb8ea19(0x38c)](_0x16d713[_0xb8ea19(0x121)](_0xb8ea19(0x64b))):(await this['saveMediaToFile'](_0x16d713,_0x3d1773),_0x49d2a7=_0xb8ea19(0x75a)+_0x3d1773);let _0x4ee31a=this[_0xb8ea19(0x801)][_0xb8ea19(0x439)]('SERVER')[_0xb8ea19(0x433)];if(!_0x4ee31a){let _0x10bc17=this[_0xb8ea19(0x801)]['get'](_0xb8ea19(0x429));_0x4ee31a='https://'+(_0x10bc17&&_0x10bc17[_0xb8ea19(0x3d1)][_0xb8ea19(0x766)]('/')[0x4]);}_0x49d2a7=''+_0x4ee31a+_0x49d2a7;let _0xf96bd4=0xc*0x3c*0x3c*0x3e8,_0x3ed2f6={'where':{'_id':_0x463545[_0xb8ea19(0x33c)]['id']}},_0x5461d5={'message_normalized.fileUrl':_0x49d2a7,'message_normalized.expires_fileUrl':Date[_0xb8ea19(0x117)]()+_0xf96bd4};try{let _0x2e05c7=await this['repository'][_0xb8ea19(0x3a7)][_0xb8ea19(0x670)](_0x3ed2f6,_0x5461d5,this[_0xb8ea19(0x245)]['wuid']);_0x2e05c7&&J(this[_0xb8ea19(0x1a8)],_0xb8ea19(0x674),{'message':_0x2e05c7});}catch(_0x415bd0){let _0x58a85f='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x65052e=_0x415bd0 instanceof Error?_0x415bd0[_0xb8ea19(0x3a7)]:typeof _0x415bd0==_0xb8ea19(0x1a5)?JSON[_0xb8ea19(0x1dc)](_0x415bd0):_0x415bd0,_0x1e8f56=_0x58a85f+':\x20'+_0x65052e;this[_0xb8ea19(0xfa)]['error'](this[_0xb8ea19(0x1a8)]+'\x20('+this[_0xb8ea19(0x245)][_0xb8ea19(0x60f)]+'):\x20'+_0x1e8f56);}return{'mediaType':_0x3832f2,'fileName':_0x226283[_0xb8ea19(0x6f7)],'caption':_0x226283[_0xb8ea19(0xe5)],'size':{'fileLength':_0x226283[_0xb8ea19(0x46a)],'height':_0x226283[_0xb8ea19(0x35a)],'width':_0x226283['width']},'mimetype':_0x226283[_0xb8ea19(0x16d)],'base64':_0x16d713[_0xb8ea19(0x121)]('base64'),'fileUrl':_0x49d2a7,'expires_fileUrl':Date[_0xb8ea19(0x117)]()+_0xf96bd4};}catch(_0x3dac1d){let _0x4ab349=_0xb8ea19(0x392),_0xeffca4=_0x3dac1d instanceof Error?_0x3dac1d['message']:typeof _0x3dac1d==_0xb8ea19(0x1a5)?JSON[_0xb8ea19(0x1dc)](_0x3dac1d):_0x3dac1d,_0x4a9fdf=_0x4ab349+':\x20'+_0xeffca4;throw this['logger'][_0xb8ea19(0x1ca)](this[_0xb8ea19(0x1a8)]+'\x20('+this[_0xb8ea19(0x245)]['wuid']+_0xb8ea19(0x2fb)+_0x4a9fdf),new m(_0x4a9fdf);}}async[a0_0x3eb0d8(0xd5)](_0x20fca3,_0x11198e){const _0x4fb635=a0_0x3eb0d8;let _0x386036=U[_0x4fb635(0x487)][_0x4fb635(0x633)](__dirname,_0x4fb635(0x599));L[_0x4fb635(0x54c)](_0x386036)||L['mkdirSync'](_0x386036,{'recursive':!0x0});let _0x480610=U[_0x4fb635(0x487)][_0x4fb635(0x633)](_0x386036,_0x11198e);return new Promise((_0x3451aa,_0x1bed65)=>{L['writeFile'](_0x480610,_0x20fca3,_0x7fd969=>{const _0x8a7b11=a0_0x3e55;_0x7fd969?(this[_0x8a7b11(0xfa)][_0x8a7b11(0x1ca)]('Error\x20writing\x20file:\x20'+(_0x7fd969 instanceof Error?_0x7fd969[_0x8a7b11(0x3a7)]:JSON[_0x8a7b11(0x1dc)](_0x7fd969,null,0x2))),_0x1bed65(_0x7fd969)):(this[_0x8a7b11(0xfa)][_0x8a7b11(0x2b5)](_0x8a7b11(0x1f1)+_0x480610),_0x3451aa(_0x480610));});});}async['fetchContacts'](_0xb6ba06){const _0x356c41=a0_0x3eb0d8;return await this['repository'][_0x356c41(0x711)]['find'](_0xb6ba06,this['instance'][_0x356c41(0x60f)]);}async[a0_0x3eb0d8(0x818)](){const _0x5b3a6c=a0_0x3eb0d8;return await this[_0x5b3a6c(0x4f1)][_0x5b3a6c(0x357)]['find']({'where':{}},this[_0x5b3a6c(0x245)][_0x5b3a6c(0x60f)]);}async[a0_0x3eb0d8(0x47b)](_0x37021e){const _0x5495c3=a0_0x3eb0d8;return await this[_0x5495c3(0x4f1)]['message'][_0x5495c3(0x551)](_0x37021e,this[_0x5495c3(0x245)][_0x5495c3(0x60f)]);}async[a0_0x3eb0d8(0x16c)](){const _0x2a2d16=a0_0x3eb0d8;return this[_0x2a2d16(0x4f1)]['chat'][_0x2a2d16(0x35c)](this[_0x2a2d16(0x245)][_0x2a2d16(0x60f)]),this['repository']['chat'][_0x2a2d16(0x537)](this[_0x2a2d16(0x245)][_0x2a2d16(0x60f)]),this[_0x2a2d16(0x4f1)][_0x2a2d16(0x215)][_0x2a2d16(0x803)](this[_0x2a2d16(0x245)][_0x2a2d16(0x60f)]),this[_0x2a2d16(0x4f1)][_0x2a2d16(0x215)][_0x2a2d16(0x7e2)](this[_0x2a2d16(0x245)][_0x2a2d16(0x60f)]),await this[_0x2a2d16(0x4f1)][_0x2a2d16(0x215)][_0x2a2d16(0x551)]({'where':{}},this[_0x2a2d16(0x245)][_0x2a2d16(0x60f)]);}async[a0_0x3eb0d8(0x1df)](_0x526af3){const _0x69dfb=a0_0x3eb0d8;try{if(!Array[_0x69dfb(0x20f)](_0x526af3)||_0x526af3['length']===0x0)throw new Error(_0x69dfb(0x4d9));let _0x1d28d2=[],_0x45efe0=[];for(let _0x2c8f75 of _0x526af3){if(_0x2c8f75[_0x69dfb(0x36f)])_0x2c8f75[_0x69dfb(0x36f)]=this['createJid'](_0x2c8f75[_0x69dfb(0x36f)]);else continue;await this[_0x69dfb(0x4f1)][_0x69dfb(0x215)][_0x69dfb(0x657)]({'where':{'_id':_0x2c8f75[_0x69dfb(0x36f)]}},this[_0x69dfb(0x245)]['wuid'])?_0x45efe0[_0x69dfb(0x3c2)]({'_id':_0x2c8f75[_0x69dfb(0x36f)],'leadInfo':_0x2c8f75[_0x69dfb(0x594)],'owner':this[_0x69dfb(0x245)][_0x69dfb(0x60f)]}):_0x1d28d2[_0x69dfb(0x3c2)]({'_id':_0x2c8f75[_0x69dfb(0x36f)],'owner':this[_0x69dfb(0x245)][_0x69dfb(0x60f)],'leadInfo':_0x2c8f75['leadInfo'],'imported':!0x0});}return _0x45efe0[_0x69dfb(0x75f)]>0x0&&await this[_0x69dfb(0x4f1)]['chat']['updateMany'](_0x45efe0['map'](_0x2a9e7f=>({'query':{'where':{'_id':_0x2a9e7f[_0x69dfb(0x36f)],'owner':this['instance'][_0x69dfb(0x60f)]}},'update':_0x2a9e7f}))),_0x1d28d2[_0x69dfb(0x75f)]>0x0&&await this['repository'][_0x69dfb(0x215)][_0x69dfb(0x76b)](_0x1d28d2,this['instance']['wuid']),{'updated':_0x45efe0[_0x69dfb(0x75f)],'inserted':_0x1d28d2[_0x69dfb(0x75f)]};}catch(_0x358d98){let _0x68eb61=_0x69dfb(0x29e),_0x8b6d27=_0x358d98 instanceof Error?_0x358d98['message']:typeof _0x358d98==_0x69dfb(0x1a5)?JSON[_0x69dfb(0x1dc)](_0x358d98):_0x358d98,_0x4c01d4=_0x68eb61+':\x20'+_0x8b6d27;throw this[_0x69dfb(0xfa)][_0x69dfb(0x1ca)](this[_0x69dfb(0x1a8)]+'\x20('+this[_0x69dfb(0x245)][_0x69dfb(0x60f)]+_0x69dfb(0x2fb)+_0x4c01d4),new m(_0x4c01d4);}}async['importChats'](_0x1d9332){const _0x4a39fc=a0_0x3eb0d8;try{if(!Array[_0x4a39fc(0x20f)](_0x1d9332)||_0x1d9332['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x2c4327=0x64,_0x3e3533=0x0;for(let _0x250023=0x0;_0x250023<_0x1d9332[_0x4a39fc(0x75f)];_0x250023+=_0x2c4327){let _0x2d1647=_0x1d9332['slice'](_0x250023,_0x250023+_0x2c4327),{updated:_0x576d2f}=await this[_0x4a39fc(0x28d)](_0x2d1647);_0x3e3533+=_0x576d2f;}return{'updated':_0x3e3533};}catch(_0x31cf9d){let _0x432b00=_0x4a39fc(0x29e),_0x10d16d=_0x31cf9d instanceof Error?_0x31cf9d['message']:typeof _0x31cf9d==_0x4a39fc(0x1a5)?JSON[_0x4a39fc(0x1dc)](_0x31cf9d):_0x31cf9d,_0xce9fb5=_0x432b00+':\x20'+_0x10d16d;throw this[_0x4a39fc(0xfa)][_0x4a39fc(0x1ca)](this[_0x4a39fc(0x1a8)]+'\x20('+this[_0x4a39fc(0x245)][_0x4a39fc(0x60f)]+'):\x20'+_0xce9fb5),new m(_0xce9fb5);}}async[a0_0x3eb0d8(0x28d)](_0x221874){const _0x53b801=a0_0x3eb0d8;try{let _0x4661fd=await this[_0x53b801(0x4f1)][_0x53b801(0x357)]['find']({'where':{}},this['instance']['wuid']),_0x56f2dd=new Set(_0x4661fd[_0x53b801(0x437)](_0x2b9284=>_0x2b9284[_0x53b801(0x36f)])),_0x12f737=[],_0x5bfa30=[];for(let _0x5280d5 of _0x221874){if(!_0x5280d5['_id'])continue;_0x5280d5[_0x53b801(0x36f)]=this[_0x53b801(0x4e2)](_0x5280d5[_0x53b801(0x36f)]);let _0x4b83ea=await this[_0x53b801(0x4f1)][_0x53b801(0x215)][_0x53b801(0x657)]({'where':{'_id':_0x5280d5[_0x53b801(0x36f)]}},this[_0x53b801(0x245)]['wuid']),_0x53867c={};if(Object[_0x53b801(0x565)](_0x5280d5['leadInfo'])['forEach'](([_0x24eca0,_0x35ac7e])=>{_0x53867c['leadInfo.'+_0x24eca0]=_0x35ac7e;}),_0x4b83ea&&!_0x4b83ea[_0x53b801(0xd7)]){let _0x57d046=(_0x5280d5[_0x53b801(0x594)][_0x53b801(0x60c)]||[])[_0x53b801(0x1d9)](_0x4d7307=>_0x56f2dd[_0x53b801(0x10e)](_0x4d7307)),_0x4cc88d=new Set(_0x4b83ea[_0x53b801(0x594)][_0x53b801(0x60c)]||[]),_0x1a5f66=_0x57d046['filter'](_0x12768c=>!_0x4cc88d['has'](_0x12768c)),_0xaa4857=[..._0x4cc88d][_0x53b801(0x1d9)](_0x5825b1=>!_0x57d046[_0x53b801(0x5d6)](_0x5825b1));_0x5bfa30[_0x53b801(0x3c2)](..._0x1a5f66[_0x53b801(0x437)](_0xe0e9f5=>this[_0x53b801(0x527)](_0xe0e9f5,_0x5280d5[_0x53b801(0x36f)]))),_0x5bfa30[_0x53b801(0x3c2)](..._0xaa4857['map'](_0x2d5b32=>this['RemoveChatLabel'](_0x2d5b32,_0x5280d5[_0x53b801(0x36f)]))),_0x5280d5[_0x53b801(0x594)][_0x53b801(0x60c)]=_0x57d046,_0x12f737['push']({'query':{'where':{'_id':_0x5280d5[_0x53b801(0x36f)],'owner':this[_0x53b801(0x245)][_0x53b801(0x60f)]}},'update':_0x53867c});}else _0x53867c[_0x53b801(0xd7)]=!0x0,_0x12f737[_0x53b801(0x3c2)]({'query':{'where':{'_id':_0x5280d5[_0x53b801(0x36f)],'owner':this['instance'][_0x53b801(0x60f)]}},'update':_0x53867c});}let _0x5c3253=await this[_0x53b801(0x4f1)][_0x53b801(0x215)][_0x53b801(0x5f4)](_0x12f737);return await Promise[_0x53b801(0x7a9)](_0x5bfa30),{'updated':_0x5c3253};}catch(_0x14a0d5){let _0x377ed0=_0x53b801(0x29e),_0x2ef5d7=_0x14a0d5 instanceof Error?_0x14a0d5[_0x53b801(0x3a7)]:typeof _0x14a0d5==_0x53b801(0x1a5)?JSON['stringify'](_0x14a0d5):_0x14a0d5,_0x1b861c=_0x377ed0+':\x20'+_0x2ef5d7;throw this[_0x53b801(0xfa)][_0x53b801(0x1ca)](this['instanceName']+'\x20('+this[_0x53b801(0x245)]['wuid']+'):\x20'+_0x1b861c),new m(_0x1b861c);}}async[a0_0x3eb0d8(0x2aa)](){const _0x5705b8=a0_0x3eb0d8;return await this['client'][_0x5705b8(0x2aa)]();}async['updatePrivacySettings'](_0xb4248){const _0x3d3d63=a0_0x3eb0d8;try{return await this[_0x3d3d63(0x1d3)][_0x3d3d63(0x44d)](_0xb4248[_0x3d3d63(0x3bf)]['readreceipts']),await this[_0x3d3d63(0x1d3)][_0x3d3d63(0x1e6)](_0xb4248[_0x3d3d63(0x3bf)][_0x3d3d63(0x54e)]),await this[_0x3d3d63(0x1d3)][_0x3d3d63(0x3b2)](_0xb4248[_0x3d3d63(0x3bf)][_0x3d3d63(0x226)]),await this['client'][_0x3d3d63(0x7e5)](_0xb4248[_0x3d3d63(0x3bf)][_0x3d3d63(0x664)]),await this['client']['updateLastSeenPrivacy'](_0xb4248[_0x3d3d63(0x3bf)][_0x3d3d63(0x3ca)]),await this['client'][_0x3d3d63(0x5b2)](_0xb4248[_0x3d3d63(0x3bf)][_0x3d3d63(0x41e)]),this[_0x3d3d63(0x1d3)]?.['ws']?.[_0x3d3d63(0x14d)](),{'update':_0x3d3d63(0x606),'data':{'readreceipts':_0xb4248[_0x3d3d63(0x3bf)][_0x3d3d63(0x65f)],'profile':_0xb4248[_0x3d3d63(0x3bf)][_0x3d3d63(0x54e)],'status':_0xb4248['privacySettings']['status'],'online':_0xb4248['privacySettings'][_0x3d3d63(0x664)],'last':_0xb4248['privacySettings'][_0x3d3d63(0x3ca)],'groupadd':_0xb4248['privacySettings'][_0x3d3d63(0x41e)]}};}catch(_0x379c61){let _0x3176e8=_0x3d3d63(0x1b4),_0x58b84c=_0x379c61 instanceof Error?_0x379c61['message']:typeof _0x379c61==_0x3d3d63(0x1a5)?JSON[_0x3d3d63(0x1dc)](_0x379c61):_0x379c61,_0x167b46=_0x3176e8+':\x20'+_0x58b84c;throw this[_0x3d3d63(0xfa)][_0x3d3d63(0x1ca)](this[_0x3d3d63(0x1a8)]+'\x20('+this[_0x3d3d63(0x245)][_0x3d3d63(0x60f)]+_0x3d3d63(0x2fb)+_0x167b46),new m(_0x167b46);}}async[a0_0x3eb0d8(0x5e4)](_0x67d112){const _0x4f58e9=a0_0x3eb0d8;let _0x46bb5e=(_0x67d112?this[_0x4f58e9(0x4e2)](_0x67d112):this[_0x4f58e9(0x1d3)]?.[_0x4f58e9(0x2f8)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x4f58e9(0xfa)][_0x4f58e9(0x671)](this[_0x4f58e9(0x1a8)]+'\x20('+this[_0x4f58e9(0x245)]['wuid']+_0x4f58e9(0x427)+_0x46bb5e);let _0x2c5fdf=await this[_0x4f58e9(0x4f1)][_0x4f58e9(0x711)][_0x4f58e9(0x657)]({'where':{'_id':_0x46bb5e}},this['instance'][_0x4f58e9(0x60f)]),_0x599825=_0x2c5fdf?_0x2c5fdf['pushName']:null;try{let _0x4be1f1=(await this[_0x4f58e9(0x825)]({'numbers':[_0x46bb5e]}))?.[_0x4f58e9(0x4cb)](),_0x5c27b9=(await this[_0x4f58e9(0x6af)](_0x46bb5e,null,!0x1))[_0x4f58e9(0xdc)][_0x4f58e9(0xc8)],_0x55afc0=await this[_0x4f58e9(0x126)](_0x4be1f1?.[_0x4f58e9(0x417)]),_0x4f3be4=await this['fetchBusinessProfile'](_0x4be1f1?.[_0x4f58e9(0x417)]),_0x5e01d4=(await this[_0x4f58e9(0x6af)](_0x46bb5e,null,!0x1))[_0x4f58e9(0xdc)]['name'],_0xd9be16=await this[_0x4f58e9(0x4f1)][_0x4f58e9(0x215)][_0x4f58e9(0x657)]({'where':{'_id':_0x46bb5e}},this[_0x4f58e9(0x245)][_0x4f58e9(0x60f)]),_0x450303={'imagechat':_0x5c27b9,'contactname':_0x599825||null,'pushName':_0x5e01d4,'status':_0x55afc0?.[_0x4f58e9(0x226)],'isBusiness':_0x4f3be4[_0x4f58e9(0x177)],'email':_0x4f3be4?.[_0x4f58e9(0x47e)],'description':_0x4f3be4?.[_0x4f58e9(0x29d)],'website':_0x4f3be4?.[_0x4f58e9(0x3b8)]?.[_0x4f58e9(0x4cb)](),'lastcache':Date[_0x4f58e9(0x117)](),'imported':!_0xd9be16},_0x265e35=await this[_0x4f58e9(0x4f1)][_0x4f58e9(0x215)]['updateOne']({'where':{'_id':_0x46bb5e}},_0x450303,this[_0x4f58e9(0x245)][_0x4f58e9(0x60f)]),_0xbcb2c9={'owner':this['instance'][_0x4f58e9(0x60f)],'_id':_0x46bb5e,'profilePictureUrl':_0x5c27b9,'status':_0x55afc0?.[_0x4f58e9(0x226)]};return this[_0x4f58e9(0x4f1)][_0x4f58e9(0x711)][_0x4f58e9(0x670)]([_0xbcb2c9],this[_0x4f58e9(0x245)][_0x4f58e9(0x60f)]),_0x265e35&&J(this[_0x4f58e9(0x1a8)],_0x4f58e9(0x6df),{'chat':_0x265e35}),{'wuid':_0x4be1f1?.['jid']||_0x46bb5e,'name':_0x4be1f1?.['name'],'pushName':_0x5e01d4,'numberExists':_0x4be1f1?.['exists'],'picture':_0x5c27b9,'status':_0x55afc0?.[_0x4f58e9(0x226)],'isBusiness':_0x4f3be4[_0x4f58e9(0x177)],'email':_0x4f3be4?.['email'],'description':_0x4f3be4?.[_0x4f58e9(0x29d)],'website':_0x4f3be4?.[_0x4f58e9(0x3b8)]?.['shift']()};}catch(_0x5ca65e){return this[_0x4f58e9(0xfa)][_0x4f58e9(0x1ca)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x5ca65e instanceof Error?_0x5ca65e[_0x4f58e9(0x3a7)]:JSON[_0x4f58e9(0x1dc)](_0x5ca65e,null,0x2))),{};}}async[a0_0x3eb0d8(0x6ac)](_0x1e1772){const _0xb6f8fb=a0_0x3eb0d8;this[_0xb6f8fb(0xfa)][_0xb6f8fb(0x671)](this[_0xb6f8fb(0x1a8)]+'\x20('+this[_0xb6f8fb(0x245)][_0xb6f8fb(0x60f)]+_0xb6f8fb(0x37e));try{let _0x23575a=_0x1e1772?this[_0xb6f8fb(0x4e2)](_0x1e1772):this[_0xb6f8fb(0x245)][_0xb6f8fb(0x60f)],_0x55c7b6=await this[_0xb6f8fb(0x1d3)][_0xb6f8fb(0x436)](_0x23575a);return this[_0xb6f8fb(0xfa)][_0xb6f8fb(0x671)](this[_0xb6f8fb(0x1a8)]+'\x20('+this[_0xb6f8fb(0x245)][_0xb6f8fb(0x60f)]+_0xb6f8fb(0x380)),_0x55c7b6?(this[_0xb6f8fb(0xfa)][_0xb6f8fb(0x671)](this[_0xb6f8fb(0x1a8)]+'\x20('+this[_0xb6f8fb(0x245)][_0xb6f8fb(0x60f)]+_0xb6f8fb(0x59c)),{'isBusiness':!0x0,..._0x55c7b6}):{'isBusiness':!0x1,'message':_0xb6f8fb(0x5a5),...(await this[_0xb6f8fb(0x825)]({'numbers':[_0x23575a]}))?.['shift']()};}catch(_0x440b38){let _0x242c30=_0xb6f8fb(0x650),_0x216283=_0x440b38 instanceof Error?_0x440b38[_0xb6f8fb(0x3a7)]:typeof _0x440b38==_0xb6f8fb(0x1a5)?JSON[_0xb6f8fb(0x1dc)](_0x440b38):_0x440b38,_0x4d916d=_0x242c30+':\x20'+_0x216283;throw this['logger']['error'](this[_0xb6f8fb(0x1a8)]+'\x20('+this[_0xb6f8fb(0x245)]['wuid']+'):\x20'+_0x4d916d),new x(_0x4d916d);}}async[a0_0x3eb0d8(0x126)](_0x2a7235){const _0x3341ef=a0_0x3eb0d8;let _0x4242e1=this[_0x3341ef(0x4e2)](_0x2a7235);try{return{'wuid':_0x4242e1,'status':(await this['client'][_0x3341ef(0x205)](_0x4242e1))[0x0]?.[_0x3341ef(0x226)]};}catch{return{'wuid':_0x4242e1,'status':null};}}async[a0_0x3eb0d8(0x410)](_0x505eef){const _0x4a6810=a0_0x3eb0d8;try{return await this[_0x4a6810(0x1d3)][_0x4a6810(0x410)](_0x505eef),{'update':_0x4a6810(0x606)};}catch(_0x25b7cf){let _0x157df3=_0x4a6810(0x267),_0x3fe865=_0x25b7cf instanceof Error?_0x25b7cf[_0x4a6810(0x3a7)]:typeof _0x25b7cf==_0x4a6810(0x1a5)?JSON['stringify'](_0x25b7cf):_0x25b7cf,_0x35a8fb=_0x157df3+':\x20'+_0x3fe865;throw this['logger'][_0x4a6810(0x1ca)](this[_0x4a6810(0x1a8)]+'\x20('+this[_0x4a6810(0x245)][_0x4a6810(0x60f)]+_0x4a6810(0x2fb)+_0x35a8fb),new x(_0x35a8fb);}}async[a0_0x3eb0d8(0x5ab)](_0x5d97a2){const _0x40d074=a0_0x3eb0d8;try{return await this[_0x40d074(0x1d3)][_0x40d074(0x5ab)](_0x5d97a2),{'update':'success'};}catch(_0x17413a){let _0x3d0f99='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x168e33=_0x17413a instanceof Error?_0x17413a['message']:typeof _0x17413a==_0x40d074(0x1a5)?JSON[_0x40d074(0x1dc)](_0x17413a):_0x17413a,_0x367119=_0x3d0f99+':\x20'+_0x168e33;throw this[_0x40d074(0xfa)]['error'](this['instanceName']+'\x20('+this[_0x40d074(0x245)][_0x40d074(0x60f)]+'):\x20'+_0x367119),new x(_0x367119);}}async[a0_0x3eb0d8(0x1b8)](_0x11366c){const _0x384f81=a0_0x3eb0d8;try{let _0x5b5e89;if((0x0,k['isURL'])(_0x11366c)){let _0x1bc865=new Date()[_0x384f81(0x597)](),_0x280093=_0x11366c+'?timestamp='+_0x1bc865;_0x5b5e89=(await X['default'][_0x384f81(0x439)](_0x280093,{'responseType':_0x384f81(0x6cb)}))['data'];}else{if((0x0,k[_0x384f81(0x4f9)])(_0x11366c))_0x5b5e89=Buffer[_0x384f81(0x7db)](_0x11366c,_0x384f81(0x64b));else throw new m(_0x384f81(0x6b9));}return await this[_0x384f81(0x1d3)][_0x384f81(0x1b8)](this[_0x384f81(0x245)][_0x384f81(0x60f)],_0x5b5e89),{'update':'success'};}catch(_0x154214){let _0x2d8ec3=_0x384f81(0x27c),_0x16627a=_0x154214 instanceof Error?_0x154214['message']:typeof _0x154214=='object'?JSON['stringify'](_0x154214):_0x154214,_0x12c538=_0x2d8ec3+':\x20'+_0x16627a;throw this[_0x384f81(0xfa)][_0x384f81(0x1ca)](this['instanceName']+'\x20('+this[_0x384f81(0x245)]['wuid']+_0x384f81(0x2fb)+_0x12c538),new x(_0x12c538);}}async['removeProfilePicture'](){const _0x354f18=a0_0x3eb0d8;try{return await this[_0x354f18(0x1d3)][_0x354f18(0x1a3)](this['instance'][_0x354f18(0x60f)]),{'update':_0x354f18(0x606)};}catch(_0x173d1e){let _0x498184=_0x354f18(0x1a1),_0x30692a=_0x173d1e instanceof Error?_0x173d1e[_0x354f18(0x3a7)]:typeof _0x173d1e==_0x354f18(0x1a5)?JSON['stringify'](_0x173d1e):_0x173d1e,_0x25796b=_0x498184+':\x20'+_0x30692a;throw this[_0x354f18(0xfa)][_0x354f18(0x1ca)](this['instanceName']+'\x20('+this[_0x354f18(0x245)][_0x354f18(0x60f)]+_0x354f18(0x2fb)+_0x25796b),new x(_0x25796b);}}async[a0_0x3eb0d8(0x10f)](_0x4025d3){const _0x565430=a0_0x3eb0d8;try{let _0x4a0bc4=(await this['whatsappNumber']({'numbers':_0x4025d3[_0x565430(0x691)]}))[_0x565430(0x1d9)](_0x4fb1b3=>_0x4fb1b3[_0x565430(0x788)])[_0x565430(0x437)](_0x3c110d=>_0x3c110d[_0x565430(0x417)]),{id:_0x3246fc}=await this[_0x565430(0x1d3)][_0x565430(0x4dd)](_0x4025d3['subject'],_0x4a0bc4);_0x4025d3?.[_0x565430(0x29d)]&&await this['client'][_0x565430(0x35f)](_0x3246fc,_0x4025d3[_0x565430(0x29d)]);let _0xe7eeb1=await this[_0x565430(0x1d3)]['groupMetadata'](_0x3246fc);return _0xe7eeb1[_0x565430(0x806)]=[],{'metadata':_0xe7eeb1};}catch(_0x4836b2){let _0x4475ae=_0x565430(0x6ab),_0x35e38f=_0x4836b2 instanceof Error?_0x4836b2[_0x565430(0x3a7)]:typeof _0x4836b2==_0x565430(0x1a5)?JSON[_0x565430(0x1dc)](_0x4836b2):_0x4836b2,_0x5541cb=_0x4475ae+':\x20'+_0x35e38f;throw this[_0x565430(0xfa)][_0x565430(0x1ca)](this[_0x565430(0x1a8)]+'\x20('+this[_0x565430(0x245)][_0x565430(0x60f)]+_0x565430(0x2fb)+_0x5541cb),new x(_0x5541cb);}}async['groupBetterSetting'](_0x4c7702){const _0xfc6e87=a0_0x3eb0d8;try{if(_0x4c7702[_0xfc6e87(0x4f4)]===!0x0&&await this[_0xfc6e87(0x1d3)][_0xfc6e87(0x1f6)](_0x4c7702[_0xfc6e87(0x1fd)],_0xfc6e87(0x7e8)),_0x4c7702[_0xfc6e87(0x4f4)]===!0x1&&await this['client'][_0xfc6e87(0x1f6)](_0x4c7702[_0xfc6e87(0x1fd)],_0xfc6e87(0x41d)),_0x4c7702[_0xfc6e87(0x729)]===!0x0&&await this[_0xfc6e87(0x1d3)][_0xfc6e87(0x1f6)](_0x4c7702['groupJid'],'announcement'),_0x4c7702[_0xfc6e87(0x729)]===!0x1&&await this[_0xfc6e87(0x1d3)][_0xfc6e87(0x1f6)](_0x4c7702[_0xfc6e87(0x1fd)],_0xfc6e87(0x1ed)),_0x4c7702[_0xfc6e87(0x338)]===!0x0&&await this[_0xfc6e87(0x1d3)][_0xfc6e87(0x400)](_0x4c7702[_0xfc6e87(0x1fd)],'all_member_add'),_0x4c7702[_0xfc6e87(0x338)]===!0x1&&await this['client'][_0xfc6e87(0x400)](_0x4c7702[_0xfc6e87(0x1fd)],'admin_add'),_0x4c7702[_0xfc6e87(0x430)]===!0x0&&await this[_0xfc6e87(0x1d3)]['groupJoinApprovalMode'](_0x4c7702[_0xfc6e87(0x1fd)],'on'),_0x4c7702[_0xfc6e87(0x430)]===!0x1&&await this['client']['groupJoinApprovalMode'](_0x4c7702[_0xfc6e87(0x1fd)],_0xfc6e87(0x7d4)),typeof _0x4c7702[_0xfc6e87(0x3cd)]<'u'&&_0x4c7702[_0xfc6e87(0x3cd)]!==null&&await this[_0xfc6e87(0x1d3)][_0xfc6e87(0x581)](_0x4c7702[_0xfc6e87(0x1fd)],_0x4c7702['expiration']),_0x4c7702[_0xfc6e87(0x21a)]&&await this[_0xfc6e87(0x1d3)]['groupUpdateSubject'](_0x4c7702[_0xfc6e87(0x1fd)],_0x4c7702[_0xfc6e87(0x21a)]),_0x4c7702[_0xfc6e87(0x29d)]&&await this[_0xfc6e87(0x1d3)]['groupUpdateDescription'](_0x4c7702[_0xfc6e87(0x1fd)],_0x4c7702[_0xfc6e87(0x29d)]),_0x4c7702[_0xfc6e87(0x1ff)]){let _0x58fcf5;if((0x0,k[_0xfc6e87(0x1a2)])(_0x4c7702[_0xfc6e87(0x1ff)])){let _0x2563a2=new Date()[_0xfc6e87(0x597)](),_0x460687=_0x4c7702[_0xfc6e87(0x1ff)]+'?timestamp='+_0x2563a2;_0x58fcf5=(await X['default'][_0xfc6e87(0x439)](_0x460687,{'responseType':_0xfc6e87(0x6cb)}))[_0xfc6e87(0x2a1)];}else{if((0x0,k[_0xfc6e87(0x4f9)])(_0x4c7702[_0xfc6e87(0x1ff)]))_0x58fcf5=Buffer['from'](_0x4c7702[_0xfc6e87(0x1ff)],_0xfc6e87(0x64b));else throw new m(_0xfc6e87(0x6b9));}await this[_0xfc6e87(0x1d3)][_0xfc6e87(0x1b8)](_0x4c7702[_0xfc6e87(0x1fd)],_0x58fcf5);}return await this['findGroup']({'groupJid':_0x4c7702[_0xfc6e87(0x1fd)]});}catch(_0xc37c8b){let _0x302b7f=_0xfc6e87(0x2a4),_0x3a91e7=_0xc37c8b instanceof Error?_0xc37c8b[_0xfc6e87(0x3a7)]:typeof _0xc37c8b=='object'?JSON[_0xfc6e87(0x1dc)](_0xc37c8b):_0xc37c8b,_0x545c24=_0x302b7f+':\x20'+_0x3a91e7;throw this['logger'][_0xfc6e87(0x1ca)](this[_0xfc6e87(0x1a8)]+'\x20('+this[_0xfc6e87(0x245)][_0xfc6e87(0x60f)]+_0xfc6e87(0x2fb)+_0x545c24),new x(_0x545c24);}}async['updateGParticipant'](_0x34624e){const _0x467900=a0_0x3eb0d8;try{if(_0x34624e[_0x467900(0x181)]===_0x467900(0x56b)||_0x34624e[_0x467900(0x181)]===_0x467900(0x5d0)){let _0x2f9755=_0x34624e[_0x467900(0x691)][_0x467900(0x437)](_0x184ef2=>this[_0x467900(0x4e2)](_0x184ef2));await this[_0x467900(0x1d3)][_0x467900(0x81e)](_0x34624e[_0x467900(0x1fd)],_0x2f9755,_0x34624e['action']);}else{if(_0x34624e['action']===_0x467900(0x440)){let _0x54b5ef=(await this['whatsappNumber']({'numbers':_0x34624e[_0x467900(0x691)]}))[_0x467900(0x1d9)](_0x4ef5c5=>_0x4ef5c5[_0x467900(0x788)])['map'](_0x2d74a4=>this[_0x467900(0x4e2)](_0x2d74a4[_0x467900(0x417)]));if(_0x54b5ef[_0x467900(0x75f)]===0x0)throw new m(_0x467900(0x79a));await this['client'][_0x467900(0x453)](_0x34624e[_0x467900(0x1fd)],_0x54b5ef,_0x467900(0x440));}else{let _0x1403e3=_0x34624e[_0x467900(0x691)][_0x467900(0x437)](_0x525bd8=>this[_0x467900(0x4e2)](_0x525bd8));await this[_0x467900(0x1d3)]['groupParticipantsUpdate'](_0x34624e[_0x467900(0x1fd)],_0x1403e3,_0x34624e[_0x467900(0x181)]);}}return await this[_0x467900(0x616)]({'groupJid':_0x34624e['groupJid']});}catch(_0x31f19e){let _0x41ecf1=_0x467900(0x524),_0xe3ae21=_0x31f19e instanceof Error?_0x31f19e[_0x467900(0x3a7)]:typeof _0x31f19e=='object'?JSON[_0x467900(0x1dc)](_0x31f19e):_0x31f19e,_0x285f93=_0x41ecf1+':\x20'+_0xe3ae21;throw this['logger'][_0x467900(0x1ca)](this[_0x467900(0x1a8)]+'\x20('+this[_0x467900(0x245)][_0x467900(0x60f)]+_0x467900(0x2fb)+_0x285f93),new m(_0x285f93);}}async['groupGetInviteInfo'](_0x1d2119){const _0x335461=a0_0x3eb0d8;try{return await this[_0x335461(0x1d3)][_0x335461(0x1db)](_0x1d2119[_0x335461(0x3fa)]);}catch(_0x2bdf5e){let _0x261f6c=_0x335461(0x4f7),_0x63b0a1=_0x2bdf5e instanceof Error?_0x2bdf5e[_0x335461(0x3a7)]:typeof _0x2bdf5e==_0x335461(0x1a5)?JSON[_0x335461(0x1dc)](_0x2bdf5e):_0x2bdf5e,_0x3f6a3f=_0x261f6c+':\x20'+_0x63b0a1;throw this['logger'][_0x335461(0x1ca)](this['instanceName']+'\x20('+this[_0x335461(0x245)][_0x335461(0x60f)]+_0x335461(0x2fb)+_0x3f6a3f),new m(_0x3f6a3f);}}async[a0_0x3eb0d8(0x616)](_0x4fbc98,_0x4ecdc6=a0_0x3eb0d8(0x7fc)){const _0x33a11e=a0_0x3eb0d8;try{let _0x2a0c2b=await this['repository'][_0x33a11e(0x215)][_0x33a11e(0x657)]({'where':{'_id':_0x4fbc98[_0x33a11e(0x1fd)]}},this['instance']['wuid']),_0xd01b9=_0x2a0c2b?_0x2a0c2b[_0x33a11e(0x305)]:null,_0x5b809f=0x18*0x3c*0x3c*0x3e8;if(!_0xd01b9||_0xd01b9[_0x33a11e(0x790)]&&Date[_0x33a11e(0x117)]()-_0xd01b9[_0x33a11e(0x790)]>_0x5b809f){let _0x45ef70=await this[_0x33a11e(0x1d3)][_0x33a11e(0x81d)](_0x4fbc98[_0x33a11e(0x1fd)]);if(_0x45ef70[_0x33a11e(0x683)]=_0x45ef70?.[_0x33a11e(0x683)]&&_0x45ef70[_0x33a11e(0x683)]['toString']()[_0x33a11e(0x75f)]<0xd?_0x45ef70?.[_0x33a11e(0x683)]*0x3e8:_0x45ef70?.[_0x33a11e(0x683)]||null,_0x45ef70[_0x33a11e(0x611)]=_0x45ef70?.['creation']&&_0x45ef70[_0x33a11e(0x611)]['toString']()[_0x33a11e(0x75f)]<0xd?_0x45ef70?.[_0x33a11e(0x611)]*0x3e8:_0x45ef70?.[_0x33a11e(0x611)]||null,_0xd01b9={..._0x45ef70,'lastUpdate':Date[_0x33a11e(0x117)]()},!_0x45ef70)return;}let _0x14fa51=_0xd01b9[_0x33a11e(0x691)][_0x33a11e(0x18b)](_0x3a272a=>_0x3a272a['id']===this[_0x33a11e(0x245)]['wuid']+_0x33a11e(0x748)&&_0x3a272a[_0x33a11e(0x405)]!=null);!_0xd01b9[_0x33a11e(0x3fa)]&&_0x14fa51&&(_0xd01b9[_0x33a11e(0x3fa)]=(await this[_0x33a11e(0x3fa)](_0x4fbc98,!0x1))[_0x33a11e(0x4ab)]);let _0x24c180=(!_0xd01b9[_0x33a11e(0x729)]||_0x14fa51)&&(!_0xd01b9[_0x33a11e(0x1f8)]||_0xd01b9[_0x33a11e(0x1f8)]&&_0xd01b9[_0x33a11e(0x786)]&&_0x14fa51);_0xd01b9[_0x33a11e(0x638)]=_0x14fa51,_0xd01b9[_0x33a11e(0x525)]=_0x24c180;let _0x32bfba=[];if(_0x14fa51&&_0xd01b9[_0x33a11e(0x430)])try{_0x32bfba=await this[_0x33a11e(0x1d3)][_0x33a11e(0xd4)](_0x4fbc98[_0x33a11e(0x1fd)]),_0xd01b9[_0x33a11e(0x7b2)]=Date['now']();}catch(_0x2c3f93){this[_0x33a11e(0xfa)][_0x33a11e(0x671)](this[_0x33a11e(0x1a8)]+'\x20('+this[_0x33a11e(0x245)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x4fbc98[_0x33a11e(0x1fd)]+':\x20'+(_0x2c3f93 instanceof Error?_0x2c3f93[_0x33a11e(0x3a7)]:JSON['stringify'](_0x2c3f93,null,0x2)));}try{_0xd01b9['image']=(await this[_0x33a11e(0x6af)](_0x4fbc98[_0x33a11e(0x1fd)],null,!0x0))[_0x33a11e(0xdc)][_0x33a11e(0xc8)];}catch(_0x23809e){this[_0x33a11e(0xfa)][_0x33a11e(0x671)](this[_0x33a11e(0x1a8)]+'\x20('+this[_0x33a11e(0x245)][_0x33a11e(0x60f)]+_0x33a11e(0x5b8)+_0x4fbc98[_0x33a11e(0x1fd)]+':\x20'+(_0x23809e instanceof Error?_0x23809e[_0x33a11e(0x3a7)]:JSON[_0x33a11e(0x1dc)](_0x23809e,null,0x2)));}let _0x3c3ecb=_0xd01b9[_0x33a11e(0x691)][_0x33a11e(0x437)](_0x1bd656=>_0x1bd656['id']),_0x29aa95=_0x32bfba[_0x33a11e(0x437)](_0x84f632=>_0x84f632[_0x33a11e(0x417)]),_0x1dd88e=await this[_0x33a11e(0x4f1)][_0x33a11e(0x2fd)][_0x33a11e(0x3c8)]([..._0x3c3ecb,..._0x29aa95]);_0xd01b9['participants']=_0xd01b9[_0x33a11e(0x691)][_0x33a11e(0x437)](_0x4b41d7=>{const _0x34c9be=_0x33a11e;let _0x31343c=_0x1dd88e[_0x34c9be(0x551)](_0x343590=>_0x343590[_0x34c9be(0x36f)]===_0x4b41d7['id']);return{'id':_0x4b41d7['id'],'isAdmin':[_0x34c9be(0x405),_0x34c9be(0x55c)][_0x34c9be(0x5d6)](_0x4b41d7['admin']),'admin':_0x4b41d7['admin'],'pushName':_0x31343c?.[_0x34c9be(0x21a)],'profilePictureUrl':_0x31343c?.[_0x34c9be(0xc8)]};}),_0xd01b9[_0x33a11e(0x806)]=_0x32bfba['map'](_0x30730c=>{const _0x3c59ae=_0x33a11e;let _0x14fe22=_0x1dd88e[_0x3c59ae(0x551)](_0x26adda=>_0x26adda['_id']===_0x30730c[_0x3c59ae(0x417)]);return{'id':_0x30730c['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x14fe22?.[_0x3c59ae(0x21a)],'profilePictureUrl':_0x14fe22?.['pictureUrl'],'request_method':_0x30730c[_0x3c59ae(0x38f)],'request_time':_0x30730c['request_time']};});let _0x314960=await this[_0x33a11e(0x4f1)][_0x33a11e(0x215)][_0x33a11e(0x57f)]({'where':{'_id':_0x4fbc98[_0x33a11e(0x1fd)]}},{'imagechat':_0xd01b9['image'],'name':_0xd01b9[_0x33a11e(0x312)],'lastcache':Date[_0x33a11e(0x117)](),'groupdata':_0xd01b9},this[_0x33a11e(0x245)]['wuid']);return J(this['instanceName'],'chats',{'chat':_0x314960}),{'metadata':_0xd01b9};}catch(_0x168c77){if(_0x4ecdc6===_0x33a11e(0x7da))return;throw new j(_0x33a11e(0x23b),_0x168c77[_0x33a11e(0x3a7)][_0x33a11e(0x121)]());}}async['findGroups'](){const _0x57f941=a0_0x3eb0d8;try{this[_0x57f941(0xfa)]['info']('Retornando\x20grupos\x20COM\x20cache');let _0x1b1217=Date[_0x57f941(0x117)](),_0xeef5bf=0x3*0x3c*0x3c*0x3e8;return _0x1b1217-this['lastRealGroupsFetch']>_0xeef5bf&&(this[_0x57f941(0x180)](),this['lastRealGroupsFetch']=_0x1b1217),(await this[_0x57f941(0x4f1)]['chat']['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x57f941(0x245)][_0x57f941(0x60f)]))[_0x57f941(0x437)](_0x3e75e3=>({..._0x3e75e3['groupdata'],'groupJid':_0x3e75e3?.[_0x57f941(0x36f)],'participants':_0x3e75e3?.[_0x57f941(0x305)]?.['participants']||[],'awaitingApproval':_0x3e75e3?.[_0x57f941(0x305)]?.['awaitingApproval']||[],'image':_0x3e75e3?.[_0x57f941(0x73a)]}));}catch(_0x3bb67b){let _0x5b2978=_0x57f941(0x431),_0x7162ef=_0x3bb67b instanceof Error?_0x3bb67b['message']:typeof _0x3bb67b==_0x57f941(0x1a5)?JSON[_0x57f941(0x1dc)](_0x3bb67b):_0x3bb67b,_0x431996=_0x5b2978+':\x20'+_0x7162ef;throw this[_0x57f941(0xfa)][_0x57f941(0x1ca)](this['instanceName']+'\x20('+this[_0x57f941(0x245)]['wuid']+'):\x20'+_0x431996),new j(_0x431996);}}async['findRealGroups'](){const _0x55adc1=a0_0x3eb0d8;try{this[_0x55adc1(0xfa)]['info'](_0x55adc1(0x423));let _0x1bcdc0=[],_0x20cc56=await this[_0x55adc1(0x1d3)][_0x55adc1(0x3fc)](),_0x4a740d=Object[_0x55adc1(0x6dc)](_0x20cc56),_0x5cd143=_0x4a740d[_0x55adc1(0x1d9)](_0x52d6d7=>(0x0,w['isJidGroup'])(_0x52d6d7?.['id']))['map'](async _0x7ffede=>{const _0x2ae564=_0x55adc1;try{return await this[_0x2ae564(0x1d3)][_0x2ae564(0x502)](_0x7ffede['id'],_0x2ae564(0x656));}catch(_0x6bd9e9){return this[_0x2ae564(0xfa)]['verbose'](this[_0x2ae564(0x1a8)]+'\x20('+this['instance'][_0x2ae564(0x60f)]+_0x2ae564(0x5b8)+_0x7ffede['id']+':\x20'+(_0x6bd9e9 instanceof Error?_0x6bd9e9[_0x2ae564(0x3a7)]:JSON[_0x2ae564(0x1dc)](_0x6bd9e9,null,0x2))),null;}}),_0xef9cfb=await Promise[_0x55adc1(0x7a9)](_0x5cd143);for(let _0x32f661=0x0;_0x32f661<_0x4a740d['length'];_0x32f661++){let _0x21bafa=_0x4a740d[_0x32f661];(0x0,w[_0x55adc1(0x7d1)])(_0x21bafa?.['id'])&&(_0x1bcdc0[_0x55adc1(0x3c2)]({'groupJid':_0x21bafa?.['id'],'subject':_0x21bafa?.['subject'],'subjectOwner':_0x21bafa?.['subjectOwner']?.[_0x55adc1(0x766)]('@')[0x0],'subjectTime':_0x21bafa?.['subjectTime'],'creation':_0x21bafa?.[_0x55adc1(0x611)],'size':_0x21bafa?.['participants']?.[_0x55adc1(0x75f)],'owner':_0x21bafa?.[_0x55adc1(0x4d0)]?.[_0x55adc1(0x766)]('@')[0x0],'desc':_0x21bafa?.['desc'],'restrict':_0x21bafa?.[_0x55adc1(0x4f4)],'announce':_0x21bafa?.['announce'],'image':_0xef9cfb[_0x32f661],'isCommunity':_0x21bafa?.[_0x55adc1(0x1f8)],'joinApprovalMode':_0x21bafa?.['joinApprovalMode'],'memberCanAddParticipant':_0x21bafa?.[_0x55adc1(0x338)],'participants':_0x21bafa?.[_0x55adc1(0x691)],'descOwner':_0x21bafa?.[_0x55adc1(0x20e)],'descId':_0x21bafa?.[_0x55adc1(0x7e4)],'memberAddMode':_0x21bafa?.['memberAddMode'],'isCommunityAnnounce':_0x21bafa?.[_0x55adc1(0x786)],'ephemeralDuration':_0x21bafa?.['ephemeralDuration']||0x0,'author':_0x21bafa?.[_0x55adc1(0x3d4)]}),this[_0x55adc1(0x48e)](_0x4a740d[_0x32f661]));}return _0x1bcdc0;}catch(_0x4ef90c){let _0x3d3773='Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups',_0x4c862d=_0x4ef90c instanceof Error?_0x4ef90c['message']:typeof _0x4ef90c=='object'?JSON[_0x55adc1(0x1dc)](_0x4ef90c):_0x4ef90c,_0xaa7ff9=_0x3d3773+':\x20'+_0x4c862d;throw this[_0x55adc1(0xfa)][_0x55adc1(0x1ca)](this[_0x55adc1(0x1a8)]+'\x20('+this[_0x55adc1(0x245)][_0x55adc1(0x60f)]+_0x55adc1(0x2fb)+_0xaa7ff9),new j(_0xaa7ff9);}}async[a0_0x3eb0d8(0x48e)](_0xa50adf){const _0x75fd3a=a0_0x3eb0d8;let _0x1ff97c=await this[_0x75fd3a(0x4f1)][_0x75fd3a(0x215)][_0x75fd3a(0x657)]({'where':{'_id':_0xa50adf['id']}},this[_0x75fd3a(0x245)]['wuid']);_0xa50adf[_0x75fd3a(0x683)]=_0xa50adf?.[_0x75fd3a(0x683)]&&_0xa50adf[_0x75fd3a(0x683)][_0x75fd3a(0x121)]()[_0x75fd3a(0x75f)]<0xd?_0xa50adf?.[_0x75fd3a(0x683)]*0x3e8:_0xa50adf?.['subjectTime']||null,_0xa50adf[_0x75fd3a(0x611)]=_0xa50adf?.[_0x75fd3a(0x611)]&&_0xa50adf[_0x75fd3a(0x611)][_0x75fd3a(0x121)]()[_0x75fd3a(0x75f)]<0xd?_0xa50adf?.[_0x75fd3a(0x611)]*0x3e8:_0xa50adf?.[_0x75fd3a(0x611)]||null;let _0x3a3fb7=_0x1ff97c?.[_0x75fd3a(0x305)]?.[_0x75fd3a(0x806)]||[],_0x973423=_0x1ff97c?.[_0x75fd3a(0x305)]?.[_0x75fd3a(0x7b2)],_0x2529ee=_0xa50adf['participants'][_0x75fd3a(0x437)](_0x74151a=>{const _0x14995a=_0x75fd3a;let _0x1c838a=_0x1ff97c?.[_0x14995a(0x305)]?.[_0x14995a(0x691)][_0x14995a(0x551)](_0x424fcb=>_0x424fcb['id']===_0x74151a['id']);return{..._0x74151a,'isAdmin':[_0x14995a(0x405),_0x14995a(0x55c)]['includes'](_0x74151a[_0x14995a(0x405)]),'admin':_0x74151a[_0x14995a(0x405)],'name':_0x1c838a?.[_0x14995a(0x21a)]||_0x74151a[_0x14995a(0x21a)],'imgUrl':_0x1c838a?.['imgUrl']||_0x74151a[_0x14995a(0xfe)]};}),_0xd497b0=_0x2529ee[_0x75fd3a(0x18b)](_0x441e75=>_0x441e75['id']===this['instance'][_0x75fd3a(0x60f)]+_0x75fd3a(0x748)&&_0x441e75['isAdmin']),_0x1f6381=(!_0xa50adf[_0x75fd3a(0x729)]||_0xd497b0)&&(!_0xa50adf[_0x75fd3a(0x1f8)]||_0xa50adf[_0x75fd3a(0x1f8)]&&_0xa50adf[_0x75fd3a(0x786)]&&_0xd497b0),_0x458a1a={..._0xa50adf,'participants':_0x2529ee,'awaitingApproval':_0x3a3fb7,'lastFetchAwaitingApproval':_0x973423,'isAdmin':_0xd497b0,'canSendMessage':_0x1f6381,'lastUpdate':Date['now']()};await this[_0x75fd3a(0x4f1)][_0x75fd3a(0x215)]['updateOne']({'where':{'_id':_0xa50adf['id']}},{'name':_0xa50adf[_0x75fd3a(0x312)],'group':!0x0,'groupdata':_0x458a1a,'lastcache':Date[_0x75fd3a(0x117)]()},this[_0x75fd3a(0x245)][_0x75fd3a(0x60f)]),J(this[_0x75fd3a(0x1a8)],_0x75fd3a(0x6df),{'chat':_0xa50adf});}async[a0_0x3eb0d8(0x1d6)](_0x3df9cf){const _0x11e141=a0_0x3eb0d8;let _0x14905c=await this[_0x11e141(0x4f1)][_0x11e141(0x215)][_0x11e141(0x657)]({'where':{'_id':_0x3df9cf['id']}},this['instance'][_0x11e141(0x60f)]);_0x3df9cf[_0x11e141(0x683)]=_0x3df9cf?.['subjectTime']&&_0x3df9cf[_0x11e141(0x683)][_0x11e141(0x121)]()[_0x11e141(0x75f)]<0xd?_0x3df9cf?.['subjectTime']*0x3e8:_0x3df9cf?.[_0x11e141(0x683)]||null,_0x3df9cf[_0x11e141(0x611)]=_0x3df9cf?.['creation']&&_0x3df9cf[_0x11e141(0x611)][_0x11e141(0x121)]()['length']<0xd?_0x3df9cf?.[_0x11e141(0x611)]*0x3e8:_0x3df9cf?.[_0x11e141(0x611)]||null,_0x3df9cf[_0x11e141(0x3fa)]&&(_0x3df9cf['inviteCode']=_0x11e141(0x55d)+_0x3df9cf['inviteCode']);let _0x82681c=_0x14905c?.[_0x11e141(0x305)]?{..._0x14905c[_0x11e141(0x305)]}:{};Object['keys'](_0x3df9cf)[_0x11e141(0x16b)](_0x2f0986=>{_0x2f0986!=='id'&&(_0x82681c[_0x2f0986]=_0x3df9cf[_0x2f0986]);});let _0x3da117=_0x82681c[_0x11e141(0x691)]?.[_0x11e141(0x18b)](_0x1ae366=>_0x1ae366['id']===this[_0x11e141(0x245)][_0x11e141(0x60f)]+_0x11e141(0x748)&&_0x1ae366[_0x11e141(0x638)])||!0x1;_0x82681c[_0x11e141(0x638)]=_0x3da117;let _0x4b9b13=(!_0x82681c[_0x11e141(0x729)]||_0x3da117)&&(!_0x82681c[_0x11e141(0x1f8)]||_0x82681c[_0x11e141(0x1f8)]&&_0x82681c[_0x11e141(0x786)]&&_0x3da117);_0x82681c[_0x11e141(0x525)]=_0x4b9b13;let _0x3b0c5d={'group':!0x0,'groupdata':_0x82681c};_0x3df9cf['subject']&&(_0x3b0c5d[_0x11e141(0x21a)]=_0x3df9cf[_0x11e141(0x312)]),await this[_0x11e141(0x4f1)][_0x11e141(0x215)]['updateOne']({'where':{'_id':_0x3df9cf['id']}},_0x3b0c5d,this[_0x11e141(0x245)][_0x11e141(0x60f)],{'upsert':!0x0}),J(this[_0x11e141(0x1a8)],'chats',{'chat':_0x3b0c5d});}async[a0_0x3eb0d8(0x387)](_0x31605f){const _0x27fa89=a0_0x3eb0d8;let _0x1d20a5=await this['repository'][_0x27fa89(0x215)][_0x27fa89(0x657)]({'where':{'_id':_0x31605f['id']}},this['instance'][_0x27fa89(0x60f)]);if(!_0x1d20a5||!_0x1d20a5['groupdata']){this[_0x27fa89(0xfa)][_0x27fa89(0xe3)](this[_0x27fa89(0x1a8)]+'\x20('+this[_0x27fa89(0x245)][_0x27fa89(0x60f)]+_0x27fa89(0x315)+_0x31605f['id']);return;}let _0x3b625a=await this[_0x27fa89(0x4f1)][_0x27fa89(0x2fd)][_0x27fa89(0x3c8)](_0x31605f[_0x27fa89(0x691)]),_0x29eb0c=[..._0x1d20a5[_0x27fa89(0x305)]?.[_0x27fa89(0x691)]];switch(_0x31605f['action']){case _0x27fa89(0x440):let _0x11d011=_0x3b625a[_0x27fa89(0x437)](_0x3fdd94=>({'id':_0x3fdd94[_0x27fa89(0x36f)],'isAdmin':!0x1,'name':_0x3fdd94[_0x27fa89(0x21a)],'imgUrl':_0x3fdd94['pictureUrl']}));_0x29eb0c=[..._0x29eb0c,..._0x11d011];break;case _0x27fa89(0x727):_0x29eb0c=_0x29eb0c[_0x27fa89(0x1d9)](_0x56777c=>!_0x31605f['participants'][_0x27fa89(0x5d6)](_0x56777c['id']));break;case _0x27fa89(0x1cc):case _0x27fa89(0x7fd):_0x29eb0c=_0x29eb0c[_0x27fa89(0x437)](_0x2828e7=>_0x31605f['participants'][_0x27fa89(0x5d6)](_0x2828e7['id'])?{..._0x2828e7,'isAdmin':_0x31605f[_0x27fa89(0x181)]===_0x27fa89(0x1cc)}:_0x2828e7);break;}let _0x18638b=_0x29eb0c[_0x27fa89(0x75f)],_0x145e77=_0x29eb0c[_0x27fa89(0x18b)](_0x5426a8=>_0x5426a8['id']===this[_0x27fa89(0x245)][_0x27fa89(0x60f)]+_0x27fa89(0x748)),_0x409c50=_0x145e77&&_0x29eb0c['some'](_0x18fd5a=>_0x18fd5a['id']===this['instance']['wuid']+'@s.whatsapp.net'&&_0x18fd5a[_0x27fa89(0x638)]),_0x375082=_0x145e77&&(!_0x1d20a5['groupdata']['announce']||_0x409c50)&&(!_0x1d20a5[_0x27fa89(0x305)][_0x27fa89(0x1f8)]||_0x1d20a5[_0x27fa89(0x305)][_0x27fa89(0x1f8)]&&_0x409c50);await this['repository'][_0x27fa89(0x215)][_0x27fa89(0x57f)]({'where':{'_id':_0x31605f['id']}},{'groupdata':{..._0x1d20a5['groupdata'],'participants':_0x29eb0c,'size':_0x18638b,'isAdmin':_0x409c50,'canSendMessage':_0x375082}},this[_0x27fa89(0x245)][_0x27fa89(0x60f)]),this[_0x27fa89(0xfa)][_0x27fa89(0xe3)](this[_0x27fa89(0x1a8)]+'\x20('+this['instance'][_0x27fa89(0x60f)]+_0x27fa89(0x809)+_0x31605f['id']+_0x27fa89(0x276)+_0x31605f[_0x27fa89(0x181)]+',\x20Novo\x20tamanho:\x20'+_0x18638b+_0x27fa89(0x546)+_0x409c50+_0x27fa89(0x428)+_0x375082);}async[a0_0x3eb0d8(0x3fa)](_0x59fd09,_0x4d95d8=!0x0){const _0x1033bd=a0_0x3eb0d8;try{let _0x529db8=await this[_0x1033bd(0x1d3)][_0x1033bd(0x3d0)](_0x59fd09['groupJid']),_0x54189d={'groupdata.inviteCode':_0x1033bd(0x55d)+_0x529db8};if(_0x4d95d8){let _0x853dbb=await this[_0x1033bd(0x4f1)][_0x1033bd(0x215)]['updateOne']({'where':{'_id':_0x59fd09[_0x1033bd(0x1fd)]}},_0x54189d,this[_0x1033bd(0x245)][_0x1033bd(0x60f)]);}return{'inviteUrl':_0x1033bd(0x55d)+_0x529db8,'inviteCode':_0x529db8};}catch(_0x4e3b22){let _0x2f4104='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0xac169d=_0x4e3b22 instanceof Error?_0x4e3b22['message']:typeof _0x4e3b22==_0x1033bd(0x1a5)?JSON[_0x1033bd(0x1dc)](_0x4e3b22):_0x4e3b22,_0x180003=_0x2f4104+':\x20'+_0xac169d;throw this[_0x1033bd(0xfa)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1033bd(0x60f)]+_0x1033bd(0x2fb)+_0x180003),new j(_0x180003);}}async[a0_0x3eb0d8(0x68d)](_0x485090){const _0x207260=a0_0x3eb0d8;try{let _0x421dbc=await this[_0x207260(0x1d3)][_0x207260(0x649)](_0x485090['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x421dbc,'inviteCode':_0x421dbc};}catch(_0x5292c2){let _0x1292b4=_0x207260(0x421),_0x4d74f2=_0x5292c2 instanceof Error?_0x5292c2[_0x207260(0x3a7)]:typeof _0x5292c2==_0x207260(0x1a5)?JSON['stringify'](_0x5292c2):_0x5292c2,_0x4339eb=_0x1292b4+':\x20'+_0x4d74f2;throw this[_0x207260(0xfa)]['error'](this[_0x207260(0x1a8)]+'\x20('+this[_0x207260(0x245)][_0x207260(0x60f)]+_0x207260(0x2fb)+_0x4339eb),new j(_0x4339eb);}}async[a0_0x3eb0d8(0x3ab)](_0x195389){const _0x38966a=a0_0x3eb0d8;try{if((0x0,k[_0x38966a(0x1a2)])(_0x195389[_0x38966a(0x3fa)]))var _0x5285ba=_0x195389[_0x38966a(0x3fa)][_0x38966a(0x766)]('/')[0x3];else var _0x5285ba=_0x195389[_0x38966a(0x3fa)];let _0x46cce8=await this[_0x38966a(0x1d3)][_0x38966a(0x2cc)](_0x5285ba);return this['logger'][_0x38966a(0x671)](this[_0x38966a(0x1a8)]+'\x20('+this['instance'][_0x38966a(0x60f)]+_0x38966a(0x2fb)+_0x46cce8),{'join':!0x0,'inviteCode':_0x5285ba,'groupJid':_0x46cce8};}catch(_0x16996c){let _0x27b6e0=_0x38966a(0x495),_0x3b30a9=_0x16996c instanceof Error?_0x16996c[_0x38966a(0x3a7)]:typeof _0x16996c==_0x38966a(0x1a5)?JSON['stringify'](_0x16996c):_0x16996c,_0x393ba4=_0x27b6e0+':\x20'+_0x3b30a9;throw this[_0x38966a(0xfa)][_0x38966a(0x1ca)](this['instanceName']+'\x20('+this[_0x38966a(0x245)][_0x38966a(0x60f)]+_0x38966a(0x2fb)+_0x393ba4),new j(_0x393ba4);}}async[a0_0x3eb0d8(0x285)](_0x5e32aa){const _0x49dc28=a0_0x3eb0d8;try{return{'participants':(await this['repository'][_0x49dc28(0x215)][_0x49dc28(0x657)]({'where':{'_id':_0x5e32aa['groupJid']}},this[_0x49dc28(0x245)]['wuid']))[_0x49dc28(0x305)]['participants']};}catch(_0x7a8512){let _0x53c3d3=_0x49dc28(0x737),_0x2b7e90=_0x7a8512 instanceof Error?_0x7a8512[_0x49dc28(0x3a7)]:typeof _0x7a8512==_0x49dc28(0x1a5)?JSON[_0x49dc28(0x1dc)](_0x7a8512):_0x7a8512,_0x4a82c9=_0x53c3d3+':\x20'+_0x2b7e90;throw this[_0x49dc28(0xfa)]['error'](this[_0x49dc28(0x1a8)]+'\x20('+this[_0x49dc28(0x245)][_0x49dc28(0x60f)]+'):\x20'+_0x4a82c9),new j(_0x4a82c9);}}async[a0_0x3eb0d8(0x72e)](_0x3d2965){const _0x369de0=a0_0x3eb0d8;try{return await this[_0x369de0(0x1d3)][_0x369de0(0x640)](_0x3d2965['groupJid']),{'groupJid':_0x3d2965[_0x369de0(0x1fd)],'leave':!0x0};}catch(_0x7737c6){let _0x23459e=_0x369de0(0x65c),_0x269351=_0x7737c6 instanceof Error?_0x7737c6[_0x369de0(0x3a7)]:typeof _0x7737c6==_0x369de0(0x1a5)?JSON[_0x369de0(0x1dc)](_0x7737c6):_0x7737c6,_0x29dda8=_0x23459e+':\x20'+_0x269351;throw this[_0x369de0(0xfa)][_0x369de0(0x1ca)](this[_0x369de0(0x1a8)]+'\x20('+this[_0x369de0(0x245)]['wuid']+_0x369de0(0x2fb)+_0x29dda8),new m(_0x29dda8);}}async[a0_0x3eb0d8(0x6ad)](_0xdfbd38){const _0x5c38b9=a0_0x3eb0d8;return await this[_0x5c38b9(0x2ec)](_0xdfbd38['number'],{'poll':{'name':_0xdfbd38['pollMessage']?.['name'],'selectableCount':_0xdfbd38['pollMessage'][_0x5c38b9(0x548)],'values':_0xdfbd38[_0x5c38b9(0x6ad)]['values']}},_0xdfbd38?.[_0x5c38b9(0x1be)]);}async[a0_0x3eb0d8(0xec)](_0x3f6118){const _0x593c27=a0_0x3eb0d8;return await this[_0x593c27(0x2ec)](_0x3f6118['number'],{'listMessage':{'title':_0x3f6118[_0x593c27(0xec)]['title'],'description':_0x3f6118[_0x593c27(0xec)][_0x593c27(0x29d)],'buttonText':_0x3f6118[_0x593c27(0xec)]?.[_0x593c27(0x7b6)],'footerText':_0x3f6118[_0x593c27(0xec)]?.[_0x593c27(0x716)],'sections':_0x3f6118['listMessage'][_0x593c27(0x182)],'listType':0x2}},_0x3f6118?.[_0x593c27(0x1be)]);}async[a0_0x3eb0d8(0x7ab)](_0x51c9f4){const _0x34756e=a0_0x3eb0d8;let _0x4d815a;if(_0x51c9f4['menuMessage'][_0x34756e(0x1d5)]===_0x34756e(0x241)){let _0x740a8d=_0x51c9f4[_0x34756e(0x7ab)][_0x34756e(0x3ef)][_0x34756e(0x6fd)]('\x0a'),_0x23deeb='',_0x5cb463='';_0x740a8d!==-0x1?(_0x23deeb=_0x51c9f4[_0x34756e(0x7ab)][_0x34756e(0x3ef)][_0x34756e(0x608)](0x0,_0x740a8d)[_0x34756e(0x6ae)](),_0x5cb463=_0x51c9f4[_0x34756e(0x7ab)][_0x34756e(0x3ef)][_0x34756e(0x608)](_0x740a8d+0x1)):_0x5cb463=_0x51c9f4['menuMessage'][_0x34756e(0x3ef)];let _0x1b4072=_0x51c9f4['menuMessage'][_0x34756e(0x48d)][_0x34756e(0x1d9)](_0x2a0336=>_0x2a0336['trim']()!==''),_0x2e3746=this[_0x34756e(0x2a5)](_0x1b4072);_0x4d815a={'listMessage':{'title':_0x23deeb,'description':_0x5cb463,'buttonText':_0x51c9f4[_0x34756e(0x7ab)][_0x34756e(0x7b6)]||'Selecione','footerText':_0x51c9f4['menuMessage'][_0x34756e(0x716)],'sections':_0x2e3746,'listType':0x2}};}else{if(_0x51c9f4[_0x34756e(0x7ab)]['type']===_0x34756e(0x4c5)){let _0x18939a=_0x51c9f4['menuMessage']['choices'][_0x34756e(0x1d9)](_0x32976d=>!(_0x32976d[_0x34756e(0x631)]('[')&&_0x32976d[_0x34756e(0x13d)](']'))&&_0x32976d[_0x34756e(0x6ae)]()!=='')[_0x34756e(0x437)](_0x31e2b9=>_0x31e2b9[_0x34756e(0x766)]('\x0a')[0x0]);_0x4d815a={'poll':{'name':_0x51c9f4[_0x34756e(0x7ab)]['text'],'selectableCount':_0x51c9f4[_0x34756e(0x7ab)]['selectableCount']||0x1,'values':_0x18939a}};}}return await this['sendMessageWithTyping'](_0x51c9f4['number'],_0x4d815a,_0x51c9f4?.[_0x34756e(0x1be)]);}[a0_0x3eb0d8(0x2a5)](_0x3d21e3){const _0x1da821=a0_0x3eb0d8;let _0x3e4457=[],_0x495c61={'rows':[]};return _0x3d21e3[_0x1da821(0x16b)](_0x3c409a=>{const _0x5026a3=_0x1da821;if(_0x3c409a[_0x5026a3(0x631)]('[')&&_0x3c409a[_0x5026a3(0x13d)](']'))_0x495c61[_0x5026a3(0x637)][_0x5026a3(0x75f)]>0x0&&_0x3e4457[_0x5026a3(0x3c2)](_0x495c61),_0x495c61={'title':_0x3c409a[_0x5026a3(0x465)](0x1,-0x1),'rows':[]};else{let _0x3f9b39=_0x3c409a['split']('\x0a')[_0x5026a3(0x437)](_0xb544ce=>_0xb544ce['trim']()),_0x384701=_0x3f9b39[0x0],_0x3f36d8=_0x3f9b39[0x1]||null,_0x40f214=_0x3f9b39[0x2]||_0x384701;_0x495c61[_0x5026a3(0x637)][_0x5026a3(0x3c2)]({'title':_0x384701,'description':_0x3f36d8,'rowId':_0x40f214});}}),_0x495c61[_0x1da821(0x637)][_0x1da821(0x75f)]>0x0&&_0x3e4457[_0x1da821(0x3c2)](_0x495c61),_0x3e4457;}async[a0_0x3eb0d8(0x6ef)](_0x58ae0e,_0x2a37ad){const _0x1dc82a=a0_0x3eb0d8;if(await this[_0x1dc82a(0x253)](_0x58ae0e,!0x0)){let _0x22b8cd={'where':{'_id':_0x58ae0e['id']}},_0x24bdb2={'status':[_0x2a37ad[_0x1dc82a(0x226)]][0x0]};try{let _0x508db2=await this[_0x1dc82a(0x4f1)]['message'][_0x1dc82a(0x670)](_0x22b8cd,_0x24bdb2,this['instance'][_0x1dc82a(0x60f)]);_0x508db2&&J(this[_0x1dc82a(0x1a8)],_0x1dc82a(0x674),{'message':_0x508db2});}catch{}}}[a0_0x3eb0d8(0x1e3)](_0x18135a){const _0x1d978a=a0_0x3eb0d8;let _0x4a47e6=[];return _0x18135a[_0x1d978a(0x16b)](_0xc805c3=>{const _0x5494a9=_0x1d978a;_0xc805c3[_0x5494a9(0x816)]&&_0x4a47e6[_0x5494a9(0x3c2)]('['+_0xc805c3[_0x5494a9(0x816)]+']'),_0xc805c3['rows'][_0x5494a9(0x16b)](_0x156146=>{const _0x2a8829=_0x5494a9;_0x4a47e6[_0x2a8829(0x3c2)](_0x156146['title']);});}),_0x4a47e6['join']('|');}[a0_0x3eb0d8(0x53d)](_0x104d8a){const _0x1d7f60=a0_0x3eb0d8;let _0x5cbe91=_0x104d8a[_0x1d7f60(0x67e)](/\\n/g,'\x0a')[_0x1d7f60(0x766)]('\x0a')[_0x1d7f60(0x1d9)](_0xc52790=>_0xc52790[_0x1d7f60(0x5d6)](_0x1d7f60(0x693))||_0xc52790[_0x1d7f60(0x5d6)](_0x1d7f60(0x672))),_0x3c8a97='';return _0x5cbe91[_0x1d7f60(0x16b)](_0x48bd32=>{const _0x44c105=_0x1d7f60;let _0x55a101=/TEL(?:.*):(.+)/,_0xd9c638=/EMAIL(?:.*):(.+)/,_0x369b6d=_0x48bd32['match'](_0x55a101),_0x1a3558=_0x48bd32[_0x44c105(0xf6)](_0xd9c638);if(_0x369b6d){let _0x51ef8b=_0x369b6d[0x1][_0x44c105(0x67e)](/-| |\+|\(|\)/g,'')[_0x44c105(0x6ae)]();_0x3c8a97+=_0x44c105(0x1c8)+_0x51ef8b+'\x0a';}else{if(_0x1a3558){let _0x53a7ff=_0x1a3558[0x1][_0x44c105(0x6ae)]();_0x3c8a97+=_0x44c105(0x165)+_0x53a7ff+'\x0a';}}}),_0x3c8a97[_0x1d7f60(0x6ae)]();}async['updateChatWithMessage'](_0x2eb69d,_0x731136,_0x509456,_0x238839=null){const _0x34c23c=a0_0x3eb0d8;if(_0x2eb69d[_0x34c23c(0x4c9)])try{let _0xb72a94=_0x731136[_0x34c23c(0x33c)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x1534f4=_0x731136[_0x34c23c(0x33c)][_0x34c23c(0x344)],_0x1f25a1=_0xb72a94[_0x34c23c(0x13d)](_0x34c23c(0x481)),_0x29e955=_0x731136[_0x34c23c(0x4a4)]?.[_0x34c23c(0x67e)](/:\d{1,2}@/g,'@')||'',_0x2daa19=_0x731136[_0x34c23c(0x6a1)]?.[_0x34c23c(0x3ef)]||_0x731136[_0x34c23c(0x6a1)]?.[_0x34c23c(0xe5)]||_0x731136[_0x34c23c(0x6a1)]?.['vote']||_0x731136[_0x34c23c(0x6a1)]?.['name']||'',_0x10f77b={'_id':_0x731136[_0x34c23c(0x36f)],'remoteJid':_0x1534f4?this[_0x34c23c(0x245)][_0x34c23c(0x60f)]:_0x1f25a1?_0x29e955:_0xb72a94,'pushName':_0x1534f4?this[_0x34c23c(0x245)][_0x34c23c(0x2d2)]||'Eu':_0x731136[_0x34c23c(0x300)],'text':_0x2daa19,'type':_0x731136[_0x34c23c(0x216)],'when':_0x731136['messageTimestamp']||Date[_0x34c23c(0x117)]()};_0x238839||(_0x238839=await this[_0x34c23c(0x4f1)]['chat']['findOne']({'where':{'_id':_0xb72a94}},this[_0x34c23c(0x245)][_0x34c23c(0x60f)]));let _0x8b24c=_0x238839?_0x1534f4?_0x238839[_0x34c23c(0x712)]:(_0x238839[_0x34c23c(0x712)]||0x0)+0x1:_0x1534f4?0x0:0x1,_0x1f71e3={'lastmsg':_0x731136[_0x34c23c(0x1e8)]||Date[_0x34c23c(0x117)](),'ephemeralExpiration':_0x731136[_0x34c23c(0x3cd)],'lastMessage':_0x10f77b,'unreadcount':_0x8b24c,..._0x1534f4||_0x1f25a1?{}:{'name':_0x731136[_0x34c23c(0x300)]},..._0x1f25a1?{'group':_0x1f25a1}:{},...!_0x1534f4&&!_0x1f25a1&&_0x731136['profilePictureUrl']?{'imagechat':_0x731136['profilePictureUrl']}:{}};if(!_0x1f25a1&&(!_0x238839?.[_0x34c23c(0x594)]||!_0x238839['leadInfo']['nome'])&&_0x731136[_0x34c23c(0x300)]&&!_0x1534f4&&(_0x1f71e3={..._0x1f71e3,'leadInfo.nome':_0x731136[_0x34c23c(0x300)]}),_0x238839?.[_0x34c23c(0x594)][_0x34c23c(0x60c)]||(_0x1f71e3={..._0x1f71e3,'leadInfo.etiquetas':[]}),_0x238839?.[_0x34c23c(0x594)][_0x34c23c(0x2bf)]||(_0x1f71e3={..._0x1f71e3,'leadInfo.customFields':[]}),_0x238839?.[_0x34c23c(0x594)]['tags']||(_0x1f71e3={..._0x1f71e3,'leadInfo.tags':[]}),_0x238839&&_0x238839?.['imported']){let _0x55ff27=await this['repository'][_0x34c23c(0x357)][_0x34c23c(0x551)]({'where':{}},this[_0x34c23c(0x245)][_0x34c23c(0x60f)]),_0x55ab33=new Set(_0x55ff27[_0x34c23c(0x437)](_0x5143a0=>_0x5143a0['_id'])),_0x30647b=(_0x238839[_0x34c23c(0x594)]?.['etiquetas']||[])[_0x34c23c(0x1d9)](_0x2cb8e0=>_0x55ab33[_0x34c23c(0x10e)](_0x2cb8e0));_0x1f71e3={..._0x1f71e3,'imported':!0x1,'leadInfo.etiquetas':_0x30647b};for(let _0x3206c3 of _0x30647b)await this[_0x34c23c(0x527)](_0x3206c3,_0xb72a94);}if(!this[_0x34c23c(0x521)][_0x34c23c(0x66d)][_0x34c23c(0x551)](_0x5c7c07=>_0x5c7c07['startCommand']&&_0x2daa19[_0x34c23c(0x5d6)](_0x5c7c07[_0x34c23c(0x3b1)]))&&_0x509456===_0x34c23c(0x42e)&&_0x1534f4&&this['AutomateSystem']?.[_0x34c23c(0x137)][_0x34c23c(0x676)]&&_0x2daa19[_0x34c23c(0x6ae)]()!==this[_0x34c23c(0x521)]?.['flowConfig'][_0x34c23c(0x7e0)]['trim']()){let _0x1022c3=(this[_0x34c23c(0x521)]?.['flowConfig'][_0x34c23c(0x603)]||0x0)*0xea60,_0x3dcd6e=Date[_0x34c23c(0x117)]()+_0x1022c3;_0x238839?.['leadInfo']?.[_0x34c23c(0x51c)]===0x0||(_0x1f71e3={..._0x1f71e3,'leadInfo.desativadoFluxoAte':_0x3dcd6e},this['logger'][_0x34c23c(0x671)](this['instanceName']+'\x20('+this[_0x34c23c(0x245)][_0x34c23c(0x60f)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x3dcd6e+'.'));}if(_0x2daa19[_0x34c23c(0x6ae)]()===this[_0x34c23c(0x521)]?.[_0x34c23c(0x137)][_0x34c23c(0x7e0)][_0x34c23c(0x6ae)]()){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x34c23c(0x245)]['wuid']+_0x34c23c(0x4a1)+_0x2daa19);let _0x18b3c9=Date[_0x34c23c(0x117)]();this[_0x34c23c(0x521)]?.[_0x34c23c(0x137)][_0x34c23c(0x812)]===0x0?_0x1f71e3={..._0x1f71e3,'leadInfo.desativadoFluxoAte':_0x18b3c9+0x7591f6200}:_0x1f71e3={..._0x1f71e3,'leadInfo.desativadoFluxoAte':_0x18b3c9+this[_0x34c23c(0x521)]?.[_0x34c23c(0x137)][_0x34c23c(0x812)]*0x3c*0x3e8};}if(_0x238839=await this[_0x34c23c(0x4f1)]['chat'][_0x34c23c(0x57f)]({'where':{'_id':_0xb72a94}},_0x1f71e3,this[_0x34c23c(0x245)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x238839)J(this[_0x34c23c(0x1a8)],'chats',{'chat':_0x238839});else{this['logger'][_0x34c23c(0x1ca)](this[_0x34c23c(0x1a8)]+'\x20('+this[_0x34c23c(0x245)][_0x34c23c(0x60f)]+_0x34c23c(0x42f));return;}if(_0x1534f4)return this[_0x34c23c(0xfa)][_0x34c23c(0x671)](this['instanceName']+'\x20('+this[_0x34c23c(0x245)]['wuid']+_0x34c23c(0x149)),null;if(!this['AutomateSystem']?.['flowConfig'][_0x34c23c(0x676)])return this[_0x34c23c(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x34c23c(0x245)][_0x34c23c(0x60f)]+_0x34c23c(0x164)),null;if(_0x238839[_0x34c23c(0x36f)][_0x34c23c(0x5d6)](_0x34c23c(0x481))&&this[_0x34c23c(0x521)]?.[_0x34c23c(0x137)][_0x34c23c(0x6a4)]===!0x0)return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x34c23c(0x245)][_0x34c23c(0x60f)]+_0x34c23c(0x3fd)),null;if(_0x238839[_0x34c23c(0x594)]){if(_0x238839[_0x34c23c(0x594)][_0x34c23c(0x51c)]===0x0||_0x238839[_0x34c23c(0x594)][_0x34c23c(0x21e)])return this[_0x34c23c(0xfa)][_0x34c23c(0x671)](this[_0x34c23c(0x1a8)]+'\x20('+this[_0x34c23c(0x245)][_0x34c23c(0x60f)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0xb72a94+_0x34c23c(0x626)),null;if(_0x238839['leadInfo'][_0x34c23c(0x51c)]>Date[_0x34c23c(0x117)]()&&!_0x731136[_0x34c23c(0x6a1)]?.[_0x34c23c(0x531)])return this[_0x34c23c(0xfa)][_0x34c23c(0x671)](this[_0x34c23c(0x1a8)]+'\x20('+this[_0x34c23c(0x245)][_0x34c23c(0x60f)]+_0x34c23c(0x3f9)+new Date(_0x238839[_0x34c23c(0x594)]['desativadoFluxoAte'])[_0x34c23c(0x120)]()+_0x34c23c(0x626)),null;}this['logger'][_0x34c23c(0x671)](this[_0x34c23c(0x1a8)]+'\x20('+this[_0x34c23c(0x245)]['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x34c23c(0x229)](_0x731136,_0x509456);}catch(_0xf2c80){let _0xcaaff6=_0x34c23c(0x589),_0x1abac4=_0xf2c80 instanceof Error?_0xf2c80['message']:typeof _0xf2c80==_0x34c23c(0x1a5)?JSON['stringify'](_0xf2c80):_0xf2c80,_0x5d3538=_0xcaaff6+':\x20'+_0x1abac4;return this['logger'][_0x34c23c(0x1ca)](this[_0x34c23c(0x1a8)]+'\x20('+this['instance'][_0x34c23c(0x60f)]+_0x34c23c(0x2fb)+_0x5d3538),null;}}async[a0_0x3eb0d8(0x250)](_0x5e84f9,_0x31e686){const _0x18b358=a0_0x3eb0d8;if(_0x31e686[_0x18b358(0x4c9)]){let _0x209c32=_0x5e84f9[_0x18b358(0x437)](async _0x1b981b=>{const _0x4de28e=_0x18b358;try{let _0x31c7f2={'_id':_0x1b981b[_0x4de28e(0x36f)],'owner':_0x1b981b['owner'],'lastcache':0x0};if(Object[_0x4de28e(0x130)](_0x1b981b)[_0x4de28e(0x16b)](_0x4b098a=>{_0x1b981b[_0x4b098a]!==null&&(_0x31c7f2[_0x4b098a]=_0x1b981b[_0x4b098a]);}),_0x31c7f2['imagechat']===null&&(_0x31c7f2[_0x4de28e(0x73a)]=_0x4de28e(0x686)),Object[_0x4de28e(0x130)](_0x31c7f2)['length']>0x0)return await this[_0x4de28e(0x4f1)][_0x4de28e(0x215)][_0x4de28e(0x57f)]({'where':{'_id':_0x1b981b[_0x4de28e(0x36f)]}},_0x31c7f2,this['instance'][_0x4de28e(0x60f)]);}catch(_0xdb9006){let _0x585928=_0x4de28e(0x2e2)+_0x1b981b[_0x4de28e(0x36f)],_0x51a7c2=_0xdb9006 instanceof Error?_0xdb9006[_0x4de28e(0x3a7)]:typeof _0xdb9006==_0x4de28e(0x1a5)?JSON[_0x4de28e(0x1dc)](_0xdb9006):_0xdb9006,_0x16ca6c=_0x585928+':\x20'+_0x51a7c2;return this[_0x4de28e(0xfa)][_0x4de28e(0x1ca)](this[_0x4de28e(0x1a8)]+'\x20('+this[_0x4de28e(0x245)][_0x4de28e(0x60f)]+_0x4de28e(0x2fb)+_0x16ca6c),null;}}),_0x4df723=(await Promise[_0x18b358(0x7a9)](_0x209c32))[_0x18b358(0x1d9)](_0x2ac3b2=>_0x2ac3b2!==null)[_0x18b358(0x75f)];this['logger'][_0x18b358(0x671)](this['instanceName']+'\x20('+this[_0x18b358(0x245)][_0x18b358(0x60f)]+_0x18b358(0x2fb)+_0x4df723+'\x20chats\x20de\x20'+this['instance']['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x48bae2){const _0x1e4baa=a0_0x3eb0d8;this[_0x1e4baa(0xfa)][_0x1e4baa(0x671)](this[_0x1e4baa(0x1a8)]+'\x20('+this[_0x1e4baa(0x245)][_0x1e4baa(0x60f)]+_0x1e4baa(0x3f7));let _0x35ad81={'readMessages':[{'remoteJid':_0x48bae2[_0x1e4baa(0x5b1)][_0x1e4baa(0x281)][_0x1e4baa(0x33c)][_0x1e4baa(0x3f6)],'fromMe':_0x48bae2[_0x1e4baa(0x5b1)]['lastReceivedMessage']['key'][_0x1e4baa(0x344)],'id':_0x48bae2[_0x1e4baa(0x5b1)][_0x1e4baa(0x281)][_0x1e4baa(0x33c)]['id']}]};await this['markMessageAsRead'](_0x35ad81);}async['StartBot'](_0x2b8d30,_0x4412e2){const _0x1c7ee8=a0_0x3eb0d8;try{let {key:_0x322346,message_normalized:_0x54e7be}=_0x2b8d30,_0x2792a6=_0x54e7be,_0x135c48=_0x54e7be[_0x1c7ee8(0x3ef)]||_0x54e7be[_0x1c7ee8(0xe5)]||_0x54e7be[_0x1c7ee8(0x531)]||_0x54e7be[_0x1c7ee8(0x21a)]||'',_0x580588=_0x322346[_0x1c7ee8(0x3f6)],_0x532deb=null,_0x2c0edb=this[_0x1c7ee8(0x521)][_0x1c7ee8(0x66d)][_0x1c7ee8(0x551)](_0x177825=>_0x177825['startCommand']&&_0x135c48[_0x1c7ee8(0x5d6)](_0x177825[_0x1c7ee8(0x3b1)]));if(_0x2c0edb&&_0x4412e2===_0x1c7ee8(0x42e)){let _0x481b2b=await this[_0x1c7ee8(0x4f1)][_0x1c7ee8(0x800)]['findOne']({'where':{'_id':_0x2c0edb['_id']}});if(this[_0x1c7ee8(0xfa)][_0x1c7ee8(0x671)](this[_0x1c7ee8(0x1a8)]+'\x20('+this[_0x1c7ee8(0x245)][_0x1c7ee8(0x60f)]+_0x1c7ee8(0x7b7)),_0x481b2b&&_0x481b2b['whoCanUse']?.['includes'](this['instance'][_0x1c7ee8(0x60f)]))_0x532deb=await this[_0x1c7ee8(0x61e)](_0x481b2b,_0x322346,_0x2792a6);else return this[_0x1c7ee8(0xfa)][_0x1c7ee8(0x671)](this[_0x1c7ee8(0x1a8)]+'\x20('+this['instance'][_0x1c7ee8(0x60f)]+_0x1c7ee8(0x823)),null;}else this[_0x1c7ee8(0xfa)][_0x1c7ee8(0x671)](this[_0x1c7ee8(0x1a8)]+'\x20('+this[_0x1c7ee8(0x245)]['wuid']+_0x1c7ee8(0x248));if(_0x532deb=await this[_0x1c7ee8(0x163)](_0x580588,_0x2792a6),_0x532deb){this['logger'][_0x1c7ee8(0x671)](this[_0x1c7ee8(0x1a8)]+'\x20('+this[_0x1c7ee8(0x245)][_0x1c7ee8(0x60f)]+_0x1c7ee8(0x150)),!_0x322346[_0x1c7ee8(0x344)]&&_0x532deb[_0x1c7ee8(0x360)]&&this['readMessageBot'](_0x532deb);let _0x3668b3=await this['NextBlock'](_0x532deb);_0x3668b3&&await this['processblock'](_0x532deb,_0x3668b3);}}catch(_0x1e5344){this['logger']['error'](this[_0x1c7ee8(0x1a8)]+'\x20('+this['instance'][_0x1c7ee8(0x60f)]+_0x1c7ee8(0x56f)+(_0x1e5344 instanceof Error?_0x1e5344[_0x1c7ee8(0x3a7)]:JSON['stringify'](_0x1e5344,null,0x2)));}}['flattenObject'](_0x16ea29,_0x129335='',_0x14682d={}){const _0x533e34=a0_0x3eb0d8;return typeof _0x16ea29!=_0x533e34(0x1a5)||_0x16ea29===null?(_0x129335&&(_0x14682d[_0x129335]=_0x16ea29),_0x14682d):(Object['entries'](_0x16ea29)[_0x533e34(0x16b)](([_0x56e057,_0x29e059])=>{const _0x5e45d6=_0x533e34;let _0xf520e8=_0x129335?_0x129335+'.'+_0x56e057:'_'+_0x56e057;Array[_0x5e45d6(0x20f)](_0x29e059)?_0x29e059['forEach']((_0x206c49,_0x3d9b73)=>{const _0x214465=_0x5e45d6;this[_0x214465(0x43a)](_0x206c49,_0xf520e8+'['+_0x3d9b73+']',_0x14682d);}):typeof _0x29e059==_0x5e45d6(0x1a5)&&_0x29e059!==null?this[_0x5e45d6(0x43a)](_0x29e059,_0xf520e8,_0x14682d):_0x14682d[_0xf520e8]=String(_0x29e059);}),_0x14682d);}['variablesToObject'](_0x19f94e){const _0x77f801=a0_0x3eb0d8;let _0x1422b7={};for(let _0x5591ea of _0x19f94e)typeof _0x5591ea['name']==_0x77f801(0x129)&&typeof _0x5591ea['value']==_0x77f801(0x129)&&(_0x1422b7[_0x5591ea['name']]=_0x5591ea[_0x77f801(0x412)]);return _0x1422b7;}async[a0_0x3eb0d8(0x7b1)](_0xb0d48d){const _0x5ae9fe=a0_0x3eb0d8;if(!this[_0x5ae9fe(0x521)]?.[_0x5ae9fe(0x137)][_0x5ae9fe(0x676)]||_0xb0d48d['status']!==_0x5ae9fe(0x156)&&_0xb0d48d['waitingMenu_id']==='')return null;let _0x47d53a=_0xb0d48d[_0x5ae9fe(0x5b1)]['lastBlockId']||_0x5ae9fe(0x7f4);typeof _0xb0d48d['chatLog'][_0x5ae9fe(0x489)]>'u'&&(_0xb0d48d[_0x5ae9fe(0x5b1)][_0x5ae9fe(0x489)]=!0x0);let _0x18d733=_0xb0d48d[_0x5ae9fe(0x5b1)]['lastCondition'];this['logger'][_0x5ae9fe(0x671)](this[_0x5ae9fe(0x1a8)]+'\x20('+this['instance']['wuid']+_0x5ae9fe(0x2ce)+_0x47d53a+_0x5ae9fe(0x178)+_0x18d733);let _0x5b6f85=_0x47d53a===_0x5ae9fe(0x7f4)?_0xb0d48d[_0x5ae9fe(0x57b)][_0x5ae9fe(0x551)](_0x3df3ed=>_0x3df3ed[_0x5ae9fe(0x1d5)]===_0x5ae9fe(0x7f4)):_0xb0d48d[_0x5ae9fe(0x57b)][_0x5ae9fe(0x551)](_0x439d68=>_0x439d68[_0x5ae9fe(0x36f)]['toString']()===_0x47d53a[_0x5ae9fe(0x121)]());if(!_0x5b6f85)return this[_0x5ae9fe(0xfa)][_0x5ae9fe(0x1ca)](this[_0x5ae9fe(0x1a8)]+'\x20('+this[_0x5ae9fe(0x245)][_0x5ae9fe(0x60f)]+_0x5ae9fe(0x508)+_0x47d53a),null;let _0x30acd6={'_pushName':_0xb0d48d?.[_0x5ae9fe(0x5b1)]?.['lastReceivedMessage']?.[_0x5ae9fe(0x300)]||'','_sender':this['instance'][_0x5ae9fe(0x60f)]||'',..._0xb0d48d[_0x5ae9fe(0x5b1)][_0x5ae9fe(0x67d)]},_0x5dd26e=null;if(_0xb0d48d[_0x5ae9fe(0x17b)]){let _0x393edd=_0xb0d48d['chatLog']['lastReceivedMessage'][_0x5ae9fe(0x531)],_0x4023a3=_0xb0d48d[_0x5ae9fe(0x3eb)][_0x5ae9fe(0x551)](_0x2fda49=>_0x2fda49[_0x5ae9fe(0x40f)]===_0x393edd);if(_0x4023a3){let _0x4f3a62=_0x4023a3[_0x5ae9fe(0x6c8)];if(_0x5dd26e=_0xb0d48d[_0x5ae9fe(0x57b)][_0x5ae9fe(0x551)](_0x39e046=>_0x39e046['groupId']===_0x4f3a62&&_0x39e046[_0x5ae9fe(0x52e)]===0x1),_0x5b6f85['uazapi'][_0x5ae9fe(0x225)]){let _0xf17501={'id':_0xb0d48d[_0x5ae9fe(0x17b)],'remoteJid':_0xb0d48d[_0x5ae9fe(0x3f6)],'fromMe':!0x0};await this[_0x5ae9fe(0x3a6)](_0xf17501);}if(_0x5b6f85[_0x5ae9fe(0xc5)][_0x5ae9fe(0x225)]&&_0x5b6f85[_0x5ae9fe(0xc5)][_0x5ae9fe(0x68a)]&&_0x5b6f85[_0x5ae9fe(0xc5)]['menuType']===_0x5ae9fe(0x4c5)){let _0x1a2363={'number':_0xb0d48d[_0x5ae9fe(0x3f6)],'options':{'delay':0x0},'textMessage':{'text':_0x5ae9fe(0x139)+_0xb0d48d[_0x5ae9fe(0x7c4)]+_0x5ae9fe(0x3c5)+_0x393edd}};await this[_0x5ae9fe(0x257)](_0x1a2363);}_0xb0d48d[_0x5ae9fe(0x226)]='open',_0xb0d48d['waitingMenu_id']='',_0xb0d48d['waitingMenu_text']='',_0xb0d48d[_0x5ae9fe(0x3eb)]=[];}else{this[_0x5ae9fe(0xfa)][_0x5ae9fe(0x671)](this[_0x5ae9fe(0x1a8)]+'\x20('+this[_0x5ae9fe(0x245)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x48f35e={'activatedCount':_0xb0d48d[_0x5ae9fe(0x5b1)][_0x5ae9fe(0x12a)][_0x5ae9fe(0x1d9)](_0x4bc210=>String(_0x4bc210[_0x5ae9fe(0x7fb)])===String(_0x47d53a))['length'],'moreLogs':[_0x5ae9fe(0x3ee)]};if(_0x5b6f85[_0x5ae9fe(0xc5)][_0x5ae9fe(0x819)]){let _0x482d81={'number':_0xb0d48d[_0x5ae9fe(0x3f6)],'options':{'delay':0x0},'textMessage':{'text':_0x5b6f85[_0x5ae9fe(0xc5)]['pollErrorMessage']}};await this[_0x5ae9fe(0x257)](_0x482d81);}if(_0x5b6f85[_0x5ae9fe(0x6ea)]!==void 0x0&&_0x48f35e['activatedCount']>=_0x5b6f85[_0x5ae9fe(0x6ea)]){let _0x290582=Date['now'](),_0x3ce591=_0x5b6f85['stopMinutesMaxActives']??0xa;isNaN(_0x3ce591)&&(_0x3ce591=0xa);let _0xc3a472=_0x290582+_0x3ce591*0x3c*0x3e8;_0x48f35e[_0x5ae9fe(0x822)]=_0xc3a472,_0x48f35e['moreLogs'][_0x5ae9fe(0x3c2)](_0x5ae9fe(0x327)),this[_0x5ae9fe(0x50a)](_0xb0d48d,_0xc3a472),_0xb0d48d[_0x5ae9fe(0x17b)]='',_0xb0d48d['waitingMenu_text']='',_0xb0d48d[_0x5ae9fe(0x3eb)]=[];}return this[_0x5ae9fe(0x750)](_0xb0d48d,_0x5b6f85,_0x48f35e,!0x0),null;}}if(_0x18d733&&_0x5b6f85[_0x5ae9fe(0x6c8)]&&!_0xb0d48d[_0x5ae9fe(0x17b)]){let _0x2de5bb=_0xb0d48d['blocks'][_0x5ae9fe(0x1d9)](_0x49d20e=>_0x49d20e['groupId'][_0x5ae9fe(0x121)]()===_0x5b6f85[_0x5ae9fe(0x6c8)]['toString']())['sort']((_0x371682,_0x708bb5)=>_0x371682[_0x5ae9fe(0x52e)]-_0x708bb5['order']);_0x2de5bb[_0x5ae9fe(0x75f)]>0x0&&(_0x5dd26e=_0x2de5bb[0x0]);}if(!_0x5dd26e){let _0x528d52=_0x5b6f85[_0x5ae9fe(0x25f)],_0x9c3e90=_0xb0d48d[_0x5ae9fe(0x57b)][_0x5ae9fe(0x1d9)](_0x3f3bad=>_0x3f3bad[_0x5ae9fe(0x25f)]===_0x528d52&&_0x3f3bad[_0x5ae9fe(0x52e)]>_0x5b6f85[_0x5ae9fe(0x52e)])[_0x5ae9fe(0x50e)]((_0x3c3318,_0x1c6bb8)=>_0x3c3318[_0x5ae9fe(0x52e)]-_0x1c6bb8[_0x5ae9fe(0x52e)]);_0x9c3e90['length']>0x0&&(_0x5dd26e=_0x9c3e90[0x0]);}if(!_0x5dd26e)return _0xb0d48d['status']=_0x5ae9fe(0x499),null;_0xb0d48d['chatLog'][_0x5ae9fe(0x67d)]=_0x30acd6;let _0x157fdd=JSON[_0x5ae9fe(0x814)](JSON[_0x5ae9fe(0x1dc)](_0x5dd26e));return this[_0x5ae9fe(0x44b)](_0x157fdd,_0xb0d48d[_0x5ae9fe(0x5b1)][_0x5ae9fe(0x67d)]),_0xb0d48d[_0x5ae9fe(0x5b1)][_0x5ae9fe(0x5eb)]=_0x157fdd['_id'],_0xb0d48d[_0x5ae9fe(0x5b1)][_0x5ae9fe(0x489)]=!0x0,_0x157fdd;}[a0_0x3eb0d8(0x11e)](_0x3b1de5,_0x280373){const _0x75e773=a0_0x3eb0d8;return _0x3b1de5[_0x75e773(0x67e)](/\{\{([^}]+)\}\}/g,(_0x5dc12f,_0x24378a)=>_0x280373[_0x24378a]||'');}[a0_0x3eb0d8(0x44b)](_0x22f38c,_0xd8fe46){const _0x23f56f=a0_0x3eb0d8;for(let _0x264551 in _0x22f38c)typeof _0x22f38c[_0x264551]==_0x23f56f(0x129)?_0x22f38c[_0x264551]=this[_0x23f56f(0x11e)](_0x22f38c[_0x264551],_0xd8fe46):typeof _0x22f38c[_0x264551]==_0x23f56f(0x1a5)&&this[_0x23f56f(0x44b)](_0x22f38c[_0x264551],_0xd8fe46);}async['goNextblock'](_0x1f1d13,_0x525d91){const _0x271ba1=a0_0x3eb0d8;let _0x4420cd=_0x525d91['_id'];if(_0x1f1d13[_0x271ba1(0x5b1)]&&_0x1f1d13[_0x271ba1(0x5b1)][_0x271ba1(0x12a)]){let _0x324a14=_0x1f1d13['chatLog'][_0x271ba1(0x12a)][_0x271ba1(0x1d9)](_0x36293e=>String(_0x36293e['blockId'])===String(_0x4420cd))[_0x271ba1(0x349)]();if(_0x324a14&&_0x324a14[_0x271ba1(0x1ca)]&&_0x525d91['stopIfLastReturnedError'])return _0x1f1d13[_0x271ba1(0x226)]=_0x271ba1(0x499),await this['saveConversationToDatabase'](_0x1f1d13),null;}if(_0x525d91[_0x271ba1(0x1d5)]===_0x271ba1(0xc5)&&_0x525d91['uazapi'][_0x271ba1(0x3b9)]===_0x271ba1(0x6d6)&&_0x1f1d13[_0x271ba1(0x17b)])return _0x1f1d13[_0x271ba1(0x5b1)][_0x271ba1(0x5eb)]=_0x4420cd,await this['saveConversationToDatabase'](_0x1f1d13),null;let _0x44d359=await this[_0x271ba1(0x7b1)](_0x1f1d13);if(_0x1f1d13[_0x271ba1(0x5b1)]&&_0x1f1d13[_0x271ba1(0x5b1)]['blockLogs']){let _0x2f7778=_0x1f1d13[_0x271ba1(0x5b1)][_0x271ba1(0x12a)][_0x271ba1(0x1d9)](_0x220cec=>String(_0x220cec['blockId'])===String(_0x4420cd))['length'];if(_0x525d91[_0x271ba1(0x6ea)]!==void 0x0&&_0x2f7778>=_0x525d91[_0x271ba1(0x6ea)]){let _0x310354=Date[_0x271ba1(0x117)](),_0x4284ec=_0x525d91['stopMinutesMaxActives']??0xa;isNaN(_0x4284ec)&&(_0x4284ec=0xa);let _0x4b7043=_0x310354+_0x4284ec*0x3c*0x3e8,_0x373e77={'newStoppedUntil':_0x4b7043};return this[_0x271ba1(0x50a)](_0x1f1d13,_0x4b7043),this[_0x271ba1(0x750)](_0x1f1d13,_0x525d91,_0x373e77,!0x0),null;}}_0x44d359&&_0x44d359[_0x271ba1(0x1d5)]!==_0x271ba1(0x413)&&await this[_0x271ba1(0xfd)](_0x1f1d13,_0x44d359),_0x44d359||await this[_0x271ba1(0x24b)](_0x1f1d13),_0x44d359&&_0x44d359[_0x271ba1(0x1d5)]===_0x271ba1(0x413)&&(_0x1f1d13[_0x271ba1(0x5b1)][_0x271ba1(0x5eb)]=_0x4420cd,await this[_0x271ba1(0x24b)](_0x1f1d13));}async['processblock'](_0x7f1c20,_0x7bc0d2){const _0x4f749a=a0_0x3eb0d8;try{let _0x48aee3=_0x7bc0d2[_0x4f749a(0x1d5)];this[_0x4f749a(0xfa)][_0x4f749a(0x671)](this['instanceName']+'\x20('+this[_0x4f749a(0x245)]['wuid']+_0x4f749a(0x22a)+_0x48aee3);let _0x12cc1e={'uazapi':()=>this[_0x4f749a(0xf9)](_0x7f1c20,_0x7bc0d2),'save':()=>this[_0x4f749a(0x6f8)](_0x7f1c20,_0x7bc0d2),'stop':()=>this[_0x4f749a(0x7e0)](_0x7f1c20,_0x7bc0d2),'condition':()=>this[_0x4f749a(0x22f)](_0x7f1c20,_0x7bc0d2),'varedit':()=>this[_0x4f749a(0x44a)](_0x7f1c20,_0x7bc0d2),'apirequest':()=>this['processApiRequest'](_0x7f1c20,_0x7bc0d2),'goToFlow':()=>this[_0x4f749a(0x418)](_0x7f1c20,_0x7bc0d2),'scheduleFlow':()=>this['processScheduleFlow'](_0x7f1c20,_0x7bc0d2),'awaitSeconds':()=>this['processawaitSeconds'](_0x7f1c20,_0x7bc0d2),'clearVariables':()=>this[_0x4f749a(0x113)](_0x7f1c20,_0x7bc0d2)}[_0x48aee3];_0x12cc1e&&await _0x12cc1e();}catch(_0x481b06){this[_0x4f749a(0xfa)]['error'](this[_0x4f749a(0x1a8)]+'\x20('+this[_0x4f749a(0x245)]['wuid']+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x481b06 instanceof Error?_0x481b06[_0x4f749a(0x3a7)]:JSON[_0x4f749a(0x1dc)](_0x481b06,null,0x2)));}}async[a0_0x3eb0d8(0x15d)](_0x4c736d,_0x446703){const _0x41ec0d=a0_0x3eb0d8;if(this[_0x41ec0d(0xfa)][_0x41ec0d(0x671)](this[_0x41ec0d(0x1a8)]+'\x20('+this['instance']['wuid']+_0x41ec0d(0x454)),!_0x4c736d||!_0x446703)return this['logger'][_0x41ec0d(0x1ca)](this[_0x41ec0d(0x1a8)]+'\x20('+this[_0x41ec0d(0x245)][_0x41ec0d(0x60f)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x13ec22=+_0x446703[_0x41ec0d(0x56a)];isNaN(_0x13ec22)&&(_0x13ec22=0x0),_0x13ec22=Math[_0x41ec0d(0x5bf)](_0x13ec22,0x3c),await(0x0,w[_0x41ec0d(0x7a2)])(_0x13ec22*0x3e8);let _0xb33c62={'moreLogs':[_0x41ec0d(0x570)+_0x13ec22+'\x20segundos']};return await this[_0x41ec0d(0x750)](_0x4c736d,_0x446703,_0xb33c62),_0x13ec22;}async['processclearVariables'](_0x3e0a11,_0x161cf4){const _0x391f23=a0_0x3eb0d8;if(this['logger'][_0x391f23(0x671)](this['instanceName']+'\x20('+this['instance'][_0x391f23(0x60f)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x3e0a11||!_0x161cf4)return this[_0x391f23(0xfa)][_0x391f23(0x1ca)](this[_0x391f23(0x1a8)]+'\x20('+this[_0x391f23(0x245)][_0x391f23(0x60f)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x218f2e=[];if(_0x161cf4[_0x391f23(0x6e4)][_0x391f23(0x6ae)]()===_0x391f23(0x415)){let _0x52e2d6=['_sender',_0x391f23(0x49a),_0x391f23(0x708),_0x391f23(0x20d),'_remoteJid',_0x391f23(0x36f),'_fromMe'];_0x218f2e=Object[_0x391f23(0x130)](_0x3e0a11['chatLog']['realVariables'])[_0x391f23(0x1d9)](_0x164aa0=>_0x164aa0['startsWith']('_')&&!_0x52e2d6[_0x391f23(0x5d6)](_0x164aa0));}else _0x218f2e=_0x161cf4[_0x391f23(0x6e4)]['split']('|')['map'](_0x3a1fd6=>(_0x3a1fd6=_0x3a1fd6[_0x391f23(0x67e)](/[{}]/g,'')[_0x391f23(0x6ae)](),_0x3a1fd6['startsWith']('_')?_0x3a1fd6:'_'+_0x3a1fd6));let _0x3fcd6e=[];_0x218f2e[_0x391f23(0x16b)](_0x325d22=>{const _0x4159bc=_0x391f23;_0x325d22 in _0x3e0a11['chatLog']['realVariables']&&(delete _0x3e0a11['chatLog'][_0x4159bc(0x67d)][_0x325d22],_0x3fcd6e[_0x4159bc(0x3c2)](_0x325d22));}),_0x3fcd6e[_0x391f23(0x75f)]>0x0?this[_0x391f23(0xfa)][_0x391f23(0x671)](this['instanceName']+'\x20('+this[_0x391f23(0x245)]['wuid']+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x3fcd6e['join'](',\x20')):this[_0x391f23(0xfa)][_0x391f23(0x671)](this[_0x391f23(0x1a8)]+'\x20('+this[_0x391f23(0x245)]['wuid']+_0x391f23(0x807));let _0x3aa60e={'moreLogs':[_0x391f23(0x4ce)+_0x3fcd6e[_0x391f23(0x633)](',\x20')]};return await this['updateConversation'](_0x3e0a11,_0x161cf4,_0x3aa60e),null;}async[a0_0x3eb0d8(0x6a0)](_0x2fc79c,_0x292b85){const _0xd0f2cd=a0_0x3eb0d8;if(this[_0xd0f2cd(0xfa)][_0xd0f2cd(0x671)](this['instanceName']+'\x20('+this['instance'][_0xd0f2cd(0x60f)]+_0xd0f2cd(0x62d)),!_0x2fc79c||!_0x292b85)return this[_0xd0f2cd(0xfa)][_0xd0f2cd(0x1ca)](this[_0xd0f2cd(0x1a8)]+'\x20('+this[_0xd0f2cd(0x245)][_0xd0f2cd(0x60f)]+_0xd0f2cd(0x104)),null;let _0x4b293e=_0x2fc79c[_0xd0f2cd(0x3f6)];_0x292b85['scheduleFlow'][_0xd0f2cd(0x3f6)]&&_0x292b85[_0xd0f2cd(0x2f3)][_0xd0f2cd(0x3f6)][_0xd0f2cd(0x6ae)]()!==''&&(_0x4b293e=_0x292b85[_0xd0f2cd(0xc5)][_0xd0f2cd(0x3f6)][_0xd0f2cd(0x6ae)]());let _0x665188=_0x292b85[_0xd0f2cd(0x2f3)][_0xd0f2cd(0x507)]*0xea60,_0x57c04c=Date[_0xd0f2cd(0x117)]()+_0x665188,_0xf00425={'status':'scheduled','info':_0xd0f2cd(0x732)+_0x2fc79c[_0xd0f2cd(0x21a)],'remoteJids':[_0x4b293e],'when':_0x57c04c,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0xd0f2cd(0x800),'flowName':_0x292b85[_0xd0f2cd(0x2f3)][_0xd0f2cd(0x2c8)]};this[_0xd0f2cd(0x731)](_0xf00425);let _0x5accab=await this['NextBlock'](_0x2fc79c);_0x5accab&&await this[_0xd0f2cd(0xfd)](_0x2fc79c,_0x5accab);}async[a0_0x3eb0d8(0x418)](_0x37bc66,_0x151670){const _0x1e13c2=a0_0x3eb0d8;if(this['logger'][_0x1e13c2(0x671)](this[_0x1e13c2(0x1a8)]+'\x20('+this[_0x1e13c2(0x245)][_0x1e13c2(0x60f)]+_0x1e13c2(0x24d)),!_0x37bc66||!_0x151670)return this[_0x1e13c2(0xfa)][_0x1e13c2(0x1ca)](this['instanceName']+'\x20('+this[_0x1e13c2(0x245)][_0x1e13c2(0x60f)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x1e13c2(0x750)](_0x37bc66,_0x151670,{},!0x0,!0x0);let _0x207827=_0x151670[_0x1e13c2(0x186)];_0x37bc66=await this[_0x1e13c2(0x4d4)](_0x207827,_0x37bc66[_0x1e13c2(0x3f6)],_0x37bc66['chatLog'][_0x1e13c2(0x67d)]);let _0x34fe78=await this[_0x1e13c2(0x7b1)](_0x37bc66);_0x34fe78&&await this[_0x1e13c2(0xfd)](_0x37bc66,_0x34fe78);}async[a0_0x3eb0d8(0x4d4)](_0x5c30bc,_0xeb62e7,_0x39bb3f){const _0x2450f7=a0_0x3eb0d8;this[_0x2450f7(0xfa)][_0x2450f7(0x671)](this[_0x2450f7(0x1a8)]+'\x20('+this[_0x2450f7(0x245)][_0x2450f7(0x60f)]+_0x2450f7(0xe6));try{let _0x2e8a40=this[_0x2450f7(0x521)][_0x2450f7(0x66d)][_0x2450f7(0x551)](_0x423c6a=>_0x423c6a[_0x2450f7(0x36f)]===_0x5c30bc);_0x2e8a40||this[_0x2450f7(0xfa)][_0x2450f7(0x1ca)](this['instanceName']+'\x20('+this[_0x2450f7(0x245)][_0x2450f7(0x60f)]+_0x2450f7(0xce)+_0x5c30bc+_0x2450f7(0x5ff));let _0x26d301=await this[_0x2450f7(0x4f1)][_0x2450f7(0x800)][_0x2450f7(0x657)]({'where':{'_id':_0x2e8a40[_0x2450f7(0x36f)]}});if(!_0x26d301||!_0x26d301[_0x2450f7(0x585)]?.['includes'](this['instance'][_0x2450f7(0x60f)]))throw this[_0x2450f7(0xfa)][_0x2450f7(0x1ca)](this[_0x2450f7(0x1a8)]+'\x20('+this[_0x2450f7(0x245)][_0x2450f7(0x60f)]+'):\x20Flow\x20\x27'+_0x5c30bc+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2450f7(0x4da)+_0x5c30bc+_0x2450f7(0x555));let _0x4e5a08=require(_0x2450f7(0x3ae))[_0x2450f7(0x2bc)],_0x1ee82e=Date[_0x2450f7(0x117)](),_0x5c6690=_0x2450f7(0x7f4),_0x9e1205={},_0x243d11={},_0x1fcbd2=this[_0x2450f7(0x521)][_0x2450f7(0x66d)][_0x2450f7(0x551)](_0x5207fa=>_0x5207fa[_0x2450f7(0x36f)]===_0x26d301[_0x2450f7(0x36f)]?.['toString']()),_0x49e8e0=_0x1fcbd2?.[_0x2450f7(0x286)]??_0x26d301[_0x2450f7(0x286)]??0x0,_0x18e8c8=_0x1fcbd2?.['readMessages']??_0x26d301[_0x2450f7(0x360)]??!0x1,_0x164f6f={'flowId':_0x2e8a40[_0x2450f7(0x36f)],'readMessages':_0x2e8a40[_0x2450f7(0x360)],..._0x26d301,'chatLog':null},_0x5c2cc8={'lastReceivedMessage':_0x9e1205,'lastSendMessage':_0x243d11,'lastBlockId':_0x5c6690,'lastCondition':!0x0,'realVariables':_0x39bb3f};_0x164f6f['chatLog']=_0x5c2cc8,_0x164f6f[_0x2450f7(0x5b1)]['realVariables']={..._0x39bb3f},delete _0x164f6f['_id'],_0x164f6f[_0x2450f7(0x36f)]=new _0x4e5a08(),_0x164f6f[_0x2450f7(0x628)]=_0x1ee82e,_0x164f6f['status']='open',_0x164f6f[_0x2450f7(0x3f6)]=_0xeb62e7,_0x164f6f[_0x2450f7(0x286)]=_0x49e8e0,_0x164f6f[_0x2450f7(0x360)]=_0x18e8c8;let _0x45ca7d=await this['repository'][_0x2450f7(0x641)]['updateOne'](_0x164f6f[_0x2450f7(0x36f)],_0x164f6f,this[_0x2450f7(0x245)][_0x2450f7(0x60f)]);return this[_0x2450f7(0xfa)][_0x2450f7(0x671)](this[_0x2450f7(0x1a8)]+'\x20('+this[_0x2450f7(0x245)][_0x2450f7(0x60f)]+_0x2450f7(0x2c2)),_0x45ca7d?_0x164f6f:null;}catch(_0x11d75d){let _0x2cc3d9='Erro\x20ao\x20copiar\x20o\x20documento',_0x311373=_0x11d75d instanceof Error?_0x11d75d[_0x2450f7(0x3a7)]:typeof _0x11d75d==_0x2450f7(0x1a5)?JSON[_0x2450f7(0x1dc)](_0x11d75d):_0x11d75d,_0x1813a9=_0x2cc3d9+':\x20'+_0x311373;throw this[_0x2450f7(0xfa)]['error'](this['instanceName']+'\x20('+this[_0x2450f7(0x245)][_0x2450f7(0x60f)]+_0x2450f7(0x2fb)+_0x1813a9),new m(_0x1813a9);}}async[a0_0x3eb0d8(0x224)](_0x519975,_0x56ab1b){const _0x3e3c2b=a0_0x3eb0d8;let _0x2ec767,_0x195ac9;try{let _0x513354=_0x56ab1b[_0x3e3c2b(0x334)];if(!_0x513354||!_0x513354['url']||!_0x513354[_0x3e3c2b(0x3dc)])throw new Error(_0x3e3c2b(0x653));let _0x2c3681;([_0x3e3c2b(0x2a2),_0x3e3c2b(0x3f2),_0x3e3c2b(0x3b3)]['some'](_0x19d322=>_0x513354['url']['includes'](_0x19d322))||_0x513354[_0x3e3c2b(0x654)])&&(_0x2c3681=_0x3e3c2b(0x6cb));let _0x5418a='\u205f',_0x2225d9;try{_0x2225d9=JSON['parse'](_0x513354['bodyString']['replace'](new RegExp(_0x5418a,'g'),''));}catch(_0x8ebf30){throw _0x8ebf30;}let _0x10529b={'method':_0x513354['method'],'url':_0x513354[_0x3e3c2b(0x6bc)],'headers':_0x513354['header']||{},..._0x513354[_0x3e3c2b(0x3dc)][_0x3e3c2b(0x5d7)]()!==_0x3e3c2b(0x1d0)&&_0x513354[_0x3e3c2b(0x5c2)]?{'data':JSON['parse'](_0x513354[_0x3e3c2b(0x5c2)]['replace'](new RegExp(_0x5418a,'g'),''))}:{},..._0x2c3681&&{'responseType':_0x2c3681}},_0x5adc72=await(0x0,X[_0x3e3c2b(0x487)])(_0x10529b),_0x1644e8=_0x5adc72[_0x3e3c2b(0x2c5)][_0x3e3c2b(0x789)];if(_0x1644e8&&_0x1644e8[_0x3e3c2b(0x5d6)]('application/json')||typeof _0x5adc72[_0x3e3c2b(0x2a1)]==_0x3e3c2b(0x129)){if(typeof _0x5adc72[_0x3e3c2b(0x2a1)]==_0x3e3c2b(0x129)){let _0x352ba3=_0x5adc72[_0x3e3c2b(0x2a1)][_0x3e3c2b(0x67e)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x3e3c2b(0x6ae)]();try{_0x2ec767=JSON[_0x3e3c2b(0x814)](_0x352ba3);}catch(_0x19428b){this['logger'][_0x3e3c2b(0x1ca)](_0x3e3c2b(0x168)+_0x19428b[_0x3e3c2b(0x3a7)]),_0x2ec767={'_apiResponse':_0x5adc72['data']};}}else _0x2ec767=_0x5adc72[_0x3e3c2b(0x2a1)];let _0x53362f=_0x519975[_0x3e3c2b(0x5b1)][_0x3e3c2b(0x67d)],_0x3017a4=this['flattenObject'](_0x2ec767);return Object['assign'](_0x53362f,_0x3017a4),_0x519975[_0x3e3c2b(0x5b1)][_0x3e3c2b(0x67d)]=_0x53362f,_0x195ac9={'error':!0x1,'apiResponse':_0x2ec767},this[_0x3e3c2b(0x750)](_0x519975,_0x56ab1b,_0x195ac9),_0x2ec767;}if(_0x1644e8&&(_0x1644e8['includes'](_0x3e3c2b(0x15f))||_0x1644e8[_0x3e3c2b(0x5d6)](_0x3e3c2b(0x1ff))||_0x1644e8[_0x3e3c2b(0x5d6)](_0x3e3c2b(0x2db))||_0x1644e8['includes']('video'))){this['logger'][_0x3e3c2b(0x671)](this[_0x3e3c2b(0x1a8)]+'\x20('+this['instance']['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x1644e8);let _0x36642c=(0x0,H['v4'])(),_0x62d2f7='',_0x4c085a={'image/jpeg':_0x3e3c2b(0x30a),'image/png':_0x3e3c2b(0x715),'image/gif':_0x3e3c2b(0x5fb),'image/webp':'.webp','image/svg+xml':_0x3e3c2b(0x335),'audio/mpeg':'.mp3','audio/ogg':_0x3e3c2b(0x3ad),'audio/wav':_0x3e3c2b(0xf8),'video/mp4':_0x3e3c2b(0x785),'video/webm':_0x3e3c2b(0x58e),'video/ogg':_0x3e3c2b(0x46d),'text/plain':_0x3e3c2b(0x292),'application/pdf':_0x3e3c2b(0x696),'application/msword':_0x3e3c2b(0x5dd),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x3e3c2b(0x370),'application/vnd.ms-excel':_0x3e3c2b(0x64c),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x3e3c2b(0x2bd),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x3e3c2b(0x2d0)};_0x4c085a[_0x1644e8]?(_0x62d2f7=_0x4c085a[_0x1644e8],this[_0x3e3c2b(0xfa)][_0x3e3c2b(0x671)](this[_0x3e3c2b(0x1a8)]+'\x20('+this['instance'][_0x3e3c2b(0x60f)]+_0x3e3c2b(0x2e6)+_0x62d2f7)):(_0x62d2f7=_0x3e3c2b(0x49e),this[_0x3e3c2b(0xfa)][_0x3e3c2b(0x671)](this[_0x3e3c2b(0x1a8)]+'\x20('+this['instance'][_0x3e3c2b(0x60f)]+_0x3e3c2b(0x7be)+_0x62d2f7)),_0x36642c+=_0x62d2f7,this[_0x3e3c2b(0xfa)][_0x3e3c2b(0x671)](this[_0x3e3c2b(0x1a8)]+'\x20('+this[_0x3e3c2b(0x245)][_0x3e3c2b(0x60f)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x36642c);let _0x3368f3=this[_0x3e3c2b(0x801)]['get'](_0x3e3c2b(0x477))[_0x3e3c2b(0x433)];if(!_0x3368f3){let _0x55859e=this[_0x3e3c2b(0x801)]['get'](_0x3e3c2b(0x429));_0x3368f3=_0x3e3c2b(0x442)+(_0x55859e&&_0x55859e['FULLCHAIN'][_0x3e3c2b(0x766)]('/')[0x4]);}let _0x53a1f8=Buffer[_0x3e3c2b(0x7db)](_0x5adc72[_0x3e3c2b(0x2a1)]);await this['saveMediaToFile'](_0x53a1f8,_0x36642c);let _0xd7f843='/media/'+_0x36642c;_0xd7f843=''+_0x3368f3+_0xd7f843,_0x2ec767={'fileUrl':_0xd7f843},_0x519975[_0x3e3c2b(0x5b1)][_0x3e3c2b(0x67d)]['fileUrl']=_0xd7f843;let _0x369e18=_0x519975[_0x3e3c2b(0x5b1)][_0x3e3c2b(0x67d)],_0x261a6f=this[_0x3e3c2b(0x43a)](_0x2ec767);return Object[_0x3e3c2b(0x18a)](_0x369e18,_0x261a6f),_0x519975['chatLog'][_0x3e3c2b(0x67d)]=_0x369e18,_0x195ac9={'error':!0x1,'apiResponse':{'fileUrl':_0xd7f843}},this['updateConversation'](_0x519975,_0x56ab1b,_0x195ac9),_0x2ec767;}}catch(_0x36ec5a){this[_0x3e3c2b(0xfa)][_0x3e3c2b(0x1ca)](_0x3e3c2b(0x47a)+_0x36ec5a['message']),_0x36ec5a[_0x3e3c2b(0x362)]&&(_0x2ec767=_0x36ec5a[_0x3e3c2b(0x362)][_0x3e3c2b(0x2a1)]);let _0x416f52=_0x519975[_0x3e3c2b(0x5b1)][_0x3e3c2b(0x67d)],_0x448000=this['flattenObject'](_0x2ec767);return Object[_0x3e3c2b(0x18a)](_0x416f52,_0x448000),_0x519975[_0x3e3c2b(0x5b1)][_0x3e3c2b(0x67d)]=_0x416f52,_0x195ac9={'error':!0x0,'errorLog':_0x36ec5a[_0x3e3c2b(0x121)](),'apiResponse':_0x2ec767},this[_0x3e3c2b(0x750)](_0x519975,_0x56ab1b,_0x195ac9),{'success':!0x1};}}[a0_0x3eb0d8(0x510)](_0x1c4260,_0x586a1f){const _0x4faeb2=a0_0x3eb0d8;let _0x2aff47=_0x37ff05=>{const _0x38aa1c=a0_0x3e55;let _0x3994d6=_0x37ff05[_0x38aa1c(0x67e)](/[^0-9.,-]/g,'')[_0x38aa1c(0x67e)](',','.'),_0x117de0=parseFloat(_0x3994d6);return isNaN(_0x117de0)?null:_0x117de0;},_0x5b4836=_0x586a1f['firstValue'],_0x5479bc=_0x586a1f[_0x4faeb2(0xc9)];typeof _0x5b4836=='string'&&(_0x5b4836=this['replaceVariables'](_0x5b4836,_0x1c4260[_0x4faeb2(0x5b1)][_0x4faeb2(0x67d)])??''),typeof _0x5479bc=='string'&&(_0x5479bc=this['replaceVariables'](_0x5479bc,_0x1c4260[_0x4faeb2(0x5b1)][_0x4faeb2(0x67d)])??'');let _0x26efa2=null;if(!_0x586a1f['editOperator'])return null;switch(this[_0x4faeb2(0xfa)]['verbose'](this[_0x4faeb2(0x1a8)]+'\x20('+this['instance'][_0x4faeb2(0x60f)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x5b4836),this[_0x4faeb2(0xfa)][_0x4faeb2(0x671)](this[_0x4faeb2(0x1a8)]+'\x20('+this[_0x4faeb2(0x245)][_0x4faeb2(0x60f)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x5479bc),_0x586a1f[_0x4faeb2(0xd1)]){case'+':case'-':case'*':case'/':let _0x1c684c=_0x2aff47(_0x5b4836||'0'),_0x5a45e7=_0x2aff47(_0x5479bc||'0');if(_0x1c684c===null)return null;switch(_0x586a1f[_0x4faeb2(0xd1)]){case'+':_0x26efa2=_0x1c684c+(_0x5a45e7??0x0);break;case'-':_0x26efa2=_0x1c684c-(_0x5a45e7??0x0);break;case'*':_0x26efa2=_0x1c684c*(_0x5a45e7??0x1);break;case'/':_0x5a45e7!==0x0&&(_0x26efa2=_0x1c684c/(_0x5a45e7??0x1));break;}break;case _0x4faeb2(0x535):case _0x4faeb2(0x7af):let _0x1c6b5c=_0x5479bc,_0xff738d=_0x586a1f['replaceValue'];if(typeof _0xff738d==_0x4faeb2(0x129)&&(_0xff738d=this[_0x4faeb2(0x11e)](_0xff738d,_0x1c4260['chatLog'][_0x4faeb2(0x67d)])??''),_0x1c6b5c&&_0xff738d!==void 0x0){let _0x43979d=_0x586a1f[_0x4faeb2(0xd1)]===_0x4faeb2(0x535)?new RegExp(_0x1c6b5c[_0x4faeb2(0x67e)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4faeb2(0x478)),'g'):new RegExp(_0x1c6b5c,'g');_0x26efa2=_0x5b4836['replace'](_0x43979d,_0xff738d);}else console[_0x4faeb2(0x4cd)](_0x4faeb2(0x4ec));break;case _0x4faeb2(0x460):_0x26efa2=_0x5479bc;break;case _0x4faeb2(0x6ba):let _0x20026f=_0x5b4836['match'](new RegExp(_0x5479bc||''));_0x26efa2=_0x20026f?_0x20026f[0x0]:'';break;case _0x4faeb2(0x1bf):_0x26efa2=_0x5b4836[_0x4faeb2(0x465)](0x0,parseInt(_0x5479bc||'0'));break;case _0x4faeb2(0x72f):let _0x129d9d=parseInt(_0x5479bc||'0');_0x26efa2=_0x5b4836[_0x4faeb2(0x465)](_0x5b4836[_0x4faeb2(0x75f)]-_0x129d9d);break;case _0x4faeb2(0x59e):let _0x593980=_0x2aff47(_0x5b4836),_0x3aef8e=parseInt(_0x5479bc||'0');_0x3aef8e=Math[_0x4faeb2(0x4d2)](_0x3aef8e),_0x593980!==null?_0x26efa2=_0x593980['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x3aef8e,'maximumFractionDigits':_0x3aef8e}):(console[_0x4faeb2(0x4cd)](_0x4faeb2(0x36d)+_0x5b4836),_0x26efa2=null);break;case'toBRL':let _0xa3aaa4=_0x2aff47(_0x5b4836);_0xa3aaa4!==null?_0x26efa2=_0xa3aaa4[_0x4faeb2(0x120)]('pt-BR',{'style':'currency','currency':_0x4faeb2(0x1ce)}):(console[_0x4faeb2(0x4cd)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x5b4836),_0x26efa2=null);break;case _0x4faeb2(0x1d7):_0x26efa2=_0x5b4836[_0x4faeb2(0x5d7)]();break;case'lowerCase':_0x26efa2=_0x5b4836[_0x4faeb2(0x20b)]();break;case'capitalizedWords':_0x26efa2=_0x5b4836['split']('\x20')[_0x4faeb2(0x437)](_0x48e24b=>_0x48e24b[_0x4faeb2(0x6bd)](0x0)[_0x4faeb2(0x5d7)]()+_0x48e24b['slice'](0x1)['toLowerCase']())[_0x4faeb2(0x633)]('\x20');break;case _0x4faeb2(0x13f):_0x26efa2=JSON[_0x4faeb2(0x1dc)](_0x5b4836);break;case _0x4faeb2(0x762):_0x26efa2=_0x5b4836[_0x4faeb2(0x6ae)]();break;default:_0x26efa2=_0x5b4836;}return _0x26efa2!==null?_0x26efa2['toString']():null;}async['processvaredits'](_0x4cc2cd,_0x5981cd){const _0x32d998=a0_0x3eb0d8;try{let _0x366134=_0x4cc2cd['varedits']?.[_0x32d998(0x1d9)](_0x271ae9=>_0x271ae9['blockId']===_0x5981cd[_0x32d998(0x36f)]?.[_0x32d998(0x121)]())||[],_0x367514=_0x5981cd[_0x32d998(0x580)],_0x247e68=null,_0x1267b3=[],_0x4b4b40=_0x4cc2cd[_0x32d998(0x5b1)][_0x32d998(0x67d)][_0x367514];_0x1267b3[_0x32d998(0x3c2)](_0x32d998(0x4a2)+_0x4b4b40+'\x22');for(let _0x113bff of _0x366134){_0x113bff[_0x32d998(0x48f)]=_0x4b4b40,_0x247e68=_0x113bff[_0x32d998(0x48f)];let _0x44e120;try{_0x44e120=this['applyvaredit'](_0x4cc2cd,_0x113bff);}catch(_0x54b899){this[_0x32d998(0xfa)][_0x32d998(0x1ca)](_0x32d998(0x67b)+_0x54b899['message']);continue;}if(_0x44e120!==null){let _0x2af7a7=_0x32d998(0x2a6)+_0x113bff[_0x32d998(0xd1)]+'\x22',_0x558711=[_0x32d998(0x27a),_0x32d998(0x1d7),_0x32d998(0x677),'capitalizedWords',_0x32d998(0x762)];_0x113bff['editOperator']===_0x32d998(0x535)||_0x113bff['editOperator']===_0x32d998(0x7af)?_0x2af7a7+=_0x32d998(0x4fa)+_0x113bff['secondValue']+_0x32d998(0x515)+_0x113bff[_0x32d998(0x5a3)]+'\x22':!_0x558711[_0x32d998(0x5d6)](_0x113bff[_0x32d998(0xd1)])&&_0x113bff[_0x32d998(0xc9)]!==null&&_0x113bff['secondValue']!==void 0x0&&(_0x2af7a7+=_0x32d998(0x27e)+_0x113bff['secondValue']+'\x22'),_0x2af7a7+=_0x32d998(0x51d)+_0x44e120+'.',_0x1267b3[_0x32d998(0x3c2)](_0x2af7a7);}_0x44e120!==null&&(_0x4b4b40=_0x44e120);}if(_0x4cc2cd[_0x32d998(0x5b1)][_0x32d998(0x67d)]&&_0x5981cd[_0x32d998(0x580)]){_0x4cc2cd[_0x32d998(0x5b1)][_0x32d998(0x67d)][_0x5981cd[_0x32d998(0x580)]]=_0x4b4b40;let _0xd6fe04={'variable':_0x5981cd[_0x32d998(0x580)],'oldValue':_0x247e68,'newValue':_0x4b4b40,'moreLogs':_0x1267b3};try{this[_0x32d998(0x750)](_0x4cc2cd,_0x5981cd,_0xd6fe04);}catch(_0x1b4f7c){this['logger']['error'](_0x32d998(0x1fc)+_0x1b4f7c[_0x32d998(0x3a7)]);}}return _0x367514;}catch(_0x5e2b6e){return this[_0x32d998(0xfa)]['error'](_0x32d998(0x67a)+_0x5e2b6e[_0x32d998(0x3a7)]),null;}}async[a0_0x3eb0d8(0x22f)](_0x4d39a6,_0x30ee24){const _0x2b6f31=a0_0x3eb0d8;try{let _0x8ae2fe=[],_0x23887b=_0x4d39a6[_0x2b6f31(0x375)]['filter'](_0x51438a=>_0x51438a['blockId']===_0x30ee24[_0x2b6f31(0x36f)]['toString']()),_0x304927=null,_0x4023ef=!0x1;for(let _0x3dd148 of _0x23887b){let _0xdeac92=this[_0x2b6f31(0x3e7)](_0x4d39a6,_0x3dd148);_0x8ae2fe[_0x2b6f31(0x3c2)](_0x2b6f31(0x37d)+_0x3dd148[_0x2b6f31(0x48f)]+_0x2b6f31(0x652)+_0x3dd148[_0x2b6f31(0x579)]+_0x2b6f31(0x19b)+_0x3dd148[_0x2b6f31(0xc9)]+',\x20Resultado:\x20'+_0xdeac92),_0x304927===null?_0x304927=_0xdeac92:_0x3dd148[_0x2b6f31(0x2ab)]===_0x2b6f31(0x183)?(_0x304927=_0x304927&&_0xdeac92,_0xdeac92||(_0x4023ef=!0x0)):_0x3dd148['OrAnd']==='or'&&(_0x4023ef||(_0x304927=_0x304927||_0xdeac92));}_0x304927===null&&(_0x304927=!0x0);let _0x5d4d0e={'moreLogs':_0x8ae2fe};_0x4d39a6[_0x2b6f31(0x5b1)][_0x2b6f31(0x489)]=_0x304927,await this['updateConversation'](_0x4d39a6,_0x30ee24,_0x5d4d0e);}catch(_0x356df4){this[_0x2b6f31(0xfa)][_0x2b6f31(0x1ca)](this[_0x2b6f31(0x1a8)]+'\x20('+this['instance']['wuid']+_0x2b6f31(0x3d8)+(_0x356df4 instanceof Error?_0x356df4[_0x2b6f31(0x3a7)]:JSON[_0x2b6f31(0x1dc)](_0x356df4,null,0x2)));}}[a0_0x3eb0d8(0x3e7)](_0x5cce44,_0x1b8366){const _0x461000=a0_0x3eb0d8;let _0x5043a4=_0x1b8366[_0x461000(0x48f)],_0x19ee0a=_0x1b8366[_0x461000(0xc9)];typeof _0x5043a4==_0x461000(0x129)&&(_0x5043a4=this[_0x461000(0x11e)](_0x5043a4,_0x5cce44['chatLog'][_0x461000(0x67d)])??''),typeof _0x19ee0a==_0x461000(0x129)&&(_0x19ee0a=this['replaceVariables'](_0x19ee0a,_0x5cce44[_0x461000(0x5b1)][_0x461000(0x67d)])??'');try{switch(_0x1b8366[_0x461000(0x579)]){case _0x461000(0x7a0):return _0x5043a4===_0x19ee0a;case'notEqual':return _0x5043a4!==_0x19ee0a;case _0x461000(0x30f):return this[_0x461000(0x30f)](_0x5043a4,_0x19ee0a);case _0x461000(0x2eb):return!this['contains'](_0x5043a4,_0x19ee0a);case'greater':return parseFloat(_0x5043a4)>parseFloat(_0x19ee0a);case'less':return parseFloat(_0x5043a4)<parseFloat(_0x19ee0a);case _0x461000(0x4eb):return _0x5043a4!=='';case _0x461000(0x200):return _0x5043a4==='';case'matchRegex':return new RegExp(_0x19ee0a)[_0x461000(0x734)](_0x5043a4);case _0x461000(0xcc):return!new RegExp(_0x19ee0a)['test'](_0x5043a4);default:return!0x1;}}catch(_0x1fb035){return this[_0x461000(0xfa)][_0x461000(0x1ca)](_0x461000(0x7e7)+_0x1fb035),!0x1;}}[a0_0x3eb0d8(0x30f)](_0x1207a6,_0x2dc30d){const _0x1d383c=a0_0x3eb0d8;if(_0x1207a6===_0x2dc30d&&/^\d+$/[_0x1d383c(0x734)](_0x1207a6))return!0x0;if(this[_0x1d383c(0x4cc)](_0x1207a6)&&/^\d+$/[_0x1d383c(0x734)](_0x2dc30d)){let _0x594bbb=_0x1207a6[_0x1d383c(0x766)](',')[_0x1d383c(0x437)](_0x249589=>parseInt(_0x249589[_0x1d383c(0x6ae)]())),_0x3da0f2=parseInt(_0x2dc30d);return _0x594bbb[_0x1d383c(0x5d6)](_0x3da0f2);}return _0x1207a6[_0x1d383c(0x5d6)](_0x2dc30d);}[a0_0x3eb0d8(0x4cc)](_0x54c760){return/^\d+(,\d+)*$/['test'](_0x54c760);}[a0_0x3eb0d8(0x7b8)](_0x19ac2b){const _0x10ec41=a0_0x3eb0d8;let _0x79102b=!0x0,_0x40a329=null;for(let _0x289f69 of _0x19ac2b){let _0xf2033e=this[_0x10ec41(0x573)](_0x289f69);if(_0x40a329==='or'&&_0xf2033e){_0x79102b=!0x0;break;}if(_0x40a329===_0x10ec41(0x183)&&!_0xf2033e){_0x79102b=!0x1;break;}_0x40a329=_0x289f69[_0x10ec41(0x2ab)];}return _0x79102b;}[a0_0x3eb0d8(0x573)](_0x481f02){const _0x34e084=a0_0x3eb0d8;let _0xd6b2df=_0x481f02['firstValue'],_0x11993a=_0x481f02['secondValue'];try{switch(_0x481f02[_0x34e084(0x579)]){case _0x34e084(0x7a0):return String(_0xd6b2df)===String(_0x11993a);case _0x34e084(0x222):return String(_0xd6b2df)!==String(_0x11993a);case'contains':return String(_0xd6b2df)[_0x34e084(0x5d6)](String(_0x11993a));case _0x34e084(0x2eb):return!String(_0xd6b2df)[_0x34e084(0x5d6)](String(_0x11993a));case _0x34e084(0x396):return parseFloat(String(_0xd6b2df))>parseFloat(String(_0x11993a));case _0x34e084(0x3d5):return parseFloat(String(_0xd6b2df))<parseFloat(String(_0x11993a));case _0x34e084(0x4eb):return String(_0xd6b2df)!=='';case'empty':return String(_0xd6b2df)==='';case'matchRegex':return new RegExp(String(_0x11993a))[_0x34e084(0x734)](String(_0xd6b2df));case _0x34e084(0xcc):return!new RegExp(String(_0x11993a))[_0x34e084(0x734)](String(_0xd6b2df));default:return!0x1;}}catch(_0x2373f4){return this['logger'][_0x34e084(0x1ca)](_0x34e084(0x7e7)+_0x2373f4),!0x1;}}async[a0_0x3eb0d8(0x6f8)](_0x5ee4a1,_0x29c8ae){const _0x6b9f7e=a0_0x3eb0d8;if(this[_0x6b9f7e(0xfa)][_0x6b9f7e(0x671)](this[_0x6b9f7e(0x1a8)]+'\x20('+this['instance'][_0x6b9f7e(0x60f)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x5ee4a1||!_0x29c8ae)return this['logger'][_0x6b9f7e(0x1ca)](this[_0x6b9f7e(0x1a8)]+'\x20('+this[_0x6b9f7e(0x245)][_0x6b9f7e(0x60f)]+_0x6b9f7e(0x104)),null;let _0x568751=_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x281)]['key']['id'];this[_0x6b9f7e(0xfa)][_0x6b9f7e(0x671)](this[_0x6b9f7e(0x1a8)]+'\x20('+this['instance'][_0x6b9f7e(0x60f)]+_0x6b9f7e(0x67c)+_0x568751);let _0x4ee59e={'key':{'id':_0x568751}},_0x5a616a=_0x29c8ae[_0x6b9f7e(0x580)];_0x5ee4a1[_0x6b9f7e(0x5b1)]['realVariables']['_'+_0x5a616a+_0x6b9f7e(0x680)]=null,_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x67d)]['_'+_0x5a616a+'.mimetype']=null,_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x67d)]['_'+_0x5a616a+_0x6b9f7e(0x4c3)]=null,_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x67d)]['_'+_0x5a616a+_0x6b9f7e(0xf2)]=_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x281)][_0x6b9f7e(0x1d5)];try{let _0x3538ac=await this['getBase64FromMediaMessage'](_0x4ee59e);this[_0x6b9f7e(0xfa)][_0x6b9f7e(0x671)](this[_0x6b9f7e(0x1a8)]+'\x20('+this['instance'][_0x6b9f7e(0x60f)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x5ee4a1[_0x6b9f7e(0x5b1)]['realVariables']['_'+_0x5a616a+_0x6b9f7e(0x2bb)]=_0x3538ac[_0x6b9f7e(0x6d4)],_0x5ee4a1[_0x6b9f7e(0x5b1)]['realVariables']['_'+_0x5a616a+_0x6b9f7e(0x6c4)]=_0x3538ac[_0x6b9f7e(0x16d)];let _0x560f90=_0x3538ac['mimetype'][_0x6b9f7e(0xf6)](/\/(\w+)$/),_0xa95409=_0x560f90?_0x560f90[0x1]:null;_0x5ee4a1[_0x6b9f7e(0x5b1)]['realVariables']['_'+_0x5a616a+_0x6b9f7e(0x4c3)]=_0xa95409,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x6b9f7e(0x245)]['wuid']+_0x6b9f7e(0x37c)+_0x5a616a+'\x27.');}catch(_0x4e84ca){this[_0x6b9f7e(0xfa)]['error'](this[_0x6b9f7e(0x1a8)]+'\x20('+this['instance'][_0x6b9f7e(0x60f)]+_0x6b9f7e(0x7c6)+_0x4e84ca[_0x6b9f7e(0x3a7)]);}let _0x513f2b=_0x5ee4a1['chatLog'][_0x6b9f7e(0x281)][_0x6b9f7e(0x3ef)]||_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x281)]['caption']||_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x281)][_0x6b9f7e(0x531)];try{_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x67d)]||(_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x67d)]={});let _0x2a5ba3=_0x5ee4a1[_0x6b9f7e(0x5b1)]['realVariables'][_0x5a616a];_0x5ee4a1[_0x6b9f7e(0x5b1)][_0x6b9f7e(0x67d)][_0x5a616a]=_0x513f2b;let _0x2c7a80={'variable':_0x5a616a,'oldValue':_0x2a5ba3,'newValue':_0x513f2b};this[_0x6b9f7e(0x750)](_0x5ee4a1,_0x29c8ae,_0x2c7a80),this[_0x6b9f7e(0xfa)][_0x6b9f7e(0x671)](this[_0x6b9f7e(0x1a8)]+'\x20('+this[_0x6b9f7e(0x245)][_0x6b9f7e(0x60f)]+_0x6b9f7e(0x313));}catch(_0xba3690){let _0x1e0df0={'error':!0x0,'errorLog':_0xba3690[_0x6b9f7e(0x121)]()};return this['updateConversation'](_0x5ee4a1,_0x29c8ae,_0x1e0df0),this[_0x6b9f7e(0xfa)][_0x6b9f7e(0x1ca)](this[_0x6b9f7e(0x1a8)]+'\x20('+this[_0x6b9f7e(0x245)]['wuid']+_0x6b9f7e(0x70e)+(_0xba3690 instanceof Error?_0xba3690[_0x6b9f7e(0x3a7)]:JSON['stringify'](_0xba3690,null,0x2))),null;}}async[a0_0x3eb0d8(0x7e0)](_0x7d3621,_0x9d28c5){const _0x49532e=a0_0x3eb0d8;if(this[_0x49532e(0xfa)][_0x49532e(0x671)](this[_0x49532e(0x1a8)]+'\x20('+this[_0x49532e(0x245)][_0x49532e(0x60f)]+_0x49532e(0x669)),!_0x7d3621||!_0x9d28c5)return this[_0x49532e(0xfa)][_0x49532e(0x1ca)](this[_0x49532e(0x1a8)]+'\x20('+this[_0x49532e(0x245)][_0x49532e(0x60f)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x533b95=Date[_0x49532e(0x117)](),_0x13d0d4=parseInt(_0x9d28c5[_0x49532e(0x812)],0xa);if(isNaN(_0x13d0d4))return this['logger'][_0x49532e(0x1ca)](this[_0x49532e(0x1a8)]+'\x20('+this['instance'][_0x49532e(0x60f)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x19d946={'newStoppedUntil':_0x533b95+_0x13d0d4*0x3c*0x3e8};return await this[_0x49532e(0x750)](_0x7d3621,_0x9d28c5,_0x19d946,!0x0),null;}async[a0_0x3eb0d8(0xf9)](_0x39f050,_0x3faf7b){const _0x31b05e=a0_0x3eb0d8;try{switch(_0x3faf7b[_0x31b05e(0xc5)][_0x31b05e(0x3b9)]){case'sendText':await this[_0x31b05e(0x605)](_0x39f050,_0x3faf7b);break;case _0x31b05e(0x639):await this[_0x31b05e(0x3a5)](_0x39f050,_0x3faf7b);break;case _0x31b05e(0x1f2):await this[_0x31b05e(0x479)](_0x39f050,_0x3faf7b);break;case _0x31b05e(0x5c3):await this['uazapiSendAudio'](_0x39f050,_0x3faf7b);break;case'sendContact':await this[_0x31b05e(0x6c5)](_0x39f050,_0x3faf7b);break;case _0x31b05e(0x6d6):await this[_0x31b05e(0x356)](_0x39f050,_0x3faf7b);break;case _0x31b05e(0x15a):await this[_0x31b05e(0x356)](_0x39f050,_0x3faf7b);break;case'deleteMessage':await this[_0x31b05e(0x619)](_0x39f050,_0x3faf7b);break;default:this['logger'][_0x31b05e(0x1ca)](this[_0x31b05e(0x1a8)]+'\x20('+this['instance'][_0x31b05e(0x60f)]+_0x31b05e(0x7a1)+_0x3faf7b[_0x31b05e(0xc5)][_0x31b05e(0x3b9)]);}}catch(_0x25b5c6){this[_0x31b05e(0xfa)][_0x31b05e(0x1ca)](this[_0x31b05e(0x1a8)]+'\x20('+this[_0x31b05e(0x245)][_0x31b05e(0x60f)]+_0x31b05e(0x422)+(_0x25b5c6 instanceof Error?_0x25b5c6[_0x31b05e(0x3a7)]:JSON['stringify'](_0x25b5c6,null,0x2)));}}async['updateConversation'](_0x125b28,_0x5d9b2f,_0x1bd53f,_0x82dedb=!0x1,_0x399c8e=!0x1){const _0x2ca4e2=a0_0x3eb0d8;_0x125b28['chatLog'][_0x2ca4e2(0x12a)]||(_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x12a)]=[]);let _0x39647f=(_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x12a)]?.[_0x2ca4e2(0x75f)]??0x0)+0x1,_0x191af6=_0x125b28['chatLog'][_0x2ca4e2(0x12a)][_0x2ca4e2(0x1d9)](_0x523258=>String(_0x523258[_0x2ca4e2(0x7fb)])===String(_0x5d9b2f[_0x2ca4e2(0x36f)]))[_0x2ca4e2(0x75f)]+0x1,_0x5d6e97=_0x1bd53f?.[_0x2ca4e2(0x549)]??Date[_0x2ca4e2(0x117)](),_0x3d093f=_0x1bd53f?.[_0x2ca4e2(0x1ca)]?_0x1bd53f['errorLog']??_0x1bd53f['error'][_0x2ca4e2(0x121)]():void 0x0,_0x41831c={'onTime':_0x5d6e97,'blockId':_0x5d9b2f[_0x2ca4e2(0x36f)],'order':_0x39647f,'activatedCount':_0x191af6,'error':_0x1bd53f?.[_0x2ca4e2(0x1ca)]??!0x1,'messageId':_0x1bd53f?.[_0x2ca4e2(0x58b)],'apiResponse':_0x1bd53f?.[_0x2ca4e2(0x301)],'apiResponseString':_0x1bd53f?.[_0x2ca4e2(0x301)]?JSON[_0x2ca4e2(0x1dc)](_0x1bd53f?.[_0x2ca4e2(0x301)]):void 0x0,'variable':_0x1bd53f?.[_0x2ca4e2(0x3ac)],'oldValue':_0x1bd53f?.[_0x2ca4e2(0x21d)],'newValue':_0x1bd53f?.['newValue'],'newStoppedUntil':_0x1bd53f?.['newStoppedUntil'],'moreLogs':_0x1bd53f?.['moreLogs'],'errorLog':_0x3d093f};if(_0x1bd53f[_0x2ca4e2(0x61c)]&&_0x1bd53f[_0x2ca4e2(0x61c)][_0x2ca4e2(0x75f)]>0x0){let _0x49d2e7=_0x1bd53f[_0x2ca4e2(0x61c)][_0x2ca4e2(0x437)](_0x1f1bc1=>this['replaceVariablesLogs'](_0x1f1bc1,_0x125b28['chatLog'][_0x2ca4e2(0x67d)]));_0x41831c[_0x2ca4e2(0x61c)]=_0x49d2e7;}if(_0x125b28[_0x2ca4e2(0x5b1)]['realVariables']||(_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x67d)]={}),_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x67d)][_0x2ca4e2(0x3e6)]=String(_0x191af6),_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x67d)]['_error']=String(_0x1bd53f[_0x2ca4e2(0x1ca)]??!0x1),_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x12a)]['push'](_0x41831c),_0x125b28['chatLog']['realVariables'][_0x2ca4e2(0x635)]&&_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x67d)][_0x2ca4e2(0x635)]!==_0x125b28[_0x2ca4e2(0x3f6)]){let _0x36da57=(await this[_0x2ca4e2(0x825)]({'numbers':[_0x125b28[_0x2ca4e2(0x5b1)]['realVariables']['telefone']]}))[0x0]['jid'];_0x125b28['chatLog']['realVariables'][_0x2ca4e2(0x635)]=_0x36da57,_0x125b28[_0x2ca4e2(0x3f6)]=_0x36da57;try{let _0x75abe0={'_id':{'$ne':_0x125b28['_id']},'remoteJid':_0x36da57,'status':_0x2ca4e2(0x156)},_0x15f711={'status':_0x2ca4e2(0x499)};await this['repository'][_0x2ca4e2(0x641)][_0x2ca4e2(0x5f4)](_0x75abe0,_0x15f711,this['instance']['wuid']),this[_0x2ca4e2(0xfa)][_0x2ca4e2(0x671)](this[_0x2ca4e2(0x1a8)]+'\x20('+this['instance'][_0x2ca4e2(0x60f)]+_0x2ca4e2(0x43d));}catch(_0x4d3091){this['logger'][_0x2ca4e2(0x1ca)](this['instanceName']+'\x20('+this[_0x2ca4e2(0x245)][_0x2ca4e2(0x60f)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x4d3091[_0x2ca4e2(0x3a7)]);}try{let _0x3d6170=_0x125b28['chatLog'][_0x2ca4e2(0x67d)],_0x41988d=await this[_0x2ca4e2(0x799)](_0x36da57),_0x558cee={..._0x3d6170,..._0x41988d,'_remoteJid':_0x36da57};_0x125b28[_0x2ca4e2(0x5b1)]['realVariables']=_0x558cee;}catch(_0x32eca1){this[_0x2ca4e2(0xfa)][_0x2ca4e2(0x1ca)](this[_0x2ca4e2(0x1a8)]+'\x20('+this[_0x2ca4e2(0x245)][_0x2ca4e2(0x60f)]+_0x2ca4e2(0x7ea)+_0x32eca1[_0x2ca4e2(0x3a7)]);}}_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x5eb)]=_0x5d9b2f[_0x2ca4e2(0x36f)][_0x2ca4e2(0x121)](),_0x125b28[_0x2ca4e2(0x5b1)]['lastSendMessage']&&(_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x31d)]=_0x125b28[_0x2ca4e2(0x5b1)]['lastSendMessage']),_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x281)]&&(_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x281)]=_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x281)]),_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x489)]&&(_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x489)]=_0x125b28[_0x2ca4e2(0x5b1)][_0x2ca4e2(0x489)]),_0x399c8e&&(_0x125b28[_0x2ca4e2(0x226)]='closed'),_0x82dedb?this[_0x2ca4e2(0x24b)](_0x125b28):this[_0x2ca4e2(0x283)](_0x125b28,_0x5d9b2f);}[a0_0x3eb0d8(0x7c1)](_0x185b99,_0x4d0bdd){const _0x164c20=a0_0x3eb0d8;return _0x185b99[_0x164c20(0x67e)](/\{\{([^}]+)\}\}/g,(_0x22b492,_0x4971db)=>_0x4d0bdd[_0x4971db]?'{{'+_0x4971db+_0x164c20(0x272)+_0x4d0bdd[_0x4971db]+'\x22':'{{'+_0x4971db+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x3eb0d8(0x24b)](_0x408b9b){const _0x56adc6=a0_0x3eb0d8;try{let _0x568c78=Object[_0x56adc6(0x565)](_0x408b9b['chatLog'][_0x56adc6(0x67d)])[_0x56adc6(0x437)](([_0x4edcc8,_0x4be07c])=>({'name':_0x4edcc8,'value':_0x4be07c})),_0x5bde7a={'status':_0x408b9b[_0x56adc6(0x226)],'remoteJid':_0x408b9b[_0x56adc6(0x3f6)],'blocks':_0x408b9b['blocks'],'waitingMenu_id':_0x408b9b[_0x56adc6(0x17b)],'waitingMenu_text':_0x408b9b[_0x56adc6(0x7c4)],'waitingMenu_replyOptions':_0x408b9b['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x408b9b[_0x56adc6(0x5b1)][_0x56adc6(0x5eb)],'lastSendMessage':_0x408b9b[_0x56adc6(0x5b1)][_0x56adc6(0x31d)],'lastReceivedMessage':_0x408b9b[_0x56adc6(0x5b1)][_0x56adc6(0x281)],'lastCondition':_0x408b9b[_0x56adc6(0x5b1)][_0x56adc6(0x489)],'chatVariables':_0x568c78,'realVariables':_0x408b9b['chatLog'][_0x56adc6(0x67d)],'blockLogs':_0x408b9b[_0x56adc6(0x5b1)][_0x56adc6(0x12a)]}},_0x36bc46=await this[_0x56adc6(0x4f1)][_0x56adc6(0x641)][_0x56adc6(0x57f)](_0x408b9b[_0x56adc6(0x36f)],_0x5bde7a,this[_0x56adc6(0x245)][_0x56adc6(0x60f)]);if(_0x36bc46){this[_0x56adc6(0xfa)]['verbose'](this[_0x56adc6(0x1a8)]+'\x20('+this[_0x56adc6(0x245)][_0x56adc6(0x60f)]+_0x56adc6(0x5ef)+_0x36bc46[_0x56adc6(0x36f)]);try{let _0x1549ee=[_0x56adc6(0x724),_0x56adc6(0x265),_0x56adc6(0x47e),_0x56adc6(0x42a),_0x56adc6(0x226),'notas',_0x56adc6(0x64f),_0x56adc6(0x51e),'etiquetas',_0x56adc6(0x21e)];if(!this[_0x56adc6(0x521)]&&(await this[_0x56adc6(0x25b)](),!this['AutomateSystem']))throw new Error(_0x56adc6(0x68b));let _0x22d2cb=this[_0x56adc6(0x521)]?.[_0x56adc6(0x2bf)][_0x56adc6(0x437)](_0x4d6dc0=>_0x4d6dc0[_0x56adc6(0x21a)]),_0x287eb1={};Object[_0x56adc6(0x565)](_0x408b9b[_0x56adc6(0x5b1)][_0x56adc6(0x67d)])[_0x56adc6(0x16b)](([_0x17eb2c,_0x15148b])=>{const _0x311833=_0x56adc6;_0x1549ee[_0x311833(0x5d6)](_0x17eb2c)&&(_0x17eb2c===_0x311833(0x51e)&&typeof _0x15148b==_0x311833(0x129)?_0x287eb1[_0x17eb2c]=_0x15148b[_0x311833(0x766)](',')[_0x311833(0x437)](_0x523c61=>_0x523c61[_0x311833(0x6ae)]())[_0x311833(0x1d9)](_0x5dced7=>_0x5dced7!==''):_0x17eb2c==='etiquetas'&&typeof _0x15148b==_0x311833(0x129)?_0x287eb1[_0x17eb2c]=_0x15148b['split'](',')[_0x311833(0x437)](_0x529cff=>_0x529cff['trim']())[_0x311833(0x1d9)](_0x2ced43=>_0x2ced43!==''):_0x287eb1[_0x17eb2c]=_0x15148b);});let _0x1539e0=_0x408b9b['chatLog'][_0x56adc6(0x12a)][_0x408b9b[_0x56adc6(0x5b1)][_0x56adc6(0x12a)][_0x56adc6(0x75f)]-0x1];if(_0x1539e0){let _0x5ee4ee=_0x1539e0['newStoppedUntil'];_0x5ee4ee!==void 0x0&&(_0x287eb1[_0x56adc6(0x51c)]=_0x5ee4ee['toString']());}let _0x5553fc=_0x568c78['filter'](_0x2caa2c=>_0x22d2cb[_0x56adc6(0x5d6)](_0x2caa2c[_0x56adc6(0x21a)]));this[_0x56adc6(0xfa)][_0x56adc6(0x671)](this[_0x56adc6(0x1a8)]+'\x20('+this['instance'][_0x56adc6(0x60f)]+_0x56adc6(0x7dd)),this[_0x56adc6(0xfa)][_0x56adc6(0x671)](_0x287eb1),this[_0x56adc6(0xfa)][_0x56adc6(0x671)](this['instanceName']+'\x20('+this[_0x56adc6(0x245)][_0x56adc6(0x60f)]+_0x56adc6(0x685)),this[_0x56adc6(0xfa)][_0x56adc6(0x671)](_0x5553fc);let _0x487bec=_0x5553fc[_0x56adc6(0x437)](_0x35c7dc=>{const _0x424450=_0x56adc6;let _0x31b0ee=this[_0x424450(0x521)]?.[_0x424450(0x2bf)][_0x424450(0x551)](_0x3149fa=>_0x3149fa[_0x424450(0x21a)]===_0x35c7dc[_0x424450(0x21a)]);if(!_0x31b0ee)throw new Error(_0x424450(0x725)+_0x35c7dc[_0x424450(0x21a)]);return{'_id':_0x31b0ee[_0x424450(0x36f)],'value':_0x35c7dc[_0x424450(0x412)]};});this[_0x56adc6(0xfa)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x56adc6(0x60f)]+_0x56adc6(0x6c1)),this['logger'][_0x56adc6(0x671)](_0x487bec),await this[_0x56adc6(0x46c)](_0x408b9b[_0x56adc6(0x3f6)],_0x287eb1,_0x487bec);}catch(_0x3aefc2){this[_0x56adc6(0xfa)][_0x56adc6(0x1ca)](this[_0x56adc6(0x1a8)]+'\x20('+this[_0x56adc6(0x245)][_0x56adc6(0x60f)]+_0x56adc6(0x1c0)+(_0x3aefc2 instanceof Error?_0x3aefc2[_0x56adc6(0x3a7)]:JSON[_0x56adc6(0x1dc)](_0x3aefc2,null,0x2)));}}else this[_0x56adc6(0xfa)][_0x56adc6(0x1ca)](this[_0x56adc6(0x1a8)]+'\x20('+this[_0x56adc6(0x245)][_0x56adc6(0x60f)]+_0x56adc6(0x568));}catch(_0x51ae45){this[_0x56adc6(0xfa)]['error'](this['instanceName']+'\x20('+this['instance'][_0x56adc6(0x60f)]+_0x56adc6(0x293)+(_0x51ae45 instanceof Error?_0x51ae45[_0x56adc6(0x3a7)]:JSON[_0x56adc6(0x1dc)](_0x51ae45,null,0x2)));}}async[a0_0x3eb0d8(0x46c)](_0x4e2d92,_0x285eb5,_0x2003ab){const _0x4f7c82=a0_0x3eb0d8;try{let _0x14a672={'leadInfo.leadnome':_0x285eb5[_0x4f7c82(0x724)],'leadInfo.nomecompleto':_0x285eb5[_0x4f7c82(0x265)],'leadInfo.email':_0x285eb5['email'],'leadInfo.cpf':_0x285eb5[_0x4f7c82(0x42a)],'leadInfo.status':_0x285eb5[_0x4f7c82(0x226)],'leadInfo.notas':_0x285eb5[_0x4f7c82(0x62a)],'leadInfo.responsavelid':_0x285eb5[_0x4f7c82(0x64f)],'leadInfo.tags':_0x285eb5[_0x4f7c82(0x51e)],'leadInfo.etiquetas':_0x285eb5[_0x4f7c82(0x60c)],'leadInfo.customFields':_0x2003ab,'leadInfo.atendimentoAberto':_0x285eb5[_0x4f7c82(0x21e)]},_0xa45052=await this[_0x4f7c82(0x4f1)][_0x4f7c82(0x215)]['findOne']({'where':{'_id':_0x4e2d92}},this['instance'][_0x4f7c82(0x60f)]);if(!_0xa45052)return'chat\x20não\x20encontrado';let _0x16250e=new Set(_0xa45052[_0x4f7c82(0x594)][_0x4f7c82(0x60c)]||[]),_0x377368=new Set(_0x285eb5[_0x4f7c82(0x60c)]||[]),_0x546e6e=await this[_0x4f7c82(0x4f1)][_0x4f7c82(0x357)][_0x4f7c82(0x551)]({'where':{}},this['instance'][_0x4f7c82(0x60f)]),_0xd7b8f2=new Set(_0x546e6e[_0x4f7c82(0x437)](_0xa83640=>_0xa83640[_0x4f7c82(0x36f)])),_0x101c01=[..._0x377368][_0x4f7c82(0x1d9)](_0x56f3c1=>!_0x16250e[_0x4f7c82(0x10e)](_0x56f3c1)&&_0xd7b8f2[_0x4f7c82(0x10e)](_0x56f3c1)),_0x24d223=[..._0x16250e][_0x4f7c82(0x1d9)](_0x9c1610=>!_0x377368['has'](_0x9c1610));for(let _0x57eef5 of _0x101c01)await this[_0x4f7c82(0x527)](_0x57eef5,_0xa45052[_0x4f7c82(0x36f)]),_0x16250e[_0x4f7c82(0x440)](_0x57eef5);for(let _0x55069a of _0x24d223)await this[_0x4f7c82(0x5ea)](_0x55069a,_0xa45052[_0x4f7c82(0x36f)]),_0x16250e[_0x4f7c82(0x10d)](_0x55069a);if(_0x4f7c82(0x51c)in _0x285eb5){let _0x36821f=_0x285eb5[_0x4f7c82(0x51c)];_0x14a672[_0x4f7c82(0x26d)]=_0x36821f?Number(_0x36821f):null;}if('atendimentoAberto'in _0x285eb5){let _0x3b9b5e=_0x285eb5[_0x4f7c82(0x21e)][_0x4f7c82(0x20b)]();_0x14a672[_0x4f7c82(0x6f0)]=_0x3b9b5e===_0x4f7c82(0x19a)||_0x3b9b5e==='1'||_0x3b9b5e===_0x4f7c82(0x577)||_0x3b9b5e===_0x4f7c82(0x3d3);}let _0x8c3966=await this['repository'][_0x4f7c82(0x215)][_0x4f7c82(0x57f)]({'where':{'_id':_0x4e2d92}},_0x14a672,this[_0x4f7c82(0x245)][_0x4f7c82(0x60f)]);_0x8c3966?(this['logger'][_0x4f7c82(0x671)](this[_0x4f7c82(0x1a8)]+'\x20('+this[_0x4f7c82(0x245)][_0x4f7c82(0x60f)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x8c3966[_0x4f7c82(0x36f)]),J(this['instanceName'],_0x4f7c82(0x6df),{'chat':_0x8c3966})):this[_0x4f7c82(0xfa)][_0x4f7c82(0x1ca)](this[_0x4f7c82(0x1a8)]+'\x20('+this[_0x4f7c82(0x245)][_0x4f7c82(0x60f)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x4cb3ec){this[_0x4f7c82(0xfa)]['error'](this[_0x4f7c82(0x1a8)]+'\x20('+this[_0x4f7c82(0x245)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x4cb3ec instanceof Error?_0x4cb3ec[_0x4f7c82(0x3a7)]:JSON['stringify'](_0x4cb3ec,null,0x2)));}}async[a0_0x3eb0d8(0x50a)](_0x9b6bdb,_0x5312cd){const _0x36e657=a0_0x3eb0d8;this[_0x36e657(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x36e657(0x245)][_0x36e657(0x60f)]+_0x36e657(0x609)+_0x5312cd);try{let _0x305cf9=await this[_0x36e657(0x4f1)]['chat']['updateOne']({'where':{'_id':_0x9b6bdb[_0x36e657(0x3f6)]}},{'leadInfo.desativadoFluxoAte':_0x5312cd},this[_0x36e657(0x245)][_0x36e657(0x60f)]);this[_0x36e657(0xfa)]['verbose'](this[_0x36e657(0x1a8)]+'\x20('+this[_0x36e657(0x245)][_0x36e657(0x60f)]+_0x36e657(0x184)+_0x9b6bdb[_0x36e657(0x36f)]),this[_0x36e657(0xfa)][_0x36e657(0x671)](this[_0x36e657(0x1a8)]+'\x20('+this[_0x36e657(0x245)][_0x36e657(0x60f)]+_0x36e657(0x609)+JSON[_0x36e657(0x1dc)](_0x305cf9,null,0x2)),_0x305cf9&&J(this['instanceName'],_0x36e657(0x6df),{'chat':_0x305cf9});}catch(_0x295e84){this[_0x36e657(0xfa)]['error'](this['instanceName']+'\x20('+this[_0x36e657(0x245)][_0x36e657(0x60f)]+_0x36e657(0x5a8)+(_0x295e84 instanceof Error?_0x295e84[_0x36e657(0x3a7)]:JSON['stringify'](_0x295e84,null,0x2)));}}async[a0_0x3eb0d8(0x332)](_0x1708d5){const _0x52aa28=a0_0x3eb0d8;try{this['logger'][_0x52aa28(0x671)](this[_0x52aa28(0x1a8)]+'\x20('+this[_0x52aa28(0x245)]['wuid']+_0x52aa28(0x420));let _0x309985=_0x1708d5[_0x52aa28(0x67e)](/\D/g,''),_0x24e569=this[_0x52aa28(0x521)][_0x52aa28(0x66d)][_0x52aa28(0x551)](_0x6c9ebc=>_0x6c9ebc[_0x52aa28(0x3d9)]===_0x309985);if(_0x24e569||(this[_0x52aa28(0xfa)][_0x52aa28(0x671)](this[_0x52aa28(0x1a8)]+'\x20('+this[_0x52aa28(0x245)]['wuid']+_0x52aa28(0x3dd)),_0x24e569=this[_0x52aa28(0x521)][_0x52aa28(0x66d)]['find'](_0x375f23=>_0x375f23[_0x52aa28(0x487)]===!0x0)),!_0x24e569)return this[_0x52aa28(0xfa)][_0x52aa28(0x671)](this[_0x52aa28(0x1a8)]+'\x20('+this[_0x52aa28(0x245)][_0x52aa28(0x60f)]+_0x52aa28(0x255)),null;let _0x2b28fc=await this[_0x52aa28(0x4f1)][_0x52aa28(0x800)]['findOne']({'where':{'_id':_0x24e569[_0x52aa28(0x36f)]}});if(!_0x2b28fc||!_0x2b28fc[_0x52aa28(0x585)]?.[_0x52aa28(0x5d6)](this[_0x52aa28(0x245)][_0x52aa28(0x60f)]))throw this[_0x52aa28(0xfa)][_0x52aa28(0x1ca)](this[_0x52aa28(0x1a8)]+'\x20('+this[_0x52aa28(0x245)][_0x52aa28(0x60f)]+_0x52aa28(0xce)+_0x2b28fc[_0x52aa28(0x36f)]+_0x52aa28(0x555)),new m(_0x52aa28(0x4da)+_0x2b28fc[_0x52aa28(0x36f)]+_0x52aa28(0x555));return _0x2b28fc;}catch(_0x1b683a){return this[_0x52aa28(0xfa)][_0x52aa28(0x1ca)](this['instanceName']+'\x20('+this['instance'][_0x52aa28(0x60f)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x1b683a instanceof Error?_0x1b683a[_0x52aa28(0x3a7)]:JSON[_0x52aa28(0x1dc)](_0x1b683a,null,0x2))),null;}}async['findConversation'](_0xf9b7eb,_0x16f380){const _0x4292c7=a0_0x3eb0d8;try{let _0x394ee5=!!_0x16f380[_0x4292c7(0x531)],_0x3613bc=_0x16f380[_0x4292c7(0x102)],_0x4bfb40=null;if(this[_0x4292c7(0xfa)]['verbose'](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+_0x4292c7(0x610)+_0x394ee5+'\x20quoted:\x20'+_0x3613bc),_0x394ee5){this['logger']['verbose'](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x5d289e={'where':{'remoteJid':_0xf9b7eb,'waitingMenu_id':_0x3613bc}};if(_0x4bfb40=await this[_0x4292c7(0x4f1)][_0x4292c7(0x641)]['findOne'](_0x5d289e,this[_0x4292c7(0x245)]['wuid']),!_0x4bfb40)return this[_0x4292c7(0xfa)][_0x4292c7(0x671)](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+'):\x20não\x20encontrou'),null;let _0x401d21=Date[_0x4292c7(0x117)](),_0xa20fe4=_0x4bfb40?.[_0x4292c7(0x286)]||0x0,_0x3eab07=_0x401d21-_0xa20fe4*0x3c*0x3e8;if(_0x4bfb40[_0x4292c7(0x628)]<_0x3eab07){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+_0x4292c7(0x7d3));let _0x5001d0={'number':_0x4bfb40[_0x4292c7(0x3f6)],'options':{'delay':0x0},'textMessage':{'text':_0x4bfb40[_0x4292c7(0x354)]}};await this['textMessage'](_0x5001d0);let _0x10ebe6={'status':_0x4292c7(0x499),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x4292c7(0x4f1)][_0x4292c7(0x641)][_0x4292c7(0x57f)](_0x4bfb40[_0x4292c7(0x36f)],_0x10ebe6,this[_0x4292c7(0x245)]['wuid']),null;}return _0x4bfb40[_0x4292c7(0x628)]=Date[_0x4292c7(0x117)](),_0x4bfb40[_0x4292c7(0x5b1)][_0x4292c7(0x281)]=_0x16f380,_0x4bfb40;}else{this[_0x4292c7(0xfa)][_0x4292c7(0x671)](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+'):\x20'+this['instance'][_0x4292c7(0x60f)]+_0x4292c7(0x714)),this[_0x4292c7(0xfa)][_0x4292c7(0x671)](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)]['wuid']+_0x4292c7(0x6f1));let _0x345497={'where':{'remoteJid':_0xf9b7eb,'status':_0x4292c7(0x156)}};if(_0x4bfb40=await this['repository'][_0x4292c7(0x641)][_0x4292c7(0x657)](_0x345497,this[_0x4292c7(0x245)]['wuid']),!_0x4bfb40){let _0x30aa4d=await this['findFlow'](_0xf9b7eb);if(_0x30aa4d&&(_0x4bfb40=await this[_0x4292c7(0x61e)](_0x30aa4d,_0x16f380[_0x4292c7(0x33c)],_0x16f380)),!_0x4bfb40)return null;}let _0x36f7fc=Date['now'](),_0x48a8fc=_0x4bfb40?.['minutesToClose']||0x0,_0x27d5fe=_0x36f7fc-_0x48a8fc*0x3c*0x3e8;if(this[_0x4292c7(0xfa)][_0x4292c7(0x671)](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+'):\x20Current\x20Time:\x20'+_0x36f7fc+_0x4292c7(0x602)+_0x48a8fc+_0x4292c7(0x562)+_0x27d5fe),this[_0x4292c7(0xfa)]['verbose'](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+_0x4292c7(0x3f8)),this[_0x4292c7(0xfa)][_0x4292c7(0x671)](this['instanceName']+'\x20('+this[_0x4292c7(0x245)]['wuid']+_0x4292c7(0x144)+_0x4bfb40[_0x4292c7(0x628)]),this[_0x4292c7(0xfa)][_0x4292c7(0x671)](this[_0x4292c7(0x1a8)]+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+_0x4292c7(0xd9)+_0x27d5fe),_0x4bfb40[_0x4292c7(0x628)]<_0x27d5fe){this[_0x4292c7(0xfa)][_0x4292c7(0x671)](this['instanceName']+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+_0x4292c7(0x624));let _0x7ad0c2=await this[_0x4292c7(0x332)](_0xf9b7eb);if(_0x7ad0c2===null)return null;_0x4bfb40&&await this[_0x4292c7(0x4f1)][_0x4292c7(0x641)][_0x4292c7(0x57f)](_0x4bfb40[_0x4292c7(0x36f)],{'status':_0x4292c7(0x499)},this[_0x4292c7(0x245)]['wuid']),_0x4bfb40=await this['createNewConversation'](_0x7ad0c2,_0x16f380['key'],_0x16f380);}return _0x4bfb40[_0x4292c7(0x628)]=_0x36f7fc,_0x4bfb40[_0x4292c7(0x5b1)][_0x4292c7(0x281)]=_0x16f380,_0x4bfb40;}}catch(_0x2c9f63){return this[_0x4292c7(0xfa)][_0x4292c7(0x1ca)](this['instanceName']+'\x20('+this[_0x4292c7(0x245)][_0x4292c7(0x60f)]+_0x4292c7(0x55f)+(_0x2c9f63 instanceof Error?_0x2c9f63['message']:JSON[_0x4292c7(0x1dc)](_0x2c9f63,null,0x2))),null;}}async[a0_0x3eb0d8(0x61e)](_0x5ad767,_0x545917,_0x98015c){const _0x4928d2=a0_0x3eb0d8;this['logger'][_0x4928d2(0x671)](this['instanceName']+'\x20('+this['instance'][_0x4928d2(0x60f)]+_0x4928d2(0x2c6));try{let _0x1f68f9=require(_0x4928d2(0x3ae))[_0x4928d2(0x2bc)],_0xf9a690=Date['now'](),_0x2005f7=_0x4928d2(0x7f4),_0xc81477=_0x545917[_0x4928d2(0x344)]?null:_0x98015c,_0x44fffc=_0x545917[_0x4928d2(0x344)]?_0x98015c:null,_0x52efc5=_0x545917[_0x4928d2(0x3f6)],_0x5b4181=this[_0x4928d2(0x521)][_0x4928d2(0x66d)][_0x4928d2(0x551)](_0xb15060=>_0xb15060[_0x4928d2(0x36f)]===_0x5ad767[_0x4928d2(0x36f)]?.['toString']()),_0x5e23fc=_0x5b4181?.[_0x4928d2(0x286)]??_0x5ad767['minutesToClose']??0x0,_0x47d3fe=_0x5b4181?.[_0x4928d2(0x360)]??_0x5ad767[_0x4928d2(0x360)]??!0x1;await this[_0x4928d2(0x6c2)](_0x52efc5);let _0x270884={'flowId':_0x5ad767[_0x4928d2(0x36f)],..._0x5ad767,'chatLog':null},_0x296dd7=await this['variablesToObject'](_0x270884['variables']),_0x46f1cd=await this[_0x4928d2(0x799)](_0x52efc5),_0x522690={..._0x296dd7,..._0x46f1cd,'_remoteJid':_0x52efc5},_0x19b04d={'lastReceivedMessage':_0xc81477,'lastSendMessage':_0x44fffc,'lastBlockId':_0x2005f7,'lastCondition':!0x0,'realVariables':_0x522690};_0x270884['chatLog']=_0x19b04d,delete _0x270884[_0x4928d2(0x36f)],_0x270884['_id']=new _0x1f68f9(),_0x270884[_0x4928d2(0x628)]=_0xf9a690,_0x270884[_0x4928d2(0x226)]='open',_0x270884[_0x4928d2(0x3f6)]=_0x52efc5,_0x270884[_0x4928d2(0x286)]=_0x5e23fc,_0x270884[_0x4928d2(0x360)]=_0x47d3fe;let _0x59b90c=await this[_0x4928d2(0x4f1)][_0x4928d2(0x641)]['updateOne'](_0x270884[_0x4928d2(0x36f)],_0x270884,this[_0x4928d2(0x245)][_0x4928d2(0x60f)]);return this[_0x4928d2(0xfa)]['verbose'](this[_0x4928d2(0x1a8)]+'\x20('+this[_0x4928d2(0x245)][_0x4928d2(0x60f)]+_0x4928d2(0x2c2)),_0x59b90c?_0x270884:null;}catch(_0x5db2a2){return this[_0x4928d2(0xfa)]['error'](this[_0x4928d2(0x1a8)]+'\x20('+this[_0x4928d2(0x245)][_0x4928d2(0x60f)]+_0x4928d2(0x452)+(_0x5db2a2 instanceof Error?_0x5db2a2[_0x4928d2(0x3a7)]:JSON[_0x4928d2(0x1dc)](_0x5db2a2,null,0x2))),_0x5db2a2;}}async['uazapiSendText'](_0xbf5d7c,_0x43fd66){const _0x557288=a0_0x3eb0d8;let _0x542188=_0xbf5d7c[_0x557288(0x3f6)];_0x43fd66[_0x557288(0xc5)][_0x557288(0x3f6)]&&_0x43fd66[_0x557288(0xc5)][_0x557288(0x3f6)]['trim']()!==''&&(_0x542188=_0x43fd66[_0x557288(0xc5)][_0x557288(0x3f6)]['trim']()),this['logger'][_0x557288(0x671)](this[_0x557288(0x1a8)]+'\x20('+this['instance'][_0x557288(0x60f)]+'):\x20Enviando\x20texto');let _0x558ed3={'number':_0x542188,'options':{'delay':_0x43fd66['uazapi'][_0x557288(0x7a2)],'linkPreview':_0x43fd66[_0x557288(0xc5)]['linkPreview']},'textMessage':{'text':_0x43fd66['uazapi'][_0x557288(0x3ef)]}};try{let _0x186a1b=await this[_0x557288(0x257)](_0x558ed3);if(_0x186a1b){let _0x345496={'_id':_0x186a1b['key']['id'],'_fromMe':_0x186a1b[_0x557288(0x33c)][_0x557288(0x344)],'_remoteJid':_0x186a1b[_0x557288(0x33c)][_0x557288(0x3f6)]},_0x363797=(0x0,w['normalizeMessageContent'])(_0x186a1b[_0x557288(0x3a7)]),_0x1c0bdd=(0x0,w[_0x557288(0x2b6)])(_0x363797);_0xbf5d7c[_0x557288(0x5b1)]['lastBlockId']=_0x43fd66[_0x557288(0x36f)]['toString']();let {message_normalized:_0xab19a5}=this[_0x557288(0x6d0)](_0x363797,_0x1c0bdd,null);_0xbf5d7c[_0x557288(0x5b1)][_0x557288(0x31d)]=await _0xab19a5;let _0x564fee={'messageId':_0x186a1b[_0x557288(0x33c)]['id']},_0x151ba4=_0xbf5d7c[_0x557288(0x5b1)][_0x557288(0x67d)];Object['assign'](_0x151ba4,_0x345496),_0xbf5d7c[_0x557288(0x5b1)][_0x557288(0x67d)]=_0x151ba4,this['updateConversation'](_0xbf5d7c,_0x43fd66,_0x564fee);}else{let _0xb0d76a={'error':!0x0};this[_0x557288(0x750)](_0xbf5d7c,_0x43fd66,_0xb0d76a),this['logger'][_0x557288(0x1ca)](this[_0x557288(0x1a8)]+'\x20('+this['instance'][_0x557288(0x60f)]+_0x557288(0x151));}}catch(_0x359494){let _0x1268bf={'error':!0x0,'errorLog':_0x359494[_0x557288(0x121)]()};this[_0x557288(0x750)](_0xbf5d7c,_0x43fd66,_0x1268bf),this['logger'][_0x557288(0x1ca)](this[_0x557288(0x1a8)]+'\x20('+this['instance'][_0x557288(0x60f)]+_0x557288(0x728)+(_0x359494 instanceof Error?_0x359494[_0x557288(0x3a7)]:JSON[_0x557288(0x1dc)](_0x359494,null,0x2)));}}async[a0_0x3eb0d8(0x3a5)](_0x3f3dfe,_0x732a8f){const _0x145bc3=a0_0x3eb0d8;let _0x1061d5=_0x3f3dfe['remoteJid'];_0x732a8f[_0x145bc3(0xc5)][_0x145bc3(0x3f6)]&&_0x732a8f[_0x145bc3(0xc5)][_0x145bc3(0x3f6)][_0x145bc3(0x6ae)]()!==''&&(_0x1061d5=_0x732a8f[_0x145bc3(0xc5)][_0x145bc3(0x3f6)][_0x145bc3(0x6ae)]()),this[_0x145bc3(0xfa)][_0x145bc3(0x671)](this[_0x145bc3(0x1a8)]+'\x20('+this[_0x145bc3(0x245)]['wuid']+_0x145bc3(0x7d6));let _0x2ce7b1={'number':_0x1061d5,'options':{'delay':_0x732a8f[_0x145bc3(0xc5)][_0x145bc3(0x7a2)],'linkPreview':_0x732a8f[_0x145bc3(0xc5)][_0x145bc3(0x16a)]},'mediaMessage':{'mediatype':_0x732a8f[_0x145bc3(0xc5)]['mediatype'],'caption':_0x732a8f[_0x145bc3(0xc5)][_0x145bc3(0xe5)],'media':_0x732a8f[_0x145bc3(0xc5)][_0x145bc3(0x6db)],'fileName':_0x732a8f['uazapi'][_0x145bc3(0x6f7)]}};try{let _0x527689=await this[_0x145bc3(0x21f)](_0x2ce7b1);if(_0x527689){let _0x2718bd={'_id':_0x527689[_0x145bc3(0x33c)]['id'],'_fromMe':_0x527689[_0x145bc3(0x33c)][_0x145bc3(0x344)],'_remoteJid':_0x527689[_0x145bc3(0x33c)][_0x145bc3(0x3f6)]},_0x56c8f2=(0x0,w[_0x145bc3(0x604)])(_0x527689['message']),_0x1225de=(0x0,w[_0x145bc3(0x2b6)])(_0x56c8f2);_0x3f3dfe['chatLog'][_0x145bc3(0x5eb)]=_0x732a8f[_0x145bc3(0x36f)][_0x145bc3(0x121)]();let {message_normalized:_0x9f58b}=this[_0x145bc3(0x6d0)](_0x56c8f2,_0x1225de,null);_0x3f3dfe[_0x145bc3(0x5b1)][_0x145bc3(0x31d)]=await _0x9f58b;let _0x4fd40e={'messageId':_0x527689[_0x145bc3(0x33c)]['id']},_0x5d692f=_0x3f3dfe[_0x145bc3(0x5b1)]['realVariables'];Object[_0x145bc3(0x18a)](_0x5d692f,_0x2718bd),_0x3f3dfe[_0x145bc3(0x5b1)][_0x145bc3(0x67d)]=_0x5d692f,this['updateConversation'](_0x3f3dfe,_0x732a8f,_0x4fd40e);}else{let _0x10c88f={'error':!0x0};this['updateConversation'](_0x3f3dfe,_0x732a8f,_0x10c88f),this[_0x145bc3(0xfa)][_0x145bc3(0x1ca)](this[_0x145bc3(0x1a8)]+'\x20('+this[_0x145bc3(0x245)][_0x145bc3(0x60f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x39489b){let _0x208bf6={'error':!0x0,'errorLog':_0x39489b[_0x145bc3(0x121)]()};this['updateConversation'](_0x3f3dfe,_0x732a8f,_0x208bf6),this[_0x145bc3(0xfa)][_0x145bc3(0x1ca)](this[_0x145bc3(0x1a8)]+'\x20('+this[_0x145bc3(0x245)][_0x145bc3(0x60f)]+_0x145bc3(0x3a9)+(_0x39489b instanceof Error?_0x39489b[_0x145bc3(0x3a7)]:JSON['stringify'](_0x39489b,null,0x2)));}}async[a0_0x3eb0d8(0x479)](_0x4edd5f,_0x594866){const _0x45591f=a0_0x3eb0d8;let _0x5994fc=_0x4edd5f[_0x45591f(0x3f6)];_0x594866[_0x45591f(0xc5)]['remoteJid']&&_0x594866[_0x45591f(0xc5)][_0x45591f(0x3f6)][_0x45591f(0x6ae)]()!==''&&(_0x5994fc=_0x594866[_0x45591f(0xc5)]['remoteJid'][_0x45591f(0x6ae)]()),this[_0x45591f(0xfa)][_0x45591f(0x671)](this[_0x45591f(0x1a8)]+'\x20('+this[_0x45591f(0x245)][_0x45591f(0x60f)]+'):\x20Enviando\x20localização');let _0x1e6d10={'number':_0x5994fc,'options':{'delay':_0x594866[_0x45591f(0xc5)][_0x45591f(0x7a2)]},'locationMessage':{'name':_0x594866[_0x45591f(0xc5)]['name'],'address':_0x594866[_0x45591f(0xc5)][_0x45591f(0x687)],'latitude':_0x594866[_0x45591f(0xc5)][_0x45591f(0x813)],'longitude':_0x594866[_0x45591f(0xc5)][_0x45591f(0x118)]}};try{let _0x1f0af5=await this[_0x45591f(0x74c)](_0x1e6d10);if(_0x1f0af5){let _0x558e78={'_id':_0x1f0af5[_0x45591f(0x33c)]['id'],'_fromMe':_0x1f0af5['key'][_0x45591f(0x344)],'_remoteJid':_0x1f0af5[_0x45591f(0x33c)][_0x45591f(0x3f6)]},_0x396cdb=(0x0,w[_0x45591f(0x604)])(_0x1f0af5[_0x45591f(0x3a7)]),_0x3dbf2b=(0x0,w[_0x45591f(0x2b6)])(_0x396cdb);_0x4edd5f['chatLog']['lastBlockId']=_0x594866[_0x45591f(0x36f)][_0x45591f(0x121)]();let {message_normalized:_0x7920a7}=this[_0x45591f(0x6d0)](_0x396cdb,_0x3dbf2b,null);_0x4edd5f[_0x45591f(0x5b1)][_0x45591f(0x31d)]=await _0x7920a7;let _0x2bfaba={'messageId':_0x1f0af5['key']['id']},_0x4b26f8=_0x4edd5f['chatLog'][_0x45591f(0x67d)];Object[_0x45591f(0x18a)](_0x4b26f8,_0x558e78),_0x4edd5f[_0x45591f(0x5b1)][_0x45591f(0x67d)]=_0x4b26f8,this[_0x45591f(0x750)](_0x4edd5f,_0x594866,_0x2bfaba);}else{let _0x483a58={'error':!0x0};this[_0x45591f(0x750)](_0x4edd5f,_0x594866,_0x483a58),this[_0x45591f(0xfa)][_0x45591f(0x1ca)](this['instanceName']+'\x20('+this[_0x45591f(0x245)][_0x45591f(0x60f)]+_0x45591f(0x73d));}}catch(_0x528bf6){let _0x4d4461={'error':!0x0,'errorLog':_0x528bf6[_0x45591f(0x121)]()};this[_0x45591f(0x750)](_0x4edd5f,_0x594866,_0x4d4461),this[_0x45591f(0xfa)][_0x45591f(0x1ca)](this[_0x45591f(0x1a8)]+'\x20('+this[_0x45591f(0x245)][_0x45591f(0x60f)]+_0x45591f(0x170)+(_0x528bf6 instanceof Error?_0x528bf6[_0x45591f(0x3a7)]:JSON[_0x45591f(0x1dc)](_0x528bf6,null,0x2)));}}async[a0_0x3eb0d8(0x622)](_0x16bb9a,_0x314e38){const _0x1eab71=a0_0x3eb0d8;let _0x4c00d3=_0x16bb9a[_0x1eab71(0x3f6)];_0x314e38[_0x1eab71(0xc5)]['remoteJid']&&_0x314e38['uazapi'][_0x1eab71(0x3f6)][_0x1eab71(0x6ae)]()!==''&&(_0x4c00d3=_0x314e38[_0x1eab71(0xc5)][_0x1eab71(0x3f6)][_0x1eab71(0x6ae)]()),this['logger'][_0x1eab71(0x671)](this[_0x1eab71(0x1a8)]+'\x20('+this[_0x1eab71(0x245)][_0x1eab71(0x60f)]+_0x1eab71(0x196));let _0x2fdf65={'number':_0x4c00d3,'options':{'delay':_0x314e38[_0x1eab71(0xc5)][_0x1eab71(0x7a2)]},'audioMessage':{'audio':_0x314e38['uazapi'][_0x1eab71(0x2db)]}};try{let _0x56b6dc=await this[_0x1eab71(0x5bd)](_0x2fdf65);if(_0x56b6dc){let _0x5bbb36={'_id':_0x56b6dc[_0x1eab71(0x33c)]['id'],'_fromMe':_0x56b6dc[_0x1eab71(0x33c)]['fromMe'],'_remoteJid':_0x56b6dc[_0x1eab71(0x33c)]['remoteJid']},_0x205e67=(0x0,w[_0x1eab71(0x604)])(_0x56b6dc['message']),_0x268025=(0x0,w[_0x1eab71(0x2b6)])(_0x205e67);_0x16bb9a[_0x1eab71(0x5b1)][_0x1eab71(0x5eb)]=_0x314e38[_0x1eab71(0x36f)][_0x1eab71(0x121)]();let {message_normalized:_0x1674b2}=this[_0x1eab71(0x6d0)](_0x205e67,_0x268025,null);_0x16bb9a[_0x1eab71(0x5b1)]['lastSendMessage']=await _0x1674b2;let _0x1c427d={'messageId':_0x56b6dc[_0x1eab71(0x33c)]['id']},_0x3797b2=_0x16bb9a[_0x1eab71(0x5b1)][_0x1eab71(0x67d)];Object[_0x1eab71(0x18a)](_0x3797b2,_0x5bbb36),_0x16bb9a[_0x1eab71(0x5b1)][_0x1eab71(0x67d)]=_0x3797b2,this[_0x1eab71(0x750)](_0x16bb9a,_0x314e38,_0x1c427d);}else{let _0x1ca5db={'error':!0x0};this[_0x1eab71(0x750)](_0x16bb9a,_0x314e38,_0x1ca5db),this[_0x1eab71(0xfa)][_0x1eab71(0x1ca)](this[_0x1eab71(0x1a8)]+'\x20('+this[_0x1eab71(0x245)][_0x1eab71(0x60f)]+_0x1eab71(0x45c));}}catch(_0x4512c4){let _0x2f5170={'error':!0x0,'errorLog':_0x4512c4[_0x1eab71(0x121)]()};this[_0x1eab71(0x750)](_0x16bb9a,_0x314e38,_0x2f5170),this['logger']['error'](this[_0x1eab71(0x1a8)]+'\x20('+this['instance'][_0x1eab71(0x60f)]+_0x1eab71(0x7ef)+(_0x4512c4 instanceof Error?_0x4512c4[_0x1eab71(0x3a7)]:JSON[_0x1eab71(0x1dc)](_0x4512c4,null,0x2)));}}async[a0_0x3eb0d8(0x6c5)](_0x2505d0,_0x52e072){const _0x4a3580=a0_0x3eb0d8;let _0x26766a=_0x2505d0['remoteJid'];_0x52e072[_0x4a3580(0xc5)]['remoteJid']&&_0x52e072[_0x4a3580(0xc5)][_0x4a3580(0x3f6)][_0x4a3580(0x6ae)]()!==''&&(_0x26766a=_0x52e072[_0x4a3580(0xc5)][_0x4a3580(0x3f6)][_0x4a3580(0x6ae)]()),this['logger'][_0x4a3580(0x671)](this['instanceName']+'\x20('+this[_0x4a3580(0x245)][_0x4a3580(0x60f)]+_0x4a3580(0x6d3));let _0x3ed6ea={'number':_0x26766a,'options':{'delay':_0x52e072['uazapi'][_0x4a3580(0x7a2)]},'contactMessage':[{'fullName':_0x52e072[_0x4a3580(0xc5)][_0x4a3580(0x394)],'phoneNumber':_0x52e072['uazapi'][_0x4a3580(0x328)]}]};try{let _0x4e154b=await this[_0x4a3580(0x4a9)](_0x3ed6ea);if(_0x4e154b){let _0x1d0a4a={'_id':_0x4e154b[_0x4a3580(0x33c)]['id'],'_fromMe':_0x4e154b[_0x4a3580(0x33c)][_0x4a3580(0x344)],'_remoteJid':_0x4e154b[_0x4a3580(0x33c)][_0x4a3580(0x3f6)]},_0x3a24f4=(0x0,w[_0x4a3580(0x604)])(_0x4e154b['message']),_0x5a1d66=(0x0,w[_0x4a3580(0x2b6)])(_0x3a24f4);_0x2505d0[_0x4a3580(0x5b1)]['lastBlockId']=_0x52e072[_0x4a3580(0x36f)][_0x4a3580(0x121)]();let {message_normalized:_0x115110}=this[_0x4a3580(0x6d0)](_0x3a24f4,_0x5a1d66,null);_0x2505d0[_0x4a3580(0x5b1)][_0x4a3580(0x31d)]=await _0x115110;let _0x224be0={'messageId':_0x4e154b[_0x4a3580(0x33c)]['id']},_0x195e69=_0x2505d0['chatLog'][_0x4a3580(0x67d)];Object['assign'](_0x195e69,_0x1d0a4a),_0x2505d0[_0x4a3580(0x5b1)]['realVariables']=_0x195e69,this['updateConversation'](_0x2505d0,_0x52e072,_0x224be0);}else{let _0x50eb34={'error':!0x0};this[_0x4a3580(0x750)](_0x2505d0,_0x52e072,_0x50eb34),this['logger'][_0x4a3580(0x1ca)](this['instanceName']+'\x20('+this[_0x4a3580(0x245)][_0x4a3580(0x60f)]+_0x4a3580(0x504));}}catch(_0x2b5543){let _0x365f33={'error':!0x0,'errorLog':_0x2b5543[_0x4a3580(0x121)]()};this[_0x4a3580(0x750)](_0x2505d0,_0x52e072,_0x365f33),this[_0x4a3580(0xfa)][_0x4a3580(0x1ca)](this[_0x4a3580(0x1a8)]+'\x20('+this[_0x4a3580(0x245)][_0x4a3580(0x60f)]+_0x4a3580(0x59b)+(_0x2b5543 instanceof Error?_0x2b5543['message']:JSON['stringify'](_0x2b5543,null,0x2)));}}[a0_0x3eb0d8(0x5e8)](_0x3dfb7f,_0x1fff79){const _0x505247=a0_0x3eb0d8;for(let _0x29c579 of _0x3dfb7f)_0x29c579['option']&&(_0x29c579[_0x505247(0x40f)]=this[_0x505247(0x11e)](_0x29c579[_0x505247(0x40f)],_0x1fff79)),_0x29c579['optionDescription']&&(_0x29c579[_0x505247(0x7a7)]=this[_0x505247(0x11e)](_0x29c579['optionDescription'],_0x1fff79));}async['uazapiSendMenu'](_0x272aa7,_0x303743){const _0x58a17b=a0_0x3eb0d8;let _0x44f55d=_0x272aa7[_0x58a17b(0x3f6)];_0x303743[_0x58a17b(0xc5)][_0x58a17b(0x3f6)]&&_0x303743['uazapi'][_0x58a17b(0x3f6)]['trim']()!==''&&(_0x44f55d=_0x303743[_0x58a17b(0xc5)][_0x58a17b(0x3f6)]['trim']()),this['logger'][_0x58a17b(0x671)](this[_0x58a17b(0x1a8)]+'\x20('+this[_0x58a17b(0x245)][_0x58a17b(0x60f)]+_0x58a17b(0x6ff));let _0x77f2b=_0x272aa7['replyOptions'][_0x58a17b(0x1d9)](_0x3e0b45=>_0x3e0b45['blockId']===_0x303743[_0x58a17b(0x36f)])[_0x58a17b(0x50e)]((_0x510ca6,_0x5d09c9)=>_0x510ca6[_0x58a17b(0x52e)]-_0x5d09c9[_0x58a17b(0x52e)]);this['replaceVariablesInReplyOptions'](_0x77f2b,_0x272aa7[_0x58a17b(0x5b1)][_0x58a17b(0x67d)]);let _0x5c68ec=_0x77f2b[_0x58a17b(0x437)](_0x1b8c8a=>_0x1b8c8a[_0x58a17b(0x40f)]),_0x5709aa={'number':_0x44f55d,'menuMessage':{'type':_0x303743[_0x58a17b(0xc5)]['menuType']||_0x58a17b(0x4c5),'text':_0x303743['uazapi']['text']||_0x303743[_0x58a17b(0xc5)][_0x58a17b(0x21a)],'footerText':_0x303743['uazapi']['footerText'],'buttonText':_0x303743[_0x58a17b(0xc5)]['buttonText'],'selectableCount':0x1,'choices':_0x5c68ec},'options':{'delay':_0x303743[_0x58a17b(0xc5)]['delay']}};try{let _0x2c8265=await this[_0x58a17b(0x7ab)](_0x5709aa);if(_0x2c8265){let _0x115b7b={'_id':_0x2c8265[_0x58a17b(0x33c)]['id'],'_fromMe':_0x2c8265[_0x58a17b(0x33c)][_0x58a17b(0x344)],'_remoteJid':_0x2c8265[_0x58a17b(0x33c)][_0x58a17b(0x3f6)]};_0x303743[_0x58a17b(0xc5)]['menuIgnoreNonVotes']===!0x0&&(_0x272aa7[_0x58a17b(0x226)]=_0x58a17b(0x7c7),this['logger'][_0x58a17b(0x671)](this[_0x58a17b(0x1a8)]+'\x20('+this[_0x58a17b(0x245)][_0x58a17b(0x60f)]+_0x58a17b(0x70f)+_0x272aa7[_0x58a17b(0x226)])),this[_0x58a17b(0xfa)][_0x58a17b(0x671)](this[_0x58a17b(0x1a8)]+'\x20('+this[_0x58a17b(0x245)]['wuid']+_0x58a17b(0x463)+(_0x303743[_0x58a17b(0xc5)][_0x58a17b(0x21a)]||_0x303743[_0x58a17b(0xc5)][_0x58a17b(0x3ef)])),_0x272aa7[_0x58a17b(0x17b)]=_0x2c8265['key']['id'],_0x272aa7['waitingMenu_text']=_0x303743['uazapi'][_0x58a17b(0x21a)]||_0x303743['uazapi']['text'],_0x272aa7['waitingMenu_replyOptions']=_0x77f2b,_0x303743[_0x58a17b(0xc5)][_0x58a17b(0x3a4)]&&(_0x272aa7['waitingMenu_ExpiredMessage']=_0x303743['uazapi']['menuExpiredMessage']),this[_0x58a17b(0xfa)][_0x58a17b(0x671)](this[_0x58a17b(0x1a8)]+'\x20('+this[_0x58a17b(0x245)]['wuid']+'):\x20conversation.waitingMenu_name'+_0x272aa7[_0x58a17b(0x7c4)]);let _0x204122=(0x0,w['normalizeMessageContent'])(_0x2c8265[_0x58a17b(0x3a7)]),_0x32baa3=(0x0,w[_0x58a17b(0x2b6)])(_0x204122);_0x272aa7[_0x58a17b(0x5b1)][_0x58a17b(0x5eb)]=_0x303743['_id'][_0x58a17b(0x121)]();let {message_normalized:_0x5eaee0}=this[_0x58a17b(0x6d0)](_0x204122,_0x32baa3,null);_0x272aa7[_0x58a17b(0x5b1)][_0x58a17b(0x31d)]=await _0x5eaee0;let _0x337659={'messageId':_0x2c8265[_0x58a17b(0x33c)]['id']},_0xd2dcf9=_0x272aa7[_0x58a17b(0x5b1)]['realVariables'];Object[_0x58a17b(0x18a)](_0xd2dcf9,_0x115b7b),_0x272aa7['chatLog'][_0x58a17b(0x67d)]=_0xd2dcf9,this[_0x58a17b(0x750)](_0x272aa7,_0x303743,_0x337659);}else{let _0x21b672={'error':!0x0};this['updateConversation'](_0x272aa7,_0x303743,_0x21b672),this[_0x58a17b(0xfa)][_0x58a17b(0x1ca)](this[_0x58a17b(0x1a8)]+'\x20('+this[_0x58a17b(0x245)][_0x58a17b(0x60f)]+_0x58a17b(0x5c4));}}catch(_0x380aaa){let _0x4816af={'error':!0x0,'errorLog':_0x380aaa instanceof Error?_0x380aaa[_0x58a17b(0x3a7)]:JSON['stringify'](_0x380aaa,null,0x2)};this[_0x58a17b(0x750)](_0x272aa7,_0x303743,_0x4816af),this[_0x58a17b(0xfa)][_0x58a17b(0x1ca)](this['instanceName']+'\x20('+this[_0x58a17b(0x245)][_0x58a17b(0x60f)]+_0x58a17b(0x5cd)+(_0x380aaa instanceof Error?_0x380aaa['message']:JSON[_0x58a17b(0x1dc)](_0x380aaa,null,0x2)));}}async[a0_0x3eb0d8(0x619)](_0xbeb928,_0x5abd59){const _0x333ddb=a0_0x3eb0d8;this[_0x333ddb(0xfa)][_0x333ddb(0x671)](this[_0x333ddb(0x1a8)]+'\x20('+this[_0x333ddb(0x245)][_0x333ddb(0x60f)]+_0x333ddb(0x2fa));let _0x521e73=_0xbeb928[_0x333ddb(0x5b1)]['blockLogs'][_0x333ddb(0x551)](_0x29d80a=>_0x29d80a['blockId'][_0x333ddb(0x121)]()===_0x5abd59[_0x333ddb(0xc5)][_0x333ddb(0x7fb)]['toString']()),_0x3a9afe={'id':_0x521e73[_0x333ddb(0x58b)],'remoteJid':_0x521e73['remoteJid'],'fromMe':_0x521e73[_0x333ddb(0x344)]};try{let _0x31b533=await this['deleteMessage'](_0x3a9afe);if(_0x31b533){let _0x8eae0b=(0x0,w[_0x333ddb(0x604)])(_0x31b533[_0x333ddb(0x3a7)]),_0x47ca5f=(0x0,w[_0x333ddb(0x2b6)])(_0x8eae0b);_0xbeb928[_0x333ddb(0x5b1)][_0x333ddb(0x5eb)]=_0x5abd59[_0x333ddb(0x36f)][_0x333ddb(0x121)]();let {message_normalized:_0x14c6ce}=this['normalizeMessage'](_0x8eae0b,_0x47ca5f,null);_0xbeb928[_0x333ddb(0x5b1)][_0x333ddb(0x31d)]=await _0x14c6ce;let _0x54b758={};this[_0x333ddb(0x750)](_0xbeb928,_0x5abd59,_0x54b758);}else{let _0x2d2855={'error':!0x0};this['updateConversation'](_0xbeb928,_0x5abd59,_0x2d2855),this[_0x333ddb(0xfa)][_0x333ddb(0x1ca)](this[_0x333ddb(0x1a8)]+'\x20('+this['instance']['wuid']+_0x333ddb(0x655));}}catch(_0x3ba7f0){let _0x527815={'error':!0x0,'errorLog':_0x3ba7f0 instanceof Error?_0x3ba7f0['message']:JSON['stringify'](_0x3ba7f0,null,0x2)};this[_0x333ddb(0x750)](_0xbeb928,_0x5abd59,_0x527815),this[_0x333ddb(0xfa)]['error'](this['instanceName']+'\x20('+this[_0x333ddb(0x245)]['wuid']+_0x333ddb(0xdf)+(_0x3ba7f0 instanceof Error?_0x3ba7f0[_0x333ddb(0x3a7)]:JSON['stringify'](_0x3ba7f0,null,0x2)));}}async[a0_0x3eb0d8(0x74a)](_0x988918,_0x106f00){const _0x3d26fc=a0_0x3eb0d8;if(_0x988918[_0x3d26fc(0x21a)]||(_0x988918['name']=(0x0,H['v4'])()),_0x106f00!==$i&&_0x988918?.[_0x3d26fc(0x5db)])throw new m(_0x3d26fc(0x7b5));if(_0x3d26fc(0x36f)in _0x988918&&_0x3d26fc(0x4d0)in _0x988918)return this[_0x3d26fc(0x308)](_0x988918[_0x3d26fc(0x4d0)],_0x988918['_id']);this[_0x3d26fc(0xfa)][_0x3d26fc(0x671)](this[_0x3d26fc(0x1a8)]+'\x20('+this[_0x3d26fc(0x245)][_0x3d26fc(0x60f)]+'):\x20Criando\x20fluxo...');let _0x4b3c8d=this[_0x3d26fc(0x2f7)](_0x988918[_0x3d26fc(0x21a)]),_0x203e24=new he[(_0x3d26fc(0x145))][(_0x3d26fc(0x2bc))](),_0x438f13={'_id':_0x203e24,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x521c8f={'_id':new he[(_0x3d26fc(0x145))][(_0x3d26fc(0x2bc))](),'order':0x1,'groupId':_0x203e24[_0x3d26fc(0x121)](),'type':_0x3d26fc(0x7f4)},_0x56a95e=this[_0x3d26fc(0x245)]['wuid'],_0x3c6236={'_id':(0x0,H['v4'])(),'owner':_0x56a95e,'name':_0x4b3c8d,'whoCanEdit':[_0x56a95e],'whoCanUse':[_0x56a95e],'groups':[_0x438f13],'blocks':[_0x521c8f],..._0x988918};try{let _0x3aeedc=await this[_0x3d26fc(0x4f1)][_0x3d26fc(0x800)][_0x3d26fc(0x6b3)](_0x3c6236);return await this[_0x3d26fc(0x7f0)](),_0x3aeedc;}catch(_0x352c73){let _0x41d241=_0x3d26fc(0x65e),_0x3f7e2d=_0x352c73 instanceof Error?_0x352c73[_0x3d26fc(0x3a7)]:typeof _0x352c73==_0x3d26fc(0x1a5)?JSON[_0x3d26fc(0x1dc)](_0x352c73):_0x352c73,_0x4b37c5=_0x41d241+':\x20'+_0x3f7e2d;throw this[_0x3d26fc(0xfa)][_0x3d26fc(0x1ca)](this[_0x3d26fc(0x1a8)]+'\x20('+this['instance'][_0x3d26fc(0x60f)]+_0x3d26fc(0x2fb)+_0x4b37c5),new m(_0x4b37c5);}}async[a0_0x3eb0d8(0x308)](_0xedecfd,_0x581704){const _0x13bb7a=a0_0x3eb0d8;try{this['logger'][_0x13bb7a(0x671)](this['instanceName']+'\x20('+this[_0x13bb7a(0x245)][_0x13bb7a(0x60f)]+_0x13bb7a(0x505));let _0xbc56a8=await this[_0x13bb7a(0x4f1)]['flow'][_0x13bb7a(0x657)]({'where':{'_id':_0x581704,'owner':_0xedecfd}});if(!_0xbc56a8)throw new m(_0x13bb7a(0x618));if(_0xbc56a8[_0x13bb7a(0x574)]===!0x1&&!_0xbc56a8[_0x13bb7a(0x5db)])throw new m(_0x13bb7a(0x3a1));let _0x4f94bf=new Set(_0xbc56a8[_0x13bb7a(0x585)]??[]);_0x4f94bf['add'](this[_0x13bb7a(0x245)][_0x13bb7a(0x60f)]);let _0x13382f=await this[_0x13bb7a(0x4f1)]['flow'][_0x13bb7a(0x57f)](_0x581704,{..._0xbc56a8,'whoCanUse':Array['from'](_0x4f94bf)});return await this['synchronizeAndMapFlows'](),_0x13382f;}catch(_0x285469){let _0x444703=_0x13bb7a(0x5ae),_0x1b90c7=_0x285469 instanceof Error?_0x285469[_0x13bb7a(0x3a7)]:typeof _0x285469==_0x13bb7a(0x1a5)?JSON[_0x13bb7a(0x1dc)](_0x285469):_0x285469,_0x3f97ae=_0x444703+':\x20'+_0x1b90c7;throw this[_0x13bb7a(0xfa)][_0x13bb7a(0x1ca)](this['instanceName']+'\x20('+this[_0x13bb7a(0x245)]['wuid']+_0x13bb7a(0x2fb)+_0x3f97ae),new m(_0x3f97ae);}}['getUniqueFlowName'](_0x553009){const _0x126300=a0_0x3eb0d8;let _0x50b08e=_0x553009,_0x1c59f5=0x1;for(;this[_0x126300(0x521)]['flows'][_0x126300(0x18b)](_0x22e3c6=>_0x22e3c6[_0x126300(0x21a)]===_0x50b08e);)_0x1c59f5++,_0x50b08e=_0x553009+'\x20('+_0x1c59f5+')';return _0x50b08e;}async[a0_0x3eb0d8(0x81c)](_0x5ec37e){const _0x23e26a=a0_0x3eb0d8;try{if(this['logger'][_0x23e26a(0x671)](this[_0x23e26a(0x1a8)]+'\x20('+this[_0x23e26a(0x245)]['wuid']+_0x23e26a(0xd0)+_0x5ec37e['_id']+_0x23e26a(0x39e)+_0x5ec37e[_0x23e26a(0x1d4)]),!this['AutomateSystem']['flows'][_0x23e26a(0x551)](_0xe8c768=>_0xe8c768[_0x23e26a(0x36f)]===_0x5ec37e['_id']))throw this[_0x23e26a(0xfa)][_0x23e26a(0x671)](this[_0x23e26a(0x1a8)]+'\x20('+this['instance'][_0x23e26a(0x60f)]+_0x23e26a(0x4a5)+_0x5ec37e[_0x23e26a(0x36f)]+_0x23e26a(0x384)),new m(_0x23e26a(0x754));let _0x1d1bab=await this[_0x23e26a(0x4f1)]['flow'][_0x23e26a(0x657)]({'where':{'_id':_0x5ec37e['_id']}});if(!_0x1d1bab)throw new m(_0x23e26a(0x1ea));if(this[_0x23e26a(0x245)][_0x23e26a(0x60f)]===_0x1d1bab['owner']){this[_0x23e26a(0xfa)][_0x23e26a(0x671)](this[_0x23e26a(0x1a8)]+'\x20('+this['instance']['wuid']+_0x23e26a(0x2b0)+_0x5ec37e[_0x23e26a(0x36f)]+_0x23e26a(0x350));let _0x2079f4=await this[_0x23e26a(0x4f1)][_0x23e26a(0x800)][_0x23e26a(0x632)]({'where':{'_id':_0x5ec37e['_id']}});return await this['synchronizeAndMapFlows'](),_0x2079f4;}return this['logger'][_0x23e26a(0x671)](this['instanceName']+'\x20('+this[_0x23e26a(0x245)]['wuid']+_0x23e26a(0x5de)+this['instance'][_0x23e26a(0x60f)]+_0x23e26a(0x175)+_0x5ec37e['_id']+_0x23e26a(0x62e)),_0x1d1bab[_0x23e26a(0x585)]=(_0x1d1bab[_0x23e26a(0x585)]??[])[_0x23e26a(0x1d9)](_0x5c00e2=>_0x5c00e2!==this['instance'][_0x23e26a(0x60f)]),_0x1d1bab[_0x23e26a(0x767)]=(_0x1d1bab[_0x23e26a(0x767)]??[])[_0x23e26a(0x1d9)](_0x1bb3d0=>_0x1bb3d0!==this[_0x23e26a(0x245)][_0x23e26a(0x60f)]),_0x1d1bab['whoCanEdit'][_0x23e26a(0x75f)]===0x0&&_0x1d1bab[_0x23e26a(0x585)][_0x23e26a(0x75f)]>0x0&&(_0x1d1bab[_0x23e26a(0x767)][_0x23e26a(0x3c2)](_0x1d1bab[_0x23e26a(0x585)][0x0]),this[_0x23e26a(0xfa)][_0x23e26a(0x671)](this[_0x23e26a(0x1a8)]+'\x20('+this['instance'][_0x23e26a(0x60f)]+_0x23e26a(0xd2)+_0x1d1bab[_0x23e26a(0x585)][0x0]+_0x23e26a(0x2b9)+_0x5ec37e[_0x23e26a(0x36f)]+_0x23e26a(0x62e))),await this['repository']['flow']['updateOne'](_0x1d1bab[_0x23e26a(0x36f)],_0x1d1bab),await this[_0x23e26a(0x7f0)](),{'message':_0x23e26a(0x784)+_0x5ec37e[_0x23e26a(0x21a)]+_0x23e26a(0x45e)};}catch(_0x3b27da){return this[_0x23e26a(0xfa)][_0x23e26a(0x1ca)](this[_0x23e26a(0x1a8)]+'\x20('+this[_0x23e26a(0x245)][_0x23e26a(0x60f)]+_0x23e26a(0x1a9)+(_0x3b27da instanceof Error?_0x3b27da[_0x23e26a(0x3a7)]:JSON[_0x23e26a(0x1dc)](_0x3b27da,null,0x2))),{'message':_0x23e26a(0x6c9)+(_0x3b27da instanceof Error?_0x3b27da[_0x23e26a(0x3a7)]:JSON[_0x23e26a(0x1dc)](_0x3b27da,null,0x2))};}}async[a0_0x3eb0d8(0x28c)](_0x1491fc){const _0x27866e=a0_0x3eb0d8;try{if(this['logger'][_0x27866e(0xe3)](this[_0x27866e(0x1a8)]+'\x20('+this['instance'][_0x27866e(0x60f)]+_0x27866e(0x4a8)+_0x1491fc),!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x38d8f4=await this['repository']['flow']['findOne']({'where':{'_id':_0x1491fc}});if(!_0x38d8f4)throw new m('Fluxo\x20id\x20\x27'+_0x1491fc+_0x27866e(0x768));if(!(_0x38d8f4[_0x27866e(0x5db)]||_0x38d8f4[_0x27866e(0x585)]?.[_0x27866e(0x5d6)](this[_0x27866e(0x245)][_0x27866e(0x60f)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x38d8f4[_0x27866e(0x5db)]&&!_0x38d8f4['whoCanUse']?.[_0x27866e(0x5d6)](this[_0x27866e(0x245)][_0x27866e(0x60f)])&&(_0x38d8f4[_0x27866e(0x585)]=[..._0x38d8f4[_0x27866e(0x585)]??[],this[_0x27866e(0x245)][_0x27866e(0x60f)]],await this['repository']['flow'][_0x27866e(0x57f)](_0x38d8f4[_0x27866e(0x36f)],_0x38d8f4),this[_0x27866e(0x7f0)]());let _0x345d30=this[_0x27866e(0x521)]?.[_0x27866e(0x2bf)][_0x27866e(0x437)](_0x38a721=>_0x38a721[_0x27866e(0x21a)]),_0x54f4dc=[_0x27866e(0x724),_0x27866e(0x265),_0x27866e(0x47e),'cpf',_0x27866e(0x226),_0x27866e(0x62a),_0x27866e(0x64f),_0x27866e(0x51e),_0x27866e(0x60c),_0x27866e(0x635),_0x27866e(0x21e)];_0x38d8f4[_0x27866e(0x30b)]=_0x38d8f4[_0x27866e(0x30b)]['filter'](_0x42efc7=>!(_0x42efc7['folder']===_0x27866e(0x594)||_0x42efc7['leadInfo'])),_0x54f4dc['forEach'](_0x1ee4ca=>{const _0x412557=_0x27866e;_0x38d8f4[_0x412557(0x30b)][_0x412557(0x3c2)]({'folder':_0x412557(0x594),'name':_0x1ee4ca,'value':'','doc':'','leadInfo':!0x0});}),_0x345d30[_0x27866e(0x16b)](_0x475788=>{const _0x2c9499=_0x27866e;let _0x467580=_0x38d8f4[_0x2c9499(0x30b)][_0x2c9499(0x18c)](_0x2b42f0=>_0x2b42f0[_0x2c9499(0x21a)]===_0x475788);_0x467580===-0x1?_0x38d8f4[_0x2c9499(0x30b)][_0x2c9499(0x3c2)]({'folder':_0x2c9499(0x594),'name':_0x475788,'value':'','doc':'','leadInfo':!0x0}):(_0x38d8f4[_0x2c9499(0x30b)][_0x467580]['folder']=_0x2c9499(0x594),_0x38d8f4[_0x2c9499(0x30b)][_0x467580]['leadInfo']=!0x0);}),_0x38d8f4['blocks']&&_0x38d8f4[_0x27866e(0x57b)]['length']>0x0&&_0x38d8f4[_0x27866e(0x57b)][_0x27866e(0x16b)](_0x26d3c3=>{const _0x5ac020=_0x27866e;_0x26d3c3[_0x5ac020(0x25f)]&&_0x26d3c3['next_groupId']&&_0x26d3c3[_0x5ac020(0x25f)]===_0x26d3c3[_0x5ac020(0x6c8)]&&(_0x26d3c3[_0x5ac020(0x6c8)]=null);});let _0x4b90e0=await this['repository']['flow'][_0x27866e(0x57f)](_0x38d8f4[_0x27866e(0x36f)],_0x38d8f4);if(!_0x4b90e0)throw new Error(_0x27866e(0x2f9));return _0x4b90e0;}catch(_0x38f950){let _0x4cac72=_0x27866e(0x47d),_0x1144f7=_0x38f950 instanceof Error?_0x38f950['message']:typeof _0x38f950==_0x27866e(0x1a5)?JSON[_0x27866e(0x1dc)](_0x38f950):_0x38f950,_0x5c899b=_0x4cac72+':\x20'+_0x1144f7;throw this['logger'][_0x27866e(0x1ca)](this[_0x27866e(0x1a8)]+'\x20('+this[_0x27866e(0x245)]['wuid']+_0x27866e(0x2fb)+_0x5c899b),new m(_0x5c899b);}}async[a0_0x3eb0d8(0x658)](){const _0x479183=a0_0x3eb0d8;try{this[_0x479183(0xfa)]['verbose'](this[_0x479183(0x1a8)]+'\x20('+this[_0x479183(0x245)]['wuid']+_0x479183(0x77a)),await this['synchronizeAndMapFlows']();let _0xb6badf=await this[_0x479183(0x4f1)][_0x479183(0x800)][_0x479183(0x5bc)]({'where':{'globalShow':!0x0}});return[...this[_0x479183(0x521)][_0x479183(0x66d)],..._0xb6badf];}catch(_0x4a136d){return this[_0x479183(0xfa)][_0x479183(0x1ca)](this['instanceName']+'\x20('+this['instance'][_0x479183(0x60f)]+_0x479183(0x2d5)+(_0x4a136d instanceof Error?_0x4a136d['message']:JSON[_0x479183(0x1dc)](_0x4a136d,null,0x2))),{'message':_0x479183(0x2e9)+(_0x4a136d instanceof Error?_0x4a136d[_0x479183(0x3a7)]:String(_0x4a136d))};}}async[a0_0x3eb0d8(0x1f9)](_0x258dac,_0x4140cf){const _0x2398fa=a0_0x3eb0d8;try{this['logger']['verbose'](this[_0x2398fa(0x1a8)]+'\x20('+this[_0x2398fa(0x245)][_0x2398fa(0x60f)]+'):\x20Alterando\x20fluxo...');let _0x220a08=this[_0x2398fa(0x521)][_0x2398fa(0x66d)][_0x2398fa(0x551)](_0x432197=>_0x432197[_0x2398fa(0x36f)]===_0x258dac[_0x2398fa(0x36f)]);if(!_0x220a08)throw this[_0x2398fa(0xfa)][_0x2398fa(0x671)](this[_0x2398fa(0x1a8)]+'\x20('+this[_0x2398fa(0x245)]['wuid']+'):\x20Fluxo\x20\x27'+_0x258dac[_0x2398fa(0x36f)]+'\x27\x20não\x20encontrado'),new m(_0x2398fa(0x754));let _0x1e020f=await this['repository']['flow'][_0x2398fa(0x657)]({'where':{'_id':_0x258dac[_0x2398fa(0x36f)]}});if(!_0x1e020f||!_0x1e020f[_0x2398fa(0x585)]?.[_0x2398fa(0x5d6)](this[_0x2398fa(0x245)][_0x2398fa(0x60f)]))throw this[_0x2398fa(0xfa)][_0x2398fa(0x1ca)](this['instanceName']+'\x20('+this[_0x2398fa(0x245)][_0x2398fa(0x60f)]+_0x2398fa(0xce)+_0x258dac[_0x2398fa(0x36f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2398fa(0x4da)+_0x258dac['_id']+_0x2398fa(0x555));let _0x993676=this['AutomateSystem'][_0x2398fa(0x66d)][_0x2398fa(0x18c)](_0x5bebd2=>_0x5bebd2[_0x2398fa(0x36f)]===_0x220a08[_0x2398fa(0x36f)]);if(_0x993676!==-0x1){let _0x3596f9=this['AutomateSystem'][_0x2398fa(0x66d)][_0x993676];if(_0x3596f9[_0x2398fa(0x21a)]=_0x258dac[_0x2398fa(0x21a)]??_0x3596f9[_0x2398fa(0x21a)],_0x3596f9[_0x2398fa(0x487)]=_0x258dac[_0x2398fa(0x487)]??_0x3596f9[_0x2398fa(0x487)],_0x3596f9[_0x2398fa(0x3d9)]=_0x258dac[_0x2398fa(0x3d9)]??_0x3596f9[_0x2398fa(0x3d9)],_0x3596f9[_0x2398fa(0x3b1)]=_0x258dac[_0x2398fa(0x2a7)]??_0x3596f9[_0x2398fa(0x3b1)],_0x3596f9[_0x2398fa(0x286)]=_0x258dac[_0x2398fa(0x286)]??_0x3596f9[_0x2398fa(0x286)],_0x3596f9['readMessages']=_0x258dac[_0x2398fa(0x360)]??_0x3596f9['readMessages'],_0x258dac[_0x2398fa(0x487)]&&this[_0x2398fa(0x521)][_0x2398fa(0x66d)][_0x2398fa(0x16b)]((_0x4ebd98,_0x5c93b7)=>{const _0x15594a=_0x2398fa;_0x5c93b7!==_0x993676&&(_0x4ebd98[_0x15594a(0x487)]=!0x1);}),this['AutomateSystem']['flows'][_0x993676]=_0x3596f9,!await this[_0x2398fa(0x4f1)]['automateSystem'][_0x2398fa(0x670)]({'flows':this[_0x2398fa(0x521)][_0x2398fa(0x66d)]},this[_0x2398fa(0x245)][_0x2398fa(0x60f)]))throw new m(_0x2398fa(0x53a));}let _0x52b5d7=[_0x2398fa(0x1d4),_0x2398fa(0x556),_0x2398fa(0x4ae),'shareOwners'];for(let _0x29fe7a of _0x52b5d7)delete _0x258dac[_0x29fe7a];if(_0x1e020f[_0x2398fa(0x767)]?.[_0x2398fa(0x5d6)](this['instance'][_0x2398fa(0x60f)])||(_0x258dac={'_id':_0x258dac['_id']}),_0x4140cf!==$i&&_0x258dac?.[_0x2398fa(0x5db)]&&!_0x1e020f?.[_0x2398fa(0x5db)])throw new m(_0x2398fa(0x666));let _0x266933=new Set(_0x258dac[_0x2398fa(0x767)]??_0x1e020f[_0x2398fa(0x767)]);_0x266933['add'](_0x1e020f['owner']);let _0x5797b1=new Set(_0x258dac[_0x2398fa(0x585)]??_0x1e020f['whoCanUse']??[]);_0x266933['forEach'](_0xf12a6a=>_0x5797b1[_0x2398fa(0x440)](_0xf12a6a)),_0x5797b1['add'](_0x1e020f['owner']),this[_0x2398fa(0xfa)][_0x2398fa(0x671)](this[_0x2398fa(0x1a8)]+'\x20('+this[_0x2398fa(0x245)]['wuid']+_0x2398fa(0x456)+Array[_0x2398fa(0x7db)](_0x266933)),this[_0x2398fa(0xfa)][_0x2398fa(0x671)](this[_0x2398fa(0x1a8)]+'\x20('+this[_0x2398fa(0x245)][_0x2398fa(0x60f)]+_0x2398fa(0x6dd)+Array[_0x2398fa(0x7db)](_0x5797b1));let _0x5035ba=await this[_0x2398fa(0x71a)](Array['from'](_0x5797b1)),_0x2b2519=Array[_0x2398fa(0x7db)](_0x266933)['filter'](_0x5a2da1=>_0x5035ba[_0x2398fa(0x5d6)](_0x5a2da1)),_0x1a97fa=Array[_0x2398fa(0x7db)](_0x5797b1)[_0x2398fa(0x1d9)](_0x5e785a=>_0x5035ba[_0x2398fa(0x5d6)](_0x5e785a));this[_0x2398fa(0xfa)][_0x2398fa(0x671)](this['instanceName']+'\x20('+this[_0x2398fa(0x245)][_0x2398fa(0x60f)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x2b2519),this[_0x2398fa(0xfa)]['verbose'](this[_0x2398fa(0x1a8)]+'\x20('+this['instance']['wuid']+_0x2398fa(0x77d)+_0x1a97fa);let _0x3d7e71={..._0x1e020f,..._0x258dac,'whoCanEdit':_0x2b2519,'whoCanUse':_0x1a97fa},_0x47edfa=await this['repository'][_0x2398fa(0x800)][_0x2398fa(0x57f)](_0x1e020f[_0x2398fa(0x36f)],_0x3d7e71);return await this[_0x2398fa(0x7f0)](),_0x47edfa;}catch(_0x29e106){let _0x3b0500=_0x2398fa(0x63a),_0x19138f=_0x29e106 instanceof Error?_0x29e106['message']:typeof _0x29e106==_0x2398fa(0x1a5)?JSON[_0x2398fa(0x1dc)](_0x29e106):_0x29e106,_0x1f8a5c=_0x3b0500+':\x20'+_0x19138f;throw this[_0x2398fa(0xfa)][_0x2398fa(0x1ca)](this[_0x2398fa(0x1a8)]+'\x20('+this[_0x2398fa(0x245)][_0x2398fa(0x60f)]+'):\x20'+_0x1f8a5c),new m(_0x1f8a5c);}}async[a0_0x3eb0d8(0x71a)](_0x462c21){const _0x26d5cd=a0_0x3eb0d8;let _0x1c40b9={'numbers':_0x462c21};return(await this[_0x26d5cd(0x825)](_0x1c40b9))[_0x26d5cd(0x1d9)](_0x5c1c25=>_0x5c1c25['exists'])[_0x26d5cd(0x437)](_0x2e5dcc=>_0x2e5dcc[_0x26d5cd(0x417)])[_0x26d5cd(0x437)](_0x65b7f=>this[_0x26d5cd(0x56d)](_0x65b7f));}[a0_0x3eb0d8(0x56d)](_0x31e599){const _0x4bad50=a0_0x3eb0d8;let _0x35e3d2=_0x31e599[_0x4bad50(0xf6)](/\d+/);return _0x35e3d2?_0x35e3d2[0x0]:'';}async[a0_0x3eb0d8(0x70a)](_0x2a4663){const _0x435669=a0_0x3eb0d8;try{if(this[_0x435669(0xfa)][_0x435669(0x671)](this[_0x435669(0x1a8)]+'\x20('+this[_0x435669(0x245)][_0x435669(0x60f)]+_0x435669(0x160)),!this[_0x435669(0x521)]['flows'][_0x435669(0x551)](_0x29c279=>_0x29c279[_0x435669(0x36f)]===_0x2a4663[_0x435669(0x36f)]))throw this[_0x435669(0xfa)]['verbose'](this[_0x435669(0x1a8)]+'\x20('+this[_0x435669(0x245)]['wuid']+_0x435669(0x4a5)+_0x2a4663[_0x435669(0x36f)]+_0x435669(0x384)),new m(_0x435669(0x754));let _0x3c669b=await this[_0x435669(0x4f1)][_0x435669(0x800)][_0x435669(0x657)]({'where':{'_id':_0x2a4663[_0x435669(0x36f)]}});if(!_0x3c669b||!_0x3c669b[_0x435669(0x585)]?.[_0x435669(0x5d6)](this[_0x435669(0x245)][_0x435669(0x60f)]))throw this[_0x435669(0xfa)][_0x435669(0x1ca)](this[_0x435669(0x1a8)]+'\x20('+this[_0x435669(0x245)][_0x435669(0x60f)]+_0x435669(0xce)+_0x2a4663[_0x435669(0x36f)]+_0x435669(0x555)),new m(_0x435669(0x4da)+_0x2a4663[_0x435669(0x36f)]+_0x435669(0x555));if(!_0x3c669b[_0x435669(0x767)]?.[_0x435669(0x5d6)](this['instance'][_0x435669(0x60f)]))throw new m(_0x435669(0x529));let {block:_0x12d070}=_0x2a4663;_0x12d070?.[_0x435669(0x171)]?this['copyBlock'](_0x3c669b,_0x2a4663):_0x12d070?.[_0x435669(0x10d)]?this['deleteBlock'](_0x3c669b,_0x2a4663):_0x12d070['_id']?await this[_0x435669(0x154)](_0x3c669b,_0x2a4663):this[_0x435669(0x1f4)](_0x3c669b,_0x2a4663);let _0x5afc37=await this[_0x435669(0x4f1)][_0x435669(0x800)]['updateOne'](_0x3c669b[_0x435669(0x36f)],_0x3c669b);if(!_0x5afc37)throw new Error(_0x435669(0x2f9));return _0x5afc37;}catch(_0x1df7dd){this['throwAndLogError'](_0x435669(0x5fa)+_0x1df7dd[_0x435669(0x3a7)]);}}async[a0_0x3eb0d8(0x745)](_0x2aeab1,_0x5878c4){const _0x5164aa=a0_0x3eb0d8;let _0x476490=_0x5878c4[_0x5164aa(0x65b)]['_id'],_0xe3ce5a=_0x2aeab1['blocks']['find'](_0xdd948b=>_0xdd948b[_0x5164aa(0x36f)][_0x5164aa(0x121)]()===_0x476490);if(!_0xe3ce5a){this[_0x5164aa(0xfa)][_0x5164aa(0x1ca)](this[_0x5164aa(0x1a8)]+'\x20('+this['instance'][_0x5164aa(0x60f)]+'):\x20Bloco\x20com\x20ID\x20'+_0x476490+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x5164aa(0xfa)][_0x5164aa(0x671)](this[_0x5164aa(0x1a8)]+'\x20('+this[_0x5164aa(0x245)][_0x5164aa(0x60f)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0xe3ce5a));let _0x5636e2=JSON[_0x5164aa(0x814)](JSON['stringify'](_0xe3ce5a));_0x5636e2[_0x5164aa(0x36f)]=new he[(_0x5164aa(0x487))][(_0x5164aa(0x145))][(_0x5164aa(0x2bc))](),this[_0x5164aa(0xfa)][_0x5164aa(0x671)](this['instanceName']+'\x20('+this[_0x5164aa(0x245)][_0x5164aa(0x60f)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x5164aa(0x1dc)](_0x5636e2)),_0x2aeab1['blocks'][_0x5164aa(0x3c2)](_0x5636e2),this[_0x5164aa(0x81a)](_0x2aeab1[_0x5164aa(0x57b)],_0x5636e2[_0x5164aa(0x25f)]);}[a0_0x3eb0d8(0x167)](_0x583053){const _0x4145a9=a0_0x3eb0d8;throw this['logger'][_0x4145a9(0x1ca)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4145a9(0x2fb)+_0x583053),new m(_0x583053);}['deleteBlock'](_0x1865a4,_0xe0bb8c){const _0x454d94=a0_0x3eb0d8;let {block:_0x214df7}=_0xe0bb8c;if(_0x214df7['type']==='start'){this[_0x454d94(0x167)](_0x454d94(0x5a7));return;}if(!_0x214df7[_0x454d94(0x36f)]){this[_0x454d94(0x167)](_0x454d94(0x2d3));return;}let _0x261c7b=_0x1865a4[_0x454d94(0x57b)][_0x454d94(0x551)](_0x2d9c49=>_0x2d9c49['_id'][_0x454d94(0x121)]()===_0xe0bb8c[_0x454d94(0x65b)][_0x454d94(0x36f)][_0x454d94(0x121)]());if(!_0x261c7b){this[_0x454d94(0x167)]('Bloco\x20com\x20ID\x20'+_0x214df7[_0x454d94(0x36f)]+_0x454d94(0x2a8));return;}_0x1865a4[_0x454d94(0x57b)]=_0x1865a4[_0x454d94(0x57b)][_0x454d94(0x1d9)](_0x59b201=>_0x59b201[_0x454d94(0x36f)][_0x454d94(0x121)]()!==_0xe0bb8c[_0x454d94(0x65b)]['_id']['toString']()),_0x1865a4[_0x454d94(0x375)]=_0x1865a4[_0x454d94(0x375)][_0x454d94(0x1d9)](_0x4c5f8b=>_0x4c5f8b[_0x454d94(0x7fb)]!==_0x214df7[_0x454d94(0x36f)][_0x454d94(0x121)]()),_0x1865a4[_0x454d94(0x64a)]=_0x1865a4[_0x454d94(0x64a)][_0x454d94(0x1d9)](_0x47bc61=>_0x47bc61[_0x454d94(0x7fb)]!==_0x214df7[_0x454d94(0x36f)][_0x454d94(0x121)]()),_0x1865a4['replyOptions']=_0x1865a4['replyOptions'][_0x454d94(0x1d9)](_0x262ccf=>_0x262ccf[_0x454d94(0x7fb)]!==_0x214df7[_0x454d94(0x36f)][_0x454d94(0x121)]()),this[_0x454d94(0x81a)](_0x1865a4['blocks'],_0x261c7b[_0x454d94(0x25f)]);}async['updateBlock'](_0x3d0214,_0x593bc8){const _0x585986=a0_0x3eb0d8;let _0x114ece=_0x3d0214[_0x585986(0x57b)]['findIndex'](_0x1dad96=>_0x1dad96['_id']['toString']()===_0x593bc8[_0x585986(0x65b)][_0x585986(0x36f)]['toString']());if(this[_0x585986(0xfa)][_0x585986(0x671)](this[_0x585986(0x1a8)]+'\x20('+this[_0x585986(0x245)][_0x585986(0x60f)]+_0x585986(0x398)+_0x114ece),_0x114ece===-0x1){this[_0x585986(0xfa)][_0x585986(0x671)](_0x585986(0x690)+_0x593bc8[_0x585986(0x65b)]['_id']+_0x585986(0x34e));return;}if(_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x1d5)]===_0x585986(0x7f4)){let _0x4d929f=Object[_0x585986(0x130)](_0x593bc8[_0x585986(0x65b)]);if(_0x4d929f[_0x585986(0x75f)]>0x2||_0x4d929f[_0x585986(0x75f)]===0x2&&!_0x4d929f[_0x585986(0x5d6)](_0x585986(0x6c8))){this[_0x585986(0x167)](_0x585986(0x7ca));return;}}let _0x4b4c56=_0x3d0214['blocks'][_0x114ece][_0x585986(0x25f)];for(let _0x435a0a in _0x593bc8['block'])_0x593bc8[_0x585986(0x65b)][_0x585986(0x79b)](_0x435a0a)&&(_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x435a0a]=_0x593bc8[_0x585986(0x65b)][_0x435a0a]);if(this[_0x585986(0xfa)]['verbose'](this[_0x585986(0x1a8)]+'\x20('+this[_0x585986(0x245)]['wuid']+_0x585986(0x73f)+JSON[_0x585986(0x1dc)](_0x3d0214[_0x585986(0x57b)][_0x114ece])),_0x3d0214['blocks'][_0x114ece]['apirequest']&&'header'in _0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x334)]){this[_0x585986(0xfa)][_0x585986(0x671)](this[_0x585986(0x1a8)]+'\x20('+this[_0x585986(0x245)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x25dac6=JSON['stringify'](_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x334)]['header'],null,0x1);_0x25dac6['length']>0x2&&(_0x25dac6=_0x25dac6[_0x585986(0x608)](0x1,_0x25dac6['length']-0x1)[_0x585986(0x6ae)]()),_0x3d0214['blocks'][_0x114ece][_0x585986(0x334)]['headerString']=_0x25dac6;}if(_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x334)]&&_0x585986(0x1cd)in _0x3d0214[_0x585986(0x57b)][_0x114ece]['apirequest']&&!(_0x585986(0x5c2)in _0x3d0214['blocks'][_0x114ece][_0x585986(0x334)])){this[_0x585986(0xfa)][_0x585986(0x671)](this[_0x585986(0x1a8)]+'\x20('+this[_0x585986(0x245)][_0x585986(0x60f)]+_0x585986(0x6d9)),_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x334)][_0x585986(0x4b7)]=!0x1;let _0x1bbc2f=JSON[_0x585986(0x1dc)](_0x3d0214['blocks'][_0x114ece][_0x585986(0x334)][_0x585986(0x1cd)],null,0x2);_0x3d0214[_0x585986(0x57b)][_0x114ece]['apirequest'][_0x585986(0x5c2)]=_0x1bbc2f;}if(_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x334)]&&_0x585986(0x5c2)in _0x3d0214[_0x585986(0x57b)][_0x114ece]['apirequest']){_0x3d0214['blocks'][_0x114ece][_0x585986(0x334)]['bodyStringErrorParse']=!0x1;let _0x293b79=_0x3d0214[_0x585986(0x57b)][_0x114ece]['apirequest'][_0x585986(0x5c2)],_0x2da9ed=this[_0x585986(0x62f)](_0x293b79);_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x334)]['bodyString']=_0x2da9ed[_0x585986(0x3fe)],_0x3d0214[_0x585986(0x57b)][_0x114ece][_0x585986(0x334)][_0x585986(0x4b7)]=_0x2da9ed[_0x585986(0x1ca)];}let _0x3a4cf6=_0x3d0214['blocks'][_0x114ece][_0x585986(0x25f)];_0x4b4c56!==_0x3a4cf6?(this[_0x585986(0x81a)](_0x3d0214[_0x585986(0x57b)],_0x4b4c56),this[_0x585986(0x81a)](_0x3d0214[_0x585986(0x57b)],_0x3a4cf6)):this[_0x585986(0x81a)](_0x3d0214['blocks'],_0x4b4c56);}[a0_0x3eb0d8(0x62f)](_0x592c3a){const _0x1f5b9a=a0_0x3eb0d8;let _0x68d14a='\u205f',_0x3fef6e=!0x1,_0x1751e5='';for(let _0xee0e86=0x0;_0xee0e86<_0x592c3a[_0x1f5b9a(0x75f)];_0xee0e86++){let _0x2ac107=_0x592c3a[_0xee0e86];_0x2ac107==='\x22'&&(_0xee0e86===0x0||_0x592c3a[_0xee0e86-0x1]!=='\x5c')&&(_0x3fef6e=!_0x3fef6e),!(!_0x3fef6e&&(_0x2ac107==='\x0a'||_0x2ac107==='\x20'||_0x2ac107===_0x68d14a))&&(_0x1751e5+=_0x2ac107);}let _0x330b6a={},_0x5089c5=9876543210.1234,_0x4c63f4=_0x1751e5[_0x1f5b9a(0x67e)](/\{\{([^}]+)\}\}/g,_0x4fb5f1=>{let _0x5ed220=_0x4fb5f1,_0x3cbb05=''+_0x5089c5;return _0x330b6a[_0x3cbb05]=_0x5ed220,_0x5089c5+=0.0001,_0x3cbb05;}),_0x39cbb7='',_0x57d41a=!0x1;try{let _0x43bd0a=JSON['parse'](_0x4c63f4);_0x39cbb7=JSON['stringify'](_0x43bd0a,null,0x2),_0x39cbb7=_0x39cbb7['replace'](/\n( +)/g,(_0x2c47a7,_0x5304bb)=>{const _0x57411c=_0x1f5b9a;let _0x347b3c=_0x5304bb[_0x57411c(0x75f)];return'\x0a'+_0x68d14a['repeat'](_0x347b3c*0x2);}),_0x39cbb7=_0x39cbb7[_0x1f5b9a(0x67e)](/(\d{10,}\.\d+)/g,_0x57659e=>_0x330b6a[_0x57659e]||_0x57659e);}catch(_0x3fd817){this['logger'][_0x1f5b9a(0x1ca)]('Error\x20parsing\x20JSON:'+_0x3fd817),_0x39cbb7=_0x592c3a,_0x57d41a=!0x0;}return{'result':_0x39cbb7,'error':_0x57d41a};}[a0_0x3eb0d8(0x1f4)](_0x131a5f,_0x3b936d){const _0x2701e9=a0_0x3eb0d8;if(_0x3b936d[_0x2701e9(0x65b)][_0x2701e9(0x1d5)]===_0x2701e9(0x7f4)){this[_0x2701e9(0x167)](_0x2701e9(0x1c1));return;}if(_0x3b936d[_0x2701e9(0x65b)][_0x2701e9(0x334)]&&_0x2701e9(0x45b)in _0x3b936d[_0x2701e9(0x65b)][_0x2701e9(0x334)]){this[_0x2701e9(0xfa)]['verbose'](this[_0x2701e9(0x1a8)]+'\x20('+this['instance'][_0x2701e9(0x60f)]+_0x2701e9(0x461));let _0x1f8059=JSON[_0x2701e9(0x1dc)](_0x3b936d['block'][_0x2701e9(0x334)][_0x2701e9(0x45b)],null,0x1);_0x1f8059['length']>0x2&&(_0x1f8059=_0x1f8059[_0x2701e9(0x608)](0x1,_0x1f8059[_0x2701e9(0x75f)]-0x1)[_0x2701e9(0x6ae)]()),_0x3b936d[_0x2701e9(0x65b)][_0x2701e9(0x334)][_0x2701e9(0x5fe)]=_0x1f8059;}_0x3b936d['block'][_0x2701e9(0x334)]&&'body'in _0x3b936d[_0x2701e9(0x65b)]['apirequest']&&(this[_0x2701e9(0xfa)][_0x2701e9(0x671)](this[_0x2701e9(0x1a8)]+'\x20('+this['instance'][_0x2701e9(0x60f)]+_0x2701e9(0x6d9)),_0x3b936d[_0x2701e9(0x65b)][_0x2701e9(0x334)][_0x2701e9(0x5c2)]=JSON[_0x2701e9(0x1dc)](_0x3b936d[_0x2701e9(0x65b)][_0x2701e9(0x334)][_0x2701e9(0x1cd)],null,0x1)[_0x2701e9(0x6ae)]()),_0x131a5f[_0x2701e9(0x57b)][_0x2701e9(0x3c2)](_0x3b936d[_0x2701e9(0x65b)]),this[_0x2701e9(0x81a)](_0x131a5f[_0x2701e9(0x57b)],_0x3b936d['block'][_0x2701e9(0x25f)]);}[a0_0x3eb0d8(0x81a)](_0x449215,_0x1f8281){const _0x46745e=a0_0x3eb0d8;let _0x523abf=_0x449215['filter'](_0x12811d=>_0x12811d['groupId']===_0x1f8281);_0x523abf[_0x46745e(0x50e)]((_0x1c1e75,_0x5c53f8)=>_0x1c1e75[_0x46745e(0x52e)]-_0x5c53f8[_0x46745e(0x52e)]),_0x523abf[_0x46745e(0x16b)]((_0x160990,_0x234064)=>_0x160990[_0x46745e(0x52e)]=_0x234064+0x1);}async['editFlowReply'](_0x5f10ba){const _0x4e86bf=a0_0x3eb0d8;try{if(this[_0x4e86bf(0xfa)]['verbose'](this[_0x4e86bf(0x1a8)]+'\x20('+this[_0x4e86bf(0x245)][_0x4e86bf(0x60f)]+_0x4e86bf(0x66c)),!_0x5f10ba||!_0x5f10ba[_0x4e86bf(0x40c)]){this['throwAndLogError'](_0x4e86bf(0x738));return;}if(!this[_0x4e86bf(0x521)]['flows'][_0x4e86bf(0x551)](_0xc9b134=>_0xc9b134['_id']===_0x5f10ba['_id']))throw this[_0x4e86bf(0xfa)]['verbose'](this[_0x4e86bf(0x1a8)]+'\x20('+this[_0x4e86bf(0x245)][_0x4e86bf(0x60f)]+'):\x20Fluxo\x20\x27'+_0x5f10ba[_0x4e86bf(0x36f)]+_0x4e86bf(0x384)),new m(_0x4e86bf(0x754));let _0x3d0aaa=await this[_0x4e86bf(0x4f1)]['flow'][_0x4e86bf(0x657)]({'where':{'_id':_0x5f10ba[_0x4e86bf(0x36f)]}});if(!_0x3d0aaa||!_0x3d0aaa[_0x4e86bf(0x585)]?.[_0x4e86bf(0x5d6)](this['instance']['wuid']))throw this[_0x4e86bf(0xfa)][_0x4e86bf(0x1ca)](this[_0x4e86bf(0x1a8)]+'\x20('+this[_0x4e86bf(0x245)][_0x4e86bf(0x60f)]+_0x4e86bf(0xce)+_0x5f10ba[_0x4e86bf(0x36f)]+_0x4e86bf(0x555)),new m(_0x4e86bf(0x4da)+_0x5f10ba[_0x4e86bf(0x36f)]+_0x4e86bf(0x555));if(!_0x3d0aaa[_0x4e86bf(0x767)]?.[_0x4e86bf(0x5d6)](this[_0x4e86bf(0x245)]['wuid']))throw new m(_0x4e86bf(0x529));let {replyOption:_0x5a6fd8}=_0x5f10ba;_0x5a6fd8?.['delete']?(this[_0x4e86bf(0x7ce)](_0x3d0aaa,_0x5f10ba),this[_0x4e86bf(0x39a)](_0x3d0aaa[_0x4e86bf(0x6e1)],_0x5f10ba['replyOption'][_0x4e86bf(0x7fb)])):_0x5a6fd8[_0x4e86bf(0x36f)]?(await this['updateReplyOption'](_0x3d0aaa,_0x5f10ba),this[_0x4e86bf(0x39a)](_0x3d0aaa[_0x4e86bf(0x6e1)],_0x5f10ba[_0x4e86bf(0x40c)][_0x4e86bf(0x7fb)])):(this[_0x4e86bf(0x64d)](_0x3d0aaa,_0x5f10ba),this[_0x4e86bf(0x39a)](_0x3d0aaa[_0x4e86bf(0x6e1)],_0x5f10ba[_0x4e86bf(0x40c)][_0x4e86bf(0x7fb)]));let _0x16c408=await this[_0x4e86bf(0x4f1)][_0x4e86bf(0x800)][_0x4e86bf(0x57f)](_0x3d0aaa[_0x4e86bf(0x36f)],_0x3d0aaa);if(!_0x16c408)throw new Error(_0x4e86bf(0x2f9));return _0x16c408;}catch(_0x35227f){this[_0x4e86bf(0x167)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x35227f);}}[a0_0x3eb0d8(0x39a)](_0x3d9ae3,_0x324567){const _0x1f4730=a0_0x3eb0d8;_0x3d9ae3[_0x1f4730(0x16b)](_0x51832f=>{const _0x449066=_0x1f4730;_0x51832f[_0x449066(0x7fb)]===_0x324567&&_0x51832f[_0x449066(0x52e)]===void 0x0&&(_0x51832f[_0x449066(0x52e)]=0x270f);});let _0x9d9b5d=_0x3d9ae3['filter'](_0x329363=>_0x329363[_0x1f4730(0x7fb)]===_0x324567);_0x9d9b5d[_0x1f4730(0x50e)]((_0x3040f4,_0x23aa86)=>_0x3040f4[_0x1f4730(0x52e)]-_0x23aa86[_0x1f4730(0x52e)]),_0x9d9b5d[_0x1f4730(0x16b)]((_0x43347d,_0x51fa98)=>{const _0x1856de=_0x1f4730;_0x43347d[_0x1856de(0x52e)]=_0x51fa98+0x1;}),_0x3d9ae3[_0x1f4730(0x16b)](_0x338b39=>{const _0x4c59f3=_0x1f4730;if(_0x338b39[_0x4c59f3(0x7fb)]===_0x324567){let _0x57dbd9=_0x9d9b5d['find'](_0x359132=>_0x359132[_0x4c59f3(0x36f)]&&_0x338b39['_id']&&_0x359132['_id'][_0x4c59f3(0x121)]()===_0x338b39[_0x4c59f3(0x36f)]['toString']());_0x57dbd9&&(_0x338b39[_0x4c59f3(0x52e)]=_0x57dbd9[_0x4c59f3(0x52e)]);}});}[a0_0x3eb0d8(0x7ce)](_0x11e748,_0x3cfa99){const _0x5c4391=a0_0x3eb0d8;let {replyOption:_0x5a5ec6}=_0x3cfa99;if(!_0x5a5ec6[_0x5c4391(0x36f)]){this[_0x5c4391(0x167)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x11e748[_0x5c4391(0x6e1)][_0x5c4391(0x551)](_0x58ddc9=>_0x58ddc9[_0x5c4391(0x36f)][_0x5c4391(0x121)]()===_0x3cfa99[_0x5c4391(0x40c)][_0x5c4391(0x36f)][_0x5c4391(0x121)]())){this[_0x5c4391(0x167)](_0x5c4391(0x56c)+_0x5a5ec6[_0x5c4391(0x36f)]+_0x5c4391(0x2a8));return;}_0x11e748['replyOptions']=_0x11e748[_0x5c4391(0x6e1)]['filter'](_0x417d96=>_0x417d96[_0x5c4391(0x36f)][_0x5c4391(0x121)]()!==_0x3cfa99[_0x5c4391(0x40c)][_0x5c4391(0x36f)][_0x5c4391(0x121)]());}async[a0_0x3eb0d8(0x765)](_0x34d0ed,_0x55f498){const _0x2da328=a0_0x3eb0d8;let _0x41c241=_0x34d0ed[_0x2da328(0x6e1)][_0x2da328(0x18c)](_0x4dc88b=>_0x4dc88b[_0x2da328(0x36f)][_0x2da328(0x121)]()===_0x55f498[_0x2da328(0x40c)][_0x2da328(0x36f)]['toString']());if(_0x41c241===-0x1){this[_0x2da328(0x167)](_0x2da328(0x56c)+_0x55f498['replyOption'][_0x2da328(0x36f)]+_0x2da328(0x34e));return;}for(let _0x39a3b7 in _0x55f498['replyOption'])_0x55f498[_0x2da328(0x40c)]['hasOwnProperty'](_0x39a3b7)&&(_0x34d0ed['replyOptions'][_0x41c241][_0x39a3b7]=_0x55f498[_0x2da328(0x40c)][_0x39a3b7]);}[a0_0x3eb0d8(0x64d)](_0x6e4f5c,_0x5e342d){const _0x99ef03=a0_0x3eb0d8;_0x6e4f5c[_0x99ef03(0x6e1)][_0x99ef03(0x3c2)](_0x5e342d['replyOption']);}async[a0_0x3eb0d8(0x783)](_0xcf26d5){const _0xca9741=a0_0x3eb0d8;this[_0xca9741(0xfa)]['verbose'](this[_0xca9741(0x1a8)]+'\x20('+this[_0xca9741(0x245)]['wuid']+_0xca9741(0x264)+JSON[_0xca9741(0x1dc)](_0xcf26d5,null,0x2));try{if(this['logger'][_0xca9741(0x671)](this[_0xca9741(0x1a8)]+'\x20('+this[_0xca9741(0x245)][_0xca9741(0x60f)]+_0xca9741(0x17e)),!this[_0xca9741(0x521)][_0xca9741(0x66d)][_0xca9741(0x551)](_0x539acc=>_0x539acc[_0xca9741(0x36f)]===_0xcf26d5[_0xca9741(0x36f)]))throw this[_0xca9741(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0xca9741(0x245)][_0xca9741(0x60f)]+_0xca9741(0x4a5)+_0xcf26d5['_id']+_0xca9741(0x384)),new m(_0xca9741(0x754));let _0xace63a=await this[_0xca9741(0x4f1)][_0xca9741(0x800)][_0xca9741(0x657)]({'where':{'_id':_0xcf26d5[_0xca9741(0x36f)]}});if(!_0xace63a||!_0xace63a[_0xca9741(0x585)]?.[_0xca9741(0x5d6)](this[_0xca9741(0x245)]['wuid']))throw this[_0xca9741(0xfa)]['error'](this[_0xca9741(0x1a8)]+'\x20('+this['instance'][_0xca9741(0x60f)]+_0xca9741(0xce)+_0xcf26d5[_0xca9741(0x36f)]+_0xca9741(0x555)),new m('Flow\x20\x27'+_0xcf26d5[_0xca9741(0x36f)]+_0xca9741(0x555));if(!_0xace63a[_0xca9741(0x767)]?.[_0xca9741(0x5d6)](this[_0xca9741(0x245)][_0xca9741(0x60f)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0xcf26d5[_0xca9741(0x772)]&&_0xcf26d5[_0xca9741(0x772)]?.[_0xca9741(0x10d)]===!0x0){if(this[_0xca9741(0xfa)][_0xca9741(0x671)](this[_0xca9741(0x1a8)]+'\x20('+this[_0xca9741(0x245)][_0xca9741(0x60f)]+_0xca9741(0x61f)),_0xcf26d5[_0xca9741(0x772)]['default']===!0x0)return{'message':_0xca9741(0x432)};if(_0xace63a['blocks'][_0xca9741(0x18b)](_0x17e888=>_0x17e888[_0xca9741(0x25f)][_0xca9741(0x121)]()===_0xcf26d5['group']['_id']))return this[_0xca9741(0xfa)][_0xca9741(0x671)](this[_0xca9741(0x1a8)]+'\x20('+this[_0xca9741(0x245)][_0xca9741(0x60f)]+_0xca9741(0x571)),{'message':_0xca9741(0x232)};_0xace63a[_0xca9741(0x74d)]=_0xace63a[_0xca9741(0x74d)][_0xca9741(0x1d9)](_0x1defd3=>_0x1defd3[_0xca9741(0x36f)][_0xca9741(0x121)]()!==_0xcf26d5[_0xca9741(0x772)][_0xca9741(0x36f)]);}else{if(_0xcf26d5[_0xca9741(0x772)]){if(_0xcf26d5[_0xca9741(0x772)][_0xca9741(0x487)]===!0x0)return{'message':_0xca9741(0x592)};if(_0xcf26d5['group'][_0xca9741(0x36f)]){let _0xb6a257=_0xace63a[_0xca9741(0x74d)][_0xca9741(0x551)](_0x5be530=>_0x5be530[_0xca9741(0x36f)][_0xca9741(0x121)]()===_0xcf26d5[_0xca9741(0x772)][_0xca9741(0x36f)]);_0xb6a257&&(_0xcf26d5[_0xca9741(0x772)]['x']<0x0&&(_0xcf26d5[_0xca9741(0x772)]['x']=0x0),_0xcf26d5['group']['y']<0x0&&(_0xcf26d5['group']['y']=0x0),Object[_0xca9741(0x18a)](_0xb6a257,_0xcf26d5[_0xca9741(0x772)]));}else _0xace63a[_0xca9741(0x74d)][_0xca9741(0x3c2)](_0xcf26d5['group']);}}let _0x56151f=await this[_0xca9741(0x4f1)][_0xca9741(0x800)][_0xca9741(0x57f)](_0xace63a[_0xca9741(0x36f)],_0xace63a);if(!_0x56151f)throw new Error(_0xca9741(0x2f9));return _0x56151f;}catch(_0x444448){let _0x975179=_0xca9741(0x7fa),_0x331703=_0x444448 instanceof Error?_0x444448[_0xca9741(0x3a7)]:typeof _0x444448==_0xca9741(0x1a5)?JSON[_0xca9741(0x1dc)](_0x444448):_0x444448,_0x371cd9=_0x975179+':\x20'+_0x331703;throw this[_0xca9741(0xfa)][_0xca9741(0x1ca)](this[_0xca9741(0x1a8)]+'\x20('+this[_0xca9741(0x245)][_0xca9741(0x60f)]+_0xca9741(0x2fb)+_0x371cd9),new m(_0x371cd9);}}async[a0_0x3eb0d8(0x116)](_0x5d6da4){const _0x3f0233=a0_0x3eb0d8;try{if(this[_0x3f0233(0xfa)][_0x3f0233(0x671)](this[_0x3f0233(0x1a8)]+'\x20('+this[_0x3f0233(0x245)]['wuid']+_0x3f0233(0x123)),!this['AutomateSystem']['flows'][_0x3f0233(0x551)](_0x28d3b5=>_0x28d3b5[_0x3f0233(0x36f)]===_0x5d6da4[_0x3f0233(0x36f)]))throw this['logger'][_0x3f0233(0x671)](this[_0x3f0233(0x1a8)]+'\x20('+this[_0x3f0233(0x245)][_0x3f0233(0x60f)]+'):\x20Fluxo\x20\x27'+_0x5d6da4['_id']+_0x3f0233(0x384)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4399c3=await this[_0x3f0233(0x4f1)]['flow'][_0x3f0233(0x657)]({'where':{'_id':_0x5d6da4['_id']}});if(!_0x4399c3||!_0x4399c3[_0x3f0233(0x585)]?.['includes'](this[_0x3f0233(0x245)]['wuid']))throw this['logger'][_0x3f0233(0x1ca)](this[_0x3f0233(0x1a8)]+'\x20('+this[_0x3f0233(0x245)][_0x3f0233(0x60f)]+_0x3f0233(0xce)+_0x5d6da4[_0x3f0233(0x36f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x5d6da4[_0x3f0233(0x36f)]+_0x3f0233(0x555));if(!_0x4399c3[_0x3f0233(0x767)]?.['includes'](this[_0x3f0233(0x245)]['wuid']))throw new m(_0x3f0233(0x529));let _0x16e2a0=!0x1;if(_0x5d6da4['condition']?.[_0x3f0233(0x10d)]===!0x0)_0x4399c3[_0x3f0233(0x375)]=_0x4399c3['conditions'][_0x3f0233(0x1d9)](_0x17f2d9=>_0x17f2d9&&_0x5d6da4[_0x3f0233(0x6f2)]&&_0x17f2d9[_0x3f0233(0x36f)]&&_0x5d6da4[_0x3f0233(0x6f2)][_0x3f0233(0x36f)]&&_0x17f2d9[_0x3f0233(0x36f)][_0x3f0233(0x121)]()!==_0x5d6da4['condition'][_0x3f0233(0x36f)][_0x3f0233(0x121)]()),_0x16e2a0=!0x0;else{let _0x20ec6a=_0x4399c3['conditions'][_0x3f0233(0x551)](_0x3d0be3=>_0x3d0be3&&_0x5d6da4[_0x3f0233(0x6f2)]&&_0x3d0be3[_0x3f0233(0x36f)]&&_0x5d6da4[_0x3f0233(0x6f2)][_0x3f0233(0x36f)]&&_0x3d0be3[_0x3f0233(0x36f)][_0x3f0233(0x121)]()===_0x5d6da4['condition']['_id'][_0x3f0233(0x121)]());_0x20ec6a?(_0x16e2a0=_0x20ec6a[_0x3f0233(0x52e)]!==_0x5d6da4[_0x3f0233(0x6f2)][_0x3f0233(0x52e)],Object['assign'](_0x20ec6a,_0x5d6da4[_0x3f0233(0x6f2)])):(_0x4399c3[_0x3f0233(0x375)][_0x3f0233(0x3c2)](_0x5d6da4[_0x3f0233(0x6f2)]),_0x16e2a0=!0x0);}if(_0x16e2a0){_0x4399c3['conditions'][_0x3f0233(0x50e)]((_0x1f919d,_0x129dff)=>_0x1f919d[_0x3f0233(0x52e)]>_0x129dff[_0x3f0233(0x52e)]?0x1:_0x129dff[_0x3f0233(0x52e)]>_0x1f919d[_0x3f0233(0x52e)]?-0x1:0x0);for(let _0x46f183=0x0;_0x46f183<_0x4399c3[_0x3f0233(0x375)][_0x3f0233(0x75f)];_0x46f183++)_0x4399c3[_0x3f0233(0x375)][_0x46f183][_0x3f0233(0x52e)]=_0x46f183+0x1;_0x4399c3[_0x3f0233(0x375)]['length']>0x0&&(_0x4399c3[_0x3f0233(0x375)][0x0][_0x3f0233(0x2ab)]=_0x3f0233(0x183));}let _0x5a8de8=await this[_0x3f0233(0x4f1)][_0x3f0233(0x800)][_0x3f0233(0x57f)](_0x4399c3[_0x3f0233(0x36f)],_0x4399c3);if(!_0x5a8de8)throw new Error(_0x3f0233(0x2f9));return _0x5a8de8;}catch(_0x4c8812){let _0x99f64d='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x4ae501=_0x4c8812 instanceof Error?_0x4c8812[_0x3f0233(0x3a7)]:typeof _0x4c8812=='object'?JSON[_0x3f0233(0x1dc)](_0x4c8812):_0x4c8812,_0x1a061e=_0x99f64d+':\x20'+_0x4ae501;throw this['logger'][_0x3f0233(0x1ca)](this[_0x3f0233(0x1a8)]+'\x20('+this['instance'][_0x3f0233(0x60f)]+_0x3f0233(0x2fb)+_0x1a061e),new m(_0x1a061e);}}async[a0_0x3eb0d8(0x1cb)](_0x40b4ab){const _0x520706=a0_0x3eb0d8;try{if(this['logger']['verbose'](this[_0x520706(0x1a8)]+'\x20('+this[_0x520706(0x245)]['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x520706(0x521)][_0x520706(0x66d)]['find'](_0x364c3c=>_0x364c3c['_id']===_0x40b4ab[_0x520706(0x36f)]))throw this['logger'][_0x520706(0x671)](this[_0x520706(0x1a8)]+'\x20('+this[_0x520706(0x245)][_0x520706(0x60f)]+_0x520706(0x4a5)+_0x40b4ab[_0x520706(0x36f)]+'\x27\x20não\x20encontrado'),new m(_0x520706(0x754));let _0x54bced=await this[_0x520706(0x4f1)][_0x520706(0x800)][_0x520706(0x657)]({'where':{'_id':_0x40b4ab['_id']}});if(!_0x54bced||!_0x54bced[_0x520706(0x585)]?.[_0x520706(0x5d6)](this[_0x520706(0x245)][_0x520706(0x60f)]))throw this[_0x520706(0xfa)][_0x520706(0x1ca)](this['instanceName']+'\x20('+this[_0x520706(0x245)]['wuid']+'):\x20Flow\x20\x27'+_0x40b4ab[_0x520706(0x36f)]+_0x520706(0x555)),new m(_0x520706(0x4da)+_0x40b4ab['_id']+_0x520706(0x555));if(!_0x54bced[_0x520706(0x767)]?.[_0x520706(0x5d6)](this['instance'][_0x520706(0x60f)]))throw new m(_0x520706(0x529));let _0x3ed2d8=!0x1;if(_0x40b4ab['varedit']?.['delete']===!0x0)_0x54bced[_0x520706(0x64a)]=_0x54bced[_0x520706(0x64a)][_0x520706(0x1d9)](_0x59f5f9=>_0x59f5f9&&_0x40b4ab[_0x520706(0x662)]&&_0x59f5f9[_0x520706(0x36f)]&&_0x40b4ab[_0x520706(0x662)][_0x520706(0x36f)]&&_0x59f5f9[_0x520706(0x36f)][_0x520706(0x121)]()!==_0x40b4ab['varedit'][_0x520706(0x36f)][_0x520706(0x121)]()),_0x3ed2d8=!0x0;else{let _0x3b2fe1=_0x54bced[_0x520706(0x64a)]['find'](_0x479471=>_0x479471&&_0x40b4ab[_0x520706(0x662)]&&_0x479471[_0x520706(0x36f)]&&_0x40b4ab[_0x520706(0x662)][_0x520706(0x36f)]&&_0x479471[_0x520706(0x36f)][_0x520706(0x121)]()===_0x40b4ab['varedit']['_id'][_0x520706(0x121)]());_0x3b2fe1?(_0x3ed2d8=_0x3b2fe1[_0x520706(0x52e)]!==_0x40b4ab[_0x520706(0x662)][_0x520706(0x52e)],Object['assign'](_0x3b2fe1,_0x40b4ab[_0x520706(0x662)])):(_0x54bced['varedits'][_0x520706(0x3c2)](_0x40b4ab[_0x520706(0x662)]),_0x3ed2d8=!0x0);}if(_0x3ed2d8){_0x54bced[_0x520706(0x64a)][_0x520706(0x50e)]((_0x2065d9,_0x5295bd)=>_0x2065d9[_0x520706(0x52e)]>_0x5295bd[_0x520706(0x52e)]?0x1:_0x5295bd[_0x520706(0x52e)]>_0x2065d9['order']?-0x1:0x0);for(let _0x559194=0x0;_0x559194<_0x54bced[_0x520706(0x64a)][_0x520706(0x75f)];_0x559194++)_0x54bced[_0x520706(0x64a)][_0x559194][_0x520706(0x52e)]=_0x559194+0x1;}let _0x50917b=await this[_0x520706(0x4f1)][_0x520706(0x800)][_0x520706(0x57f)](_0x54bced[_0x520706(0x36f)],_0x54bced);if(!_0x50917b)throw new Error(_0x520706(0x2f9));return _0x50917b;}catch(_0x3483ae){let _0x117d0e=_0x520706(0xc3),_0x2cb266=_0x3483ae instanceof Error?_0x3483ae[_0x520706(0x3a7)]:typeof _0x3483ae==_0x520706(0x1a5)?JSON[_0x520706(0x1dc)](_0x3483ae):_0x3483ae,_0xdb3b5a=_0x117d0e+':\x20'+_0x2cb266;throw this['logger'][_0x520706(0x1ca)](this[_0x520706(0x1a8)]+'\x20('+this[_0x520706(0x245)]['wuid']+'):\x20'+_0xdb3b5a),new m(_0xdb3b5a);}}async[a0_0x3eb0d8(0x663)](_0x56777e){const _0x35033a=a0_0x3eb0d8;try{if(this['logger']['verbose'](this[_0x35033a(0x1a8)]+'\x20('+this[_0x35033a(0x245)][_0x35033a(0x60f)]+_0x35033a(0x1da)),!this[_0x35033a(0x521)][_0x35033a(0x66d)][_0x35033a(0x551)](_0x5519d8=>_0x5519d8[_0x35033a(0x36f)]===_0x56777e[_0x35033a(0x36f)]))throw this[_0x35033a(0xfa)]['verbose'](this[_0x35033a(0x1a8)]+'\x20('+this[_0x35033a(0x245)][_0x35033a(0x60f)]+'):\x20Fluxo\x20\x27'+_0x56777e[_0x35033a(0x36f)]+_0x35033a(0x384)),new m(_0x35033a(0x754));let _0x14ccf3=await this[_0x35033a(0x4f1)][_0x35033a(0x800)][_0x35033a(0x657)]({'where':{'_id':_0x56777e[_0x35033a(0x36f)]}});if(!_0x14ccf3||!_0x14ccf3[_0x35033a(0x585)]?.[_0x35033a(0x5d6)](this['instance']['wuid']))throw this['logger'][_0x35033a(0x1ca)](this['instanceName']+'\x20('+this[_0x35033a(0x245)][_0x35033a(0x60f)]+_0x35033a(0xce)+_0x56777e['_id']+_0x35033a(0x555)),new m(_0x35033a(0x4da)+_0x56777e[_0x35033a(0x36f)]+_0x35033a(0x555));if(!_0x14ccf3['whoCanEdit']?.[_0x35033a(0x5d6)](this[_0x35033a(0x245)][_0x35033a(0x60f)]))throw new m(_0x35033a(0x529));_0x56777e['variable']['name']=_0x56777e['variable'][_0x35033a(0x21a)][_0x35033a(0x6ae)](),_0x56777e[_0x35033a(0x3ac)][_0x35033a(0x21a)][_0x35033a(0x631)]('_')&&(_0x56777e[_0x35033a(0x3ac)][_0x35033a(0x21a)]=_0x56777e[_0x35033a(0x3ac)][_0x35033a(0x21a)][_0x35033a(0x608)](0x1)),_0x56777e[_0x35033a(0x3ac)][_0x35033a(0x21a)]=_0x56777e[_0x35033a(0x3ac)][_0x35033a(0x21a)][_0x35033a(0x6ae)]();let _0x2603b3=_0x14ccf3[_0x35033a(0x30b)][_0x35033a(0x551)](_0x202ce1=>_0x202ce1[_0x35033a(0x21a)]===_0x56777e[_0x35033a(0x3ac)][_0x35033a(0x21a)]);if(_0x2603b3?.[_0x35033a(0x594)]===!0x0)throw new Error(_0x35033a(0x586));if(_0x56777e[_0x35033a(0x3ac)]?.[_0x35033a(0x10d)]===!0x0){if(!_0x2603b3)return{'message':_0x35033a(0x2f4)};_0x14ccf3['variables']=_0x14ccf3[_0x35033a(0x30b)][_0x35033a(0x1d9)](_0x416364=>_0x416364[_0x35033a(0x21a)]!==_0x56777e[_0x35033a(0x3ac)]['name']);}else _0x2603b3?Object[_0x35033a(0x18a)](_0x2603b3,_0x56777e[_0x35033a(0x3ac)]):_0x14ccf3[_0x35033a(0x30b)][_0x35033a(0x3c2)](_0x56777e[_0x35033a(0x3ac)]);let _0x2f7364=await this[_0x35033a(0x4f1)][_0x35033a(0x800)][_0x35033a(0x57f)](_0x14ccf3[_0x35033a(0x36f)],_0x14ccf3);if(!_0x2f7364)throw new Error(_0x35033a(0x2f9));return _0x2f7364;}catch(_0x2e6b7c){let _0x59e48e='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x151edf=_0x2e6b7c instanceof Error?_0x2e6b7c[_0x35033a(0x3a7)]:typeof _0x2e6b7c==_0x35033a(0x1a5)?JSON[_0x35033a(0x1dc)](_0x2e6b7c):_0x2e6b7c,_0x3aa8f5=_0x59e48e+':\x20'+_0x151edf;throw this['logger']['error'](this[_0x35033a(0x1a8)]+'\x20('+this[_0x35033a(0x245)][_0x35033a(0x60f)]+'):\x20'+_0x3aa8f5),new m(_0x3aa8f5);}}async['startFlow'](_0x49c549){const _0x300246=a0_0x3eb0d8;let _0x3908be=null;try{if(!this[_0x300246(0x521)]?.[_0x300246(0x137)][_0x300246(0x676)])throw new m(_0x300246(0x13e));this[_0x300246(0xfa)]['verbose'](this[_0x300246(0x1a8)]+'\x20('+this[_0x300246(0x245)][_0x300246(0x60f)]+_0x300246(0x320));let _0x4195ef=(await this[_0x300246(0x825)]({'numbers':[_0x49c549['remoteJid']]}))[0x0];if(!_0x4195ef['exists']&&!(0x0,w['isJidGroup'])(_0x4195ef[_0x300246(0x417)])&&!_0x4195ef['jid'][_0x300246(0x5d6)](_0x300246(0x5a1)))throw _0x3908be=JSON[_0x300246(0x1dc)](_0x4195ef,null,0x2),new m(_0x4195ef);let _0x5aff54;if(_0x49c549[_0x300246(0x21a)][_0x300246(0x75f)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x300246(0x734)](_0x49c549['name'])?_0x5aff54=this[_0x300246(0x521)][_0x300246(0x66d)][_0x300246(0x551)](_0x2aeb02=>_0x2aeb02[_0x300246(0x36f)]===_0x49c549[_0x300246(0x21a)]):_0x5aff54=this[_0x300246(0x521)][_0x300246(0x66d)][_0x300246(0x551)](_0x1c9d61=>_0x1c9d61['name']===_0x49c549[_0x300246(0x21a)]),!_0x5aff54)throw this['logger'][_0x300246(0x671)](this[_0x300246(0x1a8)]+'\x20('+this[_0x300246(0x245)][_0x300246(0x60f)]+'):\x20Fluxo\x20\x27'+_0x49c549[_0x300246(0x21a)]+_0x300246(0x384)),new m(_0x300246(0x754));let _0x4ce4fb=await this[_0x300246(0x4f1)][_0x300246(0x800)][_0x300246(0x657)]({'where':{'_id':_0x5aff54['_id']}});if(!_0x4ce4fb||!_0x4ce4fb['whoCanUse']?.[_0x300246(0x5d6)](this['instance'][_0x300246(0x60f)]))throw this['logger'][_0x300246(0x1ca)](this['instanceName']+'\x20('+this[_0x300246(0x245)][_0x300246(0x60f)]+_0x300246(0xce)+_0x5aff54[_0x300246(0x36f)]+_0x300246(0x555)),_0x3908be=_0x300246(0x4da)+_0x5aff54[_0x300246(0x36f)]+_0x300246(0x555),new m(_0x3908be);let _0x33d640=await this[_0x300246(0x6c3)](_0x4ce4fb,_0x4195ef[_0x300246(0x417)],_0x49c549[_0x300246(0x7ff)]);if(_0x33d640){this['logger'][_0x300246(0x671)](this['instanceName']+'\x20('+this['instance'][_0x300246(0x60f)]+_0x300246(0x43f));let _0x1cb00a=await this[_0x300246(0x7b1)](_0x33d640);return _0x1cb00a&&await this[_0x300246(0xfd)](_0x33d640,_0x1cb00a),{'message':_0x300246(0x2a9)+_0x49c549[_0x300246(0x3f6)]};}}catch(_0x3d66a7){if(this[_0x300246(0xfa)][_0x300246(0x1ca)](this['instanceName']+'\x20('+this[_0x300246(0x245)][_0x300246(0x60f)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x3d66a7 instanceof Error?_0x3d66a7['message']:JSON['stringify'](_0x3d66a7,null,0x2))),_0x3908be=_0x3d66a7 instanceof Error?_0x3d66a7[_0x300246(0x3a7)]:JSON[_0x300246(0x1dc)](_0x3d66a7,null,0x2),_0x3908be)throw new m(_0x300246(0xcd)+_0x3908be);}}async['startFlowWebhook'](_0x2dd187,_0x1a43d2,_0x16f2e0){const _0xa78045=a0_0x3eb0d8;let _0x6e765a=null;try{if(!this['AutomateSystem']?.['flowConfig']['enabled'])throw new m(_0xa78045(0x13e));if(this[_0xa78045(0xfa)][_0xa78045(0x671)](this[_0xa78045(0x1a8)]+'\x20('+this[_0xa78045(0x245)][_0xa78045(0x60f)]+'):\x20Iniciando\x20bot...'),_0x1a43d2){let _0x27dd9f=(await this['whatsappNumber']({'numbers':[_0x1a43d2]}))[0x0];if(!_0x27dd9f[_0xa78045(0x788)]&&!(0x0,w[_0xa78045(0x7d1)])(_0x27dd9f[_0xa78045(0x417)])&&!_0x27dd9f[_0xa78045(0x417)][_0xa78045(0x5d6)]('@broadcast'))throw _0x6e765a=JSON['stringify'](_0x27dd9f,null,0x2),new m(_0x27dd9f);_0x1a43d2=_0x27dd9f[_0xa78045(0x417)];}else _0x1a43d2||(_0x1a43d2=(0x0,H['v4'])());let _0x45556e=await this[_0xa78045(0x4f1)][_0xa78045(0x800)][_0xa78045(0x657)]({'where':{'_id':_0x2dd187}});if(!_0x45556e||!_0x45556e[_0xa78045(0x585)]?.[_0xa78045(0x5d6)](this[_0xa78045(0x245)]['wuid']))throw this[_0xa78045(0xfa)]['error'](this['instanceName']+'\x20('+this[_0xa78045(0x245)][_0xa78045(0x60f)]+_0xa78045(0xce)+_0x2dd187+_0xa78045(0x555)),new m(_0xa78045(0x4da)+_0x2dd187+_0xa78045(0x555));let _0x58b6de=await this[_0xa78045(0x6c3)](_0x45556e,_0x1a43d2,null);if(_0x58b6de){this[_0xa78045(0xfa)][_0xa78045(0x671)](this[_0xa78045(0x1a8)]+'\x20('+this[_0xa78045(0x245)][_0xa78045(0x60f)]+_0xa78045(0x464));let _0x1c962e;if(_0x16f2e0){let _0xea6873=_0x58b6de[_0xa78045(0x5b1)][_0xa78045(0x67d)],_0x48fa42=this[_0xa78045(0x43a)](_0x16f2e0);Object[_0xa78045(0x18a)](_0xea6873,_0x48fa42),_0x58b6de[_0xa78045(0x5b1)][_0xa78045(0x67d)]=_0xea6873,_0x1c962e={'error':!0x1,'apiResponse':_0x16f2e0};}let _0x5c6f50=await this[_0xa78045(0x7b1)](_0x58b6de);return _0x5c6f50&&await this[_0xa78045(0xfd)](_0x58b6de,_0x5c6f50),{'message':'Flow\x20iniciado'};}}catch(_0xd5d281){if(this[_0xa78045(0xfa)][_0xa78045(0x1ca)](this[_0xa78045(0x1a8)]+'\x20('+this['instance'][_0xa78045(0x60f)]+_0xa78045(0x61a)+(_0xd5d281 instanceof Error?_0xd5d281[_0xa78045(0x3a7)]:JSON['stringify'](_0xd5d281,null,0x2))),_0x6e765a=_0xd5d281 instanceof Error?_0xd5d281[_0xa78045(0x3a7)]:JSON[_0xa78045(0x1dc)](_0xd5d281,null,0x2),_0x6e765a)throw new m(_0xa78045(0xcd)+_0x6e765a);}}async[a0_0x3eb0d8(0x6c2)](_0x599c29){const _0x12ae89=a0_0x3eb0d8;try{let _0x1328c4={'remoteJid':_0x599c29,'status':_0x12ae89(0x156)},_0x3a4a85={'status':_0x12ae89(0x499)},_0x154d89=await this['repository'][_0x12ae89(0x641)][_0x12ae89(0x5f4)](_0x1328c4,_0x3a4a85,this[_0x12ae89(0x245)][_0x12ae89(0x60f)]);return this[_0x12ae89(0xfa)][_0x12ae89(0x671)](this['instanceName']+'\x20('+this['instance'][_0x12ae89(0x60f)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x154d89;}catch(_0x55cf0c){throw this[_0x12ae89(0xfa)][_0x12ae89(0x1ca)](this['instanceName']+'\x20('+this[_0x12ae89(0x245)][_0x12ae89(0x60f)]+_0x12ae89(0x49d)+_0x55cf0c[_0x12ae89(0x3a7)]),_0x55cf0c;}}async[a0_0x3eb0d8(0x6c3)](_0xd9490f,_0x3453db,_0x74f121){const _0x10de22=a0_0x3eb0d8;this['logger'][_0x10de22(0x671)](this['instanceName']+'\x20('+this[_0x10de22(0x245)][_0x10de22(0x60f)]+_0x10de22(0xcf)),await this[_0x10de22(0x6c2)](_0x3453db);try{let _0x549c3c=require(_0x10de22(0x3ae))[_0x10de22(0x2bc)],_0x450100=Date[_0x10de22(0x117)](),_0x59eca3=_0x10de22(0x7f4),_0x37babf={},_0x963a8e={},_0x35e17a=this['AutomateSystem'][_0x10de22(0x66d)][_0x10de22(0x551)](_0x4124ef=>_0x4124ef[_0x10de22(0x36f)]===_0xd9490f[_0x10de22(0x36f)]?.[_0x10de22(0x121)]()),_0x152ae9=_0x35e17a?.['minutesToClose']??_0xd9490f['minutesToClose']??0x0,_0x55ea4d=_0x35e17a?.[_0x10de22(0x360)]??_0xd9490f['readMessages']??!0x1,_0x3982f6={'flowId':_0xd9490f[_0x10de22(0x36f)],..._0xd9490f,'chatLog':null},_0x1a5fb2=await this['variablesToObject'](_0x3982f6[_0x10de22(0x30b)]),_0x5d5d7a=await this[_0x10de22(0x799)](_0x3453db),_0x70040d={..._0x1a5fb2,..._0x5d5d7a,'_remoteJid':_0x3453db},_0x23a060={'lastReceivedMessage':_0x37babf,'lastSendMessage':_0x963a8e,'lastBlockId':_0x59eca3,'lastCondition':!0x0,'realVariables':_0x70040d};_0x3982f6[_0x10de22(0x5b1)]=_0x23a060,_0x3982f6[_0x10de22(0x5b1)][_0x10de22(0x67d)]={..._0x70040d,..._0x74f121},delete _0x3982f6[_0x10de22(0x36f)],_0x3982f6['_id']=new _0x549c3c(),_0x3982f6[_0x10de22(0x628)]=_0x450100,_0x3982f6['status']=_0x10de22(0x156),_0x3982f6[_0x10de22(0x3f6)]=_0x3453db,_0x3982f6[_0x10de22(0x286)]=_0x152ae9,_0x3982f6[_0x10de22(0x360)]=_0x55ea4d,_0x3982f6[_0x10de22(0x36f)]=_0xd9490f[_0x10de22(0x36f)];let _0x30c04d=await this[_0x10de22(0x4f1)][_0x10de22(0x641)][_0x10de22(0x57f)](_0x3982f6[_0x10de22(0x36f)],_0x3982f6,this[_0x10de22(0x245)][_0x10de22(0x60f)]);return this[_0x10de22(0xfa)][_0x10de22(0x671)](this[_0x10de22(0x1a8)]+'\x20('+this[_0x10de22(0x245)][_0x10de22(0x60f)]+_0x10de22(0x2c2)),_0x30c04d?_0x3982f6:null;}catch(_0x1bdf66){let _0x279c93='Erro\x20ao\x20copiar\x20o\x20documento',_0x2b076f=_0x1bdf66 instanceof Error?_0x1bdf66['message']:typeof _0x1bdf66=='object'?JSON[_0x10de22(0x1dc)](_0x1bdf66):_0x1bdf66,_0x15368c=_0x279c93+':\x20'+_0x2b076f;throw this[_0x10de22(0xfa)][_0x10de22(0x1ca)](this[_0x10de22(0x1a8)]+'\x20('+this['instance'][_0x10de22(0x60f)]+_0x10de22(0x2fb)+_0x15368c),new m(_0x15368c);}}async[a0_0x3eb0d8(0x647)](_0x1cbf3f){const _0x3dc03d=a0_0x3eb0d8;try{this[_0x3dc03d(0xfa)][_0x3dc03d(0x671)](this['instanceName']+'\x20('+this[_0x3dc03d(0x245)][_0x3dc03d(0x60f)]+'):\x20Buscando\x20conversa...'),this[_0x3dc03d(0xfa)][_0x3dc03d(0x671)](this[_0x3dc03d(0x1a8)]+'\x20('+this[_0x3dc03d(0x245)][_0x3dc03d(0x60f)]+_0x3dc03d(0x6b7)+_0x1cbf3f);let _0x14b6c1={'where':{'_id':_0x1cbf3f}};return await this['repository'][_0x3dc03d(0x641)][_0x3dc03d(0x657)](_0x14b6c1,this[_0x3dc03d(0x245)]['wuid']);}catch(_0x2fb609){let _0x28d454='Erro\x20ao\x20buscar\x20a\x20conversa',_0x30f208=_0x2fb609 instanceof Error?_0x2fb609[_0x3dc03d(0x3a7)]:typeof _0x2fb609==_0x3dc03d(0x1a5)?JSON[_0x3dc03d(0x1dc)](_0x2fb609):_0x2fb609,_0x4f8d6c=_0x28d454+':\x20'+_0x30f208;throw this[_0x3dc03d(0xfa)][_0x3dc03d(0x1ca)](this[_0x3dc03d(0x1a8)]+'\x20('+this[_0x3dc03d(0x245)]['wuid']+_0x3dc03d(0x2fb)+_0x4f8d6c),new m(_0x4f8d6c);}}async['fetchConversation'](_0xe06f29){const _0x17c4fd=a0_0x3eb0d8;try{return this[_0x17c4fd(0xfa)]['verbose'](this[_0x17c4fd(0x1a8)]+'\x20('+this[_0x17c4fd(0x245)][_0x17c4fd(0x60f)]+'):\x20Buscando\x20conversas...'),await this[_0x17c4fd(0x4f1)][_0x17c4fd(0x641)][_0x17c4fd(0x551)](_0xe06f29,this[_0x17c4fd(0x245)][_0x17c4fd(0x60f)]);}catch(_0x1dd3aa){let _0x282fc7=_0x17c4fd(0x374),_0x432c0d=_0x1dd3aa instanceof Error?_0x1dd3aa['message']:typeof _0x1dd3aa=='object'?JSON[_0x17c4fd(0x1dc)](_0x1dd3aa):_0x1dd3aa,_0x202c53=_0x282fc7+':\x20'+_0x432c0d;throw this['logger'][_0x17c4fd(0x1ca)](this[_0x17c4fd(0x1a8)]+'\x20('+this[_0x17c4fd(0x245)][_0x17c4fd(0x60f)]+_0x17c4fd(0x2fb)+_0x202c53),new m(_0x202c53);}}async[a0_0x3eb0d8(0x110)](_0xae23ee){const _0x2862bb=a0_0x3eb0d8;try{return this[_0x2862bb(0xfa)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2862bb(0x60f)]+_0x2862bb(0x209)),this[_0x2862bb(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x2862bb(0x245)][_0x2862bb(0x60f)]+_0x2862bb(0x22d)+_0xae23ee),(await this['repository'][_0x2862bb(0x641)][_0x2862bb(0x632)]({'where':{'_id':_0xae23ee[_0x2862bb(0x36f)]}},this[_0x2862bb(0x245)][_0x2862bb(0x60f)]))[_0x2862bb(0x69c)]===0x0?{'message':_0x2862bb(0x718)}:{'message':_0x2862bb(0x6ee)};}catch(_0x5dcf0d){let _0x292b6a=_0x2862bb(0x32f),_0x1d503b=_0x5dcf0d instanceof Error?_0x5dcf0d[_0x2862bb(0x3a7)]:typeof _0x5dcf0d==_0x2862bb(0x1a5)?JSON[_0x2862bb(0x1dc)](_0x5dcf0d):_0x5dcf0d,_0x194da4=_0x292b6a+':\x20'+_0x1d503b;throw this[_0x2862bb(0xfa)][_0x2862bb(0x1ca)](this[_0x2862bb(0x1a8)]+'\x20('+this['instance'][_0x2862bb(0x60f)]+_0x2862bb(0x2fb)+_0x194da4),new m(_0x194da4);}}async[a0_0x3eb0d8(0x612)](_0x3764b0){const _0x395511=a0_0x3eb0d8;try{let {_id:_0x4958e0,chatLog:_0x28201e,status:_0x59b8b0}=_0x3764b0;if(!_0x4958e0)return{'message':_0x395511(0x4a3)};let _0x4f80c0={};if(_0x59b8b0!==void 0x0&&(_0x4f80c0[_0x395511(0x226)]=_0x59b8b0),Object[_0x395511(0x130)](_0x4f80c0)[_0x395511(0x75f)]===0x0)return{'message':_0x395511(0x572)};let _0x5be7da=await this[_0x395511(0x4f1)][_0x395511(0x641)][_0x395511(0x57f)](_0x4958e0,_0x4f80c0,this[_0x395511(0x245)]['wuid']);return _0x5be7da||{'message':_0x395511(0x6b4)};}catch(_0x88960b){let _0x3d82b6=_0x395511(0x66f),_0x502adc=_0x88960b instanceof Error?_0x88960b[_0x395511(0x3a7)]:typeof _0x88960b==_0x395511(0x1a5)?JSON[_0x395511(0x1dc)](_0x88960b):_0x88960b,_0x44cca7=_0x3d82b6+':\x20'+_0x502adc;throw this[_0x395511(0xfa)]['error'](this[_0x395511(0x1a8)]+'\x20('+this[_0x395511(0x245)][_0x395511(0x60f)]+_0x395511(0x2fb)+_0x44cca7),new m(_0x44cca7);}}async['editChat'](_0x222f16){const _0x51347c=a0_0x3eb0d8;try{_0x222f16[_0x51347c(0x36f)]=this['createJid'](_0x222f16[_0x51347c(0x36f)]);let _0x5c3c5d=await this['repository'][_0x51347c(0x215)][_0x51347c(0x657)]({'where':{'_id':_0x222f16[_0x51347c(0x36f)]}},this[_0x51347c(0x245)][_0x51347c(0x60f)]);if(!_0x5c3c5d)throw new m(_0x51347c(0x516));let {_id:_0x2c995d,leadInfo:_0x45145b}=_0x222f16;if(!_0x2c995d)throw new Error(_0x51347c(0x393));if(_0x222f16[_0x51347c(0x10d)]==='all')return await this['deleteChat'](_0x222f16[_0x51347c(0x36f)]),await this['repository'][_0x51347c(0x215)][_0x51347c(0x10d)]({'where':{'_id':_0x222f16[_0x51347c(0x36f)]}},this[_0x51347c(0x245)][_0x51347c(0x60f)]),await this[_0x51347c(0x4f1)][_0x51347c(0x3a7)][_0x51347c(0x10d)]({'where':{'key':{'remoteJid':_0x222f16[_0x51347c(0x36f)]}}},this[_0x51347c(0x245)][_0x51347c(0x60f)]),_0x222f16=await this[_0x51347c(0x4f1)][_0x51347c(0x215)][_0x51347c(0x57f)]({'where':{'_id':_0x222f16[_0x51347c(0x36f)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x51347c(0x245)]['wuid']),J(this[_0x51347c(0x1a8)],'chats',{'chat':_0x222f16}),{'message':_0x51347c(0x1de)};if(_0x222f16[_0x51347c(0x10d)]===_0x51347c(0x674))return await this[_0x51347c(0x4f1)][_0x51347c(0x3a7)][_0x51347c(0x10d)]({'where':{'key':{'remoteJid':_0x222f16[_0x51347c(0x36f)]}}},this['instance'][_0x51347c(0x60f)]),_0x222f16=await this[_0x51347c(0x4f1)]['chat'][_0x51347c(0x57f)]({'where':{'_id':_0x222f16[_0x51347c(0x36f)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x51347c(0x245)][_0x51347c(0x60f)]),J(this['instanceName'],_0x51347c(0x6df),{'chat':_0x222f16}),{'message':_0x51347c(0x5be)};let _0x39b73f=(_0x235e5a,_0x3072c8,_0x19d5f3)=>{_0x235e5a&&_0x19d5f3['forEach'](_0x35a32a=>{_0x235e5a[_0x35a32a]!==void 0x0&&(_0x3072c8['leadInfo.'+_0x35a32a]=_0x235e5a[_0x35a32a]);});},_0x50c631={};if(_0x51347c(0x33e)in _0x222f16&&(this['logger'][_0x51347c(0x671)](this[_0x51347c(0x1a8)]+'\x20('+this[_0x51347c(0x245)]['wuid']+_0x51347c(0x6d1)+_0x222f16[_0x51347c(0x36f)]),_0x222f16[_0x51347c(0x33e)]=_0x222f16[_0x51347c(0x33e)]===0x0?null:-0x1,await this[_0x51347c(0x1d3)]['chatModify']({'mute':_0x222f16['muteEndTime']},_0x222f16['_id']),_0x50c631[_0x51347c(0x33e)]=Number(_0x222f16[_0x51347c(0x33e)])),_0x45145b&&(_0x39b73f(_0x45145b,_0x50c631,[_0x51347c(0x724),'nomecompleto','email',_0x51347c(0x42a),_0x51347c(0x226),'notas','tags',_0x51347c(0x21e),'responsavelid',_0x51347c(0x60c),'desativadoFluxoAte']),Array[_0x51347c(0x20f)](_0x45145b['customFields'])&&(_0x50c631[_0x51347c(0x1b3)]=_0x45145b[_0x51347c(0x2bf)][_0x51347c(0x437)](_0x5954e7=>({'_id':_0x5954e7['_id'],'value':_0x5954e7['value']}))),_0x222f16['leadInfo'][_0x51347c(0x60c)]!==void 0x0)){let _0x4b4fa9=await this['repository']['label'][_0x51347c(0x551)]({'where':{}},this['instance'][_0x51347c(0x60f)]),_0x20cb2e=new Set(_0x222f16[_0x51347c(0x594)]['etiquetas']||[]),_0x1158bc=new Set(_0x222f16[_0x51347c(0x594)][_0x51347c(0x60c)]),_0x3ad669=new Set(_0x4b4fa9[_0x51347c(0x437)](_0x2e4eac=>_0x2e4eac[_0x51347c(0x36f)])),_0x13ef91=[..._0x1158bc][_0x51347c(0x1d9)](_0x219418=>!_0x20cb2e[_0x51347c(0x10e)](_0x219418)&&_0x3ad669[_0x51347c(0x10e)](_0x219418)),_0x1e33d0=[..._0x20cb2e][_0x51347c(0x1d9)](_0x15771d=>!_0x1158bc['has'](_0x15771d));if(_0x50c631[_0x51347c(0x37b)]=[..._0x20cb2e],_0x5c3c5d&&!_0x5c3c5d[_0x51347c(0xd7)]){for(let _0x54cbf1 of _0x13ef91)await this[_0x51347c(0x527)](_0x54cbf1,_0x222f16[_0x51347c(0x36f)]),_0x20cb2e[_0x51347c(0x440)](_0x54cbf1);for(let _0x55c6f8 of _0x1e33d0)await this[_0x51347c(0x5ea)](_0x55c6f8,_0x222f16[_0x51347c(0x36f)]),_0x20cb2e[_0x51347c(0x10d)](_0x55c6f8);}}if(_0x222f16[_0x51347c(0x712)]!==void 0x0&&(_0x50c631[_0x51347c(0x712)]=Number(_0x222f16['unreadcount'])),Object['keys'](_0x50c631)[_0x51347c(0x75f)]===0x0)throw new Error(_0x51347c(0x572));let _0x1a9e76=await this[_0x51347c(0x4f1)][_0x51347c(0x215)][_0x51347c(0x57f)]({'where':{'_id':_0x222f16['_id']}},_0x50c631,this['instance']['wuid']);return _0x1a9e76&&J(this[_0x51347c(0x1a8)],_0x51347c(0x6df),{'chat':_0x1a9e76}),_0x1a9e76?(this[_0x51347c(0xfa)][_0x51347c(0x671)](this[_0x51347c(0x1a8)]+'\x20('+this[_0x51347c(0x245)][_0x51347c(0x60f)]+'):\x20'+JSON[_0x51347c(0x1dc)](_0x1a9e76,null,0x2)),_0x1a9e76):{'message':_0x51347c(0x3e3)};}catch(_0xfdc1e7){let _0x5ad84d=_0x51347c(0x7f9),_0x526cbd=_0xfdc1e7 instanceof Error?_0xfdc1e7['message']:typeof _0xfdc1e7==_0x51347c(0x1a5)?JSON[_0x51347c(0x1dc)](_0xfdc1e7):_0xfdc1e7,_0x5016f1=_0x5ad84d+':\x20'+_0x526cbd;throw this[_0x51347c(0xfa)][_0x51347c(0x1ca)](this[_0x51347c(0x1a8)]+'\x20('+this['instance'][_0x51347c(0x60f)]+_0x51347c(0x2fb)+_0x5016f1),new m(_0x5016f1);}}async[a0_0x3eb0d8(0x527)](_0x2e90be,_0x3063ac){const _0x13c991=a0_0x3eb0d8;try{await this[_0x13c991(0x1d3)]['addChatLabel'](_0x3063ac,_0x2e90be),this['logger'][_0x13c991(0xe3)](this[_0x13c991(0x1a8)]+'\x20('+this[_0x13c991(0x245)]['wuid']+_0x13c991(0x4bd)+_0x2e90be+'\x20adicionado\x20ao\x20chat\x20'+_0x3063ac+'\x20com\x20sucesso.');}catch(_0x1a3f92){this[_0x13c991(0xfa)][_0x13c991(0x1ca)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x2e90be+'\x20ao\x20chat\x20'+_0x3063ac+':\x20'+_0x1a3f92);}}async[a0_0x3eb0d8(0x5ea)](_0x53abef,_0x4c2363){const _0x34c6ea=a0_0x3eb0d8;try{await this['client']['removeChatLabel'](_0x4c2363,_0x53abef),this['logger'][_0x34c6ea(0xe3)](this['instanceName']+'\x20('+this[_0x34c6ea(0x245)][_0x34c6ea(0x60f)]+_0x34c6ea(0x4bd)+_0x53abef+_0x34c6ea(0x54f)+_0x4c2363+'\x20com\x20sucesso.');}catch(_0x42c44b){this['logger'][_0x34c6ea(0x1ca)](_0x34c6ea(0x18f)+_0x53abef+_0x34c6ea(0x63c)+_0x4c2363+':\x20'+_0x42c44b);}}async[a0_0x3eb0d8(0x6f4)](_0xd54721){const _0x1a3c08=a0_0x3eb0d8;try{let _0x5b3252=await this[_0x1a3c08(0x4f1)][_0x1a3c08(0x473)][_0x1a3c08(0x735)](this[_0x1a3c08(0x245)][_0x1a3c08(0x60f)]),_0x4c48f0=_0xd54721[_0x1a3c08(0x36f)]?_0x5b3252[_0x1a3c08(0xe1)]['findIndex'](_0x4156cd=>_0x4156cd['_id']===_0xd54721[_0x1a3c08(0x36f)]):-0x1;if(_0xd54721[_0x1a3c08(0x10d)]&&_0x4c48f0>-0x1)_0x5b3252[_0x1a3c08(0xe1)][_0x1a3c08(0x199)](_0x4c48f0,0x1);else{if(_0x4c48f0>-0x1){let _0x18b03e=_0x5b3252[_0x1a3c08(0xe1)][_0x4c48f0];_0xd54721[_0x1a3c08(0x522)]&&(_0x18b03e['fone']=_0xd54721[_0x1a3c08(0x522)]),_0xd54721[_0x1a3c08(0x21a)]&&(_0x18b03e[_0x1a3c08(0x21a)]=_0xd54721[_0x1a3c08(0x21a)]),_0xd54721[_0x1a3c08(0x47e)]&&(_0x18b03e[_0x1a3c08(0x47e)]=_0xd54721[_0x1a3c08(0x47e)]),_0xd54721[_0x1a3c08(0x2d4)]&&(_0x18b03e[_0x1a3c08(0x2d4)]=_0xd54721[_0x1a3c08(0x2d4)]);}else _0x5b3252[_0x1a3c08(0xe1)]['push']({'_id':_0xd54721[_0x1a3c08(0x36f)]||new he[(_0x1a3c08(0x487))][(_0x1a3c08(0x145))][(_0x1a3c08(0x2bc))]()[_0x1a3c08(0x121)](),'fone':_0xd54721['fone'],'name':_0xd54721[_0x1a3c08(0x21a)],'email':_0xd54721[_0x1a3c08(0x47e)],'role':_0xd54721[_0x1a3c08(0x2d4)]});}let _0x1dd38f={'agents':_0x5b3252[_0x1a3c08(0xe1)]},_0x4f5bed=await this[_0x1a3c08(0x4f1)]['automateSystem']['update'](_0x1dd38f,this[_0x1a3c08(0x245)][_0x1a3c08(0x60f)]);return this[_0x1a3c08(0x521)]=_0x4f5bed,this[_0x1a3c08(0xfa)]['verbose'](this[_0x1a3c08(0x1a8)]+'\x20('+this[_0x1a3c08(0x245)][_0x1a3c08(0x60f)]+_0x1a3c08(0x709)),this[_0x1a3c08(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x1a3c08(0x245)][_0x1a3c08(0x60f)]+_0x1a3c08(0x2fb)+this[_0x1a3c08(0x521)]),_0x4f5bed;}catch(_0x18bf66){let _0x43f084=_0x1a3c08(0x659),_0x410c47=_0x18bf66 instanceof Error?_0x18bf66['message']:typeof _0x18bf66==_0x1a3c08(0x1a5)?JSON[_0x1a3c08(0x1dc)](_0x18bf66):_0x18bf66,_0x116952=_0x43f084+':\x20'+_0x410c47;throw this['logger']['error'](this[_0x1a3c08(0x1a8)]+'\x20('+this[_0x1a3c08(0x245)][_0x1a3c08(0x60f)]+_0x1a3c08(0x2fb)+_0x116952),new m(_0x116952);}}async[a0_0x3eb0d8(0x14e)](_0x2dd548){const _0x5bf2e5=a0_0x3eb0d8;try{let _0x277adb=await this[_0x5bf2e5(0x4f1)][_0x5bf2e5(0x473)][_0x5bf2e5(0x735)](this[_0x5bf2e5(0x245)]['wuid']),_0x3a6de2=_0x2dd548['_id']?_0x277adb[_0x5bf2e5(0x2bf)][_0x5bf2e5(0x18c)](_0x5731fb=>_0x5731fb['_id']===_0x2dd548[_0x5bf2e5(0x36f)]):-0x1,_0x2239e1=!0x1,_0x30af13=_0x277adb[_0x5bf2e5(0x2bf)][_0x5bf2e5(0x18b)](_0x281daa=>_0x281daa[_0x5bf2e5(0x52e)]===_0x2dd548[_0x5bf2e5(0x52e)]);if(_0x2dd548[_0x5bf2e5(0x10d)]&&_0x3a6de2>-0x1)_0x277adb[_0x5bf2e5(0x2bf)][_0x5bf2e5(0x199)](_0x3a6de2,0x1),_0x2239e1=!0x0;else{if(_0x3a6de2>-0x1){if(_0x277adb[_0x5bf2e5(0x2bf)][_0x5bf2e5(0x18b)](_0x2f0c42=>_0x2f0c42['name']===_0x2dd548['name']&&_0x2f0c42[_0x5bf2e5(0x36f)]!==_0x2dd548['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x462285=_0x277adb[_0x5bf2e5(0x2bf)][_0x3a6de2];_0x2dd548['order']&&(_0x30af13||!Number[_0x5bf2e5(0x5f3)](_0x2dd548['order']))&&(_0x462285[_0x5bf2e5(0x52e)]=_0x2dd548[_0x5bf2e5(0x52e)],_0x2239e1=!0x0),_0x2dd548[_0x5bf2e5(0x21a)]&&(_0x462285[_0x5bf2e5(0x21a)]=_0x2dd548['name']);}else{if(_0x277adb[_0x5bf2e5(0x2bf)][_0x5bf2e5(0x18b)](_0x570be7=>_0x570be7[_0x5bf2e5(0x21a)]===_0x2dd548['name']&&_0x570be7[_0x5bf2e5(0x36f)]!==_0x2dd548['_id']))throw new Error(_0x5bf2e5(0x3ed));_0x277adb['customFields'][_0x5bf2e5(0x3c2)]({'_id':_0x2dd548[_0x5bf2e5(0x36f)]||new he[(_0x5bf2e5(0x487))][(_0x5bf2e5(0x145))][(_0x5bf2e5(0x2bc))]()['toString'](),'order':_0x2dd548[_0x5bf2e5(0x52e)],'name':_0x2dd548[_0x5bf2e5(0x21a)]}),_0x2239e1=!0x0;}}if(_0x2239e1){_0x277adb[_0x5bf2e5(0x2bf)][_0x5bf2e5(0x50e)]((_0x3c04b5,_0x4ff425)=>_0x3c04b5['order']>_0x4ff425['order']?0x1:_0x4ff425['order']>_0x3c04b5[_0x5bf2e5(0x52e)]?-0x1:0x0);for(let _0x55ece3=0x0;_0x55ece3<_0x277adb[_0x5bf2e5(0x2bf)][_0x5bf2e5(0x75f)];_0x55ece3++)_0x277adb[_0x5bf2e5(0x2bf)][_0x55ece3][_0x5bf2e5(0x52e)]=_0x55ece3+0x1;}let _0x3d840d=await this[_0x5bf2e5(0x4f1)][_0x5bf2e5(0x473)][_0x5bf2e5(0x670)](_0x277adb,this[_0x5bf2e5(0x245)][_0x5bf2e5(0x60f)]);return this[_0x5bf2e5(0x521)]=_0x3d840d,this[_0x5bf2e5(0xfa)][_0x5bf2e5(0x671)](this['instanceName']+'\x20('+this[_0x5bf2e5(0x245)][_0x5bf2e5(0x60f)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x5bf2e5(0xfa)]['verbose'](this[_0x5bf2e5(0x1a8)]+'\x20('+this[_0x5bf2e5(0x245)][_0x5bf2e5(0x60f)]+_0x5bf2e5(0x2fb)+this['AutomateSystem']),_0x3d840d;}catch(_0x5c70c0){let _0x19cad1=_0x5bf2e5(0x567),_0x2b3570=_0x5c70c0 instanceof Error?_0x5c70c0[_0x5bf2e5(0x3a7)]:typeof _0x5c70c0=='object'?JSON['stringify'](_0x5c70c0):_0x5c70c0,_0x6e05b7=_0x19cad1+':\x20'+_0x2b3570;throw this['logger']['error'](this[_0x5bf2e5(0x1a8)]+'\x20('+this['instance'][_0x5bf2e5(0x60f)]+_0x5bf2e5(0x2fb)+_0x6e05b7),new m(_0x6e05b7);}}async[a0_0x3eb0d8(0x673)](_0x4bcfbc){const _0x235ef3=a0_0x3eb0d8;try{let _0x25dde0=await this[_0x235ef3(0x4f1)][_0x235ef3(0x473)]['findOrCreate'](this[_0x235ef3(0x245)][_0x235ef3(0x60f)]),_0x58bfa6=_0x25dde0?.[_0x235ef3(0x2de)]?.[_0x235ef3(0x18c)](_0x1ddabd=>_0x1ddabd[_0x235ef3(0x36f)]===_0x4bcfbc?.[_0x235ef3(0x36f)]);if(_0x4bcfbc?.[_0x235ef3(0x10d)])_0x58bfa6>-0x1&&_0x25dde0?.[_0x235ef3(0x2de)]?.[_0x235ef3(0x199)](_0x58bfa6,0x1);else{if(_0x58bfa6>-0x1){let _0x433471=_0x25dde0[_0x235ef3(0x2de)][_0x58bfa6];_0x433471['order']=_0x4bcfbc?.[_0x235ef3(0x52e)]||_0x433471[_0x235ef3(0x52e)],_0x433471[_0x235ef3(0x3b9)]=_0x4bcfbc?.['command']||_0x433471['command'],_0x433471['message']=_0x4bcfbc?.[_0x235ef3(0x3a7)]||_0x433471[_0x235ef3(0x3a7)];}else{let _0x20456d={'_id':_0x4bcfbc?.[_0x235ef3(0x36f)]||new he[(_0x235ef3(0x487))][(_0x235ef3(0x145))][(_0x235ef3(0x2bc))]()['toString'](),'order':_0x4bcfbc?.[_0x235ef3(0x52e)],'command':_0x4bcfbc?.[_0x235ef3(0x3b9)],'message':_0x4bcfbc?.[_0x235ef3(0x3a7)]};_0x25dde0?.[_0x235ef3(0x2de)]?.[_0x235ef3(0x3c2)](_0x20456d);}}_0x25dde0?.[_0x235ef3(0x2de)]?.[_0x235ef3(0x50e)]((_0x12dc87,_0x1f50ce)=>_0x12dc87[_0x235ef3(0x52e)]-_0x1f50ce[_0x235ef3(0x52e)]);let _0x531161=await this[_0x235ef3(0x4f1)]['automateSystem'][_0x235ef3(0x670)](_0x25dde0,this[_0x235ef3(0x245)]['wuid']);return this[_0x235ef3(0x521)]=_0x531161,this[_0x235ef3(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x235ef3(0x245)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x531161;}catch(_0x15502c){let _0x292a34=_0x235ef3(0x198),_0x3152bb=_0x15502c instanceof Error?_0x15502c[_0x235ef3(0x3a7)]:typeof _0x15502c==_0x235ef3(0x1a5)?JSON[_0x235ef3(0x1dc)](_0x15502c):_0x15502c,_0x1358b0=_0x292a34+':\x20'+_0x3152bb;throw this[_0x235ef3(0xfa)][_0x235ef3(0x1ca)](this[_0x235ef3(0x1a8)]+'\x20('+this[_0x235ef3(0x245)][_0x235ef3(0x60f)]+_0x235ef3(0x2fb)+_0x1358b0),new m(_0x1358b0);}}async[a0_0x3eb0d8(0x289)](_0x20263c){const _0x2da489=a0_0x3eb0d8;try{let _0x3d456e=await this[_0x2da489(0x4f1)]['automateSystem'][_0x2da489(0x735)](this['instance']['wuid']);if(!_0x3d456e)throw new Error(_0x2da489(0x424));let _0xc9e012={'_id':_0x3d456e[_0x2da489(0x36f)],'flowConfig':{'enabled':_0x20263c[_0x2da489(0x676)]??_0x3d456e[_0x2da489(0x137)]['enabled'],'ignoreGroups':_0x20263c[_0x2da489(0x6a4)]??_0x3d456e[_0x2da489(0x137)][_0x2da489(0x6a4)],'stopConversation':_0x20263c[_0x2da489(0x7e0)]['trim']()??_0x3d456e[_0x2da489(0x137)][_0x2da489(0x7e0)][_0x2da489(0x6ae)](),'stopMinutes':_0x20263c[_0x2da489(0x812)]??_0x3d456e[_0x2da489(0x137)][_0x2da489(0x812)],'stopWhenYouSendMsg':_0x20263c[_0x2da489(0x603)]??_0x3d456e[_0x2da489(0x137)][_0x2da489(0x603)]}},_0x7f259d=await this[_0x2da489(0x4f1)][_0x2da489(0x473)]['update'](_0xc9e012,this[_0x2da489(0x245)][_0x2da489(0x60f)]);return this[_0x2da489(0x521)]=_0x7f259d,this[_0x2da489(0xfa)][_0x2da489(0x671)](this[_0x2da489(0x1a8)]+'\x20('+this[_0x2da489(0x245)]['wuid']+_0x2da489(0x709)),this[_0x2da489(0xfa)][_0x2da489(0x671)](this['instanceName']+'\x20('+this[_0x2da489(0x245)][_0x2da489(0x60f)]+_0x2da489(0x2fb)+this[_0x2da489(0x521)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x7f259d;}catch(_0x1b5f80){let _0x353c8d=_0x2da489(0x2e3),_0x8ff5c=_0x1b5f80 instanceof Error?_0x1b5f80[_0x2da489(0x3a7)]:typeof _0x1b5f80==_0x2da489(0x1a5)?JSON[_0x2da489(0x1dc)](_0x1b5f80):_0x1b5f80,_0x1fa7a2=_0x353c8d+':\x20'+_0x8ff5c;throw this['logger'][_0x2da489(0x1ca)](this[_0x2da489(0x1a8)]+'\x20('+this['instance'][_0x2da489(0x60f)]+_0x2da489(0x2fb)+_0x1fa7a2),new m(_0x1fa7a2);}}async[a0_0x3eb0d8(0x25b)](){const _0x33064c=a0_0x3eb0d8;try{let _0x1a45ee=await this[_0x33064c(0x4f1)]['automateSystem'][_0x33064c(0x735)](this[_0x33064c(0x245)][_0x33064c(0x60f)]);return this['AutomateSystem']=_0x1a45ee,_0x1a45ee;}catch(_0x362ab1){let _0x4087bc=_0x33064c(0x782),_0xa205f1=_0x362ab1 instanceof Error?_0x362ab1['message']:typeof _0x362ab1==_0x33064c(0x1a5)?JSON['stringify'](_0x362ab1):_0x362ab1,_0x190a2b=_0x4087bc+':\x20'+_0xa205f1;throw this[_0x33064c(0xfa)][_0x33064c(0x1ca)](this[_0x33064c(0x1a8)]+'\x20('+this['instance'][_0x33064c(0x60f)]+_0x33064c(0x2fb)+_0x190a2b),new m(_0x190a2b);}}async[a0_0x3eb0d8(0x249)](){const _0x14aedd=a0_0x3eb0d8;this[_0x14aedd(0x245)]['ScheduleMessage']['timeout']&&clearTimeout(this[_0x14aedd(0x245)][_0x14aedd(0x297)]['timeout']),this[_0x14aedd(0x245)][_0x14aedd(0x297)]['timeout']=setTimeout(()=>{const _0x38e6ac=_0x14aedd;this[_0x38e6ac(0x6f9)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x3eb0d8(0x6f9)](){const _0x22e4ea=a0_0x3eb0d8;let _0x36f25a=this[_0x22e4ea(0x245)]['ScheduleMessage'][_0x22e4ea(0x40e)];(_0x36f25a===0x0||_0x36f25a===null||Date[_0x22e4ea(0x117)]()-_0x36f25a>=0x1d4c0)&&(this[_0x22e4ea(0xfa)][_0x22e4ea(0x671)](this[_0x22e4ea(0x1a8)]+'\x20('+this[_0x22e4ea(0x245)][_0x22e4ea(0x60f)]+_0x22e4ea(0x108)),this[_0x22e4ea(0x245)][_0x22e4ea(0x297)]['processingGroup']=null,this['instance'][_0x22e4ea(0x297)][_0x22e4ea(0x40e)]=0x0,this[_0x22e4ea(0x245)][_0x22e4ea(0x297)]['delayMessage']=0x0,this[_0x22e4ea(0x4b4)]=null,await this[_0x22e4ea(0x3da)]());}async['scheduleNextCheck'](){const _0x31f584=a0_0x3eb0d8;this['logger'][_0x31f584(0x4cd)](this[_0x31f584(0x1a8)]+'\x20('+this[_0x31f584(0x245)]['wuid']+_0x31f584(0x3f1)),await this[_0x31f584(0x41c)]();let _0x448a06=await this[_0x31f584(0x1c3)]();_0x448a06[_0x31f584(0x75f)]>0x0&&(this['logger'][_0x31f584(0x4cd)](this[_0x31f584(0x1a8)]+'\x20('+this[_0x31f584(0x245)][_0x31f584(0x60f)]+_0x31f584(0x3c9)),this['processReadyMessages'](_0x448a06));let _0x423253={'where':{'status':_0x31f584(0x13c),'when':{'$gt':Date[_0x31f584(0x117)]()}}},_0x3ef9b5=await this[_0x31f584(0x4f1)]['scheduleMessage'][_0x31f584(0x657)](_0x423253,this['instance']['wuid']);_0x3ef9b5&&_0x3ef9b5[_0x31f584(0x79d)]-Date[_0x31f584(0x117)]()<=0x6ddd00?this['instance'][_0x31f584(0x297)][_0x31f584(0x45f)]=_0x3ef9b5[_0x31f584(0x79d)]-Date[_0x31f584(0x117)]():this['instance'][_0x31f584(0x297)][_0x31f584(0x45f)]=(0x3c+Math[_0x31f584(0x192)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x31f584(0x245)][_0x31f584(0x297)][_0x31f584(0x45f)]=Math['max'](this['instance']['ScheduleMessage'][_0x31f584(0x45f)],0x1*0x2*0x3e8);let _0x188cd8=Math[_0x31f584(0x4fc)](this['instance'][_0x31f584(0x297)][_0x31f584(0x45f)]/0xea60);if(_0x3ef9b5){let _0x260bf3=new Date(_0x3ef9b5['when'])[_0x31f584(0x120)]();this[_0x31f584(0xfa)]['warn'](this[_0x31f584(0x1a8)]+'\x20('+this['instance'][_0x31f584(0x60f)]+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x260bf3+_0x31f584(0x5cb)+_0x188cd8+_0x31f584(0x721));}else this[_0x31f584(0xfa)][_0x31f584(0x4cd)](this[_0x31f584(0x1a8)]+'\x20('+this[_0x31f584(0x245)][_0x31f584(0x60f)]+_0x31f584(0x6d5)+_0x188cd8+_0x31f584(0x721));setTimeout(()=>{const _0x4b0138=_0x31f584;this[_0x4b0138(0x3da)]();},this[_0x31f584(0x245)][_0x31f584(0x297)]['delayMessage']);}async['getReadyToSendMessages'](){const _0x1cea8f=a0_0x3eb0d8;this['logger'][_0x1cea8f(0x4cd)](this[_0x1cea8f(0x1a8)]+'\x20('+this['instance'][_0x1cea8f(0x60f)]+_0x1cea8f(0x27d));let _0x44a59b=Date[_0x1cea8f(0x117)]()-0xc*0x3c*0x3c*0x3e8,_0x2b587b={'where':{'status':{'$in':[_0x1cea8f(0x13c),'sending']},'$or':[{'when':{'$lte':Date[_0x1cea8f(0x117)](),'$gte':_0x44a59b}},{'when':0x0}]}},_0x588713=await this[_0x1cea8f(0x4f1)]['scheduleMessage'][_0x1cea8f(0x551)](_0x2b587b,this[_0x1cea8f(0x245)]['wuid']);return this[_0x1cea8f(0xfa)]['warn'](this['instanceName']+'\x20('+this[_0x1cea8f(0x245)][_0x1cea8f(0x60f)]+_0x1cea8f(0x73b)+_0x588713[_0x1cea8f(0x75f)]),_0x588713;}async[a0_0x3eb0d8(0x1af)](_0x4d4740){const _0x1577fc=a0_0x3eb0d8;if(this[_0x1577fc(0xfa)][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this[_0x1577fc(0x245)][_0x1577fc(0x60f)]+_0x1577fc(0x38d)),this[_0x1577fc(0x4b4)]!==null){await this[_0x1577fc(0x249)](),this[_0x1577fc(0xfa)]['warn'](this[_0x1577fc(0x1a8)]+'\x20('+this['instance'][_0x1577fc(0x60f)]+_0x1577fc(0x19f));return;}this[_0x1577fc(0x4b4)]=(0x0,H['v4'])();let _0x42d62b=0x3*0x3e8,_0x46b65f=0x8*0x3e8,_0xabb3e=Math[_0x1577fc(0x192)](Math[_0x1577fc(0x5c1)]()*(_0x46b65f-_0x42d62b+0x1))+_0x42d62b,_0x369f61=()=>this[_0x1577fc(0x76d)][_0x1577fc(0x75f)]===0x0?null:this['pendingMessages'][_0x1577fc(0x3c4)]((_0x35561f,_0x1c3b1f)=>(_0x35561f[_0x1577fc(0x52e)]??Number['MAX_SAFE_INTEGER'])<(_0x1c3b1f[_0x1577fc(0x52e)]??Number['MAX_SAFE_INTEGER'])?_0x35561f:_0x1c3b1f,this[_0x1577fc(0x76d)][0x0]);for(let _0xdbb5e3 of _0x4d4740){this['pendingMessages']=_0xdbb5e3[_0x1577fc(0x674)][_0x1577fc(0x1d9)](_0x1c337b=>!_0x1c337b[_0x1577fc(0x202)]);let _0x352dfc=0x3*0x3e8,_0x70e1d8={'_id':_0xdbb5e3[_0x1577fc(0x36f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1577fc(0x117)]()-_0x352dfc}}]},_0x30c370={'startSend':Date[_0x1577fc(0x117)](),'status':_0x1577fc(0x391),'processUUID':this[_0x1577fc(0x4b4)]},_0x13830f=await this[_0x1577fc(0x4f1)][_0x1577fc(0x65d)]['updateOne'](_0x70e1d8,_0x30c370,this[_0x1577fc(0x245)][_0x1577fc(0x60f)]);if(!_0x13830f)continue;if(this[_0x1577fc(0x245)][_0x1577fc(0x297)][_0x1577fc(0x483)]=_0x13830f,!this[_0x1577fc(0x245)][_0x1577fc(0x297)][_0x1577fc(0x6e0)]){this['logger'][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this[_0x1577fc(0x245)][_0x1577fc(0x60f)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}for(;this[_0x1577fc(0x76d)][_0x1577fc(0x75f)]>0x0;){await this['setRestartTimeout']();let _0x1762a9=_0x369f61();if(!_0x1762a9)break;let _0x292fb2=_0xdbb5e3[_0x1577fc(0x674)][_0x1577fc(0x551)](_0x204bea=>_0x204bea[_0x1577fc(0x36f)]===_0x1762a9['_id']);if(!_0x292fb2)break;if(this[_0x1577fc(0x245)][_0x1577fc(0x297)][_0x1577fc(0x40e)]=Date[_0x1577fc(0x117)](),_0x292fb2[_0x1577fc(0x202)]){this[_0x1577fc(0xfa)][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this['instance'][_0x1577fc(0x60f)]+_0x1577fc(0x636)+_0x292fb2[_0x1577fc(0x3f6)]+_0x1577fc(0x14f)),this[_0x1577fc(0x76d)]=this[_0x1577fc(0x76d)][_0x1577fc(0x1d9)](_0x24c9db=>_0x24c9db[_0x1577fc(0x36f)]!==_0x292fb2[_0x1577fc(0x36f)]);continue;}if(!this[_0x1577fc(0x245)][_0x1577fc(0x297)][_0x1577fc(0x6e0)]){this[_0x1577fc(0xfa)][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this[_0x1577fc(0x245)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x1577fc(0x245)][_0x1577fc(0x297)][_0x1577fc(0x483)]){this[_0x1577fc(0xfa)][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this[_0x1577fc(0x245)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xdbb5e3[_0x1577fc(0x36f)]+_0x1577fc(0x363));break;}let _0x3c2f5a={'idControl':_0x292fb2[_0x1577fc(0x36f)],'remoteJid':_0x292fb2['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x638d60=null;try{this['logger'][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this['instance'][_0x1577fc(0x60f)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x292fb2['remoteJid']);let _0x22d8b3=await this[_0x1577fc(0x2d9)](_0x292fb2[_0x1577fc(0x3f6)],_0x292fb2);_0x3c2f5a[_0x1577fc(0x1ca)]=_0x22d8b3[_0x1577fc(0x1ca)],_0x3c2f5a['id']=_0x22d8b3[_0x1577fc(0x1ca)]?null:_0x22d8b3['id'],_0x3c2f5a[_0x1577fc(0x219)]=_0x22d8b3[_0x1577fc(0x1ca)]?_0x22d8b3[_0x1577fc(0x5cf)]?_0x22d8b3['detail'][_0x1577fc(0x121)]():'':null;let _0x409175=_0xdbb5e3[_0x1577fc(0x674)][_0x1577fc(0x18c)](_0x2be5a6=>_0x2be5a6[_0x1577fc(0x36f)]===_0x292fb2['_id']);_0x409175!==-0x1&&(_0xdbb5e3[_0x1577fc(0x674)][_0x409175][_0x1577fc(0x202)]=!0x0);let _0x2b573b={'$push':{'messagesSend':_0x3c2f5a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xdcf4a5=[{'elem._id':_0x292fb2[_0x1577fc(0x36f)]}];if(this[_0x1577fc(0xfa)][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this['instance'][_0x1577fc(0x60f)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x292fb2['_id']),_0x638d60=await this[_0x1577fc(0x4f1)]['scheduleMessage'][_0x1577fc(0x57f)]({'_id':_0xdbb5e3[_0x1577fc(0x36f)]},_0x2b573b,this['instance']['wuid'],{'arrayFilters':_0xdcf4a5}),_0x22d8b3[_0x1577fc(0x1ca)]){this[_0x1577fc(0xfa)][_0x1577fc(0x1ca)](this[_0x1577fc(0x1a8)]+'\x20('+this[_0x1577fc(0x245)]['wuid']+_0x1577fc(0x770)+_0x22d8b3[_0x1577fc(0x5cf)]);continue;}let _0x1d2806=this[_0x1577fc(0x7ec)](_0xdbb5e3['delaySecMin'],_0xdbb5e3[_0x1577fc(0xdd)]);await this['sleep'](_0x1d2806);}catch(_0x44f62a){this[_0x1577fc(0xfa)][_0x1577fc(0x1ca)](this[_0x1577fc(0x1a8)]+'\x20('+this[_0x1577fc(0x245)][_0x1577fc(0x60f)]+_0x1577fc(0x2ba)+_0x292fb2[_0x1577fc(0x3f6)]+':\x20'+(_0x44f62a instanceof Error?_0x44f62a[_0x1577fc(0x3a7)]:JSON[_0x1577fc(0x1dc)](_0x44f62a,null,0x2))),_0x3c2f5a['error']=!0x0,_0x3c2f5a['error_log']=_0x44f62a[_0x1577fc(0x3a7)];let _0x5e929c=_0xdbb5e3[_0x1577fc(0x674)][_0x1577fc(0x18c)](_0x43433a=>_0x43433a[_0x1577fc(0x36f)]===_0x292fb2[_0x1577fc(0x36f)]);_0x5e929c!==-0x1&&(_0xdbb5e3[_0x1577fc(0x674)][_0x5e929c][_0x1577fc(0x202)]=!0x0);let _0x3bbf4a={'$push':{'messagesSend':_0x3c2f5a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x7091ee=[{'elem._id':_0x292fb2[_0x1577fc(0x36f)]}];this['logger'][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this['instance']['wuid']+_0x1577fc(0x5a0)+_0x292fb2[_0x1577fc(0x36f)]),_0x638d60=await this[_0x1577fc(0x4f1)][_0x1577fc(0x65d)][_0x1577fc(0x57f)]({'_id':_0xdbb5e3['_id']},_0x3bbf4a,this[_0x1577fc(0x245)]['wuid'],{'arrayFilters':_0x7091ee});}finally{if(_0x638d60&&_0x638d60[_0x1577fc(0x226)]===_0x1577fc(0x5d9)){this[_0x1577fc(0xfa)][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this['instance'][_0x1577fc(0x60f)]+_0x1577fc(0x269)+_0x292fb2[_0x1577fc(0x36f)]+_0x1577fc(0x80b));break;}let _0x35ebe2=_0x638d60[_0x1577fc(0x674)][_0x1577fc(0x551)](_0x316f41=>_0x316f41['_id']===_0x292fb2[_0x1577fc(0x36f)]);if(_0x35ebe2&&!_0x35ebe2['triedToSend']){let _0xb42078={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2e57a1=[{'elem._id':_0x292fb2[_0x1577fc(0x36f)]}];await this[_0x1577fc(0x4f1)][_0x1577fc(0x65d)][_0x1577fc(0x57f)]({'_id':_0x638d60[_0x1577fc(0x36f)]},_0xb42078,this['instance'][_0x1577fc(0x60f)],{'arrayFilters':_0x2e57a1});}if(this[_0x1577fc(0x76d)]=_0x638d60['messages'][_0x1577fc(0x1d9)](_0x4a9b39=>!_0x4a9b39['triedToSend']),_0x638d60[_0x1577fc(0x4b4)]!==this[_0x1577fc(0x4b4)]){await this['setRestartTimeout'](),this[_0x1577fc(0xfa)][_0x1577fc(0x4cd)](this[_0x1577fc(0x1a8)]+'\x20('+this[_0x1577fc(0x245)][_0x1577fc(0x60f)]+_0x1577fc(0x678));return;}this[_0x1577fc(0x245)][_0x1577fc(0x297)][_0x1577fc(0x483)]=_0x638d60;}}this['pendingMessages']=[];let _0x15b8f4=await this['repository'][_0x1577fc(0x65d)][_0x1577fc(0x314)](_0xdbb5e3[_0x1577fc(0x36f)],this[_0x1577fc(0x245)][_0x1577fc(0x60f)]);if(_0x15b8f4[_0x1577fc(0x674)][_0x1577fc(0x79f)](_0x57c697=>_0x57c697[_0x1577fc(0x202)])&&_0x15b8f4[_0x1577fc(0x226)]!=='stopped'){let _0x4f6559={'$set':{'status':'done'}};await this[_0x1577fc(0x4f1)][_0x1577fc(0x65d)]['updateOneById'](_0x15b8f4[_0x1577fc(0x36f)],_0x4f6559,this[_0x1577fc(0x245)]['wuid']);}await new Promise(_0x230b28=>setTimeout(_0x230b28,_0xabb3e)),this[_0x1577fc(0x4b4)]=null,global['gc']?global['gc']():console[_0x1577fc(0x4cd)](_0x1577fc(0x474));}}['getDelay'](_0x22c4b6,_0x59f3f1){return _0x22c4b6=Math['max'](0.5,_0x22c4b6),_0x59f3f1=Math['min'](Math['max'](0x3,_0x59f3f1),0x78),Math['floor'](Math['random']()*(_0x59f3f1-_0x22c4b6+0x1)+_0x22c4b6)*0x3e8;}[a0_0x3eb0d8(0x4ba)](_0x55d716){return new Promise(_0x4ea542=>setTimeout(_0x4ea542,_0x55d716));}async[a0_0x3eb0d8(0x799)](_0x2795cf){const _0x2a094d=a0_0x3eb0d8;if(!this[_0x2a094d(0x521)]&&(await this[_0x2a094d(0x25b)](),!this[_0x2a094d(0x521)]))return null;_0x2795cf=this['createJid'](_0x2795cf);let _0x3d4858=await this[_0x2a094d(0x4f1)][_0x2a094d(0x215)][_0x2a094d(0x657)]({'where':{'_id':_0x2795cf}},this[_0x2a094d(0x245)][_0x2a094d(0x60f)]),_0x12d7ab={};if(_0x3d4858&&_0x3d4858['leadInfo']){let _0x5dc597=_0x3d4858[_0x2a094d(0x594)];typeof _0x5dc597[_0x2a094d(0x724)]==_0x2a094d(0x129)&&(_0x12d7ab[_0x2a094d(0x724)]=_0x5dc597[_0x2a094d(0x724)]),typeof _0x5dc597[_0x2a094d(0x265)]==_0x2a094d(0x129)&&(_0x12d7ab[_0x2a094d(0x265)]=_0x5dc597[_0x2a094d(0x265)]),typeof _0x5dc597[_0x2a094d(0x47e)]=='string'&&(_0x12d7ab[_0x2a094d(0x47e)]=_0x5dc597[_0x2a094d(0x47e)]),typeof _0x5dc597['cpf']==_0x2a094d(0x129)&&(_0x12d7ab[_0x2a094d(0x42a)]=_0x5dc597[_0x2a094d(0x42a)]),typeof _0x5dc597[_0x2a094d(0x226)]==_0x2a094d(0x129)&&(_0x12d7ab[_0x2a094d(0x226)]=_0x5dc597[_0x2a094d(0x226)]),typeof _0x5dc597[_0x2a094d(0x62a)]==_0x2a094d(0x129)&&(_0x12d7ab[_0x2a094d(0x62a)]=_0x5dc597[_0x2a094d(0x62a)]),typeof _0x5dc597[_0x2a094d(0x64f)]=='string'&&(_0x12d7ab[_0x2a094d(0x64f)]=_0x5dc597[_0x2a094d(0x64f)]),Array[_0x2a094d(0x20f)](_0x5dc597[_0x2a094d(0x51e)])&&(_0x12d7ab[_0x2a094d(0x51e)]=_0x5dc597[_0x2a094d(0x51e)][_0x2a094d(0x633)](',\x20')),Array[_0x2a094d(0x20f)](_0x5dc597[_0x2a094d(0x60c)])&&(_0x12d7ab[_0x2a094d(0x60c)]=_0x5dc597[_0x2a094d(0x60c)][_0x2a094d(0x633)](',\x20'));}return _0x3d4858&&_0x3d4858[_0x2a094d(0x594)]&&_0x3d4858[_0x2a094d(0x594)][_0x2a094d(0x2bf)]&&_0x3d4858[_0x2a094d(0x594)]['customFields'][_0x2a094d(0x16b)](_0x1815bc=>{const _0x41204c=_0x2a094d;let _0x2705c4=this[_0x41204c(0x521)]?.[_0x41204c(0x2bf)][_0x41204c(0x551)](_0xa61a00=>_0xa61a00[_0x41204c(0x36f)]===_0x1815bc[_0x41204c(0x36f)]);_0x2705c4&&(_0x12d7ab[_0x2705c4[_0x41204c(0x21a)]]=_0x1815bc[_0x41204c(0x412)]);}),_0x12d7ab;}async['replaceVariablesChat'](_0x12b2e4,_0x18600c){const _0x49fdc0=a0_0x3eb0d8;try{let _0x26dade=await this[_0x49fdc0(0x799)](_0x18600c);return this[_0x49fdc0(0x11e)](_0x12b2e4,_0x26dade);}catch(_0x40e057){return this[_0x49fdc0(0xfa)][_0x49fdc0(0x1ca)](_0x49fdc0(0x550)+_0x18600c+':\x20'+_0x40e057),_0x12b2e4;}}async[a0_0x3eb0d8(0x41c)](){const _0x1d57be=a0_0x3eb0d8;let _0xccbff1=async(_0x2f02fa,_0x5b7c2e)=>{const _0x50ef88=a0_0x3e55;let _0x55baa2=(await this[_0x50ef88(0x4f1)][_0x50ef88(0x65d)]['find']({'where':{'type':_0x2f02fa}},this[_0x50ef88(0x245)][_0x50ef88(0x60f)]))[_0x50ef88(0x437)](async _0x5ca041=>{const _0x21665a=_0x50ef88;let _0x22965f=_0x5b7c2e(_0x5ca041),_0x576101=_0xb9509e=>/^\d+$/[_0x21665a(0x734)](_0xb9509e),_0x241239=_0x5ca041[_0x21665a(0x24e)]['filter'](_0x1f6417=>_0x1f6417['endsWith']('@s.whatsapp.net')?_0x1f6417['length']>0x19:_0x1f6417[_0x21665a(0x13d)]('@g.us')?_0x1f6417[_0x21665a(0x75f)]>0xf:_0x576101(_0x1f6417)?_0x1f6417[_0x21665a(0x75f)]>=0xb:!0x1)[_0x21665a(0x437)](_0x4df385=>({'_id':(0x0,H['v4'])(),'idSchedule':_0x5ca041[_0x21665a(0x36f)],'type':_0x22965f,'remoteJid':_0x4df385,'flow':_0x5ca041[_0x21665a(0x2c8)],'text':_0x5ca041[_0x21665a(0x3a7)]?.[_0x21665a(0x3ef)],'delay':_0x5ca041[_0x21665a(0x3a7)]?.[_0x21665a(0x7a2)],'urlOrBase64':_0x5ca041[_0x21665a(0x3a7)]?.['urlOrBase64'],'linkPreview':_0x5ca041[_0x21665a(0x3a7)]?.[_0x21665a(0x16a)],'fileName':_0x5ca041[_0x21665a(0x3a7)]?.[_0x21665a(0x6f7)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x21665a(0x4f1)]['scheduleMessage'][_0x21665a(0x4fb)](_0x5ca041['_id'],{'$set':{'messages':_0x241239},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x21665a(0x245)][_0x21665a(0x60f)]);}catch(_0x46f514){console[_0x21665a(0x1ca)](_0x21665a(0x689)+_0x5ca041[_0x21665a(0x36f)]+':',_0x46f514);}});await Promise['all'](_0x55baa2);};await _0xccbff1('text',_0x2fb322=>'text'),await _0xccbff1('media',_0x51644e=>_0x51644e[_0x1d57be(0x3a7)]?.[_0x1d57be(0x60a)]||_0x1d57be(0x6db)),await _0xccbff1('audio',_0x305459=>'audio'),await _0xccbff1(_0x1d57be(0x800),_0x198abc=>_0x1d57be(0x800)),await _0xccbff1('image',_0x5ee871=>_0x1d57be(0x1ff)),await _0xccbff1(_0x1d57be(0x5f6),_0x59c3a3=>_0x1d57be(0x5f6)),await _0xccbff1(_0x1d57be(0x140),_0x6b2747=>_0x1d57be(0x140)),this[_0x1d57be(0xfa)][_0x1d57be(0x4cd)](this[_0x1d57be(0x1a8)]+'\x20('+this['instance']['wuid']+_0x1d57be(0x756));}async['editScheduleMessage'](_0x58652d){const _0x270902=a0_0x3eb0d8;try{if(this[_0x270902(0xfa)][_0x270902(0x4cd)](this[_0x270902(0x1a8)]+'\x20('+this[_0x270902(0x245)][_0x270902(0x60f)]+_0x270902(0x31b)),_0x58652d[_0x270902(0x36f)]||(_0x58652d[_0x270902(0x36f)]=(0x0,H['v4'])()),this[_0x270902(0x245)]['ScheduleMessage'][_0x270902(0x483)]?.[_0x270902(0x36f)]===_0x58652d['_id']?.[_0x270902(0x121)]()){if(_0x58652d[_0x270902(0x226)]==='stopped')this[_0x270902(0x245)][_0x270902(0x297)][_0x270902(0x483)]=null;else throw new Error('Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.');}if(_0x58652d[_0x270902(0x10d)]&&_0x58652d[_0x270902(0x36f)]){let _0x9d355c=await this[_0x270902(0x4f1)][_0x270902(0x65d)][_0x270902(0x632)](_0x58652d['_id'],this['instance'][_0x270902(0x60f)]);return setTimeout(()=>this[_0x270902(0x3da)](),0x7d0),_0x9d355c;}let _0x152a6e=null;if(_0x58652d['_id']&&(_0x152a6e=await this[_0x270902(0x4f1)][_0x270902(0x65d)][_0x270902(0x314)](_0x58652d[_0x270902(0x36f)],this['instance'][_0x270902(0x60f)])),_0x152a6e){let {_id:_0x37f544,owner:_0x1b2121,messages:_0x333c7e,..._0x26da86}=_0x58652d;if(_0x333c7e){let _0x48c401=_0x333c7e[_0x270902(0x1d9)](_0x77cb40=>!_0x77cb40[_0x270902(0x36f)]),_0x30e0ca=_0x333c7e[_0x270902(0x1d9)](_0x322630=>_0x322630[_0x270902(0x36f)]&&!_0x322630[_0x270902(0x10d)]),_0x4116bb=_0x333c7e['filter'](_0xff4aad=>_0xff4aad[_0x270902(0x36f)]&&_0xff4aad[_0x270902(0x10d)]);if(_0x48c401['length']>0x0&&await this[_0x270902(0x760)](_0x58652d[_0x270902(0x36f)],_0x48c401),_0x30e0ca[_0x270902(0x75f)]>0x0&&await this[_0x270902(0x617)]({'_id':_0x58652d[_0x270902(0x36f)],'messages':_0x30e0ca}),_0x4116bb[_0x270902(0x75f)]>0x0){let _0x5af97e=_0x4116bb['map'](_0x543886=>({'updateOne':{'filter':{'_id':_0x58652d[_0x270902(0x36f)]},'update':{'$pull':{'messages':{'_id':_0x543886['_id']}}}}}));await this[_0x270902(0x4f1)][_0x270902(0x65d)][_0x270902(0x7e6)](_0x5af97e,this[_0x270902(0x245)]['wuid']);}}let _0x24a3e8={'$set':{..._0x26da86,'status':_0x58652d[_0x270902(0x226)]||_0x152a6e[_0x270902(0x226)]}},_0x3ef7b9=await this[_0x270902(0x4f1)]['scheduleMessage'][_0x270902(0x4fb)](_0x58652d[_0x270902(0x36f)],_0x24a3e8,this[_0x270902(0x245)]['wuid']);return _0x3ef7b9&&(this[_0x270902(0x3bb)](_0x3ef7b9[_0x270902(0x674)]),await this[_0x270902(0x4f1)]['scheduleMessage'][_0x270902(0x4fb)](_0x3ef7b9['_id'],{'$set':{'messages':_0x3ef7b9[_0x270902(0x674)]}},this[_0x270902(0x245)][_0x270902(0x60f)])),setTimeout(()=>this[_0x270902(0x3da)](),0x7d0),await this[_0x270902(0x41c)](),_0x3ef7b9;}else{_0x58652d[_0x270902(0x4d0)]=this[_0x270902(0x245)][_0x270902(0x60f)],_0x58652d['messages']&&_0x58652d[_0x270902(0x674)]['forEach'](_0x3be79a=>{const _0x49a52b=_0x270902;_0x3be79a[_0x49a52b(0x36f)]||(_0x3be79a[_0x49a52b(0x36f)]=(0x0,H['v4'])()),_0x3be79a[_0x49a52b(0x3d7)]||(_0x3be79a[_0x49a52b(0x3d7)]=_0x58652d[_0x49a52b(0x36f)]),delete _0x3be79a[_0x49a52b(0x202)];});let _0x84bcee=await this[_0x270902(0x4f1)][_0x270902(0x65d)][_0x270902(0x6b3)](_0x58652d,this[_0x270902(0x245)][_0x270902(0x60f)]);return _0x84bcee&&(this[_0x270902(0x3bb)](_0x84bcee[_0x270902(0x674)]),await this['repository']['scheduleMessage']['updateOneById'](_0x84bcee[_0x270902(0x36f)],{'$set':{'messages':_0x84bcee['messages']}},this['instance'][_0x270902(0x60f)])),setTimeout(()=>this[_0x270902(0x3da)](),0x7d0),_0x84bcee;}}catch(_0x58e4a5){let _0x26fb74=_0x270902(0x500),_0x6393a5=_0x58e4a5 instanceof Error?_0x58e4a5['message']:typeof _0x58e4a5==_0x270902(0x1a5)?JSON['stringify'](_0x58e4a5):_0x58e4a5,_0x1c831d=_0x26fb74+':\x20'+_0x6393a5;throw this[_0x270902(0xfa)]['error'](this['instanceName']+'\x20('+this[_0x270902(0x245)]['wuid']+'):\x20'+_0x1c831d),new m(_0x1c831d);}}async[a0_0x3eb0d8(0x760)](_0x4c9a42,_0xe84c52){const _0x72671a=a0_0x3eb0d8;try{this['logger']['verbose'](this[_0x72671a(0x1a8)]+'\x20('+this[_0x72671a(0x245)]['wuid']+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0xe84c52[_0x72671a(0x16b)](_0x730eac=>{const _0x341e1a=_0x72671a;_0x730eac['_id']||(_0x730eac[_0x341e1a(0x36f)]=(0x0,H['v4'])()),_0x730eac['idSchedule']||(_0x730eac[_0x341e1a(0x3d7)]=_0x4c9a42),delete _0x730eac[_0x341e1a(0x202)];});let _0x41c3a9={'$push':{'messages':{'$each':_0xe84c52}}},_0x2a5d0d=await this[_0x72671a(0x4f1)][_0x72671a(0x65d)]['updateOneById'](_0x4c9a42,_0x41c3a9,this[_0x72671a(0x245)][_0x72671a(0x60f)]);return _0x2a5d0d&&(this[_0x72671a(0x3bb)](_0x2a5d0d[_0x72671a(0x674)]),await this[_0x72671a(0x4f1)][_0x72671a(0x65d)][_0x72671a(0x4fb)](_0x2a5d0d[_0x72671a(0x36f)],{'$set':{'messages':_0x2a5d0d['messages']}},this['instance'][_0x72671a(0x60f)])),_0x2a5d0d;}catch(_0x1abc51){let _0xc38039=_0x72671a(0x71f),_0x170be9=_0x1abc51 instanceof Error?_0x1abc51[_0x72671a(0x3a7)]:typeof _0x1abc51==_0x72671a(0x1a5)?JSON[_0x72671a(0x1dc)](_0x1abc51):_0x1abc51,_0x16d910=_0xc38039+':\x20'+_0x170be9;throw this[_0x72671a(0xfa)][_0x72671a(0x1ca)](this[_0x72671a(0x1a8)]+'\x20('+this[_0x72671a(0x245)][_0x72671a(0x60f)]+_0x72671a(0x2fb)+_0x16d910),new m(_0x16d910);}}async[a0_0x3eb0d8(0x617)](_0x466399){const _0x4124cc=a0_0x3eb0d8;try{if(this[_0x4124cc(0xfa)]['verbose'](this[_0x4124cc(0x1a8)]+'\x20('+this[_0x4124cc(0x245)]['wuid']+_0x4124cc(0x6f6)),!_0x466399[_0x4124cc(0x36f)]||!_0x466399[_0x4124cc(0x674)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x1723d1=_0x466399[_0x4124cc(0x36f)],_0x97505f=_0x466399[_0x4124cc(0x674)],_0x32873f=_0x97505f[_0x4124cc(0x1d9)](_0x89f2d3=>!_0x89f2d3[_0x4124cc(0x10d)])['map'](_0x3700bd=>{const _0x20c599=_0x4124cc;let _0x2d8482=_0x3700bd[_0x20c599(0x36f)];if(!_0x2d8482)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x3700bd['idSchedule']||(_0x3700bd['idSchedule']=_0x1723d1),delete _0x3700bd[_0x20c599(0x202)],{'updateOne':{'filter':{'_id':_0x1723d1,'messages._id':_0x2d8482},'update':{'$set':{'messages.$[elem]':_0x3700bd}},'arrayFilters':[{'elem._id':_0x2d8482}]}};}),_0x1a7bf2=_0x97505f[_0x4124cc(0x1d9)](_0x527317=>_0x527317[_0x4124cc(0x10d)])['map'](_0x3ded80=>{const _0x562fe0=_0x4124cc;let _0x58eaef=_0x3ded80[_0x562fe0(0x36f)];if(!_0x58eaef)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x1723d1},'update':{'$pull':{'messages':{'_id':_0x58eaef}}}}};}),_0x30ef26=[..._0x32873f,..._0x1a7bf2],_0x5dbd03=await this[_0x4124cc(0x4f1)][_0x4124cc(0x65d)]['bulkWrite'](_0x30ef26,this['instance']['wuid']),_0x3fc1f9=await this[_0x4124cc(0x4f1)]['scheduleMessage']['findById'](_0x1723d1,this['instance'][_0x4124cc(0x60f)]);return _0x3fc1f9&&(this[_0x4124cc(0x3bb)](_0x3fc1f9[_0x4124cc(0x674)]),await this[_0x4124cc(0x4f1)][_0x4124cc(0x65d)][_0x4124cc(0x4fb)](_0x3fc1f9[_0x4124cc(0x36f)],{'$set':{'messages':_0x3fc1f9[_0x4124cc(0x674)]}},this[_0x4124cc(0x245)][_0x4124cc(0x60f)])),_0x3fc1f9;}catch(_0x5ca388){let _0x3d866f=_0x4124cc(0x10b),_0xfe1755=_0x5ca388 instanceof Error?_0x5ca388[_0x4124cc(0x3a7)]:typeof _0x5ca388==_0x4124cc(0x1a5)?JSON['stringify'](_0x5ca388):_0x5ca388,_0x403a63=_0x3d866f+':\x20'+_0xfe1755;throw this['logger']['error'](this[_0x4124cc(0x1a8)]+'\x20('+this[_0x4124cc(0x245)]['wuid']+_0x4124cc(0x2fb)+_0x403a63),new m(_0x403a63);}}async[a0_0x3eb0d8(0x615)](){const _0x9d361d=a0_0x3eb0d8;try{let _0x1c4f24={'status':'done'},_0x5ef78a=await this[_0x9d361d(0x4f1)][_0x9d361d(0x65d)]['deleteMany'](_0x1c4f24,this[_0x9d361d(0x245)][_0x9d361d(0x60f)]);if(!_0x5ef78a[_0x9d361d(0x1ca)])this[_0x9d361d(0xfa)][_0x9d361d(0x671)](this[_0x9d361d(0x1a8)]+'\x20('+this[_0x9d361d(0x245)][_0x9d361d(0x60f)]+_0x9d361d(0x4aa));else throw new Error(_0x5ef78a[_0x9d361d(0x1ca)][_0x9d361d(0x3a7)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x9d361d(0x256)]();}catch(_0x253717){let _0xddcb89='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x52da4c=_0x253717 instanceof Error?_0x253717[_0x9d361d(0x3a7)]:typeof _0x253717==_0x9d361d(0x1a5)?JSON[_0x9d361d(0x1dc)](_0x253717):_0x253717,_0x5557e0=_0xddcb89+':\x20'+_0x52da4c;throw this[_0x9d361d(0xfa)][_0x9d361d(0x1ca)](this[_0x9d361d(0x1a8)]+'\x20('+this['instance'][_0x9d361d(0x60f)]+'):\x20'+_0x5557e0),new m(_0x5557e0);}}async[a0_0x3eb0d8(0x256)](){const _0xb21757=a0_0x3eb0d8;try{return await this[_0xb21757(0x4f1)][_0xb21757(0x65d)]['find']({'where':{}},this[_0xb21757(0x245)]['wuid']);}catch(_0x2a2174){let _0x56f8bb=_0xb21757(0x7b0),_0x4683f5=_0x2a2174 instanceof Error?_0x2a2174['message']:typeof _0x2a2174==_0xb21757(0x1a5)?JSON[_0xb21757(0x1dc)](_0x2a2174):_0x2a2174,_0x250105=_0x56f8bb+':\x20'+_0x4683f5;throw this['logger'][_0xb21757(0x1ca)](this['instanceName']+'\x20('+this[_0xb21757(0x245)][_0xb21757(0x60f)]+_0xb21757(0x2fb)+_0x250105),new m(_0x250105);}}['reorderMessages'](_0x4bff81){const _0x5871a9=a0_0x3eb0d8;_0x4bff81[_0x5871a9(0x50e)]((_0x31638c,_0x310c9e)=>_0x31638c['order']-_0x310c9e[_0x5871a9(0x52e)]),_0x4bff81['forEach']((_0x53025d,_0x199d66)=>{const _0x364ca7=_0x5871a9;_0x53025d[_0x364ca7(0x52e)]=_0x199d66+0x1;});}async[a0_0x3eb0d8(0x2d9)](_0x47b27e,_0x593011){const _0xa81287=a0_0x3eb0d8;try{if(!_0x593011)return this[_0xa81287(0xfa)]['error'](this[_0xa81287(0x1a8)]+'\x20('+this['instance'][_0xa81287(0x60f)]+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0xa81287(0x578)};if(_0x593011[_0xa81287(0x1d5)]===_0xa81287(0x800)&&!this[_0xa81287(0x521)]?.[_0xa81287(0x137)][_0xa81287(0x676)])return this['logger'][_0xa81287(0x1ca)](this[_0xa81287(0x1a8)]+'\x20('+this[_0xa81287(0x245)][_0xa81287(0x60f)]+_0xa81287(0x742)),{'error':!0x0,'detail':_0xa81287(0x13e)};switch(_0x593011[_0xa81287(0x1d5)]){case _0xa81287(0x3ef):return await this[_0xa81287(0x189)](_0x593011,_0x47b27e);case _0xa81287(0x5f6):case _0xa81287(0x1ff):case _0xa81287(0x140):return await this[_0xa81287(0x642)](_0x593011,_0x47b27e);case _0xa81287(0x2db):return await this[_0xa81287(0x5e1)](_0x593011,_0x47b27e);case _0xa81287(0x800):let _0x4b9d68=new Be();return _0x4b9d68[_0xa81287(0x21a)]=_0x593011[_0xa81287(0x800)],_0x4b9d68['remoteJid']=_0x47b27e,await this[_0xa81287(0xee)](_0x4b9d68);default:return this['logger']['error'](this[_0xa81287(0x1a8)]+'\x20('+this[_0xa81287(0x245)][_0xa81287(0x60f)]+_0xa81287(0x7a1)+_0x593011['type']),{'error':!0x0,'detail':_0xa81287(0x557)};}}catch(_0x41d4bd){return this[_0xa81287(0xfa)][_0xa81287(0x1ca)](this[_0xa81287(0x1a8)]+'\x20('+this[_0xa81287(0x245)]['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x41d4bd instanceof Error?_0x41d4bd[_0xa81287(0x3a7)]:JSON[_0xa81287(0x1dc)](_0x41d4bd,null,0x2))),{'error':!0x0,'detail':_0x41d4bd[_0xa81287(0x3a7)]};}}async[a0_0x3eb0d8(0x189)](_0x3b9618,_0x31b012){const _0x5ab46f=a0_0x3eb0d8;if(this[_0x5ab46f(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x5ab46f(0x245)][_0x5ab46f(0x60f)]+_0x5ab46f(0x15c)+_0x31b012+'\x27'),!_0x3b9618[_0x5ab46f(0x3ef)]||_0x3b9618['text'][_0x5ab46f(0x75f)]===0x0)return{'error':!0x0,'detail':_0x5ab46f(0x4fd)};let _0x376ee8=await this[_0x5ab46f(0x69f)](_0x3b9618[_0x5ab46f(0x3ef)],_0x31b012),_0xeae416={'number':_0x31b012,'options':{'delay':_0x3b9618[_0x5ab46f(0x7a2)],'linkPreview':_0x3b9618[_0x5ab46f(0x16a)]},'textMessage':{'text':_0x376ee8}},_0x4b6f63=null;try{let _0x4778b4=await this[_0x5ab46f(0x257)](_0xeae416);if(_0x4778b4&&_0x4778b4[_0x5ab46f(0x226)])return{'error':!0x1,'id':_0x4778b4[_0x5ab46f(0x33c)]['id']};_0x4b6f63=JSON['stringify'](_0x4778b4),this[_0x5ab46f(0xfa)]['verbose'](this['instanceName']+'\x20('+this[_0x5ab46f(0x245)][_0x5ab46f(0x60f)]+_0x5ab46f(0x2fb)+_0x4b6f63);}catch(_0x209f30){this[_0x5ab46f(0xfa)]['error'](this[_0x5ab46f(0x1a8)]+'\x20('+this[_0x5ab46f(0x245)]['wuid']+_0x5ab46f(0x69e)+(_0x209f30 instanceof Error?_0x209f30['message']:JSON[_0x5ab46f(0x1dc)](_0x209f30,null,0x2))),_0x4b6f63=_0x209f30['message'];}if(_0x4b6f63)return{'error':!0x0,'detail':(typeof _0x4b6f63=='object'?JSON['stringify'](_0x4b6f63,null,0x2):_0x4b6f63)[_0x5ab46f(0x67e)](/[\[\]{}\n]/g,'\x20')[_0x5ab46f(0x67e)](/  +/g,'\x20')};}async[a0_0x3eb0d8(0x642)](_0x152f7d,_0x2b3245){const _0x11642b=a0_0x3eb0d8;this['logger'][_0x11642b(0x671)](this[_0x11642b(0x1a8)]+'\x20('+this[_0x11642b(0x245)]['wuid']+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x2b3245+'\x27');let _0x36c08c;_0x152f7d[_0x11642b(0x3ef)]&&_0x152f7d[_0x11642b(0x3ef)][_0x11642b(0x75f)]>0x0&&(_0x36c08c=await this['replaceVariablesChat'](_0x152f7d[_0x11642b(0x3ef)],_0x2b3245));let _0x1fbb23={'number':_0x2b3245,'options':{'delay':_0x152f7d[_0x11642b(0x7a2)],'linkPreview':_0x152f7d['linkPreview']},'mediaMessage':{'mediatype':_0x152f7d['type'],'caption':_0x36c08c,'media':_0x152f7d[_0x11642b(0x12d)]}},_0x1251be=null;try{let _0x5b0292=await this[_0x11642b(0x21f)](_0x1fbb23);if(_0x5b0292&&_0x5b0292[_0x11642b(0x226)])return{'error':!0x1,'id':_0x5b0292[_0x11642b(0x33c)]['id']};_0x1251be=JSON[_0x11642b(0x1dc)](_0x5b0292),this['logger'][_0x11642b(0x671)](this['instanceName']+'\x20('+this[_0x11642b(0x245)][_0x11642b(0x60f)]+_0x11642b(0x2fb)+_0x1251be);}catch(_0x284b2a){this['logger'][_0x11642b(0x1ca)](this[_0x11642b(0x1a8)]+'\x20('+this[_0x11642b(0x245)]['wuid']+_0x11642b(0x2ef)+(_0x284b2a instanceof Error?_0x284b2a[_0x11642b(0x3a7)]:JSON[_0x11642b(0x1dc)](_0x284b2a,null,0x2))),_0x1251be=_0x284b2a[_0x11642b(0x3a7)];}if(_0x1251be)return{'error':!0x0,'detail':(typeof _0x1251be==_0x11642b(0x1a5)?JSON[_0x11642b(0x1dc)](_0x1251be,null,0x2):_0x1251be)[_0x11642b(0x67e)](/[\[\]{}\n]/g,'\x20')[_0x11642b(0x67e)](/  +/g,'\x20')};}async[a0_0x3eb0d8(0x5e1)](_0x6b9c85,_0x509e64){const _0x484f05=a0_0x3eb0d8;this[_0x484f05(0xfa)][_0x484f05(0x671)](this[_0x484f05(0x1a8)]+'\x20('+this['instance']['wuid']+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x509e64+'\x27');let _0x5929dd={'number':_0x509e64,'options':{'delay':_0x6b9c85['delay']},'audioMessage':{'audio':_0x6b9c85[_0x484f05(0x12d)]}},_0x5830f0=null;try{let _0x38e268=await this['audioWhatsapp'](_0x5929dd);if(_0x38e268&&_0x38e268[_0x484f05(0x226)])return{'error':!0x1,'id':_0x38e268[_0x484f05(0x33c)]['id']};_0x5830f0=JSON[_0x484f05(0x1dc)](_0x38e268),this[_0x484f05(0xfa)][_0x484f05(0x671)](this[_0x484f05(0x1a8)]+'\x20('+this['instance'][_0x484f05(0x60f)]+_0x484f05(0x2fb)+_0x5830f0);}catch(_0x69b1f4){this[_0x484f05(0xfa)]['error'](this[_0x484f05(0x1a8)]+'\x20('+this[_0x484f05(0x245)][_0x484f05(0x60f)]+_0x484f05(0x2cb)+(_0x69b1f4 instanceof Error?_0x69b1f4[_0x484f05(0x3a7)]:JSON[_0x484f05(0x1dc)](_0x69b1f4,null,0x2))),_0x5830f0=_0x69b1f4[_0x484f05(0x3a7)];}if(_0x5830f0)return{'error':!0x0,'detail':(typeof _0x5830f0==_0x484f05(0x1a5)?JSON[_0x484f05(0x1dc)](_0x5830f0,null,0x2):_0x5830f0)['replace'](/[\[\]{}\n]/g,'\x20')[_0x484f05(0x67e)](/  +/g,'\x20')};}async[a0_0x3eb0d8(0x4f6)](_0x40cb03){const _0x15aa04=a0_0x3eb0d8;try{return await this[_0x15aa04(0x1d3)][_0x15aa04(0x35f)](_0x40cb03[_0x15aa04(0x1fd)],_0x40cb03['description']),{'update':_0x15aa04(0x606)};}catch(_0x9ee863){let _0x4584a1=_0x15aa04(0x48c),_0x150686=_0x9ee863 instanceof Error?_0x9ee863[_0x15aa04(0x3a7)]:typeof _0x9ee863==_0x15aa04(0x1a5)?JSON[_0x15aa04(0x1dc)](_0x9ee863):_0x9ee863,_0x1461a8=_0x4584a1+':\x20'+_0x150686;throw this[_0x15aa04(0xfa)][_0x15aa04(0x1ca)](this[_0x15aa04(0x1a8)]+'\x20('+this[_0x15aa04(0x245)][_0x15aa04(0x60f)]+_0x15aa04(0x2fb)+_0x1461a8),new x(_0x1461a8);}}async[a0_0x3eb0d8(0x1b5)](_0x2ea0a5){const _0x1bec99=a0_0x3eb0d8;try{return await this[_0x1bec99(0x1d3)][_0x1bec99(0x4b1)](_0x2ea0a5[_0x1bec99(0x1fd)],_0x2ea0a5[_0x1bec99(0x21a)]),{'update':_0x1bec99(0x606)};}catch(_0xd00deb){let _0x3addbb=_0x1bec99(0x39d),_0x13bbce=_0xd00deb instanceof Error?_0xd00deb[_0x1bec99(0x3a7)]:typeof _0xd00deb==_0x1bec99(0x1a5)?JSON['stringify'](_0xd00deb):_0xd00deb,_0x59d83d=_0x3addbb+':\x20'+_0x13bbce;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1bec99(0x245)][_0x1bec99(0x60f)]+'):\x20'+_0x59d83d),new x(_0x59d83d);}}async['toggleEphemeral'](_0x5d61e6){const _0x12a860=a0_0x3eb0d8;try{let _0x2cc583=await this[_0x12a860(0x1d3)][_0x12a860(0x581)](_0x5d61e6[_0x12a860(0x1fd)],_0x5d61e6[_0x12a860(0x3cd)]);return{'success':!0x0};}catch(_0x4825d9){let _0x1822a5=_0x12a860(0x75e),_0x3461ff=_0x4825d9 instanceof Error?_0x4825d9[_0x12a860(0x3a7)]:typeof _0x4825d9=='object'?JSON['stringify'](_0x4825d9):_0x4825d9,_0x4382e6=_0x1822a5+':\x20'+_0x3461ff;throw this[_0x12a860(0xfa)]['error'](this['instanceName']+'\x20('+this['instance'][_0x12a860(0x60f)]+_0x12a860(0x2fb)+_0x4382e6),new x(_0x4382e6);}}async[a0_0x3eb0d8(0x566)](_0xd38745){const _0x53a2c0=a0_0x3eb0d8;try{return await this[_0x53a2c0(0x1d3)][_0x53a2c0(0x1f6)](_0xd38745['groupJid'],_0xd38745['setting']),{'update':_0x53a2c0(0x606)};}catch(_0x30178e){let _0x6c2033=_0x53a2c0(0x3c6),_0x500998=_0x30178e instanceof Error?_0x30178e[_0x53a2c0(0x3a7)]:typeof _0x30178e==_0x53a2c0(0x1a5)?JSON[_0x53a2c0(0x1dc)](_0x30178e):_0x30178e,_0x48467c=_0x6c2033+':\x20'+_0x500998;throw this['logger'][_0x53a2c0(0x1ca)](this[_0x53a2c0(0x1a8)]+'\x20('+this['instance']['wuid']+_0x53a2c0(0x2fb)+_0x48467c),new x(_0x48467c);}}async['updateGroupPicture'](_0x48298d){const _0x4cde6e=a0_0x3eb0d8;try{let _0x1416ab;if((0x0,k['isURL'])(_0x48298d[_0x4cde6e(0x1ff)])){let _0x5e99d2=new Date()['getTime'](),_0x2b1cbd=_0x48298d[_0x4cde6e(0x1ff)]+_0x4cde6e(0x3ba)+_0x5e99d2;_0x1416ab=(await X['default']['get'](_0x2b1cbd,{'responseType':'arraybuffer'}))[_0x4cde6e(0x2a1)];}else{if((0x0,k[_0x4cde6e(0x4f9)])(_0x48298d[_0x4cde6e(0x1ff)]))_0x1416ab=Buffer['from'](_0x48298d[_0x4cde6e(0x1ff)],'base64');else throw new m(_0x4cde6e(0x6b9));}return await this['client']['updateProfilePicture'](_0x48298d[_0x4cde6e(0x1fd)],_0x1416ab),{'update':'success'};}catch(_0x7ba5b4){let _0x1f1c26='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x437bc0=_0x7ba5b4 instanceof Error?_0x7ba5b4['message']:typeof _0x7ba5b4==_0x4cde6e(0x1a5)?JSON[_0x4cde6e(0x1dc)](_0x7ba5b4):_0x7ba5b4,_0x98dad0=_0x1f1c26+':\x20'+_0x437bc0;throw this[_0x4cde6e(0xfa)][_0x4cde6e(0x1ca)](this[_0x4cde6e(0x1a8)]+'\x20('+this[_0x4cde6e(0x245)][_0x4cde6e(0x60f)]+_0x4cde6e(0x2fb)+_0x98dad0),new x(_0x98dad0);}}},Jt=class u{constructor(_0x383f93,_0x48d468,_0x20324f){const _0xa59d8b=a0_0x3eb0d8;this[_0xa59d8b(0x697)]=_0x383f93,this['configService']=_0x48d468,this['repository']=_0x20324f,this['db']={},this[_0xa59d8b(0x1d2)]={},this[_0xa59d8b(0xfa)]=new $(u[_0xa59d8b(0x21a)]),this[_0xa59d8b(0x4b8)]={},(this['removeInstance'](),this[_0xa59d8b(0x1dd)](),Object[_0xa59d8b(0x18a)](this['db'],_0x48d468['get']('DATABASE')),Object['assign'](this['redis'],_0x48d468[_0xa59d8b(0x439)]('REDIS')),this[_0xa59d8b(0x242)]=this['db'][_0xa59d8b(0x4c9)]?this[_0xa59d8b(0x4f1)][_0xa59d8b(0x388)]?.['db'](this['db'][_0xa59d8b(0x6cf)]['DB_PREFIX_NAME']+_0xa59d8b(0x1ab)):void 0x0,this[_0xa59d8b(0x490)]=this[_0xa59d8b(0x1d2)]['ENABLED']?new de(this[_0xa59d8b(0x1d2)]):void 0x0);}async['instanceInfo'](_0x275a21){const _0x2bf8ef=a0_0x3eb0d8;if(_0x275a21&&!this['waInstances'][_0x275a21])throw new j(_0x2bf8ef(0x131)+_0x275a21+_0x2bf8ef(0x25c));let _0x1e0755=[];for await(let [_0x1a27dd,_0x43aa91]of Object[_0x2bf8ef(0x565)](this[_0x2bf8ef(0x4b8)]))if(_0x43aa91&&_0x43aa91[_0x2bf8ef(0x223)]['state']===_0x2bf8ef(0x156)){let _0x17996e=await this[_0x2bf8ef(0x4f1)][_0x2bf8ef(0x61b)][_0x2bf8ef(0x551)](_0x1a27dd);_0x1e0755['push']({'instance':{'instanceName':_0x1a27dd,'apikey':_0x17996e[_0x2bf8ef(0x6a8)],'owner':_0x43aa91[_0x2bf8ef(0x60f)],'profileName':await _0x43aa91[_0x2bf8ef(0x14a)]()||_0x2bf8ef(0x543),'profilePictureUrl':_0x43aa91['profilePictureUrl']}});}return _0x1e0755[_0x2bf8ef(0x551)](_0xed4932=>_0xed4932[_0x2bf8ef(0x245)][_0x2bf8ef(0x1a8)]===_0x275a21)??_0x1e0755;}async[a0_0x3eb0d8(0x402)](_0x257989){const _0x152b6d=a0_0x3eb0d8;if(this['db'][_0x152b6d(0x4c9)]&&(await this[_0x152b6d(0x4f1)][_0x152b6d(0x388)][_0x152b6d(0x323)](),(await this['dbInstance'][_0x152b6d(0x1e5)]())[_0x152b6d(0x75f)]>0x0&&await this[_0x152b6d(0x242)][_0x152b6d(0x3a0)](_0x257989)),this[_0x152b6d(0x1d2)][_0x152b6d(0x4c9)]){this[_0x152b6d(0x490)][_0x152b6d(0x12b)]=_0x257989,await this[_0x152b6d(0x490)][_0x152b6d(0x389)]();return;}}async[a0_0x3eb0d8(0x4d1)](){const _0x1fb9c5=a0_0x3eb0d8;await this[_0x1fb9c5(0x124)]();let _0x1a97b4=async _0x9661ff=>{const _0x3012e0=_0x1fb9c5;let _0x1fb18a=new Ne(this[_0x3012e0(0x801)],this[_0x3012e0(0x697)],this[_0x3012e0(0x4f1)]);_0x1fb18a[_0x3012e0(0x1a8)]=_0x9661ff,await _0x1fb18a[_0x3012e0(0xde)](),this[_0x3012e0(0x4b8)][_0x9661ff]=_0x1fb18a;};try{if(this[_0x1fb9c5(0x1d2)][_0x1fb9c5(0x4c9)]){let _0x1b497d=await this[_0x1fb9c5(0x490)][_0x1fb9c5(0x564)]();_0x1b497d?.[_0x1fb9c5(0x75f)]>0x0&&_0x1b497d[_0x1fb9c5(0x16b)](async _0xb7a887=>await _0x1a97b4(_0xb7a887[_0x1fb9c5(0x766)](':')[0x1]));return;}if(this['db'][_0x1fb9c5(0x4c9)]){await this['repository'][_0x1fb9c5(0x388)][_0x1fb9c5(0x323)]();let _0x43acd8=await this[_0x1fb9c5(0x242)][_0x1fb9c5(0x1e5)]();_0x43acd8[_0x1fb9c5(0x75f)]>0x0&&_0x43acd8[_0x1fb9c5(0x16b)](async _0x249e64=>await _0x1a97b4(_0x249e64['namespace'][_0x1fb9c5(0x67e)](/^[\w-]+\./,'')));return;}}catch(_0x222b6f){this[_0x1fb9c5(0xfa)]['error'](_0x222b6f);}}async[a0_0x3eb0d8(0x371)](){const _0x29bff0=a0_0x3eb0d8;try{let _0x1dfe0e=await this[_0x29bff0(0x4f1)][_0x29bff0(0x61b)][_0x29bff0(0x1c6)]({'online':!0x1});for(let _0xf79957 of _0x1dfe0e){let _0x2b1cc5=_0xf79957[_0x29bff0(0x36f)];await ae[_0x29bff0(0x62c)](W,_0x2b1cc5);}console[_0x29bff0(0x2b5)](_0x29bff0(0x37a)+_0x1dfe0e[_0x29bff0(0x75f)]);let _0x30bb32={'online':!0x1},_0xce0b91=await this[_0x29bff0(0x4f1)][_0x29bff0(0x61b)][_0x29bff0(0x3ff)](_0x30bb32);console[_0x29bff0(0x2b5)](_0x29bff0(0x282)+_0xce0b91[_0x29bff0(0x3f5)]);}catch(_0x52031e){console[_0x29bff0(0x1ca)](_0x29bff0(0x3ea),_0x52031e);}}async[a0_0x3eb0d8(0x124)](){const _0x47ab9d=a0_0x3eb0d8;try{let _0x356e97={'online':!0x1},_0x3b2b19={'online':!0x1,'lastDisconnect':Date[_0x47ab9d(0x117)]()},_0x2649ba=await this['repository'][_0x47ab9d(0x61b)][_0x47ab9d(0x39c)](_0x356e97,_0x3b2b19);await this[_0x47ab9d(0x371)]();}catch(_0xa88bc1){console[_0x47ab9d(0x1ca)](_0x47ab9d(0x155),_0xa88bc1);}}[a0_0x3eb0d8(0x629)](){const _0x280891=a0_0x3eb0d8;this[_0x280891(0x697)]['on'](_0x280891(0x480),async _0x5c32c8=>{const _0x4e1276=_0x280891;try{this[_0x4e1276(0x4b8)][_0x5c32c8]=void 0x0;}catch{}try{this['cleaningUp'](_0x5c32c8);}finally{this[_0x4e1276(0xfa)]['warn'](_0x4e1276(0x131)+_0x5c32c8+_0x4e1276(0x288));}});}[a0_0x3eb0d8(0x1dd)](){const _0x41e477=a0_0x3eb0d8;this[_0x41e477(0x697)]['on'](_0x41e477(0x739),async _0x927553=>{const _0x4aaeae=_0x41e477;try{this[_0x4aaeae(0x4b8)][_0x927553]=void 0x0;}catch{}try{this[_0x4aaeae(0x402)](_0x927553);}finally{this[_0x4aaeae(0xfa)][_0x4aaeae(0x4cd)]('Instance\x20\x22'+_0x927553+_0x4aaeae(0x6c7));}});}},qt=class extends _{[a0_0x3eb0d8(0x23c)](_0x4dd103){return Zs(_0x4dd103);}async[a0_0x3eb0d8(0x763)](_0x25c156){const _0x8a4542=a0_0x3eb0d8;if(_0x25c156[_0x8a4542(0x75f)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x25c156[0x0][_0x8a4542(0x4d0)])['insertMany']([..._0x25c156]))[_0x8a4542(0x75f)]};}catch(_0x131a0d){return _0x131a0d;}}async['find'](_0x285bca,_0x34c0b3){const _0x552259=a0_0x3eb0d8;try{let _0x38c5de=this[_0x552259(0x23c)](_0x34c0b3),_0x4cf23b=A(_0x285bca[_0x552259(0x3aa)]);return await _0x38c5de[_0x552259(0x551)](_0x4cf23b)['sort']({'lastmsg':-0x1})['limit'](_0x285bca?.[_0x552259(0x6e9)]??0x0)[_0x552259(0x80a)]();}catch{return[];}}async[a0_0x3eb0d8(0x133)](_0x13f4e2,_0x5515d5){const _0x1e09db=a0_0x3eb0d8;try{let _0x12dcea=this[_0x1e09db(0x23c)](_0x5515d5),_0x1a06b6=A(_0x13f4e2[_0x1e09db(0x3aa)]);return _0x1a06b6[_0x1e09db(0x60b)]={'$ne':[]},await _0x12dcea['find'](_0x1a06b6)['sort']({'lastmsg':-0x1})[_0x1e09db(0x6e9)](_0x13f4e2?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x3eb0d8(0x10d)](_0x29a1fe,_0x521928){const _0x220398=a0_0x3eb0d8;try{return{'deletedCount':(await this[_0x220398(0x23c)](_0x521928)[_0x220398(0x3ff)]({..._0x29a1fe[_0x220398(0x3aa)]}))[_0x220398(0x69c)]};}catch(_0x93245d){return{'error':_0x93245d?.[_0x220398(0x121)]()};}}async[a0_0x3eb0d8(0x68f)](_0x3bed74,_0x351f4f){const _0x10b97c=a0_0x3eb0d8;try{return await this[_0x10b97c(0x23c)](_0x351f4f)['deleteMany']({..._0x3bed74[_0x10b97c(0x3aa)]}),[];}catch(_0x1f9a9a){return{'error':_0x1f9a9a?.[_0x10b97c(0x121)]()};}}async[a0_0x3eb0d8(0x657)](_0x2abd91,_0x54803b){const _0x1af7a7=a0_0x3eb0d8;try{let _0x400c58=this[_0x1af7a7(0x23c)](_0x54803b),_0x23b116=A(_0x2abd91['where']);return await _0x400c58[_0x1af7a7(0x657)](_0x23b116)[_0x1af7a7(0x80a)]();}catch{return null;}}async['updateOne'](_0x3966c0,_0x2d5559,_0x437d8f,_0x179090,_0x423d1f=a0_0x3eb0d8(0x373)){const _0x2bd57e=a0_0x3eb0d8;try{let _0x51e3d9={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x179090},_0x15289d=this[_0x2bd57e(0x23c)](_0x437d8f),_0x4b930d=A(_0x3966c0[_0x2bd57e(0x3aa)]);Object[_0x2bd57e(0x130)](_0x2d5559)['forEach'](_0x300a23=>{_0x2d5559[_0x300a23]==null&&delete _0x2d5559[_0x300a23];});let _0x4dbe3a={};return _0x4dbe3a[_0x423d1f]=_0x2d5559,await _0x15289d[_0x2bd57e(0x553)](_0x4b930d,_0x4dbe3a,_0x51e3d9);}catch(_0x5e2615){return console[_0x2bd57e(0x1ca)](_0x5e2615),null;}}async['updateMany'](_0x2a934e){const _0xcf3057=a0_0x3eb0d8;try{let _0x531248=this['getChatModelForOwner'](_0x2a934e[0x0][_0xcf3057(0x4e1)][_0xcf3057(0x3aa)]['owner']),_0xe12801=_0x2a934e[_0xcf3057(0x437)](_0x296039=>({'updateOne':{'filter':{..._0x296039[_0xcf3057(0x4e1)][_0xcf3057(0x3aa)]},'update':{'$set':_0x296039[_0xcf3057(0x670)]},'upsert':!0x0}})),_0x4fd087=await _0x531248[_0xcf3057(0x7e6)](_0xe12801);return _0x4fd087[_0xcf3057(0x2d7)]+_0x4fd087[_0xcf3057(0x30c)];}catch(_0x95dfd9){return console['error'](_0x95dfd9),0x0;}}async[a0_0x3eb0d8(0x35c)](_0x50c3f2){const _0x15bbf1=a0_0x3eb0d8;try{let _0x5751c7={'group_isCommunity':'','group_announce':'','group_size':''},_0x1c9a67={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x5e6aa4={'$unset':_0x5751c7};return(await this[_0x15bbf1(0x23c)](_0x50c3f2)[_0x15bbf1(0x5f4)](_0x1c9a67,_0x5e6aa4))[_0x15bbf1(0x2d7)];}catch(_0x8829e8){return console[_0x15bbf1(0x1ca)](_0x15bbf1(0x148),_0x8829e8),0x0;}}async[a0_0x3eb0d8(0x537)](_0xacdeb4){const _0x2f5f82=a0_0x3eb0d8;try{let _0x23fca0=this[_0x2f5f82(0x23c)](_0xacdeb4),_0x425c91={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5c0a86={'$set':{'leadInfo.etiquetas':[]}};return(await _0x23fca0[_0x2f5f82(0x5f4)](_0x425c91,_0x5c0a86))[_0x2f5f82(0x2d7)];}catch(_0x1d0ba3){return console[_0x2f5f82(0x1ca)](_0x1d0ba3),0x0;}}async[a0_0x3eb0d8(0x803)](_0x20b60b){const _0x2fc22c=a0_0x3eb0d8;try{let _0x2dd574=this[_0x2fc22c(0x23c)](_0x20b60b),_0x3806d6={'leadInfo.tags':{'$exists':!0x1}},_0x10ee6e={'$set':{'leadInfo.tags':[]}};return(await _0x2dd574[_0x2fc22c(0x5f4)](_0x3806d6,_0x10ee6e))[_0x2fc22c(0x2d7)];}catch(_0x143caa){return console[_0x2fc22c(0x1ca)](_0x143caa),0x0;}}async['updateMissingCustomFields'](_0x1c906d){const _0x411b07=a0_0x3eb0d8;try{let _0x44d29e=this[_0x411b07(0x23c)](_0x1c906d),_0x142b3f={'leadInfo.customFields':{'$exists':!0x1}},_0x513953={'$set':{'leadInfo.customFields':[]}};return(await _0x44d29e[_0x411b07(0x5f4)](_0x142b3f,_0x513953))[_0x411b07(0x2d7)];}catch(_0x1a98ad){return console[_0x411b07(0x1ca)](_0x1a98ad),0x0;}}async[a0_0x3eb0d8(0x76b)](_0x429ed6,_0x4ce356){const _0x3982d6=a0_0x3eb0d8;if(!Array[_0x3982d6(0x20f)](_0x429ed6)||_0x429ed6[_0x3982d6(0x75f)]===0x0)throw new Error(_0x3982d6(0x7f1));try{return(await this[_0x3982d6(0x23c)](_0x4ce356)[_0x3982d6(0x76b)](_0x429ed6))['length'];}catch(_0x529bfc){throw console[_0x3982d6(0x1ca)](_0x3982d6(0x372),_0x529bfc),_0x529bfc;}}async[a0_0x3eb0d8(0x7f8)](_0x18ae41,_0x3eaa49){const _0x5cf41b=a0_0x3eb0d8;try{await this[_0x5cf41b(0x23c)](_0x3eaa49)[_0x5cf41b(0x632)]({'_id':_0x18ae41});}catch(_0x31e2dc){throw console[_0x5cf41b(0x1ca)](_0x5cf41b(0x7f3),_0x31e2dc),_0x31e2dc;}}},Vt=class extends _{constructor(_0x262129,_0x2dee8b,_0xbd7444){const _0x55e3b2=a0_0x3eb0d8;super(_0x2dee8b),this['cacheContactModel']=_0x262129,this['configService']=_0x2dee8b,this[_0x55e3b2(0x100)]=_0xbd7444;}async[a0_0x3eb0d8(0x763)](_0x4a4b07){const _0x34095f=a0_0x3eb0d8;if(_0x4a4b07['length']!==0x0)try{return{'insertCount':(await this[_0x34095f(0x278)][_0x34095f(0x76b)]([..._0x4a4b07]))['length']};}catch(_0x258730){return _0x258730;}}async[a0_0x3eb0d8(0x670)](_0x532684,_0x2f8e6e){const _0x13e9d5=a0_0x3eb0d8;try{let _0x2fea59=A(_0x532684[_0x13e9d5(0x3aa)]);return{'updatedCount':(await this[_0x13e9d5(0x278)][_0x13e9d5(0x5f4)](_0x2fea59,{'$set':_0x2f8e6e}))[_0x13e9d5(0x2d7)]};}catch(_0x2364bd){return console['error'](_0x13e9d5(0x563),_0x2364bd),{'error':_0x2364bd[_0x13e9d5(0x121)]()};}}async[a0_0x3eb0d8(0x3c8)](_0x39dd0d){const _0x2ad765=a0_0x3eb0d8;try{let _0x5effb5={'_id':{'$in':_0x39dd0d}};return await this['cacheContactModel'][_0x2ad765(0x551)](_0x5effb5)[_0x2ad765(0x80a)]();}catch(_0x40ea0f){return console[_0x2ad765(0x1ca)](_0x2ad765(0x409),_0x40ea0f),[];}}async['delete'](_0xdceb9f){const _0x5edf1b=a0_0x3eb0d8;try{return{'deletedCount':(await this[_0x5edf1b(0x278)][_0x5edf1b(0x3ff)]({..._0xdceb9f['where']}))[_0x5edf1b(0x69c)]};}catch(_0x54f877){return{'error':_0x54f877?.[_0x5edf1b(0x121)]()};}}async['find'](_0x4f15a3){const _0x478019=a0_0x3eb0d8;try{let _0x56d6ee=A(_0x4f15a3['where']);return await this['cacheContactModel'][_0x478019(0x551)](_0x56d6ee)[_0x478019(0x6e9)](_0x4f15a3?.[_0x478019(0x6e9)]??0x0)[_0x478019(0x80a)]();}catch{return[];}}async[a0_0x3eb0d8(0x657)](_0x423bc6){const _0xa08634=a0_0x3eb0d8;try{let _0x58ff6a=A(_0x423bc6['where']);return await this[_0xa08634(0x278)][_0xa08634(0x657)](_0x58ff6a)[_0xa08634(0x80a)]();}catch{return null;}}},Gt=class extends _{['getLabelModelForOwner'](_0x4a72a5){return Ma(_0x4a72a5);}async[a0_0x3eb0d8(0x57f)](_0x186ab3,_0x5164b7,_0x2e0ace,_0x4f3af5){const _0x2fd190=a0_0x3eb0d8;try{let _0x1b0a6f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4f3af5},_0x1ce629=this[_0x2fd190(0x6a7)](_0x2e0ace),_0x2e7942=A(_0x186ab3[_0x2fd190(0x3aa)]);return await _0x1ce629[_0x2fd190(0x553)](_0x2e7942,{'$set':_0x5164b7},_0x1b0a6f);}catch(_0x570941){return console[_0x2fd190(0x1ca)](_0x570941),null;}}async['find'](_0x5b0f28,_0x4077dc){const _0x2a3c9f=a0_0x3eb0d8;try{let _0x4f196a=this[_0x2a3c9f(0x6a7)](_0x4077dc),_0x44df26=A(_0x5b0f28[_0x2a3c9f(0x3aa)]);return await _0x4f196a[_0x2a3c9f(0x551)](_0x44df26);}catch(_0x535ecc){console[_0x2a3c9f(0x1ca)](_0x535ecc);}}async[a0_0x3eb0d8(0x10d)](_0x3d45ba,_0x4db561){const _0x2c92bc=a0_0x3eb0d8;try{let _0x1bf332=this['getLabelModelForOwner'](_0x4db561),_0x32db63=A(_0x3d45ba[_0x2c92bc(0x3aa)]);await _0x1bf332['deleteMany'](_0x32db63);}catch(_0x2ec222){console['error'](_0x2ec222);}}async[a0_0x3eb0d8(0x68f)](_0x33012e){const _0x516314=a0_0x3eb0d8;try{return await this[_0x516314(0x6a7)](_0x33012e)['collection'][_0x516314(0x78c)](),{'success':!0x0};}catch(_0xb1adc){return console[_0x516314(0x1ca)](_0xb1adc),{'success':!0x1,'error':_0xb1adc};}}},Bt=class{constructor(_0x591b5c){const _0x23f5d2=a0_0x3eb0d8;this[_0x23f5d2(0x5dc)]=_0x591b5c;}async[a0_0x3eb0d8(0x730)]({instanceName:_0xb59c4a},_0x1d846a){const _0x5ec80d=a0_0x3eb0d8;return await this[_0x5ec80d(0x5dc)][_0x5ec80d(0x4b8)][_0xb59c4a][_0x5ec80d(0x730)](_0x1d846a);}async['whatsappNumber']({instanceName:_0x27596a},_0x4eb2af){const _0xa8f7ed=a0_0x3eb0d8;return await this[_0xa8f7ed(0x5dc)][_0xa8f7ed(0x4b8)][_0x27596a][_0xa8f7ed(0x825)](_0x4eb2af);}async[a0_0x3eb0d8(0x1b6)]({instanceName:_0x3714a7},_0x383ecf){const _0x3f3dc5=a0_0x3eb0d8;return await this[_0x3f3dc5(0x5dc)][_0x3f3dc5(0x4b8)][_0x3714a7][_0x3f3dc5(0x1b6)](_0x383ecf);}async['readMessage']({instanceName:_0x19954f},_0x25ac3e){const _0x43370b=a0_0x3eb0d8;return await this[_0x43370b(0x5dc)][_0x43370b(0x4b8)][_0x19954f][_0x43370b(0x651)](_0x25ac3e);}async['archiveChat']({instanceName:_0x5bb0d8},_0x25f126){const _0x41a0ac=a0_0x3eb0d8;return await this['waMonitor']['waInstances'][_0x5bb0d8][_0x41a0ac(0x493)](_0x25f126);}async[a0_0x3eb0d8(0x3a6)]({instanceName:_0x147bc0},_0x3b4f65){const _0x2e9d54=a0_0x3eb0d8;return await this[_0x2e9d54(0x5dc)][_0x2e9d54(0x4b8)][_0x147bc0]['deleteMessage'](_0x3b4f65);}async[a0_0x3eb0d8(0x1eb)]({instanceName:_0x20dbbc},_0x55fb86){const _0x551b9c=a0_0x3eb0d8;return await this['waMonitor'][_0x551b9c(0x4b8)][_0x20dbbc][_0x551b9c(0x1e2)](_0x55fb86[_0x551b9c(0x438)]);}async[a0_0x3eb0d8(0x5e4)]({instanceName:_0x2c5e2b},_0x2272b0){const _0x2756c5=a0_0x3eb0d8;return await this[_0x2756c5(0x5dc)][_0x2756c5(0x4b8)][_0x2c5e2b][_0x2756c5(0x5e4)](_0x2272b0[_0x2756c5(0x438)]);}async[a0_0x3eb0d8(0x50b)]({instanceName:_0x4d5a76},_0x4bca55){const _0x79dce0=a0_0x3eb0d8;return await this['waMonitor'][_0x79dce0(0x4b8)][_0x4d5a76][_0x79dce0(0x50b)](_0x4bca55);}async[a0_0x3eb0d8(0x71e)]({instanceName:_0x146b50},_0x27c02a){const _0x1d3a1e=a0_0x3eb0d8;return await this['waMonitor'][_0x1d3a1e(0x4b8)][_0x146b50][_0x1d3a1e(0x71e)](_0x27c02a);}async[a0_0x3eb0d8(0x143)]({instanceName:_0x540d33},_0x3920a4){const _0x8cc383=a0_0x3eb0d8;return await this['waMonitor'][_0x8cc383(0x4b8)][_0x540d33][_0x8cc383(0x143)](_0x3920a4);}async[a0_0x3eb0d8(0x47b)]({instanceName:_0x4e4a50},_0x5be955){const _0x3ca314=a0_0x3eb0d8;return await this[_0x3ca314(0x5dc)][_0x3ca314(0x4b8)][_0x4e4a50][_0x3ca314(0x47b)](_0x5be955);}async[a0_0x3eb0d8(0x818)]({instanceName:_0x2d75db}){const _0x2f7244=a0_0x3eb0d8;return await this[_0x2f7244(0x5dc)][_0x2f7244(0x4b8)][_0x2d75db][_0x2f7244(0x818)]();}async['fetchChats']({instanceName:_0x4b97bc}){const _0x39c3ce=a0_0x3eb0d8;return await this['waMonitor'][_0x39c3ce(0x4b8)][_0x4b97bc]['fetchChats']();}async[a0_0x3eb0d8(0x2aa)]({instanceName:_0x4bf1d9}){const _0x343ce2=a0_0x3eb0d8;return await this[_0x343ce2(0x5dc)][_0x343ce2(0x4b8)][_0x4bf1d9][_0x343ce2(0x2aa)]();}async[a0_0x3eb0d8(0x4e5)]({instanceName:_0x6cda30},_0x2f5471){const _0x5de489=a0_0x3eb0d8;return await this[_0x5de489(0x5dc)]['waInstances'][_0x6cda30][_0x5de489(0x4e5)](_0x2f5471);}async[a0_0x3eb0d8(0x6ac)]({instanceName:_0x50ad23},_0x30ddaf){const _0x6e0cc=a0_0x3eb0d8;return await this['waMonitor'][_0x6e0cc(0x4b8)][_0x50ad23][_0x6e0cc(0x6ac)](_0x30ddaf[_0x6e0cc(0x438)]);}async['updateProfileName']({instanceName:_0x2bb484},_0x100d0d){const _0x489413=a0_0x3eb0d8;return await this['waMonitor'][_0x489413(0x4b8)][_0x2bb484][_0x489413(0x410)](_0x100d0d[_0x489413(0x21a)]);}async[a0_0x3eb0d8(0x5ab)]({instanceName:_0x46369c},_0x263ac3){const _0x2c65ed=a0_0x3eb0d8;return await this['waMonitor'][_0x2c65ed(0x4b8)][_0x46369c][_0x2c65ed(0x5ab)](_0x263ac3[_0x2c65ed(0x226)]);}async[a0_0x3eb0d8(0x1b8)]({instanceName:_0x16e2db},_0x56cab5){const _0x33ef33=a0_0x3eb0d8;return await this[_0x33ef33(0x5dc)][_0x33ef33(0x4b8)][_0x16e2db][_0x33ef33(0x1b8)](_0x56cab5[_0x33ef33(0x66b)]);}async[a0_0x3eb0d8(0x1a3)]({instanceName:_0x282c59},_0x88e558){const _0x2fa916=a0_0x3eb0d8;return await this[_0x2fa916(0x5dc)][_0x2fa916(0x4b8)][_0x282c59][_0x2fa916(0x1a3)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x3ed144,_0x3f77b4,_0xf6fdb9,_0x3b41c4,_0x50188a){const _0x463ad6=a0_0x3eb0d8;this['waMonitor']=_0x3ed144,this[_0x463ad6(0x801)]=_0x3f77b4,this['repository']=_0xf6fdb9,this[_0x463ad6(0x697)]=_0x3b41c4,this['authService']=_0x50188a,this['logger']=new $(u[_0x463ad6(0x21a)]);}async[a0_0x3eb0d8(0x321)]({instanceName:_0x41750c,apikey:_0x457ab4,number:_0x535cc1,proxy:_0x760d0b=!0x0}){const _0x57f5d8=a0_0x3eb0d8;try{let _0x523cba=new Ne(this[_0x57f5d8(0x801)],this[_0x57f5d8(0x697)],this['repository']);_0x523cba[_0x57f5d8(0x1a8)]=_0x41750c,this[_0x57f5d8(0x5dc)][_0x57f5d8(0x4b8)][_0x523cba[_0x57f5d8(0x1a8)]]=_0x523cba;let _0x2969cc={};_0x457ab4?(await this['repository'][_0x57f5d8(0x61b)][_0x57f5d8(0x358)]({'apikey':_0x457ab4},_0x41750c),_0x2969cc[_0x57f5d8(0x6a8)]=_0x457ab4):_0x2969cc=await this['authService'][_0x57f5d8(0x31f)]({'instanceName':_0x523cba[_0x57f5d8(0x1a8)]});let _0x14eec8;if(_0x535cc1){if(_0x14eec8=await this['verifyWhatsAppNumber'](_0x535cc1),_0x14eec8[_0x57f5d8(0x1ca)])throw new x(_0x14eec8[_0x57f5d8(0x1ca)]['toString']());_0x535cc1=_0x14eec8[_0x57f5d8(0x438)];}let _0x233fe;return await _0x523cba[_0x57f5d8(0xde)](_0x535cc1),await(0x0,Wt[_0x57f5d8(0x7a2)])(0xfa0),_0x535cc1&&await(0x0,Wt[_0x57f5d8(0x7a2)])(0xbb8),_0x233fe=_0x523cba[_0x57f5d8(0x2f0)],{'instance':{'instanceName':_0x523cba['instanceName'],'status':_0x57f5d8(0x72d)},'hash':_0x2969cc,'qrcode':_0x233fe};}catch(_0x1e4670){throw this[_0x57f5d8(0xfa)][_0x57f5d8(0x1ca)](_0x1e4670),_0x1e4670;}}async[a0_0x3eb0d8(0x127)]({instanceName:_0x4315e4,number:_0xaa1fb5=null}){const _0x9326db=a0_0x3eb0d8;try{let _0x1ce9f1=this[_0x9326db(0x5dc)][_0x9326db(0x4b8)][_0x4315e4];switch(_0x1ce9f1?.['connectionStatus']?.[_0x9326db(0x620)]){case _0x9326db(0x14d):return await _0x1ce9f1[_0x9326db(0xde)](_0xaa1fb5),await(0x0,Wt['delay'])(0x7d0),_0x1ce9f1[_0x9326db(0x2f0)];case _0x9326db(0x279):return _0x1ce9f1[_0x9326db(0x2f0)];default:return await this['connectionState']({'instanceName':_0x4315e4});}}catch(_0x3b396c){this[_0x9326db(0xfa)]['log'](_0x3b396c);}}async[a0_0x3eb0d8(0x1ad)]({instanceName:_0x53ce7f}){const _0x4f1801=a0_0x3eb0d8;let _0x35c033=this[_0x4f1801(0x5dc)]['waInstances'][_0x53ce7f]['connectionStatus'],_0x230f2d=null;_0x35c033['state']===_0x4f1801(0x156)&&_0x53ce7f&&(_0x230f2d=await this[_0x4f1801(0x5dc)][_0x4f1801(0x486)](_0x53ce7f));let _0x28d27d=null;return _0x35c033['state']===_0x4f1801(0x279)&&_0x53ce7f&&(_0x28d27d=this[_0x4f1801(0x5dc)][_0x4f1801(0x4b8)][_0x53ce7f][_0x4f1801(0x2f0)]),{'instance':_0x53ce7f,'connectionStatus':_0x35c033,'instanceInfo':_0x230f2d,'qrcode':_0x28d27d};}async[a0_0x3eb0d8(0xeb)](_0xfe07eb){const _0x171cf0=a0_0x3eb0d8;_0xfe07eb=_0xfe07eb['replace'](/\D/g,'');let _0x33373e=Object['keys'](this['waMonitor'][_0x171cf0(0x4b8)])[_0x171cf0(0x1d9)](_0x3a06ad=>{const _0x4a6a03=_0x171cf0;let _0xc9ce65=this[_0x4a6a03(0x5dc)]['waInstances'][_0x3a06ad];return _0xc9ce65&&_0xc9ce65['connectionStatus']&&_0xc9ce65[_0x4a6a03(0x223)][_0x4a6a03(0x620)]===_0x4a6a03(0x156);});if(_0x33373e['length']===0x0)return{'number':this[_0x171cf0(0x6de)](_0xfe07eb)};let _0x5dbc3f=Math[_0x171cf0(0x192)](Math['random']()*_0x33373e[_0x171cf0(0x75f)]),_0x326e50=_0x33373e[_0x5dbc3f];try{let _0x59a0fc=(await this[_0x171cf0(0x5dc)][_0x171cf0(0x4b8)][_0x326e50][_0x171cf0(0x825)]({'numbers':[_0xfe07eb]}))[_0x171cf0(0x4cb)]();return _0x59a0fc[_0x171cf0(0x788)]?{'number':_0x59a0fc[_0x171cf0(0x417)][_0x171cf0(0x67e)](_0x171cf0(0x748),'')}:{'number':_0xfe07eb,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x5545e8){return this[_0x171cf0(0xfa)][_0x171cf0(0x1ca)](_0x171cf0(0x746)+_0x5545e8),{'number':_0xfe07eb,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x3eb0d8(0x6de)](_0x3944ba){let _0x5df0fe=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x3944ba);if(_0x5df0fe&&_0x5df0fe[0x1]==='55'){let _0x24b803=_0x5df0fe[0x2],_0x5bd203=_0x5df0fe[0x3],_0x4e3101=_0x5df0fe[0x4];if(parseInt(_0x24b803)>=0x1f&&_0x5bd203==='9')return _0x5df0fe[0x1]+_0x24b803+_0x4e3101;}return _0x3944ba;}async[a0_0x3eb0d8(0x459)]({instanceName:_0x1cb51e}){const _0x544b95=a0_0x3eb0d8;try{return this[_0x544b95(0x5dc)][_0x544b95(0x4b8)][_0x1cb51e]?.[_0x544b95(0x1d3)]?.['ws']?.['close'](),{'status':_0x544b95(0x419),'error':!0x1,'response':{'message':_0x544b95(0x51f)}};}catch(_0x233a79){this[_0x544b95(0xfa)][_0x544b95(0x1ca)](_0x233a79);}}async[a0_0x3eb0d8(0x496)]({instanceName:_0x4b592c}){const _0x545f44=a0_0x3eb0d8;return _0x4b592c?this[_0x545f44(0x5dc)][_0x545f44(0x486)](_0x4b592c):this[_0x545f44(0x5dc)][_0x545f44(0x486)]();}async[a0_0x3eb0d8(0x584)]({instanceName:_0x4a1faa}){const _0x41ea27=a0_0x3eb0d8;try{return await this['waMonitor'][_0x41ea27(0x4b8)][_0x4a1faa]?.['client']?.[_0x41ea27(0x584)](_0x41ea27(0x49c)+_0x4a1faa),{'error':!0x1,'message':_0x41ea27(0x3a2)};}catch(_0x4212dd){throw new x(_0x4212dd[_0x41ea27(0x121)]());}}async[a0_0x3eb0d8(0x112)]({instanceName:_0x3c6136}){const _0xaf0443=a0_0x3eb0d8;if((await this[_0xaf0443(0x1ad)]({'instanceName':_0x3c6136}))['connectionStatus'][_0xaf0443(0x620)]==='open')throw new m([_0xaf0443(0x587),_0xaf0443(0x78f)]);try{return delete this['waMonitor'][_0xaf0443(0x4b8)][_0x3c6136],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x50ef72){throw new m(_0x50ef72['toString']());}}},ie=require('class-validator'),Ht=class{constructor(_0x4dc338){const _0x241bf2=a0_0x3eb0d8;this[_0x241bf2(0x5dc)]=_0x4dc338;}async[a0_0x3eb0d8(0x4b3)]({instanceName:_0x1eac3a},_0x1ce608){const _0x3ba963=a0_0x3eb0d8;return await this['waMonitor'][_0x3ba963(0x4b8)][_0x1eac3a][_0x3ba963(0x257)](_0x1ce608);}async[a0_0x3eb0d8(0x15a)]({instanceName:_0x92f23f},_0x2ec7f0){const _0x2279f3=a0_0x3eb0d8;return await this[_0x2279f3(0x5dc)][_0x2279f3(0x4b8)][_0x92f23f][_0x2279f3(0x7ab)](_0x2ec7f0);}async[a0_0x3eb0d8(0x639)]({instanceName:_0x587fdb},_0xef7cee){const _0x48068f=a0_0x3eb0d8;if((0x0,ie[_0x48068f(0x4f9)])(_0xef7cee?.['mediaMessage']?.[_0x48068f(0x6db)])&&!_0xef7cee?.[_0x48068f(0x21f)]?.[_0x48068f(0x6f7)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ie['isURL'])(_0xef7cee?.['mediaMessage']?.[_0x48068f(0x6db)])||(0x0,ie[_0x48068f(0x4f9)])(_0xef7cee?.[_0x48068f(0x21f)]?.['media']))return await this[_0x48068f(0x5dc)][_0x48068f(0x4b8)][_0x587fdb]['mediaMessage'](_0xef7cee);throw new m(_0x48068f(0x75c));}async[a0_0x3eb0d8(0x247)]({instanceName:_0x338d25},_0xccc5c7){const _0x27ea1f=a0_0x3eb0d8;if((0x0,ie[_0x27ea1f(0x1a2)])(_0xccc5c7[_0x27ea1f(0x681)][_0x27ea1f(0x1ff)])||(0x0,ie[_0x27ea1f(0x4f9)])(_0xccc5c7[_0x27ea1f(0x681)][_0x27ea1f(0x1ff)]))return await this[_0x27ea1f(0x5dc)][_0x27ea1f(0x4b8)][_0x338d25][_0x27ea1f(0x142)](_0xccc5c7);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x3eb0d8(0x7f5)]({instanceName:_0x373b50},_0x8b5796){const _0xe3487d=a0_0x3eb0d8;if((0x0,ie['isURL'])(_0x8b5796[_0xe3487d(0x533)][_0xe3487d(0x2db)])||(0x0,ie['isBase64'])(_0x8b5796[_0xe3487d(0x533)]['audio']))return await this[_0xe3487d(0x5dc)][_0xe3487d(0x4b8)][_0x373b50]['audioWhatsapp'](_0x8b5796);throw new m(_0xe3487d(0x75c));}async['sendButtons']({instanceName:_0x305f30},_0x2eff29){const _0x2947aa=a0_0x3eb0d8;if((0x0,ie['isBase64'])(_0x2eff29['buttonMessage'][_0x2947aa(0x21f)]?.['media'])&&!_0x2eff29[_0x2947aa(0xdb)][_0x2947aa(0x21f)]?.['fileName'])throw new m(_0x2947aa(0x23a));return await this[_0x2947aa(0x5dc)][_0x2947aa(0x4b8)][_0x305f30]['buttonMessage'](_0x2eff29);}async[a0_0x3eb0d8(0x1f2)]({instanceName:_0x459b07},_0x4cbb53){const _0x5083f1=a0_0x3eb0d8;return await this[_0x5083f1(0x5dc)][_0x5083f1(0x4b8)][_0x459b07][_0x5083f1(0x74c)](_0x4cbb53);}async['sendPoll']({instanceName:_0x58a929},_0x3b25ae){const _0x4b405e=a0_0x3eb0d8;return await this['waMonitor'][_0x4b405e(0x4b8)][_0x58a929][_0x4b405e(0x6ad)](_0x3b25ae);}async[a0_0x3eb0d8(0x190)]({instanceName:_0x52a48b},_0x285078){const _0x1cf9b9=a0_0x3eb0d8;return await this[_0x1cf9b9(0x5dc)]['waInstances'][_0x52a48b][_0x1cf9b9(0xec)](_0x285078);}async['sendContact']({instanceName:_0x51110e},_0xb82590){const _0xab22d0=a0_0x3eb0d8;return await this['waMonitor']['waInstances'][_0x51110e][_0xab22d0(0x4a9)](_0xb82590);}async[a0_0x3eb0d8(0xf4)]({instanceName:_0x4fbb01},_0x564862){const _0x598587=a0_0x3eb0d8;if(!_0x564862[_0x598587(0x5e0)][_0x598587(0xe9)][_0x598587(0xf6)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x598587(0x5af));return await this[_0x598587(0x5dc)][_0x598587(0x4b8)][_0x4fbb01][_0x598587(0x5e0)](_0x564862);}async[a0_0x3eb0d8(0x701)]({instanceName:_0x37f764},_0x5f1dd9){const _0x370a43=a0_0x3eb0d8;return await this['waMonitor'][_0x370a43(0x4b8)][_0x37f764][_0x370a43(0x1b9)](_0x5f1dd9);}},xi=require('jsonwebtoken'),Ls=require(a0_0x3eb0d8(0x3c7)),Kt=class u{constructor(_0x2e3e39,_0xd60a35,_0x420cd3){const _0x3be8fe=a0_0x3eb0d8;this[_0x3be8fe(0x801)]=_0x2e3e39,this[_0x3be8fe(0x5dc)]=_0xd60a35,this['repository']=_0x420cd3,this[_0x3be8fe(0xfa)]=new $(u[_0x3be8fe(0x21a)]);}async[a0_0x3eb0d8(0x2cd)](_0xf133cc){const _0x39d69d=a0_0x3eb0d8;let _0x49667c=this[_0x39d69d(0x801)][_0x39d69d(0x439)](_0x39d69d(0x1d1))[_0x39d69d(0x29c)],_0x2cc92a=(0x0,xi[_0x39d69d(0x470)])({'instanceName':_0xf133cc[_0x39d69d(0x1a8)],'apiName':at,'tokenId':(0x0,Ls['v4'])()},_0x49667c['SECRET'],{'expiresIn':_0x49667c['EXPIRIN_IN'],'encoding':'utf8','subject':_0x39d69d(0x7c0)}),_0x4d77bd=await this['repository']['auth'][_0x39d69d(0x358)]({'jwt':_0x2cc92a},_0xf133cc['instanceName']);if(_0x4d77bd[_0x39d69d(0x1ca)])throw this['logger'][_0x39d69d(0x1ca)]({'localError':u['name']+_0x39d69d(0x348),'error':_0x4d77bd[_0x39d69d(0x1ca)]}),new m(_0x39d69d(0x5c8),_0x4d77bd[_0x39d69d(0x1ca)]?.['toString']());return{'jwt':_0x2cc92a};}async[a0_0x3eb0d8(0x6a8)](_0x41e2bc){const _0x248750=a0_0x3eb0d8;let _0x266da3=(0x0,Ls['v4'])()[_0x248750(0x5d7)](),_0x4858f5=await this[_0x248750(0x4f1)]['auth'][_0x248750(0x358)]({'apikey':_0x266da3},_0x41e2bc[_0x248750(0x1a8)]);if(_0x4858f5[_0x248750(0x1ca)])throw this[_0x248750(0xfa)][_0x248750(0x1ca)]({'localError':u[_0x248750(0x21a)]+_0x248750(0x348),'error':_0x4858f5[_0x248750(0x1ca)]}),new m(_0x248750(0x5c8),_0x4858f5[_0x248750(0x1ca)]?.[_0x248750(0x121)]());return{'apikey':_0x266da3};}async[a0_0x3eb0d8(0x31f)](_0xe74d78){const _0x483650=a0_0x3eb0d8;let _0x24a2b3=this[_0x483650(0x801)][_0x483650(0x439)](_0x483650(0x1d1));return await this[_0x24a2b3[_0x483650(0x3f3)]](_0xe74d78);}},Qt=class{constructor(_0x934f17){const _0x50966c=a0_0x3eb0d8;this[_0x50966c(0x5dc)]=_0x934f17;}async[a0_0x3eb0d8(0x10f)](_0xc5f237,_0xb60c56){const _0xd9e8d3=a0_0x3eb0d8;return await this[_0xd9e8d3(0x5dc)][_0xd9e8d3(0x4b8)][_0xc5f237[_0xd9e8d3(0x1a8)]][_0xd9e8d3(0x10f)](_0xb60c56);}async['updateGroupPicture'](_0x5aeac7,_0x4586c6){const _0x8fe87c=a0_0x3eb0d8;return await this['waMonitor'][_0x8fe87c(0x4b8)][_0x5aeac7[_0x8fe87c(0x1a8)]]['updateGroupPicture'](_0x4586c6);}async[a0_0x3eb0d8(0x4f6)](_0x14b4b2,_0x6683c7){const _0x1d5d35=a0_0x3eb0d8;return await this[_0x1d5d35(0x5dc)]['waInstances'][_0x14b4b2['instanceName']]['groupDesc'](_0x6683c7);}async[a0_0x3eb0d8(0x1b5)](_0x2a0814,_0x20dad4){const _0x3810b0=a0_0x3eb0d8;return await this[_0x3810b0(0x5dc)]['waInstances'][_0x2a0814['instanceName']][_0x3810b0(0x1b5)](_0x20dad4);}async[a0_0x3eb0d8(0x519)](_0x5f7877,_0x4d35df){const _0x1773eb=a0_0x3eb0d8;return await this[_0x1773eb(0x5dc)][_0x1773eb(0x4b8)][_0x5f7877[_0x1773eb(0x1a8)]][_0x1773eb(0x519)](_0x4d35df);}async[a0_0x3eb0d8(0x566)](_0xc5e2a4,_0x10ccf4){const _0x38d54c=a0_0x3eb0d8;return await this[_0x38d54c(0x5dc)][_0x38d54c(0x4b8)][_0xc5e2a4[_0x38d54c(0x1a8)]][_0x38d54c(0x566)](_0x10ccf4);}async[a0_0x3eb0d8(0x68e)](_0x41f60a,_0x2a78f7){const _0x2ed2e5=a0_0x3eb0d8;return await this[_0x2ed2e5(0x5dc)][_0x2ed2e5(0x4b8)][_0x41f60a[_0x2ed2e5(0x1a8)]][_0x2ed2e5(0x616)](_0x2a78f7);}async[a0_0x3eb0d8(0x1f3)](_0x40de0f){const _0x1f53d1=a0_0x3eb0d8;return await this['waMonitor']['waInstances'][_0x40de0f[_0x1f53d1(0x1a8)]][_0x1f53d1(0x1f3)]();}async[a0_0x3eb0d8(0x3fa)](_0x2cb8ff,_0x1c5510){const _0x2dbcd4=a0_0x3eb0d8;return await this['waMonitor'][_0x2dbcd4(0x4b8)][_0x2cb8ff[_0x2dbcd4(0x1a8)]]['inviteCode'](_0x1c5510);}async[a0_0x3eb0d8(0x3ab)](_0x4a1f8e,_0x33b045){const _0x57f966=a0_0x3eb0d8;return await this[_0x57f966(0x5dc)][_0x57f966(0x4b8)][_0x4a1f8e[_0x57f966(0x1a8)]][_0x57f966(0x3ab)](_0x33b045);}async[a0_0x3eb0d8(0x1db)](_0x749f5f,_0x15d2b9){const _0x2ca77d=a0_0x3eb0d8;return await this['waMonitor'][_0x2ca77d(0x4b8)][_0x749f5f[_0x2ca77d(0x1a8)]]['groupGetInviteInfo'](_0x15d2b9);}async[a0_0x3eb0d8(0x68d)](_0x2de5a9,_0x3aa3ab){const _0x46a787=a0_0x3eb0d8;return await this[_0x46a787(0x5dc)][_0x46a787(0x4b8)][_0x2de5a9['instanceName']][_0x46a787(0x68d)](_0x3aa3ab);}async[a0_0x3eb0d8(0x285)](_0x300f63,_0x475c12){const _0x247e8e=a0_0x3eb0d8;return await this[_0x247e8e(0x5dc)][_0x247e8e(0x4b8)][_0x300f63[_0x247e8e(0x1a8)]][_0x247e8e(0x285)](_0x475c12);}async[a0_0x3eb0d8(0x2a0)](_0x2c2e68,_0xcc2a78){const _0x5cff7e=a0_0x3eb0d8;return await this[_0x5cff7e(0x5dc)][_0x5cff7e(0x4b8)][_0x2c2e68[_0x5cff7e(0x1a8)]]['updateGParticipant'](_0xcc2a78);}async[a0_0x3eb0d8(0x733)](_0x33155d,_0x10c7b1){const _0x316f12=a0_0x3eb0d8;return await this[_0x316f12(0x5dc)][_0x316f12(0x4b8)][_0x33155d[_0x316f12(0x1a8)]]['toggleEphemeral'](_0x10c7b1);}async[a0_0x3eb0d8(0x72e)](_0x5ec5ee,_0xa76e2f){const _0x38658b=a0_0x3eb0d8;return await this[_0x38658b(0x5dc)][_0x38658b(0x4b8)][_0x5ec5ee[_0x38658b(0x1a8)]][_0x38658b(0x72e)](_0xa76e2f);}},Yt=class{constructor(_0x3c6933){this['waMonitor']=_0x3c6933;}[a0_0x3eb0d8(0x358)](_0x4f24bc,_0x213f4f){const _0x2b08bd=a0_0x3eb0d8;return this[_0x2b08bd(0x5dc)][_0x2b08bd(0x4b8)][_0x4f24bc[_0x2b08bd(0x1a8)]][_0x2b08bd(0x476)](_0x213f4f);}async[a0_0x3eb0d8(0x551)](_0x5bfd2d){const _0x213e34=a0_0x3eb0d8;try{return await this['waMonitor'][_0x213e34(0x4b8)][_0x5bfd2d[_0x213e34(0x1a8)]][_0x213e34(0x1a4)]();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x3eb0d8(0x5ce)),Xt=class{constructor(_0x277ea0){const _0x27ec5b=a0_0x3eb0d8;this[_0x27ec5b(0x5dc)]=_0x277ea0;}async[a0_0x3eb0d8(0x731)](_0x2154fc,_0x8cea54){const _0x20ace4=a0_0x3eb0d8;return await this[_0x20ace4(0x5dc)]['waInstances'][_0x2154fc[_0x20ace4(0x1a8)]][_0x20ace4(0x731)](_0x8cea54);}async[a0_0x3eb0d8(0x256)](_0x1f714a){const _0x432c78=a0_0x3eb0d8;return await this['waMonitor']['waInstances'][_0x1f714a[_0x432c78(0x1a8)]][_0x432c78(0x256)]();}async[a0_0x3eb0d8(0x615)](_0x113b09){const _0x3837db=a0_0x3eb0d8;return await this[_0x3837db(0x5dc)][_0x3837db(0x4b8)][_0x113b09[_0x3837db(0x1a8)]][_0x3837db(0x615)]();}async[a0_0x3eb0d8(0x25b)](_0x2f4f17){const _0x42574a=a0_0x3eb0d8;return await this[_0x42574a(0x5dc)][_0x42574a(0x4b8)][_0x2f4f17[_0x42574a(0x1a8)]][_0x42574a(0x25b)]();}async[a0_0x3eb0d8(0x6f4)](_0x15375d,_0x20e9d6){const _0x558c80=a0_0x3eb0d8;return await this[_0x558c80(0x5dc)][_0x558c80(0x4b8)][_0x15375d[_0x558c80(0x1a8)]][_0x558c80(0x6f4)](_0x20e9d6);}async[a0_0x3eb0d8(0x14e)](_0x43691c,_0x1786dd){const _0x4cae7e=a0_0x3eb0d8;return await this[_0x4cae7e(0x5dc)][_0x4cae7e(0x4b8)][_0x43691c[_0x4cae7e(0x1a8)]][_0x4cae7e(0x14e)](_0x1786dd);}async[a0_0x3eb0d8(0x673)](_0x395537,_0x17a82c){const _0x1b2a43=a0_0x3eb0d8;return await this[_0x1b2a43(0x5dc)][_0x1b2a43(0x4b8)][_0x395537['instanceName']][_0x1b2a43(0x673)](_0x17a82c);}async[a0_0x3eb0d8(0x289)](_0x1a6270,_0x4ad3f3){const _0x25db5d=a0_0x3eb0d8;return await this[_0x25db5d(0x5dc)][_0x25db5d(0x4b8)][_0x1a6270[_0x25db5d(0x1a8)]][_0x25db5d(0x289)](_0x4ad3f3);}async[a0_0x3eb0d8(0xee)](_0xc0687a,_0x171397){const _0x575b3f=a0_0x3eb0d8;return await this[_0x575b3f(0x5dc)][_0x575b3f(0x4b8)][_0xc0687a[_0x575b3f(0x1a8)]]['startFlow'](_0x171397);}async['startFlowWebhook'](_0xf34b87,_0x2beb2b,_0x281be8,_0x31df8f){const _0x533f63=a0_0x3eb0d8;return await this[_0x533f63(0x5dc)]['waInstances'][_0xf34b87][_0x533f63(0x713)](_0x2beb2b,_0x281be8,_0x31df8f);}async['getConversation'](_0x515e41,_0x4f227b){const _0x3564e7=a0_0x3eb0d8;return await this[_0x3564e7(0x5dc)][_0x3564e7(0x4b8)][_0x515e41['instanceName']][_0x3564e7(0x647)](_0x4f227b);}async[a0_0x3eb0d8(0x40a)](_0x3d3642,_0x960b3a){const _0x585d5f=a0_0x3eb0d8;return await this['waMonitor'][_0x585d5f(0x4b8)][_0x3d3642[_0x585d5f(0x1a8)]][_0x585d5f(0x40a)](_0x960b3a);}async[a0_0x3eb0d8(0x612)](_0x6d41e0,_0x42b334){const _0x4608f7=a0_0x3eb0d8;return await this['waMonitor'][_0x4608f7(0x4b8)][_0x6d41e0['instanceName']][_0x4608f7(0x612)](_0x42b334);}async['deleteConversation'](_0x2fe3a6,_0x5b3e18){const _0x496820=a0_0x3eb0d8;return await this['waMonitor'][_0x496820(0x4b8)][_0x2fe3a6[_0x496820(0x1a8)]][_0x496820(0x110)](_0x5b3e18);}async['getFlow'](_0x4adde7,_0xccc258){const _0x245ab1=a0_0x3eb0d8;return await this[_0x245ab1(0x5dc)]['waInstances'][_0x4adde7[_0x245ab1(0x1a8)]][_0x245ab1(0x28c)](_0xccc258[_0x245ab1(0x36f)]);}async['createFlow'](_0x676a76,_0x5ba020,_0x173f28){const _0x443f2a=a0_0x3eb0d8;return await this[_0x443f2a(0x5dc)][_0x443f2a(0x4b8)][_0x676a76[_0x443f2a(0x1a8)]][_0x443f2a(0x74a)](_0x5ba020,_0x173f28);}async['editFlow'](_0x1bbb9f,_0x437609,_0x3c46fb){const _0x4a70a4=a0_0x3eb0d8;return await this['waMonitor'][_0x4a70a4(0x4b8)][_0x1bbb9f[_0x4a70a4(0x1a8)]][_0x4a70a4(0x1f9)](_0x437609,_0x3c46fb);}async['editFlowBlock'](_0x3d911d,_0x1c0eab){const _0x326be6=a0_0x3eb0d8;return await this[_0x326be6(0x5dc)][_0x326be6(0x4b8)][_0x3d911d[_0x326be6(0x1a8)]][_0x326be6(0x70a)](_0x1c0eab);}async[a0_0x3eb0d8(0x3a3)](_0x3c0f07,_0xee455f){const _0x47b0a7=a0_0x3eb0d8;return await this[_0x47b0a7(0x5dc)][_0x47b0a7(0x4b8)][_0x3c0f07[_0x47b0a7(0x1a8)]][_0x47b0a7(0x3a3)](_0xee455f);}async[a0_0x3eb0d8(0x783)](_0x5f1ad0,_0x33ab6e){const _0x2ea279=a0_0x3eb0d8;return await this[_0x2ea279(0x5dc)][_0x2ea279(0x4b8)][_0x5f1ad0[_0x2ea279(0x1a8)]][_0x2ea279(0x783)](_0x33ab6e);}async[a0_0x3eb0d8(0x116)](_0x401f07,_0x36ab74){const _0x4c789b=a0_0x3eb0d8;return await this[_0x4c789b(0x5dc)][_0x4c789b(0x4b8)][_0x401f07[_0x4c789b(0x1a8)]][_0x4c789b(0x116)](_0x36ab74);}async['editFlowVaredit'](_0x3a689b,_0x54cb35){const _0x3327b3=a0_0x3eb0d8;return await this[_0x3327b3(0x5dc)][_0x3327b3(0x4b8)][_0x3a689b['instanceName']][_0x3327b3(0x1cb)](_0x54cb35);}async[a0_0x3eb0d8(0x663)](_0x4c5e2f,_0x5c7c01){const _0x4b4a3a=a0_0x3eb0d8;return await this['waMonitor'][_0x4b4a3a(0x4b8)][_0x4c5e2f[_0x4b4a3a(0x1a8)]][_0x4b4a3a(0x663)](_0x5c7c01);}async[a0_0x3eb0d8(0x81c)](_0x5c29b8,_0x4f56bd){const _0x156278=a0_0x3eb0d8;return await this[_0x156278(0x5dc)]['waInstances'][_0x5c29b8[_0x156278(0x1a8)]][_0x156278(0x81c)](_0x4f56bd);}async[a0_0x3eb0d8(0x658)](_0x13e7ce){const _0x2179e2=a0_0x3eb0d8;return await this[_0x2179e2(0x5dc)][_0x2179e2(0x4b8)][_0x13e7ce[_0x2179e2(0x1a8)]][_0x2179e2(0x658)]();}},Zt=class{constructor(_0x3141b0){this['webhookService']=_0x3141b0;}async[a0_0x3eb0d8(0x757)](_0x257e23,_0x45bafc){const _0x3afbb7=a0_0x3eb0d8;return this['webhookService'][_0x3afbb7(0x358)](_0x257e23,_0x45bafc);}async[a0_0x3eb0d8(0x1a4)](_0x337ba2){const _0x4048ee=a0_0x3eb0d8;return this[_0x4048ee(0x17a)][_0x4048ee(0x551)](_0x337ba2);}},es=class extends _{constructor(_0x370200,_0x3b54cb){const _0x477f94=a0_0x3eb0d8;super(_0x3b54cb),this[_0x477f94(0x406)]=_0x370200,this[_0x477f94(0x801)]=_0x3b54cb;}async[a0_0x3eb0d8(0x358)](_0x17e348,_0x5c218f){const _0x9268f3=a0_0x3eb0d8;try{return this[_0x9268f3(0x660)]['ENABLED']?{'insertCount':(await this[_0x9268f3(0x406)][_0x9268f3(0x598)]({'_id':_0x5c218f},{..._0x17e348},{'upsert':!0x0}))[_0x9268f3(0x2d7)]}:{'insertCount':0x1};}catch(_0x2fcbb1){return _0x2fcbb1;}}async[a0_0x3eb0d8(0x10d)](_0x1fbf85){const _0x47287a=a0_0x3eb0d8;try{if(this[_0x47287a(0x660)][_0x47287a(0x4c9)]){await this[_0x47287a(0x406)][_0x47287a(0x632)]({'_id':_0x1fbf85});return;}}catch(_0x2b8dde){return{'error':_0x2b8dde};}}async[a0_0x3eb0d8(0x551)](_0x177868){const _0xe869cc=a0_0x3eb0d8;try{if(this[_0xe869cc(0x660)][_0xe869cc(0x4c9)])return await this['webhookModel'][_0xe869cc(0x657)]({'_id':_0x177868});}catch{return{};}}},ts=class extends _{constructor(_0x567ac9,_0x35f5ce){const _0x31d573=a0_0x3eb0d8;super(_0x35f5ce),this['authModel']=_0x567ac9,this['configService']=_0x35f5ce,this[_0x31d573(0x61b)]=_0x35f5ce[_0x31d573(0x439)]('AUTHENTICATION');}async[a0_0x3eb0d8(0x358)](_0x362876,_0x58483b){const _0x160140=a0_0x3eb0d8;try{if(this[_0x160140(0x660)][_0x160140(0x4c9)])return{'insertCount':(await this[_0x160140(0x324)][_0x160140(0x57f)]({'_id':_0x58483b},{'$set':{..._0x362876}},{'upsert':!0x0}))[_0x160140(0x2d7)]};}catch(_0x384bcc){return{'error':_0x384bcc};}}async['updateAll'](_0x52ed18,_0x3aca19){const _0x3240e4=a0_0x3eb0d8;try{if(this[_0x3240e4(0x660)][_0x3240e4(0x4c9)])return{'insertCount':(await this['authModel'][_0x3240e4(0x5f4)](_0x52ed18,{'$set':_0x3aca19},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x3240e4(0x446));}catch(_0x1fc6b5){return{'error':_0x1fc6b5};}}async[a0_0x3eb0d8(0x3ff)](_0x302919){const _0x2566d6=a0_0x3eb0d8;try{if(this[_0x2566d6(0x660)][_0x2566d6(0x4c9)])return{'insertCount':(await this['authModel'][_0x2566d6(0x3ff)](_0x302919))[_0x2566d6(0x69c)]};throw new Error(_0x2566d6(0x1bc));}catch(_0xb27aac){return{'error':_0xb27aac};}}async[a0_0x3eb0d8(0x10d)](_0x2d171a){const _0x550763=a0_0x3eb0d8;try{if(this[_0x550763(0x660)][_0x550763(0x4c9)]){await this[_0x550763(0x324)][_0x550763(0x632)]({'_id':_0x2d171a});return;}}catch(_0xf597e1){return{'error':_0xf597e1};}}async[a0_0x3eb0d8(0x551)](_0x4e4c6){const _0x44ed37=a0_0x3eb0d8;try{if(this[_0x44ed37(0x660)][_0x44ed37(0x4c9)])return await this[_0x44ed37(0x324)][_0x44ed37(0x657)]({'_id':_0x4e4c6});}catch{return{};}}async['findAll'](){const _0x51eeba=a0_0x3eb0d8;try{if(this[_0x51eeba(0x660)][_0x51eeba(0x4c9)])return await this['authModel'][_0x51eeba(0x551)]();}catch{return[];}}async[a0_0x3eb0d8(0x1c6)](_0x1865cc){const _0x295937=a0_0x3eb0d8;try{if(this['dbSettings'][_0x295937(0x4c9)])return await this[_0x295937(0x324)][_0x295937(0x551)](_0x1865cc);}catch{return[];}}},ss=class extends _{async[a0_0x3eb0d8(0x632)](_0x2178bf){const _0x483a19=a0_0x3eb0d8;try{let _0xe7e036=A(_0x2178bf['where']);return{'deletedCount':(await Me['deleteOne'](_0xe7e036))[_0x483a19(0x69c)]};}catch(_0x375534){return{'error':_0x375534?.[_0x483a19(0x121)]()};}}async[a0_0x3eb0d8(0x57f)](_0x1627c9,_0x5d0863){const _0x3ec604=a0_0x3eb0d8;try{let _0x3ebb38=await Me[_0x3ec604(0x314)](_0x1627c9);return _0x3ebb38?(Object[_0x3ec604(0x18a)](_0x3ebb38,_0x5d0863),await _0x3ebb38[_0x3ec604(0x413)]()):(console[_0x3ec604(0x1ca)](_0x3ec604(0x6ed),_0x1627c9),null);}catch(_0xcd6e2e){return console[_0x3ec604(0x1ca)](_0x3ec604(0x80d),_0xcd6e2e),null;}}async[a0_0x3eb0d8(0x6b3)](_0x1939a6){const _0x326bf3=a0_0x3eb0d8;try{return await new Me(_0x1939a6)['save']();}catch(_0x386bdf){return console['error'](_0x326bf3(0x5ad),_0x386bdf),null;}}async[a0_0x3eb0d8(0x5bc)](_0x4bbaaa){const _0xf57ae9=a0_0x3eb0d8;try{let _0x5a61ba=_0x4bbaaa[_0xf57ae9(0x3aa)]??{};return await Me[_0xf57ae9(0x551)](_0x5a61ba)[_0xf57ae9(0x6e9)](_0x4bbaaa[_0xf57ae9(0x6e9)]??0x0)[_0xf57ae9(0x80a)]();}catch(_0x3a0387){return console['error'](_0xf57ae9(0x740),_0x3a0387),[];}}async['findOne'](_0x38006b){const _0x432f34=a0_0x3eb0d8;try{let _0x4a114b=A(_0x38006b[_0x432f34(0x3aa)]);return await Me['findOne'](_0x4a114b)[_0x432f34(0x80a)]();}catch{return null;}}},as=class extends _{[a0_0x3eb0d8(0x14b)](_0x2da5a4){return ya(_0x2da5a4);}async['insert'](_0x1664d5){const _0x282ed7=a0_0x3eb0d8;if(_0x1664d5[_0x282ed7(0x75f)]!==0x0)try{return{'insertCount':(await this[_0x282ed7(0x14b)](_0x1664d5[0x0]['owner'])['insertMany']([..._0x1664d5]))[_0x282ed7(0x75f)]};}catch(_0x38deac){return _0x38deac;}}async['delete'](_0x5f5cdd,_0x48ef9a){const _0x5e4f44=a0_0x3eb0d8;try{let _0x761a11=this[_0x5e4f44(0x14b)](_0x48ef9a),_0x24f946=A(_0x5f5cdd[_0x5e4f44(0x3aa)]);return{'deletedCount':(await _0x761a11[_0x5e4f44(0x3ff)](_0x24f946))[_0x5e4f44(0x69c)]};}catch(_0x268571){return{'error':_0x268571?.['toString']()};}}async[a0_0x3eb0d8(0x632)](_0x4b980a,_0x4bc5d5){const _0x212bf5=a0_0x3eb0d8;try{let _0x2c3713=this['getConversationModelForOwner'](_0x4bc5d5),_0x4e0ee4=A(_0x4b980a[_0x212bf5(0x3aa)]);return{'deletedCount':(await _0x2c3713[_0x212bf5(0x632)](_0x4e0ee4))[_0x212bf5(0x69c)]};}catch(_0x506e72){return{'error':_0x506e72?.[_0x212bf5(0x121)]()};}}async[a0_0x3eb0d8(0x670)](_0x3982b0,_0x732544){const _0x1924d3=a0_0x3eb0d8;try{if(_0x3982b0[_0x1924d3(0x75f)]===0x0)return;let _0x5e6557=this[_0x1924d3(0x14b)](_0x732544),_0x35ab21=_0x3982b0[_0x1924d3(0x437)](_0x58ccf6=>({'updateOne':{'filter':{'name':_0x58ccf6['name'],'owner':_0x732544},'update':{..._0x58ccf6}}})),{modifiedCount:_0x44c7a2}=await _0x5e6557[_0x1924d3(0x7e6)](_0x35ab21);return{'insertCount':_0x44c7a2};}catch{return;}}async[a0_0x3eb0d8(0x5f4)](_0x27daad,_0x5bda3a,_0x2cf1b9){const _0x209377=a0_0x3eb0d8;try{return{'modifiedCount':(await this[_0x209377(0x14b)](_0x2cf1b9)[_0x209377(0x5f4)](_0x27daad,{'$set':_0x5bda3a})['exec']())['modifiedCount']};}catch(_0x1bb63a){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x1bb63a),{'error':_0x1bb63a};}}async['updateOne'](_0x29bcd1,_0x43855e,_0x4c7138){const _0x3a55e0=a0_0x3eb0d8;try{return await this['getConversationModelForOwner'](_0x4c7138)[_0x3a55e0(0x553)]({'_id':_0x29bcd1},{'$set':_0x43855e},{'new':!0x0,'upsert':!0x0})[_0x3a55e0(0x80a)]();}catch(_0x5df486){return console[_0x3a55e0(0x1ca)](_0x5df486),null;}}async[a0_0x3eb0d8(0x551)](_0x7aaff4,_0x56b455){const _0x52059c=a0_0x3eb0d8;try{return await this['getConversationModelForOwner'](_0x56b455)['find'](_0x7aaff4)[_0x52059c(0x50e)]({'lastInteraction':-0x1})[_0x52059c(0x80a)]();}catch{return[];}}async[a0_0x3eb0d8(0x657)](_0x54317b,_0x276e18){const _0x423e3a=a0_0x3eb0d8;try{return await this[_0x423e3a(0x14b)](_0x276e18)[_0x423e3a(0x657)]({..._0x54317b[_0x423e3a(0x3aa)]})[_0x423e3a(0x80a)]();}catch{return null;}}async['deleteAll'](_0x339798){const _0x44b559=a0_0x3eb0d8;try{return await this[_0x44b559(0x14b)](_0x339798)[_0x44b559(0x7cb)][_0x44b559(0x78c)](),{'success':!0x0};}catch(_0x1fd49b){return console[_0x44b559(0x1ca)](_0x1fd49b),{'success':!0x1,'error':_0x1fd49b};}}},is=class extends _{['getScheduleMessageModelForOwner'](_0x459687){return ba(_0x459687);}async[a0_0x3eb0d8(0x7e6)](_0x5325aa,_0x29ff1d){const _0x499596=a0_0x3eb0d8;try{return await this[_0x499596(0x1ef)](_0x29ff1d)['bulkWrite'](_0x5325aa);}catch(_0x2a8a5a){return console[_0x499596(0x1ca)](_0x499596(0x61d),_0x2a8a5a),null;}}async[a0_0x3eb0d8(0x6b3)](_0x3fd2e5,_0x538e90){const _0x2940c0=a0_0x3eb0d8;try{let _0x2b0e3f=this[_0x2940c0(0x1ef)](_0x538e90);return await new _0x2b0e3f(_0x3fd2e5)['save']();}catch(_0x1c8304){return console[_0x2940c0(0x1ca)](_0x2940c0(0x434),_0x1c8304),null;}}async[a0_0x3eb0d8(0x632)](_0xaa2d17,_0x273fbf){const _0x405321=a0_0x3eb0d8;try{return await this[_0x405321(0x1ef)](_0x273fbf)[_0x405321(0x3ec)](_0xaa2d17),{};}catch(_0x2fc71b){return{'error':_0x2fc71b?.[_0x405321(0x121)]()};}}async[a0_0x3eb0d8(0x57f)](_0x17381c,_0xe96cf6,_0x3d85c7,_0x1f4ae1={}){const _0x33b63a=a0_0x3eb0d8;try{return await this[_0x33b63a(0x1ef)](_0x3d85c7)[_0x33b63a(0x553)](_0x17381c,_0xe96cf6,{..._0x1f4ae1,'new':!0x0})[_0x33b63a(0x80a)]();}catch(_0x57ba6a){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x57ba6a),null;}}async[a0_0x3eb0d8(0x4fb)](_0xf4130f,_0x7b7687,_0x298df0){const _0x1c48ab=a0_0x3eb0d8;try{return await this[_0x1c48ab(0x1ef)](_0x298df0)[_0x1c48ab(0x397)](_0xf4130f,_0x7b7687,{'new':!0x0})[_0x1c48ab(0x80a)]();}catch(_0x177a66){return console[_0x1c48ab(0x1ca)](_0x1c48ab(0x258),_0x177a66),null;}}async[a0_0x3eb0d8(0x551)](_0x205e73,_0x26bdd9){const _0x21954d=a0_0x3eb0d8;try{return await this[_0x21954d(0x1ef)](_0x26bdd9)[_0x21954d(0x551)](_0x205e73['where'])['limit'](_0x205e73?.[_0x21954d(0x6e9)]??0x0)[_0x21954d(0x50e)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x3eb0d8(0x657)](_0xfbf135,_0xd597d2){const _0x1a64f1=a0_0x3eb0d8;try{return await this[_0x1a64f1(0x1ef)](_0xd597d2)[_0x1a64f1(0x657)](_0xfbf135[_0x1a64f1(0x3aa)])['sort']({'when':0x1})[_0x1a64f1(0x80a)]();}catch{return null;}}async['findById'](_0x11ee85,_0xf2e89){const _0x2be71c=a0_0x3eb0d8;try{return await this['getScheduleMessageModelForOwner'](_0xf2e89)[_0x2be71c(0x314)](_0x11ee85)[_0x2be71c(0x80a)]();}catch{return null;}}async['deleteMany'](_0x41b696,_0x4625e6){const _0xfb16db=a0_0x3eb0d8;try{return{'deletedCount':(await this[_0xfb16db(0x1ef)](_0x4625e6)['deleteMany'](_0x41b696))[_0xfb16db(0x69c)]};}catch(_0x472c1f){return console[_0xfb16db(0x1ca)](_0xfb16db(0x7a6),_0x472c1f),{'error':_0x472c1f};}}async[a0_0x3eb0d8(0x68f)](_0x11df4b){const _0x2fb163=a0_0x3eb0d8;try{return await this[_0x2fb163(0x1ef)](_0x11df4b)['collection'][_0x2fb163(0x78c)](),{'success':!0x0};}catch(_0x3c3fbd){return console['error'](_0x3c3fbd),{'success':!0x1,'error':_0x3c3fbd};}}},os=class extends _{async[a0_0x3eb0d8(0x670)](_0x511247,_0x148a65){const _0x3f7fbd=a0_0x3eb0d8;try{if(this['dbSettings'][_0x3f7fbd(0x4c9)])return await Ae['findOneAndUpdate']({'_id':_0x148a65},{'$set':_0x511247},{'new':!0x0});}catch(_0x5c2147){throw console[_0x3f7fbd(0x1ca)](_0x3f7fbd(0x706),_0x5c2147),_0x5c2147;}}async[a0_0x3eb0d8(0x735)](_0x415ae0){const _0x697c4e=a0_0x3eb0d8;try{let _0x4f75fd=await Ae[_0x697c4e(0x314)](_0x415ae0);return _0x4f75fd?_0x4f75fd[_0x697c4e(0x2de)]||(_0x4f75fd[_0x697c4e(0x2de)]=[],await _0x4f75fd[_0x697c4e(0x413)]()):(_0x4f75fd=new Ae({'_id':_0x415ae0,'autoCompleteMessages':[]}),await _0x4f75fd[_0x697c4e(0x413)]()),_0x4f75fd;}catch(_0xc0a661){return _0xc0a661[_0x697c4e(0x698)]===0x2af8&&_0xc0a661[_0x697c4e(0x74e)]&&_0xc0a661[_0x697c4e(0x74e)][_0x697c4e(0x614)]?(console[_0x697c4e(0x1ca)](_0x697c4e(0x7de)),await Ae['collection']['dropIndex'](_0x697c4e(0x1b0)),null):(console[_0x697c4e(0x1ca)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0xc0a661),null);}}},Fo=new $(a0_0x3eb0d8(0x43e)),Uo=new He(S),jo=new qt(S),Jo=new ot(S),qo=new Vt(aa,S),Vo=new es(da,S),Go=new ts(ca,S),Bo=new ve(Ge,S),Wo=new ss(S),zo=new Gt(S),Ho=new as(S),Ko=new is(S),Qo=new os(S),me=new We(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,R?.[a0_0x3eb0d8(0x4d5)]()),G=new Jt(hs,S,me),Yo=new Kt(S,G,me),Xo=new Yt(G),$s=new Zt(Xo),O=new Xt(G),ue=new zt(G,S,me,hs,Yo),B=new Ht(G),P=new Bt(G),q=new Qt(G);Fo[a0_0x3eb0d8(0xe3)]('Module\x20-\x20ON');var ng=require(a0_0x3eb0d8(0x2f2)),Fs=require('fs'),Di=T(require(a0_0x3eb0d8(0x1e9))),Pi=T(require('http')),Fe=class u{static #e;static set[a0_0x3eb0d8(0x6be)](_0x4575f2){this.#e=_0x4575f2;}static get['https'](){const _0x3ddfb9=a0_0x3eb0d8;let {FULLCHAIN:_0x316170,PRIVKEY:_0x400674}=S[_0x3ddfb9(0x439)]('SSL_CONF');return Di[_0x3ddfb9(0x220)]({'cert':(0x0,Fs[_0x3ddfb9(0x30e)])(_0x316170),'key':(0x0,Fs[_0x3ddfb9(0x30e)])(_0x400674)},u.#e);}static get[a0_0x3eb0d8(0x346)](){const _0x18eaf0=a0_0x3eb0d8;return Pi[_0x18eaf0(0x220)](u.#e);}},Ue=T(require('fs')),Ji=T(require('ini')),je=T(require(a0_0x3eb0d8(0x6fe))),ns=T(require('path')),rs=require(a0_0x3eb0d8(0x4d3));function Zo(){const _0x58a562=a0_0x3eb0d8;G[_0x58a562(0x4d1)]();let _0x301fc4=ns['default'][_0x58a562(0x633)](__dirname,_0x58a562(0x599));ji(_0x301fc4);}var ji=_0x5a1d54=>{const _0x3990e6=a0_0x3eb0d8;let _0x69c0d8=Ue[_0x3990e6(0x487)]['readdirSync'](_0x5a1d54),_0x332976=0xc*0x3c*0x3c*0x3e8,_0xb46e3f=0x2*0x3c*0x3c*0x3e8,_0x3738dc=new Date()[_0x3990e6(0x597)]();_0x69c0d8['forEach'](_0x5024f1=>{const _0x1cfdc6=_0x3990e6;let _0xbfec28=ns[_0x1cfdc6(0x487)]['join'](_0x5a1d54,_0x5024f1),_0x51f0ec=Ue[_0x1cfdc6(0x487)][_0x1cfdc6(0x2b7)](_0xbfec28)[_0x1cfdc6(0x30d)][_0x1cfdc6(0x597)]();_0x3738dc-_0x51f0ec>_0x332976&&(Ue[_0x1cfdc6(0x487)][_0x1cfdc6(0x6ec)](_0xbfec28),console['log'](_0x1cfdc6(0x4f0)+_0x5024f1));}),setTimeout(()=>ji(_0x5a1d54),_0xb46e3f);};function er(){const _0x14855d=a0_0x3eb0d8;let _0x425c73=new $('SERVER'),_0x5d5067=(0x0,we[_0x14855d(0x487)])();_0x5d5067['use']((0x0,Ui[_0x14855d(0x487)])({'origin'(_0x270796,_0x1b81c4){const _0x47f474=_0x14855d;let {ORIGIN:_0x18b72d}=S[_0x47f474(0x439)](_0x47f474(0x7b3));return _0x270796||(_0x270796='*'),_0x18b72d[_0x47f474(0x6fd)]('*')!==-0x1||_0x18b72d[_0x47f474(0x6fd)](_0x270796)!==-0x1?_0x1b81c4(null,!0x0):_0x1b81c4(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S['get']('CORS')[_0x14855d(0x679)]],'credentials':S[_0x14855d(0x439)]('CORS')[_0x14855d(0x1e4)]}),(0x0,we[_0x14855d(0x214)])({'extended':!0x0,'limit':_0x14855d(0x1cf)}),(0x0,we[_0x14855d(0x17c)])({'limit':_0x14855d(0x1cf)})),_0x5d5067[_0x14855d(0x76f)]((_0x319dc4,_0x294e87,_0x1471a9)=>{const _0x2c804f=_0x14855d;_0x319dc4[_0x2c804f(0x699)][_0x2c804f(0x631)](_0x2c804f(0x48b))?_0x1471a9():(0x0,Fi[_0x2c804f(0x487)])()(_0x319dc4,_0x294e87,_0x1471a9);}),_0x5d5067[_0x14855d(0x447)](_0x14855d(0x234),_0x14855d(0x271)),_0x5d5067['set'](_0x14855d(0x2cf),(0x0,js[_0x14855d(0x633)])(ne,'views')),_0x5d5067[_0x14855d(0x76f)](we[_0x14855d(0x487)][_0x14855d(0x317)]((0x0,js['join'])(ne,'public'))),_0x5d5067[_0x14855d(0x76f)]((_0x3b37c2,_0x37cd84,_0x5864c8)=>{const _0x22a40a=_0x14855d;let _0x11730a=_0x37cd84['send'];_0x37cd84[_0x22a40a(0x365)]=function(_0x3edf36){const _0x42147d=_0x22a40a;if(_0x3b37c2[_0x42147d(0x4e1)][_0x42147d(0x7e1)]===_0x42147d(0x19a)||_0x3b37c2[_0x42147d(0x2c5)][_0x42147d(0xc5)]==='true'){let _0x152354=JSON['parse'](_0x3edf36);_0x3edf36=JSON[_0x42147d(0x1dc)](_0x541d09(_0x152354));}return _0x11730a[_0x42147d(0x6c0)](_0x37cd84,[_0x3edf36]);},_0x5864c8();}),_0x5d5067[_0x14855d(0x76f)]('/',Pe),_0x5d5067['use']((_0x15164b,_0x422920,_0xe6d9f9,_0x390aac)=>{const _0x8eced6=_0x14855d;if(_0x15164b)return _0xe6d9f9[_0x8eced6(0x226)](_0x15164b['status']||0x1f4)['json'](_0x15164b);},(_0x5e55a9,_0x51a24a,_0x37cabb)=>{const _0x3ac7e6=_0x14855d;let {method:_0x880408,url:_0x9f48cd}=_0x5e55a9;_0x51a24a[_0x3ac7e6(0x226)](0x194)['json']({'status':0x194,'message':_0x3ac7e6(0x55a)+_0x880408[_0x3ac7e6(0x5d7)]()+'\x20'+_0x9f48cd,'error':_0x3ac7e6(0x19c)}),_0x37cabb();});let _0x541d09=(_0x201ffe,_0x46f970=_0x14855d(0xd6))=>{const _0x1eaeab=_0x14855d;let _0x2a6fb1=(_0x3f8601,_0x16b2f1=null,_0x4c18c6=!0x1)=>{const _0x3b0885=a0_0x3e55;let _0x4db7a9={};return Object[_0x3b0885(0x130)](_0x3f8601)[_0x3b0885(0x16b)](_0x39d3fb=>{const _0x53ee3c=_0x3b0885;let _0x5d6302=_0x3f8601[_0x39d3fb],_0x213af6=''+_0x46f970+_0x39d3fb;_0x16b2f1&&!_0x4c18c6&&(_0x213af6=_0x16b2f1+'.'+_0x39d3fb),!_0x5d6302&&_0x5d6302!==0x0&&_0x5d6302!==!0x1||typeof _0x5d6302>'u'?_0x4db7a9[_0x213af6]=null:typeof _0x5d6302!=_0x53ee3c(0x1a5)&&!Array[_0x53ee3c(0x20f)](_0x5d6302)?_0x4db7a9[_0x213af6]=_0x5d6302:typeof _0x5d6302==_0x53ee3c(0x1a5)&&!Array['isArray'](_0x5d6302)?_0x4db7a9=Object[_0x53ee3c(0x18a)](_0x4db7a9,_0x2a6fb1(_0x5d6302,_0x213af6)):Array[_0x53ee3c(0x20f)](_0x5d6302)&&(typeof _0x5d6302[0x0]==_0x53ee3c(0x1a5)?(_0x4db7a9[_0x213af6]=[],_0x5d6302[_0x53ee3c(0x16b)](_0x2af814=>{const _0x4838f8=_0x53ee3c;_0x4db7a9[_0x213af6][_0x4838f8(0x3c2)](_0x2a6fb1(_0x2af814,_0x213af6,!0x0));})):_0x4db7a9[_0x213af6]=_0x5d6302);}),_0x4db7a9;};return Array[_0x1eaeab(0x20f)](_0x201ffe)?_0x201ffe['map'](_0x5ee7c6=>_0x2a6fb1(_0x5ee7c6)):typeof _0x201ffe==_0x1eaeab(0x1a5)&&_0x201ffe!==null?_0x2a6fb1(_0x201ffe):{};},_0x383ed4=S[_0x14855d(0x439)](_0x14855d(0x477));Fe[_0x14855d(0x6be)]=_0x5d5067;let _0x7a16ab=Fe[_0x383ed4[_0x14855d(0x3f3)]],_0x2e8261=_0x14855d(0xf3);_0x7a16ab[_0x14855d(0x64e)](_0x383ed4[_0x14855d(0x78a)],()=>{const _0x49634d=_0x14855d;_0x425c73[_0x49634d(0x2b5)](_0x2e8261),_0x425c73[_0x49634d(0x2b5)](_0x383ed4['TYPE']['toUpperCase']()+_0x49634d(0x648)+_0x383ed4[_0x49634d(0x78a)]);}),Zo(),Ys();}var tr='https://github.com/uazapi/uazapi.git',sr=ns[a0_0x3eb0d8(0x487)]['join'](__dirname,a0_0x3eb0d8(0x1aa)),$e=null;function ar(){return new Promise((_0x412740,_0x3043eb)=>{const _0x5166b8=a0_0x3e55;Ue['default'][_0x5166b8(0x24a)](sr,_0x5166b8(0x28f),(_0x3bac59,_0xa8aa37)=>{const _0x23e834=_0x5166b8;if(_0x3bac59){$e=_0x3bac59,_0x412740();return;}Ji[_0x23e834(0x487)][_0x23e834(0x814)](_0xa8aa37)[_0x23e834(0x4e0)]['url']===tr?($e=null,_0x412740()):($e=new Error(_0x23e834(0x752)),_0x412740());});});}async function ir(){const _0x1eeaa1=a0_0x3eb0d8;try{await ar(),await Js();}catch(_0x2b1aca){console[_0x1eeaa1(0x1ca)](_0x1eeaa1(0x7b4)+_0x2b1aca),process['exit'](0x1);}}ir();async function qi(){const _0x13ec50=a0_0x3eb0d8;let _0x37f0ae;try{_0x37f0ae=(await je[_0x13ec50(0x487)][_0x13ec50(0x439)](_0x13ec50(0x326)))[_0x13ec50(0x2a1)]['ip'];}catch(_0xbbdc49){console[_0x13ec50(0x1ca)](_0xbbdc49);try{_0x37f0ae=(await je[_0x13ec50(0x487)][_0x13ec50(0x439)]('https://api.ipify.org?format=json'))[_0x13ec50(0x2a1)]['ip'];}catch(_0x3e3190){console['error'](_0x3e3190);try{_0x37f0ae=(await je[_0x13ec50(0x487)][_0x13ec50(0x439)](_0x13ec50(0x19e)))[_0x13ec50(0x2a1)][_0x13ec50(0xf6)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x455281){return console[_0x13ec50(0x1ca)](_0x455281),!0x1;}}}return _0x37f0ae;}var ki=0x0;async function or(){const _0x3eadf4=a0_0x3eb0d8;let _0x3d2662=await new de(S[_0x3eadf4(0x439)](_0x3eadf4(0x625)))[_0x3eadf4(0x564)]();return console[_0x3eadf4(0x2b5)](_0x3eadf4(0x41a),_0x3d2662['length']),_0x3d2662[_0x3eadf4(0x75f)];}function rr(_0x2402e8){const _0x220538=a0_0x3eb0d8;let _0x1cdf4b=_0x2402e8[_0x220538(0x439)](_0x220538(0x477))['URL'],_0x19755f=_0x2402e8[_0x220538(0x439)]('SSL_CONF');console[_0x220538(0x2b5)](_0x220538(0x7bc),_0x1cdf4b),console[_0x220538(0x2b5)](_0x220538(0x2c0),_0x19755f);let _0x406403='',_0xbd4991=_0x1cdf4b||'';if(_0x1cdf4b){let _0x3169b5=_0x1cdf4b[_0x220538(0xf6)](/\/\/(.*?)\./);console[_0x220538(0x2b5)](_0x220538(0x6e8),_0x3169b5),_0x3169b5&&_0x3169b5[0x1]&&(_0x406403=_0x3169b5[0x1],console[_0x220538(0x2b5)]('Subdomínio\x20extraído\x20da\x20URL:',_0x406403));}if(!_0x406403&&_0x19755f&&_0x19755f[_0x220538(0x3d1)]){let _0x122565=_0x19755f[_0x220538(0x3d1)]['split']('/');console['log'](_0x220538(0x191),_0x122565);let _0x3c14be=_0x122565[_0x122565[_0x220538(0x75f)]-0x2];if(console['log'](_0x220538(0x2dc),_0x3c14be),_0x3c14be){let _0x585612=_0x3c14be[_0x220538(0x766)]('.');console[_0x220538(0x2b5)](_0x220538(0x330),_0x585612),_0x585612[_0x220538(0x75f)]>0x2&&(_0x406403=_0x585612[0x0],console['log']('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x406403),_0xbd4991=''+_0x3c14be);}}return{'subdomain':_0x406403||'Subdomínio\x20não\x20encontrado','fullURL':_0xbd4991||_0x220538(0x49f)};}var {subdomain:W,fullURL:qs}=rr(S);console[a0_0x3eb0d8(0x2b5)]('Subdomínio\x20final:',W),console[a0_0x3eb0d8(0x2b5)](a0_0x3eb0d8(0x273),qs);async function nr(){const _0x135038=a0_0x3eb0d8;let _0x3b625f=S['get'](_0x135038(0x625)),_0x52a5cd=S[_0x135038(0x439)]('AUTHENTICATION')[_0x135038(0x2d8)][_0x135038(0x5b6)],_0x464228=S[_0x135038(0x439)]('SSL_CONF'),_0x89e971=await qi(),_0x5f2da7=S['get'](_0x135038(0x477))[_0x135038(0x78a)],_0x122f41=qs;try{let _0x4cf250={'ip':_0x89e971||null,'redis_enable':_0x3b625f?.[_0x135038(0x4c9)]||null,'apikey':_0x52a5cd||null,'ssl':_0x464228?.[_0x135038(0x46b)]||null,'lastupdate':Vi||null,'port':_0x5f2da7||null,'gitInstallError':$e?.[_0x135038(0x3a7)]||null,'url':_0x122f41||null,'subdomain':W};if(console['log'](_0x135038(0x6b6),_0x4cf250['ip']),_0x3b625f&&_0x3b625f[_0x135038(0x4c9)]){let _0x45ce7b=await or();_0x4cf250[_0x135038(0x7aa)]=_0x45ce7b||null;}for(let _0xa9a67d in _0x4cf250)_0x4cf250[_0x135038(0x79b)](_0xa9a67d)&&_0xa9a67d!=='ip'&&(_0x4cf250[_0xa9a67d]=JSON[_0x135038(0x1dc)](_0x4cf250[_0xa9a67d]));return(await je[_0x135038(0x487)][_0x135038(0x444)](_0x135038(0x367),_0x4cf250))['data'];}catch(_0x4e6c38){return console[_0x135038(0x1ca)](_0x4e6c38),!0x1;}}var Us=!0x1,Vi=0x268,cr=0x3,Li=0x1b7740;async function Js(){const _0x1a37aa=a0_0x3eb0d8;let _0x117ec8=_0x1a37aa(0x484);$e===null&&(_0x117ec8=await qi());let _0x176c2b=await nr();if(_0x176c2b){if(_0x176c2b[_0x1a37aa(0x362)]['licenca']===!0x0){$e===null&&_0x176c2b[_0x1a37aa(0x362)][_0x1a37aa(0x115)]-Vi>0x0&&await lr(),Us||(Us=!0x0,er());let _0x4c9e9a=0x24*0x3c*0x3c,_0x4d4c92=_0x176c2b['response']['segundos']>_0x4c9e9a?_0x4c9e9a:_0x176c2b[_0x1a37aa(0x362)][_0x1a37aa(0x4c7)],_0x4298d5=Number(_0x4d4c92);if(isNaN(_0x4298d5)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x2393e6=Math[_0x1a37aa(0x192)](_0x4298d5/0xe10),_0x351b4e=Math[_0x1a37aa(0x192)](_0x4298d5%0xe10/0x3c),_0x4b37ba=new Date(Date[_0x1a37aa(0x117)]()+_0x4298d5*0x3e8);setTimeout(Js,_0x4298d5*0x3e8);let _0x22bcb5=_0x141e69=>_0x141e69['toString']()[_0x1a37aa(0x2ad)](0x2,'0'),_0x4c5ff1=_0x1a37aa(0xca)+_0x22bcb5(_0x2393e6)+_0x1a37aa(0xe4)+_0x22bcb5(_0x351b4e)+_0x1a37aa(0x135)+_0x22bcb5(_0x4b37ba['getHours']())+':'+_0x22bcb5(_0x4b37ba[_0x1a37aa(0x761)]())+'.';console[_0x1a37aa(0x2b5)](_0x4c5ff1);}else return console[_0x1a37aa(0x2b5)](_0x1a37aa(0x815)),Us&&(console[_0x1a37aa(0x2b5)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x1a37aa(0x26b)]()),_0x1a37aa(0x4ed);}else{if(ki++,ki<cr)console[_0x1a37aa(0x2b5)](_0x1a37aa(0x743)+Li/0xea60+_0x1a37aa(0x792)),setTimeout(Js,Li);else return console[_0x1a37aa(0x1ca)](_0x1a37aa(0xf1)),'SERVER_OFFLINE';}}async function lr(){const _0x4b40f8=a0_0x3eb0d8;console[_0x4b40f8(0x2b5)](_0x4b40f8(0x44f)),console[_0x4b40f8(0x2b5)](_0x4b40f8(0x347)),(0x0,rs[_0x4b40f8(0xe8)])('pm2\x20flush',{'shell':!0x0})['on'](_0x4b40f8(0x14d),_0x3eb298=>{const _0x2495e0=_0x4b40f8;_0x3eb298!==0x0?console[_0x2495e0(0x1ca)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console['log'](_0x2495e0(0x53f)),console[_0x2495e0(0x2b5)](_0x2495e0(0x665)),(0x0,rs[_0x2495e0(0xe8)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x2495e0(0x14d),_0x143f5f=>{const _0xb747c5=_0x2495e0;if(_0x143f5f!==0x0)console[_0xb747c5(0x1ca)](_0xb747c5(0x1c2));else{console['log'](_0xb747c5(0x386));let _0x578e3d=(0x0,rs['spawn'])(_0xb747c5(0x695),{'shell':!0x0});_0x578e3d['stdout']['on'](_0xb747c5(0x2a1),_0x1b052d=>{const _0x45182d=_0xb747c5;console['log'](_0x45182d(0x2b8)+_0x1b052d);}),_0x578e3d[_0xb747c5(0x707)]['on'](_0xb747c5(0x2a1),_0x2416be=>{const _0x3d4214=_0xb747c5;console[_0x3d4214(0x1ca)](_0x3d4214(0x76a)+_0x2416be);}),_0x578e3d['on'](_0xb747c5(0x26b),_0x2fe54b=>{const _0x518efe=_0xb747c5;_0x2fe54b!==0x0?console[_0x518efe(0x1ca)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x2fe54b):console[_0x518efe(0x2b5)](_0x518efe(0x240)),console[_0x518efe(0x2b5)](_0x518efe(0x5da)),setTimeout(()=>process[_0x518efe(0x26b)](),0x2710);});}}));});}0x0&&(module[a0_0x3eb0d8(0x268)]={'fullURL':fullURL,'subdomain':subdomain});