const a0_0x341dd0=a0_0x5184;(function(_0x2fbb50,_0x54b4e0){const _0xcc651b=a0_0x5184,_0x5959ca=_0x2fbb50();while(!![]){try{const _0x200f18=-parseInt(_0xcc651b(0x3b8))/0x1+parseInt(_0xcc651b(0x76e))/0x2*(-parseInt(_0xcc651b(0x269))/0x3)+parseInt(_0xcc651b(0x47e))/0x4*(parseInt(_0xcc651b(0x3ca))/0x5)+-parseInt(_0xcc651b(0x301))/0x6*(-parseInt(_0xcc651b(0x63e))/0x7)+parseInt(_0xcc651b(0x8f9))/0x8+parseInt(_0xcc651b(0x2db))/0x9+parseInt(_0xcc651b(0x7fa))/0xa*(-parseInt(_0xcc651b(0x491))/0xb);if(_0x200f18===_0x54b4e0)break;else _0x5959ca['push'](_0x5959ca['shift']());}catch(_0x2f667e){_0x5959ca['push'](_0x5959ca['shift']());}}}(a0_0x3ea5,0x29335));var Gi=Object['create'],qe=Object[a0_0x341dd0(0x60d)],Bi=Object[a0_0x341dd0(0x594)],Wi=Object[a0_0x341dd0(0x50c)],zi=Object[a0_0x341dd0(0x25d)],Hi=Object[a0_0x341dd0(0x219)][a0_0x341dd0(0x324)],Ki=(_0x39e2d9,_0x3dd06e)=>{for(var _0x49049a in _0x3dd06e)qe(_0x39e2d9,_0x49049a,{'get':_0x3dd06e[_0x49049a],'enumerable':!0x0});},Vs=(_0x72740,_0xa01056,_0x5f3053,_0x19caa0)=>{const _0x5e0f7b=a0_0x341dd0;if(_0xa01056&&typeof _0xa01056==_0x5e0f7b(0x8d7)||typeof _0xa01056==_0x5e0f7b(0x2ce)){for(let _0xab88db of Wi(_0xa01056))!Hi[_0x5e0f7b(0x2f4)](_0x72740,_0xab88db)&&_0xab88db!==_0x5f3053&&qe(_0x72740,_0xab88db,{'get':()=>_0xa01056[_0xab88db],'enumerable':!(_0x19caa0=Bi(_0xa01056,_0xab88db))||_0x19caa0[_0x5e0f7b(0x843)]});}return _0x72740;},A=(_0x3d0584,_0xbd124e,_0x5aa28c)=>(_0x5aa28c=_0x3d0584!=null?Gi(zi(_0x3d0584)):{},Vs(_0xbd124e||!_0x3d0584||!_0x3d0584[a0_0x341dd0(0x24d)]?qe(_0x5aa28c,a0_0x341dd0(0x4ea),{'value':_0x3d0584,'enumerable':!0x0}):_0x5aa28c,_0x3d0584)),Qi=_0x161c9d=>Vs(qe({},'__esModule',{'value':!0x0}),_0x161c9d),ur={};Ki(ur,{'fullURL':()=>qs,'subdomain':()=>W}),module['exports']=Qi(ur);var Fi=A(require(a0_0x341dd0(0x7f3))),Bs=require('fs'),Ws=require(a0_0x341dd0(0x573)),zs=require(a0_0x341dd0(0x85b)),Ve=require(a0_0x341dd0(0x85b)),ne=process[a0_0x341dd0(0x4f9)](),be=(0x0,Ve[a0_0x341dd0(0x421)])(ne,a0_0x341dd0(0x291)),Gs=(0x0,Ve['join'])(ne,a0_0x341dd0(0x3e9)),sn=(0x0,Ve['join'])(ne,a0_0x341dd0(0x264),a0_0x341dd0(0x3d7)),us=class{constructor(){const _0x4d8047=a0_0x341dd0;this[_0x4d8047(0x4de)]();}[a0_0x341dd0(0x86a)](_0x327dc5){const _0x542800=a0_0x341dd0;return this[_0x542800(0x2e0)][_0x327dc5];}[a0_0x341dd0(0x4de)](){const _0x1b8f36=a0_0x341dd0;this[_0x1b8f36(0x2e0)]=process[_0x1b8f36(0x2e0)]?.[_0x1b8f36(0x265)]!==_0x1b8f36(0x203)?this[_0x1b8f36(0x900)]():this[_0x1b8f36(0x456)](),process[_0x1b8f36(0x2e0)]?.[_0x1b8f36(0x265)]==='true'&&(this[_0x1b8f36(0x2e0)][_0x1b8f36(0x847)][_0x1b8f36(0x6eb)]=_0x1b8f36(0x52e),this['env']['SERVER'][_0x1b8f36(0x4c4)]=Number[_0x1b8f36(0x4ae)](process[_0x1b8f36(0x2e0)]?.[_0x1b8f36(0x23e)]??_0x1b8f36(0x8e4)));}[a0_0x341dd0(0x900)](){const _0x386cda=a0_0x341dd0;return(0x0,Ws[_0x386cda(0x394)])((0x0,Bs['readFileSync'])((0x0,zs['join'])(Gs,_0x386cda(0x42d)),{'encoding':_0x386cda(0x8de)}));}[a0_0x341dd0(0x456)](){const _0x18d395=a0_0x341dd0;return{'SERVER':{'TYPE':process[_0x18d395(0x2e0)]['SERVER_TYPE'],'PORT':Number[_0x18d395(0x4ae)](process[_0x18d395(0x2e0)][_0x18d395(0x23e)]),'URL':process[_0x18d395(0x2e0)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x18d395(0x2e0)]['CORS_ORIGIN'][_0x18d395(0x518)](','),'METHODS':process[_0x18d395(0x2e0)][_0x18d395(0x497)]['split'](','),'CREDENTIALS':process['env']?.[_0x18d395(0x8e2)]===_0x18d395(0x203)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x18d395(0x4b2)],'FULLCHAIN':process[_0x18d395(0x2e0)]?.[_0x18d395(0x74c)]},'STORE':{'CLEANING_INTERVAL':Number[_0x18d395(0x416)](process[_0x18d395(0x2e0)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x18d395(0x4ae)](process[_0x18d395(0x2e0)][_0x18d395(0x4cd)]):void 0x0,'MESSAGES':process['env']?.[_0x18d395(0x3c1)]===_0x18d395(0x203),'CONTACTS':process['env']?.[_0x18d395(0x638)]===_0x18d395(0x203),'CHATS':process[_0x18d395(0x2e0)]?.[_0x18d395(0x829)]===_0x18d395(0x203)},'DATABASE':{'CONNECTION':{'HOST':process[_0x18d395(0x2e0)]?.[_0x18d395(0x570)],'PORT':Number[_0x18d395(0x4ae)](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x18d395(0x2e0)][_0x18d395(0x1ad)],'PASSWORD':process[_0x18d395(0x2e0)][_0x18d395(0x754)],'URI':process['env'][_0x18d395(0x8f4)],'DB_PREFIX_NAME':process[_0x18d395(0x2e0)][_0x18d395(0x41a)]},'ENABLED':process['env']?.[_0x18d395(0x500)]===_0x18d395(0x203)},'REDIS':{'ENABLED':process['env']?.[_0x18d395(0x2cf)]===_0x18d395(0x203),'URI':process[_0x18d395(0x2e0)]['REDIS_URI']||_0x18d395(0x77e),'PREFIX_KEY':process['env'][_0x18d395(0x5cc)]||_0x18d395(0x3e3)},'LOG':{'LEVEL':process[_0x18d395(0x2e0)]?.['LOG_LEVEL'][_0x18d395(0x518)](','),'COLOR':process[_0x18d395(0x2e0)]?.['LOG_COLOR']===_0x18d395(0x203)},'PROXY':process[_0x18d395(0x2e0)]?.[_0x18d395(0x397)]==='true','AUTHENTICATION':{'TYPE':process[_0x18d395(0x2e0)][_0x18d395(0x3d9)],'API_KEY':{'KEY':process['env'][_0x18d395(0x848)]},'JWT':{'EXPIRIN_IN':Number[_0x18d395(0x416)](process[_0x18d395(0x2e0)]?.[_0x18d395(0x208)])?Number[_0x18d395(0x4ae)](process[_0x18d395(0x2e0)][_0x18d395(0x208)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),Ui=A(require(a0_0x341dd0(0x1c7))),we=A(require(a0_0x341dd0(0x7ec))),js=require(a0_0x341dd0(0x85b)),ds=A(require(a0_0x341dd0(0x8b7))),ps=(_0x4d9e6a=>(_0x4d9e6a[a0_0x341dd0(0x6dc)]=a0_0x341dd0(0x5aa),_0x4d9e6a[a0_0x341dd0(0x22b)]=a0_0x341dd0(0x8b2),_0x4d9e6a[a0_0x341dd0(0x8be)]=a0_0x341dd0(0x62d),_0x4d9e6a[a0_0x341dd0(0x3a5)]=a0_0x341dd0(0x20d),_0x4d9e6a[a0_0x341dd0(0x325)]=a0_0x341dd0(0x2cd),_0x4d9e6a[a0_0x341dd0(0x622)]=a0_0x341dd0(0x538),_0x4d9e6a[a0_0x341dd0(0x4ef)]=a0_0x341dd0(0x3bb),_0x4d9e6a))(ps||{}),Hs=(_0x28787c=>(_0x28787c[a0_0x341dd0(0x6dc)]=a0_0x341dd0(0x5df),_0x28787c['DARK']=a0_0x341dd0(0x5c8),_0x28787c[a0_0x341dd0(0x22b)]=a0_0x341dd0(0x1af),_0x28787c['WARN']=a0_0x341dd0(0x7c1),_0x28787c['ERROR']=a0_0x341dd0(0x767),_0x28787c[a0_0x341dd0(0x325)]=a0_0x341dd0(0x730),_0x28787c[a0_0x341dd0(0x622)]=a0_0x341dd0(0x229),_0x28787c))(Hs||{}),Ks=(_0x2be7ed=>(_0x2be7ed['LOG']=a0_0x341dd0(0x6dc),_0x2be7ed[a0_0x341dd0(0x8be)]=a0_0x341dd0(0x8be),_0x2be7ed[a0_0x341dd0(0x22b)]=a0_0x341dd0(0x22b),_0x2be7ed[a0_0x341dd0(0x4ef)]=a0_0x341dd0(0x4ef),_0x2be7ed[a0_0x341dd0(0x3a5)]=a0_0x341dd0(0x3a5),_0x2be7ed[a0_0x341dd0(0x325)]='DEBUG',_0x2be7ed[a0_0x341dd0(0x622)]=a0_0x341dd0(0x622),_0x2be7ed))(Ks||{}),Qs=(_0x2af8ba=>(_0x2af8ba[a0_0x341dd0(0x6dc)]=a0_0x341dd0(0x33a),_0x2af8ba['INFO']=a0_0x341dd0(0x83c),_0x2af8ba['WARN']=a0_0x341dd0(0x718),_0x2af8ba[a0_0x341dd0(0x4ef)]=a0_0x341dd0(0x231),_0x2af8ba['ERROR']=a0_0x341dd0(0x6c6),_0x2af8ba[a0_0x341dd0(0x325)]='\x1b[46m',_0x2af8ba[a0_0x341dd0(0x622)]=a0_0x341dd0(0x674),_0x2af8ba))(Qs||{}),$=class{constructor(_0x3df7cd=a0_0x341dd0(0x76b)){const _0x1c3b16=a0_0x341dd0;this['context']=_0x3df7cd,this[_0x1c3b16(0x403)]=S;}['setContext'](_0x67bdfd){const _0x1ba33f=a0_0x341dd0;this[_0x1ba33f(0x3f4)]=_0x67bdfd;}[a0_0x341dd0(0x8af)](_0x55e951,_0x2a7d21){const _0x1e4e3c=a0_0x341dd0;let _0x1d9aa6=[];this[_0x1e4e3c(0x403)]['get'](_0x1e4e3c(0x6dc))['LEVEL'][_0x1e4e3c(0x8b4)](_0x1cbb4f=>_0x1d9aa6[_0x1e4e3c(0x452)](Ks[_0x1cbb4f]));let _0x1bc400=typeof _0x55e951;_0x1d9aa6[_0x1e4e3c(0x23d)](_0x2a7d21)&&(S[_0x1e4e3c(0x86a)](_0x1e4e3c(0x6dc))[_0x1e4e3c(0x527)]?(console[_0x1e4e3c(0x3c3)](_0x1e4e3c(0x5d4)+Hs[_0x2a7d21],_0x1e4e3c(0x30c),(0x0,ds['default'])()[_0x1e4e3c(0x640)](_0x1e4e3c(0x320)),_0x1e4e3c(0x3e6),ps[_0x2a7d21]+Qs[_0x2a7d21]+_0x1e4e3c(0x5d4),_0x2a7d21+_0x1e4e3c(0x3ee),_0x1e4e3c(0x8ac),this['context']+_0x1e4e3c(0x3e6),ps[_0x2a7d21],_0x1bc400!==_0x1e4e3c(0x8d7)?_0x55e951:'',_0x1e4e3c(0x3e6)),_0x1bc400===_0x1e4e3c(0x8d7)&&console['log'](_0x55e951,'\x0a')):console[_0x1e4e3c(0x3c3)]((0x0,ds[_0x1e4e3c(0x4ea)])()[_0x1e4e3c(0x640)](_0x1e4e3c(0x592)),_0x2a7d21+'\x20',''+this[_0x1e4e3c(0x3f4)],_0x55e951));}['log'](_0x5e7317){const _0x368faf=a0_0x341dd0;this[_0x368faf(0x8af)](_0x5e7317,_0x368faf(0x6dc));}[a0_0x341dd0(0x2d3)](_0x2f4a22){const _0x2866f2=a0_0x341dd0;this['console'](_0x2f4a22,_0x2866f2(0x22b));}[a0_0x341dd0(0x8ff)](_0x35eb01){const _0x10dba3=a0_0x341dd0;this[_0x10dba3(0x8af)](_0x35eb01,_0x10dba3(0x8be));}[a0_0x341dd0(0x4a8)](_0x4ac17f){const _0x54a9ae=a0_0x341dd0;this[_0x54a9ae(0x8af)](_0x4ac17f,_0x54a9ae(0x3a5));}[a0_0x341dd0(0x769)](_0x5038ce){const _0x16275f=a0_0x341dd0;this['console'](_0x5038ce,_0x16275f(0x622));}[a0_0x341dd0(0x458)](_0x248474){const _0x6787c9=a0_0x341dd0;this[_0x6787c9(0x8af)](_0x248474,_0x6787c9(0x325));}['dark'](_0x30a134){const _0x3f6947=a0_0x341dd0;this[_0x3f6947(0x8af)](_0x30a134,_0x3f6947(0x4ef));}};function a0_0x5184(_0x295aa5,_0x1e060a){const _0x3ea5e3=a0_0x3ea5();return a0_0x5184=function(_0x5184ce,_0x1578c5){_0x5184ce=_0x5184ce-0x1ab;let _0x2d6da8=_0x3ea5e3[_0x5184ce];return _0x2d6da8;},a0_0x5184(_0x295aa5,_0x1e060a);}function Ys(){const _0x408ee6=a0_0x341dd0;process['on'](_0x408ee6(0x6c9),(_0x463cce,_0x188801)=>{const _0x4c6c12=_0x408ee6;new $('uncaughtException')['error']({'origin':_0x188801,'stderr':process[_0x4c6c12(0x44b)]['fd'],'error':_0x463cce});}),process['on'](_0x408ee6(0x526),(_0x18309,_0x3f9a5c)=>{const _0x281d19=_0x408ee6;new $('unhandledRejection')[_0x281d19(0x4a8)]({'origin':_0x3f9a5c,'stderr':process[_0x281d19(0x44b)]['fd'],'error':_0x18309});});}var Xs=A(require(a0_0x341dd0(0x54f))),hs=new Xs[(a0_0x341dd0(0x4ea))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x341dd0(0x57a)),Ae=A(require(a0_0x341dd0(0x57a))),Ge=new $(a0_0x341dd0(0x383)),F=S[a0_0x341dd0(0x86a)]('DATABASE'),R=F['ENABLED']?F['CONNECTION'][a0_0x341dd0(0x259)]?Ae[a0_0x341dd0(0x4ea)]['createConnection'](F['CONNECTION'][a0_0x341dd0(0x259)],{'dbName':F[a0_0x341dd0(0x892)][a0_0x341dd0(0x422)]+a0_0x341dd0(0x57d)}):Ae[a0_0x341dd0(0x4ea)]['createConnection'](a0_0x341dd0(0x32c)+F['CONNECTION'][a0_0x341dd0(0x8d2)]+':'+F['CONNECTION'][a0_0x341dd0(0x4c4)]+a0_0x341dd0(0x8fb),{'user':F['CONNECTION'][a0_0x341dd0(0x76f)],'pass':F[a0_0x341dd0(0x892)][a0_0x341dd0(0x2eb)],'dbName':F[a0_0x341dd0(0x892)]['DB_PREFIX_NAME']+a0_0x341dd0(0x57d)}):null;F[a0_0x341dd0(0x225)]&&Ge[a0_0x341dd0(0x2d3)](a0_0x341dd0(0x5c6)+R[a0_0x341dd0(0x23c)]);var ce=F[a0_0x341dd0(0x225)]?F[a0_0x341dd0(0x892)]['URI']?Ae['default']['createConnection'](F[a0_0x341dd0(0x892)][a0_0x341dd0(0x259)],{'dbName':a0_0x341dd0(0x387)}):Ae[a0_0x341dd0(0x4ea)][a0_0x341dd0(0x5e7)](a0_0x341dd0(0x32c)+F[a0_0x341dd0(0x892)][a0_0x341dd0(0x8d2)]+':'+F[a0_0x341dd0(0x892)][a0_0x341dd0(0x4c4)]+a0_0x341dd0(0x8fb),{'user':F['CONNECTION'][a0_0x341dd0(0x76f)],'pass':F[a0_0x341dd0(0x892)][a0_0x341dd0(0x2eb)],'dbName':'cachedContacts-whatsapp'}):null;ce&&Ge[a0_0x341dd0(0x2d3)](a0_0x341dd0(0x5c6)+ce[a0_0x341dd0(0x23c)]),process['on'](a0_0x341dd0(0x3dd),()=>{const _0xa35dd6=a0_0x341dd0;R&&R[_0xa35dd6(0x354)](()=>{const _0x49a395=_0xa35dd6;Ge[_0x49a395(0x2d3)]('Database\x20connection\x20closed.');}),ce&&ce['close'](()=>{const _0x386daa=_0xa35dd6;Ge[_0x386daa(0x2d3)](_0x386daa(0x618));});});var Yi=new Se[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new Se[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new Se[(a0_0x341dd0(0x4bd))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new Se['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new Se[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Zs=_0x14e7d4=>{const _0x2b4074=a0_0x341dd0;let _0x34d77b='z_'+_0x14e7d4+'_Chats';return R?.[_0x2b4074(0x7cd)]('ChatModel',to,_0x34d77b);},ea=require(a0_0x341dd0(0x57a)),so=new ea[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=_0x518caa=>{const _0x14881e=a0_0x341dd0;let _0x146bee='z_'+_0x518caa+_0x14881e(0x81d);return R?.[_0x14881e(0x7cd)](_0x14881e(0x4af),so,_0x146bee);},sa=require(a0_0x341dd0(0x57a)),gs=class{},ao=new sa[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=ce?.[a0_0x341dd0(0x7cd)](gs[a0_0x341dd0(0x1fa)],ao,'ContactsAndGroups'),ia=require(a0_0x341dd0(0x57a)),ms=class{},io=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=ce?.['model'](ms[a0_0x341dd0(0x1fa)],io,'instances'),oa=require(a0_0x341dd0(0x57a)),oo=new oa[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ra=_0x4753a2=>{const _0x192e1c=a0_0x341dd0;let _0xbbd00c='z_'+_0x4753a2+_0x192e1c(0x734);return R?.[_0x192e1c(0x7cd)](_0x192e1c(0x2be),oo,_0xbbd00c);},na=require(a0_0x341dd0(0x57a)),fs=class{},ro=new na['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ca=R?.[a0_0x341dd0(0x7cd)](fs[a0_0x341dd0(0x1fa)],ro,'authentication'),la=require('mongoose'),ws=class{},ua=new la[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ua[a0_0x341dd0(0x806)]('save',function(_0xe6e892){const _0x1d81ad=a0_0x341dd0;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this[_0x1d81ad(0x66e)],delete this[_0x1d81ad(0x418)],_0xe6e892();});var da=R?.[a0_0x341dd0(0x7cd)](ws[a0_0x341dd0(0x1fa)],ua,a0_0x341dd0(0x4c6)),D=require(a0_0x341dd0(0x57a)),ys=require(a0_0x341dd0(0x6b4)),We=class{},bs=class{},ha=new D[(a0_0x341dd0(0x4bd))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ss=new D[(a0_0x341dd0(0x4bd))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x341dd0(0x6d6)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x341dd0(0x60c)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ga=new D[(a0_0x341dd0(0x4bd))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new D[(a0_0x341dd0(0x4bd))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new D[(a0_0x341dd0(0x4bd))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new D[(a0_0x341dd0(0x4bd))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new D['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ma=new D[(a0_0x341dd0(0x4bd))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),fa=new D[(a0_0x341dd0(0x4bd))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),wa=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x2b3484=a0_0x341dd0;return _0x2b3484(0x83f)+Math[_0x2b3484(0x778)]()[_0x2b3484(0x5a5)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x341dd0(0x21a)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});wa['pre'](a0_0x341dd0(0x889),function(_0x4d607a){const _0x5413f0=a0_0x341dd0;let _0x34b441=this[_0x5413f0(0x66a)]();if(_0x34b441&&typeof _0x34b441==_0x5413f0(0x8d7)&&_0x5413f0(0x294)in _0x34b441){let _0x280e66=_0x34b441[_0x5413f0(0x294)];if(_0x280e66){let _0x5593e8=new Set(),_0x4df5a2=new Set(_0x280e66[_0x5413f0(0x798)]?.[_0x5413f0(0x486)](_0x2699e3=>_0x2699e3[_0x5413f0(0x1fa)])),_0x1a7f77=JSON[_0x5413f0(0x3c8)](_0x280e66),_0x1fe067=/{{(?!_)([^}]*)}}/g,_0x152fcc;for(;(_0x152fcc=_0x1fe067[_0x5413f0(0x75c)](_0x1a7f77))!==null;)_0x4df5a2[_0x5413f0(0x568)](_0x152fcc[0x1])||_0x5593e8[_0x5413f0(0x2f8)](_0x152fcc[0x1]);_0x5593e8[_0x5413f0(0x5e6)]>0x0?(console[_0x5413f0(0x8ff)](_0x5413f0(0x295),Array[_0x5413f0(0x731)](_0x5593e8)),_0x280e66[_0x5413f0(0x727)]=Array[_0x5413f0(0x731)](_0x5593e8)):_0x280e66[_0x5413f0(0x727)]=[],this['setUpdate']({'$set':_0x280e66});}}_0x4d607a();});var Me=R?.['model'](bs[a0_0x341dd0(0x1fa)],wa,'allFlows'),po=new D[(a0_0x341dd0(0x4bd))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new D[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x341dd0(0x86d)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x341dd0(0x60c)},'waitingMenu_replyOptions':{'type':[Ss],'default':[]}}),ya=_0x41ba6d=>{const _0x1f556b=a0_0x341dd0;let _0x3f47e6='z_'+_0x41ba6d+_0x1f556b(0x7b8);return R?.[_0x1f556b(0x7cd)]('ConversationModel',ho,_0x3f47e6);},go=new D[(a0_0x341dd0(0x4bd))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),pa=new D['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[pa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':'scheduled'},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':pa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ba=_0x212564=>{const _0x18e1c2=a0_0x341dd0;let _0x18fd0b='z_'+_0x212564+_0x18e1c2(0x6d1);return R?.[_0x18e1c2(0x7cd)](_0x18e1c2(0x461),mo,_0x18fd0b);},Ms=class{},fo=new D[(a0_0x341dd0(0x4bd))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new D[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new D[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x341dd0(0x70c)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new D[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new D[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),Ie=R?.[a0_0x341dd0(0x7cd)](Ms[a0_0x341dd0(0x1fa)],Mo,a0_0x341dd0(0x2d9)),Sa=require(a0_0x341dd0(0x57a)),Co=new Sa['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x2c89b8=>{const _0x4d360e=a0_0x341dd0;let _0x2e0366='z_'+_0x2c89b8+_0x4d360e(0x1e7);return R?.[_0x4d360e(0x7cd)](_0x4d360e(0x2e9),Co,_0x2e0366);},_=class{constructor(_0x5ab27a){const _0x11fedb=a0_0x341dd0;this[_0x11fedb(0x278)]=_0x5ab27a[_0x11fedb(0x86a)](_0x11fedb(0x2c4));}};function I(_0x1d7a99){const _0x353742=a0_0x341dd0;let _0x18b7ba={};for(let [_0x4a1c06,_0x5ab636]of Object[_0x353742(0x760)](_0x1d7a99))if(typeof _0x5ab636==_0x353742(0x8d7)&&!Array[_0x353742(0x1b5)](_0x5ab636)){for(let [_0x168b9c,_0x4ce772]of Object[_0x353742(0x760)](_0x5ab636))_0x18b7ba[_0x4a1c06+'.'+_0x168b9c]=_0x4ce772;}else _0x18b7ba[_0x4a1c06]=_0x5ab636;return _0x18b7ba;}var ze=class{constructor(_0x5e827b,_0x346620,_0x3c753d,_0x29424b,_0x226ab4,_0x4ec262,_0x21fb49,_0x5032d5,_0x1c14ff,_0x474b5b,_0x219fd0,_0x1860c6,_0x398559){const _0x5b0fa9=a0_0x341dd0;this[_0x5b0fa9(0x450)]=_0x5e827b,this[_0x5b0fa9(0x8b3)]=_0x346620,this[_0x5b0fa9(0x784)]=_0x3c753d,this[_0x5b0fa9(0x47b)]=_0x29424b,this[_0x5b0fa9(0x4c6)]=_0x226ab4,this['auth']=_0x4ec262,this[_0x5b0fa9(0x286)]=_0x21fb49,this[_0x5b0fa9(0x414)]=_0x5032d5,this[_0x5b0fa9(0x6f8)]=_0x1c14ff,this[_0x5b0fa9(0x33f)]=_0x474b5b,this['scheduleMessage']=_0x219fd0,this['automateSystem']=_0x1860c6,this[_0x5b0fa9(0x744)]=_0x398559;}get[a0_0x341dd0(0x8ee)](){const _0x46b5db=a0_0x341dd0;return this[_0x46b5db(0x744)];}},He=class{},Ke=class extends _{[a0_0x341dd0(0x386)](_0x22b53b){return ra(_0x22b53b);}async[a0_0x341dd0(0x24a)](_0x3133e2,_0x3051d8){const _0x10a32d=a0_0x341dd0;if(_0x3133e2[_0x10a32d(0x65e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x10a32d(0x386)](_0x3051d8)[_0x10a32d(0x3d1)]([..._0x3133e2]))[_0x10a32d(0x65e)]};}catch(_0xe1d2c){return _0xe1d2c;}}async[a0_0x341dd0(0x232)](_0x229fd5,_0x569308){const _0x4bca18=a0_0x341dd0;try{let _0x386f0d=this['getMessageModelForOwner'](_0x569308),_0x5f2258=I(_0x229fd5[_0x4bca18(0x8fc)]);return await _0x386f0d[_0x4bca18(0x232)](_0x5f2258)[_0x4bca18(0x739)]({'messageTimestamp':-0x1})[_0x4bca18(0x3f1)](_0x229fd5?.[_0x4bca18(0x3f1)]??0x0)[_0x4bca18(0x6f1)]();}catch{return[];}}async[a0_0x341dd0(0x854)](_0x55d92b,_0x4056d3){const _0x4c8f52=a0_0x341dd0;try{let _0x2f7cf3=this[_0x4c8f52(0x386)](_0x4056d3),_0x1671b8=I(_0x55d92b[_0x4c8f52(0x8fc)]);await _0x2f7cf3['deleteMany'](_0x1671b8);}catch(_0x30fd8c){console[_0x4c8f52(0x4a8)](_0x30fd8c);}}async[a0_0x341dd0(0x85c)](_0xc1b4ba,_0x5b08ed,_0x42ff35){const _0x41c5f2=a0_0x341dd0;try{let _0x22bb26=this[_0x41c5f2(0x386)](_0x42ff35),_0x442759=I(_0xc1b4ba[_0x41c5f2(0x8fc)]);return await _0x22bb26[_0x41c5f2(0x889)](_0x442759,{'$set':_0x5b08ed},{'new':!0x0});}catch(_0x2dff7e){throw console[_0x41c5f2(0x4a8)](_0x2dff7e),_0x2dff7e;}}async[a0_0x341dd0(0x3d1)](_0x4d2199,_0x25f22f){const _0x2d324d=a0_0x341dd0;if(_0x4d2199[_0x2d324d(0x65e)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2d324d(0x386)](_0x25f22f)[_0x2d324d(0x3d1)]([..._0x4d2199]))[_0x2d324d(0x65e)]};}catch(_0x3bd51b){return console[_0x2d324d(0x3c3)]('ERROR:\x20',_0x3bd51b),_0x3bd51b;}}async[a0_0x341dd0(0x78b)](_0x412ad4){const _0x35ab66=a0_0x341dd0;try{return await this[_0x35ab66(0x386)](_0x412ad4)[_0x35ab66(0x756)]['drop'](),{'success':!0x0};}catch(_0x3788c4){return console[_0x35ab66(0x4a8)](_0x3788c4),{'success':!0x1,'error':_0x3788c4};}}},_s=A(require(a0_0x341dd0(0x6e4))),w=A(require(a0_0x341dd0(0x8d3))),Le=require('fs'),U=A(require('path')),Y=A(require(a0_0x341dd0(0x8a8))),Ai=require(a0_0x341dd0(0x6b4)),Ii=A(require(a0_0x341dd0(0x4b6))),Ti=A(require('qrcode-terminal')),Ca=['imageMessage','documentMessage',a0_0x341dd0(0x340),a0_0x341dd0(0x419),'stickerMessage'],Ea=['ephemeralMessage','documentWithCaptionMessage',a0_0x341dd0(0x846),'viewOnceMessageV2'],xs=require('os'),Ut=A(require(a0_0x341dd0(0x234))),Fe=require('child_process'),Oi=require('node-mime-types'),he=A(require('mongoose')),k=require('class-validator'),le=class{constructor(_0x3718a8,_0x8acac5,_0x3ba08d){const _0x3577d4=a0_0x341dd0;this[_0x3577d4(0x824)]=_0x3718a8,this[_0x3577d4(0x861)]=_0x8acac5,this[_0x3577d4(0x1fa)]=_0x3ba08d;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ce=class{},et=class{},tt=class{},st=class{},at=class{},xt=A(require(a0_0x341dd0(0x7ec))),va=require('fs'),Na=require('path');async function Oe(_0x189da2){const _0x4bdd29=a0_0x341dd0;let _0x12f722=G[_0x4bdd29(0x5c3)][_0x189da2];if(F[_0x4bdd29(0x225)]){let _0x26af8d=R[_0x4bdd29(0x2da)]()['db'](F[_0x4bdd29(0x892)][_0x4bdd29(0x422)]+'-instances')[_0x4bdd29(0x756)](_0x189da2);return _0x12f722||(await _0x26af8d['find']({})[_0x4bdd29(0x1f6)]())[_0x4bdd29(0x65e)]>0x0;}return _0x12f722||(0x0,va[_0x4bdd29(0x4b7)])((0x0,Na[_0x4bdd29(0x421)])(be,_0x189da2));}async function $a(_0x4216f6,_0x558b85,_0x195fb4){const _0x7a921b=a0_0x341dd0;if(_0x4216f6['originalUrl'][_0x7a921b(0x23d)](_0x7a921b(0x63c))||_0x4216f6['originalUrl']['includes'](_0x7a921b(0x878))||_0x4216f6['originalUrl'][_0x7a921b(0x23d)](_0x7a921b(0x424))||_0x4216f6[_0x7a921b(0x651)][_0x7a921b(0x23d)](_0x7a921b(0x35d))||_0x4216f6[_0x7a921b(0x651)][_0x7a921b(0x23d)](_0x7a921b(0x8d0))||_0x4216f6[_0x7a921b(0x651)][_0x7a921b(0x23d)](_0x7a921b(0x3bf))||_0x4216f6[_0x7a921b(0x651)][_0x7a921b(0x23d)](_0x7a921b(0x53e)))return _0x195fb4();let _0x3e7ab1=_0x4216f6[_0x7a921b(0x6c7)];if(!_0x3e7ab1?.[_0x7a921b(0x7d8)])throw new m(_0x7a921b(0x36e));if(!await Oe(_0x3e7ab1[_0x7a921b(0x7d8)]))throw new j('The\x20'+_0x3e7ab1[_0x7a921b(0x7d8)]+_0x7a921b(0x87b));_0x195fb4();}async function Ra(_0x9eb2ad,_0x226a4c,_0x1f97f2){const _0x4e7fdb=a0_0x341dd0;if(_0x9eb2ad[_0x4e7fdb(0x651)][_0x4e7fdb(0x23d)]('/instance/create')){let _0x503da3=_0x9eb2ad[_0x4e7fdb(0x466)];if(await Oe(_0x503da3[_0x4e7fdb(0x7d8)]))throw new Z(_0x4e7fdb(0x1d7)+_0x503da3[_0x4e7fdb(0x7d8)]+_0x4e7fdb(0x7de));G[_0x4e7fdb(0x5c3)][_0x503da3[_0x4e7fdb(0x7d8)]]&&delete G[_0x4e7fdb(0x5c3)][_0x503da3['instanceName']];}_0x1f97f2();}var Aa=require(a0_0x341dd0(0x777)),Ia=A(require(a0_0x341dd0(0x34e))),it='uazapi',vo=new $(a0_0x341dd0(0x3b5));async function No(_0x1890d0,_0x2cebb2,_0x549df8){const _0x50d1f7=a0_0x341dd0;let _0x1b5180=_0x1890d0[_0x50d1f7(0x86a)](_0x50d1f7(0x2b8));if(_0x1b5180&&S['get'](_0x50d1f7(0x562))[_0x50d1f7(0x8b6)][_0x50d1f7(0x4fd)]!==_0x1b5180)throw new oe();if(S['get'](_0x50d1f7(0x562))[_0x50d1f7(0x8b6)][_0x50d1f7(0x4fd)]===_0x1b5180)return _0x549df8();if((_0x1890d0['originalUrl'][_0x50d1f7(0x23d)](_0x50d1f7(0x63c))||_0x1890d0[_0x50d1f7(0x651)]['includes'](_0x50d1f7(0x878)))&&!_0x1b5180)throw new Z('Missing\x20global\x20api\x20key',_0x50d1f7(0x699));let _0x5d3bf4=S[_0x50d1f7(0x86a)](_0x50d1f7(0x562))[_0x50d1f7(0x5c7)];try{let [_0x2dfe80,_0x38ba06]=_0x1890d0[_0x50d1f7(0x86a)](_0x50d1f7(0x8cc))[_0x50d1f7(0x518)]('\x20');if(_0x2dfe80[_0x50d1f7(0x1c6)]()!==_0x50d1f7(0x207))throw new oe();if(!(0x0,Aa[_0x50d1f7(0x4ee)])(_0x38ba06))throw new oe();let _0x48752e=_0x1890d0[_0x50d1f7(0x6c7)],_0x158ef9=Ia[_0x50d1f7(0x4ea)][_0x50d1f7(0x8bf)](_0x38ba06,_0x5d3bf4['SECRET'],{'ignoreExpiration':_0x5d3bf4[_0x50d1f7(0x4f8)]===0x0});if(_0x48752e['instanceName']!==_0x158ef9[_0x50d1f7(0x7d8)]||it!==_0x158ef9['apiName'])throw new oe();return _0x549df8();}catch(_0x9ab5c6){throw vo[_0x50d1f7(0x4a8)](_0x9ab5c6),new oe();}}async function $o(_0x2c714b,_0x288aeb,_0x55c80b){const _0x2fe3df=a0_0x341dd0;let _0x452cce=S[_0x2fe3df(0x86a)]('AUTHENTICATION')[_0x2fe3df(0x8b6)],_0xc1e4a1=_0x2c714b['get']('apikey');if(_0x452cce['KEY']===_0xc1e4a1)return _0x55c80b();if(_0x2c714b['originalUrl']['includes'](_0x2fe3df(0x63c))){let _0x25fe82=Oa,_0x489dcd=_0x2c714b[_0x2fe3df(0x466)][_0x2fe3df(0x7d8)];if(_0x25fe82&&_0x489dcd[_0x2fe3df(0x1c6)]()['startsWith'](_0x25fe82['toLowerCase']()))return _0x55c80b();if(!_0xc1e4a1)throw new Z(_0x2fe3df(0x636),_0x2fe3df(0x699));}if(_0x2c714b['originalUrl']['includes'](_0x2fe3df(0x878))&&!_0xc1e4a1)throw new Z(_0x2fe3df(0x636),_0x2fe3df(0x699));if(_0x2c714b[_0x2fe3df(0x651)][_0x2fe3df(0x23d)]('/exit')&&!_0xc1e4a1)throw new Z(_0x2fe3df(0x636),_0x2fe3df(0x699));if(_0x2c714b[_0x2fe3df(0x651)][_0x2fe3df(0x23d)](_0x2fe3df(0x35d))&&!_0xc1e4a1)throw new Z(_0x2fe3df(0x636),_0x2fe3df(0x699));try{let _0x10f03d=_0x2c714b[_0x2fe3df(0x6c7)],_0xb46d4d=await me[_0x2fe3df(0x3d7)][_0x2fe3df(0x232)](_0x10f03d[_0x2fe3df(0x7d8)]);if(_0xb46d4d&&_0xb46d4d['apikey']===_0xc1e4a1)return _0x55c80b();}catch{}throw new oe();}var Ta={'jwt':No,'apikey':$o},di=require(a0_0x341dd0(0x7ec)),E=require(a0_0x341dd0(0x6b4)),C=(..._0x4fe31b)=>{const _0x5f3841=a0_0x341dd0;let _0x20e5d2={};return _0x4fe31b[_0x5f3841(0x8b4)](_0x24d221=>_0x20e5d2[_0x24d221]={'minLength':0x1,'description':_0x5f3841(0x434)+_0x24d221+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x4fe31b]}},'then':{'properties':_0x20e5d2}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'instanceName':{'type':a0_0x341dd0(0x347)}},...C('instanceName')},mc={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'oldToken':{'type':a0_0x341dd0(0x347)}},'required':[a0_0x341dd0(0x1eb)],...C(a0_0x341dd0(0x1eb))},fc={'properties':{'key':{'type':a0_0x341dd0(0x8d7),'properties':{'id':{'type':a0_0x341dd0(0x347)},'remoteJid':{'type':a0_0x341dd0(0x347)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x341dd0(0x2e1)],...C('id','remoteJid')},'message':{'type':a0_0x341dd0(0x8d7)}}},ee={'properties':{'delay':{'type':a0_0x341dd0(0x361),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x1e2),a0_0x341dd0(0x6c0),a0_0x341dd0(0x8fe),a0_0x341dd0(0x5c5),'paused']}}},K={'type':'string','description':'Invalid\x20format'},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'textMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'text':{'type':'string'}},'required':['text'],...C('text')}},'required':[a0_0x341dd0(0x852),'number']},xa={'type':a0_0x341dd0(0x347),'pattern':a0_0x341dd0(0x693),'description':a0_0x341dd0(0x61b)},wc={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...xa},'options':{...ee},'textMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'text':{'type':'string'}},'required':[a0_0x341dd0(0x7e2)],...C(a0_0x341dd0(0x7e2))}},'required':['textMessage',a0_0x341dd0(0x714)]},yc={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...xa},'options':{...ee},'mediaMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'mediatype':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x5ed),a0_0x341dd0(0x6cb),a0_0x341dd0(0x654),a0_0x341dd0(0x492)]},'media':{'type':'string'},'fileName':{'type':a0_0x341dd0(0x347)},'caption':{'type':'string'}},'required':['mediatype',a0_0x341dd0(0x5d8)],...C(a0_0x341dd0(0x493),a0_0x341dd0(0x81f),a0_0x341dd0(0x5d8))}},'required':['mediaMessage',a0_0x341dd0(0x714)]},Da={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x341dd0(0x5ed)],...C(a0_0x341dd0(0x5ed))}},'required':[a0_0x341dd0(0x3fb),a0_0x341dd0(0x714)]},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'type':{'type':'string','enum':[a0_0x341dd0(0x7e2),a0_0x341dd0(0x5ed),'audio',a0_0x341dd0(0x654)]},'content':{'type':'string'},'caption':{'type':a0_0x341dd0(0x347)},'backgroundColor':{'type':a0_0x341dd0(0x347)},'font':{'type':a0_0x341dd0(0x361),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x341dd0(0x66c)}},'allContacts':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]}},'required':['type',a0_0x341dd0(0x27e)],...C('type',a0_0x341dd0(0x27e))}},'required':[a0_0x341dd0(0x7d9)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'options':{...ee},'mediaMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'mediatype':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x5ed),'document',a0_0x341dd0(0x654),a0_0x341dd0(0x492)]},'media':{'type':a0_0x341dd0(0x347)},'fileName':{'type':a0_0x341dd0(0x347)},'caption':{'type':a0_0x341dd0(0x347)}},'required':[a0_0x341dd0(0x337),'media'],...C('fileName',a0_0x341dd0(0x81f),'media')}},'required':[a0_0x341dd0(0x69d),a0_0x341dd0(0x714)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'options':{...ee},'audioMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'audio':{'type':'string'}},'required':[a0_0x341dd0(0x492)],...C(a0_0x341dd0(0x492))}},'required':['audioMessage',a0_0x341dd0(0x714)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x341dd0(0x347)},'selectableCount':{'type':'number'},'values':{'type':a0_0x341dd0(0x1ed),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x341dd0(0x313),a0_0x341dd0(0x546)],...C('name',a0_0x341dd0(0x313),a0_0x341dd0(0x546))}},'required':[a0_0x341dd0(0x714),'pollMessage']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'menuMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'text':{'type':a0_0x341dd0(0x347)},'choices':{'type':a0_0x341dd0(0x1ed),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x341dd0(0x7e2),'choices'],...C(a0_0x341dd0(0x7e2),'choices')}},'required':[a0_0x341dd0(0x714),'menuMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'options':{...ee},'buttonMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'title':{'type':a0_0x341dd0(0x347)},'description':{'type':a0_0x341dd0(0x347)},'footerText':{'type':a0_0x341dd0(0x347)},'buttons':{'type':a0_0x341dd0(0x1ed),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x341dd0(0x8d7),'properties':{'buttonText':{'type':a0_0x341dd0(0x347)},'buttonId':{'type':'string'}},'required':[a0_0x341dd0(0x44e),a0_0x341dd0(0x572)],...C(a0_0x341dd0(0x44e),a0_0x341dd0(0x572))}},'mediaMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'media':{'type':a0_0x341dd0(0x347)},'fileName':{'type':a0_0x341dd0(0x347)},'mediatype':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x5ed),a0_0x341dd0(0x6cb),'video']}},'required':['media',a0_0x341dd0(0x337)],...C('media',a0_0x341dd0(0x493))}},'required':[a0_0x341dd0(0x1ac),a0_0x341dd0(0x30a)],...C('title','description')}},'required':[a0_0x341dd0(0x714),a0_0x341dd0(0x596)]},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'locationMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'latitude':{'type':a0_0x341dd0(0x714)},'longitude':{'type':a0_0x341dd0(0x714)},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x341dd0(0x627),a0_0x341dd0(0x643)],...C(a0_0x341dd0(0x1fa),a0_0x341dd0(0x2c5))}},'required':[a0_0x341dd0(0x714),'locationMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'options':{...ee},'listMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'title':{'type':a0_0x341dd0(0x347)},'description':{'type':'string'},'footerText':{'type':a0_0x341dd0(0x347)},'buttonText':{'type':a0_0x341dd0(0x347)},'sections':{'type':a0_0x341dd0(0x1ed),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x341dd0(0x347)},'rows':{'type':a0_0x341dd0(0x1ed),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x341dd0(0x8d7),'properties':{'title':{'type':'string'},'description':{'type':a0_0x341dd0(0x347)},'rowId':{'type':'string'}},'required':[a0_0x341dd0(0x1ac),'rowId'],...C(a0_0x341dd0(0x1ac),a0_0x341dd0(0x48d))}}},'required':['title','rows'],...C(a0_0x341dd0(0x1ac))}}},'required':[a0_0x341dd0(0x1ac),a0_0x341dd0(0x6b2),a0_0x341dd0(0x44e),a0_0x341dd0(0x425)],...C('title',a0_0x341dd0(0x6b2),a0_0x341dd0(0x44e),a0_0x341dd0(0x459))}},'required':[a0_0x341dd0(0x714),a0_0x341dd0(0x498)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'options':{...ee},'contactMessage':{'type':a0_0x341dd0(0x1ed),'items':{'type':a0_0x341dd0(0x8d7),'properties':{'fullName':{'type':a0_0x341dd0(0x347)},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName',a0_0x341dd0(0x60a)],...C(a0_0x341dd0(0x407))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x341dd0(0x714),a0_0x341dd0(0x57c)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'reactionMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'key':{'type':a0_0x341dd0(0x8d7),'properties':{'id':{'type':a0_0x341dd0(0x347)},'remoteJid':{'type':a0_0x341dd0(0x347)},'fromMe':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x341dd0(0x2e1)],...C('id','remoteJid')},'reaction':{'type':a0_0x341dd0(0x347)}},'required':[a0_0x341dd0(0x43a),a0_0x341dd0(0x388)],...C(a0_0x341dd0(0x388))}},'required':[a0_0x341dd0(0x515)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'numbers':{'type':a0_0x341dd0(0x1ed),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x341dd0(0x347),'pattern':a0_0x341dd0(0x2dc),'description':a0_0x341dd0(0x371)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'readMessages':{'type':a0_0x341dd0(0x1ed),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x341dd0(0x347)},'fromMe':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x341dd0(0x347)}},'required':['id','fromMe',a0_0x341dd0(0x68c)],...C('id',a0_0x341dd0(0x68c))}}},'required':[a0_0x341dd0(0x8c8)]},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x341dd0(0x8d7),'properties':{'readreceipts':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x3ef),'none']},'profile':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x3ef),a0_0x341dd0(0x3ed),'contact_blacklist','none']},'status':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x3ef),a0_0x341dd0(0x3ed),a0_0x341dd0(0x646),a0_0x341dd0(0x25f)]},'online':{'type':'string','enum':['all',a0_0x341dd0(0x7bb)]},'last':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x3ef),a0_0x341dd0(0x3ed),a0_0x341dd0(0x646),a0_0x341dd0(0x25f)]},'groupadd':{'type':'string','enum':[a0_0x341dd0(0x3ef),a0_0x341dd0(0x3ed),a0_0x341dd0(0x646),a0_0x341dd0(0x25f)]}},'required':[a0_0x341dd0(0x417),a0_0x341dd0(0x330),a0_0x341dd0(0x826),'online',a0_0x341dd0(0x65c),a0_0x341dd0(0x87e)],...C(a0_0x341dd0(0x417),a0_0x341dd0(0x330),'status',a0_0x341dd0(0x5dc),a0_0x341dd0(0x65c),'groupadd')}},'required':[a0_0x341dd0(0x26d)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'lastMessage':{'type':a0_0x341dd0(0x8d7),'properties':{'key':{'type':a0_0x341dd0(0x8d7),'properties':{'id':{'type':a0_0x341dd0(0x347)},'remoteJid':{'type':a0_0x341dd0(0x347)},'fromMe':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]}},'required':['id',a0_0x341dd0(0x2e1),a0_0x341dd0(0x68c)],...C('id',a0_0x341dd0(0x68c))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x341dd0(0x43a)],...C('messageTimestamp')},'archive':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'id':{'type':a0_0x341dd0(0x347)},'fromMe':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x341dd0(0x347)}},'required':['id',a0_0x341dd0(0x2e1),a0_0x341dd0(0x68c)],...C('id',a0_0x341dd0(0x68c),a0_0x341dd0(0x535))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'where':{'type':a0_0x341dd0(0x8d7),'properties':{'_id':{'type':a0_0x341dd0(0x347),'minLength':0x1},'pushName':{'type':a0_0x341dd0(0x347),'minLength':0x1},'id':{'type':a0_0x341dd0(0x347),'minLength':0x1}},...C('_id','id',a0_0x341dd0(0x1e1))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'name':{'type':a0_0x341dd0(0x347)}},...C(a0_0x341dd0(0x1fa))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'status':{'type':a0_0x341dd0(0x347)}},...C(a0_0x341dd0(0x826))},_e={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x341dd0(0x347)},'picture':{'type':a0_0x341dd0(0x347)}}},Za={'type':a0_0x341dd0(0x8d7),'properties':{'wuid':{'type':a0_0x341dd0(0x347)},'name':{'type':a0_0x341dd0(0x347)},'picture':{'type':a0_0x341dd0(0x347)},'status':{'type':a0_0x341dd0(0x347)},'isBusiness':{'type':a0_0x341dd0(0x3e4)}}},ei={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'where':{'type':a0_0x341dd0(0x8d7),'properties':{'_id':{'type':a0_0x341dd0(0x347),'minLength':0x1},'key':{'type':a0_0x341dd0(0x8d7),'if':{'propertyNames':{'enum':['fromMe',a0_0x341dd0(0x68c),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x341dd0(0x813)},'id':{'type':a0_0x341dd0(0x347),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C(a0_0x341dd0(0x747))},'limit':{'type':'integer'}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x341dd0(0x347)},'status':{'type':'string','enum':[a0_0x341dd0(0x3a5),a0_0x341dd0(0x4f4),a0_0x341dd0(0x5fa),a0_0x341dd0(0x695),'READ',a0_0x341dd0(0x39d)]}},...C(a0_0x341dd0(0x747),a0_0x341dd0(0x68c),'id','status')},'limit':{'type':'integer'}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'number':{...K},'presence':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x1e2),a0_0x341dd0(0x6c0),'composing',a0_0x341dd0(0x5c5),'paused']}},'required':[a0_0x341dd0(0x863),'number']},si={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x341dd0(0x347)},'profilePicture':{'type':a0_0x341dd0(0x347)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x341dd0(0x347),'minLength':0xa,'pattern':a0_0x341dd0(0x7a6),'description':a0_0x341dd0(0x658)}}},'required':[a0_0x341dd0(0x6a5),'participants'],...C('subject',a0_0x341dd0(0x6b2),a0_0x341dd0(0x469))},xe={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'groupJid':{'type':a0_0x341dd0(0x347),'pattern':a0_0x341dd0(0x77d)}},'required':[a0_0x341dd0(0x209)],...C(a0_0x341dd0(0x209))},ai={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x341dd0(0x347)},'action':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x2f8),'remove','promote',a0_0x341dd0(0x343),a0_0x341dd0(0x781),a0_0x341dd0(0x70a)]},'participants':{'type':a0_0x341dd0(0x1ed),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x341dd0(0x347),'minLength':0xa,'pattern':a0_0x341dd0(0x7a6),'description':a0_0x341dd0(0x658)}}},'required':[a0_0x341dd0(0x209),a0_0x341dd0(0x2e7),'participants'],...C('groupJid','action')},ii={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'groupJid':{'type':a0_0x341dd0(0x347)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x341dd0(0x209),a0_0x341dd0(0x5a9)],...C('groupJid',a0_0x341dd0(0x5a9))},oi={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'groupJid':{'type':a0_0x341dd0(0x347)},'image':{'type':a0_0x341dd0(0x347)}},'required':[a0_0x341dd0(0x209),a0_0x341dd0(0x5ed)],...C(a0_0x341dd0(0x209),a0_0x341dd0(0x5ed))},ri={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'groupJid':{'type':a0_0x341dd0(0x347)},'description':{'type':a0_0x341dd0(0x347)}},'required':[a0_0x341dd0(0x209),a0_0x341dd0(0x6b2)],...C('groupJid',a0_0x341dd0(0x6b2))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'groupJid':{'type':a0_0x341dd0(0x347)},'name':{'type':a0_0x341dd0(0x347)}},'required':[a0_0x341dd0(0x209),a0_0x341dd0(0x1fa)],...C(a0_0x341dd0(0x209),a0_0x341dd0(0x1fa))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'groupJid':{'type':a0_0x341dd0(0x347)},'setting':{'type':a0_0x341dd0(0x347),'enum':[a0_0x341dd0(0x5d9),a0_0x341dd0(0x4d2),'unlocked',a0_0x341dd0(0x7aa)]}},'required':[a0_0x341dd0(0x209),'setting'],...C(a0_0x341dd0(0x209),a0_0x341dd0(0x411))},li={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'groupJid':{'type':a0_0x341dd0(0x347)},'restrict':{'type':a0_0x341dd0(0x3e4)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x341dd0(0x3e4)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x341dd0(0x347)},'description':{'type':'string'},'image':{'type':a0_0x341dd0(0x347)}}},Es={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'inviteCode':{'type':a0_0x341dd0(0x347)}},'required':['inviteCode'],...C('inviteCode')},ui={'$id':(0x0,E['v4'])(),'type':a0_0x341dd0(0x8d7),'properties':{'url':{'type':a0_0x341dd0(0x347)},'enabled':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]}},'required':['url',a0_0x341dd0(0x7be)]},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x341dd0(0x3e4),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x341dd0(0x49d),a0_0x341dd0(0x550),a0_0x341dd0(0x69e),a0_0x341dd0(0x8d5),a0_0x341dd0(0x42f),'MESSAGES_UPSERT',a0_0x341dd0(0x7a9),a0_0x341dd0(0x2f5),a0_0x341dd0(0x430),a0_0x341dd0(0x8c1),a0_0x341dd0(0x3ad),'CHATS_SET',a0_0x341dd0(0x5a6),a0_0x341dd0(0x1c3),'CHATS_DELETE',a0_0x341dd0(0x1fe),a0_0x341dd0(0x543),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x341dd0(0x49d),a0_0x341dd0(0x550),a0_0x341dd0(0x69e),a0_0x341dd0(0x8d5),a0_0x341dd0(0x42f),a0_0x341dd0(0x8f5),'SEND_MESSAGE',a0_0x341dd0(0x2f5),a0_0x341dd0(0x430),a0_0x341dd0(0x8c1),a0_0x341dd0(0x3ad),'CHATS_SET','CHATS_UPSERT',a0_0x341dd0(0x1c3),a0_0x341dd0(0x54e),a0_0x341dd0(0x1fe),a0_0x341dd0(0x543),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},ot=class{},rt=class extends _{[a0_0x341dd0(0x5b8)](_0x1ea774){return ta(_0x1ea774);}async[a0_0x341dd0(0x24a)](_0x54581f){const _0x5d2986=a0_0x341dd0;if(_0x54581f['length']!==0x0)try{return{'insertCount':(await this[_0x5d2986(0x5b8)](_0x54581f[0x0][_0x5d2986(0x3f2)])[_0x5d2986(0x3d1)]([..._0x54581f]))['length']};}catch(_0x513175){return _0x513175;}}async[a0_0x341dd0(0x854)](_0x2eb146,_0x58ea85){const _0x2d6931=a0_0x341dd0;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x58ea85)[_0x2d6931(0x3a7)]({..._0x2eb146[_0x2d6931(0x8fc)]}))[_0x2d6931(0x302)]};}catch(_0x5a0896){return{'error':_0x5a0896?.[_0x2d6931(0x5a5)]()};}}async[a0_0x341dd0(0x85c)](_0xe7d8a,_0x86f5f2){const _0xc2f2e0=a0_0x341dd0;try{if(_0xe7d8a[_0xc2f2e0(0x65e)]===0x0)return;let _0x535f7d=this[_0xc2f2e0(0x5b8)](_0x86f5f2),_0x53d8d=_0xe7d8a['map'](_0x5c0daa=>({'updateOne':{'filter':{'_id':_0x5c0daa[_0xc2f2e0(0x747)],'owner':_0x86f5f2},'update':{..._0x5c0daa}}})),{modifiedCount:_0x33d4fb}=await _0x535f7d['bulkWrite'](_0x53d8d);return{'insertCount':_0x33d4fb};}catch{return;}}async[a0_0x341dd0(0x232)](_0x7e017a,_0x758ae0){const _0xfb800=a0_0x341dd0;try{let _0x5e71c2=this[_0xfb800(0x5b8)](_0x758ae0),_0x30c20a=I(_0x7e017a['where']);return await _0x5e71c2[_0xfb800(0x232)](_0x30c20a)['limit'](_0x7e017a?.[_0xfb800(0x3f1)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x240a41,_0x33bbef){const _0x403849=a0_0x341dd0;try{let _0xd453e6=this[_0x403849(0x5b8)](_0x33bbef),_0x101c4c=I(_0x240a41['where']);return await _0xd453e6[_0x403849(0x2c7)](_0x101c4c)[_0x403849(0x6f1)]();}catch{return null;}}async[a0_0x341dd0(0x78b)](_0x2239fe){const _0x11d1c6=a0_0x341dd0;try{return await this['getContactModelForOwner'](_0x2239fe)[_0x11d1c6(0x756)]['drop'](),{'success':!0x0};}catch(_0x315517){return console[_0x11d1c6(0x4a8)](_0x315517),{'success':!0x1,'error':_0x315517};}}},nt=require(a0_0x341dd0(0x26a)),Ic=require('express-async-errors'),vs=new $(a0_0x341dd0(0x8a7)),V=class{[a0_0x341dd0(0x1fb)](_0x487da2,_0x324555=!0x0){const _0x1bf958=a0_0x341dd0;let _0x1451d6='/'+_0x487da2;return _0x324555&&(_0x1451d6+=_0x1bf958(0x882)),_0x1451d6;}async['dataValidate'](_0x49cb04){const _0x3438c2=a0_0x341dd0;let {request:_0x14687a,schema:_0x1972ce,ClassRef:_0x5472db,execute:_0x205cc5}=_0x49cb04,_0x15389e=new _0x5472db(),_0x5db4c4=_0x14687a[_0x3438c2(0x466)],_0x4adb67=_0x14687a[_0x3438c2(0x6c7)];_0x14687a?.[_0x3438c2(0x62e)]&&Object[_0x3438c2(0x866)](_0x14687a['query'])[_0x3438c2(0x65e)]>0x0&&Object[_0x3438c2(0x606)](_0x4adb67,_0x14687a[_0x3438c2(0x62e)]),_0x14687a[_0x3438c2(0x651)][_0x3438c2(0x23d)]('/instance/create')&&Object[_0x3438c2(0x606)](_0x4adb67,_0x5db4c4),Object['assign'](_0x15389e,_0x5db4c4);let _0x29fb6a=_0x1972ce?(0x0,nt[_0x3438c2(0x3eb)])(_0x15389e,_0x1972ce):{'valid':!0x0,'errors':[]};if(!_0x29fb6a[_0x3438c2(0x4e0)]){let _0x4f2476=_0x29fb6a[_0x3438c2(0x661)]['map'](({property:_0x16a555,stack:_0x17e362,schema:_0x103580})=>{const _0x541ed5=_0x3438c2;let _0x564025;return _0x103580['description']?_0x564025=_0x103580[_0x541ed5(0x6b2)]:_0x564025=_0x17e362[_0x541ed5(0x589)](_0x541ed5(0x28e),''),{'property':_0x16a555[_0x541ed5(0x589)]('instance.',''),'message':_0x564025};});throw vs['error']([..._0x4f2476]),new m(..._0x4f2476);}return await _0x205cc5(_0x4adb67,_0x15389e);}async[a0_0x341dd0(0x62f)](_0x4ef76f){const _0xf5c173=a0_0x341dd0;let {request:_0x146e72,ClassRef:_0x17b38e,schema:_0x4490cd,execute:_0x460a7e}=_0x4ef76f,_0x5ab406=_0x146e72[_0xf5c173(0x62e)];if(!_0x5ab406?.[_0xf5c173(0x209)])throw new m(_0xf5c173(0x2a0),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x356c02=_0x146e72[_0xf5c173(0x6c7)],_0x10e167=_0x146e72['body'],_0x95cd96=new _0x17b38e();Object[_0xf5c173(0x606)](_0x10e167,_0x5ab406),Object[_0xf5c173(0x606)](_0x95cd96,_0x10e167);let _0x420b16=(0x0,nt[_0xf5c173(0x3eb)])(_0x95cd96,_0x4490cd);if(!_0x420b16[_0xf5c173(0x4e0)]){let _0x10ae55=_0x420b16[_0xf5c173(0x661)][_0xf5c173(0x486)](({property:_0xb0089e,stack:_0x41de64,schema:_0x15f092})=>{const _0x255e56=_0xf5c173;let _0x490f9d;return _0x15f092[_0x255e56(0x6b2)]?_0x490f9d=_0x15f092[_0x255e56(0x6b2)]:_0x490f9d=_0x41de64[_0x255e56(0x589)](_0x255e56(0x28e),''),{'property':_0xb0089e[_0x255e56(0x589)](_0x255e56(0x28e),''),'message':_0x490f9d};});throw vs['error']([..._0x10ae55]),new m(..._0x10ae55);}return await _0x460a7e(_0x356c02,_0x95cd96);}async[a0_0x341dd0(0x20a)](_0x1d3140){const _0x4869c4=a0_0x341dd0;let {request:_0x187c55,ClassRef:_0x43061f,schema:_0x3874b4,execute:_0x4af5cd}=_0x1d3140,_0x1a23d1=_0x187c55['body'];if(!_0x1a23d1?.[_0x4869c4(0x270)])throw new m(_0x4869c4(0x2ae),_0x4869c4(0x24e));let _0x42a6b8=_0x187c55[_0x4869c4(0x6c7)],_0x3c2a73=_0x187c55[_0x4869c4(0x466)],_0x5732a6=new _0x43061f();Object[_0x4869c4(0x606)](_0x3c2a73,_0x1a23d1),Object['assign'](_0x5732a6,_0x3c2a73);let _0x522a9b=(0x0,nt['validate'])(_0x5732a6,_0x3874b4);if(!_0x522a9b[_0x4869c4(0x4e0)]){let _0x51a511=_0x522a9b[_0x4869c4(0x661)][_0x4869c4(0x486)](({property:_0x2430c8,stack:_0x5719ac,schema:_0x45eee4})=>{const _0x35cfad=_0x4869c4;let _0x584e32;return _0x45eee4[_0x35cfad(0x6b2)]?_0x584e32=_0x45eee4[_0x35cfad(0x6b2)]:_0x584e32=_0x5719ac[_0x35cfad(0x589)](_0x35cfad(0x28e),''),{'property':_0x2430c8[_0x35cfad(0x589)](_0x35cfad(0x28e),''),'message':_0x584e32};});throw vs[_0x4869c4(0x4a8)]([..._0x51a511]),new m(..._0x51a511);}return await _0x4af5cd(_0x42a6b8,_0x5732a6);}},M=class{},Gc=new $(a0_0x341dd0(0x6c3)),ct=class extends V{constructor(..._0x133b62){const _0x1e9943=a0_0x341dd0;super(),this[_0x1e9943(0x72d)]=(0x0,di[_0x1e9943(0x71f)])(),this[_0x1e9943(0x72d)][_0x1e9943(0x212)](this[_0x1e9943(0x1fb)]('updatePresence'),..._0x133b62,async(_0x1026da,_0xcfd4b0)=>{const _0x47e929=_0x1e9943;let _0xfbf796=await this[_0x47e929(0x8db)]({'request':_0x1026da,'schema':ti,'ClassRef':Qe,'execute':(_0x4aed13,_0x2bdf41)=>P[_0x47e929(0x6e2)](_0x4aed13,_0x2bdf41)});return _0xcfd4b0[_0x47e929(0x826)](0xc9)['json'](_0xfbf796);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)]('whatsappNumbers'),..._0x133b62,async(_0x1ab3d5,_0x2c28c3)=>{const _0x323e12=_0x1e9943;let _0x13e4c6=await this[_0x323e12(0x8db)]({'request':_0x1ab3d5,'schema':Ba,'ClassRef':Ye,'execute':(_0x2a018c,_0x3f5713)=>P[_0x323e12(0x3bd)](_0x2a018c,_0x3f5713)});return _0x2c28c3[_0x323e12(0x826)](0xc9)[_0x323e12(0x687)](_0x13e4c6);})[_0x1e9943(0x212)](this['routerPath']('editChat'),..._0x133b62,async(_0xb0ed98,_0x2a6e12)=>{const _0x3dd9c6=_0x1e9943;let _0x223888=await this[_0x3dd9c6(0x8db)]({'request':_0xb0ed98,'schema':v,'ClassRef':M,'execute':(_0x2b4818,_0x3a2b6f)=>P[_0x3dd9c6(0x2a4)](_0x2b4818,_0x3a2b6f)});return _0x2a6e12['status'](0xc9)[_0x3dd9c6(0x687)](_0x223888);})['put'](this[_0x1e9943(0x1fb)]('markMessageAsRead'),..._0x133b62,async(_0x365b9c,_0x189e14)=>{const _0xef858c=_0x1e9943;let _0x1adb31=await this['dataValidate']({'request':_0x365b9c,'schema':Wa,'ClassRef':et,'execute':(_0x3a7afc,_0x10a9fe)=>P['readMessage'](_0x3a7afc,_0x10a9fe)});return _0x189e14[_0xef858c(0x826)](0xc9)[_0xef858c(0x687)](_0x1adb31);})[_0x1e9943(0x808)](this[_0x1e9943(0x1fb)](_0x1e9943(0x8f3)),..._0x133b62,async(_0x2d5317,_0x1f6312)=>{const _0x1435a8=_0x1e9943;let _0xfd77f5=await this[_0x1435a8(0x8db)]({'request':_0x2d5317,'schema':Ha,'ClassRef':tt,'execute':(_0x2a4038,_0xe31b8a)=>P[_0x1435a8(0x8f3)](_0x2a4038,_0xe31b8a)});return _0x1f6312[_0x1435a8(0x826)](0xc9)[_0x1435a8(0x687)](_0xfd77f5);})['delete'](this[_0x1e9943(0x1fb)](_0x1e9943(0x7c5)),..._0x133b62,async(_0x48eeb4,_0x3e6d3b)=>{const _0xcd5661=_0x1e9943;let _0x25093e=await this[_0xcd5661(0x8db)]({'request':_0x48eeb4,'schema':Ka,'ClassRef':at,'execute':(_0xb64f29,_0x2ae903)=>P['deleteMessage'](_0xb64f29,_0x2ae903)});return _0x3e6d3b['status'](0xc9)[_0xcd5661(0x687)](_0x25093e);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)](_0x1e9943(0x741)),..._0x133b62,async(_0x588efe,_0x2510b3)=>{const _0x53bb50=_0x1e9943;let _0x480729=await this[_0x53bb50(0x8db)]({'request':_0x588efe,'schema':_e,'ClassRef':Te,'execute':(_0x1648d8,_0x5d4d0c)=>P[_0x53bb50(0x559)](_0x1648d8,_0x5d4d0c)});return _0x2510b3[_0x53bb50(0x826)](0xc8)[_0x53bb50(0x687)](_0x480729);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)](_0x1e9943(0x72a)),..._0x133b62,async(_0xe14484,_0x402d28)=>{const _0x38981f=_0x1e9943;let _0x3442b1=await this['dataValidate']({'request':_0xe14484,'schema':Za,'ClassRef':Te,'execute':(_0x5cc487,_0x24be95)=>P[_0x38981f(0x72a)](_0x5cc487,_0x24be95)});return _0x402d28['status'](0xc8)['json'](_0x3442b1);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)](_0x1e9943(0x6bc)),..._0x133b62,async(_0xa07e53,_0xbdb71a)=>{const _0x3aecd8=_0x1e9943;let _0x3cf65b=await this['dataValidate']({'request':_0xa07e53,'schema':Qa,'ClassRef':ot,'execute':(_0x547b01,_0x5a0656)=>P[_0x3aecd8(0x462)](_0x547b01,_0x5a0656)});return _0xbdb71a[_0x3aecd8(0x826)](0xc8)[_0x3aecd8(0x687)](_0x3cf65b);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)](_0x1e9943(0x5a1)),..._0x133b62,async(_0xfcbbfd,_0x201c41)=>{const _0x37a5dd=_0x1e9943;let _0x22aa11=await this[_0x37a5dd(0x8db)]({'request':_0xfcbbfd,'schema':null,'ClassRef':Object,'execute':(_0x57232a,_0x160e21)=>P['getBase64FromMediaMessage'](_0x57232a,_0x160e21)});return _0x201c41['status'](0xc9)['json'](_0x22aa11);})['post'](this['routerPath'](_0x1e9943(0x4fe)),..._0x133b62,async(_0x363eaf,_0x48f1b2)=>{const _0x1d1663=_0x1e9943;let _0x489496=await this[_0x1d1663(0x8db)]({'request':_0x363eaf,'schema':ei,'ClassRef':He,'execute':(_0x4610ab,_0x48a560)=>P[_0x1d1663(0x8a9)](_0x4610ab,_0x48a560)});return _0x48f1b2[_0x1d1663(0x826)](0xc8)['json'](_0x489496);})[_0x1e9943(0x86a)](this['routerPath'](_0x1e9943(0x713)),..._0x133b62,async(_0x9037ca,_0x18d994)=>{const _0xb189cf=_0x1e9943;let _0x19e209=await this[_0xb189cf(0x8db)]({'request':_0x9037ca,'schema':null,'ClassRef':M,'execute':_0x378e9f=>P[_0xb189cf(0x8a4)](_0x378e9f)});return _0x18d994['status'](0xc8)[_0xb189cf(0x687)](_0x19e209);})['get'](this[_0x1e9943(0x1fb)](_0x1e9943(0x53a)),..._0x133b62,async(_0x5c6ac5,_0x2b3d2e)=>{const _0x324724=_0x1e9943;let _0x44bde1=await this['dataValidate']({'request':_0x5c6ac5,'schema':null,'ClassRef':M,'execute':_0x9d008f=>P[_0x324724(0x581)](_0x9d008f)});return _0x2b3d2e[_0x324724(0x826)](0xc8)['json'](_0x44bde1);})[_0x1e9943(0x808)](this[_0x1e9943(0x1fb)]('importChats'),..._0x133b62,async(_0x1ee82a,_0x502212)=>{const _0x5aaf68=_0x1e9943;let _0x36d9cc=await this[_0x5aaf68(0x8db)]({'request':_0x1ee82a,'schema':null,'ClassRef':Array,'execute':(_0x173d2e,_0x2dbf08)=>P[_0x5aaf68(0x395)](_0x173d2e,_0x2dbf08)});return _0x502212[_0x5aaf68(0x826)](0xc8)[_0x5aaf68(0x687)](_0x36d9cc);})[_0x1e9943(0x86a)](this[_0x1e9943(0x1fb)]('fetchPrivacySettings'),..._0x133b62,async(_0x1bb954,_0x3010ca)=>{const _0x2f9cfd=_0x1e9943;let _0x1cdc39=await this[_0x2f9cfd(0x8db)]({'request':_0x1bb954,'schema':null,'ClassRef':M,'execute':_0x470f34=>P['fetchPrivacySettings'](_0x470f34)});return _0x3010ca[_0x2f9cfd(0x826)](0xc8)[_0x2f9cfd(0x687)](_0x1cdc39);})['put'](this[_0x1e9943(0x1fb)](_0x1e9943(0x89e)),..._0x133b62,async(_0x5db613,_0x4dcfa1)=>{const _0x4470c0=_0x1e9943;let _0x3f4a73=await this[_0x4470c0(0x8db)]({'request':_0x5db613,'schema':za,'ClassRef':st,'execute':(_0x43eb66,_0x2fb108)=>P[_0x4470c0(0x89e)](_0x43eb66,_0x2fb108)});return _0x4dcfa1['status'](0xc9)['json'](_0x3f4a73);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)](_0x1e9943(0x3e2)),..._0x133b62,async(_0x13a883,_0x1a392c)=>{const _0x1652a8=_0x1e9943;let _0x3ae850=await this[_0x1652a8(0x8db)]({'request':_0x13a883,'schema':_e,'ClassRef':Ce,'execute':(_0x3fa075,_0x5c67c1)=>P[_0x1652a8(0x3e2)](_0x3fa075,_0x5c67c1)});return _0x1a392c[_0x1652a8(0x826)](0xc8)['json'](_0x3ae850);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)](_0x1e9943(0x381)),..._0x133b62,async(_0x11689a,_0x2ec935)=>{const _0x9583db=_0x1e9943;let _0x492a8b=await this[_0x9583db(0x8db)]({'request':_0x11689a,'schema':Ya,'ClassRef':Xe,'execute':(_0x403dab,_0x4e1553)=>P[_0x9583db(0x381)](_0x403dab,_0x4e1553)});return _0x2ec935[_0x9583db(0x826)](0xc8)[_0x9583db(0x687)](_0x492a8b);})[_0x1e9943(0x212)](this[_0x1e9943(0x1fb)]('updateProfileStatus'),..._0x133b62,async(_0x3512ca,_0x189409)=>{const _0x2190af=_0x1e9943;let _0x4133fb=await this[_0x2190af(0x8db)]({'request':_0x3512ca,'schema':Xa,'ClassRef':Ze,'execute':(_0x55d980,_0x563b12)=>P['updateProfileStatus'](_0x55d980,_0x563b12)});return _0x189409[_0x2190af(0x826)](0xc8)[_0x2190af(0x687)](_0x4133fb);})[_0x1e9943(0x808)](this[_0x1e9943(0x1fb)](_0x1e9943(0x649)),..._0x133b62,async(_0x1ba716,_0xe9a070)=>{const _0x16643f=_0x1e9943;let _0x54f3e8=await this[_0x16643f(0x8db)]({'request':_0x1ba716,'schema':_e,'ClassRef':Ce,'execute':(_0x54acdf,_0x119eed)=>P['updateProfilePicture'](_0x54acdf,_0x119eed)});return _0xe9a070['status'](0xc8)['json'](_0x54f3e8);})[_0x1e9943(0x854)](this[_0x1e9943(0x1fb)](_0x1e9943(0x30d)),..._0x133b62,async(_0x2167e4,_0x93dcbc)=>{const _0x26b6d8=_0x1e9943;let _0x2fbf22=await this[_0x26b6d8(0x8db)]({'request':_0x2167e4,'schema':_e,'ClassRef':Ce,'execute':(_0x173285,_0x4dde39)=>P[_0x26b6d8(0x30d)](_0x173285,_0x4dde39)});return _0x93dcbc[_0x26b6d8(0x826)](0xc8)['json'](_0x2fbf22);});}},pi=require('express'),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},De=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0xff58fc){const _0x6cadbb=a0_0x341dd0;super(),this[_0x6cadbb(0x72d)]=(0x0,pi[_0x6cadbb(0x71f)])(),this[_0x6cadbb(0x72d)][_0x6cadbb(0x212)](this[_0x6cadbb(0x1fb)]('create'),..._0xff58fc,async(_0x342649,_0x30d3e9)=>{const _0x117007=_0x6cadbb;let _0x456dc4=await this['dataValidate']({'request':_0x342649,'schema':si,'ClassRef':lt,'execute':(_0x239787,_0x3a3353)=>q['createGroup'](_0x239787,_0x3a3353)});_0x30d3e9[_0x117007(0x826)](0xc9)[_0x117007(0x687)](_0x456dc4);})[_0x6cadbb(0x808)](this[_0x6cadbb(0x1fb)]('updateGroupPicture'),..._0xff58fc,async(_0x18a7de,_0x37ed91)=>{const _0x3871f7=_0x6cadbb;let _0x38298c=await this[_0x3871f7(0x62f)]({'request':_0x18a7de,'schema':oi,'ClassRef':ut,'execute':(_0x3a006e,_0xb353aa)=>q[_0x3871f7(0x368)](_0x3a006e,_0xb353aa)});_0x37ed91[_0x3871f7(0x826)](0xc9)['json'](_0x38298c);})[_0x6cadbb(0x808)](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x615)),..._0xff58fc,async(_0x5f42d7,_0x4ece85)=>{const _0x6fe1f9=_0x6cadbb;let _0x546323=await this[_0x6fe1f9(0x62f)]({'request':_0x5f42d7,'schema':ri,'ClassRef':dt,'execute':(_0x5894c9,_0x362b5a)=>q[_0x6fe1f9(0x615)](_0x5894c9,_0x362b5a)});_0x4ece85[_0x6fe1f9(0x826)](0xc9)[_0x6fe1f9(0x687)](_0x546323);})['put'](this['routerPath']('groupName'),..._0xff58fc,async(_0x38e68e,_0x2d0760)=>{const _0x9f82ba=_0x6cadbb;let _0x5bca32=await this[_0x9f82ba(0x62f)]({'request':_0x38e68e,'schema':ni,'ClassRef':pt,'execute':(_0x4fb100,_0x5de4)=>q['groupName'](_0x4fb100,_0x5de4)});_0x2d0760[_0x9f82ba(0x826)](0xc9)[_0x9f82ba(0x687)](_0x5bca32);})[_0x6cadbb(0x808)](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x39c)),..._0xff58fc,async(_0x25175c,_0x3ada34)=>{const _0xd5cb10=_0x6cadbb;let _0x3cb376=await this[_0xd5cb10(0x62f)]({'request':_0x25175c,'schema':li,'ClassRef':gt,'execute':(_0x2f30f7,_0x1c8107)=>q[_0xd5cb10(0x39c)](_0x2f30f7,_0x1c8107)});_0x3ada34['status'](0xc9)[_0xd5cb10(0x687)](_0x3cb376);})[_0x6cadbb(0x808)](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x5bf)),..._0xff58fc,async(_0x3ed0b3,_0x4ccd7d)=>{const _0x387662=_0x6cadbb;let _0x21954c=await this[_0x387662(0x62f)]({'request':_0x3ed0b3,'schema':ci,'ClassRef':ht,'execute':(_0x377778,_0x20e26e)=>q['groupSetting'](_0x377778,_0x20e26e)});_0x4ccd7d[_0x387662(0x826)](0xc9)[_0x387662(0x687)](_0x21954c);})['put'](this[_0x6cadbb(0x1fb)]('toggleEphemeral'),..._0xff58fc,async(_0x532f82,_0x45a5ce)=>{const _0x5d48ae=_0x6cadbb;let _0x3b6d32=await this[_0x5d48ae(0x62f)]({'request':_0x532f82,'schema':ii,'ClassRef':ft,'execute':(_0x561cc1,_0xef7e5d)=>q[_0x5d48ae(0x815)](_0x561cc1,_0xef7e5d)});_0x45a5ce[_0x5d48ae(0x826)](0xc9)[_0x5d48ae(0x687)](_0x3b6d32);})[_0x6cadbb(0x86a)](this['routerPath'](_0x6cadbb(0x299)),..._0xff58fc,async(_0x21cf71,_0x117bcc)=>{const _0x4bd8f3=_0x6cadbb;let _0x2f76a8=await this[_0x4bd8f3(0x62f)]({'request':_0x21cf71,'schema':xe,'ClassRef':te,'execute':(_0x15f4e9,_0x57eba3)=>q['findGroupInfo'](_0x15f4e9,_0x57eba3)});_0x117bcc[_0x4bd8f3(0x826)](0xc8)[_0x4bd8f3(0x687)](_0x2f76a8);})[_0x6cadbb(0x86a)](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x344)),..._0xff58fc,async(_0x4fb002,_0x480239)=>{const _0xf6ebb7=_0x6cadbb;let _0x4f753d=await this[_0xf6ebb7(0x8db)]({'request':_0x4fb002,'schema':v,'ClassRef':M,'execute':_0x2cef48=>q[_0xf6ebb7(0x344)](_0x2cef48)});_0x480239[_0xf6ebb7(0x826)](0xc8)[_0xf6ebb7(0x687)](_0x4f753d);})[_0x6cadbb(0x86a)](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x487)),..._0xff58fc,async(_0x41ee90,_0x3c0b03)=>{const _0x5e92a1=_0x6cadbb;let _0x33e4db=await this[_0x5e92a1(0x62f)]({'request':_0x41ee90,'schema':xe,'ClassRef':te,'execute':(_0x2d63cb,_0x3db6f1)=>q['findParticipants'](_0x2d63cb,_0x3db6f1)});_0x3c0b03[_0x5e92a1(0x826)](0xc8)['json'](_0x33e4db);})['get'](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x270)),..._0xff58fc,async(_0x3f78a1,_0x405a16)=>{const _0x372d96=_0x6cadbb;let _0x4e771b=await this['groupValidate']({'request':_0x3f78a1,'schema':xe,'ClassRef':te,'execute':(_0x46c467,_0x171f4a)=>q[_0x372d96(0x270)](_0x46c467,_0x171f4a)});_0x405a16[_0x372d96(0x826)](0xc8)['json'](_0x4e771b);})[_0x6cadbb(0x212)](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x3aa)),..._0xff58fc,async(_0x55f2c7,_0x524ce1)=>{const _0x4caf0b=_0x6cadbb;let _0x4a1453=await this[_0x4caf0b(0x20a)]({'request':_0x55f2c7,'schema':Es,'ClassRef':De,'execute':(_0x1b4a45,_0xdb5bfa)=>q[_0x4caf0b(0x341)](_0x1b4a45,_0xdb5bfa)});_0x524ce1[_0x4caf0b(0x826)](0xc9)[_0x4caf0b(0x687)](_0x4a1453);})[_0x6cadbb(0x808)](this['routerPath'](_0x6cadbb(0x2f9)),..._0xff58fc,async(_0x38788e,_0x56b47e)=>{const _0x1d8f5d=_0x6cadbb;let _0x470a8b=await this['joinGroupValidate']({'request':_0x38788e,'schema':Es,'ClassRef':De,'execute':(_0x2c9246,_0xccecd)=>q['joinGroup'](_0x2c9246,_0xccecd)});_0x56b47e[_0x1d8f5d(0x826)](0xc9)[_0x1d8f5d(0x687)](_0x470a8b);})['put'](this['routerPath']('revokeInviteCode'),..._0xff58fc,async(_0x53f82e,_0x50e3d9)=>{const _0x53e99e=_0x6cadbb;let _0x505eb4=await this[_0x53e99e(0x62f)]({'request':_0x53f82e,'schema':xe,'ClassRef':te,'execute':(_0x40c3e3,_0x2b0243)=>q['revokeInviteCode'](_0x40c3e3,_0x2b0243)});_0x50e3d9[_0x53e99e(0x826)](0xc9)[_0x53e99e(0x687)](_0x505eb4);})[_0x6cadbb(0x808)](this[_0x6cadbb(0x1fb)]('updateParticipant'),..._0xff58fc,async(_0x286b3a,_0x495544)=>{const _0x28cdad=_0x6cadbb;let _0x3b2129=await this[_0x28cdad(0x62f)]({'request':_0x286b3a,'schema':ai,'ClassRef':mt,'execute':(_0x588c5f,_0x1d3da5)=>q['updateGParticipate'](_0x588c5f,_0x1d3da5)});_0x495544[_0x28cdad(0x826)](0xc9)['json'](_0x3b2129);})[_0x6cadbb(0x854)](this[_0x6cadbb(0x1fb)](_0x6cadbb(0x30f)),..._0xff58fc,async(_0x2c6b9e,_0x1c8efc)=>{const _0x6ad17a=_0x6cadbb;let _0x14457c=await this[_0x6ad17a(0x62f)]({'request':_0x2c6b9e,'schema':{},'ClassRef':te,'execute':(_0x1c5277,_0x589381)=>q[_0x6ad17a(0x30f)](_0x1c5277,_0x589381)});_0x1c8efc[_0x6ad17a(0x826)](0xc8)[_0x6ad17a(0x687)](_0x14457c);});}},hi=require(a0_0x341dd0(0x7ec)),yt=class extends V{constructor(_0x567b5f,..._0x5dd818){const _0x277764=a0_0x341dd0;super(),this[_0x277764(0x403)]=_0x567b5f,this[_0x277764(0x72d)]=(0x0,hi[_0x277764(0x71f)])();let _0x4951dd=_0x567b5f['get'](_0x277764(0x562));this[_0x277764(0x72d)][_0x277764(0x212)]('/create',..._0x5dd818,async(_0x29339d,_0x2af3d7)=>{const _0x481fc5=_0x277764;let {instanceName:_0x1baddc,apikey:_0x2cbc84,number:_0x319ac3}=_0x29339d['body'],_0x3fd495=await ue[_0x481fc5(0x6bd)]({'instanceName':_0x1baddc,'apikey':_0x2cbc84,'number':_0x319ac3});return _0x2af3d7['status'](0xc9)[_0x481fc5(0x687)](_0x3fd495);})[_0x277764(0x808)](this[_0x277764(0x1fb)](_0x277764(0x3cc)),..._0x5dd818,async(_0x1f31a7,_0x9d93fe)=>{const _0x1c83e1=_0x277764;let _0x5f5395=await this[_0x1c83e1(0x8db)]({'request':_0x1f31a7,'schema':v,'ClassRef':M,'execute':_0x4b0673=>ue['restartInstance'](_0x4b0673)});return _0x9d93fe[_0x1c83e1(0x826)](0xc8)[_0x1c83e1(0x687)](_0x5f5395);})[_0x277764(0x86a)](this[_0x277764(0x1fb)](_0x277764(0x5d2)),..._0x5dd818,async(_0x2f29c4,_0x2c7004)=>{const _0x5e4cec=_0x277764;let _0x1e9047=await this['dataValidate']({'request':_0x2f29c4,'schema':v,'ClassRef':M,'execute':_0x1a8d77=>ue[_0x5e4cec(0x1cc)](_0x1a8d77)});return _0x2c7004[_0x5e4cec(0x826)](0xc8)['json'](_0x1e9047);})[_0x277764(0x86a)](this['routerPath'](_0x277764(0x1ae)),..._0x5dd818,async(_0x681a67,_0x3c2b59)=>{const _0x34776a=_0x277764;let _0x368edf=await this['dataValidate']({'request':_0x681a67,'schema':v,'ClassRef':M,'execute':_0x4b7998=>ue['connectionState'](_0x4b7998)});return _0x3c2b59[_0x34776a(0x826)](0xc8)[_0x34776a(0x687)](_0x368edf);})[_0x277764(0x86a)](this[_0x277764(0x1fb)]('fetchInstances',!0x1),..._0x5dd818,async(_0x583454,_0x2ac8e5)=>{const _0x105c5d=_0x277764;let _0x2cde6b=await this[_0x105c5d(0x8db)]({'request':_0x583454,'schema':null,'ClassRef':M,'execute':_0x12895a=>ue['fetchInstances'](_0x12895a)});return _0x2ac8e5[_0x105c5d(0x826)](0xc8)[_0x105c5d(0x687)](_0x2cde6b);})[_0x277764(0x854)](this[_0x277764(0x1fb)](_0x277764(0x89d)),..._0x5dd818,async(_0x5879e7,_0x5e1da4)=>{const _0x2a9039=_0x277764;let _0x44204b=await this[_0x2a9039(0x8db)]({'request':_0x5879e7,'schema':v,'ClassRef':M,'execute':_0x3ec12b=>ue[_0x2a9039(0x89d)](_0x3ec12b)});return _0x5e1da4[_0x2a9039(0x826)](0xc8)[_0x2a9039(0x687)](_0x44204b);})[_0x277764(0x854)](this['routerPath'](_0x277764(0x854)),..._0x5dd818,async(_0x474c5d,_0x1bb9f8)=>{const _0x43f204=_0x277764;let _0x1562d1=await this[_0x43f204(0x8db)]({'request':_0x474c5d,'schema':v,'ClassRef':M,'execute':_0x22c6ee=>ue[_0x43f204(0x4f5)](_0x22c6ee)});return _0x1bb9f8[_0x43f204(0x826)](0xc8)[_0x43f204(0x687)](_0x1562d1);});}},gi=require(a0_0x341dd0(0x7ec)),Ns=class{},z=class extends Ns{},bt=class extends z{},St=class extends z{},Mt=class extends z{},Ct=class extends z{},Pe=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class extends z{},At=class{},It=class extends V{constructor(..._0x2ed5d0){const _0x2b8172=a0_0x341dd0;super(),this['router']=(0x0,gi[_0x2b8172(0x71f)])(),this[_0x2b8172(0x72d)]['post'](this[_0x2b8172(0x1fb)](_0x2b8172(0x82f)),..._0x2ed5d0,async(_0x2610a1,_0x1fed23)=>{const _0x5cd059=_0x2b8172;let _0x8f095c=await this[_0x5cd059(0x8db)]({'request':_0x2610a1,'schema':_a,'ClassRef':bt,'execute':(_0x1fef79,_0x4e3239)=>B[_0x5cd059(0x82f)](_0x1fef79,_0x4e3239)});return _0x1fed23[_0x5cd059(0x826)](0xc9)[_0x5cd059(0x687)](_0x8f095c);})['post'](this['routerPath'](_0x2b8172(0x352)),..._0x2ed5d0,async(_0x47ebd3,_0x3d0ed2)=>{const _0x3e7faf=_0x2b8172;let _0x3aee36=await this[_0x3e7faf(0x8db)]({'request':_0x47ebd3,'schema':ka,'ClassRef':Pe,'execute':(_0x2f13cd,_0x31ec2f)=>B['sendMedia'](_0x2f13cd,_0x31ec2f)});return _0x3d0ed2[_0x3e7faf(0x826)](0xc9)['json'](_0x3aee36);})[_0x2b8172(0x212)](this[_0x2b8172(0x1fb)](_0x2b8172(0x46f)),..._0x2ed5d0,async(_0x286066,_0xa79642)=>{const _0x453e5c=_0x2b8172;let _0x264ce9=await this[_0x453e5c(0x8db)]({'request':_0x286066,'schema':Ua,'ClassRef':Ct,'execute':(_0x16a60c,_0x58a976)=>B['sendMenu'](_0x16a60c,_0x58a976)});return _0xa79642[_0x453e5c(0x826)](0xc9)[_0x453e5c(0x687)](_0x264ce9);})[_0x2b8172(0x212)](this[_0x2b8172(0x1fb)]('sendWhatsAppAudio'),..._0x2ed5d0,async(_0x4078f6,_0x6338e5)=>{const _0x57b84e=_0x2b8172;let _0xfd6175=await this[_0x57b84e(0x8db)]({'request':_0x4078f6,'schema':La,'ClassRef':Pe,'execute':(_0xb67e02,_0x2dd36a)=>B[_0x57b84e(0x5b4)](_0xb67e02,_0x2dd36a)});return _0x6338e5[_0x57b84e(0x826)](0xc9)[_0x57b84e(0x687)](_0xfd6175);})[_0x2b8172(0x212)](this['routerPath'](_0x2b8172(0x29f)),..._0x2ed5d0,async(_0x3608bc,_0x227d56)=>{const _0x201347=_0x2b8172;let _0x37f2af=await this[_0x201347(0x8db)]({'request':_0x3608bc,'schema':ja,'ClassRef':vt,'execute':(_0xb1b917,_0x2fe70c)=>B[_0x201347(0x29f)](_0xb1b917,_0x2fe70c)});return _0x227d56[_0x201347(0x826)](0xc9)[_0x201347(0x687)](_0x37f2af);})['post'](this[_0x2b8172(0x1fb)](_0x2b8172(0x700)),..._0x2ed5d0,async(_0x2ba199,_0x2ac77b)=>{const _0x2b8a3e=_0x2b8172;let _0x222c08=await this[_0x2b8a3e(0x8db)]({'request':_0x2ba199,'schema':Ja,'ClassRef':Nt,'execute':(_0x4144ed,_0x47c29e)=>B['sendLocation'](_0x4144ed,_0x47c29e)});return _0x2ac77b[_0x2b8a3e(0x826)](0xc9)[_0x2b8a3e(0x687)](_0x222c08);})[_0x2b8172(0x212)](this[_0x2b8172(0x1fb)]('sendList'),..._0x2ed5d0,async(_0x15e602,_0x5d8f85)=>{const _0x5a0b21=_0x2b8172;let _0x50ce56=await this[_0x5a0b21(0x8db)]({'request':_0x15e602,'schema':qa,'ClassRef':$t,'execute':(_0x476b21,_0xe8657c)=>B[_0x5a0b21(0x683)](_0x476b21,_0xe8657c)});return _0x5d8f85['status'](0xc9)['json'](_0x50ce56);})[_0x2b8172(0x212)](this[_0x2b8172(0x1fb)](_0x2b8172(0x24f)),..._0x2ed5d0,async(_0x1a4fa7,_0x55d14b)=>{const _0x40d996=_0x2b8172;let _0x34bdf3=await this[_0x40d996(0x8db)]({'request':_0x1a4fa7,'schema':Va,'ClassRef':Rt,'execute':(_0x1e228a,_0x58eed5)=>B['sendContact'](_0x1e228a,_0x58eed5)});return _0x55d14b[_0x40d996(0x826)](0xc9)[_0x40d996(0x687)](_0x34bdf3);})[_0x2b8172(0x212)](this[_0x2b8172(0x1fb)]('sendReaction'),..._0x2ed5d0,async(_0x45be86,_0x450606)=>{const _0x762a31=_0x2b8172;let _0x23aff7=await this[_0x762a31(0x8db)]({'request':_0x45be86,'schema':Ga,'ClassRef':At,'execute':(_0xf75f2,_0x30b2d5)=>B[_0x762a31(0x83e)](_0xf75f2,_0x30b2d5)});return _0x450606[_0x762a31(0x826)](0xc9)[_0x762a31(0x687)](_0x23aff7);})[_0x2b8172(0x212)](this[_0x2b8172(0x1fb)](_0x2b8172(0x771)),..._0x2ed5d0,async(_0x544550,_0x5bc1bc)=>{const _0x13a1b1=_0x2b8172;let _0x923d0c=await this['dataValidate']({'request':_0x544550,'schema':Fa,'ClassRef':Mt,'execute':(_0x380ce5,_0x8db345)=>B[_0x13a1b1(0x771)](_0x380ce5,_0x8db345)});return _0x5bc1bc['status'](0xc9)[_0x13a1b1(0x687)](_0x923d0c);})[_0x2b8172(0x212)](this[_0x2b8172(0x1fb)](_0x2b8172(0x7b7)),..._0x2ed5d0,async(_0x33257a,_0x5497d0)=>{const _0x3ab135=_0x2b8172;let _0x5d4b53=await this[_0x3ab135(0x8db)]({'request':_0x33257a,'schema':Pa,'ClassRef':St,'execute':(_0x6adebb,_0x247770)=>B[_0x3ab135(0x7b7)](_0x6adebb,_0x247770)});return _0x5497d0[_0x3ab135(0x826)](0xc9)['json'](_0x5d4b53);})[_0x2b8172(0x212)](this['routerPath'](_0x2b8172(0x555)),..._0x2ed5d0,async(_0x2f13a7,_0xe9b8f)=>{const _0x24607d=_0x2b8172;let _0x153d7d=await this['dataValidate']({'request':_0x2f13a7,'schema':Da,'ClassRef':Et,'execute':(_0x40d66d,_0x5499c2)=>B[_0x24607d(0x555)](_0x40d66d,_0x5499c2)});return _0xe9b8f[_0x24607d(0x826)](0xc9)['json'](_0x153d7d);});}},mi=require(a0_0x341dd0(0x7ec)),Tt=class{},Ot=class extends V{constructor(..._0x3bc2a8){const _0x1314ac=a0_0x341dd0;super(),this[_0x1314ac(0x72d)]=(0x0,mi[_0x1314ac(0x71f)])(),this[_0x1314ac(0x72d)]['post'](this[_0x1314ac(0x1fb)](_0x1314ac(0x2c9)),..._0x3bc2a8,async(_0x57d501,_0x27a4e5)=>{const _0x566fd4=_0x1314ac;let _0x5dbb22=await this[_0x566fd4(0x8db)]({'request':_0x57d501,'schema':ui,'ClassRef':Tt,'execute':(_0x5cb567,_0x189419)=>$s['createWebhook'](_0x5cb567,_0x189419)});_0x27a4e5[_0x566fd4(0x826)](0xc9)[_0x566fd4(0x687)](_0x5dbb22);})['get'](this['routerPath'](_0x1314ac(0x232)),..._0x3bc2a8,async(_0x3150e3,_0x402b7b)=>{const _0x5bf7ae=_0x1314ac;let _0x2fe463=await this[_0x5bf7ae(0x8db)]({'request':_0x3150e3,'schema':v,'ClassRef':M,'execute':_0x435bb3=>$s[_0x5bf7ae(0x48f)](_0x435bb3)});_0x402b7b[_0x5bf7ae(0x826)](0xc8)[_0x5bf7ae(0x687)](_0x2fe463);});}},fi=require(a0_0x341dd0(0x7ec)),y=new $(a0_0x341dd0(0x6ed)),_t=class extends V{constructor(..._0x141cab){const _0x2df95a=a0_0x341dd0;super(),this[_0x2df95a(0x72d)]=(0x0,fi[_0x2df95a(0x71f)])(),this['router'][_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x6ae)),..._0x141cab,async(_0x121444,_0x338d41)=>{const _0x26f1c2=_0x2df95a;let _0x19ee18=_0x121444[_0x26f1c2(0x466)];y[_0x26f1c2(0x769)](_0x26f1c2(0x514)),y['verbose'](_0x26f1c2(0x51b)),y['verbose'](_0x121444['body']);let _0x39e88b=await this[_0x26f1c2(0x8db)]({'request':_0x121444,'schema':v,'ClassRef':M,'execute':_0x4e3180=>O[_0x26f1c2(0x373)](_0x4e3180,_0x19ee18)});_0x338d41[_0x26f1c2(0x826)](0xc8)[_0x26f1c2(0x687)](_0x39e88b);})[_0x2df95a(0x86a)](this[_0x2df95a(0x1fb)](_0x2df95a(0x6ae)),..._0x141cab,async(_0x4413f0,_0x10d668)=>{const _0x59e752=_0x2df95a;let _0x3b77dc=await this[_0x59e752(0x8db)]({'request':_0x4413f0,'schema':v,'ClassRef':M,'execute':_0x37dd01=>O[_0x59e752(0x38c)](_0x37dd01)});_0x10d668[_0x59e752(0x826)](0xc8)[_0x59e752(0x687)](_0x3b77dc);})[_0x2df95a(0x854)](this['routerPath'](_0x2df95a(0x6fb)),..._0x141cab,async(_0x3ac619,_0x1143ac)=>{const _0x4da866=_0x2df95a;y['verbose'](_0x4da866(0x406));let _0x4215a4=await this[_0x4da866(0x8db)]({'request':_0x3ac619,'schema':v,'ClassRef':M,'execute':_0x276f00=>O['deleteDoneMessages'](_0x276f00)});_0x1143ac['status'](0xc8)[_0x4da866(0x687)](_0x4215a4);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x1de)),..._0x141cab,async(_0x5c1f23,_0x2123d9)=>{const _0xdf4079=_0x2df95a;let _0x30b7eb=_0x5c1f23[_0xdf4079(0x466)];y[_0xdf4079(0x769)]('request\x20received\x20in\x20starFlow'),y[_0xdf4079(0x769)](_0xdf4079(0x51b)),y[_0xdf4079(0x769)](_0x5c1f23['body']);let _0x2788e0=await this[_0xdf4079(0x8db)]({'request':_0x5c1f23,'schema':v,'ClassRef':M,'execute':_0x327efb=>O['startFlow'](_0x327efb,_0x30b7eb)});_0x2123d9[_0xdf4079(0x826)](0xc8)[_0xdf4079(0x687)](_0x2788e0);})[_0x2df95a(0x86a)](this['routerPath']('getAutomateSystem'),..._0x141cab,async(_0x70e962,_0x2bad52)=>{const _0x254196=_0x2df95a;y[_0x254196(0x769)](_0x254196(0x66d));let _0x579a80=await this[_0x254196(0x8db)]({'request':_0x70e962,'schema':v,'ClassRef':M,'execute':_0x34a5b1=>O['getAutomateSystem'](_0x34a5b1)});_0x2bad52[_0x254196(0x826)](0xc8)['json'](_0x579a80);})[_0x2df95a(0x86a)](this['routerPath'](_0x2df95a(0x670)),..._0x141cab,async(_0x204d47,_0x1ca32c)=>{const _0x248579=_0x2df95a;y['verbose'](_0x248579(0x36b));let _0x4c765e=await this['dataValidate']({'request':_0x204d47,'schema':v,'ClassRef':M,'execute':_0x5740a5=>O['getAutomateSystem'](_0x5740a5)});_0x1ca32c[_0x248579(0x826)](0xc8)[_0x248579(0x687)](_0x4c765e);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)]('updateAgent'),..._0x141cab,async(_0x5e5046,_0x49aae4)=>{const _0x580c9d=_0x2df95a;let _0x19a80f=_0x5e5046['body'];y[_0x580c9d(0x769)](_0x580c9d(0x6e8)),y[_0x580c9d(0x769)](_0x580c9d(0x51b)),y[_0x580c9d(0x769)](_0x5e5046[_0x580c9d(0x466)]);let _0x30d4b7=await this[_0x580c9d(0x8db)]({'request':_0x5e5046,'schema':v,'ClassRef':M,'execute':_0x509473=>O[_0x580c9d(0x350)](_0x509473,_0x19a80f)});_0x49aae4[_0x580c9d(0x826)](0xc8)[_0x580c9d(0x687)](_0x30d4b7);})['post'](this[_0x2df95a(0x1fb)]('updateCustomFields'),..._0x141cab,async(_0x5ab2e4,_0x47035f)=>{const _0x39549a=_0x2df95a;let _0x517415=_0x5ab2e4[_0x39549a(0x466)];y[_0x39549a(0x769)](_0x39549a(0x7a3)),y[_0x39549a(0x769)]('request\x20body:\x20'),y['verbose'](_0x5ab2e4[_0x39549a(0x466)]);let _0x401abb=await this['dataValidate']({'request':_0x5ab2e4,'schema':v,'ClassRef':M,'execute':_0xe4ffe3=>O[_0x39549a(0x73d)](_0xe4ffe3,_0x517415)});_0x47035f['status'](0xc8)[_0x39549a(0x687)](_0x401abb);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x4f0)),..._0x141cab,async(_0x26eb42,_0x4741ac)=>{const _0x20b6f4=_0x2df95a;let _0x8beaf8=_0x26eb42[_0x20b6f4(0x466)];y[_0x20b6f4(0x769)](_0x20b6f4(0x43c)),y[_0x20b6f4(0x769)](_0x20b6f4(0x51b)),y[_0x20b6f4(0x769)](_0x26eb42[_0x20b6f4(0x466)]);let _0x374d8b=await this[_0x20b6f4(0x8db)]({'request':_0x26eb42,'schema':v,'ClassRef':M,'execute':_0x2a53ee=>O['updateAutoCompleteMessages'](_0x2a53ee,_0x8beaf8)});_0x4741ac['status'](0xc8)[_0x20b6f4(0x687)](_0x374d8b);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x8c3)),..._0x141cab,async(_0x1dabfa,_0x3551f5)=>{const _0x12b7b2=_0x2df95a;let _0x199a3e=_0x1dabfa[_0x12b7b2(0x466)];y['verbose'](_0x12b7b2(0x862)),y[_0x12b7b2(0x769)](_0x12b7b2(0x51b)),y[_0x12b7b2(0x769)](_0x1dabfa[_0x12b7b2(0x466)]);let _0x323b83=await this['dataValidate']({'request':_0x1dabfa,'schema':v,'ClassRef':M,'execute':_0x441624=>O[_0x12b7b2(0x8c3)](_0x441624,_0x199a3e)});_0x3551f5[_0x12b7b2(0x826)](0xc8)[_0x12b7b2(0x687)](_0x323b83);})[_0x2df95a(0x212)](this['routerPath'](_0x2df95a(0x836)),..._0x141cab,async(_0x2df00c,_0x1e0cdd)=>{const _0x544eda=_0x2df95a;let _0xf1985=_0x2df00c[_0x544eda(0x466)];y[_0x544eda(0x769)](_0x544eda(0x44c)),y[_0x544eda(0x769)]('request\x20body:\x20'),y[_0x544eda(0x769)](_0x2df00c[_0x544eda(0x466)]);let _0x321855=await this[_0x544eda(0x8db)]({'request':_0x2df00c,'schema':v,'ClassRef':M,'execute':_0x1783db=>O['getConversation'](_0x1783db,_0xf1985)});_0x1e0cdd[_0x544eda(0x826)](0xc8)[_0x544eda(0x687)](_0x321855);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x38a)),..._0x141cab,async(_0x5d0dee,_0x5e2eb5)=>{const _0x46013a=_0x2df95a;let _0xd96d7c=_0x5d0dee[_0x46013a(0x466)];y['verbose']('request\x20received\x20in\x20fetchConversation'),y[_0x46013a(0x769)](_0x46013a(0x51b)),y['verbose'](_0x5d0dee[_0x46013a(0x466)]);let _0x2dc3a9=await this['dataValidate']({'request':_0x5d0dee,'schema':v,'ClassRef':M,'execute':_0x303db4=>O[_0x46013a(0x38a)](_0x303db4,_0xd96d7c)});_0x5e2eb5[_0x46013a(0x826)](0xc8)['json'](_0x2dc3a9);})['post'](this[_0x2df95a(0x1fb)](_0x2df95a(0x678)),..._0x141cab,async(_0x273990,_0x466691)=>{const _0x563721=_0x2df95a;let _0x2c68fe=_0x273990['body'];y[_0x563721(0x769)](_0x563721(0x531)),y['verbose'](_0x563721(0x51b)),y[_0x563721(0x769)](_0x273990[_0x563721(0x466)]);let _0x5a4ea4=await this[_0x563721(0x8db)]({'request':_0x273990,'schema':v,'ClassRef':M,'execute':_0x32c9e5=>O['editConversation'](_0x32c9e5,_0x2c68fe)});_0x466691[_0x563721(0x826)](0xc8)[_0x563721(0x687)](_0x5a4ea4);})[_0x2df95a(0x854)](this[_0x2df95a(0x1fb)]('deleteConversation'),..._0x141cab,async(_0x52aae5,_0x4c534b)=>{const _0x3a1ba3=_0x2df95a;let _0x4dfa04=_0x52aae5[_0x3a1ba3(0x466)];y[_0x3a1ba3(0x769)](_0x3a1ba3(0x342)),y[_0x3a1ba3(0x769)](_0x3a1ba3(0x51b)),y['verbose'](_0x52aae5['body']);let _0x45e934=await this[_0x3a1ba3(0x8db)]({'request':_0x52aae5,'schema':v,'ClassRef':M,'execute':_0x5d1c3f=>O[_0x3a1ba3(0x65b)](_0x5d1c3f,_0x4dfa04)});_0x4c534b[_0x3a1ba3(0x826)](0xc8)[_0x3a1ba3(0x687)](_0x45e934);})['post'](this[_0x2df95a(0x1fb)](_0x2df95a(0x5d0)),..._0x141cab,async(_0x1d3475,_0x27d5a8)=>{const _0x225d53=_0x2df95a;let _0x2f094b=_0x1d3475[_0x225d53(0x466)],_0x18fc5b=_0x1d3475[_0x225d53(0x521)][_0x225d53(0x2b8)];y[_0x225d53(0x769)](_0x225d53(0x332)),y[_0x225d53(0x769)]('request\x20body:\x20'),y[_0x225d53(0x769)](_0x1d3475[_0x225d53(0x466)]);let _0x4bad60=await this[_0x225d53(0x8db)]({'request':_0x1d3475,'schema':v,'ClassRef':M,'execute':_0x41a0e0=>O['createFlow'](_0x41a0e0,_0x2f094b,_0x18fc5b)});_0x27d5a8[_0x225d53(0x826)](0xc8)[_0x225d53(0x687)](_0x4bad60);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)]('editflow'),..._0x141cab,async(_0x230052,_0x164f5d)=>{const _0x14bd49=_0x2df95a;let _0x39757a=_0x230052[_0x14bd49(0x466)],_0x528d43=_0x230052[_0x14bd49(0x521)][_0x14bd49(0x2b8)];y[_0x14bd49(0x769)](_0x14bd49(0x4d5)),y[_0x14bd49(0x769)](_0x14bd49(0x51b)),y[_0x14bd49(0x769)](_0x230052[_0x14bd49(0x466)]),delete _0x39757a[_0x14bd49(0x48b)],delete _0x39757a[_0x14bd49(0x798)],delete _0x39757a[_0x14bd49(0x7f6)],delete _0x39757a[_0x14bd49(0x5ce)];let _0x486a00=await this['dataValidate']({'request':_0x230052,'schema':v,'ClassRef':M,'execute':_0xc78b57=>O[_0x14bd49(0x34f)](_0xc78b57,_0x39757a,_0x528d43)});_0x164f5d[_0x14bd49(0x826)](0xc8)[_0x14bd49(0x687)](_0x486a00);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x5da)),..._0x141cab,async(_0x27494f,_0x2cc8d8)=>{const _0x26b478=_0x2df95a;let _0x42de38=_0x27494f[_0x26b478(0x466)];y[_0x26b478(0x769)](_0x26b478(0x4d5)),y[_0x26b478(0x769)]('request\x20body:\x20'),y['verbose'](_0x27494f['body']);let _0x29ddae=await this[_0x26b478(0x8db)]({'request':_0x27494f,'schema':v,'ClassRef':M,'execute':_0x1781e3=>O['editFlowBlock'](_0x1781e3,_0x42de38)});_0x2cc8d8[_0x26b478(0x826)](0xc8)['json'](_0x29ddae);})['post'](this[_0x2df95a(0x1fb)]('editflowreply'),..._0x141cab,async(_0x4a2f5f,_0x3d887f)=>{const _0x218c5b=_0x2df95a;let _0x47c752=_0x4a2f5f[_0x218c5b(0x466)];y['verbose'](_0x218c5b(0x4d5)),y['verbose'](_0x218c5b(0x51b)),y['verbose'](_0x4a2f5f[_0x218c5b(0x466)]);let _0x500b23=await this[_0x218c5b(0x8db)]({'request':_0x4a2f5f,'schema':v,'ClassRef':M,'execute':_0x51cee2=>O[_0x218c5b(0x4b3)](_0x51cee2,_0x47c752)});_0x3d887f[_0x218c5b(0x826)](0xc8)[_0x218c5b(0x687)](_0x500b23);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x8d4)),..._0x141cab,async(_0x3d9520,_0x37ff49)=>{const _0x1fec34=_0x2df95a;let _0x22b93e=_0x3d9520[_0x1fec34(0x466)];y[_0x1fec34(0x769)](_0x1fec34(0x4d5)),y[_0x1fec34(0x769)]('request\x20body:\x20'),y['verbose'](_0x3d9520['body']);let _0x236f17=await this['dataValidate']({'request':_0x3d9520,'schema':v,'ClassRef':M,'execute':_0x143259=>O[_0x1fec34(0x610)](_0x143259,_0x22b93e)});_0x37ff49['status'](0xc8)[_0x1fec34(0x687)](_0x236f17);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x3e0)),..._0x141cab,async(_0x5f839e,_0x9f9462)=>{const _0x3f6a95=_0x2df95a;let _0x113f21=_0x5f839e[_0x3f6a95(0x466)];y['verbose'](_0x3f6a95(0x52c)),y[_0x3f6a95(0x769)](_0x3f6a95(0x51b)),y[_0x3f6a95(0x769)](_0x5f839e[_0x3f6a95(0x466)]);let _0x2c7247=await this['dataValidate']({'request':_0x5f839e,'schema':v,'ClassRef':M,'execute':_0x2feb2e=>O[_0x3f6a95(0x4dc)](_0x2feb2e,_0x113f21)});_0x9f9462[_0x3f6a95(0x826)](0xc8)[_0x3f6a95(0x687)](_0x2c7247);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)](_0x2df95a(0x3fa)),..._0x141cab,async(_0x38379b,_0x11cced)=>{const _0x193ba5=_0x2df95a;let _0x252736=_0x38379b[_0x193ba5(0x466)];y[_0x193ba5(0x769)](_0x193ba5(0x4cb)),y['verbose'](_0x193ba5(0x51b)),y[_0x193ba5(0x769)](_0x38379b[_0x193ba5(0x466)]);let _0xf33ee1=await this[_0x193ba5(0x8db)]({'request':_0x38379b,'schema':v,'ClassRef':M,'execute':_0x244578=>O[_0x193ba5(0x5e5)](_0x244578,_0x252736)});_0x11cced[_0x193ba5(0x826)](0xc8)['json'](_0xf33ee1);})['post'](this[_0x2df95a(0x1fb)]('editflowvariable'),..._0x141cab,async(_0x54aa9a,_0x35a33a)=>{const _0x250e4d=_0x2df95a;let _0x1b9563=_0x54aa9a[_0x250e4d(0x466)];y[_0x250e4d(0x769)](_0x250e4d(0x348)),y[_0x250e4d(0x769)](_0x250e4d(0x51b)),y[_0x250e4d(0x769)](_0x54aa9a['body']);let _0x12e04f=await this[_0x250e4d(0x8db)]({'request':_0x54aa9a,'schema':v,'ClassRef':M,'execute':_0x13b764=>O[_0x250e4d(0x64c)](_0x13b764,_0x1b9563)});_0x35a33a['status'](0xc8)['json'](_0x12e04f);})[_0x2df95a(0x212)](this[_0x2df95a(0x1fb)]('getflow'),..._0x141cab,async(_0x5a7ea4,_0x5d9a6d)=>{const _0x4d3f31=_0x2df95a;let _0x376f8e=_0x5a7ea4[_0x4d3f31(0x466)];y['verbose'](_0x4d3f31(0x8ef)),y[_0x4d3f31(0x769)]('request\x20body:\x20'),y[_0x4d3f31(0x769)](_0x5a7ea4['body']);let _0x142ac0=await this['dataValidate']({'request':_0x5a7ea4,'schema':v,'ClassRef':M,'execute':_0x58e6fe=>O[_0x4d3f31(0x3c5)](_0x58e6fe,_0x376f8e)});_0x5d9a6d[_0x4d3f31(0x826)](0xc8)[_0x4d3f31(0x687)](_0x142ac0);})[_0x2df95a(0x854)](this[_0x2df95a(0x1fb)]('deleteflow'),..._0x141cab,async(_0x1e4fcf,_0x199047)=>{const _0x1e3180=_0x2df95a;let _0x32ca2c=_0x1e4fcf['body'];y[_0x1e3180(0x769)](_0x1e3180(0x780)),y[_0x1e3180(0x769)](_0x1e3180(0x51b)),y['verbose'](_0x1e4fcf[_0x1e3180(0x466)]);let _0x398b10=await this[_0x1e3180(0x8db)]({'request':_0x1e4fcf,'schema':v,'ClassRef':M,'execute':_0x34f169=>O[_0x1e3180(0x708)](_0x34f169,_0x32ca2c)});_0x199047['status'](0xc8)[_0x1e3180(0x687)](_0x398b10);})[_0x2df95a(0x86a)](this[_0x2df95a(0x1fb)]('allflows'),..._0x141cab,async(_0x3e449c,_0x5cb015)=>{const _0x23ffd5=_0x2df95a;y[_0x23ffd5(0x769)](_0x23ffd5(0x738));let _0x5b90b0=await this[_0x23ffd5(0x8db)]({'request':_0x3e449c,'schema':v,'ClassRef':M,'execute':_0x1b2be4=>O[_0x23ffd5(0x5b6)](_0x1b2be4)});_0x5cb015[_0x23ffd5(0x826)](0xc8)['json'](_0x5b90b0);});}},Si=A(require('path')),se={};function wi(_0x20be91,_0x21a30f,_0x5a3033,_0x50377f){se[_0x20be91]||(se[_0x20be91]={}),se[_0x20be91][_0x21a30f]={'id':_0x21a30f,'response':_0x5a3033,'events':_0x50377f};}function yi(_0x34a6f4,_0xa5521a){!se[_0x34a6f4]||!se[_0x34a6f4][_0xa5521a]||delete se[_0x34a6f4][_0xa5521a];}function J(_0x92d68c,_0x48174e,_0x3ad8ed){const _0xe2c80=a0_0x341dd0;if(!se[_0x92d68c])return;let _0x33ef2f=_0xe2c80(0x3b9)+JSON[_0xe2c80(0x3c8)](_0x3ad8ed)+'\x0a\x0a';Object['values'](se[_0x92d68c])[_0xe2c80(0x8b4)](_0x5845de=>{const _0x20255c=_0xe2c80;_0x5845de[_0x20255c(0x6b7)][_0x20255c(0x23d)](_0x48174e)&&_0x5845de['response']['write'](_0x33ef2f);});}function bi(){const _0x287319=a0_0x341dd0;let _0xfdbe26={};for(let _0x487f60 in se)_0xfdbe26[_0x487f60]=Object[_0x287319(0x546)](se[_0x487f60])[_0x287319(0x486)](_0x1b4f72=>({'id':_0x1b4f72['id'],'events':_0x1b4f72[_0x287319(0x6b7)]}));return _0xfdbe26;}var Mi=require(a0_0x341dd0(0x6b4)),As=require(a0_0x341dd0(0x57a)),Rs=class{},Ro=new As[(a0_0x341dd0(0x4bd))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new As[(a0_0x341dd0(0x4bd))]({'_id':{'type':String,'default':a0_0x341dd0(0x3ae)},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.['model'](Rs['name'],Ao,a0_0x341dd0(0x2f6)),Io=Si['default'][a0_0x341dd0(0x421)](__dirname,a0_0x341dd0(0x63f)),ke=(0x0,xt['Router'])(),To=S['get'](a0_0x341dd0(0x562))[a0_0x341dd0(0x6eb)],re=[$a,Ra,Ta[To]];ke[a0_0x341dd0(0x56f)](a0_0x341dd0(0x8f2),xt[a0_0x341dd0(0x4ea)][a0_0x341dd0(0x1ce)](Io))['get'](a0_0x341dd0(0x8a6),async(_0x46eee6,_0x3cf684)=>{const _0x27965c=a0_0x341dd0;console[_0x27965c(0x3c3)](_0x27965c(0x8dc));let _0x5c4d79=_0x46eee6[_0x27965c(0x6c7)]['instance'],_0x4343e7=(_0x46eee6[_0x27965c(0x62e)][_0x27965c(0x6b7)]||'')['split'](','),_0x9ea555=(0x0,Mi['v4'])();console[_0x27965c(0x3c3)](_0x27965c(0x4eb),_0x5c4d79),console[_0x27965c(0x3c3)](_0x27965c(0x46e),_0x4343e7);let _0x364609=S[_0x27965c(0x86a)](_0x27965c(0x562))[_0x27965c(0x8b6)],_0x4bf76b=_0x46eee6[_0x27965c(0x62e)][_0x27965c(0x2b8)];if(console[_0x27965c(0x3c3)]('API\x20Key\x20from\x20Request:',_0x4bf76b),_0x364609[_0x27965c(0x4fd)]!==_0x4bf76b){console['log'](_0x27965c(0x226));try{let _0x1ca484=await me[_0x27965c(0x3d7)][_0x27965c(0x232)](_0x5c4d79);if(console[_0x27965c(0x3c3)](_0x27965c(0x796),_0x1ca484),!_0x1ca484||_0x1ca484[_0x27965c(0x2b8)]!==_0x4bf76b)return console[_0x27965c(0x3c3)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x3cf684[_0x27965c(0x826)](0x191)['send'](_0x27965c(0x645));}catch(_0x386833){return console[_0x27965c(0x4a8)](_0x27965c(0x8e7),_0x386833),_0x3cf684[_0x27965c(0x826)](0x191)[_0x27965c(0x473)](_0x27965c(0x54b));}}if(!await Oe(_0x5c4d79))return _0x3cf684[_0x27965c(0x826)](0x194)['send'](_0x27965c(0x6de));_0x3cf684[_0x27965c(0x82c)](_0x27965c(0x875),'text/event-stream'),_0x3cf684[_0x27965c(0x82c)]('Cache-Control','no-cache'),_0x3cf684[_0x27965c(0x82c)](_0x27965c(0x23b),_0x27965c(0x893)),_0x3cf684['flushHeaders']();let _0x7bde47=_0x27965c(0x3b9)+JSON[_0x27965c(0x3c8)]({'info':_0x27965c(0x851)})+'\x0a\x0a';_0x3cf684[_0x27965c(0x8bc)](_0x7bde47),wi(_0x5c4d79,_0x9ea555,_0x3cf684,_0x4343e7),_0x46eee6['on'](_0x27965c(0x354),()=>{const _0x363b5e=_0x27965c;console[_0x363b5e(0x3c3)](_0x363b5e(0x79e)+_0x5c4d79),yi(_0x5c4d79,_0x9ea555);});}),ke[a0_0x341dd0(0x212)](a0_0x341dd0(0x501),async(_0x408e05,_0x52b0ac)=>{const _0x51818d=a0_0x341dd0;console[_0x51818d(0x3c3)](_0x51818d(0x752));let _0x2b6371=_0x408e05[_0x51818d(0x6c7)]['instance'],_0xfb1ee=_0x408e05[_0x51818d(0x6c7)][_0x51818d(0x2a3)],_0x44187b=_0x408e05[_0x51818d(0x62e)][_0x51818d(0x68c)]||'',_0x17616c=_0x408e05['body'];console[_0x51818d(0x3c3)](_0x51818d(0x3d6),_0x2b6371),console['log']('StartID:',_0xfb1ee),console['log'](_0x51818d(0x453),_0x44187b),console[_0x51818d(0x3c3)](_0x51818d(0x8fa),_0x17616c);try{if(!await Oe(_0x2b6371))return _0x52b0ac['status'](0x194)[_0x51818d(0x473)](_0x51818d(0x6de));let _0x537ad0=await O[_0x51818d(0x5cb)](_0x2b6371,_0xfb1ee,_0x44187b,_0x17616c);_0x52b0ac[_0x51818d(0x473)](_0x537ad0);}catch(_0x307aa9){console[_0x51818d(0x4a8)](_0x307aa9),_0x52b0ac[_0x51818d(0x826)](0x1f4)[_0x51818d(0x473)](_0x51818d(0x1b4));}}),ke['get'](a0_0x341dd0(0x883),(_0x4417c3,_0x3e2f4b)=>{const _0x196422=a0_0x341dd0;let _0x44f783=bi();_0x3e2f4b[_0x196422(0x687)](_0x44f783);})[a0_0x341dd0(0x86a)]('/',(_0x59c7bf,_0x6ebbd3)=>{const _0x318d3a=a0_0x341dd0;let _0x2949bf=S[_0x318d3a(0x86a)]('SERVER')['URL'];if(_0x2949bf){let _0x1c2af7=encodeURIComponent(''+_0x2949bf);_0x6ebbd3[_0x318d3a(0x639)](_0x318d3a(0x1b6)+_0x1c2af7);return;}let _0x300d2c=S[_0x318d3a(0x86a)](_0x318d3a(0x321)),_0x54b86c=_0x300d2c&&_0x300d2c[_0x318d3a(0x3ce)][_0x318d3a(0x518)]('/')[0x4];if(_0x54b86c){let _0x4a1dda=encodeURIComponent(_0x318d3a(0x2b2)+_0x54b86c);_0x6ebbd3[_0x318d3a(0x639)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x4a1dda);}else _0x6ebbd3[_0x318d3a(0x639)](_0x318d3a(0x56e));})[a0_0x341dd0(0x808)](a0_0x341dd0(0x424),...re,async(_0x364f47,_0x428408)=>{const _0x3233bb=a0_0x341dd0;try{console[_0x3233bb(0x3c3)](_0x3233bb(0x4a4)),_0x428408[_0x3233bb(0x826)](0xc8)[_0x3233bb(0x687)]({'message':_0x3233bb(0x585)}),_0x428408['on'](_0x3233bb(0x810),()=>process[_0x3233bb(0x577)](0x0));}catch(_0x17df99){console[_0x3233bb(0x4a8)](_0x3233bb(0x389),_0x17df99),_0x428408['status'](0x1f4)['json']({'message':_0x3233bb(0x5cf)});}})[a0_0x341dd0(0x808)]('/config',...re,async(_0x32824f,_0x583fac)=>{const _0x5181ae=a0_0x341dd0;try{let _0x120fb0=_0x32824f[_0x5181ae(0x466)];await Ee[_0x5181ae(0x331)]({},{'$set':_0x120fb0},{'upsert':!0x0});let _0x217465=await Ee[_0x5181ae(0x2c7)]();_0x583fac[_0x5181ae(0x687)](_0x217465);}catch(_0x17c2ae){_0x583fac['status'](0x190)[_0x5181ae(0x473)](_0x17c2ae[_0x5181ae(0x450)]);}})[a0_0x341dd0(0x86a)]('/config',...re,async(_0x12b6e1,_0x22aaf3)=>{const _0x2f5fcd=a0_0x341dd0;try{let _0x1b229f=await Ee[_0x2f5fcd(0x2c7)]();if(!_0x1b229f)return _0x22aaf3[_0x2f5fcd(0x687)]({});_0x22aaf3[_0x2f5fcd(0x687)](_0x1b229f);}catch(_0x4bc076){_0x22aaf3[_0x2f5fcd(0x826)](0x1f4)[_0x2f5fcd(0x473)](_0x4bc076[_0x2f5fcd(0x450)]);}})['use'](a0_0x341dd0(0x8ce),new yt(S,...re)[a0_0x341dd0(0x72d)])[a0_0x341dd0(0x56f)]('/message',new It(...re)['router'])['use']('/chat',new ct(...re)[a0_0x341dd0(0x72d)])[a0_0x341dd0(0x56f)](a0_0x341dd0(0x2b7),new wt(...re)[a0_0x341dd0(0x72d)])['use']('/webhook',new Ot(...re)[a0_0x341dd0(0x72d)])[a0_0x341dd0(0x56f)](a0_0x341dd0(0x2cb),new _t(...re)[a0_0x341dd0(0x72d)]);var m=class{constructor(..._0x454b55){const _0x2e3564=a0_0x341dd0;throw{'status':0x190,'error':_0x2e3564(0x2c0),'message':_0x454b55['length']>0x0?_0x454b55:void 0x0};}},oe=class{constructor(..._0x3118ac){throw{'status':0x191,'error':'Unauthorized','message':_0x3118ac['length']>0x0?_0x3118ac:void 0x0};}},Z=class{constructor(..._0x4bd2e8){const _0x3cd8f1=a0_0x341dd0;throw{'status':0x193,'error':_0x3cd8f1(0x2f3),'message':_0x4bd2e8[_0x3cd8f1(0x65e)]>0x0?_0x4bd2e8:void 0x0};}},j=class{constructor(..._0x1002d1){const _0x5436fd=a0_0x341dd0;throw{'status':0x194,'error':_0x5436fd(0x8bb),'message':_0x1002d1[_0x5436fd(0x65e)]>0x0?_0x1002d1:void 0x0};}},x=class{constructor(..._0x540380){const _0x2635b4=a0_0x341dd0;throw{'status':0x1f4,'error':_0x2635b4(0x2d8),'message':_0x540380['length']>0x0?_0x540380:void 0x0};}},fe=require('@whiskeysockets/baileys');async function Is(_0xae9bfb){const _0x1bf533=a0_0x341dd0;let _0xad6a74=new $(Is[_0x1bf533(0x1fa)]),_0x163c50=R[_0x1bf533(0x2da)](),_0x1354cd=_0x163c50['db'](S['get'](_0x1bf533(0x2c4))[_0x1bf533(0x892)][_0x1bf533(0x422)]+_0x1bf533(0x5be))[_0x1bf533(0x756)](_0xae9bfb),_0x29e31d=async(_0x3670ef,_0x499acd)=>{const _0x4468a8=_0x1bf533;try{return await _0x163c50[_0x4468a8(0x5d2)](),await _0x1354cd[_0x4468a8(0x5ee)]({'_id':_0x499acd},JSON[_0x4468a8(0x785)](JSON[_0x4468a8(0x3c8)](_0x3670ef,fe[_0x4468a8(0x56d)][_0x4468a8(0x63d)])),{'upsert':!0x0});}catch{}},_0x4dc6c7=async _0x580839=>{const _0x5b12a4=_0x1bf533;try{await _0x163c50[_0x5b12a4(0x5d2)]();let _0x410545=await _0x1354cd[_0x5b12a4(0x2c7)]({'_id':_0x580839}),_0x47c020=JSON[_0x5b12a4(0x3c8)](_0x410545);return JSON['parse'](_0x47c020,fe[_0x5b12a4(0x56d)]['reviver']);}catch{}},_0x229d04=async _0xf41c83=>{const _0x1d8d59=_0x1bf533;try{return await _0x163c50[_0x1d8d59(0x5d2)](),await _0x1354cd['deleteOne']({'_id':_0xf41c83});}catch{}},_0x116914=await _0x4dc6c7('creds')||(0x0,fe[_0x1bf533(0x84d)])();return{'state':{'creds':_0x116914,'keys':{'get':async(_0x8d621,_0x17e589)=>{const _0x253f53=_0x1bf533;let _0x5bd14d={};return await Promise[_0x253f53(0x3ef)](_0x17e589[_0x253f53(0x486)](async _0x25e93c=>{const _0x1434ca=_0x253f53;let _0x14543f=await _0x4dc6c7(_0x8d621+'-'+_0x25e93c);_0x8d621===_0x1434ca(0x54a)&&_0x14543f&&(_0x14543f=fe[_0x1434ca(0x31a)][_0x1434ca(0x49f)][_0x1434ca(0x375)][_0x1434ca(0x69f)](_0x14543f)),_0x5bd14d[_0x25e93c]=_0x14543f;})),_0x5bd14d;},'set':async _0x55a412=>{const _0x1e8850=_0x1bf533;let _0x510a8a=[];for(let _0x21e305 in _0x55a412)for(let _0x4f5da3 in _0x55a412[_0x21e305]){let _0x44cf8a=_0x55a412[_0x21e305][_0x4f5da3],_0xfbe59f=_0x21e305+'-'+_0x4f5da3;_0x510a8a[_0x1e8850(0x452)](_0x44cf8a?_0x29e31d(_0x44cf8a,_0xfbe59f):_0x229d04(_0xfbe59f));}await Promise[_0x1e8850(0x3ef)](_0x510a8a);}}},'saveCreds':async()=>_0x29e31d(_0x116914,_0x1bf533(0x7a1))};}var Ds=A(require(a0_0x341dd0(0x474))),Ps=A(require('node-cache')),kt=require('@whiskeysockets/baileys'),Ci=require('@redis/client'),Pt=require(a0_0x341dd0(0x8d3)),Dt;function Oo(_0x2ae890){const _0x35b21b=a0_0x341dd0;return Dt||(Dt=(0x0,Ci[_0x35b21b(0x868)])({'url':_0x2ae890[_0x35b21b(0x259)]}),Dt[_0x35b21b(0x5d2)]()),Dt;}var de=class u{constructor(_0xe1bdd0,_0x4dde32){const _0x803eeb=a0_0x341dd0;this['redisEnv']=_0xe1bdd0,this['instanceName']=_0x4dde32,this['logger']=new $(u[_0x803eeb(0x1fa)]),this[_0x803eeb(0x1c4)]=Oo(_0xe1bdd0);}set[a0_0x341dd0(0x711)](_0x27b997){const _0x5bea07=a0_0x341dd0;this[_0x5bea07(0x7d8)]=_0x27b997;}async[a0_0x341dd0(0x49e)](){const _0x36342d=a0_0x341dd0;try{return await this[_0x36342d(0x1c4)]['sendCommand'](['keys',this[_0x36342d(0x67f)][_0x36342d(0x3f3)]+':*']);}catch(_0x3187dc){this['logger'][_0x36342d(0x4a8)](_0x3187dc);}}async[a0_0x341dd0(0x300)](_0x441b84,_0xf55240){const _0x9acc0=a0_0x341dd0;try{let _0x2048c9=JSON[_0x9acc0(0x3c8)](_0xf55240,Pt[_0x9acc0(0x56d)][_0x9acc0(0x63d)]);return await this[_0x9acc0(0x1c4)]['hSet'](this[_0x9acc0(0x67f)][_0x9acc0(0x3f3)]+':'+this[_0x9acc0(0x7d8)],_0x441b84,_0x2048c9);}catch(_0x7bc9df){this[_0x9acc0(0x26e)]['error'](_0x7bc9df);}}async[a0_0x341dd0(0x8b0)](){const _0x355ab6=a0_0x341dd0;try{let _0x5de8ed=await this[_0x355ab6(0x1c4)][_0x355ab6(0x468)](this[_0x355ab6(0x67f)]['PREFIX_KEY']+':'+this[_0x355ab6(0x7d8)]);if(_0x5de8ed){for(let _0x50d0ca in _0x5de8ed)Object[_0x355ab6(0x219)]['hasOwnProperty']['call'](_0x5de8ed,_0x50d0ca)&&(_0x5de8ed[_0x50d0ca]=JSON['parse'](_0x5de8ed[_0x50d0ca],Pt[_0x355ab6(0x56d)]['reviver']));return _0x5de8ed;}}catch(_0x3a4c8d){this[_0x355ab6(0x26e)]['error'](_0x3a4c8d);}}async[a0_0x341dd0(0x1bb)](_0x385f61){const _0x10da6f=a0_0x341dd0;try{let _0x321a58=await this['client']['hGet'](this[_0x10da6f(0x67f)][_0x10da6f(0x3f3)]+':'+this[_0x10da6f(0x7d8)],_0x385f61);if(_0x321a58)return JSON[_0x10da6f(0x785)](_0x321a58,Pt[_0x10da6f(0x56d)][_0x10da6f(0x5ad)]);}catch(_0x15a264){this[_0x10da6f(0x26e)][_0x10da6f(0x4a8)](_0x15a264);}}async['removeData'](_0x5eb6e1){const _0x462e1d=a0_0x341dd0;try{return await this['client'][_0x462e1d(0x4b9)](this['redisEnv'][_0x462e1d(0x3f3)]+':'+this['instanceName'],_0x5eb6e1);}catch(_0x4d2836){this['logger'][_0x462e1d(0x4a8)](_0x4d2836);}}async[a0_0x341dd0(0x362)](_0x418834){const _0x9dc3aa=a0_0x341dd0;try{return await this[_0x9dc3aa(0x1c4)]['del'](_0x418834||this[_0x9dc3aa(0x67f)][_0x9dc3aa(0x3f3)]+':'+this[_0x9dc3aa(0x7d8)]);}catch(_0x15b417){this[_0x9dc3aa(0x26e)][_0x9dc3aa(0x4a8)](_0x15b417);}}};async function Ts(_0x4e0bf4,_0x2012d8){const _0x247a4f=a0_0x341dd0;let _0x5dcab1=new $(Ts[_0x247a4f(0x1fa)]),_0x3a4a07=new de(_0x4e0bf4,_0x2012d8),_0x524a42=async(_0x56795c,_0x51fa1a)=>{const _0x533b6f=_0x247a4f;try{return await _0x3a4a07[_0x533b6f(0x300)](_0x51fa1a,_0x56795c);}catch(_0x166b36){return _0x5dcab1[_0x533b6f(0x4a8)]({'localError':_0x533b6f(0x300),'error':_0x166b36});}},_0x8c8263=async _0x187a89=>{const _0x46154f=_0x247a4f;try{return await _0x3a4a07[_0x46154f(0x1bb)](_0x187a89);}catch(_0x2c5a7a){_0x5dcab1['error']({'readData':'writeData','error':_0x2c5a7a});return;}},_0x351b37=async _0xa7a55d=>{const _0x192026=_0x247a4f;try{return await _0x3a4a07['removeData'](_0xa7a55d);}catch(_0xb0e530){_0x5dcab1['error']({'readData':_0x192026(0x44a),'error':_0xb0e530});}},_0x1c5471=await _0x8c8263('creds')||(0x0,kt[_0x247a4f(0x84d)])();return{'state':{'creds':_0x1c5471,'keys':{'get':async(_0x18910f,_0x2014a2)=>{const _0x61d063=_0x247a4f;let _0x42cc01={};return await Promise[_0x61d063(0x3ef)](_0x2014a2[_0x61d063(0x486)](async _0x31069e=>{const _0x15ccf4=_0x61d063;let _0x147cff=await _0x8c8263(_0x18910f+'-'+_0x31069e);_0x18910f===_0x15ccf4(0x54a)&&_0x147cff&&(_0x147cff=kt[_0x15ccf4(0x31a)][_0x15ccf4(0x49f)][_0x15ccf4(0x375)][_0x15ccf4(0x69f)](_0x147cff)),_0x42cc01[_0x31069e]=_0x147cff;})),_0x42cc01;},'set':async _0x1af289=>{const _0xc46f0b=_0x247a4f;let _0x4a3d1b=[];for(let _0x216ba6 in _0x1af289)for(let _0x5ad870 in _0x1af289[_0x216ba6]){let _0x3341e4=_0x1af289[_0x216ba6][_0x5ad870],_0x16a17e=_0x216ba6+'-'+_0x5ad870;_0x4a3d1b[_0xc46f0b(0x452)](_0x3341e4?await _0x524a42(_0x3341e4,_0x16a17e):await _0x351b37(_0x16a17e));}await Promise['all'](_0x4a3d1b);}}},'saveCreds':async()=>await _0x524a42(_0x1c5471,_0x247a4f(0x7a1))};}var L=A(require('fs')),X=require(a0_0x341dd0(0x6b4)),jt=A(require(a0_0x341dd0(0x5f3))),Ne=require('crypto'),Ei=require(a0_0x341dd0(0x758)),vi=require(a0_0x341dd0(0x317)),Ni=A(require(a0_0x341dd0(0x8a8))),ve=class extends _{constructor(_0x4130c8,_0x1ba2e3,_0x105f3e){const _0x22e9a6=a0_0x341dd0;super(_0x1ba2e3),this[_0x22e9a6(0x285)]=_0x4130c8,this[_0x22e9a6(0x403)]=_0x1ba2e3,this['dbConnection']=_0x105f3e;}async['createOrUpdate'](_0x3fbaed,_0x20bac0){const _0x160305=a0_0x341dd0;try{if(this[_0x160305(0x278)]['ENABLED']){console['log'](_0x160305(0x21e)+_0x20bac0+_0x160305(0x6df),_0x3fbaed);let _0x207b62=await this['cacheInstanceModel']['findOneAndUpdate']({'_id':_0x20bac0},{'$set':_0x3fbaed},{'new':!0x0,'upsert':!0x0});return console[_0x160305(0x3c3)](_0x160305(0x6cf),_0x207b62),_0x207b62;}}catch(_0x3829ec){throw console[_0x160305(0x4a8)](_0x160305(0x82b),_0x3829ec),_0x3829ec;}return null;}async[a0_0x341dd0(0x669)](_0x34d28c){const _0x522737=a0_0x341dd0;try{let _0x4b3006=I(_0x34d28c[_0x522737(0x8fc)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x522737(0x669)](_0x4b3006))[_0x522737(0x302)]};}catch(_0x95c578){return{'error':_0x95c578?.['toString']()};}}async[a0_0x341dd0(0x2c7)](_0x2ca858){const _0x5bc9ee=a0_0x341dd0;try{let _0x20e63b=I(_0x2ca858[_0x5bc9ee(0x8fc)]);return await this[_0x5bc9ee(0x285)]['findOne'](_0x20e63b)[_0x5bc9ee(0x6f1)]();}catch{return null;}}},Lt=(0x0,vi['promisify'])(Ei[a0_0x341dd0(0x75c)]),_o=S[a0_0x341dd0(0x86a)](a0_0x341dd0(0x397)),Os=class{constructor(){const _0x18bf40=a0_0x341dd0;this[_0x18bf40(0x370)]=new ve(Be,S),(!this[_0x18bf40(0x3a0)]||!this[_0x18bf40(0x303)])&&_o&&this['detectIPv6PrefixAndInterface']()[_0x18bf40(0x8c0)](()=>{const _0x5dae34=_0x18bf40;console[_0x5dae34(0x3c3)](_0x5dae34(0x34a)+this[_0x5dae34(0x3a0)]),console['log'](_0x5dae34(0x5ef)+this['networkInterface']);})[_0x18bf40(0x2de)](_0xba7f82=>{const _0x29a704=_0x18bf40;console[_0x29a704(0x4a8)](_0x29a704(0x37b)+_0xba7f82[_0x29a704(0x450)]);});}async[a0_0x341dd0(0x1ab)](){const _0xb629d3=a0_0x341dd0;try{let {stdout:_0x291b67}=await Lt('ip\x20-br\x20link\x20show');console[_0xb629d3(0x3c3)](_0xb629d3(0x3ac)+_0x291b67);let _0x48fca5=_0x291b67[_0xb629d3(0x518)]('\x0a')[_0xb629d3(0x486)](_0x1c9eb8=>_0x1c9eb8[_0xb629d3(0x518)]('\x20')[0x0])[_0xb629d3(0x435)](_0x3c37c6=>!_0x3c37c6[_0xb629d3(0x23d)]('lo')&&!_0x3c37c6[_0xb629d3(0x23d)](_0xb629d3(0x2e6))&&!_0x3c37c6['includes']('vir')&&!_0x3c37c6[_0xb629d3(0x23d)]('wl')&&!_0x3c37c6['includes']('@'));if(console['log'](_0xb629d3(0x6d4)+_0x48fca5),_0x48fca5[_0xb629d3(0x65e)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this['networkInterface']=_0x48fca5[0x0];let {stdout:_0x3eb1ee}=await Lt('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0xb629d3(0x303)]);console[_0xb629d3(0x3c3)](_0xb629d3(0x45b)+_0x3eb1ee);let _0x511a12=_0x3eb1ee[_0xb629d3(0x518)]('\x0a')['find'](_0x2d7d1f=>_0x2d7d1f['includes']('inet6')&&_0x2d7d1f[_0xb629d3(0x23d)]('global'));if(!_0x511a12)throw new Error(_0xb629d3(0x76d));let _0x36b8d3=_0x511a12[_0xb629d3(0x61a)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x36b8d3)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x473f9a,_0x52ff0b,_0x483087]=_0x36b8d3,_0x3fe606=Math[_0xb629d3(0x3d0)](Number(_0x483087)/0x10),_0x36ce1d=Number(_0x483087)%0x10,_0x562092=_0x52ff0b[_0xb629d3(0x518)](':')[_0xb629d3(0x53f)](0x0,_0x3fe606)[_0xb629d3(0x421)](':');if(_0x36ce1d>0x0){let _0x39e00d=_0x52ff0b[_0xb629d3(0x518)](':')[_0x3fe606],_0x25d2a9=0xffff<<0x10-_0x36ce1d&0xffff,_0x5d4dc8=(parseInt(_0x39e00d,0x10)&_0x25d2a9)['toString'](0x10)[_0xb629d3(0x7a7)](0x4,'0');_0x562092+=':'+_0x5d4dc8;}this[_0xb629d3(0x3a0)]=_0x562092+':';}catch(_0x4cab27){console[_0xb629d3(0x4a8)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x4cab27);}}async['configureIPv6'](_0x50a946){const _0x29d2ea=a0_0x341dd0;let _0x3ee93d=_0x29d2ea(0x45d)+_0x50a946+_0x29d2ea(0x38f)+this[_0x29d2ea(0x303)];try{await Lt(_0x3ee93d),console['log'](_0x29d2ea(0x73c)+_0x50a946);}catch(_0x22ca78){console[_0x29d2ea(0x4a8)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x22ca78);}}async[a0_0x341dd0(0x260)](_0x4cac73){const _0x431ad6=a0_0x341dd0;let _0x446d6a=_0x431ad6(0x4a3)+_0x4cac73+'/64\x20dev\x20'+this[_0x431ad6(0x303)];try{await Lt(_0x446d6a),console[_0x431ad6(0x3c3)]('IPv6\x20address\x20removed:\x20'+_0x4cac73);}catch(_0x21fd6a){console[_0x431ad6(0x4a8)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x21fd6a);}}[a0_0x341dd0(0x5af)](){const _0x23f49f=a0_0x341dd0;return _0x23f49f(0x6f4)[_0x23f49f(0x589)](/X/g,()=>'0123456789ABCDEF'['charAt'](Math[_0x23f49f(0x3d0)](Math[_0x23f49f(0x778)]()*0x10)));}[a0_0x341dd0(0x356)](_0x17c36e,_0x2eeda9){const _0x5b2063=a0_0x341dd0;let _0x2ac875=_0x2eeda9['split'](':');return _0x2ac875[0x0]=(parseInt(_0x2ac875[0x0],0x10)^0x2)['toString'](0x10)[_0x5b2063(0x7a7)](0x2,'0'),''+_0x17c36e+_0x2ac875[0x0]+_0x2ac875[0x1]+':'+_0x2ac875[0x2]+_0x5b2063(0x6a2)+_0x2ac875[0x3]+':'+_0x2ac875[0x4]+_0x2ac875[0x5];}['generateRandomIPv6'](){const _0x17509d=a0_0x341dd0;let _0x4c20b6=this[_0x17509d(0x3a0)];_0x4c20b6[_0x17509d(0x647)](':')||(_0x4c20b6+=':');let _0x3e4cf1=this[_0x17509d(0x5af)]();return this['ip6eui'](_0x4c20b6,_0x3e4cf1);}[a0_0x341dd0(0x885)](_0x4461ee){const _0x5db2ea=a0_0x341dd0;return new RegExp(_0x5db2ea(0x54d))['test'](_0x4461ee);}async[a0_0x341dd0(0x314)](_0x5f4bfe){const _0xbfa143=a0_0x341dd0;let _0x244268=[{'url':'https://ipv6.jsonip.com','parse':_0x4ae6f4=>_0x4ae6f4['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x538616=>_0x538616['ip']},{'url':'https://ifconfig.me/ip','parse':_0x136755=>_0x136755[_0xbfa143(0x788)]()},{'url':'https://v6.ident.me','parse':_0x6957f=>_0x6957f['trim']()}],_0xc030e2=_0x244268[Math[_0xbfa143(0x3d0)](Math[_0xbfa143(0x778)]()*_0x244268[_0xbfa143(0x65e)])];try{let _0x5ea2c8=await Ni[_0xbfa143(0x4ea)][_0xbfa143(0x86a)](_0xc030e2['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x5f4bfe}}),_0x3d6613=_0xc030e2[_0xbfa143(0x785)](_0x5ea2c8['data']);return _0x3d6613[_0xbfa143(0x1c6)]()===_0x5f4bfe[_0xbfa143(0x1c6)]()?(console[_0xbfa143(0x3c3)](_0xbfa143(0x6b3)+_0x5f4bfe),!0x0):(console['error']('IP\x20mismatch:\x20configured\x20'+_0x5f4bfe+_0xbfa143(0x7c7)+_0x3d6613),!0x1);}catch(_0x5cd919){return console[_0xbfa143(0x4a8)](_0xbfa143(0x55c)+_0xc030e2[_0xbfa143(0x8df)]+':\x20'+_0x5cd919[_0xbfa143(0x450)]),!0x1;}}async[a0_0x341dd0(0x53c)](_0x4a119d,_0x1f08c6){const _0x313932=a0_0x341dd0;if(!this[_0x313932(0x3a0)]||!this['networkInterface'])return console[_0x313932(0x4a8)](_0x313932(0x499)),null;let _0x53900f;do _0x53900f=this[_0x313932(0x206)](),console[_0x313932(0x3c3)](_0x313932(0x480)+_0x53900f);while(!await this[_0x313932(0x3b4)](_0x53900f));await this[_0x313932(0x484)](_0x53900f),console[_0x313932(0x3c3)]('Configured\x20IPv6:\x20'+_0x53900f);let _0x31c872={'_id':_0x4a119d+'-'+_0x1f08c6,'ip':_0x53900f},_0xfb273d=await this[_0x313932(0x370)][_0x313932(0x67b)](_0x31c872,_0x31c872[_0x313932(0x747)]);return console[_0x313932(0x3c3)]('Cache\x20instance\x20update\x20result:\x20'+_0xfb273d),_0x53900f;}async[a0_0x341dd0(0x3b4)](_0x1eb177){const _0x2fcefc=a0_0x341dd0;return this['isValidIPv6Config'](_0x1eb177)?!await this['cacheInstanceRepository'][_0x2fcefc(0x2c7)]({'where':{'ip':_0x1eb177}}):!0x1;}async[a0_0x341dd0(0x1d5)](_0xf196ee,_0x37ec38){const _0x5318cb=a0_0x341dd0;let _0x33b2d8=_0xf196ee+'-'+_0x37ec38,_0x4ca700=await this[_0x5318cb(0x370)][_0x5318cb(0x2c7)]({'where':{'_id':_0x33b2d8}});_0x4ca700&&_0x4ca700['ip']&&(await this[_0x5318cb(0x260)](_0x4ca700['ip']),await this[_0x5318cb(0x370)][_0x5318cb(0x669)]({'where':{'_id':_0x33b2d8}}));}},xo=new Os(),ae=xo,ks=a0_0x341dd0(0x3c2),_i,pe=null,Oa=null,Do=0x3,Po=null,$i=S[a0_0x341dd0(0x86a)]('AUTHENTICATION')['API_KEY']['KEY'],Ri=S['get']('PROXY');async function ko(){const _0x4f0409=a0_0x341dd0;let _0xbeff47=await Ee[_0x4f0409(0x2c7)]();pe=_0xbeff47?.['WebhookGlobal']??null,Po=_0xbeff47?.[_0x4f0409(0x5ab)]??null,ks=_0xbeff47?.[_0x4f0409(0x7f9)]??_0x4f0409(0x3c2),_i=_0xbeff47?.[_0x4f0409(0x85d)]??W??_0x4f0409(0x3e3);}async function Lo(){await ko();}Lo();var Ft={},$e=class u{constructor(_0x5f1108,_0x506ead,_0xd410e0){const _0x15df7a=a0_0x341dd0;this[_0x15df7a(0x403)]=_0x5f1108,this[_0x15df7a(0x4e5)]=_0x506ead,this[_0x15df7a(0x6d5)]=_0xd410e0,this['AutomateSystem']=null,this['logger']=new $(u[_0x15df7a(0x1fa)]),this[_0x15df7a(0x286)]={},this[_0x15df7a(0x4f2)]={},this[_0x15df7a(0x80f)]={'state':'close'},this[_0x15df7a(0x4a5)]=(0x0,U[_0x15df7a(0x421)])(ne,_0x15df7a(0x63f)),this[_0x15df7a(0x773)]=new Ps[(_0x15df7a(0x4ea))](),this[_0x15df7a(0x50d)]=new Ps[(_0x15df7a(0x4ea))](),this['endSession']=!0x1,this[_0x15df7a(0x590)]={'status.instance':_0x15df7a(0x746),'connection.update':_0x15df7a(0x746),'qrcode.updated':_0x15df7a(0x620),'messages.upsert':_0x15df7a(0x7c3),'send.message':'/wa-message','messages.update':_0x15df7a(0x220),'group.upsert':_0x15df7a(0x2bb),'group.update':'/wa-groups','group-participants.update':_0x15df7a(0x2bb),'messages.set':_0x15df7a(0x281),'contacts.set':_0x15df7a(0x617),'contacts.upsert':_0x15df7a(0x617),'contacts.update':'/wa-contacts','presence.update':_0x15df7a(0x4d0),'chats.set':'/wa-chats','chats.update':_0x15df7a(0x309),'chats.upsert':_0x15df7a(0x309),'chats.delete':_0x15df7a(0x309)},this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[],this[_0x15df7a(0x7b1)]=0xea60,this[_0x15df7a(0x257)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x3554fb,_0x4158fe)=>{const _0x57c6ef=_0x15df7a;let _0xd2d805=[];for await(let _0x5a3bdd of _0x3554fb)_0xd2d805['push']({'_id':_0x5a3bdd['id'],'owner':this['instance'][_0x57c6ef(0x2a8)],'group':_0x5a3bdd['id'][_0x57c6ef(0x647)]('@g.us'),'name':_0x5a3bdd[_0x57c6ef(0x1fa)]||_0x5a3bdd[_0x57c6ef(0x44d)]||null,'contactname':null,'lastmsg':_0x5a3bdd[_0x57c6ef(0x858)]&&_0x5a3bdd['conversationTimestamp'][_0x57c6ef(0x5a5)]()[_0x57c6ef(0x65e)]<0xd?_0x5a3bdd[_0x57c6ef(0x858)]*0x3e8:_0x5a3bdd[_0x57c6ef(0x858)]||null,'archived':_0x5a3bdd[_0x57c6ef(0x8cb)]||!0x1,'unreadcount':_0x5a3bdd[_0x57c6ef(0x1d2)]||0x0,'ephemeralExpiration':_0x5a3bdd[_0x57c6ef(0x3fd)]||0x0});this[_0x57c6ef(0x401)]('chats.upsert',_0xd2d805);},'chats.update':async(_0x55fbf3,_0x39007e)=>{const _0x1fff6c=_0x15df7a;for(let _0x3da6ab of _0x55fbf3){let _0xc95180={'_id':_0x3da6ab['id'],'owner':this['instance']['wuid'],'archived':_0x3da6ab[_0x1fff6c(0x8cb)],'muteEndTime':_0x3da6ab['muteEndTime'],'ephemeralExpiration':_0x3da6ab[_0x1fff6c(0x3fd)]},_0x117323=!0x1,_0x399f79={};_0xc95180['archived']!=null&&(this[_0x1fff6c(0x26e)]['verbose'](this[_0x1fff6c(0x7d8)]+'\x20('+this['instance'][_0x1fff6c(0x2a8)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x3da6ab['id']+_0x1fff6c(0x316)+_0x3da6ab[_0x1fff6c(0x8cb)]),_0x117323=!0x0,_0x399f79[_0x1fff6c(0x8cb)]=_0x3da6ab[_0x1fff6c(0x8cb)]),'muteEndTime'in _0x3da6ab&&(this[_0x1fff6c(0x26e)]['verbose'](this[_0x1fff6c(0x7d8)]+'\x20('+this['instance']['wuid']+_0x1fff6c(0x1e4)+_0x3da6ab['id']+_0x1fff6c(0x316)+(_0x3da6ab[_0x1fff6c(0x87d)]??'0')),_0x117323=!0x0,_0x399f79[_0x1fff6c(0x87d)]=_0x3da6ab['muteEndTime']??0x0),_0x1fff6c(0x3fd)in _0x3da6ab&&(this[_0x1fff6c(0x26e)][_0x1fff6c(0x769)](this[_0x1fff6c(0x7d8)]+'\x20('+this[_0x1fff6c(0x286)][_0x1fff6c(0x2a8)]+_0x1fff6c(0x4ba)+_0x3da6ab['id']+_0x1fff6c(0x316)+(_0x3da6ab[_0x1fff6c(0x3fd)]!==void 0x0?_0x3da6ab[_0x1fff6c(0x3fd)]:_0x1fff6c(0x519))),_0x399f79[_0x1fff6c(0x3fd)]=_0x3da6ab[_0x1fff6c(0x3fd)]===null?0x0:_0x3da6ab[_0x1fff6c(0x3fd)],_0x117323=!0x0);let _0x3aff3a;_0x117323&&(_0x3aff3a=await this[_0x1fff6c(0x6d5)][_0x1fff6c(0x8b3)][_0x1fff6c(0x331)]({'where':{'_id':_0x3da6ab['id']}},_0x399f79,this[_0x1fff6c(0x286)][_0x1fff6c(0x2a8)])),_0x3aff3a&&J(this[_0x1fff6c(0x7d8)],_0x1fff6c(0x374),{'chat':_0x3aff3a});}},'chats.delete':async _0x53777e=>{const _0x2267e3=_0x15df7a;for(let _0x1ce99a of _0x53777e)if(_0x1ce99a[_0x2267e3(0x647)](_0x2267e3(0x54c))){await this[_0x2267e3(0x6d5)][_0x2267e3(0x8b3)][_0x2267e3(0x854)]({'where':{'_id':_0x1ce99a}},this['instance'][_0x2267e3(0x2a8)]);let _0x561254={'where':{'key':{'remoteJid':_0x1ce99a}}};await this[_0x2267e3(0x6d5)][_0x2267e3(0x450)][_0x2267e3(0x854)](_0x561254,this[_0x2267e3(0x286)][_0x2267e3(0x2a8)]);}else{await this['repository'][_0x2267e3(0x8b3)][_0x2267e3(0x331)]({'where':{'_id':_0x1ce99a}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x2267e3(0x2a8)]);let _0x38c84b={'where':{'key':{'remoteJid':_0x1ce99a}}};await this['repository']['message'][_0x2267e3(0x854)](_0x38c84b,this[_0x2267e3(0x286)][_0x2267e3(0x2a8)]);}this[_0x2267e3(0x401)](_0x2267e3(0x1c8),[..._0x53777e]);}},this[_0x15df7a(0x542)]={'contacts.upsert':async(_0x5c1a3e,_0x19a960)=>{const _0x9e6058=_0x15df7a;let _0x5512aa=await this[_0x9e6058(0x6d5)][_0x9e6058(0x784)]['find']({'where':{}},this[_0x9e6058(0x286)][_0x9e6058(0x2a8)]),_0x1c6060=[];for await(let _0x367035 of _0x5c1a3e)_0x5512aa[_0x9e6058(0x232)](_0x259594=>_0x259594['_id']===_0x367035['id'])||_0x1c6060[_0x9e6058(0x452)]({'_id':_0x367035['id'],'pushName':_0x367035?.[_0x9e6058(0x1fa)]||_0x367035?.['verifiedName'],'owner':this[_0x9e6058(0x286)][_0x9e6058(0x2a8)]});this[_0x9e6058(0x401)](_0x9e6058(0x6e0),_0x1c6060),await this[_0x9e6058(0x6d5)][_0x9e6058(0x784)][_0x9e6058(0x24a)](_0x1c6060);},'contacts.update':async(_0x2ad669,_0x5ddd5d)=>{const _0x4fc1ea=_0x15df7a;let _0x406aeb=[];for await(let _0x53e030 of _0x2ad669)_0x406aeb['push']({'_id':_0x53e030['id'],'pushName':_0x53e030?.[_0x4fc1ea(0x1fa)]??_0x53e030?.[_0x4fc1ea(0x4c2)],'owner':this[_0x4fc1ea(0x286)][_0x4fc1ea(0x2a8)]});this[_0x4fc1ea(0x401)](_0x4fc1ea(0x845),_0x406aeb);}},this[_0x15df7a(0x64a)]={'messaging-history.set':async({messages:_0x3164df,chats:_0x547a7e,isLatest:_0xe4635e},_0x3bb326)=>{const _0x3b1225=_0x15df7a;if(_0xe4635e){let _0x41742a=await Promise[_0x3b1225(0x3ef)](_0x547a7e[_0x3b1225(0x486)](async _0x1feb4b=>({'_id':_0x1feb4b['id'],'owner':this[_0x3b1225(0x286)]['wuid'],'group':_0x1feb4b['id'][_0x3b1225(0x647)](_0x3b1225(0x54c)),'name':_0x1feb4b[_0x3b1225(0x1fa)]||_0x1feb4b[_0x3b1225(0x44d)]||_0x1feb4b[_0x3b1225(0x1bc)]||null,'contactname':null,'lastmsg':_0x1feb4b[_0x3b1225(0x858)]&&_0x1feb4b['conversationTimestamp'][_0x3b1225(0x5a5)]()[_0x3b1225(0x65e)]<0xd?_0x1feb4b[_0x3b1225(0x858)]*0x3e8:_0x1feb4b['conversationTimestamp']||null,'archived':_0x1feb4b[_0x3b1225(0x8cb)]||!0x1,'unreadcount':_0x1feb4b[_0x3b1225(0x1d2)]||0x0,'ephemeralExpiration':_0x1feb4b[_0x3b1225(0x3fd)]||0x0,'muteEndTime':_0x1feb4b[_0x3b1225(0x87d)]||0x0})));this['sendDataWebhook'](_0x3b1225(0x6a1),_0x41742a),await this[_0x3b1225(0x516)](_0x41742a,_0x3bb326);}let _0x1d9ec6=[],_0x53c00c=Date[_0x3b1225(0x20e)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xffc59f]of Object[_0x3b1225(0x760)](_0x3164df)){if(_0xffc59f[_0x3b1225(0x450)]?.[_0x3b1225(0x569)]||_0xffc59f[_0x3b1225(0x450)]?.['senderKeyDistributionMessage']||!_0xffc59f[_0x3b1225(0x450)]||_0xffc59f[_0x3b1225(0x43a)][_0x3b1225(0x68c)]==='status@broadcast'||(Ds['default'][_0x3b1225(0x33b)](_0xffc59f?.[_0x3b1225(0x8fd)])&&(_0xffc59f['messageTimestamp']=_0xffc59f['messageTimestamp']?.[_0x3b1225(0x793)]()),_0xffc59f[_0x3b1225(0x8fd)]&&_0xffc59f[_0x3b1225(0x8fd)]['toString']()[_0x3b1225(0x65e)]<0xd&&(_0xffc59f['messageTimestamp']=_0xffc59f['messageTimestamp']*0x3e8),_0xffc59f[_0x3b1225(0x8fd)]<_0x53c00c))continue;let _0x216630=(0x0,w[_0x3b1225(0x5e1)])(_0xffc59f[_0x3b1225(0x450)]),_0x551b48=(0x0,w['getContentType'])(_0x216630),{message_normalized:_0x4e08a}=this[_0x3b1225(0x873)](_0x216630,_0x551b48,null);Object[_0x3b1225(0x866)](_0x4e08a)[_0x3b1225(0x65e)]>0x0&&_0x1d9ec6['push']({'_id':_0xffc59f[_0x3b1225(0x43a)]['id'],'key':_0xffc59f[_0x3b1225(0x43a)],'pushName':_0xffc59f['pushName'],'participant':_0xffc59f[_0x3b1225(0x535)],'message':_0x216630,'messageType':_0x551b48,'message_normalized':{'key':_0xffc59f['key'],'pushName':_0xffc59f[_0x3b1225(0x1e1)],'messageTimestamp':_0xffc59f['messageTimestamp'],..._0x4e08a},'messageTimestamp':_0xffc59f[_0x3b1225(0x8fd)],'owner':this[_0x3b1225(0x286)]['wuid']});}_0x3bb326['ENABLED']&&_0x1d9ec6[_0x3b1225(0x65e)]>0x0&&(this[_0x3b1225(0x26e)][_0x3b1225(0x769)](this[_0x3b1225(0x7d8)]+'\x20('+this[_0x3b1225(0x286)][_0x3b1225(0x2a8)]+'):\x20'+_0x1d9ec6[_0x3b1225(0x65e)]+_0x3b1225(0x702)+this[_0x3b1225(0x286)][_0x3b1225(0x2a8)]+_0x3b1225(0x899)),await this[_0x3b1225(0x6d5)][_0x3b1225(0x450)]['insert']([..._0x1d9ec6],this[_0x3b1225(0x286)][_0x3b1225(0x2a8)])),this['sendDataWebhook'](_0x3b1225(0x51d),[..._0x1d9ec6]),_0x3164df=void 0x0;},'messages.upsert':async({messages:_0x30881d,type:_0x3410b7},_0x38724e)=>{const _0xa9c652=_0x15df7a;for(let _0x32a6f3 of _0x30881d){if(this[_0xa9c652(0x4f2)]?.[_0xa9c652(0x614)]&&_0x32a6f3[_0xa9c652(0x43a)][_0xa9c652(0x68c)][_0xa9c652(0x23d)](_0xa9c652(0x54c))){this['logger'][_0xa9c652(0x769)](this[_0xa9c652(0x7d8)]+'\x20('+this[_0xa9c652(0x286)][_0xa9c652(0x2a8)]+_0xa9c652(0x244));return;}if(_0x3410b7!==_0xa9c652(0x8d1)||!_0x32a6f3?.[_0xa9c652(0x450)]||_0x32a6f3['message']?.[_0xa9c652(0x569)]||_0x32a6f3[_0xa9c652(0x450)][_0xa9c652(0x8aa)]||_0x32a6f3[_0xa9c652(0x43a)]['remoteJid']===_0xa9c652(0x2a2))return;let _0x52332c=null,_0x1b1cb6=null;if(_0x32a6f3[_0xa9c652(0x8cf)]&&_0x32a6f3[_0xa9c652(0x8cf)][0x0]===_0xa9c652(0x68f)){console[_0xa9c652(0x4a8)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),Ft[_0x32a6f3['key']['id']]=_0x32a6f3,this[_0xa9c652(0x35a)](_0x32a6f3,0x0);return;}Ft[_0x32a6f3['key']['id']]&&(console[_0xa9c652(0x4a8)](_0xa9c652(0x1ca)),delete Ft[_0x32a6f3['key']['id']]);try{_0x52332c=await this[_0xa9c652(0x3f7)](_0x32a6f3),_0x1b1cb6=_0x52332c?_0x52332c[_0xa9c652(0x421)](','):null;}catch(_0x3ef972){this[_0xa9c652(0x26e)][_0xa9c652(0x769)](this[_0xa9c652(0x7d8)]+'\x20('+this['instance'][_0xa9c652(0x2a8)]+_0xa9c652(0x867)+(_0x3ef972 instanceof Error?_0x3ef972[_0xa9c652(0x450)]:JSON[_0xa9c652(0x3c8)](_0x3ef972,null,0x2))),_0x1b1cb6='error\x20get\x20vote';}this['client'][_0xa9c652(0x6ce)](_0xa9c652(0x1e2)),Ds[_0xa9c652(0x4ea)]['isLong'](_0x32a6f3[_0xa9c652(0x8fd)])&&(_0x32a6f3['messageTimestamp']=_0x32a6f3['messageTimestamp']?.[_0xa9c652(0x793)]()),_0x32a6f3['messageTimestamp']&&_0x32a6f3[_0xa9c652(0x8fd)][_0xa9c652(0x5a5)]()[_0xa9c652(0x65e)]<0xd&&(_0x32a6f3['messageTimestamp']=_0x32a6f3[_0xa9c652(0x8fd)]*0x3e8);let _0x34866a=_0x32a6f3[_0xa9c652(0x450)],_0x3e9f63=(0x0,w['normalizeMessageContent'])(_0x34866a),_0x47b241=(0x0,w[_0xa9c652(0x211)])(_0x3e9f63),{messageContent:_0x28241b,message_normalized:_0x557149}=this['normalizeMessage'](_0x3e9f63,_0x47b241,_0x1b1cb6);_0x47b241===_0xa9c652(0x569)&&_0x28241b?.[_0xa9c652(0x204)]&&(_0x47b241=_0xa9c652(0x204));let _0x3f4187,_0x6f5e98=_0x32a6f3[_0xa9c652(0x43a)][_0xa9c652(0x68c)]['endsWith'](_0xa9c652(0x54c));if(_0x32a6f3['key'][_0xa9c652(0x2e1)])_0x3f4187=this[_0xa9c652(0x286)][_0xa9c652(0x378)];else{let _0x303045=_0x6f5e98?_0x32a6f3[_0xa9c652(0x43a)][_0xa9c652(0x535)]:_0x32a6f3['key'][_0xa9c652(0x68c)];_0x3f4187=(await this[_0xa9c652(0x879)](_0x303045,_0x32a6f3[_0xa9c652(0x1e1)],!0x1))[_0xa9c652(0x2ea)][_0xa9c652(0x76a)];}let _0x562dbd={'_id':_0x32a6f3[_0xa9c652(0x43a)]['id'],'key':_0x32a6f3[_0xa9c652(0x43a)],'isGroup':_0x6f5e98,'profilePictureUrl':_0x3f4187,'pushName':_0x32a6f3[_0xa9c652(0x1e1)],'message':_0x3e9f63,'messageType':_0x47b241,'message_normalized':{'key':_0x32a6f3['key'],'pushName':_0x32a6f3['pushName'],'messageTimestamp':_0x32a6f3[_0xa9c652(0x8fd)],'source':(0x0,w[_0xa9c652(0x47a)])(_0x32a6f3['key']['id']),..._0x557149},'messageTimestamp':_0x32a6f3[_0xa9c652(0x8fd)],'owner':this['instance'][_0xa9c652(0x2a8)],'source':(0x0,w[_0xa9c652(0x47a)])(_0x32a6f3[_0xa9c652(0x43a)]['id']),'expiration':_0x28241b?.[_0xa9c652(0x75d)]?.[_0xa9c652(0x5a9)]||0x0};_0x28241b||(this[_0xa9c652(0x26e)][_0xa9c652(0x4a8)](_0xa9c652(0x1dd)),this[_0xa9c652(0x26e)]['error'](_0x562dbd)),this[_0xa9c652(0x26e)][_0xa9c652(0x3c3)](this[_0xa9c652(0x7d8)]+'\x20('+this[_0xa9c652(0x286)][_0xa9c652(0x2a8)]+_0xa9c652(0x867)+(_0x562dbd['key']?.['fromMe']?_0xa9c652(0x605):_0xa9c652(0x6ff))+'\x20['+_0x562dbd[_0xa9c652(0x43a)]?.[_0xa9c652(0x68c)][_0xa9c652(0x589)]('@s.whatsapp.net','')+']\x20('+_0x562dbd[_0xa9c652(0x817)]+')'),_0x562dbd[_0xa9c652(0x663)]?.[_0xa9c652(0x7e2)]&&this[_0xa9c652(0x26e)][_0xa9c652(0x3c3)](_0x32a6f3[_0xa9c652(0x43a)]['id']+':\x20'+_0x562dbd[_0xa9c652(0x663)]?.[_0xa9c652(0x7e2)]),await this[_0xa9c652(0x6d5)][_0xa9c652(0x450)]['insert']([_0x562dbd],this[_0xa9c652(0x286)][_0xa9c652(0x2a8)]),this[_0xa9c652(0x401)](_0xa9c652(0x894),_0x562dbd),J(this['instanceName'],'messages',{'message':_0x562dbd}),_0x32a6f3[_0xa9c652(0x43a)][_0xa9c652(0x68c)]!==_0xa9c652(0x2a2)&&await this[_0xa9c652(0x7b3)](_0x38724e,_0x562dbd,'MESSAGES_UPSERT');}},'messages.update':async(_0x1fdb69,_0x22655b)=>{const _0x4ef236=_0x15df7a;let _0x30c1a1={0x0:'ERROR',0x1:'PENDING',0x2:_0x4ef236(0x5fa),0x3:_0x4ef236(0x695),0x4:'READ',0x5:_0x4ef236(0x39d)};for await(let {key:_0x5c8927,update:_0x2d0c5d}of _0x1fdb69){if(this[_0x4ef236(0x4f2)]?.['groups_ignore']&&_0x5c8927[_0x4ef236(0x68c)][_0x4ef236(0x23d)](_0x4ef236(0x54c))){this[_0x4ef236(0x26e)]['verbose'](this['instanceName']+'\x20('+this[_0x4ef236(0x286)]['wuid']+_0x4ef236(0x357));return;}if(_0x5c8927[_0x4ef236(0x68c)]!==_0x4ef236(0x2a2)){let _0x165299=Date['now'](),_0x2a582e;_0x2d0c5d[_0x4ef236(0x450)]===null&&_0x2d0c5d[_0x4ef236(0x826)]===void 0x0?_0x2a582e=_0x4ef236(0x1db):_0x2a582e=_0x30c1a1[_0x2d0c5d[_0x4ef236(0x826)]];let _0xc620d3=_0x5c8927[_0x4ef236(0x68c)][_0x4ef236(0x589)](/:\d{1,2}@/g,'@'),_0xfd1cd1={..._0x5c8927,'remoteJid':_0xc620d3,'status':_0x2a582e,'datetime':_0x165299,'owner':this[_0x4ef236(0x286)][_0x4ef236(0x2a8)]};this[_0x4ef236(0x401)](_0x4ef236(0x583),_0xfd1cd1),await this[_0x4ef236(0x37a)](_0x5c8927,_0xfd1cd1);}}},'labels.association':async({type:_0x130df7,association:_0x4075aa})=>{const _0xee8e9c=_0x15df7a;if(_0x4075aa[_0xee8e9c(0x1fc)]===_0xee8e9c(0x2ad)){let _0x243544,_0x29b0ff=0x0;for(;!_0x243544&&_0x29b0ff<this[_0xee8e9c(0x4c1)];)_0x243544=await this[_0xee8e9c(0x6d5)][_0xee8e9c(0x8b3)][_0xee8e9c(0x2c7)]({'where':{'_id':_0x4075aa[_0xee8e9c(0x5d6)]}},this['instance']['wuid']),_0x243544||(_0x29b0ff++,this['logger']['info'](this[_0xee8e9c(0x7d8)]+'\x20('+this[_0xee8e9c(0x286)][_0xee8e9c(0x2a8)]+'):\x20Chat\x20'+_0x4075aa[_0xee8e9c(0x5d6)]+_0xee8e9c(0x84c)+this[_0xee8e9c(0x78e)]+'ms\x20(tentativa\x20'+_0x29b0ff+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0xee8e9c(0x736)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x243544){this[_0xee8e9c(0x26e)][_0xee8e9c(0x4a8)](_0xee8e9c(0x68e)+_0x4075aa[_0xee8e9c(0x5d6)]+_0xee8e9c(0x504)+this[_0xee8e9c(0x4c1)]+_0xee8e9c(0x56b));return;}switch(_0x130df7){case'add':console[_0xee8e9c(0x3c3)](_0x4075aa),await this[_0xee8e9c(0x6d5)][_0xee8e9c(0x8b3)][_0xee8e9c(0x331)]({'where':{'_id':_0x4075aa[_0xee8e9c(0x5d6)]}},{'leadInfo.etiquetas':_0x4075aa['labelId']},this[_0xee8e9c(0x286)][_0xee8e9c(0x2a8)],void 0x0,_0xee8e9c(0x268));break;case _0xee8e9c(0x819):console[_0xee8e9c(0x3c3)](_0x4075aa),await this[_0xee8e9c(0x6d5)][_0xee8e9c(0x8b3)][_0xee8e9c(0x331)]({'where':{'_id':_0x4075aa[_0xee8e9c(0x5d6)]}},{'leadInfo.etiquetas':_0x4075aa['labelId']},this[_0xee8e9c(0x286)][_0xee8e9c(0x2a8)],void 0x0,_0xee8e9c(0x508));break;default:this[_0xee8e9c(0x26e)][_0xee8e9c(0x4a8)](_0xee8e9c(0x623)+_0x130df7+']');}}},'labels.edit':async _0x13e46d=>{const _0x1c12e1=_0x15df7a;if(!_0x13e46d||!_0x13e46d['id']){this[_0x1c12e1(0x26e)]['error']('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x13e46d[_0x1c12e1(0x391)]){let _0x28c960=[_0x1c12e1(0x6ee),_0x1c12e1(0x392),_0x1c12e1(0x662),'#dfaef0','#9ab6c1','#56ccb4',_0x1c12e1(0x650),_0x1c12e1(0x22f),_0x1c12e1(0x8c2),_0x1c12e1(0x6cc),_0x1c12e1(0x8a5),_0x1c12e1(0x3c6),_0x1c12e1(0x455),_0x1c12e1(0x682),_0x1c12e1(0x834),'#83e421',_0x1c12e1(0x822),_0x1c12e1(0x864),_0x1c12e1(0x21d),_0x1c12e1(0x72e)],_0x28d951;typeof _0x13e46d[_0x1c12e1(0x26f)]==_0x1c12e1(0x714)&&_0x13e46d[_0x1c12e1(0x26f)]>=0x0&&_0x13e46d[_0x1c12e1(0x26f)]<_0x28c960[_0x1c12e1(0x65e)]?_0x28d951=_0x28c960[_0x13e46d[_0x1c12e1(0x26f)]]:(this['logger']['error'](_0x1c12e1(0x33c)+_0x13e46d[_0x1c12e1(0x26f)]),_0x28d951=_0x1c12e1(0x857));let _0x4f2c4c={'_id':_0x13e46d['id'],'colorHex':_0x28d951,'color':_0x13e46d?.['color'],'name':_0x13e46d?.[_0x1c12e1(0x1fa)],'owner':this[_0x1c12e1(0x286)][_0x1c12e1(0x2a8)]};await this[_0x1c12e1(0x6d5)][_0x1c12e1(0x33f)][_0x1c12e1(0x331)]({'where':{'_id':_0x13e46d['id']}},_0x4f2c4c,this[_0x1c12e1(0x286)][_0x1c12e1(0x2a8)]),this['logger'][_0x1c12e1(0x2d3)](this['instanceName']+'\x20('+this['instance'][_0x1c12e1(0x2a8)]+_0x1c12e1(0x444)+_0x13e46d);}_0x13e46d['deleted']&&(await this[_0x1c12e1(0x6d5)]['label'][_0x1c12e1(0x854)]({'where':{'_id':_0x13e46d['id']}},this[_0x1c12e1(0x286)][_0x1c12e1(0x2a8)]),this[_0x1c12e1(0x26e)][_0x1c12e1(0x2d3)](_0x1c12e1(0x5c9)+_0x13e46d['id']));}},this[_0x15df7a(0x402)]={'groups.upsert':async _0x419517=>{const _0x50a1bb=_0x15df7a;this[_0x50a1bb(0x4f2)]?.[_0x50a1bb(0x614)]||this['sendDataWebhook']('groups.upsert',_0x419517);for(let _0x13e132 of _0x419517)await this[_0x50a1bb(0x37e)](_0x13e132);},'groups.update':async _0x3511d0=>{const _0x4faf21=_0x15df7a;this[_0x4faf21(0x4f2)]?.[_0x4faf21(0x614)]||this[_0x4faf21(0x401)]('groups.update',_0x3511d0);for(let _0xc8d415 of _0x3511d0)await this[_0x4faf21(0x37e)](_0xc8d415);},'group-participants.update':async _0x3e0a3c=>{const _0x4148c7=_0x15df7a;this[_0x4148c7(0x4f2)]?.[_0x4148c7(0x614)]||this[_0x4148c7(0x401)](_0x4148c7(0x334),_0x3e0a3c),await this['updateGroupParticipantsWebhook'](_0x3e0a3c);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x15df7a(0x78e)]=0x1388,this[_0x15df7a(0x692)]=0x0,this[_0x15df7a(0x3f7)]=async _0x1537f1=>{const _0x2b6031=_0x15df7a;if(_0x1537f1[_0x2b6031(0x450)]?.['pollUpdateMessage']){let _0x17126f=await this['getMessage'](_0x1537f1[_0x2b6031(0x450)][_0x2b6031(0x7da)][_0x2b6031(0x2df)],!0x0);if(_0x17126f){let _0x57c9a9=_0x17126f[_0x2b6031(0x43a)][_0x2b6031(0x2e1)]?this[_0x2b6031(0x286)][_0x2b6031(0x2a8)]+_0x2b6031(0x578):_0x17126f[_0x2b6031(0x43a)][_0x2b6031(0x535)]||_0x17126f[_0x2b6031(0x43a)][_0x2b6031(0x68c)],_0xa5dfbd=_0x17126f[_0x2b6031(0x43a)]['id'],_0x5be101=_0x17126f[_0x2b6031(0x450)],_0xc206c1=Buffer['from'](_0x5be101[_0x2b6031(0x4a2)][_0x2b6031(0x1c5)][_0x2b6031(0x5a5)](_0x2b6031(0x20b)),_0x2b6031(0x20b)),_0x31ebd1=(0x0,w[_0x2b6031(0x5bd)])(_0x1537f1[_0x2b6031(0x450)][_0x2b6031(0x7da)][_0x2b6031(0x7a8)],{'pollCreatorJid':_0x57c9a9,'pollMsgId':_0xa5dfbd,'pollEncKey':_0xc206c1,'voterJid':_0x1537f1[_0x2b6031(0x43a)][_0x2b6031(0x2e1)]?this[_0x2b6031(0x286)][_0x2b6031(0x2a8)]+_0x2b6031(0x578):_0x1537f1[_0x2b6031(0x43a)][_0x2b6031(0x68c)][_0x2b6031(0x647)](_0x2b6031(0x2f0))?_0x1537f1[_0x2b6031(0x43a)][_0x2b6031(0x535)]:_0x1537f1['key'][_0x2b6031(0x68c)]}),_0x31909f=[],_0x2703ce=_0x31ebd1[_0x2b6031(0x216)][_0x2b6031(0x486)](_0x3fdde7=>Buffer[_0x2b6031(0x731)](_0x3fdde7)[_0x2b6031(0x5a5)](_0x2b6031(0x20b)));for(let {optionName:_0x392531}of _0x5be101[_0x2b6031(0x812)]?.[_0x2b6031(0x874)]||_0x5be101['pollCreationMessageV3']?.[_0x2b6031(0x874)]||_0x5be101[_0x2b6031(0x3af)]?.[_0x2b6031(0x874)])_0x2703ce[_0x2b6031(0x576)]((0x0,w['sha256'])(Buffer[_0x2b6031(0x731)](_0x392531))[_0x2b6031(0x5a5)](_0x2b6031(0x20b)))>-0x1&&_0x31909f['push'](_0x392531);return _0x31909f;}}return null;},this[_0x15df7a(0x873)]=(_0x3b2f47,_0x40e7a7,_0x442517)=>{const _0x564ab8=_0x15df7a;try{let _0x1f7d72=_0x3b2f47?(0x0,w[_0x564ab8(0x47f)])(_0x3b2f47)[_0x40e7a7]:void 0x0,_0x2e6eed={},_0x20fcae=null,_0x2d6503=null,_0x3537e2=null;_0x40e7a7===_0x564ab8(0x569)&&_0x1f7d72?.[_0x564ab8(0x204)]&&(_0x40e7a7=(0x0,w['getContentType'])(_0x1f7d72[_0x564ab8(0x204)]),_0x20fcae=_0x3b2f47['protocolMessage'][_0x564ab8(0x43a)]['id'],_0x1f7d72=_0x3b2f47[_0x564ab8(0x569)][_0x564ab8(0x204)][_0x40e7a7]),_0x3b2f47[_0x40e7a7]?.[_0x564ab8(0x75d)]?.[_0x564ab8(0x64f)]&&_0x3b2f47[_0x40e7a7]?.[_0x564ab8(0x75d)]?.['quotedMessage']&&(_0x2d6503=_0x3b2f47[_0x40e7a7]['contextInfo']['stanzaId']),_0x3b2f47[_0x564ab8(0x515)]&&(_0x3537e2=_0x3b2f47[_0x564ab8(0x515)][_0x564ab8(0x43a)]['id']);let _0x53c18f;if(_0x1f7d72&&typeof _0x1f7d72==_0x564ab8(0x8d7)&&_0x564ab8(0x2df)in _0x1f7d72&&({pollCreationMessageKey:_0x53c18f}=_0x1f7d72),_0x40e7a7===_0x564ab8(0x812)||_0x40e7a7===_0x564ab8(0x3af)||_0x40e7a7===_0x564ab8(0x37c)){let _0xf68ed5=_0x1f7d72[_0x564ab8(0x874)][_0x564ab8(0x486)](_0x3678f3=>_0x3678f3[_0x564ab8(0x762)])[_0x564ab8(0x421)]('|');_0x2e6eed['convertedOptions']=_0xf68ed5;}let _0x314f71='';if(_0x1f7d72&&(_0x314f71+=_0x1f7d72[_0x564ab8(0x1fa)]?_0x1f7d72[_0x564ab8(0x1fa)]:'',_0x314f71+=_0x1f7d72['caption']?'\x20'+_0x1f7d72['caption']:'',_0x314f71+=_0x1f7d72[_0x564ab8(0x2aa)]?'\x20'+_0x1f7d72[_0x564ab8(0x2aa)]:'',_0x314f71+=_0x1f7d72[_0x564ab8(0x44d)]?'\x20'+_0x1f7d72[_0x564ab8(0x44d)]:''),_0x40e7a7==='listMessage'){_0x314f71=(_0x1f7d72[_0x564ab8(0x1ac)]||'')+'\x0a'+(_0x1f7d72['description']||'')+'\x0a'+(_0x1f7d72[_0x564ab8(0x459)]||'');let _0x3c0e3b=this[_0x564ab8(0x3b3)](_0x1f7d72['sections']);_0x2e6eed[_0x564ab8(0x279)]=_0x3c0e3b;}if(_0x40e7a7===_0x564ab8(0x23a)&&(_0x442517=_0x1f7d72[_0x564ab8(0x1ac)]),_0x1f7d72&&_0x1f7d72[_0x564ab8(0x831)]){let _0x4a6443=this[_0x564ab8(0x1f3)](JSON[_0x564ab8(0x3c8)](_0x1f7d72[_0x564ab8(0x831)],null,0x2));_0x314f71=_0x314f71+'\x0a'+_0x4a6443;}if(_0x1f7d72){let {sections:_0x2897f6,listType:_0x5a89f7,displayName:_0x1eef00,vcard:_0x168912,contactVcard:_0x3714e7,name:_0x5ee02d,caption:_0x58bffc,conversation:_0x3ce376,pollCreationMessageKey:_0x228f50,footerText:_0x3ec1e7,contentText:_0x2e38df,pageCount:_0x4949a9,headerType:_0x503e7c,isAvatar:_0x5e371f,isAnimated:_0x1725aa,fallbackLc:_0x57559d,fallbackLg:_0x21151a,namespace:_0x13ab0c,elementName:_0xc6f42f,localizableParams:_0x46789e,viewOnce:_0x539082,height:_0x13b42c,width:_0x2d1933,key:_0x3dfc4e,firstScanLength:_0x4e2e85,firstScanSidecar:_0x38ef8c,gifPlayback:_0x4a8aef,gifAttribution:_0x1a99fa,midQualityFileSha256:_0x3beebe,scansSidecar:_0x5458e0,streamingSidecar:_0x21b16f,thumbnailHeight:_0x9367c3,thumbnailWidth:_0x2cd032,thumbnailEncSha256:_0x11ddcc,thumbnailDirectPath:_0x1be886,canonicalUrl:_0x231e1b,matchedText:_0x1533da,previewType:_0xd7b863,thumbnailSha256:_0x38eb27,deviceListMetadataVersion:_0x5c0ab3,inviteLinkGroupTypeV2:_0xc97317,interactiveAnnotations:_0x5e047e,scanLengths:_0x4b9e8c,jpegThumbnail:_0x3a7c6f,url:_0x1c783c,mediaKeyTimestamp:_0x5c1c16,waveform:_0x16ce96,stickerSentTs:_0x5380d5,firstFrameLength:_0x4c6866,fileEncSha256:_0x3d8c4f,contextInfo:_0x76f35,firstFrameSidecar:_0x17ec70,directPath:_0x306667,fileSha256:_0x353736,mediaKey:_0x1b3283,senderTimestampMs:_0x820381,..._0x1ade62}=_0x1f7d72;(_0x40e7a7===_0x564ab8(0x498)||_0x40e7a7===_0x564ab8(0x23a))&&(delete _0x1ade62['title'],delete _0x1ade62[_0x564ab8(0x6b2)]),typeof _0x1f7d72==_0x564ab8(0x347)?_0x2e6eed={'text':_0x1f7d72,'type':_0x40e7a7||_0x564ab8(0x2aa),..._0x20fcae&&{'edited':_0x20fcae},..._0x2d6503&&{'quoted':_0x2d6503},..._0x3537e2&&{'reaction':_0x3537e2}}:_0x2e6eed={'text':_0x314f71,..._0x1ade62,..._0x40e7a7===_0x564ab8(0x7da)?{'poll_id':_0x1f7d72[_0x564ab8(0x2df)]['id'],'quoted':_0x1f7d72['pollCreationMessageKey']['id'],'vote':_0x442517}:{},..._0x40e7a7===_0x564ab8(0x23a)?{'vote':_0x442517}:{},'type':_0x40e7a7,..._0x20fcae&&{'edited':_0x20fcae},..._0x2d6503&&{'quoted':_0x2d6503},..._0x3537e2&&{'reaction':_0x3537e2},...(_0x40e7a7===_0x564ab8(0x812)||_0x40e7a7===_0x564ab8(0x3af)||_0x40e7a7==='pollCreationMessageV3'||_0x40e7a7==='listMessage')&&{'convertedOptions':_0x2e6eed['convertedOptions']}};}return{'messageType':_0x40e7a7,'messageContent':_0x1f7d72,'message_normalized':_0x2e6eed};}catch(_0x5df0aa){return this['logger']['error'](_0x564ab8(0x5e0)+_0x5df0aa),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x15df7a(0x3cf)]=[],(this[_0x15df7a(0x7ee)](),this[_0x15df7a(0x6a9)](),this[_0x15df7a(0x286)]['qrcode']={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x2995c3){const _0x10bc27=a0_0x341dd0;if(!_0x2995c3){this[_0x10bc27(0x286)][_0x10bc27(0x1fa)]=(0x0,Ai['v4'])();return;}this[_0x10bc27(0x286)][_0x10bc27(0x1fa)]=_0x2995c3,this[_0x10bc27(0x401)](_0x10bc27(0x5b1),{'instance':this[_0x10bc27(0x286)]['name'],'status':'created'});}get[a0_0x341dd0(0x7d8)](){const _0x131c35=a0_0x341dd0;return this[_0x131c35(0x286)][_0x131c35(0x1fa)];}get['wuid'](){const _0x210a3c=a0_0x341dd0;return this['instance'][_0x210a3c(0x2a8)];}async[a0_0x341dd0(0x89f)](){const _0x32161e=a0_0x341dd0;let _0x437fdf=this[_0x32161e(0x1c4)][_0x32161e(0x385)]?.['name']??this[_0x32161e(0x1c4)][_0x32161e(0x385)]?.[_0x32161e(0x4c2)];if(!_0x437fdf){if(this[_0x32161e(0x403)][_0x32161e(0x86a)](_0x32161e(0x2c4))[_0x32161e(0x225)]){let _0x3b405b=await R[_0x32161e(0x2da)]()['db'](this['configService'][_0x32161e(0x86a)](_0x32161e(0x2c4))['CONNECTION'][_0x32161e(0x422)]+_0x32161e(0x5be))[_0x32161e(0x756)](this[_0x32161e(0x7d8)])[_0x32161e(0x2c7)]({'_id':_0x32161e(0x7a1)});if(_0x3b405b){let _0x1b273d=JSON['parse'](JSON['stringify'](_0x3b405b),w[_0x32161e(0x56d)][_0x32161e(0x5ad)]);_0x437fdf=_0x1b273d['me']?.['name']||_0x1b273d['me']?.[_0x32161e(0x4c2)];}}else{if((0x0,Le[_0x32161e(0x4b7)])((0x0,U[_0x32161e(0x421)])(be,this[_0x32161e(0x7d8)],_0x32161e(0x36d)))){let _0x52a99e=JSON[_0x32161e(0x785)]((0x0,Le[_0x32161e(0x233)])((0x0,U['join'])(be,this['instanceName'],_0x32161e(0x36d)),{'encoding':_0x32161e(0x8de)}));_0x437fdf=_0x52a99e['me']?.[_0x32161e(0x1fa)]||_0x52a99e['me']?.['verifiedName'];}}}return _0x437fdf;}get[a0_0x341dd0(0x378)](){const _0x39370d=a0_0x341dd0;return this[_0x39370d(0x286)][_0x39370d(0x378)];}get[a0_0x341dd0(0x3e8)](){const _0x4a0126=a0_0x341dd0;return this[_0x4a0126(0x286)][_0x4a0126(0x4b6)]?.[_0x4a0126(0x5f1)]?{'pairingCode':this[_0x4a0126(0x286)][_0x4a0126(0x4b6)]?.[_0x4a0126(0x5f1)]}:{'code':this[_0x4a0126(0x286)][_0x4a0126(0x4b6)]?.[_0x4a0126(0x6d3)],'base64':this['instance'][_0x4a0126(0x4b6)]?.[_0x4a0126(0x366)]};}async['loadWebhook'](){const _0xefbbc=a0_0x341dd0;let _0x37a8ad=await this[_0xefbbc(0x6d5)][_0xefbbc(0x4c6)][_0xefbbc(0x232)](this['instanceName']);this[_0xefbbc(0x4f2)][_0xefbbc(0x8df)]=_0x37a8ad?.[_0xefbbc(0x8df)],this[_0xefbbc(0x4f2)][_0xefbbc(0x7be)]=_0x37a8ad?.[_0xefbbc(0x7be)],this['localWebhook'][_0xefbbc(0x49d)]=_0x37a8ad?.[_0xefbbc(0x49d)],this['localWebhook']['STATUS_INSTANCE']=_0x37a8ad?.['STATUS_INSTANCE'],this[_0xefbbc(0x4f2)][_0xefbbc(0x69e)]=_0x37a8ad?.['QRCODE_UPDATED'],this[_0xefbbc(0x4f2)][_0xefbbc(0x7a9)]=_0x37a8ad?.[_0xefbbc(0x7a9)],this[_0xefbbc(0x4f2)]['MESSAGES_UPSERT']=_0x37a8ad?.[_0xefbbc(0x8f5)],this[_0xefbbc(0x4f2)][_0xefbbc(0x42f)]=_0x37a8ad?.[_0xefbbc(0x42f)],this['localWebhook'][_0xefbbc(0x543)]=_0x37a8ad?.[_0xefbbc(0x543)],this[_0xefbbc(0x4f2)][_0xefbbc(0x64e)]=_0x37a8ad?.[_0xefbbc(0x64e)],this[_0xefbbc(0x4f2)]['GROUP_PARTICIPANTS_UPDATE']=_0x37a8ad?.[_0xefbbc(0x5d1)],this['localWebhook'][_0xefbbc(0x748)]=_0x37a8ad?.[_0xefbbc(0x748)],this[_0xefbbc(0x4f2)][_0xefbbc(0x5a6)]=_0x37a8ad?.[_0xefbbc(0x5a6)],this[_0xefbbc(0x4f2)][_0xefbbc(0x1c3)]=_0x37a8ad?.[_0xefbbc(0x1c3)],this[_0xefbbc(0x4f2)]['CHATS_DELETE']=_0x37a8ad?.[_0xefbbc(0x54e)],this[_0xefbbc(0x4f2)][_0xefbbc(0x2f5)]=_0x37a8ad?.[_0xefbbc(0x2f5)],this[_0xefbbc(0x4f2)][_0xefbbc(0x430)]=_0x37a8ad?.[_0xefbbc(0x430)],this[_0xefbbc(0x4f2)]['CONTACTS_UPDATE']=_0x37a8ad?.['CONTACTS_UPDATE'],this['localWebhook'][_0xefbbc(0x3ad)]=_0x37a8ad?.[_0xefbbc(0x3ad)],this[_0xefbbc(0x4f2)][_0xefbbc(0x8d5)]=_0x37a8ad?.[_0xefbbc(0x8d5)],this[_0xefbbc(0x4f2)][_0xefbbc(0x1fe)]=_0x37a8ad?.[_0xefbbc(0x1fe)],this[_0xefbbc(0x4f2)]['groups_ignore']=_0x37a8ad?.[_0xefbbc(0x614)];}async[a0_0x341dd0(0x274)](_0xe59ce9){const _0x9a4d05=a0_0x341dd0;let _0x44c74f=[_0x9a4d05(0x747),_0x9a4d05(0x8df),_0x9a4d05(0x7be),_0x9a4d05(0x49d),_0x9a4d05(0x550),_0x9a4d05(0x69e),_0x9a4d05(0x42f),_0x9a4d05(0x8f5),_0x9a4d05(0x7a9),_0x9a4d05(0x543),_0x9a4d05(0x64e),'GROUP_PARTICIPANTS_UPDATE','CHATS_SET','CHATS_UPSERT',_0x9a4d05(0x1c3),'CHATS_DELETE','CONTACTS_SET',_0x9a4d05(0x430),_0x9a4d05(0x8c1),_0x9a4d05(0x3ad),_0x9a4d05(0x8d5),_0x9a4d05(0x1fe),_0x9a4d05(0x614)],_0x392110={};return _0x44c74f['forEach'](_0x667e56=>{_0xe59ce9[_0x667e56]!==void 0x0&&(_0x392110[_0x667e56]=_0xe59ce9[_0x667e56]);}),_0x392110[_0x9a4d05(0x8df)]&&(_0x392110[_0x9a4d05(0x8df)]=_0x392110[_0x9a4d05(0x8df)][_0x9a4d05(0x788)]()),await this['repository']['webhook'][_0x9a4d05(0x377)](_0x392110,this[_0x9a4d05(0x7d8)]),Object[_0x9a4d05(0x606)](this[_0x9a4d05(0x4f2)],_0x392110),await this[_0x9a4d05(0x6d5)]['webhook']['find'](this[_0x9a4d05(0x7d8)]);}async[a0_0x341dd0(0x48f)](){const _0x49a606=a0_0x341dd0;return await this[_0x49a606(0x6d5)][_0x49a606(0x4c6)][_0x49a606(0x232)](this[_0x49a606(0x7d8)]);}async['sendDataWebhook'](_0x3a744b,_0xb28cb2){const _0x25b98f=a0_0x341dd0;let _0x4f694d=_0x3a744b[_0x25b98f(0x589)](/[\.-]/gm,'_')[_0x25b98f(0x7e6)](),_0x5d4964=this[_0x25b98f(0x4f2)][_0x25b98f(0x7be)]&&(0x0,k[_0x25b98f(0x8c4)])(this[_0x25b98f(0x4f2)]['url'])?this['localWebhook'][_0x25b98f(0x8df)]+(this[_0x25b98f(0x4f2)][_0x25b98f(0x49d)]?this[_0x25b98f(0x590)][_0x3a744b]:''):null,_0x25fefb=this['localWebhook'][_0x4f694d],_0x47e155=pe&&pe[_0x25b98f(0x7be)]&&(0x0,k['isURL'])(pe['url'])?pe['url']+(pe[_0x25b98f(0x49d)]?this['webhookMap'][_0x3a744b]:''):null,_0x3aa06c=pe?pe[_0x4f694d]:null;if(_0x25fefb&&_0x5d4964)try{await Y[_0x25b98f(0x4ea)][_0x25b98f(0x377)]({'baseURL':_0x5d4964})[_0x25b98f(0x212)]('',{'event':_0x3a744b,'instance':this[_0x25b98f(0x286)][_0x25b98f(0x1fa)],'apikey':this[_0x25b98f(0x286)][_0x25b98f(0x2b8)],'data':_0xb28cb2}),this[_0x25b98f(0x26e)][_0x25b98f(0x3c3)](this[_0x25b98f(0x7d8)]+'\x20('+this[_0x25b98f(0x286)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x3a744b+':\x20'+_0x5d4964);}catch{this[_0x25b98f(0x26e)][_0x25b98f(0x4a8)](this[_0x25b98f(0x7d8)]+'\x20('+this[_0x25b98f(0x286)][_0x25b98f(0x2a8)]+_0x25b98f(0x6ef)+_0x3a744b+':\x20'+_0x5d4964);}if(_0x3aa06c&&_0x47e155)try{await Y[_0x25b98f(0x4ea)][_0x25b98f(0x377)]({'baseURL':_0x47e155})[_0x25b98f(0x212)]('',{'event':_0x3a744b,'instance':this[_0x25b98f(0x286)][_0x25b98f(0x1fa)],'apikey':this['instance']['apikey'],'data':_0xb28cb2}),this['logger'][_0x25b98f(0x3c3)](this['instanceName']+'\x20('+this[_0x25b98f(0x286)][_0x25b98f(0x2a8)]+_0x25b98f(0x33e)+_0x3a744b+':\x20'+_0x47e155);}catch{this['logger'][_0x25b98f(0x4a8)](this[_0x25b98f(0x7d8)]+'\x20('+this[_0x25b98f(0x286)][_0x25b98f(0x2a8)]+_0x25b98f(0x565)+_0x3a744b+':\x20'+_0x47e155);}}async[a0_0x341dd0(0x3db)]({qr:_0x3d6ade,connection:_0x264c19,lastDisconnect:_0x1901cf}){const _0x2f7dad=a0_0x341dd0;if(_0x3d6ade){if(this[_0x2f7dad(0x286)][_0x2f7dad(0x4b6)][_0x2f7dad(0x8f6)]===Do)return this[_0x2f7dad(0x401)]('qrcode.updated',{'message':_0x2f7dad(0x3c4),'statusCode':w[_0x2f7dad(0x485)][_0x2f7dad(0x766)]}),this[_0x2f7dad(0x80f)]={'state':'refused','statusReason':w[_0x2f7dad(0x485)][_0x2f7dad(0x3da)]},this[_0x2f7dad(0x401)]('connection.update',{'instance':this[_0x2f7dad(0x286)][_0x2f7dad(0x1fa)],...this[_0x2f7dad(0x80f)]}),this[_0x2f7dad(0x401)]('status.instance',{'instance':this[_0x2f7dad(0x286)]['name'],'status':_0x2f7dad(0x464)}),this[_0x2f7dad(0x6d5)]['auth']['delete'](this['instance'][_0x2f7dad(0x1fa)]),this[_0x2f7dad(0x593)]=!0x0,ae[_0x2f7dad(0x1d5)](W,this[_0x2f7dad(0x286)][_0x2f7dad(0x1fa)]),this[_0x2f7dad(0x4e5)][_0x2f7dad(0x7a4)](_0x2f7dad(0x5e4),this[_0x2f7dad(0x286)]['name']);this['instance'][_0x2f7dad(0x4b6)][_0x2f7dad(0x8f6)]++;let _0x51471c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2f7dad(0x78c),'dark':_0x2f7dad(0x857)}};Ii['default'][_0x2f7dad(0x364)](_0x3d6ade,_0x51471c,(_0x516663,_0x2684af)=>{const _0x2d1b4e=_0x2f7dad;if(_0x516663){this[_0x2d1b4e(0x26e)][_0x2d1b4e(0x4a8)](this['instanceName']+'\x20('+this[_0x2d1b4e(0x286)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x516663 instanceof Error?_0x516663[_0x2d1b4e(0x450)]:JSON['stringify'](_0x516663,null,0x2)));return;}this[_0x2d1b4e(0x286)][_0x2d1b4e(0x4b6)]['base64']=_0x2684af,this['instance'][_0x2d1b4e(0x4b6)]['code']=_0x3d6ade,!this[_0x2d1b4e(0x60a)]&&this['sendDataWebhook'](_0x2d1b4e(0x475),{'qrcode':{'instance':this[_0x2d1b4e(0x286)]['name'],'pairingCode':this[_0x2d1b4e(0x286)][_0x2d1b4e(0x4b6)][_0x2d1b4e(0x5f1)],'code':_0x3d6ade,'base64':_0x2684af}});}),this['phoneNumber']?this[_0x2f7dad(0x286)][_0x2f7dad(0x4b6)]['pairingCode']||(await(0x0,w[_0x2f7dad(0x79d)])(0x7d0),this[_0x2f7dad(0x286)]['qrcode'][_0x2f7dad(0x5f1)]=await this[_0x2f7dad(0x1c4)][_0x2f7dad(0x359)](this[_0x2f7dad(0x60a)])):this[_0x2f7dad(0x286)][_0x2f7dad(0x4b6)][_0x2f7dad(0x5f1)]=null,Ti[_0x2f7dad(0x4ea)][_0x2f7dad(0x62a)](_0x3d6ade,{'small':!0x0},_0x45d983=>this[_0x2f7dad(0x26e)]['log'](_0x2f7dad(0x5b3)+this[_0x2f7dad(0x286)][_0x2f7dad(0x1fa)]+_0x2f7dad(0x751)+this['instance'][_0x2f7dad(0x4b6)][_0x2f7dad(0x8f6)]+_0x2f7dad(0x7f7)+this[_0x2f7dad(0x286)][_0x2f7dad(0x4b6)][_0x2f7dad(0x5f1)]+_0x2f7dad(0x1cb)+_0x45d983));}if(_0x264c19&&(this[_0x2f7dad(0x80f)]={'state':_0x264c19,'statusReason':_0x1901cf?.[_0x2f7dad(0x4a8)]?.[_0x2f7dad(0x57e)]?.[_0x2f7dad(0x201)]??0xc8},this[_0x2f7dad(0x401)]('connection.update',{'instance':this[_0x2f7dad(0x286)][_0x2f7dad(0x1fa)],...this['stateConnection']})),_0x264c19==='close'){if(this['reconnectAttempts']++,this[_0x2f7dad(0x7a2)][_0x2f7dad(0x452)](Date[_0x2f7dad(0x20e)]()),this[_0x2f7dad(0x7a2)]=this[_0x2f7dad(0x7a2)]['filter'](_0x38973b=>Date[_0x2f7dad(0x20e)]()-_0x38973b<this['RECONNECT_TIME_FRAME']),_0x1901cf[_0x2f7dad(0x4a8)]?.[_0x2f7dad(0x57e)]?.[_0x2f7dad(0x201)]!==w[_0x2f7dad(0x485)][_0x2f7dad(0x779)]){let _0x235836=this[_0x2f7dad(0x4ff)]<=0x1?0x0:Math[_0x2f7dad(0x1da)](Math[_0x2f7dad(0x797)](0x2,this[_0x2f7dad(0x4ff)]-0x1)*0x3e8,0x493e0);console[_0x2f7dad(0x3c3)](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x2f7dad(0x4ff)]+_0x2f7dad(0x544)+_0x235836/0x3e8+_0x2f7dad(0x40d)),await new Promise(_0x35ff41=>setTimeout(_0x35ff41,_0x235836)),console['log'](_0x2f7dad(0x3ff)),await this[_0x2f7dad(0x88c)]();}else{this[_0x2f7dad(0x401)](_0x2f7dad(0x5b1),{'instance':this['instance'][_0x2f7dad(0x1fa)],'status':_0x2f7dad(0x464)}),this[_0x2f7dad(0x286)][_0x2f7dad(0x3c0)][_0x2f7dad(0x28c)]=!0x1,this[_0x2f7dad(0x6d5)][_0x2f7dad(0x4c6)][_0x2f7dad(0x854)](this[_0x2f7dad(0x7d8)]),this[_0x2f7dad(0x6d5)][_0x2f7dad(0x3d7)][_0x2f7dad(0x377)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2f7dad(0x20e)]()},this[_0x2f7dad(0x286)][_0x2f7dad(0x1fa)]),ae[_0x2f7dad(0x1d5)](W,this['instance'][_0x2f7dad(0x1fa)]);try{this[_0x2f7dad(0x26e)][_0x2f7dad(0x769)](this[_0x2f7dad(0x7d8)]+'\x20('+this['instance'][_0x2f7dad(0x2a8)]+_0x2f7dad(0x566));let _0x5e0c55=await this[_0x2f7dad(0x6d5)][_0x2f7dad(0x450)]['deleteAll'](this[_0x2f7dad(0x286)][_0x2f7dad(0x2a8)]);_0x5e0c55['success']?this[_0x2f7dad(0x26e)][_0x2f7dad(0x769)](this[_0x2f7dad(0x7d8)]+'\x20('+this[_0x2f7dad(0x286)]['wuid']+_0x2f7dad(0x252)):this['logger'][_0x2f7dad(0x4a8)](_0x2f7dad(0x1df)+_0x5e0c55[_0x2f7dad(0x4a8)]);}catch(_0x5ac4fa){this[_0x2f7dad(0x26e)][_0x2f7dad(0x4a8)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x5ac4fa[_0x2f7dad(0x450)]);}this[_0x2f7dad(0x286)]['ScheduleMessage'][_0x2f7dad(0x840)]!==null&&(this[_0x2f7dad(0x26e)][_0x2f7dad(0x769)](this[_0x2f7dad(0x7d8)]+'\x20('+this['instance'][_0x2f7dad(0x2a8)]+_0x2f7dad(0x3b7)),clearInterval(this['instance'][_0x2f7dad(0x3c0)][_0x2f7dad(0x840)]),this[_0x2f7dad(0x286)][_0x2f7dad(0x3c0)][_0x2f7dad(0x840)]=null),this[_0x2f7dad(0x26e)][_0x2f7dad(0x769)](this[_0x2f7dad(0x7d8)]+'\x20('+this[_0x2f7dad(0x286)][_0x2f7dad(0x2a8)]+_0x2f7dad(0x2fa)),this[_0x2f7dad(0x2d9)]=null,this['eventEmitter']['emit'](_0x2f7dad(0x67e),this[_0x2f7dad(0x286)]['name'],_0x2f7dad(0x809)),this[_0x2f7dad(0x1c4)]?.['ws']?.[_0x2f7dad(0x354)](),this[_0x2f7dad(0x1c4)][_0x2f7dad(0x525)](new Error(_0x2f7dad(0x4e8)));}}if(_0x264c19===_0x2f7dad(0x86d)){this[_0x2f7dad(0x26e)]['warn'](this['instanceName']+'\x20('+this[_0x2f7dad(0x286)]['wuid']+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x2f7dad(0x1c4)][_0x2f7dad(0x591)][_0x2f7dad(0x7a1)]?.[_0x2f7dad(0x25a)]),this['client'][_0x2f7dad(0x591)][_0x2f7dad(0x7a1)]?.['myAppStateKeyId']||(this[_0x2f7dad(0x26e)]['warn'](this['instanceName']+'\x20('+this[_0x2f7dad(0x286)][_0x2f7dad(0x2a8)]+_0x2f7dad(0x429)),this['client']['ev']['flush']()),this['resetReconnectionVariables'],this[_0x2f7dad(0x286)]['wuid']=this['client'][_0x2f7dad(0x385)]['id']['replace'](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x2f7dad(0x286)][_0x2f7dad(0x378)]=(await this[_0x2f7dad(0x469)](this[_0x2f7dad(0x286)][_0x2f7dad(0x2a8)]+_0x2f7dad(0x578)))[_0x2f7dad(0x378)],this[_0x2f7dad(0x6d5)][_0x2f7dad(0x3d7)][_0x2f7dad(0x377)]({'online':!0x0,'owner':this[_0x2f7dad(0x286)][_0x2f7dad(0x2a8)],'lastDisconnect':null},this[_0x2f7dad(0x286)]['name']);let _0x39f8f1=_0x2f7dad(0x439)+this['instance'][_0x2f7dad(0x2a8)],_0x754901=0x28,_0x1ef0ed=Math[_0x2f7dad(0x3d0)]((_0x754901-_0x39f8f1[_0x2f7dad(0x65e)])/0x2),_0x39807d='\x20'['repeat'](_0x1ef0ed),_0x57b3d0='CONECTADO\x20À\x20UAZAPI',_0x34db8c=_0x2f7dad(0x8f0)+this['instance']['name'],_0x2cec46=(''+_0x39807d+_0x39f8f1+_0x39807d)[_0x2f7dad(0x6d0)](_0x754901,'\x20'),_0x554b21=(''+_0x39807d+_0x57b3d0+_0x39807d)[_0x2f7dad(0x6d0)](_0x754901,'\x20'),_0xc9b1b4=(''+_0x39807d+_0x34db8c+_0x39807d)[_0x2f7dad(0x6d0)](_0x754901,'\x20'),_0x4e9669=Math[_0x2f7dad(0x75a)](_0x2cec46[_0x2f7dad(0x65e)],_0x554b21[_0x2f7dad(0x65e)],_0xc9b1b4[_0x2f7dad(0x65e)]),_0x514047=_0x2cec46[_0x2f7dad(0x6d0)](_0x4e9669,'\x20'),_0x118d7c=_0x554b21[_0x2f7dad(0x6d0)](_0x4e9669,'\x20'),_0x35af9b=_0xc9b1b4[_0x2f7dad(0x6d0)](_0x4e9669,'\x20');this[_0x2f7dad(0x26e)]['info']((_0x2f7dad(0x6a7)+'─'['repeat'](_0x4e9669)+_0x2f7dad(0x4e7)+_0x118d7c+_0x2f7dad(0x2bf)+_0x35af9b+_0x2f7dad(0x2bf)+_0x514047+_0x2f7dad(0x1d6)+'─'[_0x2f7dad(0x22c)](_0x4e9669)+'┘')[_0x2f7dad(0x589)](/^ +/gm,'\x20\x20')),this[_0x2f7dad(0x4bf)](),this[_0x2f7dad(0x286)][_0x2f7dad(0x3c0)][_0x2f7dad(0x28c)]=!0x0;}}[a0_0x341dd0(0x308)](){const _0x2c57f2=a0_0x341dd0;this[_0x2c57f2(0x4ff)]=0x0,this[_0x2c57f2(0x7a2)]=[];}async['getMessage'](_0x302c7a,_0x4b7073=!0x1){const _0x3be0de=a0_0x341dd0;try{let _0x20d92b=await this['repository'][_0x3be0de(0x450)]['find']({'where':{'_id':_0x302c7a['id']}},this[_0x3be0de(0x286)]['wuid']);return _0x4b7073?_0x20d92b[0x0]:_0x20d92b[0x0][_0x3be0de(0x450)];}catch{return{'conversation':''};}}[a0_0x341dd0(0x7ee)](){const _0x129690=a0_0x341dd0;let _0x372104=this[_0x129690(0x403)][_0x129690(0x86a)]('STORE'),_0x578d07=this[_0x129690(0x403)]['get']('DATABASE');_0x372104?.['CLEANING_INTERVAL']&&!_0x578d07[_0x129690(0x225)]&&setInterval(()=>{const _0x1ccd19=_0x129690;try{for(let [_0xb6373e,_0x5423c3]of Object[_0x1ccd19(0x760)](_0x372104))_0x5423c3===!0x0&&(0x0,Fe[_0x1ccd19(0x7af)])(_0x1ccd19(0x7e7)+(0x0,U[_0x1ccd19(0x421)])(this['storePath'],_0xb6373e['toLowerCase'](),this[_0x1ccd19(0x286)]['wuid'])+_0x1ccd19(0x619));}catch{}},(_0x372104?.[_0x129690(0x46d)]??0xe10)*0x3e8);}async[a0_0x341dd0(0x51c)](){const _0x123942=a0_0x341dd0;let _0x26a29e=this[_0x123942(0x403)]['get'](_0x123942(0x2c4)),_0x26c15f=this[_0x123942(0x403)][_0x123942(0x86a)](_0x123942(0x76c));return _0x26c15f?.[_0x123942(0x225)]?await Ts(_0x26c15f,this[_0x123942(0x286)][_0x123942(0x1fa)]):_0x26a29e[_0x123942(0x225)]?await Is(this[_0x123942(0x286)][_0x123942(0x1fa)]):await(0x0,w[_0x123942(0x1f2)])((0x0,U[_0x123942(0x421)])(be,this['instance'][_0x123942(0x1fa)]));}async['AutomateFunctions'](){const _0x31eeea=a0_0x341dd0;let _0x39acc5=()=>Math['floor'](Math['random']()*0x4e21)+0x7d0,_0x1fbe79=async()=>{const _0x48e904=a0_0x5184;if(!this[_0x48e904(0x286)][_0x48e904(0x3c0)][_0x48e904(0x28c)]){this[_0x48e904(0x26e)]['verbose'](this[_0x48e904(0x7d8)]+'\x20('+this[_0x48e904(0x286)][_0x48e904(0x2a8)]+'):Desconectado,\x20parando\x20execução.'),this['isRunning']=!0x1;return;}if(this[_0x48e904(0x286)]['wuid']&&this[_0x48e904(0x2d9)]&&this['instance'][_0x48e904(0x3c0)][_0x48e904(0x840)]!==null&&this[_0x48e904(0x286)][_0x48e904(0x3c0)][_0x48e904(0x840)]!==void 0x0){let _0x33f374=Math[_0x48e904(0x290)](this[_0x48e904(0x286)]['ScheduleMessage']['delayMessage']/0xea60);this[_0x48e904(0x26e)]['verbose'](this[_0x48e904(0x7d8)]+'\x20('+this[_0x48e904(0x286)][_0x48e904(0x2a8)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x33f374+_0x48e904(0x256)),this[_0x48e904(0x257)]=!0x1;return;}else this[_0x48e904(0x286)][_0x48e904(0x2a8)]&&(this[_0x48e904(0x26e)][_0x48e904(0x769)](this[_0x48e904(0x7d8)]+'\x20('+this[_0x48e904(0x286)][_0x48e904(0x2a8)]+_0x48e904(0x844)),this['AutomateSystem']||(await this['getAutomateSystem'](),this[_0x48e904(0x263)](),this['synchronizeAndMapFlows']()),(this[_0x48e904(0x286)][_0x48e904(0x3c0)][_0x48e904(0x840)]===null||this[_0x48e904(0x286)]['ScheduleMessage'][_0x48e904(0x840)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x48e904(0x257)]){let _0x2147df=_0x39acc5();this['logger'][_0x48e904(0x769)](this[_0x48e904(0x7d8)]+_0x48e904(0x4dd)+_0x2147df/0x3e8+_0x48e904(0x77c)),setTimeout(_0x1fbe79,_0x2147df);}};if(this[_0x31eeea(0x257)])return;this[_0x31eeea(0x257)]=!0x0;let _0x9c3eda=_0x39acc5();setTimeout(_0x1fbe79,_0x9c3eda);}async[a0_0x341dd0(0x78d)](){const _0x3bbf58=a0_0x341dd0;let _0x50dcf=this[_0x3bbf58(0x286)][_0x3bbf58(0x2a8)];try{let _0x25c478=await this[_0x3bbf58(0x6d5)][_0x3bbf58(0x414)][_0x3bbf58(0x7ad)]({'where':{'$or':[{'owner':_0x50dcf},{'whoCanUse':{'$in':[_0x50dcf]}},{'shareOwners':{'$in':[_0x50dcf]}}]}}),_0x4162fc=new Map(this[_0x3bbf58(0x2d9)]['flows'][_0x3bbf58(0x486)](_0x5906b9=>[_0x5906b9['_id'],_0x5906b9])),_0x525cc5=_0x25c478[_0x3bbf58(0x486)](_0x2ebef5=>{const _0x453a69=_0x3bbf58;let _0x21f6ae=_0x4162fc[_0x453a69(0x86a)](_0x2ebef5[_0x453a69(0x747)]?.[_0x453a69(0x5a5)]());return{'_id':_0x2ebef5['_id']?.[_0x453a69(0x5a5)](),'name':_0x21f6ae?.[_0x453a69(0x1fa)]??_0x2ebef5[_0x453a69(0x1fa)],'default':_0x21f6ae?.['default']??_0x2ebef5[_0x453a69(0x4ea)]??!0x1,'startCommand':_0x21f6ae?.['startCommand']??_0x2ebef5['startCommandWord'],'minutesToClose':_0x21f6ae?.[_0x453a69(0x694)]??_0x2ebef5['minutesToClose']??0xa,'readMessages':_0x21f6ae?.[_0x453a69(0x8c8)]??_0x2ebef5['readMessages']??!0x1,'testingWith':_0x21f6ae?.[_0x453a69(0x436)]??_0x2ebef5['testingWith'],'canEdit':_0x2ebef5[_0x453a69(0x3f2)]===_0x50dcf||(_0x2ebef5[_0x453a69(0x4ad)]??[])[_0x453a69(0x23d)](_0x50dcf),'usersCount':(_0x2ebef5[_0x453a69(0x703)]??[])[_0x453a69(0x65e)]??0x0};}),_0x1142a0=!0x1;_0x525cc5[_0x3bbf58(0x8b4)](_0x5cfd09=>{const _0x9b8f1f=_0x3bbf58;_0x5cfd09[_0x9b8f1f(0x4ea)]&&(_0x1142a0?_0x5cfd09[_0x9b8f1f(0x4ea)]=!0x1:_0x1142a0=!0x0);}),this[_0x3bbf58(0x2d9)][_0x3bbf58(0x520)]=_0x525cc5;let _0x311d65={'flows':_0x525cc5};return await this[_0x3bbf58(0x6d5)]['automateSystem'][_0x3bbf58(0x85c)](_0x311d65,_0x50dcf),this[_0x3bbf58(0x26e)][_0x3bbf58(0x769)](this['instanceName']+'\x20('+_0x50dcf+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x525cc5['length'];}catch(_0x55b6f1){return this['logger'][_0x3bbf58(0x4a8)](this['instanceName']+'\x20('+_0x50dcf+_0x3bbf58(0x3a2)+(_0x55b6f1 instanceof Error?_0x55b6f1[_0x3bbf58(0x450)]:JSON[_0x3bbf58(0x3c8)](_0x55b6f1,null,0x2))),{'message':_0x3bbf58(0x247)+(_0x55b6f1 instanceof Error?_0x55b6f1[_0x3bbf58(0x450)]:JSON['stringify'](_0x55b6f1,null,0x2))};}}async['connectToWhatsapp'](_0x3b0578){const _0x49f225=a0_0x341dd0;try{let _0x51130f=await this[_0x49f225(0x6d5)][_0x49f225(0x286)][_0x49f225(0x2c7)]({'where':{'_id':W+'-'+this[_0x49f225(0x7d8)]}}),_0x3e05c5,_0x1d881d=!ae['ipv6Prefix']||!ae['networkInterface'];console['log'](_0x49f225(0x3d5)),console[_0x49f225(0x3c3)]('proxy:\x20',Ri),console['log'](_0x49f225(0x621),this[_0x49f225(0x4ff)]),console[_0x49f225(0x3c3)]('--------------------------------------'),Ri&&!_0x1d881d&&(this[_0x49f225(0x4ff)]<0x4||!this[_0x49f225(0x4ff)]?_0x51130f&&_0x51130f['ip']?(_0x3e05c5=_0x51130f['ip'],console['log'](_0x49f225(0x251)+_0x3e05c5)):(_0x3e05c5=await ae['createIPv6'](W,this[_0x49f225(0x286)][_0x49f225(0x1fa)]),_0x3e05c5?(console[_0x49f225(0x3c3)](_0x49f225(0x86c)+_0x3e05c5),await(0x0,w[_0x49f225(0x79d)])(0x7d0)):console['error'](_0x49f225(0x724))):this[_0x49f225(0x4ff)]<0x6&&(await ae['removeIPv6ById'](W,this[_0x49f225(0x286)]['name']),console[_0x49f225(0x3c3)](_0x49f225(0x759)),_0x3e05c5=await ae[_0x49f225(0x53c)](W,this['instance'][_0x49f225(0x1fa)]),_0x3e05c5?(console['log'](_0x49f225(0x86c)+_0x3e05c5),await(0x0,w[_0x49f225(0x79d)])(0x7d0)):console[_0x49f225(0x4a8)]('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x49f225(0x6e1)](),this['instance'][_0x49f225(0x2b8)]=(await this[_0x49f225(0x6d5)]['auth']['find'](this[_0x49f225(0x286)]['name']))[_0x49f225(0x2b8)],this[_0x49f225(0x286)]['authState']=await this['defineAuthState']();let {version:_0x11eee2}=await(0x0,w[_0x49f225(0x88a)])(),_0x1f59bd=[_i,ks,(0x0,xs[_0x49f225(0x39f)])()],_0x278c92={'localAddress':_0x3e05c5,'auth':{'creds':this['instance'][_0x49f225(0x591)]['state']['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance'][_0x49f225(0x591)][_0x49f225(0x691)][_0x49f225(0x866)],(0x0,Ut[_0x49f225(0x4ea)])({'level':_0x49f225(0x4a8)}))},'logger':(0x0,Ut[_0x49f225(0x4ea)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x3b0578?['Mac\x20OS',ks,(0x0,xs[_0x49f225(0x39f)])()]:_0x1f59bd,'version':_0x11eee2,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3b2613=>{const _0x1696d5=_0x49f225;let _0x2eb6ff=this[_0x1696d5(0x4f2)]?.[_0x1696d5(0x614)]&&(0x0,w[_0x1696d5(0x8ba)])(_0x3b2613);return(0x0,w[_0x1696d5(0x828)])(_0x3b2613)||_0x2eb6ff;},'msgRetryCounterCache':this[_0x49f225(0x773)],'getMessage':async _0x1aa483=>await this['getMessage'](_0x1aa483),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x49f225(0x50d)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x461039){const _0x177162=_0x49f225;return _0x461039[_0x177162(0x2ac)]?.['message']?.['listMessage']?.[_0x177162(0x65f)]===w[_0x177162(0x31a)][_0x177162(0x49f)][_0x177162(0x660)]['ListType'][_0x177162(0x7f0)]&&(_0x461039=JSON['parse'](JSON[_0x177162(0x3c8)](_0x461039)),_0x461039['deviceSentMessage'][_0x177162(0x450)][_0x177162(0x498)]['listType']=w[_0x177162(0x31a)][_0x177162(0x49f)][_0x177162(0x660)]['ListType'][_0x177162(0x4a6)]),_0x461039[_0x177162(0x498)]?.[_0x177162(0x65f)]==w[_0x177162(0x31a)][_0x177162(0x49f)][_0x177162(0x660)][_0x177162(0x701)][_0x177162(0x7f0)]&&(_0x461039=JSON[_0x177162(0x785)](JSON[_0x177162(0x3c8)](_0x461039)),_0x461039[_0x177162(0x498)]['listType']=w['proto']['Message'][_0x177162(0x660)][_0x177162(0x701)][_0x177162(0x4a6)]),_0x461039;}};return this[_0x49f225(0x593)]=!0x1,this[_0x49f225(0x1c4)]=(0x0,w[_0x49f225(0x4ea)])(_0x278c92),this[_0x49f225(0x707)](),this[_0x49f225(0x60a)]=_0x3b0578,this[_0x49f225(0x1c4)];}catch(_0x265bca){let _0x352650='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x3de1f1=_0x265bca instanceof Error?_0x265bca['message']:typeof _0x265bca==_0x49f225(0x8d7)?JSON[_0x49f225(0x3c8)](_0x265bca):_0x265bca,_0x4805f8=_0x352650+':\x20'+_0x3de1f1;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x49f225(0x286)][_0x49f225(0x2a8)]+_0x49f225(0x867)+_0x4805f8),console[_0x49f225(0x4a8)](_0x49f225(0x360),_0x265bca),_0x265bca instanceof Error&&console[_0x49f225(0x4a8)](_0x49f225(0x3b1),_0x265bca[_0x49f225(0x2fe)]),new x(_0x4805f8);}}['eventHandler'](){const _0x415a6c=a0_0x341dd0;this[_0x415a6c(0x1c4)]['ev'][_0x415a6c(0x737)](_0x4cd670=>{const _0x1a0b37=_0x415a6c;if(!this[_0x1a0b37(0x593)]){let _0x1ba013=this[_0x1a0b37(0x403)][_0x1a0b37(0x86a)](_0x1a0b37(0x2c4));if(_0x4cd670[_0x1a0b37(0x59f)]){let _0x14ac9f=_0x4cd670[_0x1a0b37(0x59f)];this['messageHandle'][_0x1a0b37(0x59f)](_0x14ac9f);}if(_0x4cd670[_0x1a0b37(0x21c)]){let _0x2b356c=_0x4cd670[_0x1a0b37(0x21c)];this['messageHandle'][_0x1a0b37(0x21c)](_0x2b356c);}if(_0x4cd670[_0x1a0b37(0x449)]&&this[_0x1a0b37(0x3db)](_0x4cd670[_0x1a0b37(0x449)]),_0x4cd670['creds.update']&&this[_0x1a0b37(0x286)][_0x1a0b37(0x591)][_0x1a0b37(0x7cc)](),_0x4cd670[_0x1a0b37(0x4f7)]){let _0x43f769=_0x4cd670['messaging-history.set'];this[_0x1a0b37(0x64a)][_0x1a0b37(0x4f7)](_0x43f769,_0x1ba013);}if(_0x4cd670[_0x1a0b37(0x894)]){let _0x1bac9e=_0x4cd670[_0x1a0b37(0x894)];this['messageHandle'][_0x1a0b37(0x894)](_0x1bac9e,_0x1ba013);}if(_0x4cd670[_0x1a0b37(0x583)]){let _0x506360=_0x4cd670[_0x1a0b37(0x583)];this['messageHandle'][_0x1a0b37(0x583)](_0x506360,_0x1ba013);}if(_0x4cd670[_0x1a0b37(0x698)]){let _0x3f43b5=_0x4cd670['presence.update'];if(this[_0x1a0b37(0x4f2)]?.[_0x1a0b37(0x614)]&&_0x3f43b5['id'][_0x1a0b37(0x23d)](_0x1a0b37(0x54c)))return;this[_0x1a0b37(0x401)](_0x1a0b37(0x698),_0x3f43b5);}if(_0x4cd670[_0x1a0b37(0x7d3)]){let _0x526cd8=_0x4cd670[_0x1a0b37(0x7d3)];this[_0x1a0b37(0x402)][_0x1a0b37(0x7d3)](_0x526cd8);}if(_0x4cd670[_0x1a0b37(0x288)]){let _0x19b0d9=_0x4cd670[_0x1a0b37(0x288)];this[_0x1a0b37(0x402)][_0x1a0b37(0x288)](_0x19b0d9);}if(_0x4cd670[_0x1a0b37(0x334)]){let _0x1eb346=_0x4cd670[_0x1a0b37(0x334)];this[_0x1a0b37(0x402)]['group-participants.update'](_0x1eb346);}if(_0x4cd670['chats.upsert']){let _0x3a10f8=_0x4cd670[_0x1a0b37(0x721)];this[_0x1a0b37(0x672)]['chats.upsert'](_0x3a10f8,_0x1ba013);}if(_0x4cd670[_0x1a0b37(0x35b)]){let _0x1d9eec=_0x4cd670[_0x1a0b37(0x35b)];this[_0x1a0b37(0x672)][_0x1a0b37(0x35b)](_0x1d9eec,_0x1ba013);}if(_0x4cd670[_0x1a0b37(0x1c8)]){let _0x98fde=_0x4cd670[_0x1a0b37(0x1c8)];this['chatHandle'][_0x1a0b37(0x1c8)](_0x98fde);}if(_0x4cd670[_0x1a0b37(0x6e0)]){let _0x460d4c=_0x4cd670[_0x1a0b37(0x6e0)];this[_0x1a0b37(0x542)]['contacts.upsert'](_0x460d4c,_0x1ba013);}if(_0x4cd670['contacts.update']){let _0x2ab673=_0x4cd670[_0x1a0b37(0x845)];this[_0x1a0b37(0x542)][_0x1a0b37(0x845)](_0x2ab673,_0x1ba013);}}});}async[a0_0x341dd0(0x35a)](_0xa9c378,_0xa4bad5){const _0x5587f0=a0_0x341dd0;if(_0xa4bad5>=0xa){console[_0x5587f0(0x4a8)](this[_0x5587f0(0x7d8)]+'\x20('+this[_0x5587f0(0x286)]['wuid']+_0x5587f0(0x3be)),delete Ft[_0xa9c378[_0x5587f0(0x43a)]['id']];return;}try{console['error'](this['instanceName']+'\x20('+this[_0x5587f0(0x286)][_0x5587f0(0x2a8)]+_0x5587f0(0x376)+(_0xa4bad5+0x1)),await this[_0x5587f0(0x1c4)][_0x5587f0(0x5bc)](JSON['parse'](_0xa9c378[_0x5587f0(0x8cf)][0x1],w[_0x5587f0(0x56d)][_0x5587f0(0x5ad)])),console['error']('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x59cbb5){console[_0x5587f0(0x4a8)](this['instanceName']+'\x20('+this[_0x5587f0(0x286)][_0x5587f0(0x2a8)]+_0x5587f0(0x656)+_0x59cbb5),setTimeout(()=>this[_0x5587f0(0x35a)](_0xa9c378,_0xa4bad5+0x1),Math['pow'](0x2,_0xa4bad5)*0x3e8);}}[a0_0x341dd0(0x736)](_0x343913){return new Promise(_0x439d62=>setTimeout(_0x439d62,_0x343913));}[a0_0x341dd0(0x441)](_0x1b87dc){const _0x427513=a0_0x341dd0;_0x1b87dc=_0x1b87dc['replace'](/\D/g,'');let _0x426819=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x427513(0x75c)](_0x1b87dc);if(_0x426819&&_0x426819[0x1]==='55'){let _0xfcb510=_0x426819[0x2],_0x30b922=_0x426819[0x3],_0x53ffac=_0x426819[0x4];if(parseInt(_0xfcb510)>=0x1f&&_0x30b922==='9')return _0x426819[0x1]+_0xfcb510+_0x53ffac;}return _0x1b87dc;}[a0_0x341dd0(0x6e5)](_0x478556){const _0x1c4d8a=a0_0x341dd0;return _0x478556[_0x1c4d8a(0x23d)](_0x1c4d8a(0x54c))||_0x478556[_0x1c4d8a(0x23d)](_0x1c4d8a(0x578))||_0x478556['includes']('@broadcast')?_0x478556:(_0x478556=_0x478556?.[_0x1c4d8a(0x589)](/\s/g,'')[_0x1c4d8a(0x589)](/\+/g,'')[_0x1c4d8a(0x589)](/\(/g,'')[_0x1c4d8a(0x589)](/\)/g,'')[_0x1c4d8a(0x518)](/\:/)[0x0][_0x1c4d8a(0x518)]('@')[0x0],_0x478556[_0x1c4d8a(0x65e)]>=0x12?(_0x478556=_0x478556[_0x1c4d8a(0x589)](/[^\d-]/g,''),_0x478556+'@g.us'):(_0x478556=_0x478556[_0x1c4d8a(0x589)](/\D/g,''),_0x478556+_0x1c4d8a(0x578)));}async[a0_0x341dd0(0x6e2)](_0xda9a59){const _0xab09df=a0_0x341dd0;let _0x1059b1=(await this['whatsappNumber']({'numbers':[_0xda9a59[_0xab09df(0x714)]]}))[0x0];if(!_0x1059b1[_0xab09df(0x861)]&&!(0x0,w['isJidGroup'])(_0x1059b1[_0xab09df(0x824)])&&!_0x1059b1[_0xab09df(0x824)]['includes'](_0xab09df(0x70e)))throw new m(_0x1059b1);let _0x2dd498=_0x1059b1[_0xab09df(0x824)];try{return await this[_0xab09df(0x1c4)][_0xab09df(0x323)](_0x2dd498),await this[_0xab09df(0x1c4)][_0xab09df(0x6ce)](_0xda9a59[_0xab09df(0x863)],_0x2dd498),{'status':0xc8,'presence':_0xda9a59[_0xab09df(0x863)]};}catch(_0x58ee48){let _0x41cd55=_0xab09df(0x4d9),_0x12860d=_0x58ee48 instanceof Error?_0x58ee48[_0xab09df(0x450)]:typeof _0x58ee48=='object'?JSON[_0xab09df(0x3c8)](_0x58ee48):_0x58ee48,_0x4f1dea=_0x41cd55+':\x20'+_0x12860d;throw this[_0xab09df(0x26e)][_0xab09df(0x4a8)](this[_0xab09df(0x7d8)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x4f1dea),new m(_0x4f1dea);}}async[a0_0x341dd0(0x879)](_0x399c4a,_0x25963c,_0xb1ec44,_0x30dcfb=!0x0){const _0x21b795=a0_0x341dd0;let _0x21854e=await this[_0x21b795(0x6d5)][_0x21b795(0x47b)][_0x21b795(0x2c7)]({'where':{'_id':_0x399c4a}});if(!_0x21854e&&!_0x30dcfb)return;let _0x215ece={'lastUpdate':Date[_0x21b795(0x20e)]()};if(_0xb1ec44||!_0x21854e?.[_0x21b795(0x43b)]||Date[_0x21b795(0x20e)]()-_0x21854e[_0x21b795(0x43b)]>0x18*0x3c*0x3c*0x3e8)try{let _0x28073e=(await this['profilePicture'](_0x399c4a))[_0x21b795(0x378)];_0x215ece[_0x21b795(0x76a)]=_0x28073e;}catch(_0x2c42ea){let _0x48233c=_0x21b795(0x790),_0x5d26e1=_0x2c42ea instanceof Error?_0x2c42ea[_0x21b795(0x450)]:typeof _0x2c42ea=='object'?JSON['stringify'](_0x2c42ea):_0x2c42ea,_0x593479=_0x48233c+':\x20'+_0x5d26e1;throw this['logger'][_0x21b795(0x4a8)](this[_0x21b795(0x7d8)]+'\x20('+this[_0x21b795(0x286)]['wuid']+_0x21b795(0x867)+_0x593479),new m(_0x593479);}return _0x25963c&&_0x21854e?.[_0x21b795(0x1fa)]!==_0x25963c&&(_0x215ece[_0x21b795(0x1fa)]=_0x25963c),Object[_0x21b795(0x866)](_0x215ece)[_0x21b795(0x65e)]>0x1&&(_0x21854e?await this[_0x21b795(0x6d5)][_0x21b795(0x47b)]['update']({'where':{'_id':_0x399c4a}},_0x215ece):await this[_0x21b795(0x6d5)][_0x21b795(0x47b)][_0x21b795(0x24a)]([{'_id':_0x399c4a,..._0x215ece}]),_0x21854e={..._0x21854e,..._0x215ece}),{'cachedContact':_0x21854e};}async[a0_0x341dd0(0x469)](_0xaa0221){const _0x9dfea8=a0_0x341dd0;let _0x2fa9b6=this[_0x9dfea8(0x6e5)](_0xaa0221);try{return{'wuid':_0x2fa9b6,'profilePictureUrl':await this[_0x9dfea8(0x1c4)][_0x9dfea8(0x378)](_0x2fa9b6,_0x9dfea8(0x5ed))};}catch{return{'wuid':_0x2fa9b6,'profilePictureUrl':null};}}async[a0_0x341dd0(0x85e)](_0x51eda8,_0xaf0bf7,_0x5d4121){const _0x9a8439=a0_0x341dd0;let _0x288198;try{let _0x40149b=(await this[_0x9a8439(0x3bd)]({'numbers':[_0x51eda8]}))?.[_0x9a8439(0x37f)]();if(!_0x40149b[_0x9a8439(0x861)]&&!(0x0,w[_0x9a8439(0x8ba)])(_0x40149b['jid'])&&!_0x40149b[_0x9a8439(0x824)][_0x9a8439(0x23d)]('@broadcast'))throw new m(_0x40149b);_0x288198=_0x40149b[_0x9a8439(0x824)];}catch(_0x34bb41){_0x288198=_0x51eda8,this[_0x9a8439(0x26e)]['warn'](this[_0x9a8439(0x7d8)]+'\x20('+this[_0x9a8439(0x286)][_0x9a8439(0x2a8)]+'):\x20error:\x20'+_0x34bb41['message']),this['logger'][_0x9a8439(0x8ff)](this[_0x9a8439(0x7d8)]+'\x20('+this[_0x9a8439(0x286)][_0x9a8439(0x2a8)]+_0x9a8439(0x8b8)+_0x288198);}try{if(_0x288198||(_0x288198=_0x51eda8,this[_0x9a8439(0x26e)]['warn'](this[_0x9a8439(0x7d8)]+'\x20('+this['instance'][_0x9a8439(0x2a8)]+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x288198)),_0x5d4121||(_0x5d4121={}),_0x5d4121?.[_0x9a8439(0x79d)]){await this[_0x9a8439(0x1c4)]['presenceSubscribe'](_0x288198),await this[_0x9a8439(0x1c4)][_0x9a8439(0x6ce)](_0x5d4121?.[_0x9a8439(0x863)]??_0x9a8439(0x8fe),_0x288198);let _0x1bb847=Math[_0x9a8439(0x1da)](_0x5d4121[_0x9a8439(0x79d)],0x2710);await(0x0,w[_0x9a8439(0x79d)])(_0x1bb847),await this[_0x9a8439(0x1c4)][_0x9a8439(0x6ce)](_0x9a8439(0x7a0),_0x288198);}let _0x9d1d82=_0x5d4121?.[_0x9a8439(0x5a4)]!=!0x1?void 0x0:!0x1,_0x448dc2;if(_0x5d4121?.['quoted']){let _0xdbf55=_0x5d4121?.[_0x9a8439(0x346)],_0x36bcd7=_0xdbf55?.[_0x9a8439(0x450)]?_0xdbf55:await this[_0x9a8439(0x5a2)](_0xdbf55[_0x9a8439(0x43a)],!0x0);_0x36bcd7&&(_0x448dc2=_0x36bcd7);}let _0x316de6=await this[_0x9a8439(0x6d5)][_0x9a8439(0x8b3)][_0x9a8439(0x2c7)]({'where':{'_id':_0x288198}},this[_0x9a8439(0x286)][_0x9a8439(0x2a8)]),_0x298b3f,_0xfb7945=null;if((0x0,w[_0x9a8439(0x8ba)])(_0x288198))try{if(_0xfb7945=_0x316de6['groupdata'],!_0xfb7945)throw new j(_0x9a8439(0x322));_0x5d4121?.[_0x9a8439(0x554)]&&(_0x5d4121[_0x9a8439(0x554)]?.[_0x9a8439(0x567)]?_0x298b3f=_0xfb7945['participants'][_0x9a8439(0x486)](_0x924460=>_0x924460['id']):_0x5d4121[_0x9a8439(0x554)]?.['mentioned']?.['length']&&(_0x298b3f=_0x5d4121['mentions']['mentioned'][_0x9a8439(0x486)](_0x2653f1=>{const _0x13151c=_0x9a8439;let _0x264037=this[_0x13151c(0x6e5)](_0x2653f1);return(0x0,w[_0x13151c(0x8ba)])(_0x264037)?null:_0x264037;})));}catch{throw new j(_0x9a8439(0x322));}let _0x51bf53=await((async()=>{const _0x5a9449=_0x9a8439;let _0x50d61f={'quoted':_0x448dc2,'ephemeralExpiration':_0x316de6?.[_0x5a9449(0x3fd)]??0x0,'messageId':_0x5a9449(0x296)+(0x0,Ne[_0x5a9449(0x1bd)])(0x12)[_0x5a9449(0x5a5)](_0x5a9449(0x20b))[_0x5a9449(0x7e6)]()};if(!_0xaf0bf7[_0x5a9449(0x492)]&&!_0xaf0bf7[_0x5a9449(0x31e)]&&!_0xaf0bf7[_0x5a9449(0x29c)]&&!_0xaf0bf7['conversation']&&_0x288198!=='status@broadcast'&&_0xaf0bf7[_0x5a9449(0x515)])return await this['client'][_0x5a9449(0x800)](_0x288198,{'react':{'text':_0xaf0bf7[_0x5a9449(0x515)]['text'],'key':_0xaf0bf7['reactionMessage'][_0x5a9449(0x43a)]}},_0x50d61f);if(_0xaf0bf7[_0x5a9449(0x2aa)]){let _0x45ebc6=_0xaf0bf7[_0x5a9449(0x2aa)];return _0x5d4121?.[_0x5a9449(0x51e)]&&(_0x45ebc6=await this[_0x5a9449(0x895)](_0x45ebc6,_0x288198)),await this[_0x5a9449(0x1c4)][_0x5a9449(0x800)](_0x288198,{'text':_0x45ebc6,'mentions':_0x298b3f,'linkPreview':_0x9d1d82},_0x50d61f);}return!_0xaf0bf7[_0x5a9449(0x492)]&&!_0xaf0bf7[_0x5a9449(0x31e)]&&_0x288198!=_0x5a9449(0x2a2)?await this[_0x5a9449(0x1c4)][_0x5a9449(0x800)](_0x288198,{'forward':{'key':{'remoteJid':this[_0x5a9449(0x286)][_0x5a9449(0x2a8)],'fromMe':!0x0},'message':_0xaf0bf7},'mentions':_0x298b3f},_0x50d61f):_0x288198===_0x5a9449(0x2a2)?await this[_0x5a9449(0x1c4)][_0x5a9449(0x800)](_0x288198,_0xaf0bf7['status'][_0x5a9449(0x27e)],{'backgroundColor':_0xaf0bf7[_0x5a9449(0x826)]['option'][_0x5a9449(0x4db)],'font':_0xaf0bf7[_0x5a9449(0x826)]['option'][_0x5a9449(0x1f4)],'statusJidList':_0xaf0bf7[_0x5a9449(0x826)][_0x5a9449(0x48e)][_0x5a9449(0x5b0)]}):await this['client']['sendMessage'](_0x288198,_0xaf0bf7,_0x50d61f);})()),_0x59ee9a=(0x0,w['normalizeMessageContent'])(_0x51bf53['message']),_0x149620=(0x0,w['getContentType'])(_0x59ee9a),{message_normalized:_0x23277d}=this[_0x9a8439(0x873)](_0x59ee9a,_0x149620,null),_0x3c1bc5={'_id':_0x51bf53[_0x9a8439(0x43a)]['id'],'key':_0x51bf53[_0x9a8439(0x43a)],'pushName':_0x51bf53[_0x9a8439(0x1e1)],'isGroup':_0x51bf53['key'][_0x9a8439(0x68c)][_0x9a8439(0x647)](_0x9a8439(0x54c)),'profilePictureUrl':this[_0x9a8439(0x286)][_0x9a8439(0x378)],'message':_0x59ee9a,'messageType':_0x149620,'message_normalized':{'key':_0x51bf53[_0x9a8439(0x43a)],'pushName':_0x51bf53[_0x9a8439(0x1e1)],'messageTimestamp':_0x51bf53['messageTimestamp']&&_0x51bf53['messageTimestamp'][_0x9a8439(0x5a5)]()['length']<0xd?_0x51bf53[_0x9a8439(0x8fd)]*0x3e8:_0x51bf53['messageTimestamp']||null,'source':(0x0,w[_0x9a8439(0x47a)])(_0x51bf53[_0x9a8439(0x43a)]['id']),..._0x23277d},'messageTimestamp':_0x51bf53[_0x9a8439(0x8fd)]&&_0x51bf53[_0x9a8439(0x8fd)][_0x9a8439(0x5a5)]()[_0x9a8439(0x65e)]<0xd?_0x51bf53['messageTimestamp']*0x3e8:_0x51bf53[_0x9a8439(0x8fd)]||null,'owner':this['instance'][_0x9a8439(0x2a8)],'source':(0x0,w['getDevice'])(_0x51bf53[_0x9a8439(0x43a)]['id'])};return this[_0x9a8439(0x26e)][_0x9a8439(0x8ff)](this['instanceName']+'\x20('+this[_0x9a8439(0x286)][_0x9a8439(0x2a8)]+_0x9a8439(0x38e)+_0x3c1bc5[_0x9a8439(0x43a)]?.[_0x9a8439(0x68c)]['replace'](_0x9a8439(0x578),'')+_0x9a8439(0x53d)+_0x3c1bc5[_0x9a8439(0x817)]+')'),_0x3c1bc5['message_normalized']?.['text']&&this[_0x9a8439(0x26e)]['warn'](_0x3c1bc5['message_normalized']?.['text']),this['sendDataWebhook']('send.message',_0x3c1bc5),J(this['instanceName'],'messages',{'message':_0x3c1bc5}),this[_0x9a8439(0x7b3)](this['configService'][_0x9a8439(0x86a)](_0x9a8439(0x2c4)),_0x3c1bc5,'SEND_MESSAGE',_0x316de6),await this[_0x9a8439(0x6d5)][_0x9a8439(0x450)][_0x9a8439(0x24a)]([_0x3c1bc5],this['instance'][_0x9a8439(0x2a8)]),_0x51bf53;}catch(_0x45970c){let _0x300e33='Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20'+_0x288198,_0x2ff9fa=_0x45970c instanceof Error?_0x45970c[_0x9a8439(0x450)]:typeof _0x45970c=='object'?JSON[_0x9a8439(0x3c8)](_0x45970c):_0x45970c,_0x4eb09d=_0x300e33+':\x20'+_0x2ff9fa;throw this[_0x9a8439(0x26e)][_0x9a8439(0x4a8)](this['instanceName']+'\x20('+this['instance'][_0x9a8439(0x2a8)]+_0x9a8439(0x867)+_0x4eb09d),new m(_0x4eb09d);}}get[a0_0x341dd0(0x3ea)](){return this['stateConnection'];}async['textMessage'](_0x1270ad){const _0x46229c=a0_0x341dd0;return await this[_0x46229c(0x85e)](_0x1270ad[_0x46229c(0x714)],{'conversation':_0x1270ad[_0x46229c(0x852)]['text']},_0x1270ad?.[_0x46229c(0x874)]);}async[a0_0x341dd0(0x6dd)](_0x2dd905){const _0x3e261d=a0_0x341dd0;if(!_0x2dd905['type'])throw new m(_0x3e261d(0x2b6));if(!_0x2dd905[_0x3e261d(0x27e)])throw new m('Content\x20is\x20required');if(_0x2dd905[_0x3e261d(0x3cd)]){let _0x89d379=await this[_0x3e261d(0x6d5)][_0x3e261d(0x784)][_0x3e261d(0x232)]({'where':{}},this['instance'][_0x3e261d(0x2a8)]);if(!_0x89d379['length'])throw new m(_0x3e261d(0x833));_0x2dd905['statusJidList']=_0x89d379[_0x3e261d(0x435)](_0x47f798=>_0x47f798['pushName'])['map'](_0x1a2189=>_0x1a2189[_0x3e261d(0x747)]);}if(!_0x2dd905['statusJidList']?.[_0x3e261d(0x65e)]&&!_0x2dd905[_0x3e261d(0x3cd)])throw new m(_0x3e261d(0x7b4));if(_0x2dd905[_0x3e261d(0x1fc)]==='text'){if(!_0x2dd905[_0x3e261d(0x4db)])throw new m(_0x3e261d(0x55b));if(!_0x2dd905['font'])throw new m(_0x3e261d(0x842));return{'content':{'text':_0x2dd905[_0x3e261d(0x27e)]},'option':{'backgroundColor':_0x2dd905[_0x3e261d(0x4db)],'font':_0x2dd905['font'],'statusJidList':_0x2dd905[_0x3e261d(0x5b0)]}};}if(_0x2dd905['type']==='image')return{'content':{'image':{'url':_0x2dd905[_0x3e261d(0x27e)]},'caption':_0x2dd905[_0x3e261d(0x81f)]},'option':{'statusJidList':_0x2dd905[_0x3e261d(0x5b0)]}};if(_0x2dd905[_0x3e261d(0x1fc)]===_0x3e261d(0x654))return{'content':{'video':{'url':_0x2dd905['content']},'caption':_0x2dd905[_0x3e261d(0x81f)]},'option':{'statusJidList':_0x2dd905[_0x3e261d(0x5b0)]}};if(_0x2dd905['type']===_0x3e261d(0x492)){this[_0x3e261d(0x26e)][_0x3e261d(0x769)](this[_0x3e261d(0x7d8)]+'\x20('+this[_0x3e261d(0x286)][_0x3e261d(0x2a8)]+_0x3e261d(0x3f8)),this[_0x3e261d(0x26e)][_0x3e261d(0x769)](this[_0x3e261d(0x7d8)]+'\x20('+this[_0x3e261d(0x286)]['wuid']+_0x3e261d(0x273));let _0x6442ac=await this[_0x3e261d(0x5fb)](_0x2dd905[_0x3e261d(0x27e)]);if(typeof _0x6442ac=='string'){this[_0x3e261d(0x26e)]['verbose'](this[_0x3e261d(0x7d8)]+'\x20('+this[_0x3e261d(0x286)]['wuid']+_0x3e261d(0x42a));let _0x54aa15=L[_0x3e261d(0x233)](_0x6442ac)[_0x3e261d(0x5a5)]('base64');return{'content':{'audio':Buffer[_0x3e261d(0x731)](_0x54aa15,_0x3e261d(0x366)),'ptt':!0x0,'mimetype':_0x3e261d(0x1c0)},'option':{'statusJidList':_0x2dd905[_0x3e261d(0x5b0)]}};}else throw new x(_0x6442ac);}throw new m('Type\x20not\x20found');}async[a0_0x341dd0(0x7d9)](_0xbe1bc6){const _0x4cbd14=a0_0x341dd0;return await this[_0x4cbd14(0x85e)](_0x4cbd14(0x2a2),{'status':await this[_0x4cbd14(0x6dd)](_0xbe1bc6[_0x4cbd14(0x7d9)])});}async[a0_0x341dd0(0x3b2)](_0x3d7b25){const _0x5a715b=a0_0x341dd0;try{let _0x2eb233=await(0x0,w[_0x5a715b(0x1c2)])({[_0x3d7b25[_0x5a715b(0x337)]]:(0x0,k[_0x5a715b(0x8c4)])(_0x3d7b25[_0x5a715b(0x5d8)])?{'url':_0x3d7b25[_0x5a715b(0x5d8)]}:Buffer[_0x5a715b(0x731)](_0x3d7b25[_0x5a715b(0x5d8)],_0x5a715b(0x366))},{'upload':this['client'][_0x5a715b(0x410)]}),_0x53ad19=_0x3d7b25[_0x5a715b(0x337)]+_0x5a715b(0x49f);if(_0x3d7b25['mediatype']===_0x5a715b(0x6cb)&&!_0x3d7b25['fileName']){let _0xefae8e=new RegExp(/.*\/(.+?)\./)[_0x5a715b(0x75c)](_0x3d7b25['media']);_0x3d7b25[_0x5a715b(0x493)]=_0xefae8e?_0xefae8e[0x1]:null;}let _0x5eb07d;return(0x0,k[_0x5a715b(0x8c4)])(_0x3d7b25['media'])?_0x5eb07d=(await Y[_0x5a715b(0x4ea)][_0x5a715b(0x86a)](_0x3d7b25['media'],{'responseType':'arraybuffer'}))[_0x5a715b(0x521)]['content-type']:_0x5eb07d=(0x0,Oi[_0x5a715b(0x7df)])(_0x3d7b25[_0x5a715b(0x493)]),_0x2eb233[_0x53ad19][_0x5a715b(0x81f)]=_0x3d7b25?.['caption'],_0x2eb233[_0x53ad19][_0x5a715b(0x43d)]=_0x5eb07d,_0x2eb233[_0x53ad19][_0x5a715b(0x493)]=_0x3d7b25[_0x5a715b(0x493)],_0x3d7b25[_0x5a715b(0x337)]===_0x5a715b(0x654)&&(_0x2eb233[_0x53ad19]['jpegThumbnail']=Uint8Array[_0x5a715b(0x731)]((0x0,Le['readFileSync'])((0x0,U[_0x5a715b(0x421)])(process['cwd'](),_0x5a715b(0x1b3)))),_0x2eb233[_0x53ad19][_0x5a715b(0x749)]=!0x1),(0x0,w[_0x5a715b(0x5ba)])('',{[_0x53ad19]:{..._0x2eb233[_0x53ad19]}},{'userJid':this['instance']['wuid']});}catch(_0xb583f0){let _0x1e0c0d='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x172d25=_0xb583f0 instanceof Error?_0xb583f0['message']:typeof _0xb583f0=='object'?JSON[_0x5a715b(0x3c8)](_0xb583f0):_0xb583f0,_0x5374ff=_0x1e0c0d+':\x20'+_0x172d25;throw this[_0x5a715b(0x26e)][_0x5a715b(0x4a8)](this[_0x5a715b(0x7d8)]+'\x20('+this[_0x5a715b(0x286)][_0x5a715b(0x2a8)]+'):\x20'+_0x5374ff),new x(_0x5374ff);}}async[a0_0x341dd0(0x69d)](_0x1993e5){const _0x432c2c=a0_0x341dd0;let _0x5b324e=await this[_0x432c2c(0x3b2)](_0x1993e5[_0x432c2c(0x69d)]);return await this[_0x432c2c(0x85e)](_0x1993e5[_0x432c2c(0x714)],{..._0x5b324e[_0x432c2c(0x450)]},_0x1993e5?.['options']);}async[a0_0x341dd0(0x600)](_0x365763,_0xe6f8b5){const _0x183bf7=a0_0x341dd0;try{this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x1cd));let _0x5cc682,_0x4acb2d=_0xe6f8b5+'-'+new Date()[_0x183bf7(0x5a7)]();this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x1d8)+_0x4acb2d);let _0x5a1ff7=''+(0x0,U['join'])(this['storePath'],_0x4acb2d+'.webp');if(this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x613)+_0x5a1ff7),(0x0,k['isBase64'])(_0x365763)){this['logger'][_0x183bf7(0x769)](this['instanceName']+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x82a));let _0x59dd7f=_0x365763[_0x183bf7(0x589)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2c7d9d=Buffer['from'](_0x59dd7f,'base64');_0x5cc682=''+(0x0,U[_0x183bf7(0x421)])(this[_0x183bf7(0x4a5)],_0x183bf7(0x36c)+_0x4acb2d+_0x183bf7(0x7ed)),this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x479)+_0x5cc682),await(0x0,jt[_0x183bf7(0x4ea)])(_0x2c7d9d)['toFile'](_0x5cc682),this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x8b1));}else{this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x28a));let _0x51cd2b=new Date()[_0x183bf7(0x5a7)](),_0xb430bd=_0x365763+_0x183bf7(0x1be)+_0x51cd2b;this[_0x183bf7(0x26e)]['verbose'](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x7ac)+_0xb430bd);let _0x5f1b48=await Y['default'][_0x183bf7(0x86a)](_0xb430bd,{'responseType':_0x183bf7(0x246)});this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this['instanceName']+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x4b8));let _0xe934f4=Buffer[_0x183bf7(0x731)](_0x5f1b48[_0x183bf7(0x210)],_0x183bf7(0x237));_0x5cc682=''+(0x0,U[_0x183bf7(0x421)])(this[_0x183bf7(0x4a5)],_0x183bf7(0x36c)+_0x4acb2d+_0x183bf7(0x7ed)),this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this['instance'][_0x183bf7(0x2a8)]+_0x183bf7(0x479)+_0x5cc682),await(0x0,jt[_0x183bf7(0x4ea)])(_0xe934f4)[_0x183bf7(0x42b)](_0x5cc682),this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this['instance'][_0x183bf7(0x2a8)]+_0x183bf7(0x8b1));}return await(0x0,jt['default'])(_0x5cc682)[_0x183bf7(0x6da)]()[_0x183bf7(0x42b)](_0x5a1ff7),this['logger'][_0x183bf7(0x769)](this[_0x183bf7(0x7d8)]+'\x20('+this['instance']['wuid']+'):Image\x20converted\x20to\x20WebP'),L[_0x183bf7(0x677)](_0x5cc682),this[_0x183bf7(0x26e)][_0x183bf7(0x769)](this['instanceName']+'\x20('+this[_0x183bf7(0x286)][_0x183bf7(0x2a8)]+_0x183bf7(0x292)),_0x5a1ff7;}catch(_0x234bd3){let _0x4cb1a7='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x56c5c0=_0x234bd3 instanceof Error?_0x234bd3[_0x183bf7(0x450)]:typeof _0x234bd3==_0x183bf7(0x8d7)?JSON[_0x183bf7(0x3c8)](_0x234bd3):_0x234bd3,_0x5bf4eb=_0x4cb1a7+':\x20'+_0x56c5c0;this[_0x183bf7(0x26e)][_0x183bf7(0x4a8)](this[_0x183bf7(0x7d8)]+'\x20('+this[_0x183bf7(0x286)]['wuid']+_0x183bf7(0x867)+_0x5bf4eb);}}async[a0_0x341dd0(0x689)](_0x1b4f05){const _0x5cfa60=a0_0x341dd0;let _0xfb9049=await this['convertToWebP'](_0x1b4f05[_0x5cfa60(0x3fb)][_0x5cfa60(0x5ed)],_0x1b4f05['number']),_0x3e48e8=await this[_0x5cfa60(0x85e)](_0x1b4f05[_0x5cfa60(0x714)],{'sticker':{'url':_0xfb9049}},_0x1b4f05?.[_0x5cfa60(0x874)]);return L['unlinkSync'](_0xfb9049),this[_0x5cfa60(0x26e)][_0x5cfa60(0x769)](this[_0x5cfa60(0x7d8)]+'\x20('+this[_0x5cfa60(0x286)]['wuid']+_0x5cfa60(0x451)),_0x3e48e8;}async[a0_0x341dd0(0x33d)](_0x5bdac5){const _0xd6d22f=a0_0x341dd0;if(this[_0xd6d22f(0x26e)][_0xd6d22f(0x769)](this[_0xd6d22f(0x7d8)]+'\x20('+this['instance']['wuid']+_0xd6d22f(0x5b2)),!_0x5bdac5['options']?.[_0xd6d22f(0x587)]&&_0x5bdac5['options']?.[_0xd6d22f(0x587)]!==!0x1&&(_0x5bdac5[_0xd6d22f(0x874)][_0xd6d22f(0x587)]=!0x0),_0x5bdac5[_0xd6d22f(0x874)]?.[_0xd6d22f(0x587)]){let _0x1eefe0=await this[_0xd6d22f(0x5fb)](_0x5bdac5[_0xd6d22f(0x340)]['audio']);if(typeof _0x1eefe0==_0xd6d22f(0x347)){let _0x29c20a=L[_0xd6d22f(0x233)](_0x1eefe0)['toString']('base64');return this[_0xd6d22f(0x85e)](_0x5bdac5[_0xd6d22f(0x714)],{'audio':Buffer['from'](_0x29c20a,_0xd6d22f(0x366)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0xd6d22f(0x5c5),'delay':_0x5bdac5?.[_0xd6d22f(0x874)]?.[_0xd6d22f(0x79d)]});}else throw new x(_0x1eefe0);}return await this[_0xd6d22f(0x85e)](_0x5bdac5[_0xd6d22f(0x714)],{'audio':(0x0,k[_0xd6d22f(0x8c4)])(_0x5bdac5[_0xd6d22f(0x340)][_0xd6d22f(0x492)])?{'url':_0x5bdac5[_0xd6d22f(0x340)]['audio']}:Buffer[_0xd6d22f(0x731)](_0x5bdac5['audioMessage'][_0xd6d22f(0x492)],_0xd6d22f(0x366)),'ptt':!0x0,'mimetype':_0xd6d22f(0x71d)},{'presence':_0xd6d22f(0x5c5),'delay':_0x5bdac5?.[_0xd6d22f(0x874)]?.[_0xd6d22f(0x79d)]});}async[a0_0x341dd0(0x5fb)](_0x4f158e){const _0x3995b7=a0_0x341dd0;this[_0x3995b7(0x26e)]['verbose'](this[_0x3995b7(0x7d8)]+'\x20('+this['instance'][_0x3995b7(0x2a8)]+_0x3995b7(0x273));let _0x31030d=(0x0,k[_0x3995b7(0x8c4)])(_0x4f158e)?(0x0,Ne[_0x3995b7(0x2a5)])(_0x3995b7(0x293))[_0x3995b7(0x85c)](_0x4f158e)['digest'](_0x3995b7(0x20b)):(0x0,Ne[_0x3995b7(0x2a5)])(_0x3995b7(0x293))[_0x3995b7(0x85c)](_0x4f158e)[_0x3995b7(0x58a)](_0x3995b7(0x20b)),_0x59f329=''+(0x0,U['join'])(this[_0x3995b7(0x4a5)],_0x31030d+_0x3995b7(0x6c1));if(L[_0x3995b7(0x4b7)](_0x59f329))return this[_0x3995b7(0x26e)]['verbose'](this['instanceName']+'\x20('+this[_0x3995b7(0x286)][_0x3995b7(0x2a8)]+_0x3995b7(0x440)),_0x59f329;let _0x2860ad=''+(0x0,U[_0x3995b7(0x421)])(this[_0x3995b7(0x4a5)],_0x3995b7(0x36c)+(0x0,X['v4'])()+'.mp3');if((0x0,k[_0x3995b7(0x8c4)])(_0x4f158e)){let _0x5c5c7b=new Date()[_0x3995b7(0x5a7)](),_0x41f24c=_0x4f158e+_0x3995b7(0x1be)+_0x5c5c7b,_0x2be84f=await Y[_0x3995b7(0x4ea)][_0x3995b7(0x86a)](_0x41f24c,{'responseType':_0x3995b7(0x246)});L[_0x3995b7(0x523)](_0x2860ad,_0x2be84f[_0x3995b7(0x210)]);}else{let _0x4817ce=Buffer[_0x3995b7(0x731)](_0x4f158e,'base64');L[_0x3995b7(0x523)](_0x2860ad,_0x4817ce);}return new Promise((_0x3712c4,_0x59f4ab)=>{const _0x1dbfb5=_0x3995b7;(0x0,Fe[_0x1dbfb5(0x75c)])(_s[_0x1dbfb5(0x4ea)][_0x1dbfb5(0x85b)]+_0x1dbfb5(0x545)+_0x2860ad+_0x1dbfb5(0x2a7)+_0x59f329+'\x20-y',_0x291c0f=>{const _0x1b4f0e=_0x1dbfb5;if(L[_0x1b4f0e(0x677)](_0x2860ad),_0x291c0f){this[_0x1b4f0e(0x26e)][_0x1b4f0e(0x769)](this[_0x1b4f0e(0x7d8)]+'\x20('+this[_0x1b4f0e(0x286)][_0x1b4f0e(0x2a8)]+'):Error\x20in\x20converting\x20audio'),_0x59f4ab(_0x291c0f);return;}this['logger'][_0x1b4f0e(0x769)](this['instanceName']+'\x20('+this[_0x1b4f0e(0x286)][_0x1b4f0e(0x2a8)]+_0x1b4f0e(0x774)),_0x3712c4(_0x59f329);});});}async['convertaudioMP3'](_0xd3b3f7){const _0xb2d571=a0_0x341dd0;this[_0xb2d571(0x26e)][_0xb2d571(0x769)](this['instanceName']+'\x20('+this[_0xb2d571(0x286)][_0xb2d571(0x2a8)]+_0xb2d571(0x273));let _0xf6e0dc=(0x0,Ne[_0xb2d571(0x2a5)])(_0xb2d571(0x293))[_0xb2d571(0x85c)](_0xd3b3f7)['digest'](_0xb2d571(0x20b)),_0x31830f=''+(0x0,U['join'])(this[_0xb2d571(0x4a5)],_0xf6e0dc+_0xb2d571(0x548));if(L[_0xb2d571(0x4b7)](_0x31830f))return this[_0xb2d571(0x26e)][_0xb2d571(0x769)](this['instanceName']+'\x20('+this[_0xb2d571(0x286)][_0xb2d571(0x2a8)]+_0xb2d571(0x440)),U[_0xb2d571(0x4ea)]['basename'](_0x31830f);let _0x148560=''+(0x0,U['join'])(this[_0xb2d571(0x4a5)],'temp-'+_0xf6e0dc+'.ogg');if((0x0,k[_0xb2d571(0x8c4)])(_0xd3b3f7)){let _0x6b73b3=new Date()[_0xb2d571(0x5a7)](),_0x35be0b=_0xd3b3f7+_0xb2d571(0x1be)+_0x6b73b3,_0x473881=await Y[_0xb2d571(0x4ea)][_0xb2d571(0x86a)](_0x35be0b,{'responseType':_0xb2d571(0x246)});L[_0xb2d571(0x523)](_0x148560,_0x473881[_0xb2d571(0x210)]);}else{let _0x440f34=Buffer[_0xb2d571(0x731)](_0xd3b3f7,_0xb2d571(0x366));L[_0xb2d571(0x523)](_0x148560,_0x440f34);}return new Promise((_0x274c96,_0x3e140e)=>{const _0xb8dfd3=_0xb2d571;(0x0,Fe[_0xb8dfd3(0x75c)])(_s['default'][_0xb8dfd3(0x85b)]+'\x20-i\x20'+_0x148560+_0xb8dfd3(0x28f)+_0x31830f+_0xb8dfd3(0x696),_0x1f4d8e=>{const _0x5ca9d6=_0xb8dfd3;if(L[_0x5ca9d6(0x677)](_0x148560),_0x1f4d8e){this[_0x5ca9d6(0x26e)][_0x5ca9d6(0x769)](this[_0x5ca9d6(0x7d8)]+'\x20('+this[_0x5ca9d6(0x286)][_0x5ca9d6(0x2a8)]+_0x5ca9d6(0x50e)),_0x3e140e(_0x1f4d8e);return;}this[_0x5ca9d6(0x26e)]['verbose'](this[_0x5ca9d6(0x7d8)]+'\x20('+this[_0x5ca9d6(0x286)][_0x5ca9d6(0x2a8)]+_0x5ca9d6(0x774)),_0x274c96(U[_0x5ca9d6(0x4ea)][_0x5ca9d6(0x89c)](_0x31830f));});});}async['buttonMessage'](_0x346c3d){const _0x3e99bb=a0_0x341dd0;let _0x21e799={},_0x4f1954='TEXT';if(_0x346c3d[_0x3e99bb(0x596)]?.[_0x3e99bb(0x69d)]){_0x4f1954=_0x346c3d[_0x3e99bb(0x596)][_0x3e99bb(0x69d)]?.[_0x3e99bb(0x337)][_0x3e99bb(0x7e6)]()??'TEXT',_0x21e799['mediaKey']=_0x4f1954[_0x3e99bb(0x1c6)]()+_0x3e99bb(0x49f);let _0x33d3d5=await this[_0x3e99bb(0x3b2)](_0x346c3d[_0x3e99bb(0x596)][_0x3e99bb(0x69d)]);_0x21e799[_0x3e99bb(0x450)]=_0x33d3d5[_0x3e99bb(0x450)][_0x21e799[_0x3e99bb(0x45e)]],_0x21e799[_0x3e99bb(0x7f8)]='*'+_0x346c3d[_0x3e99bb(0x596)]['title']+_0x3e99bb(0x5f6)+_0x346c3d[_0x3e99bb(0x596)][_0x3e99bb(0x6b2)];}let _0x50d3da={'text':_0x346c3d['buttonMessage'][_0x3e99bb(0x30a)][_0x3e99bb(0x486)](_0x38a15a=>_0x38a15a[_0x3e99bb(0x44e)]),'ids':_0x346c3d[_0x3e99bb(0x596)][_0x3e99bb(0x30a)][_0x3e99bb(0x486)](_0x5e3dfb=>_0x5e3dfb['buttonId'])};if(!(0x0,k[_0x3e99bb(0x74e)])(_0x50d3da[_0x3e99bb(0x7e2)])||!(0x0,k[_0x3e99bb(0x74e)])(_0x50d3da[_0x3e99bb(0x2b4)]))throw new m(_0x3e99bb(0x4c5),_0x3e99bb(0x45a));return await this['sendMessageWithTyping'](_0x346c3d[_0x3e99bb(0x714)],{'buttonsMessage':{'text':_0x21e799?.[_0x3e99bb(0x45e)]?void 0x0:_0x346c3d[_0x3e99bb(0x596)]['title'],'contentText':_0x21e799?.[_0x3e99bb(0x7f8)]??_0x346c3d[_0x3e99bb(0x596)]['description'],'footerText':_0x346c3d[_0x3e99bb(0x596)]?.[_0x3e99bb(0x459)],'buttons':_0x346c3d['buttonMessage'][_0x3e99bb(0x30a)]['map'](_0x3ed220=>({'buttonText':{'displayText':_0x3ed220[_0x3e99bb(0x44e)]},'buttonId':_0x3ed220[_0x3e99bb(0x572)],'type':0x1})),'headerType':w['proto'][_0x3e99bb(0x49f)]['ButtonsMessage'][_0x3e99bb(0x73a)][_0x4f1954],[_0x21e799?.[_0x3e99bb(0x45e)]]:_0x21e799?.[_0x3e99bb(0x450)]}},_0x346c3d?.[_0x3e99bb(0x874)]);}async[a0_0x341dd0(0x8c9)](_0x54aca7){const _0x2e7487=a0_0x341dd0;return await this[_0x2e7487(0x85e)](_0x54aca7[_0x2e7487(0x714)],{'locationMessage':{'degreesLatitude':_0x54aca7[_0x2e7487(0x8c9)]['latitude'],'degreesLongitude':_0x54aca7[_0x2e7487(0x8c9)][_0x2e7487(0x643)],'name':_0x54aca7[_0x2e7487(0x8c9)]?.[_0x2e7487(0x1fa)],'address':_0x54aca7[_0x2e7487(0x8c9)]?.[_0x2e7487(0x524)]}},_0x54aca7?.[_0x2e7487(0x874)]);}async[a0_0x341dd0(0x57c)](_0x511e03){const _0x54047d=a0_0x341dd0;let _0x1c0481={},_0x2c9f36=async _0x1837fe=>{const _0x32c9cf=a0_0x5184;let _0x4c2573=_0x32c9cf(0x32a)+_0x1837fe[_0x32c9cf(0x407)]+_0x32c9cf(0x823)+_0x1837fe['fullName']+'\x0a';_0x1837fe[_0x32c9cf(0x3a9)]&&(_0x4c2573+='ORG:'+_0x1837fe['organization']+';\x0a'),_0x1837fe['email']&&(_0x4c2573+=_0x32c9cf(0x782)+_0x1837fe[_0x32c9cf(0x4ce)]+'\x0a'),_0x1837fe[_0x32c9cf(0x8df)]&&(_0x4c2573+=_0x32c9cf(0x2a6)+_0x1837fe[_0x32c9cf(0x8df)]+'\x0a');let _0x316f4b='',_0x57c132=0x1;if(_0x1837fe[_0x32c9cf(0x60a)]){let _0x115063=_0x1837fe[_0x32c9cf(0x60a)]['split']('|');for(let _0x78afba of _0x115063){let _0x4e556e=await this['whatsappNumber']({'numbers':[_0x78afba]}),_0x5570ed=(_0x4e556e[_0x32c9cf(0x65e)]>0x0?_0x4e556e[0x0]['jid']:this['createJid'](_0x78afba))[_0x32c9cf(0x589)](_0x32c9cf(0x578),'');_0x316f4b+=_0x32c9cf(0x7bc)+_0x57c132+'.TEL;waid='+_0x5570ed+':'+_0x78afba+'\x0aitem'+_0x57c132+_0x32c9cf(0x5f2),_0x57c132++;}}return _0x4c2573+=_0x316f4b+_0x32c9cf(0x437),_0x4c2573;};return _0x511e03[_0x54047d(0x57c)][_0x54047d(0x65e)]===0x1?_0x1c0481[_0x54047d(0x57c)]={'displayName':_0x511e03[_0x54047d(0x57c)][0x0]['fullName'],'vcard':await _0x2c9f36(_0x511e03[_0x54047d(0x57c)][0x0])}:_0x1c0481[_0x54047d(0x47d)]={'displayName':_0x511e03['contactMessage'][_0x54047d(0x65e)]+'\x20contacts','contacts':await Promise[_0x54047d(0x3ef)](_0x511e03[_0x54047d(0x57c)][_0x54047d(0x486)](async _0x5012fd=>({'displayName':_0x5012fd[_0x54047d(0x407)],'vcard':await _0x2c9f36(_0x5012fd)})))},await this[_0x54047d(0x85e)](_0x511e03['number'],{..._0x1c0481},_0x511e03?.[_0x54047d(0x874)]);}async[a0_0x341dd0(0x515)](_0x15ccdd){const _0xae91b9=a0_0x341dd0;return await this[_0xae91b9(0x85e)](_0x15ccdd[_0xae91b9(0x515)][_0xae91b9(0x43a)][_0xae91b9(0x68c)],{'reactionMessage':{'key':_0x15ccdd[_0xae91b9(0x515)][_0xae91b9(0x43a)],'text':_0x15ccdd[_0xae91b9(0x515)]['reaction']}});}async[a0_0x341dd0(0x3bd)](_0x362938){const _0x40ae70=a0_0x341dd0;let _0x46102d=[];for await(let _0x21fc62 of _0x362938['numbers']){let _0x28f6f0=this[_0x40ae70(0x6e5)](_0x21fc62),_0x17ab54=!0x1;try{if((0x0,w[_0x40ae70(0x8ba)])(_0x28f6f0)){let _0x539e32=(await this['repository']['chat'][_0x40ae70(0x2c7)]({'where':{'_id':_0x28f6f0}},this[_0x40ae70(0x286)][_0x40ae70(0x2a8)]))[_0x40ae70(0x8d6)];_0x539e32?(_0x17ab54=!0x0,_0x46102d[_0x40ae70(0x452)](new le(_0x539e32['id'],_0x17ab54,_0x539e32?.[_0x40ae70(0x6a5)]))):(_0x539e32=await this[_0x40ae70(0x2ef)]({'groupJid':_0x28f6f0},_0x40ae70(0x809)),_0x46102d[_0x40ae70(0x452)](new le(_0x539e32['id'],!!_0x539e32?.['id'],_0x539e32?.[_0x40ae70(0x6a5)])));}else{if(_0x28f6f0['includes'](_0x40ae70(0x70e)))_0x46102d[_0x40ae70(0x452)](new le(_0x28f6f0,!0x0));else{let _0x493935=(await this[_0x40ae70(0x1c4)][_0x40ae70(0x1ec)](_0x28f6f0))[0x0];_0x46102d[_0x40ae70(0x452)](new le(_0x493935['jid'],_0x493935[_0x40ae70(0x861)]));}}}catch{(0x0,w[_0x40ae70(0x8ba)])(_0x28f6f0)||await this[_0x40ae70(0x448)](_0x28f6f0),_0x46102d['push'](new le(_0x21fc62,!0x1));}}return _0x46102d;}async[a0_0x341dd0(0x448)](_0x15dbce){const _0x43ac12=a0_0x341dd0;try{await this['repository'][_0x43ac12(0x8b3)][_0x43ac12(0x2c7)]({'where':{'_id':_0x15dbce,'imported':!0x0}},this['instance']['wuid'])&&(await this[_0x43ac12(0x6d5)][_0x43ac12(0x8b3)][_0x43ac12(0x50b)](_0x15dbce,this[_0x43ac12(0x286)][_0x43ac12(0x2a8)]),this[_0x43ac12(0x26e)][_0x43ac12(0x2d3)](_0x43ac12(0x557)+_0x15dbce+_0x43ac12(0x241)));}catch(_0x21af9d){let _0x4ea5c1='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x3396ac=_0x21af9d instanceof Error?_0x21af9d[_0x43ac12(0x450)]:typeof _0x21af9d=='object'?JSON[_0x43ac12(0x3c8)](_0x21af9d):_0x21af9d,_0x3fd161=_0x4ea5c1+':\x20'+_0x3396ac;this[_0x43ac12(0x26e)][_0x43ac12(0x4a8)](this[_0x43ac12(0x7d8)]+'\x20('+this['instance'][_0x43ac12(0x2a8)]+_0x43ac12(0x867)+_0x3fd161);}}async[a0_0x341dd0(0x29a)](_0x423ec6){const _0x54d438=a0_0x341dd0;try{let _0x18909a=_0x423ec6[_0x54d438(0x8c8)][_0x54d438(0x435)](_0x2d9960=>(0x0,w['isJidGroup'])(_0x2d9960['remoteJid'])||(0x0,w[_0x54d438(0x4e4)])(_0x2d9960[_0x54d438(0x68c)]))[_0x54d438(0x486)](_0x5b850c=>({'remoteJid':_0x5b850c[_0x54d438(0x68c)],'fromMe':_0x5b850c[_0x54d438(0x2e1)],'id':_0x5b850c['id']}));await this[_0x54d438(0x1c4)][_0x54d438(0x8c8)](_0x18909a);let _0x5e8581=_0x18909a[_0x54d438(0x486)](_0x1a5135=>this[_0x54d438(0x37a)](_0x1a5135,{'status':_0x54d438(0x7d5),'owner':this[_0x54d438(0x286)][_0x54d438(0x2a8)]})),_0x59da98=_0x18909a[_0x54d438(0x486)](_0x2aed63=>this[_0x54d438(0x6d5)][_0x54d438(0x8b3)]['updateOne']({'where':{'_id':_0x2aed63[_0x54d438(0x68c)]}},{'unreadcount':0x0},this[_0x54d438(0x286)]['wuid'])),[_0x5f38ea,_0x4fc3b9]=await Promise[_0x54d438(0x3ef)]([Promise[_0x54d438(0x3ef)](_0x5e8581),Promise[_0x54d438(0x3ef)](_0x59da98)]);return _0x4fc3b9['filter'](_0x33d346=>_0x33d346!==null)[_0x54d438(0x8b4)](_0x5b74e5=>{const _0x943cd1=_0x54d438;J(this[_0x943cd1(0x7d8)],'chats',{'chat':_0x5b74e5});}),{'message':_0x54d438(0x78f),'read':_0x54d438(0x40a)};}catch(_0x3f9c32){let _0x2ce321=_0x54d438(0x881),_0x171776=_0x3f9c32 instanceof Error?_0x3f9c32[_0x54d438(0x450)]:typeof _0x3f9c32==_0x54d438(0x8d7)?JSON['stringify'](_0x3f9c32):_0x3f9c32,_0xc2298c=_0x2ce321+':\x20'+_0x171776;throw this[_0x54d438(0x26e)]['error'](this[_0x54d438(0x7d8)]+'\x20('+this[_0x54d438(0x286)][_0x54d438(0x2a8)]+_0x54d438(0x867)+_0xc2298c),new x(_0xc2298c);}}async[a0_0x341dd0(0x202)](_0x132a31){const _0x59e775=a0_0x341dd0;let _0x2bb0ed={'where':{'key':{'remoteJid':_0x132a31}},'limit':0x1},_0x594860=await this['fetchMessages'](_0x2bb0ed);return _0x594860||(this['logger'][_0x59e775(0x4a8)](_0x59e775(0x6ad)+_0x132a31),null);}async[a0_0x341dd0(0x8f3)](_0x243ef5){const _0x5e7546=a0_0x341dd0;this['logger']['verbose'](this[_0x5e7546(0x7d8)]+'\x20('+this[_0x5e7546(0x286)]['wuid']+_0x5e7546(0x289));try{let _0x2770ea=_0x243ef5[_0x5e7546(0x61f)],_0x13e18d=_0x243ef5[_0x5e7546(0x8b3)];if(!_0x2770ea&&_0x13e18d?_0x2770ea=await this[_0x5e7546(0x202)](_0x13e18d):(_0x2770ea=_0x243ef5[_0x5e7546(0x61f)],_0x2770ea[_0x5e7546(0x8fd)]=_0x2770ea?.[_0x5e7546(0x8fd)]??Date[_0x5e7546(0x20e)](),_0x13e18d=_0x2770ea?.['key']?.['remoteJid']),!_0x2770ea||Object['keys'](_0x2770ea)[_0x5e7546(0x65e)]===0x0)throw new j(_0x5e7546(0x4da));this[_0x5e7546(0x26e)][_0x5e7546(0x769)](this[_0x5e7546(0x7d8)]+'\x20('+this[_0x5e7546(0x286)][_0x5e7546(0x2a8)]+_0x5e7546(0x832)+_0x13e18d);try{await this[_0x5e7546(0x1c4)][_0x5e7546(0x84b)]({'archive':_0x243ef5[_0x5e7546(0x637)],'lastMessages':[_0x2770ea]},this[_0x5e7546(0x6e5)](_0x13e18d));}catch(_0x4f846c){let _0x319ff7=_0x5e7546(0x72f)+_0x13e18d,_0x59001f=_0x4f846c instanceof Error?_0x4f846c[_0x5e7546(0x450)]:typeof _0x4f846c==_0x5e7546(0x8d7)?JSON[_0x5e7546(0x3c8)](_0x4f846c):_0x4f846c,_0x5695fd=_0x319ff7+':\x20'+_0x59001f;this[_0x5e7546(0x26e)][_0x5e7546(0x4a8)](this['instanceName']+'\x20('+this['instance'][_0x5e7546(0x2a8)]+'):\x20'+_0x5695fd);}this[_0x5e7546(0x26e)][_0x5e7546(0x769)](this[_0x5e7546(0x7d8)]+'\x20('+this['instance'][_0x5e7546(0x2a8)]+_0x5e7546(0x5de)+_0x13e18d);let _0xb24db6=await this['repository']['chat']['updateOne']({'where':{'_id':_0x2770ea?.[_0x5e7546(0x43a)]?.[_0x5e7546(0x68c)]}},{'archived':_0x243ef5[_0x5e7546(0x637)]},this[_0x5e7546(0x286)][_0x5e7546(0x2a8)]);return _0xb24db6?(this[_0x5e7546(0x26e)][_0x5e7546(0x769)](this[_0x5e7546(0x7d8)]+'\x20('+this[_0x5e7546(0x286)]['wuid']+_0x5e7546(0x607)+JSON[_0x5e7546(0x3c8)](_0xb24db6)),J(this[_0x5e7546(0x7d8)],_0x5e7546(0x374),{'chat':_0xb24db6})):this[_0x5e7546(0x26e)]['error'](this[_0x5e7546(0x7d8)]+'\x20('+this['instance'][_0x5e7546(0x2a8)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x13e18d),{'chatId':_0x13e18d,'archived':_0x243ef5[_0x5e7546(0x637)]};}catch(_0x246396){let _0x3519f6=_0x5e7546(0x5eb),_0x491bbc=_0x246396 instanceof Error?_0x246396[_0x5e7546(0x450)]:typeof _0x246396==_0x5e7546(0x8d7)?JSON[_0x5e7546(0x3c8)](_0x246396):_0x246396,_0x58f832=_0x3519f6+':\x20'+_0x491bbc;throw this[_0x5e7546(0x26e)][_0x5e7546(0x4a8)](this[_0x5e7546(0x7d8)]+'\x20('+this['instance'][_0x5e7546(0x2a8)]+'):\x20'+_0x58f832),new x(_0x58f832);}}async['deleteChat'](_0x2bd0bc){const _0x1d37fc=a0_0x341dd0;this[_0x1d37fc(0x26e)][_0x1d37fc(0x769)](this[_0x1d37fc(0x7d8)]+'\x20('+this[_0x1d37fc(0x286)]['wuid']+_0x1d37fc(0x69c));try{let _0x38795d=await this[_0x1d37fc(0x202)](_0x2bd0bc);if(!_0x38795d||Object['keys'](_0x38795d)[_0x1d37fc(0x65e)]===0x0)throw new j('Last\x20message\x20not\x20found');let _0x37f43e=_0x38795d[0x0];this[_0x1d37fc(0x26e)][_0x1d37fc(0x769)](this[_0x1d37fc(0x7d8)]+'\x20('+this['instance']['wuid']+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x2bd0bc);try{await this['client'][_0x1d37fc(0x84b)]({'delete':!0x0,'lastMessages':[{'key':_0x37f43e[_0x1d37fc(0x43a)],'messageTimestamp':_0x37f43e[_0x1d37fc(0x8fd)]}]},this[_0x1d37fc(0x6e5)](_0x2bd0bc));}catch(_0x4f962e){this[_0x1d37fc(0x26e)][_0x1d37fc(0x4a8)](_0x1d37fc(0x72f)+_0x2bd0bc+':\x20'+_0x4f962e[_0x1d37fc(0x5a5)]());}this[_0x1d37fc(0x26e)][_0x1d37fc(0x769)](this[_0x1d37fc(0x7d8)]+'\x20('+this[_0x1d37fc(0x286)]['wuid']+_0x1d37fc(0x5de)+_0x2bd0bc);return;}catch(_0x344d9e){throw this[_0x1d37fc(0x26e)][_0x1d37fc(0x4a8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1d37fc(0x599)+_0x344d9e[_0x1d37fc(0x5a5)]()),new x({'archived':!0x1,'message':[_0x1d37fc(0x7fb),_0x344d9e[_0x1d37fc(0x5a5)]()]});}}async['deleteMessage'](_0x1b4246){const _0x4019cd=a0_0x341dd0;try{let _0x42b54a=await this['client'][_0x4019cd(0x800)](_0x1b4246[_0x4019cd(0x68c)],{'delete':_0x1b4246});try{let _0x3692ea=await this[_0x4019cd(0x37a)](_0x1b4246,{'status':_0x4019cd(0x1db),'owner':this[_0x4019cd(0x286)]['wuid']});this[_0x4019cd(0x26e)]['verbose'](this[_0x4019cd(0x7d8)]+'\x20('+this[_0x4019cd(0x286)][_0x4019cd(0x2a8)]+_0x4019cd(0x8b9)+_0x3692ea);}catch(_0x1d175b){this['logger']['error']('Error\x20updating\x20message\x20status:'+_0x1d175b);}return _0x42b54a;}catch(_0x123275){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x123275?.[_0x4019cd(0x5a5)]());}}async[a0_0x341dd0(0x5a1)](_0x243029){const _0x2d4dd7=a0_0x341dd0;try{let _0x5695c4=_0x243029?.[_0x2d4dd7(0x450)]?_0x243029:await this[_0x2d4dd7(0x5a2)](_0x243029[_0x2d4dd7(0x43a)],!0x0);for(let _0x391ebf of Ea)_0x5695c4['message'][_0x391ebf]&&(_0x5695c4[_0x2d4dd7(0x450)]=_0x5695c4[_0x2d4dd7(0x450)][_0x391ebf][_0x2d4dd7(0x450)]);let _0x148286,_0x4c28e2;for(let _0x47438f of Ca)if(_0x148286=_0x5695c4['message'][_0x47438f],_0x148286){_0x4c28e2=_0x47438f;break;}if(!_0x148286)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x148286['mediaKey']=='object'&&(_0x5695c4['message']=JSON[_0x2d4dd7(0x785)](JSON['stringify'](_0x5695c4[_0x2d4dd7(0x450)])));let _0x3333d1=await(0x0,w[_0x2d4dd7(0x7ce)])({'key':_0x5695c4?.[_0x2d4dd7(0x43a)],'message':_0x5695c4?.['message']},_0x2d4dd7(0x601),{},{'logger':(0x0,Ut[_0x2d4dd7(0x4ea)])({'level':'silent'}),'reuploadRequest':this[_0x2d4dd7(0x1c4)][_0x2d4dd7(0x245)]});if(!(_0x3333d1 instanceof Buffer))throw new Error(_0x2d4dd7(0x839));let _0x506745=this[_0x2d4dd7(0x403)][_0x2d4dd7(0x86a)](_0x2d4dd7(0x2c4)),_0x4de7f2,_0xa5ef53;if(_0x148286[_0x2d4dd7(0x493)])_0x4de7f2=_0x148286[_0x2d4dd7(0x493)];else{let _0x79bfe2=_0x148286['mimetype']?.[_0x2d4dd7(0x61a)](/\/(\w+)/),_0x346207=_0x79bfe2?_0x79bfe2[0x1]:null;if(!_0x346207)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x4de7f2=(0x0,X['v4'])()+'.'+_0x346207;}_0x4c28e2==='audioMessage'?_0xa5ef53=_0x2d4dd7(0x742)+await this[_0x2d4dd7(0x50f)](_0x3333d1['toString'](_0x2d4dd7(0x366))):(await this['saveMediaToFile'](_0x3333d1,_0x4de7f2),_0xa5ef53=_0x2d4dd7(0x742)+_0x4de7f2);let _0x3fb86e=this[_0x2d4dd7(0x403)][_0x2d4dd7(0x86a)](_0x2d4dd7(0x847))[_0x2d4dd7(0x571)];if(!_0x3fb86e){let _0x29c871=this[_0x2d4dd7(0x403)][_0x2d4dd7(0x86a)]('SSL_CONF');_0x3fb86e='https://'+(_0x29c871&&_0x29c871['FULLCHAIN']['split']('/')[0x4]);}_0xa5ef53=''+_0x3fb86e+_0xa5ef53;let _0x37b60b=0xc*0x3c*0x3c*0x3e8,_0xc14d7e={'where':{'_id':_0x5695c4[_0x2d4dd7(0x43a)]['id']}},_0x334227={'message_normalized.fileUrl':_0xa5ef53,'message_normalized.expires_fileUrl':Date[_0x2d4dd7(0x20e)]()+_0x37b60b};try{let _0x85f58=await this['repository'][_0x2d4dd7(0x450)][_0x2d4dd7(0x85c)](_0xc14d7e,_0x334227,this[_0x2d4dd7(0x286)][_0x2d4dd7(0x2a8)]);_0x85f58&&J(this[_0x2d4dd7(0x7d8)],_0x2d4dd7(0x56a),{'message':_0x85f58});}catch(_0x44f9ab){let _0x4ee8b2=_0x2d4dd7(0x42c),_0x3b5dd6=_0x44f9ab instanceof Error?_0x44f9ab[_0x2d4dd7(0x450)]:typeof _0x44f9ab==_0x2d4dd7(0x8d7)?JSON[_0x2d4dd7(0x3c8)](_0x44f9ab):_0x44f9ab,_0x47b6bf=_0x4ee8b2+':\x20'+_0x3b5dd6;this[_0x2d4dd7(0x26e)][_0x2d4dd7(0x4a8)](this[_0x2d4dd7(0x7d8)]+'\x20('+this[_0x2d4dd7(0x286)][_0x2d4dd7(0x2a8)]+_0x2d4dd7(0x867)+_0x47b6bf);}return{'mediaType':_0x4c28e2,'fileName':_0x148286[_0x2d4dd7(0x493)],'caption':_0x148286[_0x2d4dd7(0x81f)],'size':{'fileLength':_0x148286['fileLength'],'height':_0x148286[_0x2d4dd7(0x7dd)],'width':_0x148286[_0x2d4dd7(0x26b)]},'mimetype':_0x148286[_0x2d4dd7(0x43d)],'base64':_0x3333d1[_0x2d4dd7(0x5a5)]('base64'),'fileUrl':_0xa5ef53,'expires_fileUrl':Date[_0x2d4dd7(0x20e)]()+_0x37b60b};}catch(_0x11412e){let _0x3ca4c7=_0x2d4dd7(0x420),_0x17d429=_0x11412e instanceof Error?_0x11412e[_0x2d4dd7(0x450)]:typeof _0x11412e==_0x2d4dd7(0x8d7)?JSON[_0x2d4dd7(0x3c8)](_0x11412e):_0x11412e,_0xa22dfc=_0x3ca4c7+':\x20'+_0x17d429;throw this[_0x2d4dd7(0x26e)][_0x2d4dd7(0x4a8)](this[_0x2d4dd7(0x7d8)]+'\x20('+this[_0x2d4dd7(0x286)][_0x2d4dd7(0x2a8)]+_0x2d4dd7(0x867)+_0xa22dfc),new m(_0xa22dfc);}}async[a0_0x341dd0(0x266)](_0x55436b,_0xeb1cc8){const _0x2d3716=a0_0x341dd0;let _0x3afcea=U['default'][_0x2d3716(0x421)](__dirname,_0x2d3716(0x63f));L['existsSync'](_0x3afcea)||L[_0x2d3716(0x517)](_0x3afcea,{'recursive':!0x0});let _0x52466d=U[_0x2d3716(0x4ea)][_0x2d3716(0x421)](_0x3afcea,_0xeb1cc8);return new Promise((_0x2f8127,_0x2443c3)=>{const _0x12dc5e=_0x2d3716;L[_0x12dc5e(0x39a)](_0x52466d,_0x55436b,_0x1f4280=>{const _0x2d5fe1=_0x12dc5e;_0x1f4280?(this[_0x2d5fe1(0x26e)]['error'](_0x2d5fe1(0x602)+(_0x1f4280 instanceof Error?_0x1f4280['message']:JSON['stringify'](_0x1f4280,null,0x2))),_0x2443c3(_0x1f4280)):(this['logger']['log'](_0x2d5fe1(0x238)+_0x52466d),_0x2f8127(_0x52466d));});});}async['fetchContacts'](_0x1ac5df){const _0x1256af=a0_0x341dd0;return await this[_0x1256af(0x6d5)][_0x1256af(0x784)][_0x1256af(0x232)](_0x1ac5df,this[_0x1256af(0x286)][_0x1256af(0x2a8)]);}async['fetchLabels'](){const _0x434f7a=a0_0x341dd0;return await this[_0x434f7a(0x6d5)][_0x434f7a(0x33f)][_0x434f7a(0x232)]({'where':{}},this['instance'][_0x434f7a(0x2a8)]);}async['fetchMessages'](_0x49f38d){const _0x5628f=a0_0x341dd0;return await this[_0x5628f(0x6d5)]['message'][_0x5628f(0x232)](_0x49f38d,this[_0x5628f(0x286)][_0x5628f(0x2a8)]);}async[a0_0x341dd0(0x8a4)](){const _0x3d9dd1=a0_0x341dd0;return this[_0x3d9dd1(0x6d5)][_0x3d9dd1(0x8b3)]['removeUnusedChatFields'](this[_0x3d9dd1(0x286)][_0x3d9dd1(0x2a8)]),this['repository']['chat'][_0x3d9dd1(0x230)](this['instance'][_0x3d9dd1(0x2a8)]),this[_0x3d9dd1(0x6d5)][_0x3d9dd1(0x8b3)][_0x3d9dd1(0x891)](this[_0x3d9dd1(0x286)][_0x3d9dd1(0x2a8)]),this[_0x3d9dd1(0x6d5)][_0x3d9dd1(0x8b3)][_0x3d9dd1(0x6a6)](this[_0x3d9dd1(0x286)][_0x3d9dd1(0x2a8)]),await this['repository'][_0x3d9dd1(0x8b3)]['find']({'where':{}},this[_0x3d9dd1(0x286)][_0x3d9dd1(0x2a8)]);}async[a0_0x341dd0(0x53b)](_0x487048){const _0x5364e2=a0_0x341dd0;try{if(!Array[_0x5364e2(0x1b5)](_0x487048)||_0x487048[_0x5364e2(0x65e)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x36cefe=[],_0x97e899=[];for(let _0x53cdbe of _0x487048){if(_0x53cdbe['_id'])_0x53cdbe['_id']=this[_0x5364e2(0x6e5)](_0x53cdbe[_0x5364e2(0x747)]);else continue;await this[_0x5364e2(0x6d5)]['chat'][_0x5364e2(0x2c7)]({'where':{'_id':_0x53cdbe[_0x5364e2(0x747)]}},this[_0x5364e2(0x286)]['wuid'])?_0x97e899['push']({'_id':_0x53cdbe[_0x5364e2(0x747)],'leadInfo':_0x53cdbe[_0x5364e2(0x43e)],'owner':this[_0x5364e2(0x286)][_0x5364e2(0x2a8)]}):_0x36cefe[_0x5364e2(0x452)]({'_id':_0x53cdbe[_0x5364e2(0x747)],'owner':this[_0x5364e2(0x286)]['wuid'],'leadInfo':_0x53cdbe[_0x5364e2(0x43e)],'imported':!0x0});}return _0x97e899[_0x5364e2(0x65e)]>0x0&&await this['repository'][_0x5364e2(0x8b3)][_0x5364e2(0x7fc)](_0x97e899[_0x5364e2(0x486)](_0x5cdd61=>({'query':{'where':{'_id':_0x5cdd61[_0x5364e2(0x747)],'owner':this[_0x5364e2(0x286)][_0x5364e2(0x2a8)]}},'update':_0x5cdd61}))),_0x36cefe['length']>0x0&&await this[_0x5364e2(0x6d5)][_0x5364e2(0x8b3)]['insertMany'](_0x36cefe,this[_0x5364e2(0x286)][_0x5364e2(0x2a8)]),{'updated':_0x97e899[_0x5364e2(0x65e)],'inserted':_0x36cefe[_0x5364e2(0x65e)]};}catch(_0x8e4e2){let _0x412218=_0x5364e2(0x89a),_0x18b6f1=_0x8e4e2 instanceof Error?_0x8e4e2[_0x5364e2(0x450)]:typeof _0x8e4e2==_0x5364e2(0x8d7)?JSON[_0x5364e2(0x3c8)](_0x8e4e2):_0x8e4e2,_0x75ecc1=_0x412218+':\x20'+_0x18b6f1;throw this[_0x5364e2(0x26e)][_0x5364e2(0x4a8)](this[_0x5364e2(0x7d8)]+'\x20('+this[_0x5364e2(0x286)][_0x5364e2(0x2a8)]+_0x5364e2(0x867)+_0x75ecc1),new m(_0x75ecc1);}}async[a0_0x341dd0(0x395)](_0x1bd3d5){const _0x4f6fe7=a0_0x341dd0;try{if(!Array[_0x4f6fe7(0x1b5)](_0x1bd3d5)||_0x1bd3d5[_0x4f6fe7(0x65e)]===0x0)throw new Error(_0x4f6fe7(0x626));let _0x109bd6=0x64,_0x503b6a=0x0;for(let _0x38bdf7=0x0;_0x38bdf7<_0x1bd3d5[_0x4f6fe7(0x65e)];_0x38bdf7+=_0x109bd6){let _0x4a2cef=_0x1bd3d5[_0x4f6fe7(0x53f)](_0x38bdf7,_0x38bdf7+_0x109bd6),{updated:_0x4e8688}=await this['importChatsBatch'](_0x4a2cef);_0x503b6a+=_0x4e8688;}return{'updated':_0x503b6a};}catch(_0x347fed){let _0x125f94=_0x4f6fe7(0x89a),_0x347c40=_0x347fed instanceof Error?_0x347fed[_0x4f6fe7(0x450)]:typeof _0x347fed==_0x4f6fe7(0x8d7)?JSON['stringify'](_0x347fed):_0x347fed,_0x99a61=_0x125f94+':\x20'+_0x347c40;throw this[_0x4f6fe7(0x26e)][_0x4f6fe7(0x4a8)](this[_0x4f6fe7(0x7d8)]+'\x20('+this['instance'][_0x4f6fe7(0x2a8)]+_0x4f6fe7(0x867)+_0x99a61),new m(_0x99a61);}}async[a0_0x341dd0(0x438)](_0x22caf9){const _0x476013=a0_0x341dd0;try{let _0x2c5d64=await this['repository'][_0x476013(0x33f)]['find']({'where':{}},this[_0x476013(0x286)][_0x476013(0x2a8)]),_0x56348f=new Set(_0x2c5d64['map'](_0x58feb3=>_0x58feb3[_0x476013(0x747)])),_0x25843e=[],_0x4e8d06=[];for(let _0x28bcaf of _0x22caf9){if(!_0x28bcaf['_id'])continue;_0x28bcaf[_0x476013(0x747)]=this[_0x476013(0x6e5)](_0x28bcaf[_0x476013(0x747)]);let _0x4c8874=await this['repository']['chat'][_0x476013(0x2c7)]({'where':{'_id':_0x28bcaf[_0x476013(0x747)]}},this['instance']['wuid']),_0xe089a2={};if(Object[_0x476013(0x760)](_0x28bcaf[_0x476013(0x43e)])[_0x476013(0x8b4)](([_0x578f6f,_0x4d9acf])=>{const _0x14c3fd=_0x476013;_0xe089a2[_0x14c3fd(0x697)+_0x578f6f]=_0x4d9acf;}),_0x4c8874&&!_0x4c8874[_0x476013(0x1fd)]){let _0x262c48=(_0x28bcaf['leadInfo'][_0x476013(0x710)]||[])[_0x476013(0x435)](_0x164a6a=>_0x56348f[_0x476013(0x568)](_0x164a6a)),_0x5943a3=new Set(_0x4c8874[_0x476013(0x43e)][_0x476013(0x710)]||[]),_0x32a7db=_0x262c48[_0x476013(0x435)](_0x428fad=>!_0x5943a3[_0x476013(0x568)](_0x428fad)),_0x1a14e2=[..._0x5943a3][_0x476013(0x435)](_0x416263=>!_0x262c48[_0x476013(0x23d)](_0x416263));_0x4e8d06[_0x476013(0x452)](..._0x32a7db[_0x476013(0x486)](_0x3f034b=>this['AddChatLabel'](_0x3f034b,_0x28bcaf[_0x476013(0x747)]))),_0x4e8d06[_0x476013(0x452)](..._0x1a14e2[_0x476013(0x486)](_0x1ea2ce=>this[_0x476013(0x6fd)](_0x1ea2ce,_0x28bcaf['_id']))),_0x28bcaf[_0x476013(0x43e)][_0x476013(0x710)]=_0x262c48,_0x25843e[_0x476013(0x452)]({'query':{'where':{'_id':_0x28bcaf[_0x476013(0x747)],'owner':this[_0x476013(0x286)][_0x476013(0x2a8)]}},'update':_0xe089a2});}else _0xe089a2[_0x476013(0x1fd)]=!0x0,_0x25843e[_0x476013(0x452)]({'query':{'where':{'_id':_0x28bcaf[_0x476013(0x747)],'owner':this[_0x476013(0x286)][_0x476013(0x2a8)]}},'update':_0xe089a2});}let _0x246b16=await this['repository']['chat'][_0x476013(0x7fc)](_0x25843e);return await Promise['all'](_0x4e8d06),{'updated':_0x246b16};}catch(_0x211b82){let _0x4ed5a9=_0x476013(0x89a),_0x5e4cc3=_0x211b82 instanceof Error?_0x211b82[_0x476013(0x450)]:typeof _0x211b82=='object'?JSON[_0x476013(0x3c8)](_0x211b82):_0x211b82,_0x488434=_0x4ed5a9+':\x20'+_0x5e4cc3;throw this['logger'][_0x476013(0x4a8)](this[_0x476013(0x7d8)]+'\x20('+this[_0x476013(0x286)][_0x476013(0x2a8)]+_0x476013(0x867)+_0x488434),new m(_0x488434);}}async[a0_0x341dd0(0x4fc)](){const _0x25f9c2=a0_0x341dd0;return await this[_0x25f9c2(0x1c4)]['fetchPrivacySettings']();}async[a0_0x341dd0(0x89e)](_0x7d149f){const _0x3587b0=a0_0x341dd0;try{return await this[_0x3587b0(0x1c4)][_0x3587b0(0x384)](_0x7d149f[_0x3587b0(0x26d)]['readreceipts']),await this[_0x3587b0(0x1c4)][_0x3587b0(0x465)](_0x7d149f[_0x3587b0(0x26d)]['profile']),await this['client'][_0x3587b0(0x4fa)](_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x826)]),await this[_0x3587b0(0x1c4)][_0x3587b0(0x849)](_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x5dc)]),await this['client'][_0x3587b0(0x6d7)](_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x65c)]),await this[_0x3587b0(0x1c4)][_0x3587b0(0x4ed)](_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x87e)]),this['client']?.['ws']?.[_0x3587b0(0x354)](),{'update':_0x3587b0(0x40a),'data':{'readreceipts':_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x417)],'profile':_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x330)],'status':_0x7d149f[_0x3587b0(0x26d)]['status'],'online':_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x5dc)],'last':_0x7d149f[_0x3587b0(0x26d)][_0x3587b0(0x65c)],'groupadd':_0x7d149f[_0x3587b0(0x26d)]['groupadd']}};}catch(_0x101e5b){let _0xa7322b='Erro\x20ao\x20alterar\x20privacidade',_0x1cd0cc=_0x101e5b instanceof Error?_0x101e5b[_0x3587b0(0x450)]:typeof _0x101e5b=='object'?JSON[_0x3587b0(0x3c8)](_0x101e5b):_0x101e5b,_0x8ed92f=_0xa7322b+':\x20'+_0x1cd0cc;throw this[_0x3587b0(0x26e)]['error'](this['instanceName']+'\x20('+this[_0x3587b0(0x286)][_0x3587b0(0x2a8)]+_0x3587b0(0x867)+_0x8ed92f),new m(_0x8ed92f);}}async['fetchProfile'](_0x3bc7e2){const _0x463646=a0_0x341dd0;let _0x4ffe3f=(_0x3bc7e2?this[_0x463646(0x6e5)](_0x3bc7e2):this[_0x463646(0x1c4)]?.['user']?.['id'])[_0x463646(0x589)](/:\d{1,2}@/g,'@');this['logger'][_0x463646(0x769)](this[_0x463646(0x7d8)]+'\x20('+this[_0x463646(0x286)][_0x463646(0x2a8)]+_0x463646(0x720)+_0x4ffe3f);let _0xcee951=await this[_0x463646(0x6d5)][_0x463646(0x784)][_0x463646(0x2c7)]({'where':{'_id':_0x4ffe3f}},this[_0x463646(0x286)][_0x463646(0x2a8)]),_0x41b95a=_0xcee951?_0xcee951[_0x463646(0x1e1)]:null;try{let _0x4b3a28=(await this[_0x463646(0x3bd)]({'numbers':[_0x4ffe3f]}))?.[_0x463646(0x37f)](),_0x2b6313=(await this['findAndUpdateCacheContact'](_0x4ffe3f,null,!0x1))[_0x463646(0x2ea)][_0x463646(0x76a)],_0x3c49ea=await this['getStatus'](_0x4b3a28?.[_0x463646(0x824)]),_0x2ad55e=await this[_0x463646(0x3e2)](_0x4b3a28?.[_0x463646(0x824)]),_0x436e45=(await this[_0x463646(0x879)](_0x4ffe3f,null,!0x1))[_0x463646(0x2ea)][_0x463646(0x1fa)],_0x4b426b=await this['repository'][_0x463646(0x8b3)][_0x463646(0x2c7)]({'where':{'_id':_0x4ffe3f}},this[_0x463646(0x286)]['wuid']),_0x5e8fde={'imagechat':_0x2b6313,'contactname':_0x41b95a||null,'pushName':_0x436e45,'status':_0x3c49ea?.[_0x463646(0x826)],'isBusiness':_0x2ad55e['isBusiness'],'email':_0x2ad55e?.[_0x463646(0x4ce)],'description':_0x2ad55e?.[_0x463646(0x6b2)],'website':_0x2ad55e?.[_0x463646(0x59d)]?.['shift'](),'lastcache':Date[_0x463646(0x20e)](),'imported':!_0x4b426b},_0x387e80=await this[_0x463646(0x6d5)][_0x463646(0x8b3)][_0x463646(0x331)]({'where':{'_id':_0x4ffe3f}},_0x5e8fde,this[_0x463646(0x286)][_0x463646(0x2a8)]),_0x1d8b91={'owner':this[_0x463646(0x286)][_0x463646(0x2a8)],'_id':_0x4ffe3f,'profilePictureUrl':_0x2b6313,'status':_0x3c49ea?.['status']};return this[_0x463646(0x6d5)][_0x463646(0x784)][_0x463646(0x85c)]([_0x1d8b91],this['instance'][_0x463646(0x2a8)]),_0x387e80&&J(this['instanceName'],_0x463646(0x374),{'chat':_0x387e80}),{'wuid':_0x4b3a28?.['jid']||_0x4ffe3f,'name':_0x4b3a28?.[_0x463646(0x1fa)],'pushName':_0x436e45,'numberExists':_0x4b3a28?.[_0x463646(0x861)],'picture':_0x2b6313,'status':_0x3c49ea?.[_0x463646(0x826)],'isBusiness':_0x2ad55e[_0x463646(0x284)],'email':_0x2ad55e?.[_0x463646(0x4ce)],'description':_0x2ad55e?.[_0x463646(0x6b2)],'website':_0x2ad55e?.[_0x463646(0x59d)]?.[_0x463646(0x37f)]()};}catch(_0xa65431){return this['logger'][_0x463646(0x4a8)](_0x463646(0x821)+(_0xa65431 instanceof Error?_0xa65431[_0x463646(0x450)]:JSON[_0x463646(0x3c8)](_0xa65431,null,0x2))),{};}}async[a0_0x341dd0(0x3e2)](_0x2a760b){const _0x1dfe14=a0_0x341dd0;this['logger'][_0x1dfe14(0x769)](this[_0x1dfe14(0x7d8)]+'\x20('+this[_0x1dfe14(0x286)]['wuid']+_0x1dfe14(0x6b0));try{let _0x540281=_0x2a760b?this[_0x1dfe14(0x6e5)](_0x2a760b):this[_0x1dfe14(0x286)]['wuid'],_0x298175=await this[_0x1dfe14(0x1c4)][_0x1dfe14(0x8d8)](_0x540281);return this[_0x1dfe14(0x26e)]['verbose'](this[_0x1dfe14(0x7d8)]+'\x20('+this[_0x1dfe14(0x286)][_0x1dfe14(0x2a8)]+_0x1dfe14(0x2e8)),_0x298175?(this[_0x1dfe14(0x26e)][_0x1dfe14(0x769)](this['instanceName']+'\x20('+this[_0x1dfe14(0x286)][_0x1dfe14(0x2a8)]+_0x1dfe14(0x3ab)),{'isBusiness':!0x0,..._0x298175}):{'isBusiness':!0x1,'message':_0x1dfe14(0x816),...(await this['whatsappNumber']({'numbers':[_0x540281]}))?.['shift']()};}catch(_0x58871a){let _0x40092c=_0x1dfe14(0x3a8),_0x47eb3e=_0x58871a instanceof Error?_0x58871a['message']:typeof _0x58871a==_0x1dfe14(0x8d7)?JSON[_0x1dfe14(0x3c8)](_0x58871a):_0x58871a,_0x17ff81=_0x40092c+':\x20'+_0x47eb3e;throw this[_0x1dfe14(0x26e)][_0x1dfe14(0x4a8)](this[_0x1dfe14(0x7d8)]+'\x20('+this[_0x1dfe14(0x286)][_0x1dfe14(0x2a8)]+_0x1dfe14(0x867)+_0x17ff81),new x(_0x17ff81);}}async[a0_0x341dd0(0x4a7)](_0x8f7a36){const _0x2d51e4=a0_0x341dd0;let _0x447237=this[_0x2d51e4(0x6e5)](_0x8f7a36);try{return{'wuid':_0x447237,'status':(await this[_0x2d51e4(0x1c4)][_0x2d51e4(0x6fe)](_0x447237))[0x0]?.['status']};}catch{return{'wuid':_0x447237,'status':null};}}async[a0_0x341dd0(0x381)](_0x5b8cda){const _0x1bd274=a0_0x341dd0;try{return await this[_0x1bd274(0x1c4)]['updateProfileName'](_0x5b8cda),{'update':'success'};}catch(_0x4131c1){let _0x2bf47e=_0x1bd274(0x2c2),_0x1d6c30=_0x4131c1 instanceof Error?_0x4131c1['message']:typeof _0x4131c1==_0x1bd274(0x8d7)?JSON['stringify'](_0x4131c1):_0x4131c1,_0x5317e7=_0x2bf47e+':\x20'+_0x1d6c30;throw this['logger'][_0x1bd274(0x4a8)](this[_0x1bd274(0x7d8)]+'\x20('+this[_0x1bd274(0x286)][_0x1bd274(0x2a8)]+_0x1bd274(0x867)+_0x5317e7),new x(_0x5317e7);}}async[a0_0x341dd0(0x4f1)](_0x26964e){const _0x488357=a0_0x341dd0;try{return await this[_0x488357(0x1c4)]['updateProfileStatus'](_0x26964e),{'update':_0x488357(0x40a)};}catch(_0x36936e){let _0x36d6d3='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x255d18=_0x36936e instanceof Error?_0x36936e[_0x488357(0x450)]:typeof _0x36936e==_0x488357(0x8d7)?JSON['stringify'](_0x36936e):_0x36936e,_0x46bb91=_0x36d6d3+':\x20'+_0x255d18;throw this[_0x488357(0x26e)][_0x488357(0x4a8)](this[_0x488357(0x7d8)]+'\x20('+this['instance']['wuid']+_0x488357(0x867)+_0x46bb91),new x(_0x46bb91);}}async[a0_0x341dd0(0x649)](_0x2dd682){const _0x1d930a=a0_0x341dd0;try{let _0x907cfe;if((0x0,k['isURL'])(_0x2dd682)){let _0x13ab66=new Date()[_0x1d930a(0x5a7)](),_0x11fc51=_0x2dd682+_0x1d930a(0x1be)+_0x13ab66;_0x907cfe=(await Y['default'][_0x1d930a(0x86a)](_0x11fc51,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,k[_0x1d930a(0x467)])(_0x2dd682))_0x907cfe=Buffer[_0x1d930a(0x731)](_0x2dd682,_0x1d930a(0x366));else throw new m(_0x1d930a(0x5e9));}return await this[_0x1d930a(0x1c4)][_0x1d930a(0x649)](this[_0x1d930a(0x286)][_0x1d930a(0x2a8)],_0x907cfe),{'update':_0x1d930a(0x40a)};}catch(_0x82e9ec){let _0x1dc9a0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x273d30=_0x82e9ec instanceof Error?_0x82e9ec['message']:typeof _0x82e9ec==_0x1d930a(0x8d7)?JSON[_0x1d930a(0x3c8)](_0x82e9ec):_0x82e9ec,_0x35c647=_0x1dc9a0+':\x20'+_0x273d30;throw this[_0x1d930a(0x26e)][_0x1d930a(0x4a8)](this[_0x1d930a(0x7d8)]+'\x20('+this[_0x1d930a(0x286)]['wuid']+_0x1d930a(0x867)+_0x35c647),new x(_0x35c647);}}async[a0_0x341dd0(0x30d)](){const _0x4bb300=a0_0x341dd0;try{return await this[_0x4bb300(0x1c4)][_0x4bb300(0x30d)](this[_0x4bb300(0x286)][_0x4bb300(0x2a8)]),{'update':_0x4bb300(0x40a)};}catch(_0x1c1049){let _0x218b11=_0x4bb300(0x2ff),_0x429bb8=_0x1c1049 instanceof Error?_0x1c1049[_0x4bb300(0x450)]:typeof _0x1c1049==_0x4bb300(0x8d7)?JSON[_0x4bb300(0x3c8)](_0x1c1049):_0x1c1049,_0x346cd4=_0x218b11+':\x20'+_0x429bb8;throw this[_0x4bb300(0x26e)][_0x4bb300(0x4a8)](this[_0x4bb300(0x7d8)]+'\x20('+this[_0x4bb300(0x286)][_0x4bb300(0x2a8)]+_0x4bb300(0x867)+_0x346cd4),new x(_0x346cd4);}}async[a0_0x341dd0(0x5c0)](_0x51c297){const _0x29f6fd=a0_0x341dd0;try{let _0x576f7c=(await this[_0x29f6fd(0x3bd)]({'numbers':_0x51c297[_0x29f6fd(0x487)]}))[_0x29f6fd(0x435)](_0x3789f6=>_0x3789f6[_0x29f6fd(0x861)])[_0x29f6fd(0x486)](_0x4be02d=>_0x4be02d[_0x29f6fd(0x824)]),{id:_0x1430cb}=await this[_0x29f6fd(0x1c4)][_0x29f6fd(0x7d6)](_0x51c297[_0x29f6fd(0x6a5)],_0x576f7c);_0x51c297?.['description']&&await this[_0x29f6fd(0x1c4)][_0x29f6fd(0x228)](_0x1430cb,_0x51c297[_0x29f6fd(0x6b2)]);let _0x6ef19a=await this[_0x29f6fd(0x1c4)][_0x29f6fd(0x5db)](_0x1430cb);return _0x6ef19a[_0x29f6fd(0x791)]=[],{'metadata':_0x6ef19a};}catch(_0x48b980){let _0x57d350=_0x29f6fd(0x4ab),_0x2fc0d1=_0x48b980 instanceof Error?_0x48b980[_0x29f6fd(0x450)]:typeof _0x48b980==_0x29f6fd(0x8d7)?JSON[_0x29f6fd(0x3c8)](_0x48b980):_0x48b980,_0x57d24f=_0x57d350+':\x20'+_0x2fc0d1;throw this[_0x29f6fd(0x26e)][_0x29f6fd(0x4a8)](this[_0x29f6fd(0x7d8)]+'\x20('+this[_0x29f6fd(0x286)][_0x29f6fd(0x2a8)]+_0x29f6fd(0x867)+_0x57d24f),new x(_0x57d24f);}}async[a0_0x341dd0(0x39c)](_0x3bd81f){const _0x4d695c=a0_0x341dd0;try{if(_0x3bd81f[_0x4d695c(0x80d)]===!0x0&&await this[_0x4d695c(0x1c4)][_0x4d695c(0x8dd)](_0x3bd81f[_0x4d695c(0x209)],'locked'),_0x3bd81f[_0x4d695c(0x80d)]===!0x1&&await this[_0x4d695c(0x1c4)][_0x4d695c(0x8dd)](_0x3bd81f[_0x4d695c(0x209)],_0x4d695c(0x536)),_0x3bd81f[_0x4d695c(0x1bf)]===!0x0&&await this[_0x4d695c(0x1c4)][_0x4d695c(0x8dd)](_0x3bd81f[_0x4d695c(0x209)],_0x4d695c(0x5d9)),_0x3bd81f[_0x4d695c(0x1bf)]===!0x1&&await this[_0x4d695c(0x1c4)][_0x4d695c(0x8dd)](_0x3bd81f[_0x4d695c(0x209)],'not_announcement'),_0x3bd81f[_0x4d695c(0x74d)]===!0x0&&await this[_0x4d695c(0x1c4)][_0x4d695c(0x5c4)](_0x3bd81f[_0x4d695c(0x209)],_0x4d695c(0x841)),_0x3bd81f['memberAddMode']===!0x1&&await this[_0x4d695c(0x1c4)][_0x4d695c(0x5c4)](_0x3bd81f['groupJid'],_0x4d695c(0x365)),_0x3bd81f[_0x4d695c(0x41b)]===!0x0&&await this['client'][_0x4d695c(0x214)](_0x3bd81f[_0x4d695c(0x209)],'on'),_0x3bd81f[_0x4d695c(0x41b)]===!0x1&&await this[_0x4d695c(0x1c4)]['groupJoinApprovalMode'](_0x3bd81f[_0x4d695c(0x209)],_0x4d695c(0x635)),typeof _0x3bd81f[_0x4d695c(0x5a9)]<'u'&&_0x3bd81f[_0x4d695c(0x5a9)]!==null&&await this['client'][_0x4d695c(0x4c0)](_0x3bd81f['groupJid'],_0x3bd81f['expiration']),_0x3bd81f[_0x4d695c(0x1fa)]&&await this[_0x4d695c(0x1c4)][_0x4d695c(0x8a3)](_0x3bd81f['groupJid'],_0x3bd81f[_0x4d695c(0x1fa)]),_0x3bd81f['description']&&await this[_0x4d695c(0x1c4)]['groupUpdateDescription'](_0x3bd81f[_0x4d695c(0x209)],_0x3bd81f[_0x4d695c(0x6b2)]),_0x3bd81f['image']){let _0x201f31;if((0x0,k[_0x4d695c(0x8c4)])(_0x3bd81f['image'])){let _0xa1216d=new Date()[_0x4d695c(0x5a7)](),_0x2ac4a0=_0x3bd81f['image']+_0x4d695c(0x1be)+_0xa1216d;_0x201f31=(await Y[_0x4d695c(0x4ea)][_0x4d695c(0x86a)](_0x2ac4a0,{'responseType':_0x4d695c(0x246)}))['data'];}else{if((0x0,k[_0x4d695c(0x467)])(_0x3bd81f[_0x4d695c(0x5ed)]))_0x201f31=Buffer[_0x4d695c(0x731)](_0x3bd81f[_0x4d695c(0x5ed)],'base64');else throw new m(_0x4d695c(0x5e9));}await this[_0x4d695c(0x1c4)]['updateProfilePicture'](_0x3bd81f['groupJid'],_0x201f31);}return await this[_0x4d695c(0x2ef)]({'groupJid':_0x3bd81f[_0x4d695c(0x209)]});}catch(_0x4177dd){let _0x142f7b=_0x4d695c(0x6d2),_0x51ed13=_0x4177dd instanceof Error?_0x4177dd['message']:typeof _0x4177dd==_0x4d695c(0x8d7)?JSON['stringify'](_0x4177dd):_0x4177dd,_0x3590d0=_0x142f7b+':\x20'+_0x51ed13;throw this[_0x4d695c(0x26e)][_0x4d695c(0x4a8)](this[_0x4d695c(0x7d8)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3590d0),new x(_0x3590d0);}}async[a0_0x341dd0(0x880)](_0x11c30b){const _0x3e523f=a0_0x341dd0;try{if(_0x11c30b[_0x3e523f(0x2e7)]===_0x3e523f(0x70a)||_0x11c30b[_0x3e523f(0x2e7)]===_0x3e523f(0x781)){let _0x58a929=_0x11c30b['participants'][_0x3e523f(0x486)](_0x4a45ca=>this[_0x3e523f(0x6e5)](_0x4a45ca));await this[_0x3e523f(0x1c4)][_0x3e523f(0x2af)](_0x11c30b[_0x3e523f(0x209)],_0x58a929,_0x11c30b[_0x3e523f(0x2e7)]);}else{if(_0x11c30b[_0x3e523f(0x2e7)]===_0x3e523f(0x2f8)){let _0x3d3515=(await this['whatsappNumber']({'numbers':_0x11c30b[_0x3e523f(0x487)]}))['filter'](_0x2381fd=>_0x2381fd[_0x3e523f(0x861)])[_0x3e523f(0x486)](_0x6bab9e=>this[_0x3e523f(0x6e5)](_0x6bab9e[_0x3e523f(0x824)]));if(_0x3d3515['length']===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x3e523f(0x1c4)]['groupParticipantsUpdate'](_0x11c30b['groupJid'],_0x3d3515,_0x3e523f(0x2f8));}else{let _0x390569=_0x11c30b[_0x3e523f(0x487)][_0x3e523f(0x486)](_0x30763d=>this[_0x3e523f(0x6e5)](_0x30763d));await this[_0x3e523f(0x1c4)][_0x3e523f(0x71c)](_0x11c30b[_0x3e523f(0x209)],_0x390569,_0x11c30b['action']);}}return await this[_0x3e523f(0x2ef)]({'groupJid':_0x11c30b['groupJid']});}catch(_0x41d9fd){let _0xd811ae=_0x3e523f(0x776),_0x45b6a4=_0x41d9fd instanceof Error?_0x41d9fd[_0x3e523f(0x450)]:typeof _0x41d9fd==_0x3e523f(0x8d7)?JSON[_0x3e523f(0x3c8)](_0x41d9fd):_0x41d9fd,_0x332026=_0xd811ae+':\x20'+_0x45b6a4;throw this[_0x3e523f(0x26e)][_0x3e523f(0x4a8)](this['instanceName']+'\x20('+this['instance'][_0x3e523f(0x2a8)]+_0x3e523f(0x867)+_0x332026),new m(_0x332026);}}async[a0_0x341dd0(0x341)](_0x5ddcc1){const _0x51ecb8=a0_0x341dd0;try{return await this['client'][_0x51ecb8(0x341)](_0x5ddcc1['inviteCode']);}catch(_0xc816a7){let _0x45a090='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x27c59b=_0xc816a7 instanceof Error?_0xc816a7[_0x51ecb8(0x450)]:typeof _0xc816a7==_0x51ecb8(0x8d7)?JSON[_0x51ecb8(0x3c8)](_0xc816a7):_0xc816a7,_0x5b8002=_0x45a090+':\x20'+_0x27c59b;throw this[_0x51ecb8(0x26e)][_0x51ecb8(0x4a8)](this[_0x51ecb8(0x7d8)]+'\x20('+this[_0x51ecb8(0x286)]['wuid']+_0x51ecb8(0x867)+_0x5b8002),new m(_0x5b8002);}}async[a0_0x341dd0(0x2ef)](_0x10ae8f,_0x81bbbd=a0_0x341dd0(0x877)){const _0x588dc3=a0_0x341dd0;try{let _0x10cb94=await this[_0x588dc3(0x6d5)][_0x588dc3(0x8b3)][_0x588dc3(0x2c7)]({'where':{'_id':_0x10ae8f[_0x588dc3(0x209)]}},this[_0x588dc3(0x286)][_0x588dc3(0x2a8)]),_0x135c8e=_0x10cb94?_0x10cb94[_0x588dc3(0x8d6)]:null,_0x36ca39=0x18*0x3c*0x3c*0x3e8;if(!_0x135c8e||_0x135c8e[_0x588dc3(0x43b)]&&Date[_0x588dc3(0x20e)]()-_0x135c8e[_0x588dc3(0x43b)]>_0x36ca39){let _0x4fb0a9=await this['client'][_0x588dc3(0x5db)](_0x10ae8f[_0x588dc3(0x209)]);if(_0x4fb0a9[_0x588dc3(0x7ab)]=_0x4fb0a9?.['subjectTime']&&_0x4fb0a9[_0x588dc3(0x7ab)]['toString']()[_0x588dc3(0x65e)]<0xd?_0x4fb0a9?.[_0x588dc3(0x7ab)]*0x3e8:_0x4fb0a9?.[_0x588dc3(0x7ab)]||null,_0x4fb0a9['creation']=_0x4fb0a9?.[_0x588dc3(0x6ea)]&&_0x4fb0a9[_0x588dc3(0x6ea)][_0x588dc3(0x5a5)]()['length']<0xd?_0x4fb0a9?.[_0x588dc3(0x6ea)]*0x3e8:_0x4fb0a9?.[_0x588dc3(0x6ea)]||null,_0x135c8e={..._0x4fb0a9,'lastUpdate':Date['now']()},!_0x4fb0a9)return;}let _0x8fe818=_0x135c8e[_0x588dc3(0x487)][_0x588dc3(0x2f2)](_0x7f8acd=>_0x7f8acd['id']===this[_0x588dc3(0x286)][_0x588dc3(0x2a8)]+_0x588dc3(0x578)&&_0x7f8acd['admin']!=null);!_0x135c8e[_0x588dc3(0x270)]&&_0x8fe818&&(_0x135c8e[_0x588dc3(0x270)]=(await this[_0x588dc3(0x270)](_0x10ae8f,!0x1))[_0x588dc3(0x7b6)]);let _0x5ee54d=(!_0x135c8e[_0x588dc3(0x1bf)]||_0x8fe818)&&(!_0x135c8e[_0x588dc3(0x575)]||_0x135c8e[_0x588dc3(0x575)]&&_0x135c8e[_0x588dc3(0x280)]&&_0x8fe818);_0x135c8e[_0x588dc3(0x48c)]=_0x8fe818,_0x135c8e['canSendMessage']=_0x5ee54d;let _0xbd52e3=[];if(_0x8fe818&&_0x135c8e[_0x588dc3(0x41b)])try{_0xbd52e3=await this[_0x588dc3(0x1c4)]['groupRequestParticipantsList'](_0x10ae8f[_0x588dc3(0x209)]),_0x135c8e[_0x588dc3(0x84a)]=Date[_0x588dc3(0x20e)]();}catch(_0x62c3d5){this[_0x588dc3(0x26e)][_0x588dc3(0x769)](this[_0x588dc3(0x7d8)]+'\x20('+this[_0x588dc3(0x286)][_0x588dc3(0x2a8)]+_0x588dc3(0x68d)+_0x10ae8f[_0x588dc3(0x209)]+':\x20'+(_0x62c3d5 instanceof Error?_0x62c3d5[_0x588dc3(0x450)]:JSON[_0x588dc3(0x3c8)](_0x62c3d5,null,0x2)));}try{_0x135c8e[_0x588dc3(0x5ed)]=(await this[_0x588dc3(0x879)](_0x10ae8f[_0x588dc3(0x209)],null,!0x0))['cachedContact'][_0x588dc3(0x76a)];}catch(_0x5d7f72){this[_0x588dc3(0x26e)][_0x588dc3(0x769)](this[_0x588dc3(0x7d8)]+'\x20('+this[_0x588dc3(0x286)][_0x588dc3(0x2a8)]+_0x588dc3(0x688)+_0x10ae8f[_0x588dc3(0x209)]+':\x20'+(_0x5d7f72 instanceof Error?_0x5d7f72['message']:JSON[_0x588dc3(0x3c8)](_0x5d7f72,null,0x2)));}let _0x4216b6=_0x135c8e['participants'][_0x588dc3(0x486)](_0x149da4=>_0x149da4['id']),_0x378214=_0xbd52e3[_0x588dc3(0x486)](_0x32ed1b=>_0x32ed1b[_0x588dc3(0x824)]),_0x43f998=await this[_0x588dc3(0x6d5)][_0x588dc3(0x47b)][_0x588dc3(0x6ec)]([..._0x4216b6,..._0x378214]);_0x135c8e[_0x588dc3(0x487)]=_0x135c8e[_0x588dc3(0x487)]['map'](_0x19ffdc=>{const _0x235fed=_0x588dc3;let _0x59a90a=_0x43f998[_0x235fed(0x232)](_0x3dcaef=>_0x3dcaef[_0x235fed(0x747)]===_0x19ffdc['id']);return{'id':_0x19ffdc['id'],'isAdmin':[_0x235fed(0x73e),'superadmin']['includes'](_0x19ffdc[_0x235fed(0x73e)]),'admin':_0x19ffdc[_0x235fed(0x73e)],'pushName':_0x59a90a?.['name'],'profilePictureUrl':_0x59a90a?.[_0x235fed(0x76a)]};}),_0x135c8e[_0x588dc3(0x791)]=_0xbd52e3[_0x588dc3(0x486)](_0x3eb3f1=>{const _0x1a5f51=_0x588dc3;let _0x3d5d22=_0x43f998['find'](_0x26cec3=>_0x26cec3[_0x1a5f51(0x747)]===_0x3eb3f1[_0x1a5f51(0x824)]);return{'id':_0x3eb3f1[_0x1a5f51(0x824)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x3d5d22?.[_0x1a5f51(0x1fa)],'profilePictureUrl':_0x3d5d22?.['pictureUrl'],'request_method':_0x3eb3f1['request_method'],'request_time':_0x3eb3f1[_0x1a5f51(0x8d9)]};});let _0x305d0f=await this[_0x588dc3(0x6d5)][_0x588dc3(0x8b3)][_0x588dc3(0x331)]({'where':{'_id':_0x10ae8f[_0x588dc3(0x209)]}},{'imagechat':_0x135c8e[_0x588dc3(0x5ed)],'name':_0x135c8e[_0x588dc3(0x6a5)],'lastcache':Date['now'](),'groupdata':_0x135c8e},this[_0x588dc3(0x286)]['wuid']);return J(this[_0x588dc3(0x7d8)],_0x588dc3(0x374),{'chat':_0x305d0f}),{'metadata':_0x135c8e};}catch(_0x4da9f9){if(_0x81bbbd===_0x588dc3(0x809))return;throw new j(_0x588dc3(0x631),_0x4da9f9[_0x588dc3(0x450)][_0x588dc3(0x5a5)]());}}async[a0_0x341dd0(0x344)](){const _0x3a127b=a0_0x341dd0;try{this[_0x3a127b(0x26e)][_0x3a127b(0x2d3)](_0x3a127b(0x887));let _0x24a303=Date[_0x3a127b(0x20e)](),_0x37d444=0x3*0x3c*0x3c*0x3e8;return _0x24a303-this['lastRealGroupsFetch']>_0x37d444&&(this[_0x3a127b(0x263)](),this[_0x3a127b(0x692)]=_0x24a303),(await this[_0x3a127b(0x6d5)][_0x3a127b(0x8b3)]['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x3a127b(0x286)][_0x3a127b(0x2a8)]))[_0x3a127b(0x486)](_0x587e84=>({..._0x587e84[_0x3a127b(0x8d6)],'groupJid':_0x587e84?.[_0x3a127b(0x747)],'participants':_0x587e84?.['groupdata']?.['participants']||[],'awaitingApproval':_0x587e84?.[_0x3a127b(0x8d6)]?.[_0x3a127b(0x791)]||[],'image':_0x587e84?.['imagechat']}));}catch(_0x3c4a){let _0x438009=_0x3a127b(0x70b),_0x2bc64f=_0x3c4a instanceof Error?_0x3c4a[_0x3a127b(0x450)]:typeof _0x3c4a=='object'?JSON['stringify'](_0x3c4a):_0x3c4a,_0x54fc95=_0x438009+':\x20'+_0x2bc64f;throw this['logger'][_0x3a127b(0x4a8)](this[_0x3a127b(0x7d8)]+'\x20('+this['instance'][_0x3a127b(0x2a8)]+_0x3a127b(0x867)+_0x54fc95),new j(_0x54fc95);}}async[a0_0x341dd0(0x263)](){const _0x2ee573=a0_0x341dd0;try{this['logger'][_0x2ee573(0x2d3)]('Retornando\x20grupos\x20SEM\x20cache');let _0x3e3cf2=[],_0x2ae9b9=await this[_0x2ee573(0x1c4)][_0x2ee573(0x680)](),_0x36b9c9=Object['values'](_0x2ae9b9),_0x17f15a=_0x36b9c9[_0x2ee573(0x435)](_0x36c05d=>(0x0,w[_0x2ee573(0x8ba)])(_0x36c05d?.['id']))[_0x2ee573(0x486)](async _0x2746c3=>{const _0x596fe8=_0x2ee573;try{return await this[_0x596fe8(0x1c4)]['profilePictureUrl'](_0x2746c3['id'],'preview');}catch(_0x193c8a){return this[_0x596fe8(0x26e)][_0x596fe8(0x769)](this[_0x596fe8(0x7d8)]+'\x20('+this[_0x596fe8(0x286)][_0x596fe8(0x2a8)]+_0x596fe8(0x688)+_0x2746c3['id']+':\x20'+(_0x193c8a instanceof Error?_0x193c8a[_0x596fe8(0x450)]:JSON['stringify'](_0x193c8a,null,0x2))),null;}}),_0x15c3ca=await Promise[_0x2ee573(0x3ef)](_0x17f15a);for(let _0x4fcd62=0x0;_0x4fcd62<_0x36b9c9[_0x2ee573(0x65e)];_0x4fcd62++){let _0x149e7f=_0x36b9c9[_0x4fcd62];(0x0,w[_0x2ee573(0x8ba)])(_0x149e7f?.['id'])&&(_0x3e3cf2[_0x2ee573(0x452)]({'groupJid':_0x149e7f?.['id'],'subject':_0x149e7f?.[_0x2ee573(0x6a5)],'subjectOwner':_0x149e7f?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x149e7f?.[_0x2ee573(0x7ab)],'creation':_0x149e7f?.['creation'],'size':_0x149e7f?.[_0x2ee573(0x487)]?.['length'],'owner':_0x149e7f?.[_0x2ee573(0x3f2)]?.[_0x2ee573(0x518)]('@')[0x0],'desc':_0x149e7f?.['desc'],'restrict':_0x149e7f?.[_0x2ee573(0x80d)],'announce':_0x149e7f?.['announce'],'image':_0x15c3ca[_0x4fcd62],'isCommunity':_0x149e7f?.[_0x2ee573(0x575)],'joinApprovalMode':_0x149e7f?.['joinApprovalMode'],'memberCanAddParticipant':_0x149e7f?.[_0x2ee573(0x74d)],'participants':_0x149e7f?.[_0x2ee573(0x487)],'descOwner':_0x149e7f?.['descOwner'],'descId':_0x149e7f?.[_0x2ee573(0x8cd)],'memberAddMode':_0x149e7f?.[_0x2ee573(0x74d)],'isCommunityAnnounce':_0x149e7f?.['isCommunityAnnounce'],'ephemeralDuration':_0x149e7f?.[_0x2ee573(0x1ee)]||0x0,'author':_0x149e7f?.[_0x2ee573(0x717)]}),this['updateChatGroupData'](_0x36b9c9[_0x4fcd62]));}return _0x3e3cf2;}catch(_0x9fbcb9){let _0x2f61bf=_0x2ee573(0x77a),_0x2c55c3=_0x9fbcb9 instanceof Error?_0x9fbcb9['message']:typeof _0x9fbcb9==_0x2ee573(0x8d7)?JSON['stringify'](_0x9fbcb9):_0x9fbcb9,_0x2e9e1e=_0x2f61bf+':\x20'+_0x2c55c3;throw this[_0x2ee573(0x26e)]['error'](this[_0x2ee573(0x7d8)]+'\x20('+this[_0x2ee573(0x286)][_0x2ee573(0x2a8)]+_0x2ee573(0x867)+_0x2e9e1e),new j(_0x2e9e1e);}}async['updateChatGroupData'](_0xc64ca6){const _0x1143bc=a0_0x341dd0;let _0x404373=await this['repository'][_0x1143bc(0x8b3)][_0x1143bc(0x2c7)]({'where':{'_id':_0xc64ca6['id']}},this[_0x1143bc(0x286)][_0x1143bc(0x2a8)]);_0xc64ca6[_0x1143bc(0x7ab)]=_0xc64ca6?.[_0x1143bc(0x7ab)]&&_0xc64ca6['subjectTime'][_0x1143bc(0x5a5)]()[_0x1143bc(0x65e)]<0xd?_0xc64ca6?.[_0x1143bc(0x7ab)]*0x3e8:_0xc64ca6?.[_0x1143bc(0x7ab)]||null,_0xc64ca6[_0x1143bc(0x6ea)]=_0xc64ca6?.[_0x1143bc(0x6ea)]&&_0xc64ca6[_0x1143bc(0x6ea)][_0x1143bc(0x5a5)]()[_0x1143bc(0x65e)]<0xd?_0xc64ca6?.['creation']*0x3e8:_0xc64ca6?.[_0x1143bc(0x6ea)]||null;let _0x4d4829=_0x404373?.['groupdata']?.[_0x1143bc(0x791)]||[],_0x2607cb=_0x404373?.[_0x1143bc(0x8d6)]?.[_0x1143bc(0x84a)],_0xf1f54=_0xc64ca6[_0x1143bc(0x487)]['map'](_0x216d83=>{const _0x2faf71=_0x1143bc;let _0x1b1ed3=_0x404373?.[_0x2faf71(0x8d6)]?.[_0x2faf71(0x487)]['find'](_0x26f940=>_0x26f940['id']===_0x216d83['id']);return{..._0x216d83,'isAdmin':[_0x2faf71(0x73e),_0x2faf71(0x743)][_0x2faf71(0x23d)](_0x216d83[_0x2faf71(0x73e)]),'admin':_0x216d83['admin'],'name':_0x1b1ed3?.[_0x2faf71(0x1fa)]||_0x216d83[_0x2faf71(0x1fa)],'imgUrl':_0x1b1ed3?.[_0x2faf71(0x2ca)]||_0x216d83['imgUrl']};}),_0x54ef2a=_0xf1f54[_0x1143bc(0x2f2)](_0x5a228b=>_0x5a228b['id']===this[_0x1143bc(0x286)]['wuid']+'@s.whatsapp.net'&&_0x5a228b[_0x1143bc(0x48c)]),_0x22ea5f=(!_0xc64ca6[_0x1143bc(0x1bf)]||_0x54ef2a)&&(!_0xc64ca6[_0x1143bc(0x575)]||_0xc64ca6['isCommunity']&&_0xc64ca6[_0x1143bc(0x280)]&&_0x54ef2a),_0x2a0bfb={..._0xc64ca6,'participants':_0xf1f54,'awaitingApproval':_0x4d4829,'lastFetchAwaitingApproval':_0x2607cb,'isAdmin':_0x54ef2a,'canSendMessage':_0x22ea5f,'lastUpdate':Date[_0x1143bc(0x20e)]()};await this[_0x1143bc(0x6d5)][_0x1143bc(0x8b3)]['updateOne']({'where':{'_id':_0xc64ca6['id']}},{'name':_0xc64ca6[_0x1143bc(0x6a5)],'group':!0x0,'groupdata':_0x2a0bfb,'lastcache':Date[_0x1143bc(0x20e)]()},this[_0x1143bc(0x286)][_0x1143bc(0x2a8)]),J(this['instanceName'],_0x1143bc(0x374),{'chat':_0xc64ca6});}async[a0_0x341dd0(0x37e)](_0x4008a5){const _0xb0b850=a0_0x341dd0;let _0x404ff7=await this[_0xb0b850(0x6d5)]['chat'][_0xb0b850(0x2c7)]({'where':{'_id':_0x4008a5['id']}},this[_0xb0b850(0x286)][_0xb0b850(0x2a8)]);_0x4008a5['subjectTime']=_0x4008a5?.[_0xb0b850(0x7ab)]&&_0x4008a5[_0xb0b850(0x7ab)]['toString']()[_0xb0b850(0x65e)]<0xd?_0x4008a5?.[_0xb0b850(0x7ab)]*0x3e8:_0x4008a5?.['subjectTime']||null,_0x4008a5[_0xb0b850(0x6ea)]=_0x4008a5?.['creation']&&_0x4008a5['creation'][_0xb0b850(0x5a5)]()[_0xb0b850(0x65e)]<0xd?_0x4008a5?.[_0xb0b850(0x6ea)]*0x3e8:_0x4008a5?.[_0xb0b850(0x6ea)]||null,_0x4008a5[_0xb0b850(0x270)]&&(_0x4008a5[_0xb0b850(0x270)]=_0xb0b850(0x55f)+_0x4008a5[_0xb0b850(0x270)]);let _0x36a93e=_0x404ff7?.['groupdata']?{..._0x404ff7[_0xb0b850(0x8d6)]}:{};Object[_0xb0b850(0x866)](_0x4008a5)['forEach'](_0x460428=>{_0x460428!=='id'&&(_0x36a93e[_0x460428]=_0x4008a5[_0x460428]);});let _0x2748a4=_0x36a93e[_0xb0b850(0x487)]?.[_0xb0b850(0x2f2)](_0x2a5d6d=>_0x2a5d6d['id']===this['instance'][_0xb0b850(0x2a8)]+_0xb0b850(0x578)&&_0x2a5d6d['isAdmin'])||!0x1;_0x36a93e['isAdmin']=_0x2748a4;let _0x299af7=(!_0x36a93e[_0xb0b850(0x1bf)]||_0x2748a4)&&(!_0x36a93e[_0xb0b850(0x575)]||_0x36a93e[_0xb0b850(0x575)]&&_0x36a93e[_0xb0b850(0x280)]&&_0x2748a4);_0x36a93e[_0xb0b850(0x37d)]=_0x299af7;let _0xd6ee7c={'group':!0x0,'groupdata':_0x36a93e};_0x4008a5[_0xb0b850(0x6a5)]&&(_0xd6ee7c['name']=_0x4008a5[_0xb0b850(0x6a5)]),await this[_0xb0b850(0x6d5)]['chat'][_0xb0b850(0x331)]({'where':{'_id':_0x4008a5['id']}},_0xd6ee7c,this[_0xb0b850(0x286)][_0xb0b850(0x2a8)],{'upsert':!0x0}),J(this[_0xb0b850(0x7d8)],_0xb0b850(0x374),{'chat':_0xd6ee7c});}async[a0_0x341dd0(0x235)](_0x35bd0b){const _0x1f0e66=a0_0x341dd0;let _0xb41d68=await this[_0x1f0e66(0x6d5)][_0x1f0e66(0x8b3)][_0x1f0e66(0x2c7)]({'where':{'_id':_0x35bd0b['id']}},this[_0x1f0e66(0x286)]['wuid']);if(!_0xb41d68||!_0xb41d68[_0x1f0e66(0x8d6)]){this[_0x1f0e66(0x26e)][_0x1f0e66(0x2d3)](this[_0x1f0e66(0x7d8)]+'\x20('+this[_0x1f0e66(0x286)][_0x1f0e66(0x2a8)]+_0x1f0e66(0x495)+_0x35bd0b['id']);return;}let _0x52a08e=await this[_0x1f0e66(0x6d5)][_0x1f0e66(0x47b)][_0x1f0e66(0x6ec)](_0x35bd0b['participants']),_0x53a74b=[..._0xb41d68[_0x1f0e66(0x8d6)]?.['participants']];switch(_0x35bd0b[_0x1f0e66(0x2e7)]){case _0x1f0e66(0x2f8):let _0x259c95=_0x52a08e['map'](_0x5e949f=>({'id':_0x5e949f['_id'],'isAdmin':!0x1,'name':_0x5e949f['name'],'imgUrl':_0x5e949f[_0x1f0e66(0x76a)]}));_0x53a74b=[..._0x53a74b,..._0x259c95];break;case _0x1f0e66(0x819):_0x53a74b=_0x53a74b[_0x1f0e66(0x435)](_0x4d8ecb=>!_0x35bd0b['participants'][_0x1f0e66(0x23d)](_0x4d8ecb['id']));break;case _0x1f0e66(0x49c):case _0x1f0e66(0x343):_0x53a74b=_0x53a74b['map'](_0x5cb942=>_0x35bd0b[_0x1f0e66(0x487)][_0x1f0e66(0x23d)](_0x5cb942['id'])?{..._0x5cb942,'isAdmin':_0x35bd0b[_0x1f0e66(0x2e7)]===_0x1f0e66(0x49c)}:_0x5cb942);break;}let _0xd78aea=_0x53a74b[_0x1f0e66(0x65e)],_0x1160c0=_0x53a74b[_0x1f0e66(0x2f2)](_0x7129=>_0x7129['id']===this[_0x1f0e66(0x286)][_0x1f0e66(0x2a8)]+_0x1f0e66(0x578)),_0x5a78e3=_0x1160c0&&_0x53a74b['some'](_0x398ff7=>_0x398ff7['id']===this[_0x1f0e66(0x286)]['wuid']+_0x1f0e66(0x578)&&_0x398ff7['isAdmin']),_0x2c2270=_0x1160c0&&(!_0xb41d68['groupdata'][_0x1f0e66(0x1bf)]||_0x5a78e3)&&(!_0xb41d68[_0x1f0e66(0x8d6)][_0x1f0e66(0x575)]||_0xb41d68[_0x1f0e66(0x8d6)]['isCommunity']&&_0x5a78e3);await this[_0x1f0e66(0x6d5)]['chat']['updateOne']({'where':{'_id':_0x35bd0b['id']}},{'groupdata':{..._0xb41d68['groupdata'],'participants':_0x53a74b,'size':_0xd78aea,'isAdmin':_0x5a78e3,'canSendMessage':_0x2c2270}},this['instance'][_0x1f0e66(0x2a8)]),this[_0x1f0e66(0x26e)][_0x1f0e66(0x2d3)](this[_0x1f0e66(0x7d8)]+'\x20('+this[_0x1f0e66(0x286)][_0x1f0e66(0x2a8)]+_0x1f0e66(0x79a)+_0x35bd0b['id']+_0x1f0e66(0x3d4)+_0x35bd0b[_0x1f0e66(0x2e7)]+_0x1f0e66(0x5dd)+_0xd78aea+_0x1f0e66(0x390)+_0x5a78e3+_0x1f0e66(0x745)+_0x2c2270);}async[a0_0x341dd0(0x270)](_0x20a533,_0x1db939=!0x0){const _0x23588c=a0_0x341dd0;try{let _0x2a2230=await this['client'][_0x23588c(0x80b)](_0x20a533[_0x23588c(0x209)]),_0x346587={'groupdata.inviteCode':_0x23588c(0x55f)+_0x2a2230};if(_0x1db939){let _0x46d84a=await this['repository']['chat']['updateOne']({'where':{'_id':_0x20a533[_0x23588c(0x209)]}},_0x346587,this[_0x23588c(0x286)][_0x23588c(0x2a8)]);}return{'inviteUrl':_0x23588c(0x55f)+_0x2a2230,'inviteCode':_0x2a2230};}catch(_0x468199){let _0x1874c2=_0x23588c(0x312),_0x3b83f3=_0x468199 instanceof Error?_0x468199[_0x23588c(0x450)]:typeof _0x468199==_0x23588c(0x8d7)?JSON['stringify'](_0x468199):_0x468199,_0x32e48f=_0x1874c2+':\x20'+_0x3b83f3;throw this[_0x23588c(0x26e)][_0x23588c(0x4a8)](this[_0x23588c(0x7d8)]+'\x20('+this[_0x23588c(0x286)]['wuid']+_0x23588c(0x867)+_0x32e48f),new j(_0x32e48f);}}async[a0_0x341dd0(0x75b)](_0x341b35){const _0x3161ff=a0_0x341dd0;try{let _0x281803=await this[_0x3161ff(0x1c4)][_0x3161ff(0x3d8)](_0x341b35['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x3161ff(0x55f)+_0x281803,'inviteCode':_0x281803};}catch(_0x34cc3e){let _0x238763='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x52e2e6=_0x34cc3e instanceof Error?_0x34cc3e[_0x3161ff(0x450)]:typeof _0x34cc3e=='object'?JSON['stringify'](_0x34cc3e):_0x34cc3e,_0x54f54f=_0x238763+':\x20'+_0x52e2e6;throw this[_0x3161ff(0x26e)][_0x3161ff(0x4a8)](this[_0x3161ff(0x7d8)]+'\x20('+this[_0x3161ff(0x286)]['wuid']+_0x3161ff(0x867)+_0x54f54f),new j(_0x54f54f);}}async['joinGroup'](_0x1e6d87){const _0x3eee13=a0_0x341dd0;try{if((0x0,k[_0x3eee13(0x8c4)])(_0x1e6d87['inviteCode']))var _0xb87095=_0x1e6d87[_0x3eee13(0x270)][_0x3eee13(0x518)]('/')[0x3];else var _0xb87095=_0x1e6d87['inviteCode'];let _0x1477b2=await this[_0x3eee13(0x1c4)][_0x3eee13(0x27c)](_0xb87095);return this[_0x3eee13(0x26e)][_0x3eee13(0x769)](this[_0x3eee13(0x7d8)]+'\x20('+this['instance'][_0x3eee13(0x2a8)]+_0x3eee13(0x867)+_0x1477b2),{'join':!0x0,'inviteCode':_0xb87095,'groupJid':_0x1477b2};}catch(_0x229ddc){let _0x461416='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x1461de=_0x229ddc instanceof Error?_0x229ddc[_0x3eee13(0x450)]:typeof _0x229ddc=='object'?JSON['stringify'](_0x229ddc):_0x229ddc,_0x390d59=_0x461416+':\x20'+_0x1461de;throw this[_0x3eee13(0x26e)][_0x3eee13(0x4a8)](this[_0x3eee13(0x7d8)]+'\x20('+this[_0x3eee13(0x286)]['wuid']+'):\x20'+_0x390d59),new j(_0x390d59);}}async['findParticipants'](_0xe1d1a3){const _0x80c9c5=a0_0x341dd0;try{return{'participants':(await this[_0x80c9c5(0x6d5)]['chat'][_0x80c9c5(0x2c7)]({'where':{'_id':_0xe1d1a3[_0x80c9c5(0x209)]}},this[_0x80c9c5(0x286)][_0x80c9c5(0x2a8)]))[_0x80c9c5(0x8d6)][_0x80c9c5(0x487)]};}catch(_0xf9f4d){let _0x1c2cbe=_0x80c9c5(0x612),_0x5ad5f2=_0xf9f4d instanceof Error?_0xf9f4d[_0x80c9c5(0x450)]:typeof _0xf9f4d=='object'?JSON[_0x80c9c5(0x3c8)](_0xf9f4d):_0xf9f4d,_0x1c60c9=_0x1c2cbe+':\x20'+_0x5ad5f2;throw this[_0x80c9c5(0x26e)][_0x80c9c5(0x4a8)](this['instanceName']+'\x20('+this[_0x80c9c5(0x286)][_0x80c9c5(0x2a8)]+'):\x20'+_0x1c60c9),new j(_0x1c60c9);}}async[a0_0x341dd0(0x30f)](_0x32673b){const _0x3a596e=a0_0x341dd0;try{return await this['client'][_0x3a596e(0x336)](_0x32673b[_0x3a596e(0x209)]),{'groupJid':_0x32673b[_0x3a596e(0x209)],'leave':!0x0};}catch(_0x550e78){let _0x5df458=_0x3a596e(0x4ca),_0xd9fa4=_0x550e78 instanceof Error?_0x550e78[_0x3a596e(0x450)]:typeof _0x550e78==_0x3a596e(0x8d7)?JSON[_0x3a596e(0x3c8)](_0x550e78):_0x550e78,_0x8794c4=_0x5df458+':\x20'+_0xd9fa4;throw this['logger'][_0x3a596e(0x4a8)](this[_0x3a596e(0x7d8)]+'\x20('+this[_0x3a596e(0x286)][_0x3a596e(0x2a8)]+_0x3a596e(0x867)+_0x8794c4),new m(_0x8794c4);}}async[a0_0x341dd0(0x528)](_0x18a0c4){const _0x489d39=a0_0x341dd0;return await this['sendMessageWithTyping'](_0x18a0c4['number'],{'poll':{'name':_0x18a0c4[_0x489d39(0x528)]?.[_0x489d39(0x1fa)],'selectableCount':_0x18a0c4[_0x489d39(0x528)]['selectableCount'],'values':_0x18a0c4[_0x489d39(0x528)][_0x489d39(0x546)]}},_0x18a0c4?.[_0x489d39(0x874)]);}async[a0_0x341dd0(0x498)](_0x5cc9b0){const _0x372f76=a0_0x341dd0;return await this[_0x372f76(0x85e)](_0x5cc9b0[_0x372f76(0x714)],{'listMessage':{'title':_0x5cc9b0[_0x372f76(0x498)]['title'],'description':_0x5cc9b0[_0x372f76(0x498)][_0x372f76(0x6b2)],'buttonText':_0x5cc9b0[_0x372f76(0x498)]?.[_0x372f76(0x44e)],'footerText':_0x5cc9b0[_0x372f76(0x498)]?.[_0x372f76(0x459)],'sections':_0x5cc9b0[_0x372f76(0x498)]['sections'],'listType':0x2}},_0x5cc9b0?.[_0x372f76(0x874)]);}async['menuMessage'](_0x24812c){const _0x5c13a1=a0_0x341dd0;let _0x2bc551;if(_0x24812c['menuMessage']['type']===_0x5c13a1(0x6d6)){let _0x616da1=_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x7e2)][_0x5c13a1(0x576)]('\x0a'),_0x1ce385='',_0x2a3f26='';_0x616da1!==-0x1?(_0x1ce385=_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x7e2)][_0x5c13a1(0x6ab)](0x0,_0x616da1)[_0x5c13a1(0x788)](),_0x2a3f26=_0x24812c['menuMessage'][_0x5c13a1(0x7e2)][_0x5c13a1(0x6ab)](_0x616da1+0x1)):_0x2a3f26=_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x7e2)];let _0x2eb858=_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x586)][_0x5c13a1(0x435)](_0xbeb9c9=>_0xbeb9c9[_0x5c13a1(0x788)]()!==''),_0x57b305=this['createSectionsFromValues'](_0x2eb858);_0x2bc551={'listMessage':{'title':_0x1ce385,'description':_0x2a3f26,'buttonText':_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x44e)]||_0x5c13a1(0x283),'footerText':_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x459)],'sections':_0x57b305,'listType':0x2}};}else{if(_0x24812c[_0x5c13a1(0x4c9)]['type']===_0x5c13a1(0x31e)){let _0x5c2be5=_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x586)]['filter'](_0x3aa942=>!(_0x3aa942[_0x5c13a1(0x7ea)]('[')&&_0x3aa942[_0x5c13a1(0x647)](']'))&&_0x3aa942[_0x5c13a1(0x788)]()!=='')[_0x5c13a1(0x486)](_0x446ff8=>_0x446ff8['split']('\x0a')[0x0]);_0x2bc551={'poll':{'name':_0x24812c[_0x5c13a1(0x4c9)][_0x5c13a1(0x7e2)],'selectableCount':_0x24812c[_0x5c13a1(0x4c9)]['selectableCount']||0x1,'values':_0x5c2be5}};}}return await this[_0x5c13a1(0x85e)](_0x24812c[_0x5c13a1(0x714)],_0x2bc551,_0x24812c?.[_0x5c13a1(0x874)]);}[a0_0x341dd0(0x393)](_0x3c0c32){const _0x323fef=a0_0x341dd0;let _0x2caa61=[],_0x1e05bd={'rows':[]};return _0x3c0c32[_0x323fef(0x8b4)](_0x26d2af=>{const _0x44f76d=_0x323fef;if(_0x26d2af['startsWith']('[')&&_0x26d2af[_0x44f76d(0x647)](']'))_0x1e05bd[_0x44f76d(0x871)][_0x44f76d(0x65e)]>0x0&&_0x2caa61[_0x44f76d(0x452)](_0x1e05bd),_0x1e05bd={'title':_0x26d2af[_0x44f76d(0x53f)](0x1,-0x1),'rows':[]};else{let _0x48a122=_0x26d2af[_0x44f76d(0x518)]('\x0a')[_0x44f76d(0x486)](_0x2d32c5=>_0x2d32c5['trim']()),_0x3028b4=_0x48a122[0x0],_0x1cc7e7=_0x48a122[0x1]||null,_0x584c56=_0x48a122[0x2]||_0x3028b4;_0x1e05bd['rows'][_0x44f76d(0x452)]({'title':_0x3028b4,'description':_0x1cc7e7,'rowId':_0x584c56});}}),_0x1e05bd[_0x323fef(0x871)][_0x323fef(0x65e)]>0x0&&_0x2caa61['push'](_0x1e05bd),_0x2caa61;}async[a0_0x341dd0(0x37a)](_0x430178,_0x391c07){const _0x4b3f64=a0_0x341dd0;if(await this[_0x4b3f64(0x5a2)](_0x430178,!0x0)){let _0x170fb2={'where':{'_id':_0x430178['id']}},_0xb51aac={'status':[_0x391c07['status']][0x0]};try{let _0x431c24=await this['repository'][_0x4b3f64(0x450)][_0x4b3f64(0x85c)](_0x170fb2,_0xb51aac,this[_0x4b3f64(0x286)][_0x4b3f64(0x2a8)]);_0x431c24&&J(this[_0x4b3f64(0x7d8)],_0x4b3f64(0x56a),{'message':_0x431c24});}catch{}}}[a0_0x341dd0(0x3b3)](_0x14afe9){const _0x150a6f=a0_0x341dd0;let _0x1ba859=[];return _0x14afe9['forEach'](_0x5116f6=>{const _0x12f51f=a0_0x5184;_0x5116f6[_0x12f51f(0x1ac)]&&_0x1ba859[_0x12f51f(0x452)]('['+_0x5116f6['title']+']'),_0x5116f6['rows'][_0x12f51f(0x8b4)](_0x1a764f=>{const _0x1c81a4=_0x12f51f;_0x1ba859[_0x1c81a4(0x452)](_0x1a764f[_0x1c81a4(0x1ac)]);});}),_0x1ba859[_0x150a6f(0x421)]('|');}['formatVCard'](_0x483bff){const _0x4eb494=a0_0x341dd0;let _0x1ddf82=_0x483bff['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x4eb494(0x435)](_0x5aa0d8=>_0x5aa0d8['includes']('TEL')||_0x5aa0d8[_0x4eb494(0x23d)](_0x4eb494(0x2fd))),_0x30cec1='';return _0x1ddf82[_0x4eb494(0x8b4)](_0x4a9659=>{const _0x19dd39=_0x4eb494;let _0x2c5bb6=/TEL(?:.*):(.+)/,_0x361131=/EMAIL(?:.*):(.+)/,_0x16c875=_0x4a9659['match'](_0x2c5bb6),_0xe24205=_0x4a9659[_0x19dd39(0x61a)](_0x361131);if(_0x16c875){let _0x37d53d=_0x16c875[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x19dd39(0x788)]();_0x30cec1+=_0x19dd39(0x5b9)+_0x37d53d+'\x0a';}else{if(_0xe24205){let _0x21da4b=_0xe24205[0x1]['trim']();_0x30cec1+=_0x19dd39(0x41d)+_0x21da4b+'\x0a';}}}),_0x30cec1['trim']();}async[a0_0x341dd0(0x7b3)](_0x5386a7,_0x2d7666,_0x12d27e,_0x1fa45f=null){const _0x3c4caa=a0_0x341dd0;if(_0x5386a7[_0x3c4caa(0x225)])try{let _0x2b30d7=_0x2d7666[_0x3c4caa(0x43a)]['remoteJid'][_0x3c4caa(0x589)](/:\d{1,2}@/g,'@'),_0x38452a=_0x2d7666[_0x3c4caa(0x43a)][_0x3c4caa(0x2e1)],_0x3fc977=_0x2b30d7[_0x3c4caa(0x647)](_0x3c4caa(0x54c)),_0x595473=_0x2d7666['participant']?.[_0x3c4caa(0x589)](/:\d{1,2}@/g,'@')||'',_0x4740bf=_0x2d7666[_0x3c4caa(0x663)]?.[_0x3c4caa(0x7e2)]||_0x2d7666[_0x3c4caa(0x663)]?.[_0x3c4caa(0x81f)]||_0x2d7666[_0x3c4caa(0x663)]?.[_0x3c4caa(0x7a8)]||_0x2d7666[_0x3c4caa(0x663)]?.[_0x3c4caa(0x1fa)]||'',_0xedaa8b={'_id':_0x2d7666[_0x3c4caa(0x747)],'remoteJid':_0x38452a?this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)]:_0x3fc977?_0x595473:_0x2b30d7,'pushName':_0x38452a?this[_0x3c4caa(0x286)]['profileName']||'Eu':_0x2d7666['pushName'],'text':_0x4740bf,'type':_0x2d7666[_0x3c4caa(0x817)],'when':_0x2d7666[_0x3c4caa(0x8fd)]||Date['now']()};_0x1fa45f||(_0x1fa45f=await this[_0x3c4caa(0x6d5)][_0x3c4caa(0x8b3)][_0x3c4caa(0x2c7)]({'where':{'_id':_0x2b30d7}},this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)]));let _0x469426=_0x1fa45f?_0x38452a?_0x1fa45f['unreadcount']:(_0x1fa45f[_0x3c4caa(0x8ec)]||0x0)+0x1:_0x38452a?0x0:0x1,_0x47cb41={'lastmsg':_0x2d7666['messageTimestamp']||Date[_0x3c4caa(0x20e)](),'ephemeralExpiration':_0x2d7666[_0x3c4caa(0x5a9)],'lastMessage':_0xedaa8b,'unreadcount':_0x469426,..._0x38452a||_0x3fc977?{}:{'name':_0x2d7666[_0x3c4caa(0x1e1)]},..._0x3fc977?{'group':_0x3fc977}:{},...!_0x38452a&&!_0x3fc977&&_0x2d7666[_0x3c4caa(0x378)]?{'imagechat':_0x2d7666[_0x3c4caa(0x378)]}:{}};if(!_0x3fc977&&(!_0x1fa45f?.[_0x3c4caa(0x43e)]||!_0x1fa45f['leadInfo'][_0x3c4caa(0x40c)])&&_0x2d7666['pushName']&&!_0x38452a&&(_0x47cb41={..._0x47cb41,'leadInfo.nome':_0x2d7666['pushName']}),_0x1fa45f?.[_0x3c4caa(0x43e)][_0x3c4caa(0x710)]||(_0x47cb41={..._0x47cb41,'leadInfo.etiquetas':[]}),_0x1fa45f?.[_0x3c4caa(0x43e)]['customFields']||(_0x47cb41={..._0x47cb41,'leadInfo.customFields':[]}),_0x1fa45f?.[_0x3c4caa(0x43e)][_0x3c4caa(0x690)]||(_0x47cb41={..._0x47cb41,'leadInfo.tags':[]}),_0x1fa45f&&_0x1fa45f?.[_0x3c4caa(0x1fd)]){let _0x5eb4be=await this[_0x3c4caa(0x6d5)][_0x3c4caa(0x33f)][_0x3c4caa(0x232)]({'where':{}},this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)]),_0x77dd50=new Set(_0x5eb4be[_0x3c4caa(0x486)](_0x456b88=>_0x456b88['_id'])),_0x7bfd5b=(_0x1fa45f[_0x3c4caa(0x43e)]?.['etiquetas']||[])[_0x3c4caa(0x435)](_0x3ac0ef=>_0x77dd50['has'](_0x3ac0ef));_0x47cb41={..._0x47cb41,'imported':!0x1,'leadInfo.etiquetas':_0x7bfd5b};for(let _0x345d65 of _0x7bfd5b)await this[_0x3c4caa(0x757)](_0x345d65,_0x2b30d7);}if(!this[_0x3c4caa(0x2d9)][_0x3c4caa(0x520)][_0x3c4caa(0x232)](_0x5516ac=>_0x5516ac['startCommand']&&_0x4740bf[_0x3c4caa(0x23d)](_0x5516ac[_0x3c4caa(0x884)]))&&_0x12d27e==='MESSAGES_UPSERT'&&_0x38452a&&this[_0x3c4caa(0x2d9)]?.[_0x3c4caa(0x676)][_0x3c4caa(0x7be)]&&_0x4740bf[_0x3c4caa(0x788)]()!==this['AutomateSystem']?.[_0x3c4caa(0x676)][_0x3c4caa(0x668)]['trim']()){let _0x2eecdc=(this[_0x3c4caa(0x2d9)]?.[_0x3c4caa(0x676)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x3a2059=Date['now']()+_0x2eecdc;_0x1fa45f?.[_0x3c4caa(0x43e)]?.['desativadoFluxoAte']===0x0||(_0x47cb41={..._0x47cb41,'leadInfo.desativadoFluxoAte':_0x3a2059},this[_0x3c4caa(0x26e)][_0x3c4caa(0x769)](this[_0x3c4caa(0x7d8)]+'\x20('+this[_0x3c4caa(0x286)]['wuid']+_0x3c4caa(0x5bb)+_0x3a2059+'.'));}if(_0x4740bf['trim']()===this[_0x3c4caa(0x2d9)]?.[_0x3c4caa(0x676)]['stopConversation'][_0x3c4caa(0x788)]()){this[_0x3c4caa(0x26e)][_0x3c4caa(0x769)](this['instanceName']+'\x20('+this['instance'][_0x3c4caa(0x2a8)]+_0x3c4caa(0x4e6)+_0x4740bf);let _0x28bd75=Date[_0x3c4caa(0x20e)]();this[_0x3c4caa(0x2d9)]?.[_0x3c4caa(0x676)][_0x3c4caa(0x541)]===0x0?_0x47cb41={..._0x47cb41,'leadInfo.desativadoFluxoAte':_0x28bd75+0x7591f6200}:_0x47cb41={..._0x47cb41,'leadInfo.desativadoFluxoAte':_0x28bd75+this['AutomateSystem']?.[_0x3c4caa(0x676)][_0x3c4caa(0x541)]*0x3c*0x3e8};}if(_0x1fa45f=await this[_0x3c4caa(0x6d5)][_0x3c4caa(0x8b3)][_0x3c4caa(0x331)]({'where':{'_id':_0x2b30d7}},_0x47cb41,this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)],{'new':!0x0,'upsert':!0x0}),_0x1fa45f)J(this[_0x3c4caa(0x7d8)],_0x3c4caa(0x374),{'chat':_0x1fa45f});else{this[_0x3c4caa(0x26e)][_0x3c4caa(0x4a8)](this[_0x3c4caa(0x7d8)]+'\x20('+this['instance']['wuid']+_0x3c4caa(0x34b));return;}if(_0x38452a)return this['logger'][_0x3c4caa(0x769)](this[_0x3c4caa(0x7d8)]+'\x20('+this[_0x3c4caa(0x286)]['wuid']+_0x3c4caa(0x534)),null;if(!this[_0x3c4caa(0x2d9)]?.['flowConfig'][_0x3c4caa(0x7be)])return this['logger'][_0x3c4caa(0x769)](this[_0x3c4caa(0x7d8)]+'\x20('+this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)]+_0x3c4caa(0x6cd)),null;if(_0x1fa45f[_0x3c4caa(0x747)][_0x3c4caa(0x23d)](_0x3c4caa(0x54c))&&this[_0x3c4caa(0x2d9)]?.[_0x3c4caa(0x676)][_0x3c4caa(0x3f0)]===!0x0)return this[_0x3c4caa(0x26e)][_0x3c4caa(0x769)](this[_0x3c4caa(0x7d8)]+'\x20('+this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x1fa45f[_0x3c4caa(0x43e)]){if(_0x1fa45f[_0x3c4caa(0x43e)][_0x3c4caa(0x763)]===0x0||_0x1fa45f[_0x3c4caa(0x43e)]['atendimentoAberto'])return this[_0x3c4caa(0x26e)][_0x3c4caa(0x769)](this[_0x3c4caa(0x7d8)]+'\x20('+this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)]+_0x3c4caa(0x6f3)+_0x2b30d7+_0x3c4caa(0x32b)),null;if(_0x1fa45f['leadInfo'][_0x3c4caa(0x763)]>Date[_0x3c4caa(0x20e)]()&&!_0x2d7666['message_normalized']?.[_0x3c4caa(0x7a8)])return this[_0x3c4caa(0x26e)][_0x3c4caa(0x769)](this[_0x3c4caa(0x7d8)]+'\x20('+this[_0x3c4caa(0x286)][_0x3c4caa(0x2a8)]+_0x3c4caa(0x494)+new Date(_0x1fa45f[_0x3c4caa(0x43e)][_0x3c4caa(0x763)])[_0x3c4caa(0x4d3)]()+_0x3c4caa(0x32b)),null;}this[_0x3c4caa(0x26e)]['verbose'](this[_0x3c4caa(0x7d8)]+'\x20('+this['instance']['wuid']+_0x3c4caa(0x4d1)),this['StartBot'](_0x2d7666,_0x12d27e);}catch(_0x2aeda1){let _0x22c504=_0x3c4caa(0x36a),_0x172960=_0x2aeda1 instanceof Error?_0x2aeda1[_0x3c4caa(0x450)]:typeof _0x2aeda1==_0x3c4caa(0x8d7)?JSON[_0x3c4caa(0x3c8)](_0x2aeda1):_0x2aeda1,_0x56d5bd=_0x22c504+':\x20'+_0x172960;return this[_0x3c4caa(0x26e)][_0x3c4caa(0x4a8)](this[_0x3c4caa(0x7d8)]+'\x20('+this[_0x3c4caa(0x286)]['wuid']+_0x3c4caa(0x867)+_0x56d5bd),null;}}async[a0_0x341dd0(0x516)](_0x15e834,_0xfa0db2){const _0x3bd250=a0_0x341dd0;if(_0xfa0db2[_0x3bd250(0x225)]){let _0x5524c0=_0x15e834[_0x3bd250(0x486)](async _0x244a7a=>{const _0x1da5ae=_0x3bd250;try{let _0x4e157e={'_id':_0x244a7a[_0x1da5ae(0x747)],'owner':_0x244a7a[_0x1da5ae(0x3f2)],'lastcache':0x0};if(Object[_0x1da5ae(0x866)](_0x244a7a)['forEach'](_0xebab9c=>{_0x244a7a[_0xebab9c]!==null&&(_0x4e157e[_0xebab9c]=_0x244a7a[_0xebab9c]);}),_0x4e157e[_0x1da5ae(0x8eb)]===null&&(_0x4e157e[_0x1da5ae(0x8eb)]=_0x1da5ae(0x582)),Object[_0x1da5ae(0x866)](_0x4e157e)[_0x1da5ae(0x65e)]>0x0)return await this[_0x1da5ae(0x6d5)][_0x1da5ae(0x8b3)][_0x1da5ae(0x331)]({'where':{'_id':_0x244a7a[_0x1da5ae(0x747)]}},_0x4e157e,this[_0x1da5ae(0x286)][_0x1da5ae(0x2a8)]);}catch(_0x52fb93){let _0x564f52='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x244a7a[_0x1da5ae(0x747)],_0x170fba=_0x52fb93 instanceof Error?_0x52fb93[_0x1da5ae(0x450)]:typeof _0x52fb93==_0x1da5ae(0x8d7)?JSON[_0x1da5ae(0x3c8)](_0x52fb93):_0x52fb93,_0x16586e=_0x564f52+':\x20'+_0x170fba;return this[_0x1da5ae(0x26e)][_0x1da5ae(0x4a8)](this[_0x1da5ae(0x7d8)]+'\x20('+this['instance'][_0x1da5ae(0x2a8)]+_0x1da5ae(0x867)+_0x16586e),null;}}),_0x3aef15=(await Promise[_0x3bd250(0x3ef)](_0x5524c0))[_0x3bd250(0x435)](_0x35cb14=>_0x35cb14!==null)[_0x3bd250(0x65e)];this[_0x3bd250(0x26e)][_0x3bd250(0x769)](this[_0x3bd250(0x7d8)]+'\x20('+this[_0x3bd250(0x286)][_0x3bd250(0x2a8)]+_0x3bd250(0x867)+_0x3aef15+_0x3bd250(0x445)+this[_0x3bd250(0x286)][_0x3bd250(0x2a8)]+_0x3bd250(0x6f0));}}async[a0_0x341dd0(0x804)](_0x358af5){const _0x4df435=a0_0x341dd0;this[_0x4df435(0x26e)][_0x4df435(0x769)](this['instanceName']+'\x20('+this[_0x4df435(0x286)]['wuid']+_0x4df435(0x8ae));let _0x1d9d1b={'readMessages':[{'remoteJid':_0x358af5[_0x4df435(0x505)]['lastReceivedMessage'][_0x4df435(0x43a)]['remoteJid'],'fromMe':_0x358af5[_0x4df435(0x505)][_0x4df435(0x753)]['key']['fromMe'],'id':_0x358af5['chatLog'][_0x4df435(0x753)][_0x4df435(0x43a)]['id']}]};await this['markMessageAsRead'](_0x1d9d1b);}async['StartBot'](_0x2b0bf2,_0x17e769){const _0x2fad2=a0_0x341dd0;try{let {key:_0x19862c,message_normalized:_0x55d8c6}=_0x2b0bf2,_0x4af621=_0x55d8c6,_0x4471f2=_0x55d8c6[_0x2fad2(0x7e2)]||_0x55d8c6['caption']||_0x55d8c6[_0x2fad2(0x7a8)]||_0x55d8c6[_0x2fad2(0x1fa)]||'',_0x2b27f0=_0x19862c[_0x2fad2(0x68c)],_0x427d65=null,_0x1be401=this[_0x2fad2(0x2d9)][_0x2fad2(0x520)]['find'](_0x1c4275=>_0x1c4275[_0x2fad2(0x884)]&&_0x4471f2[_0x2fad2(0x23d)](_0x1c4275[_0x2fad2(0x884)]));if(_0x1be401&&_0x17e769===_0x2fad2(0x8f5)){let _0x5835f7=await this[_0x2fad2(0x6d5)]['flow'][_0x2fad2(0x2c7)]({'where':{'_id':_0x1be401['_id']}});if(this[_0x2fad2(0x26e)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2fad2(0x685)),_0x5835f7&&_0x5835f7[_0x2fad2(0x7cb)]?.[_0x2fad2(0x23d)](this[_0x2fad2(0x286)][_0x2fad2(0x2a8)]))_0x427d65=await this[_0x2fad2(0x641)](_0x5835f7,_0x19862c,_0x4af621);else return this[_0x2fad2(0x26e)][_0x2fad2(0x769)](this[_0x2fad2(0x7d8)]+'\x20('+this[_0x2fad2(0x286)][_0x2fad2(0x2a8)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x2fad2(0x26e)][_0x2fad2(0x769)](this[_0x2fad2(0x7d8)]+'\x20('+this[_0x2fad2(0x286)][_0x2fad2(0x2a8)]+_0x2fad2(0x6bb));if(_0x427d65=await this['findConversation'](_0x2b27f0,_0x4af621),_0x427d65){this[_0x2fad2(0x26e)][_0x2fad2(0x769)](this[_0x2fad2(0x7d8)]+'\x20('+this[_0x2fad2(0x286)][_0x2fad2(0x2a8)]+_0x2fad2(0x74b)),!_0x19862c[_0x2fad2(0x2e1)]&&_0x427d65[_0x2fad2(0x8c8)]&&this[_0x2fad2(0x804)](_0x427d65);let _0x451c50=await this['NextBlock'](_0x427d65);_0x451c50&&await this[_0x2fad2(0x5f0)](_0x427d65,_0x451c50);}}catch(_0x2c44c6){this[_0x2fad2(0x26e)][_0x2fad2(0x4a8)](this[_0x2fad2(0x7d8)]+'\x20('+this[_0x2fad2(0x286)][_0x2fad2(0x2a8)]+_0x2fad2(0x8a1)+(_0x2c44c6 instanceof Error?_0x2c44c6['message']:JSON[_0x2fad2(0x3c8)](_0x2c44c6,null,0x2)));}}['flattenObject'](_0x44c725,_0xb50f74='',_0x26a8b5={}){const _0x2ffd85=a0_0x341dd0;return typeof _0x44c725!='object'||_0x44c725===null?(_0xb50f74&&(_0x26a8b5[_0xb50f74]=_0x44c725),_0x26a8b5):(Object['entries'](_0x44c725)[_0x2ffd85(0x8b4)](([_0x328bb0,_0xc1e6c4])=>{const _0xc6d73f=_0x2ffd85;let _0xeaea9a=_0xb50f74?_0xb50f74+'.'+_0x328bb0:'_'+_0x328bb0;Array[_0xc6d73f(0x1b5)](_0xc1e6c4)?_0xc1e6c4[_0xc6d73f(0x8b4)]((_0x457485,_0x1ed6f9)=>{this['flattenObject'](_0x457485,_0xeaea9a+'['+_0x1ed6f9+']',_0x26a8b5);}):typeof _0xc1e6c4==_0xc6d73f(0x8d7)&&_0xc1e6c4!==null?this[_0xc6d73f(0x483)](_0xc1e6c4,_0xeaea9a,_0x26a8b5):_0x26a8b5[_0xeaea9a]=String(_0xc1e6c4);}),_0x26a8b5);}[a0_0x341dd0(0x603)](_0x4eb99a){const _0x27c9bd=a0_0x341dd0;let _0x9d50c3={};for(let _0x3b8fce of _0x4eb99a)typeof _0x3b8fce['name']==_0x27c9bd(0x347)&&typeof _0x3b8fce[_0x27c9bd(0x24c)]==_0x27c9bd(0x347)&&(_0x9d50c3[_0x3b8fce[_0x27c9bd(0x1fa)]]=_0x3b8fce[_0x27c9bd(0x24c)]);return _0x9d50c3;}async[a0_0x341dd0(0x792)](_0x43e227){const _0x254cab=a0_0x341dd0;if(!this[_0x254cab(0x2d9)]?.[_0x254cab(0x676)]['enabled']||_0x43e227['status']!==_0x254cab(0x86d)&&_0x43e227[_0x254cab(0x5fc)]==='')return null;let _0x234b38=_0x43e227[_0x254cab(0x505)][_0x254cab(0x426)]||_0x254cab(0x81c);typeof _0x43e227[_0x254cab(0x505)][_0x254cab(0x5f8)]>'u'&&(_0x43e227[_0x254cab(0x505)]['lastCondition']=!0x0);let _0x1a7760=_0x43e227[_0x254cab(0x505)]['lastCondition'];this[_0x254cab(0x26e)]['verbose'](this[_0x254cab(0x7d8)]+'\x20('+this[_0x254cab(0x286)][_0x254cab(0x2a8)]+_0x254cab(0x8ed)+_0x234b38+_0x254cab(0x6f7)+_0x1a7760);let _0x8da2c5=_0x234b38===_0x254cab(0x81c)?_0x43e227[_0x254cab(0x48b)][_0x254cab(0x232)](_0x5a1a8b=>_0x5a1a8b[_0x254cab(0x1fc)]===_0x254cab(0x81c)):_0x43e227['blocks'][_0x254cab(0x232)](_0x4f2427=>_0x4f2427[_0x254cab(0x747)][_0x254cab(0x5a5)]()===_0x234b38[_0x254cab(0x5a5)]());if(!_0x8da2c5)return this[_0x254cab(0x26e)][_0x254cab(0x4a8)](this[_0x254cab(0x7d8)]+'\x20('+this[_0x254cab(0x286)][_0x254cab(0x2a8)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x234b38),null;let _0x231cfb={'_pushName':_0x43e227?.[_0x254cab(0x505)]?.['lastReceivedMessage']?.['pushName']||'','_sender':this[_0x254cab(0x286)]['wuid']||'',..._0x43e227[_0x254cab(0x505)]['realVariables']},_0x570485=null;if(_0x43e227['waitingMenu_id']){let _0x17c6ae=_0x43e227[_0x254cab(0x505)][_0x254cab(0x753)][_0x254cab(0x7a8)],_0x2ffdae=_0x43e227['waitingMenu_replyOptions']['find'](_0x55c133=>_0x55c133[_0x254cab(0x48e)]===_0x17c6ae);if(_0x2ffdae){let _0x5ef81f=_0x2ffdae['next_groupId'];if(_0x570485=_0x43e227[_0x254cab(0x48b)][_0x254cab(0x232)](_0x5731f3=>_0x5731f3[_0x254cab(0x63a)]===_0x5ef81f&&_0x5731f3[_0x254cab(0x27f)]===0x1),_0x8da2c5['uazapi'][_0x254cab(0x8e8)]){let _0x11f56d={'id':_0x43e227[_0x254cab(0x5fc)],'remoteJid':_0x43e227[_0x254cab(0x68c)],'fromMe':!0x0};await this[_0x254cab(0x8e5)](_0x11f56d);}if(_0x8da2c5[_0x254cab(0x3e3)][_0x254cab(0x8e8)]&&_0x8da2c5[_0x254cab(0x3e3)]['pollMessageOnDelete']&&_0x8da2c5[_0x254cab(0x3e3)]['menuType']===_0x254cab(0x31e)){let _0x545210={'number':_0x43e227['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x254cab(0x35e)+_0x43e227[_0x254cab(0x310)]+_0x254cab(0x55d)+_0x17c6ae}};await this['textMessage'](_0x545210);}_0x43e227[_0x254cab(0x826)]='open',_0x43e227[_0x254cab(0x5fc)]='',_0x43e227[_0x254cab(0x310)]='',_0x43e227['waitingMenu_replyOptions']=[];}else{this['logger'][_0x254cab(0x769)](this[_0x254cab(0x7d8)]+'\x20('+this[_0x254cab(0x286)][_0x254cab(0x2a8)]+_0x254cab(0x39e));let _0x21c06d={'activatedCount':_0x43e227[_0x254cab(0x505)][_0x254cab(0x2ab)][_0x254cab(0x435)](_0x106d98=>String(_0x106d98[_0x254cab(0x580)])===String(_0x234b38))[_0x254cab(0x65e)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x8da2c5[_0x254cab(0x3e3)][_0x254cab(0x7d7)]){let _0x1e14fb={'number':_0x43e227[_0x254cab(0x68c)],'options':{'delay':0x0},'textMessage':{'text':_0x8da2c5[_0x254cab(0x3e3)][_0x254cab(0x7d7)]}};await this[_0x254cab(0x852)](_0x1e14fb);}if(_0x8da2c5[_0x254cab(0x805)]!==void 0x0&&_0x21c06d[_0x254cab(0x84e)]>=_0x8da2c5[_0x254cab(0x805)]){let _0x39ece0=Date['now'](),_0x13a6de=_0x8da2c5['stopMinutesMaxActives']??0xa;isNaN(_0x13a6de)&&(_0x13a6de=0xa);let _0x418226=_0x39ece0+_0x13a6de*0x3c*0x3e8;_0x21c06d[_0x254cab(0x6b6)]=_0x418226,_0x21c06d[_0x254cab(0x896)][_0x254cab(0x452)](_0x254cab(0x2d2)),this[_0x254cab(0x807)](_0x43e227,_0x418226),_0x43e227['waitingMenu_id']='',_0x43e227['waitingMenu_text']='',_0x43e227[_0x254cab(0x262)]=[];}return this[_0x254cab(0x6b8)](_0x43e227,_0x8da2c5,_0x21c06d,!0x0),null;}}if(_0x1a7760&&_0x8da2c5['next_groupId']&&!_0x43e227[_0x254cab(0x5fc)]){let _0x35ce24=_0x43e227['blocks'][_0x254cab(0x435)](_0x2be0dd=>_0x2be0dd[_0x254cab(0x63a)][_0x254cab(0x5a5)]()===_0x8da2c5['next_groupId'][_0x254cab(0x5a5)]())[_0x254cab(0x739)]((_0x30027f,_0x12be0c)=>_0x30027f[_0x254cab(0x27f)]-_0x12be0c[_0x254cab(0x27f)]);_0x35ce24[_0x254cab(0x65e)]>0x0&&(_0x570485=_0x35ce24[0x0]);}if(!_0x570485){let _0x7f6821=_0x8da2c5[_0x254cab(0x63a)],_0x408127=_0x43e227[_0x254cab(0x48b)][_0x254cab(0x435)](_0x38c8e2=>_0x38c8e2[_0x254cab(0x63a)]===_0x7f6821&&_0x38c8e2[_0x254cab(0x27f)]>_0x8da2c5[_0x254cab(0x27f)])[_0x254cab(0x739)]((_0x533432,_0x54af80)=>_0x533432[_0x254cab(0x27f)]-_0x54af80['order']);_0x408127[_0x254cab(0x65e)]>0x0&&(_0x570485=_0x408127[0x0]);}if(!_0x570485)return _0x43e227['status']='closed',null;_0x43e227['chatLog']['realVariables']=_0x231cfb;let _0x17bbeb=JSON[_0x254cab(0x785)](JSON[_0x254cab(0x3c8)](_0x570485));return this[_0x254cab(0x48a)](_0x17bbeb,_0x43e227[_0x254cab(0x505)][_0x254cab(0x22d)]),_0x43e227['chatLog'][_0x254cab(0x426)]=_0x17bbeb[_0x254cab(0x747)],_0x43e227[_0x254cab(0x505)][_0x254cab(0x5f8)]=!0x0,_0x17bbeb;}[a0_0x341dd0(0x25e)](_0x4f1666,_0x51f06c){const _0x143ebe=a0_0x341dd0;return _0x4f1666[_0x143ebe(0x589)](/\{\{([^}]+)\}\}/g,(_0x4f35e7,_0x3f7054)=>_0x51f06c[_0x3f7054]||'');}[a0_0x341dd0(0x48a)](_0x4735bd,_0x38c28c){const _0x466033=a0_0x341dd0;for(let _0x5a4b00 in _0x4735bd)typeof _0x4735bd[_0x5a4b00]==_0x466033(0x347)?_0x4735bd[_0x5a4b00]=this['replaceVariables'](_0x4735bd[_0x5a4b00],_0x38c28c):typeof _0x4735bd[_0x5a4b00]=='object'&&this['replaceVariablesInObject'](_0x4735bd[_0x5a4b00],_0x38c28c);}async['goNextblock'](_0x4128ac,_0x5d4027){const _0x575897=a0_0x341dd0;let _0xefe671=_0x5d4027['_id'];if(_0x4128ac[_0x575897(0x505)]&&_0x4128ac[_0x575897(0x505)][_0x575897(0x2ab)]){let _0x1369c4=_0x4128ac[_0x575897(0x505)][_0x575897(0x2ab)]['filter'](_0x2df1c0=>String(_0x2df1c0['blockId'])===String(_0xefe671))[_0x575897(0x633)]();if(_0x1369c4&&_0x1369c4[_0x575897(0x4a8)]&&_0x5d4027['stopIfLastReturnedError'])return _0x4128ac[_0x575897(0x826)]='closed',await this['saveConversationToDatabase'](_0x4128ac),null;}if(_0x5d4027[_0x575897(0x1fc)]==='uazapi'&&_0x5d4027[_0x575897(0x3e3)][_0x575897(0x46c)]===_0x575897(0x771)&&_0x4128ac[_0x575897(0x5fc)])return _0x4128ac[_0x575897(0x505)][_0x575897(0x426)]=_0xefe671,await this['saveConversationToDatabase'](_0x4128ac),null;let _0x3943d6=await this['NextBlock'](_0x4128ac);if(_0x4128ac[_0x575897(0x505)]&&_0x4128ac['chatLog'][_0x575897(0x2ab)]){let _0x5dac9d=_0x4128ac['chatLog'][_0x575897(0x2ab)][_0x575897(0x435)](_0x16ffaf=>String(_0x16ffaf[_0x575897(0x580)])===String(_0xefe671))['length'];if(_0x5d4027[_0x575897(0x805)]!==void 0x0&&_0x5dac9d>=_0x5d4027['maxActives']){let _0xe809c8=Date[_0x575897(0x20e)](),_0x42c074=_0x5d4027[_0x575897(0x369)]??0xa;isNaN(_0x42c074)&&(_0x42c074=0xa);let _0x52e809=_0xe809c8+_0x42c074*0x3c*0x3e8,_0x100383={'newStoppedUntil':_0x52e809};return this[_0x575897(0x807)](_0x4128ac,_0x52e809),this[_0x575897(0x6b8)](_0x4128ac,_0x5d4027,_0x100383,!0x0),null;}}_0x3943d6&&_0x3943d6['type']!==_0x575897(0x318)&&await this[_0x575897(0x5f0)](_0x4128ac,_0x3943d6),_0x3943d6||await this[_0x575897(0x7d0)](_0x4128ac),_0x3943d6&&_0x3943d6[_0x575897(0x1fc)]===_0x575897(0x318)&&(_0x4128ac[_0x575897(0x505)]['lastBlockId']=_0xefe671,await this[_0x575897(0x7d0)](_0x4128ac));}async['processblock'](_0x4fd1ff,_0x1008c5){const _0x413bb6=a0_0x341dd0;try{let _0x50931b=_0x1008c5[_0x413bb6(0x1fc)];this[_0x413bb6(0x26e)][_0x413bb6(0x769)](this[_0x413bb6(0x7d8)]+'\x20('+this[_0x413bb6(0x286)][_0x413bb6(0x2a8)]+_0x413bb6(0x315)+_0x50931b);let _0x5c8e06={'uazapi':()=>this[_0x413bb6(0x7b2)](_0x4fd1ff,_0x1008c5),'save':()=>this['saveTextReply'](_0x4fd1ff,_0x1008c5),'stop':()=>this[_0x413bb6(0x668)](_0x4fd1ff,_0x1008c5),'condition':()=>this[_0x413bb6(0x7b5)](_0x4fd1ff,_0x1008c5),'varedit':()=>this[_0x413bb6(0x64d)](_0x4fd1ff,_0x1008c5),'apirequest':()=>this[_0x413bb6(0x729)](_0x4fd1ff,_0x1008c5),'goToFlow':()=>this['processgoToFlow'](_0x4fd1ff,_0x1008c5),'scheduleFlow':()=>this[_0x413bb6(0x652)](_0x4fd1ff,_0x1008c5),'awaitSeconds':()=>this[_0x413bb6(0x6bf)](_0x4fd1ff,_0x1008c5),'clearVariables':()=>this[_0x413bb6(0x409)](_0x4fd1ff,_0x1008c5)}[_0x50931b];_0x5c8e06&&await _0x5c8e06();}catch(_0x372c7c){this[_0x413bb6(0x26e)]['error'](this[_0x413bb6(0x7d8)]+'\x20('+this[_0x413bb6(0x286)][_0x413bb6(0x2a8)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x372c7c instanceof Error?_0x372c7c['message']:JSON[_0x413bb6(0x3c8)](_0x372c7c,null,0x2)));}}async['processawaitSeconds'](_0x41c773,_0x11de5f){const _0x47a8b5=a0_0x341dd0;if(this[_0x47a8b5(0x26e)]['verbose'](this[_0x47a8b5(0x7d8)]+'\x20('+this[_0x47a8b5(0x286)][_0x47a8b5(0x2a8)]+_0x47a8b5(0x47c)),!_0x41c773||!_0x11de5f)return this[_0x47a8b5(0x26e)][_0x47a8b5(0x4a8)](this['instanceName']+'\x20('+this[_0x47a8b5(0x286)][_0x47a8b5(0x2a8)]+_0x47a8b5(0x58f)),null;let _0x3296fb=+_0x11de5f[_0x47a8b5(0x4be)];isNaN(_0x3296fb)&&(_0x3296fb=0x0),_0x3296fb=Math[_0x47a8b5(0x1da)](_0x3296fb,0x3c),await(0x0,w[_0x47a8b5(0x79d)])(_0x3296fb*0x3e8);let _0x527b1c={'moreLogs':[_0x47a8b5(0x223)+_0x3296fb+_0x47a8b5(0x77c)]};return await this[_0x47a8b5(0x6b8)](_0x41c773,_0x11de5f,_0x527b1c),_0x3296fb;}async[a0_0x341dd0(0x409)](_0x1b6b2f,_0x238231){const _0x28c208=a0_0x341dd0;if(this[_0x28c208(0x26e)][_0x28c208(0x769)](this[_0x28c208(0x7d8)]+'\x20('+this[_0x28c208(0x286)][_0x28c208(0x2a8)]+_0x28c208(0x529)),!_0x1b6b2f||!_0x238231)return this[_0x28c208(0x26e)][_0x28c208(0x4a8)](this[_0x28c208(0x7d8)]+'\x20('+this[_0x28c208(0x286)]['wuid']+_0x28c208(0x58f)),null;let _0x164377=[];if(_0x238231[_0x28c208(0x5a3)][_0x28c208(0x788)]()==='[all]'){let _0xeff8e2=['_sender',_0x28c208(0x305),_0x28c208(0x83d),_0x28c208(0x675),'_remoteJid',_0x28c208(0x747),_0x28c208(0x549)];_0x164377=Object['keys'](_0x1b6b2f[_0x28c208(0x505)][_0x28c208(0x22d)])[_0x28c208(0x435)](_0x224407=>_0x224407['startsWith']('_')&&!_0xeff8e2['includes'](_0x224407));}else _0x164377=_0x238231[_0x28c208(0x5a3)][_0x28c208(0x518)]('|')[_0x28c208(0x486)](_0x457e91=>(_0x457e91=_0x457e91[_0x28c208(0x589)](/[{}]/g,'')[_0x28c208(0x788)](),_0x457e91['startsWith']('_')?_0x457e91:'_'+_0x457e91));let _0xd26cf2=[];_0x164377[_0x28c208(0x8b4)](_0x461acc=>{const _0x1c3a5b=_0x28c208;_0x461acc in _0x1b6b2f[_0x1c3a5b(0x505)][_0x1c3a5b(0x22d)]&&(delete _0x1b6b2f['chatLog'][_0x1c3a5b(0x22d)][_0x461acc],_0xd26cf2[_0x1c3a5b(0x452)](_0x461acc));}),_0xd26cf2[_0x28c208(0x65e)]>0x0?this[_0x28c208(0x26e)][_0x28c208(0x769)](this[_0x28c208(0x7d8)]+'\x20('+this[_0x28c208(0x286)][_0x28c208(0x2a8)]+_0x28c208(0x5d7)+_0xd26cf2[_0x28c208(0x421)](',\x20')):this[_0x28c208(0x26e)]['verbose'](this[_0x28c208(0x7d8)]+'\x20('+this[_0x28c208(0x286)][_0x28c208(0x2a8)]+_0x28c208(0x6d9));let _0x28e06c={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0xd26cf2[_0x28c208(0x421)](',\x20')]};return await this[_0x28c208(0x6b8)](_0x1b6b2f,_0x238231,_0x28e06c),null;}async[a0_0x341dd0(0x652)](_0x360e2d,_0x55d29b){const _0x1e49da=a0_0x341dd0;if(this[_0x1e49da(0x26e)][_0x1e49da(0x769)](this[_0x1e49da(0x7d8)]+'\x20('+this[_0x1e49da(0x286)][_0x1e49da(0x2a8)]+_0x1e49da(0x65d)),!_0x360e2d||!_0x55d29b)return this['logger'][_0x1e49da(0x4a8)](this['instanceName']+'\x20('+this[_0x1e49da(0x286)][_0x1e49da(0x2a8)]+_0x1e49da(0x58f)),null;let _0x4d58d8=_0x360e2d[_0x1e49da(0x68c)];_0x55d29b[_0x1e49da(0x27b)][_0x1e49da(0x68c)]&&_0x55d29b[_0x1e49da(0x27b)][_0x1e49da(0x68c)]['trim']()!==''&&(_0x4d58d8=_0x55d29b['uazapi'][_0x1e49da(0x68c)][_0x1e49da(0x788)]());let _0x36b7ba=_0x55d29b['scheduleFlow'][_0x1e49da(0x39b)]*0xea60,_0x5004de=Date[_0x1e49da(0x20e)]()+_0x36b7ba,_0x5a81c2={'status':_0x1e49da(0x351),'info':_0x1e49da(0x3a4)+_0x360e2d[_0x1e49da(0x1fa)],'remoteJids':[_0x4d58d8],'when':_0x5004de,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x55d29b[_0x1e49da(0x27b)]['flowName']};this[_0x1e49da(0x373)](_0x5a81c2);let _0x8b5572=await this['NextBlock'](_0x360e2d);_0x8b5572&&await this[_0x1e49da(0x5f0)](_0x360e2d,_0x8b5572);}async['processgoToFlow'](_0x3a371f,_0x1961d4){const _0xcda2b2=a0_0x341dd0;if(this['logger'][_0xcda2b2(0x769)](this[_0xcda2b2(0x7d8)]+'\x20('+this[_0xcda2b2(0x286)][_0xcda2b2(0x2a8)]+_0xcda2b2(0x750)),!_0x3a371f||!_0x1961d4)return this['logger'][_0xcda2b2(0x4a8)](this['instanceName']+'\x20('+this[_0xcda2b2(0x286)][_0xcda2b2(0x2a8)]+_0xcda2b2(0x58f)),null;await this[_0xcda2b2(0x6b8)](_0x3a371f,_0x1961d4,{},!0x0,!0x0);let _0x146d2b=_0x1961d4[_0xcda2b2(0x1e5)];_0x3a371f=await this[_0xcda2b2(0x2b9)](_0x146d2b,_0x3a371f[_0xcda2b2(0x68c)],_0x3a371f[_0xcda2b2(0x505)]['realVariables']);let _0x253021=await this['NextBlock'](_0x3a371f);_0x253021&&await this[_0xcda2b2(0x5f0)](_0x3a371f,_0x253021);}async[a0_0x341dd0(0x2b9)](_0x15a380,_0x815b5,_0x553ef2){const _0x26ba97=a0_0x341dd0;this[_0x26ba97(0x26e)][_0x26ba97(0x769)](this[_0x26ba97(0x7d8)]+'\x20('+this[_0x26ba97(0x286)][_0x26ba97(0x2a8)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0xe40525=this[_0x26ba97(0x2d9)][_0x26ba97(0x520)][_0x26ba97(0x232)](_0x7c2672=>_0x7c2672[_0x26ba97(0x747)]===_0x15a380);_0xe40525||this[_0x26ba97(0x26e)][_0x26ba97(0x4a8)](this['instanceName']+'\x20('+this['instance'][_0x26ba97(0x2a8)]+_0x26ba97(0x3f5)+_0x15a380+_0x26ba97(0x7b9));let _0x4cd726=await this[_0x26ba97(0x6d5)]['flow'][_0x26ba97(0x2c7)]({'where':{'_id':_0xe40525['_id']}});if(!_0x4cd726||!_0x4cd726[_0x26ba97(0x7cb)]?.[_0x26ba97(0x23d)](this[_0x26ba97(0x286)][_0x26ba97(0x2a8)]))throw this[_0x26ba97(0x26e)][_0x26ba97(0x4a8)](this[_0x26ba97(0x7d8)]+'\x20('+this[_0x26ba97(0x286)][_0x26ba97(0x2a8)]+_0x26ba97(0x3f5)+_0x15a380+_0x26ba97(0x249)),new m(_0x26ba97(0x22a)+_0x15a380+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x3a6765=require(_0x26ba97(0x367))['ObjectId'],_0x431fa5=Date[_0x26ba97(0x20e)](),_0x245ccf=_0x26ba97(0x81c),_0x2f560d={},_0x1ee436={},_0x23e9aa=this['AutomateSystem']['flows'][_0x26ba97(0x232)](_0x4d98fd=>_0x4d98fd[_0x26ba97(0x747)]===_0x4cd726[_0x26ba97(0x747)]?.[_0x26ba97(0x5a5)]()),_0x316db7=_0x23e9aa?.[_0x26ba97(0x694)]??_0x4cd726[_0x26ba97(0x694)]??0x0,_0x289ef7=_0x23e9aa?.['readMessages']??_0x4cd726[_0x26ba97(0x8c8)]??!0x1,_0x44f07a={'flowId':_0xe40525[_0x26ba97(0x747)],'readMessages':_0xe40525[_0x26ba97(0x8c8)],..._0x4cd726,'chatLog':null},_0x126059={'lastReceivedMessage':_0x2f560d,'lastSendMessage':_0x1ee436,'lastBlockId':_0x245ccf,'lastCondition':!0x0,'realVariables':_0x553ef2};_0x44f07a[_0x26ba97(0x505)]=_0x126059,_0x44f07a[_0x26ba97(0x505)][_0x26ba97(0x22d)]={..._0x553ef2},delete _0x44f07a[_0x26ba97(0x747)],_0x44f07a[_0x26ba97(0x747)]=new _0x3a6765(),_0x44f07a['lastInteraction']=_0x431fa5,_0x44f07a[_0x26ba97(0x826)]=_0x26ba97(0x86d),_0x44f07a['remoteJid']=_0x815b5,_0x44f07a['minutesToClose']=_0x316db7,_0x44f07a[_0x26ba97(0x8c8)]=_0x289ef7;let _0x2031e1=await this[_0x26ba97(0x6d5)][_0x26ba97(0x6f8)][_0x26ba97(0x331)](_0x44f07a[_0x26ba97(0x747)],_0x44f07a,this[_0x26ba97(0x286)]['wuid']);return this['logger'][_0x26ba97(0x769)](this['instanceName']+'\x20('+this[_0x26ba97(0x286)][_0x26ba97(0x2a8)]+_0x26ba97(0x3df)),_0x2031e1?_0x44f07a:null;}catch(_0x4df012){let _0xc6db00=_0x26ba97(0x7ff),_0x481c85=_0x4df012 instanceof Error?_0x4df012['message']:typeof _0x4df012=='object'?JSON['stringify'](_0x4df012):_0x4df012,_0x103249=_0xc6db00+':\x20'+_0x481c85;throw this['logger'][_0x26ba97(0x4a8)](this[_0x26ba97(0x7d8)]+'\x20('+this['instance'][_0x26ba97(0x2a8)]+_0x26ba97(0x867)+_0x103249),new m(_0x103249);}}async[a0_0x341dd0(0x729)](_0x474922,_0x56ab02){const _0x577f5f=a0_0x341dd0;let _0x2d757c,_0x37638b;try{let _0x28983d=_0x56ab02[_0x577f5f(0x8e1)];if(!_0x28983d||!_0x28983d['url']||!_0x28983d[_0x577f5f(0x205)])throw new Error(_0x577f5f(0x6fa));let _0x4ddacf;([_0x577f5f(0x250),'https://api.openai.com/v1/images/generations',_0x577f5f(0x755)][_0x577f5f(0x2f2)](_0x246a0e=>_0x28983d[_0x577f5f(0x8df)][_0x577f5f(0x23d)](_0x246a0e))||_0x28983d[_0x577f5f(0x8ab)])&&(_0x4ddacf=_0x577f5f(0x246));let _0x97f542='\u205f',_0x13b012;try{_0x13b012=JSON[_0x577f5f(0x785)](_0x28983d[_0x577f5f(0x31b)][_0x577f5f(0x589)](new RegExp(_0x97f542,'g'),''));}catch(_0x24ae71){throw _0x24ae71;}let _0x5399ac={'method':_0x28983d[_0x577f5f(0x205)],'url':_0x28983d['url'],'headers':_0x28983d[_0x577f5f(0x684)]||{},..._0x28983d[_0x577f5f(0x205)][_0x577f5f(0x7e6)]()!==_0x577f5f(0x26c)&&_0x28983d[_0x577f5f(0x31b)]?{'data':JSON[_0x577f5f(0x785)](_0x28983d[_0x577f5f(0x31b)][_0x577f5f(0x589)](new RegExp(_0x97f542,'g'),''))}:{},..._0x4ddacf&&{'responseType':_0x4ddacf}},_0x31efa5=await(0x0,Y['default'])(_0x5399ac),_0x40ebd4=_0x31efa5[_0x577f5f(0x521)][_0x577f5f(0x6c2)];if(_0x40ebd4&&_0x40ebd4[_0x577f5f(0x23d)](_0x577f5f(0x49a))||typeof _0x31efa5[_0x577f5f(0x210)]==_0x577f5f(0x347)){if(typeof _0x31efa5[_0x577f5f(0x210)]==_0x577f5f(0x347)){let _0x38949c=_0x31efa5[_0x577f5f(0x210)][_0x577f5f(0x589)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x577f5f(0x788)]();try{_0x2d757c=JSON[_0x577f5f(0x785)](_0x38949c);}catch(_0x5aad85){this[_0x577f5f(0x26e)]['error']('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x5aad85[_0x577f5f(0x450)]),_0x2d757c={'_apiResponse':_0x31efa5['data']};}}else _0x2d757c=_0x31efa5[_0x577f5f(0x210)];let _0x538409=_0x474922[_0x577f5f(0x505)][_0x577f5f(0x22d)],_0x2bf957=this[_0x577f5f(0x483)](_0x2d757c);return Object[_0x577f5f(0x606)](_0x538409,_0x2bf957),_0x474922[_0x577f5f(0x505)][_0x577f5f(0x22d)]=_0x538409,_0x37638b={'error':!0x1,'apiResponse':_0x2d757c},this[_0x577f5f(0x6b8)](_0x474922,_0x56ab02,_0x37638b),_0x2d757c;}if(_0x40ebd4&&(_0x40ebd4[_0x577f5f(0x23d)](_0x577f5f(0x3c9))||_0x40ebd4[_0x577f5f(0x23d)](_0x577f5f(0x5ed))||_0x40ebd4['includes'](_0x577f5f(0x492))||_0x40ebd4[_0x577f5f(0x23d)](_0x577f5f(0x654)))){this[_0x577f5f(0x26e)]['verbose'](this[_0x577f5f(0x7d8)]+'\x20('+this[_0x577f5f(0x286)][_0x577f5f(0x2a8)]+_0x577f5f(0x88b)+_0x40ebd4);let _0x4b5c84=(0x0,X['v4'])(),_0x3cb3ab='',_0x1f5ca0={'image/jpeg':_0x577f5f(0x853),'image/png':_0x577f5f(0x7ed),'image/gif':_0x577f5f(0x679),'image/webp':_0x577f5f(0x1e6),'image/svg+xml':_0x577f5f(0x2d4),'audio/mpeg':_0x577f5f(0x548),'audio/ogg':_0x577f5f(0x6c1),'audio/wav':_0x577f5f(0x82e),'video/mp4':_0x577f5f(0x4df),'video/webm':_0x577f5f(0x595),'video/ogg':_0x577f5f(0x21b),'text/plain':'.txt','application/pdf':'.pdf','application/msword':_0x577f5f(0x666),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x577f5f(0x69b),'application/vnd.ms-excel':_0x577f5f(0x6b9),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x577f5f(0x5fd),'application/vnd.ms-powerpoint':_0x577f5f(0x50a),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x577f5f(0x2c6)};_0x1f5ca0[_0x40ebd4]?(_0x3cb3ab=_0x1f5ca0[_0x40ebd4],this[_0x577f5f(0x26e)][_0x577f5f(0x769)](this[_0x577f5f(0x7d8)]+'\x20('+this['instance'][_0x577f5f(0x2a8)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x3cb3ab)):(_0x3cb3ab=_0x577f5f(0x472),this['logger']['verbose'](this[_0x577f5f(0x7d8)]+'\x20('+this['instance'][_0x577f5f(0x2a8)]+_0x577f5f(0x507)+_0x3cb3ab)),_0x4b5c84+=_0x3cb3ab,this[_0x577f5f(0x26e)][_0x577f5f(0x769)](this[_0x577f5f(0x7d8)]+'\x20('+this['instance'][_0x577f5f(0x2a8)]+_0x577f5f(0x240)+_0x4b5c84);let _0x431fc3=this[_0x577f5f(0x403)][_0x577f5f(0x86a)](_0x577f5f(0x847))[_0x577f5f(0x571)];if(!_0x431fc3){let _0x29e08f=this[_0x577f5f(0x403)][_0x577f5f(0x86a)](_0x577f5f(0x321));_0x431fc3=_0x577f5f(0x2b2)+(_0x29e08f&&_0x29e08f['FULLCHAIN'][_0x577f5f(0x518)]('/')[0x4]);}let _0x5a6c6e=Buffer[_0x577f5f(0x731)](_0x31efa5['data']);await this[_0x577f5f(0x266)](_0x5a6c6e,_0x4b5c84);let _0x499710=_0x577f5f(0x742)+_0x4b5c84;_0x499710=''+_0x431fc3+_0x499710,_0x2d757c={'fileUrl':_0x499710},_0x474922[_0x577f5f(0x505)][_0x577f5f(0x22d)]['fileUrl']=_0x499710;let _0x42b95b=_0x474922[_0x577f5f(0x505)][_0x577f5f(0x22d)],_0x20ed20=this[_0x577f5f(0x483)](_0x2d757c);return Object['assign'](_0x42b95b,_0x20ed20),_0x474922[_0x577f5f(0x505)][_0x577f5f(0x22d)]=_0x42b95b,_0x37638b={'error':!0x1,'apiResponse':{'fileUrl':_0x499710}},this[_0x577f5f(0x6b8)](_0x474922,_0x56ab02,_0x37638b),_0x2d757c;}}catch(_0x649db9){this[_0x577f5f(0x26e)][_0x577f5f(0x4a8)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x649db9[_0x577f5f(0x450)]),_0x649db9['response']&&(_0x2d757c=_0x649db9['response'][_0x577f5f(0x210)]);let _0x141008=_0x474922[_0x577f5f(0x505)][_0x577f5f(0x22d)],_0x31bcdd=this['flattenObject'](_0x2d757c);return Object['assign'](_0x141008,_0x31bcdd),_0x474922[_0x577f5f(0x505)][_0x577f5f(0x22d)]=_0x141008,_0x37638b={'error':!0x0,'errorLog':_0x649db9[_0x577f5f(0x5a5)](),'apiResponse':_0x2d757c},this[_0x577f5f(0x6b8)](_0x474922,_0x56ab02,_0x37638b),{'success':!0x1};}}['applyvaredit'](_0xac0ec,_0x2b8e43){const _0xe48364=a0_0x341dd0;let _0x56936c=_0x4bc7a8=>{let _0x2d698d=_0x4bc7a8['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0xa368b6=parseFloat(_0x2d698d);return isNaN(_0xa368b6)?null:_0xa368b6;},_0x4604c1=_0x2b8e43[_0xe48364(0x319)],_0xe66564=_0x2b8e43[_0xe48364(0x40f)];typeof _0x4604c1==_0xe48364(0x347)&&(_0x4604c1=this['replaceVariables'](_0x4604c1,_0xac0ec['chatLog'][_0xe48364(0x22d)])??''),typeof _0xe66564==_0xe48364(0x347)&&(_0xe66564=this[_0xe48364(0x25e)](_0xe66564,_0xac0ec[_0xe48364(0x505)][_0xe48364(0x22d)])??'');let _0x28e042=null;if(!_0x2b8e43[_0xe48364(0x5c2)])return null;switch(this[_0xe48364(0x26e)]['verbose'](this[_0xe48364(0x7d8)]+'\x20('+this[_0xe48364(0x286)][_0xe48364(0x2a8)]+_0xe48364(0x794)+_0x4604c1),this['logger'][_0xe48364(0x769)](this['instanceName']+'\x20('+this['instance'][_0xe48364(0x2a8)]+_0xe48364(0x3dc)+_0xe66564),_0x2b8e43['editOperator']){case'+':case'-':case'*':case'/':let _0x3055f3=_0x56936c(_0x4604c1||'0'),_0x32a340=_0x56936c(_0xe66564||'0');if(_0x3055f3===null)return null;switch(_0x2b8e43[_0xe48364(0x5c2)]){case'+':_0x28e042=_0x3055f3+(_0x32a340??0x0);break;case'-':_0x28e042=_0x3055f3-(_0x32a340??0x0);break;case'*':_0x28e042=_0x3055f3*(_0x32a340??0x1);break;case'/':_0x32a340!==0x0&&(_0x28e042=_0x3055f3/(_0x32a340??0x1));break;}break;case _0xe48364(0x1ff):case _0xe48364(0x32f):let _0x5e6542=_0xe66564,_0x25f5b8=_0x2b8e43[_0xe48364(0x86b)];if(typeof _0x25f5b8=='string'&&(_0x25f5b8=this[_0xe48364(0x25e)](_0x25f5b8,_0xac0ec[_0xe48364(0x505)]['realVariables'])??''),_0x5e6542&&_0x25f5b8!==void 0x0){let _0x45f632=_0x2b8e43[_0xe48364(0x5c2)]===_0xe48364(0x1ff)?new RegExp(_0x5e6542[_0xe48364(0x589)](/[-\/\\^$*+?.()|[\]{}]/g,_0xe48364(0x36f)),'g'):new RegExp(_0x5e6542,'g');_0x28e042=_0x4604c1[_0xe48364(0x589)](_0x45f632,_0x25f5b8);}else console[_0xe48364(0x8ff)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x28e042=_0xe66564;break;case _0xe48364(0x470):let _0x1bc1b3=_0x4604c1[_0xe48364(0x61a)](new RegExp(_0xe66564||''));_0x28e042=_0x1bc1b3?_0x1bc1b3[0x0]:'';break;case _0xe48364(0x787):_0x28e042=_0x4604c1[_0xe48364(0x53f)](0x0,parseInt(_0xe66564||'0'));break;case _0xe48364(0x258):let _0x934e1a=parseInt(_0xe66564||'0');_0x28e042=_0x4604c1[_0xe48364(0x53f)](_0x4604c1[_0xe48364(0x65e)]-_0x934e1a);break;case _0xe48364(0x80e):let _0x47337c=_0x56936c(_0x4604c1),_0x1aca59=parseInt(_0xe66564||'0');_0x1aca59=Math[_0xe48364(0x4cf)](_0x1aca59),_0x47337c!==null?_0x28e042=_0x47337c[_0xe48364(0x4d3)](_0xe48364(0x6a4),{'minimumFractionDigits':_0x1aca59,'maximumFractionDigits':_0x1aca59}):(console[_0xe48364(0x8ff)](_0xe48364(0x423)+_0x4604c1),_0x28e042=null);break;case _0xe48364(0x1ba):let _0x46bd5c=_0x56936c(_0x4604c1);_0x46bd5c!==null?_0x28e042=_0x46bd5c['toLocaleString']('pt-BR',{'style':_0xe48364(0x735),'currency':_0xe48364(0x58b)}):(console[_0xe48364(0x8ff)](_0xe48364(0x830)+_0x4604c1),_0x28e042=null);break;case _0xe48364(0x704):_0x28e042=_0x4604c1['toUpperCase']();break;case _0xe48364(0x5e2):_0x28e042=_0x4604c1['toLowerCase']();break;case _0xe48364(0x59e):_0x28e042=_0x4604c1['split']('\x20')['map'](_0x49b26d=>_0x49b26d[_0xe48364(0x25b)](0x0)[_0xe48364(0x7e6)]()+_0x49b26d['slice'](0x1)[_0xe48364(0x1c6)]())[_0xe48364(0x421)]('\x20');break;case _0xe48364(0x6aa):_0x28e042=JSON[_0xe48364(0x3c8)](_0x4604c1);break;case _0xe48364(0x1b0):_0x28e042=_0x4604c1['trim']();break;default:_0x28e042=_0x4604c1;}return _0x28e042!==null?_0x28e042['toString']():null;}async[a0_0x341dd0(0x64d)](_0x2e26a8,_0x16e8e1){const _0x5de102=a0_0x341dd0;try{let _0xa67d22=_0x2e26a8['varedits']?.[_0x5de102(0x435)](_0x1c3f6b=>_0x1c3f6b[_0x5de102(0x580)]===_0x16e8e1[_0x5de102(0x747)]?.[_0x5de102(0x5a5)]())||[],_0x25c96d=_0x16e8e1[_0x5de102(0x44f)],_0x53e24c=null,_0x13fbb1=[],_0x298e48=_0x2e26a8['chatLog'][_0x5de102(0x22d)][_0x25c96d];_0x13fbb1['push'](_0x5de102(0x768)+_0x298e48+'\x22');for(let _0x99495e of _0xa67d22){_0x99495e[_0x5de102(0x319)]=_0x298e48,_0x53e24c=_0x99495e[_0x5de102(0x319)];let _0x390c9f;try{_0x390c9f=this['applyvaredit'](_0x2e26a8,_0x99495e);}catch(_0x481e7a){this[_0x5de102(0x26e)][_0x5de102(0x4a8)](_0x5de102(0x5b5)+_0x481e7a['message']);continue;}if(_0x390c9f!==null){let _0x1b1a73=_0x5de102(0x802)+_0x99495e[_0x5de102(0x5c2)]+'\x22',_0x417f47=[_0x5de102(0x1ba),_0x5de102(0x704),_0x5de102(0x5e2),_0x5de102(0x59e),'trimmed'];_0x99495e['editOperator']===_0x5de102(0x1ff)||_0x99495e[_0x5de102(0x5c2)]==='findAndReplaceRegex'?_0x1b1a73+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x99495e[_0x5de102(0x40f)]+_0x5de102(0x3e5)+_0x99495e[_0x5de102(0x86b)]+'\x22':!_0x417f47[_0x5de102(0x23d)](_0x99495e[_0x5de102(0x5c2)])&&_0x99495e[_0x5de102(0x40f)]!==null&&_0x99495e[_0x5de102(0x40f)]!==void 0x0&&(_0x1b1a73+=_0x5de102(0x2c3)+_0x99495e[_0x5de102(0x40f)]+'\x22'),_0x1b1a73+=',\x20resultado:\x20'+_0x390c9f+'.',_0x13fbb1['push'](_0x1b1a73);}_0x390c9f!==null&&(_0x298e48=_0x390c9f);}if(_0x2e26a8[_0x5de102(0x505)][_0x5de102(0x22d)]&&_0x16e8e1[_0x5de102(0x44f)]){_0x2e26a8[_0x5de102(0x505)][_0x5de102(0x22d)][_0x16e8e1['saveVariable']]=_0x298e48;let _0x274d0d={'variable':_0x16e8e1['saveVariable'],'oldValue':_0x53e24c,'newValue':_0x298e48,'moreLogs':_0x13fbb1};try{this[_0x5de102(0x6b8)](_0x2e26a8,_0x16e8e1,_0x274d0d);}catch(_0x2b2ed0){this[_0x5de102(0x26e)][_0x5de102(0x4a8)](_0x5de102(0x31f)+_0x2b2ed0[_0x5de102(0x450)]);}}return _0x25c96d;}catch(_0x46eb32){return this['logger'][_0x5de102(0x4a8)](_0x5de102(0x476)+_0x46eb32[_0x5de102(0x450)]),null;}}async['processConditions'](_0x12c6d4,_0x3d7f7a){const _0x5317ee=a0_0x341dd0;try{let _0x15b919=[],_0x409872=_0x12c6d4[_0x5317ee(0x5ce)][_0x5317ee(0x435)](_0x5e1b94=>_0x5e1b94[_0x5317ee(0x580)]===_0x3d7f7a['_id']['toString']()),_0x103937=null,_0x3487f7=!0x1;for(let _0x8186f7 of _0x409872){let _0x4565e7=this[_0x5317ee(0x79f)](_0x12c6d4,_0x8186f7);_0x15b919['push'](_0x5317ee(0x2dd)+_0x8186f7['firstValue']+',\x20Comparador:\x20'+_0x8186f7[_0x5317ee(0x3d3)]+_0x5317ee(0x248)+_0x8186f7[_0x5317ee(0x40f)]+',\x20Resultado:\x20'+_0x4565e7),_0x103937===null?_0x103937=_0x4565e7:_0x8186f7['OrAnd']===_0x5317ee(0x4e1)?(_0x103937=_0x103937&&_0x4565e7,_0x4565e7||(_0x3487f7=!0x0)):_0x8186f7[_0x5317ee(0x355)]==='or'&&(_0x3487f7||(_0x103937=_0x103937||_0x4565e7));}_0x103937===null&&(_0x103937=!0x0);let _0x5129ba={'moreLogs':_0x15b919};_0x12c6d4[_0x5317ee(0x505)][_0x5317ee(0x5f8)]=_0x103937,await this['updateConversation'](_0x12c6d4,_0x3d7f7a,_0x5129ba);}catch(_0x118735){this[_0x5317ee(0x26e)]['error'](this['instanceName']+'\x20('+this[_0x5317ee(0x286)]['wuid']+_0x5317ee(0x558)+(_0x118735 instanceof Error?_0x118735['message']:JSON[_0x5317ee(0x3c8)](_0x118735,null,0x2)));}}[a0_0x341dd0(0x79f)](_0xbb7d33,_0x3aaabc){const _0x21a0a7=a0_0x341dd0;let _0x44f4b2=_0x3aaabc[_0x21a0a7(0x319)],_0x18289c=_0x3aaabc['secondValue'];typeof _0x44f4b2=='string'&&(_0x44f4b2=this[_0x21a0a7(0x25e)](_0x44f4b2,_0xbb7d33['chatLog'][_0x21a0a7(0x22d)])??''),typeof _0x18289c==_0x21a0a7(0x347)&&(_0x18289c=this[_0x21a0a7(0x25e)](_0x18289c,_0xbb7d33[_0x21a0a7(0x505)][_0x21a0a7(0x22d)])??'');try{switch(_0x3aaabc['expression']){case _0x21a0a7(0x51a):return _0x44f4b2===_0x18289c;case _0x21a0a7(0x644):return _0x44f4b2!==_0x18289c;case _0x21a0a7(0x326):return this[_0x21a0a7(0x326)](_0x44f4b2,_0x18289c);case'notContains':return!this[_0x21a0a7(0x326)](_0x44f4b2,_0x18289c);case _0x21a0a7(0x655):return parseFloat(_0x44f4b2)>parseFloat(_0x18289c);case _0x21a0a7(0x855):return parseFloat(_0x44f4b2)<parseFloat(_0x18289c);case _0x21a0a7(0x1e3):return _0x44f4b2!=='';case _0x21a0a7(0x629):return _0x44f4b2==='';case'matchRegex':return new RegExp(_0x18289c)[_0x21a0a7(0x4a1)](_0x44f4b2);case'notMatchRegex':return!new RegExp(_0x18289c)[_0x21a0a7(0x4a1)](_0x44f4b2);default:return!0x1;}}catch(_0x354a90){return this[_0x21a0a7(0x26e)][_0x21a0a7(0x4a8)](_0x21a0a7(0x1ea)+_0x354a90),!0x1;}}[a0_0x341dd0(0x326)](_0x384b7c,_0x4f910c){const _0xc0b6bc=a0_0x341dd0;if(_0x384b7c===_0x4f910c&&/^\d+$/[_0xc0b6bc(0x4a1)](_0x384b7c))return!0x0;if(this[_0xc0b6bc(0x6c8)](_0x384b7c)&&/^\d+$/['test'](_0x4f910c)){let _0x4046a5=_0x384b7c['split'](',')[_0xc0b6bc(0x486)](_0x4cc765=>parseInt(_0x4cc765['trim']())),_0x130b71=parseInt(_0x4f910c);return _0x4046a5[_0xc0b6bc(0x23d)](_0x130b71);}return _0x384b7c[_0xc0b6bc(0x23d)](_0x4f910c);}['isListOfNumbers'](_0x3a8ba8){const _0x1a398a=a0_0x341dd0;return/^\d+(,\d+)*$/[_0x1a398a(0x4a1)](_0x3a8ba8);}[a0_0x341dd0(0x327)](_0x2be459){const _0x3f9d93=a0_0x341dd0;let _0x85827f=!0x0,_0x5781e0=null;for(let _0x45c1e3 of _0x2be459){let _0x52bc89=this['evaluateConditionTest'](_0x45c1e3);if(_0x5781e0==='or'&&_0x52bc89){_0x85827f=!0x0;break;}if(_0x5781e0===_0x3f9d93(0x4e1)&&!_0x52bc89){_0x85827f=!0x1;break;}_0x5781e0=_0x45c1e3['OrAnd'];}return _0x85827f;}['evaluateConditionTest'](_0x1b3acf){const _0x310875=a0_0x341dd0;let _0x29a7f4=_0x1b3acf[_0x310875(0x319)],_0x10bada=_0x1b3acf[_0x310875(0x40f)];try{switch(_0x1b3acf[_0x310875(0x3d3)]){case _0x310875(0x51a):return String(_0x29a7f4)===String(_0x10bada);case _0x310875(0x644):return String(_0x29a7f4)!==String(_0x10bada);case _0x310875(0x326):return String(_0x29a7f4)[_0x310875(0x23d)](String(_0x10bada));case'notContains':return!String(_0x29a7f4)[_0x310875(0x23d)](String(_0x10bada));case _0x310875(0x655):return parseFloat(String(_0x29a7f4))>parseFloat(String(_0x10bada));case'less':return parseFloat(String(_0x29a7f4))<parseFloat(String(_0x10bada));case'notEmpty':return String(_0x29a7f4)!=='';case _0x310875(0x629):return String(_0x29a7f4)==='';case _0x310875(0x86f):return new RegExp(String(_0x10bada))['test'](String(_0x29a7f4));case'notMatchRegex':return!new RegExp(String(_0x10bada))['test'](String(_0x29a7f4));default:return!0x1;}}catch(_0x294be6){return this[_0x310875(0x26e)][_0x310875(0x4a8)](_0x310875(0x1ea)+_0x294be6),!0x1;}}async[a0_0x341dd0(0x1f9)](_0x1cc2aa,_0x42dac8){const _0x52cb27=a0_0x341dd0;if(this[_0x52cb27(0x26e)][_0x52cb27(0x769)](this[_0x52cb27(0x7d8)]+'\x20('+this[_0x52cb27(0x286)]['wuid']+_0x52cb27(0x7c6)),!_0x1cc2aa||!_0x42dac8)return this['logger'][_0x52cb27(0x4a8)](this[_0x52cb27(0x7d8)]+'\x20('+this[_0x52cb27(0x286)][_0x52cb27(0x2a8)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x20d3cd=_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x753)]['key']['id'];this[_0x52cb27(0x26e)][_0x52cb27(0x769)](this[_0x52cb27(0x7d8)]+'\x20('+this[_0x52cb27(0x286)][_0x52cb27(0x2a8)]+_0x52cb27(0x271)+_0x20d3cd);let _0x16fc44={'key':{'id':_0x20d3cd}},_0x2be80c=_0x42dac8[_0x52cb27(0x44f)];_0x1cc2aa['chatLog']['realVariables']['_'+_0x2be80c+_0x52cb27(0x2bd)]=null,_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)]['_'+_0x2be80c+_0x52cb27(0x6fc)]=null,_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)]['_'+_0x2be80c+'.extension']=null,_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)]['_'+_0x2be80c+_0x52cb27(0x200)]=_0x1cc2aa['chatLog']['lastReceivedMessage'][_0x52cb27(0x1fc)];try{let _0x5bdbf2=await this[_0x52cb27(0x5a1)](_0x16fc44);this[_0x52cb27(0x26e)]['verbose'](this[_0x52cb27(0x7d8)]+'\x20('+this['instance'][_0x52cb27(0x2a8)]+_0x52cb27(0x1f5)),_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)]['_'+_0x2be80c+_0x52cb27(0x5fe)]=_0x5bdbf2['fileUrl'],_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)]['_'+_0x2be80c+_0x52cb27(0x6fc)]=_0x5bdbf2[_0x52cb27(0x43d)];let _0x58ea66=_0x5bdbf2[_0x52cb27(0x43d)][_0x52cb27(0x61a)](/\/(\w+)$/),_0x3af0c0=_0x58ea66?_0x58ea66[0x1]:null;_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)]['_'+_0x2be80c+_0x52cb27(0x2f7)]=_0x3af0c0,this[_0x52cb27(0x26e)][_0x52cb27(0x769)](this['instanceName']+'\x20('+this[_0x52cb27(0x286)][_0x52cb27(0x2a8)]+_0x52cb27(0x297)+_0x2be80c+'\x27.');}catch(_0x2bc9a4){this[_0x52cb27(0x26e)][_0x52cb27(0x4a8)](this['instanceName']+'\x20('+this[_0x52cb27(0x286)]['wuid']+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x2bc9a4[_0x52cb27(0x450)]);}let _0x2cd0c5=_0x1cc2aa[_0x52cb27(0x505)]['lastReceivedMessage']['text']||_0x1cc2aa['chatLog'][_0x52cb27(0x753)]['caption']||_0x1cc2aa['chatLog'][_0x52cb27(0x753)][_0x52cb27(0x7a8)];try{_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)]||(_0x1cc2aa['chatLog']['realVariables']={});let _0x3abaf3=_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)][_0x2be80c];_0x1cc2aa[_0x52cb27(0x505)][_0x52cb27(0x22d)][_0x2be80c]=_0x2cd0c5;let _0x27370d={'variable':_0x2be80c,'oldValue':_0x3abaf3,'newValue':_0x2cd0c5};this[_0x52cb27(0x6b8)](_0x1cc2aa,_0x42dac8,_0x27370d),this[_0x52cb27(0x26e)]['verbose'](this[_0x52cb27(0x7d8)]+'\x20('+this[_0x52cb27(0x286)]['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x28d4d1){let _0x459958={'error':!0x0,'errorLog':_0x28d4d1[_0x52cb27(0x5a5)]()};return this[_0x52cb27(0x6b8)](_0x1cc2aa,_0x42dac8,_0x459958),this['logger'][_0x52cb27(0x4a8)](this[_0x52cb27(0x7d8)]+'\x20('+this[_0x52cb27(0x286)][_0x52cb27(0x2a8)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x28d4d1 instanceof Error?_0x28d4d1['message']:JSON[_0x52cb27(0x3c8)](_0x28d4d1,null,0x2))),null;}}async[a0_0x341dd0(0x668)](_0x376e25,_0x1e9c00){const _0x57c65f=a0_0x341dd0;if(this[_0x57c65f(0x26e)][_0x57c65f(0x769)](this[_0x57c65f(0x7d8)]+'\x20('+this[_0x57c65f(0x286)][_0x57c65f(0x2a8)]+_0x57c65f(0x31d)),!_0x376e25||!_0x1e9c00)return this['logger'][_0x57c65f(0x4a8)](this['instanceName']+'\x20('+this[_0x57c65f(0x286)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x343b19=Date[_0x57c65f(0x20e)](),_0x423fcf=parseInt(_0x1e9c00[_0x57c65f(0x541)],0xa);if(isNaN(_0x423fcf))return this['logger'][_0x57c65f(0x4a8)](this[_0x57c65f(0x7d8)]+'\x20('+this[_0x57c65f(0x286)]['wuid']+_0x57c65f(0x454)),null;let _0x726fe9={'newStoppedUntil':_0x343b19+_0x423fcf*0x3c*0x3e8};return await this['updateConversation'](_0x376e25,_0x1e9c00,_0x726fe9,!0x0),null;}async['processUazapi'](_0x296e10,_0x514eec){const _0x36ec7d=a0_0x341dd0;try{switch(_0x514eec[_0x36ec7d(0x3e3)]['command']){case _0x36ec7d(0x82f):await this['uazapiSendText'](_0x296e10,_0x514eec);break;case _0x36ec7d(0x352):await this['uazapiSendMedia'](_0x296e10,_0x514eec);break;case _0x36ec7d(0x700):await this[_0x36ec7d(0x8b5)](_0x296e10,_0x514eec);break;case _0x36ec7d(0x52f):await this[_0x36ec7d(0x7ae)](_0x296e10,_0x514eec);break;case _0x36ec7d(0x24f):await this[_0x36ec7d(0x72b)](_0x296e10,_0x514eec);break;case _0x36ec7d(0x771):await this['uazapiSendMenu'](_0x296e10,_0x514eec);break;case'sendMenu':await this['uazapiSendMenu'](_0x296e10,_0x514eec);break;case'deleteMessage':await this[_0x36ec7d(0x4d8)](_0x296e10,_0x514eec);break;default:this['logger']['error'](this[_0x36ec7d(0x7d8)]+'\x20('+this[_0x36ec7d(0x286)][_0x36ec7d(0x2a8)]+_0x36ec7d(0x628)+_0x514eec[_0x36ec7d(0x3e3)][_0x36ec7d(0x46c)]);}}catch(_0x485f1b){this[_0x36ec7d(0x26e)][_0x36ec7d(0x4a8)](this[_0x36ec7d(0x7d8)]+'\x20('+this[_0x36ec7d(0x286)][_0x36ec7d(0x2a8)]+_0x36ec7d(0x82d)+(_0x485f1b instanceof Error?_0x485f1b[_0x36ec7d(0x450)]:JSON[_0x36ec7d(0x3c8)](_0x485f1b,null,0x2)));}}async[a0_0x341dd0(0x6b8)](_0x329a5c,_0x4845ea,_0x3f08f6,_0x124f96=!0x1,_0x42c2c4=!0x1){const _0x3ed92c=a0_0x341dd0;_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x2ab)]||(_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x2ab)]=[]);let _0x41e954=(_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x2ab)]?.[_0x3ed92c(0x65e)]??0x0)+0x1,_0x30b394=_0x329a5c[_0x3ed92c(0x505)]['blockLogs']['filter'](_0x5c23f9=>String(_0x5c23f9[_0x3ed92c(0x580)])===String(_0x4845ea['_id']))[_0x3ed92c(0x65e)]+0x1,_0x374b7c=_0x3f08f6?.[_0x3ed92c(0x611)]??Date[_0x3ed92c(0x20e)](),_0x447ca3=_0x3f08f6?.['error']?_0x3f08f6[_0x3ed92c(0x51f)]??_0x3f08f6[_0x3ed92c(0x4a8)]['toString']():void 0x0,_0x45fed8={'onTime':_0x374b7c,'blockId':_0x4845ea[_0x3ed92c(0x747)],'order':_0x41e954,'activatedCount':_0x30b394,'error':_0x3f08f6?.[_0x3ed92c(0x4a8)]??!0x1,'messageId':_0x3f08f6?.[_0x3ed92c(0x253)],'apiResponse':_0x3f08f6?.[_0x3ed92c(0x765)],'apiResponseString':_0x3f08f6?.[_0x3ed92c(0x765)]?JSON[_0x3ed92c(0x3c8)](_0x3f08f6?.[_0x3ed92c(0x765)]):void 0x0,'variable':_0x3f08f6?.[_0x3ed92c(0x7e1)],'oldValue':_0x3f08f6?.[_0x3ed92c(0x4a0)],'newValue':_0x3f08f6?.[_0x3ed92c(0x4e9)],'newStoppedUntil':_0x3f08f6?.['newStoppedUntil'],'moreLogs':_0x3f08f6?.[_0x3ed92c(0x896)],'errorLog':_0x447ca3};if(_0x3f08f6[_0x3ed92c(0x896)]&&_0x3f08f6[_0x3ed92c(0x896)][_0x3ed92c(0x65e)]>0x0){let _0x5c9f69=_0x3f08f6[_0x3ed92c(0x896)][_0x3ed92c(0x486)](_0x4cd070=>this[_0x3ed92c(0x8ca)](_0x4cd070,_0x329a5c['chatLog'][_0x3ed92c(0x22d)]));_0x45fed8[_0x3ed92c(0x896)]=_0x5c9f69;}if(_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x22d)]||(_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x22d)]={}),_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x22d)]['_activatedCount']=String(_0x30b394),_0x329a5c['chatLog'][_0x3ed92c(0x22d)]['_error']=String(_0x3f08f6['error']??!0x1),_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x2ab)][_0x3ed92c(0x452)](_0x45fed8),_0x329a5c[_0x3ed92c(0x505)]['realVariables'][_0x3ed92c(0x52a)]&&_0x329a5c[_0x3ed92c(0x505)]['realVariables'][_0x3ed92c(0x52a)]!==_0x329a5c[_0x3ed92c(0x68c)]){let _0x3c31a9=(await this[_0x3ed92c(0x3bd)]({'numbers':[_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x22d)]['telefone']]}))[0x0][_0x3ed92c(0x824)];_0x329a5c['chatLog'][_0x3ed92c(0x22d)][_0x3ed92c(0x52a)]=_0x3c31a9,_0x329a5c[_0x3ed92c(0x68c)]=_0x3c31a9;try{let _0x1fc6c1={'_id':{'$ne':_0x329a5c[_0x3ed92c(0x747)]},'remoteJid':_0x3c31a9,'status':_0x3ed92c(0x86d)},_0x5f1d1e={'status':_0x3ed92c(0x7f1)};await this[_0x3ed92c(0x6d5)][_0x3ed92c(0x6f8)][_0x3ed92c(0x7fc)](_0x1fc6c1,_0x5f1d1e,this['instance'][_0x3ed92c(0x2a8)]),this['logger'][_0x3ed92c(0x769)](this[_0x3ed92c(0x7d8)]+'\x20('+this['instance'][_0x3ed92c(0x2a8)]+_0x3ed92c(0x6f9));}catch(_0x422720){this['logger'][_0x3ed92c(0x4a8)](this['instanceName']+'\x20('+this[_0x3ed92c(0x286)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x422720[_0x3ed92c(0x450)]);}try{let _0x479d1a=_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x22d)],_0x4683e3=await this[_0x3ed92c(0x287)](_0x3c31a9),_0x22dfe4={..._0x479d1a,..._0x4683e3,'_remoteJid':_0x3c31a9};_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x22d)]=_0x22dfe4;}catch(_0x11c3dd){this[_0x3ed92c(0x26e)][_0x3ed92c(0x4a8)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x11c3dd['message']);}}_0x329a5c[_0x3ed92c(0x505)]['lastBlockId']=_0x4845ea[_0x3ed92c(0x747)]['toString'](),_0x329a5c[_0x3ed92c(0x505)]['lastSendMessage']&&(_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x634)]=_0x329a5c[_0x3ed92c(0x505)]['lastSendMessage']),_0x329a5c[_0x3ed92c(0x505)]['lastReceivedMessage']&&(_0x329a5c[_0x3ed92c(0x505)]['lastReceivedMessage']=_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x753)]),_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x5f8)]&&(_0x329a5c[_0x3ed92c(0x505)][_0x3ed92c(0x5f8)]=_0x329a5c[_0x3ed92c(0x505)]['lastCondition']),_0x42c2c4&&(_0x329a5c[_0x3ed92c(0x826)]=_0x3ed92c(0x7f1)),_0x124f96?this[_0x3ed92c(0x7d0)](_0x329a5c):this[_0x3ed92c(0x1d4)](_0x329a5c,_0x4845ea);}[a0_0x341dd0(0x8ca)](_0x4e3363,_0x229ab9){const _0xde6f00=a0_0x341dd0;return _0x4e3363['replace'](/\{\{([^}]+)\}\}/g,(_0x429289,_0x294c33)=>_0x229ab9[_0x294c33]?'{{'+_0x294c33+'}}\x20->\x20\x22'+_0x229ab9[_0x294c33]+'\x22':'{{'+_0x294c33+_0xde6f00(0x740));}async['saveConversationToDatabase'](_0x15f5e9){const _0x4f7ad9=a0_0x341dd0;try{let _0x2f4d62=Object[_0x4f7ad9(0x760)](_0x15f5e9[_0x4f7ad9(0x505)][_0x4f7ad9(0x22d)])[_0x4f7ad9(0x486)](([_0x526139,_0x1359a6])=>({'name':_0x526139,'value':_0x1359a6})),_0x338bb7={'status':_0x15f5e9['status'],'remoteJid':_0x15f5e9[_0x4f7ad9(0x68c)],'blocks':_0x15f5e9[_0x4f7ad9(0x48b)],'waitingMenu_id':_0x15f5e9[_0x4f7ad9(0x5fc)],'waitingMenu_text':_0x15f5e9[_0x4f7ad9(0x310)],'waitingMenu_replyOptions':_0x15f5e9[_0x4f7ad9(0x262)],'chatLog':{'lastBlockId':_0x15f5e9[_0x4f7ad9(0x505)][_0x4f7ad9(0x426)],'lastSendMessage':_0x15f5e9[_0x4f7ad9(0x505)][_0x4f7ad9(0x634)],'lastReceivedMessage':_0x15f5e9[_0x4f7ad9(0x505)]['lastReceivedMessage'],'lastCondition':_0x15f5e9['chatLog'][_0x4f7ad9(0x5f8)],'chatVariables':_0x2f4d62,'realVariables':_0x15f5e9[_0x4f7ad9(0x505)][_0x4f7ad9(0x22d)],'blockLogs':_0x15f5e9[_0x4f7ad9(0x505)][_0x4f7ad9(0x2ab)]}},_0x1b9d7a=await this[_0x4f7ad9(0x6d5)]['flowConversation'][_0x4f7ad9(0x331)](_0x15f5e9[_0x4f7ad9(0x747)],_0x338bb7,this[_0x4f7ad9(0x286)][_0x4f7ad9(0x2a8)]);if(_0x1b9d7a){this[_0x4f7ad9(0x26e)][_0x4f7ad9(0x769)](this['instanceName']+'\x20('+this[_0x4f7ad9(0x286)]['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x1b9d7a[_0x4f7ad9(0x747)]);try{let _0xd66ef0=[_0x4f7ad9(0x40c),_0x4f7ad9(0x58e),_0x4f7ad9(0x4ce),_0x4f7ad9(0x4d6),_0x4f7ad9(0x826),_0x4f7ad9(0x1d3),_0x4f7ad9(0x664),_0x4f7ad9(0x690),_0x4f7ad9(0x710),_0x4f7ad9(0x267)];if(!this[_0x4f7ad9(0x2d9)]&&(await this['getAutomateSystem'](),!this[_0x4f7ad9(0x2d9)]))throw new Error(_0x4f7ad9(0x60e));let _0x4b8933=this['AutomateSystem']?.['customFields'][_0x4f7ad9(0x486)](_0x585f6c=>_0x585f6c[_0x4f7ad9(0x1fa)]),_0x3a98e4={};Object[_0x4f7ad9(0x760)](_0x15f5e9[_0x4f7ad9(0x505)][_0x4f7ad9(0x22d)])[_0x4f7ad9(0x8b4)](([_0x17f90e,_0x903879])=>{const _0x5e098e=_0x4f7ad9;_0xd66ef0[_0x5e098e(0x23d)](_0x17f90e)&&(_0x17f90e===_0x5e098e(0x690)&&typeof _0x903879=='string'?_0x3a98e4[_0x17f90e]=_0x903879[_0x5e098e(0x518)](',')[_0x5e098e(0x486)](_0x352bfc=>_0x352bfc[_0x5e098e(0x788)]())[_0x5e098e(0x435)](_0x475966=>_0x475966!==''):_0x17f90e==='etiquetas'&&typeof _0x903879==_0x5e098e(0x347)?_0x3a98e4[_0x17f90e]=_0x903879[_0x5e098e(0x518)](',')[_0x5e098e(0x486)](_0x4f58fd=>_0x4f58fd['trim']())['filter'](_0x4606b6=>_0x4606b6!==''):_0x3a98e4[_0x17f90e]=_0x903879);});let _0x3f4244=_0x15f5e9[_0x4f7ad9(0x505)]['blockLogs'][_0x15f5e9[_0x4f7ad9(0x505)][_0x4f7ad9(0x2ab)][_0x4f7ad9(0x65e)]-0x1];if(_0x3f4244){let _0x2eb022=_0x3f4244[_0x4f7ad9(0x6b6)];_0x2eb022!==void 0x0&&(_0x3a98e4[_0x4f7ad9(0x763)]=_0x2eb022['toString']());}let _0x404c8e=_0x2f4d62[_0x4f7ad9(0x435)](_0x46e686=>_0x4b8933[_0x4f7ad9(0x23d)](_0x46e686[_0x4f7ad9(0x1fa)]));this['logger']['verbose'](this[_0x4f7ad9(0x7d8)]+'\x20('+this[_0x4f7ad9(0x286)][_0x4f7ad9(0x2a8)]+_0x4f7ad9(0x506)),this['logger'][_0x4f7ad9(0x769)](_0x3a98e4),this[_0x4f7ad9(0x26e)][_0x4f7ad9(0x769)](this[_0x4f7ad9(0x7d8)]+'\x20('+this[_0x4f7ad9(0x286)][_0x4f7ad9(0x2a8)]+_0x4f7ad9(0x306)),this['logger'][_0x4f7ad9(0x769)](_0x404c8e);let _0x57160e=_0x404c8e[_0x4f7ad9(0x486)](_0xc26dc4=>{const _0x5155a2=_0x4f7ad9;let _0x4e0d6a=this[_0x5155a2(0x2d9)]?.[_0x5155a2(0x5ff)][_0x5155a2(0x232)](_0x5ba78b=>_0x5ba78b[_0x5155a2(0x1fa)]===_0xc26dc4[_0x5155a2(0x1fa)]);if(!_0x4e0d6a)throw new Error(_0x5155a2(0x1ef)+_0xc26dc4['name']);return{'_id':_0x4e0d6a[_0x5155a2(0x747)],'value':_0xc26dc4[_0x5155a2(0x24c)]};});this[_0x4f7ad9(0x26e)][_0x4f7ad9(0x769)](this[_0x4f7ad9(0x7d8)]+'\x20('+this[_0x4f7ad9(0x286)][_0x4f7ad9(0x2a8)]+'):\x20transformedCustomFieldVariables'),this[_0x4f7ad9(0x26e)][_0x4f7ad9(0x769)](_0x57160e),await this[_0x4f7ad9(0x7ba)](_0x15f5e9[_0x4f7ad9(0x68c)],_0x3a98e4,_0x57160e);}catch(_0x11c9b7){this['logger']['error'](this[_0x4f7ad9(0x7d8)]+'\x20('+this[_0x4f7ad9(0x286)][_0x4f7ad9(0x2a8)]+_0x4f7ad9(0x21f)+(_0x11c9b7 instanceof Error?_0x11c9b7['message']:JSON[_0x4f7ad9(0x3c8)](_0x11c9b7,null,0x2)));}}else this[_0x4f7ad9(0x26e)][_0x4f7ad9(0x4a8)](this['instanceName']+'\x20('+this[_0x4f7ad9(0x286)]['wuid']+_0x4f7ad9(0x8f8));}catch(_0x30105a){this['logger'][_0x4f7ad9(0x4a8)](this[_0x4f7ad9(0x7d8)]+'\x20('+this['instance'][_0x4f7ad9(0x2a8)]+_0x4f7ad9(0x630)+(_0x30105a instanceof Error?_0x30105a[_0x4f7ad9(0x450)]:JSON[_0x4f7ad9(0x3c8)](_0x30105a,null,0x2)));}}async['saveChatVariables'](_0x3136ed,_0x474b5a,_0x54203c){const _0x3b72dd=a0_0x341dd0;try{let _0x36ffdc={'leadInfo.leadnome':_0x474b5a[_0x3b72dd(0x40c)],'leadInfo.nomecompleto':_0x474b5a['nomecompleto'],'leadInfo.email':_0x474b5a[_0x3b72dd(0x4ce)],'leadInfo.cpf':_0x474b5a[_0x3b72dd(0x4d6)],'leadInfo.status':_0x474b5a[_0x3b72dd(0x826)],'leadInfo.notas':_0x474b5a[_0x3b72dd(0x1d3)],'leadInfo.responsavelid':_0x474b5a['responsavelid'],'leadInfo.tags':_0x474b5a[_0x3b72dd(0x690)],'leadInfo.etiquetas':_0x474b5a['etiquetas'],'leadInfo.customFields':_0x54203c,'leadInfo.atendimentoAberto':_0x474b5a[_0x3b72dd(0x267)]},_0x5e8f03=await this[_0x3b72dd(0x6d5)][_0x3b72dd(0x8b3)]['findOne']({'where':{'_id':_0x3136ed}},this[_0x3b72dd(0x286)][_0x3b72dd(0x2a8)]);if(!_0x5e8f03)return _0x3b72dd(0x859);let _0x10981f=new Set(_0x5e8f03[_0x3b72dd(0x43e)]['etiquetas']||[]),_0x307630=new Set(_0x474b5a['etiquetas']||[]),_0x43e17c=await this[_0x3b72dd(0x6d5)][_0x3b72dd(0x33f)][_0x3b72dd(0x232)]({'where':{}},this[_0x3b72dd(0x286)][_0x3b72dd(0x2a8)]),_0x25023b=new Set(_0x43e17c[_0x3b72dd(0x486)](_0x301b9f=>_0x301b9f['_id'])),_0x3c2b63=[..._0x307630][_0x3b72dd(0x435)](_0x15477c=>!_0x10981f[_0x3b72dd(0x568)](_0x15477c)&&_0x25023b[_0x3b72dd(0x568)](_0x15477c)),_0x504fe0=[..._0x10981f][_0x3b72dd(0x435)](_0x4eefd5=>!_0x307630[_0x3b72dd(0x568)](_0x4eefd5));for(let _0x529a8d of _0x3c2b63)await this['AddChatLabel'](_0x529a8d,_0x5e8f03[_0x3b72dd(0x747)]),_0x10981f[_0x3b72dd(0x2f8)](_0x529a8d);for(let _0x451c79 of _0x504fe0)await this[_0x3b72dd(0x6fd)](_0x451c79,_0x5e8f03[_0x3b72dd(0x747)]),_0x10981f['delete'](_0x451c79);if(_0x3b72dd(0x763)in _0x474b5a){let _0x5d9aa4=_0x474b5a['desativadoFluxoAte'];_0x36ffdc[_0x3b72dd(0x1f0)]=_0x5d9aa4?Number(_0x5d9aa4):null;}if(_0x3b72dd(0x267)in _0x474b5a){let _0xe6d745=_0x474b5a[_0x3b72dd(0x267)][_0x3b72dd(0x1c6)]();_0x36ffdc[_0x3b72dd(0x412)]=_0xe6d745===_0x3b72dd(0x203)||_0xe6d745==='1'||_0xe6d745==='yes'||_0xe6d745===_0x3b72dd(0x457);}let _0x22dce6=await this['repository']['chat'][_0x3b72dd(0x331)]({'where':{'_id':_0x3136ed}},_0x36ffdc,this[_0x3b72dd(0x286)][_0x3b72dd(0x2a8)]);_0x22dce6?(this[_0x3b72dd(0x26e)][_0x3b72dd(0x769)](this['instanceName']+'\x20('+this[_0x3b72dd(0x286)]['wuid']+_0x3b72dd(0x512)+_0x22dce6[_0x3b72dd(0x747)]),J(this[_0x3b72dd(0x7d8)],'chats',{'chat':_0x22dce6})):this[_0x3b72dd(0x26e)][_0x3b72dd(0x4a8)](this[_0x3b72dd(0x7d8)]+'\x20('+this[_0x3b72dd(0x286)][_0x3b72dd(0x2a8)]+_0x3b72dd(0x408));}catch(_0x3abbf8){this['logger'][_0x3b72dd(0x4a8)](this[_0x3b72dd(0x7d8)]+'\x20('+this[_0x3b72dd(0x286)][_0x3b72dd(0x2a8)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x3abbf8 instanceof Error?_0x3abbf8[_0x3b72dd(0x450)]:JSON[_0x3b72dd(0x3c8)](_0x3abbf8,null,0x2)));}}async['updateStopChat'](_0x3311bb,_0x287454){const _0x4902bd=a0_0x341dd0;this[_0x4902bd(0x26e)][_0x4902bd(0x769)](this[_0x4902bd(0x7d8)]+'\x20('+this['instance'][_0x4902bd(0x2a8)]+_0x4902bd(0x86e)+_0x287454);try{let _0xc04479=await this['repository']['chat'][_0x4902bd(0x331)]({'where':{'_id':_0x3311bb[_0x4902bd(0x68c)]}},{'leadInfo.desativadoFluxoAte':_0x287454},this[_0x4902bd(0x286)][_0x4902bd(0x2a8)]);this[_0x4902bd(0x26e)][_0x4902bd(0x769)](this[_0x4902bd(0x7d8)]+'\x20('+this[_0x4902bd(0x286)]['wuid']+_0x4902bd(0x88d)+_0x3311bb[_0x4902bd(0x747)]),this['logger'][_0x4902bd(0x769)](this[_0x4902bd(0x7d8)]+'\x20('+this[_0x4902bd(0x286)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x4902bd(0x3c8)](_0xc04479,null,0x2)),_0xc04479&&J(this['instanceName'],_0x4902bd(0x374),{'chat':_0xc04479});}catch(_0x34882){this[_0x4902bd(0x26e)][_0x4902bd(0x4a8)](this[_0x4902bd(0x7d8)]+'\x20('+this[_0x4902bd(0x286)][_0x4902bd(0x2a8)]+_0x4902bd(0x3cb)+(_0x34882 instanceof Error?_0x34882[_0x4902bd(0x450)]:JSON['stringify'](_0x34882,null,0x2)));}}async[a0_0x341dd0(0x7e8)](_0x315d75){const _0x3b4d1c=a0_0x341dd0;try{this[_0x3b4d1c(0x26e)][_0x3b4d1c(0x769)](this['instanceName']+'\x20('+this[_0x3b4d1c(0x286)][_0x3b4d1c(0x2a8)]+_0x3b4d1c(0x850));let _0x5cb8ef=_0x315d75[_0x3b4d1c(0x589)](/\D/g,''),_0xae19ea=this[_0x3b4d1c(0x2d9)][_0x3b4d1c(0x520)][_0x3b4d1c(0x232)](_0x25b2b5=>_0x25b2b5['testingWith']===_0x5cb8ef);if(_0xae19ea||(this[_0x3b4d1c(0x26e)][_0x3b4d1c(0x769)](this['instanceName']+'\x20('+this['instance'][_0x3b4d1c(0x2a8)]+_0x3b4d1c(0x719)),_0xae19ea=this[_0x3b4d1c(0x2d9)][_0x3b4d1c(0x520)][_0x3b4d1c(0x232)](_0x65ee5a=>_0x65ee5a['default']===!0x0)),!_0xae19ea)return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3b4d1c(0x2a8)]+_0x3b4d1c(0x588)),null;let _0x56e530=await this['repository'][_0x3b4d1c(0x414)][_0x3b4d1c(0x2c7)]({'where':{'_id':_0xae19ea[_0x3b4d1c(0x747)]}});if(!_0x56e530||!_0x56e530['whoCanUse']?.['includes'](this[_0x3b4d1c(0x286)][_0x3b4d1c(0x2a8)]))throw this[_0x3b4d1c(0x26e)]['error'](this[_0x3b4d1c(0x7d8)]+'\x20('+this['instance'][_0x3b4d1c(0x2a8)]+_0x3b4d1c(0x3f5)+_0x56e530[_0x3b4d1c(0x747)]+_0x3b4d1c(0x249)),new m(_0x3b4d1c(0x22a)+_0x56e530[_0x3b4d1c(0x747)]+_0x3b4d1c(0x249));return _0x56e530;}catch(_0x23ff32){return this[_0x3b4d1c(0x26e)][_0x3b4d1c(0x4a8)](this[_0x3b4d1c(0x7d8)]+'\x20('+this['instance'][_0x3b4d1c(0x2a8)]+_0x3b4d1c(0x52d)+(_0x23ff32 instanceof Error?_0x23ff32[_0x3b4d1c(0x450)]:JSON[_0x3b4d1c(0x3c8)](_0x23ff32,null,0x2))),null;}}async[a0_0x341dd0(0x3f9)](_0x27f370,_0x463366){const _0x57ee03=a0_0x341dd0;try{let _0x199ace=!!_0x463366[_0x57ee03(0x7a8)],_0x5aa690=_0x463366['quoted'],_0x3b58a0=null;if(this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this['instanceName']+'\x20('+this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]+_0x57ee03(0x81a)+_0x199ace+_0x57ee03(0x81e)+_0x5aa690),_0x199ace){this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]+_0x57ee03(0x432));let _0x3d837e={'where':{'remoteJid':_0x27f370,'waitingMenu_id':_0x5aa690}};if(_0x3b58a0=await this['repository'][_0x57ee03(0x6f8)]['findOne'](_0x3d837e,this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]),!_0x3b58a0)return this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this[_0x57ee03(0x286)]['wuid']+_0x57ee03(0x446)),null;let _0x4a9c66=Date['now'](),_0x512126=_0x3b58a0?.[_0x57ee03(0x694)]||0x0,_0x2b0dd2=_0x4a9c66-_0x512126*0x3c*0x3e8;if(_0x3b58a0[_0x57ee03(0x338)]<_0x2b0dd2){this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this['instanceName']+'\x20('+this['instance'][_0x57ee03(0x2a8)]+_0x57ee03(0x1c9));let _0x11366e={'number':_0x3b58a0[_0x57ee03(0x68c)],'options':{'delay':0x0},'textMessage':{'text':_0x3b58a0[_0x57ee03(0x55e)]}};await this[_0x57ee03(0x852)](_0x11366e);let _0x5ed26f={'status':_0x57ee03(0x7f1),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x57ee03(0x6f8)][_0x57ee03(0x331)](_0x3b58a0[_0x57ee03(0x747)],_0x5ed26f,this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]),null;}return _0x3b58a0[_0x57ee03(0x338)]=Date['now'](),_0x3b58a0[_0x57ee03(0x505)][_0x57ee03(0x753)]=_0x463366,_0x3b58a0;}else{this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this['instance']['wuid']+_0x57ee03(0x867)+this['instance'][_0x57ee03(0x2a8)]+_0x57ee03(0x597)),this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this['instance'][_0x57ee03(0x2a8)]+_0x57ee03(0x261));let _0x4f9cb9={'where':{'remoteJid':_0x27f370,'status':_0x57ee03(0x86d)}};if(_0x3b58a0=await this[_0x57ee03(0x6d5)]['flowConversation']['findOne'](_0x4f9cb9,this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]),!_0x3b58a0){let _0x5a5d67=await this[_0x57ee03(0x7e8)](_0x27f370);if(_0x5a5d67&&(_0x3b58a0=await this[_0x57ee03(0x641)](_0x5a5d67,_0x463366[_0x57ee03(0x43a)],_0x463366)),!_0x3b58a0)return null;}let _0x285781=Date[_0x57ee03(0x20e)](),_0x307aad=_0x3b58a0?.[_0x57ee03(0x694)]||0x0,_0x4ac7d3=_0x285781-_0x307aad*0x3c*0x3e8;if(this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]+_0x57ee03(0x8e0)+_0x285781+_0x57ee03(0x358)+_0x307aad+_0x57ee03(0x551)+_0x4ac7d3),this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this['instance'][_0x57ee03(0x2a8)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]+_0x57ee03(0x6a0)+_0x3b58a0[_0x57ee03(0x338)]),this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this['instance'][_0x57ee03(0x2a8)]+_0x57ee03(0x80c)+_0x4ac7d3),_0x3b58a0['lastInteraction']<_0x4ac7d3){this[_0x57ee03(0x26e)][_0x57ee03(0x769)](this[_0x57ee03(0x7d8)]+'\x20('+this[_0x57ee03(0x286)]['wuid']+_0x57ee03(0x624));let _0x39f9bb=await this[_0x57ee03(0x7e8)](_0x27f370);if(_0x39f9bb===null)return null;_0x3b58a0&&await this[_0x57ee03(0x6d5)]['flowConversation'][_0x57ee03(0x331)](_0x3b58a0[_0x57ee03(0x747)],{'status':_0x57ee03(0x7f1)},this['instance'][_0x57ee03(0x2a8)]),_0x3b58a0=await this[_0x57ee03(0x641)](_0x39f9bb,_0x463366[_0x57ee03(0x43a)],_0x463366);}return _0x3b58a0[_0x57ee03(0x338)]=_0x285781,_0x3b58a0[_0x57ee03(0x505)][_0x57ee03(0x753)]=_0x463366,_0x3b58a0;}}catch(_0x2bbdfd){return this[_0x57ee03(0x26e)][_0x57ee03(0x4a8)](this[_0x57ee03(0x7d8)]+'\x20('+this[_0x57ee03(0x286)][_0x57ee03(0x2a8)]+_0x57ee03(0x35c)+(_0x2bbdfd instanceof Error?_0x2bbdfd[_0x57ee03(0x450)]:JSON[_0x57ee03(0x3c8)](_0x2bbdfd,null,0x2))),null;}}async[a0_0x341dd0(0x641)](_0x451b7e,_0x3a0b7c,_0x28ef6a){const _0x4cf4bc=a0_0x341dd0;this['logger'][_0x4cf4bc(0x769)](this[_0x4cf4bc(0x7d8)]+'\x20('+this['instance'][_0x4cf4bc(0x2a8)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x577e9e=require(_0x4cf4bc(0x367))[_0x4cf4bc(0x28b)],_0x34647f=Date[_0x4cf4bc(0x20e)](),_0xa01b5c=_0x4cf4bc(0x81c),_0x10d8d7=_0x3a0b7c[_0x4cf4bc(0x2e1)]?null:_0x28ef6a,_0xb75285=_0x3a0b7c[_0x4cf4bc(0x2e1)]?_0x28ef6a:null,_0x45d002=_0x3a0b7c[_0x4cf4bc(0x68c)],_0x2e74bb=this['AutomateSystem']['flows'][_0x4cf4bc(0x232)](_0x5eeab7=>_0x5eeab7[_0x4cf4bc(0x747)]===_0x451b7e[_0x4cf4bc(0x747)]?.[_0x4cf4bc(0x5a5)]()),_0x30a9e6=_0x2e74bb?.[_0x4cf4bc(0x694)]??_0x451b7e[_0x4cf4bc(0x694)]??0x0,_0x180929=_0x2e74bb?.[_0x4cf4bc(0x8c8)]??_0x451b7e['readMessages']??!0x1;await this['closeExistingConversations'](_0x45d002);let _0x22e3bb={'flowId':_0x451b7e[_0x4cf4bc(0x747)],..._0x451b7e,'chatLog':null},_0x2a5260=await this[_0x4cf4bc(0x603)](_0x22e3bb['variables']),_0x5aa3f7=await this[_0x4cf4bc(0x287)](_0x45d002),_0x1261e3={..._0x2a5260,..._0x5aa3f7,'_remoteJid':_0x45d002},_0x50253f={'lastReceivedMessage':_0x10d8d7,'lastSendMessage':_0xb75285,'lastBlockId':_0xa01b5c,'lastCondition':!0x0,'realVariables':_0x1261e3};_0x22e3bb['chatLog']=_0x50253f,delete _0x22e3bb[_0x4cf4bc(0x747)],_0x22e3bb[_0x4cf4bc(0x747)]=new _0x577e9e(),_0x22e3bb[_0x4cf4bc(0x338)]=_0x34647f,_0x22e3bb[_0x4cf4bc(0x826)]=_0x4cf4bc(0x86d),_0x22e3bb[_0x4cf4bc(0x68c)]=_0x45d002,_0x22e3bb['minutesToClose']=_0x30a9e6,_0x22e3bb[_0x4cf4bc(0x8c8)]=_0x180929;let _0x196629=await this[_0x4cf4bc(0x6d5)]['flowConversation'][_0x4cf4bc(0x331)](_0x22e3bb[_0x4cf4bc(0x747)],_0x22e3bb,this['instance']['wuid']);return this['logger'][_0x4cf4bc(0x769)](this[_0x4cf4bc(0x7d8)]+'\x20('+this[_0x4cf4bc(0x286)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x196629?_0x22e3bb:null;}catch(_0xe6215){return this['logger'][_0x4cf4bc(0x4a8)](this[_0x4cf4bc(0x7d8)]+'\x20('+this['instance'][_0x4cf4bc(0x2a8)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0xe6215 instanceof Error?_0xe6215[_0x4cf4bc(0x450)]:JSON[_0x4cf4bc(0x3c8)](_0xe6215,null,0x2))),_0xe6215;}}async[a0_0x341dd0(0x5f5)](_0x21ba41,_0x266e94){const _0x418ed6=a0_0x341dd0;let _0x3c1aa8=_0x21ba41[_0x418ed6(0x68c)];_0x266e94['uazapi'][_0x418ed6(0x68c)]&&_0x266e94[_0x418ed6(0x3e3)][_0x418ed6(0x68c)][_0x418ed6(0x788)]()!==''&&(_0x3c1aa8=_0x266e94[_0x418ed6(0x3e3)]['remoteJid'][_0x418ed6(0x788)]()),this[_0x418ed6(0x26e)][_0x418ed6(0x769)](this[_0x418ed6(0x7d8)]+'\x20('+this[_0x418ed6(0x286)]['wuid']+_0x418ed6(0x25c));let _0x3ea91b={'number':_0x3c1aa8,'options':{'delay':_0x266e94[_0x418ed6(0x3e3)][_0x418ed6(0x79d)],'linkPreview':_0x266e94[_0x418ed6(0x3e3)][_0x418ed6(0x5a4)]},'textMessage':{'text':_0x266e94[_0x418ed6(0x3e3)][_0x418ed6(0x7e2)]}};try{let _0x33e0a5=await this[_0x418ed6(0x852)](_0x3ea91b);if(_0x33e0a5){let _0x297699={'_id':_0x33e0a5['key']['id'],'_fromMe':_0x33e0a5['key'][_0x418ed6(0x2e1)],'_remoteJid':_0x33e0a5[_0x418ed6(0x43a)][_0x418ed6(0x68c)]},_0x134fd1=(0x0,w[_0x418ed6(0x5e1)])(_0x33e0a5['message']),_0x777339=(0x0,w['getContentType'])(_0x134fd1);_0x21ba41[_0x418ed6(0x505)][_0x418ed6(0x426)]=_0x266e94['_id']['toString']();let {message_normalized:_0x2ff023}=this[_0x418ed6(0x873)](_0x134fd1,_0x777339,null);_0x21ba41['chatLog'][_0x418ed6(0x634)]=await _0x2ff023;let _0x2051ce={'messageId':_0x33e0a5[_0x418ed6(0x43a)]['id']},_0x1b84b5=_0x21ba41[_0x418ed6(0x505)][_0x418ed6(0x22d)];Object[_0x418ed6(0x606)](_0x1b84b5,_0x297699),_0x21ba41[_0x418ed6(0x505)]['realVariables']=_0x1b84b5,this[_0x418ed6(0x6b8)](_0x21ba41,_0x266e94,_0x2051ce);}else{let _0x486457={'error':!0x0};this[_0x418ed6(0x6b8)](_0x21ba41,_0x266e94,_0x486457),this[_0x418ed6(0x26e)][_0x418ed6(0x4a8)](this['instanceName']+'\x20('+this[_0x418ed6(0x286)][_0x418ed6(0x2a8)]+_0x418ed6(0x42e));}}catch(_0x1cd97d){let _0x158d35={'error':!0x0,'errorLog':_0x1cd97d[_0x418ed6(0x5a5)]()};this[_0x418ed6(0x6b8)](_0x21ba41,_0x266e94,_0x158d35),this[_0x418ed6(0x26e)]['error'](this[_0x418ed6(0x7d8)]+'\x20('+this[_0x418ed6(0x286)][_0x418ed6(0x2a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x1cd97d instanceof Error?_0x1cd97d['message']:JSON[_0x418ed6(0x3c8)](_0x1cd97d,null,0x2)));}}async['uazapiSendMedia'](_0x2c49d3,_0x3ee67d){const _0x577575=a0_0x341dd0;let _0x160657=_0x2c49d3[_0x577575(0x68c)];_0x3ee67d[_0x577575(0x3e3)][_0x577575(0x68c)]&&_0x3ee67d['uazapi'][_0x577575(0x68c)][_0x577575(0x788)]()!==''&&(_0x160657=_0x3ee67d[_0x577575(0x3e3)][_0x577575(0x68c)][_0x577575(0x788)]()),this[_0x577575(0x26e)][_0x577575(0x769)](this[_0x577575(0x7d8)]+'\x20('+this[_0x577575(0x286)][_0x577575(0x2a8)]+_0x577575(0x8e3));let _0x3168d3={'number':_0x160657,'options':{'delay':_0x3ee67d[_0x577575(0x3e3)][_0x577575(0x79d)],'linkPreview':_0x3ee67d[_0x577575(0x3e3)][_0x577575(0x5a4)]},'mediaMessage':{'mediatype':_0x3ee67d[_0x577575(0x3e3)]['mediatype'],'caption':_0x3ee67d[_0x577575(0x3e3)][_0x577575(0x81f)],'media':_0x3ee67d[_0x577575(0x3e3)][_0x577575(0x5d8)],'fileName':_0x3ee67d[_0x577575(0x3e3)][_0x577575(0x493)]}};try{let _0x50ca37=await this['mediaMessage'](_0x3168d3);if(_0x50ca37){let _0x5dbee9={'_id':_0x50ca37[_0x577575(0x43a)]['id'],'_fromMe':_0x50ca37[_0x577575(0x43a)][_0x577575(0x2e1)],'_remoteJid':_0x50ca37['key'][_0x577575(0x68c)]},_0x1c73e3=(0x0,w[_0x577575(0x5e1)])(_0x50ca37[_0x577575(0x450)]),_0x760302=(0x0,w[_0x577575(0x211)])(_0x1c73e3);_0x2c49d3[_0x577575(0x505)][_0x577575(0x426)]=_0x3ee67d[_0x577575(0x747)][_0x577575(0x5a5)]();let {message_normalized:_0xdda3ef}=this[_0x577575(0x873)](_0x1c73e3,_0x760302,null);_0x2c49d3[_0x577575(0x505)]['lastSendMessage']=await _0xdda3ef;let _0x2896cf={'messageId':_0x50ca37[_0x577575(0x43a)]['id']},_0x107b1d=_0x2c49d3[_0x577575(0x505)][_0x577575(0x22d)];Object[_0x577575(0x606)](_0x107b1d,_0x5dbee9),_0x2c49d3[_0x577575(0x505)][_0x577575(0x22d)]=_0x107b1d,this[_0x577575(0x6b8)](_0x2c49d3,_0x3ee67d,_0x2896cf);}else{let _0x131a84={'error':!0x0};this[_0x577575(0x6b8)](_0x2c49d3,_0x3ee67d,_0x131a84),this[_0x577575(0x26e)][_0x577575(0x4a8)](this[_0x577575(0x7d8)]+'\x20('+this[_0x577575(0x286)][_0x577575(0x2a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x4d75c2){let _0x41df5a={'error':!0x0,'errorLog':_0x4d75c2[_0x577575(0x5a5)]()};this[_0x577575(0x6b8)](_0x2c49d3,_0x3ee67d,_0x41df5a),this['logger'][_0x577575(0x4a8)](this['instanceName']+'\x20('+this[_0x577575(0x286)][_0x577575(0x2a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x4d75c2 instanceof Error?_0x4d75c2[_0x577575(0x450)]:JSON[_0x577575(0x3c8)](_0x4d75c2,null,0x2)));}}async[a0_0x341dd0(0x8b5)](_0x107a63,_0x4300e3){const _0x37a3f5=a0_0x341dd0;let _0x302836=_0x107a63[_0x37a3f5(0x68c)];_0x4300e3[_0x37a3f5(0x3e3)][_0x37a3f5(0x68c)]&&_0x4300e3[_0x37a3f5(0x3e3)][_0x37a3f5(0x68c)][_0x37a3f5(0x788)]()!==''&&(_0x302836=_0x4300e3[_0x37a3f5(0x3e3)][_0x37a3f5(0x68c)][_0x37a3f5(0x788)]()),this['logger'][_0x37a3f5(0x769)](this['instanceName']+'\x20('+this['instance'][_0x37a3f5(0x2a8)]+_0x37a3f5(0x1d9));let _0xfb0151={'number':_0x302836,'options':{'delay':_0x4300e3[_0x37a3f5(0x3e3)][_0x37a3f5(0x79d)]},'locationMessage':{'name':_0x4300e3[_0x37a3f5(0x3e3)][_0x37a3f5(0x1fa)],'address':_0x4300e3[_0x37a3f5(0x3e3)][_0x37a3f5(0x524)],'latitude':_0x4300e3[_0x37a3f5(0x3e3)]['latitude'],'longitude':_0x4300e3[_0x37a3f5(0x3e3)][_0x37a3f5(0x643)]}};try{let _0x2d208e=await this[_0x37a3f5(0x8c9)](_0xfb0151);if(_0x2d208e){let _0xce59ad={'_id':_0x2d208e[_0x37a3f5(0x43a)]['id'],'_fromMe':_0x2d208e[_0x37a3f5(0x43a)][_0x37a3f5(0x2e1)],'_remoteJid':_0x2d208e[_0x37a3f5(0x43a)][_0x37a3f5(0x68c)]},_0x1ce4ed=(0x0,w[_0x37a3f5(0x5e1)])(_0x2d208e[_0x37a3f5(0x450)]),_0x5a0024=(0x0,w[_0x37a3f5(0x211)])(_0x1ce4ed);_0x107a63[_0x37a3f5(0x505)][_0x37a3f5(0x426)]=_0x4300e3[_0x37a3f5(0x747)][_0x37a3f5(0x5a5)]();let {message_normalized:_0x2ed59a}=this[_0x37a3f5(0x873)](_0x1ce4ed,_0x5a0024,null);_0x107a63[_0x37a3f5(0x505)][_0x37a3f5(0x634)]=await _0x2ed59a;let _0x1a15a3={'messageId':_0x2d208e[_0x37a3f5(0x43a)]['id']},_0x49eacd=_0x107a63[_0x37a3f5(0x505)]['realVariables'];Object[_0x37a3f5(0x606)](_0x49eacd,_0xce59ad),_0x107a63['chatLog']['realVariables']=_0x49eacd,this['updateConversation'](_0x107a63,_0x4300e3,_0x1a15a3);}else{let _0x565655={'error':!0x0};this[_0x37a3f5(0x6b8)](_0x107a63,_0x4300e3,_0x565655),this[_0x37a3f5(0x26e)][_0x37a3f5(0x4a8)](this[_0x37a3f5(0x7d8)]+'\x20('+this[_0x37a3f5(0x286)]['wuid']+_0x37a3f5(0x838));}}catch(_0x251798){let _0x345011={'error':!0x0,'errorLog':_0x251798[_0x37a3f5(0x5a5)]()};this['updateConversation'](_0x107a63,_0x4300e3,_0x345011),this['logger']['error'](this[_0x37a3f5(0x7d8)]+'\x20('+this['instance'][_0x37a3f5(0x2a8)]+_0x37a3f5(0x32d)+(_0x251798 instanceof Error?_0x251798[_0x37a3f5(0x450)]:JSON[_0x37a3f5(0x3c8)](_0x251798,null,0x2)));}}async[a0_0x341dd0(0x7ae)](_0x3734a1,_0x1f4505){const _0xf455a5=a0_0x341dd0;let _0x23cd80=_0x3734a1['remoteJid'];_0x1f4505['uazapi'][_0xf455a5(0x68c)]&&_0x1f4505[_0xf455a5(0x3e3)][_0xf455a5(0x68c)][_0xf455a5(0x788)]()!==''&&(_0x23cd80=_0x1f4505[_0xf455a5(0x3e3)][_0xf455a5(0x68c)][_0xf455a5(0x788)]()),this[_0xf455a5(0x26e)]['verbose'](this[_0xf455a5(0x7d8)]+'\x20('+this['instance'][_0xf455a5(0x2a8)]+_0xf455a5(0x23f));let _0x458aa0={'number':_0x23cd80,'options':{'delay':_0x1f4505[_0xf455a5(0x3e3)][_0xf455a5(0x79d)]},'audioMessage':{'audio':_0x1f4505['uazapi'][_0xf455a5(0x492)]}};try{let _0xad30c6=await this[_0xf455a5(0x33d)](_0x458aa0);if(_0xad30c6){let _0x10352b={'_id':_0xad30c6['key']['id'],'_fromMe':_0xad30c6['key'][_0xf455a5(0x2e1)],'_remoteJid':_0xad30c6[_0xf455a5(0x43a)][_0xf455a5(0x68c)]},_0x2026d0=(0x0,w['normalizeMessageContent'])(_0xad30c6['message']),_0xeaa1=(0x0,w[_0xf455a5(0x211)])(_0x2026d0);_0x3734a1[_0xf455a5(0x505)][_0xf455a5(0x426)]=_0x1f4505[_0xf455a5(0x747)][_0xf455a5(0x5a5)]();let {message_normalized:_0x42f7ef}=this[_0xf455a5(0x873)](_0x2026d0,_0xeaa1,null);_0x3734a1[_0xf455a5(0x505)]['lastSendMessage']=await _0x42f7ef;let _0x59982d={'messageId':_0xad30c6[_0xf455a5(0x43a)]['id']},_0x327677=_0x3734a1['chatLog']['realVariables'];Object[_0xf455a5(0x606)](_0x327677,_0x10352b),_0x3734a1[_0xf455a5(0x505)][_0xf455a5(0x22d)]=_0x327677,this[_0xf455a5(0x6b8)](_0x3734a1,_0x1f4505,_0x59982d);}else{let _0x5cff0c={'error':!0x0};this[_0xf455a5(0x6b8)](_0x3734a1,_0x1f4505,_0x5cff0c),this['logger'][_0xf455a5(0x4a8)](this[_0xf455a5(0x7d8)]+'\x20('+this[_0xf455a5(0x286)][_0xf455a5(0x2a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x258772){let _0x2eecc6={'error':!0x0,'errorLog':_0x258772['toString']()};this[_0xf455a5(0x6b8)](_0x3734a1,_0x1f4505,_0x2eecc6),this['logger'][_0xf455a5(0x4a8)](this['instanceName']+'\x20('+this[_0xf455a5(0x286)][_0xf455a5(0x2a8)]+_0xf455a5(0x4ac)+(_0x258772 instanceof Error?_0x258772[_0xf455a5(0x450)]:JSON[_0xf455a5(0x3c8)](_0x258772,null,0x2)));}}async[a0_0x341dd0(0x72b)](_0x154107,_0x44e123){const _0x2e2e71=a0_0x341dd0;let _0x42e406=_0x154107[_0x2e2e71(0x68c)];_0x44e123[_0x2e2e71(0x3e3)][_0x2e2e71(0x68c)]&&_0x44e123[_0x2e2e71(0x3e3)][_0x2e2e71(0x68c)][_0x2e2e71(0x788)]()!==''&&(_0x42e406=_0x44e123['uazapi']['remoteJid'][_0x2e2e71(0x788)]()),this[_0x2e2e71(0x26e)][_0x2e2e71(0x769)](this[_0x2e2e71(0x7d8)]+'\x20('+this[_0x2e2e71(0x286)][_0x2e2e71(0x2a8)]+_0x2e2e71(0x2e3));let _0x4836a={'number':_0x42e406,'options':{'delay':_0x44e123['uazapi'][_0x2e2e71(0x79d)]},'contactMessage':[{'fullName':_0x44e123[_0x2e2e71(0x3e3)][_0x2e2e71(0x407)],'phoneNumber':_0x44e123[_0x2e2e71(0x3e3)]['phoneNumber']}]};try{let _0x168bd4=await this[_0x2e2e71(0x57c)](_0x4836a);if(_0x168bd4){let _0x36c355={'_id':_0x168bd4[_0x2e2e71(0x43a)]['id'],'_fromMe':_0x168bd4[_0x2e2e71(0x43a)][_0x2e2e71(0x2e1)],'_remoteJid':_0x168bd4[_0x2e2e71(0x43a)][_0x2e2e71(0x68c)]},_0x1a8c68=(0x0,w[_0x2e2e71(0x5e1)])(_0x168bd4[_0x2e2e71(0x450)]),_0x159163=(0x0,w[_0x2e2e71(0x211)])(_0x1a8c68);_0x154107['chatLog']['lastBlockId']=_0x44e123[_0x2e2e71(0x747)]['toString']();let {message_normalized:_0x318914}=this[_0x2e2e71(0x873)](_0x1a8c68,_0x159163,null);_0x154107[_0x2e2e71(0x505)][_0x2e2e71(0x634)]=await _0x318914;let _0x1f6b4b={'messageId':_0x168bd4[_0x2e2e71(0x43a)]['id']},_0x230ff7=_0x154107[_0x2e2e71(0x505)][_0x2e2e71(0x22d)];Object['assign'](_0x230ff7,_0x36c355),_0x154107['chatLog'][_0x2e2e71(0x22d)]=_0x230ff7,this[_0x2e2e71(0x6b8)](_0x154107,_0x44e123,_0x1f6b4b);}else{let _0x263569={'error':!0x0};this[_0x2e2e71(0x6b8)](_0x154107,_0x44e123,_0x263569),this[_0x2e2e71(0x26e)][_0x2e2e71(0x4a8)](this[_0x2e2e71(0x7d8)]+'\x20('+this['instance'][_0x2e2e71(0x2a8)]+_0x2e2e71(0x8c7));}}catch(_0x331c44){let _0x580269={'error':!0x0,'errorLog':_0x331c44['toString']()};this[_0x2e2e71(0x6b8)](_0x154107,_0x44e123,_0x580269),this[_0x2e2e71(0x26e)][_0x2e2e71(0x4a8)](this[_0x2e2e71(0x7d8)]+'\x20('+this[_0x2e2e71(0x286)][_0x2e2e71(0x2a8)]+_0x2e2e71(0x7f5)+(_0x331c44 instanceof Error?_0x331c44[_0x2e2e71(0x450)]:JSON['stringify'](_0x331c44,null,0x2)));}}['replaceVariablesInReplyOptions'](_0xec4f7a,_0x18ac1e){const _0x4f16f6=a0_0x341dd0;for(let _0x16024b of _0xec4f7a)_0x16024b[_0x4f16f6(0x48e)]&&(_0x16024b[_0x4f16f6(0x48e)]=this[_0x4f16f6(0x25e)](_0x16024b[_0x4f16f6(0x48e)],_0x18ac1e)),_0x16024b[_0x4f16f6(0x2d5)]&&(_0x16024b[_0x4f16f6(0x2d5)]=this[_0x4f16f6(0x25e)](_0x16024b[_0x4f16f6(0x2d5)],_0x18ac1e));}async['uazapiSendMenu'](_0xb92a63,_0x30b0f9){const _0x411ab8=a0_0x341dd0;let _0x4f5a1f=_0xb92a63[_0x411ab8(0x68c)];_0x30b0f9['uazapi'][_0x411ab8(0x68c)]&&_0x30b0f9[_0x411ab8(0x3e3)][_0x411ab8(0x68c)]['trim']()!==''&&(_0x4f5a1f=_0x30b0f9[_0x411ab8(0x3e3)]['remoteJid'][_0x411ab8(0x788)]()),this[_0x411ab8(0x26e)][_0x411ab8(0x769)](this['instanceName']+'\x20('+this['instance'][_0x411ab8(0x2a8)]+_0x411ab8(0x3e7));let _0x396bb2=_0xb92a63[_0x411ab8(0x433)][_0x411ab8(0x435)](_0xdd44a1=>_0xdd44a1[_0x411ab8(0x580)]===_0x30b0f9[_0x411ab8(0x747)])[_0x411ab8(0x739)]((_0x25e833,_0x54b195)=>_0x25e833['order']-_0x54b195[_0x411ab8(0x27f)]);this[_0x411ab8(0x837)](_0x396bb2,_0xb92a63[_0x411ab8(0x505)][_0x411ab8(0x22d)]);let _0x3f13f9=_0x396bb2[_0x411ab8(0x486)](_0x1bff97=>_0x1bff97['option']),_0x30b4cb={'number':_0x4f5a1f,'menuMessage':{'type':_0x30b0f9['uazapi'][_0x411ab8(0x58d)]||_0x411ab8(0x31e),'text':_0x30b0f9['uazapi']['text']||_0x30b0f9['uazapi'][_0x411ab8(0x1fa)],'footerText':_0x30b0f9[_0x411ab8(0x3e3)][_0x411ab8(0x459)],'buttonText':_0x30b0f9[_0x411ab8(0x3e3)][_0x411ab8(0x44e)],'selectableCount':0x1,'choices':_0x3f13f9},'options':{'delay':_0x30b0f9[_0x411ab8(0x3e3)][_0x411ab8(0x79d)]}};try{let _0x1f9b67=await this[_0x411ab8(0x4c9)](_0x30b4cb);if(_0x1f9b67){let _0x35d929={'_id':_0x1f9b67[_0x411ab8(0x43a)]['id'],'_fromMe':_0x1f9b67[_0x411ab8(0x43a)][_0x411ab8(0x2e1)],'_remoteJid':_0x1f9b67[_0x411ab8(0x43a)][_0x411ab8(0x68c)]};_0x30b0f9[_0x411ab8(0x3e3)][_0x411ab8(0x7fd)]===!0x0&&(_0xb92a63[_0x411ab8(0x826)]=_0x411ab8(0x27d),this[_0x411ab8(0x26e)][_0x411ab8(0x769)](this[_0x411ab8(0x7d8)]+'\x20('+this[_0x411ab8(0x286)][_0x411ab8(0x2a8)]+_0x411ab8(0x59c)+_0xb92a63[_0x411ab8(0x826)])),this[_0x411ab8(0x26e)][_0x411ab8(0x769)](this[_0x411ab8(0x7d8)]+'\x20('+this[_0x411ab8(0x286)][_0x411ab8(0x2a8)]+'):\x20nextBlock.uazapi.name'+(_0x30b0f9[_0x411ab8(0x3e3)]['name']||_0x30b0f9['uazapi']['text'])),_0xb92a63[_0x411ab8(0x5fc)]=_0x1f9b67[_0x411ab8(0x43a)]['id'],_0xb92a63['waitingMenu_text']=_0x30b0f9[_0x411ab8(0x3e3)][_0x411ab8(0x1fa)]||_0x30b0f9['uazapi']['text'],_0xb92a63['waitingMenu_replyOptions']=_0x396bb2,_0x30b0f9['uazapi'][_0x411ab8(0x1b8)]&&(_0xb92a63['waitingMenu_ExpiredMessage']=_0x30b0f9[_0x411ab8(0x3e3)][_0x411ab8(0x1b8)]),this[_0x411ab8(0x26e)][_0x411ab8(0x769)](this[_0x411ab8(0x7d8)]+'\x20('+this[_0x411ab8(0x286)][_0x411ab8(0x2a8)]+_0x411ab8(0x732)+_0xb92a63[_0x411ab8(0x310)]);let _0x260fae=(0x0,w[_0x411ab8(0x5e1)])(_0x1f9b67[_0x411ab8(0x450)]),_0x18e2ea=(0x0,w['getContentType'])(_0x260fae);_0xb92a63[_0x411ab8(0x505)][_0x411ab8(0x426)]=_0x30b0f9['_id']['toString']();let {message_normalized:_0x5ea7e4}=this[_0x411ab8(0x873)](_0x260fae,_0x18e2ea,null);_0xb92a63['chatLog']['lastSendMessage']=await _0x5ea7e4;let _0x56306b={'messageId':_0x1f9b67[_0x411ab8(0x43a)]['id']},_0x31e41e=_0xb92a63[_0x411ab8(0x505)][_0x411ab8(0x22d)];Object[_0x411ab8(0x606)](_0x31e41e,_0x35d929),_0xb92a63[_0x411ab8(0x505)][_0x411ab8(0x22d)]=_0x31e41e,this[_0x411ab8(0x6b8)](_0xb92a63,_0x30b0f9,_0x56306b);}else{let _0x5a6f17={'error':!0x0};this['updateConversation'](_0xb92a63,_0x30b0f9,_0x5a6f17),this[_0x411ab8(0x26e)][_0x411ab8(0x4a8)](this[_0x411ab8(0x7d8)]+'\x20('+this[_0x411ab8(0x286)][_0x411ab8(0x2a8)]+_0x411ab8(0x221));}}catch(_0x27e915){let _0x10c56c={'error':!0x0,'errorLog':_0x27e915 instanceof Error?_0x27e915['message']:JSON['stringify'](_0x27e915,null,0x2)};this['updateConversation'](_0xb92a63,_0x30b0f9,_0x10c56c),this[_0x411ab8(0x26e)]['error'](this[_0x411ab8(0x7d8)]+'\x20('+this[_0x411ab8(0x286)][_0x411ab8(0x2a8)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x27e915 instanceof Error?_0x27e915[_0x411ab8(0x450)]:JSON[_0x411ab8(0x3c8)](_0x27e915,null,0x2)));}}async[a0_0x341dd0(0x4d8)](_0x20627f,_0x4cc92c){const _0x28ffc8=a0_0x341dd0;this[_0x28ffc8(0x26e)][_0x28ffc8(0x769)](this[_0x28ffc8(0x7d8)]+'\x20('+this['instance']['wuid']+_0x28ffc8(0x4d7));let _0x21adf=_0x20627f[_0x28ffc8(0x505)]['blockLogs'][_0x28ffc8(0x232)](_0x23d25c=>_0x23d25c[_0x28ffc8(0x580)][_0x28ffc8(0x5a5)]()===_0x4cc92c['uazapi']['blockId']['toString']()),_0x42542e={'id':_0x21adf[_0x28ffc8(0x253)],'remoteJid':_0x21adf[_0x28ffc8(0x68c)],'fromMe':_0x21adf[_0x28ffc8(0x2e1)]};try{let _0x1d687a=await this[_0x28ffc8(0x8e5)](_0x42542e);if(_0x1d687a){let _0x45cef7=(0x0,w[_0x28ffc8(0x5e1)])(_0x1d687a[_0x28ffc8(0x450)]),_0x24772c=(0x0,w['getContentType'])(_0x45cef7);_0x20627f[_0x28ffc8(0x505)]['lastBlockId']=_0x4cc92c[_0x28ffc8(0x747)][_0x28ffc8(0x5a5)]();let {message_normalized:_0x4cbdde}=this[_0x28ffc8(0x873)](_0x45cef7,_0x24772c,null);_0x20627f[_0x28ffc8(0x505)][_0x28ffc8(0x634)]=await _0x4cbdde;let _0x430a93={};this[_0x28ffc8(0x6b8)](_0x20627f,_0x4cc92c,_0x430a93);}else{let _0x21f34b={'error':!0x0};this['updateConversation'](_0x20627f,_0x4cc92c,_0x21f34b),this[_0x28ffc8(0x26e)][_0x28ffc8(0x4a8)](this[_0x28ffc8(0x7d8)]+'\x20('+this['instance'][_0x28ffc8(0x2a8)]+_0x28ffc8(0x5a8));}}catch(_0xff4373){let _0xe4623c={'error':!0x0,'errorLog':_0xff4373 instanceof Error?_0xff4373[_0x28ffc8(0x450)]:JSON[_0x28ffc8(0x3c8)](_0xff4373,null,0x2)};this[_0x28ffc8(0x6b8)](_0x20627f,_0x4cc92c,_0xe4623c),this[_0x28ffc8(0x26e)][_0x28ffc8(0x4a8)](this[_0x28ffc8(0x7d8)]+'\x20('+this[_0x28ffc8(0x286)]['wuid']+_0x28ffc8(0x482)+(_0xff4373 instanceof Error?_0xff4373[_0x28ffc8(0x450)]:JSON[_0x28ffc8(0x3c8)](_0xff4373,null,0x2)));}}async[a0_0x341dd0(0x7cf)](_0x5b14c5,_0x5b4723){const _0x194201=a0_0x341dd0;if(_0x5b14c5[_0x194201(0x1fa)]||(_0x5b14c5[_0x194201(0x1fa)]=(0x0,X['v4'])()),_0x5b4723!==$i&&_0x5b14c5?.[_0x194201(0x38d)])throw new m(_0x194201(0x6be));if(_0x194201(0x747)in _0x5b14c5&&_0x194201(0x3f2)in _0x5b14c5)return this[_0x194201(0x725)](_0x5b14c5['owner'],_0x5b14c5[_0x194201(0x747)]);this[_0x194201(0x26e)]['verbose'](this[_0x194201(0x7d8)]+'\x20('+this[_0x194201(0x286)][_0x194201(0x2a8)]+_0x194201(0x41e));let _0x300261=this[_0x194201(0x404)](_0x5b14c5[_0x194201(0x1fa)]),_0x50fe6e=new he[(_0x194201(0x539))][(_0x194201(0x28b))](),_0x3c6dfc={'_id':_0x50fe6e,'default':!0x0,'title':_0x194201(0x400),'x':0x0,'y':0x0},_0x43f474={'_id':new he['Types'][(_0x194201(0x28b))](),'order':0x1,'groupId':_0x50fe6e[_0x194201(0x5a5)](),'type':'start'},_0x1d06c2=this[_0x194201(0x286)][_0x194201(0x2a8)],_0xfd1858={'_id':(0x0,X['v4'])(),'owner':_0x1d06c2,'name':_0x300261,'whoCanEdit':[_0x1d06c2],'whoCanUse':[_0x1d06c2],'groups':[_0x3c6dfc],'blocks':[_0x43f474],..._0x5b14c5};try{let _0x503a92=await this[_0x194201(0x6d5)][_0x194201(0x414)][_0x194201(0x399)](_0xfd1858);return await this[_0x194201(0x78d)](),_0x503a92;}catch(_0x4f3ef5){let _0x2b8143=_0x194201(0x62c),_0x512113=_0x4f3ef5 instanceof Error?_0x4f3ef5['message']:typeof _0x4f3ef5=='object'?JSON[_0x194201(0x3c8)](_0x4f3ef5):_0x4f3ef5,_0x397780=_0x2b8143+':\x20'+_0x512113;throw this[_0x194201(0x26e)]['error'](this[_0x194201(0x7d8)]+'\x20('+this['instance'][_0x194201(0x2a8)]+'):\x20'+_0x397780),new m(_0x397780);}}async[a0_0x341dd0(0x725)](_0x11dac6,_0x36c893){const _0xa71df1=a0_0x341dd0;try{this[_0xa71df1(0x26e)]['verbose'](this[_0xa71df1(0x7d8)]+'\x20('+this['instance'][_0xa71df1(0x2a8)]+_0xa71df1(0x49b));let _0xdbbb8b=await this[_0xa71df1(0x6d5)][_0xa71df1(0x414)][_0xa71df1(0x2c7)]({'where':{'_id':_0x36c893,'owner':_0x11dac6}});if(!_0xdbbb8b)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0xdbbb8b[_0xa71df1(0x616)]===!0x1&&!_0xdbbb8b[_0xa71df1(0x38d)])throw new m(_0xa71df1(0x7d1));let _0x48a2fd=new Set(_0xdbbb8b['whoCanUse']??[]);_0x48a2fd['add'](this[_0xa71df1(0x286)][_0xa71df1(0x2a8)]);let _0x331e74=await this['repository']['flow'][_0xa71df1(0x331)](_0x36c893,{..._0xdbbb8b,'whoCanUse':Array['from'](_0x48a2fd)});return await this[_0xa71df1(0x78d)](),_0x331e74;}catch(_0xdcf22c){let _0x2539b5=_0xa71df1(0x8a0),_0x47eaf8=_0xdcf22c instanceof Error?_0xdcf22c[_0xa71df1(0x450)]:typeof _0xdcf22c==_0xa71df1(0x8d7)?JSON[_0xa71df1(0x3c8)](_0xdcf22c):_0xdcf22c,_0x2efee1=_0x2539b5+':\x20'+_0x47eaf8;throw this[_0xa71df1(0x26e)][_0xa71df1(0x4a8)](this['instanceName']+'\x20('+this[_0xa71df1(0x286)][_0xa71df1(0x2a8)]+_0xa71df1(0x867)+_0x2efee1),new m(_0x2efee1);}}[a0_0x341dd0(0x404)](_0x1b6823){const _0x3e1ff9=a0_0x341dd0;let _0x35d044=_0x1b6823,_0x27943b=0x1;for(;this[_0x3e1ff9(0x2d9)][_0x3e1ff9(0x520)][_0x3e1ff9(0x2f2)](_0x1fbdbe=>_0x1fbdbe['name']===_0x35d044);)_0x27943b++,_0x35d044=_0x1b6823+'\x20('+_0x27943b+')';return _0x35d044;}async[a0_0x341dd0(0x708)](_0x7d3560){const _0x5e35d6=a0_0x341dd0;try{if(this[_0x5e35d6(0x26e)]['verbose'](this[_0x5e35d6(0x7d8)]+'\x20('+this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x7d3560[_0x5e35d6(0x747)]+_0x5e35d6(0x5f4)+_0x7d3560[_0x5e35d6(0x328)]),!this[_0x5e35d6(0x2d9)][_0x5e35d6(0x520)]['find'](_0x58db17=>_0x58db17[_0x5e35d6(0x747)]===_0x7d3560[_0x5e35d6(0x747)]))throw this[_0x5e35d6(0x26e)]['verbose'](this[_0x5e35d6(0x7d8)]+'\x20('+this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]+'):\x20Fluxo\x20\x27'+_0x7d3560[_0x5e35d6(0x747)]+_0x5e35d6(0x4bc)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x46b93f=await this[_0x5e35d6(0x6d5)][_0x5e35d6(0x414)][_0x5e35d6(0x2c7)]({'where':{'_id':_0x7d3560[_0x5e35d6(0x747)]}});if(!_0x46b93f)throw new m(_0x5e35d6(0x6e6));if(this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]===_0x46b93f[_0x5e35d6(0x3f2)]){this['logger'][_0x5e35d6(0x769)](this['instanceName']+'\x20('+this[_0x5e35d6(0x286)]['wuid']+_0x5e35d6(0x7c4)+_0x7d3560[_0x5e35d6(0x747)]+_0x5e35d6(0x59b));let _0x1bb0f2=await this['repository'][_0x5e35d6(0x414)]['deleteOne']({'where':{'_id':_0x7d3560[_0x5e35d6(0x747)]}});return await this[_0x5e35d6(0x78d)](),_0x1bb0f2;}return this[_0x5e35d6(0x26e)]['verbose'](this['instanceName']+'\x20('+this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]+_0x5e35d6(0x2e5)+this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]+_0x5e35d6(0x428)+_0x7d3560[_0x5e35d6(0x747)]+_0x5e35d6(0x1d1)),_0x46b93f[_0x5e35d6(0x7cb)]=(_0x46b93f['whoCanUse']??[])[_0x5e35d6(0x435)](_0x34653c=>_0x34653c!==this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]),_0x46b93f['whoCanEdit']=(_0x46b93f[_0x5e35d6(0x4ad)]??[])['filter'](_0x8da1ea=>_0x8da1ea!==this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]),_0x46b93f[_0x5e35d6(0x4ad)][_0x5e35d6(0x65e)]===0x0&&_0x46b93f[_0x5e35d6(0x7cb)][_0x5e35d6(0x65e)]>0x0&&(_0x46b93f[_0x5e35d6(0x4ad)][_0x5e35d6(0x452)](_0x46b93f[_0x5e35d6(0x7cb)][0x0]),this[_0x5e35d6(0x26e)]['verbose'](this[_0x5e35d6(0x7d8)]+'\x20('+this[_0x5e35d6(0x286)][_0x5e35d6(0x2a8)]+_0x5e35d6(0x7c0)+_0x46b93f['whoCanUse'][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x7d3560[_0x5e35d6(0x747)]+'\x27...')),await this['repository'][_0x5e35d6(0x414)][_0x5e35d6(0x331)](_0x46b93f[_0x5e35d6(0x747)],_0x46b93f),await this[_0x5e35d6(0x78d)](),{'message':'Fluxo\x20\x27'+_0x7d3560[_0x5e35d6(0x1fa)]+_0x5e35d6(0x712)};}catch(_0xd82aca){return this[_0x5e35d6(0x26e)]['error'](this[_0x5e35d6(0x7d8)]+'\x20('+this[_0x5e35d6(0x286)]['wuid']+_0x5e35d6(0x20c)+(_0xd82aca instanceof Error?_0xd82aca[_0x5e35d6(0x450)]:JSON[_0x5e35d6(0x3c8)](_0xd82aca,null,0x2))),{'message':_0x5e35d6(0x34c)+(_0xd82aca instanceof Error?_0xd82aca[_0x5e35d6(0x450)]:JSON[_0x5e35d6(0x3c8)](_0xd82aca,null,0x2))};}}async[a0_0x341dd0(0x3c5)](_0xb4f81e){const _0x517111=a0_0x341dd0;try{if(this[_0x517111(0x26e)][_0x517111(0x2d3)](this[_0x517111(0x7d8)]+'\x20('+this[_0x517111(0x286)][_0x517111(0x2a8)]+_0x517111(0x1b9)+_0xb4f81e),!this[_0x517111(0x2d9)]&&(await this['getAutomateSystem'](),!this[_0x517111(0x2d9)]))return null;let _0x4e2f61=await this[_0x517111(0x6d5)][_0x517111(0x414)]['findOne']({'where':{'_id':_0xb4f81e}});if(!_0x4e2f61)throw new m('Fluxo\x20id\x20\x27'+_0xb4f81e+_0x517111(0x413));if(!(_0x4e2f61[_0x517111(0x38d)]||_0x4e2f61[_0x517111(0x7cb)]?.['includes'](this['instance']['wuid'])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x4e2f61[_0x517111(0x38d)]&&!_0x4e2f61[_0x517111(0x7cb)]?.[_0x517111(0x23d)](this['instance']['wuid'])&&(_0x4e2f61[_0x517111(0x7cb)]=[..._0x4e2f61[_0x517111(0x7cb)]??[],this['instance'][_0x517111(0x2a8)]],await this[_0x517111(0x6d5)][_0x517111(0x414)]['updateOne'](_0x4e2f61[_0x517111(0x747)],_0x4e2f61),this[_0x517111(0x78d)]());let _0x50ca9b=this[_0x517111(0x2d9)]?.[_0x517111(0x5ff)][_0x517111(0x486)](_0x5b53e3=>_0x5b53e3[_0x517111(0x1fa)]),_0xfdb1c4=[_0x517111(0x40c),'nomecompleto',_0x517111(0x4ce),_0x517111(0x4d6),'status',_0x517111(0x1d3),_0x517111(0x664),'tags',_0x517111(0x710),'telefone','atendimentoAberto'];_0x4e2f61[_0x517111(0x798)]=_0x4e2f61['variables'][_0x517111(0x435)](_0x2f39dc=>!(_0x2f39dc[_0x517111(0x860)]===_0x517111(0x43e)||_0x2f39dc[_0x517111(0x43e)])),_0xfdb1c4['forEach'](_0x4ff47d=>{const _0x29c704=_0x517111;_0x4e2f61[_0x29c704(0x798)][_0x29c704(0x452)]({'folder':_0x29c704(0x43e),'name':_0x4ff47d,'value':'','doc':'','leadInfo':!0x0});}),_0x50ca9b[_0x517111(0x8b4)](_0x15e894=>{const _0x2c4638=_0x517111;let _0x1cb8a7=_0x4e2f61[_0x2c4638(0x798)][_0x2c4638(0x3b0)](_0x2af473=>_0x2af473['name']===_0x15e894);_0x1cb8a7===-0x1?_0x4e2f61['variables']['push']({'folder':_0x2c4638(0x43e),'name':_0x15e894,'value':'','doc':'','leadInfo':!0x0}):(_0x4e2f61[_0x2c4638(0x798)][_0x1cb8a7][_0x2c4638(0x860)]='leadInfo',_0x4e2f61[_0x2c4638(0x798)][_0x1cb8a7]['leadInfo']=!0x0);}),_0x4e2f61[_0x517111(0x48b)]&&_0x4e2f61[_0x517111(0x48b)][_0x517111(0x65e)]>0x0&&_0x4e2f61['blocks'][_0x517111(0x8b4)](_0x868ffa=>{const _0x215489=_0x517111;_0x868ffa[_0x215489(0x63a)]&&_0x868ffa['next_groupId']&&_0x868ffa[_0x215489(0x63a)]===_0x868ffa[_0x215489(0x2c8)]&&(_0x868ffa[_0x215489(0x2c8)]=null);});let _0x430399=await this[_0x517111(0x6d5)][_0x517111(0x414)][_0x517111(0x331)](_0x4e2f61[_0x517111(0x747)],_0x4e2f61);if(!_0x430399)throw new Error(_0x517111(0x73b));return _0x430399;}catch(_0x2bd8b4){let _0x2623d6=_0x517111(0x255),_0x94382d=_0x2bd8b4 instanceof Error?_0x2bd8b4[_0x517111(0x450)]:typeof _0x2bd8b4=='object'?JSON['stringify'](_0x2bd8b4):_0x2bd8b4,_0x33f534=_0x2623d6+':\x20'+_0x94382d;throw this[_0x517111(0x26e)][_0x517111(0x4a8)](this[_0x517111(0x7d8)]+'\x20('+this[_0x517111(0x286)][_0x517111(0x2a8)]+_0x517111(0x867)+_0x33f534),new m(_0x33f534);}}async[a0_0x341dd0(0x5b6)](){const _0x250bb5=a0_0x341dd0;try{this[_0x250bb5(0x26e)]['verbose'](this[_0x250bb5(0x7d8)]+'\x20('+this['instance'][_0x250bb5(0x2a8)]+_0x250bb5(0x60b)),await this[_0x250bb5(0x78d)]();let _0x1024da=await this[_0x250bb5(0x6d5)][_0x250bb5(0x414)][_0x250bb5(0x7ad)]({'where':{'globalShow':!0x0}});return[...this[_0x250bb5(0x2d9)][_0x250bb5(0x520)],..._0x1024da];}catch(_0x2a5d85){return this[_0x250bb5(0x26e)][_0x250bb5(0x4a8)](this[_0x250bb5(0x7d8)]+'\x20('+this['instance'][_0x250bb5(0x2a8)]+_0x250bb5(0x7c9)+(_0x2a5d85 instanceof Error?_0x2a5d85[_0x250bb5(0x450)]:JSON['stringify'](_0x2a5d85,null,0x2))),{'message':_0x250bb5(0x722)+(_0x2a5d85 instanceof Error?_0x2a5d85['message']:String(_0x2a5d85))};}}async[a0_0x341dd0(0x34f)](_0x161d57,_0x36e7dc){const _0x19713f=a0_0x341dd0;try{this[_0x19713f(0x26e)][_0x19713f(0x769)](this[_0x19713f(0x7d8)]+'\x20('+this['instance'][_0x19713f(0x2a8)]+'):\x20Alterando\x20fluxo...');let _0x514ccf=this['AutomateSystem'][_0x19713f(0x520)][_0x19713f(0x232)](_0x2c2522=>_0x2c2522[_0x19713f(0x747)]===_0x161d57[_0x19713f(0x747)]);if(!_0x514ccf)throw this[_0x19713f(0x26e)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x19713f(0x2ec)+_0x161d57[_0x19713f(0x747)]+_0x19713f(0x4bc)),new m(_0x19713f(0x3ba));let _0x43d529=await this[_0x19713f(0x6d5)][_0x19713f(0x414)][_0x19713f(0x2c7)]({'where':{'_id':_0x161d57['_id']}});if(!_0x43d529||!_0x43d529[_0x19713f(0x7cb)]?.['includes'](this[_0x19713f(0x286)][_0x19713f(0x2a8)]))throw this[_0x19713f(0x26e)]['error'](this[_0x19713f(0x7d8)]+'\x20('+this[_0x19713f(0x286)][_0x19713f(0x2a8)]+_0x19713f(0x3f5)+_0x161d57[_0x19713f(0x747)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x19713f(0x22a)+_0x161d57[_0x19713f(0x747)]+_0x19713f(0x249));let _0x3a1e69=this[_0x19713f(0x2d9)][_0x19713f(0x520)][_0x19713f(0x3b0)](_0x3bf593=>_0x3bf593[_0x19713f(0x747)]===_0x514ccf[_0x19713f(0x747)]);if(_0x3a1e69!==-0x1){let _0x5e1b70=this['AutomateSystem'][_0x19713f(0x520)][_0x3a1e69];if(_0x5e1b70[_0x19713f(0x1fa)]=_0x161d57[_0x19713f(0x1fa)]??_0x5e1b70[_0x19713f(0x1fa)],_0x5e1b70[_0x19713f(0x4ea)]=_0x161d57[_0x19713f(0x4ea)]??_0x5e1b70[_0x19713f(0x4ea)],_0x5e1b70[_0x19713f(0x436)]=_0x161d57[_0x19713f(0x436)]??_0x5e1b70[_0x19713f(0x436)],_0x5e1b70[_0x19713f(0x884)]=_0x161d57[_0x19713f(0x608)]??_0x5e1b70[_0x19713f(0x884)],_0x5e1b70[_0x19713f(0x694)]=_0x161d57[_0x19713f(0x694)]??_0x5e1b70['minutesToClose'],_0x5e1b70['readMessages']=_0x161d57[_0x19713f(0x8c8)]??_0x5e1b70[_0x19713f(0x8c8)],_0x161d57['default']&&this['AutomateSystem'][_0x19713f(0x520)][_0x19713f(0x8b4)]((_0x5417d5,_0x150e70)=>{const _0x386ee9=_0x19713f;_0x150e70!==_0x3a1e69&&(_0x5417d5[_0x386ee9(0x4ea)]=!0x1);}),this[_0x19713f(0x2d9)][_0x19713f(0x520)][_0x3a1e69]=_0x5e1b70,!await this[_0x19713f(0x6d5)]['automateSystem']['update']({'flows':this[_0x19713f(0x2d9)][_0x19713f(0x520)]},this[_0x19713f(0x286)][_0x19713f(0x2a8)]))throw new m(_0x19713f(0x4c7));}let _0x4556d8=[_0x19713f(0x328),_0x19713f(0x2a3),'sharePass',_0x19713f(0x703)];for(let _0x590e3d of _0x4556d8)delete _0x161d57[_0x590e3d];if(_0x43d529[_0x19713f(0x4ad)]?.['includes'](this[_0x19713f(0x286)][_0x19713f(0x2a8)])||(_0x161d57={'_id':_0x161d57['_id']}),_0x36e7dc!==$i&&_0x161d57?.[_0x19713f(0x38d)]&&!_0x43d529?.['globalShow'])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x308ae0=new Set(_0x161d57[_0x19713f(0x4ad)]??_0x43d529[_0x19713f(0x4ad)]);_0x308ae0['add'](_0x43d529['owner']);let _0x276261=new Set(_0x161d57[_0x19713f(0x7cb)]??_0x43d529[_0x19713f(0x7cb)]??[]);_0x308ae0[_0x19713f(0x8b4)](_0xeedc95=>_0x276261[_0x19713f(0x2f8)](_0xeedc95)),_0x276261['add'](_0x43d529[_0x19713f(0x3f2)]),this[_0x19713f(0x26e)][_0x19713f(0x769)](this['instanceName']+'\x20('+this[_0x19713f(0x286)][_0x19713f(0x2a8)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x19713f(0x731)](_0x308ae0)),this[_0x19713f(0x26e)]['verbose'](this[_0x19713f(0x7d8)]+'\x20('+this[_0x19713f(0x286)][_0x19713f(0x2a8)]+_0x19713f(0x5ec)+Array[_0x19713f(0x731)](_0x276261));let _0x478f1f=await this['getValidWhatsAppNumbers'](Array[_0x19713f(0x731)](_0x276261)),_0x317c49=Array['from'](_0x308ae0)[_0x19713f(0x435)](_0x14e76c=>_0x478f1f[_0x19713f(0x23d)](_0x14e76c)),_0x2962df=Array[_0x19713f(0x731)](_0x276261)[_0x19713f(0x435)](_0x5bbb52=>_0x478f1f['includes'](_0x5bbb52));this['logger'][_0x19713f(0x769)](this['instanceName']+'\x20('+this[_0x19713f(0x286)][_0x19713f(0x2a8)]+_0x19713f(0x574)+_0x317c49),this[_0x19713f(0x26e)][_0x19713f(0x769)](this[_0x19713f(0x7d8)]+'\x20('+this[_0x19713f(0x286)][_0x19713f(0x2a8)]+_0x19713f(0x276)+_0x2962df);let _0x30da59={..._0x43d529,..._0x161d57,'whoCanEdit':_0x317c49,'whoCanUse':_0x2962df},_0x8dafd4=await this[_0x19713f(0x6d5)][_0x19713f(0x414)][_0x19713f(0x331)](_0x43d529[_0x19713f(0x747)],_0x30da59);return await this[_0x19713f(0x78d)](),_0x8dafd4;}catch(_0x289189){let _0x3323e5=_0x19713f(0x8e9),_0x1f0c2f=_0x289189 instanceof Error?_0x289189[_0x19713f(0x450)]:typeof _0x289189==_0x19713f(0x8d7)?JSON['stringify'](_0x289189):_0x289189,_0x31b5c8=_0x3323e5+':\x20'+_0x1f0c2f;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x19713f(0x2a8)]+_0x19713f(0x867)+_0x31b5c8),new m(_0x31b5c8);}}async[a0_0x341dd0(0x427)](_0x49a461){const _0xa9d30b=a0_0x341dd0;let _0x2a0902={'numbers':_0x49a461};return(await this[_0xa9d30b(0x3bd)](_0x2a0902))['filter'](_0x597620=>_0x597620[_0xa9d30b(0x861)])[_0xa9d30b(0x486)](_0xa8f376=>_0xa8f376['jid'])['map'](_0x42dab1=>this[_0xa9d30b(0x38b)](_0x42dab1));}[a0_0x341dd0(0x38b)](_0x2e7485){const _0x1fb743=a0_0x341dd0;let _0xe35b71=_0x2e7485[_0x1fb743(0x61a)](/\d+/);return _0xe35b71?_0xe35b71[0x0]:'';}async[a0_0x341dd0(0x870)](_0x31db90){const _0x30594d=a0_0x341dd0;try{if(this['logger']['verbose'](this[_0x30594d(0x7d8)]+'\x20('+this['instance'][_0x30594d(0x2a8)]+'):\x20Editando\x20bloco...'),!this['AutomateSystem'][_0x30594d(0x520)][_0x30594d(0x232)](_0x2aa64e=>_0x2aa64e[_0x30594d(0x747)]===_0x31db90[_0x30594d(0x747)]))throw this['logger'][_0x30594d(0x769)](this[_0x30594d(0x7d8)]+'\x20('+this[_0x30594d(0x286)][_0x30594d(0x2a8)]+_0x30594d(0x2ec)+_0x31db90[_0x30594d(0x747)]+_0x30594d(0x4bc)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4732b4=await this[_0x30594d(0x6d5)][_0x30594d(0x414)][_0x30594d(0x2c7)]({'where':{'_id':_0x31db90[_0x30594d(0x747)]}});if(!_0x4732b4||!_0x4732b4[_0x30594d(0x7cb)]?.[_0x30594d(0x23d)](this[_0x30594d(0x286)]['wuid']))throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x30594d(0x286)][_0x30594d(0x2a8)]+'):\x20Flow\x20\x27'+_0x31db90['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x30594d(0x22a)+_0x31db90[_0x30594d(0x747)]+_0x30594d(0x249));if(!_0x4732b4[_0x30594d(0x4ad)]?.[_0x30594d(0x23d)](this[_0x30594d(0x286)][_0x30594d(0x2a8)]))throw new m(_0x30594d(0x58c));let {block:_0x4234cc}=_0x31db90;_0x4234cc?.[_0x30594d(0x43f)]?this[_0x30594d(0x83a)](_0x4732b4,_0x31db90):_0x4234cc?.[_0x30594d(0x854)]?this[_0x30594d(0x7bd)](_0x4732b4,_0x31db90):_0x4234cc[_0x30594d(0x747)]?await this['updateBlock'](_0x4732b4,_0x31db90):this[_0x30594d(0x503)](_0x4732b4,_0x31db90);let _0x50686a=await this[_0x30594d(0x6d5)][_0x30594d(0x414)]['updateOne'](_0x4732b4['_id'],_0x4732b4);if(!_0x50686a)throw new Error(_0x30594d(0x73b));return _0x50686a;}catch(_0x43f659){this[_0x30594d(0x667)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x43f659['message']);}}async[a0_0x341dd0(0x83a)](_0x27cbdd,_0x36eea7){const _0x2fbe24=a0_0x341dd0;let _0xe6e780=_0x36eea7[_0x2fbe24(0x4a9)][_0x2fbe24(0x747)],_0x552828=_0x27cbdd[_0x2fbe24(0x48b)][_0x2fbe24(0x232)](_0x4c51e7=>_0x4c51e7[_0x2fbe24(0x747)][_0x2fbe24(0x5a5)]()===_0xe6e780);if(!_0x552828){this['logger'][_0x2fbe24(0x4a8)](this[_0x2fbe24(0x7d8)]+'\x20('+this['instance']['wuid']+_0x2fbe24(0x380)+_0xe6e780+_0x2fbe24(0x67d));return;}this[_0x2fbe24(0x26e)][_0x2fbe24(0x769)](this['instanceName']+'\x20('+this[_0x2fbe24(0x286)][_0x2fbe24(0x2a8)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x2fbe24(0x3c8)](_0x552828));let _0x2fd532=JSON[_0x2fbe24(0x785)](JSON[_0x2fbe24(0x3c8)](_0x552828));_0x2fd532[_0x2fbe24(0x747)]=new he['default'][(_0x2fbe24(0x539))][(_0x2fbe24(0x28b))](),this[_0x2fbe24(0x26e)]['verbose'](this[_0x2fbe24(0x7d8)]+'\x20('+this[_0x2fbe24(0x286)][_0x2fbe24(0x2a8)]+_0x2fbe24(0x29b)+JSON['stringify'](_0x2fd532)),_0x27cbdd['blocks'][_0x2fbe24(0x452)](_0x2fd532),this[_0x2fbe24(0x8c6)](_0x27cbdd[_0x2fbe24(0x48b)],_0x2fd532[_0x2fbe24(0x63a)]);}[a0_0x341dd0(0x667)](_0x1443a3){const _0x4cc3d8=a0_0x341dd0;throw this[_0x4cc3d8(0x26e)][_0x4cc3d8(0x4a8)](this[_0x4cc3d8(0x7d8)]+'\x20('+this[_0x4cc3d8(0x286)][_0x4cc3d8(0x2a8)]+_0x4cc3d8(0x867)+_0x1443a3),new m(_0x1443a3);}[a0_0x341dd0(0x7bd)](_0x32112e,_0x4613d3){const _0x24a8b3=a0_0x341dd0;let {block:_0x4ca861}=_0x4613d3;if(_0x4ca861[_0x24a8b3(0x1fc)]===_0x24a8b3(0x81c)){this[_0x24a8b3(0x667)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x4ca861[_0x24a8b3(0x747)]){this['throwAndLogError'](_0x24a8b3(0x87f));return;}let _0x4108aa=_0x32112e['blocks'][_0x24a8b3(0x232)](_0x26bd5a=>_0x26bd5a[_0x24a8b3(0x747)][_0x24a8b3(0x5a5)]()===_0x4613d3[_0x24a8b3(0x4a9)][_0x24a8b3(0x747)]['toString']());if(!_0x4108aa){this[_0x24a8b3(0x667)]('Bloco\x20com\x20ID\x20'+_0x4ca861[_0x24a8b3(0x747)]+_0x24a8b3(0x27a));return;}_0x32112e['blocks']=_0x32112e[_0x24a8b3(0x48b)]['filter'](_0x59d579=>_0x59d579['_id'][_0x24a8b3(0x5a5)]()!==_0x4613d3[_0x24a8b3(0x4a9)]['_id'][_0x24a8b3(0x5a5)]()),_0x32112e[_0x24a8b3(0x5ce)]=_0x32112e[_0x24a8b3(0x5ce)][_0x24a8b3(0x435)](_0x2c172c=>_0x2c172c[_0x24a8b3(0x580)]!==_0x4ca861[_0x24a8b3(0x747)][_0x24a8b3(0x5a5)]()),_0x32112e[_0x24a8b3(0x85f)]=_0x32112e[_0x24a8b3(0x85f)]['filter'](_0x517764=>_0x517764[_0x24a8b3(0x580)]!==_0x4ca861[_0x24a8b3(0x747)][_0x24a8b3(0x5a5)]()),_0x32112e['replyOptions']=_0x32112e[_0x24a8b3(0x433)][_0x24a8b3(0x435)](_0x504ba9=>_0x504ba9['blockId']!==_0x4ca861[_0x24a8b3(0x747)][_0x24a8b3(0x5a5)]()),this[_0x24a8b3(0x8c6)](_0x32112e['blocks'],_0x4108aa[_0x24a8b3(0x63a)]);}async[a0_0x341dd0(0x648)](_0x1f2d0d,_0x5b4ad0){const _0x2e22bd=a0_0x341dd0;let _0x4b5f7f=_0x1f2d0d[_0x2e22bd(0x48b)][_0x2e22bd(0x3b0)](_0x2a8315=>_0x2a8315[_0x2e22bd(0x747)][_0x2e22bd(0x5a5)]()===_0x5b4ad0[_0x2e22bd(0x4a9)][_0x2e22bd(0x747)]['toString']());if(this[_0x2e22bd(0x26e)][_0x2e22bd(0x769)](this[_0x2e22bd(0x7d8)]+'\x20('+this[_0x2e22bd(0x286)]['wuid']+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x4b5f7f),_0x4b5f7f===-0x1){this[_0x2e22bd(0x26e)][_0x2e22bd(0x769)]('Bloco\x20com\x20ID\x20'+_0x5b4ad0[_0x2e22bd(0x4a9)][_0x2e22bd(0x747)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x1f2d0d['blocks'][_0x4b5f7f][_0x2e22bd(0x1fc)]==='start'){let _0x1153b6=Object[_0x2e22bd(0x866)](_0x5b4ad0['block']);if(_0x1153b6['length']>0x2||_0x1153b6[_0x2e22bd(0x65e)]===0x2&&!_0x1153b6[_0x2e22bd(0x23d)]('next_groupId')){this[_0x2e22bd(0x667)](_0x2e22bd(0x2e2));return;}}let _0xbbc354=_0x1f2d0d['blocks'][_0x4b5f7f][_0x2e22bd(0x63a)];for(let _0x29afb4 in _0x5b4ad0[_0x2e22bd(0x4a9)])_0x5b4ad0[_0x2e22bd(0x4a9)][_0x2e22bd(0x324)](_0x29afb4)&&(_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x29afb4]=_0x5b4ad0[_0x2e22bd(0x4a9)][_0x29afb4]);if(this['logger'][_0x2e22bd(0x769)](this[_0x2e22bd(0x7d8)]+'\x20('+this['instance'][_0x2e22bd(0x2a8)]+_0x2e22bd(0x6e9)+JSON[_0x2e22bd(0x3c8)](_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f])),_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)]&&_0x2e22bd(0x684)in _0x1f2d0d['blocks'][_0x4b5f7f]['apirequest']){this[_0x2e22bd(0x26e)][_0x2e22bd(0x769)](this[_0x2e22bd(0x7d8)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x19e567=JSON['stringify'](_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)][_0x2e22bd(0x684)],null,0x1);_0x19e567[_0x2e22bd(0x65e)]>0x2&&(_0x19e567=_0x19e567[_0x2e22bd(0x6ab)](0x1,_0x19e567[_0x2e22bd(0x65e)]-0x1)['trim']()),_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)][_0x2e22bd(0x78a)]=_0x19e567;}if(_0x1f2d0d['blocks'][_0x4b5f7f][_0x2e22bd(0x8e1)]&&'body'in _0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)]&&!(_0x2e22bd(0x31b)in _0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)])){this[_0x2e22bd(0x26e)][_0x2e22bd(0x769)](this['instanceName']+'\x20('+this[_0x2e22bd(0x286)][_0x2e22bd(0x2a8)]+_0x2e22bd(0x481)),_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f]['apirequest'][_0x2e22bd(0x70f)]=!0x1;let _0x586f68=JSON['stringify'](_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)][_0x2e22bd(0x466)],null,0x2);_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)]['bodyString']=_0x586f68;}if(_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f]['apirequest']&&'bodyString'in _0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f]['apirequest']){_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)]['bodyStringErrorParse']=!0x1;let _0x512e16=_0x1f2d0d['blocks'][_0x4b5f7f][_0x2e22bd(0x8e1)][_0x2e22bd(0x31b)],_0x49f1c1=this[_0x2e22bd(0x632)](_0x512e16);_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)]['bodyString']=_0x49f1c1[_0x2e22bd(0x75f)],_0x1f2d0d[_0x2e22bd(0x48b)][_0x4b5f7f][_0x2e22bd(0x8e1)][_0x2e22bd(0x70f)]=_0x49f1c1[_0x2e22bd(0x4a8)];}let _0x14d375=_0x1f2d0d['blocks'][_0x4b5f7f]['groupId'];_0xbbc354!==_0x14d375?(this[_0x2e22bd(0x8c6)](_0x1f2d0d[_0x2e22bd(0x48b)],_0xbbc354),this[_0x2e22bd(0x8c6)](_0x1f2d0d[_0x2e22bd(0x48b)],_0x14d375)):this[_0x2e22bd(0x8c6)](_0x1f2d0d['blocks'],_0xbbc354);}[a0_0x341dd0(0x632)](_0x4a5750){const _0x544b14=a0_0x341dd0;let _0x2134c2='\u205f',_0x4e8c15=!0x1,_0x54b10a='';for(let _0x507cee=0x0;_0x507cee<_0x4a5750[_0x544b14(0x65e)];_0x507cee++){let _0x2972aa=_0x4a5750[_0x507cee];_0x2972aa==='\x22'&&(_0x507cee===0x0||_0x4a5750[_0x507cee-0x1]!=='\x5c')&&(_0x4e8c15=!_0x4e8c15),!(!_0x4e8c15&&(_0x2972aa==='\x0a'||_0x2972aa==='\x20'||_0x2972aa===_0x2134c2))&&(_0x54b10a+=_0x2972aa);}let _0x38d2af={},_0x343cd9=9876543210.1234,_0xce636a=_0x54b10a[_0x544b14(0x589)](/\{\{([^}]+)\}\}/g,_0x4b8fc1=>{let _0x47b044=_0x4b8fc1,_0xf206c=''+_0x343cd9;return _0x38d2af[_0xf206c]=_0x47b044,_0x343cd9+=0.0001,_0xf206c;}),_0x1ad07a='',_0x18f635=!0x1;try{let _0x1812d1=JSON[_0x544b14(0x785)](_0xce636a);_0x1ad07a=JSON['stringify'](_0x1812d1,null,0x2),_0x1ad07a=_0x1ad07a['replace'](/\n( +)/g,(_0xf582d7,_0x162b81)=>{const _0x2948c6=_0x544b14;let _0x3c47a1=_0x162b81[_0x2948c6(0x65e)];return'\x0a'+_0x2134c2[_0x2948c6(0x22c)](_0x3c47a1*0x2);}),_0x1ad07a=_0x1ad07a[_0x544b14(0x589)](/(\d{10,}\.\d+)/g,_0x1d894c=>_0x38d2af[_0x1d894c]||_0x1d894c);}catch(_0x59ea00){this[_0x544b14(0x26e)][_0x544b14(0x4a8)](_0x544b14(0x5f7)+_0x59ea00),_0x1ad07a=_0x4a5750,_0x18f635=!0x0;}return{'result':_0x1ad07a,'error':_0x18f635};}[a0_0x341dd0(0x503)](_0x3247df,_0x4b1574){const _0x3c8cc0=a0_0x341dd0;if(_0x4b1574['block'][_0x3c8cc0(0x1fc)]===_0x3c8cc0(0x81c)){this[_0x3c8cc0(0x667)](_0x3c8cc0(0x6e3));return;}if(_0x4b1574[_0x3c8cc0(0x4a9)]['apirequest']&&'header'in _0x4b1574[_0x3c8cc0(0x4a9)][_0x3c8cc0(0x8e1)]){this[_0x3c8cc0(0x26e)][_0x3c8cc0(0x769)](this[_0x3c8cc0(0x7d8)]+'\x20('+this[_0x3c8cc0(0x286)][_0x3c8cc0(0x2a8)]+_0x3c8cc0(0x2ee));let _0x55bd0a=JSON[_0x3c8cc0(0x3c8)](_0x4b1574[_0x3c8cc0(0x4a9)][_0x3c8cc0(0x8e1)][_0x3c8cc0(0x684)],null,0x1);_0x55bd0a[_0x3c8cc0(0x65e)]>0x2&&(_0x55bd0a=_0x55bd0a['substring'](0x1,_0x55bd0a[_0x3c8cc0(0x65e)]-0x1)[_0x3c8cc0(0x788)]()),_0x4b1574['block'][_0x3c8cc0(0x8e1)]['headerString']=_0x55bd0a;}_0x4b1574[_0x3c8cc0(0x4a9)][_0x3c8cc0(0x8e1)]&&_0x3c8cc0(0x466)in _0x4b1574['block'][_0x3c8cc0(0x8e1)]&&(this[_0x3c8cc0(0x26e)]['verbose'](this[_0x3c8cc0(0x7d8)]+'\x20('+this[_0x3c8cc0(0x286)][_0x3c8cc0(0x2a8)]+_0x3c8cc0(0x481)),_0x4b1574[_0x3c8cc0(0x4a9)][_0x3c8cc0(0x8e1)][_0x3c8cc0(0x31b)]=JSON[_0x3c8cc0(0x3c8)](_0x4b1574[_0x3c8cc0(0x4a9)][_0x3c8cc0(0x8e1)]['body'],null,0x1)[_0x3c8cc0(0x788)]()),_0x3247df[_0x3c8cc0(0x48b)][_0x3c8cc0(0x452)](_0x4b1574[_0x3c8cc0(0x4a9)]),this[_0x3c8cc0(0x8c6)](_0x3247df[_0x3c8cc0(0x48b)],_0x4b1574[_0x3c8cc0(0x4a9)]['groupId']);}[a0_0x341dd0(0x8c6)](_0x48704f,_0x421b34){const _0x378528=a0_0x341dd0;let _0x317377=_0x48704f['filter'](_0x34d5f1=>_0x34d5f1[_0x378528(0x63a)]===_0x421b34);_0x317377[_0x378528(0x739)]((_0x558543,_0x30cd8b)=>_0x558543['order']-_0x30cd8b[_0x378528(0x27f)]),_0x317377[_0x378528(0x8b4)]((_0x462268,_0x3e69dd)=>_0x462268[_0x378528(0x27f)]=_0x3e69dd+0x1);}async[a0_0x341dd0(0x4b3)](_0x5508d3){const _0xe155b5=a0_0x341dd0;try{if(this[_0xe155b5(0x26e)]['verbose'](this[_0xe155b5(0x7d8)]+'\x20('+this[_0xe155b5(0x286)][_0xe155b5(0x2a8)]+_0xe155b5(0x4f3)),!_0x5508d3||!_0x5508d3['replyOption']){this[_0xe155b5(0x667)](_0xe155b5(0x715));return;}if(!this[_0xe155b5(0x2d9)][_0xe155b5(0x520)][_0xe155b5(0x232)](_0x95ed2e=>_0x95ed2e[_0xe155b5(0x747)]===_0x5508d3[_0xe155b5(0x747)]))throw this[_0xe155b5(0x26e)]['verbose'](this['instanceName']+'\x20('+this[_0xe155b5(0x286)][_0xe155b5(0x2a8)]+_0xe155b5(0x2ec)+_0x5508d3['_id']+_0xe155b5(0x4bc)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5ec822=await this[_0xe155b5(0x6d5)]['flow'][_0xe155b5(0x2c7)]({'where':{'_id':_0x5508d3[_0xe155b5(0x747)]}});if(!_0x5ec822||!_0x5ec822[_0xe155b5(0x7cb)]?.[_0xe155b5(0x23d)](this[_0xe155b5(0x286)][_0xe155b5(0x2a8)]))throw this[_0xe155b5(0x26e)][_0xe155b5(0x4a8)](this[_0xe155b5(0x7d8)]+'\x20('+this[_0xe155b5(0x286)]['wuid']+_0xe155b5(0x3f5)+_0x5508d3['_id']+_0xe155b5(0x249)),new m(_0xe155b5(0x22a)+_0x5508d3['_id']+_0xe155b5(0x249));if(!_0x5ec822[_0xe155b5(0x4ad)]?.['includes'](this['instance'][_0xe155b5(0x2a8)]))throw new m(_0xe155b5(0x58c));let {replyOption:_0x572b4c}=_0x5508d3;_0x572b4c?.[_0xe155b5(0x854)]?(this['deleteReplyOption'](_0x5ec822,_0x5508d3),this['reorderReplyOptions'](_0x5ec822[_0xe155b5(0x433)],_0x5508d3[_0xe155b5(0x2fb)][_0xe155b5(0x580)])):_0x572b4c[_0xe155b5(0x747)]?(await this[_0xe155b5(0x6b1)](_0x5ec822,_0x5508d3),this[_0xe155b5(0x7c8)](_0x5ec822[_0xe155b5(0x433)],_0x5508d3[_0xe155b5(0x2fb)][_0xe155b5(0x580)])):(this[_0xe155b5(0x59a)](_0x5ec822,_0x5508d3),this[_0xe155b5(0x7c8)](_0x5ec822[_0xe155b5(0x433)],_0x5508d3[_0xe155b5(0x2fb)][_0xe155b5(0x580)]));let _0x36a724=await this[_0xe155b5(0x6d5)][_0xe155b5(0x414)][_0xe155b5(0x331)](_0x5ec822[_0xe155b5(0x747)],_0x5ec822);if(!_0x36a724)throw new Error(_0xe155b5(0x73b));return _0x36a724;}catch(_0x13da60){this[_0xe155b5(0x667)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x13da60);}}['reorderReplyOptions'](_0x4245f4,_0x5cc0ad){const _0x3f84ea=a0_0x341dd0;_0x4245f4[_0x3f84ea(0x8b4)](_0x5efa4f=>{const _0xed9114=_0x3f84ea;_0x5efa4f[_0xed9114(0x580)]===_0x5cc0ad&&_0x5efa4f[_0xed9114(0x27f)]===void 0x0&&(_0x5efa4f['order']=0x270f);});let _0x4e0c1a=_0x4245f4[_0x3f84ea(0x435)](_0x271de0=>_0x271de0[_0x3f84ea(0x580)]===_0x5cc0ad);_0x4e0c1a[_0x3f84ea(0x739)]((_0x22fa97,_0x409f88)=>_0x22fa97['order']-_0x409f88[_0x3f84ea(0x27f)]),_0x4e0c1a[_0x3f84ea(0x8b4)]((_0x5d3c78,_0xe8f35d)=>{const _0x95a4=_0x3f84ea;_0x5d3c78[_0x95a4(0x27f)]=_0xe8f35d+0x1;}),_0x4245f4[_0x3f84ea(0x8b4)](_0x49571d=>{const _0x25ea89=_0x3f84ea;if(_0x49571d[_0x25ea89(0x580)]===_0x5cc0ad){let _0x423ca9=_0x4e0c1a[_0x25ea89(0x232)](_0x24adf7=>_0x24adf7[_0x25ea89(0x747)]&&_0x49571d[_0x25ea89(0x747)]&&_0x24adf7['_id'][_0x25ea89(0x5a5)]()===_0x49571d['_id'][_0x25ea89(0x5a5)]());_0x423ca9&&(_0x49571d[_0x25ea89(0x27f)]=_0x423ca9['order']);}});}[a0_0x341dd0(0x537)](_0x585163,_0x272dc9){const _0x5d9423=a0_0x341dd0;let {replyOption:_0x675d6c}=_0x272dc9;if(!_0x675d6c[_0x5d9423(0x747)]){this[_0x5d9423(0x667)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x585163[_0x5d9423(0x433)][_0x5d9423(0x232)](_0x2ecacb=>_0x2ecacb['_id'][_0x5d9423(0x5a5)]()===_0x272dc9[_0x5d9423(0x2fb)][_0x5d9423(0x747)]['toString']())){this[_0x5d9423(0x667)](_0x5d9423(0x5f9)+_0x675d6c[_0x5d9423(0x747)]+_0x5d9423(0x27a));return;}_0x585163[_0x5d9423(0x433)]=_0x585163[_0x5d9423(0x433)]['filter'](_0x351d26=>_0x351d26[_0x5d9423(0x747)][_0x5d9423(0x5a5)]()!==_0x272dc9[_0x5d9423(0x2fb)][_0x5d9423(0x747)]['toString']());}async[a0_0x341dd0(0x6b1)](_0x1accf7,_0x34a5ef){const _0x178a1b=a0_0x341dd0;let _0x5a010f=_0x1accf7[_0x178a1b(0x433)][_0x178a1b(0x3b0)](_0x19a904=>_0x19a904['_id'][_0x178a1b(0x5a5)]()===_0x34a5ef['replyOption'][_0x178a1b(0x747)][_0x178a1b(0x5a5)]());if(_0x5a010f===-0x1){this[_0x178a1b(0x667)]('ReplyOption\x20com\x20ID\x20'+_0x34a5ef[_0x178a1b(0x2fb)][_0x178a1b(0x747)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x49e300 in _0x34a5ef[_0x178a1b(0x2fb)])_0x34a5ef['replyOption'][_0x178a1b(0x324)](_0x49e300)&&(_0x1accf7[_0x178a1b(0x433)][_0x5a010f][_0x49e300]=_0x34a5ef[_0x178a1b(0x2fb)][_0x49e300]);}[a0_0x341dd0(0x59a)](_0x5ad7e2,_0x4414b0){const _0xd71d8=a0_0x341dd0;_0x5ad7e2[_0xd71d8(0x433)][_0xd71d8(0x452)](_0x4414b0[_0xd71d8(0x2fb)]);}async[a0_0x341dd0(0x4dc)](_0x3b3e1d){const _0x25d9f0=a0_0x341dd0;this[_0x25d9f0(0x26e)]['verbose'](this[_0x25d9f0(0x7d8)]+'\x20('+this['instance'][_0x25d9f0(0x2a8)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON['stringify'](_0x3b3e1d,null,0x2));try{if(this['logger'][_0x25d9f0(0x769)](this['instanceName']+'\x20('+this['instance'][_0x25d9f0(0x2a8)]+_0x25d9f0(0x642)),!this[_0x25d9f0(0x2d9)][_0x25d9f0(0x520)][_0x25d9f0(0x232)](_0x2d9b3b=>_0x2d9b3b[_0x25d9f0(0x747)]===_0x3b3e1d[_0x25d9f0(0x747)]))throw this['logger'][_0x25d9f0(0x769)](this['instanceName']+'\x20('+this[_0x25d9f0(0x286)][_0x25d9f0(0x2a8)]+_0x25d9f0(0x2ec)+_0x3b3e1d[_0x25d9f0(0x747)]+_0x25d9f0(0x4bc)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1d299d=await this['repository']['flow'][_0x25d9f0(0x2c7)]({'where':{'_id':_0x3b3e1d[_0x25d9f0(0x747)]}});if(!_0x1d299d||!_0x1d299d[_0x25d9f0(0x7cb)]?.['includes'](this['instance'][_0x25d9f0(0x2a8)]))throw this[_0x25d9f0(0x26e)][_0x25d9f0(0x4a8)](this[_0x25d9f0(0x7d8)]+'\x20('+this[_0x25d9f0(0x286)][_0x25d9f0(0x2a8)]+_0x25d9f0(0x3f5)+_0x3b3e1d[_0x25d9f0(0x747)]+_0x25d9f0(0x249)),new m('Flow\x20\x27'+_0x3b3e1d[_0x25d9f0(0x747)]+_0x25d9f0(0x249));if(!_0x1d299d[_0x25d9f0(0x4ad)]?.[_0x25d9f0(0x23d)](this[_0x25d9f0(0x286)]['wuid']))throw new m(_0x25d9f0(0x58c));if(_0x3b3e1d['group']&&_0x3b3e1d[_0x25d9f0(0x6a8)]?.[_0x25d9f0(0x854)]===!0x0){if(this['logger'][_0x25d9f0(0x769)](this[_0x25d9f0(0x7d8)]+'\x20('+this['instance']['wuid']+'):\x20delete\x20=\x20true'),_0x3b3e1d[_0x25d9f0(0x6a8)][_0x25d9f0(0x4ea)]===!0x0)return{'message':_0x25d9f0(0x3fc)};if(_0x1d299d[_0x25d9f0(0x48b)]['some'](_0x781f40=>_0x781f40[_0x25d9f0(0x63a)][_0x25d9f0(0x5a5)]()===_0x3b3e1d[_0x25d9f0(0x6a8)][_0x25d9f0(0x747)]))return this[_0x25d9f0(0x26e)][_0x25d9f0(0x769)](this[_0x25d9f0(0x7d8)]+'\x20('+this[_0x25d9f0(0x286)][_0x25d9f0(0x2a8)]+_0x25d9f0(0x2ba)),{'message':_0x25d9f0(0x236)};_0x1d299d[_0x25d9f0(0x7f6)]=_0x1d299d[_0x25d9f0(0x7f6)][_0x25d9f0(0x435)](_0x21e078=>_0x21e078[_0x25d9f0(0x747)][_0x25d9f0(0x5a5)]()!==_0x3b3e1d[_0x25d9f0(0x6a8)][_0x25d9f0(0x747)]);}else{if(_0x3b3e1d['group']){if(_0x3b3e1d[_0x25d9f0(0x6a8)][_0x25d9f0(0x4ea)]===!0x0)return{'message':_0x25d9f0(0x4c3)};if(_0x3b3e1d[_0x25d9f0(0x6a8)][_0x25d9f0(0x747)]){let _0x1626f4=_0x1d299d['groups'][_0x25d9f0(0x232)](_0x3f81c9=>_0x3f81c9[_0x25d9f0(0x747)][_0x25d9f0(0x5a5)]()===_0x3b3e1d[_0x25d9f0(0x6a8)][_0x25d9f0(0x747)]);_0x1626f4&&(_0x3b3e1d[_0x25d9f0(0x6a8)]['x']<0x0&&(_0x3b3e1d['group']['x']=0x0),_0x3b3e1d['group']['y']<0x0&&(_0x3b3e1d['group']['y']=0x0),Object[_0x25d9f0(0x606)](_0x1626f4,_0x3b3e1d['group']));}else _0x1d299d[_0x25d9f0(0x7f6)]['push'](_0x3b3e1d[_0x25d9f0(0x6a8)]);}}let _0x6c87d4=await this[_0x25d9f0(0x6d5)][_0x25d9f0(0x414)][_0x25d9f0(0x331)](_0x1d299d[_0x25d9f0(0x747)],_0x1d299d);if(!_0x6c87d4)throw new Error(_0x25d9f0(0x73b));return _0x6c87d4;}catch(_0x5de147){let _0x14916d=_0x25d9f0(0x7dc),_0x281027=_0x5de147 instanceof Error?_0x5de147['message']:typeof _0x5de147=='object'?JSON[_0x25d9f0(0x3c8)](_0x5de147):_0x5de147,_0x3b72d1=_0x14916d+':\x20'+_0x281027;throw this[_0x25d9f0(0x26e)][_0x25d9f0(0x4a8)](this[_0x25d9f0(0x7d8)]+'\x20('+this[_0x25d9f0(0x286)][_0x25d9f0(0x2a8)]+_0x25d9f0(0x867)+_0x3b72d1),new m(_0x3b72d1);}}async[a0_0x341dd0(0x5e5)](_0x12683b){const _0x34bb62=a0_0x341dd0;try{if(this[_0x34bb62(0x26e)]['verbose'](this[_0x34bb62(0x7d8)]+'\x20('+this['instance']['wuid']+_0x34bb62(0x7e4)),!this['AutomateSystem'][_0x34bb62(0x520)][_0x34bb62(0x232)](_0x3eb735=>_0x3eb735[_0x34bb62(0x747)]===_0x12683b[_0x34bb62(0x747)]))throw this[_0x34bb62(0x26e)][_0x34bb62(0x769)](this[_0x34bb62(0x7d8)]+'\x20('+this[_0x34bb62(0x286)][_0x34bb62(0x2a8)]+_0x34bb62(0x2ec)+_0x12683b[_0x34bb62(0x747)]+_0x34bb62(0x4bc)),new m(_0x34bb62(0x3ba));let _0x135f5b=await this[_0x34bb62(0x6d5)][_0x34bb62(0x414)]['findOne']({'where':{'_id':_0x12683b['_id']}});if(!_0x135f5b||!_0x135f5b[_0x34bb62(0x7cb)]?.['includes'](this['instance'][_0x34bb62(0x2a8)]))throw this['logger'][_0x34bb62(0x4a8)](this[_0x34bb62(0x7d8)]+'\x20('+this[_0x34bb62(0x286)][_0x34bb62(0x2a8)]+_0x34bb62(0x3f5)+_0x12683b[_0x34bb62(0x747)]+_0x34bb62(0x249)),new m(_0x34bb62(0x22a)+_0x12683b['_id']+_0x34bb62(0x249));if(!_0x135f5b[_0x34bb62(0x4ad)]?.[_0x34bb62(0x23d)](this[_0x34bb62(0x286)][_0x34bb62(0x2a8)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x5b6601=!0x1;if(_0x12683b[_0x34bb62(0x4ec)]?.[_0x34bb62(0x854)]===!0x0)_0x135f5b['conditions']=_0x135f5b[_0x34bb62(0x5ce)]['filter'](_0xd34552=>_0xd34552&&_0x12683b[_0x34bb62(0x4ec)]&&_0xd34552['_id']&&_0x12683b[_0x34bb62(0x4ec)]['_id']&&_0xd34552[_0x34bb62(0x747)][_0x34bb62(0x5a5)]()!==_0x12683b[_0x34bb62(0x4ec)]['_id'][_0x34bb62(0x5a5)]()),_0x5b6601=!0x0;else{let _0x28b2f8=_0x135f5b[_0x34bb62(0x5ce)]['find'](_0x2a753a=>_0x2a753a&&_0x12683b['condition']&&_0x2a753a['_id']&&_0x12683b[_0x34bb62(0x4ec)][_0x34bb62(0x747)]&&_0x2a753a[_0x34bb62(0x747)]['toString']()===_0x12683b[_0x34bb62(0x4ec)][_0x34bb62(0x747)][_0x34bb62(0x5a5)]());_0x28b2f8?(_0x5b6601=_0x28b2f8[_0x34bb62(0x27f)]!==_0x12683b[_0x34bb62(0x4ec)][_0x34bb62(0x27f)],Object['assign'](_0x28b2f8,_0x12683b[_0x34bb62(0x4ec)])):(_0x135f5b[_0x34bb62(0x5ce)][_0x34bb62(0x452)](_0x12683b[_0x34bb62(0x4ec)]),_0x5b6601=!0x0);}if(_0x5b6601){_0x135f5b[_0x34bb62(0x5ce)][_0x34bb62(0x739)]((_0x23db1f,_0x220155)=>_0x23db1f['order']>_0x220155[_0x34bb62(0x27f)]?0x1:_0x220155['order']>_0x23db1f['order']?-0x1:0x0);for(let _0x1f5106=0x0;_0x1f5106<_0x135f5b[_0x34bb62(0x5ce)][_0x34bb62(0x65e)];_0x1f5106++)_0x135f5b['conditions'][_0x1f5106][_0x34bb62(0x27f)]=_0x1f5106+0x1;_0x135f5b[_0x34bb62(0x5ce)][_0x34bb62(0x65e)]>0x0&&(_0x135f5b[_0x34bb62(0x5ce)][0x0][_0x34bb62(0x355)]=_0x34bb62(0x4e1));}let _0x2de7eb=await this[_0x34bb62(0x6d5)][_0x34bb62(0x414)][_0x34bb62(0x331)](_0x135f5b['_id'],_0x135f5b);if(!_0x2de7eb)throw new Error(_0x34bb62(0x73b));return _0x2de7eb;}catch(_0x3ac691){let _0x59dc4d=_0x34bb62(0x22e),_0x18dcd0=_0x3ac691 instanceof Error?_0x3ac691[_0x34bb62(0x450)]:typeof _0x3ac691==_0x34bb62(0x8d7)?JSON[_0x34bb62(0x3c8)](_0x3ac691):_0x3ac691,_0x48681f=_0x59dc4d+':\x20'+_0x18dcd0;throw this['logger'][_0x34bb62(0x4a8)](this[_0x34bb62(0x7d8)]+'\x20('+this[_0x34bb62(0x286)][_0x34bb62(0x2a8)]+_0x34bb62(0x867)+_0x48681f),new m(_0x48681f);}}async[a0_0x341dd0(0x610)](_0x21c93c){const _0x1c84d1=a0_0x341dd0;try{if(this[_0x1c84d1(0x26e)][_0x1c84d1(0x769)](this[_0x1c84d1(0x7d8)]+'\x20('+this[_0x1c84d1(0x286)][_0x1c84d1(0x2a8)]+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this['AutomateSystem'][_0x1c84d1(0x520)]['find'](_0x5d733e=>_0x5d733e[_0x1c84d1(0x747)]===_0x21c93c[_0x1c84d1(0x747)]))throw this[_0x1c84d1(0x26e)][_0x1c84d1(0x769)](this[_0x1c84d1(0x7d8)]+'\x20('+this['instance']['wuid']+'):\x20Fluxo\x20\x27'+_0x21c93c['_id']+_0x1c84d1(0x4bc)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x416302=await this[_0x1c84d1(0x6d5)][_0x1c84d1(0x414)][_0x1c84d1(0x2c7)]({'where':{'_id':_0x21c93c['_id']}});if(!_0x416302||!_0x416302[_0x1c84d1(0x7cb)]?.[_0x1c84d1(0x23d)](this[_0x1c84d1(0x286)][_0x1c84d1(0x2a8)]))throw this[_0x1c84d1(0x26e)][_0x1c84d1(0x4a8)](this[_0x1c84d1(0x7d8)]+'\x20('+this[_0x1c84d1(0x286)][_0x1c84d1(0x2a8)]+_0x1c84d1(0x3f5)+_0x21c93c[_0x1c84d1(0x747)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1c84d1(0x22a)+_0x21c93c[_0x1c84d1(0x747)]+_0x1c84d1(0x249));if(!_0x416302[_0x1c84d1(0x4ad)]?.['includes'](this[_0x1c84d1(0x286)][_0x1c84d1(0x2a8)]))throw new m(_0x1c84d1(0x58c));let _0x59cd33=!0x1;if(_0x21c93c[_0x1c84d1(0x7e9)]?.[_0x1c84d1(0x854)]===!0x0)_0x416302[_0x1c84d1(0x85f)]=_0x416302[_0x1c84d1(0x85f)]['filter'](_0x249dc6=>_0x249dc6&&_0x21c93c[_0x1c84d1(0x7e9)]&&_0x249dc6[_0x1c84d1(0x747)]&&_0x21c93c['varedit'][_0x1c84d1(0x747)]&&_0x249dc6['_id'][_0x1c84d1(0x5a5)]()!==_0x21c93c[_0x1c84d1(0x7e9)]['_id'][_0x1c84d1(0x5a5)]()),_0x59cd33=!0x0;else{let _0x11063c=_0x416302[_0x1c84d1(0x85f)][_0x1c84d1(0x232)](_0xe9e441=>_0xe9e441&&_0x21c93c[_0x1c84d1(0x7e9)]&&_0xe9e441[_0x1c84d1(0x747)]&&_0x21c93c[_0x1c84d1(0x7e9)]['_id']&&_0xe9e441[_0x1c84d1(0x747)]['toString']()===_0x21c93c[_0x1c84d1(0x7e9)][_0x1c84d1(0x747)]['toString']());_0x11063c?(_0x59cd33=_0x11063c[_0x1c84d1(0x27f)]!==_0x21c93c['varedit'][_0x1c84d1(0x27f)],Object[_0x1c84d1(0x606)](_0x11063c,_0x21c93c[_0x1c84d1(0x7e9)])):(_0x416302[_0x1c84d1(0x85f)][_0x1c84d1(0x452)](_0x21c93c[_0x1c84d1(0x7e9)]),_0x59cd33=!0x0);}if(_0x59cd33){_0x416302[_0x1c84d1(0x85f)][_0x1c84d1(0x739)]((_0x5b9fea,_0x53b03b)=>_0x5b9fea['order']>_0x53b03b['order']?0x1:_0x53b03b[_0x1c84d1(0x27f)]>_0x5b9fea['order']?-0x1:0x0);for(let _0x308e56=0x0;_0x308e56<_0x416302[_0x1c84d1(0x85f)][_0x1c84d1(0x65e)];_0x308e56++)_0x416302[_0x1c84d1(0x85f)][_0x308e56][_0x1c84d1(0x27f)]=_0x308e56+0x1;}let _0x39985f=await this['repository'][_0x1c84d1(0x414)][_0x1c84d1(0x331)](_0x416302[_0x1c84d1(0x747)],_0x416302);if(!_0x39985f)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x39985f;}catch(_0x30b2ac){let _0x48def0=_0x1c84d1(0x22e),_0x1b9b37=_0x30b2ac instanceof Error?_0x30b2ac[_0x1c84d1(0x450)]:typeof _0x30b2ac=='object'?JSON[_0x1c84d1(0x3c8)](_0x30b2ac):_0x30b2ac,_0xbfbcae=_0x48def0+':\x20'+_0x1b9b37;throw this[_0x1c84d1(0x26e)][_0x1c84d1(0x4a8)](this[_0x1c84d1(0x7d8)]+'\x20('+this[_0x1c84d1(0x286)]['wuid']+_0x1c84d1(0x867)+_0xbfbcae),new m(_0xbfbcae);}}async[a0_0x341dd0(0x64c)](_0x133107){const _0x2cfe97=a0_0x341dd0;try{if(this['logger'][_0x2cfe97(0x769)](this[_0x2cfe97(0x7d8)]+'\x20('+this[_0x2cfe97(0x286)][_0x2cfe97(0x2a8)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x2cfe97(0x2d9)][_0x2cfe97(0x520)][_0x2cfe97(0x232)](_0x2e07b4=>_0x2e07b4['_id']===_0x133107[_0x2cfe97(0x747)]))throw this[_0x2cfe97(0x26e)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Fluxo\x20\x27'+_0x133107[_0x2cfe97(0x747)]+'\x27\x20não\x20encontrado'),new m(_0x2cfe97(0x3ba));let _0x1ce224=await this[_0x2cfe97(0x6d5)][_0x2cfe97(0x414)][_0x2cfe97(0x2c7)]({'where':{'_id':_0x133107[_0x2cfe97(0x747)]}});if(!_0x1ce224||!_0x1ce224[_0x2cfe97(0x7cb)]?.[_0x2cfe97(0x23d)](this[_0x2cfe97(0x286)][_0x2cfe97(0x2a8)]))throw this['logger'][_0x2cfe97(0x4a8)](this['instanceName']+'\x20('+this[_0x2cfe97(0x286)][_0x2cfe97(0x2a8)]+_0x2cfe97(0x3f5)+_0x133107[_0x2cfe97(0x747)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x133107['_id']+_0x2cfe97(0x249));if(!_0x1ce224[_0x2cfe97(0x4ad)]?.[_0x2cfe97(0x23d)](this[_0x2cfe97(0x286)][_0x2cfe97(0x2a8)]))throw new m(_0x2cfe97(0x58c));_0x133107[_0x2cfe97(0x7e1)][_0x2cfe97(0x1fa)]=_0x133107['variable'][_0x2cfe97(0x1fa)]['trim'](),_0x133107[_0x2cfe97(0x7e1)][_0x2cfe97(0x1fa)]['startsWith']('_')&&(_0x133107['variable'][_0x2cfe97(0x1fa)]=_0x133107[_0x2cfe97(0x7e1)][_0x2cfe97(0x1fa)][_0x2cfe97(0x6ab)](0x1)),_0x133107[_0x2cfe97(0x7e1)][_0x2cfe97(0x1fa)]=_0x133107[_0x2cfe97(0x7e1)][_0x2cfe97(0x1fa)][_0x2cfe97(0x788)]();let _0x530d44=_0x1ce224[_0x2cfe97(0x798)][_0x2cfe97(0x232)](_0x39dae9=>_0x39dae9[_0x2cfe97(0x1fa)]===_0x133107[_0x2cfe97(0x7e1)]['name']);if(_0x530d44?.[_0x2cfe97(0x43e)]===!0x0)throw new Error(_0x2cfe97(0x67a));if(_0x133107[_0x2cfe97(0x7e1)]?.[_0x2cfe97(0x854)]===!0x0){if(!_0x530d44)return{'message':_0x2cfe97(0x509)};_0x1ce224[_0x2cfe97(0x798)]=_0x1ce224[_0x2cfe97(0x798)][_0x2cfe97(0x435)](_0x4125e8=>_0x4125e8['name']!==_0x133107[_0x2cfe97(0x7e1)][_0x2cfe97(0x1fa)]);}else _0x530d44?Object[_0x2cfe97(0x606)](_0x530d44,_0x133107[_0x2cfe97(0x7e1)]):_0x1ce224[_0x2cfe97(0x798)][_0x2cfe97(0x452)](_0x133107[_0x2cfe97(0x7e1)]);let _0x4a6a7f=await this['repository'][_0x2cfe97(0x414)][_0x2cfe97(0x331)](_0x1ce224[_0x2cfe97(0x747)],_0x1ce224);if(!_0x4a6a7f)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4a6a7f;}catch(_0xbcb1d6){let _0x3e07f0=_0x2cfe97(0x490),_0x2d2adc=_0xbcb1d6 instanceof Error?_0xbcb1d6[_0x2cfe97(0x450)]:typeof _0xbcb1d6==_0x2cfe97(0x8d7)?JSON['stringify'](_0xbcb1d6):_0xbcb1d6,_0x2566bc=_0x3e07f0+':\x20'+_0x2d2adc;throw this[_0x2cfe97(0x26e)][_0x2cfe97(0x4a8)](this[_0x2cfe97(0x7d8)]+'\x20('+this[_0x2cfe97(0x286)]['wuid']+'):\x20'+_0x2566bc),new m(_0x2566bc);}}async[a0_0x341dd0(0x1de)](_0x1a6129){const _0x5d815f=a0_0x341dd0;let _0x2bdc2c=null;try{if(!this[_0x5d815f(0x2d9)]?.[_0x5d815f(0x676)][_0x5d815f(0x7be)])throw new m(_0x5d815f(0x489));this[_0x5d815f(0x26e)][_0x5d815f(0x769)](this[_0x5d815f(0x7d8)]+'\x20('+this['instance'][_0x5d815f(0x2a8)]+_0x5d815f(0x657));let _0x3bad1c=(await this[_0x5d815f(0x3bd)]({'numbers':[_0x1a6129[_0x5d815f(0x68c)]]}))[0x0];if(!_0x3bad1c[_0x5d815f(0x861)]&&!(0x0,w[_0x5d815f(0x8ba)])(_0x3bad1c[_0x5d815f(0x824)])&&!_0x3bad1c['jid'][_0x5d815f(0x23d)]('@broadcast'))throw _0x2bdc2c=JSON[_0x5d815f(0x3c8)](_0x3bad1c,null,0x2),new m(_0x3bad1c);let _0x5a1960;if(_0x1a6129[_0x5d815f(0x1fa)][_0x5d815f(0x65e)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x5d815f(0x4a1)](_0x1a6129['name'])?_0x5a1960=this[_0x5d815f(0x2d9)]['flows'][_0x5d815f(0x232)](_0xae152=>_0xae152[_0x5d815f(0x747)]===_0x1a6129[_0x5d815f(0x1fa)]):_0x5a1960=this[_0x5d815f(0x2d9)][_0x5d815f(0x520)][_0x5d815f(0x232)](_0x18a658=>_0x18a658[_0x5d815f(0x1fa)]===_0x1a6129[_0x5d815f(0x1fa)]),!_0x5a1960)throw this[_0x5d815f(0x26e)][_0x5d815f(0x769)](this[_0x5d815f(0x7d8)]+'\x20('+this[_0x5d815f(0x286)][_0x5d815f(0x2a8)]+_0x5d815f(0x2ec)+_0x1a6129[_0x5d815f(0x1fa)]+_0x5d815f(0x4bc)),new m(_0x5d815f(0x3ba));let _0x5e8707=await this[_0x5d815f(0x6d5)][_0x5d815f(0x414)][_0x5d815f(0x2c7)]({'where':{'_id':_0x5a1960[_0x5d815f(0x747)]}});if(!_0x5e8707||!_0x5e8707[_0x5d815f(0x7cb)]?.[_0x5d815f(0x23d)](this[_0x5d815f(0x286)][_0x5d815f(0x2a8)]))throw this[_0x5d815f(0x26e)][_0x5d815f(0x4a8)](this[_0x5d815f(0x7d8)]+'\x20('+this[_0x5d815f(0x286)][_0x5d815f(0x2a8)]+_0x5d815f(0x3f5)+_0x5a1960[_0x5d815f(0x747)]+_0x5d815f(0x249)),_0x2bdc2c=_0x5d815f(0x22a)+_0x5a1960['_id']+_0x5d815f(0x249),new m(_0x2bdc2c);let _0x489bd8=await this[_0x5d815f(0x513)](_0x5e8707,_0x3bad1c['jid'],_0x1a6129['changeVariables']);if(_0x489bd8){this['logger'][_0x5d815f(0x769)](this['instanceName']+'\x20('+this[_0x5d815f(0x286)][_0x5d815f(0x2a8)]+_0x5d815f(0x71e));let _0x58f121=await this['NextBlock'](_0x489bd8);return _0x58f121&&await this[_0x5d815f(0x5f0)](_0x489bd8,_0x58f121),{'message':_0x5d815f(0x7ca)+_0x1a6129[_0x5d815f(0x68c)]};}}catch(_0x409c2b){if(this[_0x5d815f(0x26e)][_0x5d815f(0x4a8)](this[_0x5d815f(0x7d8)]+'\x20('+this[_0x5d815f(0x286)][_0x5d815f(0x2a8)]+_0x5d815f(0x345)+(_0x409c2b instanceof Error?_0x409c2b[_0x5d815f(0x450)]:JSON[_0x5d815f(0x3c8)](_0x409c2b,null,0x2))),_0x2bdc2c=_0x409c2b instanceof Error?_0x409c2b[_0x5d815f(0x450)]:JSON[_0x5d815f(0x3c8)](_0x409c2b,null,0x2),_0x2bdc2c)throw new m(_0x5d815f(0x888)+_0x2bdc2c);}}async[a0_0x341dd0(0x5cb)](_0x2c910a,_0x439667,_0x526618){const _0x9b0423=a0_0x341dd0;let _0x49b1c7=null;try{if(!this[_0x9b0423(0x2d9)]?.['flowConfig'][_0x9b0423(0x7be)])throw new m(_0x9b0423(0x489));if(this['logger'][_0x9b0423(0x769)](this['instanceName']+'\x20('+this[_0x9b0423(0x286)][_0x9b0423(0x2a8)]+'):\x20Iniciando\x20bot...'),_0x439667){let _0x466f6d=(await this[_0x9b0423(0x3bd)]({'numbers':[_0x439667]}))[0x0];if(!_0x466f6d[_0x9b0423(0x861)]&&!(0x0,w[_0x9b0423(0x8ba)])(_0x466f6d[_0x9b0423(0x824)])&&!_0x466f6d[_0x9b0423(0x824)][_0x9b0423(0x23d)](_0x9b0423(0x70e)))throw _0x49b1c7=JSON['stringify'](_0x466f6d,null,0x2),new m(_0x466f6d);_0x439667=_0x466f6d[_0x9b0423(0x824)];}else _0x439667||(_0x439667=(0x0,X['v4'])());let _0x55a024=await this[_0x9b0423(0x6d5)][_0x9b0423(0x414)][_0x9b0423(0x2c7)]({'where':{'_id':_0x2c910a}});if(!_0x55a024||!_0x55a024['whoCanUse']?.[_0x9b0423(0x23d)](this[_0x9b0423(0x286)]['wuid']))throw this[_0x9b0423(0x26e)][_0x9b0423(0x4a8)](this[_0x9b0423(0x7d8)]+'\x20('+this[_0x9b0423(0x286)][_0x9b0423(0x2a8)]+_0x9b0423(0x3f5)+_0x2c910a+_0x9b0423(0x249)),new m('Flow\x20\x27'+_0x2c910a+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x26e8f9=await this[_0x9b0423(0x513)](_0x55a024,_0x439667,null);if(_0x26e8f9){this[_0x9b0423(0x26e)][_0x9b0423(0x769)](this[_0x9b0423(0x7d8)]+'\x20('+this[_0x9b0423(0x286)]['wuid']+_0x9b0423(0x533));let _0x50a4a0;if(_0x526618){let _0x5ace51=_0x26e8f9[_0x9b0423(0x505)][_0x9b0423(0x22d)],_0x3ac088=this[_0x9b0423(0x483)](_0x526618);Object[_0x9b0423(0x606)](_0x5ace51,_0x3ac088),_0x26e8f9[_0x9b0423(0x505)][_0x9b0423(0x22d)]=_0x5ace51,_0x50a4a0={'error':!0x1,'apiResponse':_0x526618};}let _0x5045b3=await this[_0x9b0423(0x792)](_0x26e8f9);return _0x5045b3&&await this[_0x9b0423(0x5f0)](_0x26e8f9,_0x5045b3),{'message':_0x9b0423(0x820)};}}catch(_0x377a63){if(this[_0x9b0423(0x26e)][_0x9b0423(0x4a8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9b0423(0x345)+(_0x377a63 instanceof Error?_0x377a63[_0x9b0423(0x450)]:JSON['stringify'](_0x377a63,null,0x2))),_0x49b1c7=_0x377a63 instanceof Error?_0x377a63[_0x9b0423(0x450)]:JSON[_0x9b0423(0x3c8)](_0x377a63,null,0x2),_0x49b1c7)throw new m(_0x9b0423(0x888)+_0x49b1c7);}}async[a0_0x341dd0(0x7fe)](_0xe728f9){const _0x2c87a2=a0_0x341dd0;try{let _0x7ce2c5={'remoteJid':_0xe728f9,'status':'open'},_0x599e2d={'status':_0x2c87a2(0x7f1)},_0x397d6e=await this[_0x2c87a2(0x6d5)][_0x2c87a2(0x6f8)][_0x2c87a2(0x7fc)](_0x7ce2c5,_0x599e2d,this[_0x2c87a2(0x286)][_0x2c87a2(0x2a8)]);return this['logger'][_0x2c87a2(0x769)](this[_0x2c87a2(0x7d8)]+'\x20('+this['instance'][_0x2c87a2(0x2a8)]+_0x2c87a2(0x6f9)),_0x397d6e;}catch(_0x135df5){throw this[_0x2c87a2(0x26e)][_0x2c87a2(0x4a8)](this[_0x2c87a2(0x7d8)]+'\x20('+this[_0x2c87a2(0x286)]['wuid']+_0x2c87a2(0x3c7)+_0x135df5[_0x2c87a2(0x450)]),_0x135df5;}}async[a0_0x341dd0(0x513)](_0x2d5532,_0x3b581e,_0x8969c4){const _0x297744=a0_0x341dd0;this[_0x297744(0x26e)][_0x297744(0x769)](this[_0x297744(0x7d8)]+'\x20('+this['instance']['wuid']+_0x297744(0x6e7)),await this[_0x297744(0x7fe)](_0x3b581e);try{let _0x46c8b3=require(_0x297744(0x367))[_0x297744(0x28b)],_0x5bda88=Date[_0x297744(0x20e)](),_0x222a19=_0x297744(0x81c),_0x1953f8={},_0x439545={},_0x276653=this['AutomateSystem']['flows'][_0x297744(0x232)](_0xaf2379=>_0xaf2379[_0x297744(0x747)]===_0x2d5532[_0x297744(0x747)]?.[_0x297744(0x5a5)]()),_0x184914=_0x276653?.[_0x297744(0x694)]??_0x2d5532['minutesToClose']??0x0,_0x3b6849=_0x276653?.[_0x297744(0x8c8)]??_0x2d5532[_0x297744(0x8c8)]??!0x1,_0x3a1550={'flowId':_0x2d5532[_0x297744(0x747)],..._0x2d5532,'chatLog':null},_0x317ad1=await this[_0x297744(0x603)](_0x3a1550[_0x297744(0x798)]),_0x2b2235=await this[_0x297744(0x287)](_0x3b581e),_0x555d38={..._0x317ad1,..._0x2b2235,'_remoteJid':_0x3b581e},_0x39f83f={'lastReceivedMessage':_0x1953f8,'lastSendMessage':_0x439545,'lastBlockId':_0x222a19,'lastCondition':!0x0,'realVariables':_0x555d38};_0x3a1550[_0x297744(0x505)]=_0x39f83f,_0x3a1550['chatLog']['realVariables']={..._0x555d38,..._0x8969c4},delete _0x3a1550['_id'],_0x3a1550[_0x297744(0x747)]=new _0x46c8b3(),_0x3a1550[_0x297744(0x338)]=_0x5bda88,_0x3a1550[_0x297744(0x826)]=_0x297744(0x86d),_0x3a1550['remoteJid']=_0x3b581e,_0x3a1550['minutesToClose']=_0x184914,_0x3a1550['readMessages']=_0x3b6849,_0x3a1550[_0x297744(0x747)]=_0x2d5532[_0x297744(0x747)];let _0x36900e=await this['repository'][_0x297744(0x6f8)][_0x297744(0x331)](_0x3a1550[_0x297744(0x747)],_0x3a1550,this[_0x297744(0x286)]['wuid']);return this[_0x297744(0x26e)]['verbose'](this[_0x297744(0x7d8)]+'\x20('+this[_0x297744(0x286)][_0x297744(0x2a8)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x36900e?_0x3a1550:null;}catch(_0xeac9f0){let _0x2fce4f=_0x297744(0x7ff),_0x466d4b=_0xeac9f0 instanceof Error?_0xeac9f0[_0x297744(0x450)]:typeof _0xeac9f0=='object'?JSON[_0x297744(0x3c8)](_0xeac9f0):_0xeac9f0,_0x332076=_0x2fce4f+':\x20'+_0x466d4b;throw this[_0x297744(0x26e)][_0x297744(0x4a8)](this[_0x297744(0x7d8)]+'\x20('+this[_0x297744(0x286)][_0x297744(0x2a8)]+_0x297744(0x867)+_0x332076),new m(_0x332076);}}async[a0_0x341dd0(0x836)](_0x517f58){const _0x5083b1=a0_0x341dd0;try{this[_0x5083b1(0x26e)]['verbose'](this[_0x5083b1(0x7d8)]+'\x20('+this[_0x5083b1(0x286)][_0x5083b1(0x2a8)]+_0x5083b1(0x67c)),this[_0x5083b1(0x26e)][_0x5083b1(0x769)](this[_0x5083b1(0x7d8)]+'\x20('+this[_0x5083b1(0x286)][_0x5083b1(0x2a8)]+'):\x20Query\x20params:\x20'+_0x517f58);let _0x476764={'where':{'_id':_0x517f58}};return await this[_0x5083b1(0x6d5)][_0x5083b1(0x6f8)]['findOne'](_0x476764,this[_0x5083b1(0x286)][_0x5083b1(0x2a8)]);}catch(_0x47428a){let _0x1c6b9f='Erro\x20ao\x20buscar\x20a\x20conversa',_0x31acff=_0x47428a instanceof Error?_0x47428a[_0x5083b1(0x450)]:typeof _0x47428a==_0x5083b1(0x8d7)?JSON[_0x5083b1(0x3c8)](_0x47428a):_0x47428a,_0x5dc424=_0x1c6b9f+':\x20'+_0x31acff;throw this[_0x5083b1(0x26e)][_0x5083b1(0x4a8)](this[_0x5083b1(0x7d8)]+'\x20('+this['instance'][_0x5083b1(0x2a8)]+_0x5083b1(0x867)+_0x5dc424),new m(_0x5dc424);}}async[a0_0x341dd0(0x38a)](_0x3e50e2){const _0x4b63e7=a0_0x341dd0;try{return this['logger'][_0x4b63e7(0x769)](this[_0x4b63e7(0x7d8)]+'\x20('+this[_0x4b63e7(0x286)][_0x4b63e7(0x2a8)]+_0x4b63e7(0x579)),await this[_0x4b63e7(0x6d5)][_0x4b63e7(0x6f8)][_0x4b63e7(0x232)](_0x3e50e2,this[_0x4b63e7(0x286)][_0x4b63e7(0x2a8)]);}catch(_0x81a418){let _0x568a94=_0x4b63e7(0x31c),_0x425a3a=_0x81a418 instanceof Error?_0x81a418[_0x4b63e7(0x450)]:typeof _0x81a418==_0x4b63e7(0x8d7)?JSON[_0x4b63e7(0x3c8)](_0x81a418):_0x81a418,_0x14b4dc=_0x568a94+':\x20'+_0x425a3a;throw this[_0x4b63e7(0x26e)][_0x4b63e7(0x4a8)](this[_0x4b63e7(0x7d8)]+'\x20('+this[_0x4b63e7(0x286)][_0x4b63e7(0x2a8)]+_0x4b63e7(0x867)+_0x14b4dc),new m(_0x14b4dc);}}async[a0_0x341dd0(0x65b)](_0x5f111){const _0x2ad7b5=a0_0x341dd0;try{return this[_0x2ad7b5(0x26e)][_0x2ad7b5(0x769)](this[_0x2ad7b5(0x7d8)]+'\x20('+this['instance'][_0x2ad7b5(0x2a8)]+_0x2ad7b5(0x382)),this[_0x2ad7b5(0x26e)][_0x2ad7b5(0x769)](this[_0x2ad7b5(0x7d8)]+'\x20('+this[_0x2ad7b5(0x286)][_0x2ad7b5(0x2a8)]+_0x2ad7b5(0x6c4)+_0x5f111),(await this[_0x2ad7b5(0x6d5)][_0x2ad7b5(0x6f8)]['deleteOne']({'where':{'_id':_0x5f111['_id']}},this[_0x2ad7b5(0x286)][_0x2ad7b5(0x2a8)]))['deletedCount']===0x0?{'message':_0x2ad7b5(0x681)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x5b13a3){let _0x429ec6='Erro\x20ao\x20deletar\x20a\x20conversa',_0x24eb3a=_0x5b13a3 instanceof Error?_0x5b13a3[_0x2ad7b5(0x450)]:typeof _0x5b13a3==_0x2ad7b5(0x8d7)?JSON[_0x2ad7b5(0x3c8)](_0x5b13a3):_0x5b13a3,_0x53922c=_0x429ec6+':\x20'+_0x24eb3a;throw this[_0x2ad7b5(0x26e)][_0x2ad7b5(0x4a8)](this['instanceName']+'\x20('+this[_0x2ad7b5(0x286)][_0x2ad7b5(0x2a8)]+_0x2ad7b5(0x867)+_0x53922c),new m(_0x53922c);}}async['editConversation'](_0x551483){const _0x55a303=a0_0x341dd0;try{let {_id:_0x1e335c,chatLog:_0xc2f34b,status:_0x50151e}=_0x551483;if(!_0x1e335c)return{'message':_0x55a303(0x5a0)};let _0x492e51={};if(_0x50151e!==void 0x0&&(_0x492e51[_0x55a303(0x826)]=_0x50151e),Object[_0x55a303(0x866)](_0x492e51)[_0x55a303(0x65e)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0xd99ec0=await this[_0x55a303(0x6d5)][_0x55a303(0x6f8)][_0x55a303(0x331)](_0x1e335c,_0x492e51,this[_0x55a303(0x286)][_0x55a303(0x2a8)]);return _0xd99ec0||{'message':_0x55a303(0x4f6)};}catch(_0x5a8399){let _0x2e647c=_0x55a303(0x30b),_0x222146=_0x5a8399 instanceof Error?_0x5a8399[_0x55a303(0x450)]:typeof _0x5a8399==_0x55a303(0x8d7)?JSON['stringify'](_0x5a8399):_0x5a8399,_0x2e60c8=_0x2e647c+':\x20'+_0x222146;throw this[_0x55a303(0x26e)][_0x55a303(0x4a8)](this[_0x55a303(0x7d8)]+'\x20('+this['instance'][_0x55a303(0x2a8)]+_0x55a303(0x867)+_0x2e60c8),new m(_0x2e60c8);}}async[a0_0x341dd0(0x2a4)](_0x163c3d){const _0x9cab6b=a0_0x341dd0;try{_0x163c3d[_0x9cab6b(0x747)]=this[_0x9cab6b(0x6e5)](_0x163c3d[_0x9cab6b(0x747)]);let _0x9cd60b=await this[_0x9cab6b(0x6d5)][_0x9cab6b(0x8b3)][_0x9cab6b(0x2c7)]({'where':{'_id':_0x163c3d['_id']}},this['instance'][_0x9cab6b(0x2a8)]);if(!_0x9cd60b)throw new m(_0x9cab6b(0x242));let {_id:_0x1d5134,leadInfo:_0x4a4d52}=_0x163c3d;if(!_0x1d5134)throw new Error(_0x9cab6b(0x460));if(_0x163c3d[_0x9cab6b(0x854)]===_0x9cab6b(0x3ef))return await this[_0x9cab6b(0x50b)](_0x163c3d[_0x9cab6b(0x747)]),await this[_0x9cab6b(0x6d5)][_0x9cab6b(0x8b3)]['delete']({'where':{'_id':_0x163c3d[_0x9cab6b(0x747)]}},this[_0x9cab6b(0x286)][_0x9cab6b(0x2a8)]),await this[_0x9cab6b(0x6d5)][_0x9cab6b(0x450)][_0x9cab6b(0x854)]({'where':{'key':{'remoteJid':_0x163c3d['_id']}}},this[_0x9cab6b(0x286)][_0x9cab6b(0x2a8)]),_0x163c3d=await this[_0x9cab6b(0x6d5)][_0x9cab6b(0x8b3)]['updateOne']({'where':{'_id':_0x163c3d['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x9cab6b(0x286)][_0x9cab6b(0x2a8)]),J(this[_0x9cab6b(0x7d8)],_0x9cab6b(0x374),{'chat':_0x163c3d}),{'message':_0x9cab6b(0x686)};if(_0x163c3d[_0x9cab6b(0x854)]===_0x9cab6b(0x56a))return await this['repository'][_0x9cab6b(0x450)][_0x9cab6b(0x854)]({'where':{'key':{'remoteJid':_0x163c3d[_0x9cab6b(0x747)]}}},this[_0x9cab6b(0x286)]['wuid']),_0x163c3d=await this[_0x9cab6b(0x6d5)][_0x9cab6b(0x8b3)][_0x9cab6b(0x331)]({'where':{'_id':_0x163c3d['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x9cab6b(0x286)][_0x9cab6b(0x2a8)]),J(this[_0x9cab6b(0x7d8)],_0x9cab6b(0x374),{'chat':_0x163c3d}),{'message':_0x9cab6b(0x3e1)};let _0x33950d=(_0x2c8345,_0x449fd1,_0xa272b9)=>{const _0x12b461=_0x9cab6b;_0x2c8345&&_0xa272b9[_0x12b461(0x8b4)](_0x2106de=>{const _0x40087f=_0x12b461;_0x2c8345[_0x2106de]!==void 0x0&&(_0x449fd1[_0x40087f(0x697)+_0x2106de]=_0x2c8345[_0x2106de]);});},_0x827d60={};if(_0x9cab6b(0x87d)in _0x163c3d&&(this[_0x9cab6b(0x26e)][_0x9cab6b(0x769)](this[_0x9cab6b(0x7d8)]+'\x20('+this[_0x9cab6b(0x286)]['wuid']+_0x9cab6b(0x28d)+_0x163c3d[_0x9cab6b(0x747)]),_0x163c3d[_0x9cab6b(0x87d)]=_0x163c3d[_0x9cab6b(0x87d)]===0x0?null:-0x1,await this[_0x9cab6b(0x1c4)][_0x9cab6b(0x84b)]({'mute':_0x163c3d[_0x9cab6b(0x87d)]},_0x163c3d[_0x9cab6b(0x747)]),_0x827d60['muteEndTime']=Number(_0x163c3d[_0x9cab6b(0x87d)])),_0x4a4d52&&(_0x33950d(_0x4a4d52,_0x827d60,[_0x9cab6b(0x40c),_0x9cab6b(0x58e),_0x9cab6b(0x4ce),_0x9cab6b(0x4d6),'status',_0x9cab6b(0x1d3),_0x9cab6b(0x690),_0x9cab6b(0x267),'responsavelid',_0x9cab6b(0x710),_0x9cab6b(0x763)]),Array['isArray'](_0x4a4d52[_0x9cab6b(0x5ff)])&&(_0x827d60['leadInfo.customFields']=_0x4a4d52[_0x9cab6b(0x5ff)]['map'](_0xbe1ae0=>({'_id':_0xbe1ae0[_0x9cab6b(0x747)],'value':_0xbe1ae0[_0x9cab6b(0x24c)]}))),_0x163c3d[_0x9cab6b(0x43e)][_0x9cab6b(0x710)]!==void 0x0)){let _0x224cb3=await this[_0x9cab6b(0x6d5)][_0x9cab6b(0x33f)]['find']({'where':{}},this[_0x9cab6b(0x286)][_0x9cab6b(0x2a8)]),_0x4ec1ea=new Set(_0x163c3d[_0x9cab6b(0x43e)][_0x9cab6b(0x710)]||[]),_0x1be015=new Set(_0x163c3d[_0x9cab6b(0x43e)][_0x9cab6b(0x710)]),_0x5e1308=new Set(_0x224cb3['map'](_0x383282=>_0x383282['_id'])),_0x26efe3=[..._0x1be015]['filter'](_0x2a4834=>!_0x4ec1ea[_0x9cab6b(0x568)](_0x2a4834)&&_0x5e1308[_0x9cab6b(0x568)](_0x2a4834)),_0x5244d2=[..._0x4ec1ea][_0x9cab6b(0x435)](_0x40b67a=>!_0x1be015[_0x9cab6b(0x568)](_0x40b67a));if(_0x827d60[_0x9cab6b(0x6a3)]=[..._0x4ec1ea],_0x9cd60b&&!_0x9cd60b[_0x9cab6b(0x1fd)]){for(let _0x3129fe of _0x26efe3)await this[_0x9cab6b(0x757)](_0x3129fe,_0x163c3d[_0x9cab6b(0x747)]),_0x4ec1ea['add'](_0x3129fe);for(let _0x5d7142 of _0x5244d2)await this[_0x9cab6b(0x6fd)](_0x5d7142,_0x163c3d[_0x9cab6b(0x747)]),_0x4ec1ea[_0x9cab6b(0x854)](_0x5d7142);}}if(_0x163c3d[_0x9cab6b(0x8ec)]!==void 0x0&&(_0x827d60['unreadcount']=Number(_0x163c3d['unreadcount'])),Object[_0x9cab6b(0x866)](_0x827d60)[_0x9cab6b(0x65e)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0xaa0c37=await this[_0x9cab6b(0x6d5)][_0x9cab6b(0x8b3)]['updateOne']({'where':{'_id':_0x163c3d[_0x9cab6b(0x747)]}},_0x827d60,this[_0x9cab6b(0x286)][_0x9cab6b(0x2a8)]);return _0xaa0c37&&J(this[_0x9cab6b(0x7d8)],_0x9cab6b(0x374),{'chat':_0xaa0c37}),_0xaa0c37?(this[_0x9cab6b(0x26e)][_0x9cab6b(0x769)](this[_0x9cab6b(0x7d8)]+'\x20('+this[_0x9cab6b(0x286)][_0x9cab6b(0x2a8)]+_0x9cab6b(0x867)+JSON[_0x9cab6b(0x3c8)](_0xaa0c37,null,0x2)),_0xaa0c37):{'message':_0x9cab6b(0x563)};}catch(_0x522569){let _0x59d84c=_0x9cab6b(0x872),_0x1586f1=_0x522569 instanceof Error?_0x522569[_0x9cab6b(0x450)]:typeof _0x522569==_0x9cab6b(0x8d7)?JSON[_0x9cab6b(0x3c8)](_0x522569):_0x522569,_0x2285ed=_0x59d84c+':\x20'+_0x1586f1;throw this['logger'][_0x9cab6b(0x4a8)](this['instanceName']+'\x20('+this[_0x9cab6b(0x286)]['wuid']+'):\x20'+_0x2285ed),new m(_0x2285ed);}}async[a0_0x341dd0(0x757)](_0x1e3123,_0x187820){const _0x595549=a0_0x341dd0;try{await this[_0x595549(0x1c4)]['addChatLabel'](_0x187820,_0x1e3123),this['logger'][_0x595549(0x2d3)](this[_0x595549(0x7d8)]+'\x20('+this['instance'][_0x595549(0x2a8)]+_0x595549(0x35f)+_0x1e3123+_0x595549(0x7e0)+_0x187820+'\x20com\x20sucesso.');}catch(_0x3f8d50){this[_0x595549(0x26e)][_0x595549(0x4a8)](_0x595549(0x66f)+_0x1e3123+_0x595549(0x2d0)+_0x187820+':\x20'+_0x3f8d50);}}async[a0_0x341dd0(0x6fd)](_0x2ed163,_0xfabcdc){const _0xdad9e3=a0_0x341dd0;try{await this[_0xdad9e3(0x1c4)]['removeChatLabel'](_0xfabcdc,_0x2ed163),this[_0xdad9e3(0x26e)]['info'](this[_0xdad9e3(0x7d8)]+'\x20('+this[_0xdad9e3(0x286)][_0xdad9e3(0x2a8)]+_0xdad9e3(0x35f)+_0x2ed163+_0xdad9e3(0x522)+_0xfabcdc+_0xdad9e3(0x478));}catch(_0x2762f3){this['logger']['error'](_0xdad9e3(0x45c)+_0x2ed163+'\x20do\x20chat\x20'+_0xfabcdc+':\x20'+_0x2762f3);}}async[a0_0x341dd0(0x350)](_0x3272fc){const _0x473699=a0_0x341dd0;try{let _0x3399c8=await this[_0x473699(0x6d5)][_0x473699(0x5b7)][_0x473699(0x79b)](this[_0x473699(0x286)][_0x473699(0x2a8)]),_0x56f56c=_0x3272fc[_0x473699(0x747)]?_0x3399c8[_0x473699(0x282)]['findIndex'](_0x46a7f2=>_0x46a7f2[_0x473699(0x747)]===_0x3272fc[_0x473699(0x747)]):-0x1;if(_0x3272fc[_0x473699(0x854)]&&_0x56f56c>-0x1)_0x3399c8['agents'][_0x473699(0x8f7)](_0x56f56c,0x1);else{if(_0x56f56c>-0x1){let _0x4a3c29=_0x3399c8['agents'][_0x56f56c];_0x3272fc['fone']&&(_0x4a3c29['fone']=_0x3272fc[_0x473699(0x372)]),_0x3272fc[_0x473699(0x1fa)]&&(_0x4a3c29[_0x473699(0x1fa)]=_0x3272fc[_0x473699(0x1fa)]),_0x3272fc[_0x473699(0x4ce)]&&(_0x4a3c29[_0x473699(0x4ce)]=_0x3272fc[_0x473699(0x4ce)]),_0x3272fc[_0x473699(0x898)]&&(_0x4a3c29[_0x473699(0x898)]=_0x3272fc[_0x473699(0x898)]);}else _0x3399c8[_0x473699(0x282)]['push']({'_id':_0x3272fc[_0x473699(0x747)]||new he['default']['Types']['ObjectId']()[_0x473699(0x5a5)](),'fone':_0x3272fc[_0x473699(0x372)],'name':_0x3272fc[_0x473699(0x1fa)],'email':_0x3272fc['email'],'role':_0x3272fc[_0x473699(0x898)]});}let _0x2fb4e5={'agents':_0x3399c8[_0x473699(0x282)]},_0x41d07=await this['repository'][_0x473699(0x5b7)][_0x473699(0x85c)](_0x2fb4e5,this[_0x473699(0x286)]['wuid']);return this['AutomateSystem']=_0x41d07,this[_0x473699(0x26e)][_0x473699(0x769)](this[_0x473699(0x7d8)]+'\x20('+this[_0x473699(0x286)][_0x473699(0x2a8)]+_0x473699(0x57f)),this[_0x473699(0x26e)]['verbose'](this['instanceName']+'\x20('+this[_0x473699(0x286)][_0x473699(0x2a8)]+_0x473699(0x867)+this[_0x473699(0x2d9)]),_0x41d07;}catch(_0x2ab28a){let _0x4d33da=_0x473699(0x770),_0xb467ed=_0x2ab28a instanceof Error?_0x2ab28a['message']:typeof _0x2ab28a==_0x473699(0x8d7)?JSON[_0x473699(0x3c8)](_0x2ab28a):_0x2ab28a,_0x3d75b0=_0x4d33da+':\x20'+_0xb467ed;throw this['logger'][_0x473699(0x4a8)](this[_0x473699(0x7d8)]+'\x20('+this[_0x473699(0x286)][_0x473699(0x2a8)]+_0x473699(0x867)+_0x3d75b0),new m(_0x3d75b0);}}async[a0_0x341dd0(0x73d)](_0x151da2){const _0x2f3eed=a0_0x341dd0;try{let _0x2face1=await this[_0x2f3eed(0x6d5)][_0x2f3eed(0x5b7)][_0x2f3eed(0x79b)](this[_0x2f3eed(0x286)][_0x2f3eed(0x2a8)]),_0x129597=_0x151da2[_0x2f3eed(0x747)]?_0x2face1[_0x2f3eed(0x5ff)][_0x2f3eed(0x3b0)](_0x2f3752=>_0x2f3752['_id']===_0x151da2['_id']):-0x1,_0x11ba94=!0x1,_0x231b94=_0x2face1[_0x2f3eed(0x5ff)][_0x2f3eed(0x2f2)](_0x290220=>_0x290220[_0x2f3eed(0x27f)]===_0x151da2[_0x2f3eed(0x27f)]);if(_0x151da2[_0x2f3eed(0x854)]&&_0x129597>-0x1)_0x2face1[_0x2f3eed(0x5ff)][_0x2f3eed(0x8f7)](_0x129597,0x1),_0x11ba94=!0x0;else{if(_0x129597>-0x1){if(_0x2face1[_0x2f3eed(0x5ff)][_0x2f3eed(0x2f2)](_0x57e139=>_0x57e139[_0x2f3eed(0x1fa)]===_0x151da2['name']&&_0x57e139[_0x2f3eed(0x747)]!==_0x151da2[_0x2f3eed(0x747)]))throw new Error(_0x2f3eed(0x786));let _0x5aea65=_0x2face1[_0x2f3eed(0x5ff)][_0x129597];_0x151da2[_0x2f3eed(0x27f)]&&(_0x231b94||!Number[_0x2f3eed(0x416)](_0x151da2[_0x2f3eed(0x27f)]))&&(_0x5aea65[_0x2f3eed(0x27f)]=_0x151da2[_0x2f3eed(0x27f)],_0x11ba94=!0x0),_0x151da2[_0x2f3eed(0x1fa)]&&(_0x5aea65[_0x2f3eed(0x1fa)]=_0x151da2[_0x2f3eed(0x1fa)]);}else{if(_0x2face1[_0x2f3eed(0x5ff)][_0x2f3eed(0x2f2)](_0x16bbd2=>_0x16bbd2['name']===_0x151da2['name']&&_0x16bbd2['_id']!==_0x151da2[_0x2f3eed(0x747)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x2face1['customFields']['push']({'_id':_0x151da2['_id']||new he[(_0x2f3eed(0x4ea))][(_0x2f3eed(0x539))][(_0x2f3eed(0x28b))]()[_0x2f3eed(0x5a5)](),'order':_0x151da2[_0x2f3eed(0x27f)],'name':_0x151da2['name']}),_0x11ba94=!0x0;}}if(_0x11ba94){_0x2face1[_0x2f3eed(0x5ff)]['sort']((_0x4b5159,_0x59bcbe)=>_0x4b5159[_0x2f3eed(0x27f)]>_0x59bcbe[_0x2f3eed(0x27f)]?0x1:_0x59bcbe[_0x2f3eed(0x27f)]>_0x4b5159[_0x2f3eed(0x27f)]?-0x1:0x0);for(let _0x43a003=0x0;_0x43a003<_0x2face1[_0x2f3eed(0x5ff)]['length'];_0x43a003++)_0x2face1[_0x2f3eed(0x5ff)][_0x43a003][_0x2f3eed(0x27f)]=_0x43a003+0x1;}let _0x25f576=await this[_0x2f3eed(0x6d5)]['automateSystem'][_0x2f3eed(0x85c)](_0x2face1,this[_0x2f3eed(0x286)][_0x2f3eed(0x2a8)]);return this[_0x2f3eed(0x2d9)]=_0x25f576,this[_0x2f3eed(0x26e)][_0x2f3eed(0x769)](this[_0x2f3eed(0x7d8)]+'\x20('+this[_0x2f3eed(0x286)][_0x2f3eed(0x2a8)]+_0x2f3eed(0x775)),this['logger'][_0x2f3eed(0x769)](this[_0x2f3eed(0x7d8)]+'\x20('+this['instance'][_0x2f3eed(0x2a8)]+'):\x20'+this[_0x2f3eed(0x2d9)]),_0x25f576;}catch(_0xcc832f){let _0x45a57f=_0x2f3eed(0x52b),_0x338c78=_0xcc832f instanceof Error?_0xcc832f[_0x2f3eed(0x450)]:typeof _0xcc832f==_0x2f3eed(0x8d7)?JSON[_0x2f3eed(0x3c8)](_0xcc832f):_0xcc832f,_0x13690e=_0x45a57f+':\x20'+_0x338c78;throw this[_0x2f3eed(0x26e)]['error'](this[_0x2f3eed(0x7d8)]+'\x20('+this[_0x2f3eed(0x286)][_0x2f3eed(0x2a8)]+_0x2f3eed(0x867)+_0x13690e),new m(_0x13690e);}}async[a0_0x341dd0(0x4f0)](_0xd444ff){const _0x4c83f9=a0_0x341dd0;try{let _0x239541=await this[_0x4c83f9(0x6d5)][_0x4c83f9(0x5b7)][_0x4c83f9(0x79b)](this[_0x4c83f9(0x286)][_0x4c83f9(0x2a8)]),_0x57297d=_0x239541?.[_0x4c83f9(0x463)]?.[_0x4c83f9(0x3b0)](_0x2f8f00=>_0x2f8f00[_0x4c83f9(0x747)]===_0xd444ff?.[_0x4c83f9(0x747)]);if(_0xd444ff?.[_0x4c83f9(0x854)])_0x57297d>-0x1&&_0x239541?.[_0x4c83f9(0x463)]?.['splice'](_0x57297d,0x1);else{if(_0x57297d>-0x1){let _0x242aba=_0x239541[_0x4c83f9(0x463)][_0x57297d];_0x242aba[_0x4c83f9(0x27f)]=_0xd444ff?.[_0x4c83f9(0x27f)]||_0x242aba[_0x4c83f9(0x27f)],_0x242aba['command']=_0xd444ff?.['command']||_0x242aba[_0x4c83f9(0x46c)],_0x242aba['message']=_0xd444ff?.[_0x4c83f9(0x450)]||_0x242aba[_0x4c83f9(0x450)];}else{let _0x464fe1={'_id':_0xd444ff?.[_0x4c83f9(0x747)]||new he['default'][(_0x4c83f9(0x539))][(_0x4c83f9(0x28b))]()[_0x4c83f9(0x5a5)](),'order':_0xd444ff?.[_0x4c83f9(0x27f)],'command':_0xd444ff?.[_0x4c83f9(0x46c)],'message':_0xd444ff?.['message']};_0x239541?.[_0x4c83f9(0x463)]?.[_0x4c83f9(0x452)](_0x464fe1);}}_0x239541?.[_0x4c83f9(0x463)]?.[_0x4c83f9(0x739)]((_0x49657d,_0x79f762)=>_0x49657d[_0x4c83f9(0x27f)]-_0x79f762[_0x4c83f9(0x27f)]);let _0x39feee=await this[_0x4c83f9(0x6d5)][_0x4c83f9(0x5b7)][_0x4c83f9(0x85c)](_0x239541,this['instance']['wuid']);return this[_0x4c83f9(0x2d9)]=_0x39feee,this[_0x4c83f9(0x26e)][_0x4c83f9(0x769)](this[_0x4c83f9(0x7d8)]+'\x20('+this[_0x4c83f9(0x286)][_0x4c83f9(0x2a8)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x39feee;}catch(_0x2fb598){let _0x474c84=_0x4c83f9(0x2a1),_0x1fb826=_0x2fb598 instanceof Error?_0x2fb598[_0x4c83f9(0x450)]:typeof _0x2fb598==_0x4c83f9(0x8d7)?JSON[_0x4c83f9(0x3c8)](_0x2fb598):_0x2fb598,_0x25f8d2=_0x474c84+':\x20'+_0x1fb826;throw this[_0x4c83f9(0x26e)][_0x4c83f9(0x4a8)](this[_0x4c83f9(0x7d8)]+'\x20('+this[_0x4c83f9(0x286)]['wuid']+'):\x20'+_0x25f8d2),new m(_0x25f8d2);}}async[a0_0x341dd0(0x8c3)](_0x1d7c93){const _0x4c2c38=a0_0x341dd0;try{let _0xff4815=await this[_0x4c2c38(0x6d5)][_0x4c2c38(0x5b7)]['findOrCreate'](this[_0x4c2c38(0x286)]['wuid']);if(!_0xff4815)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x1ed22c={'_id':_0xff4815[_0x4c2c38(0x747)],'flowConfig':{'enabled':_0x1d7c93[_0x4c2c38(0x7be)]??_0xff4815[_0x4c2c38(0x676)]['enabled'],'ignoreGroups':_0x1d7c93[_0x4c2c38(0x3f0)]??_0xff4815['flowConfig'][_0x4c2c38(0x3f0)],'stopConversation':_0x1d7c93[_0x4c2c38(0x668)]['trim']()??_0xff4815[_0x4c2c38(0x676)][_0x4c2c38(0x668)][_0x4c2c38(0x788)](),'stopMinutes':_0x1d7c93[_0x4c2c38(0x541)]??_0xff4815['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x1d7c93[_0x4c2c38(0x431)]??_0xff4815[_0x4c2c38(0x676)][_0x4c2c38(0x431)]}},_0x57a173=await this[_0x4c2c38(0x6d5)][_0x4c2c38(0x5b7)][_0x4c2c38(0x85c)](_0x1ed22c,this[_0x4c2c38(0x286)][_0x4c2c38(0x2a8)]);return this['AutomateSystem']=_0x57a173,this[_0x4c2c38(0x26e)][_0x4c2c38(0x769)](this[_0x4c2c38(0x7d8)]+'\x20('+this[_0x4c2c38(0x286)][_0x4c2c38(0x2a8)]+_0x4c2c38(0x57f)),this[_0x4c2c38(0x26e)]['verbose'](this['instanceName']+'\x20('+this[_0x4c2c38(0x286)][_0x4c2c38(0x2a8)]+'):\x20'+this[_0x4c2c38(0x2d9)]),setTimeout(()=>this[_0x4c2c38(0x584)](),0x7d0),_0x57a173;}catch(_0x105078){let _0x46df39=_0x4c2c38(0x87a),_0x406f76=_0x105078 instanceof Error?_0x105078[_0x4c2c38(0x450)]:typeof _0x105078==_0x4c2c38(0x8d7)?JSON[_0x4c2c38(0x3c8)](_0x105078):_0x105078,_0x2380a6=_0x46df39+':\x20'+_0x406f76;throw this[_0x4c2c38(0x26e)][_0x4c2c38(0x4a8)](this['instanceName']+'\x20('+this[_0x4c2c38(0x286)][_0x4c2c38(0x2a8)]+_0x4c2c38(0x867)+_0x2380a6),new m(_0x2380a6);}}async[a0_0x341dd0(0x83b)](){const _0xefdfe2=a0_0x341dd0;try{let _0x204996=await this[_0xefdfe2(0x6d5)][_0xefdfe2(0x5b7)][_0xefdfe2(0x79b)](this[_0xefdfe2(0x286)]['wuid']);return this[_0xefdfe2(0x2d9)]=_0x204996,_0x204996;}catch(_0x25bf1b){let _0x643637=_0xefdfe2(0x1dc),_0x3bfed8=_0x25bf1b instanceof Error?_0x25bf1b[_0xefdfe2(0x450)]:typeof _0x25bf1b==_0xefdfe2(0x8d7)?JSON['stringify'](_0x25bf1b):_0x25bf1b,_0x362c33=_0x643637+':\x20'+_0x3bfed8;throw this[_0xefdfe2(0x26e)][_0xefdfe2(0x4a8)](this[_0xefdfe2(0x7d8)]+'\x20('+this[_0xefdfe2(0x286)][_0xefdfe2(0x2a8)]+_0xefdfe2(0x867)+_0x362c33),new m(_0x362c33);}}async[a0_0x341dd0(0x6a9)](){const _0x262ae8=a0_0x341dd0;let _0x1eb862=(await import(_0x262ae8(0x856)))[_0x262ae8(0x4ea)];this['queue']=new _0x1eb862({'concurrency':0x1});}async[a0_0x341dd0(0x2d1)](){const _0xe421f8=a0_0x341dd0;this[_0xe421f8(0x286)][_0xe421f8(0x3c0)]['timeout']&&clearTimeout(this[_0xe421f8(0x286)]['ScheduleMessage'][_0xe421f8(0x4e2)]),this[_0xe421f8(0x286)]['ScheduleMessage']['timeout']=setTimeout(()=>{const _0x46d90f=_0xe421f8;this[_0x46d90f(0x217)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x341dd0(0x217)](){const _0x10bb0e=a0_0x341dd0;let _0x50a034=this[_0x10bb0e(0x286)][_0x10bb0e(0x3c0)][_0x10bb0e(0x4bb)];(_0x50a034===0x0||_0x50a034===null||Date[_0x10bb0e(0x20e)]()-_0x50a034>=0x1d4c0)&&(this[_0x10bb0e(0x26e)]['verbose'](this[_0x10bb0e(0x7d8)]+'\x20('+this['instance'][_0x10bb0e(0x2a8)]+_0x10bb0e(0x7e3)),this[_0x10bb0e(0x286)]['ScheduleMessage'][_0x10bb0e(0x1e8)]=null,this[_0x10bb0e(0x286)][_0x10bb0e(0x3c0)][_0x10bb0e(0x4bb)]=0x0,this['instance'][_0x10bb0e(0x3c0)][_0x10bb0e(0x840)]=0x0,await this[_0x10bb0e(0x584)]());}async[a0_0x341dd0(0x584)](){const _0x6be07b=a0_0x341dd0;this[_0x6be07b(0x26e)]['warn'](this[_0x6be07b(0x7d8)]+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x6be07b(0x659)](),(await this['getReadyToSendMessages']())[_0x6be07b(0x65e)]>0x0&&this['queue'][_0x6be07b(0x2f8)](()=>this[_0x6be07b(0x275)]());let _0x581b8e={'where':{'status':_0x6be07b(0x351),'when':{'$gt':Date[_0x6be07b(0x20e)]()}}},_0x470fc=await this['repository'][_0x6be07b(0x6ae)]['findOne'](_0x581b8e,this['instance'][_0x6be07b(0x2a8)]);_0x470fc&&_0x470fc[_0x6be07b(0x74f)]-Date[_0x6be07b(0x20e)]()<=0x6ddd00?this[_0x6be07b(0x286)][_0x6be07b(0x3c0)]['delayMessage']=_0x470fc[_0x6be07b(0x74f)]-Date['now']():this[_0x6be07b(0x286)][_0x6be07b(0x3c0)][_0x6be07b(0x840)]=(0x3c+Math['floor'](Math[_0x6be07b(0x778)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x6be07b(0x3c0)]['delayMessage']=Math[_0x6be07b(0x75a)](this[_0x6be07b(0x286)][_0x6be07b(0x3c0)]['delayMessage'],0x1*0x2*0x3e8);let _0x6bc3e=Math['round'](this['instance'][_0x6be07b(0x3c0)]['delayMessage']/0xea60);if(_0x470fc){let _0x4203e3=new Date(_0x470fc[_0x6be07b(0x74f)])['toLocaleString']();this[_0x6be07b(0x26e)][_0x6be07b(0x8ff)](this[_0x6be07b(0x7d8)]+'\x20('+this[_0x6be07b(0x286)][_0x6be07b(0x2a8)]+_0x6be07b(0x553)+_0x4203e3+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x6bc3e+'\x20minutos');}else this[_0x6be07b(0x26e)][_0x6be07b(0x8ff)](this[_0x6be07b(0x7d8)]+'\x20('+this[_0x6be07b(0x286)][_0x6be07b(0x2a8)]+_0x6be07b(0x2d7)+_0x6bc3e+_0x6be07b(0x706));setTimeout(()=>{this['scheduleNextCheck']();},this[_0x6be07b(0x286)]['ScheduleMessage'][_0x6be07b(0x840)]);}async['getReadyToSendMessages'](){const _0x11e347=a0_0x341dd0;this[_0x11e347(0x26e)]['warn'](this[_0x11e347(0x7d8)]+'\x20('+this[_0x11e347(0x286)][_0x11e347(0x2a8)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x333e1b=Date[_0x11e347(0x20e)]()-0xc*0x3c*0x3c*0x3e8,_0x9d5f51={'where':{'status':{'$in':[_0x11e347(0x351),_0x11e347(0x6ca)]},'$or':[{'when':{'$lte':Date[_0x11e347(0x20e)](),'$gte':_0x333e1b}},{'when':0x0}]}},_0x398e7e=await this[_0x11e347(0x6d5)][_0x11e347(0x6ae)][_0x11e347(0x232)](_0x9d5f51,this[_0x11e347(0x286)][_0x11e347(0x2a8)]);return this[_0x11e347(0x26e)][_0x11e347(0x8ff)](this['instanceName']+'\x20('+this[_0x11e347(0x286)]['wuid']+'):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20'+_0x398e7e[_0x11e347(0x65e)]),_0x398e7e;}async['processReadyMessages'](){const _0x331768=a0_0x341dd0;let _0x2ed69c=Math[_0x331768(0x3d0)](Math['random']()*0x1389)+0xbb8,_0x297b0a=()=>this['pendingMessages'][_0x331768(0x65e)]===0x0?null:this[_0x331768(0x3cf)][_0x331768(0x673)]((_0x322d61,_0x72386a)=>(_0x322d61[_0x331768(0x27f)]??Number[_0x331768(0x723)])<(_0x72386a[_0x331768(0x27f)]??Number['MAX_SAFE_INTEGER'])?_0x322d61:_0x72386a,this[_0x331768(0x3cf)][0x0]),_0xcee4c9=await this[_0x331768(0x665)]();for(let _0x13fac3 of _0xcee4c9){this[_0x331768(0x3cf)]=_0x13fac3[_0x331768(0x56a)][_0x331768(0x435)](_0x18685e=>!_0x18685e['triedToSend']);let _0x5a1afa=0x3*0x3e8,_0x1ab587={'_id':_0x13fac3[_0x331768(0x747)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-_0x5a1afa}}]},_0x35d9d1={'startSend':Date['now'](),'status':_0x331768(0x6ca)},_0x1db431=await this['repository'][_0x331768(0x6ae)][_0x331768(0x331)](_0x1ab587,_0x35d9d1,this[_0x331768(0x286)][_0x331768(0x2a8)]);if(!_0x1db431)continue;if(this[_0x331768(0x286)][_0x331768(0x3c0)][_0x331768(0x1e8)]=_0x1db431,!this[_0x331768(0x286)]['ScheduleMessage']['isConnected']){this[_0x331768(0x26e)][_0x331768(0x8ff)](this[_0x331768(0x7d8)]+'\x20('+this[_0x331768(0x286)]['wuid']+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}for(;this[_0x331768(0x3cf)][_0x331768(0x65e)]>0x0;){await this[_0x331768(0x2d1)]();let _0xc1d945=_0x297b0a();if(!_0xc1d945)break;let _0x210d4e=_0x13fac3[_0x331768(0x56a)][_0x331768(0x232)](_0x5900f2=>_0x5900f2[_0x331768(0x747)]===_0xc1d945['_id']);if(!_0x210d4e)break;if(this[_0x331768(0x286)][_0x331768(0x3c0)][_0x331768(0x4bb)]=Date[_0x331768(0x20e)](),_0x210d4e[_0x331768(0x827)]){this['logger']['warn'](this[_0x331768(0x7d8)]+'\x20('+this[_0x331768(0x286)][_0x331768(0x2a8)]+_0x331768(0x6ba)+_0x210d4e[_0x331768(0x68c)]+_0x331768(0x733)),this['pendingMessages']=this[_0x331768(0x3cf)]['filter'](_0x8c2b35=>_0x8c2b35[_0x331768(0x747)]!==_0x210d4e[_0x331768(0x747)]);continue;}if(!this[_0x331768(0x286)][_0x331768(0x3c0)][_0x331768(0x28c)]){this[_0x331768(0x26e)]['warn'](this['instanceName']+'\x20('+this[_0x331768(0x286)][_0x331768(0x2a8)]+_0x331768(0x564));break;}if(!this['instance'][_0x331768(0x3c0)][_0x331768(0x1e8)]){this[_0x331768(0x26e)]['warn'](this[_0x331768(0x7d8)]+'\x20('+this[_0x331768(0x286)][_0x331768(0x2a8)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x13fac3[_0x331768(0x747)]+_0x331768(0x1cf));break;}let _0x3ef3da={'idControl':_0x210d4e[_0x331768(0x747)],'remoteJid':_0x210d4e[_0x331768(0x68c)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x331768(0x20e)]()},_0x14d318=null;try{this[_0x331768(0x26e)]['warn'](this[_0x331768(0x7d8)]+'\x20('+this[_0x331768(0x286)][_0x331768(0x2a8)]+_0x331768(0x1b2)+_0x210d4e[_0x331768(0x68c)]);let _0x3b5288=await this[_0x331768(0x88f)](_0x210d4e[_0x331768(0x68c)],_0x210d4e);_0x3ef3da['error']=_0x3b5288['error'],_0x3ef3da['id']=_0x3b5288[_0x331768(0x4a8)]?null:_0x3b5288['id'],_0x3ef3da[_0x331768(0x56c)]=_0x3b5288[_0x331768(0x4a8)]?_0x3b5288['detail']?_0x3b5288['detail'][_0x331768(0x5a5)]():'':null;let _0x5cf311=_0x13fac3[_0x331768(0x56a)][_0x331768(0x3b0)](_0x2bda85=>_0x2bda85[_0x331768(0x747)]===_0x210d4e[_0x331768(0x747)]);_0x5cf311!==-0x1&&(_0x13fac3['messages'][_0x5cf311]['triedToSend']=!0x0);let _0x26b677={'$push':{'messagesSend':_0x3ef3da},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1c39e7=[{'elem._id':_0x210d4e[_0x331768(0x747)]}];if(this[_0x331768(0x26e)][_0x331768(0x8ff)](this[_0x331768(0x7d8)]+'\x20('+this['instance'][_0x331768(0x2a8)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x210d4e[_0x331768(0x747)]),_0x14d318=await this[_0x331768(0x6d5)][_0x331768(0x6ae)][_0x331768(0x331)]({'_id':_0x13fac3[_0x331768(0x747)]},_0x26b677,this[_0x331768(0x286)]['wuid'],{'arrayFilters':_0x1c39e7}),_0x3b5288[_0x331768(0x4a8)]){this['logger'][_0x331768(0x4a8)](this[_0x331768(0x7d8)]+'\x20('+this[_0x331768(0x286)]['wuid']+_0x331768(0x61d)+_0x3b5288['detail']);continue;}let _0x423176=this[_0x331768(0x6af)](_0x13fac3[_0x331768(0x716)],_0x13fac3[_0x331768(0x8a2)]);await this[_0x331768(0x32e)](_0x423176);}catch(_0x388ce3){this[_0x331768(0x26e)]['error'](this[_0x331768(0x7d8)]+'\x20('+this[_0x331768(0x286)][_0x331768(0x2a8)]+_0x331768(0x57b)+_0x210d4e[_0x331768(0x68c)]+':\x20'+(_0x388ce3 instanceof Error?_0x388ce3[_0x331768(0x450)]:JSON[_0x331768(0x3c8)](_0x388ce3,null,0x2))),_0x3ef3da['error']=!0x0,_0x3ef3da[_0x331768(0x56c)]=_0x388ce3['message'];let _0x15fd15=_0x13fac3[_0x331768(0x56a)][_0x331768(0x3b0)](_0x300523=>_0x300523[_0x331768(0x747)]===_0x210d4e[_0x331768(0x747)]);_0x15fd15!==-0x1&&(_0x13fac3[_0x331768(0x56a)][_0x15fd15][_0x331768(0x827)]=!0x0);let _0x240426={'$push':{'messagesSend':_0x3ef3da},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xc0c697=[{'elem._id':_0x210d4e[_0x331768(0x747)]}];this[_0x331768(0x26e)][_0x331768(0x8ff)](this[_0x331768(0x7d8)]+'\x20('+this['instance'][_0x331768(0x2a8)]+_0x331768(0x2f1)+_0x210d4e[_0x331768(0x747)]),_0x14d318=await this[_0x331768(0x6d5)][_0x331768(0x6ae)][_0x331768(0x331)]({'_id':_0x13fac3[_0x331768(0x747)]},_0x240426,this[_0x331768(0x286)][_0x331768(0x2a8)],{'arrayFilters':_0xc0c697});}finally{if(_0x14d318&&_0x14d318[_0x331768(0x826)]==='stopped'){this['logger'][_0x331768(0x8ff)](this[_0x331768(0x7d8)]+'\x20('+this[_0x331768(0x286)]['wuid']+_0x331768(0x30e)+_0x210d4e[_0x331768(0x747)]+_0x331768(0x29d));break;}let _0x385308=_0x14d318[_0x331768(0x56a)]['find'](_0xd3a8f9=>_0xd3a8f9[_0x331768(0x747)]===_0x210d4e[_0x331768(0x747)]);if(_0x385308&&!_0x385308['triedToSend']){let _0x3b3282={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x50f2f1=[{'elem._id':_0x210d4e[_0x331768(0x747)]}];await this[_0x331768(0x6d5)][_0x331768(0x6ae)][_0x331768(0x331)]({'_id':_0x14d318[_0x331768(0x747)]},_0x3b3282,this[_0x331768(0x286)][_0x331768(0x2a8)],{'arrayFilters':_0x50f2f1});}this[_0x331768(0x3cf)]=_0x14d318[_0x331768(0x56a)]['filter'](_0x45f54e=>!_0x45f54e['triedToSend']),this[_0x331768(0x286)][_0x331768(0x3c0)][_0x331768(0x1e8)]=_0x14d318;}}this['pendingMessages']=[];let _0x589427=await this[_0x331768(0x6d5)]['scheduleMessage'][_0x331768(0x65a)](_0x13fac3[_0x331768(0x747)],this[_0x331768(0x286)][_0x331768(0x2a8)]);if(_0x589427[_0x331768(0x56a)][_0x331768(0x68a)](_0x33b884=>_0x33b884[_0x331768(0x827)])&&_0x589427[_0x331768(0x826)]!==_0x331768(0x886)){let _0x42d4bb={'$set':{'status':_0x331768(0x4e3)}};await this[_0x331768(0x6d5)]['scheduleMessage']['updateOneById'](_0x589427[_0x331768(0x747)],_0x42d4bb,this[_0x331768(0x286)]['wuid']);}await new Promise(_0x2421b1=>setTimeout(_0x2421b1,_0x2ed69c)),global['gc']?global['gc']():console[_0x331768(0x8ff)](_0x331768(0x80a));}}[a0_0x341dd0(0x6af)](_0x43d424,_0x1e0d34){const _0x594d81=a0_0x341dd0;return _0x43d424=Math[_0x594d81(0x75a)](0.5,_0x43d424),_0x1e0d34=Math[_0x594d81(0x1da)](Math['max'](0x3,_0x1e0d34),0x78),Math[_0x594d81(0x3d0)](Math[_0x594d81(0x778)]()*(_0x1e0d34-_0x43d424+0x1)+_0x43d424)*0x3e8;}[a0_0x341dd0(0x32e)](_0x4ab99c){return new Promise(_0x490ea0=>setTimeout(_0x490ea0,_0x4ab99c));}async[a0_0x341dd0(0x287)](_0x267b2a){const _0x3f9db3=a0_0x341dd0;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x267b2a=this['createJid'](_0x267b2a);let _0x34dfd0=await this['repository']['chat'][_0x3f9db3(0x2c7)]({'where':{'_id':_0x267b2a}},this[_0x3f9db3(0x286)][_0x3f9db3(0x2a8)]),_0x299bec={};if(_0x34dfd0&&_0x34dfd0['leadInfo']){let _0x4fd77f=_0x34dfd0['leadInfo'];typeof _0x4fd77f[_0x3f9db3(0x40c)]==_0x3f9db3(0x347)&&(_0x299bec[_0x3f9db3(0x40c)]=_0x4fd77f[_0x3f9db3(0x40c)]),typeof _0x4fd77f['nomecompleto']=='string'&&(_0x299bec[_0x3f9db3(0x58e)]=_0x4fd77f[_0x3f9db3(0x58e)]),typeof _0x4fd77f['email']==_0x3f9db3(0x347)&&(_0x299bec['email']=_0x4fd77f[_0x3f9db3(0x4ce)]),typeof _0x4fd77f['cpf']=='string'&&(_0x299bec[_0x3f9db3(0x4d6)]=_0x4fd77f[_0x3f9db3(0x4d6)]),typeof _0x4fd77f[_0x3f9db3(0x826)]==_0x3f9db3(0x347)&&(_0x299bec['status']=_0x4fd77f[_0x3f9db3(0x826)]),typeof _0x4fd77f[_0x3f9db3(0x1d3)]==_0x3f9db3(0x347)&&(_0x299bec[_0x3f9db3(0x1d3)]=_0x4fd77f[_0x3f9db3(0x1d3)]),typeof _0x4fd77f['responsavelid']=='string'&&(_0x299bec[_0x3f9db3(0x664)]=_0x4fd77f[_0x3f9db3(0x664)]),Array[_0x3f9db3(0x1b5)](_0x4fd77f['tags'])&&(_0x299bec[_0x3f9db3(0x690)]=_0x4fd77f[_0x3f9db3(0x690)][_0x3f9db3(0x421)](',\x20')),Array[_0x3f9db3(0x1b5)](_0x4fd77f[_0x3f9db3(0x710)])&&(_0x299bec[_0x3f9db3(0x710)]=_0x4fd77f[_0x3f9db3(0x710)][_0x3f9db3(0x421)](',\x20'));}return _0x34dfd0&&_0x34dfd0['leadInfo']&&_0x34dfd0[_0x3f9db3(0x43e)]['customFields']&&_0x34dfd0[_0x3f9db3(0x43e)][_0x3f9db3(0x5ff)][_0x3f9db3(0x8b4)](_0x18b534=>{const _0x1df4c6=_0x3f9db3;let _0x56364e=this[_0x1df4c6(0x2d9)]?.[_0x1df4c6(0x5ff)]['find'](_0x347ee2=>_0x347ee2[_0x1df4c6(0x747)]===_0x18b534['_id']);_0x56364e&&(_0x299bec[_0x56364e[_0x1df4c6(0x1fa)]]=_0x18b534[_0x1df4c6(0x24c)]);}),_0x299bec;}async['replaceVariablesChat'](_0xd9e7ad,_0x48c3e9){const _0x5e05ba=a0_0x341dd0;try{let _0x3a3332=await this[_0x5e05ba(0x287)](_0x48c3e9);return this[_0x5e05ba(0x25e)](_0xd9e7ad,_0x3a3332);}catch(_0x46d9c5){return this[_0x5e05ba(0x26e)]['error']('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x48c3e9+':\x20'+_0x46d9c5),_0xd9e7ad;}}async['transformScheduledMessagesByType'](){const _0x108580=a0_0x341dd0;let _0x4e23ba=async(_0x3fb332,_0x32e13f)=>{const _0x539e4d=a0_0x5184;let _0x5debb7=(await this[_0x539e4d(0x6d5)][_0x539e4d(0x6ae)]['find']({'where':{'type':_0x3fb332}},this['instance'][_0x539e4d(0x2a8)]))['map'](async _0x3236f2=>{const _0x578a19=_0x539e4d;let _0x30fcf9=_0x32e13f(_0x3236f2),_0x5a83ba=_0x5b6572=>/^\d+$/[_0x578a19(0x4a1)](_0x5b6572),_0x55ffae=_0x3236f2[_0x578a19(0x6f2)]['filter'](_0x408cd2=>_0x408cd2[_0x578a19(0x647)]('@s.whatsapp.net')?_0x408cd2[_0x578a19(0x65e)]>0x19:_0x408cd2[_0x578a19(0x647)](_0x578a19(0x54c))?_0x408cd2[_0x578a19(0x65e)]>0xf:_0x5a83ba(_0x408cd2)?_0x408cd2['length']>=0xb:!0x1)[_0x578a19(0x486)](_0x4621df=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x3236f2[_0x578a19(0x747)],'type':_0x30fcf9,'remoteJid':_0x4621df,'flow':_0x3236f2['flowName'],'text':_0x3236f2['message']?.[_0x578a19(0x7e2)],'delay':_0x3236f2[_0x578a19(0x450)]?.[_0x578a19(0x79d)],'urlOrBase64':_0x3236f2[_0x578a19(0x450)]?.[_0x578a19(0x40b)],'linkPreview':_0x3236f2[_0x578a19(0x450)]?.[_0x578a19(0x5a4)],'fileName':_0x3236f2[_0x578a19(0x450)]?.['fileName'],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x578a19(0x6d5)][_0x578a19(0x6ae)][_0x578a19(0x801)](_0x3236f2['_id'],{'$set':{'messages':_0x55ffae},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance']['wuid']);}catch(_0x1dc54e){console[_0x578a19(0x4a8)](_0x578a19(0x1f1)+_0x3236f2[_0x578a19(0x747)]+':',_0x1dc54e);}});await Promise[_0x539e4d(0x3ef)](_0x5debb7);};await _0x4e23ba('text',_0x20d870=>_0x108580(0x7e2)),await _0x4e23ba('media',_0x5ce582=>_0x5ce582[_0x108580(0x450)]?.[_0x108580(0x337)]||'media'),await _0x4e23ba(_0x108580(0x492),_0x36d385=>_0x108580(0x492)),await _0x4e23ba(_0x108580(0x414),_0x2a894e=>_0x108580(0x414)),await _0x4e23ba(_0x108580(0x5ed),_0x3a3ea8=>_0x108580(0x5ed)),await _0x4e23ba(_0x108580(0x654),_0x2b593e=>_0x108580(0x654)),await _0x4e23ba(_0x108580(0x6cb),_0x5bf070=>_0x108580(0x6cb)),this[_0x108580(0x26e)][_0x108580(0x8ff)](this[_0x108580(0x7d8)]+'\x20('+this[_0x108580(0x286)][_0x108580(0x2a8)]+_0x108580(0x5e8));}async[a0_0x341dd0(0x373)](_0xd86fb7){const _0xec3a87=a0_0x341dd0;try{if(this[_0xec3a87(0x26e)]['warn'](this[_0xec3a87(0x7d8)]+'\x20('+this['instance'][_0xec3a87(0x2a8)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0xd86fb7[_0xec3a87(0x747)]||(_0xd86fb7['_id']=(0x0,X['v4'])()),this['instance'][_0xec3a87(0x3c0)][_0xec3a87(0x1e8)]?.['_id']===_0xd86fb7[_0xec3a87(0x747)]?.[_0xec3a87(0x5a5)]()){if(_0xd86fb7[_0xec3a87(0x826)]===_0xec3a87(0x886))this['instance'][_0xec3a87(0x3c0)][_0xec3a87(0x1e8)]=null;else throw new Error(_0xec3a87(0x213));}if(_0xd86fb7[_0xec3a87(0x854)]&&_0xd86fb7[_0xec3a87(0x747)]){let _0x50b676=await this['repository'][_0xec3a87(0x6ae)]['deleteOne'](_0xd86fb7['_id'],this[_0xec3a87(0x286)][_0xec3a87(0x2a8)]);return setTimeout(()=>this[_0xec3a87(0x584)](),0x7d0),_0x50b676;}let _0x301679=null;if(_0xd86fb7[_0xec3a87(0x747)]&&(_0x301679=await this[_0xec3a87(0x6d5)][_0xec3a87(0x6ae)][_0xec3a87(0x65a)](_0xd86fb7[_0xec3a87(0x747)],this['instance'][_0xec3a87(0x2a8)])),_0x301679){let {_id:_0x2bfad0,owner:_0x25c8b5,messages:_0xbacb24,..._0x9960fb}=_0xd86fb7;if(_0xbacb24){let _0x1692ad=_0xbacb24[_0xec3a87(0x435)](_0x5389f8=>!_0x5389f8['_id']),_0x529b11=_0xbacb24['filter'](_0xe275f6=>_0xe275f6[_0xec3a87(0x747)]&&!_0xe275f6['delete']),_0x13aa88=_0xbacb24['filter'](_0x1883c5=>_0x1883c5[_0xec3a87(0x747)]&&_0x1883c5[_0xec3a87(0x854)]);if(_0x1692ad['length']>0x0&&await this[_0xec3a87(0x890)](_0xd86fb7[_0xec3a87(0x747)],_0x1692ad),_0x529b11[_0xec3a87(0x65e)]>0x0&&await this[_0xec3a87(0x73f)]({'_id':_0xd86fb7[_0xec3a87(0x747)],'messages':_0x529b11}),_0x13aa88['length']>0x0){let _0x296894=_0x13aa88[_0xec3a87(0x486)](_0xf9efb0=>({'updateOne':{'filter':{'_id':_0xd86fb7[_0xec3a87(0x747)]},'update':{'$pull':{'messages':{'_id':_0xf9efb0[_0xec3a87(0x747)]}}}}}));await this['repository']['scheduleMessage'][_0xec3a87(0x298)](_0x296894,this[_0xec3a87(0x286)][_0xec3a87(0x2a8)]);}}let _0x21bc6e={'$set':{..._0x9960fb,'status':_0xd86fb7[_0xec3a87(0x826)]||_0x301679[_0xec3a87(0x826)]}},_0x5b969a=await this[_0xec3a87(0x6d5)][_0xec3a87(0x6ae)]['updateOneById'](_0xd86fb7['_id'],_0x21bc6e,this['instance'][_0xec3a87(0x2a8)]);return _0x5b969a&&(this[_0xec3a87(0x339)](_0x5b969a[_0xec3a87(0x56a)]),await this[_0xec3a87(0x6d5)][_0xec3a87(0x6ae)][_0xec3a87(0x801)](_0x5b969a[_0xec3a87(0x747)],{'$set':{'messages':_0x5b969a[_0xec3a87(0x56a)]}},this['instance']['wuid'])),setTimeout(()=>this[_0xec3a87(0x584)](),0x7d0),await this['transformScheduledMessagesByType'](),_0x5b969a;}else{_0xd86fb7[_0xec3a87(0x3f2)]=this[_0xec3a87(0x286)][_0xec3a87(0x2a8)],_0xd86fb7[_0xec3a87(0x56a)]&&_0xd86fb7[_0xec3a87(0x56a)][_0xec3a87(0x8b4)](_0x4b2e5f=>{const _0x16b5a8=_0xec3a87;_0x4b2e5f['_id']||(_0x4b2e5f[_0x16b5a8(0x747)]=(0x0,X['v4'])()),_0x4b2e5f['idSchedule']||(_0x4b2e5f[_0x16b5a8(0x510)]=_0xd86fb7[_0x16b5a8(0x747)]),delete _0x4b2e5f[_0x16b5a8(0x827)];});let _0x48ec1d=await this[_0xec3a87(0x6d5)]['scheduleMessage'][_0xec3a87(0x399)](_0xd86fb7,this['instance'][_0xec3a87(0x2a8)]);return _0x48ec1d&&(this[_0xec3a87(0x339)](_0x48ec1d[_0xec3a87(0x56a)]),await this[_0xec3a87(0x6d5)][_0xec3a87(0x6ae)][_0xec3a87(0x801)](_0x48ec1d[_0xec3a87(0x747)],{'$set':{'messages':_0x48ec1d[_0xec3a87(0x56a)]}},this[_0xec3a87(0x286)][_0xec3a87(0x2a8)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x48ec1d;}}catch(_0x20228d){let _0x435128='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x185134=_0x20228d instanceof Error?_0x20228d[_0xec3a87(0x450)]:typeof _0x20228d==_0xec3a87(0x8d7)?JSON[_0xec3a87(0x3c8)](_0x20228d):_0x20228d,_0x1dc110=_0x435128+':\x20'+_0x185134;throw this['logger'][_0xec3a87(0x4a8)](this['instanceName']+'\x20('+this[_0xec3a87(0x286)]['wuid']+_0xec3a87(0x867)+_0x1dc110),new m(_0x1dc110);}}async['addMessagesToGroup'](_0x35b97d,_0xb8feb1){const _0xbd49c2=a0_0x341dd0;try{this['logger'][_0xbd49c2(0x769)](this[_0xbd49c2(0x7d8)]+'\x20('+this[_0xbd49c2(0x286)][_0xbd49c2(0x2a8)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0xb8feb1[_0xbd49c2(0x8b4)](_0xd8cd2f=>{const _0x341ca5=_0xbd49c2;_0xd8cd2f[_0x341ca5(0x747)]||(_0xd8cd2f[_0x341ca5(0x747)]=(0x0,X['v4'])()),_0xd8cd2f[_0x341ca5(0x510)]||(_0xd8cd2f[_0x341ca5(0x510)]=_0x35b97d),delete _0xd8cd2f[_0x341ca5(0x827)];});let _0x57f3a6={'$push':{'messages':{'$each':_0xb8feb1}}},_0x29572f=await this[_0xbd49c2(0x6d5)][_0xbd49c2(0x6ae)]['updateOneById'](_0x35b97d,_0x57f3a6,this[_0xbd49c2(0x286)]['wuid']);return _0x29572f&&(this[_0xbd49c2(0x339)](_0x29572f['messages']),await this[_0xbd49c2(0x6d5)][_0xbd49c2(0x6ae)][_0xbd49c2(0x801)](_0x29572f['_id'],{'$set':{'messages':_0x29572f[_0xbd49c2(0x56a)]}},this[_0xbd49c2(0x286)][_0xbd49c2(0x2a8)])),_0x29572f;}catch(_0x1bc482){let _0x319819='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x2c30b9=_0x1bc482 instanceof Error?_0x1bc482['message']:typeof _0x1bc482==_0xbd49c2(0x8d7)?JSON[_0xbd49c2(0x3c8)](_0x1bc482):_0x1bc482,_0x1bfab1=_0x319819+':\x20'+_0x2c30b9;throw this[_0xbd49c2(0x26e)]['error'](this[_0xbd49c2(0x7d8)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1bfab1),new m(_0x1bfab1);}}async['editMessagesInGroup'](_0x5a1e62){const _0x87969b=a0_0x341dd0;try{if(this[_0x87969b(0x26e)][_0x87969b(0x769)](this[_0x87969b(0x7d8)]+'\x20('+this[_0x87969b(0x286)][_0x87969b(0x2a8)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x5a1e62[_0x87969b(0x747)]||!_0x5a1e62[_0x87969b(0x56a)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x304028=_0x5a1e62['_id'],_0x485350=_0x5a1e62[_0x87969b(0x56a)],_0x589f6d=_0x485350[_0x87969b(0x435)](_0x45fabb=>!_0x45fabb['delete'])[_0x87969b(0x486)](_0x59c05d=>{const _0x20a954=_0x87969b;let _0x4f817b=_0x59c05d[_0x20a954(0x747)];if(!_0x4f817b)throw new Error(_0x20a954(0x1e9));return _0x59c05d[_0x20a954(0x510)]||(_0x59c05d['idSchedule']=_0x304028),delete _0x59c05d[_0x20a954(0x827)],{'updateOne':{'filter':{'_id':_0x304028,'messages._id':_0x4f817b},'update':{'$set':{'messages.$[elem]':_0x59c05d}},'arrayFilters':[{'elem._id':_0x4f817b}]}};}),_0x4d317b=_0x485350['filter'](_0x25a4c9=>_0x25a4c9['delete'])[_0x87969b(0x486)](_0x27a2d5=>{const _0x6151fd=_0x87969b;let _0x554fbd=_0x27a2d5[_0x6151fd(0x747)];if(!_0x554fbd)throw new Error(_0x6151fd(0x24b));return{'updateOne':{'filter':{'_id':_0x304028},'update':{'$pull':{'messages':{'_id':_0x554fbd}}}}};}),_0x1f70c0=[..._0x589f6d,..._0x4d317b],_0x563a84=await this[_0x87969b(0x6d5)][_0x87969b(0x6ae)][_0x87969b(0x298)](_0x1f70c0,this[_0x87969b(0x286)][_0x87969b(0x2a8)]),_0x5b8f1f=await this[_0x87969b(0x6d5)][_0x87969b(0x6ae)]['findById'](_0x304028,this[_0x87969b(0x286)][_0x87969b(0x2a8)]);return _0x5b8f1f&&(this[_0x87969b(0x339)](_0x5b8f1f['messages']),await this[_0x87969b(0x6d5)][_0x87969b(0x6ae)][_0x87969b(0x801)](_0x5b8f1f[_0x87969b(0x747)],{'$set':{'messages':_0x5b8f1f[_0x87969b(0x56a)]}},this[_0x87969b(0x286)]['wuid'])),_0x5b8f1f;}catch(_0x1b96dd){let _0xa2a416=_0x87969b(0x511),_0x45149f=_0x1b96dd instanceof Error?_0x1b96dd[_0x87969b(0x450)]:typeof _0x1b96dd==_0x87969b(0x8d7)?JSON[_0x87969b(0x3c8)](_0x1b96dd):_0x1b96dd,_0x3d6b47=_0xa2a416+':\x20'+_0x45149f;throw this[_0x87969b(0x26e)][_0x87969b(0x4a8)](this[_0x87969b(0x7d8)]+'\x20('+this[_0x87969b(0x286)]['wuid']+'):\x20'+_0x3d6b47),new m(_0x3d6b47);}}async[a0_0x341dd0(0x6fb)](){const _0x3ea7a3=a0_0x341dd0;try{let _0x2ca324={'status':_0x3ea7a3(0x4e3)},_0x1e6837=await this[_0x3ea7a3(0x6d5)]['scheduleMessage']['deleteMany'](_0x2ca324,this['instance']['wuid']);if(!_0x1e6837[_0x3ea7a3(0x4a8)])this[_0x3ea7a3(0x26e)][_0x3ea7a3(0x769)](this[_0x3ea7a3(0x7d8)]+'\x20('+this['instance'][_0x3ea7a3(0x2a8)]+_0x3ea7a3(0x41c));else throw new Error(_0x1e6837[_0x3ea7a3(0x4a8)][_0x3ea7a3(0x450)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x3ea7a3(0x38c)]();}catch(_0xd404ce){let _0x389c23=_0x3ea7a3(0x442),_0xed1a07=_0xd404ce instanceof Error?_0xd404ce[_0x3ea7a3(0x450)]:typeof _0xd404ce==_0x3ea7a3(0x8d7)?JSON[_0x3ea7a3(0x3c8)](_0xd404ce):_0xd404ce,_0x2b4f52=_0x389c23+':\x20'+_0xed1a07;throw this[_0x3ea7a3(0x26e)][_0x3ea7a3(0x4a8)](this[_0x3ea7a3(0x7d8)]+'\x20('+this[_0x3ea7a3(0x286)][_0x3ea7a3(0x2a8)]+_0x3ea7a3(0x867)+_0x2b4f52),new m(_0x2b4f52);}}async[a0_0x341dd0(0x38c)](){const _0x495404=a0_0x341dd0;try{return await this[_0x495404(0x6d5)][_0x495404(0x6ae)][_0x495404(0x232)]({'where':{}},this['instance']['wuid']);}catch(_0x2a35a7){let _0x2d2b45='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x27fc18=_0x2a35a7 instanceof Error?_0x2a35a7[_0x495404(0x450)]:typeof _0x2a35a7=='object'?JSON[_0x495404(0x3c8)](_0x2a35a7):_0x2a35a7,_0x21ea81=_0x2d2b45+':\x20'+_0x27fc18;throw this[_0x495404(0x26e)][_0x495404(0x4a8)](this[_0x495404(0x7d8)]+'\x20('+this[_0x495404(0x286)][_0x495404(0x2a8)]+_0x495404(0x867)+_0x21ea81),new m(_0x21ea81);}}['reorderMessages'](_0x22c35f){const _0x4a62d3=a0_0x341dd0;_0x22c35f[_0x4a62d3(0x739)]((_0x50533f,_0x73dd30)=>_0x50533f[_0x4a62d3(0x27f)]-_0x73dd30[_0x4a62d3(0x27f)]),_0x22c35f[_0x4a62d3(0x8b4)]((_0x35d49d,_0x5b68a9)=>{_0x35d49d['order']=_0x5b68a9+0x1;});}async[a0_0x341dd0(0x88f)](_0x20cb7a,_0x4b60ed){const _0x38e5d1=a0_0x341dd0;try{if(!_0x4b60ed)return this[_0x38e5d1(0x26e)][_0x38e5d1(0x4a8)](this[_0x38e5d1(0x7d8)]+'\x20('+this[_0x38e5d1(0x286)][_0x38e5d1(0x2a8)]+_0x38e5d1(0x443)),{'error':!0x0,'detail':_0x38e5d1(0x764)};if(_0x4b60ed[_0x38e5d1(0x1fc)]===_0x38e5d1(0x414)&&!this[_0x38e5d1(0x2d9)]?.[_0x38e5d1(0x676)][_0x38e5d1(0x7be)])return this[_0x38e5d1(0x26e)][_0x38e5d1(0x4a8)](this[_0x38e5d1(0x7d8)]+'\x20('+this[_0x38e5d1(0x286)][_0x38e5d1(0x2a8)]+_0x38e5d1(0x818)),{'error':!0x0,'detail':_0x38e5d1(0x489)};switch(_0x4b60ed['type']){case'text':return await this[_0x38e5d1(0x8ea)](_0x4b60ed,_0x20cb7a);case _0x38e5d1(0x654):case _0x38e5d1(0x5ed):case'document':return await this[_0x38e5d1(0x2bc)](_0x4b60ed,_0x20cb7a);case'audio':return await this[_0x38e5d1(0x353)](_0x4b60ed,_0x20cb7a);case _0x38e5d1(0x414):let _0xf1764f=new We();return _0xf1764f['name']=_0x4b60ed[_0x38e5d1(0x414)],_0xf1764f['remoteJid']=_0x20cb7a,await this[_0x38e5d1(0x1de)](_0xf1764f);default:return this[_0x38e5d1(0x26e)]['error'](this[_0x38e5d1(0x7d8)]+'\x20('+this[_0x38e5d1(0x286)][_0x38e5d1(0x2a8)]+_0x38e5d1(0x628)+_0x4b60ed[_0x38e5d1(0x1fc)]),{'error':!0x0,'detail':_0x38e5d1(0x1b7)};}}catch(_0x39dec6){return this['logger'][_0x38e5d1(0x4a8)](this[_0x38e5d1(0x7d8)]+'\x20('+this[_0x38e5d1(0x286)][_0x38e5d1(0x2a8)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x39dec6 instanceof Error?_0x39dec6['message']:JSON['stringify'](_0x39dec6,null,0x2))),{'error':!0x0,'detail':_0x39dec6[_0x38e5d1(0x450)]};}}async['scheduleSendText'](_0x5b42fe,_0x4cc760){const _0x4f1761=a0_0x341dd0;if(this[_0x4f1761(0x26e)]['verbose'](this[_0x4f1761(0x7d8)]+'\x20('+this[_0x4f1761(0x286)][_0x4f1761(0x2a8)]+_0x4f1761(0x2e4)+_0x4cc760+'\x27'),!_0x5b42fe[_0x4f1761(0x7e2)]||_0x5b42fe[_0x4f1761(0x7e2)][_0x4f1761(0x65e)]===0x0)return{'error':!0x0,'detail':_0x4f1761(0x239)};let _0x3f1e36=await this[_0x4f1761(0x895)](_0x5b42fe[_0x4f1761(0x7e2)],_0x4cc760),_0x5a95ad={'number':_0x4cc760,'options':{'delay':_0x5b42fe[_0x4f1761(0x79d)],'linkPreview':_0x5b42fe[_0x4f1761(0x5a4)]},'textMessage':{'text':_0x3f1e36}},_0x23fec0=null;try{let _0x8b7227=await this['textMessage'](_0x5a95ad);if(_0x8b7227&&_0x8b7227['status'])return{'error':!0x1,'id':_0x8b7227['key']['id']};_0x23fec0=JSON['stringify'](_0x8b7227),this['logger'][_0x4f1761(0x769)](this[_0x4f1761(0x7d8)]+'\x20('+this['instance'][_0x4f1761(0x2a8)]+_0x4f1761(0x867)+_0x23fec0);}catch(_0x4153f8){this['logger'][_0x4f1761(0x4a8)](this['instanceName']+'\x20('+this[_0x4f1761(0x286)]['wuid']+_0x4f1761(0x609)+(_0x4153f8 instanceof Error?_0x4153f8['message']:JSON[_0x4f1761(0x3c8)](_0x4153f8,null,0x2))),_0x23fec0=_0x4153f8[_0x4f1761(0x450)];}if(_0x23fec0)return{'error':!0x0,'detail':(typeof _0x23fec0==_0x4f1761(0x8d7)?JSON['stringify'](_0x23fec0,null,0x2):_0x23fec0)[_0x4f1761(0x589)](/[\[\]{}\n]/g,'\x20')[_0x4f1761(0x589)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x582d36,_0x496128){const _0x18f3e3=a0_0x341dd0;this[_0x18f3e3(0x26e)][_0x18f3e3(0x769)](this[_0x18f3e3(0x7d8)]+'\x20('+this[_0x18f3e3(0x286)][_0x18f3e3(0x2a8)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x496128+'\x27');let _0x3211c0;_0x582d36[_0x18f3e3(0x7e2)]&&_0x582d36[_0x18f3e3(0x7e2)][_0x18f3e3(0x65e)]>0x0&&(_0x3211c0=await this[_0x18f3e3(0x895)](_0x582d36[_0x18f3e3(0x7e2)],_0x496128));let _0x267a6c={'number':_0x496128,'options':{'delay':_0x582d36[_0x18f3e3(0x79d)],'linkPreview':_0x582d36['linkPreview']},'mediaMessage':{'mediatype':_0x582d36[_0x18f3e3(0x1fc)],'caption':_0x3211c0,'media':_0x582d36[_0x18f3e3(0x40b)]}},_0x2033a8=null;try{let _0x21a7e5=await this[_0x18f3e3(0x69d)](_0x267a6c);if(_0x21a7e5&&_0x21a7e5[_0x18f3e3(0x826)])return{'error':!0x1,'id':_0x21a7e5[_0x18f3e3(0x43a)]['id']};_0x2033a8=JSON[_0x18f3e3(0x3c8)](_0x21a7e5),this[_0x18f3e3(0x26e)][_0x18f3e3(0x769)](this[_0x18f3e3(0x7d8)]+'\x20('+this[_0x18f3e3(0x286)][_0x18f3e3(0x2a8)]+_0x18f3e3(0x867)+_0x2033a8);}catch(_0x5ca9d0){this[_0x18f3e3(0x26e)][_0x18f3e3(0x4a8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x18f3e3(0x4b4)+(_0x5ca9d0 instanceof Error?_0x5ca9d0[_0x18f3e3(0x450)]:JSON[_0x18f3e3(0x3c8)](_0x5ca9d0,null,0x2))),_0x2033a8=_0x5ca9d0[_0x18f3e3(0x450)];}if(_0x2033a8)return{'error':!0x0,'detail':(typeof _0x2033a8==_0x18f3e3(0x8d7)?JSON[_0x18f3e3(0x3c8)](_0x2033a8,null,0x2):_0x2033a8)[_0x18f3e3(0x589)](/[\[\]{}\n]/g,'\x20')[_0x18f3e3(0x589)](/  +/g,'\x20')};}async[a0_0x341dd0(0x353)](_0xeb94f6,_0x3ba156){const _0x448915=a0_0x341dd0;this[_0x448915(0x26e)][_0x448915(0x769)](this[_0x448915(0x7d8)]+'\x20('+this[_0x448915(0x286)][_0x448915(0x2a8)]+_0x448915(0x81b)+_0x3ba156+'\x27');let _0x2c8cc3={'number':_0x3ba156,'options':{'delay':_0xeb94f6['delay']},'audioMessage':{'audio':_0xeb94f6[_0x448915(0x40b)]}},_0x272b97=null;try{let _0x3053a5=await this['audioWhatsapp'](_0x2c8cc3);if(_0x3053a5&&_0x3053a5[_0x448915(0x826)])return{'error':!0x1,'id':_0x3053a5[_0x448915(0x43a)]['id']};_0x272b97=JSON['stringify'](_0x3053a5),this[_0x448915(0x26e)]['verbose'](this[_0x448915(0x7d8)]+'\x20('+this[_0x448915(0x286)]['wuid']+_0x448915(0x867)+_0x272b97);}catch(_0x3fd7c3){this[_0x448915(0x26e)][_0x448915(0x4a8)](this[_0x448915(0x7d8)]+'\x20('+this[_0x448915(0x286)][_0x448915(0x2a8)]+_0x448915(0x4b5)+(_0x3fd7c3 instanceof Error?_0x3fd7c3[_0x448915(0x450)]:JSON[_0x448915(0x3c8)](_0x3fd7c3,null,0x2))),_0x272b97=_0x3fd7c3[_0x448915(0x450)];}if(_0x272b97)return{'error':!0x0,'detail':(typeof _0x272b97==_0x448915(0x8d7)?JSON['stringify'](_0x272b97,null,0x2):_0x272b97)[_0x448915(0x589)](/[\[\]{}\n]/g,'\x20')[_0x448915(0x589)](/  +/g,'\x20')};}async[a0_0x341dd0(0x615)](_0x59bb86){const _0x104029=a0_0x341dd0;try{return await this[_0x104029(0x1c4)][_0x104029(0x228)](_0x59bb86[_0x104029(0x209)],_0x59bb86['description']),{'update':_0x104029(0x40a)};}catch(_0x56d0eb){let _0x1f7611=_0x104029(0x272),_0x25f4a6=_0x56d0eb instanceof Error?_0x56d0eb[_0x104029(0x450)]:typeof _0x56d0eb==_0x104029(0x8d7)?JSON[_0x104029(0x3c8)](_0x56d0eb):_0x56d0eb,_0xfee76d=_0x1f7611+':\x20'+_0x25f4a6;throw this[_0x104029(0x26e)][_0x104029(0x4a8)](this[_0x104029(0x7d8)]+'\x20('+this[_0x104029(0x286)]['wuid']+_0x104029(0x867)+_0xfee76d),new x(_0xfee76d);}}async[a0_0x341dd0(0x2b0)](_0x4f1c36){const _0x5b5a45=a0_0x341dd0;try{return await this[_0x5b5a45(0x1c4)][_0x5b5a45(0x8a3)](_0x4f1c36[_0x5b5a45(0x209)],_0x4f1c36[_0x5b5a45(0x1fa)]),{'update':'success'};}catch(_0x192585){let _0x2912ee='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x207a35=_0x192585 instanceof Error?_0x192585[_0x5b5a45(0x450)]:typeof _0x192585==_0x5b5a45(0x8d7)?JSON[_0x5b5a45(0x3c8)](_0x192585):_0x192585,_0x144404=_0x2912ee+':\x20'+_0x207a35;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x5b5a45(0x286)]['wuid']+_0x5b5a45(0x867)+_0x144404),new x(_0x144404);}}async[a0_0x341dd0(0x815)](_0x18fcf8){const _0x10c208=a0_0x341dd0;try{let _0xcde2f5=await this[_0x10c208(0x1c4)][_0x10c208(0x4c0)](_0x18fcf8['groupJid'],_0x18fcf8['expiration']);return{'success':!0x0};}catch(_0x3073be){let _0x3fa49c='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x5522cc=_0x3073be instanceof Error?_0x3073be[_0x10c208(0x450)]:typeof _0x3073be=='object'?JSON[_0x10c208(0x3c8)](_0x3073be):_0x3073be,_0x3cae03=_0x3fa49c+':\x20'+_0x5522cc;throw this['logger']['error'](this[_0x10c208(0x7d8)]+'\x20('+this[_0x10c208(0x286)]['wuid']+_0x10c208(0x867)+_0x3cae03),new x(_0x3cae03);}}async['groupSetting'](_0x44f612){const _0x2f266c=a0_0x341dd0;try{return await this[_0x2f266c(0x1c4)][_0x2f266c(0x8dd)](_0x44f612[_0x2f266c(0x209)],_0x44f612[_0x2f266c(0x411)]),{'update':_0x2f266c(0x40a)};}catch(_0x5e3976){let _0x502b78='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x525fa6=_0x5e3976 instanceof Error?_0x5e3976['message']:typeof _0x5e3976==_0x2f266c(0x8d7)?JSON['stringify'](_0x5e3976):_0x5e3976,_0x15afdb=_0x502b78+':\x20'+_0x525fa6;throw this[_0x2f266c(0x26e)][_0x2f266c(0x4a8)](this[_0x2f266c(0x7d8)]+'\x20('+this[_0x2f266c(0x286)][_0x2f266c(0x2a8)]+'):\x20'+_0x15afdb),new x(_0x15afdb);}}async[a0_0x341dd0(0x368)](_0x558da0){const _0x34a6a6=a0_0x341dd0;try{let _0x248d6f;if((0x0,k[_0x34a6a6(0x8c4)])(_0x558da0['image'])){let _0x35b737=new Date()[_0x34a6a6(0x5a7)](),_0x2fa532=_0x558da0[_0x34a6a6(0x5ed)]+_0x34a6a6(0x1be)+_0x35b737;_0x248d6f=(await Y[_0x34a6a6(0x4ea)][_0x34a6a6(0x86a)](_0x2fa532,{'responseType':_0x34a6a6(0x246)}))[_0x34a6a6(0x210)];}else{if((0x0,k[_0x34a6a6(0x467)])(_0x558da0[_0x34a6a6(0x5ed)]))_0x248d6f=Buffer[_0x34a6a6(0x731)](_0x558da0[_0x34a6a6(0x5ed)],_0x34a6a6(0x366));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x34a6a6(0x1c4)][_0x34a6a6(0x649)](_0x558da0[_0x34a6a6(0x209)],_0x248d6f),{'update':_0x34a6a6(0x40a)};}catch(_0x3e64cd){let _0x28cad4=_0x34a6a6(0x224),_0xf952de=_0x3e64cd instanceof Error?_0x3e64cd[_0x34a6a6(0x450)]:typeof _0x3e64cd==_0x34a6a6(0x8d7)?JSON[_0x34a6a6(0x3c8)](_0x3e64cd):_0x3e64cd,_0x25b225=_0x28cad4+':\x20'+_0xf952de;throw this[_0x34a6a6(0x26e)][_0x34a6a6(0x4a8)](this[_0x34a6a6(0x7d8)]+'\x20('+this['instance'][_0x34a6a6(0x2a8)]+_0x34a6a6(0x867)+_0x25b225),new x(_0x25b225);}}},Jt=class u{constructor(_0x50606c,_0x2bf5e3,_0x38a4ab){const _0x249b30=a0_0x341dd0;this[_0x249b30(0x4e5)]=_0x50606c,this[_0x249b30(0x403)]=_0x2bf5e3,this[_0x249b30(0x6d5)]=_0x38a4ab,this['db']={},this['redis']={},this[_0x249b30(0x26e)]=new $(u[_0x249b30(0x1fa)]),this['waInstances']={},(this['removeInstance'](),this[_0x249b30(0x447)](),Object[_0x249b30(0x606)](this['db'],_0x2bf5e3[_0x249b30(0x86a)]('DATABASE')),Object[_0x249b30(0x606)](this[_0x249b30(0x2b5)],_0x2bf5e3[_0x249b30(0x86a)](_0x249b30(0x76c))),this[_0x249b30(0x5ae)]=this['db'][_0x249b30(0x225)]?this[_0x249b30(0x6d5)]['dbServer']?.['db'](this['db'][_0x249b30(0x892)][_0x249b30(0x422)]+_0x249b30(0x5be)):void 0x0,this[_0x249b30(0x3de)]=this[_0x249b30(0x2b5)][_0x249b30(0x225)]?new de(this[_0x249b30(0x2b5)]):void 0x0);}async[a0_0x341dd0(0x227)](_0x363e01){const _0xcbbb3b=a0_0x341dd0;if(_0x363e01&&!this[_0xcbbb3b(0x5c3)][_0x363e01])throw new j(_0xcbbb3b(0x4b0)+_0x363e01+_0xcbbb3b(0x5c1));let _0x5aefef=[];for await(let [_0x57c6ea,_0x39d77c]of Object['entries'](this[_0xcbbb3b(0x5c3)]))if(_0x39d77c&&_0x39d77c[_0xcbbb3b(0x3ea)]['state']==='open'){let _0x4f35b9=await this[_0xcbbb3b(0x6d5)][_0xcbbb3b(0x3d7)]['find'](_0x57c6ea);_0x5aefef[_0xcbbb3b(0x452)]({'instance':{'instanceName':_0x57c6ea,'apikey':_0x4f35b9[_0xcbbb3b(0x2b8)],'owner':_0x39d77c['wuid'],'profileName':await _0x39d77c[_0xcbbb3b(0x89f)]()||_0xcbbb3b(0x335),'profilePictureUrl':_0x39d77c[_0xcbbb3b(0x378)]}});}return _0x5aefef[_0xcbbb3b(0x232)](_0x32e3ea=>_0x32e3ea[_0xcbbb3b(0x286)][_0xcbbb3b(0x7d8)]===_0x363e01)??_0x5aefef;}async[a0_0x341dd0(0x869)](_0x503a30){const _0x4b0110=a0_0x341dd0;if(this['db'][_0x4b0110(0x225)]&&(await this[_0x4b0110(0x6d5)][_0x4b0110(0x8ee)][_0x4b0110(0x5d2)](),(await this[_0x4b0110(0x5ae)]['collections']())[_0x4b0110(0x65e)]>0x0&&await this['dbInstance']['dropCollection'](_0x503a30)),this['redis'][_0x4b0110(0x225)]){this[_0x4b0110(0x3de)]['reference']=_0x503a30,await this['cache'][_0x4b0110(0x362)]();return;}}async[a0_0x341dd0(0x4d4)](){const _0x379e6b=a0_0x341dd0;await this[_0x379e6b(0x5e3)]();let _0x87f335=async _0x52407c=>{const _0x413b03=_0x379e6b;let _0x218829=new $e(this[_0x413b03(0x403)],this['eventEmitter'],this[_0x413b03(0x6d5)]);_0x218829[_0x413b03(0x7d8)]=_0x52407c,await _0x218829[_0x413b03(0x88c)](),this[_0x413b03(0x5c3)][_0x52407c]=_0x218829;};try{if(this['redis']['ENABLED']){let _0x1b59cc=await this[_0x379e6b(0x3de)][_0x379e6b(0x49e)]();_0x1b59cc?.[_0x379e6b(0x65e)]>0x0&&_0x1b59cc[_0x379e6b(0x8b4)](async _0x34e101=>await _0x87f335(_0x34e101['split'](':')[0x1]));return;}if(this['db'][_0x379e6b(0x225)]){await this[_0x379e6b(0x6d5)]['dbServer'][_0x379e6b(0x5d2)]();let _0x3c2ef3=await this['dbInstance']['collections']();_0x3c2ef3['length']>0x0&&_0x3c2ef3['forEach'](async _0x1dd343=>await _0x87f335(_0x1dd343[_0x379e6b(0x540)][_0x379e6b(0x589)](/^[\w-]+\./,'')));return;}}catch(_0x216023){this[_0x379e6b(0x26e)][_0x379e6b(0x4a8)](_0x216023);}}async[a0_0x341dd0(0x89b)](){const _0x1fe57e=a0_0x341dd0;try{let _0x4afe2c=await this['repository'][_0x1fe57e(0x3d7)][_0x1fe57e(0x835)]({'online':!0x1});for(let _0x32039f of _0x4afe2c){let _0x110b0a=_0x32039f[_0x1fe57e(0x747)];await ae[_0x1fe57e(0x1d5)](W,_0x110b0a);}console['log'](_0x1fe57e(0x3b6)+_0x4afe2c['length']);let _0x322732={'online':!0x1},_0x13a107=await this[_0x1fe57e(0x6d5)]['auth'][_0x1fe57e(0x3a7)](_0x322732);console[_0x1fe57e(0x3c3)]('Instâncias\x20removidas:\x20'+_0x13a107['insertCount']);}catch(_0x4966a2){console[_0x1fe57e(0x4a8)](_0x1fe57e(0x8bd),_0x4966a2);}}async[a0_0x341dd0(0x5e3)](){const _0x9e235f=a0_0x341dd0;try{let _0x57b02b={'online':!0x1},_0x3da779={'online':!0x1,'lastDisconnect':Date[_0x9e235f(0x20e)]()},_0x405db0=await this[_0x9e235f(0x6d5)]['auth'][_0x9e235f(0x61e)](_0x57b02b,_0x3da779);await this[_0x9e235f(0x89b)]();}catch(_0x50fca5){console[_0x9e235f(0x4a8)](_0x9e235f(0x5d5),_0x50fca5);}}['removeInstance'](){const _0x42678f=a0_0x341dd0;this[_0x42678f(0x4e5)]['on'](_0x42678f(0x67e),async _0x9ee0c6=>{const _0x2f1d91=_0x42678f;try{this[_0x2f1d91(0x5c3)][_0x9ee0c6]=void 0x0;}catch{}try{this[_0x2f1d91(0x869)](_0x9ee0c6);}finally{this[_0x2f1d91(0x26e)]['warn']('Instance\x20\x22'+_0x9ee0c6+'\x22\x20-\x20REMOVED');}});}[a0_0x341dd0(0x447)](){const _0x5f334e=a0_0x341dd0;this[_0x5f334e(0x4e5)]['on'](_0x5f334e(0x5e4),async _0x451f32=>{const _0x5d39df=_0x5f334e;try{this['waInstances'][_0x451f32]=void 0x0;}catch{}try{this['cleaningUp'](_0x451f32);}finally{this[_0x5d39df(0x26e)]['warn'](_0x5d39df(0x4b0)+_0x451f32+_0x5d39df(0x254));}});}},qt=class extends _{[a0_0x341dd0(0x761)](_0x2ee905){return Zs(_0x2ee905);}async[a0_0x341dd0(0x24a)](_0x2f62d9){const _0x1399a9=a0_0x341dd0;if(_0x2f62d9[_0x1399a9(0x65e)]!==0x0)try{return{'insertCount':(await this[_0x1399a9(0x761)](_0x2f62d9[0x0][_0x1399a9(0x3f2)])['insertMany']([..._0x2f62d9]))[_0x1399a9(0x65e)]};}catch(_0x1681a1){return _0x1681a1;}}async[a0_0x341dd0(0x232)](_0x322e65,_0x5285fa){const _0x19effa=a0_0x341dd0;try{let _0x15bb67=this['getChatModelForOwner'](_0x5285fa),_0xc38a23=I(_0x322e65[_0x19effa(0x8fc)]);return await _0x15bb67[_0x19effa(0x232)](_0xc38a23)[_0x19effa(0x739)]({'lastmsg':-0x1})[_0x19effa(0x3f1)](_0x322e65?.[_0x19effa(0x3f1)]??0x0)[_0x19effa(0x6f1)]();}catch{return[];}}async[a0_0x341dd0(0x8da)](_0x317127,_0x599060){const _0xf1ce33=a0_0x341dd0;try{let _0x2a8505=this['getChatModelForOwner'](_0x599060),_0x4a54fd=I(_0x317127[_0xf1ce33(0x8fc)]);return _0x4a54fd[_0xf1ce33(0x811)]={'$ne':[]},await _0x2a8505[_0xf1ce33(0x232)](_0x4a54fd)['sort']({'lastmsg':-0x1})[_0xf1ce33(0x3f1)](_0x317127?.['limit']??0x0)[_0xf1ce33(0x6f1)]();}catch{return[];}}async[a0_0x341dd0(0x854)](_0x452d41,_0x501e05){const _0x5629d4=a0_0x341dd0;try{return{'deletedCount':(await this[_0x5629d4(0x761)](_0x501e05)[_0x5629d4(0x3a7)]({..._0x452d41[_0x5629d4(0x8fc)]}))[_0x5629d4(0x302)]};}catch(_0x4040d0){return{'error':_0x4040d0?.[_0x5629d4(0x5a5)]()};}}async[a0_0x341dd0(0x78b)](_0x289daa,_0x1a67b2){const _0x45f5b7=a0_0x341dd0;try{return await this[_0x45f5b7(0x761)](_0x1a67b2)[_0x45f5b7(0x3a7)]({..._0x289daa[_0x45f5b7(0x8fc)]}),[];}catch(_0x2e0308){return{'error':_0x2e0308?.['toString']()};}}async[a0_0x341dd0(0x2c7)](_0xefd975,_0x895190){const _0x28f346=a0_0x341dd0;try{let _0x34373d=this[_0x28f346(0x761)](_0x895190),_0x546757=I(_0xefd975[_0x28f346(0x8fc)]);return await _0x34373d[_0x28f346(0x2c7)](_0x546757)[_0x28f346(0x6f1)]();}catch{return null;}}async[a0_0x341dd0(0x331)](_0x55b5fa,_0x39807b,_0x36788d,_0x5dc36a,_0x92ca4a=a0_0x341dd0(0x294)){const _0x1f79a1=a0_0x341dd0;try{let _0x5ee1a1={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5dc36a},_0x4f144e=this[_0x1f79a1(0x761)](_0x36788d),_0x8ac7f4=I(_0x55b5fa['where']);Object[_0x1f79a1(0x866)](_0x39807b)['forEach'](_0x1ec1da=>{_0x39807b[_0x1ec1da]==null&&delete _0x39807b[_0x1ec1da];});let _0x118cf6={};return _0x118cf6[_0x92ca4a]=_0x39807b,await _0x4f144e['findOneAndUpdate'](_0x8ac7f4,_0x118cf6,_0x5ee1a1);}catch(_0x1104b2){return console['error'](_0x1104b2),null;}}async[a0_0x341dd0(0x7fc)](_0x5ce5b5){const _0x5e603c=a0_0x341dd0;try{let _0x1b467c=this[_0x5e603c(0x761)](_0x5ce5b5[0x0][_0x5e603c(0x62e)][_0x5e603c(0x8fc)][_0x5e603c(0x3f2)]),_0x36e7e1=_0x5ce5b5[_0x5e603c(0x486)](_0x1a8e9b=>({'updateOne':{'filter':{..._0x1a8e9b[_0x5e603c(0x62e)]['where']},'update':{'$set':_0x1a8e9b[_0x5e603c(0x85c)]},'upsert':!0x0}})),_0x2f8d6d=await _0x1b467c[_0x5e603c(0x298)](_0x36e7e1);return _0x2f8d6d['modifiedCount']+_0x2f8d6d[_0x5e603c(0x75e)];}catch(_0x38b23e){return console[_0x5e603c(0x4a8)](_0x38b23e),0x0;}}async['removeUnusedChatFields'](_0xd91fb8){const _0x3e9e06=a0_0x341dd0;try{let _0x5178fe={'group_isCommunity':'','group_announce':'','group_size':''},_0x183d3f={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x441f08={'$unset':_0x5178fe};return(await this['getChatModelForOwner'](_0xd91fb8)[_0x3e9e06(0x7fc)](_0x183d3f,_0x441f08))['modifiedCount'];}catch(_0x3465a5){return console[_0x3e9e06(0x4a8)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x3465a5),0x0;}}async[a0_0x341dd0(0x230)](_0x32801c){const _0xfe987c=a0_0x341dd0;try{let _0x821f11=this['getChatModelForOwner'](_0x32801c),_0x213ab7={'leadInfo.etiquetas':{'$exists':!0x1}},_0x41655e={'$set':{'leadInfo.etiquetas':[]}};return(await _0x821f11[_0xfe987c(0x7fc)](_0x213ab7,_0x41655e))['modifiedCount'];}catch(_0x2f56da){return console[_0xfe987c(0x4a8)](_0x2f56da),0x0;}}async[a0_0x341dd0(0x891)](_0x5aa04a){const _0x31c106=a0_0x341dd0;try{let _0x460f60=this[_0x31c106(0x761)](_0x5aa04a),_0x1e1658={'leadInfo.tags':{'$exists':!0x1}},_0xa52530={'$set':{'leadInfo.tags':[]}};return(await _0x460f60[_0x31c106(0x7fc)](_0x1e1658,_0xa52530))[_0x31c106(0x62b)];}catch(_0xb649e0){return console['error'](_0xb649e0),0x0;}}async['updateMissingCustomFields'](_0x3e9685){const _0x30c07=a0_0x341dd0;try{let _0x231c4b=this[_0x30c07(0x761)](_0x3e9685),_0x1c0b4e={'leadInfo.customFields':{'$exists':!0x1}},_0x50c712={'$set':{'leadInfo.customFields':[]}};return(await _0x231c4b[_0x30c07(0x7fc)](_0x1c0b4e,_0x50c712))[_0x30c07(0x62b)];}catch(_0x1bf40f){return console['error'](_0x1bf40f),0x0;}}async['insertMany'](_0x213e12,_0x5816b2){const _0x53470a=a0_0x341dd0;if(!Array['isArray'](_0x213e12)||_0x213e12['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x53470a(0x761)](_0x5816b2)[_0x53470a(0x3d1)](_0x213e12))[_0x53470a(0x65e)];}catch(_0x2904f9){throw console[_0x53470a(0x4a8)](_0x53470a(0x604),_0x2904f9),_0x2904f9;}}async[a0_0x341dd0(0x50b)](_0x42c46c,_0x5c8fed){const _0x541f81=a0_0x341dd0;try{await this[_0x541f81(0x761)](_0x5c8fed)[_0x541f81(0x669)]({'_id':_0x42c46c});}catch(_0x329c3e){throw console['error'](_0x541f81(0x333),_0x329c3e),_0x329c3e;}}},Vt=class extends _{constructor(_0x1d5a5b,_0x246999,_0x403e00){const _0x10d6f0=a0_0x341dd0;super(_0x246999),this['cacheContactModel']=_0x1d5a5b,this[_0x10d6f0(0x403)]=_0x246999,this[_0x10d6f0(0x88e)]=_0x403e00;}async[a0_0x341dd0(0x24a)](_0x4f9ea5){const _0x3a7982=a0_0x341dd0;if(_0x4f9ea5[_0x3a7982(0x65e)]!==0x0)try{return{'insertCount':(await this[_0x3a7982(0x4aa)][_0x3a7982(0x3d1)]([..._0x4f9ea5]))[_0x3a7982(0x65e)]};}catch(_0x4b962a){return _0x4b962a;}}async[a0_0x341dd0(0x85c)](_0x4adc45,_0x57aad4){const _0xf9bafb=a0_0x341dd0;try{let _0x48649b=I(_0x4adc45['where']);return{'updatedCount':(await this[_0xf9bafb(0x4aa)]['updateMany'](_0x48649b,{'$set':_0x57aad4}))[_0xf9bafb(0x62b)]};}catch(_0x4ad02e){return console[_0xf9bafb(0x4a8)]('Error\x20updating\x20cache\x20contact:',_0x4ad02e),{'error':_0x4ad02e[_0xf9bafb(0x5a5)]()};}}async[a0_0x341dd0(0x6ec)](_0x1968ab){const _0x449f5b=a0_0x341dd0;try{let _0x11844={'_id':{'$in':_0x1968ab}};return await this['cacheContactModel'][_0x449f5b(0x232)](_0x11844)[_0x449f5b(0x6f1)]();}catch(_0x4b443e){return console['error']('Error\x20finding\x20many\x20contacts:',_0x4b443e),[];}}async['delete'](_0x2da991){const _0x40aeea=a0_0x341dd0;try{return{'deletedCount':(await this[_0x40aeea(0x4aa)][_0x40aeea(0x3a7)]({..._0x2da991[_0x40aeea(0x8fc)]}))[_0x40aeea(0x302)]};}catch(_0x2e3968){return{'error':_0x2e3968?.[_0x40aeea(0x5a5)]()};}}async[a0_0x341dd0(0x232)](_0x223c57){const _0x1df0c1=a0_0x341dd0;try{let _0xccb207=I(_0x223c57['where']);return await this[_0x1df0c1(0x4aa)][_0x1df0c1(0x232)](_0xccb207)[_0x1df0c1(0x3f1)](_0x223c57?.[_0x1df0c1(0x3f1)]??0x0)[_0x1df0c1(0x6f1)]();}catch{return[];}}async[a0_0x341dd0(0x2c7)](_0x89ebe5){const _0x57f59f=a0_0x341dd0;try{let _0x597083=I(_0x89ebe5[_0x57f59f(0x8fc)]);return await this[_0x57f59f(0x4aa)][_0x57f59f(0x2c7)](_0x597083)[_0x57f59f(0x6f1)]();}catch{return null;}}},Gt=class extends _{[a0_0x341dd0(0x7e5)](_0x242797){return Ma(_0x242797);}async['updateOne'](_0x47d9bb,_0x32a547,_0x2a607f,_0x223408){const _0x291739=a0_0x341dd0;try{let _0x1c2603={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x223408},_0x4a6723=this['getLabelModelForOwner'](_0x2a607f),_0x369384=I(_0x47d9bb[_0x291739(0x8fc)]);return await _0x4a6723[_0x291739(0x889)](_0x369384,{'$set':_0x32a547},_0x1c2603);}catch(_0x5e1d7a){return console['error'](_0x5e1d7a),null;}}async[a0_0x341dd0(0x232)](_0x2fd02a,_0x3d84bb){const _0x2958a5=a0_0x341dd0;try{let _0x56b42f=this[_0x2958a5(0x7e5)](_0x3d84bb),_0x5d5a52=I(_0x2fd02a['where']);return await _0x56b42f[_0x2958a5(0x232)](_0x5d5a52);}catch(_0x22d5fa){console[_0x2958a5(0x4a8)](_0x22d5fa);}}async[a0_0x341dd0(0x854)](_0x2df585,_0x8f7277){const _0x582398=a0_0x341dd0;try{let _0x4714f1=this[_0x582398(0x7e5)](_0x8f7277),_0x276606=I(_0x2df585[_0x582398(0x8fc)]);await _0x4714f1[_0x582398(0x3a7)](_0x276606);}catch(_0x2ca9c){console[_0x582398(0x4a8)](_0x2ca9c);}}async[a0_0x341dd0(0x78b)](_0x28077f){const _0x51d956=a0_0x341dd0;try{return await this[_0x51d956(0x7e5)](_0x28077f)[_0x51d956(0x756)][_0x51d956(0x63b)](),{'success':!0x0};}catch(_0x4a48b5){return console[_0x51d956(0x4a8)](_0x4a48b5),{'success':!0x1,'error':_0x4a48b5};}}},Bt=class{constructor(_0x545a4d){this['waMonitor']=_0x545a4d;}async[a0_0x341dd0(0x2a4)]({instanceName:_0x557884},_0x125c14){const _0x69ed42=a0_0x341dd0;return await this[_0x69ed42(0x4cc)][_0x69ed42(0x5c3)][_0x557884]['editChat'](_0x125c14);}async[a0_0x341dd0(0x3bd)]({instanceName:_0x150a21},_0x55b1b3){const _0x49308a=a0_0x341dd0;return await this[_0x49308a(0x4cc)][_0x49308a(0x5c3)][_0x150a21][_0x49308a(0x3bd)](_0x55b1b3);}async['importChats']({instanceName:_0x4b89e1},_0x56c90c){const _0x3c5f46=a0_0x341dd0;return await this['waMonitor'][_0x3c5f46(0x5c3)][_0x4b89e1][_0x3c5f46(0x395)](_0x56c90c);}async['readMessage']({instanceName:_0x5e945e},_0x280345){const _0x20c4de=a0_0x341dd0;return await this[_0x20c4de(0x4cc)][_0x20c4de(0x5c3)][_0x5e945e][_0x20c4de(0x29a)](_0x280345);}async['archiveChat']({instanceName:_0x1d66e4},_0x51d7fc){const _0x2363e4=a0_0x341dd0;return await this[_0x2363e4(0x4cc)][_0x2363e4(0x5c3)][_0x1d66e4][_0x2363e4(0x8f3)](_0x51d7fc);}async[a0_0x341dd0(0x8e5)]({instanceName:_0x49ba81},_0x1c099f){const _0x25fe02=a0_0x341dd0;return await this[_0x25fe02(0x4cc)][_0x25fe02(0x5c3)][_0x49ba81][_0x25fe02(0x8e5)](_0x1c099f);}async[a0_0x341dd0(0x559)]({instanceName:_0x321cd2},_0x7dcd6d){const _0x5d02c2=a0_0x341dd0;return await this[_0x5d02c2(0x4cc)][_0x5d02c2(0x5c3)][_0x321cd2]['profilePicture'](_0x7dcd6d[_0x5d02c2(0x714)]);}async[a0_0x341dd0(0x72a)]({instanceName:_0x265df5},_0x56e25){const _0x56bb47=a0_0x341dd0;return await this['waMonitor'][_0x56bb47(0x5c3)][_0x265df5]['fetchProfile'](_0x56e25['number']);}async['updatePresence']({instanceName:_0x419f2b},_0x5a36ce){const _0x206f0f=a0_0x341dd0;return await this[_0x206f0f(0x4cc)][_0x206f0f(0x5c3)][_0x419f2b][_0x206f0f(0x6e2)](_0x5a36ce);}async[a0_0x341dd0(0x462)]({instanceName:_0x461c1b},_0x46b77f){const _0x87f32a=a0_0x341dd0;return await this[_0x87f32a(0x4cc)][_0x87f32a(0x5c3)][_0x461c1b][_0x87f32a(0x462)](_0x46b77f);}async[a0_0x341dd0(0x5a1)]({instanceName:_0x38a3b0},_0x59421b){const _0x1d0403=a0_0x341dd0;return await this['waMonitor'][_0x1d0403(0x5c3)][_0x38a3b0][_0x1d0403(0x5a1)](_0x59421b);}async[a0_0x341dd0(0x8a9)]({instanceName:_0xf0ee3b},_0x1aa599){const _0x114f07=a0_0x341dd0;return await this['waMonitor']['waInstances'][_0xf0ee3b][_0x114f07(0x8a9)](_0x1aa599);}async[a0_0x341dd0(0x581)]({instanceName:_0x42affa}){const _0x340548=a0_0x341dd0;return await this[_0x340548(0x4cc)][_0x340548(0x5c3)][_0x42affa]['fetchLabels']();}async[a0_0x341dd0(0x8a4)]({instanceName:_0x12154a}){const _0x3455db=a0_0x341dd0;return await this[_0x3455db(0x4cc)][_0x3455db(0x5c3)][_0x12154a][_0x3455db(0x8a4)]();}async['fetchPrivacySettings']({instanceName:_0x55dd9f}){const _0x494679=a0_0x341dd0;return await this[_0x494679(0x4cc)]['waInstances'][_0x55dd9f]['fetchPrivacySettings']();}async[a0_0x341dd0(0x89e)]({instanceName:_0x4af00a},_0x4fdfec){const _0x31135c=a0_0x341dd0;return await this[_0x31135c(0x4cc)][_0x31135c(0x5c3)][_0x4af00a][_0x31135c(0x89e)](_0x4fdfec);}async[a0_0x341dd0(0x3e2)]({instanceName:_0x5f0dba},_0x49eb01){const _0x3d7d66=a0_0x341dd0;return await this[_0x3d7d66(0x4cc)]['waInstances'][_0x5f0dba]['fetchBusinessProfile'](_0x49eb01[_0x3d7d66(0x714)]);}async[a0_0x341dd0(0x381)]({instanceName:_0x21a3a2},_0x843ea2){const _0x59aae3=a0_0x341dd0;return await this['waMonitor'][_0x59aae3(0x5c3)][_0x21a3a2][_0x59aae3(0x381)](_0x843ea2[_0x59aae3(0x1fa)]);}async[a0_0x341dd0(0x4f1)]({instanceName:_0x4d10be},_0x422232){const _0x374d4a=a0_0x341dd0;return await this[_0x374d4a(0x4cc)][_0x374d4a(0x5c3)][_0x4d10be]['updateProfileStatus'](_0x422232[_0x374d4a(0x826)]);}async['updateProfilePicture']({instanceName:_0xb9897},_0x2785a1){const _0x5f0a6c=a0_0x341dd0;return await this['waMonitor']['waInstances'][_0xb9897][_0x5f0a6c(0x649)](_0x2785a1[_0x5f0a6c(0x46b)]);}async[a0_0x341dd0(0x30d)]({instanceName:_0x44f877},_0x56c5ec){const _0x1e489f=a0_0x341dd0;return await this['waMonitor']['waInstances'][_0x44f877][_0x1e489f(0x30d)]();}},Wt=require(a0_0x341dd0(0x8d3)),zt=class u{constructor(_0x136296,_0x34eba2,_0x3c9dfb,_0x3b26ed,_0x16a827){const _0x5385f6=a0_0x341dd0;this['waMonitor']=_0x136296,this[_0x5385f6(0x403)]=_0x34eba2,this[_0x5385f6(0x6d5)]=_0x3c9dfb,this[_0x5385f6(0x4e5)]=_0x3b26ed,this[_0x5385f6(0x2d6)]=_0x16a827,this[_0x5385f6(0x26e)]=new $(u[_0x5385f6(0x1fa)]);}async[a0_0x341dd0(0x6bd)]({instanceName:_0x13e8cf,apikey:_0x15043c,number:_0x2174e8,proxy:_0x5b8d4d=!0x0}){const _0x255cad=a0_0x341dd0;try{let _0x47c1f8=new $e(this['configService'],this[_0x255cad(0x4e5)],this[_0x255cad(0x6d5)]);_0x47c1f8[_0x255cad(0x7d8)]=_0x13e8cf,this[_0x255cad(0x4cc)][_0x255cad(0x5c3)][_0x47c1f8[_0x255cad(0x7d8)]]=_0x47c1f8;let _0x2cdf7b={};_0x15043c?(await this['repository'][_0x255cad(0x3d7)]['create']({'apikey':_0x15043c},_0x13e8cf),_0x2cdf7b['apikey']=_0x15043c):_0x2cdf7b=await this[_0x255cad(0x2d6)][_0x255cad(0x68b)]({'instanceName':_0x47c1f8[_0x255cad(0x7d8)]});let _0x333357;if(_0x2174e8){if(_0x333357=await this[_0x255cad(0x2b3)](_0x2174e8),_0x333357[_0x255cad(0x4a8)])throw new x(_0x333357['error'][_0x255cad(0x5a5)]());_0x2174e8=_0x333357[_0x255cad(0x714)];}let _0x3dd022;return await _0x47c1f8['connectToWhatsapp'](_0x2174e8),await(0x0,Wt[_0x255cad(0x79d)])(0xfa0),_0x2174e8&&await(0x0,Wt['delay'])(0xbb8),_0x3dd022=_0x47c1f8[_0x255cad(0x3e8)],{'instance':{'instanceName':_0x47c1f8[_0x255cad(0x7d8)],'status':_0x255cad(0x772)},'hash':_0x2cdf7b,'qrcode':_0x3dd022};}catch(_0x463f72){throw this[_0x255cad(0x26e)]['error'](_0x463f72),_0x463f72;}}async[a0_0x341dd0(0x1cc)]({instanceName:_0x23cb47,number:_0x497600=null}){const _0x1a1222=a0_0x341dd0;try{let _0x501b5b=this['waMonitor']['waInstances'][_0x23cb47];switch(_0x501b5b?.['connectionStatus']?.[_0x1a1222(0x691)]){case _0x1a1222(0x354):return await _0x501b5b['connectToWhatsapp'](_0x497600),await(0x0,Wt[_0x1a1222(0x79d)])(0x7d0),_0x501b5b[_0x1a1222(0x3e8)];case _0x1a1222(0x3f6):return _0x501b5b[_0x1a1222(0x3e8)];default:return await this['connectionState']({'instanceName':_0x23cb47});}}catch(_0x4aee9a){this[_0x1a1222(0x26e)][_0x1a1222(0x3c3)](_0x4aee9a);}}async[a0_0x341dd0(0x1ae)]({instanceName:_0x259d6e}){const _0x142e4d=a0_0x341dd0;let _0x2abfed=this[_0x142e4d(0x4cc)]['waInstances'][_0x259d6e][_0x142e4d(0x3ea)],_0x55bb9c=null;_0x2abfed[_0x142e4d(0x691)]===_0x142e4d(0x86d)&&_0x259d6e&&(_0x55bb9c=await this[_0x142e4d(0x4cc)][_0x142e4d(0x227)](_0x259d6e));let _0x5bc850=null;return _0x2abfed[_0x142e4d(0x691)]==='connecting'&&_0x259d6e&&(_0x5bc850=this[_0x142e4d(0x4cc)]['waInstances'][_0x259d6e][_0x142e4d(0x3e8)]),{'instance':_0x259d6e,'connectionStatus':_0x2abfed,'instanceInfo':_0x55bb9c,'qrcode':_0x5bc850};}async[a0_0x341dd0(0x2b3)](_0x38c9d9){const _0x2acf17=a0_0x341dd0;_0x38c9d9=_0x38c9d9[_0x2acf17(0x589)](/\D/g,'');let _0x582ffd=Object[_0x2acf17(0x866)](this['waMonitor'][_0x2acf17(0x5c3)])[_0x2acf17(0x435)](_0x1404de=>{const _0x2149f4=_0x2acf17;let _0x81bd70=this[_0x2149f4(0x4cc)][_0x2149f4(0x5c3)][_0x1404de];return _0x81bd70&&_0x81bd70[_0x2149f4(0x3ea)]&&_0x81bd70[_0x2149f4(0x3ea)][_0x2149f4(0x691)]===_0x2149f4(0x86d);});if(_0x582ffd['length']===0x0)return{'number':this[_0x2acf17(0x441)](_0x38c9d9)};let _0xabe5dc=Math[_0x2acf17(0x3d0)](Math[_0x2acf17(0x778)]()*_0x582ffd['length']),_0x3973dc=_0x582ffd[_0xabe5dc];try{let _0x466ef9=(await this[_0x2acf17(0x4cc)][_0x2acf17(0x5c3)][_0x3973dc][_0x2acf17(0x3bd)]({'numbers':[_0x38c9d9]}))[_0x2acf17(0x37f)]();return _0x466ef9['exists']?{'number':_0x466ef9[_0x2acf17(0x824)][_0x2acf17(0x589)]('@s.whatsapp.net','')}:{'number':_0x38c9d9,'error':_0x2acf17(0x2a9)};}catch(_0x3e74d4){return this[_0x2acf17(0x26e)][_0x2acf17(0x4a8)](_0x2acf17(0x6f5)+_0x3e74d4),{'number':_0x38c9d9,'error':_0x2acf17(0x1f8)};}}[a0_0x341dd0(0x441)](_0x1c4800){const _0x412264=a0_0x341dd0;let _0x5d8c58=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x412264(0x75c)](_0x1c4800);if(_0x5d8c58&&_0x5d8c58[0x1]==='55'){let _0x2d7ff8=_0x5d8c58[0x2],_0x59b812=_0x5d8c58[0x3],_0x390f77=_0x5d8c58[0x4];if(parseInt(_0x2d7ff8)>=0x1f&&_0x59b812==='9')return _0x5d8c58[0x1]+_0x2d7ff8+_0x390f77;}return _0x1c4800;}async[a0_0x341dd0(0x8f1)]({instanceName:_0x490f0b}){const _0x128111=a0_0x341dd0;try{return this[_0x128111(0x4cc)][_0x128111(0x5c3)][_0x490f0b]?.['client']?.['ws']?.[_0x128111(0x354)](),{'status':_0x128111(0x222),'error':!0x1,'response':{'message':_0x128111(0x72c)}};}catch(_0xfc6a1b){this[_0x128111(0x26e)][_0x128111(0x4a8)](_0xfc6a1b);}}async['fetchInstances']({instanceName:_0x13f5ae}){const _0x3478b8=a0_0x341dd0;return _0x13f5ae?this[_0x3478b8(0x4cc)][_0x3478b8(0x227)](_0x13f5ae):this['waMonitor'][_0x3478b8(0x227)]();}async[a0_0x341dd0(0x89d)]({instanceName:_0x25a87d}){const _0x54d17a=a0_0x341dd0;try{return await this['waMonitor'][_0x54d17a(0x5c3)][_0x25a87d]?.[_0x54d17a(0x1c4)]?.[_0x54d17a(0x89d)](_0x54d17a(0x547)+_0x25a87d),{'error':!0x1,'message':_0x54d17a(0x3a3)};}catch(_0x14989c){throw new x(_0x14989c[_0x54d17a(0x5a5)]());}}async[a0_0x341dd0(0x4f5)]({instanceName:_0x3157ad}){const _0x1c5857=a0_0x341dd0;if((await this[_0x1c5857(0x1ae)]({'instanceName':_0x3157ad}))['connectionStatus']['state']===_0x1c5857(0x86d))throw new m(['Deletion\x20failed',_0x1c5857(0x363)]);try{return delete this['waMonitor'][_0x1c5857(0x5c3)][_0x3157ad],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x579ecd){throw new m(_0x579ecd[_0x1c5857(0x5a5)]());}}},ie=require('class-validator'),Ht=class{constructor(_0x61bf7d){const _0x18ce26=a0_0x341dd0;this[_0x18ce26(0x4cc)]=_0x61bf7d;}async[a0_0x341dd0(0x82f)]({instanceName:_0x24582b},_0x3a04c1){const _0x4818e4=a0_0x341dd0;return await this[_0x4818e4(0x4cc)][_0x4818e4(0x5c3)][_0x24582b][_0x4818e4(0x852)](_0x3a04c1);}async[a0_0x341dd0(0x46f)]({instanceName:_0x4313a6},_0x386e19){const _0x1df74b=a0_0x341dd0;return await this[_0x1df74b(0x4cc)][_0x1df74b(0x5c3)][_0x4313a6][_0x1df74b(0x4c9)](_0x386e19);}async[a0_0x341dd0(0x352)]({instanceName:_0x56e7b7},_0x362c70){const _0x1646ef=a0_0x341dd0;if((0x0,ie[_0x1646ef(0x467)])(_0x362c70?.[_0x1646ef(0x69d)]?.[_0x1646ef(0x5d8)])&&!_0x362c70?.[_0x1646ef(0x69d)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ie['isURL'])(_0x362c70?.[_0x1646ef(0x69d)]?.['media'])||(0x0,ie[_0x1646ef(0x467)])(_0x362c70?.['mediaMessage']?.[_0x1646ef(0x5d8)]))return await this[_0x1646ef(0x4cc)]['waInstances'][_0x56e7b7][_0x1646ef(0x69d)](_0x362c70);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x341dd0(0x555)]({instanceName:_0x530453},_0x306a03){const _0x6defdf=a0_0x341dd0;if((0x0,ie['isURL'])(_0x306a03['stickerMessage'][_0x6defdf(0x5ed)])||(0x0,ie['isBase64'])(_0x306a03['stickerMessage'][_0x6defdf(0x5ed)]))return await this[_0x6defdf(0x4cc)][_0x6defdf(0x5c3)][_0x530453][_0x6defdf(0x689)](_0x306a03);throw new m(_0x6defdf(0x1c1));}async['sendWhatsAppAudio']({instanceName:_0x3cb455},_0x332bcf){const _0x32e644=a0_0x341dd0;if((0x0,ie[_0x32e644(0x8c4)])(_0x332bcf['audioMessage'][_0x32e644(0x492)])||(0x0,ie['isBase64'])(_0x332bcf[_0x32e644(0x340)]['audio']))return await this['waMonitor'][_0x32e644(0x5c3)][_0x3cb455][_0x32e644(0x33d)](_0x332bcf);throw new m(_0x32e644(0x1c1));}async[a0_0x341dd0(0x29f)]({instanceName:_0x107077},_0x4b2004){const _0x33760b=a0_0x341dd0;if((0x0,ie[_0x33760b(0x467)])(_0x4b2004[_0x33760b(0x596)][_0x33760b(0x69d)]?.[_0x33760b(0x5d8)])&&!_0x4b2004[_0x33760b(0x596)][_0x33760b(0x69d)]?.[_0x33760b(0x493)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x33760b(0x4cc)][_0x33760b(0x5c3)][_0x107077][_0x33760b(0x596)](_0x4b2004);}async[a0_0x341dd0(0x700)]({instanceName:_0x2c7869},_0x89bc8e){const _0x2a7753=a0_0x341dd0;return await this[_0x2a7753(0x4cc)]['waInstances'][_0x2c7869]['locationMessage'](_0x89bc8e);}async['sendPoll']({instanceName:_0x50b323},_0x6176ef){const _0x217da9=a0_0x341dd0;return await this[_0x217da9(0x4cc)][_0x217da9(0x5c3)][_0x50b323]['pollMessage'](_0x6176ef);}async['sendList']({instanceName:_0x2201e3},_0x46bfb){const _0x307bba=a0_0x341dd0;return await this['waMonitor'][_0x307bba(0x5c3)][_0x2201e3][_0x307bba(0x498)](_0x46bfb);}async[a0_0x341dd0(0x24f)]({instanceName:_0x27cc47},_0x3e9be6){const _0x4e9cbe=a0_0x341dd0;return await this[_0x4e9cbe(0x4cc)][_0x4e9cbe(0x5c3)][_0x27cc47][_0x4e9cbe(0x57c)](_0x3e9be6);}async[a0_0x341dd0(0x83e)]({instanceName:_0x5caaa4},_0x13607b){const _0x5084dd=a0_0x341dd0;if(!_0x13607b[_0x5084dd(0x515)][_0x5084dd(0x388)][_0x5084dd(0x61a)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x5084dd(0x349));return await this['waMonitor'][_0x5084dd(0x5c3)][_0x5caaa4]['reactionMessage'](_0x13607b);}async[a0_0x341dd0(0x7b7)]({instanceName:_0x2f6900},_0x12d4ac){const _0x19f19b=a0_0x341dd0;return await this[_0x19f19b(0x4cc)][_0x19f19b(0x5c3)][_0x2f6900][_0x19f19b(0x7d9)](_0x12d4ac);}},xi=require(a0_0x341dd0(0x34e)),Ls=require(a0_0x341dd0(0x6b4)),Kt=class u{constructor(_0x50e490,_0x3bca80,_0x29a83a){const _0x29b217=a0_0x341dd0;this[_0x29b217(0x403)]=_0x50e490,this[_0x29b217(0x4cc)]=_0x3bca80,this[_0x29b217(0x6d5)]=_0x29a83a,this['logger']=new $(u[_0x29b217(0x1fa)]);}async[a0_0x341dd0(0x45f)](_0x33b304){const _0x15d544=a0_0x341dd0;let _0x3eb9fa=this['configService'][_0x15d544(0x86a)](_0x15d544(0x562))['JWT'],_0xb7e805=(0x0,xi[_0x15d544(0x3a1)])({'instanceName':_0x33b304[_0x15d544(0x7d8)],'apiName':it,'tokenId':(0x0,Ls['v4'])()},_0x3eb9fa[_0x15d544(0x41f)],{'expiresIn':_0x3eb9fa['EXPIRIN_IN'],'encoding':_0x15d544(0x795),'subject':_0x15d544(0x329)}),_0x432d56=await this['repository'][_0x15d544(0x3d7)][_0x15d544(0x377)]({'jwt':_0xb7e805},_0x33b304[_0x15d544(0x7d8)]);if(_0x432d56[_0x15d544(0x4a8)])throw this['logger']['error']({'localError':u[_0x15d544(0x1fa)]+_0x15d544(0x556),'error':_0x432d56[_0x15d544(0x4a8)]}),new m('Authentication\x20error',_0x432d56['error']?.['toString']());return{'jwt':_0xb7e805};}async['apikey'](_0x3e44a3){const _0x5dd2d6=a0_0x341dd0;let _0xd932a7=(0x0,Ls['v4'])()['toUpperCase'](),_0x204166=await this[_0x5dd2d6(0x6d5)][_0x5dd2d6(0x3d7)][_0x5dd2d6(0x377)]({'apikey':_0xd932a7},_0x3e44a3['instanceName']);if(_0x204166[_0x5dd2d6(0x4a8)])throw this[_0x5dd2d6(0x26e)][_0x5dd2d6(0x4a8)]({'localError':u[_0x5dd2d6(0x1fa)]+_0x5dd2d6(0x556),'error':_0x204166[_0x5dd2d6(0x4a8)]}),new m(_0x5dd2d6(0x814),_0x204166[_0x5dd2d6(0x4a8)]?.[_0x5dd2d6(0x5a5)]());return{'apikey':_0xd932a7};}async[a0_0x341dd0(0x68b)](_0x238435){const _0x125ba5=a0_0x341dd0;let _0x96d74b=this[_0x125ba5(0x403)][_0x125ba5(0x86a)](_0x125ba5(0x562));return await this[_0x96d74b['TYPE']](_0x238435);}},Qt=class{constructor(_0x42de14){this['waMonitor']=_0x42de14;}async[a0_0x341dd0(0x5c0)](_0x54ea35,_0x45a336){const _0x42e92d=a0_0x341dd0;return await this[_0x42e92d(0x4cc)][_0x42e92d(0x5c3)][_0x54ea35[_0x42e92d(0x7d8)]][_0x42e92d(0x5c0)](_0x45a336);}async[a0_0x341dd0(0x368)](_0x3d9c7f,_0x5ea76e){const _0x3cfd18=a0_0x341dd0;return await this['waMonitor'][_0x3cfd18(0x5c3)][_0x3d9c7f['instanceName']][_0x3cfd18(0x368)](_0x5ea76e);}async[a0_0x341dd0(0x615)](_0x1293fd,_0x4d6279){const _0x30b732=a0_0x341dd0;return await this[_0x30b732(0x4cc)][_0x30b732(0x5c3)][_0x1293fd[_0x30b732(0x7d8)]][_0x30b732(0x615)](_0x4d6279);}async[a0_0x341dd0(0x2b0)](_0x1d8cb9,_0x53b1c6){const _0x340efa=a0_0x341dd0;return await this[_0x340efa(0x4cc)]['waInstances'][_0x1d8cb9[_0x340efa(0x7d8)]][_0x340efa(0x2b0)](_0x53b1c6);}async[a0_0x341dd0(0x39c)](_0x1a2965,_0x1521f9){const _0x50486e=a0_0x341dd0;return await this[_0x50486e(0x4cc)]['waInstances'][_0x1a2965[_0x50486e(0x7d8)]][_0x50486e(0x39c)](_0x1521f9);}async[a0_0x341dd0(0x5bf)](_0x57e632,_0x44c3ab){const _0x2c7596=a0_0x341dd0;return await this['waMonitor'][_0x2c7596(0x5c3)][_0x57e632[_0x2c7596(0x7d8)]]['groupSetting'](_0x44c3ab);}async[a0_0x341dd0(0x20f)](_0x73c51d,_0x1cba69){const _0x17f177=a0_0x341dd0;return await this[_0x17f177(0x4cc)][_0x17f177(0x5c3)][_0x73c51d[_0x17f177(0x7d8)]][_0x17f177(0x2ef)](_0x1cba69);}async['findGroups'](_0x1f7b8e){const _0x5be141=a0_0x341dd0;return await this[_0x5be141(0x4cc)][_0x5be141(0x5c3)][_0x1f7b8e[_0x5be141(0x7d8)]][_0x5be141(0x344)]();}async[a0_0x341dd0(0x270)](_0x2c1a31,_0x5799d0){const _0x4d5b3e=a0_0x341dd0;return await this[_0x4d5b3e(0x4cc)]['waInstances'][_0x2c1a31[_0x4d5b3e(0x7d8)]][_0x4d5b3e(0x270)](_0x5799d0);}async['joinGroup'](_0x1936bc,_0x3a303f){const _0x4e56ca=a0_0x341dd0;return await this[_0x4e56ca(0x4cc)][_0x4e56ca(0x5c3)][_0x1936bc[_0x4e56ca(0x7d8)]][_0x4e56ca(0x2f9)](_0x3a303f);}async['groupGetInviteInfo'](_0x1d4f18,_0x547281){const _0x228f52=a0_0x341dd0;return await this[_0x228f52(0x4cc)][_0x228f52(0x5c3)][_0x1d4f18[_0x228f52(0x7d8)]][_0x228f52(0x341)](_0x547281);}async['revokeInviteCode'](_0x2fa372,_0x8fbe5){const _0x3ed64e=a0_0x341dd0;return await this[_0x3ed64e(0x4cc)]['waInstances'][_0x2fa372[_0x3ed64e(0x7d8)]]['revokeInviteCode'](_0x8fbe5);}async[a0_0x341dd0(0x3ec)](_0x1d82ab,_0x54567a){const _0x1f6bf3=a0_0x341dd0;return await this[_0x1f6bf3(0x4cc)][_0x1f6bf3(0x5c3)][_0x1d82ab[_0x1f6bf3(0x7d8)]][_0x1f6bf3(0x3ec)](_0x54567a);}async[a0_0x341dd0(0x4b1)](_0x46e646,_0x1d6128){const _0x291a13=a0_0x341dd0;return await this['waMonitor']['waInstances'][_0x46e646[_0x291a13(0x7d8)]][_0x291a13(0x880)](_0x1d6128);}async[a0_0x341dd0(0x815)](_0x393096,_0x48a371){const _0x5a8fe1=a0_0x341dd0;return await this[_0x5a8fe1(0x4cc)][_0x5a8fe1(0x5c3)][_0x393096[_0x5a8fe1(0x7d8)]]['toggleEphemeral'](_0x48a371);}async[a0_0x341dd0(0x30f)](_0x546c45,_0x18309d){const _0x8962c2=a0_0x341dd0;return await this[_0x8962c2(0x4cc)]['waInstances'][_0x546c45[_0x8962c2(0x7d8)]]['leaveGroup'](_0x18309d);}},Yt=class{constructor(_0x43c42e){const _0x284624=a0_0x341dd0;this[_0x284624(0x4cc)]=_0x43c42e;}[a0_0x341dd0(0x377)](_0xb6fa1c,_0x3268d7){const _0x5bad23=a0_0x341dd0;return this[_0x5bad23(0x4cc)][_0x5bad23(0x5c3)][_0xb6fa1c[_0x5bad23(0x7d8)]][_0x5bad23(0x274)](_0x3268d7);}async['find'](_0x57ab1d){const _0x2d7cb9=a0_0x341dd0;try{return await this[_0x2d7cb9(0x4cc)]['waInstances'][_0x57ab1d[_0x2d7cb9(0x7d8)]][_0x2d7cb9(0x48f)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0x341dd0(0x488)),Xt=class{constructor(_0x2c429a){const _0x25f35f=a0_0x341dd0;this[_0x25f35f(0x4cc)]=_0x2c429a;}async[a0_0x341dd0(0x373)](_0x4338f7,_0x2cba06){const _0x72dc0f=a0_0x341dd0;return await this[_0x72dc0f(0x4cc)][_0x72dc0f(0x5c3)][_0x4338f7[_0x72dc0f(0x7d8)]]['editScheduleMessage'](_0x2cba06);}async[a0_0x341dd0(0x38c)](_0x405a4a){const _0x4402fc=a0_0x341dd0;return await this[_0x4402fc(0x4cc)][_0x4402fc(0x5c3)][_0x405a4a[_0x4402fc(0x7d8)]][_0x4402fc(0x38c)]();}async[a0_0x341dd0(0x6fb)](_0x2a86fc){const _0x4fb36c=a0_0x341dd0;return await this[_0x4fb36c(0x4cc)][_0x4fb36c(0x5c3)][_0x2a86fc[_0x4fb36c(0x7d8)]][_0x4fb36c(0x6fb)]();}async[a0_0x341dd0(0x83b)](_0x55574a){const _0x4faf98=a0_0x341dd0;return await this['waMonitor'][_0x4faf98(0x5c3)][_0x55574a[_0x4faf98(0x7d8)]][_0x4faf98(0x83b)]();}async[a0_0x341dd0(0x350)](_0x375ba0,_0x350be8){const _0x33b2ba=a0_0x341dd0;return await this[_0x33b2ba(0x4cc)][_0x33b2ba(0x5c3)][_0x375ba0[_0x33b2ba(0x7d8)]]['updateAgent'](_0x350be8);}async['updateCustomFields'](_0x153961,_0x1cf0c1){const _0x568e75=a0_0x341dd0;return await this[_0x568e75(0x4cc)][_0x568e75(0x5c3)][_0x153961[_0x568e75(0x7d8)]][_0x568e75(0x73d)](_0x1cf0c1);}async[a0_0x341dd0(0x4f0)](_0x4fb126,_0xc4d1d7){const _0x4d3386=a0_0x341dd0;return await this[_0x4d3386(0x4cc)][_0x4d3386(0x5c3)][_0x4fb126['instanceName']][_0x4d3386(0x4f0)](_0xc4d1d7);}async[a0_0x341dd0(0x8c3)](_0x3e1a10,_0x25cbca){const _0x20a6f6=a0_0x341dd0;return await this['waMonitor'][_0x20a6f6(0x5c3)][_0x3e1a10[_0x20a6f6(0x7d8)]]['updateFlowConfig'](_0x25cbca);}async[a0_0x341dd0(0x1de)](_0xd8285a,_0x4299da){const _0x58fe30=a0_0x341dd0;return await this[_0x58fe30(0x4cc)][_0x58fe30(0x5c3)][_0xd8285a[_0x58fe30(0x7d8)]]['startFlow'](_0x4299da);}async[a0_0x341dd0(0x5cb)](_0x491d6f,_0x5599af,_0x51b87e,_0x39065c){const _0x34c395=a0_0x341dd0;return await this[_0x34c395(0x4cc)][_0x34c395(0x5c3)][_0x491d6f][_0x34c395(0x5cb)](_0x5599af,_0x51b87e,_0x39065c);}async[a0_0x341dd0(0x836)](_0x296f09,_0xf44a74){const _0x355c11=a0_0x341dd0;return await this[_0x355c11(0x4cc)][_0x355c11(0x5c3)][_0x296f09[_0x355c11(0x7d8)]]['getConversation'](_0xf44a74);}async[a0_0x341dd0(0x38a)](_0x305581,_0x31e0a5){const _0x14e04e=a0_0x341dd0;return await this[_0x14e04e(0x4cc)][_0x14e04e(0x5c3)][_0x305581[_0x14e04e(0x7d8)]][_0x14e04e(0x38a)](_0x31e0a5);}async['editConversation'](_0x76aea7,_0x10b52a){const _0x450bbb=a0_0x341dd0;return await this[_0x450bbb(0x4cc)][_0x450bbb(0x5c3)][_0x76aea7[_0x450bbb(0x7d8)]][_0x450bbb(0x678)](_0x10b52a);}async[a0_0x341dd0(0x65b)](_0xcda5aa,_0x549f85){const _0x10f8d6=a0_0x341dd0;return await this[_0x10f8d6(0x4cc)]['waInstances'][_0xcda5aa[_0x10f8d6(0x7d8)]]['deleteConversation'](_0x549f85);}async[a0_0x341dd0(0x3c5)](_0x115331,_0x187480){const _0x6a570f=a0_0x341dd0;return await this[_0x6a570f(0x4cc)][_0x6a570f(0x5c3)][_0x115331['instanceName']][_0x6a570f(0x3c5)](_0x187480['_id']);}async['createFlow'](_0x427ae6,_0x4653c0,_0x47f039){const _0x45da04=a0_0x341dd0;return await this['waMonitor'][_0x45da04(0x5c3)][_0x427ae6['instanceName']][_0x45da04(0x7cf)](_0x4653c0,_0x47f039);}async[a0_0x341dd0(0x34f)](_0x4ed146,_0x4a76fe,_0x4295e8){const _0x3f90a2=a0_0x341dd0;return await this['waMonitor'][_0x3f90a2(0x5c3)][_0x4ed146[_0x3f90a2(0x7d8)]][_0x3f90a2(0x34f)](_0x4a76fe,_0x4295e8);}async[a0_0x341dd0(0x870)](_0x11e3d4,_0x318802){const _0x266ec3=a0_0x341dd0;return await this[_0x266ec3(0x4cc)]['waInstances'][_0x11e3d4[_0x266ec3(0x7d8)]]['editFlowBlock'](_0x318802);}async['editFlowReply'](_0x5b5d0e,_0xb0dd24){const _0x39f77b=a0_0x341dd0;return await this[_0x39f77b(0x4cc)][_0x39f77b(0x5c3)][_0x5b5d0e[_0x39f77b(0x7d8)]][_0x39f77b(0x4b3)](_0xb0dd24);}async[a0_0x341dd0(0x4dc)](_0x1498c2,_0x1a2d67){const _0x9092c6=a0_0x341dd0;return await this['waMonitor'][_0x9092c6(0x5c3)][_0x1498c2[_0x9092c6(0x7d8)]][_0x9092c6(0x4dc)](_0x1a2d67);}async['editFlowCondition'](_0x4b52be,_0xbd7b1f){const _0x3cb4be=a0_0x341dd0;return await this[_0x3cb4be(0x4cc)][_0x3cb4be(0x5c3)][_0x4b52be['instanceName']]['editFlowCondition'](_0xbd7b1f);}async[a0_0x341dd0(0x610)](_0x30c5a8,_0x50ab3b){const _0x27dc4e=a0_0x341dd0;return await this['waMonitor'][_0x27dc4e(0x5c3)][_0x30c5a8['instanceName']]['editFlowVaredit'](_0x50ab3b);}async['editFlowVariable'](_0x427a7b,_0x46fc52){const _0x2e1bf7=a0_0x341dd0;return await this[_0x2e1bf7(0x4cc)]['waInstances'][_0x427a7b['instanceName']][_0x2e1bf7(0x64c)](_0x46fc52);}async[a0_0x341dd0(0x708)](_0x1b6bfc,_0x8a70e9){const _0x5435f0=a0_0x341dd0;return await this['waMonitor']['waInstances'][_0x1b6bfc['instanceName']][_0x5435f0(0x708)](_0x8a70e9);}async['allFlows'](_0x27cb97){const _0xb73502=a0_0x341dd0;return await this['waMonitor']['waInstances'][_0x27cb97[_0xb73502(0x7d8)]][_0xb73502(0x5b6)]();}},Zt=class{constructor(_0x5d1b69){const _0x27dea0=a0_0x341dd0;this[_0x27dea0(0x671)]=_0x5d1b69;}async[a0_0x341dd0(0x6b5)](_0x5c6413,_0x399cd1){const _0x1aeab5=a0_0x341dd0;return this[_0x1aeab5(0x671)][_0x1aeab5(0x377)](_0x5c6413,_0x399cd1);}async[a0_0x341dd0(0x48f)](_0x16ebd7){const _0x567329=a0_0x341dd0;return this[_0x567329(0x671)][_0x567329(0x232)](_0x16ebd7);}},es=class extends _{constructor(_0x58dad7,_0x428eea){const _0x308467=a0_0x341dd0;super(_0x428eea),this[_0x308467(0x876)]=_0x58dad7,this[_0x308467(0x403)]=_0x428eea;}async[a0_0x341dd0(0x377)](_0x5d8be9,_0x58effd){const _0x112614=a0_0x341dd0;try{return this[_0x112614(0x278)][_0x112614(0x225)]?{'insertCount':(await this['webhookModel'][_0x112614(0x5ee)]({'_id':_0x58effd},{..._0x5d8be9},{'upsert':!0x0}))[_0x112614(0x62b)]}:{'insertCount':0x1};}catch(_0x525ec8){return _0x525ec8;}}async['delete'](_0x3e8dff){const _0x219668=a0_0x341dd0;try{if(this[_0x219668(0x278)][_0x219668(0x225)]){await this[_0x219668(0x876)][_0x219668(0x669)]({'_id':_0x3e8dff});return;}}catch(_0x34fe1e){return{'error':_0x34fe1e};}}async[a0_0x341dd0(0x232)](_0x929dbc){const _0x2e62f6=a0_0x341dd0;try{if(this['dbSettings']['ENABLED'])return await this[_0x2e62f6(0x876)]['findOne']({'_id':_0x929dbc});}catch{return{};}}},ts=class extends _{constructor(_0x466e23,_0x2e55ce){const _0x167c30=a0_0x341dd0;super(_0x2e55ce),this['authModel']=_0x466e23,this['configService']=_0x2e55ce,this[_0x167c30(0x3d7)]=_0x2e55ce[_0x167c30(0x86a)]('AUTHENTICATION');}async['create'](_0x33d7cc,_0x501a80){const _0x44c8f5=a0_0x341dd0;try{if(this[_0x44c8f5(0x278)][_0x44c8f5(0x225)])return{'insertCount':(await this[_0x44c8f5(0x552)][_0x44c8f5(0x331)]({'_id':_0x501a80},{'$set':{..._0x33d7cc}},{'upsert':!0x0}))[_0x44c8f5(0x62b)]};}catch(_0x19a87b){return{'error':_0x19a87b};}}async['updateAll'](_0x5cb77a,_0x775b6){const _0x92a5f5=a0_0x341dd0;try{if(this[_0x92a5f5(0x278)][_0x92a5f5(0x225)])return{'insertCount':(await this['authModel'][_0x92a5f5(0x7fc)](_0x5cb77a,{'$set':_0x775b6},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x92a5f5(0x783));}catch(_0x30e46c){return{'error':_0x30e46c};}}async['deleteMany'](_0x2e1ce8){const _0x5c4f2c=a0_0x341dd0;try{if(this[_0x5c4f2c(0x278)][_0x5c4f2c(0x225)])return{'insertCount':(await this[_0x5c4f2c(0x552)]['deleteMany'](_0x2e1ce8))[_0x5c4f2c(0x302)]};throw new Error(_0x5c4f2c(0x29e));}catch(_0x18d7cb){return{'error':_0x18d7cb};}}async[a0_0x341dd0(0x854)](_0x1b2d4b){const _0x287536=a0_0x341dd0;try{if(this[_0x287536(0x278)]['ENABLED']){await this[_0x287536(0x552)][_0x287536(0x669)]({'_id':_0x1b2d4b});return;}}catch(_0x2b26ee){return{'error':_0x2b26ee};}}async[a0_0x341dd0(0x232)](_0x2e3d4e){const _0x3c3e7a=a0_0x341dd0;try{if(this['dbSettings'][_0x3c3e7a(0x225)])return await this[_0x3c3e7a(0x552)][_0x3c3e7a(0x2c7)]({'_id':_0x2e3d4e});}catch{return{};}}async[a0_0x341dd0(0x7ad)](){const _0x84324e=a0_0x341dd0;try{if(this[_0x84324e(0x278)][_0x84324e(0x225)])return await this[_0x84324e(0x552)][_0x84324e(0x232)]();}catch{return[];}}async[a0_0x341dd0(0x835)](_0x389dd2){const _0x2d36e1=a0_0x341dd0;try{if(this[_0x2d36e1(0x278)][_0x2d36e1(0x225)])return await this[_0x2d36e1(0x552)]['find'](_0x389dd2);}catch{return[];}}},ss=class extends _{async[a0_0x341dd0(0x669)](_0x273ccf){const _0x31039e=a0_0x341dd0;try{let _0x1cd617=I(_0x273ccf[_0x31039e(0x8fc)]);return{'deletedCount':(await Me['deleteOne'](_0x1cd617))[_0x31039e(0x302)]};}catch(_0x19b93a){return{'error':_0x19b93a?.[_0x31039e(0x5a5)]()};}}async[a0_0x341dd0(0x331)](_0x283b4c,_0xb795e0){const _0x2b02b9=a0_0x341dd0;try{let _0x1c60eb=await Me[_0x2b02b9(0x65a)](_0x283b4c);return _0x1c60eb?(Object[_0x2b02b9(0x606)](_0x1c60eb,_0xb795e0),await _0x1c60eb[_0x2b02b9(0x318)]()):(console[_0x2b02b9(0x4a8)](_0x2b02b9(0x561),_0x283b4c),null);}catch(_0xb2d5c8){return console[_0x2b02b9(0x4a8)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0xb2d5c8),null;}}async[a0_0x341dd0(0x399)](_0xac7245){const _0xf9dd90=a0_0x341dd0;try{return await new Me(_0xac7245)[_0xf9dd90(0x318)]();}catch(_0xf0167f){return console[_0xf9dd90(0x4a8)](_0xf9dd90(0x477),_0xf0167f),null;}}async['findAll'](_0x26b5c7){const _0x38ca30=a0_0x341dd0;try{let _0x5f23e7=_0x26b5c7['where']??{};return await Me['find'](_0x5f23e7)['limit'](_0x26b5c7[_0x38ca30(0x3f1)]??0x0)[_0x38ca30(0x6f1)]();}catch(_0x3a8ead){return console[_0x38ca30(0x4a8)](_0x38ca30(0x2fc),_0x3a8ead),[];}}async[a0_0x341dd0(0x2c7)](_0x23baff){const _0x2fe3c3=a0_0x341dd0;try{let _0x19f34a=I(_0x23baff[_0x2fe3c3(0x8fc)]);return await Me[_0x2fe3c3(0x2c7)](_0x19f34a)['lean']();}catch{return null;}}},as=class extends _{[a0_0x341dd0(0x396)](_0x522350){return ya(_0x522350);}async[a0_0x341dd0(0x24a)](_0x1182f9){const _0x553367=a0_0x341dd0;if(_0x1182f9[_0x553367(0x65e)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x1182f9[0x0][_0x553367(0x3f2)])['insertMany']([..._0x1182f9]))[_0x553367(0x65e)]};}catch(_0x1cdd6e){return _0x1cdd6e;}}async['delete'](_0x594c8e,_0x1e8f0c){const _0x166ff8=a0_0x341dd0;try{let _0x21ca16=this[_0x166ff8(0x396)](_0x1e8f0c),_0x2c8370=I(_0x594c8e[_0x166ff8(0x8fc)]);return{'deletedCount':(await _0x21ca16[_0x166ff8(0x3a7)](_0x2c8370))[_0x166ff8(0x302)]};}catch(_0x5f1c07){return{'error':_0x5f1c07?.[_0x166ff8(0x5a5)]()};}}async[a0_0x341dd0(0x669)](_0x3854ce,_0x54e878){const _0x4a6ab6=a0_0x341dd0;try{let _0xc4c6e8=this['getConversationModelForOwner'](_0x54e878),_0x3ecf0d=I(_0x3854ce['where']);return{'deletedCount':(await _0xc4c6e8[_0x4a6ab6(0x669)](_0x3ecf0d))[_0x4a6ab6(0x302)]};}catch(_0x3edc61){return{'error':_0x3edc61?.['toString']()};}}async['update'](_0x10698c,_0xf420d){const _0x403c6e=a0_0x341dd0;try{if(_0x10698c[_0x403c6e(0x65e)]===0x0)return;let _0x44c283=this[_0x403c6e(0x396)](_0xf420d),_0x5db154=_0x10698c[_0x403c6e(0x486)](_0x184e48=>({'updateOne':{'filter':{'name':_0x184e48[_0x403c6e(0x1fa)],'owner':_0xf420d},'update':{..._0x184e48}}})),{modifiedCount:_0x506ad1}=await _0x44c283[_0x403c6e(0x298)](_0x5db154);return{'insertCount':_0x506ad1};}catch{return;}}async[a0_0x341dd0(0x7fc)](_0x387967,_0x2de22b,_0x341304){const _0x13ea17=a0_0x341dd0;try{return{'modifiedCount':(await this[_0x13ea17(0x396)](_0x341304)[_0x13ea17(0x7fc)](_0x387967,{'$set':_0x2de22b})[_0x13ea17(0x75c)]())[_0x13ea17(0x62b)]};}catch(_0x122cf7){return console[_0x13ea17(0x4a8)](_0x13ea17(0x7db),_0x122cf7),{'error':_0x122cf7};}}async['updateOne'](_0x3b28ee,_0xe00cc,_0x10a08c){const _0x408f51=a0_0x341dd0;try{return await this[_0x408f51(0x396)](_0x10a08c)[_0x408f51(0x889)]({'_id':_0x3b28ee},{'$set':_0xe00cc},{'new':!0x0,'upsert':!0x0})[_0x408f51(0x6f1)]();}catch(_0x34f21a){return console[_0x408f51(0x4a8)](_0x34f21a),null;}}async[a0_0x341dd0(0x232)](_0x2e94c1,_0x1b0160){const _0x21807a=a0_0x341dd0;try{return await this[_0x21807a(0x396)](_0x1b0160)[_0x21807a(0x232)](_0x2e94c1)[_0x21807a(0x739)]({'lastInteraction':-0x1})[_0x21807a(0x6f1)]();}catch{return[];}}async[a0_0x341dd0(0x2c7)](_0x168002,_0x3e5e6a){const _0xc53d37=a0_0x341dd0;try{return await this[_0xc53d37(0x396)](_0x3e5e6a)[_0xc53d37(0x2c7)]({..._0x168002[_0xc53d37(0x8fc)]})[_0xc53d37(0x6f1)]();}catch{return null;}}async[a0_0x341dd0(0x78b)](_0x14c059){const _0x165d4d=a0_0x341dd0;try{return await this[_0x165d4d(0x396)](_0x14c059)[_0x165d4d(0x756)][_0x165d4d(0x63b)](),{'success':!0x0};}catch(_0x4e684c){return console[_0x165d4d(0x4a8)](_0x4e684c),{'success':!0x1,'error':_0x4e684c};}}},is=class extends _{[a0_0x341dd0(0x560)](_0x4bf32d){return ba(_0x4bf32d);}async['bulkWrite'](_0x10a87b,_0x73cfb6){const _0x399f4d=a0_0x341dd0;try{return await this[_0x399f4d(0x560)](_0x73cfb6)[_0x399f4d(0x298)](_0x10a87b);}catch(_0x60d8c1){return console[_0x399f4d(0x4a8)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x60d8c1),null;}}async[a0_0x341dd0(0x399)](_0x33e882,_0x12b463){const _0xa0d055=a0_0x341dd0;try{let _0x30510b=this[_0xa0d055(0x560)](_0x12b463);return await new _0x30510b(_0x33e882)[_0xa0d055(0x318)]();}catch(_0x2483bd){return console[_0xa0d055(0x4a8)](_0xa0d055(0x5ea),_0x2483bd),null;}}async[a0_0x341dd0(0x669)](_0x5af62c,_0x55e0fe){const _0x4b8fb5=a0_0x341dd0;try{return await this[_0x4b8fb5(0x560)](_0x55e0fe)[_0x4b8fb5(0x1e0)](_0x5af62c),{};}catch(_0x1af19e){return{'error':_0x1af19e?.['toString']()};}}async[a0_0x341dd0(0x331)](_0x2b6c8d,_0x258240,_0x375ddd,_0x34669e={}){const _0x43666a=a0_0x341dd0;try{return await this[_0x43666a(0x560)](_0x375ddd)[_0x43666a(0x889)](_0x2b6c8d,_0x258240,{..._0x34669e,'new':!0x0})['lean']();}catch(_0x2da06f){return console[_0x43666a(0x4a8)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x2da06f),null;}}async[a0_0x341dd0(0x801)](_0x33561c,_0x1e1cb8,_0x2f1f23){const _0x174e24=a0_0x341dd0;try{return await this[_0x174e24(0x560)](_0x2f1f23)['findByIdAndUpdate'](_0x33561c,_0x1e1cb8,{'new':!0x0})[_0x174e24(0x6f1)]();}catch(_0x73e5f6){return console[_0x174e24(0x4a8)](_0x174e24(0x1f7),_0x73e5f6),null;}}async[a0_0x341dd0(0x232)](_0x1d492d,_0x30fb05){const _0x48bc44=a0_0x341dd0;try{return await this[_0x48bc44(0x560)](_0x30fb05)[_0x48bc44(0x232)](_0x1d492d[_0x48bc44(0x8fc)])['limit'](_0x1d492d?.[_0x48bc44(0x3f1)]??0x0)['sort']({'when':0x1})[_0x48bc44(0x6f1)]();}catch{return[];}}async[a0_0x341dd0(0x2c7)](_0x247dcd,_0x4f654e){const _0x8f215d=a0_0x341dd0;try{return await this['getScheduleMessageModelForOwner'](_0x4f654e)[_0x8f215d(0x2c7)](_0x247dcd[_0x8f215d(0x8fc)])[_0x8f215d(0x739)]({'when':0x1})[_0x8f215d(0x6f1)]();}catch{return null;}}async[a0_0x341dd0(0x65a)](_0x47ef6b,_0x1d694d){const _0x2c4388=a0_0x341dd0;try{return await this[_0x2c4388(0x560)](_0x1d694d)['findById'](_0x47ef6b)['lean']();}catch{return null;}}async[a0_0x341dd0(0x3a7)](_0x2e2de7,_0x3fb959){const _0x312d2b=a0_0x341dd0;try{return{'deletedCount':(await this[_0x312d2b(0x560)](_0x3fb959)[_0x312d2b(0x3a7)](_0x2e2de7))[_0x312d2b(0x302)]};}catch(_0x2f5a50){return console[_0x312d2b(0x4a8)](_0x312d2b(0x2c1),_0x2f5a50),{'error':_0x2f5a50};}}async[a0_0x341dd0(0x78b)](_0x1318c5){const _0x5a3d8a=a0_0x341dd0;try{return await this[_0x5a3d8a(0x560)](_0x1318c5)[_0x5a3d8a(0x756)][_0x5a3d8a(0x63b)](),{'success':!0x0};}catch(_0x3ec288){return console['error'](_0x3ec288),{'success':!0x1,'error':_0x3ec288};}}},os=class extends _{async[a0_0x341dd0(0x85c)](_0x2badd0,_0x42f5ad){const _0x7b8af8=a0_0x341dd0;try{if(this[_0x7b8af8(0x278)][_0x7b8af8(0x225)])return await Ie[_0x7b8af8(0x889)]({'_id':_0x42f5ad},{'$set':_0x2badd0},{'new':!0x0});}catch(_0x421155){throw console[_0x7b8af8(0x4a8)](_0x7b8af8(0x1b1),_0x421155),_0x421155;}}async['findOrCreate'](_0x333190){const _0xe9d286=a0_0x341dd0;try{let _0x302f14=await Ie[_0xe9d286(0x65a)](_0x333190);return _0x302f14?_0x302f14[_0xe9d286(0x463)]||(_0x302f14[_0xe9d286(0x463)]=[],await _0x302f14[_0xe9d286(0x318)]()):(_0x302f14=new Ie({'_id':_0x333190,'autoCompleteMessages':[]}),await _0x302f14[_0xe9d286(0x318)]()),_0x302f14;}catch(_0x12bf0c){return _0x12bf0c[_0xe9d286(0x6d3)]===0x2af8&&_0x12bf0c[_0xe9d286(0x2b1)]&&_0x12bf0c[_0xe9d286(0x2b1)][_0xe9d286(0x705)]?(console['error'](_0xe9d286(0x5cd)),await Ie[_0xe9d286(0x756)][_0xe9d286(0x2cc)](_0xe9d286(0x243)),null):(console['error'](_0xe9d286(0x55a),_0x12bf0c),null);}}},Fo=new $(a0_0x341dd0(0x66b)),Uo=new Ke(S),jo=new qt(S),Jo=new rt(S),qo=new Vt(aa,S),Vo=new es(da,S),Go=new ts(ca,S),Bo=new ve(Be,S),Wo=new ss(S),zo=new Gt(S),Ho=new as(S),Ko=new is(S),Qo=new os(S),me=new ze(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,R?.[a0_0x341dd0(0x2da)]()),G=new Jt(hs,S,me),Yo=new Kt(S,G,me),Xo=new Yt(G),$s=new Zt(Xo),O=new Xt(G),ue=new zt(G,S,me,hs,Yo),B=new Ht(G),P=new Bt(G),q=new Qt(G);Fo[a0_0x341dd0(0x2d3)]('Module\x20-\x20ON');var rg=require('express-async-errors'),Fs=require('fs'),Di=A(require(a0_0x341dd0(0x7c2))),Pi=A(require('http')),Ue=class u{static #e;static set[a0_0x341dd0(0x8e6)](_0x36c4f8){this.#e=_0x36c4f8;}static get[a0_0x341dd0(0x7c2)](){const _0x1b10bf=a0_0x341dd0;let {FULLCHAIN:_0x3297e1,PRIVKEY:_0x3b1b43}=S[_0x1b10bf(0x86a)](_0x1b10bf(0x321));return Di[_0x1b10bf(0x799)]({'cert':(0x0,Fs[_0x1b10bf(0x233)])(_0x3297e1),'key':(0x0,Fs[_0x1b10bf(0x233)])(_0x3b1b43)},u.#e);}static get[a0_0x341dd0(0x52e)](){const _0x163ce8=a0_0x341dd0;return Pi[_0x163ce8(0x799)](u.#e);}},je=A(require('fs')),Ji=A(require(a0_0x341dd0(0x3bc))),Je=A(require('axios')),ns=A(require(a0_0x341dd0(0x85b))),rs=require(a0_0x341dd0(0x758));function Zo(){const _0x34d276=a0_0x341dd0;G[_0x34d276(0x4d4)]();let _0x50586f=ns['default'][_0x34d276(0x421)](__dirname,_0x34d276(0x63f));ji(_0x50586f);}var ji=_0x4d31e9=>{const _0x19afb1=a0_0x341dd0;let _0x2c1cb6=je[_0x19afb1(0x4ea)][_0x19afb1(0x7ef)](_0x4d31e9),_0x23f0fd=0xc*0x3c*0x3c*0x3e8,_0x50c89b=0x2*0x3c*0x3c*0x3e8,_0x571d40=new Date()['getTime']();_0x2c1cb6[_0x19afb1(0x8b4)](_0x3f7237=>{const _0x440ef4=_0x19afb1;let _0x1d6a69=ns[_0x440ef4(0x4ea)][_0x440ef4(0x421)](_0x4d31e9,_0x3f7237),_0x522ebe=je[_0x440ef4(0x4ea)]['statSync'](_0x1d6a69)[_0x440ef4(0x85a)]['getTime']();_0x571d40-_0x522ebe>_0x23f0fd&&(je[_0x440ef4(0x4ea)][_0x440ef4(0x677)](_0x1d6a69),console[_0x440ef4(0x3c3)](_0x440ef4(0x532)+_0x3f7237));}),setTimeout(()=>ji(_0x4d31e9),_0x50c89b);};function er(){const _0x4f422c=a0_0x341dd0;let _0x4be239=new $(_0x4f422c(0x847)),_0x220a61=(0x0,we[_0x4f422c(0x4ea)])();_0x220a61[_0x4f422c(0x56f)]((0x0,Ui[_0x4f422c(0x4ea)])({'origin'(_0x5aad43,_0x36b373){const _0x3927a6=_0x4f422c;let {ORIGIN:_0x5f31d3}=S['get']('CORS');return _0x5aad43||(_0x5aad43='*'),_0x5f31d3[_0x3927a6(0x576)]('*')!==-0x1||_0x5f31d3['indexOf'](_0x5aad43)!==-0x1?_0x36b373(null,!0x0):_0x36b373(new Error(_0x3927a6(0x70d)));},'methods':[...S[_0x4f422c(0x86a)]('CORS')[_0x4f422c(0x6f6)]],'credentials':S['get'](_0x4f422c(0x64b))[_0x4f422c(0x789)]}),(0x0,we[_0x4f422c(0x6d8)])({'extended':!0x0,'limit':_0x4f422c(0x1d0)}),(0x0,we['json'])({'limit':_0x4f422c(0x1d0)})),_0x220a61['use']((_0x1b5c2c,_0x1bf577,_0x70b324)=>{const _0x21167f=_0x4f422c;_0x1b5c2c[_0x21167f(0x85b)][_0x21167f(0x7ea)](_0x21167f(0x277))?_0x70b324():(0x0,Fi[_0x21167f(0x4ea)])()(_0x1b5c2c,_0x1bf577,_0x70b324);}),_0x220a61[_0x4f422c(0x2c9)](_0x4f422c(0x502),_0x4f422c(0x87c)),_0x220a61[_0x4f422c(0x2c9)](_0x4f422c(0x304),(0x0,js['join'])(ne,_0x4f422c(0x304))),_0x220a61[_0x4f422c(0x56f)](we['default'][_0x4f422c(0x1ce)]((0x0,js['join'])(ne,_0x4f422c(0x77f)))),_0x220a61['use']((_0x577628,_0x13ae89,_0x10321b)=>{const _0x43be07=_0x4f422c;let _0x2da0f3=_0x13ae89['send'];_0x13ae89[_0x43be07(0x473)]=function(_0x57c2cc){const _0x665561=_0x43be07;if(_0x577628[_0x665561(0x62e)][_0x665561(0x709)]==='true'||_0x577628['headers'][_0x665561(0x3e3)]==='true'){let _0x1ce9da=JSON[_0x665561(0x785)](_0x57c2cc);_0x57c2cc=JSON[_0x665561(0x3c8)](_0x2ad3da(_0x1ce9da));}return _0x2da0f3[_0x665561(0x625)](_0x13ae89,[_0x57c2cc]);},_0x10321b();}),_0x220a61[_0x4f422c(0x56f)]('/',ke),_0x220a61[_0x4f422c(0x56f)]((_0x2301ad,_0x1a65cc,_0x2ac21f,_0x2bd62a)=>{const _0x2f1165=_0x4f422c;if(_0x2301ad)return _0x2ac21f[_0x2f1165(0x826)](_0x2301ad['status']||0x1f4)['json'](_0x2301ad);},(_0x406aef,_0x31f587,_0x4725cb)=>{const _0x2144f6=_0x4f422c;let {method:_0x56d7a9,url:_0x3213fa}=_0x406aef;_0x31f587[_0x2144f6(0x826)](0x194)['json']({'status':0x194,'message':'Cannot\x20'+_0x56d7a9['toUpperCase']()+'\x20'+_0x3213fa,'error':_0x2144f6(0x8bb)}),_0x4725cb();});let _0x2ad3da=(_0x5219ad,_0x58693e=_0x4f422c(0x3a6))=>{const _0x44c371=_0x4f422c;let _0x3013eb=(_0x3a9a74,_0x26d5c9=null,_0x1fe89d=!0x1)=>{const _0x1189b4=a0_0x5184;let _0x22bf7a={};return Object[_0x1189b4(0x866)](_0x3a9a74)[_0x1189b4(0x8b4)](_0xe702bb=>{const _0x35a6fb=_0x1189b4;let _0x469fa8=_0x3a9a74[_0xe702bb],_0x1ae8d8=''+_0x58693e+_0xe702bb;_0x26d5c9&&!_0x1fe89d&&(_0x1ae8d8=_0x26d5c9+'.'+_0xe702bb),!_0x469fa8&&_0x469fa8!==0x0&&_0x469fa8!==!0x1||typeof _0x469fa8>'u'?_0x22bf7a[_0x1ae8d8]=null:typeof _0x469fa8!=_0x35a6fb(0x8d7)&&!Array[_0x35a6fb(0x1b5)](_0x469fa8)?_0x22bf7a[_0x1ae8d8]=_0x469fa8:typeof _0x469fa8=='object'&&!Array[_0x35a6fb(0x1b5)](_0x469fa8)?_0x22bf7a=Object['assign'](_0x22bf7a,_0x3013eb(_0x469fa8,_0x1ae8d8)):Array[_0x35a6fb(0x1b5)](_0x469fa8)&&(typeof _0x469fa8[0x0]==_0x35a6fb(0x8d7)?(_0x22bf7a[_0x1ae8d8]=[],_0x469fa8[_0x35a6fb(0x8b4)](_0x44d209=>{_0x22bf7a[_0x1ae8d8]['push'](_0x3013eb(_0x44d209,_0x1ae8d8,!0x0));})):_0x22bf7a[_0x1ae8d8]=_0x469fa8);}),_0x22bf7a;};return Array[_0x44c371(0x1b5)](_0x5219ad)?_0x5219ad[_0x44c371(0x486)](_0x530599=>_0x3013eb(_0x530599)):typeof _0x5219ad==_0x44c371(0x8d7)&&_0x5219ad!==null?_0x3013eb(_0x5219ad):{};},_0x24b4cc=S[_0x4f422c(0x86a)](_0x4f422c(0x847));Ue[_0x4f422c(0x8e6)]=_0x220a61;let _0x12d901=Ue[_0x24b4cc[_0x4f422c(0x6eb)]],_0x4481e4=_0x4f422c(0x3fe);_0x12d901[_0x4f422c(0x379)](_0x24b4cc[_0x4f422c(0x4c4)],()=>{const _0x1774e9=_0x4f422c;_0x4be239[_0x1774e9(0x3c3)](_0x4481e4),_0x4be239[_0x1774e9(0x3c3)](_0x24b4cc[_0x1774e9(0x6eb)][_0x1774e9(0x7e6)]()+'\x20-\x20ON:\x20'+_0x24b4cc['PORT']);}),Zo(),Ys();}var tr=a0_0x341dd0(0x2ed),sr=ns[a0_0x341dd0(0x4ea)]['join'](__dirname,a0_0x341dd0(0x3d2)),Re=null;function ar(){return new Promise((_0x2f4241,_0x362d49)=>{const _0xdd7beb=a0_0x5184;je[_0xdd7beb(0x4ea)][_0xdd7beb(0x311)](sr,_0xdd7beb(0x8de),(_0x30b0f4,_0x488cf3)=>{const _0x5541ef=_0xdd7beb;if(_0x30b0f4){Re=_0x30b0f4,_0x2f4241();return;}Ji[_0x5541ef(0x4ea)]['parse'](_0x488cf3)[_0x5541ef(0x6c5)][_0x5541ef(0x8df)]===tr?(Re=null,_0x2f4241()):(Re=new Error(_0x5541ef(0x8c5)),_0x2f4241());});});}async function ir(){const _0x487033=a0_0x341dd0;try{await ar(),await Js();}catch(_0x43e601){console[_0x487033(0x4a8)](_0x487033(0x5d3)+_0x43e601),process[_0x487033(0x577)](0x1);}}ir();async function qi(){const _0x2df29e=a0_0x341dd0;let _0x3155d7;try{_0x3155d7=(await Je[_0x2df29e(0x4ea)][_0x2df29e(0x86a)](_0x2df29e(0x71a)))[_0x2df29e(0x210)]['ip'];}catch(_0x330590){console[_0x2df29e(0x4a8)](_0x330590);try{_0x3155d7=(await Je[_0x2df29e(0x4ea)]['get'](_0x2df29e(0x726)))['data']['ip'];}catch(_0x1eeb1f){console[_0x2df29e(0x4a8)](_0x1eeb1f);try{_0x3155d7=(await Je[_0x2df29e(0x4ea)]['get'](_0x2df29e(0x7d2)))['data'][_0x2df29e(0x61a)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1dccb9){return console['error'](_0x1dccb9),!0x1;}}}return _0x3155d7;}var ki=0x0;async function or(){const _0x605988=a0_0x341dd0;let _0x513b8d=await new de(S[_0x605988(0x86a)](_0x605988(0x76c)))[_0x605988(0x49e)]();return console[_0x605988(0x3c3)](_0x605988(0x46a),_0x513b8d[_0x605988(0x65e)]),_0x513b8d['length'];}function rr(_0x4732bc){const _0x33c189=a0_0x341dd0;let _0x23426c=_0x4732bc[_0x33c189(0x86a)](_0x33c189(0x847))['URL'],_0x3e4f4c=_0x4732bc[_0x33c189(0x86a)](_0x33c189(0x321));console['log'](_0x33c189(0x60f),_0x23426c),console[_0x33c189(0x3c3)](_0x33c189(0x69a),_0x3e4f4c);let _0x2ca5ba='',_0x2ba6ef=_0x23426c||'';if(_0x23426c){let _0x5ad5f0=_0x23426c['match'](/\/\/(.*?)\./);console[_0x33c189(0x3c3)](_0x33c189(0x7eb),_0x5ad5f0),_0x5ad5f0&&_0x5ad5f0[0x1]&&(_0x2ca5ba=_0x5ad5f0[0x1],console[_0x33c189(0x3c3)](_0x33c189(0x405),_0x2ca5ba));}if(!_0x2ca5ba&&_0x3e4f4c&&_0x3e4f4c['FULLCHAIN']){let _0x1566a4=_0x3e4f4c[_0x33c189(0x3ce)]['split']('/');console[_0x33c189(0x3c3)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x1566a4);let _0x126d02=_0x1566a4[_0x1566a4['length']-0x2];if(console[_0x33c189(0x3c3)](_0x33c189(0x74a),_0x126d02),_0x126d02){let _0x4e2d28=_0x126d02[_0x33c189(0x518)]('.');console[_0x33c189(0x3c3)](_0x33c189(0x865),_0x4e2d28),_0x4e2d28[_0x33c189(0x65e)]>0x2&&(_0x2ca5ba=_0x4e2d28[0x0],console['log'](_0x33c189(0x471),_0x2ca5ba),_0x2ba6ef=''+_0x126d02);}}return{'subdomain':_0x2ca5ba||'Subdomínio\x20não\x20encontrado','fullURL':_0x2ba6ef||'URL\x20não\x20disponível'};}function a0_0x3ea5(){const _0x5c36d2=['connectToWhatsapp','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','dbConnection','SendScheduleMessage','addMessagesToGroup','updateMissingTags','CONNECTION','keep-alive','messages.upsert','replaceVariablesChat','moreLogs','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','role','\x20inseridas\x20no\x20banco\x20de\x20dados...','Erro\x20ao\x20importar\x20chats','cleanDisconnectedInstances','basename','logout','updatePrivacySettings','getProfileName','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','delaySecMax','groupUpdateSubject','fetchChats','#01d0e2','/events/:instance','Validate','axios','fetchMessages','senderKeyDistributionMessage','requestFile','\x1b[33m\x1b[1m','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20Ler\x20mensagem','console','getAllData','):Image\x20created','\x1b[34m','chat','forEach','uazapiSendLocation','API_KEY','dayjs','):\x20sender\x20=\x20number:\x20','):\x20updateResult:','isJidGroup','Not\x20Found','write','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','WARN','verify','then','CONTACTS_UPDATE','#6f7bcf','updateFlowConfig','isURL','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','reorderBlocks','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','readMessages','locationMessage','replaceVariablesLogs','archived','authorization','descId','/instance','messageStubParameters','/instance/connect','notify','HOST','@whiskeysockets/baileys','editflowvaredit','MESSAGES_SET','groupdata','object','getBusinessProfile','request_time','findGroupsEspecial','dataValidate','bateu\x20events','groupSettingUpdate','utf-8','url','):\x20Current\x20Time:\x20','apirequest','CORS_CREDENTIALS','):\x20Enviando\x20mídia','8080','deleteMessage','app','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','pollOnReplyDelete','Erro\x20ao\x20alterar\x20fluxo','scheduleSendText','imagechat','unreadcount','):\x20lastBlockId:\x20','dbServer','request\x20received\x20in\x20getFlow','Instância:\x20','restartInstance','/media','archiveChat','DATABASE_CONNECTION_URI','MESSAGES_UPSERT','count','splice','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','1912856VedMkM','Request\x20Body:','?authSource=admin&readPreference=primary&directConnection=true','where','messageTimestamp','composing','warn','envYaml','detectIPv6PrefixAndInterface','title','DATABASE_CONNECTION_USER','connectionState','\x1b[34m%s\x1b[0m','trimmed','Erro\x20ao\x20atualizar\x20AutomateSystem:','):\x20Enviando\x20mensagem\x20para\x20','video-cover.png','Erro\x20ao\x20iniciar\x20o\x20fluxo.','isArray','https://uazapi-plugin.bubbleapps.io/?url=','Comando\x20desconhecido','menuExpiredMessage','):\x20Buscando\x20flow,\x20id:\x20','toBRL','readData','username','randomBytes','?timestamp=','announce','audio/ogg','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','prepareWAMessageMedia','CHATS_UPDATE','client','messageSecret','toLowerCase','cors','chats.delete','):\x20Conversa\x20está\x20expirada\x20-\x20voto','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','\x20}\x0a','connectToWhatsappController','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','static','\x20foi\x20interrompido\x20pelo\x20usuário.','50mb','\x27...','unreadCount','notas','goNextblock','removeIPv6ById','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','This\x20name\x20','):Hash\x20to\x20image\x20name:\x20','):\x20Enviando\x20localização','min','DELETED','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Mensagem\x20não\x20suportada','startFlow','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','findByIdAndDelete','pushName','unavailable','notEmpty','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','goToFlow','.webp','_Labels','processingGroup','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','oldToken','onWhatsApp','array','ephemeralDuration','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','leadInfo.desativadoFluxoAte','Erro\x20ao\x20atualizar\x20agendamento\x20','useMultiFileAuthState','formatVCard','font','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','toArray','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','saveTextReply','name','routerPath','type','imported','CONNECTION_UPDATE','findAndReplace','.type','statusCode','getLastMessage','true','editedMessage','method','generateRandomIPv6','bearer','AUTHENTICATION_JWT_EXPIRIN_IN','groupJid','joinGroupValidate','hex','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','\x1b[31m','now','findGroupInfo','data','getContentType','post','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','groupJoinApprovalMode','getHours','selectedOptions','checkAndRestartProcess','stdout','prototype','false','.ogv','labels.association','#9ba6ff','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','/wa-message-update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','SUCCESS','Pausado\x20por\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','ENABLED','env.KEY\x20!==\x20key','instanceInfo','groupUpdateDescription','\x1b[37m%s\x1b[0m','Flow\x20\x27','INFO','repeat','realVariables','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','#d3a91f','updateMissingEtiquetas','\x1b[40m','find','readFileSync','pino','updateGroupParticipantsWebhook','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','binary','File\x20written\x20to\x20path:\x20','sem\x20texto\x20na\x20mensagem','listResponseMessage','Connection','$dbName','includes','SERVER_PORT','):\x20Enviando\x20áudio','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','autoCompleteMessages.command_1','):\x20[messages.upsert]\x20group\x20ignored','updateMediaMessage','arraybuffer','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20',',\x20Segundo\x20Valor:\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','insert','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','value','__esModule','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','sendContact','https://api.openai.com/v1/audio/speech','Usando\x20IP\x20existente:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','messageId','\x22\x20-\x20NOT\x20CONNECTION','Erro\x20ao\x20buscar\x20o\x20fluxo','\x20minutos\x20verificará\x20novas\x20mensagens','isRunning','truncatedtoEnd','URI','myAppStateKeyId','charAt','):\x20Enviando\x20texto','getPrototypeOf','replaceVariables','none','removeIPv6','):\x20Procurando\x20conversa','waitingMenu_replyOptions','findRealGroups','store','DOCKER_ENV','saveMediaToFile','atendimentoAberto','$addToSet','244887ZTsLoI','jsonschema','width','GET','privacySettings','logger','color','inviteCode','):\x20mediaMessageInfoId\x20:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','):Processing\x20audio','setWebhook','processReadyMessages','):\x20whoCanUse\x20after\x20validation:\x20','/events','dbSettings','convertedOptions','\x20não\x20encontrado','scheduleFlow','groupAcceptInvite','waitingForReplyMenu','content','order','isCommunityAnnounce','/wa-all-message','agents','Selecione','isBusiness','cacheInstanceModel','instance','getVariablesChat','groups.update','):Archiving\x20chat','):Image\x20is\x20url','ObjectId','isConnected','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','instance.','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','round','instances','):Temp\x20image\x20deleted','sha256','$set','Variáveis\x20não\x20encontradas:','3EB0','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','bulkWrite','findGroupInfos','markMessageAsRead','):\x20Bloco\x20copiado:\x20','sticker','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','[AUTH]\x20Database\x20is\x20not\x20enabled','sendButtons','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Erro\x20ao\x20tentar\x20autoCompleteMessages','status@broadcast','startID','editChat','createHash','URL:','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','wuid','Número\x20não\x20possui\x20WhatsApp.','conversation','blockLogs','deviceSentMessage','label_jid','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','groupRequestParticipantsUpdate','groupName','keyPattern','https://','verifyWhatsAppNumber','ids','redis','Type\x20is\x20required','/group','apikey','createConversationforgoToFlow','):\x20tem\x20blocks','/wa-groups','scheduleSendMedia','.fileUrl','MessageModel','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Bad\x20Request','Erro\x20ao\x20deletar\x20mensagens:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',',\x20valor\x20passado:\x20\x22','DATABASE','addresss','.pptx','findOne','next_groupId','set','imgUrl','/automate','dropIndex','\x1b[36m','function','REDIS_ENABLED','\x20ao\x20chat\x20','setRestartTimeout','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','info','.svg','optionDescription','authService','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Internal\x20Server\x20Error','AutomateSystem','getClient','458055SDuCjU','^\x5cd+','Primeiro\x20Valor:\x20','catch','pollCreationMessageKey','env','fromMe','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','):\x20Enviando\x20contato','):\x20\x27Enviando\x20texto\x20para\x20\x27','):\x20Removendo\x20\x27','docker','action','):Trying\x20to\x20get\x20business\x20profile','LabelModel','cachedContact','PASSWORD','):\x20Fluxo\x20\x27','https://github.com/uazapi/uazapi.git','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','findGroup','g.us','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','some','Forbidden','call','CONTACTS_SET','All_Instances_Config','.extension','add','joinGroup','):\x20Limpando\x20AutomateSystem','replyOption','Erro\x20ao\x20buscar\x20fluxos:','EMAIL','stack','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','writeData','94386nBdvTd','deletedCount','networkInterface','views','_pushName','):\x20customFieldVariables','Erro\x20de\x20atualização:\x20','resetReconnectionVariables','/wa-chats','buttons','Erro\x20ao\x20editar\x20a\x20conversa','\x1b[1m\x1b[37m','removeProfilePicture','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','leaveGroup','waitingMenu_text','readFile','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','selectableCount','testIPv6','):\x20Going\x20to\x20','\x20:\x20','util','save','firstValue','proto','bodyString','Erro\x20ao\x20buscar\x20conversas','):\x20Entrou\x20na\x20função\x20stop','poll','Erro\x20ao\x20atualizar\x20conversa:\x20','DD/MM\x20HH:mm:ss','SSL_CONF','Group\x20not\x20found','presenceSubscribe','hasOwnProperty','DEBUG','contains','processConditionsTest','global','g-t','BEGIN:VCARD\x0aVERSION:3.0\x0aN:',',\x20saindo.','mongodb://','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','sleep','findAndReplaceRegex','profile','updateOne','request\x20received\x20in\x20createFlow','Erro\x20ao\x20deletar\x20chat:','group-participants.update','not\x20loaded','groupLeave','mediatype','lastInteraction','reorderMessages','\x1b[42m','isLong','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','audioWhatsapp','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','label','audioMessage','groupGetInviteInfo','request\x20received\x20in\x20deleteConversation','demote','findGroups','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','quoted','string','request\x20received\x20in\x20editFlowvariable','\x22reaction\x22\x20must\x20be\x20an\x20emoji','IPv6\x20Prefix\x20detected:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','licenca','jsonwebtoken','editFlow','updateAgent','scheduled','sendMedia','scheduleSendAudio','close','OrAnd','ip6eui','):\x20[messages.update]\x20group\x20ignored',',\x20Minutes\x20to\x20Close:\x20','requestPairingCode','retrySendMessage','chats.update','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','/config','*Pergunta*:\x20\x0a','):\x20Label\x20','Detalhes\x20do\x20erro:','integer','delAll','The\x20instance\x20needs\x20to\x20be\x20disconnected','toDataURL','admin_add','base64','mongodb','updateGroupPicture','stopMinutesMaxActives','Erro\x20na\x20função\x20updateChatWithMessage:\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','temp-','creds.json','instanceName\x20not\x20provided.','\x5c$&','cacheInstanceRepository','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','fone','editScheduleMessage','chats','AppStateSyncKeyData','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','create','profilePictureUrl','listen','updateMessage','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','pollCreationMessageV3','canSendMessage','updateGroupWebhook','shift','):\x20Bloco\x20com\x20ID\x20','updateProfileName','):\x20Deletando\x20conversa...','Db\x20Connection','updateReadReceiptsPrivacy','user','getMessageModelForOwner','cachedData-whatsapp','reaction','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','fetchConversation','extractPhoneNumber','getScheduleMessage','globalShow','):\x20enviado\x20para\x20[','/64\x20dev\x20',',\x20isAdmin:\x20','deleted','#64c4ff','createSectionsFromValues','load','importChats','getConversationModelForOwner','PROXY','Sistema\x20atualizado\x20com\x20sucesso!','createAndSave','writeFile','timeInMinutes','groupBetterSetting','PLAYED','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','release','ipv6Prefix','sign','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Instance\x20logged\x20out','Fluxo\x20agendado\x20pelo\x20fluxo\x20','ERROR','_p_','deleteMany','Falha\x20ao\x20processar\x20fetchBusinessProfile','organization','inviteCodeDetails','):Business\x20profile\x20fetched','Network\x20interfaces\x20detected:\x20','PRESENCE_UPDATE','config','pollCreationMessageV2','findIndex','Stack\x20trace:','prepareMediaMessage','sectionsToString','isValidAndUniqueIPv6','GUARD','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Limpando\x20delayMessage','262080USxDId','data:\x20','Fluxo\x20não\x20encontrado\x20na\x20memória.','\x1b[30m','ini','whatsappNumber','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','/instance/connectionState','ScheduleMessage','STORE_MESSAGE','Safari','log','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','getFlow','#ffc5c7','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','stringify','application/octet-stream','9205xPzBHt','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','restart','allContacts','FULLCHAIN','pendingMessages','floor','insertMany','./.git/config','expression','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','--------------------------------------','Instance\x20Name:','auth','groupRevokeInvite','AUTHENTICATION_TYPE','connectionClosed','connectionUpdate','):\x20newSecondValue\x20após\x20replaceVariables:','beforeExit','cache','):\x20Conversa\x20inserida\x20com\x20sucesso.','editflowgroup','Mensagens\x20deletadas\x20com\x20sucesso.','fetchBusinessProfile','uazapi','boolean','\x22,\x20valor\x20a\x20substituir:\x20\x22','\x1b[0m','):\x20Enviando\x20enquete','qrCode','src','connectionStatus','validate','findParticipants','contacts','\x20\x1b[0m','all','ignoreGroups','limit','owner','PREFIX_KEY','context','):\x20Flow\x20\x27','connecting','processPollUpdateMessage','):Type\x20defined\x20as\x20audio','findConversation','editflowcondition','stickerMessage','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','ephemeralExpiration','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','Tentando\x20reconectar...','Início','sendDataWebhook','groupHandler','configService','getUniqueFlowName','Subdomínio\x20extraído\x20da\x20URL:','request\x20received\x20in\x20deleteDoneMessages','fullName','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','processclearVariables','success','urlOrBase64','nome','\x20segundos\x20antes\x20de\x20reconectar...','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','secondValue','waUploadToServer','setting','leadInfo.atendimentoAberto','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','flow','interval\x20não\x20é\x20um\x20número','isInteger','readreceipts','flowStopMinutes','videoMessage','DATABASE_CONNECTION_DB_PREFIX_NAME','joinApprovalMode','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','E-mail:\x20','):\x20Criando\x20fluxo...','SECRET','Falha\x20ao\x20processar\x20a\x20solicitação','join','DB_PREFIX_NAME','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','/exit','sections','lastBlockId','getValidWhatsAppNumbers','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','):\x20ev.flush\x20realizado','):Audio\x20processed','toFile','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','../env.yml','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','MESSAGES_UPDATE','CONTACTS_UPSERT','stopWhenYouSendMsg','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','replyOptions','The\x20\x22','filter','testingWith','END:VCARD','importChatsBatch','Número:\x20','key','lastUpdate','request\x20received\x20in\x20updateAutoCompleteMessages','mimetype','leadInfo','copy','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','formatBRNumber','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','):\x20Rótulo\x20atualizado:\x20','\x20chats\x20de\x20','):\x20não\x20encontrou','noConnection','deleteImportedChat','connection.update','removeData','stderr','request\x20received\x20in\x20getConversation','displayName','buttonText','saveVariable','message','):Converted\x20image\x20deleted','push','RemoteJid:','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','#92ceac','envProcess','sim','debug','footerText','Button\x20IDs\x20cannot\x20be\x20repeated.','IPv6\x20addresses\x20detected:\x20','Erro\x20ao\x20remover\x20label\x20','ip\x20-6\x20addr\x20add\x20','mediaKey','jwt','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','ScheduleMessageModel','fetchContacts','autoCompleteMessages','removed','updateProfilePicturePrivacy','body','isBase64','hGetAll','profilePicture','instancias:\x20','picture','command','CLEANING_INTERVAL','Subscribed\x20Events:','sendMenu','extractRegex','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','.error','send','long','qrcode.updated','Erro\x20inesperado\x20em\x20processvaredits:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','\x20com\x20sucesso.','):Image\x20path:\x20','getDevice','cacheContact','):\x20Entrou\x20na\x20função\x20processawaitSeconds','contactsArrayMessage','620SLCPBe','extractMessageContent','Generated\x20IPv6:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','flattenObject','configureIPv6','DisconnectReason','map','participants','FlowController','Fluxos\x20não\x20estão\x20ativados','replaceVariablesInObject','blocks','isAdmin','rowId','option','findWebhook','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','33eWKxYF','audio','fileName','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','CORS_METHODS','listMessage','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','application/json','):\x20Criando\x20fluxo\x20compartilhado...','promote','local_map','instanceKeys','Message','oldValue','test','messageContextInfo','ip\x20-6\x20addr\x20del\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','storePath','SINGLE_SELECT','getStatus','error','block','cacheContactModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','whoCanEdit','parseInt','ContactModel','Instance\x20\x22','updateGParticipate','SSL_CONF_PRIVKEY','editFlowReply','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','qrcode','existsSync','):Getting\x20image\x20from\x20url','hDel','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','lastSend','\x27\x20não\x20encontrado','Schema','awaitSeconds','AutomateFunctions','groupToggleEphemeral','delayChatLabel_MAX_RETRIES','verifiedName','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','PORT','Button\x20texts\x20cannot\x20be\x20repeated','webhook','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','response','menuMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','request\x20received\x20in\x20editFlowcondition','waMonitor','STORE_CLEANING_TERMINAL','email','abs','/wa-presence','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','not_announcement','toLocaleString','loadInstance','request\x20received\x20in\x20editFlow','cpf','):\x20Deletando\x20mensagem','uazapiDeleteMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','Last\x20message\x20not\x20found','backgroundColor','editFlowGroup',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','loadEnv','.mp4','valid','and','timeout','done','isJidUser','eventEmitter','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Close\x20connection','newValue','default','Instance\x20ID:','condition','updateGroupsAddPrivacy','isJWT','DARK','updateAutoCompleteMessages','updateProfileStatus','localWebhook','):\x20Editando\x20replyOption...','PENDING','deleteInstance','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','messaging-history.set','EXPIRIN_IN','cwd','updateStatusPrivacy','PRIVKEY','fetchPrivacySettings','KEY','findMessages','reconnectAttempts','DATABASE_ENABLED','/startFlow/:instance/:startID','view\x20engine','addBlock','\x20depois\x20','chatLog','):\x20leadInfoVariables','):\x20Usando\x20extensão\x20padrão:\x20','$pull','Variável\x20não\x20encontrada!','.ppt','deleteChat','getOwnPropertyNames','userDevicesCache','):Error\x20in\x20converting\x20audio','convertaudioMP3','idSchedule','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','createConversationforStartFlow','request\x20received\x20in\x20scheduleMessage','reactionMessage','upsertChats','mkdirSync','split','undefined','equal','request\x20body:\x20','defineAuthState','messages.set','changeVariables','errorLog','flows','headers','\x20removido\x20do\x20chat\x20','writeFileSync','address','end','unhandledRejection','COLOR','pollMessage','):\x20Entrou\x20na\x20função\x20clearVariables','telefone','Erro\x20ao\x20tentar\x20updateCustomFields','request\x20received\x20in\x20editFlowgroup','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','http','sendAudio','getMinutes','request\x20received\x20in\x20editConversation','Deleted\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','participant','unlocked','deleteReplyOption','\x1b[37m','Types','findLabels','importChatsAntigo','createIPv6',']\x20(','/instance/delete','slice','namespace','stopMinutes','contactHandle','GROUPS_UPSERT','.\x20Aguardando\x20','\x20-i\x20','values','Log\x20out\x20instance:\x20','.mp3','_fromMe','app-state-sync-key','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','@g.us','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','CHATS_DELETE','eventemitter2','STATUS_INSTANCE',',\x20Expiration\x20Time:\x20','authModel','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','mentions','sendSticker','.jwt','Chat\x20com\x20ID\x20','):\x20Error\x20processing\x20conditions:\x20','fetchProfilePicture','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Background\x20color\x20is\x20required','Error\x20testing\x20IP\x20with\x20','\x0a*Você\x20respondeu*:\x0a','waitingMenu_ExpiredMessage','https://chat.whatsapp.com/','getScheduleMessageModelForOwner','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','AUTHENTICATION','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','everyOne','has','protocolMessage','messages','\x20tentativas.','error_log','BufferJSON','https://uazapi-plugin.bubbleapps.io/','use','DATABASE_CONNECTION_HOST','URL','buttonId','js-yaml','):\x20whoCanEdit\x20after\x20validation:\x20','isCommunity','indexOf','exit','@s.whatsapp.net','):\x20Buscando\x20conversas...','mongoose','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','contactMessage','-whatsapp-api','output','):\x20alterando\x20this.AutomateSystem','blockId','fetchLabels','Imagem\x20não\x20encontrada','messages.update','scheduleNextCheck','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','choices','encoding','):\x20Não\x20achou\x20nenhum\x20flow','replace','digest','BRL','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','menuType','nomecompleto','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','webhookMap','authState','HH:mm:ss','endSession','getOwnPropertyDescriptor','.webm','buttonMessage','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','addReplyOption','\x27\x20do\x20banco\x20de\x20dados...','):\x20conversation.status:\x20','website','capitalizedWords','labels.edit','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','getBase64FromMediaMessage','getMessage','clearVariables','linkPreview','toString','CHATS_UPSERT','getTime','):\x20Falha\x20ao\x20deletar\x20mensagem.','expiration','\x1b[32m','DaysToDelete','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','reviver','dbInstance','randomMac','statusJidList','status.instance','):Sending\x20audio\x20whatsapp','\x0a{\x20instance:\x20','sendWhatsAppAudio','Erro\x20ao\x20aplicar\x20varedit:\x20','allFlows','automateSystem','getContactModelForOwner','Telefone:\x20','generateWAMessageFromContent','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','sendMessageAck','decryptPollVote','-instances','groupSetting','createGroup','\x22\x20not\x20found','editOperator','waInstances','groupMemberAddMode','recording','ON\x20-\x20dbName:\x20','JWT','\x1b[30m%s\x1b[0m','Rótulo\x20deletado:\x27,\x20','\x20minutos...','startFlowWebhook','REDIS_PREFIX_KEY','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','conditions','Erro\x20ao\x20encerrar\x20a\x20API','createflow','GROUP_PARTICIPANTS_UPDATE','connect','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','\x1b[1m','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','chatId','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','media','announcement','editflowblock','groupMetadata','online',',\x20Novo\x20tamanho:\x20','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','\x1b[32m%s\x1b[0m','Erro\x20ao\x20normalizar\x20a\x20mensagem:','normalizeMessageContent','lowerCase','InstancesAlterarTodas','no.connection','editFlowCondition','size','createConnection','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Erro\x20ao\x20arquivar\x20chat','):\x20whoCanUse\x20before\x20validation:\x20','image','replaceOne','Network\x20Interface\x20detected:\x20','processblock','pairingCode','.X-ABLabel:Celular\x0a','sharp',',\x20global:\x20','uazapiSendText','*\x0a\x0a','Error\x20parsing\x20JSON:','lastCondition','ReplyOption\x20com\x20ID\x20','SERVER_ACK','convertaudio','waitingMenu_id','.xlsx','.url','customFields','convertToWebP','buffer','Error\x20writing\x20file:\x20','variablesToObject','Erro\x20ao\x20inserir\x20chats:','enviado\x20para','assign','):Notifying\x20clients\x20for\x20chat:\x20','startCommandWord','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','phoneNumber','):\x20Buscando\x20todos\x20os\x20fluxos...','Esse\x20fluxo\x20expirou','defineProperty','AutomateSystem\x20não\x20foi\x20inicializado','Valor\x20da\x20URL\x20recuperada:','editFlowVaredit','onTime','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):Output\x20path:\x20','groups_ignore','groupDesc','shareFlow','/wa-contacts','CacheContacts\x20database\x20connection\x20closed.','/*.json','match','Invalid\x20format','SERVER_OFFLINE','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','updateAll','lastMessage','/wa-qrcode','this.reconnectAttempts:\x20','VERBOSE','unknown\x20operation\x20type\x20[','):\x20Conversa\x20está\x20expirada','apply','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','latitude','):\x20Comando\x20desconhecido:\x20','empty','generate','modifiedCount','Erro\x20ao\x20criar\x20fluxo','\x1b[33m','query','groupValidate','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Error\x20fetching\x20group','beautifyWithPlaceholders','pop','lastSendMessage','off','Missing\x20global\x20api\x20key','archive','STORE_CONTACTS','redirect','groupId','drop','/instance/create','replacer','119DXovGR','downloads','format','createNewConversation','):\x20Editando\x20grupo\x20do\x20fluxo...','longitude','notEqual','API\x20Key\x20inválida.','contact_blacklist','endsWith','updateBlock','updateProfilePicture','messageHandle','CORS','editFlowVariable','processvaredits','GROUPS_UPDATE','stanzaId','#fe9dfe','originalUrl','processScheduleFlow','Parando\x20aplicação,\x20atualização\x20recebida','video','greater','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','):\x20Iniciando\x20bot...','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','transformScheduledMessagesByType','findById','deleteConversation','last','):\x20Entrou\x20na\x20função\x20scheduleFlow','length','listType','ListMessage','errors','#fed428','message_normalized','responsavelid','getReadyToSendMessages','.doc','throwAndLogError','stopConversation','deleteOne','getUpdate','WA\x20MODULE','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20getAutomateSystem','flowStopConversation','Erro\x20ao\x20adicionar\x20label\x20','getTicketSystem','webhookService','chatHandle','reduce','\x1b[47m','_activedCount','flowConfig','unlinkSync','editConversation','.gif','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','createOrUpdate','):\x20Buscando\x20conversa...','\x20não\x20encontrado\x20para\x20cópia','remove.instance','redisEnv','groupFetchAllParticipating','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','#f64847','sendList','header','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','json','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','mediaSticker','every','generateHash','remoteJid','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','Falhou\x20ao\x20encontrar\x20chat\x20','Message\x20absent\x20from\x20node','tags','state','lastRealGroupsFetch','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','minutesToClose','DELIVERY_ACK','\x20-y','leadInfo.','presence.update','The\x20global\x20api\x20key\x20must\x20be\x20set','Configuração\x20SSL\x20recuperada:','.docx','):Delete\x20chat','mediaMessage','QRCODE_UPDATED','fromObject','):\x20conversation.lastInteraction:\x20','chats.set','ff:fe','leadInfo.etiquetas','pt-BR','subject','updateMissingCustomFields','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','group','initializeQueue','convertToString','substring','URL\x20completa:','Last\x20message\x20not\x20found\x20for\x20number:\x20','scheduleMessage','getDelay','):Fetching\x20business\x20profile','updateReplyOption','description','IP\x20confirmed:\x20','uuid','createWebhook','newStoppedUntil','events','updateConversation','.xls','):\x20Mensagem\x20já\x20enviada\x20para\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','findContacts','createInstance','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','processawaitSeconds','available','.ogg','content-type','ChatRouter','):\x20Query\x20params:','remote\x20\x22origin\x22','\x1b[41m','params','isListOfNumbers','uncaughtException','sending','document','#d8e651','):\x20Flow\x20desativado','sendPresenceUpdate','Database\x20update\x20result:','padEnd','_ScheduleMessages','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','code','Filtered\x20network\x20interfaces:\x20','repository','list','updateLastSeenPrivacy','urlencoded','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','webp','\x20horas\x20e\x20','LOG','formatStatusMessage','Instância\x20não\x20encontrada.','\x20and\x20data:','contacts.upsert','loadWebhook','updatePresence','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','@ffmpeg-installer/ffmpeg','createJid','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','request\x20received\x20in\x20updateAgent','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','creation','TYPE','findManyByIds','FlowRouter','#ff9484','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','lean','remoteJids','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','XX:XX:XX:XX:XX:XX','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','METHODS',',\x20lastCondition:\x20','flowConversation','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Falta\x20informação\x20para\x20a\x20chamada\x20API','deleteDoneMessages','.mimetype','RemoveChatLabel','fetchStatus','recebido\x20de','sendLocation','ListType','\x20mensagens\x20de\x20','shareOwners','upperCase','autoCompleteMessages.command','\x20minutos','eventHandler','deleteFlow','convert','approve','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','!stop','Not\x20allowed\x20by\x20CORS','@broadcast','bodyStringErrorParse','etiquetas','reference','\x27\x20removido\x20do\x20AutomateSystem.','findChats','number','Data\x20inválida\x20fornecida','delaySecMin','author','\x1b[43m','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','https://jsonip.com','Subdomínio\x20final:','groupParticipantsUpdate','audio/ogg;\x20codecs=opus','):\x20Criou\x20conversa\x20no\x20startFlow','Router','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','chats.upsert','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','MAX_SAFE_INTEGER','Falha\x20ao\x20criar\x20IPv6.','AddUserFlow','https://api.ipify.org?format=json','variablesNotFound','spawn','processApiRequest','fetchProfile','uazapiSendContact','Instance\x20restarted','router','#9568cf','Error\x20in\x20chatModify\x20for\x20number\x20','\x1b[36m%s\x1b[0m','from','):\x20conversation.waitingMenu_name','.\x20Pulando.','_Messages','currency','delayChatLabel','process','request\x20received\x20in\x20allFlows','sort','HeaderType','Erro\x20ao\x20atualizar\x20o\x20flow.','IPv6\x20address\x20configured:\x20','updateCustomFields','admin','editMessagesInGroup','}}\x20->\x20valor\x20não\x20encontrado','fetchProfilePictureUrl','/media/','superadmin','dbClient',',\x20canSendMessage:\x20','/wa-connection-update','_id','CHATS_SET','gifPlayback','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','SSL_CONF_FULLCHAIN','memberAddMode','arrayUnique','when','):\x20Entrou\x20na\x20função\x20goToFlow',',\x20qrcodeCount:\x20','iniciando\x20fluxo\x20router','lastReceivedMessage','DATABASE_CONNECTION_PASSWORD','https://api.elevenlabs.io/v1/text-to-speech/','collection','AddChatLabel','child_process','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','max','revokeInviteCode','exec','contextInfo','upsertedCount','result','entries','getChatModelForOwner','optionName','desativadoFluxoAte','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','apiResponse','badSession','\x1b[31m%s\x1b[0m','Valor\x20inicial:\x20\x22','verbose','pictureUrl','Logger','REDIS','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','8EgPTQc','USER','Erro\x20ao\x20editar\x20agentes','sendPoll','created','msgRetryCounterCache','):Audio\x20converted\x20and\x20stored\x20in\x20cache','):\x20debug\x20alterando\x20this.AutomateSystem','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','class-validator','random','loggedOut','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','instanceCount','\x20segundos','^\x5cd+([-]\x5cd+)*@g.us$','redis://127.0.0.1:6379','public','request\x20received\x20in\x20deleteFlow','reject','EMAIL:','Database\x20is\x20not\x20enabled','contact','parse','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','truncatedto','trim','CREDENTIALS','headerString','deleteAll','#ffffff','synchronizeAndMapFlows','delayChatLabel_RETRY_DELAY_MS','Read\x20messages','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','awaitingApproval','NextBlock','toNumber','):\x20newFirstValue\x20após\x20replaceVariables:','utf8','Instance\x20Key\x20from\x20DB:','pow','variables','createServer','):\x20Grupo\x20','findOrCreate','segundos','delay','Connection\x20closed\x20for\x20instance:\x20','evaluateCondition','paused','creds','reconnectTimestamps','request\x20received\x20in\x20updateCustomFields','emit','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','\x5cd+','padStart','vote','SEND_MESSAGE','locked','subjectTime','):including\x20timestamp\x20in\x20url:\x20','findAll','uazapiSendAudio','execSync','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','RECONNECT_TIME_FRAME','processUazapi','updateChatWithMessage','StatusJidList\x20is\x20required','processConditions','inviteUrl','sendStatus','_FlowHistorico','\x27\x20não\x20encontrado\x20na\x20memória','saveChatVariables','match_last_seen','item','deleteBlock','enabled','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','):\x20Adicionando\x20\x27','\x1b[33m%s\x1b[0m','https','/wa-message','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','deleteMessageForEveryone','):\x20Entrou\x20na\x20função\x20saveReply',',\x20received\x20','reorderReplyOptions','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Flow\x20iniciado\x20com\x20','whoCanUse','saveCreds','model','downloadMediaMessage','createFlow','saveConversationToDatabase','Esse\x20fluxo\x20não\x20permite\x20importação.','http://checkip.dyndns.org','groups.upsert','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','READ','groupCreate','pollErrorMessage','instanceName','statusMessage','pollUpdateMessage','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','height','\x20is\x20already\x20in\x20use.','getMIMEType','\x20adicionado\x20ao\x20chat\x20','variable','text','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','):\x20Editando\x20condição\x20do\x20fluxo...','getLabelModelForOwner','toUpperCase','rm\x20-rf\x20','findFlow','varedit','startsWith','Resultado\x20da\x20correspondência\x20de\x20URL:','express','.png','cleanStore','readdirSync','PRODUCT_LIST','closed','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','compression','pm2\x20flush','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','groups',',\x20pairCode:\x20','contentText','connectedClient','284770xBPAEB','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','updateMany','menuIgnoreNonVotes','closeExistingConversations','Erro\x20ao\x20copiar\x20o\x20documento','sendMessage','updateOneById','Operador:\x20\x22','Limpando\x20logs\x20do\x20PM2...','readMessageBot','maxActives','pre','updateStopChat','put','inner','Garbage\x20collection\x20não\x20está\x20disponível.','groupInviteCode','):\x20expirationTime:\x20','restrict','toBrazilianNumberFormat','stateConnection','finish','groupdata.participants','pollCreationMessage','The\x20property\x20cannot\x20be\x20empty','Authentication\x20error','toggleEphemeral','Not\x20is\x20business\x20profile','messageType','):\x20Fluxos\x20não\x20estão\x20ativados','remove','):\x20isVote:\x20','):\x20\x27Enviando\x20audio\x20para\x20\x27','start','_Contacts','\x20quoted:\x20','caption','Flow\x20iniciado','Error\x20fetching\x20and\x20updating\x20profile:\x20','#ffae04','\x0aFN:','jid','fora\x20do\x20git','status','triedToSend','isJidBroadcast','STORE_CHATS','):Image\x20is\x20base64','Erro\x20ao\x20atualizar\x20cacheInstance:','setHeader','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','.wav','sendText','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','vcard','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Contacts\x20not\x20found','#00a1f2','findMany','getConversation','replaceVariablesInReplyOptions','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','copyBlock','getAutomateSystem','\x1b[44m','_error','sendReaction','!cmd_','delayMessage','all_member_add','Font\x20is\x20required','enumerable','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','contacts.update','viewOnceMessage','SERVER','AUTHENTICATION_API_KEY','updateOnlinePrivacy','lastFetchAwaitingApproval','chatModify','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','initAuthCreds','activatedCount','Parando\x20aplicação...','):\x20Buscando\x20flow...','Conexão\x20estabelecida','textMessage','.jpg','delete','less','p-queue','#000000','conversationTimestamp','chat\x20não\x20encontrado','birthtime','path','update','connectedName','sendMessageWithTyping','varedits','folder','exists','request\x20received\x20in\x20updateFlowConfig','presence','#b4ebff','Partes\x20do\x20domínio:','keys','):\x20','createClient','cleaningUp','get','replaceValue','Novo\x20IP\x20criado:\x20','open','):\x20atualização\x20chat:\x20','matchRegex','editFlowBlock','rows','Erro\x20ao\x20editar\x20o\x20chat','normalizeMessage','options','Content-Type','webhookModel','out','/instance/fetchInstances','findAndUpdateCacheContact','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','\x20instance\x20does\x20not\x20exist','hbs','muteEndTime','groupadd','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','updateGParticipant','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','/:instanceName','/clients-info','startCommand','isValidIPv6Config','stopped','Retornando\x20grupos\x20COM\x20cache','Erro\x20ao\x20iniciar\x20fluxo:\x20','findOneAndUpdate','fetchLatestBaileysVersion','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'];a0_0x3ea5=function(){return _0x5c36d2;};return a0_0x3ea5();}var {subdomain:W,fullURL:qs}=rr(S);console[a0_0x341dd0(0x3c3)](a0_0x341dd0(0x71b),W),console[a0_0x341dd0(0x3c3)](a0_0x341dd0(0x6ac),qs);async function nr(){const _0x3a3945=a0_0x341dd0;let _0x2c461b=S[_0x3a3945(0x86a)]('REDIS'),_0x19c06a=S[_0x3a3945(0x86a)](_0x3a3945(0x562))[_0x3a3945(0x8b6)][_0x3a3945(0x4fd)],_0x5da992=S['get'](_0x3a3945(0x321)),_0x46f48a=await qi(),_0x5d45f0=S[_0x3a3945(0x86a)](_0x3a3945(0x847))[_0x3a3945(0x4c4)],_0x16f6c9=qs;try{let _0x5c14e7={'ip':_0x46f48a||null,'redis_enable':_0x2c461b?.[_0x3a3945(0x225)]||null,'apikey':_0x19c06a||null,'ssl':_0x5da992?.[_0x3a3945(0x4fb)]||null,'lastupdate':Vi||null,'port':_0x5d45f0||null,'gitInstallError':Re?.[_0x3a3945(0x450)]||null,'url':_0x16f6c9||null,'subdomain':W};if(console[_0x3a3945(0x3c3)]('ip:\x20',_0x5c14e7['ip']),_0x2c461b&&_0x2c461b[_0x3a3945(0x225)]){let _0xa2fd35=await or();_0x5c14e7[_0x3a3945(0x77b)]=_0xa2fd35||null;}for(let _0x5e4a18 in _0x5c14e7)_0x5c14e7[_0x3a3945(0x324)](_0x5e4a18)&&_0x5e4a18!=='ip'&&(_0x5c14e7[_0x5e4a18]=JSON[_0x3a3945(0x3c8)](_0x5c14e7[_0x5e4a18]));return(await Je[_0x3a3945(0x4ea)][_0x3a3945(0x212)](_0x3a3945(0x5ac),_0x5c14e7))[_0x3a3945(0x210)];}catch(_0x54eacf){return console[_0x3a3945(0x4a8)](_0x54eacf),!0x1;}}var Us=!0x1,Vi=0x267,cr=0x3,Li=0x1b7740;async function Js(){const _0x5c09df=a0_0x341dd0;let _0x25a8db=_0x5c09df(0x825);Re===null&&(_0x25a8db=await qi());let _0x3db038=await nr();if(_0x3db038){if(_0x3db038[_0x5c09df(0x4c8)][_0x5c09df(0x34d)]===!0x0){Re===null&&_0x3db038[_0x5c09df(0x4c8)]['last_update']-Vi>0x0&&await lr(),Us||(Us=!0x0,er());let _0x46b13b=0x24*0x3c*0x3c,_0x28b7bb=_0x3db038[_0x5c09df(0x4c8)]['segundos']>_0x46b13b?_0x46b13b:_0x3db038[_0x5c09df(0x4c8)][_0x5c09df(0x79c)],_0x17705d=Number(_0x28b7bb);if(isNaN(_0x17705d)){console[_0x5c09df(0x4a8)](_0x5c09df(0x415));return;}let _0x234646=Math[_0x5c09df(0x3d0)](_0x17705d/0xe10),_0x41d04e=Math['floor'](_0x17705d%0xe10/0x3c),_0x360187=new Date(Date[_0x5c09df(0x20e)]()+_0x17705d*0x3e8);setTimeout(Js,_0x17705d*0x3e8);let _0x5b4c80=_0x29a927=>_0x29a927[_0x5c09df(0x5a5)]()[_0x5c09df(0x7a7)](0x2,'0'),_0x56f7f0=_0x5c09df(0x40e)+_0x5b4c80(_0x234646)+_0x5c09df(0x6db)+_0x5b4c80(_0x41d04e)+'\x20minutos.\x20Será\x20às\x20'+_0x5b4c80(_0x360187[_0x5c09df(0x215)]())+':'+_0x5b4c80(_0x360187[_0x5c09df(0x530)]())+'.';console[_0x5c09df(0x3c3)](_0x56f7f0);}else return console[_0x5c09df(0x3c3)](_0x5c09df(0x7a5)),Us&&(console[_0x5c09df(0x3c3)](_0x5c09df(0x8ad)),process[_0x5c09df(0x577)]()),'LICENSE_INVALID';}else{if(ki++,ki<cr)console['log'](_0x5c09df(0x7d4)+Li/0xea60+_0x5c09df(0x5ca)),setTimeout(Js,Li);else return console[_0x5c09df(0x4a8)](_0x5c09df(0x897)),_0x5c09df(0x61c);}}async function lr(){const _0x2f44a0=a0_0x341dd0;console[_0x2f44a0(0x3c3)](_0x2f44a0(0x653)),console[_0x2f44a0(0x3c3)](_0x2f44a0(0x803)),(0x0,rs['spawn'])(_0x2f44a0(0x7f4),{'shell':!0x0})['on'](_0x2f44a0(0x354),_0x3925f8=>{const _0x266575=_0x2f44a0;_0x3925f8!==0x0?console[_0x266575(0x4a8)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0x266575(0x3c3)](_0x266575(0x496)),console[_0x266575(0x3c3)](_0x266575(0x7b0)),(0x0,rs[_0x266575(0x728)])(_0x266575(0x7f2),{'shell':!0x0})['on'](_0x266575(0x354),_0x37a007=>{const _0x144cdf=_0x266575;if(_0x37a007!==0x0)console[_0x144cdf(0x4a8)](_0x144cdf(0x598));else{console[_0x144cdf(0x3c3)](_0x144cdf(0x7bf));let _0x544c13=(0x0,rs[_0x144cdf(0x728)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x544c13[_0x144cdf(0x218)]['on'](_0x144cdf(0x210),_0x53b0d3=>{console['log']('Atualização:\x20'+_0x53b0d3);}),_0x544c13['stderr']['on'](_0x144cdf(0x210),_0x1658d7=>{const _0x20dbca=_0x144cdf;console['error'](_0x20dbca(0x307)+_0x1658d7);}),_0x544c13['on'](_0x144cdf(0x577),_0x4afe3d=>{const _0x230f01=_0x144cdf;_0x4afe3d!==0x0?console[_0x230f01(0x4a8)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x4afe3d):console[_0x230f01(0x3c3)](_0x230f01(0x398)),console[_0x230f01(0x3c3)](_0x230f01(0x84f)),setTimeout(()=>process[_0x230f01(0x577)](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});